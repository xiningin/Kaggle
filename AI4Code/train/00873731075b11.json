{"cell_type":{"7268fac0":"code","22ecad07":"code","7f6e60a4":"code","8d76c9e9":"code","5a08ea36":"code","dfab4d8b":"code","77eaa690":"code","68428f17":"code","7535dd03":"code","9ab39a32":"code","d466a648":"code","105f6b81":"code","9a607ff1":"code","96cc9d83":"code","67a4c4ab":"code","7345a87f":"code","0538b5f3":"code","518988b9":"code","73faea05":"code","9cf50fbd":"code","8b0bc6e6":"code","4712b1de":"code","2515ce74":"code","6baf6174":"code","e953292d":"code","0cadd72b":"code","ef8ef131":"code","1a8957cd":"code","03099e76":"code","68a6e6d4":"code","affb850d":"code","a7ee328a":"code","be4ee96f":"code","0fee66b4":"code","34ea4c2b":"code","ac003625":"code","7bef39e4":"code","8faab225":"code","de92ce12":"code","416ad2bc":"code","ebf75ff7":"code","433208b2":"code","414b3bbe":"code","624565a0":"code","a655e2c9":"code","ed99e9ca":"code","c5e91362":"code","cce8b113":"code","883e3372":"code","ebd6986a":"code","fec61973":"code","e0827bed":"code","e77a1a12":"code","9e6eebbf":"code","7dbea50a":"code","b8180ca3":"markdown","230bf862":"markdown","4ac52e66":"markdown","8ac33ac1":"markdown","ec8c2de3":"markdown","722cf342":"markdown","bec35d3c":"markdown"},"source":{"7268fac0":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import StratifiedKFold","22ecad07":"data=pd.read_excel(\"Book1.xlsx\")","7f6e60a4":"data.head()","8d76c9e9":"non_num=[]\nfor i in data.columns:\n    if data[i].dtype==\"object\":\n        non_num.append(i)\n        \nprint(non_num)","5a08ea36":"#data_1=data[non_num].drop(labels=[\"Job Satisfaction\"],axis=1)\nnon_num.remove(\"Job Satisfaction\")","dfab4d8b":"data_1=data[non_num]\ndata_1","77eaa690":"from sklearn.preprocessing import LabelEncoder","68428f17":"num=LabelEncoder()\n","7535dd03":"#data_1[\"BusinessTavel_en\"]=num.fit_transform(data_1[\"BusinessTravel\"])","9ab39a32":"def encode(x):\n    data_1[x +\"_en\"]=num.fit_transform(data_1[x])\n","d466a648":"for i in data[non_num]:\n    encode(i)","105f6b81":"data_1","9a607ff1":"final=data_1[[\"BusinessTravel_en\",\"Department_en\",\"Education Field_en\",\"Gender_en\",\"JobRole_en\",\"Marital Status_en\",\n                    \"Over Time_en\"]]","96cc9d83":"abc=data[[\"Age\",\"Distance From Home\",\"Percent Salary Hike\",\n         \"Performance Rating\",\"Relationship Satisfaction\",\n          \"Total Working Years\",\"Years At Company\",\"Years In Current Role\",\"Years Since Last Promotion\",\n          \"Years With Curr Manager\",\"Job Satisfaction\"]]","67a4c4ab":"result=pd.concat([abc,final],axis=1)","7345a87f":"result.head()","0538b5f3":"result[\"Monthly Income\"]=data.iloc[:,9]","518988b9":"result.head()","73faea05":"result[\"Job Satisfaction\"].replace(\"Yes\",1,inplace=True)\nresult[\"Job Satisfaction\"].replace(\"No\",0,inplace=True)","9cf50fbd":"matrix=result.corr()","8b0bc6e6":"matrix","4712b1de":"from sklearn.naive_bayes import GaussianNB","2515ce74":"clf_naive=GaussianNB()","6baf6174":"model=clf_naive.fit(x_train,y_train)","e953292d":"clf_naive.score(x_train,y_train)","0cadd72b":"pred_naive=clf_naive.predict(x_test)","ef8ef131":"accuracy_score(y_test,pred_naive) ","1a8957cd":"for i in range(19):\n    for j in range(19):\n        \n        if matrix.iloc[j,i]>=0.6 and matrix.columns[i]!=matrix.columns[j]:\n            print(i+1,\".\",matrix.columns[i],\" : \",matrix.columns[j],\"(correlation value > 0.6)\")","03099e76":"matrix.sort_values(by=\"Job Satisfaction\",ascending=False)[\"Job Satisfaction\"]","68a6e6d4":"from sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.metrics import accuracy_score","affb850d":"y=result[\"Job Satisfaction\"]\nx=result.drop(labels=[\"Job Satisfaction\",\"Years At Company\",\"Years With Curr Manager\",\n                      \"Total Working Years\",\"Percent Salary Hike\",\"Department_en\"],axis=1)\nx_train,x_test,y_train,y_test=train_test_split(x,y, test_size=0.2,random_state=42)","a7ee328a":"forest=RandomForestClassifier()","be4ee96f":"hyperparam={\"n_estimators\":[40,30,50],\n            'max_features' : ['auto','log2','sqrt'],\n            'max_depth': [5,6,8]}\n","0fee66b4":"clf_1=GridSearchCV(forest,hyperparam,cv=10)","34ea4c2b":"skfolds=StratifiedKFold()","ac003625":"for train_index, test_index in skfolds.split(x_train,y_train):\n    print(train_index,test_index)\n    x_train_folds = x_train.iloc[train_index]\n    y_train_folds = y_train.iloc[train_index]\n    x_test_folds = x_train.iloc[test_index]\n    y_test_folds = y_train.iloc[test_index]","7bef39e4":"clf_1.fit(x_train_folds,y_train_folds)","8faab225":"clf_1.best_score_","de92ce12":"pred=clf_1.predict(x_test)","416ad2bc":"accuracy_score(y_test,pred)","ebf75ff7":"clf_1.best_params_","433208b2":"from sklearn.metrics import plot_confusion_matrix\nplot_confusion_matrix(clf_1,x_test,y_test)\nplt.show()","414b3bbe":"from sklearn.neural_network import MLPClassifier\ndnn_clf = MLPClassifier()","624565a0":"hyperparameter_3 = {\"hidden_layer_sizes\":[[500]*2,[100]*3,[100]*5]}","a655e2c9":"clf03 = GridSearchCV(dnn_clf,hyperparameter_3,cv=30)","ed99e9ca":"clf03.fit(x_train_folds,y_train_folds)","c5e91362":"print(clf03.best_estimator_,clf03.best_score_)","cce8b113":"from sklearn.svm import SVC\nfrom sklearn.model_selection import RandomizedSearchCV","883e3372":"clf_svc = SVC(random_state=42,decision_function_shape=\"ovo\")","ebd6986a":"hyperparameters_3 = {\"kernel\":[\"rbf\",\"poly\",\"sigmoid\",\"linear\"],\n                    \"degree\":[3,6,12]}","fec61973":"clf04 = GridSearchCV(clf_svc,hyperparameters_3,cv=10,n_jobs=-1)","e0827bed":"clf04.fit(x_train_folds,y_train_folds)","e77a1a12":"print(clf04.best_estimator_,\n     clf04.best_score_)","9e6eebbf":"#For MLPclassifier\npred=clf03.predict(x_test)\naccuracy_score(y_test,pred)","7dbea50a":"#For SVM\npred=clf04.predict(x_test)\naccuracy_score(y_test,pred)","b8180ca3":"Employee attrition is a very big problem globally. Attrition rate is increasing day by day, and\nespecially the software industry is affected the most in the present era. Why an Employee\nleaves a company is the question asked by most of the employers.\n\n1. Understand the drivers of Job Satisfaction\n2. A prediction system which can predict Job Satisfaction based on other attributes","230bf862":"### Score","4ac52e66":"### Naive Bayes","8ac33ac1":"## SVM","ec8c2de3":"### Neural Network","722cf342":"#### Attributes to be removed on the basis of correlation ship\n- \"Years At Company\"\n- \"Years With Curr Manager\"\n- \"Total Working Years\"\n- \"Percent Salary Hike\"\n- \"Department_en\"","bec35d3c":"### Stratified Sampling to avoid imbalancing in data."}}