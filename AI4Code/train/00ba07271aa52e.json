{"cell_type":{"4d3cbc03":"code","90cbf1a3":"code","16ffa694":"code","8c4bd48c":"code","d8b88791":"code","5ed1dfe1":"code","497d51dc":"code","4d0d7d64":"code","2ec94ecf":"code","9056a16b":"code","b2f43f2c":"code","d08d5c31":"code","b126edd1":"code","4462948c":"code","1de878ae":"markdown","f945af52":"markdown"},"source":{"4d3cbc03":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","90cbf1a3":"import torch\nfrom transformers import T5ForConditionalGeneration,T5Tokenizer\nimport ast\n\ndef set_seed(seed):\n    torch.manual_seed(seed)\n    if torch.cuda.is_available():\n        torch.cuda.manual_seed_all(seed)\n\nset_seed(42)\n\nmodel = T5ForConditionalGeneration.from_pretrained('\/kaggle\/input\/answergen\/')\ntokenizer = T5Tokenizer.from_pretrained('t5-base')\n\ndevice = torch.device(\"cuda\" if torch.cuda.is_available() else \"cpu\")\n# print (\"device \",device)\nmodel = model.to(device)","16ffa694":"def t5_answer(context,question):\n    con = \"context:%s \\n question:%s <\/s>\" %(context,question)\n    encoding = tokenizer.encode_plus(con, return_tensors=\"pt\")\n    input_ids, attention_masks = encoding[\"input_ids\"].to(device), encoding[\"attention_mask\"].to(device)\n    output = beam_search_decoding (input_ids, attention_masks)\n    return str(output)","8c4bd48c":"def beam_search_decoding (inp_ids,attn_mask):\n        beam_output = model.generate(input_ids=inp_ids,\n                                         attention_mask=attn_mask,\n                                         max_length=256,\n                                       num_beams=50,\n                                       num_return_sequences=2,\n                                       no_repeat_ngram_size=2,\n                                       early_stopping=True\n                                       )\n        Questions = [tokenizer.decode(out, skip_special_tokens=True, clean_up_tokenization_spaces=True) for out in beam_output]\n        return [Question.strip().capitalize() for Question in Questions]","d8b88791":"text = '''\nCoronavirus disease (COVID-19) is an infectious disease caused by a newly discovered coronavirus.\nMost people who fall sick with COVID-19 will experience mild to moderate symptoms and recover without special treatment. \nCoronavirus is mainly transmitted through droplets generated when an infected person coughs, sneezes, or exhales. \nThe Victorian Government announced Stay at Home Directions for metropolitan Melbourne and Mitchell Shire from 11:59pm on Wednesday 8 July until 11.59pm on Wednesday 19 August. \nThere are 4 reasons people in metropolitan Melbourne and the Mitchell Shire can leave home.\nThe reasons to leave home can be either shopping, work or study, medical treatment or for exercise.\nThe New South Wales border with Victoria closed at 12:01am on Wednesday 8 July 2020. There is a permit system in place for people who need to travel from Victoria into NSW. \nthe Victorian Government has announced that if you live in metropolitan Melbourne or Mitchell Shire, you must wear a face covering when you leave your home from 11.59pm on Wednesday 22 July 2020. \nthe Victorian Government has announced that metropolitan Melbourne and Mitchell Shire will return to Stage 3 Stay at Home restrictions from 11.59pm on Wednesday 8 July 2020.\nAll Year 11 and Year 12 students will go back to school for Term 3 as planned from 13 July, along with students at special schools.\nPrep to Year 10 students will return to school on Monday 20 July through remote and flexible learning. \nThe JobKeeper Payment scheme is a temporary subsidy for businesses significantly affected by coronavirus. Eligible employers, \nsole traders and other entities affected by coronavirus can apply to receive $1,500 per eligible employee per fortnight.\nOn 21 July the government announced an extension of Job Keeper through to 28 March 2021.\nThe Jobkeeper payment scheme runs for the fortnights from 30 March until 27 September 2020. \nEligible employees need to make a business monthly declaration to the ATO. Business can enrol\nany time within this period to claim JobKeeper. Sole traders may be eligible for the JobKeeper\nscheme under the business participation entitlement if their business has experienced a downturn \naccording to the eligibility criteria. From 20 July, approved providers of child care\nservicesExternal Link cannot claim JobKeeper payments for themselves or their employees\nwhose ordinary duties relate principally to the operation of the child care service.\nJobSeeker Payment is a financial help offered to people aged between 22 and pension age\nand looking for work. JobSeeker payment is offered to sick or injured people. Jobseeker\npayment is for every 2 weeks. A single with no children gets $1115.70 per fortnight as \nJobSeeker payment. A single with a dependent child gets $1,162.00 per fortnight as JobSeeker \npayment. Contact number for additional information on Job Seeker payment is 136240. \nCentrelink phone service is available 7 days a week, 24 hours a day. '''","5ed1dfe1":"quest2 = [\"What is the permit system in place for?\",\"Where do people need to travel to get to?\",\"What is the name of the system that allows people to travel from Victoria into NSW?\",\"What is in place for people who need to travel from Victoria into NSW?\"]","497d51dc":"for ques in quest2:\n    output = t5_answer(text,ques)\n    res = ast.literal_eval(output) \n    longest_string = max(res, key=len)\n\n    print(ques)\n    print(longest_string)","4d0d7d64":"text2 = 'The Victorian Government announced Stay at Home Directions for metropolitan Melbourne and Mitchell Shire from 11:59pm on Wednesday 8 July until 11.59pm on Wednesday 19 August. There are 4 reasons people in metropolitan Melbourne and the Mitchell Shire can leave home. The reasons to leave home can be either shopping, work or study, medical treatment or for exercise.'","2ec94ecf":"quest2= 'What are the reasons behind people leaving their homes in Melbourne?'","9056a16b":"output= t5_answer(text2, quest2)\nprint (quest2)\nprint(output)","b2f43f2c":"text = '''Tim is a skilled Software Testing professional. Tim's experience includes test team management, client and vendor \nmanagement, automation test engineering, test infrastructure creation and maintenance. \nTim is an expert in building testing teams from scratch. Tim puts together processes, strategies, tools and frameworks, \nskilled resources for efficient and seamless delivery. \nExpertise in designing and developing test strategy, test plan, test cases and generating test reports and defect reports.\nExtensive experience in coordinating testing effort, responsible for test deliverables,\nstatus reporting to management, issue escalations etc. Have Extensive experience in automating and \ntesting enterprise web applications using Selenium 1.0 and Selenium 2.0 (WebDriver) tool using both Microsoft and JAVA technology stack.\nTim is very good at JAVA, C# and python language programming. Tim has strong experience in C# programming using MS Visual Studio and\nother MS technology stack in particular MSTest unit testing framework. Tim has very good experience in setting up Continuous Integration\nenvironment using Team Foundation Server, creating Build definitions and management etc. Domain experience includes Superannuation, \nTelco, Insurance, Banking, Finance and healthcare domains. Tim's linkedin profile is https:\/\/www.linkedin.com\/in\/timothy-r-alex-ai\/.\nTim's contact phone number is 0470139767. Tim's email address is timothyrajan@gmail.com. \nTim has good exposure to gitlab and github hosting platforms.'''","d08d5c31":"question1= ['what is tims profession?',\n'Which programming languages does Tim know?',\n'what is tims linkedin profile?',\n'what is tims phone number?',\n'what is tims email address?',\n'what is tims exposure to gitlab?',\n'what are some tims domain experience?',\n'what is tims experience?',\n'does tim build testing teams from scratch?',\n'what does tim do?',\n'what is tims job?',\n'what experience does tim have?',\n'does tim have experience in automating and testing enterprise web applications?',\n'does tim have experience in c# programming?',\n'what experience does tim have in setting up continuous integration environment using team foundation server?',\n]","b126edd1":"question= ['What type of professional is Tim?',\n'What type of experience does Tim have?',\n'What is Tim an expert in doing?',\n'What does Tim put together for efficient and seamless delivery?',\n'What is Tims expertise in?',\n'What does Tim have extensive experience with?',\n'How does Tim automate and test enterprise web applications?',\n'What language programming is Tim good at?',\n'Does Tim have strong experience in C# programming?',\n'What does Tim have very good experience in setting up?',\n'What type of domain experience does Tim have?',\n'Where is Tims linkedin profile located?',\n'What is Tims contact number?',\n'What is the email address of Tim?',\n'Which hosting platforms does Tim have good exposure to?']","4462948c":"for ques in question:\n    output = t5_answer(text,ques)\n    res = ast.literal_eval(output) \n    longest_string = max(res, key=len)\n\n    print(ques)\n    print(longest_string)\n    print('\\n')","1de878ae":"## But now it struggles...","f945af52":"This notebook used T5 pretrained model on COSMOS dataset. It is useful for descriptive answer generation. \nFLAW: It sometimes lacks accuracy and doesn't gets to the point answers."}}