{"cell_type":{"2e48c0dd":"code","a2c97393":"code","cf4b2839":"code","30ae8e99":"code","679432db":"code","6bc4c401":"code","70915268":"code","7e09309c":"code","e229edec":"code","b51585c6":"code","4ba596a4":"code","d5739d67":"markdown","4191d0b0":"markdown","c6eec712":"markdown"},"source":{"2e48c0dd":"'''\nversion 1: only change es language values, then my lb score jump from 0.950  to 0.9503\nversion 2: only change es and fr language values, then my lb score jump from 0.950  to 0.9504\nversion 3: change  5 language values, then my lb score jump from 0.950  to 0.9509\n\n'''","a2c97393":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport torch\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nos.listdir('..\/input\/jigsaw-multilingual-toxic-comment-classification')\n\n# Any results you write to the current directory are saved as output.","cf4b2839":"#0.9476\ntest0 = pd.read_csv('\/kaggle\/input\/fastsub-test\/submission.csv')\ntest0.head()","30ae8e99":"#lb 0.9494\ntest1 = pd.read_csv('\/kaggle\/input\/kernel0531v4\/submission.csv')\ntest1.head()","679432db":"#lb 0.9478\ntest2 = pd.read_csv('\/kaggle\/input\/jmtfstsub0407\/submission.csv')\ntest2.head()","6bc4c401":"#This result should be lb 0.950\ntest3 = test1.copy()\ntest3['toxic'] = test1['toxic']*0.55 + 0.45*(test0['toxic']*0.5+test2['toxic']*0.5)","70915268":"test=pd.read_csv('..\/input\/jigsaw-multilingual-toxic-comment-classification\/test.csv')\ntest3=pd.merge(test3,test,on='id')\ntest3.head()","7e09309c":"test3.loc[test3[\"lang\"] == \"es\", \"toxic\"] *= 1.06\ntest3.loc[test3[\"lang\"] == \"fr\", \"toxic\"] *= 1.04\ntest3.loc[test3[\"lang\"] == \"it\", \"toxic\"] *= 0.97\ntest3.loc[test3[\"lang\"] == \"pt\", \"toxic\"] *= 0.96\ntest3.loc[test3[\"lang\"] == \"tr\", \"toxic\"] *= 0.98","e229edec":"test3.head()","b51585c6":"test3[['id','toxic']].to_csv('submission.csv', index=False)","4ba596a4":"test3['l']=test1['toxic']\ntest3.corr()","d5739d67":"## We  change 5 language values","4191d0b0":"# do the post process","c6eec712":"Use @Dieter 's post process to test  whether my submission can increase the lb score.\n"}}