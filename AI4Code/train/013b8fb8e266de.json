{"cell_type":{"60da4b65":"code","44035d40":"code","0186f0bd":"code","bd977126":"code","c53dc7ad":"code","4f8b2b61":"code","71ffad08":"code","3668fb0e":"code","ac9b378d":"code","3dc49355":"code","5eeb8aab":"code","4e25659f":"code","b5363232":"code","092df343":"code","92316ac1":"code","a0abfbb7":"code","4e74af07":"code","0c6aea2c":"code","44b174ee":"code","02f7e27a":"code","3fe2f0d2":"code","8c0510a4":"code","15672e24":"code","a61a9074":"code","f4d7aed6":"code","4cb2a8c9":"code","e8fc6949":"code","917b6d92":"code","5da306ef":"code","67de4021":"code","2e77faf1":"code","133009ee":"code","306cc119":"code","fa9d66e3":"code","1cd4b189":"markdown","9b066eab":"markdown","34dc3765":"markdown","4b1c838f":"markdown","f7d05a7c":"markdown","737905e1":"markdown","97c90eae":"markdown","52853670":"markdown","7d0ab840":"markdown","9b525ecc":"markdown","70f15217":"markdown","b309e8c8":"markdown","69af4451":"markdown","115879ab":"markdown","2e0b9f61":"markdown","dc300c66":"markdown","6ccf54ae":"markdown","ecb5a670":"markdown","011e24b1":"markdown","4f785f8b":"markdown","9feb57d8":"markdown","035410ce":"markdown"},"source":{"60da4b65":"import pandas as pd\nimport numpy as np\nfrom sklearn import linear_model\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.linear_model import LogisticRegression\nfrom matplotlib import pyplot as plt\n%matplotlib inline","44035d40":"df = pd.read_csv('..\/input\/health-insurance-cross-sell-prediction\/train.csv')","0186f0bd":"df.head(1)","bd977126":"df2 = df[\"Response\"].map({1: 'Intrested' , 0 : 'Not Intrested' })","c53dc7ad":"df3 = df.drop(columns =['Response'])","4f8b2b61":"df3.head(2)","71ffad08":"df4 = pd.concat([df2 , df3] ,axis = 'columns')","3668fb0e":"df4.head(2)","ac9b378d":"intrested = df4[df4.Response==\"Intrested\"]\nnot_intrested = df4[df4.Response == 'Not Intrested']","3dc49355":"intrested.shape","5eeb8aab":"not_intrested.shape","4e25659f":"df4.groupby('Response').mean()","b5363232":"pd.crosstab(df4.Driving_License,df4.Response).plot(kind='bar')","092df343":"pd.crosstab(df4.Gender,df4.Response).plot(kind='bar')\n","92316ac1":"pd.crosstab(df4.Vehicle_Age,df4.Response).plot(kind='bar')","a0abfbb7":"pd.crosstab(df4.Vehicle_Damage,df4.Response).plot(kind='bar')","4e74af07":"pd.crosstab(df4.Previously_Insured,df4.Response).plot(kind='bar')","0c6aea2c":"intrested.groupby('Gender').count()['id'].plot(kind = 'pie')\nintrested['Gender'].value_counts()","44b174ee":"intrested.groupby('Driving_License').count()['id'].plot(kind = 'pie')\nintrested['Driving_License'].value_counts()","02f7e27a":"intrested.groupby('Previously_Insured').count()['id'].plot(kind = 'pie')\nintrested['Previously_Insured'].value_counts()","3fe2f0d2":"intrested.groupby('Vehicle_Age').count()['id'].plot(kind = 'pie')\nintrested['Vehicle_Age'].value_counts()","8c0510a4":"intrested.groupby('Vehicle_Damage').count()['id'].plot(kind = 'pie')\nintrested['Vehicle_Damage'].value_counts()","15672e24":"df.head(1)","a61a9074":"dummies_Gender = pd.get_dummies(df.Gender, prefix = \"Gender\")\ndummies_License = pd.get_dummies(df.Gender, prefix = \"Driving_License\")\ndummies_Insured = pd.get_dummies(df.Previously_Insured, prefix = \"Previously_Insured\")\ndummies_age = pd.get_dummies(df.Vehicle_Age, prefix = \"Vehicle_Age\")\ndummies_damage = pd.get_dummies(df.Vehicle_Damage, prefix = \"Vehicle_Damage\")\nsubdf = df[['Age' , 'Annual_Premium']]","f4d7aed6":"final_df = pd.concat([subdf, dummies_Gender ,dummies_License ,  dummies_Insured ,dummies_age , dummies_damage ],  axis = 'columns')","4cb2a8c9":"final_df.head(1)","e8fc6949":"X = final_df","917b6d92":"y = df.Response","5da306ef":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X,y,train_size=0.3)\nmodel = LogisticRegression()\nmodel.fit(X_train, y_train)","67de4021":"model.score(X_test,y_test)","2e77faf1":"df_test = pd.read_csv('..\/input\/health-insurance-cross-sell-prediction\/test.csv')\ndummies_Gender_tst = pd.get_dummies(df_test.Gender, prefix = \"Gender\")\ndummies_License_tst = pd.get_dummies(df_test.Gender, prefix = \"Driving_License\")\ndummies_Insured_tst = pd.get_dummies(df_test.Previously_Insured, prefix = \"Previously_Insured\")\ndummies_age_tst = pd.get_dummies(df_test.Vehicle_Age, prefix = \"Vehicle_Age\")\ndummies_damage_tst = pd.get_dummies(df_test.Vehicle_Damage, prefix = \"Vehicle_Damage\")\nsubdf_tst = df_test[['Age' , 'Annual_Premium']]","133009ee":"final_df_tst = pd.concat([subdf_tst, dummies_Gender_tst ,dummies_License_tst ,  dummies_Insured_tst ,dummies_age_tst , dummies_damage_tst ],  axis = 'columns')","306cc119":"final_predictions = model.predict(final_df_tst)","fa9d66e3":"final_predictions","1cd4b189":"As shown Above 61% of the of the intrested cutomers are male while 39% are female","9b066eab":"3 : Age of the car of the customer ","34dc3765":"2 : Gender Of the customer ","4b1c838f":" NOW WE SHALL ANALYSE THE PEOPLE WHO ARE INTRESTED IN PURCHASING THE INSURANCE ","f7d05a7c":"4 : If the car has been previously damaged","737905e1":"AS HIGHLIGHTED THE IMPORTANT FACTORS IN THIS MODEL ARE \n1 : If the Customer posses a driving liscence\n\n2 : Gender Of the customer\n\n3 : Age of the car of the customer\n\n4 : If the car has been previously damaged\n\n5 : If the customer is aldready insured","97c90eae":"3,34,399 people are not intrested in taking the car_insurance","52853670":"Obviously people with a driving liscence are more likely to take a car related insurance (0 : Customer does not have DL, 1 : Customer already has DL)","7d0ab840":"46,710 people are intrested in taking the car_insurance","9b525ecc":"So from the above Graphs we can conclude that the most important factors to consider on if a customer is intrested in buying insurance will are:","70f15217":"Customers who dont have an insurance are more likely to purchase car insurance    (1 : Customer already has Vehicle Insurance, 0 : Customer doesn't have Vehicle Insurance)","b309e8c8":"1 : If the Customer posses a driving liscence ","69af4451":"As shown Below if a customers car has been damaged in the past the customer is more intrested in purchasing car insurance","115879ab":"Male customers are more likely to take a car insurance as compared to female customers","2e0b9f61":"HENCE WE SHALL CONSIDER THESE FACTORS WHILE MAKING THE MODEL","dc300c66":"5 : If the customer is aldready insured ","6ccf54ae":"As Shown Above less than 0.01% of the people who dont have a Lisence are intrested in purchasing the vehical insurance","ecb5a670":"As shown Above the newer the car more likely is the customer to take the Vehicular insurance","011e24b1":"As Shown above 74% of the people who have a car that is 1-2 years old are intrested in purchasing the insurance\nWhile around 15% of the people who have owned the car for < 1 Year are intrested in purchasing vehicular insurance \nOnly 11% of the people who have owned the car for more than 2 years are intrested in purchasing a vehicular insurance","4f785f8b":"LOGISTIC REGRESSION PROVIDES US WITH 87.4% ACCURACY!!\n","9feb57d8":"As shown above People who are not aldready are more intrested in purchasing the insurance","035410ce":"As shown Above 98% of the customers whoes cars have been previously damaged the car will be intrested in purchasing the insurance "}}