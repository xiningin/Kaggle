{"cell_type":{"b74942e7":"code","60c765e5":"code","55cd5b77":"code","d365f654":"code","7dfe71c4":"code","2b83d4bc":"code","45f45971":"code","f9d57b2d":"code","e084f3fe":"code","f1e32a73":"code","8746f346":"code","c5dab060":"code","877e2246":"code","602c12e7":"code","b107f9fa":"code","3b4ea699":"code","9aaf3a25":"code","ed8a7fcd":"code","ecd8dfbd":"code","c7d13a00":"code","e1b59c7a":"code","09a9f51a":"code","a42affb9":"code","614670a5":"code","36e3b2aa":"markdown","a8aa9c2e":"markdown","fb23a6f1":"markdown","dfff0c41":"markdown","1bbf1324":"markdown","ad2338c0":"markdown","c4880fed":"markdown","f10d8d09":"markdown","22a146b5":"markdown","9d5ddd31":"markdown","2eee8224":"markdown","c86529ae":"markdown","fe0ff87c":"markdown","e7457ae0":"markdown","9742aac9":"markdown","6b112088":"markdown","c2fd07e9":"markdown","fa330f61":"markdown"},"source":{"b74942e7":"# import libraries\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n# To display all the columns of the dataframe\npd.set_option('max_columns', None)","60c765e5":"# import data\ntrain= pd.read_csv('..\/input\/house-prices-advanced-regression-techniques\/train.csv')\ntest= pd.read_csv('..\/input\/house-prices-advanced-regression-techniques\/test.csv')","55cd5b77":"# shape of train dataset (rows, columns)\nprint(train.shape)","d365f654":"# Top 8 rows of train dataset\ntrain.head(8)","7dfe71c4":"# list of features having missing values\nfeatures_with_na=[features for features in train.columns if train[features].isnull().sum()>1]\n\n# Print the feature name and the percentage of missing values\nfor feature in features_with_na:\n    print(feature, np.round(train[feature].isnull().mean(), 4),  ' % missing values')","2b83d4bc":"# Plot some diagrams to show relationship between missing values and sales price\nfor feature in features_with_na:\n    data = train.copy()\n    \n    # Make a variable that indicates 1 if the observation was missing or zero otherwise\n    data[feature] = np.where(data[feature].isnull(), 1, 0)\n    \n    # Calculate the mean SalePrice where the information is missing or present\n    data.groupby(feature)['SalePrice'].median().plot.bar()\n    plt.title(feature)\n    plt.show()","45f45971":"# list of numerical variables in train dataset\nnumerical_features = [feature for feature in train.columns if train[feature].dtypes != 'O'] # here O means is object(string Vlaues)\n\nprint('Number of numerical variables: ', len(numerical_features))\n\n# Top 5 rows of numerical variables\ntrain[numerical_features].head()","f9d57b2d":"# list of the variables that contain year information\nyear_feature = [feature for feature in numerical_features if 'Yr' in feature or 'Year' in feature]\n\nyear_feature","e084f3fe":"# Now let's explore the content of these year variables\nfor feature in year_feature:\n    print(feature, train[feature].unique())","f1e32a73":"train.groupby('YrSold')['SalePrice'].median().plot()\nplt.xlabel('Year Sold')\nplt.ylabel('Median House Price')\nplt.title(\"House Price vs YearSold\")","8746f346":"# Now we will compare the difference between All years feature with SalePrice\n\nfor feature in year_feature:\n    if feature!='YrSold':\n        data=train.copy()\n        # We will find the difference between year variable and YrSold\n        data[feature]=data['YrSold']-data[feature]\n\n        plt.scatter(data[feature],data['SalePrice'])\n        plt.xlabel(feature)\n        plt.ylabel('SalePrice')\n        plt.show()","c5dab060":"train[discrete_feature].head()","877e2246":"# get the features with discrete variables\ndiscrete_feature=[feature for feature in numerical_features if len(train[feature].unique())<25 and feature not in year_feature+['Id']]\nprint(\"Discrete Variables Count: {}\".format(len(discrete_feature)))\ndiscrete_feature","602c12e7":"train[discrete_feature].head()","b107f9fa":"for feature in discrete_feature:\n    data=train.copy()\n    data.groupby(feature)['SalePrice'].median().plot.bar()\n    plt.xlabel(feature)\n    plt.ylabel('SalePrice')\n    plt.title(feature)\n    plt.show()","3b4ea699":"continuous_feature=[feature for feature in numerical_features if feature not in discrete_feature + year_feature + ['Id']]\nprint(\"Continuous feature Count {}\".format(len(continuous_feature)))\ncontinuous_feature","9aaf3a25":"train[continuous_feature].head()","ed8a7fcd":"for feature in continuous_feature:\n    data=train.copy()\n    data[feature].hist(bins=25)\n    plt.xlabel(feature)\n    plt.ylabel(\"Count\")\n    plt.title(feature)\n    plt.show()","ecd8dfbd":"for feature in continuous_feature:\n    data=train.copy()\n    if 0 in data[feature].unique():\n        pass\n    else:\n        data[feature] = np.log(data[feature])\n        data['SalePrice'] = np.log(data['SalePrice'])\n        plt.scatter(data[feature],data['SalePrice'])\n        plt.xlabel(feature)\n        plt.ylabel('SalesPrice')\n        plt.title(feature)\n        plt.show()","c7d13a00":"for feature in continuous_feature:\n    data = train.copy()\n    if 0 in data[feature].unique():\n        pass\n    else:\n        data[feature]=np.log(data[feature])\n        data.boxplot(column=feature)\n        plt.ylabel(feature)\n        plt.title(feature)\n        plt.show()","e1b59c7a":"categorical_features=[feature for feature in train.columns if data[feature].dtypes=='O']\nprint(\"Categorica Variables Count: {}\".format(len(categorical_features)))\ncategorical_features","09a9f51a":"train[categorical_features].head()","a42affb9":"# find the number of unique values in each categorical feature\nfor feature in categorical_features:\n    print('The feature is {} and number of categories are {}'.format(feature,len(train[feature].unique())))","614670a5":"for feature in categorical_features:\n    data=train.copy()\n    data.groupby(feature)['SalePrice'].median().plot.bar()\n    plt.xlabel(feature)\n    plt.ylabel('SalePrice')\n    plt.title(feature)\n    plt.show()","36e3b2aa":"### 2. Continuous Variables","a8aa9c2e":"In Data Analysis We will Analyze To Find out the below stuff\nMissing Values\nAll The Numerical Variables\nDistribution of the Numerical Variables\nCategorical Variables\nCardinality of Categorical Variables\nOutliers\nRelationship between independent and dependent feature(SalePrice)","fb23a6f1":"## Complete Lifecycle of a Data Science Project\n#### **1. Data Analysis**\n#### 2. [Feature Engineering](https:\/\/www.kaggle.com\/wajahatparvez99\/feature-engineering-advance-house-data)\n#### 3. [Feature Selection](https:\/\/www.kaggle.com\/wajahatparvez99\/feature-selection-advance-house-data\/)\n#### 4. Model Building\n#### 5. Model Deployment","dfff0c41":"#### # Analyze the Temporal Datetime Variables to check whether there is a relation between year the house is sold and the sales price","1bbf1324":"#### Temporal Variables(Eg: Datetime Variables)\nIn the train dataset we have 4 year variables. We have extract information from the datetime variables like no of years or no of days. One example in this specific scenario can be difference in years between the year the house was built and the year the house was sold. We will be performing this analysis in the Feature Engineering phase.","ad2338c0":"## Categorical Variables","c4880fed":"#### Now let's analyse the continuous values features by creating histograms to understand the distribution","f10d8d09":"## 2. Numerical Variables","22a146b5":"#### We can see the relation between the missing values and the dependent variable is clearly visible. So We need to replace these nan values with something meaningful which we will do in the Feature Engineering section","9d5ddd31":"## Outliers\n#### Outliers are the values which are completly ouytside from a particular range.\n#### It is very high or very low value","2eee8224":"#### Now let's find out the relationship between categorical variable and dependent feature(SalesPrice)","c86529ae":"## 1. Missing Values\n#### Percentage of missing values in each feature","fe0ff87c":"#### Now let's find the realtionship between discrete features and Sale Price","e7457ae0":"#### Remember: Boxplot does not work for categorical features. Only try it with continuous variables","9742aac9":"#### When data is skewed we transform it into normal distribution.\n#### So here we will be using logarithmic transformation","6b112088":"## Data Analysis Phase\nIn this notebook we will only discuss Data Analysis phase of Data Science Project.\n#### We will Analyze the data to complete the below tasks\n1. Missing Values\n2. All The Numerical Variables\n3. Distribution of the Numerical Variables\n4. Categorical Variables\n5. Cardinality of Categorical Variables\n6. Outliers\n7. Relationship between independent and dependent feature(SalePrice)","c2fd07e9":"#### Numerical variables are usually of 2 types\n#### Discrete Variables and Continous variable\n###  1. Discrete Variables","fa330f61":"#### As we can see above, we have many features with miisng values. Now we will find the relationship between missing values and Sales Price"}}