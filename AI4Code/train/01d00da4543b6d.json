{"cell_type":{"8cf97655":"code","3a988689":"code","115a9cb4":"code","0233bd8c":"code","1f8f3e44":"code","17bc3adb":"code","e49f52c7":"code","4840f7ff":"code","32d6a8e9":"code","37e0f183":"code","cebccf52":"code","318fd40c":"code","3c62560c":"code","81a3987a":"code","793fb527":"code","a7209a14":"code","f8571556":"code","22344194":"code","58b27143":"code","e2cdac42":"code","40e91c25":"code","ec75cc33":"code","98abc15b":"code","a9e1bb3a":"code","cf1a56a7":"code","23a84a3b":"markdown","8202df8a":"markdown","5d8e927a":"markdown","e9bc9b19":"markdown","abe34348":"markdown","6da3d004":"markdown","e7d61e86":"markdown","0ac581ca":"markdown","8d7f383a":"markdown","e7ab5838":"markdown","a8a18ffa":"markdown","0da4a87d":"markdown","1955ea8b":"markdown","354f98f2":"markdown"},"source":{"8cf97655":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","3a988689":"import numpy as np \nimport matplotlib.pyplot as plt \nimport matplotlib.colors as mcolors\nimport pandas as pd \nimport seaborn as sns\nimport random\nimport math\nimport time\nimport datetime\n%matplotlib inline ","115a9cb4":"# importing datasets\ndata_individual = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/COVID19_line_list_data.csv\")\n                         #parse_dates=['Date'])\ndata_individual.shape","0233bd8c":"data_individual.head(2)","1f8f3e44":"data_individual.columns","17bc3adb":"data_country=pd.read_csv('\/kaggle\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv')","e49f52c7":"data_country.head(2)","4840f7ff":"df_grp=data_country[[\"Country\/Region\", \"Confirmed\", \"Deaths\",\"Recovered\"]].groupby([\"Country\/Region\"]).sum().sort_values(\"Confirmed\")\ndf_grp[(df_grp[\"Confirmed\"]>10000) & (df_grp[\"Confirmed\"]<500000)].plot(kind='bar', stacked=True)","32d6a8e9":"df_grp['Recovery_%']=(df_grp.Recovered\/df_grp.Confirmed)*100\ndf_grp['Death_%']=(df_grp.Deaths\/df_grp.Confirmed)*100\nax= plt.Figure(figsize=(10,7))\nax=df_grp[(df_grp[\"Confirmed\"]>5000)][[\"Recovery_%\",\"Death_%\"]].plot(kind='bar', stacked=True)","37e0f183":"ax= plt.Figure(figsize=(10,7))\ndf_grp['Recover_to_Death_ratio']=(df_grp.Recovered\/df_grp.Deaths)\nax=df_grp[(df_grp[\"Confirmed\"]>5000)][[\"Recover_to_Death_ratio\"]].plot(kind='bar', stacked=True)","cebccf52":"df_grp[df_grp.index=='Singapore']","318fd40c":"df_grp[df_grp.index=='Mainland China']","3c62560c":"df_high_success=data_individual[(data_individual[\"country\"]=='Singapore') | (data_individual[\"country\"]=='Mainland China') | (data_individual[\"country\"]=='Israel')]","81a3987a":"def find_common_symptoms(df, syms=[], min_case=5):\n    symptoms_uniq = {} \n    for sym in syms:\n#         print(sym)\n        symptoms = list(df[sym].dropna().str.split(\",\").values)\n        for i in symptoms:\n            for j in i:\n                if j.lstrip(\" \") not in symptoms_uniq:\n#                   print(i,j)\n                    symptoms_uniq[j.lstrip(\" \")]=1\n                else:\n                    symptoms_uniq[j.lstrip(\" \")]=symptoms_uniq[j.lstrip(\" \")]+1\n    syms_comm_confirmed={k: v for k, v in sorted(symptoms_uniq.items(), key=lambda item: item[1]) if v>min_case}\n    return syms_comm_confirmed\n","793fb527":"syms_all=find_common_symptoms(data_individual, ['symptom'])\nsyms_all","a7209a14":"plt.figure(figsize=(10,3))\nplt.bar(x=syms_all.keys(), height=syms_all.values())\nplt.xticks(rotation=90, fontsize=10)","f8571556":"dead_data=data_individual[data_individual['death']!=\"0\"]\nsyms_dead=find_common_symptoms(dead_data, ['symptom'], min_case=0)\nprint(\"Shape of data about deaths: \",dead_data.shape)","22344194":"plt.figure(figsize=(10, 3))\nplt.bar(x=syms_dead.keys(), height=syms_dead.values())\nplt.xticks(rotation=45, fontsize=10)","58b27143":"dead_data.age.describe()","e2cdac42":"plt.figure(figsize=(6, 3))\nplt.title('Gender')\ndata_individual.gender.value_counts().plot.bar();","40e91c25":"pd.pivot_table(data=dead_data, index='gender', values=['age'], aggfunc=['mean','median'])","ec75cc33":"pd.pivot_table(data=data_individual, index='gender', values=['age'], aggfunc=['mean','median'])","98abc15b":"f, ax = plt.subplots(1)\nsns.kdeplot(dead_data[dead_data['gender']=='female'].age, label='Female Dead')\nsns.kdeplot(dead_data[dead_data['gender']=='male'].age, label='Male Dead')\n\nsns.kdeplot(data_individual[data_individual['gender']=='female'].age, label='Female Confirmed')\nsns.kdeplot(data_individual[data_individual['gender']=='male'].age, label='Male Confirmed')","a9e1bb3a":"fig, ax = plt.subplots()\nax=sns.barplot(x='gender', y='age', data=dead_data)\n","cf1a56a7":"data","23a84a3b":"### What abou recovery to death Ratio?\nIt seems Singapore is winning there and Israel is doing pretty well","8202df8a":"## What about the recovery and death rates?","5d8e927a":"# Find Common Symptoms Among Confirmed Cases\n\nHere we take symptoms only if it appeared atleast in 5 people","e9bc9b19":"### Male population death starts with a little early age than their female counterparts","abe34348":"### Recovery Rates are highest in Singapore, and Israel apart from Mainland China","6da3d004":"### Minimum age among dead people is 36 and Mean 68","e7d61e86":"# Let's check the number of confirmed, recovered and dead cases by country","0ac581ca":"### But does it change with Gender?","8d7f383a":"# Check the Effects of Age","e7ab5838":"Singapore's Recovery to death ratio 709.5 where that of China is 14.75","a8a18ffa":"# Impoting modules and load data files","0da4a87d":"# Only thses are significant symptoms in people who died\nMost commons are Fever,pneumonia and Cough","1955ea8b":"* Recovery rate is highest in Singapore apart from China\n* Death rate is high in Italy Spain\n* Death rate is low in Singapore and Malaysia","354f98f2":"# Find symptoms common in people who died\n"}}