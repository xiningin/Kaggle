{"cell_type":{"05e7eb95":"code","9d548453":"code","808d9342":"code","a5a4182a":"code","ccecedb5":"code","6a82c1a0":"code","ca57de44":"code","db45b4b2":"code","6d340c5b":"code","589437f9":"code","d19cd14d":"code","e6b01702":"markdown","3b947916":"markdown","fdc1c6c8":"markdown","bb2b2a0d":"markdown"},"source":{"05e7eb95":"import pandas as pd\nimport numpy as np","9d548453":"df = pd.read_csv('..\/input\/train.csv')","808d9342":"not_round = ['toxicity_annotator_count', 'identity_annotator_count', 'created_date',\n                 'publication_id', 'parent_id', 'article_id', 'rating', 'funny',\n                 'wow', 'sad', 'likes', 'disagree', 'rating', 'comment_text', 'target',\n                'severe_toxicity', 'obscene', 'threat', 'insult', 'identity_attack', 'sexual_explicit',\n                'id', 'number_of_records']\nround_cols = list(set(df.columns) - set(not_round))","a5a4182a":"df_round = df\nfor i in round_cols:\n    df_round[i] = df_round[i].round(1)","ccecedb5":"df_round['is_gender'] = False\ndf_round['is_race'] = False\ndf_round['is_religion'] = False\ndf_round['is_sexual_orientation'] = False\ndf_round['is_disability'] = False","6a82c1a0":"df_round.loc[((df['female'].notnull()) & (df['female'] > 0)) |\n((df['male'].notnull()) & (df['male'] > 0)) |\n((df['other_gender'].notnull()) & (df['other_gender'] > 0)), 'is_gender'] = True","ca57de44":"df_round.loc[((df_round['asian'].notnull()) & (df_round['asian'] > 0)) |\n((df_round['black'].notnull()) & (df_round['black'] > 0)) |\n((df_round['other_race_or_ethnicity'].notnull()) & (df_round['other_race_or_ethnicity'] > 0)) |\n((df_round['white'].notnull()) & (df_round['white'] > 0)) |\n((df_round['latino'].notnull()) & (df_round['latino'] > 0)), 'is_race'] = True","db45b4b2":"df_round.loc[((df_round['atheist'].notnull()) & (df_round['atheist'] > 0)) |\n((df_round['buddhist'].notnull()) & (df_round['buddhist'] > 0)) |\n((df_round['christian'].notnull()) & (df_round['christian'] > 0)) |\n((df_round['hindu'].notnull()) & (df_round['hindu'] > 0)) |\n((df_round['jewish'].notnull()) & (df_round['jewish'] > 0)) |\n((df_round['muslim'].notnull()) & (df_round['muslim'] > 0)) |\n((df_round['other_religion'].notnull()) & (df_round['other_religion'] > 0)), 'is_religion'] = True","6d340c5b":"df_round.loc[((df_round['bisexual'].notnull()) & (df_round['bisexual'] > 0)) |\n((df_round['heterosexual'].notnull()) & (df_round['heterosexual'] > 0)) |\n((df_round['homosexual_gay_or_lesbian'].notnull()) & (df_round['homosexual_gay_or_lesbian'] > 0)) |\n((df_round['other_sexual_orientation'].notnull()) & (df_round['other_sexual_orientation'] > 0)) |\n((df_round['transgender'].notnull()) & (df_round['transgender'] > 0)), 'is_sexual_orientation'] = True","589437f9":"df_round.loc[((df_round['intellectual_or_learning_disability'].notnull()) & (df_round['intellectual_or_learning_disability'] > 0)) |\n((df_round['other_disability'].notnull()) & (df_round['other_disability'] > 0)) |\n((df_round['physical_disability'].notnull()) & (df_round['physical_disability'] > 0)) |\n((df_round['psychiatric_or_mental_illness'].notnull()) & (df_round['psychiatric_or_mental_illness'] > 0)), 'is_disability'] = True","d19cd14d":"df_round.to_csv('jigsaw_new_categories.csv', encoding='utf-8', index=False, sep='\\t')","e6b01702":"### Result","3b947916":"#### Create categories\n\nCreate categories based in the type of feature that was rounded.\n\n* *Gender*: female, male, other_gender;\n* *Race*: asian, black, other_race_or_ethnicity, white, latino;\n* *Religion*: atheist, buddhist, christian, hindu, jewish, muslim, other_religion;\n* *Sexual orientation*: bisexual, heterosexual, homosexual_gay_or_lesbian, other_sexual_orientation, transgender;\n* *Disability*: intellectual_or_learning_disability, other_disability, physical_disability, psychiatric_or_mental_illness.\n\nEach feature must be different than None and greater than 0 to fit in a category.","fdc1c6c8":"### Introduction\n\nThis notebook creates a dataset that can be used to train a model or just facilitate the creation of an EDA. Here some features are rounded and new categories are added.","bb2b2a0d":"### Round categories\n\nLet's round some features so it will be easier to make a distribution chart.\n\n**Features to be rounded**: 'latino', 'psychiatric_or_mental_illness', 'other_sexual_orientation', 'physical_disability', 'other_race_or_ethnicity', 'intellectual_or_learning_disability', 'jewish', 'male', 'asian', 'buddhist', 'other_disability', 'female', 'christian', 'atheist', 'hindu', 'other_religion', 'bisexual', 'transgender', 'muslim', 'homosexual_gay_or_lesbian', 'black', 'other_gender', 'white', 'heterosexual'."}}