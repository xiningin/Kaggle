{"cell_type":{"70c1d95d":"code","638c2cd3":"code","79922bc0":"code","d4af6b9e":"code","8d0ec8cd":"code","7c208bd0":"code","19ab1a35":"code","8aa49ece":"code","268c8483":"code","ecaf278c":"code","d74b3e13":"code","76898e6c":"code","1542c507":"code","ea803fb5":"code","174141da":"code","a7b5e449":"code","7395f4b9":"code","94fc8c5c":"code","a8914465":"code","90e7f8d9":"code","e54b42bd":"code","2a827d1e":"markdown","8be4d8fc":"markdown","779156b7":"markdown","1ec39dd5":"markdown","3214deee":"markdown","7699aa73":"markdown","351eae8e":"markdown","c852e7d9":"markdown","b2fed739":"markdown","c26dbf8b":"markdown","ed5ff266":"markdown","44e9ab9b":"markdown","3774f087":"markdown","10c78ad1":"markdown"},"source":{"70c1d95d":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfrom matplotlib import pyplot as plt\nfrom statsmodels import robust\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nfrom matplotlib import pylab","638c2cd3":"#Importing the dataset\ndf_cancer = pd.read_csv(\"..\/input\/haberman.csv\")","79922bc0":"#Looking at the shape of the data\ndf_cancer.shape\n\n#This dataset has 306 rows and 4 columns","d4af6b9e":"#Looking at first few rows of the dataset\ndf_cancer.head()","8d0ec8cd":"df_cancer.describe()","7c208bd0":"counts_1,bins_1=np.histogram(df_cancer[\"Age\"][df_cancer.survival_status==1],bins=10,density=True)\nprint(counts_1)\nprint(bins_1)\npdf_1=counts_1*np.diff(bins_1)\ncdf_1=np.cumsum(pdf_1)\nplt.plot(bins_1[1:],cdf_1,label=\"cdf_survived\")\n\ncounts_2,bins_2=np.histogram(df_cancer[\"Age\"][df_cancer.survival_status==2],bins=10,density=True)\nprint(counts_2)\nprint(bins_2)\npdf_2=counts_2*np.diff(bins_2)\ncdf_2=np.cumsum(pdf_2)\nplt.plot(bins_2[1:],cdf_2,label=\"cdf_not_survived\")\nplt.xlabel(\"Age\")\nplt.legend()\nplt.title(\"CDF for Age\")\nplt.show()","19ab1a35":"#pdf for Age\nsns.distplot(df_cancer.Age)\nplt.title(\"PDF for Age\")\nplt.show()","8aa49ece":"#Probability density plot for Age by survival class.\nsns.set_style(\"whitegrid\")\nsns.FacetGrid(df_cancer,hue=\"survival_status\",size=5)\\\n   .map(sns.distplot,\"Age\")\\\n   .add_legend();\nplt.title(\"PDF for Age by Survival class\")\nplt.show()","268c8483":"#cdf curve for \"positive_axillary_nodes\".\ncounts,bins=np.histogram(df_cancer[\"positive_axillary_nodes\"],bins=10,density=True)\nprint(counts)\nprint(bins)\npdf=counts*np.diff(bins)\ncdf=np.cumsum(pdf)\nplt.plot(bins[1:],cdf,label=\"cdf_survived\")\nplt.xlabel(\"positive_axillary_nodes\")\nplt.title(\"CDF-positive_axillary_nodes\")\nplt.show()","ecaf278c":"#cdf curve for \"positive_axillary_nodes\" by survival status.\ncounts_1,bins_1=np.histogram(df_cancer[\"positive_axillary_nodes\"][df_cancer.survival_status==1],bins=10,density=True)\nprint(counts_1)\nprint(bins_1)\npdf_1=counts*np.diff(bins)\ncdf_1=np.cumsum(pdf_1)\nplt.plot(bins_1[1:],cdf_1,label=\"cdf_survived\")\n\ncounts_2,bins_2=np.histogram(df_cancer[\"positive_axillary_nodes\"][df_cancer.survival_status==2],bins=10,density=True)\nprint(counts_2)\nprint(bins_2)\npdf_2=counts_2*np.diff(bins_2)\ncdf_2=np.cumsum(pdf_2)\nplt.plot(bins_2[1:],cdf_2,label=\"cdf_not_survived\")\nplt.xlabel(\"positive_axillary_nodes\")\nplt.legend()\nplt.title(\"CDF-positive_axillary_nodes\")\nplt.show()","d74b3e13":"#Probability Density plot for positive_axillary_nodes\nsns.set_style(\"whitegrid\")\nsns.FacetGrid(df_cancer,hue=\"survival_status\",size=8)\\\n   .map(sns.distplot,\"positive_axillary_nodes\")\\\n   .add_legend();\nplt.show()","76898e6c":"#cdf curve for \"year\" by survival status.\ncounts_1,bins_1=np.histogram(df_cancer[\"year\"][df_cancer.survival_status==1],bins=10,density=True)\nprint(counts_1)\nprint(bins_1)\npdf_1=counts_1*np.diff(bins_1)\ncdf_1=np.cumsum(pdf_1)\nplt.plot(bins_1[1:],cdf_1,label=\"cdf_survived\")\n\ncounts_2,bins_2=np.histogram(df_cancer[\"year\"][df_cancer.survival_status==2],bins=10,density=True)\nprint(counts_2)\nprint(bins_2)\npdf_2=counts_2*np.diff(bins_2)\ncdf_2=np.cumsum(pdf_2)\nplt.plot(bins_2[1:],cdf_2,label=\"cdf_not_survived\")\nplt.xlabel(\"year\")\nplt.title(\"CDF-year of surgery\")\nplt.legend()\nplt.show()","1542c507":"#Probability Density plot for surgery_year\nsns.set_style(\"whitegrid\")\nsns.FacetGrid(df_cancer,hue=\"survival_status\",size=8)\\\n   .map(sns.distplot,\"year\")\\\n   .add_legend();\nplt.show()","ea803fb5":"#Generating the pairplot\nsns.set_style(\"whitegrid\")\nsns.pairplot(df_cancer,vars=[\"Age\",\"year\",\"positive_axillary_nodes\"],hue=\"survival_status\",size=4)\nplt.show()","174141da":"#Scatterplot positive_axillary_nodes VS Age\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df_cancer,hue=\"survival_status\",size=5)\\\n   .map(plt.scatter,\"Age\",\"positive_axillary_nodes\")\\\n   .add_legend();\nplt.title(\"positive_axillary_nodes VS Age\")\nplt.show()","a7b5e449":"#Contour plot for Age and positive_axillary_nodes\nsns.jointplot(x=\"Age\",y=\"positive_axillary_nodes\",data=df_cancer,kind=\"kde\",size=6)\nplt.show()","7395f4b9":"#Now generating the Age VS positive_axillary_node scatterplot only for age>50\n#to see the effect of old age on survival\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df_cancer[df_cancer.Age>50],hue=\"survival_status\",size=5)\\\n   .map(plt.scatter,\"Age\",\"positive_axillary_nodes\")\\\n   .add_legend();\nplt.show()","94fc8c5c":"df_50 = df_cancer[df_cancer.Age>50]\ndf_cancer[df_cancer.Age>50]\ncounts_1,bins_1=np.histogram(df_50[\"Age\"][df_50.survival_status==1],bins=10,density=True)\nprint(counts_1)\nprint(bins_1)\npdf_1=counts_1*np.diff(bins_1)\ncdf_1=np.cumsum(pdf_1)\nplt.plot(bins_1[1:],cdf_1,label=\"cdf_survived\")\n\ncounts_2,bins_2=np.histogram(df_50[\"Age\"][df_50.survival_status==2],bins=10,density=True)\nprint(counts_2)\nprint(bins_2)\npdf_2=counts_2*np.diff(bins_2)\ncdf_2=np.cumsum(pdf_2)\nplt.plot(bins_2[1:],cdf_2,label=\"cdf_not_survived\")\nplt.xlabel(\"Age\")\nplt.legend()\nplt.title(\"CDF for (Age>50)\")\nplt.show()","a8914465":"counts_1,bins_1=np.histogram(df_50[\"positive_axillary_nodes\"][df_50.survival_status==1],bins=10,density=True)\nprint(counts_1)\nprint(bins_1)\npdf_1=counts_1*np.diff(bins_1)\ncdf_1=np.cumsum(pdf_1)\nplt.plot(bins_1[1:],cdf_1,label=\"cdf_survived\")\n\ncounts_2,bins_2=np.histogram(df_50[\"positive_axillary_nodes\"][df_50.survival_status==2],bins=10,density=True)\nprint(counts_2)\nprint(bins_2)\npdf_2=counts_2*np.diff(bins_2)\ncdf_2=np.cumsum(pdf_2)\nplt.plot(bins_2[1:],cdf_2,label=\"cdf_not_survived\")\nplt.xlabel(\"positive_axillary_nodes\")\nplt.legend()\nplt.title(\"CDF for positive nodes (Age>50)\")\nplt.show()","90e7f8d9":"#positive_axillary_nodes VS year scatterplot\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df_cancer,hue=\"survival_status\",size=5)\\\n   .map(plt.scatter,\"year\",\"positive_axillary_nodes\")\\\n   .add_legend();\nplt.title(\"positive_axillary_nodes VS surgery_year\")\nplt.show()","e54b42bd":"sns.violinplot(x=\"survival_status\",y=\"positive_axillary_nodes\",data=df_cancer)\nplt.show()","2a827d1e":"#### Final Conclusion:\n           1. Number of positive axillary nodes seems to have  effect on the survival status.But, sharp classification can't be achieved.\n              Almost 80% patients have positive axillary nodes<5.\n           2. No other attribute seems to have significant effect on the survival class.","8be4d8fc":"### Objective:\nTo find a feature or a combination of features by which we will be able to distinctly classify the observations as survived\/not survived.","779156b7":"####  The above scatterplot also suggests that Less no. of positive nodes implies higher survival chances.","1ec39dd5":"#### Conclusion:\n1. Surgeries performed b\/w the year[58,62] were comparatively more effective as survival rate is high and surgeries b\\w year [63,67] were least effective.  \n1. There is almost 100% overlap(from cdf curve).\n2. So,\"year\" can not be used for classification of survival status.\n3. This classification can not be achieved by considering only a single variable.We must look for  bivariate or multivariate approach.","3214deee":"### **Bivariate Analysis:**","7699aa73":"#### Conclusion:\n          1.As for Age>50,there is nearly 75% overlap between the Age groups of two classes(survived\/not      survived),observed from cdf for Age.\n          2.Hence,patient age has little impact on their survival after surgery.\n          3.Those who survived in age>50,90% of them have positive axillary nodes<(6or7). \n          4.Those who did not survive in age>50,only around 45% of them have positive axillary nodes>         (6or7).\n          5.Hence,no. of positive nodes is affecting the patient's survival.","351eae8e":" #### The above table gives statistical description of each attribute.","c852e7d9":"### **Univariate Analysis:**","b2fed739":"#### Conclusion:\n   1. Almost 85% of the points overlap.From cdf curve.\n   2. 85% of those survived are in the same age group with those who do not survived.\n   2. Using only the \"Age\" attribute we can't achieve classification upon survival_status.","c26dbf8b":"##### Surgeries performed during the year [60,62] saw very less failures(around 13) and those b\\w the year[64,67] saw most failures.","ed5ff266":"#### Conclusion:\n           1.As already concluded less no. of positive nodes results in higher survival chances.The above plot also shows this effect.\n           2.Also,overall data consists of large no zeroes or smaller values for positive axillary nodes.","44e9ab9b":"#### Conclusion:\n      1.There are outliers.\n      2.Top 2% of the points can be considered as outliers.\n      3.Around 80% of patients have positive axillary nodes<5.","3774f087":"#### Conclusion:\n  1. Less no. of positive node implies higher survival chances.88% of those who survived have positive axillary node<10.(from cdf curve).\n  2.  There's almost 99% overlap betwee the two classes when we look for positive axillary nodes of those who survived and those who didn't.","10c78ad1":"#### Attributes information:\n1. Age of patient at time of operation (numerical)\n2. Patient's year of operation (year - 1900, numerical)\n3. Number of positive axillary nodes detected (numerical)\n4. Survival status (class attribute) 1 = the patient survived 5 years or longer 2 = the patient died within 5 years"}}