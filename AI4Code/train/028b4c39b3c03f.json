{"cell_type":{"4d217e97":"code","3017a32d":"code","4f24a2e5":"code","4521211b":"code","15891331":"code","decfa1b8":"code","1b9e5e43":"code","f47184da":"code","f11e95e7":"code","e1b3d183":"code","3a85349b":"code","3c4fc0ad":"code","a2806f79":"code","fb30dbc2":"code","ec68a868":"code","bb2d3801":"code","e18a1f0d":"code","775b2c8e":"code","347e0c07":"code","36ad9c6f":"code","dc81f361":"code","1806682f":"code","b8509e18":"code","0daa6a4a":"code","02f2c802":"code","6b71a618":"code","5a568960":"code","18d3d062":"code","6d61d3ab":"code","e40f1358":"code","0df74e34":"code","7c5ef8d3":"code","b4435135":"code","48590a2d":"code","efbd80e4":"code","bd5c18a7":"code","0caba0b2":"code","81a0d2c7":"code","3f7dcc66":"code","46f05ae5":"code","c4946403":"code","575eae94":"code","a7d0dad8":"code","39ebf790":"code","514fbd7b":"code","81a9371b":"code","dd05b696":"code","ebd7aa40":"code","c495c12a":"code","d8aff94c":"code","e6562175":"code","58dcef2d":"code","4d851528":"code","7e1c62a6":"code","80188458":"code","68f1731b":"code","962c1dc1":"code","be2e9a5e":"code","9819291e":"code","7b3aa8d2":"code","c7bad630":"code","ebdeda4f":"code","373f84ac":"code","7c6c0095":"code","132178ef":"code","f69a2381":"code","88f94a66":"code","ce5582bc":"code","c1a57790":"code","473c95e7":"code","43166cb6":"code","0fdc6cb4":"code","a2aa8b41":"code","80802ec2":"code","b75948ac":"code","0463540a":"code","81b0c159":"code","bb66645e":"code","c58c377e":"code","26020e4e":"code","3ddfe6f7":"code","80c94978":"code","f93e6e67":"code","de1f296c":"code","25299dc4":"code","bc6424de":"code","014a7691":"code","57101153":"code","a3271bd7":"code","034e45a4":"code","f8a64fe3":"code","a29d61c9":"code","51c0f06b":"code","e90ceabb":"code","a05a6b3d":"code","f8b621c4":"code","4dc30b86":"code","2de0c1ba":"markdown","1cb8b301":"markdown","d67746a0":"markdown","4603628b":"markdown","1b727c37":"markdown","6b264749":"markdown","74981d74":"markdown","2cc6d84e":"markdown","d995ea18":"markdown","c5af2937":"markdown","9c7c214a":"markdown","d8806344":"markdown","7fd8b92c":"markdown","fc76c2a0":"markdown","3da852f6":"markdown","e23ca2ed":"markdown","d8bea48f":"markdown","188de508":"markdown","8946d540":"markdown","6e8a52eb":"markdown","5f4d9194":"markdown","d0c75323":"markdown","8a4b66a4":"markdown","b79ce26f":"markdown","32a52b18":"markdown","8a165dd1":"markdown","cdd8a55b":"markdown","70607ef8":"markdown","a5e5a334":"markdown","343e548b":"markdown","d88969a7":"markdown","5de39ce6":"markdown","c148b0ef":"markdown","d163007b":"markdown","eabb612f":"markdown","ae938208":"markdown","1de8557a":"markdown","79f8593e":"markdown","1a9d9391":"markdown","78e1e066":"markdown","086cf76f":"markdown","2ab09e1d":"markdown","703ec640":"markdown","a7aa9e30":"markdown","b16b1b04":"markdown","aa0306b4":"markdown","0c1b5500":"markdown","e0d36418":"markdown","e82c3c09":"markdown","44c0b822":"markdown","1d6ee5ff":"markdown","3e6da806":"markdown","2bebde69":"markdown","35cf937c":"markdown","997a8cab":"markdown","a5aa7e5c":"markdown","c14038c8":"markdown","23010390":"markdown","cbb3f2c2":"markdown","2581a8ff":"markdown","06df549d":"markdown","7486124a":"markdown","7e3c1e34":"markdown","76aed29e":"markdown","08cb9080":"markdown","d1383af7":"markdown","4bc69422":"markdown","667a4dab":"markdown","5aeab407":"markdown","90536a8c":"markdown","cf21b711":"markdown","08e97a93":"markdown","3771eacc":"markdown","6ea64788":"markdown","098f7b20":"markdown","5d4c60e6":"markdown","4fbacdb0":"markdown","67397e1a":"markdown","1f68ad75":"markdown","0d707c77":"markdown","a8656f99":"markdown","4b191532":"markdown","ac608127":"markdown","246ba3f5":"markdown","25ddaed1":"markdown","6f163f86":"markdown","951d39ad":"markdown","7e4532f8":"markdown","d52cb33f":"markdown","3bdff7ab":"markdown","cb77b0a0":"markdown","d2f3b4d8":"markdown","183d6998":"markdown","b7e2ac13":"markdown","cc9c6a8d":"markdown","4b4f400d":"markdown","410dec53":"markdown","20ba712c":"markdown","c7a0f7d6":"markdown","389e2922":"markdown","b65201eb":"markdown","26832eb2":"markdown","acca01ee":"markdown","38f32d54":"markdown","1fa11bb4":"markdown","56e5ae7d":"markdown","97750d52":"markdown","4eb89dee":"markdown","e733ffb7":"markdown","a99fb582":"markdown","cd5c1fe4":"markdown","a9c1c9a0":"markdown"},"source":{"4d217e97":"import pandas as pd\nimport numpy as np\nimport seaborn as sb\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split, cross_val_score\nfrom sklearn.preprocessing import StandardScaler, OneHotEncoder\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn import svm\nfrom sklearn.model_selection import KFold\nfrom sklearn.decomposition import PCA\nfrom sklearn.metrics import accuracy_score, confusion_matrix, classification_report","3017a32d":"missing_val = '?'\ndf = pd.read_csv('..\/input\/adult-census-income\/adult.csv',na_values = missing_val)","4f24a2e5":"df.head()","4521211b":"df.tail()","15891331":"df.shape","decfa1b8":"df.info()","1b9e5e43":"df.drop('fnlwgt',axis=1,inplace=True)\ndf.head()","f47184da":"df.isnull().any(axis=0)","f11e95e7":"df.isnull().sum()","e1b3d183":"df.loc[df['workclass'].isnull()==True,['workclass','occupation','native.country']]","3a85349b":"le = round((1-(len(df.dropna())\/len(df)))*100,2)\nprint('The Percentage of Rows that were removed while handling missing values : {0} %'.format(le))","3c4fc0ad":"df.dropna(inplace = True)","a2806f79":"male = (df[df.sex == \"Male\"].sex.value_counts().values[0]\/df.shape[0])*100\nfemale = (df[df.sex == \"Female\"].sex.value_counts().values[0]\/df.shape[0])*100\nprint('Percentage of Male is : %d %%' % round(male))\nprint('Percentage of Female is : %d %%' % round(female))","fb30dbc2":"df.describe(include='number')","ec68a868":"df.describe(include=[\"O\"])","bb2d3801":"### Workclass\nplt.figure(figsize=(10,5))\nsb.countplot(df['workclass'],palette=\"Set3\")\nplt.show()","e18a1f0d":"### Education \nplt.figure(figsize=(20,5))\nsb.countplot(df['education'])\nplt.show()","775b2c8e":"### marital.status\nplt.figure(figsize=(15,5))\nsb.countplot(df['marital.status'],palette=\"Set1\")\nplt.show()","347e0c07":"### Occupation\nplt.figure(figsize=(25,8))\nsb.countplot(df['occupation'])\nplt.show()","36ad9c6f":"### Relationship\nplt.figure(figsize=(10,5))\nsb.countplot(df['relationship'], facecolor=(0, 0, 0, 0), linewidth=5,edgecolor=sb.color_palette(\"dark\", 6))\nplt.show()","dc81f361":"### Race\nplt.figure(figsize=(8,5))\nsb.countplot(df['race'])\nplt.show()","1806682f":"### Sex\nsb.countplot(df['sex'],palette=\"gnuplot_r\")\nplt.show()","b8509e18":"### Native Country\nplt.ylabel('counts')\nplt.xlabel('native.country')\nsb.barplot(df['native.country'].value_counts().index[:5] , df['native.country'].value_counts().values[:5])\nplt.show()","0daa6a4a":"df['native.country'].value_counts().head()","02f2c802":"### workclass \nplt.figure(figsize=(10,5))\nplt.pie(df[\"workclass\"].value_counts(),autopct='%.2f%%', shadow=True,labels=df.workclass.unique())\nplt.show()","6b71a618":"### Sex\nplt.figure(figsize=(10,5))\nplt.pie(df[\"sex\"].value_counts(),autopct='%.2f%%', shadow=True,labels=df.sex.unique())\nplt.show()","5a568960":"### Race\nplt.figure(figsize=(10,5))\nplt.pie(df[\"race\"].value_counts(),autopct='%.2f%%', shadow=True,labels=df.race.unique())\nplt.show()","18d3d062":"### income\nplt.figure(figsize=(10,5))\nplt.pie(df[\"income\"].value_counts(),autopct='%.2f%%', shadow=True,labels=df.income.unique())\nplt.show()","6d61d3ab":"### Age\nplt.figure(figsize=(18,5))\nplt.ylabel('Frequency')\nplt.xlabel('Age')\nsb.distplot(df['age'], rug=True)\nplt.show()","e40f1358":"### Educational.num : Number of Education Year\nplt.figure(figsize=(10,5))\nplt.ylabel('Frequency')\nplt.xlabel('Education.num')\nsb.distplot(df['education.num'], rug=True)\nplt.show()","0df74e34":"### Capital Gain\nplt.figure(figsize=(15,5))\nplt.subplot(121)\nplt.ylabel('Frequency')\nplt.xlabel('capital.gain')\nsb.distplot(df['capital.gain'], kde_kws={'bw':0.1})\nplt.subplot(122)\nplt.ylabel('Frequency')\nplt.xlabel('capital.loss')\nsb.distplot(df['capital.loss'],kde_kws={'bw':0.1})\nplt.show()","7c5ef8d3":"### Hours per week \nplt.figure(figsize=(15,5))\nplt.ylabel('Frequency')\nplt.xlabel('hours.per.week')\nsb.distplot(df['hours.per.week'])\nplt.show()","b4435135":"### Age\nsb.boxplot(df['age'])\nplt.show()","48590a2d":"### Educational num\nplt.figure(figsize=(10,5))\nsb.boxplot(df['education.num'])\nplt.show()","efbd80e4":"### Capital Gain\nplt.figure(figsize=(15, 4))\nplt.subplot(121)\nsb.boxplot(df['capital.gain'])\nplt.title('Capital Gain')\nplt.subplot(122)\nsb.boxplot(df['capital.loss'])\nplt.title('Capital Loss')\nplt.show()","bd5c18a7":"### Hours Per Week\nplt.figure(figsize=(10,5))\nsb.boxplot(df['hours.per.week'])\nplt.show()\n","0caba0b2":"### Age\nplt.figure(figsize=(18,5))\nplt.ylabel('Frequency')\nplt.xlabel('Age')\nsb.distplot(df['age'],hist = False,kde=True)\nplt.show()","81a0d2c7":"### Educational-num : Number of Education Year\nplt.figure(figsize=(10,5))\nplt.ylabel('Frequency')\nplt.xlabel('Education.num')\nsb.distplot(df['education.num'], hist=False, rug=True)\nplt.show()","3f7dcc66":"### Between Capital Gain and Capital Loss\nplt.figure(figsize=(12,5))\nsb.scatterplot(x = df['capital.gain'], y = df['capital.loss'])\nplt.show()","46f05ae5":"sb.jointplot(x='age', y='hours.per.week',kind= 'hex', data=df, color='r')\nplt.show()","c4946403":"sb.jointplot(x='capital.gain', y='capital.loss', data=df, kind='hex', color='g')\nplt.show()","575eae94":"df.groupby(['income']).mean()","a7d0dad8":"df.groupby(['income']).median()","39ebf790":"### Age (Relationship with income)\nfig = plt.figure(figsize=(10,5)) \nsb.boxplot(x=\"income\", y=\"age\", data=df)\nplt.show()","514fbd7b":"### educational-num (Relationship with income)\nfig = plt.figure(figsize=(10,5)) \nsb.boxplot(x=\"income\", y=\"education.num\", data=df)\nplt.show()","81a9371b":"### Captial Gain (Relationship with income)\nfig = plt.figure(figsize=(10,5)) \nsb.boxplot(x=\"income\", y=\"capital.gain\", data=df)\nplt.show()","dd05b696":"### Captial Loss (Relationship with income)\nfig = plt.figure(figsize=(10,5)) \nsb.boxplot(x=\"income\", y=\"capital.loss\", data=df)\nplt.show()","ebd7aa40":"### Hours per Week (Relationship with income)\nfig = plt.figure(figsize=(10,5)) \nsb.boxplot(x=\"income\", y=\"hours.per.week\", data=df)\nplt.show()","c495c12a":"plt.figure(figsize=(15,5))\nsb.boxplot(x=\"income\", y=\"age\",hue=\"sex\",data=df)\nplt.show()","d8aff94c":"plt.figure(figsize=(15,7))\nsb.boxplot(x=\"income\", y=\"hours.per.week\",hue=\"sex\",data=df)\nplt.show()","e6562175":"plt.subplots(figsize=(16, 8))  \nsb.boxplot(x='relationship', y='hours.per.week', hue='income', data=df)  \nplt.show() ","58dcef2d":"plt.figure(figsize=(10,5))\nsb.barplot(x=\"sex\", y=\"age\", hue=\"income\", data=df)\nplt.show()","4d851528":"plt.figure(figsize=(10,5))\nsb.barplot(x=\"sex\", y=\"hours.per.week\", hue=\"income\", data=df)\nplt.show()","7e1c62a6":"plt.figure(figsize=(15,5))\nsb.barplot(x=\"race\", y=\"hours.per.week\", hue=\"income\", data=df)\nplt.show()","80188458":"plt.figure(figsize=(15,5))\nsb.barplot(x=\"relationship\", y=\"hours.per.week\", hue=\"income\", data=df)\nplt.show()","68f1731b":"plt.figure(figsize=(25,7)) \nsb.pairplot(df,hue='income',diag_kws={'bw':'1.0'},palette=\"husl\",markers=[\"o\", \"s\"])\nplt.show()","962c1dc1":"t1=df.corr()\nplt.figure(figsize=(12,9))\nax = sb.heatmap(t1,linewidths=.5,annot=True)\nbottom, top = ax.get_ylim()\nax.set_ylim(bottom + 0.5, top - 0.5)\nplt.show()","be2e9a5e":"cat = df.select_dtypes(include=['object'])","9819291e":"cat","7b3aa8d2":"encoder = OneHotEncoder(drop='first', sparse=False)\ncat_df = pd.DataFrame(encoder.fit_transform(cat), \n                      columns=encoder.get_feature_names(cat.columns))","c7bad630":"cat_df","ebdeda4f":"num = df.select_dtypes(include=['int64'])","373f84ac":"num","7c6c0095":"scaler = StandardScaler()\nnum_df = pd.DataFrame(scaler.fit_transform(num), \n                      columns = num.columns)","132178ef":"num_df.head()","f69a2381":"new_df = pd.concat([num_df, cat_df], axis=1)","88f94a66":"new_df","ce5582bc":"# X = new_df.drop('income_>50K',axis=1)\nY = new_df.pop('income_>50K')\nX = new_df","c1a57790":"X_train,X_test,y_train,y_test = train_test_split(X,Y,test_size=.30,random_state=25)","473c95e7":"lr = LogisticRegression( max_iter=250)\nlr.fit(X_train,y_train)","43166cb6":"y_predict = lr.predict(X_test)\ny_predict","0fdc6cb4":"# Accuracy classification score.\naccuracy_score(y_test, y_predict)","a2aa8b41":"confusion_matrix(y_test, y_predict)","80802ec2":"print(classification_report(y_test,y_predict))","b75948ac":"from sklearn.feature_selection import RFE\nlr_temp = LogisticRegression( max_iter=250)\n## No. of features taking = 30\nrfe = RFE(lr_temp, 30)\nrfe = rfe.fit(X_train, y_train)\nrfe","0463540a":"temp_df = pd.DataFrame({'Columns' : X_train.columns, 'Included' : rfe.support_, 'Ranking' : rfe.ranking_})\ntemp_df","81b0c159":"imp_col = X_train.columns[rfe.support_]\nimp_col","bb66645e":"X_train_new = X_train[imp_col]\nX_train_new","c58c377e":"lrn = LogisticRegression(max_iter=250)\nlrn.fit(X_train_new, y_train)","26020e4e":"y_predict_new = lrn.predict(X_train_new)\ny_predict_new","3ddfe6f7":"accuracy_score(y_test, y_predict)","80c94978":"pca = PCA(whiten=True)\npca.fit(X)\nnp.cumsum(pca.explained_variance_ratio_)","f93e6e67":"plt.figure(figsize = (12, 6))\nplt.plot(np.cumsum(pca.explained_variance_ratio_))\nplt.xlabel('Number of Components')\nplt.ylabel('Cummulative variance')\nplt.show()","de1f296c":"## Number of components = 42\npca = PCA(n_components=42,whiten=True)\nX_PCA = pca.fit_transform(X)","25299dc4":"X_PCA","bc6424de":"x_train, x_test, y_train, y_test = train_test_split(X_PCA[:], Y, test_size=.30, random_state=25)","014a7691":"logist = LogisticRegression(max_iter = 250)\nlogist.fit(x_train,y_train)\n##Predicting the test data\ny_predict_logistic = logist.predict(x_test)","57101153":"print('Accuracy score : {}'.format(accuracy_score(y_test,y_predict_logistic)))\nprint('\\n')\nprint('Confusion matrix :')\nprint(confusion_matrix(y_test,y_predict_logistic))\nprint('\\n')\nprint('Classification Report :')\nprint(classification_report(y_test,y_predict_logistic))","a3271bd7":"svm = svm.SVC()\nsvm.fit(x_train,y_train)\n##Predicting the test data\ny_predict_svm = svm.predict(x_test)","034e45a4":"print('Accuracy score : {}'.format(accuracy_score(y_test,y_predict_svm)))\nprint('\\n')\nprint('Confusion matrix :')\nprint(confusion_matrix(y_test,y_predict_svm))\nprint('\\n')\nprint('Classification Report :')\nprint(classification_report(y_test,y_predict_svm))","f8a64fe3":"knn = KNeighborsClassifier(n_neighbors=3)\nknn.fit(x_train,y_train)\n##Predicting the test data\ny_predict_knn = knn.predict(x_test)","a29d61c9":"print('Accuracy score : {}'.format(accuracy_score(y_test,y_predict_knn)))\nprint('\\n')\nprint('Confusion matrix :')\nprint(confusion_matrix(y_test,y_predict_knn))\nprint('\\n')\nprint('Classification Report :')\nprint(classification_report(y_test,y_predict_knn))","51c0f06b":"dtc = DecisionTreeClassifier()\ndtc.fit(x_train,y_train)\n##Predicting the test data\ny_predict_dtc = dtc.predict(x_test)","e90ceabb":"print('Accuracy score : {}'.format(accuracy_score(y_test,y_predict_dtc)))\nprint('\\n')\nprint('Confusion matrix :')\nprint(confusion_matrix(y_test,y_predict_dtc))\nprint('\\n')\nprint('Classification Report :')\nprint(classification_report(y_test,y_predict_dtc))","a05a6b3d":"from sklearn.ensemble import RandomForestClassifier\nrfc = RandomForestClassifier()\nrfc.fit(x_train,y_train)\n## Prediction the test data\ny_predict_rfc = rfc.predict(x_test)","f8b621c4":"print('Accuracy score : {}'.format(accuracy_score(y_test,y_predict_rfc)))\nprint('\\n')\nprint('Confusion matrix :')\nprint(confusion_matrix(y_test,y_predict_rfc))\nprint('\\n')\nprint('Classification Report :')\nprint(classification_report(y_test,y_predict_rfc))","4dc30b86":"from sklearn import svm\ndef lets_try(train,labels):\n    results={}\n    \n    def test_model(model):\n        cv = KFold(n_splits=5,shuffle=True,random_state=15)\n        predicted = cross_val_score(model, train, Y, cv=cv)\n        scores=[predicted.mean()]\n        return scores\n    \n    model = LogisticRegression()\n    results[\"LogisticRegression\"]=test_model(model)\n    \n    model = svm.SVC()\n    results[\"SVM\"]=test_model(model)\n    \n    model = KNeighborsClassifier(n_neighbors=3)\n    results['KNeighborsClassifier']=test_model(model)\n    \n    model = DecisionTreeClassifier()\n    results[\"DecisionTreeClassifier\"]=test_model(model)\n    \n    model = RandomForestClassifier()\n    results[\"RandomForestClassifier\"]=test_model(model)\n    \n    results = pd.DataFrame.from_dict(results,orient='index')\n    results.columns=[\"Accuracy Score\"]\n    \n    results.plot(kind=\"bar\",title=\"Model Scores\")\n    axes = plt.gca()\n    axes.set_ylim([0.5,1])\n    plt.show()\n    \n    return results\n\nlets_try(X_PCA[:],Y)","2de0c1ba":"### Observation :\n* Through this Countplot we can say there is more Male Individual's then Female. We can also go above where we analyzed that there are 67% of Male and 33% of Female.\n* Sex column has 2 unique categories Male and Female .","1cb8b301":"### Observation :\n* Through above analys we can say this boxplot is similar to the capital gain boxplot where most of the values are concentrated on 0.\n* Both income group have Outliers w.r.t. to 'captial.loss' attribute.","d67746a0":"***\n* **We are Creating a Covariance Matrix and then claculating the Eigenvalues.**\n***","4603628b":"## - Using `RFE` to extract the best features and applying `Logistic Regression` on best features:-\n* The `Recursive Feature Elimination` (RFE) method works by recursively removing attributes and building a model on those attributes that remain.\n* It uses accuracy metric to `rank` the feature according to their importance. ","1b727c37":"## - Using PCA to extract the best features :-\n* PCA is a method used to reduce number of variables in the data by extracting important one from a large data. It reduces the dimension of the data with the aim of retaining as much information as possible.\n* n_components : Number of components to keep.\n* whiten : Whitening will remove some information from the transformed signal.\n* explained_variance_ratio : Percentage of variance explained by each of the selected components. If n_components is not set then all components are stored and the sum of the ratios is equal to 1.0.\n* np.cumsum : Return the cumulative sum of the elements along a given axis.","6b264749":"***\n## Comparision of Logistic Regression, SVM,  KNeighborsClassifier, Decision Tree and Random Forest Model performance with PCA :\n* We can see mostly Accuracy score for `Logistic Regression` and `SVM` is same nearly. \n\n* `SVM` and `LogisticRegression` are fits model best with the PCA.\n* Then `RandomForestClassifier` fits best with 83.4% of accuracy score.\n* Then `KNeighborsClassifier` with accuracy score of 81.31%.\n* At last `DecisionTreeClassifier` with accuracy score of 79.88%.\n***","74981d74":"### D. `Decision Tree Classifier` with PCA :","2cc6d84e":"### Observation :\n* Through this Countplot we can state that the occupation of Individual's are more in Prof. specialty, then followed by Craft repair, Adm clerical and rest other occupations.\n* Or we can say 'Prof-specialty' has the maximum samples in the occupation attribute and on the other hand 'Armed-Forces' has minimum samples in the occupation attribute.\n* There are 14 unique categories present in the occupation attribute.","d995ea18":"### Pandas info : \n*     This function is used to get a concise summary of the dataframe.","c5af2937":"***\n* **Now we are taking best features and creating a `DataFrame` of them.**\n***","9c7c214a":"### Observation :\n* The majority of density of Education is lie between 5 and 16 . \n* There are less Outliers.","d8806344":"# Exploratory Data Analysis  : ","7fd8b92c":"# -- Boxplot : ","fc76c2a0":"* **The data contains a good blend of categorical, numerical and missing values.**","3da852f6":"### Observation :\n* Through this graph we can state that Both capital gain and capital loss can be zero.\n* We can also conclude through above analysis that has been done that, If Capital Gain is zero there is possibility of capital loss being high or above zero vise-versa; if Capital Loss is zero there is possibility of Capital gain being above zero or high.","e23ca2ed":"### Observation :\n* Through this Countplot, we can state that the Individual's highest education degree is HS-grad which is most of them (Individual's) got followed by others  Degree like Some-college, Bachelors, etc.\n* There are 16 unique categories present in the education attribute.","d8bea48f":"## - Train Test Split :-","188de508":"### Identifying missing values in columns : ","8946d540":"***\n**Observation :-**\n* Based on the plot above it's clear we should pick 42 features.\n***","6e8a52eb":"## - Model evaluation :-","5f4d9194":"##       (B.) Bivariate Analysis  :","d0c75323":"### Observation :\n* Through this graph we state that for Individual marital status, the Married-civ-spouse are more than others which is followes by those Never married, Divorced marital, etc.\n* There are maximum number of observation in Married-civ-spouse.\n* There are minimum  number of observation in Married-AF-spouse.\n* This marital.status attribute has 7 unique categories.","8a4b66a4":"### Observation :\n* White people are earning more income and working most of the hours per week.","b79ce26f":"***\n* **Using best features we get 84.59% of accuracy score.**\n***","32a52b18":"### Observation:\n* Through this distplot we can state highest frequency is between individual's year of receiving education is between 8-9 .","8a165dd1":"## -- Pie chart  :","cdd8a55b":"## - Encoding categorical features :-","70607ef8":"***\n* **A `Classification report` is used to measure the quality of predictions from a classification algorithm.**\n***","a5e5a334":"### Observation :\n* In above we can say there are 3 columns contain missing values i.e., 'workclass', 'occupation', 'native.country'.  In this where the data contain missing values has been shown using True and reset that doesn't contain missing values are represented as False.","343e548b":" *  We can see that missing values are present in the form of \"?\" in \"workclass\",\"occupation\", \"native.country\" so we are replacing it with NaN (not a null) for identifying them as missing value for further analysis.","d88969a7":"### Observation :\n* Through this graph we can state that  Individual's native country are more United States(27504). And this also can be seen through the above analysis where mostly Individual's native country is United States.\n* There are 41 unique categories present in the 'native.country' attribute. But due to alot of variable we have taken 5 varaibles to show in Countplot.","5de39ce6":"### Observation :\n* Through this Boxplot we can state that most of Individuals work between 35 - 55 hours per week.","c148b0ef":"### Observation :\n* Through this Countplot, we can state that in Race of Individual there are more White person, then others. \n* There are 5 unique categories in the race attribute.","d163007b":"# -- Histogram :","eabb612f":"## Loading the dataframe","ae938208":"## Treating Missing values in Dataset : ","1de8557a":"## -- CountPlot : ","79f8593e":"### Observation : \n* Through this graph we can state that the Individual's year of receiving education is more in 9th. And the frequency is greater in year of 9th.","1a9d9391":"## - We can also use `KFold` by spliting the data into 4 part and applying each part in model.\n* **`KFold` : Provides train\/test indices to split data in train\/test sets. Split dataset into k consecutive folds (without shuffling by default). It generally results in a less biased model compare to other methods.**\n* **`cross_val_score` : Returns score of each test folds.**","78e1e066":"## Viewing the dataset ","086cf76f":"### Observation :\n* Through this barplot we can say that in both group of sex gender (Male and Female) the Individual income are have more in 50K (>50K). ","2ab09e1d":"### Observation :\n* We can observe through above barplot that Males have more flexible working hours per week in the income groups who earns >50k. ","703ec640":"## Identifying Missing Value :\n*     df.isnull() - It returns True if values are missing","a7aa9e30":"***\n**- Using `OneHotEncoder` each category value is converted into a new column and assigned a 1 or 0 (notation for true\/false) value to the column.**\n***","b16b1b04":"### Observation :\n* Through this Countplot, we can state that more no. of Individual are mainly in Private work category. Then Self employee, etc.\n* There are 7 unique categories present in the workclass attribute.","aa0306b4":"### Observation :\n* In above using 'info' function we found that there is missing values in Dataset which was represented by '?' and in starting when loading the data set we converted the value '?' to null value ('NaN').\n* And this info function states data type of each columns it has. In this Dataset there is only 2 data type i.e. int and object.","0c1b5500":"### Observation : \n* We can observe from above barplot that Individual's having the relationship with husband earns more income.","e0d36418":"# Conclusion of EDA :\n * Females have more flexible working hours per week in the income groups who earns <=50k. Whereas Males have more flexible working hours per week in the income groups who earns >50k.\n *  Generally Individual's can be seen working for 30 hours to 40 hours per week. \n * Income group of Individuals who earns >50k have flexible working hours.\n * Education.num attribute is affecting the target\n * Captial Gain and Capital Loss attribute have most of the  outliers.\n * Workclass and Occupation attribute have more no. of missing value that has been treated above by droping them as there were less no. of rows containing missing value in the whole dataset. So the Dataset is not affected by it.\n * For some of the Individuals the workclass and occuption attribute variable is missing and they are from United states. ","e82c3c09":"### -- PDF (Probability Distribution Function) : ","44c0b822":"### Observation for numeric attribute :\n * In this data of attributes 'age','educational.num','capital.gain','capital.loss' and 'hours.per.week' is continuous.\n \n#### - Age :-\n* This attribute has Age of an individual.\n* The mean value is 38.43. Age is having the standerd deviation 13.13.\n* The value of Age attribute varies from 17 to 90.\n\n#### - Educational.num :-\n* This attribute has Individual's year of receiving education.\n* The mean value is 10.12 and median is 10.\n\n#### - Capital.gain :-\n* For capital.gain, the mean is 1092 and median is 0, which indicates that the distribution is highly right skewed.\n* In the attribute capital.gain shows that either a person has no gain\/profit or has gain of very large amount.\n\n#### - Capital.loss :-\n* This attribute is similar to the capital.gain i.e. either a person has no loss or has loss with very large amount.\n* The Mean is 88.37 but median is 0.\n\n#### - Hours.per.week :-\n* This attribute means number of working hours spend by an individual in a week.\n* This data the hours.per.week atrribute varies within the range of 1 to 99.","1d6ee5ff":"### Pandas Dropna function : \n* Using the dropna function from pandas we are removing all the missing values by removing the rows where missing values occur.","3e6da806":"## Observation\n * The Individual of Age between ~18 to ~70 works most of the hours per week get the more paid income i.e. greater than 50.\n * We can also state that from Age attribute that most of the people earns greater than 50k.\n * Income group who earns >50k have flexible working hours.\n * Individual's having captial gain\/profit or no profit earns grater than 50k, whereas Individual's having captial loss or no   loss mostly earns lower than 50k.\n * Most of the Individuals more educational numbers have more income or greater than 50k.","2bebde69":"### Observation :\n* Through this Boxplot we can say more age of Indivials earns more than 50K. and more female under less range of age earns less than 50K.\n* There are  many Outliers in both the income group in upper end.\n* There is a relationship between sex and income.\n","35cf937c":"###  Percentage of rows that were removed while handling missing values : ","997a8cab":"### Observation:\n* Through this plot we can say mainly of density lie at point 0 .","a5aa7e5c":"\n## -- Hexbin plot : ","c14038c8":"### Observation :\n* Through this Boxplot we can say there is less no. of Individuals those who are getting Profit or Loss.\n* There is Majority of Outliers.\n* Through this we can also state that both capital gain and capital loss can be zero.","23010390":"## -Train Test Split on the best features :-","cbb3f2c2":"## - Train the model on Training Data :-","2581a8ff":"### Observation :\n* Through this Countplot we can state that the Individual's relation in a family are more with Husband, and then followed by that have no relationship with family and other relationships.\n* There are 6 unique categories in the relationship attribute.","06df549d":"## -- Heatmap :","7486124a":"***\n* **Here we are taking 70% of data for training and 30% data for testing.**\n* **`random_state` just fix the randomness of data state which will not change.**\n***","7e3c1e34":"### Predicting the Model","76aed29e":"## Observation from above heatmap :-\n * There is no strong correlation among the numeric attributes.\n * There is neither strong positive nor strong negative correlation present in any variable .\n * There is correlation present between capital gain and hours.per.week with value 0.08 .","08cb9080":"### Applying the best feature we will Train the model on Training Data","d1383af7":"### Observation :\n* In this the chart we can say 75.11% of them are belong to income group who earns less than 50k (or <=50K) and 24.89% fall under the income group who earns more than 50k (or >50K).","4bc69422":"### Observation :\n* Through this Percentage distrubution of Workclass, we can state that 73.89% of Individual's or Majority of Individual's work in Private sector. ","667a4dab":"### Observation :\n* Through this bivarite analysis between Age and income we can say the income group(<=50k) has median of age 34 year which lower than the income group(>50k) which has median of age 43 year .\n* Outliers present in both the income group w.r.t. \"age\" attribute.\n* For income group(<=50k) Interquartile range (IQR) is between 25 & 46 . And on the other hand for income group(>50k) the IQR is between 38 & 50 .","5aeab407":"### Observation :\n* Through this Piechart for Percentage distribution of sex column we can state that 67.57% of Individual's are Male and 32.43% of Individual's are Female. ","90536a8c":"## - Standardizing numerical data :-","cf21b711":"### Observation:\n* Through this 1st graph we can state that there are many Individuals with no Captial gain or profit.\n* 'capital-gain' shows that either a person has no gain or has gain of very large amount\n* 2nd Histogram we can say that for most of the Individuals there is no financial loss\/captial loss.","08e97a93":"### Observation for categorical attribute :\n* In this the data of attributes 'workclass','education','marital.status','occupation','relationship','race','gender','native.country' is categorical.\n\n#### - Workclass :-\n* In this attributes shows the Individual work category.\n* The top category in workclass is 'Private' and the Frequency of 'Private' is 22286.\n* There are 7 unique categories present in the workclass attribute.\n\n#### - Education :-\n* The attribute 'education' shows the Individual's highest education degree.\n* The top category in education is 'HS-grad' and the Frequency of 'HS-grad' is 9480.\n* There are 16 unique categories present in the workclass attribute.\n\n#### - Marital.status :-\n* The attribute 'marital.status' shows the Individual marital status.\n* The top category in marital.status is 'Married.civ.spouse' and the Frequency of 'Married.civ.spouse' is 14065.\n* There are 7 unique categories present in the marital.status attribute.\n\n#### - Occupation :-\n* The attribute 'occupation' shows the Individual's occupation.\n* The top category in occupation is 'Craft-repair' and the Frequency of 'Craft-repair' is 4038.\n* There are 17 unique categories present in the occupation attribute.\n\n#### - Relationship :-\n* The attribute 'relationship' shows the Individual's relation in a family.\n* The top category in relationship is 'Husband' and the Frequency of 'Husband' is 12463.\n* There are 6 unique categories present in the relationship attribute.\n\n#### - Race :-\n* The attribute 'race' shows the Race of Individual.\n* The top category in race is 'White' and the Frequency of 'White' is 25933.\n* There are 5 unique categories present in the race attribute.\n\n#### - Sex :-\n* The top category in sex is 'Male' and the Frequency of 'Male' is 20380.\n* There are 2 unique categories present in the sex attribute.\n\n#### - Native.ountry :-\n* The attribute 'native.country' shows the Individual's native country.\n* The top category in native.country is 'United-States' and the Frequency of 'United-States' is 27504.\n* There are 41 unique categories present in the native.country attribute.","3771eacc":"### Observation :\n* Through this Percentage distrubution for Race, we can state that 85.98% are White.","6ea64788":"### Observation :\n* Through this Boxplot we can conclude that mostly Male sex gender works  most of the hours per week than female. Then Individual's who working more hours per week earning mostly.\n* We can see the outliers in both the ends.","098f7b20":"### Observation :\n* From the above Boxplot we got some interesting results i.e., Individual with the some relationship status and with income group >50K (more than 50k) often work for more hours per week.\n*  We can see the outliers in the data. Individuals with relationship status \u2018Not-in-family\u2019 and income group <=50k have a large number of outliers at both the ends.","5d4c60e6":"***\n* **The `Accuracy Score` of the model is 84.59 %**\n***","4fbacdb0":"# Adult Dataset :\nThis data was extracted from the 1994 Census bureau database by Ronny Kohavi and Barry Becker (Data Mining and Visualization, Silicon Graphics).\n\n * In this Dataset we have 32561 observation and 15 attributes including target attribute(income).\n * Where it have Categorical and numeric variabels in attribute.\n * Attributes with numeric values are 'age','fnlwgt', 'education.num', 'capital.gain', 'capital.loss' and 'hours.per.week'.\n * Attributes with categorical values are 'workclass', 'education', 'marital.status', 'occupation', 'relationship', 'race', 'sex' and 'income'.\n\nAttribute Information\/Fearures\/Columns :\n* age: continuous.\n* workclass: Private, Self-emp-not-inc, Self-emp-inc, Federal-gov, Local-gov, State-gov, Without-pay, Never-worked.\n* fnlwgt: continuous.\n* education: Bachelors, Some-college, 11th, HS-grad, Prof-school, Assoc-acdm, Assoc-voc, 9th, 7th-8th, 12th, Masters, 1st-4th, 10th, Doctorate, 5th-6th, Preschool.\n* education.num: continuous.\n* marital.status: Married-civ-spouse, Divorced, Never-married, Separated, Widowed, Married-spouse-absent, Married-AF-spouse.\n* occupation: Tech-support, Craft-repair, Other-service, Sales, Exec-managerial, Prof-specialty, Handlers-cleaners, Machine-op-inspct, Adm-clerical, Farming-fishing, Transport-moving, Priv-house-serv, Protective-serv, Armed-Forces.\n* relationship: Wife, Own-child, Husband, Not-in-family, Other-relative, Unmarried.\n* race: White, Asian-Pac-Islander, Amer-Indian-Eskimo, Other, Black.\n* sex: Female, Male.\n* capital.gain: continuous.\n* capital.loss: continuous.\n* hours.per.week: continuous.\n* native.country: United-States, Cambodia, England, Puerto-Rico, Canada, Germany, Outlying-US(Guam-USVI-etc), India, Japan, Greece, South, China, Cuba, Iran, Honduras, Philippines, Italy, Poland, Jamaica, Vietnam, Mexico, Portugal, Ireland, France, Dominican-Republic, Laos, Ecuador, Taiwan, Haiti, Columbia, Hungary, Guatemala, Nicaragua, Scotland, Thailand, Yugoslavia, El-Salvador, Trinadad&Tobago, Peru, Hong, Holand-Netherlands.\n* income: >50K, <=50K ","67397e1a":"### Observation :\n* Through this analysis between education.num and income we can say the income group(<=50k) has median of 9 year i.e. year of receiving education which lower than the income group(>50k) which has median of 12 year of receiving education.\n* Outliers present in both the income group w.r.t. \"education.num\" attribute, where we can say the income group(<=) has more outliers than group (>50k).\n* For income group(<=50k) Interquartile range (IQR) is between 9 & 10 . And on the other hand for income group(>50k) the IQR is between 10 & 13 .","1f68ad75":"***\n* **A `Confusion matrix` is an N x N matrix used for evaluating the performance of a classification mode. For binary classification problem [ [TP, FP], [FN, TN] ].**\n* **where;** \n    - **TP** - True Positive \n    - **TN** - True Negative\n    - **FP** - False Positive\n    - **FN** - False Negative\n***","0d707c77":"## - Prediction on Test Data :-","a8656f99":"### Distribution of features","4b191532":"### Observation :\n* We can look through the above analysis and state that there are 68% of Male Individuals and 32% of Female Individuals.","ac608127":"* **There are 32561 instances(Rows) and 15 attributes(columns) in the dataset.**","246ba3f5":"### Observation :\n* \"age\" attribute is not symmetric.\n*  Above graph is right-skewed.\n* Minimum and Maximum age of the people is 17 and 90 respectively.\n* Through this Histogram we can say that Age of an Individual is more in between 22 and 38. And maximum age is approx. 36 or 37. And the Frequency of Age is more at Age of approx. 37 .","25ddaed1":"### Pandas Shape :\n*     Returns tuple of shape (Rows, columns) of Dataframe.\n","6f163f86":"## -- Boxplot :","951d39ad":"### Observation :\n* Through this P. dist. graph the results say that \"age\" attribute is not symmetric.\n* Minimum and Maximum age of the people is 17 and 90 respectively.","7e4532f8":"### Observation :\n* Through this plot we can state the density is mainly between 40 - 60 hours per week where the age density is between 20 to 65 year of age.","d52cb33f":"### E. `Random Forest Classifier` with PCA :","3bdff7ab":"### Pandas Describe : \n* Generate descriptive statistics.","cb77b0a0":"## Importing the required Libraries ","d2f3b4d8":"### Information about dataset","183d6998":"***\n## - Observation :-\n* We can conclude that for `Logistic Regression` have highest `Accuracy Score` i.e. 84.46 %. It fits are model best with `PCA`.\n\n* On the other hand `SVM` accuracy score is very much near to `Logistic Regression` i.e. 84.10 % (for `SVM`).\n\n* For `RandomForestClassifier` the accuracy score is 83.75 %.\n\n* For `KNeighborsClassifier` the accuracy score is 81.30 %. \n\n* For `DecisionTreeClassifier` the accuracy score is 80.42 %. with is less then other models.\n***","b7e2ac13":"***\n* **Using `StandardScaler` it Standardize features by removing the mean and scaling to unit variance**\n***","cc9c6a8d":"## -- Scatter Plot :","4b4f400d":"### Observation :\n* In this data the hours per week atrribute varies within the range of 1 to 99.\n* Through this plot we can state that more Individual's working around 40 hour per week. And Highest hours per week is 40 hrs\/week.\n* There are also few people who works 80-100 hours per week and some less than 20 which is unusual.","410dec53":"### C. `KNeighborsClassifier` with PCA :","20ba712c":"### Observation:\n* Through this bivarite analysis between  and income we can say the Median of \"hours.per.week\" for income group who earns >50k is greater than the income group who earns <=50k.\n* Outliers present in both the income group w.r.t. \"age\" attribute. But more Outliers present in the income group who earns <=50k.\n* For those income group who earns >50k has spend approx 45 hours per week than for those income group who earns <=50k has spend approx 38 hours per week.\n* It means that hours per week has some contribution to the distinguish income groups.","c7a0f7d6":"***\n* **`train_test_split` is a function in `Sklearn` model selection for splitting data arrays into two subsets: for training data and for testing data.**\n***","389e2922":"## -- Pairplot :","b65201eb":"### Columns with atleast one missing value :","26832eb2":"* In Countplot for each categorial variable, Y-axis represent  the no. of counts each type in variable , and X-axis represent the Type in variables.\n","acca01ee":"### Observation :\n* Through this plot we can state that most of the capital gains value is accumulated at 0 for both the income group (<=50k and >50k) .\n* Both income group have Outliers w.r.t. to 'captial.gain' attribute.","38f32d54":"##       (A.) Univariate Analysis  :","1fa11bb4":"### Observation:\n* Through this Boxplot we can say that the median of 'age' is 37. In Age plot after Highest obeservation (78) there are some outliers between age of 78 and 90. Range is 20.","56e5ae7d":"### Pandas Head : \n*     This function returns the first 5 rows from the Dataframe.","97750d52":"### Observation of pattern towards the missing value :\n* We can see that the Workclass and occupation having the missing value of the Individuals who are from United sates.\n* And the occupation have missing value where the workclass is empty.","4eb89dee":"### Observation :\n* In above we can say that in 'workclass' there are 1836 missing values followed by 'occupation' having missing values 1843 and 'native.country' having missing values 583.","e733ffb7":"### A. `Logistic Regression` with PCA :","a99fb582":"***\n* **We are concatenating both the dataframe using Pandas function `concat()`.**\n***","cd5c1fe4":"### B. `Support Vector Machine` with PCA :","a9c1c9a0":"### Pandas Tail : \n*     This function returns last 5 rows from Dataframe."}}