{"cell_type":{"51f5b5fd":"code","856a9d21":"code","51e1ace3":"code","a9c3eff2":"code","d7f5eb45":"code","4b87de72":"code","8bb13515":"code","8085c166":"code","f96b1149":"code","e3a57bda":"code","1cc7a8ea":"code","a7d906f8":"code","335ae1c6":"code","6ff1f160":"code","b5d43bed":"code","d7238e3d":"code","5985e5ea":"code","e226ee45":"code","a1435dd2":"code","155a57e6":"code","a9039647":"code","a4b53d23":"code","e3bad644":"code","dc84f1a5":"code","d226f5e1":"code","2d7aeeca":"code","dea7086e":"code","63230e2c":"code","030ec964":"code","6ac0f75a":"code","85eeddef":"code","9df2c4e9":"code","d8422aaa":"code","2bfabab9":"code","3f4044fa":"code","09dc5889":"code","9f8023e9":"code","d9cbb9b3":"code","7bdf87e4":"code","87f1feb5":"code","ff45eab7":"code","6af4ebc7":"code","0488a1ff":"code","b16b3d31":"code","a63f476c":"code","de637015":"markdown","0fc5fdb5":"markdown","3d0b0983":"markdown","7e201f41":"markdown","b89f361e":"markdown","1ca342e6":"markdown","113865aa":"markdown","c446c165":"markdown","bd4aeed7":"markdown","c85c0413":"markdown","6594404b":"markdown"},"source":{"51f5b5fd":"# importing libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n","856a9d21":"# importing the dataset\nfile_path = \"..\/input\/us-accidents\/US_Accidents_Dec20_updated.csv\"\n\ndf = pd.read_csv(file_path)\n","51e1ace3":"df.dtypes","a9c3eff2":"df.shape","d7f5eb45":"df.info()","4b87de72":"# MISSING VALUES\ndf.isna().sum()","8bb13515":"# missing values column\nfeatures_with_na=[features for features in df.columns if df[features].isnull().sum()>1]\nfeatures_with_na","8085c166":"for feature in features_with_na:\n    print(feature, np.round(df[feature].isnull().mean(), 8),  ' % missing values')","f96b1149":"len(df['State'].unique())","e3a57bda":"df['State'].unique()","1cc7a8ea":"len(df['City'].unique())","a7d906f8":"# Taking state in consideration as it has no null values\nstate_count=df.groupby('State').count().reset_index()\nstate_count.head(3)\n","335ae1c6":"state_count_sort=state_count.sort_values(by = \"ID\",ascending=False)\nstate_count_sort.head(3)","6ff1f160":"a4_dims = (11.7, 20)\nfig, ax = plt.subplots(figsize=a4_dims)\nsns.barplot(y=\"State\", x=\"ID\",data=state_count_sort)","b5d43bed":"len(df['City'].unique())","d7238e3d":"# top city where state is CA\ntop_city_inca=df.groupby('State').get_group('CA').groupby('City').count().reset_index().sort_values(by = \"ID\",ascending=False)\ntop_city_inca=top_city_inca.head(10)","5985e5ea":"a4_dims = (10, 12)\nfig, ax = plt.subplots(figsize=a4_dims)\nsns.barplot(y=\"City\", x=\"ID\",data=top_city_inca)","e226ee45":"# dropping missing values row\ndf=df.dropna()","a1435dd2":"df.info()","155a57e6":"df['Temperature(F)'].mean()","a9039647":"a4_dims = (10,4)\nfig, ax = plt.subplots(figsize=a4_dims)\nsns.histplot(df['Temperature(F)'])","a4b53d23":"plt.boxplot(df['Temperature(F)'])","e3bad644":"# state wise temperature distribution\ntemp_state=df.groupby('State')['Temperature(F)'].mean().reset_index().sort_values(by = \"Temperature(F)\",ascending=False)\ntemp_state.head()","dc84f1a5":"temp_state.mean()","d226f5e1":"temp_state.loc[temp_state['Temperature(F)'] <= 54.5, 'State_condition'] = 'Cold' \ntemp_state.loc[temp_state['Temperature(F)'] > 54.5, 'State_condition'] = 'Hot' ","2d7aeeca":"temp_state.head()","dea7086e":"state_count_sort=state_count_sort.iloc[:,[0,1]]\nstate_count_sort.head(5)","63230e2c":"final_table=pd.merge(temp_state,state_count_sort,on='State')","030ec964":"final_table=final_table.sort_values(by = \"ID\",ascending=False)","6ac0f75a":"final_table.head(15)","85eeddef":"sns.relplot(x='ID',y='Temperature(F)',hue='State_condition',data=final_table)","9df2c4e9":"df['Start_Time']","d8422aaa":"times = pd.to_datetime(df.Start_Time)\ntimes=df.groupby([times.dt.hour]).count().sort_values(by = \"ID\",ascending=False).iloc[:,[0]]\ntimes=times.reset_index()","2bfabab9":"sns.barplot(x='Start_Time',y='ID',data=times)\nplt.xticks([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])\nplt.show()","3f4044fa":"times = pd.to_datetime(df.Start_Time)\ntimes=df.groupby([times.dt.month]).count().sort_values(by = \"ID\",ascending=False).iloc[:,[0]]\ntimes=times.reset_index()","09dc5889":"times","9f8023e9":"sns.barplot(x='Start_Time',y='ID',data=times)\nplt.xticks([1,2,3,4,5,6,7,8,9,10,11,12])\nplt.show()","d9cbb9b3":"times = pd.to_datetime(df.Start_Time)\ntimes=df.groupby([times.dt.year]).count().sort_values(by = \"ID\",ascending=False).iloc[:,[0]]\ntimes=times.reset_index()","7bdf87e4":"times","87f1feb5":"a4_dims = (10, 5)\nfig, ax = plt.subplots(figsize=a4_dims)\nx=times.Start_Time\ny=times.ID\nplt.plot(x, y, color='Red')\nplt.xticks([2016,2017,2018,2019,2020])\nplt.show()","ff45eab7":"df.info()","6af4ebc7":"import geopandas as gpd\nfrom geopandas import GeoDataFrame\nfrom shapely.geometry import Point,Polygon\nimport descartes","0488a1ff":"loc_map=df.groupby(['Start_Lat','Start_Lng']).count().reset_index().sort_values(by = \"ID\",ascending=False).iloc[:,0:3]\nloc_map=loc_map.head(20)","b16b3d31":"geometry = [Point(xy) for xy in zip(loc_map['Start_Lng'], loc_map['Start_Lat'])]\ngdf = GeoDataFrame(loc_map, geometry=geometry)   \n#this is a simple map that goes with geopandas\nworld = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))\ngdf.plot(ax=world.plot(figsize=(10, 6)), marker='o', color='red', markersize=15);","a63f476c":"import matplotlib.pyplot as plt\nplt.scatter(x=loc_map['Start_Lng'], y=loc_map['Start_Lat'])\nplt.show()","de637015":"Top state in road accident is CA in which LA city is top city","0fc5fdb5":"From the top 15 accident prone state 9 of them are in hot area while 6 of them are in cool area. ","3d0b0983":"## What are the top cities\/states in accidents","7e201f41":"## What is trend of accidents over years","b89f361e":"## At what time the accidents are more","1ca342e6":"## How is the accidents located in the maps","113865aa":"From the plot it seems that september to december months have high chance of accident.","c446c165":"From the plot it seems that 12:00 to 18:00 timestamp has high chance of accident.","bd4aeed7":"## In which month accidents are more","c85c0413":"# EDA Project","6594404b":"## Is accidents more in colder areas or warmer areas"}}