{"cell_type":{"b984904b":"code","b78038b4":"code","fa720307":"code","ebc5439a":"code","35979274":"code","576c7bbf":"code","de2d0067":"code","664268aa":"code","ad7f1f3f":"code","c7c43a3a":"code","ad274b94":"code","2ca13d3f":"code","b739306a":"code","573f110d":"code","aa3d5648":"code","190b6762":"code","24321a43":"code","ef5239aa":"code","c57908ec":"code","c33600fd":"markdown","32ef57c5":"markdown","5a9c5bd9":"markdown","903dae58":"markdown","7ca6610c":"markdown","8e07f950":"markdown","9720af7b":"markdown","5f3600f7":"markdown","1a2e5044":"markdown","8b584c26":"markdown","5b9706ae":"markdown","34771d36":"markdown","cc66c281":"markdown","b5644d83":"markdown","0938d686":"markdown","c1b9458a":"markdown","9a6cafc3":"markdown","3f9e7151":"markdown","591b8f18":"markdown","bb5a6f03":"markdown","4d63f7e6":"markdown","fdef1c90":"markdown","e23c72d4":"markdown","72683456":"markdown","8383e25a":"markdown"},"source":{"b984904b":"import numpy as np \nimport pandas as pd \nimport matplotlib\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.style as style\n\n\n%matplotlib inline\nprint(\"Bibliotecas carregadas\")","b78038b4":"stf = pd.read_csv('..\/input\/STF_dec_mono_texto.csv', sep='|')\nprint('Dados carregados')","fa720307":"stf","ebc5439a":"stf.shape","35979274":"stf.loc[0, 'Decisao']","576c7bbf":"stf[\"Classe_abrev\"].value_counts()","de2d0067":"stf[stf['Classe_abrev'] == 'AORCPR732']","664268aa":"sns.set_context(\"poster\")\nstyle.use('fivethirtyeight')\nfig, ax = plt.subplots()\nfig.set_size_inches(19.27, 30.7)\nax = sns.countplot(y=\"Classe_abrev\", data=stf, palette=('Set1'))\nax.set_title('Classes processuais presentes na base de dados')\nplt.figtext(0.95, 0.05, 'Fonte: Legal Hackers Natal', horizontalalignment='right')\nax.set(ylabel='Classes (abrevida)')\nax.set(xlabel='Quantidade')\nfigura = ax.get_figure()","ad7f1f3f":"from datetime import datetime\n\n\nstf['Data_Decisao'] = stf['Data_Decisao'].apply(lambda x: datetime.strptime(x, '%d\/%m\/%Y'))\nstf","c7c43a3a":"stf.sort_values(by='Data_Decisao', ascending=False)","ad274b94":"stf[stf['Relator'] == 'celso de mello']","2ca13d3f":"stf2 = pd.read_csv('..\/input\/STF_dec_mono_class.csv', sep='|', low_memory=False)\nprint(\"Dados carregados\")","b739306a":"stf2","573f110d":"stf2.shape","aa3d5648":"stf2['Andamento'].value_counts()","190b6762":"stf2['Assuntos']","24321a43":"stf2.loc[99, 'Assuntos']","ef5239aa":"stf3 = pd.read_csv('..\/input\/STF_dec_mono_texto_class.csv', sep='|')\nstf3","c57908ec":"for item in stf3.loc[14, ['Assuntos', 'Decisao']]:\n    print(item)","c33600fd":"<p>Pedimos tamb\u00e9m que, ao utilizar estes dados, seja feita a refer\u00eancia \u00e0 fonte:<\/p>\n<p>LEGAL HACKERS NATAL; MACHADO, Felipe; MACEDO; Igor. <b>Base de dados de decis\u00f5es monocr\u00e1ticas do Supremo Tribunal Federal<\/b>, Brasil, mar\u00e7o de 2019. Dispon\u00edvel em: <https:\/\/www.kaggle.com\/igorafm\/datastf>","32ef57c5":"O conte\u00fado dessa segunda base pode ser visto invocando seu nome, conforme definido na c\u00e9lula anterior:","5a9c5bd9":"<p>Um dos usos poss\u00edveis da combina\u00e7\u00e3o dessas duas bases \u00e9, por exemplo, associar o <b>texto da decis\u00e3o<\/b> com a <b>lista de temas<\/b> para \u2013 por meio de <b>Aprendizado de M\u00e1quina<\/b> (<i>Machine Learning<\/i>) \u2013 a contru\u00e7\u00e3o de um classificador de textos. Nesse caso, o computador iria formular uma \"l\u00f3gica\" para relacionar o conjunto de temas (Direito Administrativo e licita\u00e7\u00e3o, por exemplo) com <b>palavras que usualmente aparecem no texto de decis\u00f5es<\/b> categorizadas com essa tem\u00e1tica (preg\u00e3o, registro de pre\u00e7o, habilita\u00e7\u00e3o, etc). Dessa forma, \u00e9 poss\u00edvel que o computador \"aprenda\" quando uma decis\u00e3o trata de Direito Administrativo, Penal, Tribut\u00e1rio, Civil etc. <\/p>\n<p>Para exemplificar, vamos exibir os temas e o texto da decis\u00e3o do d\u00e9cimo quinto processo:<\/p>\nObs.: os <b>temas<\/b> s\u00e3o exibidos na parte superior, com <b>letras mai\u00fasculas<\/b>, e o teor da decis\u00e3o \u00e9 o texto que segue.","903dae58":"Como \u00e9 poss\u00edvel observar na lista acima, h\u00e1 <b>87 tipos de andamentos<\/b> cadastrados pelo STF na base de dados. ","7ca6610c":"Para saber o assunto contido no cent\u00e9simo processo na base de dados:\n\nObs.: Lembre-se que\na contagem pela biblioteca Pandas come\u00e7a do item 0","8e07f950":"<p>Agora, por exemplo, podemos <b>ordenar as decis\u00f5es<\/b> conforme a data em que foram <b>proferidas<\/b> (neste caso, partindo das mais recentes, que s\u00e3o de 7 de mar\u00e7o de 2019)<p>\n","9720af7b":"Por meio do comando a seguir, \u00e9 poss\u00edvel verificar que a base de dados cont\u00e9m informa\u00e7\u00f5es sobre <b>397.043 decis\u00f5es<\/b>, organizadas em <b>12 colunas<\/b>.","5f3600f7":"<p>O conte\u00fado de algumas das colunas nessa segunda base de dados j\u00e1 fica claro pela explica\u00e7\u00e3o anterior, ent\u00e3o, quanto \u00e0s colunas \"novas\", temos:<\/p>\n<b>Data Autua\u00e7\u00e3o<\/b>\n<p>Data em que o processo foi autuado (foi recebido) no STF.<\/p>\n<b>Classifica\u00e7\u00e3o STF<\/b>\n<p>Se o caso \u00e9 da compet\u00eancia <i>recursal<\/i> ou <i>origin\u00e1ria<\/i> do STF. Os que est\u00e3o na primeira situa\u00e7\u00e3o chegaram ao Supremo Tribunal Federal por meio de recurso, enquanto que os da segunda categoria j\u00e1 se iniciaram no pr\u00f3prio STF.<\/p>\n<b>Julgador<\/b>\n<p>O  relator do caso no STF.<\/p>\n<b>Tipo Decis\u00e3o<\/b>\n<p>Se a decis\u00e3o foi proferida de forma monocr\u00e1tica ou n\u00e3o. Como j\u00e1 afirmado aqui, exceto por uma pequena quantidade de decis\u00f5es listadas como <i>N\u00e3o informada<\/i>, essas bases de dados s\u00e3o formadas por centenas de milhares de decis\u00f5es monocr\u00e1ticas.<\/p>\n<b>Relator Atual<\/b>\n<p>Ministro respons\u00e1vel pelo caso no STF.<\/p>\n<b>Andamento<\/b>\n<p>Coluna dedicada ao sentido da decis\u00e3o tomada pelo relator. Assim, \u00e9 poss\u00edvel encontrar aqui, por exemplo, se foi deferido um pedido de medida liminar no processo ou se foi negado seguimento ao recurso. Vamos explorar um pouco mais desta coluna abaixo.<\/p>\n<b>Data Andamento<\/b>\n<p>Data em que foi lan\u00e7ado o andamento processual informado no campo anterior.<\/p>\n<b>Observa\u00e7\u00e3o Andamento<\/b>\n<p>Anota\u00e7\u00f5es sobre o andamento processual.<\/p>\n<b>Prefer\u00eancia Criminal<\/b>\n<p>Se o caso envolve prefer\u00eancia para julgamento por ser de natureza criminal.<\/p>\n<b>Qtd Ocorrencias Processuais<\/b>\n<p>Quantidade de ocorr\u00eancias processuais de um caso.<\/p>\n<b>Assuntos<\/b>\n<p>Lista de mat\u00e9rias e temas jur\u00eddicos contidos no processo.<\/p>\n\n\n","1a2e5044":"Nessa segunda base de dados, talvez a coluna mais interessante seja <i>Assuntos<\/i>. H\u00e1 uma enorma variedade de temas aqui, como se pode verificar pela listagem dos itens da referida coluna com o seguinte comando:","8b584c26":"Podemos visualizar como os dados est\u00e3o estruturados simplesmente invocando o nome (tecnicamente, chamado de <i>vari\u00e1vel<\/i>) da base de dados:","5b9706ae":"<p>Algumas an\u00e1lises dependem do momento em que a decis\u00e3o foi proferida, ent\u00e3o podemos transformar uma coluna (que, originalmente, est\u00e1 em formato <i>string<\/i>) em <i>datetime<\/i> (outro formato, que facilita opera\u00e7\u00f5es com datas).<\/p>\nObs.: ap\u00f3s a execu\u00e7\u00e3o do c\u00f3digo abaixo, observe as datas na coluna <i>Data_Decisao<\/i>, que ser\u00e3o mostradas no padr\u00e3o <b>Ano-M\u00eas-Dia<\/b>.","34771d36":"Mais uma vez, tivemos um problema na captura das informa\u00e7\u00f5es e algumas datas foram capturadas erradas (as que est\u00e3o no final da lista acima). No entento, isso n\u00e3o impede o uso dos dados, j\u00e1 que, conforme a an\u00e1lise que se deseja desenvolver, \u00e9 poss\u00edvel fazer as devidas corre\u00e7\u00f5es com facilidade.","cc66c281":"<p>As colunas s\u00e3o:<\/p>\n<b>Processo<\/b>\n<p>Formado pela sigla da classe processual (por exemplo: RE) mais o n\u00famero de registro no STF. No meio jur\u00eddico, \u00e9 comum se referir aos casos utilizando o identificador contido nesta coluna.<\/p>\n<b>Origem<\/b>\n<p>Estado (sigla) de origem do processo.<\/p>\n<b>Classe_abrev<\/b>\n<p>Forma abreviada da classe processual.<\/p>\n<b>Classe<\/b>\n<p>Nome da classe processual.<\/p>\n<b>Relator<\/b>\n<p>Nome do ministro que atua como relator do caso no STF. \u00c9 importante esclarecer que esta base cont\u00e9m decis\u00f5es de alguns ministros que atualmente est\u00e3o aposentados, como Eros Grau e Sep\u00falveda Pertence.<\/p>\n<b>Data_Decisao<\/b>\n<p>Data em que a decis\u00e3o foi proferida.<\/p>\n<b>Data_Publicacao<\/b>\n<p>Data em que a decis\u00e3o foi publicada no Di\u00e1rio da Justi\u00e7a.<\/p>\n<b>Partes<\/b>\n<p>Nomes das partes do processo. Esta coluna tamb\u00e9m tem algumas informa\u00e7\u00f5es extras, como, em alguns casos, a classe processual. Isso se deve ao m\u00e9todo de captura dos dados.<\/p>\n<b>Decisao<\/b>\n<p>Texto da decis\u00e3o<\/p>\n<b>Legislacao<\/b>\n<p>Em alguns casos, junto aos dados de identifica\u00e7\u00e3o do processo, existiam refer\u00eancias \u00e0 legisla\u00e7\u00e3o envolvida. Assim, nessas situa\u00e7\u00f5es (e para permitir o maior n\u00famero de an\u00e1lises poss\u00edveis), resolvemos capturar esses dados tamb\u00e9m.<\/p>\n<b>Observacao_01<\/b>\n<p>Da mesma forma que na coluna anterior (Legisla\u00e7\u00e3o), quando constavam anota\u00e7\u00f5es extras na ficha processual, optamos por capturar essas observa\u00e7\u00f5es para permitir a maior possibilidade de an\u00e1lises.<\/p>\n<b>Observacao_02<\/b>\n<p>Aqui tamb\u00e9m vale a explica\u00e7\u00e3o dada na coluna anterior (Observacao_01).\n","b5644d83":"Nesta segunda base de dados, temos informa\u00e7\u00f5es sobre <b>544.269 decis\u00f5es<\/b>, divididas em <b>13 colunas<\/b>.","0938d686":"<h3>Outras bases de dados<\/h3>\n<p>Al\u00e9m dessa base de dados, temos <b>outra<\/b> que congrega <b>diferentes informa\u00e7\u00f5es<\/b> de decis\u00f5es monocr\u00e1ficas do STF.<p>\nPara carregar a segunda base de dados:","c1b9458a":"Ainda conforme a an\u00e1lise que se deseja desenvolver, \u00e9 poss\u00edvel <b>selecionar um subgrupo dos dados<\/b>. Exemplificativamente, podemos escolher apenas as decis\u00f5es proferidas pelo ministro Celso de Mello:","9a6cafc3":"<p>Com esses dados, \u00e9 poss\u00edvel fazer <b>in\u00fameras an\u00e1lises<\/b>, especialmente se <b>juntarmos as duas bases<\/b>! Pensando nessa possibilidade (e mais uma vez desejando facilitar o trabalho), j\u00e1 criamos uma terceira base que re\u00fane algumas colunas das duas anteriores tomando como elemento identificador o <b>n\u00famero do processo<\/b>, ou seja, considerando que este \u00e9 \u00fanico, quando o mesmo n\u00famero do processo (e classe) estava presente em ambas as bases, fizemos uma jun\u00e7\u00e3o.<\/p>\n<p>Para carregar a terceira base executamos o seguinte c\u00f3digo:<\/p>\nObs.: A execu\u00e7\u00e3o do c\u00f3digo a seguir tamb\u00e9m poder\u00e1 consumir alguns minutos, j\u00e1 que essa terceira base de dados tem cerca de 2 gigabytes.","3f9e7151":"<p>Agora \u00e9 preciso carregar os dados que est\u00e3o no arquivo <em>STF_dec_mono_texto.csv<\/em>, cujo tamanho \u00e9 um pouco maior que 2 gigabytes. Vale notar que, ao contr\u00e1rio do que geralmente ocorre em arquivos <i>CSV<\/i>, o separador dos campos no arquivo \u00e9 o sinal <b>|<\/b>.<\/p>\n<p>Obs.: Devido ao tamanho do arquivo, a execu\u00e7\u00e3o do c\u00f3digo abaixo poder\u00e1 tomar <b>alguns minutos<\/b>. ","591b8f18":"Podemos verificar a quantidade de cada classe processual contida na base de dados com o seguinte comando:","bb5a6f03":"<h1>[Legal Hackers Natal](https:\/\/legalhackersnatal.wordpress.com\/)<\/h1>\n<p>Somos uma comunidade que re\u00fane interessados em <strong>Direito e Tecnologia<\/strong> e queremos <b>estimular pesquisas e an\u00e1lises com dados jur\u00eddicos<\/b>, pois acreditamos que iniciativas assim melhoram o planejamento e a execu\u00e7\u00e3o de servi\u00e7os como a presta\u00e7\u00e3o jurisdicional. Ocorre que um dos desafios para quem deseja fazer esses estudos \u00e9 a pr\u00f3pria obten\u00e7\u00e3o dos dados. Resolvemos ent\u00e3o facilitar um pouco o trabalho e iniciar este reposit\u00f3rio com a disponibiliza\u00e7\u00e3o de informa\u00e7\u00f5es p\u00fablicas extra\u00eddas do pr\u00f3prio site do <b>Supremo Tribunal Federal<\/b> (STF) e\/ou do seu Di\u00e1rio da Justi\u00e7a.\n<p>Na verdade, ser\u00e3o disponibilizados (e demonstrados) aqui dois conjuntos de dados. O primeiro foi obtido por [Felipe Machado](https:\/\/www.linkedin.com\/in\/felipelanamachado\/) (estudante de Engenharia de Software) com a orienta\u00e7\u00e3o do <b>Legal Hackers Natal<\/b>. J\u00e1 o segundo foi extra\u00eddo pelo pr\u00f3prio Legal Hackers Natal. Desde o in\u00edcio, o intuito em ambos os casos era fornercer esses dados para a comunidade. Al\u00e9m disso, j\u00e1 desenvolvemos [outras iniciativas de dados p\u00fablicos](https:\/\/github.com\/LegalHackersNatalBrasil\/tjsp) com o [Grupy RN](https:\/\/meetup.grupyrn.org\/) e estamos dispon\u00edveis para novas parcerias com o objetivo de incentivar pesquisas e an\u00e1lises de dados jur\u00eddicos.\n<h3>O Supremo Tribunal Federal na estrutura do Poder Judici\u00e1rio<\/h3>\n<p>As compet\u00eancias do STF est\u00e3o previstas na <b>Constitui\u00e7\u00e3o Federal<\/b>, especialmente no <b>artigo 102<\/b>. De forma resumida, \u00e9 poss\u00edvel afirmar que cabe ao Supremo Tribunal Federal interpretar em \u00faltima an\u00e1lise o texto constitucional. A atua\u00e7\u00e3o do STF geralmente ocorre revisando decis\u00f5es de outros tribunais quando uma das partes apresenta um <b>recurso extraordin\u00e1rio<\/b> alegando que a decis\u00e3o judicial recorrida contrariou a Constitui\u00e7\u00e3o Federal (e por isso deve ser reexaminada pelo Judici\u00e1rio, mas dessa vez pela Suprema Corte).<\/p>\n<p>O STF tem ainda outras compet\u00eancias, como julgar a\u00e7\u00f5es direta de inconstitucionalidade, alguns casos de habeas corpus e dezenas de outras demandas. Adiante, quando estivermos explorando os dados, poderemos ver quais classes processuais est\u00e3o de fato mais presentes no Supremo.<\/p>\n<h3>As decis\u00f5es monocr\u00e1ticas do STF<\/h3>\n<p>Uma das formas de classificar as decis\u00f5es judiciais \u00e9 a partir da composi\u00e7\u00e3o do \u00f3rg\u00e3o decisor. Se a decis\u00e3o \u00e9 tomada por mais de um magistrado, ela \u00e9 classificada como <b>colegiada<\/b>, enquanto que a decis\u00e3o proferida por apenas um julgador \u00e9 chamada de <b>monocr\u00e1tica<\/b>. O foco destas bases de dados s\u00e3o as decis\u00f5es desta \u00faltima categoria, que, numericamente, prevalecem no Brasil. Ao contr\u00e1rio do senso comum, embora o STF seja um \u00f3rg\u00e3o colegiado (formado por 11 ministros), em raz\u00e3o do elevado n\u00famero de processos em tramita\u00e7\u00e3o no tribunal, tornou-se usual que os ministros (atuando como <b>relatores<\/b> do caso) decidam sozinhos.<\/p>\n<h3>Iniciando<\/h3>\n<p>As linhas abaixo carregar\u00e3o algumas bibliotecas, em especial Pandas (para an\u00e1lise de dados) e Seaborn (para gerar gr\u00e1ficos).<p>\n<p>Para <b>executar o c\u00f3digo<\/b> de cada uma das <i>c\u00e9lulas<\/i> (os trechos com fundo <b>cinza<\/b>) abaixo, basta <b>clicar na lateral esquerda<\/b> da c\u00e9lula e <b>clicar no bot\u00e3o de play<\/b> quando este aparecer. <b>Ap\u00f3s ser pressionado<\/b>, esse bot\u00e3o se transforma em um <b>quadrado<\/b> (que, por sua vez, se pressionado suspende a execu\u00e7\u00e3o do c\u00f3digo). Ao final da execu\u00e7\u00e3o, o bot\u00e3o volta ao formato <b>play<\/b>.","4d63f7e6":"Para acessarmos o conte\u00fado de uma coluna (por exemplo, <i>Decis\u00e3o<\/i>) e de um processo espec\u00edfico (como o primeiro da base de dados), devemos digitar:\n\nObs.: os dados s\u00e3o numerados pela Pandas a partir do 0.","fdef1c90":"Podemos verificar a <b>quantidade de cada andamento processual<\/b> na base de dados com o c\u00f3digo abaixo:","e23c72d4":"<p>Como se v\u00ea pelo resultado acima, h\u00e1 uma grande variedade de classes processuais na base de dados, mas prevalecem: <i>ARE<\/i>, <i>RE<\/i> e <i>AI<\/i>. A primeira (ARE) designa os <b>agravos<\/b> interpostos contra decis\u00f5es dos relatores proferidas nos <b>recursos extraordin\u00e1rios<\/b>. Em outras palavras: trata-se de um <b>recurso \"dentro\" de outro recurso<\/b> (sim, isso acontece e, como os n\u00fameros demonstram, \u00e9 uma situa\u00e7\u00e3o comum). A segunda classe mais presente \u00e9 dedicada aos <b>recursos extraordin\u00e1rios<\/b> (RE). J\u00e1 a terceira (AI) diz respeito aos <b>agravos de instrumento<\/b> (mais uma esp\u00e9cie de recurso).<\/p>\n<p>Durante o processo de captura dos dados, aconteceram alguns erros e alguns campos foram anotados de maneira indevida. Assim, por exemplo, o item <i>AORCPR732<\/i> da lista acima n\u00e3o corresponde a uma classe processual propriamente dita (a anota\u00e7\u00e3o correta aqui seria apenas <i>AO<\/i>).<\/p>\n","72683456":"<p>N\u00e3o est\u00e1 no nosso escopo aqui fazer o processo de Aprendizado de M\u00e1quina. Desejamos apenas <b>disponibilizar os dados que abram essa possibilidade<\/b>. Ali\u00e1s, h\u00e1 in\u00fameros usos que a comunidade (profissionais de T.I., acad\u00eamicos, jur\u00eddico etc) pode desenvolver, como o c\u00e1lculo do <b>tempo m\u00e9dio entre o proferimento da decis\u00e3o e a publica\u00e7\u00e3o<\/b> e at\u00e9 mesmo o estudo do <b>estilo de texto jur\u00eddico de cada ministro!<\/b><\/p>\n<p>Exigimos apenas que, ao fazer uso das informa\u00e7\u00f5es dispon\u00edveis aqui, os membros da comunidade <b>respeitem os limites \u00e9ticos e legais<\/b>, como deve acontecer com qualquer emprego de dado p\u00fablico.<\/p>","8383e25a":"Para melhor visualizar os dados, podemos gerar um gr\u00e1fico que mostre a quantidade de cada classe:"}}