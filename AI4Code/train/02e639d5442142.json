{"cell_type":{"a7beb100":"code","79896283":"code","2742dc93":"code","fdc8402f":"code","9345e58a":"code","3374a4d0":"code","01c123b6":"code","cf2e241e":"code","651bece6":"code","ff38a609":"code","49f9ca68":"code","18282a1c":"code","4adebf9c":"code","e39d268c":"code","867d144f":"code","6cb7164f":"code","c1653b0e":"code","8c7a3bc5":"code","0fdc2d93":"code","2dff304d":"code","d9dda114":"code","ee899556":"code","fd7d6ace":"code","2cf009f0":"code","1239caf8":"code","1d1a8c4f":"code","ffe3bd3e":"code","5a4b9154":"code","dc5b07eb":"code","2214e8d1":"code","35805068":"code","679b4249":"code","fd572c9f":"code","cc699b77":"code","347a58f3":"code","866e3bc8":"code","5b7d4739":"code","3af1458a":"code","dc25380e":"code","2f9c62b6":"code","d9d7e70a":"code","7510882a":"code","7bb12022":"markdown","05a7b858":"markdown","60444f13":"markdown","6bc01633":"markdown","8daa00a2":"markdown","2279d8b3":"markdown","83636336":"markdown","aed46a50":"markdown","598566ec":"markdown","b5bce42d":"markdown","343f00ac":"markdown","14e95915":"markdown","a3d2e553":"markdown","282777cf":"markdown","0fa8c2d2":"markdown","306b7abd":"markdown","4e508ded":"markdown","fc0ad19c":"markdown"},"source":{"a7beb100":"import pandas as pd\nimport matplotlib.pyplot as plt","79896283":"pip install openpyxl","2742dc93":"data = pd.read_excel(\"..\/input\/texttokped\/tokped_text.xlsx\", index_col=0)\n\ndata.head()","fdc8402f":"label = []\nfor index, row in data.iterrows():\n    if row[\"rate\"] == 5 or row[\"rate\"] == 4:\n        label.append(1)\n    else:\n        label.append(0)\n\ndata[\"label\"] = label\n\ndata","9345e58a":"data[\"label\"].value_counts()","3374a4d0":"from sklearn.feature_extraction.text import CountVectorizer, TfidfTransformer","01c123b6":"Ulasan = data['Ulasan_clean']","cf2e241e":"Ulasan.isnull().sum()","651bece6":"Ulasan = Ulasan.fillna('tidak ada komentar')","ff38a609":"#untuk menghitung jumlah kata yang telah di steming\ncv = CountVectorizer()\nterm_fit = cv.fit(Ulasan)\n\nprint (len(term_fit.vocabulary_))","49f9ca68":"term_fit.vocabulary_ #mengurutkan berdasarkan urutab abjad kata ","18282a1c":"#kolom pertama ini berarti jumlah dokumen\n#kolom kedua berarti letak katanya\n#kolom ketiga hasil dari tf\n\nterm_frequency_all = term_fit.transform(Ulasan)\nprint (term_frequency_all)","4adebf9c":"ulasan_tf = Ulasan[1] #memanggil kata pada index ke 1\nprint (ulasan_tf)","e39d268c":"term_frequency = term_fit.transform([ulasan_tf]) #hanya menampilkan hasil document 1\nprint (term_frequency)","867d144f":"dokumen = term_fit.transform(Ulasan) #hasil perhitungan tf idf dalam 1 doc\ntfidf_transformer = TfidfTransformer().fit(dokumen)\nprint (tfidf_transformer.idf_)\n\ntfidf=tfidf_transformer.transform(term_frequency)\nprint (tfidf) #hasil manual dengan sistem pyhton","6cb7164f":"data_label = data[[\"Nama_Produk\", \"Akun\", \"Ulasan_clean\", \"label\"]]","c1653b0e":"data_label[\"Ulasan_clean\"] = data_label[\"Ulasan_clean\"].fillna(\"tidak ada komentar\")","8c7a3bc5":"data_label.to_excel(\"data_label.xlsx\")","0fdc2d93":"sentimen_data=pd.value_counts(data_label[\"label\"], sort= True)\nsentimen_data.plot(kind= 'bar', color= [\"green\", \"red\"])\nplt.title('Bar chart')\nplt.show()","2dff304d":"from wordcloud import WordCloud","d9dda114":"train_s0 = data_label[data_label[\"label\"] == 0]","ee899556":"train_s0[\"Ulasan_clean\"] = train_s0[\"Ulasan_clean\"].fillna(\"tidak ada komentar\")","fd7d6ace":"train_s0","2cf009f0":"all_text_s0 = ' '.join(word for word in train_s0[\"Ulasan_clean\"])\nwordcloud = WordCloud(colormap='Reds', width=1000, height=1000, mode='RGBA', background_color='white').generate(all_text_s0)\nplt.figure(figsize=(20,10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.margins(x=0, y=0)\nplt.show()","1239caf8":"train_s1 = data_label[data_label[\"label\"] == 1]","1d1a8c4f":"train_s1[\"Ulasan_clean\"] = train_s1[\"Ulasan_clean\"].fillna(\"tidak ada komentar\")","ffe3bd3e":"train_s1","5a4b9154":"all_text_s1 = ' '.join(word for word in train_s1[\"Ulasan_clean\"])\nwordcloud = WordCloud(colormap='Blues', width=1000, height=1000, mode='RGBA', background_color='white').generate(all_text_s1)\nplt.figure(figsize=(20,10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.title(\"Ulasan Positif\")\nplt.margins(x=0, y=0)\nplt.show()","dc5b07eb":"data_label['Ulasan_clean'] = data_label['Ulasan_clean'].fillna(\"tidak ada komentar\")","2214e8d1":"from sklearn.model_selection import train_test_split\n\nX_train, X_test, y_train, y_test = train_test_split(data_label['Ulasan_clean'], data_label['label'], \n                                                    test_size=0.1, stratify=data_label['label'], random_state=30)","35805068":"import numpy as np","679b4249":"from sklearn.feature_extraction.text import TfidfVectorizer\nvectorizer = TfidfVectorizer(decode_error='replace', encoding='utf-8')","fd572c9f":"X_train = vectorizer.fit_transform(X_train)\nX_test = vectorizer.transform(X_test)\n\nprint(X_train.shape)\nprint(X_test.shape)","cc699b77":"X_train = X_train.toarray()","347a58f3":"X_test = X_test.toarray()","866e3bc8":"from sklearn.naive_bayes import GaussianNB\n\nnb = GaussianNB()","5b7d4739":"from sklearn.model_selection import RepeatedStratifiedKFold\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.model_selection import StratifiedKFold\n\n#deklarasi metode cross validation\ncv_method = RepeatedStratifiedKFold(n_splits=5,  n_repeats=3, random_state=999)\n#tuning hyperparameter menggunakan gridsearch\n\nparams_NB = {'var_smoothing': np.logspace(0,-9, num=100)}\ngscv_nb = GridSearchCV(estimator=nb, \n                 param_grid=params_NB, \n                 cv=cv_method,   # use any cross validation technique \n                 verbose=1, \n                 scoring='accuracy') \n\n#Fitting ke Model\ngscv_nb.fit(X_train,y_train)\n#mendapatkan hyperparameters terbaik\ngscv_nb.best_params_","3af1458a":"nb = GaussianNB(var_smoothing=1.0)","dc25380e":"nb.fit(X_train, y_train)","2f9c62b6":"y_pred_nb = nb.predict(X_test)","d9d7e70a":"from sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import classification_report","7510882a":"print('--------------------- confusion matrix  ----------------------------')\nprint(confusion_matrix(y_test, y_pred_nb))\nprint('--------------------- classification report  ----------------------------')\nprint(classification_report(y_test, y_pred_nb))","7bb12022":"# Menghitung Kata Dengan TF-IDF","05a7b858":"Pembagian data menjadi data sentimen berlabel positif dan negatif dengan angka 1 untuk positif dan angka 0 untuk negatif. Pengklasifikasian ini dilakukan pada ulasan yang memiliki rating 4 dan 5 sebagai sentimen positif dan rating 3 sampai 1 sebagai sentimen negatif.","60444f13":"# Import dataset yang telah dilakukan text preprocessing","6bc01633":"> Dari hasil penelitian menggunakan Metode Algoritma Na\u00efve Bayes untuk mengetahui sentimen ulasan pengguna dengan klasifikasi 2 kelas positif dan negative dengan pendekatan NLP menghasilkan nilai akurasi sebesar 88%. Selain itu, didapatkan bahwa Analisa Sentimen pada ulasan marketplace Tokopedia pada produk masker kesehatan menunjukan lebih banyak pada ulasan yang positif. Ini berarti pelayanan dan produk masker Kesehatan yang disediakan di marketplace Tokopedia sudah cukup baik.\n\n\n> Dari hasil Analisis diatas dapat disimpulkan hasil scraping yang kami dapat dari produk pencarian masker kesehatan pada Tokopedia menampilkan data yang menunjukan ulasan positif lebih dominan daripada hasil ulasan negatif dan untuk ulasan negatif kata yang paling sering muncul adalah seputar kualitas produk yang tipis,mudah putus, sobek atau bolong, kualitas karetnya dan  pada pengemasan yaitu kotak\/dus penyok dan untuk analisa positif kata yang paling sering muncul adalah seputar kualitas produk yang sesuai dan rapi, pengiriman yang aman dan cepat dan respon penjual.","8daa00a2":"Dari visualisasi diatas merupakan wordcloud kata yang paling banyak muncul pada ulasan yang memiliki label sentimen positif. Kata yang paling sering muncul dan mengarah ke ulasan positif membahas seputar : barang, cepat, bagus, masker, aman, kualitas, sesuai, rapi, respon, aman, recommended, dan sebagainya. Sehingga dari kata-kata ini bisa menjadi masukan untuk penjual dan marketplace Tokopedia untuk menjaga kualitas atau meningkatkan kembali kualitas barang (produk masker kesehatan), kualitas yang sesuai dan aman, serta respon penjual paling banyak disebutkan pelanggan dalam hasil Analisa ulasan sentimen yang positif.","2279d8b3":"Pada Bagian ke-1 ini saya akan melakukan labeling dan pemrosesan prediksi klasifikasi dengan machine learning serta analisa teks ulasan pada Tokopedia.","83636336":"# Labeling","aed46a50":"Dapat dilihat bahwa isi ulasan produk lebih banyak pada label sentimen 1 atau ulasan dengan rating postitif ini berarti pelanggan yang menggunakan marketplace Tokopedia dan melakukan transaksi pembelian pada produk masker Kesehatan merasa puas bertansaksi di marketplace Tokopedia dan prosuk masker Kesehatan sehingga memberikan feedback atau ulasan komentar lebih banyak yang positif.","598566ec":"**Ulasan Positif**","b5bce42d":"# Menyiapkan Data Train dan Test","343f00ac":"Setelah dilakukan pembagian data latih dan data uji serta pembobotan tf-idf selanjutnya dapat dilakukan proses klasifikasi prediksi menggunakan model algoritma Na\u00efve Bayes seperti proses yang ditunjukkan pada gambar 4. Didapatkan model algoritma Na\u00efve Bayes dapat memberikan akurasi yang cukup baik sampari 88%.","14e95915":"# NLP","a3d2e553":"# Machine Learning","282777cf":"Pada proses ini kami menggunakan library sklearn.model_selection dengan modul train_test _split untuk membagi data latih (X_train dan y_train) dan data uji (X_test dan y_test) dengan persentasi data latih 70% dan data uji 30% serta memilih label data yaitu yang merupakan variable independen dari data kami yaitu kolom label untuk dijadikan parameter klasifikasi prediksi.","0fa8c2d2":"**Ulasan Negatif**","306b7abd":"Dari visualisasi diatas merupakan wordcloud kata yang paling banyak muncul pada isi ulasan yang memiliki label sentimen negatif. Kata yang paling sering muncul dan mengarah ke ulasan negatif membahas seputar : barang, harga, kotak, penyok, box, dus, tipis, putus, sobek, kualitas, karet, bolong dan sebagainya. Sehingga dari kata-kata ini bisa menjadi masukan untuk penjual dan marketplace Tokopedia untuk meningkatkan kualitas barang (produk masker kesehatan), harga, kualitas pengiriman atau pengemasan, serta kualitas produk masker Kesehatan yang paling banyak disebutkan pelanggan dalam hasil Analisa ulasan sentimen yang negatif.","4e508ded":"Pada proses ini kami menggunakan pembobotan TF-IDF(term frequency\u2013inverse document) untuk menghitung manual dengan menggunakan python pembobotan kata dalam dokumen data ulasan.","fc0ad19c":"# TF-IDF"}}