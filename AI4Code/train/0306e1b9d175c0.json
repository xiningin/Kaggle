{"cell_type":{"72c5445f":"code","c46135d0":"code","f03d5e47":"code","c7b8fb77":"code","d51f995d":"code","29119ccd":"code","25ebec68":"code","75e73986":"code","33df8e4f":"code","5cfd66dd":"code","283902af":"code","28d79a03":"code","3baf456f":"code","217738da":"code","37ccb664":"code","69a0c948":"code","5f0ba541":"code","a0ad66c1":"code","2f36a285":"code","2fc0364e":"code","d6cb4cb4":"code","c02292ac":"code","8d0e13c0":"code","a9f4dd1a":"code","85594c2f":"code","63cea24c":"code","bc891145":"code","989d593b":"code","cf4be92d":"code","a6fc29c9":"code","42b8ab21":"code","989824d9":"code","22b2f8bc":"code","f9c722c0":"code","59cc0fd5":"code","6f69affd":"code","fd225498":"code","40557997":"code","714b8c3a":"markdown","8720baec":"markdown","f998d9eb":"markdown","2de85d02":"markdown","825b5390":"markdown","504ddc33":"markdown","1cd73985":"markdown","36d1dfad":"markdown","212aba6f":"markdown","302d0297":"markdown"},"source":{"72c5445f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c46135d0":"df=pd.read_csv('\/kaggle\/input\/pakistan-car-prices\/updated_pakwheels.csv')","f03d5e47":"df.head()","c7b8fb77":"df.dtypes","d51f995d":"df['Brand']=df.Name.apply(lambda x: x.split()[0])","29119ccd":"df['Features'].unique()","25ebec68":"df=df.fillna({'Features': '0'})","75e73986":"df1=pd.DataFrame(df['Features'].str.strip(\"'\").str.split(',',expand=True).stack())\ndf1=df1.rename(columns={0: 'func'})\ndf1=df1.reset_index()","33df8e4f":"df_func=pd.DataFrame(df1.groupby(['level_0','func'])['func'].count())","5cfd66dd":"df_func=pd.DataFrame(df_func.unstack())\ndf_func","283902af":"df_func.describe()","28d79a03":"df_func.columns","3baf456f":"def rename_multicol(df_func):\n    df_col=df_func.columns\n    df_func = df_func.T.reset_index(drop=False).T\n    for  i in range(df_func.shape[1]): \n        rename_col = {i:\"\".join(df_col[i])}\n        df_func = df_func.rename(columns = rename_col)     \n    df_func = df_func.drop([\"level_0\"],axis=0)\n    return df_func\n\ndf_func=rename_multicol(df_func)","217738da":"df_func","37ccb664":"df_func=df_func.drop(df_func.index[[0]])","69a0c948":"df_func=df_func.drop('func0', axis=1)","5f0ba541":"df_func","a0ad66c1":"df_data=df.loc[:,['Price','Model Year','Mileage','Engine Type','Engine Capacity','Transmission','Color','Assembly','Body Type','Brand']]","2f36a285":"df_data[['Engine Type','Transmission','Body Type']] = df_data[['Engine Type','Transmission','Body Type']].astype(str)","2fc0364e":"df_data","d6cb4cb4":"df_data.dtypes","c02292ac":"df_data=pd.concat([df_data, df_func], axis=1)","8d0e13c0":"df_data","a9f4dd1a":"df_data=pd.get_dummies(df_data)","85594c2f":"df_data","63cea24c":"df_data.dtypes","bc891145":"df_data.isnull().sum()","989d593b":"df_data.columns","cf4be92d":"pip install pycaret","a6fc29c9":"from pycaret.regression import *","42b8ab21":"exp1 = setup(df_data, target = 'Price', ignore_features = None,silent=True)","989824d9":"compare_models()","22b2f8bc":"cb = create_model('catboost')","f9c722c0":"tuned_cb = tune_model(cb)","59cc0fd5":"plot_model(tuned_cb)","6f69affd":"interpret_model(tuned_cb)","fd225498":"predictions = predict_model(cb, data=df_data)","40557997":"predictions","714b8c3a":"# 1. Preprocessing","8720baec":"# 5) Prediction model","f998d9eb":"# 3) Choose the features and create new data set","2de85d02":"# 2) Break down 'Features' into each 'Functions'","825b5390":"# 2) Modeling by catboost and tuning","504ddc33":"# 2. Modeling for prediction by Pycaret","1cd73985":"# 3) Model visualization","36d1dfad":"# 4) Model understanding","212aba6f":"# 1) Choose the best model","302d0297":"# 1) Add Brand Feature"}}