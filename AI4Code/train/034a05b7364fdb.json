{"cell_type":{"bb5ea153":"code","8bde0c6e":"code","d31dfd68":"code","720d6490":"code","fd1990b0":"code","5204cf12":"code","15b168e7":"code","a0c35fca":"code","ea8fc16f":"code","ec564ee0":"code","fc83964e":"code","5f5d0475":"code","0887a49c":"code","768eee2e":"code","d1d0087c":"code","c14e4343":"code","1d4863da":"code","a024cb5a":"code","136f9c57":"markdown","2be08756":"markdown","4b5dd33f":"markdown","818d82e9":"markdown","99237ed1":"markdown","782de107":"markdown","b97c6bf9":"markdown","7270ed13":"markdown","d24c246a":"markdown","e20fdb51":"markdown","094769e4":"markdown","7ab52a4d":"markdown"},"source":{"bb5ea153":"# loading necessary libraries\nimport pandas as pd\nfrom matplotlib import pyplot\nimport numpy\nfrom scipy.stats import shapiro\nimport scipy.stats as stats","8bde0c6e":"# reading the data\nControl_Group = pd.read_excel(\"..\/input\/ab-testing-data\/ab_testing_data.xlsx\", sheet_name='Control Group')  # maximum bidding\nTest_Group = pd.read_excel(\"..\/input\/ab-testing-data\/ab_testing_data.xlsx\", sheet_name='Test Group')        # average bidding","d31dfd68":"# assinging name for dataframes\nControl_Group.name = \"Control_Group\"\nTest_Group.name = \"Test_Group\";","720d6490":"# Analyze the dataframes \ndef analyze_df (df):\n    print(\"Dataframe Name : %s\" % df.name,\"\\n\") # dataframe name\n    print(\"Shape of dataframe: {0}\".format(df.shape), \"\\n\") # shape of dataframe\n    print(\"There are {0} observations and {1} features\".format(len(df),len(df.columns)),\"\\n\") # number of observations and features\n    print(df.head(),\"\\n\") # first 5 observation\n    for col in df.columns:\n        print(\" Number of null value in the {0} column: {1}\".format(col,df[col].isnull().sum())) # is there a null value in any columns\n    print(\"\\n\",\"Website Click Through Rate: %.4f\" % (df[\"Click\"].sum()\/df[\"Impression\"].sum()*100),\"%\",\"\\n\") # rate of website click\n    print(df.describe().T) # for observe the outliers","fd1990b0":"#analyze Control Group\nanalyze_df (Control_Group);","5204cf12":"# analyze Test Group\nanalyze_df (Test_Group)","15b168e7":"# The ultimate success metric for bombabomba.com is Number of Purchases.\n# Therefore, we should focus on Purchase metrics for statistical testing.\nA = pd.DataFrame(Control_Group[\"Purchase\"])\nB = pd.DataFrame(Test_Group[\"Purchase\"])","a0c35fca":"# distribution of the purchases for both groups\npyplot.figure(figsize=(8,6))\npyplot.xlabel('Purchase')\npyplot.hist(Control_Group['Purchase'],bins=15, alpha=0.7, label='Control Group')\npyplot.hist(Test_Group['Purchase'],bins=15, alpha=0.7, label='Test Group')\npyplot.legend(loc='upper right')\npyplot.show()","ea8fc16f":"# Combine the test and control group\nAB = pd.concat([A,B],axis=1)\nAB.columns=[\"A\",\"B\"]\nAB.head()","ec564ee0":"print(\" Mean of purchase of control group: %.3f\"%AB.A.mean(),\"\\n\",\n      \"Mean of purchase of test group: %.3f\"%AB.B.mean())","fc83964e":"# Shapiro-Wilks Test  for Group A\ntest_statistic , pvalue = shapiro(AB.A)\nprint('Test statistic = %.4f, p-Value = %.4f' % (test_statistic, pvalue))","5f5d0475":"#p-value greater then 0.05 so H0 is not rejected for Group A.\npvalue < 0.05","0887a49c":"# Shapiro-Wilks Test  for Group B\ntest_statistic , pvalue = shapiro(AB.B)\nprint('Test statistic = %.4f, p-Value = %.4f' % (test_statistic, pvalue))","768eee2e":"#p-value greater then 0.05 so H0 is not rejected for Group B.\npvalue < 0.05","d1d0087c":"test_statistic,pvalue = stats.levene(AB.A,AB.B)\nprint('Test statistic = %.4f, p-Value = %.4f' % (test_statistic, pvalue))","c14e4343":"# p-value greater then 0.05 so H0 is not rejected.\npvalue < 0.05","1d4863da":"tvalue, pvalue = stats.ttest_ind(AB[\"A\"], AB[\"B\"], equal_var=True)\nprint('tvalue = %.4f, pvalue = %.4f' % (tvalue, pvalue))","a024cb5a":"# p-value greater then 0.05 so H0 is not rejected.\npvalue < 0.05","136f9c57":"# Can we conclude statistically significant results?\n## Indepented Two Sample T-Test\n\nThe Independent Samples t Test compares the means of two independent groups in order to determine whether there is statistical evidence that the associated population means are significantly different.\n ##\u00a0Requirements\n- **Normal distribution**: Non-normal population distributions, especially those that are thick-tailed or heavily skewed, considerably reduce the power of the test\n- **Homogeneity of variances** : When this assumption is violated and the sample sizes for each group differ, the p value is not trustworthy.\n\n##\u00a0Hypotheses\nThe **null hypothesis (H0)** and **alternative hypothesis (H1)** of the Independent Samples t Test can be expressed in two different but equivalent ways:\n- H0: \u00b51 = \u00b52 (the two population means are equal)\n- H1: \u00b51 \u2260 \u00b52 (the two population means are not equal)","2be08756":"When we look at the purchase average of the two groups, we can observe that the test group, the average bidding campaign, is better. But this observation is not a statistically significant results.","4b5dd33f":"The compared groups have equal variance. \n\nThe assumptions of normality distribution and variance homogeneity were tested.Two assumptions are provided, we can now test for our main hypothesis.\n\n- **H0** : There is no statistically significant difference between the Control group that was served  \u201cmaximum bidding\u201d campaign and Test group that was served  \u201caverage bidding\u201d campaign.\n\n- **H1** : There is statistically significant difference between the Control group that was served  \u201cmaximum bidding\u201d campaign and Test group that was served  \u201caverage bidding\u201d campaign.","818d82e9":"## How would we define the hypothesis of this A\/B test?\n\n- **H0** : There is no statistically significant difference between the Control group that was served  \u201cmaximum bidding\u201d campaign and Test group that was served  \u201caverage bidding\u201d campaign.\n\n- **H1** : There is statistically significant difference between the Control group that was served  \u201cmaximum bidding\u201d campaign and Test group that was served  \u201caverage bidding\u201d campaign.","99237ed1":"## Which statistical test did we use, and why?\nWe used independent t-test because we want to determine if there is a significant difference between the means of two indepented groups, which may be related in certain features.","782de107":"# Conclusion\n- Hypothesis established and interpreted\n- The data was analyzed, outliers were observed\n- It was checked whether the assumptions were met for the statistical test to be applied\n- The assumptions were observed and tested\n- Commented based on -p-value\n- Suggestion offered to customer","b97c6bf9":"## What would be our recommendation to client?\nThere is no statistically significant difference between the Control group that was served \u201cmaximum bidding\u201d campaign and Test group that was served \u201caverage bidding\u201d campaign. For this reason, we can recommend continuing with the maximum bidding campaign currently used.\n","7270ed13":" ###\u00a0The Shapiro-Wilks Test for Normality \n\n- H0: There is no statistically significant difference between sample distribution and theoretical normal distribution\n- H1: There is statistically significant difference between sample distribution and theoretical normal distribution\n\nThe test rejects the hypothesis of normality when the p-value is less than or equal to 0.05. Failing the normality test allows you to state with 95% confidence the data does not fit the normal distribution.\n\n* p-value < 0.05 (H0 rejected)\n* p-value > 0.05 (H0 not rejected)","d24c246a":"There is **no statistically significant difference** between sample distribution and theoretical normal distribution in groups A and B.","e20fdb51":"P-value greater then 0.05 so H0 is not rejected.So, There is no statistically significant difference between the Control group that was served \u201cmaximum bidding\u201d campaign and Test group that was served \u201caverage bidding\u201d campaign.","094769e4":"# Analyze A\/B Test Results\nFacebook recently introduced a new bidding type, \u201c**average bidding**\u201d, as an alternative to its exisiting bidding type, called \u201c**maximum bidding**\u201d. One of our clients, **bombabomba.com**, has decided to test this new feature and wants to conduct an **A\/B test** to understand **if average bidding brings more conversions than maximum bidding**.\n\nIn this A\/B test, bombabomba.com randomly splits its audience into two equally sized groups, e.g. the test and the control group. **A Facebook ad campaign with \u201cmaximum bidding\u201d is served to \u201ccontrol group\u201d and another campaign with \u201caverage bidding\u201d is served to the \u201ctest group\u201d.**\n\nThe A\/B test has run for 1 month and bombabomba.com now expects you to analyze the results of this A\/B test.\n\n- Facebook Ad: An advertisement created by a business on Facebook that's served up to Facebook users.\n- Impressions: The number of times an ad is displayed.\n- Reach: The number of unique people who saw an ad.\n- Website Clicks: The number of clicks on ad links directed to Advertiser\u2019s website.\n- Website Click Through Rate: Number of Website Clicks \/ Number of Impressions x 100\n- Cost per Action: Spend \/ Number of Actions\n- Action: Can be any conversion event, such as Search, View Content, Add to Cart and Purchase.\n- Conversion Rate: Number of Actions \/ Number of Website Clicks x 100\n\nThe ultimate success metric for bombabomba.com is Number of Purchases.Therefore, we should focus on Purchase metrics for statistical testing.\n","7ab52a4d":"### Levene\u2019s Test for Homogeneity of variances\nLevene\u2019s test is an equal variance test. It can be used to check if our data sets fulfill the homogeneity of variance assumption before we perform the t-test or Analysis of Variance \n\n- H0: the compared groups have equal variance.\n- H1: the compared groups do not have equal variance."}}