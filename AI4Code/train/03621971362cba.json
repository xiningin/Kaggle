{"cell_type":{"6ba92201":"code","d311feb7":"code","b148cb92":"code","be6b52c0":"code","3888d12c":"code","4d4baeaa":"code","e7cad878":"code","bd888cdb":"code","73745c05":"code","5c3c5792":"code","cff3ddad":"code","30ff6429":"markdown","8cd6d7eb":"markdown","1a3437e9":"markdown","c6e9a163":"markdown","1e5ad45e":"markdown","7e78661f":"markdown","b943c806":"markdown","43500e78":"markdown","c30bdad3":"markdown","11529b5f":"markdown","eaa8a7cb":"markdown","1edb80cb":"markdown","b2a5a964":"markdown"},"source":{"6ba92201":"import numpy as np\nimport pandas as pd\n\nfrom scipy.stats import skew","d311feb7":"train = pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/train.csv\")\ntest = pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/test.csv\")","b148cb92":"all_data = pd.concat((train.loc[:,'MSSubClass':'SaleCondition'],\n                      test.loc[:,'MSSubClass':'SaleCondition']))","be6b52c0":"train[\"SalePrice\"] = np.log1p(train[\"SalePrice\"])\n\nnumeric_features = all_data.dtypes[all_data.dtypes != \"object\"].index\n # \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c \u0430\u0441\u0438\u043c\u043c\u0435\u0442\u0440\u0438\u044e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432\nskewed_features = train[numeric_features].apply(lambda x: skew(x.dropna()))\nskewed_features = skewed_features[skewed_features > 0.75]\nskewed_features = skewed_features.index\n\nall_data[skewed_features] = np.log1p(all_data[skewed_features])","3888d12c":"all_data = pd.get_dummies(all_data)","4d4baeaa":"all_data = all_data.fillna(all_data.mean())","e7cad878":"all_data[:train.shape[0]]\nall_data[train.shape[0]:] \n\nX_train = all_data[:train.shape[0]]\nX_test = all_data[train.shape[0]:] \n\ny = train.SalePrice","bd888cdb":"import xgboost as xgb\n\ndtrain = xgb.DMatrix(X_train, label = y)\ndtest = xgb.DMatrix(X_test)","73745c05":"params = {\"max_depth\":2, \"eta\":0.1}\nmodel = xgb.cv(params, dtrain,  num_boost_round=500, early_stopping_rounds=100)","5c3c5792":"model_xgb = xgb.XGBRegressor(n_estimators=360, max_depth=2, learning_rate=0.1)\nmodel_xgb.fit(X_train, y)","cff3ddad":"xgb_preds = np.expm1(model_xgb.predict(X_test))\n\nsubmission = pd.DataFrame({\"Id\":test.Id, \"SalePrice\": xgb_preds})\nsubmission.to_csv('submission.csv', index=False)","30ff6429":"## \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0444\u0430\u0439\u043b","8cd6d7eb":"### \u0418\u043c\u043f\u043e\u0440\u0442 XGBoost \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432","1a3437e9":"### \u041e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0438\n\u041e\u0431\u0443\u0447\u0430\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f XGBRegressor","c6e9a163":"### \u041b\u043e\u0433\u0430\u0440\u0438\u0444\u043c\u0438\u0440\u0443\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0443\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u044f","1e5ad45e":"## \u0418\u043c\u043f\u043e\u0440\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a","7e78661f":"### \u041e\u0431\u0440\u0430\u0442\u043d\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u0435\u043c \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0438 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","b943c806":"## \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","43500e78":"### \u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u043d\u0438\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438","c30bdad3":"### \u041e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u043c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0435 \u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","11529b5f":"## \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043c\u043e\u0434\u0435\u043b\u044c\u044e","eaa8a7cb":"### \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435","1edb80cb":"## \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0445 \u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445","b2a5a964":"### \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043c\u043e\u0434\u0435\u043b\u0438\n\u0417\u0430\u0434\u0430\u0435\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043c\u043e\u0434\u0435\u043b\u0438"}}