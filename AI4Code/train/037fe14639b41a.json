{"cell_type":{"04c56be7":"code","dc7cb89c":"code","8c7b054a":"code","39f9c229":"code","e047e057":"code","dcebb816":"code","ec06114d":"code","0b6e8d44":"code","a10c4f3d":"code","95a08f2b":"code","b883fa3d":"code","969f9185":"code","76d5e3d2":"code","d513f695":"code","40ea32cf":"code","0f0a2a12":"code","7e75518d":"code","327cdf7c":"code","5299be2e":"markdown","3f6514af":"markdown","e98af555":"markdown","936d33ab":"markdown","fbcec9b9":"markdown","6fe7292b":"markdown","8e681747":"markdown","01f6b749":"markdown","a8c3a826":"markdown","05193b25":"markdown","20116037":"markdown","9fbe212c":"markdown","155df836":"markdown","c489b1d9":"markdown","9b0d0271":"markdown"},"source":{"04c56be7":"%autosave 300\n# %autoreload 100","dc7cb89c":"#general\nimport os\nimport numpy as np\nimport pandas as pd \n\n#plotting \nimport matplotlib.pyplot as plt \nfrom matplotlib.colors import ListedColormap\n\n#mapping\nimport geopandas as gpd \nimport folium\nfrom folium.plugins import MarkerCluster,HeatMap,HeatMapWithTime\nimport branca.colormap as colormap\nfrom collections import defaultdict\n\n","8c7b054a":"adv_sci = gpd.read_file('..\/input\/marine-microplastic-on-world-density-noaa\/MICROPLASTIC_DATA_BASED_ON_LAT_LONG\/ADVENTURE_MICRO_FROM_SCIENTIST.csv',)\ngeomar = gpd.read_file('..\/input\/marine-microplastic-on-world-density-noaa\/MICROPLASTIC_DATA_BASED_ON_LAT_LONG\/GEOMARINE_MICRO.csv')\nsea_micro = gpd.read_file('..\/input\/marine-microplastic-on-world-density-noaa\/MICROPLASTIC_DATA_BASED_ON_LAT_LONG\/SEA_MICRO.csv')","39f9c229":"#create a geom obj\ndef get_geom(df,adn):\n    '''get a geometry variable'''\n    df[['Latitude','Longitude']]=df[['Latitude','Longitude']].astype(dtype=float)\n    df[adn] = df[adn].astype(dtype=float)\n#     df[['Latitude','Longitude']]=df[['Latitude','Longitude']].astype('float16')\n    df['Geometry'] = pd.Series([(df.loc[i,'Latitude'],df.loc[i,'Longitude']) for i in range(len(df['Latitude']))])\n    \ndef to_datetime(df,date_col='Date',frmt='%Y-%m-%d'):\n    '''add_date col as datetime'''\n    df[date_col] =pd.to_datetime(df[date_col],errors='coerce')\n    df['year'] = df[date_col].dt.year\n    \n#get geometry\nget_geom(adv_sci,'Total_Pieces_L')\nget_geom(geomar,'MP_conc__particles_cubic_metre_')\nget_geom(sea_micro,'Pieces_KM2')\n\n#set to datetime'\nto_datetime(adv_sci)\nto_datetime(geomar)\nto_datetime(sea_micro)","e047e057":"def plot_hist(arr,\n              label,\n              ax1=None,\n              n_bins=30):\n    \n    if not ax1:\n        ax1=plt.figure(figsize=(12,6))\n        \n    plt.hist(arr,bins=n_bins)\n    plt.title(f'Histogram {label}')\n    plt.ylabel('Count')\n    plt.xlabel(f'{label}')\n    \n    \ndef plot_yearly_average(df,\n                        col,\n                        title):\n    ax1=plt.figure(figsize=(14,7))\n    \n    df1= df.copy()\n    \n    gb = df1.groupby('year').agg({col:['mean','median']}).droplevel(level=0,axis=1)\n    gb.reset_index(inplace=True)\n        \n    plt.plot(gb['year'],gb['mean'],color='b',label=f'mean {col}')\n    plt.plot(gb['year'],gb['median'],color='g',label=f'median {col}')\n    \n    plt.xlabel('Year')\n    plt.ylabel(f'{title}')\n    plt.title(f'Yearly Average {title}')\n    plt.legend()\n    plt.show()","dcebb816":"#set style for visualization\nplt.style.use('seaborn-white')","ec06114d":"#distribution of data\nplot_hist(arr=adv_sci['Total_Pieces_L'],\n         label='Pieces\/Litre',\n         n_bins=30)","0b6e8d44":"#find loc with most dense\n\nmax_plas = adv_sci['Total_Pieces_L'].max()\nidx= adv_sci[adv_sci['Total_Pieces_L']==max_plas].index\ndate1=str(adv_sci.loc[idx,'Date'].values).split('T')[0].split('[')[1]\nloc1= adv_sci.iloc[idx][['Latitude','Longitude']].values\n\nprint('Maximum plastic found per Litre is {} on date {} at {}'.format(max_plas,date1,loc1))\n","a10c4f3d":"#plotting area of study \nstart_loc= (np.mean(adv_sci['Latitude']),np.mean(adv_sci['Longitude']))\n\n#map\nm_1=folium.Map(location=start_loc,\n              tiles='Open Street Map',\n              zoom_start=2,\n              min_zoom=1.5)\n\n#heatmap:\nHeatMap(data=adv_sci[['Latitude','Longitude','Total_Pieces_L']].values,\n        radius=10,\n        blur=5).add_to(m_1)\n\n#add area of highest concentration\nfolium.CircleMarker(location= (loc1[0][0],loc1[0][1]),\n                  tooltip=\"<b>max plastic density<\/b>\",\n                  color='black',\n                  radius=15).add_to(m_1)\n\n\nprint('Study area Heatmap (Adventure Scientist) ')\nm_1","95a08f2b":"m_2=folium.Map(location=start_loc,\n              tiles='Open Street Map',\n              zoom_start=2,\n              min_zoom=1.5)\n\n\n\nd1= defaultdict(list)\n\nfor row in adv_sci.itertuples():\n    d1[row.Date.month].append([row.Latitude,row.Longitude,row.Total_Pieces_L])\n\nh1=HeatMapWithTime(data=list(d1.values()),\n                index=list(d1.keys()),\n                radius=10,\n                min_opacity=0.1,\n                max_opacity=0.6,\n                auto_play=True).add_to(m_2)\n\nprint('Month by month Visualization of Adv Sci Data')\n\nm_2","b883fa3d":"#distribution of data\nplot_hist(arr=geomar['MP_conc__particles_cubic_metre_'],\n         label='Particles\/M3',\n         n_bins=100)","969f9185":"# geomar['Datto_listd.to_datetime(geomar['Date'],errors='coerce')\n\nmas_plas = geomar['MP_conc__particles_cubic_metre_'].max()\nloc2=geomar[geomar['MP_conc__particles_cubic_metre_']==mas_plas][['Latitude','Longitude']].values\n\nprint('Maximum micro plastic concentration found per Cubic Meter is {} at {}'.format(max_plas,\n                                                                     loc2))\n","76d5e3d2":"#plotting area of study \nstart_loc= (geomar['Latitude'].mean(),geomar['Longitude'].mean())\n\n#map\nm_3=folium.Map(location=start_loc,\n              tiles='Open Street Map',\n              zoom_start=2,\n              min_zoom=1.5)\n\n#heatmap:\nHeatMap(data=geomar[['Latitude','Longitude','MP_conc__particles_cubic_metre_']],\n        radius=10,\n        blur=5,\n        opacity=.1).add_to(m_3)\n\n#add area of highest concentration\nfolium.CircleMarker(location= (loc2[0][0],loc2[0][1]),\n                  tooltip=\"<b>max plastic density<\/b>\",\n                  color='black',\n                  radius=15).add_to(m_3)\n\n\nprint('Study area Heatmap (GeoMarine) ')\nm_3","d513f695":"m_4=folium.Map(location=start_loc,\n              tiles='Open Street Map',\n              zoom_start=2,\n              min_zoom=1.5)\n\n\n\nd2= defaultdict(list)\n\nfor row in geomar.itertuples():\n    d2[row.Date.month].append([row.Latitude,row.Longitude,row.MP_conc__particles_cubic_metre_])\n\nh2=HeatMapWithTime(data=list(d2.values()),\n                index=list(d2.keys()),\n                radius=10,\n                min_opacity=0.1,\n                max_opacity=0.6,\n                auto_play=True,\n               control=True,\n                show=True).add_to(m_4)\n\n\nprint('Monthwise time series visualization of geomar data')\n\nm_4","40ea32cf":"#distribution of data \nplot_hist(arr=sea_micro['Pieces_KM2'],\n         label='Pieces\/SqKm',\n         n_bins=100)","0f0a2a12":"#find max pollution reion\n\n\nmas_plas = sea_micro['Pieces_KM2'].max()\nloc3=sea_micro[sea_micro['Pieces_KM2']==mas_plas][['Latitude','Longitude']].values\n\nprint('Maximum micro plastic concentration found per Cubic Meter is {} at {}'.format(max_plas,\n                                                                     loc3))","7e75518d":"#plotting area of study \nstart_loc= (sea_micro['Latitude'].mean(),sea_micro['Longitude'].mean())\n\n#map\nm_5=folium.Map(location=start_loc,\n              tiles='Open Street Map',\n              zoom_start=2,\n              min_zoom=1.5)\n\n#heatmap:\nHeatMap(data=sea_micro[['Latitude','Longitude','Pieces_KM2']],\n        radius=10,\n        blur=5,\n        opacity=.1).add_to(m_5)\n\n#add area of highest concentration\nfolium.CircleMarker(location= (loc3[0][0],loc3[0][1]),\n                  tooltip=\"<b>max plastic density<\/b>\",\n                  color='black',\n                  radius=15).add_to(m_5)\n\n\nprint('Study area Heatmap (SeaMicro) ')\nm_5","327cdf7c":"m_6=folium.Map(location=start_loc,\n              tiles='Open Street Map',\n              zoom_start=2,\n              min_zoom=1.5)\n\n\n\nd3= defaultdict(list)\n\nfor row in sea_micro.itertuples():\n    d3[row.Date.month].append([row.Latitude,row.Longitude,row.Pieces_KM2])\n\nh3=HeatMapWithTime(data=list(d2.values()),\n                index=list(d2.keys()),\n                radius=10,\n                min_opacity=0.1,\n                max_opacity=0.6,\n                auto_play=True,\n               control=True,\n                show=True).add_to(m_6)\n\n\nprint('Monthwise time series visualization of Sea_Micro data')\n\nm_6","5299be2e":"# SEA data","3f6514af":"# TimeSeries Visualization of Geomar Data.","e98af555":"# **Yearly TimeSeries of the Adventure Sci data**","936d33ab":"# Visualizing sea_micro TimeSeries","fbcec9b9":"# About Microplastics\n**The problem with plastic**\n\nWhile it\u2019s tough to say exactly how much plastic is in the ocean, scientists think about 8 million metric tons of plastic entered the ocean in 2010. That\u2019s the weight of nearly 90 aircraft carriers, and the problem continues to grow.\n\nThese plastics come in many different forms. Just think about all the plastic items you use daily: the toothbrush you grab first thing in the morning, the container your lunch comes in, or the bottle you drink water from after your workout.\n\nAll these things get used and, eventually, thrown out. Many plastic products are single-use items that are designed to be thrown out, like water bottles or take out containers. These are used and discarded quickly. If this waste isn\u2019t properly disposed of or managed, it can end up in the ocean.\n\nUnlike some other kinds of waste, plastic doesn\u2019t decompose. That means plastic can stick around indefinitely, wreaking havoc on marine ecosystems. Some plastics float once they enter the ocean, though not all do. As the plastic is tossed around, much of it breaks into tiny pieces, called microplastics.\n\n**src**: https:\/\/oceanservice.noaa.gov\/hazards\/marinedebris\/plastics-in-the-ocean.html","6fe7292b":"!['Marine Plastic'](https:\/\/aambpublicoceanservice.blob.core.windows.net\/oceanserviceprod\/hazards\/marinedebris\/plastics_in_the_ocean_lesstext.jpg)","8e681747":"# GeoMarine Data ","01f6b749":"# Adventure Scientist data ","a8c3a826":"# Data \nWhat is the project and why is it important?\n\n    Microplastics are plastic debris pieces that are smaller than five millimeters in size. They can be found in most habitats on Earth as well as in the digestive tracts of many marine organisms and sea birds. As more research is done on this type of debris, the need for global standardization of sampling methods has been recognized. Since there is no single agreed-upon method for counting and weighing microplastics in water samples, it is difficult to compare results across studies. Although common approaches may be used, most laboratories develop their own procedures for microplastic sampling and processing based on factors such as budget, equipment availability, labor, and the specific research questions being asked. \u201cInterlaboratory comparisons\u201d are performed in many scientific fields, during which multiple labs are asked to analyze identical samples in order to test their ability to produce reliable and repeatable measurements; this can be a step toward the development of standardized sampling methods.\n\n    This project was composed of two parts aimed to address the standardization of microplastic sampling protocols. First, a standardized laboratory protocol was developed for isolating and quantifying microplastic debris in environmental samples. Second, an interlaboratory comparison was conducted to evaluate if protocols used by various labs for quantifying microplastics in water samples were comparable.\n\n    For the first stage of the project, researchers from the University of Washington Tacoma created a simple, cost-effective, and unbiased laboratory method to quantify microplastic debris in environmental samples. The protocol focuses on the filtration, separation, and quantification of many common microplastics. The protocol varies slightly depending on whether the sample is beach sand, bed sediment, or water, but the general procedure includes an initial sieving\/separation of the sample, the removal of organic matter, a second separation, and finally drying, sorting, and weighing the sample. For more, access the full laboratory protocol.\n\n    The interlaboratory comparison was the second part of this project and to our knowledge, is the first study to compare different laboratory protocols for isolating and quantifying microplastic debris in water samples. To start, reference samples were created by adding known amounts of microplastic particles and organic matter to filtered water. These samples were then mailed to six national and international research laboratories well-versed in microplastic research. These laboratories used their own protocols to filter, isolate, and quantify the microplastic debris. Researchers reported their results to the team at the University of Washington Tacoma and comparisons were made between the known microplastic values from the reference samples and the values reported from each of the laboratories.\n\nsrc: https:\/\/www.kaggle.com\/brsdincer\/marine-microplastic-on-world-density-noaa","05193b25":"**Helper code**","20116037":"# Loading data ","9fbe212c":"# References and resources\n* Folium plugins : https:\/\/python-visualization.github.io\/folium\/plugins.html\n* Blog : https:\/\/oceanservice.noaa.gov\/hazards\/marinedebris\/plastics-in-the-ocean.html\n* **Notebook : [ https:\/\/www.kaggle.com\/brsdincer\/marine-micro-plastic-analysis-process\/notebook ]**","155df836":"**END**","c489b1d9":"**The data from studies show that there is micro-plastic present in high concentration in our oceans, even in the remotest regions of the ocean.**","9b0d0271":"# Exploratory Data Analysis"}}