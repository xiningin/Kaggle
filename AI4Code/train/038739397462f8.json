{"cell_type":{"19c71453":"code","f465599b":"code","76bd2e65":"code","f7aa694a":"code","1a80191c":"code","99ecac57":"code","edaa55b2":"code","33472743":"code","95fd79d4":"code","5230092d":"code","e1b522c3":"code","13d563ea":"code","b4f27116":"code","db22ad73":"code","ce232201":"code","275a50b6":"code","ce5d1c22":"code","8a26cc3d":"code","d6d704e7":"code","e59e714b":"code","82b1bce5":"code","1f03b87e":"code","18339e99":"code","8c0c547f":"code","71cceeb2":"code","e5d1a0b1":"code","78e9e832":"code","35e95170":"code","72557a62":"code","83440ef1":"code","dd2dd313":"code","f084a5be":"code","154e207e":"code","26bc46ee":"code","654ae8af":"code","219d58fa":"code","7d67432e":"code","5a1de6c3":"code","0f544521":"code","0743d6c0":"markdown","08414836":"markdown","24c2d5b1":"markdown","08f11a59":"markdown","404780d4":"markdown","d9f84f70":"markdown","ce32d587":"markdown","31e5a341":"markdown"},"source":{"19c71453":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\ncsv_url='\/kaggle\/input\/insurance\/insurance.csv'\ninsurance=pd.read_csv(csv_url)","f465599b":"insurance.head()","76bd2e65":"insurance.describe()","f7aa694a":"insurance.dtypes","1a80191c":"insurance.columns","99ecac57":"insurance.info()","edaa55b2":"insurance.isna().sum()","33472743":"insurance.isnull().sum()","95fd79d4":"pd.DataFrame(insurance['sex'].value_counts())","5230092d":"pd.DataFrame(insurance['smoker'].value_counts())","e1b522c3":"pd.DataFrame(insurance['region'].value_counts())","13d563ea":"region_dum= pd.get_dummies(insurance['region'], drop_first=True)\nregion_dum.head()","b4f27116":"df=insurance[['age', 'bmi', 'children','charges']]\ndf","db22ad73":"df_new = pd.concat([insurance, region_dum], axis=1)\ndf_new","ce232201":"pd.DataFrame(df['children'].value_counts())","275a50b6":"df.hist(bins= 60, figsize=(20,10))","ce5d1c22":"old= df[df['age']>=50]\nold","8a26cc3d":"young= df[df['age']<=30]\nyoung","d6d704e7":"mid=df[(df['age']>30) & (df['age']<50)]\nmid","e59e714b":"young[['age', 'bmi']].plot(kind='density', x='age', y='bmi', figsize=(10,5))\nmid[['age', 'bmi']].plot(kind='density', x='age', y='bmi', figsize=(10,5))\nold[['age', 'bmi']].plot(kind='density', x='age', y='bmi', figsize=(10,5))","82b1bce5":"young[['age', 'charges']].plot(kind='box', x='age', y='charges', figsize=(10,5))\nmid[['age', 'charges']].plot(kind='box', x='age', y='charges', figsize=(10,5))\nold[['age', 'charges']].plot(kind='box', x='age', y='charges', figsize=(10,5))","1f03b87e":"ax = sns.heatmap(data = df.corr(),cmap='YlGnBu',annot=True)","18339e99":"ax =sns.heatmap(data= insurance.corr(), cmap='YlGnBu', annot=True)","8c0c547f":"fig, ax=plt.subplots(figsize=(10,5))\nplt.scatter(df['charges'], df['age'])\nax.set_xlabel('Charges')\nax.set_ylabel('Age')\nplt.show()","71cceeb2":"sns.catplot(x=\"sex\", kind='count',hue='smoker', data=insurance[['sex', 'smoker']], order=['female','male'])","e5d1a0b1":"sns.catplot(x=\"sex\", y=\"charges\", hue=\"sex\",\n            kind=\"violin\", inner=\"stick\", split=True,\n            palette=\"pastel\", data=insurance)","78e9e832":"sns.catplot(x=\"sex\", y=\"charges\", hue=\"sex\",\n            kind=\"box\", dodge=False, data=insurance)","35e95170":"sns.catplot(x=\"region\", kind='count',hue='smoker', data=insurance[['region', 'smoker']], order=['southwest','northwest','southeast'])","72557a62":"from sklearn.model_selection import train_test_split\nX = df\ny = df['charges']","83440ef1":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.3, random_state=444)","dd2dd313":"print('X_train shape:', X_train.shape)\nprint('X_test shape:', X_test.shape)\nprint('y_train shape:', y_train.shape)\nprint('y_test shape:', y_test.shape)\n\n","f084a5be":"X_train","154e207e":"from sklearn.preprocessing import StandardScaler\nstandard_X = StandardScaler()","26bc46ee":"X_train = standard_X.fit_transform(X_train)\nX_test = standard_X.fit_transform(X_test)","654ae8af":"X_train","219d58fa":"from sklearn.linear_model import LinearRegression\nreg= LinearRegression().fit(X_train,y_train)","7d67432e":"reg.score(X_test,y_test)","5a1de6c3":"from sklearn.ensemble import RandomForestRegressor\nclf = RandomForestRegressor(n_jobs = -1,n_estimators = 50,criterion = \"mae\",max_depth=3)\nclf.fit(X_train, y_train)","0f544521":"clf.score(X_test, y_test)","0743d6c0":"# Explorative Data Analyse","08414836":"Random Forest","24c2d5b1":"# Modelling","08f11a59":"Mit zunehmendem Alter sinken die Geb\u00fchren, was man am Median ablesen kann. Je l\u00e4nger die Box, desto verteilter sind die Daten. Je kleiner die Box, desto weniger verstreut sind die Daten.","404780d4":"# Import Dataset","d9f84f70":"Korrelationswert ist zwischen den Merkmalen sehr niedrig. Sogar die h\u00f6chste Korrelationswert ist gering.","ce32d587":"Linear Regression","31e5a341":"Deshalb rauchen Die Maenner mehr als die Frauen, kann man der sowohl Medianwert des Maenner als auch charges h\u00f6her als Frauen.\n\n\n"}}