{"cell_type":{"97e25c63":"code","9c5325da":"code","d200e800":"code","7513b5e2":"code","8d49f666":"code","4f28ea43":"code","99c76609":"code","0483437f":"code","b22c315d":"code","add1a352":"code","a0d5ee8c":"code","2f6c41d0":"code","69b3fd27":"code","c625c4e5":"code","37ac1903":"code","483d9017":"code","dbf18978":"code","bda35dca":"code","9f7b438f":"code","9486ba78":"code","42675328":"code","13bfe0a0":"code","af2ddb23":"code","53a75972":"markdown","07841aff":"markdown","9aad4b06":"markdown","3b85bc39":"markdown","294e699d":"markdown","162a8119":"markdown","33dd026a":"markdown","de0ab993":"markdown","901bb0ba":"markdown","7e9bb342":"markdown","58d92428":"markdown","43a42651":"markdown","dc114da6":"markdown","d76c58aa":"markdown","9b215a4d":"markdown","cde5f954":"markdown","b4cc4e83":"markdown","03b07ba6":"markdown","70cc54e3":"markdown","76e0db55":"markdown","bbbe02be":"markdown","71048685":"markdown","1a9db322":"markdown","45af3f17":"markdown"},"source":{"97e25c63":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.offline as py\nimport plotly.figure_factory as ff\npy.init_notebook_mode(connected=True)\nprint(os.listdir(\"..\/input\"))\nimport warnings\nwarnings.filterwarnings('ignore')","9c5325da":"hero_info = pd.read_csv('..\/input\/heroes_information.csv')\nhero_info.head(10)","d200e800":"hero_info[(hero_info['Weight'] < 0)].head(10)","7513b5e2":"hero_pow = pd.read_csv('..\/input\/super_hero_powers.csv')\nhero_pow.head()","8d49f666":"hero_pow = hero_pow*1\nhero_pow.head()","4f28ea43":"hero_info.shape[0] == hero_pow.shape[0]","99c76609":"names = []\nweights = []\nagility = []\nstamina = []\ntotal_abilities = []\ngender = []\nheight = []\nalignments = []\npublisher = []\nfor name, agi, sta, gen, ali, pub in zip(hero_pow['hero_names'], hero_pow['Agility'], hero_pow['Stamina'], hero_info['Gender'], hero_info['Alignment'], hero_info['Publisher']):\n    w = hero_info[hero_info['name'] == name]['Weight'].values\n    h = hero_info[hero_info['name'] == name]['Height'].values\n    abilities = sum(hero_pow[hero_pow['hero_names']==name].iloc[:,1:].values[0])\n    if w.shape[0] != 0:\n        names.extend([name])\n        total_abilities.extend([abilities])\n        weights.extend([sum(w)\/w.shape[0]])\n        agility.extend(['Agile' if agi == 1 else 'Not Agile'])\n        stamina.extend(['Has Stamina' if sta == 1 else 'No Stamina'])\n        gender.extend([gen])\n        height.extend([sum(h)\/h.shape[0]])\n        alignments.extend([ali])\n        publisher.extend([pub])","0483437f":"weights = np.array(weights)\nheight = np.array(height)\nfiltered = pd.DataFrame()\nfiltered['Name'] = np.array(names)[(weights > 0) & (height > 0)]\nfiltered['Weight'] = weights[(weights > 0) & (height > 0)]\nfiltered['Agility'] = np.array(agility)[(weights > 0) & (height > 0)]\nfiltered['Stamina'] = np.array(stamina)[(weights > 0) & (height > 0)]\nfiltered['Total Abilities'] = np.array(total_abilities)[(weights > 0) & (height > 0)]\nfiltered['Gender'] = np.array(gender)[(weights > 0) & (height > 0)]\nfiltered['Height'] = np.array(height)[(weights > 0) & (height > 0)]\nfiltered['Alignment'] = np.array(alignments)[(weights > 0) & (height > 0)]\nfiltered['Publisher'] = np.array(publisher)[(weights > 0) & (height > 0)]","b22c315d":"filtered.head()","add1a352":"plt.figure(figsize = (20,8))\nsns.swarmplot(filtered['Agility'], filtered['Weight'], hue = filtered['Stamina'], palette=\"Set2\", dodge=True)","a0d5ee8c":"print(filtered['Name'][filtered['Weight']==max(filtered['Weight'])])","2f6c41d0":"print('Unique Genders in Dataset: {}'.format(np.unique(filtered['Gender'])))","69b3fd27":"filtered[filtered['Gender']=='-']","c625c4e5":"_females = ('Mockingbird','Goblin Queen',)\ndef fill_missing(x):\n    if(x['Gender']=='-'):\n        if(x['Name'] in _females):\n            return 'Female'\n        else:\n            return 'Male'\n    else:\n        return x['Gender']\n\nfiltered['Gender'] = filtered.apply(fill_missing, axis=1)","37ac1903":"print('Unique Genders in Dataset: {}'.format(np.unique(filtered['Gender'])))","483d9017":"sns.countplot(filtered['Gender'][filtered['Publisher']=='Marvel Comics'])\nplt.title('Gender count - Marvel Comics')","dbf18978":"sns.countplot(filtered['Gender'][filtered['Publisher']=='DC Comics'])\nplt.title('Gender Count - DC comics')","bda35dca":"#plt.figure(figsize = (20,8))\nsns.jointplot(x=filtered['Weight'], y=filtered['Height'], kind = 'reg')","9f7b438f":"filtered.head()","9486ba78":"filtered['BMI'] = np.divide(filtered['Weight'], np.square(filtered['Height']\/100))","42675328":"fig = ff.create_distplot([filtered['BMI'][(filtered['Alignment'] == 'good')  & (filtered['Gender'] == 'Male') & (filtered['BMI'] < 80)], filtered['BMI'][(filtered['Alignment'] == 'good')  & (filtered['Gender'] == 'Female') & (filtered['BMI'] < 80)]], ['BMI- Good, Male', 'BMI - Good, Female'])\nfig['layout'].update(title='Distribution of BMI - Good', xaxis=dict(title='BMI'))\npy.iplot(fig, filename='Basic Distplot')","13bfe0a0":"fig = ff.create_distplot([filtered['BMI'][(filtered['Alignment'] == 'bad')  & (filtered['Gender'] == 'Male')], filtered['BMI'][(filtered['Alignment'] == 'bad')  & (filtered['Gender'] == 'Female')]], ['BMI- Bad, Male', 'BMI - Bad, Female'])\nfig['layout'].update(title='Distribution of BMI - Bad', xaxis=dict(title='BMI'))\npy.iplot(fig, filename='Basic Distplot')","af2ddb23":"filtered.sort_values(['BMI'], ascending=False).head(10)","53a75972":"Most of these Characters are Male, except for [Mockingbird](http:\/\/hero.wikia.com\/wiki\/Mockingbird) and [Goblin Queen](https:\/\/x-men.fandom.com\/wiki\/Goblin_Queen). So, I'll replace them myself.","07841aff":"I was curious to know if Heavy characters were agile. ","9aad4b06":"Looks like both of these publishers can improve on gender diversity","3b85bc39":"Now, Let's look at the bad guys","294e699d":"Here we have the data of the powers of the heros. Some of these are too specific, like the [Lantern Power Ring](http:\/\/dc.wikia.com\/wiki\/Green_Lantern_Ring), [Omnitirix](https:\/\/ben10.fandom.com\/wiki\/Omnitrix)\n\nLet's convert the True\/False values to numbers (Most of the times, numbers are easier to handle).","162a8119":"Now, let's take a look at how the Height of the Characters vary with their Weights","33dd026a":"![Utgard-Loki](https:\/\/vignette.wikia.nocookie.net\/marveldatabase\/images\/6\/6d\/Utgard-Loki_%28Earth-616%29_from_Thor_Vol_4_3_001.jpg)\nThe winner is Utgard-Loki: http:\/\/marvel.wikia.com\/wiki\/Utgard-Loki_(Earth-616) . He is a cosmic being, So being overwheight must not be a matter to him.","de0ab993":"# How healthy are our Heroes?\n\n![Superheros](http:\/\/images.wookmark.com\/91478_dc-marvel-superheroes.jpg)\n[Source](http:\/\/worldsuperheros.blogspot.com\/2013\/02\/dc-super-heroes.html)<br>\nWe all enjoy the adventures of the Caped Crusader or the mystic arts of Doctor Strange. They help us relax our minds and entertain ourselves. Thanks to [ClaudioDavi](https:\/\/www.kaggle.com\/claudiodavi) we have a dataset of the attributes of various superheros by various publishers (Marvel Comics, DC Comics, Dark Horse Comics, etc.). So, I think it is time we see how healthy our heroes are.","901bb0ba":"We see that **'-'** exists in the dataset for *Gender*. Let's take a look at the characters who have **-** for their gender.  ","7e9bb342":"Now, for the part you're here.\n\nLet's start by Calculating their [BMI(Body Mass Index)](https:\/\/en.wikipedia.org\/wiki\/Body_mass_index)\n\nBMI is calculated as **Weight(in kg)\/Height(in m)<sup>2<\/sup>**\n\nBefore we start calculating, we need to make sure that the data provided here is in the units we need (kg and m). How do we do that?","58d92428":"It's [Sasquatch](http:\/\/marvel.wikia.com\/wiki\/Sasquatch). Better not be on the bad side of him.\n\nIn the above plot, it is interesting to note that characters who are not agile don't have stamina.","43a42651":"Now, let's see the number of heroes in each gender in [Marvel](https:\/\/www.marvel.com\/) and [DC](https:\/\/www.dcentertainment.com\/) comics.","dc114da6":"The number of heros mentioned in the two files are different. So, Let's choose the attributes of the heros present in both the files","d76c58aa":"I chose some heros that have such values in their weights or heights. I then looked at these attributes in [FANDOM](http:\/\/www.wikia.com\/fandom) sites of the corresponding publishers. I understood that the weights or heights of these heroes were either not recorded are variable. This is understandable as lot of the characters are cosmic or mystical entities and\/or can modify their physical appearances.","9b215a4d":"This Data Visualization and Analysis shows us that most of the Characters are Healthy (at least by human standards).","cde5f954":"Now, Let's take a look at the Gender distribution of the characters","b4cc4e83":"I got the below table from [here](https:\/\/www.cdc.gov\/healthyweight\/assessing\/bmi\/adult_bmi\/index.html)\n\n|BMI|Weight Status|\n|-|-|\n|Below 18.5|Underweight|\n|18.5 \u2013 24.9|Normal or Healthy Weight|\n|25.0 \u2013 29.9|Overweight|\n|30.0 and Above|Obese|","03b07ba6":"Here we see how the Dataset is structured. You will notice that some records have a value of **-99** in Height and Weight. \n","70cc54e3":"Height and Weight appear to have an almost linear relationship","76e0db55":"Turns out, they are.\nThe Heaviest character in the dataset is also agile. Let's see who that is.","bbbe02be":"Almost same here.\n\nJust for fun, let's see who has the top 10 highest BMI.","71048685":"I checked the attributes for Abomination: http:\/\/marvel.wikia.com\/wiki\/Emil_Blonsky_(Earth-616)\n\nI compared the attributes and concluded that the weights are in *kg* and the height in *cm*.\n\nLet's proceed to calculate the BMI.","1a9db322":"Based on the table, we see that most of the characters have made it into the **Healthy Category** by a tiny amount.","45af3f17":"Let's see how the BMI is distributed amon the Good guys"}}