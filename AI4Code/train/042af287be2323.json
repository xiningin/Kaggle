{"cell_type":{"819c9958":"code","9a7a9e4c":"code","ce4a3f22":"code","a7b22b50":"code","893137cd":"code","3e2373ea":"code","dee3c447":"code","2d646d08":"code","1cb10ef1":"code","e9e87675":"code","063d66f6":"code","611fe7f1":"code","9ea15c56":"code","6c4926a1":"code","d32ebb19":"code","26e80e58":"code","40416525":"code","40d74be5":"code","f2ff4a2e":"code","ce85d14f":"code","de0ebc5d":"code","11025c3c":"code","5f36db92":"code","eee53757":"code","ab62f0d8":"code","827acff2":"code","7562c29a":"code","48d919ac":"code","b2a37ee3":"code","caecb662":"code","a7fbbc5a":"code","898cc76b":"code","61d39f09":"code","b09a61a6":"code","92931250":"code","edbf2387":"code","af31f888":"code","1b0b8fcb":"code","9a3a773b":"code","016cf11c":"code","ab2e2f99":"code","2050c3e8":"code","03b99924":"code","945ac7fc":"code","7a9e006c":"code","20213e8c":"code","7bf25719":"code","2f10abb5":"code","a277d3ac":"code","a3481401":"code","f113eb7d":"code","da485364":"code","32473124":"code","52af64ad":"code","e6259c58":"code","9a7fd61a":"code","a067d844":"code","53d22c28":"code","c8327904":"code","ecba77da":"code","d4a5ebf9":"code","2e9d6a9a":"code","f1bf8646":"code","52a0c466":"code","6ac84a9f":"code","ff9f7fa3":"code","4501f4f0":"code","12e4ecee":"code","c1e39cac":"code","25341003":"code","5430557c":"code","27aaa1cd":"code","e8b159a6":"code","d0be8da7":"code","f21b8f0a":"code","7eec33a5":"code","50291e20":"code","c06aa52d":"code","805accf8":"code","1911b210":"code","c3bf4c2f":"code","10f1ba3d":"code","48f17a76":"code","37539409":"code","fe3c7e47":"code","d98b473c":"code","906ceb34":"code","57c9f60d":"code","7846f2c7":"code","5018572a":"code","74891f64":"code","2e780254":"code","ec3a3b59":"code","70d13177":"code","523a6ff7":"code","961b7d0e":"code","b6ee62b5":"code","fa2f3358":"code","9bdc89f6":"code","828984c7":"code","c9406668":"code","58dc0481":"code","b9e7e513":"code","81956c36":"code","d9a49bcb":"code","c32db268":"code","d3256d87":"code","835ff318":"code","d952f502":"code","ed54d20f":"code","4f900567":"code","3b3b2fed":"code","49b83a6e":"code","b4bd6a58":"code","936d2494":"code","c402fc41":"code","5c638561":"code","c996f9e9":"code","35fd7d27":"code","f864ce5d":"code","9b24830b":"code","ad508180":"code","baff186f":"code","9bc5c5d9":"code","6a10247b":"code","7d1be4f5":"code","67483e44":"code","150df36e":"code","9ecf599a":"code","30ba2fec":"code","abeab0fb":"code","d522badb":"code","4a290f34":"code","37b8c424":"code","9c1f8ab9":"code","83505ecb":"code","86beb15f":"code","f1aced54":"code","244e2b2f":"code","4f9fb27f":"code","2d8dbe77":"code","f3145159":"code","87593b65":"code","1e5eb809":"code","5d23c813":"code","26ea42e5":"code","0f25a2b8":"code","1f32e4d9":"code","d119257c":"code","cb6b36c6":"code","9faae8a4":"code","784b331a":"code","1cd173c9":"code","ab308d4c":"code","c255d1dc":"code","5b63fac2":"code","8b63289f":"code","1939a371":"code","f92c0193":"code","41ab0687":"markdown","950eca18":"markdown","6a78aff5":"markdown","37d713f5":"markdown","928ba898":"markdown","a36c1bd4":"markdown","7e320fec":"markdown","f6f66580":"markdown","d70e9e8d":"markdown","508dd05b":"markdown","9ce206a9":"markdown","a787892a":"markdown","36dbeacd":"markdown","8a1889b9":"markdown","7e87624a":"markdown","333628f8":"markdown","5c43e2cc":"markdown","a06a7c20":"markdown","402ec5b0":"markdown","63e93a73":"markdown","d57e6456":"markdown","63210b9e":"markdown","ac536c97":"markdown","e6b0f7b1":"markdown","87f6979c":"markdown","91398f39":"markdown","b41080c0":"markdown","3fff1699":"markdown","7e07e016":"markdown","a993b757":"markdown","f3cd1602":"markdown","4373b62e":"markdown","95b16947":"markdown","96297c0a":"markdown","3b756ea9":"markdown","daef2a08":"markdown","dd44bb9a":"markdown","40c82d9c":"markdown","4e38d79d":"markdown","66567ce2":"markdown","d0afae7f":"markdown","0108e93a":"markdown","5b65f600":"markdown","865f0935":"markdown","9587d95a":"markdown","002a4751":"markdown","bea225b6":"markdown","27f5b5e4":"markdown","b6437e04":"markdown","94c5fbad":"markdown","e7634ad3":"markdown","4f2d75fa":"markdown","e8f8a983":"markdown","ab3e42ea":"markdown","8ce3852a":"markdown","28e4d13d":"markdown","ddac560b":"markdown","4b0b6eb7":"markdown","c5a069a9":"markdown","26ad1515":"markdown","3855f5cd":"markdown","355070d6":"markdown","6533fb17":"markdown","142c7e79":"markdown","f78231b8":"markdown","be948faa":"markdown","ec53528d":"markdown","047b4d79":"markdown","7f938947":"markdown","6c56d44d":"markdown","69af3f5c":"markdown","f8ecf1a3":"markdown","e5145ccd":"markdown","26bdd529":"markdown","0f0384ea":"markdown","4f148c70":"markdown","1c455e88":"markdown","6679effe":"markdown","9ec9b275":"markdown","559b350e":"markdown","7e25c798":"markdown","440efa76":"markdown","6b0a9ec4":"markdown","13dbad28":"markdown","509c5103":"markdown","670e0d4c":"markdown","559fd609":"markdown","9d00f868":"markdown","b6cb9759":"markdown","c1e116ea":"markdown","f1a73501":"markdown","c4509da4":"markdown","86a05f88":"markdown","6b2b3bbc":"markdown","2c2108c6":"markdown","92b61550":"markdown","20f4c10c":"markdown","6943989a":"markdown","601b3f30":"markdown","25e1ceed":"markdown","1b5ec924":"markdown","87616aa0":"markdown","dd2743c8":"markdown","1212b438":"markdown","e5225be0":"markdown","f6375421":"markdown","88ec5f63":"markdown","2a2fe86f":"markdown","76c46dfa":"markdown","45702fce":"markdown","3ca8314d":"markdown","fb5ac8b4":"markdown","d86d610c":"markdown","f6089602":"markdown","5683aa91":"markdown","a60af99a":"markdown","b278da57":"markdown"},"source":{"819c9958":"import numpy as np\nimport pandas as pd\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns","9a7a9e4c":"def multiliner(string_list, n):\n    length = len(string_list)\n    for i in range(length):\n        rem = i % n\n        string_list[i] = '\\n' * rem + string_list[i]\n    return string_list","ce4a3f22":"df = pd.read_csv('..\/input\/boston-crime-incident-reports-20152019\/crime.csv')","a7b22b50":"df.shape","893137cd":"df.head(20)","3e2373ea":"#df.set_index('incident_number', inplace = True)\ndf['shooting'].fillna(0, inplace = True)\ndf.drop(columns = ['location'], inplace = True)","dee3c447":"df.head(5)","2d646d08":"df.dtypes","1cb10ef1":"df.isna().sum()","e9e87675":"df_od = df.groupby('offense_description').size().reset_index(name = 'counts').set_index('offense_description').sort_values(by = 'counts', ascending = False)","063d66f6":"df_od","611fe7f1":"df_ucr = df.groupby('ucr_part').size().reset_index(name = 'counts').set_index('ucr_part')","9ea15c56":"df_ucr","6c4926a1":"df_p3 = df.loc[df['ucr_part'] == 'Part Three']","d32ebb19":"df_3d = df_p3.groupby('offense_description').size().reset_index(name = 'counts').set_index('offense_description')","26e80e58":"df_3d","40416525":"df_other = df.loc[df['ucr_part'] == 'Other']","40d74be5":"df_otherd = df_other.groupby('offense_description').size().reset_index(name = 'counts').set_index('offense_description')","f2ff4a2e":"df_otherd","ce85d14f":"df_ucrna = df.loc[df['ucr_part'].isnull()]","de0ebc5d":"df_nad = df_ucrna.groupby('offense_description').size().reset_index(name = 'counts').set_index('offense_description')","11025c3c":"df_nad","5f36db92":"df_clean = df.loc[(df['ucr_part'] != 'Part Three') & (df['offense_description'] != 'INVESTIGATE PERSON')]","eee53757":"df_clean.shape","ab62f0d8":"df_day = df_clean.groupby('day_of_week').size().reset_index(name = 'counts').set_index('day_of_week')","827acff2":"df_day","7562c29a":"df_day.reset_index(inplace = True)","48d919ac":"df_day['day_of_week'] = pd.Categorical(df_day['day_of_week'], categories = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'], ordered = True)","b2a37ee3":"df_day.set_index('day_of_week', inplace = True)","caecb662":"df_day.sort_values(by = 'day_of_week', inplace = True)","a7fbbc5a":"fig = plt.figure(figsize = (10,7))\nax = plt.subplot(111)\nind = np.arange(7)\ncrimes_by_day = df_day['counts']\nrects = ax.bar(ind, crimes_by_day, width = 0.8, color = ['green','olive','olive','olive','olive','red','green'])\nax.set_xticks(ind)\nax.set_xticklabels(['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'])\nax.set_title('Crimes in Boston by days of the week')\nax.set_ylabel('Amount of crimes')\nfor rect in rects:\n    height = rect.get_height()\n    ax.text(rect.get_x() + 0.15, 1.01 * height, height, fontsize = 12)","898cc76b":"df_year = df_clean.groupby('year').size().reset_index(name = 'counts').set_index('year')","61d39f09":"df_year","b09a61a6":"df_year.drop(labels = [2015,2019], inplace = True)","92931250":"fig2 = plt.figure(figsize = (5,7))\nind2 = np.arange(3)\nax2 = plt.subplot(111)\nrects = ax2.bar(ind2, df_year['counts'], width = 0.4, color = ['red','green','blue'])\nax2.set_xticks(ind2)\nax2.set_xticklabels([2016,2017,2018])\nax2.set_xlabel('Year')\nax2.set_ylabel('Amount of crimes')\nax2.set_title('Crimes in Boston by year')\nfor rect in rects:\n    height = rect.get_height()\n    ax2.text(rect.get_x() - 0.01, 1.01 * height, height, fontsize = 14)","edbf2387":"df_1618 = df_clean.loc[(df_clean['year'] > 2015) & (df_clean['year'] < 2019)]","af31f888":"df_1618.shape","1b0b8fcb":"df_month = df_1618.groupby('month').size().reset_index(name = 'counts').set_index('month')","9a3a773b":"df_month","016cf11c":"fig3 = plt.figure(figsize = (10,7))\nind3 = np.arange(12)\nax3 = plt.subplot(111)\nrects = ax3.bar(ind3, df_month['counts'], width = 0.8,color = ['yellow','lime','yellow','yellow','red','red','red','darkred','orange','orange','green','green'])\nax3.set_xticks(ind3)\nax3.set_xticklabels(['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'])\nax3.set_xlabel('Month')\nax3.set_ylabel('Amount of crimes')\nax3.set_title('Crimes in Boston by month')\nfor rect in rects:\n    height = rect.get_height()\n    ax3.text(rect.get_x() - 0.13, 1.01 * height, height, fontsize = 14)","ab2e2f99":"df_ocg = df_clean.groupby('offense_code_group').size().reset_index(name = 'counts').set_index('offense_code_group').sort_values(by = 'counts', ascending = False)","2050c3e8":"df_ocg","03b99924":"fig41 = plt.figure(figsize = (20,8))\nind41 = np.arange(10)\nax41 = plt.subplot(111)\ny_data = df_ocg['counts'].head(10)\ndf_riocg = df_ocg.reset_index()\nrects = ax41.bar(ind41, y_data, width = 0.8,color = 'r')\nax41.set_xticks(ind41)\nax41.set_xticklabels(multiliner(df_ocg.index.tolist()[:10], 2))\nax41.set_xlabel('Offense Code Group')\nax41.set_ylabel('Amount of crimes')\nax41.set_title('Crimes in Boston by offense code group')\nfor rect in rects:\n    height = rect.get_height()\n    ax41.text(rect.get_x() + 0.2, 1.02 * height, height, fontsize = 14)","945ac7fc":"df_od = df_clean.groupby('offense_description').size().reset_index(name = 'counts').set_index('offense_description').sort_values(by = 'counts', ascending = False)","7a9e006c":"df_od","20213e8c":"fig42 = plt.figure(figsize = (20,8))\nind42 = np.arange(10)\nax42 = plt.subplot(111)\ny_data = df_od['counts'].head(10)\ndf_riod = df_od.reset_index()\nrects = ax42.bar(ind42, y_data, width = 0.8,color = 'r')\nax42.set_xticks(ind42)\nax42.set_xticklabels(multiliner(df_od.index.tolist()[:10], 3))\nax42.set_xlabel('Offense Description')\nax42.set_ylabel('Amount of crimes')\nax42.set_title('Crimes in Boston by offense description')\nfor rect in rects:\n    height = rect.get_height()\n    ax42.text(rect.get_x() + 0.2, 1.02 * height, height, fontsize = 14)","7bf25719":"df_districts = df_clean.groupby('district').size().reset_index(name = 'counts').set_index('district').sort_values('counts', ascending = False)","2f10abb5":"df_districts","a277d3ac":"fig5 = plt.figure(figsize = (10,7))\nind5 = np.arange(12)\nax5 = plt.subplot(111)\nrects = ax5.bar(ind5, df_districts['counts'], width = 0.8,color = 'r')\nax5.set_xticks(ind5)\nax5.set_xticklabels(df_districts.index)\nax5.set_xlabel('District')\nax5.set_ylabel('Amount of crimes')\nax5.set_title('Crimes in Boston by district')\nfor rect in rects:\n    height = rect.get_height()\n    if height > 9999:\n        hor = rect.get_x() - 0.13\n    else:\n        hor = rect.get_x() - 0.03\n    ax5.text(hor, 1.01 * height, height, fontsize = 14)","a3481401":"df_hour = df_clean.groupby('hour').size().reset_index(name = 'counts').set_index('hour')","f113eb7d":"df_hour","da485364":"fig6 = plt.figure(figsize = (20,7))\nind6 = np.arange(24)\nax6 = plt.subplot(111)\ncolor = []\nfor i in range(24):\n    amount = df_hour.loc[i, 'counts']\n    if amount > 12000:\n        color.append('darkred')\n    elif amount < 4000:\n        color.append('lime')\n    elif amount > 10000:\n        color.append('r')\n    elif amount < 6000:\n        color.append('g')\n    else:\n        color.append('olive')\nrects = ax6.bar(ind6, df_hour['counts'], width = 0.8,color = color)\nax6.set_xticks(ind6)\nax6.set_xticklabels(df_hour.index)\nax6.set_xlabel('Hour')\nax6.set_ylabel('Amount of crimes')\nax6.set_title('Crimes in Boston by hour')\nfor rect in rects:\n    height = rect.get_height()\n    if height > 9999:\n        hor = rect.get_x() - 0.13\n    else:\n        hor = rect.get_x() - 0.03\n    ax6.text(hor, 1.01 * height, height, fontsize = 14)","32473124":"df_shooting = df_clean.groupby('shooting').size().reset_index(name = 'counts').set_index('shooting')","52af64ad":"df_shooting","e6259c58":"shooting_rate = df_shooting.loc['Y', 'counts']\/df_clean.shape[0]","9a7fd61a":"shooting_rate","a067d844":"fig7 = plt.figure(figsize = (10,5))\nlabels = ['Shooting', 'No shooting']\nax7 = plt.subplot(111)\nsize = [shooting_rate, 1 - shooting_rate]\nax7.pie(size, explode = [0.5,0], labels = labels, autopct = '%1.2f%%', shadow = True, colors = ['red','blue'])\nax7.axis('equal')\nax7.legend()\nax7.set_title('What percentage of crimes involve shooting?')","53d22c28":"import json\nwith open('..\/input\/boston-neighborhoods-geojson\/Boston_Neighborhoods.geojson', 'r') as f:\n    boston_geojson = json.load(f)\nfeatures = boston_geojson['features']\nnbh_list = []\nfor feature in features:\n    nbh_list.append(feature['properties']['Name'])\nprint(nbh_list)","c8327904":"boston_geojson['features'][0]['geometry']","ecba77da":"nbh_list.sort()","d4a5ebf9":"nbh_list","2e9d6a9a":"nbh_list.remove('Chinatown')\nnbh_list.remove('Bay Village')\nnbh_list.remove('Leather District')","f1bf8646":"nbh_list","52a0c466":"nbh_pop = {\n    'Allston':22312,\n 'Back Bay':16622,\n 'Beacon Hill':9023,\n 'Brighton':52685,\n 'Charlestown':16439,\n 'Dorchester':114249,\n 'Downtown':15992,\n 'East Boston':40508,\n 'Fenway':33895,\n 'Harbor Islands':535,\n 'Hyde Park':32317,\n 'Jamaica Plain':35541,\n 'Longwood':4861,\n 'Mattapan':22500,\n 'Mission Hill':16874,\n 'North End':8608,\n 'Roslindale':26368,\n 'Roxbury':49111,\n 'South Boston':31110,\n 'South Boston Waterfront':2564,\n 'South End':29612,\n 'West End':5423,\n 'West Roxbury':30445\n}","6ac84a9f":"df_nb = pd.DataFrame.from_dict(data = nbh_pop, orient = 'index', columns = ['population'])","ff9f7fa3":"df_nb","4501f4f0":"df_nb.to_csv('population.csv')","12e4ecee":"from shapely.geometry import Point, shape","c1e39cac":"def point_to_neighborhood (lat, long, geojson):\n    point = Point(long, lat)\n    features = geojson['features']\n    for feature in features:\n        polygon = shape(feature['geometry'])\n        neighborhood = feature['properties']['Name']\n        if polygon.contains(point):\n            if neighborhood == 'Chinatown' or neighborhood == 'Leather District':\n                return 'Downtown'\n            elif neighborhood == 'Bay Village':\n                return 'South End'\n            else:\n                return neighborhood\n    print(f'Point ({long},{lat}) is not in Boston.')\n    return None","25341003":"boston_geojson","5430557c":"point_to_neighborhood(42.372269, -71.039015, boston_geojson)","27aaa1cd":"df_nafree = df_clean.dropna(subset = ['lat','long'])","e8b159a6":"df_nafree.shape","d0be8da7":"df_nafree.shape[0]\/df_clean.shape[0]","f21b8f0a":"for index, row in df_nafree.iterrows():\n    lat = df_nafree.at[index, 'lat']\n    long = df_nafree.at[index, 'long']\n    #print(index)\n    #print(lat)\n    #print(long)\n    neighborhood = point_to_neighborhood(lat, long, boston_geojson)\n    #print(neighborhood)\n    df_nafree.at[index, 'Neighborhood'] = neighborhood\n","7eec33a5":"df_nafree.tail(10)","50291e20":"df_nafree.to_csv('crimes_with_neighborhoods.csv')","c06aa52d":"df_nbh = df_nafree.groupby('Neighborhood').size().reset_index(name = 'count').set_index('Neighborhood')","805accf8":"df_nbh","1911b210":"df_nafree['Neighborhood'].isna().sum()","c3bf4c2f":"df_nbh.index.size","10f1ba3d":"df_nbh_full = pd.concat([df_nb,df_nbh],axis = 1, sort = True)","48f17a76":"df_nbh_full","37539409":"df_nbh_full.at['Harbor Islands','count'] = 0","fe3c7e47":"for index, row in df_nbh_full.iterrows():\n    df_nbh_full.at[index, 'Crime rate'] = df_nbh_full.at[index, 'count'] \/ df_nbh_full.at[index, 'population']","d98b473c":"df_nbh_full = df_nbh_full.sort_values('Crime rate', ascending = False)","906ceb34":"df_nbh_full","57c9f60d":"df.tail(5)","7846f2c7":"df.sort_values(by = 'occurred_on_date').head(5)","5018572a":"df.sort_values(by = 'occurred_on_date').tail(5)","74891f64":"for index, row in df_nbh_full.iterrows():\n    df_nbh_full.at[index, 'Crime rate'] = df_nbh_full.at[index, 'Crime rate'] * 365 \/ 1322","2e780254":"for index, row in df_nbh_full.iterrows():\n    df_nbh_full.at[index, 'Crime rate'] = df_nbh_full.at[index, 'Crime rate'] * 100000","ec3a3b59":"df_nbh_full","70d13177":"df_nbh_full.index","523a6ff7":"multiliner(['a','b','c'],3)","961b7d0e":"fig0 = plt.figure(figsize = (20,10))\nax0 = plt.subplot(111)\nind0 = np.arange(23)\ncrime_rate_by_neighborhood = df_nbh_full['Crime rate']\nrects = ax0.bar(ind0, crime_rate_by_neighborhood, width = 0.8, color = 'r')\nax0.set_xticks(ind0)\nax0.set_xticklabels(multiliner(df_nbh_full.index.tolist(),3))\nax0.set_title('Crime rate (per 100,000 residents) of neighborhoods of Boston')\nax0.set_ylabel('Crime rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 9999.5:\n        hor = rect.get_x() - 0.02\n    else:\n        hor = rect.get_x() + 0.05\n    ax0.text(hor, 1.01 * height + 250, int(round(height)), fontsize = 12)","b6ee62b5":"df_particulars = df_nafree.dropna(subset = ['Neighborhood'])","fa2f3358":"df_particulars.shape","9bdc89f6":"df_particulars['offense_description'].unique().tolist()","828984c7":"df_particulars['offense_code_group'].unique().tolist()","c9406668":"df_p2 = df_particulars.loc[df['ucr_part'] == 'Part Two']","58dc0481":"df_2p = df_p2.groupby('offense_code_group').size().reset_index(name = 'count').set_index('offense_code_group')","b9e7e513":"df_2p","81956c36":"df_p1 = df_particulars.loc[df['ucr_part'] == 'Part One']","d9a49bcb":"df_1p = df_p1.groupby('offense_code_group').size().reset_index(name = 'count').set_index('offense_code_group')","c32db268":"df_1p","d3256d87":"df_1d = df_p1.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","835ff318":"df_1d","d952f502":"l_op = df.groupby('offense_code_group').size().reset_index(name = 'counts')['offense_code_group'].tolist()","ed54d20f":"l_op","4f900567":"l_od = df.groupby('offense_description').size().reset_index(name = 'counts')['offense_description'].tolist()","3b3b2fed":"l_od","49b83a6e":"df_murder = df_particulars.loc[df_particulars['offense_description'] == 'MURDER, NON-NEGLIGIENT MANSLAUGHTER']","b4bd6a58":"df_murdern = df_murder.groupby('Neighborhood').size().reset_index(name = 'murder_and_nonnegligent_manslaughter').set_index('Neighborhood')","936d2494":"df_murdern","c402fc41":"df_aa = df_particulars.loc[df_particulars['offense_code_group'] == 'Aggravated Assault']","5c638561":"df_aa_d = df_aa.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","c996f9e9":"df_aa_d","35fd7d27":"df_aan = df_aa.groupby('Neighborhood').size().reset_index(name = 'aggravated_assault').set_index('Neighborhood')","f864ce5d":"df_aan","9b24830b":"df_robbery = df_particulars.loc[df_particulars['offense_code_group'] == 'Robbery']","ad508180":"df_r_d = df_robbery.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","baff186f":"df_r_d","9bc5c5d9":"df_robberyn = df_robbery.groupby('Neighborhood').size().reset_index(name = 'robbery').set_index('Neighborhood')","6a10247b":"df_robberyn","7d1be4f5":"df_arson = df_particulars.loc[df_particulars['offense_code_group'] == 'Arson']","67483e44":"df_arson_d = df_arson.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","150df36e":"df_arson_d","9ecf599a":"df_arsonn = df_arson.groupby('Neighborhood').size().reset_index(name = 'arson').set_index('Neighborhood')","30ba2fec":"df_arsonn","abeab0fb":"df_at = df_particulars.loc[df_particulars['offense_code_group'] == 'Auto Theft']","d522badb":"df_at_d = df_at.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","4a290f34":"df_at_d","37b8c424":"df_atn = df_at.groupby('Neighborhood').size().reset_index(name = 'auto_theft').set_index('Neighborhood')","9c1f8ab9":"df_atn","83505ecb":"df_larceny = df_particulars.loc[(df_particulars['offense_code_group'] == 'Larceny') | (df_particulars['offense_code_group'] == 'Larceny From Motor Vehicle')]","86beb15f":"df_larceny_d = df_larceny.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","f1aced54":"df_larceny_d","244e2b2f":"df_larcenyn = df_larceny.groupby('Neighborhood').size().reset_index(name = 'larceny').set_index('Neighborhood')","4f9fb27f":"df_larcenyn","2d8dbe77":"df_burglary = df_particulars.loc[(df_particulars['offense_code_group'] == 'Other Burglary') | (df_particulars['offense_code_group'] == 'Commercial Burglary') | (df_particulars['offense_code_group'] == 'Residential Burglary') | (df_particulars['offense_code_group'] == 'Burglary - No Property Taken')]","f3145159":"df_burglary_d = df_burglary.groupby('offense_description').size().reset_index(name = 'count').set_index('offense_description')","87593b65":"df_burglary_d","1e5eb809":"df_burglaryn = df_burglary.groupby('Neighborhood').size().reset_index(name = 'burglary').set_index('Neighborhood')","5d23c813":"df_burglaryn","26ea42e5":"df_nbh_crimes = pd.concat([df_nbh_full, df_murdern, df_aan, df_robberyn, df_arsonn, df_atn, df_larcenyn, df_burglaryn], axis = 1, sort = True)","0f25a2b8":"df_nbh_crimes","1f32e4d9":"df_nbh_crimes.fillna(0, inplace = True)","d119257c":"df_nbh_crimes","cb6b36c6":"for index, row in df_nbh_crimes.iterrows():\n    df_nbh_crimes.at[index, 'violent_crimes'] = df_nbh_crimes.at[index, 'murder_and_nonnegligent_manslaughter'] + df_nbh_crimes.at[index, 'aggravated_assault'] + df_nbh_crimes.at[index, 'robbery']\n    df_nbh_crimes.at[index, 'property_crimes'] = df_nbh_crimes.at[index, 'arson'] + df_nbh_crimes.at[index, 'auto_theft'] + df_nbh_crimes.at[index, 'larceny'] + df_nbh_crimes.at[index, 'burglary']\n    df_nbh_crimes.at[index, 'murder_rate'] = df_nbh_crimes.at[index, 'murder_and_nonnegligent_manslaughter'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'aggravated_assault_rate'] = df_nbh_crimes.at[index, 'aggravated_assault'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'robbery_rate'] = df_nbh_crimes.at[index, 'robbery'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'arson_rate'] = df_nbh_crimes.at[index, 'arson'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'auto_theft_rate'] = df_nbh_crimes.at[index, 'auto_theft'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'larceny_rate'] = df_nbh_crimes.at[index, 'larceny'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'burglary_rate'] = df_nbh_crimes.at[index, 'burglary'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'violent_crime_rate'] = df_nbh_crimes.at[index, 'violent_crimes'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000\n    df_nbh_crimes.at[index, 'property_crime_rate'] = df_nbh_crimes.at[index, 'property_crimes'] * 365 \/ 1322 \/ df_nbh_crimes.at[index, 'population'] * 100000","9faae8a4":"df_nbh_crimes","784b331a":"df_nbh_crimes.to_csv('crime_rates_by_neighborhood.csv')","1cd173c9":"fig01 = plt.figure(figsize = (20,10))\nax01 = plt.subplot(111)\nind01 = np.arange(23)\nmurder_rate_by_neighborhood = df_nbh_crimes['murder_rate']\nrects = ax01.bar(ind01, murder_rate_by_neighborhood, width = 0.8, color = 'r')\nax01.set_xticks(ind01)\nax01.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax01.set_title('Murder rate (per 100,000 residents) of neighborhoods of Boston')\nax01.set_ylabel('Murder rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.12\n    ax01.text(hor, 1.01 * height + 0.1, \"{:.1f}\".format(height), fontsize = 12)","ab308d4c":"fig02 = plt.figure(figsize = (20,10))\nax02 = plt.subplot(111)\nind02 = np.arange(23)\naa_rate_by_neighborhood = df_nbh_crimes['aggravated_assault_rate']\nrects = ax02.bar(ind02, aa_rate_by_neighborhood, width = 0.8, color = 'r')\nax02.set_xticks(ind02)\nax02.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax02.set_title('Aggravated assault rate (per 100,000 residents) of neighborhoods of Boston')\nax02.set_ylabel('Aggravated assault rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 999.95:\n        hor = rect.get_x() - 0.04\n    elif height >= 99.95:\n        hor = rect.get_x()\n    elif height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.12\n    ax02.text(hor, 1.01 * height + 10, \"{:.1f}\".format(height), fontsize = 12)","c255d1dc":"fig03 = plt.figure(figsize = (20,10))\nax03 = plt.subplot(111)\nind03 = np.arange(23)\nr_rate_by_neighborhood = df_nbh_crimes['robbery_rate']\nrects = ax03.bar(ind03, r_rate_by_neighborhood, width = 0.8, color = 'r')\nax03.set_xticks(ind03)\nax03.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax03.set_title('Robbery rate (per 100,000 residents) of neighborhoods of Boston')\nax03.set_ylabel('Robbery rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 999.95:\n        hor = rect.get_x() - 0.04\n    elif height >= 99.95:\n        hor = rect.get_x()\n    elif height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.12\n    ax03.text(hor, 1.01 * height + 7, \"{:.1f}\".format(height), fontsize = 12)","5b63fac2":"fig04 = plt.figure(figsize = (20,10))\nax04 = plt.subplot(111)\nind04 = np.arange(23)\nar_rate_by_neighborhood = df_nbh_crimes['arson_rate']\nrects = ax04.bar(ind04, ar_rate_by_neighborhood, width = 0.8, color = 'r')\nax04.set_xticks(ind04)\nax04.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax04.set_title('Arson rate (per 100,000 residents) of neighborhoods of Boston')\nax04.set_ylabel('Arson rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 999.95:\n        hor = rect.get_x() - 0.04\n    elif height >= 99.95:\n        hor = rect.get_x()\n    elif height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.16\n    ax04.text(hor, 1.01 * height + 0.02, \"{:.1f}\".format(height), fontsize = 12)","8b63289f":"fig05 = plt.figure(figsize = (20,10))\nax05 = plt.subplot(111)\nind05 = np.arange(23)\nat_rate_by_neighborhood = df_nbh_crimes['auto_theft_rate']\nrects = ax05.bar(ind05, at_rate_by_neighborhood, width = 0.8, color = 'r')\nax05.set_xticks(ind05)\nax05.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax05.set_title('Auto theft rate (per 100,000 residents) of neighborhoods of Boston')\nax05.set_ylabel('Auto theft rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 999.95:\n        hor = rect.get_x() - 0.04\n    elif height >= 99.95:\n        hor = rect.get_x()\n    elif height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.16\n    ax05.text(hor, 1.01 * height + 3, \"{:.1f}\".format(height), fontsize = 12)","1939a371":"fig06 = plt.figure(figsize = (20,10))\nax06 = plt.subplot(111)\nind06 = np.arange(23)\nla_rate_by_neighborhood = df_nbh_crimes['larceny_rate']\nrects = ax06.bar(ind06, la_rate_by_neighborhood, width = 0.8, color = 'r')\nax06.set_xticks(ind06)\nax06.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax06.set_title('Larceny rate (per 100,000 residents) of neighborhoods of Boston')\nax06.set_ylabel('Larceny rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 999.95:\n        hor = rect.get_x() - 0.06\n    elif height >= 99.95:\n        hor = rect.get_x() + 0.02\n    elif height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.16\n    ax06.text(hor, 1.01 * height + 30, \"{:.1f}\".format(height), fontsize = 12)","f92c0193":"fig07 = plt.figure(figsize = (20,10))\nax07 = plt.subplot(111)\nind07 = np.arange(23)\nb_rate_by_neighborhood = df_nbh_crimes['burglary_rate']\nrects = ax07.bar(ind07, b_rate_by_neighborhood, width = 0.8, color = 'r')\nax07.set_xticks(ind07)\nax07.set_xticklabels(multiliner(df_nbh_crimes.index.tolist(),2))\nax07.set_title('Burglary rate (per 100,000 residents) of neighborhoods of Boston')\nax07.set_ylabel('Burglary rate')\nfor rect in rects:\n    height = rect.get_height()\n    if height >= 999.95:\n        hor = rect.get_x() - 0.06\n    elif height >= 99.95:\n        hor = rect.get_x() + 0.02\n    elif height >= 9.95:\n        hor = rect.get_x() + 0.08\n    else:\n        hor = rect.get_x() + 0.16\n    ax07.text(hor, 1.01 * height + 3, \"{:.1f}\".format(height), fontsize = 12)","41ab0687":"Are there more crimes in summers or in winters?","950eca18":"<a id = '4'><\/a>\n[Return to top](#top)\n# 4. Rates of particular crimes","6a78aff5":"[4.3 Property Crimes](#4.3)","37d713f5":"The most crimes are commited between 4PM and 8PM. Between 1AM and 8AM few crimes are commited. There are two short bumps of crime between 12PM and 1PM and between 12AM and 1AM. On the other hand the period between 1AM and 8AM is fairly crime-free.","928ba898":"<a id = '4.4'><\/a>\n[Return to top](#top)\n## 4.4 Results","a36c1bd4":"Now I think we should check the neighborhoods.","7e320fec":"UCR Part II offenses should be irrelevant. However we still need to make sure. NANs in ucr_part are already irrelevant.","f6f66580":"We need to preserve the data.","d70e9e8d":"It seems that Fridays in Boston are unusually filled with crimes while the opposite is true for Sundays and to a less extant Saturdays.","508dd05b":"On the other hand Mattapan, Dorchester and Roxbury have high murder rates.","9ce206a9":"[3.2 Determining the neighborhood in which a crime took place](#3.1)","a787892a":"Since people usually calculate crime rate per 100,000 residents we will do so.","36dbeacd":"Since we already have the information about the population of the neighborhoods. Now we need to determine the number of crimes that take place within a neighborhood. All the crimes that did not have latitude and longitude need to be dropped so we may have some slight underestimation and distortion.","8a1889b9":"# Analyze crimes in Boston (Version 1.0)","7e87624a":"In terms of offense code groups the five most common crimes in Boston are larceny, other, drug violation, simple assault and vandalism.","333628f8":"* Fridays in Boston are unusually filled with crimes while the opposite is true for Sundays and to a less extant Saturdays.\n* From 2016 to 2018 crime slightly declined.\n* There is more crime during summer months and less crime during winter ones. It's possible that crime is fairly weather-dependent.\n* In terms of offense code groups the five most common crimes in Boston are larceny, other, drug violation, simple assault and vandalism.\n* In terms of offense descriptions the five most common crimes in Boston are vandalism, assault simple - battery, threats to do bodily harm, larceny theft from building and larceny threat from motor vehicle - non-accessory.\n* Police districts B2, D4, C11 and A1 have the most crimes. On the other hand A15, A7, E18 and E13 have the least amount of crimes.\n* The most crimes are commited between 4PM and 8PM. Between 1AM and 8AM few crimes are commited. There are two short bumps of crime between 12PM and 1PM and between 12AM and 1AM. On the other hand the period between 1AM and 8AM is fairly crime-free.\n* About 0.66% of all crimes involve shooting.\n* Allston, Back Bay, Beacon Hill, Harbor Islands, Longwood, North End and South Boston Waterfront are completely murder-free. On the other hand Mattapan, Dorchester and Roxbury have high murder rates.\n* Harbor Islands, Beacon Hill, Brighton and West Roxbury have low aggravated assault rates. On the other hand Downtown, Roxbury, Mattapan, Dorchester and West End have high aggravated assault rates.\n* Harbor Islands, South Boston Waterfront, Brighton and West Roxbury have low robbery rates. On the other hand Downtown, Roxbury, Mattapan, Dorchester and Back Bay have high robbery rates.\n* Harbor Islands, South Boston Waterfront and Longwood have no arson at all. On the other hand Roslindale, Roxbury, and Downtown have high arson rates.\n* Harbor Islands, West Roxbury and Brighton have low auto theft rates. On the other hand Roslindale, Roxbury, Downtown, Dorchester, South Boston Waterfront and Back Bay have high auto theft rates.\n* Harbor Islands, West Roxbury, Brighton and Roslindale have low larceny rates. On the other hand Downtown and Back Bay have high larceny rates.\n* Harbor Islands, Longwood and West Roxbury have low burglary rates. On the other hand Allston, Back Bay and Downtown have high burglary rates.","5c43e2cc":"Harbor Islands, West Roxbury and Brighton have low auto theft rates. On the other hand Roslindale, Roxbury, Downtown, Dorchester, South Boston Waterfront and Back Bay have high auto theft rates.","a06a7c20":"Let's first calculate the rates of violent crimes. Let's start from murder.","402ec5b0":"Now it's time to determine the population of each neighborhood. The data is also obtained from [Analyze Boston](https:\/\/data.boston.gov\/dataset\/boston-neighborhood-demographics) because different websites have completely different definitions of many neighborhoods. Here according to the City of Boston Chinatown and Leather district have been merged into Downtown and Bay Village is merged into South End.","63e93a73":"[5. Conclusion](#5)","d57e6456":"OK so these are almost all crimes or at the very least these are crime-related. This will be included then.","63210b9e":"Harbor Islands, South Boston Waterfront and Longwood have no arson at all. On the other hand Roslindale, Roxbury, and Downtown have high arson rates.","ac536c97":"Again there is no rape. Let's check again.","e6b0f7b1":"Now it's time to look up auto theft. Here auto theft \/ motor vehicle theft only includes theft *of* motor vehicles, not theft of property *from* them.","87f6979c":"[2.2 Is the crime problem in Boston getting better or worse?](#year)","91398f39":"<a id = '4.2'><\/a>\n[Return to top](#top)\n## 4.2 Violent crimes","b41080c0":"According to [Wikipedia](https:\/\/en.wikipedia.org\/wiki\/Uniform_Crime_Reports), UCR part I and part II offenses are actually offenses. As for part III let's check what they actually are.","3fff1699":"Now let's plot the graph of arson.","7e07e016":"[2.1 Crime and day of the week](#day)","a993b757":"Now we need to normalize the crime rate using time. To do so we first need to understand the time range.","f3cd1602":"<a id = 'data_wrangling'><\/a>\n[Return to top](#top)\n# 1. Data Wrangling","4373b62e":"Let's start from arson.","95b16947":"Allston, Back Bay, Beacon Hill, Harbor Islands, Longwood, North End and South Boston Waterfront are completely murder-free according to our data.","96297c0a":"Now let's check the dtypes.","3b756ea9":"[4. Rates of particular crimes in Boston](#4)","daef2a08":"We are going to continue our exploration in 2.5 . It is impossible to calculate the population of police districts. However the population of neighborhoods of Boston are still possible to obtain. We are going to use the definitions of neighborhoods on the [Analyze Boston](http:\/\/bostonopendata-boston.opendata.arcgis.com\/datasets\/3525b0ee6e6b427f9aab5d0a1d0a1a28_0) website.","dd44bb9a":"Harbor Islands, Beacon Hill, Brighton and West Roxbury have low aggravated assault rates. On the other hand Downtown, Roxbury, Mattapan, Dorchester and West End have high aggravated assault rates.","40c82d9c":"Since the data set is from Aug.2015 to Jan. 2019 let's analyze the trends from 2016 to 2018.","4e38d79d":"Now let's plot the graph of larceny.","66567ce2":"<a id = 'month'><\/a>\n[Return to top](#top)\n## 2.3 Crime and month","d0afae7f":"Time to get the data!","0108e93a":"Before doing so we first need to drop some NaNs.","5b65f600":"Now it is time to first store the data and then calculate the crime rates.","865f0935":"Now it's time to look at robbery.","9587d95a":"<a id = 'crime_rates'><\/a>\n[Return to top](#top)\n# 3. Crime rates of neighborhoods of Boston","002a4751":"The 497 new NANs don't matter much. However we should still understand why they are NANs. Most of them are literally (-1,-1)s that should have been considered NaN. The rest are actually in Boston but since they are near the boundaries of Boston the Geojson left them out of Boston. It is impossible to determine the exact neighborhood of these cases which is why we have to drop them.","bea225b6":"Since we need to draw graphs we need to write our multiliner function here which can help us leave more room for tick labels if the tick labels are really long.","27f5b5e4":"Now let's plot the graph of aggravated assault.","b6437e04":"<a id = '3.0'><\/a>\n## 3.1 Calculate the population of each neighborhood of Boston","94c5fbad":"`reporting_area` should be int64s instead of a float64s. But before that let's first fix the remaining NaNs.","e7634ad3":"It seems that there is more crime during summer months and less crime during winter ones. It's possible that crime is fairly weather-dependent.","4f2d75fa":"[3.1 Calculate the population of each neighborhood of Boston](#3.0)","e8f8a983":"[2.6 What time of day are crimes commited?](#time)","ab3e42ea":"Now let's move on to aggravated assults.","8ce3852a":"[1.1 Dropping non-crimes](#drop3)","28e4d13d":"Now let's plot the graph of auto theft.","ddac560b":"Harbor Islands, Longwood and West Roxbury have low burglary rates. On the other hand Allston, Back Bay and Downtown have high burglary rates.","4b0b6eb7":"<a id = '4.1'><\/a>\n[Return to top](#top)\n## 4.1 Where are the rape reports?","c5a069a9":"[2.7 How many crimes involve shooting?](#shooting)","26ad1515":"It seems that B2, D4, C11 and A1 have the most crimes. On the other hand A15, A7, E18 and E13 have the least amount of crimes.","3855f5cd":"<a id = '4.3'><\/a>\n[Return to top](#top)\n## 4.3 Property Crime","355070d6":"OK so Y represents shooting.","6533fb17":"So we can retain 94%+ of the data. That's good.","142c7e79":"In order to do so we need to make sure that we can attribute a crime to a neighborhood we need to use the Geojson data from [Analyze Boston](http:\/\/bostonopendata-boston.opendata.arcgis.com\/datasets\/3525b0ee6e6b427f9aab5d0a1d0a1a28_0).","f78231b8":"It is clear that they are irrelevant. Hence we will drop them.","be948faa":"[4.4 Results](#4.4)","ec53528d":"Before plotting the graph we have to fix the ordering.","047b4d79":"So we have 1322 days.","7f938947":"OK. So there is indeed no rapes reported at all. This implies nothing other than the data being flawed.","6c56d44d":"Most of them are non-criminal or unrelated to what we usually think of as \"crimes\". I think we should ignore the entire part 3 or at least most part 3 incidents. Our report is about crime in Boston, not towed motor vehicles in Boston or accidents in Boston.","69af3f5c":"Now we can finally begin to calculate the rates of crimes other than rape.","f8ecf1a3":"[2.5 Where are crimes located in Boston?](#location)","e5145ccd":"Analysis of whether a certain police district of Boston necessarily has more crimes compared to some other police district per capita is impossible because different police district differ a lot in terms of population size.","26bdd529":"Now let's focus on \"Other\". What does that mean?","0f0384ea":"<a id = 'location'><\/a>\n[Return to top](#top)\n## 2.5 Where are crimes located in Boston?","4f148c70":"Disregarding 2015 and 2019 since there are not enough data about them in the data set it is easy to see that the crime situation in 2017 is slightly better than the situation in 2016. The crime situation in 2018 is slightly better than the situation in 2017.","1c455e88":"Now let's plot the graph of robbery.","6679effe":"[2. Preliminary Analysis](#pre_anal)","9ec9b275":"<a id = 'time'><\/a>\n[Return to top](#top)\n## 2.6 What time of day are crimes commited?","559b350e":"<a id = '5'><\/a>\n[Return to top](#top)\n# 5. Conclusion","7e25c798":"[4.1 Where are the rape reports?](#4.1)","440efa76":"In terms of offense descriptions the five most common crimes in Boston are vandalism, assault simple - battery, threats to do bodily harm, larceny theft from building and larceny threat from motor vehicle - non-accessory.","6b0a9ec4":"Time to do some plotting!","13dbad28":"<a id = 'year'><\/a>\n[Return to top](#top)\n## 2.2 Is the crime problem in Boston getting better or worse?","509c5103":"**Ying Zhou**","670e0d4c":"What about NaN?","559fd609":"[2.4 What are the most common crimes in Boston?](#common)","9d00f868":"<a id = 'day'><\/a>\n[Return to top](#top)\n## 2.1 Crime and day of the week","b6cb9759":"Harbor Islands, West Roxbury, Brighton and Roslindale have low larceny rates. On the other hand Downtown and Back Bay have high larceny rates.","c1e116ea":"<a id = '3.1'><\/a>\n[Return to top](#top)\n## 3.2 Determining the neighborhood in which a crime took place","f1a73501":"<a id = 'shooting'><\/a>\n[Return to top](#top)\n## 2.7 How many crimes involve shooting?","c4509da4":"Time to discuss larceny.","86a05f88":"OK so we should tackle arson separately first. However we first need to find rapes.","6b2b3bbc":"<a id = 'common'><\/a>\n[Return to top](#top)\n## 2.4 What are the most common crimes in Boston?","2c2108c6":"<a id = 'top'><\/a>","92b61550":"<a id = 'pre_anal'><\/a>\n[Return to top](#top)\n# 2. Preliminary Analysis","20f4c10c":"Some large classes here aren't crimes at all. We have to fix that. Let's focus on the UCR Part numbers.","6943989a":"Finally let's plot the graph of burglary.","601b3f30":"<a id = 'drop3'><\/a>\n[Return to top](#top)\n## 1.1 Dropping non-crimes","25e1ceed":"<a id = '3.2'><\/a>\n[Return to top](#top)\n## 3.3 Calculate the crime rates","1b5ec924":"Now let's analyze the crime classes.","87616aa0":"[4.2 Violent Crimes](#4.2)","dd2743c8":"However analyzing the same information using neighborhood boundaries should be possible.","1212b438":"It sees that there are a lot of crimes missing numerous crucial data. They are unlikely to be filled anyway so let's first focus on analyzing data that does not require them. I think we should allow `reporting_area` to be float64 for now.","e5225be0":"OK so most of them are crimes. I will drop the 5 investigate person incidents though. Now we will drop all Part 3 and investigate person incidents.","f6375421":"[2.3 Crime and month](#month)","88ec5f63":"Let's first import the usual packages.","2a2fe86f":"About 0.66% of all crimes involve shooting.","76c46dfa":"Since `incident_number` is unique let's make it the index. Then we should drop `location` due to redundancy. Moreover we need to fill the NaNs in `shooting` because NaNs in this case indicate the absence of shooting in the crime.","45702fce":"All neighborhoods are present except for the 3 that got merged into other neighborhoods and Harbor Islands which is basically almost unpopulated.","3ca8314d":"Finally let's discuss burglary.","fb5ac8b4":"[3.3 Calculate the crime rates](#3.2)","d86d610c":"[3. Crime rates of neighborhoods of Boston](#crime_rates)","f6089602":"Downtown appears unusually dangerous. However it seems that it should be an outlier because most people who pass through downtown Boston including most criminals don't actually live there. At the same time Harbor islands isn't really necessarily completely crime-free. Instead what's more likely is that it is so isolated that incidents there are unlikely to be known to the Boston Police.","5683aa91":"Now let's focus on the actual categories UCR use. We will focus on violent crimes (defined as murder and nonnegligent manslaughter, rape, robbery, and aggravated assault), property crimes (defined as burglary, larceny-theft, and motor vehicle theft) and arson.","a60af99a":"Harbor Islands, South Boston Waterfront, Brighton and West Roxbury have low robbery rates. On the other hand Downtown, Roxbury, Mattapan, Dorchester and Back Bay have high robbery rates.","b278da57":"[1. Data Wrangling](#data_wrangling)"}}