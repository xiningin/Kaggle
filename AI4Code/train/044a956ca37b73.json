{"cell_type":{"30ab592c":"code","748dc799":"code","ad49e115":"code","1571029a":"code","413ffa0e":"code","d05c68b4":"code","1a45dddf":"code","e6a9f70e":"code","4682b7e4":"code","e55fd27f":"code","d2026bb6":"code","30aa83f9":"code","0191fe74":"code","6f964a06":"code","14e7250d":"code","70b6ff51":"code","9e94b6ee":"code","e6e2ab6a":"code","d0d86b77":"code","8f9fd83a":"code","148912d8":"code","f6dcc242":"code","54e4cc26":"code","9532b914":"code","c7fbe8a7":"code","25063361":"code","0f8890ed":"code","57e174ec":"code","191506db":"code","b3fd217d":"code","ab0e6af7":"code","497a7750":"code","e659bddf":"code","82346f30":"code","a21e33a0":"code","a68dafa4":"code","217b69eb":"code","533ade54":"code","18ba6e92":"code","c5e2c450":"code","36537a9a":"markdown","15d12124":"markdown","bd48a40b":"markdown","473dd87b":"markdown","800031e5":"markdown","7c49e6c2":"markdown","35757a0b":"markdown","c1d38cf1":"markdown","fb6d091d":"markdown","6bdac1c1":"markdown","04e112e2":"markdown","22c27a83":"markdown","c7644efc":"markdown","5b1ff511":"markdown","71950485":"markdown","8a019d3d":"markdown","89231356":"markdown","cf7352a5":"markdown","eac0d241":"markdown"},"source":{"30ab592c":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","748dc799":"train = pd.read_csv('..\/input\/supermarket-sales\/supermarket_sales - Sheet1.csv')","ad49e115":"train.head()","1571029a":"train.isnull().sum()","413ffa0e":"train.shape","d05c68b4":"train.describe()","1a45dddf":"sns.set_theme()\nsns.countplot(x = 'Branch', data = train, palette = \"magma\")","e6a9f70e":"sns.set_theme()\nplt.scatter(x = 'Branch', y = 'City', data = train)","4682b7e4":"sns.set_theme()\nsns.countplot(x = 'Customer type', data = train, hue = 'Gender', palette = \"magma\")","e55fd27f":"sns.set_theme()\nsns.barplot( x = 'Gender', y = 'Rating', data = train)","d2026bb6":"np.corrcoef(train['Unit price'], train['Tax 5%'])","30aa83f9":"np.corrcoef(train['Total'], train['Tax 5%'])","0191fe74":"np.corrcoef(train['Quantity'], train['Tax 5%'])","6f964a06":"np.corrcoef(train['Total'], train['gross income'])","14e7250d":"train.head()","70b6ff51":"sns.set_theme()\nplt.figure(figsize = (20,5))\nsns.barplot(x = 'Product line',y = 'Unit price', data = train, palette = 'magma')","9e94b6ee":"sns.set_theme()\nplt.figure(figsize = (20,5))\nsns.barplot(x = 'Product line',y = 'Unit price', data = train, palette = 'magma', hue ='Gender')","e6e2ab6a":"sns.set_theme()\nplt.figure(figsize = (10,5))\nsns.countplot(x = 'Payment', data = train, palette = 'magma')","d0d86b77":"sns.set_theme()\nplt.figure(figsize = (10,5))\nsns.countplot(x = 'Payment', data = train, hue = 'City',palette = 'magma')","8f9fd83a":"sns.set_theme()\nplt.figure(figsize = (10,5))\nsns.countplot(x = 'Payment', data = train, hue = 'Gender', palette = 'magma')","148912d8":"sns.barplot(x = 'Payment', y = 'Rating', data = train, palette = 'magma')","f6dcc242":"sns.set_theme()\nsns.barplot(x = 'City', y = 'Rating', data = train, palette = 'magma')","54e4cc26":"sns.set_theme()\nsns.barplot(x = 'Customer type', y = 'Rating', data = train, hue = 'Gender', palette = 'magma')","9532b914":"train.columns","c7fbe8a7":"train.drop(['Invoice ID','gross margin percentage'], axis = 1, inplace = True)","25063361":"train.drop(['Branch','Tax 5%','gross income','Date','Time'], axis = 1, inplace = True)","0f8890ed":"train.head()","57e174ec":"train_dummy = pd.get_dummies(train)","191506db":"train_dummy.head()","b3fd217d":"train_dummy = train_dummy.round(0)","ab0e6af7":"from sklearn.model_selection import train_test_split","497a7750":"X = train_dummy.drop('Rating', axis = 1)\ny = train_dummy['Rating']","e659bddf":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30)","82346f30":"from sklearn.tree import DecisionTreeClassifier","a21e33a0":"dtree = DecisionTreeClassifier()","a68dafa4":"dtree.fit(X_train,y_train)","217b69eb":"predictions = dtree.predict(X_test)","533ade54":"from sklearn import metrics","18ba6e92":"print('MAE:', metrics.mean_absolute_error(y_test, predictions))\nprint('MSE:', metrics.mean_squared_error(y_test, predictions))\nprint('RMSE:', np.sqrt(metrics.mean_squared_error(y_test, predictions)))","c5e2c450":"plt.scatter(x = 'y_test', y = 'predictions')","36537a9a":"mandalay branches recieve slightly lower ratings","15d12124":"# Model Training","bd48a40b":"people use credit card less often than other options but the usage is still strongly comparable. within cities, the usage differs only by slight amounts. Not a eye-catching difference in gender specific usage either. lets see the relationship between ratings and payment method.","473dd87b":"we find that the number of branches are almost equal, and each branch corresponds to one city. this is an example of repetitive data and we will get rid of any one of these columns before model training. now lets observe the relation between customer type and gender.","800031e5":"# Pre-proccessing","7c49e6c2":"gender and customer type also dont play any significantly varying role in determining ratings.","35757a0b":"need to see the distriution of tax and total, they may not be normally distributed and may contain outliers. Lets proceed with EDA. our target class is ratings.","c1d38cf1":"# Predictions","fb6d091d":"so, from decision tree, we get 100% accuracy. this concludes our analysis and model training for this dataset.","6bdac1c1":"there is a noticeable difference between male and female population of each category. however, the same plot without says that the total number of ppl in both categories is almost equal. Also from the below given plot, gender also doesnt play a role in determining ratings.","04e112e2":"the unit price of all product lines are nearly same as well as their error margins. this is also true when y = 'Ratings', the product unit price difference between both genders is slighly noticeable and has large margins, so maybe significant. if need be, product line column will also be dropped to improve performance.","22c27a83":"No NULL data present in the dataset.","c7644efc":"# EDA","5b1ff511":"# Data Cleaning","71950485":"we have already established that city and branch are the same thing. we will be deleting branch. similarly, total, tax, gross income are perfectly correlated. we will be dropping tax and gross income.","8a019d3d":"there is no noticeable variation here. payment may also be dropped.","89231356":"clearly, total and tax are perfectly correlated. same with total and gross income. we will drop tax, gross_income, columns before model training.","cf7352a5":"since ID is going to be unqiue for everyone and gross % is same for all, we will drop both of these columns","eac0d241":"we will exclude date and time for now. however, if our model needs Improvements we will analyse these two columns and subsequently decide what we should do with them. now we will get the dummy variable format for the data"}}