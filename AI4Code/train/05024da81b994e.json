{"cell_type":{"01172a67":"code","02ec6b04":"code","96c6c2dd":"code","085ee662":"code","5498b5b3":"code","81da24b7":"code","f8a3f1d1":"code","97b87d53":"code","5c1c054d":"code","ecc40459":"code","fde9e16e":"code","2ec4b79b":"code","ce43eadf":"code","d7eddff6":"code","cdbbeff5":"code","73a0bc6e":"code","12eec29b":"code","deaaa65c":"code","57a96295":"code","19521638":"code","90d16694":"code","e20c5363":"code","c3c6d4bd":"code","486f7a08":"code","03c8ee4c":"code","37cf4ec2":"code","50e5c345":"code","c041ba9c":"code","3b5d4f2f":"code","5d6790e0":"code","a52ddb77":"code","52a1d2b8":"code","3ab9d758":"code","d90742bc":"code","c8db8049":"code","9b9ebd27":"code","070d448c":"code","c07fd349":"code","1785afe8":"code","f2e0add5":"code","33472aac":"code","6913c348":"code","bb8e5686":"code","38ce947c":"code","384738b4":"code","3b1c9f7f":"code","a0adee59":"code","907c5779":"code","9a52383c":"code","569fc43c":"code","9147a81e":"markdown","418e4a53":"markdown","19ab1989":"markdown","46ec1baf":"markdown"},"source":{"01172a67":"import pandas as pd\nimport numpy as np","02ec6b04":"import seaborn as sns\nimport matplotlib.pyplot as plt\n","96c6c2dd":"sns.set()","085ee662":"data=pd.read_csv('..\/input\/911.csv')","5498b5b3":"data.head()","81da24b7":"data.shape","f8a3f1d1":"data.info()","97b87d53":"data.columns","5c1c054d":"data['title'].head()","ecc40459":"data['call_type']=data['title'].apply(lambda x :x.split(':')[0])","fde9e16e":"data.head()","2ec4b79b":"data['call_type'].nunique()","ce43eadf":"data['call_type'].unique()","d7eddff6":"call_types=data['call_type'].value_counts()","cdbbeff5":"from decimal import Decimal\n","73a0bc6e":"plt.figure(figsize=(15, 5))\nax = call_types.plot(kind='bar')\nfor p in ax.patches:\n    ax.annotate(Decimal(str(p.get_height())), (p.get_x(), p.get_height()))\nplt.xticks(rotation=0)\nplt.savefig(\"1.png\")","12eec29b":"data['timeStamp']=pd.to_datetime(data['timeStamp'])","deaaa65c":"data['timeStamp'].head()","57a96295":"data.info()","19521638":"import datetime as dt","90d16694":"data['Year']=data['timeStamp'].dt.year","e20c5363":"data['Month']=data['timeStamp'].dt.month_name()","c3c6d4bd":"data['Hour']=data['timeStamp'].dt.hour","486f7a08":"data['day']=data['timeStamp'].dt.day_name()","03c8ee4c":"data.head()","37cf4ec2":"data['emergency_type'] = data['title'].apply(lambda x:x.split(':')[1])\n","50e5c345":"data.head()","c041ba9c":"calls_data = data.groupby(['Month', 'call_type'])['call_type'].count()","3b5d4f2f":"calls_data_percentage = calls_data.groupby(level=0).apply(lambda x: round(100*x\/float(x.sum())))\n","5d6790e0":"calls_data_percentage.head()\n","a52ddb77":"calls_data_percentage = calls_data_percentage.reindex(['EMS', 'Traffic', 'Fire'], level=1)\n","52a1d2b8":"month_order = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n","3ab9d758":"calls_data_percentage = calls_data_percentage.reindex(month_order, level=0)\n","d90742bc":"calls_data_percentage.head()\n","c8db8049":"font = {\n    'size': 'x-large',\n    'weight': 'bold'\n}","9b9ebd27":"sns.set(rc={'figure.figsize':(12, 8)})\ncalls_data_percentage.unstack().plot(kind='bar')\nplt.xlabel('Name of the Month', fontdict=font)\nplt.ylabel('Percentage of Calls', fontdict=font)\nplt.xticks(rotation=0)\nplt.title('Calls\/Month', fontdict=font)\nplt.savefig('2monthly.png')","070d448c":"hours_data = data.groupby(['Hour', 'call_type'])['call_type'].count()\n","c07fd349":"hours_data.head()\n","1785afe8":"hours_data_percentage = hours_data.groupby(level=0).apply(lambda x: round(100*x\/float(x.sum())))","f2e0add5":"hours_data_percentage.head()","33472aac":"hours_data_percentage = hours_data_percentage.reindex(['EMS', 'Traffic', 'Fire'], level=1)\n","6913c348":"hours_data_percentage.head()","bb8e5686":"sns.set(rc={'figure.figsize':(18, 8)})\nhours_data_percentage.unstack().plot(kind='bar')\nplt.xlabel('Hour of the day', fontdict=font)\nplt.ylabel('Percentage of Calls', fontdict=font)\nplt.xticks(rotation=0)\nplt.title('Calls\/Hour', fontdict=font)\nplt.savefig('2hourly.png')","38ce947c":"data.head()","384738b4":"ems_data = data[data['call_type'] == 'EMS']['emergency_type'].value_counts()[:5]","3b1c9f7f":"fire_data = data[data['call_type'] == 'Fire']['emergency_type'].value_counts()[:5]","a0adee59":"traffic_data = data[data['call_type'] == 'Traffic']['emergency_type'].value_counts()[:5]","907c5779":"plt.pie(ems_data, labels=ems_data.index, autopct=\"%.2f\")","9a52383c":"plt.pie(fire_data, labels=fire_data.index, autopct=\"%.2f\")","569fc43c":"plt.pie(traffic_data, labels=traffic_data.index, autopct=\"%.2f\")","9147a81e":"### 4.Visualize percentage share of emergency type for each call","418e4a53":"### 3.At what time of day\/month I can expect which type of call","19ab1989":"### 1.How many different type of calls?","46ec1baf":"### 2.Extract Date and Time regarding calls"}}