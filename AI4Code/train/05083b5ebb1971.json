{"cell_type":{"6793b7ff":"code","24d14602":"code","ca2cd613":"code","82c00a8a":"code","5220e93c":"code","f2d997a5":"code","65f84b1f":"code","7bf94704":"code","738bf761":"code","e3b4911b":"markdown","288f2903":"markdown","59554223":"markdown","a536e6a1":"markdown","4a6606da":"markdown","acf8c77e":"markdown","46c804a4":"markdown"},"source":{"6793b7ff":"#Load lib\nimport numpy as np\nimport pandas as pd\n\n#Data Visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('dark')\n","24d14602":"#Load dataset\ndata = pd.read_csv('..\/input\/rec-crime-pfa.csv')\ndata.head(3)","ca2cd613":"basic = {'unique_values' : data.nunique(),\n        'na_values' : data.isna().sum(),\n        'data_type' : data.dtypes}\nprint(\"Data shape : \" , data.shape)\npd.DataFrame(basic)\n","82c00a8a":"data['12 months ending'] = pd.to_datetime(data['12 months ending'])\n\n#Get year, month, day\ndata['Year'] = data['12 months ending'].dt.year\ndata['Month'] = data['12 months ending'].dt.month\ndata['Day'] = data['12 months ending'].dt.day","5220e93c":"# Unique values\n{'unique_pfa': data['PFA'].unique(),\n'unique_region' : data['Region'].unique(),\n'unique_offence' : data['Offence'].unique(),\n'unique_year' : data['Year'].unique(),\n'unique_month' : data['Month'].unique(),\n'unique_day' : data['Day'].unique()}","f2d997a5":"pfa = data[['PFA','Rolling year total number of offences']].groupby(['PFA']).sum().reset_index().sort_values('Rolling year total number of offences', ascending = False)\n\nplt.figure(figsize = (10,10))\nsns.barplot(y = 'PFA', x = 'Rolling year total number of offences', data = pfa)\nplt.xlabel('CrimeRate', size = 15)\nplt.ylabel('PFA', size = 15)\nplt.title('PFA vs CrimeRate', size = 15)","65f84b1f":"region = data[['Region','Offence','Rolling year total number of offences']].groupby(['Region','Offence']).sum().reset_index()\n#Get index\nidx = region.groupby(['Region'])['Rolling year total number of offences'].transform(max) == region['Rolling year total number of offences']\nregion[idx]","7bf94704":"year = data[['Year','Rolling year total number of offences']].groupby(['Year']).sum().reset_index().sort_values('Rolling year total number of offences', ascending = False)\n\nplt.figure(figsize = (5,5))\nsns.barplot(x = 'Year', y = 'Rolling year total number of offences', data = year)\nplt.xticks(rotation = 45)\nplt.xlabel('CrimeRate', size = 15)\nplt.ylabel('Year', size = 15)\nplt.title('Year vs CrimeRate', size = 15)","738bf761":"quater = data[['Year','Month','Rolling year total number of offences']].groupby(['Year','Month']).sum().reset_index().sort_values(['Year','Month'])\nquater","e3b4911b":"### 2. Region wise find top most offence? ","288f2903":"### Crime rate based on year ","59554223":"### Quaterly Crime rate trends for all years","a536e6a1":"Convert date column type to datetime ","4a6606da":"### Unique values\n","acf8c77e":"### Understand some basic details from dataset ","46c804a4":"### These data are taken from 2003 to 2018 in every quarter end.\n\nHere we are going answer below mentioned questions\n1. Which PFA handling more crime?\n2. Region wise find top most offence? \n3. Crime rate based on year\n4. Quaterly Crime rate trends for all years\n\n### 1. Which PFA handling more crime?"}}