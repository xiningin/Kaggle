{"cell_type":{"d2162ddd":"code","2166c9c2":"code","0207ce86":"code","be939ece":"code","5b3a139b":"code","91de31b3":"code","548e436a":"code","55b3757f":"code","30eec155":"code","ddf18010":"code","5cf42eb7":"code","ae1d6cf9":"code","7ede657a":"code","939d1b9d":"code","46f0b6cb":"code","30b7d108":"code","7f9b331a":"code","b31eee02":"code","b4009b47":"code","588f5727":"code","951feea1":"code","bed66bea":"code","02cf3cae":"code","a826d467":"code","2163b9ba":"code","d69c2df2":"code","89be44ac":"code","c4986e15":"code","965dde72":"code","8c78393c":"code","3aedbbc0":"code","cd625dfc":"code","bdcdccaf":"code","76f8c73a":"code","570337a3":"code","4aa1948f":"code","b5517f7f":"code","04d89764":"code","e39762c2":"code","4e704995":"code","b56308e2":"code","8e062046":"code","7294342a":"code","4310268f":"code","7b061218":"code","c73ab12c":"code","16a61990":"code","49e46e0a":"code","d6c353f9":"code","cfbc40db":"code","5dbef961":"code","3d722571":"code","e5b853f1":"code","20f32528":"code","5b6dc3ca":"code","19e46440":"code","5d549817":"code","75e57953":"code","fb144d06":"code","01111baf":"code","1f9af92a":"code","939dd1b7":"code","df87f602":"markdown"},"source":{"d2162ddd":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.offline as ply\nimport missingno \n","2166c9c2":"import os\nprint(os.listdir(\"..\/input\"))","0207ce86":"data = pd.read_csv('..\/input\/120-years-of-olympic-history-athletes-and-results\/athlete_events.csv')\nxyz=pd.read_csv('..\/input\/120-years-of-olympic-history-athletes-and-results\/noc_regions.csv')","be939ece":"\nxyz.drop(\"notes\",axis=1,inplace=True)\n\nxyz.head()\nxyz.shape","5b3a139b":"data=pd.merge(data,xyz,on=\"NOC\")\n\ndata_orig= data   # making a copy ","91de31b3":"data.head()","548e436a":"data.dtypes","55b3757f":"data.shape","30eec155":"missingno.matrix(data)","ddf18010":"data.isnull().sum()","5cf42eb7":"data_gold=data[data[\"Medal\"]==\"Gold\"]","ae1d6cf9":"data_silver=data[data[\"Medal\"]==\"Silver\"]","7ede657a":"data_bronze=data[data[\"Medal\"]==\"Bronze\"]","939d1b9d":"data_none=data[data[\"Medal\"].isnull()]","46f0b6cb":"# lets do some basic analysis of gold section","30b7d108":"data_gold.head()","7f9b331a":"x=data_gold.groupby(by=[\"Year\",\"region\"])[\"Medal\"].count()","b31eee02":"x1=pd.DataFrame(x)    # plot 1","b4009b47":"# lets print top 5 countries with highest number of golds","588f5727":"data_gold.groupby(by=\"region\")[\"Medal\"].count().sort_values(ascending=False).head().plot(kind=\"pie\")","951feea1":"# lets print top 5 countries with highest number of silver","bed66bea":"data_silver.groupby(by=\"region\")[\"Medal\"].count().sort_values(ascending=False).head().plot(kind=\"pie\")","02cf3cae":"# lets print top 5 countries with highest number of bronze","a826d467":"z=data_bronze.groupby(by=\"region\")[\"Medal\"].count().sort_values(ascending=False).head()\nz=pd.DataFrame(z)\nz","2163b9ba":"import plotly.graph_objs as go\nfrom plotly.offline import iplot","d69c2df2":"dict1 = dict(type = 'choropleth',\n           locations = list(z.index),\n           locationmode = 'country names',\n           colorscale = 'Portland',\n           z = list(z.Medal),\n           colorbar = {'title': 'No. Of Bronze'})","89be44ac":"dict1","c4986e15":"layout = dict(geo={'scope':'world'},title=\"Top Five Countries Having Highest Bronze Medals\")\nmap = go.Figure([dict1], layout)\niplot(map)","965dde72":"data.head()","8c78393c":"data.Medal.fillna(0,inplace=True)","3aedbbc0":"data.head()","cd625dfc":"# No. of medals won by each country","bdcdccaf":"data.head()","76f8c73a":"medal_count=pd.DataFrame(data.groupby(by=\"region\")[\"Medal\"].count())","570337a3":"medal_count.index","4aa1948f":"medal_count","b5517f7f":"dict1 = dict(type = 'choropleth',\n           locations = list(medal_count.index),\n           locationmode = 'country names',\n           colorscale = 'Cividis',\n           z = list(medal_count.Medal),\n           colorbar = {'title': 'No. Of Medals'})\nlayout = dict(geo={'scope':'world'},title=\"Countries with their Medals count\")\nmap = go.Figure([dict1], layout)\niplot(map)","04d89764":"# top 10 countries with highest no. of medals","e39762c2":"medal_ten=medal_count.sort_values(by=\"Medal\",ascending=False).head(10)","4e704995":"dict1 = dict(type = 'choropleth',\n           locations = list(medal_ten.index),\n           locationmode = 'country names',\n           colorscale = 'Portland',\n           z = list(medal_ten.Medal),\n           colorbar = {'title': 'No. Of Medals'})","b56308e2":"layout = dict(geo={'scope':'world'},title=\"Top 10 Countries Having Highest no. of Medals\")\nmap = go.Figure([dict1], layout)\niplot(map)","8e062046":"data.head()","7294342a":"data[\"Season\"]=data[\"Games\"].str.split(\" \").str[1]","4310268f":"data.head()","7b061218":"gm=pd.DataFrame(data.groupby([\"Season\",\"Sex\"])[\"Medal\"].count())\ngm.reset_index(inplace=True)","c73ab12c":"sns.countplot(data[\"Sex\"],hue=\"Season\",data=data)\nplt.xlabel(\"Gender\")\nplt.ylabel(\"No. of Medals won\")\nplt.show()","16a61990":"import plotly.express as px\ngm","49e46e0a":"fig = px.bar(gm,x=\"Sex\",y=\"Medal\",title=\"No. Of Medals\",barmode=\"group\",color=\"Season\")\nfig.data[0].marker.line.width = 4\nfig.data[0].marker.line.color = \"black\"\nfig.data[1].marker.line.width = 4\nfig.data[1].marker.line.color = \"black\"\nfig.show()","d6c353f9":"data.head()","cfbc40db":"d1=data[data[\"Sex\"]==\"M\"]\nd1=d1[d1[\"Medal\"] != 0]\nd1=pd.DataFrame(d1[\"Event\"].value_counts().head())\nd1.reset_index(inplace=True)\nd1","5dbef961":"fig = px.bar(d1,x=\"index\",y=\"Event\",title=\"Top 5 Men Events with respect to number of Medals earned\")\nfig.data[0].marker.line.width = 4\nfig.data[0].marker.line.color = \"black\"\nfig.show()","3d722571":"data.head()","e5b853f1":"# Grouping the events along with their participants with their medals info\ndata.groupby(by=\"Sport\")[\"Name\"].value_counts().sort_values(ascending=False)","20f32528":"data.head()","5b6dc3ca":"# Lets have look at how many males and how many females have taken part\u00b6\n\nMno=data[data.Sex==\"M\"][\"ID\"].count()\nFno=data[data.Sex==\"F\"][\"ID\"].count()\n\nlabels = [\"Male Participants\",\"Female Participants\"]\nvalues = [Mno,Fno]\ntitle_text=\"Ratio Of Male and Female Participants\",\n\nfig = go.Figure(data=[go.Pie(labels=labels, values=values,hole=0.5)])\nfig.show()","19e46440":"# Lets see which are the sports USA have won maximum Gold Medals (Showing Top 5 Sports)\nz=pd.DataFrame(data[(data[\"region\"]==\"USA\") & (data[\"Medal\"]==\"Gold\")][\"Sport\"].value_counts().head())\nz = z.reset_index()","5d549817":"fig = go.Figure(go.Funnel(\n    y =list(z[\"index\"]),\n    x = list(z[\"Sport\"])))\n\nfig.show()","75e57953":"f=pd.DataFrame(data[(data[\"region\"]==\"USA\") & (data[\"Medal\"]==\"Gold\")&(data[\"Sex\"]==\"F\")][\"Sport\"].value_counts().head())\nf = f.reset_index()\nf[\"Sport_F\"]=f[\"Sport\"]\nf.drop(\"Sport\",axis=1,inplace=True)\nf","fb144d06":"m=pd.DataFrame(data[(data[\"region\"]==\"USA\") & (data[\"Medal\"]==\"Gold\")&(data[\"Sex\"]==\"M\")][\"Sport\"].value_counts().head())\nm = m.reset_index()\nm[\"Sport_M\"]=m[\"Sport\"]\nm.drop(\"Sport\",axis=1,inplace=True)\nm","01111baf":"m[\"Sport_F\"]=f[\"Sport_F\"]\nusa_stats=m\nusa_stats","1f9af92a":"usa_stats[\"Total\"]=usa_stats[\"Sport_M\"]+usa_stats[\"Sport_F\"]\nusa_stats","939dd1b7":"# USA Top 5 Sports having gold medals (Showing Top 5 Sports)\n\nfig = go.Figure()\n\nfig.add_trace(go.Funnel(\n    name = 'Gold_Male_USA',\n    y =list(m[\"index\"]),\n    x = [usa_stats[\"Sport_M\"][0],usa_stats[\"Sport_M\"][1],usa_stats[\"Sport_M\"][2],usa_stats[\"Sport_M\"][3],usa_stats[\"Sport_M\"][4]],\n    textinfo = \"value\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Gold_Female_USA',\n    orientation = \"h\",\n    y =list(m[\"index\"]),\n    x = [usa_stats[\"Sport_F\"][0],usa_stats[\"Sport_F\"][1],usa_stats[\"Sport_F\"][2],usa_stats[\"Sport_F\"][3],usa_stats[\"Sport_F\"][4]],\n    textposition = \"inside\",\n\n    textinfo = \"value\"))\n\n\nfig.show()\n\n\n\n","df87f602":"# Now firstly lets break our dataset into 4 parts \n1. those who won gold medals\n2. those who won silver medals\n3. those who won broze medals\n4. those who havent won any medals"}}