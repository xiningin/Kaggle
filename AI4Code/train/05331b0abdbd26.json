{"cell_type":{"b3bc4717":"code","d5e0a02d":"code","2bbb74a6":"code","6413a0b8":"code","69026e8b":"code","a3b901ac":"code","000a7512":"code","0051753e":"code","01e3d003":"code","f5e7d7d2":"code","62a56711":"code","db23ae81":"code","8557502c":"code","7b119bbc":"code","16e00a01":"code","626b1575":"code","2ab16b00":"code","e42009a1":"code","7a9d69a0":"code","72fd0ba6":"code","2614c121":"code","855a8e35":"code","e1fc25f1":"code","5721b9ac":"code","6a924679":"code","dab9b3c3":"code","ddee6977":"code","56906f60":"code","ed29791b":"code","c1231c14":"code","418bea28":"code","24a55610":"code","c08f0875":"code","1abfe630":"code","05e991f5":"code","84726fda":"code","32d4174d":"code","046e2686":"code","4404af1c":"markdown","bd9aabca":"markdown","257a2e78":"markdown","f76cf088":"markdown","02dcba3c":"markdown","4fe00519":"markdown","bfb31b83":"markdown","ffc7ddde":"markdown","dce88244":"markdown","4f5cfb6a":"markdown","a4160bc9":"markdown","94d45597":"markdown","4dcca244":"markdown","cfb9f569":"markdown","27363831":"markdown","372189b4":"markdown","a416ce36":"markdown","53964026":"markdown","a7c24cce":"markdown","7d83abe3":"markdown","e2d7e2ae":"markdown","bbf47f1f":"markdown","6a259676":"markdown","4378bd62":"markdown","579750a9":"markdown","2006a571":"markdown","c7d89153":"markdown","63e16c72":"markdown","a750c0af":"markdown","a3f302b0":"markdown","ce6d9e6d":"markdown","50bc9183":"markdown","92a5987c":"markdown","6eaddf2e":"markdown","b3baa1b5":"markdown","249bcdc9":"markdown","fc2556cb":"markdown","c37a2e73":"markdown","e024770f":"markdown","dd614891":"markdown","71f90333":"markdown","e3cb5ded":"markdown","3a6bb6c1":"markdown","41b07db9":"markdown","e6e499ca":"markdown","878da3fd":"markdown","c72d7c08":"markdown","110983ef":"markdown","b9d3ed8c":"markdown","87957945":"markdown","da5dc3fa":"markdown","89d7933e":"markdown","c2c6fb2f":"markdown","492903ad":"markdown","5894e345":"markdown","e9b383c9":"markdown","c4877dc8":"markdown","f4ed5a91":"markdown","7b793d1c":"markdown","c4bdff93":"markdown","19963d3a":"markdown","26784a17":"markdown","84a7a3d3":"markdown","9b069726":"markdown"},"source":{"b3bc4717":"import numpy as np\nimport pandas as pd\nimport matplotlib.pylab as plt\nimport seaborn as sns\nimport warnings\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","d5e0a02d":"warnings.simplefilter('ignore')\n\n%matplotlib inline\n%reload_ext autoreload\n%autoreload 2\n\nsns.set_style('white')\nsns.set_context('paper', font_scale=1.5)\n\nplt.style.use('fivethirtyeight')\n\npd.set_option('display.width', 100)\npd.set_option('display.max_rows', 25)\npd.set_option('display.max_columns', 25)","2bbb74a6":"apple_data = pd.read_csv('..\/input\/apple-stock-price-from-19802021\/AAPL.csv') # Load Dataset","6413a0b8":"apple_data # Check overall data","69026e8b":"apple_data.isna().mean() # Checking the null value","a3b901ac":"apple_data['Date'] = pd.to_datetime(apple_data['Date']) # Convert it into timestamp","000a7512":"type(apple_data['Date'][0]) # Checking the type","0051753e":"del apple_data['Adj Close'] # del Adj CLose cols","01e3d003":"apple_data.set_index('Date',inplace=True) # Set the Date column to index\n\napple_data.head() # Checking the first 5 rows of data","f5e7d7d2":"apple_data.tail() # Checking the last 5 rows of data","62a56711":"data = apple_data.drop(columns=['Volume']) # Data without volume\nvolume = apple_data['Volume'] # Volume data","db23ae81":"sns.clustermap(apple_data, cmap='Blues', standard_scale=1)\nplt.show()","8557502c":"apple_data.plot(subplots=True, figsize=(20, 12))\nplt.show()","7b119bbc":"plt.figure(figsize=(20,10))\nsns.lineplot(data=data.loc['1980-12-12':'2000-12-31'])\nplt.title('Apple Stocks in 1980 - 2000')\nplt.show()","16e00a01":"plt.figure(figsize=(20,10))\nsns.lineplot(data=data.loc['2001-01-01':'2010-12-31'])\nplt.title('Apple Stocks in 2001 - 2010')\nplt.show()","626b1575":"plt.figure(figsize=(20,10))\nsns.lineplot(data=data.loc['2011-01-01':])\nplt.title('Apple Stocks in 2011 - Current Year')\nplt.show()","2ab16b00":"plt.figure(figsize=(20,10))\nsns.lineplot(data=data, linewidth=1)\nplt.title('Overall Apple Stocks')\nplt.show()","e42009a1":"plt.figure(figsize=(20,10))\nsns.lineplot(data=volume.loc['1980-12-12':'2000-12-31'])\nplt.title('Apple Volume in 1980 - 2000')\nplt.show()","7a9d69a0":"plt.figure(figsize=(20,10))\nsns.lineplot(data=volume.loc['2001-01-01':'2010-12-31'])\nplt.title('Apple Volume Stocks in 2001 - 2010')\nplt.show()","72fd0ba6":"plt.figure(figsize=(20,10))\nsns.lineplot(data=volume.loc['2011-01-01':])\nplt.title('Apple Volume Stocks in 2011 - Current Year')\nplt.show()","2614c121":"plt.figure(figsize=(20,10))\nsns.lineplot(data=volume, linewidth=1)\nplt.title('Overall Apple Volume')\nplt.show()","855a8e35":"fig, ax = plt.subplots(figsize=(20, 6))\ndata.loc['1980-12-12':'2010-12-31'].plot(kind='area', ax=ax, stacked=False)\nplt.title('Apple Stocks in 1980 - 2010')\nplt.show()","e1fc25f1":"fig, ax = plt.subplots(figsize=(20, 6))\ndata.loc['2011-01-01':].plot(kind='area', ax=ax, stacked=False)\nplt.title('Apple Stocks in 2011 - Current Year')\nplt.show()","5721b9ac":"fig, ax = plt.subplots(figsize=(20, 6))\nvolume.plot(kind='area', ax=ax, stacked=False)\nplt.title('Apple Stocks in 1980 - Current Year')\nplt.show()","6a924679":"open_stock = apple_data[['Open']]\nclose_stock = apple_data[['Close']]\nvolume_stock = apple_data[['Volume']]","dab9b3c3":"def plot_timeseries(tdf,label1,label2,col,title):\n    \n    # Figuring the size\n    plt.figure(figsize=(25,15))\n    \n    # Create a lineplot for data 1\n    sns.lineplot(data=tdf,\n                 label=label1,\n                 legend=False,)\n    \n    # Create a lineplot for data 2\n    sns.lineplot(data=apple_data[col],\n                 label=label2,\n                 legend=False,)\n    \n    # Create a title\n    plt.title(title)\n    \n    # Show the legend\n    plt.legend()\n    \n    # Show the plot\n    plt.show()","ddee6977":"# Prepare Data\nsimple_moving_average_open_stock = open_stock.rolling(window=30).mean()\n\n# Plotting Data\nplot_timeseries(simple_moving_average_open_stock, # Data\n                'Moving Average', # Label 1\n                'Actual', # Label 2\n                'Open', # Column of the Data\n                'Open Stock Moving Average') # Title","56906f60":"# Prepare Data\nsimple_moving_average_close_stock = close_stock.rolling(window=30).mean()\n\n# Plotting Data\nplot_timeseries(simple_moving_average_close_stock, # Data\n                'Moving Average', # Label 1\n                'Actual', # Label 2\n                'Close', # Column of the Data\n                'Close Stock Moving Average') # Title","ed29791b":"# Prepare Data\nsimple_moving_average_volume_stock = volume_stock.rolling(window=30).mean()\n\n# Plotting Data\nplot_timeseries(simple_moving_average_volume_stock, # Data\n                'Moving Average', # Label 1\n                'Actual', # Label 2\n                'Volume', # Column of the Data\n                'Volume Stock Moving Average') # Title","c1231c14":"# Prepare Data\nweights = np.arange(1, 51)\nopen_MV = apple_data['Open'].rolling(50).apply(lambda close: np.dot(close, weights)\/weights.sum(), \n                                      raw=True)\n\n# Plotting Data\nplot_timeseries(open_MV, # Data\n                'Weighted Moving Average', # Label 1\n                'Actual', # Label 2\n                'Open', # Column of the Data\n                'Open Stock Weighted Moving Average') # Title","418bea28":"# Prepare Data\nweights = np.arange(1, 51)\nclose_MV = apple_data['Close'].rolling(50).apply(lambda close: np.dot(close, weights)\/weights.sum(), \n                                        raw=True)\n\n# Plotting Data\nplot_timeseries(close_MV, # Data\n                'Weighted Moving Average', # Label 1\n                'Actual', # Label 2\n                'Close', # Column of the Data\n                'Closing Stock Weighted Moving Average') # Title","24a55610":"# Prepare Data\nweights = np.arange(1, 51)\nvolume_MV = apple_data['Volume'].rolling(50).apply(lambda close: np.dot(close, weights)\/weights.sum(), \n                                          raw=True)\n\n# Plotting Data\nplot_timeseries(volume_MV, # Data\n                'Weighted Moving Average', # Label 1\n                'Actual', # Label 2\n                'Volume', # Column of the Data\n                'Closing Stock Weighted Moving Average') # Title","c08f0875":"# Prepare Data\nexpo_mv_open = apple_data['Open'].ewm(span=50, \n                              adjust=False).mean()\n\n# Plotting Data\nplot_timeseries(expo_mv_open, # Data\n                'Exponential Moving Average', # Label 1\n                'Actual', # Label 2\n                'Open', # Column of the Data\n                'Open Stock Exponential Moving Average') # Title","1abfe630":"# Prepare Data\nexpo_mv_close = apple_data['Close'].ewm(span=50, \n                                adjust=False).mean()\n\n# Plotting Data\nplot_timeseries(expo_mv_close, # Data\n                'Exponential Moving Average', # Label 1\n                'Actual', # Label 2\n                'Close', # Column of the Data\n                'Close Stock Exponential Moving Average') # Title","05e991f5":"# Prepare Data\nexpo_mv_volume = apple_data['Volume'].ewm(span=50, \n                                  adjust=False).mean()\n\n# Plotting Data\nplot_timeseries(expo_mv_volume, # Data\n                'Exponential Moving Average', # Label 1\n                'Actual', # Label 2\n                'Volume', # Column of the Data\n                'Volume Stock Exponential Moving Average') # Title","84726fda":"pd.plotting.lag_plot(apple_data['Open'])\nplt.show()","32d4174d":"pd.plotting.lag_plot(apple_data['Close'])\nplt.show()","046e2686":"pd.plotting.lag_plot(apple_data['Volume'])\nplt.show()","4404af1c":"# **Time Series Analysis on Open, Closing, and Volume Stock**","bd9aabca":"> ### **2. Create the function for plotting the data**","257a2e78":"> ### **Let's Make a Cluster Map**","f76cf088":"# **Analysis on Open, High, Low, and Close from 1980 - Current Year**","02dcba3c":"# **Exponential Moving Average**\n\nThe exponential moving average (EMA) is a technical chart indicator that tracks the price of an investment (like a stock or commodity) over time. The EMA is a type of weighted moving average (WMA) that gives more weighting or importance to recent price data.","4fe00519":"# **Time Series Lag Plot**\n\nA lag plot helps to check if a time series data set is random or not. A random data will be evenly spread whereas a shape or trend indicates the data is not random.","bfb31b83":"> **Conclusion:**\n\nThere are various increases and decreases from the volume data above.","ffc7ddde":"> ### **2. Close Stock**","dce88244":"> ### **4. Okay, Let's see the Overall Apple Stocks**","4f5cfb6a":"### Web application: [Here](https:\/\/share.streamlit.io\/knightbearr\/apple-stocks-web-application\/main\/main.py)","a4160bc9":"---","94d45597":"# **Import Libraries**","4dcca244":"> ### **1. Apple Volume in 1980 - 2000**","cfb9f569":"> ### **2. Close Stock**","27363831":"# **On Going...**\n\n> I'm planning to update it regulary whenever I have free time.","372189b4":"# **Let's go!!**","a416ce36":"> **Okay, there's no null value, great job**","53964026":"# **Weighted Moving Average**\n\nA Weighted Moving Average puts more weight on recent data and less on past data. This is done by multiplying each bar's price by a weighting factor. Because of its unique calculation, WMA will follow prices more closely than a corresponding Simple Moving Average.","a7c24cce":"> **Let's prepare our data first**","7d83abe3":"# **Simple Moving Average**\n\nA simple moving average (SMA) is an arithmetic moving average calculated by adding recent prices and then dividing that figure by the number of time periods in the calculation average.","e2d7e2ae":"> ### **4. Okay, Let's see the Overall Apple Volume**","bbf47f1f":"> **Note : Sorry if my english is bad, hopefully you guys can understand, thanks in advance!**","6a259676":"> **Okay great, Every Open, High, Low, and Close in 2020 to 2021 stock are Have the most increasing.**","4378bd62":"> ###  **Subplots**","579750a9":"> **Conclusion:**\n\nOkay, as we can see in the visualization above, there's no significant increase or decreasing stocks in 2001 - 2004, and there we can see in the 2005 start to increase stock until 2011.","2006a571":"> ### **3. Apple Stock in 2010 - Current Year**","c7d89153":"# **Data Preprocessing**","63e16c72":"> ### **2. Close Stock**","a750c0af":"**regards,**<br>\n**Azmi**","a3f302b0":"> ### **1. Open Stock**","ce6d9e6d":"> ### **3. Apple Volume in 2011 - Current Year**","50bc9183":"> ### **2. Close Stock**","92a5987c":"> ### **2. Apple Volume**","6eaddf2e":"> **Conclusion:**\n\nOkay, as we can see in the visualization above, there's no significant increase or decreasing stocks in 1980 - 2005, and there we can see in the 2006 start to increase stock until now, Good Job Steve Jobs, but. Let's see the Volume.","b3baa1b5":"> ### **1. Open Stock**","249bcdc9":"> ### **1. Apple Stocks**","fc2556cb":"> ### **1. Apple Stock in 1980 - 2000**","c37a2e73":"> ### **1. Prepare the Data**","e024770f":"> ### **1. Open Stock**","dd614891":"> ### **3. Volume Stock**","71f90333":"> **Conclusion:**\n\nThere was a modest increase in volume from 1980 to 1998 and a large increase in volume from 1999 to early 2011 and a decline in 2012 until now.","e3cb5ded":"> **Conclusion:**\n\nOkay, it looks like there are a few similarities between the increase and decrease in stock in the year 2010 - 2011, as we can see in the visualization above, there's no significant increase or decreasing stocks in 2012 - 2016, and there we can see in the 2017 start to increase stock until now.","3a6bb6c1":"> ### **3. Volume Stock**","41b07db9":"---","e6e499ca":"> **Conclusion:**\n\nStock ups and downs are clearly visible here, where there is a good increase in 1893, 1986, and ups and down in 1988 to 1996 and there is a very drastic increase in the year of 1998 to 2000 but there's a very drastic decline to in the middle of 2000.","878da3fd":"> **Conclusion:**\n\nVolume ups and downs are clearly visible here, where there is a good increase in months 2001 to 2009, and there is a very drastic decline in the last month of 2011.","c72d7c08":"# **Let's try the Area Plots**","110983ef":"### You: Forking Without Upvoting and Feedback\n### Me:","b9d3ed8c":"> ### **2. Apple Stock in 2001 - 2010**","87957945":"> ### **3. Volume Stock**","da5dc3fa":"![apple_logo.jpg](attachment:1d85265e-c6d5-4e56-a145-ae7dc10b8d0e.jpg)","89d7933e":"My other Notebook: https:\/\/www.kaggle.com\/knightbearr\/code","c2c6fb2f":"> **Conclusion:**\n\nWow, what's happened Mr Apple? the volume reduction is very significant from 2014 - now.","492903ad":"![FB_IMG_15637614668311836.jpg](attachment:930a993f-3d7c-485f-ba70-201f4e8dc6a4.jpg)","5894e345":"### Haha, I'm joking, hope my notebook is useful for you **Kagglers**! thank you for watching! ","e9b383c9":"---","c4877dc8":"> ### **2. Apple Volume in 2001 - 2010**","f4ed5a91":"# **Load Dataset**","7b793d1c":"## **Setup Libraries**","c4bdff93":"> **Okay great, Every Open, High, Low, and Close in 2020 to 2021 stock are Have the most increasing, but volume are decreasing.**","19963d3a":"> ### **3. Volume Stock**","26784a17":"> ### **1. Open Stock**","84a7a3d3":"<p style=\"font-name: monospace; line-height: 2; font-size: 30px; font-weight: bold; letter-spacing: 2px; text-align: center;\">Apple Stock Analysis - Knightbearr<\/p>","9b069726":"# **Analysis on Volume 1980 - Current Year**"}}