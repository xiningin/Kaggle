{"cell_type":{"4fd5523b":"code","19755c9b":"code","9a07426d":"code","1caba7ee":"code","d4db38dc":"code","1eaad201":"code","3571d441":"code","b5722803":"code","cf8c0022":"code","57cda66f":"markdown","d127e786":"markdown","9577d24c":"markdown","6224b60e":"markdown","1ce0150a":"markdown","b06baf46":"markdown","08cd9183":"markdown","d0670abf":"markdown","7df5d168":"markdown"},"source":{"4fd5523b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","19755c9b":"df = pd.read_csv(\"..\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv\")\nquestions = df.iloc[0, :].T\nquestions","9a07426d":"df = df.iloc[1:, :]","1caba7ee":"df['Q1'].value_counts()","d4db38dc":"questions.index.tolist()[7:20]","1eaad201":"def sub_questions_count(question_num, part_num, text = False):\n  part_questions = []\n\n  if text in [\"A\", \"B\"]:\n    part_questions = ['Q' + str(question_num) + \"_\" + text + '_Part_' + str(j) for j in range(1, part_num)]\n    part_questions.append('Q' + str(question_num) + \"_\" + text + '_OTHER')\n  else:\n    part_questions = ['Q' + str(question_num) + '_Part_' + str(j) for j in range(1, part_num)]\n    part_questions.append('Q' + str(question_num) + '_OTHER')\n\n  # category count\n  categories = []\n  counts = []\n  for i in part_questions:\n    category = df[i].value_counts().index[0]\n    val = df[i].value_counts()[0]\n    categories.append(category)\n    counts.append(val)\n\n  combined_df = pd.DataFrame()\n  combined_df['Category'] = categories\n  combined_df['Count'] = counts\n\n  combined_df = combined_df.sort_values(['Count'], ascending = False)\n  return combined_df","3571d441":"# Test \n# 'Q38_B_Part_11',\nprint(sub_questions_count(38, 11, \"B\").reset_index(drop=True))","b5722803":"# 'Q36_A_Part_7',\nprint(sub_questions_count(36, 7, \"A\").reset_index(drop=True))","cf8c0022":"# 'Q39_Part_9',\nprint(sub_questions_count(39, 9).reset_index(drop=True))","57cda66f":"Case 2. ","d127e786":"<h1>Happy to Kaggle<\/h1>","9577d24c":"- Case 1","6224b60e":"## Data Import\n- Import raw data and split into questions dataset and survey dataset. ","1ce0150a":"## Quick Data Review\n- All survey responses are count-based dataset. \n- It's easy to check using value counts()","b06baf46":"## Intro\n- Data Transformation is always important to visualise. \n- Here, I just introduced to get value counts in different dataset. \n- If you are newbie, please be aware of this code before you dive into visualization. ","08cd9183":"## Problem\n- Some questions are not easy to counts because of Supplementary Questions. ","d0670abf":"- For this we need another way to combine into one dataset. \n- Many Questions are very similar like Q7. \n- Let's Create function. \n- Main Reference is here: https:\/\/www.kaggle.com\/ruchi798\/kaggle-ml-ds-survey-analysis\n- Just add some if_condition. ","7df5d168":"## Test"}}