{"cell_type":{"1109f950":"code","96a53883":"code","87087d25":"code","07a808bb":"code","05e409c9":"code","ea0406c1":"code","6671dcc4":"code","6909cb96":"code","cd507432":"code","db2baf97":"code","8847ecef":"code","04d8d84e":"code","645efe25":"code","c543c78f":"code","1623db61":"code","bcf44ee7":"code","a1e41ce8":"code","b6f15a61":"code","116ee1df":"code","c811ed8f":"code","f48a6098":"code","2b3b1d7f":"code","bebcae02":"code","4de96316":"code","cec1a692":"code","df82f94f":"code","215ef11f":"code","2de935b4":"code","83215b80":"code","b30eb9df":"code","d04cea15":"code","6746ed2a":"code","90348267":"code","c7b37d9c":"markdown","65a9ef22":"markdown","f01aab6a":"markdown","b151798f":"markdown","03adddef":"markdown","e2db01a3":"markdown","e5aee9fc":"markdown","39c5c99f":"markdown","1812581a":"markdown","1b102653":"markdown","99f199b8":"markdown","0242fc8b":"markdown","39c53b68":"markdown","61b72160":"markdown","77716ae8":"markdown","3435abde":"markdown","e2678a29":"markdown","dcba3f69":"markdown","4112396c":"markdown","dba6fb14":"markdown","dd4ee635":"markdown"},"source":{"1109f950":"# Project: Novel Corona Virus 2019 Dataset by Kaggle\n# Program: COVID-19 in Serbia\n# Author:  Radina Nikolic\n# Date:    March 20, 2020\n#          Added Active Cases and Weeks\n\n# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly.io as pio\npio.templates.default = \"plotly_dark\"\nfrom plotly.subplots import make_subplots\n\nimport os\n\n# Input data files are available in the \"..\/input\/\" directory.\n\n","96a53883":"df_covid = pd.read_csv('\/kaggle\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv',parse_dates=['Last Update'])\ndf_covid.rename(columns={'ObservationDate':'Date', 'Country\/Region':'Country'}, inplace=True)\n","87087d25":"#Converting date column into correct format\ndf_covid['Date']=pd.to_datetime(df_covid['Date'])\n\nmaxdate=max(df_covid['Date'])\n\nfondate=maxdate.strftime(\"%Y-%m-%d\")\nprint(\"The last observation date is {}\".format(fondate))\nondate = format(fondate)\n","07a808bb":"#Adding Active cases\ndf_covid['Active'] = df_covid['Confirmed'] - df_covid['Deaths'] - df_covid['Recovered']\nprint(\"Active Cases Column Added Successfully\")\ndf_covid.head()","05e409c9":"def plot_bar_chart(confirmed, deaths, recovered, active, country, fig=None):\n    if fig is None:\n        fig = go.Figure()\n    fig.add_trace(go.Bar(x=confirmed['Date'],\n                y=confirmed['Confirmed'],\n                name='Confirmed'\n                ))\n    fig.add_trace(go.Bar(x=deaths['Date'],\n                y=deaths['Deaths'],\n                name='Deaths'\n                ))\n    fig.add_trace(go.Bar(x=recovered['Date'],\n                y=recovered['Recovered'],\n                name='Recovered'\n                ))\n    fig.add_trace(go.Bar(x=active['Date'],\n                y=active['Active'],\n                name='Active'\n                ))\n\n    fig.update_layout(\n        title= 'Cumulative Daily Cases of COVID-19 (Confirmed, Deaths, Recovered, Active) - ' + country + ' as of ' + ondate ,\n        xaxis_tickfont_size=12,\n        yaxis=dict(\n            title='Number of Cases',\n            titlefont_size=14,\n            tickfont_size=12,\n        ),\n        legend=dict(\n            x=0,\n            y=1.0,\n            bgcolor='rgba(255, 255, 255, 0)',\n            bordercolor='rgba(255, 255, 255, 0)'\n        ),\n        barmode='group',\n        bargap=0.15, \n        bargroupgap=0.1 \n    )\n    return fig","ea0406c1":"def plot_line_chart(confirmed, deaths, recovered, active, country, fig=None):\n    if fig is None:\n        fig = go.Figure()\n    fig.add_trace(go.Scatter(x=confirmed['Date'], \n                         y=confirmed['Confirmed'],\n                         mode='lines+markers',\n                         name='Confirmed'\n                         ))\n    fig.add_trace(go.Scatter(x=deaths['Date'], \n                         y=deaths['Deaths'],\n                         mode='lines+markers',\n                         name='Deaths'\n                         ))\n    fig.add_trace(go.Scatter(x=recovered['Date'], \n                         y=recovered['Recovered'],\n                         mode='lines+markers',\n                         name='Recovered'\n                        ))\n    fig.add_trace(go.Scatter(x=active['Date'], \n                         y=active['Active'],\n                         mode='lines+markers',\n                         name='Active'\n                        ))\n    fig.update_layout(\n        title= 'Number of COVID-19 Cases Over Time - ' + country + ' as of ' + ondate ,\n        xaxis_tickfont_size=12,\n        yaxis=dict(\n           title='Number of Cases',\n           titlefont_size=14,\n           tickfont_size=12,\n        ),\n        legend=dict(\n           x=0,\n           y=1.0,\n           bgcolor='rgba(255, 255, 255, 0)',\n           bordercolor='rgba(255, 255, 255, 0)'\n        )\n     )\n    return fig","6671dcc4":"confirmed = df_covid.groupby('Date').sum()['Confirmed'].reset_index() \ndeaths = df_covid.groupby('Date').sum()['Deaths'].reset_index() \nrecovered = df_covid.groupby('Date').sum()['Recovered'].reset_index()\nactive = df_covid.groupby('Date').sum()['Active'].reset_index()","6909cb96":"plot_bar_chart(confirmed, deaths, recovered,active, 'Worldwide').show()","cd507432":"plot_line_chart(confirmed, deaths, recovered,active, 'Worldwide').show()","db2baf97":"Serbia_df = df_covid[df_covid['Country'] == 'Serbia'].copy()\nSerbia_df.head() ","8847ecef":"Serbia_df.tail()","04d8d84e":"confirmed = Serbia_df.groupby('Date').sum()['Confirmed'].reset_index()\ndeaths = Serbia_df.groupby('Date').sum()['Deaths'].reset_index()\nrecovered = Serbia_df.groupby('Date').sum()['Recovered'].reset_index()\nactive = Serbia_df.groupby('Date').sum()['Active'].reset_index()","645efe25":"plot_bar_chart(confirmed, deaths, recovered,active,'Serbia').show()","c543c78f":"plot_line_chart(confirmed, deaths, recovered,active,'Serbia').show()","1623db61":"\n#Group by date\nSerbia_df=Serbia_df.groupby(['Date']).sum().reset_index()\n\nSerbia_df['Week'] = Serbia_df['Date'].dt.week\n\nSerbia_df.head()\n","bcf44ee7":"#Visualizing Cumaltive trends\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=Serbia_df['Date'], y=Serbia_df['Confirmed'],\n                    mode='lines',name='Confirmed Cases'))\nfig.add_trace(go.Scatter(x=Serbia_df['Date'], y=Serbia_df['Deaths'], \n                mode='lines',name='Deaths'))\nfig.add_trace(go.Scatter(x=Serbia_df['Date'], y=Serbia_df['Recovered'], \n                mode='lines',name='Recovered Cases'))\nfig.add_trace(go.Scatter(x=Serbia_df['Date'], y=Serbia_df['Active'], \n                mode='lines',name='Active'))\n  \n    \nfig.update_layout(title_text='Weekly Trends in Serbia')\n\nfig.show()","a1e41ce8":"confirmed = df_covid.groupby(['Date','Country'])['Confirmed'].sum().reset_index()\nregion =  [\"Croatia\", \"Slovenia\",\"Serbia\", \"Bosnia and Herzegovina\", \"North Macedonia\", \"Montenegro\"]","b6f15a61":"fig = go.Figure()\nfor country in region:\n \n    fig.add_trace(go.Scatter(\n        x=confirmed[confirmed['Country']==country]['Date'],\n        y=confirmed[confirmed['Country']==country]['Confirmed'],\n        name = country, # Style name\/legend entry with html tags\n        connectgaps=True # override default to connect the gaps\n    ))\nfig.update_layout(title=\"Number of Confirmed COVID-19 Cases Over Time - Serbia and Region\" + ' as of ' + ondate ,)    \nfig.show()","116ee1df":"fig = go.Figure()\nfor country in region:\n \n    fig.add_trace(go.Bar(\n        x=confirmed[confirmed['Country']==country]['Date'],\n        y=confirmed[confirmed['Country']==country]['Confirmed'],\n        name=country\n    ))\nfig.update_layout(title=\"Cumulative Daily Cases of COVID-19 (Confirmed) - Serbia and Region\"  + ' as of ' + ondate ,)    \nfig.show()","c811ed8f":"yu_df = df_covid[df_covid['Country'].isin(region)]\ngrouped_country = yu_df.groupby([\"Country\"] ,as_index=False)[\"Confirmed\",\"Recovered\",\"Deaths\"].last().sort_values(by=\"Confirmed\",ascending=False)\n","f48a6098":"fig = go.Figure()\n\nfig.add_trace(go.Bar(\n    \n    y=grouped_country['Country'],\n    x=grouped_country['Confirmed'],\n    orientation='h',\n    text=grouped_country['Confirmed']\n    ))\nfig.update_traces(textposition='outside')\nfig.update_layout(title=\"Cumulative Number of COVID-19 Confirmed Cases - Serbia and Region\" + ' as of ' + ondate)    \nfig.show()","2b3b1d7f":"fig = go.Figure()\n\ntrace1 = go.Bar(\n    x=grouped_country['Confirmed'],\n    y=grouped_country['Country'],\n    orientation='h',\n    name='Confirmed'\n)\ntrace2 = go.Bar(\n    x=grouped_country['Deaths'],\n    y=grouped_country['Country'],\n    orientation='h',\n    name='Deaths'\n)\ntrace3 = go.Bar(\n    x=grouped_country['Recovered'],\n    y=grouped_country['Country'],\n    orientation='h',\n    name='Recovered'\n)\n\ndata = [trace1, trace2, trace3]\nlayout = go.Layout(\n    barmode='stack'\n)\n\nfig = go.Figure(data=data, layout=layout)\nfig.update_layout(title=\"Stacked Number of COVID-19 Cases (Confirmed, Deaths, Recoveries) - Serbia and Region\" + ' as of ' + ondate)    \nfig.show()\n","bebcae02":"confirmed = df_covid.groupby(['Date','Country'])['Confirmed'].sum().reset_index()\nneighbours =  [\"Croatia\", \"Slovenia\",\"Serbia\", \"Bosnia and Herzegovina\", \"North Macedonia\", \"Montenegro\", \"Hungary\", \"Romania\", \"Greece\",\"Albania\"]","4de96316":"fig = go.Figure()\nfor country in neighbours:\n \n    fig.add_trace(go.Scatter(\n        x=confirmed[confirmed['Country']==country]['Date'],\n        y=confirmed[confirmed['Country']==country]['Confirmed'],\n        name = country # Style name\/legend entry with html tags\n    ))\nfig.update_layout(title=\"Number of Confirmed COVID-19 Cases Over Time - Serbia and Neighbours\" + ' as of ' + ondate)    \nfig.show()","cec1a692":"yu_df = df_covid[df_covid['Country'].isin(neighbours)]\ngrouped_country = yu_df.groupby([\"Country\"] ,as_index=False)[\"Confirmed\",\"Recovered\",\"Deaths\"].last().sort_values(by=\"Confirmed\",ascending=False)\n","df82f94f":"fig = go.Figure()\n\nfig.add_trace(go.Bar(\n    \n    y=grouped_country['Country'],\n    x=grouped_country['Confirmed'],\n    orientation='h',\n    text=grouped_country['Confirmed']\n    ))\nfig.update_traces(textposition='outside')\nfig.update_layout(title=\"Cumulative Number of COVID-19 Confirmed Cases - Serbia and Neighbours\" + ' as of ' + ondate)    \nfig.show()","215ef11f":"confirmed = df_covid.groupby(['Date','Country'])['Confirmed'].sum().reset_index()\nwest_neighbours =  [\"Austria\", \"Italy\", \"Spain\", \"Germany\", \"Switzerland\"]","2de935b4":"eu_df = df_covid[df_covid['Country'].isin(west_neighbours)]\ngrouped_country = eu_df.groupby([\"Country\"] ,as_index=False)[\"Confirmed\",\"Recovered\",\"Deaths\"].last().sort_values(by=\"Confirmed\",ascending=False)\ngrouped_country","83215b80":"fig = go.Figure()\n\nfig.add_trace(go.Bar(\n    \n    x=grouped_country['Country'],\n    y=grouped_country['Confirmed'],\n    #orientation='h',\n    text=grouped_country['Confirmed']\n    ))\nfig.update_traces(textposition='outside')\nfig.update_layout(title=\"Cumulative Number of COVID-19 Confirmed Cases - EU\" + ' as of ' + ondate )    \nfig.show()","b30eb9df":"fig = go.Figure()\n\ntrace1 = go.Bar(\n    x=grouped_country['Confirmed'],\n    y=grouped_country['Country'],\n    orientation='h',\n    name='Confirmed'\n)\ntrace2 = go.Bar(\n    x=grouped_country['Deaths'],\n    y=grouped_country['Country'],\n    orientation='h',\n    name='Deaths'\n)\ntrace3 = go.Bar(\n    x=grouped_country['Recovered'],\n    y=grouped_country['Country'],\n    orientation='h',\n    name='Recovered'\n)\n\ndata = [trace1, trace2, trace3]\nlayout = go.Layout(\n    barmode='stack'\n)\n\nfig = go.Figure(data=data, layout=layout)\nfig.update_layout(title=\"Stacked Number of COVID-19 Cases (Confirmed, Deaths, Recoveries) - EU\" + ' as of ' + ondate)    \nfig.show()\n","d04cea15":"ts_confirmed = pd.read_csv('\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_confirmed.csv')\nts_confirmed.rename(columns={'Country\/Region':'Country', 'Province\/State':'Province' }, inplace=True)\nSerbia_C_ts = ts_confirmed[ts_confirmed['Country'] == 'Serbia'].copy()\nSerbia_C_ts\n","6746ed2a":"ts_diff = Serbia_C_ts[Serbia_C_ts.columns[4:Serbia_C_ts.shape[1]]]\nnew = ts_diff.diff(axis = 1, periods = 1) \nynew=list(new.sum(axis=0))","90348267":"fig = go.Figure()\nfig.add_trace(go.Bar(\n    y=ynew,\n    x=ts_diff.columns,\n    text=list(new.sum(axis=0)),\n    ))\nfig.update_traces(textposition='outside')\nfig.update_layout(title=\"Epidemic Curve - Daily Number of COVID-19 Confirmed Cases in Serbia \" + ' as of  ' + ondate,\n                 yaxis=dict(title='Number of Cases'))    \nfig.show()","c7b37d9c":"<b>Epidemic Curve<\/b>\n\nAn epidemic curve shows the frequency of new cases over time based on the date of onset of disease. This curve is an important plot in epidemiology. The shape of the curve in relation to the incubation period for a particular disease can give clues about the spread and duration of the epidemy.","65a9ef22":"The Latest Cases (based on available data)","f01aab6a":"# More EU Countries","b151798f":"To Do:\n\n* Clustering of Worldwide Cases\n* Forecasting ....\n* More granular analysis - Age...","03adddef":"# Exploratory Data Analysis of Covid-19 Cases in Serbia\n\nThis is just an attempt to visualize Covid-19 spread in Serbia, based on published data. See References for data sources. Notebook will be updated daily, as an updated dataset become available.","e2db01a3":"# Advanced Data Analysis\n\n<b>Time Series Analysis<\/b>\n\n","e5aee9fc":"# What is happening Worldwide","39c5c99f":"# Serbia and Neighbours","1812581a":"Add Active Cases = Confirmed - Deaths - Recovered","1b102653":"# Visualization","99f199b8":"# What is going on in Serbia","0242fc8b":"<h4>Weekly Data<\/h4>","39c53b68":"# Serbia and Region","61b72160":"# Basic Data Analysis","77716ae8":"Check the latest observation date","3435abde":"# References\n\n**Data Sources**\n\n1. [Novel Corona Virus 2019 Dataset on Kaggle](https:\/\/www.kaggle.com\/sudalairajkumar\/novel-corona-virus-2019-dataset)\n2. [Novel Coronavirus (COVID-19) Cases, provided by JHU CSSE](https:\/\/github.com\/CSSEGISandData\/COVID-19)","e2678a29":"Calculate daily counts","dcba3f69":"As stricter measures were introduced on March 18, 2020, it will be interesting to monitor number of cases in the following days.","4112396c":"First Cases","dba6fb14":"# Functions for plotting","dd4ee635":"# Background\n\nTo Do:"}}