{"cell_type":{"9d4ed043":"code","6ccc4d9a":"code","ed0a3532":"code","54a68daf":"code","30e7cc56":"code","325a5bb9":"code","9446f084":"code","2ff0fc4a":"code","5053dda3":"code","ef051993":"code","e0d74f30":"code","1b06b2ae":"code","25553fe5":"code","b9e028dd":"code","f74c8d4f":"code","05c7a8a5":"code","8dfabebb":"code","1af746de":"code","382ecaa0":"code","ceaa9486":"code","f4d55a1d":"code","81dc4646":"code","8d4376d2":"markdown","d942e3d5":"markdown","90ae2164":"markdown","e7524d42":"markdown","f8743608":"markdown","e39653a6":"markdown","b9da77d9":"markdown","06f4362f":"markdown","84314c88":"markdown","7a0de5c1":"markdown"},"source":{"9d4ed043":"import numpy as np\nimport pandas as pd\n\nimport plotly.offline as pyo\npyo.init_notebook_mode(connected=True)\nimport plotly.express as px","6ccc4d9a":"raw_data = pd.read_csv(\"\/kaggle\/input\/forbes-celebrity-100-since-2005\/forbes_celebrity_100.csv\")\nraw_data.head()","ed0a3532":"raw_data.info()","54a68daf":"raw_data.describe(include='all')","30e7cc56":"data = raw_data.copy()","325a5bb9":"data['Category'].unique()","9446f084":"data['Category'].replace(to_replace = ['Television actresses','Actresses','Television actors'], value = 'Actors',\n                         inplace = True)","2ff0fc4a":"data['Category'].replace({'Hip-hop impresario':'Musicians'}, inplace = True)\ndata['Category'].unique()","5053dda3":"data.describe(include='all')","ef051993":"category_nom = data[['Year','Category']].groupby(['Year','Category'])\ncategory_nom = data.groupby(['Year','Category']).agg({'Name':['count']})\ncategory_nom.columns = ['Total Category Nominations']\ncategory_nom = category_nom.reset_index()\ncategory_nom.head()","e0d74f30":"category = category_nom.groupby(['Year'])['Total Category Nominations'].transform(max) == category_nom['Total Category Nominations']\ncategory_analysis = category_nom[category].reset_index(drop=True)\ncategory_analysis","1b06b2ae":"fig = px.bar(category_analysis, x= 'Year', y='Total Category Nominations', color='Category',\n            title='Forbes Celebrity 100: Most listed Category(2005-2019)',\n            hover_name='Year',\n            hover_data=['Category','Total Category Nominations'],\n            template='plotly_dark')\n\nfig.show()","25553fe5":"nomination_analysis = data.groupby(['Name','Category'],as_index=False)['Name'].size().reset_index(name='Total Forbes Listings')\nnomination_analysis.sort_values(by=['Total Forbes Listings'], inplace=True, ascending=False)\nnomination_analysis = nomination_analysis[nomination_analysis['Total Forbes Listings']>13]\nnomination_analysis.reset_index(inplace=True, drop=True)\nnomination_analysis","b9e028dd":"fig = px.bar(nomination_analysis, x= 'Total Forbes Listings', y='Name', \n             color='Category',\n             orientation='h',\n             title='Forbes Celebrity 100: Most listed Celebrities(2005-2019)',\n             hover_name='Name',\n             hover_data=['Name','Category','Total Forbes Listings'],\n             template='plotly_dark').update_yaxes(categoryorder='total ascending')\n\nfig.show()","f74c8d4f":"percent_change = data.groupby(['Year'],as_index=False)['Pay (USD millions)'].sum()\npercent_change['Difference in Cumulative Pay'] = percent_change['Pay (USD millions)'].diff()\npercent_change['Percent Change in Pay'] = percent_change['Pay (USD millions)'].pct_change().round(decimals=2)\npercent_change.rename(columns={'Pay (USD millions)': 'Cumulative Earnings(in billions)'},inplace=True)\npercent_change","05c7a8a5":"fig = px.line(percent_change, x= 'Year', y='Percent Change in Pay', \n             title='Cumulative Earnings: Year Over Year Percentage Change',\n             hover_name='Year',\n             hover_data=['Year','Cumulative Earnings(in billions)','Difference in Cumulative Pay','Percent Change in Pay'],\n             template='plotly_dark')\n\nfig.show()","8dfabebb":"top_list = data.groupby(['Year']).apply(lambda x: x.nlargest(10,'Pay (USD millions)')).reset_index(drop=True)\ntop_list = top_list[top_list['Year']==2019]\ncolumn_names = ['Year','Category','Name','Pay (USD millions)']\ntop_list = top_list.reindex(columns=column_names)\ntop_list.reset_index(drop=True,inplace=True)\ntop_list.head(10)","1af746de":"fig = px.bar(top_list, x= 'Pay (USD millions)', y='Name', \n             color='Category',\n             title='Top 10 Celebrities Who Made It To The Top Of The Forbes List? (2019)',\n             orientation='h',\n             hover_name='Name',\n             hover_data=['Name','Category','Pay (USD millions)'],\n             template='plotly_dark').update_yaxes(categoryorder='total ascending')\n\nfig.show()","382ecaa0":"data2 = data.groupby(['Year','Category'])['Pay (USD millions)'].transform(max) == data['Pay (USD millions)']\ndata_analysis = data[data2]\ndata_analysis = data_analysis[data_analysis['Year']==2019]\ncolumn_names = ['Year','Category','Name','Pay (USD millions)']\ndata_analysis = data_analysis.reindex(columns=column_names)\ndata_analysis.reset_index(drop=True,inplace=True)\ndata_analysis.head(10)","ceaa9486":"fig = px.bar(data_analysis, x= 'Pay (USD millions)', y='Name', \n             color='Category',\n             title='Forbes Celebrity 100: Who Was The Highest Earning Celebrity In Each Category? (2019)',\n             orientation='h',\n             hover_name='Name',\n             hover_data=['Name','Category','Pay (USD millions)'],\n             template='plotly_dark').update_yaxes(categoryorder='total ascending')\n\nfig.show()","f4d55a1d":"category_dist = data.groupby(['Year','Category'],as_index=False).count()\ncategory_dist = category_dist[category_dist['Year']==2019]\ncategory_dist = category_dist.drop(['Pay (USD millions)'],axis=1)\ncategory_dist.rename(columns={'Name':'Category Count'},inplace=True)\ncategory_dist.reset_index(drop=True,inplace=True)\ncategory_dist","81dc4646":"fig = px.pie(category_dist, values='Category Count',names='Category',\n            title='Percentage Distribution of Category',)\n\nfig.update_traces(textposition='inside',textinfo='percent+label')\n\nfig.show()","8d4376d2":"### WHAT CELEBRITIES HAD THE MOST LISTINGS IN THE FORBES CELEBRITY 100 OVER THE YEARS?","d942e3d5":"### WHAT CATEGORY HAD THE MOST LISTING PER YEAR?","90ae2164":"## IMPORT DATA","e7524d42":"### FOR EACH CATEGORY IN 2019, WHICH CELEBRITY HAD THE HIGHEST EARNINGS?","f8743608":"## DATA CLEANING","e39653a6":"## LIBRARIES","b9da77d9":"### HOW WERE THE CATEGORIES DISTRIBUTED IN 2019?","06f4362f":"### WHO WERE THE CELEBRITIES TO MAKE IT TO THE TOP OF THE FORBES CELEBRITY 100 IN 2019?","84314c88":"# EXPLORATORY ANALYSIS","7a0de5c1":"### HOW DID THE CUMULATIVE EARNINGS(TOTAL EARNINGS) PERFORM OVER THE YEARS?"}}