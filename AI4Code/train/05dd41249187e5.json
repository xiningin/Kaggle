{"cell_type":{"149c7af1":"code","5c113661":"code","68758038":"code","aeb627d5":"code","6ffd685d":"code","c31109b5":"code","eb8cc41f":"code","371c9177":"code","3326765b":"code","4a710d19":"code","6d7cf7bb":"code","489bb4fa":"code","d58eaa6a":"code","3383897d":"code","e526f27e":"code","737323fa":"code","45872262":"code","4d83ba5d":"code","4ec039aa":"code","cda0759f":"code","92186baf":"code","43e3eb55":"code","84a9a48a":"code","ac569f18":"code","6d5c56b1":"code","4f989269":"code","c0080a2a":"code","12cd172a":"code","820b593c":"code","65d139fb":"code","b3633b95":"code","026cc843":"code","27404e9e":"code","8eb49b99":"code","12056c1e":"code","e3e9573b":"code","671a68d3":"code","e3017e58":"code","4bf831a9":"code","493d2b2d":"code","b1830c0a":"code","82622e02":"code","53c842be":"code","deb310eb":"markdown","83c68487":"markdown","bb642682":"markdown","3d919a7c":"markdown","e4a76d4d":"markdown","9c293aac":"markdown","ea113028":"markdown","1ad16416":"markdown","dfb625d9":"markdown","207380cb":"markdown","426a2a36":"markdown","c0c3b26e":"markdown","2a21c9bb":"markdown","f838375a":"markdown","9aec1e5c":"markdown","32d863b0":"markdown","29400763":"markdown","8f07e8e6":"markdown"},"source":{"149c7af1":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as ","5c113661":"dete_survey = pd.read_csv('\/kaggle\/input\/employee-exit-survey\/dete_survey.csv')\ntafe_survey = pd.read_csv('\/kaggle\/input\/employee-exit-survey\/tafe_survey.csv')","68758038":"dete_survey.head()","aeb627d5":"dete_survey.info()","6ffd685d":"dete_survey.isnull().sum().sort_values(ascending = False)","c31109b5":"tafe_survey.head()","eb8cc41f":"dete_survey.info()","371c9177":"tafe_survey.isnull().sum().sort_values(ascending = False)","3326765b":"dete_survey = pd.read_csv('\/kaggle\/input\/employee-exit-survey\/dete_survey.csv', na_values='Not Stated')\ntafe_survey = pd.read_csv('\/kaggle\/input\/employee-exit-survey\/tafe_survey.csv', na_values='Not Stated')","4a710d19":"dete_survey.info()","6d7cf7bb":"tafe_survey.info()","489bb4fa":"dete_survey_updated = dete_survey.drop(dete_survey.columns[28:49],axis = 1)\ntafe_survey_updated = tafe_survey.drop(tafe_survey.columns[17:66],axis = 1)","d58eaa6a":"dete_survey_updated.columns = dete_survey_updated.columns.str.lower().str.strip().str.replace(' ', '_')\ndete_survey_updated.columns","3383897d":"mapping = {'Record ID': 'id', 'CESSATION YEAR': 'cease_date', 'Reason for ceasing employment': 'separationtype', 'Gender. What is your Gender?': 'gender', 'CurrentAge. Current Age': 'age',\n       'Employment Type. Employment Type': 'employment_status',\n       'Classification. Classification': 'position',\n       'LengthofServiceOverall. Overall Length of Service at Institute (in years)': 'institute_service',\n       'LengthofServiceCurrent. Length of Service at current workplace (in years)': 'role_service'}\ntafe_survey_updated = tafe_survey_updated.rename(mapping, axis = 1)\ntafe_survey_updated.columns","e526f27e":"dete_survey_updated['separationtype'].value_counts()","737323fa":"dete_survey_updated['separationtype'] = dete_survey_updated['separationtype'].str.split('-').str[0]\ndete_survey_updated['separationtype'].value_counts()","45872262":"tafe_survey_updated['separationtype'].value_counts()","4d83ba5d":"dete_resignations = dete_survey_updated[dete_survey_updated['separationtype'] == 'Resignation'].copy()\ntafe_resignations = tafe_survey_updated[tafe_survey_updated['separationtype'] == 'Resignation'].copy()","4ec039aa":"dete_resignations.head()","cda0759f":"tafe_resignations.head()","92186baf":"dete_resignations['cease_date'].value_counts()","43e3eb55":"dete_resignations['cease_date'] = dete_resignations['cease_date'].str.split('\/').str[-1].astype(\"float\")","84a9a48a":"dete_resignations['cease_date'].value_counts()","ac569f18":"dete_resignations['dete_start_date'].value_counts().sort_values()","6d5c56b1":"tafe_resignations['cease_date'].value_counts().sort_values()","4f989269":"dete_resignations['institute_service'] = dete_resignations['cease_date'] - dete_resignations['dete_start_date']\ndete_resignations['institute_service'].head(10)","c0080a2a":"tafe_resignations['Contributing Factors. Dissatisfaction'].value_counts()","12cd172a":"tafe_resignations['Contributing Factors. Job Dissatisfaction'].value_counts()","820b593c":"def label(x):\n    if x == '-':\n        return False\n    elif pd.isnull(x):\n        return np.nan\n    else:\n        return True","65d139fb":"tafe_factors = ['Contributing Factors. Dissatisfaction',\n                'Contributing Factors. Job Dissatisfaction']\ndete_factors = ['job_dissatisfaction',\n        'dissatisfaction_with_the_department', 'physical_work_environment',\n       'lack_of_recognition', 'lack_of_job_security', 'work_location',\n       'employment_conditions', 'work_life_balance',\n       'workload']","b3633b95":"tafe_resignations['dissatisfied'] = tafe_resignations[tafe_factors].applymap(label).any(1, skipna=False)\ntafe_resignations_up = tafe_resignations.copy()\n\ntafe_resignations_up['dissatisfied'].value_counts(dropna=False)","026cc843":"dete_resignations['dissatisfied'] = dete_resignations[dete_factors].any(1, skipna=False)\ndete_resignations_up = dete_resignations.copy()\n\ndete_resignations_up['dissatisfied'].value_counts(dropna=False)","27404e9e":"dete_resignations_up['institute'] = 'DETE'\ntafe_resignations_up['institute'] = 'TAFE'","8eb49b99":"combined = pd.concat([dete_resignations_up, tafe_resignations_up], ignore_index=True)\nlt500 = combined.notnull().sum().sort_values()\ncombined.notnull().sum().sort_values()","12056c1e":"combined_updated = combined.dropna(thresh = 500, axis =1).copy()","e3e9573b":"combined_updated['institute_service'].value_counts(dropna=False)","671a68d3":"expression = r'(\\d+)'\ncombined_updated['institute_service_up'] = combined_updated['institute_service'].astype('str').str.extract(expression, expand = True)\ncombined_updated['institute_service_up'] = combined_updated['institute_service_up'].astype('float')\n\ncombined_updated['institute_service_up'].value_counts()","e3017e58":"def transform_service(val):\n    if val >= 11:\n        return \"Veteran\"\n    elif 7 <= val < 11:\n        return \"Established\"\n    elif 3 <= val < 7:\n        return \"Experienced\"\n    elif pd.isnull(val):\n        return np.nan\n    else:\n        return \"New\"","4bf831a9":"combined_updated['service_cat'] = combined_updated['institute_service_up'].apply(transform_service)\ncombined_updated['service_cat'].value_counts()","493d2b2d":"combined_updated['dissatisfied'].value_counts(dropna=False)","b1830c0a":"combined_updated['dissatisfied'] = combined_updated['dissatisfied'].fillna(False)","82622e02":"dis_pct = combined_updated.pivot_table(index='service_cat', values='dissatisfied')","53c842be":"dis_pct.plot(kind='bar', rot=30)","deb310eb":"Dropping columns that have less than 500 nonnull values","83c68487":"Re-reading the data with Nan values specified as 'Not Stated'","bb642682":"## Cleaning the institute_service column","3d919a7c":"## Importing libraries and data","e4a76d4d":"## Updating column names","9c293aac":"## Creating new field\nA new field 'institute_service' can be added to the dete_resignation dataset by subtracting start dates and the cease date - To indicate the years of service","ea113028":"## Categorizing employee dissatisfaction\nThe following columns can be used to guage the employee dissatisfaction from each dataframe.  \n\ntafe_survey_updated:\n* Contributing Factors. Dissatisfaction\n* Contributing Factors. Job Dissatisfaction  \n\ndete_survey_updated:\n* job_dissatisfaction\n* dissatisfaction_with_the_department\n* physical_work_environment\n* lack_of_recognition\n* lack_of_job_security\n* work_location\n* employment_conditions\n* work_life_balance\n* workload","1ad16416":"## Removing unnecessary columns \nThe following columns serve no purpose to our analysis","dfb625d9":"Function to label the fields","207380cb":"## Merging the dataframes\nAdded a new column 'institite' to distinguish between the dataframes","426a2a36":"# Employee Resignation and Dissatisfaction\nAs a data analyst tasked with following activities we make a report to the relavant stakeholders:\n* Are employees who only worked for the institutes for a short period of time resigning due to some kind of dissatisfaction? What about employees who have been there longer?\n* Are younger employees resigning due to some kind of dissatisfaction? What about older employees?\n\nThe following datasets are available for analysis purpose:\n* dete_survey.csv  \n\n| Data | Description |\n| --- | --- |\n| ID | An id used to identify the participant of the survey |\n| SeparationType | The reason why the person's employment ended |\n| Cease Date | The year or month the person's employment ended |\n| DETE Start Date | The year the person began employment with the DETE | \n  \n* tafe_survey.csv  \n\nData | Description\n --- | --- \nRecord ID | An id used to identify the participant of the survey\nReason for ceasing employment | The reason why the person's employment ended\nLengthofServiceOverall | Overall Length of Service at Institute (in years)","c0c3b26e":"There seem to be no outliers in the date type fields","2a21c9bb":"## Imputing missing values","f838375a":"## Preliminary Analysis\n* **dete_survey**","9aec1e5c":"## Filtering the data\nIf we look at the unique values in the separationtype columns in each dataframe, we'll see that each contains a couple of different separation types. For this project, we'll only analyze survey respondents who resigned, so their separation type contains the string 'Resignation'.","32d863b0":"* **tafe_survey**","29400763":"Function to label the dataset","8f07e8e6":"## Correcting date field values"}}