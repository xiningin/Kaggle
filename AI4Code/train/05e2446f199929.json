{"cell_type":{"572e56a0":"code","7f49d854":"code","10646b11":"code","0030e7bf":"code","a5bd22ae":"code","281796ba":"code","076d2e5e":"code","17db3738":"code","63da887f":"code","1153390e":"code","2e1540b5":"code","c516c27b":"code","607eeff5":"markdown","61d1c033":"markdown","e018a64b":"markdown","f77aef3b":"markdown","1031d973":"markdown"},"source":{"572e56a0":"import gc\nfrom tqdm import tqdm\nimport numpy as np\nimport pandas as pd\nfrom pylab import rcParams\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom scipy.stats import probplot\n\nimport datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nfrom fbprophet import Prophet\n\n%matplotlib inline\nimport os\nimport warnings\nwarnings.filterwarnings(\"ignore\")","7f49d854":"data0=pd.read_csv('..\/input\/july-to-august-2021-minute-analysis-of-crypto\/coinbase-extracted.csv')\ndata0","10646b11":"data0=data0.drop(['Open','High','Low'],axis=1)","0030e7bf":"data0['Symbol'].unique()","a5bd22ae":"data1=data0[data0['Symbol']=='BTC'][-10000:]\nprint(len(data1))","281796ba":"data2=data1[['Datetime','Close']]\ndata2\n# 2021-07-25 01:20:00 -- 2021-07-31 23:59:00","076d2e5e":"item1=data2\n\nitem1.columns = ['ds','y']\nitem1.y = item1.y.astype('float')\nitem1.ds = item1.ds.astype('datetime64')\nprint(item1)      # minutely data\n\nrcParams['figure.figsize'] = 20,5\nplt.plot(item1.ds, item1.y)","17db3738":"import datetime as dt\nfrom datetime import datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nstart0 = dt.strptime('2021-07-31 23:00:00','%Y-%m-%d %H:%M:%S')\nend0   = dt.strptime('2021-08-02 00:00:00','%Y-%m-%d %H:%M:%S')\nprint(end0-start0)\nseconds0=(end0-start0).days*24*60*60+(end0-start0).seconds\nprint(seconds0)","63da887f":"time=[]\nfor i in list(range(0,seconds0,60)):\n    time+=[start0+timedelta(seconds=i)]\ndates0=pd.to_datetime(time,format='%Y-%m-%d %H:%M:%S')\nprint(dates0)","1153390e":"# prediction period\ndates0_df=pd.DataFrame(dates0)\ndates0_df.columns=['ds']\ndates0_df\n# 2021-07-31 23:00:00 -- 2021-08-01 23:59:00","2e1540b5":"ph = Prophet()\nph.fit(item1)\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","c516c27b":"forecast3[['ds','yhat']]","607eeff5":"# Minutely BTC Prediction by Prophet","61d1c033":"# Fit and Predict","e018a64b":"# Data processing","f77aef3b":"# Select data for fitting","1031d973":"# Set period of prediction"}}