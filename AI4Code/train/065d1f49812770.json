{"cell_type":{"35b9ab83":"code","a946289a":"code","ece0e6d7":"code","a2eaf914":"code","73152caf":"code","ae48088f":"code","7fba9ce8":"code","de5f290d":"code","00861d28":"code","9da929ad":"code","558ee8ae":"code","e77e1f47":"code","8f753851":"code","b77bd269":"code","1b050d58":"code","918664a4":"code","6ee22305":"code","7ea9c1a8":"code","3ee75f91":"code","328d1d61":"code","e90cf917":"code","fce4ada8":"code","7f71888f":"code","99fff2c3":"code","4ebb199b":"code","802d568c":"code","5e2e43b7":"code","f6be369a":"code","86440487":"code","f5305477":"code","faff0245":"code","2834ec16":"code","4a373062":"code","95044c9b":"code","fb0e7701":"code","5e756c9b":"code","eab7a9a4":"code","5dfd9c44":"code","b368ada2":"code","f779ca40":"code","ef6b85f1":"code","1596d3f8":"code","c2e9f33c":"code","2a0e9984":"code","fec2a018":"code","0f411182":"code","f5976ab7":"code","a62c6f19":"code","db0ae18e":"code","45ce459d":"code","2bd44367":"code","716decfc":"code","2eb22ba8":"code","422f7874":"code","36678689":"code","f32d9991":"code","a965e2b8":"code","d00055f0":"code","9d2d80be":"code","445a38d1":"code","49938af1":"code","65729a1e":"code","55c7e2b8":"code","1ce11bc7":"code","bdadb627":"code","d03d60bd":"code","c7ec4129":"code","ab7fa998":"code","af64532b":"code","5baccd1f":"code","4b67a53e":"code","4f9d7444":"code","cfa9f54d":"code","efb97446":"code","8a198b12":"code","db64772a":"code","8a2ba7b5":"code","87a836ba":"code","feb4a555":"code","55d6051c":"code","6d75ca8d":"code","9cd30e29":"code","2c36df1e":"code","7c242b8b":"code","915b616d":"code","ea423db8":"code","cd7515c7":"code","5579fd67":"code","f6e78b3d":"code","0e6ab553":"code","fe05fbb5":"code","32c8566a":"code","ef4ac8b4":"code","e85a0258":"code","51806419":"code","9f07047b":"code","3ba73ebc":"code","171853ec":"code","8ef35ccb":"code","6d24536c":"code","16e36693":"code","1e972a66":"code","b43de29f":"code","a1b22b3a":"code","9416c3eb":"code","207f427d":"code","515f1e59":"code","07bec2f7":"code","91b84a8d":"code","9f884ba3":"code","92eadc76":"code","2fc4646b":"code","05cdce20":"code","77c2071a":"code","6984280f":"code","198098ca":"code","16071f94":"code","ae9b82f1":"code","51773c01":"code","815fe5fb":"code","d1ebac7f":"code","efe8f9fa":"code","887180b6":"code","46096ce0":"markdown","06f94c36":"markdown","f4655388":"markdown","590842bc":"markdown","b45cf4ab":"markdown","faf93106":"markdown","7337a2a2":"markdown","94a9f9e6":"markdown","a663c41f":"markdown","c55e646e":"markdown","59e78067":"markdown","11495180":"markdown","f9a64934":"markdown","397ebfab":"markdown","357eb932":"markdown","c63e9956":"markdown","15b88652":"markdown","9955b67f":"markdown","429471b4":"markdown","458c9225":"markdown","0cf733c7":"markdown","9e44820c":"markdown","bb574841":"markdown","263ce25a":"markdown","0907d716":"markdown","8efbbffe":"markdown","8aa7baa2":"markdown","2ecd3dcb":"markdown","d373f0c7":"markdown","3ba0f6ab":"markdown","1bcc18d2":"markdown","7da78d1b":"markdown","c61ecf5b":"markdown","0b2658ce":"markdown","d9106e8b":"markdown","e2969f94":"markdown","078bf203":"markdown","542c20b4":"markdown","d16e24ac":"markdown","dce96dbc":"markdown","91f7a70d":"markdown","81a21599":"markdown","b775b0aa":"markdown","06e4fcaa":"markdown","8c8fc0ab":"markdown","372d092d":"markdown","e617d049":"markdown","bdb294a7":"markdown","af8c3d35":"markdown","ff87ae37":"markdown","8c3864d2":"markdown","95ac1847":"markdown","e0ae150b":"markdown","d66e4071":"markdown","e6d9c95c":"markdown","150abf07":"markdown","ae101f74":"markdown","a5b01f43":"markdown","64f5da6a":"markdown","8e230a72":"markdown"},"source":{"35b9ab83":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","a946289a":"#import all package needed\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport statsmodels.api as sm\nfrom scipy.stats import normaltest\nimport holoviews as hv\nfrom holoviews import opts\nimport cufflinks as cf\nhv.extension('bokeh')","ece0e6d7":"cf.set_config_file(offline = True)\nsns.set(style=\"whitegrid\")","a2eaf914":"#we take file for plant 1 Generation data\nfile = '\/kaggle\/input\/solar-power-generation-data\/Plant_1_Generation_Data.csv'","73152caf":"plant1_data = pd.read_csv(file) # load data","ae48088f":"plant1_data.tail()","7fba9ce8":"print('The number of inverter for data_time {} is {}'.format('15-05-2020 23:00', plant1_data[plant1_data.DATE_TIME == '15-05-2020 23:00']['SOURCE_KEY'].nunique()))","de5f290d":"plant1_data.info() # we check if there exist missing value","00861d28":"#we compute a sum of 22 inverters\nplant1_data = plant1_data.groupby('DATE_TIME')[['DC_POWER','AC_POWER', 'DAILY_YIELD','TOTAL_YIELD']].agg('sum')","9da929ad":"plant1_data = plant1_data.reset_index()","558ee8ae":"plant1_data.head()","e77e1f47":"plant1_data['DATE_TIME'] = pd.to_datetime(plant1_data['DATE_TIME'], errors='coerce')","8f753851":"plant1_data['time'] = plant1_data['DATE_TIME'].dt.time\nplant1_data['date'] = pd.to_datetime(plant1_data['DATE_TIME'].dt.date)","b77bd269":"plant1_data.shape # our data reduced very well","1b050d58":"#we check\nplant1_data.head()","918664a4":"plant1_data.info()","6ee22305":"#plant1_data.iplot(x= 'time', y='DC_POWER', xTitle='Time',  yTitle= 'DC Power', title='DC POWER plot')\nplant1_data.plot(x= 'time', y='DC_POWER', style='.', figsize = (15, 8))\nplant1_data.groupby('time')['DC_POWER'].agg('mean').plot(legend=True, colormap='Reds_r')\nplt.ylabel('DC Power')\nplt.title('DC POWER plot')\nplt.show()","7ea9c1a8":"#Okay, we are going to see dc power in each day produced by Plant.\n#we create calendar_dc data how in each day Plant produce a dc power in each time.\n\ncalendar_dc = plant1_data.pivot_table(values='DC_POWER', index='time', columns='date')","3ee75f91":"calendar_dc.tail()","328d1d61":"# define function to multi plot\n\ndef multi_plot(data= None, row = None, col = None, title='DC Power'):\n    cols = data.columns # take all column\n    gp = plt.figure(figsize=(20,20)) \n    \n    gp.subplots_adjust(wspace=0.2, hspace=0.8)\n    for i in range(1, len(cols)+1):\n        ax = gp.add_subplot(row,col, i)\n        data[cols[i-1]].plot(ax=ax, style = 'k.')\n        ax.set_title('{} {}'.format(title, cols[i-1]))","e90cf917":"multi_plot(data=calendar_dc, row=9, col=4)","fce4ada8":"daily_dc = plant1_data.groupby('date')['DC_POWER'].agg('sum')","7f71888f":"daily_dc.plot.bar(figsize=(15,5), legend=True)\nplt.title('Daily DC Power')\nplt.show()","99fff2c3":"plant1_data.plot(x='time', y='DAILY_YIELD', style='b.', figsize=(15,5))\nplant1_data.groupby('time')['DAILY_YIELD'].agg('mean').plot(legend=True, colormap='Reds_r')\nplt.title('DAILY YIELD')\nplt.ylabel('Yield')\nplt.show()","4ebb199b":"#pivot table data\ndaily_yield = plant1_data.pivot_table(values='DAILY_YIELD', index='time', columns='date')","802d568c":"# we plot all daily yield\nmulti_plot(data=daily_yield.interpolate(), row=9, col=4, title='DAILY YIELD')","5e2e43b7":"#plotting a change rate daily yield over time\nmulti_plot(data=daily_yield.diff()[daily_yield.diff()>0], row=9, col=4, title='new yield')","f6be369a":"daily_yield.boxplot(figsize=(18,5), rot=90, grid=False)\nplt.title('DAILY YIELD IN EACH DAY')\nplt.show()","86440487":"daily_yield.diff()[daily_yield.diff()>0].boxplot(figsize=(18,5), rot=90, grid=False)\nplt.title('DAILY YIELD CHANGE RATE EACH 15 MIN EACH DAY')\nplt.show()","f5305477":"#we compute a daily yield for each date.\ndyield = plant1_data.groupby('date')['DAILY_YIELD'].agg('sum')","faff0245":"dyield.plot.bar(figsize=(15,5), legend=True)\nplt.title('Daily YIELD')\nplt.show()","2834ec16":"file1 = '\/kaggle\/input\/solar-power-generation-data\/Plant_1_Weather_Sensor_Data.csv'","4a373062":"plant1_sensor = pd.read_csv(file1)","95044c9b":"plant1_sensor.head()","fb0e7701":"plant1_sensor.info()","5e756c9b":"plant1_sensor['DATE_TIME'] = pd.to_datetime(plant1_sensor['DATE_TIME'], errors='coerce')","eab7a9a4":"# same work cleaning data\nplant1_sensor['date'] = pd.to_datetime(pd.to_datetime(plant1_sensor['DATE_TIME']).dt.date)\nplant1_sensor['time'] = pd.to_datetime(plant1_sensor['DATE_TIME']).dt.time\n\n\ndel plant1_sensor['PLANT_ID']\ndel plant1_sensor['SOURCE_KEY']","5dfd9c44":"plant1_sensor.tail()","b368ada2":"plant1_sensor.plot(x='time', y = 'AMBIENT_TEMPERATURE' , style='b.', figsize=(15,5))\nplant1_sensor.groupby('time')['AMBIENT_TEMPERATURE'].agg('mean').plot(legend=True, colormap='Reds_r')\nplt.title('Daily AMBIENT TEMPERATURE MEAN (RED)')\nplt.ylabel('Temperature (\u00b0C)')\nplt.show()","f779ca40":"ambient = plant1_sensor.pivot_table(values='AMBIENT_TEMPERATURE', index='time', columns='date')","ef6b85f1":"ambient.tail()","1596d3f8":"ambient.boxplot(figsize=(15,5), grid=False, rot=90)\nplt.title('AMBIENT TEMPERATURE BOXES')\nplt.ylabel('Temperature (\u00b0C)')","c2e9f33c":"am_temp = plant1_sensor.groupby('date')['AMBIENT_TEMPERATURE'].agg('mean')","2a0e9984":"am_temp.plot(grid=True, figsize=(15,5), legend=True, colormap='Oranges_r')\nplt.title('AMBIENT TEMPERATURE 15 MAY- 17 JUNE')\nplt.ylabel('Temperature (\u00b0C)')","fec2a018":"am_change_temp = (am_temp.diff()\/am_temp)*100","0f411182":"am_change_temp.plot(figsize=(15,5), grid=True, legend=True)\nplt.ylabel('%change')\nplt.title('AMBIENT TEMPERATURE %change')","f5976ab7":"from scipy.signal import periodogram","a62c6f19":"decomp = sm.tsa.seasonal_decompose(am_temp)","db0ae18e":"cols = ['trend', 'seasonal', 'resid'] # take all column\ndata = [decomp.trend, decomp.seasonal, decomp.resid]\ngp = plt.figure(figsize=(15,15)) \n    \ngp.subplots_adjust(hspace=0.5)\nfor i in range(1, len(cols)+1):\n    ax = gp.add_subplot(3,1, i)\n    data[i-1].plot(ax=ax)\n    ax.set_title('{}'.format(cols[i-1]))","45ce459d":"plant1_sensor.plot(x='time', y='MODULE_TEMPERATURE', figsize=(15,8), style='b.')\nplant1_sensor.groupby('time')['MODULE_TEMPERATURE'].agg('mean').plot(colormap='Reds_r', legend=True)\nplt.title('DAILY MODULE TEMPERATURE & MEAN(red)')\nplt.ylabel('Temperature(\u00b0C)')","2bd44367":"module_temp = plant1_sensor.pivot_table(values='MODULE_TEMPERATURE', index='time', columns='date')","716decfc":"module_temp.boxplot(figsize=(15,5), grid=False, rot=90)\nplt.title('MODULE TEMPERATURE BOXES')\nplt.ylabel('Temperature (\u00b0C)')","2eb22ba8":"multi_plot(module_temp, row=9,  col=4, title='Module Temp.')","422f7874":"#we can also see also calendar plot\nmod_temp = plant1_sensor.groupby('date')['MODULE_TEMPERATURE'].agg('mean')","36678689":"mod_temp.plot(grid=True, figsize=(15,5), legend=True)\nplt.title('MODULE TEMPERATURE 15 MAY- 17 JUNE')\nplt.ylabel('Temperature (\u00b0C)')","f32d9991":"#we plot a %change of MODULE TEMPERATURE.\nchan_mod_temp = (mod_temp.diff()\/mod_temp)*100","a965e2b8":"chan_mod_temp.plot(grid=True, legend=True, figsize=(15,5))\nplt.ylabel('%change')\nplt.title('MODULE TEMPERATURE %change')","d00055f0":"plant1_sensor.plot(x='time', y = 'IRRADIATION', style='.', legend=True, figsize=(15,5))\nplant1_sensor.groupby('time')['IRRADIATION'].agg('mean').plot(legend=True, colormap='Reds_r')\nplt.title('IRRADIATION')","9d2d80be":"irra = plant1_sensor.pivot_table(values='IRRADIATION', index='time', columns='date')","445a38d1":"irra.tail()","49938af1":"irra.boxplot(figsize=(15,5), rot = 90, grid=False)\nplt.title('IRRADIATION BOXES')","65729a1e":"rad = plant1_sensor.groupby('date')['IRRADIATION'].agg('sum')","55c7e2b8":"rad.plot(grid=True, figsize=(15,5), legend=True)\nplt.title('IRRADIATION 15 MAY- 17 JUNE')","1ce11bc7":"# we are merge our solar power generation data and weather sensor data\npower_sensor = plant1_sensor.merge(plant1_data, left_on='DATE_TIME', right_on='DATE_TIME')","bdadb627":"power_sensor.tail(3)","d03d60bd":"#we remove the columns that we do not need\ndel power_sensor['date_x']\ndel power_sensor['date_y']\ndel power_sensor['time_x']\ndel power_sensor['time_y']","c7ec4129":"power_sensor.tail(3)","ab7fa998":"power_sensor.info()","af64532b":"#we start correlation\npower_sensor.corr(method = 'spearman')","5baccd1f":"corr = power_sensor.drop(columns=['DAILY_YIELD', 'TOTAL_YIELD']).corr(method = 'spearman')","4b67a53e":"plt.figure(dpi=100)\nsns.heatmap(corr, robust=True, annot=True, fmt='0.3f', linewidths=.5, square=True)\nplt.show()","4f9d7444":"# we make pairplot\nsns.pairplot(power_sensor.drop(columns=['DAILY_YIELD', 'TOTAL_YIELD']))\nplt.show()","cfa9f54d":"#we plot dc power vs ac power","efb97446":"plt.figure(dpi=100)\nsns.lmplot(x='DC_POWER', y='AC_POWER', data=power_sensor)\nplt.title('Regression plot')\nplt.show()","8a198b12":"plt.figure(dpi=100)\nsns.lmplot(x='AMBIENT_TEMPERATURE', y='DC_POWER', data=power_sensor)\nplt.title('Regression plot')\nplt.show()","db64772a":"plt.figure(dpi=100)\nsns.lmplot(x='MODULE_TEMPERATURE', y='DC_POWER', data=power_sensor)\nplt.title('Regression plot')\nplt.show()","8a2ba7b5":"plt.figure(dpi=100)\nsns.lmplot(x='IRRADIATION', y='DC_POWER', data=power_sensor)\nplt.title('Regression plot')\nplt.show()","87a836ba":"# we introduce DELTA_TEMPERATURE\npower_sensor['DELTA_TEMPERATURE'] = abs(power_sensor.AMBIENT_TEMPERATURE - power_sensor.MODULE_TEMPERATURE)","feb4a555":"# we check if all is ok\npower_sensor.tail(3)","55d6051c":"#now we use correlation\npower_sensor.corr(method='spearman')['DELTA_TEMPERATURE']","6d75ca8d":"sns.lmplot(x='DELTA_TEMPERATURE', y='DC_POWER', data=power_sensor)\nplt.title('correlation between DC_POWER and DELTA_TEMPERATURE')","9cd30e29":"sns.lmplot(x='DELTA_TEMPERATURE', y='IRRADIATION', data=power_sensor)\nplt.title('Regression plot')","2c36df1e":"file2 = '\/kaggle\/input\/solar-power-generation-data\/Plant_2_Generation_Data.csv'","7c242b8b":"plant2_data = pd.read_csv(file2)","915b616d":"plant2_data.head(3)","ea423db8":"plant2_data.info()","cd7515c7":"#we compute a sum of 22 inverters\nplant2_data = plant2_data.groupby('DATE_TIME')[['DC_POWER','AC_POWER', 'DAILY_YIELD','TOTAL_YIELD']].agg('sum').reset_index()","5579fd67":"plant2_data['DATE_TIME'] = pd.to_datetime(plant2_data['DATE_TIME'], errors='coerce')\nplant2_data['time'] = plant2_data['DATE_TIME'].dt.time\nplant2_data['date'] = pd.to_datetime(plant2_data['DATE_TIME'].dt.date)","f6e78b3d":"plant2_data.tail(3)","0e6ab553":"plant2_data.info()","fe05fbb5":"#we conpare a dc power of two plant\nax = plant1_data.plot(x='time', y='DC_POWER', figsize=(15,5), legend=True, style='b.')\nplant2_data.plot(x='time', y='DC_POWER', legend=True, style='r.', ax=ax)\nplt.title('Plant1(blue) vs Plant2(red)')\nplt.ylabel('Power (KW)')","32c8566a":"#we conpare a dc power of two plant\nax1 = plant1_data.plot(x='time', y='AC_POWER', figsize=(15,5), legend=True, style='b.', )\nplant2_data.plot(x='time', y='AC_POWER', legend=True, style='r.', ax=ax1)\nplt.title('Plant1(blue) vs Plant2(red)')\nplt.ylabel('Power (KW)')","ef4ac8b4":"p2_daily_dc = plant2_data.groupby('date')['DC_POWER'].agg('sum')","e85a0258":"axh = daily_dc.plot.bar(legend=True, figsize=(15,5), color='Blue', label='DC_POWER Plant I')\np2_daily_dc.plot.bar(legend=True, color='Red', label='DC_POWER Plant II', stacked=False)\nplt.title('DC POWER COMPARISON')\nplt.ylabel('Power (KW)')\nplt.show()","51806419":"daily_ac = plant1_data.groupby('date')['AC_POWER'].agg('sum')\np2_daily_ac = plant2_data.groupby('date')['AC_POWER'].agg('sum')","9f07047b":"ac = daily_ac.plot.bar(legend=True, figsize=(15,5), color='Blue', label='AC_POWER Plant I')\np2_daily_ac.plot.bar(legend=True, color='Red', label='AC_POWER Plant II')\nplt.title('AC POWER COMPARISON')\nplt.ylabel('Power (KW)')\nplt.show()","3ba73ebc":"#compute daily_yield for each date\np2_dyield = plant2_data.groupby('date')['DAILY_YIELD'].agg('sum')","171853ec":"dy = dyield.plot.bar(figsize=(15,5), legend=True, label='DAILY_YIELD PLANT I', color='Blue')\np2_dyield.plot.bar(legend=True, label='DAILY_YIELD PLANT II', color='Red')\nplt.ylabel('Energy (KWh)')\nplt.title('DAILY YIELD COMPARISON')","8ef35ccb":"#compute a average total_yield for plant I for each day\ntyield = plant1_data.groupby('date')['TOTAL_YIELD'].agg('mean')\n\n#compute a average total_yield for plant II for each day\np2_tyield = plant2_data.groupby('date')['TOTAL_YIELD'].agg('mean')","6d24536c":"aver = p2_tyield.plot.bar(figsize=(15,5), legend=True, label='AVERAGE TOTAL YIELD PLANT II', color='Red')\ntyield.plot.bar(legend=True, label='AVERAGE TOTAL YIELD PLANT I', color='Blue',ax=aver)","16e36693":"file3 = '\/kaggle\/input\/solar-power-generation-data\/Plant_2_Weather_Sensor_Data.csv'","1e972a66":"plant2_sensor = pd.read_csv(file3)","b43de29f":"plant2_sensor.tail()","a1b22b3a":"plant2_sensor.info()","9416c3eb":"plant2_sensor['DATE_TIME'] = pd.to_datetime(plant2_sensor['DATE_TIME'], errors='coerce')","207f427d":"# same work cleaning data for plant II\nplant2_sensor['date'] = pd.to_datetime(pd.to_datetime(plant2_sensor['DATE_TIME']).dt.date)\nplant2_sensor['time'] = pd.to_datetime(plant2_sensor['DATE_TIME']).dt.time\n\n\ndel plant2_sensor['PLANT_ID']\ndel plant2_sensor['SOURCE_KEY']","515f1e59":"plant2_sensor.head()","07bec2f7":"plant1_sensor[['AMBIENT_TEMPERATURE','MODULE_TEMPERATURE','time']].plot(x='time', label='Plant I', title='PLANT I', figsize=(15,5), style='.')\nplant2_sensor[['AMBIENT_TEMPERATURE','MODULE_TEMPERATURE','time']].plot(x='time', label='Plant II', title='PLANT II', figsize=(15,5), style='.')\nplt.ylabel('Temperature (\u00b0C)')","91b84a8d":"#compare IRRADIATION PLANT I VS PLANT II\naq = plant1_sensor.plot(x='time', y='IRRADIATION', legend=True, label='IRRADIATION PLANT I', color='Blue', style='.', figsize=(15,5))\nplant2_sensor.plot(x='time', y='IRRADIATION', legend=True, label='IRRADIATION PLANT II',  color='Red', style='.', ax=aq)\nplt.title('IRRADIATION COMPARISON')","9f884ba3":"# we are merging our solar power generation data and weather sensor data for plant 2\nsensorData = plant2_sensor.merge(plant2_data, left_on='DATE_TIME', right_on='DATE_TIME')","92eadc76":"#we remove the columns that we do not need\ndel sensorData['date_x']\ndel sensorData['date_y']\ndel sensorData['time_x']\ndel sensorData['time_y']","2fc4646b":"sensorData.tail()","05cdce20":"sensorData = sensorData.assign(DELTA_TEMPERATURE = abs(sensorData.MODULE_TEMPERATURE - sensorData.AMBIENT_TEMPERATURE),\n                              NEW_DAILY_YIELD = sensorData.DAILY_YIELD.diff(),\n                              NEW_TOTAL_YIELD = sensorData.TOTAL_YIELD.diff(),\n                              NEW_AMBIENT_TEMPERATURE = sensorData.AMBIENT_TEMPERATURE.diff(),\n                              NEW_MODULE_TEMPERATURE = sensorData.MODULE_TEMPERATURE.diff(),\n                              NEW_AC_POWER = sensorData.AC_POWER.diff())","77c2071a":"#see\nsensorData.head()","6984280f":"sensorData.corr(method='spearman').style.background_gradient('viridis')","198098ca":"plt.figure(dpi=100, figsize=(15,10))\nsns.heatmap(sensorData.corr(method='spearman'), robust=True, annot=True, fmt='0.2f', linewidths=.5, square=False)\nplt.show()","16071f94":"#we plot ac vs dc power\nsns.lmplot(x='DC_POWER', y='AC_POWER', data=sensorData)\nplt.title('Regression plot')","ae9b82f1":"#we plot New DAILY YIELD vs ac power\nplt.figure(dpi=(100), figsize=(15,5))\nsns.regplot(x='AC_POWER', y='NEW_DAILY_YIELD', data=sensorData)\nplt.title('Regression plot')","51773c01":"#we plot New DAILY YIELD vs IRRADIATION\nplt.figure(dpi=(100), figsize=(15,5))\nsns.regplot(x='IRRADIATION', y='NEW_DAILY_YIELD', data=sensorData)\nplt.title('Regression plot')","815fe5fb":"#we plot New DAILY YIELD vs ac power\nplt.figure(dpi=(100), figsize=(15,5))\nsns.regplot(x='MODULE_TEMPERATURE', y='NEW_DAILY_YIELD', data=sensorData)\nplt.title('Regression plot')","d1ebac7f":"#we plot New DAILY YIELD vs DELTA TEMPERATURE\nplt.figure(dpi=(100), figsize=(15,5))\nsns.regplot(x='DELTA_TEMPERATURE', y='NEW_DAILY_YIELD', data=sensorData)\nplt.title('Regression plot')","efe8f9fa":"#we plot New TOTAL YIELD vs New daily yield\nplt.figure(dpi=(100), figsize=(15,5))\nsns.regplot(y='NEW_TOTAL_YIELD', x='NEW_DAILY_YIELD', data=sensorData)\nplt.title('Regression plot')","887180b6":"#we plot New TOTAL YIELD vs New daily yield\nplt.figure(dpi=(100), figsize=(15,5))\nsns.regplot(y='NEW_AC_POWER', x='NEW_MODULE_TEMPERATURE', data=sensorData)\nplt.title('Regression plot')","46096ce0":"data gives us a logistics-like function but after ``18:00`` the energy decrease slowly; suddenly at ``00:00`` breakdown.","06f94c36":"In plant two, dc power = ac power, Inverter lost 0% of the power.","f4655388":"**We learn**\n\nNEW_DAILY_YIELD are positive and negative along the variation of irradiation","590842bc":"# Visualization and further exploration\n\nIn this notebook, we seek to understand the behaviour of two solar power plants through the data generated by the photovoltaic modules. To do so, we will talk about:\n\n1. **Reminder on photovoltaic systems or PV systems**\n2. **EDA on:**\n    - ***DC and AC power***\n    - ***Irradiation***\n    - ***ambient and module temperature***\n    - ***yield***\n3. **Correlation of all features**\n4. **Comparison of two power plants** ","b45cf4ab":"## Plant I: Solar Power Generation data\n\nPlant contains 22 inverters where each inverter are connected with several PV array. Every 15 min, each inverter records his data. So, if we want to know how many the plant has produced a power in a hour, we just compute the contribution of 22 inverters. ","faf93106":"**Which date ambient temperature mean is maximun?**","7337a2a2":"## **``Daily Yield``**","94a9f9e6":"Between ``08:20`` and ``16:40``, we obtain each 15min, **$new yield > 2500$** with fluctuation.","a663c41f":"**Comment**\n\nMay month's have: 2 huges hot date 21 and 29. ","c55e646e":"Plant 1 produces dc power 6 time than plant 2 in daily","59e78067":"**General Conclusion**\n\nthroughout this notebook, we can say that\n1. plant I produces 6 times more DC power than plant II. And loses 90% of it when converting to AC power.\n2. While Plant II loses nothing when converting DC power to AC power.\n\n3. AC power output is almost the same for both plants.\n\n4. The daily yield is almost the same for the two plants.\n\n5. The gap between The average total yield for plant I and plant II is very large. \n\n6. Daily yield decrease if delta temperature is less than 5\u00b0C.\n\n7. Daily yield decrease for some value of AC power.\n\nEND.\n\n**Be free to comment, share and download, give your opinion for this work. Thanks**","11495180":"**comment**\n\n``IRRADIATION`` of Module and Heat Transfert between ambient air and Module are very well correlated.","f9a64934":"## **``DC Power``**","397ebfab":"**Comment**\n\nDC_Power increase with IRRADIATION.\n\nWhat happens if I introuduce a difference Temperature between ``AMBIENT_TEMPERATURE`` AND ``MODULE_TEMPERATURE``.","357eb932":"**comment**\n\n``DC_POWER`` is produced linearly by ``MODULE_TEMPERATURE`` with some variability. ","c63e9956":"## Plant_1: Weather Sensor Data","15b88652":"In plant II, ``TOTAL_YIELD`` is opposite with all feature except ``DAILY_YIELD``.","9955b67f":"**Comment**\n\nThis graph said that inverter convert dc power to ac power linearly. $dc power = 10*ac power$ inverter lost 90% of their power when it convert. ","429471b4":"Almost all the curves are the same despite some fluctuation between 11 am and 2 pm. except the curve of May 20 and 25 which gives a uniform shape.","458c9225":"## Ambient Temperature: seasonal, trend and residual.","0cf733c7":"**Daily Yield each day**","9e44820c":"As we can see some daily_yield date (``2020-02-06``, ``2020-05-19``,...) have a logistic shape  with missing values but others have not.","bb574841":"### ``Irradiation``","263ce25a":"Every 15 min data is recorded. After 15 min, we get a **new yield**. To compute this new yield it is just this formula:\n\n``new yield = next yield - previous yield``. It is a difference equation that ``.diff()`` pandas function can help us to compute it.","0907d716":"Between 05:33:20 and 18:00:00, the Plant produces a dc power but otherwise there is null. The reason is sunlight. ","8efbbffe":"For each day, the daily yield change. some day is high. The observation of all boxes is good, outlier does not exist. \n\nFor further details see\nWikipedia's entry for [``boxplot``](<https:\/\/en.wikipedia.org\/wiki\/Box_plot>).","8aa7baa2":"The two plants are almost the same ac power","2ecd3dcb":"Only two days have an outlier **2020-03-06** and **2020-05-21**. ","d373f0c7":"New AC Power is the change of previous and next AC Power produced in the time. We have more AC Power only if New Module Temperature is between -5 and 5. ","3ba0f6ab":"I create five new feature DELTA_TEMPERATURE, NEW_DAILY_YIELD, NEW_TOTAL_YIELD, NEW_AMBIENT_TEMPERATURE and NEW_MODULE_TEMPERATURE.\n\ndelta temperature = ambient temperature - module temperature. All other new variable is just the first derivative in time.\n\n1. New daily yield is the next daily yield - previous daily yield.\n2. new total yield is the next total yield - previous total yield\n3. new ambient temperature is the next ambient temperature - previous ambient temperature.\n\nand so on, do not forget that it is after 15 min of each daily ","1bcc18d2":"**Comment**\n\n``DAILY_YIELD`` is not correlated with all feature but  ``AMBIENT_TEMPERATURE`` is moreless correlated.\n\n``TOTAL_YIELD`` is also not correlated with all feature. I remove it in the correlation matrix. ","7da78d1b":"**We learn**\n\nfor MODULE_TEMPERATURE < 30\u00b0C, NEW_DAILY_TEMPERATURE is negative. This means that PV panel product the energy if temperature is around 35\u00b0C. ","c61ecf5b":"**comment**\n\nDC_power increases non linearly with an Ambient_Temperature.","0b2658ce":"Plant I and plant II have almost same daily yield but certain days, they are differents","d9106e8b":"## Comparison of two power plants\n\n### Plant 1 data vs Plant2 data","e2969f94":"**Comment**\n\n1. Sunday 17 May 2020 to Monday 18 May 2020, the ambient Temperature decreases to 10%.\n\n2. Monday 18 May 2020 to Tuesday 19 May 2020, the ambient Temperature increases to 15% and tomorrow decreases to 5%.\n\n3. Wednesday 20 May 2020 to Thursday 21 May 2020, the ambient Temperature increases to 10% and tomorrow decreases to 15%.\n\n4. June month's, the ambiant Temperature %change stabilize between -2.5 and 2.5%. ","078bf203":"## correlation for PLANT II","542c20b4":"**We learn**\n\n1. AC_POWER < 5000 KW, the NEW_DAILY_YIELD is negative.\n2. AC_POWER between 5000 KW and 12000 KW, NEW_DAILY_YIELD is both positive and negative\n3. AC_POWER > 12000 KW is positive.","d16e24ac":"Plant I and Plant II have same  IRRADIATION  distribution between 05:33:20 and 18:00:00","dce96dbc":"**N.B** Thursday 21 May 2020 is a date where plant 1 are:\n\n1. more produce dc power.\n\n2. ambient temperature, module temperature are maximun.\n\nThis date is very special.","91f7a70d":"Only **``2020-05-25``** dc power is maximun.","81a21599":"**``Cleaning data``**\n\nI convert ``DATE_TIME`` object type to datetime type. After I separate ``DATE_TIME`` to **date** and **time**","b775b0aa":"**Comment**:\n\nIn May, ambiant Temperature in Plant 1 was between 24 and 30\u00b0C, this means that May was very hot. But in June ambiant Temperature decreases considerately between 24 and 26\u00b0C.\n\nIn the next cell, we will seek how % change of ambient Temperature is.","06e4fcaa":"### EDA for   ``Ambient Temperature``, ``Module Temperature`` and ``Irradiation``\n\nHere, we do\n\n1. Line or scatter plot\n\n2. %change.\n\n3. Box and Whisker plot\n\n4. calendar plot\n\n5. Bar chart.\n\n6. Lag plot","8c8fc0ab":"Each date plant1 is huge to produce a dc power but plant 2 reach almost 1 GW.","372d092d":"The gap between average total yield for plant II and average total yield for plant I for each date is very large. ","e617d049":"**short conclusion**\n\nIn this section, we conclude that:\n\n1. Yield does not depend on the Temperature, the dc\/ac power and irradiation.\n\n2. the transfert function between dc and ac power is linear.\n\n3. dc power is indeed influenced by the ambient temperature, by the temperature of the module, by the irradiation and finally by the heat transfer between the module and the air.\n\n4. all 22 Inverters of Plant I lost 90% of their dc power when it convert.","bdb294a7":"**Comment**\n\nseasonality of ambient Temperature is the **7 days** to see a maximun of temperature.  ","af8c3d35":"# Correlation\n\nIn this part, we are making correlation between feature to see how some feature can explain another feature. or see relation between them.","ff87ae37":"## Reminder on PV systems\n\n<center>\n<img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/a\/a0\/From_a_solar_cell_to_a_PV_system.svg\" width=\"450\"><br\/>\n<\/center>\n\n\n**``PV system``** is a power system designed to supply usable solar power by means of photovoltaics.\n\n\n**``PV Cell``** is an electrical device that converts the energy of light directly into electricity by the photovoltaic effect, which is a physical and chemical phenomenon. It is also the basics photovoltaic device that is the building block PV modules.\n\n**``Photovoltaic effect``**  is the generation of voltage and electric current in a material upon exposure to light.\n\n**``PV module``** is a group of PV cell connected in serie and\/or parallel and encapsulated in an environmentally protective laminate.\n\n**``PV panel``** is a group of modules that is the basic building block of a PV array.\n\n**``PV array``** is a group of panels that comprises the complete PV generating unit.\n\n### PV inverter\n\n<center>\n<img src=\"https:\/\/www.futuregenerationenergy.ie\/wp-content\/uploads\/2017\/03\/santnu_new.jpg\" width=\"450\"><br\/>\n<\/center>\n\n**``PV inverter``** convert battery or PV array DC power to AC power for use with conventional utility-powered appliances. It is heart of PV systems because PV array is a DC source, an inverter is required to convert the dc power to normal ac power that is used in our homes and offices.\n\nPV systems are very influenced by weather condition, if the weather is good, we get a maximun yield but if the weather is bad, we get a minimun yield. That is why there is important to know how weather condition can impact on yield of the two solar power plants.\n\n**Source**\n- [Photovoltaic(PV) Tutorial](http:\/\/web.mit.edu\/taalebi\/www\/scitech\/pvtutorial.pdf)\n\n- [PV Inverter](https:\/\/www.futuregenerationenergy.ie\/domestic\/solar-pv-inverters\/)\n\n- [PV Systems](https:\/\/en.wikipedia.org\/wiki\/Photovoltaic_system)\n\n\nAccording to the notion of PV systems, the important feature are:\n\n- *DC power*\n\n- *AC power*\n\n- *Yield*\n\n- *ambiant Temperature*\n\n- *module temperature*\n\n- *irradiation*\n\nOkay, let's go to the next section.","8c3864d2":"**comment**\n\nWe know that $\\dot Q \\propto \\Delta T$.So, we could say that ``DC_POWER`` is influenced by heat transfer.","95ac1847":"**Comment**\n\nFour dates contains outliers: **18-05-2020, 30-05-2020, 31-05-2020, 01-06-2020**. The outlier of these 3 dates occurs precisely at interval time $[11:06:40, 16:40]$. see","e0ae150b":"## Plant I weather sensor vs Plant II weather sensor","d66e4071":"### ``Ambient Temperature``","e6d9c95c":"### EDA for ``DC power``, ``AC power`` and ``Yield``.\n\nHere, we use\n\n1. Line or scatter plot\n\n2. change rate.\n\n3. Box and Whisker plot\n\n4. calendar plot\n\n5. Bar chart.","150abf07":"**comment**\n\nwe remark that YIELD does not depend on ``DELTA_TEMPERATURE`` also.","ae101f74":"### ``Module Temperature``","a5b01f43":"**We learn**\n\n1. New daily yield decrease total yield decrease. new daily yield increase, new total yield increase. \n2. new daily yield is zeros, new total yield is zeros","64f5da6a":"Plant I and Plant II are almost same to produce a ac power for each day.","8e230a72":"**We learn**\n\nNEW_DAILY_YIELD is only negative if DELTA_TEMPERATURE < 5\u00b0C. This means that daily yield decrease every 15min if the difference temperature between ambient and module temperature is less than 5\u00b0C."}}