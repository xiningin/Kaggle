{"cell_type":{"de5753b9":"code","2a69fefa":"code","e419395c":"code","18f550fa":"code","f97435d7":"code","79b1bbcc":"code","1639d2f8":"code","66a1f933":"code","ca9809a1":"code","d16245de":"code","5673d381":"code","f27cc56b":"code","4ee1ff85":"code","27d6ed4e":"code","d6bf3205":"code","3170421b":"code","1bc65a49":"code","d78bb2f7":"code","5672c56b":"code","5770c35c":"code","be61e272":"code","bdc5269c":"code","0521272a":"code","af9e114f":"code","035da086":"code","ff8c5ab8":"code","d29c169e":"code","ef137b57":"code","dab3b77e":"code","d42eb767":"code","40651840":"code","f276864f":"code","78c5ee14":"code","d4cdc1cd":"code","3f84f3f4":"code","8f4f07d4":"code","38df08f3":"code","6088f866":"markdown","4780a1f6":"markdown","fb65db19":"markdown","5e0adcb4":"markdown","328a7088":"markdown","04fefc89":"markdown","a26455c7":"markdown","e1683888":"markdown","62e7b691":"markdown","bf83a83e":"markdown","7f6a01a3":"markdown","7cd3ba78":"markdown","677ada43":"markdown","c0a35ef9":"markdown","e5824dab":"markdown"},"source":{"de5753b9":"import pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np \n","2a69fefa":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e419395c":"raw_data=pd.read_csv(r'..\/input\/atlantacrimedata\/atlcrime.csv')\nraw_data.head()","18f550fa":"raw_data.columns","f97435d7":"raw_data.drop(['Unnamed: 0','location'],axis=1,inplace=True)","79b1bbcc":"raw_data.info()","1639d2f8":"data=raw_data.drop(['npu','beat','number'],axis=1)","66a1f933":"data.dropna(inplace=True)","ca9809a1":"data.head()","d16245de":"data['date']=pd.to_datetime(data['date'])\ndata.sort_values(by='date',inplace=True)","5673d381":"data.reset_index(drop=True,inplace=True)","f27cc56b":"sns.set(rc={'figure.figsize':(7,7)})\n","4ee1ff85":"data.groupby('crime').count()[['date']].sort_values(by='date').plot(kind='barh')\nplt.xlabel('crime numbers')\nplt.title('CRIMES');","27d6ed4e":"data['date'].min(),data['date'].max()","d6bf3205":"sns.set(rc={'figure.figsize':(15,7)})\n","3170421b":"data.groupby('date').count().resample('M').sum()[['crime']].plot()\nplt.ylabel('crime number');\nplt.title('crime numberes changing over time');","1bc65a49":"#whcih time of the year has more crimes \ndata['month'] = pd.DatetimeIndex(data['date']).month\ndata['day'] = pd.DatetimeIndex(data['date']).day\n","d78bb2f7":"sns.countplot(x='month', data=data,color='r')","5672c56b":"sns.set(rc={'figure.figsize':(7,12)})\n","5770c35c":"df=data.groupby(['crime','date']).count()[['lat']]","be61e272":"df.reset_index('crime').groupby('crime', group_keys=False).resample('3M').sum().pad()","bdc5269c":"new=df.reset_index('crime').groupby('crime', group_keys=False).resample('3M').sum().pad()\ncol=df.reset_index('crime').groupby('crime', group_keys=False).resample('3M').pad()[['crime']]\n#resampling the date in multiindex ","0521272a":"crime=pd.concat([new, col], axis=1)","af9e114f":"g = sns.FacetGrid(crime, col=\"crime\",col_wrap=4,sharey=False)\ng.map_dataframe(sns.lineplot,\"date\",\"lat\", data=crime);\ng.set_titles(col_template=\"{col_name} patrons\", row_template=\"{row_name}\");\ng.set_xticklabels(rotation=35)\n","035da086":"sns.set(rc={'figure.figsize':(10,10)})\n","ff8c5ab8":"data.plot.scatter(y='lat',x='long');","d29c169e":"sns.set(rc={'figure.figsize':(7,7)})\n","ef137b57":"#crime distrubiton in atlanta \ndef show(crime):\n    data[['cri']]=(data[['crime']] == crime) * 1\n    if data['cri'].sum() > len(data)\/50:\n        a=0.1\n    else:\n        a=1\n    return data.plot.scatter(y='lat',x='long',c='cri',alpha=a,title=crime);","dab3b77e":"col=data['crime'].unique()\nfor i in col:\n    show(i)","d42eb767":"data.head()","40651840":"location=data[['lat','long']]","f276864f":"df=pd.get_dummies(data[['crime']])","78c5ee14":"new_df=pd.concat([df, location], axis=1)","d4cdc1cd":"crime_uni=new_df.columns","3f84f3f4":"X=new_df[['lat', 'long']]","8f4f07d4":"df=pd.read_csv('..\/input\/atlantacrimedata\/filename.csv')","38df08f3":"df.plot.scatter(y='lat',x='long',c='new_col');","6088f866":"![image.png](attachment:image.png)","4780a1f6":"*** 0 : for the safest , while the 1 : for the most dangerous *** \n\n***the safest place is the North West ***","fb65db19":"# I think I've finished with the time series analysis ain't nothing to do more , still open for new ideas ","5e0adcb4":" * ***AGG assault **** is kind of decressing \n * ***Auto theft **** is kind of decressing\n *  ***burglary-noneres **** is decressing\n *  ***Homicide **** is increasing \n *  ***larceny-from vehicle **** was decressing then increaed \n *  ***larceny-non vehicle **** is decressing\n *  ***Rape **** is increasing big time \n *  ***robbery-commercial ****  kinda decressing\n *  ***robbery-pedestrian **** is decressing \n *  ***robbery-residence **** is decressing\n \n### to make a long story short ,all crimes going down excpet for Rape and Homoicide are increasing Big time","328a7088":"### time sreies ","04fefc89":"### over view ### ","a26455c7":"## main goals : ##\n\n### -time series chaning ####\n\n### -clustering Atlanta into safe and non safe places  ### ","e1683888":"***larceny-from vehcial*** : Stationed in the nordic middler \n\n***larceny-Non vehcial*** : a few random spots\n\n***auto theft*** : not specific \n\n***burgalry-resdience*** : pretty much Stationed  expet for middle is the safest\n\n***burgalr-nonres*** : not specific  \n\n***AGG assault*** : in the westic middle , and the south \n\n**robbery pedestrain*** :not specific\n\n**Robbery-residance** : It is common in specific places\n\n**rape** : It is common in specific places\n\n**robery** : It is common in specific places\n\n**Homicide** : It is common in specific places","62e7b691":"\n* as we see that the crime numbers drop in the first months of the Year \n\n* well in the middle it reaches its peak \n\n**the over trend is going in decreasing *** ","bf83a83e":"it started 2009 ended in 2017 ","7f6a01a3":"**1 , 7 , 12** highest in crime\n\n**2** is the lowest ","7cd3ba78":"* the larceny from vehicle is seizing the first place ","677ada43":"### Location","c0a35ef9":"### cluster the city into zones : ","e5824dab":"using the HBSCAN model to dseprate safe places from danger places\n\n*** used the google colab for this part as my pc couldn't handle it *** "}}