{"cell_type":{"3b86a2f7":"code","b01932c5":"code","7f409842":"code","f63ef245":"code","5cdc0229":"code","8cae9eb6":"code","26b4d72c":"code","224b9ec1":"code","381843d4":"code","a5206b20":"code","c9754bb2":"code","14a3b7fa":"code","986659a5":"code","b324d556":"code","6d00a37c":"code","a43bf295":"code","700f00cd":"code","fe908392":"code","04b1c911":"code","22b98142":"code","3e2b1017":"code","03e62b7c":"code","c17e677e":"code","d26e8eb8":"code","3924cf39":"code","456ee331":"code","eb98ca4c":"code","4ed96645":"markdown","c65c54de":"markdown","1384fe36":"markdown","ee2a3370":"markdown","dfd62481":"markdown","2ea6f39c":"markdown","002e532c":"markdown","12132c02":"markdown","f8e885a5":"markdown","3eedc95f":"markdown","3a6f234b":"markdown"},"source":{"3b86a2f7":"# General and EDA\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits import mplot3d\nimport seaborn as sns\n\n# Preprocessing\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import MinMaxScaler\n\n# ML Algorithms\nfrom sklearn.neighbors import KNeighborsRegressor\n\n# Metric\nfrom sklearn.metrics import mean_absolute_error","b01932c5":"df = pd.read_csv(\"..\/input\/california-housing-prices\/housing.csv\")\ndf","7f409842":"df.info()","f63ef245":"df.describe()","5cdc0229":"df[df['total_bedrooms'].isnull()==True]","8cae9eb6":"df.dropna(axis=0, inplace=True)","26b4d72c":"df.reset_index(drop=True, inplace=True)\ndf","224b9ec1":"df.info()","381843d4":"df['median_house_value'].hist()","a5206b20":"# Binning median_house_value  \ndf['housing_category'] = pd.cut(df['median_house_value'], bins=4, labels=['Low', 'Mid', 'High', 'Lavish'])\ndf","c9754bb2":"plt.figure(figsize=(25,9))\nsns.scatterplot(x='latitude', y='longitude', hue='housing_category', data=df)","14a3b7fa":"# Data fremes for each category og houses\ndflow = df.loc[df['housing_category']=='Low']\ndfmid = df.loc[df['housing_category']=='Mid']\ndfhigh = df.loc[df['housing_category']=='High']\ndflavish = df.loc[df['housing_category']=='Lavish']","986659a5":"plt.figure(figsize=(20,10))\nplt.plot(dflow['latitude'], dflow['longitude'], 'o', label='Low')\nplt.plot(dfmid['latitude'], dfmid['longitude'], 'o', label='Mid')\nplt.plot(dfhigh['latitude'], dfhigh['longitude'], 'o', label='High')\nplt.plot(dflavish['latitude'], dflavish['longitude'], 'ko', label='Lavish')\nplt.legend()","b324d556":"plt.figure(figsize=(15,5))\nplt.subplot(121)\nsns.scatterplot(x='latitude', y='median_house_value', hue='housing_category', data=df)\nplt.subplot(122)\nsns.scatterplot(x='longitude', y='median_house_value', hue='housing_category', data=df)","6d00a37c":"plt.figure(figsize=(15,15))\nax = plt.axes(projection='3d')\nax.scatter3D(dflow['latitude'], dflow['longitude'], dflow['median_house_value'])\nax.scatter3D(dfmid['latitude'], dfmid['longitude'], dfmid['median_house_value'])\nax.scatter3D(dfhigh['latitude'], dfhigh['longitude'], dfhigh['median_house_value'])\nax.scatter3D(dflavish['latitude'], dflavish['longitude'], dflavish['median_house_value'])\nax.set_xlabel('Latitude')\nax.set_ylabel('Longitude')\nax.set_zlabel('Median_house_value')","a43bf295":"sample1 = df.loc[(df['latitude']>=34) & (df['latitude']<=34.02)]\nsample1","700f00cd":"sample1low = sample1.loc[sample1['housing_category']=='Low']\nsample1mid = sample1.loc[sample1['housing_category']=='Mid']\nsample1high = sample1.loc[sample1['housing_category']=='High']\nsample1lavish = sample1.loc[sample1['housing_category']=='Lavish']","fe908392":"plt.figure(figsize=(15,15))\nax = plt.axes(projection='3d')\nax.scatter3D(sample1low['latitude'], sample1low['longitude'], sample1low['median_house_value'])\nax.scatter3D(sample1mid['latitude'], sample1mid['longitude'], sample1mid['median_house_value'])\nax.scatter3D(sample1high['latitude'], sample1high['longitude'], sample1high['median_house_value'])\nax.scatter3D(sample1lavish['latitude'], sample1lavish['longitude'], sample1lavish['median_house_value'])\nax.set_xlabel('Latitude')\nax.set_ylabel('Longitude')\nax.set_zlabel('Median_house_value')","04b1c911":"sns.heatmap(df.corr(), annot=True, cmap='Blues')","22b98142":"sns.heatmap(df.corr(method='spearman'), annot=True, cmap='Blues')","3e2b1017":"sns.heatmap(df.corr(method='kendall'), annot=True, cmap='Blues')","03e62b7c":"X = df.drop(['median_house_value', 'housing_category', 'ocean_proximity'], axis=1)\ny = df['median_house_value']","c17e677e":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.33, random_state=42)","d26e8eb8":"scaler = MinMaxScaler()\nscaler.fit_transform(X_train)\nscaler.fit_transform(X_test)","3924cf39":"neigh = KNeighborsRegressor(n_neighbors=10, weights='uniform', algorithm='auto', p=1)\nneigh.fit(X_train, y_train)","456ee331":"y_train_pred = neigh.predict(X_train)\nmean_absolute_error(y_train, y_train_pred)","eb98ca4c":"y_pred = neigh.predict(X_test)\nmean_absolute_error(y_test, y_pred)","4ed96645":"**<font color='red'>\n    House prices are binned by 4 categories to visulize price of its surrounding homes.\n<\/font>**","c65c54de":"---","1384fe36":"# Easy Housing Model","ee2a3370":"# EDA","dfd62481":"# KNN Regressor","2ea6f39c":"**<font color='red'>\nAs in above graph black dots are first surrounded by green dots, green dots first surrounded by orange.\n    <font>**","002e532c":"# Housing Category","12132c02":"\n**<font color='red'>\nWe all know that most influancing factor for house prise is price range of neighbour and price trend in area also. On this fact I am trying to build predictiove model. In this housing dataset lat, long coordinates are given so it becomes easy.<\/font>**\n","f8e885a5":"**<font color='red'>\nPrice predictions based on 10 nearest house prices and its other features.\n    <font>**","3eedc95f":"# Data","3a6f234b":"# Imports"}}