{"cell_type":{"c88b390a":"code","90294046":"code","042088d6":"code","b0ee737f":"code","3ccb91fc":"code","494e211b":"code","a4774719":"code","16512e19":"code","40d2fd2f":"code","da4a9690":"code","1da256b1":"code","85a920b1":"code","ff8d4934":"code","0a04423e":"code","ad6c42cb":"code","6111def1":"code","80018bcb":"code","eeb11f30":"code","b7f53c63":"code","a364ba7f":"code","f06235bb":"code","bf399407":"code","b2f3f9a0":"code","0b5c7218":"code","dd2f6063":"code","c85644d0":"code","8ca78fe6":"code","c77bb36c":"code","e82331ef":"code","5b3e64ef":"code","2fcc3ae4":"code","0f17d173":"code","79502267":"code","a4003d36":"code","368b2b5f":"code","39ed2010":"code","5e2b2a87":"code","c60ace0e":"code","97d30fea":"code","a41c7cf0":"code","16b2ace9":"code","34bfb7b6":"code","2d8d72c3":"code","c16dad41":"code","e6804bf3":"markdown","2ad3b4b6":"markdown","0709bfa2":"markdown","9262dd95":"markdown","4e1e5815":"markdown","cdf5c386":"markdown","50a6148e":"markdown","5d72feaf":"markdown","88a03423":"markdown","99cad653":"markdown","7621ec20":"markdown","330d40dc":"markdown","f829198e":"markdown"},"source":{"c88b390a":"!pip install langdetect\n!pip install vaderSentiment","90294046":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom sklearn.feature_extraction.text import TfidfVectorizer, CountVectorizer, ENGLISH_STOP_WORDS\nimport math\nimport seaborn as sns\nimport nltk\nfrom vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nfrom langdetect import detect_langs","042088d6":"df = pd.read_csv(\"..\/input\/app-store-meditation-app-reviews\/appstore_calm_us.csv\")","b0ee737f":"df.head()","3ccb91fc":"df.info()","494e211b":"df.describe()","a4774719":"df.drop(\"Unnamed: 0\", axis = 1, inplace = True)","16512e19":"df['year'] = pd.DatetimeIndex(df['date']).year\ndf['month'] = pd.DatetimeIndex(df['date']).month\ndf['day'] = pd.DatetimeIndex(df['date']).day\ndf = df.drop(columns=[\"date\"])\ndf.head()","40d2fd2f":"from nltk import word_tokenize\nword_token = [word_tokenize(review) for review in df.review]\nlen_tokens= [] \n\nfor i in range(len(word_token)):\n    len_tokens.append(len(word_token[i]))\n\ndf[\"n_tokens\"] = len_tokens\ndf.head()","da4a9690":"plt.hist(len_tokens, range=[0, 300], facecolor='pink');","1da256b1":"df.info()","85a920b1":"# Check if all reviews are in English\nlang = [detect_langs(i) for i in df.review]\nlanguage = [str(i).split(\":\")[0][1:] for i in lang]\na = [lan for lan in language if lan != \"en\" ]","ff8d4934":"a # all reviews are in english","0a04423e":"df.groupby(\"rating\").mean()","ad6c42cb":"df[\"year\"].min()","6111def1":"df[\"year\"].max()","80018bcb":"correlation = df.corr()\ncorrelation","eeb11f30":"sns.heatmap(correlation)\nplt.show()","b7f53c63":"sns.catplot(x=\"year\",data=df,kind=\"count\")\nplt.show()","a364ba7f":"sns.catplot(x=\"month\",data=df,kind=\"count\")\nplt.show()","f06235bb":"sns.catplot(x=\"rating\",data=df,kind=\"count\")\nplt.show()","bf399407":"df.rating.value_counts()","b2f3f9a0":"df['review'] = df['review'].str.replace('[^\\w\\s]','')\ndf['review'] = df['review'].str.lower()\ndf.head()","0b5c7218":"df.isna().sum()","dd2f6063":"df_1 = df[(df[\"rating\"] == 1)]\ndf_2 = df[(df[\"rating\"] == 2)]\ndf_3 = df[(df[\"rating\"] == 3)]\ndf_4 = df[(df[\"rating\"] == 4)]\ndf_5 = df[(df[\"rating\"] == 5)]","c85644d0":"text_1 = \" \".join(review for review in df_1.review)\ntext_2 = \" \".join(review for review in df_2.review)\ntext_3 = \" \".join(review for review in df_3.review)\ntext_4 = \" \".join(review for review in df_4.review)\ntext_5 = \" \".join(review for review in df_5.review)","8ca78fe6":"stopwords = set(STOPWORDS)\nstopwords.update([\"meditation\", \"app\", \"meditate\", \"im\", \"meditations\" ,\"thing\", \"calm\", \"dont\", \"really\"])\n\ncloud_1 = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text_1)\ncloud_2 = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text_2)\ncloud_3 = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text_3)\ncloud_4 = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text_4)\ncloud_5 = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text_5)","c77bb36c":"width=5\nheight=5\nrows = 1\ncols = 5\naxes=[]\nfig=plt.figure(figsize=(40, 40))\n\nfor a in range(rows*cols):\n    cloud = [cloud_1, cloud_2, cloud_3, cloud_4, cloud_5]\n    axes.append(fig.add_subplot(rows, cols, a+1) )\n    subplot_title=(\"Word Cloud\"+str(a + 1))\n    axes[-1].set_title(subplot_title)  \n    plt.imshow(cloud[a])\nfig.tight_layout()    \nplt.show()","e82331ef":"df.rating.value_counts()","5b3e64ef":"vect = TfidfVectorizer(max_features = 10,stop_words=stopwords)\ntfIdf = vect.fit(df_1.review)\nX = vect.transform(df_1.review)\nX_df = pd.DataFrame(X.toarray(), columns = vect.get_feature_names())\nX_df.head()","2fcc3ae4":"vect = TfidfVectorizer(max_features = 10, stop_words=stopwords)\ntfIdf = vect.fit(df_2.review)\nX = vect.transform(df_2.review)\nX_df = pd.DataFrame(X.toarray(), columns = vect.get_feature_names())\nX_df.head()","0f17d173":"vect = TfidfVectorizer(max_features = 10, stop_words=stopwords)\ntfIdf = vect.fit(df_3.review)\nX = vect.transform(df_3.review)\nX_df = pd.DataFrame(X.toarray(), columns = vect.get_feature_names())\nX_df.head()","79502267":"vect = TfidfVectorizer(max_features = 10, stop_words=stopwords)\ntfIdf = vect.fit(df_4.review)\nX = vect.transform(df_4.review)\nX_df = pd.DataFrame(X.toarray(), columns = vect.get_feature_names())\nX_df.head()","a4003d36":"vect = TfidfVectorizer(max_features = 10, stop_words=stopwords)\ntfIdf = vect.fit(df_5.review)\nX = vect.transform(df_5.review)\nX_df = pd.DataFrame(X.toarray(), columns = vect.get_feature_names())\nX_df.head()","368b2b5f":"my_stopwords = ENGLISH_STOP_WORDS.union([\"meditation\", \"app\", \"meditate\", \"im\", \"meditations\" ,\"thing\", \"calm\"])","39ed2010":"vectorizer = CountVectorizer(ngram_range=(1,3), max_features = 100, max_df=500, stop_words=my_stopwords)\nvectorizer.fit(df_1.review)\nX = vectorizer.transform(df_1.review)\nX_df = pd.DataFrame(X.toarray(), columns= vectorizer.get_feature_names())\nX_df.columns","5e2b2a87":"pd.set_option(\"max_colwidth\", None)","c60ace0e":"print(df_1[df_1['review'].str.contains(\"ads\")][\"review\"])","97d30fea":"vectorizer = CountVectorizer(ngram_range=(1,3),max_features = 100, max_df=500, stop_words=my_stopwords)\nvectorizer.fit(df_2.review)\nX = vectorizer.transform(df_2.review)\nX_df = pd.DataFrame(X.toarray(), columns= vectorizer.get_feature_names())\nX_df.columns","a41c7cf0":"print(df_2[df_2['review'].str.contains(\"premium\")][\"review\"])","16b2ace9":"vectorizer = CountVectorizer(ngram_range=(1,3),max_features = 100, max_df=500, stop_words=my_stopwords)\nvectorizer.fit(df_3.review)\nX = vectorizer.transform(df_3.review)\nX_df = pd.DataFrame(X.toarray(), columns= vectorizer.get_feature_names())\nX_df.columns","34bfb7b6":"print(df_3[df_3['review'].str.contains(\"different\")][\"review\"])","2d8d72c3":"vectorizer = CountVectorizer(ngram_range=(1,3),max_features = 100, max_df=500, stop_words=my_stopwords)\nvectorizer.fit(df_4.review)\nX = vectorizer.transform(df_4.review)\nX_df = pd.DataFrame(X.toarray(), columns= vectorizer.get_feature_names())\nX_df.columns","c16dad41":"vectorizer = CountVectorizer(ngram_range=(1,3),max_features = 100, max_df=500, stop_words=my_stopwords)\nvectorizer.fit(df_5.review)\nX = vectorizer.transform(df_5.review)\nX_df = pd.DataFrame(X.toarray(), columns= vectorizer.get_feature_names())\nX_df.columns","e6804bf3":"# Data Visualization","2ad3b4b6":"## Rating 3","0709bfa2":"## Import the Libraries","9262dd95":"## Rating 1","4e1e5815":"## Bag of Words","cdf5c386":"## Rating 5","50a6148e":"# Calm (US) App Store","5d72feaf":"## Implementing TF-IDF","88a03423":"# Word Cloud","99cad653":"## Rating 2","7621ec20":"# Analysing Reviews","330d40dc":"# Understanding the Data","f829198e":"## Rating 4"}}