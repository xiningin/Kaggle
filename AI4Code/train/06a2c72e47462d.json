{"cell_type":{"89ff5756":"code","f497a61f":"code","b97c0531":"code","89a7bfdb":"code","7665619d":"code","4d3ed63b":"code","e1ad5e96":"code","a91f2454":"code","5f18d03d":"code","cf3ff59d":"code","b137c269":"code","11b4d2f6":"code","c942c01b":"code","19ac24ef":"code","b0635fea":"code","d2cc710c":"code","0190f50e":"code","422ab7d9":"code","656cab93":"code","5ac147c0":"code","19b7c97d":"code","6895c56c":"markdown","5bd7e8d5":"markdown","9d785eb1":"markdown","7742e978":"markdown","786363d9":"markdown","defe3efa":"markdown","e9ee7894":"markdown","ed6014ef":"markdown","a1da6aab":"markdown","75923c49":"markdown","10ed6c32":"markdown","592a90d0":"markdown","6d97726b":"markdown","a1511223":"markdown","30509672":"markdown","a1426265":"markdown","4de25249":"markdown","d346d46c":"markdown","21481c4a":"markdown"},"source":{"89ff5756":"import numpy as np\nimport pandas as pd \nimport fuzzywuzzy \nfrom fuzzywuzzy import process\nimport sys\nimport warnings\nwarnings.filterwarnings(\"ignore\") # For ingnoring warnings\nnp.set_printoptions(threshold=sys.maxsize)\npd.set_option('display.max_rows', None,'display.max_columns', None,'display.width', None,'display.max_colwidth', -1)","f497a61f":"NA2 = pd.read_csv(\"..\/input\/predict-pakistan-elections-2018\/National Assembly 2002 - Updated.csv\",encoding='ISO-8859-1')\nNA8 = pd.read_csv(\"..\/input\/predict-pakistan-elections-2018\/National Assembly 2008.csv\",encoding='ISO-8859-1')\nNA13 = pd.read_csv(\"..\/input\/predict-pakistan-elections-2018\/National Assembly 2013 - Updated(v11).csv\",encoding='ISO-8859-1')\nprint(\"Data Dimensions are:\",NA2.shape)\nprint(\"Data Dimensions are:\",NA8.shape)\nprint(\"Data Dimensions are:\",NA13.shape)","b97c0531":"print(\"NA 2002\")\nNA2.info()\nprint(\"NA 2008\")\nNA8.info()\nprint(\"NA 2013\")\nNA13.info()","89a7bfdb":"print(NA2.head())\nprint(NA8.head())\nprint(NA13.head())","7665619d":"NA8.rename(columns={\"Unnamed: 0\":\"District\"},inplace=True)","4d3ed63b":"NA8.head()","e1ad5e96":"NA8[\"District\"] = NA8[\"Seat\"].str.split(\"-\",expand=True) # Extracting Districts from Seat column\nNA8[\"District\"] = NA8[\"District\"].str.lower()\n# To remove useless characters from column\nNA8[\"District\"] = NA8[\"District\"].str.replace(\"(\",\"\")\nNA8[\"District\"] = NA8[\"District\"].str.replace(\".\",\" \")\nNA8[\"District\"] = NA8[\"District\"].str.replace(r\"\\(.*\\)\",\"\")\nNA8[\"District\"] = NA8[\"District\"].str.replace(\"^a-zA-Z -\",\"\")\nNA8[\"District\"] = NA8[\"District\"].str.replace(r\"-.*\",\"\")\nNA8[\"District\"] = NA8[\"District\"].str.replace(r\" (XX|IX|X?I{0,3})(IX|IV|V?I{0,3})$\", '')\nNA8[\"District\"] = NA8[\"District\"].str.replace(r\"Cum.*\",\"\")\nNA8[\"District\"] = NA8[\"District\"].str.replace(r\"cum.*\",\"\")\nNA8[\"District\"] = NA8[\"District\"].str.replace(r\"KUM.*\",\"\")\nNA8[\"District\"].unique()","a91f2454":"NA13.insert(0,\"District\",np.arange(len(NA13.Seat))) # Adding District column\nNA13[\"District\"] = NA13[\"Seat\"].str.split(\"-\",expand=True)\nNA13[\"District\"] = NA13[\"District\"].str.lower()\n# To remove useless characters from column\nNA13[\"District\"] = NA13[\"District\"].str.replace(\"(\",\"\")\nNA13[\"District\"] = NA13[\"District\"].str.replace(\".\",\" \")\nNA13[\"District\"] = NA13[\"District\"].str.replace(r\"\\(.*\\)\",\"\")\nNA13[\"District\"] = NA13[\"District\"].str.replace(\"^a-zA-Z -\",\"\")\nNA13[\"District\"] = NA13[\"District\"].str.replace(r\"-.*\",\"\")\nNA13[\"District\"] = NA13[\"District\"].str.replace(r\" (XX|IX|X?I{0,3})(IX|IV|V?I{0,3})$\", '')\nNA13[\"District\"] = NA13[\"District\"].str.replace(r\"Cum.*\",\"\")\nNA13[\"District\"] = NA13[\"District\"].str.replace(r\"cum.*\",\"\")\nNA13[\"District\"] = NA13[\"District\"].str.replace(r\"KUM.*\",\"\")\nNA13[\"District\"].unique()","5f18d03d":"NA8[\"Turnout\"] = NA8[\"Turnout\"].str.replace(\"%\",\"\")\nNA13[\"Turnout\"] = NA13[\"Turnout\"].str.replace(\"%\",\"\")\nNA8[\"Turnout\"] = pd.to_numeric(NA8[\"Turnout\"])\nNA13[\"Turnout\"] = pd.to_numeric(NA13[\"Turnout\"])","cf3ff59d":"NA2.head()","b137c269":"NA8.head()","11b4d2f6":"NA13.head()","c942c01b":"print(\"NA2\", \"\\n\\n\", NA2.isnull().any())\nprint(\"NA8\", \"\\n\\n\", NA8.isnull().any())\nprint(\"NA13\", \"\\n\\n\" ,NA13.isnull().any())","19ac24ef":"NA13.dropna(inplace= True)","b0635fea":"print(\"NA 2002\")\nNA2.info()\nprint(\"NA 2008\")\nNA8.info()\nprint(\"NA 2013\")\nNA13.info()","d2cc710c":"NA13[[\"TotalValidVotes\",\"TotalRejectedVotes\",\"TotalRegisteredVoters\"]] = NA13[[\"TotalValidVotes\",\"TotalRejectedVotes\",\"TotalRegisteredVoters\"]].astype(dtype=\"int64\")\n","0190f50e":"print(\"\\nNA2\",NA2.columns,\"\\nNA8\",NA8.columns,\"\\nNA13\",NA13.columns)","422ab7d9":"NA2 = NA2.rename(columns={\"Constituency_title\":\"ConstituencyTitle\",\"Candidate_Name\":\"CandidateName\",\"Total_Valid_Votes\":\"TotalValidVotes\"\n                         ,\"Total_Rejected_Votes\":\"TotalRejectedVotes\",\"Total_Votes\":\"TotalVotes\",\"Total_Registered_Voters\":\"TotalRegisteredVoters\"})\nNA2.head()","656cab93":"NA2[\"Year\"] = \"2002\"\nNA8[\"Year\"] = \"2008\"\nNA13[\"Year\"] = \"2013\"","5ac147c0":"df = pd.concat([NA2,NA8,NA13])\nprint(df.shape)\ndf.head()","19b7c97d":"df.isnull().any()","6895c56c":"## Checking Info Again","5bd7e8d5":"## Concatenating All Data","9d785eb1":"### Checking Columns Names ","7742e978":"### Removing Percentage sign in Turnout\nTo change data type to float\n","786363d9":"## Setting Our Envoirnment","defe3efa":"In NA8 and NA13 **District** columns is missing","e9ee7894":"## Loading Data","ed6014ef":"**Droping NaN rows**","a1da6aab":"If you find it helpful, **please upvote!!!**","75923c49":"### Checking NaN values","10ed6c32":"### Renaming first column of NA8","592a90d0":"#### NA2 column names are diffrent\nChanging column names","6d97726b":"## Coverting Data type","a1511223":"## Data Info","30509672":"NA8 and NA13 data types are not correct","a1426265":"### Let's review Data","4de25249":"# Next Step:\n*  Removing inconsistencies in Data\n  ","d346d46c":"### Adding Year Columns","21481c4a":"All seems good"}}