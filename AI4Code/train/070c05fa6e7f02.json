{"cell_type":{"cd22292f":"code","acf55bca":"code","0d3cbddc":"code","56f30d5c":"code","15344a79":"code","7d310084":"code","4e953ac0":"code","f659f21b":"code","b15f41a3":"markdown","cfea8ffe":"markdown","5b7e6317":"markdown","628655b5":"markdown","1ae77cbb":"markdown","e3fe7264":"markdown","1c4baba9":"markdown","c4927280":"markdown","d0de9d48":"markdown","ef3247ed":"markdown","a907d27b":"markdown","6d78ce5c":"markdown","cfb34926":"markdown","f3c4a028":"markdown","e7a05b62":"markdown","b9f5fa02":"markdown","7f45117c":"markdown","e94df634":"markdown","bb807e17":"markdown","a2de3df7":"markdown","afa92c07":"markdown"},"source":{"cd22292f":"%%html\n<style>\n  table {margin-left: 0 !important;}\n<\/style>","acf55bca":"import pandas as pd\nimport numpy as np\n\npd.set_option('display.max_rows', 30)\npd.set_option('display.max_columns', 30)\npd.set_option(\"display.precision\", 3)\npd.set_option('display.expand_frame_repr', False)\n\ndtype = {'INDEX': np.int32, \n         'DATA INICIAL': np.object, \n         'DATA FINAL': np.object,\n         'REGI\u00c3O': 'category', \n         'ESTADO': 'category', \n         'PRODUTO': 'category',\n         'N\u00daMERO DE POSTSOS PESQUISADOS': np.int32, \n         'UINDADE DE MEDIDA': 'category', \n         'PRE\u00c7O M\u00c9DIO REVENDA': np.float64,\n         'DESVIO PADR\u00c3O REVENDA': np.float64, \n         'PRECO M\u00cdNIMO REVENDA': np.float64, \n         'PRECO M\u00c1XIMO REVENDA': np.float64,\n         'MARGEM M\u00c9DIA REVENDA': np.float64, \n         'COEF DE VARIA\u00c7\u00c3O REVENDA': np.float64, \n         'PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O': np.float64,\n         'DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O': np.float64, \n         'PRE\u00c7O M\u00cdNIMO DISTRIBUI\u00c7\u00c3O': np.float64, \n         'PRE\u00c7O M\u00c1XIMO DISTRIBUI\u00c7\u00c3O': np.float64,\n         'COEF DE VARIA\u00c7\u00c3O DISTRIBUI\u00c7\u00c3O': np.float64}\n\ndf_prices = pd.read_csv('https:\/\/raw.githubusercontent.com\/ldaniel\/Advanced-Statistical-Modelling\/master\/data\/raw\/data_gasPricesBR_2004-2019.tsv', \n                        sep = '\\t',\n                        dtype = dtype,\n                        names = list(dtype),\n                        skiprows = 1,\n                        usecols = list(dtype),\n                        index_col = 'INDEX',\n                        na_values = ['-'],\n                        parse_dates = ['DATA INICIAL', 'DATA FINAL'])\n\ndf_prices.head()","0d3cbddc":"df_prices.info()","56f30d5c":"df_prices.isnull().sum(axis = 0)","15344a79":"df_prices['ANO'] = pd.DatetimeIndex(df_prices['DATA INICIAL']).year\ndf_prices['MES'] = pd.DatetimeIndex(df_prices['DATA INICIAL']).month\ndf_prices['SEMANA'] = pd.DatetimeIndex(df_prices['DATA INICIAL']).week\ndf_prices[['DATA INICIAL', 'DATA FINAL', 'ANO', 'MES', 'SEMANA']]","7d310084":"df_gas_sp = df_prices[(df_prices['PRODUTO'] == 'GASOLINA COMUM') & \n                      (df_prices['ESTADO'] == 'SAO PAULO')].groupby(['PRODUTO', 'ESTADO', 'ANO'])\n\ndf_gas_sp[['ANO','PRE\u00c7O M\u00c9DIO REVENDA', 'PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O']].describe(include = [np.float64])","4e953ac0":"%matplotlib inline\n\nimport matplotlib.pyplot as plt\nfrom pandas.plotting import register_matplotlib_converters\nregister_matplotlib_converters()\n\nplt.style.use('default')\nplt.rcParams[\"figure.figsize\"] = (10, 5)\nplt.rcParams.update({'font.size': 10})\n\ndf_plot = df_prices[(df_prices['PRODUTO'] == 'GASOLINA COMUM') & \n                      (df_prices['ESTADO'] == 'SAO PAULO')]\n\nx = df_plot['DATA INICIAL']\ny = df_plot['PRE\u00c7O M\u00c9DIO REVENDA']\n\nfig, ax = plt.subplots()\n\nax.plot(x, y, label = df_plot['PRODUTO'].iloc[0])\n\nplt.title('Hist\u00f3rico de Pre\u00e7o - ' + df_plot['ESTADO'].iloc[0])\nplt.legend()\n\nplt.show()\n","f659f21b":"regions = df_prices['REGI\u00c3O'].unique()\n\nfor region in regions:\n    fig, ax = plt.subplots()\n    df_plot = df_prices[(df_prices['REGI\u00c3O'] == region) & (df_prices['PRODUTO'] == 'GASOLINA COMUM')]\n    estados = df_plot['ESTADO'].unique()\n    for estado in estados:\n        df_plot_est = df_plot[(df_plot['ESTADO'] == estado)]\n        x = df_plot_est['DATA INICIAL']\n        y = df_plot_est['PRE\u00c7O M\u00c9DIO REVENDA']\n        ax.plot(x, y, \n                   label = df_plot_est['ESTADO'].iloc[0],\n                   alpha = 0.5)\n    plt.legend()\n    plt.title('PRE\u00c7O M\u00c9DIO REVENDA - ' + df_plot['REGI\u00c3O'].iloc[0] + ' - ' + df_plot['PRODUTO'].iloc[0])\n    plt.show()","b15f41a3":"Escolhemos trabalhar com o dataset fornecido referente ao [hist\u00f3rico de pre\u00e7os de combust\u00edveis de 2004 a 2019.](https:\/\/www.kaggle.com\/matheusfreitag\/gas-prices-in-brazil)\n\nA ANP (Agencia Nacional de Petr\u00f3leo) publica semanalmente relat\u00f3rios de G\u00e1s, Diesel e outros combust\u00edveis usados no pa\u00eds. \n\nEsta publica\u00e7\u00e3o traz o valor m\u00e9dio, m\u00ednimo e m\u00e1ximo, de revenda e distribui\u00e7\u00e3o, por unidade de medida padr\u00e3o de cada combust\u00edvel, agrupados por regi\u00e3o e unidade da federa\u00e7\u00e3o.\n\nO conjunto de dados apresenta os pre\u00e7os de revenda e distribui\u00e7ao, (m\u00e9dio, m\u00ednimo e m\u00e1ximo), em periodicidade semanal para os seguintes produtos:\n- ETANOL HIDRATADO\n- GASOLINA COMUM\n- GLP\n- GNV\n- \u00d3LEO DIESEL\n- \u00d3LEO DIESEL S10\n\nAl\u00e9m dos pre\u00e7os de revenda e distribui\u00e7ao, (m\u00e9dio, m\u00ednimo e m\u00e1ximo), o conjunto de dados apresneta algumas informa\u00e7\u00f5es adicionais:\n- N\u00famero de postos pesquisados\n- Unidade de medida\n- Desvio pad\u00e3o\n- Margem m\u00e9dia\n- Coeficientes de varia\u00e7\u00e3o","cfea8ffe":"Podemos visualizar os dados utilizando um gr\u00e1fico de linha para um determinado **ESTADO** e **PRODUTO**.","5b7e6317":"<a href=\"https:\/\/colab.research.google.com\/github\/ldaniel\/Advanced-Statistical-Modelling\/blob\/master\/notebooks\/group\/Trabalho%20em%20Grupo.ipynb\" target=\"_parent\"><img src=\"https:\/\/colab.research.google.com\/assets\/colab-badge.svg\" alt=\"Open In Colab\"\/><\/a>","628655b5":"## 3. MONTAGEM DE DATASET: Montar o(s) dataset(s) final(is) para responder as quest\u00f5es.","1ae77cbb":"Podemos fazer um loop por regi\u00e3o e estado e verificar a evolu\u00e7ao dos pre\u00e7os da **GASOLINA COMUM** por **REGI\u00c3O** e **ESTADO**.","e3fe7264":"Agora podemos enriquecer os dados extraindo da **DATA INICIAL** informa\u00e7\u00f5es como ano, m\u00eas e semana.","1c4baba9":"# Enunciado\nEscolha um dentre os seguintes datasets:\n- Gas Prices in Brazil 2004-2019 (compartilhado em sala de aula)\n- Outro da prefer\u00eancia do grupo. <p>\n\nPara o dataset escolhido, deve-se:\n\n1. **CONTEXTO:** Contextualizar brevemente os dados (de que tratam os dados? 1 par\u00e1grafo entre 5 e 10 linhas). <p>\n2. **QUEST\u00d5ES DE NEG\u00d3CIO:** Estabelecer uma quest\u00e3o relevante a ser respondida. <p>\n3. **MONTAGEM DE DATASET:** Montar o(s) dataset(s) final(is) para responder as quest\u00f5es. <p>\n4. **CARACTERIZA\u00c7\u00c3O DE DATASETS:** Caracterizar as colunas (nome, tipo, significado). <p>\n5. **VISUALIZA\u00c7\u00c3O E DISCUSS\u00c3O:** <p>\n<p> a.\tGerar plots que permitam tirar conclus\u00f5es claras dos dados (a quest\u00e3o deve ser suficientemente complexa para que exija minimamente dois gr\u00e1ficos distintos complementares). <p>\n<p> b.\tOs gr\u00e1ficos devem ser interpretados e discutidos, e as conclus\u00f5es acerca dos mesmos e das quest\u00f5es de neg\u00f3cio devem ser apresentadas <p>\n6. **CONCLUS\u00d5ES:** Relembrar a quest\u00e3o levantada e sumarizar as conclus\u00f5es obtidas.\n<p><p>\nO trabalho dever\u00e1 ser desenvolvido em Jupyter notebook e dever\u00e1 ser entregue na data combinada com o professor em formato .ipynb j\u00e1 rodado e com outputs salvos no arquivo entregue. Organize o documento de modo que ele esteja dividido nas 6 se\u00e7\u00f5es propostas acima.\n\n\n","c4927280":"## 2. QUEST\u00d5ES DE NEG\u00d3CIO: Estabelecer uma quest\u00e3o relevante a ser respondida.","d0de9d48":"Vamos iniciar pela importa\u00e7\u00e3o dos dados em um pandas dataframe.\n\nNeste passo nos preocupamos de definir os nomes das vari\u00e1veis bem como o correto ***data type*** de cada coluna.","ef3247ed":"## 4. CARACTERIZA\u00c7\u00c3O DE DATASETS: Caracterizar as colunas (nome, tipo, significado).","a907d27b":"## 5. **VISUALIZA\u00c7\u00c3O E DISCUSS\u00c3O:**","6d78ce5c":"Vamos avaliar algumas caracter\u00edsticas dos dados importados, como data types de cada vari\u00e1vel, missing values,","cfb34926":"Avaliar o comportamentos dos pre\u00e7os de combust\u00edveis correlacionando com informac\u00f5es adicionais como cota\u00e7\u00e3o internacional do barril de petroleo, flutua\u00e7\u00f5es da taxa c\u00e2mbio, altera\u00e7\u00f5es da pol\u00edtica de pre\u00e7os praticados pela Petrobras.","f3c4a028":"# Trabalho em Grupo\n(at\u00e9 4 integrantes)\n\n- **Curso:** FGV MBA - Business Analytics and Big Data\n- **Disciplina:** Modelagem Estat\u00edstica Avan\u00e7ada\n- **Professor:** Rodrigo Marotti Togneri\n\n## Alunos\n|Github|Nome|Matricula|E-mail|\n|---|---|---|---|\n|<a href=\"https:\/\/github.com\/DanielFCampos\"><img src=\"https:\/\/avatars2.githubusercontent.com\/u\/31582602?s=460&v=4\" title=\"DanielFCampos\" width=\"40\" height=\"40\"><\/a>|Daniel Campos|A57635769|[daniel.ferraz.campos@gmail.com](daniel.ferraz.campos@gmail.com)|\n|<a href=\"https:\/\/github.com\/ldaniel\"><img src=\"https:\/\/avatars2.githubusercontent.com\/u\/205534?s=460&v=4\" title=\"ldaniel\" width=\"40\" height=\"40\"><\/a>|Leandro Daniel|A57622988|[contato@leandrodaniel.com](contato@leandrodaniel.com)|\n|<a href=\"https:\/\/github.com\/RodriGonca\"><img src=\"https:\/\/avatars2.githubusercontent.com\/u\/50252438?s=460&v=4\" title=\"RodriGonca\" width=\"40\" height=\"40\"><\/a>|Rodrigo Goncalves|A57566093|[rodrigo.goncalves@me.com](rodrigo.goncalves@me.com)|\n|<a href=\"https:\/\/github.com\/ygorlima1\"><img src=\"https:\/\/avatars2.githubusercontent.com\/u\/52429828?s=460&v=4\" title=\"ygorlima1\" width=\"40\" height=\"40\"><\/a>|Ygor Lima|A57549661|[ygor_redesocial@hotmail.com](ygor_redesocial@hotmail.com)|\n","e7a05b62":"Como exemplo podemos avaliar a evolu\u00e7\u00e3o da m\u00e9dia semanal anual dos pre\u00e7os de **REVENDA** e **DISTRIBUI\u00c7\u00c3O** da **GASOLINA COMUM** no estado de **SAO PAULO**","b9f5fa02":"## 1. CONTEXTO: Contextualizar brevemente os dados (de que tratam os dados? 1 par\u00e1grafo entre 5 e 10 linhas).","7f45117c":"## 6. CONCLUS\u00d5ES: Relembrar a quest\u00e3o levantada e sumarizar as conclus\u00f5es obtidas.","e94df634":"### a. Gerar plots que permitam tirar conclus\u00f5es claras dos dados (a quest\u00e3o deve ser suficientemente complexa para que exija minimamente dois gr\u00e1ficos distintos complementares).","bb807e17":"# Respostas","a2de3df7":"### b. Os gr\u00e1ficos devem ser interpretados e discutidos, e as conclus\u00f5es acerca dos mesmos e das quest\u00f5es de neg\u00f3cio devem ser apresentadas.","afa92c07":"Como podemos perceber temos alguns valores faltantes para algumas vari\u00e1veis"}}