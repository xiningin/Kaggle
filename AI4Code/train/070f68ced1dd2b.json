{"cell_type":{"efe7623c":"code","df95756d":"code","fc32b0ef":"code","e99b812b":"code","956978d0":"code","b448c2e2":"code","fabab836":"code","2bbac6b3":"code","263d47d7":"code","4ff56fe0":"code","373ad769":"code","4d699437":"code","99a06044":"code","2f04ac15":"code","79136e2c":"code","c3f22fec":"code","06f4c312":"code","a528203f":"code","7edc8002":"code","dca02c22":"code","69e6c88c":"code","bb8f789e":"markdown","5e197799":"markdown","68b8e2fe":"markdown","08c7f6ca":"markdown","664d2da5":"markdown","8a314917":"markdown","52cb6fea":"markdown","e914a686":"markdown","a743ce18":"markdown","b49dfab5":"markdown","f8ee9673":"markdown","3a593d02":"markdown","4bfe80da":"markdown","a3b29cea":"markdown","8e4abda7":"markdown"},"source":{"efe7623c":"\n# import the necessary libraries\nimport numpy as np \nimport pandas as pd \n\n# Visualisation libraries\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set()\nfrom plotly.offline import init_notebook_mode, iplot \nimport plotly.graph_objs as go\nimport plotly.offline as py\nimport pycountry\npy.init_notebook_mode(connected=True)\nimport folium \nfrom folium import plugins\n\n# Graphics in retina format \n%config InlineBackend.figure_format = 'retina' \n\n# Increase the default plot size and set the color scheme\nplt.rcParams['figure.figsize'] = 8, 5\n#plt.rcParams['image.cmap'] = 'viridis'\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Disable warnings \nimport warnings\nwarnings.filterwarnings('ignore')","df95756d":"#from IPython.display import IFrame\n#IFrame('https:\/\/www.myheatmap.com\/maps\/PPk1_rfT1jQ%3D', width=800, height=600)","fc32b0ef":"# Reading the dataset\ndata= pd.read_csv(\"..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv\")\ndata.head()","e99b812b":"# Let's look at the various columns\ndata.info()","956978d0":"# Convert Last Update column to datetime64 format\n\ndata['Date'] = data['ObservationDate'].apply(pd.to_datetime)\ndata.drop(['SNo'],axis=1,inplace=True)\n\n#Set Date column as the index column.\n#data.set_index('Last Update', inplace=True)\ndata.head()","b448c2e2":"# Countries affected\ndata.rename(columns={'Country\/Region':'Country'},inplace = True)\ncountries = data['Country'].unique().tolist()\nprint(countries)\n\nprint(\"\\nTotal countries affected by virus: \",len(countries))","fabab836":"#Combining China and Mainland China cases\n\ndata['Country'].replace({'Mainland China':'China'},inplace=True)\ncountries = data['Country'].unique().tolist()\nprint(\"\\nTotal countries affected by virus: \",len(countries))","2bbac6b3":"d = data['Date'][-1:].astype('str')\nyear = int(d.values[0].split('-')[0])\nmonth = int(d.values[0].split('-')[1])\nday = int(d.values[0].split('-')[2].split()[0])\n\nfrom datetime import date\ndata_latest = data[data['Date'] >= pd.Timestamp(date(year,month,day))]\ndata_latest.head()","263d47d7":"# Creating a dataframe with total no of confirmed cases for every country\nNumber_of_countries = len(data_latest['Country'].value_counts())\n\n\ncases = pd.DataFrame(data_latest.groupby('Country')['Confirmed'].sum())\ncases['Country'] = cases.index\ncases.index=np.arange(1,Number_of_countries+1)\n\nglobal_cases = cases[['Country','Confirmed']]\n#global_cases.sort_values(by=['Confirmed'],ascending=False)\nglobal_cases","4ff56fe0":"# Importing the world_coordinates dataset\nworld_coordinates = pd.read_csv('..\/input\/world-coordinates\/world_coordinates.csv')\n\n# Merging the coordinates dataframe with original dataframe\nworld_data = pd.merge(world_coordinates,global_cases,on='Country')\nworld_data.head()","373ad769":"\n# create map and display it\nworld_map = folium.Map(location=[10, -20], zoom_start=2.3,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(world_data['latitude'], world_data['longitude'], world_data['Confirmed'], world_data['Country']):\n    folium.CircleMarker([lat, lon],\n                        radius=10,\n                        popup = ('<strong>Country<\/strong>: ' + str(name).capitalize() + '<br>'\n                                '<strong>Confirmed Cases<\/strong>: ' + str(value) + '<br>'),\n                        color='red',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(world_map)\nworld_map\n","4d699437":"# A look at the different cases - confirmed, death and recovered\nprint('Globally Confirmed Cases: ',data_latest['Confirmed'].sum())\nprint('Global Deaths: ',data_latest['Deaths'].sum())\nprint('Globally Recovered Cases: ',data_latest['Recovered'].sum())","99a06044":"# Let's look the various Provinces\/States affected\n\ndata_latest.groupby(['Country','Province\/State']).sum()","2f04ac15":"# Provinces where deaths have taken place\ndata_latest.groupby('Country')['Deaths'].sum().sort_values(ascending=False)[:5]","79136e2c":"\n# Lets also look at the Recovered stats\ndata_latest.groupby('Country')['Recovered'].sum().sort_values(ascending=False)[:5]","c3f22fec":"#Mainland China\nChina = data_latest[data_latest['Country']=='China']\nChina\n","06f4c312":"f, ax = plt.subplots(figsize=(12, 8))\n\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=\"Confirmed\", y=\"Province\/State\", data=China[1:],\n            label=\"Confirmed\", color=\"r\")\n\nsns.set_color_codes(\"muted\")\nsns.barplot(x=\"Recovered\", y=\"Province\/State\", data=China[1:],\n            label=\"Recovered\", color=\"g\")\n\n# Add a legend and informative axis label\nax.legend(ncol=2, loc=\"lower right\", frameon=True)\nax.set(xlim=(0, 1000), ylabel=\"\",\n       xlabel=\"Stats\")\nsns.despine(left=True, bottom=True)","a528203f":"latitude = 39.91666667\nlongitude = 116.383333\n \n# create map and display it\nchina_map = folium.Map(location=[latitude, longitude], zoom_start=12)\n\nchina_coordinates= pd.read_csv(\"..\/input\/china-states-coordinates\/China_states_coordinates.csv\")\nchina_coordinates.rename(columns={'States':'Province\/State'},inplace=True)\ndf_china_virus = China.merge(china_coordinates)\n\n# Make a data frame with dots to show on the map\ndata = pd.DataFrame({\n   'name':list(df_china_virus['Province\/State']),\n   'lat':list(df_china_virus['Latitude']),\n   'lon':list(df_china_virus['Longitude']),\n   'Confirmed':list(df_china_virus['Confirmed']),\n   'Recovered':list(df_china_virus['Recovered']),\n   'Deaths':list(df_china_virus['Deaths'])\n})\n\ndata.head()","7edc8002":" \n# create map for total confirmed cases in china till date\nchina_map1 = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Confirmed'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=13,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Confirmed: ' + str(value) + '<br>'),\n                        color='red',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(china_map1)\n    folium.Map(titles='jj', attr=\"attribution\")    \nchina_map1\n","dca02c22":"\n\nchina_map = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Deaths'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=value*0.02,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Deaths: ' + str(value) + '<br>'),\n                        color='black',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(china_map)\n    folium.Map(titles='jj', attr=\"attribution\")    \nchina_map\n","69e6c88c":"china_map = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Recovered'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=10,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Recovered: ' + str(value) + '<br>'),\n                        color='green',\n                        \n                        fill_color='green',\n                        fill_opacity=0.7 ).add_to(china_map)\n       \nchina_map\n","bb8f789e":"## A Closer look at China's condition","5e197799":"![](https:\/\/imgur.com\/q1JolVI.png)","68b8e2fe":"# Wuhan Coronavirus : A geographical analysis\n\nWith the news coming in that the [World Health Organization has declared the novel coronavirus outbreak a public health emergency](https:\/\/edition.cnn.com\/2020\/01\/30\/health\/coronavirus-who-public-health-emergency-international-concern-declaration\/index.html), it has increased the general fear among the public. A lot of countires have heightened their measures to fight with this virus with the condition in China still senitive..More than 20 countries and territories outside of mainland China have confirmed cases of the virus -- spanning Asia, Europe, North America and the Middle East -- as India, Italy and the Philippines reported their first cases on Thursday.[source](https:\/\/edition.cnn.com\/2020\/01\/30\/asia\/wuhan-coronavirus-update-intl-hnk\/index.html)","08c7f6ca":"Till now, majority of the  deaths have occured in China with the majority occuring in **Hubei** alone. **Wuhan**, the epicentre of the virus is the capital of **Hubei**","664d2da5":"### Let's look at the Confirmed vs Recovered figures of Provinces of China other than Hubei","8a314917":"## Countries which have been affected by the Coronavirus(2019-nCoV)till now","52cb6fea":"## Visualizing the current world scenario","e914a686":"I have created the above map by using Folium Maps. You can click on the red bubbles to get information about the region and the number of confirmed cases there.\n\n![](https:\/\/imgur.com\/nkexz1H.png)\n\nIncase you are interested to know about them, here is a kernel I wrote on the same:\n\n[Visualising Geospatial data to get insights](https:\/\/www.kaggle.com\/parulpandey\/visualising-geospatial-data-to-get-insights)","a743ce18":"## Total Recovered cases in china till date","b49dfab5":"# Current status worldwide","f8ee9673":"Note that China and Mainland China have been reported separately.","3a593d02":"# Geographical Visualisation the present condition of Mainland China","4bfe80da":"## Total confirmed cases in china till date","a3b29cea":"## Total Deaths in china till date","8e4abda7":"Let's create a new dataframe which consists of the latitude and longitudes of the countries under observation"}}