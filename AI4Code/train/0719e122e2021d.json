{"cell_type":{"3275fa23":"code","fcf6413e":"code","deaa25c2":"code","2a3c0ec3":"code","d49dce88":"code","ac8949dc":"code","d115a182":"code","abf00685":"code","feeeb01b":"markdown"},"source":{"3275fa23":"import pandas as pd\nimport time\nfrom datetime import datetime\nimport plotly_express as px\nfrom plotly.offline import init_notebook_mode\ninit_notebook_mode(connected=True)\ntodays_date = datetime.fromtimestamp(time.time()).strftime(\"%Y-%m-%d\")","fcf6413e":"df_president_county = pd.read_csv('\/kaggle\/input\/us-election-2020\/president_county_candidate.csv')\ndemocrat = df_president_county['party'] == 'DEM'\nrepublican = df_president_county['party'] == 'REP'\ndf_president_county = df_president_county[democrat|republican]\ndf_president_county = df_president_county.groupby(['state','party']).sum()\ndf_president_county = df_president_county.unstack()\ndf_president_county.columns = ['DEM','REP']\ndf_president_county = df_president_county.reset_index()\n\nstate_codes = pd.read_csv('\/kaggle\/input\/latitude-and-longitude-for-every-country-and-state\/world_country_and_usa_states_latitude_and_longitude_values.csv')\nstate_codes = state_codes[['usa_state','usa_state_code']]\ndf_president_county = df_president_county.merge(state_codes, left_on='state', right_on='usa_state')\ndf_president_county['percent_democrat'] = df_president_county['DEM']*100\/(df_president_county['REP']+df_president_county['DEM'])","deaa25c2":"fig = px.choropleth(df_president_county, \n                    locations=\"usa_state_code\", \n                    color = \"percent_democrat\",\n                    locationmode = 'USA-states', \n                    hover_name=\"state\",\n                    range_color=[25,75],\n                    color_continuous_scale = 'RdBu',#blues\n                    scope=\"usa\",\n                    title='2020 USA Election: Percent of Population Voting for the Democratic Party (as of '+todays_date+')')\nfig.show()","2a3c0ec3":"df_vote_counts = pd.read_csv('\/kaggle\/input\/us-election-2020\/president_county_candidate.csv')\ndemocrat = df_vote_counts['party'] == 'DEM'\nrepublican = df_vote_counts['party'] == 'REP'\ndf_vote_counts = df_vote_counts[democrat|republican]\ndf_vote_counts = pd.DataFrame(df_vote_counts.groupby('party')['votes'].sum())\nfig = px.bar(df_vote_counts,title='2020 USA Election: Number of Votes per Party (Democratic vs Republican)')\nfig.show()","d49dce88":"df_vote_percent = df_vote_counts.copy()\ndf_vote_percent['votes'] = df_vote_percent['votes']*100\/df_vote_percent['votes'].sum()\nfig = px.bar(df_vote_percent,title='2020 USA Election: Percent of Votes per Party (Democratic vs Republican)')\nfig.update_yaxes(range=[45, 55])\nfig.show()","ac8949dc":"df_president = pd.read_csv('\/kaggle\/input\/us-election-2020\/president_state.csv')\nstate_codes = pd.read_csv('\/kaggle\/input\/latitude-and-longitude-for-every-country-and-state\/world_country_and_usa_states_latitude_and_longitude_values.csv')\nstate_codes = state_codes[['usa_state','usa_state_code']]\ndf_president = df_president.merge(state_codes, left_on='state', right_on='usa_state')","d115a182":"fig = px.choropleth(df_president, \n                    locations=\"usa_state_code\", \n                    color=\"votes\", \n                    locationmode = 'USA-states', \n                    hover_name=\"state\",\n                    range_color=[0,10000000],scope=\"usa\",\n                    title='2020 USA Election: Presidential Votes Counts (as of '+todays_date+')')\nfig.show()","abf00685":"#!mkdir \/kaggle\/working\/docker\/\n#!pip freeze > '\/kaggle\/working\/docker\/requirements.txt'\nprint('This notebook makes use of \\nthe following Python libraries:\\n')\nprint('pandas:',pd.__version__)\nimport plotly_express\nprint('plotly express:',plotly_express.__version__)\ndf_president_county.to_csv('democratic_vs_republican_votes_by_usa_state_2020.csv',index=False)\ndf_president.to_csv('number_of_voters_per_usa_state_2020.csv',index=False)\ndf_vote_counts.to_csv('vote_counts_democratic_vs_republican_for_entire_country.csv',index=False)\ndf_vote_percent.to_csv('vote_percentages_democratic_vs_republican_for_entire_country.csv',index=False)","feeeb01b":"# 2020 USA Election: Vote Percentages by State"}}