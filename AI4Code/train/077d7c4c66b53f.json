{"cell_type":{"18374dcb":"code","317545da":"code","a52d1be9":"code","e14259ce":"code","45617b29":"code","2187da06":"code","77b22689":"code","48d5dd0a":"code","9f17f1f9":"code","52ae042b":"code","b947015b":"code","84e05be6":"code","a7bb44f5":"code","969f34f8":"code","b7dbc397":"code","1cc6ddd7":"code","b3297790":"code","d46596f0":"code","9cdf8c08":"code","a7dc9fe9":"code","a17ee158":"code","6c33f0c2":"markdown"},"source":{"18374dcb":"\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","317545da":"#Ignore warnings created while preparing charts\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","a52d1be9":"countries = pd.read_csv(\"\/kaggle\/input\/120-years-of-olympic-history-athletes-and-results\/noc_regions.csv\")\nmedals = pd.read_csv(\"\/kaggle\/input\/120-years-of-olympic-history-athletes-and-results\/athlete_events.csv\")","e14259ce":"medals.info()","45617b29":"medals.head()","2187da06":"countries.info()","77b22689":"#Merging dataframes ot get countrinames against medal counts\ndf = pd.merge(medals, countries, on = 'NOC')\ndf.info()","48d5dd0a":"#Selecting only the required columns\nagg_df = df[['Year','Medal','region']].copy()\nagg_df.info()","9f17f1f9":"#Replacing no medals as 0\nagg_df['Medal'].fillna(0, inplace = True)\nagg_df.info()","52ae042b":"#Identifying the records with no region information\nagg_df[agg_df['region'].isna()]","b947015b":"#Removing records having no information on region\nagg_df.dropna(axis = 0, inplace = True)\nagg_df.info()","84e05be6":"#Identifying overall medal counts\nagg_df.Medal.value_counts()","a7bb44f5":"#Removing records with no medals\nmedals_df = agg_df[agg_df['Medal'] != 0]\nmedals_df","969f34f8":"#Creating pivot table with overall medal counts \nmedals_df = medals_df.pivot_table(columns = 'region', index = 'Year', values='Medal', aggfunc = 'count')\nmedals_df","b7dbc397":"#Filling records with no medals as 0\nmedals_df.fillna(0, inplace = True)","1cc6ddd7":"medals_df","b3297790":"#Calculating cumilative sum of medal counts over years for each countries\nmedals_df = medals_df.cumsum()\nmedals_df","d46596f0":"pip install bar_chart_race","9cdf8c08":"#Library for bar chart racing\nimport bar_chart_race as bcr","a7dc9fe9":"#Creating bar chart race of overall medals counts over years for 6 leading countries.\n# period_length=2500 -> increasing period length slows down the transition and gives better readability\n# steps_per_period=30 -> increasing frames per second displays a smooth transition\n# n_bars = 6 -> I'm interested in only the top 6 countries \n# sort='desc' -> Display graph in descending order of medal count\n# filename='olympics.mp4' -> Store the graph as a mp4 file in output folder\n\nbcr.bar_chart_race(df=medals_df,filename='.\/olympics.mp4',n_bars = 6, steps_per_period=30, sort='desc',period_length=2500,  title= \"Medals in Olympics\")","a17ee158":"#Displaying the video from the output folder\n\nfrom IPython.display import Video\n\nVideo('.\/olympics.mp4')","6c33f0c2":"### Creating bar chart race for top 6 countries that won highest number of medals in Olympics each year."}}