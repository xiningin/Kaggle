{"cell_type":{"ba5b303e":"code","c2457ab1":"code","22ec4f9e":"code","4b465a7f":"code","3eb496b0":"code","a1d7f8fa":"code","aed23965":"code","36b6a249":"code","c7782051":"code","7d2d86ff":"code","3dd8afb9":"code","17ecb0e9":"code","bf99f0ca":"code","60a905b5":"code","5cef73ed":"code","1d9b04f0":"code","52aac3bb":"code","3a8691cf":"code","128d60d2":"code","ad7576e7":"code","c03fc1cd":"code","3a664f6d":"code","61c01f25":"code","0268177d":"code","e36977a7":"code","d4d932a0":"code","a779be45":"code","4c7b8a3e":"code","020a680c":"code","d3e1aa2b":"code","4ff16125":"code","c80f81eb":"code","ae2900ce":"code","94eb07e6":"code","ad27d85d":"code","12d57fbc":"code","f5b4fa9c":"code","b37d5942":"code","3872c3c0":"code","39c92b89":"code","d000880a":"code","4b12fbb6":"code","6bb12063":"code","5033e0d0":"code","f074ae80":"code","d582d307":"markdown","4833cf08":"markdown","8e4c75e9":"markdown","a89b7c36":"markdown","98bd3d8e":"markdown","28e42ef2":"markdown","1ddcb554":"markdown","d612bd13":"markdown","4f3dbe40":"markdown","f96521ba":"markdown","098d7a07":"markdown","64157fa5":"markdown","ed884ab0":"markdown","89f3699d":"markdown","437ad2cb":"markdown","c87ef97a":"markdown","b1092884":"markdown","a71d7d85":"markdown","65446e66":"markdown"},"source":{"ba5b303e":"import numpy as np\nimport pandas as pd\n\n\nimport pandas as pd\npd.options.mode.chained_assignment = None ","c2457ab1":"df = pd.read_csv(\"..\/input\/disneyland-reviews\/DisneylandReviews.csv\",encoding='latin-1')","22ec4f9e":"df.head()","4b465a7f":"df.info()","3eb496b0":"df[\"Year_Month\"] = pd.to_datetime(df[\"Year_Month\"], errors='coerce')","a1d7f8fa":"df[\"Year\"] = df[\"Year_Month\"].dt.year\ndf[\"Month\"] = df[\"Year_Month\"].dt.month","aed23965":"df.isnull().sum()\/len(df)","36b6a249":"df.dropna(inplace=True)","c7782051":"df[\"Review_ID\"].value_counts()","7d2d86ff":"df.drop_duplicates(subset=\"Review_ID\",inplace=True, keep=\"first\")","3dd8afb9":"df.shape","17ecb0e9":"df[\"Year\"].value_counts().sort_values(ascending=False)","bf99f0ca":"df[\"Month\"].value_counts().sort_values(ascending=False)","60a905b5":"df[\"Reviewer_Location\"].value_counts().sort_values(ascending=False)[:10]","5cef73ed":"df[\"Branch\"].value_counts().sort_values(ascending=False)","1d9b04f0":"df[\"Rating\"].value_counts().sort_values()","52aac3bb":"df[\"Rating\"].mean()","3a8691cf":"df.groupby(\"Reviewer_Location\")[\"Rating\"].mean().sort_values(ascending=False)[:5]","128d60d2":"df.groupby(\"Reviewer_Location\")[\"Rating\"].mean().sort_values()[:5]","ad7576e7":"df.groupby(\"Branch\")[\"Rating\"].mean()","c03fc1cd":"df[df[\"Branch\"]==\"Disneyland_California\"][\"Rating\"].value_counts()","3a664f6d":"df[df[\"Branch\"]==\"Disneyland_California\"][\"Rating\"].value_counts()*100\/len(df[df[\"Branch\"]==\"Disneyland_California\"])","61c01f25":"df[df[\"Branch\"]==\"Disneyland_HongKong\"][\"Rating\"].value_counts()*100\/len(df[df[\"Branch\"]==\"Disneyland_HongKong\"])","0268177d":"df[df[\"Branch\"]==\"Disneyland_Paris\"][\"Rating\"].value_counts()*100\/len(df[df[\"Branch\"]==\"Disneyland_Paris\"])","e36977a7":"df[df[\"Reviewer_Location\"]==\"Australia\"][\"Branch\"].value_counts()","d4d932a0":"df[df[\"Reviewer_Location\"]==\"Australia\"][\"Rating\"].value_counts()","a779be45":"df[df[\"Reviewer_Location\"]==\"Australia\"][\"Rating\"].mean()","4c7b8a3e":"df.head()","020a680c":"data =df[['Review_Text', \"Rating\"]]","d3e1aa2b":"from nltk.corpus import stopwords\nfrom nltk.stem import WordNetLemmatizer \nimport spacy\nimport re","4ff16125":"#loading spacy library\nnlp=spacy.load(\"en_core_web_sm\")\n\n#creating instance\nlemma=WordNetLemmatizer()","c80f81eb":"#creating list of stopwords containing stopwords from spacy and nltk\n\n#stopwords of spacy\nlist1=nlp.Defaults.stop_words\nprint(\"Number of Stopwords in Spacy: \",len(list1))\n\n#stopwords of NLTK\nlist2=stopwords.words('english')\nprint(\"Number of Stopwords in NLTK: \",len(list2))\n\n#combining the stopword list\nStopwords=set((set(list1)|set(list2)))\nprint(\"Combined Stopwords: \",len(Stopwords))","ae2900ce":"def clean_text(text):\n    \n    \"\"\"\n    It takes text as an input and clean it by applying several methods\n    \n    \"\"\"\n    global Stopwords\n    \n    string = \"\"\n    \n    #lower casing\n    text=text.lower()\n    \n    #simplifying text\n    text=re.sub(r\"i'm\",\"i am\",text)\n    text=re.sub(r\"he's\",\"he is\",text)\n    text=re.sub(r\"she's\",\"she is\",text)\n    text=re.sub(r\"that's\",\"that is\",text)\n    text=re.sub(r\"what's\",\"what is\",text)\n    text=re.sub(r\"where's\",\"where is\",text)\n    text=re.sub(r\"\\'ll\",\" will\",text)\n    text=re.sub(r\"\\'ve\",\" have\",text)\n    text=re.sub(r\"\\'re\",\" are\",text)\n    text=re.sub(r\"\\'d\",\" would\",text)\n    text=re.sub(r\"won't\",\"will not\",text)\n    text=re.sub(r\"can't\",\"cannot\",text)\n    \n    #removing any special character\n    text=re.sub(r\"[-()\\\"#!@$%^&*{}?.,:]\",\" \",text)\n    text=re.sub(r\"\\s+\",\" \",text)\n    text=re.sub('\/\\b\\S\\s\\b\/',' ', text)\n    \n    for word in text.split():\n        if word not in Stopwords:\n            string+=lemma.lemmatize(word)+\" \"\n    \n    return string","94eb07e6":"data[\"Review_Text\"] = data[\"Review_Text\"].apply(clean_text)","ad27d85d":"from wordcloud import WordCloud\nimport matplotlib.pyplot as plt\n%matplotlib inline","12d57fbc":"plt.figure(figsize = (20,20))\nWc = WordCloud(max_words = 500 , width = 1600 , height = 800,\n               min_word_length=5,background_color='white').generate(\" \".join(data[data.Rating == 5].Review_Text))\n\nplt.axis(\"off\")\nplt.imshow(Wc , interpolation = 'bilinear')","f5b4fa9c":"plt.figure(figsize = (20,20))\nWc = WordCloud(max_words = 500 , width = 1600 , height = 800,\n               min_word_length=5).generate(\" \".join(data[data.Rating == 4].Review_Text))\n\nplt.axis(\"off\")\nplt.imshow(Wc , interpolation = 'bilinear')","b37d5942":"plt.figure(figsize = (20,20))\nWc = WordCloud(max_words = 500 , width = 1600 , height = 800).generate(\" \".join(data[data.Rating == 3].Review_Text))\nplt.axis(\"off\")\nplt.imshow(Wc , interpolation = 'bilinear')","3872c3c0":"plt.figure(figsize = (20,20))\nWc = WordCloud(max_words = 500 , width = 1600 , height = 800,\n              min_word_length=5,colormap=\"YlOrBr\").generate(\" \".join(data[data.Rating == 2].Review_Text))\nplt.axis(\"off\")\nplt.imshow(Wc , interpolation = 'bilinear')","39c92b89":"plt.figure(figsize = (20,20))\nWc = WordCloud(max_words = 500 , width = 1600 , height = 800,\n              min_word_length=5,colormap=\"inferno\").generate(\" \".join(data[data.Rating == 1].Review_Text))\nplt.axis(\"off\")\nplt.imshow(Wc , interpolation = 'bilinear')","d000880a":"from nltk.sentiment.vader import SentimentIntensityAnalyzer","4b12fbb6":"sid = SentimentIntensityAnalyzer()","6bb12063":"data[\"Score\"] =data[\"Review_Text\"].apply(lambda review: sid.polarity_scores(review))","5033e0d0":"data[\"Compound_Score\"] =data[\"Score\"].apply(lambda d:d[\"compound\"])\ndata.drop(\"Score\",axis= 1,inplace=True)","f074ae80":"data.groupby(\"Rating\")[\"Compound_Score\"].describe()","d582d307":"## Question: 13\n### *What is the overall rating by the Australian customers?*","4833cf08":"# WordCLoud for Rating 3","8e4c75e9":"## Question: 10\n### *Rating distribution of each branch and what can you inferred from the distribution\\?*","a89b7c36":"## Question: 9\n### *With which branch the customers are satisfied with?*","98bd3d8e":"## Question: 8\n### *Find 5 top countries that gave the worst rating to Disneyland?*","28e42ef2":"## Question: 5\n### *How is the rating distributed?*","1ddcb554":"## Question: 2\n### *Which month has the maximum reviews?*","d612bd13":"# To be continued","4f3dbe40":"## Question: 12\n### *What is the rating distribution by the australian customers?*","f96521ba":"## Question: 3 \n### *Poeple from which country gave the maximum reviews also find the top 10 countries in term of reviews?*","098d7a07":"# WordCLoud for Rating 2","64157fa5":"## Question: 7\n### *Find top 5 countries that gave the best rating to Disneyland*","ed884ab0":"## Question: 11\n### *What is the branch reviews distribution for Australian customers?*","89f3699d":"# WordCLoud for Rating 4","437ad2cb":"## Question: 4\n### *Find out the number of reviews for each branch of Disneyland?*","c87ef97a":"# WordCLoud for Rating 1","b1092884":"## Question: 6\n### *Which is the overall rating (mean rating)?*","a71d7d85":"## Question: 1 \n### *Which year has the maximum reviews?*","65446e66":"# WordCloud for Rating 5"}}