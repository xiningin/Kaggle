{"cell_type":{"f033744b":"code","8cc224d7":"code","ce8b160f":"code","9e1371f5":"code","74a1f0c7":"code","ee9fb17a":"code","e335ce40":"code","ef922f65":"code","8c4fb914":"code","57187ddb":"code","b31f37cb":"code","aa04ea3c":"code","438909fe":"code","7f91b84c":"code","35441ee3":"code","689540f2":"code","4b7a6bfc":"code","4ce44e01":"code","5e250e76":"code","600aa921":"code","299fc04f":"code","52c5abdc":"code","525b5e96":"code","e20d2fa9":"code","4b7b0b74":"code","125c0331":"code","d04822ae":"code","b33643b3":"code","df12114e":"code","6b39f7fc":"code","72d57385":"code","fc952bc4":"code","35cb1374":"code","8cb6d11a":"code","b9894cd0":"code","04199e3a":"code","66479534":"code","31cf71e8":"markdown","28802384":"markdown","df1004e0":"markdown","359af48e":"markdown","b8320aec":"markdown","9296d49a":"markdown","b9c55581":"markdown","b6cf1967":"markdown","9fc70948":"markdown","f9609bb6":"markdown","f9114cb5":"markdown","9e0bfe76":"markdown","9b61dbf1":"markdown","ead60d3f":"markdown","905941fd":"markdown","d84e5ef7":"markdown","b937e159":"markdown","15ab5fe9":"markdown","b6aad8db":"markdown","dbb9baeb":"markdown","bd4a909f":"markdown","81272113":"markdown","e3ce4c2b":"markdown","dabfb4d5":"markdown"},"source":{"f033744b":"import pandas as pd\nimport numpy as np\nfrom fbprophet import Prophet\nimport matplotlib.pyplot as plt\nimport plotly.graph_objs as go\nimport plotly.offline as pyo\npyo.init_notebook_mode()","8cc224d7":"covid19 = pd.read_csv(\"..\/input\/oficial-colombia-data-covid19-03032020-to-29082020\/COVID_COL_31082020.csv\") ","ce8b160f":"covid19.head()","9e1371f5":"covid19.tail()","74a1f0c7":"covid19.shape","ee9fb17a":"covid19.isnull().sum()","e335ce40":"covid19.columns","ef922f65":"covid19.describe()","8c4fb914":"covid19[\"Fecha de notificaci\u00f3n\"] = pd.to_datetime(covid19[\"Fecha de notificaci\u00f3n\"]) ","57187ddb":"covid19[\"Fecha de notificaci\u00f3n\"].min()","b31f37cb":"covid19[\"Fecha de notificaci\u00f3n\"].max()","aa04ea3c":"%matplotlib inline","438909fe":"k = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\nplt.figure(figsize=(20,10)) \nplt.hist(covid19[\"Edad\"], bins = k, align='left', color='b', edgecolor='red', linewidth=1)\nplt.xlabel(\"Edad\")\nplt.ylabel(\"Frecuencia\")\nplt.title(\"# Casos Positivos COVID 19 COLOMBIA - Rangos de Edad\")","7f91b84c":"covid_fallecidos = covid19[covid19['Fecha de muerte'].notna()]","35441ee3":"# % Fallecidos % Dead People\nprint(len(covid_fallecidos)*100\/len(covid19), \" % de Fallecidos\")","689540f2":"#Ajuste de Grafica - Graph Setup\nk = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\nplt.figure(figsize=(20,10)) \nplt.hist(covid_fallecidos[\"Edad\"], bins = k, align='left', color='b', edgecolor='red', linewidth=1)\nplt.xlabel(\"Edad\")\nplt.ylabel(\"Frecuencia\")\nplt.title(\"# Casos Fallecidos COVID 19 COLOMBIA - Rangos de Edad - 31\/08\/2020\")","4b7a6bfc":"#Solo Recuperados confirmados, Excluye a: 'Fallecido', 'Hospital', 'Casa', nan, 'Hospital UCI', 'hospital'\ncovid_recuperados = covid19[covid19['atenci\u00f3n']=='Recuperado']","4ce44e01":"print(len(covid_recuperados)*100\/len(covid19),\" % Recuperados Confirmados\")","5e250e76":"k = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]\nplt.figure(figsize=(20,10)) \nplt.hist(covid_recuperados[\"Edad\"], bins = k, align='left', color='b', edgecolor='red', linewidth=1)\nplt.xlabel(\"Edad\")\nplt.ylabel(\"Frecuencia\")\nplt.title(\"# Casos Recuperados COVID 19 COLOMBIA - Rangos de Edad - 31\/08\/2020\")","600aa921":"#la variable genero se encuentra con diferentes valores se debe aplicar ajuste de datos\ncovid_recuperados[\"Sexo\"].unique()","299fc04f":"#Se Ajusta a mayuscula para unificar variable\ncovid_recuperados[\"Sexo\"] = covid_recuperados[\"Sexo\"].str.upper()","52c5abdc":"covid_recuperados[\"Sexo\"].unique()","525b5e96":"covid_recuperados['Sexo'].value_counts().plot(kind='bar')","e20d2fa9":"diario_covid = covid19[['Fecha de notificaci\u00f3n', ]].copy()\ndiario_covid[\"Count\"]  = 1","4b7b0b74":"diario_covid","125c0331":"diario_covid.rename(columns = {'Fecha de notificaci\u00f3n':'Fecha'}, inplace = True)","d04822ae":"diario_covid = diario_covid.groupby(pd.Grouper(key='Fecha',freq='D')).sum().reset_index()","b33643b3":"diario_covid = diario_covid.sort_values('Fecha', ascending=True)","df12114e":"diario_covid = diario_covid.drop(diario_covid.index[[181]])","6b39f7fc":"diario_covid","72d57385":"fig = go.Figure([go.Scatter(x=diario_covid['Fecha'], y=diario_covid['Count'])])\nfig.show()","fc952bc4":"df_train = diario_covid.rename(columns={'Fecha': 'ds', 'Count': 'y'})","35cb1374":"model = Prophet(interval_width = 0.95,\n                yearly_seasonality = False,\n                weekly_seasonality = False,\n                daily_seasonality = True,\n                holidays = None,\n                changepoint_prior_scale = 0.05)\nmodel.fit(df_train)","8cb6d11a":"forecast = model.make_future_dataframe(periods=30, freq = 'D')\nforecast = model.predict(forecast)\nfig1 =model.plot(forecast)","b9894cd0":"fig2 = model.plot_components(forecast)\nplt.show()","04199e3a":"forecast.tail(30)","66479534":"def_forecast = forecast[[\"ds\", \"yhat\", \"yhat_lower\", \"yhat_upper\"]].tail(30)\ndef_forecast = def_forecast.rename(columns={'ds': 'Fecha', 'yhat': 'Pronostico', 'yhat_lower': 'PronosticoMinimo', 'yhat_upper': 'PronosticoMaximo'})\ndef_forecast","31cf71e8":"## Se inicializa el modelo diario para calcular 30 dias - Model Setup for 30 days","28802384":"## Se renombran columnas segun requerimientos de la libreria - Adjust Column names","df1004e0":"## Importacion Datos - Data Import","359af48e":"## SEGUMIENTO DE NUEVOS CASOS:\n## 2 Septiembre MinSaludCo:9.270 Casos - Modelo Desarrollado:9.184 - Accuracy: 99%\n## 1 Septiembre MinSaludCo:8.901 Casos - Modelo Desarrollado:9.119 - Accuracy: 97%","b8320aec":"# **Componentes del Pronostico - Forecast Components**","9296d49a":"# **El trabajo realizado solo pretende obtener descriptivamente el comportamiento del COVID-19 en Colombia desde el 3 de marzo hasta el 30 de Agosto del 2020 fecha proxima de la \"Nueva Realidad\" y obtener lo que seria un pronostico estandar general si la tendencia se mantuviera, sin embargo son muchos los factores que afectan este pronostico, se deben aplicar otros modelos mucho mas complejos para tener cifras mas cercanas a la realidad**","b9c55581":"## Notebook para analisis general de COVID-19 en Colombia desde el 3 de Marzo al 30 de Ago 2020\n## Notebook for general insights for COVID-19 in Colombia March 3th to Aug 30th 2020\nFuente:\nSource:\nhttps:\/\/www.datos.gov.co\/Salud-y-Protecci-n-Social\/Casos-positivos-de-COVID-19-en-Colombia\/gt2j-8ykr\/data","b6cf1967":"## Histograma de distribucion por edad de recuperados - Recovered Histogram for Age ","9fc70948":"**Fechas Maximas y Minimas - Min and Max Dates**","f9609bb6":"## Recuperados segun Genero - Recovered by Gender","f9114cb5":"**Ajuste de Fecha a Columna Fecha de notificacion - Datetimeformat adjust **","9e0bfe76":"## importacion de Librerias - Libraries Import","9b61dbf1":"## Se elimina dia 30 de AGO se encuentra incompleto - Date 30th Aug Deletion its Incomplete","ead60d3f":"## Copia de dataset para graficar tendencia y modelar pronostico - Dataset for Trend and Forecasting model","905941fd":"**No hay mucha diferencia por genero a nivel de recuperados**","d84e5ef7":"## Recuperados por Genero - Recovered by Gender Male \/ Female","b937e159":"## Distribucion de Fallecidos - Dead People Distribution","15ab5fe9":"## Recuperados - Recovered People","b6aad8db":"## Estadisticas basicas - Basic Statistics","dbb9baeb":"## Proyeccion para proximos 30 dias - Next 30 Days Forecasting","bd4a909f":"## Modelo PHPROPHET para pronosticar casos proximos 30 dias - Model PHPROPHET for Next 30 days","81272113":"## Distribucion por edad - Distribution by Age","e3ce4c2b":"## Tendencia Diaria de contagios - Daily Infection Trend ","dabfb4d5":"**Verificacion de Nulos - Nulls Checks**"}}