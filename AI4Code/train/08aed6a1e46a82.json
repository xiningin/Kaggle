{"cell_type":{"f7076c44":"code","9d944a9e":"code","1f4465b9":"code","925191ff":"code","8ce78ff9":"markdown","760c33a8":"markdown","8361ca90":"markdown","9a679346":"markdown"},"source":{"f7076c44":"!pip install Faker","9d944a9e":"import pandas as pd \n# read in the Titanic training data csv file\ntrain_data = pd.read_csv('..\/input\/titanic\/train.csv')\n# take a look\ntrain_data.head(10)","1f4465b9":"from faker import Faker\nfake = Faker()\n\ndef Sex(row):\n    if row['Sex'] == 'female':\n        new_name = fake.name_female()\n    else:\n        new_name = fake.name_male()\n    return new_name\n\ntrain_data['Name'] = train_data.apply(Sex, axis=1)\n\n# take a quick look\ntrain_data.head(10)","925191ff":"train_data.to_csv('pseudonymized_train.csv', index=False)","8ce78ff9":"## The Titanic without Jack or Rose: data pseudonymization using Faker\nIn this simple notebook we shall replace the real names of each of the Titanic passengers with a [pseudonym](https:\/\/en.wikipedia.org\/wiki\/Pseudonym). Such a process is known as pseudonymization which, in European Union law, is defined as:\n\n> \"*...the processing of personal data in such a manner that the personal data can no longer be attributed to a specific data subject without the use of additional information, provided that such additional information is kept separately and is subject to technical and organisational measures to ensure that the personal data are not attributed to an identified or identifiable natural person.*\" [(GDPR) EU 2016\/679 Article 4 (5)](https:\/\/eur-lex.europa.eu\/eli\/reg\/2016\/679)\n\nThese new names are generated randomly, and each time one runs the script the names will change. To do this we shall use the [Faker](https:\/\/pypi.org\/project\/Faker\/) package. Let us load in the data and take a look at it:","760c33a8":"Finally we shall now write out this new pseudonymized DataFrame to a csv file:","8361ca90":"we can see that the **Name** column contains [personally identifiable information](https:\/\/en.wikipedia.org\/wiki\/Personal_data) i.e. in this case the real names of the passengers. We shall replace that column with fake names using **Faker**. We shall use either male of female names based on the **Sex** column data.","9a679346":"Note that the new file is by no means rigorously anonymized as we have kept, for example, the **Ticket** column as it was, which could be used to de-anonymize the file. We also have **Cabin** information for some of the entries. Indeed, to truly anonymize data to legal standards is a far from trivial task. \n\nIt is also worth stating that this notebook is just an exercise; the passenger list of the RMS Titanic available under Creative Commons, is a historical document, and is here being used *in the public interest, scientific or historical research purposes or statistical purposes* (Article 89).\n\n## Links:\n* [Faker (GitHub)](https:\/\/github.com\/joke2k\/faker)\n* [Faker documentation](https:\/\/faker.readthedocs.io\/en\/stable\/)\n\n## Related reading:\n* [Data anonymization](https:\/\/en.wikipedia.org\/wiki\/Data_anonymization)\n* [Pseudonymization](https:\/\/en.wikipedia.org\/wiki\/Pseudonymization)\n* [Data re-identification](https:\/\/en.wikipedia.org\/wiki\/Data_re-identification)\n* [General Data Protection Regulation (GDPR)](https:\/\/eur-lex.europa.eu\/eli\/reg\/2016\/679) (EU) 2016\/679 "}}