{"cell_type":{"0d28d8b9":"code","3e801b5a":"code","2ea5a156":"code","b2bc50f9":"code","b642c5c7":"code","3c657bdc":"code","b846aefd":"code","af56d9da":"code","9a9be346":"code","1a67a578":"code","7fd09e83":"code","f1fb0aeb":"code","701dd757":"code","b9d0cc9d":"code","1bdabfac":"code","66debd65":"code","97b4f5c1":"code","4bf320e3":"code","ba7ee0f3":"code","75b848c0":"code","e423654d":"code","0ffcbd2c":"code","1847a40b":"code","1f72e685":"code","587631bc":"code","e51f8814":"code","7735c6e8":"code","0fb51ead":"code","6f0e22cf":"code","aa268daa":"code","e2c16fcc":"code","f2b2ccb0":"code","5dc8c2f6":"code","1599b89a":"code","51588bc5":"code","85ef039a":"code","578f6af8":"code","feabd177":"code","f7ff7949":"markdown","c44a7d14":"markdown","864b94c3":"markdown","4819a959":"markdown","e39454bd":"markdown","daed5da5":"markdown","95f1b967":"markdown","a88639d2":"markdown","ce32d222":"markdown","8a9491e5":"markdown","b321db55":"markdown","3de90af2":"markdown","040fa394":"markdown","854df971":"markdown","9fed5d9f":"markdown","248c1a43":"markdown","0f04846c":"markdown","847ebcca":"markdown","96deb8ef":"markdown","061fefbd":"markdown","211a2751":"markdown","29e127d6":"markdown","ce4351ae":"markdown","c670d794":"markdown","f729e199":"markdown","b6a8fd54":"markdown","5a996a41":"markdown","caff01d2":"markdown","3d56bdbd":"markdown","d0e574b8":"markdown"},"source":{"0d28d8b9":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\n%matplotlib inline\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","3e801b5a":"airbnb=pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')","2ea5a156":"airbnb.shape","b2bc50f9":"airbnb.dtypes","b642c5c7":"airbnb.info()","3c657bdc":"airbnb.duplicated().sum()\nairbnb.drop_duplicates(inplace=True)","b846aefd":"airbnb.isnull().sum()","af56d9da":"airbnb.drop(['name','id','host_name','last_review'], axis=1, inplace=True)","9a9be346":"airbnb.head(5)","1a67a578":"airbnb.fillna({'reviews_per_month':0}, inplace=True)\n#examing changes\nairbnb.reviews_per_month.isnull().sum()","7fd09e83":"airbnb.isnull().sum()\nairbnb.dropna(how='any',inplace=True)\nairbnb.info() #.info() function is used to get a concise summary of the dataframe","f1fb0aeb":"airbnb.describe()","701dd757":"airbnb.columns","b9d0cc9d":"corr = airbnb.corr(method='kendall')\nplt.figure(figsize=(15,8))\nsns.heatmap(corr, annot=True)\nairbnb.columns","1bdabfac":"airbnb.shape","66debd65":"airbnb.head(15)","97b4f5c1":"import seaborn as sns","4bf320e3":"airbnb['neighbourhood_group'].unique()","ba7ee0f3":"sns.countplot(airbnb['neighbourhood_group'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Neighbourhood Group')","75b848c0":"sns.countplot(airbnb['neighbourhood'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(25,6)\nplt.title('Neighbourhood')","e423654d":"#Restaurants delivering Online or not\nsns.countplot(airbnb['room_type'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Restaurants delivering online or Not')","0ffcbd2c":"plt.figure(figsize=(10,10))\nax = sns.boxplot(data=airbnb, x='neighbourhood_group',y='availability_365',palette='plasma')","1847a40b":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood_group)\nplt.ioff()","1f72e685":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood)\nplt.ioff()","587631bc":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.room_type)\nplt.ioff()","e51f8814":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.availability_365)\nplt.ioff()","7735c6e8":"from wordcloud import WordCloud","0fb51ead":"plt.subplots(figsize=(25,15))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=1920,\n                          height=1080\n                         ).generate(\" \".join(airbnb.neighbourhood))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('neighbourhood.png')\nplt.show()","6f0e22cf":"airbnb.drop(['host_id','latitude','longitude','neighbourhood','number_of_reviews','reviews_per_month'], axis=1, inplace=True)\n#examing the changes\nairbnb.head(5)","aa268daa":"#Encode the input Variables\ndef Encode(airbnb):\n    for column in airbnb.columns[airbnb.columns.isin(['neighbourhood_group', 'room_type'])]:\n        airbnb[column] = airbnb[column].factorize()[0]\n    return airbnb\n\nairbnb_en = Encode(airbnb.copy())","e2c16fcc":"airbnb_en.head(15)","f2b2ccb0":"#Get Correlation between different variables\ncorr = airbnb_en.corr(method='kendall')\nplt.figure(figsize=(18,12))\nsns.heatmap(corr, annot=True)\nairbnb_en.columns","5dc8c2f6":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import classification_report\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import r2_score","1599b89a":"#Defining the independent variables and dependent variables\nx = airbnb_en.iloc[:,[0,1,3,4,5]]\ny = airbnb_en['price']\n#Getting Test and Training Set\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=353)\nx_train.head()\ny_train.head()","51588bc5":"x_train.shape","85ef039a":"#Prepare a Linear Regression Model\nreg=LinearRegression()\nreg.fit(x_train,y_train)\ny_pred=reg.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_pred)","578f6af8":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","feabd177":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","f7ff7949":"### Neighbourhood","c44a7d14":"#### Remove the NaN values from the dataset","864b94c3":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood)\nplt.ioff()","4819a959":"### Plot all Neighbourhood Group","e39454bd":"## For further updates of this Kernel check into this GitHub Link: https:\/\/github.com\/chiragsamal\/airbnb","daed5da5":"#### Print the Datatypes of the dataset","95f1b967":"## Loading Dataset","a88639d2":"### Examining Changes","ce32d222":"### Relation between neighbourgroup and Availability of Room","8a9491e5":"### Drop Columns","b321db55":"## Map of Neighbourhood","3de90af2":"### Print all the columns names","040fa394":"# Breakdown of this notebook:\n1. **Importing Libraries**\n2. **Loading the dataset**\n3. **Data Cleaning:** \n - Deleting redundant columns.\n - Dropping duplicates.\n - Cleaning individual columns.\n - Remove the NaN values from the dataset\n - Some Transformations\n4. **Data Visualization:** Using plots to find relations between the features.\n    - Get Correlation between different variables\n    - Plot all Neighbourhood Group\n    - Neighbourhood\n    - Room Type\n    - Relation between neighbourgroup and Availability of Room\n    - Map of Neighbourhood group\n    - Map of Neighbourhood\n    - Availabity of rooom\n5. **Word Cloud**\n6. **Regression Analysis**\n - Linear Regression\n - Decision Tree Regression\n - Random Forest Regression\n","854df971":"### Room Type","9fed5d9f":"## Availability of Room","248c1a43":"## Regression Analysis","0f04846c":"#### Print the Shape of the dataset","847ebcca":"### Examine Continous Variables","96deb8ef":"#### Rreplace the 'reviews per month' by zero","061fefbd":"<h1 align=\"center\">  AIRBNB <\/b> <\/h1><br>\n![](https:\/\/www.insuremyhouse.ie\/wp-content\/uploads\/2019\/09\/11.png)","211a2751":"### Get Correlation between different variables","29e127d6":"## WordCloud","ce4351ae":"## Data Visualization","c670d794":"#### Removing the Duplicates if any","f729e199":">  # <font color='orange'> Please UPVOTE if you found these helpful :) <\/font>","b6a8fd54":"#### Refernces\n - https:\/\/www.kaggle.com\/dgomonov\/data-exploration-on-nyc-airbnb\n - https:\/\/www.kaggle.com\/biphili\/hospitality-in-era-of-airbnb\n - https:\/\/www.kaggle.com\/geowiz34\/maps-of-nyc-airbnbs-with-python","5a996a41":"#### Check for the null values in each column","caff01d2":"#### Drop unnecessary columns","3d56bdbd":"## Importing Libraries","d0e574b8":"## Map of Neighbourhood group"}}