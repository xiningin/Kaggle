{"cell_type":{"37fe5df4":"code","abbe2b4f":"code","fca09970":"code","e26fceac":"code","f10fe979":"code","b84cedbd":"code","6d65959a":"code","fc49c52c":"code","268191e6":"code","47b2f367":"code","31f27911":"code","423cb767":"code","b2d7ea71":"code","3d72f13c":"code","f87364aa":"code","cc59c3a0":"code","3822bd60":"code","4776f2db":"code","b6dbaf48":"code","3729d060":"code","8c56ff5e":"code","57631148":"code","2b979665":"code","9e1146d3":"markdown","3e3b7842":"markdown","1f7ad8bc":"markdown","45850e88":"markdown","e6150d07":"markdown","ab488407":"markdown","e6797e51":"markdown","6d135bfc":"markdown","6575d301":"markdown","ea7539fd":"markdown","5a951c79":"markdown","f4d37e4c":"markdown","8487a166":"markdown","b4a0e608":"markdown","d78c1244":"markdown","96131521":"markdown","1f8feea2":"markdown","95109197":"markdown","5fc67e5e":"markdown","78e9436d":"markdown","97d2cb0b":"markdown","2d0754ae":"markdown"},"source":{"37fe5df4":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt \n%matplotlib inline\nsns.set_style('whitegrid')","abbe2b4f":"customers = pd.read_csv('..\/input\/ecommerce-customers\/Ecommerce Customers.csv')","fca09970":"customers.head()","e26fceac":"customers.info()","f10fe979":"customers.shape","b84cedbd":"customers.describe().transpose()","6d65959a":"sns.jointplot(x='Time on Website',y='Yearly Amount Spent',data=customers,color='grey')","fc49c52c":"sns.jointplot(x='Time on App',y='Yearly Amount Spent',data=customers,color='grey')","268191e6":"sns.jointplot(x='Time on App',y='Length of Membership',data=customers,color='grey',kind='hex')","47b2f367":"sns.pairplot(data=customers)","31f27911":"sns.lmplot(x='Yearly Amount Spent',y='Length of Membership',data=customers)","423cb767":"X = customers[['Avg. Session Length', 'Time on App',\n       'Time on Website', 'Length of Membership']]\ny = customers['Yearly Amount Spent']","b2d7ea71":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=101)","3d72f13c":"from sklearn.linear_model import LinearRegression","f87364aa":"lm = LinearRegression()","cc59c3a0":"lm.fit(X_train,y_train)","3822bd60":"print('Coefficients:',lm.coef_)\nprint('\\n')\nprint('Intercept:', lm.intercept_)","4776f2db":"predictions = lm.predict(X_test)","b6dbaf48":"plt.scatter(y_test,predictions)","3729d060":"from sklearn import metrics","8c56ff5e":"\nprint('MAE:',metrics.mean_absolute_error(y_test,predictions))\nprint('MSE:',metrics.mean_squared_error(y_test,predictions))\nprint('RMSE:',np.sqrt(metrics.mean_squared_error(y_test,predictions)))","57631148":"sns.distplot((y_test-predictions),bins=45,color='grey')","2b979665":"coeffecients = pd.DataFrame(lm.coef_,X.columns)\ncoeffecients.columns = ['Coeffecient']\ncoeffecients","9e1146d3":"# **Get the Data**\n\nThe Ecommerce Customers csv file from the company has data such as Email, Address and their color Avatar etc. Then there are also numerical columns:\n\n* Avg. Session Length: Average session of in-store style advice sessions.\n* Time on App: Average time spent on App in minutes\n* Time on Website: Average time spent on Website in minutes\n* Length of Membership: How many years the customer has been a member.","3e3b7842":"Create a scatter plot of the test values vs. the predicted values.","1f7ad8bc":"# **Conclusions**","45850e88":"**Check the head of the customers, and info()and summary statistics of the dataframe.**","e6150d07":"Set a variable to the numerical features of the customers and a variable y equal to the 'Yearly Amount Spent'.","ab488407":"Use a test size of 30% of the data and a random_state = 101","e6797e51":"**Print out the coefficient and intercept**","6d135bfc":"**Explore the relationships across the entire dataset using a pairplot**","6575d301":"Plot a histogram of the residuals to see if it is normally distributed.","ea7539fd":"**Use seaborn to create a jointplot to compare the Time on Website or Time on App and Yearly Amount Spent.**","5a951c79":"# **Predicting Test Data**","f4d37e4c":"# **Evaluating the Model**","8487a166":"Based off of the pairplot, looks like the Lenth of Membership and Yearly Amount Spent are the most correlated.","b4a0e608":"Use lm.predict() to predict off the X_test set of the data.","d78c1244":"# **Residuals**","96131521":"# **Exploratory Data Analysis**","1f8feea2":"# Training and Testing the Data","95109197":"Create a linear model plot (lmplot seaborn) of Yearly Amount Spent vs. Length of Membership.","5fc67e5e":"Compute the Mean Absolute Error, Mean Squared Error and Root Mean Squared Error","78e9436d":"Train\/fit lm on the training data","97d2cb0b":"* Holding all other features constant, a 1 unit increase in Avg. Session Length translates to an increase of 25.98 total dollars spent.\n* Holding all other features constant, a 1 unit increase in Time on App translates to an increase of 38.59 total dollars spent.\n* Holding all other features constant, a 1 unit increase in Time on Website translates to an increase of 0.19 total dollars spent.\n* Holding all other features constant, a 1 unit increase in Length of Membership translates to an increase of 61.27 total dollars spent.","2d0754ae":"# **Imports**\n\nImport pandas, numpy, matplotlib and seaborn"}}