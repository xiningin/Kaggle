{"cell_type":{"813315c8":"code","5415de9b":"code","49eaaa2a":"code","2f78284b":"code","aec276ef":"code","2e67c233":"code","47eca599":"code","98f08ea1":"code","49d45d1e":"code","196b6f21":"code","f94d5d8c":"code","79712eee":"code","febefac2":"code","63ae273d":"code","41fc247d":"code","c578fd65":"code","e0fa758e":"code","26d2696f":"markdown","fff08159":"markdown","22887c24":"markdown","4e5589e8":"markdown","b3881784":"markdown","9f99d6e7":"markdown","9ae78fbc":"markdown","400b9753":"markdown","433ac22d":"markdown","34758c7f":"markdown","d505633c":"markdown","80c88bc0":"markdown"},"source":{"813315c8":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport re\nfrom wordcloud import WordCloud,STOPWORDS\n\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","5415de9b":"df = pd.read_csv('\/kaggle\/input\/clinton-trump-tweets\/tweets.csv')\ndf.head()","49eaaa2a":"df.dtypes","2f78284b":"df.isnull().sum() \/ df.shape[0]","aec276ef":"df.groupby('lang')[['id']].count()","2e67c233":"df['original_author'] = df['original_author'].fillna(\"\")","47eca599":"df[(df['lang'] == 'es') & (df['original_author'] == '')][['lang', 'is_retweet', 'handle', 'text']].head()","98f08ea1":"retweeted = df[df['original_author'] != ''].groupby('original_author')[['text']].count().reset_index()\nr_sorted = retweeted[retweeted['text'] >= 5].sort_values(by='text', ascending=False)\nr_sorted\n","49d45d1e":"plt.figure(figsize=(20, 10))\n\nsns.barplot(x=\"text\", y=\"original_author\", data=r_sorted,\n            label=\"Total\", color=\"b\")\n\nplt.xlabel('Author')\nplt.ylabel('Count')\nplt.show()","196b6f21":"def show_author(row):\n    if row['original_author'] == \"\":\n        return row['handle']\n    return row['original_author']\n\ndf['author'] = df.apply(show_author, axis=1)\n\ndf[['author', 'handle', 'text']].head(20)","f94d5d8c":"df['text'] = df['text'].str.replace(r'[\\n]', '')\ndf['text'] = df['text'].str.replace(r'&amp', '')\ndf['text'] = df['text'].str.replace(r'https?:\\\/\\\/.*[\\r\\n]*', '')\ndf['text']","79712eee":"trump_tweets = df[(df['is_retweet']==False) & (df['handle']==\"realDonaldTrump\")]\nclinton_tweets = df[(df['is_retweet']==False) & (df['handle']==\"HillaryClinton\")]\n\ntrump_tweets","febefac2":"trump_corpus = trump_tweets[['text']]\nclinton_corpus = clinton_tweets[['text']]\ntrump_corpus","63ae273d":"import nltk\nfrom nltk.corpus import stopwords\nSTOP_WORDS = list(stopwords.words('english'))\n\ndef clean_corpus(df):\n    \n\n    df['text'] = df['text'].str.lower()\n    df['text'] = df['text'].str.replace('\\d+', '')\n    df['text'] = df['text'].str.strip()\n\n    punctuation_signs = list(\")(?:!.,;@\")\n\n    for punct_sign in punctuation_signs:\n        df['text'] = df['text'].str.replace(punct_sign, ' ')\n    \n    for stop_word in STOP_WORDS:\n        regex_stopword = r\"\\b\" + stop_word + r\"\\b\"\n        df['text'] = df['text'].str.replace(regex_stopword, '')\n        \n    return df\n    \ntrump_corpus = clean_corpus(trump_corpus)\nclinton_corpus = clean_corpus(clinton_corpus)\n","41fc247d":"trump_corpus","c578fd65":"plt.figure(figsize = (20,20)) # Text that is not Fake\nwc = WordCloud(max_words = 100 , width = 1600 , height = 800 , stopwords = STOPWORDS).generate(\" \".join(trump_corpus.text))\nplt.imshow(wc , interpolation = 'bilinear')","e0fa758e":"plt.figure(figsize = (20,20)) # Text that is not Fake\nwc = WordCloud(max_words = 100 , width = 1600 , height = 800 , stopwords = STOPWORDS).generate(\" \".join(clinton_corpus.text))\nplt.imshow(wc , interpolation = 'bilinear')","26d2696f":"Let's check the null values","fff08159":"### CLINTON CORPUS","22887c24":"Most of the tweets are in english. There are some *undefined* tweets. Let's check some spanish tweets.","4e5589e8":"I will continue. ","b3881784":"### LANGUAGES IN TWEETS","9f99d6e7":"### LET'S CREATE THE CORPUS OBJECTS FOR BOTH HILLARY AND TRUMP","9ae78fbc":"### WHO ARE THEY RETWEETING","400b9753":"### TRUMP CORPUS","433ac22d":"Let's determine a column which shows the author of the tweet.","34758c7f":"Let's check the data types","d505633c":"We can check who is *TheBriefing2016*. When \u0131 check I saw it was Hillary Clinton campaign account. You can check it fro  [this twitter link](https:\/\/twitter.com\/thebriefing2016). And the HFA stands for Hillary for America. So the second account is also a Hillary Clinton campaign account.","80c88bc0":"There are some columns such that almost all of the values are missing. "}}