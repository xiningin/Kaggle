{"cell_type":{"2d7496ca":"code","fbe741b2":"code","a45fa713":"code","85f3647e":"code","671920a4":"code","43510018":"code","98b6060b":"code","815854d0":"code","0898b063":"code","87b8cbf2":"code","92a76846":"code","42cee0b7":"code","dad371de":"code","867b0613":"code","e60e0f86":"code","32ee08e8":"code","5678b4fb":"code","188b367e":"code","12b40a75":"code","4b7bec0b":"code","4aa1f846":"code","a0708b25":"code","98785019":"code","77515c57":"code","dc0df047":"code","a94f0cfd":"code","79eeb63f":"code","8578bf9e":"code","89c1f8e6":"code","526e1fc9":"code","13387f6b":"code","d39b1bba":"code","a915777e":"code","ef1dc081":"code","bd63eb5b":"code","e59c527c":"code","807c2c23":"code","d1ace7e8":"code","a21fe989":"code","58fdbc49":"code","ec98797d":"code","d4a59d5c":"code","3f1ef96c":"code","217ea1e9":"code","3081b511":"code","1c23d7bb":"code","7d521dd8":"code","d7f236f7":"code","8c526533":"code","ee6a585c":"code","fdc6de9a":"code","01cb3cf8":"code","db861058":"code","9db87d4a":"code","920eeaee":"code","312c8fb4":"code","994f9159":"code","c110ea91":"code","79cf8f70":"code","5ed1fd18":"code","5315ba27":"code","9a8c9946":"code","db5c8696":"code","1efbbbcf":"code","f0afd01d":"code","c527ba11":"code","86134846":"code","6cad05c5":"code","6b8d1c09":"markdown","b612b51c":"markdown","8bf9ab58":"markdown","f7048921":"markdown","30f049fd":"markdown","4cc6f376":"markdown","1b69df2b":"markdown","0c44cca5":"markdown","9b3c9687":"markdown","831c21db":"markdown","b65242ad":"markdown"},"source":{"2d7496ca":"import pandas as pd\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","fbe741b2":"kiva_loan=pd.read_csv('\/kaggle\/input\/data-science-for-good-kiva-crowdfunding\/kiva_loans.csv')","a45fa713":"kiva_loan.head()","85f3647e":"kiva_loan.describe()","671920a4":"countries= kiva_loan.groupby(['country'])['loan_amount'].sum().sort_values(ascending=False).reset_index()","43510018":"countries.to_excel('countries.xlsx')","98b6060b":"countries.head(20)","815854d0":"countries= kiva_loan.groupby(['country'])['loan_amount'].sum().sort_values(ascending=True).reset_index()","0898b063":"countries.to_excel('countries.xlsx')","87b8cbf2":"countries.head(20)","92a76846":"kiva_loan['country'].unique","42cee0b7":"kiva_loan['country'].nunique()","dad371de":"kiva_loan['country'].value_counts().reset_index()","867b0613":"India['sector'].value_counts().reset_index()","e60e0f86":"India = kiva_loan[kiva_loan['country'] == 'India']","32ee08e8":"India.groupby(['sector'])['loan_amount'].sum().reset_index()","5678b4fb":"regions=India.groupby('region')['loan_amount'].sum().sort_values(ascending=False).reset_index()","188b367e":"regions.head(10)","12b40a75":"India.pivot_table(columns=['region','sector'],aggfunc='sum')","4b7bec0b":"themes = pd.read_csv('\/kaggle\/input\/data-science-for-good-kiva-crowdfunding\/loan_theme_ids.csv')","4aa1f846":"merged_data = kiva_loan.merge(themes, on='id')","a0708b25":"merged_data.head(20)","98785019":"merged_data['Loan Theme Type'].unique()","77515c57":"themes_data = merged_data.groupby('Loan Theme Type')\\\n['loan_amount'].sum().sort_values(ascending=False).reset_index()","dc0df047":"themes_data.head(20)","a94f0cfd":"import matplotlib.pyplot as plt\nimport numpy as np","79eeb63f":"md=merged_data.head(500)","8578bf9e":"import matplotlib.pyplot as plt","89c1f8e6":"x=md['sector']\ny=md['loan_amount']\nbar_width=.7\nplt.xticks(rotation=65)\n\nplt.title('loan Amount by sector')\nplt.xlabel('Sector')\nplt.ylabel('loan Amount')\n\nplt.bar(x, y, bar_width, color ='blue')","526e1fc9":"x=md['term_in_months']\ny=md['loan_amount']\n\nplt.title('loan Amount by lenders')\nplt.xlabel('term in months')\nplt.ylabel('loan amount')\n\nplt.scatter(x, y)","13387f6b":"import matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib import colors\nfrom matplotlib.ticker import PercentFormatter","d39b1bba":"ux=md['loan_amount']\n\nplt.hist(ux, bins =10)\nplt.show()","a915777e":"import seaborn as sns","ef1dc081":"merged_region =merged_data.groupby ('region')['loan_amount'].sum().sort_values(ascending=False).reset_index()","bd63eb5b":"India","e59c527c":"merged_data['region'].unique()","807c2c23":"local_region=merged_data[merged_data['country']=='India']\nlocal_region.head(20)","d1ace7e8":"local =local_region.groupby('region')['loan_amount'].sum().sort_values(ascending=False).reset_index()","a21fe989":"local.head(20)","58fdbc49":"plt.figure(figsize=(20,6))\nplt.xticks(rotation=45)\nplt.title('Loan Amount by Region:Top 20')\nsns.barplot(x='region', y='loan_amount', data=local.head(20))","ec98797d":"Jeypore=local_region[local_region['region']=='Jeypore']\nJeypore.head()","d4a59d5c":"correlation=local_region.corr()","3f1ef96c":"correlation=correlation.drop(['partner_id'],axis=1)","217ea1e9":"correlation","3081b511":"plt.figure(figsize=(20,5))\nplt.yticks(rotation=90)\nsns.heatmap(correlation,cmap='rainbow')","1c23d7bb":"plt.figure(figsize=(25,8))\nsns.scatterplot(x='lender_count',y='loan_amount', data =India, hue='loan_amount')","7d521dd8":"def clean_gender(gender):\n    gender=str(gender)\n    if gender.startswith('f'):\n        gender='female'\n    return gender","d7f236f7":"local_region['borrower_genders']=local_region['borrower_genders'].apply(clean_gender)","8c526533":"activity=local_region.groupby (['borrower_genders', 'sector'])['loan_amount'].sum().sort_values(ascending=False).reset_index()","ee6a585c":"plt.figure(figsize=(20,5))\nplt.xticks(rotation=35)\nsns.barplot(x='sector',y='loan_amount', hue='borrower_genders',data=activity.head(25))","fdc6de9a":"local.head(20)","01cb3cf8":"import plotly.graph_objects as go\nlabels=activity['sector']\nvalues=activity ['loan_amount']\nfig=go.Figure(data=[\n    go.Pie(labels=labels, values=values)\n])\n\nfig.show()","db861058":"import plotly.graph_objects as go\nlabels = activity['sector']\nvalues =activity['loan_amount']\nfig=go.Figure(data=[go.Pie(labels=labels, values=values, hole=.7)])\n\nfig.show()import plotly.express as px\nfig = px.bar(activity, x='sector', y='loan_amount')\nfig.show()","9db87d4a":"import plotly.express as px\nfig = px.bar(activity, x='sector', y='loan_amount')\nfig.show()","920eeaee":"import plotly.express as px\nfig = px.bar(activity, x='sector', y='loan_amount',\n             hover_data=['loan_amount', 'borrower_genders'], color='loan_amount',\n             labels={'loan_amount':'Loan Amount'}, height=600)\nfig.show()","312c8fb4":"import plotly.express as px\nfig = px.scatter(local_region, x=\"loan_amount\", y=\"lender_count\", color=\"sector\",\n                 size='lender_count', hover_data=['funded_amount'])\nfig.show()","994f9159":"def create_year(date):\n    year =pd.DatetimeIndex(date).year\n    return year","c110ea91":"local_region['year'] =create_year(local_region['date'])","79cf8f70":"def create_day(date):\n    month =pd.DatetimeIndex(date).day\n    return month","5ed1fd18":"local_region['day_of_month'] =create_day(local_region['date'])","5315ba27":"local_region.head(10)","9a8c9946":"import plotly.express as px\npx.scatter(local_region, x='loan_amount', y='lender_count', animation_frame='day_of_month', animation_group='activity', \n           size=\"loan_amount\", color=\"sector\", hover_name=\"loan_amount\",\n           log_x=True, size_max=55, range_x=[25,50000], range_y=[0,200])","db5c8696":"loan_themes_by_region = pd.read_csv('loan_themes_by_region.csv')","1efbbbcf":"loan_themes_by_India = loan_themes_by_region[loan_themes_by_region['country']=='India']","f0afd01d":"loan_themes_by_India.head()","c527ba11":"px.set_mapbox_access_token('pk.eyJ1IjoibXdpdGlkZXJyaWNrIiwiYSI6ImNrMHJyZ2w0bTA4dGwzbW85OHdwb2RoNjcifQ.YkzAW4L2Z6TgZKW65_uyEQ')\nfig = px.scatter_mapbox(loan_themes_by_India, lat=\"lat\", lon=\"lon\", color=\"region\", size=\"amount\",\n                  color_continuous_scale=px.colors.cyclical.IceFire, size_max=15)\nfig.show()","86134846":"import plotly.graph_objects as go\n\nmapbox_access_token ='pk.eyJ1IjoibXdpdGlkZXJyaWNrIiwiYSI6ImNrMHJyZ2w0bTA4dGwzbW85OHdwb2RoNjcifQ.YkzAW4L2Z6TgZKW65_uyEQ'\nsize = loan_themes_by_India['amount']\/30000\nfig = go.Figure(go.Scattermapbox(\n        lat=loan_themes_by_India['lat'],\n        lon=loan_themes_by_India['lon'],\n        mode='markers',\n        marker=go.scattermapbox.Marker(\n            size=size,\n            color='red',\n        ),\n        text= loan_themes_by_India['region'],\n    \n    ))\nfig.update_layout(\n    autosize=True,\n    hovermode='closest',\n    mapbox=go.layout.Mapbox(\n        accesstoken=mapbox_access_token,\n        bearing=0,\n        center=go.layout.mapbox.Center(\n            lat=0.1769,\n            lon=37.9083\n        ),\n        pitch=0,\n        zoom=5\n    )\n)\n\nfig.show()","6cad05c5":"import os\nfor dirname, -, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","6b8d1c09":"### Which countries have the smallest loan amount?","b612b51c":"### How many countries are in this dataset?","8bf9ab58":"### Which countries have the largest loan amount?","f7048921":"The country with the smallest loan amount is Guam with $4300","30f049fd":"Jeypore,Odish has the highest loan amount from kiava","4cc6f376":"The country with the largest loan amount is Philippines with $55342225.0","1b69df2b":"\n## Which sector are most of the borrowers in from India?\n","0c44cca5":"### Create a pivot table with region and sector as the columns and count as the aggregate function\n","9b3c9687":"Jeypore,Odish is the largest borrower from Kiva in India","831c21db":"\n### Select all the data points from India, group by region and compute the total loan amount for each region.\n","b65242ad":"The median loan fuunded amount is $450"}}