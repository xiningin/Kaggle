{"cell_type":{"85140734":"code","b843c0fb":"code","6aec2e5f":"code","046f290c":"code","9899a2d4":"code","1f2a5c96":"code","af0b87bc":"code","8d8e6ef4":"code","4b35f414":"code","97a45980":"code","057844d2":"code","c130c813":"code","e919b5f7":"code","cbd8e64f":"code","357fdaee":"code","c3e28b4d":"code","d6628e2b":"code","d949f283":"code","d251ef38":"code","8c540a36":"code","a5571c80":"code","72d27943":"markdown","db1e73a1":"markdown","25641427":"markdown"},"source":{"85140734":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport folium","b843c0fb":"df = pd.read_csv('..\/input\/birdsong-recognition\/train.csv')","6aec2e5f":"df.head()","046f290c":"df.shape","9899a2d4":"df.columns","1f2a5c96":"# country distribution\ndf.country.value_counts()","af0b87bc":"df.country.value_counts()[0:10].plot(kind='bar')\nplt.grid()\nplt.show()","8d8e6ef4":"# convert lat\/lon to numeric\/NaN\ndf.latitude = pd.to_numeric(df.latitude, errors='coerce')\ndf.longitude = pd.to_numeric(df.longitude, errors='coerce')","4b35f414":"# first simple plot of locations\nsns.scatterplot(x='longitude', y='latitude', data=df)\nplt.grid()\nplt.show()","97a45980":"# eval frequencies\nbird_freq = df.ebird_code.value_counts()\nbird_freq","057844d2":"# select first 10 categories and plot in color\ndf_select = df[df.ebird_code.isin(bird_freq[0:9+1].index)]\nsns.scatterplot(x='longitude', y='latitude', hue='ebird_code', data=df_select, palette='colorblind')\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.) # move legend out of the plot area\n\nplt.grid()\nplt.show()","c130c813":"# select next 10 categories and plot in color\ndf_select = df[df.ebird_code.isin(bird_freq[10:19+1].index)]\nsns.scatterplot(x='longitude', y='latitude', hue='ebird_code', data=df_select, palette='colorblind')\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\nplt.grid()\nplt.show()","e919b5f7":"# select next 10 categories and plot in color\ndf_select = df[df.ebird_code.isin(bird_freq[20:29+1].index)]\nsns.scatterplot(x='longitude', y='latitude', hue='ebird_code', data=df_select, palette='colorblind')\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\nplt.grid()\nplt.show()","cbd8e64f":"# select next 10 categories and plot in color\ndf_select = df[df.ebird_code.isin(bird_freq[30:39+1].index)]\nsns.scatterplot(x='longitude', y='latitude', hue='ebird_code', data=df_select, palette='colorblind')\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\nplt.grid()\nplt.show()","357fdaee":"my_bird = 'houspa'\ndf_example = df[df.ebird_code.isin([my_bird])]\ndf_example.shape","c3e28b4d":"# check for missing coordinates\ndf_example.latitude.isna().sum()","d6628e2b":"# check for missing coordinates\ndf_example.longitude.isna().sum()","d949f283":"# remove rows with missings\ndf_example = df_example.dropna(axis=0, subset=['latitude','longitude'])","d251ef38":"df_example.shape","8c540a36":"# interactive map\nzoom_factor = 2\nmy_map_1 = folium.Map(location=[0,0], zoom_start=zoom_factor)\n\nfor i in range(0,df_example.shape[0]):\n   folium.Circle(\n      location=[df_example.iloc[i]['latitude'], df_example.iloc[i]['longitude']],\n      radius=np.sqrt(df_example.iloc[i]['rating'])*25000,\n      color='blue',\n      popup='ID: ' + str(df_example.iloc[i]['xc_id']),\n      fill=True,\n      fill_color='blue',\n   ).add_to(my_map_1)\n\nmy_map_1 # display","a5571c80":"my_bird = 'greegr'\ndf_example = df[df.ebird_code.isin([my_bird])]\ndf_example = df_example.dropna(axis=0, subset=['latitude','longitude'])\n\n# interactive map\nzoom_factor = 2\nmy_map_2 = folium.Map(location=[0,0], zoom_start=zoom_factor)\n\nfor i in range(0,df_example.shape[0]):\n   folium.Circle(\n      location=[df_example.iloc[i]['latitude'], df_example.iloc[i]['longitude']],\n      radius=np.sqrt(df_example.iloc[i]['rating'])*25000,\n      color='blue',\n      popup='ID: ' + str(df_example.iloc[i]['xc_id']),\n      fill=True,\n      fill_color='blue',\n   ).add_to(my_map_2)\n\nmy_map_2 # display","72d27943":"# Show another one","db1e73a1":"# First glance","25641427":"# Look at only one bird category and provide interactive map"}}