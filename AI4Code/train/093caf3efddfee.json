{"cell_type":{"71a9a953":"code","65f43198":"code","095f6b63":"code","5cebb02a":"code","166c3e45":"code","95be34c0":"code","73913aed":"code","50867c68":"code","1b718a1e":"code","07b34a00":"code","3ac1f7d6":"code","bacffc22":"markdown","10a8d70b":"markdown","00b2562d":"markdown","cb9e4a26":"markdown","613f4e38":"markdown","8a9092d7":"markdown","6d2b8117":"markdown"},"source":{"71a9a953":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom plotly.subplots import make_subplots\nimport plotly.graph_objects as go","65f43198":"datos = pd.read_csv('\/kaggle\/input\/personal-finance\/personal_transactions.csv')\ndatos.Date = pd.to_datetime(datos.Date)","095f6b63":"datos.head()","5cebb02a":"datos.info()","166c3e45":"debits = datos[datos[\"Transaction Type\"] == 'debit']","95be34c0":"def count_sum(data ,column: str, plot = \"Pie\"):\n    by_column = data\\\n                .groupby(column)\\\n                .agg({\"Transaction Type\": \"count\", \"Amount\": \"sum\"})\\\n                .rename(columns={\"Transaction Type\": \"Total\"})\\\n                .reset_index()\n    by_column.columns = [column, \"Total\", \"Sum\"]\n    \n    labels = by_column[column]\n\n    fig = None\n    \n    if plot == 'Pie':\n        fig = make_subplots(1, 2, specs=[[{'type':'domain'}, {'type':'domain'}]],\n                    subplot_titles=['Sum', 'Total'])\n        fig.add_trace(\n            go.Pie(\n                labels=labels,\n                values=by_column[\"Sum\"],\n                name=\"Sum\"\n            ),\n        1, 1)\n        fig.add_trace(\n            go.Pie(\n                labels=labels,\n                values=by_column[\"Total\"],\n                name=\"Total\"\n            ),\n        1, 2)\n    elif plot == 'Scatter':\n        fig = make_subplots(1, 2,\n                    subplot_titles=['Sum', 'Total'])\n        fig.add_trace(\n            go.Scatter(\n                x=labels,\n                y=by_column[\"Sum\"],\n                name=\"Sum\"\n            ),\n        1, 1)\n        fig.add_trace(\n            go.Scatter(\n                x=labels,\n                y=by_column[\"Total\"],\n                name=\"Total\"\n            ),\n        1, 2)\n        \n\n    fig.update_layout(title_text=f\"{column} Analysis\")\n    fig.show()\n    \n    return by_column","73913aed":"gastos_by_cat = count_sum(debits, \"Category\")\ngastos_by_cat","50867c68":"gastos_by_payment_way = count_sum(debits, \"Account Name\")\ngastos_by_payment_way","1b718a1e":"gastos_by_date = count_sum(debits, \"Date\", plot=\"Scatter\")\ngastos_by_date","07b34a00":"credits = datos[datos[\"Transaction Type\"] == 'credit']","3ac1f7d6":"income_by_account = count_sum(credits, \"Account Name\")\nincome_by_account","bacffc22":"## Debits Analysis","10a8d70b":"### Income by Account?","00b2562d":"### Total \\$ Gastos por fecha ","cb9e4a26":"# Personal Finance EDA","613f4e38":"## Income Analysis","8a9092d7":"### \u00bfC\u00f3mo se reparten mis gastos seg\u00fan categor\u00eda? - Debits by Category?","6d2b8117":"### \u00bfC\u00faales son mis medios de pago favoritos? - Debits by Payment Account?"}}