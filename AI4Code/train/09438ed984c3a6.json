{"cell_type":{"93d49c5d":"code","e044895c":"code","5259edc1":"code","7d144f72":"code","d1613563":"code","4873e287":"code","14e463ee":"code","be69c766":"markdown","c371b1f0":"markdown","c89dfa50":"markdown","6ab923eb":"markdown"},"source":{"93d49c5d":"# data processing, CSV file I\/O\nimport pandas as pd","e044895c":"#Load the data\ndata=pd.read_csv(\"..\/input\/train.csv\",nrows = 3000000)\nprint(data.shape)\ndata.head(3)","5259edc1":"# Type of pickup_datetime is an object\ndata['pickup_datetime'].dtypes ","7d144f72":"#convert data type of pickup_datetime object to datetime\nprint(\"Execution Time without setting the parameter infer_datetime_format as True\")\n%timeit pd.to_datetime(data['pickup_datetime'])","d1613563":"#Load the data again and use parameter infer_datetime_format=True\ndata=pd.read_csv(\"..\/input\/train.csv\",nrows = 3000000)\nprint(data.shape)\ndata.head(3)","4873e287":"# Type of pickup_datetime is an object\ndata['pickup_datetime'].dtypes ","14e463ee":"#convert data type of pickup_datetime, object to datetime\n# Use Parameter infer_datetime_format and set it as True\nprint(\"Execution Time with the help of parameter infer_datetime_format=True\")\n%timeit pd.to_datetime(data['pickup_datetime'],infer_datetime_format=True)","be69c766":"**Large Dataset**","c371b1f0":"**Why to_datetime is too slow?**:-\n\nIn this instance, pandas falls back to dateutil.parser.parse for parsing the strings when no format string is supplied (more flexible, but also slower).\n\nWhat does Parser mean? :-\nA parser is a compiler or interpreter component that breaks data into smaller elements for easy translation into another language. A parser takes input in the form of a sequence of tokens or program instructions and usually builds a data structure in the form of a parse tree or an abstract syntax tree. (ref.techopedia)\n\nEnhancements :-\npd.to_datetime learned a new infer_datetime_format keyword which greatly improves parsing perf in many cases.\n\n* *We can improve the performance with the help of parameter  infer_datetime_format*\n \n**infer_datetime_format** :- boolean, default False\n\nIf True and no format is given, attempt to infer the format of the datetime strings, and if it can be inferred, switch to a faster method of parsing them. In some cases this can increase the parsing speed by ~5-10x.\n\n**timeit**:- Measure the  execution time\n\n(ref.:pandas.pydata.org)","c89dfa50":"If we observe Execution Time without setting the parameter infer_datetime_format as True, It is around 6 min and If we set it as True, it takes few seconds  for execution.","6ab923eb":"If anyone has the depth knowledge on infer_datetime_format. Please, share it in a comment section."}}