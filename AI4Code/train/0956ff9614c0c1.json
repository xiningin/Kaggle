{"cell_type":{"86951e92":"code","3e30f27a":"code","5ec4c3a6":"code","4fa74e5d":"code","6296c720":"code","c192008d":"code","b9d92b7d":"code","e735f2a2":"code","34ee0a0c":"code","c6d0a2af":"code","15cdd594":"code","40950c6d":"code","daaf3bf3":"markdown","477cbef7":"markdown","4c7d0b12":"markdown"},"source":{"86951e92":"# https:\/\/pdpipe.github.io\/pdpipe\/\n!pip install pdpipe","3e30f27a":"import pandas as pd\nimport pdpipe as pdp","5ec4c3a6":"train = pd.read_csv('..\/input\/titanic\/train.csv')\ntest = pd.read_csv('..\/input\/titanic\/test.csv')","4fa74e5d":"train.head()","6296c720":"train.isnull().sum()","c192008d":"CATEGORICAL_COL = ['Sex', 'SibSp', 'Embarked']\nDROP_COL = ['PassengerId', 'Name', 'Ticket', 'Parch', 'Cabin']\n# NUMERICAL_COL = ['Pclass', 'Age', 'Fare']\n# TARGET_COL = 'Survived'","b9d92b7d":"# https:\/\/pdpipe.github.io\/pdpipe\/doc\/pdpipe\/\npipeline = pdp.PdPipeline([\n    pdp.Encode(CATEGORICAL_COL),\n    pdp.ColDrop(DROP_COL)\n])","e735f2a2":"for c in CATEGORICAL_COL:\n    train[c].fillna('<missing>', inplace=True)\n    test[c].fillna('<missing>', inplace=True)","34ee0a0c":"print(set(test['Parch']) - set(train['Parch']))","c6d0a2af":"train = pipeline.fit_transform(train, verbose=True)\ntest = pipeline.transform(test)","15cdd594":"train.head()","40950c6d":"test.head()","daaf3bf3":"You can use `get_numeric_column_names` function.\n```python\nfrom pdpipe.util import get_numeric_column_names\n\nget_numeric_column_names(train)\n# ['PassengerId', 'Survived', 'Pclass', 'Age', 'SibSp', 'Parch', 'Fare']\n```","477cbef7":"We need 2 preproccesings for escaping errors.\n\n1. null values in CATEGORICAL_COL must be inputed in advance. Otherwise, you'll face the following error.\n```\nTypeError: Encoders require their input to be uniformly strings or numbers. Got ['float', 'str']\n```\n\nThere is no inputter now.\nhttps:\/\/github.com\/pdpipe\/pdpipe\/issues\/13","4c7d0b12":"2. new values in test dataset can't be acceptable. You'll face the following error.\n```\nValueError: y contains previously unseen labels: [9]\n```\n\nIn this sample, columns which contains new values in test dataset are deleted. Another option is to concat train and test dataset beforehand."}}