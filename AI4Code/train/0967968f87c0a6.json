{"cell_type":{"8efde796":"code","d1d87a1f":"code","be122d80":"code","8dd56c98":"code","28bad37d":"code","2f4950a6":"code","5e5c3b9e":"code","b64abd2d":"code","d3e1adfc":"code","1541acc9":"code","8afa8818":"code","ac3f75b0":"code","9057d606":"code","93d39199":"code","c7e12907":"code","c2c365b8":"code","04d2efcc":"code","534af993":"code","e617bf8d":"code","96c76933":"code","4a6dcac4":"code","16f49835":"code","6f2f0bcb":"code","cff7ca67":"code","4638f1f9":"code","35a228b4":"code","75267f25":"code","de41d050":"code","33b77fad":"code","84967b96":"code","09625b4c":"code","ff3b66e7":"code","ff812438":"code","be391300":"code","5e968fe6":"code","9d7b2733":"code","0b9a47b1":"code","1ea1278e":"code","0903e9ff":"code","09772e30":"code","154c740a":"code","105e482e":"code","70ae3615":"code","9dec9718":"code","1161297e":"code","39015460":"code","49cd46f1":"code","0c9c65e4":"code","8c238fd8":"code","54ab9d33":"code","3cb120e0":"code","fac97e7b":"markdown","3d7de293":"markdown","a9ac796f":"markdown","a52c81f8":"markdown","f0e16e19":"markdown","8663cd44":"markdown","e35b826f":"markdown","7dc65a7b":"markdown","5d76ba75":"markdown","17ac7b48":"markdown","1f3f792b":"markdown","b3a09cdd":"markdown","9cc6cbb1":"markdown","c9fe2ce1":"markdown","da9fe018":"markdown","f1329f2b":"markdown","79bdda91":"markdown","e5981790":"markdown","4864451c":"markdown","581eeb61":"markdown","fee96b6a":"markdown","ba23479f":"markdown","6d86071a":"markdown","075cdcbe":"markdown","db68a66e":"markdown","b878bb7e":"markdown","54e3086d":"markdown","9d1bbf59":"markdown","0d9b5b1e":"markdown","d2aced47":"markdown","8a93193b":"markdown","ace3055e":"markdown","3d466f23":"markdown"},"source":{"8efde796":"import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots","d1d87a1f":"sample_store = pd.read_csv(\"\/kaggle\/input\/tsf-datasets\/SampleSuperstore.csv\")","be122d80":"sample_store.head()","8dd56c98":"sample_store.info()","28bad37d":"sample_store.shape","2f4950a6":"sample_store.isnull().sum()","5e5c3b9e":"sample_store.duplicated().sum()","b64abd2d":"sample_store[sample_store.duplicated()]","d3e1adfc":"sample_store.drop_duplicates()","1541acc9":"sample_store.drop(columns=[\"Postal Code\"] , axis = 1 , inplace=True)","8afa8818":"sns.heatmap(sample_store.corr() , annot = True)","ac3f75b0":"plt.scatter(x = sample_store[\"Profit\"] , y = sample_store[\"Sales\"])","9057d606":"plt.figure(figsize = (17,9))\nsns.countplot(sample_store[\"State\"])\nplt.xticks(rotation = 90)\nplt.show()","93d39199":"#Let's get some aggregated views from pairplot\nsns.pairplot(sample_store)","c7e12907":"sample_store.groupby(['State'])[['Sales', 'Profit']].sum().sort_values(\"Profit\" , ascending = False).head(5)","c2c365b8":"sample_store.groupby(['State'])[['Sales', 'Profit']].sum().sort_values(\"Profit\" , ascending = True).tail(5)","04d2efcc":"States_code = {'Alabama': 'AL','Alaska': 'AK','Arizona': 'AZ','Arkansas': 'AR','California': 'CA','Colorado': 'CO',\n              'Connecticut': 'CT','Delaware': 'DE','Florida': 'FL','Georgia': 'GA','Hawaii': 'HI','Idaho': \n              'ID','Illinois': 'IL','Indiana': 'IN','Iowa': 'IA','Kansas': 'KS','Kentucky': 'KY','Louisiana': \n              'LA','Maine': 'ME','Maryland': 'MD','Massachusetts': 'MA','Michigan': 'MI',\n              'Minnesota': 'MN','Mississippi': 'MS','Missouri': 'MO','Montana': 'MT','Nebraska': 'NE','Nevada': 'NV',\n              'New Hampshire': 'NH','New Jersey': 'NJ','New Mexico': 'NM','New York': 'NY','North Carolina': 'NC',\n              'North Dakota': 'ND','Ohio': 'OH','Oklahoma': 'OK','Oregon': 'OR','Pennsylvania': 'PA','Rhode Island': 'RI',\n              'South Carolina': 'SC','South Dakota': 'SD','Tennessee': 'TN','Texas': 'TX','Utah': 'UT','Vermont': 'VT',\n              'Virginia': 'VA','District of Columbia': 'WA','Washington': 'WA','West Virginia': 'WV','Wisconsin': 'WI',\n              'Wyoming': 'WY'}\nsample_store['States_code'] = sample_store.State.apply(lambda x: States_code[x])","534af993":"geo_data = sample_store.groupby(['States_code'])[['Sales', 'Profit']].sum()\n\nfig = go.Figure(data=go.Choropleth(\n    locations=geo_data.index, # Spatial coordinates\n    z = geo_data.Profit, # Data to be color-coded\n    locationmode = 'USA-states', # set of locations match entries in `locations`\n    colorscale = [[0, \"Red\"], [0.25, 'pink'], [0.45, 'lightblue'], [0.6, 'lightgreen'], [1, 'green']],\n#      reversescale = True,\n    colorbar_title = 'Profits in USD',\n))\n\nfig.update_layout(\n    title_text = 'Total State-Wise Profit\/Loss',\n    geo_scope='usa', # limite map scope to USA\n    height=800,\n)\n\nfig.show()","e617bf8d":"sample_store.groupby(['State'])[['Sales', 'Profit']].sum().sort_values(\"Sales\" , ascending = False).head()","96c76933":"sample_store.groupby(['State'])[['Sales', 'Profit']].sum().sort_values(\"Sales\" , ascending = True).tail()","4a6dcac4":"plot_data = sample_store.groupby(['States_code'])[['Sales', 'Profit']].sum()\n\n\nfig = go.Figure(data=go.Choropleth(\n    locations=plot_data.index, \n    z = plot_data.Sales, \n    locationmode = 'USA-states', \n    colorscale = 'blues',\n    colorbar_title = 'Sales in USD',\n))\n\nfig.update_layout(\n    title_text = 'Total State-Wise Sales',\n    geo_scope='usa',\n    height=800,\n)","16f49835":"sample_store[\"Category\"].value_counts()","6f2f0bcb":"sample_store[\"Category\"].value_counts().plot.bar(color = \"brown\")","cff7ca67":"sample_store.groupby(['Category'])[['Sales', 'Profit']].sum().sort_values(\"Profit\" , ascending = False)","4638f1f9":"category = sample_store.groupby(['Category'])[['Sales', 'Profit']].sum()\ncategory","35a228b4":"normalize = category.copy()","75267f25":"cols = category.columns\ncols","de41d050":"for i in cols:\n    print(i)","33b77fad":"for i in cols:\n    normalize[i] = normalize[i]\/normalize[i].sum()","84967b96":"normalize.plot.bar(title = (\"Category wise Sales and Profits\") ,figsize = (12,6))","09625b4c":"sample_store.groupby([\"Category\" , \"Sub-Category\"])[['Sales', 'Profit']].sum()","ff3b66e7":"sample_store.groupby(\"Sub-Category\")[\"Discount\"].sum().sort_values(ascending = False)","ff812438":"plt.figure(figsize = (17,9))\nsns.barplot(x = \"Sub-Category\" , y = \"Discount\" , data = sample_store)","be391300":"#Plotting the chart for Profit vs Discount\nsns.lineplot(x='Discount',y='Profit',label='Profit',data=sample_store)\nplt.legend()\nplt.show()","5e968fe6":"#Plotting the chart for Profit vs Discount\nsns.lineplot(x='Discount',y='Sales',label='Sales',data=sample_store)\nplt.title = ('Comparison between Sales and Discount')\nplt.legend()\nplt.show()","9d7b2733":"sub_cat = sample_store.groupby([\"Sub-Category\"])[['Sales', 'Profit']].sum()\nsub_cat","0b9a47b1":"normalize = sub_cat.copy()","1ea1278e":"cols = category.columns\ncols","0903e9ff":"for i in cols:\n    print(i)","09772e30":"for i in cols:\n    normalize[i] = normalize[i]\/normalize[i].sum()","154c740a":"normalize.plot.bar(title = (\"Sub-Category wise Sales and Profits\") ,figsize = (12,6))","105e482e":"ship = sample_store.groupby([\"Ship Mode\"])[['Sales', 'Profit']].sum()","70ae3615":"norm = ship.copy()","9dec9718":"cols = norm.columns","1161297e":"for i in cols:\n    norm[i] = norm[i]\/norm[i].sum()","39015460":"norm.plot.bar(figsize = (12,6))","49cd46f1":"sns.catplot(\"Ship Mode\", hue=\"Segment\", data=sample_store, kind=\"count\", aspect=1.5 , palette=\"Set1\")","0c9c65e4":"reg = sample_store.groupby(\"Region\")[['Sales', 'Profit']].sum()\nreg","8c238fd8":"col = reg.columns","54ab9d33":"for i in cols:\n    reg[i] = reg[i]\/reg[i].sum()","3cb120e0":"reg.plot.bar(title = \"Region Wise Proftis and Sales\" , figsize = (10,6) , ylabel = \"Profit and Sales in Percentage\")","fac97e7b":"\n### Yes there is a weak area in the furniture section where we can need to work more .You can see it in the graph above The Sales is becoming so high that the profit is not even half of it why?.\n\n* The first thing a company needs to know is that so many sales despite being Why is profit so low? ","3d7de293":"# Business Analytics","a9ac796f":"## Checkig  State wise sales.","a52c81f8":"*` for the sales prospective as much as the company increasing discount That's how many sales are declining . but at one time when discount is 0.5% The sales rate is high. but overall company focusing on the discount section that morre discount will effect our profit seriosly`","f0e16e19":"####  Consumer count is highest in each case and they generally prefer Standard Class. ","8663cd44":"\n![image.png](attachment:b28b38b9-ea47-4d65-8af0-b48a3672096f.png)\n\n**Task**: `As a business manager, try to find out the weak areas where you can\nwork to make more profit`.","e35b826f":"## 1. What are the weak areas where we need to work to make more profit?\n* To answer this question let's make a plot on the Profit\/Loss across all the states of USA.","7dc65a7b":"## Check State Wise Profits and Sales.","5d76ba75":"### The Observations from the above graph are:\n\n* The company has the highest sales in the state of **California** selling around 450k of goods shown in dark blue.\n* Second highest sales in the state of **New York** selling around 310k of goods shown in in light dark blue color.\n* States like **Texas**, **Washington**, **Pennsylvania** also the Avg Sales of around 150k ","17ac7b48":"* Seeing the plot we can easily say that **Copiers** and **Accessories** is the Highest profit getting sub-category.Even the great things is that Profit is double to his sales.\n\n\n\n* we can easily say that in the subcategory column there is highest amount of loss in the **tables** category and intresting things is that table lies in the furniture category which we have already highlighted that this is a wake area where the company can work.\n\n\n\n* Second highest loss subcategory is **bookcases** which is also lies in the furniture category.And the main reason of lose is that, the the company is giving more discount to people.Which I have already mentioned that Where the company increasing the discount profit is very in these categories.\n\n\n\n* we suggest our company to reduce the discount.If you want to make more profit in these subcategories.","1f3f792b":"## Now Check a Category column to see that is there is any weak area?","b3a09cdd":"### Analyze Sub Category Column.","9cc6cbb1":"* These are **Duplicate Rows**","c9fe2ce1":"### Region Wise Proftis and Sales","da9fe018":"## Comparison between Sales and Discount","f1329f2b":"### Importing Libraries","79bdda91":"## Check Duplicate rows in the columns.","e5981790":"## First we will show which Subcategory lies in which Category section.","4864451c":"* This is a not good sign for company when companies gives more discount to his people.Due to which the profit is getting very low.\n\n\n* view in graph The less discount a company offers, the more profit it has which means giving more discount to people our profit is being effected","581eeb61":"### There is no such correlation in the sample store data. Slighty Correlation in the profit and sales column.","fee96b6a":"# Conclusion:\n\n* This is a very simple Exploratory Data Analysis I performed. Many more aspects can be obtained from more detailed Analysis.","ba23479f":"# Pre Processing the Data.","6d86071a":"## Plotting the Geo-Spatial Graph on the state column to check profit and loss graphically.","075cdcbe":"* Maximum Sales and Profit in the **West** Region.But in the Central Region Sales is more but profit is less.The company will have to see what is the reason behind this?","db68a66e":"* **Binders** , **Tables** , **Machines** , **Chairs** , **Book cases** are those sub-categories in which the company has given more discount.","b878bb7e":"### Drop the Postal Code because this column will not use in our analysis.","54e3086d":"### Drop Duplicate rows.","9d1bbf59":"### No Null Value in the data","0d9b5b1e":"## Plotting the Geo-Spatial Graph to check the State wise Sales.","d2aced47":"### Working On Ship Mode Column.","8a93193b":"### The observations from the above graph are-\n\n* The states like **California**, **New York** makes the highest profit of around 60k signified by the green colour.\n\n\n\n* The **Washington** State is the Second Highest profit maker of around 30k signified by light green color.\n\n\n\n* The blue and sky blue color signifies the states with average profit of around 25K and mainly in the north-east and south-east regeion.\n\n\n\n\n* The state of **Texas**, proved to be the most expensive state for the company with a very high amount of loss of around 25K signified by the red colour.\n\n\n\n* Second the most weaker areas are **Pennslyvania , Illinois and Ohio and North Carolina with the Avg loss of Around 10k signified by the Light red colour.\n\n\n\n\n* The Companies will have to work very hard in these places So that they can avoid losses and they can get good profit from here too ","ace3055e":"##  Comparison between Profit and Discount","3d466f23":"# Data Visualization"}}