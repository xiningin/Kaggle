{"cell_type":{"520a3573":"code","1c3dd042":"code","acdc937f":"code","4e6d33b6":"code","bb7ac935":"code","e57e6b57":"code","01152360":"code","4f40303a":"code","a2c04f75":"code","d75c997f":"code","aecdc6f5":"code","ffb9dc6d":"code","fd84b649":"code","d51443e7":"code","aad1c488":"code","6bdcd3c5":"code","3b767081":"code","7dd5a463":"code","b28d177a":"markdown","8ac03163":"markdown","a6b04eb6":"markdown","5a77f93f":"markdown","daa9ac43":"markdown","f9049362":"markdown","3a8628bb":"markdown","88178e19":"markdown","cf726ad2":"markdown","a3b6fe84":"markdown","d7d43db4":"markdown"},"source":{"520a3573":"import math\nfrom PIL import Image\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport sklearn.linear_model as LinearRegression\nimport plotly.express as px\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","1c3dd042":"df = pd.read_csv('..\/input\/utf8-format\/Formatted_players current elo rating by ATP.csv')\ndf","acdc937f":"mens_df = df[df['Gender']=='Male']\nmens_df","4e6d33b6":"womens_df = df[df['Gender']=='Female']\nwomens_df","bb7ac935":"df1 =mens_df.copy()\nplt.figure(figsize=(20,10))\nplt.title(\"Men Ranks Vs Total Elo\",fontsize=30)\nsns.lineplot(x=df['Rank'], y=df1['Elo'],color='Cyan',linewidth=2)\nsns.set_theme(style=\"darkgrid\")\nplt.ylabel(\"Elo\",size=40)\nplt.xlabel(\"Rank\",size=40)\nplt.show()","e57e6b57":"df1 =womens_df.copy()\nplt.figure(figsize=(20,10))\nplt.title(\"Women Ranks Vs Total Elo\",fontsize=30)\nsns.lineplot(x=df['Rank'], y=df1['Elo'],color='Magenta',linewidth=2)\nsns.set_theme(style=\"darkgrid\")\nplt.ylabel(\"Elo\",size=40)\nplt.xlabel(\"Rank\",size=40)\nplt.show()","01152360":"mens_df.info()","4f40303a":"null_values =[]\nnull_values.append((df=='-').sum(axis=0))\nnull_values","a2c04f75":"df.columns","d75c997f":"df = df.replace(to_replace =\"-\",\n                 value =\"0\")\ndf = df.astype({'HardRaw':float,'ClayRaw':float,'GrassRaw':float})\ndf.columns = ['Player', 'Age', 'Elo', 'HardRaw', 'ClayRaw', 'GrassRaw', 'HardCourt',\n       'ClayCourt', 'GrassCourt', 'Peak Match',\n       'Peak Age', 'Peak Elo', 'Gender', 'Rank']      \ndf.info()","aecdc6f5":"mens_df = df[df['Gender']=='Male']\nwomens_df = df[df['Gender']=='Female']\ndf   #New Non-null DF with better Column Names","ffb9dc6d":"df.replace(0,df.mean(axis=0),inplace=True)\n(df==0).sum(axis=0)","fd84b649":"df2 = df[['Rank','Player', 'Elo', 'HardRaw', 'ClayRaw', 'GrassRaw', 'HardCourt',\n       'ClayCourt', 'GrassCourt', 'Peak Elo',\n       'Gender']]\ndf2","d51443e7":"#a = []\n#Rank = 0\n#Player,Elo,HardRaw,ClayRaw,GrassRaw,HardCourt,ClayCourt,GrassCourt,PeakElo,Gender = input('Enter Input in this Format: Name|Elo|HardRaw|ClayRaw|GrassRaw|HardCourt|ClayCourt|GrassCourt|Peak Elo|Gender:').split('|')\n#a = [[int(Rank),str(Player),float(Elo),float(HardRaw),float(ClayRaw),float(GrassRaw),float(HardCourt),float(ClayCourt),float(GrassCourt),float(PeakElo),str(Gender)]]\n#Sample Inputs\n# PlayerOne|1022|1021|1020|1019|1019|1020|1021|1022|Male\n# PlayerTwo|2456|2134|2403|2104|2081|2000|2301|2459|Female\n\n#print(a)","aad1c488":"Player = 'PlayerTwo'\na = [[0, 'PlayerTwo', 2456.0, 2134.0, 2403.0, 2104.0, 2081.0, 2000.0, 2301.0, 2459.0, 'Female']]\ndf2 = df2.append(pd.DataFrame(a, columns=['Rank','Player', 'Elo', 'HardRaw', 'ClayRaw', 'GrassRaw', 'HardCourt',\n       'ClayCourt', 'GrassCourt', 'Peak Elo',\n       'Gender']),ignore_index=True)\ndf2","6bdcd3c5":"df2 = df2.sort_values(by=['Elo'],ascending=False).reset_index(drop=True)\n#df2.sort_values(by=['Peak Elo'],inplace=True,ascending=False)\n\ndf2.index.rename('new_index', inplace=True)\ndf2","3b767081":"df2['Rank'] =df2['Rank'] + 1\ndf2[df2.apply(lambda x: x.Player==Player, axis=1)][['Player', 'Rank']]\n","7dd5a463":"#Note new_index is the Rank ","b28d177a":"<h1 style=\"text-align:center;font-size:16px;background-color:Black;color:Yellow;padding:20px;\">Kaggle Frontend Doesnt support User Input. But while editing this notebook you can try out Random inputs. For now I will assign some values<\/h1>","8ac03163":"> ##  `DataFrame Exploration`","a6b04eb6":"**`Since Rankings are seperate for Men and Women`**\n\n**`We Need to split the DataFrame`**","5a77f93f":"<h1 style=\"text-align:center;font-size:64px;background-color:Black;color:Yellow;padding:20px;\">Player Rank Predictor<\/h1>","daa9ac43":"<h1 style=\"text-align:center;font-size:32px;background-color:Black;color:Yellow;padding:20px;\">User Input<\/h1>","f9049362":"##  **`Since any person's Elo rating can't be 0, we can replace it with mean Elo of that Column`**","3a8628bb":"<img src= \"https:\/\/external-content.duckduckgo.com\/iu\/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.IAkUf5EIV6zp8E3by3mr3QHaD4%26pid%3DApi&f=1\" alt =\"Tennis Ranks\" style='width: 1920px;'>","88178e19":"## **`Printing our New DF with Renamed Column Indexes`**","cf726ad2":"<img src= \"https:\/\/media.giphy.com\/media\/d3mlE7uhX8KFgEmY\/giphy.gif\" alt =\"Tennis Ranks\" style='width: 500px;'>\n","a3b6fe84":"## `Im not using any model, since Elo and Rank are Directly Related.`\n\n","d7d43db4":"<h1 style=\"text-align:center;font-size:32px;background-color:Black;color:Yellow;padding:20px;\">Rank Prediction<\/h1>"}}