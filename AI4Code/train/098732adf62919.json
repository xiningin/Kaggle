{"cell_type":{"344633c2":"code","e3817633":"code","31832f20":"code","2a43265b":"code","46079cf2":"code","347149c4":"code","37f51f92":"code","f0a5b8ca":"code","370f5fa5":"code","015934e1":"code","82cf9eb3":"code","8800d140":"code","1498a1e0":"code","fd22a4e6":"code","82defbbe":"code","2ada1ba3":"code","91e9101c":"markdown","39cc03f7":"markdown","01c2b354":"markdown","e8b53126":"markdown","55056497":"markdown","97731471":"markdown","52f7329a":"markdown","1fa6b79b":"markdown","7bbabe44":"markdown","9ec476d3":"markdown"},"source":{"344633c2":"# An\u00e1lise dos dados e data wrangling\nimport pandas as pd\nimport numpy as np\nimport random as rnd\n\n# Visualiza\u00e7\u00e3o dos dados\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e3817633":"housesalesdata = pd.read_csv(\"..\/input\/housesalesprediction\/kc_house_data.csv\") #carregando o banco de dados\nhousesalesdata","31832f20":"sns.set(style=\"whitegrid\", font_scale=1)\n\nplt.figure(figsize=(15,15))\nplt.title('Correla\u00e7\u00e3o de Pearson',fontsize=25)\nsns.heatmap(housesalesdata.corr(),linewidths=0.25,vmax=0.7,square=True,cmap=\"GnBu\",linecolor='w',\n            annot=True, annot_kws={\"size\":7}, cbar_kws={\"shrink\": .7})\n","2a43265b":"price_corr = housesalesdata.corr()['price'].sort_values(ascending=False)\nprint(price_corr)","46079cf2":"f, axe = plt.subplots(1, 1,figsize=(8,5))\nsns.boxplot(x=housesalesdata['bedrooms'],y=housesalesdata['price'])\naxe.set(xlabel='Banheiros', ylabel='Pre\u00e7o', title='N\u00b0 de banheiros vs Pre\u00e7o')","347149c4":"f, axes = plt.subplots(1, 2,figsize=(15,5))\nsns.scatterplot(x=housesalesdata['sqft_above'],y=housesalesdata['price'], ax=axes[0])\nsns.scatterplot(x=housesalesdata['sqft_living'],y=housesalesdata['price'], ax=axes[1])\nsns.despine(bottom=True, left=True)\naxes[0].set(xlabel='m\u00b2 de constru\u00e7\u00e3o acima do t\u00e9rreo', ylabel='Pre\u00e7o em milh\u00f5es [USD]', title='Pre\u00e7o vs \u00c1rea de constru\u00e7\u00e3o acima do t\u00e9rreo')\naxes[1].set(xlabel='m\u00b2 de constru\u00e7\u00e3o interna da casa', ylabel='Pre\u00e7o em milh\u00f5es [USD]', title='Pre\u00e7o vs \u00c1rea de constru\u00e7\u00e3o total')\naxes[1].yaxis.set_label_position(\"right\")\naxes[1].yaxis.tick_right()","37f51f92":"f, axe = plt.subplots(1, 1,figsize=(15,5))\nsns.boxplot(x=housesalesdata['grade'],y=housesalesdata['price'], ax=axe)\nsns.despine(left=True, bottom=True)\naxe.set(xlabel='Nota', ylabel='Pre\u00e7o', title='Compara\u00e7\u00e3o entre nota e pre\u00e7o')","f0a5b8ca":"price_corr = housesalesdata.corr()['grade'].sort_values(ascending=False)\nprint(price_corr)","370f5fa5":"housesalesdata['date'] = pd.to_datetime(housesalesdata['date']) #convertendo para tipo de dado correto\n\nhousesalesdata['month'] = housesalesdata['date'].apply(lambda date:date.month) #criando uma nova coluna de mes\nhousesalesdata['year'] = housesalesdata['date'].apply(lambda date:date.year) #criando uma nova coluna de ano\n\nprint(housesalesdata.columns.values) #verificando se as colunas foram adicionadas corretamente","015934e1":"f, axe = plt.subplots(1, 1,figsize=(15,5))\nhousesalesdata.groupby('month').mean()['price'].plot()\nsns.despine(left=True, bottom=True)\naxe.set(xlabel='M\u00eas', ylabel='Pre\u00e7o', title='Tend\u00eancia dos pre\u00e7os ao longo do ano')","82cf9eb3":"housesalesdata.head() #visualisando dados (5 primeiras linhas)","8800d140":"housesalesdata.tail() #visualisando dados (5 ultimas linhas)","1498a1e0":"housesalesdata.columns.values #retorna o nome das colunas em um array","fd22a4e6":"housesalesdata.isnull().sum() #verifica quantos espa\u00e7os vazios h\u00e1 em cada coluna","82defbbe":"housesalesdata.info() #verifica o tipo de dado que est\u00e1 em cada coluna","2ada1ba3":"housesalesdata.describe().transpose() #Entendendo a distribui\u00e7\u00e3o num\u00e9rica do banco de dados","91e9101c":"# 3. Uma vez a casa em posse da empresa, qual o melhor momento para vend\u00ea-la e qual seria o pre\u00e7o da venda?\n\nPara saber o melhor momento de se vender um im\u00f3vel, precisamos observar como os pre\u00e7os se comportam ao longo do tempo. Para conseguir observar com mais clareza, primeiro ser\u00e1 necess\u00e1rio converter a coluna de data para o formato correto e criar duas novas colunas sendo elas m\u00eas e ano.","39cc03f7":"# Refer\u00eancias\n\nContextualiza\u00e7\u00e3o do case: [Clique aqui](https:\/\/medium.com\/@meigarom\/os-5-projetos-de-data-science-que-far%C3%A1-o-recrutador-olhar-para-voc%C3%AA-c32c67c17cc9)\n\nBoxplot em python: . [Clique aqui](https:\/\/pythonbasics.org\/seaborn-boxplot\/)\n\nData Cleaning: [Clique aqui](https:\/\/miamioh.instructure.com\/courses\/38817\/pages\/data-cleaning)\n\n","01c2b354":"Podemos ver abaixo em ordem decrescente o grau de correla\u00e7\u00e3o do pre\u00e7o das casas em rela\u00e7\u00e3o \u00e0s demais vari\u00e1veis.","e8b53126":"Por ultimo, temos a nota do im\u00f3vel, que \u00e9 dada em rela\u00e7\u00e3o \u00e0 constru\u00e7\u00e3o e design. Se observarmos a compara\u00e7\u00e3o da nota do im\u00f3vel em rela\u00e7\u00e3o ao pre\u00e7o, fica evidente que quanto maior a nota do im\u00f3vel, maior o valor deste.\n","55056497":"# ***2. A House Rocket deveria fazer uma reforma para aumentar o pre\u00e7o da venda? Quais seriam as sugest\u00f5es de mudan\u00e7as?***\n\nO objetivo reformar um im\u00f3vel para depois vend\u00ea-lo n\u00e3o \u00e9 outro se n\u00e3o valorizar este bem. Portanto, vamos olhar com mais aten\u00e7\u00e3o aos itens que mais incluenciam no pre\u00e7o de um im\u00f3vel. A come\u00e7ar pelo n\u00famero de banheiros, podemos observar no boxplot abaixo que o valor dos im\u00f3veis tendem a aumentar ligeiramente conforme o n\u00famero de banheiros dispon\u00edveis, portanto, um bom investimento seria a constru\u00e7\u00e3o de mais banheiros no terreno.","97731471":"# # **House Rocket - Comprando im\u00f3veis**\npor [Lucas Capovilla Cassimiro](http:\/\/www.linkedin.com\/in\/lucascapovilla)\n\nA House Rocket \u00e9 uma plataforma digital que tem como modelo de neg\u00f3cio, a compra e a venda de im\u00f3veis usando tecnologia. Sua principal estrat\u00e9gia \u00e9 comprar boas casas em \u00f3timas localiza\u00e7\u00f5es com pre\u00e7os baixos e depois revend\u00ea-las posteriormente \u00e0 pre\u00e7os mais altos. Quanto maior a diferen\u00e7a entre a compra e a venda, maior o lucro da empresa e portanto maior sua receita.\n\nEntretanto, as casas possuem muitos atributos que as tornam mais ou menos atrativas aos compradores e vendedores e a localiza\u00e7\u00e3o e o per\u00edodo do ano tamb\u00e9m podem influenciar os pre\u00e7os. A seguir vamos responder as seguintes perguntas:\n\n1. Quais recursos de uma casa mais impactam no pre\u00e7o?\n2. A House Rocket deveria fazer uma reforma para aumentar o pre\u00e7o da venda? Quais seriam as sugest\u00f5es de mudan\u00e7as?\n3. Uma vez a casa em posse da empresa, qual o melhor momento para vend\u00ea-la?","52f7329a":"Em seguida vamos gerar um gr\u00e1fico que permita a visualiza\u00e7\u00e3o dos pre\u00e7os dos im\u00f3veis ao longo dos meses. Pode-se concluir a partir das informa\u00e7\u00f5es dispon\u00edveis abaixo que h\u00e1 um pico nos pre\u00e7os em abril e esse aumento geral se mant\u00e9m um pouco at\u00e9 junho. Podemos concluir ent\u00e3o que o m~es de abril \u00e9 o ideal para a venda de im\u00f3veis, seguido de maio e junho onde os valores ainda se mant\u00e9m acima em rela\u00e7\u00e3o aos demais meses.","1fa6b79b":"A nota do im\u00f3vel tem uma correla\u00e7\u00e3o moderada(quase forte) com o pre\u00e7o dos im\u00f3veis e portanto \u00e9 interessante buscar aumentar esta nota e consequentemente o im\u00f3vel ser\u00e1 valorizado. Neste momento surge a pergunta: mas como?\n\nA resposta \u00e9 bem simples: entendendo o grau de correla\u00e7\u00e3o da nota com as demais vari\u00e1veis, observando quais apresentam uma correla\u00e7\u00e3o moderadamente forte, forte ou muito forte. Dessa forma vamos encontrar os seguintes itens:\n\n1. \u00c1rea de constru\u00e7\u00e3o interna (m\u00b2)\n2. \u00c1rea de constru\u00e7\u00e3o acima do t\u00e9rreo (m\u00b2)\n3. N\u00famero de banheiros\n\nOs itens 1 e 2 t\u00eam uma forte correla\u00e7\u00e3o com a nota, o que significa que seria interessante aumentar a metragem interna, seja construindo um novo c\u00f4modo ou ampliando algum existente. O n\u00famero de banheiros possui uma correla\u00e7\u00e3o moderada com a nota, n\u00e3o impacta tanto quanto as duas anteriores, por\u00e9m aumentar o n\u00famero deles sem d\u00favidas influenciar\u00e1 no valor de venda.","7bbabe44":"A metragem quadrada dos 15 vizinhos mais pr\u00f3ximos est\u00e1 entre os itens que mais influenciam o pre\u00e7o de um im\u00f3vel, por\u00e9m n\u00e3o \u00e9 algo que possa ser alterado. Vamos ent\u00e3o comparar a metragem quadrada constru\u00edda acima do t\u00e9rreo e a metragem quadrada total em rela\u00e7\u00e3o ao pre\u00e7o. \u00c9 evidente, atrav\u00e9s dos gr\u00e1ficos a seguir que quanto maior as \u00e1reas constru\u00eddas, o valor dos im\u00f3veis tende a aumentar.\n","9ec476d3":"# ***1. Quais recursos de uma casa mais impactam no pre\u00e7o?***\n\nUtilizando a Correla\u00e7\u00e3o de Pearson, podemos entender como as vari\u00e1veis se relacionam e mais precisamente, podemos analisar quais s\u00e3o as que mais incluenciam no valor de uma casa. Para encontrar essa resposta \u00e9 necess\u00e1rio verificar o valor de correla\u00e7\u00e3o apresentado abaixo e identificar quais s\u00e3o relevantes. Podemos dividir as correla\u00e7\u00f5es em 5 n\u00edveis diferentes:\n\n* **0.00 a 0.19:** Correla\u00e7\u00e3o muito fraca\n* **0.20 a 0.39:** Correla\u00e7\u00e3o fraca\n* **0.40 a 0.69:** Correla\u00e7\u00e3o moderada\n* **0.70 a 0.89:** Correla\u00e7\u00e3o forte\n* **0.90 a 1.00:** Correla\u00e7\u00e3o muito forte\n\nObservando o heatmap abaixo podemos concluir que a quantidade de banehiros(bathrooms), a metragem quadrada dos 15 vizinhos mais pr\u00f3ximos(sqft_living15), a metragem quadrada dos andares acima do t\u00e9rreo(sqft_above), a nota em rela\u00e7\u00e3o \u00e0 constru\u00e7\u00e3o\/design (grade) e metragem quadrada interna da casa (sqft_living) possuem os maiores graus de correla\u00e7\u00e3o com o pre\u00e7o das casas."}}