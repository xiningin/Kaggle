{"cell_type":{"e7abe6f2":"code","f51f773a":"code","5020b32b":"code","877dce97":"code","f9f48cd7":"code","f502b00b":"code","08141616":"code","979d5568":"code","0a8f2ed9":"code","cc681abe":"code","0b7336d1":"code","b02ab2a1":"code","58391cc6":"code","bf07f41b":"code","c6e80b81":"code","9565cecc":"code","841afa0c":"code","109b4b69":"code","058676b5":"code","24488392":"code","7cd24917":"markdown","0b28c36f":"markdown","32570e20":"markdown","8ce38579":"markdown","cbfc6891":"markdown","b21526aa":"markdown","d55e9960":"markdown","9d300151":"markdown","658a342b":"markdown","e4b397e1":"markdown","263af442":"markdown","a403f2cc":"markdown","bb432a72":"markdown","dd8d5150":"markdown","6786c92c":"markdown","dd6322c0":"markdown","62eeed01":"markdown","c0ecfebf":"markdown","a56d2f28":"markdown","81c05d53":"markdown","aff67ce5":"markdown","0781ae92":"markdown","2cf40bf0":"markdown","5edd2ab8":"markdown"},"source":{"e7abe6f2":"!pip install pycaret\n\nfrom pycaret.classification import *\nimport numpy as np\nimport pandas as pd\nfrom pandas_profiling import ProfileReport \n\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \nsubmission = pd.read_csv(\"..\/input\/titanic\/gender_submission.csv\")\ntest = pd.read_csv(\"..\/input\/titanic\/test.csv\")\ntrain = pd.read_csv(\"..\/input\/titanic\/train.csv\")","f51f773a":"report_train = ProfileReport(train)\nreport_train","5020b32b":"report_test = ProfileReport(test)\nreport_test","877dce97":"train_tmp = train.copy()\ntest_tmp = test.copy()\ntrain_tmp['type'] = 'train'\ntrain_tmp.drop('Survived', axis = 1, inplace = True)\ntest_tmp['type'] = 'test'\ndata = pd.concat([train_tmp, test_tmp], ignore_index = True)\n\ndfplot = data.groupby(['type','Pclass']).count()['PassengerId'].to_frame().reset_index()\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]], subplot_titles=['Test', 'Train'])\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'test']['Pclass'], values=dfplot[dfplot['type'] == 'test']['PassengerId'], name=\"test\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'train']['Pclass'], values=dfplot[dfplot['type'] == 'train']['PassengerId'], name=\"train\"),\n              1, 2)\nfig.update_layout(\n    title_text=\"Pclass\")\nfig.show()","f9f48cd7":"dfplot = data.groupby(['type','Sex']).count()['PassengerId'].to_frame().reset_index()\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]], subplot_titles=['Test', 'Train'])\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'test']['Sex'], values=dfplot[dfplot['type'] == 'test']['PassengerId'], name=\"test\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'train']['Sex'], values=dfplot[dfplot['type'] == 'train']['PassengerId'], name=\"train\"),\n              1, 2)\nfig.update_layout(\n    title_text=\"Sex\")\nfig.show()","f502b00b":"dfplot = data.groupby(['type','SibSp']).count()['PassengerId'].to_frame().reset_index()\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]], subplot_titles=['Test', 'Train'])\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'test']['SibSp'], values=dfplot[dfplot['type'] == 'test']['PassengerId'], name=\"test\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'train']['SibSp'], values=dfplot[dfplot['type'] == 'train']['PassengerId'], name=\"train\"),\n              1, 2)\nfig.update_layout(\n    title_text=\"SibSp\")\nfig.show()","08141616":"dfplot = data.groupby(['type','Embarked']).count()['PassengerId'].to_frame().reset_index()\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]], subplot_titles=['Test', 'Train'])\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'test']['Embarked'], values=dfplot[dfplot['type'] == 'test']['PassengerId'], name=\"test\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=dfplot[dfplot['type'] == 'train']['Embarked'], values=dfplot[dfplot['type'] == 'train']['PassengerId'], name=\"train\"),\n              1, 2)\nfig.update_layout(\n    title_text=\"Embarked\")\nfig.show()","979d5568":"fig = px.violin(train, y=\"Age\", x=\"Survived\", color=\"Sex\", box=True, points=\"all\", hover_data=['Age', 'Survived', 'Sex'])\nfig.show()","0a8f2ed9":"fig = px.violin(train, y=\"Fare\", x=\"Survived\", color=\"Sex\", box=True, points=\"all\", hover_data=['Fare', 'Survived', 'Sex'])\nfig.show()","cc681abe":"env = setup(data = train, \n             target = 'Survived',\n             numeric_imputation = 'mean',\n             categorical_features = ['Sex','Embarked'], \n             ignore_features = ['Name','Ticket','Cabin'],\n             silent = True,\n            remove_outliers = True,\n            normalize = True)","0b7336d1":"compare_models()","b02ab2a1":"xgb = create_model('xgboost')","58391cc6":"tuned_xgb = tune_model('xgboost')","bf07f41b":"plot_model(estimator = xgb, plot = 'learning')","c6e80b81":"plot_model(estimator = xgb, plot = 'feature')","9565cecc":"plot_model(estimator = xgb, plot = 'auc')","841afa0c":"plot_model(estimator = xgb, plot = 'confusion_matrix')","109b4b69":"interpret_model(xgb)","058676b5":"predictions = predict_model(xgb, data=test)\npredictions.head()","24488392":"submission['Survived'] = round(predictions['Score']).astype(int)\nsubmission.to_csv('submission.csv',index=False)\nsubmission.head(10)","7cd24917":"# Make Prediction <a id=\"16\"><\/a>","0b28c36f":"# Sex <a id=\"5\"><\/a>","32570e20":"# Contents\n\n* [<font size=4>Library and Data<\/font>](#1)\n* [<font size=4>Train Data Report<\/font>](#2)\n* [<font size=4>Test Data Report<\/font>](#3)\n* [<font size=4>Pclass<\/font>](#4)\n* [<font size=4>Sex<\/font>](#5)\n* [<font size=4>SibSp<\/font>](#6)\n* [<font size=4>Embarked<\/font>](#7)\n* [<font size=4>Age<\/font>](#8)\n* [<font size=4>Survived<\/font>](#9)\n* [<font size=4>Setting Up Environment<\/font>](#10)\n* [<font size=4>Compare Models<\/font>](#11)\n* [<font size=4>Create Model<\/font>](#12)\n* [<font size=4>Tune Model<\/font>](#13)\n* [<font size=4>Plot Model<\/font>](#14)\n *     [Learning Curve](#14.1)\n *     [Features Importance](#14.2)\n *     [ROC Curve](#14.3)\n *     [Confusion Matrix](#14.4)\n* [<font size=4>Model Interpretation<\/font>](#15)\n* [<font size=4>Make Prediction<\/font>](#16)\n* [<font size=4>Submit Result<\/font>](#17)","8ce38579":"# Train Data Report  <a id=\"2\"><\/a>","cbfc6891":"# Survived <a id=\"9\"><\/a>","b21526aa":"# Submit Result <a id=\"17\"><\/a>","d55e9960":"## Features Importance <a id=\"14.2\"><\/a>","9d300151":"This notebook is a simple introduction to the use of the Pycaret library on tytanic data. First it is graphics to have an intuition on the data and then the modeling part.\n\n![pycaret%20logo.png](attachment:pycaret%20logo.png)\n\nPyCaret is an open source, low-code machine learning library in Python that allows you to go from preparing your data to deploying your model within seconds in your choice of notebook environment.\n\nTo discover more functionality of pycaret I invite you to consult the official site <a href=\"https:\/\/pycaret.org\/\">pycaret<\/a>.","658a342b":"# Age <a id=\"8\"><\/a>","e4b397e1":"## Learning Curve <a id=\"14.1\"><\/a>","263af442":"## ROC Curve <a id=\"14.3\"><\/a>","a403f2cc":"# Test Data Report <a id=\"3\"><\/a>","bb432a72":"<center>\n  <FONT size=\"10\" color = 'red'>Thank you, I hope you enjoyed.<\/FONT>\n<\/center>","dd8d5150":"# Create Model <a id=\"12\"><\/a>","6786c92c":"# Pclass <a id=\"4\"><\/a>","dd6322c0":"# Model Interpretation <a id=\"15\"><\/a>","62eeed01":"# Tune Model <a id=\"13\"><\/a>","c0ecfebf":"# Compare Models <a id=\"11\"><\/a>","a56d2f28":"# Library and Data <a id=\"1\"><\/a>","81c05d53":"## Confusion Matrix <a id=\"14.4\"><\/a>","aff67ce5":"# Embarked <a id=\"7\"><\/a>","0781ae92":"# sibSp <a id=\"6\"><\/a>","2cf40bf0":"# Setting up Environment <a id=\"10\"><\/a>","5edd2ab8":"# Plot Model <a id=\"14\"><\/a>"}}