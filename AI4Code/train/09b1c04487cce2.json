{"cell_type":{"2b017b9f":"code","a0c79228":"code","f749f939":"code","e708a6d2":"code","5b7b7249":"code","77791b90":"code","2275db90":"code","f6bfbb00":"code","194bb77c":"code","ba629b1a":"code","296364d1":"code","98ef3a2d":"code","ea77f14b":"code","86367345":"code","5f03a6a9":"code","d8c38cb7":"code","7f9f3e18":"code","a82a4262":"code","9357e839":"code","099885a6":"code","a7b74595":"code","01a39249":"code","d4574888":"code","3892ff8d":"code","089c2177":"code","ee869cf7":"code","daf3d84c":"code","9785e39e":"code","09cf9a87":"code","cd84421f":"code","e43acf58":"code","caea0c18":"code","c00fc120":"code","6c731344":"code","3a8a8205":"code","ec94f859":"code","4719e62e":"code","216ac417":"code","80e30d46":"code","ab24cc81":"code","47ccf63f":"code","a5ef5ab1":"code","c2e8db44":"code","f99f0938":"code","c865226a":"code","72bcb7d9":"code","460c41b0":"code","59b87327":"code","1a37ac38":"code","bbd5314c":"code","3c8b327f":"code","9fffa233":"code","ed90cb94":"code","1634d86e":"code","ba665ef4":"code","f8a45ad9":"markdown","9401eaa7":"markdown","fac92e5d":"markdown","b58b0d8c":"markdown","147c08a0":"markdown","a1e23490":"markdown","ab790914":"markdown","df9ded9b":"markdown","f3eb4b00":"markdown","29a054cb":"markdown","9fe17b9c":"markdown","81aa854a":"markdown","e3eb048f":"markdown","e84ff713":"markdown","acb93fe9":"markdown","5272bd51":"markdown","fb27d874":"markdown","79062368":"markdown","88221c5e":"markdown","332366df":"markdown","b3a627f4":"markdown","28092e22":"markdown","457dbd6a":"markdown","cb1786ab":"markdown"},"source":{"2b017b9f":"pip install pyforest","a0c79228":"from pyforest import *\nfrom scipy.stats import norm\nfrom scipy import stats\nfrom scipy.stats import skew\nimport matplotlib.lines as mlines\nimport warnings\nwarnings.filterwarnings('ignore')\nsns.set_theme(style=\"darkgrid\")\nimport plotly.graph_objects as go","f749f939":"pd.options.display.float_format = '{:,.4f}'.format ","e708a6d2":"country_vacc = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')\ncountry_vacc_by_mfg = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations_by_manufacturer.csv')","5b7b7249":"country_vacc.head()","77791b90":"print('No of rows in country_vacc:',country_vacc.shape[0])\nprint('No of columns in country_vacc:',country_vacc.shape[1])","2275db90":"dups = country_vacc.duplicated()\nprint('Number of duplicate rows = %d' % (dups.sum()))\ncountry_vacc[dups]","f6bfbb00":"country_vacc.info()","194bb77c":"country_vacc['date'] = country_vacc['date'].apply(pd.to_datetime)","ba629b1a":"country_vacc['Month_Year'] = country_vacc['date'].dt.to_period('M')","296364d1":"country_vacc.info()","98ef3a2d":"country_vacc.isnull().values.any()","ea77f14b":"country_vacc.isnull().sum()\/country_vacc.shape[0]*100","86367345":"missing = country_vacc.isnull().sum()\/country_vacc.shape[0]*100 > 35\nmissing = missing.to_frame().reset_index().rename(columns={'index':'Columns',0:'More than 35% missing'})\nmissing = missing[missing['More than 35% missing']==True]\nmissing","5f03a6a9":"missing = country_vacc.isnull().sum()\/country_vacc.shape[0]*100 > 50\nmissing = missing.to_frame().reset_index().rename(columns={'index':'Columns',0:'More than 50% missing'})\nmissing = missing[missing['More than 50% missing']==True]\nmissing","d8c38cb7":"country_vacc.dropna(inplace=True)","7f9f3e18":"print('No of rows in country_vacc after dropping the NA:',country_vacc.shape[0])\nprint('No of columns in country_vacc after dropping the NA:',country_vacc.shape[1])","a82a4262":"country_vacc.isnull().sum()\/country_vacc.shape[0]*100","9357e839":"cat = []\nnum = []\nfor i in country_vacc.columns:\n    if country_vacc[i].dtype == 'object':\n        cat.append(i)\n    else:\n        num.append(i)\nprint('Categorical Columns = \\n\\n{}\\n\\nNumerical Columns = \\n\\n{}'.format(cat,num))        \n","099885a6":"num.remove('date')\nnum.remove('Month_Year')\nnum","a7b74595":"for i in num:\n    print('\\n',i,':\\nSkewnes of the data = {}'.format(skew(country_vacc[i])))","01a39249":"red_patch = mlines.Line2D([],[],color='red', marker='_',label='kde')\nblack_patch = mlines.Line2D([],[],color='black', marker='_',label='norm')\n\nfor i in num:\n    plt.figure(figsize=[10,5])\n    sns.distplot(country_vacc[i],hist=False,kde_kws={\"shade\":True,\"color\": \"r\",\"linewidth\":1},fit=norm)\n    Q1 = plt.axvline(x=(country_vacc[i].quantile(0.25)),color='g',linestyle='--',label='Q1')\n    Q2 = plt.axvline(x=(country_vacc[i].quantile(0.5)),color='orange',linestyle='--',label='Q2')\n    Q3 = plt.axvline(x=(country_vacc[i].quantile(0.75)),color='r',linestyle='--',label='Q3')\n\n    mean = plt.axvline(x=(country_vacc[i].mean()),color='b',label='mean')\n    sd = plt.axvline(x=(country_vacc[i].std()),color='g',label='SD')\n    \n    plt.legend(handles=[red_patch,black_patch,mean,sd,Q1,Q2,Q3],fontsize=14)\n\n    plt.title(i)\n    plt.tight_layout()\n    plt.show()","d4574888":"plt.figure(figsize=[10,20])\nsns.countplot(y=country_vacc.vaccines,palette='gist_earth',\n             order=country_vacc['vaccines'].value_counts().index)\nplt.xticks(rotation=90);","3892ff8d":"plt.figure(figsize=[10,20])\nsns.countplot(y=country_vacc.country,palette='gist_earth',\n             order=country_vacc['country'].value_counts().index)\nplt.xticks(rotation=90);","089c2177":"for i in num:\n    plt.figure(figsize =[15,5])\n    sns.violinplot(country_vacc[i],palette='mako')\n    plt.title(i,fontsize =14)\n    plt.show()","ee869cf7":"vaccines = pd.crosstab(country_vacc.vaccines,country_vacc.country,margins=True,margins_name='Total')\nvaccines.sort_values(by='Total',ascending=False,inplace=True,axis=0)\nvaccines.sort_values(by='Total',ascending=False,inplace=True,axis=1)\nvaccines.drop('Total',axis=0,inplace=True)\nvaccines.drop('Total',axis=1,inplace=True)\nvaccines = vaccines.iloc[:5,:10]\n\nvaccines","daf3d84c":"ax = vaccines.plot.area(figsize=[15,10])\nplt.xticks(rotation=90)\nplt.title('Top 5 vaccines in top 10 countries',fontsize=14)\nplt.show()","9785e39e":"fig = px.bar(country_vacc,x='date',color='country')\nfig.update_layout(paper_bgcolor=\"snow\")\nfig.show()","09cf9a87":"country = country_vacc.groupby(by='country').sum()\ncountry.head()","cd84421f":"top10_totvacc = country.sort_values(by='total_vaccinations',ascending=False).iloc[:10,:3]\ntop10_totvacc","e43acf58":"plt.figure(figsize =[15,5])\nsns.kdeplot(data=top10_totvacc)\nplt.title('KDE Density for total vaccinations and people vaccinated of top 10 countries',fontsize=14);\ntop10_totvacc.plot.line(figsize=[15,5])\nplt.xticks(rotation =90,ticks=np.arange(0,10),labels=top10_totvacc.index)\nplt.title('Top 10 countries with highest total vaccination',fontsize=14);","caea0c18":"top10_perhund = country.sort_values(by='total_vaccinations_per_hundred',ascending=False).iloc[:10,5:-1]\ntop10_perhund","c00fc120":"plt.figure(figsize =[15,5])\nsns.kdeplot(data=top10_perhund)\nplt.title('KDE Density for total vaccinations and people vaccinated per hundred of top 10 countries',fontsize=14);\ntop10_perhund.plot.line(figsize=[15,5])\nplt.xticks(rotation =90,ticks=np.arange(0,10),labels=top10_perhund.index)\nplt.title('Top 10 countries with highest total vaccination per hundred',fontsize=14);","6c731344":"date_vacc = country_vacc.groupby(by='Month_Year').sum().sort_values(by='Month_Year',ascending=True)\ndate_vacc","3a8a8205":"date_vacc.iloc[:,:3].plot.bar(figsize=[15,5])\nplt.title('Vaccination Progress from Dec 2020 to April 2021',fontsize=14);\ndate_vacc.iloc[:,5:-1].plot.area(figsize=[15,5])\nplt.title('Vaccination Progress from Dec 2020 to April 2021\\n(per hundred)',fontsize=14);","ec94f859":"country_vacc_by_mfg.head()","4719e62e":"country_vacc_by_mfg.info()","216ac417":"print('No of rows in country_vacc_by_mfg:',country_vacc_by_mfg.shape[0])\nprint('No of columns in country_vacc_by_mfg:',country_vacc_by_mfg.shape[1])","80e30d46":"country_vacc_by_mfg.describe().T","ab24cc81":"at_50= country_vacc_by_mfg[country_vacc_by_mfg['total_vaccinations'] < \n                                country_vacc_by_mfg['total_vaccinations'].quantile(0.50)]\nat_50.head()\nprint(at_50.shape)","47ccf63f":"fig,axes = plt.subplots(2,1,figsize=(15,15))\na = sns.distplot(at_50.total_vaccinations,ax=axes[0],hist=False,kde_kws={\"shade\":True,'color':'r'},fit=norm)\na.set_title('Descriptive Statistics at 50% of data',fontsize=14)\nsns.boxplot(at_50.total_vaccinations,ax=axes[1])\nplt.show();","a5ef5ab1":"dups = country_vacc_by_mfg.duplicated()\nprint('Number of duplicate rows = %d' % (dups.sum()))\ncountry_vacc_by_mfg[dups]","c2e8db44":"country_vacc_by_mfg.isnull().values.any()","f99f0938":"mfg = country_vacc_by_mfg.groupby(by='location').sum().sort_values(by='total_vaccinations',ascending=False)\nmfg.T","c865226a":"mfg.plot.bar(figsize=[15,5])\nplt.title('Total Vaccination produced by countries',fontsize=14);","72bcb7d9":"country_vacc_by_mfg['date'] = country_vacc_by_mfg['date'].apply(pd.to_datetime)","460c41b0":"country_vacc_by_mfg['Year_Month'] = country_vacc_by_mfg['date'].dt.to_period('M')","59b87327":"country_vacc_by_mfg.tail()","1a37ac38":"df = country_vacc_by_mfg.groupby(by=['location','Year_Month']).sum()\ndf.reset_index(inplace=True)\ndf.head()","bbd5314c":"plt.figure(figsize =[15,5])\nax = sns.pointplot(x=df.Year_Month,y=df.total_vaccinations,hue=df.location,scale=1.8);\nax.legend(loc='lower right', bbox_to_anchor=(0.5, 1.05),\n          ncol=3, fancybox=True, shadow=True);","3c8b327f":"country_vacc_by_mfg.head()","9fffa233":"vacc_tot = country_vacc_by_mfg.groupby(by='vaccine').sum()\nvacc_tot","ed90cb94":"vacc_tot.plot.pie(subplots=True,figsize=[10,10],autopct='%.2f',title='Vaccines', fontsize=15)\nplt.legend(loc='lower left', bbox_to_anchor=(0.7, 1.05),\n          ncol=3, fancybox=True, shadow=True);","1634d86e":"count_vacc = pd.crosstab(country_vacc_by_mfg.location,country_vacc_by_mfg.vaccine)\ncount_vacc","ba665ef4":"count_vacc.plot.bar(figsize=[15,5])\nplt.legend(loc='lower right', bbox_to_anchor=(0.5, 1.05),\n          ncol=3, fancybox=True, shadow=True);","f8a45ad9":"**Insight**\n\n`'total_vaccinations','people_vaccinated','people_fully_vaccinated','daily_vaccinations_raw','total_vaccinations_per_hundred',\n'people_vaccinated_per_hundred','people_fully_vaccinated_per_hundred'` have more than 35% of the data missing.\n\n\nThe columns `people_fully_vaccinated` and `people_fully_vaccinated_per_hundred` have more than 50% of the data missing.\nSince there is no sufficient amount of data to impute the missing values we will drop the bad data and only work with what we have.","9401eaa7":"**Insights**\n\nWe can see there is steady increase from `January 2021` in *total_vaccination*, *people_vaccinated* and *people_fully_vaccinated* till `March 2021` and see a sudden decline in `April 2021`. Though the total_vaccination is increasing steadily. The reason for decline could be the waiting period of 6-8 weeks between the 1st dose and the second dose. ","fac92e5d":"**Insights**\n\n`United States` is by far the largest vaccinated country  with **7,849,710,124** total vaccinations. \n\n\nEven though `Germany` (732,007,653) and `Italy` (529,272,173) does not have vaccines at a large scale as US, they still have adequate number of total vaccinations.","b58b0d8c":"**Insights**\n\nThrough time all the utilization of the vaccines are increasing steadily with `United States` as a outlier with highest consumption of vaccines from the month of `January 2021`. The country showed a huge surge in vaccination by `February` and is leading still. `Germany` have a good progress in vaccination from `February` and is steady since `March`. ","147c08a0":"## Univariate Analysis\n\n\n### Categorical","a1e23490":"                                                            ~END~","ab790914":"**Conclusions**\n\n\n\n\n* 'total_vaccinations', 'people_vaccinated', 'people_fully_vaccinated', 'daily_vaccinations_raw', 'total_vaccinations_per_hundred', 'people_vaccinated_per_hundred', 'people_fully_vaccinated_per_hundred' have more than 35% of the data missing.\n\n\n\n* The columns people_fully_vaccinated and people_fully_vaccinated_per_hundred have more than 50% of the data missing. Since there is no sufficient amount of data to impute the missing values we have dropped the bad data and only worked with what we have.\n\n\n\n* The data is highly skewed to the left. In a normal distribution, the mean and the median are the same however when the data is skewed the mean and median are different.\n\n    > A left-skewed, negative distribution will have the mean to the left of the median\n\n\n\n\n* Moderna, Oxford\/AstraZeneca, Pfizer\/BioNTech are the top 3 vaccines that is utilized by 41.51% of the data.\n\n\n\n* Large number of population not vaccinated since the data is more concentrated towards 0. However, there seems to be steady increase in vaccination by per hundred.\n\n* Germany (2.6002%), Israel (2.4332%), Canada (2.3616%), Slovenia (2.3378%) and England (2.2424%) are the top 5 countries with highest count in vaccination.\n\n* Germany and Israel are one of the few countries that initiated the vaccination drive from early January of 2021. By the end of February most of the countries were able to kick off their vaccination drive.\n\n\n* Germany and Canada authorized vaccines are Moderna, Oxford\/AstraZeneca, Pfizer\/BioNTech\n\n* Moderna, Pfizer\/BioNTech is also authorized by Israel.\n\n* Oxford\/AstraZeneca, Pfizer\/BioNTech are most popular choice of vaccine.\n\n\n\n\n* United States, India and United Kingdom are the leading countries to have most of thier population vaccinated.\n\n    > United States produced 7,780,421,334 total vaccination from which 5,193,875,282 are vaccinated with the first dose and 2,641,238,684 are fully vaccinated.\n\n    > India produced 2,732,667,157 total vaccination out of which 2,345,637,502 are vaccinated with the first dose and 387,029,655 are fully vaccinated.\n\n    > United Kingdom produced 1,968,833,520 total vaccination out of which 1,786,516,694 are vaccinated with the first dose and 182,316,826 are fully vaccinated.\n\n\n\n* Israel has 8,202 total vaccination per hundred out of which 4,765.4600 people vaccinated per hundred with the first dose and 3,436.5300 people fully vaccinated per hundred.\n\n* Gibraltar has 7,233.0200 total vaccination per hundred out of which 4,361.8800 people vaccinated per hundred with the first dose and 2,870.3300 people fully vaccinated per hundred.\n\n* Wales has 3,166.1500 total vaccination per hundred out of which 2,636.8300 people vaccinated per hundred with the first dose and 529.3000 people fully vaccinated per hundred.\n\n\n\n* We can see there is steady increase from January 2021 in total_vaccination, people_vaccinated and people_fully_vaccinated till March 2021 and see a sudden decline in April 2021. Though the total_vaccination is increasing steadily. The reason for decline could be the waiting period of 6-8 weeks between the 1st dose and the second dose.\n\n\n\n* United States is by far the largest vaccinated country with 7,849,710,124 total vaccinations.\n\n    > Even though Germany (732,007,653) and Italy (529,272,173) does not have vaccines at a large scale as US, they still have adequate number of total vaccinations.\n\n\n\n* Through time all the utilization of the vaccines are increasing steadily with United States as a outlier with highest consumption of vaccines from the month of January 2021. The country showed a huge surge in vaccination by February and is leading still. Germany have a good progress in vaccination from February and is steady since March.\n\n\n\n\n    > Pfizer\/BioNTech utilizes 54.20% and Moderna utilizes 38.23% of total vaccinations. These are the highest ranking manufacturers.\n\n    > Johnson&Johnson utilizes 1.29%, Oxford\/AstraZeneca utilizes 2.21% and Sinovac utilizes 4.07% of total vaccinations\n\n\n\n* Pfizer\/BioNTech is approved by all the countries ['United States', 'Chile', 'Romania', 'Italy', 'Iceland', 'Germany', 'Lithuania', 'Latvia', 'Czechia'].\n\n\n* Sinovac is the authorized vaccine only in Chile\n\n\n* Oxford\/AstraZeneca and Moderna are the 2nd ranking vaccine that is authorized by most of the countries.\n\n\n* Johnson&Johnson is only approved by United States\n\n\n\n* Pfizer\/BioNTech and Moderna are the most popular vaccines, followed by Oxford\/AstraZeneca\n\n","df9ded9b":"**Insights**\n\n`Germany (2.6002%), Israel (2.4332%), Canada (2.3616%), Slovenia (2.3378%) and England (2.2424%)` are the top 5 countries with highest count.","f3eb4b00":"**Insights**\n\n`Germany` and `Israel` are one of the few countries that initiated the vaccination drive from early January of 2021. By the end of February most of the countries were able to kick off their vaccination drive.","29a054cb":"**Insights**\n\n`United States`, `India` and `United Kingdom` are the leading countries to have most of thier population vaccinated. \n\n`United States`\tproduced **7,780,421,334** total vaccination from which **5,193,875,282** are vaccinated with the first dose and **2,641,238,684** are fully vaccinated.\n\n\n`India` produced **2,732,667,157** total vaccination out of which **2,345,637,502** are vaccinated with the first dose and **387,029,655** are fully vaccinated.\n\n\n`United Kingdom` produced **1,968,833,520** total vaccination out of which **1,786,516,694** are vaccinated with the first dose and **182,316,826** are fully vaccinated.","9fe17b9c":"## Bivariate Analysis\n### Numeric and Numeric","81aa854a":"**Insights**\n\n`Pfizer\/BioNTech` utilizes **54.20%** and `Moderna` utilizes **38.23%** of total vaccinations. These are the highest ranking manufacturers.\n\n`Johnson&Johnson` utilizes **1.29%**, `Oxford\/AstraZeneca` utilizes **2.21%** and `Sinovac` utilizes **4.07%** of total vaccinations","e3eb048f":"**Insights**\n\nLarge number of population not vaccinated since the data is more concentrated towards 0. However, there seems to be steady increase in vaccination by per hundred.","e84ff713":"## Fight against Coronavirus","acb93fe9":"**Insights**\n\n`Israel` produced **8,202** total vaccination per hundred out of which **4,765.4600** people vaccinated per hundred with the first dose and **3,436.5300** people fully vaccinated per hundred.\n\n\n`Gibraltar` produced **7,233.0200** total vaccination per hundred out of which **4,361.8800** people vaccinated per hundred with the first dose and **2,870.3300** people fully vaccinated per hundred.\n\n\n`Wales`\tproduced **3,166.1500** total vaccination per hundred out of which **2,636.8300** people vaccinated per hundred with the first dose and **529.3000** people fully vaccinated per hundred.\n","5272bd51":"![image-2.png](attachment:image-2.png)\n\nhttps:\/\/www.india.gov.in\/spotlight\/combating-coronavirus","fb27d874":"### Numeric and Category","79062368":"### Category and Category","88221c5e":"**Insights**\n\nThe data is highly skewed to the left. In a normal distribution, the mean and the median are the same however when the data is skewed the mean and median are different.\n\nA left-skewed, negative distribution will have the mean to the left of the median","332366df":"## Univariate Analysis\n\n### Numerical","b3a627f4":"**Insights**\n\n`Germany` and `Canada` authorized vaccines are `Moderna, Oxford\/AstraZeneca, Pfizer\/BioNTech` \n\n\n`Moderna, Pfizer\/BioNTech` is also authorized by `Israel`.\n\n\n`Oxford\/AstraZeneca, Pfizer\/BioNTech` are most popular choice of vaccine.","28092e22":"skewness = 0 : normally distributed.\n\n\nskewness > 0 : more weight in the left tail of the distribution.\n\n\nskewness < 0 : more weight in the right tail of the distribution. ","457dbd6a":"**Insights**\n\n`Moderna, Oxford\/AstraZeneca, Pfizer\/BioNTech` are the top 3 vaccines that are utilized by 41.51% of the data.","cb1786ab":"**Insights**\n\n`Pfizer\/BioNTech` is approved by all the countries ['United States', 'Chile', 'Romania', 'Italy', 'Iceland', 'Germany', 'Lithuania', 'Latvia', 'Czechia'].\n\n`Sinovac` is the authorized vaccine only in `Chile`\n\n`Oxford\/AstraZeneca` and `Moderna` are the 2nd ranking vaccine that is authorized by most of the countries.\n\n`Johnson&Johnson` is only approved by `United States`\n\n`Pfizer\/BioNTech` and `Moderna` are the most popular vaccines, followed by `Oxford\/AstraZeneca`"}}