{"cell_type":{"d194242f":"code","f49f99fc":"code","3ad34aa1":"code","27dd12b3":"code","fafdd7ba":"code","7bdd0163":"code","b5aad419":"code","1a255cc0":"code","bac89a60":"code","e57eda7e":"code","39bd21f3":"code","2fc27c27":"code","23e9816a":"code","f1bec980":"code","43d1652b":"code","aab2fe13":"code","41b503a9":"code","58103495":"code","135ab58d":"code","99c64499":"code","5e8b1e61":"code","8f191592":"code","5c7f1aca":"code","54944183":"code","17a0ead9":"code","9c05a821":"code","73278a46":"code","c1c42647":"code","4af37da6":"code","5b5c950c":"code","e694358c":"code","34a63c79":"code","500bab50":"code","0daf2b35":"markdown","2bc5f554":"markdown","11fd77eb":"markdown","bf9dceca":"markdown","b4d61d3d":"markdown","9ac4b048":"markdown","c7b27ed3":"markdown","1c99da03":"markdown","fb361991":"markdown","72ed452d":"markdown","da8a0f2d":"markdown","88d40c78":"markdown","00d2fa4e":"markdown","a0352c48":"markdown","0d2d106b":"markdown","6150029f":"markdown","de0aedb9":"markdown","91820837":"markdown","68bf536b":"markdown","6d090388":"markdown","6da2109f":"markdown","033be969":"markdown","385a7cfa":"markdown"},"source":{"d194242f":"import os # operating system\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # standard graphics\nimport seaborn as sns # fancier graphics\n\n# Input data files are available in the \"..\/input\/\" directory.\nprint(os.listdir(\"..\/input\"))","f49f99fc":"# Read the dataset\ndata = pd.read_csv('..\/input\/avocado.csv')","3ad34aa1":"# Show the first rows\ndata.head()","27dd12b3":"data = data.drop(columns = 'Unnamed: 0')\ndata.head()","fafdd7ba":"data.info()","7bdd0163":"data['Date'] = pd.to_datetime(data['Date'])\ndata.info()","b5aad419":"data.head()","1a255cc0":"data = data.rename(columns = {'4046': 'small', '4225': 'large', '4770': 'xl'})\ndata.head()","bac89a60":"# Show the last rows\ndata.tail()","e57eda7e":"# Show the descriptive statistics\ndata.describe()","39bd21f3":"# What is the mean AveragePrice?\ndata['AveragePrice'].mean()","2fc27c27":"# Print it with less decimals\nm = data['AveragePrice'].mean()\nprint('Mean value of AveragePrice = {:.2f}'.format(m))","23e9816a":"# What is the standard deviation of Total Volume?\ns = data['Total Volume'].std()\ns","f1bec980":"# Printing the standard deviation of Total Volume in scientific format and with less decimals\nprint('Standard deviation of Total volume = {:.2e}'.format(s))","43d1652b":"# What are the unique type values?\ndata['type'].unique()","aab2fe13":"# How many rows there are for each type?\ndata['type'].value_counts()","41b503a9":"# What are the regions?\ndata['region'].unique()","58103495":"# How many regions are there in total?\nlen(data['region'].unique())","135ab58d":"data.groupby('type').describe()","99c64499":"# or showing the same values but the table is transposed\ndata.groupby('type').describe().T","5e8b1e61":"# What if we want only to compare the mean of AveragePrice between different types?\ndata['AveragePrice'].groupby(data['type']).mean()","8f191592":"# Another example: How does the sum of large avocados vary grouped by year?\ndata['large'].groupby(data['year']).sum()","5c7f1aca":"# What is the distribution of the average prices?\ndata.hist(column = 'AveragePrice', bins = 30, figsize = (8, 6))\nplt.xlabel('Price')\nplt.ylabel('Count')\nplt.title('Distribution of avocado average prices')\nplt.show()","54944183":"# How do the prices differ by type?\nax = data.hist(column = 'AveragePrice', by = 'type', bins = 30, sharex = True, grid = True, figsize = (14, 6), xlabelsize = 12, ylabelsize = 12)\n# Annotate the graphs (xlabel, ylabel and grid)\nfor i in range(2):\n    ax[i].set_xlabel('Price', size = 14)\n    ax[i].set_ylabel('Count', size = 14)\n    ax[i].grid()\nplt.show()","17a0ead9":"# Use seaborn to create distribution plot\nimport warnings\n\n# sns.distplot() gives some warnings. Ignore them.\nwith warnings.catch_warnings():\n    warnings.simplefilter(\"ignore\")\n    plt.figure(figsize=(12,5))\n    plt.title(\"Distribution of avocado average price\")\n    ax = sns.distplot(data[\"AveragePrice\"], color = 'r')\n    plt.grid()","9c05a821":"# Or quick help, remove the comment\n# ?sns.distplot","73278a46":"# Can we overlay the distribution of average price grouped by type?\n\n# sns.distplot() gives some warnings. Ignore them.\nwith warnings.catch_warnings():\n    warnings.simplefilter(\"ignore\")\n\n    # Create a figure, add title\n    plt.figure(figsize=(12,5))\n    plt.title(\"Distribution of average price grouped by type\")\n\n    # Plot the distribution of conventional type data\n    mask0 = data['type'] == 'conventional'\n    ax = sns.distplot(data[\"AveragePrice\"][mask0], color = 'r', label = 'conventional')\n\n    # Plot the histogram of organic type data\n    mask1 = data['type'] == 'organic'\n    ax = sns.distplot(data[\"AveragePrice\"][mask1], color = 'g', label = 'organic')\n\n    # add legend, show the graphics\n    plt.legend()\n    plt.grid()","c1c42647":"# Make a boxplot graph using pandas\ndata.boxplot(column = 'AveragePrice', by = 'type', figsize = (8,6))\nplt.show()","4af37da6":"# Make a boxplot graph with seaborn\nplt.figure(figsize=(12,5))\nsns.boxplot(y = \"type\", x = \"AveragePrice\", data = data, palette = 'pink')\nplt.xlim([0, 4])\nplt.grid()\nplt.show()","5b5c950c":"# Violin plot using seaborn\n\n# sns.violinplot() gives some warnings. Ignore them.\nwith warnings.catch_warnings():\n    warnings.simplefilter(\"ignore\")\n    plt.figure(figsize=(12,5))\n    sns.violinplot(y = \"type\", x = \"AveragePrice\", data = data, palette = 'pink')\n    plt.xlim([0, 4])\n    plt.grid()\n    plt.show()","e694358c":"# How do the avocado prices vary by region? First type == 'organic'\nmask = data['type'] == 'organic'\ng = sns.catplot(x = 'AveragePrice', y = 'region', data = data[mask],\n                   height = 13,\n                   aspect = 0.8,\n                   palette = 'magma')\nplt.xlim([0, 4])\nplt.grid()\nplt.show()","34a63c79":"# How about conventional avocados? Their price distribution by region?\nmask = data['type'] == 'conventional'\ng = sns.catplot(x = 'AveragePrice', y = 'region', data = data[mask],\n                   height = 13,\n                   aspect = 0.8,\n                   palette = 'magma')\nplt.xlim([0, 4])\nplt.grid()\nplt.show()","500bab50":"# Overlay the distributions, we use hue = 'type' for overalying\ng = sns.catplot(data = data,\n                x = 'AveragePrice', \n                y = 'region',\n                hue = 'type',\n                height = 13,\n                aspect = 0.8,\n                palette = 'magma')\nplt.xlim([0, 4])\nplt.grid()\nplt.show()","0daf2b35":"Seems that we have two peaks in our distribution. Could this be due to different avocado types?","2bc5f554":"Pandas library doesn't contain violin plot, see: https:\/\/pandas.pydata.org\/pandas-docs\/stable\/user_guide\/visualization.html \n\nInstead, we can use seaborn to draw violins.","11fd77eb":"### Categorical plot\n\nCategocial plot is a higher level function to make all kinds of statistical plots. More info: [seaborn catplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.catplot.html?highlight=catplot#seaborn.catplot)","bf9dceca":"## More reading\n- [Basic statistics in pandas DataFrame](https:\/\/medium.com\/@kasiarachuta\/basic-statistics-in-pandas-dataframe-594208074f85)\n- [Pandas describe](http:\/\/pandas.pydata.org\/pandas-docs\/stable\/reference\/api\/pandas.DataFrame.describe.html)\n- [Pandas group by](http:\/\/pandas.pydata.org\/pandas-docs\/stable\/user_guide\/groupby.html)\n- [Pandas visualization](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/user_guide\/visualization.html)\n- [Seaborn tutorials](https:\/\/seaborn.pydata.org\/tutorial.html)\n- Seaborn [distplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.distplot.html), [boxplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.boxplot.html?highlight=boxplot#seaborn.boxplot), [violinplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.violinplot.html#seaborn.violinplot), [catplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.catplot.html?highlight=catplot#seaborn.catplot)","b4d61d3d":"### Descriptive statistics\n\n- <a href=\"https:\/\/en.wikipedia.org\/wiki\/Sample_(statistics)\">count = number of observations  (rows) in data<\/a>\n- [mean = arithmetic mean](https:\/\/en.wikipedia.org\/wiki\/Mean#Arithmetic_mean_(AM)\n- [std = standard deviation](https:\/\/en.wikipedia.org\/wiki\/Standard_deviation)\n- [25%, 50%, 75% = quartiles](https:\/\/en.wikipedia.org\/wiki\/Quartile)\n- [50% = median](https:\/\/en.wikipedia.org\/wiki\/Median#Finite_set_of_numbers)\n- [min, max = sample minimum and maximum](https:\/\/en.wikipedia.org\/wiki\/Sample_maximum_and_minimum)","9ac4b048":"### Boxplot","c7b27ed3":"\n# Descriptive statistics\n2.3.2019, Sakari Lukkarinen<br>\nProbability and Statistics<br>\n[Helsinki Metropolia University of Applied Sciences](https:\/\/www.metropolia.fi\/en)","1c99da03":"More info: [seaborn.distplot()](https:\/\/seaborn.pydata.org\/generated\/seaborn.distplot.html)","fb361991":"### Clean the data","72ed452d":"More info: [seaborn boxplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.boxplot.html#seaborn.boxplot)","da8a0f2d":"Date column data type is object. It needs to be converted to datetime.","88d40c78":"## Distribution plots\n\n- [What is histogram?](https:\/\/en.wikipedia.org\/wiki\/Histogram)\n- [What is box plot?](https:\/\/en.wikipedia.org\/wiki\/Box_plot)\n- [What is violin plot?](https:\/\/en.wikipedia.org\/wiki\/Violin_plot)\n","00d2fa4e":"Check the data now.","a0352c48":"## Acknowledgments\n\n-  Many thanks to: [Explore avocados from all sides](https:\/\/www.kaggle.com\/hely333\/explore-avocados-from-all-sides)\n- Useful ideas how to use seaborn: [Data Visualization-Seaborn(Beginner)](https:\/\/www.kaggle.com\/fetenbasak\/data-visualization-seaborn-beginner)","0d2d106b":"More info: [Seaborn violinplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.violinplot.html#seaborn.violinplot)","6150029f":"## Background and Objectives\nThe aims of this Notebook exercise are to:\n- get familiar with pandas descriptive statistics\n- learn plot histograms of the data (hist, boxplot, violin plot)\n- group the data by using categories\n","de0aedb9":"We can use type and region to group the data and calculate statistics between the groups.","91820837":"The first column is an index, so drop it out","68bf536b":"## Next steps\n- How does the Total Volume vary by type and region?\n- Which year the avocado total sales (AveragePrice * Total Volume) has been highest?\n- How much does the total sales vary by calendar month?","6d090388":"### Violin plot","6da2109f":"What are 4046, 4225 and 4770?\n\nReading of avocado varieties: https:\/\/producebrands.com\/the-avocado\/ gives explanations:\n- 4046 = Hass \u2013 small\n- 4225 = Hass \u2013 large\n- 4770 = Hass Extra Large\n\nWe rename the columns accordingly.\n","033be969":"If we compare the `data.head()` and `data.describe()`, we notice that 'type' and 'region' columns were dropped out from the descriptive statistics table as they were text (or categorical data). However, we can study how many unique values these variables contain and the distribution of the values.","385a7cfa":"### Histograms"}}