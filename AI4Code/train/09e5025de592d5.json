{"cell_type":{"d9433b2f":"code","75b2361f":"code","90aedcb6":"code","e3acd6b9":"code","ba0348ef":"code","beb8eb5f":"code","036c6aaf":"code","8f8e9413":"code","10dc8e61":"code","62e68c46":"code","841f779c":"code","7ec407f3":"code","d5b5f2b9":"code","89473335":"code","635f3183":"code","5da71539":"code","c12a05b7":"code","7730aca0":"code","95ed458d":"code","abd89be1":"code","d1f6b88e":"code","85b27856":"code","03574db1":"code","e3785011":"code","217f0622":"code","b8607210":"code","05c373cc":"code","00b3c258":"code","b8cdcb08":"code","e4764f08":"code","2ca44a06":"code","8c3e8e2a":"code","23b22de8":"code","debfd0c3":"code","5172fbad":"code","e37425ed":"code","19aaead8":"code","a5f7d781":"code","defb4aa2":"code","9da6d329":"code","04ca310a":"code","84129b52":"code","4dd95d7b":"code","15443983":"code","9dd5ea0e":"code","d88d3449":"code","5d251906":"code","86454a3f":"code","4169a87f":"code","ced09f14":"code","c123d2ea":"code","aef49d02":"code","b0716441":"code","cd71d987":"code","fb1ed5a7":"code","d4c3d574":"code","35a56228":"code","e47ac2cc":"code","91264bf2":"code","b3b40224":"code","6d8c4bc1":"code","2e924bb7":"code","5a034453":"code","a7d0ee80":"code","0a147f76":"code","31c096d6":"code","3b55042f":"code","0225786e":"code","a40b3fb1":"code","52f520db":"code","6d678dcb":"code","1f4f2ec8":"code","0e842751":"code","d1e923a5":"markdown","eac2adc4":"markdown","eda1b83d":"markdown","25e6a541":"markdown","ae6ac9f0":"markdown","bd5c2e99":"markdown","b1bed18f":"markdown","f0201849":"markdown","7b88ce59":"markdown","1ae21030":"markdown","853afbb1":"markdown","e2e9c5ea":"markdown","e3d92fc4":"markdown","a29bcbf9":"markdown","0a575fc3":"markdown","3651b1a7":"markdown","e1e8808c":"markdown","30cc130b":"markdown","e30d51de":"markdown","32612149":"markdown","e7fce5c5":"markdown","9e8f9c52":"markdown","378a5430":"markdown","a6ac1134":"markdown","0739f4c9":"markdown","19fee255":"markdown","d7b073fe":"markdown","1d05c30d":"markdown","a758d21a":"markdown","b6174962":"markdown","9ece7a65":"markdown","ee069020":"markdown","b0db707f":"markdown","b04b467e":"markdown","a553d84c":"markdown","9bb1375b":"markdown","1a30920d":"markdown","807ddf03":"markdown","ab61bd74":"markdown","d7011ce8":"markdown","032a7b1e":"markdown","7af09e74":"markdown","cba8c010":"markdown","65e74c7d":"markdown","c4f54839":"markdown","b6c0ade2":"markdown","f8fca771":"markdown","61b389b2":"markdown","103b14a3":"markdown","807c2b70":"markdown","8c421c08":"markdown","d999bf15":"markdown","12bdd116":"markdown","c3faa1d0":"markdown","b57c1d32":"markdown","442a7e03":"markdown","ba788416":"markdown","df2f739b":"markdown","b0260728":"markdown","fd4b128a":"markdown","dcf01ab7":"markdown","6072be72":"markdown","67261930":"markdown","1e6f9e12":"markdown","08268eda":"markdown","bacd170d":"markdown","b53e6e4f":"markdown","664d946b":"markdown","b456118d":"markdown","f6f4c8d9":"markdown","704e9ec9":"markdown","ba613207":"markdown","7da87b07":"markdown","5fbeb6e5":"markdown","b1079695":"markdown","9423e8dd":"markdown"},"source":{"d9433b2f":"# load packages\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n","75b2361f":"# Load dataset with complete feature names.\n\n# Chart display\n%matplotlib inline\n\n\nckd_file = \"..\/input\/chronic-kidney-disease\/chronic_kidney_disease.csv\"\nckd = pd.read_csv(ckd_file, decimal = '.', header = 0, \n                 names = ['id', 'age', 'blood_pressure', 'specific_gravity', 'albumin', 'sugar', \n                          'red_blood_cells', 'pus_cell', 'pus_cell_clumps', 'bacteria', \n                          'blood_glucose_random', 'blood_urea', 'serum_creatinine', 'sodium',\n                          'potassium', 'haemoglobin', 'packed_cell_volume', 'white_cell_count', \n                          'red_cell_count', 'hypertension', 'diabetes_mellitus', \n                          'coronary_artery_disease', 'appetite', 'pedal_edema', 'anaemia', \n                          'classification'])\nckd.head(7)","90aedcb6":"# Drop id columns as it's values do not serve a purpose moving forward\nckd.drop('id', axis = 1, inplace = True)\nckd.head()","e3acd6b9":"# Overview of dataset\nckd.info()","ba0348ef":"# Check for missing values\nckd.isnull().sum()","beb8eb5f":"# Convert variables to the appropriate type\nckd['red_cell_count'] = pd.to_numeric(ckd['red_cell_count'], errors='coerce')\nckd['white_cell_count'] = pd.to_numeric(ckd['white_cell_count'], errors='coerce')\nckd['packed_cell_volume'] = pd.to_numeric(ckd['packed_cell_volume'], errors='coerce')","036c6aaf":"# Sanity check\/descriptive statistics \nckd.describe()","8f8e9413":"# Group categorical variables together in a list\ncat_var = [var for var in ckd.columns if ckd[var].dtype == 'object']\nnum_var = [var for var in ckd.columns if ckd[var].dtype == 'float64']","10dc8e61":"# Use for loop to assess unique values and identify typos\n\nfor var in cat_var:\n    print(f\"{var} contains the following unique values: {ckd[var].unique()}\")","62e68c46":"# Fix errors in 'diabetes_mellitus'\nckd.diabetes_mellitus = ckd.diabetes_mellitus.str.strip()\nckd['diabetes_mellitus'].replace({'\/tno','\/tyes'}, {'no','yes'}, inplace = True)\nckd['diabetes_mellitus'].value_counts()","841f779c":"# Fix errors in 'coronary_artery_disease'\nckd['coronary_artery_disease'].replace('\\tno', 'no', inplace = True)\nckd['coronary_artery_disease'].value_counts()","7ec407f3":"# Fix errors in 'classification'\nckd['classification'].replace('ckd\\t', 'ckd', inplace = True)\nckd['classification'].value_counts()","d5b5f2b9":"def impute_randomsample(variable):\n    randomsample = ckd[variable].dropna().sample(ckd[variable].isna().sum())\n    randomsample.index = ckd[ckd[variable].isnull()].index\n    ckd.loc[ckd[variable].isnull(), variable] = randomsample   ","89473335":"for var in cat_var:\n    impute_randomsample(var)\n    \nfor var in num_var:\n   impute_randomsample(var)","635f3183":"ckd.isnull().sum()","5da71539":"# Explore descriptive statistics\nckd['age'].describe()","c12a05b7":"# Graph Age\nsns.set_style('darkgrid')\nax = sns.histplot(data=ckd, x=\"age\",legend=True, bins = 60)\nax.set_title('Figure 1: The Age Distribution',fontsize=17)\nax.set_xlabel('Age (years)',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","7730aca0":"# Explore descriptive statistics\nckd['blood_pressure'].describe()","95ed458d":"# Graph Blood Pressure\nax = sns.histplot(data=ckd, x=\"blood_pressure\",legend=False, bins = 11)\nax.set_title('Figure 2: Blood Pressure (diastolic) Distribution',fontsize=17)\nax.set_xlabel('Blood Pressure (mmHg)',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","abd89be1":"# Explore descriptive statistics\nckd['blood_glucose_random'].describe()","d1f6b88e":"# Graph Blood Glucose Random\nax = sns.histplot(data=ckd, x=\"blood_glucose_random\",legend=False, bins = 60)\nax.set_title('Figure 3: Random Blood Glucose Test Distribution',fontsize=17)\nax.set_xlabel('Random Blood Glucose Levels (mg\/dL)',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","85b27856":"# Explore descriptive statistics\nckd['sodium'].describe()","03574db1":"# Graph Sodium levels\nax = sns.histplot(data=ckd, x=\"sodium\",legend=False, bins = 60)\nax.set_title('Figure 4: Blood Sodium Level Distribution',fontsize=17)\nax.set_xlabel('Sodium Levels (mEQ\/L)',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","e3785011":"# Explore descriptive statistics\nckd['potassium'].describe()","217f0622":"# Graph Potassium levels\nax = sns.histplot(data=ckd, x=\"potassium\",legend=False, bins = 60)\nax.set_title('Figure 5: Blood Potassium Level Distribution',fontsize=17)\nax.set_xlabel('Potassium Levels (mEQ\/L)',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","b8607210":"# Explore descriptive statistics\nckd['classification'].value_counts()","05c373cc":"# Graph Classification - ckd vs not ckd\nax = sns.countplot(x='classification', hue = 'classification', data=ckd,dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','Not CKD'], bbox_to_anchor=(1,1),\n                         title = 'Classification')\nax.set_title('Figure 6: People Diagnosed with or without CKD',fontsize=17)\nax.set_xlabel('Classification',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","00b3c258":"# Explore value distribution \nckd['hypertension'].value_counts()","b8cdcb08":"# Graph Hypertension\nax = sns.countplot(x='hypertension', hue = 'hypertension', data=ckd,dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['Negative','Positive'], bbox_to_anchor=(1,1),\n                         title = 'Hypertension Diagnosis')\nax.set_title('People Figure 7: Diagnosed with or without Hypertension',fontsize=17)\nax.set_xlabel('Hypertension Diagnosis',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","e4764f08":"# Explore value distribution \nckd['diabetes_mellitus'].value_counts()","2ca44a06":"# Graph Diabetes Mellitus\nax = sns.countplot(x='diabetes_mellitus', hue = 'diabetes_mellitus', data=ckd,dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['Negative','Positive'], bbox_to_anchor=(1,1),\n                         title = 'Diabetes Mellitus Diagnosis')\nax.set_title('Figure 8: People Diagnosed with or without Diabetes Mellitus',fontsize=17)\nax.set_xlabel('Diabetes Mellitus Diagnosis',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","8c3e8e2a":"# Explore value distribution \nckd['coronary_artery_disease'].value_counts()","23b22de8":"# Graph Coronary Artery Disease\nax = sns.countplot(x='coronary_artery_disease', hue = 'coronary_artery_disease', data=ckd,dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['Negative','Positive'], bbox_to_anchor=(1,1),\n                         title = 'CAD Diagnosis')\nax.set_title('Figure 9: People Diagnosed with or without Coronary Artery Disease (CAD)',fontsize=17)\nax.set_xlabel('CAD Diagnosis',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","debfd0c3":"# Explore value distribution \nckd['anaemia'].value_counts()","5172fbad":"# Graph Coronary Artery Disease\nax = sns.countplot(x='anaemia', hue = 'anaemia', data=ckd,dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['Negative','Positive'], bbox_to_anchor=(1,1),\n                         title = 'Anaemia Diagnosis')\nax.set_title('Figure 10: People Diagnosed with or without Anaemia',fontsize=17)\nax.set_xlabel('Anaemia Diagnosis',fontsize=15)\nax.set_ylabel('Number of People',fontsize=15)\nplt.show()","e37425ed":"# Graph Age vs CKD\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='age', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.15,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 11: Age vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Age (years)',fontsize=15)\nplt.show()","19aaead8":"# Graph random blood glucose vs CKD\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='blood_glucose_random', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 12: Random Blood Glucose vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Random Blood Glucose (mg\/dL)',fontsize=15)\nplt.show()","a5f7d781":"# Graph CKD vs Red blood cell count\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='red_cell_count', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 13: Red Blood Cell Count vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('RBC Count (million\/mm3)',fontsize=15)\nplt.show()","defb4aa2":"# Graph CKD vs Blood Pressure\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='blood_pressure', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 14: Blood Pressure vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Blood Pressure (mmHg)',fontsize=15)\nplt.show()","9da6d329":"# Graph CKD vs white cell count\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='white_cell_count', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 15: White Cell Count vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Number of White Cells',fontsize=15)\nplt.show()","04ca310a":"# Graph CKD vs Blood Urea\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='blood_urea', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 16: Blood Urea vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Blood Urea Levels (mg\/dL)',fontsize=15)\nplt.show()","84129b52":"# Graph CKD vs Serum Creatinine\nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='serum_creatinine', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 17: Serum Creatinine vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Serum Creatinine (mg\/dL)',fontsize=15)\nplt.show()","4dd95d7b":"# Graph CKD vs sodium levels \nsns.set_style('darkgrid')\nax = sns.boxplot(x='classification',y='sodium', hue = 'classification', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['CKD','No CKD'], bbox_to_anchor=(1.35,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 18: Sodium(NA+) vs Chronic Kidney Disease(CKD)',fontsize=17)\nax.set_xlabel('Diagnosed with CKD',fontsize=15)\nax.set_ylabel('Sodium (mEQ\/L)',fontsize=15)\nplt.show()","15443983":"# graph the variables age and red_blood_cell_count\nckd.plot(kind='scatter',x='age',y='red_cell_count')\nplt.title('Figure 19: Age vs Red Blood Cell (RBC) Count',fontsize=17)\nplt.xlabel('Age (Years)', fontsize=15)\nplt.ylabel('RBC Count (million\/mm3)',fontsize=15)\nplt.grid(b=True)\nplt.show()","9dd5ea0e":"# graph the variables age and hypertension\nsns.set_style('darkgrid')\nax = sns.boxplot(x='hypertension',y='age', hue = 'hypertension', data=ckd,width=0.8, dodge=False)\nlegend_labels, _= ax.get_legend_handles_labels()\nax.legend(legend_labels, ['Hypertensive','Not Hypertensive'], bbox_to_anchor=(1.15,1),\n                         title = 'Dianostic Classification')\nax.set_title('Figure 20: Age vs Hypertension',fontsize=17)\nax.set_xlabel('Diagnosed with Hypertension',fontsize=15)\nax.set_ylabel('Age (years)',fontsize=15)\nplt.show()","d88d3449":"# Graph Heatmap to show corelations\nplt.figure(figsize = (14, 7))\nsns.heatmap(ckd.corr(method='pearson').round(2), annot = True, linewidths = 1, linecolor = 'black',\n           cmap='coolwarm')\nplt.title('Figure 21: Pearson Correlation between Numeric Variables',fontsize=17)\nplt.xlabel('Numeric Variables',fontsize=15)\nplt.ylabel('Numeric Variables',fontsize=15)\nplt.show()","5d251906":"# Transform categorical variables to numerical values\nencoded_df=pd.get_dummies(ckd, drop_first='True')","86454a3f":"# View result \nencoded_df.head()","4169a87f":"# We will now separate out target variable from the others. \ny = encoded_df['classification_notckd']\nx = encoded_df.drop('classification_notckd', axis =1)","ced09f14":"# Import decision tree modeling functions\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import train_test_split\n\n# Build train and test model\nX_train, X_test, y_train, y_test = train_test_split(x,\n                                                    y,\n                                                     test_size=0.5,\n                                                    random_state=0)\n# Create object from the decision tree function\nclf = DecisionTreeClassifier()\n\n# Pipe library\nfrom sklearn.pipeline import Pipeline \n# For normalisation\nfrom sklearn.preprocessing import StandardScaler\n\n# make a pipeline for normalisation \npipeline_DT = Pipeline([('scaler', StandardScaler()), ('clf', clf)])\n\n# Fit the data\nfit = pipeline_DT.fit(X_train, y_train)\n\n# Predict the data\ny_pre = fit.predict(X_test)","c123d2ea":"# Import accuracy score metric to evaluate model \nfrom sklearn.metrics import accuracy_score\n\n# Import model evaluation metric functions\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import classification_report\n\n# Output performance results\ncm = confusion_matrix(y_test, y_pre)\nprint(cm)\nreport = classification_report(y_test, y_pre)\nprint(report)","aef49d02":"# Build train and test model\nX_train, X_test, y_train, y_test = train_test_split(x,\n                                                    y,\n                                                     test_size=0.4,\n                                                    random_state=1)\n# Create object from the decision tree function\nclf = DecisionTreeClassifier()\n\n# make a pipeline for normalisation \npipeline_DT = Pipeline([('scaler', StandardScaler()), ('clf', clf)])\n\n# Fit the data\nfit = pipeline_DT.fit(X_train, y_train)\n\n# Predict the data\ny_pre = fit.predict(X_test)","b0716441":"# Output performance results\ncm = confusion_matrix(y_test, y_pre)\nprint(cm)\nreport = classification_report(y_test, y_pre)\nprint(report)","cd71d987":"# Build train and test model\nX_train, X_test, y_train, y_test = train_test_split(x,\n                                                    y,\n                                                     test_size=0.2,\n                                                    random_state=2)\n# Create object from the decision tree function\nclf = DecisionTreeClassifier()\n\n# make a pipeline for normalisation \npipeline_DT = Pipeline([('scaler', StandardScaler()), ('clf', clf)])\n\n# Fit the data\nfit = pipeline_DT.fit(X_train, y_train)\n\n# Predict the data\ny_pre = fit.predict(X_test)","fb1ed5a7":"# Output performance results\ncm = confusion_matrix(y_test, y_pre)\nprint(cm)\nreport = classification_report(y_test, y_pre)\nprint(report)","d4c3d574":"# Import grid search function for hyper parameter tuning\nfrom sklearn.model_selection import GridSearchCV\n\n# Conduct hyper parameter tuning for decision tree using GridSearchCV\ngrid_param = {\n    'criterion' : ['gini', 'entropy'],\n    'max_depth' : [3, 5, 7, 10],\n    'splitter' : ['best', 'random'],\n    'min_samples_leaf' : [1, 2, 3, 5, 7],\n    'min_samples_split' : [2, 3, 5, 7],\n    'max_features' : ['auto', 'sqrt', 'log2']\n}\n\ngrid_search_clf = GridSearchCV(clf, grid_param, cv = 5, n_jobs = -1, verbose = 2)\ngrid_search_clf.fit(X_train, y_train)","35a56228":"# Best parameters and best score\nprint(grid_search_clf.best_params_)\nprint(grid_search_clf.best_score_)","e47ac2cc":"# best estimator\nclf = grid_search_clf.best_estimator_","91264bf2":"# Train model with best estimator\n\n# Fit the data\nfit = clf.fit(X_train, y_train)\ny_pre = fit.predict(X_test)\ncm = confusion_matrix(y_test, y_pre)\nprint(cm)\nreport = classification_report(y_test, y_pre)\nprint(report)","b3b40224":"# Import KNN model function\nfrom sklearn.neighbors import KNeighborsClassifier\n\n# Create list to contain accuracy values\nacc_knn = []\n\n#Create function that produces an accuracy score - to feed into for loop below\ndef knn(k = 3):\n    clf_knn = KNeighborsClassifier(k)\n    fit_knn = clf_knn.fit(X_train, y_train)\n    predicted_knn = fit_knn.predict(X_test)\n    cm_knn = confusion_matrix(y_test, predicted_knn)\n    \n    acc_sc = accuracy_score(y_test, predicted_knn)\n    return acc_sc","6d8c4bc1":"# Create Lists\nk_values = []\nacc_values = []\n\n# Loop through k values, stepping by 2\nfor k in range(1,100, 2):\n    acc_sc = knn(k)\n    k_values.append(k)\n    acc_values.append(acc_sc)\n    \n# Create dataframe to with k values and the respective accuracy \nacc_knn = pd.DataFrame({\n    \"k\": k_values,\n    \"acc\": acc_values\n})","2e924bb7":"# Graph accuracy values\nacc_knn.plot(x=\"k\", y=\"acc\")","5a034453":"# Find maximum accuracy value\nacc_knn[acc_knn['acc'] == acc_knn['acc'].max()].k","a7d0ee80":"# Display accuracy values for the different k values used\nacc_knn.sort_values('acc',ascending=False)","0a147f76":"# Build train and test model\nX_train, X_test, y_train, y_test = train_test_split(x, \n                                                    y, \n                                                    test_size = 0.5,\n                                                    random_state=3)\n# Set K value \nclf_knn = KNeighborsClassifier(3)\n\n# make a pipeline for normalisation \npipeline_knn = Pipeline([('scaler', StandardScaler()), ('knn', clf_knn)])\n\n# Fit the data\nfit_knn = pipeline_knn.fit(X_train, y_train)\n\n# Predict on unseen data\ny_predicted = fit_knn.predict(X_test)","31c096d6":"# View Confusion matrix\ncm_knn = confusion_matrix(y_test, y_predicted)\ncm_knn","3b55042f":"# View performance results\nreport_knn = classification_report(y_test, y_predicted)\nprint(report_knn)","0225786e":"# Build train and test model\nX_train, X_test, y_train, y_test = train_test_split(x, \n                                                    y, \n                                                    test_size = 0.4,\n                                                    random_state=4)\n# Set K value \nclf_knn = KNeighborsClassifier(3)\n\n# make a pipeline for normalisation \npipeline_knn = Pipeline([('scaler', StandardScaler()), ('knn', clf_knn)])\n\n# Fit the data\nfit_knn = pipeline_knn.fit(X_train, y_train)\n\n# Predict on unseen data\ny_predicted = fit_knn.predict(X_test)","a40b3fb1":"# View Confusion matrix\ncm_knn = confusion_matrix(y_test, y_predicted)\ncm_knn","52f520db":"# View performance results\nreport_knn = classification_report(y_test, y_predicted)\nprint(report_knn)","6d678dcb":"# Build train and test model\nX_train, X_test, y_train, y_test = train_test_split(x, \n                                                    y, \n                                                    test_size = 0.2,\n                                                    random_state=5)\n# Set K value \nclf_knn = KNeighborsClassifier(3)\n\n# make a pipeline for normalisation \npipeline_knn = Pipeline([('scaler', StandardScaler()), ('knn', clf_knn)])\n\n# Fit the data\nfit_knn = pipeline_knn.fit(X_train, y_train)\n\n# Predict on unseen data\ny_predicted = fit_knn.predict(X_test)","1f4f2ec8":"# View Confusion matrix\ncm_knn = confusion_matrix(y_test, y_predicted)\ncm_knn","0e842751":"# View performance results\nreport_knn = classification_report(y_test, y_predicted)\nprint(report_knn)","d1e923a5":"We can observe from the output above that the following variables have errors that need to be dealt with: 'diabetes_mellitus', 'coronary_artery_disease', 'classification'. ","eac2adc4":"From figure 6 above we can observe a total of 400 observations, with 250 being diagnosed with CKD and 150 whom do not have CKD. There are 100 more observations of people being diagnosed with CKD, it may be better to have more observations with people whom are not diagnosed with CKD so the model will have equal information and doesn't sway towards one outcome more than another. It is apparent that more data is needed as whole. ","eda1b83d":"###### Age vs Red Blood Cell Count\nAs you get older does your red blood cell count decrease?","25e6a541":"In Figure 1 and the descriptive statistics above we can observe the frequency distribution of the age of the participants that were included in the dataset, ranging from 2 years to 90 years. We can observe that the majority of people are approximately between the ages of 40 to 75. It would be better to have a larger, more equal distribution of people from all ages. This way the model we will build will be more likely to better generalise to new data. One of the limitations, may have been that less young people develop health conditions and thus they have not presented to a health precinct to have had tests conducted. ","ae6ac9f0":"We will now explain what the features represent and include what the normal ranges are for that of a healhy individual. Following this we will clean and preprocess the data before exploring it. ","bd5c2e99":"This is the reference to the code chunk above:\n\nNamrate Kapoor 2020, 'Feature Engineering - Handling Missing Data with Python', *Numpy Ninja*, blog post, 9 October, viewed 22 November 2020, <https:\/\/www.numpyninja.com\/post\/feature-engineering-handling-missing-data-with-python>.\n","b1bed18f":"From the descriptive statistics and figure 4 above we can observe the range of 4.5mEQ\/L to 163mEQ\/L. As previously mentioned the normal range is between 135 and 145 milliequivalents per liter (mEQ\/L). This normal range is quite narrow, which is logical, given how critical sodium ions are in the electronic signalling needed for muscle contraction (specifically in relation to depolarising action potentials), amongst other things. It is apparent from the distribution above that there are those whom are both above and below the normal range. ","f0201849":"KNN is a non-parametric method with no underlying assumptions. We must select which value we are going to use, there is no predefined statistical way of selecting this value. The k-value default is set to 5 and it is recommended that the value is always an odd number number so that there are no 'ties' between clusters. If the k value is too small, the noise of the data will stand out too much and the model may be overfitted. Contrary to that, if the k value is too large it may lead to underfitting.\n\nIn order to decide which k value we will use, we'll loop through a number of different values and select the one with the best accuracy score.","7b88ce59":"From the descriptive statistics and figure 3 above we can observe the range of 22mg\/dL to 490mg\/dL. The distribution is seemingly right-skewed. Furthermore those above 200mg\/dL are considered to be diagnostic for diabetes. It was expect that there would be a large variation within the data, as there as many factors that can influence the result as previously discussed. ","1ae21030":"# 1. Introduction","853afbb1":"**Author**:\n- Zachary Isaac\n- date: 17\/11\/2021","e2e9c5ea":"It is not a stark comparative difference, however, those with a slightly elevated white cell count are more likely to have CKD. An increased white cell count can be indicative of an infection in the body. If the kidneys are responsible for filtering waste from the blood and this function is inhibited, the increased waste within the body will likely raise the chances of getting an infection. ","e3d92fc4":"From figure 19 above, we cannot distinguish a clear relationship that exists between how old someone may be and the number of red blood cells. We can notice that the red blood cell count seems to cap off just below 7million\/mm3, which may well be the saturation point\/limit in humans. Thus, regardless of your age your body will still have the capability of maintaining the density of RBC's and it does not decrease with age.","a29bcbf9":"# 5. Result & Discussion","0a575fc3":"###### Model 1: 50% for training and 50% for testing","3651b1a7":"###### Coronary Artery Disease","e1e8808c":"###### Age vs Hypertension\nAre older people more frequently diagnosed with hypertension?","30cc130b":"# References ","e30d51de":"Yes, people who have higher blood pressure are more likely to have CKD. Both conditions can lead to causing the other, as higher blood pressure will put an increased demand on the kidneys and their internal minute blood vessels which will likely damage them over time. Likewise, having CKD will limit the kidneys ability to produce red blood cells, in which case the body will compensate for this by increasing the heart rate or blood pressure. Pathophysiological processess are often interconnected with other conidtions, hence why people have comorbidities.","32612149":"###### Chronic Kidney Disease vs Red Cell Count\nAre people with a lower red blood cell count more likely to have CKD?","e7fce5c5":"###### Model 4: Hyper parameter tuning using grid search, to find optimal parameter values","9e8f9c52":"From figure 7 above we can observe there are 252 people without Hypertension (high blood pressre), and 148 people with Hypertension. Therefore, people whom may not have hypertension can still be diagnosed with CKD. ","378a5430":"###### Model 5: 50% for training and 50% for testing","a6ac1134":"From figure 11 above it seems that people who are older tend to be more regularly diagnosed with CKD, specifically, those who are over the age of 60. It cannot be clearly differentiated by age though, as there are people from all ages who either have CKD or do not. ","0739f4c9":"###### Model 7: 80% for training and 20% for testing","19fee255":"From figure 9 above we can observe there are 366 people without CAD, and 34 people with CAD. Therefore, people whom may not have CAD can still be diagnosed with CKD. These are two conditions that affect one another, as the kidneys filter the blood and the heart is responsible for pumping it around the body. The electrolytes(Sodium NA+ and Potassium K+) that are regulated by the kidneys, play an important role in heart contraction. Therefore, if this regulatory ability was impaired, because of CKD, it would affect ones heart. ","d7b073fe":"From the descriptive statistics and figure 5 above we can observe the range of 2.5mEQ\/L to 47mEQ\/L. Similarly to sodium, potassium is another electrolyte that is regulated by the kidneys and plays a critical role in the electronic signalling (specifically in relation to repolarisation, following the firing of an action potential) needed for muscle contractions, amongst other roles. The normal range for potassium is between 3.7 and 5.2 milliequivalents per liter (mEQ\/L), which is even more narrow than sodium. There are a few upper scores which would be considered outliers, that distort the graph. \nIf potassium levels were too far outside or the normal range, a person would die as a result of cardiac arrest. This is because the action potentials will keep sporadically firing without a rhythm. ","1d05c30d":"This is reference to the code chunks below, in regards to finding an optimal k value.\n\nKane, L 2021, 'Week 3 Tutorial knn', python code, COSC2791, RMIT University, viewed 25 November 2021, <https:\/\/rmit.instructure.com\/groups\/400639\/discussion_topics\/1409247>\n","a758d21a":"###### Data Correlation Heatmap ","b6174962":"Abdul, S, Dovgan, E, Gradi\u0161ek, A, Li, Y-C, Lu\u0161trek, M, Pileti\u010d, B, Krishnamurthy, S, Ks, K, Srinivasan, K 2021 \u2018Machine Learning Prediction Models for Chronic Kidney Disease Using National Health Insurance Claim Data in Taiwan\u2019, National Library of Medicine, viewed 26 November 2021, <https:\/\/pubmed.ncbi.nlm.nih.gov\/34067129\/>\n\nDr Ross, L 20218, \u2018Nutrition in Renal Disease \u2013 Part 1\u2019, lecture notes, 3102AHS, Griffith University, viewed 21 November 2021, Gold Coast. \n\nDr Ross, L 20218, \u2018Nutrition in Renal Disease \u2013 Part 2\u2019, lecture notes, 3102AHS, Griffith University, viewed 21 November 2021, Gold Coast. \n\nNamrate Kapoor 2020, 'Feature Engineering - Handling Missing Data with Python', Numpy Ninja, blog post, 9 October, viewed 22 November 2020, <https:\/\/www.numpyninja.com\/post\/feature-engineering-handling-missing-data-with-python>\n\nKane, L 2021, 'Week 3 Tutorial knn', python code, COSC2791, RMIT University, viewed 25 November 2021, https:\/\/rmit.instructure.com\/groups\/400639\/discussion_topics\/1409247\n\nRubini L, Dr Eswaran P, Dr Soundarapandian P, n.d, Chronic Kidney Disease Dataset, UCI Machine Learning Repository, data file, viewed 20 November 2021, <http:\/\/archive.ics.uci.edu\/ml\/datasets\/Chronic_Kidney_Disease>\n\n\u2018Chronic Kidney Disease\u2019 2019, Australian Institute of Health and Welfare, viewed 27 November 2021, https:\/\/www.aihw.gov.au\/reports-data\/health-conditions-disability-deaths\/chronic-kidney-disease\/overview\n\n","9ece7a65":"We are going to use two supervised classification models, Knn and decision tree, to explore whether we can predict chronic kidney disease(ckd) or not. We will first clean and pre-process the data, the dimensions of the original source are comprised of 26 attributes and 400 observations. The attributes are predominantly blood test indicators, with other biometric data. Before going into the code I would like to briefly discuss the function and anatomy of the kidneys, and also the aetiology of chronic kidney disease. \n\nChronic Kidney Disease(CKD), is also known as the silent killer as it often goes undetected until the condition is irreversible, thus early detection is a critical component in tackling this condition. The kidneys are responbile for filtering our blood and maintaining homeostasis. Everyday our kidneys will filter roughly 1600L of blood (Ross 2018) and excrete the unwanted waste products via urine. The specific structure within a kidney that conducts this filtering process is called a glomerulus, with each kidney having roughly 1 million of them. The kidneys will carefully regulate electrolyte balance, blood pressure and hormone production, however, once someone starts to develop ckd (there are 6 stages that are each progressively worse than the next) their kidney function starts to deteriorate. \n\nIf we were able to identify this onset early, intervention and treatment could start earlier and provide a better patient outcome. ","ee069020":"###### Chronic Kidney Disease vs Sodium Levels \nAre people with Chronic Kidney Disease more likely to have higher sodium levels?","b0db707f":"# 3. Data Exploration","b04b467e":"# 4. Data Modelling\n","a553d84c":"###### Chronic Kidney Disease vs Blood Urea\nAre people with Chronic Kidney Disease more likely to have higher blood urea nitrogen levels?","9bb1375b":"#### Section 2: Variable Relationship Exploration\n\nWe will now explore various relationships or lack of, between different variables, with a larger focus on those related to the presense of CKD or not. ","1a30920d":"# 2. Data Retrieving\n\n","807ddf03":"#### Section1:  Variable Exploration\nWe will now explore 10 variables by looking at the descriptive statistics and a visualisation for each one. It is important when observing these graphs that we keep in mind that random sampling imputation was used, with some variables having larger amounts of imputed values than others. ","ab61bd74":"Yes, older people are more frequently diagnosed with hypertension. From the graph above it seems to be common amongst those aged between 55 - 65 years old. There are cases of younger people meeting the diagnostic criteria of being hypertensive, that could be due to a number of lifestyle factors, diet, exercise, other predisposing conditions, etc. ","d7011ce8":"### K-Nearest Neighbour(KNN) Models","032a7b1e":"### Decision Tree Models","7af09e74":"###### Sodium (NA+)","cba8c010":"People with CKD are more likely to have lower sodium levels in their blood. Sodium plays an important role in regulating fluid movement\/permeation between cell membranes, having low levels of sodium can impact the body's fluid regulatory process. ","65e74c7d":"Machine Learning algorithms need the data to be in a numeric form, therefore we need to convert the categorical variables. To do this we are going to use the one hot encoding technique, however, another option could have been label encoder (from sklearn.preprocessing import LabelEncoder) as the categorical variables only have two categories.","c4f54839":"###### Model 6: 60% for training and 40% for testing","b6c0ade2":"###### Chronic Kidney Disease vs Serum Creatinine \nAre people with Chronic Kidney Disease more likely to have higher serum creatinine levels?","f8fca771":"From figure 10 above we can observe there are 340 people without anaemia, and 60 people with anaemia. Therefore, people whom may not be anaemic can still be diagnosed with CKD. If someone has anaemia they are getting less oxygen to their organs and muscoskeletal tissues, therefore the heart has to pump harder to accomodate. ","61b389b2":"Yes, people who have CKD and more likely to have higher amounts of urea nitrogen in their blood. This is due to the kidneys functionality being comprised and thus struggle with removing this waste product from the blood.","103b14a3":"##### age\nThis is the age of the participant that was included in the dataset. \n\nWhilst ckd is more commonly found in older individuals there are cases when it can develop in younger individuals also. \n'It can develop at any age and various conditions can lead to CKD. However, CKD becomes more common with increasing age. After the age of 40, kidney filtration begins to fall by approximately 1% per year. In addition to the natural aging of the kidneys, many conditions that damage the kidneys are more common in older people including diabetes, high blood pressure, and heart disease'(Centers for Disease Control and Prevention 2021, para. 1).\n\nVariable type: numerical \n\n\n##### blood_pressure\nIt has not been identified whether the blood pressure is the systolic or diastolic reading, usually both are given together, from this values present in the dataset it can be inferred that the values are the diastolic reading (This pressure within blood arterial blood vessels in between heart beats). Normal blood pressure will fall betwwen 90-120\/60-80mm Hg (systolic\/diastolic). People with higher blood pressure are more likely to develop CKD, as blood vessels in the glomeruli may become damaged and thus putting further strain on the kidneys to perform their functions. \n\nVariable type: numerical \n\n\n##### specific_gravity\nSpecific gravity of urine refers to the concentration of the osmolarity(number of ions) in the urine.\n\nVariable type: nominal categorical \n\n##### albumin\nIt is a type of protein that maintains fluid homeostasis and transports micronutrients around the body. It has not been identified whether this feature is serum (blood) albumin or urine albumin levels, with the corresponding metric. It is recommended that the feature have appropriate labeling\/diagnostic indicators.\n\nIt can be inferred\/assumed from the value decription, that it refers to serum albumin levels, with a normal range being 3.5g\/dL - 5g\/dL (National Kidney Foundation 2021, para. 1).\n\nVariable type: nominal categorical \n\n##### sugar\nThis feature has also not specified whether it is blood sugar levels or urine sugar levels. Thus, we must make an assumption based on the values contained within the feature. As that number are relatively low, it would be likley that is represents the sugar within the urine sample. With a normal range being 0 - 0.8mmol\/L. \n\nVariable type: nominal categorical \n\n##### red_blood_cells\nThis feature has already interpreted the results, with the following values: 'normal' or 'abnormal'. The main function of red blood cells are to transport oxygen throughout the body. Once again, this feature does not have the necessary diagnostic labeling. From my understanding, the test looks to identify whether red blood cells are present in the urine or not. It would be considered abnormal if there was blood in the urine. \n\nVariable type: nominal categorical \n\n##### pus_cell\nThis feature has already interpreted the results, with the following values: 'normal' or 'abnormal'. Pus cells are usually indicators of whether there is an infection, they operate by engulfing the foreign body and then breaking it down, this process is known as phagocytosis. Similarly to the above feature, my understanding of these values correspond to whether there is a presence of pus cells in the urine. It would be considered abnormal if there were pus cells in the urine. If they were present in the urine it would likely indicate the presence of an infection in the kidneys or urinary tract. \n\nVariable type: nominal categorical \n\n##### pus_cell_clumps\nThis feature builds on the feature above, 'pus cells, and has similar indicators. It has categorised the value results as either 'present' or 'notpresent'. \n\nVariable type: nominal categorical \n\n##### bacteria\nThis feature identifies whether there is bacteria present in the urine or not. This ties into the two features mentioned before, 'pus cells clumps' and 'pus cells'. Knowing which type of bacteria is causing an infection, could help a doctor select the appropriate antibiotics to treat the urinary tract infection(UTI), though this feature only reveals whether bacteria is present or not. If the functionality of the kidneys are comprimised and the filtering process cannot be performed as thoroughly, the likelihood of UTI's will increase. \n\nVariable type: nominal categorical \n\n##### blood_glucose_random\nA random blood glucose test, assess' the amount of glucose (a type of monosaccharide) in the blood at the time of the test (there is no fasting required). The levels can flucuate quite a bit depending on what you last ate and when, and whether or not you had exercised recently. Blood glucose levels greater than 200mg\/dL or higher are diagnostic of diabetes (American Diabetes Association 2021). Diabetes (type 1 or 2) result in the patient having impaired kidney function, leading to ckd. \n\nVariable type: numerical\/continuous\n\n##### blood_urea\nA blood urea test measures the amount of urea nitrogen in the blood, which is a normal waste product. If the kidneys functionality is comprimised it will struggle in removing it from the blood, resulting in higher levels. With the normal range being 7mg\/dL - 20mg\/dL. \n\nVariable type: numerical\/continuous\n\n##### serum_creatinine\nThis is another blood test that will measure the amount of creatinine in the blood. Creatinine is a waste product that gets excreted by the kidneys, however, comprimised kidneys will struggle to perform this role and thus there will be higher levels in the blood. Normal range for adult men is 0.74 to 1.35 mg\/dL, and adult women 0.59 to 1.04 mg\/dL. \n\nVariable type: numerical\/continuous\n\n##### sodium\nSodium is one type of electrolyte that kidneys aim to keep within a narrow range. The normal range for sodium in the blood is between 135 and 145 milliequivalents per liter (mEQ\/L).\n\nVariable type: numerical\/continuous\n\n##### potassium\nPotassium is another type of electrolyte that the kidneys balance. The normal range for potassium in the blood is between 3.7 and 5.2 milliequivalents per liter (mEQ\/L)\nVariable type: numerical\/continuous\n\nVariable type: numerical\/continuous\n\n##### haemoglobin\nHaemoglobin in a type of protein within a red blood cell that holds iron, the ionic charge differential allows it to bind to oxygen molecules, which transport the oxygen around the body. The normal range for haemoglobin in the blood is: adult men 13.6 \u2013 17.7 gm\/dL, and adult women 12.1 \u2013 15.1 gm\/dL. Note: this metric is not in International System of Units (SI). \n\nVariable type: numerical\/continuous\n\n##### packed_cell_volume\nPacked cell volume will identify the proportion of blood cells to blood plasma. The normal range is: adult men 40.7-50.3%, and adult women 36.1 to 44.3%. \n\nVariable type: numerical\n\n##### white_cell_count\nThe white cells in your blood are part of your bodies innate immune response. They target foreign bodies and fight to remove them from your system. The normal range is approximately 4,500-10,000 white blood cells per mm3.\n\nVariable type: numerical\n\n##### red_cell_count\nWe previously mentioned the role of red blood cells, this feature is a count of the number present. The normal range is, adult men 4.3-5.9 million\/mm3 and adult women 3.5-5.5 million\/mm3. \n\nVariable type: numerical\/continuous\n\n##### hypertension\nThis feature has already interpreted the results, with the following values: 'yes' or 'no', which answer whether that person has been diagnosed with hypertension. \n\nVariable type: nominal categorical \n\n##### diabetes_mellitus\nThis feature has already interpreted the results, with the following values: 'yes' or 'no', which answer whether that person has been diagnosed with diabetes mellitus. There are various types of diabetes, however, the underlying implications are related to the bodies ability to uptake and transport sugar via the blood cell vesicles. Insulin is essentially the key which unlocks the door of a red blood cell, allowing sugar to bind to it, it can then be transported to various parts of the body as need be and excreted when there is excessive amounts. However, with diabetes this process is inhibited. \n\nVariable type: nominal categorical \n\n##### coronary_artery_disease (CAD)\nThis feature identifies whether a person suffers from CAD, with the values being either 'yes' or 'no'. The prevalence of CKD and CKD are a common combination of comorbidities. \n\nVariable type: nominal categorical \n\n##### appetite\nThis feature identifies whether someone has either a 'good' or 'poor' appetite, the methodology of this classification has not been stated. Medical Nutrition Therapy (MNT) plays a pivotal role in improving the quality of life in someone that suffers from CKD, a dietitian is usually consulted for patients whom suffer from this condition.\n\nVariable type: nominal categorical \n\n##### pedal_edema\nAs previously mentioned, the kidneys play an important role in regulating fluid retention within the body. Pedal edema is the presence of excessive fluid within the lower distal limbs, such as, legs, ankles and feet. This feature identifies whether this condition is either present or not: 'yes' or 'no'.\n\nVariable type: nominal categorical \n\n##### anaemia\nAnaemia is when someone has either a low red blood cell count, haemoglobin levels or both. This feature has categorised whether this condition is present or not: 'yes' or 'no'.\n\nVariable type: nominal categorical \n\n##### classification\nThe last feature categorises whether a person has been diagnosed with CKD or not, it does not depict which stage of CKD the person is in. The unique values are either 'ckd' or 'notckd'. \n\nVariable type: nominal categorical ","807c2b70":"\n###### Model 2: 60% for training and 40% for testing","8c421c08":"###### Chronic Kidney Disease vs Blood Pressure\nAre people with higher blood pressure more likely to have Chronic Kidney Disease?","d999bf15":"###### Blood Glucose Random ","12bdd116":"###### Classification","c3faa1d0":"From figure 8 above we can observe there are 261 people without Diabetes Mellitus, and 139 people with Diabetes Mellitus. Therefore, people whom may not have Diabetes Mellitus can still be diagnosed with CKD. ","b57c1d32":"The values can range from -1 to 1, with 1 signifiying there is a linear relationship, 0 there is no linear dependency, and -1 depicting an anti-correlation. ","442a7e03":"Figure 17 above has been distorted by the number of upper outliers, which are most notably for those with CKD. We can still observe that those whom have higher serum creatinine levels are more likely to have CKD. The reasoning is similar to blood urea nitrogen, whereby the kidneys functionality is comprised in those with CKD and therefore struggle to remove serum creatinine which is another waste product. ","ba788416":"Before we look at the unique value within each variable to ensure we have corrected any errors, we first must coerce the variables into the correct data types. We can compare our variable description with the data types listed from our dataset overview.","df2f739b":"###### Hypertension","b0260728":"Yes, people with higher random blood glucose levels are more likely to have CKD. This would be likely due to high blood sugar levels damaging the glomeruli (the small filtering structure within a kidney) and if this is sustained over a period of time one may be diagnosed with CKD. This is why people who consume high sugar diets are more susceptible to developing CKD. ","fd4b128a":"###### Age vs Chronic Kidney Disease\nAre older people more frequently diagnosed with Chronic Kidney Disease?","dcf01ab7":"We will now model the data using two supervised classification methods, decision tree and K-Nearest Neighbour(KNN). For each method there will be four different subsections, each one will correspond to the data being split at different ratios for the training part and test part:\n1. 50% for training and 50% for testing.\n2. 60% for training and 40% for testing.\n3. 80% for training and 20% for testing. \n4. Hyper parameter tuning using grid search, to find optimal parameter values\n\nWe will than compare and contrast the accuracy\/performace of the models, by assessing the Confusion Matrix, Classification Error Rate, Precision, Recall and F-1 score. As the classification (target) values are fairly balanced, with 250 ckd and 150 not ckd, we will using the accuracy value for our evaluation of the models. If they were not balanced, whereby, there was a minimum of a 4-fold difference we would use the F-1 score as our evaluation metric. ","6072be72":"Chronic Kidney Disease (CKD) is a common illness that often goes undetected before medical intervention has started, early detection is a critical component for patient outcome\/longevity, this would consist of one or more of the following: prescription medication, dialysis or a kidney transplant, and a change in lifestyle factors (Ross 2018). As the symptoms of CKD can be quite broad, variable and minor (to start with), people do not often approach the doctors or other medical practitioners early enough. It is startling to consider that people can lose up to 90% of their kidney function before they start to display symptoms, and by that time they could be in end stage renal failure (ESRF) which is fatal without a transplant (dialysis will only delay it). \n\nWe have found that by utilising a small open-source dataset, our best decision tree model was able to predict whether a patient would or would not have CKD with 96% accuracy (see figure 23). With that capability doctors could identify potential CKD patients earlier and refer them to a nephrologist, who could then confirm the prognosis and start a treatment management plan as required. Abdul et at. (2021) proposed that by creating a machine learning model that can collate various and accessible patient data, it will provide the doctors with another tool that they can use to combat this health burden, in addition to policy makers being able to allocate funding and resources in the appropriate fields. \n\nAs we were already aware of our outcome\/target, having CKD or not, it was considered to be a supervised classification problem. If we were not aware of the target mentioned above, it would have become an unsupervised clustering problem. Accuracy was the chosen metric to evaluate the model as the target was mostly balanced, \u2018CKD\u2019: 250 and \u2018notCKD\u2019: 150 (see figure 6), as the name suggests it depicts the number of outcomes the model correctly predicted. It was interesting to note that the accuracy result did not change, for the decision tree models, despite changing the training and testing data set ratios. It is likely this is a result of the random choice imputation method that was implemented to deal with the missing values (see figure 24), as there would be many instances of repeated results. We will now explore some of the other factors that may have impacted on the results.\n\nCollecting accurate and ethical health data presents a multitude of challenges, limitations and bias\u2019. We must do our best to be aware of these confounding factors, whilst also acknowledging that there will always be unconscious bias\u2019s we are oblivious to. The first would be to consider that the data was sourced from hospitals in India and it is apparent that certain demographics (through lifestyle factors, genetics, access to healthcare, cultural stigma, socio-economic status, etc) may have higher rates than others, as highlighted in the Aboriginal and Torres Strait Islander community in Australia (\u2018Chronic Kidney Disease\u2019 2019). Secondly, we would need to be aware of the time of day the blood\/urine tests were collected, as they can be impacted whether someone has just eaten or drank, additionally there may have been festivals happening during the data collection period where people usually consume more. Thirdly, there may have been a bias from participants either opting in or out of having their data collected. Lastly, is the potential for human error\/equipment error in obtaining and transcribing the results. These confounding factors listed above are only the tip of the iceberg, we did not even mention whether there may have been a pandemic\/endemic taking place during the time of data collection (i.e., which would have distorted the white blood cell count). \n\nIf a similar project were to be conducted it would be recommended to consider the following: gathering and collating larger amounts of data from a wide range of sources, consulting with a nephrologist, a dietitian and\/or other medical practitioners in relation to feature engineering and selection (there are other variables that may be important early warning indicators, such as estimated glomerular filtration rate (eGFR), HbA1c test and dietary intake (high protein diets, seen in body builders, will place strain on the kidneys and will likely damage them over the long term) (Ross 2018). Other improvements that could have been made were, handle the outliers in consultation with a nephrologist, whilst also validating the model with unseen data. In doing so, we may be able to highlight individuals who are at risk of developing CKD and advise them to make the appropriate changes before they even have the condition. \n","67261930":"###### Age","1e6f9e12":"###### Blood Pressure","08268eda":"From the descriptive statistics and figure 2 we can observe the range included various blood pressures(BP) between the range of 50mmHg to 180mmHg. With the normal diastolic BP being 80mmHg we can observe that the distribution is mostly normal, with a peak around 75-80mmHg.","bacd170d":"Yes, people who have a lower red blood cell count are more likely to have CKD, compared to those without CKD. This may be due to the kidneys having a reduced capacity to filter out toxins from the blood, which can in turn inhibit erythropoiesis (production of red blood cells).","b53e6e4f":"###### Diabetes Mellitus","664d946b":"###### Chronic Kidney Disease vs White Cell Count\nAre people with a higher white cell count more likely to have CKD?","b456118d":"# 6. Conclusion\n","f6f4c8d9":"The dataset is rather small with only 400 observations, so we can't afford to be dropping\/removing missing values. We will now impute the missing values, using a random choice of the non-missing data. Since the imputation method is not within the scope of this project, we are not focused on the meticulous details of it. \n\nIt is worth noting however, that the approach to dealing with\/imputing missing data can impact the overall accuracy of the model created. We could go through each variable individually and devise the best approach, considering a range of various imputations methods, such as, mean, median, mode, model based imputation, remove\/drop misssing values, etc. ","704e9ec9":"###### Anaemia ","ba613207":"###### Potassium (K+)","7da87b07":"From the table above we can see that the best k value with respect to its corresponding accuracy score is 1. However, because we would like to try to avoid overfitting as best we can, we'll select a k value of 3 to work with and the accuracy value is only slightly less. ","5fbeb6e5":"###### Model 3: 80% for training and 20% for testing","b1079695":"We were able to predict with 99% accuracy whether an individual has CKD or not. It is clear that CKD is a challenging health burden for individuals, families and governments. With the help of accurate and ethical, large scale data collection, machine learning can be utilised as an important tool to tackle this problem. This would help to improve the longevity and quality of life of many people around the world and reduce the health burden cost for governments. ","9423e8dd":"###### Random Blood Glucose vs Chronic Kidney Disease\nAre people with higher random blood glucose levels more likely to have CKD?"}}