{"cell_type":{"99ce60d0":"code","2f4a51bd":"code","0cd39339":"code","e282f5fb":"code","05657d59":"code","bd753cc4":"code","fb1d5eda":"code","16a8d281":"code","8e8cbcdd":"code","6b9b1860":"code","e5a74e30":"code","14666563":"code","e3d5672b":"code","e2f81ffe":"code","17845375":"code","215c977e":"code","ea4e32a6":"code","ba96d9ee":"code","6ee1b21c":"code","f528497a":"code","8c88334a":"code","f140bdef":"code","63380f62":"code","8b6afc95":"code","b7443017":"code","b156940c":"code","94c57246":"code","13e6aa24":"code","6b102d81":"markdown","7949fedb":"markdown","e393fff2":"markdown","df29c1b6":"markdown","4907853f":"markdown","3707ad50":"markdown","62e8fb29":"markdown","fb308f34":"markdown","817960f9":"markdown","e6e5e8fa":"markdown","4f39fef1":"markdown","49dc4e70":"markdown","8666ddf4":"markdown","547de0df":"markdown","d9820e3a":"markdown","eb8bc56c":"markdown","0fba578d":"markdown","094a25fb":"markdown","223d94ad":"markdown","d5fb09e1":"markdown","d6879c1e":"markdown","e5644188":"markdown","74a06349":"markdown","1d70251d":"markdown","c890e7b7":"markdown","cdc51b92":"markdown","c39859d9":"markdown","88fa9231":"markdown","8eb356a5":"markdown"},"source":{"99ce60d0":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n# plotly\nimport plotly.plotly as py\nfrom plotly import tools\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.figure_factory as ff\n#seaborn\nimport seaborn as sns\n# matplotlib\nimport matplotlib.pyplot as plt\n#missingno\nimport missingno as msno\n# ignore warnings\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nimport os\nprint(os.listdir(\"..\/input\"))","2f4a51bd":"data=pd.read_csv(\"..\/input\/countries of the world.csv\")\ndata.head(10)","0cd39339":"data.info()","e282f5fb":"data.replace(to_replace=r\",\",value=\".\",regex=True,inplace=True) # replace \",\" to \".\"","05657d59":"data.columns[4:] # select features which types are going to change","bd753cc4":"for each in data.columns[4:]:\n    data[each]=data[each].astype(\"float\") # change object to float\ndata.dtypes","fb1d5eda":"msno.matrix(data)\nplt.show()","16a8d281":"data.isna().sum() # sum. of the Nan values at each feature","8e8cbcdd":"data[data==0].count() # sum. of the zeros at each feature","6b9b1860":"data.columns[7:] # select the features which is going to change","e5a74e30":"for each in data.columns[7:]:\n    data[each].replace(to_replace=0,value=\"NaN\",inplace=True) # replace zeros to NaN values\nfor each in data.columns[7:]:\n    data[each]=data[each].astype(\"float\") # again making objects to float \ndata.dropna(inplace=True) #dropping NaN values\ndata.index = range(len(data.index)) # rearange index numbers\ndata.info()","14666563":"trace = [go.Bar(\n            x=data.Region.value_counts().index,\n            y=data.Region.value_counts().values,\n            text=data.Region.value_counts().values,\n            hoverinfo = 'text',\n            textposition = 'auto',\n            marker = dict(color = 'rgba(253,174,97, 0.5)',\n                             line=dict(color='rgb(0,200,200)',width=1.5)),\n    )]\n\nlayout = dict(\n    title = 'Number of Countries by Region',\n)\nfig = go.Figure(data=trace, layout=layout)\niplot(fig)","e3d5672b":"data.groupby(\"Region\")[\"Population\"].sum() ","e2f81ffe":"fig = {\n  \"data\": [\n    {\n      \"values\": data.groupby(\"Region\")[\"Population\"].sum().values,\n      \"labels\": data.groupby(\"Region\")[\"Population\"].sum().index,\n      \"domain\": {\"x\": [0, .5]},\n      \"name\": \"Population Rate\",\n      \"hoverinfo\":\"label+percent+name\",\n      \"hole\": .3,\n      \"type\": \"pie\"\n    },],\n  \"layout\": {\n        \"title\":\"Rate of Population by Regions\",\n        \"annotations\": [\n            { \"font\": { \"size\": 20},\n              \"showarrow\": False,\n              \"text\": \"Regions\",\n                \"x\": 0.20,\n                \"y\": 1.1\n            },\n        ]\n    }\n}\niplot(fig)","17845375":"trace = dict(type='choropleth',\n            locations = data.Country,\n            locationmode = 'country names', z = data.Population,\n            text = data.Country, colorbar = {'title':'Population'},\n            colorscale = 'Hot', reversescale = True)\n\nlayout = dict(title='Population of Countries',\ngeo = dict(showframe=False,projection={'type':'natural earth'}))\nchoromap = go.Figure(data = [trace],layout = layout)\niplot(choromap,validate=False)","215c977e":"def rate(row):\n    return (row[\"Birthrate\"]+row[\"Net migration\"]-row[\"Deathrate\"])\/10\ndata[\"Growth Rate%\"]=data.apply(rate,axis=1) # crating new column","ea4e32a6":"data.groupby(\"Region\")[\"Population\"].max()\nmax_pop=data.loc[data.Population.isin(data.groupby(\"Region\")[\"Population\"].max().values)]\nmax_pop","ba96d9ee":"def linear(row):\n    return row[\"Population\"]*((row[\"Growth Rate%\"]\/100)+1)\nmax_pop[\"Next Year Pop.\"]=max_pop.apply(linear,axis=1) ","6ee1b21c":"import math # math library for calculation\ndef expo(row):\n    return (row[\"Population\"]*(math.exp(row[\"Growth Rate%\"]\/100)))\nmax_pop[\"Next Year Pop. Exp.\"]=max_pop.apply(expo,axis=1)\nmax_pop[[\"Country\",\"Population\",\"Next Year Pop.\",\"Next Year Pop. Exp.\"]]","f528497a":"trace1 = go.Bar(\n                x = max_pop.Country,\n                y = max_pop.Population,\n                name = \"Current Population\",\n                marker = dict(color = 'rgba(0, 255, 255, 0.5)',\n                             line=dict(color='rgb(0,0,0)',width=1.5)),\n                text = max_pop.Country)\ntrace2 = go.Bar(\n                x = max_pop.Country,\n                y = max_pop[\"Next Year Pop.\"],\n                name = \"Next Year Pop.\",\n                marker = dict(color = 'rgba(255, 255, 0, 0.5)',\n                              line=dict(color='rgb(0,0,0)',width=1.5)),\n                text = max_pop.Country)\ndata1 = [trace1, trace2]\nlayout = go.Layout(barmode = \"group\",title=\"Next Year Population by Constant Growth\")\nfig = go.Figure(data = data1, layout = layout)\niplot(fig)","8c88334a":"trace1 = go.Bar(\n                x = max_pop.Country,\n                y = max_pop.Population,\n                name = \"Current Population\",\n                marker = dict(color = 'rgba(0, 255, 255, 0.5)',\n                             line=dict(color='rgb(0,0,0)',width=1.5)),\n                text = max_pop.Country)\ntrace2 = go.Bar(\n                x = max_pop.Country,\n                y = max_pop[\"Next Year Pop. Exp.\"],\n                name = \"Next Year Pop.\",\n                marker = dict(color = 'rgba(255, 0, 255, 0.5)',\n                              line=dict(color='rgb(0,0,0)',width=1.5)),\n                text = max_pop.Country)\ndata1 = [trace1, trace2]\nlayout = go.Layout(barmode = \"group\",title=\"Next Year Population by Continuous Growth\")\nfig = go.Figure(data = data1, layout = layout)\niplot(fig)","f140bdef":"def linear5(row):\n    return row[\"Population\"]*math.pow(((row[\"Growth Rate%\"]\/100)+1),5)\nmax_pop[\"After 5 Year Pop.\"]=max_pop.apply(linear5,axis=1)","63380f62":"import math\ndef expo5(row):\n    return row[\"Population\"]*math.pow((math.exp(row[\"Growth Rate%\"]\/100)),5)\nmax_pop[\"After 5 Year Pop. Exp.\"]=max_pop.apply(expo5,axis=1)\nmax_pop[[\"Country\",\"Population\",\"After 5 Year Pop.\",\"After 5 Year Pop. Exp.\"]]","8b6afc95":"trace1 = go.Bar(\n                x = max_pop.Country,\n                y = max_pop[\"After 5 Year Pop.\"],\n                name = \"Constant Growth\",\n                marker = dict(color = 'rgba(500,100,150, 0.5)',\n                             line=dict(color='rgb(0,0,0)',width=1.5)),\n                text = max_pop.Country)\ntrace2 = go.Bar(\n                x = max_pop.Country,\n                y = max_pop[\"After 5 Year Pop. Exp.\"],\n                name = \"Continuous Growth\",\n                marker = dict(color = 'rgba(150,100,500, 0.5)',\n                              line=dict(color='rgb(0,0,0)',width=1.5)),\n                text = max_pop.Country)\ndata1 = [trace1, trace2]\nlayout = go.Layout(barmode = \"group\",title=\"Populations After 5 Year\")\nfig = go.Figure(data = data1, layout = layout)\niplot(fig)","b7443017":"f, ax = plt.subplots(figsize=(16, 16))\ncmap = sns.diverging_palette(220, 10, as_cmap=True)\nsns.heatmap(data.corr(), cmap=cmap, vmax=.3, center=0,square=True,annot=True, linewidths=.5, cbar_kws={\"shrink\": .5},fmt= '.1f')\nplt.show()","b156940c":"data2=data.loc[:,[\"GDP ($ per capita)\",\"Literacy (%)\",\"Climate\",\"Agriculture\",\"Industry\",\"Service\",\"Growth Rate%\"]]\ndata2[\"index\"]=np.arange(1,len(data2)+1)\nfig = ff.create_scatterplotmatrix(data2, diag='box', index='index',colormap='Portland',\n                                  colormap_type='cat',title=\"Growth Factors\",\n                                  height=1200, width=1200)\niplot(fig)","94c57246":"def Intensity(row):\n    return (row[\"Pop. Density (per sq. mi.)\"]\/row[\"Crops (%)\"])*100\nmax_pop[\"Physiological Intensity(sq.mi.)\"]=max_pop.apply(Intensity,axis=1)\nmax_pop[[\"Country\",\"Physiological Intensity(sq.mi.)\"]]","13e6aa24":"trace0 = go.Scatter(\n    x=max_pop[\"Physiological Intensity(sq.mi.)\"],\n    y=max_pop[\"Population\"],\n    text=max_pop.Country ,\n    mode='markers',\n    marker=dict(\n        colorbar = {'title':'Crops (%)'},\n        color=max_pop[\"Crops (%)\"],\n        size=max_pop[\"Pop. Density (per sq. mi.)\"],\n        showscale=True\n    )\n)\n\ndata3 = [trace0]\nlayout = go.Layout(\n    title='Physiological Intensity v. Population by v. Pop. Density by Crops% ',\n    xaxis=dict(\n        title='Physiological Intensity',\n    ),\n    yaxis=dict(\n        title='Population',\n    ),\n    paper_bgcolor='rgb(243, 243, 243)',\n    plot_bgcolor='rgb(243, 243, 243)',\n)\nfig = go.Figure(data = data3, layout = layout)\niplot(fig)","6b102d81":"Gr=(B+N-D)\/10\n\nGr=Growth rate %\n\nB=Birthrate\n\nN=Net migration\n\nD=Deathrate\n\nAll of the parameters can be selected from our data.","7949fedb":"As we cane see above, our data finally looks clear and sensible. Now we can proceed to visualisation data for understand better.  ","e393fff2":"1. Introduction: (#1)\n2. Loading Data and Explanation of Features: (#2)\n3. Exploratory Data Analysis (EDA): (#3)\n4. Applying Population Growth Models: (#4)\n5. CONCLUSION: (#5)","df29c1b6":"<a id=\"3\"><\/a> \n**3. Exploratory Data Analysis (EDA)**","4907853f":"We can see Germany has the most Physiological Intensity due to high population and low crop area.","3707ad50":"We have found the populations of next year and 5 years later. Even 5 years later our models calculated population very closely to each other Lets see the features that correlated with our growth rate.","62e8fb29":"Now we are going to missingno library for see the Nan values as a alternative to data.isna().any() ","fb308f34":"We can inspect correlation of each feature by each other and how they scattered.\n\nLastly we are going to find Physiological Intensity for slected countries. For those who dont know what Physiological Intensity means, it is a density of population on crop area which is a useful feature that how many people feed or benefit  from crop area in his\/her country.\n\nPi=Pd\/Cr*100\n\nPi=Physiological Intensity\n\nPd=Population Density\n\nCr=Rate of Crops","817960f9":"**Exponential Function Constant Growth Rate Model:**\n\nf(t) = a*(b+1)^t\n\nf(t) = population after t years\n\na = initial value\n\nb = base or growth factor\n\nt = time in years\n\nThis exponential model can be used to predict population during a period when the population growth rate remains constant.","e6e5e8fa":"Firstly we have two growth models which are needed to be explained.","4f39fef1":"<a id=\"2\"><\/a> \n**2. Loading Data and Explanation of Features**","49dc4e70":"Lets apply our models. We are going to find next year population of countries we selected.","8666ddf4":"As we can see, our data has NaN values and also some features' types are object that it is necessary to be changed.","547de0df":"Secondly we are going to apply them on countries which selected later. Before this we need to find growth rate which we will use in models. Lets find our groth rate:","d9820e3a":"Lets see how many countries in each region by our data.","eb8bc56c":"I am going to select the features which are correlated moderately or higher. But I left some features even though it is correlated because these features were used for calculation of growth rate. After selection lets look at correlation matrix.","0fba578d":"And we are going to count population of each region.","094a25fb":"Now lets visualise them to understand easly.","223d94ad":"<a id=\"1\"><\/a> \n**1. Introduction**\n\nHello everyone!  In this kernel we will be working on Countries of the World Dataset . we will analyze Population of Countries with correlated features and also we will apply population growth models with visualisation.\n\nThe datasets consist of several  independent variables  include:\n\n* Country\n* Region\n* Population\n* Area (sq. mi.)\n* Pop. Density (per sq. mi.)\n* Coastline (coast\/area ratio)\n* Net migration\n* Infant mortality (per 1000 births)\n* GDP ($ per capita)\n* Literacy (%)\n* Phones (per 1000)\n* Arable (%)\n* Crops (%)\n* Other (%)\n* Climate\n* Birthrate\n* Deathrate\n* Agriculture\n* Industry\n* Service\n\nWe are going to use some of the variables which is about population growth.","d5fb09e1":"Finally we analyzed our data by population and its correlated features, applied our models and also visualisated what we found.Do you think which growth' model is suitable for caluculating future populations. And what can we find different features from population.\n\n* If you like it, thank you for you upvotes.\n* If you have any question, I will happy to hear it\n\nhttps:\/\/www.kaggle.com\/kanncaa1\/plotly-tutorial-for-beginners for plotly tutorial","d6879c1e":"If we analyze above these three plot, we can see which region has more country,  which is the most populated and where they located at. Now we are going to proceed to apply growth models on our data.  ","e5644188":"Also we are going to look for zero values because some features that having zero value is illogical.","74a06349":"<a id=\"5\"><\/a> \n**5. CONCLUSION**","1d70251d":"Both calculation show us calculated populations are very close. How about finding populations after 5 years later.","c890e7b7":"**Exponential Function Continuous Change Model:**\n\nA(t) = P*e^r*t\n\nA(t) = amount of population after t years\n\nP = initial Population\n\ne = exponential constant\n\nr = annual growth rate\n\nt = time in years\n\nThis exponential model can be used to predict population during a period when the growth of a population is continuous.","cdc51b92":"Also we are going to visualise rate of populations by regions to understand population details.","c39859d9":"<a id=\"4\"><\/a> \n**4. Applying Population Growth Models**","88fa9231":"Lets  see Physiological Intensity versus population by population density and crops' rate:","8eb356a5":"We calculated Growth rate. Now its time to apply our models. But we have too many countries so I selected the most populated by each region for making it simple."}}