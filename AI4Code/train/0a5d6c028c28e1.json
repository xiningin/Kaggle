{"cell_type":{"adc0b5ae":"code","8d55d42c":"code","26547312":"code","51986562":"code","724da64c":"code","e36bf808":"code","675f384a":"code","750755b7":"code","a3598a6e":"code","bd384e19":"code","20d1c27c":"code","8cca0136":"code","d0802635":"code","4d3632d6":"code","73e17bfd":"code","441edc69":"code","0765423b":"code","197852af":"code","13b76410":"code","e42d9979":"markdown","d2ae5000":"markdown","22f24707":"markdown","db79b2a2":"markdown","466de11e":"markdown","5dbb65d4":"markdown","c054a93b":"markdown","893f47e4":"markdown","69887411":"markdown","5d0ad87e":"markdown","4fbc478a":"markdown","49f29d5f":"markdown","584c3e73":"markdown","5483ac60":"markdown"},"source":{"adc0b5ae":"!pip install joypy -q","8d55d42c":"import joypy\nimport pandas as pd\nimport numpy  as np\nimport plotly.express  as px\nimport matplotlib.pyplot as plt\nimport plotly.graph_objects as go\n\nfrom matplotlib import cm\nplt.style.use('ggplot')","26547312":"# Read data\ncourses_df = pd.read_csv('..\/input\/udemy-courses\/udemy_courses.csv')\n\n# Print sample\ncourses_df.sample(5).reset_index(drop=True).style.set_properties(**{'background-color': '#161717','color': '#30c7e6','border-color': '#8b8c8c'})","51986562":"# Split content_time column into unit and value\ncourses_df['content_time_value'] = courses_df['content_duration'].str.split(' ').str[0]\ncourses_df['content_time_unit']  = courses_df['content_duration'].str.split(' ').str[1]\n\n# Inspect contentless cases\ncourses_df.query(\"content_time_unit == 'questions'\")","724da64c":"# Remove undesired rows\ncourses_df = courses_df.drop([93,95,847,970,2066],axis=0).reset_index(drop=True)\n\n# Fix content duration column\ncourses_df['content_multiplier'] = np.where(courses_df['content_time_unit'] == 'mins',1\/60,1)\ncourses_df['content_duration']   = courses_df['content_time_value'].astype('float') * courses_df['content_multiplier']","e36bf808":"def fix_paid_columns(x):\n    if x == 'TRUE':\n        return('True')\n    elif x == 'FALSE':\n        return('False')\n    else:\n        return(x)","675f384a":"courses_df['is_paid']    = courses_df['is_paid'].apply(fix_paid_columns)\ncourses_df['engagement'] = courses_df['num_reviews'] \/ courses_df['num_subscribers']","750755b7":"courses_df.to_csv('clean_dataset.csv',index=False)","a3598a6e":"temp_df = pd.DataFrame(courses_df['subject'].value_counts()).reset_index()\n\nfig = go.Figure(data=[go.Pie(labels=temp_df['index'],\n                             values=temp_df['subject'],\n                             hole=.7,\n                             title = '% of Courses by Subject',\n                             marker_colors = px.colors.sequential.Blues_r,\n                            )\n                     \n                     ])\nfig.update_layout(title='Amount of Courses by Subject')\nfig.show()","bd384e19":"fig = px.box(courses_df,\n       x='content_duration',\n       y='is_paid',\n       orientation='h',\n       color='is_paid',\n       title='Duration Distribution Across Type of Course',\n       color_discrete_sequence=['#03cffc','#eb03fc']\n      )\n\n\nfig.update_layout(showlegend=False)\nfig.update_xaxes(title='Content Duration')\nfig.update_yaxes(title='Paid Course')\nfig.show()","20d1c27c":"fig = px.box(courses_df,\n       x='content_duration',\n       y='subject',\n       orientation='h',\n       color='is_paid',\n       title='Duration Distribution Across Subject and Type of Course',\n       color_discrete_sequence=['#03cffc','#eb03fc']\n      )\n\n\nfig.update_xaxes(title='Content Duration')\nfig.update_yaxes(title='Course Subject')\nfig.show()","8cca0136":"# Filter paid courses\npaid_courses_df = courses_df.query(\"price != 'Free'\").sort_values('num_reviews',ascending=False)\npaid_courses_df['price'] = paid_courses_df['price'].astype('float32')","d0802635":"fig = px.box(paid_courses_df,\n             x     = 'subject',\n             y     = 'price',\n             color = 'subject',\n             title = 'Course Prices x Subject',\n             color_discrete_sequence = ['#03cffc','#0362fc','#eb03fc','#0ecc83'],\n             hover_name = 'course_title',\n            )\n\nfig.update_layout(showlegend=False)\nfig.update_yaxes(range=[0,220], title='Course Price')\nfig.update_xaxes(title='Course Subject')\nfig.show()","4d3632d6":"# Ridgeline Plot\nfig = joypy.joyplot(paid_courses_df,\n                    by      = 'subject',\n                    column  = 'price',\n                    figsize = (16,10),\n                    grid    = 'both',\n                    linewidth = 1,\n                    colormap  = cm.winter,\n                    fade      = True,\n                    title     = 'Price Distribution Across Subjects',\n                    overlap   = 2\n                   )\nplt.show()","73e17bfd":"top25_paid = paid_courses_df.sort_values(\"num_subscribers\", ascending=False)[0:25].sort_values(\"num_subscribers\", ascending=True).reset_index(drop=True).reset_index()\nfig = px.bar(top25_paid,\n               y    = 'index',\n               x    = 'num_subscribers',\n               orientation = 'h',\n               color       = 'num_subscribers',\n               hover_name  = 'course_title',\n               title       = 'Top 25 Most Popular Courses (by number of subscribers)',\n               opacity     = 0.8,\n               color_continuous_scale = px.colors.sequential.ice,\n               height = 800,\n              )\n\nfig.update_layout(showlegend=False)\nfig.update_xaxes(title='Number of Subscribers')\nfig.update_yaxes(title='Course Title',showticklabels=False)\nfig.show()","441edc69":"free_courses_df = courses_df.query(\"price == 'Free'\").sort_values('num_reviews',ascending=False)","0765423b":"fig = px.scatter(free_courses_df,\n       size = 'num_lectures',\n       x    = 'num_subscribers',\n       y    = 'num_reviews',\n       trendline = 'ols',\n       facet_col ='subject',\n       color = 'subject',\n       color_discrete_sequence = ['#03cffc','#0362fc','#eb03fc','#0ecc83'],\n       hover_name= 'course_title',\n       title='Engagement: Number of Reviews x Number of Subscribers'\n      )\n\nfig.update_layout(showlegend=False)\nfig.update_xaxes(title='Number of Subscribers')\nfig.update_yaxes(title='Number of Reviews')\nfig.show()","197852af":"fig = px.scatter(free_courses_df.query(\"num_reviews <= 600 and num_subscribers <= 10000\"),\n       size = 'num_lectures',\n       x    = 'num_subscribers',\n       y    = 'num_reviews',\n       trendline = 'ols',\n       facet_col = 'subject',\n       color     = 'subject',\n       color_discrete_sequence = ['#03cffc','#0362fc','#eb03fc','#0ecc83'],\n       hover_name = 'course_title',\n       title      = 'Engagement: Number of Reviews x Number of Subscribers - Filtered'\n      )\n\nfig.update_layout(showlegend=False)\nfig.update_xaxes(title='Number of Subscribers')\nfig.update_yaxes(title='Number of Reviews')\nfig.show()","13b76410":"top25_free = free_courses_df.sort_values(\"num_subscribers\", ascending=False)[0:25].sort_values(\"num_subscribers\", ascending=True).reset_index(drop=True).reset_index()\nfig = px.bar(top25_free,\n               y    = 'index',\n               x    = 'num_subscribers',\n               orientation = 'h',\n               color       = 'num_subscribers',\n               hover_name  = 'course_title',\n               title       = 'Top 25 Most Popular Courses (by number of subscribers)',\n               opacity     = 0.8,\n               color_continuous_scale = px.colors.sequential.Aggrnyl,\n               height = 800,\n              )\n\nfig.update_layout(showlegend=False)\nfig.update_xaxes(title='Number of Subscribers')\nfig.update_yaxes(title='Course Title',showticklabels=False)\nfig.show()","e42d9979":"Our plot is being dragged too much due to some outliers.\nThese outliers have either a great amount of reviews (>2000) or great number of subscribers (>10000).\n\nIt is interesting to point out that some courses are anomalies in terms of reviews x subscribers.\n\n","d2ae5000":"### To be Added\n- Reviews\/subscribers - engagement\n- Top 10 courses by subject\n- Top quality \/ price\n- Sunburst: subject + is_paid\n- Correlation: Price, reviews, subscribers, duration","22f24707":"Surprisingly, some courses have no lectures at all!\n\nIts just a few of them, and they are essentialy paid assessments.\nWe'll remove them as the duration does not apply for them.","db79b2a2":"## Top 25 Most Popular Paid Courses","466de11e":"# General Exploration","5dbb65d4":"Let's start by seeing how the courses are distributed along the dataset.","c054a93b":"## Top 25 Most Popular Free Courses","893f47e4":"## % of Topics in the Dataset","69887411":"We can see that **paid courses** have a higher duration, with an average of **2.5 hours**, whereas **free courses** have a median of **1.5 hours**.\nIt is also worth noting that duration varies considerabily more on paid courses as well.\n\nLet's see that same plot stratified by subject.","5d0ad87e":"# Exploring Paid Courses","4fbc478a":"## Course Duration Distribution","49f29d5f":"## How are Course Prices Distributed?","584c3e73":"# Exploring Free Courses","5483ac60":"# Read Data"}}