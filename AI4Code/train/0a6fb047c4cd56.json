{"cell_type":{"5e86b7b7":"code","522850ed":"code","e0a13890":"code","2138877c":"code","34da912d":"code","9bee54d6":"code","b2862e5c":"code","74127ea2":"code","5aa7458b":"code","6893f907":"code","73b4090f":"markdown","9c0429ef":"markdown","c146c48b":"markdown","92fcde65":"markdown","5f2ddbb1":"markdown"},"source":{"5e86b7b7":"## Importing Libraries\n\n# We scraping tools\nfrom bs4 import BeautifulSoup\nimport requests\nimport json\nimport lxml.html as lh\n\n# Dataframe Manipulation\nimport pandas as pd\nimport numpy as np\n\n# Visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","522850ed":"# Loading the dataset\npath = os.path.join(dirname, filename)\ndf = pd.read_csv(path)","e0a13890":"# Glimpse of the data\nprint(df.info())\ndf.head()","2138877c":"# Decriptive Statistics\ndf.describe()","34da912d":"# Missing Values\nplt.figure(figsize=(10,6))\nsns.heatmap(df.isna().transpose(),\n            cmap=\"YlGnBu\",\n            cbar_kws={'label': 'Missing Data'})\nplt.xlabel(\"Features\")\nplt.ylabel(\"Observations\")\nplt.show()","9bee54d6":"# Print names of specific columns with null values\ndf.columns[df.isnull().any()]","b2862e5c":"print(list(df.columns))","74127ea2":"cols_rem = [\"R_Women's Flyweight_rank\", \"R_Women's Featherweight_rank\", \n            \"R_Women's Strawweight_rank\", \"R_Women's Bantamweight_rank\", \n            'R_Heavyweight_rank', 'R_Light Heavyweight_rank', 'R_Middleweight_rank', \n            'R_Welterweight_rank', 'R_Lightweight_rank', 'R_Featherweight_rank', \n            'R_Bantamweight_rank', 'R_Flyweight_rank',  \n            \"B_Women's Flyweight_rank\", \"B_Women's Featherweight_rank\", \n            \"B_Women's Strawweight_rank\", \"B_Women's Bantamweight_rank\", \n            'B_Heavyweight_rank', 'B_Light Heavyweight_rank', 'B_Middleweight_rank', \n            'B_Welterweight_rank', 'B_Lightweight_rank', 'B_Featherweight_rank', \n            'B_Bantamweight_rank', 'B_Flyweight_rank']\n\ndf.drop(cols_rem, inplace=True, axis=1)","5aa7458b":"# Re-print to see the ones left\ndf.columns[df.isnull().any()]","6893f907":"# Search through table, find url and get the table for fights\n# Extract the information to replace in null values\ntable_url = 'http:\/\/ufcstats.com\/statistics\/fighters?char=j&page=all'\ndf = pd.read_html(table_url)[0]\n\n\n# Work citing this code\nresponse = requests.get(table_url)\nsoup = BeautifulSoup(response.text, 'html.parser')\ntable = soup.find('table')\n\nlinks = list()\nfor tr in table.findAll(\"tr\"):\n    trs = tr.findAll(\"td\")\n    for each in trs:\n        try:\n            link = each.find('a')['href']\n            if link not in links:\n                links.append(link)\n        except:\n            pass\n# drop first row with all null values\ndf = df.iloc[1: , :]\n\n#Include all links into table\ndf['Link'] = links\n\n# for fighter_url in links:\n#     df = pd.read_html(fighter_url) ###<-- List\n\n#     df[0] ###<-- Pandas DataFrame","73b4090f":"#### Note:\nAs with any data processing, we would expect some values to fall through the cracks. As a result, we will attempt to scrpa the UFC stats website to recover as much null values as possible.","9c0429ef":"### Note:\nAs shown in the visualization below, we have a considerable number of null values in the rank columns breaking all weight classes per first fighters in a long-format. To have a more compact dataset, we will remove the following columns since those are already condensed in **B_match_weightclass_rank, R_match_weightclass_rank**.","c146c48b":"# UFC Champions Analysis\nIn this notebook, we will analyze the consolidated dataset on fights data for champions of all UFC history. Though we keep it open-ended, we will attempt to shed light on pattern we may observe across weight classes, time periods, or any other significant feature.\n\n## Table of Contents\n1. Environment set-up\n    * Importing Libraries\n    * Loading the data\n2. Initial Diagnostics\n    * Glimpse\n    * Descriptive Statitics\n3. Data Cleaning \n    * Missing Values (Continue from here)\n    * Outliers\n4. Correlation Analysis \n5. Inquiry Exploraion\n6. Work Cited","92fcde65":"### 3. Data Cleaning","5f2ddbb1":"### 1. Environment set-up"}}