{"cell_type":{"3d4b9063":"code","b72bfd1e":"code","696493fc":"code","9bde52a7":"code","379794f9":"code","173d922a":"code","dfcc10eb":"code","152aa364":"code","d8348d73":"code","ec6389ad":"code","cc575ca2":"code","d1975106":"code","eebf69aa":"code","d6050f5e":"code","72fee46a":"code","5ccdcf4f":"code","3ceddaed":"code","5ab559a4":"code","cd59c3c0":"code","24564393":"code","49e4e4c5":"code","c3c1400e":"code","3939eda9":"code","acaeee19":"code","922f5441":"code","be7c4bbb":"code","e51e8cfd":"code","e8abfb95":"code","9db0844b":"code","9530aced":"code","8b37b934":"code","d4601830":"code","e0bef5e7":"code","6296262d":"code","6e485649":"code","bfb98075":"code","77f9507b":"code","df0590fc":"code","acfd09a4":"code","71d63d18":"code","40deb215":"code","2cac36a7":"code","68a0525f":"markdown","7705ecad":"markdown","3fcfdefb":"markdown","43758d3d":"markdown","b67e68d7":"markdown","92337d43":"markdown","a638c415":"markdown","6735da1c":"markdown","4b252caa":"markdown","29a63573":"markdown","ba3ac828":"markdown","08137e8e":"markdown","b2feeae7":"markdown","bf6dcdb9":"markdown","c9e9e9f7":"markdown","0fc1e977":"markdown","6e3557e3":"markdown","82bb590b":"markdown"},"source":{"3d4b9063":"from IPython.display import IFrame\ndocumentation = IFrame(src='https:\/\/python-visualization.github.io\/folium\/', width=1000, height=500)\ndisplay(documentation)","b72bfd1e":"# Import & Install\n\n! pip install folium  \n\n# but its by default installed \n\nimport folium","696493fc":"# Fetching inbuilt doc.\nfolium.Map?","9bde52a7":"folium.Map()","379794f9":"#specifying start location ,zoom value,height , width and scale\nm = folium.Map(location=[45.5236, -122.6750],zoom_start=12, width=1000, height=1000, control_scale=True)\nm","173d922a":"#saving Map\nm.save('index.html')","dfcc10eb":"# start with 1 basic map\nmap_type = folium.Map(location=[38, -98], zoom_start=2)\n\n# add tiles to the basic map using raster layers in folium\nfolium.raster_layers.TileLayer('Open Street Map').add_to(map_type)\nfolium.raster_layers.TileLayer('Stamen Terrain').add_to(map_type)\nfolium.raster_layers.TileLayer('Stamen Toner').add_to(map_type)\nfolium.raster_layers.TileLayer('Stamen Watercolor').add_to(map_type)\nfolium.raster_layers.TileLayer('CartoDB Positron').add_to(map_type)\nfolium.raster_layers.TileLayer('CartoDB Dark_Matter').add_to(map_type)\n\n# add layer control to show different maps\nfolium.LayerControl().add_to(map_type)\n\n# display map\nmap_type","152aa364":"# import plugind from folium\nfrom folium import plugins","d8348d73":"# big map\nbig_map = folium.Map(location=(20, 78), zooom_start = 13)\n\n# add plugin mini map\nmini_map = plugins.MiniMap(toggle_display=True)\n\n# add the mini map to the big map\nbig_map.add_child(mini_map)\nbig_map","ec6389ad":"folium.Marker?","cc575ca2":"m= folium.Map(location=[45.372, -121.6972],\n    zoom_start=12,\n    tiles='Stamen Watercolor'\n)\n\n# Adding Marker \n\nfolium.Marker(\n    location=[45.3288, -121.6625],\n    popup='Mt. Hood Meadows',\n    icon=folium.Icon(icon='cloud')\n).add_to(m)\n\nfolium.Marker(\n    location=[45.3311, -121.7113],\n    popup='Timberline Lodge',\n    icon=folium.Icon(color='green')\n).add_to(m)\nm","d1975106":"!pip install geocoder\nimport geocoder","eebf69aa":"# give in the normal address we know\naddress = geocoder.osm('Sardar Sarovar Dam, Statue of Unity Rd, Kevadia, Gujarat 393155')\n\n# address latitude and longitude\naddress_latlng = [address.lat, address.lng]\n\n# add marker to map\nfolium.Marker(address_latlng, popup='Statue Of Unity', tooltip='Click Me!').add_to(m)\n\n# display map\nm","d6050f5e":"map_circle = folium.Map(location=[38, -98], zoom_start=4)\n\n# radius of the circle in meters\nfolium.Circle(radius=10000, location=[38, -98], color='green').add_to(map_circle)\n\n# circle of a fixed size with radius specified in pixels\nfolium.CircleMarker(location=[39, -105], radius=25, color='blue', fill_color='yellow').add_to(map_circle)\n\n# Circle marker is pixel specific and hence dosent changes it area much while circle is meter \n#specific so it inc or dec as we zoom i nor zoom out respectively.\n\n# display map\nmap_circle","72fee46a":"import pandas as pd\n","5ccdcf4f":"data = pd.read_csv('..\/input\/latitude-and-longitude-for-every-country-and-state\/world_country_and_usa_states_latitude_and_longitude_values.csv')","3ceddaed":"# Data Pre Processing :) (something inavitable)\ndata.isna().sum()","5ab559a4":"# we have quite a few null values and we are not interested in us data\ndf = data.dropna(axis=0)","cd59c3c0":"df.isna().sum()","24564393":"place = df[ ['latitude', 'longitude'] ]","49e4e4c5":"type(place)","c3c1400e":"# dataframe : numpy array : python list\nplace = place.values.tolist()","3939eda9":"type(place)","acaeee19":"map_country = folium.Map(location=[38, -98], zoom_start=4)","922f5441":"def country(i,color):\n    folium.Marker(\n            location=point, \n            popup=df['country'][i],\n            tooltip='Click!',\n            icon=folium.Icon(color=color, icon='tint', icon_color='white' )\n        ).add_to(map_country)","be7c4bbb":"i=0\nfor point in place:\n    country(i,'red')\n    i+=1","e51e8cfd":"map_country","e8abfb95":"# create map\nmap_plot_route = folium.Map(location=[20,50], zoom_start=4)\n\n# added lat long to route\nroute_lats_longs = [[22.4707, 70.0577],    # Jamnagar\n                    [26.9124, 75.7873],    # Jaipur\n                    [27.1767, 78.0081],    # agara\n                    [22.8046, 86.2029],    # Jamshedpur\n                    [17.3850, 78.4867] ]   # Hydrabad\n\n# Ploting the route\nfolium.PolyLine(route_lats_longs).add_to(map_plot_route)\nmap_plot_route","9db0844b":"# create map\nmap_plot_antroute = folium.Map(location=[20,50], zoom_start=4)\n\n# Ploting ant-route\nplugins.AntPath(route_lats_longs).add_to(map_plot_antroute)\nmap_plot_antroute","9530aced":"import json","8b37b934":"import os\nvis = os.path.join('..\/input\/vis-data','vis2.json')","d4601830":"m= folium.Map(location=[45.372, -121.6972],\n    zoom_start=12,\n    tiles='Stamen Watercolor'\n)\n\nfolium.Marker(\n    location=[45.3288, -121.6625],\n    popup=folium.Popup(max_width=450).add_child(folium.Vega(json.load(open(vis)))),\n    icon=folium.Icon(icon='cloud')\n).add_to(m)","e0bef5e7":"m","6296262d":"import folium\nimport pandas as pd\nimport os\n'''\n# load states lat long file\n# load unemployment file\nstates = os.path.join('input\/vis-data', 'us-states.json')     # file path ..\/input\/vis-data\/us-states.json\n#unemployement_data = os.path.join('input\/vis-data', 'us_unemployment.csv')      #file  ..\/input\/vis-data\/us_unemployment.csv\nstate_data = pd.read_csv('..\/input\/vis-data\/us_unemployment.csv')\n'''\n\nurl = 'https:\/\/raw.githubusercontent.com\/bradtraversy\/python_folium_example\/master\/data'\nstate_geo = f'{url}\/us-states.json'\nstate_unemployment = f'{url}\/us_unemployment.csv'\nstate_data = pd.read_csv(state_unemployment)","6e485649":"#make a map\nm = folium.Map(location=[48, -102], zoom_start=3)\n\n# add Chloropeth feature\nm.choropleth(\n    geo_data=states,\n    name='choropleth',\n    data=state_data,\n    columns=['State', 'Unemployment'],\n    key_on='feature.id',\n    fill_color='YlGn',\n    fill_opacity=0.7,\n    line_opacity=0.2,\n    legend_name='Unemployment Rate %'\n)\n\nfolium.LayerControl().add_to(m)\n\nm.save('map2.html')\n","bfb98075":"import os \nimport json","77f9507b":"#GEo Json data path\noverlay = os.path.join('..\/input\/vis-data', 'overlay.json')","df0590fc":"map = folium.Map(location=(25, 50), zoom_start=4)\nfolium.GeoJson(overlay, name='cambridge').add_to(map)","acfd09a4":"map","71d63d18":"# using world latitude longitude data \n# the most important factor for a heat map is intensity which will need a different kind of dataset\ndata_heat = df[['latitude','longitude']].values.tolist()","40deb215":"import folium.plugins as plugins\n\nm = folium.Map(location=(25,70), zoom_start=4)\n\n\nplugins.HeatMap(data_heat).add_to(m)","2cac36a7":"m","68a0525f":"# <a id=\"22\"> Making a Mini Map with the Map<\/a>","7705ecad":"# <a id=\"1\">1. Scratching the surface<\/a>\n# <a id=\"11\">Folium <\/a>\n![image.png](attachment:image.png)\n*  Python has a package called <span style=\"color:red\">**folium**<\/span> which allows us to generate maps for the browser by using a <span style=\"color:red\">**Java script library Leaflet.js**<\/span> which is an interactive library for maps. <br>\n* But python brings together the power of data and makes the whole task easy for the programmer. Like if we have a <span style=\"color:red\">database of location coordinates <\/span>we hold the data in the map and display it in browser through leaflet.","3fcfdefb":"# <a id=\"6\"> My Blog on Folium\ud83d\ude0d <\/a>\n    \n###  For the readers who need some brief text to get started, [here is my blog \ud83d\udcdcon Folium](https:\/\/medium.com\/image-vision\/folium-all-you-need-for-map-visualization-206e88c8ac)containing the exact background you need for Folium!\n\n# Happy Kaggling!!\ud83d\udcbb","43758d3d":"We can also add zoom and full screen plugins to it.","b67e68d7":"# <a id=\"42\">Vis over Popups","92337d43":"# <a id=\"23\">Markers in Folium<\/a>","a638c415":"# <a id=\"25\">Circle Marker<\/a>","6735da1c":"## <a id=\"12\">Official Documentation ","4b252caa":"# <a id=\"3\"> 3. Data Driven Maps<\/a>\n# <a id=\"31\"> Dataset implemented <\/a>\nWe are using the latitude and longitude for each state and country and displaying them on map","29a63573":"# <a id=\"43\">Chloropeth Map<\/a>","ba3ac828":"# <a id=\"24\"> What If You Don't Know the coordinates ?? <\/a>\nIt is possible that a person dosen't remembers the exact latitude and longitudes of the location . There is a fix to that : USe Geo Location , which means add the address insted of coordinates. \n\n## GEOCODER \nIt converts the address specified by us into the correct latitude and longitudes. This library had some error while working in kaggle so I switched to Google Colab\nhttps:\/\/colab.research.google.com\/drive\/1NKV2dmoHGsfuyp9-wtSDhkkRy_3LvR29#scrollTo=AN3_t2Ep0g_w\n","08137e8e":"# <a id=\"44\">Overlay Maps<\/a>\n### Overlaying involves adding a covering of something on our map. This time we add an outline of Indian peninsula. \n### Steps to overlay :\n1. Head over to [geojson.io](http:\/\/geojson.io\/) \n2. save json file in notepad and add to your data in kaggle\n3. set file path through os module\n4. Use GeoJson Function on it ","b2feeae7":"\n# <a id=\"5\"> References: <\/a>\n\n 1. Official documentation : https:\/\/python-visualization.github.io\/folium\/\n 2. GitHub Repo 1 : https:\/\/github.com\/groundhogday321\/python-folium\n 3. GitHub Repo 2 : https:\/\/github.com\/bradtraversy\/python_folium_example\n 4. Kaggle Kernel 1 : https:\/\/www.kaggle.com\/dabaker\/fancy-folium?rvi=1\n 5. *** Kaggle Kernel 2 : https:\/\/www.kaggle.com\/poonaml\/last-cab-to-new-york-animated-heatmap-trips-folium ***\n 6. Youtube Search : \"Folium \"\n \n \n # Recomendation \/ Future Work:\n \nThere is so much more we can do with Folium.\nGiven Below are a few interesting topics to make a Google search for!!\n<span style=\"color:red\">\n     1. Overlaying Images\n     2. Dual Maps\n     3. Measure Map\n     4. Heat Map with time Constrain\n     5. Images \/ Tables \/ Icons as popup\n     6. Chloropeth maps ( https:\/\/colab.research.google.com\/drive\/14lEUPAaoI_xKydV-0M29JwBs2ArZxPXN#scrollTo=R5JLuRAudQei )\n    \n","bf6dcdb9":"# <a id=\"2\"> 2.Digesting the cool features<\/a>\n## <a id=\"21\">Types of Maps avaliable<\/a>","c9e9e9f7":"# <a id=\"45\">Heatmap<\/a>\n","0fc1e977":"## This notebook is all you need for Map Vis. using Folium. Get Ready for a Topsy Turvy Ride with Folium. \n>  by : Bhanvi Menghani","6e3557e3":"# Table of Contents\n> ### [1. Scratching the surface ](#1)\n> \n> > * [Basics of folium](#11)\n> > * [Documentation & Basic ](#12)\n> \n> ### [2. Digesting the cool features](#2)\n> \n> > * [Types of Map](#21)\n> > * [Mini Maps](#22)\n> > * [Markers](#23)\n> > * [What If You Don't Know the coordinates ?? ](#24)\n> > * [Circle Marker ](#25)\n> \n> ### [3. Data Driven Maps](#3)\n> \n> > * [Using World Country Dataset](#31)\n> \n> ### [4. Vis. that will Make you go WOW!!](#4)\n>     \n> > * [Plotting a Route !](#41)\n> > * [Vis over popup !](#42)\n> > * [Chloropeth Maps !](#43)\n> > * [Overlay Maps!](#44)\n> > * [Heat Map!](#45)\n> \n> \n> ### [5. Resources and Recomendation](#5)\n> > [My Medium Blog on Folium](#6)","82bb590b":"# <a id=\"4\">4. Vis. that will make you go WOW!!<\/a>\n# <a id=\"41\">  Ploting Route <\/a>"}}