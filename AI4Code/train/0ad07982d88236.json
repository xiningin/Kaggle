{"cell_type":{"53399350":"code","f48c76d5":"code","117d9ec4":"code","55903f2a":"code","9fec1117":"code","1818b0e2":"code","a2c29ba6":"code","0109f0c1":"code","16e14b20":"code","c2ec28ce":"code","8cffca2c":"code","21325d1f":"code","12ff0491":"code","07442dab":"code","e830945d":"code","ba2be5d3":"code","70f96b8a":"code","5953c90a":"code","6c6e951e":"code","fa6ca032":"code","d66cd760":"code","01a11158":"code","34fa7f1e":"code","78cce395":"code","5398e21e":"code","e180350a":"code","b9e04e1f":"code","299a93bf":"code","afddc7a8":"code","4a343999":"code","c13606eb":"code","5c388268":"code","d78f7181":"code","a7e53c4f":"code","9a898b0e":"code","f56c28da":"code","ebe10da3":"markdown","26de1b1c":"markdown","fe19c4e5":"markdown","40310e95":"markdown","cd3c9894":"markdown","a03864d4":"markdown","9cab3d56":"markdown"},"source":{"53399350":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f48c76d5":"df = pd.read_csv('..\/input\/hotel-booking-demand\/hotel_bookings.csv')","117d9ec4":"df.shape","55903f2a":"df.head()","9fec1117":"df.isnull().sum()","1818b0e2":"# Remove Company Column From The Data\ndf = df.drop('company',axis =1)","a2c29ba6":"df['country'].value_counts()","0109f0c1":"df['agent'].value_counts()","16e14b20":"df = df.dropna(subset = ['agent'])\ndf = df.dropna(subset = ['children'])","c2ec28ce":"df.isnull().sum()","8cffca2c":"df[\"country\"].fillna(\"other country\", inplace = True)","21325d1f":"df.isnull().sum()","12ff0491":"import seaborn as sns \nimport matplotlib.pyplot as plt \nplt.figure(figsize=(20,15))\nax = sns.heatmap(df.corr())","07442dab":"df.dtypes","e830945d":"from sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\ndf['arrival_date_month'] = le.fit_transform(df['arrival_date_month'])\n","ba2be5d3":"df_one_hot_encoder = df","70f96b8a":"df_one_hot_encoder = pd.get_dummies(data=df_one_hot_encoder, columns=['hotel', \n                                                 'meal',\n                                                'country',\n                                                 'market_segment',\n                                                 'distribution_channel',\n                                                'reserved_room_type',\n                                                 'assigned_room_type',\n                                                'deposit_type',\n                                                'customer_type',\n                                                'reservation_status',\n                                                 'reservation_status_date'])","5953c90a":"df_one_hot_encoder.head()","6c6e951e":"X_OHE = df_one_hot_encoder.drop('is_canceled',axis=1)\ny_OHE = df_one_hot_encoder['is_canceled']","fa6ca032":"df_label_encoder = df ","d66cd760":"def label_encoded(feat):\n    le = LabelEncoder()\n    le.fit(feat)\n    return le.transform(feat)","01a11158":"for col in df_label_encoder.columns:\n    if isinstance(df_label_encoder[str(col)],object):\n        df_label_encoder[str(col)] = label_encoded(df[str(col)])","34fa7f1e":"df_label_encoder.head()","78cce395":"X_LE = df_label_encoder.drop('is_canceled',axis=1)\ny_LE = df_label_encoder['is_canceled']","5398e21e":"from sklearn.model_selection import train_test_split\n\nX_train_OHE, X_test_OHE, y_train_OHE, y_test_OHE = train_test_split(\n    X_OHE, y_OHE, test_size=0.4, random_state=42)","e180350a":"X_train_LE, X_test_LE, y_train_LE, y_test_LE = train_test_split(\n    X_LE, y_LE, test_size=0.4, random_state=42)","b9e04e1f":"from sklearn.ensemble import RandomForestClassifier\nmodel_OHE = RandomForestClassifier(n_estimators=400)","299a93bf":"model_OHE.fit(X_train_OHE,y_train_OHE)","afddc7a8":"y_pred_OHE = model_OHE.predict(X_test_OHE)","4a343999":"from sklearn.metrics import accuracy_score,confusion_matrix\naccuracy_score(y_test_OHE,y_pred_OHE)","c13606eb":"confusion_matrix(y_test_OHE,y_pred_OHE)","5c388268":"model_LE = RandomForestClassifier(n_estimators=400)","d78f7181":"model_LE.fit(X_train_LE,y_train_LE)","a7e53c4f":"y_pred_LE = model_LE.predict(X_test_LE)","9a898b0e":"accuracy_score(y_test_LE,y_pred_LE)","f56c28da":"confusion_matrix(y_test_LE,y_pred_LE)","ebe10da3":"#### Use LabelEncoder","26de1b1c":"### Change date columns ","fe19c4e5":"#### Use  OneHotEncoder","40310e95":"#  Loading Data","cd3c9894":"###  Encodings Data","a03864d4":"# Building The Model Using RF","9cab3d56":"#  Exploring & Preparing Data"}}