{"cell_type":{"0570fe96":"code","ddc24f82":"code","04f8ed0c":"code","23b0a887":"code","58edad1e":"code","7e759756":"code","9f218f35":"code","0d041f9d":"code","7c2c81f7":"code","bd32ecb9":"code","048552ad":"code","491e6877":"code","a867cc0b":"code","31e19e6d":"code","f210d12d":"code","6e3396ba":"code","6e26a7a7":"code","e21be30a":"code","5d64d78a":"code","d0e655ae":"code","44bfb92f":"code","e53e193f":"code","e00b9f1a":"code","8970b0fc":"code","102dc588":"code","5dfb1b33":"code","a7849ccf":"code","26a88611":"code","1d5bfbd9":"code","6ddaf4c3":"code","fecf0922":"code","2c1d32fd":"code","f31b7ae0":"code","799f955e":"code","3b2a5776":"markdown","eb847825":"markdown","a0da9273":"markdown","181957e9":"markdown","af1bd196":"markdown","7955fb9f":"markdown","34c3caef":"markdown","1c93b4cb":"markdown","8e024dbd":"markdown","76f1bcfb":"markdown","eac09777":"markdown","44b2e5d5":"markdown","019ca7de":"markdown","2e3b3493":"markdown","36c29def":"markdown","38d51469":"markdown","57d41d87":"markdown","8637ba9c":"markdown","6c0c4495":"markdown"},"source":{"0570fe96":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","ddc24f82":"df = pd.read_csv(\"..\/input\/heart-disease-prediction-using-logistic-regression\/framingham.csv\")\ndf","04f8ed0c":"#checking whether the dataset has missing values as NaN\ndf.isnull().any()","23b0a887":"df['education'].describe()","58edad1e":"#filling the null values with mean = 1.9 ~ 2\ndf['education']= df['education'].fillna(2)","7e759756":"df['cigsPerDay'].describe()","9f218f35":"df['cigsPerDay'] = df['cigsPerDay'].fillna(df['cigsPerDay'].mean())","0d041f9d":"df['BPMeds'].describe()","7c2c81f7":"df['BPMeds'] = df['BPMeds'].fillna(df['BPMeds'].mean())","bd32ecb9":"df['totChol'].describe()","048552ad":"df['totChol']= df['totChol'].fillna(df['totChol'].mean())","491e6877":"df['BMI'].describe()","a867cc0b":"df['BMI']= df['BMI'].fillna(df['BMI'].mean())","31e19e6d":"df['heartRate'].describe()","f210d12d":"df['heartRate'] = df['heartRate'].fillna(df['heartRate'].mean())","6e3396ba":"df['glucose'].describe()","6e26a7a7":"df['glucose'] = df['glucose'].fillna(df['glucose'].mean())","e21be30a":"df.isnull().any()","5d64d78a":"line1 = df.groupby('age').cigsPerDay.mean()\nline2 = df.groupby('age').totChol.mean()\nline3 = df.groupby('age').glucose.mean()\n\nplt.figure(figsize=(10,8))\nsns.lineplot(data = line1, label= 'cigsPerDay')\nsns.lineplot(data = line2, label= 'totChol')\nsns.lineplot(data = line3, label= 'glucose')\nplt.title('Cigrattes_per_day, Total Cholestrol and Glucose in every age group')\nplt.xlabel('Age', size =15)\nplt.ylabel('Count', size=15)\nplt.xticks(size=12)\nplt.yticks(size=12)","d0e655ae":"#checking for which gender has more risk of coronary heart disease CHD\n\ngraph= df.groupby(\"male\", as_index=False).TenYearCHD.sum()\ngraph","44bfb92f":"plt.figure(figsize=(10,6))\nsns.set(style=\"whitegrid\")\nsns.barplot(x=graph['male'], y= graph['TenYearCHD'], palette=\"Blues_d\")\nplt.title('Risk of Coronary Heart Disease (CHD) in males and females')\nplt.xlabel('Female  Male', size =15)\nplt.ylabel('TenYearCHD', size=15)\nplt.xticks(size=12)\nplt.yticks(size=12)\n","e53e193f":"#checking for which age group has more risk of coronary heart disease CHD\n\ngraph1= df.groupby(\"age\", as_index=False).currentSmoker.sum()\ngraph1","e00b9f1a":"plt.figure(figsize=(12,8))\nsns.barplot(x=graph1['age'], y=graph1['currentSmoker'])\nplt.title('Age group having more smokers')\nplt.xlabel('Age', size=15)\nplt.ylabel('Total Smokers' , size=15)\nplt.xticks(size=12)\nplt.yticks(size=12)","8970b0fc":"graph_2 = df.groupby(\"TenYearCHD\", as_index=False).cigsPerDay.mean()\n\nplt.figure(figsize=(10,6))\nsns.barplot(x=graph_2[\"TenYearCHD\"], y=graph_2[\"cigsPerDay\"], palette=\"rocket\")\nplt.title(\"Relation between cigsPerDay and risk of coronary heart disease.\")\nplt.xlabel(\"Risk of CHD\", size=15)\nplt.ylabel(\"cigsPerDay\", size=15)\nplt.xticks(size=12)\nplt.yticks(size=12)","102dc588":"# Grouping up the data and ploting it\n\ngraph_3 = df.groupby(\"TenYearCHD\", as_index=False).sysBP.mean()\n\nplt.figure(figsize=(10,6))\nsns.barplot(x=graph_3[\"TenYearCHD\"], y=graph_3[\"sysBP\"], palette=\"vlag\")\nplt.title(\"Graph showing the relation between sysBP and risk of CHD\")\nplt.xlabel(\"Risk of CHD\", size=15)\nplt.ylabel(\"sysBP\", size=15)\nplt.xticks(size=12)\nplt.yticks(size=12)","5dfb1b33":"# Grouping up the data and ploting it\n\ngraph_4 = df.groupby(\"TenYearCHD\", as_index=False).diaBP.mean()\n\nplt.figure(figsize=(8,6))\nsns.barplot(x=graph_4[\"TenYearCHD\"], y=graph_4[\"diaBP\"], palette=\"deep\")\nplt.title(\"Graph showing the relation between diaBP and risk of CHD\")\nplt.xlabel(\"Risk of CHD\", size=15)\nplt.ylabel(\"diaBP\", size=15)\nplt.xticks(size=12)\nplt.yticks(size=12)","a7849ccf":"X_train=df.drop(columns='TenYearCHD')\nY_train=df['TenYearCHD']","26a88611":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\n# defining the model\n\nlogreg = LogisticRegression(random_state=3, max_iter=1000)","1d5bfbd9":"X_train, x_test, Y_train, y_test = train_test_split(X_train, Y_train, test_size=0.5)","6ddaf4c3":"#fitting the model\n\nlogreg.fit(X_train, Y_train)","fecf0922":"y_pred = logreg.predict(x_test)\nprint('Accuracy of logistic regression classifier on test set: {:.2f}'\n      .format(logreg.score(x_test, y_test)))","2c1d32fd":"y_pred","f31b7ae0":"from sklearn.metrics import confusion_matrix\nconfusion_matrix = confusion_matrix(y_test, y_pred)\nprint(confusion_matrix)","799f955e":"from sklearn.metrics import classification_report\nprint(classification_report(y_test, y_pred))","3b2a5776":"We see a minor relation between totChol and glucose.","eb847825":"Minor relation found between higher risk with higher diaBP  ","a0da9273":"# Which gender has more risk of coronary heart disease CHD","181957e9":"The summary of this notebook:\n\n* Data cleaning.\n\n* Relationship between education and cigsPerDay,\n\n* Relationship between age and cigsPerDay, totChol, glucose.\n\n* Which gender has more risk of coronary heart disease CHD.\n\n* Which age group has more smokers.\n\n* Relation between cigsPerDay and risk of coronary heart disease.\n\n* Relation between sysBP and risk of CHD.\n\n* Relation between diaBP and risk of CHD.\n\n* Predicting the risk of CHD with Linear Regression.(85% accuracy)","af1bd196":"# Relation between diaBP and risk of CHD","7955fb9f":"Now our data is ready for further use: ","34c3caef":"High cigsPerDay comes with higher risk of CHD.","1c93b4cb":"\nAccording to this dataset, males have slighly higher risk of coronary heart disease CHD.","8e024dbd":"# World Health Organization has estimated 12 million deaths occur worldwide, every year due to Heart diseases.","76f1bcfb":"There is no such linear relationship found.\nlevel 3 education shows the lowest mean.","eac09777":"Minor relation found between higher risk with higher sysBP  ","44b2e5d5":"Mid-age groups have more smokers","019ca7de":"# Relation between sysBP and risk of CHD.","2e3b3493":"# Data cleaning","36c29def":"# Relation between cigsPerDay and risk of coronary heart disease.","38d51469":"# Relationship between age and cigsPerDay, totChol, glucose.","57d41d87":"# Which age group has more smokers.","8637ba9c":"# Relationship between education and cigsPerDay","6c0c4495":"# Predicting the risk of CHD with Logistic Regression. (85% accuracy)"}}