{"cell_type":{"c4ea02fb":"code","935cf458":"code","9cfef3a4":"code","012c9ee8":"code","5f202a9c":"code","3a77938d":"code","6259f517":"code","6dfe874b":"code","9af02ace":"code","2a2586e5":"code","ed6028a3":"code","84885055":"markdown","531807f4":"markdown","5be425bf":"markdown","98ac546c":"markdown","0b234935":"markdown","0c68e390":"markdown","dedc06d1":"markdown","d69668d0":"markdown","65967a0d":"markdown"},"source":{"c4ea02fb":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport bq_helper\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\n\n# Read the datset from BigQuery file\nfrom bq_helper import BigQueryHelper\ndataset = bq_helper.BigQueryHelper(active_project=\"bigquery-public-data\",\n                                   dataset_name=\"usa_names\")\n\n# Create a pandas dataframe from the usa_1910_current dataset\nquery = \"\"\"\nSELECT \nyear,\nname,\nsum(number) as count\nFROM `bigquery-public-data.usa_names.usa_1910_current`\nWHERE gender=\"F\"\nGROUP BY year, gender, name\n\"\"\"\ngirl_names = dataset.query_to_pandas_safe(query)","935cf458":"# Great, now let's take a peak at what this sucker looks like\ngirl_names.head()","9cfef3a4":"# girl_names = names_df[names_df['gender'] == 'F'].drop(columns=['gender'])\nnames_by_count = girl_names.groupby('name').sum().sort_values(by='count', ascending=False)\nnames_by_count.loc[:, ['count']].head(10).plot(kind='bar', y=\"count\", figsize=(10,5), title=\"Overall Most Popular Baby Girl Names 1910-2018\")","012c9ee8":"max_count_year_dict = girl_names.groupby(['year']).agg({'count':np.max}).to_dict()['count']\ndef max_count(count, year):\n    return count == max_count_year_dict[year]\nmost_popular_by_year = girl_names[girl_names.apply(lambda x : max_count(x['count'],x['year']),axis=1)]","5f202a9c":"num_years_popular = most_popular_by_year.name.value_counts().rename_axis('name').reset_index(name='number')\nnum_years_popular.plot(kind='barh', x='name', y='number', figsize=(15,5), title=\"Number of Years a Name is the Most Popular\")","3a77938d":"most_popular_by_year.boxplot(by ='name', column =['count'], grid = False, figsize=(15,5))","6259f517":"most_popular_by_year.plot(kind='line', x=\"year\", y=\"count\", figsize=(15,5), grid=True, title=\"Number of Babies with Most Popular Baby Girl Name by Year\")","6dfe874b":"interesting_names = ['Linda', 'Lisa','Jessica', 'Ashley']\npossibly_trendy_girl_names = girl_names[girl_names['name'].isin(interesting_names)]\n\ndf = possibly_trendy_girl_names.pivot(index='year', columns='name', values='count')\ndf.plot(figsize=(15,5), grid=True, title=\"Popularity of the Trendiest Names by Year\")","9af02ace":"most_popular_by_year[most_popular_by_year['name'] == 'Linda']","2a2586e5":"other_names = ['Mary', 'Jennifer', 'Emily', 'Emma', 'Sophia', 'Isabella', 'Linda', 'Lisa','Jessica', 'Ashley', 'Barbara', 'Margaret', 'Susan', 'Dorothy']\nother_girl_names = girl_names[girl_names['name'].isin(other_names)]\n\ndf = other_girl_names.pivot(index='year', columns='name', values='count')\ndf.plot(figsize=(15,5), grid=True, title=\"Trendy and Almost Trendy Names by Year\")","ed6028a3":"jillian_df = girl_names[girl_names['name'].isin(['Jill', 'Jillian'])].pivot(index='year', columns='name', values='count')\njillian_df.plot(figsize=(15,5), grid=True, title=\"The Popularity of the name Jillan and Jill \")","84885055":"## Finally, The Answer <a name=\"5\"><\/a>\n\nAnd it looks like we have a winner for trendiest name folks! A name that meets our qualifications for being both extremely popular -- it has the highest four number of instances for consistent naming per year -- and it is the most popular name for only a short period -- 1947 to 1952. Linda wins, with the sharpest, highest peak of the most popular baby girl names. \n\nIf you have found any mistakes in my data manipulations, please let me know! I leave you with this famous Linda, born July 15, 1946 and as always, ahead of her time.\n\n![Linda Ronstat](https:\/\/www.themusichall.org\/uploads\/2019\/08\/1909_EC_LindaRonstadt-1024x576.jpg)","531807f4":"It looks like, as I expected, Mary is consistently popular throughout the dataset. Furthermore, Mary, Jennifer and Emily have too consistent popularity and Emily, Isabella, Sophia, and Emma do not have enough popularity to be classified as trendy. That leaves Linda, Lisa, Jessica and Ashley that meet our trendy qualifications.\n\nBased on the plot above, it looks like somewhere in the late 40s there was a huge spike in consistent naming. I wonder what name was the most popular during that spike and whether that name is less evenly distributed over time. It is interesting to note that the phenomenon of one name being universally popular is no longer present after the 1990s. ","5be425bf":"## Importing Required Modules and Creating the Dataframe <a name=\"2\"><\/a>","98ac546c":"## Overall Most Popular Girl Baby Names <a name=\"3\"><\/a>\n","0b234935":"## Bonus Graphs <a name=\"6\"><\/a>\n\nI couldn't help it, I wanted to see all the names we discovered on one big graph together.","0c68e390":"## Most Popular Girl Baby Name Per Year <a name=\"4\"><\/a>\nLet's find the names that are the most popular for each year and then explore how popular those names are and how often those names are popular.","dedc06d1":"\n# \ud83d\udc76 \ud83d\udc76\ud83c\udffd \ud83d\udc76\ud83c\udfff The Trendiest Baby Girl Name of All Time \ud83d\udc23 \ud83d\udcc8 \ud83c\udf39\n\n#### Table of contents\n1. [Introduction](#introduction)\n2. [Importing Required Modules and Creating the Dataframe](#2)\n3. [Overall most popular girl baby names](#3)\n4. [Most popular baby girl name for each year](#4)\n5. [Finally the anser](#5)\n6. [Bonus graphs](#6)","d69668d0":"And indeed it looks like Mary is overall the most popular girl's baby name by a wide margin. I wonder if Catholic baby naming consistency is the reason Mary, Patricia and Elizabeth are at the top of this dataset! Now, let's find the most popular girl's name for each year in our dataset.","65967a0d":"## Introduction <a name=\"introduction\"><\/a>\nTo determine the trendiest baby names, I am looking for names that were given to the most number of babies for a certain period of time. To distinguish between trendy and merely popular I am also looking for names that go from extremely popular to unpopular in a relatively brief period of time. For example, if every year for half a century Mary was one of the most popular baby girl names, the name Mary would not be \"trendy\" in the context of our dataset because it's popularity is relatively consistent. I am also only looking at baby girl names because based on [Logan Connolly's research](https:\/\/www.kaggle.com\/diamazov\/unique-generation-names) on the uniqueness of names within this data, boy names are fewer and less unique and therefore likely less trendy than girl names. \n\nThe public dataset I am working with was created by the Social Security Administration and contains all names from Social Security card applications for births that occurred in the United States after 1879. All data are from a 100% sample of records on Social Security card applications.\n    \nLet's begin by looking at the most popular baby girl names for the entire dataset, shall we?"}}