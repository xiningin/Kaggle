{"cell_type":{"f693fd7e":"code","159616a4":"code","de509917":"code","8b53a129":"code","18ca9db7":"code","aa31ca98":"code","5b66e14d":"code","14f69588":"code","f245bce7":"code","05b11a4a":"code","be31597c":"code","0eed33f4":"code","6cfdadf4":"code","ec1df97d":"code","f4105887":"code","b3d16d3a":"code","35ebc78c":"markdown","97c25681":"markdown","ec251b45":"markdown","31444cb6":"markdown","dc19aec2":"markdown","ae79f4e9":"markdown","122b9274":"markdown"},"source":{"f693fd7e":"#libraries\nimport numpy as np\nimport pandas as pd\nimport os\nimport math\nimport matplotlib.pyplot as plt\nfrom matplotlib import style\nimport seaborn as sns\n%matplotlib inline\nfrom plotly import tools\nfrom wordcloud import WordCloud\nimport plotly_express as px    \nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode, iplot","159616a4":"#DataFrame for the numbeo file\n#dtypes = {'country': 'category', 'city': 'category'}\ncol_filepath = \"..\/input\/col-1718\/cost_of_living_2017.csv\"\ncol_data_2017 = pd.read_csv(col_filepath, index_col='rank')","de509917":"#Cost of living in the world\navarage_col_per_country = col_data_2017.groupby('country')['col'].mean().reset_index()\nplt.figure(dpi=150)\nplt.title(\"Cost of living in the world in 2017\", fontsize = 12)\nsns.distplot(avarage_col_per_country['col'], hist=True, kde=False, color='green', bins=10)\nplt.ylabel(\"Amount of countries\", fontsize = 9) \nplt.xlabel(\"Cost of living\", fontsize = 9) \nplt.xticks(np.arange(0, 150, 10), fontsize = 7)\nplt.yticks(fontsize = 7)\nplt.show()","8b53a129":"#let's calculate top 10 countries with the highest cost of living\ntop_col_countries = col_data_2017.groupby('country')['col'].mean().reset_index().sort_values('col', ascending = False).head(10).set_index('country')","18ca9db7":"#Top 10 most expencive countries by cost of living in 2017\nplt.figure(dpi=150)\nplt.title(\"Top 10 most expencive countries by cost of living in 2017\", fontsize = 12)\nsns.barplot(top_col_countries.index, top_col_countries['col'], palette='deep')\nplt.ylabel(\"Countries\", fontsize = 9) \nplt.xlabel(\"Cost of Living\", fontsize = 9)\nplt.xticks(rotation = 45, fontsize = 7)\nplt.yticks(fontsize = 7)\nplt.show()","aa31ca98":"#let's calculate top 10 countries with the highest rent index in 2017\ntop_rent_countries = col_data_2017.groupby('country')['rent_ind'].mean().reset_index().sort_values('rent_ind', ascending = False).head(10).set_index('country')","5b66e14d":"#Top 10 countries with the highest rent index in 2017\nplt.figure(dpi=150)\nplt.title(\"Top 10 countries with the highest rent index in 2017\", fontsize = 12)\nsns.barplot(top_rent_countries['rent_ind'], top_rent_countries.index, palette='rocket')\nplt.ylabel(\"Countries\") \nplt.xlabel(\"Rent index\") \nplt.show()","14f69588":"#let's calculate top 10 cities with the highest rent index in 2017\ntop_rent_cities = col_data_2017.sort_values('rent_ind', ascending = False).head(10).set_index('city')","f245bce7":"#Top 10 cities with the highest rent index in 2017\nplt.figure(dpi=150)\nplt.title(\"Top 10 cities with the highest rent index in 2017\", fontsize = 12)\nsns.barplot(top_rent_cities['rent_ind'],top_rent_cities.index, palette='autumn')\nplt.ylabel(\"Cities\") \nplt.xlabel(\"Rent index\") \nplt.show()","05b11a4a":"#Let's add date column to the cost of living 2017 data frame\ncol_data_2017['date']= 2017","be31597c":"#Cost of living vs rent index in 2017\nfig = px.scatter(col_data_2017, x=\"col\", y=\"rent_ind\", color=\"country\",\n    size='purchas_pow_ind', hover_data=['city'],\n    title='Rent index vs Cost of living in 2017'\n)\nfig.show()","0eed33f4":"#DataFrame for the Big Mac Index with memory reducing steps\ncols=['date','country','dollar_price','country_code']\nbmi_filepath = \"..\/input\/big-mac-index-with-date\/big-mac-index.csv\"\nbmi_data = pd.read_csv(bmi_filepath, index_col = 'country_code', low_memory=False, usecols=cols)","6cfdadf4":"#let's create a data frame for the latest date in the file\nbmi_data_year_sort = bmi_data.sort_values('date', ascending = False)\nbmi_data_2019 = bmi_data_year_sort.iloc[:37, :]","ec1df97d":"#Let's represent countries from our Big Mac dataset as a Word Cloud\nx_2019 = bmi_data.country[bmi_data.date == '09\/07\/2019']\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=400\n                         ).generate(\" \".join(x_2019))\nplt.imshow(wordcloud,interpolation='gaussian')\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","f4105887":"#filtering top 10 countries in 2019 by average dollar price per country\ntop_bmi_countries_2019 = bmi_data_2019.groupby('country')['dollar_price'].mean().to_frame().reset_index().sort_values('dollar_price', ascending = False).head(10).set_index('country')","b3d16d3a":"#top 10 countries with the highest big mac index\nplt.figure(dpi=150)\nplt.title(\"Top 10 countries with the highest big mac index 2019\", fontsize = 10)\nsns.barplot(top_bmi_countries_2019['dollar_price'],top_bmi_countries_2019.index, palette='mako')\nsns.set(font_scale = 0.5)\nplt.ylabel(\"Countries\") \nplt.xlabel(\"Price for big mac in USD\") \nplt.show()","35ebc78c":"**Rent Index** is an estimation of prices of renting apartments in the city compared to New York City. If Rent index is 80, Numbeo estimates that price of rents in that city is on an average 20% less than the price in New York.","97c25681":"Let's look at Cost of living distribution in 2017.","ec251b45":"With the dataset from Numbeo.com I will analyze cost of living in different countries. \nThese indices are relative to New York City (NYC), so for NYC all indexes will be 100(%).\n**Cost of Living Index** (Excl. Rent) is a relative indicator of consumer goods prices, including groceries, restaurants, transportation and utilities.","31444cb6":"Let's see if there is a correlation between cost of living and rent index.","dc19aec2":"We can see that top 10 countries are different from our cost of living result.\nOne of the reasons, that Euro area is showed as one country (all countries that have euro currency, as it's a currency related index) and second reason - Bermuda and Iceland don't have McDonalds. Oups...","ae79f4e9":"We can see positive correlation as in the countries with the higher rent index - cost of living usually higher.","122b9274":"Let's look at another measurement.\n> The **Big Mac Index ** is published by *The Economist* as an informal way of measuring the purchasing power parity (PPP) between two currencies and provides a test of the extent to which market exchange rates result in goods costing the same in different countries. (\u00a9 *Wikipedia*)"}}