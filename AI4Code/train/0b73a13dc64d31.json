{"cell_type":{"c3b22934":"code","1ac5be8a":"code","1998445e":"code","0735b30f":"code","20597296":"code","a3f3364b":"code","518326f9":"code","b7c62969":"code","acacda9a":"code","065b5245":"code","60a5b990":"code","0c8c0cc4":"code","9cd98f66":"code","2a9566dc":"code","a47e426c":"code","d2bdd147":"code","9f24c0b6":"code","fdf94547":"code","8d9da078":"code","3cb6a312":"code","3bcced64":"code","57fde7c5":"code","41afb632":"code","86890d58":"code","3ed86a42":"code","530120f4":"code","c96fa94e":"code","b0cad0b5":"code","b7ac9178":"code","30989f7a":"code","8b6fc1ca":"code","0a6ec049":"code","1904a1a7":"code","70bb8696":"code","c78a8490":"code","3499ab11":"code","138d9360":"code","eb35a41d":"code","582204c0":"code","c511cafc":"code","bb840626":"code","1892eb33":"code","ef03399a":"code","2d1ecb86":"code","e546f738":"code","5c5a5a1b":"code","36aaa6e8":"code","80bb27ce":"code","0998edc0":"code","8a99ddbb":"code","5d6cc4bf":"code","f53ad048":"code","8b82b6a9":"code","9dcc202f":"code","057d7f0f":"code","f2700ad8":"code","4c5f6925":"code","a15cf9ba":"code","4c44609b":"code","93ce2243":"code","12ef5185":"code","8d234fb9":"code","6cb2a18e":"code","45d65d81":"code","39a0e884":"code","de018b4b":"code","a3c0dadb":"code","222f4496":"code","0987ebaf":"code","9cdc2b77":"code","56fd7e44":"code","d518a0df":"markdown","c9141e84":"markdown","9c511bd5":"markdown","707105c0":"markdown","47ffaa0a":"markdown","ddc390fc":"markdown","ad5c056c":"markdown","50e605d7":"markdown","46481705":"markdown","b1bbcc69":"markdown","3e84b92e":"markdown","0b4e3f07":"markdown","c6c2c665":"markdown","19e14630":"markdown","453f4f31":"markdown","74f21c09":"markdown","58e337f5":"markdown","c9427422":"markdown","4998d2b3":"markdown","2213f3fd":"markdown","4f0ef64a":"markdown","fdcbc93b":"markdown","4ab5dd5e":"markdown","0b833d12":"markdown","a895948a":"markdown","fabd6044":"markdown","8e1c2733":"markdown","e20ffd9f":"markdown","d2fabb6b":"markdown","a9c851fa":"markdown","7bd98d83":"markdown","2ba60417":"markdown","90eb8792":"markdown","674823c0":"markdown","3e3b0abc":"markdown","108398ce":"markdown","ba274644":"markdown"},"source":{"c3b22934":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt \nimport seaborn as sns\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn.svm import SVC\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.metrics import confusion_matrix,accuracy_score,f1_score\nfrom sklearn.metrics import classification_report\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom scipy.stats import iqr\nsns.set()","1ac5be8a":"path='..\/input\/diabetes-data-set\/diabetes-dataset.csv'\ndf=pd.read_csv(path)\ndf.head()","1998445e":"df.shape","0735b30f":"df.describe()","20597296":"df.info()","a3f3364b":"df.nunique()","518326f9":"fig=plt.figure(figsize=(20,20))\nfor i,col in enumerate(df.drop(['Pregnancies','Outcome'],axis=1)):\n    ax=fig.add_subplot(4,2,i+1)\n    sns.distplot(df[col])","b7c62969":"fig=plt.figure(figsize=(15,5))\nfor i,col in enumerate(['Pregnancies','Outcome']):\n    ax=fig.add_subplot(1,2,i+1)\n    sns.countplot(df[col])","acacda9a":"fig=plt.figure(figsize=(15,15))\nfor i,col in enumerate(df.drop(['Pregnancies','Outcome'],axis=1)):\n    ax=fig.add_subplot(3,3,i+1)\n    sns.boxplot(y=df[col],x=df['Outcome'])","065b5245":"fig=plt.figure(figsize=(20,20))\nfor i,col in enumerate(df.drop(['Pregnancies','Outcome'],axis=1)):\n    ax=fig.add_subplot(4,2,i+1)\n    ax1=sns.distplot(df[col][df['Outcome']==1],label='Positive')\n    sns.distplot(df[col][df['Outcome']==0],label='Negative',ax=ax1)\n    plt.legend()","60a5b990":"sns.barplot(x='Pregnancies',y='Outcome',data=df,ci=None)","0c8c0cc4":"fig=plt.figure(figsize=(15,15))\nfor i,col in enumerate(df.drop(['Pregnancies','Outcome','Glucose'],axis=1)):\n    ax=fig.add_subplot(3,3,i+1)\n    sns.scatterplot('Glucose',df[col],hue='Outcome',data=df)","9cd98f66":"fig=plt.figure(figsize=(15,15))\nfor i,col in enumerate(df.drop(['Pregnancies','Outcome','Glucose','BMI'],axis=1)):\n    ax=fig.add_subplot(3,3,i+1)\n    sns.scatterplot('BMI',df[col],hue='Outcome',data=df)","2a9566dc":"plt.figure(figsize=(8,5))\nsns.countplot(x='Pregnancies',hue='Outcome',data=df)","a47e426c":"df.duplicated().sum()","d2bdd147":"df.drop_duplicates(inplace=True)","9f24c0b6":"df.shape","fdf94547":"def iqr_outliers(df):\n    out=[]\n    q1 = df.quantile(0.25)\n    q3 = df.quantile(0.75)\n    iqr = q3-q1\n    Lower_tail = q1 - 1.5 * iqr\n    Upper_tail = q3 + 1.5 * iqr\n    for i in df:\n        if i > Upper_tail or i < Lower_tail:\n            out.append(i)\n    print(\"Outliers:\",len(out))\nfor col in df.drop('Outcome',axis=1).columns:\n    iqr_outliers(df[col])","8d9da078":"for col in df.drop('Outcome',axis=1).columns:\n    q1 = df[col].quantile(0.25)\n    q3 = df[col].quantile(0.75)\n    iqr = q3-q1\n    Lower_tail = q1 - 1.5 * iqr\n    Upper_tail = q3 + 1.5 * iqr\n    \n    df[col] = np.where((df[col]<Lower_tail) | (df[col]>Upper_tail), df[col].median(),df[col])","3cb6a312":"corr=df.corr()\nplt.figure(figsize=(10,10))\nplt.title('Correlation')\nsns.heatmap(corr > 0.90, annot=True, square=True)","3bcced64":"scaler=StandardScaler()","57fde7c5":"scaled_df=scaler.fit_transform(df.drop('Outcome',axis=1))","41afb632":"scaled_df=pd.DataFrame(scaled_df,columns=df.drop('Outcome',axis=1).columns)","86890d58":"scaled_df.head()","3ed86a42":"x=scaled_df\ny=df.Outcome","530120f4":"x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2,random_state=2)","c96fa94e":"model_list=[]\nmodel_f1_score=[]\nmodel_accuracy_score=[]","b0cad0b5":"model_list.append('LogisticRegression')\nlm=LogisticRegression()","b7ac9178":"lm.fit(x_train,y_train)","30989f7a":"yhat_lm=lm.predict(x_test)","8b6fc1ca":"lm_score=f1_score(y_test,yhat_lm)\nmodel_f1_score.append(lm_score)\nlm_score","0a6ec049":"lm_accuracy=accuracy_score(y_test,yhat_lm)\nmodel_accuracy_score.append(lm_accuracy)\nlm_accuracy","1904a1a7":"print(classification_report(y_test,yhat_lm))","70bb8696":"sns.heatmap(confusion_matrix(y_test,yhat_lm),annot=True,fmt='',cmap='YlGnBu')","c78a8490":"model_list.append('DecisionTreeClassifier')\ntree=DecisionTreeClassifier()","3499ab11":"tree.fit(x_train,y_train)","138d9360":"yhat_tree=tree.predict(x_test)","eb35a41d":"tree_score=f1_score(y_test,yhat_tree)\nmodel_f1_score.append(tree_score)\ntree_score","582204c0":"tree_accuracy=accuracy_score(y_test,yhat_tree)\nmodel_accuracy_score.append(tree_accuracy)\ntree_accuracy","c511cafc":"print(classification_report(y_test,yhat_tree))","bb840626":"sns.heatmap(confusion_matrix(y_test,yhat_tree),annot=True,fmt='',cmap='YlGnBu')","1892eb33":"model_list.append('RandomForestClassifier')\nforest=RandomForestClassifier()","ef03399a":"forest.fit(x_train,y_train)","2d1ecb86":"yhat_forest=forest.predict(x_test)","e546f738":"forest_score=f1_score(y_test,yhat_forest)\nmodel_f1_score.append(forest_score)\nforest_score","5c5a5a1b":"forest_accuracy=accuracy_score(y_test,yhat_forest)\nmodel_accuracy_score.append(forest_accuracy)\nforest_accuracy","36aaa6e8":"print(classification_report(y_test,yhat_forest))","80bb27ce":"sns.heatmap(confusion_matrix(y_test,yhat_forest),annot=True,fmt='',cmap='YlGnBu')","0998edc0":"model_list.append('SVC')\nsvc=SVC()","8a99ddbb":"svc.fit(x_train,y_train)","5d6cc4bf":"yhat_svc=svc.predict(x_test)","f53ad048":"svc_score=f1_score(y_test,yhat_svc)\nmodel_f1_score.append(svc_score)\nsvc_score","8b82b6a9":"svc_accuracy=accuracy_score(y_test,yhat_svc)\nmodel_accuracy_score.append(svc_accuracy)\nsvc_accuracy","9dcc202f":"print(classification_report(y_test,yhat_svc))","057d7f0f":"sns.heatmap(confusion_matrix(y_test,yhat_svc),annot=True,fmt='',cmap='YlGnBu')","f2700ad8":"model_list.append('KNeighborsClassifier')\nneighbour=KNeighborsClassifier()","4c5f6925":"neighbour.fit(x_train,y_train)","a15cf9ba":"yhat_neighbour=neighbour.predict(x_test)","4c44609b":"neighbour_score=f1_score(y_test,yhat_neighbour)\nmodel_f1_score.append(neighbour_score)\nneighbour_score","93ce2243":"neighbour_accuracy=accuracy_score(y_test,yhat_neighbour)\nmodel_accuracy_score.append(neighbour_accuracy)\nneighbour_accuracy","12ef5185":"print(classification_report(y_test,yhat_neighbour))","8d234fb9":"sns.heatmap(confusion_matrix(y_test,yhat_neighbour),annot=True,fmt='',cmap='YlGnBu')","6cb2a18e":"model_list.append('GaussianNB')\nnaive=GaussianNB()","45d65d81":"naive.fit(x_train,y_train)","39a0e884":"yhat_naive=naive.predict(x_test)","de018b4b":"naive_score=f1_score(y_test,yhat_naive)\nmodel_f1_score.append(naive_score)\nnaive_score","a3c0dadb":"naive_accuracy=accuracy_score(y_test,yhat_naive)\nmodel_accuracy_score.append(naive_accuracy)\nnaive_accuracy","222f4496":"print(classification_report(y_test,yhat_naive))","0987ebaf":"sns.heatmap(confusion_matrix(y_test,yhat_naive),annot=True,fmt='',cmap='YlGnBu')","9cdc2b77":"fig,ax=plt.subplots(figsize=(10,8))\nsns.barplot(model_list,model_f1_score)\nax.set_title(\"F1 Score of  Test Data\",pad=20)\nax.set_xlabel(\"Models\",labelpad=20)\nax.set_ylabel(\"F1_Score\",labelpad=20)\nplt.xticks(rotation=90)\n\nfor p in ax.patches:\n    width, height = p.get_width(), p.get_height()\n    x, y = p.get_xy() \n    ax.annotate('{:.0%}'.format(height), (x+0.25, y + height + 0.01))","56fd7e44":"fig,ax=plt.subplots(figsize=(10,8))\nsns.barplot(model_list,model_accuracy_score)\nax.set_title(\"Accuracy of Models on Test Data\",pad=20)\nax.set_xlabel(\"Models\",labelpad=20)\nax.set_ylabel(\"Accuracy\",labelpad=20)\nplt.xticks(rotation=90)\n\nfor p in ax.patches:\n    width, height = p.get_width(), p.get_height()\n    x, y = p.get_xy() \n    ax.annotate('{:.0%}'.format(height), (x+0.25, y + height + 0.01))","d518a0df":"<b>Continuous variable and Categorical variable","c9141e84":"### Data Cleaning","9c511bd5":"<b>Outliers Removal","707105c0":"<b>Scaling","47ffaa0a":"    1. Insulin, DiabetesPedigreeFunction, Age are Positively skew.\n    2. Glucose, BloodPressure, BMI are uniformally distributed.\n    3. Glucose, BloodPressure, SkinThickness, Insulin, BMI contain zero values which in somecase acting like outliers","ddc390fc":"dataframe contain duplicated value we need to drop them to prevent data leakage ","ad5c056c":"Among all the model that has been implemented SVC gives the highest F1-score and Accuracy score.","50e605d7":"### Bivariate Analysis ","46481705":"# Conclusion","b1bbcc69":"    BMI doesn't have much effect on the Outcome but other factor in addition to this like Age, Insulin causes effect on the outcome.","3e84b92e":"# Importing Data and Modules","0b4e3f07":"# Model Development","c6c2c665":"### KNeighborsClassifier","19e14630":"# Feature Engineering","453f4f31":"### F1-Score","74f21c09":"### LogisticRegression","58e337f5":"    1. Boxplot shows attribute like Glucose, BMI, DiabetesPedigreeFunction, Age have much effect on Outcome as compair to other attributes","c9427422":"### SVC","4998d2b3":"    Having low number of Pregnancies there is low risk of having Diabetes but as number of pregnancies increases the risk   also incerases ","2213f3fd":"# Data Visualization","4f0ef64a":"### GaussianNB","fdcbc93b":"### DecisionTreeClassifier","4ab5dd5e":"    1. Graph clearly indicates that high number of Pregnancies have high risk of having Diabetes or Positive Outcome ","0b833d12":"### RandomForestClassifier","a895948a":"All attributes are continuous only the target or dependent variable and Pregnancies are categorical.","fabd6044":"### Accuracy Score","8e1c2733":"    1. Some attributes in data contain 0 values which is not possible practically.\n    2. Attribute like Pregnancies, SkinThickness, Insulin contain some extreme values as compair to their mean.\n    3. No attribute contain NAN\/null values.\n    4. No attribute is of type object\/string.","e20ffd9f":"Finding Correlation among attributes","d2fabb6b":"    1. Out of 2000 records more then 1200 record have outcome as zero which means that these people don't have Diabetes, and more then 600 have outcome as 1 which means these people have Diabetes.\n    2. Maximum records have 0,1 or 2 pregnancies.","a9c851fa":"    1. These plot clearly shows that high level of glucose is one of the major cause for diabetes.\n    2. High level of Glucose with addition of high level of Insulin, Age, DiabetesPedigreeFunction contribute for Positive    Outcome","7bd98d83":"### A classification model to classify weather a patient is having diabetes or not.","2ba60417":"### Univarient Analysis","90eb8792":"    Data contain outliers so we will replace them with median as removing them may lead to loss of important data of other  attributes.\n    ","674823c0":"# Diabetes Classification Model","3e3b0abc":"Independent Variables\n    1. Pregnancies\n    2. Glucose\n    3. BloodPressure\n    4. SkinThickness\n    5. Insulin\n    6. BMI\n    7. DiabetesPedigreeFunction\n    8. Age\n\nDependent Variable\n    1. Outcome","108398ce":"# Understanding the Data","ba274644":"    1. Persons having Glucose approxly in range between 120 to 200 have high chances of having Positive Outcome.\n    2. Persons having BloodPressure approxly in range 70 to 120 have high chances of having Positive Outcome.\n    3. Persons having SkinThickness more then 30 -35 have high chances of having Positive Outcome.\n    4. If a Person is having very low or high Insulin have high risk of Positive Outcome.\n    5. Person with BMI more then 30-35 have high chances of having Diabetes.\n    6. After age of 30 peoples usually have high chances of having Diabetes."}}