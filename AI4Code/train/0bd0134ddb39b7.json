{"cell_type":{"4e35af11":"code","fd4747fc":"code","ae2e9d04":"code","3c3c5c38":"code","90c61ea7":"code","99fd09e1":"code","9c8c4150":"code","e6c1c704":"code","b0793024":"code","39c9e613":"code","6f8597d0":"code","ca278210":"code","f5683d9f":"code","ae52f97e":"code","bebdef0c":"code","077f3f43":"code","6ccbc328":"code","ed84408e":"code","1b3c2d4b":"code","f1a34972":"code","ba0ab19c":"code","f3d95916":"code","6f015fa4":"code","3bc16915":"code","71d9c90b":"code","b8827d2e":"code","691d329b":"code","9faed087":"code","5ded49aa":"code","385a1ae5":"code","afa6df94":"code","03371c33":"code","0cb4e350":"code","ad4ff923":"code","64b8d3f1":"code","7f37d9b9":"markdown","ce9a6b47":"markdown","4fb259b0":"markdown","33cc40a0":"markdown","2dd84fa5":"markdown","bc58c467":"markdown","917deffb":"markdown","f26a8f3f":"markdown","2796af60":"markdown","1fc0159c":"markdown","564b21a1":"markdown","1116ea6c":"markdown","7f2b9eb3":"markdown","1155d867":"markdown","1709814a":"markdown","82f3ca56":"markdown","31d355dd":"markdown","8e73ccc3":"markdown","26d5074e":"markdown","b231af1e":"markdown","b417e95f":"markdown","6f447adf":"markdown","5705ff2a":"markdown","26c55731":"markdown","3711f2cf":"markdown","f553bcc7":"markdown","7dce8ce0":"markdown","90acc5fb":"markdown","984837a6":"markdown","bef561f3":"markdown"},"source":{"4e35af11":"#import libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib import rcParams\nimport seaborn as sns\nimport warnings\nimport ipywidgets\nwarnings.filterwarnings(\"ignore\")","fd4747fc":"#data read\ndf = pd.read_csv(\"..\/input\/bike-buyers\/bike_buyers_clean.csv\")\nprint(df.info())\nprint(df.head())","ae2e9d04":"#data count\nprint(\"-------------------------------\")\nprint(df[\"Purchased Bike\"].value_counts())\nprint(\"-------------------------------\")","3c3c5c38":"#Bike purchasing trend accoreding to gender\n#plot data\nfig, ax=plt.subplots(figsize=(9, 11))\nax=sns.countplot(x=\"Purchased Bike\", data=df, hue='Gender', hue_order=['Male', 'Female'])\n\n#Setting labels and font size\nax.set(xlabel='Purchased Bike', ylabel='Count of No\/Yes',title=\"Count of People who Purchased the Bike and who Did't\")\nax.xaxis.get_label().set_fontsize(10)\nax.yaxis.get_label().set_fontsize(10)\n\nplt.show()","90c61ea7":"#Bike purchasing trend accoreding to region\nfig, ax=plt.subplots(figsize=(9, 6))\nax=sns.countplot(x=\"Purchased Bike\", data=df, hue='Region')\n\n#Setting labels and font size\nax.set(xlabel='Purchased Bike', ylabel='Count of No\/Yes',title=\"Count of People who Purchased the Bike and who Did't\")\nax.xaxis.get_label().set_fontsize(14)\nax.yaxis.get_label().set_fontsize(14)\n\nplt.show()","99fd09e1":"#Bike purchasing trend accoreding to occupation\nfig, ax=plt.subplots(figsize=(9, 6))\nax=sns.countplot(x=\"Purchased Bike\", data=df, hue='Occupation', hue_order=['Professional', 'Skilled Manual', 'Clerical', 'Management', 'Manual'])\n\n#Setting labels and font size\nax.set(xlabel='Purchased Bike', ylabel='Count of No\/Yes',title=\"Count of People who Purchased the Bike and who Did't\")\nax.xaxis.get_label().set_fontsize(14)\nax.yaxis.get_label().set_fontsize(14)\n\nplt.show()","9c8c4150":"#Bike Purchasing Trend According to Age\nsns.histplot(x=\"Age\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.8, bins=[20, 30, 40, 50, 60, 70, 80, 90], palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","e6c1c704":"#Bike Purchasing Trend According to Marital Status\nsns.histplot(x=\"Marital Status\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.4, palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","b0793024":"#Bike Purchasing Trend According to Salary\nsns.histplot(x=\"Income\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.8, bins=[10000, 25000, 40000, 55000, 70000, 85000, 100000, 115000, 130000, 145000, 160000, 175000, 190000, 205000], palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","39c9e613":"#Bike Purchasing Trend According to Education\nfig, ax=plt.subplots(figsize=(11, 6))\nsns.set_theme(style='white', palette=None)\nsns.histplot(x=\"Education\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.6, palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","6f8597d0":"#Bike Purchasing Trend According to Numbers of their Children\nsns.histplot(x=\"Children\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.8, bins=[0, 1, 2, 3, 4, 5, 6], palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","ca278210":"#Bike Purchasing Trend According to Number of Cars They Own\nsns.histplot(x=\"Cars\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.8, bins=[0, 1, 2, 3, 4, 5], palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","f5683d9f":"#Bike Purchasing Trend of Home Owners\nsns.histplot(x=\"Home Owner\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.2, palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","ae52f97e":"#Bike Purchasing Trend According to Commuting Distance\nsns.histplot(x=\"Commute Distance\", data=df, hue=\"Purchased Bike\", multiple=\"dodge\", shrink=0.8, bins=[0, 1, 2, 3, 4, 5, 6], palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","bebdef0c":"#Scatter plot Cars vs Age\nsns.scatterplot(x=\"Cars\", y=\"Age\", data=df, hue=\"Purchased Bike\", palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","077f3f43":"#Scatter plot Income vs Age\nfig, ax=plt.subplots(figsize=(9, 6))\nsns.scatterplot(x=\"Income\", y=\"Age\", data=df, hue=\"Purchased Bike\", palette=sns.blend_palette(['red', 'green'], 2))\nplt.show()","6ccbc328":"#Pair Plot Income vs Age\nsns.pairplot(df, vars=[\"Income\", \"Age\"], hue=\"Purchased Bike\", kind=\"reg\", palette=sns.blend_palette(['red', 'green'], 2))","ed84408e":"from ipywidgets import interactive\ndef size(height=3.5, aspect=1.5):\n    sns.pairplot(df, vars=[\"Income\", \"Age\"], hue=\"Purchased Bike\", kind=\"reg\", palette=sns.blend_palette(['red', 'green'], 2), height=height, aspect=aspect)","1b3c2d4b":"interactive(size, height=(1, 5, 0.5), aspect=(0.5, 3, 0.25))","f1a34972":"#Libraries for Prediction\nimport sklearn\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.datasets import make_classification","ba0ab19c":"df.dtypes","f3d95916":"# Change object types into categorical\ndf['Education'] = pd.Categorical(df['Education'])\ndf['Occupation'] = pd.Categorical(df['Occupation'])\ndf['Commute Distance'] = pd.Categorical(df['Commute Distance'])\ndf['Region'] = pd.Categorical(df['Region'])\ndf['Gender'] = pd.Categorical(df['Gender'])\ndf['Home Owner'] = pd.Categorical(df['Home Owner'])\ndf['Marital Status'] = pd.Categorical(df['Marital Status'])","6f015fa4":"# Change purchased bike value into int\ndf['Purchased Bike'] = df['Purchased Bike'].map({'Yes' : 1, 'No' : 0})","3bc16915":"df.dtypes","71d9c90b":"# Tansform categorical feature into dummy variables\ndf = pd.get_dummies(df, drop_first= True)","b8827d2e":"#Droping Irrelevant Data\ndf.drop('ID', axis = 1, inplace = True)","691d329b":"df.head(5)","9faed087":"#Defining Dependent and Independent Variables\nX=df.drop(['Purchased Bike'], axis=1)\ny=df['Purchased Bike']","5ded49aa":"#Split data\nX_train, X_test, y_train, y_test=train_test_split(X, y, test_size=0.30)","385a1ae5":"#Training the model\nmodel = RandomForestClassifier(n_estimators=100, max_depth=20, random_state=0)\nmodel.fit(X_train, y_train)","afa6df94":"#Printing accuracy of the model\nscore1 = model.score(X_train, y_train)\nscore2 = model.score(X_test, y_test)\n\n\nprint(\"Training set accuracy: \", '%.3f'%(score1))\nprint(\"Test set accuracy: \", '%.3f'%(score2))","03371c33":"#Comparing Test Data vs Predicted Data\ni=0\ny_pred=model.predict(X_test)\ntest_result=list(y_test)\n#for i in range(len(y_test)):\nfor i in range(10):\n    print('-----------------------')\n    print('Case:', i+1)\n    print(y_pred[i])\n    print(test_result[i])\n    if y_pred[i]==test_result[i]:\n        print('Prediction is correct')\n    else:\n        print('Prediction is incorrect')","0cb4e350":"#Displaying confusion matrix of the model\n\nfrom sklearn import metrics\nfrom sklearn.metrics import confusion_matrix, ConfusionMatrixDisplay\n\ncm = confusion_matrix(y_test, y_pred)\ndisp=ConfusionMatrixDisplay(confusion_matrix=cm)\n\ndisp.plot()\nplt.show()","ad4ff923":"#Statistical Analysis\nfrom sklearn.model_selection import cross_validate\nclf = []\nclf.append(RandomForestClassifier())\n\nclassifier_name = []\nmean_value = []\nstd_value = []\n\nscores = cross_validate(model, X_train, y_train)\nprint('---------------------------------')\nprint('Random Forest Classifier')\nprint('---------------------------------')\n    \nfor key, values in scores.items():\n        \n    classifier_name.append(clf)\n    mean_value.append(values.mean())\n    std_value.append(values.std())\n        \n    print(key,' mean ', values.mean())\n    print(key,' std ', values.std())","64b8d3f1":"#from sklearn.metrics import classification_report\nfrom sklearn.metrics import classification_report\n# Printing classification_report\nprint(classification_report(y_test, y_pred))","7f37d9b9":"### Bike Purchasing Trend According to Commuting Distance","ce9a6b47":"# Prediction Using Random Forest Classifier","4fb259b0":"### Split Data","33cc40a0":"### Bike Purchasing Trend According to Marital Status","2dd84fa5":"### Change Objects into Categorical Data","bc58c467":"### Bike Purchasing Trend According to Age","917deffb":"### Scatter Plots","f26a8f3f":"### Feature Engineering","2796af60":"### Data Count","1fc0159c":"### Bike Purchasing Trend According Occupation","564b21a1":"### Transform Categorical Features into Dummy Variables","1116ea6c":"### Import Important Libraries","7f2b9eb3":"# Exploratory Data Analysis","1155d867":"### Comparing Test Data vs Predicted Data","1709814a":"### Read Data","82f3ca56":"### Droping Irrelevant Data","31d355dd":"### Defining Dependent and Independent Variables","8e73ccc3":"### Bike Purchasing Trend According to Numbers of their Children","26d5074e":"### Import Important Libraries","b231af1e":"### Bike Purchasing Trend of Home Owners","b417e95f":"### Training the Model","6f447adf":"### Statistical Analysis of the Model","5705ff2a":"### Bike Purchase Trend According to Gender","26c55731":"### Bike Purchasing Trend According to Education","3711f2cf":"### Bike Purchasing Trend According to Region","f553bcc7":"### Bike Purchasing Trend According to Number of Cars They Own","7dce8ce0":"### Density Plots","90acc5fb":"### Confusion Matrix","984837a6":"### Bike Purchasing Trend According to Salary","bef561f3":"### Accuracy"}}