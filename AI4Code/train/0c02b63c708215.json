{"cell_type":{"5d54098d":"code","6a25de9f":"code","261b5b59":"code","15be4dfb":"code","6b5c6443":"code","f2ce031b":"code","3f68644b":"code","9311164e":"code","2eb3b9bf":"code","bf77420e":"code","33a2e9f1":"code","fea74d7d":"markdown","03f5515b":"markdown","1f4b1064":"markdown","e2191ddc":"markdown","5c841ccf":"markdown","ab81edde":"markdown","c1cc5579":"markdown","d3ef265d":"markdown","6ddd69a3":"markdown","67146b6c":"markdown","7176d31e":"markdown","86caef4e":"markdown","3b4c6bac":"markdown","3f1aeaeb":"markdown","0d6f4049":"markdown","c2383a12":"markdown"},"source":{"5d54098d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\n# for dirname, _, filenames in os.walk('\/kaggle\/input'):\n#     for filename in filenames:\n#         print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6a25de9f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport folium\nimport matplotlib.ticker as ticker\nimport scipy.interpolate as ip\nimport calendar\nimport datetime\n\n# Data Read From File\ndf_airline_portcountry = pd.read_csv('\/kaggle\/input\/airline-by-country-of-port-data\/airline_portcountry.csv', delimiter=',')\n#Airport Traffic data File\ndf_mon_acm_web = pd.read_csv('\/kaggle\/input\/airport-traffic-data\/mon_acm_web.csv', delimiter=',')\ndf_mon_pax_web = pd.read_csv('\/kaggle\/input\/airport-traffic-data\/mon_pax_web.csv', delimiter=',')\ndf_yed_acm_web = pd.read_csv('\/kaggle\/input\/airport-traffic-data\/yed_acm_web.csv', delimiter=',')\ndf_yed_pax_web = pd.read_csv('\/kaggle\/input\/airport-traffic-data\/yed_pax_web.csv', delimiter=',')\ndf_yej_acm_web = pd.read_csv('\/kaggle\/input\/airport-traffic-data\/yej_acm_web.csv', delimiter=',')\ndf_yej_pax_web = pd.read_csv('\/kaggle\/input\/airport-traffic-data\/yej_pax_web.csv', delimiter=',')\n\n# Domestic Airlines Top Routes and Totals\ndf_dom_citypairs_web = pd.read_csv('\/kaggle\/input\/domestic-airlines-top-routes-and-totals\/dom_citypairs_web.csv', delimiter=',')\ndf_dom_totals_web = pd.read_csv('\/kaggle\/input\/domestic-airlines-top-routes-and-totals\/dom_totals_web.csv', delimiter=',')\n\n# International Airline traffic by City Pairs\ndf_city_pairs = pd.read_csv('\/kaggle\/input\/international-airlines-traffic-by-city-pairs\/city_pairs.csv', delimiter=',')\n\n#Removing Duplicate TOTAL AUSTRALIA row\ndf_yed_acm_web = df_yed_acm_web[df_yed_acm_web['AIRPORT']!= 'TOTAL AUSTRALIA']\ndf_yej_pax_web = df_yej_pax_web[df_yej_pax_web['AIRPORT']!= 'TOTAL AUSTRALIA']\ndf_yej_acm_web = df_yej_acm_web[df_yej_acm_web['AIRPORT']!= 'TOTAL AUSTRALIA']\ndf_yej_pax_web = df_yej_pax_web[df_yej_pax_web['AIRPORT']!= 'TOTAL AUSTRALIA']\n\n#Filtering By Year\ndf_airline_portcountry =df_airline_portcountry[df_airline_portcountry['Year']<2020]\ndf_mon_acm_web =df_mon_acm_web[df_mon_acm_web['Year']<2020]\ndf_mon_pax_web =df_mon_pax_web[df_mon_pax_web['Year']<2020]\ndf_yed_acm_web =df_yed_acm_web[df_yed_acm_web['Year_Ended_December']<2020]\ndf_yed_pax_web =df_yed_pax_web[df_yed_pax_web['Year_Ended_December']<2020]\ndf_yej_acm_web =df_yej_acm_web[df_yej_acm_web['Year_Ended_June']<2020]\ndf_yej_pax_web =df_yej_pax_web[df_yej_pax_web['Year_Ended_June']<2020]\ndf_dom_citypairs_web =df_dom_citypairs_web[df_dom_citypairs_web['Year']<2020]\ndf_dom_totals_web =df_dom_totals_web[df_dom_totals_web['Year']<2020]\ndf_city_pairs =df_city_pairs[df_city_pairs['Year']<2020]\n\n#Rename Columns\ndf_airline_portcountry.rename(columns={'Passengers_In': 'PassengersIn'}, inplace=True)\n","261b5b59":"# Calculate the %\ndef total_contribution(value):\n    return value*100\/tot_passengers\n\n\n# Identify if the data is considered as Others or not\ndef country_name(name):\n    if name in popular_passenger_countries:\n        return name\n    else:\n        return 'Others'","15be4dfb":"df_numberof_int_flights = df_yed_acm_web.groupby('Year_Ended_December')['Int_Acm_Total'].sum()\ndf_numberof_dom_flights = df_dom_totals_web.groupby('Year')['Aircraft_Trips'].sum()\ndf_total_intl_flights = df_numberof_int_flights.reset_index().rename(columns={'Year_Ended_December':'Year', 'Int_Acm_Total': 'Intl_Trips'})\ndf_total_dom_flights = df_numberof_dom_flights.reset_index().rename(columns={'Aircraft_Trips':'Dom_Trips'})\ndf_total_flights = df_total_dom_flights.merge(df_total_intl_flights, how='inner', on='Year')\ndf_total_flights['Domestic'] = df_total_flights['Dom_Trips']*100\/(df_total_flights['Dom_Trips'] + df_total_flights['Intl_Trips'])\ndf_total_flights['International'] = df_total_flights['Intl_Trips']*100\/(df_total_flights['Dom_Trips'] + df_total_flights['Intl_Trips'])\ndf_total_flights.drop(['Dom_Trips', 'Intl_Trips'], axis=1, inplace=True)\ndf_total_flights.set_index('Year', inplace=True)\n    \n#Plot Graph\nax = df_total_flights.plot(\n    kind='bar', \n    stacked=True,\n    color=('#5cb85c', '#5bc0de'),\n    figsize=(16, 6), \n    legend=True,\n    xlim=(1985, 2019),\n    ylim=(60,102),\n    fontsize=14\n)\n\nax.set_title(\"Domestic vs International Flights from 1985-2019\", fontsize=16)\nax.legend(loc='upper right', frameon=True, fontsize=14, bbox_to_anchor=(1.17, 1.0))\nax.set_xlabel(\"Year\", fontsize=14)\nax.set_ylabel(\"Flights %\", fontsize=14)\nplt.xticks()\n\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\nplt.grid(b=True, linewidth=0.5, axis='y');","6b5c6443":"df_airline_portcountry['Total'] = df_airline_portcountry['PassengersIn']+df_airline_portcountry['Passengers_Out']\ndf_airline_portcountry_3 = df_airline_portcountry[df_airline_portcountry['Airline']=='Qantas Airways']\ndf_airline_portcountry_3 = df_airline_portcountry_3[['Port_Country', 'Total', 'Year']]\ndf_airline_portcountry_3 = df_airline_portcountry_3[df_airline_portcountry_3['Year'] > 2014]\n\npiv_country = df_airline_portcountry_3.groupby(['Port_Country'])[['Total']].sum()\npiv_country = piv_country.sort_values(['Total'])\npiv_country = piv_country.tail(5)\npopular_passenger_countries = piv_country.index\n\nmask_1 = df_airline_portcountry_3['Port_Country'].isin(popular_passenger_countries)\ndf_airline_portcountry_3=df_airline_portcountry_3[mask_1]\n\npiv_country = df_airline_portcountry_3.groupby(['Year', 'Port_Country'])[['Total']].sum()\npiv_country = df_airline_portcountry_3.pivot_table(index = 'Year', columns= 'Port_Country', aggfunc='sum')\npiv_country.columns = piv_country.columns.get_level_values(1)\npiv_country\n\nax = piv_country.plot(\n    kind='line', \n    figsize=(16, 6), \n    legend=True,\n    fontsize=14,\n    marker='D',\n    linewidth =4.8\n)\nax.set_title(\"Passengers by Country from 2015-2019\", fontsize=16)\n\nax.legend(loc='lower center', frameon=True, fontsize=14, ncol=5, bbox_to_anchor=(0.45, -0.25))\nax.set_ylabel(\"Passengers in Million\", fontsize=14)\nax.set_xlabel(\"Year\", fontsize=14)\nax.yaxis.set_major_formatter(ticker.EngFormatter())\nplt.xticks(piv_country.index)\n\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\nplt.grid(b=True, linewidth=0.5, axis='y')","f2ce031b":"df_airline_portcountry_3 = df_airline_portcountry[df_airline_portcountry['Port_Country']=='New Zealand']\ndf_airline_portcountry_3\n\npiv_month = df_airline_portcountry_3.groupby(['Month_num'])[['Total']].sum()\n\npiv_month\n\nax = piv_month.plot(\n    kind='line', \n    figsize=(16, 6), \n    legend=True,\n    fontsize=14,\n    marker='D',\n    linewidth =4.8\n)\nax.set_title(\"Passengers Travelling between New Zealand and Australia from 2015 to 2019 Monthly\", fontsize=16)\n\nax.legend(['Number of Passengers'], loc='lower center', frameon=True, fontsize=14, ncol=5, bbox_to_anchor=(0.45, -0.25))\nax.set_ylabel(\"Passengers in Million\", fontsize=14)\nax.set_xlabel(\"Year\", fontsize=14)\nax.yaxis.set_major_formatter(ticker.EngFormatter())\nax.set_xticklabels(['Jan','Feb', 'Apr','Jun', 'Aug', 'Oct','Dec'])\n\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\nplt.grid(b=True, linewidth=0.5, axis='y')","3f68644b":"df_airline_portcountry['Total_Freight'] = df_airline_portcountry['Freight_In_(tonnes)']+df_airline_portcountry['Freight_Out_(tonnes)']\n+df_airline_portcountry['Mail_In_(tonnes)']+df_airline_portcountry['Mail_Out_(tonnes)']\ndf_airline_country = df_airline_portcountry[df_airline_portcountry['Year']>2014]\npiv_freight = df_airline_country.groupby(['Port_Country'])[['Total_Freight']].sum()\npiv_freight = piv_freight.sort_values(['Total_Freight'])\npiv_freight = piv_freight.tail(5)\npopular_freight_countries = piv_freight.index\n\ndf_airline_country = df_airline_country[['Year', 'Port_Country', 'Total_Freight']]\nmask_1 = df_airline_country['Port_Country'].isin(popular_freight_countries)\ndf_freight_by_country=df_airline_country[mask_1]\n\npiv_country = df_freight_by_country.groupby(['Year', 'Port_Country'])[['Total_Freight']].sum()\npiv_country = df_freight_by_country.pivot_table(index = 'Year', columns= 'Port_Country', aggfunc='sum')\n\npiv_country.columns = piv_country.columns.get_level_values(1)\n\nax = piv_country.plot(\n    kind='line', \n    figsize=(16, 6), \n    legend=True,\n    fontsize=14,\n    marker='D',\n    linewidth =4.8\n)\nax.set_title(\"Freights and Mails by Country from 2015-2019\", fontsize=16)\n\nax.legend(loc='lower center', frameon=True, fontsize=14, ncol=5, bbox_to_anchor=(0.45, -0.25))\nax.set_ylabel(\"Freights (in Tonnes)\", fontsize=14)\nax.set_xlabel(\"Year\", fontsize=14)\nax.yaxis.set_major_formatter(ticker.EngFormatter())\nplt.xticks(piv_country.index)\n\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\nplt.grid(b=True, linewidth=0.5, axis='y')","9311164e":"df_airline_portcountry_2 = df_airline_portcountry[df_airline_portcountry['Year']>2014]\ndf_airline_portcountry_3 = df_airline_portcountry_2[['Airline', 'Total', 'Year']]\n\npiv_pass = df_airline_portcountry_2.groupby(['Airline'])[['Total']].sum()\npiv_pass = piv_pass.sort_values(['Total'])\npiv_pass = piv_pass.tail(5)\nairlines = piv_pass.index\n\nmask_1 = df_airline_portcountry_3['Airline'].isin(airlines)\ndf_airline_portcountry_3=df_airline_portcountry_3[mask_1]\n\npiv_pass = df_airline_portcountry_3.groupby(['Year', 'Airline'])[['Total']].sum()\npiv_pass = df_airline_portcountry_3.pivot_table(index = 'Year', columns= 'Airline', aggfunc='sum')\n\npiv_pass.columns = piv_pass.columns.get_level_values(1)\n\nax = piv_pass.plot(\n    kind='line', \n    figsize=(16, 6), \n    marker='D',\n    legend=True,\n    fontsize=14,\n    linewidth=4.8\n)\nax.set_title(\"Passengers by Airlines from 2015-2019\", fontsize=16)\nax.legend(loc='center right', frameon=True, fontsize=14)\nax.set_ylabel(\"Passengers in Million\", fontsize=14)\nax.set_xlabel(\"Year\", fontsize=14)\nax.yaxis.set_major_formatter(ticker.EngFormatter())\nplt.xticks(piv_pass.index)\n\nax.spines['right'].set_visible(False)\nax.spines['top'].set_visible(False)\nplt.grid(b=True, linewidth=0.5, axis='y')","2eb3b9bf":"df_airline_portcountry_3 = df_airline_portcountry[['Airline', 'Total', 'Year']]\ndf_airline_portcountry_3 = df_airline_portcountry_3[df_airline_portcountry_3['Year'] > 2014]\ntot_passengers = df_airline_portcountry_3['Total'].sum()\n\npiv_country = df_airline_portcountry_3.groupby(['Airline'])[['Total']].sum()\npiv_country = piv_country.sort_values(['Total'])\npopular_passenger_countries = piv_country.tail(7).index\n\ncat_df = piv_country.reset_index()\n\ncat_df['airlines'] = cat_df['Airline'].apply(country_name)\npiv_country = cat_df.groupby(['airlines'])[['Total']].sum()\npiv_country['Total_Contribution'] = piv_country['Total'].apply(total_contribution)\npiv_country = piv_country.sort_values(['Total'], ascending=False)\n\nmy_labels = piv_country['Total_Contribution']\nplot = piv_country['Total_Contribution'].plot.pie(figsize=(8, 6), ylabel='', autopct='%1.1f%%', title = 'Airlines 2015-2019')\n\n","bf77420e":"df_airline_portcountry_3 = df_airline_portcountry[['Port_Country', 'Total', 'Year']]\ndf_airline_portcountry_3 = df_airline_portcountry_3[df_airline_portcountry_3['Year'] > 2014]\ntot_passengers = df_airline_portcountry_3['Total'].sum()\n\npiv_country = df_airline_portcountry_3.groupby(['Port_Country'])[['Total']].sum()\npiv_country = piv_country.sort_values(['Total'])\npopular_passenger_countries = piv_country.tail(7).index\n\ncat_df = piv_country.reset_index()\n\ncat_df['country'] = cat_df['Port_Country'].apply(country_name)\npiv_country = cat_df.groupby(['country'])[['Total']].sum()\npiv_country['Total_Contribution'] = piv_country['Total'].apply(total_contribution)\npiv_country = piv_country.sort_values(['Total'], ascending=False)\n\nmy_labels = piv_country['Total_Contribution']\nplot = piv_country['Total_Contribution'].plot.pie(figsize=(8, 6), ylabel='',autopct='%1.1f%%', title ='Passengers by Country 2015-2019')\n","33a2e9f1":"df_airline_portcountry_3 = df_airline_portcountry[['Port_Country', 'Total_Freight', 'Year']]\ndf_airline_portcountry_3 = df_airline_portcountry_3[df_airline_portcountry_3['Year'] > 2014]\ntot_passengers = df_airline_portcountry_3['Total_Freight'].sum()\n\npiv_country = df_airline_portcountry_3.groupby(['Port_Country'])[['Total_Freight']].sum()\npiv_country = piv_country.sort_values(['Total_Freight'])\npopular_passenger_countries = piv_country.tail(7).index\n\ncat_df = piv_country.reset_index()\n\ncat_df['country'] = cat_df['Port_Country'].apply(country_name)\npiv_country = cat_df.groupby(['country'])[['Total_Freight']].sum()\npiv_country['Total_Contribution'] = piv_country['Total_Freight'].apply(total_contribution)\npiv_country = piv_country.sort_values(['Total_Freight'], ascending=False)\n\nmy_labels = piv_country['Total_Contribution']\nplot = piv_country['Total_Contribution'].plot.pie(figsize=(8, 6), ylabel='', autopct='%1.1f%%', title = 'Freight distribution 2015-2019')\n","fea74d7d":"# 4. Top 5 countries for Exchanging Freights and Mails from 2015 to 2019","03f5515b":"Clearly, passengers are travelling during the holiday season most (Oct to Jan) and it reaches a peak during Christmas and New year to meet their family, friends or simply for vacation.\n\nNew Zealanders are the biggest travellers on the list, are they also number one in terms of freight or mail services with Australia?","1f4b1064":"Clearly, we can see that New Zealand is not the country that has maximum trade\/freight. In fact, the Singapore trade volume is twice as compared with the trade volume with New Zealand. Also, China has increased significantly since 2015 and become the 2nd most favourable country for freights and mails.\n\nLet's visualize the airlines that have gained maximum with the increase in passengers and freights.\n","e2191ddc":"# 8. Percentage of Freight Distribution into Australia by Country from 2015 to 2019","5c841ccf":"Passengers coming or going to Singapore and New Zealand contributes more than 30% of the travellers and there are people from Asia and Africa such as China and UAE have the potential to increase in the number of people which will ultimately increase in the revenue for the country.","ab81edde":"# 7. Percentage of Passengers Traveling to Australia by Country from 2015 to 2019","c1cc5579":"# 2. Top 5 Countries for Passengers Travelling to Australia from 2015 to 2019","d3ef265d":"# 6. Percentage of Airlines Carrying Passengers and Freights into Australia from 2015 to 2019","6ddd69a3":"There is a sudden increase in passengers travelling from New Zealand since 2016. Are they travelling for some sort of events scheduled in a particular month(s) or just travelling for vacation. To answer the question, let's plot the graph to see the trends monthly.","67146b6c":"# 5. Top 5 Airlines Carrying Passengers into Australia from 2015 to 2019","7176d31e":"Although, passengers travelling between New Zealand and Australia is maximum but in terms of freight, Singapore and China are leading in terms of freight. Airlines can add a few commercial flights to deliver logistics to these countries.","86caef4e":"From comparing domestic and international increase, there is an overall increase in the number of passengers and aircrafts travelling internationally.\nLet's try to find if the trend is from a specific country or countries.","3b4c6bac":"# 1. Domestic vs International Flights in Australia from 1985 to 2019\n","3f1aeaeb":"# 3. Passengers Travelling between New Zealand and Australia from 2015 to 2019 Monthly","0d6f4049":"Australian airlines such as Qantas and Jetstar contributes over 25% of all the airlines carrying the passengers. There is still potential for Australian airlines to grow.","c2383a12":"Well, Qantas gas gained most with the increase in the passengers travelling internationally, Let's see their share in terms of passengers and freights."}}