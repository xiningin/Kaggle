{"cell_type":{"5eb761fc":"code","dcf335cf":"code","dd4d9180":"code","2223f3fb":"code","973105ce":"code","8b5921c8":"code","07dfa66e":"code","f7c84a47":"code","0bcbbcf9":"code","5f601575":"code","f8d134c6":"code","d0fe034e":"code","f5111a26":"code","f7b11cd2":"code","0ee5ad64":"code","d0a0572f":"code","27feb1b9":"code","abd1fe2d":"code","324c75d2":"code","9966e085":"code","95eb656b":"code","40313d6d":"code","1b7d26ac":"markdown","180a7507":"markdown","38d77a14":"markdown","9c95170f":"markdown","47082cf1":"markdown","d34e6ae5":"markdown","7d009185":"markdown","78aaf17b":"markdown","25521986":"markdown","34496700":"markdown","17069e4a":"markdown","d85de76c":"markdown","f21f54e9":"markdown","d97b74d1":"markdown","dd1bc087":"markdown"},"source":{"5eb761fc":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport tensorflow as tf\nimport seaborn as sns\nimport os\n\ndf = pd.read_csv(\"..\/input\/insurance.csv\")\npd.options.display.max_columns = None","dcf335cf":"df.info()","dd4d9180":"df.describe()","2223f3fb":"df['bmi_desc'] = 'default value'\ndf.loc[df.bmi >= 30, 'bmi_desc'] = 'Obesity'\ndf.loc[df.bmi <18.5, 'bmi_desc'] = 'Underweight'\ndf.loc[ (df.bmi >= 18.5) & (df.bmi < 24.9), 'bmi_desc'] = 'Normal'\ndf.loc[ (df.bmi > 24.9) & (df.bmi <30), 'bmi_desc'] = 'Overweight'\ndf.head()","973105ce":"df['bmi_smoker'] = 'default value'\ndf.loc[(df.bmi_desc == 'Obesity') & (df.smoker == 'yes'), 'bmi_smoker'] = 'obese_smoker'\ndf.loc[(df.bmi_desc == 'Obesity') & (df.smoker == 'no'), 'bmi_smoker'] = 'obese_no_smoker'\ndf.loc[(df.bmi_desc != 'Obesity') & (df.smoker == 'yes'), 'bmi_smoker'] = 'other_smoker'\ndf.loc[(df.bmi_desc != 'Obesity') & (df.smoker == 'no'), 'bmi_smoker'] = 'other_no_smoker'\ndf.head()","8b5921c8":"sns.distplot(df[['charges']])","07dfa66e":"sns.distplot(df.loc[df.smoker == 'yes']['charges'].values.tolist())","f7c84a47":"sns.distplot(df.loc[df.smoker == 'no']['charges'].values.tolist())","0bcbbcf9":"sns.distplot(df[['age']])","5f601575":"sns.scatterplot(x= df['age'] , y= df['charges']).set_title('3.1 - Charges vs Age without filter')\nsns.despine()","f8d134c6":"sns.scatterplot(x= df['age'] , y= df['charges'], hue='sex', data=df).set_title('3.1 - Charges vs Age filter by sex')\nsns.despine()","d0fe034e":"sns.scatterplot(x= df['age'] , y= df['charges'], hue='children', data=df).set_title('3.2 - Charges vs Age filtered by the number of children')\nsns.despine()","f5111a26":"sns.scatterplot(x= df['age'] , y= df['charges'], hue='region', data=df).set_title('3.3 - Charges vs Age filtered by region')\nsns.despine()","f7b11cd2":"sns.scatterplot(x= df['age'] , y= df['charges'], hue='bmi_desc', data=df).set_title('3.4 - Charges vs Age filtered by bmi description')\nsns.despine()","0ee5ad64":"sns.scatterplot(x= df['age'] , y= df['charges'], hue='smoker', data=df).set_title('3.5 - Charges vs Age filtered by smoker')\nsns.despine()","d0a0572f":"sns.scatterplot(x= df['age'] , y= df['charges'], hue='bmi_smoker', data=df).set_title('3.6 - Charges vs Age filtered by bmi_smoker')\nsns.despine()","27feb1b9":"sns.distplot(df[['bmi']])","abd1fe2d":"sns.scatterplot(x= df['bmi'] , y= df['charges']).set_title('4.1 - Charges vs Bmi')\nsns.despine()","324c75d2":"sns.scatterplot(x= df['bmi'] , y= df['charges'], hue='sex', data=df).set_title('4.2 - Charges vs Bmi filtered by sex')\nsns.despine()","9966e085":"sns.scatterplot(x= df['bmi'] , y= df['charges'], hue='region', data=df).set_title('4.3 - Charges vs Bmi filtered by region')\nsns.despine()","95eb656b":"sns.scatterplot(x= df['bmi'] , y= df['charges'], hue='children', data=df).set_title('4.4 - Charges vs Bmi filtered by number of children')\nsns.despine()","40313d6d":"sns.scatterplot(x= df['bmi'] , y= df['charges'], hue='smoker', data=df).set_title('4.5 - Charges vs Bmi filtered by smoker_bmi')\nsns.despine()","1b7d26ac":"## 1. CREATING NEW VARIABLES","180a7507":"## 2. CHARGE VARIABLE Analysis","38d77a14":"#### The distribution is the same to smoker people?\n\nThere are differences (see below), but is not conclusive.","9c95170f":"I have identified opportunities for creating new categorical variables. The main reason is identify possible groups of data. \n\n#### 1.1 BMI range description.","47082cf1":"Above, you can verify that there are one positive trend to '3 groups'. \n\n**There are a categorical variable in the dataset that justify this behavior?\nYes.** \n\n\nAfter analysis of the subsequent graphs is possible to conclude that:\n* The charge with obese people is not necessairly higher than compared with other categories. However is possible note that are a subset of obese people with higher costs that other obese.  (3.4 graph).\n* The charge with Non-smokers is lower than compared with smoker people (3.5 graph).\n* The charge with the smokers are clearly divide in two 'categories'. Is possible note that people who are obese AND smoke cost more to the insurer than people who are not obese and smoke (3.6 graph).\n* Is not possible identify strong relationship from other variables (graphs 3.1 -> 3.4)\n\nThese are the key findings for this variable. Graphs below.","d34e6ae5":"## 0. START FROM THE BEGINNING\n(Please, sorry about english mistakes. I'm not a native speaker)","7d009185":"#### Distribution","78aaf17b":"Below, i'll create a new variable to describe the categorical range of BMIs.\nSource: https:\/\/www.nhlbi.nih.gov\/health\/educational\/lose_wt\/BMI\/bmicalc.htm","25521986":"Above, you can verify that the range to the age is acceptable (18-64), as is for the the number of children (0-5), charge and bmi. \nTherefore, no inconsistencies were identified.","34496700":"#### 1.2 BMI range description simplified combine with smoker people[](http:\/\/)","17069e4a":"#### This variable is correlated with another?\n","d85de76c":"### 4. BMI VARIABLE Analysis","f21f54e9":"Above, you can verify that there is no clear relantionship from this variables. \n\n**There are a categorical variable in the dataset that justify this behavior?\nYes.** \n\n\nAfter analysis of the subsequent graphs is possible to conclude that:\n* The charge with the smokers are clearly divide in two 'categories'. Is possible note that people who are obese AND smoke cost more to the insurer than people who are not obese and smoke (4.5 graph)\n* Is not possible identify strong relationship from other variables (graphs 4.1 -> 4.4)\n\nThese are the key findings for this variable. Graphs below.","d97b74d1":"#### Distribution","dd1bc087":"## 3. AGE VARIABLE Analysis"}}