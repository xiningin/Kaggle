{"cell_type":{"29ce310e":"code","4f58c620":"code","9d2432e8":"code","39ce178d":"code","65bc10da":"code","8476f5b7":"code","2562d408":"code","988a0a95":"code","8030c695":"code","b0e42e2a":"code","7ae14349":"code","9f5d867b":"code","4b427b7a":"code","ada01b62":"code","b00d4ceb":"code","696d354c":"code","1bb0bde4":"code","c930c15f":"code","e4795a90":"code","98a5d9bf":"code","61836a76":"code","3ba10136":"code","45927d3a":"code","628b84d2":"code","3b189d85":"code","ddb01e55":"code","e4e42877":"code","fa285906":"code","6a44c432":"code","fc54702a":"code","39e42128":"code","f147b836":"code","98bcf83e":"code","662fa0f5":"code","d56f62ef":"code","88d842c5":"code","5353e89b":"code","21ba1eb2":"code","456a3ff5":"code","43f8a5e0":"code","92d6edb5":"code","b1aa4f4a":"code","a23c9d58":"code","44913d9a":"code","871b6718":"code","2baf6ca3":"code","34b24323":"code","7951cf17":"code","27804e5d":"code","4d0cfd01":"code","80bb7a8c":"code","2495e0ad":"code","a46573ff":"markdown","72cf6f39":"markdown","455dd0e5":"markdown","a3a4b308":"markdown","6376259b":"markdown","daf0f9fd":"markdown","97c022d5":"markdown","6b302ce5":"markdown","0cdd29c2":"markdown","f0b3dd90":"markdown","ad0a3a81":"markdown","62585bcc":"markdown","79338ff4":"markdown","fac54915":"markdown","56596b4c":"markdown","92e65b6d":"markdown","2b93cc24":"markdown","99e7bbff":"markdown","2c1655a4":"markdown","b9614547":"markdown","1a87daef":"markdown","b7c59727":"markdown","6a59f74a":"markdown","40c7a67e":"markdown"},"source":{"29ce310e":"import pandas as pd\nimport numpy as np \nimport matplotlib.pyplot as plt\nimport seaborn as sns \nsns.set_style('dark')\nimport datetime\n\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport re\nimport cufflinks as cf\ncf.go_offline()\ncf.set_config_file(offline=False, world_readable=True)\nfrom wordcloud import WordCloud\nfrom PIL import Image\n\nimport warnings\nwarnings.filterwarnings('ignore')","4f58c620":"data = pd.read_csv('\/kaggle\/input\/startup-investments-crunchbase\/investments_VC.csv',encoding = 'unicode_escape')","9d2432e8":"data.head()","39ce178d":"data.isna().sum().sum()","65bc10da":"data=data.dropna()\n# drop \ndata=data.reset_index()\n# reset index","8476f5b7":"sum(data.duplicated())","2562d408":"data.columns","988a0a95":"# selected columns which will be used for EDA\n\ndata = pd.DataFrame(data,columns=['category_list',' funding_total_usd ',' market ',\n                                  'status','country_code','state_code','city','founded_at','first_funding_at'])","8030c695":"data.rename(columns={' market ':'market',' funding_total_usd ':'funding_total_usd','category_list':'category'},inplace=True)","b0e42e2a":"market_Top20=data.market.value_counts()[:20]\nmarket_Top20 =pd.DataFrame(market_Top20,columns=['market'])\nmarket_Top20.rename(columns={'market':'counting'},inplace=True)\nmarket_Top20=market_Top20.reset_index()","7ae14349":"fig = px.bar(market_Top20, x='index',y='counting',color='counting',\n             labels={'pop':'state code counting'}, height=700,title='market field counting')\nfig.show();","9f5d867b":"from wordcloud import WordCloud\nfig, ax= plt.subplots( figsize=[15, 10])\nwordcloud1 = WordCloud( background_color='white',\n                        width=1500,\n                        height=800).generate(\" \".join(data['market']))\nax.imshow(wordcloud1)\nax.axis('off')\nax.set_title('Start-up market keyword',fontsize=40);","4b427b7a":"category_Top20 =pd.DataFrame(data.category.value_counts()[:20],columns=['category'])\n#category_Top20['index'] = category_Top20['index'].iloc[1:-1]\ncategory_Top20.rename(columns={'category':'counting'},inplace=True)\ncategory_Top20.reset_index(inplace=True)","ada01b62":"def find_punct(text):\n    text = re.sub(r'[!\"\\$%\\'()*,\\-.\\\/:;=#@?\\[\\\\\\]^_`{|}~]*','', (text))\n    return text\n\ncategory_Top20['index'] = category_Top20['index'].apply(lambda x : find_punct(x))","b00d4ceb":"fig = px.bar(category_Top20, x='index',y='counting',color='counting',\n             labels={'pop':'category counting'}, height=700,title='category counting')\nfig.show()","696d354c":"fig, ax= plt.subplots( figsize=[15, 10])\nwordcloud1 = WordCloud( background_color='white',\n                        width=1500,\n                        height=800).generate(\" \".join(data['category']))\nax.imshow(wordcloud1)\nax.axis('off')\nax.set_title('Start-up category keywords',fontsize=40);","1bb0bde4":"# remove comma\ndata['funding_total_usd'] = data['funding_total_usd'].apply(lambda x : find_punct(x))","c930c15f":"# fill the empty black with NaN\ndata['funding_total_usd'] = data['funding_total_usd'].replace('    ',np.nan, regex=True)","e4795a90":"# change the datatype, but only non null value\ndata['funding_total_usd']=data[~ data['funding_total_usd'].isna()==True]['funding_total_usd'].astype(int)","98a5d9bf":"# Build a new dataFrame\nfunding  = pd.DataFrame(data['funding_total_usd'],columns=['funding_total_usd'])\nfunding.dropna(inplace=True)\n\n# change the datype\nfunding=funding.astype(int)","61836a76":"# check the statistical insights for setting the range \nprint('Average funding amount of startup is: ',int(funding.mean()))\nprint('Maximum funding amount of startup is: ',funding.max())\nprint('Minimum funding amount of startup is: ',funding.min())","3ba10136":"# Range setting for funding level \n\nfunding['funding_level'] = 0\nfunding.loc[funding['funding_total_usd']<10000,'funding_level'] =1\nfunding.loc[ (funding['funding_total_usd']>=10000) & (funding['funding_total_usd']<100000),'funding_level' ] =2\nfunding.loc[ (funding['funding_total_usd']>=100000) & (funding['funding_total_usd']<1000000),'funding_level'] =3\nfunding.loc[(funding['funding_total_usd']>=1000000) & (funding['funding_total_usd']<10000000) ,'funding_level'] =4\nfunding.loc[funding['funding_total_usd']>=10000000,'funding_level'] =5","45927d3a":"funding['funding_level'].value_counts()","628b84d2":"from plotly import graph_objects as go\nfig = go.Figure(go.Funnelarea(\n    text = [\"Funding level 4\",\"Funding level 5\", \"Funding level 3\", \"Fundig level 2\", \"Funding level 1\"],\n    values = [7305,5843,4392,1447,125],\n    # value count of each funding level\n    title = 'funding level ratio'\n    ))\nfig.show()","3b189d85":"df = pd.DataFrame(data.status.value_counts(),columns=['status'])\ndf.reset_index(inplace=True)\n\nfig = px.pie(df, values='status', names='index', color_discrete_sequence=px.colors.sequential.RdBu,title='status ratio',)\nfig.show()","ddb01e55":"state_top20 = pd.DataFrame(data.state_code.value_counts()[:20],columns=['state_code'])\nstate_top20.reset_index(inplace=True)","e4e42877":"fig = px.bar(state_top20, x='index', y='state_code',color='state_code',\n             labels={'pop':'state code counting'}, height=500,title='Top 20 state')\nfig.show()","fa285906":"fig, ax= plt.subplots( figsize=[15, 10])\nwordcloud1 = WordCloud( background_color='white',\n                        width=1500,\n                        height=800).generate(\" \".join(data['state_code']))\nax.imshow(wordcloud1)\nax.axis('off')\nax.set_title('Start-up state keywords',fontsize=40);","6a44c432":"USA_top20 = pd.DataFrame(data.query('country_code == \"USA\"')['state_code'].value_counts()[:20],columns=['state_code'])\nUSA_top20.reset_index(inplace=True)\n\nfig = px.bar(USA_top20, x='index', y='state_code',color='state_code',\n             labels={'pop':'state code counting'}, height=500,title='US Top 20 state')\nfig.show()\n","fc54702a":"fig, ax= plt.subplots( figsize=[15, 10])\nwordcloud1 = WordCloud( background_color='white',\n                        width=1500,\n                        height=800).generate(\" \".join(data.query('country_code == \"USA\"')['state_code']))\nax.imshow(wordcloud1)\nax.axis('off')\nax.set_title('USA Start-up state keywords',fontsize=40);","39e42128":"CAN_top9 = pd.DataFrame(data.query('country_code == \"CAN\"')['state_code'].value_counts()[:20],columns=['state_code'])\nCAN_top9.reset_index(inplace=True)\n\nfig = px.bar(CAN_top9, x='index', y='state_code',color='state_code',\n             labels={'pop':'state code counting'}, height=500,title='Canada Top 9 state')\nfig.show()","f147b836":"fig, ax= plt.subplots( figsize=[15, 10])\nwordcloud1 = WordCloud( background_color='white',\n                        width=1500,\n                        height=800).generate(\" \".join(data.query('country_code == \"CAN\"')['state_code']))\nax.imshow(wordcloud1)\nax.axis('off')\nax.set_title('Canada Start-up state keywords',fontsize=40);","98bcf83e":"USA = pd.DataFrame(data.query('country_code == \"USA\"')['state_code'].value_counts(),columns=['state_code'])\nUSA.reset_index(inplace=True)","662fa0f5":"fig = go.Figure(data=go.Choropleth(\n    locations=USA['index'],\n    z = USA['state_code'].astype(int), # Data to be color-coded\n    locationmode = 'USA-states', # set of locations match entries in `locations`\n    colorscale = 'Reds',\n    colorbar_title = \"start-up counting\",\n))\n\nfig.update_layout(\n    title_text = 'Start up investment USA state counting',\n    geo_scope='usa',\n)\nfig.show()","d56f62ef":"df = pd.DataFrame(data.country_code.value_counts(),columns=['country_code'])\ndf.reset_index(inplace=True)\n\nfig = px.pie(df, values='country_code', names='index', color_discrete_sequence=px.colors.sequential.Sunset,title='Country code ratio',)\nfig.show()","88d842c5":"city =pd.DataFrame(data.city.value_counts()[:30],columns=['city'])\ncity.reset_index(inplace=True)","5353e89b":"fig = px.treemap(city, path=['index'], values='city',title='Top 30 start-up city')\nfig.show()","21ba1eb2":"# change the datatype from string to datetime \ndata['first_funding_at'] = pd.to_datetime(data['first_funding_at'],errors='coerce')\ndata['founded_at'] = pd.to_datetime(data['founded_at'],errors='coerce')","456a3ff5":"# drop Null value\ndata['founded_at'].dropna(inplace=True)\ndata['first_funding_at'].dropna(inplace=True)","43f8a5e0":"# Define the differrence between the date of foundation and first funding\ndata['difference'] = data['first_funding_at'] - data['founded_at']\n# extract only numeric value\ndata['difference'] = data['difference'].dt.days","92d6edb5":"data.head()","b1aa4f4a":"# number of neagive days = Start up got investment before the found the company \nprint(\"There are [{}] records where the duration till first investment is larger than Zero.\".format(data[data.difference > 0].shape[0]))\nprint(\"There are [{}] records where the duration till first investment is equal Zero.\".format(data[data.difference == 0].shape[0]))\nprint(\"There are [{}] records where the duration till first investment is less than Zero.\".format(data[data.difference < 0].shape[0]))","a23c9d58":"fig = go.Figure(go.Funnelarea(\n    text = [\"Positive Duration \",\"Negative Duration\",\"Zero\"],\n    values = [19477,1309,1053],\n    title = 'Duration between foundation of company and first funding'\n    ))\nfig.show()","44913d9a":"# Range setting for funding level \n\npositive = data[data['difference']>0]\n\npositive['difference_level'] = 0\npositive.loc[positive['difference']<365,'difference_level'] ='under 1year'\npositive.loc[ (positive['difference']>=365) & (positive['difference']<1095),'difference_level' ] ='1-3years'\npositive.loc[ (positive['difference']>=1095) & (positive['difference']<1825),'difference_level'] ='3-5years'\npositive.loc[(positive['difference']>=1825) & (positive['difference']<3650) ,'difference_level'] ='5-10years'\npositive.loc[(positive['difference']>=3650) & (positive['difference']<7300) ,'difference_level'] ='10-20years'\npositive.loc[positive['difference']>=7300,'difference_level'] ='over 20years'","871b6718":"positive['difference_level'].value_counts().iplot(kind='bar',\n                                                      yTitle='counting', \n                                                      linecolor='black', \n                                                      opacity=0.7,\n                                                      color='blue',\n                                                      theme='pearl',\n                                                      bargap=0.5,\n                                                      gridcolor='white',\n                                                      title='Difference level counting')","2baf6ca3":"foundation = pd.DataFrame(data['founded_at'])","34b24323":"foundation['year'] = foundation['founded_at'].dt.year\nfoundation['month'] = foundation['founded_at'].dt.month\n","7951cf17":"foundation['year'].value_counts().iplot(kind='bar',\n                                                      yTitle='counting', \n                                                      linecolor='black', \n                                                      opacity=0.7,\n                                                      color='purple',\n                                                      theme='pearl',\n                                                      bargap=0.5,\n                                                      gridcolor='white',\n                                                      title='Year of foundation')","27804e5d":"foundation['month'].value_counts().iplot(kind='bar',\n                                                      yTitle='counting', \n                                                      linecolor='black', \n                                                      opacity=0.7,\n                                                      color='purple',\n                                                      theme='pearl',\n                                                      bargap=0.5,\n                                                      gridcolor='white',\n                                                      title='Month of foundation',\n                                                      )","4d0cfd01":"first_funding = pd.DataFrame(data['first_funding_at'])\n\nfirst_funding['year'] = first_funding['first_funding_at'].dt.year\nfirst_funding['month'] = first_funding['first_funding_at'].dt.month","80bb7a8c":"first_funding['year'].value_counts().iplot(kind='bar',\n                                                      yTitle='counting', \n                                                      linecolor='black', \n                                                      opacity=0.7,\n                                                      color='gray',\n                                                      theme='pearl',\n                                                      bargap=0.5,\n                                                      gridcolor='white',\n                                                      title='Year of first funding')","2495e0ad":"first_funding['month'].value_counts().iplot(kind='bar',\n                                                      yTitle='counting', \n                                                      linecolor='black', \n                                                      opacity=0.7,\n                                                      color='gray',\n                                                      theme='pearl',\n                                                      bargap=0.5,\n                                                      gridcolor='white',\n                                                      title='Month of first funding')","a46573ff":"### 3.4  Change column name","72cf6f39":"### 4.7 city\n\n","455dd0e5":"If you have any feedback of this kernel, just let me know. I'm totally open for that\n\n<h3>Thank you all very much <h3>","a3a4b308":"### 4.3 funding total usdollar","6376259b":"\n## 2.Loading dataset","daf0f9fd":"No duplicated data","97c022d5":"### 3.3 Selecting columns \n\nBecause I'll not use all columns I'm going to make a new columns which I'll use for exploratory data analysis  ","6b302ce5":"Tooooooooo many missing value.Drop out all missing values ","0cdd29c2":"### 4.1 Market","f0b3dd90":"## 4. Data Visualization","ad0a3a81":"### 3.1 Missing value","62585bcc":"### 4.4 status ","79338ff4":"### 4.5 State Code ","fac54915":"- Funding level 1: US Dollar < **10,000**\n- Funding level 2: **10,000** <= US Dollar <**100,000**\n- Funding level 3: **100,000**<= US Dollar <**1,000,000**\n- Funding level 4: **1,000,000** <= US Dollar < **10,000,000**\n- Funding level 5: US Dollar > **100,000,000** \n","56596b4c":"> `Software` >>>>>>>>>>>>> `Biotechnology` >> `mobile`>> .....","92e65b6d":"## 3. Data engineering ","2b93cc24":"### 4.9 foundation date of start-up","99e7bbff":"### Additional : Mapping state ","2c1655a4":"### 4.10 First funding date","b9614547":"## 1.Importing libraries ","1a87daef":"### 4.6 Country","b7c59727":"### 4.2 cateogory","6a59f74a":"### 3.2 Duplication","40c7a67e":"### 4.8  Time difference between Foundation and first funding \n\n- I want to know how much time did they wait for funding after foundation of their company \n\n- Also I want to know how many company couldn't survive before they get a first funding so that I can figure out the important of funding for start up"}}