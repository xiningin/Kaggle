{"cell_type":{"44d8ee2b":"code","86cb710e":"code","d2cc4da2":"code","a0b2dbaf":"code","26041843":"code","b15a9ffe":"code","065cfbd0":"code","f5e28c50":"code","510528cf":"code","890a3a6b":"code","e6a83fe7":"code","3bcc05fe":"code","918e312a":"code","1c77a318":"code","af01fed6":"code","b88f9173":"code","47c51a67":"code","9689df73":"code","01cf6a90":"code","59c655e5":"code","5aac435d":"code","43fc128e":"code","ef139e41":"code","2cd18656":"code","cce51420":"code","64969863":"code","990ba4a1":"code","f7f4ccac":"code","eaea20c2":"code","3dd2125c":"code","a7722f48":"code","1e4e0778":"code","897726ce":"code","1a31c08f":"code","ab6d6f4b":"code","a3df1769":"code","87f4beb9":"markdown","c2287e4f":"markdown","c44df2eb":"markdown","9ac76d6e":"markdown","c2d5693e":"markdown","0bbebd9b":"markdown","e1bf5c00":"markdown","7f101c43":"markdown","f03b8845":"markdown","b9305c24":"markdown","256e04c4":"markdown","3cabcd63":"markdown","338aec26":"markdown","5e78433e":"markdown","9ee792f1":"markdown","6dbea7bf":"markdown","2d909251":"markdown","89cdde0c":"markdown","aa6f20f2":"markdown","af37479a":"markdown","2d310be9":"markdown","399cbdc7":"markdown","f888f191":"markdown","189a3b67":"markdown","b2b4082f":"markdown","662808b0":"markdown","82e933a8":"markdown","ff50699e":"markdown","e4f0a2d2":"markdown"},"source":{"44d8ee2b":"#Import library \nimport pandas as pd\nimport numpy as np\n\n#Visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport plotly.figure_factory as ff\n\nimport warnings\nwarnings.filterwarnings (\"ignore\")","86cb710e":"# Load dataset \ncustomers = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_customers_dataset.csv\")\ngeolocation = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_geolocation_dataset.csv\")\norder_items = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_order_items_dataset.csv\")\npayments = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_order_payments_dataset.csv\")\nreviews = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_order_reviews_dataset.csv\")\norders = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_orders_dataset.csv\")\nproducts = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_products_dataset.csv\")\nsellers = pd.read_csv(\"..\/input\/brazilian-ecommerce\/olist_sellers_dataset.csv\")\ntranslation = pd.read_csv(\"..\/input\/brazilian-ecommerce\/product_category_name_translation.csv\")","d2cc4da2":"#Check semua info data frame\nlists = [customers, geolocation, order_items, payments, reviews, orders, products, sellers, translation]\nfor data_frame in lists:\n    print (data_frame.info())\n    print (\"**\" * 20)","a0b2dbaf":"#Chcek missing value for each table\nlists = [customers, geolocation, order_items, payments, reviews, orders, products, sellers, translation]\nfor subscript in lists:\n    print (subscript.isnull().sum());\n    print (\"--\"*50);","26041843":"reviews.head()","b15a9ffe":"orders.head()","065cfbd0":"products.head()","f5e28c50":"#Handle type data yang tidak seusai\nlists = ['order_purchase_timestamp', 'order_approved_at', 'order_delivered_carrier_date', 'order_delivered_customer_date', 'order_estimated_delivery_date']\n\nfor cols in lists:\n    orders[cols] = pd.to_datetime(orders[cols])","510528cf":"#Checking orders columns\norders.info()","890a3a6b":"#Get year of purchasde for each customers\norders['years'] = pd.DatetimeIndex(orders['order_purchase_timestamp']).year","e6a83fe7":"#Checking orders\norders.head()","3bcc05fe":"reviews = reviews.fillna('None')","918e312a":"orders = orders.fillna(method = 'ffill')","1c77a318":"products['product_category_name'] = products['product_category_name'].fillna('orthers')\nproducts = products.fillna(products.median())","af01fed6":"# Check again \nlists = [reviews, orders, products]\n\nfor subscripts in lists:\n    print (subscripts.isnull().sum())\n    print (\"--\"*50)","b88f9173":"#Gabungkan data frame yang diperlukan\nordr_itm = pd.merge(orders, order_items, left_on = 'order_id', right_on = 'order_id')\nordr_itm1 = pd.merge(ordr_itm, products, left_on = 'product_id', right_on = 'product_id')\nall_data = pd.merge(ordr_itm1, translation, left_on = 'product_category_name', right_on = 'product_category_name')\nall_data.head()","47c51a67":"#Filter data for more than 2017 \nall_data = all_data[all_data['years'] >= 2017]","9689df73":"all_data.head()","01cf6a90":"top_10 = all_data.product_category_name_english.value_counts()[:10].sort_values(ascending = False)\\\n.rename_axis('Name').reset_index(name='Frequency')\ntop_10","59c655e5":"#Visualization\nfig = px.bar(top_10, x=\"Name\", y=\"Frequency\",color=\"Frequency\", title = \"Top 10 Sales Products\")\nfig.show()","5aac435d":"all_data['order_purchase_date'] = pd.DatetimeIndex(all_data['order_purchase_timestamp']).date","43fc128e":"purchase_date = all_data.order_purchase_date.value_counts().sort_values(ascending = False)\\\n.rename_axis('Date').reset_index(name='Frequency')\npurchase_date = purchase_date.sort_values(by='Date').reset_index(drop = True)","ef139e41":"fig = px.line(purchase_date, x=\"Date\", y=\"Frequency\", title='Total Product Sales throughout 2017 - 2018')\nfig.show()","2cd18656":"all_data3 = pd.merge(all_data, payments, how = 'left', left_on = 'order_id', right_on = 'order_id')\n\npurchase_value = all_data3.groupby('order_purchase_date')['payment_value'].sum().reset_index()\n\n#Visualization\nfig = px.line(purchase_value, x=\"order_purchase_date\", y=\"payment_value\", \\\n              title='Nilai Penjualan selama  2017 - 2018')\nfig.update_layout(xaxis_title='Date',yaxis_title='Sales Value')\nfig.show()","cce51420":"performance = pd.DataFrame(all_data3[all_data3['order_status'] == 'delivered'].groupby(by = all_data3['years']).agg({'payment_value':'sum', 'order_id':'nunique'}).reset_index())\nperformance.columns = ['years', 'revenue', 'total orders']\nperformance","64969863":"#Visualization\nfig = px.bar(performance, x=\"years\", y=\"revenue\", title = \"Jumlah Nilai Transaksi\/Pendapatan\")\nfig.show()","990ba4a1":"#Visualization\nfig = px.bar(performance, x=\"years\", y=\"total orders\", title = \"Jumlah Pemesanan\")\nfig.show()","f7f4ccac":"# We need a data that give a full name of all state\nstate = pd.read_csv(\"..\/input\/full-name-state-in-brazil\/Name_state.csv\")","eaea20c2":"state_customer = customers.customer_state.value_counts().sort_values(ascending = False)\\\n.rename_axis('State').reset_index(name='Number of Customers')","3dd2125c":"state_seller = sellers.seller_state.value_counts().sort_values(ascending = False)\\\n.rename_axis('State').reset_index(name='Number of Sellers')","a7722f48":"all_state = pd.merge(state_customer, state_seller, on = 'State')\nall_state['Total'] = all_state['Number of Customers'] + all_state['Number of Sellers']\nall_state_data = pd.merge(state, all_state, left_on = 'Code', right_on = 'State')\nall_state_data = pd.DataFrame(all_state_data[['Name', 'Code', 'Number of Customers', 'Number of Sellers', 'Total']]\\\n                              .sort_values(by= 'Total', ascending = False).reset_index(drop = True))","1e4e0778":"all_state_data","897726ce":"#Visualization\nfig = go.Figure(data=[\n    go.Bar(name='Number of Customers', x=all_state_data['Name'], y=all_state_data['Number of Customers']),\n    go.Bar(name='Number of Sellers', x=all_state_data['Name'], y=all_state_data['Number of Sellers']),\n])\n# Change the bar mode\nfig.update_layout(barmode='group', xaxis_tickangle=-45, title = \"Top State Sellers dan Customers\", \n                 xaxis_title='State Name',yaxis_title='Counts')\nfig.show()","1a31c08f":"total_payment_type = all_data3.groupby('payment_type')['payment_value'].sum().reset_index()\ntotal_payment_type","ab6d6f4b":"#Visualization\nfig = px.bar(total_payment_type, x=\"payment_type\", y=\"payment_value\",color = \"payment_value\", title = \"Value of Payment Type\")\nfig.update_layout(xaxis_title='Payment Type',yaxis_title='Payment Values')\nfig.show()","a3df1769":"#We need to differencing between order_delivery_customer_date and order_purchase_timetamp\nall_data3['diff'] = all_data3['order_delivered_customer_date'] - all_data3['order_purchase_timestamp']\nall_data3['diff'].describe()","87f4beb9":"#### Handle missing Value","c2287e4f":"## Data Exploration","c44df2eb":"Langkah-langkah selanjutnya yang akan dilakukan, sebelum melakukan proses analisa adalah\n\n* Gabungkan seluruh dataframe yang diperlukan\n* filter dataframe untuk tahun 2017 ke atas","9ac76d6e":"Setelah data frame untuk analisa sudah selesai dibuat, maka selanjutnya akan dilakukan analisa","c2d5693e":"## 2. Jumlah Penjualan Produk sepanjang tanggal di tahun 2017 \u2013 2018.\u00b6","0bbebd9b":"Berikut merupakan visualisasi penjualan sepanjang tahun 2017 - 2018. Terlihat bahwa penjualan terus mengalami fluktuasi sepanjang tahun 2017 - 2018, dan puncak-puncak penjualan terjadi pada tanggal 24 november 2017, yaitu sebanyak 1353 product berhasil di jual. Selanjutnya pada akhir-akhir tahun 2018 penjualan menurun drastis pada bulan Agustus hingga September.","e1bf5c00":"## Rangkuman\nBerdasarkan data yang telah kita peroleh melalui proses analisa, berikut merupakan rangkuman analisa:\n1. Top 10 product yang paling banyak dibeli oleh pelanggan adalah\n    * bed_bath_table\n    * health_beauty\n    * sports_leisure\n    * furniture_decor\n    * computers_accessories\n    * housewares\n    * watches_gifts\n    * telephony\n    * garden_tools\n    * auto   \n2. Jumlah penjualan terus mengalami fluktuasi sepanjang tahun 2017 - 2018, dan puncak-puncak penjualan terjadi pada tanggal 24 november 2017, yaitu sebanyak 1353 product berhasil di jual. Namun, pada akhir-akhir tahun 2018 penjualan menurun drastis pada bulan Agustus hingga September. Tentunya dalam pemasaran hal ini harus diatasi agar pembelian product pun bisa kembali naik.\n3. Nilai penjualan terus mengalami fluktuasi sepanjang tahun 2017 - 2018, dan puncak-puncak penjualan terjadi pada tanggal 24 november 2017, yaitu sebanyak 1353 product berhasil di jual. Selanjutnya pada akhir-akhir tahun 2018 penjualan menurun drastis pada bulan Agustus hingga September. Hal ini tentunya seusai dengan jumlah penjualan yang terjadi.\n4. * Pertumbuhan transaksi pertahun pada 2018 berhasil naik sekitar 22.9 % dari tahun 2017.\n   * Pertumbuhan pemesanan yang terjadi pada tahun 2018 berhasil naik sekitar 22.3 % dari tahun 2017.\n5. Jumlah customer terbanyak terdapat pada daerah Sau Paulo, disusul dengan Rio de Janeiro hingga parana. Hal ini tentunya dipengaruhi oleh jumlah penduduk daerah tersebut merupakan daerah-daerah yang memang memiliki jumlah kepadatan penduduk yang tinggi. Oleh karena itu, disarankan pemasaran di daerah tersebut lebih dinaikan kembali\n6. Pembayaran paling sering dilakukan oleh metode kartu credit.\n7. Rata - Rata pengiriman barang hingga sampai ke tangan customer adalah 13 - 14 hari","7f101c43":"Pada data frame orders karena missing value terdata pada kolom bertipe waktu, maka kita dapat menggunakan metode ffill() untuk mengisinya","f03b8845":"Berdasarkan hasil deskripsi di atas. Diketahui bahwa meannya bernilai 13 hari. Oleh karena itu, dapat disimpulkan bahwa rata-rata pengiriman barang sampai pada tujuannya dalam jangka waktu 13 hari - 14 hari.","b9305c24":"## 5. State mana yang memiliki seller dan customer paling banyak?","256e04c4":"## 1. Top 10 Kategori Produk dengan Jumlah Penjualan Terbesar pada tahun 2017 - 2018","3cabcd63":"## 3. Nilai Penjualan sepanjang 2017 - 2018","338aec26":"Berdasarkan visualisai di atas tentunya nilai penjualan tertinggi pada tanggal 24 november 2017 dan nilainya pun mengalami fluktuasi sesuai dengan jumlah penjualan yang terjadi.","5e78433e":"Berdasarkan data di atas, berikut insight yang diperoleh:\n\n* Pertumbuhan transaksi pertahun pada 2018 berhasil naik sekitar 22.9 % dari tahun 2017.\n* Pertumbuhan pemesanan yang terjadi pada tahun 2018 berhasil naik sekitar 22.3 % dari tahun 2017.","9ee792f1":"Berikut merupakan hasil visualisasi 10 top product yang paling sering di beli dari data set Brazzilian E-Commerce. Terlihat bahwa product tertinggi yang paling sering dibeli adalah bed_bath_table dengan total jumlah pembelian adalah 11.107 buah. Disarankan agar pihak management Brazillian E-Commerce lebih memfokuskan pemasaran pada product-product tersebut.","6dbea7bf":"## Analysis Brazilian E-Commerce","2d909251":"## 6. Payment value terbesar dengan menggunakan metode apa? Berapa nilainya? ","89cdde0c":"Setelah melakukan handle missing value, dilakukan pengecekan kembali untuk memastikan tidak ada missing value pada data frame di atas. ","aa6f20f2":"Pada data frame reviews, karena nilai missing value terdapat pada kolom review_comment_title dan review_comment_message. Oleh karena itu, missing value dapat diisi dengan nilai \"None\"","af37479a":"Pada data frame products, kita dapat mengisi missing value dengan \"orthers\" untuk kolom product_category_name dan sisanya diisi dengan median dari masing-masing kolom yang mengandung missing value. Nilai median dipilih karena, nilai median cenderung tidak terpaku atau terpengaruhi nilai ekstrim yang ada pada setiap kolom numeric.","2d310be9":"## Kesimpulan\nPertumbuhan transaksi dan jumlah pemesanan yang terjadi pada tahun 2018 tentunya lebih baik dibanding tahun 2017. Namun, jika dilihat dari jumlah penjualan pada tahun 2018, di akhir-akhir bulan mengalami penurunan yang derastis. Oleh karena itu, disarankan agar memasarkan Top 10 product pada wilayah Sau Paulo, Rio De Janeiro, Minas Gerais, Rio Grande do Sul, dan Parana. Selain itu, disarankan agar dapat mempercepat proses pengiriman barang kepada pelanggan. Hal ini bertujuan untuk menaikian jumlah penjualan agar kembali ke ambang batas normal penjualan.","399cbdc7":"## 7. Berapa hari rata \u2013 rata waktu pengiriman barang","f888f191":"## Data Analysis","189a3b67":"## 4. Overall Performance","b2b4082f":"Berdasarkan visualisai di atas. Dapat disimpulkan bahwa jumlah customer terbanyak terdapat pada daerah Sau Paulo, disusul dengan Rio de Janeiro hingga parana. Hal ini tentunya dipengaruhi oleh jumlah penduduk daerah tersebut merupakan daerah-daerah yang memang memiliki jumlah kepadatan penduduk yang tinggi.","662808b0":"## Data Preparation","82e933a8":"Berdasarkan hasil pengecekan missing value di atas, bahwa terdapat missing value pada data frame\/tabel reviews, orders dan products. Langkah selanjutnya kita coba melihat 5 data teratas dari masing-masing tabel yang mengandung missing value.","ff50699e":"Berdasarkan hasil pengecekan di atas. Terbukti bahwa sudah tidak adanya missing value untuk setiap masing-masing kolom. Oleh karena itu kita dapat menganalisa dataframe-dataframe di atas.","e4f0a2d2":"Berdasarkan info di atas terdapat type columns yang tidak sesuai, yaitu pada table orders kolom order_purchase_timestamp, order_approved_at, order_delivered_carrier_date, order_delivered_customer_date, dan order_estimated_delivery_date."}}