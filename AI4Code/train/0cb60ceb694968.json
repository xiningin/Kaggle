{"cell_type":{"4dde767a":"code","99f501bc":"code","6b742bfc":"code","1a7d7d61":"code","695c5d30":"code","c0bf3130":"code","53915db7":"code","31578366":"code","fb1de228":"code","076fc200":"code","504abcac":"code","a5c4a51a":"code","3c4b7d0e":"code","8da83462":"code","debf8ec0":"markdown","0655cfeb":"markdown","8b163575":"markdown","6af22d11":"markdown","7ee5cc04":"markdown","d9047fee":"markdown","3e083a12":"markdown","fd6c6240":"markdown","e4d17d94":"markdown","c3a199b5":"markdown","e97855ea":"markdown","d018aaad":"markdown","8ebd2c6e":"markdown","1fdd75cd":"markdown","695e7b38":"markdown","3463aab4":"markdown","3b1c1369":"markdown","49983898":"markdown","8db50855":"markdown","431b1830":"markdown"},"source":{"4dde767a":"import numpy as np\nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport matplotlib.ticker as tkr \nfrom matplotlib.ticker import StrMethodFormatter\nimport seaborn as sns","99f501bc":"ny = pd.read_csv(\"\/kaggle\/input\/daily-weather-in-berlin-ny-and-sydney-19712020\/ny_daily_weather.csv\")\nberlin = pd.read_csv(\"\/kaggle\/input\/daily-weather-in-berlin-ny-and-sydney-19712020\/berlin_daily_weather.csv\")\nsydney = pd.read_csv(\"\/kaggle\/input\/daily-weather-in-berlin-ny-and-sydney-19712020\/sydney_daily_weather.csv\")\n","6b742bfc":"sydney.head()","1a7d7d61":"sydney.describe()","695c5d30":"sydney['SNWD'] = sydney['SNWD'].fillna(0)\nsydney.describe()","c0bf3130":"berlin.describe()","53915db7":"ny.describe()","31578366":"# Write a function to group the indicators by year:\ndef yearly_indicators(dataframe, indicator):\n    dataframe['YEAR'] = dataframe['DATE'].str[0:4]\n    dataframe['YEAR'] = dataframe['YEAR'].astype(str).astype(int)\n    if indicator != 'TMIN':\n        city_series_yearly = dataframe.groupby(['YEAR'], sort=False)[indicator].max()\n    else:\n        city_series_yearly = dataframe.groupby(['YEAR'], sort=False)[indicator].min()\n    city_df_yearly = pd.DataFrame({'YEAR':city_series_yearly.index, indicator:city_series_yearly.values})\n    return (city_df_yearly)","fb1de228":"# Apply the grouping to all cities and all indicators:\nsydney_prcp = yearly_indicators(sydney, 'PRCP')\nny_prcp = yearly_indicators(ny, 'PRCP')\nberlin_prcp = yearly_indicators(berlin, 'PRCP')\n\nsydney_tmin = yearly_indicators(sydney, 'TMIN')\nny_tmin = yearly_indicators(ny, 'TMIN')\nberlin_tmin = yearly_indicators(berlin, 'TMIN')\n\nsydney_tmax = yearly_indicators(sydney, 'TMAX')\nny_tmax = yearly_indicators(ny, 'TMAX')\nberlin_tmax = yearly_indicators(berlin, 'TMAX')\n\nsydney_snwd = yearly_indicators(sydney, 'SNWD')\nny_snwd = yearly_indicators(ny, 'SNWD')\nberlin_snwd = yearly_indicators(berlin, 'SNWD')\n","076fc200":"# Create a range of years to be plotted\nyears = list(range(1971, 2021, 1))\nx_ticks_list =  list(range(min(years), max(years)+2, 5))","504abcac":"# Max temperature\nplt.figure(figsize=(15,7))\nplt.style.use('seaborn-whitegrid')\n\nsns.regplot(x = sydney_tmax['YEAR'], y = sydney_tmax['TMAX'], \n            data = sydney_tmax, fit_reg=True, label = 'Sydney', color = 'tab:green', truncate=False) \nsns.regplot(x = ny_tmax['YEAR'], y = ny_tmax['TMAX'], \n            data = ny_tmax, fit_reg=True, label = 'New York', color = 'tab:orange', truncate=False)\nsns.regplot(x = berlin_tmax['YEAR'], y = berlin_tmax['TMAX'], \n            data = berlin_tmax, fit_reg=True, label = 'Berlin', color = 'tab:blue', truncate=False)  \n\nplt.xlabel('', fontsize = 15) \nplt.xticks(x_ticks_list, rotation = 45)\nplt.ylabel(\"\u00b0C\", fontsize = 15) \nplt.title(\"Max Temperature\", fontsize = 18)\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.legend(loc=\"upper right\", facecolor = 'white', fontsize=15)\nsns.despine(left=False, bottom=False, right=True, top = True)\n\nplt.tight_layout()\nplt.show()","a5c4a51a":"# Min temperature\nplt.figure(figsize=(15,7))\nplt.style.use('seaborn-whitegrid')\n\nsns.regplot(x = sydney_tmin['YEAR'], y = sydney_tmin['TMIN'], \n            data = sydney_tmin, fit_reg=True, label = 'Sydney', color = 'tab:green', truncate=False) \nsns.regplot(x = ny_tmin['YEAR'], y = ny_tmin['TMIN'], \n            data = ny_tmin, fit_reg=True, label = 'New York', color = 'tab:orange', truncate=False)\nsns.regplot(x = berlin_tmin['YEAR'], y = berlin_tmin['TMIN'], \n            data = berlin_tmin, fit_reg=True, label = 'Berlin', color = 'tab:blue', truncate=False)  \n\nplt.xlabel('', fontsize = 15) \nplt.xticks(x_ticks_list, rotation = 45)\nplt.ylabel(\"\u00b0C\", fontsize = 15) \nplt.title(\"Min Temperature\", fontsize = 18)\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.legend(loc=\"upper right\", facecolor = 'white', fontsize=15)\nsns.despine(left=False, bottom=False, right=True, top = True)\n\nplt.tight_layout()\nplt.show()","3c4b7d0e":"# Precipitation\nplt.figure(figsize=(15,7))\nplt.style.use('seaborn-whitegrid')\n\nsns.regplot(x = sydney_prcp['YEAR'], y = sydney_prcp['PRCP'], \n            data = sydney_prcp, fit_reg=True, label = 'Sydney', color = 'tab:green', truncate=False) \nsns.regplot(x = ny_prcp['YEAR'], y = ny_prcp['PRCP'], \n            data = ny_prcp, fit_reg=True, label = 'New York', color = 'tab:orange', truncate=False)\nsns.regplot(x = berlin_prcp['YEAR'], y = berlin_prcp['PRCP'], \n            data = berlin_prcp, fit_reg=True, label = 'Berlin', color = 'tab:blue', truncate=False)  \n\nplt.xlabel('', fontsize = 15) \nplt.xticks(x_ticks_list, rotation = 45)\nplt.ylabel(\"mm\", fontsize = 15) \nplt.title(\"Precipitation\", fontsize = 18)\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.legend(loc=\"upper right\", facecolor = 'white', fontsize=15)\nsns.despine(left=False, bottom=False, right=True, top = True)\n\nplt.tight_layout()\nplt.show()","8da83462":"# Snow Depth\nplt.figure(figsize=(15,7))\nplt.style.use('seaborn-whitegrid')\n\nsns.regplot(x = sydney_snwd['YEAR'], y = sydney_snwd['SNWD'], \n            data = sydney_snwd, fit_reg=True, label = 'Sydney', color = 'tab:green', truncate=False) \nsns.regplot(x = ny_snwd['YEAR'], y = ny_snwd['SNWD'], \n            data = ny_snwd, fit_reg=True, label = 'New York', color = 'tab:orange', truncate=False)\nsns.regplot(x = berlin_snwd['YEAR'], y = berlin_snwd['SNWD'], \n            data = berlin_snwd, fit_reg=True, label = 'Berlin', color = 'tab:blue', truncate=False)  \n\nplt.xlabel('', fontsize = 15) \nplt.xticks(x_ticks_list, rotation = 45)\nplt.ylabel(\"mm\", fontsize = 15) \nplt.title(\"Snow Depth\", fontsize = 18)\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.legend(loc=\"upper right\", facecolor = 'white', fontsize=15)\nsns.despine(left=False, bottom=False, right=True, top = True)\n\nplt.tight_layout()\nplt.show()","debf8ec0":"Now, I'll read the three weather csv files from the dataset into the dataframes - one for each airport, and, correspondingly, each city.","0655cfeb":"Here, in all three cities a raise in minimum temperature over the years can be noticed. Again, in Sydney an New York it is more noticeable, while in Berlin very slight.","8b163575":"Well, trends for maximum temperature look identically sloped up for Sydney and Berlin, with NY trand demonstrating stability - it is almost parallel to X axis, and even slightly sloping down!","6af22d11":"The data in all three dataframes is structured pretty similarly. \n\nThere is an index column, followed by weather station ID, its name, latitude and longitude and elevation. These columns contain same data in all rows. \n\nFurther on, there are: date, precipitation, snow depth, maximum temperature and minimum temperature.\n\nHere is how it looks for e. g. Sydney:","7ee5cc04":"That's interesting. There seems to be less and less precipitation in Sydney, while New Your trend is almost parallel to X axis, and Berlin trend is slightly sloping up. Remember that New York was showing higher max precipitation values than Berlin?","d9047fee":"The necessary imports go first. Here, I will import **pandas** and **numpy** for some data processing, and **matplotlib** and **seaborn** for creating visuals.","3e083a12":"### Snow Depth Plot","fd6c6240":"### Min Temperature Plot","e4d17d94":"## Introduction\n![zwaddi.jpg](attachment:c333832a-9d29-44b3-b4ea-3580684249c9.jpg)\n\nThis notebook has emerged for two reasons.\n\nFirst, it is a tiny showcase of the [weather dataset](https:\/\/www.kaggle.com\/olgaluzhetska\/daily-weather-in-berlin-ny-and-sydney-19712020) I have collected from NOAA. This dataset contains weather indicators, collected daily in three large world airports - Berlin Schonefeld, New York JFK and Sydney Kingsford Smith - for 50 years, from 1971 to 2020.  \n\nSecond, as I started investigating **Seaborn** lib, I have created a few simple visuals which illustrate the global warming... wait, do they? Let us check together!\n","c3a199b5":"## Conclusion\n\nOf all the cities, New York demonstrates most interesting trends. Snow depth is rising, precipitation level is rising, minimum temperature is rising as well, while maximum temperature is going down. Here is something to investigate further!\n\nHowever, Sydney and Berlin seem to fall into the global warming concept - temperatures are rising here slowly, but steadily.\n\n\nThanks for checking the weather trends with me! And remember, come rain or shine - Kaggle is fun!\n\n\n![wim-van-t-einde-uj7eb7CgqRk-unsplash.jpg](attachment:76cee99f-9119-4725-a27d-48952ed761a1.jpg)\n","e97855ea":"Note that SNWD, or snow depth, for Sydney is NaN in the first few rows. That is pretty logical - snowflakes are noticed there once in a decade! Let us verify this:","d018aaad":"### Max Temperature Plot","8ebd2c6e":"### Precipitation Plot","1fdd75cd":"Let us check other dataframes for missing values, and who know, maybe there is something interesting right on the surface?","695e7b38":"So, there are indeed only 5 days in 50 years, when there was some amount of snow noticed on the ground!\nWe'll replace all the NaN values with zero for consistency.","3463aab4":"And we see that New York is getting more and more chances for White Christmas, while the trend for Berlin is sloping down.","3b1c1369":"No more missing values spotted! And here are the first **observations**:\n\n* New York and Sydney both have similar precipitation mean (~3 mm), while Berlin has a mean two times lower (1.4 mm). It will be interesting to check this on time scale.\n* Also, Sydney has the highest precipitation maximum - 216 mm. New York is close with 198 mm, and Berlin does not tend to have that much rain - here, it has been only up to 128 mm.\n* As of snow depth, we've already learned that it barely snows in Sydney - top value here is 51 mm of snow on the ground. New York, however, had a maximum of 711 mm snow depth, and Berlin of 420 mm - also enough the keep the front door blocked from being opened.\n* Maximum temperature in Sydney reaches 46 degrees Celcius, while in Berlin and New York it is a bit lower and reaches 38.4 and 39.4 degrees correspondingly.\n* In Sydney, there was not a single frosty day during the last 50 years, while in Berlin it was as chilly as -25 and in New York up to -18.\n\nSo, New York seems to have more extreme snow and rain conditions, Sydney can be outstandingly hot, and Berlin - surprisingly chilly!\n\nAnd now, it is time to look at the weather trends.","49983898":"## References\nPhoto by <a href=\"https:\/\/unsplash.com\/@zwaddi?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Zwaddi<\/a> on <a href=\"https:\/\/unsplash.com\/s\/photos\/sunshine?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash<\/a>\n\nPhoto by <a href=\"https:\/\/unsplash.com\/@wimvanteinde?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Wim van 't Einde<\/a> on <a href=\"https:\/\/unsplash.com\/s\/photos\/weather?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\">Unsplash<\/a>\n  \n  ","8db50855":"## Plotting the weather trends\n\nI will use [seaborn.regplot](https:\/\/seaborn.pydata.org\/generated\/seaborn.regplot.html) functionality to build the indicator trends. For each of four indicators, a separate plot will be displayed, where trend lines for all three airports will be drawn with different colors. This will allow us to compare the lines, values and slopes.\n\nAlso, I will limit the amount of data we have. For each of 50 years, I will take 1 value for each indicator. For precipitation, snow depth and maximum temperature, this will be the maximum value, while for minimum temperature - the minimum one.\n\nThe next few lines of code demonstrate exactly this.","431b1830":"## Data investigation"}}