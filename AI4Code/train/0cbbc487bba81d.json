{"cell_type":{"0ce41a20":"code","a6e13f15":"code","4a21b0c9":"code","dd217723":"code","70ce9757":"code","d556704c":"code","7ab3d98c":"code","5ffc6f79":"code","84677ad3":"code","a04afe9e":"code","d9b22138":"code","53426e2a":"code","c8bbf81b":"code","220b7b9f":"code","5f591dd5":"code","2b30e441":"code","cf0deefd":"code","7ff9cc91":"code","c325b2d8":"code","c97e4fac":"code","33b41bbb":"code","22c65318":"code","a4104a85":"code","21cfee10":"code","bcde6d69":"code","fdbd3629":"code","84ebb3fc":"code","d9c72884":"code","0d12fa29":"code","051ebaca":"code","a3e75d3f":"code","cb54dcfc":"code","81c6fafd":"code","b13a79b6":"code","f6e70b8e":"code","06fea146":"code","defbcd0f":"code","a1b5cd1f":"code","33547363":"code","62cddc8c":"code","cf329e7c":"code","eed6a9a7":"code","b0314397":"markdown","5088ece4":"markdown","f5a1691d":"markdown","e8109743":"markdown"},"source":{"0ce41a20":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","a6e13f15":"input_data=pd.read_csv('..\/input\/nykaacosmeticsproductsreview2021\/Nykaa_Product_Review.csv')\ninput_data.head()","4a21b0c9":"# Dropping all product ID cols that included a link. This caused column shifting which caused string values to exist in product price and product ID.\ninput_data.drop(\n    input_data.index[\n        input_data['Product Id'].astype(str).str.startswith('https')\n    ], \n    inplace = True)","dd217723":"useful_features=input_data[['Product Brand', 'Product Category','Product Description', 'Product Price', 'Product Reviews Count', 'Product Rating']]\nuseful_features.dropna(inplace=True)\nuseful_features.head(10)","70ce9757":"# Finding the details about data\nuseful_features.describe()","d556704c":"# Finding the datatype of each column fields\nuseful_features.info()","7ab3d98c":"# Convert the Product Price, Reviews count and Rating in float\n# useful_features.astype({'Product Price':'float64','Product Rating':'float64'})\nuseful_features['Product Price']= useful_features['Product Price'].astype('float64')\nuseful_features['Product Rating']= useful_features['Product Rating'].astype('float64')","5ffc6f79":"useful_features.dtypes","84677ad3":"## Visuals\n# Comparing Product and vs Price\nsns.scatterplot(x='Product Rating', y='Product Price', data=useful_features)","a04afe9e":"sns.stripplot(data=useful_features)","d9b22138":"## Finding product category by one hot encoding\n#df=useful_features\n#df=pd.concat([df,pd.get_dummies(useful_features['Product Brand'])], axis=1)\n#df.head()","53426e2a":"useful_features['Product Brand']","c8bbf81b":"# Finding number of products of each brand\nbrands=[]\nfor brand in useful_features['Product Brand']:\n    brands.append(brand)\n    \nfrom collections import Counter\nc = Counter(brands)\npb=[];qty=[]\nfor k in c:\n    # print(k, c.get(k))\n    pb.append(k)\n    qty.append(c.get(k))","220b7b9f":"df=pd.DataFrame(\n{\"Product Brand\":pb,\n \"Qty\":qty\n})","5f591dd5":"# Sorting by most popular brands\ndf.sort_values(by='Qty', ascending=False, inplace=True)","2b30e441":"new_df=df[0:10]\nnew_df","cf0deefd":"sns.set(rc = {'figure.figsize':(11,8)}) # Controlling the size of plot\nax=sns.pointplot(data=new_df, y='Product Brand', x='Qty')\nax.set_title ('Top 10 brands') ","7ff9cc91":"sns.set(rc = {'figure.figsize':(11,8)}) # Controlling the size of plot\nax=sns.barplot(data=new_df, y='Product Brand', x='Qty')\nax.set_title ('Top 10 brands') ","c325b2d8":"df1=useful_features[['Product Brand','Product Price','Product Rating']]","c97e4fac":"# Finding the most costliest brands\ndf1.sort_values (by=\"Product Price\", ascending = False,inplace=True)\nprint(df1)","33b41bbb":"new_df=df1[:20]\nnew_df","22c65318":"# Remove duplicate products having same brand\ndf_no_duplicates=new_df.drop_duplicates(subset=['Product Brand']) \ndf_no_duplicates","a4104a85":"## Ordering by price\nsns.set(rc = {'figure.figsize':(20,10)})\nax=sns.barplot(data=df_no_duplicates, x='Product Brand',y='Product Price')\nax.set_title(\"Most costliest brands\")","21cfee10":"## Ordering by price\nsns.set(rc = {'figure.figsize':(20,8)})\nax=sns.pointplot(data=df_no_duplicates, x='Product Brand',y='Product Price')\nax.set_title(\"Most costliest brands\")","bcde6d69":"df_rating=df1.sort_values(by=['Product Rating','Product Price'], ascending=False)\ndf_rating","fdbd3629":"# Finding number of 5 star ratings\nfive_star=four_star= three_star= two_star= one_star=zero_star=c=0\nfor row in df_rating.iterrows():\n    c+=1\n    if (row[1][2]==5.0):\n        five_star+=1\n    if (row[1][2]>=4.0 and row[1][2]<5.0):\n        four_star+=1\n    if (row[1][2]>=3.0 and row[1][2]<4.0):\n        three_star+=1\n    if (row[1][2]>=2.0 and row[1][2]<3.0):\n        two_star+=1\n    if (row[1][2]>=1.0 and row[1][2]<2.0):\n        one_star+=1\n        \nprint(\"No.of 5 star ratings:\",five_star)\nprint(\"No.of 4 star ratings:\",four_star)\nprint(\"No.of 3 star ratings:\",three_star)\nprint(\"No.of 2 star ratings:\",two_star)\nprint(\"No.of 1 star ratings:\",one_star)\n        \nprint(\"Total ratings\",c)","84ebb3fc":"star_ratings_df=pd.DataFrame({\n    'Stars':['Five Stars','Four Stars','Three Stars','Two Stars','One Stars'],\n    'Count':[five_star, four_star, three_star, two_star, one_star]\n})\nstar_ratings_df","d9c72884":"sns.set(rc = {'figure.figsize':(7,7)})\nsns.barplot(data=star_ratings_df, x='Stars',y='Count')","0d12fa29":"df=useful_features[['Product Category','Product Price']]\ndf","051ebaca":"itm=df['Product Category'][0]\nword_arr=itm.split(\" \")\nprint(word_arr)\nprint(word_arr[-1])","a3e75d3f":"items=[]\nfor row in df.iterrows():\n    word_arr=(row[1][0]).split(\" \")\n    itm_name=word_arr[-1]\n    itm_category=word_arr[-3]\n    # print(itm_name)\n    items.append(itm_name)\n\n\ndf_items=pd.DataFrame({\n    'Item':items,\n})\ndf_items","cb54dcfc":"df_items['Product Price']=df['Product Price']\ndf_items","81c6fafd":"sns.set(rc={'figure.figsize':(8,8)})\ndf_items=df_items.sort_values(by='Product Price', ascending=False)\nprint(df_items)\nax=sns.barplot(data=df_items[0:10], x='Product Price',y='Item')\nax.set_title('Listing product categories by Price ')","b13a79b6":"items=[]\nitem_numbers=[]\nfrom collections import Counter\nc = Counter(df_items['Item'])\nfor val in c:\n    # print (val, c.get(val))\n    items.append(val)\n    item_numbers.append(c.get(val))\n\ndf_itm_cat=pd.DataFrame({\n    'Items':items,\n    'Qty':item_numbers\n})\ndf_itm_cat=df_itm_cat.sort_values(by='Qty', ascending=False)\ndf_itm_cat","f6e70b8e":"sns.set(rc={'figure.figsize':(20,15)})\n# sns.set_theme(style=\"white\", palette='Wistia')\nsns.barplot(data=df_itm_cat[:25], x='Qty',y='Items')","06fea146":"df_product_and_reviews=useful_features[['Product Brand', 'Product Reviews Count']]\ndf_product_and_reviews.sort_values(by='Product Reviews Count',ascending=False, inplace=True)\ndf_product_and_reviews.drop_duplicates(subset=['Product Brand'], inplace=True)","defbcd0f":"sns.set(rc={'figure.figsize':(24,10)})\nax=sns.pointplot(data=df_product_and_reviews[:15], x='Product Brand',y='Product Reviews Count')\nax.set_title('Top reviewed product')","a1b5cd1f":"df=input_data[['Product Contents', 'Product Price', 'Product Brand']]\ndf.dropna(inplace=True)\n","33547363":"df","62cddc8c":"wlist=[]\nfor row in df.itertuples():\n    words=row[1].split(\",\")\n    wlist.append(words)\n\nmlist=[]\nfor w in wlist:\n    for item in w:\n        mlist.append(item)\n        ","cf329e7c":"\nfrom collections import Counter\nc=Counter(mlist)\ncomp=[];qty=[]\nfor k in c:\n    comp.append(k)\n    qty.append(c.get(k))\ndf_pcontent=pd.DataFrame({\n    'Component':comp,\n    'Qty':qty\n})\n# df_pcontent['Product Brand']=df['Product Brand']\ndf_pcontent.sort_values(by='Qty',ascending=False,inplace=True)\ndf_pcontent","eed6a9a7":"sns.set(rc={'figure.figsize':(30,10)})\nax=sns.barplot(data=df_pcontent[:15], x='Component',y='Qty')\nax.set_title('Highest available component in products')","b0314397":"## Visualising brands with maximum reviews","5088ece4":"## Finding the most costliest brands","f5a1691d":"## Star rating in each category","e8109743":"## Visualising top reviewed brands"}}