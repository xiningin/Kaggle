{"cell_type":{"8e1b6688":"code","f6d3ece0":"code","a20c31c6":"code","515a46b6":"code","3ed29e54":"code","3079fa22":"code","07291d04":"code","7c9d3a19":"code","79f1fad2":"code","79433036":"code","8846d20c":"code","fb75366a":"code","b572fd4f":"code","fb8673d5":"code","f9cf18dc":"code","93ab35cd":"code","512c9283":"code","c7a47dac":"code","bceb9867":"code","d865347d":"code","15473982":"code","33d37912":"code","60ab7353":"code","81892af9":"code","928225a1":"code","6e442cf7":"code","d34a5374":"code","18f8098a":"code","6612a32c":"code","5047d944":"code","421cb304":"code","d6117fb6":"code","197599a6":"code","0ef4247f":"code","d42b5cbe":"code","bff640e0":"code","b1ac404d":"code","f9b0e701":"code","a36557ce":"code","314f3b12":"code","e02356cf":"code","723dba51":"code","e8443130":"code","bb9219a4":"code","9e629e62":"code","c2c8261a":"code","d8a06606":"code","daf8cbae":"code","ae763ef4":"code","29b82ec8":"code","07c4723b":"code","d321c23e":"code","b35a20c0":"code","fd32d233":"code","77821d40":"code","94349891":"code","28850584":"code","6ca23331":"code","21f0200e":"code","25ad03bd":"code","53a8d03b":"code","80dde638":"code","4e9948ba":"code","0c2daeea":"code","55be6d68":"code","ce7a0dbb":"code","edc91d2e":"code","e013e2c8":"code","55b6740b":"code","2ba483c3":"code","f7be5778":"code","f6d47cbc":"code","0372d566":"code","c9a2c10f":"code","49205cb9":"code","f21f7c6f":"code","2bd50478":"code","87ff8732":"code","42b78d11":"code","cf1d39b4":"code","ac167ce0":"code","ea8c34cf":"code","657a6e00":"code","f6171e14":"code","dc15403d":"code","5dd1284a":"code","80609b22":"code","49157e9d":"code","fba67056":"code","99424056":"code","41b5a415":"markdown","8de56f7c":"markdown","1183364e":"markdown","6b122156":"markdown","2fef84e6":"markdown","ec5d2cb8":"markdown","d3a8046f":"markdown","965c3805":"markdown","7691cf28":"markdown","bb2c6c89":"markdown","a8ae9778":"markdown","9b47390f":"markdown","a9e8a1f4":"markdown","ef9116aa":"markdown","e0c44d4c":"markdown","fc2fe423":"markdown","acde811e":"markdown","bb8167f6":"markdown","60c5ab27":"markdown","0f85f35e":"markdown","e2393614":"markdown","5b9ddfd9":"markdown","e0ce3dbe":"markdown","5fcbb5a6":"markdown","ba20ddae":"markdown","be24483e":"markdown","b54fba84":"markdown","e01d3c2e":"markdown","b75210a7":"markdown","2ee4c86b":"markdown","f195912c":"markdown","f98ab562":"markdown","6f20a610":"markdown","f4c9d212":"markdown","60751e17":"markdown","9362dbfc":"markdown","21c35333":"markdown","20931b8a":"markdown","cc0d9f36":"markdown","7783c665":"markdown","3d5af94f":"markdown","c9ca738a":"markdown","5c1c0099":"markdown","0483ba38":"markdown","3ec64817":"markdown","2500cfdf":"markdown","9591d021":"markdown","273b7086":"markdown","6d2fefaa":"markdown","a122434f":"markdown","de304ae1":"markdown","3c954c7a":"markdown","7b916026":"markdown","fd56bdb0":"markdown","a89667c8":"markdown","ef4bb2f2":"markdown","b71034fb":"markdown","8e8fc4cf":"markdown","ec6e60dd":"markdown","6ed7a73e":"markdown","0af1152c":"markdown","cdf7b74f":"markdown","78ce19b3":"markdown","a928f992":"markdown","8c1f7194":"markdown","5ed4cc00":"markdown","cfad9a8b":"markdown","8130b1bf":"markdown","bc558d15":"markdown","83d1a9bc":"markdown","89435fae":"markdown","2a9d3167":"markdown","4b38d482":"markdown","ab64a523":"markdown","8f1489f5":"markdown","50dc5aea":"markdown","2349fa54":"markdown","302914c6":"markdown","e3193319":"markdown","2e0dc932":"markdown","0aeec274":"markdown","5717a2b7":"markdown","ebe9c912":"markdown","2e2e2440":"markdown","a0480761":"markdown","53e4fad6":"markdown","6b61eb92":"markdown","52d3ad6a":"markdown","da2c61ec":"markdown","6ac5e19c":"markdown","8e743602":"markdown","cc78fa73":"markdown","87895bdb":"markdown"},"source":{"8e1b6688":"# Supress Warnings\n\nimport warnings\nwarnings.filterwarnings('ignore')","f6d3ece0":"# import all libraries and dependencies for dataframe\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom datetime import datetime, timedelta\n\n\n# import all libraries and dependencies for data visualization\npd.options.display.float_format='{:.4f}'.format\nplt.rcParams['figure.figsize'] = [8,8]\npd.set_option('display.max_columns', 500)\npd.set_option('display.max_colwidth', -1) \nsns.set(style='darkgrid')\nimport matplotlib.ticker as plticker\n%matplotlib inline\n\n# import all libraries and dependencies for machine learning\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.decomposition import PCA\nfrom sklearn.decomposition import IncrementalPCA\nfrom sklearn.neighbors import NearestNeighbors\nfrom random import sample\nfrom numpy.random import uniform\nfrom math import isnan\n\n# import all libraries and dependencies for clustering\nfrom sklearn.metrics import silhouette_score\nfrom sklearn.cluster import KMeans\nfrom scipy.cluster.hierarchy import linkage\nfrom scipy.cluster.hierarchy import dendrogram\nfrom scipy.cluster.hierarchy import cut_tree\n\n","a20c31c6":"# Read the given CSV file, and view some sample records\ndf= pd.read_csv('..\/input\/pca-kmeans-hierarchical-clustering\/Country-data.csv')\ndf.head()","515a46b6":"# Reading the data dictionary file\n\ndata_dict = pd.read_csv('..\/input\/pca-kmeans-hierarchical-clustering\/data-dictionary.csv')\ndata_dict.head(10)","3ed29e54":"#Determine the number of rows and columns\ndf.shape","3079fa22":"#Checking the datatypes\ndf.info()","07291d04":"#summary of all the numeric columns in the dataset\ndf.describe()","7c9d3a19":"print('Total missing values in the data')\nprint('-'*50)\nprint(df.isnull().sum())\n","79f1fad2":"# Converting exports,imports and health spending percentages to absolute values.\n\ndf['exports'] =df['exports'] * df['gdpp']\/100\ndf['imports'] = df['imports'] * df['gdpp']\/100\ndf['health'] = df['health'] * df['gdpp']\/100","79433036":"df.head()","8846d20c":"# Heatmap to understand the attributes dependency\n\nplt.figure(figsize = (15,10))        \nsns.heatmap(df.corr(),annot = True,cmap='RdYlGn')\n\nplt.show()","fb75366a":"plt.figure(figsize=(14, 6))\n\nplt.subplot(1, 2, 1)\nsns.scatterplot(x='income',y='child_mort', data=df)\nplt.title('Income vs Child mortality',fontweight=\"bold\", size=20)\n\nplt.subplot(1, 2, 2)\nsns.scatterplot(x='income',y='child_mort',hue='total_fer', data=df, palette='gist_rainbow')\nplt.title('Income vs Child mortality & total Fertility',fontweight=\"bold\", size=20)\nplt.subplots_adjust(right=1.2)\nplt.show()","b572fd4f":"sns.pairplot(df, vars=[\"child_mort\", 'total_fer','gdpp','life_expec','income', 'imports', 'exports'], kind='scatter')\nplt.show()","fb8673d5":"Country= df.groupby('country').child_mort.sum().sort_values(ascending=False)\nCountry=pd.DataFrame(Country)\nCountry1=Country.head()\nCountry2=Country.tail()\ndisplay(Country1.head())  \nprint('*'*50)\ndisplay(Country2.tail())\n","f9cf18dc":"plt.figure(figsize=(20, 6))\nplt.subplot(1,2,1)\nsns.barplot(Country1.index, Country1.child_mort, palette='husl')\nplt.title('Countries having high child mortality ',fontweight=\"bold\", size=20)\nplt.subplot(1,2,2)\nsns.barplot(Country2.index, Country2.child_mort, palette='cool')\nplt.title('Countries having low  Child Mortality',fontweight=\"bold\", size=20)\nplt.show()","93ab35cd":"Income= df.groupby('country').income.sum().sort_values(ascending=False)\nIncome=pd.DataFrame(Income)\nIncome1=Income.head()\nIncome2=Income.tail()\ndisplay(Income1)\nprint('*'* 50)\ndisplay(Income2)","512c9283":"plt.figure(figsize=(20, 6))\nplt.subplot(1,2,1)\nsns.barplot(Income1.index, Income1.income, palette='cool')\nplt.title('Countries with high Income',fontweight=\"bold\", size=20)\nplt.subplot(1,2,2)\nsns.barplot(Income2.index, Income2.income, palette='magma')\nplt.title('Countries with low Income',fontweight=\"bold\", size=20)\nplt.show()","c7a47dac":"GDP= df.groupby('country').gdpp.sum().sort_values(ascending=False)\nGDP=pd.DataFrame(GDP)\nGDP1=GDP.head()\nGDP2=GDP.tail()\ndisplay(GDP1)\nprint('*'* 50)\ndisplay(GDP2)","bceb9867":"plt.figure(figsize=(20, 6))\nplt.subplot(1,2,1)\nsns.barplot(GDP1.index, GDP1.gdpp, palette='rocket')\nplt.title('Countries with high GDP',fontweight=\"bold\", size=20)\nplt.subplot(1,2,2)\nsns.barplot(GDP2.index, GDP2.gdpp, palette='rocket_r')\nplt.title('Countries with low GDP',fontweight=\"bold\", size=20)\nplt.show()","d865347d":"plt.figure(figsize=(8, 6))\nImports=df.groupby('country').imports.sum().sort_values(ascending=False)\nImports= pd.DataFrame(Imports)\nImports1=Imports.head()\nsns.barplot(Imports1.index,Imports1.imports, palette='twilight')\nplt.title('Countries with high imports of goods and services',fontweight=\"bold\", size=20)\nplt.show()\ndisplay(Imports1)\nImports2=Imports.tail(2)\ndisplay(Imports2)\n","15473982":"Life_Ex= df.sort_values(by=['life_expec'],ascending=True)\nLife_Ex.head()\n","33d37912":"Life_ex=df.sort_values(by=['life_expec'],ascending=False)\ndisplay(Life_ex[0:5])","60ab7353":"Exports=df.sort_values(by=['exports'], ascending= False)\ndisplay(Exports[0:5])","81892af9":"Export=df.sort_values(by=['exports'], ascending= True)\ndisplay(Export[0:5])","928225a1":"plt.figure(figsize=(8, 5))\ndf.groupby('country').exports.sum().sort_values(ascending=False).head().plot.bar(color='salmon',hatch=\"\/\/\",edgecolor='k')\nplt.ylabel('Exports')\nplt.title('Countries with more Exports',fontweight=\"bold\", size=20)\nplt.show()\n","6e442cf7":"Health=df.sort_values(by=['health'], ascending= True)\nHealth[0:5]","d34a5374":"Health1=df.sort_values(by=['health'], ascending= False)\nHealth1[0:5]","18f8098a":"plt.figure(figsize=(15, 6))\nHe=df.groupby('country').health.sum().sort_values(ascending= False)\nplt.subplot(1,2,1)\nHe1=He.head(10).plot.bar(color='mediumorchid',hatch=\".\")\nplt.title('Countries with high total health spending',fontweight=\"bold\", size=20)\nplt.xticks(rotation = 45,fontweight=\"bold\")\nplt.subplot(1,2,2)\nHe2=He.tail(10).plot.bar(color= 'skyblue',hatch='.')\nplt.title('Countries with low total health spending',fontweight=\"bold\", size=20)\nplt.xticks(rotation = 45,fontweight=\"bold\")\nplt.show()\n\n","6612a32c":"Fertility=df.sort_values(by=['total_fer'], ascending= True).head()\nFertility","5047d944":"Fertility1=df.sort_values(by=['total_fer'], ascending=False).head()\nFertility1","421cb304":"df.total_fer.max()","d6117fb6":"df.life_expec.max()","197599a6":"plt.figure(figsize=(20, 6))\nFe=df.groupby('country').total_fer.sum().sort_values(ascending= False)\nplt.subplot(1,2,1)\nFe1=Fe.head(6).plot.bar(color='mediumseagreen',hatch=\"\/\")\nplt.title('Countries with high total Fertility',fontweight=\"bold\", size=20)\nplt.xticks(rotation = 45,fontweight=\"bold\")\nplt.subplot(1,2,2)\nFe2=Fe.tail(6).plot.bar(color= 'orchid',hatch='.')\nplt.title('Countries with low total Fertility',fontweight=\"bold\", size=20)\nplt.xticks(rotation = 45,fontweight=\"bold\")\nplt.show()\n\n","0ef4247f":"In=df.sort_values(by=['inflation'], ascending=False).head()\nIn","d42b5cbe":"In=df.sort_values(by=['inflation'], ascending=True).head()\nIn","bff640e0":"plt.figure(figsize = (20,16))\nfeature = df.columns[1:]\nfor i in enumerate(feature):\n    plt.subplot(3,3, i[0]+1)\n    sns.distplot(df[i[1]], color='crimson')\n    plt.subplots_adjust(right=1.1)\n    plt.subplots_adjust(top=1.1)","b1ac404d":"plt.figure(figsize = (20,14))\nfeature = df.columns[1:]\nfor i in enumerate(feature):\n    plt.subplot(3,3, i[0]+1)\n    sns.boxplot(df[i[1]],palette='winter')","f9b0e701":"#outliers before treatment\ndf.describe()","a36557ce":"#Capping\nq2 = df['imports'].quantile(0.99)\nq3 = df['health'].quantile(0.99)\nq4 = df['income'].quantile(0.99)\nq5 = df['inflation'].quantile(0.99)\nq6 = df['life_expec'].quantile(0.99)\nq7 = df['total_fer'].quantile(0.99)\nq8 = df['gdpp'].quantile(0.99)\n\ndf['imports'][df['imports']>= q2] = q2\ndf['health'][df['health']>= q3] = q3\ndf['income'][df['income']>= q4] = q4\ndf['inflation'][df['inflation']>= q5] = q5\ndf['life_expec'][df['life_expec']>= q6] = q6\ndf['total_fer'][df['total_fer']>= q7] = q7\ndf['gdpp'][df['gdpp']>= q8] = q8\n","314f3b12":"#Outliers after treatment\ndf.describe()","e02356cf":"# Check the hopkins\n\n#Calculating the Hopkins statistic\nfrom sklearn.neighbors import NearestNeighbors\nfrom random import sample\nfrom numpy.random import uniform\nimport numpy as np\nfrom math import isnan\n \ndef hopkins(X):\n    d = X.shape[1]\n    #d = len(vars) # columns\n    n = len(X) # rows\n    m = int(0.1 * n) \n    nbrs = NearestNeighbors(n_neighbors=1).fit(X.values)\n \n    rand_X = sample(range(0, n, 1), m)\n \n    ujd = []\n    wjd = []\n    for j in range(0, m):\n        u_dist, _ = nbrs.kneighbors(uniform(np.amin(X,axis=0),np.amax(X,axis=0),d).reshape(1, -1), 2, return_distance=True)\n        ujd.append(u_dist[0][1])\n        w_dist, _ = nbrs.kneighbors(X.iloc[rand_X[j]].values.reshape(1, -1), 2, return_distance=True)\n        wjd.append(w_dist[0][1])\n \n    H = sum(ujd) \/ (sum(ujd) + sum(wjd))\n    if isnan(H):\n        print(ujd, wjd)\n        H = 0\n \n    return H","723dba51":"df.head()","e8443130":"hopkins(df.drop('country', axis = 1))","bb9219a4":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\ndf1 = scaler.fit_transform(df.drop('country', axis = 1))\ndf1","9e629e62":"df1 = pd.DataFrame(df1, columns = df.columns[1:])\ndf1.head()","c2c8261a":"# Choose the value of K\n# Silhouette score\n# Elbow curve-ssd\n\nfrom sklearn.metrics import silhouette_score\nss = []\nfor k in range(2, 11):\n    kmean = KMeans(n_clusters = k).fit(df1)\n    ss.append([k, silhouette_score(df1, kmean.labels_)])\ntemp = pd.DataFrame(ss)    \nplt.plot(temp[0], temp[1])\n\nplt.show()","d8a06606":"ssd = []\nfor k in range(2, 11):\n    kmean = KMeans(n_clusters = k).fit(df1)\n    ssd.append([k, kmean.inertia_])\n    \ntemp = pd.DataFrame(ssd)\nplt.plot(temp[0], temp[1])\nplt.show()","daf8cbae":"# K=3\n# Final Kmean Clustering\n\nkmean = KMeans(n_clusters = 3, random_state = 50)\nkmean.fit(df1)","ae763ef4":"df_kmean = df.copy()","29b82ec8":"label  = pd.DataFrame(kmean.labels_, columns= ['label'])\nlabel.head()","07c4723b":"df_kmean = pd.concat([df_kmean, label], axis =1)\ndf_kmean.head()","d321c23e":"df_kmean.label.value_counts()","b35a20c0":"# Plot the cluster\nplt.figure(figsize = (10,6))\nsns.scatterplot(x = 'child_mort', y = 'income', hue = 'label', data = df_kmean, palette = 'Set1')\nplt.title('Child mortality vs income clusters',fontweight=\"bold\", size=20)\n\nplt.show()","fd32d233":"# Plot the cluster\nplt.figure(figsize = (10,6))\nsns.scatterplot(x = 'income', y = 'gdpp', hue = 'label', data = df_kmean, palette = 'gist_rainbow_r')\nplt.title('Income vs GDP clusters',fontweight=\"bold\", size=20)\nplt.show()","77821d40":"# Plot the cluster|\nplt.figure(figsize = (10,6))\nsns.scatterplot(x = 'child_mort', y = 'gdpp', hue = 'label', data = df_kmean, palette = 'deep')\nplt.title('Child mortality vs GDP clusters',fontweight=\"bold\", size=20 )\nplt.show()","94349891":"# Making sense out of the clsuters by finding the mean\ndf2=df_kmean.drop('country', axis = 1).groupby('label').mean()\ndf2","28850584":"df_kmean.drop('country', axis = 1).groupby('label').mean().plot.bar(figsize=(15,6))\nplt.ylim([0,40000])\nplt.title(\"Clusters vs all variables\",fontweight=\"bold\", size=20)\n\nplt.show()","6ca23331":"df_kmean.columns","21f0200e":"df_kmean.drop(['country', 'exports', 'health', 'imports','child_mort',\n       'inflation', 'life_expec', 'total_fer'],axis = 1).groupby('label').mean().plot.bar(figsize=(15,6))\nplt.title('Clusters of income & GDP',fontweight=\"bold\", size=20)\nplt.xticks(fontweight='bold')\nplt.show()","25ad03bd":"df_kmean.drop(['country', 'exports', 'health', 'imports','income', 'gdpp',\n       'inflation', 'life_expec', 'total_fer'],axis = 1).groupby('label').mean().plot.bar(figsize=(15,6),color='violet',hatch=\"\/\/\")\nplt.title('Clusters of Child mortality', fontweight=\"bold\", size=20)\nplt.xticks(fontweight='bold')\nplt.show()","53a8d03b":"Kmean=df_kmean[df_kmean['label'] == 2]\nKmean.head()","80dde638":"K=Kmean[['country']]\nK= K.reset_index(drop=True)\nK","4e9948ba":"#Sorting based on high child mortality,low income and GDP\nfinal=df_kmean[df_kmean['label'] == 2].sort_values(by = ['child_mort','income', 'gdpp'], ascending = [False, True, True])\nfinal.head(10)","0c2daeea":"print(\"Top 10 countries which are in direst need of aid\" )\nf=final[['country']].head(10)\ndf_r = f.reset_index(drop=True)\ndf_r","55be6d68":"df1.head()","ce7a0dbb":"\nplt.figure(figsize = (20,8))\nmergings = linkage(df1, method=\"single\", metric='euclidean')\ndendrogram(mergings)\nplt.show()","edc91d2e":"# complete linkage\nplt.figure(figsize = (20,8))\nmergings = linkage(df1, method=\"complete\", metric='euclidean')\ndendrogram(mergings)\nplt.show()","e013e2c8":"# 3 clusters\ncluster_labels = cut_tree(mergings, n_clusters=3).reshape(-1, )\ncluster_labels","55b6740b":"# assign cluster labels\ndf['cluster_labels'] = cluster_labels\ndf.head()","2ba483c3":"df.cluster_labels.value_counts()","f7be5778":"fig, axes = plt.subplots(1,3, figsize=(20,6))\nplt.subplot(1,3,1)\nsns.scatterplot(x='child_mort', y='income', hue='cluster_labels',data=df, palette='Set1')\nplt.title('Clusters of Child mortality and income')\nplt.subplot(1,3,2)\nsns.scatterplot(x='child_mort', y='gdpp', hue='cluster_labels',data=df, palette='Set1')\nplt.title('Clusters of child mortality and GDP')\nplt.subplot(1,3,3)\nsns.scatterplot(x='gdpp', y='income', hue='cluster_labels',data=df,palette='gist_rainbow')\nplt.title('Clusters of income and GDP')\nplt.show()","f6d47cbc":"# plots\nplt.figure(figsize = (10,6))\nsns.barplot(x='cluster_labels', y='child_mort', data=df,palette='rocket')\nplt.title('Cluster labels vs child mortality',fontweight=\"bold\", size=20)\n\nplt.show()","0372d566":"plt.figure(figsize = (10,6))\nsns.barplot(x='cluster_labels', y='income', data=df, palette='cool')\nplt.title('Cluster labels vs Income',fontweight=\"bold\", size=20)\n\nplt.show()\n","c9a2c10f":"# plots\nplt.figure(figsize = (10,6))\nsns.barplot(x='cluster_labels', y='gdpp', data=df, palette='magma')\nplt.title('Cluster labels vs GDP',fontweight=\"bold\", size=20)\n\nplt.show()\n","49205cb9":"df[df['cluster_labels'] == 0].head()","f21f7c6f":"df1=df[df['cluster_labels'] == 0].sort_values(by = ['child_mort','income', 'gdpp'], ascending = [False,True, True])\ndf1.head(10)","2bd50478":"print(\"5 countries which are in direst need of aid based on hierarchical clustering\" )\nfinal_hier=df1[['country']].head()\nhier= final_hier.reset_index(drop=True)\nhier\n","87ff8732":"Kmean.head()","42b78d11":"Kmean=Kmean.sort_values(by=['child_mort','income','gdpp'], ascending=[False,True,True])\nKmean.head()                                                                ","cf1d39b4":"print('10 Countries based on high child mortality, low income and low GDP')\nKmean[['country']].head(10)","ac167ce0":"Kmean.describe()","ea8c34cf":"df_final_list = Kmean[Kmean['child_mort']>91]\ndf_final_list.shape","657a6e00":"# Let's check the demographic of the resultant data again\n\ndf_final_list.describe()","f6171e14":"df_final_list1 = df_final_list[df_final_list['income']<3639]\ndf_final_list1.shape","dc15403d":"# Let's check the demographic of the resultant data again\n\ndf_final_list1.describe()","5dd1284a":"df_final_list2 = df_final_list1[df_final_list1['gdpp']<698]\ndf_final_list2.shape","80609b22":"df_final_list2","49157e9d":"A_countries=df_final_list2['country']\nA_countries=A_countries.reset_index(drop=True)\nA_countries","fba67056":"print('Top 5 Countries based on K means clustering:')\nKmean[['country']].head()","99424056":"print('Countries based on socio economic and health factors:')\nA_countries","41b5a415":"### <font color=green> We can see that the clusters formed are not great. Cluster 2 is having only one data point","8de56f7c":"## <font color=purple>Inferences","1183364e":"### <font color=green>Cluster 2 is having more income and cluster 1 has modertate income, cluster 0 has very least income","6b122156":"# <font color=purple>1. Reading and Inspection<\/font>","2fef84e6":"### <font color=green>Cluster 0 have very low GDP, cluster 2 have high GDP and cluster 1 has moderte GDP","ec5d2cb8":"- ### <font color=blue> Total Fertility","d3a8046f":"- ### <font color=blue>Child Mortality vs GDP","965c3805":"Hierarchical clustering involves creating clusters that have a predetermined ordering from top to bottom. For example, all files and folders on the hard disk are organized in a hierarchy. There are two types of hierarchical clustering,\n\n- Divisive\n- Agglomerative.","7691cf28":"HELP International is an international humanitarian NGO that is committed to fighting poverty and providing the people of backward countries with basic amenities and relief during the time of disasters and natural calamities. It runs a lot of operational projects from time to time along with advocacy drives to raise awareness as well as for funding purposes.\nAfter the recent funding programmes, they have been able to raise around $ 10 million. Now the CEO of the NGO needs to decide how to use this money strategically and effectively. The significant issues that come while making this decision are mostly related to choosing the countries that are in the direst need of aid. ","bb2c6c89":"- ### <font color=green>Luxembourg has more export of goods and services of around 183750, due to which that country has the highest GDP per capita\n- ### <font color=green>Myanmar is the country with least exports and next to it is Burundi. Even Imports were less for these countries.     \n    ","a8ae9778":"## <font color=purple>Plotting the clusters","9b47390f":"- ### <font color=green>Cluster 1 is having high number of data points compared to other two clusters","a9e8a1f4":"- #### <font color=green>From the EDA performed we could see that Income,  GDP and child Mortality are the major three variables need to be focused\n- #### <font color=green>In K means clustering we got Cluster 2 is having very Low income, very Low GDP but High child mortality. So we concluded that countries under cluster 2 are in need of aid.\n- #### <font color=green>In Hierarchical clustering we saw that Cluster 0 is having the High child mortality, low GDP and very Low child mortality. \n- #### <font color=green>The clusters formed in Hierarchical clustering were not that good. So we went on to consider cluster formed in K means clustering. And got top five countries with High child mortality,Low GDP and Low income\n- #### <font color=green> Then we looked for the countries based on socio economic factors   ","ef9116aa":"- ### <font color=green>Above we can see the cluster centres for the three clusters we got\n    ","e0c44d4c":"- ## <font color=purple>Scaling","fc2fe423":"- ## <font color=blue> Country vs Child Mortality","acde811e":"# <font color=purple>10. Final Analysis","bb8167f6":"- ### <font color=purple> We saw in cluster profiling that cluster 0 is having low income, low GDP and High Child Mortality\n- ### <font color=purple> So we can say that countries under cluster 0 are in need of aid. Lets see the countries","60c5ab27":"### <font color=green>Now we got the clear dendrogram and its easier to analyse the clusters. Lets consider a threshold value of 10. Draw the horizontal line at that height. It cuts 3 vertical lines, all of which represent a cluster.\n### <font color=green>So we have 3 clusters now    ","0f85f35e":" - ## <font color=blue>Country vs GDP","e2393614":"## **Final List of countries which are in need of the aid based on socio-economic factors.**","5b9ddfd9":"- ### <font color=blue> Income vs GDP","e0ce3dbe":"# <font color=purple>8. Cluster Profiling","5fcbb5a6":"# <font color=purple>6. Clustering","ba20ddae":"## <font color=purple>Recommendations","be24483e":"- ### <font color=blue>Pairplot","b54fba84":"### <font color=blue>Distplot","e01d3c2e":"### <font color=blue>The Hopkins statistic, is a statistic which gives a value which indicates the cluster tendency, in other words: how well the data can be clustered.","b75210a7":"df.head()","2ee4c86b":"# <font color=purple>9. Hierarchical Clustering","f195912c":"### <font color=green> Less number of children born to each woman,can survive more, As we see Singapore, South Korea have more life expectancy and less total fertility. \n### <font color=green> Chad, Mali and Congo Dem Republic have very high fertility and child morality    ","f98ab562":"#### <font color=purple>Convert % columns to actual values <\/font>","6f20a610":"- ### <font color=green> So from Hierarchical clustering, above are the five countries which are in direst need of aid","f4c9d212":"![](http:\/\/)![image.png](attachment:image.png)","60751e17":"- #### <font color=green>From the pairplot above we can make out how different variables are correlated to each other","9362dbfc":"### <font color=green>Cluster 0 is having high child mortality\n### <font color=green>Cluster 1 and 2 have very low child mortality\n         ","21c35333":"- #### <font color=green>Child mortality is highly correlated with total fertility with the correlation coefficient of 0.85<\/font>\n- #### <font color=green>Imports & exports, health & gdpp, income & gdpp are also well correlated<\/font>\n- #### <font color=green>Life expectency has strong negative correlation with total fertility of about -0.76<\/font>\n- #### <font color=green>Child mortality is also in strong negative correlation with life expectency<\/font>","20931b8a":"- ### <font color=green> Net income per person is more in Qatar which is 125000\n- ### <font color=green> Congo, Democratic Republic and Liberia has less income  ","cc0d9f36":"# <font color=purple>2. Cleaning the data<\/font>","7783c665":"- ### <font color=blue>Checking missing values<\/font>","3d5af94f":"# <font color=purple> Import necessary libraries<\/font>","c9ca738a":"- ### <font color=green> Cluster 0 is having low child mortality\n- ### <font color=green> Cluster 2 is having high child mortality  ","5c1c0099":"**Complete Linkage<br>**\n\nIn complete linkage hierarchical clustering, the distance between two clusters is defined as the longest distance between two points in each cluster. For example, the distance between clusters \u201cr\u201d and \u201cs\u201d to the left is equal to the length of the arrow between their two furthest points. \n![image.png](attachment:image.png)","0483ba38":"- ### <font color=green> Cluster 0 is having high income and high GDP \n- ### <font color=green> Cluster 2 is having very low income and GDP\n              ","3ec64817":"- #### From the analysis performed, We can see that low income people have high child mortality, so CEO must focus more on low income countries\n- #### We could also see Low GDP per capita countries are not having much import and export of goods and services. Those countries also must be focused\n- #### There are some countries which spend well on health for the people living in that country. For ex: US. Such countries can be skipped. And focus more on Burundi, Congo, Dem. Rep where the total health spending is too less.\n- #### If the total fertility is less the life expectency is more. Haiti is the country having very low life expectancy, and high child mortality. Its good to have less children per woman,so that they could be looked after well.\n","2500cfdf":"- ### <font color=blue>Child Mortality vs Income","9591d021":"### <font color=green>Now Mean value of GDP is 698. Lets choose the countries less than this mean value.","273b7086":"- ### <font color=green> We can see that Life expectancy is less in Haiti, which means new born child will survive for less number of years\n- ### <font color=green>We already saw above that child mortality is also more in Haiti    \n- ### <font color=green> Japan has highest life expectancy  ","6d2fefaa":" ### <font color=darkpink> From cluster profiling using hierarchical clustering we can see that :\n- ### <font color=green>1. Cluster 0 is having the High child mortality, low GDP and very Low child mortality \n- ### <font color=green>2. Cluster 1 is having  Low child mortality, moderate income and GDP\n- ### <font color=green>3. Cluster 2 is having very low child mortality,high income and GDP","a122434f":"# <font color=purple>3. Data Visualization<\/font>","de304ae1":"### <font color=purple>Lets choose countries based on socio economic and health factors","3c954c7a":"- ### <font color=purple>Silhouette score","7b916026":"### <font color=green>For selected cluster Mean value of child mortality is 91.61. Lets choose the countries more than this mean value as we are looking at high child mortality rates","fd56bdb0":"- #### <font color=green> From the plots above We can see that low income people have high child mortality, which means death of children under age 5 is more, where there is a low income <\/font>\n- #### <font color=green> Where the income is more we can see there is no mortality\n- #### <font color=green> In the second plot we can see that, high fertility rate for a woman and low income have high child mortality\n","a89667c8":"- ### <font color=green>To Choose the value of k, there are two methods, 1. Silhouette score  2. Elbow curve-ssd","ef4bb2f2":"## <font color=blue>Inflation","b71034fb":"- ### <font color=purple>From the elbow curve above we can see that we have a breakpoint at 3 and one breakpoint at 4. \n    \n- ### <font color=purple>From both the plots above, We can go with the lower value for k, which is 3 here. So k=3","8e8fc4cf":"- ### <font color=purple> We saw in cluster profiling that cluster 2 is having low income, low GDP and High Child Mortality\n- ### <font color=purple> So we can say that countries under cluster 2 are in need of aid. Lets see the countries","ec6e60dd":"### <font color=green>Now Mean value of income is 3639. Lets choose the countries less than this mean value.","6ed7a73e":"- ### <font color=blue>Health","0af1152c":"**We have analyzed both K-means and Hierarchical clustering and found clusters formed in both are not identical.\nThe clusters formed in Hierarchical clustering are not great.\nSo, we will proceed with the clusters formed by K-means and based on the information provided by the final clusters we will deduce the final list of countries which are in need of aid.**","cdf7b74f":"- ### <font color=green> There are outliers in the data. we need to treat them as The clustering process is very sensitive to the presence of outliers in the data.","78ce19b3":"### <font color=green>We clearly see, single linkage doesn't produce a good enough result for us to analyse the clusters. Hence, we need to go ahead and utilise the complete linkage method and then analyse the clusters once again.","a928f992":"- ## <font color=blue>Outlier Treatment","8c1f7194":"## <font color=purple>Complete Linkage","5ed4cc00":"\n$$\\text{silhouette score}=\\frac{p-q}{max(p,q)}$$\n\n$p$ is the mean distance to the points in the nearest cluster that the data point is not a part of\n\n$q$ is the mean intra-cluster distance to all the points in its own cluster.\n\n* The value of the silhouette score range lies between -1 to 1. \n\n* A score closer to 1 indicates that the data point is very similar to other data points in the cluster, \n\n* A score closer to -1 indicates that the data point is not similar to the data points in its cluster.","cfad9a8b":"- ### <font color=green>We can see that the value is between {0.8, ..., 0.99}, so the dataset has a high tendency to cluster.","8130b1bf":"- ## <font color=purple>Hopkins check","bc558d15":"# <font color=purple>Problem Statement","83d1a9bc":"- ### <font color=green>We can see that Luxembourg has most imports of goods and services of about 149100 per capita\n- ### <font color=green>Myanmar has very less import of goods and servicesof about 0.6511 per capita   ","89435fae":"- ### <font color=green>United States spends more per person on health than comparable countries which is 8663.\n- ### <font color=green>Eritrea spends less on health","2a9d3167":"- ### <font color=blue>Heatmap","4b38d482":"## <font color=purple>Single Linkage","ab64a523":"- ### <font color=green> So from K means clustering, above are the 10 countries which are in direst need of aid","8f1489f5":"- ### <font color=green>Cluster property is not that clear with all the columns","50dc5aea":"- ### <font color=green>By looking at the plots we can see that, Child Mortality, Income and GDP are the three columns that have a variation in the data. \n- ### <font color=green> Hence we can consider these three columns for cluster profiling   ","2349fa54":"# <font color=purple>7. K-Mean Clustering","302914c6":"- ### <font color=green> Haiti is a country with highest child mortality of around 208 out of 1000 live births. Next comes Sierra Leone \n- ### <font color=green> Iceland and Luxembourg are the countries with less child mortality   ","e3193319":"- ### <font color=green>We can see that Luxembourg has high GDP per capita which is around 105000. Then next comess Norway \n- ### <font color=green>Burundi has very less GDP per capita     ","2e0dc932":"- ### <font color=blue>Income vs Child Mortality","0aeec274":"- ## <font color=blue>Life Expectancy","5717a2b7":" ### <font color=darkpink> From cluster profiling in K- means clustering we can see that :\n- ### <font color=green>1. Cluster 0 is having the High income, High GDP and very Low child mortality \n- ### <font color=green>2. Cluster 2 is having  very Low income, very Low GDP but High child mortality\n- ### <font color=green>3. Cluster 1 is having low income, GDP  and less child mortality ","ebe9c912":"- ### <font color=purple>Elbow curve","2e2e2440":"- ## <font color=blue> Country vs Income","a0480761":"### <font color=green>We can see that there are no missing values in the data <\/font>","53e4fad6":"### <font color=green>From K means clustering we got better clusters compared to Hierarchical clustering. \n### <font color=green> Cluster 2 is the better cluster we got with High child mortality, low income and low GDP    \n### <font color=green>    Final list of country we got are:","6b61eb92":"- ### <font color=green>From the plot of silhouette score above, We can see that we have the maximum at 2, and next maximum is at 3. So we can go with 3.","52d3ad6a":"- ## <font color=blue>Exports","da2c61ec":"### <font color=green>Nigeria is having high inflation rate where as Japan,Ireland has very less Inflation rates","6ac5e19c":"In single linkage hierarchical clustering, the distance between two clusters is defined as the shortest distance between two points in each cluster. For example, the distance between clusters \u201cr\u201d and \u201cs\u201d to the left is equal to the length of the arrow between their two closest points.\n![image.png](attachment:image.png)","8e743602":"- ## <font color=blue>Country vs Imports","cc78fa73":"# <font color=purple>5. Checking outliers<\/font>","87895bdb":"- ### <font color=purple> Countries we should focus more on:"}}