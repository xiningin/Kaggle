{"cell_type":{"3b101e57":"code","fceebe3d":"code","ea5e498b":"code","c798db89":"code","2b25ed4e":"code","460d4d56":"code","60c81948":"code","6d9eee4b":"code","bf4c8e7c":"code","4cbebd7b":"code","41d662ff":"code","b5fba91f":"code","832a7222":"code","ebcbdf1b":"code","c61af82a":"code","b5f9f204":"code","b2110670":"code","84bac1c2":"code","4249434a":"code","d87b6073":"code","aaa8f9ec":"code","6f4a89ec":"code","51de2983":"code","33f060f1":"code","e72a5cbc":"code","145e30ee":"code","d5d11bf6":"code","fbeaa67b":"code","f33fabcf":"code","fbcef2c5":"code","9effff9b":"code","2a43980a":"code","31ae150c":"code","9cd0fc97":"code","10425b67":"code","2d0d04b3":"code","ae9f776b":"code","ebe35ff0":"code","9501c888":"code","2ed19966":"code","22e96c13":"code","5c558070":"code","4e51ac4c":"code","f8c02224":"code","8b071b1e":"code","2f4c6862":"code","20e0910c":"markdown","70163da2":"markdown","828a3b32":"markdown","3a87a16c":"markdown","be04d4c4":"markdown","19c1970f":"markdown","e2fc070d":"markdown","822b7610":"markdown","0d9261ed":"markdown","8560ddca":"markdown","0c982650":"markdown","1820f690":"markdown","47b534eb":"markdown","6ce0db89":"markdown","1f0930ed":"markdown","bf2b2452":"markdown","3d544d52":"markdown","6a4d978f":"markdown","22e2f017":"markdown","9fac9496":"markdown"},"source":{"3b101e57":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use('fivethirtyeight')\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline","fceebe3d":"data=pd.read_csv('..\/input\/nfl-big-data-bowl-2020\/train.csv')","ea5e498b":"data.head()","c798db89":"data.isnull().sum() #checking for total null values","2b25ed4e":"data.dtypes #Checking features types","460d4d56":"X, Y, S, A, Dis, Orientation, dir, NflId, JerseyNumber, Season, YardLine, Quarter, \nDown, Distance, HomeScoreBeforePlay, VisitorScoreBeforePlay, \nNflIdRusher, DefendersInTheBox, Yards, PlayerWeight, Week, Temperature, Humidity","60c81948":"f,ax=plt.subplots(1,19,figsize=(25,10))\ndata[['PlayerWeight','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[0])\nax[0].set_title('Yards depending on PlayerWeight')\ndata[['Temperature','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[1])\nax[1].set_title('Yards depending on Temperature')\ndata[['X','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[2])\nax[2].set_title('Yards depending on X')\ndata[['Y','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[3])\nax[3].set_title('Yards depending on Y')\ndata[['S','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[4])\nax[4].set_title('Yards depending on S')\ndata[['A','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[5])\nax[5].set_title('Yards depending on A')\ndata[['JerseyNumber','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[6])\nax[6].set_title('Yards depending on JerseyNumber')\ndata[['Dis','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[7])\nax[7].set_title('Yards depending on Dis')\n#data[['dir','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[8])\n#ax[8].set_title('Yards depending on dir')\ndata[['NflId','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[9])\nax[9].set_title('Yards depending on NflId')\ndata[['YardLine','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[10])\nax[10].set_title('Yards depending on YardLine')\ndata[['Quarter','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[11])\nax[11].set_title('Yards depending on Quarter')\ndata[['Down','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[12])\nax[12].set_title('Yards depending on Down')\ndata[['Distance','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[13])\nax[13].set_title('Yards depending on Distance')\ndata[['HomeScoreBeforePlay','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[14])\nax[14].set_title('Yards depending on HomeScoreBeforePlay')\ndata[['VisitorScoreBeforePlay','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[15])\nax[15].set_title('Yards depending on VisitorScoreBeforePlay')\ndata[['Week','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[16])\nax[16].set_title('Yards depending on Week')\ndata[['Humidity','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[17])\nax[17].set_title('Yards depending on Humidity')\ndata[['DefendersInTheBox','Yards']].groupby(['Yards']).mean().plot.bar(ax=ax[18])\nax[18].set_title('Yards depending on DefendersInTheBox')\n\nplt.show()","6d9eee4b":"print('Longest Yards was of:',data['Yards'].max(),'yards')\nprint('Smalest Yards was of:',data['Yards'].min(),'yards')\nprint('Average Yards was of:',data['Yards'].mean(),'yards')","bf4c8e7c":"data['Age'] = data['PlayerBirthDate'].map(lambda x: 2018-int(x.split('\/')[2]))","4cbebd7b":"print('Oldest Player was of:',data['Age'].max(),'Years')\nprint('Youngest Player was of:',data['Age'].min(),'Years')\nprint('Average Age on the field:',data['Age'].mean(),'Years')","41d662ff":"data['Experience'] = data['Age'].map(lambda x: 1 if x>25 else 0)","b5fba91f":"data['Experience'].head()","832a7222":"f,ax=plt.subplots(1,2,figsize=(18,8))\nsns.violinplot(\"JerseyNumber\",\"Age\", hue=\"Experience\", data=data,split=True,ax=ax[0])\nax[0].set_title('JerseyNumber and Age vs Experience')\nax[0].set_yticks(range(0,110,10))\nsns.violinplot(\"A\",\"Age\", hue=\"Experience\", data=data,split=True,ax=ax[1])\nax[1].set_title('Accelaration and Age vs Experience')\nax[1].set_yticks(range(0,110,10))\nplt.show()","ebcbdf1b":"f,ax=plt.subplots(1,2,figsize=(18,8))\nsns.violinplot(\"JerseyNumber\",\"Yards\", hue=\"Experience\", data=data,split=True,ax=ax[0])\nax[0].set_title('JerseyNumber and Yards vs Experience')\nax[0].set_yticks(range(0,110,10))\nsns.violinplot(\"A\",\"Yards\", hue=\"Experience\", data=data,split=True,ax=ax[1])\nax[1].set_title('Accelaration and Yards vs Experience')\nax[1].set_yticks(range(0,110,10))\nplt.show()","c61af82a":"data['PlayerCollegeName'].head()","b5f9f204":"print('There is '+str(len(set(data['PlayerCollegeName'].to_list())))+' different PlayerCollegeName')","b2110670":"data.groupby(['PlayerCollegeName','A'])['PlayerCollegeName'].count()","84bac1c2":"data.groupby(['PlayerCollegeName','S'])['PlayerCollegeName'].count()","4249434a":"data.groupby(['PlayerCollegeName','PlayerHeight'])['PlayerCollegeName'].count()","d87b6073":"data.groupby(['PlayerCollegeName','PlayerWeight'])['PlayerCollegeName'].count()","aaa8f9ec":"data.groupby(['PlayerCollegeName','Yards'])['PlayerCollegeName'].count()","6f4a89ec":"data['VisitorTeamAbbr'].head()","51de2983":"print('There is '+str(len(set(data['VisitorTeamAbbr'].to_list())))+' different VisitorTeamAbbr')","33f060f1":"data.groupby(['VisitorTeamAbbr','Yards'])['VisitorTeamAbbr'].count()","e72a5cbc":"data.groupby(['VisitorTeamAbbr','A'])['VisitorTeamAbbr'].count()","145e30ee":"data.groupby(['VisitorTeamAbbr','S'])['VisitorTeamAbbr'].count()","d5d11bf6":"data.groupby(['VisitorTeamAbbr','Age'])['VisitorTeamAbbr'].count()","fbeaa67b":"data.groupby(['Age','Yards'])['Age'].count()","f33fabcf":"print('Highest Player was of:',data['PlayerHeight'].max(),'ft-in')\nprint('Shortest Player was of:',data['PlayerHeight'].min(),'ft-in')\n#print('Average Tall on the field:',data['PlayerHeight'].mean(),'ft-in') # We need to convert \n#this categorical feature to be able to get Average Tall value","fbcef2c5":"data.groupby(['PlayerHeight','Yards'])['PlayerHeight'].count()","9effff9b":"JerseyNumber = data['JerseyNumber'].to_list()\nlen(set(JerseyNumber))","2a43980a":"data.groupby(['JerseyNumber','Yards'])['JerseyNumber'].count()","31ae150c":"print('Fastest Player was of:',data['S'].max(),'yards\/second^2')\nprint('lowest Player was of:',data['S'].min(),'yards\/second^2')\nprint('Average speed on the field:',data['S'].mean(),'yards\/second^2')","9cd0fc97":"data.groupby(['JerseyNumber','S'])['JerseyNumber'].count()","10425b67":"data.groupby(['JerseyNumber','S'])['JerseyNumber'].count()","2d0d04b3":"data.groupby(['JerseyNumber','Age'])['JerseyNumber'].count()","ae9f776b":"print('The Player with highest Accelararation was of:',data['A'].max(),'yards\/second')\nprint('lowest Player Accelararation was of:',data['A'].min(),'yards\/second')\nprint('Average Accelararation on the field:',data['A'].mean(),'yards\/second')","ebe35ff0":"data.groupby(['JerseyNumber','A'])['JerseyNumber'].count()","9501c888":"print('Fat Player was of:',data['PlayerWeight'].max(),'lbs')\nprint('Skiny Player was of:',data['PlayerWeight'].min(),'lbs')\nprint('Average Weight on the field:',data['PlayerWeight'].mean(),'lbs')","2ed19966":"data.groupby(['JerseyNumber','PlayerWeight'])['JerseyNumber'].count()","22e96c13":"sns.factorplot('Yards','Experience',col='Quarter',data=data)\nplt.show()","5c558070":"sns.factorplot('Yards','Experience',col='Down',data=data)\nplt.show()","4e51ac4c":"sns.factorplot('Yards','Experience',col='PlayDirection',data=data)\nplt.show()","f8c02224":"print('Highest Player was of:',data['PlayerWeight'].max(),'lbs')\nprint('Shortest Player was of:',data['PlayerWeight'].min(),'lbs')\nprint('Average Tall on the field:',data['PlayerWeight'].mean(),'lbs')","8b071b1e":"print('Highest Player was of:',data[''].max(),'')\nprint('Shortest Player was of:',data[''].min(),'')\nprint('Average Tall on the field:',data[''].mean(),'')","2f4c6862":"print('Highest Player was of:',data[''].max(),'')\nprint('Shortest Player was of:',data[''].min(),'')\nprint('Average Tall on the field:',data[''].mean(),'')","20e0910c":"**Like the known footbal game we see most famous players took the number 10 on their t-shirt, here is the same but with the number 99**","70163da2":"**Contents of the Notebook:**\n\n**Part_1:** Exploratory Data Analysis(EDA):\n1. Analysis of the features.\n\n2. Finding any relations or trends considering multiple features.\n\n**Part_2:** Feature Engineering and Data Cleaning:\n1. Adding any few features.\n\n2. Removing redundant features.\n\n3. Converting features into suitable form for modeling.\n\n**Part_3:** Predictive Modeling\n1. Running Basic Algorithms.\n\n2. Cross Validation.\n\n3. Ensembling.\n\n4. Important Features Extraction.","828a3b32":"The **Orientation, Dir, FieldPosition, OffenseFormation, DefendersInTheBox, StadiumType, GameWeather, Temperature, Humidity, WindSpeed, WindDirection** have null values. I will try to fix them.","3a87a16c":"**Ordinal Features:**\nAn ordinal variable is similar to categorical values, but the difference between them is that we can have relative ordering or sorting between the values. For eg: If we have a feature like Height with values Tall, Medium, Short, then Height is a ordinal variable. Here we can have a relative sort in the variable.\n\n**Ordinal Features in the dataset:** GameClock, TimeHandoff, PlayerHeight, TimeSnap, PlayerBirthDate, WindSpeed.","be04d4c4":"**Players with the Height 6-9 are the most gainer of yards**","19c1970f":"**Types Of Features**\n\n**Categorical Features:**\nA categorical variable is one that has two or more categories and each value in that feature can be categorised by them.For example, StadiumType is a categorical variable. Now we cannot sort or give any ordering to such variables. They are also known as **Nominal Variables**.\n\n**Categorical Features in the dataset:** Team,DisplayName, ossessionTeam, FieldPosition, OffenseFormation, OffensePersonnel, DefensePersonnel, PlayDirection, PlayerCollegeName, Position, HomeTeamAbbr, VisitorTeamAbbr, Stadium, Location, StadiumType, Turf, GameWeather, WindDirection.\n\n\n\n\n\n\n","e2fc070d":"sns.factorplot('Yards','Experience',col='Location',data=data)\nplt.show()","822b7610":"**It's clear that oldest players gain more yards than the youngest one, it's explained by their experience**","0d9261ed":"****Let's see the gained yards based on player's Height****","8560ddca":"**Let's take a look for players speed**","0c982650":"**Again players with jursey number 99 are the fastest and the most players whcih have highest accelaration,it's clear that this number is gived only for experienced player because their are older than other [29, 30, 31, 38,...], also players whith 99 jursey number are the most highest weight, this explain their strenght and the mussasle they have**","1820f690":"**Let's see the gained yards based on player's age**","47b534eb":"**Doing some feature engineering to anlyse players ages**\n\nWe need to separate the year of birth and calculate each player age","6ce0db89":"**> General information**\nIn this kernel I work with **NFL Big Data Bowl** competition.\n\nAs an \u201carmchair quarterback\u201d watching the game, you may think you can predict the result of a play when a ball carrier takes the handoff - but what does the data say? In this competition, you will develop a model to predict how many yards a team will gain on given rushing plays as they happen. You'll be provided game, play, and player-level data, including the position and speed of players as provided in the NFL\u2019s Next Gen Stats data. And the best part - you can see how your model performs from your living room, as the leaderboard will be updated week after week on the current season\u2019s game data as it plays out.","1f0930ed":"**Continous Feature:**\nA feature is said to be continous if it can take values between any two points or between the minimum or maximum values in the features column.\n\n**Continous Features in the dataset:** X, Y, S, A, Dis, Orientation, dir, NflId, JerseyNumber, Season, YardLine, Quarter, Down, Distance, HomeScoreBeforePlay, VisitorScoreBeforePlay, NflIdRusher, DefendersInTheBox, Yards, PlayerWeight, Week, Temperature, Humidity","bf2b2452":"**Let's take a look to jersey number, I think that there is some specific number which are gived to a good yards gainer**","3d544d52":"**I want to add a new column with the name 'Experience' which mean if the player have an experience or not, I will put 25 years old as a threshold**","6a4d978f":"**Part_1: Exploratory Data Analysis(EDA)**","22e2f017":"**Youngstown State** players are the most Yards gainer with the highest Speed and Accelaration","9fac9496":"**There is 99 different Jersey Number**"}}