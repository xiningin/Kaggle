{"cell_type":{"a31baf4d":"code","239d0ff0":"code","caea6e92":"code","5a94f360":"code","75cda612":"code","8273e7c4":"code","8b071e12":"code","8ffd8b40":"code","9879d345":"code","ebbcfe7b":"code","57edb2fc":"code","d1af8d5b":"code","8af5894e":"code","9244d512":"code","eab12f7e":"code","6a46cfd1":"code","56a85b2b":"code","aefafc77":"markdown","bf366447":"markdown","1851121a":"markdown","2ab1c20e":"markdown","9d1b7550":"markdown","e77d8ba6":"markdown"},"source":{"a31baf4d":"import pandas as pd\nimport plotly.express as px\n\ndf = pd.read_csv('..\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv', low_memory=False)","239d0ff0":"new_header = df.iloc[0] #grab the first row for the header\ndf = df[1:] #take the data less the header row\ndf.columns = new_header #set the header row as the df header","caea6e92":"countries = df.iloc[:, 3]\ncountry_counts = (countries.value_counts().reset_index()).rename(columns = {'index':'Country','In which country do you currently reside?': 'Count'})\ncountry_counts['Country']=country_counts['Country'].replace('Viet Nam', 'Vietnam')\n\nfrom urllib.request import urlopen\nimport json\nwith urlopen('https:\/\/raw.githubusercontent.com\/plotly\/datasets\/master\/geojson-counties-fips.json') as response:\n    counties = json.load(response)\n    \ninfo = pd.read_csv('https:\/\/raw.githubusercontent.com\/plotly\/datasets\/master\/2014_world_gdp_with_codes.csv')\n\ndi = {}\nfor _,row in info.iterrows():\n    di[row['COUNTRY']]=row['CODE']\n    \ncount=0\nn=[]\nc=[]\ncode=[]\nfor key, value in di.items():\n    for _,row in country_counts.iterrows():\n        if key in row['Country']:\n            count=count+1\n            n.append(key)\n            c.append(row['Count'])\n            code.append(value)\n\ndfc=pd.DataFrame()\ndfc['Country']=n\ndfc['Count']=c\ndfc['Code']=code\n\ndfcn = pd.pivot_table(dfc, index=['Country'],values=['Count'],aggfunc='sum').reset_index()\ndfc.drop('Count', axis=1, inplace=True)\ndfcn = pd.merge(left=dfcn, right=dfc, on='Country')\n\ndfcn =dfcn.sort_values(by=\"Count\")\ndfcn.drop_duplicates(inplace=True)","5a94f360":"fig = px.bar(dfcn, x='Country', y='Count', height=600, color='Count', color_continuous_scale='pinkyl', template='plotly_white')\nfig.update_xaxes(type='category')\nfig.update_layout(title={\n        'text': \"Country wise user count\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\nfig.show()","75cda612":"fig = px.choropleth(dfcn, locations='Code', color='Count', color_continuous_scale='pinkyl',\n                    hover_name=\"Country\", template='plotly_white',\n                    hover_data={\n                        'Code':False\n                    })\nfig.update_layout(title={\n        'text': \"Demographic distribution of Users\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'},dragmode=False)\nfig.show()","8273e7c4":"fig = px.pie(dfcn, values='Count', names='Country', title='% user from Country', color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_layout(title={\n        'text': \"Percentage of users from countries\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\nfig.update_traces(textinfo='none')\n\nfig.show()","8b071e12":"indian = df[df['In which country do you currently reside?']=='India']","8ffd8b40":"usa = df[df['In which country do you currently reside?']=='United States of America']","9879d345":"clm={'index':'Degree','What is the highest level of formal education that you have attained or plan to attain within the next 2 years?': 'Count'}\nindian_degree = indian.iloc[:,4].value_counts().reset_index().rename(columns=clm)","ebbcfe7b":"fig = px.bar(indian_degree, x='Degree', y='Count', height=600, width=1000, color='Count', color_continuous_scale='mint', template='plotly_white')\nfig.update_xaxes(type='category')\nfig.update_layout(title={\n        'text': \"India : Degree vs No. of Users\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\n\nfig.show()","57edb2fc":"clm=clm={'index':'Profession','Select the title most similar to your current role (or most recent title if retired): - Selected Choice': 'Count'}\nindian_profession=(indian.iloc[:,5].value_counts().reset_index()).rename(columns=clm)","d1af8d5b":"clm={'index':'Degree','What is the highest level of formal education that you have attained or plan to attain within the next 2 years?': 'Count'}\nusa_degree = usa.iloc[:,4].value_counts().reset_index().rename(columns=clm)","8af5894e":"fig = px.bar(usa_degree, x='Degree', y='Count', height=600, color='Count', color_continuous_scale='mint', template='plotly_white')\nfig.update_xaxes(type='category')\nfig.update_layout(title={\n        'text': \"USA : Degree vs No. of Users\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\n\nfig.show()","9244d512":"clm=clm={'index':'Profession','Select the title most similar to your current role (or most recent title if retired): - Selected Choice': 'Count'}\nusa_profession=(usa.iloc[:,5].value_counts().reset_index()).rename(columns=clm)","eab12f7e":"import plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nindian_degree.Degree = indian_degree.Degree.replace('Some college\/university study without earning a bachelor\u2019s degree', 'Some college\/university without degree')\nusa_degree.Degree = usa_degree.Degree.replace('Some college\/university study without earning a bachelor\u2019s degree', 'Some college\/university without degree')\n\n# Create subplots: use 'domain' type for Pie subplot\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]],subplot_titles=('India', 'USA'))\nfig.add_trace(go.Pie(labels=indian_degree.Degree.values, values=indian_degree.Count.values, name=\"India\", marker_colors=px.colors.sequential.RdBu),\n              1, 1)\nfig.add_trace(go.Pie(labels=usa_degree.Degree.values, values=usa_degree.Count.values, name=\"USA\", marker_colors=px.colors.sequential.RdBu),\n              1, 2)\n\n# Use `hole` to create a donut-like pie chart\nfig.update_traces(hole=.5, hoverinfo=\"label+percent+name\")\n\nfig.update_layout(title={\n        'text': \"Profession : India vs USA\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\nfig.show()","6a46cfd1":"\n\n# Create subplots: use 'domain' type for Pie subplot\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]],subplot_titles=('India', 'USA'))\nfig.add_trace(go.Pie(labels=indian_profession.Profession.values, values=indian_profession.Count.values, name=\"India\", marker_colors=px.colors.sequential.RdBu),\n              1, 1)\nfig.add_trace(go.Pie(labels=usa_profession.Profession.values, values=usa_profession.Count.values, name=\"USA\", marker_colors=px.colors.sequential.RdBu),\n              1, 2)\n\n# Use `hole` to create a donut-like pie chart\nfig.update_traces(hole=.5, hoverinfo=\"label+percent+name\")\n\nfig.update_layout(title={\n        'text': \"Profession : India vs USA\",\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\nfig.show()","56a85b2b":"indian.to_csv('India.csv', index=False)\nusa.to_csv('USA.csv', index=False)","aefafc77":"# USA","bf366447":"## Conclusions\n\nMajority of the Indian users are students\n\nUSA users have almost equal number of students and data scientist\n\nBoth countries have similar percentage of users except for student percentage","1851121a":"# Comparative Study","2ab1c20e":"# USA vs India\n\nAs seen, most of the users belong to India and then USA. We will be performing a comparative study of the user from India vs the user from USA","9d1b7550":"# India","e77d8ba6":"## Conclusions :\n\nAs from the survey results, we get to see that more than **50%** of the users from have completed **bachelor's degree.**\nAlso **master's and bachelor's degree** holders make about **86.7%** of the total users from India.\n\n\nIndia have lesser percentage of users with a **Doctoral degree** compared to USA\n\n"}}