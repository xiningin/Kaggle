{"cell_type":{"a151fcb8":"code","22fc3fe3":"code","4f43385a":"code","70b57c47":"code","57253b05":"code","f0d0cec4":"code","91fd259b":"code","03bc4e98":"code","5e69ea10":"code","0b65afe9":"code","91da848c":"code","bd59ce92":"markdown"},"source":{"a151fcb8":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport folium\nimport os\nimport json\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport plotly.graph_objects as go\npd.set_option('display.max_rows',20000, 'display.max_columns',100)","22fc3fe3":"us_data = pd.read_csv(\"..\/input\/us-counties-covid-19-dataset\/us-counties.csv\")\nutm_us = pd.read_csv(\"..\/input\/us-utm\/UTM of US States.csv\")\nus_data['active cases'] = us_data['cases'] - us_data['deaths']","4f43385a":"new_us_data= us_data[us_data['date']=='2020-04-10']\nus_data['date'] =pd.to_datetime(us_data.date,dayfirst=True)\nus_data.info()","70b57c47":"#Total Case in US States\ncarona_data = new_us_data.groupby('state')['cases','deaths','active cases'].sum().reset_index().sort_values('cases',ascending=False)\ndf_new = carona_data.merge(utm_us, left_on='state', right_on='state')\nfig = go.Figure(data=[go.Scatter(\n    x=df_new['state'][0:36],\n    y=df_new['cases'][0:36],\n    mode='markers',\n    marker=dict(\n        size=[100,90,80, 70, 60, 50, 40,35,35,35,35,35,35,35,35,35,35,30,28,28,25,25,20,15,15,15,15,10,10,10,10,10,10,10,10,10],\n        color=[50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50],\n        showscale=True\n        )\n)])\nfig.update_layout(\n    title='Total Case in US States',\n    xaxis_title=\"States\",\n    yaxis_title=\"Total Cases\",\n)\nfig.show()","57253b05":"#Active Case in US States\nfig = go.Figure(data=[go.Scatter(\n    x=df_new['state'][0:36],\n    y=df_new['active cases'][0:36],\n    mode='markers',\n    marker=dict(\n        size=[100,90,80,70,60,50,40,35,35,35,35,35,35,35,35,35,35,30,28,28,25,25,20,15,15,15,15,10,10,10,10,10,10,10,10,10],\n\n        showscale=True\n        )\n)])\nfig.update_layout(\n    title='Active Case in US States',\n    xaxis_title=\"States\",\n    yaxis_title=\"Active Cases\",\n)\nfig.show()","f0d0cec4":"#Daily Cases in USA Datewise\ncarona_data = us_data.groupby(['date'])['cases'].sum().reset_index().sort_values('cases',ascending = True)\ncarona_data['Daily Cases'] = carona_data['cases'].sub(carona_data['cases'].shift())\ncarona_data['Daily Cases'].iloc[0] = carona_data['cases'].iloc[0]\ncarona_data['Daily Cases'] = carona_data['Daily Cases'].astype(int)\nfig = px.bar(carona_data, y='Daily Cases', x='date',hover_data =['Daily Cases'], color='Daily Cases', height=500)\nfig.update_layout(\n    title='Daily Cases in USA Datewise')\nfig.show()","91fd259b":"#DAILY DEATHS IN USA\ncarona_data = us_data.groupby(['date'])['deaths'].sum().reset_index().sort_values('deaths',ascending = True)\ncarona_data['DAILY DEATHS'] = carona_data['deaths'].sub(carona_data['deaths'].shift())\ncarona_data['DAILY DEATHS'].iloc[0] = carona_data['deaths'].iloc[0]\ncarona_data['DAILY DEATHS'] = carona_data['DAILY DEATHS'].astype(int)\nfig = px.bar(carona_data, y='DAILY DEATHS', x='date',hover_data =['DAILY DEATHS'], color='DAILY DEATHS', height=500)\nfig.update_layout(\n    title='DAILY DEATHS IN USA')\nfig.show()","03bc4e98":"#Corona Growth Rate(in Percentage) Comparison with Previous Day\ncarona_data = us_data.groupby(['date'])['cases'].sum().reset_index().sort_values('cases',ascending = True)\ncarona_data['Corona PD Growth Rate'] = carona_data['cases'].pct_change().mul(100).round(2)\nfig = px.bar(carona_data, y='Corona PD Growth Rate', x='date',hover_data =['Corona PD Growth Rate','cases'], height=500)\nfig.update_layout(\n    title='Corona Growth Rate(in Percentage) Comparison with Previous Day')\nfig.show()","5e69ea10":"#Corona Mortality Rate in USA\ncarona_data = us_data.groupby(['date'])['cases','active cases','deaths'].sum().reset_index().sort_values('date',ascending=False)\ncarona_data['Mortality Rate'] = ((carona_data['deaths']\/carona_data['cases'])*100)\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=carona_data['date'], y=carona_data['Mortality Rate'],\n                    mode='lines+markers',name='cases',marker_color='red'))\nfig.update_layout(title_text='Corona Mortality Rate in USA',plot_bgcolor='rgb(225,230,255)')\nfig.show()","0b65afe9":"#Total Cases,Active Cases,Cured,Deaths from Corona Virus in USA\ncarona_data = us_data.groupby(['date'])['cases','active cases','deaths'].sum().reset_index().sort_values('date',ascending=False)\n\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=carona_data['date'], y=carona_data['cases'],\n                    mode='lines+markers',name='cases'))\nfig.add_trace(go.Scatter(x=carona_data['date'], y=carona_data['active cases'], \n                mode='lines+markers',name='active cases'))\nfig.add_trace(go.Scatter(x=carona_data['date'], y=carona_data['deaths'], \n                mode='lines+markers',name='deaths'))\nfig.update_layout(title_text='Curve Showing Different Cases from COVID-19 in USA',plot_bgcolor='rgb(225,230,255)')\nfig.show()","91da848c":"#USA Map with Statewise data of Total Cases,Deaths\nUSA_map = folium.Map(location=[37.0902,-95.7129],zoom_start=3)\nfg=folium.FeatureGroup(name=\"my map\")\nfg.add_child(folium.GeoJson(data=(open('..\/input\/usa-json\/us_state00.json','r',encoding='utf-8-sig').read())))\nUSA_map.add_child(fg)\nfor lat,lan,name,deaths,cases in zip(df_new['latitude'],df_new['longitude'],df_new['state'],df_new['deaths'],df_new['cases']):\n    if(deaths == 0):\n        folium.Marker(location=[lat,lan],popup=\"<b>State  : <\/b>\"+name+ \"<br> <b>Total Cases : <\/b> \"+str(cases)+\"<br> <b>Deaths : <\/b> \"+str(deaths)).add_to(USA_map)\n    else:\n        folium.Marker(location=[lat,lan],popup=\"<b>State  : <\/b>\"+name+ \"<br> <b>Total Cases : <\/b> \"+str(cases)+\"<br> <b>Deaths : <\/b> \"+str(deaths),icon=folium.Icon(color=\"red\")).add_to(USA_map)\nUSA_map","bd59ce92":"* ## **KINDLY VOTE IF YOU LIKED IT**"}}