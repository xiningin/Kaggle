{"cell_type":{"56e96a11":"code","905adfa5":"code","5f92cd3f":"code","4a6c9d10":"code","2bbe1280":"code","ad46521c":"code","111f8519":"code","f8f53180":"code","6f7dc8f8":"code","b28525a0":"code","850acbcc":"code","b59978fe":"code","e1a9aa0a":"code","000ebdb5":"code","625f32ef":"code","9b0cae6e":"code","bc5cc5a3":"code","4dc3035a":"code","be492340":"code","e69708e3":"code","a1b7aa27":"code","cfcc3e35":"code","7a56a20d":"code","d17ba1b2":"code","3815699a":"code","b387c496":"code","163152fb":"code","424bc3bc":"code","ebd579c6":"code","555330c0":"code","03d607c9":"code","03d6fe4a":"markdown","5cae5100":"markdown","e8fabb38":"markdown","c9b8b277":"markdown","f54d09b0":"markdown","e5793f14":"markdown","bdc1c4aa":"markdown","72de937e":"markdown","dda249a5":"markdown","2467f213":"markdown","7346a7bd":"markdown","64f23b4b":"markdown","1e741538":"markdown","4c4c2deb":"markdown","6283580e":"markdown","59bb7fc1":"markdown","31f79233":"markdown"},"source":{"56e96a11":"# Importing libraries\nimport pandas as pd\nimport numpy as np\n\nimport plotly.express as px\nfrom plotly.offline import init_notebook_mode, plot, iplot\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","905adfa5":"# setting plot parameters\nsns.set_style('darkgrid')\nmatplotlib.rcParams['font.size'] = 16\nmatplotlib.rcParams['figure.figsize'] = (12, 6)\nmatplotlib.rcParams['figure.facecolor'] = '#00000000'","5f92cd3f":"df_zomato = pd.read_csv(\"..\/input\/zomato-restaurants-data\/zomato.csv\",encoding=\"latin-1\")\ndf_zomato","4a6c9d10":"df_zomato.columns","2bbe1280":"## Checking if dataset contains any null\nnan_values = df_zomato.isnull()\nnan_columns = nan_values.any()\n\ncolumns_with_nan = df_zomato.columns[nan_columns].tolist()\nprint(columns_with_nan)","ad46521c":"nan_values.sum()\n# Cuisines has got 9 null values","111f8519":"!pip install openpyxl # it was asking to install openpyxl to run pd.read_excel","f8f53180":"df_country_code = pd.read_excel('..\/input\/zomato-restaurants-data\/Country-Code.xlsx')\ndf_country_code","6f7dc8f8":"zomato = pd.merge(df_zomato, df_country_code, on='Country Code', how='left') # a kind of left join; to keep all the rows of df_zomato\nzomato.head(2)","b28525a0":"# Countries from where survey data have been collected\nprint('Total number to country', len(pd.unique(zomato.Country)))\nprint()\n\nprint('List of Countries:')\nfor country in pd.unique(zomato.Country): print(country)","850acbcc":"# from plotly.offline import init_notebook_mode, plot, iplot\n\nlabels = list(zomato.Country.value_counts().index) #country names\nvalues = list(zomato.Country.value_counts().values) # number of entries belonging to the country\n\nfig = {\n    \"data\":[\n        {\n            \"labels\" : labels,\n            \"values\" : values,\n            \"hoverinfo\" : 'label+percent',\n            \"domain\": {\"x\": [0, .9]},\n            \"hole\" : 0.6,\n            \"type\" : \"pie\",\n            \"rotation\":120,\n        },\n    ],\n    \n    \"layout\": {\n        \"title\" : \"Zomato's Presence around the World\",\n        \"annotations\": [\n            {\n                \"font\": {\"size\":20},\n                \"showarrow\": True,\n                \"text\": \"Countries\",\n                \"x\":0.2,\n                \"y\":0.9,\n            },\n        ]\n    }\n}\n\niplot(fig)","b59978fe":"ratings = zomato.groupby(['Aggregate rating','Rating color', 'Rating text']).size().reset_index().rename(columns={0:'Rating Count'})\nratings","e1a9aa0a":"fig = px.bar(ratings, \n                   x='Rating color', \n                   #marginal='box', \n                   color='Rating text',\n             y='Rating Count', \n                   color_discrete_sequence=['White', 'Red','Orange','Yellow','Green',\"Darkgreen\"], \n                   title='Rating Distribution')\nfig.update_layout(bargap=0.1)\nfig.show()","000ebdb5":"No_rating = zomato[zomato['Rating color']=='White'].groupby('Country').size().reset_index().rename(columns={0:'Rating Count'})\nNo_rating","625f32ef":"country_currency = zomato[['Country','Currency']].groupby(['Country','Currency']).size().reset_index(name='count').drop('count', axis=1, inplace=False)\ncountry_currency","9b0cae6e":"country_currency.sort_values('Currency').reset_index(drop=True)","bc5cc5a3":"fig = px.pie(zomato, names=\"Has Online delivery\", title='Whether online delivery available or not?')\nfig.show()","4dc3035a":"country_online_delivery = zomato[[\"Has Online delivery\", 'Country']].groupby([\"Has Online delivery\", 'Country']).size().reset_index(name='count')\ncountry_online_delivery","be492340":"fig = px.sunburst(zomato[[\"Has Online delivery\", 'Country']].groupby([\"Has Online delivery\", 'Country']).size().reset_index(name='count'),\n                  path = [\"Has Online delivery\", 'Country'], values = 'count', \n                  title='Country-wise online services')\n\nfig.show()","e69708e3":"from plotly.offline import init_notebook_mode, plot, iplot\nimport plotly.graph_objs as go\n\nplt.figure(figsize=(12,6))\n# import plotly.plotly as py\n\nlabels = list(zomato.City.value_counts().head(20).index)\nvalues = list(zomato.City.value_counts().head(20).values)\n\nfig = {\n    \"data\":[\n        {\n            \"labels\" : labels,\n            \"values\" : values,\n            \"hoverinfo\" : 'label+percent',\n            \"domain\": {\"x\": [0, .9]},\n            \"hole\" : 0.6,\n            \"type\" : \"pie\",\n            \"rotation\":120,\n        },\n    ],\n    \"layout\": {\n        \"title\" : \"Zomato's Presence Citywise\",\n        \"annotations\": [\n            {\n                \"font\": {\"size\":20},\n                \"showarrow\": True,\n                \"text\": \"Cities\",\n                \"x\":0.2,\n                \"y\":0.9,\n            },\n        ]\n    }\n}\niplot(fig);","a1b7aa27":"zomato_locality_booking = zomato[['Has Table booking', \"Locality\"]].groupby([ 'Has Table booking',\"Locality\"]).size().reset_index(name='count').sort_values(by=['count'], ascending=False)\nzomato_locality_booking","cfcc3e35":"fig = px.sunburst(zomato_locality_booking,\n                  path = ['Has Table booking', \"Locality\"], values = 'count', \n                  title='zomato locality-wise table booking?')\nfig.show()","7a56a20d":"zomato.loc[zomato['Rating text'].isin(['Excellent'])].Cuisines.value_counts().sort_values(ascending=False).reset_index().head()","d17ba1b2":"# Fetching the resturants having 'Excellent' and 'Very Good' rating\ngood_cuisine = zomato.loc[zomato['Rating text'].isin(['Excellent'])]\n\ngood_cuisine = good_cuisine.Cuisines.value_counts().reset_index().head(25)\n\n## Extracing all the cuisens in a single list\ncuisines = []\n\nfor cuisine in good_cuisine['index']: \n  cuisines.append(cuisine)\n\n# cuisien = '[%s]'%', '.join(map(str, cuisien))\ncuisines","3815699a":"sns.barplot(y = 'index', x = 'Cuisines', data = good_cuisine)","b387c496":"costly_zomato = zomato.nlargest(25, 'Average Cost for two')\ncostly_zomato","163152fb":"costly_zomato.columns","424bc3bc":"fig = px.bar(costly_zomato, \n                   x='Restaurant Name', \n                   color='City',\n                 y='Average Cost for two', \n                 title='Costly restaurants around the globe for 2 people')\nfig.update_layout(bargap=0.1)\nfig.show()","ebd579c6":"zomato.columns","555330c0":"import plotly.express as px\n\nfig = px.scatter_mapbox(zomato, lat=\"Latitude\", lon=\"Longitude\", hover_name=\"City\", hover_data=[\"Aggregate rating\", \n                                                                                            \"Restaurant Name\",\"Average Cost for two\",\n                                                                                            \"Price range\", 'Rating text'],\n                        color_discrete_sequence=[\"green\"], zoom=10, height=300)\n\nfig.update_layout(mapbox_style=\"open-street-map\")\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})\nfig.update_layout(title='Top 25 costly Resturants Location',\n                  autosize=True,\n                  showlegend=False)\n\nfig.update_layout(\n    autosize=False,\n    width=800,\n    height=500,)\n\nfig.show()","03d607c9":"# df = px.data.gapminder()\n\nzomato_india = zomato.loc[(zomato.Country == 'India')]\n\nfig = px.scatter(zomato_india, \n                 x=\"Average Cost for two\", \n                 y=\"Price range\", \n                 animation_frame=\"City\", \n                 animation_group=\"Restaurant Name\",   \n                 color=\"Rating color\", \n                 hover_data=[\"City\" ,\"Restaurant Name\"],\n                 log_x=True, \n                 size_max=80, \n                 range_x=[200,3000], \n                 range_y=[0,5])\n\nfig.show()","03d6fe4a":"### Understanding Currency","5cae5100":"### Highest number of resturents under zomato sevies which also have online booking facility","e8fabb38":"##### Observations: India seems to have maximum unrated restaurants. The reason might be that, in India the culture of ordering online food is still gaining momentum hence most of the restaurants are still unrated on Zomato as people might be yet not accoustomed to give ratings. They just order food, and upon receiving, eat and rest :D","c9b8b277":"### Price range vs avg cost for cities in India","f54d09b0":"### 25 costly restaurants for 2 people around the globe:","e5793f14":"### Extracing top-25 cuisines","bdc1c4aa":"##### Observations: Zomato is 90% in india (makes sense, as this is an indian origin company). United States comes next","72de937e":" ### Understanding the ratings","dda249a5":"### Missing values","2467f213":"##### Obseravtions: The above information helps us to understand the relation between 'Aggregate rating', 'color' and 'text'. We conclude the following color assigned to the ratings:\n\n* Rating 0 - White - Not rated\n\n* Rating 1.8 to 2.4 - Red - Poor\n\n* Rating 2.5 to 3.4 - Orange - Average\n\n* Rating 3.5 to 3.9 - Yellow - Good\n\n* Rating 4.0 to 4.4 - Green - Very Good\n\n* Rating 4.5 to 4.9 - Dark Green - Excellent\n","7346a7bd":"##### Observation: Zomato's presence is dominantly in Indian cities. ","64f23b4b":"##### Observations: Looks like most of the hotel doesn't have online delivery. Only 25.3% resturents have online delivery system across world.\n##### Moreover, only india and uae has got the online services","1e741538":"### Merging zomato dataframe with country code, to get country name corresponding to each country code","4c4c2deb":"### Top 25 costly Resturants' Locations","6283580e":"##### Observations: Not rated count is very high, we need to see what might be the cause\n##### Observations: But clearly, among all the rated restaurants, orange (average) is most frequent","59bb7fc1":"### City-wise coverage","31f79233":"## Exploratory Data Analysis of Zomato Restaurant"}}