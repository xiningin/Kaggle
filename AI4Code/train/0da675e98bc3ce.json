{"cell_type":{"adff7f6c":"code","08e2ce3d":"code","676b3281":"code","b4b8ab86":"code","53b2a488":"code","87be5a4c":"code","e725eae9":"code","9dcf9e05":"code","d4a449e2":"code","a11c7928":"code","0417437c":"code","b083c2a8":"code","2de52561":"code","167b88b5":"code","1cd79c53":"code","85de3b36":"code","9c643433":"code","1afeadb9":"code","63d5e0ab":"code","4228f64d":"code","8f983a64":"code","3b98a0d0":"code","991ac741":"code","2afcd8c0":"code","1364c8fe":"code","7467320f":"code","e654a4b1":"markdown","2fe02200":"markdown","0f2c3b6b":"markdown","0dee744a":"markdown","e99bd8ca":"markdown","48285c3e":"markdown","b9789798":"markdown","cd9ba0f0":"markdown","26e6f4c5":"markdown","697c6fc5":"markdown","7d91c9d4":"markdown","616526b4":"markdown","72974a9e":"markdown","d258c725":"markdown","188bfcbd":"markdown","d0726e36":"markdown","2000c7c9":"markdown","384ceac0":"markdown","25fafa7c":"markdown","23921e3c":"markdown","d87c0711":"markdown","f90baa53":"markdown","6b1b1077":"markdown","55a5beab":"markdown","d8a0abd2":"markdown","38d8ec8f":"markdown","da6291a5":"markdown","84c3985c":"markdown","01903e0f":"markdown","935b87c1":"markdown","9601bb54":"markdown","25dd16dc":"markdown","082714f2":"markdown"},"source":{"adff7f6c":"# check for the input dataset\nimport os\nprint(os.listdir('..\/input'))","08e2ce3d":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport warnings\nwarnings.filterwarnings('ignore') ## ignore all the warnings\nfrom statsmodels import robust ## for Median Absolute Deviation","676b3281":"haberman=pd.read_csv(\"..\/input\/haberman.csv\",names=['age', 'operation_year', 'axil_nodes', 'survival_status'])","b4b8ab86":"# haberman.describe()\nprint(haberman.head(15))","53b2a488":"print (haberman.shape)","87be5a4c":"haberman[\"survival_status\"].value_counts()","e725eae9":"haberman.info()","9dcf9e05":"# Class Label \"survival_status\" are now to labelled as {1:\"yes\",2:\"no\"} stating \"yes\" as survived and \"no\" as Dead Not Survived\nhaberman['survival_status'] = haberman['survival_status'].map({1:\"yes\", 2:\"no\"})\nprint(haberman.head(15)) ## we are displaying 1st 15 lines","d4a449e2":"## CHECKING THE UPDATED SURVIVAL STATUS\nhaberman[\"survival_status\"].value_counts()","a11c7928":"## CHECKING THE UPDATED INFO ABOUT THE CHANGED DATATYPE OF OUR CLASS LABEL\nhaberman.info()","0417437c":"print (haberman.columns)","b083c2a8":"## Last column is our CATEGORY that is the DEPENDENT VARIABLE, therefore it is not considered as a feature\nprint (haberman.columns[:-1])","2de52561":"print(haberman[\"survival_status\"].unique())","167b88b5":"print(haberman.groupby(\"survival_status\").count())","1cd79c53":"haberman_yes=haberman.loc[haberman[\"survival_status\"]==\"yes\"]\nhaberman_no=haberman.loc[haberman[\"survival_status\"]==\"no\"]\n\nprint(\"SURVIVAL_STATUS: YES , COUNT\",haberman_yes[\"survival_status\"].count()) \nprint(\"hi\")\nprint(\"VARIABLE       MEAN             MEDIAN    STD. DEVIATION        MAD\")\nprint(\"age         \",np.mean(haberman_yes[\"age\"]),\"  \",np.median(haberman_yes[\"age\"]),\"  \",np.std(haberman_yes[\"age\"]),\"   \",robust.mad(haberman_yes[\"age\"]))\nprint(\"opYear      \",np.mean(haberman_yes[\"operation_year\"]),\"  \",np.median(haberman_yes[\"operation_year\"]),\"  \",np.std(haberman_yes[\"operation_year\"]),\"   \",robust.mad(haberman_yes[\"operation_year\"]))\nprint(\"axilnodes   \",np.mean(haberman_yes[\"axil_nodes\"]),\"  \",np.median(haberman_yes[\"axil_nodes\"]),\"  \",np.std(haberman_yes[\"axil_nodes\"]),\"   \",robust.mad(haberman_yes[\"axil_nodes\"]))\nprint(\"\\n\")\n# includeInDescribe=['ag','opYear','axilNodes']\nperc=[.0,.25,.50,.75,.1]\n\n\nprint(\"SURVIVAL_STATUS: NO , COUNT\",haberman_no[\"survival_status\"].count())  \nprint(\"VARIABLE       MEAN             MEDIAN    STD. DEVIATION        MAD\")\nprint(\"age         \",np.mean(haberman_no[\"age\"]),\"  \",np.median(haberman_no[\"age\"]),\"  \",np.std(haberman_no[\"age\"]),\"   \",robust.mad(haberman_no[\"age\"]))\nprint(\"opYear      \",np.mean(haberman_no[\"operation_year\"]),\"  \",np.median(haberman_no[\"operation_year\"]),\"  \",np.std(haberman_no[\"operation_year\"]),\"  \",robust.mad(haberman_no[\"operation_year\"]))\nprint(\"axilnodes   \",np.mean(haberman_no[\"axil_nodes\"]),\"   \",np.median(haberman_no[\"axil_nodes\"]),\"   \",np.std(haberman_no[\"axil_nodes\"]),\"   \",robust.mad(haberman_no[\"axil_nodes\"]))\nprint(\"\\n\\n\")\n\nprint(\"SURVIVAL STATUS: YES -> DESCRIBE\")\nprint(haberman_yes.describe(percentiles=perc))\nprint(\"\\n\\n\")\nprint(\"SURVIVAL STATUS: NO -> DESCRIBE\")\nprint(haberman_no.describe(percentiles=perc))\n# print(haberman.describe(percentiles=perc))\n","85de3b36":"## PATIENT AGE\nsns.FacetGrid(haberman,hue=\"survival_status\",size=5)\\\n    .map(sns.distplot,\"age\")\\\n    .add_legend();\n\nplt.show();","9c643433":"sns.FacetGrid(haberman,hue=\"survival_status\",size=5)\\\n    .map(sns.distplot,\"operation_year\")\\\n    .add_legend();\nplt.show()","1afeadb9":"sns.FacetGrid(haberman,hue=\"survival_status\",size=5)\\\n    .map(sns.distplot,\"axil_nodes\")\\\n    .add_legend();\n\nplt.show()","63d5e0ab":"##haberman\nplt.figure(figsize=(20,6))\nplt.subplot(131) ##(1=no. of rows, 3= no. of columns, 1=1st figure,2,3,4 boxes)\ncounts,bin_edges=np.histogram(haberman_yes[\"age\"],bins=10,density=True)\npdf=counts\/sum(counts)\ncdf=np.cumsum(pdf)\nplt.plot(bin_edges[1:],pdf,linewidth=3.0)\nplt.plot(bin_edges[1:],cdf,linewidth=3.0)\nplt.ylabel(\"COUNT\")\nplt.xlabel('AGE')\nplt.title('PDF-CDF of AGE for Survival Status = YES')\nplt.legend(['PDF-AGE', 'CDF-AGE'], loc = 5,prop={'size': 16})\n\nplt.subplot(132)\ncounts,bin_edges=np.histogram(haberman_yes[\"operation_year\"],bins=10,density=True)\npdf=counts\/sum(counts)\ncdf=np.cumsum(pdf)\nplt.plot(bin_edges[1:],pdf,linewidth=3.0)\nplt.plot(bin_edges[1:],cdf,linewidth=3.0)\nplt.ylabel(\"COUNT\")\nplt.xlabel('YEAR OF OPERATION')\nplt.title('PDF-CDF of OPERATION YEAR for Survival Status = YES')\nplt.legend(['PDF-OPERATION YEAR', 'CDF-OPERATION YEAR'], loc = 5,prop={'size': 11})\n\nplt.subplot(133)\ncounts,bin_edges=np.histogram(haberman_yes[\"axil_nodes\"],bins=10,density=True)\npdf=counts\/sum(counts)\ncdf=np.cumsum(pdf)\nplt.plot(bin_edges[1:],pdf,linewidth=3.0)\nplt.plot(bin_edges[1:],cdf,linewidth=3.0)\nplt.ylabel(\"COUNT\")\nplt.xlabel('AXIL NODES')\nplt.title('PDF-CDF of AXIL NODES for Survival Status = YES')\nplt.legend(['PDF-AXIL NODES', 'CDF-AXIL NODES'], loc = 5,prop={'size': 16})\nplt.show()","4228f64d":"# Box plot takes a less space and visually represents the five number summary of the data points in a box. \n# The outliers are displayed as points outside the box.\n# 1. Q1 - 1.5*IQR\n# 2. Q1 (25th percentile)\n# 3. Q2 (50th percentile or median)\n# 4. Q3 (75th percentile)\n# 5. Q3 + 1.5*IQR\n# Inter Quartile Range = Q3 -Q1\n\nfigure, axes = plt.subplots(1, 3, figsize=(15, 5))\nfor idx, feature in enumerate(list(haberman.columns)[:-1]):\n    mystr=\"Box plot for survival_status and \"+feature\n    sns.boxplot( x='survival_status', y=feature, data=haberman, ax=axes[idx]).set_title(mystr)\nplt.show()","8f983a64":"# A violin plot combines the benefits of BoxPlot and Univariate Histogram PDF plots \n#and simplifies them\n# Denser regions of the data are fatter, and sparser ones thinner \n#in a violin plot\n\nfig, axes = plt.subplots(1, 3, figsize=(15, 5))\nfor idx, feature in enumerate(list(haberman.columns)[:-1]):\n#     print(idx,feature)\n    sns.violinplot( x='survival_status', y=feature, data=haberman, ax=axes[idx])\nplt.show()","3b98a0d0":"#2D Density plot, contors-plot\nsns.jointplot(x=\"age\",y=\"operation_year\",data=haberman, kind=\"kde\")\nplt.show()\n\nsns.jointplot(x=\"age\",y=\"axil_nodes\",data=haberman, kind=\"kde\")\nplt.show()\n\nsns.jointplot(x=\"operation_year\",y=\"axil_nodes\",data=haberman, kind=\"kde\")\nplt.show()\n\n","991ac741":"plt.close() ## close previous show()\nsns.set_style(\"whitegrid\")\nsns.pairplot(haberman,hue=\"survival_status\",vars=[\"age\",\"operation_year\",\"axil_nodes\"],size=3.5,plot_kws=dict(s=70),diag_kind = 'kde')\nplt.show()","2afcd8c0":"## AGE <> AXIL NODES\n# haberman.plot(kind='scatter', x='age', y='axil_nodes') ;\n# plt.show()\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(haberman, hue=\"survival_status\", size=6) \\\n   .map(plt.scatter, \"age\", \"axil_nodes\") \\\n   .add_legend();\nplt.show();","1364c8fe":"## AXIL NODES <> OPERATION YEAR\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(haberman, hue=\"survival_status\", size=5) \\\n   .map(plt.scatter, \"axil_nodes\", \"operation_year\") \\\n   .add_legend();\n\nplt.show();","7467320f":"## AGE <> OPERATION YEAR\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(haberman, hue=\"survival_status\", size=5) \\\n   .map(plt.scatter, \"operation_year\", \"age\") \\\n   .add_legend();\nplt.show();","e654a4b1":"### 2. LOADING THE DATASET","2fe02200":"**OBSERVATION**\n\n1. Operation year 60, 61 and 68 has more survival rate.","0f2c3b6b":"# B. OBJECTIVE\n\n**To predict whether the patient will survive after 5 years or not based upon the patient's age, year of treatment and the number of positive lymph nodes**","0dee744a":"**OBSERVATION**\n\n1. From AXIL_NODE and SURVIVAL_STATUS, we can conclude that higher the axil_nodes, higher the chances of their death.","e99bd8ca":"# E. UNIVARIATE ANALYSIS\n","48285c3e":"# F. BI-VARIATE ANALYSIS\n","b9789798":"## 1. PAIR PLOTS","cd9ba0f0":"**OBSERVATION**\n\nAs we can see all the above Pair Plots, we can say that they are not Linearly Separable.","26e6f4c5":"## 2. SCATTER PLOTS","697c6fc5":"**OBSERVATION**\n\n1. People with axil nodes more than 50 have higher rate of non survival.","7d91c9d4":"### 3. NUMBER OF CLASSES","616526b4":"## 1. HISTOGRAM","72974a9e":"### 1. NUMBER OF POINTS","d258c725":"**OBSERVATION**\n\n1. This is Binary Classification Problem, where we need to predict whether the patient will survive after 5 years or not based upon the patient's age, year of treatment and the number of positive lymph nodes\n2. 50% of the Patients are below the age of 54.","188bfcbd":"**OBSERVATION**\n\n1. Operation year having range (63-66) had highest successfull survival rate\n2. Operation year 60 had highest un-successfull rate\n\n","d0726e36":"**OBSERVATION**\n\n1. Patients with Age < 40 and axil < 30 have higher chances of survival.\n2. Patients with Age > 50 and Axil > 10 are more likely to die.","2000c7c9":"**OBSERVATION**\n\n1. Patients with age range 40-60 have survived the most.","384ceac0":"**OBSERVATION**\n\n1. As we can clearly see, axil node=0 has the highest Survival rate.","25fafa7c":"# A. DATASET INFORMATION","23921e3c":"### 2. NUMBER OF FEATURES","d87c0711":"## 3. BOX PLOT & WHISKERS","f90baa53":"### 1. ENVIRONMENT SETUP","6b1b1077":"# D. HIGH LEVEL STATISTICS OF THE DATASET","55a5beab":"### 5. MEAN, MAD & STD. DEVIATION","d8a0abd2":"# EXPLORATORY DATA ANALYSIS: HABERMAN DATASET\n### A. DATA INFORMATION\n### B. OBJECTIVE\n### C. DATASET CONFIGURATION\n       1. ENVIRONMENT LOADING\n       2. LOADING THE DATASET\n### D. HIGH LEVEL STATISTICS OF THE DATASET\n       1. NUMBER OF POINTS\n       2. NUMBER OF FEATURES\n       3. NUMBER OF CLASSES\n       4. DATAPOINTS PER NUMBER OF CLASS\n       5. MEAN, MAD & STD. DEVIATION\n### E. UNIVARIATE ANALYSIS\n       1. HISTOGRAM\n       2. PDF & CDF\n       3. BOX PLOT & WHISKERS\n       4. VIOLIN PLOT\n       5. CONTOUR PLOT\n### F. BI-VARIATE ANALYSIS\n       1. PAIR PLOT\n       2. SCATTER PLOT\n### G. ALL OBSERVATIONS\n       \n       \n       ","38d8ec8f":"## 5.  CONTOUR PLOT","da6291a5":"# G. ALL OBSERVATIONS\n1. Dataset is UNBALANCED but complete as no values are missing\n2. Our CLASS LABEL ie survival_status is INTERGER and needs to converted to valid CATEGORICAL datatype\n3. Class Label \"survival_status\" are now to labelled as {1:\"yes\",2:\"no\"} stating \"yes\" as survived and \"no\" as Dead Not Survived.\n4. This is Binary Classification Problem, where we need to predict whether the patient will survive after 5 years or not based upon the patient's age, year of treatment and the number of positive lymph nodes\n5. 50% of the Patients are below the age of 54.\n6. Operation year having range (63-66) had highest successfull survival rate\n7. Operation year 60 had highest un-successfull rate. Patients with age range 40-60 have survived the most.\n8. As we can clearly see, axil node=0 has the highest Survival rate.\n9. From AXIL_NODE and SURVIVAL_STATUS, we can conclude that higher the axil_nodes, higher the chances of their death.\n10. As we can see all the above Pair Plots, we can say that they are not Linearly Separable.\n11. Patients with Age < 40 and axil < 30 have higher chances of survival.\n12. Patients with Age > 50 and Axil > 10 are more likely to die\n13. People with axil nodes more than 50 have higher rate of non survival.\n14. Operation year 60, 61 and 68 has more survival rate.\n\n","84c3985c":"### 4. DATAPOINTS PER NUMBER OF CLASS","01903e0f":"# 2. PDF & CDF","935b87c1":"# C. DATASET CONFIGURATION","9601bb54":"**About the Dataset** :- The Haberman's Survival Dataset contains cases from a study that was conducted between 1958 and 1970 at the University of Chicagos Billings Hospital on the survival of patients who had undergone surgery for breast cancer. \n\n**Dataset source** :- https:\/\/www.kaggle.com\/gilsousa\/habermans-survival-data-set\/data\n\n**Attribute Information:**\n\nAge of patient at time of operation (numerical)\n\nPatient's year of operation (year - 1900, numerical)\n\nNumber of positive axillary nodes detected (numerical)\n\nSurvival status (class attribute) 1 = the patient survived 5 years or longer 2 = the patient died within 5 year","25dd16dc":"**OBSERVATION**\n1. Dataset is UNBALANCED but complete as no values are missing\n2. Our CLASS LABEL ie survival_status is INTERGER and needs to converted to valid CATEGORICAL datatype\n3. Class Label \"survival_status\" are now to labelled as {1:\"yes\",2:\"no\"} stating \"yes\" as survived and \"no\" as Dead Not Survived","082714f2":"## 4. VIOLIN PLOT"}}