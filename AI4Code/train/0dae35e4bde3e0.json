{"cell_type":{"9ed68cd7":"code","7fc9eb09":"code","807338e9":"code","18895879":"code","e3012343":"code","e094bfb5":"code","66f2774e":"code","b538a41e":"code","beb2f5eb":"code","22ed608f":"code","88817ef6":"code","f34802e8":"code","10455f29":"code","4d1d45ae":"code","d7000070":"code","443c15cf":"code","f8ad2241":"code","aff9faa3":"code","3b5a9069":"code","7cd4f20c":"code","a1d7b26b":"code","9e6bcb4f":"code","34a04f22":"code","1f0259bd":"code","9116f3b1":"code","a6842ea1":"code","83a8e060":"code","7765aedd":"code","9925a90c":"code","6420ac30":"code","41b81458":"code","e0810cdb":"code","ff1656ad":"code","f5e5a2f6":"code","75b66405":"code","741f147d":"code","833afb87":"code","756ce67a":"code","d769da8f":"code","59cd3f2e":"code","2a18beec":"code","1949c4b7":"code","b3692adc":"code","94658765":"code","842c6fe6":"code","16932435":"code","1209b08b":"code","935ac096":"code","488a4ddc":"code","a88d8448":"code","852dc3b9":"code","3b230257":"code","9b20acaf":"code","8b457b35":"code","80079ea9":"code","f4bc5554":"code","9d30dc80":"code","ed691d64":"code","318e312c":"code","54644720":"code","1cda45dd":"code","f89e9233":"markdown","4fb7633d":"markdown","7e5cbb7e":"markdown","1ee8f4ca":"markdown","d107ccec":"markdown","51f33528":"markdown","2dd382b9":"markdown","ceb15c4e":"markdown","523e9159":"markdown","f6c654c7":"markdown","8f92e4ec":"markdown","614046f3":"markdown","17df2029":"markdown","d87fe8f9":"markdown","f283f950":"markdown","a82e1632":"markdown","30c16cd3":"markdown","62440442":"markdown","743890e2":"markdown","c42fc50e":"markdown","b0add2cf":"markdown","968d4ad5":"markdown","600bbae7":"markdown","e7df1dd0":"markdown","2c288399":"markdown","de7587db":"markdown","5d6b6d5f":"markdown"},"source":{"9ed68cd7":"import pandas as pd\nimport pandas_profiling as pp\nimport matplotlib.pyplot as plt\nimport missingno as msno\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport numpy as np\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","7fc9eb09":"data=pd.read_csv('\/kaggle\/input\/tesla-stock-data-20162021\/TSLA.csv')\ndata.head()","807338e9":"msno.bar(data)","18895879":"data['Date']=pd.to_datetime(data.Date)\ndata.info()","e3012343":"pp.ProfileReport(data)","e094bfb5":"start_date=data['Date'].min()\nend_date=data['Date'].max()\nduration=end_date-start_date\nprint('Start date :',start_date)\nprint('End date :',end_date)\nprint('Duration :',duration)","66f2774e":"data.set_index('Date',inplace=True)\ndata.head()","b538a41e":"data_open_close=data[['Open','Close']]\ndata_open_close['Average_open']=data_open_close.Open.rolling(window=10).mean()\ndata_open_close['Average_close']=data_open_close.Close.rolling(window=10).mean()\ndata_open_close['STD_open']=data_open_close.Open.rolling(window=10).std()\ndata_open_close['STD_close']=data_open_close.Close.rolling(window=10).std()","beb2f5eb":"fig=px.line(data_open_close,x=data_open_close.index,y=[data_open_close.Open,data_open_close.Close,\n                                                      data_open_close.Average_open,data_open_close.Average_close,\n                                                      data_open_close.STD_open,data_open_close.STD_close],labels={'Date':'Date','value'\n                                                                                                          :'Price'},\n           width=800,height=500)\nfig.update_layout(title='Overview of Open and close prices during 2016 to 2021',font_size=15,\n                 legend_title_text='Legend')\nfig.update_xaxes(showgrid=False)\nfig.update_yaxes(showgrid=False)\nfig.update_layout({'plot_bgcolor':'white'})\nfig.show()","22ed608f":"data_high_low=data[['High','Low']]\ndata_high_low['Average_high']=data_high_low.High.rolling(window=10).mean()\ndata_high_low['Average_low']=data_high_low.Low.rolling(window=10).mean()\ndata_high_low['STD_low']=data_high_low.Low.rolling(window=10).std()\ndata_high_low['STD_high']=data_high_low.High.rolling(window=10).std()\ndata_high_low.head()\n","88817ef6":"fig=px.line(data_high_low,x=data_high_low.index,y=[data_high_low.High,data_high_low.Low,data_high_low.Average_high,\n                                                  data_high_low.Average_low,\n                                                  data_high_low.STD_high,data_high_low.STD_low],labels={'Date':'Date','value'\n                                                                                                          :'Price'},\n           width=800,height=500)\nfig.update_layout(title='Overview of High and Low prices during 2016 to 2021',font_size=15,\n                 legend_title_text='Legend')\nfig.update_xaxes(showgrid=False)\nfig.update_yaxes(showgrid=False)\nfig.update_layout({'plot_bgcolor':'white'})\nfig.show()","f34802e8":"monthwise=data.groupby(data.index.strftime('%B'))[['Open','Close']].mean()\nmonth=['January','February','March','April','May','June','July','August','September','October',\n       'November','December']\nmonthwise=monthwise.reindex(month)\nmonthwise","10455f29":"fig=px.bar(monthwise)\nfig.update_layout(barmode='group',title='Monthwise comparision between Stock open and close price',\n                 font_size=15,xaxis_title='Months',yaxis_title='Price')\nfig.update_layout({'plot_bgcolor':'white'})\n\n\nfig.show()","4d1d45ae":"monthwise1=data.groupby(data.index.strftime('%B'))['Low'].min()\nmonthwise2=data.groupby(data.index.strftime('%B'))['High'].max()\nmonth=['January','February','March','April','May','June','July','August','September','October',\n       'November','December']\nmonthwise1=monthwise1.reindex(month)\nmonthwise2=monthwise2.reindex(month)\nmonthwise1=pd.DataFrame(monthwise1)\nmonthwise2=pd.DataFrame(monthwise2)\nmonthwise2['Low']=monthwise1['Low']\nmonthwise2","d7000070":"fig=px.bar(monthwise2)\nfig.update_layout(barmode='group',title='Monthwise comparision between Stock open and close price',\n                 font_size=15,xaxis_title='Months',yaxis_title='Price'\n                 )\nfig.update_xaxes(showgrid=False)\nfig.update_yaxes(showgrid=False)\nfig.update_layout({'plot_bgcolor':'white'})\nfig.show()","443c15cf":"def plot(year,comp1,comp2):\n    fig=px.line(data.loc[year],x=data.loc[year].index,y=[comp1,comp2])\n    fig.update_layout(title=f'Analyzing the stocks in {year}',\n                     xaxis_title='Month',yaxis_title='Prices')\n    fig.update_layout({'plot_bgcolor':'white'})\n    fig.update_xaxes(showgrid=False)\n    fig.update_yaxes(showgrid=False)\n    return fig.show()\n\n    \n    ","f8ad2241":"def duration(year):\n    start=data.loc[year].index.min()\n    end=data.loc[year].index.max()\n    duration=end-start\n    print('Start =',start)\n    print('End =',end)\n    print('duration ',duration)\n","aff9faa3":"def ECDF(data):\n    n=len(data)\n    x=np.sort(data)\n    y=np.arange(1,1+n)\/n\n    return x,y","3b5a9069":"data.loc['2016'].count()","7cd4f20c":"duration('2016')","a1d7b26b":"plot('2016','Open','Close')","9e6bcb4f":"plot('2016','High','Low')","34a04f22":"X_ecdf,y_ecdf=ECDF(data.loc['2016'].Close.values)\nfig=px.scatter(x=X_ecdf,y=y_ecdf,title='ECDF Plot for the Closing price')\nfig.update_layout(xaxis_title='Closing price',yaxis_title='ECDF')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","1f0259bd":"data.loc['2017'].count()","9116f3b1":"duration('2017')","a6842ea1":"plot('2017','Open','Close')","83a8e060":"plot('2017','High','Low')","7765aedd":"X_ecdf,y_ecdf=ECDF(data.loc['2017'].Close.values)\nfig=px.scatter(x=X_ecdf,y=y_ecdf,title='ECDF Plot for the Closing price')\nfig.update_layout(xaxis_title='Closing price',yaxis_title='ECDF')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","9925a90c":"data.loc['2018'].count()","6420ac30":"duration('2018')","41b81458":"plot('2018','Open','Close')","e0810cdb":"plot('2018','High','Low')","ff1656ad":"X_ecdf,y_ecdf=ECDF(data.loc['2018'].Close.values)\nfig=px.scatter(x=X_ecdf,y=y_ecdf,title='ECDF Plot for the Closing price')\nfig.update_layout(xaxis_title='Closing price',yaxis_title='ECDF')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","f5e5a2f6":"data.loc['2019'].count()","75b66405":"duration('2019')","741f147d":"plot('2019','Open','Close')","833afb87":"plot('2019','High','Low')","756ce67a":"X_ecdf,y_ecdf=ECDF(data.loc['2019'].Close.values)\nfig=px.scatter(x=X_ecdf,y=y_ecdf,title='ECDF Plot for the Closing price')\nfig.update_layout(xaxis_title='Closing price',yaxis_title='ECDF')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","d769da8f":"data.loc['2020'].count()","59cd3f2e":"duration('2020')","2a18beec":"plot('2020','Open','Close')","1949c4b7":"plot('2020','High','Low')","b3692adc":"X_ecdf,y_ecdf=ECDF(data.loc['2020'].Close.values)\nfig=px.scatter(x=X_ecdf,y=y_ecdf,title='ECDF Plot for the Closing price')\nfig.update_layout(xaxis_title='Closing price',yaxis_title='ECDF')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","94658765":"data.loc['2021'].count()","842c6fe6":"duration('2021')","16932435":"plot('2021','Open','Close')","1209b08b":"plot('2020','High','Low')","935ac096":"X_ecdf,y_ecdf=ECDF(data.loc['2021'].Close.values)\nfig=px.scatter(x=X_ecdf,y=y_ecdf,title='ECDF Plot for the Closing price')\nfig.update_layout(xaxis_title='Closing price',yaxis_title='ECDF')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","488a4ddc":"data['diff_Close']=data.Close.diff()\ndata.head()\n","a88d8448":"def diff(year):\n    fig=px.line(data.loc[year],x=data.loc[year].index,y=data.loc[year].diff_Close)\n    fig.update_layout(title=f'The diffirence of closing prices of {year}',yaxis_title='Difference'\n                     ,xaxis_title='Month')\n    fig.update_xaxes(showgrid=False)\n    return fig.show()","852dc3b9":"diff('2016')","3b230257":"diff('2017')","9b20acaf":"diff('2018')","8b457b35":"diff('2019')","80079ea9":"diff('2020')","f4bc5554":"diff('2021')","9d30dc80":"#","ed691d64":"Return=data.Close.pct_change()\nReturn","318e312c":"Return_plus_one=Return.add(1)\ncumulative_Retuen=Return_plus_one.cumprod()\ncumulative_Retuen","54644720":"investment=cumulative_Retuen.mul(1000)\ninvestment","1cda45dd":"fig=px.line(investment,title='how much 1000$ would be worth if invested at 2016-08-16')\nfig.update_layout(xaxis_title='Date',yaxis_title='the Return')\nfig.update_layout({'plot_bgcolor':'white'})\nfig.update_xaxes(showgrid=False)\nfig.update_xaxes(showgrid=False)\nfig.show()","f89e9233":"# senario : how much 1000 would be worth if invested at 2016-08-16\n<a name='senario'><\/a>","4fb7633d":"<a name='differ_2016'><\/a>\n# 2016","7e5cbb7e":"## Table of contents\n- [Importing Libraries And Packages](#lib)\n- [Importing the dataset](#data)\n- [Checking the missing values](#miss)\n- [Preprocessing Date and convert into Datatime format](#date)\n- [Exploratory Data Analysis using pandas_profiling package](#profile)\n- [Exploratory Data Analysis EDA](#EDA)\n    - [Exploring the duration of the dataset](#duration)\n    - [Take an overview of open and close during this duration](#ov_open_close)\n    - [Take an overview of High and Low during this duration](#ov_high_low)\n    - [Monthwise comparision between Stock open and close price](#month_open_close)\n    - [Monthwise comparision between Stock high and low price](#month_high_low)\n    - [Analyzing Stocks Through Each Year](#ana)\n        - [2016](#2016)\n        - [2017](#2017)\n        - [2018](#2018)\n        - [2019](#2019)\n        - [2020](#2020)\n        - [2021](#2021)\n    - [Analyzing the differnce closing prices for each year](#differ)\n        - [2016](#differ_2016)\n        - [2017](#differ_2017)\n        - [2018](#differ_2018)\n        - [2019](#differ_2019)\n        - [2020](#differ_2020)\n        - [2021](#differ_2021)\n- [senario : how much 1000 would be worth if invested at 2016-08-16](#senario)\n","1ee8f4ca":"<a name='duration'><\/a>\n##### 1- Find the Duration","d107ccec":"<a name='lib'> <\/a>\n# Importing Libraries And Packages","51f33528":"<a name='differ_2020'><\/a>\n# 2020","2dd382b9":"<a name='2019'><\/a>\n# 2019","ceb15c4e":"<a name='differ_2021'><\/a>\n# 2021","523e9159":"<a name='2018'><\/a>\n# 2018","f6c654c7":"<a name='2021'><\/a>\n# 2021\n","8f92e4ec":"<a name='ana'><\/a>\n### Analyzing Stocks Through Each Year","614046f3":"<a name='date' ><\/a>\n# Converting The Date Column From String To Datetime","17df2029":"<a name='differ_2018'><\/a>\n# 2018","d87fe8f9":"<a name='ov_open_close' ><\/a>\n##### 2-Take an overview of open and close during this duration\n","f283f950":"<a name='2016'><\/a>\n# 2016","a82e1632":"<a name='differ_2019'><\/a>\n# 2019","30c16cd3":"<a name='profile' ><\/a>\n# EDA- pandas_profiling\nGetting the Exploratory Data Analysis from pandas_profiling packagea","62440442":"<a name='month_high_low'><\/a>\n##### 5-Monthwise comparision between Stock high and low price","743890e2":"<a name='differ'><\/a>\n## Analyzing the differnce closing prices for each year","c42fc50e":"<a name='differ_2017'><\/a>\n# 2017","b0add2cf":"<a name='2017'><\/a>\n# 2017","968d4ad5":"<a name='EDA'><\/a>\n# EDA\n","600bbae7":"<a name='ov_high_low'><\/a>\n##### 3-Take an overview of High and Low during this duration)","e7df1dd0":"<a name='month_open_close'><\/a>\n##### 4-Monthwise comparision between Stock open and close price","2c288399":"<a name='2020'><\/a>\n\n# 2020","de7587db":"<a name='data' ><\/a>\n# Importing The Dataset","5d6b6d5f":"<a name='miss' ><\/a>\n# Checking The Missing Values\n"}}