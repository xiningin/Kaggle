{"cell_type":{"e3522e52":"code","046c0da9":"code","7b0223d3":"code","9e6c5e8e":"code","c1b9efe2":"code","6c324e2e":"code","987e2e23":"code","2c6ab6c3":"code","d1b8b536":"code","35862c69":"code","34c27b60":"code","dd8b8bd2":"code","e2fc675d":"code","48c2e763":"markdown","be177a3b":"markdown","2f942d8b":"markdown","0f717e50":"markdown","cc26233b":"markdown","2440e4bb":"markdown","7170737b":"markdown","d2b960b5":"markdown","19a99774":"markdown","0c7a8c3f":"markdown","76fb216f":"markdown","2eb05766":"markdown","b117b0d0":"markdown","758ba14d":"markdown","123aa9cd":"markdown","02361880":"markdown","f1b0a6de":"markdown","ce689998":"markdown","51880775":"markdown"},"source":{"e3522e52":"# Data manipulation\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Plot and configure graphics\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n\n# Transformation of categorical variables\nfrom sklearn.preprocessing import LabelEncoder\n\n# prediction and evaluation the model \nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.metrics import mean_absolute_error \n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","046c0da9":"# Load the dataset\nfile = ('..\/input\/students-performance-in-exams\/StudentsPerformance.csv')\norg_data = pd.read_csv(file)","7b0223d3":"# Shows the main statistical data from the dataset\ndf = org_data.copy()\ndf['mean score']  = (df['math score'] + df['reading score'] + df['writing score'])\/3 #Add a new column \ndf.describe()","9e6c5e8e":"df['gender'].value_counts()","c1b9efe2":"fig, ax = plt.subplots(figsize =(8,6)) \nsns.set_style('darkgrid')\n\nsns.countplot(data=df, x ='gender',hue ='race\/ethnicity', palette = 'cubehelix')\nax.set(title='Distribution by gender of students and race', ylabel='')\n\nfig.tight_layout()\nplt.show()","6c324e2e":"fig, ax = plt.subplots(figsize =(8,6)) \nsns.set_style('darkgrid')\n\nsns.countplot(data=df, y ='parental level of education', hue= 'race\/ethnicity', palette = 'cubehelix')\nax.set(title='parental level of education', ylabel='', xlabel='')\n\nfig.tight_layout()\nplt.show()","987e2e23":"cont_test = df['test preparation course'].value_counts()\nlabels = df['test preparation course'].value_counts().index\n\nfig, ax = plt.subplots(figsize =(6,6))\ncor = ['darkorange','royalblue']\nplt.pie(cont_test, labels =labels, autopct='%1.1f%%', colors= cor)\nplt.legend(labels, loc=1)\nplt.title('Test preparation course')\n\nfig.tight_layout()\nplt.show()","2c6ab6c3":"fig, ax = plt.subplots(figsize =(8,6))\nsns.set_style('darkgrid')\n\nsns.stripplot(data= df, x='lunch', y='mean score', hue= 'test preparation course', palette='cubehelix')\nax.set(title='Performance')\n\nfig.tight_layout()\nplt.show()","d1b8b536":"df_nc = df.select_dtypes(['int64'])\n\nfor nc in df_nc:\n    plt.subplots(figsize=(8,6))\n    ax = sns.scatterplot(data= df_nc, x= df_nc[nc], y= df['mean score'], hue= df['gender'], palette= 'cubehelix')\nfig.tight_layout()   \nplt.show()","35862c69":"df_nc = df.select_dtypes(['int64'])\n\nfor nc in df_nc:\n    plt.subplots(figsize=(8,6))\n    ax = sns.scatterplot(data= df_nc, x= df_nc[nc], y = df['mean score'], hue = df['lunch'])\nfig.tight_layout()   \nplt.show()","34c27b60":"# Transforming categorical features and reviewing correlations \n\ndf_le = df.copy()\ncol  = ['gender', 'race\/ethnicity', 'parental level of education', 'lunch','test preparation course']\nfor _ in col:\n    df_le[_] = LabelEncoder().fit_transform(df_le[_])\n\ncorelation_2 = df_le.corr()\n\n# correlations\n\nfig, ax = plt.subplots(figsize =(10,8)) \nsns.set_style('darkgrid')\nplt.title('correlations between features')\nsns.heatmap(corelation_2, annot=True)\nfig.tight_layout()\nplt.show()","dd8b8bd2":"pontos = ['math score','reading score','writing score','mean score']\nX = pd.get_dummies(df).drop(pontos, axis = 1)\ny = df['mean score']\n\nX_train, X_test, y_train, y_test = train_test_split(X,y, train_size= 0.8, random_state = 1)\n\n# model\n\nmodelo = RandomForestRegressor(random_state= 50, max_depth=5 , bootstrap=True)\nmodelo.fit(X_train, y_train)\n\ny_predito = modelo.predict(X_test)\n\nmae = mean_absolute_error(y_predito, y_test)\nscore_train = modelo.score(X_train, y_train)\nscore_test = modelo.score(X_test, y_test)\n\nprint('mean absolute error: {:.3f} \\nscore_train:{:.2f}\\nscore_test:{:.2f}' .format(mae, score_train, score_test))","e2fc675d":"# Important Features \nfeature_t = np.array(modelo.feature_importances_)\nfeature_name = np.array(X.columns)\n\ndata = {'feature_name': feature_name, 'feature_t': feature_t}\ndata_frame = pd.DataFrame(data)\ndata_frame.sort_values(by=['feature_t'], ascending=False,inplace=True)\n\nfig, ax = plt.subplots(figsize =(9,7)) \nsns.set_style('darkgrid')\nsns.barplot(data= data_frame, x= 'feature_t', y= 'feature_name', palette='cubehelix')\n\nax.set(title='Important Features ', ylabel='FEATURES\\n\\n', xlabel='IMPORTANCES')\n\nfig.tight_layout()\nplt.show()","48c2e763":"<h1>Exploratory Data Analysis:<\/h1>","be177a3b":"<h2>What is the average math, reading and writing score?<\/h2>","2f942d8b":"## 1. Introduction<h1>\n<p><justify>It is estimated that some factors influence positively or negatively the performance of students in tests that assess their performance in the main student skills. The Students Performance in Exams dataset, shows some socioeconomic information, which will be explored in this notebook, with the intention of evaluating how much these resources such as, the completion of a preparatory course or how food can predict the performance in the applied tests.<\/justify><\/p> ","0f717e50":"<p>The machine learning model chosen to predict the average performance of each student in the three skills was the Random Forest Regressor from the scikit-learn library. The dataset was separated into two, train and test. The model was validated using the mean absolute error (mae), and also by the model's score for both the train and test groups.<\/p>","cc26233b":"<h2>How are students divided by gender?<\/h2>","2440e4bb":"<h2>Is there a difference in performance by the student's gender?<\/h2>","7170737b":"<p>The heat map shows that student performance is related between skills, a student who is good at reading will probably be good at writing, it is curious to see a small non-correlation between math and skills such as reading and writing. The heat map draws our attention there is also a small correlation (.35) for the 'launch' feature, this is curious and should be better explored.<\/p>","d2b960b5":"![Alt](https:\/\/cdn.pixabay.com\/photo\/2019\/04\/14\/10\/27\/book-4126483_960_720.jpg)\n# <center> Exploratory Data Analysis and prediction of students' average performance based on socioeconomic data <\/center>\n## <center>A EDA and average performance prediction<\/center>\n","19a99774":"<h2>Lunch have more effect on which skill?<\/h2>","0c7a8c3f":"<h1>Feature engineering:<\/h1>","76fb216f":"<h2>As for the groups by race \/ ethnicity as they are distributed in the data?<\/h2>","2eb05766":"<h2>How many of the students take preparatory classes?<\/h2>","b117b0d0":"<h1>Conclusion:<\/h1>\n<p>The approached dataframe shows that the performance is more related to the preparatory course than to the student's gender, since this second does not show significant relevance between the male and female students' performance. The data point to the significance of the influence of regular food and unemployment, students with standard lunch have a better score on all skills even among those who took the preparatory course for the test. The predictive model chosen was evaluated as satisfactory, having a mae of 10,064.<\/p>\n\n<smal>Note: May contain beginner errors, I am available for corrections within the code. Thanks!<\/smal>","758ba14d":"<h2>Level of education of students' paternal distributed by groups (ethnicity)<\/h2>","123aa9cd":"<h2>Lunch<\/h2>\n<p>Food is important for cognitive skills, knowing the average score obtained with the three tests, we can assess the influence of food on the score obtained by the student. Also note the comparison between those who have taken the preparatory classes or not. <\/p>","02361880":"<h2>The model<\/h2>","f1b0a6de":"<h2>The code below was applied to search for the most important feature.<\/h2>","ce689998":"<h1>Prediction model:<\/h1>","51880775":"<h2>Libraries<\/h2>"}}