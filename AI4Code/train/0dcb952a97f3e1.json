{"cell_type":{"750ad679":"code","88b1ffa3":"code","8619c282":"code","01e6fa9d":"code","5c882e94":"code","edd1a736":"code","af0d46a4":"code","cb1ccc16":"code","f40f9777":"code","e5bd19fa":"code","6be9a780":"code","4c95204d":"code","fda9ae2f":"code","997c78e6":"code","692814fb":"code","454da1aa":"code","262cd3df":"code","c762e93b":"code","7e8fba5c":"code","97166e3c":"code","6446dfb4":"code","53e20e01":"code","6ea1370b":"code","d802b027":"code","cb08daef":"code","6ab1489b":"code","f6b98824":"code","8596dc29":"code","7b1b49b7":"code","02ad4322":"code","b2faaace":"code","4bcdeec5":"code","c59852a1":"code","7634ee25":"code","526e5660":"code","0f210fd2":"code","fbcf8f6b":"code","cf2f58f4":"code","a931a685":"code","d6083a1e":"code","31bbf414":"code","a48d419a":"markdown","ee3090d1":"markdown","5bff7da5":"markdown","ceac799e":"markdown","09e7d536":"markdown","470674c4":"markdown","0c552ecc":"markdown","e3f24fa3":"markdown","0bff5436":"markdown","472be553":"markdown","8be0bd4f":"markdown","694c1be0":"markdown","7baa4f7a":"markdown","c4b579ef":"markdown","abeac4e4":"markdown","5aac4aec":"markdown","1a6883d0":"markdown","faa5bf10":"markdown","f9a9862d":"markdown"},"source":{"750ad679":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nfrom plotly.offline import iplot\nimport plotly.graph_objs as go\nimport folium\nfrom folium.plugins import HeatMap","88b1ffa3":"df = pd.read_csv('..\/input\/hotel-booking-data\/hotel_bookings.csv')","8619c282":"df.head()","01e6fa9d":"df.describe()","5c882e94":"df.info()","edd1a736":"df.isnull().sum()","af0d46a4":"df.fillna(0, inplace=True)","cb1ccc16":"df.isnull().sum()","f40f9777":"df.shape","e5bd19fa":"df.columns","6be9a780":"df.head(2)","4c95204d":"resort = df[(df['hotel']== 'Resort Hotel') & (df['is_canceled'] == 0)]\ncity = df[(df['hotel'] == 'City Hotel') & (df['is_canceled'] == 0)]","fda9ae2f":"ax = df['hotel'].value_counts().plot(kind='bar', color='orange')\ntotals = []\n\n# find the values and append to list\nfor i in ax.patches:\n    totals.append(i.get_height())\n\n# set individual bar lables using above list\ntotal = sum(totals)\n\n# set individual bar lables using above list\nfor i in ax.patches:\n    # get_x pulls left or right; get_height pushes up or down\n    ax.text(i.get_x(), i.get_height()+.5, \\\n            str(round((i.get_height()\/total)*100, 2))+'%', fontsize=15,\n                color='dimgrey')","997c78e6":"label = resort['country'].value_counts().index\nvalue = resort['country'].value_counts()","692814fb":"plt.figure(figsize=(25,10))\nvalue = resort['country'].value_counts().plot(kind='bar')\n","454da1aa":"country_wise_data = df[df['is_canceled']==0]['country'].value_counts().reset_index()\ncountry_wise_data.columns = ['Country', 'No of guests']\ncountry_wise_data","262cd3df":"# show on map\nmap_guests = px.choropleth(country_wise_data,\n                          locations=country_wise_data['Country'],\n                          color = country_wise_data['No of guests'],\n                          hover_name=country_wise_data['Country'], \n                            title=\"Home country of guests\")\n\nmap_guests.show()","c762e93b":"df2 = df[df['is_canceled'] == 0]","7e8fba5c":"plt.figure(figsize=(13, 8))\nsns.boxplot(x = 'reserved_room_type', y = 'adr', hue='hotel', data=df2)\n","97166e3c":"resort_data = df[(df['hotel'] == 'Resort Hotel') & (df['is_canceled'] == 0)]","6446dfb4":"city_data = df[(df['hotel'] == 'City Hotel') & (df['is_canceled'] == 0)]\n","53e20e01":"resort_hotel = resort_data.groupby(['arrival_date_month'])['adr'].mean().reset_index()\nresort_hotel\n","6ea1370b":"city_hotel = city_data.groupby(['arrival_date_month'])['adr'].mean().reset_index()\ncity_hotel","d802b027":"final = resort_hotel.merge(city_hotel, on='arrival_date_month')\nfinal","cb08daef":"final.columns=['Month', 'Resort_Hotel_Price', 'City_Hotel_Price']\nfinal.head()","6ab1489b":"!pip install sort-dataframeby-monthorweek\n!pip install sorted-months-weekdays","f6b98824":"import sort_dataframeby_monthorweek as sd","8596dc29":"final = sd.Sort_Dataframeby_Month(df=final, monthcolumnname='Month')\nfinal","7b1b49b7":"plt.figure(figsize=(15,10))\nsns.lineplot(x ='Month', y= 'Resort_Hotel_Price', data=final, label = 'Resort Hotel')\nsns.lineplot(x = 'Month', y = 'City_Hotel_Price',data=final, label= 'City Hotel')","02ad4322":"plt.figure(figsize=(15,10))\nsns.boxplot(x = 'market_segment', y = 'stays_in_week_nights', data = df, hue='hotel', palette='Set1')","b2faaace":"px.pie(df, names=df['meal'].value_counts().index, values=df['meal'].value_counts(), hole=0.5)","4bcdeec5":"cancel = df[df['is_canceled'] == 1]","c59852a1":"rh_cancelations = cancel[cancel[\"hotel\"] == \"Resort Hotel\"][\"is_canceled\"].sum()\nrh_cancelations","7634ee25":"ch_cancelations = cancel[cancel[\"hotel\"] == \"City Hotel\"][\"is_canceled\"].sum()\nch_cancelations","526e5660":"px.pie(values = [rh_cancelations,ch_cancelations], names=['Resort Cancelations', 'City Hotel Cancelations'], hole=0.5)","0f210fd2":"cancelation_data = df[df['is_canceled'] == 1]","fbcf8f6b":"canceled_data = cancelation_data.groupby(['arrival_date_month', 'hotel']).agg('count').reset_index()","cf2f58f4":"canceled_data = canceled_data.iloc[:,0:3]","a931a685":"canceled_data = canceled_data.rename(columns={'is_canceled': 'no of cancellations'})","d6083a1e":"final=sd.Sort_Dataframeby_Month(canceled_data,'arrival_date_month')\nfinal","31bbf414":"plt.figure(figsize=(12,8))\nsns.barplot(x='arrival_date_month', y='no of cancellations', hue='hotel', hue_order=['City Hotel', 'Resort Hotel'], data=final)","a48d419a":"# Import Libraries","ee3090d1":"now we will observe over here is month column is not in order, & if we will visualise we will get improper conclusion\nso very first we have to provide right hierarchy to the month column","5bff7da5":"Both hotels have different room types and different meal arrangements. Seasonal factors are also important. So the prices vary a lot. Since no currency information is given, but Portugal is part of the European Monetary Union, I assume that all prices are in EUR.","ceac799e":"For the City hotel the relative number of cancelations is around 40 % throughout the year.\nFor the Resort hotel it is highest in the summer and lowest during the winter.","09e7d536":"# Hotel Booking Data Analysis","470674c4":"# Seperate Resort Hotel and City Hotel","0c552ecc":"# How does the price per night vary over the year?","e3f24fa3":"# If you like my notebook please upvote me ","0bff5436":"is_canceled = 0 means booking not cancel \nis_canceled = 1 means booking cancel","472be553":"Below the donut pie graph shows the meal categories. There is a big difference in the Bed&Breakfast category and the others. Almost 80% of bookings reserved for Bed&Breakfast.","8be0bd4f":"# Distribution of Nights Spent at Hotels by Market Segment and Hotel Type","694c1be0":"# How many bookings were cancelled?","7baa4f7a":"# Which month have the highest number of cancellations?","c4b579ef":"# Analysing Preference of Guests, what they basically Prefer?","abeac4e4":"# Load Dataset","5aac4aec":"# Data Preprocessing","1a6883d0":"# How much do guests pay for a room per night?","faa5bf10":"# Q2)Home country of Guests, perform Spatial Analysis","f9a9862d":"# Q1) Where do the guests come from?"}}