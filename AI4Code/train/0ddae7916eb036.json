{"cell_type":{"42c3003b":"code","73c44f88":"code","2cbf2273":"code","1ce6e5bd":"code","a403b1d4":"code","b84e1c7e":"code","ba056a77":"code","400399ab":"code","13df711f":"code","cf9eaa0c":"code","d55a662c":"code","1f18febd":"code","c60665a7":"markdown","c9fc23ac":"markdown","b4a984aa":"markdown","e232da9f":"markdown"},"source":{"42c3003b":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nimport plotly.graph_objects as go\nimport plotly.express as px\n","73c44f88":"bn = pd.read_csv('..\/input\/bank-nifty-constituents-till-october21-1-year\/BANKNIFTY.csv', parse_dates=True, index_col='Date')\nbn.head()","2cbf2273":"#\nfig = go.Figure(data = [go.Candlestick(x = bn.index,\n                       open = bn.Open,\n                       high = bn.High,\n                       low = bn.Low,\n                       close = bn.Close)])\nfig.update_layout(title='Bank Nifty Index<br><sup>01 Nov 2020 to 31 Oct 2021<\/sup>', xaxis_rangeslider_visible=False)\nfig.show()","1ce6e5bd":"df = bn.drop(columns=['Open', 'High', 'Low', 'Shares Traded', 'Turnover (Rs. Cr)']).copy()\ndf = df.rename(columns={'Close': 'Index_Close'})","a403b1d4":"banks = ['HDFCBANK','ICICIBANK', 'AXISBANK', 'SBIN','KOTAKBANK', 'INDUSINDBK']\n\nfor bank in banks:\n    df_temp = pd.read_csv('..\/input\/bank-nifty-constituents-till-october21-1-year\/{}.csv'.format(bank), parse_dates=True, \n                          index_col='Date', usecols=['Date', 'Prev Close', 'Open Price', 'High Price', 'Low Price', \n                                                     'Close Price', 'Average Price', '% Dly Qt to Traded Qty'])\n    \n    df_temp['Prev Close\/Curr Open'] = df_temp['Prev Close']\/df_temp['Open Price']\n    df_temp = df_temp.drop(['Prev Close','Open Price'], axis=1)\n    \n    df_temp = df_temp.rename(columns={'Prev Close\/Curr Open':f'{bank[:2]}_Prev Close\/Curr Open', \n                                      'High Price':f'{bank[:2]}_High Price', 'Low Price':f'{bank[:2]}_Low Price', \n                                      'Close Price':f'{bank[:2]}_Close Price', 'Average Price':f'{bank[:2]}_Average Price', \n                                      '% Dly Qt to Traded Qty':f'{bank[:2]}_% Dly Qt to Traded Qty'})\n    \n    df = df.join(df_temp, how='inner')","b84e1c7e":"df.head()","ba056a77":"df.info()","400399ab":"# checking for null values\ndf_null = df.isnull().any().sum().tolist()\ndf_null","13df711f":"df_change = df.copy()","cf9eaa0c":"# Convert values to show change in the values compared to first day of the dataset\ndf_change = df_change\/df_change.iloc[0,:]\ndf_change.head()","d55a662c":"# Closing prices of the index and stocks\ndf_change_close = df_change[['Index_Close', 'HD_Close Price', 'IC_Close Price', 'AX_Close Price', 'SB_Close Price', 'KO_Close Price', 'IN_Close Price']]","1f18febd":"# Interactive Plotly chart to show change in closing prices over time\nfig = px.line(df_change_close, \n              y=df_change_close.columns, \n              title='Change in Stock and Index Close Prices')\n\nfig.update_xaxes(\n    dtick=\"M1\",\n    tickformat=\"%b\\n%Y\")\nfig.show()","c60665a7":"# Read Bank Stocks Datasets\n## Merge all stocks and index into one dataset","c9fc23ac":"* It can be observed that SBI has outperformed all the other banks by a significant margin during this period.\n* Kotak and HDFC Bank have lagged behind the index throughout the year.","b4a984aa":"# Read and Visualize Bank Nifty Index Dataset","e232da9f":"## Work in progress"}}