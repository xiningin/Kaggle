{"cell_type":{"ce892d90":"code","9a6b4ac3":"code","4ac47ac1":"code","042e039a":"code","2497bbf1":"code","2a4fefd6":"code","be2901f4":"code","283a2d68":"code","c5a7eb0a":"code","11268cb3":"code","47eed3cc":"code","899dfa5d":"code","4642a0ba":"code","6ea1c421":"code","3aed106d":"code","a79d9d63":"code","15198929":"markdown","b8d27285":"markdown","0d47e054":"markdown","1b0f492b":"markdown","018192de":"markdown","fb80cbb8":"markdown","63bf1596":"markdown","be5864e2":"markdown","b0b4a962":"markdown","05bac277":"markdown","3c8bb8c4":"markdown","9f8f6b9a":"markdown"},"source":{"ce892d90":"import pandas as pd\nimport plotly.graph_objs as go \nimport seaborn as sns\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n%matplotlib inline","9a6b4ac3":"df = pd.read_csv('..\/input\/web-visitor-interests\/visitor-interests.csv')\ndf.head(5)","4ac47ac1":"df_code = pd.read_csv('..\/input\/countrycode-from-ibancom\/CountryCode')\ndf_code.head()","042e039a":"dx=df_code[['Country','Alpha-2 code','Alpha-3 code']]\ndx.columns = ['Country full name','Country','Alpha-3 code']","2497bbf1":"df_all = pd.merge(df,dx,on='Country').dropna(axis=0)\ndf_all.head()","2a4fefd6":"df_IP = df_all.groupby('Alpha-3 code',as_index=False).count()\ndf_IP.head()","be2901f4":"data = dict(\n        type = 'choropleth',\n        locations = df_IP['Alpha-3 code'],\n        z = df_IP['IP'],\n        text = df_IP['IP'],\n        colorbar = {'title' : 'Number of visitors'},\n    colorscale='Oranges'\n    ,\n      ) ","283a2d68":"layout = dict(\n    title = 'Number of Visitors',\n    geo = dict(\n        showframe = False,\n        projection = {'type':'equirectangular'}\n    )\n)","c5a7eb0a":"choromap = go.Figure(data = [data],layout = layout)\niplot(choromap)","11268cb3":"df_all.groupby('Country full name')['IP'].count().sort_values(ascending=False).head(5)","47eed3cc":"df_bylang = df_all.groupby(by='Languages',as_index=False)['IP'].count()\ndf_bylang.sort_values('IP',ascending=False).head(5)","899dfa5d":"df_byint = df_all.groupby(by='Interests',as_index=False)['IP'].count()\ndf_byint.sort_values('IP',ascending=False).head(5)","4642a0ba":"#English\ndf_all[df_all['Languages']=='english'].groupby('Country full name').count().sort_values(by='IP',ascending=False).head(5)","6ea1c421":"#Russian\ndf_all[df_all['Languages']=='russian'].groupby('Country full name').count().sort_values(by='IP',ascending=False).head(5)","3aed106d":"#Chinese\ndf_all[df_all['Languages']=='chinese'].groupby('Country full name').count().sort_values(by='IP',ascending=False).head(5)","a79d9d63":"#French\ndf_all[df_all['Languages']=='french'].groupby('Country full name').count().sort_values(by='IP',ascending=False).head(5)","15198929":"# Get the Data\nIn here we see the data of the website traffic and the visitors countries. Somehow, for those who are not familiar with the Alpha-2 code for each country might be puzzeled with those country code. Hence, I will merge this data with the information of code from iban.com\/country-codes (which I already import to csv file manually since I always failed to import the data as HTML) so we could see clearly the country name. The data from iban.com also provides Alpha-3 code column that can be used to plot the country using choroplet plotly. ","b8d27285":"# Import Library","0d47e054":"Now our data is ready, lets see how many visitor we have in each country by count the number of IP address.","1b0f492b":"# Exploratory Analysis","018192de":"**5 most used languages**","fb80cbb8":"# Introduction\nWithin this notebook, we are going to plot the number of visitor using choroplet plotly. The number of IP is unique for each visitor, and they will be our reference to see the where thraffic of the website visitors are coming. We also gonna put some exploratory analysis at the end regarding the country and the language being used by the top contributive traffic visitor country. Enjoy!","63bf1596":"# Start Using the Choromap\nAfter obtaining the information about the number of visitors we can now put our data to be plot by the choroplet. I start by separate the choromap parmeter by data and layout before plotting to make it easier on setting the parameters.","be5864e2":"**5 most traffict contributor countries** ","b0b4a962":"don't forget to change tha name of the columns to make it mergeable.","05bac277":"# Merge the Data\nAfter changing the columns name to make the data inline, now we can merge the data on the country column. Note that at the end of working for this notebook, I just realize that there are some Alpha-2 codes that are not listed. Since the number is not so big I decided to drop the unlisted country code.","3c8bb8c4":"Now we will see the the visitor's country by the language they are used to access the website. This data can be used to manage the language version of website and also match the advertisement's language embed in the website to make sure the contain can be understood by the visitors.","9f8f6b9a":"**Visitor Interest**"}}