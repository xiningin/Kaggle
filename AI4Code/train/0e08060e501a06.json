{"cell_type":{"009ecb86":"code","2ee0919c":"code","76ec3730":"code","938e6337":"code","a4f94ae1":"code","d8d32eb6":"code","6bd0c32b":"markdown","cdccd4a4":"markdown","a6208bdc":"markdown","380459d7":"markdown","177921ce":"markdown"},"source":{"009ecb86":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","2ee0919c":"df = pd.read_csv('..\/input\/heart.csv')\ndf.head()","76ec3730":"# method : {\u2018pearson\u2019, \u2018kendall\u2019, \u2018spearman\u2019} or callable\ncorr = df.corr(method='pearson')\ncorr.head()","938e6337":"import seaborn as sns\nsns.heatmap(corr) # this will give you a basic heat map","a4f94ae1":"labels = {\n    'age': 'Age (in years)', # Can be made categorical,\n    'sex': 'Sex', # Categorical\n    'cp': 'Chest Pain Type', # Categorical\n    'trestbps': 'Resting blood pressure',\n    'chol': 'Serum Cholestoral',\n    'fbs': 'Fasting Blood Sugar',\n    'restecg': 'Resting ECG',\n    'thalach': 'Max Heart Rate Achieved',\n    'exang': 'Exercise Induced Angina', # Categorical,\n    'oldpeak': 'ST depression',\n    'slope': 'Slope of peak exercise ST Seg',\n    'ca': 'No. of major vessels colored by flourospy', # Range (0-3)\n    'thal': 'Thal', # Categorical,\n    'target': 'Target'\n}\n\ncorr = corr.rename(labels)\n\n# This is to remove the top right triange - because that's just duplicate information\nmask = np.zeros_like(corr, dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\n\n# Colors\ncmap = sns.diverging_palette(240, 10, as_cmap=True)\n\nsns.heatmap(corr, mask=mask, linewidths=.5, cmap=cmap, center=0)","d8d32eb6":"from sklearn.decomposition import PCA\n\ncomponent_var = {}\nfor i in range(2, 6):\n    pca = PCA(n_components=i)\n    res = pca.fit(df)\n#     print('At components: ', i)\n#     display(pca.explained_variance_ratio_, sum(pca.explained_variance_ratio_))\n    component_var[i] = sum(pca.explained_variance_ratio_)\nprint(component_var)\n","6bd0c32b":"## Finding Correlation","cdccd4a4":"## What do we see?\n- It seems like Chest Pain, Resting ECG, Thalach and slope have a positive correlation with hear disease\n- There too, Chest pain type and thal ach has a higher value of correlation\n- Perhaps if we do, PCA on this dataset, we *might* get better accuracy\n- Many of the variables have close to zero correlation (possibly we can try to fit our model without them)","a6208bdc":"## Let's make it look pretty","380459d7":"## Let's try PCA","177921ce":"### At 3-4 components, we see almost all the data is captured!\nWe should definitely try the data fitted with PCA"}}