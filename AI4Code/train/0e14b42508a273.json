{"cell_type":{"64b345a5":"code","f4c7d5b5":"code","b29a5b5e":"code","5ebd34b6":"code","72047314":"code","1b2060de":"code","d3fac1cc":"code","98d35a8b":"code","f297b2ea":"code","ee2bab75":"code","452f2846":"code","2388953b":"code","7bb2308f":"markdown"},"source":{"64b345a5":"import os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt","f4c7d5b5":"DATA_DIR = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/\"","b29a5b5e":"train_df = pd.read_csv(os.path.join(DATA_DIR, \"train.csv\"))\ntest_df = pd.read_csv(os.path.join(DATA_DIR, \"test.csv\"))\nsub_df = pd.read_csv(os.path.join(DATA_DIR, \"sample_submission.csv\"))\n# remove the duplicates from the train_df\ntrain_df.drop_duplicates(keep=False, inplace=True, subset=['Patient', 'Weeks'])","5ebd34b6":"# get the unique portion of the data for the patients\ndata = train_df.groupby(by=\"Patient\")[['Patient', 'Age', 'Sex', 'SmokingStatus']].first().reset_index(drop=True)","72047314":"fig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(16,6))\n\nax1.set_title(\"Gender Frequency\")\ndata['Sex'].hist(ax=ax1)\nax2.set_title(\"Patient Age Distribution\")\ndata['Age'].hist(ax=ax2)\nax3.set_title(\"Smoking Status\")\ndata['SmokingStatus'].hist(ax=ax3)","1b2060de":"fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(20, 7))\nax1.set_title(\"FVC Distribution\")\ntrain_df['FVC'].hist(ax=ax1)\nax2.set_title(\"Percent Distribution\")\ntrain_df['Percent'].hist(ax=ax2)","d3fac1cc":"plt.figure(figsize=(16,6))\ntrain_df['Weeks'].hist()","98d35a8b":"# FVC vs Percent plot\nfig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(16,6))\n\n# FVC vs Percent\nmale_df = train_df[train_df['Sex'] == 'Male']\nfemale_df = train_df[train_df['Sex'] == 'Female']\n\nmale_df.plot.scatter('FVC', 'Percent', c='red', label='Male', ax=ax1)\nfemale_df.plot.scatter('FVC', 'Percent', c='green', ax=ax1, label=\"Female\")\n\n# FVC vs Age\nmale_df.plot.scatter('FVC', 'Age', c='red', label='Male', ax=ax2)\nfemale_df.plot.scatter('FVC', 'Age', c='green', label='Female', ax=ax2)\n\n# Percent vs Age\nmale_df.plot.scatter('Percent', 'Age', c='red', label='Male', ax=ax3)\nfemale_df.plot.scatter('Percent', 'Age', c='green', label='Female', ax=ax3)","f297b2ea":"fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(16,6))\n\nax1.bar(train_df.groupby('SmokingStatus').mean()['FVC'].index, train_df.groupby('SmokingStatus').mean()['FVC'])\nax2.bar(train_df.groupby('SmokingStatus').mean()['Percent'].index, train_df.groupby('SmokingStatus').mean()['Percent'])","ee2bab75":"# change in FVC in patients\nplt.figure(figsize=(20,20))\nplt.title(\"FVC decrease with Weeks\")\ntrain_df.groupby('Patient').apply(lambda grp: plt.plot(grp['Weeks'], grp['FVC']))","452f2846":"number_of_ct = {x: len(os.listdir(os.path.join(DATA_DIR, \"train\", x))) for x in os.listdir(os.path.join(DATA_DIR, \"train\"))}\n# sort by number_of_ct scans\nnumber_of_ct = {k: v for k, v in sorted(number_of_ct.items(), key=lambda item: item[1])}","2388953b":"plt.figure(figsize=(20, 10))\nplt.bar(number_of_ct.keys(), number_of_ct.values())\nplt.title('Number of CT scans per patients')\nplt.tick_params(axis='x', which='both', bottom=False, top=False, labelbottom=False)","7bb2308f":"Used https:\/\/www.kaggle.com\/andradaolteanu\/pulmonary-fibrosis-competition-eda-dicom-prep as a reference"}}