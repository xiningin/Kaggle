{"cell_type":{"350e51c6":"code","93fd7bc6":"code","2b9305f4":"code","8b0716cc":"code","5101d996":"code","23d92696":"code","b2c3bffa":"code","280ebf2b":"code","731003ba":"code","9350b535":"code","1583e24f":"code","e4710291":"code","a9b89ead":"code","1fb07a51":"code","1fc91ba7":"code","0f150ed4":"code","4fcf245e":"code","ca541cbd":"code","060b49fc":"code","7f7c3366":"code","580f2a2f":"code","ea8119f4":"code","44ebb111":"code","626941b7":"code","714aa888":"code","ec706fc5":"code","f49cb182":"code","9aba3572":"code","49d616dc":"code","4636e79e":"code","805b024b":"markdown"},"source":{"350e51c6":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom collections import Counter\n%matplotlib inline\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","93fd7bc6":"data=pd.read_csv('..\/input\/avocado.csv')\ndata2=pd.read_csv('..\/input\/avocado.csv')","2b9305f4":"new_index = (data['AveragePrice'].sort_values(ascending=False)).index.values\nsorted_data = data.reindex(new_index)\nsorted_data","8b0716cc":"data.head()","5101d996":"data.info()","23d92696":"data2 = data2[data2.region!='TotalUS']\ndata2['region'].value_counts()","b2c3bffa":"#data['Total Bags'].value_counts()","280ebf2b":"area_list=list(data2.region.unique())\narea_averageprice_ratio=[]\nfor i in area_list:\n    x=data2[data2['region']==i]\n    area_averageprice_rate=sum(x['AveragePrice'])\/len(x)\n    area_averageprice_ratio.append(area_averageprice_rate)\n    data2['AveragePrice']=data2['AveragePrice'].astype(float)\ndf=pd.DataFrame({'area_list':area_list,'area_averageprice_ratio':area_averageprice_ratio})\nnew_index=df['area_averageprice_ratio'].sort_values(ascending=False).index.values\nsorted_data=df.reindex(new_index)\n\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data['area_list'], y=sorted_data['area_averageprice_ratio'])\nplt.xticks(rotation= 90)\nplt.xlabel('States')\nplt.ylabel('Average Price Rate')\nplt.title('Average Price Given States')\n","731003ba":"#data['AveragePrice']=data['AveragePrice'].astype(int)\n\navgprice_count=Counter(data2.AveragePrice)\nmost_common_type=avgprice_count.most_common(15)\nx,y = zip(*most_common_type)\nx,y = list(x),list(y)\nplt.figure(figsize=(15,10))\nax= sns.barplot(x=x, y=y,palette = sns.cubehelix_palette(len(x)))\nplt.xlabel('Average Price')\nplt.ylabel('Frequency')\nplt.title('Most Common Average Price')","9350b535":"area_list=list(data2.region.unique())\narea_totalvolume_ratio=[]\nfor i in area_list:\n    x=data2[data2.region==i]\n    area_totalvolume_rate=sum(x['Total Volume'])\/len(x)\n    area_totalvolume_ratio.append(area_totalvolume_rate)\ndf=pd.DataFrame({'area_list':area_list, 'area_totalvolume_ratio':area_totalvolume_ratio})\nnew_index=df['area_totalvolume_ratio'].sort_values(ascending=True).index.values\nsorted_data2=df.reindex(new_index)\n\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data2['area_list'], y=sorted_data2['area_totalvolume_ratio'])\nplt.xticks(rotation= 90)\nplt.xlabel('States')\nplt.ylabel('Average Total Volume Rate')\nplt.title('Average Total Price Given States')\n\n","1583e24f":"area_list=list(data2.region.unique())\nSmallBags=[]\nLargeBags=[]\nXLargeBags=[]\n\nfor i in area_list:\n    x=data2[data2.region==i]\n    SmallBags.append(sum(x['Small Bags'])\/len(x))\n    LargeBags.append(sum(x['Large Bags'])\/len(x))\n    XLargeBags.append(sum(x['XLarge Bags'])\/len(x))\n    \nf,ax = plt.subplots(figsize = (9,15))\nsns.barplot(x=SmallBags,y=area_list,color='green',alpha = 0.5,label='SmallBags' )\nsns.barplot(x=LargeBags,y=area_list,color='blue',alpha = 0.7,label='LargeBags')\nsns.barplot(x=XLargeBags,y=area_list,color='cyan',alpha = 0.6,label='XLargeBags')\nax.legend(loc='upper right',frameon = True)     # legendlarin gorunurlugu\nax.set(xlabel='Percentage of Races', ylabel='States',title = \"Percentage of State's Size of Bags\")","e4710291":"\narea_list=list(data2.region.unique())\nsorted_data['area_averageprice_ratio']=sorted_data['area_averageprice_ratio']\/max(sorted_data['area_averageprice_ratio'])\nsorted_data2['area_totalvolume_ratio']=sorted_data2['area_totalvolume_ratio']\/max(sorted_data2['area_totalvolume_ratio'])\nnew_data=pd.concat([sorted_data,sorted_data2['area_totalvolume_ratio']],axis=1)\nnew_data.sort_values('area_averageprice_ratio',inplace=True)\n\nf,ax1=plt.subplots(figsize=(20,10))\nsns.pointplot(x='area_list',y='area_averageprice_ratio',data=new_data,color='lime',alpha=0.5)\nsns.pointplot(x='area_list',y='area_totalvolume_ratio',data=new_data,color='green',alpha=0.5)\nplt.text(40,0.3,'average price ratio',color='green',fontsize = 17,style = 'italic')\nplt.text(30,0.7,'total volume ratio',color='lime',fontsize = 17,style = 'italic')\nplt.xlabel('States',fontsize = 15,color='blue')\nplt.ylabel('Values',fontsize = 15,color='blue')\nplt.xticks(rotation= 90)\n\nplt.title('Average Price  VS  Total Volume',fontsize = 20,color='blue')\n","a9b89ead":"new_data.head()","1fb07a51":"g = sns.jointplot(new_data.area_averageprice_ratio,new_data.area_totalvolume_ratio,kind=\"kde\",height=7)\nplt.savefig(\"graph.png\")\nplt.show()","1fc91ba7":"g = sns.jointplot(\"area_averageprice_ratio\",\"area_totalvolume_ratio\",data=new_data,height=5,ratio=5,color=\"r\")","0f150ed4":"data_SD=data2[(data2.region=='LosAngeles') & (data2.AveragePrice<2)]\ndata_SD.type.value_counts()","4fcf245e":"\n\n\nsizes=data_SD['type'].value_counts().values\n\nplt.figure(figsize=(15,15))\nplt.pie(sizes,autopct='%1.1f%%',rotatelabels = True)\nplt.title('Types ',color='blue',fontsize=15)\n","ca541cbd":"sns.lmplot(x=\"area_averageprice_ratio\",y=\"area_totalvolume_ratio\",data=new_data)\nplt.show()","060b49fc":"sns.kdeplot(new_data.area_averageprice_ratio,new_data.area_totalvolume_ratio,color='magenta',shade=True,cut=3)\nplt.show()","7f7c3366":"data2.head()","580f2a2f":"pal = sns.cubehelix_palette(2, rot= -.5, dark= .3)\nsns.violinplot(data=new_data,palette=pal,inner=\"points\")\nplt.show()","ea8119f4":"new_data.corr()","44ebb111":"f,ax=plt.subplots(figsize=(10,10))\nsns.heatmap(new_data.corr(),annot=True,linewidths=0.5,linecolor=\"red\",fmt='.1f',ax=ax)\nplt.show()","626941b7":"data.head()","714aa888":"sns.boxplot(x=\"type\", y=\"year\" ,data=data, palette=\"PRGn\")\nplt.show()","ec706fc5":"#sns.swarmplot(x=\"type\", y=\"year\" ,data=data, palette=\"PRGn\")\n#plt.show()","f49cb182":"new_data.head()","9aba3572":"sns.pairplot(new_data)\nplt.show()","49d616dc":"sns.countplot(data.type)\nplt.title(\"type\",color = 'blue',fontsize=15)\nplt.show()","4636e79e":"organic = ['organic' if i=='organic'  else 'conventional' for i in data2.type]\ndf = pd.DataFrame({'type':organic})\nsns.countplot(x=df.type)\nplt.ylabel('AveragePrice')\nplt.title('type of avocado', color='blue',fontsize=10)","805b024b":"to be countinued..."}}