{"cell_type":{"3ccd276d":"code","b6f43b13":"code","de1adddc":"code","17283ca6":"code","b2cf3bde":"code","60f284bb":"code","de99e5d4":"code","dc5736d1":"code","045613b1":"code","051e8a1e":"code","be19a023":"code","86afa520":"code","77241b10":"code","c3b7d848":"code","9826d4b3":"code","43064fa8":"code","2a9462ba":"code","c8fbf419":"code","627bf72c":"code","cca75128":"code","59a0269f":"code","3a5d0053":"code","3f0f09ef":"code","3aa7e8b1":"code","739c5a3f":"markdown","d4c0ec27":"markdown","b1d103a5":"markdown","773f9ff1":"markdown","3d2d56a3":"markdown","e27ab257":"markdown","92db5877":"markdown","72ab4850":"markdown","57604650":"markdown","163072da":"markdown","f4eacfa6":"markdown","1f16fdf1":"markdown","6c42ac4a":"markdown","df400b62":"markdown","5af74071":"markdown","b22c0076":"markdown","ba9d4f0c":"markdown","04911a18":"markdown","2f7a9f70":"markdown","5c3176df":"markdown","759013b6":"markdown","4ad08455":"markdown","adee82ba":"markdown","244f6281":"markdown","f0a5cfcf":"markdown"},"source":{"3ccd276d":"import pandas as pd\nimport matplotlib.pylab as plt\nimport seaborn as sns\nfrom sklearn.preprocessing import LabelEncoder\ncolor = sns.color_palette()\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.offline as offline\noffline.init_notebook_mode()\nimport plotly.tools as tls","b6f43b13":"df = pd.read_csv('..\/input\/restaurant-and-market-health-violations.csv')\n\nprint ('Size of the health-violance data : ' , df.shape)\n","de1adddc":"df.head()","17283ca6":"df.info()","b2cf3bde":"cat_col = df.select_dtypes(include = 'object').columns.tolist()\nnum_col = df.select_dtypes(exclude='object').columns.tolist()\n\nprint ('categorical feature :', cat_col)\nprint ('\\nnumeric feature :' ,num_col)\nprint ('\\nnumber of categorical feature : ' , len(cat_col))\nprint ('\\nnumber of numeric feature : ' , len(num_col))","60f284bb":"df.describe(include=[\"O\"])","de99e5d4":"def check_missing(df):\n    \n    total = df.isnull().sum().sort_values(ascending = False)\n    percent = (df.isnull().sum()\/df.isnull().count()*100).sort_values(ascending = False)\n    missing_data  = pd.concat([total, percent], axis=1, keys=['Total', 'Percent'])\n    return missing_data\n    \n\nmissing_data_df = check_missing(df)\nmissing_data_df.head()\n","dc5736d1":"def find_uni(df):\n    col_list = df.columns\n    redundant_col =[]\n    for col in col_list:\n        if df[col].nunique() == 1:\n            redundant_col.append(col)\n    return redundant_col\n\n\nredundant_col = find_uni(df)\nprint ('Number of redundant features in data :',len(redundant_col))\nprint ('Redundant Feature :', redundant_col)","045613b1":"df.drop(redundant_col,axis=1,inplace =True)","051e8a1e":"df['service_description'].value_counts()","be19a023":"df['service_code'].value_counts()","86afa520":"df.drop('service_code' , axis =1 , inplace=True)\n","77241b10":"df['program_element_pe'].value_counts()","c3b7d848":"df['pe_description'].value_counts()","9826d4b3":"df.drop('program_element_pe' , axis =1, inplace =True)","43064fa8":"df[['score','points',]].describe()","2a9462ba":"df['score'].hist().plot()","c8fbf419":"df['points'].value_counts()","627bf72c":"temp = df['grade'].value_counts()\nlabels = temp.index\nsizes = (temp \/ temp.sum())*100\ntrace = go.Pie(labels=labels, values=sizes, hoverinfo='label+percent')\nlayout = go.Layout(title='grade')\ndata = [trace]\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","cca75128":"le = LabelEncoder()\ndf['grade'] = le.fit_transform(df['grade'])\ndf['grade'].corr(df['score'])","59a0269f":"top_violated_place = df[\"facility_name\"].value_counts().head(15)\npd.DataFrame({'Count':top_violated_place.values},index = top_violated_place.index)\n","3a5d0053":"temp = df[\"facility_name\"].value_counts().head(25)\n\ntrace = go.Bar(\n    x = temp.index,\n    y = temp.values,\n)\ndata = [trace]\nlayout = go.Layout(\n    title = \"Distribution of facility_name\",\n    xaxis=dict(\n        title='facility_name',\n        tickfont=dict(\n            size=10,\n            color='rgb(107, 107, 107)'\n        )\n    ),\n    yaxis=dict(\n        title='how many times health-violations occur',\n        titlefont=dict(\n            size=14,\n            color='rgb(107, 107, 107)'\n        ),\n        tickfont=dict(\n            size=14,\n            color='rgb(107, 107, 107)'\n        )\n)\n)\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig, filename='facility_name')","3f0f09ef":"temp1 = df[['facility_name','score']].sort_values(['score'],ascending = False).drop_duplicates()\ntemp1.head(10)","3aa7e8b1":"temp1 = df[['facility_name','score']].sort_values(['score']).drop_duplicates()\ntemp1.head(10)\n","739c5a3f":"Reading Data...","d4c0ec27":"Let's check unique value in **points** feature","b1d103a5":"let's check **score**, **grade** and **points** features","773f9ff1":"**DODGER STADIUM** is one of the most health-violation place.","3d2d56a3":"Description of categorical features","e27ab257":"**Introduction:**\n\nThis dataset contains Environmental Health Inspection Results for Restaurants and Markets in the City of Los Angeles. Los Angeles County Environmental Health is responsible for inspections and enforcement activities for all unincorporated areas and 85 of the 88 cities in the County. This dataset is filtered from County data to include only facilities in the City of Los Angeles. ","92db5877":"Let's check **program_element_pe** feature and **pe_description** feature.","72ab4850":"50%  data have more than 90 score value.","57604650":"let's check **service_description** and **service_code**  feature.\n","163072da":"**Objective of this notebook:**\n\nhere, I will do data preprocessing and exploratory analysis.","f4eacfa6":"86% places got A grade. ","1f16fdf1":"Top 15 highly health-violated place.","6c42ac4a":"Top 10 **facility_name** which got best score","df400b62":"This dataset contains Health Inspection Results for Restaurants and Markets in same city  Los Angeles and the same state of CA. Hence, these features have unique value one.\n\nSo, these two features are redundant for the ML algorithm. They didn't contribute any useful information. It's better to remove these feature.\n","5af74071":"**Exploratory Data analysis**","b22c0076":"**grade** feature is highly correlated with **score** feature. Grade feature has been calculated from the score value range.","ba9d4f0c":"Only **program_name** feature have missing values.","04911a18":"Here, **service_description** feature describes the code for inspection service.\nFor machine learning perspective both are the duplicate feature. The duplicate feature doesn't help for machine learning algorithm. hence, it's better to remove any one of the feature.","2f7a9f70":"Top 10  **facility_name** which got worst score","5c3176df":"**Data pre-processing**\n* Missing Data","759013b6":"**program_element_pe** feature describe the code of the **pe_description** feature. Again these two features are duplicate. so, remove **program_element_pe** feature.\n","4ad08455":"Let find a number of categorical features and numeric features in the dataset.","adee82ba":"* Find Duplicate features ","244f6281":"Data with simple info","f0a5cfcf":"* Redundant features"}}