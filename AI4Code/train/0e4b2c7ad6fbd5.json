{"cell_type":{"daf8d508":"code","2b211c2d":"code","9b5a7229":"code","84bdcc4a":"code","72d13269":"code","78cd5cbf":"code","1de96bcc":"code","9cd1fb81":"code","206a8e1e":"code","4cadd4d7":"code","0914ddd7":"code","956a764e":"code","e8b4e80c":"code","037f98ca":"code","fbc4214d":"code","c2c945fc":"code","95e29cea":"code","a507e8ea":"code","2711f566":"code","d1e2d2e0":"code","e0a1f07e":"code","532b544c":"code","1c769cee":"code","32a7e6f1":"code","6f9fbc13":"code","012cfb43":"code","cb5010a8":"code","46d13fc7":"code","932ab1a4":"code","15807aaa":"code","58819853":"code","96885ee1":"code","586bddeb":"code","cdd69c94":"code","41f55e33":"code","e57aea0a":"code","42e4f339":"code","05e4e6d0":"code","1b6d533b":"code","5047adb9":"code","6415e1e6":"code","e4ce2407":"code","2e9bb63b":"code","b4d6723e":"code","57a4c67d":"code","6ef4a0c5":"markdown","6e9fe4e7":"markdown","22b6a4e0":"markdown","cf945124":"markdown","ada11ff1":"markdown"},"source":{"daf8d508":"import pandas as pd\nimport numpy as np\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score","2b211c2d":"train=pd.read_csv('..\/input\/titanic\/train.csv')","9b5a7229":"train.shape","84bdcc4a":"train.head()","72d13269":"# \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u043e\u0432\ntrain.isnull().sum()","78cd5cbf":"# \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439\ntrain['Survived'].value_counts()","1de96bcc":"train['Survived'].value_counts(normalize=True)","9cd1fb81":"# \u041e\u0431\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0430\u0445\ntrain.describe()","206a8e1e":"train['Sex'].value_counts()","4cadd4d7":"# \u041a\u043e\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432\nembark=pd.get_dummies(train['Embarked'])","0914ddd7":"gender=pd.get_dummies(train['Sex'])","956a764e":"# \u041f\u0440\u043e\u043f\u0443\u0441\u043a\u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0441\u0440\u0435\u0434\u043d\u0438\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c 30\ntrain['Age'].fillna(30,inplace=True)\ntrain['Age']=train['Age'].astype('int')","e8b4e80c":"# \u0412\u043e\u0437\u0440\u0430\u0441\u0442 \u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d \u043d\u0430 6 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439\ndef age_grp(age):\n    if age<13:\n        return '<13'\n    elif (age>=13) &(age<18):\n        return '13-18'\n    elif (age>=18) &(age<=24):\n        return '18-24'\n    elif (age>=25) &(age<=34):\n        return '25-34'\n    elif (age>=35) &(age<=44):\n        return '35-44'\n    else:\n        return '45+'","037f98ca":"train['Age_grp']=train['Age'].apply(lambda x: age_grp(x))","fbc4214d":"age=pd.get_dummies(train['Age_grp'])","c2c945fc":"train_df=pd.concat([train,embark,gender,age],axis=1)","95e29cea":"train_df.columns","a507e8ea":"def is_var(val):\n    if val>0:\n        return 1\n    else:\n        return 0","2711f566":"# \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u0430 - Family - \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0447\u043b\u0435\u043d\u043e\u0432 \u043e\u0434\u043d\u043e\u0439 \u0441\u0435\u043c\u044c\u0438 \u043d\u0430 \u0422\u0438\u0442\u0430\u043d\u0438\u043a\u0435\ntrain_df['Family']=train_df['Parch'] + 1 + train_df['SibSp']\ntrain_df['Parch']=train_df['Parch'].apply(lambda x: is_var(x))\ntrain_df['SibSp']=train_df['SibSp'].apply(lambda x: is_var(x))","d1e2d2e0":"sel_cols=['Fare', \n    'Pclass', 'SibSp',\n       'Parch',  'C', 'Q',\n       'S', 'female', 'male', '18-24', '25-34', '35-44', '45+', '<13','13-18', 'Family'\n]","e0a1f07e":"train_df.fillna(0,inplace=True)","532b544c":"X=train_df[sel_cols]","1c769cee":"y=train_df['Survived']","32a7e6f1":"train_X,val_X,train_y,val_y=train_test_split(X,y,test_size=0.3,random_state=1)","6f9fbc13":"lr=LogisticRegression(max_iter=400)\nlr.fit(train_X,train_y)","012cfb43":"lr.score(train_X,train_y)","cb5010a8":"lr.score(val_X,val_y)","46d13fc7":"test=pd.read_csv('..\/input\/titanic\/test.csv')","932ab1a4":"test.shape","15807aaa":"test.columns","58819853":"# \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u043e\u0431\u0443\u0447\u0430\u044e\u0449\u0435\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435\nembark=pd.get_dummies(test['Embarked'])","96885ee1":"gender=pd.get_dummies(test['Sex'])","586bddeb":"test['Age'].fillna(30,inplace=True)\ntest['Age']=test['Age'].astype('int')","cdd69c94":"test['Age_grp']=test['Age'].apply(lambda x: age_grp(x))","41f55e33":"age=pd.get_dummies(test['Age_grp'])","e57aea0a":"test_df=pd.concat([test,embark,gender,age],axis=1)","42e4f339":"test_df['Family']=test_df['Parch']+1+test_df['SibSp']\ntest_df['Parch']=test_df['Parch'].apply(lambda x: is_var(x))\ntest_df['SibSp']=test_df['SibSp'].apply(lambda x: is_var(x))","05e4e6d0":"test_df.fillna(0,inplace=True)","1b6d533b":"test_X=test_df[sel_cols]","5047adb9":"test_X.columns","6415e1e6":"test_y=lr.predict(test_X)","e4ce2407":"sub=pd.read_csv('..\/input\/titanic\/gender_submission.csv')","2e9bb63b":"sub['Survived']=test_y","b4d6723e":"sub.head()","57a4c67d":"sub.to_csv('submission.csv',index=False)","6ef4a0c5":"### \u041f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 ###","6e9fe4e7":"### \u041b\u043e\u0433\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f ###","22b6a4e0":"### \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435 ###","cf945124":"### \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432","ada11ff1":"### \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 Kaggle ###"}}