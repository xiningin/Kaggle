{"cell_type":{"9eed5144":"code","c41a27ae":"code","0ad39cf1":"code","eb335269":"code","9aa79b97":"code","24092f00":"code","b9b7bc6f":"code","67c5675f":"code","af2bd71c":"code","766ebd89":"code","81cd9e4e":"code","074c70cf":"code","edb24602":"code","759014dd":"code","c22bbabf":"code","0162d502":"code","94ac8d6e":"code","69295ce3":"code","e732f037":"code","3a8ffa5a":"code","f9eee1c3":"code","e60c2e84":"code","acd48902":"markdown","fc587e8d":"markdown","d7eaf299":"markdown","4a612913":"markdown","ec2974ff":"markdown","b9271be1":"markdown","afe37c96":"markdown","2027ac35":"markdown","45d10d5f":"markdown","7222b2b1":"markdown","bc412662":"markdown","bf9a543b":"markdown","9303e671":"markdown","dfbaa850":"markdown"},"source":{"9eed5144":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n","c41a27ae":"df = pd.read_csv(\"\/kaggle\/input\/fifa19\/data.csv\")\ndf.head()","0ad39cf1":"df.drop([\"ID\",\"Special\"],axis = 1,inplace = True)\n\ndf[\"SPEED\"] = (df[\"Acceleration\"]+df[\"SprintSpeed\"]+0.75*df[\"Agility\"]) \/3\ndf.drop([\"Acceleration\",\"SprintSpeed\",\"Agility\"],axis =1 , inplace = True)\n\ndf[\"PASSING\"] = (df[\"ShortPassing\"]+df[\"LongPassing\"]+df[\"Reactions\"]+df[\"Balance\"]) \/4\ndf.drop([\"ShortPassing\",\"LongPassing\",\"Reactions\",\"International Reputation\",\"Jersey Number\",\"Balance\",\"Contract Valid Until\"],axis =1 , inplace = True)\n","eb335269":"df.drop(['LS', 'ST', 'RS', 'LW', 'LF', 'CF', 'RF', 'RW',\n       'LAM', 'CAM', 'RAM', 'LM', 'LCM', 'CM', 'RCM', 'RM', 'LWB', 'LDM',\n       'CDM', 'RDM', 'RWB', 'LB', 'LCB', 'CB', 'RCB', 'RB','Photo','Flag','Club Logo','Loaned From','Joined','Unnamed: 0','Crossing', 'Finishing', 'HeadingAccuracy', 'Volleys','Real Face','Dribbling', 'Curve', 'FKAccuracy', 'BallControl','ShotPower', 'Jumping', 'Stamina', 'Strength', 'LongShots',\n       'Aggression', 'Interceptions', 'Positioning', 'Vision',\n       'Composure', 'Marking', 'StandingTackle', 'SlidingTackle', 'GKDiving',\n       'GKHandling', 'GKKicking', 'GKPositioning', 'GKReflexes'],axis =1 , inplace  = True)","9aa79b97":"df.isna().sum()\n","24092f00":"df2 = df.dropna(subset = ['Club',\"Preferred Foot\"])\ndf2.isna().sum()","b9b7bc6f":"df2['Release Clause'] = df2['Release Clause'].fillna(0)","67c5675f":"ax = sns.countplot(x = \"Preferred Foot\", data = df2);\nfor p in ax.patches:\n    ax.annotate(f'\\n{p.get_height()}', (p.get_x()+0.2, p.get_height()), ha='center', va='top', color='white', size=18)\nplt.title(\"NUMBER OF LEFT\/RIGHT FOOT PLAYERS\")\nplt.show()","af2bd71c":"df3 = pd.DataFrame(df2.groupby(\"Nationality\")[\"Name\"].count())\ndf3 = df3[df3[\"Name\"]>300]\ndf3.rename(columns = {\"Name\":\"Nationality_count\"},inplace = True)\ndf3.reset_index(inplace = True)","766ebd89":"plt.figure(figsize =(10,6))\nsns.barplot(x= \"Nationality_count\", \n            y= \"Nationality\",\n            data = df3,\n            order=df3.sort_values('Nationality_count',ascending = False).Nationality\n           );\nplt.title(\"Distribution of Nationality\")\nplt.yticks(rotation = 25)\nplt.show()","81cd9e4e":"df2[\"Position\"].unique()","074c70cf":"df3 = pd.DataFrame(df2.groupby(\"Position\")[\"Overall\"].mean())\ndf3.reset_index(inplace =True)\n\nplt.figure(figsize =(12,6))\nsns.barplot(x =\"Overall\",\n            y= \"Position\",\n            data = df3,\n            order = df3.sort_values('Overall', ascending = False).Position\n           );\nplt.title(\"Average Ratings For Positions\")\nplt.yticks(rotation = 25)\nplt.show()","edb24602":"clubs = ['FC Barcelona', 'Juventus', 'Paris Saint-Germain',\n       'Manchester United', 'Manchester City', 'Chelsea', 'Real Madrid',\n       'Atl\ufffdtico Madrid', 'FC Bayern M\ufffdnchen', 'Tottenham Hotspur',\n       'Liverpool', 'Arsenal', 'Milan', 'Inter',\n       'Borussia Dortmund']\ndf3 = df2.loc[df2['Club'].isin(clubs)]\ndf3 = df3[df3[\"Overall\"]>75]\n\ndf3 = pd.DataFrame(df3.groupby(\"Club\")[\"Overall\"].mean())\ndf3.reset_index(inplace =True)\n\nax =sns.barplot(x=\"Club\",\n           y=\"Overall\",\n           data = df3,\n           order = df3.sort_values(\"Overall\", ascending =False).Club);\nfor p in ax.patches:\n    x = p.get_height()\n    ax.annotate(f'\\n{round(x,1)}', (p.get_x()+0.35, p.get_height()), ha='center', va='top', color='black', size=8)\n\nplt.title(\"Average Rating of Big Teams\")\nplt.xticks(rotation = 90 )\nplt.show()\n","759014dd":"df3 = df2[df2[\"Overall\"]>=90]\ndf3 = df3[[\"Overall\",\"Name\"]]\ndf3","c22bbabf":"plt.figure(figsize=(12,8))\nsns.catplot(x=\"Position\", kind=\"count\", hue=\"Preferred Foot\", data=df2, height=5, aspect=2);\nplt.title(\"Preferred foot in Positions\")\nplt.show()","0162d502":"df3 = df2[(df2[\"Overall\"]>80) & (df2[\"PASSING\"]>80)]\ndf3 = df2.nlargest(10,'PASSING')\ndf3= df3[[\"Name\",\"PASSING\"]]\ndf3","94ac8d6e":"df3 = df2.nlargest(10,'Penalties')\ndf3= df3[[\"Name\",\"Penalties\"]]\ndf3","69295ce3":"sns.scatterplot(x=\"Potential\", y=\"Age\",hue =\"Preferred Foot\" ,data=df2).set_title(\"Age & Potential Distribution\");","e732f037":"df3 = pd.DataFrame(df2.groupby(\"Age\")[\"Potential\"].mean())\ndf3.reset_index(inplace = True)\nplt.figure(figsize =(12,6))\nsns.barplot(x=\"Age\",\n             y=\"Potential\",\n             data = df3)\nplt.title(\"Age vs Potential\")\nplt.show()","3a8ffa5a":"GK_position = df2[df2[\"Position\"]==\"GK\"].sort_values(\"Overall\",ascending=False)[[\"Name\",\"Overall\"]]\nGK_position = GK_position.iloc[:10,:]\n\nST_position = df2[df2[\"Position\"]==\"ST\"].sort_values(\"Overall\",ascending=False)[[\"Name\",\"Overall\"]]\nST_position = ST_position.iloc[:10,:]\n\nLW_position = df2[df2[\"Position\"]==\"LW\"].sort_values(\"Overall\",ascending=False)[[\"Name\",\"Overall\"]]\nLW_position = LW_position.iloc[:10,:]\n\nCM_position = df2[df2[\"Position\"]==\"RCM\"].sort_values(\"Overall\",ascending=False)[[\"Name\",\"Overall\"]]\nCM_position = CM_position.iloc[:10,:]\n","f9eee1c3":"arr = [GK_position,ST_position,LW_position, CM_position]\narri =  [\"GK\",\"ST\",\"LW\",\"CM\"]\nfor i in range(len(arr)):\n    ax = sns.barplot(x=\"Name\",\n               y = \"Overall\",\n               data = arr[i] )\n    for p in ax.patches:\n        x = p.get_height()\n        ax.annotate(f'\\n{x}', (p.get_x()+0.35, p.get_height()), ha='center', va='top', color='black', size=8)\n\n    plt.title(\"Top players in the position :{}\".format(arri[i]))\n    plt.xticks(rotation = 90)\n    plt.show()","e60c2e84":"plt.figure(figsize=(15, 7))\nsns.countplot(\"Overall\",color=\"#c81067\", data = df)\nplt.title(\"Overall rating distribution for all Player\")\nplt.legend()\nplt.show()","acd48902":"### 4. AVERAGE RATING OF PLAYERS IN BIG TEAMS","fc587e8d":"### 6.  PREFERRED FOOT IN EACH POSITIONS","d7eaf299":"### 9. TOP PLAYERS FOR POSITIONS","4a612913":"### 1. PREFERRED FOOT","ec2974ff":"### 8. POTENTIAL vs AGE","b9271be1":"## IMPORTS","afe37c96":"### 7. BEST PASSER AND PENALTY TAKERS","2027ac35":"### 5. BEST PLAYERS","45d10d5f":"### 2. DISTRIBUTION OF PLAYERS'NATIONALITIES","7222b2b1":"### 10. OVERALL RATING DISTRIBUTION\n","bc412662":"### DEALING WITH NULL VALUES","bf9a543b":"## DATA PREPROCESSING","9303e671":"### 3. AVERAGE RATING OF PLAYERS ( per position ) \n","dfbaa850":"## EXPLORATORY DATA ANALYSIS"}}