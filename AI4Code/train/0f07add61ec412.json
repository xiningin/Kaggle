{"cell_type":{"dc1b2674":"code","89f84d0b":"code","3ccb4bce":"code","9a054796":"code","cbe323c7":"code","83ae9b86":"code","045c1f87":"code","d6cb1b82":"code","0d38d9bb":"code","14894ecf":"code","45f88c81":"code","242c42b8":"code","baed2925":"code","975fa435":"code","515f0e48":"code","9b520201":"code","7249e0c1":"code","2a4186d4":"code","fac4ad6f":"code","27d4c3c6":"code","15b1cc03":"code","3052ecc3":"code","3b727fcd":"code","c0661ba5":"code","44f25dcb":"code","0e46f941":"code","c5d4a8ed":"code","47b39d49":"code","f101a5b9":"code","ead620e6":"code","c8740006":"code","ab73311b":"code","61d25e55":"code","fa56c5c6":"code","9ef8712a":"code","d2141331":"code","29a78cf9":"code","808ceb15":"code","d88fc9b1":"code","12a2fb35":"code","d1330945":"code","30592eb3":"code","cba4003b":"code","c2d2d3e6":"code","886ef9a0":"code","636f7b92":"code","15967219":"code","186226fa":"code","95994047":"code","17cdc935":"code","68111ece":"code","645e77f4":"code","187dd408":"code","9ed5ccd6":"code","7101a598":"code","c5149526":"code","5beea195":"code","72a41035":"code","91a5d7e0":"code","0a019131":"code","7dcdeb23":"code","2e4d1bc3":"code","96df974f":"code","a8505b73":"code","f128b9b6":"code","fe24a304":"code","8fa12808":"code","053431ba":"code","cca578bf":"code","a1ebdedb":"code","653a6ad0":"code","a6478d01":"code","4e82c1ff":"code","8b4dbc3f":"code","61db5860":"code","8d5576b2":"code","e1c77d4c":"code","6057445e":"code","c117112a":"code","6d33fb4f":"code","74e935e8":"code","54cba38f":"code","c11ca775":"code","70959e18":"code","bc8a5ab7":"code","5c6e2e9d":"code","160f0778":"code","4e130daa":"code","ceb8f707":"code","95f05bf1":"code","cc083729":"code","4ad96686":"code","fe275076":"code","30e1440f":"code","b5c5734a":"code","00d4a6e8":"code","6f64cc09":"code","3ef78f73":"code","0f1c53dd":"code","d8b1eeac":"code","86ba1795":"code","764907f4":"markdown","13023692":"markdown","d71c1f4e":"markdown","7e9d62af":"markdown","22c03deb":"markdown","a4bf5fb3":"markdown","4449319b":"markdown","c80e2358":"markdown","16dd2e7f":"markdown","6dccb5d9":"markdown","daa09b52":"markdown","3e344665":"markdown","b1f9bf6c":"markdown","8aa4f054":"markdown","7b936358":"markdown","ac9e94f1":"markdown","6dcbbb8c":"markdown","1a1da681":"markdown","845c5ffe":"markdown","b15e4dac":"markdown","415ae2c2":"markdown","b87a9bff":"markdown","7573fc36":"markdown","59571683":"markdown","9745b281":"markdown","eec48e7d":"markdown","d1af59b2":"markdown","ee3bace0":"markdown","93daca13":"markdown","0e254d44":"markdown","35348ae8":"markdown","be4127f0":"markdown","f3f0282d":"markdown","f734a4d6":"markdown","d86eae37":"markdown"},"source":{"dc1b2674":"import pandas as pd\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\nimport seaborn as sns\r\n","89f84d0b":"import os\nprint(os.listdir(\"..\/input\"))","3ccb4bce":"df=pd.read_csv('..\/input\/ipl-data-set\/matches.csv')\r\ndf.head()","9a054796":"df.isnull().sum()","cbe323c7":"df.shape","83ae9b86":"df.drop(['umpire3'],axis=1,inplace=True)","045c1f87":"df.columns","d6cb1b82":"Teams={\r\n    'Royal Challengers Bangalore':'RCB', \r\n    'Sunrisers Hyderabad':'SRH',\r\n       'Rising Pune Supergiant':'RPS',\r\n    'Mumbai Indians':'MI',\r\n       'Kolkata Knight Riders':'KKR', \r\n    'Gujarat Lions':'GL',\r\n    'Kings XI Punjab':'KXIP',\r\n       'Delhi Daredevils':'DD',\r\n    'Chennai Super Kings':'CSK',\r\n    'Rajasthan Royals':'RR',\r\n       'Deccan Chargers':'DC',\r\n    'Kochi Tuskers Kerala':'KTK',\r\n    'Pune Warriors':'PW',\r\n       'Rising Pune Supergiants':'RPS'\r\n}","0d38d9bb":"df['team1']=df['team1'].map(Teams)\r\ndf['team2']=df['team2'].map(Teams)","14894ecf":"df.head()","45f88c81":"print('Total Matches Played:',df.shape[0])\r\nprint(' \\n Venues Played At:',df['city'].unique())     \r\nprint(' \\n Teams :',df['team1'].unique())","242c42b8":"print(df['player_of_match'].value_counts())","baed2925":"df[df['win_by_runs']==df['win_by_runs'].max()]","975fa435":"df[df['win_by_wickets']==df['win_by_wickets'].max()]","515f0e48":"sns.countplot(x='Season',hue='toss_decision',data=df)","9b520201":"df['toss_winner'].value_counts().plot(kind='bar')","7249e0c1":"df.shape","2a4186d4":"df.head()","fac4ad6f":"df['team2']","27d4c3c6":"matches_played_byteams=pd.concat([df['team1'],df['team2']],axis=1)\r\nmatches_played_byteams","15b1cc03":"teams=(matches_played_byteams['team1'].value_counts()+matches_played_byteams['team2'].value_counts()).reset_index()\r\nteams.columns=['team_name','Matches_played']\r\nteams","3052ecc3":"df['winner']=df['winner'].map(Teams)","3b727fcd":"wins=pd.DataFrame(df['winner'].value_counts()).reset_index()\r\nwins.columns=['team_name','wins']\r\nwins","c0661ba5":"player=teams.merge(wins,left_on='team_name',right_on='team_name',how='inner')","44f25dcb":"player.columns=['team','matches_played','wins']\r\nplayer","0e46f941":"player['%win']=(player['wins']\/player['matches_played'])*100\r\nplayer","c5d4a8ed":"import plotly.offline as py\r\npy.init_notebook_mode(connected=True)\r\nimport plotly.graph_objs as go","47b39d49":"trace1 = go.Bar(\r\n    x=player['team'],\r\n    y=player['matches_played'],\r\n    name='Total Matches'\r\n)\r\ntrace2 = go.Bar(\r\n    x=player.team,\r\n    y=player['wins'],\r\n    name='Matches Won'\r\n)\r\n\r\n","f101a5b9":"data = [trace1, trace2]\r\npy.iplot(data)","ead620e6":"sns.countplot(df['Season'])","c8740006":"df.head()","ab73311b":"df2=pd.read_csv('..\/input\/ipl-data-set\/deliveries.csv')\ndf2.head()\n","61d25e55":"season=df[['id','Season']].merge(df2, left_on = 'id', right_on = 'match_id', how = 'left').drop('id', axis = 1)\r\nseason","fa56c5c6":"season=season.groupby(['Season'])['total_runs'].sum().reset_index()\nseason.set_index('Season').plot()\nplt.title('Total Runs Across the Seasons')\nplt.show()","9ef8712a":"avg_runs=df.groupby(['Season'])['id'].count().reset_index().rename(columns={'id':'matches'})\r\navg_runs","d2141331":"season","29a78cf9":"final=pd.concat([avg_runs,season.iloc[:,1]],axis=1)\r\nfinal","808ceb15":"final['per_match_runs']=final['total_runs']\/final['matches']\nfinal.set_index('Season',inplace=True)","d88fc9b1":"final","12a2fb35":"final['per_match_runs'].plot()","d1330945":"def lucky(df,team_name):\r\n    return df[df['winner']==team_name]['venue'].value_counts().nlargest(5)","30592eb3":"lucky(df,'MI').plot(kind='bar')","cba4003b":"def comparison(team1,team2):\n    compare=df[((df['team1']==team1)|(df['team2']==team1))&((df['team1']==team2)|(df['team2']==team2))]\n    sns.countplot(x='Season',hue='winner',data=compare)","c2d2d3e6":"comparison('MI','CSK')","886ef9a0":"import os\nprint(os.listdir(\"..\/input\"))","636f7b92":"df=pd.read_csv('..\/input\/ipl-data-set\/deliveries.csv')\ndf.head()\n","15967219":"filt=(df['batsman']=='DA Warner')\ndf_warner=df[filt]\ndf_warner.head()","186226fa":"df_warner['dismissal_kind'].value_counts().plot.pie()","95994047":"len(df_warner[df_warner['batsman_runs']==4])","17cdc935":"len(df_warner[df_warner['batsman_runs']==6])","68111ece":"df_warner['total_runs'].sum()","645e77f4":"def count(df,runs):\n    return len(df_warner[df_warner['batsman_runs']==runs])*runs","187dd408":"count(df_warner,1)","9ed5ccd6":"count(df_warner,2)","7101a598":"count(df_warner,3)","c5149526":"count(df_warner,4)","5beea195":"count(df_warner,6)","72a41035":"slices=[997,414,39,1604,960]\nlabels=[1,2,3,4,6]\nexplode=[0,0,0,0,0.1]\nplt.pie(slices,labels=labels,autopct='%1.1f%%',explode=explode)\nplt.title(\"DA Warner total runs contribution\")\nplt.tight_layout()\nplt.show()","91a5d7e0":"df.head()","0a019131":"df['bowling_team'].unique()","7dcdeb23":"\n\nTeams={\n    'Royal Challengers Bangalore':'RCB', \n    'Sunrisers Hyderabad':'SRH',\n       'Rising Pune Supergiant':'RPS',\n    'Mumbai Indians':'MI',\n       'Kolkata Knight Riders':'KKR', \n    'Gujarat Lions':'GL',\n    'Kings XI Punjab':'KXIP',\n       'Delhi Daredevils':'DD',\n    'Chennai Super Kings':'CSK',\n    'Rajasthan Royals':'RR',\n       'Deccan Chargers':'DC',\n    'Kochi Tuskers Kerala':'KTK',\n    'Pune Warriors':'PW',\n       'Rising Pune Supergiants':'RPS'\n}","2e4d1bc3":"df['batting_team']=df['batting_team'].map(Teams)\ndf['bowling_team']=df['bowling_team'].map(Teams)","96df974f":"df.head()","a8505b73":"df.columns","f128b9b6":"runs=df.groupby(['match_id','inning','batting_team'])[['total_runs']].sum().reset_index()\nruns.drop('match_id',axis=1,inplace=True)","fe24a304":"runs.head()","8fa12808":"inning1=runs[runs['inning']==1]\ninning2=runs[runs['inning']==2]","053431ba":"sns.boxplot(x='batting_team',y='total_runs',data=inning1)","cca578bf":"sns.boxplot(x='batting_team',y='total_runs',data=inning2)","a1ebdedb":"high_scores=df.groupby(['match_id', 'inning','batting_team','bowling_team'])['total_runs'].sum().reset_index() \nhigh_scores","653a6ad0":"score_200=high_scores[high_scores['total_runs']>=200]\nscore_200","a6478d01":"plt.figure(figsize=(10,6))\nsns.countplot(score_200['batting_team'])\n","4e82c1ff":"sns.countplot(score_200['bowling_team'])","8b4dbc3f":"high_200=df.groupby(['match_id', 'inning','batting_team','bowling_team'])['total_runs'].sum().reset_index()\nhigh_200.set_index(['match_id'],inplace=True)\n","61db5860":"high_200['total_runs'].max()","8d5576b2":"high_200.columns","e1c77d4c":"high_200.head()","6057445e":"high=high_200.rename(columns={'total_runs':'count'})\nhigh=high[high['count']>=200].groupby(['inning','batting_team','bowling_team']).count()\nhigh","c117112a":"balls=df.groupby(['batsman'])['ball'].count().reset_index()\nballs","6d33fb4f":"runs=df.groupby(['batsman'])['batsman_runs'].sum().reset_index()\nruns.columns=['batsman','runs']\nruns\n\n###runs=df.groupby(['batsman'])['batsman_runs'].agg(sum).reset_index()","74e935e8":"df.groupby(['batsman'])['batsman_runs'].agg(sum)","54cba38f":"balls=balls.merge(runs,left_on='batsman',right_on='batsman',how='outer')","c11ca775":"four=df[df['batsman_runs']==4]","70959e18":"''' df.groupby('batsman')['batsman_runs'].agg(lambda x: (x==4).sum()).reset_index()'''\n\nruns_4=four.groupby('batsman')['batsman_runs'].count().reset_index()\nruns_4.columns=['batsman','4s']\nruns_4\n","bc8a5ab7":"six=df.groupby('batsman')['batsman_runs'].agg(lambda x: (x==6).sum()).reset_index()\nsix.columns=['batsman','6s']\nsix","5c6e2e9d":"player=pd.concat([runs,balls.iloc[:,1],runs_4.iloc[:,1],six.iloc[:,1]],axis=1)\nplayer","160f0778":"player['strike_rate']=player['runs']\/player['ball']\nplayer.head()","4e130daa":"player.isna().sum()","ceb8f707":"player['4s'].fillna(0,inplace=True)","95f05bf1":"player.isnull().values.any()","cc083729":"df.columns","4ad96686":"grp=df.groupby(['match_id','batsman','batting_team'])['batsman_runs'].sum().reset_index()\ngrp","fe275076":"max=grp.groupby(['batsman'])['batsman_runs'].max().reset_index()\nmax.columns=['batsman','max_runs']\nmax","30e1440f":"player2=pd.concat([player,max.iloc[:,1:3]],axis=1)\nplayer2","b5c5734a":"player2.shape","00d4a6e8":"max_runs=df.groupby(['batsman'])['batsman_runs'].sum()\nmax_runs.sort_values(ascending=False)[:10].plot.bar()","6f64cc09":"df.groupby([\"match_id\",\"batsman\",'batting_team'])[\"batsman_runs\"].sum().reset_index().sort_values(by='batsman_runs', ascending=False).head(10)","3ef78f73":"df['dismissal_kind'].unique()","0f1c53dd":"dismissal_kinds = ['caught', 'bowled', 'lbw', 'caught and bowled',\n       'stumped', 'hit wicket']","d8b1eeac":"hwt=df[df[\"dismissal_kind\"].isin(dismissal_kinds)]\nhwt.head()","86ba1795":"hwt['bowler'].value_counts()[:10].plot.bar()","764907f4":"##### most lucky grounds for teams","13023692":"##### Replacing the Team Names with their abbreviations","d71c1f4e":"##### Lasith Malinga leads the chart, ","7e9d62af":"##### Toss Decisions across Seasons","22c03deb":"##### There was a decline in total runs from 2008 to 2009.But there after there was a  increase in runs in every season until 2013, but from next season there was a slump in the total runs. But the number of matches are not equal in all seasons. We should check the average runs per match in each season","a4bf5fb3":"##### 1st graph shows the number of times a team has scored above 200 runs. 2nd graph shows the number of times a bowling team has conceeded above 200 runs.","4449319b":"##### maximum win by runs","c80e2358":"#### total fours by da warner\n","16dd2e7f":"##### how many times team scores >200 runs against batting team","6dccb5d9":"##### this figure also conveys the same story.in this, we see a point near 0 for RCB which may seem to be outlier. But it is on account of the match was disrupted.","daa09b52":"##### Total Matches vs Wins for Teams ","3e344665":"##### how many times teams scores more than 200","b1f9bf6c":"##### Mumbai Indians(MI) defeated Delhi Daredevils(DD) with the highest run difference","8aa4f054":"#### Some Basic Analysis","7b936358":"##### Runs Across the Seasons","ac9e94f1":"#### Score Distribution For Teams by Innings","6dcbbb8c":"##### Batsman Comparison","1a1da681":"#### Not only Gayle but there are many RCB players on the top scores list. Looks like RCB is a very formidable batting side.","845c5ffe":"##### pie chart of Runs contribution of David Warner","b15e4dac":"#### Top Individual Scores","415ae2c2":"##### comparison between 2 teams on the basis of their wins","b87a9bff":"##### Matches played across each season","7573fc36":"##### total 6s by da warner","59571683":"##### total runs made by DA warner","9745b281":"#### Top 10 Batsman","eec48e7d":"#### highest wins by wickets","d1af59b2":"#### Here we can see that MI and CSK have played against each other in more than 2 matches, and MI dominates","ee3bace0":"#### SK Raina has highest total runs across all seasons Whereas Virat Kohliis just few runs behind with the second spot ","93daca13":"### Now, let's Analyse Deliveries.csv and get some Insights about it","0e254d44":"##### Highest Wicket Taker","35348ae8":"### Maximum Toss Winners","be4127f0":"##### According to this plot, the batting by CSK & RCB seems best. ","f3f0282d":"##### most man of the match awards","f734a4d6":"#### indepth Analysis of David Warner(Australian Batsman) Performance","d86eae37":"##### In some seasons, the probablity that toss winners opt for batting is high while In 2016, the majority of toss winners opted for fielding"}}