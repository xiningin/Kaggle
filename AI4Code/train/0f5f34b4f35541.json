{"cell_type":{"ac5c833d":"code","e3f31225":"code","5b1a0d4e":"code","5d6ea756":"code","a2d9293a":"code","c71c9634":"code","edc70f98":"code","b1c0e558":"code","b4543a7c":"code","c046e484":"code","4f0acb69":"code","f9789283":"code","b9428062":"code","3973e498":"markdown","6bd88c1f":"markdown","806d5954":"markdown","0a56f95b":"markdown","e5de4939":"markdown","6dcafb01":"markdown","ac3d8c7a":"markdown","5297b5c4":"markdown"},"source":{"ac5c833d":"import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport numpy as np\nsns.set(style = 'whitegrid')","e3f31225":"import os\nfor dirname, _, filenames in os.walk('..\/input\/crimes-estado-rio-de-janeiro-2009-a-2019\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","5b1a0d4e":"parte1 = pd.read_csv('..\/input\/crimes-estado-rio-de-janeiro-2009-a-2019\/parte1.csv', \n                     sep = ';', \n                     encoding = 'iso-8859-1')\n\nparte1 = parte1.loc[parte1.titulo_do == 'Morte por interven\u00e7\u00e3o de agente do Estado']\n\nparte1.drop(['risp', 'aisp'], axis = 1, inplace = True)\n\n\nparte2 = pd.read_csv('..\/input\/crimes-estado-rio-de-janeiro-2009-a-2019\/parte2.csv', \n                     sep = ';', \n                     encoding = 'iso-8859-1')\n\nparte2 = parte2.loc[parte2.titulo_do == 'Morte por interven\u00e7\u00e3o de agente do Estado']\n\n\nparte3 = pd.read_csv('..\/input\/crimes-estado-rio-de-janeiro-2009-a-2019\/parte3.csv', \n                     sep = ';', \n                     encoding = 'iso-8859-1')\n\nparte3 = parte3.loc[parte3.titulo_do == 'Morte por interven\u00e7\u00e3o de agente do Estado']\n\n\nparte4 = pd.read_csv('..\/input\/crimes-estado-rio-de-janeiro-2009-a-2019\/parte4.csv', \n                     sep = ';', \n                     encoding = 'iso-8859-1')\n\nparte4 = parte4.loc[parte4.titulo_do == 'Morte por interven\u00e7\u00e3o de agente do Estado']\n\nmortes_estado = pd.concat([parte1, parte2, parte3, parte4])\nmortes_estado","5d6ea756":"serie_cisp_mortes_estado = pd.value_counts(mortes_estado['cisp'].values, sort = True)\ncisp_mortes_estado = pd.DataFrame({'cisp' : serie_cisp_mortes_estado.index, 'mortos' : serie_cisp_mortes_estado.values})\npd.set_option('display.max_rows', None)\ncisp_mortes_estado.set_index('cisp')","a2d9293a":"serie_idade_mortes_estado = pd.value_counts(mortes_estado['idade'].values, sort = True)\nidade_mortes_estado = pd.DataFrame({'idade' : serie_idade_mortes_estado.index, 'mortos' : serie_idade_mortes_estado.values})\npd.set_option('display.max_rows', None)\nidade_mortes_estado.set_index('idade')","c71c9634":"serie_cor_mortes_estado = pd.value_counts(mortes_estado['cor'].values, sort = True)\ncor_mortes_estado = pd.DataFrame({'cor' : serie_cor_mortes_estado.index, 'mortos' : serie_cor_mortes_estado.values})\npd.set_option('display.max_rows', None)\ncor_mortes_estado.set_index('cor')","edc70f98":"mortes_estado = mortes_estado[mortes_estado.cor != 'ignorado']\nmortes_estado = mortes_estado[mortes_estado.cor != 'sem informa\u00e7\u00e3o']\nmortes_estado = mortes_estado[mortes_estado.cor != 'albino']\nmortes_estado = mortes_estado[mortes_estado.cor != 'amarela']\nmortes_estado = mortes_estado[mortes_estado.cor != '\u00edndio']\nmortes_estado = mortes_estado[mortes_estado.hora_fato != '99']\nmortes_estado = mortes_estado[mortes_estado.idade != 118.0]\nmortes_estado['cor'].replace({'negra': 'preta'}, inplace = True)\nmortes_estado.reset_index(inplace = True)\nmortes_estado.drop(['index', 'controle', 'dp'], axis = 1, inplace = True)\nfaixa_etaria = pd.cut(mortes_estado.idade, \n                   bins = [0, 17, 99], labels = ['menor de idade', 'maior de idade'])\nmortes_estado.insert(21,'faixa et\u00e1ria', faixa_etaria)\n\nmortes_estado['hora_fato'] = pd.to_datetime(mortes_estado['hora_fato'], format = '%H:%M')\nmortes_estado = mortes_estado.assign(hor\u00e1rio = pd.cut(mortes_estado.hora_fato.dt.hour,\n                            [0, 6, 12, 18, 23],\n                            labels = ['madrugada', 'manh\u00e3', 'tarde', 'noite'],\n                            include_lowest = True))\n\n\nreg = {'Zona Norte': ['039a. Pavuna', '021a. Bonsucesso', '038a. Braz de Pina', '025a. Engenho Novo', '040a. Hon\u00f3rio Gurgel', '022a. Penha', '027a. Vicente de Carvalho', '029a. Madureira', '044a. Inha\u00fama', '031a. Ricardo Albuquerque', '037a. Ilha do Governador', '024a. Piedade', '030a. Marechal Hermes', '019a. Tijuca', '026a. Todos os Santos', '045a. Alem\u00e3o', '020a. Graja\u00fa', '028a. Campinho', '023a. Meier', '018a. Pra\u00e7a da Bandeira'], \n        'Zona Oeste': ['034a. Bangu', '036a. Santa Cruz', '032a. Taquara', '033a. Realengo', '035a. Campo Grande', '041a. Tanque', '016a. Barra da Tijuca', '042a. Recreio', '043a. Pedra de Guaratiba'], \n        'Zona Sul e Centro': ['006a. Cidade Nova', '017a. S\u00e3o Crist\u00f3v\u00e3o', '007a. Santa Tereza', '004a. Pra\u00e7a da Rep\u00fablica', '011a. Rocinha', '015a. G\u00e1vea', '012a. Copacabana', '009a. Catete', '005a. Mem de S\u00e1', '013a. Ipanema', '010a. Botafogo', '014a. Leblon'], \n        'Regi\u00e3o Metropolitana (exceto capital)': ['054a. Belford Roxo', '059a. Duque de Caxias', '078a. Fonseca', '074a. Alcantara', '056a. Comendador Soares', '064a. Vilar dos Teles', '062a. Imbari\u00ea', '060a. Campos El\u00edseos', '073a. Neves', '072a. S\u00e3o Gon\u00e7alo', '050a. Itagua\u00ed', '075a. Rio do Ouro', '071a. Itabora\u00ed', '053a. Mesquita', '063a. Japer\u00ed', '077a. Icara\u00ed', '079a. Jurujuba', '058a. Posse', '055a. Queimados', '076a. Niter\u00f3i - Centro', '065a. Mag\u00e9', '052a. Nova Igua\u00e7u', '081a. Itaip\u00fa', '066a. Piabet\u00e1', '082a. Maric\u00e1', '057a. Nil\u00f3polis', '105a. Petr\u00f3polis', '048a. Serop\u00e9dica', '051a. Paracamb\u00ed', '067a. Guapimirim', '159a. Cachoeira de Macac\u00fa', '070a. Tangu\u00e1', '061a. Xer\u00e9m', '119a. Rio Bonito', '106a. Itaipava'],\n        'Interior': ['166a. Angra dos Reis', '123a. Maca\u00e9', '126a. Cabo Frio', '093a. Volta Redonda', '118a. Araruama', '151a. Nova Friburgo', '125a. S\u00e3o Pedro da Aldeia', '110a. Teres\u00f3polis', '146a. Guarus', '121a. Casimiro de Abreu', '124a. Saquarema', '090a. Barra Mansa', '134a. Campos', '128a. Rio das Ostras', '127a. B\u00fazios', '167a. Parati', '165a. Mangaratiba', '089a. Resende', '132a. Arraial do Cabo', '099a. Itatiaia', '108a. Tr\u00eas Rios', '136a. Santo Antonio de P\u00e1dua', '147a. S\u00e3o Francisco de Itabapoana', '122a. Concei\u00e7\u00e3o de Macab\u00fa', '129a. Iguaba', '130a. Quissam\u00e3', '137a. Miracema', '138a. Lajes de Muriar\u00e9', '088a. Barra do Pira\u00ed', '145a. S\u00e3o Jo\u00e3o da Barra', '112a. Carmo', '139a. Porci\u00fancula', '098a. Paulo de Frontin', '120a. Silva Jardim', '097a. Mendes', '143a. Itaperuna', '091a. Valen\u00e7a']}\n\ndreg = {k: oldk for oldk, oldv in reg.items() for k in oldv}\n\nmortes_estado['regi\u00e3o'] = mortes_estado['cisp'].map(dreg)\n\n\n\nmortes_estado","b1c0e558":"ax1 = sns.countplot(y = 'hor\u00e1rio', color = 'c', data = mortes_estado)\nax1.set_xlabel('mortes');","b4543a7c":"ax2 = sns.countplot(y = 'faixa et\u00e1ria', data = mortes_estado, \n              hue = mortes_estado.cor.sort_values(), palette = 'Blues');\nax2.set_xlabel('mortes');","c046e484":"mortes_regi\u00e3o_cor = mortes_estado.groupby(['regi\u00e3o', 'cor']).agg({'cor': ['size']})\nmortes_regi\u00e3o_cor.columns = mortes_regi\u00e3o_cor.columns.map('_'.join)\nmortes_regi\u00e3o_cor = mortes_regi\u00e3o_cor.reset_index()\nmortes_regi\u00e3o_cor.rename(columns={'cor_size': 'mortes'}, inplace=True)\nmortes_regi\u00e3o_cor","4f0acb69":"mrcb = sns.catplot(x = 'cor', y = 'mortes', col = 'regi\u00e3o', col_wrap = 2, data = mortes_regi\u00e3o_cor, \n                   kind = 'bar', palette = 'Blues', height = 4, aspect = .8)","f9789283":"mortes_ano_cor = mortes_estado.groupby(['ano', 'cor']).agg({'cor': ['size']})\nmortes_ano_cor.columns = mortes_ano_cor.columns.map('_'.join)\nmortes_ano_cor = mortes_ano_cor.reset_index()\nmortes_ano_cor.rename(columns={'cor_size': 'mortes'}, inplace=True)\nmortes_ano_cor","b9428062":"ax = sns.lineplot(x = 'ano', y = 'mortes', hue = 'cor',\n                  data = mortes_ano_cor, palette = 'Blues')","3973e498":"The following plots show the number of victims of lethal force by region, and the number of pardo and black victims is higher than white ones in every region of the state.\n\nRegions which concentrate most deaths are the Rio's Metro Area (excluding the capital) and the capital's North Side; and the ones with less deaths are the capital's South Side and the inland part of the state.\n\nEven the regions with less victims have a high number of deaths comparing to whole US states, and the number of victims in the outskirts of the capital (Metro Area, North Side and West Side) is really scary.\n\n---\n\nOs gr\u00e1ficos permitem observar que em todas as regi\u00f5es do estado, a letalidade policial incide mais sobre pardos e pretos do que sobre brancos. \n\nAs regi\u00f5es nas quais h\u00e1 mais v\u00edtimas do uso letal de for\u00e7as policiais s\u00e3o a regi\u00e3o metropolitana da cidade do Rio (excluindo a capital) e a Zona Norte da capital, enquanto a regi\u00e3o com menos registros \u00e9 a Zona Sul da capital, seguida do interior do Estado.\n\nOs n\u00fameros nas regi\u00f5es com menos incid\u00eancia de v\u00edtimas j\u00e1 s\u00e3o altos se comparados aos de estados inteiros dos EUA, e a quantidade de v\u00edtimas da letalidade policial na periferia da cidade do Rio de Janeiro, ou seja, nas zonas Norte, Oeste e na regi\u00e3o metropolitana, \u00e9 realmente assustadora.","6bd88c1f":"After setting up the workspace, printing the files and concatenating them (the whole data was divided because of the amount of data), I printed the df with the whole data and also some other dfs counting data entries (the \"idade_mortes_estado\" df shows that the majority of police lethality victims are young adults; and the \"cisp_mortes_estado\" df let us observe the number of deaths by occurrences in areas served by police stations) and to check the incorrect and unnecessary values as well.\n\n\n\nThe dataframe obtained after cleaning is down below.\n\n---\n\nAp\u00f3s importar as livrarias e unir os dados (que estavam em arquivos separados devido ao tamanho) em um s\u00f3 dataframe, printei o dataframe com a totalidade dos dados e tamb\u00e9m alguns outros pra contar as entradas (v\u00ea-se no dataframe \"idade_mortes_estado\", por exemplo, que a maior incid\u00eancia de v\u00edtimas de viol\u00eancia policial \u00e9 de jovens adultos; e o \"cisp_mortes_estado permite observar as delegacias que registraram o maior n\u00ba de mortes via uso letal de for\u00e7a policial em sua \u00e1rea de atua\u00e7\u00e3o) e checar certos valores a fim de descartar entradas incorretas ou que n\u00e3o seriam \u00fateis na an\u00e1lise. \n\nAbaixo, est\u00e1 o novo dataframe obtido a partir da filtragem dos dados.","806d5954":"<a id=\"section-four\"><\/a>\n## Conclusion\n\nThere's a high number of overall deaths due to lethal force by Rio de Janeiro's state police, but blacks and pardos (mainly at a young age) are the most affected by police lethality. The exaggerated and unprepared police methods are not the only reason for the high number of deaths: there is a racial and geographical discrimination involved in police actions in the Rio de Janeiro state.\n\n---\n\nO n\u00ba de v\u00edtimas da letalidade policial no Estado do Rio de Janeiro \u00e9 assustador em rela\u00e7\u00e3o \u00e0 todas as etnias observadas, mas a popula\u00e7\u00e3o negra e perif\u00e9rica (e em sua maioria os jovens) \u00e9 a que mais sofre com o uso letal da for\u00e7a por parte da pol\u00edcia. Al\u00e9m da predomin\u00e2ncia de a\u00e7\u00f5es exageradas e do despreparo dos agentes de seguran\u00e7a p\u00fablica do Estado, fica n\u00edtido o racismo institucional das pol\u00edcias em rela\u00e7\u00e3o \u00e0 etnia das v\u00edtimas e tamb\u00e9m \u00e0 diferen\u00e7a de sua letalidade em \u00e1rea de atua\u00e7\u00e3o distintas.","0a56f95b":"<a id=\"section-one\"><\/a>\n## Intro + Setup\n\n* [Intro + Setup](#section-one)\n* [Data Cleaning](#section-two)\n* [Data Viz](#section-three)\n* [Conclusion](#section-four)\n\nThe purpose of this notebook is to make notes about the use of deadly force by Rio de Janeiro State's police by ethnicity, specially distinguishing whites from blacks and pardos (mixed-race brazilians, often lightskin afro-brazilians).\n\nI used a dataset from Rio's Public Safety Institute which contains crimes that occurred between 2009 and 2019.\n\n---\n\nO objetivo deste notebook \u00e9 fazer observa\u00e7\u00f5es sobre a letalidade policial no Estado do Rio de Janeiro, adotando um recorte \u00e9tnico para comparar a incid\u00eancia do uso de for\u00e7a letal por parte da pol\u00edcia entre v\u00edtimas brancas e negras (pardas e pretas). \n\nA base de dados utilizada na an\u00e1lise foi disponibilizada pelo Instituto de Seguran\u00e7a P\u00fablica do Rio de Janeiro, e contempla dados entre os anos de 2009 e 2019.","e5de4939":"<a id=\"section-two\"><\/a>\n## Data cleaning","6dcafb01":"The overall number of victims went down from 2009 to 2013, a period that coincides with the implementation of the Police Pacification Units in many favelas, and also with the preparations for the 2013 FIFA Confederations Cup and the 2014 FIFA World Cup.\n\nFrom 2013, the number of victims per year has increased: it skyrocketed in 2015, specially when talking about pardos and blacks. The number of white victims has increased remarkably in 2017, (but much less than the deaths of pardos and blacks), and became stable between 2018 and 2019.\n\n---\n\nEm rela\u00e7\u00e3o ao n\u00ba de v\u00edtimas ao longo dos anos, houve uma queda no n\u00ba geral de v\u00edtimas entre 2009 e 2013, per\u00edodo que coincide com a implementa\u00e7\u00e3o das Unidades de Pol\u00edcia Pacificadora em diversas favelas, e tamb\u00e9m com os preparativos para a Copa das Confedera\u00e7\u00f5es de 2013 e a Copa do Mundo de 2014.\n\nA partir de 2013, o n\u00ba de v\u00edtimas por ano passou a aumentar, tendo disparado em 2015 em rela\u00e7\u00e3o a pardos e pretos. O n\u00ba de v\u00edtimas brancas aumentou de forma not\u00e1vel em 2017, mas de forma bem inferior ao de v\u00edtimas pardas e pretas, e se estabilizou entre os anos de 2018 e 2019, diferentemente do que aconteceu em rela\u00e7\u00e3o \u00e0s outras etnias.","ac3d8c7a":"<a id=\"section-three\"><\/a>\n## Data Viz\n\nFirst of all, I plotted the number of deaths by period of time (night, morning, afternoon and evening, respectively).\n\nMost victims of police lethality were killed in the morning and in the afternoon, and it demonstrates that the police ostensibly uses deadly force when most citizens are on the streets, working and studying.\n\n---\n\nO primeiro gr\u00e1fico que plotei diz respeito ao hor\u00e1rio do dia no qual as mortes decorrentes de uso letal da for\u00e7a policial ocorreram. \n\nOs hor\u00e1rios nos quais houve mais v\u00edtimas da letalidade policial foram de manh\u00e3 e a tarde, o que demonstra que a pol\u00edcia utiliza for\u00e7a letal de forma ostensiva em per\u00edodos nos quais a maioria dos cidad\u00e3os est\u00e1 circulando nas ruas, e que tamb\u00e9m coincidem com os hor\u00e1rios escolares.","5297b5c4":"The next plot shows the number of victims between underage people and adults, and as the following ones, is categorized by ethnicity (\"brancos\" means whites, and \"pretos\" means black people).\n\nIn both age ranges, the number of white victims is clearly lower than black and pardo victims.\n\n---\n\nO gr\u00e1fico seguinte, j\u00e1 diferenciado por etnia, mostra o n\u00ba de v\u00edtimas entre maiores e menores de idade. \n\nEntre os menores, a incid\u00eancia de v\u00edtimas brancas \u00e9 de menos da metade das pretas e de aproximadamente 1\/3 das pardas.\n\nEm rela\u00e7\u00e3o a maiores de idade, o n\u00famero de v\u00edtimas brancas, que j\u00e1 \u00e9 alto, \u00e9 bem inferior ao de pretas e pardas (em rela\u00e7\u00e3o \u00e0s pardas, tamb\u00e9m corresponde a menos de 50%).\n"}}