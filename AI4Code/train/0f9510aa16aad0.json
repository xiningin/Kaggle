{"cell_type":{"22bece9b":"code","5e1023f0":"code","0bdc018a":"code","3dd0fb31":"code","e5ba39c3":"code","fedcc2bf":"code","20da13e4":"code","c943e188":"code","a8f0c934":"code","89a00917":"code","c6a9a0a0":"code","f36d0543":"code","41739d59":"code","d1a7e13a":"code","9e23f545":"code","6f05e0f9":"code","4b1d647a":"code","90292381":"code","63745094":"code","4fc06d55":"code","2f4734ef":"code","ec48c6db":"code","f592f0b8":"code","bc197701":"code","a2685bd8":"code","333acf94":"code","c7777664":"markdown","ac858413":"markdown","a1bf659a":"markdown","cb99f86d":"markdown","cd819d52":"markdown","baf76a0b":"markdown","b523abf6":"markdown","d66ecd36":"markdown","09af9d45":"markdown","776a0580":"markdown","cdcd86fb":"markdown","d2fc21ca":"markdown","4015ff65":"markdown","36c6eb64":"markdown","fd5c0374":"markdown","7190fded":"markdown","4b522d1b":"markdown","98dc7174":"markdown","7de9d025":"markdown","479fedb1":"markdown","33e025c7":"markdown","22ed2948":"markdown"},"source":{"22bece9b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n# plotly\nimport plotly.plotly as py\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n# import warnings\nimport warnings\n# filter warnings\nwarnings.filterwarnings('ignore')\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\n# Any results you write to the current directory are saved as output.\nimport os\nprint(os.listdir(\"..\/input\"))","5e1023f0":"df = pd.read_csv('..\/input\/BlackFriday.csv')\ndf.info()","0bdc018a":"df.isnull().sum().sort_values(ascending=False)","3dd0fb31":"df.sample(10)","e5ba39c3":"df.nunique()","fedcc2bf":"df.Purchase.describe()","20da13e4":"box1 = go.Box(y=df.Purchase,\n              name='Purchase',\n              marker = dict(color = 'rgba(15, 100, 150)'),\n              boxmean='sd')\n\ndatabox1 = [box1]\niplot(databox1)","c943e188":"df['Wealthiness'] = np.where(df.Purchase < df.Purchase.mean(), \"Poor\", \"Rich\")\ndf.Wealthiness.value_counts()","a8f0c934":"bar1 = go.Bar(x=df.Wealthiness.value_counts().index,\n              y=df.Wealthiness.value_counts().values,\n              marker = dict(color = 'rgba(150, 180, 32)',\n                            line=dict(color='rgb(104,32,0)',width=1.5))\n              )\ndatabar = [bar1]\niplot(databar)","89a00917":"df.groupby('Gender').agg(dict(Purchase=['min', 'mean', 'max']))","c6a9a0a0":"plt.figure(figsize=(7,5))\nsns.barplot(x=df.Gender.value_counts().index,y=df.Gender.value_counts().values )\nplt.show()","f36d0543":"df.Age.value_counts()","41739d59":"plt.figure(figsize=(7,5))\nsns.barplot(x=df.Age.value_counts().index, y=df.Age.value_counts().values)\nplt.show()","d1a7e13a":"from sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\ndf_new = le.fit_transform(df.Age) \n\nplt.figure(figsize=(7,5))\nsns.distplot(df_new,hist=False)\nplt.show()","9e23f545":"plt.figure(figsize=(7,5))\nsns.distplot(df.Purchase)\nprint('Skewness:', df.Purchase.skew())\nprint('Kurtosis:', df.Purchase.kurt())","6f05e0f9":"plt.figure(figsize=(6,6))\nsns.boxplot(x=df.Purchase)\nplt.show()","4b1d647a":"df2 = df.drop(['User_ID'],axis=1)\n\nplt.figure(figsize=(8,8))\nsns.heatmap(df2.corr(), annot=True, linewidths=0.5, linecolor='black', cmap='Blues')\nplt.xticks(rotation=90)\nplt.show()","90292381":"moneybox = []\nconsumer_list = list(df.User_ID.unique())\n\nfor i in consumer_list:\n    money = df[df.User_ID == i].Purchase.sum()\n    moneybox.append(money)","63745094":"users_purchases = pd.DataFrame(dict(Users=consumer_list, Purchases=moneybox))\nindices = (users_purchases.Purchases.sort_values(ascending=False)).index.values[:10]\nusers_purchases = users_purchases.reindex(indices).iloc[:10]\nusers_purchases","4fc06d55":"plt.figure(figsize=(8,6))\nusers_purchases.groupby([\"Users\"])['Purchases'].sum().sort_values(ascending=False).plot('bar', position=0.2)\nplt.xticks(rotation=45)\nplt.ylabel('Purchases')\nplt.show()","2f4734ef":"result = users_purchases.groupby([\"Users\"])['Purchases'].aggregate(np.median).reset_index().sort_values('Purchases')\n\nplt.figure(figsize=(8,6))\nsns.barplot(x=users_purchases.Users, y=users_purchases.Purchases, order=result['Users'])\nplt.xticks(rotation=45)\nplt.show()","ec48c6db":"plt.figure(figsize=(12,7))\nsns.countplot(x=df.Product_Category_1, hue=df.Gender)\nplt.show()","f592f0b8":"df['Marit_of_Genders'] = df.apply(lambda x:'%s.%s' % (x['Gender'],x['Marital_Status']),axis=1)\nplt.figure(figsize =(12,7))\nsns.countplot(x=df.Age, hue=df.Marit_of_Genders)\nplt.show()","bc197701":"plt.figure(figsize =(12,7))\nsns.countplot(x=df.Product_Category_1, hue=df.Marit_of_Genders)\nplt.show()","a2685bd8":"plt.figure(figsize=(7,5))\ndf.groupby('Gender')['Age'].value_counts().sort_values().plot('bar')\nplt.xticks(rotation=60)\nplt.show()","333acf94":"plt.figure(figsize=(7,5))\ndf.groupby('Product_ID')['Purchase'].count().nlargest(10).sort_values().plot('barh')\nplt.show()","c7777664":"*As seen above, the distribution is terrible. Since it's a categorical (discrete) data we can't prove it numerically with \"Skewness\" and \"Kurtosis\" values. Instead of those, we can check the Purchase values. By the way;*\n\n**Skewness **: Measure of symmetry, or more precisely, the lack of symmetry. (**Is data skewed to larger or smaller values?**) \"0\" means data is totally symmetric.\n\n**Kurtosis ** : Measure of whether the data are heavy-tailed or light-tailed relative to a normal distribution. (**Are there outliers?**) \"0\" means data is distributed normally if Fisher's definition is used. If Pearson's definition used, then result \"3\" gives a normal distribution.","ac858413":"* Top selling products","a1bf659a":"*It's time to check some statistical values of data, in terms of **Purchase**. With this information we'll obtain, maybe we can classify the people as** \"Poor\"** or **\"Stinger\"**  whatever you call, or vice versa. ","cb99f86d":"*Marital status w.r.t. genders of people shopping from Product Category 1*","cd819d52":"*It seems there are lots of NaN values, let's see how many of them really there are.*","baf76a0b":"*I wonder which age range made shopping more. And also distribution of those ranges.*","b523abf6":"# **Introduction**\n\n* In this kernel I will make an analysis of Black Friday data. \n* Some tools of  seaborn and plotly library will be used for visualization.\n* Also I will show you a few perspectives in terms of statistics by explainig some terms \"Skewness\" and \"Kurtosis\" of distributions. \n* Let's start with importing libraries and dataframe.","d66ecd36":"* I'll be thankful if you Upvotein case you like it, thanks in advance*\n\n# **END**","09af9d45":"* Firstly we will create an empty list \"moneybox\" to store purchases to append purchases of users into it, then for all consumer in \"User_ID\" we will find their total purchases in black friday.","776a0580":"*I choose to classify the consumers with respect to the mean value of all purchases, if someone is under the average then he\/she is said to be \"poor\".*\n\nLet's do it by adding a new column as \"Wealthiness\" to the data.","cdcd86fb":"*Marital Status w.r..t to gender of age ranges*","d2fc21ca":"*Now let's check the number of unique values like User, Product etc. in the dataset*","4015ff65":"*I think every knows the answer of following question but.. Which gender is addicted to shopping more than heroin? Let's see.*","36c6eb64":"* I tried to sort indices to replace with descending sorted ones, but seaborn library didn't let me plot w.r.t. sorted indices. So I created a dataframe in ascending sort called \"result\".","fd5c0374":"*Let's put on some make up to following information with a boxplot within visible std & mean.*\n\n**Generally, prefer using a violinplot within a box to see either distribution and the statistics.**","7190fded":"Maybe I act too many sexist above, let's see this also in boxplot. Since it occupy a huge place, I'll no longer use plotly in plots in which seaborn can handle it.","4b522d1b":"*Genders of the people buying different products in \"Product Category 1\".*","98dc7174":"*To see the distributions of age ranges, first we need to encode data since it's comprised of strings.*","7de9d025":"* When skewness is zero, that means data is completely symmetric.\n* Low kurtosis value means distribution have light tails, or lack of outliers.\n\nUnfortunately, we can't afford those 2 conditions. Data is not symmetric and we have outliers which means some people sold their kidneys to buy too many iphones at discount lol. We did the same above with boxplot, but let's see it again here.","479fedb1":"*I'm sure everyone realized there are a lot of different consumer, it was close to 6k we've check it above.*\n\n\n**So how about finding first 10 users spending the most in Black Friday?**","33e025c7":"Advertising has as chasing  cars and clothes, working jobs we hate so we can buy the shit we don't need. - *Tyler Durden*\n\n*Don't mind the score above, there can't be such numerous rich people. Let's visualize it via barplot.*","22ed2948":"*Is there any correlation among features? I don't think so, but we have to take a glance at it.*"}}