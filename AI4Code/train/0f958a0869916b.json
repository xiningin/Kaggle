{"cell_type":{"5420d230":"code","05b6953a":"code","4ef49247":"code","cd6fb556":"code","760e31d0":"code","2de137be":"markdown","b1c72682":"markdown","f97b2c58":"markdown","4599c5ba":"markdown"},"source":{"5420d230":"import altair as alt\nimport pandas as pd\nimport geopandas as gpd\n\ngdf = gpd.read_file('..\/input\/russia-shp2-salary-info\/Regions.shp', encoding='utf-8')\ndf = pd.read_csv('..\/input\/russia-shp2-salary-info\/zarplata2.csv', encoding='utf-8', sep=';')","05b6953a":"gdf.head()","4ef49247":"df.head()","cd6fb556":"gdf = gdf.merge(df, how=\"left\", left_on='NAME', right_on='Region')\ngdf = gdf.drop_duplicates('Region')\n\ngdf.head()","760e31d0":"bg = alt.Chart(gpd.read_file('..\/input\/russia-shp2-salary-info\/Regions.shp')).mark_geoshape(fill='lightgray', stroke='white').encode(tooltip=['NAME']).properties(width=600, height=400)\nfg = alt.Chart(gdf).mark_geoshape(stroke='white').encode(color='Value', tooltip=['NAME', 'Value']).properties(width=600, height=400)\n\n# https:\/\/vega.github.io\/vega\/docs\/projections\/\nmapChart = alt.LayerChart().configure_projection(type='azimuthalEquidistant', scale=540, rotate=[-119, -49, 27], center=[-20, 14]).properties(title=\"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0417\/\u041f \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c \u0420\u0424\")\n\n\nmapChart = mapChart.add_layers(bg)\nmapChart = mapChart.add_layers(fg)\n\nmapChart","2de137be":"\u0418\u043c\u043f\u043e\u0440\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a \u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","b1c72682":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0432\u0443\u0445 \u0441\u043b\u043e\u0451\u0432 \u043a\u0430\u0440\u0442\u044b, \u0438\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u043a\u0430 \u0438 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u0432 \"\u0441\u043b\u043e\u0451\u043d\u044b\u0439\" \u0433\u0440\u0430\u0444\u0438\u043a","f97b2c58":"mark_geoshape - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043e\u0442\u043e\u0431\u0440\u0436\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u044b\n*     fill - \u0437\u0430\u043b\u0438\u0432\u043a\u0430\n*     stroke - \u043e\u0431\u0432\u043e\u0434\u043a\u0430\n  \necode - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435\n*     color - \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0431\u0443\u0434\u0443\u0442 \u043a\u0440\u0430\u0441\u0438\u0442\u044c\u0441\u044f \u0441\u0435\u0433\u043c\u0435\u043d\u0442 \u043a\u0430\u0440\u0442\u044b\n*     tooltip - \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 \u043f\u0440\u0438 \u043d\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u0438 \u043d\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442 \u043a\u0430\u0440\u0442\u044b\n    \nproperties - \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0432\u043e\u0434\u0430 \u043a\u0430\u0440\u0442\u044b\n\nconfigure_projection - \u043d\u0430\u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0446\u0438\u0438 \u043a\u0430\u0440\u0442\u044b (\u043d\u0430\u0433\u043b\u044f\u0434\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0440\u043e\u0435\u043a\u0446\u0438\u0438 https:\/\/vega.github.io\/vega\/docs\/projections\/)\n*     type - \u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0446\u0438\u0438\n*     rotate - \u043f\u043e\u0432\u043e\u0440\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0446\u0438\u0438 \u043f\u043e \u0442\u0440\u0451\u043c \u043f\u043b\u043e\u0441\u043a\u043e\u0441\u0442\u044f\u043c\n*     center - \u0446\u0435\u043d\u0442\u0440 \u043f\u0440\u043e\u0435\u043a\u0446\u0438\u0438","4599c5ba":"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0441\u0440\u0435\u0434\u043d\u0435\u0439 \u0437\\\u043f \u043f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043c"}}