{"cell_type":{"406fda6a":"code","70a03fab":"code","ac69b21c":"code","8c347ccd":"code","88f3eb40":"code","e7290c6d":"code","d1afd536":"code","2f9eeebe":"code","02087382":"code","b82a94e8":"code","764a3db5":"code","e260ea73":"code","03bdd5e8":"code","f97ab11d":"code","7c42831e":"code","f9d830b1":"code","96d32f8a":"code","3e695c13":"code","971ca8e8":"code","b156d2eb":"code","59fedd34":"code","a2a2d791":"code","4995a0f5":"code","271a4c3e":"code","7ce6f6a5":"code","bdc6e460":"code","2fb0806b":"code","7693d6a4":"code","d6974d35":"code","bd6097e0":"code","76ee8e94":"code","51e45fc1":"markdown","416852a5":"markdown","8c83f737":"markdown","a3bfe6d8":"markdown","545d61f6":"markdown","296efe0d":"markdown","9f041105":"markdown","1e33dda7":"markdown","e24ba372":"markdown","84db3a2b":"markdown","15cf9534":"markdown","478711ce":"markdown","ca7a041a":"markdown","b9e1c562":"markdown","7b122a0d":"markdown","ce80aaf3":"markdown","3f5a6c1e":"markdown","d53a17b6":"markdown","365743db":"markdown","f0b8ad47":"markdown"},"source":{"406fda6a":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Plotting Tools\nimport matplotlib.pyplot as plt\nplt.style.use('ggplot')\nimport seaborn as sns\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n#print(os.listdir(\"..\/input\"))","70a03fab":"#fuction to show more rows and columns\ndef show_all(df):\n    #This fuction lets us view the full dataframe\n    with pd.option_context('display.max_rows', 100, 'display.max_columns', 100):\n        display(df)","ac69b21c":"# Bring test data into the environment\ntrain = pd.read_csv('\/kaggle\/input\/house-price\/train.csv', index_col='Id')\n#train=pd.read_csv('train.csv')\nshow_all(train.head())","8c347ccd":"#gives info regarding data types \ntrain.info()","88f3eb40":"#basic representative values of dataset\ntrain.describe().T","e7290c6d":"# Plot missing values of each column in the given dataset \ndef plot_missing(df):\n    # Find columns having missing values and count\n    missing = df.isnull().sum()\n    missing = missing[missing > 0]\n    \n    # Plot missing values by count \n    missing.plot.bar(figsize=(12,8))\n    plt.xlabel('Columns with missing values')\n    plt.ylabel('Count')\n    \n    #search for missing data\n    import missingno as msno\n    msno.matrix(df=df, figsize=(16,8), color=(0,0.2,1))\n    \nplot_missing(train)","d1afd536":"# Drop columns which has very high number of missing values\ndf=train.drop(['Alley','PoolQC','Fence','MiscFeature'],axis=1)","2f9eeebe":"#checking for missing values\nplot_missing(df)","02087382":"#checking the approximate distribution of 'LotFrontage' to substitute median\nplt.figure(figsize=(10,4))\nsns.distplot(df['LotFrontage'].dropna())\nplt.xlabel('LotFrontage')","b82a94e8":"#dataframe for each 'Neighborhood' is created for future analysis(groupby was not used)\nNAmes=df.loc[df.Neighborhood =='NAmes',:]\nGilbert=df.loc[df.Neighborhood =='Gilbert',:]\nStoneBr=df.loc[df.Neighborhood =='StoneBr',:]\nBrDale=df.loc[df.Neighborhood =='BrDale',:]\nNPkVill=df.loc[df.Neighborhood =='NPkVill',:]\nNridgHt=df.loc[df.Neighborhood =='NridgHt',:]\nBlmngtn=df.loc[df.Neighborhood =='Blmngtn',:]\nNoRidge=df.loc[df.Neighborhood =='NoRidge',:]\nSomerst=df.loc[df.Neighborhood =='Somerst',:]\nSawyerW=df.loc[df.Neighborhood =='SawyerW',:]\nSawyer=df.loc[df.Neighborhood =='Sawyer',:]\nNWAmes=df.loc[df.Neighborhood =='NWAmes',:]\nOldTown=df.loc[df.Neighborhood =='OldTown',:]\nBrkSide=df.loc[df.Neighborhood =='BrkSide',:]\nClearCr=df.loc[df.Neighborhood =='ClearCr',:]\nSWISU=df.loc[df.Neighborhood =='SWISU',:]\nEdwards=df.loc[df.Neighborhood =='Edwards',:]\nCollgCr=df.loc[df.Neighborhood =='CollgCr',:]\nCrawfor=df.loc[df.Neighborhood =='Crawfor',:]\nBlueste=df.loc[df.Neighborhood =='Blueste',:]\nIDOTRR=df.loc[df.Neighborhood =='IDOTRR',:]\nMitchel=df.loc[df.Neighborhood =='Mitchel',:]\nTimber=df.loc[df.Neighborhood =='Timber',:]\nMeadowV=df.loc[df.Neighborhood =='MeadowV',:]\nVeenker=df.loc[df.Neighborhood =='Veenker',:]","764a3db5":"#we are using the above created Neighborhood dataframes to fill NaN based on each Neighborhood. It wont be accurate if we\n#use the orginal whole dataframe to fillna.\ndef fill_missing_values(df):\n    df['MSZoning'].fillna(df['MSZoning'].mode(), inplace=True)\n    df['MSSubClass'].fillna(df['MSSubClass'].mode(), inplace=True)\n    df['LotFrontage'].fillna(df['LotFrontage'].median(), inplace=True)\n    df['Utilities'].fillna(df['Utilities'].mode(), inplace=True)\n    df['Exterior1st'].fillna(df['Exterior1st'].mode(), inplace=True)\n    df['Exterior2nd'].fillna(df['Exterior2nd'].mode(), inplace=True)\n    df['MasVnrType'].fillna(df['MasVnrType'].mode(), inplace=True)\n    df['MasVnrArea'].fillna(df['MasVnrArea'].mode(), inplace=True)\n    df['BsmtQual'].fillna('no_bsmt', inplace=True)\n    df['BsmtCond'].fillna('no_bsmt', inplace=True)\n    df['BsmtExposure'].fillna('no_bsmt', inplace=True)\n    df['BsmtFinType1'].fillna('no_bsmt', inplace=True)\n    df['BsmtFinSF1'].fillna(0, inplace=True)\n    df['BsmtFinType2'].fillna('no_bsmt', inplace=True)\n    df['BsmtFinSF2'].fillna(0, inplace=True)\n    df['Electrical'].fillna(df['Electrical'].mode(), inplace=True)\n    df['FireplaceQu'].fillna('no_fp', inplace=True)\n    df['GarageType'].fillna('no_Gar', inplace=True) \n    df['GarageYrBlt'].fillna(0, inplace=True)\n    df['GarageFinish'].fillna('no_Gar', inplace=True) \n    df['GarageCars'].fillna(0, inplace=True)\n    df['GarageArea'].fillna(0, inplace=True)\n    df['GarageQual'].fillna('no_Gar', inplace=True)                        \n    df['GarageCond'].fillna('no_Gar', inplace=True)                         \n                             ","e260ea73":"a=[CollgCr, Veenker, Crawfor, NoRidge, Mitchel, Somerst,\n       NWAmes, OldTown, BrkSide, Sawyer, NridgHt, NAmes,\n       SawyerW, IDOTRR, MeadowV, Edwards, Timber, Gilbert,\n       StoneBr, ClearCr, NPkVill, Blmngtn, BrDale, SWISU,\n       Blueste]\nfor i in a:\n    fill_missing_values(i)","03bdd5e8":"#By this step we have filled our Nan values based on each Neighborhood.\n#we are concatenating the Neighborhood dataframes to form the orginal dataframe.\n#This new dataframe will be used for further analysis.\ndf1=pd.concat([CollgCr, Veenker, Crawfor, NoRidge, Mitchel, Somerst,\n       NWAmes, OldTown, BrkSide, Sawyer, NridgHt, NAmes,\n       SawyerW, IDOTRR, MeadowV, Edwards, Timber, Gilbert,\n       StoneBr, ClearCr, NPkVill, Blmngtn, BrDale, SWISU,\n       Blueste], axis=0, join='outer', ignore_index=False, keys=None,\n          levels=None, names=None, verify_integrity=False, copy=True)","f97ab11d":"#here we are checking the correlation between saleprice of house and other variables\ncorr_mat = df1[[\"SalePrice\",\"MSSubClass\",\"MSZoning\",\"LotFrontage\",\"LotArea\", \"BldgType\",\n                       \"OverallQual\", \"OverallCond\",\"YearBuilt\", \"BedroomAbvGr\", \"PoolArea\", \"GarageArea\",\n                       \"SaleType\", \"MoSold\",\"YearRemodAdd\",'TotalBsmtSF', '1stFlrSF',\n                'GrLivArea', 'FullBath', 'TotRmsAbvGrd', 'GarageCars']].corr()\nf, ax = plt.subplots(figsize=(30, 15))\nsns.heatmap(corr_mat, vmax=1 , square=True,annot=True,linewidths=.5);","7c42831e":"ax = plt.subplots(figsize=(16, 8))\nsns.lineplot(x='YearBuilt', y='SalePrice', data=df1);","f9d830b1":"ax = plt.subplots(figsize=(16, 8))\nsns.lineplot(x='OverallQual', y='SalePrice', color='green',data=df1);","96d32f8a":"plt.figure(figsize=(18,4))\nsns.barplot(x='SaleType',y='SalePrice', data=df1);\n","3e695c13":"ax = plt.subplots(figsize=(18, 4))\nsns.lineplot(x='GarageArea', y='SalePrice', data=df1);","971ca8e8":"ax = plt.subplots(figsize=(25, 4))\nsns.lineplot(x='TotalBsmtSF', y='SalePrice', data=df1);","b156d2eb":"ax = plt.subplots(figsize=(18, 4))\nsns.lineplot(x='1stFlrSF', y='SalePrice', data=df1);","59fedd34":"\nax = plt.subplots(figsize=(16, 4))\nsns.lineplot(x='GrLivArea', y='SalePrice', data=df1);","a2a2d791":"x=df1\nb=df1['1stFlrSF']+df1['2ndFlrSF']+df1['TotalBsmtSF']\nb\nt=sns.jointplot(x=b, y=df1['GrLivArea'], kind=\"hex\", color=\"#4CB391\")\nt.set_axis_labels('total SF(1st+2d+Tbsmt)', 'GrLivArea', fontsize=16)","4995a0f5":"#we can observe the level of influence of each variable in the following graphs.\ncat1=[\"MSSubClass\",\"MSZoning\", \"BldgType\",\"OverallQual\", \"OverallCond\", \"BedroomAbvGr\",\"SaleType\", \"MoSold\",'FullBath','TotRmsAbvGrd','GarageCars']\n\nplt.figure(figsize=(16,90))\nplt.subplots_adjust(hspace=0.5)\n\ni = 1\nfor j in cat1:\n    plt.subplot(5,3,i)\n    sns.boxplot(x=df1[j],y=df1['SalePrice'])\n    plt.xlabel(j)\n    i+=1","271a4c3e":"cat2=[\"LotFrontage\",\"LotArea\",\"YearBuilt\",\"GarageArea\",\"YearRemodAdd\",'TotalBsmtSF','1stFlrSF','GrLivArea']\nplt.figure(figsize=(16,90))\n\ni = 1\nfor j in cat2:\n    plt.subplot(8,1,i)\n    sns.scatterplot(x=df1[j],y=df1['SalePrice'])\n    plt.xlabel(j)\n    i+=1\n","7ce6f6a5":"from numpy import median\nfig=plt.figure(figsize=(15,5))\nfig.suptitle('SalePrice vs Neighborhood')\n\nax = sns.barplot(data=df1,x=\"Neighborhood\",y='SalePrice',estimator=median)\nax.set_xticklabels(ax.get_xticklabels(), rotation=90);\n","bdc6e460":"plt.figure(figsize=(25,90))\ni = 1\nfor j in a:\n    plt.subplot(13,2,i)\n    \n    b=sns.scatterplot(x=j['BldgType'],y=j['SalePrice'],hue=j['MSZoning'])\n    plt.xticks(fontsize=15)\n    plt.yticks(fontsize=15)\n    plt.xlabel('Building Type', fontsize=18)\n    plt.ylabel('SalePrice', fontsize=18)\n    plt.setp(b.get_legend().get_texts(), fontsize=15)\n    plt.setp(b.get_legend().get_title(), fontsize=15)\n\n    i+=1","2fb0806b":"plt.figure(figsize=(25,90))\n\na=[CollgCr, Veenker, Crawfor, NoRidge, Mitchel, Somerst,\n       NWAmes, OldTown, BrkSide, Sawyer, NridgHt, NAmes,\n       SawyerW, IDOTRR, MeadowV, Edwards, Timber, Gilbert,\n       StoneBr, ClearCr, NPkVill, Blmngtn, BrDale, SWISU,\n       Blueste]\ni = 1\nfor j in a:\n    plt.subplot(13,2,i)\n    sns.stripplot(x=j['YearBuilt'],y=j['SalePrice'],hue=j['OverallQual'],data=j);\n    plt.xticks(rotation=90)\n    plt.xlabel('YearBuilt')\n    plt.xticks(fontsize=15)\n    plt.yticks(fontsize=15)\n    plt.xlabel('construction year', fontsize=18)\n    plt.ylabel('salesprice', fontsize=18)\n    plt.setp(b.get_legend().get_texts(), fontsize=15)\n    plt.setp(b.get_legend().get_title(), fontsize=15)\n    i+=1\n    \n#plt.suptitle('Neighborhood-SalePrice vs YearBuilt by OverallQuality');","7693d6a4":"#we are comparing square feet above ground to foundation materials used with Electrical system\nplt.figure(figsize=(25,90))\ni = 1\nfor j in a:\n    plt.subplot(13,2,i)\n    \n    sns.scatterplot(x=j['Foundation'],y=j['GrLivArea'],hue=j['Electrical'])\n    plt.xticks(fontsize=15)\n    plt.yticks(fontsize=15)\n    plt.xlabel('Foudation', fontsize=18)\n    plt.ylabel('SF above basement', fontsize=18)\n    plt.setp(b.get_legend().get_texts(), fontsize=15)\n    plt.setp(b.get_legend().get_title(), fontsize=15)\n\n    i+=1","d6974d35":"# Here we are comparing the proximity to various conditions ad sale price of house\nplt.figure(figsize=(25,90))\ni = 1\nfor j in a:\n    plt.subplot(13,2,i)\n    sns.boxenplot(x=j['Condition1'],y=j['SalePrice']);\n    plt.xticks(fontsize=15)\n    plt.yticks(fontsize=15)\n    plt.xlabel('condition1', fontsize=18)\n    plt.ylabel('saleprice', fontsize=18)\n    i+=1\n#plt.suptitle(\"boxen plot\");","bd6097e0":"#here we are comparing type of house and condition of house to sale price of the house\nplt.figure(figsize=(25,90))\ni = 1\nfor j in a:\n    plt.subplot(13,2,i)\n    sns.swarmplot(x=j['MSSubClass'],y=j['SalePrice'],hue=j['SaleCondition'],data=j)\n    plt.xticks(rotation=90)\n    plt.xticks(fontsize=15)\n    plt.yticks(fontsize=15)\n    plt.ylabel('saleprice', fontsize=18)\n    plt.xlabel('MSSubClass',fontsize=18)\n    i+=1","76ee8e94":" #further analysis will be updated in the future do upvote","51e45fc1":"By looking at this figure we can see a slightpositive correlation with GarageArea,YearRemodAdd but higher correlation with TotalBsmtSF,1stFlrSF,GrLivArea.","416852a5":"    SaleCondition: Condition of sale\n\n       Normal\tNormal Sale\n       Abnorml\tAbnormal Sale -  trade, foreclosure, short sale\n       AdjLand\tAdjoining Land Purchase\n       Alloca\tAllocation - two linked properties with separate deeds, typically condo with a garage unit\t\n       Family\tSale between family members\n       Partial\tHome was not completed when last assessed (associated with New Homes)\n    MSSubClass: Identifies the type of dwelling involved in the sale.\t\n\n        20\t1-STORY 1946 & NEWER ALL STYLES\n        30\t1-STORY 1945 & OLDER\n        40\t1-STORY W\/FINISHED ATTIC ALL AGES\n        45\t1-1\/2 STORY - UNFINISHED ALL AGES\n        50\t1-1\/2 STORY FINISHED ALL AGES\n        60\t2-STORY 1946 & NEWER\n        70\t2-STORY 1945 & OLDER\n        75\t2-1\/2 STORY ALL AGES\n        80\tSPLIT OR MULTI-LEVEL\n        85\tSPLIT FOYER\n        90\tDUPLEX - ALL STYLES AND AGES\n       120\t1-STORY PUD (Planned Unit Development) - 1946 & NEWER\n       150\t1-1\/2 STORY PUD - ALL AGES\n       160\t2-STORY PUD - 1946 & NEWER\n       180\tPUD - MULTILEVEL - INCL SPLIT LEV\/FOYER\n       190\t2 FAMILY CONVERSION - ALL STYLES AND AGES\n       \nBy assessing the figure we can see that 1-STORY 1946 & NEWER ALL STYLES and 2-STORY 1946 & NEWER houses have a slightly higher share in sold houses when we compare weth other type of houses.The condition of sale is also normal in almost all the sales irrespective of the neighbourhood.Type of dwelling involved varies with some Neighborhoods as some has large diversity while others have only a few.\n","8c83f737":"From the figure its clear that Neighborhood NridgHt has the highest selling price for house when we compare all the Neighborhoods.\n","a3bfe6d8":"# Introduction","545d61f6":"    Electrical: Electrical system\n\n       SBrkr\tStandard Circuit Breakers & Romex\n       FuseA\tFuse Box over 60 AMP and all Romex wiring (Average)\t\n       FuseF\t60 AMP Fuse Box and mostly Romex wiring (Fair)\n       FuseP\t60 AMP Fuse Box and mostly knob & tube wiring (poor)\n       Mix\tMixed\n\t\t\n    GrLivArea: Above grade (ground) living area square feet\n    Foundation: Type of foundation\n\t\t\n       BrkTil\tBrick & Tile\n       CBlock\tCinder Block\n       PConc\tPoured Contrete\t\n       Slab\tSlab\n       Stone\tStone\n       Wood\tWood\n       \nIn this set of subplots we are ploting fondation materials with type of electrical system used in the construction of house and square feet above basement is considered.We can see that most of the houses uses Standard Circuit Breakers & Romex as electrical system and most have foundation as Cinder Block and Poured Contrete.\n","296efe0d":"We want to find the variables that affects the selling price of a house.\nThe data given here has many missing values, we need to find our way around it for better analysis.\ndetailed explanation of the variables considered are available in data_description.txt","9f041105":"****some of the main variables affecting sales price of house","1e33dda7":"Importing Necessary Libraries","e24ba372":"In the above boxplots we are comparing selling price to all other variables while some variables such as overall quality ,total rooms above ground ,overall condition is directly proportional to selling price some others such as MSSubClass and MSZoning has no proper relaton to selling price.","84db3a2b":"****we can see that biggest factors influencing sale price are OverallQual,GrLivArea,GarageCars,GarageArea,TotalBsmtSF,1stFlrSF etc","15cf9534":"      BldgType: Type of dwelling\n      \n      1Fam\t    Single-family Detached\t\n      2FmCon\tTwo-family Conversion; originally built as one-family dwelling\n      Duplx\tDuplex\n      TwnhsE\tTownhouse End Unit\n      TwnhsI\tTownhouse Inside Unit\n\t  \n      MSZoning: Identifies the general zoning classification of the sale.\n\t\t\n       A\tAgriculture\n       C\tCommercial\n       FV\tFloating Village Residential\n       I\tIndustrial\n       RH\tResidential High Density\n       RL\tResidential Low Density\n       RP\tResidential Low Density Park \n       RM\tResidential Medium Density\nWe can see that the building type prefered in almost all the Neighborhoods is \"Single-family Detached\". \nPeople prefer(or only afford) to live in places which are \"Residential Low Density\" or \"Residential Medium Density\".Selling price of \"Single-family Detached\" is also higher than others in almost all the Neighborhoods but  the share of it in total number of houses for sale is large thus we may infer that there is a huge demand for \"Single-family Detached\" houses when compared with other houses.\n ","478711ce":"From the analysis done we can see that biggest factors influencing sale price are OverallQual,GrLivArea,GarageCars,GarageArea,TotalBsmtSF,1stFlrSF,neighborhood etc. The neighborhoods show individual differences in distribution of overall quality of construction,yearbuilt etc then also we can see most have Normal Proximity to various conditions,electrical system as uniform across the neighborhood. By using the information gathered from the above analysis we can do further prediction modeling in future.","ca7a041a":"# Finding relations between variables and Selling price of house","b9e1c562":"# Conclusion","7b122a0d":"# Analysis based on Neighborhood","ce80aaf3":"graphical representation of missing values in the given data.","3f5a6c1e":"     Condition1: Proximity to various conditions\n       Artery\tAdjacent to arterial street\n       Feedr\tAdjacent to feeder street\t\n       Norm\tNormal\t\n       RRNn\tWithin 200' of North-South Railroad\n       RRAn\tAdjacent to North-South Railroad\n       PosN\tNear positive off-site feature--park, greenbelt, etc.\n       PosA\tAdjacent to postive off-site feature\n       RRNe\tWithin 200' of East-West Railroad\n       RRAe\tAdjacent to East-West Railroad\n  \n From the figure its clear that most most of the houses in the neighbourhoods have Normal Proximity to various conditions which is followed by Adjacent to feeder street.The selling price is also comparitively higher for ormal Proximity to various conditions, but this is most probably because of its large share in total houses for sale by which in turn we can assume that demand for \"normal\" houses is high among buyers.\n\t","d53a17b6":"    OverallQual: Rates the overall material and finish of the house\n\n       10\tVery Excellent\n       9\tExcellent\n       8\tVery Good\n       7\tGood\n       6\tAbove Average\n       5\tAverage\n       4\tBelow Average\n       3\tFair\n       2\tPoor\n       1\tVery Poor\n\n\nWe can see the overall quality is not not uniform in every neighbourhood of the data given, some neighbourhoods dont have regular house construction over the years.The selling price of house in some neighbourhood is noticebly different than others and overall quality of construction varies between neighbourhoods.\nBut the quality of construction definitely increases the selling to an extend. \n","365743db":"# Filling missing values ","f0b8ad47":"droping some columns which are not usable"}}