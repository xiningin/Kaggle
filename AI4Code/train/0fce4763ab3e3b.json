{"cell_type":{"699929e6":"code","b62cfa57":"code","df3826e8":"code","7643d49a":"code","51235b23":"code","6e0a889e":"code","f5664bac":"code","da0c3086":"code","228ddd0d":"code","f10bd722":"code","53e30614":"code","4bbd3692":"code","7eb5024f":"code","806f3df2":"code","00492dd6":"code","59a90d6c":"code","133c10a8":"code","6aa234ab":"code","f856e23f":"code","ee98eee5":"code","334797de":"code","44a71768":"code","6073f34e":"code","47ca35e9":"code","639b8989":"code","d80f6626":"code","acc2a5ce":"code","06281ee6":"code","e63d227d":"code","efe18b53":"markdown"},"source":{"699929e6":"#imports\nimport librosa\nimport librosa.display\nimport librosa.feature\nimport numpy \nimport matplotlib.pyplot as plt\nfrom matplotlib.pyplot import specgram\nimport pandas as pd\nimport os\nimport IPython.display as ipd  # To play sound in the notebook","b62cfa57":"#We focus on Only 1 audio as of Now and that is ..\/input\/toronto-emotional-speech-set-tess\/TESS Toronto emotional speech set data\/OAF_Fear\/OAF_back_fear.wav","df3826e8":"x, sr = librosa.load('..\/input\/toronto-emotional-speech-set-tess\/TESS Toronto emotional speech set data\/OAF_Fear\/OAF_back_fear.wav')","7643d49a":"x.shape#array length","51235b23":"sr#sample_Rate","6e0a889e":"librosa.get_duration(x) #length of audio","f5664bac":"ipd.Audio('..\/input\/toronto-emotional-speech-set-tess\/TESS Toronto emotional speech set data\/OAF_Fear\/OAF_back_fear.wav') # load a local WAV file","da0c3086":"plt.figure(figsize=(25,7))\nlibrosa.display.waveplot(x, sr=sr,x_axis='time',offset=0)#max sample rate and maxpoints to plot can be specified too\nplt.title('Mono')","228ddd0d":"#Root mean square value\nrms=librosa.feature.rms(y=x)\nrms","f10bd722":"rms.shape#so this has 75 points for 1.712 length of audio","53e30614":"#Zero crossing rate\nzcr=librosa.feature.zero_crossing_rate(x)\nzcr","4bbd3692":"zcr.shape#(this also has 75 points of data)","7eb5024f":"chroma_stft = librosa.feature.chroma_stft(y=x, sr=sr,n_chroma=12, n_fft=4096)\nchroma_stft.shape","806f3df2":"chroma_stft[0]\n#chroma_stft[1]\n#chroma_stft[2]","00492dd6":"chroma_cqt = librosa.feature.chroma_cqt(y=x, sr=sr, n_chroma=12)\nchroma_cqt \n#this also can produce those 12 features or n=more","59a90d6c":"#13 mfcc features\nmfcc_full=librosa.feature.mfcc(y=x, sr=sr,n_mfcc=12)","133c10a8":"mfcc_full.shape","6aa234ab":"mfcc_full[0] #first 75 features like wise can be done for all other\n#mfcc_Full[1]\n#mfcc_full[2]","f856e23f":"#spectral_Centroid\nspectral_cent = librosa.feature.spectral_centroid(y=x, sr=sr)\nspectral_cent#it has 75 values too","ee98eee5":"spectral_bw = librosa.feature.spectral_bandwidth(y=x, sr=sr)\nspectral_bw","334797de":"spectral_flatness = librosa.feature.spectral_flatness(y=x)\nspectral_flatness","44a71768":"spectral_rolloff = librosa.feature.spectral_rolloff(y=x, sr=sr)\nspectral_rolloff","6073f34e":"import csv","47ca35e9":"pip install spafe","639b8989":"import scipy\nfrom spafe.utils import vis\nfrom spafe.features.gfcc import gfcc","d80f6626":"pwd()","acc2a5ce":"# init input vars\nnum_ceps = 13\nlow_freq = 0\nhigh_freq = 2000\nnfilts = 24\nnfft = 512\ndct_type = 2,\nuse_energy = False,\nlifter = 5\nnormalize = False","06281ee6":"# read wav \nfs, sig = scipy.io.wavfile.read(\"..\/input\/toronto-emotional-speech-set-tess\/TESS Toronto emotional speech set data\/OAF_Fear\/OAF_back_fear.wav\")","e63d227d":"# compute features\ngfccs = gfcc(sig=x,\n             fs=sr,\n             num_ceps=num_ceps,\n             nfilts=nfilts,\n             nfft=nfft,\n             low_freq=low_freq,\n             high_freq=high_freq,\n             dct_type=dct_type,\n             use_energy=use_energy,\n             lifter=lifter,\n             normalize=normalize)\n\n# visualize spectogram\nvis.spectogram(sig, fs)\n# visualize features\nvis.visualize_features(gfccs, 'GFCC Index', 'Frame Index')","efe18b53":"We Find the following things and then maybe use them in future to predict emotions I believe..\n- Root Mean Square Energy\n- Zero Crossing Rate,Spectrogram,Mel Spectrogram\n- Spectral Centroid\n- Spectral Bandwidth\n- Spectral Contrast\n- Spectral Rolloff\n- chroma vector\n- Constant-Q Transform\n- MFCC"}}