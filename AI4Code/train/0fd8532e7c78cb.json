{"cell_type":{"88480962":"code","e24bbacd":"code","e0f49313":"code","8592eb53":"code","87181aab":"code","4b693636":"markdown","df136d2d":"markdown","11f0d90a":"markdown","f09891ed":"markdown","03380c6a":"markdown"},"source":{"88480962":"import os\n\n_FILENAME = \"some-output-file\"\n_ONE_GB = 10**9\n\n_gb_count = 5\n\nwith open(_FILENAME, \"wb\") as f:\n    for _ in range(_gb_count):\n        f.write(bytearray(_ONE_GB))\n\nprint(\"Resulting file size is %.2fGB\" % (os.stat(_FILENAME).st_size \/ _ONE_GB))","e24bbacd":"import errno\n\n_gb_count = 6\n\ntry:\n    with open(_FILENAME, \"wb\") as f:\n        for _ in range(_gb_count):\n           f.write(bytearray(_ONE_GB))\nexcept OSError as e:\n    if e.errno != errno.ENOSPC:\n        raise\n    print(\"Exception: %s\" % e)\n\nprint(\"Resulting file size is %.2fGB\" % (os.stat(_FILENAME).st_size \/ _ONE_GB))","e0f49313":"_ONE_MIB = 2**20\n_ONE_GIB = _ONE_MIB * 2**10\n_FILESYSTEM_OVERHEAD = 0.96  # Estimated\n\n_mib_count = int(5 * 2**10 * _FILESYSTEM_OVERHEAD)\n\nwith open(_FILENAME, \"wb\") as f:\n    for _ in range(_mib_count):\n        f.write(bytearray(_ONE_MIB))\n\nprint(\"Resulting file size is %.2fGiB\" % (os.stat(_FILENAME).st_size \/ _ONE_GIB))","8592eb53":"_mib_count = 5 * 2**10\n\ntry:\n    with open(_FILENAME, \"wb\") as f:\n        for _ in range(_mib_count):\n            f.write(bytearray(_ONE_MIB))\nexcept OSError as e:\n    if e.errno != errno.ENOSPC:\n        raise\n    print(\"Exception: %s\" % e)\n\nprint(\"Resulting file size is %.2fGiB\" % (os.stat(_FILENAME).st_size \/ _ONE_GIB))","87181aab":"_gb_count = 5\n\nwith open(_FILENAME, \"wb\") as f:\n    for _ in range(_gb_count):\n        f.write(bytearray(_ONE_GB))\n\nprint(\"Resulting file size is %.2fGB\" % (os.stat(_FILENAME).st_size \/ _ONE_GB))","4b693636":"The full 5GiB is indeed not provided:","df136d2d":"Kaggle Kernels now provides 5GB worth of output files, increased from 1GB!\n\nFor instance:","11f0d90a":"For those of you interested in more details:  Under the covers, the block device created for you is actually 5GiB ([gigibytes](https:\/\/en.wikipedia.org\/wiki\/Gibibyte)).  However, the filesystem overhead means you're getting a bit less than that:","f09891ed":"Note that the HTML generated by `Commit & Run` is included in the final output.\nSo, before we leave here, let's make sure we're leaving some space for that.  In this case, that extra .2GB will do:","03380c6a":"The actual limit is a bit more than 5GB (we are being extra generous!).  Writing more than that limit gives you the usual `No space left on device` error though:"}}