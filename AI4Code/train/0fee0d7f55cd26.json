{"cell_type":{"e2c235fb":"code","92e8a98f":"code","bc30d84a":"code","98db1be0":"code","6290e1c5":"code","7bf8041e":"code","e8130b12":"code","ae7066fb":"code","76e4ca97":"code","8de86d25":"code","1ba5e943":"code","60bb2fc8":"code","86886e24":"code","02a313b8":"code","43dc6293":"code","a49d3ab8":"code","2653366b":"code","c943897f":"code","38cd6bbc":"code","ca7789bf":"code","7a0fd744":"code","d5f3a60f":"code","94ea0785":"code","35b8810b":"code","f08b8d43":"code","350a9750":"code","f9035e23":"code","60050cf8":"code","31cbb496":"code","77167104":"code","a59ee3dc":"code","a4886c2e":"code","25f26bab":"code","3dadaff0":"code","e78f54e3":"markdown","41b6c008":"markdown","070e6841":"markdown","8db79ae9":"markdown","f45d50de":"markdown","cc14b7be":"markdown"},"source":{"e2c235fb":"\nimport numpy as np \nimport pandas as pd \n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')\nimport geopandas\nfrom sklearn import preprocessing\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn import metrics\nsns.set_style('darkgrid')","92e8a98f":"df=pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\ndf.head()","bc30d84a":"df.info()","98db1be0":"df.dtypes","6290e1c5":"df.describe()","7bf8041e":"df.shape","e8130b12":"for col in df[['neighbourhood_group','neighbourhood','last_review', 'host_name','room_type']]:\n        print('unique values %s=' %col)\n        print(df[col].unique()), '\\n'","ae7066fb":"print('null values in airbnb dataset')\nprint(df.isnull().sum())\n","76e4ca97":"hostid=(pd.DataFrame((np.where(df['name'].isnull())))).transpose()\nhostid","8de86d25":"hostname=pd.DataFrame(np.where(df['host_name'].isnull())).transpose()\nhostname\nnull=pd.concat([hostid,hostname],axis=1,ignore_index=True)\nnull","1ba5e943":"df.drop('last_review',axis=1,inplace=True)\n","60bb2fc8":"df","86886e24":"df['name'].fillna(value=0,inplace=True)\ndf.isnull().sum()","02a313b8":"df['host_name'].fillna(value=0,inplace=True)\ndf.isnull().sum()","43dc6293":"df['reviews_per_month'].fillna(value=0,inplace=True)\n","a49d3ab8":"df.isnull().sum()","2653366b":"def mem_usage(pandas_obj):\n    if isinstance(pandas_obj,pd.DataFrame):\n        usage_b=pandas_obj.memory_usage(deep=True).sum()\n    else:\n        usage_b=pandas_obj.memory_usage(deep=True)\n    usage_mb=usage_b\/1024**2\n    return \"{:03.2f} MB\".format(usage_mb)\n        \nmem_usage(df)","c943897f":"plt.figure(figsize=(15,6))\nsns.countplot(data=df,x='neighbourhood_group',hue='room_type',palette='Blues')\nplt.title('neighbourhood group with room types they alot')\nplt.show()\n","38cd6bbc":"plt.figure(figsize=(17,5))\nsns.countplot(x='room_type',data=df,palette='Blues')\nplt.title('rooms that are most favourable for customer')\nplt.show()","ca7789bf":"plt.figure(figsize=(15,6))\nsns.violinplot(data=df[df.price <500], x='neighbourhood_group', y='price', palette='GnBu_d')\nplt.show()","7a0fd744":"plt.figure(figsize=(15,8))\nsns.heatmap(df.corr(),annot=True,linewidth=0.1,cmap='Blues')","d5f3a60f":"plt.figure(figsize=(10,10))\nsns.scatterplot(data=df,x='longitude',y='latitude',hue='neighbourhood_group',palette='Blues')\nplt.show()","94ea0785":"df.head()","35b8810b":"df.drop(['id','name','host_name'],inplace=True,axis=1)\ndf","f08b8d43":"df.isnull().sum()","350a9750":"df.head(10)","f9035e23":"le=preprocessing.LabelEncoder()\n\nle.fit(df['neighbourhood_group'])\ndf['neighbourhood_group']=le.transform(df['neighbourhood_group'])\n\nle.fit(df['neighbourhood'])\ndf['neighbourhood']=le.transform(df['neighbourhood'])\n\nle.fit(df['room_type'])\ndf['room_type']=le.transform(df['room_type'])\n\n\n\n\n","60050cf8":"\ndf.sort_values('price',ascending=True,inplace=True)\ndf=df[11:-6]\n\n","31cbb496":"lm=LinearRegression()","77167104":"X=df.drop(['price','longitude'] ,inplace=False,axis=1)\ny=df['price']\nX_train, X_test, y_train, y_test= train_test_split(X,y,test_size=0.2,random_state=101)\nlm.fit(X_train,y_train)","a59ee3dc":"prediction=lm.predict(X_test)\nprediction","a4886c2e":"mae=metrics.mean_absolute_error(y_test,prediction)\nmse=metrics.mean_squared_error(y_test,prediction)\nrmse=np.sqrt(metrics.mean_squared_error(y_test,prediction))\nr2=metrics.r2_score(y_test,prediction)\n\nprint( mae,mse,rmse,r2)","25f26bab":"error=pd.DataFrame({'Actual Values': np.array(y_test).flatten(),'predicted values':prediction.flatten()})\nerror.head(10)","3dadaff0":"plt.figure(figsize=(20,6))\nplt.xlim(-10,350)\nsns.regplot(y=y_test,x=prediction,color='blue')\n","e78f54e3":"predictions","41b6c008":"**INSIGHT1**","070e6841":"**DATA INSIGHTS**","8db79ae9":"******** let's see some insights in data\n","f45d50de":"INSIGHT 3","cc14b7be":"insight 2"}}