{"cell_type":{"1a2c32b5":"code","0063e963":"code","1e46f526":"code","ee9a1bca":"code","ea0c9f2d":"code","ca7f098c":"code","c87a56bd":"code","1eb236b6":"code","7c934459":"code","a7f96d13":"code","7ef19c8f":"code","4c5ec02d":"code","6b5958c0":"code","9be0e045":"code","86ef4b63":"code","4470aa1a":"code","27ec9689":"code","213eb5cb":"code","069924fb":"code","28439a30":"code","91984f77":"code","fbe7671d":"code","fc34f477":"code","e6860ae8":"code","3a376112":"code","be572d07":"code","ac0b7715":"code","52800831":"code","55a8be9d":"code","f8dc5ccd":"code","2a4bf836":"code","7137714b":"code","95745242":"code","4bbbf709":"code","c6c0f972":"code","3f3227d7":"code","753c3760":"code","27ea467e":"code","59ba834a":"code","ff3e93be":"code","c36feb4a":"code","9dadd080":"code","9fbbcb94":"code","a23b1cd4":"code","537f5469":"code","2c19f71d":"code","8800eed8":"code","526c29a5":"code","93a405aa":"code","4611e055":"code","e529a150":"code","daf81d7f":"code","c050daf6":"code","6f3f2dad":"code","20506281":"markdown","d3060314":"markdown","8259209d":"markdown","41575b93":"markdown"},"source":{"1a2c32b5":"import numpy as np\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport seaborn as sns\n\n","0063e963":"pip install apyori","1e46f526":"from apyori import apriori ","ee9a1bca":"df = pd.read_csv('..\/input\/groceries-dataset\/Groceries_dataset.csv')","ea0c9f2d":"df.head()","ca7f098c":"df.info()","c87a56bd":"df.isna().sum()","1eb236b6":"df.shape","7c934459":"df.size","a7f96d13":"df.ndim","7ef19c8f":"# Q1 which of the items are the top 10 selling items\ndf.itemDescription.value_counts().head(10)","4c5ec02d":"plt.figure(figsize = (8,8))\ndf.itemDescription.value_counts().head(10).plot.bar()\nplt.title('Top 10 selling items')","6b5958c0":"# Q2 which of the item are the least selling?\ndf.itemDescription.value_counts().tail(10).sort_values()","9be0e045":"plt.figure(figsize = (8,8))\ndf.itemDescription.value_counts().tail(10).sort_values().plot.bar()\nplt.title('Top 10 least selling items')","86ef4b63":"df.head()","4470aa1a":"# Q3 top 10 customer\ndf.Member_number.value_counts().head(10)","27ec9689":"df.Member_number.value_counts().head(10).plot.bar()\nplt.title('Top 10 customers')","213eb5cb":"df.head(2)","069924fb":"df['year'] = pd.DatetimeIndex(df['Date']).year\ndf['month'] = pd.DatetimeIndex(df['Date']).month\ndf['day'] = pd.DatetimeIndex(df['Date']).day","28439a30":"df.head()","91984f77":"# Q4 in which year majority of the transactions happened\ndf.year.value_counts().head(1)","fbe7671d":"df.month.value_counts()","fc34f477":"df.day.value_counts()","e6860ae8":"df.groupby(['year'])['month'].value_counts()","3a376112":"df[df.year == 2015]['month'].value_counts().sort_index()","be572d07":"df.head(2)","ac0b7715":"data = df.copy()\ndata1 = df.copy()","52800831":"data = pd.get_dummies(data['itemDescription'])","55a8be9d":"data.head()","f8dc5ccd":"data1.drop(['itemDescription'], axis = 1, inplace = True)","2a4bf836":"data1 = data1.join(data)","7137714b":"data1.head()","95745242":"products = df['itemDescription'].unique()","4bbbf709":"products\n","c6c0f972":"data2 = data1.groupby(['Member_number', 'Date'])[products[:]].sum()","3f3227d7":"data2","753c3760":"data2.head()","27ea467e":"data2 = data2.reset_index()[products]","59ba834a":"data2.head()","ff3e93be":"data2.values","c36feb4a":"data2['tropical fruit']","9dadd080":"def funct(data):\n  for i in products:\n    if data[i] > 0:\n      data[i] = i\n\n  return data ","9fbbcb94":"data2 = data2.apply(funct, axis = 1)","a23b1cd4":"data2.head()","537f5469":"newdata = data2.values","2c19f71d":"newdata","8800eed8":"newdata.ndim","526c29a5":"newdata = [i[i!=0].tolist() for i in newdata if i[i!=0].tolist()]","93a405aa":"newdata[:10]","4611e055":"association = apriori(newdata, min_support = 0.0003, min_confidence = 0.05, max_length = 3, min_lift = 3)","e529a150":"result = list(association)","daf81d7f":"result","c050daf6":"result[1]","6f3f2dad":"type(result[1])","20506281":"itemset = {'ham', 'picked vegetables'}\n\nassociation rule - picked vegetables -> ham\n\nconfidence = 0.05970149253731344","d3060314":"# Apriori","8259209d":"# Apriori Implementation","41575b93":"# Market Basket Analysis"}}