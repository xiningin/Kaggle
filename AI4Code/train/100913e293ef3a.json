{"cell_type":{"66463f6a":"code","50767fe4":"code","bde11817":"code","7752d513":"code","fff5fa25":"code","58cd5e30":"code","836db0ad":"code","a7c136e6":"code","4487db5f":"code","94fbf5c5":"code","816183f7":"code","219e77c2":"code","914a62ed":"code","79df095c":"code","00ca5b62":"code","266b6de9":"code","e2bb7cff":"code","91359555":"code","1aef3062":"code","ba5157bd":"code","599e4e4c":"code","c3053fd3":"code","205a8765":"code","742e556c":"code","c636405d":"code","a0ea6eb6":"code","46323a1d":"code","d297f3ec":"code","3e8219f9":"code","b9690473":"code","7af87663":"code","28af1523":"code","e3610524":"code","b331dfc5":"code","ad273c81":"code","3f51e375":"code","53e7307e":"code","53b822a0":"code","332962b6":"code","7a7e11d2":"markdown","c1b4f94c":"markdown","366e155a":"markdown","ca5e497f":"markdown","d91a32d7":"markdown","9bd1a012":"markdown","6b349e97":"markdown","91d6d947":"markdown","72bdcb44":"markdown","4d95bcd2":"markdown","1f0382d1":"markdown","548e99f8":"markdown","5bbb5945":"markdown","b593a852":"markdown","7f57c5a0":"markdown","0c5a83f8":"markdown","a1b3dabe":"markdown","d1ae0684":"markdown","14c1bfb2":"markdown","c266cc6c":"markdown"},"source":{"66463f6a":"import pandas as pd\nimport numpy as np","50767fe4":"data=pd.read_csv(\"..\/input\/heart-failure-clinical-records-dataset1\")\ndf=pd.DataFrame(data)\ndf.head()","bde11817":"df.info()","7752d513":"df[\"age\"].value_counts()","fff5fa25":"df[\"anaemia\"].value_counts()","58cd5e30":"df[\"creatinine_phosphokinase\"].value_counts()","836db0ad":"df[\"diabetes\"].value_counts()","a7c136e6":"df[\"serum_creatinine\"].value_counts()","4487db5f":"df[\"serum_sodium\"].value_counts()","94fbf5c5":"df[\"sex\"].value_counts()","816183f7":"df[\"smoking\"].value_counts()","219e77c2":"df[\"ejection_fraction\"].value_counts()","914a62ed":"df[\"high_blood_pressure\"].value_counts()","79df095c":"df[\"platelets\"].value_counts()","00ca5b62":"df[\"time\"].value_counts()","266b6de9":"df[\"DEATH_EVENT\"].value_counts()","e2bb7cff":"df=df.rename(columns={\"DEATH_EVENT\":\"death_event\"})\ndf.info()","91359555":"df.isna().sum()","1aef3062":"df.nunique()","ba5157bd":"df.describe().T","599e4e4c":"import matplotlib.pyplot as plt \nimport seaborn as sns \nimport plotly.graph_objs as go","c3053fd3":"corr = df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values\n          );","205a8765":"sns.scatterplot(x = \"serum_creatinine\", y = \"age\",sizes=(100, 600),hue='sex', data = df);","742e556c":"sns.lmplot(x='platelets', y='ejection_fraction', fit_reg = False, hue = 'death_event',data=df)","c636405d":"anaemia_yes = df[df['anaemia']==1]\nanaemia_no = df[df['anaemia']==0]\nanaemia_yes_survi = anaemia_yes[df[\"death_event\"]==0]\nanaemia_yes_not_survi = anaemia_yes[df[\"death_event\"]==1]\nanaemia_no_survi = anaemia_no[df[\"death_event\"]==0]\nanaemia_no_not_survi = anaemia_no[df[\"death_event\"]==1]\n\nlabels = ['Anaemia Yes - Survived','Anaemia Yes - Not Survived', 'Anaemia No - Survived', 'Anaemia NO - Not Survived']\nvalues = [len(anaemia_yes[df[\"death_event\"]==0]),len(anaemia_yes[df[\"death_event\"]==1]),\n         len(anaemia_no[df[\"death_event\"]==0]),len(anaemia_no[df[\"death_event\"]==1])]\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, hole=.4)])\nfig.update_layout(\n    title_text=\"Analysis on Survival - Anaemia\")\nfig.show()","a0ea6eb6":"male = df[df[\"sex\"]==1]\nfemale = df[df[\"sex\"]==0]\n\nmale_survi = male[df[\"death_event\"]==0]\nmale_not = male[df[\"death_event\"]==1]\nfemale_survi = female[df[\"death_event\"]==0]\nfemale_not = female[df[\"death_event\"]==1]\n\nlabels = ['Male - Survived','Male - Not Survived', \"Female -  Survived\", \"Female - Not Survived\"]\nvalues = [len(male[df[\"death_event\"]==0]),len(male[df[\"death_event\"]==1]),\n         len(female[df[\"death_event\"]==0]),len(female[df[\"death_event\"]==1])]\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, hole=.4)])\nfig.update_layout(\n    title_text=\"Analysis on Survival - Gender\")\nfig.show()","46323a1d":"import tensorflow as tf\nfrom tensorflow import keras\nfrom sklearn.model_selection import train_test_split, GridSearchCV,cross_val_score\nfrom sklearn.metrics import confusion_matrix, accuracy_score, classification_report\nfrom sklearn import metrics\nfrom sklearn.ensemble import GradientBoostingClassifier,RandomForestClassifier\nfrom keras.models import Sequential\nfrom keras.layers import Dense","d297f3ec":"X = df.drop(\"death_event\",axis=1)\ny = df[\"death_event\"]","3e8219f9":"X","b9690473":"y","7af87663":"\nX_train, X_test, y_train, y_test = train_test_split(X, y, \n                                                    test_size=0.20, \n                                                    random_state=20)","28af1523":"print(X_train.shape)\nprint(X_test.shape)\nprint(y_train.shape)\nprint(y_test.shape)","e3610524":"from sklearn.preprocessing import StandardScaler\nsc = StandardScaler()\nX_train = sc.fit_transform(X_train)\nX_test = sc.transform(X_test)","b331dfc5":"import tensorflow as tf\n\nmodel= tf.keras.models.Sequential()","ad273c81":"model.add(tf.keras.layers.Dense(units = 9, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 6, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 3, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 1, activation = 'sigmoid'))","3f51e375":"model.compile(optimizer = 'adam', loss = 'binary_crossentropy' ,  metrics=[keras.metrics.BinaryAccuracy()] )","53e7307e":"model.fit(X_train, y_train, batch_size = 64, epochs = 50)","53b822a0":"y_pred = model.predict(X_test)\ny_pred = (y_pred > 0.5)\nnp.set_printoptions()\npd.DataFrame(list(zip(y_test, y_pred)), columns=['Actual', 'Predicted'])","332962b6":"print(confusion_matrix(y_test, y_pred))\nprint(accuracy_score(y_test, y_pred))","7a7e11d2":"Ya\u015f de\u011feri 40 ile 95 aras\u0131nda de\u011fi\u015fmekle birlikte ortalama ya\u015f 60't\u0131r.\nAnemi olup bu hastal\u0131\u011fa yakalanan ki\u015fi oran\u0131n\u0131n %43 oldu\u011funu g\u00f6r\u00fcyoruz.\nDiabet hastas\u0131 olup bu hastal\u0131\u011fa yakalanan ki\u015fi oran\u0131n %41 oldu\u011fu g\u00f6r\u00fcl\u00fcyor. \nErkeklerin kad\u0131nlara g\u00f6re daha \u00e7ok bu hastal\u0131\u011fa yakaland\u0131\u011f\u0131n\u0131 g\u00f6r\u00fcyoruz.\nSigara i\u00e7enlerin, i\u00e7meyenlere g\u00f6re daha \u00e7ok bu hastal\u0131\u011fa yakaland\u0131\u011f\u0131 tespit edilmi\u015ftir.","c1b4f94c":"Modelimizi e\u011fitiyoruz.","366e155a":"Verilerde ayk\u0131r\u0131 de\u011ferlerin say\u0131s\u0131n\u0131 g\u00f6sterdik","ca5e497f":"Modelimizi olu\u015fturmaya ba\u015fl\u0131yoruz","d91a32d7":"Verimizi 64 boyutlu paketlere b\u00f6l\u00fcyoruz ve tekrar say\u0131m\u0131z\u0131 50 olarak belirliyoruz.","9bd1a012":"Kolonlar\u0131n\u0131n isimlendirmesinin standart olmas\u0131 a\u00e7\u0131s\u0131ndan \"DEATH_EVENT\" kolonunu yeniden adland\u0131rd\u0131k","6b349e97":"Modelimizi olu\u015fturmadan \u00f6nce verilerimizi \u00f6l\u00e7eklendiriyoruz.","91d6d947":"Verimizin say\u0131sal de\u011ferlerini incelemek i\u00e7in describe fonksiyonundan kulland\u0131k. B\u00f6ylece verilerimiz hakk\u0131nda yorum yapt\u0131k.\n","72bdcb44":"Veri setimizi death_event ve di\u011ferleri olmak \u00fczere ikiye ay\u0131r\u0131yoruz.","4d95bcd2":"Verimizdeki her bir kolonun say\u0131sal da\u011f\u0131l\u0131m\u0131n\u0131 incelemek i\u00e7in tek tek yazd\u0131rd\u0131k. ","1f0382d1":"Giri\u015f katman\u0131 ,gizli katmanlar\u0131 ve \u00e7\u0131k\u0131\u015f katman\u0131n\u0131 ekliyoruz.","548e99f8":"Veri setimizi projeye ekledik ve ilk 5 verimizi yazd\u0131rd\u0131k.\n","5bbb5945":"Ger\u00e7ek de\u011ferleri ve tahmin edilen de\u011ferleri kar\u015f\u0131la\u015ft\u0131r\u0131yoruz.","b593a852":"Korelasyon da\u011f\u0131l\u0131m\u0131n\u0131 inceledi\u011fimizde smoking ve sex colonlar\u0131 aras\u0131nda do\u011fru orant\u0131da bir ili\u015fki oldu\u011fu saptanmaktad\u0131r.\nGe\u00e7 hastane ba\u015fvurular\u0131nda \u00f6l\u00fcm oran\u0131 art\u0131yor. Kandaki\nKreatinin oran\u0131 y\u00fcksek hastalarda daha \u00e7ok \u00f6l\u00fcm g\u00f6r\u00fclmektedir.\n","7f57c5a0":"Verimiz hakk\u0131nda gerekli \u00f6n bilgileri elde etmek i\u00e7in info fonksiyonunu kulland\u0131k.","0c5a83f8":"Modelimizin karma\u015f\u0131kl\u0131k matrisini ve ba\u015far\u0131 oran\u0131n\u0131 yazd\u0131r\u0131yoruz.","a1b3dabe":"Verileri e\u011fitim ve test setlerine ay\u0131ral\u0131m. E\u011fitim i\u00e7in verimizin %20 sini kullanaca\u011f\u0131z.","d1ae0684":"ejeksiyon fraksiyonu de\u011ferleri 30'un alt\u0131nda olan hastalarda \u00f6l\u00fcm oran\u0131 daha fazla g\u00f6z\u00fck\u00fcyor.Genel olarak hastal\u0131\u011fa yakalanan herkesin trombosit de\u011ferlerinin 200000-400000 aral\u0131\u011f\u0131nda oldu\u011funu g\u00f6zlemliyoruz","14c1bfb2":"Serum kreatinin miktar\u0131 0'la 2 de\u011ferleri aras\u0131nda yo\u011fun olup, 60 ya\u015f seviyesinde bir y\u0131\u011f\u0131lma g\u00f6z\u00fckmektedir. Erkek oran\u0131 kad\u0131nlara g\u00f6re daha y\u00fcksektir.\n","c266cc6c":"Verilerde eksik alanlar\u0131n say\u0131s\u0131n\u0131 tespit etmek i\u00e7in isna fonksiyonunu kulland\u0131k."}}