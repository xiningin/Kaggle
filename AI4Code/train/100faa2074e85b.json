{"cell_type":{"68067fae":"code","4dd841f8":"code","8953e8da":"code","2d335c60":"code","7b50e8a6":"code","319f8200":"code","faf10da7":"code","1969df0a":"code","5af15dc6":"code","5ab54bf7":"code","0a8ca319":"code","1a04fd7b":"code","9963ca8c":"code","df3de7a0":"code","35c46ce6":"markdown","2f59b74f":"markdown","7e233dcb":"markdown","273f1e96":"markdown","b769e45a":"markdown","6942cc5e":"markdown","c41f2423":"markdown","9c4c1847":"markdown","92b751f9":"markdown","9a971fff":"markdown","90af66df":"markdown","72a17c55":"markdown","f1f44de5":"markdown","f2381937":"markdown","4fc710d0":"markdown","c05e640d":"markdown","6cd4d55e":"markdown","df3ab5c6":"markdown"},"source":{"68067fae":"# importar os pacotes necessarios\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline","4dd841f8":"# importar o arquivo listings.csv para um DataFrame\nDATA_PATH = \"..\/input\/listings.csv\"\ndf = pd.read_csv(DATA_PATH)","8953e8da":"# mostrar as 5 primeiras entradas\ndf.head(5)","2d335c60":"# identificar o volume de dados do DataFrame\nprint(\"Vari\u00e1veis:\\t {}\\n\".format(df.shape[1]))\nprint(\"Entradas:\\t {}\".format(df.shape[0]))\n\n# verificar o tipo de entradas do dataset\ndisplay(df.dtypes)","7b50e8a6":"# ordenar em ordem decrescente as vari\u00e1veis por seus valores ausentes\n(df.isnull().sum() \/ df.shape[0]).sort_values(ascending=False)","319f8200":"# plotar histogramas\ndf.hist(bins=15, figsize=(15,10));","faf10da7":"# calcular a m\u00e9dia da coluna `price`\ndf.price.mean()","1969df0a":"# criar uma matriz de correla\u00e7\u00e3o\ncorr = df[['price', 'minimum_nights', 'number_of_reviews', 'reviews_per_month',\n    'calculated_host_listings_count', 'availability_365']].corr()\n\n# mostrar a matriz de correla\u00e7\u00e3o\ndisplay(corr)","5af15dc6":"# plotar um heatmap a partir das correla\u00e7\u00f5es\nsns.heatmap(corr, cmap='RdBu', fmt='.2f', square=True, linecolor='white', annot=True);","5ab54bf7":"# mostrar a quantidade de cada tipo de im\u00f3vel dispon\u00edvel\ndf.room_type.value_counts()","0a8ca319":"# mostrar a porcentagem de cada tipo de im\u00f3vel dispon\u00edvel\ndf.room_type.value_counts() \/ df.shape[0]","1a04fd7b":"# ver pre\u00e7os por bairros, na m\u00e9dia\ndf.groupby(['neighbourhood']).price.mean().sort_values(ascending=False)[:10]","9963ca8c":"# plotar os im\u00f3veis pela latitude-longitude\ndf.plot(kind=\"scatter\", x='longitude', y='latitude', alpha=0.4, c=df['price'], s=8,\n              cmap=plt.get_cmap('jet'), figsize=(12,8));\nplt.ylim(35.4,35.9)","df3de7a0":"# ver a m\u00e9dia da coluna `minimum_nights``\ndf.minimum_nights.mean()","35c46ce6":"### **Q1. Quantos atributos (vari\u00e1veis) e quantas entradas o nosso conjunto de dados possui? Quais os tipos das vari\u00e1veis?**\n\nVamos prosseguir e identificar a quantidade de entradas que nosso conjunto de dados possui e ver os tipos de cada coluna.\n\nEste *dataset* que baixamos \u00e9 a vers\u00e3o \"resumida\" do Airbnb. Na mesma p\u00e1gina que baixamos o arquivo `listings.csv` existe uma vers\u00e3o mais completa [`listings.csv.gz`](http:\/\/data.insideairbnb.com\/japan\/kant%C5%8D\/tokyo\/2020-04-28\/data\/listings.csv.gz).","2f59b74f":"Foi feita apenas uma an\u00e1lise superficial na base de dados do Airbnb para conhecimento das *features* presentes na cidade de Tokyo, no Jap\u00e3o.\n\nPor fim, lembra-se que este *dataset* \u00e9 uma vers\u00e3o resumida, ideal apenas para uma abordagem inicial. Recomenda-se que seja usado, em uma pr\u00f3xima an\u00e1lise explorat\u00f3ria, o conjunto de dados completos, com 106 atributos dispon\u00edveis.","7e233dcb":"## Obten\u00e7\u00e3o dos Dados\n\nTodos os dados usados nesta an\u00e1lise foram obtidos a partir do site independente [Inside Airbnb](http:\/\/insideairbnb.com\/index.html).\n\nPara esta an\u00e1lise explorat\u00f3ria, foi baixado apenas o arquivo *`listings.csv` [Summary information and metrics for listings in Tokyo (good for visualisations)]*, atualizado em 28 de abril de 2020.","273f1e96":"### **Q4. Qual a m\u00e9dia dos pre\u00e7os de aluguel?**","b769e45a":"### **Q3. Qual o tipo de distribui\u00e7\u00e3o das vari\u00e1veis?** ","6942cc5e":"### **Q6. Qual o tipo de im\u00f3vel mais alugado no Airbnb?**\nA coluna da vari\u00e1vel `room_type` indica o tipo de loca\u00e7\u00e3o que est\u00e1 anunciada no Airbnb. Se voc\u00ea j\u00e1 alugou no site, sabe que existem op\u00e7\u00f5es de apartamentos\/casas inteiras, apenas o aluguel de um quarto ou mesmo dividir o quarto com outras pessoas.\n\nVamos contar a quantidade de ocorr\u00eancias de cada tipo de aluguel, usando o m\u00e9todo `value_counts()`.","c41f2423":"<img alt=\"BannerDataScience\" width=\"100%\" src=\"https:\/\/raw.githubusercontent.com\/rodrigomariamorgao\/portfolio_data_science\/master\/banner.png\">\n\n---\n\n# An\u00e1lise dos Dados do Airbnb - *Tokyo, Jap\u00e3o*\n\nO [Airbnb](https:\/\/www.airbnb.com.br\/) j\u00e1 \u00e9 considerado como sendo a **maior empresa hoteleira da atualidade**. Ah, o detalhe \u00e9 que ele **n\u00e3o possui nenhum hotel**!\n\nConectando pessoas que querem viajar (e se hospedar) com anfitri\u00f5es que querem alugar seus im\u00f3veis de maneira pr\u00e1tica, o Airbnb fornece uma plataforma inovadora para tornar essa hospedagem alternativa.\n\nNo final de 2018, a Startup fundada 10 anos atr\u00e1s, j\u00e1 havia **hospedado mais de 300 milh\u00f5es** de pessoas ao redor de todo o mundo, desafiando as redes hoteleiras tradicionais.\n\nUma das iniciativas do Airbnb \u00e9 disponibilizar dados do site, para algumas das principais cidades do mundo. Por meio do portal [Inside Airbnb](http:\/\/insideairbnb.com\/get-the-data.html), \u00e9 poss\u00edvel baixar uma grande quantidade de dados para desenvolver projetos e solu\u00e7\u00f5es de *Data Science*.\n\n<center><img alt=\"Analisando Airbnb\" width=\"10%\" src=\"https:\/\/www.area360.com.au\/wp-content\/uploads\/2017\/09\/airbnb-logo.jpg\"><\/center>\n\n**Neste *notebook*, iremos analisar os dados referentes \u00e0 cidade de Tokyo (Jap\u00e3o), e ver quais insights podem ser extra\u00eddos a partir de dados brutos.**","9c4c1847":"### **Q7. Qual a localidade mais cara de Tokyo?**\nUma maneira de se verificar uma vari\u00e1vel em fun\u00e7\u00e3o da outra \u00e9 usando `groupby()`. No caso, queremos comparar os bairros (*neighbourhoods*) a partir do pre\u00e7o de loca\u00e7\u00e3o.\n","92b751f9":"### **Q2. Qual a porcentagem de valores ausentes no *dataset*?**\n\nA qualidade de um *dataset* est\u00e1 relacionado diretamente \u00e0 quantidade de dados faltantes. \u00c9 importante compreender logo no in\u00edcio da an\u00e1lise se esses valores nulos s\u00e3o significativos comparado ao total de entradas.\n\n* \u00c9 poss\u00edvel ver que a coluna `neighbourhood_group` possui 100% dos seus valores faltantes. \n* As vari\u00e1veis `reviews_per_month` e `last_review` possuem valores nulos abaixo de 20% das linhas.","9a971fff":"## An\u00e1lise dos Dados\n\nEsta etapa tem por objetivo demostrar a situa\u00e7\u00e3o inicial dos dados e permitir um entendimento de como os mesmos est\u00e3o estruturados.\n","90af66df":"### **Q5. Qual a correla\u00e7\u00e3o existente entre as vari\u00e1veis**\nCorrela\u00e7\u00e3o significa que existe uma rela\u00e7\u00e3o entre duas coisas. No nosso contexto, estamos buscando rela\u00e7\u00e3o ou semelhan\u00e7a entre duas vari\u00e1veis.\n\nEssa rela\u00e7\u00e3o pode ser medida, e \u00e9 fun\u00e7\u00e3o do coeficiente de correla\u00e7\u00e3o estabelecer qual a intensidade dela. Para identificar as correla\u00e7\u00f5es existentes entre as vari\u00e1veis de interesse, vou:\n\n* Criar uma matriz de correla\u00e7\u00e3o\n* Gerar um heatmap a partir dessa matriz, usando a biblioteca seaborn\n","72a17c55":"De acordo com o gr\u00e1tico plotado acima, os im\u00f3veis se concentram pr\u00f3ximos uns dos outros.","f1f44de5":"## Conclus\u00f5es\n","f2381937":"**Dicion\u00e1rio das vari\u00e1veis**\n\n* `id` - n\u00famero de id gerado para identificar o im\u00f3vel\n* `name` - nome do im\u00f3vel anunciado\n* `host_id` - n\u00famero de id do propriet\u00e1rio do im\u00f3vel\n* `host_name` - nome do propriet\u00e1rio\n* `neighbourhood_group` - zona do bairro\n* `neighbourhood` - nome do bairro\n* `latitude` - coordenada da latitude do im\u00f3vel\n* `longitude` - coordenada da longitude do im\u00f3vel\n* `room_type` - informa o tipo de quarto que \u00e9 oferecido\n* `price` - pre\u00e7o para alugar o im\u00f3vel\n* `minimum_nights` - quantidade m\u00ednima de noites para reservar\n* `number_of_reviews` - n\u00famero de reviews que o im\u00f3vel possui\n* `last_review` - data do \u00faltimo review\n* `reviews_per_month` - quantidade de reviews por m\u00eas\n* `calculated_host_listings_count` - quantidade de im\u00f3veis do mesmo propriet\u00e1rio\n* `availability_365` - n\u00famero de dias de disponibilidade dentro de 365 dias\n\nAntes de iniciar qualquer an\u00e1lise, vamos verificar a cara do nosso *dataset*, analisando as 5 primeiras entradas.","4fc710d0":"### **Q8. Qual \u00e9 a m\u00e9dia do m\u00ednimo de noites para aluguel (minimum_nights)?**","c05e640d":"Nesse *heatmap* podemos verificar que as colunas *number_of_reviews* e *reviews_per_month* possuem o coeficiente de correla\u00e7\u00e3o de 66%.","6cd4d55e":"Analisando as porcentagens retornadas, vemos que quase 70% dos im\u00f3veis dispon\u00edves na cidade de Tokyo s\u00e3o do tipo casas inteiras \/ apartamento.","df3ab5c6":"Notamos que o campo `neighbourhood_group` apresenta somente valores nulos nas primeiras 5 entradas. Iremos avaliar todos as entradas desse campo na **Q2**."}}