{"cell_type":{"80a6e85b":"code","799a20f0":"code","bd780d52":"code","db69df15":"code","6fe39479":"code","e518c0ab":"code","13da8cc3":"code","c68f9fc7":"code","beafd3cd":"code","d62281fe":"code","5fbd7b0a":"code","80d32043":"code","1ec0d605":"code","f85b37fb":"code","9e2d8bb0":"code","f37c1b35":"code","c0b42d71":"code","93026667":"code","d2b3e63b":"code","50f11eba":"code","b42a4dba":"code","fed92524":"code","c2fc557f":"markdown"},"source":{"80a6e85b":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\ntrain = pd.read_csv('..\/input\/titanic\/train.csv')","799a20f0":"!pip install ptitprince","bd780d52":"from ptitprince import RainCloud\nfrom ptitprince import PtitPrince as pt","db69df15":"train.head()","6fe39479":"import seaborn as sns\nimport matplotlib.pyplot as plt\nsns.barplot(x=\"Pclass\", y=\"Fare\", data=train, capsize= .1)\n","e518c0ab":"\n# plotting the clouds\nf, ax = plt.subplots(figsize=(7, 5))\ndy=\"Pclass\"\ndx=\"Fare\"\nort=\"h\"\npal = sns.color_palette(n_colors=1)\n\nax=pt.half_violinplot(x=dx, y=dy, data=train, palette=pal, bw=.2, cut=0.,\n                      scale=\"area\", width=.6, inner=None, orient=ort)\n\n","13da8cc3":"# adding the rain\nf, ax = plt.subplots(figsize=(7, 5))\ndy=\"Pclass\"\ndx=\"Fare\"\nort=\"h\"\npal = sns.color_palette(n_colors=1)\n\nax=pt.half_violinplot(x=dx, y=dy, data=train, palette=pal, bw=.2, cut=0.,\n                      scale=\"area\", width=.6, inner=None, orient=ort)\nax=sns.stripplot(x=dx, y=dy, data=train, palette=pal, edgecolor=\"white\",\n                 size=3, jitter=0, zorder=0, orient=ort)","c68f9fc7":"# adding jitter to the rain\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.half_violinplot(x=dx, y=dy, data=train, palette=pal, bw=.2, cut=0.,\n                      scale=\"area\", width=.6, inner=None, orient=ort)\nax=sns.stripplot(x=dx, y=dy, data=train, palette=pal, edgecolor=\"white\",\n                 size=3, jitter=1, zorder=0, orient=ort)","beafd3cd":"#adding the boxplot with quartiles\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.half_violinplot(x=dx, y=dy, data=train, palette=pal, bw=.2, cut=0.,\n                      scale=\"area\", width=.6, inner=None, orient=ort)\nax=sns.stripplot(x=dx, y=dy, data=train, palette=pal, edgecolor=\"white\",\n                 size=3, jitter=1, zorder=0, orient=ort)\nax=sns.boxplot(x=dx, y=dy, data=train, color=\"black\", width=.15, zorder=10,\n               showcaps=True, boxprops={'facecolor': 'none', \"zorder\": 10},\n               showfliers=True, whiskerprops={'linewidth': 2, \"zorder\": 10},\n               saturation=1, orient=ort)","d62281fe":"pal = \"Set2\"\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.half_violinplot(x=dx, y=dy, data=train, palette=pal, bw=.2, cut=0.,\n                      scale=\"area\", width=.6, inner=None, orient=ort)\nax=sns.stripplot(x=dx, y=dy, data=train, palette=pal, edgecolor=\"white\",\n                 size=3, jitter=1, zorder=0, orient=ort)\nax=sns.boxplot(x=dx, y=dy, data=train, color=\"black\", width=.15, zorder=10,\n               showcaps=True, boxprops={'facecolor': 'none', \"zorder\": 10},\n               showfliers=True, whiskerprops={'linewidth': 2, \"zorder\": 10},\n               saturation=1, orient=ort)","5fbd7b0a":"#same thing with a single command: now x **must** be the categorical value\nsigma = .2\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\nf, ax = plt.subplots(figsize=(7, 5))\n\npt.RainCloud(x=dx, y=dy, data=train, palette=pal, bw=sigma,\n             width_viol=.6, ax=ax, orient=ort)","80d32043":"#moving the rain below the boxplot\nsigma = .2\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\nf, ax = plt.subplots(figsize=(7, 5))\n\npt.RainCloud(x=dx, y=dy, data=train, palette=pal, bw=sigma,\n             width_viol=.6, ax=ax, orient=ort, move=.2)","1ec0d605":"#moving the rain below the boxplot\nsigma = .2\ndy = train[\"Fare\"]\ndx = train[\"Pclass\"]\nort = \"h\"\nf, ax = plt.subplots(figsize=(7, 5))\n\npt.RainCloud(x=dx, y=dy, data=train, palette=pal, bw=sigma,\n             width_viol=.6, ax=ax, orient=ort, move=.2)","f85b37fb":"# Changing orientation\n#moving the rain below the boxplot\nsigma = .2\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"v\"\nf, ax = plt.subplots(figsize=(7, 5))\n\npt.RainCloud(x=dx, y=dy, data=train, palette=pal, bw=sigma,\n             width_viol=.6, ax=ax, orient=ort, move=.2)","9e2d8bb0":"#changing cloud smoothness\n#moving the rain below the boxplot\nsigma = .5\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\nf, ax = plt.subplots(figsize=(7, 5))\n\npt.RainCloud(x=dx, y=dy, data=train, palette=pal, bw=sigma,\n             width_viol=.6, ax=ax, orient=ort, move=.2)","f37c1b35":"#adding a red line connecting the groups' mean value (useful for longitudinal data)\nsigma = .5\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\nf, ax = plt.subplots(figsize=(7, 5))\n\npt.RainCloud(x=dx, y=dy, data=train, palette=pal, bw=sigma,\n             width_viol=.6, ax=ax, orient=ort, move=.2, pointplot=True)","c0b42d71":"# Rainclouds with FacetGrid\ng = sns.FacetGrid(train, col=\"Survived\", height=6)\ng = g.map_dataframe(pt.RainCloud, x=\"Pclass\", y=\"Fare\", data=train,\n                    orient=\"h\")\n\ng.fig.subplots_adjust(top=0.75)","93026667":"dy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\ndhue = \"Survived\"\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.RainCloud(x=dx, y=dy, hue=dhue, data=train, palette=pal, bw=sigma,\n                 width_viol=.7, ax=ax, orient=ort)","d2b3e63b":"dy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\ndhue = \"Survived\"\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.RainCloud(x=dx, y=dy, hue=dhue, data=train, palette=pal, bw=sigma,\n                 width_viol=.7, ax=ax, orient=ort, alpha=0.65)","50f11eba":"#The Doge Flag\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\ndhue = \"Survived\"\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.RainCloud(x=dx, y=dy, hue=dhue, data=train, palette=pal, bw=sigma,\n                 width_viol=.7, ax=ax, orient=ort, alpha=0.65, dodge=True)","b42a4dba":"#same, with dodging and line\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\ndhue = \"Survived\"\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.RainCloud(x=dx, y=dy, hue=dhue, data=train, palette=pal, bw=sigma,\n                 width_viol=.7, ax=ax, orient=ort, alpha=0.65, dodge=True, pointplot=True)","fed92524":"\n#moving the rain under the boxplot\n\ndy = \"Fare\"\ndx = \"Pclass\"\nort = \"h\"\ndhue = \"Survived\"\nf, ax = plt.subplots(figsize=(7, 5))\nax=pt.RainCloud(x=dx, y=dy, hue=dhue, data=train, palette=pal, bw=sigma,\n                 width_viol=.7, ax=ax, orient=ort, alpha=0.65, dodge=True, pointplot=True, move=0.2)","c2fc557f":"* PtitPrince tutorial\n* https:\/\/github.com\/pog87\/PtitPrince\n* https:\/\/github.com\/pog87\/PtitPrince\/blob\/master\/tutorial_python\/raincloud_tutorial_python.ipynb\n"}}