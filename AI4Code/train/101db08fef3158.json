{"cell_type":{"3bdebc79":"code","68942c50":"code","e658f691":"code","207b059f":"code","c8f81169":"code","b5c5d375":"code","2942319c":"code","335e993e":"code","ef2f48f1":"code","0fbbee90":"code","e0c0fe2f":"code","1d1c131b":"code","2c8a6d65":"code","f4a77ead":"code","f5ace3cf":"code","90a49e04":"code","a07ccabb":"code","ee98b7b1":"code","bc9c4b02":"code","4f53b2ee":"code","94ba9bd3":"code","3742a31b":"code","e511dbf3":"code","a8e82de1":"code","94e8e7e3":"code","69bc4ad7":"code","24464fa3":"code","bacc86b2":"code","d612e977":"code","7f39ad98":"code","16fd0b4e":"code","2d1aebb3":"code","fe330397":"code","00485278":"code","b5773189":"markdown","a5c58143":"markdown","cd8c0078":"markdown","62775b62":"markdown","89bcffcd":"markdown","c4a3caf9":"markdown","2780c017":"markdown","a2ad0124":"markdown","95bab8f0":"markdown","cf09ef06":"markdown","e37ef5ae":"markdown","ac1096f5":"markdown","f1fe1b64":"markdown","6790e671":"markdown","a86004f6":"markdown","322a3097":"markdown","9ece3feb":"markdown","cbb9648c":"markdown","991cd9fc":"markdown","a02b7312":"markdown","974e635e":"markdown","42eff8b5":"markdown"},"source":{"3bdebc79":"import numpy as np\nimport pandas as pd\nimport os\nimport seaborn as sns\nimport matplotlib as plt\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","68942c50":"df = pd.read_csv('\/kaggle\/input\/us-natural-disaster-declarations\/us_disaster_declarations.csv')\ndf.head(10)","e658f691":"df.info()","207b059f":"sns.pairplot(df[['disaster_number','fy_declared','incident_type','declaration_request_number']]);","c8f81169":"disaster_types = df['incident_type'].unique()\nprint(\"Types of Disasters reported:\\n\\n\", disaster_types)\nprint(\"Occurrences:\\n\\n\",df['incident_type'].value_counts())","b5c5d375":"plt.pyplot.figure(figsize=(10,6))\nsns.distplot(df['incident_type'].value_counts());","2942319c":"m=df[['fy_declared','incident_type']].groupby('fy_declared').describe()['incident_type'].reset_index()\nplt.pyplot.figure(figsize=(9,6))\nsns.barplot(x='top',y='freq',data =m);","335e993e":"m=df['fy_declared'].value_counts().reset_index()\nm.head(10)","ef2f48f1":"sns.lmplot(x='index',y='fy_declared',data=m.sort_values(by='fy_declared'),\n           aspect=1.7, height=5,markers=['o'], scatter_kws={'s':20});","0fbbee90":"m=df[['state','incident_type']].groupby('state').describe()\nm['incident_type'].sort_values(by='count',ascending=False).head(10)","e0c0fe2f":"m=df[['state','incident_type']].groupby('state').describe()\nsns.pairplot(m['incident_type'].reset_index(drop=True));","1d1c131b":"m['incident_type'].sort_values(by='freq',ascending=False)['freq'].head(10)","2c8a6d65":"p = df[['state','incident_type']].groupby('state').count()\np.reset_index(inplace=True)\np=p.sort_values(by='incident_type',ascending=False).head(10)\np","f4a77ead":"plt.pyplot.figure(figsize=(16,8))\nsns.barplot(x=\"state\", y=\"incident_type\", data=p,);","f5ace3cf":"print(\"Texas mostly faces:\\n\")\ndf[['state','incident_type']].groupby('state').max().loc['TX']","90a49e04":"m=df.query('state==\"TX\"')['fy_declared'].value_counts().reset_index()\nm.head(10)","a07ccabb":"plt.pyplot.figure(figsize=(24,12))\nsns.barplot(x='index',y='fy_declared',data=m.sort_values(by='fy_declared'));","ee98b7b1":"df.query('state == \"TX\" & fy_declared==\"2020\"')['incident_type'].unique()","bc9c4b02":"print(\"Total Areas\\n\",df['designated_area'].nunique())","4f53b2ee":"df[['designated_area','incident_type']].groupby('designated_area').count().sort_values(by='incident_type',ascending=False).head(10)","94ba9bd3":"d = pd.to_datetime(df['declaration_date']).dt\ndf['year'] = d.year\ndf['month'] = d.month\ndf['day'] = d.day\ndf['time'] = d.time\ndel df['declaration_date']","3742a31b":"df['declaration_type'].value_counts()","e511dbf3":"df[['year','month','declaration_type']].groupby(['year','month']).describe()","a8e82de1":"m=df[['year','declaration_type']]\nplt.pyplot.figure(figsize=(8,5))\nsns.boxplot(x='declaration_type',y='year',data=m);","94e8e7e3":"plt.pyplot.figure(figsize=(8,5))\nsns.barplot(x='index',y='declaration_type',data=df['declaration_type'].value_counts().reset_index());","69bc4ad7":"m=df[['year','month','day','declaration_type']].groupby(['year','month','day']).count()\nm.reset_index().sort_values(by='declaration_type',ascending=False)","24464fa3":"#13\/03\/20\ndf.query('year==\"{0}\" & month==\"{1}\" & day ==\"{2}\"'.format(2020,3,13))['declaration_title'].value_counts()","bacc86b2":"m = df.query('year==\"{0}\" & declaration_title==\"Covid-19\"'.format(2020))\nplt.pyplot.figure(figsize=(20,10))\nsns.countplot(x='state',data=m.sort_values(by='time'));","d612e977":"#13\/01\/1996\ndf.query('year==\"{0}\" & month==\"{1}\" & day ==\"{2}\"'.format(1996,1,13))['declaration_title'].unique()","7f39ad98":"df.query('year==\"{0}\" & month==\"{1}\" & day ==\"{2}\"'.format(2020,4,4))['declaration_title'].unique()","16fd0b4e":"#September 2005\nm=df.query('year==\"{0}\" & month==\"{1}\"'.format(2005,9))\nm['declaration_title'].value_counts()","2d1aebb3":"plt.pyplot.figure(figsize=(16,16))\nsns.countplot(x='declaration_title',data=m.sort_values(by='time'),hue='state');","fe330397":"m = df.query('ia_program_declared == \"0\" & ih_program_declared == \"0\" & pa_program_declared ==\"0\"')\nm['incident_type'].value_counts()","00485278":"pt = df.pivot_table(values ='disaster_number', index = 'state', columns = 'year').fillna(0)\nplt.pyplot.figure(figsize=(12,8))\nsns.heatmap(pt, cmap='coolwarm');\nplt.pyplot.savefig('heatmap.png')","b5773189":"From this we can see that TX as a state has encountered maximum natural disasters but the designated area -- Washington County that has encountered maximum natural disasters is not in TX. ","a5c58143":"Plotting All cases reported of natural disasters per state","cd8c0078":"Plotting count, unique and frequency from describe() function","62775b62":"2893 disasters were reported on 2020-03-13. Lets break up the date time features to make some new features. And let's see what happened on 13\/03\/20,13\/01\/1996,04\/04\/2020,11\/9\/2005","89bcffcd":"## Made for Practice and to find out some interesting facts. Feedback Appreciated.\n","c4a3caf9":"# How frequently do disasters occur statewide","2780c017":"# Let's get some insight into reports for which individual assistance or housing was not provided","a2ad0124":"**AGENDA FOR NOTEBOOK:**\n\n1.Basic groupby observations and pandas data viz\n\n2.Seaborn plots - distributions and categories\n\n3.pairplots joint plots and more in-depth insights\n\n4.Matrix plots and improving inferences\n\n5.Plotly for interctive plotting","95bab8f0":"States most frequently hit by one kind of natural disaster","cf09ef06":"plotting natural disasters over the years by count and frequency\n","e37ef5ae":"Texas TX seems to be the most disaster Prone state, Lets find out more:","ac1096f5":"These people were not provided individual assistance or any of the programs to be helped though they reported calamities, assuming they were ignored for reasons out of our analysis scope","f1fe1b64":"Texas reports over time:","6790e671":"2005 and 2020 were the worst years, most of the natural disasters reported were in these times. Interestingly the rate of natural disasters in TX has increased almost proportionally with time. Plotted Below:","a86004f6":"This is clear that all reported causes in 1996 were because of the blizzard of '96, and in 2020 major causes are flood and Covid 19\nIn september 2005 Howevr 3 hurricanes, and 2 tropical fires were the reason","322a3097":"# Some Date-wise observations","9ece3feb":"# What is the reason of such a huge number of reports in 2020","cbb9648c":"## What are the most disaster prone designated areas?","991cd9fc":"# States at Maximum Risk","a02b7312":"# Looking at the dates on which maximum Statewide Disasters were reported: ","974e635e":"## To check which states are prone to what kinds of Natural Disasters","42eff8b5":"It seems like the maximum number of reports ever was on 13\/03\/2020 and the reason was obviously COVID-19 outbreak. Let's plot the number of corona reports in 2020 per state"}}