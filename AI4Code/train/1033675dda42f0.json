{"cell_type":{"c1a5c0bd":"code","0318cd64":"code","0a145ca6":"code","1855f46b":"code","3b3804bc":"code","7d980015":"code","674fc3f7":"code","17a70042":"code","7ceae9b8":"code","0b2cc05f":"code","0b155e33":"code","8825fc99":"code","aa54bfe7":"code","3024747e":"code","d6530943":"code","dc3e79de":"code","3b1fb5ce":"code","ad915a99":"code","683b4d94":"code","95818f35":"code","b14504fb":"code","9cbee07b":"code","a8fa4f69":"code","9f9d4c71":"code","278a146a":"code","7e59bfe9":"code","03c95ac1":"code","11df2997":"code","cffe52a2":"code","87df8186":"code","3141958d":"code","ab958c98":"code","472b27e9":"code","9d289058":"code","3938cd8d":"code","7a7bbdb7":"code","920e7f8f":"code","04546ef3":"code","f6eeb643":"code","1160c14f":"code","dc6e7532":"code","d83b83a9":"code","9c0a74dd":"code","ac668b5d":"code","6dfe90b4":"code","e0683236":"code","6d05baaf":"code","c4d0ddb3":"code","afd54dbc":"code","69d78a13":"markdown","8a8c8ddb":"markdown","38166889":"markdown","b9926b4d":"markdown","83a4da87":"markdown","83d2128f":"markdown","f056c157":"markdown","17c67d36":"markdown","91cc14b3":"markdown"},"source":{"c1a5c0bd":"pip install wordcloud","0318cd64":"pip install nltk","0a145ca6":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport re\n\nimport nltk\nfrom nltk.corpus import stopwords\nfrom nltk.stem import WordNetLemmatizer\n\nfrom wordcloud import wordcloud\n\nnltk.download('stopwords')\nnltk.download('wordnet')","1855f46b":"pip install textblob","3b3804bc":"from textblob import TextBlob\nfrom tensorflow.keras.preprocessing.text import Tokenizer\nfrom nltk.sentiment.util import *","7d980015":"trump = pd.read_csv('..\/input\/us-election-2020-tweets\/hashtag_donaldtrump.csv' , lineterminator='\\n')\nbiden = pd.read_csv('..\/input\/us-election-2020-tweets\/hashtag_joebiden.csv',  lineterminator='\\n')","674fc3f7":"trump.head()","17a70042":"biden.head()","7ceae9b8":"print(trump.shape)\nprint(biden.shape)","0b2cc05f":"trump.info()\n","0b155e33":"biden.info()","8825fc99":"# concat both dataframes for easier analysis\n\ntrump['Candidate']= 'Trump'","aa54bfe7":"trump","3024747e":"biden['Candidate']= 'biden' ","d6530943":"biden","dc3e79de":"data_mixed = pd.concat([trump,biden])\ndata_mixed.sort_values(by='created_at')\ndata_mixed.head()","3b1fb5ce":"# check the number of tweets recieved for each of them\ndata_mixed.groupby('Candidate')['tweet'].count().plot.bar()\nplt.ylabel('number of tweets')\nplt.title('Trump vs Biden')\nplt.show()","ad915a99":"# comparison of likes\n\ndata_mixed.groupby('Candidate')['likes'].sum().plot.bar()\nplt.ylabel('number of likes')\nplt.title('trump vs biden')\nplt.show()","683b4d94":"data_mixed.country.value_counts()","95818f35":"data_mixed['country']= data_mixed['country'].replace({\"United States of America\":\"US\",\"United States\":\"US\"})","b14504fb":"data_mixed.country.value_counts()","9cbee07b":"# countries with highest number of tweets\nplt.figure(figsize=(10,5))\ndata_mixed.groupby('country')['tweet'].count().sort_values(ascending=False).head(10).plot.bar()\nplt.ylabel('Number of tweets')\nplt.title('top countries with highest number of tweets')\nplt.show()","a8fa4f69":"# tweets for biden and trump from each country\ntop10countries = data_mixed.groupby('country')['tweet'].count().sort_values(ascending=False).head(10).index.tolist()\ntweet_df = data_mixed.groupby(['country','Candidate'])['tweet'].count().reset_index()\ntweet_df = tweet_df[tweet_df['country'].isin(top10countries)]\ntweet_df","9f9d4c71":"plt.figure(figsize=(20,8))\nsns.barplot(data=tweet_df,x='country',y='tweet',hue='Candidate')\nplt.show()","278a146a":"top10states = data_mixed.groupby('state')['tweet'].count().sort_values(ascending=False).head(10).index.tolist()\nstate_df = data_mixed.groupby(['state','Candidate'])['tweet'].count().reset_index()\nstate_df = state_df[state_df['state'].isin(top10states)]\nstate_df","7e59bfe9":"plt.figure(figsize=(20,8))\nsns.barplot(data=state_df,x='state',y='tweet',hue='Candidate')\nplt.show()","03c95ac1":"lm = WordNetLemmatizer()","11df2997":"def clean(text):\n    text = str(text).lower()\n    text = re.sub('[^a-z]',' ',str(text))\n    text = text.split()\n    text = [lm.lemmatize(j) for j in text if j not in set(stopwords.words('english'))]\n    text = ' '.join(str(k) for k in text)\n    return text","cffe52a2":"def getsubjectivity(text):\n    return TextBlob(text).sentiment.subjectivity\ndef getpolarity(text):\n    return TextBlob(text).sentiment.polarity\ndef getAnalysis(score):\n    if score <0:\n        return 'negative'\n    elif score == 0:\n        return 'neutral'\n    else:\n        return 'positive'\n    ","87df8186":"trump_tweets = data_mixed.query('(Candidate == \"Trump\")').sort_values('user_followers_count',ascending=False).drop_duplicates(['user_name'])[['tweet','country']]\ntrump_tweets = trump_tweets.dropna().loc[trump_tweets.country =='US']\ntrump_tweets.reset_index(inplace = True ,drop =True)","3141958d":"trump_tweets","ab958c98":"trump_tweets['cleantext'] = trump_tweets['tweet'].apply(clean)","472b27e9":"trump_tweets['subjectivity'] = trump_tweets['cleantext'].apply(getsubjectivity)\n","9d289058":"trump_tweets['polarity'] = trump_tweets['cleantext'].apply(getpolarity)","3938cd8d":"trump_tweets['analysis'] = trump_tweets['polarity'].apply(getAnalysis)","7a7bbdb7":"trump_tweets.head()","920e7f8f":"trump_tweets.analysis.value_counts(normalize=True)*100","04546ef3":"#Plot graph for analysis of trump tweets\nplt.figure(figsize=(10,5))\n(trump_tweets.analysis.value_counts(normalize=True)*100).plot.bar()\nplt.ylabel(\"%age of tweets\")\nplt.show()","f6eeb643":"from wordcloud import WordCloud, STOPWORDS\ndef word_cloud(wd_list):\n    stopwords = set(STOPWORDS)\n    all_words = ' '.join([text for text in wd_list])\n    wordcloud = WordCloud(background_color='white',\n                         stopwords= stopwords,\n                         width = 1600,height=800,\n                         random_state=1,\n                         colormap='jet',\n                         max_words=50,\n                         max_font_size=200).generate(all_words)\n    plt.figure(figsize=(12,10))\n    plt.axis('off')\n    plt.imshow(wordcloud)\nword_cloud(trump['tweet'][:5000])","1160c14f":"biden_tweets = data_mixed.query('(Candidate==\"biden\")').sort_values('user_followers_count',ascending =False).drop_duplicates(['user_name'])[['tweet','country']]\nbiden_tweets = biden_tweets.dropna().loc[biden_tweets.country=='US']\nbiden_tweets.reset_index(inplace=True,drop=True)","dc6e7532":"biden_tweets","d83b83a9":"biden_tweets['cleantext'] = biden_tweets['tweet'].apply(clean)","9c0a74dd":"biden_tweets['subjectivity'] = biden_tweets['cleantext'].apply(getsubjectivity)","ac668b5d":"biden_tweets['polarity'] = biden_tweets['cleantext'].apply(getpolarity)","6dfe90b4":"biden_tweets['analysis'] = biden_tweets['polarity'].apply(getAnalysis)","e0683236":"biden_tweets.head()","6d05baaf":"biden_tweets.analysis.value_counts(normalize=True)*100","c4d0ddb3":"plt.figure(figsize=(10,5))\n(biden_tweets.analysis.value_counts(normalize=True)*100).plot.bar()\nplt.ylabel(\"%age of tweets\")\nplt.show()","afd54dbc":"from wordcloud import WordCloud, STOPWORDS\ndef word_cloud(wd_list):\n    stopwords = set(STOPWORDS)\n    all_words = ' '.join([text for text in wd_list])\n    wordcloud = WordCloud(background_color='white',\n                         stopwords= stopwords,\n                         width = 1600,height=800,\n                         random_state=1,\n                         colormap='jet',\n                         max_words=200,\n                         max_font_size=200).generate(all_words)\n    plt.figure(figsize=(12,10))\n    plt.axis('off')\n    plt.imshow(wordcloud)\nword_cloud(biden_tweets['cleantext'][:5000])","69d78a13":"customer sentiments can be found in tweets, comments, reviews or other places where people mention your brands. Sentiment analysis is the domain of understanding these emotions with software, and it's a must understand topic for developers and business leaders in a modern workplace.","8a8c8ddb":"# create function to get polarity and subjectivity\n#subjectivity---- if the sentence is subjective or objective----subjective sentence refer to personal opinions,\nemotions or people's judgment whereas objective sentence refers to factual information.It ranges from [0,1].\n## Polarity-- Float value that lies between [-1,1] where 1 means positive sentiment and -1 means negative sentiment.","38166889":"# Exploratory Data Analysis","b9926b4d":"sentiment analysis is the process of using natural language processing, text analysis, and statistics to analyse customer sentiments. The best business understand the sentiment of their customers - what prople are saying, how they are saying it and what they mean.","83a4da87":"# JoeBiden tweets sentiment analysis","83d2128f":"# DonaldTrump tweets sentiment analysis","f056c157":"According to sentiment analysism biden has upper hand over trump in US which actually matters in presidential elections.","17c67d36":"# SENTIMENT ANALYSIS","91cc14b3":"# Sentiment analysis of presidential elections"}}