{"cell_type":{"31d97d95":"code","e54a6d13":"code","4f5ab538":"code","c8e65a94":"code","cc4f4ceb":"code","0425ef62":"code","e5f798eb":"code","3131e810":"code","e906f908":"code","e2c0d4c4":"code","58b48cd3":"code","0fd41f02":"code","25ff10ce":"code","a215b408":"code","a3ae78d4":"code","cb7543ee":"code","eb64a6aa":"code","aa92b122":"code","80e709dd":"code","d570c673":"code","dd61471e":"code","6ca3c816":"code","4b7a282b":"code","1471b6fe":"code","6f4fecc5":"code","af23c402":"code","bbb840c7":"markdown","34dbf65d":"markdown","61e8b54c":"markdown","450d2c08":"markdown","5bfed53b":"markdown","2ea0bbaf":"markdown","ce75da39":"markdown","9c3acdc4":"markdown","15b7edfe":"markdown","2d0744e8":"markdown","cf816e7e":"markdown","f0fbb835":"markdown","60bca476":"markdown","7e88a4d1":"markdown","7e6bb3c1":"markdown","6289363e":"markdown","6cdc9195":"markdown","26aff3d0":"markdown","1e67ec4c":"markdown","4d1d9bec":"markdown","db450620":"markdown"},"source":{"31d97d95":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport random\nimport scipy.stats as stt\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings('ignore')\n%pylab inline","e54a6d13":"data = pd.read_csv('..\/input\/googleplaystore.csv')","4f5ab538":"data.shape","c8e65a94":"data.head()","cc4f4ceb":"data.Category.unique()","0425ef62":"def f(x):\n    if x[-1]=='M':\n        res = float(x[:-1])*1024\n    elif x[-1]=='k':\n        res = float(x[:-1])\n    else:\n        res = np.nan\n    return res\n\nnew_size = data.Size.apply(f)","e5f798eb":"data[data.Size=='1,000+']","3131e810":"data_1 = data[data.Rating!=19]\ndata_1['Size'] = new_size\ndata_1.drop('Current Ver',axis=1, inplace=True)","e906f908":"def inst(x):\n    if x[-1]=='+':\n        res = float(x[:-1].replace(',',''))\n    else:\n        res = float(x)\n    return res\n\ndef rev(x):\n        res = int(x)\n        return res\n    \ndef prc(x):\n    if x[0]=='$':\n        res = float(x[1:])\n    else:\n        res = float(x)\n    return res\n\nnew_inst = data_1.Installs.apply(inst)\nnew_rev = data_1.Reviews.apply(rev)\nnew_prc = data_1.Price.apply(prc)\n\ndata_1['Installs'] = new_inst\ndata_1['Reviews'] = new_rev\ndata_1['Price']  = new_prc","e2c0d4c4":"pop_data = pd.merge(data_1[['App','Reviews']],\\\n         data_1[['App','Category','Rating','Installs']][data_1.Rating>4].drop_duplicates(),\\\n         left_index=True, right_index=True)\npop_data.drop('App_x',axis=1, inplace=True)\npop_data.shape","58b48cd3":"pop_data.sort_index(by=['Installs','Reviews'], ascending=False, inplace=True)\npop_data.head()","0fd41f02":"fig = plt.figure(figsize=(20,10))\nax1 = fig.add_subplot(2,3,1)\nax1.set_title('Most popular apps')\npd.value_counts(pop_data.Category)[:15].plot(kind='barh');\nax2 = fig.add_subplot(2,3,2)\nax2.set_title('All apps')\npd.value_counts(data_1.Category).head(15).plot.barh();\nplt.tight_layout()","25ff10ce":"pop_data[pop_data.Category=='FAMILY'].head(10)","a215b408":"game_data = data_1[data_1['Category']=='GAME']\nfig = plt.figure(figsize=(10,10))\nsns.set(style=\"white\",font_scale=2)\nsns.heatmap(game_data.dropna()[['Rating','Reviews','Size','Installs','Price']].corr(), fmt='.2f',annot=True,linewidth=2);","a3ae78d4":"fig = plt.figure(figsize=(5,5))\nsns.set(font_scale=2)\nsns.countplot(game_data.Type, facecolor=(0, 0, 0, 0),linewidth=5, \\\n              edgecolor=sns.color_palette(\"dark\", 3));","cb7543ee":"sns.set(style=\"white\",font_scale=1.5)\nfig = plt.figure(figsize=(7,7))\nsns.countplot(y = game_data[game_data.Type=='Paid'].Genres, palette=\"Set3\");","eb64a6aa":"fig = plt.figure(figsize=(15,15))\ngame_data['Installs'].groupby(game_data['Genres']).sum().plot(kind='barh');","aa92b122":"fig = plt.figure(figsize=(15,15))\nsns.boxplot(x='Reviews',y='Genres', data=game_data);","80e709dd":"fig = plt.figure(figsize=(5,5))\nsm_game = game_data['Rating'].groupby(game_data['Genres']).sum()\nsm_game[sm_game>150].plot(kind='barh');","d570c673":"sns.set(style=\"white\",font_scale=1)\nsns.countplot(game_data['Content Rating'], facecolor=(0, 0, 0, 0),linewidth=5, \\\n              edgecolor=sns.color_palette(\"dark\", 3));","dd61471e":"pd.value_counts(game_data['Genres'])[:10]","6ca3c816":"gen_dat = game_data[game_data['Genres'].isin(['Action','Arcade','Racing','Adventure','Card','Casual'])]\ng = plt.figure(figsize=(15,5))\nsns.set(style=\"whitegrid\",font_scale=2,palette=\"muted\")\nsns.countplot(hue=gen_dat['Content Rating'],x=gen_dat['Genres']);","4b7a282b":"game_data['Rev\/Inst'] = game_data.Reviews\/game_data.Installs\nplt.figure(figsize=(10,10))\ngame_data[game_data['Rev\/Inst']>0.05]['Rev\/Inst'].groupby(game_data['Genres']).mean().plot(kind='barh');","1471b6fe":"from sklearn.preprocessing import StandardScaler\nfrom sklearn.manifold import TSNE\nfrom sklearn.decomposition import PCA\ntsn = TSNE()\npca = PCA(n_components=2)\nscaler =  StandardScaler()","6f4fecc5":"num_data = scaler.fit_transform(game_data.dropna()[['Rating','Reviews','Size','Installs','Price']])\nres_tsne = pca.fit_transform(num_data)\npp_data = np.hstack((res_tsne,game_data.dropna().Genres.values.reshape(974,1)))","af23c402":"ss_dat = pd.DataFrame(pp_data)\nss_dat = ss_dat[ss_dat[2].isin(['Action','Arcade','Racing','Adventure'])]\nplt.figure(figsize=(15,10))\nsns.swarmplot(x=ss_dat[0],y=ss_dat[1],size=10,hue=ss_dat[2]);","bbb840c7":"\u0421heck for relative numerical features <br>\nWe can see that there is high correlation between Reviews and Installs (it's logical). Also we see some weak relation between Size and Reviews (probably people write when app size is very big? :) ). I expected to see more high corr between Reviews and others because game apps often ask for write an commit about their product.","34dbf65d":"Now consider interesting metric - ratio 'Reviews\/Installs'. This is an indicator of user responsiveness. The leaders are Strategy, Simulation and Arcade, however they have a small margin.","61e8b54c":"Consider more closely game cathegory. Games are very important part of apps. If we look at the head of 'FAMILY' category, we see that many apps in this category are games! Therefore I think games are most popular apps.","450d2c08":"Try to visualize this numerical data:","5bfed53b":"We can see very high difference between free and paid apps. Paid applications lose free apps by many parameters. A lot of free games in addition to advertising into app, have got in-game currency, that the user can buy for real money.","2ea0bbaf":"Conider top popular apps. I will choose it by Installs and Reviews. In the table many apps repeats and so i need merge it with Reviews column.","ce75da39":"There is strange app, which Size = '1,000+'. In addition, this app has wrong Rating - 19, so drop it. <br> \nAlso drop 'Current Ver' column.","9c3acdc4":"We see that most apps are free. Leaders by count in google play are \nAdventure, Action, Arcade, Board and Card. But people prefers (by Installing) \nCasual, Arcade, Action, Racing. So, Arcade and Action are mass games. If you create \ngame in these genre, you can suppose that your game will be popular with a large number\n of people. We can see that Arcades are more than Action in Google Play, \nbut Action games are better rated.\nAnd for example, Card and Board genres are popular in a \nspecific people group. \nMost of review gives Sports, Arcade, Strategy and Casual - people from this apps\nare most active. Popular ratings from all apps are Everyone & Teen. <br>\nFinally, PCA gives interesting interpretation of this data, so developers can see their\nproduct from rhis graphic and compare it with another games with many factors at the same time. <br>\nThank you for reading! I hope this kernel was helpful to you.","15b7edfe":"Here you can see sum of Rating by every Genre. ","2d0744e8":"## Part about games","cf816e7e":"Show most popular categories. It's logical, that 3 most popular apps are in same time 3 most numerous apps.","f0fbb835":"Here you can see sum of installs grouped by genres. Absolute leaders are Casual, Arcade and Action. Remember the corrplot, I mean that plot with Genres\/Review will be the same.","60bca476":"PCA gives interesting results, we can see that the data is distributed along a certain line. The visualization TSNE is unsuccessful, so I did not give it here. (often happened so)","7e88a4d1":"Here we can see that 'Everyone' and 'Teen' rating are most popular.","7e6bb3c1":"Columns Description: <br>\nApp - Application name\n<br>\nCategory - Category the app belongs to\n<br>\nRating - Overall user rating of the app \n<br>\nReviews - Number of user reviews for the app \n<br>\nSize - Size of the app \n<br>\nInstalls - Number of user downloads\/installs for the app \n<br>\nType - Paid or Free\n<br>\nPrice - Price of the app \n<br>\nContent Rating - Age group the app is targeted at - Children \/ Mature 21+ \/ Adult\n<br>\nGenres - An app can belong to multiple genres\n<br>\nLast Updated - Date when the app was last updated on Play Store \n<br>\nCurrent Ver - Current version of the app available on Play Store\n<br>\nAndroid Ver - Min required Android version","6289363e":"Countplot for the Content Rating:","6cdc9195":"No! It's interesting, but leaders in Reviews are Casual, Strategy and Sports.","26aff3d0":"Here you can see most count paid game genres:","1e67ec4c":"In this dataset we need explore separately every app category. Firstly, transform size to the numerical data.","4d1d9bec":"Perform a similar operations with columns 'Install' and 'Reviews'.","db450620":"# Games in Google play"}}