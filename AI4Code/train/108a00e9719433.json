{"cell_type":{"9c60fc0a":"code","e63daeb5":"code","94bba709":"code","32800f17":"code","b8df03d2":"code","bdf77ff2":"code","b2bb5104":"code","c632f431":"code","8bbb3f12":"code","c2a601bb":"code","7cb86d74":"code","6515c179":"code","da0d313a":"code","a146d574":"code","cac4d611":"code","c8275c8b":"code","fd85259c":"code","3780d297":"code","50437446":"code","0b57142d":"code","c960856d":"code","cdbdafb1":"code","6ca0e67f":"code","f5cbf48c":"code","3c394309":"code","f1ea8037":"code","bf6e0328":"code","f9be99f5":"code","922fd038":"code","440bbac4":"code","2423b55b":"code","79c26065":"code","105f03ea":"code","31a6c17d":"code","bf14c954":"code","44c0d078":"code","bafb5559":"code","4b5c2439":"code","c8860ef2":"code","f8fef36f":"code","22ea2b7e":"code","6ea5ad1e":"markdown","3b67c94b":"markdown","fb661a7b":"markdown","19f4a552":"markdown","eb760c47":"markdown","5e4d2c88":"markdown","848b7474":"markdown","beaae5f4":"markdown","db69c1ca":"markdown","958044be":"markdown","38db9bd2":"markdown","40f5a5a4":"markdown","af6e8a37":"markdown","d5786cb0":"markdown","47d2953c":"markdown","c8d9da15":"markdown","a7510524":"markdown","859de506":"markdown","81072f21":"markdown","7e784fd1":"markdown","c3593199":"markdown","72cf197d":"markdown","06296697":"markdown","7bcb7f29":"markdown","71ee7b68":"markdown"},"source":{"9c60fc0a":"import os #paths to file\nimport numpy as np # linear algebra\nimport pandas as pd # data processing\nimport warnings# warning filter\n\n\n#ploting libraries\nimport matplotlib.pyplot as plt \nimport matplotlib\nimport seaborn as sns\n\n#relevant ML libraries\nfrom sklearn.preprocessing import LabelEncoder\nle=LabelEncoder()\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import classification_report\nfrom sklearn.metrics import accuracy_score\n\n#ML models\nfrom xgboost import XGBClassifier\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.linear_model import LogisticRegression\n\n#default theme\nsns.set(context='notebook', style='darkgrid', palette='deep', font='sans-serif', font_scale=1, color_codes=False, rc=None)\nmatplotlib.rcParams['figure.figsize'] =[10,8]\nmatplotlib.rcParams.update({'font.size': 20})\nmatplotlib.rcParams['font.family'] = 'sans-serif'\n\n#warning hadle\nwarnings.filterwarnings(\"ignore\")","e63daeb5":"train = pd.read_excel('..\/input\/golden-ball-winners\/balon.xlsx')\ntrain","94bba709":"train.info()","32800f17":"train.describe(include='all')","b8df03d2":"train.shape","bdf77ff2":"train.columns","b2bb5104":"categ = [f for f in train.columns if train.dtypes[f]=='object']\ncateg","c632f431":"num = [f for f in train.columns if train.dtypes[f] !='object']\nnum.remove('id')\nnum","8bbb3f12":"train.dtypes.value_counts().plot.pie(explode=[0.1,0.1,0.1],autopct='%1.1f%%',)\nplt.title(\"data type %\");","c2a601bb":"train.isnull().sum()","7cb86d74":"train=train.drop('id',axis=1)","6515c179":"train.Efficacit\u00e9.describe()","da0d313a":"train.Efficacit\u00e9=train.Efficacit\u00e9.fillna(train.Efficacit\u00e9.median())","a146d574":"train.isnull().sum()","cac4d611":"train.hist(figsize=(15,15));","c8275c8b":"play_best=train.player.value_counts()\nsns.barplot(play_best.index,play_best)\nplt.xticks(rotation=90)\nplt.title('player who take the first , second and third place')","fd85259c":"sns.countplot(x='player',hue='classement',data=train)\nplt.xticks(rotation=90)\n","3780d297":"Team_best=train.Team.value_counts()\nsns.barplot(Team_best.index,Team_best)\nplt.xticks(rotation=90)\nplt.title('Team who take the first , second and third place')","50437446":"sns.countplot(x='Team',hue='classement',data=train)\nplt.xticks(rotation=90)","0b57142d":"Poste_best=train.Poste.value_counts()\nsns.barplot(Poste_best.index,Poste_best)\nplt.xticks(rotation=90)\nplt.title('Poste who take the first , second and third place')","c960856d":"sns.countplot(x='Poste',hue='classement',data=train)\nplt.xticks(rotation=90)","cdbdafb1":"train.Age.value_counts().plot.bar()","6ca0e67f":"sns.countplot(x='Age',hue='classement',data=train)","f5cbf48c":"train['Match played'].value_counts().plot.bar()","3c394309":"sns.countplot(x='yellow card',hue='classement',data=train)\nplt.title('player who take yellow card and their position')","f1ea8037":"sns.countplot(x='red card',hue='classement',data=train)\nplt.title('player who take red card and their position')","bf6e0328":"sns.countplot(x='Recompense SOLO',hue='classement',data=train)\nplt.title('player who take Recompense SOLO and their position')\n","f9be99f5":"sns.barplot(x='Poste',y='Goal',data=train)","922fd038":"train=train.drop('player',axis=1)\ntrain=train.drop('Team',axis=1)\ntrain=train.drop('years',axis=1)","440bbac4":"train=train.drop('Age',axis=1)","2423b55b":"train.Poste=le.fit_transform(train.Poste)","79c26065":"train.Poste.value_counts()","105f03ea":"# check if our data is all numerical\ntrain.dtypes.value_counts()","31a6c17d":"train.classement=train.classement.replace(2,0)\ntrain.classement=train.classement.replace(3,0)\ntrain.classement.value_counts()","bf14c954":"corr = train.corr()\ncorr.style.background_gradient(cmap='coolwarm').set_precision(2)","44c0d078":"x = train.drop('classement', axis = 1)\ny = train['classement']\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size = 0.25, random_state = 0)","bafb5559":"LR = LogisticRegression()\nLR.fit(x_train, y_train)\n\ny_predict = LR.predict(x_test)\n\n#  prediction Summary by species\nprint(classification_report(y_test, y_predict))\n\n# Accuracy score\nLR_SC = accuracy_score(y_predict,y_test)\nprint('accuracy is',accuracy_score(y_predict,y_test)*100)","4b5c2439":"DT = DecisionTreeClassifier()\nDT.fit(x_train, y_train)\n\ny_predict = DT.predict(x_test)\n\n#  prediction Summary by species\nprint(classification_report(y_test, y_predict))\n\n# Accuracy score\nDT_SC = accuracy_score(y_predict,y_test)\nprint(f\"{round(DT_SC*100,2)}% Accurate\")","c8860ef2":"XGB = XGBClassifier()\nXGB.fit(x_train, y_train)\n\ny_predict = XGB.predict(x_test)\n\n#  prediction Summary by species\nprint(classification_report(y_test, y_predict))\n\n# Accuracy score\nXGB_SC = accuracy_score(y_predict,y_test)\nprint(f\"{round(XGB_SC*100,2)}% Accurate\")","f8fef36f":"RF = RandomForestClassifier()\nRF.fit(x_train, y_train)\n\ny_predict = RF.predict(x_test)\n\n#  prediction Summary by species\nprint(classification_report(y_test, y_predict))\n\n# Accuracy score\nRF_SC = accuracy_score(y_predict,y_test)\nprint(f\"{round(RF_SC*100,2)}% Accurate\")","22ea2b7e":"score = [DT_SC,RF_SC,XGB_SC,LR_SC]\nModels = pd.DataFrame({\n    'n_neighbors': [\"Decision Tree\",\"Random Forest\",\"XGBoost\", \"Logistic Regression\"],\n    'Score': score})\nModels.sort_values(by='Score', ascending=False)","6ea5ad1e":"### split data ","3b67c94b":"# A) Logistic Regression\n![image.png](attachment:image.png)","fb661a7b":"# Preprocessing and Data Analysis \ud83d\udcbb\n### First look at the data","19f4a552":"we dont need the *id* columns so we gonna delete it ","eb760c47":"# D) Random Forest\n![image.png](attachment:image.png)","5e4d2c88":"### like we see in our correlation map that 'Recompense SOLO' , 'Goal' and '0.25' Are the moste important features to predict the target","848b7474":"we had just one value missing in Efficacit\u00e9 columns so we gonna replace it the frequent value (median ) because 1 value will not change a lot of our model","beaae5f4":"# Data visalization \ud83d\udcca","db69c1ca":"# features engineering","958044be":"# import libraries \ud83d\udcd5\ud83d\udcd7\ud83d\udcd8","38db9bd2":"# B) decision tree \n![image.png](attachment:image.png)","40f5a5a4":"# change categorical to numerical\n### Poste ","af6e8a37":"### B) numerical features","d5786cb0":"### B) numerical features \n'years',\n 'Age',\n 'Match played',\n 'minute Played',\n 'titularisation',\n 'Goal',\n 'PD',\n 'Efficacit\u00e9',\n 'Victoire ',\n 'yellow card',\n 'red card',\n 'Palmares',\n 'Recompense SOLO',\n 'classement'","47d2953c":"# C) XGBoost\n![image.png](attachment:image.png)","c8d9da15":"## my goal in this model is to predict if a player will take the golden ball\n## so i will change the classement from 1,2,3 to 1,0 \n### 1 ==> the player take the golden ball \n### 0 ==> the player didint take the golden ball","a7510524":"If you found this notebook interesting please upvote! \n![image.png](attachment:image.png)","859de506":"## Machine learning models\n\nThe Process of Modeling the Data:\n1. Importing the model\n\n2. Fitting the model\n\n3. Predicting Loan Status\n\n4. Classification report by Loan Status\n\n5. Overall accuracy\n\n## Models we will use:\n\n* Decision Tree\n* Random Forest\n* XGBoost\n* Logistic Regression\n","81072f21":"## correlation map","7e784fd1":"like we know some of this columns is not so important to predict who will had the golden ball \n1. name of player\n2. name of Team \n3. years\n4. Age\nso we gonna delete them","c3593199":"### A) categorical features (['player', 'Team', 'Poste']  )","72cf197d":"## The Ballon d'Or (French pronunciation \"Golden Ball\") is :\n\nan annual football award presented by French news magazine France Football that is one of the oldest and generally regarded as the most prestigious individual award for football players. It has been awarded since 1956, although between 2010 and 2015, an agreement was made with FIFA, and the award was temporarily merged with the FIFA World Player of the Year (founded in 1991) and known as the FIFA Ballon d'Or. However, the partnership ended in 2016, and the award reverted to the Ballon d'Or, while FIFA also reverted to its own separate annual award The Best FIFA Men's Player. The recipients of the joint FIFA Ballon d'Or are considered as winners by both award organisations.\n\nConceived by sports writer Gabriel Hanot, the Ballon d'Or award honours the male player deemed to have performed the best over the previous year, based on voting by football journalists, from 1956 to 2006 After 2007, coaches and captains of national teams were also given the right to vote.Originally, it was an award only for players from Europe and widely known as the European Footballer of the Year award. In 1995, the Ballon d'Or was expanded to include all players from any origin that have been active at European clubs.] The award became a global prize in 2007 with all professional footballers from around the world being eligible\n\n![image.png](attachment:image.png)","06296697":"### A) categorical features","7bcb7f29":"now our data is clean ","71ee7b68":"## finding missing values"}}