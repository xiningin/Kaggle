{"cell_type":{"0f0e36bc":"code","bf73ee00":"code","d2cba179":"code","b011ca4d":"code","4f715a7c":"code","c849ef37":"code","bf5e4b92":"code","6f74c8d3":"code","912697fe":"code","e5f4ca33":"code","e90e59da":"code","317aa706":"code","9d352af5":"code","4ccf5bbb":"code","5bd65967":"code","be9ead13":"code","a73fdd19":"code","737a5b68":"code","73ef3b84":"code","b95f5aae":"code","55fea9f2":"markdown","ab37cbe3":"markdown","0e7070d4":"markdown","a02bbf47":"markdown","92950d5f":"markdown","f88a81db":"markdown","65d09782":"markdown","f2bc3ca7":"markdown","84d90ba8":"markdown","f075e3a2":"markdown","42c74b7d":"markdown","caf2b30e":"markdown","6a5a82ed":"markdown","46b29cee":"markdown","9739e667":"markdown","7ec43d21":"markdown","950c831d":"markdown","e67594d6":"markdown","aac4db3b":"markdown"},"source":{"0f0e36bc":"import numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport matplotlib.pylab as pylab","bf73ee00":"## Loading Python Data Set\ndf_hb = pd.read_csv(\"..\/input\/habermans-survival-data-set\/haberman.csv\",header=None,names=['Age','Op_Year','axil_nodes','Surv_status'])","d2cba179":"df_hb.head()","b011ca4d":"df_hb['Surv_status'].value_counts()","4f715a7c":"df_hb['Op_Year'].value_counts()","c849ef37":"df_hb.describe()","bf5e4b92":"print(\"Median of Positive Axillary nodes is {0}\".format(np.median(df_hb[\"axil_nodes\"])))\nprint(\"Median of Age is {0}\".format(np.median(df_hb[\"Age\"])))","6f74c8d3":"df_hb.info()","912697fe":"hb_SurvStatus_1 = df_hb.loc[df_hb[\"Surv_status\"] == 1];\nhb_SurvStatus_2 = df_hb.loc[df_hb[\"Surv_status\"] == 2];\nprint(hb_SurvStatus_1.describe())\nprint(hb_SurvStatus_2.describe())","e5f4ca33":"print(\"*************Median**************\")\nprint(\"Median of Age for Survival Status 1 is {0} & 2 is {1}\".format(np.median(hb_SurvStatus_1[\"Age\"]),np.median(hb_SurvStatus_2[\"Age\"])))\nprint(\"Median of Operation year for Survival Status 1 is {0} & 2 is {1}\".format(np.median(hb_SurvStatus_1[\"Op_Year\"]),np.median(hb_SurvStatus_2[\"Op_Year\"])))\nprint(\"Median of Positive Axillary nodes for Survival Status 1 is {0} & 2 is {1}\".format(np.median(hb_SurvStatus_1[\"axil_nodes\"]),np.median(hb_SurvStatus_2[\"axil_nodes\"])))","e90e59da":"\nprint(\"Positive Axillary Nodes\")\nprint(np.percentile(hb_SurvStatus_1[\"axil_nodes\"],np.arange(0, 100, 10)))\nprint(np.percentile(hb_SurvStatus_2[\"axil_nodes\"],np.arange(0, 100, 10)))\n\nprint(\"\\nQuantiles:\")\nprint(np.percentile(hb_SurvStatus_1[\"axil_nodes\"],np.arange(0, 100, 25)))\nprint(np.percentile(hb_SurvStatus_2[\"axil_nodes\"],np.arange(0, 100, 25)))\n\nprint(\"\\n95% Percentile:\")\nprint(np.percentile(hb_SurvStatus_1[\"axil_nodes\"],95))\nprint(np.percentile(hb_SurvStatus_2[\"axil_nodes\"],95))\n\nprint(\"\\nAge\")\nprint(np.percentile(hb_SurvStatus_1[\"Age\"],np.arange(0, 100, 10)))\nprint(np.percentile(hb_SurvStatus_2[\"Age\"],np.arange(0, 100, 10)))\n\n\nprint(\"\\nOp_Year\")\nprint(np.percentile(hb_SurvStatus_1[\"Op_Year\"],np.arange(0, 100, 10)))\nprint(np.percentile(hb_SurvStatus_2[\"Op_Year\"],np.arange(0, 100, 10)))\n","317aa706":"print (\"Number of Data Points {0}\". format(df_hb.shape[0]))\nprint (\"Number of Features {0}\". format(df_hb.shape[1]))\nprint (\"List of Columns {0}\". format(df_hb.columns[:]))\nprint(\"\\nClasses and Data Points Per class\",df_hb.groupby(df_hb['Surv_status'])['Surv_status'].count())","9d352af5":"hb_SurvStatus_1 = df_hb.loc[df_hb[\"Surv_status\"] == 1];\nhb_SurvStatus_2 = df_hb.loc[df_hb[\"Surv_status\"] == 2];","4ccf5bbb":"sns.FacetGrid(df_hb,hue='Surv_status',size=8)\\\n.map(sns.distplot,'Age')\\\n.add_legend();\nplt.title(\"Histogram of Age\")\n\nsns.FacetGrid(df_hb,hue='Surv_status',size=5)\\\n.map(sns.distplot,'Op_Year')\\\n.add_legend();\nplt.title(\"Histogram of Year of Operation\")\n\nsns.FacetGrid(df_hb,hue='Surv_status',size=5)\\\n.map(sns.distplot,'axil_nodes')\\\n.add_legend();\nplt.title(\"Histogram of Axil Nodes\")\nplt.show()","5bd65967":"plt.figure(figsize=(20,5))\nindex=1\nfor Feature in (list(df_hb.columns)[:-1]):\n    plt.subplot(1,3,index)\n    Counts , bin_edges = np.histogram(hb_SurvStatus_1[Feature],bins=20,density=True)\n    pdf=Counts\/sum(Counts)\n    cdf = np.cumsum(pdf)\n    plt.plot(bin_edges[1:],cdf,label=\"cdf of Surv. status 1\",color=\"red\")\n    plt.plot(bin_edges[1:],pdf,label=\"pdf of Surv. status 1\",color=\"green\")\n\n#Shorter Survival Status\n    #plt.subplot(1,3,i)\n    Counts1 , bin_edges1 = np.histogram(hb_SurvStatus_2[Feature],bins=20,density=True)\n    pdf1=Counts1\/sum(Counts1)\n    cdf1 = np.cumsum(pdf1)\n    plt.plot(bin_edges1[1:],cdf1,label=\"cdf of Surv. status 2\",color=\"blue\")\n    plt.plot(bin_edges1[1:],pdf1,label=\"pdf of Surv. status 2\",color=\"orange\")\n    plt.xlabel(Feature)\n    plt.ylabel(\"Density Function\")\n    pylab.legend(loc='center')\n    plt.grid(which='both')\n    index+=1\nplt.show()","be9ead13":"plt.figure(figsize=(20,5))\ni=1\nfor Feature in (list(df_hb.columns)[:-1]):\n    plt.subplot(1,3,i)\n    sns.boxplot(x='Surv_status',y=Feature,data=df_hb)\n    i+=1\n    plt.grid()\nplt.show()","a73fdd19":"plt.figure(figsize=(20,5))\ni=1\nfor Feature in (list(df_hb.columns)[:-1]):\n    plt.subplot(1,3,i)\n    sns.violinplot(x='Surv_status',y=Feature,data=df_hb,size=8)\n    i+=1\n    plt.grid()\nplt.show()","737a5b68":"sns.set_style(\"whitegrid\");\nsns.FacetGrid(df_hb, hue=\"Surv_status\", size=4) \\\n   .map(plt.scatter, \"Age\", \"Op_Year\") \\\n   .add_legend();\nplt.show();\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df_hb, hue=\"Surv_status\", size=4) \\\n   .map(plt.scatter, \"Op_Year\", \"axil_nodes\") \\\n   .add_legend();\nplt.show();\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df_hb, hue=\"Surv_status\", size=4) \\\n   .map(plt.scatter, \"Age\", \"axil_nodes\") \\\n   .add_legend();\nplt.show();","73ef3b84":"#df_hb[\"Surv_status\"][df_hb[\"Surv_status\"] == 1]='Yes';\n#df_hb[\"Surv_status\"][df_hb[\"Surv_status\"] == 2]='No';\n#print(df_hb)\nplt.close() # it close a figure window\nsns.set_style(\"whitegrid\")\nsns.pairplot(df_hb,vars=[\"Age\",\"Op_Year\",\"axil_nodes\"],hue=\"Surv_status\",size=3)\nplt.show()","b95f5aae":"sns.jointplot(x=\"Op_Year\", y=\"axil_nodes\", data=df_hb, kind=\"kde\");\nplt.show();\n\nsns.jointplot(x=\"Age\", y=\"axil_nodes\", data=df_hb, kind=\"kde\");\nplt.show();","55fea9f2":"## Observation from Histogram\n### Age\n--> if the Age is less than 34 then there is full possbility of Patient to Survive for 5 years and Longer\n\n--> For Patient with Age >=78, there are no chances of Survival for more than 5 years\n\n--> From Age 34 to 40 The Possbility of Survival for more than 5 Years are higher as compared to Survival Status 2\n\n--> From Age 40 The chances of longer survival Decreases except from 59 to 61 we can see there is again a larger possbility of longer survival for the patient\n\n### Year Of Operation\n--> from the Histogram Plot. we cannot make analysis on the Survival Status since there seems similar kind of plot for both the categories\n\n### Axillary Nodes\n-->it is not possbile to make an absolutely clear analysis for the Survival status of a Patient based on Positive Axilary Nodes\n\n--> but for Patient with Axillary Nodes <=4, the Chances for longer survival are much higher and for Patient with Xillary nodes>= 8 the lnger survival chances are very less","ab37cbe3":"## Exercise\n### 1. Download Haberman Cancer Survival dataset from Kaggle. You may have to create a Kaggle account to donwload data (https:\/\/www.kaggle.com\/gilsousa\/habermans-survival-data-set)\n\n### 2. Perform a similar alanlaysis as above on this dataset with the following sections:\n\n--> High level statistics of the dataset: number of points, numer of features, number of classes, data-points per class.\n\n-->Explain our objective.\n\n--> Perform Univaraite analysis(PDF, CDF, Boxplot, Voilin plots) to understand which features are useful towards classification.\n\n--> Perform Bi-variate analysis (scatter plots, pair-plots) to see if combinations of features are useful in classfication.\n\n--> Write your observations in english as crisply and unambigously as possible. Always quantify your results.","0e7070d4":"## Scatter Plot","a02bbf47":"we can Start with Histogram plot to look into data Disctribution for all the three Features","92950d5f":"## Box Plot & Violin Plot\n--> if we see the box plot between Axil_nodes and Survival Status , there Seems to be to many Outliers, especially for long Survival Status. it is always good to remove these Outliers for better analysis\n\n--> about 50% of the Patient who survived has no postive axillay nodes \n\n--> if you look at the Box-plot of Non_Surivval Patient (less than 5 years). the 50% percentile and 75% gap seems almose thrice as gap between 25% to 50%, in other way about 50% of Patient who Survived less has Axillary nodes of 4 or less and other 25% Patient has axillary nodes from 4-11. and once it crossess 11, the chances of Survival are very very less","f88a81db":"### Univariate Analysis using CDF","65d09782":"## Observations\n--> looking at the Pair plots of Heberman data, its Tough to Perform Multivariate analysis ,the only pair where we can find a data Seperation is between Acillary Nodes and Year of Operation\n--> even though it tough to Quantify the analysis , exp using a if else condition but we can say that between Year 60 to 65 Patient with axil nodes of 8 or less has higher chances of long Survival","f2bc3ca7":"## Conclusion\n-->with this Data it is not possbile to analyse the effect of parameters i,e Age, Operation Year and Axillary nodes on Survival Statu\n\n-->if we look at the cdf and pdf Analysis we find that 75% of the Patient who survived for 5 years or longer has axil nodes of 4 or less and 90% of Patient whos survived has axil nodes of 9 or less\n\n--> none of the variable either single or pair can help in categorizing the survivial status using if else condition\n\n--> if there would have been large quantity of data, the analysis might have been different.","84d90ba8":"our Primary objective is to categories the Survival Status of a Patient among value 1 & 2 for a given value of Age, Operation Year and number Positive Axillary Nodes feature","f075e3a2":"## Contour plot","42c74b7d":"## Violin PLot","caf2b30e":"## 4. Explain our Objective","6a5a82ed":"## Observation\n\n--> 75% of the Patient who survived for 5 years or longer has axil nodes of 4 or less and 90% of Patient whos survived has axil nodes of 9 or less\n\n--> between Axilary Nodes 4-24, as the number of Positive Axillary Nodes Increases, the Chances of Less Survival grow from 40 to 90% ","46b29cee":"## Pair Plot","9739e667":"## 5. Perform Univaraite analysis(PDF, CDF, Boxplot, Voilin plots) to understand which features are useful towards classification.","7ec43d21":"## 3. High level statistics of the dataset: number of points, numer of features, number of classes, data-points per class.","950c831d":"## Box Plot","e67594d6":"### Basic Observations from above Analysis is\n--> the Studay has been done from Year 1958 to 1969\n\n--> out of 306 Patient who undergone Surgery during the study Period 225(73%) has Survived for 5 years or Longer\n\n-->if we look at the Mean and Median of all the Patient and Mean and Median of the Patient in both the Survival Categories. the value is ranges between 52-53. which means there is not a large outlier for the Age Feature wven though when the Patient underwent surgey has has age from 30 to 83 years\n\n--> One Important Point to note in the Above analsis is if we see the Dataset for Survival Status 1 the Maximum number of Postivie Axilary node is 46 but the Axil Node value for 75 Percentile is just 3 which says about 75% patient who Survivied for 5 year or More has Positive axilay nodes less than or equal to 3 and 90% Patient who survivied for 5 or More years have Positivie axilary nodes of less than equal to 8","aac4db3b":"### basic Observation from above analysis\n--> there are total 306 Data Points in the Dataset \n\n--> there are total of 4 columns out of which three are feature column and one column is Class Column\n\n--> Features are : Age, Operation year, Number of Positive Axillary Nodes\n\n--> class Column : Surv_Status which says the Survival Status of the indvidual rows\n\n--> there are two categories in \"Survival Status\" column i.e, 1 and 2 with total records of 225 and 81 Respectively for each classess"}}