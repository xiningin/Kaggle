{"cell_type":{"48d8e4ea":"code","1fbf0e1f":"code","ec29fa43":"code","be4e8dc7":"code","2976f412":"code","158b81a4":"code","c3971049":"code","9800dd2f":"code","061d7e04":"code","bc416da3":"code","d9d55154":"code","4d28274f":"code","d97876a4":"code","0f3483a7":"code","6d1d381f":"code","4c8bc802":"code","49d66332":"code","a441ce01":"code","5f01e992":"code","9704d322":"code","78bdc526":"code","c8f59778":"code","c7038f5b":"code","a1f71143":"code","e1098364":"code","040227a8":"code","f7114b09":"code","c46808e2":"code","ab826e18":"markdown","9b38946c":"markdown","717b70e4":"markdown","11a9e317":"markdown","ff2b0278":"markdown","b156a287":"markdown","e24db4f4":"markdown","f83f6047":"markdown","524ca7be":"markdown","f9ab1c68":"markdown","e74a0733":"markdown","21f2aef9":"markdown"},"source":{"48d8e4ea":"import pandas as pd\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.tree import DecisionTreeClassifier","1fbf0e1f":"data = pd.read_csv('..\/input\/daily_weather.csv')","ec29fa43":"data.columns","be4e8dc7":"data.head()","2976f412":"data[data.isnull().any(axis=1)]","158b81a4":"del data['number']","c3971049":"before_rows = data.shape[0]\nprint(before_rows)","9800dd2f":"data = data.dropna()","061d7e04":"after_rows = data.shape[0]\nprint(after_rows)","bc416da3":"before_rows - after_rows","d9d55154":"clean_data = data.copy()\nhumidity_level=24.99\nclean_data['high_humidity_label'] = (clean_data['relative_humidity_3pm'] > humidity_level)*1\nprint(clean_data['high_humidity_label'])","4d28274f":"y=clean_data[['high_humidity_label']].copy()\ny","d97876a4":"clean_data['relative_humidity_3pm'].head()","0f3483a7":"y.head()","6d1d381f":"morning_features = ['air_pressure_9am','air_temp_9am','avg_wind_direction_9am','avg_wind_speed_9am',\n        'max_wind_direction_9am','max_wind_speed_9am','rain_accumulation_9am',\n        'rain_duration_9am']","4c8bc802":"X = clean_data[morning_features].copy()","49d66332":"X.columns","a441ce01":"y.columns","5f01e992":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.33, random_state=324)","9704d322":"print(type(X_train),\ntype(X_test),\ntype(y_train),\ntype(y_test))","78bdc526":"X_train.head()","c8f59778":"y_train.head()","c7038f5b":"humidity_classifier = DecisionTreeClassifier(max_leaf_nodes=10, random_state=0)\nhumidity_classifier.fit(X_train, y_train)","a1f71143":"type(humidity_classifier)","e1098364":"predictions = humidity_classifier.predict(X_test)","040227a8":"predictions[:10]","f7114b09":"y_test['high_humidity_label'][:10]","c46808e2":"accuracy_score(y_true = y_test, y_pred = predictions)","ab826e18":"Now let's drop null values using the *pandas dropna* function.","9b38946c":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\"><br>\n\nUse 9am Sensor Signals as Features to Predict Humidity at 3pm\n<br><br><\/p>\n","717b70e4":"<p style=\"font-family: Arial; font-size:1.25em;color:purple; font-style:bold\"><br>\nHow many rows dropped due to cleaning?<br><br><\/p>","11a9e317":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\"><br>\n\nTarget is stored in 'y'.\n<br><br><\/p>\n","ff2b0278":"# Daily Weather Data Analysis\n\nIn this notebook, using decision tree we are trying to predict whether it will rain at for particular day at 3pm or not based on daily weather data of 9am.\n\n","b156a287":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\"><br>\nFit on Train Set\n<br><br><\/p>","e24db4f4":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\"><br>\nMeasure Accuracy of the Classifier\n<br><br><\/p>","f83f6047":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\">\nConvert to a Classification Task <br><br><\/p>\nBinarize the relative_humidity_3pm to 0 or 1.<br>\nHere higher humidity level is taken anything more than 25%, but it depends from city to city. For example 25% humidity in New Delhi is quite high and therefore more posibility of rain but for city like Mumbai 60% is anual average humidity level. So for Mumbai something like 85% or more can cause rain.\n","524ca7be":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\"><br>\nPredict on Test Set \n<br><br><\/p>","f9ab1c68":"\n\n* **number:** unique number for each row\n* **air_pressure_9am:** air pressure averaged over a period from 8:55am to 9:04am (*Unit: hectopascals*)\n* **air_temp_9am:** air temperature averaged over a period from 8:55am to 9:04am (*Unit: degrees Fahrenheit*)\n* **air_wind_direction_9am:** wind direction averaged over a period from 8:55am to 9:04am (*Unit: degrees, with 0 means coming from the North, and increasing clockwise*)\n* **air_wind_speed_9am:** wind speed averaged over a period from 8:55am to 9:04am (*Unit: miles per hour*)\n* ** max_wind_direction_9am:** wind gust direction averaged over a period from 8:55am to 9:10am (*Unit: degrees, with 0 being North and increasing clockwise*)\n* **max_wind_speed_9am:** wind gust speed averaged over a period from 8:55am to 9:04am (*Unit: miles per hour*)\n* **rain_accumulation_9am:** amount of rain accumulated in the 24 hours prior to 9am (*Unit: millimeters*)\n* **rain_duration_9am:** amount of time rain was recorded in the 24 hours prior to 9am (*Unit: seconds*)\n* **relative_humidity_9am:** relative humidity averaged over a period from 8:55am to 9:04am (*Unit: percent*)\n* **relative_humidity_3pm:** relative humidity averaged over a period from 2:55pm to 3:04pm (*Unit: percent *)\n","e74a0733":"<p style=\"font-family: Arial; font-size:1.75em;color:purple; font-style:bold\"><br>\nPerform Test and Train split\n<br><br><\/p>\n\n","21f2aef9":"We will not need to number for each row so we can clean it."}}