{"cell_type":{"aa31532a":"code","86762e65":"code","67c02216":"code","5b6e099a":"code","40144b66":"code","8e076bca":"code","416f7745":"code","ace3215a":"code","74e5f804":"code","9e5568b8":"code","636136cb":"code","5db4a872":"code","d87c1df7":"code","6fac2442":"code","b77ee851":"code","8de8beb6":"code","6532dd99":"code","04f5947e":"code","ee5fa866":"code","548dd0af":"code","1747b374":"code","0e22c7fb":"code","9869ca9b":"code","7b247a1b":"code","faabd8a7":"code","77f82809":"code","10bbfdee":"code","5809106f":"markdown","07566161":"markdown","7942f8e6":"markdown","e455d7f7":"markdown","07863c4d":"markdown","200db988":"markdown","9d1fee8d":"markdown","37ffc462":"markdown","dd33bfe3":"markdown","a27898f3":"markdown","ebad6bf6":"markdown","2e3e664d":"markdown","97551143":"markdown","4d5ea87e":"markdown","678c333f":"markdown","6f5b1895":"markdown","22ea251b":"markdown","7b8b447c":"markdown"},"source":{"aa31532a":"# update required modules # to be used once \n#pip install numpy --upgrade\n#pip install pandas --upgrade\n#pip install matplotlib --upgrade\n#pip install seaborn --upgrade\n\nfrom datetime import datetime\ndatetime_1 = datetime.now()\nprint(datetime_1)\n\n# import all packages and set plots to be embedded inline\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\n\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","86762e65":"# load in the dataset into a pandas dataframe, print statistics\n#fordgobike = pd.read_csv('201902-fordgobike-tripdata.csv')\n#df = fordgobike.copy()\ndf = pd.read_csv(\"..\/input\/ford-gobike-2019feb-tripdata\/201902-fordgobike-tripdata.csv\")","67c02216":"# high-level overview of data shape and composition\nprint(df.shape)\nprint(df.info())\ndf.sample(5)","5b6e099a":"df.start_station_name.nunique()","40144b66":"df.end_station_name.nunique()","8e076bca":"df['member_gender'].unique()","416f7745":"df['bike_share_for_all_trip'].unique()","ace3215a":"df['user_type'].unique()","74e5f804":"df['start_time'] = pd.to_datetime(df['start_time'])\ndf['end_time'] = pd.to_datetime(df['end_time'])","9e5568b8":"# as we found many null data we need to check it \ndf.notnull().sum()","636136cb":"df = df.dropna()\nprint(df.shape)\ndf.notnull().sum()","5db4a872":"# drop the columns that not needed for the analysis\ndf.drop(['start_station_latitude', 'start_station_longitude', 'end_station_latitude', 'end_station_longitude','start_station_id','end_station_id'], inplace = True, axis=1)\ndf.sample(5)","d87c1df7":"df.describe()","6fac2442":"sb.pairplot(df)","b77ee851":"df.info()","8de8beb6":"# Explore members gender \nsorted_gender = df['member_gender'].value_counts()\n\nplt.figure(figsize = [7, 7], dpi= 80, facecolor='w', edgecolor='k')\ncolors = sb.color_palette()\nplt.title(\"Explore members gender \");\nexplode = (0, 0.1, 0.1)\nplt.pie(\n    sorted_gender,\n    labels=sorted_gender.index,\n    startangle = 0,\n    colors = colors,\n    autopct = '%1.1f%%',\n    explode=explode,);\n\nplt.show()","6532dd99":"# Explore members user type\nsorted_type = df['user_type'].value_counts()\n\nplt.figure(figsize = [7, 7], dpi= 80, facecolor='w', edgecolor='k')\ncolors = sb.color_palette()\nplt.title(\"Explore members user type\");\nexplode = (0.1, 0)\nplt.pie(\n    sorted_type,\n    labels = sorted_type.index,\n    startangle = 0,\n    colors = colors,\n    autopct = '%1.1f%%',\n    explode=explode,);\n\nplt.show()","04f5947e":"df['age']=0\ndf.age = 2001 - df.member_birth_year\ndf['age'] = df.apply( lambda row: 2019 - row.member_birth_year , axis=1)\ndf.describe()","ee5fa866":"plt.figure(figsize=(15, 7));\n\nplt.subplot(2, 1, 1);\nplt.title(\"Explore members age\");\nsb.histplot(data = df, x = 'age', kde=True);\nage_mean = df.age.mean();\n#plt.axvline(age_mean,label= 'Mean age '+str(round(age_mean)) , linestyle = '--', color='r');\nplt.xlabel(\"age\");\n#plt.legend();\n\nplt.subplot(2, 1, 2);\nsb.boxplot(df['age']);\nplt.xlabel(\"age\");\n\nplt.show()","548dd0af":"# duration exploration\n# change duration sec to min for easy calculation\ndf['duration_min'] = df['duration_sec']\/60\n\nplt.figure(figsize=(15, 7))\n\nplt.subplot(2, 1, 1)\nplt.title(\"Duration exploration\");\nsb.boxplot(df['duration_min'])\n\nplt.subplot(2, 1, 2)\nbins = np.arange(df['duration_min'].min(), df['duration_min'].max()+ 30, 10)\nsb.histplot(data=df, x=\"duration_min\", label=\"Duration min\", kde=True)\nplt.xlabel ('Duration exploration zoomed to 60 Min')\nduration_mean=df.duration_min.mean()\nplt.axvline(duration_mean,label= 'Mean duration '+str(round(duration_mean)) , linestyle = '--', color='r')\nplt.legend() \nplt.xlim((0,60));\n\nplt.show()","1747b374":"plt.figure(figsize=(15, 7))\nplt.subplot(2, 1, 1)\nplt.title(\"Gender vs Age\");\nsb.set(style=\"darkgrid\")\nsb.violinplot(x=df[\"age\"], y=df[\"member_gender\"])\nplt.subplot(2, 1, 2)\nsb.kdeplot(data=df, x='age', hue = 'member_gender', shade=True)\nplt.axvline(age_mean,label= 'Mean age '+str(round(age_mean)) , linestyle = '--', color='r')\nplt.legend() \nplt.show()","0e22c7fb":"plt.figure(figsize=(15, 7))\nplt.title(\"Age vs Duration\");\nplt.scatter(data = df, x=\"age\", y=\"duration_min\", alpha = 1\/6)\nplt.ylabel('Duration min')\nplt.xlabel('Age')\nplt.axvline(age_mean,label= 'Mean age '+str(round(age_mean)) , linestyle = '--', color='r')\nplt.legend() \nplt.show()","9869ca9b":"# Relation between member user types and genders \nplt.figure(figsize=(15, 7))\nplt.title(\"User Type vs Gender\");\nsb.countplot(data = df, x = 'member_gender', hue = 'user_type');\nplt.show()","7b247a1b":"plt.figure(figsize=(15, 7))\n#plt.title(\"Sharing vs User type vs Gender\");\nsb.catplot(x=\"user_type\", hue=\"member_gender\", col=\"bike_share_for_all_trip\",\n                data=df, kind=\"count\",);\nplt.show()","faabd8a7":"fig = plt.figure(figsize = [15,7])\nax = plt.subplot(2, 2, 1)\n\nplt.title(\"Male Trips by Hour of Day\");\ndf.groupby([df[df['member_gender']=='Male']['start_time'].dt.hour]).size().plot(c='b')\n\nplt.axvline(8, linestyle = '--', color='r')\nplt.xticks([_ for _ in range(24)])\nplt.axvline(17,linestyle = '--', color='r');\n\nax = plt.subplot(2, 2, 2)\nplt.title(\"Female Trips by Hour of Day\");\ndf.groupby([df[df['member_gender']=='Female']['start_time'].dt.hour]).size().plot(c='DeepPink')\nplt.axvline(8, linestyle = '--', color='r')\nplt.xticks([_ for _ in range(24)])\nplt.axvline(17,linestyle = '--', color='r');\n\nax = plt.subplot(2, 2, 3)\ndf.groupby([df[df['member_gender']=='Male']['end_time'].dt.hour]).size().plot(c='b')\nplt.axvline(8, linestyle = '--', color='r')\nplt.xticks([_ for _ in range(24)])\nplt.axvline(17,linestyle = '--', color='r');\n\nax = plt.subplot(2, 2, 4)\ndf.groupby([df[df['member_gender']=='Female']['end_time'].dt.hour]).size().plot(c='DeepPink')\nplt.axvline(8, linestyle = '--', color='r')\nplt.xticks([_ for _ in range(24)])\nplt.axvline(17,linestyle = '--', color='r');\nplt.show()\n","77f82809":"fig = plt.figure(figsize = [15,7])\nax = plt.subplot(2, 1, 1)\n\nplt.title(\"Trips by days of month\");\ndf.groupby([df[df['member_gender']=='Male']['start_time'].dt.day]).size().plot(c='b', label='Male')\n\n#ax = plt.subplot(2, 1, 2)\n#plt.title(\"Female Trips by days of month\");\ndf.groupby([df[df['member_gender']=='Female']['start_time'].dt.day]).size().plot(c='DeepPink', label='Female')\n#plt.xlabel('X')\nplt.ylabel('Trips')\nplt.legend(loc='best')  # legend text comes from the plot's label parameter.\nplt.show()","10bbfdee":"datetime_2 = datetime.now() - datetime_1\nprint(datetime_2)","5809106f":"## Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?\nIn the exploration, I found that  mean age of the customers is 35 and the minimum is 18 ,Males are using bikes more than females, also most of useres are type of Subscriber, and few of Subscribers share there trips, plus the average time of using \nthe bikes is arround 10 mins. Most of the trips start at 8AM and at 5PM, also the behaviour of both Males and Females customers are the same all over the month. we can recognize that some days didnt prefer to use bikes , may be the weather was not good.\n\n\n\n## Were there any interesting or surprising interactions between features?\nOutside of the main variables of interest,there are users has age of 141 , and there are some has age greter than 100 , it is strange point females age is more than males and few users reserve the bikes for more than 20 mins (and this is strange) Males prefer to use the bikes in 5pm more than 8am while Females prefer to use bikes in the morning than afternoon.","07566161":"1. mean age of the customers is 35 and the min is 18\n2. there are users has age of 141 , and there are some has age greter than 100 , it is strange point","7942f8e6":"Around 90% of users are Subscribers","e455d7f7":"Males are around 75% of the users","07863c4d":"1. both Gender prefer user type Subscriber\n2. Again Males appear as a domenant","200db988":"## Univairate Exploration\n**Analysied features**\n* Gender\n* Users type\n* Age\n* Duration","9d1fee8d":"# Ford GoBike System Data Exploration 1\n\n## Preliminary Wrangling\n\nThis document explores a dataset containing bike trips of 2\/2019 for approximately 174,000 record. with 11 feature ","37ffc462":"1. the average time of using the bikes is arround 10mins\n2. few users reserve the bikes for more than 20 mins (and this is strange, may be due to users keeping their bike rented during work or forget to log off after finishing rides)","dd33bfe3":"## Cleaning Process","a27898f3":"## Multivariate exploration\n**Analysied Features**\n* Sharing vs User type vs Gender\n* Start time vs End time vs Gender\n* Days of the month vs Start time vs Gender","ebad6bf6":"1. most of useres are type of Subscriber\n2. few of Subscribers share there trips\n3. males are the most users ","2e3e664d":"1. Males are using bikes than females\n2. females age is more than males\n3. few customers dont prefer to mention there gender , and they can be neglected","97551143":"1. the behaviour of both Males and Females customers are the same all over the month\n2. we can recognize that some days didnt prefer to use bikes , may be the weather was not good","4d5ea87e":"## Data extraction","678c333f":"### What is the structure of your dataset?\n\nThere are 183412 trip in the dataset with 16 features (duration_sec, start_time, end_time, start_station_id, start_station_name, start_station_latitude, start_station_longitude, end_station_id, end_station_name, end_station_latitude, end_station_longitude, bike_id, user_type, member_birth_year, member_gender and bike_share_for_all_trip). \n\nMost variables are numeric in nature, but the variables start_station_name, end_station_name, user_type ,member_gender and bike_share_for_all_trip are ordered factor variables with the following levels.\n\n\nuser_type: 'Customer', 'Subscriber' <br>\nbike_share_for_all_trip: 'No', 'Yes' <br>\nmember_gender: 'Male', 'Other', 'Female'\n\n### What is\/are the main feature(s) of interest in your dataset?\n\nI'm most interested in figuring out what features are best for analysing the the most used trip and the customer behaviour in the dataset.\n\n### What features in the dataset do you think will help support your investigation into your feature(s) of interest?\n\nI expect that start_station_name and end_station_name will have the strongest effect on most used trip: most repeated stations , the higher the used. I also think that the analysis of type and gender will give clear picture of the bike using.\n","6f5b1895":"## Bivairate Exploration\n**Analysied Features**\n* Gender vs Age\n* Duration vs Age\n* User type and Gender","22ea251b":"1. members ages are between 20 - 40 years tend to do the longest rides durations.\n2. above age 60 riders use the bikes for short duration","7b8b447c":" 1. most of the trips start at 8AM and at 5PM\n 2. Males prefer to use the bikes in 5pm more than 8am\n 3. Females prefer to use bikes in the morning than afternoon"}}