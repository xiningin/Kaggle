{"cell_type":{"a3e2aa77":"code","05fd1dd7":"code","d889aaa0":"code","47b8bb25":"code","8779aeff":"code","6afa0bfb":"code","ef9dae2f":"code","0677c5ab":"code","bef859b1":"code","0e265130":"code","5d2baed8":"code","b17d4c08":"code","8928be20":"code","db9d8cf6":"code","efdae842":"code","95ffa6f2":"code","aec6cd75":"code","e1ebb871":"code","77f1f228":"code","0c6fe36c":"code","f9f3d39d":"code","d32f9f95":"code","da6811f6":"code","2b4b0f9e":"code","71319bdd":"code","cbc52d88":"code","9c1a8234":"code","05da7a6e":"code","7e38b156":"code","394abf2d":"code","f9bae316":"code","f9aaf586":"code","2d10a844":"code","ac5e7552":"code","8f89e0a4":"code","23767c6e":"code","aa6e10a6":"code","75ffe057":"code","e190343b":"code","7a99c63e":"code","8d2b8491":"code","b31080d4":"code","97f954e0":"code","79854cbd":"code","120ae6ff":"code","eab7975a":"code","fe94cf00":"code","60be1fcc":"markdown","2ccf1fb5":"markdown","afb47c1b":"markdown","b96af412":"markdown","7db5f1e9":"markdown","48269383":"markdown","9b378686":"markdown","daf68762":"markdown","ad96577e":"markdown","e5bf0045":"markdown","aab4e98a":"markdown","da981d01":"markdown","1855066c":"markdown","e8c7ab14":"markdown","ab67c4de":"markdown","59f9e2e1":"markdown","6967c71d":"markdown","5abc2246":"markdown","edf6c60a":"markdown","12bc2c75":"markdown","bc9daa73":"markdown","d669dcdc":"markdown","70c5db70":"markdown","e063ecaf":"markdown","aa3febae":"markdown","fc18fa7a":"markdown","9c8b041e":"markdown","a4b47b6a":"markdown","5c3ceb85":"markdown","cfa614e3":"markdown","ecfdd7d7":"markdown","af954dd8":"markdown","d257abc0":"markdown","6af16dc4":"markdown","1f567a8d":"markdown","163b7c80":"markdown","b47e2104":"markdown","ddc0de1f":"markdown","40ac726c":"markdown","879db8ce":"markdown","1ae09dd2":"markdown"},"source":{"a3e2aa77":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime as datetime\nimport plotly.graph_objs as go\nfrom plotly.offline import iplot\nimport plotly.figure_factory as ff\nimport cufflinks\ncufflinks.go_offline()\n\ncufflinks.set_config_file(world_readable=True, theme='pearl', offline=True)\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","05fd1dd7":"data = pd.read_csv('..\/input\/data-analyst-jobs\/DataAnalyst.csv')","d889aaa0":"data.head()","47b8bb25":"data.info()","8779aeff":"data.describe()","6afa0bfb":"print(data.isnull().sum())","ef9dae2f":"data = data.dropna()","0677c5ab":"data = data.drop('Unnamed: 0', axis=1)","bef859b1":"old_columns = data.columns\nnew_columns = ['job_title', 'salary', 'description','rating', 'comp_name','location',\n              'headquarters','comp_size','founded','ownership_type','industry','sector','revenue',\n              'competitors','easy_apply']\ndata = data.rename(columns=dict(zip(old_columns, new_columns)))","0e265130":"data","5d2baed8":"data.salary.unique()","b17d4c08":"data[data.salary=='-1']","8928be20":"data[data.salary=='-1'] = data[data.salary=='-1'].replace('-1', '$0K-$0K (Glassdoor est.)')","db9d8cf6":"salary_min = data.salary.apply(lambda x: x[0:x.index('-')])\nsalary_min = salary_min.apply(lambda x: x[1:(x.find('K'))])\nsalary_max = data.salary.apply(lambda x: x[x.find('-')+1:-1])\nsalary_max = salary_max.apply(lambda x: x[1:(x.find('K'))])","efdae842":"salary_min = pd.to_numeric(salary_min)\nsalary_max = pd.to_numeric(salary_max)\nsalary = (pd.DataFrame(salary_max) + pd.DataFrame(salary_min))\/2\ndata['mean_salary'] = salary.salary.apply(lambda x: int(x))","95ffa6f2":"data.comp_name.head()","aec6cd75":"data['comp_name'] = data['comp_name'].apply(lambda x: x.splitlines()[0])","e1ebb871":"data.location.unique()","77f1f228":"data.headquarters.unique()","0c6fe36c":"data[data.headquarters=='-1']","f9f3d39d":"data = data.replace('-1', 'no information')","d32f9f95":"print('BEFORE REPLACING')\nprint('Company size uniques')\nprint(data.comp_size.unique())\nprint('--------------------')\nprint('Revenue uniques')\nprint(data.revenue.unique())\nprint('--------------------')\ndata['comp_size'] = data['comp_size'].replace('Unknown', 'no information')\ndata['revenue'] = data['revenue'].replace('Unknown \/ Non-Applicable', 'no information')\nprint('AFTER REPLACING')\nprint('Company size uniques')\nprint(data.comp_size.unique())\nprint('--------------------')\nprint('Revenue uniques')\nprint(data.revenue.unique())","da6811f6":"print('Ownership type uniques')\nprint(data.ownership_type.unique())\nprint('Industry uniques')\nprint(data.industry.unique())\nprint('Sector uniques')\nprint(data.sector.unique())","2b4b0f9e":"print(data.easy_apply.unique())\nprint('There is {:.2f} % rows with such values in these columns'.format(\n    len(data[(data.competitors=='$0K-$0K (Glassdoor est.)')|(data.easy_apply=='no information')|\n             (data.easy_apply=='$0K-$0K (Glassdoor est.)')])\/len(data)*100))","71319bdd":"data = data.drop(['competitors', 'easy_apply'], axis=1)","cbc52d88":"data = data.replace(-1, 0)","9c1a8234":"data.head()","05da7a6e":"px.bar(data.job_title.value_counts().reset_index().head(30), x='index', y='job_title', labels={'index':'job title', 'job_title':'amount of vacancies'},\n                                                                                             title = 'Names of vacancies distribution',\n      color = 'job_title')","7e38b156":"px.bar(data.salary.value_counts().reset_index(), x='index', y='salary', labels={'index':'salary', 'salary':'amount of vacancies'},\n                                                                                             title = 'Salary distribution',\n      color = 'salary')","394abf2d":"salary_df = pd.DataFrame({'minn':salary_min, 'maxx':salary_max, 'meann':data.mean_salary})\nsalary_df = salary_df[(salary_df.minn!=0)|(salary_df.maxx!=0)|(salary_df.meann!=0)]\nfig = go.Figure()\nfig.add_trace(go.Box(y=salary_df['minn'].values, name = 'Min salary boxplot'))\nfig.add_trace(go.Box(y=salary_df['maxx'].values, name = 'Max salary boxplot'))\nfig.add_trace(go.Box(y=salary_df['meann'].values, name = 'Mean salary boxplot'))","f9bae316":"px.histogram(data[data.sector!='no information'], x='sector', color='sector', title = 'Amount of vacancies in each sector')","f9aaf586":"data['state']=data['location'].apply(lambda x: x.split(',')[1])\ndata['location']=data['location'].apply(lambda x: x.split(',')[0])","2d10a844":"px.histogram(data, x='state', color='state', title = 'Amount of vacancies in each state')","ac5e7552":"v=pd.DataFrame(data.groupby('revenue').mean_salary.value_counts()).rename(columns={'mean_salary':'amount of vacancies'}).reset_index()\nv=v[v.revenue!='no information']\ndictionary={'Less than $1 million (USD)':1,'$1 to $5 million (USD)':2,\n                                                    '$5 to $10 million (USD)':3,'$10 to $25 million (USD)':4,\n                                                    '$25 to $50 million (USD)':5,'$50 to $100 million (USD)':6,\n                                                    '$100 to $500 million (USD)':7,'$500 million to $1 billion (USD)':8,\n                                                    '$1 to $2 billion (USD)':9,'$2 to $5 billion (USD)':10,'$5 to $10 billion (USD)':11,\n                                                    '$10+ billion (USD)':12,'no information':0}\nv['rang'] = v['revenue'].map(dictionary)\nv=v.sort_values('rang')","8f89e0a4":"px.scatter(v[v.mean_salary!=0], x='mean_salary', y='revenue', size='amount of vacancies', color='mean_salary',\n          title = 'Amount of vacancies with each salaries in companies grouped by revenue')","23767c6e":"v=pd.DataFrame(data.groupby('comp_size').mean_salary.value_counts()).rename(columns={'mean_salary':'amount of vacancies'}).reset_index()\nv=v[v.comp_size!='no information']\ndictionary={'1 to 50 employees':1, '51 to 200 employees':2, '201 to 500 employees':3,\n                                                        '501 to 1000 employees':4,'1001 to 5000 employees':5, '5001 to 10000 employees':6,\n                                                         '10000+ employees':7,'no information':0}\nv['rang'] = v['comp_size'].map(dictionary)\nv=v.sort_values('rang')","aa6e10a6":"px.scatter(v[v.mean_salary!=0], x='mean_salary', y='comp_size', size='amount of vacancies', color='mean_salary',\n           title = 'Amount of vacancies with each mean salarie in companies grouped by company size')","75ffe057":"y=pd.DataFrame(data.groupby(['industry','sector']).mean_salary.mean().reset_index())\npx.scatter(y, x='industry', y='sector', color='mean_salary', size='mean_salary')","e190343b":"px.scatter(data[data.rating!=0], x='state', y='sector', color='rating', hover_data=['comp_name'], size='mean_salary',\n          title = 'Vacancy Map')","7a99c63e":"top = data[(data.rating>4.6)&(data.mean_salary>69)].sort_values(['mean_salary','rating'],ascending=False )","8d2b8491":"px.histogram(top, x='state', title = 'State distribution for top vacancies', color='state')","b31080d4":"px.histogram(top, x='industry', title = 'Industry distribution for top vacancies', color='sector')","97f954e0":"px.box(top.mean_salary.values, title = 'Salary description for top vacancies')","79854cbd":"junior = data[(data['job_title'].str.contains('junior'))|(data['job_title'].str.contains('Junior'))]\njunior.head(10)","120ae6ff":"px.box(junior, junior.mean_salary.values, hover_data=['comp_name'], title = 'Junior Analysts salary')","eab7975a":"px.scatter(junior, x='state', y='sector', color='rating', hover_data=['comp_name'], size='mean_salary',\n          title = 'Vacancy Map for Juniors')","fe94cf00":"px.histogram(junior, x='state', color='mean_salary')","60be1fcc":"### Getting rid of one row with missing value in company name column","2ccf1fb5":"# Information you will gain from this notebook:\n## 1. how data analysts labour market looks like\n### a. what salary they may get\n### b. which industry and sector need them\n### c. which state offers a lot of vacancies\n## 2. What you need to highlight for getting a high salary data analyst job\n### a. company size and salary relationship\n### b. revenue and salary relationship\n### c. rich data analysts state\n### d. rich data analyst industry\n## 3. Top vacancies from best companies with high salaries\n## 4. Information for Juniors\n### a. the best state for juniors\n### b. the best industry for juniors\n### c. which salary juniors may expect\n\n# Also here you can see step by step data preparation","afb47c1b":"### Salary description for junior analysts","b96af412":"### Replace this '-1' to standard form of '(min salary) - (max salary) (Glassdoor est.)' for next replacement (min and max values for this row is 0)","7db5f1e9":"### Data for analysis","48269383":"### Salary column is represented in text form, so see unique values","9b378686":"# Data Analysis","daf68762":"# Data preparation","ad96577e":"### See rows with headquarters with '-1' value","e5bf0045":"### What sectors need Data Analysts the most?\n### The answer is IT and Business Services","aab4e98a":"### In rating and founded columns we have -1 values,change it to 0.","da981d01":"### Checkinng missing values","1855066c":"### Where are top vacancies? In CA","e8c7ab14":"### There is too much rows with such values in these columns, so let's delete competitors and easy apply columns","ab67c4de":"### Preparation of salary column, where we find max and min salary for each vacancy and then calculate mean salary for every one","59f9e2e1":"### What sector and industry specilist should choose to get high salary?\n### The answer is Education Sector in Education Training Services, Retail in Drug & Health Srores and Manufacturing in Health Care Products Manufacturing\n### The lowest salary in Arts, Entertainment & Recreation sector in Audiovisual industry","6967c71d":"### As we can see there is 171 rows with '-1' values in headquarters column. But all these rows have '-1' in rating, company size, founded, ownership type, industry, sector, revenue columns, so I have decided to replace '-1' to 'no information'.","5abc2246":"Data columns:\n* unnamed\n* Job title\n* salary estimate\n* job description\n* rating\n* company name\n* location\n* headquarters\n* size\n* founded\n* type of ownnership\n* industry\n* sector\n* revenue\n* competitors\n* easy apply","edf6c60a":"### In ownership type, industry and sector columns we have a lot of text data, which doesn't have mistakes","12bc2c75":"### Highlight top vacancies from companies with rating > 4.6 and salary > 68 K (becouse it is median salary from mean_salary column)","bc9daa73":"### See unique values in company size and revenue columns. 'Unknown', 'Unknown \/ Non-Applicable' and 'no information' mean the same, so I will replace first and second values to 'information'","d669dcdc":"### Getting rid of Unnamed column, becouse there is no information","70c5db70":"### Looking at the data","e063ecaf":"### Taking some information about the data","aa3febae":"### In easy apply and competitors we have values '0K-0K (Glassdoor est.)', which we've got after thirst data preparation step with salary. And in easy_apply column we have changed '-1' to 'no information', so let's check how many such rows we have","fc18fa7a":"### Vacancy map\n### The larger and more yellow the circle, the better the vacancy","9c8b041e":"### See min, max and mean salary distribution specialists cn expect","a4b47b6a":"### Loction column is represented in text form and there is no mistakes, so we don't have to do anything with it.","5c3ceb85":"### What states need Data Analysts the most?\n### The answer is CA, NY and TX","cfa614e3":"### Vacancy map for juniors: the larger and more yellow the circle, the better the vacancy.\n### The majority of vacancies are from good companies with rating 5.","ecfdd7d7":"### The majority of values is represented in '(min salary) - (max salary) (Glassdoor est.)'form, but there is columns with '-1'","af954dd8":"### Deletting rating values from company name columns","d257abc0":"### What salaries can data analysts expect","6af16dc4":"### In which industry and sectors top vacancies are? The answer is IT services","1f567a8d":"### Headquarters column is represented in text form by sample 'City, State', but there is -1 value","163b7c80":"### See company name column. There is a mistake: ratings are at the end of each line","b47e2104":"### What states need juniors and what salary they are ready to pay","ddc0de1f":"### See how companies name specialists in Data Analysis sphere","40ac726c":"### Renaming columns for comfortable queries","879db8ce":"### Finding vacancies for juniors","1ae09dd2":"### Hey, thank you for watching this notebook \u2665 Please upvote if you like it"}}