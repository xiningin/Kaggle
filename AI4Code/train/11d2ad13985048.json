{"cell_type":{"3764e324":"code","e39d79cb":"code","dc7787c4":"code","eceb6438":"code","8612ee3d":"code","4621fde3":"code","f76a691d":"code","091c5459":"code","8d463df8":"code","eafeb121":"markdown","d1a18dd3":"markdown","5757e361":"markdown","98cf1810":"markdown","33aa0221":"markdown","61f4555c":"markdown"},"source":{"3764e324":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt","e39d79cb":"dt = ['2020-1-'+str(i) for i in range(1,32)] +\\\n        ['2020-2-'+str(i) for i in range(1,29)] +\\\n        ['2020-3-'+str(i) for i in range(1,32)]\n#         ['2020-4-'+str(i) for i in range(1,31)] +\\\n#         ['2020-5-'+str(i) for i in range(1,32)] +\\\n#         ['2020-6-'+str(i) for i in range(1,31)] +\\\n#         ['2020-7-'+str(i) for i in range(1,32)] +\\\n#         ['2020-8-'+str(i) for i in range(1,32)] +\\\n#         ['2020-9-'+str(i) for i in range(1,31)] +\\\n#         ['2020-10-'+str(i) for i in range(1,32)] +\\\n#         ['2020-11-'+str(i) for i in range(1,31)] +\\\n#         ['2020-12-'+str(i) for i in range(1,32)]\n\ndt = pd.to_datetime(dt)\ndt","dc7787c4":"#1 2 3 4 5 4 3 2 1 2 3 4 5 4 3 2 1\nx = 10\nper = lambda i : abs(10-(i-x)%(x*2))","eceb6438":"value = [np.random.randint(500)*100 + per(i)*8000 for i in range(31+28+31)]#+30+31+30+31+31+30+31+30+31)]","8612ee3d":"plt.figure(figsize=(25,10))\nplt.plot(value)","4621fde3":"df = pd.DataFrame({'dt' : dt , 'value' : value})\ndf","f76a691d":"def Differencing(df, value_feature,times):\n    df = df.copy()\n    df[f'{value_feature}_dif_0'] = df[value_feature]\n    for i in range(times):\n        df[f'{value_feature}_dif_{i+1}'] = df[f'{value_feature}_dif_{i}'].shift(0)-df[f'{value_feature}_dif_{i}'].shift(1)\n    \n    df = df.drop(columns=f'{value_feature}_dif_0')\n    return df","091c5459":"df_dif = Differencing(df, 'value', 4)\ndf_dif","8d463df8":"plt.figure(figsize=(25,10))\nfor i in range(4):\n    plt.figure(figsize=(25,10))\n    plt.plot(s['value'])\n    plt.plot(s[f'value_dif_{i+1}'])\n    plt.legend(['value', f'value_dif_{i+1}'], fontsize=24)\n    plt.show()","eafeb121":"# Library","d1a18dd3":"https:\/\/www.kaggle.com\/pollakrit\/differencing-method","5757e361":"# Generate Data","98cf1810":"# Apply Method","33aa0221":"# Kaggle Link","61f4555c":"# Differencing Method"}}