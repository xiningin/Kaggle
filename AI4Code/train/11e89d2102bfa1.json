{"cell_type":{"aa5bd013":"code","57a417a0":"code","aa9e5318":"code","7a50a672":"code","a4de1a30":"code","6f67afd4":"code","1ce8e062":"code","a4b57fff":"code","0ae28e2f":"code","cfc297e9":"code","a8f132a1":"code","8926dd0e":"code","9524a6bd":"code","17cbfdf5":"code","60c208bc":"code","a293be60":"code","51fd61fe":"code","70066e18":"code","8299c066":"code","f7e037db":"code","ad937724":"code","dd998949":"code","e38a164e":"code","49cb6990":"code","7757f935":"code","25946a40":"code","63ad648f":"code","4c728e7a":"code","0e633d18":"code","b7d26b7e":"code","a4d290b9":"code","de470eb6":"code","a6b69025":"code","42252752":"code","96d92785":"markdown","d14d1b98":"markdown","fda83f66":"markdown","75177deb":"markdown","bff6fd03":"markdown","2ac85a57":"markdown","69d77044":"markdown","3b59e13a":"markdown","1537a613":"markdown","1dec5f42":"markdown","70fd6adf":"markdown","91eaa9bc":"markdown","f153c84c":"markdown","b104ee84":"markdown","6eb31ad0":"markdown","75671d36":"markdown","98ec0808":"markdown","7e02dfe8":"markdown","e30f9150":"markdown","ec73132e":"markdown","406de2a9":"markdown","ea8ac0cd":"markdown","83e246f3":"markdown","b07863a5":"markdown","e4da52c6":"markdown","6fbae2ed":"markdown","bc5f33ec":"markdown","5ca22659":"markdown","008b9a82":"markdown","392184ca":"markdown","479ffe54":"markdown","53da897e":"markdown","fb291511":"markdown","cc438383":"markdown","d036befd":"markdown","f525fdea":"markdown","b64a5d1c":"markdown","b4cd0993":"markdown","535e0acc":"markdown","718ee685":"markdown","5905e432":"markdown"},"source":{"aa5bd013":"import numpy as np\nimport matplotlib.pyplot as plt\n\nsmooth = 20","57a417a0":"x = np.array([1.0, 2.0, 2.5, 4.0, 6.0, 8.0, 8.5])\ny = np.array([0.4, 0.7, 0.8, 1.0, 1.2, 1.3, 1.4])","aa9e5318":"plt.figure(figsize=(12,9))\nplt.scatter(x, y, c='#0000FF')\nplt.grid()\nplt.xlabel('x')\nplt.ylabel('y') \nplt.show()","7a50a672":"n = len(x)\ndef regresiLinear(xr,yr):\n    xryr = xr*yr\n    xr2 = xr*xr\n    br = (n*xryr.sum()-xr.sum()*yr.sum())\/(n*xr2.sum()-xr.sum()**2)\n    ar = (np.mean(yr) - br*np.mean(xr))\n    return ar, br\n\na1, b1 = regresiLinear(x,y)\nprint(\"a = {}\\nb = {}\".format(a1,b1))","a4de1a30":"s1 = \"y = {:.7f} + {:.7f}x\".format(a1, b1)\nprint(\"Persamaan Linear (LSE): y = {}\".format(s1))","6f67afd4":"def eval1(l):\n    return (a1+b1*l)\n\ndef MSE(yPredr):\n    yDtr = (y-y.mean())**2\n    yDr = (y - yPredr)**2\n    return (yDr.sum()\/n)\n\nyPred1 = eval1(x)\nmodelMSE1 = MSE(yPred1)\nbaseMSE = MSE(y.mean())\nprint(\"Mean Squared Error (MSE) = {}\".format(modelMSE1))","1ce8e062":"def RMSE(r):\n    return np.sqrt(r)\n\nmodelRMSE1 = RMSE(modelMSE1)\nprint(\"Root Mean Squared Error (RMSE) = {}\".format(modelRMSE1))","a4b57fff":"def MAE(yPredr):\n    dAbsr = np.absolute(y - yPredr)\n    return (dAbsr.sum()\/n)\n\nmodelMAE1 = MAE(yPred1)\nprint(\"Mean Absolute Error (MAE)) = {}\".format(modelMAE1))","0ae28e2f":"def rR(MSEmr):\n    Rr = (1 - (MSEmr\/baseMSE))\n    rr = np.sqrt(Rr)\n    return rr, Rr\n\nr1, R1 = rR(modelMSE1)\nprint(\"Koefisien Korelasi (r) = {}\\nDerajat Kesesuaian (R) = {}\".format(r1, R1))","cfc297e9":"def plot(s,f):\n    xreg = np.array(np.arange(int(x[0]-1)*smooth,int(x[-1]+1)*smooth))\n    xreg = xreg\/smooth\n    print(\"x regresi: {}\".format(xreg))\n    yreg = (f(xreg))\n    print(\"y regresi: {}\".format(yreg))\n    plt.figure(figsize=(12,9))\n    plt.scatter(x, y, c=\"#0000FF\", label=\"Data\")\n    plt.plot(xreg, yreg, \"r\", label=s)\n    plt.legend(loc=\"lower right\")\n    plt.grid()\n    plt.xlabel('x')\n    plt.ylabel('y')\n    \nplot(s1, eval1)","a8f132a1":"p = np.log(x)\nq = np.log(y)\n\nA2, B2 = regresiLinear(p,q)\nprint(\"A = {}\\nB = {}\".format(A2, B2))","8926dd0e":"a2 = np.exp(A2)\nb2 = B2\ns2 = \"{:.7f}x^({:.7f})\".format(a2,b2)\nprint(\"Persamaan Berpangkat: y = {}\".format(s2))","9524a6bd":"def eval2(l):\n    return (a2*(l**b2))\n\nyPred2 = eval2(x)\nmodelMSE2 = MSE(yPred2)\nprint(\"Mean Squared Error (MSE) = {}\".format(modelMSE2))","17cbfdf5":"modelRMSE2 = RMSE(modelMSE2)\nprint(\"Root Mean Squared Error (RMSE) = {}\".format(modelRMSE2))","60c208bc":"modelMAE2 = MAE(yPred2)\nprint(\"Mean Absolute Error (MAE) = {}\".format(modelMAE2))","a293be60":"r2, R2 = rR(modelMSE2)\nprint(\"Koefisien Korelasi (r) = {}\\nDerajat Kesesuaian (R) = {}\".format(r2, R2))","51fd61fe":"plot(s2, eval2)","70066e18":"v = x\nw = np.log(y)\n\nA3, B3 = regresiLinear(v, w)\nprint(\"A = {}\\nB = {}\".format(A3, B3))","8299c066":"a3 = np.exp(A3)\nb3 = B3\ns3 = \"{:.7f}e^({:.7f}x)\".format(a3,b3)\nprint(\"Persamaan Eksponensial: y = {}\".format(s3))","f7e037db":"def eval3(l):\n    return (a3 * (np.e**(l*b3)))\n\nyPred3 = eval3(x)\nmodelMSE3 = MSE(yPred3)\nprint(\"Mean Squared Error (MSE) = {}\".format(modelMSE3))","ad937724":"modelRMSE3 = RMSE(modelMSE3)\nprint(\"Root Mean Squared Error (RMSE) = {}\".format(modelRMSE3))","dd998949":"modelMAE3 = MAE(yPred3)\nprint(\"Mean Absolute Error (MAE) = {}\".format(modelMAE3))","e38a164e":"r3, R3 = rR(modelMSE3)\nprint(\"Koefisien Korelasi (r) = {}\\nDerajat Kesesuaian (R) = {}\".format(r3, R3))","49cb6990":"plot(s3, eval3)","7757f935":"orde = 3\n\ndef ai(i):\n    return [np.sum(x**j) for j in range(i,i+orde+1)]\n\nA4 = np.matrix([ai(i) for i in range(0,orde+1)])\nprint(\"Matriks A:\")\nprint(A4)","25946a40":"B4 = np.array([np.sum((x**i)*y) for i in range(0,orde+1)])\nprint(\"Matriks B:\")\nprint(B4)","63ad648f":"X4 = np.linalg.inv(A4).dot(B4)\nprint(\"Didapatkan Matriks X:\")\nprint(X4)","4c728e7a":"print(\"Persamaan Polinomial orde-{}: y = \".format(orde), end=\"\")\ns4 = \"\"\nfor i,j in enumerate(np.nditer(X4)):\n    if(i==0):\n        now = \"{:.7f}\".format(j) \n        print(now, end=\"\")\n        s4 += now\n    else:\n        now = \" + {:.7f}x^{}\".format(j,i)\n        print(now, end=\"\")\n        s4 += now","0e633d18":"def eval4(l, coeff):\n    result = coeff[-1]\n    for i in range(-2, -len(coeff)-1, -1):\n        result = result*l + coeff[i]\n    return result\n\nyPred4 = np.array([eval4(i,X4.tolist()[0]) for i in x.tolist()])\nmodelMSE4 = MSE(yPred4)\nprint(\"Mean Squared Error (MSE) = {}\".format(modelMSE4))","b7d26b7e":"modelRMSE4 = RMSE(modelMSE4)\nprint(\"Root Mean Squared Error (RMSE) = {}\".format(modelRMSE4))","a4d290b9":"modelMAE4 = MAE(yPred4)\nprint(\"Mean Absolute Error (MAE) = {}\".format(modelMAE4))","de470eb6":"r4, R4 = rR(modelMSE4)\nprint(\"Koefisien Korelasi (r) = {}\\nDerajat Kesesuaian (R) = {}\".format(r4, R4))","a6b69025":"xreg4 = np.array(range(int(x[0]-1)*smooth,int(x[-1]+1)*smooth))\nxreg4 = xreg4\/smooth\nprint(\"x regresi: {}\".format(xreg4))\nyreg4 = np.array([eval4(i,X4.tolist()[0]) for i in xreg4.tolist()])\nprint(\"y regresi: {}\".format(yreg4))","42252752":"plt.figure(figsize=(12,9))\nplt.scatter(x, y, c=\"#0000FF\", label=\"Data\")\nplt.plot(xreg4, yreg4, \"r\", label=\"y = \" + s4)\nplt.legend(loc=\"lower right\")\nplt.grid()\nplt.xlabel('x')\nplt.ylabel('y')","96d92785":"### Root Mean Squared Error (RMSE)\nMatriks evaluasi yang kedua adalah Root Mean Squared Error (RMSE). RMSE dirumuskan dengan\n$$RMSE = \\sqrt{MSE} = \\sqrt{\\frac{1}{n}\\sum_{i=1}^n(y_i-\\hat{y_i})^2} = \\sqrt{\\frac{1}{n}\\sum_{i=1}^n(y_i-a-bx_i)^2}$$","d14d1b98":"### Koefisien Korelasi ($r$) dan Derajat Kesesuaian ($R$)\nMatriks evaluasi yang terakhir adalah derajat kesesuaian, untuk mengukur derajat kesesuaian dari persamaan yang didapat, dihitung nilai koefisien korelasi $r$ dan derajat kesesuaian $R$:\n$$R = r^2$$\n$$r = \\sqrt{\\frac{D_t-D}{D_t}} = \\sqrt{1-\\frac{MSE(model)}{MSE(baseline)}}$$\ndengan\n$$D_t = MSE(baseline)n = n\\frac{1}{n}\\sum_{i=1}^n(y_i-\\bar{y})^2 = \\sum_{i=1}^n(y_i-\\bar{y})^2$$\n$$D = MSE(model)n = n\\frac{1}{n}\\sum_{i=1}^n(y_i-a-bx_i)^2 = \\sum_{i=1}^n(y_i-a-bx_i)^2$$","fda83f66":"### Mean Squared Error (MSE)","75177deb":"## Plot Garis Regresi","bff6fd03":"### Mean Squared Error (MSE)","2ac85a57":"# Inisialisasi Awal","69d77044":"# Input Data","3b59e13a":"### Root Mean Squared Error (RMSE)","1537a613":"## Plot Garis Regresi","1dec5f42":"1. Hitung persamaan garis (linear) yang mewakilinya dan koefisien korelasinya\n2. Hitung persamaan berpangkat yang mewakilinya dan koefisien korelasinya\n3. Hitung persamaan eksponensial yang mewakilinya dan hitung koefisien korelasinya\n4. Hitung persamaan polinomial (orde-3) yang mewakilinya dan hitung koefisien korelasinya","70fd6adf":"# Deskripsi Soal\nDiberikan data sebagai berikut","91eaa9bc":"### Mean Absolute Error (MAE)\nMatriks evaluasi yang ketiga adalah Mean Absolute Error (MAE). MAE dirumuskan dengan\n$$MSE = \\frac{1}{n}\\sum_{i=1}^n|y_i-\\hat{y_i}| = \\frac{1}{n}\\sum_{i=1}^n|y_i-a-bx_i|$$","f153c84c":"## Metrik Evaluasi","b104ee84":"### Mean Squared Error (MSE)","6eb31ad0":"# Regresi Nonlinear (Persamaan Polinomial Orde-3)\n## Perhitungan\nPersamaan nonlinear polinimial orde-r $$y = a_o + a_1x + a_2x^2 + \\dots + a_rx^r$$\ndapat kita cari dengan menggunakan jumlah kuadrat eror ($D$) \n$$D = \\sum_{i=1}^n E_i = \\sum_{i=1}^n (y_i - (a_o + a_1x + a_2x^2 + \\dots + a_rx^r))^2$$\nagar nilai $D$ minimum maka kita turunkan persamaan $D$ terhadap tiap-tiap koefisien dari polinomial dan kemudian disamadengankan nol sehingga\n$$\\frac{\\partial{D}}{\\partial{a_0}} = -2\\sum_{i=1}^n(y_i - (a_o + a_1x_i + a_2x_i^2 + \\dots + a_rx_i^r)) = 0$$\n$$\\frac{\\partial{D}}{\\partial{a_1}} = -2\\sum_{i=1}^{n}x_i(y_i - (a_o + a_1x_i + a_2x_i^2 + \\dots + a_rx_i^r)) = 0$$\n$$\\frac{\\partial{D}}{\\partial{a_2}} = -2\\sum_{i=1}^{n}x_i^2(y_i - (a_o + a_1x_i + a_2x_i^2 + \\dots + a_rx_i^r)) = 0$$\n$$\\vdots$$\n$$\\frac{\\partial{D}}{\\partial{a_r}} = -2\\sum_{i=1}^{n}x_i^r(y_i - (a_o + a_1x_i + a_2x_i^2 + \\dots + a_rx_i^r)) = 0$$\nDapat kita lihat bahwa persamaan diatas dapat kita selesaikan dengan menggunakan metode persamaan linear $AX = B$ dengan\n$$\\begin{gather}  \\begin{bmatrix} n & \\sum{x_i} & \\sum{x_i^2} & \\cdots & \\sum{x_i^r} \\\\ \\sum{x_i} & \\sum{x_i^2} & \\sum{x_i^3} & \\cdots & \\sum{x_i^{r+1}} \\\\ \\sum{x_i^2} & \\sum{x_i^3} & \\sum{x_i^4} & \\cdots & \\sum{x_i^{r+2}} \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ \\sum{x_i^r} & \\sum{x_i^{r+1}} & \\sum{x_i^{r+2}} & \\cdots & \\sum{x_i^{r+r}} \\\\ \\end{bmatrix} \\begin{bmatrix} a_0 \\\\ a_1 \\\\ a_2 \\\\ \\vdots \\\\ a_r \\end{bmatrix} = \\begin{bmatrix} \\sum{y_i} \\\\ \\sum{x_iy_i} \\\\ \\sum{x_i^2y_i} \\\\ \\vdots \\\\ \\sum{x_i^ry_i} \\end{bmatrix}  \\end{gather}$$","75671d36":"Matrik $X$ dapat kita cari dengan $$X = A^{-1}B$$","98ec0808":"## Plot Garis Regresi","7e02dfe8":"## Metrik Evaluasi","e30f9150":"### Root Mean Squared Error (RMSE)","ec73132e":"### Mean Squared Error (MSE)\nMatriks evaluasi yang pertama adalah Mean Squared Error (MSE). MSE dirumuskan dengan\n$$MSE = \\frac{1}{n}\\sum_{i=1}^n(y_i-\\hat{y_i})^2 = \\frac{1}{n}\\sum_{i=1}^n(y_i-a-bx_i)^2$$","406de2a9":"| x | y |\n|------|------|\n| 1 | 0.4 |\n| 2 | 0.7 |\n| 2.5 | 0.8 |\n| 4 | 1.0 |\n| 6 | 1.2 |\n| 8 | 1.3 |\n| 8.5 | 1.4 |","ea8ac0cd":"Dalam hal ini kita ingin mencari persamaan polinimial orde-3. Untuk itu kita membutuhkan matriks $A = (a_{ij}) \\in \\mathbb{R}^{4x4}$, $X = (x_{ij}) \\in \\mathbb{R}^{4x1}$, dan $B = (b_{ij}) \\in \\mathbb{R}^{4x1}$\n$$\nA = \n    \\begin{bmatrix}\n    n & \\sum{x_i} & \\sum{x_i^2} & \\sum{x_i^3} \\\\\n    \\sum{x_i} & \\sum{x_i^2} & \\sum{x_i^3} & \\sum{x_i^{4}} \\\\\n    \\sum{x_i^2} & \\sum{x_i^3} & \\sum{x_i^4} & \\sum{x_i^{5}} \\\\\n    \\sum{x_i^3} & \\sum{x_i^4} & \\sum{x_i^5} & \\sum{x_i^{6}} \\\\\n    \\end{bmatrix}\n$$\n$$ $$\n$$\nX = \n    \\begin{bmatrix}\n    a_0 \\\\\n    a_1 \\\\\n    a_2 \\\\\n    a_3 \\\\\n    \\end{bmatrix}\n$$\n$$ $$\n$$\nB = \n    \\begin{bmatrix}\n    \\sum{y_i} \\\\\n    \\sum{x_iy_i} \\\\\n    \\sum{x_i^2y_i} \\\\\n    \\sum{x_i^3y_i}\n    \\end{bmatrix}\n$$\nSedemikian rupa sehingga \n$$ AX = B $$","83e246f3":"### Root Mean Squared Error (RMSE)","b07863a5":"### Mean Absolute Error (MAE)","e4da52c6":"# Regresi Linear (LSE)\n## Perhitungan\nKita mencari persamaan linear $$y = a + bx$$\ndengan menggunakan jumlah kuadrat eror ($D$) $$D = \\sum_{i=1}^n E_i = \\sum_{i=1}^n (y_i - a - bx_i)^2$$\nagar nilai $D$ minimum maka kita turunkan persamaan $D$ terhadap paramater $a$ dan $b$ dan kemudian disamadengankan nol sehingga kita mendapat persamaan $a$ dan $b$ sebagai berikut\n$$a = \\overline{y} - b\\overline{x}$$\n$$ $$\n$$b = \\frac{n\\sum_{i=1}^nx_iy_i-\\sum_{i=1}^nx_i\\sum_{i=1}^ny_i}{n\\sum_{i=1}^nx_i^2-(\\sum_{i=1}^nx_i)^2}$$","6fbae2ed":"### Mean Absolute Error (MAE)","bc5f33ec":"### Koefisien Korelasi ($r$) dan Derajat Kesesuaian ($R$)","5ca22659":"### Koefisien Korelasi ($r$) dan Derajat Kesesuaian ($R$)","008b9a82":"## Metrik Evaluasi\nAda beberapa matriks evaluasi yang dapat digunakan untuk mengevaluasi model yang telah didapat. ","392184ca":"### Koefisien Korelasi ($r$) dan Derajat Kesesuaian ($R$)","479ffe54":"## Persamaan Regresi","53da897e":"# Regresi Nonlinear (Persamaan Eksponensial)\n## Perhitungan\nKita mencari persamaan nonlinear eksponensial $$y = ae^{bx}$$\nUntuk menyelesaikannya, kita dapat melinearkan persamaan tersebut menjadi $$\\ln{y} = bx\\ln{e}+\\ln{a}$$\nSelanjutnya kita dapat menggunakan metode regresi linear (LSE) untuk menyelesaikan persamaan diatas dengan $v = x$ dan $w = \\ln{y}$ sehingga menjadi\n$$ w = A + Bv$$","fb291511":"## Persamaan Regresi","cc438383":"## Plot Garis Regresi","d036befd":"### Penyelesaian Sistem Persamaan Linear $AX = B$","f525fdea":"# Regresi Nonlinear (Persamaan Berpangkat)\n## Perhitungan\nKita mencari persamaan nonlinear berpangkat $$y = ax^b$$\nUntuk menyelesaikannya, kita dapat melinearkan persamaan tersebut menjadi $$\\log{y} = b\\log{x}+\\log{a}$$\nSelanjutnya kita dapat menggunakan metode regresi linear (LSE) untuk menyelesaikan persamaan diatas dengan $p = \\log{x}$ dan $q = \\log{y}$ sehingga menjadi\n$$ q = A + Bp$$","b64a5d1c":"## Metrik Evaluasi","b4cd0993":"## Persamaan Regresi","535e0acc":"## Persamaan Regresi","718ee685":"## Scatter Plot Data","5905e432":"### Mean Absolute Error (MAE)"}}