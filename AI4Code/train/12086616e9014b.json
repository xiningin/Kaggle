{"cell_type":{"541a8b06":"code","79348121":"code","c53952c7":"code","f836ead9":"code","2fb1bed4":"code","2888fc4c":"code","fb411350":"code","491d9e2d":"code","a10c7d9b":"code","72de482f":"code","0f267517":"code","4a089f16":"code","ca957290":"code","27af12d7":"code","ea857d10":"code","13e8cf50":"code","2aa9f3f3":"code","ab59d351":"code","15bcf5da":"code","fa547b7d":"code","24e88464":"code","23db5afa":"code","d9a8e4d7":"code","caa3a8aa":"code","e308beb6":"code","2c32b875":"code","e563f20c":"code","7445e50a":"code","693faaad":"code","446cdef9":"code","d87e0cb4":"code","9779b6b2":"code","b67d90c6":"code","7f2f2bad":"code","199701d1":"code","9230f42d":"code","b2972e72":"markdown","248f022c":"markdown","2bf2aa1f":"markdown","ca38f195":"markdown","5a0ff5a8":"markdown","2a130d6d":"markdown","013c20a9":"markdown","f32e88ee":"markdown","885f1da1":"markdown","c03b570c":"markdown","d6576642":"markdown","c2065e5b":"markdown","27c4e365":"markdown","635389b9":"markdown","4014c704":"markdown","c6170531":"markdown","8ebe5649":"markdown","e32b1566":"markdown","b32df1cb":"markdown","37bf3040":"markdown","a6ee4d0e":"markdown","926302de":"markdown","02f068a6":"markdown","aad88a5f":"markdown","dbce98ba":"markdown","1cfdfc5d":"markdown","71e729ae":"markdown","dad06232":"markdown","2c363581":"markdown","e7ec7afc":"markdown","c0b3944e":"markdown","6d4dacfd":"markdown","faccaf59":"markdown","a6c5c005":"markdown","75c8148a":"markdown"},"source":{"541a8b06":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","79348121":"import matplotlib.pyplot as plt\nimport random\nimport math\nfrom collections import defaultdict\n\nimport statsmodels.formula.api as smf\n\nfrom matplotlib import style\nstyle.use('fivethirtyeight')","c53952c7":"train = pd.read_csv('\/kaggle\/input\/home-data-for-ml-course\/train.csv')\ntest = pd.read_csv('\/kaggle\/input\/home-data-for-ml-course\/test.csv')\nsubmission = pd.read_csv('\/kaggle\/input\/home-data-for-ml-course\/sample_submission.csv')","f836ead9":"train.head()","2fb1bed4":"train.shape","2888fc4c":"##independent variable\/feature\n\nlotarea = train.LotArea.values\n\n##dependent variable\/target\n\nprice = train.SalePrice.values","fb411350":"print(len(price), len(lotarea))","491d9e2d":"train.LotArea.value_counts()","a10c7d9b":"train.SalePrice.value_counts()","72de482f":"train.LotArea.hist()","0f267517":"outliers = []\n\nfor i in lotarea:\n    if i > np.mean(lotarea) + np.std(lotarea):\n        outliers.append(i)\n    elif i < np.mean(lotarea) - np.std(lotarea):\n        outliers.append(i)","4a089f16":"print(len(outliers))\nprint(len(lotarea))","ca957290":"def EvalCdf(sample, x):\n    count = 0\n    \n    for i in sample:\n        if i <= x:\n            count += 1\n    prob = count \/ len(sample)\n    return prob","27af12d7":"cdf_lotarea = [EvalCdf(lotarea, x) for x in sorted(lotarea)]\ncdf_price = [EvalCdf(price, x) for x in sorted(price)]","ea857d10":"plt.plot(cdf_price)","13e8cf50":"plt.plot(cdf_lotarea)","2aa9f3f3":"plt.figure(figsize=(15, 8))\n\nplt.scatter(lotarea, price)","ab59d351":"plt.figure(figsize=(15, 8))\n\nplt.hexbin(lotarea, price, gridsize=300, cmap=plt.cm.Reds)","15bcf5da":"def Estimate(sample, mu=0, m=1000, n=7):\n    means = []\n    medians = []\n    \n    for i in range(m):\n        xs = [random.sample(list(sample), n)]\n        xbar = np.mean(xs)\n        median = np.median(xs)\n        means.append(xbar)\n        medians.append(median)\n    \n    print('RMSE of xbar: ', RMSE(means, mu))\n    print('RMSE of median: ', RMSE(medians, mu))\n    \ndef RMSE(estimates, actual):\n    e2 = [(estimate - actual) ** 2 for estimate in estimates]\n    mse = np.mean(e2)\n    return math.sqrt(mse)","fa547b7d":"Estimate(lotarea, mu = 10516.828082191782)","24e88464":"def PearsonMedianCoeff(sample, xbar, median):\n    gp = 3 * (xbar - median) \/ len(sample)\n    return gp","23db5afa":"print(PearsonMedianCoeff(lotarea, np.mean(lotarea), np.median(lotarea)))\nprint(PearsonMedianCoeff(price, np.mean(price), np.median(price)))","d9a8e4d7":"plt.scatter(lotarea, price)","caa3a8aa":"def de_mean(x):\n    x_bar = np.mean(x)\n    return [x_i - x_bar for x_i in x]\n\ndef covariance(x, y):\n    n = len(x)\n    return np.dot(de_mean(x), de_mean(y)) \/ (n - 1)\n\ndef correlation(x, y):\n    std_x = np.std(x)\n    std_y = np.std(y)\n    if std_x > 0 and std_y > 0:\n        return covariance(x, y) \/ (std_x * std_y)\n    else:\n        return 0","e308beb6":"correlation(lotarea, price)","2c32b875":"class HypothesisTest(object):\n    \n    def __init__(self, data):\n        self.data = data\n        self.MakeModel()\n        self.actual = self.TestStatistic(data)\n        \n    def PValue(self, iters = 1000):\n        t = []\n        \n        self.test_stats = [self.TestStatistic(self.RunModel()) for _ in range(iters)]\n        count = 0\n        \n        count = sum(1 for x in self.test_stats if x >= self.actual)\n        return count \/ iters\n    \n    def TestStatistic(self, data):\n        raise UnimplementedMethodException()\n        \n    def MakeModel(self):\n        pass\n    \n    def RunModel(self):\n        raise UnimplementedMethodException()","e563f20c":"class CorrelationPermute(HypothesisTest):\n    \n    def TestStatistic(self, data):\n        xs, ys = data\n        test_stat = abs(correlation(xs, ys))\n        return test_stat\n    \n    def RunModel(self):\n        xs, ys = self.data\n        xs = np.random.permutation(xs)\n        return xs, ys","7445e50a":"data = lotarea, price\nht = CorrelationPermute(data)\npvalue = ht.PValue()","693faaad":"data","446cdef9":"pvalue","d87e0cb4":"def prediction(inter, slope, x):\n    return slope * x + inter\n\ndef residuals(x, y, inter, slope):\n    return y - prediction(inter, slope, x)\n\ndef InterSlope(xs, ys):\n    slope = (correlation(xs, ys) * np.std(ys)) \/ np.std(xs)\n    inter = np.mean(ys) - (slope * np.mean(xs))\n    return inter, slope\n\ndef Line(xs, inter, slope):\n    ys = []\n    for x in xs:\n        y = ys.append(slope * x + inter)\n    return xs, ys","9779b6b2":"inter, slope = InterSlope(lotarea, price)\nx, y = Line(lotarea, inter, slope)","b67d90c6":"print(inter, slope)","7f2f2bad":"plt.figure(figsize = (15, 8))\n\nplt.scatter(lotarea, price, color = 'green')\nplt.plot(x, y, color = 'black')","199701d1":"def r_squared(residuals, ys):\n    return 1 - (np.var(residuals) \/ np.var(ys))\n\nres = []\nfor x, y in zip(lotarea, price):\n    r = residuals(x, y, inter, slope)\n    res.append(r)\n    \nr_squared(res, price)","9230f42d":"print((np.std(price) - np.std(res)) * 100 \/ np.std(price))","b2972e72":"# 3.1. Scatter plot","248f022c":"# First steps ","2bf2aa1f":"We'll take the median for the population mean (mu), not the sample mean (x bar), because the RMSE is lesser for the median as compared to that of the sample mean.","ca38f195":"***This notebook was initially made for teaching purposes,*** however, now I think that it must be helpful for some Kagglers who are yet beginning to work in this field. The notebook demonstrates an effective way to begin with this competition by not employing ML libraries, but by making one's own algorithms. I'm sharing this notebook with my fellow Kagglers for I think it is just sufficiently complete. ***I strictly want to point out that I do not employ definitions,*** though for that very matter, I wish to make a few other notebooks. I hope that this notebook is of use.\n\n**The notebook demonstrates a Simple Linear regression model using Linear least squares (LLS), which means that I would use one independent variable or feature to predict one dependent or target variable (price).**","5a0ff5a8":"NULL HYPOTHESIS: The correlation between the lotarea and the sale price is by chance.","2a130d6d":"The relationship between the 2 variables (lotarea and price) occurs to be linear, therefore I must employ **\"Pearson's correlation method\"**, the algorithm for which is given below:","013c20a9":"For information, visit: [Autumn of Matriarch: The complete guide to EDA - 3](https:\/\/www.kaggle.com\/ritikpnayak\/autumn-of-matriarch-the-complete-guide-to-eda-3)","f32e88ee":"For employing statistics unnecessarily (stringently so), I dwell on the question; is the sample mean (x bar) equivalent or atleast closer to that of the population mean (mu)? I have made a separate notebook demonstrating the process.\n\nFor more information on \"Estimation\", please visit: [Estimation, Confidence Interval and Standard Error](https:\/\/www.kaggle.com\/ritikpnayak\/estimation-confidence-interval-and-standard-error)","885f1da1":"The outcome suggests that both the data is certainly skewed, however, we couldn't do away with the outliers for this very dataset, for all of the values ought to be genuine (Imagine the price for a given lotarea might be as expensive or as inexpensive as one could think of).","c03b570c":"Though, the data that is given (of lotarea) must be bereft of outliers, for a lotarea that is much larger or smaller from that of the other values, is anyways possible to occur (a lotarea of 5000 and 500000 are both possible, they might be very different from the other values). Yet, to demonstrate the process of finding the outliers, I employ the following process.","d6576642":"The values in both the variables are uniformly distributed","c2065e5b":"# 9. Goodness of Fit","27c4e365":"You have the equation of the correlation line;\n\n***y = slope * lotarea + inter***\n\nnow, use the for loop to register each value of price corresponding to the values of the lotarea and you have your predictions.","635389b9":"Several other notebooks use the following variables\/columns as features for this competition (Kagglers that are in the initial stage). I would specifically use the column; \"LotArea\", for I'm making a simple linear regression model.","4014c704":"# 10. What next?","c6170531":"# 3. Finding Relationship","8ebe5649":"For information, visit: [Road to regression-1: Best fit line and residuals](https:\/\/www.kaggle.com\/ritikpnayak\/road-to-regression-1-best-fit-line-and-residuals)","e32b1566":"Skewness might help in choosing the right method for finding the correlation between the lotarea and prices.\n\nFor more information, visit: [Computing the magnitude of skewness in Maths score](https:\/\/www.kaggle.com\/ritikpnayak\/computing-the-magnitude-of-skewness-in-maths-score)","b32df1cb":"# 3.2. Hexbin plot","37bf3040":"To check whether the correlation is genuine or by chance. I have made a separate notebook demonstrating the process.\n\nFor more information, visit: [Introduction to Hypothesis Testing and Estimation](https:\/\/www.kaggle.com\/ritikpnayak\/introduction-to-hypothesis-testing-and-estimation)","a6ee4d0e":"While r-squared is the best method to find the fraction of MSE reduced by using lotarea, the other method (finding RMSE) is the best method for estimating the goodness of fit. That is, we consider that to be the **\"maximum likelihood estimator (MLE)\".**","926302de":"For information on Cumulative distribution functions; visit: [Introduction: Analytic distribution w\/ Volkswagen](https:\/\/www.kaggle.com\/ritikpnayak\/introduction-analytic-distribution-w-volkswagen)","02f068a6":"# 1. Distribution","aad88a5f":"# 4. Estimation","dbce98ba":"***Outcome:***\n\n1. The coefficient of determination (r_squared) suggests that the independent variable (lotarea) effectively estimates almost 6% of the variability in the dependent variable (price).\n2. The other parameter (RMSE) suggests that using lotarea to predict the values of price is lowers the RMSE of prices by 3 units.","1cfdfc5d":"# 5. Skewness","71e729ae":"# 8. Linear Least Squares","dad06232":"Let's first read and study our data. Not all of the methods of exploration that I employ in this notebook is esoteric, therefore I wish not to indulge in explaination as I already have mentioned in the disclaimer. However, some part of the EDA might well be difficult for a new comer to understand, therefore, to those of my friends, I request them to explore the notebooks (of mine) of the specific topics for reading more. The link to access all my public notebooks is given below (I'm not attaching the specific links of certain notebooks for there is a lot on the subject and that might readily  overwhelm the reader):\n\n[Notebboks of Ritik Prakash Nayak](https:\/\/www.kaggle.com\/ritikpnayak\/code)","2c363581":"I employ a couple of methods for estimating the goodness of our fit; \n\n1. The coefficient of determination,\n2. The RMSE of the residuals.\n\n(I use the standard deviation for the RMSE, because in I would find the RMSE using the mean of residuals which becomes the standard deviation).\n\nFor more information, visit: [Regression model-1: The best fit line with R2>0.9](https:\/\/www.kaggle.com\/ritikpnayak\/regression-model-1-the-best-fit-line-with-r2-0-9)","e7ec7afc":"# 2. CDF","c0b3944e":"# 7. Hypothesis Testing","6d4dacfd":"# 6. Finding correlation","faccaf59":"# Disclaimer","a6c5c005":"* LotArea\n* YearBuilt\n* 1stFlrSF\n* 2ndFlrSF\n* FullBath\n* BedroomAbvGr\n* TotRmsAbvGrd","75c8148a":"The pvalue is 0 which means that the correlation is not by chance and that it is statistically significant."}}