{"cell_type":{"73f4218b":"code","cd587fff":"code","59659d06":"code","15ea2a1b":"code","30a3a146":"code","1004c096":"code","44b159e6":"code","10cb8af2":"code","37e4b035":"code","0c0e2ee4":"code","95c4acfd":"code","bf0b25c7":"code","503db17a":"code","cc2b2af6":"code","e84d04e3":"code","dc01f96e":"code","f02dbb4f":"markdown","698c4dc0":"markdown","5c436188":"markdown","abdd75da":"markdown","4b6d9731":"markdown","d3e6bb2f":"markdown","a3d9eaf0":"markdown"},"source":{"73f4218b":"import os\nimport numpy as np\nimport pandas as pd\nimport random\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport seaborn as sns\nimport datetime\nfrom contextlib import contextmanager\nfrom time import time\nfrom tqdm import tqdm\nimport lightgbm as lgbm\nimport category_encoders as ce\n\nfrom tensorflow.keras.utils import to_categorical\nfrom sklearn.metrics import classification_report, log_loss, accuracy_score\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.model_selection import KFold","cd587fff":"data0 = pd.read_csv(\"..\/input\/new-york-city-airport-activity\/nyc-flights.csv\")\ndata0[0:2].T","59659d06":"print(data0.columns.tolist())","15ea2a1b":"print(data0['origin'].unique())\nprint(data0['dest'].unique())","30a3a146":"print(data0['year'].value_counts())\nprint(data0['month'].value_counts())","1004c096":"print(data0.columns.tolist())","44b159e6":"data0['origin-dest']=data0['origin']+'-'+data0['dest']\ndata0['number']=1\nprint(data0['origin-dest'].value_counts())","10cb8af2":"data0a=data0[['origin-dest','number']].groupby('origin-dest',as_index=False).sum().sort_values('number',ascending=False)\ndata0a[0:5]","37e4b035":"fig = px.bar(data0a[0:40], x='origin-dest', y='number',title=\"Origin and Destiny\")\nfig.show()","0c0e2ee4":"data0b=data0[['origin-dest','distance']].groupby('origin-dest',as_index=False).mean().sort_values('distance',ascending=False)\ndata0b[0:5]","95c4acfd":"fig = px.bar(data0b[0:40], x='origin-dest', y='distance',title=\"Origin-Destiny Distance\")\nfig.show()","bf0b25c7":"data0c=data0[['carrier','number']].groupby('carrier',as_index=False).sum().sort_values('number',ascending=False)\ndata0c[0:5]","503db17a":"fig = px.bar(data0c[0:40], x='carrier', y='number',title=\"Carrier Frequency\")\nfig.show()","cc2b2af6":"data0d=data0[['month','number']].groupby('month',as_index=False).sum().sort_values('month',ascending=True)\ndata0d[0:5]","e84d04e3":"fig = px.bar(data0d[0:40], x='month', y='number',title=\"Number by Month\")\nfig.show()","dc01f96e":"fig,ax = plt.subplots(figsize=(10,10))\nax.set_title('Arrival Delay and Departure Delay',fontsize=20)\nax.set_xlabel('Arrival Delay',fontsize=12)\nax.set_ylabel('Departure Delay',fontsize=12)\nax.scatter(data0['arr_delay'],data0['dep_delay'])","f02dbb4f":"## Origin-Destiny Distance","698c4dc0":"## Arrival Delay and Departure Delay","5c436188":"## Number by Month","abdd75da":"### About this file\n* year: Year.\n* month: Month.\n* day: Day.\n* dep_time: Departure time, in Eastern time zone.\n* dep_delay: Departure delay, in minutes.\n* arr_time: Arrival time, in the local time zone.\n* arr_delay: Arrival delay, in minutes.\n* carrier: Carrier, abbreviated.\n* tailnum: Tail number of the airplane.\n* flight: Flight number.\n* origin: Flight origin, airport code.\n* dest: Flight destination, airport code.\n* air_time: Time in the air, in minutes.\n* distance: Distance between the departure and arrival airports, in miles.\n* hour: Scheduled departure hour.\n* minute: Scheduled departure minute.","4b6d9731":"# Data preparation","d3e6bb2f":"## Origin and Destiny","a3d9eaf0":"## Carrier"}}