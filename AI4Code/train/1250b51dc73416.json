{"cell_type":{"5dd198cb":"code","7b9ca3fd":"code","1e47100e":"code","ebe94c75":"code","daab018a":"code","81993477":"code","43151f15":"code","aa843a97":"code","0058fa37":"code","98363818":"code","8311b8f9":"code","57d77ba2":"code","a5759e72":"code","446e2ff1":"code","b48cbdfd":"code","269af44b":"code","aa6e251c":"code","fa71ccb0":"code","4e7241d7":"code","39365ef0":"code","56155eb9":"code","aa958167":"code","5f437848":"code","d248ef29":"code","362c2bcb":"code","14eda363":"markdown","7f2ceac1":"markdown","263fa05e":"markdown","e4fa0bf7":"markdown","f20d196a":"markdown","9dd1c216":"markdown","12384e80":"markdown","dfb62ca7":"markdown","df14acbb":"markdown","b60fcc57":"markdown","84757caf":"markdown","485df732":"markdown","61ffc776":"markdown","2323b103":"markdown","ac8d9b6c":"markdown","0e5ffa0e":"markdown","ecf9e629":"markdown","d4533f08":"markdown","26715345":"markdown","4f22dbeb":"markdown","4df8392a":"markdown","5d85c0e4":"markdown"},"source":{"5dd198cb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7b9ca3fd":"data = pd.read_csv(\"\/kaggle\/input\/stroke-prediction-dataset\/healthcare-dataset-stroke-data.csv\")","1e47100e":"data.info()","ebe94c75":"data.head()","daab018a":"data.describe()","81993477":"missing_df = (data.isnull().sum()*100)\/data.shape[0]\nprint(missing_df[missing_df>0])","43151f15":"sns.countplot(data=data, x='stroke');\nprint(\"% of People not having suffered a stroke:{:.2f}\".format((data[data['stroke']==0].shape[0]*100)\/data.shape[0]))\nprint(\"% of People having suffered a stroke:{:.2f}\".format((data[data['stroke']==1].shape[0]*100)\/data.shape[0]))","aa843a97":"sns.countplot(data=data, x='gender');\nprint(\"% of Females: {:.2f}\".format((data[data['gender']==\"Male\"].shape[0]*100)\/data.shape[0]))\nprint(\"% of Males: {:.2f}\".format((data[data['gender']==\"Female\"].shape[0]*100)\/data.shape[0]))\nprint(\"% of Other Genders: {:.2f}\".format((data[data['gender']==\"Other\"].shape[0]*100)\/data.shape[0]))","0058fa37":"plt.hist(data['age'].values, bins=50);\nprint(\"Mean Age: {}\".format(data['age'].mean()))\nprint(\"Median Age: {}\".format(data['age'].median()))","98363818":"sns.countplot(data=data, x='hypertension');\nprint(\"% of People without HyperTension: {:.2f}\".format((data[data['hypertension']==0].shape[0]*100)\/data.shape[0]))\nprint(\"% of People with HyperTension: {:.2f}\".format((data[data['hypertension']==1].shape[0]*100)\/data.shape[0]))\n","8311b8f9":"sns.countplot(data=data, x='heart_disease');\nprint(\"% of People without Heart disease: {:.2f}\".format((data[data['heart_disease']==0].shape[0]*100)\/data.shape[0]))\nprint(\"% of People with Heart disease: {:.2f}\".format((data[data['heart_disease']==1].shape[0]*100)\/data.shape[0]))","57d77ba2":"sns.countplot(data=data, x='ever_married');\nprint(\"% of Married\/Previously Married People : {:.2f}\".format((data[data['ever_married']==\"Yes\"].shape[0]*100)\/data.shape[0]))\nprint(\"% of Un-Married People : {:.2f}\".format((data[data['ever_married']==\"No\"].shape[0]*100)\/data.shape[0]))","a5759e72":"sns.countplot(data=data, x='work_type');","446e2ff1":"sns.countplot(data=data, x='Residence_type');\nprint(\"% of Urban Residency : {:.2f}\".format((data[data['Residence_type']==\"Urban\"].shape[0]*100)\/data.shape[0]))\nprint(\"% of Rural Residency : {:.2f}\".format((data[data['Residence_type']==\"Rural\"].shape[0]*100)\/data.shape[0]))","b48cbdfd":"sns.displot(data['avg_glucose_level'].values);","269af44b":"sns.displot(data['bmi'].values);","aa6e251c":"sns.countplot(data=data, x='smoking_status');","fa71ccb0":"sns.countplot(data=data, x='gender', hue='stroke');\nplt.title(\"Gender vs Stroke\");\nprint(\"% of Females who suffered a stroke: {:.3f}\".format(((data[(data['gender']=='Female')&(data['stroke']==1)]).shape[0])*100\/data[data['gender']=='Female'].shape[0]))\nprint(\"% of Males who suffered a stroke: {:.3f}\".format(((data[(data['gender']=='Male')&(data['stroke']==1)]).shape[0])*100\/data[data['gender']=='Male'].shape[0]))\nprint(\"% of Other gender who suffered a stroke: {:.3f}\".format(((data[(data['gender']=='Other')&(data['stroke']==1)]).shape[0])*100\/data[data['gender']=='Other'].shape[0]))","4e7241d7":"fig, ax = plt.subplots(nrows=1, ncols=3, figsize=(15, 5))\nsns.countplot(data=data, x='hypertension', hue='stroke', ax=ax[0]);\nsns.countplot(data=data, x='heart_disease', hue='stroke', ax=ax[1]);\nsns.countplot(data=data, x='ever_married', hue='stroke', ax=ax[2]);\n\nfig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.countplot(data=data, x='work_type', hue='stroke', ax=ax[0]);\nsns.countplot(data=data, x='Residence_type', hue='stroke', ax=ax[1]);\n","39365ef0":"fig, ax = plt.subplots(nrows=3, ncols=1, figsize=(10, 17))\n\nsns.kdeplot(data=data, x='age', hue='stroke', ax=ax[0]);\nax[0].set_title(\"Age distribution w.r.t Stroke\");\nsns.kdeplot(data=data, x='age', hue='hypertension', ax=ax[1]);\nax[1].set_title(\"Age distribution w.r.t Hypertension\");\nsns.kdeplot(data=data, x='age', hue='heart_disease',ax=ax[2]);\nax[2].set_title(\"Age distribution w.r.t Heart Disease\");\nsns.displot(data=data, x='age', hue='stroke', kind='kde', col=\"heart_disease\");\n","56155eb9":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.countplot(data=data, x='hypertension', hue='work_type', ax=ax[0]);\nsns.countplot(data=data, x='heart_disease', hue='work_type', ax=ax[1]);","aa958167":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.kdeplot(data=data, x='bmi', hue='stroke', ax=ax[0]);\nsns.kdeplot(data=data, hue='smoking_status', x='bmi', ax=ax[1]);\nfig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.kdeplot(data=data, x='bmi', hue='work_type', ax=ax[0]);\nsns.kdeplot(data=data, x='bmi', hue='heart_disease', ax=ax[1]);\nfig, ax = plt.subplots(nrows=1, ncols=1, figsize=(15, 6))\nsns.kdeplot(data=data, x='bmi', hue='hypertension', ax=ax);","5f437848":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.kdeplot(data=data, x='avg_glucose_level', hue='stroke', ax=ax[0]);\nsns.kdeplot(data=data, hue='smoking_status', x='avg_glucose_level', ax=ax[1]);\nfig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.kdeplot(data=data, x='avg_glucose_level', hue='work_type', ax=ax[0]);\nsns.kdeplot(data=data, x='avg_glucose_level', hue='heart_disease', ax=ax[1]);\nfig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\nsns.kdeplot(data=data, x='avg_glucose_level', hue='hypertension', ax=ax[0]);\nsns.scatterplot(data=data, y='avg_glucose_level', x='age', hue='stroke', ax=ax[1]);","d248ef29":"corr = data[list(data.columns)[1:]].corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\n# Set up the matplotlib figure\nf, ax = plt.subplots(figsize=(11, 9))\n\n# Generate a custom diverging colormap\ncmap = sns.diverging_palette(230, 20, as_cmap=True)\n\n# Draw the heatmap with the mask and correct aspect ratio\nsns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5});\n\nax.set_title(\"Correlation Heatmap\");","362c2bcb":"\n'''\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\n# Set up the matplotlib figure\nf, ax = plt.subplots(figsize=(11, 9))\n\n# Generate a custom diverging colormap\ncmap = sns.diverging_palette(230, 20, as_cmap=True)\n\n# Draw the heatmap with the mask and correct aspect ratio\nsns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})\n'''\n#sns.kdeplot(data=data)\n#print(data.columns)\n#fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(15, 6))\n#sns.kdeplot(data=data, x='bmi', hue='stroke', ax=ax[0]);\n#sns.kdeplot(data=data, x='avg_glucose_level', hue='stroke', ax=ax[1]);\n#fig2, ax2 = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\n#sns.countplot(data=data, x='smoking_status', hue='stroke', ax=ax2[0]);\n#sns.kdeplot(data=data, hue='smoking_status', x='bmi', ax=ax2[1]);\n\n#sns.countplot(data=data, x='heart_disease', hue='work_type', ax=ax[1]);\n#sns.countplot(data=data, x='ever_married', hue='stroke', ax=ax[2]);\n\n#sns.kdeplot(data=data, x='bmi', hue='work_type');\n#sns.countplot(data=data, x='hypertension', hue='Residence_type');\n#sns.displot(data=data, x='age', hue='stroke', kind='kde', col=\"heart_disease\");\n#sns.displot(data=data, x='age', hue='heart_disease', kind='kde');\n#sns.displot(data=data, x='age', hue='heart_disease', kind='kde');\n#plt.title(\"heart_disease vs gender\");\n#print(\"% of People with hypertension who suffered a stroke: {:.3f}\".format(((data[(data['hypertension']==1)&(data['stroke']==1)]).shape[0])*100\/data[data['hypertension']==1].shape[0]))\n#print(\"% of People with hypertension who suffered a stroke: {:.3f}\".format(((data[(data['hypertension']==1)&(data['stroke']==0)]).shape[0])*100\/data[data['hypertension']==0].shape[0]))\n#print(\"% of Males who suffered a stroke: {:.3f}\".format(((data[(data['hypertension']=='Male')&(data['stroke']==1)]).shape[0])*100\/data[data['gender']=='Male'].shape[0]))\n#print(\"% of Other gender who suffered a stroke: {:.3f}\".format(((data[(data['hypertension']=='Other')&(data['stroke']==1)]).shape[0])*100\/data[data['gender']=='Other'].shape[0]))","14eda363":"## age","7f2ceac1":"## ever_married","263fa05e":"## Target Variable - stroke","e4fa0bf7":"# Univariate Analysis\n\n* Visualize Distribution of features","f20d196a":"So we have a heavily skewed dataset with over 95% of observations for people who have never suffered a stroke.","9dd1c216":"Exploring feature - \"bmi\"","12384e80":"## Basic info","dfb62ca7":"# Bi\/Multivariate Analysis\n\n* Attempt to discover any correlation\/causal relationship among features and target variable.\n* We can look for answers to many interesting questions like \n    1. How do attributes like gender\/residency etc affect the probabilty of suffering a stroke?\n    2. Is there some specific combination of attributes which can be greatly attributed to a person suffering from a stroke?\n    ","df14acbb":"From the above visualizations we can see that a significant number of people having heat diseases or suffering from hypertension work in private sector.","b60fcc57":"We can see from the above plot that the risk of suffering  a stroke increases for people over the age of 40.\n\nAlso the Age distribution w.r.t Stroke is very similar to the Age distribution w.r.t Heart Disease.","84757caf":"## work_type","485df732":"Exploring feature - \"avg_glucose_level\"","61ffc776":"## avg_glucose_level","2323b103":"## hypertension","ac8d9b6c":"## gender","0e5ffa0e":"## Loading Data","ecf9e629":"## Missing Data","d4533f08":"## Residence_type","26715345":"## smoking_status","4f22dbeb":"## heart_disease","4df8392a":"Corerelation plot","5d85c0e4":"## bmi"}}