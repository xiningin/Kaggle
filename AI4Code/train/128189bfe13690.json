{"cell_type":{"76ea96ce":"code","0533625f":"code","d97c1471":"code","5dc847ca":"code","20a85859":"code","67bc7dc9":"code","0ed71659":"code","cfafb7ad":"code","78936fce":"code","8c140ea3":"code","8b33e881":"code","a4cc0bde":"code","f23eb3f6":"code","18f61b9f":"code","e5d9b5da":"code","b040990f":"code","8b4d7993":"code","5a432a84":"markdown"},"source":{"76ea96ce":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0533625f":"Temp_Train = pd.read_csv('..\/input\/my-study-predict-rev01\/J2012toJ2019_rev04.csv')","d97c1471":"Temp_Train.head()","5dc847ca":"#my_team\u3068vs\u3092\u30e9\u30d9\u30ea\u30f3\u30b0\u7528\u306b\u30b3\u30d4\u30fc\u3057\u3066\u30e9\u30d9\u30ea\u30f3\u30b0\nfrom sklearn.preprocessing import LabelEncoder\nle =LabelEncoder()\nTemp_Train['copy_my_team']=le.fit_transform(Temp_Train[\"my_team\"]) #'my_team'\u306f\u6b8b\u3057\u305f\u307e\u307e\nTemp_Train['copy_vs']=le.fit_transform(Temp_Train[\"vs\"])           #'VS'\u306f\u6b8b\u3057\u305f\u307e\u307e\n\nTemp_my_team=Temp_Train[\"my_team\"]\nTemp_vs=Temp_Train[\"vs\"]","20a85859":"#kickoff\u306f\u4eca\u56de\u306f\u4f7f\u7528\u3057\u306a\u3044\u306e\u3067\u30c9\u30ed\u30c3\u30d7\nTemp_Train.drop('kickoff', axis=1, inplace=True)","67bc7dc9":"#\u5b66\u7fd2\u7528\u30c7\u30fc\u30bf(\u30db\u30fc\u30e0\u30c1\u30fc\u30e0\u306e\u5f97\u70b9)\nData_Study = Temp_Train\n\n\ndrop_2015 = Data_Study.index[Data_Study[\"Year\"]==2015]\nData_Study = Data_Study.drop(drop_2015)\ndrop_2016 = Data_Study.index[Data_Study[\"Year\"]==2016]\nData_Study = Data_Study.drop(drop_2016)\n\n\n\ndrop_2019 = Data_Study.index[Data_Study[\"Year\"]==2019]\nData_Study = Data_Study.drop(drop_2019)\n\n#\u5b66\u7fd2\u30c7\u30fc\u30bf\u7d50\u679c\n#Study_result = Data_Study[\"Gap\"] \u3053\u3053\u304c\"Gap\"\u3067\u306f\u306a\u304f\"score1\"\u306b\u306a\u308b\u3002\nStudy_result = Data_Study[\"score1\"]\n\n#\u4e0d\u8981\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\nData_Study.drop('Year', axis=1, inplace=True)\nData_Study.drop('visitor', axis=1, inplace=True)\nData_Study.drop('my_team', axis=1, inplace=True)\nData_Study.drop('vs', axis=1, inplace=True)\nData_Study.drop('score1', axis=1, inplace=True)\nData_Study.drop('score2', axis=1, inplace=True)\nData_Study.drop('Gap', axis=1, inplace=True)\nData_Study.drop('Judge', axis=1, inplace=True)\n\nData_Study.drop('month', axis=1, inplace=True)\nData_Study.drop('day', axis=1, inplace=True)\nData_Study.drop('section', axis=1, inplace=True)\n\nData_Study.head()","0ed71659":"Data_Study.drop('Home_Loss_rate', axis=1, inplace=True)\nData_Study.drop('Away_Goal_rate', axis=1, inplace=True)\n\nData_Study.head()","cfafb7ad":"#\u30c6\u30b9\u30c8\u7528\u30c7\u30fc\u30bf\nData_2019 = Temp_Train\n\ndrop_2012 = Data_2019.index[Data_2019[\"Year\"]==2012]\nData_2019 = Data_2019.drop(drop_2012)\ndrop_2013 = Data_2019.index[Data_2019[\"Year\"]==2013]\nData_2019 = Data_2019.drop(drop_2013)\ndrop_2014 = Data_2019.index[Data_2019[\"Year\"]==2014]\nData_2019 = Data_2019.drop(drop_2014)\ndrop_2015 = Data_2019.index[Data_2019[\"Year\"]==2015]\nData_2019 = Data_2019.drop(drop_2015)\ndrop_2016 = Data_2019.index[Data_2019[\"Year\"]==2016]\nData_2019 = Data_2019.drop(drop_2016)\ndrop_2017 = Data_2019.index[Data_2019[\"Year\"]==2017]\nData_2019 = Data_2019.drop(drop_2017)\ndrop_2018 = Data_2019.index[Data_2019[\"Year\"]==2018]\nData_2019 = Data_2019.drop(drop_2018)\n\n#\u6b63\u5f53\u78ba\u8a8d\u7528\u30c7\u30fc\u30bf\nAns_my_team2019 = Data_2019[\"my_team\"]\nAns_vs2019      = Data_2019[\"vs\"]\n#Ans_result      = Data_2019[\"Gap\"]\nStudy_Result_2019 = pd.DataFrame({'Gap':Data_2019['Gap'], 'Judge': Data_2019['Judge'],'Score1': Data_2019['score1']})\n\nData_2019.drop('Year', axis=1, inplace=True)\nData_2019.drop('my_team', axis=1, inplace=True)\nData_2019.drop('vs', axis=1, inplace=True)\nData_2019.drop('score1', axis=1, inplace=True)\nData_2019.drop('score2', axis=1, inplace=True)\nData_2019.drop('Gap', axis=1, inplace=True)\nData_2019.drop('Judge', axis=1, inplace=True)\nData_2019.drop('month', axis=1, inplace=True)\nData_2019.drop('day', axis=1, inplace=True)\nData_2019.drop('section', axis=1, inplace=True)\n\n#\"visitor\"\u3082\u30c9\u30ed\u30c3\u30d7\nData_2019.drop('visitor', axis=1, inplace=True)\n\nData_2019.head()","78936fce":"Study_Result_2019.head()","8c140ea3":"Data_2019.drop('Home_Loss_rate', axis=1, inplace=True)\nData_2019.drop('Away_Goal_rate', axis=1, inplace=True)\nData_2019.head()","8b33e881":"X_train = Data_Study\nX_test = Data_2019\ny = Study_result\n\nimport xgboost as xgb\nmodel_xgb = xgb.XGBRegressor(n_estimators=410,max_depth=3,learning_rate=0.1)\nmodel_xgb.fit(X_train, y)\n\nResult_2019 = pd.DataFrame({'Home': Ans_my_team2019,'Away': Ans_vs2019, 'Home_Goal':model_xgb.predict(X_test)})\nResult_2019.head(306)","a4cc0bde":"#\u5b66\u7fd2\u7528\u30c7\u30fc\u30bf(\u30a2\u30a6\u30a7\u30a4\u30c1\u30fc\u30e0\u306e\u5f97\u70b9)\nData_Study2 = Temp_Train\n\ndrop_2015 = Data_Study2.index[Data_Study2[\"Year\"]==2015]\nData_Study2 = Data_Study2.drop(drop_2015)\ndrop_2016 = Data_Study2.index[Data_Study2[\"Year\"]==2016]\nData_Study2 = Data_Study2.drop(drop_2016)\ndrop_2019 = Data_Study2.index[Data_Study2[\"Year\"]==2019]\nData_Study2 = Data_Study2.drop(drop_2019)\n\n#\u5b66\u7fd2\u30c7\u30fc\u30bf\u7d50\u679c\n#Study_result = Data_Study2[\"Gap\"] \u3053\u3053\u304c\"Gap\"\u3067\u306f\u306a\u304f\u30a2\u30a6\u30a7\u30a4\u306a\u306e\u3067\"score2\"\u306b\u306a\u308b\u3002\nStudy_result2 = Data_Study2[\"score2\"]\n\n#\u4e0d\u8981\u30c7\u30fc\u30bf\u30c9\u30ed\u30c3\u30d7\nData_Study2.drop('Year', axis=1, inplace=True)\nData_Study2.drop('visitor', axis=1, inplace=True)\nData_Study2.drop('my_team', axis=1, inplace=True)\nData_Study2.drop('vs', axis=1, inplace=True)\nData_Study2.drop('score1', axis=1, inplace=True)\nData_Study2.drop('score2', axis=1, inplace=True)\nData_Study2.drop('Gap', axis=1, inplace=True)\nData_Study2.drop('Judge', axis=1, inplace=True)\n\nData_Study2.drop('month', axis=1, inplace=True)\nData_Study2.drop('day', axis=1, inplace=True)\nData_Study2.drop('section', axis=1, inplace=True)\n\nData_Study2.head()","f23eb3f6":"Data_Study2.drop('Home_Goal_rate', axis=1, inplace=True)\nData_Study2.drop('Away_Loss_rate', axis=1, inplace=True)\n\nData_Study2.head()","18f61b9f":"####################################### \u3053\u3053\u3060\n#\u30c6\u30b9\u30c8\u7528\u30c7\u30fc\u30bf\nData_2019_b = Temp_Train\n\ndrop_2012_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2012]\nData_2019_b = Data_2019_b.drop(drop_2012_b)\ndrop_2013_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2013]\nData_2019_b = Data_2019_b.drop(drop_2013_b)\ndrop_2014_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2014]\nData_2019_b = Data_2019_b.drop(drop_2014_b)\n\ndrop_2015_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2015]\nData_2019_b = Data_2019_b.drop(drop_2015_b)\ndrop_2016_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2016]\nData_2019_b = Data_2019_b.drop(drop_2016_b)\ndrop_2017_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2017]\nData_2019_b = Data_2019_b.drop(drop_2017_b)\ndrop_2018_b = Data_2019_b.index[Data_2019_b[\"Year\"]==2018]\nData_2019_b = Data_2019_b.drop(drop_2018_b)\n\n#\u6b63\u5f53\u78ba\u8a8d\u7528\u30c7\u30fc\u30bf\nAns_my_team2019 = Data_2019_b[\"my_team\"]\nAns_vs2019      = Data_2019_b[\"vs\"]\n#Ans_result      = Data_2019_b[\"Gap\"]\nStudy_Result_2019_b = pd.DataFrame({'Gap':Data_2019_b['Gap'], 'Judge': Data_2019_b['Judge'],'Score2': Data_2019_b['score2']})\n\nData_2019_b.drop('Year', axis=1, inplace=True)\nData_2019_b.drop('my_team', axis=1, inplace=True)\nData_2019_b.drop('vs', axis=1, inplace=True)\nData_2019_b.drop('score1', axis=1, inplace=True)\nData_2019_b.drop('score2', axis=1, inplace=True)\nData_2019_b.drop('Gap', axis=1, inplace=True)\nData_2019_b.drop('Judge', axis=1, inplace=True)\nData_2019_b.drop('month', axis=1, inplace=True)\nData_2019_b.drop('day', axis=1, inplace=True)\nData_2019_b.drop('section', axis=1, inplace=True)\n\n#\"visitor\"\u3082\u30c9\u30ed\u30c3\u30d7\nData_2019_b.drop('visitor', axis=1, inplace=True)\n\nData_2019_b.head()","e5d9b5da":"Data_2019_b.drop('Home_Goal_rate', axis=1, inplace=True)\nData_2019_b.drop('Away_Loss_rate', axis=1, inplace=True)\nData_2019_b.head()","b040990f":"X_train2 = Data_Study2\nX_test2 = Data_2019_b\ny2 = Study_result2\n\nimport xgboost as xgb\nmodel_xgb = xgb.XGBRegressor(n_estimators=410,max_depth=3,learning_rate=0.1)\nmodel_xgb.fit(X_train2, y2)\n\nResult_2019_b = pd.DataFrame({'Home': Ans_my_team2019,'Away': Ans_vs2019,'Home_Goal':Result_2019['Home_Goal'] , 'Away_Goal':model_xgb.predict(X_test2)})\nResult_2019_b.head(306)","8b4d7993":"Result_2019_b.to_csv('2019_predict_2015to2018.csv', index=False)","5a432a84":"Rev02 J\u30ea\u30fc\u30b0\uff0c2012\u5e74\u304b\u30892018\u5e74\u306e\u7d50\u679c\u304b\u30892019\u5e74\u306e\u7d50\u679c\u3092\u4e88\u6e2cHome\/Away\u306e\u5f97\u70b9\u7387(\u653b\u6483\u529b)\uff0c\u5931\u70b9\u7387(\u5b88\u5099\u529b)\u3092\u8ffd\u52a0\n\nRev05 J\u30ea\u30fc\u30b0\uff0c2017\u5e74\u304b\u30892018\u5e74\u306e\u7d50\u679c\u304b\u30892019\u5e74\u306e\u7d50\u679c\u3092\u4e88\u6e2cHome\/Away\u306e\u5f97\u70b9\u7387(\u653b\u6483\u529b)\uff0c\u5931\u70b9\u7387(\u5b88\u5099\u529b)\u3092\u8ffd\u52a0\n\nRev06 J\u30ea\u30fc\u30b0\uff0c2015\u5e74\u304b\u30892018\u5e74\u306e\u7d50\u679c\u304b\u30892019\u5e74\u306e\u7d50\u679c\u3092\u4e88\u6e2cHome\/Away\u306e\u5f97\u70b9\u7387(\u653b\u6483\u529b)\uff0c\u5931\u70b9\u7387(\u5b88\u5099\u529b)\u3092\u8ffd\u52a0\n"}}