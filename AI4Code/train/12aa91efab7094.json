{"cell_type":{"3007ec0d":"code","ae37c190":"code","94cd33a4":"code","b193489e":"markdown"},"source":{"3007ec0d":"library(dplyr)\nlibrary(randomForest)\nlibrary(caret)\ny_test = read.csv(\"..\/input\/churn-model-data-set-competition-form\/test_label\/y_test.csv\",header = T)\nx_test = read.csv(\"..\/input\/churn-model-data-set-competition-form\/X_test.csv\",header = T)\nx_train = read.csv(\"..\/input\/churn-model-data-set-competition-form\/X_train.csv\",header = T)\ny_train = read.csv(\"..\/input\/churn-model-data-set-competition-form\/y_train.csv\",header = T)\nreplace(x_train$Gender,x_train$Gender==\"female\",\"Female\") -> x_train$Gender\nreplace(x_train$Gender,x_train$Gender==\" male\",\"Male\") -> x_train$Gender\nreplace(x_test$Gender,x_test$Gender==\"female\",\"Female\") -> x_test$Gender\nreplace(x_test$Gender,x_test$Gender==\" male\",\"Male\") -> x_test$Gender\ndummy = dummyVars(~Geography+Gender, data = x_train)\ndm = data.frame(predict(dummy,newdata=x_train))\nx_train %>% select(-c(CustomerId,Geography,Surname,Gender)) ->x_train\nx_train = cbind(x_train,dm)\ndummyt = dummyVars(~Geography+Gender, data = x_test)\ndmt = data.frame(predict(dummyt,newdata=x_test))\nx_test %>% select(-c(CustomerId,Geography,Surname,Gender)) ->x_test\nx_test = cbind(x_test,dmt)\nhead(x_train)\nhead(x_test)\nhead(y_test)","ae37c190":"rftrain = cbind(y_train$Exited,x_train)\ncolnames(rftrain)[1] <- \"ex\"\nrftrain$ex = as.factor(rftrain$ex)\nmod = randomForest(ex ~., data=rftrain,ntree=300)\npred = predict(mod,newdata=x_test)","94cd33a4":"y_test$Exited = as.factor(y_test$Exited)\nconfusionMatrix(y_test$Exited,pred)\nwrite.csv(pred,\"submission.csv\")","b193489e":"\ube45\ubd84\uae30 \uc5f0\uc2b5"}}