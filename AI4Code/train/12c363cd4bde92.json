{"cell_type":{"97fd1cb2":"code","1bb7d0e2":"code","ca7d97a4":"code","6538c60b":"code","2ca8f97d":"code","b2215987":"code","81a362a4":"code","cfd3a0b0":"code","d28e9e0b":"code","c904e54a":"code","7ba4ce52":"code","1cb84c36":"code","e5155ed2":"code","2a4b67b8":"code","7659cfcb":"code","4d3f75f9":"code","cbc5b891":"code","74af3346":"code","fae551f3":"code","50e1879f":"code","13848119":"code","918d7fd1":"code","e8945d19":"code","a1486948":"code","76c43df1":"code","c4e4ce4d":"code","64493a01":"code","f2e77ba4":"code","2f30c5a8":"code","077b80dd":"code","672ea5d5":"code","27c4683e":"code","371a2d89":"code","f7a04d48":"code","e564f677":"code","60f9cdd2":"code","b8745858":"code","452956e4":"code","41990f1a":"code","84794376":"code","b06df1aa":"code","deb4e1e1":"code","66270b99":"code","ded8e104":"code","5c550ed5":"code","ef2a2af0":"code","19d72455":"code","54f3fc61":"code","3ac81542":"code","9861c6b7":"code","8023e18a":"code","ca989b68":"code","34dc51b1":"code","019d2628":"code","115a81e7":"code","4f360515":"code","eb717d8f":"code","49ca404a":"code","f9cc30a7":"code","bf68b4c0":"code","c14cac11":"markdown","d0908161":"markdown","65747112":"markdown","0ff2f83d":"markdown","7f4f5107":"markdown","d09655c1":"markdown","99225b41":"markdown","b95f4ff0":"markdown","bdc6ec6b":"markdown","24eb16fe":"markdown","a456479f":"markdown","e9db83d7":"markdown","0f7a8f67":"markdown","5275e236":"markdown","f951bf65":"markdown","f2682ba6":"markdown","b93a70ce":"markdown","d6ebc594":"markdown","fc4308d1":"markdown","6c392c60":"markdown","fa2c31db":"markdown","3c8df40b":"markdown","71ce3652":"markdown","1a06a0ba":"markdown","27f0d1ea":"markdown","26928956":"markdown","4f179e7d":"markdown","e7f34ced":"markdown","a09c6985":"markdown","1107a927":"markdown","e3287268":"markdown","2d44579c":"markdown","68542d8a":"markdown","c84c8633":"markdown","31309907":"markdown","61473266":"markdown","f8fbeaca":"markdown","9a17dd76":"markdown","2ef636f9":"markdown","9465f4bb":"markdown","fa7d3b70":"markdown","a2463dda":"markdown","dada319b":"markdown","254f725e":"markdown","b40881ed":"markdown","1ba85e1f":"markdown","d02a5e12":"markdown","0e47d1c4":"markdown","fb4b87ba":"markdown","65765f7d":"markdown"},"source":{"97fd1cb2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nfrom math import cos\nfrom math import sin\nfrom math import radians\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","1bb7d0e2":"raw_data = pd.read_csv('\/kaggle\/input\/nfl-big-data-bowl-2020\/train.csv')","ca7d97a4":"raw_data.head()","6538c60b":"raw_data.dtypes","2ca8f97d":"plt.figure(figsize=(20,10))\nplt.title(\"Plays per Game\")\nraw_data['GameId'].value_counts().plot(kind='bar')\n","b2215987":"raw_data.groupby(['PlayId']).count().describe()","81a362a4":"len(raw_data['GameId'].unique())","cfd3a0b0":"def randomPlay():\n    '''\n    Returns a random valid (GameId,PlayId) pair\n    '''\n    N = raw_data.shape[0]\n    i = np.random.randint(0,N)\n    return (raw_data.iloc[i,:].GameId, raw_data.iloc[i,:].PlayId)\n\nrandomPlay()","d28e9e0b":"raw_data['Team'].value_counts()","c904e54a":"def graphPlay1(GameId, PlayId):\n    play_data = raw_data[(raw_data['GameId'] == GameId) & (raw_data['PlayId'] == PlayId)]\n    colors = {'away':'red', 'home':'blue'}\n    for i in play_data.index:\n        plt.plot(play_data.loc[i,'X'], play_data.loc[i,'Y'], 'ro', markersize=10, color=colors[play_data.loc[i,'Team']])\n    plt.show()\n    return None","7ba4ce52":"graphPlay1(*randomPlay())","1cb84c36":"ax_x = raw_data['X'].plot(kind='hist', bins = int(np.max(raw_data['X'])-np.min(raw_data['X'])))\nplt.title('Distribution of X')\nax_x.axvline(10, color='r')\nax_x.axvline(110, color='r')\nax_x.axvline(35, color='y')\nplt.show()","e5155ed2":"ax_y = raw_data['Y'].plot(kind='hist', bins = int(np.max(raw_data['Y'])-np.min(raw_data['Y'])))\nplt.title('Distribution of Y')\nhashdist = 23 + 1\/3 + 9\/36 # how far the hashes are from the sideline\nax_y.axvline(hashdist, color='y')\nax_y.axvline(53.3-hashdist, color='y')\n","2a4b67b8":"def graphPlay2(GameId, PlayId):\n    '''\n    Makes a visual depiction of the play.\n    The ball carrier is marked yellow.\n    The arrows indicate the direction of movement of the player. \n    The length of the black arrow is proportional to the speed.\n    The length of the orange arrow is proportional to the accel. \n    The direction of accel is not provided, and so it is plotted in the direction of motion.\n    '''\n    play_data = raw_data[(raw_data['GameId'] == GameId) & (raw_data['PlayId'] == PlayId)]\n    colors = {'away':'red', 'home':'blue'}\n    print(play_data.shape)\n    play_data.index = range(22)\n    print(play_data.loc[0,'OffenseFormation'])\n    print(play_data.loc[0,'PlayDirection'])\n    print(play_data.loc[0,'TimeHandoff'])\n    print(play_data.loc[0,'Yards'])\n    for i in play_data.index:\n        playerInfo = play_data.loc[i,:]\n        if playerInfo['NflId'] != playerInfo['NflIdRusher']:\n            plt.plot('X', 'Y', 'ro', markersize=10, color=colors[play_data.loc[i,'Team']], data = playerInfo)\n        else:\n            plt.plot('X', 'Y', 'ro', markersize=10, color='yellow', data = playerInfo)\n        plt.arrow(playerInfo['X'], playerInfo['Y'], playerInfo['S']*sin(radians(playerInfo['Dir'])), playerInfo['S']*cos(radians(playerInfo['Dir'])), head_width=0.5)\n        plt.arrow(playerInfo['X'], playerInfo['Y'], playerInfo['A']*sin(radians(playerInfo['Dir'])), playerInfo['A']*cos(radians(playerInfo['Dir'])),color='orange',head_width=0.5)\n    plt.show()\n    return None","7659cfcb":"graphPlay2(*randomPlay())","4d3f75f9":"raw_data.groupby(['GameId','PlayId']).count()","cbc5b891":"raw_data['S'].plot(kind='hist', bins=50)\nplt.title('Speeds of players')\nplt.show()\n\nraw_data['A'].plot(kind='hist', bins=50)\nplt.title('Accels of players')\nplt.show()\n\nraw_data['Dir'].plot(kind='hist', bins=50)\nplt.title('Angle of motion of players')","74af3346":"raw_data['Orientation'].plot(kind='hist', bins= 50, alpha=.9)\nraw_data['Dir'].plot(kind='hist', bins= 50, alpha=.4)\nplt.legend(bbox_to_anchor = (1.1,0.5), bbox_transform = plt.gcf().transFigure)\nplt.xlabel('Angle')\nplt.title('Player orientation and movement direction')","fae551f3":"def abbrConv(abbr):\n    '''\n    convert from the XTeamAbbr to PossesionTeam\n    see code cell below for why we need this\n    '''\n    if abbr == 'ARI':\n        return 'ARZ'\n    elif abbr == 'BAL':\n        return 'BLT'\n    elif abbr == 'CLE':\n        return 'CLV'\n    elif abbr == 'HOU':\n        return 'HST'\n    else:\n        return abbr\n\ndef isOffense(row):\n    offense = row['PossessionTeam']\n    side = row['Team']\n    if side == 'away':\n        key = 'VisitorTeamAbbr'\n    else:\n        key = 'HomeTeamAbbr'\n    if offense == abbrConv(row[key]):\n        return True\n    else:\n        return False\n    \noffenseMask = raw_data.apply(isOffense, axis=1)\n        ","50e1879f":"print(2*offenseMask.sum())\nlen(raw_data.index)","13848119":"\n# annoying inconsistency: There are different sets of abbreviations for the two teams! GRR.\nteam_data = pd.DataFrame(raw_data['PossessionTeam'].value_counts())\nteam_data = pd.concat([team_data, raw_data['HomeTeamAbbr'].value_counts(), raw_data['VisitorTeamAbbr'].value_counts()], axis = 1)\nteam_data","918d7fd1":"# now that we have the offense mask, let's replot some of the old data with it\nraw_data['S'][offenseMask].plot(kind='hist', bins=50, color='r', alpha=.5)\nraw_data['S'][~offenseMask].plot(kind='hist', bins=50,alpha=.5)\nplt.title('Speeds of players')\nplt.legend(['Offense','Defense'])\nplt.show()\n\nraw_data['A'][offenseMask].plot(kind='hist', bins=50,color='r', alpha=.5)\nraw_data['A'][~offenseMask].plot(kind='hist', bins=50, alpha=.5)\nplt.title('Accels of players')\nplt.legend(['Offense','Defense'])\nplt.show()\n\nraw_data['Dir'][offenseMask].plot(kind='hist', bins=50, color='r',alpha=.5)\nraw_data['Dir'][~offenseMask].plot(kind='hist', bins=50, alpha=.5)\nplt.title('Angle of motion of players')\nplt.legend(['Offense','Defense'])\nplt.show()","e8945d19":"id_name_pairs = raw_data[['NflId', 'DisplayName']].drop_duplicates()\nid_name_counts = id_name_pairs.groupby('NflId').count().reset_index().rename(columns = {'DisplayName':'Count'})\nid_name_counts.describe()","a1486948":"double_name_IDs = id_name_counts[id_name_counts['Count'] > 1]['NflId']\nid_name_pairs[id_name_pairs['NflId'].isin(double_name_IDs)].sort_values('NflId')","76c43df1":"raw_data['JerseyNumber'].plot(kind='hist', bins=50)\n# popular jersy numbers, weighted by number of plays!","c4e4ce4d":"raw_data['Season'].value_counts().plot(kind='bar')","64493a01":"raw_data['YardLine'].plot(kind='hist', bins=50)","f2e77ba4":"raw_data['FieldPosition'].value_counts().plot(kind='bar')","2f30c5a8":"\nfield_pos_data = pd.DataFrame(raw_data['FieldPosition'].value_counts())\nfield_pos_data = pd.concat([team_data, raw_data['HomeTeamAbbr'].value_counts(), raw_data['VisitorTeamAbbr'].value_counts()], axis = 1)\nfield_pos_data","077b80dd":"def yardline_to_X(row):\n    poss_team = row['PossessionTeam']\n    field_team = row['FieldPosition']\n    yardline = row['YardLine']\n    print(\"Poss:\", poss_team)\n    print(\"Field:\", field_team)\n    print(\"Yardline:\", yardline)\n    print(row['PlayDirection'])\n    if row['PlayDirection'] == 'left':\n        # <<<\n        if poss_team == field_team:\n            return 110-yardline\n        else:\n            return 10+yardline\n    else:\n        # >>>\n        if poss_team == field_team:\n            return 10+yardline\n        else:\n            return 110-yardline\n        \n    \n#raw_data.apply(yardLine_to_X, axis=1).plot(kind='hist', bins=100)","672ea5d5":"def graphPlay3(GameId, PlayId):\n    '''\n    Makes a visual depiction of the play.\n    The ball carrier is marked yellow.\n    The arrows indicate the direction of movement of the player. \n    The length of the black arrow is proportional to the speed.\n    The length of the orange arrow is proportional to the accel. \n    The direction of accel is not provided, and so it is plotted in the direction of motion.\n    The dotted blue line is the line of scrimmage\n    '''\n    play_data = raw_data[(raw_data['GameId'] == GameId) & (raw_data['PlayId'] == PlayId)]\n    colors = {'away':'red', 'home':'blue'}\n    print(play_data.shape)\n    play_data.index = range(22)\n    print(play_data.loc[0,'OffenseFormation'])\n    print(play_data.loc[0,'PlayDirection'])\n    print(play_data.loc[0,'TimeHandoff'])\n    print(play_data.loc[0,'Yards'])\n    ax = plt.gca()\n    scrimmX = yardline_to_X(play_data.loc[0,:])\n    ax.axvline(scrimmX, ls='--')\n    \n    if play_data.loc[0,'PlayDirection'] == 'left':\n        downline = scrimmX-play_data.loc[0,'Distance']\n    else:\n        downline = scrimmX+play_data.loc[0,'Distance']\n    ax.axvline(downline, ls='--', color='orange')\n    for i in play_data.index:\n        playerInfo = play_data.loc[i,:]\n        if playerInfo['NflId'] != playerInfo['NflIdRusher']:\n            plt.plot('X', 'Y', 'ro', markersize=10, color=colors[play_data.loc[i,'Team']], data = playerInfo)\n        else:\n            plt.plot('X', 'Y', 'ro', markersize=10, color='yellow', data = playerInfo)\n        plt.arrow(playerInfo['X'], playerInfo['Y'], playerInfo['S']*sin(radians(playerInfo['Dir'])), playerInfo['S']*cos(radians(playerInfo['Dir'])), head_width=0.5)\n        plt.arrow(playerInfo['X'], playerInfo['Y'], playerInfo['A']*sin(radians(playerInfo['Dir'])), playerInfo['A']*cos(radians(playerInfo['Dir'])),color='orange',head_width=0.5)\n    plt.show()\n    return None","27c4683e":"graphPlay3(*randomPlay())","371a2d89":"raw_data['GameClock'].value_counts()","f7a04d48":"raw_data[raw_data['GameClock']=='00:00:00']","e564f677":"graphPlay3(2017110600, 20171106003613)","60f9cdd2":"raw_data['Quarter'].value_counts()\n\ndef gameClock(PlayId):\n    row = raw_data[raw_data['PlayId'] == PlayId]\n    res = 'Q' + str(row.iloc[0]['Quarter']) + ' - ' + str(row.iloc[0]['GameClock'])\n    return res\n    \ngameClock(randomPlay()[1])","b8745858":"raw_data['Down'].value_counts().plot(kind='bar')","452956e4":"for i in range(1,5):\n    plays = raw_data[raw_data['Down'] == i]\n    plays['Yards'].plot(kind='hist', bins=20)\n    plt.title('Yard on down ' + str(i))\n    print('Average', plays['Yards'].mean(), 'yards on down', i)\n    plt.show()","41990f1a":"def downAndDist(playId):\n    row = raw_data[raw_data['PlayId'] == playId].iloc[0]\n    return str(row['Down']) + ' and ' + str(row['Distance'])\n\ndownAndDist(randomPlay()[1])","84794376":"def fieldPos(playId):\n    row = raw_data[raw_data['PlayId'] == playId].iloc[0]\n    return row['FieldPosition'] + ' ' + str(row['YardLine'])\n\nfieldPos(randomPlay()[1])","b06df1aa":"raw_data['HomeScoreBeforePlay'].value_counts().plot(kind='bar')\nplt.show()\n\nraw_data['VisitorScoreBeforePlay'].value_counts().plot(kind='bar')\nplt.show()","deb4e1e1":"def scoreString(playId):\n    row = raw_data[raw_data['PlayId'] == playId].iloc[0]\n    return row['HomeTeamAbbr'] + ' ' + str(row['HomeScoreBeforePlay']) + '\\n' + row['VisitorTeamAbbr'] + ' ' + str(row['VisitorScoreBeforePlay'])\n\nprint(scoreString(randomPlay()[1]))\n                                     ","66270b99":"raw_data['OffenseFormation'].value_counts()","ded8e104":"raw_data['OffensePersonnel'].value_counts()","5c550ed5":"print(raw_data['DefendersInTheBox'].value_counts())\n\nraw_data[['DefendersInTheBox', 'Yards']].groupby('DefendersInTheBox').mean().plot(kind='bar')","ef2a2af0":"raw_data['DefensePersonnel'].value_counts()","19d72455":"def handoffDelay(playId):\n    row = raw_data[raw_data['PlayId']==playId].iloc[0]\n    snap = pd.Timestamp(row['TimeSnap'])\n    handoff = pd.Timestamp(row['TimeHandoff'])\n    return (handoff-snap).seconds\n    \ndef handoffDelayFromRow(row):\n    snap = pd.Timestamp(row['TimeSnap'])\n    handoff = pd.Timestamp(row['TimeHandoff'])\n    return (handoff-snap).seconds\n\nhandoffs = raw_data.apply(handoffDelayFromRow, axis=1)","54f3fc61":"handoffDelay(randomPlay()[1])","3ac81542":"handoffs.value_counts().plot(kind='bar')","9861c6b7":"raw_data['PlayerWeight'].plot(kind='hist', bins=50)\nplt.show()\n\nraw_data['PlayerHeight'].value_counts().plot(kind='bar')\nplt.show()\n\nprint(raw_data['PlayerCollegeName'].value_counts())\n\n# make a graph of player's ages\nraw_data['PlayerBirthDate'].apply(lambda x: int((pd.Timestamp.now() - pd.Timestamp(x)).days\/365)).value_counts().plot(kind='bar')","8023e18a":"sigma = raw_data['Yards'].std()\nmu = raw_data['Yards'].mean()\nerrors = sigma\/np.sqrt(raw_data.groupby('Week')['Yards'].count())\n\nax = raw_data.groupby('Week')['Yards'].mean().plot(kind='bar', yerr=2*errors)\nax.axhline(raw_data['Yards'].mean())\nplt.show()\n","ca989b68":"means = []\nerrs = []\nplt.gca().axhline(raw_data['Yards'].mean())\nfor i in range(17):\n    sample = raw_data.sample(frac=1\/17)\n    means.append(sample['Yards'].mean())\n    errs.append(2*sigma\/np.sqrt(sample['Yards'].count()))\nplt.bar(range(17), means, yerr=errs)\n","34dc51b1":"raw_data['StadiumType'].value_counts()","019d2628":"raw_data['Turf'].value_counts()","115a81e7":"pd.set_option('display.max_rows', 1000)\nprint(raw_data['GameWeather'].value_counts())\npd.set_option('display.max_rows', 10)","4f360515":"raw_data['Temperature'].plot(kind='hist',bins=20)","eb717d8f":"raw_data['Humidity'].plot(kind='hist', bins=20)","49ca404a":"raw_data['WindSpeed'].value_counts()","f9cc30a7":"raw_data['WindDirection'].value_counts()","bf68b4c0":"raw_data['Dis'].plot(kind='hist', bins=50)","c14cac11":"Now, I want to check out the distributions of the these quantities.","d0908161":"## X, Y\n\nThe coordinates of the player. Let's see if we can make a visual of the locations of the players.","65747112":"## Play Direction\n\nSomething I've been wanting to do for a while now is standardize all the plays to be going to the right. I think I'll do this in the next iteration of EDA.","0ff2f83d":"Interesting. Players are looking towards up and downfield much more often than they're actually moving up and down the field. ","7f4f5107":"## Offense Formation, Offense Personnel\n\nThese are a couple of columns that tell us about how things looked before the snap. Let's check them out.","d09655c1":"Notice that they only go from 0 to 50, so we'll have to do a little more work to convert the yardline into an X coordinate for the modelling. (The 25 yardline from the touchback is clear.) As specified in the competition's rule, X=0 corresponds to the home team's endzone. Hence we need to use \"FieldPosition\" to correct it.","99225b41":"Yes! Each PlayID has 22 players in it, which is good. We also notice that some of the columns are missing data!\n\nI've also discovered that using DataFrames rather than Series takes a long, long, long time. Use Series whenever possible! Let's check and see how many games we have.","b95f4ff0":"The red lines indicate the endzones. The data is symmetric, which is good. What are the odd spikes doing there? Well, after a touchback the ball is placed on the 25 yardline, which I've marked in yellow. As hoped, the spike in handoffs occurs right behind that line. What about handoffs in the endzone? To be expected, since sometimes the offense has to snap from its own 1 or 2 yard line. (Poor guys.)","bdc6ec6b":"## Weather Stats","24eb16fe":"## Yardline, FieldPosition\n\nThis should be incorporated into the visualization! It will probably also be important in modelling, since the relative distance the players are from the yardline is probably a key factor.","a456479f":"There are 256 games in a season, so that means we must have 2 years worth of games here. ","e9db83d7":"# EDA Part 1\n\nThis notebook is basically a stream of consciousness data exploration. I check out each of the features one at a time to see if I need to clean them up, determine how useful they might be, or anticipate difficulties they might give me when I go to start modelling. I don't check out how yardage various with many of them, saving that for another notebook.","0f7a8f67":"## Team\n\nHome or away. Not so important probably, but we could investigate the degree of home field advantage! Let's just make sure the counts are correct:","5275e236":"Based on this histogram, defenders in the box isn't a bad feature to use for prediction?","f951bf65":"Not many runs on fourth down! I'm sort of curious about how fourth down runs actually do...","f2682ba6":"## Offense vs Defense\n\nI wonder how being on offense or defense affects the data? There's not a column that indicates if the player is offense or defense, so let's make a mask for that. (I initially tried to add a column, but the way I did it took too long. This is faster.)","b93a70ce":"## GameID\n\nEach game gets one. Presumably every play in the game gets a row in the dataset, as long as a player touches the ball and it's a run.","d6ebc594":"So windspeed is a weird column that contains not only speeds but... directions?","fc4308d1":"Is this a reasonable number of plays per game? Qquick Google search shows teams have way less than 100 plays per game typically. What gives? Well, it's not one entry per play! It's one entry *per player* per play. Let's make sure this checks out and see that each play ID has 22 entries.","6c392c60":"So yeah, the week-by-week grouping behaves very differently from the random grouping! Maybe it's because the plays are grouped in block of 22?","fa2c31db":"Long story short is to use the IDs and not the player names for identifying players! And just for fun...","3c8df40b":"Interesting! Contrary to what I thought, the offensive players are accelerating more and moving faster at the time of handoff. They also account for the spike in motion to the sidelines.","71ce3652":"So I've marked the error bars according to what I should be getting for a SRS of the given size of that week (I hope...) and we find that for some reason, clumping games week by week makes it behave very differently from a simple random sample. In fact, let's experiment a little:","1a06a0ba":"This is a real play that happened at 00:00:00! If you check out [this play](https:\/\/www.nfl.com\/gamecenter\/2017110600\/2017\/REG9\/lions@packers) you'll find that the play before there was an interference, so presumably the offence got another crack at scoring. ","27f0d1ea":"## Play ID\n\nThe ID of the play. We looked at it a little bit above, so I'll just move on. However, I do want to write a function that will get a random play's (GameID, PlayID) combo","26928956":"Scatter plots of temp and humidity make me think they're not so important.","4f179e7d":"## Down\n\nI don't expect much interesting here. But I'll make a handy function to print out the down and distance for a play!","e7f34ced":"## Player info\n\nThere is a column for player height, player weight, player birthdate, and player college name. Height and weight seem be more useful for predicting than college name and birthdate. I'll probably exlude them from the first models I build. Just for fun, though...","a09c6985":"## TimeSnap, TimeHandoff\n\nMy gut says that alone, neither of these datapoints are too interesting. However, perhaps together they can tell us something.","1107a927":"## Orientation\n\nThis is the direction the player is facing? I'll plot it and compare it to the direction of motion to make sure everything seems sound.\n","e3287268":"Aha. Look how there's a random numeric value here... someone must have swapped speed and direction?","2d44579c":"## HomeScoreBeforePlay, VisitorScoreBeforePlay\n\nScores before the play starts.","68542d8a":"The data in this entry is rather messy: I think if there are 5 OL it doesn't bother to put them, and leaves 1 QB out as well. If those values change, then they're included. Occasionally a defensive player is thrown into the mix. If this data is processed a bit to standardize it, maybe it could be useful.","c84c8633":"Given the fact that a quater starts with 15 mins and there's a 2 min warning, this seems OK. The games with 0 on the clock seem... troubling.","31309907":"Both of these will need cleaning before they'll be useful.","61473266":"The hash marks are yellow here. The interesting thing here is that there are small local peaks around 10 yards from the sidelines. Presumably that's where tosses get caught?","f8fbeaca":"So we need to convert 'FieldPosition' to compare to home-visitor team abbrevations. ","9a17dd76":"The suprising thing to see here is that the main peaks for angle of motion is not along the length of the field, but rather towards the sidelines. I guess this indicates that many of the running plays are not up the middle, but rather out towards the sides. This maybe agrees with the observation that many handoffs occur near the sideline.","2ef636f9":"## Season\n\nWhich year the game took place: 2017 or 2018. Somewhere I read that the measurement data is slightly different from year to year, so this feature might be important","9465f4bb":"Aha! So somebody has more than one name. Who?","fa7d3b70":"## S, Dir, A\n\nwe can make our picture nicer by including arrows indicating the speed and direction of each.","a2463dda":"## Quarter, GameClock","dada319b":"Unlike offensive personnel, this data column doesn't have quite as much variability. It seems the numbers always add up to 11 as expected. Occasionally a random OL is thrown in.","254f725e":"## Cleanup Summary\n\nAfter exploring all these variables, here are the operations I'd like to do to each before running any algs on them:\n\n**Ready-To-Go Features**\nThe following features should be considered for models and kept with only a typecast or simple recoding.\n\n1. GameId, PlayId\n2. Team\n3. S, A\n3. Dis\n3. NflId\n4. JerseyNumber\n5. Season\n6. Quarter\n7. Down\n8. Distance\n9. HomeScoreBeforePlay\n10. VisitorScoreBeforePlay\n11. DefendersInTheBox\n12. PlayerHeight\n13. PlayerWeight\n14. Week\n15. Temperature\n16. Humidity\n\n**Position and Direction Changes**\n\nI think it'd be best to make all plays going towards the right and to only record the player's X distance relative to the line of scrimmage or ball carrier, rather than absolute X. \n\n1. X - shift and flip\n2. Y - shift\n3. Orientation - change angle\n4. Dir - change angle\n5. Yardline - must be altered to an appropriate X value\n\n**Drops**\n\nRemove these features.\n\n1. Displayname - already accountedfor in NflId\n2. NflIdRusher - instead, make the rusher a specific column of the data entry\n3. FieldPosition - incorporated into the yardline after it's been shifted\n4. PlayerCollegeName - it seems unlikely this is important compared to other stats\n5. PlayDirection - used to flip other vars, then not needed\n\n**Conversions and Recodings**\n\nStandardize the following.\n\nThese variables have different conventions.\n1. HomeTeamAbbr\n2. VisitorTeamAbbr\n3. PossessionTeam\n\nConvert the gameclock to raw seconds\n1. Gameclock\n\nConvert birthdate to age\n1. PlayerBirthDate\n\nConvert these to a more standard data format or delete\n1. TimeSnap\n2. TimeHandoff\n\nRecode for consistency\n1. OffenseFormation\n2. GameWeather\n3. StadiumType\n4. Turf\n5. Location\n6. WindDirection\/WindSpeed - Swap the odd value out\n7. Stadium\n\n\n","b40881ed":"## Stadium Type, Turf","1ba85e1f":"## Week\n\nWhich week of the season the game is being played during. Let's see if it correlates with yardage...","d02a5e12":"Nice! What are the distributions of X and Y?","0e47d1c4":"They're not \"home\" and \"visitor\"... they're the abbreviations! We can fix this. Let's copy and paste the abbrevation code from before to see what sorts of abbreviations these are.","fb4b87ba":"## NFL id, DisplayName, Jersey Number\n\nThese are all attributes of the individual player. Some questions come to mind: \n1. Does the NFL id stay consistent with the player from season to season?\n2. Does the DisplayName change? Are there variations in it?","65765f7d":"The spikes at X=35 and X=85 are the expected touchback spikes. The spikes at the endzones are also acceptable. What's a bit confusing is the giant gap at the 50 yard line! What's that all about?"}}