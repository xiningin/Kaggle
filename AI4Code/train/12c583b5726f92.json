{"cell_type":{"35bc53ac":"code","17b3de3e":"code","d388b9ce":"code","2b2020dc":"code","a6763e65":"code","2d987f3c":"code","e743ba40":"code","4193d4d5":"code","508a5726":"code","3f8824a1":"code","b83e0bb8":"code","d4dd3f3d":"code","4e3f9b19":"code","45a823bf":"code","b3ffcd91":"code","f06b8050":"code","7779fd30":"markdown","e5e56f8b":"markdown","5a509295":"markdown","6b98a887":"markdown","afc6938a":"markdown","bb594c5d":"markdown","cbb871c6":"markdown","06cd2cc3":"markdown"},"source":{"35bc53ac":"# Importing libraries\nimport nltk\nimport numpy as np\nimport pandas as pd\nimport pprint, time\nimport random\nfrom sklearn.model_selection import train_test_split\nfrom nltk.tokenize import word_tokenize\nimport math","17b3de3e":"# reading the Treebank tagged sentences\nwsj = list(nltk.corpus.treebank.tagged_sents())","d388b9ce":"# samples: Each sentence is a list of (word, pos) tuples\nwsj[:3]","2b2020dc":"# converting the list of sents to a list of (word, pos tag) tuples\ntagged_words = [tup for sent in wsj for tup in sent]\nprint(len(tagged_words))\ntagged_words[:10]","a6763e65":"# question 1: Find the number of unique POS tags in the corpus\n# you can use the set() function on the list of tags to get a unique set of tags, \n# and compute its length\ntags =  [tags[1] for tags in tagged_words]\nunique_tags = set(tags)\nlen(unique_tags)","2d987f3c":"unique_tags","e743ba40":"# question 2: Which is the most frequent tag in the corpus\n# to count the frequency of elements in a list, the Counter() class from collections\n# module is very useful, as shown below\n\nfrom collections import Counter\ntag_counts = Counter(tags)\ntag_counts","4193d4d5":"# the most common tags can be seen using the most_common() method of Counter\ntag_counts.most_common(5)","508a5726":"# list of POS tags in NLTK\nnltk.help.upenn_tagset()","3f8824a1":"# question 3: Which tag is most commonly assigned to the word w. Get the tags list that appear for word w and then use the Counter()\n# Try w ='bank' \nbank = Counter([tags for tags in tagged_words if tags[0].lower() == 'bank'])\nbank","b83e0bb8":"# question 3: Which tag is most commonly assigned to the word w. Try 'executive' \nexecutive = Counter([tags for tags in tagged_words if tags[0].lower() == 'executive'])\nexecutive","d4dd3f3d":"# 4. how many words with the tag 'VBD' (verb, past tense) end with 'ed'\n# first get the all the words tagged as VBD\npast_tense_verbs = [tags for tags in tagged_words if tags[1]=='VBD']\n\n# subset the past tense verbs with words ending with 'ed'. (Try w.endswith('ed'))\ned_verbs = [tags for tags in past_tense_verbs if tags[0].endswith('ed')]\nprint(len(ed_verbs) \/ len(past_tense_verbs))\ned_verbs[:20]","4e3f9b19":"# 5. how many words with the tag 'VBG' end with 'ing'\nparticiple_verbs = [tags for tags in tagged_words if tags[1] =='VBG']\ning_verbs = [tags for tags in participle_verbs if tags[0].endswith('ing')]\nprint(len(ing_verbs) \/ len(participle_verbs))\ning_verbs[:20]","45a823bf":"# question: what fraction of adjectives JJ are followed by a noun NN\n\n# create a list of all tags (without the words)\ntags = [tags[1] for tags in tagged_words]\n\n# create a list of JJ tags\njj_tags = [t for t in tags if t==\"JJ\"]\n\n# create a list of (JJ, NN) tags\njj_nn_tags = [(t,tags[index+1]) for index, t in enumerate(tags) \n              if t=='JJ' and tags[index+1] == 'NN']\n\nprint(len(jj_tags))\nprint(len(jj_nn_tags))\nprint(len(jj_nn_tags) \/ len(jj_tags))","b3ffcd91":"# question: what fraction of determiners DT are followed by a noun NN\ndt_tags = [t for t in tags if t==\"DT\"]\ndt_nn_tags = [(t,tags[index+1]) for index, t in enumerate(tags) \n              if t=='DT' and tags[index+1] == 'NN']\n\nprint(len(dt_tags))\nprint(len(dt_nn_tags))\nprint(len(dt_nn_tags) \/ len(dt_tags))","f06b8050":"# question: what fraction of modals MD are followed by a verb VB?\nmd_tags = [t for t in tags if t==\"MD\"]\nmd_vb_tags = [(t,tags[index+1]) for index, t in enumerate(tags) \n              if t=='MD' and tags[index+1] == 'VB']\n\nprint(len(md_tags))\nprint(len(md_vb_tags))\nprint(len(md_vb_tags) \/ len(md_tags))","7779fd30":"### 1. Reading and understanding the tagged dataset","e5e56f8b":"In the list mentioned above, each element of the list is a sentence. Also, note that each sentence ends with a full stop '.' whose POS tag is also a '.'. Thus, the POS tag '.' demarcates the end of a sentence.\n\nAlso, we do not need the corpus to be segmented into sentences, but can rather use a list of (word, tag) tuples. Let's convert the list into a (word, tag) tuple.","5a509295":"## POS Tagging - Lexicon and Rule Based Taggers\n\nLet's look at the two most basic tagging techniques - lexicon based (or unigram) and rule-based. \n\nIn this guided exercise, you will explore the WSJ (wall street journal) POS-tagged corpus that comes with NLTK and build a lexicon and rule-based tagger using this corpus as the tarining data. \n\nThis exercise is divided into the following sections:\n1. Reading and understanding the tagged dataset\n2. Exploratory analysis","6b98a887":"## 2. Exploratory Analysis Continued\n\nLet's now try observing some tag patterns using the fact the some tags are more likely to apper after certain other tags. For e.g. most nouns NN are usually followed by determiners DT (\"The\/DT constitution\/NN\"), adjectives JJ usually precede a noun NN (\" A large\/JJ building\/NN\"), etc. \n\nTry answering the following questions:\n1. What fraction of adjectives JJ are followed by a noun NN? \n2. What fraction of determiners DT are followed by a noun NN?\n3. What fraction of modals MD are followed by a verb VB?","afc6938a":"Thus, NN is the most common tag followed by IN, NNP, DT, -NONE- etc. You can read the exhaustive list of tags using the NLTK documentation as shown below.","bb594c5d":"We now have a list of about 100676 (word, tag) tuples. Let's now do some exploratory analyses.","cbb871c6":"### 2. Exploratory Analysis\n\nLet's now conduct some basic exploratory analysis to understand the tagged corpus. To start with, let's ask some simple questions:\n1. How many unique tags are there in the corpus? \n2. Which is the most frequent tag in the corpus?\n3. Which tag is most commonly assigned to the following words:\n    - \"bank\"\n    - \"executive\"\n","06cd2cc3":"### 2. Exploratory Analysis Contd.\n\nUntil now, we were looking at the frequency of tags assigned to particular words, which is the basic idea used by lexicon or unigram taggers. Let's now try observing some rules which can potentially be used for POS tagging. \n\nTo start with, let's see if the following questions reveal something useful:\n\n4. What fraction of words with the tag 'VBD' (verb, past tense) end with the letters 'ed'\n5. What fraction of words with the tag 'VBG' (verb, present participle\/gerund) end with the letters 'ing'"}}