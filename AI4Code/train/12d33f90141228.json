{"cell_type":{"ef742aaf":"code","f736be56":"code","f4daf716":"code","f53847e1":"code","a73e1de0":"code","0d479a04":"code","0065aaec":"code","1167d926":"code","6b2fd62f":"code","e8aac02d":"code","927fb704":"code","dda4a255":"code","da5e4319":"code","d820e9fe":"code","397d7aba":"code","62a2d8b2":"code","39c65df0":"code","4c93fda9":"code","61ead6d6":"code","9bff00ca":"code","f44900b5":"code","16a930a2":"code","0d1ae849":"code","d5516c90":"code","c49635d1":"code","7b54496a":"code","7785f8be":"code","79863511":"code","2280bfe8":"code","3e972db6":"code","d26737b6":"code","afda322e":"code","cb6bd623":"code","13720ea8":"code","bc62d77f":"code","54e8847a":"code","dc98753f":"code","8bd360bd":"code","45961a11":"code","3937c4a8":"markdown","f22ee3ef":"markdown","50adc2af":"markdown","33375002":"markdown","30c34369":"markdown","6c9954b4":"markdown","0bea243a":"markdown","59a47580":"markdown","5e8960fa":"markdown","fd6b97fc":"markdown","22b38df6":"markdown","06bacccd":"markdown","a16786d6":"markdown","f70b75df":"markdown","cee47477":"markdown","58d445a9":"markdown","fa4fd2b4":"markdown","9c51c4f4":"markdown","1fe933fa":"markdown","a103328c":"markdown","a968ce90":"markdown","b592c301":"markdown"},"source":{"ef742aaf":"#Importing libs\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.set_style(\"darkgrid\")\nsns.set_palette(\"Dark2_r\")","f736be56":"df1 = pd.read_csv('\/kaggle\/input\/brasilian-houses-to-rent\/houses_to_rent.csv', index_col = 0)\ndf2 = pd.read_csv('\/kaggle\/input\/brasilian-houses-to-rent\/houses_to_rent_v2.csv')","f4daf716":"print(df1.head())\nprint('------------------------------------------------------')\nprint(df2.head())","f53847e1":"df = df2.copy()\nprint('Printing dataset`s info\\n')\nprint(df.info())\nprint('-----------------------------------------------')\nprint('Checking the quantity of null values\\n')\nprint(df.isna().sum())","a73e1de0":"df.head(10)","0d479a04":"df[df['floor'].str.contains('\\-')==True]","0065aaec":"print('Checking the mode for each column')\ndf.mode()","1167d926":"print('Checking the values quantity\\n')\nprint(df.floor.value_counts())","6b2fd62f":"df['floor'].replace(to_replace=r'\\-', value=1, regex=True, inplace = True)\ndf.head(10)","e8aac02d":"df[df['floor'].str.contains('\\-')==True]","927fb704":"#Transform floor to integer\ndf = df.astype({'floor': 'int64'})\ndf.head(10)","dda4a255":"df.describe().round(2)","da5e4319":"ax = sns.boxplot(df['area'])\nax.figure.set_size_inches(20,6)\nax.set_title('Area', fontsize=20)\nax.set_xlabel('Area (m\u00b2)', fontsize=16)\nax;","d820e9fe":"ax = sns.distplot(df['area'])\nax.figure.set_size_inches(20,6)\nax.set_title('Area', fontsize=20)\nax.set_xlabel('Area (m\u00b2)', fontsize=16)\nax;","397d7aba":"ax = sns.boxplot(df['rooms'])\nax.figure.set_size_inches(20,6)\nax.set_title('Rooms', fontsize=20)\nax.set_xlabel('Number of rooms', fontsize=16)\nax;","62a2d8b2":"ax = sns.distplot(df['rooms'])\nax.figure.set_size_inches(20,6)\nax.set_title('Rooms', fontsize=20)\nax.set_xlabel('Number of rooms', fontsize=16)\nax;","39c65df0":"ax = sns.boxplot(df['bathroom'])\nax.figure.set_size_inches(20,6)\nax.set_title('Bathrooms', fontsize=20)\nax.set_xlabel('Number of bathroom', fontsize=16)\nax;","4c93fda9":"ax = sns.distplot(df['bathroom'])\nax.figure.set_size_inches(20,6)\nax.set_title('Bathrooms', fontsize=20)\nax.set_xlabel('Number of bathroom', fontsize=16)\nax;","61ead6d6":"\nax = sns.boxplot(df['parking spaces'])\nax.figure.set_size_inches(20,6)\nax.set_title('Parking spaces', fontsize=20)\nax.set_xlabel('Number of parking spaces', fontsize=16)\nax;","9bff00ca":"ax = sns.distplot(df['parking spaces'])\nax.figure.set_size_inches(20,6)\nax.set_title('Parking spaces', fontsize=20)\nax.set_xlabel('Number of parking spaces', fontsize=16)\nax;","f44900b5":"ax = sns.boxplot(df['total (R$)'])\nax.figure.set_size_inches(20,6)\nax.set_title('Final price', fontsize=20)\nax.set_xlabel('Price (R$)', fontsize=16)\nax;","16a930a2":"ax = sns.distplot(df['total (R$)'])\nax.figure.set_size_inches(20,6)\nax.set_title('Final price', fontsize=20)\nax.set_xlabel('Price (R$)', fontsize=16)\nax;","0d1ae849":"sns.pairplot(df);","d5516c90":"ax = sns.pairplot(df, y_vars='total (R$)', x_vars=['area', 'rooms', 'bathroom', 'parking spaces', 'floor'], height=5, kind='reg')\nax;","c49635d1":"#Area outliers\nnp.sort(df['area'].unique())[-20:]","7b54496a":"df[df['area']>1000]","7785f8be":"df.drop(df[df['area']>1000].index, inplace = True)","79863511":"ax = sns.boxplot(df['area'])\nax.figure.set_size_inches(20,6)\nax.set_title('Area', fontsize=20)\nax.set_xlabel('Area (m\u00b2)', fontsize=16)\nax;","2280bfe8":"ax = sns.distplot(df['area'])\nax.figure.set_size_inches(20,6)\nax.set_title('Area', fontsize=20)\nax.set_xlabel('Area (m\u00b2)', fontsize=16)\nax;","3e972db6":"ax = sns.distplot(df['rooms'])\nax.figure.set_size_inches(20,6)\nax.set_title('rooms', fontsize=20)\nax.set_xlabel('rooms', fontsize=16)\nax;","d26737b6":"#Total outliers\nprint('Highest prices')\nprint(np.sort(df['total (R$)'].unique())[-50:])\nprint('---------------------------------------------------')\nprint('Total price describe')\nprint(df['total (R$)'].describe().round(2))","afda322e":"df.drop(df[df['total (R$)']>20000].index, inplace = True)","cb6bd623":"ax = sns.distplot(df['total (R$)'])\nax.figure.set_size_inches(20,6)\nax.set_title('Final price', fontsize=20)\nax.set_xlabel('Price (R$)', fontsize=16)\nax;","13720ea8":"ax = sns.boxplot(df['total (R$)'])\nax.figure.set_size_inches(20,6)\nax.set_title('Final price', fontsize=20)\nax.set_xlabel('Price (R$)', fontsize=16)\nax;","bc62d77f":"#Checking the last pairplot line again\nax = sns.pairplot(df, y_vars='total (R$)', x_vars=['area', 'rooms', 'bathroom', 'parking spaces', 'floor'], height=5, kind='reg')\nax;","54e8847a":"plt.figure(figsize=(10,10))\nax = sns.heatmap(df.corr())\nax.set_title('Correlation', fontsize=20)\nax;","dc98753f":"df.city.unique()","8bd360bd":"city_test = pd.get_dummies(df) #Let's see what city is the most expensive\ncity_test.corr().head(15)","45961a11":"ax = sns.boxplot(data = df, x = 'city', y = 'total (R$)', orient = 'v')\nax.figure.set_size_inches(20,6)\nax.set_title('Final price per city', fontsize=20)\nax.set_xlabel('City', fontsize=16)\nax.set_ylabel('Price (R$)', fontsize=16)\nax;","3937c4a8":"#### *Although the correlation between hoa column and total columns is 0.955, this doesn't mean hoa column is a good approach to estimate total column. Total column values is a sum of hoa, rent amount, property tax and fire insurance values. All of then is already calculated based on the remain columns, so We only will have hoa column at the same time we have total column. However, It is possible to try to estimate the columns that generate total values with the remaining columns. <p><br> Usually, the rent amount is the main column for caculate other fees. And It's easier to see a correlation between rent amount and not prices columns.*","f22ee3ef":"#### It's seen there is some outliers at the area column","50adc2af":"#### The dataset owner not specified what means the - values, so I will assume that is a place with the lower number of floor, that is 1 floor","33375002":"#### It's work!","30c34369":"#### There isn't missing values! However, the number of the floor is categorical, Let's chance to numeric.","6c9954b4":"### See you at the next notebook to build a predictive model for this dataset","0bea243a":"____________________________________________________________________________________________________","59a47580":"### Plotting","5e8960fa":"----------------------------------------------------------------------------","fd6b97fc":"#### There is some \"-\" values","22b38df6":"### At first, It will be done a exploratory analysis, plotting and checking stats' data. In a future notebook will be build a predictor model","06bacccd":"#### Let's see first a correlation between columns","a16786d6":"#### There is some outliers, mostly in the area columns that make more difficult have a good analysis visualization.","f70b75df":"-----------------------------------------------------------------------------------------------------","cee47477":"#### Let's see the last line closer","58d445a9":"#### Considering that the first dataset have values 0 or 1 for the city column, I will make my analysis at the second dataset","fa4fd2b4":"#### Checking both datasets","9c51c4f4":"### Columns description\n**city:** Cidade onde o im\u00f3vel est\u00e1 localizada \/ City where the property is located <br>\n**area:** Area do imovel \/ Property area<br>\n**rooms:** Numero de quartos\/ Quantity of rooms<br>\n**bathroom:** Numero de banheiros \/ Quantity of bathroom<br>\n**parking spaces:** Numero de vagas \/ Quantity of parking spaces<br>\n**floor:** Andar \/ Floor<br>\n**animal:** Aceita animais? \/ Acept animals?<br>\n**furnitur:** eMobilhada? \/ Furniture?<br>\n**hoa:** Valor do condominio \/ Homeowners association tax<br>\n**rent amount:** Valor do Aluguel \/ Rent amount<br>\n**property tax:** IPTU \/ Property tax<br>\n**fire insurance:** Seguro Incendio \/ Fire Insurance<br>\n**total:** Valor total \/ Total<br>","1fe933fa":"# Analyzing the rent price at Brazil","a103328c":"#### The visualization is much better now","a968ce90":"#### *It's easy to see that S\u00e3o Paulo is the most expensive city to live.*","b592c301":"#### Checking outliers"}}