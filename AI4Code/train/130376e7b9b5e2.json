{"cell_type":{"904340bf":"code","8258f86a":"code","9a320cf2":"code","a5de282c":"code","52da919c":"code","09b04c6d":"code","25c56e91":"code","b6f311f4":"code","3b32d740":"code","64d9aba9":"code","ba315186":"code","5f3689f1":"code","85c6a608":"markdown","752cf455":"markdown","47b22a1d":"markdown","eda70948":"markdown"},"source":{"904340bf":"import pandas as pd\ndata = pd.read_csv('..\/input\/seekcom-data-jobs-for-melbourne\/seek_job_detail_scraped.csv',engine='python')\ndata.head()","8258f86a":"# how many records\ndata.shape","9a320cf2":"# top 20 job titles by % sample\n# heavily skewed towards analysts\nimport matplotlib.pyplot as plt\ndata.job_title.value_counts(normalize='True').head(20).plot(kind='bar')","a5de282c":"# what about data scientist\ndata.job_title.str.contains('scientist',case=False).sum()\/data.shape[0]","52da919c":"# diving into the details, just not that common\ndata.loc[data.job_title.str.contains('scientist',case=False),'job_title'].value_counts().head(10)","09b04c6d":"# pattern courtesy of https:\/\/stackoverflow.com\/questions\/53703626\/find-years-of-experience-in-a-string-using-regexs-in-python\nimport re\nrx = re.compile(r\"(\\d+(?:-\\d+)?\\+?)\\s*(years?)\", re.I)\nrx2 = re.compile(r\"(\\d+)\")\ndef years_extraction(description):\n  exp_temp = rx.search(description)\n  if exp_temp:\n    return exp_temp.groups()[0]\n\ndef min_years(desc2):\n  exp_temp = rx2.search(str(desc2))\n  if exp_temp:\n    return exp_temp.groups()[0]    \n    \n\ndata['years_extraction'] = data['job_details'].apply(years_extraction)\ndata['min_years'] = data['years_extraction'].apply(min_years)\n\nmin_years = data.min_years.value_counts(normalize=True).head(20).sort_index()\nmin_years\n# some eroneous values - likely from companies talking about their heritage","25c56e91":"data[~data.years_extraction.isna()].shape[0]","b6f311f4":"# final look - proportion of job titles with junior, associate\nmask = data.job_title.str.contains('intern',case=False) #|\\\n#data.job_title.str.contains('associate',case=False) |\\\n#data.job_title.str.contains('junior',case=False)\ndata[mask].shape[0]\/data.shape[0]","3b32d740":"min_years_prep = min_years.append(pd.Series([data[mask].shape[0]\/data.shape[0],0],index=['0','9']))\nmin_years_prep = min_years_prep[min_years_prep.index.isin([str(i) for i in range(11)])].copy()\nmin_years_prep.index = [int(i) for i in min_years_prep.index]\nmin_years_prep.sort_index(inplace=True)\nmin_years_prep\n# labels = min_years[min_years.index.isin([str(i) for i in range(11)])].index\n# values = min_years[min_years.index.isin([str(i) for i in range(11)])].values\n# labels = np.append(labels,'0')\n# values = np.append(values,data[mask].shape[0]\/data.shape[0])\n# labels","64d9aba9":"min_years_prep.cumsum()","ba315186":"import matplotlib as mpl\nmpl.rcParams.update(mpl.rcParamsDefault)","5f3689f1":"import matplotlib.ticker as mtick\nimport os\nos.chdir(r'\/kaggle\/working')\n# import matplotlib.style as style\n# style.use('fivethirtyeight')\nfig = plt.figure(figsize=(6,4))\nax = fig.gca()\nplt.fill_between(min_years_prep.cumsum().index,min_years_prep.cumsum().values)\nax.yaxis.set_major_formatter(mtick.PercentFormatter(1.0))\nplt.annotate('Less than 1% of jobs require\\nno experience',(0,0.01),xytext=(0,0.5),arrowprops={'arrowstyle':'->'})\nax.set_xlabel('Years of Experience\\n\\n\\n')\nax.set_ylabel('Eligibility for % of Openings')\nax.set_title('Eligibility for Melbourne Job Postings given Years of Experience')\ntxt = \"\"\"~6000 Jobs were posted on Seek.com within 30 days of May 24 2021\nThese jobs spanned Analytics, Data Engineering, and Data Science\nNot all jobs had a Years of Experience Requirement - but we're generalising from those that do\nInternships were considered needing 0 years experience\nAcknowledgements: Saad Abbas for data extraction - https:\/\/bit.ly\/SeekMelbData\"\"\"\nplt.tight_layout(rect=[0, 0.05, 1, 0.99])\nplt.figtext(0.5, 0.02, txt, wrap=True, horizontalalignment='center', fontsize=8)\n\nplt.savefig('years_experience.png')\nplt.show()","85c6a608":"# Scope\n- Read Data\n- Parse Years Experience\n- Plot Results","752cf455":"## Parsing Years Experience","47b22a1d":"This plot has its troubles. We're assuming that the sample of jobs where we can extract years experience generalizes to the population of all jobs. ","eda70948":"## Plotting years experience"}}