{"cell_type":{"7ee5c5a7":"code","510d5a5b":"code","86e022bd":"code","d49bee92":"code","2a6ba189":"code","1f325a69":"code","77752be5":"code","18bbd447":"code","01a10adf":"code","24ca21e9":"code","922eeced":"code","05e71fc8":"code","4f6b3e2f":"code","ab1da83e":"code","dccb231d":"code","05a5710c":"code","2e1e6269":"code","06121af9":"code","87c99134":"code","b5c15a68":"code","a0594301":"code","1b8851dd":"code","41709bb6":"code","acc84218":"code","a3b2461f":"code","d8f18558":"code","85d6f247":"code","442832ea":"code","972a342d":"code","bbee49f1":"code","a5e2a0dc":"code","890a72ba":"code","e455013d":"code","b285fae5":"code","c753ee12":"code","0c1f3984":"code","df76e65a":"code","c5d12cdd":"code","5c175a1d":"code","8ba91e3d":"code","201fc27f":"code","91f1adf8":"code","6498a2dd":"code","075a7bc7":"code","cb1e3685":"markdown","109d1e35":"markdown","df0e3011":"markdown","c31e6b2a":"markdown","12508d4c":"markdown","10a819a5":"markdown","70eb9fe2":"markdown","d184f14e":"markdown","6698cca6":"markdown","b97005d9":"markdown","6a63674d":"markdown","30350e67":"markdown","226aa3f4":"markdown","fad61109":"markdown","45fc6370":"markdown","131fa62d":"markdown","70f18339":"markdown","dbee7b44":"markdown","b840c521":"markdown","122bd6b2":"markdown","0ea7dd37":"markdown","0ac0e7f6":"markdown","05dcb0cf":"markdown","ccb66d7c":"markdown","569a0ab8":"markdown","9077b00b":"markdown","ccb224ac":"markdown","704ce775":"markdown","f4bed7e3":"markdown","d649293b":"markdown","71ae0f99":"markdown"},"source":{"7ee5c5a7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","510d5a5b":"#loading data and setting index\n\ntrain = pd.read_csv(\"..\/input\/titanic\/train.csv\", index_col = \"PassengerId\")\ntest = pd.read_csv(\"..\/input\/titanic\/test.csv\", index_col = \"PassengerId\")\nsub = pd.read_csv(\"..\/input\/titanic\/gender_submission.csv\")","86e022bd":"#combining dataset\ndata = pd.concat([train, test], axis=0, sort=False)","d49bee92":"data.sample(5)","2a6ba189":"#shape of data\ndata.head()","1f325a69":"#understanding data and data types of columns\ndata.info()","77752be5":"#exploring data\ndata.describe()","18bbd447":"#remove null data\ndata.isnull().sum()","01a10adf":"#replace null values of age with mean value\nage_mean  = round(data['Age'].mean())\ndata['Age'].fillna(age_mean, inplace = True)","24ca21e9":"data.isna().sum()","922eeced":"data.drop(['Cabin'],axis = 1,inplace = True)","05e71fc8":"data.isnull().sum()","4f6b3e2f":"data = data.dropna(subset=['Fare'])\ndata = data.dropna(subset =['Embarked'])","ab1da83e":"data.isna().sum()","dccb231d":"#best way to derive numeric column from datset\ndata.describe().columns","05a5710c":"data.columns","2e1e6269":"num = data[['Age', 'SibSp', 'Parch', 'Fare']]\n#note down all columns apart of these columns\nnon_num = data[['Survived','Pclass','Sex','Ticket','Embarked']]\n","06121af9":"survived = data['Survived'].value_counts()\nsur_data = [survived[0], survived[1]]\nlable = ['survived', 'not survived']\nexplode = [0,0.1]","87c99134":"plt.pie(sur_data,labels = lable, explode = explode,autopct='%1.1f%%',shadow = True);","b5c15a68":"passenger_gender = data['Sex'].value_counts()\npas_data = [passenger_gender[0], passenger_gender[1]]\nlable = ['female', 'male']\nexplode = [0,0.1]","a0594301":"plt.pie(pas_data,labels = lable, explode = explode,autopct='%1.1f%%',shadow = True);","1b8851dd":"#distributions for all numeric variables \nfor i in num.columns:\n    plt.hist(num[i],color='#008000')\n    plt.title(i)\n    plt.show()","41709bb6":"print('{0:.2f}% of Parch values are 0'.format(data.Parch.value_counts(1)[0]*100))\nprint('{0:.2f}% of SibSp values are 0'.format(data.SibSp.value_counts(1)[0]*100))","acc84218":"data['Embarked'].value_counts()","a3b2461f":"#labeling data \nfrom sklearn.preprocessing import LabelEncoder\n\nlb_make = LabelEncoder()\n\ndata['Sex'] = lb_make.fit_transform(data['Sex'])\ndata['Embarked'] = lb_make.fit_transform(data['Embarked'])\n#c- 0 q- 1 s - 2 \n#f-0 m-1 \n                                  ","d8f18558":"data['Embarked'].value_counts()","85d6f247":"columns = ['Pclass', 'Sex','Embarked','SibSp', 'Parch','Survived']\n\nplt.figure(figsize=(18, 16))\nsns.set(font_scale= 1)\nsns.set_style('whitegrid')\n\nfor i, feature in enumerate(columns):\n    plt.subplot(3, 3, i+1)\n    sns.countplot(data=data, x=feature, hue='Survived', palette='dark')\n    \nsns.despine()","442832ea":"columns = ['Pclass', 'Sex','Embarked','SibSp', 'Parch','Survived']\n\nplt.figure(figsize=(18, 16))\nsns.set(font_scale= 1)\nsns.set_style('whitegrid')\n\nfor i, feature in enumerate(columns):\n    plt.subplot(3, 3, i+1)\n    sns.countplot(data=data, y=feature, hue='Sex', palette='tab10')\n    \nsns.despine()","972a342d":"data.corr()","bbee49f1":"#correlation between entities in dataset\nplt.figure(figsize=(10,8))\nsns.heatmap(data.corr(),annot=True, cmap=\"YlGnBu\");\n","a5e2a0dc":"# Tickets - Do different ticket types impact survival rates\ndata.sample()","890a72ba":"data[['Pclass', 'Survived']].groupby(['Pclass'], as_index = True).mean()\n","e455013d":"plt.figure(figsize = (15,6))\nsns.pointplot(data = data, x = 'Pclass', y = 'Survived', hue = 'Sex')","b285fae5":"plt.figure(figsize = (18,8))\ng = sns.FacetGrid(data, col = 'Survived')\ng.map(plt.hist, 'Age', bins = 10)","c753ee12":"plt.figure(figsize = (18,8))\ng = sns.FacetGrid(data, col = 'Survived')\ng.map(plt.hist, 'Sex', bins = 10)","0c1f3984":"data['Title'] = data.Name.str.extract(' ([A-Za-z]+)\\.', expand = False)\npd.crosstab(data['Title'], data['Sex'])","df76e65a":"    data['Title'] = data['Title'].replace(['Capt', 'Col', 'Don', 'Dr', 'Major', 'Rev', 'Sir', 'Jonkheer'], 'Male_rare')\n    data['Title'] = data['Title'].replace(['Lady', 'Countess', 'Dona'], 'Female_rare')\n    data['Title'] = data['Title'].replace(['Mme','Ms','Mlle'], 'Ms')","c5d12cdd":"pd.crosstab(data['Title'], data['Sex'])","5c175a1d":"data[['Title', 'Survived']].groupby(['Title'], as_index=False).mean()\nfacet = sns.FacetGrid(data = data, hue = \"Title\", legend_out=True, size = 4.5, palette = 'bright')\nfacet = facet.map(sns.kdeplot, \"Age\")\nfacet.add_legend();","8ba91e3d":"sns.boxplot(data = data, x = \"Title\", y = \"Age\", palette = 'bright')","201fc27f":"data['Family'] = data.SibSp + data.Parch","91f1adf8":"pd.crosstab(data['Family'], data['Survived'])","6498a2dd":"pd.crosstab(data['Family'], data['Survived']).mean()","075a7bc7":"facet = sns.FacetGrid(data, hue=\"Survived\",aspect=3 , palette = 'bright')\nfacet.map(sns.kdeplot,'Family',shade= True)\nfacet.set(xlim=(0, data['Family'].max()))\nfacet.add_legend()","cb1e3685":"\nConcating two datasets for deep understanding and better results from training data","109d1e35":" a) Pie chart representing survival of passenger","df0e3011":"b) Pie chart reprenting sex ratio of total passenger","c31e6b2a":"c) Insight 3 : survival rate on basis of gender representation.","12508d4c":"analysis : from above graph, master title passenger survived having age below 20, male with rare titles having age above 40 were able to survive. \n\ngraph shows that females having miss title in their 30s were having higher survival rate than females having mrs title in their 30s. females with rare title with age around 40 are having higher survival ratio than that of males with rare titles.","10a819a5":"**Conclusion and Methodologies**\n\n1.  Understanding the shape of the data\n2.  Exploring Data(find null values)\n3.  Cleaning Data(replacing values with appropriate values)\n4.  Data preprocessing : Creating simple visual for easier understanding of data.\n5.  Note observed insight of data.\n6.  Feature Engineering.\n7.  Results.\n8.  Conlusion.\n","70eb9fe2":"There's cabin column containting 1014 null values, its better to drop the column rather than mis-interpreting results from dataset.","d184f14e":"Insight 4 : We want to examine correlation between titles and survival. for that, we need to extract titles from name column containing names along with titles of passengers ","6698cca6":"a) Insight 1 : compare survival rate impact on ticket class fare","b97005d9":"**2. Exploring Data.**","6a63674d":"**6. Feature Engineering** : process of using domain knowledge to extract features from raw data","30350e67":"e) Representing impact on cat columns on survival rates.","226aa3f4":"f) Finding Correlation between every  data with eachother\ncorrelation : the relationship between any set of data when considered together, imapact of increment in one entity to other entity. ","fad61109":"b) Insight 2: survival rate based on age of passengers","45fc6370":"Thanks!","131fa62d":"**insight from categorical features** :\n\nNames are unique across the dataset (count=unique=891)\n\nSex variable as two possible values with 65% male and 35% of females.\n\n62% passengers were able to survive where as 38% lost their lives.\n\nCabin values have several dupicates across samples and nulls, thus, preferred to drop the column\n\nTicket feature has high ratio (22%) of duplicate values (unique=681).","70f18339":"**Data Processing (simple visulization)**","dbee7b44":"Analysis : childrens(that is age below 10) survived whereas,over 200 people who were in their 30s were unable survive.","b840c521":"1. **Understanding shape of Data.**","122bd6b2":"**Data Cleaning** :\nAge column consist 263 null values, replacing null values with average(mean) of all the value in age column. ","0ea7dd37":"Analysis 1 : from above table,\n62% of passengers took first class ticket survived,\nwhere as, 24% of passengers took lower class survived.","0ac0e7f6":"e) Insight 4 : Title and age correlation representation on boxplot.","05dcb0cf":"Here we import the data. For this analysis, we will be exclusively working with the Training set. We will be validating based on data from the training set as well. For our final submissions, we will make predictions based on the test set.","ccb66d7c":"**insight from numerical values** :\n\nTotal samples are 891 or 40% of the actual number of passengers on board the Titanic (2,224).\n\nSurvived is a categorical feature with 0 or 1 values.\n\nAround 38% samples survived representative of the actual survival rate at 32%.\n\nMost passengers (> 75%) did not travel with parents or children.\n\nNearly 30% of the passengers had siblings and\/or spouse aboard.","569a0ab8":"d) Representing impact on numerical columns on survival rates.","9077b00b":"**3. Data Cleaning** ","ccb224ac":"**Data Cleaning** : survived, embarked and fare are still having null values, these data are necessary for getting accurate insight, thus these columns can not be dropped. fare and embareked are having 1 and 2 null values repectively.hence, it is preferrable to drop rows containing null values.","704ce775":"c) Couting number of total numerical data and categorical data in dataset","f4bed7e3":"d) Insight 4 : correlation between Title, Survival rate based on Sge ","d649293b":"from above representation, it's clear that number of female survivors were more in each class fare than male.","71ae0f99":"from above table, we extracted title, and created table consisting title and their gender, with a view to create easy analysis, here, i am grouping title based on their gender(for instance : lady, miss, mr as ms)"}}