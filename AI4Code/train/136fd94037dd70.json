{"cell_type":{"152a9c8d":"code","caf92778":"code","4558fdec":"code","4dde043a":"code","f0c2058d":"code","b7d4fa39":"code","298600ff":"code","a4df513f":"code","6429b533":"code","f4d3a8ee":"code","e25b912d":"code","c60c102a":"code","3700b48e":"markdown","f13b22ab":"markdown","7e961d01":"markdown","13d76627":"markdown","44961201":"markdown","1b100f87":"markdown","aff89531":"markdown","600060e2":"markdown","613b1c58":"markdown","d42fdb1c":"markdown","0aa4743f":"markdown"},"source":{"152a9c8d":"! pip install -q rich","caf92778":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nimport random\n\nimport plotly.graph_objects as go\n\nfrom rich import print as _pprint","4558fdec":"def cprint(string):\n    \"\"\"\n    Utility function for beautiful colored printing.\n    \"\"\"\n    _pprint(f\"[black]{string}[\/black]\")\n\ndef show_pd_table(df, name):\n    cells_out = [df[x] for x in df.columns]\n    \n    fig = go.Figure(data=[go.Table(\n        header=dict(values=list(df.columns),\n                    fill_color='paleturquoise',\n                    align='left'),\n        cells=dict(values=cells_out,\n                   fill_color='lavender',\n                   align='left'))\n    ])\n    \n    fig.update_layout(\n    title={\n        'text': name,\n        'y':0.9,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top'})\n\n    fig.show()","4dde043a":"awards = pd.read_csv(\"..\/input\/mlb-player-digital-engagement-forecasting\/awards.csv\")\nplayers = pd.read_csv(\"..\/input\/mlb-player-digital-engagement-forecasting\/players.csv\")\nseasons = pd.read_csv(\"..\/input\/mlb-player-digital-engagement-forecasting\/seasons.csv\")\nteams = pd.read_csv(\"..\/input\/mlb-player-digital-engagement-forecasting\/teams.csv\")\ntrain = pd.read_csv(\"..\/input\/mlb-player-digital-engagement-forecasting\/train.csv\")","f0c2058d":"train.head()","b7d4fa39":"show_pd_table(awards.head(20), name='Awards DataFrame [First-20 Values]')","298600ff":"show_pd_table(players.head(20), name='Players DataFrame [First-20 Values]')","a4df513f":"show_pd_table(seasons, name='Seasons DataFrame [First-20 Values]')","6429b533":"show_pd_table(teams.head(20), name='Teams DataFrame [First-20 Values]')","f4d3a8ee":"players.describe()","e25b912d":"fig, ax = plt.subplots(nrows=1, ncols=2, figsize=(12, 7))\nfig.suptitle(f\"Height and Weight Distribution\")\n\nsns.histplot(players['heightInches'], stat='density', color='magenta', legend=True, ax=ax[0])\nsns.histplot(players['weight'], stat='density', color='blue', legend=True, ax=ax[1])\n\nax[0].set_xlabel(\"Height\")\nax[1].set_xlabel(\"Weight\")\nax[0].set_ylabel(\"Density\")\nax[1].set_ylabel(\"Density\")\nplt.show()","c60c102a":"_pprint(\"[bold green]Under Work![\/bold green]\")","3700b48e":"## About the Competition \ud83c\udff4\u200d\u2620\ufe0f\n\nA player hits a walk-off home run. A pitcher throws a no-hitter. A team gets red hot going into the Postseason. We know some of the catalysts that increase baseball fan interest. Now Major League Baseball (MLB) and Google Cloud want the Kaggle community\u2019s help to identify the many other factors which pique supporter engagement and create deeper relationships betweens players and fans.\n\nIn this competition, we will predict how fans engage with MLB players\u2019 digital content on a daily basis for a future date range. You\u2019ll have access to player performance data, social media data, and team factors like market size. Successful models will provide new insights into what signals most strongly correlate with and influence engagement.","f13b22ab":"Sample template using `mlb` module to write a submission file:\n\n```python\nimport mlb\nenv = mlb.make_env() # initialize the environment\niter_test = env.iter_test() # iterator which loops over each date in test set\n\nfor (test_df, sample_prediction_df) in iter_test:\n    sample_prediction_df['target1'] = 100 #make predictions here\n    env.predict(sample_prediction_df)\n```","7e961d01":"<hr>","13d76627":"### Player Height and Weight Distribution","44961201":"<hr>","1b100f87":"## How does the Data look like? \ud83d\uddc3\n\nSo, the data provided to us in this competition consists of 7 `.csv` files and 1 folder called `mlb\/`\n\nBelow is the breakdown of the `.csv` files;\n\n* \ud83d\udcc4 `train.csv` - This file is the training dataset.\n\n* \ud83d\udcc4 `awards.csv` - This file is a collection of awards given out prior to the first date in the training file.\n\n* \ud83d\udcc4 `players.csv` - This file contains high level information about all MLB players in this dataset.\n\n* \ud83d\udcc4 `seasons.csv` - This file contains information about start and end dates of all seasons in this dataset.\n\n* \ud83d\udcc4 `teams.csv` - This file contains high level information about all MLB teams.\n\n* \ud83d\udcc4 `example_test.csv` - This file is an example in the form of the test set that you\u2019ll be evaluated on..\n\n* \ud83d\udcc4 `example_sample_submission.csv` - This file is a sample submission file in the correct format based on the example test set.","aff89531":"<hr>","600060e2":"## Peeking at the Data \ud83d\udcc8\n\nNow that you have an understanding of the task and the dataset, let's start by looking at the different data files provided and some stats on them.","613b1c58":"<div class=\"alert alert-block alert-info\">\nThis is a Code comeptition and the submissions in this competition must be made using the <code>mlb<\/code> python module.\n<\/div>","d42fdb1c":"## What is our task? \ud83c\udfaf\n\nIn this competition, we are tasked with forecasting four different measures of engagement (`target1`-`target4`) for a subset of MLB players who are active in the 2021 season.\n\nThe data contains a set of static files that do not change with time as well as a training file of daily data which is grouped by the day.\n\nThis is a code competition that relies on a time-series module to ensure models do not peek forward in time. The time series module provides you with the test data and writes your submission file automatically. The test data arrives in a data frame identical in format to `train.csv`, except it does not contain the target values.\n\nYou are highly recommended to visit the [Evaluation](https:\/\/www.kaggle.com\/c\/mlb-player-digital-engagement-forecasting\/overview\/evaluation) Page for more info on submission.","0aa4743f":"# Introduction and Imports \ud83d\udcd4\n\nLet's get started with this new tabular data competition! \n\nBelow is a brief introduction to it as well as the data files we will be working with!"}}