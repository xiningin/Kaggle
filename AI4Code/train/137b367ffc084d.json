{"cell_type":{"198e35bd":"code","63f04d10":"code","2699a232":"code","8474c3e9":"code","9710d848":"code","7ad77d65":"code","b20b1818":"code","9f98409d":"code","59ad2ec6":"code","96987aac":"code","d9e02ec2":"code","a72ae7b1":"markdown","a216b2d3":"markdown","973c6233":"markdown","378294ed":"markdown","0949d074":"markdown","4222944f":"markdown","4cb1bd3e":"markdown","63ef7125":"markdown","c684c933":"markdown","ee00febc":"markdown","2c5cf298":"markdown","e188c933":"markdown","6253982a":"markdown"},"source":{"198e35bd":"import numpy as np \nimport pandas as pd\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","63f04d10":"data = pd.read_csv('\/kaggle\/input\/us-military-deaths-by-cause-19802010\/U.S. Military Deaths by cause 1980-2010.csv')\ndata.style.applymap(lambda x: \"background-color: #e0caba\")\n","2699a232":"def EDA(df):\n    \n    print('\\033[1m' +'EXPLORATORY DATA ANALYSIS :'+ '\\033[0m\\n')\n    print('\\033[1m' + 'Shape of the data :' + '\\033[0m')\n    print(df.shape, \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'All columns from the dataframe :' + '\\033[0m')\n    print(df.columns, \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'Datatpes and Missing values:' + '\\033[0m')\n    print(df.info(), \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'Summary statistics for the data :' + '\\033[0m')\n    print(df.describe(include='all'), \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n        \n    print('\\033[1m' + 'Memory used by the data :' + '\\033[0m')\n    print(df.memory_usage(), \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'Number of duplicate values :' + '\\033[0m')\n    print(df.duplicated().sum())\n          \nEDA(data)","8474c3e9":"fig = go.Figure()\n\nfig.add_trace(go.Bar(\n    x = data['Calendar Year'],\n    y = data['Total Deaths'],\n    text = data['Total Deaths'],\n    textposition = 'outside'\n))\n\nfig.add_shape(type=\"line\",\n    x0=2002.7, y0=1480, x1=2002.7, y1=2250,\n    line=dict(\n        color = \"#8bd990\",\n        width = 2,\n        dash = 'dot')\n             )\n\nfig.add_shape(type=\"line\",\n    x0=2000.7, y0=1040, x1=2000.7, y1=2600,\n    line=dict(\n        color = \"#d9ae8b\",\n        width = 2,\n        dash = 'dot')\n             )\n\ncolors = ['#6175b0',] * 31\ncolors[3] = '#f52a2a'\ncolors[9] = '#b0af61'\ncolors[10] = '#e396d2'\ncolors[11] = '#e396d2'\ncolors[13] = '#576156'\n\nfig.add_annotation(    \n    x = 1983,\n    y = 2600,\n    text = 'U.S. Invasion <br>of Grenada',\n    yanchor = 'bottom',\n    arrowhead = 2,\n    arrowwidth=1,\n    arrowcolor=\"#636363\",\n    ax = 0,\n    ay = -20,\n    font=dict(size=12, color=\"black\"),\n    bordercolor='black',\n    align=\"center\",\n    borderwidth=1,\n    borderpad=4,\n    bgcolor = '#badbda'\n  )\n\n\nfig.add_annotation(\n    x = 1989,\n    y = 1750,\n    text = 'U.S. Invasion<br> of Panama',\n    yanchor = 'bottom',\n    arrowhead = 2,\n    arrowwidth=1,\n    arrowcolor=\"#636363\",\n    ax = 0,\n    ay = -40,\n    font=dict(size=12, color=\"black\"),\n    bordercolor='black',\n    align = \"center\",\n    borderwidth=1,\n    borderpad=4,\n    bgcolor = '#badbda'\n  )\n\n\nfig.add_annotation(    \n    x = 1990.5,\n    y = 1400,\n    text = 'Gulf War',\n    yanchor = 'bottom',\n    arrowhead = 6,\n    arrowwidth = 1,\n    arrowsize = 2,\n    arrowcolor=\"#636363\",\n    ax = 55,\n    ay = -90,\n    font=dict(size=12, color=\"black\"),\n    bordercolor='black',\n    align=\"center\",\n    borderwidth=1,\n    borderpad=4,\n    bgcolor = '#badbda'\n  )\n\nfig.add_annotation(    \n    x = 1993.2,\n    y = 1300,\n    text = 'U.S.<br>Somalia<br>War',\n    yanchor = 'bottom',\n    arrowhead = 2,\n    arrowwidth = 1,\n    arrowsize = 1,\n    arrowcolor=\"#636363\",\n    ax = 0,\n    ay = -20,\n    font=dict(size=12, color=\"black\"),\n    bordercolor='black',\n    align = 'left',\n    borderwidth=1,\n    borderpad=4,\n    bgcolor = '#badbda'\n  )\n\nfig.add_annotation(    \n    x = 2006.2,\n    y = 2700,\n    text = 'U.S. War in Afghanistan 2001-2021',\n    showarrow = False,\n    font=dict(size=12, color=\"black\"),\n    bordercolor='black',\n    align = 'center',\n    borderwidth=1,\n    borderpad=2,\n    bgcolor = '#d9ae8b'\n  )\n\nfig.add_annotation(    \n    x = 2007,\n    y = 2300,\n    text = 'U.S. War in Iraq 2003-2011',\n    showarrow = False,\n    font=dict(size=12, color=\"black\"),\n    bordercolor='black',\n    align = 'center',\n    borderwidth=1,\n    borderpad=2,\n    bgcolor = '#8bd990'\n  )\n\nfig.update_traces(marker_color= colors,\n                  marker_line_color='black',\n                  marker_line_width=1.8,\n                  opacity=0.6)\n\n\nfig.update_layout(\n    title_text = 'Total deaths by Year with major events',\n    plot_bgcolor='white',\n    height = 550,\n    width = 800,\n    xaxis = dict(\n        tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside'),\n    yaxis = dict(\n        tickfont = dict(size=10),\n        showgrid = False,\n        showline = False,\n        showticklabels = True),\n    showlegend = False)\n\nfig.update_xaxes(range=[1979,2011])\n\n\n\nfig.show()","9710d848":"fig = make_subplots(rows = 2, cols=1)\n\nfig.append_trace(go.Scatter(\n                            x = data['Calendar Year'],\n                            y = data['Total Military FTE'],\n                            name = 'Total Military FTE',\n                            mode = 'lines+markers',\n                            marker=dict(color=\"#6aa87b\")\n                            ), row=1, col=1)\n\nfig.append_trace(go.Scatter(\n                            x = data['Calendar Year'],\n                            y = data['Total Deaths'],\n                            name = 'Total Deaths',\n                            mode = 'lines+markers',\n                            marker=dict(color=\"#d96e6a\")\n                            ), row=2, col=1)\n\nfig.add_shape(type=\"line\",\n              x0=1983, y0=0, x1=1983, y1=2465,\n              line=dict(\n                color = \"#d96e6a\",\n                width = 2,\n                dash = 'dot'),\n              row=2, col=1)\n\nfig.add_shape(type=\"line\",\n              x0=1985, y0=0, x1=1985, y1=2252,\n              line=dict(\n                color = \"#d96e6a\",\n                width = 2,\n                dash = 'dot'),\n              row=2, col=1)\n\nfig.add_shape(type=\"line\",\n              x0=1991, y0=0, x1=1991, y1=1787,\n              line=dict(\n                color = \"#d96e6a\",\n                width = 2,\n                dash = 'dot'),\n              row=2, col=1)\n\nfig.add_shape(type=\"line\",\n              x0=2003, y0=1399, x1=2010, y1=1399,\n              line=dict(\n                color = \"#d96e6a\",\n                width = 2,\n                dash = 'dot'),\n              row=2, col=1)\n\nfig.add_shape(type=\"line\",\n              x0=2001, y0=943, x1=2010, y1=943,\n              line=dict(\n                color = \"#d96e6a\",\n                width = 2,\n                dash = 'dot'),\n              row=2, col=1)\n\nfig.add_trace(go.Scatter(\n    x=[1983, 1986.35, 1991, 2006, 2006],\n    y=[2700, 200, 1857, 1260, 780],\n    text=[\"U.S invasion<br>of Grenada\",\n          \"U.S.<br>Panama<br>war\",\n          \"Gulf War\",\n          \"U.S. Iraq War\",\n          \"U.S. Afganistan War\"],\n    mode=\"text\",),\n    row=2, col=1)\n\nfig.update_layout(height=800, width=800,\n                  title = 'Total Military FTE V\/S Deaths Trend',\n                  plot_bgcolor='white',\n                  showlegend = False)\n\n\nfig.update_xaxes( \n        row=1, col=1,tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside')\n\nfig.update_xaxes( \n        row=2, col=1,tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside')\n\nfig.update_yaxes(title_text='Total Military FTE', row=1, col=1, tickfont = dict(size=10))\nfig.update_yaxes(title_text='Total Deaths', row=2, col=1, tickfont = dict(size=10))\n\nfig.show()","7ad77d65":"total = pd.DataFrame(data.loc[:, 'Accident ': 'Undetermined '])\n\nplt.figure(figsize = (16, 10), dpi = 100)\n\ncorr = total.corr()\nmask = np.triu(np.ones_like(corr, dtype = bool))\n\nsns.heatmap(corr,\n            mask = mask,\n            cmap = 'RdGy_r',\n            annot = True,\n            linewidths = 0.5,\n            fmt = \".2f\",\n            alpha = 0.6)\n\nplt.title('Correlation among Death Causes',\n          fontsize = 20,\n          weight = 'semibold',\n          color = '#614863')\nplt.show()","b20b1818":"total = data.loc[:, 'Accident ': 'Undetermined '].sum()\n\nfig = go.Figure(data=[go.Pie(\n             values = total,\n             labels = total.index,\n             title = 'Total Deaths by Causes',\n             hole = 0.5,\n             pull = [0.05,0,0,0,0,0,0,0]\n)])\n\nfig.update_traces(hoverinfo='label+percent',\n                  textinfo='label+percent',\n                  textfont_size=12,\n                  opacity = 0.8,\n                  showlegend = False,\n                  marker = dict(colors=px.colors.sequential.Pinkyl * 2,\n                              line=dict(color='#000000', width=1)))\n\nfig.update_layout(margin=dict(t=0, b=0, l=0, r=0))\nfig.show()","9f98409d":"fig = px.line(data,\n              x=\"Calendar Year\",\n              y= (data['Hostile Action'] + data['Terrorist Attack']) \/ data ['Total Deaths'],\n              title='Life expectancy in Canada',\n              markers = True,\n              color_discrete_sequence = ['#f5bd07'])\n\n\nfig.add_shape(type=\"line\",\n              x0=2001, y0=0.55, x1=2010, y1=0.55,\n              line=dict(\n                color = \"#07b2f5\",\n                width = 2,\n                dash = 'dot'))\n\nfig.add_trace(go.Scatter(\n    x=[1983, 1991, 2005.5],\n    y=[0.15, 0.12, 0.56],\n    text=[\"U.S invasion<br>of Grenada\",\n          \"Gulf War\",\n          \"U.S. Iraq and Afganistan Wars\"],\n    mode=\"text\",))\n\n\nfig.update_layout(\n    title_text = 'Deaths due to Hostility (Terrorists + Hostile Action) over the years',\n    plot_bgcolor='white',\n    height = 650,\n    width = 1000,\n    xaxis = dict(\n        title = 'Year',\n        tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside'),\n    yaxis = dict(\n        title = 'Proportion of Deaths',\n        tickfont = dict(size=10)),\n        showlegend = False)\n\nfig.show()","59ad2ec6":"fig = px.line(data,\n              x=\"Calendar Year\",\n              y= data['Accident '] \/ data ['Total Deaths'],\n              title='Life expectancy in Canada',\n              markers = True,\n              color_discrete_sequence=px.colors.qualitative.Dark2)\n\nfig.add_annotation(    \n    x = 2008,\n    y = 0.6,\n    \n    text = '''\n* More U.S. troops are killed in accidents than combat duty.<br>\n* These accidents predominantly include Aviation accidents<br>\n  among all others occuring during military's training.<br><br>\n* Albeit the accidental deaths' proportion has been decreasing.<br>\n* This may be attributable to increase in quality of both<br> \n  military apparatus and training measures.\n          ''',\n    font=dict(size=13, color=\"black\", family = 'Courier New'),\n    bordercolor='black',\n    align=\"left\",\n    borderwidth=1,\n    borderpad=1,\n    bgcolor = '#e6e0ac',\n    opacity = 0.8\n  )\n\n\nfig.update_layout(\n    title_text = 'Accidental Military Deaths over the years',\n    plot_bgcolor='white',\n    height = 650,\n    width = 1000,\n    xaxis = dict(\n        title = 'Year',\n        tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside'),\n    yaxis = dict(\n        title = 'Proportion of Accidental Deaths',\n        tickfont = dict(size=10)),\n        showlegend = False)\n\nfig.show()","96987aac":"fig = px.line(data,\n              x=\"Calendar Year\",\n              y= data['Self-Inflicted'] \/ data ['Total Deaths'],\n              title='Life expectancy in Canada',\n              markers = True,\n              color_discrete_sequence = ['#816094'])\n\nfig.add_layout_image(\n    dict(\n        source = \"https:\/\/i.ibb.co\/H7fNhrG\/military-suicides.png\",\n        xref = \"paper\", yref = \"paper\",\n        x=1, y=0.75,\n        sizex=0.35, sizey=0.35,\n        xanchor=\"right\", yanchor=\"bottom\",\n        opacity = 0.5\n    )\n)\n\n\nfig.update_layout(\n    title_text = 'Self inflicted Military Deaths over the years',\n    plot_bgcolor='white',\n    height = 650,\n    width = 1000,\n    xaxis = dict(\n        title = 'Year',\n        tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside'),\n    yaxis = dict(\n        title = 'Proportion of Self inflicted Deaths',\n        tickfont = dict(size=10)),\n        showlegend = False)\n\nfig.show()","d9e02ec2":"buttons = []\ni = 0\nvis = [False, False, False, False, False, False, False, False]\n\nfor col in total.index:\n    vis[i] = True\n    buttons.append({'label' : col,\n             'method' : 'update',\n             'args'   : [{'visible' : vis},\n             {'title'  : col}] })\n    i+=1\n    vis = [False, False, False, False, False, False, False, False] \n\nfig = go.Figure()\n\n\nfor col in total.index:\n    fig.add_trace(go.Scatter(\n                  x = data[\"Calendar Year\"],\n                  y = data[col]\/data['Total Deaths'],\n                  mode = 'markers+lines',\n                  name = col,\n                  ))\n  \n    \nfig.update_layout(\n    title_text = 'All Military Death causes (proportion) over the Years',\n    plot_bgcolor='white',\n    height = 700,\n    width = 1000,\n    xaxis = dict(\n        title = 'Year',\n        tickfont = dict(size=10),\n        tickmode = 'array',\n        tickvals = data['Calendar Year'],\n        ticktext = data['Calendar Year'],\n        tickangle = 60,\n        ticklen = 6,\n        showline = True,\n        showgrid = False,\n        linewidth=1,\n        ticks = 'outside'),\n    yaxis = dict(\n        title = 'Proportion of Deaths',\n        tickfont = dict(size=10)),\n    updatemenus = [dict(\n                        type = 'dropdown',\n                        x = 1.2,\n                        y = 0.5,\n                        showactive = True,\n                        active = 0,\n                        buttons = buttons)],\n    annotations=[dict(text = \"<b>Choose<br>Column<b> : \",\n                     font = dict(size = 14),\n                     showarrow=False,\n                     x = 1.15, y = 0.55, xref='paper', yref = \"paper\", align = \"left\")]\n)\n\nfor i in range(1,8):\n    fig.data[i].visible = False\n\nfig.show()","a72ae7b1":"<img src = 'https:\/\/i.postimg.cc\/jSFkSRQR\/Understanding-deaths-in-the-u-s-Military.gif' width = 1080>","a216b2d3":"<img src=\"https:\/\/i.postimg.cc\/Ghb0KGxf\/pie.png\" width=1080>","973c6233":"<img src = \"https:\/\/i.postimg.cc\/Dwfwj5GJ\/ezgif-com-gif-maker.gif\" width = 1080>","378294ed":"<img src=\"https:\/\/i.postimg.cc\/hPtDjLxn\/why.png\" width=1080\/>","0949d074":"<img src=\"https:\/\/i.postimg.cc\/FRYQrg1R\/Coffee-Please.png\" width=1080>","4222944f":"<img src = 'https:\/\/i.postimg.cc\/j26xBcGw\/ezgif-com-gif-maker-1.gif' width = 1080 \/>","4cb1bd3e":"* Thank you for sitting the notebook  \n* Any feedback is appreciated  \n* Ask questions if you have any   ","63ef7125":"<img src=\"https:\/\/i.postimg.cc\/xd2xgR9N\/total-deaths.png\" width = 1080>","c684c933":"<img src=\"https:\/\/i.postimg.cc\/7ZbNM0q3\/ezgif-com-gif-maker.gif\" width=1080>","ee00febc":"<img src=\"https:\/\/i.postimg.cc\/Gt207Pnr\/ezgif-com-gif-maker.gif\" width = 1080>","2c5cf298":"<img src=\"https:\/\/i.postimg.cc\/tJrqXJ4p\/ezgif-com-gif-maker.gif\" width=1080\/>","e188c933":"<img src=\"https:\/\/i.postimg.cc\/DZcJdhnH\/trend.png\" width=1080>","6253982a":"<img src=\"https:\/\/i.postimg.cc\/cJgSZBvJ\/ezgif-com-gif-maker-1.gif\" width=1080>"}}