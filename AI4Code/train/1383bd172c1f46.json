{"cell_type":{"52302fb0":"code","ad5a2963":"code","1e2cd94b":"code","3f0ecd5d":"code","17e1b9c2":"code","d900d332":"code","3c4b8788":"code","543ec8cb":"code","72664e38":"code","bfde6549":"code","86cea68f":"code","5b0c8a99":"code","d4d4ceac":"code","f9e4d24d":"code","a7b6c04e":"code","20fc5ec4":"code","47e44ea1":"code","cc14c450":"code","7f55e49d":"code","68679b61":"markdown","536c3ab4":"markdown","e62f7988":"markdown","f94eff6a":"markdown","90b39a9b":"markdown","c1d2c532":"markdown","e8016f20":"markdown","7b71538f":"markdown","d63f9610":"markdown","ff80d212":"markdown","ea662716":"markdown","c57378de":"markdown","48705ea2":"markdown","da867407":"markdown","e60b82cb":"markdown","9380b301":"markdown","2e1fd42d":"markdown","83533595":"markdown","7615f66b":"markdown"},"source":{"52302fb0":"import pandas as pd\nfrom scipy.stats import shapiro\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom scipy.stats import shapiro\nimport pandas as pd\nimport itertools\nimport statsmodels.stats.api as sms\nfrom scipy.stats import shapiro\nimport scipy.stats as stats\ndf = pd.read_csv(\"..\/input\/pricingg\/pricing kopyas 2.csv\" , sep = \";\")\n\n","ad5a2963":"#Gorsellestirme(Ayk\u0131r\u0131 degerlerin gozlenmesi)\n\nsns.boxplot(x = \"category_id\" , y = \"price\" , data = df)\nsns.barplot(x = \"category_id\" , y = \"price\" , data = df)","1e2cd94b":"#Toplam gozlem say\u0131s\u0131\n\nlen(df)","3f0ecd5d":"#Ayk\u0131r\u0131 degerler\u0131n alt ve ust degerlerinin tespiti.\n\ndef outlier_thresholds(dataframe, variable):\n    quartile1 = dataframe[variable].quantile(0.05)\n    quartile3 = dataframe[variable].quantile(0.95)\n    interquantile_range = quartile3 - quartile1\n    up_limit = quartile3 + 1.5 * interquantile_range\n    low_limit = quartile1 - 1.5 * interquantile_range\n    return low_limit, up_limit\n\n\n\ndef replace_with_thresholds(dataframe, variable):\n    low_limit, up_limit = outlier_thresholds(dataframe, variable)\n    dataframe.loc[(dataframe[variable] < low_limit), variable] = low_limit\n    dataframe.loc[(dataframe[variable] > up_limit), variable] = up_limit\n\n\n\n#Bask\u0131lama fonksiyonunun uygulanmas\u0131\nreplace_with_thresholds(df, \"price\")","17e1b9c2":"#Guven aral\u0131klar\u0131n\u0131n hesaplanmas\u0131\n\nsms.DescrStatsW(df.price).tconfint_mean()","d900d332":"#\u0130lk iki gozlemin gosterilmesi.\n\ndf.head(2)","3c4b8788":"#Kategoriler aras\u0131ndaki deger fark\u0131.\n\ndf.category_id.value_counts()","543ec8cb":"#A\/B testinin daha sagl\u0131kl\u0131 sonuc vermesi  kategorilerin hepsini e\u015fitledim.\n\ndf_a = df.loc[df.category_id == 489756 , \"price\"][0:97].reset_index()\ndf_b = df.loc[df.category_id == 874521 , \"price\"][0:97].reset_index()\ndf_c = df.loc[df.category_id == 361254 , \"price\"][0:97].reset_index()\ndf_d = df.loc[df.category_id == 326584 , \"price\"][0:97].reset_index()\ndf_e = df.loc[df.category_id == 675201 , \"price\"][0:97].reset_index()\ndf_f = df.loc[df.category_id == 201436 , \"price\"][0:97].reset_index()","72664e38":"#Kategorilerin s\u00fctun baz\u0131nda birlestirilmesi.(A\/B testine haz\u0131rl\u0131k.)\n\ndff = pd.concat([df_a, df_b, df_c , df_d , df_e , df_f] ,axis = 1)\ndff = dff.iloc[:,[1,3,5,7,9,11]]\n\ndff.columns = [\"489756\",\"874521\",\"361254\",\"326584\",\"675201\",\"201436\"]\ndff.head(2)","bfde6549":"#Eksik degerlerin sorgulanmas\u0131\n\ndff.isnull().sum()","86cea68f":"#Normallik varsay\u0131m\u0131. Tum caprazlamalarda pvalue degeri 0.05'den kucuk oldugu icin H0 reddedilir. Yani, normal da\u011f\u0131l\u0131m varsay\u0131m\u0131 sa\u011flanmamaktad\u0131r.\n\nitems = [\"489756\",\"874521\",\"361254\",\"326584\",\"675201\",\"201436\"]\na = [(items[i],items[j]) for i in range(len(items)) for j in range(i+1, len(items))]\n\nfor i in range(0,15):\n    print(a[i][0] , \"ve\" , a[i][1])\n    df_a = dff[a[i][0]]\n    #df_a = df_a.reset_index()\n    df_a.columns = [\"A\"]\n    df_b = dff[a[i][1]]\n    #df_b = df_b.reset_index()\n    df_b.columns = [\"B\"]\n    print('Test \u0130statisti\u011fi = %.4f, p-de\u011feri = %.4f' % shapiro(df_a))\n    print('Test \u0130statisti\u011fi = %.4f, p-de\u011feri = %.4f' % shapiro(df_b))","5b0c8a99":"#Varyans homojenligi(tum varyanslar homojen dag\u0131lmaktad\u0131r.)\n\n\nitems = [\"489756\",\"874521\",\"361254\",\"326584\",\"675201\",\"201436\"]\na = [(items[i],items[j]) for i in range(len(items)) for j in range(i+1, len(items))]\n\nfor i in range(0,15):\n    print(a[i][0] , \"ve\" , a[i][1] )\n    print('Test \u0130statisti\u011fi = %.4f, p-de\u011feri = %.4f' % stats.levene(dff[a[i][0]], dff[a[i][1]]))\n    \n    p = stats.levene(dff[a[i][0]], dff[a[i][1]])\n    if p[1] < 0.05:\n        print(a[i][0] , \"ve\" , a[i][1] , \" pvalue degeri 0.05'den kucuk oldugu icin h0 reddedilir. Yani varyanslar homojen dag\u0131lmamaktad\u0131r.\")\n    else:\n        print(a[i][0] , \"ve\" , a[i][1] , \" pvalue degeri 0.05'den buyuk oldugu icin h0 reddedilemez. Yani varyanslar homojen dag\u0131lmaktad\u0131r.\")","d4d4ceac":"#Tum caprazlamalarda normallik saglanmad\u0131g\u0131 icin nonparametrik testi (Mann-Whitney U test)  yapacag\u0131z. \n\n\nitems = [\"489756\",\"874521\",\"361254\",\"326584\",\"675201\",\"201436\"]\na = [(items[i],items[j]) for i in range(len(items)) for j in range(i+1, len(items))]\n\n\nfor i in range(0,15):\n    print(a[i][0] , \"ve\" , a[i][1] )\n    p = stats.stats.mannwhitneyu(dff[a[i][0]] , dff[a[i][1]])\n    \n    if p[1] < 0.05:\n        print(\"-\"*100)\n        print(a[i][0] , \"ve\" , a[i][1] , \"pvalue degeri 0.05'den kucuk oldugu \u0131c\u0131n H0 reddedilir.\")\n        \n        \n        print(\"-\"*100)\n    else:\n        print(\"pvalue degeri 0.05'den buyuk oldugu icin H0 reddedilemez. \")\n        \n ","f9e4d24d":"#Ortalamalar\u0131n al\u0131nmas\u0131.\n\ndff.mean().mean()","a7b6c04e":"#Betimleyici istatistiklerine bak\u0131lmas\u0131.\n\ndff.describe().T","20fc5ec4":"#Hareket edilebilir aral\u0131k olusturulmas\u0131.\n\nsms.DescrStatsW(df.price).tconfint_mean()","47e44ea1":"#1. ad\u0131m : 42 birim alt\u0131nda sat\u0131n almak isteyenlerden , elde edilecek gelirin hesaplanmas\u0131\n\nfrekans = len(df.loc[df.price < 42])\ngelir = frekans * 42\ngelir\n","cc14c450":"#2. ad\u0131m : 42 ve 44  birim aras\u0131nda  sat\u0131n almak isteyenlerden , elde edilecek gelirin hesaplanmas\u0131\n\n\nfrekans_2 = len(df.loc[(df.price >= 42) & (df.price < 44)])\ngelir = frekans_2 * 43\ngelir","7f55e49d":"#3. ad\u0131m :  44  birim ustunde  sat\u0131n almak isteyenlerden , elde edilecek gelirin hesaplanmas\u0131\n\nfrekans_3 = len(df.loc[(df.price >= 44)])\ngelir = frekans_3 * 44\ngelir","68679b61":"# A\/B Testi","536c3ab4":"- Elde edilecek gelir 32384 birimdir.\n","e62f7988":"- Elde edilecek gelir 4257 birimdir.\n","f94eff6a":"- 489756 ve 874521\n- 489756 ve 361254\n- 489756 ve 326584\n- 489756 ve 675201 \n- 489756 ve 201436\n- 874521 ve 326584\n- 361254 ve 326584\n- 326584 ve 675201\n- 326584 ve 201436\n\n\nYukar\u0131dak\u0131 ikili gruplar\u0131n ortalamalar\u0131nda bir farkl\u0131l\u0131k oldugu AB testi sonucunda gozukmektedir. ","90b39a9b":"- Elde edilecek gelir 109746 birimdir.\n","c1d2c532":"Guven aral\u0131klar\u0131n\u0131n bulunmas\u0131\n(42.74026448657552, 44.62467838760549)\n\n\n","e8016f20":"# \u0130lk soruya ba\u011fl\u0131 olarak item'\u0131n fiyat\u0131 ne olmal\u0131d\u0131r? Nedenini a\u00e7\u0131klay\u0131n\u0131z?\n- A\u015fag\u0131da goruldugu gibi tum kategorilerin tutar ortalamas\u0131 36 oldugu icin bu secilebilir.  Cunku yapt\u0131g\u0131m\u0131z caprazlamalarda sadece iki cifti ortalamalar\u0131nda istatistiki farkl\u0131l\u0131k vard\u0131. Yani bu gruplar\u0131n ortalamas\u0131n\u0131 alsak da tum gruplar\u0131 temsil etmeyecektir. Bundan dolay\u0131 tum tutarlar\u0131n ortalamas\u0131n\u0131 ald\u0131m. Lakin bunun da sans eseri olabilecek olaylar\u0131 \u00f6ngermeme yard\u0131m etmediginden dolay\u0131 guven aral\u0131klar\u0131na bakmaya karar verdim.\n","7b71538f":"# Gelir Simulasyonu","d63f9610":"A\/B testinin yap\u0131labilmesi icin iki varsay\u0131m\u0131n saglanmas\u0131 gerekmektedir.Bunlar:\n\n- 1.Normallik Varsay\u0131m\u0131\n- 2.Varyans Homojenli\u011fi\n\nGelin varsay\u0131mlar\u0131 saglay\u0131p saglamad\u0131g\u0131n\u0131 kontrol etmek icin kategoriler aras\u0131nda caprazlama yaparak bunu test edelim.\n\nNot :\n***Hipotezlerin pvalue degerine gore yorumlanmas\u0131:***\n- Pvalue degeri 0.05'den buyukse H0 reddedilemez.\n- Pvalue degeri 0.05'den kucukse H0 reddedilir.\n\n","ff80d212":"#KEND\u0130ME NOT\n\n\n\"bes\",\"alti\",\"yedi\",\"sekiz\"]\nimport numpy as np\ndf_2 = pd.cut(range(0,3448), 8,\n       labels=[\"bir\",\"iki\",\"uc\",\"dort\",\"bes\",\"alti\",\"yedi\",\"sekiz\"], ordered=False)\ndf_2 = pd.DataFrame(df_2)\ndf_2.columns = [\"category_1\"]\ntype(df_2)","ea662716":"Guven aral\u0131klar\u0131n\u0131 hesaba katarsak 3 cesit fiyat stratejisi yapmam\u0131z gerekmektedir.Bu stratejiler sonucunda elde edecegimiz gelirin hesaplanmas\u0131n\u0131 yapmaya baslayabiliriz.","c57378de":"A\/B testinin hipotezleri\n- H0 : \u0130ki grubun sat\u0131n alma miktar ortalamalar\u0131n\u0131n aras\u0131nda istatistiksel olarak anlaml\u0131 bir fark yoktur.\n- H1 : \u0130ki grubun sat\u0131n alma miktar ortalamalar\u0131n\u0131n aras\u0131nda istatistiksel olarak anlaml\u0131 bir fark vard\u0131r.\n\n***\u0130statistiksel olarak anlaml\u0131 fark bulunan ikili gruplar:***\n- 489756 ve 874521\n- 489756 ve 361254\n- 489756 ve 326584\n- 489756 ve 675201 \n- 489756 ve 201436\n- 874521 ve 326584\n- 361254 ve 326584\n- 326584 ve 675201\n- 326584 ve 201436\n\nYukar\u0131dak\u0131 capraz kategorilerin pvalue degerleri 0.05'den kucuk oldugu icin H0 reddedilir. Yani, iki grubun sat\u0131n alma miktar ortalamalar\u0131n\u0131n aras\u0131nda istatistiksel olarak anlaml\u0131 bir fark vard\u0131r.","48705ea2":"# Bag\u0131ms\u0131z \u0130ki Orneklem T Testinin Yap\u0131lmas\u0131 (A\/B TESTING)","da867407":"**1.Normallik Varsay\u0131m\u0131**\n- H0 : Normal da\u011f\u0131l\u0131m varsay\u0131m\u0131 sa\u011flanmaktad\u0131r.\n- H1 : Normal da\u011f\u0131l\u0131m varsay\u0131m\u0131 sa\u011flanmamaktad\u0131r.\n\n\n","e60b82cb":"## Item'in fiyat\u0131 kategorilere g\u00f6re farkl\u0131l\u0131k g\u00f6stermekte midir? \u0130statistiki olarak ifade ediniz.\n- Kategoriler aras\u0131nda item'e verilen deger degismektedir.Kategorileri kendi aralar\u0131nda caprazlay\u0131p bag\u0131ms\u0131z \u0131k\u0131 orneklem T testine soktugumuzda ; asa\u011f\u0131dak\u0131 ikili gruplar\u0131n pvalue degeri 0.05' den kucuk oldugu icin H0 hipotezi reddedilir. Yani gruplar\u0131n(asag\u0131daki iki cift) ortalamas\u0131n\u0131 kars\u0131last\u0131rd\u0131g\u0131m\u0131zda sans eseri olamayacak sekilde birbirinden farkl\u0131 oldugu gozukmektedir.\n","9380b301":"# Fiyat konusunda \"hareket edebilir olmak\" istenmektedir. Fiyat stratejisi i\u00e7in karar destek sistemi olu\u015fturunuz ve olas\u0131 fiyat de\u011fi\u015fiklikleri i\u00e7in item sat\u0131n almalar\u0131n\u0131 ve gelirlerini sim\u00fcle ediniz.","2e1fd42d":"***PRICING***\n\n\nBir oyun \u015firketi bir oyununda kullan\u0131c\u0131lar\u0131na item sat\u0131n al\u0131mlar\u0131 i\u00e7in hediye paralar vermi\u015ftir.\nKullan\u0131c\u0131lar bu sanal paralar\u0131 kullanarak karakterlerine \u00e7e\u015fitli ara\u00e7lar sat\u0131n almaktad\u0131r.\nOyun \u015firketi bir item i\u00e7in fiyat belirtmemi\u015f ve kullan\u0131c\u0131lardan bu item'\u0131 istedikleri fiyattan almalar\u0131n\u0131 sa\u011flam\u0131\u015f.\n\u00d6rne\u011fin kalkan isimli item i\u00e7in kullan\u0131c\u0131lar kendi uygun g\u00f6rd\u00fckleri miktarlar\u0131 \u00f6deyerek bu kalkan\u0131 sat\u0131n alacaklar.\n\u00d6rne\u011fin bir kullan\u0131c\u0131 kendisine verilen sanal paralardan 30 birim, di\u011fer kullan\u0131c\u0131 45 birim ile \u00f6deme yapabilir.\nDolay\u0131s\u0131yla kullan\u0131c\u0131lar kendilerine g\u00f6re \u00f6demeyi g\u00f6ze ald\u0131klar\u0131 miktarlar ile bu item'\u0131 sat\u0131n alabilirler.\n\n\u00c7\u00f6z\u00fclmesi gereken problemler:\n1. Item'in fiyat\u0131 kategorilere g\u00f6re farkl\u0131l\u0131k g\u00f6stermekte midir? \u0130statistiki olarak ifade ediniz.\n2. \u0130lk soruya ba\u011fl\u0131 olarak item'\u0131n fiyat\u0131 ne olmal\u0131d\u0131r? Nedenini a\u00e7\u0131klay\u0131n\u0131z?\n3. Fiyat konusunda \"hareket edebilir olmak\" istenmektedir. Fiyat stratejisi i\u00e7in karar destek sistemi olu\u015fturunuz ve\n4. olas\u0131 fiyat de\u011fi\u015fiklikleri i\u00e7in item sat\u0131n almalar\u0131n\u0131 ve gelirlerini sim\u00fcle ediniz.\n\n\n","83533595":"**2.Varyans Homojenligi Varsay\u0131m\u0131**\n\n\n***Varyans homojenligi varsay\u0131m\u0131nda kurulan h\u0131potez:***\n- H0: Varyanslar Homojendir.\n- H1: Varyanslar Homojen De\u011fildir.\n\n***Varyans homojenliginin degerlendirilmesi:***\nGruplar aras\u0131nda yap\u0131lan caprazlamalar sonucunda tum pvalue degerleri 0.05'den buyuk oldugu \u0131c\u0131n H0 reddedilemez. Yani Varyanslar homojendir. \u0130stisna olarak caprazlamada 489756 ve 201436 gruplan\u0131n\u0131n varyans homojenligi saglamad\u0131g\u0131 tespit edilmistir.","7615f66b":"***Normallik varsay\u0131m sonuclar\u0131n\u0131n degerlendirilmesi***\n- Tum caprazlamalarda pvalue degeri 0.05'den kucuk oldugu icin H0 reddedilir. Yani, normal da\u011f\u0131l\u0131m varsay\u0131m\u0131 sa\u011flanmamaktad\u0131r. Bundan dolay\u0131 nonparametrik testi (Mann-Whitney U test) yapacag\u0131z.\n"}}