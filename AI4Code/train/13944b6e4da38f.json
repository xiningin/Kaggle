{"cell_type":{"6dc5ff56":"code","493a9367":"code","7d1807aa":"code","7f936ede":"code","a8aa8de3":"code","fd2b61b6":"code","fd398d4a":"code","3735992c":"code","25a5dcfb":"code","c5e6165b":"code","921bdee7":"code","fba52771":"code","fdf2006f":"code","3e7e84ec":"code","996ea970":"code","3ff64783":"code","5a4ff2f1":"code","a8b376c4":"code","52c6c6f3":"code","f47824af":"code","59e7a021":"code","4acea47d":"code","d285ee82":"code","ddf5a630":"code","bc0a592e":"code","5fe3044e":"code","c5774c5d":"code","cbdd701a":"code","15e465ef":"code","1bba2137":"code","97cf6247":"code","69108be1":"code","8f90122c":"code","870d516f":"code","60f7a84e":"code","37caf297":"code","d6a5aaf1":"code","357ea57b":"code","6eda4ffa":"code","74bff4de":"code","13fd0299":"code","666e7735":"code","da40d793":"code","a97b5217":"code","5410a182":"code","264a5175":"code","6cd9d198":"code","e8d3d0ea":"code","efc5fc9a":"code","6aa902c7":"code","3ec50aff":"code","d67dc2d4":"code","b607eb9e":"code","1ea29282":"code","66bd6718":"code","0b4d0866":"code","f233866f":"code","fe51a54f":"markdown","02937436":"markdown","134f0baa":"markdown","27eabfba":"markdown","91c203d5":"markdown","2fc892fa":"markdown","168e779d":"markdown","c368d6b4":"markdown","d7222886":"markdown","3a21741d":"markdown","03a9fd23":"markdown","fcc6e79b":"markdown","bc7e5094":"markdown","15457887":"markdown","e135cc39":"markdown","43c29082":"markdown","291bed6a":"markdown","1cd56866":"markdown","867563fc":"markdown","a651c4e7":"markdown","e13d86e7":"markdown","c7867ae4":"markdown","aac0f34b":"markdown","0718c724":"markdown","27e8b10c":"markdown","424dc3c8":"markdown"},"source":{"6dc5ff56":"# Import relevant libraraies\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport missingno as msno\n%matplotlib inline","493a9367":"# Load the data\ntrain = pd.read_csv(\"..\/input\/airbnb-recruiting-new-user-bookings\/train_users_2.csv\")\ntrain.head()","7d1807aa":"train.columns","7f936ede":"train.info()","a8aa8de3":"print(\"Null value % in age is: \" + \"{0:.2%}\".format(sum(train.age.isnull())\/train.shape[0]))","fd2b61b6":"train.age.describe()","fd398d4a":"plt.figure(figsize=(20,6))\nsns.countplot(train.age)\nplt.xticks(rotation=90) ","3735992c":"train.loc[train.age < 18, 'age'] = np.nan\ntrain.loc[train.age > 95, 'age'] = np.nan","25a5dcfb":"train.age = train.age.replace(\"NaN\", np.nan)","c5e6165b":"plt.figure(figsize=(20,6))\nsns.countplot(train.age)\nplt.xticks(rotation=90) ","921bdee7":"plt.figure(figsize=(6,6))\ntemp = train.age\nsns.distplot(temp.dropna())","fba52771":"temp.dropna().describe()","fdf2006f":"print(\"Now the % of null values in age is: \" + \"{0:.2%}\".format(sum(train.age.isnull())\/train.shape[0]))","3e7e84ec":"print(\"% of people with age <= 40: \" + \"{0:0.2%}\".format(sum(train.age <= 40)\/sum(train.age.notnull()))\n     + \"\\n% of people with age > 40: \"+ \"{0:0.2%}\".format(sum(train.age > 40)\/sum(train.age.notnull())))","996ea970":"print(\"Null value % in gender is: \" + \"{0:.2%}\".format(sum(train.gender.isnull())\/train.shape[0]))","3ff64783":"print(\"Unique values in Gender:\",set(train.gender))","5a4ff2f1":"train.gender.replace('-unknown-', np.nan, inplace=True)","a8b376c4":"print(\"Unique values in Gender:\",set(train.gender))","52c6c6f3":"print(\"New null value % in gender is: \" + \"{0:.2%}\".format(sum(train.gender.isnull())\/train.shape[0]))","f47824af":"sns.countplot(train.gender)","59e7a021":"print(train.gender.value_counts()\/sum(train.gender.notnull())*100)","4acea47d":"print(\"Null value % in language is: \" + \"{0:.2%}\".format(sum(train.language.isnull())\/train.shape[0]))","d285ee82":"print(set(train.language))","ddf5a630":"plt.figure(figsize=(20,6))\nsns.countplot(train.language)","bc0a592e":"for i in set(train.language):\n    print(i,\": \" + \"{0:.2%}\".format(sum(train.language == i)\/sum(train.language.notnull())))","5fe3044e":"print(set(train.country_destination))","c5774c5d":"print(\"Null % is: \" + \"{0:0.2%}\".format(sum(train.country_destination.isnull())\/train.shape[0]))","cbdd701a":"plt.figure(figsize=(14,4))\nsns.countplot(train.country_destination)","15e465ef":"print(train.country_destination.value_counts()\/sum(train.country_destination.notnull())*100)","1bba2137":"print(\"Signup Method null % is: \" + \"{0:0.2%}\".format(sum(train.signup_method.isnull())\/train.shape[0]))\nprint(\"Signup Flow null % is: \" + \"{0:0.2%}\".format(sum(train.signup_flow.isnull())\/train.shape[0]))\nprint(\"Signup App null % is: \" + \"{0:0.2%}\".format(sum(train.signup_app.isnull())\/train.shape[0]))","97cf6247":"sns.countplot(train.signup_method)","69108be1":"print(train.signup_method.value_counts()\/sum(train.signup_method.notnull())*100)","8f90122c":"sns.countplot(train.signup_flow)","870d516f":"sns.countplot(train.signup_app)","60f7a84e":"print(train.signup_app.value_counts()\/sum(train.signup_app.notnull())*100)","37caf297":"print(\"Affiliate Channel null % is: \" + \"{0:0.2%}\".format(sum(train.affiliate_channel.isnull())\/train.shape[0]))\nprint(\"Affiliate Provider null % is: \" + \"{0:0.2%}\".format(sum(train.affiliate_provider.isnull())\/train.shape[0]))\nprint(\"First Affiliate Tracked null % is: \" + \"{0:0.2%}\".format(sum(train.first_affiliate_tracked.isnull())\/train.shape[0]))","d6a5aaf1":"print(\"Channel: \",set(train.affiliate_channel), \"\\nProvider: \", \n      set(train.affiliate_provider), \"\\nFirst Tracked: \",set(train.first_affiliate_tracked))","357ea57b":"plt.figure(figsize=(14,4))\nsns.countplot(train.affiliate_channel)","6eda4ffa":"plt.figure(figsize=(20,6))\nsns.countplot(train.affiliate_provider)\nplt.xticks(rotation=45) ","74bff4de":"plt.figure(figsize=(14,4))\nsns.countplot(train.first_affiliate_tracked)","13fd0299":"print(\"First Device Type null % is: \" + \"{0:0.2%}\".format(sum(train.first_device_type.isnull())\/train.shape[0]))\nprint(\"First Browser null % is: \" + \"{0:0.2%}\".format(sum(train.first_browser.isnull())\/train.shape[0]))","666e7735":"print(\"First Device Type: \",set(train.first_device_type), \"\\nFirst Browser: \", \n      set(train.first_browser))","da40d793":"train.first_browser.replace('-unknown-',np.nan,inplace=True)","a97b5217":"plt.figure(figsize=(20,4))\nsns.countplot(train.first_device_type)","5410a182":"print(train.first_device_type.value_counts()\/sum(train.first_device_type.notnull())*100)","264a5175":"plt.figure(figsize=(20,4))\nsns.countplot(train.first_browser)\nplt.xticks(rotation=45) ","6cd9d198":"print(train.first_browser.value_counts()\/sum(train.first_browser.notnull())*100)","e8d3d0ea":"print(\"Date Account Created % is: \" + \"{0:0.2%}\".format(sum(train.date_account_created.isnull())\/train.shape[0]))\nprint(\"Timestamp First Active null % is: \" + \"{0:0.2%}\".format(sum(train.timestamp_first_active.isnull())\/train.shape[0]))\nprint(\"Date First Booking % is: \" + \"{0:0.2%}\".format(sum(train.date_first_booking.isnull())\/train.shape[0]))","efc5fc9a":"train.date_account_created = pd.to_datetime(train.date_account_created)\n# print(train.date_account_created)","6aa902c7":"plt.figure(figsize=(80,8))\nsns.countplot(train.date_account_created)\nplt.xticks(rotation=90)","3ec50aff":"plt.figure(figsize=(16,4))\ntrain.date_account_created.value_counts().plot(kind='line')","d67dc2d4":"train.timestamp_first_active = pd.to_datetime(train.timestamp_first_active\/\/1000000, format='%Y%m%d')\n# print(train.timestamp_first_active)","b607eb9e":"plt.figure(figsize=(16,4))\ntrain.timestamp_first_active.value_counts().plot(kind='line')","1ea29282":"train.date_first_booking = pd.to_datetime(train.date_first_booking)","66bd6718":"plt.figure(figsize=(16,4))\ntrain.date_first_booking.value_counts().plot(kind='line')","0b4d0866":"# An overarching look at the missing data\nmsno.matrix(train)","f233866f":"# train.to_csv('train_users_3.csv',index=False)","fe51a54f":"### Date Account Created, Timestamp First Active, Date First Booking","02937436":"Gender has some 'unknown' values which are not 'Other', so we can simply convert them to nan.","134f0baa":"##### Destination Country Notes:\n1. Majority (~60%) is NDF\n2. Second Highest is US (~30%), rest of the countries are in single digits or even less than that","27eabfba":"### First Device Type,\tFirst Browser","91c203d5":"#### References","2fc892fa":"###### Median (33) < Mean (36) -- Positive Skewness","168e779d":"1. https:\/\/www.kaggle.com\/pmarcelino\/comprehensive-data-exploration-with-python\n2. https:\/\/www.kaggle.com\/kanncaa1\/data-sciencetutorial-for-beginners\n3. https:\/\/www.kaggle.com\/justk1\/airbnb\n4. https:\/\/www.kaggle.com\/davidgasquez\/user-data-exploration\n5. https:\/\/www.kaggle.com\/kevinwu06\/airbnb-exploratory-analysis\n6. https:\/\/www.kaggle.com\/rounakbanik\/airbnb-new-user-bookings","c368d6b4":"### Signup Method, App, and Flow","d7222886":"Note: 'NDF' or No Destination Found is differnt from 'Other' (apart from the ones mentioned) and nan\/null values","3a21741d":"##### - Aditya","03a9fd23":"Just like age, the null% in gender is also high, which is cancern that will need to be addressed in terms of modelling later on.","fcc6e79b":"We know Airbnb has a above 18 years usage, and clearly people of ages 105 and 2014 (which show sigificant bumps) are not using the app. \n#### Let's cleanup these age values and keep out dataset between 18 and 95","bc7e5094":"#### Airbnb - Part 1 of 3 (Cleaning & Univariate Analysis)\n\nPreprocessing of the raw data. I clean the age and gender fiels specifically as the show show positive correlation with the destination (verified vis hypothesis testing in part 2). This notebook further entails a univariate or on-the-go analysis of the features being cleaned. I made use of some great suggestions made in kaggle kernels, the references for which are listed below. This analysis is by no means exhaustive, it is just an initial eyballing of the data. ","15457887":"#### Affiliate Channel, Affiliate Provider, First Affiliate Tracked:\n1. None to low Null Values\n2. Values dont necessarily seem relvant at this point, maybe in bivariate or multivariate analysis they will interplay with a feature","e135cc39":"### Language","43c29082":"#### Signup Method, App, and Flow Notes:\n2. Basic method is at ~70% and Facebook at ~28%, and Google is almost non-existent\n3. Signup Flow seems irrelvant at this point, maybe in bivariate or multivariate analysis it will interplay with a feature\n4. Web seems to be the predominant signup app (~85%), with others in single digits","291bed6a":"### Age","1cd56866":"#### There must be some erroneus values in 'age', as the min = 1 and max = 2014. Let's see a more clear breakdown.","867563fc":"###### Gender Notes:\n1. ~45% data missing \n2. Majority (53%) are Feamles in remianing\n3. <0.2% are Other","a651c4e7":"### Gender","e13d86e7":"##### Age Notes:\n1. ~40% data missing \n2. Majority (~3\/4ths) are young or below 40 in remianing","c7867ae4":"#### First Device Type,\tFirst Browser:\nBoth major device types and browser seem in propotion to the popular devices and browsers.","aac0f34b":"### Country Destination","0718c724":"### Affiliate Channel, Affiliate Provider, First Affiliate Tracked","27e8b10c":"##### Language Notes:\n1. No missing Data\n2. Majority (~95%) are English speakers in remianing","424dc3c8":"#### Date Account Created, Timestamp First Active, Date First Booking:\n1. First booking date has about ~50% missing data\n2. Timeseries plots of Timestamp and First active look similar at a high level, and may prove correlated in a bivariate analysis."}}