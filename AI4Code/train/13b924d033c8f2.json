{"cell_type":{"499595ba":"code","893e18de":"code","d2c259da":"code","df866add":"code","e1bb9c08":"code","b6846bd6":"code","6a8a3177":"code","e918405b":"code","fe265132":"code","269fc726":"code","dcd7620e":"code","632760b8":"code","c32259f5":"code","fd734719":"code","ecf78c45":"code","1a581d75":"code","fc85a1eb":"code","c2cdddf7":"code","927eb6da":"code","2619e90b":"code","c5b297b8":"code","f6a5cc91":"code","13033df1":"code","58db4c10":"code","b70fb52e":"code","e370d541":"code","e87ac621":"code","71252a0d":"code","3aadb777":"code","17f76c1f":"markdown","00af9a58":"markdown","117b2fbc":"markdown","01831069":"markdown","987dd0cf":"markdown","57f0c465":"markdown","fe7d4639":"markdown","8e95cf9e":"markdown","3d73279f":"markdown","5d5b83ff":"markdown","760dde8d":"markdown","a8dab6a6":"markdown","f062e8dd":"markdown","2170a6a4":"markdown","91f6f349":"markdown","710fa0f9":"markdown","5732ebbd":"markdown","3b9eab9b":"markdown","31e6e8b2":"markdown","3dbbe227":"markdown","b4306627":"markdown","07dc1513":"markdown","704eea91":"markdown","a46993c2":"markdown","5db935bc":"markdown"},"source":{"499595ba":"import numpy as np\nimport pandas as pd\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport scipy.stats as st\nfrom scipy import stats\nfrom scipy.stats import norm, skew #for some statistics\n\nfrom sklearn import ensemble, tree, linear_model\nimport missingno as msno\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nfrom plotly.colors import n_colors\nfrom plotly.subplots import make_subplots\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import  Lasso\nfrom sklearn.pipeline import make_pipeline\nfrom sklearn.preprocessing import RobustScaler\nfrom sklearn.model_selection import KFold, cross_val_score, train_test_split\nfrom sklearn.metrics import mean_squared_error","893e18de":"data=pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')","d2c259da":"data.head()","df866add":"data.iloc[:,3:].describe()","e1bb9c08":"data.shape","b6846bd6":"data.isnull().sum()","6a8a3177":"data.drop(['name','id','host_name','last_review'], axis=1, inplace=True)","e918405b":"data['reviews_per_month'].fillna(0, inplace=True)","fe265132":"data.isnull().sum()","269fc726":"data.head()","dcd7620e":"corrmat = data.corr()\nplt.subplots(figsize=(12,9))\nsns.heatmap(corrmat, vmax=0.9, square=True)","632760b8":"data['neighbourhood_group'].value_counts()","c32259f5":"ax = sns.countplot(x=\"neighbourhood_group\", data=data)","fd734719":"df=pd.DataFrame(data['neighbourhood'].value_counts()).reset_index().rename(columns={'index': 'neighbourhood','neighbourhood':'count'})\ndf","ecf78c45":"fig = go.Figure(go.Bar(\n    x=df['neighbourhood'],y=df['count'],\n    marker={'color': df['count'], \n    'colorscale': 'Viridis'},  \n    text=df['count'],\n    textposition = \"outside\",\n))\nfig.update_layout(xaxis_title=\"Neighbourhood\",yaxis_title=\"count\")\nfig.show()\n","1a581d75":"ax = sns.countplot(x=\"room_type\", data=data)","fc85a1eb":"plt.figure(figsize=(10,10))\nax = sns.boxplot(data=data, x='neighbourhood_group',y='availability_365')","c2cdddf7":"plt.figure(figsize=(10,10))\nax = sns.boxplot(data=data, x='room_type',y='availability_365')","927eb6da":"fig = px.scatter(data, x='longitude', y='latitude',\n                 color='neighbourhood_group') # Added color to previous basic \nfig.update_layout(xaxis_title=\"longitude\",yaxis_title=\"latitude\")\nfig.show()","2619e90b":"feature_columns=['neighbourhood_group','room_type','price','minimum_nights','calculated_host_listings_count','availability_365']","c5b297b8":"all_data=data[feature_columns]\nall_data.head()","f6a5cc91":"all_data['room_type']=all_data['room_type'].factorize()[0]\nall_data['neighbourhood_group']=all_data['neighbourhood_group'].factorize()[0]","13033df1":"all_data.head()","58db4c10":"\ny = all_data['price']\nx= all_data.drop(['price'],axis=1)\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\n","b70fb52e":"from sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score\n\n\nlinreg = LinearRegression()\nlinreg.fit(x_train,y_train)\ny_pred=(linreg.predict(x_test))\n\nprint('R-squared train score: {:.3f}'.format(linreg.score(x_train, y_train)))\nprint('R-squared test score: {:.3f}'.format(linreg.score(x_test, y_test)))","e370d541":"from sklearn.linear_model import Ridge\n\nridge = Ridge()\nridge.fit(x_train, y_train)\n\ny_pred=ridge.predict(x_test)\n\nprint('R-squared train score: {:.3f}'.format(ridge.score(x_train, y_train)))\nprint('R-squared test score: {:.3f}'.format(ridge.score(x_test, y_test)))","e87ac621":"from sklearn.linear_model import Lasso\n\nlasso = Lasso(alpha=10,max_iter = 10000)\nlasso.fit(x_train, y_train)\n\nprint('R-squared score (training): {:.3f}'.format(lasso.score(x_train, y_train)))\nprint('R-squared score (test): {:.3f}'.format(lasso.score(x_test, y_test)))","71252a0d":"from sklearn.tree import DecisionTreeRegressor\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\n\nprint('R-squared score (training): {:.3f}'.format(DTree.score(x_train, y_train)))\nprint('R-squared score (test): {:.3f}'.format(DTree.score(x_test, y_test)))","3aadb777":"from sklearn.ensemble import RandomForestClassifier\n\nregressor = RandomForestClassifier()\nregressor.fit(x_train, y_train)\n\nprint('R-squared score (training): {:.3f}'.format(regressor.score(x_train, y_train)))\nprint('R-squared score (test): {:.3f}'.format(regressor.score(x_test, y_test)))","17f76c1f":"# Decision Tree Regressor","00af9a58":"# Train test split ","117b2fbc":"# Ridge Regression","01831069":"# About Dataset\nSince 2008, guests and hosts have used Airbnb to expand on traveling possibilities and present more unique, personalized way of experiencing the world. This dataset describes the listing activity and metrics in NYC, NY for 2019.\nThis data file includes all needed information to find out more about hosts, geographical availability, necessary metrics to make predictions and draw conclusions.\n","987dd0cf":"# Modelling","57f0c465":"# Encoding categorical variables","fe7d4639":"## Linear Regression","8e95cf9e":"# Neighbourhood vs availability of room","3d73279f":"# Checking for null values","5d5b83ff":"# Feature engineering ","760dde8d":"# Import libraries","a8dab6a6":"# Room Type","f062e8dd":"# Room type vs availability","2170a6a4":"# Neighbourhood","91f6f349":"# Exploring the data","710fa0f9":"# Neighbourhood group","5732ebbd":"### fill null values in reviews_per_month by 0","3b9eab9b":"# Data Visualisation","31e6e8b2":"# Lasso Regression","3dbbe227":"# Random forest Regressor","b4306627":"# Cleaning data","07dc1513":"![image.png](attachment:image.png)","704eea91":"# Import dataset","a46993c2":"# Map of New York with neighbourhood groups ","5db935bc":"### Remove unnecessary columns"}}