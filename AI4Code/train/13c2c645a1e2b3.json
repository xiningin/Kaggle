{"cell_type":{"0bc79009":"code","0b394e0f":"code","68a552b5":"code","e87d1695":"code","cefcbde1":"code","ccf01033":"code","8044bbe1":"code","9656e144":"code","60e7fee2":"code","268a7b16":"code","5f6ce19c":"code","f5dd01c9":"code","7d52d9a4":"code","aafb830d":"code","59647a30":"code","701ac048":"code","35e2c947":"code","c6c95fc6":"code","e69ce9b0":"code","e1d9135c":"code","1be6df99":"code","6129caeb":"code","dcfef15a":"code","a79841ed":"code","32c8ba01":"code","61cc05ea":"code","35bb868f":"code","87b3e86c":"code","4c4d7184":"markdown","6dee3531":"markdown","ebe6d9f9":"markdown","0ec1fa5e":"markdown","3bb92807":"markdown","f4435d98":"markdown","f9cc1005":"markdown","572869d4":"markdown","0b54939d":"markdown","a1b32db9":"markdown","8acb8b43":"markdown","11d62eee":"markdown","afceb231":"markdown","6dc56a85":"markdown","afed295d":"markdown","e9b9043a":"markdown","7530d74e":"markdown","360a4cc8":"markdown","b30c8269":"markdown","94f775e2":"markdown","f42d439e":"markdown"},"source":{"0bc79009":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","0b394e0f":"train_data = pd.read_csv('..\/input\/titanic\/train.csv')\ntest_data = pd.read_csv('..\/input\/titanic\/test.csv')\nall = [train_data,test_data]","68a552b5":"train_data.head()","e87d1695":"for data in all:\n    data.drop(['PassengerId','Name','Ticket'],axis = 1,inplace=True)","cefcbde1":"train_data.hist(figsize = (15,15))","ccf01033":"g = sns.FacetGrid(train_data,col='Survived',row = 'Sex',height=2.2, aspect=1.6)\ng.map(plt.hist, 'Age' ,alpha=.5,bins = 20)","8044bbe1":"g = sns.FacetGrid(train_data,col='Survived',row = 'Sex',height=2.2, aspect=1.6)\ng.map(plt.hist, 'Pclass' ,alpha=.5,bins = 20)","9656e144":"g = sns.FacetGrid(train_data,col='Survived',row = 'Embarked',height=2.2, aspect=1.6)\ng.map(plt.hist, 'Sex' ,alpha=.5,bins = 20)","60e7fee2":"g = sns.FacetGrid(train_data,col='Survived',row = 'Pclass',height=2.2, aspect=1.6)\ng.map(plt.hist, 'Sex' ,alpha=.5,bins = 20)","268a7b16":"plt.figure(figsize=(12,10))  \np=sns.heatmap(train_data.corr(), annot=True,cmap ='RdYlGn') ","5f6ce19c":"train_data.info()\nprint('*'*40)\ntest_data.info()","f5dd01c9":"for data in all:\n    data['Sex'] = data['Sex'].map( {'female': 1, 'male': 0} ).astype(int)\ntrain_data.head()\n","7d52d9a4":"for data in all:\n    data['Embarked'] = data['Embarked'].map( {'S': 1, 'C': 2,'Q' : 3} )\n\ntrain_data.head()","aafb830d":"train_data.info()","59647a30":"for data in all:\n    data.drop(['Cabin'],axis = 1,inplace= True)","701ac048":"for data in all:\n   for i in range(0,2):\n      for j in range(1,4):     \n          age_mean = data[(data['Sex'] == i) & (data['Pclass'] == j)]['Age'].dropna().mean()\n          data.loc[ (data.Age.isnull()) & (data.Sex == i) & (data.Pclass == j),'Age'] = age_mean","35e2c947":"train_data.info()\nprint('*'*40)\ntest_data.info()","c6c95fc6":"train_data['Embarked'] = train_data['Embarked'].fillna(train_data.Embarked.mode(dropna=True)[0])","e69ce9b0":"test_data.loc[(data.Fare.isnull())]","e1d9135c":"test_data['Fare'].fillna(test_data[(test_data['Pclass'] == 3)]['Pclass'].dropna().mean(),inplace = True)","1be6df99":"for data in all:\n    data['Family'] = data['Parch'] + data['SibSp'] + 1\n    data.drop(['Parch','SibSp'],axis = 1,inplace = True)","6129caeb":"train_data.info()\nprint('*'*40)\ntest_data.info()","dcfef15a":"train_data.head()","a79841ed":"plt.figure(figsize=(12,10))  \np=sns.heatmap(train_data.corr(), annot=True,cmap ='RdYlGn') ","32c8ba01":"X_train = train_data.drop(['Survived'],axis = 1)\ny_train = train_data.Survived","61cc05ea":"from sklearn.preprocessing import StandardScaler\nscalerModel = StandardScaler()\nX_train = scalerModel.fit_transform(X_train)\ntest_data = scalerModel.fit_transform(test_data)","35bb868f":"from sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test = train_test_split(X_train,y_train,test_size = 0.21,shuffle = True,random_state=33)","87b3e86c":"from sklearn.svm import SVC\n\n\nSVCModel = SVC(kernel= 'rbf',\n               max_iter=3000,C=.10,gamma='auto')\nSVCModel.fit(X_train, y_train)\n\n\n\nprint('train data score',SVCModel.score(X_train,y_train))\nprint('test data score',SVCModel.score(X_test,y_test))","4c4d7184":"we have alot of Nan in cabin which we can't deal with it so we will drop it","6dee3531":"'parch' and 'sibsp' parch is the number of spouses aboard the Titanic sibsp is the number of of parents \/ children aboard the Titanic which is better to merage them in one cloumn and named it family","ebe6d9f9":"# **Feature Scaling**","0ec1fa5e":"missing value in PClass 3 will be replaced with the mean","3bb92807":"we have nan value in Embarked in train data which is easy to replace by the mode and we have 1 missing vlaue in fare in test data","f4435d98":"# **checking for Survived dependence of Sex and Age feature**","f9cc1005":"We can see that male adults survived in a less proportion than all other groups. This was because women and children were always the rescue priority.","572869d4":"# **PLOTS for Visualization and Insights**","0b54939d":"# **Heatmap before clean data**","a1b32db9":"# **checking for Survived dependence of Sex and Pclass feature**","8acb8b43":"# **Heatmap after clean data**","11d62eee":"# **Exploratory Data Analysis (EDA)**","afceb231":"# **checking for Survived dependence of Embarked by Sex and Pclass feature**","6dc56a85":"From the plot above, we can see that the number of survivals from each class is approximately the same, although there were a lot more passengers in Pclass 3. Hence, we could assume that the rescue quota (those allowed to take the lifeboat) were constant for all Pclass. Otherwise, Pclass 3 was really not the priority.","afed295d":" replace the Nan in the age with mean for each class (Aclass,pclass,..)","e9b9043a":"# **Splitting Data**","7530d74e":"* **Drop unused columns (PassengerId, Name, Ticket)**","360a4cc8":"# **Importing Libraries**","b30c8269":"According to point of embarkation, those who embarked from S were less likely to survive. However, what is the logic behind this? Here, we will check the relationship between Point of Embarkation and Survival rate based on the Passenger Class.","94f775e2":"we have catoirgal data in sex , cabin,and embarked let's replace them with numrical data\n\n# **Encoding**\n# **female=1 , male =0**\n# **Embarked C=1, S=2, Q=3**","f42d439e":"# **Importing The Dataset**"}}