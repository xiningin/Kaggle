{"cell_type":{"6bd1379b":"code","1ae59698":"code","c3b1b902":"code","e93a2df9":"code","2232108b":"code","b01b8017":"code","48c03ace":"code","2be8a269":"code","60b9964b":"code","37b16242":"code","c73e1487":"code","3c44bc09":"code","8a4b51e4":"code","e25123ce":"code","dbcf6f5e":"code","47a0600d":"code","82e2d759":"code","f1925476":"code","bc19a975":"code","5f8c931f":"code","9d9dc138":"code","0000befb":"code","121c4f59":"code","9d3e11bd":"code","e5fd58cf":"code","89c21437":"code","91f40678":"code","c671d169":"code","5ba258e9":"code","ac0ce66f":"code","3b19cea7":"code","b422b1a2":"code","81bb2c22":"code","5cfaaa7d":"code","cbe56f24":"code","ea774937":"code","43b74e08":"code","d86bedac":"code","7d3b56d6":"code","fdc85a0f":"markdown","a42044c5":"markdown","d936460b":"markdown","847ba0b2":"markdown","03a41027":"markdown","2543f9de":"markdown"},"source":{"6bd1379b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","1ae59698":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom collections import defaultdict","c3b1b902":"data = pd.read_csv(\"\/kaggle\/input\/covid-world-vaccination-progress\/country_vaccinations.csv\")","e93a2df9":"data.shape","2232108b":"data.head()","b01b8017":"CountryList = data['country'].unique()","48c03ace":"print(CountryList)","2be8a269":"def plotData(countries, colName):\n    fig = plt.figure(figsize=(20,5))\n    ax = plt.subplot2grid((1,1), (0,0))\n    for country in countries:\n        dataCountry = data[data['country'] == country][['date',colName]]\n        dataCountry.reset_index(inplace=True, drop=True)\n        dataCountry.set_index('date', inplace=True)\n        dataCountry.fillna(method='ffill', inplace=True)\n        dataCountry.index = pd.to_datetime(dataCountry.index)\n        ax.plot(dataCountry.index, dataCountry[colName], label=country, marker='.')\n    \n    for tick in ax.get_xticklabels():\n        tick.set_rotation(90)\n    plt.grid()\n    plt.legend()\n    plt.xlabel(\"Date\")\n    plt.ylabel(colName)\n    plt.title(colName + \" of different countries\")\n    plt.show()\n    ","60b9964b":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'total_vaccinations')","37b16242":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'people_vaccinated')","c73e1487":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'people_fully_vaccinated')","3c44bc09":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'daily_vaccinations')","8a4b51e4":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'daily_vaccinations_raw')","e25123ce":"def getDataSclice():\n    dataSlice = {'country':[], 'Total':[], 'People':[], 'FPeople':[]}\n    for country in CountryList:\n        dataCountryT = data[data['country'] == country]['total_vaccinations']\n        dataCountryP = data[data['country'] == country]['people_vaccinated']\n        dataCountryPF = data[data['country'] == country]['people_fully_vaccinated']\n        \n        dataCountryT.fillna(method='ffill', inplace=True)\n        dataCountryP.fillna(method='ffill', inplace=True)\n        dataCountryPF.fillna(method='ffill', inplace=True)\n        \n        dataCountryT.fillna(0, inplace=True)\n        dataCountryP.fillna(0, inplace=True)\n        dataCountryPF.fillna(0, inplace=True)\n        \n        dataSlice['country'].append(country)\n        dataSlice['Total'].append(dataCountryT.iloc[-1])\n        dataSlice['People'].append(dataCountryP.iloc[-1])\n        dataSlice['FPeople'].append(dataCountryPF.iloc[-1])\n    return pd.DataFrame(dataSlice)","dbcf6f5e":"dataSlice = getDataSclice()\ndataSlice.head()","47a0600d":"tempData = dataSlice[['country', 'Total']]\ntempDataTop = tempData.sort_values(by='Total',ascending=False)[:20]\ntempDataBot = tempData.sort_values(by='Total')[:20]\n\nfig = plt.figure(figsize=(22,10))\nax1 = plt.subplot2grid((2,1), (0,0), rowspan=1, colspan=1)\nax1.bar(tempDataTop['country'], height=tempDataTop['Total'], color = \"#6ded71\")\nfor tick in ax1.get_xticklabels():\n    tick.set_rotation(90)\nax1.set_ylabel(\"Number of Vaccination\")\nax1.title.set_text(\"Countries having highest number of vaccination\")\n\nax2 = plt.subplot2grid((2,1), (1,0), rowspan=1, colspan=1)\nax2.bar(tempDataBot['country'][::-1], height=tempDataBot['Total'][::-1], color = \"#f07d73\")\nfor tick in ax2.get_xticklabels():\n    tick.set_rotation(90)\nax2.set_ylabel(\"Number of Vaccination\")\nax2.title.set_text(\"Countries having lowest number of vaccination\")\n\nplt.xlabel(\"Country\")\nplt.subplots_adjust(hspace = 0.6)\nplt.show()","82e2d759":"tempData = dataSlice[['country', 'People']]\ntempDataTop = tempData.sort_values(by='People',ascending=False)[:20]\ntempDataBot = tempData.sort_values(by='People')[:20]\n\nfig = plt.figure(figsize=(22,10))\nax1 = plt.subplot2grid((2,1), (0,0), rowspan=1, colspan=1)\nax1.bar(tempDataTop['country'], height=tempDataTop['People'], color = \"#6ded71\")\nfor tick in ax1.get_xticklabels():\n    tick.set_rotation(90)\nax1.set_ylabel(\"Number of Vaccination\")\nax1.title.set_text(\"Countries having highest number of people vaccinated\")\n\nax2 = plt.subplot2grid((2,1), (1,0), rowspan=1, colspan=1)\nax2.bar(tempDataBot['country'][::-1], height=tempDataBot['People'][::-1], color = \"#f07d73\")\nfor tick in ax2.get_xticklabels():\n    tick.set_rotation(90)\nax2.set_ylabel(\"Number of Vaccination\")\nax2.title.set_text(\"Countries having lowest number of people vaccinated\")\n\nplt.xlabel(\"Country\")\nplt.subplots_adjust(hspace = 0.6)\nplt.show()","f1925476":"tempData = dataSlice[['country', 'FPeople']]\ntempDataTop = tempData.sort_values(by='FPeople',ascending=False)[:20]\ntempDataBot = tempData.sort_values(by='FPeople')[:20]\n\nfig = plt.figure(figsize=(22,10))\nax1 = plt.subplot2grid((2,1), (0,0), rowspan=1, colspan=1)\nax1.bar(tempDataTop['country'], height=tempDataTop['FPeople'], color = \"#6ded71\")\nfor tick in ax1.get_xticklabels():\n    tick.set_rotation(90)\nax1.set_ylabel(\"Number of Vaccination\")\nax1.title.set_text(\"Countries having highest number of fully vaccinated people\")\n\nax2 = plt.subplot2grid((2,1), (1,0), rowspan=1, colspan=1)\nax2.bar(tempDataBot['country'][::-1], height=tempDataBot['FPeople'][::-1], color = \"#f07d73\")\nfor tick in ax2.get_xticklabels():\n    tick.set_rotation(90)\nax2.set_ylabel(\"Number of Vaccination\")\nax2.title.set_text(\"Countries having lowest number of fully vaccinated people\")\n\nplt.xlabel(\"Country\")\nplt.subplots_adjust(hspace = 0.6)\nplt.show()","bc19a975":"tempData = dataSlice[['country', 'Total']]\ntempData = tempData.sort_values(by='Total',ascending=False)\ntempData.set_index('country',drop=True,inplace=True)\n\ncountries=['United States', 'India', 'United Kingdom', 'Germany', 'China']\n\nax_1 = tempData['Total'].plot(kind='bar', title =\"Total Vaccination\", figsize=(22, 6), fontsize=12)\nax_1.set_xlabel(\"Country Name\", fontsize=12)\nfor ticks in ax_1.xaxis.get_major_ticks():\n    if ticks.label1.get_text() not in countries:\n        ticks.label1.set_visible(False)\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('w')\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_edgecolor('#c7c3c3')\n    else:\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('r')\n        ","5f8c931f":"tempData = dataSlice[['country', 'People']]\ntempData = tempData.sort_values(by='People',ascending=False)\ntempData.set_index('country',drop=True,inplace=True)\n\ncountries=['United States', 'India', 'United Kingdom', 'Germany', 'China']\n\nax_1 = tempData['People'].plot(kind='bar', title =\"People Vaccinated\", figsize=(22, 6), fontsize=12)\nax_1.set_xlabel(\"Country Name\", fontsize=12)\nfor ticks in ax_1.xaxis.get_major_ticks():\n    if ticks.label1.get_text() not in countries:\n        ticks.label1.set_visible(False)\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('w')\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_edgecolor('#c7c3c3')\n    else:\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('r')\n        ","9d9dc138":"tempData = dataSlice[['country', 'FPeople']]\ntempData = tempData.sort_values(by='FPeople',ascending=False)\ntempData.set_index('country',drop=True,inplace=True)\n\ncountries=['United States', 'India', 'United Kingdom', 'Germany', 'China']\n\nax_1 = tempData['FPeople'].plot(kind='bar', title =\"People Fully Vaccinated\", figsize=(22, 6), fontsize=12)\nax_1.set_xlabel(\"Country Name\", fontsize=12)\nfor ticks in ax_1.xaxis.get_major_ticks():\n    if ticks.label1.get_text() not in countries:\n        ticks.label1.set_visible(False)\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('w')\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_edgecolor('#c7c3c3')\n    else:\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('r')\n        ","0000befb":"def plotDataComparision(country):\n    fig = plt.figure(figsize=(20,5))\n    ax = plt.subplot2grid((1,1), (0,0))\n    \n    dataCountryTotal = data[data['country'] == country][['date','total_vaccinations']]\n    dataCountryPeople = data[data['country'] == country][['date','people_vaccinated']]\n    dataCountryPeopleFull = data[data['country'] == country][['date','people_fully_vaccinated']]\n    \n    \n\n    dataCountryTotal.reset_index(inplace=True, drop=True)\n    dataCountryTotal.set_index('date', inplace=True)\n    dataCountryTotal.fillna(method='ffill', inplace=True)\n    dataCountryTotal.index = pd.to_datetime(dataCountryTotal.index)\n\n    dataCountryPeople.reset_index(inplace=True, drop=True)\n    dataCountryPeople.set_index('date', inplace=True)\n    dataCountryPeople.fillna(method='ffill', inplace=True)\n    dataCountryPeople.index = pd.to_datetime(dataCountryPeople.index)\n    \n    dataCountryPeopleFull.reset_index(inplace=True, drop=True)\n    dataCountryPeopleFull.set_index('date', inplace=True)\n    dataCountryPeopleFull.fillna(method='ffill', inplace=True)\n    dataCountryPeopleFull.index = pd.to_datetime(dataCountryPeople.index)\n\n    dataCountryCombined = pd.concat([dataCountryTotal, dataCountryPeople],axis = 1)\n    dataCountryCombined['Diff'] = dataCountryCombined['total_vaccinations'] - dataCountryCombined['people_vaccinated']\n\n    ax.plot(dataCountryTotal.index, dataCountryTotal['total_vaccinations'], label='Total Vaccination', marker='.', color='#ff85e4')\n    ax.plot(dataCountryPeople.index, dataCountryPeople['people_vaccinated'], label='People Vaccinated', marker='.', color='#5690f5')\n    ax.plot(dataCountryPeopleFull.index, dataCountryPeopleFull['people_fully_vaccinated'], label='People Fully Vaccinated', marker='.', color='#c94dff')\n    \n    \n    for tick in ax.get_xticklabels():\n        tick.set_rotation(90)\n    plt.grid()\n    plt.legend()\n    plt.xlabel(\"Date\")\n    plt.ylabel('Number of Vaccination')\n    plt.title(f\"Total Vaccination Vs People Vaccinated of {country}\")\n    plt.show()","121c4f59":"ax = plotDataComparision('India')","9d3e11bd":"plotDataComparision('United States')","e5fd58cf":"plotDataComparision('United Kingdom')","89c21437":"plotDataComparision('Germany')","91f40678":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'total_vaccinations_per_hundred')","c671d169":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'], 'people_vaccinated_per_hundred')","5ba258e9":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'],'people_fully_vaccinated_per_hundred')","ac0ce66f":"def getDataSclice():\n    dataSlice = {'country':[], 'Total':[], 'People':[], 'FPeople':[]}\n    for country in CountryList:\n        dataCountryT = data[data['country'] == country]['total_vaccinations_per_hundred']\n        dataCountryP = data[data['country'] == country]['people_vaccinated_per_hundred']\n        dataCountryPF = data[data['country'] == country]['people_fully_vaccinated_per_hundred']\n        \n        dataCountryT.fillna(method='ffill', inplace=True)\n        dataCountryP.fillna(method='ffill', inplace=True)\n        dataCountryPF.fillna(method='ffill', inplace=True)\n        \n        dataCountryT.fillna(0, inplace=True)\n        dataCountryP.fillna(0, inplace=True)\n        dataCountryPF.fillna(0, inplace=True)\n        \n        dataSlice['country'].append(country)\n        dataSlice['Total'].append(dataCountryT.iloc[-1])\n        dataSlice['People'].append(dataCountryP.iloc[-1])\n        dataSlice['FPeople'].append(dataCountryPF.iloc[-1])\n    return pd.DataFrame(dataSlice)","3b19cea7":"dataSlice = getDataSclice()\ndataSlice.head()","b422b1a2":"tempData = dataSlice[['country', 'Total']]\ntempDataTop = tempData.sort_values(by='Total',ascending=False)[:20]\ntempDataBot = tempData.sort_values(by='Total')[:20]\n\nfig = plt.figure(figsize=(22,10))\nax1 = plt.subplot2grid((2,1), (0,0), rowspan=1, colspan=1)\nax1.bar(tempDataTop['country'], height=tempDataTop['Total'], color = \"#6ded71\")\nfor tick in ax1.get_xticklabels():\n    tick.set_rotation(90)\nax1.set_ylabel(\"Number of Vaccination\")\nax1.title.set_text(\"Countries having highest number of vaccination\")\n\nax2 = plt.subplot2grid((2,1), (1,0), rowspan=1, colspan=1)\nax2.bar(tempDataBot['country'][::-1], height=tempDataBot['Total'][::-1], color = \"#f07d73\")\nfor tick in ax2.get_xticklabels():\n    tick.set_rotation(90)\nax2.set_ylabel(\"Number of Vaccination\")\nax2.title.set_text(\"Countries having lowest number of vaccination\")\n\nplt.xlabel(\"Country\")\nplt.subplots_adjust(hspace = 0.6)\nplt.show()","81bb2c22":"tempData = dataSlice[['country', 'People']]\ntempDataTop = tempData.sort_values(by='People',ascending=False)[:20]\ntempDataBot = tempData.sort_values(by='People')[:20]\n\nfig = plt.figure(figsize=(22,10))\nax1 = plt.subplot2grid((2,1), (0,0), rowspan=1, colspan=1)\nax1.bar(tempDataTop['country'], height=tempDataTop['People'], color = \"#6ded71\")\nfor tick in ax1.get_xticklabels():\n    tick.set_rotation(90)\nax1.set_ylabel(\"Number of Vaccination\")\nax1.title.set_text(\"Countries having highest number of people vaccinated\")\n\nax2 = plt.subplot2grid((2,1), (1,0), rowspan=1, colspan=1)\nax2.bar(tempDataBot['country'][::-1], height=tempDataBot['People'][::-1], color = \"#f07d73\")\nfor tick in ax2.get_xticklabels():\n    tick.set_rotation(90)\nax2.set_ylabel(\"Number of Vaccination\")\nax2.title.set_text(\"Countries having lowest number of people vaccinated\")\n\nplt.xlabel(\"Country\")\nplt.subplots_adjust(hspace = 0.6)\nplt.show()","5cfaaa7d":"tempData = dataSlice[['country', 'FPeople']]\ntempDataTop = tempData.sort_values(by='FPeople',ascending=False)[:20]\ntempDataBot = tempData.sort_values(by='FPeople')[:20]\n\nfig = plt.figure(figsize=(22,10))\nax1 = plt.subplot2grid((2,1), (0,0), rowspan=1, colspan=1)\nax1.bar(tempDataTop['country'], height=tempDataTop['FPeople'], color = \"#6ded71\")\nfor tick in ax1.get_xticklabels():\n    tick.set_rotation(90)\nax1.set_ylabel(\"Number of Vaccination\")\nax1.title.set_text(\"Countries having highest number of fully vaccinated people\")\n\nax2 = plt.subplot2grid((2,1), (1,0), rowspan=1, colspan=1)\nax2.bar(tempDataBot['country'][::-1], height=tempDataBot['FPeople'][::-1], color = \"#f07d73\")\nfor tick in ax2.get_xticklabels():\n    tick.set_rotation(90)\nax2.set_ylabel(\"Number of Vaccination\")\nax2.title.set_text(\"Countries having lowest number of fully vaccinated people\")\n\nplt.xlabel(\"Country\")\nplt.subplots_adjust(hspace = 0.6)\nplt.show()","cbe56f24":"tempData = dataSlice[['country', 'Total']]\ntempData = tempData.sort_values(by='Total',ascending=False)\ntempData.set_index('country',drop=True,inplace=True)\n\ncountries=['United States', 'India', 'United Kingdom', 'Germany', 'China']\n\nax_1 = tempData['Total'].plot(kind='bar', title =\"Total Vaccination\", figsize=(22, 6), fontsize=12)\nax_1.set_xlabel(\"Country Name\", fontsize=12)\nfor ticks in ax_1.xaxis.get_major_ticks():\n    if ticks.label1.get_text() not in countries:\n        ticks.label1.set_visible(False)\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('w')\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_edgecolor('#c7c3c3')\n    else:\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('r')\n        ","ea774937":"tempData = dataSlice[['country', 'People']]\ntempData = tempData.sort_values(by='People',ascending=False)\ntempData.set_index('country',drop=True,inplace=True)\n\ncountries=['United States', 'India', 'United Kingdom', 'Germany', 'China']\n\nax_1 = tempData['People'].plot(kind='bar', title =\"People Vaccinated\", figsize=(22, 6), fontsize=12)\nax_1.set_xlabel(\"Country Name\", fontsize=12)\nfor ticks in ax_1.xaxis.get_major_ticks():\n    if ticks.label1.get_text() not in countries:\n        ticks.label1.set_visible(False)\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('w')\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_edgecolor('#c7c3c3')\n    else:\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('r')\n        ","43b74e08":"tempData = dataSlice[['country', 'FPeople']]\ntempData = tempData.sort_values(by='FPeople',ascending=False)\ntempData.set_index('country',drop=True,inplace=True)\n\ncountries=['United States', 'India', 'United Kingdom', 'Germany', 'China']\n\nax_1 = tempData['FPeople'].plot(kind='bar', title =\"People Fully Vaccinated\", figsize=(22, 6), fontsize=12)\nax_1.set_xlabel(\"Country Name\", fontsize=12)\nfor ticks in ax_1.xaxis.get_major_ticks():\n    if ticks.label1.get_text() not in countries:\n        ticks.label1.set_visible(False)\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('w')\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_edgecolor('#c7c3c3')\n    else:\n        ax_1.patches[tempData.index.get_indexer([ticks.label1.get_text()])[0]].set_facecolor('r')\n        ","d86bedac":"data.head()","7d3b56d6":"plotData(['United States', 'India', 'United Kingdom', 'Germany', 'China'],'daily_vaccinations_per_million')","fdc85a0f":"In above plot we have lot of zeros because we dont have data for these countries or they are NaN in given data","a42044c5":"# Total Vaccination per hundred + People vaccinated per hundred","d936460b":"We can see that country **China** has highest number of total vaccination but we dont have the data for people vaccinated in **China**. Seciond comes is **United States of America** in both total vaccination and people vaccinated in the country. Third comes is **India**. \n\n**Germany** and **United Kingdom** is catching up with this, but because of there less population, there are less number of total vaccination, but these country is doing good according to their population. \n\nIf we look at the daily vaccination drive, we can see that its not fluctuating and not constantly increasing. we can see that **UK** and **Germany** have more or less stable graph, but graph of **USA**, **India** and **China** is bit fluctuating. \n\nWe can see that the daily vaccination numbers is decreasing in **India** and **USA**. Reason for **India** can be the second wave of COVID-19 that hits country. ","847ba0b2":"# Total Vaccination + People Vaccinated + People Fully Vaccinated","03a41027":"# daily Vaccinations Per Million","2543f9de":"These plots convay the same things as the first section plots, These Graph also shows the position of the countries in the world. We can see that there are two countries between **UK** and **Germany**. and **USA** and **India** are way ahead then all of countries in terms of people vaccinated. "}}