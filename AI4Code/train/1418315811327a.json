{"cell_type":{"39afcdd7":"code","476c52c2":"code","063a7afa":"code","2bab6dad":"code","5bf5577c":"code","69f1d3b9":"code","92d31a63":"code","1639ca66":"code","caa1ff9a":"code","ea5dd354":"code","e8f2bc1d":"code","af832431":"code","4050e052":"code","b45e012f":"code","9ff3aa90":"code","d29e2100":"code","0e90b0ca":"code","28ccb44c":"code","7ee26d71":"code","e54f88dc":"code","3b058257":"code","360c536c":"code","4571bb63":"code","5aae3d70":"code","eab401d3":"code","37a22f38":"code","e5a3d688":"code","df5003be":"code","ccf269cd":"code","f02f864e":"code","16602446":"code","7cef0bb3":"code","20bff2e7":"code","99d3f711":"code","b23b9188":"code","618fbeaa":"code","07c09ef4":"code","78d6f22a":"code","442c8307":"code","0b50fa88":"code","b0bc94c5":"code","b68f3a10":"code","87ab2b70":"code","8b2b754c":"code","15ee9e01":"code","a0a57ab3":"code","20a58b98":"code","da52e3ca":"code","c768d704":"code","444e124e":"code","3f7a8197":"code","b78f62fa":"code","fa0e9f62":"code","7c811f63":"code","cf944ccd":"code","578602c8":"code","56e74dd8":"code","d4db1394":"code","41e0ffaf":"code","040d54c5":"code","ac1f045d":"code","27997101":"code","71fb490d":"code","8cbcf80a":"code","83ace562":"code","c6b92573":"code","84dac1e3":"code","f9e194d1":"code","0232f6eb":"code","d7570dd0":"code","f91628ec":"code","267a7f2b":"code","226938b4":"code","19463acf":"code","f97c48ba":"code","70d32cfa":"code","a22a5c99":"code","6d2fbd65":"code","61f9f480":"code","b461240a":"code","3d857bb1":"code","081e9b1e":"code","e64cd5dd":"code","40905d0f":"code","53fc2fa5":"code","a42878bd":"code","130e9753":"code","19be1a57":"code","b575fddc":"code","48eed36e":"code","85e4cd83":"code","6d9ceb88":"code","7b32cf2b":"code","e3cc340c":"code","cf3260d7":"code","f26f6e14":"code","575e0b1d":"code","f435f3b4":"code","c63f7c60":"code","b894c54a":"code","aeade9f4":"code","269476a4":"code","26116af5":"code","7f6f62e8":"code","58a005b7":"code","2b2939a7":"code","3bd5d80a":"code","4dcb1aea":"code","4435fba8":"code","c7b569d0":"code","d086af2a":"code","3ebeddc0":"code","ff161add":"code","cb1b38b2":"code","93651b5d":"code","bb5672bc":"code","b07b6809":"code","cd17e4d7":"code","90214c71":"code","377cb27b":"code","9c8dc172":"code","3bebfdc1":"code","84e06db0":"code","8a79dc7c":"code","6c19c5e2":"code","bbc005f6":"code","ae74ea86":"code","03a10168":"code","b9727dd3":"code","47f4c156":"code","dbdeda75":"code","8d32d8bc":"code","637650ce":"code","ba583d93":"code","8d79a2b3":"code","5cb0031d":"markdown","c32191e1":"markdown","09607cf6":"markdown","ab5e0ed9":"markdown","5718a5f0":"markdown","7200b53f":"markdown","b584bc9a":"markdown","e11c01ca":"markdown","c490ef9a":"markdown","2027bd87":"markdown","2b29b97b":"markdown","0367df94":"markdown","ab1d5b55":"markdown","4b61c95c":"markdown","2acc2101":"markdown","8880c263":"markdown","ce8ad67a":"markdown","cf56e9db":"markdown","c85ce945":"markdown","499a079f":"markdown","c5db9418":"markdown","2b95ceef":"markdown","026747c7":"markdown","581d12a1":"markdown","2b09cf1d":"markdown","cbc58638":"markdown","0eb85e9d":"markdown","22ba93cf":"markdown","5acba6a0":"markdown","6636f380":"markdown","e143def0":"markdown","3cfd9a17":"markdown","73528332":"markdown","7c16f2aa":"markdown","25e78e4b":"markdown","d65e5ee6":"markdown","b4504ac2":"markdown","1ed2f38b":"markdown","51c313d3":"markdown","88085b1a":"markdown","f2176c02":"markdown","50a6d77d":"markdown","d31438c6":"markdown","9f0e48f5":"markdown","da5a5f92":"markdown","447dbd8d":"markdown","4362adf8":"markdown","d1bec69f":"markdown","fb99722f":"markdown","966e2873":"markdown","8570084e":"markdown","6e51784d":"markdown","e3f6c9e8":"markdown","47d2a461":"markdown","23ad0b69":"markdown","54abaf2d":"markdown","b314dfe4":"markdown","fe741523":"markdown","f277a311":"markdown"},"source":{"39afcdd7":"import IPython\n\nurl = \"https:\/\/app.flourish.studio\/visualisation\/1813946\/\"\niframe = '<iframe src=' + url + ' width=820 height=350><\/iframe>'\nIPython.display.HTML(iframe)","476c52c2":"import warnings\nwarnings.filterwarnings('ignore')\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns; sns.set()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nsns.set_context(\"paper\", font_scale = 1, rc={\"grid.linewidth\": 3})\npd.set_option('display.max_rows', 100, 'display.max_columns', 400)\nimport geopandas as gpd\nfrom fbprophet import Prophet\nfrom fbprophet.plot import plot_plotly\nimport datetime","063a7afa":"stats = pd.read_csv('..\/input\/state-wise-dataset\/State\/states.csv')\nstats=stats.drop(['Tested','Other'],axis=1)\nstats['Date']=pd.to_datetime(stats['Date'],format='%Y-%m-%d')\n","2bab6dad":"today=stats[stats.Date == '2020-11-01']\nshp = gpd.read_file('..\/input\/india-shape-polygon\/Shape\/india-polygon.shp')\nmerged = shp.merge(today ,  left_on='st_nm', right_on='State')","5bf5577c":"merged.head()","69f1d3b9":"merged['coords'] = merged['geometry'].apply(lambda x: x.representative_point().coords[:])\nmerged['coords'] = [coords[0] for coords in merged['coords']]\n\n\nsns.set_context(\"talk\")\nsns.set_style(\"dark\")\ncmap = 'YlGn'\nfigsize = (25, 20)\nax = merged.plot(column= 'Confirmed', cmap=cmap, \n                          figsize=figsize, scheme='User_Defined',\n                          classification_kwds=dict(bins=[100,1000,10000,50000,100000,200000,1000000]),\n                          edgecolor='black', legend = True)\n\nfor idx, row in merged.iterrows():\n    ax.text(row.coords[0], row.coords[1], s=row['Confirmed'], \n           horizontalalignment='center', bbox={'facecolor': 'yellow', \n                                               'alpha':0.8, 'pad': 5, 'edgecolor':'blue'})\n\nax.get_legend().set_bbox_to_anchor((0.66,0.9))\nax.get_legend().set_title('Number of cases')\nax.set_title(\"Confirmed Cases of Covid - 19 \", size = 25)\nleg = ax.get_legend()\n\n\nax.set_axis_off()\nplt.axis('equal')\nplt.show()","92d31a63":"sns.set_context(\"talk\")\nsns.set_style(\"dark\")\ncmap = 'OrRd'\nfigsize = (25, 20)\nax = merged.plot(column= 'Deceased', cmap=cmap, \n                          figsize=figsize, scheme='User_Defined',\n                          classification_kwds=dict(bins=[10,50,100,500,1000,2000,4000,8000]),\n                          edgecolor='black', legend = True)\n\nfor idx, row in merged.iterrows():\n    ax.text(row.coords[0], row.coords[1], s=row['Deceased'], \n           horizontalalignment='center', bbox={'facecolor': 'yellow', \n                                               'alpha':0.8, 'pad': 2, 'edgecolor':'black'})\n\nax.get_legend().set_bbox_to_anchor((0.66,0.9))\nax.get_legend().set_title('Number of deaths')\nax.set_title(\"Deceased due to Covid -19 \", size = 25)\nleg = ax.get_legend()\nax.set_axis_off()\nplt.axis('equal')\nplt.show()","1639ca66":"sns.set_context(\"talk\")\nsns.set_style(\"dark\")\ncmap = 'Blues'\nfigsize = (25, 20)\nax = merged.plot(column= 'Recovered', cmap=cmap, \n                          figsize=figsize, scheme='User_Defined',\n                          classification_kwds=dict(bins=[100,1000,10000,50000,100000]),\n                          edgecolor='black', legend = True)\n\nfor idx, row in merged.iterrows():\n    ax.text(row.coords[0], row.coords[1], s=row['Recovered'], \n           horizontalalignment='center', bbox={'facecolor': 'yellow', \n                                               'alpha':0.8, 'pad': 2, 'edgecolor':'black'})\n\nax.get_legend().set_bbox_to_anchor((0.66,0.9))\nax.get_legend().set_title('Number of Recovered')\nax.set_title(\"Recovered Cases of Covid-19\", size = 25)\nleg = ax.get_legend()\n\nax.set_axis_off()\nplt.axis('equal')\nplt.show()","caa1ff9a":"merged['dcratio'] = merged['Deceased'] \/ merged['Recovered'] * 100\nmerged.dcratio = merged.dcratio.round(2)\nsns.set_context(\"talk\")\nsns.set_style(\"dark\")\ncmap = 'OrRd'\nfigsize = (25, 20)\nax = merged.plot(column= 'dcratio', cmap=cmap, \n                          figsize=figsize, scheme='User_Defined',\n                          classification_kwds=dict(bins=[0.1 , 0.2 , 0.4 , 0.8 , 1.6 , 3.2 , 6.4]),\n                          \n                          edgecolor='black', legend = True)\n\nfor idx, row in merged.iterrows():\n    ax.text(row.coords[0], row.coords[1], s=row['dcratio'], \n           horizontalalignment='center', bbox={'facecolor': 'azure', \n                                               'alpha':0.8, 'pad': 2, 'edgecolor':'black'})\n\nax.get_legend().set_bbox_to_anchor((0.66,0.9))\nax.get_legend().set_title('Percentage')\nax.set_title(\"Fatality Rate Per State\", size = 25)\n\nax.set_axis_off()\nplt.axis('equal')\nplt.show()","ea5dd354":"#raw1= pd.read_csv('dataset\/raw_data1.csv')\n#raw1.drop(labels=['Estimated Onset Date','Patient Number','State Patient Number','Backup Notes'],axis=1,inplace=True)\n#raw1.rename(columns={'Num cases':'Num Cases'},inplace=True)\n#raw2 = pd.read_csv('dataset\/raw_data2.csv')\n#raw2.drop(labels=['Estimated Onset Date','Patient Number','State Patient Number','Backup Notes'],axis=1,inplace=True)\n#raw2.rename(columns={'Num cases':'Num Cases'},inplace=True)\n#raw3 = pd.read_csv('dataset\/raw_data3.csv')\n#raw3.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw4 = pd.read_csv('dataset\/raw_data4.csv')\n#raw4.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)","e8f2bc1d":"#raw5 = pd.read_csv('dataset\/raw_data5.csv')\n#raw5.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw6 = pd.read_csv('dataset\/raw_data6.csv')\n#raw6.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw7 = pd.read_csv('dataset\/raw_data7.csv')\n#raw7.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw8 = pd.read_csv('dataset\/raw_data8.csv')\n#raw8.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw9 = pd.read_csv('dataset\/raw_data9.csv')\n#raw9.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw10 = pd.read_csv('dataset\/raw_data10.csv')\n#raw10.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw11 = pd.read_csv('dataset\/raw_data11.csv')\n#raw11.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw12 = pd.read_csv('dataset\/raw_data12.csv')\n#raw12.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw13 = pd.read_csv('dataset\/raw_data13.csv')\n#raw13.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw14 = pd.read_csv('dataset\/raw_data14.csv')\n#raw14.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw15 = pd.read_csv('dataset\/raw_data15.csv')\n#raw15.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)\n#raw16 = pd.read_csv('dataset\/raw_data16.csv')\n#raw16.drop(labels=['Entry_ID','State Patient Number','Patient Number'],axis=1,inplace=True)","af832431":"#raw = pd.concat([raw1,raw2,raw3,raw4,raw5,raw6,raw7,raw8,raw9,raw10,raw11,raw12,raw13,raw14,raw15,raw16])\n#raw.to_csv('raw.csv')","4050e052":"raw=pd.read_csv('..\/input\/covid19-raw-merged-dataset\/raw.csv')\nraw.info()","b45e012f":"raw_df = raw[['Age Bracket','Detected City','Detected State','State code','Current Status','Date Announced','Gender',\\\n    'Num Cases']]\nraw_df.head()","9ff3aa90":"age_df= raw_df[['Age Bracket','Current Status','Gender','Num Cases']]\nage_df.head()","d29e2100":"age_df1 = age_df[~age_df['Age Bracket'].isnull()]\nage_df1=age_df1[~(age_df1['Current Status']=='Migrated_Other')]\nage_df1.head()","0e90b0ca":"print(len(age_df1))\nprint(age_df1['Current Status'].unique())\nprint(age_df1['Age Bracket'].unique())\nprint((age_df1['Age Bracket']=='18-28').sum())\n","28ccb44c":"age_df1=age_df1[:-2]\nprint(len(age_df1))\nprint(age_df1.info())","7ee26d71":"age_df1=age_df1[~age_df1['Gender'].isnull()]\nlen(age_df1)","e54f88dc":"print((age_df1['Age Bracket']=='1 DAY').sum())\nprint((age_df1['Age Bracket']=='5 months').sum())\nprint((age_df1['Age Bracket']=='5 Months').sum())\nprint((age_df1['Age Bracket']=='9 Months').sum())\nprint((age_df1['Age Bracket']=='8 month').sum())\nprint((age_df1['Age Bracket']=='6 Months').sum())\n\n","3b058257":"age_df1=age_df1[~age_df1['Age Bracket'].isin(['1 DAY','5 months','5 Months',\\\n                                              '9 Months','9 Month','8 month','6 Months','28-35','18-28','16 DAYS',\\\n                                             '2 Months','4 Months','1.5 Months'])]","360c536c":"len(age_df1)","4571bb63":"age_df1['Age Bracket']=age_df1['Age Bracket'].astype('float32').astype('int32')","5aae3d70":"bins = [0,21, 41, 61, 81,120]\nlabels = ['0-20', '20-40', '40-60', '60-80', '80+']\nage_df1['Age range'] = pd.cut(age_df1['Age Bracket'], bins, labels = labels,include_lowest = True)","eab401d3":"age_df1=age_df1[~(age_df1['Gender']=='Non-Binary')]","37a22f38":"age_df1['Gender'].replace({'M ':'M'},inplace=True)","e5a3d688":"age_hosp=age_df1[age_df1['Current Status']=='Hospitalized']","df5003be":"plt.figure(figsize=(10,8))\nax = sns.barplot(data=age_hosp,x='Age range',y='Num Cases',estimator=lambda x:(sum(x)\/age_hosp['Num Cases'].sum())*100,hue='Gender')\nplt.title('Percentage of cases Age wise with Gender',fontdict={'family': 'serif','color':'black','weight': 'heavy',\\\n                                                   'size': 14})\nplt.ylabel('Percentage of cases',fontsize=14)\nplt.xlabel('Age Group',fontsize=14)\n# remove all the ticks (both axes), and tick labels on the Y axis\nplt.tick_params(axis='both',top=False, bottom=False, left=False, right=False, labelleft=False, labelbottom='on')\nfor p in ax.patches:\n    height = p.get_height()\n    ax.text(p.get_x()+p.get_width()\/2,height+0.6,'{:1.2f}'.format(height),ha=\"center\",fontsize=10,fontweight='bold',\\\n            alpha=0.8) \n\n    # remove the frame of the chart\nfor spine in plt.gca().spines.values():\n    spine.set_visible(False)\nplt.show()","ccf269cd":"age_recvr = age_df1[age_df1['Current Status']=='Recovered']\nage_recvr.head()","f02f864e":"age_recvr_df = (age_recvr.groupby('Age range')['Num Cases'].sum()\/age_recvr['Num Cases'].sum())*100\nage_recvr_df","16602446":"plt.figure(figsize=(8,8))\ncolors = {labels[0]: '#ff99ff', labels[1]: '#ff9999', labels[2]: '#66b3ff', labels[3]:'#ffcc99',labels[4]:'#99ff99'}\nhandles = [plt.Rectangle((0,0),1,1, color=colors[i]) for i in labels]\nexplode = (0.01, 0.01, 0.01, 0.01,0.01)\nplt.pie(age_recvr_df.values,autopct='%.0f%%',explode=explode,colors=colors.values())\nplt.legend(handles,labels)\nplt.title('Percentage of Recovered Cases Age wise',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 13})\nplt.show()","7cef0bb3":"age_dec = age_df1[age_df1['Current Status']=='Deceased']\nage_dec['Gender']=age_dec['Gender'].replace({'Femal e':'F','M,':'M'})\nage_dec.head()","20bff2e7":"age_dec['Gender'].unique()","99d3f711":"len(age_dec)","b23b9188":"age_dec_df = (age_dec.groupby('Age range')['Num Cases'].sum()\/age_dec['Num Cases'].sum())*100\nage_dec_df","618fbeaa":"age_dec_gender = (age_dec.groupby(['Age range','Gender'])['Num Cases'].sum()\/age_dec['Num Cases'].sum())*100\nage_dec_gender","07c09ef4":"plt.figure(figsize=(8,8))\ncolors = {labels[0]: '#ff99ff', labels[1]: '#ff9999', labels[2]: '#66b3ff', labels[3]:'#ffcc99',labels[4]:'#99ff99'}\nhandles = [plt.Rectangle((0,0),1,1, color=colors[i]) for i in labels]\nexplode = (0.01, 0.01, 0.01, 0.01,0.01)\nplt.pie(age_dec_df.values,autopct='%.0f%%',explode=explode,colors=colors.values())\nplt.legend(handles,labels)\nplt.title('Percentage of Deceased Cases Age wise',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 13})\nplt.show()","78d6f22a":"age_dec_df.values","442c8307":"from matplotlib.legend import Legend\nplt.figure(figsize=(8,8))\n \n# Data to plot\nlabels=sorted(list(age_dec['Age range'].unique()))\n\nage_m_f= age_dec_df.values\nlabels_gender = ['F','M','F','M','F','M','F','M','F','M']\ngender_size=age_dec_gender.values\ncolors = ['#ff6666', '#ffcc99', '#99ff99', '#66b3ff','#ffff66']\nexplode = (0.02,0.02,0.02,0.02,0.02) \nexplode_gender = (0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02)\ncolors_gender = ['#c2c2f0','#66ffff', '#c2c2f0','#66ffff', '#c2c2f0','#66ffff', '#c2c2f0','#66ffff','#c2c2f0',\\\n                 '#66ffff']\nhandles_1 = [plt.Rectangle((0,0),1,1, color=colors_gender[i]) for i in range(0,len(colors_gender[:2]))]\n\nslices1, legendlabels1, pctlabels1=plt.pie(age_m_f, colors=colors,explode=explode,startangle=90,frame=True,autopct='%.0f%%',pctdistance=0.9,\\\n                                          textprops={'fontweight':'bold'})\nslices2, legendlabels2, pctlabels2=plt.pie(gender_size,explode=explode_gender,colors=colors_gender,radius=0.75,startangle=90,pctdistance=0.8,\\\n            autopct='%.0f%%',textprops={'fontsize':8})\ncentre_circle = plt.Circle((0,0),0.5,color='black', fc='white',linewidth=0)\nplt.legend(slices1,labels,loc='upper left')\nplt.title('Deceased Percentage of Males and Females Age wise',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 13})\nfig = plt.gcf()\nsecond = Legend(fig,handles_1,['F','M'],loc='upper right',frameon=True)\nfig.gca().add_artist(centre_circle)\nfig.gca().add_artist(second)\nplt.axis('equal')\nplt.tight_layout()\nplt.show()\n\n","0b50fa88":"icmr= pd.read_csv('..\/input\/icmr-dataset\/tested_numbers_icmr_data.csv')\nicmr.info()","b0bc94c5":"icmr = icmr[['Tested As Of', 'Total Samples Tested','Total Individuals Tested',\\\n             'Total Positive Cases','Test positivity rate','Tests Per Confirmed Case', 'Tests per million']]","b68f3a10":"icmr['Test positivity rate']=icmr['Test positivity rate'].\\\nastype('str').apply(lambda x: x.split('%')[0]).astype('float64')","87ab2b70":"icmr['Total Positive Cases'].replace({'12,581':12581},inplace=True)\nicmr['Total Positive Cases']=icmr['Total Positive Cases'].astype('float64')","8b2b754c":"icmr['Total Positive Cases']=icmr['Total Positive Cases'].\\\nfillna(icmr['Total Samples Tested']*icmr['Test positivity rate']\/100)","15ee9e01":"icmr=icmr[icmr['Total Samples Tested'].notna()]\n","a0a57ab3":"icmr['Tested As Of']=pd.to_datetime(icmr['Tested As Of'],format='%d\/%m\/%Y').sort_values()","20a58b98":"icmr = icmr.groupby('Tested As Of').sum()\nicmr.reset_index(inplace=True)\nicmr.sort_values('Tested As Of',inplace=True)","da52e3ca":"icmr['Tested As Of']=icmr['Tested As Of'].astype('object').astype('str').apply(lambda x:x.split(' ')[0])\nicmr['Tested As Of']","c768d704":"import matplotlib.dates as md\nplt.figure(figsize=(20,15))\nbar = sns.barplot(data=icmr[::3],x='Tested As Of',y='Total Samples Tested')\nbar.set_xticklabels(bar.get_xticklabels(), rotation=45, horizontalalignment='right',fontsize=10.5)\nplt.title('Times Series plot for No of Samples tested in India',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 16,'color':'darkred'})\nplt.ylabel('No of samples tested( 1 unit=1 Million)',fontsize=18)\nplt.xlabel('Date',fontsize=18)\nplt.show()\nplt.tight_layout()","444e124e":"import matplotlib.dates as md\nplt.figure(figsize=(20,15))\nbar = sns.barplot(data=icmr[~(icmr['Test positivity rate']==0)][::3],x='Tested As Of',y='Test positivity rate')\nbar.set_xticklabels(bar.get_xticklabels(), rotation=45, horizontalalignment='right',fontsize=10.5)\nplt.title('Times Series plot for Test Postivity rate',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 16,'color':'black'})\nplt.ylabel('Test Postivity rate',fontsize=15)\nplt.xlabel('Date',fontsize=15)\nplt.show()\nplt.tight_layout()","3f7a8197":"icmr[~(icmr['Test positivity rate']==0)]['Test positivity rate'].describe()","b78f62fa":"import matplotlib.dates as md\nplt.figure(figsize=(20,15))\nbar = sns.barplot(data=icmr[~(icmr['Tests per million']==0)],x='Tested As Of',y='Tests per million')\nbar.set_xticklabels(bar.get_xticklabels(), rotation=45, horizontalalignment='right')\nplt.title('Times Series plot for Test per million',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 16,'color':'black'})\nplt.ylabel('Test per million',fontsize=15)\nplt.xlabel('Data from March 13, 2020 till Oct 29, 2020 ',fontsize=15)\nplt.tick_params(labelbottom=False)\nplt.show()\nplt.tight_layout()","fa0e9f62":"icmr['Tests per million'].describe()","7c811f63":"icmr['Total Positive Cases']","cf944ccd":"import matplotlib.dates as md\nplt.figure(figsize=(20,15))\nbar = sns.barplot(data=icmr[~(icmr['Total Positive Cases']==0)][::3],x='Tested As Of',y='Total Positive Cases')\nbar.set_xticklabels(bar.get_xticklabels(), rotation=45, horizontalalignment='right',fontsize=10.5)\nplt.title('Times Series plot for Total Positive cases',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 16,'color':'black'})\nplt.ylabel('Total Positive Cases',fontsize=15)\nplt.xlabel('Date',fontsize=15)\nplt.show()\nplt.tight_layout()","578602c8":"icmr[icmr['Total Positive Cases']!=0]['Total Positive Cases'].describe()","56e74dd8":"tpr = icmr[icmr['Test positivity rate']!=0]\ntpr.head()","d4db1394":"\nplt.subplots(figsize = (8,6))\nmask = np.zeros_like(tpr.corr(), dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\n#Plotting heatmap\nsns.heatmap(tpr.corr(), cmap=sns.diverging_palette(20, 220, n=200), mask = mask, annot=True, center = 0) # add _r for reverse color map","41e0ffaf":"tpr['Test positivity rate'].corr(tpr['Tests per million'])","040d54c5":"plt.figure(figsize=(10,8))\nplt.plot(tpr['Total Samples Tested'],tpr['Total Positive Cases'],c='darkblue',lw=3)\nplt.xlabel('Total Samples Tested',fontsize=14)\nplt.ylabel('Total Positive Cases',fontsize=14)\nplt.title('Rlationship between Total Sampleas tested and Total Posititve Cases',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 14})\nplt.show()","ac1f045d":"import matplotlib.dates as md\nplt.figure(figsize=(12,8))\nbar = sns.barplot(data=icmr[~(icmr['Tests Per Confirmed Case']==0)],x='Tested As Of',y='Tests Per Confirmed Case')\nbar.set_xticklabels(bar.get_xticklabels(), rotation=45, horizontalalignment='right',fontsize=12)\nplt.title('Times Series plot for Tests Per Confirmed Case',fontdict={'family': 'serif','weight': 'bold',\\\n                                                   'size': 16,'color':'black'})\nplt.ylabel('Tests Per Confirmed Case',fontsize=15)\nplt.xlabel('Date',fontsize=15)\nplt.show()\nplt.tight_layout()","27997101":"state_w= pd.read_csv('..\/input\/state-wise-dataset\/State\/statewise_tested_numbers_data.csv')\nstate_w2= pd.read_csv('..\/input\/state-wise-dataset\/State\/statewise_tested_numbers_data.csv')","71fb490d":"state_w.info()","8cbcf80a":"state_w.columns","83ace562":"state_w=state_w[['Updated On', 'State', 'Total Tested', 'Positive',\n       'Negative', 'Total Num Beds (Normal\/Isolation) ', 'Total Num ICU Beds',\n       'Total Num Ventilators', 'Test positivity rate', 'Tests per thousand',\n       'Tests per million', 'Tests per positive case','Total N95 Masks','Total PPE',\n       'Population NCP 2019 Projection']]\nstate_w.head()","c6b92573":"plt.figure(figsize=(18,10))\nmask = np.zeros_like(state_w[state_w.columns[2:-1]].corr(), dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\nsns.heatmap(state_w[state_w.columns[2:-1]].corr(), cmap=sns.diverging_palette(20, 220, n=200), mask = mask, annot=True, center = 0)\n#sns.heatmap(state_w[state_w.columns[2:-1]].corr(),cmap='viridis_r',annot=True,annot_kws={\"size\":13,'weight':'bold'})\nplt.show()","84dac1e3":"state_w['Updated On']=pd.to_datetime(state_w['Updated On'],format='%d\/%m\/%y').sort_values()","f9e194d1":"#state_w['Updated On']=state_w['Updated On'].astype('object').astype('str').apply(lambda x:x.split(' ')[0])","0232f6eb":"sns.set_style('whitegrid')\nplt.figure(figsize=(20,15))\ncmapp = ['b', 'g', 'r', 'c', 'm', 'y', 'k', 'pink','orchid','khaki','ivory','gold','silver','sienna','silver',\\\n        'turquoise','wheat','yellowgreen','magenta','azure','orangered','plum','indigo','goldenrod','lime','crimson',\\\n        'lavender','salmon','tomato','coral','grey','tan','darkblue','aqua','chocolate']\nsns.lineplot(data=state_w,x='Updated On',y='Total Tested',hue='State',palette=cmapp,lw=2.5)\nplt.title('Total Test Time Series Data State Wise',fontdict={'family': 'serif','weight': 'bold','size': 14})\nplt.xlabel('Date',fontsize=15)\nplt.ylabel('Total Test',fontsize=15)\n\nplt.show()","d7570dd0":"sw_dc =pd.read_csv('..\/input\/state-wise-dataset\/State\/state_wise_daily.csv')\nsw_dc.drop('Date_YMD',axis=1,inplace=True)\nsw_dc=sw_dc.melt(id_vars=['Date','Status'])\nsw_dc.rename(columns={'variable':'StateCode'},inplace=True)\nsw_dc.head()","f91628ec":"x = sw_dc[sw_dc['Status']=='Confirmed'].groupby('StateCode')['value'].sum().sort_values(ascending=False).head(11)\nx.index\n","267a7f2b":"sw_dc1 = sw_dc[sw_dc['StateCode'].isin(['MH', 'TN', 'DL', 'GJ', 'KA', 'UP', 'TG','WB', 'AP', 'RJ'])]\nsw_dc1.head()","226938b4":"sw_dc1['Date']=pd.to_datetime(sw_dc1['Date'],format='%d-%b-%y').sort_values()\nsw_dc2=sw_dc1.copy()\nsw_dc2= sw_dc2[sw_dc2['Status']=='Confirmed']","19463acf":"sw_dc2['value']=sw_dc2.groupby('StateCode')['value'].cumsum()\nsw_dc2.head()","f97c48ba":"sns.set_style('whitegrid')\nplt.figure(figsize=(14,10))\ncmapp = ['b', 'g', 'r', 'm', 'y', 'k', 'pink','orange','yellowgreen','chocolate']\nsns.lineplot(x=sw_dc2['Date'],y=sw_dc2['value'],hue=sw_dc2['StateCode'],palette=cmapp,lw=4)\nplt.title('Top10 state cases with time series',fontdict={'family': 'serif','weight': 'bold','size': 14})\nplt.xlabel('Date',fontsize=15)\nplt.ylabel('Total Sample tested',fontsize=15)\nplt.legend(fancybox=True,frameon=True,edgecolor='r',facecolor='g',framealpha=0.2)\nplt.show()","70d32cfa":"tpm = pd.DataFrame(state_w.groupby('State')['Tests per million'].max())\ntpm.head(2)","a22a5c99":"tpt = pd.DataFrame(state_w.groupby('State')['Tests per thousand'].max())\ntpt.head(2)","6d2fbd65":"\ntest_pr = pd.DataFrame(state_w.groupby('State')['Test positivity rate'].last())\ntest_pr.head(2)\n","61f9f480":"pop = pd.DataFrame(state_w.groupby('State')['Population NCP 2019 Projection'].first())\npop.head(2)\n","b461240a":"hdi = pd.read_excel('..\/input\/state-wise-dataset\/State\/HDI_India.xlsx')\nhdi.rename(columns={'State\/Union Territory':'State'},inplace=True)\nhdi.set_index('State',inplace=True)\nhdi.head(2)\n","3d857bb1":"states_t= pd.read_csv('..\/input\/state-wise-dataset\/State\/state_wise.csv')\nstates_t.set_index('State',inplace=True)\nstates_t.head(2)","081e9b1e":"print(len(hdi))\nprint(len(states_t))\nprint(len(pop))\nprint(states_t.index)\nprint(pop.index)\nprint(set(pop.index) - set(states_t.index))","e64cd5dd":"states_t = pd.concat([states_t,tpm],axis=1)\nstates_t = pd.concat([states_t,tpt],axis=1)\nstates_t= pd.concat([states_t,test_pr],axis=1)\nstates_t= pd.concat([states_t,pop],axis=1)\nstates_t= pd.concat([states_t,hdi],axis=1)","40905d0f":"print(states_t.index)\nprint(states_t.columns)\nprint(len(states_t))\nprint(len(states_t.columns))\n","53fc2fa5":"states_t.rename(columns={'Population NCP 2019 Projection':'Population'},inplace=True)\nstates_t.drop(labels=['Last_Updated_Time','Migrated_Other','Delta_Confirmed','Delta_Recovered','Delta_Deaths',\\\n                   'State_Notes'],inplace=True,axis=1)\nstates_t.head(2)","a42878bd":"states= states_t[1:]\nstates['Deaths per million']= (states['Deaths']\/states['Population'])*1000000\nstates['Num of persons per allopathic Doctor']= states['Population']\/states['Num of Allopathic Doctors']\nstates['Num of persons per hospital']= states['Population']\/states['Tot num of hospitals']\nstates['Num of persons per hospital bed']= states['Population']\/states['Tot num of hospital beds']\nstates['Num of persons per icu bed']= states['Population']\/states['Tot num of ICU beds']\nstates['Num of persons per ventilator beds']= states['Population']\/states['Tot num of ventilator beds']\nstates['recovery percentage']= states['Recovered']\/states['Confirmed']*100\nstates['death percentage']= states['Deaths']\/states['Confirmed']*100\n","130e9753":"\nstates['Confirmed']= pd.to_numeric(states['Confirmed'])\nstates.info()","19be1a57":"states.head(2)","b575fddc":"states.head()","48eed36e":"sns.set_style('white')\n\nplt.figure(figsize=(18,15))\nax = plt.barh(y=states.index,width=states.Confirmed,color='red',height=0.9)\nplt.title('Total Num of cases per State',fontdict={'family': 'serif','color':'red','weight': 'heavy',\\\n                                                   'size': 14})\nplt.ylabel('States',fontsize=14)\nplt.xlabel('Total num of Cases',fontsize=14)\n# remove all the ticks (both axes), and tick labels on the Y axis\nplt.tick_params(axis='both',top=False, bottom=False, left=False, right=False, labelleft=True, labelbottom=False)\n\nfor p in ax.patches:\n    width = p.get_width()\n    plt.text(width+42000,p.get_y()+p.get_height()\/2.5,'{:1.1f}'.format(width\/1000)+'k',ha=\"center\",fontsize=11,fontweight='bold',\\\n            alpha=0.8) \n    \n    # remove the frame of the chart\nplt.show()","85e4cd83":"sns.set_style('white')\nplt.figure(figsize=(18,14))\nax = plt.barh(y=states.index,width=states.Deaths,color='blue',height=1)\nplt.title('Num of People deceased per State',fontdict={'family': 'serif','color':'blue','weight': 'heavy',\\\n                                                   'size': 14})\nplt.ylabel('States',fontsize=14)\nplt.xlabel('Num of People deceased',fontsize=14)\n# remove all the ticks (both axes), and tick labels on the Y axis\nplt.tick_params(axis='both',top=False, bottom=False, left=False, right=False, labelleft=True, labelbottom=False)\n\nfor p in ax.patches:\n    width = p.get_width()\n    plt.text(width+1000,p.get_y()+p.get_height()\/4,'{:1.0f}'.format(width),ha=\"center\",fontsize=11,fontweight='bold',\\\n            alpha=0.8) \n    \n    # remove the frame of the chart\nplt.show()","6d9ceb88":"df1=states[['Recovered','Deaths','Confirmed']].reset_index()\ndf1.rename(columns={'index':'State'},inplace=True)\ndf1.head()","7b32cf2b":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = df1.iplot(asFigure=True,kind='bar',barmode='stack',x='State',yTitle='Total no of patients confirmed,\\\nRecovered,Deceased',xTitle='States',title='Total no of patients confirmed,Recovered,Deceased per state',colors=['orange','blue','green'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","e3cc340c":"cf.tools.getThemes()","cf3260d7":"import plotly\nimport cufflinks as cf\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n#layout1 = cf.Layout(height=300,width=200)\ninit_notebook_mode(connected=True)\n#np.random.seed(123)\ncf.set_config_file(theme='henanigans')\nfig = states['Tests per million'].reset_index().iplot(asFigure=True,kind='bar',x='index',xTitle='States',\\\n                                                      yTitle='Test per million',title='Test per million per state',colors=['green'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","f26f6e14":"import plotly\nimport cufflinks as cf\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n#layout1 = cf.Layout(height=300,width=200)\ninit_notebook_mode(connected=True)\n#np.random.seed(123)\ncf.set_config_file(theme='henanigans')\nfig = states['Deaths per million'].reset_index().iplot(asFigure=True,kind='bar',x='index',xTitle='States',\\\n                                                      yTitle='Deaths per million',title='Deaths per million per state',colors=['red'])\n#fig.update_layout(width=1000,height=1000,xaxis=dict(tickfont=dict(color=\"white\")))\nfig.update_layout(width=1000,height=1000)\n\niplot(fig)\n                  \n                  ","575e0b1d":"states['Test positivity rate']=states['Test positivity rate'].astype('str').apply(lambda x:x.split('%')[0])\ndf2=states[['Test positivity rate','recovery percentage']]\ndf2.reset_index(inplace=True)\ndf2.rename(columns={'index':'State'},inplace=True)\ndf2.head()","f435f3b4":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = df2.iplot(asFigure=True,kind='bar',barmode='stack',x='State',yTitle='Test Positivity Ratio and Recovery Percentage',xTitle='States',title='Test Positivity Ratio and Recovery Percentage per state',colors=['orange','green'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","c63f7c60":"\n\nstates.reset_index(inplace=True)\nstates.rename(columns={'index':'State'},inplace=True)\nstates.head(2)","b894c54a":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = states[['State','HDI ']].iplot(asFigure=True,kind='bar',x='State',yTitle='HDI Index',xTitle='States',title='HDI Index per state',colors=['green'])\nfig.update_layout(width=1000,height=1000)\nfig.add_shape(type=\"line\",xref=\"paper\",yref='paper',x0=0,y0=states['HDI '].median(),x1=1,y1=states['HDI '].median(),line=dict(color=\"DarkOrange\",width=3))\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)\n","aeade9f4":"states['Num of persons per allopathic Doctor'].mean()","269476a4":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = states[['State','Num of persons per allopathic Doctor']].iplot(asFigure=True,kind='bar',x='State',yTitle='Num of persons per allopathic Doctor',xTitle='States',title='Num of persons per allopathic Doctor per state',colors=['green'])\nfig.update_layout(width=1000,height=1000)\nfig.add_shape(type=\"line\",x0=0,y0=states['Num of persons per allopathic Doctor'].mean(),x1=37,y1=states['Num of persons per allopathic Doctor'].mean(),line=dict(color=\"DarkOrange\",width=3))\n\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)\n","26116af5":"hosp_beds = state_w2.groupby('State')['Total Num Beds (Normal\/Isolation) '].max()\nhosp_beds = pd.DataFrame(hosp_beds).reset_index()\n","7f6f62e8":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = hosp_beds[['State','Total Num Beds (Normal\/Isolation) ']].iplot(asFigure=True,kind='bar',\\\n                                                   barmode='stack',x='State',yTitle='Total Num Beds (Normal\/Isolation) ',xTitle='States',title='Total Num Beds (Normal\/Isolation) in each state',colors=['olive'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","58a005b7":"state_w2.columns","2b2939a7":"icu_beds = state_w2.groupby('State')['Total Num ICU Beds'].max()\nicu_beds = pd.DataFrame(icu_beds).reset_index()","3bd5d80a":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = states[['State','Tot num of ICU beds','Tot num of ventilator beds']].iplot(asFigure=True,kind='bar',\\\n                                                                                 barmode='stack',x='State',yTitle='Total num of ICU and ventilators',xTitle='States',title='Total num of ICU and ventilators in diffferent states',colors=['green','orange'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","4dcb1aea":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = states[['State','Num of persons per icu bed','Num of persons per ventilator beds']].iplot(asFigure=True,kind='bar',\\\n                                                                                 barmode='stack',x='State',yTitle='Number of persons per icu and ventilator bed',xTitle='States',\\\n                                                                                                title='Number of persons per icu and ventilator bed in states',colors=['green','orange'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","4435fba8":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = states[['State','Num of persons per hospital bed']].iplot(asFigure=True,kind='bar',\\\n                                                                                 barmode='stack',x='State',yTitle='Num of persons per hospital bed',xTitle='States',\\\n                                                                                                title='Num of persons per hospital bed for different states',colors=['olive'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","c7b569d0":"import plotly\nimport cufflinks as cf\nfrom plotly import tools\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nnp.random.seed(123)\ncf.set_config_file(theme='henanigans')\n#layout1 = cf.Layout(height=300,width=200)\n\nfig = states[['State','death percentage']].iplot(asFigure=True,kind='bar',\\\n                                                                                 barmode='stack',x='State',yTitle='death percentage',xTitle='States',\\\n                                                                                                title='Death percentage for different states',colors=['red'])\nfig.update_layout(width=1000,height=1000)\n#legend=dict(yanchor=\"top\",y=0.99,xanchor=\"left\",x=0.01)\niplot(fig)","d086af2a":"states['Test positivity rate']=states['Test positivity rate'].astype('float32')","3ebeddc0":"df_htmap= states[['Confirmed', 'Recovered', 'Deaths', 'Active',\n       'Tests per million', 'Tests per thousand', 'Test positivity rate',\n       'Population', 'HDI ', 'Tot num of hospitals',\n       'Tot num of hospital beds', 'Tot num of ICU beds',\n       'Tot num of ventilator beds', 'Pop Density per Km2',\n       'Num of Allopathic Doctors', 'Deaths per million',\n       'Num of persons per allopathic Doctor', 'Num of persons per hospital',\n       'Num of persons per hospital bed', 'Num of persons per icu bed',\n       'Num of persons per ventilator beds', 'recovery percentage',\n       'death percentage']]\nplt.subplots(figsize = (30,20))\nmask = np.zeros_like(df_htmap.corr(), dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\n#Plotting heatmap\nsns.heatmap(df_htmap.corr(), cmap=sns.diverging_palette(20, 220, n=200), mask = mask, annot=True, center = 0)","ff161add":"sns.set()\nplt.figure(figsize=(15,10))\nsns.lineplot(data=states,x='Confirmed',y='death percentage',color='r',lw=3)\nsns.lineplot(data=states,x='Confirmed',y='recovery percentage',color='b',lw=2.5)\nsns.lineplot(data=states,x='Confirmed',y='Test positivity rate',color='g',lw=3)\nplt.legend(['Death Percentage','Recovery Percentage','Test positivity rate'])\nplt.xlabel('No of Confirmed Cases')\nplt.show()","cb1b38b2":"stats[stats['State']=='Maharashtra'][['Date','Confirmed']].tail()","93651b5d":"stats[stats['State']=='Maharashtra'][['Date','Confirmed']].tail(10)","bb5672bc":"df_phet_MH = stats[stats['State']=='Maharashtra'][['Date','Confirmed']]","b07b6809":"df_phet_MH= df_phet_MH[df_phet_MH['Date']<'2020-10-20']\nfb_pro = Prophet(yearly_seasonality=True,daily_seasonality=True)\ndf_phet_MH.columns = ['ds' , 'y']","cd17e4d7":"fb_pro.fit(df_phet_MH)","90214c71":"df_phet_future = fb_pro.make_future_dataframe(periods= 20) \ndf_phet_future.tail()","377cb27b":"forecast=fb_pro.predict(df_phet_future)\nforecast.head()","9c8dc172":"fig = plot_plotly(fb_pro, forecast)\nfig.update_layout(\n                  autosize=False,\n                  width= 750,\n                  height= 800,\n    title_text='Covid-19 Forecast',\n    title_x=0.5,\n    paper_bgcolor='mistyrose',\n    plot_bgcolor = 'mistyrose',)\n\nfig.show()","3bebfdc1":"stats[stats['State']=='Delhi'][['Date','Confirmed']].tail(10)","84e06db0":"df_phet_DL = stats[stats['State']=='Delhi'][['Date','Confirmed']]\ndf_phet_DL= df_phet_DL[df_phet_DL['Date']<'2020-10-20']\nfb_pro = Prophet(yearly_seasonality=True,daily_seasonality=True,weekly_seasonality=True)\ndf_phet_DL.columns = ['ds' , 'y']","8a79dc7c":"fb_pro.fit(df_phet_DL)\ndf_phet_future = fb_pro.make_future_dataframe(periods= 20)\nforecast=fb_pro.predict(df_phet_future)","6c19c5e2":"fig = plot_plotly(fb_pro, forecast)\nfig.update_layout(\n                  autosize=False,\n                  width= 750,\n                  height= 800,\n    title_text='Covid-19 Forecast',\n    title_x=0.5,\n    paper_bgcolor='tan',\n    plot_bgcolor = 'tan',)\n\nfig.show()","bbc005f6":"stats[stats['State']=='Maharashtra'][['Date','Deceased']].tail(10)","ae74ea86":"df_phet_MH = stats[stats['State']=='Maharashtra'][['Date','Deceased']]\ndf_phet_MH= df_phet_MH[df_phet_MH['Date']<'2020-10-20']\nfb_pro = Prophet(yearly_seasonality=True,daily_seasonality=True)\ndf_phet_MH.columns = ['ds' , 'y']","03a10168":"fb_pro.fit(df_phet_MH)\ndf_phet_future = fb_pro.make_future_dataframe(periods= 20) \ndf_phet_future.tail()\nforecast=fb_pro.predict(df_phet_future)","b9727dd3":"fig = plot_plotly(fb_pro, forecast)\nfig.update_layout(\n                  autosize=False,\n                  width= 750,\n                  height= 800,\n    title_text='Covid-19 Forecast',\n    title_x=0.5,\n    paper_bgcolor='khaki',\n    plot_bgcolor = 'khaki',)\n\nfig.show()","47f4c156":"stats[stats['State']=='Delhi'][['Date','Deceased']].tail(10)","dbdeda75":"df_phet_DL = stats[stats['State']=='Maharashtra'][['Date','Deceased']]\ndf_phet_DL= df_phet_DL[df_phet_DL['Date']<'2020-10-20']\nfb_pro = Prophet(yearly_seasonality=True,daily_seasonality=True)\ndf_phet_DL.columns = ['ds' , 'y']","8d32d8bc":"fb_pro.fit(df_phet_DL)\ndf_phet_future = fb_pro.make_future_dataframe(periods= 20) \ndf_phet_future.tail()\nforecast=fb_pro.predict(df_phet_future)","637650ce":"fig = plot_plotly(fb_pro, forecast)\nfig.update_layout(\n                  autosize=False,\n                  width= 750,\n                  height= 800,\n    title_text='Covid-19 Forecast',\n    title_x=0.5,\n    paper_bgcolor='yellowgreen',\n    plot_bgcolor = 'yellowgreen',)\n\nfig.show()","ba583d93":"sns.set_style('whitegrid')\nfrom statsmodels.tsa.arima_model import ARIMA\narima = ARIMA(df_phet_MH['y'], order=(5, 1, 0))\narima = arima.fit(trend='c', full_output=True, disp=True)\nforecast = arima.forecast(steps= 30)\npred = list(forecast[0])\n\nstart_date = df_phet_MH['ds'].max()\nprediction_dates = []\nfor i in range(30):\n    date = start_date + datetime.timedelta(days=1)\n    prediction_dates.append(date)\n    start_date = date\nplt.figure(figsize= (15,10))\nplt.xlabel(\"Dates\",fontsize = 20)\nplt.ylabel('Total Confirmed cases for Maharahstra',fontsize = 20)\nplt.title(\"Predicted Values for the next 30 Days\" , fontsize = 20)\n\nplt.plot_date(y= pred,x= prediction_dates,linestyle ='dashed',color = 'red',label = 'Predicted');\nplt.plot_date(y=df_phet_MH['y'],x=df_phet_MH['ds'],linestyle = '-',color = 'blue',label = 'Actual');\nplt.legend();","8d79a2b3":"sns.set_style('whitegrid')\nfrom statsmodels.tsa.arima_model import ARIMA\narima = ARIMA(df_phet_DL['y'], order=(5, 1, 0))\narima = arima.fit(trend='c', full_output=True, disp=True)\nforecast = arima.forecast(steps= 30)\npred = list(forecast[0])\n\nstart_date = df_phet_DL['ds'].max()\nprediction_dates = []\nfor i in range(30):\n    date = start_date + datetime.timedelta(days=1)\n    prediction_dates.append(date)\n    start_date = date\nplt.figure(figsize= (15,10))\nplt.xlabel(\"Dates\",fontsize = 20)\nplt.ylabel('Total Confirmed cases for Delhi',fontsize = 20)\nplt.title(\"Predicted Values for the next 1 month\" , fontsize = 20)\n\nplt.plot_date(y= pred,x= prediction_dates,linestyle ='dashed',color = 'red',label = 'Predicted');\nplt.plot_date(y=df_phet_DL['y'],x=df_phet_DL['ds'],linestyle = '-',color = 'blue',label = 'Actual');\nplt.legend();","5cb0031d":"#### <font color=darkgreen>_Odisha has highest no hospital beds followed by Karnataka whereas Manipur has lowest beds._","c32191e1":"# <font color=darkred>`If you found this notebook helpful , some upvotes would be very much appreciated - That will keep me motivated :)`\n","09607cf6":"#### <font color=darkgreen>_Maharashtra has highest death, recoveries and total cases._","ab5e0ed9":"![](https:\/\/media.giphy.com\/media\/PnD1HSO0rVx8AiNIMl\/giphy.gif)","5718a5f0":"## _Percentage of patients deceased age wise_","7200b53f":"#### _Test Positive rate describe for better understanding_","b584bc9a":"# Maharashtra Confirmed Cases Forecast","e11c01ca":"## _Recovered cases percentage Age wise_","c490ef9a":"# Delhi Confirmed Cases Forecast","2027bd87":"## Death Percentage for different states","2b29b97b":"#### <font color=darkgreen>_Total positive cases increasing at the same rate as Total Sample tested, we can see approximate straight line of 45 degree slope. If testing increases in india positive cases will increase at the same rate.As you can see no of positive cases also increases(pearson correlation cofficient is 1_<\/font>","0367df94":"## Total no of patients confirmed,Recovered,Deceased per state","ab1d5b55":"# Forecasting using  ARIMA model","4b61c95c":"#### <font color=darkgreen>_Goa has the lowest Num of persons per allopathic Doctor, Nagalanad and Mizoram has highest. Goa is best state accoridng to Num of persons per allopathic Doctor._","2acc2101":"#### <font color=darkgreen>_Notice Test Positivity Rate on 29-10-2020_","8880c263":"## _StateWise Daily Cases Time Series_","ce8ad67a":"# Delhi Confirmed Cases Forecast","cf56e9db":"## _Test Per Million_","c85ce945":"## _Age Dataframe_","499a079f":"#### <font color=darkgreen>_Total no. of cases in Maharashtra has highest followed by Andra Pradesh. while Lakshadweep  and Mizoram has lowest no of cases._","c5db9418":"# Delhi Deceased Cases Forecast","2b95ceef":"#### <font color=darkgreen>You can notice that after September , Uttar Pradesh increase rate is maximum. Sikkim , Meghalaya, Arunachal pradesh have the lowest rate or gradient.\n    ","026747c7":"## _StateWise Tested numbers Data_","581d12a1":"## _Test Positivity Rate_","2b09cf1d":"## Total num of people deceased per state","cbc58638":"### _Test per million Describe for better understanding_","0eb85e9d":"# Maharashtra Confirmed Cases Forecast","22ba93cf":"#### <font color=darkgreen>_Deceased percentage of males are greater than females. Deceased percebtage in age group 40-60 and 60-80 is highest_","5acba6a0":"#### <font color=darkgreen>_Maharashtra has highest recovery rate followed by Chandigarh, while Arunachal Pradesh has lowest recovery rate._","6636f380":"## Total num of hospital beds in each state","e143def0":"## Rate of Increase of cases in top 10 state case wise w.r.t date","3cfd9a17":"# <font color=darkred>`If you found this notebook helpful , some upvotes would be very much appreciated - That will keep me motivated :)`\n","73528332":"#### <font color=darkgreen>Maharashtra  has the highest increasing rate, followed by Andra Pradesh and Karnantaka. Note: Cases rate for delhi is changing unevenly.Maharashtra highest slope value. Hence, Cases in Maharashtra is highest followed by Tamil Nadu.","7c16f2aa":"#### <font color=darkgreen>_Ladakh has highest test per million followed by Ladakh,while Madhya Pradesh has lowest test per million.","25e78e4b":"#### <font color=darkgreen> Test per million are increasing at exponential rate as date increases_","d65e5ee6":"#### <font color=darkgreen>_Test per confirmed cases saturated after April 4, 2020, because testing samples increases at a fast rate in april and after that, avearge 1 lakh samples daily tested in July.<\/font>","b4504ac2":"## _Total Positive Case_","1ed2f38b":"## *Percentage of patients recovered age wise*","51c313d3":"## Total num of ICU and ventilators in diffferent states","88085b1a":"## Number of persons per icu bed and  ventilator bed in states","f2176c02":"#### <font color=darkgreen>_Bihar has highest number of person per icu and ventilator bed (i.e. Bihar has worst healthcare compared to other states), whereas Chandigarh has lowest num of person per icu and ventilator(i.e. best healthcare compared to other states)_","50a6d77d":"## Num of persons per hospital bed for different states","d31438c6":"#### <font color=darkgreen>_Kerela has highest HDI followed by Chandigarh while Bihar has lowest HDI._","9f0e48f5":"## Total Num of cases per state","da5a5f92":"## _Relation between Test Positivity rate and Tests per million_","447dbd8d":"#### <font color=darkgreen>_Puducherry has highest deaths per million followed by Goa._","4362adf8":"#### <font color=darkgreen>_UP has highest no of vemtilators and ICU beds followed by Karnataka whereas Manipur has lowest numbers._","d1bec69f":"![](http:\/\/)![](http:\/\/)## <font color=darkgreen>Approach:\n- <i><b>Data cleaning and statistical analysis.\n- Exploratory Data Analysis and visualisations.\n- Forecasting using FBProphet\n- Forecasting using ARIMA","fb99722f":"## Test Positivity Ratio and Recovery Percentage per state","966e2873":"#### <font color=darkgreen>_Correlation cofficient between different features, how correlated are they with each other_","8570084e":"## HDI per state","6e51784d":"# Maharashtra Deceased Cases Forecast","e3f6c9e8":"#### <font color=darkgreen>_Punjab has the highest death percentage followed by maharashtra whereas Lakashwadeep has lowest._","47d2a461":"# Forecasting using FBProphet","23ad0b69":"# <----------------------THANK YOU :)---------------------->","54abaf2d":"#### <font color=darkgreen>_Correlation cofficients_","b314dfe4":"## _ICMR Testing data EDA_","fe741523":"<div class=\"list-group\" id=\"list-tab\" role=\"tablist\">\n<h1 class=\"list-group-item list-group-item-action active\" data-toggle=\"list\" style='background:maroon; border:0; color:yellow' role=\"tab\" aria-controls=\"home\"><center>Covid19 India EDA + Forecasting<\/center><\/h1>\n","f277a311":"![covid](https:\/\/hms.harvard.edu\/sites\/default\/files\/hero-images\/coronavirus.jpg)"}}