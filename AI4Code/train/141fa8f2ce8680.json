{"cell_type":{"9326283b":"code","6ef33295":"code","71617e05":"code","dcad3316":"code","10755992":"code","9612d7f8":"code","49abf143":"code","3c24aa3b":"code","79f33e4f":"code","ef30a258":"code","7c12176e":"code","22f26587":"code","19975d06":"code","83f59e59":"code","5d6de4f9":"code","7cc2ee06":"code","9c0a1d3c":"code","a1de0509":"code","a4ed1535":"code","0b7f79bc":"code","c1e44276":"code","0c7e4ba4":"code","7641f147":"code","2732f9e5":"code","a7bf1983":"code","c062455e":"code","90fb9125":"code","a881f267":"code","fbbf43db":"code","14c22279":"code","a5138ad0":"code","d30885b3":"code","afd66ec6":"code","694bef8c":"code","96f9da83":"code","a9f492df":"code","e409dd7d":"code","e12454e8":"code","799431cb":"code","737bb902":"code","09954c30":"code","458464e8":"code","81e46136":"code","69550cc9":"code","14ec04bc":"code","463af85d":"code","3a8ef7ba":"code","767e12ca":"code","a77fc28d":"code","9cde6e3f":"code","8c5e8f97":"code","8f056815":"code","c1b11860":"code","0bbab79f":"code","fb373c66":"code","410f07b7":"code","b47b06af":"code","b2ed6fa6":"code","ce0e36ec":"code","4c2ceccb":"code","4c728fd7":"code","5b2b1fd7":"code","85a27ea9":"code","1d3b341b":"code","1be2b771":"code","3c879df1":"code","9b058ca0":"code","ad739ca8":"code","d0eac72f":"code","45702654":"code","c145cb3c":"code","18aafb76":"code","621881c9":"code","4fd0e2d1":"markdown","ad971db4":"markdown","e2f387e6":"markdown","28478296":"markdown","fb366d62":"markdown","827b37cb":"markdown","1fef3184":"markdown","0a926b88":"markdown","31b22a79":"markdown","e1dbfde0":"markdown","40c05e43":"markdown","cccc73ff":"markdown","a5ef2bb4":"markdown","b47c3636":"markdown","dda15c4a":"markdown","0ebf9b41":"markdown","ec275c1b":"markdown","8954b649":"markdown","f03f6dc8":"markdown","bc5de7e1":"markdown","35e166a3":"markdown","a58c3d4b":"markdown","182ea7fe":"markdown","e82584cd":"markdown","ac9f408e":"markdown","33e4da0f":"markdown","b6e7eab3":"markdown","aaaed65c":"markdown","fbde9987":"markdown","06f7adde":"markdown","cb1ef1c7":"markdown","ef1910b1":"markdown","2ec7cfdd":"markdown","04a0273f":"markdown","62935a2f":"markdown","90080b81":"markdown","fb61f1f7":"markdown","456ec262":"markdown","342c3470":"markdown","d9dbe514":"markdown","27607648":"markdown","dd6eae23":"markdown","1d6ec6fa":"markdown","d2aaba7a":"markdown","532766d2":"markdown","dbaf79f2":"markdown","22804e60":"markdown","7fca7208":"markdown","ebee459c":"markdown","7a93eec7":"markdown","25ab8c62":"markdown","8c709274":"markdown","61ee8213":"markdown","0ea4f989":"markdown","ff43b3c4":"markdown","36ab8f5b":"markdown","5688d636":"markdown","ac001941":"markdown","c6f2acb9":"markdown","62b5443c":"markdown","4e344381":"markdown","72796e65":"markdown","47d1124b":"markdown","58342fca":"markdown","5671ddd7":"markdown","5076d87e":"markdown","85e387d7":"markdown","c2039ea8":"markdown","d8b54298":"markdown","75a8b4ec":"markdown"},"source":{"9326283b":"#Load Libraries\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport plotly.graph_objs as go\nimport plotly.express as px\n\nimport warnings\nwarnings.filterwarnings('ignore')","6ef33295":"data = pd.read_csv(\"..\/input\/fifa-20-complete-player-dataset\/players_20.csv\")\ndata.head()","71617e05":"data.shape","dcad3316":"list(data.columns)","10755992":"data.info()","9612d7f8":"data.describe()","49abf143":"#removing redundant columns\nredundant_columns = ['sofifa_id','player_url','long_name','dob','nation_jersey_number','loaned_from']\ndata = data.drop(redundant_columns, axis = 1)","3c24aa3b":"null_data = data.isna().sum().sort_values(ascending=False)\nnull_data = null_data.reset_index(drop = False)\nnull_data = null_data.rename(columns={\"index\": \"Columns\", 0:\"Value\"})\nnull_data['proportion'] = (null_data['Value']\/len(data))*100\nnull_data.head()","79f33e4f":"missing = null_data[null_data['proportion']>10]\nfig = px.pie(missing, names='Columns', values='proportion',\n             color_discrete_sequence=px.colors.sequential.Viridis_r,\n             title='Percentage of Missing values in Columns')\nfig.update_traces(textposition='inside', textinfo='label')\nfig.show()","ef30a258":"data.shape","7c12176e":"data.head()","22f26587":"#Taking subsets of data for analysis\ndataset1 = data[['short_name','age','height_cm','weight_kg','nationality','club','overall','potential','value_eur',\n                 'wage_eur','player_positions','preferred_foot','international_reputation','weak_foot',\n                 'skill_moves','work_rate','body_type','real_face','release_clause_eur','joined']]","19975d06":"numeric_features = ['age','height_cm','weight_kg','overall','potential','value_eur',\n                 'wage_eur','international_reputation','weak_foot',\n                 'skill_moves','release_clause_eur']\nnumeric_dataset1 = data[numeric_features]","83f59e59":"dataset1.describe()","5d6de4f9":"dataset1.isna().sum().sort_values(ascending=False)","7cc2ee06":"#boxplot for outliers\nfor col in numeric_dataset1.columns:\n    sns.boxplot(x = col, data = dataset1) \n    plt.show()","9c0a1d3c":"#histograms of numerical features\ndataset1.hist(bins='auto', figsize=(14, 10))","a1de0509":"plt.figure(figsize=(14,5))\nplt.title('Age Distribution FIFA 20')\nsns.distplot(a=dataset1['age'], kde=True, bins=20)\nplt.axvline(x=np.mean(dataset1['age']),c='orange',label='Mean Age of All Players')\nplt.legend()","a4ed1535":"#Count of players of different ages\nplt.figure(figsize= (14,8))\n\nax = sns.countplot(x='age', data=dataset1)\nax.set_title(label='Count of Players by age', fontsize=20)\n\nax.set_xlabel(xlabel='Age')\nax.set_ylabel(ylabel='Count')\n\nplt.show()","0b7f79bc":"#Oldest Player\nprint(\"Oldest Players: \")\ndata.loc[dataset1['age'] == data['age'].max()]","c1e44276":"#Youngest Player\nprint(\"Youngest Players: \")\ndata.loc[data['age'] == dataset1['age'].min()]","0c7e4ba4":"#Skewness\ndataset1['age'].skew()","7641f147":"fig = go.Figure()\n\nfig = go.Figure(data=go.Scatter(\n    x = dataset1['age'],\n    y = dataset1['overall'],\n    mode='markers',\n    marker=dict(\n        color=dataset1['overall'], \n        showscale=True\n    ),\n    text= dataset1['short_name'],\n))\n\nfig.update_layout(title='Age vs Overall Rating',\n                  xaxis_title='Age',\n                  yaxis_title='Overall Rating')\nfig.show()","2732f9e5":"plt.figure(figsize=(14,5))\nplt.title('Height Distribution FIFA 20')\nsns.distplot(a=dataset1['height_cm'], kde=True, bins=20)\nplt.axvline(x=np.mean(dataset1['height_cm']),c='orange',label='Mean Height of All Players')\nplt.legend()","a7bf1983":"#Tallest Player\nprint(\"Tallest Players: \")\ndata.loc[data['height_cm'] == dataset1['height_cm'].max()]","c062455e":"#Shortest Player\nprint(\"Shortest Player: \")\ndata.loc[data['height_cm'] == dataset1['height_cm'].min()]","90fb9125":"#Skewness\ndataset1['height_cm'].skew()","a881f267":"plt.figure()\nx=data.head(20)['height_cm']\ny=data.head(20)['pace']\n\nsns.regplot(x,y)\nplt.title('Height v Pace')\nplt.xlabel('Height')\nplt.ylabel('Pace')\nplt.show()","fbbf43db":"plt.figure(figsize=(14,5))\nplt.title('Weight Distribution FIFA 20')\nsns.distplot(a=dataset1['weight_kg'], kde=True, bins=20)\nplt.axvline(x=np.mean(dataset1['weight_kg']),c='orange',label='Mean Weight of All Players')\nplt.legend()","14c22279":"plt.figure()\nx=data.head(20)['weight_kg']\ny=data.head(20)['pace']\n\nsns.regplot(x,y)\nplt.title('Weight v Pace')\nplt.xlabel('Weight')\nplt.ylabel('Pace')\nplt.show()","a5138ad0":"plt.figure()\nx=data.head(20)['height_cm']\ny=data.head(20)['weight_kg']\n\nsns.regplot(x,y)\nplt.title('Height v Weight')\nplt.xlabel('Height')\nplt.ylabel('Weight')\nplt.show()","d30885b3":"data['bmi'] = data['weight_kg'] \/\/ (data['height_cm']\/100)**2","afd66ec6":"plt.figure(figsize= (14, 7))\n\nax = sns.countplot(x='bmi', data=data, order=data.bmi.value_counts().iloc[:20].index)\nax.set_title(label='Count of Players on Basis of BMI(Body Mass Index) in FIFA 20')\n\nax.set_xlabel(xlabel='BMI(Body Mass Index)')\nax.set_ylabel(ylabel='Count')\n\nplt.show()","694bef8c":"fig = go.Figure()\n\nfig = go.Figure(data=go.Scatter(\n    x = data['bmi'],\n    y = dataset1['overall'],\n    mode='markers',\n    marker=dict(\n        color=dataset1['overall'], \n        showscale=True\n    ),\n    text= dataset1['short_name'],\n))\n\nfig.update_layout(title='BMI vs Overall Rating',\n                  xaxis_title='BMI',\n                  yaxis_title='Overall Rating')\nfig.show()","96f9da83":"plt.figure(figsize = (20,7))\ndataset1['nationality'].value_counts().head(50).plot.bar(color = 'purple')\nplt.title('Players from different countries present in FIFA-2021')\nplt.xlabel('Country')\nplt.ylabel('Count')\nplt.show()","a9f492df":"fig = go.Figure()\n\nfig = go.Figure(data=go.Scatter(\n    x = dataset1['nationality'],\n    y = dataset1['overall'],\n    mode='markers',\n    marker=dict(\n        color=dataset1['overall'], \n        showscale=True\n    ),\n    text= dataset1['short_name'],\n))\n\nfig.update_layout(title='Nationality vs Overall Rating',\n                  xaxis_title='Nationality',\n                  yaxis_title='Overall Rating')\nfig.show()","e409dd7d":"plt.figure(figsize=(14, 7))\nsns.countplot(dataset1['overall'])\nplt.title(\"Overall Rating\")\nplt.show()","e12454e8":"print(\"Min: \", dataset1['overall'].min())\nprint(\"Mean: \", dataset1['overall'].mean())\nprint(\"Max: \", dataset1['overall'].max())","799431cb":"#Player with highest rating\ndata.loc[data['overall'] == dataset1['overall'].max()]","737bb902":"#Top 10 Players\ntop_rated = data.sort_values(by=[\"overall\"], ascending=False)\ntop_rated.head(10)","09954c30":"fig = px.pie(top_rated.head(25), names='club',\n             title='Percentage of Clubs in top 25 players')\nfig.show()","458464e8":"fig = px.pie(top_rated.head(25), names='nationality',\n             title='Percentage of Nations in top 25 players')\nfig.show()","81e46136":"plt.figure(figsize=(14, 7))\nsns.countplot(dataset1['potential'])\nplt.title(\"Potential\")\nplt.show()","69550cc9":"sns.relplot(x='potential',y='overall',hue='age',palette = 'viridis', aspect=2.5,data=data)\nplt.title('Potential v Overall',fontsize = 20)\nplt.xlabel('Potential')\nplt.ylabel('Overall Rating')\nplt.show()","14ec04bc":"plt.figure(figsize=(14,5))\nplt.title('Value Distribution FIFA 20')\nsns.distplot(a=dataset1['value_eur'], kde=True, bins=100)\nplt.axvline(x=np.mean(dataset1['value_eur']),c='orange',label='Mean Value of All Players')\nplt.legend()","463af85d":"#Skewness\ndataset1['value_eur'].skew()","3a8ef7ba":"#Value of Top 10 players\nplt.figure(figsize=(14, 7))\nsns.barplot(top_rated['short_name'].head(10), top_rated['value_eur'].head(10)).set_title(\"Value of top 10 players\")","767e12ca":"#Most Valueable\ndata.loc[data['value_eur'] == dataset1['value_eur'].max()]","a77fc28d":"#Most Valued Players\ntop_valued = data.sort_values(by=[\"value_eur\"], ascending=False)\ntop_valued.head(10)","9cde6e3f":"fig = px.pie(top_valued.head(25), names='club',\n             title='Percentage of Clubs in top 25 players')\nfig.show()","8c5e8f97":"fig = px.pie(top_valued.head(25), names='nationality',\n             title='Percentage of Nations in top 25 players')\nfig.show()","8f056815":"#Top 10 Valued players\nplt.figure(figsize=(14, 7))\nsns.barplot(top_valued['short_name'].head(10), top_valued['value_eur'].head(10)).set_title(\"Top 10 Valued players\")","c1b11860":"sns.countplot(x = dataset1['preferred_foot'])","0bbab79f":"foot = ['Left', 'Right']\nfoot_data = data.query('preferred_foot in @foot')    \nfig = px.pie(foot_data, names='preferred_foot',\n             title='Preferred foot %')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","fb373c66":"print(\"The average overall score of preferred Right foot\", dataset1.loc[dataset1['preferred_foot'] == 'Right']['overall'].mean())\nprint(\"The average overall score of preferred Left foot\", dataset1.loc[dataset1['preferred_foot'] == 'Left']['overall'].mean())","410f07b7":"sns.countplot(x = dataset1['international_reputation'])","b47b06af":"sns.countplot(x = dataset1['skill_moves'])","b2ed6fa6":"plt.figure(figsize=(14,7))\nsns.countplot(x = dataset1['work_rate'])","ce0e36ec":"plt.figure(figsize=(14, 7))\nsns.countplot(x='team_position', data=data, palette='bright', order=data.team_position.value_counts().index)","4c2ceccb":"attack = ['LW', 'RW', 'ST', 'LF', 'RF', 'CF', 'LS', 'RS']\nattack_data = data.query('team_position in @attack')    \nfig = px.pie(attack_data, names='team_position',\n             color_discrete_sequence=px.colors.sequential.Inferno ,\n             title='Percentages of Player Attacking Positions')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","4c728fd7":"defence = ['LWB', 'RWB', 'CB', 'LB', 'RB', 'LCB', 'RCB']\ndefence_data = data.query('team_position in @defence')    \nfig = px.pie(defence_data, names='team_position',\n             color_discrete_sequence=px.colors.sequential.Inferno ,\n             title='Percentages of Player Defending Positions')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","5b2b1fd7":"mid = ['CM', 'RCM', 'LCM', 'RM', 'LM', 'CAM', 'RDM', 'LDM', 'CDM', 'RAM', 'LAM']\nmid_data = data.query('team_position in @mid')    \nfig = px.pie(mid_data, names='team_position',\n             color_discrete_sequence=px.colors.sequential.Inferno ,\n             title='Percentages of Player Midfield Positions')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","85a27ea9":"high_release = data.sort_values(by=['release_clause_eur'], ascending=False)\nhigh_release.head(10)","1d3b341b":"#Top Release clauses \nplt.figure(figsize=(14, 7))\nsns.barplot(top_valued['short_name'].head(10), top_valued['release_clause_eur'].head(10)).set_title(\"Top Release clauses\")","1be2b771":"print(\"Min: \", dataset1['release_clause_eur'].min())\nprint(\"Mean: \", dataset1['release_clause_eur'].mean())\nprint(\"Max: \", dataset1['release_clause_eur'].max())","3c879df1":"high_wage = data.sort_values(by=['wage_eur'], ascending=False)\nhigh_wage.head(10)","9b058ca0":"#Highest Wages\nplt.figure(figsize=(14, 7))\nsns.barplot(high_wage['short_name'].head(10), high_wage['wage_eur'].head(10)).set_title(\"Highest Wages\")","ad739ca8":"print(\"Min: \", dataset1['release_clause_eur'].min())\nprint(\"Mean: \", dataset1['release_clause_eur'].mean())\nprint(\"Max: \", dataset1['release_clause_eur'].max())","d0eac72f":"#Wage of top 10 rated\nplt.figure(figsize=(14, 7))\nsns.barplot(top_rated['short_name'].head(10), top_rated['wage_eur'].head(10)).set_title(\"Wage of top 10 players\")","45702654":"sns.relplot(x='wage_eur',y='overall',hue='age',palette = 'viridis', aspect=2.5,data=data)\nplt.title('Wage v Overall',fontsize = 20)\nplt.xlabel('Wage in Euros')\nplt.ylabel('Overall Rating')\nplt.show()","c145cb3c":"sns.boxplot(y='wage_eur',x='international_reputation',data=data)\nplt.title('Wage v Reputation')\nplt.ylabel('Wage in Euros')\nplt.xlabel('international_reputation')\nplt.show()","18aafb76":"fig = px.scatter_3d(top_rated.head(20), x='potential', y='overall', z='wage_eur',\n              color='short_name')\nfig.update_layout(title='3D Plot of Potential, Overall and Wage')\nfig.show()","621881c9":"plt.figure(figsize=(15,10))\nsns.heatmap(dataset1.corr(), annot=True, cbar=True)","4fd0e2d1":"Let us now load the data and story it as a pandas dataframe.\nHere we are displaying the first 5 rows of our dataframe.","ad971db4":"Now let us plot their histograms to look at their distributions.","e2f387e6":"We observe:\n- Height and weight are linearly dependant","28478296":"We infer:\n- max players are from the age group 20-25.\n- maximum and patterns of other features can be seen in the histograms too.\n- frequency plots of value_eur and wage_eur is highly skewed.\n- international_reputation, skill_moves and weak_foot have categorical values.\n- all other features have discrete values","fb366d62":"We observe:\n- Highest rating for BMI 24\n- No direct relation \n- Maximum of rating first increases and then decreases.","827b37cb":"Now let us plot the percentage of missing values to understand it better.","1fef3184":"## Preferred Foot","0a926b88":"We observe that there is high correlation between the following features:\n- wage and value\n- release clause and value\n- release cause and age\n\n\nIn such cases, we should remove one of the features of these pairs when using the data for training to get better results.","31b22a79":"## Age","e1dbfde0":"We observe:\n- Preferred foot doesn't have a significant impact on the overall score.","40c05e43":"## Work Rate","cccc73ff":"**In this notebook, we are going to analyse different features of the FIFA 20 dataset and visualise patterns, trends and relations between them.**","a5ef2bb4":"We observe:\n- England, Germany and Spain has the highest number of players.\n- Venezuela and Slovenia have least number of players.","b47c3636":"**Let's get started!**","dda15c4a":"## Potential","0ebf9b41":"We observe:\n- Wage increases with increase in Overall Rating as depicted by the curve.","ec275c1b":"From the above line we infer the data types of our features.\n- data types: float64(16), int64(45), object(43)\n<br><br>\nWe must note that we need to deal with object data types as numeric data is preferred for training models well.","8954b649":"Now let us find the missing values of different columns(features).","f03f6dc8":"Since our data contains 98 features, it will be very confusing to compare all features at the same time. Hence, we take subsets of the dataset by selecting some important features and analyse them.","bc5de7e1":"## Correlation Heatmap","35e166a3":"## Wages","a58c3d4b":"Let us now create a new feature BMI from weight and height, and analyse its effect on performance ratings.","182ea7fe":"I made a seperate data frame for the numeric columns of dataset1 to analyse them statiscally later on.","e82584cd":"From the shape of the data, we observe that there are:\n- 18,2758 observations (\n- 104 features","ac9f408e":"## Skill Moves","33e4da0f":"Let us look at the revised data now after removing redundant features:","b6e7eab3":"- 22 is the most common BMI","aaaed65c":"We infer:\n- No definite pattern is visible since the plot is vastly spread.\n- While age doesnt linearly effect rating, some trends can be observed.\n- Minimum rating generally increases with age.\n- Maximum of rating first increases and then decreases, with peak at 32 (Messi)","fbde9987":"Now let us analyse the statistical description of our data.","06f7adde":"Now, let us pick features from dataset1 and observe trends and patterns in them.","cb1ef1c7":"Now let us print the column names and find out what the 104 features are.","ef1910b1":"## Release Clause","2ec7cfdd":"We observe:\n- Most players have rating in range 60-70.\n- Very few players have rating > 80.","04a0273f":"Team positions can be grouped into three catagories: Attack, Defend and Midfield.<br>\nLet us explore them now.","62935a2f":"# Exploring Features","90080b81":"We observe:\n- The distribution is highly skewed.","fb61f1f7":"We observe:\n- Pace tends to decrease with increase in height.","456ec262":"## Team Position","342c3470":"## Nationality vs Overall Rating","d9dbe514":"## Weight","27607648":"**Any suggestions would be highly appreciated.**","dd6eae23":"## Data Cleaning","1d6ec6fa":"Let us remove some redundant features that wont be required for Data Analysis.","d2aaba7a":"## Overall","532766d2":"# Data exploration","dbaf79f2":"We observe:\n- Range and distribution of wages varies for different reputations.\n- Mean wage increases with increase in reputation","22804e60":"## Load Data","7fca7208":"Now let us find top rated players and analyse their origins.","ebee459c":"Now, let us plot a correlation heatmap to find relations between the features.","7a93eec7":"Now, we will plot boxplots of the numerical columns to identify outliers in our dataset, which can be seen as dots or circles below.","25ab8c62":"# Exploratory Data Analysis","8c709274":"### Impact of Age on Overall rating","61ee8213":"We observe:\n- features like age, weight_kg etc have few outliers\n- features like wage_eur and value_eur have a lot of outliers as can be seen from their boxplots.\n\n\n\nSince we are only analysing and visualising data in this notebook, we don't need to handle outliers at present.","0ea4f989":"We notice:\n- Overall Rating is linearly dependant on your Potential.","ff43b3c4":"## International Reputation","36ab8f5b":"## Value","5688d636":"Now let us find mean, min and max values of our data.","ac001941":"Let us now plot the relation between Potential, Overall rating and age for the top 20 rated players in 3D.","c6f2acb9":"## Top Rated Players","62b5443c":"**I Hope you enjoyed reading this notebook!**","4e344381":"## BMI","72796e65":"We can make the following **observations**:\n- outliers in columns like age, value_eur, wage_eur, international_reputation, etc\n- All features have different value scales.","47d1124b":"We observe:\n- Argetina Players have the highest maximum rating.\n- South Sudan has least maximum rating.","58342fca":"# Load Libraries","5671ddd7":"## Height","5076d87e":"We observe:\n- wage increases with increase in overall and potential.\n","85e387d7":"Let us load the libraries we are using for Exploratory Data Analysis.","c2039ea8":"## Nationality","d8b54298":"We observe:\n- only joined and release_clause_eur contain missing values.\n- all other features of dataset1 have 0 null values.","75a8b4ec":"We observe:\n\n- Pace tends to decrease with increase in weight."}}