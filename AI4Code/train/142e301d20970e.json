{"cell_type":{"c22371c2":"code","e2c0cdee":"code","7598c209":"code","914a0d4e":"code","05b9f07b":"code","b3b05729":"code","10e1e71c":"code","d636a989":"code","3b97bf70":"code","f89e0e65":"code","670617bd":"code","05c36d6a":"code","f1bd0e12":"code","a6d7ff97":"code","26bfd7a3":"code","9d5bd543":"code","b0dd5ec0":"code","21045812":"code","afee33bb":"code","f3f0eac6":"code","b82b0d09":"code","b8a0a8db":"code","f57248ba":"code","e2db2a8c":"markdown","2125952f":"markdown","58963571":"markdown","46dc4e80":"markdown","6663b324":"markdown","5e4c0354":"markdown","c1e78d2f":"markdown","3e39dee4":"markdown","ece19875":"markdown","be4dde49":"markdown","1fd58d71":"markdown","4079ddc4":"markdown","6bb6fa64":"markdown"},"source":{"c22371c2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e2c0cdee":"from IPython.display import display, HTML \nimport matplotlib\nimport matplotlib.pyplot as plt # Visualization\nfig = matplotlib.pyplot.gcf()\nfig.set_size_inches(5, 5)\nimport seaborn as sns # Visualization\nsns.set_style(style='darkgrid')\nimport plotly.express as px\npd.set_option('display.max_rows', None)\npd.set_option('display.max_columns', None)\npd.set_option('display.width', None)","7598c209":"data =  pd.read_csv('..\/input\/fifa-21-complete-player-dataset\/players_21.csv')\ndata.head()","914a0d4e":"skills=[]\nfor i in data.columns:\n    skills.append(i)\ndata.isnull().sum()","05b9f07b":"# selecting columns to impute the missing values by mean\nto_impute_by_mean = data.loc[:, ['dribbling','defending','passing','pace','shooting','physic']]\n# replacing the missing values with mean\nfor i in to_impute_by_mean.columns:\n    data[i].fillna(data[i].mean(), inplace = True)","b3b05729":"plt.figure(figsize = (22, 8))\nax = sns.countplot(x = 'height_cm', data = data)\nax.set_title(label = 'Count of players on Basis of Height', fontsize = 20)\nax.set_xlabel(xlabel = 'Height in Foot per inch', fontsize = 16)\nax.set_ylabel(ylabel = 'Count', fontsize = 16)\nplt.show()","10e1e71c":"plt.figure(figsize = (22, 7))\nplt.xlabel('Height', fontsize=20)\nplt.ylabel('Dribbling', fontsize=20)\nplt.title('Height vs Dribbling', fontsize = 25)\nsns.barplot(x='height_cm', y='dribbling', data=data.sort_values('height_cm', inplace=False), alpha=0.6)\n","d636a989":"plt.figure(figsize = (22, 7))\nplt.xlabel('Weight_kg', fontsize=20)\nplt.ylabel('Dribbling', fontsize=20)\nplt.title('Weight vs Dribbling', fontsize = 25)\nsns.barplot(x='weight_kg', y='dribbling', data=data.sort_values('weight_kg'),alpha=0.6)","3b97bf70":"plt.figure(figsize = (15, 7))\nsns.countplot(x = 'work_rate', data = data, palette = 'hls')\nplt.title('Different work rates of the Players Participating in the FIFA 2021', fontsize = 20)\nplt.xlabel('Work rates associated with the players', fontsize = 16)\nplt.ylabel('count of Players', fontsize = 16)\nplt.show()","f89e0e65":"#data.columns\nskills = ['pace',\n 'shooting',\n 'passing',\n 'dribbling',\n 'defending',\n 'physic',\n 'player_traits',\n 'attacking_crossing',\n 'attacking_finishing',\n 'attacking_heading_accuracy',\n 'attacking_short_passing',\n 'attacking_volleys',\n 'skill_dribbling',\n 'skill_curve',\n 'skill_fk_accuracy',\n 'skill_long_passing',\n 'skill_ball_control',\n 'movement_acceleration',\n 'movement_sprint_speed',\n 'movement_agility',\n 'movement_reactions',\n 'movement_balance',\n 'power_shot_power',\n 'power_jumping',\n 'power_stamina',\n 'power_strength',\n 'power_long_shots']","670617bd":"messi = data.loc[data['short_name'] == 'L. Messi']\nmessi = pd.DataFrame(messi, columns = skills)\nronaldo = data.loc[data['short_name'] == 'Cristiano Ronaldo']\nronaldo = pd.DataFrame(ronaldo, columns = skills)\nlewandowski = data.loc[data['short_name'] == 'R. Lewandowski']\nlewandowski = pd.DataFrame(lewandowski, columns = skills)\n\n\nplt.figure(figsize=(15,8))\nsns.pointplot(data=messi,color='blue',alpha=0.6)\nsns.pointplot(data=ronaldo, color='red', alpha=0.6)\nsns.pointplot(data=lewandowski, color='green', alpha=0.6)\n\nplt.xticks(rotation=90)\nplt.xlabel('Skills', fontsize=20)\nplt.ylabel('Skill value', fontsize=20)\nplt.title('Messi vs Ronaldo Vs Lewandowski', fontsize = 25)\nplt.grid()","05c36d6a":"display(\n    HTML(data.sort_values('overall', ascending=False)[['short_name', 'overall']][:10].to_html(index=False)\n))","f1bd0e12":"top_club_names = ('FC Barcelona','Real Madrid', 'Juventus', 'Paris Saint-Germain', 'Chelsea', 'Manchester City', 'Manchester United')\nclubs = data.loc[data['club_name'].isin(top_club_names) & data['age']]\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\nax = sns.boxenplot(x=\"club_name\", y=\"age\", data=clubs)\nax.set_title(label='Age distribution in the top clubs', fontsize=25)\nplt.xlabel('Clubs', fontsize=20)\nplt.ylabel('Age', fontsize=20)\nplt.grid()","a6d7ff97":"countries_names = ('France', 'Brazil', 'Germany', 'Belgium', 'Spain', 'Netherlands', 'Argentina', 'Portugal', 'Chile', 'Colombia')\ncountries = data.loc[data['nationality'].isin(countries_names) & data['age']]\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\nax = sns.boxenplot(x=\"nationality\", y=\"age\", data=countries)\nax.set_title(label='Age distribution in countries', fontsize=25)\nplt.xlabel('countries', fontsize=20)\nplt.ylabel('age', fontsize=20)\nplt.grid()","26bfd7a3":"# finding the best players for each performance criteria\n\npr_cols=['pace',\n 'shooting',\n 'passing',\n 'dribbling',\n 'defending',\n 'physic',\n 'attacking_crossing',\n 'attacking_finishing',\n 'attacking_heading_accuracy',\n 'attacking_short_passing',\n 'attacking_volleys',\n 'skill_dribbling',\n 'skill_curve',\n 'skill_fk_accuracy',\n 'skill_long_passing',\n 'skill_ball_control',\n        'movement_acceleration',\n 'movement_sprint_speed',\n 'movement_agility',\n 'movement_reactions',\n 'movement_balance',\n 'power_shot_power',\n 'power_jumping',\n 'power_stamina',\n 'power_strength',\n 'power_long_shots']\ni=0\nwhile i < len(pr_cols):\n    print('Best {0} : {1}'.format(pr_cols[i],data.loc[data[pr_cols[i]].idxmax()][2]))\n    i += 1","9d5bd543":"some_countries = ('England', 'Germany', 'Spain', 'Argentina','Belgium', 'France', 'Brazil', 'Italy', 'Columbia') # defining a tuple consisting of country names\ndata_countries = data.loc[data['nationality'].isin(some_countries) & data['overall']] # extracting the overall data of the countries selected in the line above\ndata_countries.head()\n","b0dd5ec0":"plt.rcParams['figure.figsize'] = (15, 7)\nax = sns.barplot(x = data_countries['nationality'], y = data_countries['overall'], palette = 'spring') # creating a bargraph\nax.set_xlabel(xlabel = 'Countries', fontsize = 9)\nax.set_ylabel(ylabel = 'Overall Scores', fontsize = 9)\nax.set_title(label = 'Distribution of overall scores of players from different countries', fontsize = 20)\nplt.show()","21045812":"some_clubs = ('Manchester United', 'Liverpool', 'FC Bayern M\u00fcnchen', 'Atl\u00e9tico Madrid', 'Juventus', 'Manchestar City',\n             'Tottenham Hotspur', 'FC Barcelona', 'Paris Saint-Germain', 'Chelsea', 'Real Madrid') # creating a tuple of club names\n\ndata_clubs = data.loc[data['club_name'].isin(some_clubs) & data['overall']] # extracting the overall data of the clubs selected in the line above\n\ndata_clubs.head()","afee33bb":"plt.rcParams['figure.figsize'] = (15, 8)\nax = sns.barplot(x = data_clubs['club_name'], y = data_clubs['overall'], palette = 'inferno') # creating a barplot\nax.set_xlabel(xlabel = 'Some Popular Clubs', fontsize = 9)\nax.set_ylabel(ylabel = 'Overall Score', fontsize = 9)\nax.set_title(label = 'Distribution of Overall Score in Different popular Clubs', fontsize = 20)\nplt.xticks(rotation = 90)\nplt.show()","f3f0eac6":"plt.rcParams['figure.figsize'] = (15, 8)\nax = sns.boxplot(x = data_clubs['club_name'], y = data_clubs['overall'], palette = 'inferno') # creating a boxplot\nax.set_xlabel(xlabel = 'Some Popular Clubs', fontsize = 9)\nax.set_ylabel(ylabel = 'Overall Score', fontsize = 9)\nax.set_title(label = 'Distribution of Overall Score in Different popular Clubs', fontsize = 20)\nplt.xticks(rotation = 90)\nplt.show()","b82b0d09":"cnt_best_avg=data.groupby('nationality').apply(lambda x:np.average(x['overall'])).reset_index(name='Overall Ratings')\n\ncnt_best_cnt=data.groupby('nationality').apply(lambda x:x['overall'].count()).reset_index(name='Player Counts')\nsnt_best_avg_cnt=pd.merge(cnt_best_avg,cnt_best_cnt,how='inner',left_on='nationality',right_on='nationality')\nsel_best_avg_cnt=snt_best_avg_cnt[snt_best_avg_cnt['Player Counts']>=200]\nsel_best_avg_cnt.sort_values(by=['Overall Ratings','Player Counts'],ascending=[False,False])\npx.scatter(sel_best_avg_cnt,x='Overall Ratings',y='Player Counts',color='Player Counts',size='Overall Ratings',hover_data=['nationality'],title='Nationwise Player counts and Average Potential')","b8a0a8db":"top_play=data[['short_name','overall',\"age\",'club_name']]\ntop_play.sort_values(by='overall',ascending=False,inplace=True)\ntop_30_play=top_play[:100]\nfig=px.scatter(top_30_play,x='age',y='overall',color='age',size='overall',hover_data=['short_name','club_name'],title='Top Football Players in the FIFA 21 game')\nfig.show()","f57248ba":"cnt_best_avg=data.groupby('club_name').apply(lambda x:np.average(x['overall'])).reset_index(name='Overall Ratings')\ncnt_best_cnt=data.groupby('club_name').apply(lambda x:x['overall'].count()).reset_index(name='Player Counts')\nsnt_best_avg_cnt=pd.merge(cnt_best_avg,cnt_best_cnt,how='inner',left_on='club_name',right_on='club_name')\nsel_best_avg_cnt=snt_best_avg_cnt[snt_best_avg_cnt['Player Counts']>=25]\nsel_best_avg_cnt.sort_values(by=['Overall Ratings','Player Counts'],ascending=[False,False])\npx.scatter(sel_best_avg_cnt,x='Player Counts',y='Overall Ratings',color='Player Counts',size='Overall Ratings',hover_data=['club_name'],title='Clubwise player counts and Average Rating')","e2db2a8c":"# Overall Scores Comparison by Clubs\n","2125952f":"# Age distribution of players in the clubs\n","58963571":"# Comparing Stats of Messi,Lewandowski & CR7","46dc4e80":"# Age distribution of players in countries\n","6663b324":"# Average Potential and Player Counts per Nation","5e4c0354":"# 1. Importing Libraries & Data Exploration","c1e78d2f":"# Which Team has the most number of OP Players?","3e39dee4":"# Finding the best players for each performance criteria\n","ece19875":"# **FIFA 21 DATA EXPLORATION, ANALYSIS AND VISUALISATION**","be4dde49":"# 2. Analysis and Visualisation\n","1fd58d71":"# Top Football Players in the FIFA 21 game","4079ddc4":"# Overall scores By Top National Teams\n","6bb6fa64":"# Top 10 Players based on Overall skills\n"}}