{"cell_type":{"55df6005":"code","b8bbf186":"code","607c13b8":"code","f4e121f4":"code","c138b31e":"code","7bac4edd":"code","d7e90747":"code","6bc747d1":"code","42967ee2":"code","72d24ede":"code","0bf4bf14":"code","cee5ca2a":"code","5d03d886":"code","9dec76ac":"code","c9225be3":"markdown","de8a94fd":"markdown","acdfe659":"markdown","a39fae78":"markdown","f8b3d7f6":"markdown","c086b79a":"markdown","9245ac6d":"markdown","0977a4bf":"markdown","71d0f882":"markdown","b5988889":"markdown","ad7d0e88":"markdown","68f1f0be":"markdown","a900e23f":"markdown","0c940aba":"markdown","24297779":"markdown"},"source":{"55df6005":"import pandas as pd\nimport numpy as np\nimport altair as alt\nalt.data_transformers.disable_max_rows()\nimport sklearn\nsklearn.__version__","b8bbf186":"df = pd.read_csv(\"..\/input\/loan-data\/loan_data.csv\")\ndf","607c13b8":"for x in df.columns:\n    if \".\" in (x):\n        df.rename(columns={x:x.replace(\".\",\"_\")} , inplace = True)\ndf","f4e121f4":"categorical_columns = ['purpose']\nnumerical_columns = ['int_rate', 'installment', 'log_annual_inc',\n       'dti', 'fico', 'days_with_cr_line', 'revol_bal', 'revol_util',\n       'inq_last_6mths', 'delinq_2yrs', 'pub_rec']\nlabel = \"not_fully_paid\"","c138b31e":"from sklearn.feature_selection import SelectKBest\nfrom sklearn.feature_selection import chi2\n\nX = df[numerical_columns]\ny = df[label]\nscoresbest = SelectKBest(chi2, k=len(X.columns)).fit(X, y)\nbest_scores = pd.DataFrame({\n    \"scores\" : scoresbest.scores_,\n    \"column\" : numerical_columns\n})\nbest_scores.sort_values(by = \"scores\",ascending = False)","7bac4edd":"def Hchart(df,x_axis,y_axis ,color_axis = \"purpose\"):\n    chart = alt.Chart(df).mark_bar().encode(\n        x= x_axis,\n        y= y_axis,\n        color = color_axis\n    )\n    display(chart)","d7e90747":"Hchart(df,x_axis = \"not_fully_paid\"  ,y_axis = \"count()\", color_axis = \"purpose\")","6bc747d1":"Hchart(df,x_axis = \"int_rate\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","42967ee2":"Hchart(df,x_axis = \"purpose\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","72d24ede":"Hchart(df,x_axis = \"revol_bal\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","0bf4bf14":"Hchart(df,x_axis = \"installment\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","cee5ca2a":"Hchart(df,x_axis = \"fico\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","5d03d886":"Hchart(df,x_axis = \"dti\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","9dec76ac":"Hchart(df,x_axis = \"revol_util\"  ,y_axis = \"count()\", color_axis = \"not_fully_paid\")","c9225be3":"<h3>Next we'll check the other columns<\/h3>","de8a94fd":"Medium Article Link :- https:\/\/keeganfdes03.medium.com\/loan-data-machine-learning-model-c0edd5e03686","acdfe659":"those with low or average fico score are more likely to default while those with a high fico score are unlikely to default","a39fae78":"<p>It seems that there is some correlation between the interest rates and defaulting on the loan.Those with interest rate above 10% seem more likely to default<\/p><br>","f8b3d7f6":"It's seems that interest rates and annual income dont have any correlation to the likelihood that a person will default. revolving balance,days with credit line and installments have a obvious correlation to the data. fico, dti and public record are very substantial records that can determine the chances that one will default","c086b79a":"<h3>Here is a explanation of the columns<h3>","9245ac6d":"<h3>First Let's take a look at the data<\/h3>","0977a4bf":"those with low revolving utility are more likely to default","71d0f882":"the installments seem to have some correlation according to feature selection so far I can't make out anything from the chart maybe after some preprocessing","b5988889":"There is a clear class imbalance here the number of defaulters on the loan is nearly one-fourth of the number of customers who paid their loans off.","ad7d0e88":"<h3>Next we'll check the column we're supposed to predict<\/h3>","68f1f0be":"<i>credit.policy<\/i>: 1 if the customer meets the credit underwriting criteria of LendingClub.com, and 0 otherwise.<br>\n<i>purpose<\/i>: The purpose of the loan (takes values \"creditcard\", \"debtconsolidation\", \"educational\", \"majorpurchase\", \"smallbusiness\", and \"all_other\").<br>\n<i>int.rate<\/i>: The interest rate of the loan, as a proportion (a rate of 11% would be stored as 0.11). Borrowers judged by LendingClub.com to be more risky are assigned higher interest rates.<br>\n<i>installment<\/i>: The monthly installments owed by the borrower if the loan is funded.<br>\nlog.annual.inc: The natural log of the self-reported annual income of the borrower.<br>\n<i>dti<\/i>: The debt-to-income ratio of the borrower (amount of debt divided by annual income).<br>\n<i>fico<\/i>: The FICO credit score of the borrower.<br>\n<i>days.with.cr.line<\/i>: The number of days the borrower has had a credit line.<br>\nrevol.bal<i>revol.bal<\/i>: The borrower's revolving balance (amount unpaid at the end of the credit card billing cycle).<br>\n<i>revol.util<\/i>: The borrower's revolving line utilization rate (the amount of the credit line used relative to total credit available).<br>\n<i>inq.last.6mths<\/i>: The borrower's number of inquiries by creditors in the last 6 months.<br>\n<i>delinq.2yrs<\/i>: The number of times the borrower had been 30+ days past due on a payment in the past 2 years.<br>\n<i>pub.rec<\/i>: The borrower's number of derogatory public records (bankruptcy filings, tax liens, or judgments).<br>","a900e23f":"Debt consloidation seems to be the biggest cause of loans. followed by credit card and home improvement ","0c940aba":"As can be expected those with extremely low dti ratio are most likely to default","24297779":"Those with negative revolving balance seem to be more likely to default on the flip side those with high revolving balance seem extremely unlikely to default"}}