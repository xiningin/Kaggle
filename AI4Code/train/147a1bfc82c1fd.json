{"cell_type":{"ddaa1c01":"code","49c77c68":"code","9eb1a068":"code","77ce3d9d":"code","cb2d7f6a":"code","a094f3a4":"code","b98260f6":"code","0422e5ed":"code","d075e39a":"code","dac6a9e6":"code","94b8a2af":"code","25625be4":"code","bc69585f":"code","b2089005":"code","ac5d723b":"code","6c5d7916":"code","01b5482c":"code","6ae468d3":"code","6519b4fc":"code","4bc712af":"code","d133f9a4":"code","96084bc0":"code","fe740014":"markdown","8f75a915":"markdown","ba0cfa5f":"markdown","d942d5ba":"markdown","b07f4aeb":"markdown","52ae7d3f":"markdown","66f68f33":"markdown","10beb17f":"markdown","0c57daef":"markdown","373b257e":"markdown","8e7f4487":"markdown","33bcf34d":"markdown"},"source":{"ddaa1c01":"import pandas as pd \r\nimport numpy as np \r\nimport matplotlib.pyplot as plt \r\nimport seaborn as sns \r\nfrom sklearn.linear_model import LinearRegression\r\nfrom sklearn.model_selection import train_test_split\r\nfrom sklearn.metrics import r2_score","49c77c68":"data = pd.read_csv(\"..\/input\/suicide-rates-overview-1985-to-2016\/master.csv\") ","9eb1a068":"data.sample(5)","77ce3d9d":"shape     = data.shape\r\nsize      = data.size \r\nnum_row   = shape[0] \r\nnum_col   = shape[1]\r\nmin_date  = data['year'].min()\r\nmax_date  = data['year'].max()\r\ndate_range= max_date - min_date\r\nprint(shape,size,num_row,num_col,min_date,max_date,date_range,end='\\n') ","cb2d7f6a":"data.info()","a094f3a4":"#drop gdp_for_year,generation,country-year\r\ncln_data = data.drop([data.iloc[:,8].name,data.iloc[:,9].name,data.iloc[:,11].name],axis=1)","b98260f6":"cln_data.index = cln_data.country\r\ncln_data.drop('country',axis = 1,inplace=True)","0422e5ed":"cln_data.drop('country-year',axis=1,inplace=True)","d075e39a":"cln_data[\"age\"] = cln_data[\"age\"].str.replace(\"5-14 years\",\"05-14 years\")","dac6a9e6":"cln_data.head()","94b8a2af":"table1 = cln_data.pivot_table('suicides_no',index=cln_data.index,aggfunc='sum')","25625be4":"table1.sort_values(by ='suicides_no' ,ascending=False,inplace=True)\r\ntop20 = table1[:20]","bc69585f":"plt.rc('font', size=20)       #controls default text size\r\nplt.rc('axes', titlesize=20)  #fontsize of the title\r\nplt.rc('axes', labelsize=20) #fontsize of the x and y labels\r\nplt.rc('xtick', labelsize=20) #fontsize of the x tick labels\r\nplt.rc('ytick', labelsize=20) #fontsize of the y tick labels\r\nplt.rc('legend', fontsize=20) #fontsize of the legend\r\nplt.rcParams.update({'font.family':'fantasy'})","b2089005":"plt.style.use('dark_background')\r\ntop20.plot.barh(figsize=(15,10),color='b')\r\nplt.title(f\"Number Suicides from {min_date} to {max_date}\",fontsize=25,fontstyle ='italic')\r\nplt.xticks(rotation=90,fontsize=15,color='black')\r\nplt.yticks(fontsize=15)\r\nplt.xlabel('Suicides number (Million)',fontsize=20)\r\nplt.grid(axis='x')\r\nplt.legend(fontsize=15)\r\nplt.show()","ac5d723b":"table2 = cln_data.pivot_table('suicides\/100k pop',index='age',aggfunc='sum')\r\ntable2","6c5d7916":"plt.style.use('dark_background')\r\ntable2.plot.bar(figsize=(15,10))\r\nplt.title(f\"Suicides Rate per Age\",fontsize=25,fontstyle ='italic')\r\nplt.grid(axis='y')\r\nplt.legend('Suicide Rate',fontsize=15)\r\nplt.show()","01b5482c":"def sex_to_bool(ls):\r\n    bool_ls = []\r\n    for i in range(len(ls)):\r\n        if ls[i] == 'male':\r\n            bool_ls.append(0)\r\n        elif ls[i] == 'female':\r\n            bool_ls.append(1)\r\n        else:\r\n            bool_ls.append(2) \r\n    return bool_ls           \r\n","6ae468d3":"new_sex = sex_to_bool(list(cln_data['sex']))\r\ncln_data['new_sex'] = new_sex","6519b4fc":"X = cln_data[['year','new_sex']].loc['United States']\r\ny = cln_data['suicides_no'].loc['United States']\r\nX_train , X_test,y_train,y_test = train_test_split(X,y,test_size=0.2)","4bc712af":"model = LinearRegression()\r\nmodel.fit(X_train,y_train)","d133f9a4":"score = r2_score(y_test,model.predict(X_test))\r\nscore","96084bc0":"plt.figure(figsize=(20,10))\r\nplt.style.use('dark_background')\r\nsns.barplot(x = X['year'],y =y,hue=X['new_sex'],ci=False)\r\nplt.title(f\"Suicides Number in US\",fontsize=25,fontstyle ='italic')\r\nplt.xticks(rotation=90)\r\nplt.grid(axis='y')\r\nplt.show()","fe740014":"Author : Youssef Abbas Mohamed \\\r\nDate   : 19\/9\/2021 \\\r\nAbout  : Suicide Rate","8f75a915":"## Score is very Low let's Figure What is Cause","ba0cfa5f":"## Aggregation","d942d5ba":"### As Graph Show There is no perfect Linear Relation","b07f4aeb":"# Model Predict Suicide Rate in United states in Future","52ae7d3f":"># IMPORT LIBRARY","66f68f33":"># PREPAR DATA","10beb17f":"## Get Data","0c57daef":"## Clean Data","373b257e":"# Q: Is There is relation between Age and Suicide Rate","8e7f4487":"## Define Parameter","33bcf34d":"# Q: Countries Have the most Suicide Number?"}}