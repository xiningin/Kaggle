{"cell_type":{"8f0e877c":"code","107d9842":"code","20baccdf":"code","10655518":"code","69059b30":"code","f623309e":"code","1a663d2c":"markdown","9d3f79fd":"markdown","6ae93325":"markdown"},"source":{"8f0e877c":"import pandas as pd\nimport sqlite3\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        dbfile = os.path.join(dirname, filename)\n        print(dbfile)\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session\n\ncon = sqlite3.connect(dbfile)","107d9842":"# Reading collisions for 2019 and 2020\nquery='''\nSELECT *\nFROM collisions\nWHERE date(collision_date) BETWEEN date('2020-01-01') and date('2020-12-31')\n'''\n\ndf = pd.read_sql_query(query, con, parse_dates=[\"collision_date\"])\ndf.head()","20baccdf":"fig, ax = plt.subplots(figsize=(25,5))\n\ncount_by_date = df.groupby('collision_date').count()['case_id']\nsns.lineplot(x = count_by_date.index, y=count_by_date.values, ax=ax)\nplt.show()","10655518":"# Reading collisions \nquery='''\nSELECT c.case_id, p.vehicle_make\nFROM collisions c \nINNER JOIN parties p ON c.case_id = p.case_id\nWHERE date(collision_date) BETWEEN date('2020-01-01') and date('2020-12-31')\n'''\n\ndf = pd.read_sql_query(query, con)\n\ndf.head()","69059b30":"# Some cleanup\ndf['vehicle_make'] = df['vehicle_make'].replace(\n    ['NISS', 'TOYO', 'TOYT', 'HOND', 'CHEV', 'HYUN', 'DODG', 'MERZ', 'MERB', 'MAZD', 'LEXS', 'LEXU', 'SUBA', 'INFI', 'VOLK', 'FREI', 'CHRY', 'CHEVROLE', 'MERC', 'ACUR', 'CHEVY', '`DODGE', 'INFINITY', 'FRHT', 'VOLKS', 'VOLV'], \n    ['NISSAN', 'TOYOTA', 'TOYOTA', 'HONDA', 'CHEVROLET', 'HYUNDAI', 'DODGE', 'MERCEDES-BENZ', 'MERCEDES-BENZ', 'MAZDA', 'LEXUS', 'LEXUS', 'SUBARU', 'INFINITI', 'VOLKSWAGEN', 'FREIGHTLINER', 'CHRYSLER', 'CHEVROLET', 'MERCEDES-BENZ', 'ACURA', 'CHEVROLET', 'DODGE', 'INFINITI', 'FREIGHTLINER', 'VOLKSWAGEN', 'VOLVO'])","f623309e":"fig, ax = plt.subplots(figsize=(25,5))\n\ncount_by_make = df.groupby('vehicle_make').count().sort_values('case_id', ascending=False).head(20)['case_id']\nsns.barplot(x = count_by_make.index, y=count_by_make.values, ax=ax)\nplt.show()","1a663d2c":"# **Analyzing COVID-19 effects which caused lockdown in California between March 2020 and June 2020**","9d3f79fd":"# **Analyzing Vehicle make involved in collissions during 2020**","6ae93325":"Collissions decreased once lockdown started in California, and started to grow when it get finished"}}