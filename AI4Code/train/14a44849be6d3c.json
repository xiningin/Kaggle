{"cell_type":{"381da3c0":"code","0c70b843":"code","518c775c":"code","35808ba9":"code","a35a9fd8":"code","759cf4c5":"code","f1cb3052":"code","12737e24":"code","db4b3097":"code","8e1c21bb":"code","89f1d1d7":"code","ba8b0a79":"markdown","a45319d8":"markdown","30cb132a":"markdown","ebd43dfc":"markdown","03e0d4a2":"markdown","e2eac228":"markdown","2a8ff969":"markdown","4a764fc6":"markdown","ef980a80":"markdown","bc3ffa2b":"markdown","31ef2b46":"markdown"},"source":{"381da3c0":"import pandas as pd\nimport numpy as np\nimport statsmodels.api as sm\nimport scipy.stats as st\nimport matplotlib.pyplot as plt\nimport seaborn as sn\nfrom sklearn.metrics import confusion_matrix\nimport matplotlib.mlab as mlab\n%matplotlib inline","0c70b843":"dataset=pd.read_csv(\"..\/input\/dataset_treino.csv\")\ndataset.head()\n\n#dataset.drop(['id'],axis=1,inplace=True)","518c775c":"dataset.isnull().sum()","35808ba9":"count=0\nfor i in dataset.isnull().sum(axis=1):\n    if i>0:\n        count=count+1\nprint('Total de registros com valores faltantes \u00e9', count)\nprint('Representando',round((count\/len(dataset.index))*100), '% de todo o conjunto de dados.')","a35a9fd8":"def draw_histograms(dataframe, features, rows, cols):\n    fig=plt.figure(figsize=(20,20))\n    for i, feature in enumerate(features):\n        ax=fig.add_subplot(rows,cols,i+1)\n        dataframe[feature].hist(bins=20,ax=ax,facecolor='midnightblue')\n        ax.set_title(feature+\" Distribui\u00e7\u00e3o\",color='DarkRed')\n        \n    fig.tight_layout()  \n    plt.show()\ndraw_histograms(dataset,dataset.columns,6,3)","759cf4c5":"dataset.classe.value_counts()","f1cb3052":"sn.countplot(x='classe',data=dataset)","12737e24":"sn.pairplot(data=dataset)","db4b3097":"dataset.describe()","8e1c21bb":"from collections import Counter\n# Outlier detection \ndef detect_outliers(df,n,features):\n    outlier_indices = []\n    for col in features:\n        # 1st quartile (25%)\n        Q1 = np.percentile(df[col],25)\n        # 3rd quartile (75%)\n        Q3 = np.percentile(df[col],75)\n        # Interquartile range (IQR)\n        IQR = Q3 - Q1\n        # outlier step\n        outlier_step = 1.5 * IQR\n        # Determine a list of indices of outliers for feature col\n        outlier_list_col = df[(df[col] < Q1 - outlier_step) | (df[col] > Q3 + outlier_step )].index       \n        # append the found outlier indices for col to the list of outlier indices \n        outlier_indices.extend(outlier_list_col)\n        \n    # select observations containing more than n outliers\n    outlier_indices = Counter(outlier_indices)        \n    multiple_outliers = list( k for k, v in outlier_indices.items() if v >= n )\n    return multiple_outliers   \n\n# detect outliers \nOutliers_to_drop = detect_outliers(dataset,2,[\"num_gestacoes\",\"glicose\",\"pressao_sanguinea\",\"pressao_sanguinea\", \"grossura_pele\", \"insulina\", \"bmi\", \"indice_historico\", \"idade\"])\n\n# Show the outliers\nprint(\"Outliers count: \", len(Outliers_to_drop))\ndataset.loc[Outliers_to_drop]","89f1d1d7":"import seaborn as sns\nsns.set_style(\"darkgrid\")\n\nfig, axes = plt.subplots(2,4, figsize = (14,8), sharex=False, sharey=False)\naxes = axes.ravel()\ncols = [\"num_gestacoes\",\"glicose\",\"pressao_sanguinea\", \"grossura_pele\", \"insulina\", \"bmi\", \"indice_historico\", \"idade\"]\nfor i in range(len(cols)):\n    sns.boxplot(y=cols[i],data=dataset, ax=axes[i])\nplt.tight_layout()","ba8b0a79":"## <font color=RoyalBlue>Prepara\u00e7\u00e3o dos dados<font>\n\n### <font color=CornflowerBlue>Source:<font>\n\nURL: https:\/\/www.kaggle.com\/c\/competicao-dsa-machine-learning-jan-2019.","a45319d8":"<div class=\"alert alert-info\">\n<h1><center><font color=darkblue> Competi\u00e7\u00e3o DSA de Machine Learning - Edi\u00e7\u00e3o Janeiro\/2019<font><\/center><\/h1>\n<h2><center><font color=darkblue> por <a href=\"https:\/\/www.kaggle.com\/rafaelleonhardt\" target=\"_blank\">Rafael Leonhardt<\/a><font><\/center><\/h2>\n<\/div>\n    \n#### <font color=RoyalBlue>Versionamento<font>\n* 2019-01-29 - Primeira vers\u00e3o com an\u00e1lise geral dos dados\n* 2019-01-30 - Adicionado se\u00e7\u00e3o de Outliers","30cb132a":"### <font color=CornflowerBlue>Vari\u00e1veis Cont\u00ednuas:<font>\n    \nnum_gestacoes - N\u00famero de vezes gr\u00e1vida\n\nglicose - Concentra\u00e7\u00e3o plasm\u00e1tica de glicose em teste oral de toler\u00e2ncia \u00e0 glicose\n\npressao_sanguinea - Press\u00e3o arterial diast\u00f3lica em mm Hg\n\ngrossura_pele - Espessura da dobra da pele do tr\u00edceps em mm\n\ninsulina - Insulina em mu U \/ ml\n\nbmi - \u00cdndice de massa corporal medido em peso em kg \/ (altura em m) ^ 2\n\nindice_historico - \u00cdndice de hist\u00f3rico de diabetes (Pedigree Function)\n\nidade - Idade em anos (vari\u00e1vel cont\u00ednua)\n\n### <font color=CornflowerBlue>Vari\u00e1vel alvo:<font>\n    \nclasse - Classe (0 - n\u00e3o desenvolveu a doen\u00e7a \/ 1 - desenvolveu a doen\u00e7a)","ebd43dfc":"## <font color=RoyalBlue>An\u00e1lise Explorat\u00f3ria<font>","03e0d4a2":"## <font color=RoyalBlue>Introdu\u00e7\u00e3o<font>\n\nO conjunto de dados \u00e9 do Instituto Nacional de Diabetes e Doen\u00e7as Digestivas e Renais (National Institute of Diabetes and Digestive and Kidney Diseases). O objetivo \u00e9 prever com base em medidas de diagn\u00f3stico, se um paciente tem diabetes. V\u00e1rias restri\u00e7\u00f5es foram colocadas na sele\u00e7\u00e3o dessas inst\u00e2ncias de um banco de dados maior. Em particular, todos os pacientes aqui s\u00e3o do sexo feminino com pelo menos 21 anos de idade.\n\n### <font color=RoyalBlue>Descri\u00e7\u00e3o dos Arquivos<font>\n\ndataset_treino.csv - cont\u00e9m o conjunto de dados de treinamento\n\ndataset_teste.csv - cont\u00e9m o conjunto de dados de teste\n\nsampleSubmission.csv - cont\u00e9m o template para voc\u00ea enviar a sua solu\u00e7\u00e3o","e2eac228":"Avaliando a distribui\u00e7\u00e3o dos valores para cada vari\u00e1vel","2a8ff969":"### <font color=CornflowerBlue>Valores faltantes<font>","4a764fc6":"### An\u00e1lise Visual dos Outliers","ef980a80":"## Outliers\n\n**M\u00e9todo Tukey**\n\nUtiliza o m\u00e9todo de John Tukey  (John Tukey, Exploratory Data Analysis, Addison-Wesley, 1977, pp. 43-44 ).\n\nConsidera:\n\n* q1 como primeiro quartil do conjunto de valores.\n\n* q3 como terceiro quartil do conjunto de valores.\n\nOs outliers ser\u00e3o os valores do conjunto que est\u00e3o abaixo de q1 - 1.5(q3-q1) e acima de q3 + 1.5(q3-q1).\n\nNesta analise ser\u00e1 mostrado os registros que foram identificados com pelo menos dois valores outliers.","bc3ffa2b":"H\u00e1 392 pessoas sem diabetes e 208 pessoas com diabetes.","31ef2b46":"### este kernel ainda est\u00e1 sendo constru\u00eddo...\n\nsugest\u00f5es de melhorias s\u00e3o bem-vindas..."}}