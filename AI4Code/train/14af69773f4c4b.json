{"cell_type":{"f94ece5a":"code","e9ed3bd3":"code","10ea854d":"code","b5968608":"code","9aaaf5a0":"code","a93af2ad":"code","4769cbd2":"code","b72b401d":"code","20c15409":"code","b463dc4d":"code","b2fb8255":"code","13dfe024":"code","513cacc8":"code","cfa8b3df":"code","a37560ae":"code","9c97f161":"code","aa56da1e":"code","0d1599e5":"code","35ce6d83":"code","919d95a4":"code","5fc74f95":"code","4905ce73":"code","ad49b3f4":"code","5b63d0ab":"code","e066bcc8":"code","559dc256":"code","a7fa7bab":"code","404f837a":"code","cbfb110f":"code","69be6240":"code","6d47c5bb":"code","54d1d485":"code","dfa3687d":"code","c91eb900":"code","9da8bb96":"code","a9e9d320":"code","92514502":"code","b13d90ef":"code","33c85e7e":"code","4e33accd":"code","19262987":"code","8f9df3eb":"markdown","f2da8dfa":"markdown","39706677":"markdown","82508bc4":"markdown","c6692256":"markdown","8ae75e35":"markdown","88d52188":"markdown"},"source":{"f94ece5a":"import pandas as pd\nimport glob\nimport os\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport holoviews\nfrom IPython.display import display\n\n%matplotlib inline","e9ed3bd3":"for dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \ndata=pd.read_csv('\/kaggle\/input\/speed-dating-experiment\/Speed Dating Data.csv', encoding= 'unicode_escape')\n","10ea854d":"#data=pd.read_csv(\"Speed Dating Data.csv\", encoding= 'unicode_escape')\npd.options.display.max_columns = None\n\ndata.rename(columns={\"gender\": \"Gender\", \n                     \"condtn\":\"Condition\",\n                     \"mn_sat\":\"median_sat\",\n                     \"age_o\":\"age of partner\",\n                     \"race_o\":\"race of partner\",\n                     \"pf_o_att\":\"partner stated preference\",\n                     \"dec_o\":\"partner's decision\",\n                     \"attr_o\":\"partner rating of attributes\",\n                     \"imprace\":\"race importance\",\n                     \"imprelig\":\"religion importance\",\n                     \"from\":\"originally from\",\n                     \"date\":\"frequency of date\"}, inplace=True)\n\nrace_replacement={1:\"Black\/African American\",\n                 2: \"European\/Caucasion-American\",\n                 3: \"Latino\/Hispanic American\",\n                 4: \"Asian\/Pacific Islander\/Asian-American\",\n                 5: \"Native American\",\n                 6: \"Other\"}\n\nfield_replacement={1:\"Law\",\n                   2:\"Math\",\n                   3:\"Social Science, Psychologist\",\n                   4:\"Medican Science, Pharmaceuticals, and Bio Tech\",\n                   5:\"Engineering\",\n                   6:\"English\/Creative Writing \/ Journalism\",\n                   7:\"History\/ Religion\/ Philosophy\",\n                   8:\"Business\/Econ\/Finance\",\n                   9:\"Education, Academia\",\n                   10:\"Biological Sciences \/ Chemistry\/ Physics\",\n                   11:\"Social Work\",\n                   12:\"Undergrad\/undecided\",\n                   13:\"Political Science\/ International Affairs\",\n                   14:\"Film\",\n                   15:\"Fine Arts \/ Arts Administration\",\n                   16:\"Languages\",\n                   17:\"Architecture\",\n                   18:\"Other\"}\n\ncareer_replacement={1: \"Lawyer\",\n                   2:  \"Academic \/ Research\",\n                   3:  \"Psychologist\",\n                   4:  \"Doctor\/Medicine\",\n                   5:  \"Engineer\",\n                   6:  \"Creative Arts\/ Entertainment\",\n                   7:  \"Banking \/ Consulting \/Finance \/ Marketing\/ Business \/CEO\/ Entrepreneur \/ Admin\",\n                   8:  \"Real Estate\",\n                   9:  \"International \/Humanitarian Affairs\",\n                   10:  \"Undecided\",\n                   11:  \"Social Work\",\n                   12:  \"Speech Pathology\",\n                   13:  \"Politics\",\n                   14:  \"Pro Sports \/ Athletics\",\n                   15:  \"Other\",\n                   16:  \"Journalism\",\n                   17:  \"Architecture\"}\n\ndecision_replacement={1:\"Yes\", 0:\"No\"}\nlength_replacement={1:\"Too little\",\n                   2: \"Too much\",\n                   3: \"Just Right\"}\ngoal_replacement={1:\"Seemed like a fan night out\",\n                 2: \"To meet new people\",\n                 3: \"To get a date\",\n                 4:\"Looking for serious relationship\",\n                 5:\"To say I did it\",\n                 6: \"Other\"}\nfrequency_replacement={1:\"Several times a week\",\n                      2: \"Twice a week\",\n                      3: \"Once a week\",\n                      4: \"Twice a month\",\n                      5: \"Once a month\",\n                      6: \"Several times a year\",\n                      7: \"Almost never\"}\n\n\n#data[\"Gender\"].replace({0:\"Female\",1:\"Male\"}, inplace=True)\ndata[\"Condition\"].replace({1:\"Limited choice\", 2:\"Extensive choice\"}, inplace=True)\n#data[\"match\"].replace({1:\"Yes\",0:\"No\"}, inplace=True)\n#data[\"samerace\"].replace({1:\"Yes\",0:\"No\"},inplace=True)\n#data[\"race of partner\"].replace(race_replacement, inplace=True)\n#data[\"partner's decision\"].replace(decision_replacement, inplace=True)\n#data[\"field_cd\"].replace(field_replacement, inplace=True)\ndata[\"race\"].replace(race_replacement, inplace=True)\n#data[\"career_c\"].replace(career_replacement, inplace=True)\n#data[\"length\"].replace(length_replacement, inplace=True)\n#data[\"numdat_2\"].replace({1:\"Too few\", 2: \"Too many\", 3: \"Just Right\"}, inplace=True)\n#data[\"date_3\"].replace({1:\"Yes\", 2:\"No\", 0:np.nan}, inplace=True)\ndata[\"goal\"].replace(goal_replacement, inplace=True)\ndata[\"frequency of date\"].replace(frequency_replacement, inplace=True)\ndata[\"go_out\"].replace(frequency_replacement, inplace=True)\n\ndisplay(data)","b5968608":"def missing_values(df):\n    missing=pd.DataFrame(df.isnull().sum()\/len(data))*100\n    missing.columns = ['missing_values(%)']\n    missing['missing_values(numbers)'] = pd.DataFrame(df.isnull().sum())\n    return missing.sort_values(by='missing_values(%)', ascending=False)\nmissing_values(data)\n","9aaaf5a0":"print(data.columns.tolist())","a93af2ad":"general_data = data[data.columns[:69]]\ngeneral_data.head()","4769cbd2":"dfl=pd.melt(data, id_vars=data.columns[:69], value_vars=data.columns[69:], var_name=\"Survey\", value_name=\"Response\")\ndfl.head()","b72b401d":"fig, (ax1, ax2)=plt.subplots(ncols=2, figsize=[12,8])\nsns.countplot(data=data, hue =\"Gender\", x=\"dec\", ax=ax1).set_title(\"Female and Male saying No and Yes\");\nsns.countplot(data=data, hue =\"race\", x=\"dec\", ax=ax2).set_title(\"People with different ethnicity saying yes and no to their matches\");","20c15409":"data.describe()","b463dc4d":"cor=data.corr(method=\"spearman\")\ncorr_target=abs(cor[\"partner rating of attributes\"])\ncorr_target[corr_target>=0.50]","b2fb8255":"sns.jointplot(y=\"partner rating of attributes\", x=\"fun_o\", data=data);\n","13dfe024":"sns.jointplot(y=\"partner rating of attributes\", x=\"like_o\", data=data, );\n","513cacc8":"cor=data.corr(method=\"spearman\")\ncorr_target=abs(cor[\"iid\"])\ncorr_target[corr_target>=0.70]","cfa8b3df":"t=(data\n .groupby(\"iid\")\n .count()\n)\nlen(t)\n","a37560ae":"(data[(data[\"wave\"]>=6) & (data[\"wave\"]<=9)]\n.groupby(\"attr4_1\")\n [[\"iid\"]]\n.count()\n .head(10)\n)\n## Being Attractive is extremely important for the wave 6-9","9c97f161":"(data[(data[\"wave\"]>=10) & (data[\"wave\"]<=21)]\n.groupby(\"attr4_1\")\n [[\"iid\"]]\n.count()\n .head(10)\n)","aa56da1e":"(data[(data[\"wave\"]>=6) & (data[\"wave\"]<=9)]\n.groupby(\"attr2_3\")\n [[\"iid\"]]\n.count()\n .head(10)\n)\n","0d1599e5":"## Choice","35ce6d83":"(data\n .groupby(\"Condition\")\n [[\"iid\"]]\n .count()\n).plot.pie(y=\"iid\", autopct='%1.0f%%')\n\n## Only 17% of participants had limited choice","919d95a4":"## Still attractiveness is important","5fc74f95":"cor=data.corr(method=\"spearman\")\ncorr_target=abs(cor[\"partner's decision\"])\ncorr_target[corr_target>=0.50]","4905ce73":"sns.jointplot(data=data, x=\"like_o\", y=\"partner's decision\")\n\n","ad49b3f4":"sns.regplot(data=data, x=\"like_o\", y=\"partner's decision\")","5b63d0ab":"## More they liked the person, more they could say Yes","e066bcc8":"cor=data.corr(method=\"spearman\")\ncorr_target=abs(cor[\"field_cd\"])\ncorr_target[corr_target>=0.50]","559dc256":"## Which field got more match","a7fa7bab":"(\ndata\n    .groupby([\"field\", \"wave\"])\n    [[\"match\"]]\n   .count()\n    .sort_values(\"match\", ascending=False)\n    .head(100)\n)\n\n# For different waves, different professions were in demand: MBA. International Affairs, Law. Business and Social work----\n# People with professions like Mathematics, Art Education, Chemistry, Medical Informatics got the least of matches","404f837a":"(\ndata\n    .groupby([\"race\"])\n    [[\"match\", \"iid\"]]\n   .count()\n    .sort_values(\"match\", ascending=False)\n    .head(100)\n).plot.pie(y=\"iid\", autopct='%1.0f%%')","cbfb110f":"## Most of the matches were with European\/Caucasion, American, The Least were Black\/African american","69be6240":"(data\n .groupby(\"race importance\")\n .size()\n).plot.pie(y=\"iid\",autopct='%1.0f%%')\n\n## race is not so important for matching","6d47c5bb":"(data\n .groupby(\"religion importance\")\n .size()\n).plot.pie(y=\"iid\",autopct='%1.0f%%')\n\n## religion is not so important for matching","54d1d485":"(data\n .groupby(\"goal\")\n [[\"match\"]]\n .count()\n).plot.pie(y=\"match\", autopct='%1.0f%%')\n\n# People who had a goal to have a fan night out and meet new people got the most of the matches","dfa3687d":"(data\n .groupby(\"frequency of date\")\n [[\"match\"]]\n .count()\n).plot.pie(y=\"match\", autopct='%1.0f%%')\n\n#25% of people who go on a date twice a month, or several times a year got more matches\n","c91eb900":"(data\n .groupby(\"go_out\")\n [[\"match\"]]\n .count()\n).plot.pie(y=\"match\", autopct='%1.0f%%')\n#Those go out frequently got more matches","9da8bb96":"cor=data.corr(method=\"spearman\")\ncorr_target=abs(cor[\"exphappy\"])\ncorr_target[corr_target>=0.50]","a9e9d320":"(data\n .groupby(\"exphappy\")\n .count()\n).plot.pie(y=\"iid\", autopct='%1.0f%%')\n\n# Moderate and mosttly happy\n","92514502":"d=(\ndata\n.groupby(\"expnum\")\n    [[\"iid\"]]\n.count()\n).plot.bar()\n\n","b13d90ef":"sns.distplot(data[\"expnum\"])\n\n#People expected to have approximately 3-4 dates after the experiment","33c85e7e":"(data\n.groupby(\"date_3\")\n .count()\n).plot.pie(y=\"iid\", autopct='%1.0f%%')\n\n# 62% of participants did not get any dates from the experiments","4e33accd":"(data\n.groupby(\"you_call\")\n .count()\n).plot.pie(y=\"iid\", autopct='%1.0f%%')\n\n# Most of participants did not reach out their dates","19262987":"(data\n.groupby(\"them_cal\")\n .count()\n).plot.pie(y=\"iid\", autopct='%1.0f%%')\n\n#50% of participants did not receive calls from their matchers, 27% received only 1 call\n","8f9df3eb":"551 person was in the survey","f2da8dfa":"#### How many people have participated\n","39706677":"People are looking for Attractiveness in other sexes","82508bc4":"### attr2_3 - What do you think the opposite sex looks for in a date? - followup- 3-4 weeks after \n\n","c6692256":"Conclusion:\n - 50% of participants did not receive calls from their matchers, 27% received only 1 call\n - 62% of participants did not get any dates from the experiments\n - Those who go out frequently got more matches\n - 25% of people who go on a date twice a month, or several times a year got more matches\n - People who had a goal to have a fan night out and meet new people got the most of the matches\n - Religion and Race are not so important for matching","8ae75e35":"## Partner Rating of Attributes & Like_o","88d52188":"## attr4_1 - Before the event, the Sign Up phase - Now we want to know what you think MOST of your fellow men\/women look for in the opposite sex.\n"}}