{"cell_type":{"44c16d93":"code","e73732fe":"code","ef12b4ab":"code","2d6ce2b7":"code","93763ec4":"code","03443ea4":"code","9cecd2a8":"code","4fcc56fc":"code","c74db06b":"code","264c3d87":"code","12c723f3":"code","c18f8f9b":"code","54440c46":"code","e770c314":"code","dd75f1a3":"code","a279c58c":"code","3db82034":"code","93e56c62":"code","78415ede":"code","8d644059":"code","76c294a8":"code","f6bcaa57":"code","344365bd":"code","fa6830a3":"code","c2fda006":"markdown","03349e51":"markdown","9d11fe86":"markdown","3f087a65":"markdown","0053ca31":"markdown","7624a77e":"markdown","6623dcf2":"markdown","fbc5b2f1":"markdown","fb5a134a":"markdown","2b6afd61":"markdown","b19ac19c":"markdown"},"source":{"44c16d93":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e73732fe":"customers=pd.read_csv('\/kaggle\/input\/microsoft-adventure-works-cycles-customer-data\/AWCustomers.csv')\ndisplay(customers.head())\nprint(\"No.of Customers\",len(customers))","ef12b4ab":"customers.info()","2d6ce2b7":"# Title , Suffix , addressLine2 have large amount of null values thus does not contribute much to data\n# Name of customer should not have a effect on whether they will purchase a bike or not \nimportant_cols=['AddressLine1','AddressLine2','City','StateProvinceName','CountryRegionName','PostalCode',\n                'BirthDate','Education','Occupation','Gender','MaritalStatus','HomeOwnerFlag',\n               'NumberCarsOwned','NumberChildrenAtHome','TotalChildren','YearlyIncome']","93763ec4":"df=customers[important_cols]","03443ea4":"df.head()","9cecd2a8":"print(\n    \"No.of unique address\",len(df['AddressLine1'].unique()),'\\n',\n    \"No of unique city\",len(df['City'].unique()),'\\n',\n    \"No of unique postal code\",len(df['PostalCode'].unique()),'\\n',\n    \"No,of unique states\",len(df['StateProvinceName'].unique()),'\\n',\n    \"No of unique country\",len(df['CountryRegionName'].unique())\n)","4fcc56fc":"def preprocess_address(df):\n    df.drop(columns=['AddressLine1','AddressLine2','City','StateProvinceName','PostalCode'],axis=1,inplace=True)\n    ohe_countries=pd.get_dummies(df['CountryRegionName'],drop_first=True)\n    df.drop(columns=['CountryRegionName'],axis=1,inplace=True)\n    df=pd.concat([ohe_countries,df],axis=1)\n    return df","c74db06b":"df=preprocess_address(df)\ndf.head()","264c3d87":"df['BirthDate']= pd.to_datetime(df['BirthDate'])\n\nimport datetime\nCURRENT_TIME = datetime.datetime.now()\ndef get_age(birth_date,today=CURRENT_TIME):\n    y=today-birth_date\n    return y.days\/\/365\n\ndf['Age']=df['BirthDate'].apply(lambda x: get_age(x))\n\ndf.drop(['BirthDate'],axis=1,inplace=True)\n\ndf.head()","12c723f3":"df['Education'].value_counts()","c18f8f9b":"df['Education']=df['Education'].map({'Partial High School':1,'High School':2,'Partial College':3,'Bachelors':4,'Graduate Degree':5})","54440c46":"df['Occupation']=df['Occupation'].map({'Manual':1,'Skilled Manual':2,'Clerical':3,'Management':4,'Professional':5})","e770c314":"df.head()","dd75f1a3":"def handle_cardinal_cols(df):\n    df['Male']=df['Gender'].map({'M':1,'F':0})\n    df.drop(['Gender'],axis=1,inplace=True)\n    df['MaritalStatus']=df['MaritalStatus'].map({'M':1,'S':0})\n    \n    return df","a279c58c":"df=handle_cardinal_cols(df)\ndf.head()","3db82034":"df.isnull().sum()","93e56c62":"from sklearn.preprocessing import MinMaxScaler\ndef scaleDown(df):\n    scaler=MinMaxScaler()\n    scaled=scaler.fit_transform(df[['YearlyIncome','Age']])\n    df['YearlyIncome_scaled']=scaled[:,0]\n    df['Age_scaled']=scaled[:,1]\n    df.drop(['YearlyIncome','Age'],axis=1,inplace=True)\n    return df","78415ede":"df=scaleDown(df)","8d644059":"df.head()","76c294a8":"from scipy.spatial import distance","f6bcaa57":"distance.cosine(df['Education'].values,df['YearlyIncome_scaled'].values)","344365bd":"distance.jaccard(df['Education'].values,df['YearlyIncome_scaled'].values)","fa6830a3":"from scipy.stats import pearsonr\npearsonr(df['Education'].values,df['YearlyIncome_scaled'].values)[0]","c2fda006":"Education is ordinal column , we map it this order:- \n1. Partial High School\n2. High School \n3. Partial College\n4. Bachelors \n5. Graduate Degree","03349e51":"only keeping the country column as there are too many cities and states etc.","9d11fe86":"Large disrespance in range of values of columns specially of salary and other columns , thus normalizing the data using MinMax Scaler","3f087a65":"Occupation is ordinal column , we map it this order:- \n1. Manual \n2. Skilled Manual\n3. Clerical\n4. Management\n5. Professional","0053ca31":"## Cleaning and Preprocessing","7624a77e":"Birth Date Column","6623dcf2":"### Observing the relation between Education and yearlyIncome","fbc5b2f1":"Handling cardinal columns like Occupation , Gender and Martial Status ","fb5a134a":"# **Problem Statement:-** \n### The Marketing department of Adventure Works Cycles wants to increase sales by targeting specific customers for a mailing campaign. The company's database contains a list of past customers and a list of potential new customers. By investigating the attributes of previous bike buyers, the company hopes to discover patterns that they can then apply to potential customers.They hope to use the discovered patterns [](http:\/\/)to predict which potential customers are most likely to purchase a bike from Adventure Works Cycles.","2b6afd61":"### Handling columns that tell us about geographical location of customer","b19ac19c":"## Importing data "}}