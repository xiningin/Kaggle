{"cell_type":{"c2c2832f":"code","093dcb65":"code","a337179f":"code","31e5670f":"code","43b6eb36":"code","80db6123":"code","7c9e8e3b":"code","7c5ad2f9":"code","e6dca5ab":"code","d83a2520":"code","1426ea63":"code","649c1f5f":"code","b0cdd750":"code","b15d6b63":"code","f7fb0397":"code","d0efdc12":"code","86c4277e":"code","e5803503":"code","a6f1b8d2":"code","c7389b67":"code","466870fd":"code","e8495065":"code","c3ae270e":"code","1c302321":"code","750a7529":"code","ab6fec88":"code","04c89657":"code","20791715":"code","9ad0bfee":"code","1a1195cc":"code","2a0b76e0":"code","80c57ddf":"code","c418b61f":"code","1dffbb57":"code","1b3c7681":"code","9c58259c":"code","9a466be6":"code","036b0fe4":"code","f2b83f57":"code","27b37b91":"code","faed0a37":"code","20d55868":"code","8faffbbd":"code","35f421d5":"code","c1488721":"code","2fa93043":"code","c9f0c5bf":"code","3c3d27da":"code","933b9c2b":"code","f5304caa":"code","a75977fd":"code","e4826964":"code","0d9b277b":"code","2de91664":"code","70d11577":"code","267923bc":"code","be433eda":"code","0e745732":"code","64c98bba":"code","c5c26d0c":"code","c5a07809":"code","8f12dda7":"code","0bb5e651":"code","078a11cf":"code","f2dfe873":"code","501837ee":"code","f6d244cf":"code","fbabed30":"code","d81acd5b":"code","26ceeab7":"code","1c6d7d96":"code","9218e429":"code","cfb28670":"code","be4e9199":"code","72fc1754":"code","4de97c31":"code","c4726b55":"code","17f1fdad":"code","d5fabe23":"code","dec90c81":"code","06c1689b":"code","72979c63":"code","558dec9c":"code","f562131d":"code","d8d1a4ca":"code","23c219ac":"code","57c642eb":"code","a2d986d2":"markdown","7399f5d1":"markdown","ebe7dd8c":"markdown","20e10855":"markdown","564716b0":"markdown","7f62a5e7":"markdown","a5b9b034":"markdown","8fa683d6":"markdown","22be816a":"markdown","ad227e1f":"markdown","cdfdf633":"markdown","94a4eb2c":"markdown","b9afc5ad":"markdown","ba764f10":"markdown","2f2dea67":"markdown","29c30fcd":"markdown","ed6764c5":"markdown","81edd163":"markdown","f117c04a":"markdown","a6e364a5":"markdown","93b90cf5":"markdown","4971bc15":"markdown","56abe46e":"markdown","0f5d920a":"markdown","59e3336c":"markdown","20ead47d":"markdown","5b32ef86":"markdown","0c775b74":"markdown"},"source":{"c2c2832f":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nfrom sklearn.model_selection import train_test_split","093dcb65":"\n\ndf1=pd.read_csv('..\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')\n","a337179f":"df1.head()","31e5670f":"df1.shape","43b6eb36":"df1.isnull().sum()","80db6123":"df1.drop(columns=['sl_no'],axis=1,inplace=True)","7c9e8e3b":"X_train, X_test, y_train, y_test = train_test_split(\n    df1.drop(columns=['status'],axis=1),  # predictors\n    df1['status'],  # target\n    test_size=0.3,  # percentage of obs in test set\n    random_state=0)  # seed to ensure reproducibility\n\nX_train.shape, X_test.shape\n","7c5ad2f9":"df_ssc=df1[['gender','ssc_p','ssc_b','status']]","e6dca5ab":"import plotly.express as px","d83a2520":"\nfig2=px.violin(df_ssc,y='status',x='ssc_p', color='gender',\n          orientation='h',title='\"SSC_PERCENTAGE_EFFCET(WITH RESPECT TO GENDER) PLACED OR NOT PLACED\"').update_traces(side='positive',width=2)\nfig2.show()","1426ea63":"sns.catplot(x='ssc_b',y='ssc_p',hue='status',data=df_ssc,height=8,aspect=1.3,kind='box')\nplt.tick_params(labelsize=15)\n","649c1f5f":"df_hsc=df1[['gender','hsc_p','hsc_b','hsc_s','status']]","b0cdd750":"fig1=px.violin(df_hsc,y='status',x='hsc_p', color='gender',\n          orientation='h',title='\"HSC_PERCENTAGE_EFFCET(WITH RESPECT TO GENDER) PLACED OR NOT PLACED\"').update_traces(side='positive',width=2)\nfig1.show()","b15d6b63":"sns.catplot(x='hsc_s',y='hsc_p',hue='status',data=df_hsc,height=8,aspect=1.3,kind='boxen')\nplt.tick_params(labelsize=15)\n","f7fb0397":"sns.catplot(x='hsc_b',y='hsc_p',hue='status',data=df_hsc,height=8,aspect=1.3,kind='box')\nplt.tick_params(labelsize=15)\n","d0efdc12":"df_emp=df1[['degree_p','degree_t','workex','status','gender']]","86c4277e":"fig3=px.violin(df_emp,y='status',x='degree_p', color='gender',\n          orientation='h',title='\"Graduation_PERCENTAGE_EFFCET(WITH RESPECT TO GENDER) PLACED OR NOT PLACED\"').update_traces(side='positive',width=2)\nfig3.show()","e5803503":"sns.catplot(x='degree_t',y='degree_p',hue='status',data=df_emp,height=8,aspect=1.3,kind='box')\nplt.tick_params(labelsize=15)\n","a6f1b8d2":"sns.catplot(x='specialisation',y='mba_p',data=df1,hue='status',height=8,aspect=1.3,kind='boxen')\nplt.tick_params(labelsize=15)\n","c7389b67":"sns.catplot(x='specialisation',y='etest_p',data=df1,hue='status',height=8,aspect=1.3,kind='bar')\nplt.tick_params(labelsize=15)\n","466870fd":"sns.catplot(x='workex',y='mba_p',data=df1,hue='status',height=8,aspect=1.3,kind='violin')\nplt.tick_params(labelsize=15)\n","e8495065":"\nplt.figure(figsize=(20,10))\nb=sns.countplot(x='workex',data=df1,hue='status',lw=3,edgecolor=sns.color_palette(\"dark\", 3))\nb.axes.set_title(\"T\",fontsize=30)\nb.set_xlabel(\"Workex\",fontsize=20)\nb.set_ylabel(\"Count\",fontsize=20)\nb.tick_params(labelsize=20)\n","c3ae270e":"plt.figure(figsize=(15,7))\ndf1['gender'].value_counts().plot(kind='bar')\nplt.tick_params(labelsize=15)","1c302321":"plt.figure(figsize=(20,10))\nsns.countplot(x='gender',data=df1,hue='status')\nplt.tick_params(labelsize=25)\n","750a7529":"sns.pairplot(df1)\nplt.show()","ab6fec88":"num=df1.dtypes[df1.dtypes=='float64'].index","04c89657":"for i in num:\n    fig = px.histogram(df1, x=i, color=\"status\",title='Histogram of '+i+' with respect to target variable')\n    fig.show()","20791715":"df1_sal=df1[~df1['salary'].isnull()]","9ad0bfee":"df1_sal_obj=df1_sal.dtypes[df1_sal.dtypes=='object'].index","1a1195cc":"for i in df1_sal_obj:\n    fig = px.box(df1, x=\"status\", y=\"salary\", color=i,title='Salary comparision with respect to '+i,width=550,height=350)\n    fig.update_traces(quartilemethod=\"exclusive\") # or \"inclusive\", or \"linear\" by default\n    fig.show()","2a0b76e0":"df1['Percentage_change_scc_to_hsc']=(df1['hsc_p']-df1['ssc_p'])\/(df1['ssc_p'])*100","80c57ddf":"fig = px.box(df1, x=\"status\", y=\"Percentage_change_scc_to_hsc\",color='gender',title='Percentage change from SSC to HSC, how does it influence status with respect to gender')\nfig.show()","c418b61f":"\nX_train.shape, X_test.shape","1dffbb57":"df1.dtypes[df1.dtypes=='object']","1b3c7681":"sns.countplot(x='gender',data=df1,hue='status')","9c58259c":"plt.figure(figsize=(15,8))\nsns.countplot(x='degree_t',data=df1,hue='status')\nplt.title('Is ssc_board makes any differnece for status variable')\nplt.show()","9a466be6":"for i in df1.columns:\n    if df1[i].dtypes=='object':\n        print('For column ',i)\n        print(df1[i].value_counts())\n        print('----------------------------------')","036b0fe4":"!pip install feature_engine","f2b83f57":"from feature_engine.categorical_encoders import OneHotCategoricalEncoder","27b37b91":"from feature_engine import missing_data_imputers as mdi","faed0a37":"X_train.shape,X_test.shape","20d55868":"imputer = mdi.ArbitraryNumberImputer(arbitrary_number = 0,\n                                     variables=['salary'])\n\nimputer.fit(X_train)","8faffbbd":"X_train = imputer.transform(X_train)\n\n# let's check null values are gone\nX_train[imputer.variables].isnull().mean()","35f421d5":"X_test=imputer.transform(X_test)","c1488721":"ohe_enc = OneHotCategoricalEncoder(\n    top_categories=None, # we can select which variables to encode\n    drop_last=True) # to return k-1, false to return k\n\n\nohe_enc.fit(X_train)","2fa93043":"X_train_one_hot = ohe_enc.transform(X_train)\n\nX_train_one_hot.head()","c9f0c5bf":"X_test_one_hot = ohe_enc.transform(X_test)\n\nX_test_one_hot.head()","3c3d27da":"ohe_tr = OneHotCategoricalEncoder(\n    top_categories=None, # we can select which variables to encode\n    drop_last=True) # to return k-1, false to return k\n\n\nohe_tr.fit(pd.DataFrame(y_train))","933b9c2b":"y_train_one_hot=ohe_tr.transform(pd.DataFrame(y_train))","f5304caa":"y_train_one_hot","a75977fd":"y_test_one_hot=ohe_tr.transform(pd.DataFrame(y_test))","e4826964":"y_test_one_hot","0d9b277b":"from sklearn.linear_model import LogisticRegression","2de91664":"logmodel = LogisticRegression()\nlogmodel.fit(X_train_one_hot,y_train_one_hot)","70d11577":"predictions = logmodel.predict(X_test_one_hot)","267923bc":"from sklearn.metrics import accuracy_score, confusion_matrix, roc_curve, roc_auc_score","be433eda":"accuracy = accuracy_score(y_test_one_hot,predictions)\naccuracy","0e745732":"# Confusion Matrix\nconf_mat = confusion_matrix(y_test_one_hot,predictions)\nconf_mat","64c98bba":"true_positive = conf_mat[0][0]\nfalse_positive = conf_mat[0][1]\nfalse_negative = conf_mat[1][0]\ntrue_negative = conf_mat[1][1]","c5c26d0c":"Accuracy = (true_positive + true_negative) \/ (true_positive +false_positive + false_negative + true_negative)\nAccuracy","c5a07809":"Precision = true_positive\/(true_positive+false_positive)\nPrecision","8f12dda7":"Recall = true_positive\/(true_positive+false_negative)\nRecall","0bb5e651":"F1_Score = 2*(Recall * Precision) \/ (Recall + Precision)\nF1_Score","078a11cf":"auc = roc_auc_score(y_test_one_hot, predictions)\nauc","f2dfe873":"fpr, tpr, thresholds = roc_curve(y_test_one_hot, predictions)","501837ee":"plt.plot(fpr, tpr, color='orange', label='ROC')\nplt.plot([0, 1], [0, 1], color='darkblue', linestyle='--',label='ROC curve (area = %0.2f)' % auc)\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.title('Receiver Operating Characteristic (ROC) Curve')\nplt.legend()\nplt.show()","f6d244cf":"X=X_train_one_hot.copy()\nx=X_test_one_hot.copy()\nY=y_train_one_hot.copy()\ny=y_test_one_hot.copy()","fbabed30":"X.drop('salary',inplace=True,axis=1)","d81acd5b":"x.drop('salary',inplace=True,axis=1)","26ceeab7":"sal_train=X_train_one_hot['salary']","1c6d7d96":"Y=Y.merge(pd.DataFrame(sal_train),left_index=True,right_index=True)","9218e429":"train_status=Y['status_Not Placed']","cfb28670":"X=X.merge(pd.DataFrame(train_status),left_index=True,right_index=True)","be4e9199":"sal_test=X_test_one_hot['salary']","72fc1754":"y=y.merge(pd.DataFrame(sal_test),left_index=True,right_index=True)","4de97c31":"test_status=y['status_Not Placed']","c4726b55":"x=x.merge(pd.DataFrame(test_status),left_index=True,right_index=True)","17f1fdad":"from sklearn.linear_model import LinearRegression","d5fabe23":"lm = LinearRegression()","dec90c81":"lm.fit(X,Y)","06c1689b":"predictions = lm.predict(x)","72979c63":"plt.scatter(y,predictions)","558dec9c":"from sklearn import metrics","f562131d":"print('MAE:', metrics.mean_absolute_error(y, predictions))\nprint('MSE:', metrics.mean_squared_error(y, predictions))\nprint('RMSE:', np.sqrt(metrics.mean_squared_error(y, predictions)))","d8d1a4ca":"lm.score(X,Y)","23c219ac":"def adj_r2(x,y):\n    r2 = lm.score(x,y)\n    n = x.shape[0]\n    p = x.shape[1]\n    adjusted_r2 = 1-(1-r2)*(n-1)\/(n-p-1)\n    return adjusted_r2","57c642eb":"adj_r2(X,Y)","a2d986d2":"# ******LETS RUN LOGISTIC REGRESSION ON THIS","7399f5d1":"# SALARY PREDICTION","ebe7dd8c":"# 0 SALARIES FOR STUDENTS WHO ARE NOT PLACED","20e10855":"# ****IN THE ABOVE BAR GRAPH,COUNT OF CANDIDATES WHO ARE NOT PLACED ARE PROPORTIONALLY MORE IN WITHOUT WORKEX ","564716b0":"# BELOW LETS CHECK THE NUMBER OF CATEGORIES IN EACH  CATEGORICAL VARIABLE","7f62a5e7":"# ****If you have reached till here , kindly like the notebook, Thank you so much!****","a5b9b034":"# WE SEE IN THE GRAPH THAT PLACED STUDENTS HAVE A BIT HIGHER SSC PERCENTAGE AND THE VARIATION IS ALSO LESS AMONG THEM","8fa683d6":"# WE SEE ABOVE THAT STUDENTS WITH HIGH HSC PERCENTAGE ARE IN PLACED CATEGORY AND WE ALSO SEE RIGHT SKEW IN PLACED(FEMALE).THE VARIATION IN PERCENTAGE IS ALSO LESS IN PLACED","22be816a":"# PERCENTAGE CHANGE FROM SSC TO HSC, DOES THIS HAVE ANY INFLUENCE ON PLACEMENTS, LETS CHECK BELOW","ad227e1f":"\n# Hello,\n#  As a beginner in Data Science I have tried to analyze the features which influence the placement status for MBA students\n#  I chose this dataset as I am recenet post graduate and that to  MBA, similar to this dataset.\n#  \n#  Lets see how does the features influence the target variable.\n\n# The main aim is to do EDA and build a Very simple logistic model to predict the Target varibale(status) and also predict the  Salaries using multiple regression.\n \n#  Please leave a like as I am a beginner and your like will motivate me to perform better.","cdfdf633":"# ****ABOVE WE SEE THAT PEOPLE WITH WORKEX AND WHO ARE PLACED HAVE HIGHER PERCENTAGE IN MBA","94a4eb2c":"**Please scroll down the graphs, you would be able to see a scroller in the right side**","b9afc5ad":"# ****LETS DO SOME SALARY ANALYSIS","ba764f10":"# ****EMPLOYEMENT TEST ALSO DOES NOT PLAY A MAJOR ROLE IN PLACED STATUS","2f2dea67":"# WE CLEARLY SEE ABOVE HERE THAT MEDIAN PERCENATGE IS HIGGHER FOR PLACED PEOPLE IRRESPECTIVE OF ANY STREAM","29c30fcd":"# ****SSC ANALYSIS WITH TARGET VARIABLE","ed6764c5":"________________________________________________","81edd163":"# ****INTERESTINGLY MBA PERCENTAGE DOES NOT PLAY MAJOR ROLE FOR PLACED STATUS","f117c04a":"# ******PLEASE SCROLL DOWN THE GRAPHS","a6e364a5":"# ****LETS CHECK THE HISTOGRAM OF THE VARIABLES WITH TARGET VARIBALE","93b90cf5":"FEATURE ENGINEERING","4971bc15":"# THE BOARD DOES NOT MAKE SUCH AN EFFECT ON THE TARGET VARIABLE","56abe46e":"# ****GRADUATION","0f5d920a":"# ABOVE WE SEE THE HSC BOARD DOES NOT HAVE THAT MUCH EFFECT ON TARGET VARIABLE****","59e3336c":"# ****MBA ","20ead47d":"# ****HSC ANALYSIS WITH TARGET VARIABLE","5b32ef86":"# ****ABOVE IN THE BOX PLOT ,DEGREE PERCENTAGE MEDIAN IS ALSO HIGH FOR PLACED STUDENTS","0c775b74":"# LETS PERFORM ONE HOT ENCODING FOR CATEGORICAL VARIABLES"}}