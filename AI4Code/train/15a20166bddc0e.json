{"cell_type":{"244b1b54":"code","fb5f1088":"code","4ae43360":"code","45e6c0e1":"code","f1071126":"code","61d89c03":"code","ae126979":"code","7aa09a30":"code","7297c9a6":"code","ffce5b3f":"code","4cb8da32":"code","f872fc0e":"code","a1b4cecf":"code","fdc5dc96":"code","61a71387":"code","62249c31":"code","aa20a3c1":"code","236a1110":"markdown","7040afee":"markdown","c2fc2853":"markdown","afce2ad3":"markdown","5bd2fcb8":"markdown","b3d195a8":"markdown","4f623d58":"markdown","0fe6b553":"markdown","a26260ce":"markdown","ba5e8a31":"markdown","7b464fa5":"markdown","16926541":"markdown","e1aece0f":"markdown","845b0fd4":"markdown"},"source":{"244b1b54":"import pandas as pd\n\ndf = pd.read_csv(\"..\/input\/maternity-and-child-health\/baby.csv\")\n\ndf.head()","fb5f1088":"smoking_and_age = df[['Maternal Smoker', 'Maternal Age']]\nsmoking_and_age","4ae43360":"smoking_and_age['Maternal Smoker'] == True","45e6c0e1":"smoker = smoking_and_age['Maternal Age'] [smoking_and_age['Maternal Smoker'] == True]\nsmoker","f1071126":"non_smoker = smoking_and_age['Maternal Age'] [smoking_and_age['Maternal Smoker'] == False]\nnon_smoker","61d89c03":"import matplotlib.pyplot as plt\n\nsmoking_and_age.hist(by ='Maternal Smoker')","ae126979":"import seaborn as sns\n\nsmoker.hist(histtype='stepfilled', alpha=.5, bins=20)   # default number of bins = 10\nnon_smoker.hist(histtype='stepfilled', alpha=.5, color=sns.desaturate(\"indianred\", .75), bins=10)\nplt.xlabel('Women',fontsize=15)\nplt.ylabel('Maternal Age',fontsize=15)\nplt.show()","7aa09a30":"means_table = smoking_and_age.groupby('Maternal Smoker').mean()\nmeans_table","7297c9a6":"observed_difference = means_table['Maternal Age'][1] - means_table['Maternal Age'][0]\nobserved_difference","ffce5b3f":"shuffled = smoking_and_age.sample(1174,replace = False)\nshuffled.tail()","4cb8da32":"shuffled_weights = shuffled['Maternal Age']\n\noriginal_and_shuffled = smoking_and_age.assign(shuffled_weights=shuffled_weights.values )\noriginal_and_shuffled.head()","f872fc0e":"all_group_means= original_and_shuffled.groupby('Maternal Smoker').mean()\nall_group_means","a1b4cecf":"difference = all_group_means['shuffled_weights'][0]- all_group_means['shuffled_weights'][1]\ndifference","fdc5dc96":"smoking_and_age = df[['Maternal Smoker', 'Maternal Age']]\n\nshuffled = smoking_and_age.sample(1174, replace = False)\nshuffled_weights = shuffled['Maternal Age']\n\noriginal_and_shuffled = smoking_and_age.assign(shuffled_weights = shuffled_weights.values )\nall_group_means= original_and_shuffled.groupby('Maternal Smoker').mean()\n\ndifference = all_group_means['shuffled_weights'][0]- all_group_means['shuffled_weights'][1]\ndifference","61a71387":"import array\nimport numpy as np\n\ndifferences = np.zeros(5000)\n\nfor i in range(5000):\n    smoking_and_age = df[['Maternal Smoker', 'Maternal Age']]\n    shuffled = smoking_and_age.sample(1174, replace = False)\n    shuffled_weights = shuffled['Maternal Age']\n    \n    original_and_shuffled = smoking_and_age.assign(shuffled_weights = shuffled_weights.values )\n    all_group_means= original_and_shuffled.groupby('Maternal Smoker').mean()\n    \n    difference = all_group_means['shuffled_weights'][0]- all_group_means['shuffled_weights'][1]\n    differences[i] = difference\n    \ndifferences","62249c31":"from matplotlib import pyplot as plt\nimport numpy as np\n\nfig,ax = plt.subplots(1,1, figsize=(10, 5))\nax.hist(differences)\nplt.axvline(observed_difference, color='magenta')\n\nax.set_title(\"Prediction under NULL Hypothesis\")\nax.set_xlabel(\"Differences between Group averages\")\nax.set_ylabel(\"UnitS\")\n\nplt.show()","aa20a3c1":"np.count_nonzero(differences <= observed_difference)\/differences.size","236a1110":"## Test Statistic","7040afee":"#### Single simulation","c2fc2853":"The distribution is centered around 0, because under the null hypothesis the two groups should have roughly the same average. Therefore the difference between the group averages should be around 0.","afce2ad3":"#### Permutation Test","5bd2fcb8":"#### Maternal AGE vs Smoking","b3d195a8":"The empirical P-value is close to 0, meaning that none of the 5,000 observed samples resulted in a difference of -0.8076 or lower.","4f623d58":"Conclusion : We can reject Null Hypothesis","0fe6b553":"#### Compute Empirical Value","a26260ce":"Alternate : In the population, the distribution of maternal ages is the different for mothers who are smokers and mothers who are non-smokers","ba5e8a31":"## Hypothesis","7b464fa5":"AIM : To study difference in the maternal ages of the smoking and non-smoking mothers.","16926541":"## Predicting the Statistic Under the Null Hypothesis","e1aece0f":"That is,\nIn the population, the distribution of maternal ages is the different for mothers who are smokers and mothers who are non-smokers","845b0fd4":"Null : In the population, the distribution of maternal ages is the same for mothers who are smokers and mothers who are non-smokers"}}