{"cell_type":{"5bf61d54":"code","c4f0499b":"code","1bd5ac55":"code","ada45c2d":"code","91c7ae72":"code","c0aed722":"code","cdab41d8":"code","ebbd1531":"code","423c4df6":"code","4808cf95":"code","dae68ce5":"code","d4299a77":"code","c4662718":"code","a2699464":"code","6aab0a02":"code","b667533e":"code","dd78001b":"code","eaf3aff3":"code","99b302e7":"code","0cc5e974":"code","bda01974":"code","47b1ffdb":"code","7ca3d00c":"code","b12346a3":"code","b4a2dea0":"code","83648ed8":"code","b5a597a5":"code","687b863d":"code","ff1259fb":"code","89535bc3":"code","d89b02b6":"code","0b0d24e3":"code","5872ea35":"code","8d480a13":"code","b047babc":"code","558aacae":"code","3801f7ea":"code","d0ff549a":"code","a40ee7c8":"code","646ce26b":"code","ba373254":"code","cd8f20ea":"code","81eced54":"code","3e704aab":"code","fee57521":"code","1529d055":"markdown"},"source":{"5bf61d54":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport pandas as pd\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nimport datetime as dt\nimport numpy as np\n","c4f0499b":"df=pd.read_csv('..\/input\/covid19-in-india\/covid_19_india.csv',parse_dates=['Date'],dayfirst=True)","1bd5ac55":"df.head()","ada45c2d":"df=df[['Date','State\/UnionTerritory','Cured','Deaths','Confirmed']]","91c7ae72":"df.columns=['date','state','cured','deaths','confirmed']","c0aed722":"df.head()","cdab41d8":"df.tail()","ebbd1531":"#latest\ntoday=df[df.date=='2021-06-01']\ntoday","423c4df6":"#sorting with respect to number of confirmed cases\nmax_confirmed_cases=today.sort_values(by=\"confirmed\",ascending=False)\nmax_confirmed_cases","4808cf95":"top_states_confirmed=max_confirmed_cases[0:5]","dae68ce5":"#making a bar plot for states with top confirmed cases \nsns.set(rc={'figure.figsize':(15,10)})\nsns.barplot(x=\"state\",y=\"confirmed\",data=top_states_confirmed,hue=\"state\")\nplt.show()","d4299a77":"# trying to predict the number of cases on the basis of dates\n# Number of confirmed cases is the dependant variable while  the dates are independant","c4662718":"#Sorting the data frame with respect to the maximum number of deaths in each state\nmax_death_cases=today.sort_values(by=\"deaths\",ascending=False)\nmax_death_cases","a2699464":"#making bar plots of states with the maximum number of death cases\ntop_states_death=max_death_cases[0:5]\nsns.set(rc={'figure.figsize':(15,10)})\nsns.barplot(x=\"state\",y=\"deaths\",data=top_states_death,hue=\"state\")\nplt.show()","6aab0a02":"#Similar process for all the cured cases\n#sorting data with respect to the number of cured cases\nmax_cured_cases=today.sort_values(by=\"cured\",ascending=False)\nmax_cured_cases","b667533e":"#extracting the top 5 states again\ntop_states_cured=max_cured_cases[0:5]\n#making the bar plot for states with the top cured cases\nsns.set(rc={'figure.figsize':(15,10)})\nsns.barplot(x=\"state\",y=\"cured\",data=top_states_cured,hue=\"state\")\nplt.show()","dd78001b":"#if the dependant variable is categorical in nature then a classification algorithm will be preffered","eaf3aff3":"maha=df[df.state=='Maharashtra']\nmaha","99b302e7":"#using a line plot for visualized confirmed cases in maharashtra\nsns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"date\",y=\"confirmed\",data=maha,color=\"g\")\nplt.show()","0cc5e974":"# A similar analysis to find the number of deaths in Maharshtra with respect to date\n#visualizing death cases in maharashtra\nsns.set(rc={'figure.figsize':(15,10)})\nsns.barplot(x=\"date\",y=\"deaths\",data=maha,color=\"r\")\nplt.show()","bda01974":"#same for kerala\nkerala=df[df.state==\"Kerala\"]\nkerala","47b1ffdb":"#using a line plot for visualized confirmed cases in Kerala\nsns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"date\",y=\"confirmed\",data=kerala,color=\"g\")\nplt.show()","7ca3d00c":"#death cases in Kerala\nsns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"date\",y=\"deaths\",data=kerala,color=\"r\")\nplt.show()","b12346a3":"# Same analysis for Jammu and Kashmir\njk=df[df.state=='Jammu and Kashmir']\njk","b4a2dea0":"# confirmed cases in J&K\nsns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"date\",y=\"confirmed\",data=jk,color=\"g\")\nplt.show()","83648ed8":"#death cases in jk\nsns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"date\",y=\"deaths\",data=jk,color=\"r\")\nplt.show()","b5a597a5":"#checking the state -wise testing details\ntests=pd.read_csv('..\/input\/covid19-in-india\/StatewiseTestingDetails.csv')\ntests","687b863d":"test_latest=tests[tests.Date=='2021-05-30']\ntest_latest","ff1259fb":"#Sorting the dataset with respect to the number of tests conducted by the states\nmax_tests_State=test_latest.sort_values(by=\"TotalSamples\",ascending=False)\nmax_tests_State","89535bc3":"#A bar plot for states with max_cases\nsns.set(rc={'figure.figsize':(15,10)})\nsns.barplot(x=\"State\",y=\"TotalSamples\",data=max_tests_State[0:5],hue=\"State\")\nplt.show()","d89b02b6":"# Predicting the future number of cases in Maharashtra via Linear regression","0b0d24e3":"#Linear Regression\nfrom sklearn.model_selection import train_test_split","5872ea35":"maha","8d480a13":"#converting the date entity to ordinal. Because Ordinal basically means numbers. Linear Regression\n#algorithm cannot be used on top of date columns. It needs numerical entities\nmaha['date']=maha['date'].map(dt.datetime.toordinal)\nmaha.head()","b047babc":"#creating a dependant variable and an independant variable\nx=maha['date']\ny=maha['confirmed']","558aacae":"x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.3) #means that 30% of the record go into the test set\n#while 70% of the records go into the training set","3801f7ea":"from sklearn.linear_model import LinearRegression","d0ff549a":"lr=LinearRegression()","a40ee7c8":"x_train","646ce26b":"y_train","ba373254":"#x_train and y_trainn are present in the form of series object. Theyre index. But these values\n# are undesired while fitting a linear regresson model. Therefore we have to use\n# np.array () to convert it into single dimension","cd8f20ea":"lr.fit(np.array(x_train).reshape(-1,1),np.array(y_train).reshape(-1,1))","81eced54":"maha.tail()","3e704aab":"lr.predict(np.array([[737949]])) #this number is the ordinal form after converting the date ot ordinal values\n#this number is 737949 = 737942(1st June + 7 days) which is 8th may","fee57521":"#There will be 40,53,589 cases on 8th May in Maharashtra","1529d055":"# Top 5 states with the most number of cases"}}