{"cell_type":{"c929bef8":"code","daa6d92f":"code","da1dbefc":"code","32167230":"code","fbb9e648":"code","33db3e66":"code","8997d875":"code","e4e18f37":"code","eb1446c1":"code","0a6a87fa":"code","dd008fce":"code","48d00aeb":"code","30c31883":"code","94c50842":"code","79211648":"code","788229f0":"markdown"},"source":{"c929bef8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","daa6d92f":"airstaday=pd.read_csv(\"\/kaggle\/input\/air-quality-data-in-india\/station_day.csv\")\nairstaday.head()","da1dbefc":"airstat=pd.read_csv(\"\/kaggle\/input\/air-quality-data-in-india\/stations.csv\")\nairstat","32167230":"aircity=pd.read_csv(\"\/kaggle\/input\/air-quality-data-in-india\/city_day.csv\")\naircity","fbb9e648":"from datetime import datetime\nfor i in range(len(aircity)):\n   aircity.loc[i,'Year'] = datetime.strptime(aircity.loc[i,'Date'], '%Y-%m-%d').year\naircity.Year=aircity.Year.astype(\"int64\")\n","33db3e66":"aircitypivot=pd.pivot_table(aircity,['AQI','CO', 'PM2.5','PM10','NO2','SO2','O3'], 'Year') \naircitypivot=aircitypivot.reset_index('Year') \naircitypivot","8997d875":"import plotly.express as px\n\nfig = px.line(aircitypivot, x=\"Year\", y=\"AQI\", title='Avg AQI')\nfig.show()","e4e18f37":"import plotly.graph_objects as go\n\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=aircitypivot['Year'], y=aircitypivot['PM10'],\n                    mode='lines',name='PM10'))\nfig.add_trace(go.Scatter(x=aircitypivot['Year'], y=aircitypivot['PM2.5'],\n                    mode='lines+markers', name='PM2.5'))\n\n\nfig.add_trace(go.Scatter(x=aircitypivot['Year'], y=aircitypivot['O3'], name='O3',\n                         line=dict(color='green', width=4,dash='dashdot'))) \nfig.add_trace(go.Scatter(x=aircitypivot['Year'], y=aircitypivot['NO2'], name='NO2',\n                         line=dict(color='firebrick', width=4,dash='dash'))) \n\nfig.add_trace(go.Scatter(x=aircitypivot['Year'], y=aircitypivot['SO2'], name='SO2',\n                         line=dict(color='royalblue', width=4,dash='dot'))) \nfig.add_trace(go.Scatter(x=aircitypivot['Year'], y=aircitypivot['CO'],\n                    mode='lines+markers',name='CO'))\n\nfig.update_layout(title='Average Air Pollutant Levels', xaxis_title='Year' )\n\nfig.show()","eb1446c1":"aircitypivot1=pd.pivot_table(aircity,['AQI'], 'Year','City') \n#aircitypivot1=aircitypivot1.reset_index('Year') \naircitypivot1","0a6a87fa":"import matplotlib.pyplot as plt\nplt.rcParams['figure.figsize'] = [19.5, 16]\naircitypivot1.plot(kind='bar', title=\"Avg AQI for States\")\nplt.show()\n","dd008fce":"import seaborn as sns\ng = sns.FacetGrid(aircity1, row='Year', col='AQI_Bucket', height=4)\ng.map(plt.hist, 'City', alpha=0.5, bins=15)\ng.add_legend()\nplt.show()","48d00aeb":"\naircity20=aircity.loc[aircity['Year'] == 2020]\naircity20=aircity20.drop([\"Year\",'NO','NO2','PM2.5','PM10','CO','SO2','O3','NH3','NOx','Benzene','Toluene','Xylene'], axis=1)\naircity20=aircity20.dropna()","30c31883":"cm = sns.light_palette(\"orange\", as_cmap=True)\naircity20.style.background_gradient(cmap=cm)\n","94c50842":"\nfig = px.bar(aircity20, x='AQI_Bucket', y='City', title=\"AQI Category Level for 2020\")\nfig.show()","79211648":"plt.rcParams['figure.figsize'] = [19.5, 16]\n#sns.relplot(x=\"Date\", y=\"AQI_Bucket\", data=aircity20)\nplt.scatter(x=aircity20['AQI_Bucket'], y=aircity20['Date'])","788229f0":"# One of the main observations during the Covid19 lock-down was the massive diminish in air pollution all over the world. This EDA exhibits clearly the change in Air Quality Index and other air pollutants in 2020 in India. "}}