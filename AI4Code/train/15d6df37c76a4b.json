{"cell_type":{"bba5138a":"code","8e0c6990":"code","abc98aff":"code","26ac62fb":"code","f8b236ce":"code","eb802c65":"code","3fc53b52":"code","9bd7c17f":"code","fe7ce25e":"code","b0459b34":"code","25daea0f":"code","6b0aca0f":"code","28e9ffa7":"code","23a4cde0":"code","f58bc393":"code","5ea60750":"code","9454bb79":"code","d13bba99":"code","bfaedf5c":"code","5b09e1ce":"code","3156c0a8":"code","948783c6":"code","d2559840":"code","52be5b56":"code","9b5681bf":"code","def36575":"code","404838a5":"code","1cf508a4":"code","fe235ac3":"code","ade1c802":"code","b8dbb87b":"code","841347b6":"code","07f5d571":"code","24a4710c":"code","12edf78b":"code","5af2458c":"code","b8c38c84":"code","827f69f4":"code","6a61501b":"code","18a2c17e":"code","d26f37af":"code","ab19d3ba":"code","9dd32589":"code","e5a01ff8":"code","f1c13852":"code","8cc0b22f":"code","c346c324":"code","2705af6d":"code","d97b637a":"code","91ab700b":"code","2327a5c5":"markdown","aed5af32":"markdown","7b0f8494":"markdown","66145bdd":"markdown","ebbd7b13":"markdown","d3aa855d":"markdown","d79f996b":"markdown","93d21963":"markdown","68b406f4":"markdown","bec51533":"markdown","bb9dda28":"markdown","5021e509":"markdown","b96529fd":"markdown","438cab4f":"markdown","d7262b15":"markdown","58a3f831":"markdown","52ceff83":"markdown","81c36cfe":"markdown","1455d380":"markdown","e4ffb075":"markdown","39980a1c":"markdown","179e6c64":"markdown","0a835007":"markdown","bb69a80e":"markdown","852ed48e":"markdown","5e365ca9":"markdown","c4ec4222":"markdown","ce886c63":"markdown","793da208":"markdown","7ad86ef1":"markdown","a3d45345":"markdown","5065b0c1":"markdown","954f2b94":"markdown","020e0be9":"markdown","e5aeea10":"markdown","0bed9eb6":"markdown","2df9d2d5":"markdown","942e37aa":"markdown","f890b8c1":"markdown","10bd049f":"markdown","f0f09183":"markdown","af7daf1e":"markdown","796e8b2f":"markdown","1a0ee235":"markdown","634bab41":"markdown","b12dd033":"markdown","34d7027c":"markdown","a4cb3eea":"markdown","01bc9bdb":"markdown","19f3a301":"markdown","59db6a93":"markdown","b84f5a77":"markdown","e4cc0a5a":"markdown"},"source":{"bba5138a":"import numpy as np\nimport pandas as pd\n\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly.io as pio\npio.templates.default = \"plotly_dark\"\nfrom plotly.subplots import make_subplots\n\nfrom pathlib import Path\ndata_dir = Path('..\/input\/covid19-global-forecasting-week-1')\n\nimport os\nos.listdir(data_dir)","8e0c6990":"data = pd.read_csv(data_dir\/'train.csv', parse_dates=['Date'])\ndata.head()","abc98aff":"data.info()","26ac62fb":"print(f\"Earliest Entry: {data['Date'].min()}\")\nprint(f\"Last Entry:     {data['Date'].max()}\")\nprint(f\"Total Days:     {data['Date'].max() - data['Date'].min()}\")","f8b236ce":"data.rename(columns={'Date': 'date', \n                     'Id': 'id',\n                     'Province\/State':'state',\n                     'Country\/Region':'country',\n                     'Lat':'lat',\n                     'Long': 'long',\n                     'ConfirmedCases': 'confirmed',\n                     'Fatalities':'deaths',\n                    }, inplace=True)\ndata.head()","eb802c65":"cleaned_data = pd.read_csv('..\/input\/corona-virus-report\/covid_19_clean_complete.csv', parse_dates=['Date'])\ncleaned_data.head()","3fc53b52":"cleaned_data.rename(columns={'ObservationDate': 'date', \n                     'Province\/State':'state',\n                     'Country\/Region':'country',\n                     'Last Update':'last_updated',\n                     'Confirmed': 'confirmed',\n                     'Deaths':'deaths',\n                     'Recovered':'recovered'\n                    }, inplace=True)\n\n# cases \ncases = ['confirmed', 'deaths', 'recovered', 'active']\n\n# Active Case = confirmed - deaths - recovered\ncleaned_data['active'] = cleaned_data['confirmed'] - cleaned_data['deaths'] - cleaned_data['recovered']\n\n# replacing Mainland china with just China\ncleaned_data['country'] = cleaned_data['country'].replace('Mainland China', 'China')\n\n# filling missing values \ncleaned_data[['state']] = cleaned_data[['state']].fillna('')\ncleaned_data[cases] = cleaned_data[cases].fillna(0)\ncleaned_data.rename(columns={'Date':'date'}, inplace=True)\n\ndata = cleaned_data\n\n# # cases in the ships\n# ship = data[data['state'].str.contains('Grand Princess')|data['country'].str.contains('Cruise Ship')]\n\n# # china and the row\n# china = data[data['country']=='China']\n# rest = data[data['country']!='China']\n\n# # latest\n# full_latest = data[data['date'] == max(data['date'])].reset_index()\n# china_latest = data[data['country'] == 'China']\n# rest_latest = data[data['country'] != 'China']\n\n# # latest condensed\n# full_latest_grouped = full_latest.groupby('country')['confirmed', 'deaths', 'recovered', 'active'].sum().reset_index()\n# china_latest_grouped = china_latest.groupby('state')['confirmed', 'deaths', 'recovered', 'active'].sum().reset_index()\n# rest_latest_grouped = rest_latest.groupby('country')['confirmed', 'deaths', 'recovered', 'active'].sum().reset_index()","9bd7c17f":"print(\"External Data\")\nprint(f\"Earliest Entry: {data['date'].min()}\")\nprint(f\"Last Entry:     {data['date'].max()}\")\nprint(f\"Total Days:     {data['date'].max() - data['date'].min()}\")","fe7ce25e":"grouped = data.groupby('date')['date', 'confirmed', 'deaths'].sum().reset_index()\n\nfig = px.line(grouped, x=\"date\", y=\"confirmed\", \n              title=\"Worldwide Confirmed Cases Over Time\")\nfig.show()\n\nfig = px.line(grouped, x=\"date\", y=\"confirmed\", \n              title=\"Worldwide Confirmed Cases (Logarithmic Scale) Over Time\", \n              log_y=True)\nfig.show()","b0459b34":"grouped_china = data[data['country'] == \"China\"].reset_index()\ngrouped_china_date = grouped_china.groupby('date')['date', 'confirmed', 'deaths'].sum().reset_index()\n\ngrouped_italy = data[data['country'] == \"Italy\"].reset_index()\ngrouped_italy_date = grouped_italy.groupby('date')['date', 'confirmed', 'deaths'].sum().reset_index()\n\ngrouped_us = data[data['country'] == \"US\"].reset_index()\ngrouped_us_date = grouped_us.groupby('date')['date', 'confirmed', 'deaths'].sum().reset_index()\n\ngrouped_rest = data[~data['country'].isin(['China', 'Italy', 'US'])].reset_index()\ngrouped_rest_date = grouped_rest.groupby('date')['date', 'confirmed', 'deaths'].sum().reset_index()","25daea0f":"plot_titles = ['China', 'Italy', 'USA', 'Rest of the World']\n\nfig = px.line(grouped_china_date, x=\"date\", y=\"confirmed\", \n              title=f\"Confirmed Cases in {plot_titles[0].upper()} Over Time\", \n              color_discrete_sequence=['#F61067'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_italy_date, x=\"date\", y=\"confirmed\", \n              title=f\"Confirmed Cases in {plot_titles[1].upper()} Over Time\", \n              color_discrete_sequence=['#91C4F2'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_us_date, x=\"date\", y=\"confirmed\", \n              title=f\"Confirmed Cases in {plot_titles[2].upper()} Over Time\", \n              color_discrete_sequence=['#6F2DBD'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_rest_date, x=\"date\", y=\"confirmed\", \n              title=f\"Confirmed Cases in {plot_titles[3].upper()} Over Time\", \n              color_discrete_sequence=['#FFDF64'],\n              height=500\n             )\nfig.show()","6b0aca0f":"data['state'] = data['state'].fillna('')\ntemp = data[[col for col in data.columns if col != 'state']]\n\nlatest = temp[temp['date'] == max(temp['date'])].reset_index()\nlatest_grouped = latest.groupby('country')['confirmed', 'deaths'].sum().reset_index()","28e9ffa7":"fig = px.choropleth(latest_grouped, locations=\"country\", \n                    locationmode='country names', color=\"confirmed\", \n                    hover_name=\"country\", range_color=[1,5000], \n                    color_continuous_scale=\"peach\", \n                    title='Countries with Confirmed Cases')\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","23a4cde0":"europe = list(['Austria','Belgium','Bulgaria','Croatia','Cyprus','Czech Republic','Denmark','Estonia','Finland','France','Germany','Greece','Hungary','Ireland',\n          'Italy', 'Latvia','Luxembourg','Lithuania','Malta','Norway','Netherlands','Poland','Portugal','Romania','Slovakia','Slovenia',\n         'Spain', 'Sweden', 'United Kingdom', 'Iceland', 'Russia', 'Switzerland', 'Serbia', 'Ukraine', 'Belarus'])\n\neurope_grouped_latest = latest_grouped[latest_grouped['country'].isin(europe)]","f58bc393":"fig = px.choropleth(europe_grouped_latest, locations=\"country\", \n                    locationmode='country names', color=\"confirmed\", \n                    hover_name=\"country\", range_color=[1,2000], \n                    color_continuous_scale='portland', \n                    title='European Countries with Confirmed Cases', scope='europe', height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","5ea60750":"fig = px.bar(latest_grouped.sort_values('confirmed', ascending=False)[:20][::-1], \n             x='confirmed', y='country',\n             title='Confirmed Cases Worldwide', text='confirmed', height=1000, orientation='h')\nfig.show()","9454bb79":"fig = px.bar(europe_grouped_latest.sort_values('confirmed', ascending=False)[:10][::-1], \n             x='confirmed', y='country', color_discrete_sequence=['#84DCC6'],\n             title='Confirmed Cases in Europe', text='confirmed', orientation='h')\nfig.show()","d13bba99":"usa = cleaned_data[cleaned_data['country'] == \"US\"]\nusa_latest = usa[usa['date'] == max(usa['date'])]\nusa_latest = usa_latest.groupby('state')['confirmed', 'deaths'].max().reset_index()\n\nfig = px.bar(usa_latest.sort_values('confirmed', ascending=False)[:10][::-1], \n             x='confirmed', y='state', color_discrete_sequence=['#D63230'],\n             title='Confirmed Cases in USA', text='confirmed', orientation='h')\nfig.show()","bfaedf5c":"fig = px.line(grouped, x=\"date\", y=\"deaths\", title=\"Worldwide Deaths Over Time\",\n             color_discrete_sequence=['#F42272'])\nfig.show()\n\nfig = px.line(grouped, x=\"date\", y=\"deaths\", title=\"Worldwide Deaths (Logarithmic Scale) Over Time\", \n              log_y=True, color_discrete_sequence=['#F42272'])\nfig.show()","5b09e1ce":"plot_titles = ['China', 'Italy', 'USA', 'Rest of the World']\n\nfig = px.line(grouped_china_date, x=\"date\", y=\"deaths\", \n              title=f\"Deaths in {plot_titles[0].upper()} Over Time\", \n              color_discrete_sequence=['#F61067'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_italy_date, x=\"date\", y=\"deaths\", \n              title=f\"Deaths in {plot_titles[1].upper()} Over Time\", \n              color_discrete_sequence=['#91C4F2'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_us_date, x=\"date\", y=\"deaths\", \n              title=f\"Deaths in {plot_titles[2].upper()} Over Time\", \n              color_discrete_sequence=['#6F2DBD'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_rest_date, x=\"date\", y=\"deaths\", \n              title=f\"Deaths in {plot_titles[3].upper()} Over Time\", \n              color_discrete_sequence=['#FFDF64'],\n              height=500\n             )\nfig.show()","3156c0a8":"fig = px.choropleth(latest_grouped, locations=\"country\", \n                    locationmode='country names', color=\"deaths\", \n                    hover_name=\"deaths\", range_color=[1,100], \n                    color_continuous_scale=\"peach\", \n                    title='Countries with Reported Deaths')\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","948783c6":"fig = px.choropleth(europe_grouped_latest, locations=\"country\", \n                    locationmode='country names', color=\"deaths\", \n                    hover_name=\"country\", range_color=[1,100], \n                    color_continuous_scale='portland',\n                    title='Reported Deaths in EUROPE', scope='europe', height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","d2559840":"fig = px.bar(latest_grouped.sort_values('deaths', ascending=False)[:10][::-1], \n             x='deaths', y='country',\n             title='Confirmed Deaths Worldwide', text='deaths', orientation='h')\nfig.show()","52be5b56":"fig = px.bar(europe_grouped_latest.sort_values('deaths', ascending=False)[:5][::-1], \n             x='deaths', y='country', color_discrete_sequence=['#84DCC6'],\n             title='Deaths in Europe', text='deaths', orientation='h')\nfig.show()","9b5681bf":"fig = px.bar(usa_latest.sort_values('deaths', ascending=False)[:5][::-1], \n             x='deaths', y='state', color_discrete_sequence=['#D63230'],\n             title='Deaths in USA', text='deaths', orientation='h')\nfig.show()","def36575":"cleaned_data.rename(columns={'Date':'date'}, inplace=True)\n\ngrouped_china = cleaned_data[cleaned_data['country'] == \"China\"].reset_index()\ngrouped_china_date = grouped_china.groupby('date')['date', 'confirmed', 'deaths', 'active', 'recovered'].sum().reset_index()\n\ngrouped_italy = cleaned_data[cleaned_data['country'] == \"Italy\"].reset_index()\ngrouped_italy_date = grouped_italy.groupby('date')['date', 'confirmed', 'deaths', 'active', 'recovered'].sum().reset_index()\n\ngrouped_us = cleaned_data[cleaned_data['country'] == \"US\"].reset_index()\ngrouped_us_date = grouped_us.groupby('date')['date', 'confirmed', 'deaths', 'active', 'recovered'].sum().reset_index()\n\ngrouped_rest = cleaned_data[~cleaned_data['country'].isin(['China', 'Italy', 'US'])].reset_index()\ngrouped_rest_date = grouped_rest.groupby('date')['date', 'confirmed', 'deaths', 'active', 'recovered'].sum().reset_index()","404838a5":"plot_titles = ['China', 'Italy', 'USA', 'Rest of the World']\n\nfig = px.line(grouped_china_date, x=\"date\", y=\"active\", \n              title=f\"Active Cases in {plot_titles[0].upper()} Over Time\", \n              color_discrete_sequence=['#F61067'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_italy_date, x=\"date\", y=\"active\", \n              title=f\"Active Cases in {plot_titles[1].upper()} Over Time\", \n              color_discrete_sequence=['#91C4F2'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_us_date, x=\"date\", y=\"active\", \n              title=f\"Active Cases in {plot_titles[2].upper()} Over Time\", \n              color_discrete_sequence=['#6F2DBD'],\n              height=500\n             )\nfig.show()\n\nfig = px.line(grouped_rest_date, x=\"date\", y=\"active\", \n              title=f\"Active Cases in {plot_titles[3].upper()} Over Time\", \n              color_discrete_sequence=['#FFDF64'],\n              height=500\n             )\nfig.show()","1cf508a4":"cleaned_data['state'] = cleaned_data['state'].fillna('')\ntemp = cleaned_data[[col for col in cleaned_data.columns if col != 'state']]\n\nlatest = temp[temp['date'] == max(temp['date'])].reset_index()\nlatest_grouped = latest.groupby('country')['confirmed', 'deaths', 'active', 'recovered'].sum().reset_index()","fe235ac3":"fig = px.choropleth(latest_grouped, locations=\"country\", \n                    locationmode='country names', color=\"active\", \n                    hover_name=\"active\", range_color=[1,1000], \n                    color_continuous_scale=\"peach\", \n                    title='Active Cases Worldwide')\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","ade1c802":"europe = list(['Austria','Belgium','Bulgaria','Croatia','Cyprus','Czech Republic','Denmark','Estonia','Finland','France','Germany','Greece','Hungary','Ireland',\n          'Italy', 'Latvia','Luxembourg','Lithuania','Malta','Norway','Netherlands','Poland','Portugal','Romania','Slovakia','Slovenia',\n         'Spain', 'Sweden', 'United Kingdom', 'Iceland', 'Russia', 'Switzerland', 'Serbia', 'Ukraine', 'Belarus'])\n\neurope_grouped_latest = latest_grouped[latest_grouped['country'].isin(europe)]","b8dbb87b":"fig = px.choropleth(europe_grouped_latest, locations=\"country\", \n                    locationmode='country names', color=\"active\", \n                    hover_name=\"country\", range_color=[1,2000], \n                    color_continuous_scale='portland',\n                    title='Active Cases European Countries', scope='europe', height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","841347b6":"fig = px.bar(latest_grouped.sort_values('active', ascending=False)[:10][::-1], \n             x='active', y='country',\n             title='Active Cases Worldwide', text='active', orientation='h')\nfig.show()","07f5d571":"fig = px.bar(europe_grouped_latest.sort_values('active', ascending=False)[:10][::-1], \n             x='active', y='country',\n             title='Active Cases EUROPE', text='active', orientation='h')\nfig.show()","24a4710c":"usa = cleaned_data[cleaned_data['country'] == \"US\"]\nusa_latest = usa[usa['date'] == max(usa['date'])]\nusa_latest = usa_latest.groupby('state')['confirmed', 'deaths', 'active', 'recovered'].max().reset_index()\n\nfig = px.bar(usa_latest.sort_values('active', ascending=False)[:10][::-1], \n             x='active', y='state', color_discrete_sequence=['#D63230'],\n             title='Active Cases in USA', text='active', orientation='h')\nfig.show()","12edf78b":"fig = px.bar(latest_grouped.sort_values('recovered', ascending=False)[:10][::-1], \n             x='recovered', y='country',\n             title='Recovered Cases Worldwide', text='recovered', orientation='h')\nfig.show()","5af2458c":"fig = px.bar(europe_grouped_latest.sort_values('recovered', ascending=False)[:10][::-1], \n             x='recovered', y='country',\n             title='Recovered Cases in EUROPE', text='recovered', orientation='h', color_discrete_sequence=['cyan'])\nfig.show()","b8c38c84":"temp = cleaned_data.groupby('date')['recovered', 'deaths', 'active'].sum().reset_index()\ntemp = temp.melt(id_vars=\"date\", value_vars=['recovered', 'deaths', 'active'],\n                 var_name='case', value_name='count')\n\n\nfig = px.line(temp, x=\"date\", y=\"count\", color='case',\n             title='Cases over time: Line Plot', color_discrete_sequence = ['cyan', 'red', 'orange'])\nfig.show()\n\n\nfig = px.area(temp, x=\"date\", y=\"count\", color='case',\n             title='Cases over time: Area Plot', color_discrete_sequence = ['cyan', 'red', 'orange'])\nfig.show()","827f69f4":"rest = cleaned_data[cleaned_data['country'] != 'China']\nrest_grouped = rest.groupby('date')['recovered', 'deaths', 'active'].sum().reset_index()\n\ntemp = rest_grouped.melt(id_vars=\"date\", value_vars=['recovered', 'deaths', 'active'],\n                 var_name='case', value_name='count')\n\n\nfig = px.line(temp, x=\"date\", y=\"count\", color='case',\n             title='Cases - Rest of the World: Line Plot', color_discrete_sequence = ['cyan', 'red', 'orange'])\nfig.show()\n\n\nfig = px.area(temp, x=\"date\", y=\"count\", color='case',\n             title='Cases - Rest of the World: Area Plot', color_discrete_sequence = ['cyan', 'red', 'orange'])\nfig.show()","6a61501b":"cleaned_latest = cleaned_data[cleaned_data['date'] == max(cleaned_data['date'])]\nflg = cleaned_latest.groupby('country')['confirmed', 'deaths', 'recovered', 'active'].sum().reset_index()\n\nflg['mortalityRate'] = round((flg['deaths']\/flg['confirmed'])*100, 2)\ntemp = flg[flg['confirmed']>100]\ntemp = temp.sort_values('mortalityRate', ascending=False)\n\nfig = px.bar(temp.sort_values(by=\"mortalityRate\", ascending=False)[:10][::-1],\n             x = 'mortalityRate', y = 'country', \n             title='Deaths per 100 Confirmed Cases', text='mortalityRate', height=800, orientation='h',\n             color_discrete_sequence=['darkred']\n            )\nfig.show()","18a2c17e":"print(\"Countries with Lowest Mortality Rates\")\ntemp = flg[flg['confirmed']>100]\ntemp = temp.sort_values('mortalityRate', ascending=True)[['country', 'confirmed','deaths']][:16]\ntemp.sort_values('confirmed', ascending=False)[['country', 'confirmed','deaths']][:20].style.background_gradient(cmap='Greens')","d26f37af":"flg['recoveryRate'] = round((flg['recovered']\/flg['confirmed'])*100, 2)\ntemp = flg[flg['confirmed']>100]\ntemp = temp.sort_values('recoveryRate', ascending=False)\n\nfig = px.bar(temp.sort_values(by=\"recoveryRate\", ascending=False)[:10][::-1],\n             x = 'recoveryRate', y = 'country', \n             title='Recoveries per 100 Confirmed Cases', text='recoveryRate', height=800, orientation='h',\n             color_discrete_sequence=['#2ca02c']\n            )\nfig.show()","ab19d3ba":"print(\"Countries with Worst Recovery Rates\")\ntemp = flg[flg['confirmed']>100]\ntemp = temp.sort_values('recoveryRate', ascending=True)[['country', 'confirmed','recovered']][:20]\ntemp.sort_values('confirmed', ascending=False)[['country', 'confirmed','recovered']][:20].style.background_gradient(cmap='Reds')","9dd32589":"formated_gdf = data.groupby(['date', 'country'])['confirmed', 'deaths'].max()\nformated_gdf = formated_gdf.reset_index()\nformated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['confirmed'].pow(0.3)\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"confirmed\", size='size', hover_name=\"country\", \n                     range_color= [0, 1500], \n                     projection=\"natural earth\", animation_frame=\"date\", \n                     title='COVID-19: Spread Over Time', color_continuous_scale=\"portland\")\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","e5a01ff8":"formated_gdf = data.groupby(['date', 'country'])['confirmed', 'deaths'].max()\nformated_gdf = formated_gdf.reset_index()\nformated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['deaths'].pow(0.3)\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"deaths\", size='size', hover_name=\"country\", \n                     range_color= [0, 100], \n                     projection=\"natural earth\", animation_frame=\"date\", \n                     title='COVID-19: Deaths Over Time', color_continuous_scale=\"peach\")\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","f1c13852":"formated_gdf = cleaned_data.groupby(['date', 'country'])['confirmed', 'deaths', 'active', 'recovered'].max()\nformated_gdf = formated_gdf.reset_index()\nformated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['active'].pow(0.3)\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"active\", size='size', hover_name=\"country\", \n                     range_color= [0, 1000], \n                     projection=\"natural earth\", animation_frame=\"date\", \n                     title='COVID-19: Active Cases Over Time', color_continuous_scale=\"portland\")\nfig.update(layout_coloraxis_showscale=False)\nfig.show()","8cc0b22f":"formated_gdf = cleaned_data.groupby(['date', 'country'])['confirmed', 'deaths', 'active', 'recovered'].max()\nformated_gdf = formated_gdf.reset_index()\nformated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['recovered'].pow(0.3)\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"recovered\", size='size', hover_name=\"country\", \n                     range_color= [0, 100], \n                     projection=\"natural earth\", animation_frame=\"date\", \n                     title='COVID-19: Recoveries Over Time', color_continuous_scale=\"greens\")\nfig.update(layout_coloraxis_showscale=False)\nfig.show()","c346c324":"formated_gdf = cleaned_data.groupby(['date', 'country'])['confirmed', 'deaths', 'active', 'recovered'].max()\nformated_gdf = formated_gdf.reset_index()\nformated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['confirmed'].pow(0.3) * 5\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"confirmed\", size='size', hover_name=\"country\", \n                     range_color= [0, 5000], \n                     projection=\"natural earth\", animation_frame=\"date\", scope=\"europe\",\n                     title='COVID-19: Spread Over Time in EUROPE', color_continuous_scale=\"portland\", height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","2705af6d":"formated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['deaths'].pow(0.3)\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"deaths\", size='size', hover_name=\"country\", \n                     range_color= [0, 500], \n                     projection=\"natural earth\", animation_frame=\"date\", scope=\"europe\",\n                     title='COVID-19: Deaths Over Time in EUROPE', color_continuous_scale=\"peach\", height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","d97b637a":"formated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['active'].pow(0.3) * 3.5\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"active\", size='size', hover_name=\"country\", \n                     range_color= [0, 3000], \n                     projection=\"natural earth\", animation_frame=\"date\", scope=\"europe\",\n                     title='COVID-19: Active Cases Over Time in EUROPE', color_continuous_scale=\"portland\", height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","91ab700b":"formated_gdf['date'] = pd.to_datetime(formated_gdf['date'])\nformated_gdf['date'] = formated_gdf['date'].dt.strftime('%m\/%d\/%Y')\nformated_gdf['size'] = formated_gdf['recovered'].pow(0.3) * 3.5\n\nfig = px.scatter_geo(formated_gdf, locations=\"country\", locationmode='country names', \n                     color=\"recovered\", size='size', hover_name=\"country\", \n                     range_color= [0, 100], \n                     projection=\"natural earth\", animation_frame=\"date\", scope=\"europe\",\n                     title='COVID-19: Deaths Over Time in EUROPE', color_continuous_scale=\"greens\", height=800)\n# fig.update(layout_coloraxis_showscale=False)\nfig.show()","2327a5c5":"## 4. Recovered Cases ","aed5af32":"* First death again in France by Feb 17. Italy follows suite.\n\n* The rest is history!","7b0f8494":"## 6. Mortality and Recovery Rates","66145bdd":"Taking China out of the equation to see the effects elsewhere.","ebbd7b13":"## 3. Active Cases Over Time","d3aa855d":"## 1. Confirmed Cases Over Time","d79f996b":"The cleaned data from [COVID-19 Complete Dataset (Updated every 24hrs)](https:\/\/www.kaggle.com\/imdevskp\/corona-virus-report) is used for visualizations.","93d21963":"* Active cases in China have plummeted multifold over the past few days making it a much better sign for the country and its people. Something is working out there. Maybe the lockdown and the strict rules implied? Anyway there's a lot to learn from China this time.\n\n* Active cases elsewhere have skyrocketed to be frank, which is deeply worrying.","68b406f4":"## References and Acknowledgements\n**Data:**\n* [Novel Coronavirus (COVID-19) Cases, provided by JHU CSSE](https:\/\/github.com\/CSSEGISandData\/COVID-19)\n\n* [COVID19 Global Forecasting (Week 1)](https:\/\/www.kaggle.com\/c\/covid19-global-forecasting-week-1)\n\n* [Novel Corona Virus 2019 Dataset](https:\/\/www.kaggle.com\/sudalairajkumar\/novel-corona-virus-2019-dataset)\n\n* [COVID-19 Complete Dataset (Updated every 24hrs)](https:\/\/www.kaggle.com\/imdevskp\/corona-virus-report)\n\n**Notebooks:**\n* [covid-19-analysis-visualization-comparisons](https:\/\/www.kaggle.com\/imdevskp\/covid-19-analysis-visualization-comparisons)\n\n* [Creating a good Analytics Report](https:\/\/www.kaggle.com\/jpmiller\/creating-a-good-analytics-report)\n\n**Visual Dashboards:**\n\n* [JHU Dashboard Web](https:\/\/www.arcgis.com\/apps\/opsdashboard\/index.html#\/bda7594740fd40299423467b48e9ecf6)\n\n* [JHU Dashbiard Mobile](http:\/\/www.arcgis.com\/apps\/opsdashboard\/index.html#\/85320e2ea5424dfaaa75ae62e5c06e61)\n\n* [Bing Live Dashboard](https:\/\/www.bing.com\/covid)","bec51533":"* At one point in Feb most of the other countries seem to have no active cases except Italy.\n* But then there is no shortage of active cases in Italy and the lack of locking down public events causing the spread to climb so high and even affecting the rest of the Europe possibly.","bb9dda28":"### COVID-19 is wreaking havoc across the globe!!!\n> #### Well, that's something everyone probably already knows as long as they aren't living under the cave for some reason. \n#### But is it really China who's the most affected right now? \n#### Or one of those European countries that are literally on fire at the moment because of the virus? \n#### How good is the US doing?\n#### How on Earth did it spread so far? (See for yourself)\n#### Will a public lockdown work? \n#### Lessons to learn from China?\n#### Should we be worried? \n> #### This notebook provides reason with data to shed some light on all of the above questions. Lets find out.","5021e509":"Now lets analyze an important thing - ACTIVE CASES over time. It is the number of people who are affected by the virus excluding the dead and the recovered. This might have a bigger say on what is to come.","b96529fd":"1. Looks like the exponential growth of the pandemic is still in it's peaks and that is not good at all.\n\n2. The slope of the line at the latest time frame is very high making matters even worse.\n\n3. Looking at the same graph in Logarithmic scale reveals the matter is very very serious all over the World.\n\n4. At the current rate it may hit the 250k mark much quicker.","438cab4f":"<h2 size=64 style=\"color:red\"> Make sure to give an UPVOTE if you like this notebook<\/h2>","d7262b15":"But deaths in China somehow seem to be decreased since March which is interesting.\n\nLooking at the Deaths elsewhere is a saddening graph in itself. Terrible!","58a3f831":"* Wow this graph gives me some home at last, China has recovered a staggering number of patients somehow which might be the reason why they're doing relatively better at the moment.\n\n* Even the ships have more recoveries than Japan and Singapore?\n\n* Italy must do a lot better to neutralize the situation. In fact they must try to redo a China before its too late.\n\n* Bahrain saved 100 of their people? That is interesting. They have less than 300 confirmed at the moment of writing this.","52ceff83":"However things seem to have taken a turn in terms of deaths in USA with Washington State having lost more than anyone.\n\nAlarming signs for the US?","81c36cfe":"The Deaths however seems to come more from cetain parts of the World...China being the most significant of ones without a doubt, Europe and the Americas aren't doing any good I'm afraid.\n\nYet again it always feels like it's good to have a deeper look at Europe.","1455d380":"Looks like Spain, Italy and France are topping everyone again, this time for a very sad reason with UK close behind.\n\nIceland, Portugal and Ireland seem to be having much fewer deaths in comparision to their surrounding nations.","e4ffb075":"* Don't think China is safe just yet, it still looks to have more active cases than many of the World nations. And it's still a red hot region in terms of the virus.\n\n* An interesting find from all these plots is that sub-saharan Africa, parts of Eastern Europe, Russia and India seem to have fewer cases than the rest of the world. \n\n* However things might get a lot worse when it hits Africa, it is better to keep it as far away as possible. ","39980a1c":"> #### Feel free to zoom into the interactive maps.\n\nThe above graph is just an illistration of how the virus is spread out across the globe.\n\n**I think, looking at Europe, it's worth having a closer look.**","179e6c64":"## 2. Confirmed Deaths Over Time","0a835007":"### 2. What happened in Europe","bb69a80e":"## Data Analysis - COVID-19","852ed48e":"* China can recover an estimated 86 out of every 100 that get affected. That's great.\n\n* Surprised to see Ships here by the way.\n\n* Bahrain as we have seen before are doing really well in terms of recovering.\n\n* Italy, Spain, US, France, UK and Germany... Where are they? Is that why they are in trouble now?","5e365ca9":"The most interesting thing here is China's relative steadiness since March and Europe's severe spreads.  ","c4ec4222":"Now lets take a look at the confirmed cases across the globe.","ce886c63":"## 5. Comparisions\n\nHow about comparing the cases to better assess the situation","793da208":"Looking at the numbers it's worth noting that Europe is more affected than China and it's neighbors. \n\nIran being the most affected Asian country other than China ","7ad86ef1":"Global Death tolls have began to rise sharply ever since the turn of March.","a3d45345":"Looking at the American states, New York being the clear and outright most affected state with the numbers being almost 4 times as much as Washington State.\n\nHere in India the total confirmed cases are much less than any of these top affected American States which is really concerning considering the fact that India shares a border with China while the US an Ocean apart.","5065b0c1":"* San Marino with the most brutal of them all. Over 9 people for every 100 that get affected die!\n\n* Death tolls in Italy have stormed up very high in the past few days. It is really worrying to see Italy suffering so much. May things change for good. Soon!\n\n* Indonesia and Phillipines seem to be very dangerous places to get affected in Asia.\n\n* Aging population of Japan might be the reason of them being here.\n\n* I guess Iran's mortality rates have decreased over the days.\n\n* UK and Spain being the most notable of ones too.","954f2b94":"Things might escalate in New York over the days if nothing changes with other states not that good either.","020e0be9":"* Active cases skyrocketing!!! This is really bad news. It is almost as if the virus has just started for the rest of the World \n\n* Recoveries around the World are rock bottom if we take China out of the equation which is very interesting. What are others doing wrong?","e5aeea10":"China's recoveries so far are excellent. Can Italy, Spain and Iran follow? ","0bed9eb6":"Once again it's Western Europe dominating the number of confirmed cases with Italy more than double over the second most affected Spain and Germany not far off behind.","2df9d2d5":"## Introduction (Although it doesn't need any) \n\n<img align=\"left\" src=\"https:\/\/gcn.com\/-\/media\/GIG\/GCN\/Redesign\/Articles\/2020\/February\/covid19.jpg\"><\/img>","942e37aa":"It is worth seeing these stats as well. It might have a story for sure.","f890b8c1":"* Active cases rising up completely all together leaving recoveries way behind and deaths also staring to increase and might see a big rise if the trend continues.\n\n* China's recent recovery waves might be the reason for so much from this graph. ","10bd049f":"## How did it happen? ","f0f09183":"* At the earliest point (from the data available) the disease seems to be only around China and its neighboring countries.\n\n* However it quickly spread off to Europe, Autralia and even the US which is very interesting. \n\n* Things seem to be in fairly good light even in mid February for European countries.\n\n* West Asia especially Iran and Iraq begins to catch fire at the end of February along with Italy showing signs of the dread to come. South Korea and China peaking at the moment.\n\n* By March 5 look at Europe. They could've have locked down right at that moment. \n\n* The disease has taken away Africa and Americas too by early March with alarm bells ringing loudly for the US with just over 500 cases.\n\n* Needless to say how it ended.\n\n* According to the data so far, USA, UK, Spain, Italy, Germany, France and the UK are in deep trouble. Next few days are crucial for how the disease develops around the world.\n\n","af7daf1e":"* It is very much possible to see things escalate in these few countries here even more with the rise in infected people.\n\n* Much of what is to come over the next few days depend on what is going to happen here \n\n* Spain, US and Germany could possibly be as affected as Italy over the next few days if things don't change.","796e8b2f":"### 1. Worldwide Analysis","1a0ee235":"This has been the hot topic of the day around the world. Italy overtakes China in terms of lives lost. Devastating!\n\nSurprising to see Netherlands again in this list.","634bab41":"* Well that's the Czech Republic with the lowest mortality rate despite having almost 700 cases.\n\n* Israel and Czech Rep. have some impressive numbers but it's worth remembering COVID-19 has an estimated mortality rate of only about 3%.\n\n* Things are still worse even if deaths are low, the only thing that matters is the number of cases. Stop the Spread!","b12dd033":"**Looks like the COVID-19 has the strongest of holds in Western Europe right now.**","34d7027c":"Recoveries in France got to be a lot better.","a4cb3eea":"## Conclusion\n\nIt is better to go for not spreading than to have someone recovered as we know how hard that is for new diseases so I think the message is clear for these countries. Social Distancing!!!\n\nNow it matters more than ever!\n\nI hope everything goes well in the next few days. Keep the virus at bay. Wash your hands, stay home, eat healthy and stay healthy.\n\n**20-03-2020 | Happy International Happiness Day!** \n\nMay things change for good very soon.\n\nI really hope this notebook was useful. **Please give this notebook an upvote if you liked.** Thanks for reading all the way. \n","01bc9bdb":"Look at China's significant decrease and Europe's deadly increase at the same time.","19f3a301":"Western Europe again!","59db6a93":"* What a suprise it looks to be France who are first affected by the virus.\n\n* Nothing bad has happened in Europe as long as mid February. End of February, Italy inflates considerably. \n\n* Entire West Europe overshadowed by the virus by the mid of March. ","b84f5a77":"The data for this competition...\n\n(Won't be using much of it for Analysis)","e4cc0a5a":"1. Looking at the plot of China's cases it is pretty clear that the disease has not been at dire levels since the turn of March. WHICH IS REALLY GOOD NEWS FOR CHINA.\n\n2. Well not so much for Italy by the looks of it. They are getting affected very badly. \n\n3. Italy's steep rise is concerning and the new few days are really crucial.\n\n4. The clear spike in USA's graph might be the result of more cases getting testing for the first time.\n\n5. USA's situation is also very concerning. \n\n6. The rest of the World combined has the same levels of threat as Italy. "}}