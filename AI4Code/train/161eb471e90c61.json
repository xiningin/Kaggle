{"cell_type":{"a616a12c":"code","48c742ab":"code","5c439de1":"code","f60700ea":"code","ea28f173":"code","2f78197a":"code","a10b729b":"code","f7c53e6d":"code","185ceb32":"code","75e8bba4":"code","35b84bfd":"code","beea7d2f":"code","74ce5ffb":"code","32249d4b":"code","f5524542":"code","9c78a444":"code","6c59a294":"code","026d70f5":"code","80cfc72e":"code","81224807":"code","a99887df":"code","afe14055":"code","240d2cfe":"code","85b61272":"code","5b696705":"code","5715c999":"code","eb56d285":"code","f94f89cd":"code","402a2c95":"code","47f5eb86":"code","f1a0d7cf":"code","16ea7a7d":"code","79ac96d8":"code","f71e2ab7":"code","8210b25a":"code","77103911":"code","7f5cd079":"code","764fe75e":"code","facf77f7":"code","b99a5108":"code","705ed880":"code","36f0c109":"code","f3b4198d":"code","467be681":"code","aa15bb26":"code","18f2ba5f":"code","41b5c4a0":"code","0a977cd8":"code","183a73ef":"code","0d4e699a":"code","9a60469b":"code","fa99e106":"code","80df0580":"code","b221d2c7":"code","79bfb0b9":"code","9cda3f94":"code","b4533e62":"code","b6b6016a":"code","fccf1fba":"code","7626ecdb":"code","f84ba553":"code","010d9935":"code","8d73c729":"code","d93b8445":"code","4e320501":"code","7224be40":"code","ed3e3625":"code","12729486":"code","fc8c44d0":"code","af51a0c6":"code","3cc9ebb5":"code","a89c3af1":"code","8082dfd7":"code","295486a2":"code","a9705c9b":"code","26ab8a1c":"code","397592d8":"code","04ca12f6":"code","d0155b74":"code","e8662b99":"code","3b90a8fb":"code","6097ebc8":"code","135f250c":"code","6160fe29":"markdown","0ca39cce":"markdown","2dec4478":"markdown","24d787d8":"markdown","823ff60b":"markdown","c2b3ac8a":"markdown","8987b615":"markdown","fbb9fcb0":"markdown","01e31675":"markdown","844767aa":"markdown","898bd158":"markdown","8de54ade":"markdown","4465f358":"markdown","0a5687d8":"markdown"},"source":{"a616a12c":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport plotly as py\nimport plotly.graph_objs as go\n\npy.offline.init_notebook_mode(connected=True)\n\n%matplotlib inline","48c742ab":"suicide = pd.read_csv(\"..\/input\/suicide-rates-overview-1985-to-2016\/master.csv\")\nsuicide.head()","5c439de1":"suicide.columns","f60700ea":"len(suicide)","ea28f173":"suicide.age.unique()","2f78197a":"type(suicide['suicides_no'][0])","a10b729b":"suicide_in_countries = suicide.groupby('country')","f7c53e6d":"suicide_in_countries","185ceb32":"country_suicide_series = suicide_in_countries['suicides_no'].sum()","75e8bba4":"country_suicide_series.head()","35b84bfd":"# plt.figure(figsize=(10,30))\n# sb.set_style('dark')\n# sb.barplot(country_suicide_series.values,country_suicide_series.index)\n# plt.show()","beea7d2f":"trace1 = go.Bar(\n    y=country_suicide_series.values,\n    x=country_suicide_series.index,\n)\n\ndata = [trace1]\nlayout = go.Layout(\n    title=\"Number of suicide committed in each country\",\n    xaxis={\n        'title':\"Countries\",\n    },\n    yaxis={\n        'title':\"Number of suicide\",\n    }\n)\nfigure=go.Figure(data=data,layout=layout)\npy.offline.iplot(figure)","74ce5ffb":"suicide.year.unique()","32249d4b":"(suicide['suicides_no'][suicide['sex']=='male']).sum()","f5524542":"genderwise_suicide = suicide.pivot_table(index='sex' , aggfunc='sum')","9c78a444":"genderwise_suicide['suicides_no']","6c59a294":"suicide['suicides_no'].sum()","026d70f5":"sb.barplot(genderwise_suicide.index , genderwise_suicide.suicides_no)\nsb.set_style('white')","80cfc72e":"country_wise_gender_suicide_df = pd.DataFrame({\n    'country' : suicide.country,\n    'sex' : suicide.sex,\n    'suicides_no' : suicide.suicides_no\n})","81224807":"country_wise_gender_suicide = country_wise_gender_suicide_df.pivot_table(index='country' , columns='sex' , aggfunc='sum')","a99887df":"country_wise_gender_suicide.iloc[0]","afe14055":"# country_wise_gender_suicide.plot.bar(stacked = True , figsize=(30,10) , cmap='coolwarm')","240d2cfe":"country_wise_gender_suicide.columns = country_wise_gender_suicide.columns.droplevel()","85b61272":"country_wise_gender_suicide.female.head()","5b696705":"trace1 = go.Bar(\n    x=country_wise_gender_suicide.index,\n    y=country_wise_gender_suicide.female,\n    name='Number of female suicides'\n)\ntrace2 = go.Bar(\n    x=country_wise_gender_suicide.index,\n    y=country_wise_gender_suicide.male,\n    name='Number of female suicides'\n)\n\ndata = [trace1, trace2]\nlayout = go.Layout(\n    barmode='stack',\n    title=\"Number of suicides genderwise in each country\",\n    xaxis={\n        'title':\"Countries\",\n    },\n    yaxis={\n        'title':\"Number of suicide\",\n    }\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.offline.iplot(fig)","5715c999":"suicide.age.unique()","eb56d285":"agewise_suicides = suicide.pivot_table(index='age' , aggfunc='sum')","f94f89cd":"agewise_suicides.columns","402a2c95":"agewise_suicides_df = pd.DataFrame({\n    'suicides_no' : agewise_suicides['suicides_no']\n},index = agewise_suicides.index)","47f5eb86":"agewise_suicides_df","f1a0d7cf":"agewise_suicides_df.sort_values(by='suicides_no' , ascending=False).plot.bar()","16ea7a7d":"gender_agewise_suicide_df = pd.DataFrame({\n    'sex' :suicide.sex,\n    'age' : suicide.age,\n    'suicide_no' : suicide.suicides_no\n})","79ac96d8":"gender_agewise_suicide = gender_agewise_suicide_df.pivot_table(index='age' , columns='sex' , aggfunc='sum')","f71e2ab7":"gender_agewise_suicide.iloc[0]","8210b25a":"#gender_agewise_suicide.plot.pie(subplots=True , figsize=(30,10))","77103911":"gender_agewise_suicide.columns = gender_agewise_suicide.columns.droplevel()","7f5cd079":"gender_agewise_suicide.female","764fe75e":"fig = {\n    'data' : [\n        {\n           'labels' : gender_agewise_suicide.index,\n           'values' : gender_agewise_suicide.female,\n            'type': 'pie',\n            'name': 'Female suicides no',\n            'domain': {'x': [0, .48],\n                       'y': [0, .49]}\n        },\n        {\n           'labels' : gender_agewise_suicide.index,\n           'values' : gender_agewise_suicide.male,\n            'type': 'pie',\n            'name': 'Male suicides no',\n            'domain': {'x': [.52, 1],\n                       'y': [0, .49]}\n        }  \n    ],\n    'layout': {'title': 'Suicides committed by various age groups in female and male'}\n}\n\npy.offline.iplot(fig)","facf77f7":"country_gender_agewise_suicide_df = pd.DataFrame({\n    'country' : suicide.country,\n    'sex' : suicide.sex,\n    'age' : suicide.age,\n    'suicide_no' : suicide.suicides_no\n})","b99a5108":"country_gender_agewise_suicide_df.head()","705ed880":"country_gender_agewise_suicide = country_gender_agewise_suicide_df.pivot_table(index=['country' , 'age'] , columns='sex' , aggfunc='sum')","36f0c109":"country_gender_agewise_suicide.loc['Albania']","f3b4198d":"country_gender_agewise_suicide.sample(10).plot.barh(figsize=(20,10))","467be681":"suicide.year.unique()","aa15bb26":"yearly_suicide = suicide.groupby('year').mean()","18f2ba5f":"yearly_suicide.head()","41b5c4a0":"yearly_population = pd.DataFrame({\n    'population' : yearly_suicide.population\n})\n    \nyearly_suicide_no = pd.DataFrame({\n    'suicide_no' : yearly_suicide.suicides_no\n})","0a977cd8":"yearly_population.head()","183a73ef":"# yearly_population.plot.line(color='red')\n# yearly_suicide_no.plot.line()","0d4e699a":"trace0 = go.Scatter(\n    x = yearly_population.index,\n    y = yearly_population.population,\n    mode = 'lines+markers',\n)\nlayout1 = go.Layout(\n    title=\"Population rate yearly basics\",\n    xaxis={\n        'title':\"Years\",\n    },\n    yaxis={\n        'title':\"Number of population\",\n    }\n)\n\ndata1 = [trace0]\nfigure=go.Figure(data=data1,layout=layout1)\npy.offline.iplot(figure)\n\ntrace1 = go.Scatter(\n    x = yearly_suicide_no.index,\n    y = yearly_suicide_no.suicide_no,\n    mode = 'lines+markers',\n)\n\nlayout2 = go.Layout(\n    title=\"Suicide rate yearly basics\",\n    xaxis={\n        'title':\"Years\",\n    },\n    yaxis={\n        'title':\"Suicide rate\",\n    }\n)\n\ndata2 = [trace1]\nfigure1=go.Figure(data=data2,layout=layout2)\npy.offline.iplot(figure1)","9a60469b":"merge_pop_suicide = pd.merge(yearly_population , yearly_suicide_no , on='year')","fa99e106":"merge_pop_suicide.head()","80df0580":"merge_pop_suicide.plot.bar(stacked=True,figsize=(30,10))","b221d2c7":"yearly_countrywise_gender_suicide_df = pd.DataFrame({\n    \"year\" : suicide.year,\n    \"sex\" : suicide.sex,\n    \"suicides_no\" : suicide.suicides_no\n})","79bfb0b9":"yearly_countrywise_gender_suicide = yearly_countrywise_gender_suicide_df.pivot_table(index='year', columns='sex',aggfunc='mean')","9cda3f94":"yearly_countrywise_gender_suicide.head()","b4533e62":"x = yearly_countrywise_gender_suicide.index","b6b6016a":"yearly_countrywise_gender_suicide.columns","fccf1fba":"yearly_countrywise_gender_suicide.columns = ['female' , 'male']","7626ecdb":"yearly_countrywise_gender_suicide.head()","f84ba553":"female = yearly_countrywise_gender_suicide['female']\nmale = yearly_countrywise_gender_suicide['male']","010d9935":"fig, ax = plt.subplots(figsize=(12,6))\n\nax.plot(x, female, color=\"blue\", alpha=0.5 , label='Female suicide rate')\nax.plot(x, male, color=\"green\", alpha=0.5 , label=\"Male suicide rate\")\nax.set_xlabel('Years')\nax.set_ylabel('Avg. of suicide no')\nax.legend()","8d73c729":"country_yearwise_suicide_df  = pd.DataFrame({\n    'country' : suicide.country,\n    'year' : suicide.year,\n    'suicides_no' : suicide.suicides_no\n}) ","d93b8445":"country_yearwise_suicide = country_yearwise_suicide_df.pivot_table(index='year' , columns='country' , aggfunc='mean')","4e320501":"country_yearwise_suicide.columns = country_yearwise_suicide.columns.droplevel()","7224be40":"country_yearwise_suicide.head()","ed3e3625":"country_yearwise_suicide.interpolate(axis=0 , inplace=True)","12729486":"country_yearwise_suicide.fillna(method='bfill' , axis=0 , inplace=True)","fc8c44d0":"country_yearwise_suicide.iloc[:,1].name","af51a0c6":"len(country_yearwise_suicide.columns)","3cc9ebb5":"fig, ax = plt.subplots(figsize=(20,6))\n\nl = len(country_yearwise_suicide.columns) \nfor i in range(l - 90):\n    \n    ax.plot(country_yearwise_suicide.index, country_yearwise_suicide.iloc[:,i], alpha=0.5 , label=country_yearwise_suicide.iloc[:,i].name)\n\nax.legend()\nax.set_xlabel('Years')\nax.set_ylabel('Avg. of suicide no')","a89c3af1":"suicide.head()","8082dfd7":"suicide.generation.unique()","295486a2":"yearly_country_gdp_df = pd.DataFrame({\n    'country' : suicide.country,\n    'year' : suicide.year,\n    'gdp' : suicide.iloc[:,9]\n})","a9705c9b":"yearly_country_gdp_df = yearly_country_gdp_df.drop_duplicates()","26ab8a1c":"yearly_country_gdp_df.head()","397592d8":"yearly_country_gdp_df = yearly_country_gdp_df.set_index('country')","04ca12f6":"country_gdp = yearly_country_gdp_df[yearly_country_gdp_df.index == 'Albania']\ncountry_gdp.head()","d0155b74":"trace = go.Scatter(x=country_gdp.year , y=country_gdp.gdp , name=country_gdp.index[0],mode = 'lines+markers')\nlayout = go.Layout(\n        title=\"Albania country's GDP evaluation\",\n        xaxis={\n                'title':\"Years\",\n              },\n        yaxis={\n                'title':\"gdp rate\",\n              }\n        )\ndata = [trace]\nfig = go.Figure(data=data , layout=layout)\npy.offline.iplot(fig)","e8662b99":"\ngen_sui = suicide.pivot_table('suicides_no', index='generation', aggfunc='sum')\nx = gen_sui.index.values\ny = gen_sui.values\ny = y.reshape(6,)\n\nfig, ax = plt.subplots(figsize=(10, 6))\nexplode = (0.1,0.1,0.1,0.5,0.1,0.1)\nax.pie(y, explode=explode, labels=x, autopct='%1.1f%%', shadow=True, startangle=0)\nax.axis('equal')\nplt.show()","3b90a8fb":"suide_pairplot = suicide.fillna(method='bfill')\nsuide_pairplot.head(2)","6097ebc8":"sb.pairplot(suide_pairplot , hue='age')","135f250c":"sb.distplot(suicide.iloc[:,6])\nplt.show()","6160fe29":"## Pairplot through age group","0ca39cce":"## Generation evaluation","2dec4478":"## GDP evalution of each country yearly basis","24d787d8":"## Number of suicides genderwise","823ff60b":"## Suicide rate over the period of time in each country\n","c2b3ac8a":"## Merge population and suicide no with yearlywise","8987b615":"## Suicides committed by various age groups in male and female in each country","fbb9fcb0":"## Suicide rate in male and female yearly","01e31675":"## Number of suicides committed in each country","844767aa":"## Population and suicide rate in yearly basics","898bd158":"## Evaluation  GDP of Albania country throughout the period","8de54ade":"## Number of suicides genderwise in each country","4465f358":"## Suicides committed by various age groups in male and female","0a5687d8":" ## Suicides committed by various age groups"}}