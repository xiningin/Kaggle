{"cell_type":{"eb5cdb60":"code","0aea50ae":"code","20d94ba9":"code","aae07869":"code","ceed2add":"code","3e9028ee":"code","13ab36f3":"code","b088f594":"code","2a46359a":"markdown","63da7e84":"markdown","9d941e70":"markdown","e4dac09b":"markdown"},"source":{"eb5cdb60":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport folium\n\ncoronavirus_rj_case_metadata = pd.read_csv('..\/input\/coronavirus-rio-de-janeiro\/coronavirus_rj_case_metadata.csv')\nspatial_rj_neighborhoods = gpd.read_file('..\/input\/coronavirus-rio-de-janeiro\/spatial_rj_neighborhoods.gpkg')","0aea50ae":"coronavirus_rj_case_metadata.info()","20d94ba9":"fig, (ax1, ax2) = plt.subplots(ncols=2, figsize=(12, 4))\n\ncoronavirus_rj_case_metadata.faixa_et\u00e1ria.value_counts().sort_index()[:-1].plot(kind='barh', ax=ax1, title='Coronavirus RJ Cases by Age', xlim = (0, 600));\ncoronavirus_rj_case_metadata.sexo.value_counts().sort_index()[:-1].plot(kind='barh', title='Coronavirus RJ Cases by Sex', xlim = (0, 1400));\n\nfor p in ax1.patches:\n    ax1.annotate(\"%.0f\" % p.get_width(), (p.get_x() + p.get_width(), p.get_y()), xytext=(2, 4), textcoords='offset points')\nfor p in ax2.patches:\n    ax2.annotate(\"%.0f\" % p.get_width(), (p.get_x() + p.get_width(), p.get_y()), xytext=(2, 25), textcoords='offset points')","aae07869":"fig, (ax1, ax2) = plt.subplots(ncols=2, figsize=(12, 4))\n\ncoronavirus_rj_case_metadata.hospitaliza\u00e7\u00f5es.value_counts(normalize=True).plot(kind='bar', ylim=(0, 1), title='Hospitalized?', ax=ax1)\ncoronavirus_rj_case_metadata.uti.value_counts(normalize=True).plot(kind='bar', ylim=(0, 1), title='Intensive Care Unit?', ax=ax2)\n\nfor ax in [ax1, ax2]:\n    for p in ax.patches:\n        ax.annotate(\"%.2f\" % p.get_height(), (p.get_x() + p.get_width() \/ 2., p.get_height()), ha='center', va='center', xytext=(0, 10), textcoords='offset points')","ceed2add":"fig, (ax1, ax2) = plt.subplots(ncols=2, figsize=(12, 4))\n\n(coronavirus_rj_case_metadata [coronavirus_rj_case_metadata.tp_gestao.isin(['PUBLICA', 'PARTICULAR'])]\n     .tp_gestao.value_counts(normalize=True)\n     .plot(kind='bar', ylim=(0, 1), title='Hospital Management', ax=ax1));\n\n(coronavirus_rj_case_metadata [coronavirus_rj_case_metadata.tipo_municipal.isin(['SMS', 'PART', 'SES', 'FED', 'MIL'])]\n     .tipo_municipal.value_counts(normalize=True)\n     .plot(kind='bar', ylim=(0, 1), title='Hospital Category', ax=ax2));\n\nfor ax in [ax1, ax2]:\n    for p in ax.patches:\n        ax.annotate(\"%.2f\" % p.get_height(), (p.get_x() + p.get_width() \/ 2., p.get_height()), ha='center', va='center', xytext=(0, 10), textcoords='offset points')","3e9028ee":"spatial_rj_neighborhoods.info()","13ab36f3":"spatial_rj_neighborhoods[spatial_rj_neighborhoods.lat < 0].plot('cases', markersize='cases');","b088f594":"coronavirus_rj_map = folium.Map(location = [-22.9, -43.4], zoom_start = 11)\n\nincidents_accident = folium.map.FeatureGroup()\nlatitudes = list(spatial_rj_neighborhoods[spatial_rj_neighborhoods.lat < 0].lat)\nlongitudes = list(spatial_rj_neighborhoods[spatial_rj_neighborhoods.lat < 0].lon)\nlabels = list(spatial_rj_neighborhoods[spatial_rj_neighborhoods.lat < 0].neighborhood)\ncase_numbers = list(spatial_rj_neighborhoods[spatial_rj_neighborhoods.lat < 0].cases)\ndeath_numbers = list(spatial_rj_neighborhoods[spatial_rj_neighborhoods.lat < 0].deaths)\n\nfor lat, lng, label, cases, deaths in zip(latitudes, longitudes, labels, case_numbers, death_numbers):\n    folium.Circle(\n      location = [lat, lng], \n      tooltip = label + f':\\n Casos - {cases}\\n    Mortes - {deaths}',\n      radius = cases * 10,\n      fill= True\n     ).add_to(coronavirus_rj_map) \n    \ncoronavirus_rj_map","2a46359a":"### Coronavirus RJ Cases - Age Group and Sex","63da7e84":"### Spatial Dataset","9d941e70":"### Fraction of Cases According to Hospital Management","e4dac09b":"### Fraction of Cases Demanding Hospitalization \/ Intensive Care Unit"}}