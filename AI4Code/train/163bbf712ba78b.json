{"cell_type":{"2a1b7596":"code","c45f5ee2":"code","7831dc5e":"code","567a2054":"code","c7f43e8e":"code","7a0e94eb":"code","b65b95bf":"code","0d24b5ec":"code","2c619be1":"code","7ed37f1d":"code","d64bcf4f":"code","de4c6ff8":"code","6218b236":"code","ebe8a62d":"code","a27d1a39":"code","1b7677bf":"code","b196c00a":"code","556801f2":"code","4f6f1391":"code","fa25e41c":"code","67bbf689":"code","2aabcb88":"code","d9042a46":"code","db5cf764":"code","13ebe2b7":"code","70cca904":"code","4710702a":"code","36aad81e":"code","8f2d55cd":"markdown","eb0f0abb":"markdown","e5b3cb27":"markdown","8fb71580":"markdown","ea6e3ce4":"markdown","cba56209":"markdown","de435fc1":"markdown","c0835c05":"markdown","1612e483":"markdown","4f58aff2":"markdown","e9f28eef":"markdown","f8de5a5c":"markdown","6d0de0dd":"markdown","22f2f76c":"markdown","666da710":"markdown","07540abc":"markdown","b42734dd":"markdown","be9140eb":"markdown","75664d58":"markdown","306bec18":"markdown"},"source":{"2a1b7596":"### Libraries\n\n# Importing and Data Manipulation\nimport pandas as pd\nimport numpy as np\nimport math\n\n# Graphs\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Stats\nfrom scipy import stats\nimport statsmodels.api as sm\n\n# Data\neduData = pd.read_csv(\"..\/input\/students-performance-in-exams\/StudentsPerformance.csv\")","c45f5ee2":"# Type of the Variables\nprint(eduData.info())\n\n# Checking for duplicates\nprint(eduData[eduData.duplicated()])\n\n# Cheking for unique values\nfor i in eduData.columns:\n    print(\"Unique value for the column: \" + i)\n    print(eduData[i].unique())\n    print(\"\\n\")\n\n# Basic Statistics\neduData.describe()","7831dc5e":"eduData[eduData['math score'] == 0] ","567a2054":"# Checking for NULL values\nprint(eduData.isnull().sum())","c7f43e8e":"### Data Transformation\nfor i in eduData.columns[0:5]:\n    print(\"Applying transformation in the data column: \" + i)\n    eduData[i] = pd.Categorical(eduData[i])\n    print(\"\\n\")","7a0e94eb":"# Creating Boxplot Gender vs Subject\n\nfig, axes = plt.subplots(1, 3, figsize=(15, 5), sharey=True)\nfig.suptitle('Boxplot Gender by Subject')\n\n# Math Score\nsns.boxplot(ax=axes[0], y='math score', x='gender', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[0].set_title(\"Math Score\")\n\n\n# Reading Score\nsns.boxplot(ax=axes[1], y='reading score', x='gender', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[1].set_title(\"Reading Score\")\n\n# Writing Score\nsns.boxplot(ax=axes[2], y='writing score', x='gender', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[2].set_title(\"Writing Score\")","b65b95bf":"print(eduData.groupby(['gender']).median()[['math score','reading score','writing score']])\n\nprint(eduData.groupby(['gender']).std()[['math score','reading score','writing score']])","0d24b5ec":"# Creating Boxplot Race\/Ethnicity vs Subject\n\nfig, axes = plt.subplots(1, 3, figsize=(15, 5), sharey=True)\nfig.suptitle('Boxplot race\/ethnicity by Subject')\n\n# Math Score\nsns.boxplot(ax=axes[0], y='math score', x='race\/ethnicity', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[0].set_title(\"Math Score\")\n\n\n# Reading Score\nsns.boxplot(ax=axes[1], y='reading score', x='race\/ethnicity', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[1].set_title(\"Reading Score\")\n\n# Writing Score\nsns.boxplot(ax=axes[2], y='writing score', x='race\/ethnicity', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[2].set_title(\"Writing Score\")","2c619be1":"print(eduData.groupby(['race\/ethnicity']).median()[['math score','reading score','writing score']])\n\nprint(eduData.groupby(['race\/ethnicity']).std()[['math score','reading score','writing score']])","7ed37f1d":"eduData['race\/ethnicity'].value_counts().plot.pie(autopct=\"%1.1f%%\")\nplt.show()","d64bcf4f":"# Creating Boxplot Parental Level of Education vs Subject\n\nfig, axes = plt.subplots(1, 3, figsize=(15, 5), sharey=True)\nfig.suptitle('Boxplot Parental Level of Education by Subject')\n\n# Math Score\nsns.boxplot(ax=axes[0], y='math score', x='parental level of education', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[0].set_title(\"Math Score\")\n\n\n# Reading Score\nsns.boxplot(ax=axes[1], y='reading score', x='parental level of education', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[1].set_title(\"Reading Score\")\n\n# Writing Score\nsns.boxplot(ax=axes[2], y='writing score', x='parental level of education', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[2].set_title(\"Writing Score\")","de4c6ff8":"print(eduData.groupby(['parental level of education']).median()[['math score','reading score','writing score']])\n\nprint(eduData.groupby(['parental level of education']).std()[['math score','reading score','writing score']])","6218b236":"eduData['parental level of education'].value_counts().plot(kind = 'barh')\nplt.show()","ebe8a62d":"# Creating Boxplot Lunch vs Subject\n\nfig, axes = plt.subplots(1, 3, figsize=(15, 5), sharey=True)\nfig.suptitle('Boxplot Lunch by Subject')\n\n# Math Score\nsns.boxplot(ax=axes[0], y='math score', x='lunch', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[0].set_title(\"Math Score\")\n\n\n# Reading Score\nsns.boxplot(ax=axes[1], y='reading score', x='lunch', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[1].set_title(\"Reading Score\")\n\n# Writing Score\nsns.boxplot(ax=axes[2], y='writing score', x='lunch', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[2].set_title(\"Writing Score\")","a27d1a39":"print(eduData.groupby(['lunch']).median()[['math score','reading score','writing score']])\n\nprint(eduData.groupby(['lunch']).std()[['math score','reading score','writing score']])","1b7677bf":"# Creating Boxplot Test Preparation Course vs Subject\n\nfig, axes = plt.subplots(1, 3, figsize=(15, 5), sharey=True)\nfig.suptitle('Boxplot Test Preparation Course by Subject')\n\n# Math Score\nsns.boxplot(ax=axes[0], y='math score', x='test preparation course', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[0].set_title(\"Math Score\")\n\n\n# Reading Score\nsns.boxplot(ax=axes[1], y='reading score', x='test preparation course', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[1].set_title(\"Reading Score\")\n\n# Writing Score\nsns.boxplot(ax=axes[2], y='writing score', x='test preparation course', \n                 data=eduData, \n                 palette=\"colorblind\")\naxes[2].set_title(\"Writing Score\")","b196c00a":"print(eduData.groupby(['test preparation course']).median()[['math score','reading score','writing score']])\n\nprint(eduData.groupby(['test preparation course']).std()[['math score','reading score','writing score']])","556801f2":"eduCorr = eduData.corr()\nsns.heatmap(eduCorr,xticklabels=eduCorr.columns, yticklabels=eduCorr.columns,annot=True)","4f6f1391":"# Data Distribution\nsns.pairplot(eduData)","fa25e41c":"from statsmodels.graphics.gofplots import qqplot\n\n# Clearing Axes\naxes[0].clear();axes[1].clear();axes[2].clear()\n# Checking Normality\nfig.suptitle('Theorical Normal Distribution')\n\nqqplot(eduData['math score'], line = 's', ax = axes[0])\nqqplot(eduData['reading score'], line = 's', ax = axes[1])\nqqplot(eduData['writing score'], line = 's', ax = axes[2])","67bbf689":"# Preparing Dataset for Linear Regression\neduDataLR = pd.get_dummies(eduData)\n\n# Explanatory Variables\neduDataLR_X = eduDataLR.drop(columns=['math score','reading score', 'writing score'])\neduDataLR_X = sm.add_constant(eduDataLR_X)","2aabcb88":"# Math Score Model\nmodelMathScore = sm.OLS(eduDataLR['math score'],eduDataLR_X).fit()\nmodelMathScore.summary()","d9042a46":"# Reading Model\nmodelReadingScore = sm.OLS(eduDataLR['reading score'],eduDataLR_X).fit()\nmodelReadingScore.summary()","db5cf764":"# Writing Model\nmodelReadingScore = sm.OLS(eduDataLR['writing score'],eduDataLR_X).fit()\nmodelReadingScore.summary()","13ebe2b7":"eduDataReduce = eduData.drop(columns=['gender','lunch'])\n\n# Preparing Dataset for Linear Regression\neduDataLR = pd.get_dummies(eduDataReduce)\n\n# Explanatory Variables\neduDataLR_X = eduDataLR.drop(columns=['math score','reading score', 'writing score', ])\neduDataLR_X = sm.add_constant(eduDataLR_X)\n","70cca904":"# Math Score Model\nmodelMathScore = sm.OLS(eduDataLR['math score'],eduDataLR_X).fit()\nmodelMathScore.summary()","4710702a":"# Reading Model\nmodelReadingScore = sm.OLS(eduDataLR['reading score'],eduDataLR_X).fit()\nmodelReadingScore.summary()","36aad81e":"# Writing Model\nmodelReadingScore = sm.OLS(eduDataLR['writing score'],eduDataLR_X).fit()\nmodelReadingScore.summary()","8f2d55cd":"Applying the Linear Regression with Math Score variable as target, we can confirm few evidences already saw in the exploratory analysis. The variable Gender shows us that female perform less than male in Mathmatics (approximately five score points less). \n\nAlso, students who belong to the race\/ethnicity group E may obtain much more score from those who belongs to the race\/ethnicity group A,B, C or D (approximately ten times more than group A and two times more than group D). \n\nParents with Master Degree also shows strong evidence that affect the perfomance of students in the Math Score exame as well Lunch and Course Preparation.\n\nImportance to notice that for **parental level of education_high school**, **parental level of education_some high school**, and **race\/ethnicity_group A** the p-value was not significant.","eb0f0abb":"# Linear Regression\n\nOne model that may very powerful and useful is the Linear Regression. There is a full theorical background that explains how the Ordinary Least Square works very well in the attempt to explain the linear relationship between data that I will not work here, but strongly advise everyone to understand.\n\nThe relationship between the grade score archive by the students and their social background variables may be describe through Linear Regression. In our case, where the target variable is numerical and the explanatory variables are categorical, we will perform a Linear Regression using dummies variables. \n\nFew preparations are needed to obatin a dataset compatible with the regression, and there are described in the code.","e5b3cb27":"# Loading Libraries and Data","8fb71580":"# Cleaning the Data\n\nOne of the most important and dificult process in the data analysis is the cleaning of our data. Fixing or removing incorrect, corrupted, duplicates, or incomplete data demands not only formal understading, but also a sense of interpretation of the dataset.","ea6e3ce4":"## Introduction\n\nUndoubtedly, one of the most important concern of society is education. Knowledge and information were for a long time resources not available for all population. Fortunately, we had advanced a lot in the access of education for most of the people helping to improve the social indicators.\n\nNevertheless, there are distinctions in the exam perfomances among students. Understading what are the reasons for those distinctions may help policy makers to formualte better education program for the society.\n\nSeen in these terms, I will apply a linear regression over the grade of the students using their social background. The idea is to find evidences if, and how, social background may affect the students perfomance.","cba56209":"Data distribution show us the shape the data we analysing, it is very important when we are modeling. There is a cleary linear association between the subjects, that makes sense once students who have good performance in one subject may have good perfomance in other subjects as well. \n\nAlso, all the three subjects seems to have a bell shape (condition to the Linear Regression)","de435fc1":"Boxplot is one of the most important tools in the descriptive statistics. Visually show the distribution of numerical data through the data quartiles. I ploted boxplots for each categorical variable using the grades archive by the students.\n\n* Gender vs Subject: noticeable that female students has less grade in Math subjects than males; However, male students has less grade in Reading and Writing score; Standard Deviation is very similar for both genders.\n\n* Race\/Ethnicity vs Subject: when checking the boxplot through race\/ethnicity there is a slight increase for each group from A to E.\n\n* Parental Level of Education by Subject: students whose parents has high level of education hold better grades score.\n\n* Lunch by Subject: It is very clear that students with standard lunch hold better grades scores.\n\n* Test Preparation Course by Subject: The same pattern is noticeable in test preparation course, students that receive a preparion course hold better grades score.\n\nOther descriptive analysys show that the data is unbalanced for Race\/Ethnicity, probably reflecting the inequallity present among the students. Also, among the parents is posible to see that many of them hold a lack of formal education what may be associate with low perfomance of few students.","c0835c05":"In all situations the models dimished by removing the variables. The R-square, AIC, and BIC are worst than the previous models. Therefore, my attempt to apply parsimonious did not work.","1612e483":"Most of the variables are categorial. Nevertheless, when we import the dataset to our analysis environment the system interpret them as strings. Because of that I apply a transformation in the columns of my dataset. ","4f58aff2":"# Data Transformation","e9f28eef":"# Exploratory Analysis\n\nThis part is one of my favorite in the data analysis process. Is is used to analyze and investigate data in many ways. Is it important to summarize the main characteristics that contains the data for subsequent data modeling. The main idea is to look the data to identify patterns, interesting relations among the variables, and anomalous characteristics.","f8de5a5c":"I always try to be very careful when I make assumptions about the data. I would like to apply a Linear Regression to understating how social background variables may affect the perfomance of the students in the exam. \n\nOne tool very useful to test the normality of our data is Q-Q Plot. It is a graphical technique for determining if the data comes from a theorical distribution, in our case we want to check if our data comes from a Normal Distribution. The data seems fit in the Normal Distribution, even if the values in the tail are escaping from our theorical Distribution.  ","6d0de0dd":"An overview over the data shows us that the dataset contains eight variables and one thousand observations (students). Basics statistics shows us that the grade avarage of Math is lower than for Reading and Writing. Also, it is possible to notice that one person has zero score in the Math Score Grade.","22f2f76c":"In many times is important to try develop parsimonious, that means, explain the data with the minimum number of parameters posible. Less complex models may describe better the relationship between target and explanatory variables.\n\nI will try to remove gender and lunch from the model to attempt improve my linear model. I choosed both variables because I believe gender should not affect the perfomance of any student in the exams and lunch because I believe in some way race\/ethnicity hold that information implicity.\n\nRemoving **gender** and **lunch**.","666da710":"Data may have positive, negative, or no correlation. It is interesting to describe how associate may be the three subjects. Reading and Writing have more strong association than Reading and Math or Writing and Math. ","07540abc":"Now, we apply the explanatory variables in a new target variable Reading Score. The results for gender now are the opposite than before for Gender, female perform better in Reading than male (approximately seven score points more). The distances between students between race\/ethnicity are less abrupt than before, but still very high. \n\nThe other veraibles follow a similar pattern than the previous analysis.","b42734dd":"None of the dataset observations are null.","be9140eb":"The Linear Regression for Writing Score target varaible shows very similar results of Reading Score target. Nevertheless, the R-square was a bit better for this modeling.  ","75664d58":"We noticed that one person had a zero score in the math test. Usually I would drop this observation from the dataset for being a probably input error, but checking the the other grades of that studend I realise that actually the general grades are very low. Therefore, I will keep the observation in the dataset","306bec18":"# Students Perfomance"}}