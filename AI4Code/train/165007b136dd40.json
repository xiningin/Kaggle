{"cell_type":{"9f4dd4b5":"code","79bf95d6":"code","3d06e860":"code","f821b3bf":"code","dfd4b177":"code","234731db":"code","bf4cbce9":"code","553b7518":"code","ed1366f2":"code","093af3d3":"code","4c408faf":"code","257fc2f5":"code","096653c8":"code","cd086ae6":"code","ed0d38d2":"code","e0bdc18b":"code","37cf9a3a":"code","b26f7bfa":"code","4f1ad8b1":"markdown","363c5977":"markdown","14a94443":"markdown","55789d37":"markdown","4f566f40":"markdown","4f2193f2":"markdown","9ff5bc6d":"markdown","89997c8e":"markdown","6d24e276":"markdown","4c2e5c40":"markdown","1a74fcf6":"markdown","440aa486":"markdown","a808ba49":"markdown","8492a28b":"markdown","3b4bc1d1":"markdown","2c7b5bc6":"markdown","2580bf65":"markdown","5940c9b5":"markdown","c4260a85":"markdown","4e4ccd90":"markdown","cd1bc805":"markdown","8cd302c8":"markdown","a2dfb523":"markdown","8ed29e2b":"markdown","18417e4a":"markdown","e5dfef2f":"markdown","79af6d60":"markdown","d3ceb2cd":"markdown","c0d89230":"markdown","b05d40cd":"markdown","486b3728":"markdown"},"source":{"9f4dd4b5":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom datetime import datetime\npd.set_option('display.max_columns',None)\ndf = pd.read_csv('\/kaggle\/input\/hotel-booking-demand\/hotel_bookings.csv')\ndf.head()","79bf95d6":"df.shape # Number of rows and columns","3d06e860":"df.describe()","f821b3bf":"percentage_missing_values = round(df.isnull().sum()*100\/len(df),2).reset_index()\npercentage_missing_values.columns = ['column_name','percentage_missing_values']\npercentage_missing_values = percentage_missing_values.sort_values('percentage_missing_values',ascending = False)\npercentage_missing_values","dfd4b177":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"hotel\", data = df)\nplt.title('Hotel Type')\nplt.xlabel('Hotel')\nplt.ylabel('Total Bookings')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.4 , p.get_height()+100)) ","234731db":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"is_canceled\", data = df, palette=\"RdYlGn\")\nplt.title('Is Canceled?')\nplt.xlabel('Is Canceled?')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.4 , p.get_height()+100)) ","bf4cbce9":"def month_converter(month):\n    months = ['January', 'February', 'March', 'April', 'May', 'June','July', 'August', 'September', 'October', 'November', 'December']\n    return months.index(month) + 1\ndf['arrival_month'] = df['arrival_date_month'].apply(month_converter)\ndf['arrival_year_month'] = df['arrival_date_year'].astype(str) + \" _ \" + df['arrival_month'].astype(str)\n\nplt.figure(figsize=(24,8))\nax = sns.countplot(x=\"arrival_year_month\", data = df, palette=\"CMRmap_r\")\nplt.title('Arrival Year_Month')\nplt.xlabel('arrival_year_month')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.2 , p.get_height()+50)) ","553b7518":"df['Arrrival Date'] = df.apply(lambda row: datetime.strptime(f\"{int(row.arrival_date_year)}-{int(row.arrival_month)}-{int(row.arrival_date_day_of_month)}\", '%Y-%m-%d'), axis=1)\ndf['arrival_day_of_week'] = df['Arrrival Date'].dt.day_name()\nweekdays = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"]\ndf['arrival_day_of_week'] = pd.Categorical(df['arrival_day_of_week'],categories = weekdays)\narrivals = pd.pivot_table(df,columns = 'arrival_day_of_week',index = 'arrival_month',values = 'reservation_status',aggfunc = 'count')\nfig, ax = plt.subplots(figsize = (16,11))\nax = sns.heatmap(arrivals ,annot=True, fmt=\"d\",cmap = 'rocket_r')","ed1366f2":"df[['adults','children','babies']] = df[['adults','children','babies']].fillna(0).astype(int)\ndf['total_guests'] = df['adults']+ df['children']+ df['babies']\nplt.figure(figsize=(12,8))\nax = sns.countplot(x=\"total_guests\", data = df,palette = 'twilight_shifted')\nplt.title('Number of Guests')\nplt.xlabel('total_guests')\nplt.ylabel('Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.1 , p.get_height()+100)) ","093af3d3":"plt.figure(figsize=(20,8))\ndf_country = df['country'].value_counts().nlargest(25).astype(int)\nax = sns.barplot(df_country.index, df_country.values)\nplt.title('Country')\nplt.xlabel('Country')\nplt.ylabel('Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x(), p.get_height()+100)) ","4c408faf":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"market_segment\", data = df,palette = 'magma',order = df['market_segment'].value_counts().index)\nplt.title('Market Segment')\nplt.xlabel('market_segment')\nplt.ylabel('Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.2 , p.get_height()+100)) ","257fc2f5":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"distribution_channel\", data = df,palette = 'viridis',order = df['distribution_channel'].value_counts().index)\nplt.title('Distribution Channel')\nplt.xlabel('distribution_channel')\nplt.ylabel('Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.3 , p.get_height()+100)) ","096653c8":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"is_repeated_guest\", data = df, palette=\"RdYlGn\")\nplt.title('Is Repeated Guest?')\nplt.xlabel('is_repeated_guest')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.4 , p.get_height()+100)) ","cd086ae6":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"customer_type\", data = df, palette=\"nipy_spectral\",order = df['customer_type'].value_counts().index)\nplt.title('Customer Type')\nplt.xlabel('customer_type')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.3 , p.get_height()+100)) ","ed0d38d2":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"required_car_parking_spaces\", data = df, palette=\"jet_r\",order = df['required_car_parking_spaces'].value_counts().index)\nplt.title('Total Car Parking Spaces Required')\nplt.xlabel('required_car_parking_spaces')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.35 , p.get_height()+100)) ","e0bdc18b":"plt.figure(figsize=(12,8))\nax = sns.countplot(x=\"deposit_type\", data = df, palette=\"jet_r\",order = df['deposit_type'].value_counts().index)\nplt.title('Deposit Type')\nplt.xlabel('deposit_type')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.35 , p.get_height()+100)) ","37cf9a3a":"df['total_nights_stayed'] = df['stays_in_weekend_nights'] + df['stays_in_week_nights']\nplt.figure(figsize=(20,8))\nax = sns.countplot(x=\"total_nights_stayed\", data = df, palette=\"tab10\")\nplt.title('Total Nights Stayed')\nplt.xlabel('total_nights_stayed')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()-0.1 , p.get_height()+100)) ","b26f7bfa":"plt.figure(figsize=(20,8))\nax = sns.countplot(x=\"reservation_status\", data = df, palette=\"tab20\")\nplt.title('Reservation Status')\nplt.xlabel('reservation_status')\nplt.ylabel('Total Count')\nfor p in ax.patches:\n    ax.annotate((p.get_height()),(p.get_x()+0.35 , p.get_height()+100)) ","4f1ad8b1":"Again as we see, there were lot of cancellations.","363c5977":"### Repeated Guests","14a94443":"### Reservation Status","55789d37":"Vehicle parking is one of the main aspect in hotel booking. Customers generally tend to book hotels which provide good parking facilities.","4f566f40":"### Country of Origin","4f2193f2":"Most of the bookings were made online.","9ff5bc6d":"### Hotel Type","89997c8e":"### Deposit Type","6d24e276":"![](https:\/\/searchengineland.com\/figz\/wp-content\/seloads\/2014\/04\/hotel-bell-customer-service-ss-1920.jpg)","4c2e5c40":"Sometimes customers tend to cancel their reservation due to various reasons. Let's see how many of them have canceled.","1a74fcf6":"### Please do upvote and support if you liked this notebook.","440aa486":"### Period of Stay","a808ba49":"As we see, we just have three columns with missing values.That's a good sign.","8492a28b":"# To Be Continued...","3b4bc1d1":"### Total Guests","2c7b5bc6":"One-Third of the users have canceled their reservation. This is a serious issue for the hotel in terms of revenue. We will get back to the prediction part of this in the later stage of this notebook. Moving on.","2580bf65":"### Arrival Month Vs Weekday","5940c9b5":"### Arrival Time","c4260a85":"### Customer Type","4e4ccd90":"With the availability of internet and smartphones, the number of internet users in the world has already crossed 3 billion marks. The Internet has made various activities and tasks easier. This convenience of the internet has impacted travel and hotel industry. This has resulted in the origin of online hotel booking engine. Nowadays, when people plan for a vacation or holiday, they start it by exploring places and deals on the internet.Online Hotel Booking Engine has smoothened the process of hotel booking. The best part of online hotel booking engine is that it allows travelers to book a hotel in advance to avoid any type of inconvenience later. That\u2019s why many hotels are integrating it with their website. Benefits of hotel booking engine: Hotel booking engine increases the revenue and profit of hotels. As everyone is using internet nowadays and the number of users is increasing exponentially. So, the numbers of people who book hotels online are also increasing. Earlier hoteliers used to give commission to agents, but hotel booking engine gives hoteliers business directly. This sums up the profit amount.","cd1bc805":"### Percentage fo missing values","8cd302c8":"Seasonality plays an important role in hotel hospitality industry. ","a2dfb523":"As we can see, generally 2 guests stay in the hotel. It is also interesting to see that there are instances of over 50 guests which denotes that these were probably corporate sector guests. ","8ed29e2b":"### Car Parking","18417e4a":"### Is Canceled ? ","e5dfef2f":"Most of the customers on average stayed from about 1-4 days.","79af6d60":"As we can see, most of the customers book hotel rooms during April-June season and the bookings are low from November-January.","d3ceb2cd":"### Market Segment","c0d89230":"### Distribution Channel","b05d40cd":"There were good share of guests who visited and stayed in the hotel more than once, which shows that the overall service of the hotel was good.","486b3728":"Most of the guests belonged to Portugal,which indicates that probably this dataset belongs to some hotel in Portugal."}}