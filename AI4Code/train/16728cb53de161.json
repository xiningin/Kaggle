{"cell_type":{"ed833342":"code","cb722d7c":"code","1cf1ff01":"code","67efd146":"code","e8b36662":"code","7e2eb1e4":"code","ac295f18":"code","21c5381f":"code","b76b5e31":"code","bdad9d1b":"code","2586ee23":"code","cfb4d59d":"code","da24d1b5":"code","99160726":"code","ad74ce40":"code","a507036b":"code","11c1ffb0":"code","d3e97838":"code","4bf06a12":"code","dffbd36b":"code","1fbd2b90":"code","9efe73b1":"code","3f88d198":"code","b7a9a781":"markdown","c933e821":"markdown","0261b631":"markdown","556f0320":"markdown","f8a56f3a":"markdown","9a1f11c8":"markdown","47675252":"markdown"},"source":{"ed833342":"# Supress Warnings\nimport warnings\nwarnings.filterwarnings('ignore')","cb722d7c":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os, sys\n\npd.set_option('display.max_columns', 500)\npd.set_option('display.max_rows', 500)\nplt.rcParams[\"figure.figsize\"] = [12,8]","1cf1ff01":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","67efd146":"india_export = pd.read_csv(r\"\/kaggle\/input\/india-trade-data\/2018-2010_export.csv\")\nindia_export.head()","e8b36662":"india_import = pd.read_csv(r\"\/kaggle\/input\/india-trade-data\/2018-2010_import.csv\")\nindia_import.head()","7e2eb1e4":"# export data\nYear_wise_export = india_export.groupby(\"year\").sum()\nYear_wise_export = Year_wise_export.drop(\"HSCode\", axis=1).reset_index()\n\n# import data\nYear_wise_import = india_import.groupby(\"year\").sum()\nYear_wise_import = Year_wise_import.drop(\"HSCode\", axis=1).reset_index()\n\nYear_wise_trade = pd.DataFrame(Year_wise_export)\nYear_wise_trade = Year_wise_trade.rename(index=str, columns={\"value\": \"Export Value\", \"year\" : \"Year\" })\nimport_value = Year_wise_import.value\nYear_wise_trade[\"Import Value\"] = list(import_value)\nYear_wise_trade","ac295f18":"plt.plot(Year_wise_trade.Year, Year_wise_trade[\"Export Value\"])\nplt.plot(Year_wise_trade.Year, Year_wise_trade[\"Import Value\"])\n\nplt.legend(['y = Export Value', 'y = Import Value'], loc='upper left')\nplt.show()","21c5381f":"import_commodity_wise = india_import.groupby([\"Commodity\"]).sum().drop([\"HSCode\", \"year\"], axis=1).reset_index()\nimport_commodity_wise = import_commodity_wise.sort_values(by ='value' , ascending=False)","b76b5e31":"india_import_pivot = pd.pivot_table(india_import,values='value',index = 'Commodity',columns='year').reset_index()","bdad9d1b":"india_import_pivot[\"Total\"] = import_commodity_wise.value\nindia_import_pivot = india_import_pivot.sort_values(by ='Total' , ascending=False)","2586ee23":"top_five_commodity = india_import_pivot.sort_values(by ='Total' , ascending=False).head(5).reset_index()\ntop_five_commodity = top_five_commodity.drop([\"index\",\"Total\"], axis=1)","cfb4d59d":"top_five_commodity.set_index(\"Commodity\")","da24d1b5":"top_five_commodity = top_five_commodity.transpose().reset_index()","99160726":"new_header = top_five_commodity.iloc[0] #grab the first row for the header\ntop_five_commodity = top_five_commodity[1:] #take the data less the header row\ntop_five_commodity.columns = new_header #set the header row as the df header","ad74ce40":"top_five_commodity","a507036b":"top_five_commodity = top_five_commodity.rename(index=str, columns={\"Commodity\": \"Year\"})\ntop_five_commodity = top_five_commodity.set_index(\"Year\")\ntop_five_commodity","11c1ffb0":"india_import_with_country = india_import.groupby(\"country\").sum()\nindia_import_with_country = india_import_with_country.drop([\"year\",\"HSCode\"], axis = 1)\nindia_import_with_country = india_import_with_country.sort_values(by ='value' , ascending=False)\nindia_import_with_country_top_100 = india_import_with_country.head(100).reset_index()","d3e97838":"plt.figure(figsize=(20,10))\ncountry_wise_plot = sns.barplot(x = \"country\", y= \"value\", data=india_import_with_country_top_100)\ncountry_wise_plot.set_xticklabels(country_wise_plot.get_xticklabels(), rotation=90)\nplt.show()","4bf06a12":"india_export_with_country = india_export.groupby(\"country\").sum()\nindia_export_with_country = india_export_with_country.drop([\"year\", \"HSCode\"], axis=1).sort_values(by = \"value\", ascending = False)\nindia_export_with_country_top_100 = india_export_with_country.head(100).reset_index()\nindia_export_with_country_top_100.head(10)","dffbd36b":"plt.figure(figsize=(20,10))\ncountry_wise_plot_export = sns.barplot(x = \"country\", y= \"value\", data=india_export_with_country_top_100)\ncountry_wise_plot_export.set_xticklabels(country_wise_plot_export.get_xticklabels(), rotation=90)\nplt.show()","1fbd2b90":"trade_relation_with_country = india_export_with_country.merge(india_import_with_country, on=\"country\", how='inner').reset_index()","9efe73b1":"trade_relation_with_country = trade_relation_with_country.rename(index=str, columns={\"value_x\": \"Export Value\", \"value_y\": \"Import Value\"})\ntrade_relation_with_country_top = trade_relation_with_country.head(50)\ntrade_relation_with_country_top.head()","3f88d198":"import squarify \n\ncountry = list(trade_relation_with_country_top.country)\nImport_value = list(trade_relation_with_country_top[\"Import Value\"])\nExport_value = list(trade_relation_with_country_top[\"Export Value\"])\nImport_modified = []\nExport_modified = []\ntitle = []\nfor (x,y) in zip(Import_value,Export_value):\n    x = round(x,0)\n    y = round(y,0)\n    Import_modified.append(x)\n    Export_modified.append(y)\n    \nfor (v, n, m) in zip(country, Import_modified, Export_modified):\n    title.append(v+'\\n Import = '+str(n)+'\\n Export = '+str(m))\n    \nplt.rcParams['figure.figsize'] = (20.0, 20.0)\nsquarify.plot(sizes=Import_modified, label=title, alpha=0.6 )\nplt.figure()\nplt.axis('OFF')\nplt.show()","b7a9a781":"### Treemap of import values for top 50 countries","c933e821":"### Importing data files.csv using pandas ","0261b631":"#### Now check the trading relation between the India and other countries","556f0320":"From the plot we see that `china` is the country from where we are importing the most value of commodities","f8a56f3a":"### Group by year, calculate the export and import value per year and plot those","9a1f11c8":"#### Above the top 5 commodities contribute more value. Let's plot those for each year.","47675252":"It seems to be in 2017 and 2018 there is spike in import value."}}