{"cell_type":{"0761104f":"code","39a15ce3":"code","50ae6ec4":"code","3aff35ec":"code","ebccb320":"code","ec48257e":"code","bd74cc9a":"code","33100b1d":"code","685d073f":"code","a00eb9a5":"code","24fc96a1":"code","b32a65cf":"code","c9af3e3b":"code","b66815e1":"code","05865aad":"code","879ba5c1":"code","8f745008":"code","51d2cebc":"code","82903654":"code","28226114":"code","793e94a2":"code","6a5aac05":"code","3cb54aa2":"code","53c217af":"code","bce45023":"code","2604af7d":"code","1b136201":"code","1687d32c":"code","e2ae60a3":"code","c0f75118":"code","99aa34a6":"code","3a426f73":"code","5006ead0":"code","8c33369f":"code","f88680ee":"code","62a91cae":"code","12bb3b74":"code","a828ab6f":"code","1e82b9fb":"code","4f93f879":"code","0c7c7c3a":"code","436a386f":"code","ac338600":"code","6ec1967c":"code","62674dcf":"markdown","0f8898a8":"markdown","d7223637":"markdown","be0919c3":"markdown","ae80dbaf":"markdown","ccc87c77":"markdown","712ba081":"markdown","39e974cd":"markdown","13e3adba":"markdown","34f0a76b":"markdown","f01fa464":"markdown","e0343c00":"markdown"},"source":{"0761104f":"import pandas as pd","39a15ce3":"# Fill in the line below: Specify the path of the CSV file to read\nwikia = pd.read_csv(\"..\/input\/fivethirtyeight-comic-characters-dataset\/marvel-wikia-data.csv\")\nchar_demo = pd.read_csv(\"..\/input\/marvel-superheroes\/marvel_characters_info.csv\")\n\nstats = pd.read_csv(\"..\/input\/marvel-superheroes\/charcters_stats.csv\")\npowers = pd.read_csv(\"..\/input\/marvel-superheroes\/superheroes_power_matrix.csv\")\n","50ae6ec4":"print(len(wikia))\nprint(len(char_demo))\nprint(len(stats))\nprint(len(powers))","3aff35ec":"# Print the first five rows of the data\nwikia.head(2)","ebccb320":"stats.head(5)","ec48257e":"powers.head(5)","bd74cc9a":"char_demo.head(5)","33100b1d":"char_demo = char_demo[char_demo.Publisher.isin([\"Marvel Comics\"])]\nchar_demo.head(5)","685d073f":"len(char_demo)","a00eb9a5":"# remove duplicates \nchar_demo_dups = char_demo.groupby(['Name', 'Gender']).ID.transform(max).to_frame()","24fc96a1":"len(char_demo[char_demo.ID == char_demo_dups.ID])","b32a65cf":"char_demo = char_demo[char_demo.ID == char_demo_dups.ID]","c9af3e3b":"char_demo[char_demo.Name == \"Nova\"]","b66815e1":"char_demo.loc[497,'Name'] = \"Nova II\"","05865aad":"char_demo[char_demo.Name.str.contains(\"Nova\")]","879ba5c1":"char_demo[char_demo.Name == \"Vindicator\"]","8f745008":"char_demo.loc[696,'Name'] = \"Vindicator II\"","51d2cebc":"char_demo[char_demo.Name.str.contains(\"Vindicator\")]","82903654":"stats[stats.Name.str.contains(\"Vindicator\")]","28226114":"stats[stats.Name.str.contains(\"Nova\")]","793e94a2":"stats.loc[418,'Name'] = \"Nova II\"","6a5aac05":"stats[stats.Name.str.contains(\"Nova\")]","3cb54aa2":"char_demo = char_demo.merge(stats, how='left', left_on='Name', right_on='Name')","53c217af":"powers.head(2)","bce45023":"powers.duplicated().sum()","2604af7d":"powers[powers.Name.str.contains(\"Vindicator|Nova\")]","1b136201":"print(len(char_demo))\nprint(len(powers))","1687d32c":"merge_out = char_demo.merge(powers, how='left', left_on=\"Name\", right_on=\"Name\")","e2ae60a3":"merge_out[merge_out.Name.str.contains('Nova|Vindicator')]","c0f75118":"merge_out.iloc[252,19:186] = merge_out.iloc[251,19:186]\nmerge_out.iloc[355,19:186] = merge_out.iloc[354,19:186]","99aa34a6":"merge_out[merge_out.Name.str.contains('Nova|Vindicator')]","3a426f73":"len(merge_out)","5006ead0":"wikia[wikia.duplicated()]","8c33369f":"len(wikia)","f88680ee":"marvel_demo_stats_powers = merge_out","62a91cae":"pd.set_option('display.max_rows', 200)\nmarvel_demo_stats_powers.isna().sum()","12bb3b74":"marvel_demo_stats_powers.drop(labels='Alignment_y',axis=1,inplace=True)","a828ab6f":"marvel_demo_stats_powers.to_csv('marvel_demo_stats_powers.csv')","1e82b9fb":"marvel_demo_stats_powers.Alignment_x.unique()","4f93f879":"marvel_demo_stats_powers.Gender.unique()","0c7c7c3a":"marvel_demo_stats_powers.EyeColor.unique()","436a386f":"marvel_demo_stats_powers.Race.unique()","ac338600":"marvel_demo_stats_powers.SkinColor.unique()","6ec1967c":"marvel_demo_stats_powers.Name[marvel_demo_stats_powers.SkinColor == '-']","62674dcf":"## Step 1: Attach data, load it","0f8898a8":"So if we join this to the new char_demo dataframe, Nova II (female) and Vindicator II (male) will not join to these, we will have to fill out these 2 columns manually.\n\nNow let's merge 'powers' to char_demo","d7223637":"We see that powers doesn't have any duplicates, but let's check 'Nova' and 'Vindicator'","be0919c3":"char_demo actually includes non-Marvel too, so let's remove those","ae80dbaf":"- Now, we have 2 marvel datasets\/dataframes 'marvel_demo_stats_powers' (382 unique characters) and 'wikia' which has 16376 unique characters.\n\n- We will analyze them separately in [Part 2](https:\/\/www.kaggle.com\/spatika\/demographics-of-marvel-comics-characters-part-2). \n\n- But in case they need to be merged, the name column can be used with some parsing since the formats are different.","ccc87c77":"---\n\n\n\n\n*Have questions or comments? Visit the [Learn Discussion forum](https:\/\/www.kaggle.com\/learn-forum\/161291) to chat with other Learners.*","712ba081":"In some cases like Nova, Vindicator, char_demo has both male and female characters. \nWe want to preserve both, as they have different stats.\nWe can name the second one with \"II\" suffix\nLet's do this for stats df which currently has: Nova, Nova and Vindicator, Vindicator II","39e974cd":"Note that some of the columns for both stats and powers fields are NaN\/blank","13e3adba":"## Step 2: Examine and clean if necessary\n","34f0a76b":"## Step 3: Explore the data\n\nDecide what fields we can visualize and how they may need to be transformed","f01fa464":"Columns 19 to 185 inclusive need to be copied to Nova II and Vindicator II from the first of each","e0343c00":"This notebook is adapted from the [final project template in Alexis Cooks's data visualization micro-course](https:\/\/www.kaggle.com\/alexisbcook\/exercise-final-project)"}}