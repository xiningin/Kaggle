{"cell_type":{"1ee6f769":"code","dd5eea88":"code","080636aa":"code","3dd87e84":"code","17541624":"code","5a73da19":"code","0d545f73":"code","4291fc88":"code","e646a108":"code","a0253eb0":"code","8066bd6c":"code","13881c7c":"code","154a8ca7":"code","d646f16c":"code","9a9f15bc":"markdown","755a5d14":"markdown","1d29e35f":"markdown","5621ea31":"markdown","a684bb49":"markdown","a5efed17":"markdown"},"source":{"1ee6f769":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nplt.style.use('fivethirtyeight')\nimport seaborn as sns\nimport math\nfrom matplotlib.ticker import MaxNLocator\nfrom fbprophet import Prophet\nimport squarify\nfrom IPython.display import HTML\nfrom subprocess import check_output\n\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\n\n\n# Any results you write to the current directory are saved as output.\n\n","dd5eea88":"# Loading the Data\nState_time_series=pd.read_csv(\"..\/input\/State_time_series.csv\", parse_dates=True)\nState_time_series.Date=pd.to_datetime(State_time_series.Date)\nState_time_series['year'] = State_time_series.Date.dt.year\n","080636aa":"# GET Costliest States\nstates = set(State_time_series[\n    ~State_time_series['ZHVI_AllHomes'].isnull() &\n    ~State_time_series['Sale_Prices'].isnull()\n                      ]['RegionName'].values)\n\nState_time_series_year = State_time_series[State_time_series['RegionName'].isin(states)].copy()\nhighest_cost_states = State_time_series_year[['RegionName', 'ZHVI_AllHomes']].groupby('RegionName').max().sort_values(by=['ZHVI_AllHomes'], ascending=False)[:5].index.values.tolist()\nState_time_series_year=State_time_series_year[State_time_series_year.RegionName.isin(highest_cost_states)]\nState_time_series_year.year = State_time_series_year.Date.dt.year","3dd87e84":"# colorblind-Friendly colors\n\ncolors= [[0,0,0], [230\/255, 159\/255, 0], [86\/255, 180\/255, 233\/255], [0, 158\/255, 115\/255],\n         [213\/255, 94\/255, 0], [0, 144\/255, 178\/255]]\n\nStates_year_SalePrices = State_time_series_year.groupby([State_time_series_year.year,State_time_series_year.RegionName])['ZHVI_AllHomes'].mean().dropna().reset_index(name='SoldPrice')\nfte_graph=States_year_SalePrices.pivot(index='year',columns='RegionName', values='SoldPrice').plot(figsize=(15,8), color=colors, legend=False)\nfte_graph.figure.gca().xaxis.set_major_locator(MaxNLocator(integer=True))\nfte_graph.tick_params(axis = 'both', which ='major', labelsize = 18)\nplt.xlabel(\"\")\nfte_graph.set_yticklabels(labels= [-10, '100000' , '200000' , '300000', '400000' , '500000 $'])\n\n# Generate a Bolded Horizontal Line at y= 0\n\nfte_graph.axhline (y = 100000, color = 'black', linewidth = 1.3, alpha = .7)\n\n# Add an extra vertical line by tweaking the range of the X-axis\n\nfte_graph.set_xlim(left = 1996, right = 2017)\n\n# The Signature Bar\n\nfte_graph.text(x = 1994, y = 30000,\n              s = ' @Poonam Lingade\/Nikunj Lata Source : Zillow ',\n               fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a Title and a Subtitle\n\nfte_graph.text(x = 1994, y = 570000, s = \"The Growth of Real Estate Sector in US\",\n               fontsize = 26, weight = 'bold', alpha = .75)\nfte_graph.text(x = 1994, y = 550000,\n               s = 'Increase in House Median Sale Prices from 1996 to 2017 in the US states',\n               fontsize = 19, alpha = .85)\n\n# Add colored labels\n\nfte_graph.text(x = 2002, y = 390000, s = 'California', color = colors[0], weight = 'bold', rotation = 55, backgroundcolor = '#f0f0f0')\n\nfte_graph.text(x = 2012, y = 530000, s = 'District of Columbia', color = colors[1], weight = 'bold', rotation = 30, backgroundcolor='#f0f0f0')\n\nfte_graph.text(x = 2015, y = 310000, s = 'Massachusettes', color = colors[4], weight = 'bold', rotation = 15, backgroundcolor = '#f0f0f0')\n\nfte_graph.text(x = 2013, y = 220000, s = 'New Jersey', color = colors[4], weight = 'bold', rotation = 15, backgroundcolor = '#f0f0f0');\n","17541624":"fig = plt.figure(figsize=(25,21))\nregions=State_time_series.RegionName.value_counts().to_frame()\nax = fig.add_subplot(111, aspect=\"equal\")\nax = squarify.plot(sizes=regions['RegionName'].values,label=regions.index,\n                  color=sns.color_palette('viridis', 52), alpha = 1)\nax.set_xticks([])\nax.set_yticks([])\nfig=plt.gcf()\nfig.set_size_inches(40,25)\nplt.title(\"Treemap of House Property counts across different States\", fontsize=18)\nplt.show();\n","5a73da19":"plt.figure(figsize=(15,8));\n\n#plt.figure.gca().xaxis.set_major_locator(MaxNLocator(integer=True))\n\nState_time_series.groupby(State_time_series['year'])['ZHVI_TopTier'].median().plot(linewidth=4,c='g')\nState_time_series.groupby(State_time_series['year'])['ZHVI_MiddleTier'].median().plot(linewidth=4,c='b')\nState_time_series.groupby(State_time_series['year'])['ZHVI_BottomTier'].median().plot(linewidth=4,c='r')\n\n\n# Generate a bolded HoriZontal line at y=0\n\nplt.axhline(y= 50000, color='black', linewidth=1.3, alpha=.7)\n\n# Add an extra vertical line by tweaking the range of the x-axis\n\nplt.xlim(left=1996, right=2017)\n\n# the Signature bar\n\nplt.text(x = 1996,y = 25000,\n        s = ' Poonam Ligade\/Nikunj Lata Source:Kaggle', fontsize =14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a title and a subtitle\n\nplt.text(x = 1996, y = 350000, s = \"Real Estate Properties ZHVI for different Tiers in US\",fontsize = 25, weight = 'bold', alpha=.75)\nplt.text(x = 1996, y = 330000, s = \"ZHVI Values for Top, middle and Bottom Tiers from 1997 to 2017 in the US States\", fontsize = 18, alpha= .85);\n\nplt.text(x = 1999, y = 215000, s = 'Top Tier', color= 'g', weight = 'bold', rotation = 35, backgroundcolor = '#f0f0f0')\n\nplt.text(x = 1999, y = 140000, s = 'Middle Tier', color = 'b', weight = 'bold', rotation = 20, backgroundcolor = '#f0f0f0')\n\nplt.text(x = 1999, y = 140000, s = 'Bottom tier', color = 'r', weight = 'bold', rotation = 5, backgroundcolor = '#f0f0f0');\n","0d545f73":"# ZHVI Vs Days on Zillow\n\nplt.figure(figsize=(20, 6))\nmean_group = State_time_series[['DaysOnZillow_AllHomes','ZHVI_AllHomes']].groupby(['DaysOnZillow_AllHomes'])['ZHVI_AllHomes'].mean()\nplt.plot(mean_group, color=[230\/255, 159\/255, 0])\nplt.tick_params(axis='both', which = 'major', labelsize = 18)\n\n# The Signature Bar\n\nplt.text(x = 27, y = -1500, s = '@Poonam Ligade\/Nikunj Lata Source: Kaggle ', fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n\n# adding a title and a subtitle.\n\nplt.text(x = 30, y = 680000, s = \"House Sale Value Decreases as listings ages on Zillow\", fontsize = 26, weight = 'bold', alpha=.75)\nplt.text(x = 30, y = 640000, s = \"As number of Days after house listings is posted on Zillow increases, its Zillow Home Value Index(ZHVI) deacreases.\", fontsize = 19, alpha = .85);","4291fc88":"plt.figure(figsize=(15,8));\n\nplt.scatter(State_time_series_year.DaysOnZillow_AllHomes,State_time_series_year.ZHVI_AllHomes, c=\"gold\");\nplt.scatter(State_time_series_year.DaysOnZillow_AllHomes,State_time_series_year.Sale_Prices, c =\"green\");\n\n# Generate a Bolded Horizontal Line at y= 0\n\nplt.axhline( y=200000, color='black', linewidth=1.3, alpha= .7)\n\n# Add an extra vertical line by tweaking the range of x-axis\n\nplt.xlim(left = 45, right = 255)\n\n# The Signature bar\n\nplt.text(x= 35, y = 160000,\n        s = 'Poonam Ligade\/Nikunj Lata Source:Kaggle ', fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\nplt.legend(fontsize = 12, loc=\"best\", frameon=1, fancybox = 1)\n\n# Adding a title and subtitle\n\nplt.text(x = 35, y = 590000, s = \"The Linear Relation between Real Estate Sector sale prices in US\", fontsize = 25, weight = 'bold', alpha= .75)\nplt.text(x = 35, y = 570000, s = \"Linearity between ZHVI and Median Sold Prices w.r.t Days on Zillow from 1996 to 2017 in the US States\", fontsize = 18, alpha= .85);","e646a108":"# ZRI VS Days. on Zillow.\n\nplt.figure(figsize=(20,6))\nmean_group = State_time_series[['DaysOnZillow_AllHomes', 'ZRI_AllHomes']].groupby(['DaysOnZillow_AllHomes'])['ZRI_AllHomes'].mean().dropna().reset_index(name='ZRI_AllHomes_Mean')\nmean_group=mean_group[(mean_group.DaysOnZillow_AllHomes < 250)]\nmean_group=mean_group[(mean_group.ZRI_AllHomes_Mean > 500)]\n\nplt.plot(mean_group, color=[213\/255, 94\/255,0])\n\nplt.tick_params(axis ='both', which = 'major', labelsize = 18)\n\n# The Signature Bar\n\nplt.text ( x= -40, y = -500,\n           s = ' Poonam Ligade\/ Nikunj Lata Source : Kaggle',\n         fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a title and a subtitle \n\nplt.text (x = -40, y = 3300, s = \"House Rent Value Decreases as listing ages on Zillow\",\n         fontsize = 26, weight = 'bold', alpha=.75)\nplt.text ( x = -40, y = 3000, s = \"As number of Days after house listing is posted on Zillow increases, its Zillow Rental Index(ZRI) decreases \", fontsize =19, alpha = .85 );\nplt.show();","a0253eb0":"plt.figure(figsize=(15,8));\n\nplt.scatter(State_time_series_year.DaysOnZillow_AllHomes, State_time_series_year.ZRI_AllHomes, c='orange')\nplt.scatter(State_time_series_year.DaysOnZillow_AllHomes, State_time_series_year.MedianRentalPrice_AllHomes, c='navy');\n\n\n# Generate a bolded Horizontal line at y= 0\n\nplt.axhline(y = 1400, color = 'black', linewidth = 1.3, alpha= .7)\n\n# Add an extra vertical line by tweaking the range of X axis\n\nplt.xlim(left =45, right =255)\n\n# The Signature bar\n\nplt.text( x = 45, y= 1250, s = 'Poonam Ligade\/ Nikunj Lata Source:Kaggle', fontsize=14, color='#f0f0f0', backgroundcolor = 'grey')\n\nplt.legend(fontsize =12, loc = 'best', frameon = 1, fancybox =1)\n\n# Adding a title and a subtitle\n\nplt.text(x = 45, y = 2870, s = 'The Linear Relation between Real Estate Sector Rental Prices w.r.t Days on Zillow from 1996 to 2017 in US States', fontsize =18, alpha =.85);\n\n","8066bd6c":"plt.figure(figsize=(15,8));\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_1Bedroom'].mean().dropna().plot(linewidth=4,c='lightgreen', legend=False)\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_2Bedroom'].mean().dropna().plot(linewidth=4,c='b')\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_3Bedroom'].mean().dropna().plot(linewidth=4,c='brown')\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_4Bedroom'].mean().dropna().plot(linewidth=4,c='purple')\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_5BedroomOrMore'].mean().dropna().plot(linewidth=4,c='magenta')\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_AllHomes'].mean().dropna().plot(linewidth=4,c='black')\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_CondoCoop'].mean().dropna().plot(linewidth=4,c='orange',legend=False)\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_DuplexTriplex'].mean().dropna().plot(linewidth=4,c='darkblue',legend=False)\nState_time_series.groupby(State_time_series['year'])['MedianListingPricePerSqft_SingleFamilyResidence'].mean().dropna().plot(linewidth=4,c='red')\nplt.legend(fontsize=12,loc=(2009,200),frameon=1,fancybox=1,bbox_to_anchor=(0.02,1.35), ncol=2)\n\n\n# Generate a bolded horizontal line at y = 0 \nplt.axhline(y = 50, color = 'black', linewidth = 1.3, alpha = .7)\n# Add an extra vertical line by tweaking the range of the x-axis\nplt.xlim(left = 2010, right = 2017)\n# The signature bar\n\nplt.text(x = 2010, y = 30,\n    s = '   Poonam Ligade\/Nikunj Lata                                                                                                                                                      Source: Kaggle   ',\n    fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a title and a subtitle\nplt.text(x = 2010, y = 230, s = \"Real Estate Listing Prices Per SquareFoot in US\",\n               fontsize = 25, weight = 'bold', alpha = .75)\nplt.text(x = 2010, y = 220, \n               s = 'Median Listing Prices Per Sqft W.r.t Number of Bedrooms from 2010 to 2017 in the US states',\n              fontsize = 18, alpha = .85);","13881c7c":"plt.figure(figsize=(15,8));\n\nState_time_series.groupby(State_time_series['year'])['PctOfHomesDecreasingInValues_AllHomes'].median().plot(linewidth=4, c='lightgreen', legend=False)\nState_time_series.groupby(State_time_series['year'])['PctOfHomesIncreasingInValues_AllHomes'].median().plot(linewidth=4, c='b')\n\n# Generate a bolded horizontal line at y = 0\n\nplt.axhline(y=10, color='black', linewidth = 1.3, alpha=.7)\n\n# Add an extra vertical line by tweaking the range of the x- axis\n\nplt.xlim(left = 1996, right = 2017 )\n\n# The Signature Bar\n\nplt.text( x= 1996, y = 0, s = 'Poonam Ligade\/Nikunj Lata Source: Kaggle', fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a title and a subtitle \n\nplt.text(x= 1996, y = 95, s = \"Real Estate Properties Decreasing vs Increasing in Values in US\", fontsize = 25, weight = 'bold', alpha = .75)\nplt.text(x= 1996, y = 90, s = 'Percentage of Homes Increasing and Decreasing in Values from 1997 to 2017 in the US States', fontsize = 18, alpha = .85);\n","154a8ca7":"plt.figure(figsize=(15,8));\n\nState_time_series.groupby(State_time_series['year'])['PctOfHomesSellingForGain_AllHomes'].median().plot(linewidth=4, c='lightgreen', legend=False)\nState_time_series.groupby(State_time_series['year'])['PctOfHomesSellingForLoss_AllHomes'].median().plot(linewidth=4, c='gold')\nplt.legend()\n\n# Generate a bolded horizontal line at y = 0\n\nplt.axhline(y=0, color = 'black', linewidth = 1.3, alpha = .7)\n\n# Add an extra vertical line by tweaking the range of x - axis\n\nplt.xlim(left = 2001, right= 2017)\n\n# The Signature bar\n\nplt.text(x = 2001, y = -15, s = 'Poonam Ligade\/Nikunj Lata Source: Kaggle', fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a title and a subtitle.\n\nplt.text(x = 2001, y = 110, s = 'Real Estate Properties Sailing For Gain and Loss in US', fontsize = 25, weight = 'bold', alpha = .75)\nplt.text( x= 2001, y= 105, s = 'Percentage of Homes Selling for Gain and Loss from 2002 to 2017 in US States', fontsize = 18, alpha = .85);\n","d646f16c":"plt.figure().gca().xaxis.set_major_locator(MaxNLocator(integer=True))\nState_time_series.day=State_time_series.Date.dt.day\nplt.bar(State_time_series.day.value_counts().index,State_time_series.day.value_counts().values,color = colors);\nplt.tick_params(axis = 'both', which = 'major', labelsize = 18)\n\n# the Signature Bar\n\nplt.text(x=27, y = -1500, s = ' @Poonam Ligade\/Nikunj Lata    Source:Kaggle', fontsize = 14, color = '#f0f0f0', backgroundcolor = 'grey')\n\n# Adding a title and a subtitle\n\nplt.text(x=27, y=10000, s=\"Recorded Dates\", fontsize = 26, weight = 'bold', alpha=.75)\nplt.text(x= 27, y = 9000, s = \"The days on which data is captured\", fontsize = 19, alpha = .85);\n","9a9f15bc":"This looks beautiful too. Both Lines look so complementory as expected , After 2008 Properties started Selling for loss due to recession and that time only properties selling for gain has decresed .","755a5d14":"Zillow Home Value Index (ZHVI): A smoothed seasonally adjusted measure of the median estimated home value across a given region and housing type. A dollar denominated alternative to repeat-sales indices. Find a more detailed methodology here: http:\/\/www.zillow.com\/research\/zhvi-methodology-6032\/","1d29e35f":"All the States recorded have got same number of listings except North Dakota as you can see in upper right yellow corner. United States seems to have added when region name was not available in case on nulls so US have got lowest listings.","5621ea31":"That's FiveThirtyEight style graph. It pretty much self explanatory. These are the top five States which have highest Median Sold Price.\n\nDistrictOfColumbia has started from Median Selling price of less than 150 thousand dollars and crossed more than 500 thousand dollars by 2017.\nCalifornia started around 200 thousand dollars and has reached its highest selling price of around 470 thousand dollars in late 2006 and early 2007 and started decresing there after","a684bb49":"Hi, After two years I'm trying to reproduce code and play around with Data with the help of @poonaml\n.","a5efed17":"Zillow Rent Index (ZRI): A smoothed seasonally adjusted measure of the median estimated market rate rent across a given region and housing type. A dollar denominated alternative to repeat-rent indices. Find a more detailed methodology here: http:\/\/www.zillow.com\/research\/zillow-rent-index-methodology-2393\/"}}