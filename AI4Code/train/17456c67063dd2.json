{"cell_type":{"7ef0fc54":"code","9132954d":"code","f169e5f8":"code","3afa06ca":"code","35b3ff1f":"code","798547ad":"code","37f4b9ba":"code","f49fcef7":"code","16e97044":"code","91cea3f7":"code","d3dc06f4":"code","4bbc8050":"code","a5d0717f":"code","89ff3cbe":"code","e2701e6b":"code","75cf12fe":"code","fecd7d50":"code","049e3d02":"code","01657688":"code","91f73a8b":"code","2b985aa0":"code","16f557da":"code","9017dd68":"code","7c19592f":"code","0cbdb889":"code","bae804ea":"code","be342695":"code","120fa291":"code","b243fdfa":"code","aac7f0bc":"code","d24a2198":"code","90c8f568":"code","2101b12a":"code","914e3c2d":"code","27c13a0e":"code","491fd63a":"code","ff268636":"markdown","1a79b4fc":"markdown","d493fcf1":"markdown","10da136a":"markdown","a83df6ec":"markdown","728ae9d5":"markdown","edc83727":"markdown","ac026c92":"markdown","c1300e05":"markdown","aff81f9c":"markdown","e7b46e86":"markdown","9a964514":"markdown","0f46b36b":"markdown","ee15a539":"markdown","aa437376":"markdown","d43fb025":"markdown"},"source":{"7ef0fc54":"#LOAD PANDAS AND VARIOUS DATA VISUALIZATION LIBRARIES\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px","9132954d":"#LOAD A DATE SENSITIVE PANDAS DATAFRAME \ndata = pd.read_csv(\"..\/input\/favorableunfavorable-polling-for-us-candidates\/POLITICAL_FAVORABLES_RCP_icod_20200317.csv\", parse_dates=True, index_col=\"DATEFORMATTED\")","f169e5f8":"#PRINT OUT THE DATA TO SEE FIRST COUPLE ROWS\ndata.head()","3afa06ca":"#WHAT DOES THE DATA LOOK LIKE\ndata.info()","35b3ff1f":"# Determine the number of polls per candidate\nhue_colors = {\"BIDEN\":\"blue\",\"HRC\":\"cyan\",\"BERNIE\":\"green\",\"TRUMP\": \"red\"} \n\ng = sns.catplot(x=\"CANDIDATE\",data=data,hue = \"CANDIDATE\",palette=hue_colors,orient=\"h\",kind=\"count\",\n                height=8)\n\ng.set(xlabel=\"Candidate\", ylabel=\"Number of Fav\/unfav Polls\") \n\nplt.show()","798547ad":"#another look at this data with a heatmap. Heatmaps in Seaborn are fairly straight forward \nhmapdata =  data.filter([\"SOURCE\",\"CANDIDATE\"])\nhmapdata.head()","37f4b9ba":"#Count the number of polls per candidate by source \nhmapdata = hmapdata.groupby([\"SOURCE\",\"CANDIDATE\"]).size().reset_index()\nhmapdata.columns","f49fcef7":"hmapdata.SOURCE.unique()","16e97044":"hmapdata = hmapdata.pivot(\"SOURCE\", \"CANDIDATE\", 0)\nhmapdata.head()","91cea3f7":"hmapdata.loc[\"PPP (D)\"]","d3dc06f4":"fig, ax = plt.subplots(figsize=(10,10))    \nax = sns.heatmap(hmapdata,linewidths=.5,cmap=\"YlGnBu\")","4bbc8050":"#all candidates and all polls\ndata = data.sort_index()\ng = sns.relplot(data = data.reset_index(), x = 'DATEFORMATTED',y=\"MARGIN\", hue=\"CANDIDATE\",palette=hue_colors,\n            kind=\"scatter\",height=8,aspect=1.25)\ng.set(xlabel=\"Poll Date\",ylabel=\"Favorable - Unfavorable Margin\",xlim=(\"2008-12-01\",\"2020-05-17\"))\nplt.show()","a5d0717f":"indices = data['CANDIDATE']==\"BERNIE\"\nbernie = data.loc[indices,:] # extract new DataFrame\nbernie.head()","89ff3cbe":"# what is the highest favorable for Bernie\nbernie.FAVORABLE.max()","e2701e6b":"# what is the best and worst favroable - unfavorable margin for Bernie\nprint(\"Bernie's highest favorable margin was \" + str(bernie.MARGIN.max()) + \" and Bernie's worst favorable rating was \" + str(bernie.MARGIN.min()))","75cf12fe":"bernie = bernie.sort_index()\ng = sns.relplot(data = bernie.reset_index(), x = 'DATEFORMATTED',y=\"MARGIN\",\n            kind=\"scatter\",height=8,aspect=1.25,color=\"green\")\ng.set(xlabel=\"Poll Date\",ylabel=\"Favorable - Unfavorable Margin\",xlim=(\"2014-01-01\",\"2020-05-17\"))\nplt.show()","fecd7d50":"import plotly\nimport plotly.graph_objects as go\nbernie = bernie.resample('M').mean().ffill()\nfig = go.Figure()\nfig.add_trace(go.Scatter(\n                x=bernie.index,\n                y=bernie['FAVORABLE'],\n                name=\"Favorables\",\n                line_color='black',\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=bernie.index,\n                y=bernie['UNFAVORABLE'],\n                name=\"Unfavorables\",\n                line_color='red',\n                opacity=0.8))\n\nfig.update_layout(title_text='A Tale of Two Elections: Feeling the Bern No More',\n                  xaxis_rangeslider_visible=True,xaxis_title=\"Year\",\n    yaxis_title=\"Avg Monthly Favorables\/Unfavorables\")\n\nfig.update_layout\nfig.show()","049e3d02":"#compare Bernie's favorable - unfavorable margin in terms of days out from the general respectively\n\nelection_colors = {\"2016.0\":\"purple\",\"2020.0\":\"orange\"} \nh=sns.relplot(data= bernie,x=\"DAYS_TO_GENERAL_ELECTION\", y=\"MARGIN\", hue=bernie[\"ELECTION_YEAR\"].astype(str),kind=\"line\",palette=election_colors,\n             height = 8, aspect=1.25)\n\nh.set(xlabel=\"Days to Election\",ylabel=\"Avg Monthly Favorable - Unfavorable Margin\",xlim=(800,100),title= \"Comparing Bernie's Favorables - Days out from Election Day\")","01657688":"indices = data['CANDIDATE']==\"HRC\"\nhrc = data.loc[indices,:] # extract new DataFrame\nhrc.head()","91f73a8b":"# what is the highest favorable for Hillary\nhrc.FAVORABLE.max()","2b985aa0":"# what is the best and worst favroable - unfavorable margin for Hillary\nprint(\"HRC's highest favorable vs unfavorable margin is \" + str(hrc.MARGIN.max()) + \" and HRC's worst favorable vs unfavorable margin is\" + str(hrc.MARGIN.min()))","16f557da":"hrc= hrc.sort_index()\ng = sns.relplot(data = hrc.reset_index(), x = 'DATEFORMATTED',y=\"MARGIN\",\n            kind=\"scatter\",height=8,aspect=1.25,color=\"cyan\")\ng.set(xlabel=\"Poll Date\",ylabel=\"Favorable - Unfavorable Margin\",xlim=(\"2009-01-01\",\"2017-01-28\"))\nplt.show()","9017dd68":"# Add shape regions\nhrc = hrc.resample('M').mean().ffill()\nfig = go.Figure()\nfig.add_trace(go.Scatter(\n                x=hrc.index,\n                y=hrc['FAVORABLE'],\n                name=\"Favorables\",\n                line_color='black',mode=\"lines+markers\",\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=hrc.index,\n                y=hrc['UNFAVORABLE'],\n                name=\"Unfavorables\",\n                line_color='red',mode=\"lines+markers\",\n                opacity=0.8))\n\n\n\n\nfig.update_layout(title_text='\"The Vast Right-Wing Conspriacy to bring HRC Down\"',\n                  xaxis_rangeslider_visible=True,xaxis_title=\"Year\",\n    yaxis_title=\"Avg Monthly Favorables\/Unfavorables\",shapes=[\n        # Highlight the months around March 2013\n        dict(\n            type=\"rect\",\n            # x-reference is assigned to the x-values\n            xref=\"x\",\n            # y-reference is assigned to the plot paper [0,1]\n            yref=\"paper\",\n            x0=\"2013-02-01\",\n            y0=0,\n            x1=\"2013-05-01\",\n            y1=1,\n            fillcolor=\"LightSalmon\",\n            opacity=0.3,\n            layer=\"below\",\n            line_width=0,\n            name=\"HRC Announces Support for Gay Marriage and Gawker expose on email server release\",\n        )])\n\nfig.update_layout\nfig.show()\n","7c19592f":"indices = data['CANDIDATE']==\"BIDEN\"\nbiden = data.loc[indices,:] # extract new DataFrame\nbiden.head()","0cbdb889":"# what is the highest favorable for Biden\nbiden.FAVORABLE.max()","bae804ea":"# what is the best and worst favroable - unfavorable margin for Biden\nprint(\"Biden's highest favorable vs unfavorable margin is \" + str(biden.MARGIN.max()) + \" and Biden's worst favorable vs unfavorable margin is \" + str(biden.MARGIN.min()))","be342695":"biden= biden.sort_index()\ng = sns.relplot(data = biden.reset_index(), x = 'DATEFORMATTED',y=\"MARGIN\",\n            kind=\"scatter\",height=8,aspect=1.25,color=\"blue\")\ng.set(xlabel=\"Poll Date\",ylabel=\"Favorable - Unfavorable Margin\",xlim=(\"2018-08-01\",\"2020-04-01\"))\nplt.show()","120fa291":"# Add shape regions\nbiden = biden.resample('M').mean().ffill()\nfig = go.Figure()\nfig.add_trace(go.Scatter(\n                x=biden['DAYS_TO_GENERAL_ELECTION'],\n                y=biden['MARGIN'],\n                name=\"Biden Favorables - Unfavorables Margin Election 2020\",\n                line_color='blue',mode=\"lines\",\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=hrc['DAYS_TO_GENERAL_ELECTION'],\n                y=hrc['MARGIN'],\n                name=\"HRC Favorables - Unfavorables Margin Election 2016\",\n                line_color='cyan',mode=\"lines\",\n                opacity=0.8))\n\n\nfig.update_layout(title_text=\"Comparing Biden and HRC's Favorable - Unfavorable Margin in terms of Days to the Election\",\n                  xaxis_rangeslider_visible=True,xaxis_title=\"Days to the Election\",\n    yaxis_title=\"Monthly Avg Favorable - Unfavorable Margin\")\n\nfig.update_xaxes(range=[800, 200])\n\nfig.update_layout\nfig.show()\n","b243fdfa":"indices = data['CANDIDATE']==\"TRUMP\"\ntrump = data.loc[indices,:] # extract new DataFrame\ntrump.head()","aac7f0bc":"# what is the highest favorable for Trump\ntrump.FAVORABLE.max()","d24a2198":"# what is the best and worst favroable - unfavorable margin for Trump\nprint(\"Trump's highest favorable vs unfavorable margin is \" + str(trump.MARGIN.max()) + \" and Trump's worst favorable vs unfavorable margin is \" + str(trump.MARGIN.min()))","90c8f568":"trump= trump.sort_index()\ng = sns.relplot(data = trump.reset_index(), x = 'DATEFORMATTED',y=\"MARGIN\",\n            kind=\"scatter\",height=8,aspect=1.25, color=\"red\")\ng.set(xlabel=\"Poll Date\",ylabel=\"Favorable - Unfavorable Margin\",xlim=(\"2015-05-01\",\"2020-04-01\"))\nplt.show()","2101b12a":"# Add shape regions\ntrump= trump.resample('M').mean().ffill()\nfig = go.Figure()\nfig.add_trace(go.Scatter(\n                x=trump.index,\n                y=trump['FAVORABLE'],\n                name=\"Favorables\",\n                line_color='black',mode=\"lines+markers\",\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=trump.index,\n                y=trump['UNFAVORABLE'],\n                name=\"Unfavorables\",\n                line_color='red',mode=\"lines+markers\",\n                opacity=0.8))\n\n\n\n\nfig.update_layout(title_text='Trump Favorables vs Unfavorables',\n                  xaxis_rangeslider_visible=True,xaxis_title=\"Year\",\n    yaxis_title=\"Avg Monthly Favorables\/Unfavorables\")\n\nfig.update_layout\nfig.show()\n","914e3c2d":"indices = trump['ELECTION_YEAR']==2016\ntrump2016 = trump.loc[indices,:] # extract new DataFrame","27c13a0e":"mask = trump['ELECTION_YEAR']==2020\ntrump2020 = trump.loc[mask,:] # extract new DataFrame","491fd63a":"fig = go.Figure()\nfig.add_trace(go.Scatter(\n                x=biden['DAYS_TO_GENERAL_ELECTION'],\n                y=biden['MARGIN'],\n                name=\"Biden Favorables - Unfavorables Margin Election 2020\",\n                line_color='blue',mode=\"lines\",\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=hrc['DAYS_TO_GENERAL_ELECTION'],\n                y=hrc['MARGIN'],\n                name=\"HRC Favorables - Unfavorables Margin Election 2016\",\n                line_color='cyan',mode=\"lines\",\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=trump2016['DAYS_TO_GENERAL_ELECTION'],\n                y=trump2016['MARGIN'],\n                name=\"Trump Favorables - Unfavorables Margin Election 2016\",\n                line_color='darkred',mode=\"lines\",\n                opacity=0.8))\n\nfig.add_trace(go.Scatter(\n                x=trump2020['DAYS_TO_GENERAL_ELECTION'],\n                y=trump2020['MARGIN'],\n                name=\"Trump Favorables - Unfavorables Margin Election 2020\",\n                line_color='red',mode=\"lines\",\n                opacity=0.8))\n\n\nfig.update_layout(title_text=\"Comparing Biden, HRC and Trump's Favorable - Unfavorable Margin in terms of Days to the Election\",\n                  xaxis_rangeslider_visible=True,xaxis_title=\"Days to the Election\",\n    yaxis_title=\"Monthly Avg Favorable - Unfavorable Margin\")\n\nfig.update_xaxes(range=[800,215])\n\nfig.update_layout\nfig.show()\n","ff268636":"Biden's favorable margin is following the same trend as HRC's when plotting against days until the next election. Biden sample size is a lot smaller so the trend line will start to fill out in the days to come. Biden has enjoyed a nice bounce back in his margin the last 50 days, but it remains to be seen if he will ever get out of the negatives. However, his absolute margin may not be the key statistic. Polling above HRC in terms of favorability maybe key statistic to watch.","1a79b4fc":"# Conclusion\n- Bernie's Sanders demise is clearly seen in his favorability numbers. For Bernie and his campaign, it certainly has been a tale of two campaigns.\n- HRC was once viewed very favorably by the American public. That all seemed to change in March 2013, little did she know, an article published by Gawker, a now defunct tabloid, would haunt her political campaign all the way to election day 2016.\n- Joe Biden at this moment is viewed more favorably than HRC was at this point in the election cycle, but his sample size is small. Regardless, this margin is something to watch. Donald Trump only won the election by ~160k votes across three states. If Joe Biden can keep his favorables higher than HRC's that maybe all he needs to win 200,000 more votes across the rust belt and win the presidency in 2020. \n- Donald Trump has never been viewed favorably by the American people, he has essentially always had higher unfavorables than afavorables. However, his numbers are very very steady and probably unlikely to change. He is the only candidate to enter the political arena and improve their favorables from their first measurement. ","d493fcf1":"# <center>Joseph Biden<\/center>\n<img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/2\/20\/Joe_Biden_official_portrait_2013_cropped.jpg\/958px-Joe_Biden_official_portrait_2013_cropped.jpg\" \n     alt=\"BIDEN\"\n     style=\"float: center; margin-center: 50px; width: 250px; height: 300px;\">\n","10da136a":"Trump's Favorable vs Unfavorable graph is remarkable for several reasons:\n- Trump\u2019s lowest point was the first poll taken, since May 2015 his average monthly favorables have essentially improved or remained steady since pollsters started measuring his favorability. \n- The closet's Trump's Avg Monthly favorables got to exceeding his unfavorables subsequent to winning the 2016 election.\n- His favorables have remained incredibly stable since his election. His unfavorables did spike in August 2017, likely due to his comments and reaction to the \"Unite the Right\" rally in Charlottesville, Virginia, from August 11 to 12\n","a83df6ec":"# <center>Feeling the Bern (or not)<\/center>\n\n<img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/3\/33\/Illustration_of_Bernie_Sanders.jpg\/856px-Illustration_of_Bernie_Sanders.jpg\" \n     alt=\"Feel The Bern\"\n     style=\"float: center; margin-center: 50px; width: 300px; height: 300px;\">\n","728ae9d5":"# Data Familiarization ","edc83727":"# Favorables vs Unfavorables\n\nThe following data was collected from realclearpolitics.com (RCP) on March 20, 2020. RCP does not conduct its own polls, but does provide public access to polls that are conducted by a large variety of pollsters. RCP is not the only source for aggregated polling data. The data consists of favorables and unfavorables for Hillary Clinton, Donald Trump, Joe Biden and Bernie Sanders. For Donald Trump and Bernie Sanders, data range spans two presidential election cycles (2016 and 2020).\n     \n<img src=\"https:\/\/freesvg.org\/img\/Hillary-Clinton-Cartoon-2.png\" \n     alt=\"Hillary Clinton (HRC)\"\n     style=\"float: left; margin-center: 50px; width: 400px; height: 400px;\">\n\n<img src=\"https:\/\/freesvg.org\/img\/Donald-Trump-Cartoon-3.png\" \n     alt=\"Donald Trump\"\n     style=\"float: left; margin-center: 50px; width: 400px; height: 400px;\">\n","ac026c92":"Biden enjoys the higher margin compared to where HRC and Trump were at this election cycle in 2016 and where Trump is currently in the 2020 cycle. However, in the 2020 election cycle, Trump's favorables are much higher than they were in 2016. But as I pointed out above, Trump's favorables - unfavroables are steady and probably unlikely to improve to the upside given the clear ceiling holding his numbers down.","c1300e05":"# Tracking the Polls","aff81f9c":"Bernie's Favorable \/ Unfavorable polling is quite remarkable. In 2016, he entered the Democratic National Convention with skyrocketing favorables. However, in 2020 a totally different phenomenon. Bernie's favorables have dropped almost consistently throughout the 2020 primary and now his unfavorables are at their highest point ever. What a reversal!","e7b46e86":"Further drill downs are below, but Democrats beware, Trump is the only candidate who's favorables vs unfavorables (represented by the margin) have improved over the lifetime of their polling. In fact, Trump's worst favorable rating was essentially the first poll of his favorables. As soon as the democrats enter the arena, their high favorables come down fast. Bernie Sanders (the 2016 version) is he exception. He left 2016 at a high point, but his 2020 has not gone well.","9a964514":"Dramatic reduction in HRC's popularity started before she announced her quest for the white house in 2016. Her favorables peaked in early 2013 and continued to drop all the way to election day 2016. In March 2013, HRC announced her support for Gay Marriage in the United States; a controversial topic at the time. Could this have been the catalyst fueling her drop in popularity? Coincidently in March 2013 Gawker (no defunct) published an article about \"hacked emails\" and HRC's use of a private email server acquired by a hacker calling himself \"Guccifer\"....and they rest, as they say, is history......","0f46b36b":"Wow, another example of the differences between the 2016 and 2020 elections for Bernie Sanders (in terms of favorability numbers). In both election cycles, ~575 days out from election day, Sanders margin between favorables and unfavorables was near even. However, in 2016 Sanders' favorables increased dramatically over the next 450 days. In 2020, a very different trend line. Bernie Sanders unfavorables now exceed his favorables ~240 days until election day.","ee15a539":"# <center>Donald Trump<\/center>\n\n<img src=\"https:\/\/freesvg.org\/img\/Donald-Trump-Cartoon-3.png\" \n     alt=\"Donald Trump\"\n     style=\"float: center; margin-center: 50px; width: 400px; height: 400px;\">","aa437376":"# <center>Hillary Rodham Clinton<\/center>\n\n<img src=\"https:\/\/freesvg.org\/img\/Hillary-Clinton-Cartoon-2.png\" \n     alt=\"Hillary Clinton (HRC)\"\n     style=\"float: center; margin-center: 50px; width: 400px; height: 400px;\">\n\n","d43fb025":"The \"Economist\/YouGov\" is the most prolific pollster measuring favorables\/unfavorables of the most popular political candidates for president over the last two presidential election cycles. Moreover, despite being the \"presumptive nominee\" of the Democratic Party in the 2020 election cycle, favorables\/unfavorables polls for former Vice President Biden are far less available over the years compared to the other candidates, to include Bernie Sanders, a likely two-time loser in his run to secure the Democratic Nomination."}}