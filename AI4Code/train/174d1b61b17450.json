{"cell_type":{"1f81ba19":"code","12bbc4a5":"code","6beb7fc8":"code","57dc2c5a":"code","764d42d6":"code","5314cb3a":"code","d91188f2":"code","46a43449":"code","0273e299":"code","6ecd06ff":"code","7975e25b":"code","a732342f":"code","d77f35ae":"code","550c9cd3":"code","1ae754e4":"code","bac1ef53":"code","655284e8":"code","425df023":"code","708412ca":"code","0e67fd91":"code","575499b6":"code","619b50e0":"code","103c5f31":"code","8125e19a":"markdown","4c15fd39":"markdown","228f2eb8":"markdown","fd7fec30":"markdown","4cabb035":"markdown","e8802000":"markdown","fd5f6c01":"markdown","d5bab701":"markdown","1c52f013":"markdown","5d4c0699":"markdown","2b27e7b9":"markdown","805ff3b9":"markdown","b807a75f":"markdown","93cf34ca":"markdown"},"source":{"1f81ba19":"import numpy as np\nimport pandas as pd\nfrom pandas.plotting import scatter_matrix\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom collections import Counter\nfrom matplotlib.lines import Line2D\nfrom warnings import filterwarnings\nsns.set_style('whitegrid')\n%matplotlib inline","12bbc4a5":"df=pd.read_csv(\"..\/input\/amazon-top-50-bestselling-books-2009-2019\/bestsellers with categories.csv\")","6beb7fc8":"df.head()","57dc2c5a":"df.info()","764d42d6":"df['Author'].unique()","5314cb3a":"df.loc[df['Author']=='J. K. Rowling','Author']='J.K. Rowling'\ndf.loc[df['Author']=='George R. R. Martin','Author']='George R.R. Martin'","d91188f2":"df.sort_values('Reviews',ascending=False).head(10)","46a43449":"df.drop_duplicates('Name').sort_values('Reviews',ascending=False).head(10)","0273e299":"pie_1 = df.drop_duplicates('Name').sort_values('Reviews',ascending=False)['Genre'].head(10).value_counts()\n\nsns.set_palette('viridis_r')\nplt.figure(figsize=(8,8))\nplt.pie(pie_1,explode = [0,0.15],labels=['Fiction','Non Fiction'],autopct='%.1f%%',shadow=True,startangle=20)\nplt.title('Genre Pie Chart for the top 10 Bestselling Books on Amazon (2009-2019)',fontdict={'size':14},y=0);","6ecd06ff":"plt.figure(figsize=(12,6))\nsns.distplot(df['Price'],color='purple')\nplt.title('Price Distribution Plot',fontsize=16)\nplt.show()\nfilterwarnings('ignore')","7975e25b":"plt.figure(figsize=(12,6))\nsns.distplot(df['Reviews'],color='red')\nplt.title('Reviews Distribution Plot',fontsize=16)\nplt.show()\nfilterwarnings('ignore')","a732342f":"plt.figure(figsize=(10,5))\nsns.countplot(x=df['User Rating'],palette='viridis_r')\nplt.title('User Rating Distribution Plot',fontsize=16)\nplt.show()","d77f35ae":"sns.jointplot(x='Price',y='Reviews',data=df)\nplt.show()","550c9cd3":"from collections import Counter","1ae754e4":"plt.figure(figsize=(15,7))\nsns.heatmap(df.drop(['Name','Genre','Author','Year'],axis=1).corr(),cmap='Wistia',annot=True)\nplt.show()","bac1ef53":"Counter(df.drop_duplicates('Name')['Author']).most_common()[0]","655284e8":"new_df = df.drop_duplicates('Name')\nnew_df[new_df['Author']=='Jeff Kinney']","425df023":"best_nf_books = df.groupby(['Author', 'Genre']).count().unstack()['Name']['Non Fiction'].sort_values(ascending=False)[:10]\nbest_f_books = df.groupby(['Author', 'Genre']).count().unstack()['Name']['Fiction'].sort_values(ascending=False)[:10]\n\ncolor=sns.color_palette('viridis')\n\nsns.set_style('whitegrid')\n\nfig,axes = plt.subplots(1,2,figsize=(8,8))\nplt.subplots_adjust(wspace=0)\n\naxes[0].invert_xaxis()\naxes[0].invert_yaxis()\naxes[0].yaxis.tick_left()\naxes[0].grid(None)\naxes[0].set_xticks(range(1,int(best_nf_books.values.max())+1))\naxes[0].barh(y=best_nf_books.index,width=best_nf_books.values,height=0.5,tick_label=best_nf_books.index,color=color)\naxes[0].set_yticklabels(best_nf_books.index,fontweight='semibold',fontsize=12)\naxes[0].set_title('Non Fiction Authors',fontdict={'size':16})\naxes[0].set_xlabel('Number Of Times Selected',fontsize=12)\n\naxes[1].set_xticks(range(1,int(best_f_books.values.max())+1))\naxes[1].invert_yaxis()\naxes[1].yaxis.tick_right()\naxes[1].grid(None)\naxes[1].barh(y=best_f_books.index,width=best_f_books.values,height=0.5,tick_label=best_f_books.index,color=color)\naxes[1].set_yticklabels(best_f_books.index,fontweight='semibold',fontsize=12)\naxes[1].set_title('Fiction Authors',fontdict={'size':16})\naxes[1].set_xlabel('Number Of Times Selected',fontsize=12)\n\nplt.show()","708412ca":"books = df.groupby(['Year','Genre']).count().unstack()['Name']\n\nfig,axes=plt.subplots(1,1,figsize=(12,6))\nsns.set_style('white')\naxes.plot(books,markersize=5,markerfacecolor='grey',marker='o')\naxes.set_xlabel('Year')\naxes.set_ylabel('Number Of Entries')\naxes.set_xticks(books.index)\naxes.set_ylim(10,40)\naxes.spines['right'].set_color('none')\naxes.spines['top'].set_color('none')\naxes.legend(books)\naxes.set_title('Fiction Vs. Non Fiction Books In The Bestsellers List (2009-2019)',fontdict={'size':15})\nplt.grid(0)\n\nplt.show()","0e67fd91":"color=sns.color_palette('viridis')\nc1=sns.color_palette('magma')\nc2=sns.color_palette('magma_r')\n\nnew_df = df.drop_duplicates('Name')\n\ndf1 = df.groupby('Author').count().sort_values('Name',ascending=False)[:20]\nindex = df1.index\nmain_df = pd.DataFrame(new_df[df['Author']==index[0]])\n\nfor i in index[1:]:\n    sub_df = new_df[new_df['Author']==i]\n    main_df = pd.concat([main_df,sub_df])\n    \n\nmain_df1 = main_df.groupby('Author').sum()\nmain_df2 = main_df.groupby('Author').mean()\n\nfig, ax = plt.subplots(1,3,figsize=(15,12),sharey=True)\nplt.subplots_adjust(wspace=0.05)\n\nax[0].hlines(xmin=0,xmax=main_df2['User Rating'].values,y=main_df2['User Rating'].index,linestyle='dotted',color=c2)\nax[0].plot(main_df2['User Rating'].values,main_df2.index,'o',markersize=5,markerfacecolor='purple',markeredgecolor='black')\nax[0].set_xticks(np.linspace(0,5,11))\nax[0].set_xlabel('Rating',fontsize=13)\nax[0].set_title('Average User Rating',fontsize=15)\nax[0].set_yticklabels(main_df2['User Rating'].index,fontweight='bold',fontsize=12)\n\nax[1].hlines(xmin=0,xmax=main_df2['Price'].values,y=main_df2['Price'].index,linestyle='dotted',color=c1)\nax[1].plot(main_df2['Price'].values,main_df2.index,'o',markersize=5,markerfacecolor='purple',markeredgecolor='black')\nax[1].set_xticks(list(range(0,51,5)))\nax[1].set_xlabel('Price',fontsize=13)\nax[1].set_title('Average Price',fontsize=15)\n\nax[2].barh(y=main_df1['Reviews'].index,width=main_df1['Reviews'].values,color=color)\nax[2].set_xlabel('Number Of Reviews',fontsize=13)\nax[2].set_title('Total Number Of Reviews',fontsize=15)\n\nplt.show()\nfilterwarnings('ignore')","575499b6":"sns.FacetGrid(df,hue='User Rating').map(sns.scatterplot,'Reviews','Price').add_legend()","619b50e0":"df.describe()","103c5f31":"IQR_r = df['Reviews'].quantile(0.75)-df['Reviews'].quantile(0.25)\n\nupper_limit = df['Reviews'].quantile(0.75)+IQR_r*1.5\nlower_limit = df['Reviews'].quantile(0.75)-IQR_r*1.5\n\nex_lower_limit = df['Reviews'].quantile(0.75)-IQR_r*3\nex_upper_limit = df['Reviews'].quantile(0.75)+IQR_r*3\n\nprint('Outlier\\'s range :\\t',[lower_limit,upper_limit])\nprint('Extreme Outlier\\'s range:',[ex_lower_limit,ex_upper_limit])","8125e19a":"# Amazon's Top 50 Bestsellers (2009-2019)\n![amazon-best-seller-list.png](https:\/\/scribemedia.com\/wp-content\/uploads\/2016\/08\/amazon-best-seller-list.png)","4c15fd39":"# EDA","228f2eb8":"## Trend of the genre of books which were selected in the top 50s each year:","fd7fec30":"## Outliers:","4cabb035":"# Loading the data","e8802000":"## User Rating across all the books:","fd5f6c01":"## Top 20 authors based on their number of appearances in the top 50 list to find out their:\n\n## 1. Average User Rating\n## 2. Average Price Of The Books\n## 3. Total Reviews","d5bab701":"##  Reviews of the books:","1c52f013":"## Price of the books:","5d4c0699":"# Data Visualization","2b27e7b9":"# Data Preprocessing","805ff3b9":"##  The 10 most famous authors from both the Fiction and Non Fiction genre on the basis of the number of appearances in the top 50 list of Bestsellers from 2009-2019.","b807a75f":"## Correlation between the Price and the Reviews feature:","93cf34ca":"# Importing Libraries"}}