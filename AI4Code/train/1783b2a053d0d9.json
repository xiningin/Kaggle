{"cell_type":{"2fa019fd":"code","4ca48769":"code","40b74dc6":"code","ace864c5":"code","b767bb96":"code","9fa34bd1":"code","eb8b5702":"code","eb4ec867":"code","7308e144":"code","228631f5":"code","e97a1adf":"code","c6391824":"code","7b6c84d2":"code","39e8f60e":"code","7c024a72":"code","24a6163e":"code","925a0507":"code","6a4327b8":"code","37a2dcdf":"code","4412e757":"code","0159ffdb":"code","a52640ba":"code","823696c9":"code","85535c4c":"markdown","d1e95678":"markdown","a821f215":"markdown","1d2fe458":"markdown","0cf8e7cc":"markdown","8e410350":"markdown","9ac7104e":"markdown","1c87c7af":"markdown","8ba9c467":"markdown","997f24d9":"markdown","d98d4716":"markdown","fbc1b9c5":"markdown","5ab645ea":"markdown"},"source":{"2fa019fd":"import pandas as pd\nfrom pandas import DataFrame\nimport os\nimport datetime\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n","4ca48769":"file = 'https:\/\/github.com\/IkennaNdukwe\/data-police-shootings\/blob\/master\/fatal-police-shootings-data.csv?raw=true'\n\nfatal_shootings = pd.read_csv(file)\nfatal_shootings","40b74dc6":"fatal_shootings.shape","ace864c5":"#NaNs\nfatal_shootings.isna().sum()","b767bb96":"#percentage of data missing \nmissing = fatal_shootings.isna().sum()\nmissing_count = missing.sum()\ntotal = fatal_shootings.shape[0]\n\nmissing_percentage = (missing_count\/total)*100 \nmissing_percentage","9fa34bd1":"#replace missing values \nfatal_shootings.fillna({'name':'unknown', \n                        'gender':'unknown', \n                        'race':'unknown', \n                        'flee':'unknown', \n                        'armed':'undetermined'}, inplace=True)","eb8b5702":"fatal_shootings.date.dtype #date is object datetype\n\n#convert 'date' column to datetime\n\nfatal_shootings.date = pd.to_datetime(fatal_shootings.date, format='%Y-%m-%d')\nfatal_shootings['year'] = fatal_shootings.date.dt.year\nfatal_shootings.head()","eb4ec867":"#create a new field to hold the ffg categories - armed, unarmed, undetermined, unknown\n#create a list for the conditions \nconditions = [\n    (fatal_shootings['armed'] == 'unarmed'), \n    (fatal_shootings['armed'] == 'undetermined'), \n    (fatal_shootings['armed'] == 'unknown weapon'),\n    (fatal_shootings['armed'] == fatal_shootings['armed'])\n]\n\n#create a list of values to be assigned for each condition\nvalues = ['unarmed', 'undetermined', 'unknown', 'armed']\n\n#create new column and use np.select to assign values to it using our lists as arguments\nfatal_shootings['victim_armed'] = np.select(conditions, values)","7308e144":"fatal_shootings","228631f5":"fatal_shootings['month'] = fatal_shootings.date.dt.month\nfatal_shootings['year'] = fatal_shootings.date.dt.year\n\nsns.catplot(data=fatal_shootings,kind='count',x='year',hue='month', aspect=3)\n\n","e97a1adf":"manner_of_death = fatal_shootings.manner_of_death.value_counts().rename_axis('Manner of Death').reset_index(name='Count')\n#manner_of_death.to_excel(os.path.join(output_path, 'manner_of_death.xlsx'), index=False)\n\n\ndeath_manner = manner_of_death['Manner of Death']\ncount = manner_of_death.Count\nlabels = death_manner\n\nplt.pie(count, labels=labels, autopct='%.2f%%', explode=[0.1,0.05])\nplt.title('Manner of Deaths')\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.show()","c6391824":"victims_armed = fatal_shootings.victim_armed.value_counts().rename_axis('Armed').reset_index(name='Count')\n#victims_armed.to_excel(os.path.join(output_path, 'victims_armed.xlsx'), index=False)\n\narmed = victims_armed.Armed\ncounts = victims_armed.Count\n\nplt.figure(figsize=(10, 6))\nplt.barh(armed, counts, align='center', height=0.8, color='r')\n#plt.xticks(counts)\nplt.xlabel('Count')\nplt.ylabel('Victim Armed')\nplt.title('Victims Armed')\nplt.tight_layout()\nplt.show()","7b6c84d2":"fatal_shootings.age.describe()","39e8f60e":"#bin ages \n\nbins = [0, 15, 25, 65, 110]\nlabels = ['Children', 'Youth', 'Adults', 'Seniors']\nfatal_shootings['binned'] = pd.cut(fatal_shootings['age'], bins=bins, labels=labels, right=False)\nage_group = fatal_shootings.binned.value_counts().rename_axis('Age Group').reset_index(name='Count')\n\n#age_group.to_excel(os.path.join(output_path, 'age_group.xlsx'))\nage_group\n\nplt.figure(figsize=(10, 6))\nplt.bar(age_group['Age Group'], age_group.Count, align='center', width=0.5, color='g')\nplt.xticks(age_group['Age Group'])\nplt.ylabel('Count')\nplt.xlabel('Age Groups')\nplt.title('Age Categorization of Victims')\nplt.tight_layout()\nplt.show()\n\nplt.figure(figsize=(10, 6))\nsns.distplot(fatal_shootings['age'],kde=True,color='r').set_title('Age Distribution of Victims')\n","7c024a72":"gender_classification = fatal_shootings.gender.value_counts().rename_axis('Gender').reset_index(name='Count')\n\ngender = gender_classification.Gender \ncount = gender_classification.Count\nlabels = gender \n\n\nplt.pie(count, labels=labels, autopct='%.2f%%', explode=[0.1,0.05,1])\nplt.title('Victims Gender')\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.show()","24a6163e":"victim_race = fatal_shootings.race.value_counts().rename_axis('Race').reset_index(name='Count')\n\nrace = victim_race.Race \ncounts = victim_race.Count\n\nplt.figure(figsize=(10, 6))\nplt.barh(race, counts, align='center', height=0.9, color='purple')\n#plt.xticks(counts)\nplt.xlabel('Count')\nplt.ylabel('Race')\nplt.title('Race of Victims')\nplt.tight_layout()\nplt.show()","925a0507":"killings_per_state = fatal_shootings.state.value_counts().rename_axis('State').reset_index(name='Count')\ntop10 = killings_per_state.head(10)\n\nstate = top10.State \ncount = top10.Count\nlabels = state \n\nplt.pie(count, labels=labels, autopct='%.2f%%')\nplt.title('Killings Per State')\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.show()","6a4327b8":"mental_illness = fatal_shootings.signs_of_mental_illness.value_counts().rename_axis('Mental Illness').reset_index(name='Count')\n\nlabels = mental_illness['Mental Illness']\ncount = mental_illness.Count\n\nplt.title('Signs of Mental Illness')\nplt.pie(count, labels=labels, autopct='%.2f%%', explode=[0.1,0.05])\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.show()","37a2dcdf":"threat_level = fatal_shootings.threat_level.value_counts().rename_axis('Threat Level').reset_index(name='Count')\n\nthreat = threat_level['Threat Level']\ncount = threat_level.Count\n\nplt.figure(figsize=(10, 6))\nplt.bar(threat, count, align='center', width=0.5, color='g')\nplt.xticks(threat)\nplt.ylabel('Count')\nplt.xlabel('Threat Level')\nplt.title('Threat Level of Victims')\nplt.tight_layout()\nplt.show()","4412e757":"bwh = fatal_shootings.loc[(fatal_shootings.race=='W') | (fatal_shootings.race=='B') | (fatal_shootings.race=='H')]","0159ffdb":"bwh_trends = pd.DataFrame({'count': bwh.groupby(['year', 'race']).size()}).reset_index()\nbwh_trends\n","a52640ba":"plt.figure(figsize=(10, 6))\nsns.lineplot(data = bwh_trends, x = 'year', y = 'count', hue = 'race')\nplt.show()","823696c9":"cam = fatal_shootings.body_camera.value_counts().rename_axis('body camera').reset_index(name='Count')\ncam\n\nlabels = cam['body camera']\ncount = cam.Count\n\nplt.title('Officer Body Cameras')\nplt.pie(count, labels=labels, autopct='%.2f%%', explode=[0.1,0.05])\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.show()\n","85535c4c":"### Q7. Top 10 States - Kill Count","d1e95678":"### Q9. Threat Level\n\nThe general criteria for the attack label was that there was the most direct and immediate threat to life. \nThat would include incidents where officers or others were shot at, threatened with a gun, attacked with other weapons or physical force, etc. \nThe attack category is meant to flag the highest level of threat. The other and undetermined categories represent all remaining cases. \nOther includes many incidents where officers or others faced significant threats.","a821f215":"### Q8. Signs of Mental Illness","1d2fe458":"### Q10. Trends\n\nFatal shooting trends of blacks, whites, and hispanics","0cf8e7cc":"### Fatal Police Shootings in the US\n\n#### The Washington Post's database contains records of every fatal shooting in the United States by a police officer in the line of duty since Jan. 1, 2015.\n#### Date range: Jan 01, 2015 - Nov 22, 2021\n\nEDA to quantitatively answer the following: \n1. Killings per period \n2. Manner of deaths \n3. Victims armed or not \n4. Age ranges and distribution of victims \n5. Killings per gender \n6. Killings per race \n7. Top 10 States with the highest kills\n8. Signs of mental illness of victims \n9. Victims threating police officers\n10. Trend: fatal shooting of blacks, whites, and hispanics (2015 - 2021)\n\nDataset: https:\/\/github.com\/washingtonpost\/data-police-shootings\n\nTableau Dashboard: https:\/\/public.tableau.com\/app\/profile\/ikenna4609\/viz\/PoliceKillingsintheUSA\/PoliceKillingsintheUSA?publish=yes","8e410350":"### Q1. Killings Per Period","9ac7104e":"### Q11. Body Cameras Present - True\/False","1c87c7af":"### Clean up","8ba9c467":"### Q5. Gender Count Comparison","997f24d9":"### Q4. Victims age stratification\n\n1. Children (00-14 years)\n2. Youth (15-24 years)\n3. Adults (25-64 years)\n4. Seniors (65 years and over)","d98d4716":"### Q3. Victims armed?\n\narmed: indicates that the victim was armed with some sort of implement that a police officer believed could inflict harm\n\n    undetermined: it is not known whether or not the victim had a weapon\n    unknown: the victim was armed, but it is not known what the object was\n    unarmed: the victim was not armed\n    armed: the victim was armed with some type of weapon\n","fbc1b9c5":"### Q6. Victims' Race\n\n\n    W: White, non-Hispanic\n    B: Black, non-Hispanic\n    A: Asian\n    N: Native American\n    H: Hispanic\n    O: Other\n    None: unknown\n","5ab645ea":"### Q2. Manner of deaths"}}