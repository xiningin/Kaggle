{"cell_type":{"0633cdb1":"code","53af4507":"code","24644fe6":"code","15b4ac96":"code","850b4536":"code","8ec42d1e":"code","5b44619f":"code","0302e5a8":"code","2f25981e":"code","d0543f1e":"code","e57976b4":"code","686434b4":"code","4b519a98":"code","f11beb63":"code","6319669a":"code","aeb5a9ac":"code","e402c39c":"code","9c13c0c9":"code","930e5e9a":"code","792aa12f":"code","03c91eab":"code","3ca4d6d7":"code","48f8c2e6":"code","b92db8eb":"code","fe966d79":"code","bab98236":"markdown","594ed603":"markdown","45feca07":"markdown","1115fa71":"markdown","c51f6362":"markdown","d261eb39":"markdown","a6cbe061":"markdown","f5130f17":"markdown","ab35dda0":"markdown","2a7cc28e":"markdown","f43fdc8b":"markdown","d84ed74d":"markdown","5e60f7cc":"markdown","8e3c42a9":"markdown","ba2df970":"markdown","cd828ca1":"markdown","8ca2dc02":"markdown","af01f58d":"markdown","ebc0ecb7":"markdown","809ceab6":"markdown","0a7f333a":"markdown","8a506f51":"markdown","1e5b1f63":"markdown","3cc6ed1b":"markdown","f5b41c66":"markdown","cfe7bc20":"markdown","610354aa":"markdown","8cd2e5cb":"markdown","74f52f39":"markdown","b20d3558":"markdown","c503050e":"markdown","b5bd872a":"markdown","af884b02":"markdown","d4bdef8a":"markdown","cdb21822":"markdown","2b71cc6c":"markdown","a62320cd":"markdown","f1eb6195":"markdown","fb10a374":"markdown","d4ac9bed":"markdown","9e136b0b":"markdown","00f418ba":"markdown","43261c35":"markdown","59c56e5a":"markdown","b30223be":"markdown","7b8d3afb":"markdown","d6f55b13":"markdown","cb67db6f":"markdown","3f18c87b":"markdown","b0f95edb":"markdown","98e737e9":"markdown","13b9748a":"markdown","cb6caa11":"markdown","e4717272":"markdown","9599a8fd":"markdown","e8de893e":"markdown","d5f2e3d5":"markdown","a73d4511":"markdown","860c90ad":"markdown","ee01cc1c":"markdown","d2f08da6":"markdown","ba3d9761":"markdown","847ab864":"markdown","5dab02cd":"markdown","4ecd58fb":"markdown","fa42925b":"markdown","d7ca484b":"markdown","7ecb51a9":"markdown","6efa035f":"markdown","8d108f3b":"markdown","e3383a6b":"markdown","02c3f255":"markdown","cd64227e":"markdown","8d8049f4":"markdown","3b93e555":"markdown","9abde916":"markdown","cf7c9faa":"markdown","59df303a":"markdown","a000d7a4":"markdown","f2fdb27b":"markdown","1b84da40":"markdown"},"source":{"0633cdb1":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\n%matplotlib inline\nimport seaborn as sns\nimport datetime","53af4507":"airbnb = pd.read_csv(\"..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv\",engine = 'python')","24644fe6":"airbnb.head()","15b4ac96":"airbnb.shape","850b4536":"airbnb.dtypes","8ec42d1e":"airbnb.isnull().sum()","5b44619f":"airbnb.drop(['host_name'], axis = 1, inplace = True)\nairbnb.head()","0302e5a8":"airbnb['reviews_per_month'].fillna(0, inplace = True)\nairbnb.head(20)","2f25981e":"airbnb.reviews_per_month.isnull().sum()","d0543f1e":"airbnb['last_review'] = pd.to_datetime(airbnb['last_review'], format = '%Y-%m-%d')\nairbnb['last_review'].fillna('1990-01-01', inplace = True)\nairbnb.head(6)","e57976b4":"airbnb.describe()","686434b4":"Number_of_Host = len(airbnb.host_id.unique())\nNumber_of_Host","4b519a98":"top_host = airbnb.host_id.value_counts()\ntop_host_df = pd.DataFrame(top_host)\ntop_host_df.reset_index(inplace = True)\ntop_host_df.rename(columns = {'index':'Host_ID','host_id':'P_Count'}, inplace = True)\ntop_host_df['Total Percent of Place'] = top_host_df.P_Count\/len(airbnb.host_id)\ntop_host_df['Cumulative_Percent'] = top_host_df['Total Percent of Place'].cumsum()\ntop_host_df","f11beb63":"airbnb.neighbourhood_group.unique()","6319669a":"sub_group = airbnb[['neighbourhood_group','price']]\nsub_group2 = sub_group.groupby('neighbourhood_group')\nsub_group2.describe()","aeb5a9ac":"sns.set(rc = {'figure.figsize':(8,6)})\nsns.set_style('whitegrid')\nprice_constrains = airbnb[airbnb['price']< 500]\npic_1=sns.violinplot(data=price_constrains, x='neighbourhood_group', y='price',palette = \"RdBu\")\npic_1.set_title('Density and distribution of prices for each neighberhood_group')","e402c39c":"len(airbnb.neighbourhood.unique())","9c13c0c9":"airbnb.room_type.unique()","930e5e9a":"grouped_room_type = airbnb.groupby('room_type')\nagg_room_type = grouped_room_type['price'].agg([np.sum, np.mean, np.std,np.count_nonzero])\nagg_room_type","792aa12f":"airbnb.price.describe()","03c91eab":"airbnb_price_adjusted = airbnb.price[(airbnb.price <= 500)]\nairbnb_price_adjusted","3ca4d6d7":"df_airbnb_price_adjusted = pd.DataFrame(airbnb_price_adjusted)\ndf_airbnb_price_adjusted","48f8c2e6":"df_airbnb_price_adjusted.to_csv('df_airbnb_price_adjusted.csv')","b92db8eb":"agg_room_type.to_csv('agg_room_type.csv')","fe966d79":"airbnb.corr().style.background_gradient(cmap='Blues')","bab98236":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >6.Correlations between Variables","594ed603":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nHere are the code for barplot using seaborns\n<br>cus_1 = sns.barplot(x = 'Host_ID', y = 'P_Count', data = top_host_df, palette = \"RdBu\")\n<br>cus_1.set_title('Hosts with most listings in NYC')\n<br>cus_1.set_xlabel('Host IDs')\n<br>cus_1.set_ylabel('Count of Listings')\n<br>cus_1.set_xticklabels(cus_1.get_xticklabels(), rotation = 45)\n<br>plt.show()","45feca07":"#### <font face=\"Frutiger\" size=4 color=#A52A2A > Acknowledgements","1115fa71":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The average price in NYC is 152 dollar and the median price is 106 dollar. \n+ The price distribution are \"skewed to the right\", with a long tail of high scores pulling the mean up more than the median.","c51f6362":"![Price Distribution in Neighbourhood Group.png](https:\/\/i.loli.net\/2020\/08\/27\/FqQAMxDTuhSJnfy.png)","d261eb39":"![Room Type Distribution in Neighbourhood Group .png](https:\/\/i.loli.net\/2020\/08\/27\/zeqVb7O6Dug5QPK.png)","a6cbe061":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n<br>1. Importing Libraries\n<br>2. Loading Dataset\n<br>3. Dataset Description\n<br>4. Data Cleaning\n<br>5. Exploratory Data Analysis\n+ Host\n+ Neighbourhood Group\n+ Neighbourhood\n+ Geography\n+ Room Type\n+ Price\n+ Number of Reviews\n+ Room Name\n\n<br> 6.Correlations between Variables","f5130f17":"\n<font face=\"Frutiger\" size=2 color = \"Grey\"> Here shows top 6 Listing Neighbourhood.","ab35dda0":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nReplacing the column 'reviews_per_month' NaN values with 0.","2a7cc28e":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The neighbourhood group include Brooklyn, Manhattan, Queens, Staten Island and Bronx.","f43fdc8b":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nHere shows top 15 listing neighbourhood with their average price.","d84ed74d":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Manhattan and Brooklyn provide more than 85% of homes in NYC.","5e60f7cc":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >4.Data Cleaning","8e3c42a9":"\n<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Most of the home price in NYC are below 500. \n+ Some of the extreme large value can reach to 1000. \n+ In order to further analyze the price distribution, I cut out the home prices which are above 500. ","ba2df970":"![ChessUrl](http:\/\/img.mp.sohu.com\/upload\/20170711\/463673e454d8459c943032134288f1a1_th.png)","cd828ca1":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >5.Exploratory Analysis","8ca2dc02":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Manhattan: the price distribute more dispersively than others; the price from 90 to 100 has greater density.\n+ Brooklyn, Queens, Staten Island and Bronx: the price from 50 to 70 has greater density. It might because the home in this price range can attract more guests.(supply and demand theory)\n","af01f58d":"![Top Hosts in NYC.png](https:\/\/i.loli.net\/2020\/08\/27\/vYCRWcgH7mZdpNh.png)","ebc0ecb7":"#### <font face=\"Frutiger\" size=4 color=#A52A2A > Content","809ceab6":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThe dataset lists features of each unique home.","0a7f333a":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nGetting the number of mising data per column.","8a506f51":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nFinding out the Top 20 hosts with most listing homes.","1e5b1f63":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Entire home and private room take up almost 98% of the home type.\n+ Entire home has the highest average price 212, almost two times of price for private room.\n+ Shared room has the lowest average price 70 and the average price seems not have big gap compared to private room 90.","3cc6ed1b":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Host","f5b41c66":"67.8% of the home prices distribute in the range of 37.8 to 151.2.\n3.52% of home prices are below 37.8.\n29% of home prices are above 151.2.","cfe7bc20":"![Top 6 Listings Neighbourhood.png](https:\/\/i.loli.net\/2020\/08\/27\/m9UGX5lIZ1j3zuJ.png)","610354aa":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nGetting the correlation between different variables.","8cd2e5cb":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Neighbourhood Group","74f52f39":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Price analysis","b20d3558":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nChecking the fill up result.","c503050e":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The average price in NYC is 152.\n+ The median price in NYC is 106.","b5bd872a":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >3.Overview of Dataframe","af884b02":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nVisualizing the Top 20 hosts with most listing homes in NYC.","d4bdef8a":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Manhattan has the highest average price 196 and the median price is 150.\n+ Bronx has the lowest average price 87 and the median price is 65.\n+ The five neighbourhood group have long tail of high scores pulling the mean up more than the median.","cdb21822":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Numbr of Reviews ","2b71cc6c":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nIn order to have a more informative plot, I draw a violin plot to show the full distribution of the data and the probability density of the data at different values.","a62320cd":"![Room Type Distribution.png](https:\/\/i.loli.net\/2020\/08\/27\/K3ylsYbh6qELu5P.png)","f1eb6195":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The top 1 host has 327 listing homes which represent the total of 0.67% homes in NYC.","fb10a374":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Neighbourhood","d4ac9bed":"![Top 5 Host Homes Distribution.png](https:\/\/i.loli.net\/2020\/08\/27\/DSiehwGUogarWlZ.png)","9e136b0b":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Williamsburg and Bedford-Stuyvesant take up almost 50% of the top 6 listings. ","00f418ba":"![_Neighbourhood Group.png](https:\/\/i.loli.net\/2020\/08\/27\/3jq5GgfUk79hbNY.png)","43261c35":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThere are 221 unique neighbourhood group in NYC.","59c56e5a":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The top 15 number of guest reviews mostly come from the neighborhood Manhattan and Brooklyn. \n+ The top 3 number of guest reviews come from homes which prices are below 100. ","b30223be":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThis data file includes all needed information to find out more about hosts, geographical availability, necessary metrics to make predictions and draw conclusions.","7b8d3afb":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ I tried to find out some relationships between these variables with price in order to build a pricing model to help hosts get the maximum revenue for setting their home market price.\n\n+ The corrlation map of this dataset shows low relative relationships. \n\n+ For further analyzing the pricing strategy, I will look into more on these variables - geographic locaton, room type, number_of reviews, home rates, peak seasons, room size, property facility, photo quality.","d6f55b13":"![Top 15 Review Counts.png](https:\/\/i.loli.net\/2020\/08\/27\/iMlb6zQjWNXhpoP.png)","cb67db6f":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The first host provides 327 homes. The second host provides 232 homes which is almost two times of homes provided by the third host. \n+ The top 3 hosts might be the professional airbnb host agents.\n+ Most of the homes provided by top 3 hosts locate in Manhattan. \n+ The median price of homes provided by top 3 hosts is 278\/night, which is higher than the fourth hosts average price 44 dollar \/night. \n+ The huge price gap might because the fourth hosts' homes locate in Queens.","3f18c87b":"#### <font face=\"Frutiger\" size=4 color=#A52A2A >Outline","b0f95edb":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nSince 2008, guests and hosts have used Airbnb to expand on traveling possibilities and present more unique, personalized way of experiencing the world. This dataset describes the listing activity and metrics in NYC, NY for 2019.","98e737e9":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Midtown has the highest average price of 283.\n+ Bushwick has the lowest average price of 85.","13b9748a":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >1.Importing Libraries","cb6caa11":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThe dataset lists 48,895 homes in New York city.In order to make further business plan or decision, I will conduct both descriptive and exploratory statistical analysis.","e4717272":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nKey words included in airbnb home name","9599a8fd":"![Price Distribution in NYC.png](https:\/\/i.loli.net\/2020\/08\/27\/3ElJp8xX4rzsmIW.png)","e8de893e":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Entire home type has the highest average price in different neighbourhood group. \n+ Entire home type has the largest ditribution 61% in Manhattan. \n+ Private room type has the largest distribution 60% in both Bronx and Queens.\n+ Shared room type has the largest distribution 5% in Bronx.","d5f2e3d5":"![Host.png](https:\/\/i.loli.net\/2020\/08\/27\/SefvT9NcgdLqr5m.png)","a73d4511":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Here show some top frequency key words in NYC airbnb home names. \n+ Private, Spacious, Beautiful, Large, Sunny, Cozy, Charming.\n+ Hosts can describe their homes using these key words in order to improve the booking rate.","860c90ad":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nDropping irelevant column 'host_name'.","ee01cc1c":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Room Type ","d2f08da6":"![World Cloud.png](https:\/\/i.loli.net\/2020\/08\/27\/37Pyaw8vKpQCtnc.png)","ba3d9761":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The average price of entire room type has the largest standard deviation compared to private room and shared room types. ","847ab864":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nData Source\nhttps:\/\/www.kaggle.com\/dgomonov\/new-york-city-airbnb-open-data","5dab02cd":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nMost of the home prices are lower than 500. Cutting out home prices higher than 500 and analyzing the price distribution in different neighbourhood group. ","4ecd58fb":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The dataset includes 48,895 unique homes with 16 describing features.","fa42925b":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThere are 5 neighbourhood group in NYC.","d7ca484b":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ The total 48,895 unique homes in NYC are provided by 37,457 hosts.","7ecb51a9":"#### <font face=\"Frutiger\" size=4 color=#A52A2A > Context ","6efa035f":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nGetting the basic statistics analysis of the overall dataset.","8d108f3b":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nConverting the column 'last_review' as datetime type.\nSetting NaN values as 1990-01-01.","e3383a6b":"![Price_Histograms_Price_500_.png](https:\/\/i.loli.net\/2020\/08\/27\/xYc2nViv4qUwTuW.png)","02c3f255":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nAnalyzing the price statistical measures related to neighbourhood groups. ","cd64227e":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ 80% of homes in NYC are provided by Top 75% of hosts with most listings. \n+ Top 20% of hosts with most listings provide 38% of homes in NYC.","8d8049f4":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThis public dataset is part of Airbnb, and the original source can be found on Airbnb website.","3b93e555":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \n+ Airbnb has three differerent room type - Private Room, Entire Home, Shared Room.","9abde916":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Geographic analysis","cf7c9faa":"<font face=\"Frutiger\" size=2 color = \"Grey\"> \nThere is no strong meaningful relationship between these variables.","59df303a":"#### <font face=\"Frutiger\" size=4 color=#A52A2A >Abstract","a000d7a4":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >Room Name","f2fdb27b":"![Average Price in Neighbourhood.png](https:\/\/i.loli.net\/2020\/08\/27\/wMjHif5dY7OLK2m.png)","1b84da40":"#### <font face=\"Frutiger\" size=2 color=#A52A2A >2.Loading Dataset"}}