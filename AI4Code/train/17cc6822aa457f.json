{"cell_type":{"1afa5ae1":"code","f7bc0d57":"code","f9112cf8":"code","44f56c80":"code","ef2a29ed":"code","b4f0c46d":"code","7cbd8dbc":"code","6a580f97":"code","ca785add":"code","ed44c771":"code","c39c6c26":"code","5f1a7930":"code","06767b93":"code","20f6266b":"code","27cdc923":"code","0e67ce7e":"code","9628f8c3":"code","62e0112e":"code","81d748c8":"code","4eaf79ff":"code","fa96ae10":"code","6180469d":"code","d6a9b8c1":"code","60d5138f":"markdown","494da4ce":"markdown","a062ee0c":"markdown","d1be693b":"markdown","208707b2":"markdown","d133a40c":"markdown","77e585be":"markdown","550874a4":"markdown","0c3d92b2":"markdown","6b36406f":"markdown","eccc16aa":"markdown","069bf7c8":"markdown","25560fea":"markdown","949c4a0c":"markdown","4e372572":"markdown","916c0963":"markdown","f9a93462":"markdown","3d7ecf0d":"markdown","ee1587a4":"markdown","dc818493":"markdown","38bdea4c":"markdown","44ecd0fd":"markdown","b9618e68":"markdown","3d4538b9":"markdown","45f6d188":"markdown","603a4d16":"markdown","5fba571c":"markdown","957b66cc":"markdown"},"source":{"1afa5ae1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","f7bc0d57":"cereals = pd.read_csv('\/kaggle\/input\/80-cereals\/cereal.csv')","f9112cf8":"cereals.head(10)","44f56c80":"cereals = cereals[['name', 'mfr', 'calories', 'protein', 'fat', 'sodium', 'fiber', 'carbo', 'sugars', 'rating']]","ef2a29ed":"cereals = cereals.rename(columns={'mfr': 'manufacturer', 'protein': 'protein (g)', 'fat':'fat (g)', \n                          'sodium':'sodium (mg)', 'fiber': 'fiber (g)', 'carbo':'carb. (g)', 'sugars': 'sugar (g)'})","b4f0c46d":"cereals.columns.tolist()","7cbd8dbc":"# Call replace() only on the manufacturer column and save it back to manufacturer column for data persistence\ncereals['manufacturer'] = cereals['manufacturer']\\\n                        .replace({'A':'American Home Food Products', 'G':'General Mills', 'K':'Kelloggs', \n                                 'N':'Nabisco', 'P':'Post', 'Q':'Quaker Oats', 'R':'Ralston Purina'})","6a580f97":"cereals = cereals.set_index('name')","ca785add":"cereals.head()","ed44c771":"# 1. Select the 'manufacturer' column\n# 2. Apply value_counts() to get the group size (number of cereals within each manufacturer group)\n# 3. Plot the pie\ncereals.manufacturer\\\n        .value_counts()\\\n        .plot.pie()","c39c6c26":"# 1. Conditional selection: selects the row in the 'manufacturer' column that contains 'American Home Food Products'\n# 2. shape[0]: Count the number of rows \ncereals[cereals.manufacturer == 'American Home Food Products']\\\n        .shape[0]","5f1a7930":"# 1. Same conditional selection as above\n# 2. Reset index so we can get the name by selecting the column (step 3b)\n# 3. Since we know that there is only one row (cereal), to get the name of the cereal:\n    # a. Select the first row using iloc[i], i = row index number\n    # b. Select the name column using loc[column_name]\ncereals[cereals.manufacturer == 'American Home Food Products']\\\n        .reset_index()\\\n        .iloc[0].loc['name']","06767b93":"# 1. Select the 'rating' column\n# 2. Sort the values in descending order (default= ascending)\n# 3. Display the top 10 rows using iloc[:] subslicing \ncereals.rating\\\n        .sort_values(ascending=False)\\\n        .iloc[:10]","20f6266b":"# Top 5 cereals (first would be highest ranked)\n# 1. Sort the data in ascending order of ratings because the .barh() plots the rows in reverse order\n# 2. Select the 'fiber', 'sugar', 'carb' columns\n# 3. Select the top 5 with tail(n) (displays the bottom n rows) since the data is in ascending order\ncereals.sort_values('rating')\\\n        [['fiber (g)', 'sugar (g)', 'carb. (g)']]\\\n        .tail(5)\\\n        .plot.barh()","27cdc923":"# Bottom 10 cereals (last would be the lowest ranked)\ncereals.sort_values('rating')[['fiber (g)', 'sugar (g)', 'carb. (g)']].head().plot.barh()","0e67ce7e":"cereals.plot.scatter(x='sugar (g)', y='rating')","9628f8c3":"# Select the cereal (row) with the lowest sugar content\ncereals[ cereals['sugar (g)'] == cereals['sugar (g)'].min() ]","62e0112e":"# Select the cereal (row) with the highest rating\ncereals[ cereals.rating == cereals.rating.max() ]","81d748c8":"cereals.plot.scatter(x='fiber (g)',y='rating')","4eaf79ff":"# 1. Split by manufacturer\n# 2. Select the 'rating' column\n# 3. Get the average \n# 4. Sort the values in descending order\ncereals.groupby('manufacturer')\\\n    .rating\\\n    .mean()\\\n    .sort_values(ascending=False)","fa96ae10":"# 1. Select the 'manufacturer' and rating' columns\n# 2. Sort the rating in descending order \n# 3. Display the top 10 rows \ncereals[['manufacturer','rating']]\\\n        .sort_values('rating',ascending=False)\\\n        .iloc[:10]","6180469d":"# 1. Split by manufacturer\n# 2. Select the 'rating' column\n# 3. Get the standard deviation\n# 4. Sort the values in descending order\ncereals.groupby('manufacturer')\\\n        .rating\\\n        .std()\\\n        .sort_values(ascending=False)","d6a9b8c1":"# 1. Split by manufacturer\n# 2. Select the 'sugar' column\n# 3. Get the standard deviation\n# 4. Sort the values in descending order\ncereals.groupby('manufacturer')\\\n        ['sugar (g)']\\\n        .std()\\\n        .sort_values(ascending=False)","60d5138f":"b. Check to see if the output above coincides with the top 10 ranked cereals by also displaying the manufacturer of those cereals\n> `sort_values()` takes in another argument (the column to be sorted) if it is called on more than one column \n","494da4ce":"* The only significant difference that could cause the drop in rating would be the lack of fiber in Quaker Oatmeal.\n* Given this observation, is fiber another factor that decides a cereal's rating?","a062ee0c":"Note: to check if the renaming of columns was successful, we can use the `columns` data attribute and the `tolist()` method for easier readability, instead of displaying individual cereal data which is not needed in this case.\n* `columns`: outputs the column names of the data frame\n* `tolist()`: converts an object into a list","d1be693b":"f. Using a scatter plot, display and examine the relationship between fiber (x-axis) and rating (y-axis)","208707b2":"The plot shows that there is a cereal that has a sugar content below 0(g) but it is rated at around 50.\n\nd. Display the cereal's other nutritional facts ","d133a40c":"Note: `shape` outputs both the number of rows and cells, `shape[1]` outputs the number of cells","77e585be":"# Dataset\nLoad the cereal csv file into a DataFrame named `cereals`","550874a4":"a. What is the rank of manufacturers in terms of average cereal ratings, in descending order?","0c3d92b2":"# 1. Cereal Manufacturer Market Share #","6b36406f":"# 2. Ratings vs Nutrition #","eccc16aa":"Note: we can use `\\` to signify a line break so we can separate the code into multiple lines for easier readability","069bf7c8":"* Given the two horizontal bar plots above, it may be assumed that sugar is the biggest deciding factor or at least correlated to how a cereal is rated. The more sugar the cereal contains, the lower the rating. \n\nc. Using a scatter plot, display and examine the relationship between sugar (x-axis) and rating (y-axis)\n> `scatter(x='column_name1', y='column_name2')`","25560fea":"d. Find the standard deviation of sugar for each manufacturer and display in descending order to confirm that sugar content is correlated to rating","949c4a0c":"**2. Rename column names for readability purposes**\n\nThe `rename()` method can rename column names by passing in a dictionary with the `key:value` as `old_name:new_name`\n* To specify that we are renaming column names, we need to use `columns=` as the parameter","4e372572":"Using `head(n)`, we can display the first 10 rows to get a sense of what the dataset looks like.\n* `head()` would display 5 rows by default","916c0963":"a. Display a pie plot of manufacturers to represent how \"big\" each are in terms of number of cereals produced and sold in a typical supermarket.","f9a93462":"Display the first 5 rows to see if the changes made were successful","3d7ecf0d":"* It can be assumed that the ratings were based on how healthy the cereal. However, we don't know what are the factors that makes a cereal 'healthy'. \n\nb. Compare the nutritional statistics of the top 5 and bottom 5 cereals ranked in descending order using a horizontal bar plot","ee1587a4":"**4. Set the 'name' column as the index for readability purposes**","dc818493":"### **Further steps to clean data:** ###\n**1. Select necessary data for analysis**\n\nAs we need all cereals, but not all of the features, we can utilize multiple column selection by indexing with **a list** of column names:\n> `cereals[[column_name1,column_name2]]`\n\nNote: to make sure the changes we make persist in the dataset, we need to save it into the `cereals` data frame","38bdea4c":"* The pie plot shows what many may have assumed, which is that Kelloggs and General Mills are the top two manufacturers. Meanwhile, as American Home Food Products is a pretty unknown company and, thus understandably the smallest.\n\nb. How many and what are the cereal(s) American Home Food Products manufacture?","44ecd0fd":"e. Compare to the highest rated cereal to find out why the cereal above is given a low rating despite low sugar content","b9618e68":"c. Are the ranking of average ratings driven by outliers? (Display in descending order)\n\nNote: if our conclusion was right that sugar is correlated to cereal rating, the output will also provide insight if a manufacturer offers a diverse range of cereals (healthy and non-healthy)","3d4538b9":"a. What are the top 10 ranked cereals in descending order?","45f6d188":"**3. Replace manufacturer abbreviations with full version for a more readable analysis**","603a4d16":"Note: without saving the data frame that resets the index, the `cereals` data frame is still indexed by name","5fba571c":"# 3. Manufacturer Rating","957b66cc":"We can conclude from the two scatterplots above that more sugar and less fiber is correlated to a lower rating, while less sugar and more fiber is correlated to a higher rating."}}