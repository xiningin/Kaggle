{"cell_type":{"11a96493":"code","3c0bbcb8":"code","aef7fb17":"code","ca36c0ba":"code","7e349a89":"code","25768225":"code","c999c3f5":"code","677dd204":"code","eddc2ff1":"code","326cb54d":"code","e24049c1":"code","81f764c3":"code","b145fa74":"code","40742d5a":"code","16ec35d3":"code","27621703":"code","f56003e4":"code","02aa0700":"code","554c35f5":"markdown","9719dc44":"markdown","d1f92de5":"markdown"},"source":{"11a96493":"from nilearn.image import resample_img\nimport pylab as plt\nimport nibabel as nb\nimport numpy as np","3c0bbcb8":"orig_nii = nb.load(\"..\/input\/sub-control01\/ses-01\/anat\/sub-control01_ses-01_T1w.nii.gz\")","aef7fb17":"np.round(orig_nii.affine)","ca36c0ba":"orig_nii.shape","7e349a89":"orig_nii.header.get_zooms()","25768225":"plt.imshow(orig_nii.dataobj[:,:,80])","c999c3f5":"downsampled_nii = resample_img(orig_nii, target_affine=np.eye(3)*2., interpolation='nearest')","677dd204":"downsampled_nii.affine","eddc2ff1":"downsampled_nii.shape","326cb54d":"plt.imshow(downsampled_nii.dataobj[:,:,50])","e24049c1":"upsampled_nii = resample_img(orig_nii, target_affine=np.eye(3)*0.5, interpolation='nearest')","81f764c3":"upsampled_nii.affine","b145fa74":"upsampled_nii.shape","40742d5a":"plt.imshow(upsampled_nii.dataobj[:,:,200])","16ec35d3":"target_shape = np.array((240,40,100))\nnew_resolution = [2,]*3\nnew_affine = np.zeros((4,4))\nnew_affine[:3,:3] = np.diag(new_resolution)\n# putting point 0,0,0 in the middle of the new volume - this could be refined in the future\nnew_affine[:3,3] = target_shape*new_resolution\/2.*-1\nnew_affine[3,3] = 1.\ndownsampled_and_cropped_nii = resample_img(orig_nii, target_affine=new_affine, target_shape=target_shape, interpolation='nearest')","27621703":"downsampled_and_cropped_nii.affine","f56003e4":"downsampled_and_cropped_nii.shape","02aa0700":"plt.imshow(downsampled_and_cropped_nii.dataobj[:,:,70])","554c35f5":"# Downsampling","9719dc44":"# Upsampling","d1f92de5":"# Resampling with cropping\/padding"}}