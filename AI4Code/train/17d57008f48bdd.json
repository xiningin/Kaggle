{"cell_type":{"22347fab":"code","46ae21c3":"code","57fcdff4":"code","444714fb":"code","c2a86ff8":"code","c23d0469":"code","89b0eefb":"code","b29d870d":"code","8a639dd4":"code","356fed8e":"code","81d3e2f7":"code","00bd7331":"code","1a4feb16":"code","deae88b7":"code","af566850":"code","4c227733":"code","51da8a6f":"code","15df451e":"code","175f2d10":"code","03ffd80c":"code","6c926fe4":"code","46d25d5e":"code","a32e01fa":"code","6478bdba":"code","b8aa5087":"code","b4b157f2":"code","37c999a6":"code","7a27420c":"code","8d4d4c8f":"code","d7c26086":"code","76d553fd":"code","6a56a8bc":"code","7491b4be":"code","cb091339":"code","3ff88e65":"code","8c4a6ed3":"code","5f7e1372":"code","f0f2599e":"code","c73d288d":"code","cd380593":"code","c4408278":"code","957bcb15":"code","166d0e3d":"code","b13eebdb":"code","efe5273d":"code","467315a8":"code","21defb34":"code","0805df0f":"markdown","2f131e86":"markdown","7de88c54":"markdown","78c7049f":"markdown","6ac5ba9f":"markdown","f81ace73":"markdown","6f76d2fb":"markdown","dc8db734":"markdown","3cd98aa0":"markdown"},"source":{"22347fab":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","46ae21c3":"import matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn import preprocessing","57fcdff4":"data_dic = pd.read_excel('..\/input\/healthcare-analytics\/Train\/Data_Dictionary.xlsx')\ncamp = pd.read_csv('..\/input\/healthcare-analytics\/Train\/Health_Camp_Detail.csv')\none_camp = pd.read_csv('..\/input\/healthcare-analytics\/Train\/First_Health_Camp_Attended.csv')\nprofiles = pd.read_csv('..\/input\/healthcare-analytics\/Train\/Patient_Profile.csv')\ntwo_camp = pd.read_csv('..\/input\/healthcare-analytics\/Train\/Second_Health_Camp_Attended.csv')\nthree_camp = pd.read_csv('..\/input\/healthcare-analytics\/Train\/Third_Health_Camp_Attended.csv')\ntrain = pd.read_csv('..\/input\/healthcare-analytics\/Train\/Train.csv')","444714fb":"one_camp.columns = ['Patient_ID', 'Health_Camp_ID', 'Donation', 'Health Score','Unnamed: 4']","c2a86ff8":"camp_one = one_camp.groupby('Health_Camp_ID',as_index = False).sum()","c23d0469":"one_two = one_camp.merge(two_camp,on = 'Patient_ID')\none_two = one_two.drop(['Unnamed: 4'],axis = 1)","89b0eefb":"one_two['score'] = one_two['Health Score_x'] + one_two['Health Score_y']\none_two = one_two.drop(['Health Score_x','Health Score_y'],axis = 1)","b29d870d":"one_two = one_two.groupby('Patient_ID',as_index = False).sum()","8a639dd4":"one_two.columns","356fed8e":"corr = one_two.corr()","81d3e2f7":"# corr = musk.corr()\ncmap = cmap=sns.diverging_palette(5, 250, as_cmap=True)\n\ndef magnify():\n    return [dict(selector=\"th\",\n                 props=[(\"font-size\", \"7pt\")]),\n            dict(selector=\"td\",\n                 props=[('padding', \"0em 0em\")]),\n            dict(selector=\"th:hover\",\n                 props=[(\"font-size\", \"12pt\")]),\n            dict(selector=\"tr:hover td:hover\",\n                 props=[('max-width', '200px'),\n                        ('font-size', '12pt')])\n]\n\ncorr.style.background_gradient(cmap, axis=1)\\\n    .set_properties(**{'max-width': '80px', 'font-size': '10pt'})\\\n    .set_caption(\"Hover to magify\")\\\n    .set_precision(2)\\\n    .set_table_styles(magnify())","00bd7331":"one_two.columns","1a4feb16":"x = one_two.drop('Patient_ID',axis = 1)\nnor = preprocessing.MinMaxScaler()\none_two_norm = nor.fit_transform(x)\nnorm1_2 = pd.DataFrame(one_two_norm)","deae88b7":"norm1_2.columns = ['Health_Camp_ID_x', 'Donation', 'Health_Camp_ID_y','score']","af566850":"norm1_2['Patient_ID'] = one_two['Patient_ID']","4c227733":"norm1_2.head()","51da8a6f":"corr = norm1_2.corr()","15df451e":"# corr = musk.corr()\ncmap = cmap=sns.diverging_palette(5, 250, as_cmap=True)\n\ndef magnify():\n    return [dict(selector=\"th\",\n                 props=[(\"font-size\", \"7pt\")]),\n            dict(selector=\"td\",\n                 props=[('padding', \"0em 0em\")]),\n            dict(selector=\"th:hover\",\n                 props=[(\"font-size\", \"12pt\")]),\n            dict(selector=\"tr:hover td:hover\",\n                 props=[('max-width', '200px'),\n                        ('font-size', '12pt')])\n]\n\ncorr.style.background_gradient(cmap, axis=1)\\\n    .set_properties(**{'max-width': '80px', 'font-size': '10pt'})\\\n    .set_caption(\"Hover to magify\")\\\n    .set_precision(2)\\\n    .set_table_styles(magnify())","175f2d10":"norm1_2 = norm1_2.drop('Health_Camp_ID_y',axis = 1)","03ffd80c":"norm1_2.columns = ['Health_Camp_ID', 'Donation','score','Patient_ID']","6c926fe4":"norm1_2.head()","46d25d5e":"plt.scatter(norm1_2['score'],norm1_2['Donation'])","a32e01fa":"plt.scatter(norm1_2['score'],norm1_2['Health_Camp_ID'])","6478bdba":"pro_12 = norm1_2.merge(profiles,on = 'Patient_ID')","b8aa5087":"pro_12.head()","b4b157f2":"pro_12.isnull().sum()","37c999a6":"pro_12.columns","7a27420c":"pro_12['SM'] = pro_12['Online_Follower']+pro_12['LinkedIn_Shared']+pro_12['Twitter_Shared']+pro_12['Facebook_Shared']\n# Social media together","8d4d4c8f":"pro_12 = pro_12.drop(['City_Type','Employer_Category','Education_Score','First_Interaction','Income','Age','Online_Follower',\n       'LinkedIn_Shared', 'Twitter_Shared', 'Facebook_Shared'],axis = 1)","d7c26086":"x = pro_12.drop(['Patient_ID','Health_Camp_ID','Donation','score'],axis = 1)\nnor2 = preprocessing.MinMaxScaler()\none_two_norm = nor2.fit_transform(x)\nx = pd.DataFrame(one_two_norm)","76d553fd":"x.columns","6a56a8bc":"x.head()","7491b4be":"x.columns = ['SM']","cb091339":"pro_12 = pro_12.drop('SM',axis =1)","3ff88e65":"pro_12 = pd.concat([pro_12,x],axis = 1)","8c4a6ed3":"pro_12.head()","5f7e1372":"corr2 = pro_12.corr()","f0f2599e":"# corr = musk.corr()\ncmap = cmap=sns.diverging_palette(5, 250, as_cmap=True)\n\ndef magnify():\n    return [dict(selector=\"th\",\n                 props=[(\"font-size\", \"7pt\")]),\n            dict(selector=\"td\",\n                 props=[('padding', \"0em 0em\")]),\n            dict(selector=\"th:hover\",\n                 props=[(\"font-size\", \"12pt\")]),\n            dict(selector=\"tr:hover td:hover\",\n                 props=[('max-width', '200px'),\n                        ('font-size', '12pt')])\n]\n\ncorr2.style.background_gradient(cmap, axis=1)\\\n    .set_properties(**{'max-width': '80px', 'font-size': '10pt'})\\\n    .set_caption(\"Hover to magify\")\\\n    .set_precision(2)\\\n    .set_table_styles(magnify())","c73d288d":"plt.scatter(pro_12['score'],pro_12['SM'])","cd380593":"from sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split","c4408278":"X = pro_12.drop(['score','Patient_ID'],axis = 1)\ny = pro_12['score']","957bcb15":"x_train,x_test,y_train,y_test = train_test_split(X,y,test_size = 0.2)","166d0e3d":"y_train.head()","b13eebdb":"lr = LinearRegression()","efe5273d":"lr.fit(x_train,y_train)","467315a8":"lr.score(x_test,y_test)","21defb34":"print('zero sm - ' ,len(pro_12[pro_12['SM']== 0]) ,'\\none sm - ' , len(pro_12[pro_12['SM']== 1]) , '\\ntwo sm - ' , len(pro_12[pro_12['SM']== 2]) ,'\\nthree sm - ' , len(pro_12[pro_12['SM']== 3]),'\\nfour sm - ' , len(pro_12[pro_12['SM']== 4])) ","0805df0f":" ### Health_Camp_ID\t- The more the number of times a patient is made to visit a health camp , more is his\/her healtscore \n ### Donation - The amount of donation is directly proportional to his\/her health score , so patients who donate more are given a higher health score\n \n### SM - The lesser the patient is into Socail media , more is his\/her Health score .","2f131e86":"## Normalizing ","7de88c54":"# Health Score [one_camp ,two_camp]","78c7049f":"## Profiles + Camp1 and Camp2 (normalised)","6ac5ba9f":"## Higher HealthCamp means that the patient has visited more health camps, Thus more the patient visited healthcamps , more was their Healthscore","f81ace73":"## The 3 Factors that can increase the Health score of a Patient","6f76d2fb":"# Model","dc8db734":"# Conclusion : Health Score Probablilty Increaser - TASK 1","3cd98aa0":"## Higher the donation , higher are their healthscores"}}