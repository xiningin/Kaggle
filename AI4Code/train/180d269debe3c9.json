{"cell_type":{"4f199195":"code","fd3a3e97":"code","a0f65040":"code","e79c9e52":"code","e68d9bee":"code","287dda7d":"code","ce57aee3":"code","106c88aa":"code","627adba6":"code","889d25bd":"code","a9fa47e8":"code","5128dba1":"code","10a69fcb":"code","6f5e08d4":"code","2989a63e":"code","99e72466":"code","fced3d71":"code","668e7c8c":"markdown","04c2a589":"markdown","f26d2bb9":"markdown","dc1122ac":"markdown","6abf003d":"markdown","efb36580":"markdown","0a3abcbe":"markdown","dcd41918":"markdown","68df9999":"markdown","4db1f4f1":"markdown","2fce710b":"markdown","07762e90":"markdown","8d11990d":"markdown"},"source":{"4f199195":"# repro YOLOv5\n!git clone https:\/\/github.com\/rkuo2000\/Smart_Construction\n%cd Smart_Construction","fd3a3e97":"!mkdir -p Dataset\/VOC2028\/Labels","a0f65040":"!python data\/gen_data\/gen_head_helmet.py","e79c9e52":"!ls Dataset\/images\n!ls Dataset\/labels","e68d9bee":"!python train.py --img 640 --batch 16 --epochs 10 --data .\/data\/custom_data.yaml --cfg models\/yolov5s.yaml --weights yolov5s.pt","287dda7d":"!python detect.py --source Dataset\/images\/test --weights runs\/exp0\/weights\/best.pt","ce57aee3":"# output image folder\n!ls inference\/output","106c88aa":"# display image\nfrom IPython.display import Image\nImage('inference\/output\/000104.jpg')","627adba6":"!python detect.py --source \/kaggle\/input\/input-images\/persons.jpg --weights runs\/exp0\/weights\/best.pt","889d25bd":"Image('inference\/output\/persons.jpg')","a9fa47e8":"!python detect.py --source \/kaggle\/input\/input-images\/facemask.jpg --weights runs\/exp0\/weights\/best.pt","5128dba1":"Image('inference\/output\/facemask.jpg')","10a69fcb":"!python detect.py --source \/kaggle\/input\/input-images\/facemask1.jpg --weights runs\/exp0\/weights\/best.pt","6f5e08d4":"Image('inference\/output\/facemask1.jpg')","2989a63e":"!python area_detect.py --source .\/area_dangerous --weights runs\/exp0\/weights\/best.pt","99e72466":"Image('inference\/output\/1.jpg')","fced3d71":"Image('inference\/output\/2.jpg')","668e7c8c":"## Train Model","04c2a589":"## Convert VOC2028 to Dataset","f26d2bb9":"#### each image needs a danerous area annotation (.json) generated by [\u7cbe\u7075\u6807\u6ce8\u52a9\u624b](http:\/\/www.jinglingbiaozhu.com\/) ","dc1122ac":"#### model weight = runs\/exp0\/weights\/best.pt","6abf003d":"## Test Model","efb36580":"### detect input images","0a3abcbe":"## Dangerous Area Detection","dcd41918":"### display output image","68df9999":"### detect test dataset","4db1f4f1":"1 epoch take ~6.3min, default epoch=300 >> Kaggle's session time limit = 9hrs","2fce710b":"## Repro [Github](https:\/\/github.com\/PeterH0323\/Smart_Construction)","07762e90":"## Blog: [YOLOv5\u5728\u5efa\u7bc9\u5de5\u5730\u4e2d\u5b89\u5168\u5e3d\u4f69\u6234\u6aa2\u6e2c\u7684\u61c9\u7528](https:\/\/bangqu.com\/8yo885.html)\n![](https:\/\/github.com\/njvisionpower\/Safety-Helmet-Wearing-Dataset\/blob\/master\/image\/8_result.jpg?raw=true)","8d11990d":"## Dataset: [SafetyHelmetWearing-Dataset(\u5b89\u5168\u5e3d\u4f69\u6234\u68c0\u6d4b\u6570\u636e\u96c6)](https:\/\/github.com\/njvisionpower\/Safety-Helmet-Wearing-Dataset)"}}