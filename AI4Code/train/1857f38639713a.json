{"cell_type":{"a1cf4211":"code","67f49379":"code","fc5b318f":"code","5328b734":"code","16b79542":"code","d703a329":"code","592ed1dc":"code","0fd6319c":"code","644df991":"code","ebc4dbed":"code","a6bbcfbd":"code","b4d708e3":"code","b4d65df0":"code","d04eb245":"code","2a371c58":"code","36adb905":"code","8da84554":"code","ba7f42d1":"code","9bfeb0dc":"code","3bda4455":"code","5a72305a":"code","2c341fd7":"code","3af66e63":"code","baba9157":"code","10bdaf9c":"code","2e434835":"code","01f0e515":"code","8e1e3fec":"code","033925e7":"code","01c116a4":"code","05bf7b65":"code","2ea010c9":"code","426a8a2b":"code","68da8555":"code","cdd61230":"code","63b54de3":"code","0bc576ef":"code","4529db0f":"code","5ad77b4b":"code","042a63bf":"code","2904bd9c":"code","59f2f665":"code","65cd597b":"code","19edb6b8":"code","ea7fac96":"code","da4a20da":"code","12abf40b":"code","e954ca05":"code","590cf447":"code","bd819beb":"code","cbd89eec":"code","18839c4a":"code","26ffd52c":"code","cc49c51c":"code","c259748c":"code","2460dfb3":"code","e8095de2":"code","99d28464":"code","d798f7c6":"code","a9b45565":"code","17a5cbd7":"code","ed37b5fd":"code","dd7d9b78":"code","c99fb5c9":"markdown","c9b5f97b":"markdown","1d540811":"markdown","7839fbe6":"markdown","dc2ecbe8":"markdown","97ab4921":"markdown","1ae7e5d1":"markdown","f104488e":"markdown","4ada6839":"markdown","a025abd7":"markdown","62a5cbd2":"markdown","fa74c955":"markdown","ab080594":"markdown","58a99191":"markdown","49e5edb6":"markdown","33ef5920":"markdown","c848efb6":"markdown","9d77dd50":"markdown","6d62c816":"markdown","c09360d7":"markdown","9880add3":"markdown","69085f6d":"markdown","b27bf4b5":"markdown","33098628":"markdown"},"source":{"a1cf4211":"!pip install klib","67f49379":"import numpy as np\nimport pandas as pd\nimport klib \nfrom sklearn.decomposition import PCA\nfrom glob import glob\nimport matplotlib.pyplot as plt\nfrom sklearn import preprocessing\nimport seaborn as sns\nsns.set()","fc5b318f":"dataframes=glob('..\/input\/2020-it-salary-survey-for-eu-region\/*.csv')","5328b734":"dataframes","16b79542":"dataframes=list(map(pd.read_csv,dataframes))","d703a329":"years=['2019','2018','2020']","592ed1dc":"df=dataframes[0]","0fd6319c":"print(f'there are {df.shape[0]} samples')","644df991":"df.head()","ebc4dbed":"klib.dist_plot(df)","a6bbcfbd":"klib.missingval_plot(df)","b4d708e3":"df=df.drop(columns=['0','Zeitstempel'])","b4d65df0":"df.info()","d04eb245":"df.head()","2a371c58":"df.interpolate(method='linear', inplace=True, limit_direction=\"both\")","36adb905":"df.head()","8da84554":"df.keys()","ba7f42d1":"klib.missingval_plot(df)","9bfeb0dc":"columns=df.keys()\nli=[]\nfor k in df.keys():\n    l=np.array(df[k])\n    if l.dtype!=np.float64 and l.dtype!=np.int64:\n        li.append(k)","3bda4455":"li","5a72305a":"\ndef majority(series):\n    hist=dict()\n    for k in series:\n        if k in hist.keys():\n            hist[k]+=1\n        else:\n            hist[k]=1\n    return list(hist.keys())[np.argmax(list(hist.values()))]\n \nfor i in li:\n    df[i].fillna(value=majority(df[i]))\n    le = preprocessing.LabelEncoder()\n    df[i]=le.fit_transform(df[i].astype(str))","2c341fd7":"df.head()","3af66e63":"df=df.drop(columns=['Company name '])","baba9157":"klib.missingval_plot(df)","10bdaf9c":"sub=plt.subplots(10,2,figsize=(20,20))[1]\nkeys=list(df.keys())\nkey=0\nfor y in range(len(sub)):\n    for x in range(len(sub[y])):\n        if keys[key] not in li:\n           g=list(df[keys[key]])\n        \n           sns.boxplot(g,ax=sub[y,x])\n           sub[y,x].set_xlabel(keys[key])\n        key+=1","2e434835":"def remove(series):\n    series=np.array(series)\n    series=np.array(sorted(series))\n    median=int(len(series)\/\/2)\n    left=series[:median]\n    right=series[median:]\n    Q1=np.mean(left)\n    Q3=np.mean(right)\n    IQR=Q3-Q1\n    maximum=Q3+1.5*IQR\n    minimum=Q1-1.5*IQR\n \n    outliers=[]\n    index=list(range(len(series)))\n    output=[]\n    for i in index:\n        if not (series[i]<minimum or series[i]>maximum):\n            output.append(i)\n    \n    return output\nfor k in df.keys():\n    if k not in li:\n        df=df.iloc[list(remove(df[k]))]","01f0e515":"df.shape","8e1e3fec":"klib.dist_plot(df)","033925e7":"# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.406571Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.406902Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.413844Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.406873Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.412975Z\"}}\npca=PCA(n_components=2)\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.415319Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.415986Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.430073Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.415944Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.429039Z\"}}\npa=pca.fit_transform(np.array(df))\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.431658Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.432361Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.442088Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.432312Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.441183Z\"}}\npa.shape\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.443309Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.443855Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.653566Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.443818Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.652887Z\"}}\nplt.scatter(pa[:,0],pa[:,1])","01c116a4":"df=dataframes[1]","05bf7b65":"print(f'there are {df.shape[0]} samples')","2ea010c9":"df.head()","426a8a2b":"klib.dist_plot(df)","68da8555":"klib.missingval_plot(df)","cdd61230":"df.interpolate(method='linear', inplace=True, limit_direction=\"both\")","63b54de3":"klib.missingval_plot(df)","0bc576ef":"columns=df.keys()\nli=[]\nfor k in df.keys():\n    l=np.array(df[k])\n    if l.dtype!=np.float64 and l.dtype!=np.int64:\n        li.append(k)","4529db0f":"li","5ad77b4b":"for i in li:\n    df[i].fillna(value=majority(df[i]))\n    le = preprocessing.LabelEncoder()\n    df[i]=le.fit_transform(df[i].astype(str))","042a63bf":"df.head()","2904bd9c":"klib.missingval_plot(df)","59f2f665":"sub=plt.subplots(13,1,figsize=(20,20))[1]\nkeys=list(df.keys())\nkey=0\nfor y in range(len(sub)):\n        if keys[key] not in li:\n           g=list(df[keys[key]])\n        \n           sns.boxplot(g,ax=sub[y])\n           sub[y].set_xlabel(keys[key])\n        key+=1","65cd597b":"for k in df.keys():\n  if k not in li:\n    df=df.iloc[list(remove(df[k]))]","19edb6b8":"klib.dist_plot(df)","ea7fac96":"# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.406571Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.406902Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.413844Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.406873Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.412975Z\"}}\npca=PCA(n_components=2)\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.415319Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.415986Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.430073Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.415944Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.429039Z\"}}\npa=pca.fit_transform(np.array(df))\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.431658Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.432361Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.442088Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.432312Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.441183Z\"}}\npa.shape\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.443309Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.443855Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.653566Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.443818Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.652887Z\"}}\nplt.scatter(pa[:,0],pa[:,1])","da4a20da":"df=dataframes[2]","12abf40b":"print(f'there are {df.shape[0]} samples')","e954ca05":"df.head()","590cf447":"klib.dist_plot(df)","bd819beb":"klib.missingval_plot(df)","cbd89eec":"df=df.drop(columns=['Timestamp'])","18839c4a":"df.interpolate(method='linear', inplace=True, limit_direction=\"both\")","26ffd52c":"klib.missingval_plot(df)","cc49c51c":"columns=df.keys()\nli=[]\nfor k in df.keys():\n    l=np.array(df[k])\n    if l.dtype!=np.float64 and l.dtype!=np.int64:\n        li.append(k)","c259748c":"for i in li:\n    df[i].fillna(value=majority(df[i]))\n    le = preprocessing.LabelEncoder()\n    df[i]=le.fit_transform(df[i].astype(str))","2460dfb3":"df.head()","e8095de2":"klib.missingval_plot(df)","99d28464":"df.shape","d798f7c6":"sub=plt.subplots(11,2,figsize=(20,20))[1]\nkeys=list(df.keys())\nkey=0\nfor y in range(len(sub)):\n    for x in range(len(sub[y])):\n        if keys[key] not in li:\n           g=list(df[keys[key]])\n        \n           sns.boxplot(g,ax=sub[y,x])\n        sub[y,x].set_xlabel(keys[key])\n        key+=1","a9b45565":"for k in df.keys():\n  if k not in li:\n    \n    df=df.iloc[list(remove(df[k]))]","17a5cbd7":"klib.dist_plot(df)","ed37b5fd":"pa.shape","dd7d9b78":"from mpl_toolkits import mplot3d\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.406571Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.406902Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.413844Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.406873Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.412975Z\"}}\npca=PCA(n_components=3)\nfig = plt.figure()\nax = plt.axes(projection='3d')\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.415319Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.415986Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.430073Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.415944Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.429039Z\"}}\npa=pca.fit_transform(np.array(df))\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.431658Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.432361Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.442088Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.432312Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.441183Z\"}}\nprint(pa.shape)\n\n# %% [code] {\"execution\":{\"iopub.status.busy\":\"2021-08-29T14:06:09.443309Z\",\"iopub.execute_input\":\"2021-08-29T14:06:09.443855Z\",\"iopub.status.idle\":\"2021-08-29T14:06:09.653566Z\",\"shell.execute_reply.started\":\"2021-08-29T14:06:09.443818Z\",\"shell.execute_reply\":\"2021-08-29T14:06:09.652887Z\"}}\nax.scatter3D(pa[:,0],pa[:,1],pa[:,2])","c99fb5c9":"# Replacing null values using regression and for strings filling them with the majority value","c9b5f97b":"# Distribution","1d540811":"# Replacing null values using regression and for strings filling them with the majority value","7839fbe6":"# Boxplot and outliers","dc2ecbe8":"# 2020 Dataset EDA","97ab4921":"# 2018 dataset eda","1ae7e5d1":"# Load Data","f104488e":"# Regression","4ada6839":"# Import","a025abd7":"# Install pip","62a5cbd2":"# Missing Value plot","fa74c955":"# Boxplot and outlier removal","ab080594":"# Regression","58a99191":"# PCA","49e5edb6":"# Distribution plot","33ef5920":"#  i am dropping one column because of too many missing values","c848efb6":"# 2019 dataset EDA","9d77dd50":"# Missing value plot","6d62c816":"# Regression","c09360d7":"# Distribution plot","9880add3":"# PCA","69085f6d":"# Missing Value plot","b27bf4b5":"# PCA ( for this dataset 2d plots provide little as null information , so i am adding bit depth and 3d)","33098628":"# Boxplot and outlier removal"}}