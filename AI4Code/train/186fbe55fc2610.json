{"cell_type":{"809b6802":"code","bea066d0":"code","a6d29063":"code","62ad7c79":"code","94306055":"code","7a9a720a":"code","0f25f504":"code","74831ea1":"code","fb61c55e":"code","75c25173":"code","cdd31f15":"code","5cd4ed11":"code","27dd1e6c":"code","1638a5c5":"markdown","a4f9c62c":"markdown","f1e0e1c8":"markdown","ca5c066a":"markdown","f907fa1c":"markdown","8584c962":"markdown","7a36c2a2":"markdown","3c638b82":"markdown","6ba0082a":"markdown","6f3578c0":"markdown","681403c3":"markdown","9bbda0cd":"markdown"},"source":{"809b6802":"import pandas as pd\nimport matplotlib\n%matplotlib inline\nmatplotlib.rcParams['figure.figsize'] = [12.0, 8.0]","bea066d0":"data_set = pd.read_excel('..\/input\/MinDailyTemps.xlsx')","a6d29063":"data_set.head(10)","62ad7c79":"data_set.isnull().sum()","94306055":"data_set.dtypes","7a9a720a":"data_set = data_set.set_index('Date')","0f25f504":"data_set.head().append(data_set.tail())","74831ea1":"data_set.plot(grid=True)","fb61c55e":"matplotlib.rcParams['figure.figsize'] = [12.0, 8.0]\nfrom datetime import datetime\nstart_date = datetime(1981, 1, 1)\nend_date = datetime(1982, 12, 31)\ndata_set[(start_date <= data_set.index) & (data_set.index <= end_date)].plot(grid=True)","75c25173":"data_set.head()","cdd31f15":"decompfreq = 365 # for yearly seasonality","5cd4ed11":"import statsmodels.api as sm\ndecomposition = sm.tsa.seasonal_decompose(data_set, \n                                          freq=decompfreq, \n                                          model = 'additive')\nfig = decomposition.plot()\nmatplotlib.rcParams['figure.figsize'] = [9.0, 5.0]","27dd1e6c":"import matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfig, ax = plt.subplots()\nax.grid(True)\nyear = mdates.YearLocator(month=1)\nmonth = mdates.MonthLocator(interval=3)\nyear_format = mdates.DateFormatter('%Y')\nmonth_format = mdates.DateFormatter('%m')\nax.xaxis.set_minor_locator(month)\nax.xaxis.grid(True, which = 'minor')\nax.xaxis.set_major_locator(year)\nax.xaxis.set_major_formatter(year_format)\nplt.plot(data_set.index, data_set['Temp'], c='blue')\nplt.plot(decomposition.trend.index, decomposition.trend, c='red')","1638a5c5":"- Trend: The increasing or decreasing value in the series. \n- Seasonality: The repeating short-term cycle in the series. \n- Noise: The random variation in the series.","a4f9c62c":"There are a couple of models to consider during the Decomposition of Time Series data.\n1. Additive Model: This model is used when the variations around the trend does not vary with the level of the time series. Here the components of a time series are simply added together using the formula:\n\n    y(t) = Level(t) + Trend(t) + Seasonality(t) + Noise(t)\n\n\n2. Multiplicative Model: Is used if the trend is proportional to the level of the time series. Here the components of a time series are simply multiplied together using the formula:\n\n    y(t) = Level(t) * Trend(t) * Seasonality(t) * Noise(t)\n    \n    \n# We will use the additive model.","f1e0e1c8":"# Check what types the data are.","ca5c066a":"# Import statsmodels which has a tsa (time series analysis) package as well as the sesonal_decompose() function.","f907fa1c":"# Set the dates to be the index.","8584c962":"# Peek at the head and tail of the data.","7a36c2a2":"# Check for null values in data.","3c638b82":"# When we plotted just the trend line, the graph seemed to indicate that the temperature was increasing slightly through the decade. But when comparing the trend line to the plot of temperatures, the rise seems insignificant. Of course, more than a decade and more than one location would be needed to truely make any conclusions.","6ba0082a":"# Plot the trend alongside the observed time series. To do this, we will use Matplotlib's .YearLocator() function to set each year to begin from the month of January month=1 and month as the minor locator showing ticks for every 3 months (intervals=3). Then we plot our dataset (and gave it blue color) using the index of the dataframe as x-axis and the temperatures as the y-axis. \n# We did the same for the trend observations which we plotted in red color.","6f3578c0":"# Analyzing Time Series Data\n\n### Practice in correcting time series data for seasonality.\n\n#### Import Packages and Data.","681403c3":"# Plot the data to get an overview.","9bbda0cd":"# Let's take a closer look by observing the first two year's data."}}