{"cell_type":{"d670bd5e":"code","6c378451":"code","e35a00f0":"code","ad2a9b9a":"code","a58b758e":"code","0ccdbad3":"code","4abdf3aa":"code","dc6f4eb6":"code","e4800f55":"code","79895888":"code","eb48572c":"code","11cec37d":"code","1d6ee273":"code","11f2ccd6":"code","7cfdb175":"code","8d99b314":"code","ffa20131":"code","1d1583b1":"code","15c8a639":"code","c8b66856":"code","98b48d83":"code","5a8faa8f":"code","7cfcbb20":"code","4e7b3082":"code","7d688925":"code","28163cde":"code","ce0c46ab":"code","065fa333":"code","81e63b46":"code","bf231c6e":"code","54b09aaf":"code","114d6a8d":"code","5dd2bf40":"code","7e665f73":"code","fce3a763":"code","06a9f8c3":"code","0c1254db":"code","38ba744c":"markdown","832776f2":"markdown","89b891f6":"markdown","4c418d1e":"markdown","60e4bf26":"markdown","a1cd756e":"markdown","7e1114ec":"markdown","654b9966":"markdown","243c98c3":"markdown","870abe84":"markdown","6f0e94a7":"markdown","d441f853":"markdown","6e18962b":"markdown","d31fe86e":"markdown","97cd69c3":"markdown","9242dee0":"markdown","ef16ec58":"markdown","de3b38fe":"markdown","7e11da72":"markdown","70834cf9":"markdown","c94391c8":"markdown"},"source":{"d670bd5e":"#! pip install --upgrade pip","6c378451":"!pip install pyjanitor","e35a00f0":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport janitor\nimport pandas_flavor as pf\nimport os\n","ad2a9b9a":"for dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \ndf=pd.read_csv('\/kaggle\/input\/beerreviews\/beer_reviews.csv')\n","a58b758e":"#df=pd.read_csv(\"beer_reviews.csv\")\ndf.head(5)","0ccdbad3":"df.isna().sum()","4abdf3aa":"(df.remove_columns([\"review_time\"])\n    .dropna(subset=[\"beer_abv\"])\n    .rename_column(\"review_overall\", \"Overall Review\")\n    .reset_index(drop=True)\n)\n","dc6f4eb6":"df[\"review_profilename\"]","e4800f55":"df=df.flag_nulls(columns=[\"review_profilename\"])\n","79895888":"df.head(6)","eb48572c":"df=df.clean_names()\ndf.head(5)","11cec37d":"df[\"Empty\"]=np.nan\ndf","1d6ee273":"df=df.remove_empty() ## Remove Empty column\ndf.head(3)","11f2ccd6":"df.add_columns(lucky_number=np.random.randint(0,10,len(df)),\n                    age=np.random.randint(0,100,len(df)),\n                   )","7cfdb175":"df.dtypes","8d99b314":"df=df.encode_categorical([\"beer_style\"])\ndf.dtypes","ffa20131":"(df\n .groupby(\"beer_style\")\n .agg([\"mean\",\"median\"])\n .collapse_levels() \n .reset_index()\n)","1d1583b1":"data=pd.read_excel(\"dirty_data.xlsx\")\ndata","15c8a639":"df=(data.clean_names()\n    .remove_empty()\n    .rename_column(\"%_allocated\", \"percent_allocated\")\n    .rename_column(\"full_time_\", \"full_time\"))\ndf\n","c8b66856":"(data.coalesce([\"Certification\", \"Certification.1\"],\n    new_column_name=\"Certification\"))","98b48d83":"data.convert_excel_date('Hire Date')\n","5a8faa8f":"df=(data.clean_names()\n    .remove_empty()\n    .rename_column(\"%_allocated\", \"percent_allocated\")\n    .rename_column(\"full_time_\", \"full_time\")\n    .coalesce(\n        column_names=[\"certification\", \"certification_1\"],\n        new_column_name=\"Certification\")\n    .convert_excel_date('hire_date')\n   )\n\ndf\n   ","7cfcbb20":"data = {\n    'item': ['shoe', 'shoe', 'bag', 'shoe', 'bag'],\n    'MRP': [220, 450, 320, 200, 305],\n    'number_sold': [100, 40, 56, 38, 25]\n}\n\ndf = pd.DataFrame(data)\n\ndf","4e7b3082":"df.groupby_agg(\n    by=\"item\",\n    agg=\"mean\",\n    agg_column_name=\"MRP\",\n    new_column_name=\"Avg. MRP\"\n)","7d688925":"df = pd.DataFrame(\n        {\n            \"name\": (\"black\", \"black\", \"black\", \"red\", \"red\"),\n            \"type\": (\"chair\", \"chair\", \"sofa\", \"sofa\", \"plate\"),\n            \"num\": (4, 5, 12, 4, 3),\n            \"nulls\": (1, 1, np.nan, np.nan, 3),\n        }\n    )\n\ndf","28163cde":"df.groupby_agg(\n    by=[\"nulls\",\"type\"],\n    agg=\"size\",\n    agg_column_name=\"type\",\n    new_column_name=\"counter\"\n).query('counter > 1')","ce0c46ab":"df.dtypes","065fa333":"df.sort_naturally(\"type\")\n","81e63b46":"df = pd.DataFrame(\n        {\n            \"name\": (\"black, Fender\", \"black, Taylor\", \"blue, Fender\", \"red, Idaho\", \"red, Fender\"),\n            \"type\": (\"guitar\", \"guitar\", \"banjo\", \"ukulele\", \"ukulel\"),\n            \"num\": (4, 5, 12, 4, 3),\n            \"nulls\": (1, 1, np.nan, np.nan, 3),\n        }\n    )\n\ndf","bf231c6e":"df.expand_column(column_name='name',\n                   sep=', ')  # note space in sep","54b09aaf":"df=df.change_type('num', float)\ndf=df.change_type('num', int)\ndf","114d6a8d":"df = pd.DataFrame({ \"unix_date\": (1607977803,1607977804)})\ndf","5dd2bf40":"df.convert_unix_date(\"unix_date\")","7e665f73":"df = pd.DataFrame({\n    'customer': ['Mary', 'Tom', 'Lila'],\n    'order': ['ice coffee', 'lemonade', 'regular coffee']\n})\ndf\n","fce3a763":"df.find_replace(\n    match='exact',\n    order={'ice coffee': 'latte', 'regular coffee': 'latte'}\n)","06a9f8c3":"df.find_replace(\n    match='regex',\n    order={'latte$': 'water'},\n)","0c1254db":"data = {\n    \"a\": [1, 2, 3, 4],\n    \"b\": [5, 6, 7, 8],\n    \"c\": [0, 0, 0, 0]\n}\ndf = pd.DataFrame(data)\n\ndf","38ba744c":"## 10. Change the type of the column","832776f2":"## Installation\npip install pyjanitor \n\nconda install pyjanitor -c conda-forge\n","89b891f6":"## Documentation: \n\nhttps:\/\/pyjanitor.readthedocs.io\/","4c418d1e":"## 11. Convert Unix Date","60e4bf26":"## Add columns","a1cd756e":"## 9. Expand Column","7e1114ec":"## 13. Update Where (Conditions)","654b9966":"### 1.2 Clean up names by removing whitespace, punctuation \/ symbols, capitalization:\n\n","243c98c3":"## 7. Filtering and Counting","870abe84":"pyjanitor is a Python-based API on top of pandas inspired by the janitor R package. \n\nIt aims to provide a clean, understandable interface based on method chaining for common and less-common tasks involving data cleaning and DataFrame manipulation.\n\nSource: https:\/\/pyjanitor.readthedocs.io\/notebooks\/pyjanitor_intro.html#Why-pyjanitor?\n\n","6f0e94a7":"## 6. Use grouby_agg to find average price for each item and append column to dataframe\u00b6","d441f853":"## 5. Convert Excel date into a date format","6e18962b":"## 3. Calculate mean, median of all numerical columns after grouping by.\nUse .collapse_levels(), a pyjanitor convenience function, to convert the DataFrame returned by .agg() from having multi-level columns (because we supplied a list of aggregation operations) to single-level by concatenating the level names with an underscore:","d31fe86e":"## 1.1 Flag Null values","97cd69c3":"## 2. Encode Categorical data","9242dee0":"## 1. Remove Columns, Drop NA, Rename Columns","ef16ec58":"### 1.3 Remove entirely empty rows \/ columns:\n\n","de3b38fe":"### 4. Merging the same information","7e11da72":"# 0. PyJanitor - Definition","70834cf9":"## 8.Sorting categorical data","c94391c8":"## 12. Find and Replace: Exact and Regex\n"}}