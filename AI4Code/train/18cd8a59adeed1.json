{"cell_type":{"be343044":"code","5d9e978e":"code","b24fc2be":"code","9c44c67c":"code","3fcff4de":"code","655dc33e":"code","419eb51f":"code","c1e57768":"code","eb16e226":"code","a70ea481":"code","320a5122":"code","ad3b28e2":"code","6d12ae64":"code","e85c9ca9":"code","7f26738c":"code","e2a0e174":"code","5d3a2bd2":"markdown","69cadac7":"markdown","7845ff6d":"markdown","4cd1f8e2":"markdown","43a1c4ca":"markdown","a7d91149":"markdown","03acc738":"markdown","192be139":"markdown","d9b9966c":"markdown","baed65e6":"markdown","2a09b370":"markdown","b145bec3":"markdown","77b7f369":"markdown","d0626270":"markdown","a4747860":"markdown","e153a64d":"markdown","b9646e24":"markdown","ead92cf1":"markdown","ae7aa31f":"markdown","c5cbe49e":"markdown","e85c2537":"markdown","b32b8c5f":"markdown","86a79fb4":"markdown","5654eb70":"markdown","72ad3682":"markdown","cab4d0fc":"markdown","f1e3bd74":"markdown","39fb337b":"markdown","33e67481":"markdown","873bd1f7":"markdown"},"source":{"be343044":"import os\n\nimport pandas as pd\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.set()","5d9e978e":"for dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","b24fc2be":"# load data\nmain_data = pd.read_csv(\"\/kaggle\/input\/video-games-rating-by-esrb\/Video_games_esrb_rating.csv\")","9c44c67c":"# fast looking (size of dataframe, columns, 5 first rows of data, Nan values)\nprint(\"The dataset has \" + str(main_data.shape[0]) + \" rows.\")\nprint(\"And \" + str(main_data.shape[1]) + \" columns atleast.\")\n\nprint(\"List of columns: \", main_data.columns)\n\nmain_data.head(5)","3fcff4de":"procent_of_null = main_data.isnull().sum() \/ main_data.shape[0]\nprint(procent_of_null)\n\nprint(\"\")\n\nprocent_of_nan = main_data.isna().sum() \/ main_data.shape[0]\nprint(procent_of_nan)","655dc33e":"# size\nplt.figure(figsize=(8, 8))\n\n# pie and bar graphs\nconsoles_labels = [\"Games on PS\", \"Games on both consoles\"]\n\nplaystation = main_data[main_data[\"console\"] == 0]\nboth_consoles = main_data[main_data[\"console\"] == 1]\n\nconsoles_names = [len(playstation), len(both_consoles)]\n\nplt.bar(consoles_labels, consoles_names, color = \"green\")\nplt.title(\"Count of games on different consoles\")\n\nplt.figure(figsize=(19, 5))\nplt.pie(consoles_names, labels = consoles_labels, shadow = True, colors = \"rgbyc\")\nplt.title(\"Count of games on different consoles\")","419eb51f":"# correlation\n# size\nplt.figure(figsize=(15, 12))\n\nuseless_cols = [\"title\", \"console\"] \ncorr_data = main_data.drop(useless_cols, axis = 1)\n\nencode = {'E' : 0,\n          'ET': 1,\n          'T' : 2,\n          'M' : 3}\n\ncorr_data[\"esrb_rating\"] = corr_data[\"esrb_rating\"].map(encode)\n\ncorr_cols = list(corr_data.columns)\n\nmain_correlation = corr_data[corr_cols].corr()\nsns.heatmap(main_correlation, annot = False, cmap = \"Greens\")","c1e57768":"# about blood in video games\nplt.figure(figsize=(8, 8))\nblood_labels = [\"There is blood\", \"No blood\"]\n\nblood_0 = main_data[main_data[\"blood\"] == 0]\nblood_1 = main_data[main_data[\"blood\"] == 1]\n\nblood_names = [len(blood_0), len(blood_1)]\n\nplt.bar(blood_labels, blood_names, color = \"green\")\nplt.title(\"Is there blood?\")\n\nplt.figure(figsize=(19, 5))\nplt.pie(blood_names, labels = blood_labels, shadow = True, colors = \"rgbyc\")\nplt.title(\"Is there blood?\")","eb16e226":"# blood and gore column\n# size\nplt.figure(figsize=(8, 8))\nblood_and_gore_labels = [\"There is blood and gore\", \"No blood and gore\"]\n\nblood_and_gore_0 = main_data[main_data[\"blood_and_gore\"] == 0]\nblood_and_gore_1 = main_data[main_data[\"blood_and_gore\"] == 1]\n\nblood_and_gore_names = [len(blood_and_gore_0), len(blood_and_gore_1)]\n\nplt.bar(blood_and_gore_labels, blood_and_gore_names, color = \"green\")\nplt.title(\"Is there blood and gore?\")\n\nplt.figure(figsize=(19, 5))\nplt.pie(blood_and_gore_names, labels = blood_and_gore_labels,  colors = \"rgbyc\")\nplt.title(\"Is there blood and gore?\")","a70ea481":"# about strong language\n# size\nplt.figure(figsize=(8, 8))\nstrong_lg_labels = [\"There is strong lng\", \"No strong lng\"]\n\nstrong_lg_0 = main_data[main_data[\"strong_janguage\"] == 0]\nstrong_lg_1 = main_data[main_data[\"strong_janguage\"] == 1]\n\nstrong_lg_names = [len(strong_lg_0), len(strong_lg_1)]\n\nplt.bar(strong_lg_labels, strong_lg_names, color = \"green\")\nplt.title(\"Is there strong language?\")\n\nplt.figure(figsize=(19, 5))\nplt.pie(strong_lg_names, labels = strong_lg_labels, shadow = True, colors = \"rgbyc\")\nplt.title(\"Is there strong language?\")","320a5122":"# ratings\n# size\nplt.figure(figsize=(8, 8))\nrating_labels = [\"E\", \"ET\", \"T\", \"M\"]\n\nE_rating = main_data[main_data[\"esrb_rating\"] == \"E\"]\nET_rating = main_data[main_data[\"esrb_rating\"] == \"ET\"]\nT_rating = main_data[main_data[\"esrb_rating\"] == \"T\"]\nM_rating = main_data[main_data[\"esrb_rating\"] == \"M\"]\n\nrating_names = [len(E_rating), len(ET_rating), len(T_rating), len(M_rating)]\n\nplt.bar(rating_labels, rating_names, color = \"green\")\nplt.title(\"Rating distribution\")\n\nplt.figure(figsize=(19, 5))\nplt.pie(rating_names, labels = rating_labels, shadow = True, colors = \"rgbyc\")\nplt.title(\"Rating distribution\")","ad3b28e2":"# load data\ntrain_df = pd.read_csv(\"\/kaggle\/input\/video-games-rating-by-esrb\/Video_games_esrb_rating.csv\")\ntest_df = pd.read_csv(\"\/kaggle\/input\/video-games-rating-by-esrb\/test_esrb.csv\")\n\n# split the data\nx_train = np.array(train_df[train_df.columns[2:-1]])\ny_train = np.array(train_df[train_df.columns[-1]])\n\nx_test = np.array(test_df[test_df.columns[2:-1]])\ny_test = np.array(test_df[test_df.columns[-1]])","6d12ae64":"#metric\nfrom sklearn.metrics import accuracy_score","e85c9ca9":"# 1)\nfrom sklearn.tree import DecisionTreeClassifier\n\n# DecisionTreeClassifier version 1 model\ndct1_model = DecisionTreeClassifier()\n\ndct1_model.fit(x_train, y_train)\ndct1_pred = dct1_model.predict(x_test)\n\ndct1_pred_score_1 = accuracy_score(y_test, dct1_pred)\n\nprint(\"Prediction list of first dct: \", dct1_pred[:5])\nprint(\"Score of first dct: \", dct1_pred_score_1)","7f26738c":"# 2)\nfrom sklearn.ensemble import RandomForestClassifier\n\n# RandomForestClassifier vesion 1 model\nrfc_1_model = RandomForestClassifier()\n\nrfc_1_model.fit(x_train, y_train)\nrfc_1_pred = rfc_1_model.predict(x_test)\n\nrfc_1_pred_score_1 = accuracy_score(y_test, rfc_1_pred)\n\nprint(\"Prediction list of rfc: \", rfc_1_pred[:5])\nprint(\"Score of rfc: \", rfc_1_pred_score_1)","e2a0e174":"# 3)\nfrom sklearn.ensemble import StackingClassifier\n\nestimators = [('dt', DecisionTreeClassifier()),\n              ('rf', RandomForestClassifier())]\n\nstc1_model = StackingClassifier(estimators=estimators)\n\nstc1_model.fit(x_train, y_train)\nstc1_pred = stc1_model.predict(x_test)\n\nstc_1_pred_score_1 = accuracy_score(y_test, stc1_pred)\n\nprint(\"Prediction list of Stack classifier model: \", stc1_pred[:5])\nprint(\"Score of Stack classifier model: \", stc_1_pred_score_1)","5d3a2bd2":"# 3) Conclusion of prediction.","69cadac7":"Thank you everyone who check this notebook, especially to author of this dataset, because I always want to do work like this. If you like my notebook upvote it and if you dislike, please, write your comments it will help me to improve my skills. \nGood luck! ","7845ff6d":"The Entertainment Software Rating Board (ESRB) is an American self-regulatory organization that assigns age and content ratings to consumer video games. The board assigns ratings to games based on their content, using judgment similar to the motion picture rating systems used in many countries, using a combination of six age-based levels intended to aid consumers in determining a game's content and suitability, along with a system of \"content descriptors\" which detail specific types of content present in a particular game. The ratings are determined by a combination of material provided by the game's publisher in both questionnaires and video footage of the game, and a review of this material by a panel of reviewers who assign it a rating. The ratings are designed towards parents so they can make informed decisions about purchasing games for their children. Once a game is rated, the ESRB maintains a code of ethics for the advertising and promotion of video games - ensuring that marketing materials for games are targeted to appropriate audiences. (https:\/\/en.wikipedia.org\/wiki\/Entertainment_Software_Rating_Board)\n\nAfter we learn what is ESRB we can go and try to understand what is letters like E 10+, A, RP and etcetera. To know this let`s see table which author of this data frame (https:\/\/www.kaggle.com\/imohtn) left. ![image.png](attachment:image.png)\n\nHere we can see all ESRB_rating letters and what they mean. For example, E \u2013 everyone. It means that everyone can play this game.","4cd1f8e2":"Well, in my mind this the most interesting part of data analyzing. \nI think the best way to explore data is go in ascending column order. So, let\u2019s start. First column is Name, but I think we can\u2019t visualize anything here. Second column is about consoles. So, we can do something here. ","43a1c4ca":"Let`s see head of our dataframe and list of columns.","a7d91149":"Here we can see that:\n\n\u2022 There are more games with strong language scenes than without it.\n\n\u2022 There are more than 1600 computer games with strong language scenes in this data frame.\n\nWell, lets go to rating column. If carefully look at this column we can see that there are only 4 unique values. E, M, T, ET. That`s why I will prepare lists only for these four values.","03acc738":"Here we can see that:\n\n\u2022 Columns like Blood, Blood and Gore, Strong Language have strong positive correlation with ESRB rating.\n\n\u2022 But nudity, use of drugs and alcohol have really low correlation.\n\nWell, we find out which feature columns are important, so we can visualize them. \nLet`s start from Blood column:","192be139":"# 2) Import data and libraries.","d9b9966c":"Decision Tree Classifier has 0.82 accuracy score\n\nRandom Forest Classifier has 0.85 accuracy score (our \u201cwinner\u201d)\n\nStack model has 0.848 accuracy score\n\nWell, here we created three models, compared them, saw results and understanded that machine learning model can predict ESRB rating of games very well.","baed65e6":"After that we can check Nan and null values here.","2a09b370":"# 5) Conclusion of Analyzing.","b145bec3":"Second and every next column are about is this or that game includes something. That\u2019s why I think that we can firstly calculate correlation between them, find out which columns are most important and after that visualize those columns separately from each other. We will use Pearson`s Correlation. If you would like to learn more about correlation, you can check my last notebook (link: https:\/\/www.kaggle.com\/artemborzenko\/calculating-the-correlation-of-a-youtube-dataset) ","77b7f369":"Here we can see that:\n\n\u2022 There are a lot of games with rating T, but not so many games with rating M and ET.\n\n\u2022 Also, we can see that about half of all games are with rating T (~690), games with E and ET ratings are about 410 \u2013 400 and games for matures are only about 390.","d0626270":"Our task is to predict ESRB ratings of games in test data. So, after analysis this data we understand that there we can use classifier models to predict it.\n\n# 1) Prepare data.\n\nLet\u2019s reload out data to train data frame and test data frame. \nAfter we did it, we can split data. To use it we wont use train_test_split because we can do it easier with Numpy.","a4747860":"Here we can see that:\n\n\u2022 There are more games with blood scenes than without it.\n\n\u2022 There are more than 1400 computer games with blood scenes in this dataframe.\n\nBlood and Gore:","e153a64d":"After theory we can go to practice. Firstly, lets import all useful libraries. Secondly, load data.","b9646e24":"In conclusion I can say that we did good job. We analyze this data and understand that correlation of strong language, blood and gore between ESRB rating is strong positive, but correlation of for example nudity is not really strong (by information in this data frame). Also, we visualized information from many columns and learn a lot of interesting information. ","ead92cf1":"Here we can see that:\n\n\u2022 There are more games with blood and gore scenes than without it.\n\n\u2022 There are more than 1600 computer games with blood and gore scenes in this data frame.\n\nAnd what about Strong Language:","ae7aa31f":"# 2) Modelling","c5cbe49e":"# 3) Fast looking on data.","e85c2537":"# 1) What is ESRB rating?","b32b8c5f":"Random Forest Classifier is better than Decision Tree here, because it is having 0.85 of accuracy score.\n\nFinally, we can stack these models and see what will be result of this move.","86a79fb4":"Here we can see that this dataframe has 1895 rows and 34 columns and there are a lot of features. For example, blood_and_gore, intense_violence and others. We can see that all of those columns include numbers: 0 and 1. Author of this dataset explains that 0 means there isn`t this feature in the game and 1 means there is this feature. Also, there is column \u201cConsole\u201d. This column is about the console on which the game was released. It includes numbers 0 and 1 too. But it means like that: 0 = PS4, 1 = PS4 & Xbox_one. So, we understand what columns in this data.","5654eb70":"# Prediction part.","72ad3682":"Here we can see that:\n\n\u2022 There is a little bit few than 1000 games on PlayStation, but only 900 on both platforms.\n\n\u2022 First fact means that there are more playstation`s exclusives than games on both platforms.\n\n\u2022 The ratio of PlayStation games to games on both platforms is approximately 51% to 49%.","cab4d0fc":"# 4) Visualizing data.","f1e3bd74":"In this notebook we will analyze the data which includes many columns about features like \u201cIs there blood in this computer game\u201d or \u201cAre there murders in this game\u201d and ESRB rating for each video game in data frame. In my opinion it is very interesting data, because we can understand how many video games have for example this or that rating. So, let`s start.","39fb337b":"# Hello everyone!","33e67481":"First model is simple Decision Tree Classifier.\nIt is having not bad accuracy score: 0.82. How we can see Decision Tree Classifier is really good at this dataset. That\u2019s why let\u2019s check Random Forest Classifier score.","873bd1f7":"Cool. There aren`t null and nan values, thanks author. "}}