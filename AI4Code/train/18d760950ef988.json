{"cell_type":{"da86be43":"code","021dba52":"code","39ea3f20":"code","96e499f9":"code","27e6cf4e":"code","1d81b73c":"code","676da0f9":"code","2bd6851b":"code","6ed74917":"code","5b7553c2":"code","06f6f74a":"code","e3605cfc":"code","33e81b83":"code","1eb53b7d":"code","23a3468a":"code","51abba70":"code","1adf358c":"code","a40a1dce":"code","930b52bc":"code","473163cd":"code","4c793e69":"code","40c9d38d":"code","e017b296":"code","7e2225ba":"code","02e4095e":"code","2c6b1fc2":"code","38ac0050":"code","e64bbea2":"code","4771b301":"code","638721fa":"code","a1feaa32":"code","1f47a5d3":"code","cd63e2d4":"code","6215d533":"code","cf38f3b7":"code","e94a2812":"code","ef3be2aa":"code","4fcefd98":"code","c560ad62":"code","4a017d9d":"code","b9514297":"code","33751af3":"code","d41459fe":"code","29c9c4e8":"code","2ac373c3":"markdown","03d9d7fd":"markdown","9e5440c5":"markdown","94e3660c":"markdown","98cd1ca1":"markdown","2f4c4f5b":"markdown","b6d472be":"markdown","55996bfc":"markdown","9f3e0db1":"markdown","406e6369":"markdown","e7fde688":"markdown","7f6aecc0":"markdown","70e29ae0":"markdown","5b393d3f":"markdown","42558f58":"markdown","a8298dd8":"markdown","3bd52825":"markdown","f71fc2f3":"markdown","45932e63":"markdown","cef94d88":"markdown","63bd18f4":"markdown","0a788e60":"markdown","aa73c403":"markdown","2043b687":"markdown","e9deab2b":"markdown","aa4c9bc4":"markdown"},"source":{"da86be43":"import numpy as np\nimport pandas as pd\nimport math\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime as dt\n%matplotlib inline","021dba52":"city = pd.read_csv('..\/input\/GlobalLandTemperaturesByCity.csv')\ncountry = pd.read_csv('..\/input\/GlobalLandTemperaturesByCountry.csv')\nglobal_temp = pd.read_csv('..\/input\/GlobalTemperatures.csv')","39ea3f20":"city.head()","96e499f9":"city.shape","27e6cf4e":"country.head()","1d81b73c":"country.shape","676da0f9":"global_temp.head()","2bd6851b":"global_temp.shape","6ed74917":"city.Country.value_counts()","5b7553c2":"India = city[city.Country == 'India']\nIndia.head()","06f6f74a":"India = India.set_index('dt')\nIndia.head()\n","e3605cfc":"India.index =  pd.to_datetime(India.index)\nIndia.index.dtype","33e81b83":"India_mean_temperature_monthly = India.groupby([India.index.month.rename('Month'),India.City])['AverageTemperature'].mean().reset_index()\nIndia_mean_temperature_monthly.head()","1eb53b7d":"top_cities = India_mean_temperature_monthly[India_mean_temperature_monthly.City.isin(['Ahmadabad', 'Calcutta', 'Madras','New Delhi', 'Bombay', 'Srinagar'])]\ntop_cities = top_cities.set_index('Month')\ntop_cities.head()","23a3468a":"top_cities.plot(figsize =(12,5))\nplt.title('Monthly Mean Temperature of Top Cities')\nplt.ylabel(\"Average Temperature\")\nplt.grid(True)","51abba70":"India_mean_temperature_yearly = India.groupby([India.index.year.rename('Year'),India.City])['AverageTemperature'].mean().reset_index()\nIndia_mean_temperature_yearly.head(10)","1adf358c":"top_cities_yearly = India_mean_temperature_yearly[India_mean_temperature_yearly.City.isin(['Ahmadabad', 'Calcutta', 'Madras','New Delhi', 'Bombay', 'Srinagar'])]\ntop_cities_yearly = top_cities_yearly.set_index('Year')\ntop_cities_yearly.head()","a40a1dce":"top_cities_yearly.plot(color = 'brown',figsize =(12,5))\nplt.title('Yearly Mean Temperature of Top Cities')\nplt.ylabel(\"Average Temperature\")\nplt.grid(True)","930b52bc":"top_cities_yearly = top_cities_yearly.fillna(top_cities_yearly.mean())\ntop_cities_yearly.tail()","473163cd":"top_cities_yearly.plot(color = 'green',figsize =(12,5))\nplt.title('Yearly Mean Temperature of Top Cities')\nplt.ylabel(\"Average Temperature\")\nplt.grid(True)","4c793e69":"global_temp = global_temp.set_index('dt')\nglobal_temp.index = pd.to_datetime(global_temp.index)\nglobal_temp = global_temp.resample('A').mean()","40c9d38d":"global_temp.head()","e017b296":"x = global_temp.loc[:,['LandAverageTemperature']]\nx.plot(figsize =(12,5))\nplt.title('Global Temperature')\nplt.xlabel(\"Year --->\")\nplt.ylabel(\"Temperature --->\")\nplt.grid(True)","7e2225ba":"country=country.set_index('dt')\ncountry.index=pd.to_datetime(country.index)\ncountry.head()","02e4095e":"country_diff=country.groupby([country.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ncountry_diff.head()","2c6b1fc2":"country_diff=country_diff.groupby(['Country']).AverageTemperature.agg(['max','min']).reset_index()\ncountry_diff['diff']=country_diff['max']-country_diff['min']\ncountry_diff.head()","38ac0050":"country_list_max = country_diff.nlargest(10, columns = 'diff')\ncountry_list_max","e64bbea2":"plt.figure(figsize=(12,5))\nplt.title('Average Temperature')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Highest Temperature Difference')\nplt.plot(country_list_max['Country'],country_list_max['diff'],color='g')\nplt.grid(True)","4771b301":"country_list_min = country_diff.nsmallest(10, columns = 'diff')\ncountry_list_min","638721fa":"plt.figure(figsize=(12,5))\nplt.title('Average Temperature')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Lowest Temperature Difference')\nplt.plot(country_list_min['Country'],country_list_min['diff'],color='r')\nplt.grid(True)","a1feaa32":"country_filtered=country.groupby([country.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ncountry_filtered=country_filtered[country_filtered['Year']>=1900]\ncountry_filtered=country_filtered.groupby(['Country']).AverageTemperature.agg(['max','min']).reset_index()\ncountry_filtered['diff']=country_filtered['max']-country_filtered['min']\ncountry_filtered.head()","1f47a5d3":"country_list_max = country_filtered.nlargest(10, columns = 'diff')\ncountry_list_max","cd63e2d4":"plt.figure(figsize=(12,5))\nplt.title('Average Temperature')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Highest Temperature Difference')\nplt.plot(country_list_max['Country'],country_list_max['diff'],color='g')\nplt.grid(True)","6215d533":"country_list_min = country_filtered.nsmallest(10, columns = 'diff')\ncountry_list_min","cf38f3b7":"plt.figure(figsize=(12,5))\nplt.title('Average Temperature')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Highest Temperature Difference')\nplt.plot(country_list_min['Country'],country_list_min['diff'],color='r')\nplt.grid(True)","e94a2812":"developed = ['United States', 'United Kingdom', 'France', 'Germany', 'Japan', 'Canada', 'Switzerland', 'Norway', 'Sweden', 'South Korea', 'Australia']\ndeveloped_df=country[country.Country.isin(developed)]\ndeveloped_df=developed_df.groupby([developed_df.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ndeveloped_df.head()","ef3be2aa":"developing = ['China', 'India', 'Columbia', 'Brazil', 'Mexico', 'Indonesia', 'Philippines', 'Maldives', 'Turkey', 'South Africa', 'Libya']\ndeveloping_df=country[country.Country.isin(developing)]\ndeveloping_df=developing_df.groupby([developing_df.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ndeveloping_df.head()","4fcefd98":"fig, axs = plt.subplots(ncols=2,figsize=(12,5))\nsns.regplot(x='AverageTemperature',y='Year',fit_reg=True,data=developing_df, ax=axs[0])\naxs[0].set(title = 'Developing Countries')\nsns.regplot(x='AverageTemperature',y='Year',fit_reg=True,data=developed_df, ax=axs[1])\naxs[1].set(title ='Developed Countries');","c560ad62":"developing_df = developing_df[developing_df['Year'] > 1900]\n\nX = developing_df['Year'].values.reshape(-1,1)\nY = developing_df['AverageTemperature']\n#split dataset into train and test\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.3, random_state=0)\n\n#fit the model\nfrom sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\n\n#predict the test set results\ny_pred_1 = regressor.predict(X_test)\ny_pred_1","4a017d9d":"#coefficient and intercept for developing_df\nregressor.coef_, regressor.intercept_","b9514297":"regressor.predict([[2025]])\n","33751af3":"developed_df = developed_df[developed_df['Year'] > 1900]\n\nX = developed_df['Year'].values.reshape(-1,1)\nY = developed_df['AverageTemperature']\n#split dataset into train and test\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.3, random_state=0)\n\n#fit the model\nfrom sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\n\n#predict the test set results\ny_pred_2 = regressor.predict(X_test)\ny_pred_2","d41459fe":"#coefficient and intercept for developed_df\nregressor.coef_, regressor.intercept_","29c9c4e8":"regressor.predict([[2025]])","2ac373c3":"##### Plotting the AverageTemperature for top 10 countries with the highest temperature difference:\n","03d9d7fd":"### Handling missing data \n\nThe dataframe India_mean_temperature_yearly has many NaN values in the column AverageTemperature. That leads the the plot with broken lines. \n","9e5440c5":"### Data Aggregated per Year \n\nMean temperatures in Indian cities by Year \n","94e3660c":"### Countries with Minimum and Maximum temperature difference over years\n","98cd1ca1":"### Predicting temperature using Linear regression for Developing Countries\n","2f4c4f5b":"The countries on Nothern and southern hemispheres seems to have witnessed significantly more global warming compared to the tropical countries.","b6d472be":"##### Plotting the averageTemperature for countries with the lowest temperature difference. ","55996bfc":"    It contains 3 csv files:\n\n    GlobalLandTemperaturesByCity.csv \n    GlobalLandTemperaturesByCountry.csv\n    GlobalTemperatures.csv","9f3e0db1":"##### Creating a new dataframe called India from city by selecting only the data that contain India ","406e6369":"##### Plotting the graph for top_cities of India","e7fde688":"### Predicting temperature using Linear regression for Developed Countries\n","7f6aecc0":"##### Plotting the AverageTemperature for top 10 countries with the lowest temperature difference:\n","70e29ae0":"The increase in temperature is not very evident in both the plots. Also the data doesn't seem to be very reliable. So repeating the exercise by first filtering the dataframe country to only represent data after 1900.","5b393d3f":"### Temperature Comparison of Developed Vs. Developing nations:","42558f58":"The global mean temperature graph is definitely showing an upward trend. We can use the dataframe country to further evaluate whether the upward trend is uniform or contributed by some selected countries.","a8298dd8":"##### Importing the modules","3bd52825":"##### Plotting the graph for top_cities of India","f71fc2f3":"##### Predicting the temperatures in  developing countries in the year 2025. ","45932e63":"##### Plotting the averageTemperature for countries with the highest temperature difference. ","cef94d88":"The dataframe India contains data of 391 unique cities. ","63bd18f4":"### Data Aggregated per Month\n\nMean temperatures in Indian cities by month ","0a788e60":"### Unique countries in dataframe city ","aa73c403":"##### loading the datasets","2043b687":"### Trend in Global Temperature \n","e9deab2b":"## Climate Change: Earth Surface Temperature Data\n\n\n","aa4c9bc4":"##### Predicting the temperatures in  developed countries in the year 2025. "}}