{"cell_type":{"993be549":"code","215f83dd":"code","a97b8a46":"code","79d8248d":"code","d9e6d744":"code","1892b274":"code","40caca49":"code","fe4dc8f3":"code","c3b0bb6b":"code","9a438dc0":"code","ac1634bc":"code","66a94d98":"markdown","c3e8b697":"markdown","c1edf7bd":"markdown","444f059b":"markdown"},"source":{"993be549":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport plotly.express as px\nfrom pandas_profiling import ProfileReport\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","215f83dd":"df = pd.read_csv(\"\/kaggle\/input\/world-cities-average-internet-prices-2020\/cities_internet_prices.19-10-2021.csv\")\ndf.rename({' \"Region\"':'Region', ' \"Country\"':'Country', ' \"InternetPrice\"':'InternetPrice' }, inplace=True, axis=1)","a97b8a46":"df.head()","79d8248d":"df.profile_report()","d9e6d744":"px.histogram(df.InternetPrice)","1892b274":"minmax = df.groupby('Country').agg({'InternetPrice': [np.min, np.max]})['InternetPrice']\nminmax['diff'] = minmax['amax'] - minmax['amin']\ndf = df.merge(minmax, left_on='Country', right_index=True)","40caca49":"sorted_diff_countries = minmax.sort_values(by='diff', ascending=False).index\ndf_sorted_diff = df.sort_values(by=['diff', 'Country'], ascending=[False, True])","fe4dc8f3":"top15_diff_countries = sorted_diff_countries[:15]\nlargest_diff = df_sorted_diff[df_sorted_diff['Country'].isin(top15_diff_countries)]","c3b0bb6b":"px.box(largest_diff[::-1], y=\"Country\", x=\"InternetPrice\")","9a438dc0":"bot15_diff_countries = sorted_diff_countries[:-15:-1]\nsmallest_diff = df_sorted_diff[df_sorted_diff['Country'].isin(bot15_diff_countries)]","ac1634bc":"px.box(smallest_diff, y=\"Country\", x=\"InternetPrice\")","66a94d98":"# Top 5 least polarized price countries","c3e8b697":"# Histogram of internet prices","c1edf7bd":"# Profile Report","444f059b":"# Top 5 most polarized price countries"}}