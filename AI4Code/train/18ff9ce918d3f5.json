{"cell_type":{"ca232c5c":"code","6735a5cd":"code","460e2eac":"code","11dd7675":"code","f940ad04":"code","28a99a29":"code","386011d6":"code","d7373cc0":"code","babade11":"code","840ca7dd":"code","6b3a0d45":"code","66bea044":"code","25a2abab":"code","0a5eb0ca":"code","c3fa0d89":"code","5e6148c1":"code","1e21dcfe":"code","020fec5d":"code","acc7f21f":"code","1f432ee7":"code","af3d6b6f":"code","ddf4b378":"code","01bdd41a":"code","49a8c905":"code","7656d2fd":"code","0d4ed5b0":"code","8ab68c23":"code","2491e26e":"code","db1853b9":"code","0c060ca2":"code","38a4fcd3":"code","570fdb56":"code","30d9e629":"code","190c62af":"code","977c2eb0":"code","9cf86ef5":"code","bb88bf59":"code","ceb19b1b":"code","f4ce4e25":"markdown","0841bc5c":"markdown","82313fab":"markdown","330b1d23":"markdown","715be9b7":"markdown","e734edbc":"markdown","d595e6a3":"markdown","c977dbb5":"markdown","a11eb17b":"markdown","a5783647":"markdown","15c231fe":"markdown","73f8d84c":"markdown","34a86e5c":"markdown","feefde7d":"markdown","38ac6ba5":"markdown","0022658e":"markdown","0e2c0526":"markdown","46c813f8":"markdown","de032cc5":"markdown","b360950f":"markdown","5b4f02d4":"markdown","29a4d825":"markdown","285b0424":"markdown","75b90cd0":"markdown","0cbba145":"markdown","437b7e2b":"markdown","3885bbf3":"markdown"},"source":{"ca232c5c":"%matplotlib inline  \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')\n\nmicro=pd.read_csv('..\/input\/project_catalog.csv')\npd.set_option('display.max_rows', None, 'display.max_columns', None)\n","6735a5cd":"micro.shape","460e2eac":"micro.columns ","11dd7675":"micro.head(2)","f940ad04":"micro.info()","28a99a29":"micro['Gene Count'].describe()","386011d6":"micro_gene_count=micro[micro['Gene Count']==0]\nmicro_gene_count['NCBI Superkingdom'].value_counts()","d7373cc0":"micro_no_gene_progress= micro[(micro['Gene Count']==0) & (micro['Project Status']=='In Progress')]\nmicro_no_gene_progress['NCBI Superkingdom'].value_counts()","babade11":"micro_no_gene_complete=micro[(micro['Gene Count']==0) & (micro['Project Status']=='Complete')]\nmicro_no_gene_complete['NCBI Superkingdom'].value_counts()","840ca7dd":"micro[micro['Gene Count']==8490]","6b3a0d45":"micro['HMP Isolation Body Site'].nunique()","66bea044":"micro['HMP Isolation Body Site'].value_counts()","25a2abab":"micro['HMP Isolation Body Site'].value_counts().plot(kind='bar')\nplt.title('Distribution of microorganisms in various body sites')\nplt.ylabel('Number of different microbes')\nplt.xlabel('Human body sites')\nplt.title('Diversity of microorganisms at different body sites')","0a5eb0ca":"micro['Genus']= micro['Organism Name'].str.split(' ').str[0]\nmicro['species']=micro['Organism Name'].str.split(' ').str[1]\nmicro[['Genus','species']].head()","c3fa0d89":"micro['Genus'].nunique()","5e6148c1":"micro['Genus'].value_counts().head(10)","1e21dcfe":"micro.groupby('NCBI Superkingdom').count()","020fec5d":"micro[micro['NCBI Superkingdom']=='Error!!!']","acc7f21f":"micro['NCBI Superkingdom'].replace('Error!!!', 'Bacteria', inplace=True)","1f432ee7":"micro[['Domain','NCBI Superkingdom']].isnull().sum()","af3d6b6f":"len(micro.loc[micro['Domain'].isnull()& micro['NCBI Superkingdom'].isnull()])","ddf4b378":"micro=micro.drop(micro[(micro['Domain'].isnull()) & (micro['NCBI Superkingdom'].isnull())].index)\nmicro.shape","01bdd41a":"micro['NCBI Superkingdom'].fillna('NaN', inplace=True)","49a8c905":"print(micro.shape)\nmicro['Domain'] =micro.groupby('NCBI Superkingdom')['Domain'].transform(lambda x: x.fillna(x.mode().max()))\nmicro['Domain'].isnull().sum()","7656d2fd":"micro['NCBI Superkingdom']= micro.groupby('Domain')['NCBI Superkingdom'].transform(lambda x: x.replace('NaN', x.mode().max()))\nmicro.loc[micro['NCBI Superkingdom']=='NaN']","0d4ed5b0":"micro.groupby('NCBI Superkingdom')['HMP Isolation Body Site'].nunique().sort_values(ascending=False)","8ab68c23":"bac=micro.loc[micro['Domain']=='BACTERIAL']\nbac['HMP Isolation Body Site'].unique()","2491e26e":"bac['HMP Isolation Body Site'].value_counts(ascending=False).plot(kind='bar')\nplt.ylabel('Number of different bacteria')\nplt.xlabel('Human body sites')\nplt.title('Diversity of bacteria at different body sites')","db1853b9":"euk=micro.loc[micro['Domain']=='EUKARYAL']\neuk['HMP Isolation Body Site'].unique()","0c060ca2":"euk['HMP Isolation Body Site'].value_counts(ascending=False).plot(kind='bar')\nplt.ylabel('Number of different eukaryotes')\nplt.xlabel('Human body sites')\nplt.title('Diversity of eukaryotes at different body sites')","38a4fcd3":"vir=micro.loc[micro['Domain']=='VIRUS']\nvir['HMP Isolation Body Site'].unique()","570fdb56":"arc=micro.loc[micro['Domain']=='ARCHAEAL']\narc['HMP Isolation Body Site'].unique()","30d9e629":"z=micro.groupby('Genus')['HMP Isolation Body Site'].nunique().sort_values(ascending=False)\ny=pd.DataFrame(z)\nw=y[y['HMP Isolation Body Site']>4]\nprint(w)\nw.plot(kind='bar')\nplt.ylabel('Number of different body sites')\nplt.title('Number of habitats for different microorganisms')","190c62af":"staph=micro.loc[micro['Genus']=='Staphylococcus']\nstaph['HMP Isolation Body Site'].unique()","977c2eb0":"micro['NCBI Superkingdom'].value_counts()","9cf86ef5":"viruses= micro[micro['NCBI Superkingdom'] =='Viruses']\nviruses['Organism Name']","bb88bf59":"eukaryotes= micro[micro['NCBI Superkingdom']=='Eukaryota']\neukaryotes['Organism Name']","ceb19b1b":"archaea= micro[micro['NCBI Superkingdom']=='Archaea']\narchaea['Organism Name']","f4ce4e25":"**Bug** - As many of the same rows have missing values for NCBI Superkingdom and Domain columns. The following groupby followed by transform steps were not working and giving an error message. To overcome that I first replaced missing value with the string 'NaN' in NCBI Superkingdom and then proceeded to the next step of filling missing value in Domain column ( groupby 'NCBI Superkingdom' and then transform it).","0841bc5c":"More Eukaryotic diversity exist in the blood, followed by skin, airways, , wound, unknown.  ","82313fab":"Next, I replaced the string 'NaN' using groupby and transform methods.","330b1d23":"We then check how the data looks like by checking its the shape, its columns and the amount of missing data.","715be9b7":"After getting rid of the missing values in 'NCBI Superkingdom' and 'Domain' columns, I was keen in checking where all the different types of microbes such as Bacteria, eukaryotes, viruses and archeae are located in the human body. From the given probing, it is clear that bacteria are located in all 16 studied human body sites followed by eukaryotes in 5 body sites, followed by viruses and archaea. ","e734edbc":"There are 242 genera found, with *Streptococcus* being the most common genus in the human body.","d595e6a3":"The study didn't find any precise location for viruses. Although, some previous studies have found virueses in blood, skin.","c977dbb5":"Next, I found out that the microorganism with the highest gene count is *Streptomyces* sp. HGB0020, with 8490 genes and which lives in the gastrointestinal tract.","a11eb17b":"Next, I found that the research found 16 human body sites, with most diversity shown in the gastrointestinal tract.","a5783647":"### Objective \nHere, we will try to answer some interesting questions, such as -\ni) Human body site showing most microbial diversity \nii) The most common genus (taxonomic rank that comes above species) of microorganism found in the human body\niii) Most ubiquitous microbe in the human body\n","15c231fe":"## Introduction\nHuman body is a complex and fascinating machine. According to a [2016 research](https:\/\/journals.plos.org\/plosbiology\/article?id=10.1371\/journal.pbio.1002533), there are 30 trillion cells in a 70kg man and and along with these cells, we are inhabited with almost the same number of bacterial cells. Other than bacteria we are also colonised by fungi, protists and viruses. These microbes govern a range of functions in health, disease and our behaviour. So, how about taking a journey and analyse this amazing world of human microbiota through a lens of data science?\nIn this kernel, we will explore a data set that is available on Amazon Web Services (AWS). The data has been collected from 300 individuals and various genetic analysis have been done to analyse the microbes that inhabit various regions of the human body.","73f8d84c":"But for 47 bacteria, 5 viruses, 4 eukaryotes the project has been completed. Thus, the reason could be a reporting error.","34a86e5c":"Following is the list of names of viruses, eukaryotes and archaea.","feefde7d":"Archaea is found primarily in the gastrointestinal tract.","38ac6ba5":"Just to mention that this study, includes 2882 Bacteria, 8 eukaryotes, 6 viruses and 2 archaea.","0022658e":"We then check the statistics for Gene count (it has no missing data). From this, it is evident that minimum gene count is 0. How?","0e2c0526":"As Streptococcus species ( which are bacteria) are the ones with 'Error!!!' in NCBI superkingdom, I have replaced this 'Error!!!' with 'Bacteria'.","46c813f8":"I was curious to check if the reason of 0 gene count is correlated with the project status. It appears that the reason behid 0 gene count  for 1284bacteria, 4 eukaryotes, 1virus could be that the pojects are still in progress (when they released the data).","de032cc5":"Next, I was interested in finding the most common genus. A scientific name is made up of 2 parts - genus name followed by scientific name.","b360950f":"But we cannot fill the missing values in either of these columns, if both values of the 2 columns are missing. For that I checked how many such observations are present. Then I removed those observations.","5b4f02d4":"As bacteria are more ubiquitous in the human body. The diversity is most vast in gastrointentestinal tract.","29a4d825":"Digging further it is evident that 1331 Bacteria have 0 gene count followed by 8 eukaryotes and 6 viruses. ","285b0424":"To proceed further, I wanted to fill the missing values in Domain and NCBI superkingdom columns. One can infer the result of one column if the other column's value is known. ","75b90cd0":"### Import the necessary modules \nImport the necessary modules and read the data. ","0cbba145":"### Conclusion\nIn this kernel we have performed EDA of the Human Microbiome dataset. Found- i) Gastrointestine shows most diversity of microbes, ii) *Streptomyces* sp. HGB0020 shows the maximum gene count in human, iii) *Streptococcus* is most common genus while *Staphylococcus* is most ubiquitous in humans.\n","437b7e2b":"Next question that comes to mind is which is the most ubiquitous organism found in this analysis.  Staphylococcus is the most ubiquitous among all, with 11 habitats- urogenital_tract, skin,  airways, unknown, gastrointestinal_tract, nose, blood, bone, eye, ear, other.","3885bbf3":"Before proceeding further, I checked for the unique values in 'NCBI Superkingdom' column. There are 3 observations labeled 'Error!!!' for this column."}}