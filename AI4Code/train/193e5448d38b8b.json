{"cell_type":{"4e56513e":"code","97f243b2":"code","a5fba514":"code","e0aa7277":"code","2dcbe682":"code","886a7dce":"code","fd7b50b7":"code","0b043e87":"code","0d0c12ba":"code","80c3e770":"code","23a6b01d":"code","62c25cee":"code","15daa7c7":"code","2a208314":"code","408b586c":"code","cde6b471":"code","c55299b3":"code","918fcf50":"code","19376ccf":"code","bb2cc544":"markdown","270b7f3c":"markdown","fcccd858":"markdown","b90cd5b0":"markdown","19df64e2":"markdown","696242a4":"markdown","71126ebe":"markdown","1d30986b":"markdown","845082cb":"markdown","0052a0b4":"markdown","38b9de54":"markdown","ce59847d":"markdown"},"source":{"4e56513e":"!pip install wikipedia","97f243b2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport wikipedia as wiki\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","a5fba514":"plt.figure(figsize=(16,8))","e0aa7277":"import spacy\nnlp = spacy.load('en')","2dcbe682":"path = \"\/kaggle\/input\/top-spotify-songs-from-20102019-by-year\/top10s.csv\"\ndf = pd.read_csv(path,encoding='ISO-8859-1',index_col=0)","886a7dce":"df.head()","fd7b50b7":"df.columns","0b043e87":"df.groupby(['year']).dur.mean().plot()","0d0c12ba":"df.artist.value_counts().reset_index().head(10)","80c3e770":"top_10_type = df['top genre'].value_counts().nlargest(10).index\ndf_updated = df.where(df['top genre'].isin(top_10_type),other='Other')\ndf_updated['top genre'].value_counts().plot(kind='pie')","23a6b01d":"df_19 = df[df.year==2019]\ndf[df.year==2019]['top genre'].value_counts().plot(kind='pie')","62c25cee":"dnce_19_df = df_19.sort_values(by='dnce',ascending=False)\ndnce_19_df[['title','artist','dnce']].head(10)","15daa7c7":"his_dnce_df = df.sort_values(by='dnce',ascending=False).head(10)\nhis_dnce_df[['title','artist','dnce']]","2a208314":"# artists\nartists_arr = df.artist.value_counts().head(10).index","408b586c":"def get_location_info(summary):\n    doc = nlp(summary)\n    ents = {}\n    for ent in doc.ents:\n        # Save interesting entities\n        if ent.label_ in ['NORP','PERSON']:\n            ents[ent.label_] = ent.text\n    return ents","cde6b471":"artist_loc_dict_arr = []\n\nfor artist in artists_arr:\n    dict_info = get_location_info(wiki.summary(artist))\n    artist_loc_dict_arr.append(dict_info)","c55299b3":"artist_loc_df = pd.DataFrame(artist_loc_dict_arr)","918fcf50":"plt.figure(figsize=(16,8))\nplt.title('Most frequent Artist location',fontsize=30)\nplt.xlabel('Location', fontsize=20)\nplt.ylabel('Count', fontsize=20)\n\nartist_loc_df.NORP.value_counts().plot(kind='bar')\n\nplt.xticks(size=20,rotation=90)\nplt.yticks(size=20)\nsns.despine(bottom=True, left=True)\nplt.show()","19376ccf":"plt.figure(figsize=(16,8))\ndf.sort_values(by='pop',ascending=False).artist.value_counts().head(10).plot(kind='pie')","bb2cc544":"# Columns","270b7f3c":"# Read file","fcccd858":"# Duration Trend","b90cd5b0":"# 2019 Music type Top 10 pie chart","19df64e2":"# Artist appear most top 10","696242a4":"# Artist locations share","71126ebe":"# Popular Songs","1d30986b":"# Head","845082cb":"# Music Type Top 10 pie chart","0052a0b4":"# History Danceability top 10","38b9de54":"# 2019 Danceability top 10","ce59847d":"# Set Plotting style"}}