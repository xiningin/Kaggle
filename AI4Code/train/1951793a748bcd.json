{"cell_type":{"9971c7e8":"code","b78d834f":"code","777a372d":"code","246d34f3":"code","565c8730":"code","3e023b52":"code","45394c74":"code","de5ab6d8":"code","1e7dff0a":"code","be681949":"code","8c2a4521":"code","f20745db":"code","a829a0c1":"code","f01b383d":"code","351b47a6":"code","8a39a12d":"code","f8fb0c45":"code","fb1b34aa":"code","7a3c5f70":"code","b2c1055f":"code","d94fe101":"code","c46410a6":"markdown","32589877":"markdown","891e1c26":"markdown","2fde8906":"markdown","7da7cdf3":"markdown","698697b0":"markdown","8832124f":"markdown","91aa08ce":"markdown","5d841e94":"markdown"},"source":{"9971c7e8":"import os\nimport numpy as np\nimport pandas as pd\nimport random\nimport folium\nfrom folium import plugins\nimport seaborn as sns\nimport cv2\nimport matplotlib.pyplot as plt\nimport IPython\nimport time\nimport plotly.express as px","b78d834f":"data0=pd.read_csv('..\/input\/earthquake-in-japan\/tonga_20210101_20220117_query.csv')\ndata0=data0.sort_values('time',ascending=True).reset_index(drop=True)\ndata0[-5:]","777a372d":"print(data0.columns.tolist())","246d34f3":"data0=data0.fillna('N')\ndata1=data0[['time','latitude','longitude','depth','mag','type']]\ndata1[-5:]","565c8730":"data1[data1['type']=='volcanic eruption']  ","3e023b52":"from datetime import datetime as dt\ndata2a=data1.copy()\ndate=[]\nfor item in data1['time']:\n    date+=[dt.strptime(item[0:-5],'%Y-%m-%dT%H:%M:%S')]\ndata2a['date']=date\ndata2a[-5:]","45394c74":"#start=dt.strptime('2021-07-01T00:00:00','%Y-%m-%dT%H:%M:%S')\n#end=dt.strptime('2021-08-01T00:00:00','%Y-%m-%dT%H:%M:%S')","de5ab6d8":"data4=data2a[data2a['longitude']<-172][data2a['longitude']>-178][data2a['latitude']>-23][data2a['latitude']<-17]\ndata4=data4.reset_index(drop=True)\ndata4[-5:]","1e7dff0a":"import plotly.express as px\nfig=px.scatter(x=data4['date'],y=data4['mag'])\nfig=px.scatter(data4, x=\"date\", y=\"mag\")\nfig.update_layout(title='Magnituide of earthquake around Tonga region')\nfig.show()","be681949":"data5=data4[-30:].reset_index(drop=True)\ndata5","8c2a4521":"data5p=data5[['latitude','longitude']]","f20745db":"for i in range(30):\n    item=data5.loc[i:i,'time'].tolist()[0][0:-5]\n    eq_map = folium.Map(location=[-20.5460,-175.3900],tiles='Stamen Terrain',zoom_start=7.0,min_zoom=2.0)\n    eq_map.add_child(plugins.HeatMap(data5p.loc[i:i]))\n    eq_map.save(\".\/\"+str(item)+\".html\")","a829a0c1":"eq_map = folium.Map(location=[-20.5460,-175.3900],tiles='Stamen Terrain',zoom_start=7.0,min_zoom=2.0)\neq_map.add_child(plugins.HeatMap(data5p))\neq_map","f01b383d":"paths0=[]\nimport os\nfor dirname, _, filenames in os.walk('.\/'):\n    for filename in filenames:\n        if filename[-5:]=='.html':\n            paths0+=[os.path.join(dirname, filename)]","351b47a6":"#!rm *","8a39a12d":"order=[]\nfor item in paths0:\n    order+=[item[:-5].split('\/')[-1]]\npaths1=pd.DataFrame(paths0)\npaths1[1]=order\npaths1.columns=['path','int']\npaths1=paths1.sort_values('int')\npaths2=paths1['path'].tolist()\nprint(paths2)","f8fb0c45":"htmls=[]\nfor item in paths2:\n    htmls+=[\"<iframe width='600' height='400' src='\" +item+ \"' frameborder='0'><\/iframe>\"]","fb1b34aa":"print(paths2[29])\nprint(data5.iloc[29:30,1:])\nIPython.display.HTML(htmls[29])","7a3c5f70":"eq_map = folium.Map(location=[-20.5460,-175.3900],tiles='Stamen Terrain',zoom_start=5.0,min_zoom=2.0)\neq_map.add_child(plugins.HeatMap(data5p[-1:]))\nfolium.Circle(location=[-20.5460,-175.3900], radius=250000).add_to(eq_map)\neq_map","b2c1055f":"eq_map = folium.Map(location=[35.360626,138.727363],tiles='Stamen Terrain',zoom_start=5.0,min_zoom=2.0)\neq_map.add_child(plugins.HeatMap(pd.DataFrame([[35.360626,138.727363]])))\nfolium.Circle(location=[35.360626,138.727363], radius=250000).add_to(eq_map)\neq_map","d94fe101":"eq_map = folium.Map(location=[-20.5460,-175.3900],tiles='Stamen Terrain',zoom_start=2.0,min_zoom=2.0)\neq_map.add_child(plugins.HeatMap(data5p[-1:]))\nfolium.Circle(location=[-20.5460,-175.3900], radius=7800000).add_to(eq_map)\neq_map","c46410a6":"# Volcanic eruption induced an earthquake, but the earthquake is not the cause of tsunami. ","32589877":"# If Mt. Fuji erupted plume of the same radius\n#### I could not understand the scale of the plume until seeing the result of this replacement.","891e1c26":"# Tsunami hit Japan's eastern coast, 7800 km away\n#### The tsunami struck the east coast of Japan 12 hours after the volcanic eruption, where is 7800 km away from the location of the volcano. The propagation speed of the tsunami is calculated to be about 650 km\/h. I supposed that unlike the tsunami caused by an earthquake, regarding the tsunami by volcanic eruption, its energy is transmitted mainly through the deep sea, and not noticeable near the sea surface.","2fde8906":"# **Volcanic eruption near Tonga induced Tsunami**\nhttps:\/\/en.wikipedia.org\/wiki\/2022_Hunga_Tonga_eruption_and_tsunami","7da7cdf3":"# The location of volcanic eruption","698697b0":"# Radius of plume circle large, estimated 250 km","8832124f":"![https:\/\/i.gzn.jp\/img\/2022\/01\/17\/tonga-volcanic-eruption\/00.jpg](https:\/\/i.gzn.jp\/img\/2022\/01\/17\/tonga-volcanic-eruption\/00.jpg)","91aa08ce":"# Recent 30 earthquakes around Tonga","5d841e94":"### Datasource\n* The data was acquired through [the USGS Earthquake Catalog](https:\/\/earthquake.usgs.gov\/earthquakes\/search\/)\n"}}