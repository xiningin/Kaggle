{"cell_type":{"71ac39cf":"code","6c02593e":"code","0bdfa05e":"code","d5661a2b":"code","9cf4eea8":"code","43de3fb5":"code","ebe282d8":"code","322bdb7d":"code","7d06c406":"code","703e7b1e":"code","c71f4a9c":"code","30f33797":"code","117758ba":"code","f138403f":"code","7e6f0a61":"code","fad54463":"code","3dfae667":"code","084dbc6d":"code","0c3136eb":"code","bfd597fb":"code","7111eb87":"code","ac72df92":"code","5687889f":"code","5476da7b":"code","92ec28e3":"code","80f07642":"markdown"},"source":{"71ac39cf":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pylab as plt\n\nimport plotly.io as pio\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\npio.templates.default = \"none\"\n# import plotly.offline as py\n# py.offline.init_notebook_mode()\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","6c02593e":"df17= pd.read_csv(\"\/kaggle\/input\/kaggle-survey-2017\/multipleChoiceResponses.csv\", encoding=\"ISO-8859-1\")\ndf18= pd.read_csv(\"\/kaggle\/input\/kaggle-survey-2018\/multipleChoiceResponses.csv\", )\ndf19= pd.read_csv(\"\/kaggle\/input\/kaggle-survey-2019\/multiple_choice_responses.csv\", )\ndf20= pd.read_csv(\"\/kaggle\/input\/kaggle-survey-2020\/kaggle_survey_2020_responses.csv\", )\ndf21= pd.read_csv(\"\/kaggle\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv\", )","0bdfa05e":"### Helper functions\n## horizontal bar graphs \ndef plotly_hBar(df, q, title, height=400,l=250,r=50,b=50,t=100,):   \n    fig = px.histogram(df.iloc[1:], \n                       y=q,\n                       orientation='h',\n                       width=700,\n                       height=height,\n                       histnorm='percent',\n                       color='region',\n                       color_discrete_map={\n                           \"Asia\": \"gold\", \"World\": \"salmon\"\n                       },\n                       opacity=0.6\n                       )\n\n    fig.update_layout(title=title, \n                      font_family=\"San Serif\",\n                      bargap=0.2,\n                      barmode='group',\n                      titlefont={'size': 28},\n                      paper_bgcolor='#E6E6E6',\n                      plot_bgcolor='#E6E6E6',                      \n                      legend=dict(\n                      orientation=\"v\", \n                          y=1, \n                          yanchor=\"top\", \n                          x=1.250, \n                          xanchor=\"right\",)                 \n                      ).update_yaxes(categoryorder='total ascending')\n    fig.update_traces(marker_line_color='black',\n                  marker_line_width=1.5)\n    fig.update_layout(yaxis_title=None,yaxis_linewidth=2.5,\n    autosize=False,\n    margin=dict(\n        l=l,\n        r=r,\n        b=b,\n        t=t,\n    ),\n    )\n    fig.update_xaxes(showgrid=False)\n    fig.update_yaxes(showgrid=False)\n    fig.show()   \n    \n\n###################\n## vertical bar graphs##########################\ndef plotly_vBar(df, q, title, l=50,r=50,b=50,t=100):   \n    fig = px.histogram(df.iloc[1:],\n                       x=q,\n                       orientation='v',\n                       width=700,\n                       height=450,\n                       histnorm='percent',\n                       color='region',\n                       color_discrete_map={\n                           \"Asia\": \"gold\", \"World\": \"salmon\"\n                       },\n                       opacity=0.6\n                       )\n\n    fig.update_layout(title=title, \n                      font_family=\"San Serif\",\n                      bargap=0.2,\n                      barmode='group',\n                      titlefont={'size': 28},\n                      paper_bgcolor='#E6E6E6',\n                      plot_bgcolor='#E6E6E6',\n                      legend=dict(\n                      orientation=\"v\", \n                          y=1, \n                          yanchor=\"top\", \n                          x=1.250, \n                          xanchor=\"right\",)                 \n                      ).update_xaxes(categoryorder='total descending')\n    fig.update_traces(marker_line_color='black',\n                  marker_line_width=1.5)\n    fig.update_layout(xaxis_title=None,xaxis_linewidth=2.5,\n    autosize=False,\n    margin=dict(\n        l=l,\n        r=r,\n        b=b,\n        t=t,\n    ),\n    )\n    fig.update_xaxes(showgrid=False)\n    fig.update_yaxes(showgrid=False)\n    fig.show()   \n\n## head_count function copied from https:\/\/www.kaggle.com\/ruchi798\/kaggle-ml-ds-survey-analysis\ndef head_count(df, question_num, parts):\n    questions = []\n    questions = ['Q'+ str(question_num) +'_Part_'+ str(j) for j in range(1, parts)]\n    questions.append('Q'+ str(question_num) + '_OTHER')\n    \n    categories = []\n    values = []\n    for i in questions:\n        category = df[i].value_counts().index[0]\n        val = df[i].value_counts()[0]\n        \n        categories.append(category)\n        values.append(val)\n       \n    combined_df = pd.DataFrame()\n    combined_df['Category'] = categories\n    combined_df['Value'] = values\n    \n    #combined_df = combined_df.sort_values(['Value'],ascending=False)\n    \n    return combined_df\n\n###########################################\n## make a dataframe with percentages included \ndef df_with_percentages(df, q, n, region):\n    \n    dff = head_count(df, q, n)\n    perc = []\n\n    for item  in dff.Value:          \n        \n        perc.append(np.round(item\/len(df)*100, 2))\n\n    data = pd.DataFrame()\n    data['Percentage'] = perc\n    df_perc = pd.concat([dff, data], axis=1)\n    df_perc['Region'] = region\n    \n    return df_perc\n    \n\n###############################################################\n## bargraphs for multipart questions \ndef plot_barH_percent(df1, df2, title, l=150, r=50, b=50, t=100):\n    fig = go.Figure()\n    fig.add_trace(go.Bar(y=df1['Category'],\n                         x=df1['Percentage'],\n                         orientation= 'h',\n                         name=\"World\",\n                         marker_color='salmon',\n                         opacity =0.6\n                        ),\n                 )\n    fig.add_trace(go.Bar(y=df2['Category'],\n                         x=df2['Percentage'],\n                         orientation= 'h',\n                         name=\"Asia\",\n                         marker_color='gold',\n                         opacity =0.6\n                        ),\n                 )\n    fig.update_traces(marker_line_color='black',\n                  marker_line_width=1.5)\n    fig.update_layout(title=title, \n                  font_family=\"San Serif\",\n                  bargap=0.2,\n                  barmode='group',\n                  titlefont={'size': 28},\n                  paper_bgcolor='#E6E6E6',\n                  plot_bgcolor='#E6E6E6',\n                  legend=dict(\n                  orientation=\"v\", \n                      y=1, \n                      yanchor=\"top\", \n                      x=1.250, \n                      xanchor=\"right\",)                 \n                  ).update_yaxes(categoryorder='total ascending')\n\n    fig.update_layout(xaxis_title='percentage',yaxis_linewidth=2.5,\n    autosize=False,\n    margin=dict(\n        l=l, r=r, b=b, t=t,\n    ),\n    )\n    fig.update_xaxes(showgrid=False)\n    fig.update_yaxes(showgrid=False)\n    fig.show()     \n    \n    \n###################################################   \ndef annotated_heatmap(df_w, df_a, title, width=850):\n    x =list(df_w['Category'])\n\n    y = ['World', 'Asia']\n\n    z= [list(df_w['Percentage']),list(df_a['Percentage'])]\n\n    fig = ff.create_annotated_heatmap(z, x=x, y=y, annotation_text=z, colorscale='orrd', xgap=3, ygap=3)\n\n    fig.update_layout(title_text=title,\n                      title_x=0.5,\n                      titlefont={'size': 24, 'family':'San Serif'},\n                      width=width, height=350,\n                      xaxis_showgrid=False,\n                      xaxis={'side': 'bottom'},\n                      yaxis_showgrid=False,\n                      yaxis_autorange='reversed',                   \n                      paper_bgcolor='#E6E6E6',\n                      )\n    fig.show()\n    \n####################################################################   \ndef categorical_scatter(df1, df2, title, l=150, r=50, b=50, t=100):\n    fig = go.Figure()\n    fig.add_trace(go.Scatter(y=df1['Category'],\n                         x=df1['Percentage'],\n                         orientation= 'h',\n                         name=\"World\",\n                         mode='markers',\n                         marker_color='salmon',\n                         #opacity =0.6\n                        ),\n                 )\n    fig.add_trace(go.Scatter(y=df2['Category'],\n                         x=df2['Percentage'],\n                         orientation= 'h',\n                         name=\"Asia\",\n                         mode='markers',\n                         marker_color='gold',\n                         #opacity =0.6\n                        ),\n                 )\n    fig.update_traces(marker_line_color='black',\n                  marker_line_width=1.5)\n    fig.update_layout(title=title, \n                  font_family=\"San Serif\",\n                  bargap=0.2,\n                  barmode='group',\n                  titlefont={'size': 28},\n                  paper_bgcolor='#E6E6E6',\n                  plot_bgcolor='#E6E6E6',\n                  legend=dict(\n                  orientation=\"v\", \n                      y=1, \n                      yanchor=\"top\", \n                      x=1.250, \n                      xanchor=\"right\",)                 \n                  ).update_yaxes(categoryorder='total ascending')\n\n    fig.update_layout(xaxis_title='percentage',\n    autosize=False,\n    margin=dict(\n        l=l, r=r, b=b, t=t,\n    ),\n    )\n    fig.update_xaxes(showgrid=False)\n    fig.update_yaxes(showgrid=False)\n    fig.show() \n    \n    \n##############################################################################\ndef annotated_heatmap_Trans(df_w, df_a, title, width=850, height=750, l=150):\n    x =list(df_w['Category'])\n    #x = (np.array(x)).T\n\n    y = ['World', 'Asia']\n    #y = (np.array(y)).T\n\n    z= [list(df_w['Percentage']),list(df_a['Percentage'])]\n    z = (np.array(z)).T\n\n    fig = ff.create_annotated_heatmap(z, x=y, y=x, annotation_text=z, colorscale='orrd', xgap=3, ygap=3)\n\n    fig.update_layout(title_text=title,\n                      title_x=0.5,\n                      titlefont={'size': 24, 'family':'San Serif'},\n                      width=width, height=height,\n                      xaxis_showgrid=False,\n                      xaxis={'side': 'top'},\n                      yaxis_showgrid=False,\n                      yaxis_autorange='reversed',                   \n                      paper_bgcolor='#E6E6E6',\n                      )\n    fig.update_layout(xaxis_title=None,\n    autosize=False,\n    margin=dict(\n        l=l,\n        r=50,\n        b=50,\n        t=75,\n    ),\n    )\n    fig.update_xaxes(showgrid=False)\n    fig.update_yaxes(showgrid=False)\n    fig.show()\n    \n    \n###############################################    \ndef head_count_suf(df, question_num, part, n):\n    questions = []\n    questions = ['Q'+ str(question_num)+str(part) +'_Part_'+ str(j) for j in range(1, n)]\n    questions.append('Q'+ str(question_num) +str(part)+ '_OTHER')\n    \n    categories = []\n    values = []\n    for i in questions:\n        category = df[i].value_counts().index[0]\n        val = df[i].value_counts()[0]\n        \n        categories.append(category)\n        values.append(val)\n       \n    combined_df = pd.DataFrame()\n    combined_df['Category'] = categories\n    combined_df['Value'] = values\n    \n    #combined_df = combined_df.sort_values(['Value'],ascending=False)\n    \n    return combined_df\n\ndef df_with_percentages_suf(df, q, part, n, region):\n    \n    dff = head_count_suf(df, q, part, n)\n    perc = []\n\n    for item  in dff.Value:          \n        \n        perc.append(np.round(item\/len(df)*100, 2))\n\n    data = pd.DataFrame()\n    data['Percentage'] = perc\n    df_perc = pd.concat([dff, data], axis=1)\n    df_perc['Region'] = region\n    \n    return df_perc","d5661a2b":"# grouping african countries\nafrica17 = ['China','India', 'South Africa', 'Indonesia']\nafrica18= ['China','India', 'South Africa', 'Indonesia','Pakistan', 'Iran'] \nafrica19 = ['China','India', 'South Africa', 'Indonesia','Pakistan', 'Iran','Saudi Arabia']\nafrica20 = ['China','India', 'South Africa', 'Indonesia','Pakistan', 'Iran','Saudi Arabia','South Korea']\nafrica21 = ['China','India', 'South Africa', 'Indonesia','Pakistan', 'Iran','Saudi Arabia','South Korea', 'Turkey']\n\nafrica = ['China','India', 'South Africa', 'Indonesia','Pakistan', 'Iran','Saudi Arabia','South Korea', 'Turkey', 'Nepal']\ndf21_africa = df21[df21['Q3'].isin(africa)]\ndf21_world = df21[~df21['Q3'].isin(africa )]\ndf21['region']=[\"Asia\" if x in africa else \"World\" for x in df21['Q3']]\n\ndf20_africa = df20[df20['Q3'].isin(africa)]\ndf20_world = df20[~df20['Q3'].isin(africa )]\ndf20['region']=[\"Asia\" if x in africa else \"World\" for x in df20['Q3']]\n\ndf19_africa = df19[df19['Q3'].isin(africa)]\ndf19_world = df19[~df19['Q3'].isin(africa)]\ndf19['region']=[\"Asia\" if x in africa else \"World\" for x in df19['Q3']]\n\ndf18_africa = df18[df18['Q3'].isin(africa)]\ndf18_world = df18[~df18['Q3'].isin(africa)]\ndf18['region']=[\"Asia\" if x in africa else \"World\" for x in df18['Q3']]\n\ndf17_africa = df17[df17['Country'].isin(africa)]\ndf17_world = df17[~df17['Country'].isin(africa )]\ndf17['region']=[\"Asia\" if x in africa else \"World\" for x in df17['Country']]       ","9cf4eea8":"\nafro21 = len(df21_africa)\nrow21 = len(df21) - afro21\n\nafro20 = len(df20_africa)\nrow20 = len(df20) - afro20\n\nafro19 = len(df19_africa)\nrow19 = len(df19) - afro19\n\nafro18 = len(df18_africa)\nrow18 = len(df18) - afro18\n\nafro17 = len(df17_africa)\nrow17 = len(df17) - afro17\n\n\nregion = ['Asia', 'Rest of the World']\nvalue = [afro21, row21]\npercent =[afro21\/(afro21 +row21)*100, row21\/(afro21+row21)*100]\n\nfig = go.Figure(data=[go.Bar(\n            x=value, y=region,\n            text=(np.round(percent,1)),\n            textposition=['outside', 'inside'],\n            texttemplate = [\"<b style='color: #f'>%{text}%<\/b>\"]*2,\n            textfont=dict(  family=\"sans serif\",\n                            size=16,\n                            color=\"black\"),\n            orientation='h',\n            marker_color=['gold', 'salmon'],\n            opacity=0.6,\n                    )])\nfig.update_traces(marker_line_color='black',\n                  marker_line_width=2.5)\nfig.update_layout(title='<b>Number of respondents: Asia vs Rest of the world (2021)<b>', \n                  font_family=\"San Serif\",\n                  yaxis_linewidth=2.5,\n                  bargap=0.2,\n                  barmode='group',\n                  titlefont={'size': 24},\n                  paper_bgcolor='#00FF00',\n                  plot_bgcolor='#0000FF',                  \n              \n                  )\nfig.update_layout(\n#     xaxis = dict(\n#       zeroline = False,\n#       showline = False,\n#       showticklabels = False,\n#       gridwidth = 1\n#    ),\n    autosize=False,\n    margin=dict(\n        l=150,\n        r=50,\n        b=50,\n        t=100,\n    ),\n    )\n\nfig.update_xaxes(showgrid=False)\nfig.update_yaxes(showgrid=False)\nfig.show()","43de3fb5":"\n## historical data, all gender\nyear = ['2017', '2018', '2019', '2020', '2021']\nvalue = [afro17, afro18, afro19, afro20, afro21]\n\npercent =[\n    afro17\/(afro17 +row17)*100,\n    afro18\/(afro18 +row18)*100,\n    afro19\/(afro19 +row19)*100,\n    afro20\/(afro20 +row20)*100,\n    afro21\/(afro21 +row21)*100]  \n   \n\ncolor = 5* ['salmon'] \ncolor[4] = 'gold'\nfig = go.Figure(data=[go.Bar(\n            y=value, x=year,\n            text=np.round(percent, 1), \n            textposition='outside',\n            texttemplate = [\"<b style='color: #f'>%{text}%<\/b>\"]*5,\n            textfont=dict(  family=\"sans serif\",\n                            size=16,\n                            color=\"black\"),\n            orientation='v',\n            marker_color= color, \n            opacity=0.6\n                    )])\nfig.update_traces(marker_line_color='black',\n                  marker_line_width=2.5)\nfig.update_layout(title='<b>The rise of Asia kagglers<b>', \n                  font_family=\"San Serif\",\n                  xaxis_linewidth=2.5,\n                  bargap=0.2,\n                  barmode='group',\n                  titlefont={'size': 28},\n                  paper_bgcolor='#008000',\n                  plot_bgcolor='#FF00FF',                  \n                  )\nfig.update_layout(yaxis_title='Number of Respondents',xaxis_title='Year',\n    autosize=False,\n    margin=dict(\n        l=100,\n        r=50,\n        b=50,\n        t=70,\n        pad=0,\n    ),\n    )\n\nfig.show()","ebe282d8":"# code copied and adapted from: https:\/\/www.kaggle.com\/datafan07\/kaggle-survey-a-general-picture\/notebook\ndef plotly_choroplethMap(locations,counts,title):\n    data = [ dict(\n            type = 'choropleth',\n            locations = locations,\n            z = counts,\n            locationmode = 'country names',\n            autocolorscale = True,\n            marker = dict(\n                line = dict(color = '#999000', width = 1.5)),\n                colorbar = dict(autotick = True, legth = 3, len=0.75, title = 'Nr. of Participants')\n                )\n           ]\n    layout = dict(\n        title = title,\n        titlefont={'size': 28, 'family': 'san serif'},\n        width=750, \n        height=475,\n        paper_bgcolor='#00FFFF',\n        geo = dict(\n            showframe = True,\n            showcoastlines = True,\n            #scope=\"africa\",\n            fitbounds=\"locations\",\n            ),\n        \n        annotations = [dict(\n        x=0.55,\n        y=1.1,\n        xref='paper',\n        yref='paper',\n        text='<b> Central Asia - kaggle is missing you!',\n            font=dict(family='san serif', size=20, color='#00FF00'),            \n        showarrow = False\n    )]\n    )\n    \n    fig = dict(data=data, layout=layout)\n    iplot(fig, validate=False, filename='world-map')\n    \nz = df21_africa['Q3'].value_counts()\nplotly_choroplethMap(locations=z.index, counts=z.values,title= '<b> Asian Countries (2021 survey) <b>')","322bdb7d":"#### Heatmap\nfig = go.Figure(data=go.Heatmap(\n                   z=[[73, 59, 127, 66, 0 ,0, 0, 0, 0, 0, 0],\n                    [208, 85, 147, 96, 74, 71, 0, 0, 0, 0],\n                    [395, 114, 120, 122, 68, 123, 58, 0, 0, 0],\n                    [476, 153, 141, 179, 99, 133, 0, 52, 0, 0],\n                    [702, 248, 146, 482, 109, 140, 44, 99, 47, 43],                      \n                     ],\n                   x = ['China','India', 'South Africa', 'Indonesia','Pakistan', 'Iran','Saudi Arabia','South Korea', 'Turkey', 'Nepal']\n,\n                   y=['2017', '2018', '2019', '2020', '2021'],\n                   hoverongaps = False,\n                   opacity=1.0, xgap=2.5, ygap=2.5, colorscale='orrd'),\n                   )\nfig.update_layout(title='<b> More countries appearing on the picture <b>',\n                  titlefont={'size': 24, 'family': \"San Serif\"},\n                  height=400, width=700,\n                  template='simple_white',\n                  paper_bgcolor='#E6E6E6',\n                  plot_bgcolor='#E6E6E6',\n                  autosize=False,\n                  margin=dict(l=50,r=50,b=50, t=150,\n                             ),\n                 )\nannotations = []\nannotations.append(dict(xref='paper', yref='paper',\n                        x=-0.01, y=1.3,\n                        text='> <b>China and India are rising quickly. China kagglers grew almost 10 folds since 2017!',\n                             font=dict(family='Arial', size=12, color='#800000'),\n                        showarrow=False))\nannotations.append(dict(xref='paper', yref='paper',\n                        x=-0.01, y=1.2,\n                        text=\"> <b>Algeria<b> had a 'gap' year in 2020. Unusual.\",\n                             font=dict(family='Arial', size=12, color='#cc5500'),\n                        showarrow=False))\n\nfig.update_layout(annotations=annotations)\nfig.show()","7d06c406":"#### Pie-Chart\n\ncolor =[\"seagreen\",'red', 'gold', 'black',\"salmon\", \"cyan\", 'blue', \"gold\", 'white', 'purple'],\n\nfig = go.Figure()\n\nfig.add_trace(\n    go.Pie(\n        labels=list(df21_africa['Q3']),\n        values=None,\n        hole=.4,\n        title=\" Asia ('21)\",\n        titlefont={'color':None, 'size': 24},\n        opacity=0.6,\n        ),\n       )\nfig.update_traces(\n    hoverinfo='label+value',\n    textinfo='label+percent',\n    textfont_size=12,\n    marker=dict(\n        colors=['orrd'],\n        line=dict(color='#000000',\n                  width=2)\n        )\n    )\n\nfig.layout.update(title=\"<b>  Asia Countries In The 2021 Survey<b>\",\n                  titlefont={'color':None, 'size': 24, 'family': 'San-Serif'},\n                  showlegend=False, \n                  height=600, \n                  width=600,\n                  )\nfig.show()\n","703e7b1e":"# age\ntitle= \"<b> Age Distribution <b>\"\nplotly_vBar(df21, \"Q1\", title=title, l=100)\n\n#gender\ntitle= \"<b> Gender Distribution <b>\"\nplotly_hBar(df21, \"Q2\", title=title, l=200)","c71f4a9c":"## historical data, women\n\ndf21_afrowomen = df21_africa[df21_africa['Q2'] == 'Woman']\ndf20_afrowomen = df20_africa[df20_africa['Q2'] == 'Woman']\n\ndf19_afrowomen = df19_africa[df19_africa['Q2'] == 'Female']\ndf18_afrowomen = df18_africa[df18_africa['Q1'] == 'Female']\ndf17_afrowomen = df17_africa[df17_africa['GenderSelect'] == 'Female']\n\nafrowomen21 = len(df21_afrowomen)\nafrowomen20 = len(df20_afrowomen)\nafrowomen19 = len(df19_afrowomen)\nafrowomen18 = len(df18_afrowomen)\nafrowomen17 = len(df17_afrowomen)\n\n    \nyear = ['2017', '2018', '2019', '2020', '2021']\nvalue = [afrowomen17, afrowomen18, afrowomen19, afrowomen20, afrowomen21]\n\npercent =[\n    afrowomen17\/len(df17_africa)*100,\n    afrowomen18\/len(df18_africa)*100,\n    afrowomen19\/len(df19_africa)*100,\n    afrowomen20\/len(df20_africa)*100,\n    afrowomen21\/len(df21_africa)*100,\n    ]  \n\ncolor = 5* ['#808000'] \ncolor[0] = 'gray'\nfig = go.Figure(data=[go.Bar(\n            y=value, x=year,\n            text=np.round(percent, 1), \n            textposition='outside',\n            texttemplate = [\"<b style='color: #f'>%{text}%<\/b>\"]*5,\n            textfont=dict(  family=\"sans serif\",\n                            size=16,\n                            color=\"black\"),\n            orientation='v',\n            marker_color= color, \n            opacity=0.6\n                    )])\nfig.update_traces(marker_line_color='black',\n                  marker_line_width=2.5)\n\nfig.update_layout(title='<b>African women kagglers (2017-2021)<b>', \n                  font_family=\"San Serif\",\n                  bargap=0.2,\n                  barmode='group',\n                  titlefont={'size': 28},\n                  template='simple_white',\n                  paper_bgcolor='#E6E6E6',\n                  plot_bgcolor='#E6E6E6',                  \n                  )\nfig.update_layout(yaxis_title='Number of Respondents',xaxis_title='Year',xaxis_linewidth=2.5,\n    autosize=False,\n    margin=dict(\n        l=100,\n        r=50,\n        b=50,\n        t=50,\n        ),\n    )\n\nannotations = []\nannotations.append(dict(xref='paper', yref='paper',\n                        x=0.01, y=0.97,\n                        text='<b>  <b>',\n                             font=dict(family='Arial', size=12, color='#cc5500'),\n                        showarrow=False))\nannotations.append(dict(xref='paper', yref='paper',\n                        x=0.01, y=.93,\n                        text=\"<b> <b> \",\n                             font=dict(family='Arial', size=12, color='#cc5500'),\n                        showarrow=False))\n\nfig.update_layout(annotations=annotations)\nfig.show()\n","30f33797":"title= \"<b>Highest level of formal education <b>\"\nplotly_hBar(df21, \"Q4\", title=title, l=350)\n\n\ntitle= \"<b>Current role\/Job title <b>\"\nplotly_hBar(df21, \"Q5\", title=title, l=200)\n\n\ntitle= \"<b>Coding Experience <b>\"\nplotly_hBar(df21, \"Q6\", title=title, l=200)","117758ba":"\n# Q7, \ndf_w = df_with_percentages(df21_world, 7, 13, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 7, 13, 'Asia').sort_values(['Value'],ascending=False)\n\ntitle = '<b> Programing Language Preference <b>'\n#plot_barH_percent(df_w, df_a, title)\nannotated_heatmap(df_w, df_a, title)","f138403f":"# # Q9, \n# df_w = df_with_percentages(df21_world, 9, 13, 'World').sort_values(['Value'],ascending=False)\n# df_a = df_with_percentages(df21_africa, 9, 13, 'Africa').sort_values(['Value'],ascending=False)\n\n# title = \"<b> Integrated Developments Environment (IDE's) usage <b>\"\n# plot_barH_percent(df_w, df_a, title, l=250)\n\n\ndf_w = df_with_percentages(df21_world, 9, 13, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 9, 13, 'Africa').sort_values(['Value'],ascending=False)\n\n# merge Jupyter's together\ndf_w.loc[10] += df_w.loc[0]\ndf_a.loc[10] += df_a.loc[0]\n\n# drop the duplicate\ndf_w.drop([0], inplace=True)\ndf_a.drop([0], inplace=True)\n\ntitle = \"<b> Integrated Developments Environment (IDE's) Usage <b>\"\nplot_barH_percent(df_w, df_a, title, l=350)","7e6f0a61":"title= \"<b>Programming Language Recommendation <b>\"\nplotly_hBar(df21, \"Q8\", title=title, l=150)","fad54463":"title= \"<b>Machine Learning Experience <b>\"\nplotly_hBar(df21, \"Q15\", title=title)","3dfae667":"\n# Q16, \ndf_w = df_with_percentages(df21_world, 16, 18, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 16, 18, 'Africa').sort_values(['Value'],ascending=False)\ntitle = \"<b> Machine Learning Platform Usage <b>\"\nplot_barH_percent(df_w, df_a, title, l=150)","084dbc6d":"# Q17, \ndf_w = df_with_percentages(df21_world, 17, 12, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 17, 12, 'Asia').sort_values(['Value'],ascending=False)\n\ntitle = \"<b> Machine Learning Algorithms Usage <b>\"\nplot_barH_percent(df_w, df_a, title, l=300)","0c3136eb":"# Q18, \ndf_w = df_with_percentages(df21_world, 18, 7, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 18, 7, 'Asia').sort_values(['Value'],ascending=False)\n\ntitle= \"<b> Computer Vision Methods Used <b>\"\n\nannotated_heatmap_Trans(df_w, df_a, title, width=950, height=550, l=700)\n\n# Q19, \ndf_w = df_with_percentages(df21_world, 19, 6, 'World')\ndf_a = df_with_percentages(df21_africa, 19, 6, 'Africa')\n\ntitle= \"<b> Natural Language Processing Methods Used <b>\"\n\nannotated_heatmap_Trans(df_w, df_a, title, width=700, height=550, l=400)","bfd597fb":"# Q14, 12\ndf_w = df_with_percentages(df21_world, 14, 12, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 14, 12, 'Asia').sort_values(['Value'],ascending=False)\n\ntitle = '<b> Data Visualizations Library<b>'\nannotated_heatmap(df_w, df_a, title)","7111eb87":"title= \"<b> Computing platform usage <b>\"\nplotly_hBar(df21, \"Q11\", title=title, l=350)","ac72df92":"title= \"<b> Preferred Cloud Platform <b>\"\n#plotly_hBar(df21, \"Q27\", title=title, l=300)\n\n#27_A, 12\ndf_w = df_with_percentages_suf(df21_world, 27, '_A', 12, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages_suf(df21_africa, 27, '_A', 12, 'Africa').sort_values(['Value'],ascending=False)\n\ntitle = \"<b> Frequently Used Cloud Computing Platforms<b>\"\nplot_barH_percent(df_w, df_a, title, l=250)","5687889f":"dfa = pd.DataFrame(df21_africa.iloc[1:]['Q25'].value_counts()).rename(columns={\"Q25\": \"Asia\"})\ndfw = pd.DataFrame(df21_world.iloc[1:]['Q25'].value_counts()).rename(columns={\"Q25\": \"World\"})\n\nDF = pd.concat([dfa, dfw], axis=1)\naf_sum = DF['Asia'].sum()\nrw_sum = DF['World'].sum()\n\nDF['per_af'] = DF['Asia']\/af_sum*100\nDF['per_rw'] = DF['World']\/rw_sum*100\n\norder = ['$0-999', '1,000-1,999', '2,000-2,999',  '3,000-3,999','4,000-4,999','5,000-7,499',\n         '7,500-9,999','10,000-14,999', '15,000-19,999','20,000-24,999', '25,000-29,999',\n         '30,000-39,999', '40,000-49,999', '50,000-59,999','60,000-69,999','70,000-79,999', '80,000-89,999', '90,000-99,999',\n       '100,000-124,999', '125,000-149,999','150,000-199,999', '200,000-249,999', '250,000-299,999', '300,000-499,999', \n       '$500,000-999,999','>$1,000,000',]\n\ntitle = '<b> The Payment Pyramid <b>'\n\n\nfig = go.Figure()\nfig.add_trace(go.Bar(y=DF.index,\n                     x=-DF['per_rw'],\n                     orientation= 'h',\n                     name=\"World\",\n                     marker_color='salmon',\n                     opacity =0.6\n                    ),\n             )\nfig.add_trace(go.Bar(y=DF.index,\n                     x=DF['per_af'],\n                     orientation= 'h',\n                     name=\"Asia\",\n                     marker_color='gold',\n                     opacity =0.6\n                    ),\n             )\nfig.update_traces(marker_line_color='black',\n              marker_line_width=1.5)\nfig.update_layout(title=title,\n                  height=700,\n                  width=700,\n              font_family=\"San Serif\",\n              bargap=0.2,\n              barmode='group',\n              titlefont={'size': 28},\n              template='simple_white',\n              paper_bgcolor='#E6E6E6',\n              plot_bgcolor='#E6E6E6',\n              legend=dict(\n              orientation=\"v\", \n                  y=1, \n                  yanchor=\"top\", \n                  x=1.250, \n                  xanchor=\"right\",)                 \n              )\nfig.add_shape(type=\"rect\",\n              xref=\"paper\", yref=\"y\",\n              x0=0, x1=6, y0=-0.5, y1=6.5,\n              fillcolor=\"lightseagreen\",    \n              opacity=0.2\n              )  \n\nfig.update_yaxes(categoryarray= order)\nfig.update_layout(xaxis_title='percentage',\nautosize=False,\nmargin=dict(\nl=150, r=50, b=150, t=50,\n))\n\n                 \nannotations = []\nannotations.append(dict(xref='paper', yref='paper',\n                        x=0.1, y=0.15,\n                        text='<b> 42.7%',\n                             font=dict(family='Arial', size=20, color='black'),\n                        showarrow=False))\nannotations.append(dict(xref='paper', yref='paper',\n                        x=0.6, y=0.15,\n                        text=\"<b> 77.5%\",\n                             font=dict(family='Arial', size=20, color='black'),\n                        showarrow=False))\n\nannotations.append(dict(xref='paper', yref='paper',\n                        x=-0.2, y=-0.2,\n                        text=\"<i>Note: This payment scale does not account for cost of living!\",\n                             font=dict(family='Arial', size=16, color='black'),\n                        showarrow=False))\n\nfig.update_layout(annotations=annotations)\n\nfig.update_xaxes(showgrid=False)\nfig.update_yaxes(showgrid=False)\nfig.show()     ","5476da7b":"# Q40, 12\ndf_w = df_with_percentages(df21_world, 40, 12, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 40, 12, 'Asia').sort_values(['Value'],ascending=False)\ntitle = \"<b> Data Science Learning Platform<b>\"\nplot_barH_percent(df_w, df_a, title, l=350)","92ec28e3":"# Q42, 12, \ndf_w = df_with_percentages(df21_world, 42, 12, 'World').sort_values(['Value'],ascending=False)\ndf_a = df_with_percentages(df21_africa, 42, 12, 'Asia').sort_values(['Value'],ascending=False)\n    \ntitle= \"<b> Favourite Media Source for DS Topics  <b>\"\n\nannotated_heatmap_Trans(df_w, df_a, title, width=850, height=550, l=500)","80f07642":"Reference:\nReference:\n\n\n[1]. https:\/\/www.kaggle.com\/\n\n[2]. https:\/\/www.kaggle.com\/mhajabri\/africai\n\n[3]. https:\/\/www.worldometers.info\/world-population\/africa-population\/\n\n[4]. https:\/\/www.statista.com\/statistics\/1218173\/life-expectancy-in-african-countries\/\n\n[4]. https:\/\/www.kaggle.com\/desalegngeb\/how-popular-is-kaggle-in-africa\/notebook"}}