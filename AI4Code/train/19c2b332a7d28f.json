{"cell_type":{"bcf00e5d":"code","7f677b4c":"code","61e4f90c":"code","d4f803c9":"code","5eac81de":"code","40537346":"code","5e767ec4":"code","cff9ee2a":"code","9495931a":"code","075b53c0":"code","f01ac962":"code","d683dae4":"code","ed24ef74":"code","eee74bc1":"code","0cb3e3de":"code","ab38aa1e":"code","9d5e2acd":"code","eddc3fc2":"code","714eb974":"code","c2a82d80":"code","e12921dc":"code","51cbb157":"markdown"},"source":{"bcf00e5d":"!pip install praw","7f677b4c":"import praw","61e4f90c":"from kaggle_secrets import UserSecretsClient\nuser_secrets = UserSecretsClient()\nsecret_value_0 = user_secrets.get_secret(\"client_id\")\nsecret_value_1 = user_secrets.get_secret(\"client_secret\")\nsecret_value_2 = user_secrets.get_secret(\"user_agent\")","d4f803c9":"#NOTE :- In Kaggle use add-ons secrets functionality to hide below keys\n\nreddit = praw.Reddit(client_id=secret_value_0,\n                     client_secret=secret_value_1,\n                     user_agent=secret_value_2)","5eac81de":"for submission in reddit.subreddit('ElonMusk').new(limit=5):\n  print(submission.title)\n\n# reddit.subreddit('elonmusk') --> to set search topic\n# limit=5 --> to limit number of subreddits to fetch\n# submission.title --> to fetch only title\n","40537346":"import pandas as pd\n\nreddit_data = pd.DataFrame(columns=['Title'])\nreddit_data.head()\n# Creating to dataframe to store data fetched from reddit","5e767ec4":"from IPython import display # to clear display output","cff9ee2a":"for index,submission in enumerate(reddit.subreddit('ElonMusk').new(limit=1000)):\n  reddit_data.loc[index,'Title'] = submission.title\n  display.clear_output()","9495931a":"reddit_data.head()","075b53c0":"#Cleaning Data\n\nimport re\n\ndef clean_data(data):\n    return ' '.join(re.sub('([^A-Za-z])', ' ', data).split())","f01ac962":"reddit_data['Cleaned_Title'] = reddit_data['Title'].apply(lambda x : clean_data(x))","d683dae4":"reddit_data.sample(frac=1.0).head()","ed24ef74":"reddit_data.drop_duplicates(subset=['Title'],inplace=True)","eee74bc1":"import nltk\nnltk.download('vader_lexicon')","0cb3e3de":"from nltk.sentiment.vader import SentimentIntensityAnalyzer as SIA","ab38aa1e":"SIA().polarity_scores('Elon musk has evil plan in mind')\n\n# From below output we can find if the sentiment is positive\/negative\/neutral from compound.\n# If compound is greater than 0 than sentiment is positive, if less than 0 then negative else if 0 then neutral\n","9d5e2acd":"def analyze_sentiment(data):\n    analysis = SIA().polarity_scores(data)\n    if analysis['compound'] > 0:\n        return 'Positive'\n    elif analysis['compound'] == 0:\n        return 'Neutral'\n    else:\n        return 'Negative'","eddc3fc2":"reddit_data['Sentiment'] = reddit_data['Cleaned_Title'].apply(lambda x : analyze_sentiment(x))","714eb974":"print(f'Positive Sentiment : {reddit_data[reddit_data.Sentiment==\"Positive\"].shape[0]}')\nprint(f'Negative Sentiment : {reddit_data[reddit_data.Sentiment==\"Negative\"].shape[0]}')\nprint(f'Neutral Sentiment  : {reddit_data[reddit_data.Sentiment==\"Neutral\"].shape[0]}')","c2a82d80":"reddit_data.loc[reddit_data.Sentiment==\"Positive\",['Title']].sample(frac=1.0).head().style.set_properties( **{'width': '700px'})","e12921dc":"reddit_data.loc[reddit_data.Sentiment==\"Negative\",['Title']].sample(frac=1.0).head().style.set_properties( **{'width': '700px'})","51cbb157":"# Collecting and Analysing Reddit data\n\n<img src='https:\/\/drive.google.com\/uc?export=view&id=1wpmtWeVzVNfaRcbsJROTO25TB_GyCNsr' width=400 >\n\nIn this notebook we will collect reddit data using praw module and perform sentiment analysis on it."}}