{"cell_type":{"ebedb96c":"code","384343a9":"code","4e870393":"code","0e0eb459":"code","ef13201a":"code","edc3f6cd":"code","997f2a96":"code","a27bcf1b":"code","006cb873":"code","9a3a51db":"code","41c81578":"code","bd749f6a":"code","52444f75":"code","5034e02a":"code","6c12fe1e":"code","c6b0a31c":"code","8ca0c30e":"code","c02f45ba":"code","83e279ca":"code","877edeba":"code","df92c3b4":"code","a038b229":"code","13a9cfb8":"code","3e1256a8":"markdown","30035e86":"markdown","7f68001f":"markdown","2b2bf609":"markdown","1473f756":"markdown","45a410ab":"markdown","b43ccf13":"markdown","27bf1419":"markdown","d7eb452a":"markdown","669673de":"markdown","acde2cae":"markdown","61e2b027":"markdown"},"source":{"ebedb96c":"#!pip install fbprophet","384343a9":"import numpy as np\nimport pandas as pd\nfrom pandas import DataFrame\nimport matplotlib.pyplot as plt\nfrom fbprophet import Prophet\n\n","4e870393":"covid_data = pd.read_csv(\"..\/input\/ntt-data-global-ai-challenge-06-2020\/COVID-19_and_Price_dataset.csv\")\ndf = pd.read_csv(\"..\/input\/ntt-data-global-ai-challenge-06-2020\/Crude_oil_trend_From1986-01-02_To2020-06-08.csv\")\n\n#\u5165\u529b\u30c7\u30fc\u30bf\u3092\u7d5e\u308a\u3001Prophet\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u5909\u63db\u3059\u308b\ndf = df[-1000:] # train\u671f\u9593\u3092\u7d5e\u308b\ndf['ds'] = pd.to_datetime(df['Date']).dt.date #date\u578b\u306b\u5909\u63db\n#df['y']  = np.log(df['Price']) #\u30c7\u30fc\u30bf\u306e\u5909\u5316\u304c\u5927\u304d\u3044\u5834\u5408\u306f\u3001\u5bfe\u6570\u5909\u63db\u3092\u3059\u308b\u3002\ndf['y']  = df['Price']\ndf = df[['ds', 'y']] #\u5143\u30c7\u30fc\u30bf\u306f\u571f\u65e5\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\n\n#train\u3068test\u3092\u5206\u96e2\u3059\u308b\ntest_y = df[-30:] #test\ndf = df[:-30] # train\n","0e0eb459":"df['y'].plot()","ef13201a":"#\u307e\u305a\u306f\u30c7\u30d5\u30a9\u30eb\u30c8\u30d1\u30e9\u30e1\u30fc\u30bf\u3067\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\nm = Prophet()\nm.fit(df)","edc3f6cd":"#\u4e88\u6e2c\u3092\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u4f5c\u308b\n#period\u306b\u671f\u9593\u3092\u5165\u308c\u308b\u3002\u3053\u306e\u5834\u540850\u65e5\u5206\u306e\u4e88\u6e2c\u5024\u304c\u51fa\u529b\u3055\u308c\u308b(\u571f\u65e5\u3092\u542b\u3081\u3066\u4e88\u6e2c\u3055\u308c\u308b\u3053\u3068\u306b\u6ce8\u610f)\nfuture = m.make_future_dataframe(periods=50, freq = 'd')\nprint(future)\n\n#\u4e88\u6e2c\u3092\u3059\u308b\nforecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail(20)\n","997f2a96":"#\u4e88\u6e2c\u7d50\u679c\u3092\u30b0\u30e9\u30d5\u8868\u793a\nm.plot(forecast);","a27bcf1b":"#\u5168\u4f53\u306f\u9577\u904e\u304e\u308b\u306e\u3067\u7d5e\u3063\u3066\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\uff0e\n#m.plot(forecast);\n#plt.xlim(future.ds.iloc[-100], future.ds.iloc[-1])","006cb873":"# \u4e88\u6e2c\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u306a\u56f3\u306f\u3001plotly\u3067\u4f5c\u6210\u3067\u304d\u308b\u3002\n\"\"\"\nfrom fbprophet.plot import plot_plotly\nimport plotly.offline as py\npy.init_notebook_mode()\n\nfig = plot_plotly(m, forecast) \npy.iplot(fig)\n\"\"\"","9a3a51db":"pred = forecast[['ds', 'yhat']][-40:]\npred['ds'] = pd.to_datetime(pred['ds']).dt.date #date\u578b\u306b\u5909\u63db\n\nresult = pd.merge(test_y, pred, how=\"inner\" ,on=\"ds\")\n\nresult","41c81578":"#RMSE\nfrom sklearn.metrics import mean_squared_error\n\nrmse = np.sqrt(mean_squared_error(result['y'] , result['yhat'] ))\nprint('Test RMSE: %.3f' % rmse)\n","bd749f6a":"#\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3001\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\nm = Prophet(growth='logistic', #\u30ed\u30b8\u30b9\u30c6\u30a3\u30c3\u30af\u30e2\u30c7\u30eb\n            n_changepoints=40, #\u5909\u66f4\u70b9\u306e\u6570=40\n            changepoint_range=1, #\u30c7\u30fc\u30bf\u306e\u5168\u7bc4\u56f2\u3067\u5909\u66f4\u70b9\u691c\u77e5\u3059\u308b\u3002\n            changepoint_prior_scale=0.5, #\u7d50\u69cb\u30aa\u30fc\u30d0\u30fc\u30d5\u30a3\u30c3\u30c6\u30a3\u30f3\u30b0\u6c17\u5473\u306b\u3059\u308b\n            weekly_seasonality=False,\n            yearly_seasonality=True)\ndf['cap'] = 130\ndf['floor'] = 0\nm.fit(df)\n\n#\u4e88\u6e2c\u3092\u3059\u308b\u305f\u3081\u306e\u30c7\u30fc\u30bf\u30d5\u30ec\u30fc\u30e0\u3092\u4f5c\u308b\n#period\u306b\u671f\u9593\u3092\u5165\u308c\u308b\u3002\u3053\u306e\u5834\u5408365\u65e5\u5206\u306e\u4e88\u6e2c\u5024\u304c\u51fa\u529b\u3055\u308c\u308b\n#logistic\u306e\u3068\u304d\u306f\u3001\u4e88\u6e2c\u306e\u969b\u3082\u672a\u6765\u306ecap\u3092\u6307\u5b9a\u3059\u308b\nfuture = m.make_future_dataframe(periods=730, freq = 'd')\nfuture['cap'] = 130\nfuture['floor'] = 0\n\n#\u4e88\u6e2c\u3092\u3059\u308b\nforecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()\n\n#\u4e88\u6e2c\u7d50\u679c\u3092\u30b0\u30e9\u30d5\u8868\u793a\nm.plot(forecast);","52444f75":"#\u5168\u4f53\u306f\u9577\u904e\u304e\u308b\u306e\u3067\u76f4\u8fd1\u306e\u307f\u3092\u8868\u793a\u3059\u308b\u3088\u3046\u306b\u3059\u308b\uff0e\n#m.plot(forecast);\n#plt.xlim(future.ds.iloc[-100], future.ds.iloc[-1])","5034e02a":"#changepoint\u306e\u53ef\u8996\u5316\nfrom fbprophet.plot import add_changepoints_to_plot\nfig = m.plot(forecast)\na = add_changepoints_to_plot(fig.gca(), m, forecast)","6c12fe1e":"#\u81ea\u52d5\u691c\u51fa\u3055\u308c\u305f\u5909\u66f4\u70b9\u3068\u3001\u5909\u5316\u91cf\u3092\u30c1\u30a7\u30c3\u30af\nprint(m.changepoints)\nm.params['delta']","c6b0a31c":"pred = forecast[['ds', 'yhat']][-1000:]\npred['ds'] = pd.to_datetime(pred['ds']).dt.date #date\u578b\u306b\u5909\u63db\n# inner join\u3067\u8a55\u4fa1\u671f\u9593\u306e\u30c7\u30fc\u30bf\u3092\u62bd\u51fa\nresult = pd.merge(test_y, pred, how=\"inner\" ,on=\"ds\")\n\nresult","8ca0c30e":"\n#RMSE\nfrom sklearn.metrics import mean_squared_error\n\nrmse = np.sqrt(mean_squared_error(result['y'] , result['yhat'] ))\nprint('Test RMSE: %.3f' % rmse)","c02f45ba":"m.plot_components(forecast);","83e279ca":"from fbprophet import diagnostics\n\n#initial\u306ftrain\u306e\u671f\u9593\u3002\u305d\u3053\u304b\u3089horizon\u671f\u9593\u5206\u3092\u4e88\u6e2c\u3059\u308b\u3002\u3053\u308c\u3092period\u306e\u671f\u9593\u30b9\u30e9\u30a4\u30c9\u3057\u3001\u4f55\u5ea6\u3082\u5b9f\u884c\u3059\u308b\u3002\n#cv = diagnostics.cross_validation(m, horizon='30 days')\ncv = diagnostics.cross_validation(m, initial = '0 days', period = '100 days', horizon = '30 days')\ncv.tail()","877edeba":"from fbprophet.diagnostics import performance_metrics\ndf_p = performance_metrics(cv)\ndf_p","df92c3b4":"from fbprophet.plot import plot_cross_validation_metric\nfig = plot_cross_validation_metric(cv, metric='rmse')","a038b229":"#MAPE\ndef cal_mape(df):\n    return((df['yhat'] - df['y']).div(df['y']).abs().sum()*(1\/len(df)))\n \nprint('Test MAPE: %.3f' % cal_mape(cv))\n","13a9cfb8":"#RMSE\nfrom sklearn.metrics import mean_squared_error\n\nrmse = np.sqrt(mean_squared_error(cv['y'] , cv['yhat'] ))\n\n\nprint('Test RMSE: %.3f' % rmse)\n","3e1256a8":"# \u7cbe\u5ea6\u8a55\u4fa1\nRMSE\u3067\u884c\u3044\u307e\u3059","30035e86":"# \u30e2\u30c7\u30eb\u306e\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\n\n**Growth**   \ngrowth\u30d1\u30e9\u30e1\u30fc\u30bf\u306f'logistic'\u3068'linear'\u306e\uff12\u629e\u3067\u3059\u3002logistic\u306f\u975e\u7dda\u5f62\u3001linear\u306f\u7dda\u5f62\u3002   \n\u30c7\u30d5\u30a9\u30eb\u30c8\u5024\u306flinear\u3060\u304c\u3001\u4e00\u822c\u7684\u306a\u30d3\u30b8\u30cd\u30b9\/\u91d1\u878d\u30c7\u30fc\u30bf\u306f\u975e\u7dda\u5f62\u306a\u306e\u3067logistic\u3002  \n\ngrowth='logistic'\n\n**Capacity**  \n\u4e88\u6e2c\u5bfe\u8c61\u306e\u30c7\u30fc\u30bf\u304c\u53d6\u308a\u305d\u3046\u306a\u5024\u306e\u9650\u754c\u306e\u5024\u306e\u3053\u3068\u3067\u3059\u3002\nlogistic\u30e2\u30c7\u30eb\u3092\u9078\u629e\u3059\u308b\u5834\u5408\u306f\u5fc5\u305acap\u306e\u8a2d\u5b9a\u304c\u5fc5\u9808\u3002\u6700\u5927\u5024\u306f'cap'\u3001\u6700\u5c0f\u5024\u306f'floor'\u3067\u6307\u5b9a\u3067\u304d\u308b\n\nfuture['cap'] = 130  \nfuture['floor'] = 0  \n\n**n_changepoints**  \nChangepoint\u3068\u306f\u3001\u30c7\u30fc\u30bf\u4e2d\u3067\u300c\u30c8\u30ec\u30f3\u30c9\u304c\u5927\u304d\u304f\u5909\u308f\u3063\u305f\u3068\u601d\u308f\u308c\u308b\u300d\u70b9\u306e\u3053\u3068\u3067\u3059\u3002\nchangepoint\u306f\u81ea\u52d5\u691c\u51fa\u3055\u308c\u308b\u304c\u3001\u624b\u52d5\u3067\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3067\u304d\u308b\u3002 \nn_changepoints\u3067\u306f\u30c8\u30ec\u30f3\u30c9\u306e\u5909\u66f4\u70b9\u306e\u6570\u3092\u624b\u52d5\u3067\u8a2d\u5b9a\u3067\u304d\u308b\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f25\u3002\n\n\n**changepoint_range**  \n\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306f\u3001\u76f4\u8fd1\u306e\u5909\u5316\u70b9\u304c\u8003\u616e\u3055\u308c\u306a\u3044  \nProphet\u304c\u30c8\u30ec\u30f3\u30c9\u306e\u5909\u5316\u70b9\u3092\u63a8\u5b9a\u3059\u308b\u306e\u306b\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3060\u3068\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306e\u524d\u304b\u308980%\u3092\u53c2\u7167\u3057\u3066\u3044\u307e\u3059\u3002  \n\u3053\u308c\u306f\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u5168\u4f53\u3092\u4f7f\u3046\u3053\u3068\u306b\u3088\u3063\u3066\u904e\u5b66\u7fd2\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u9632\u3050\u305f\u3081\u3002    \n\u3053\u306e\u305f\u3081\u3001\u76f4\u8fd1\u306b\u5909\u5316\u70b9\u304c\u3042\u308b\u30c7\u30fc\u30bf\u3092\u4f7f\u3046\u5834\u5408\u306f\u3053\u306e\u5024\u3092\u5927\u304d\u304f\u3059\u308b\u3002  \n\nm = Prophet(changepoint_range=1.0)\n\n**changepoints**  \nchangepoint\u306e\u5834\u6240\u3092\u624b\u52d5\u3067\u8a2d\u5b9a\u3057\u305f\u3044\u5834\u5408\u3053\u308c\u3092\u4f7f\u3046\nm = Prophet(changepoints=['2016-04-01'])\n\n**changepoint_prior_scale**  \n\u30c8\u30ec\u30f3\u30c9\u306e\u5909\u5316\u304c\u30aa\u30fc\u30d0\u30fc\u30d5\u30a3\u30c3\u30c8\uff08\u67d4\u8edf\u6027\u304c\u9ad8\u3059\u304e\u308b\uff09\u307e\u305f\u306f\u30a2\u30f3\u30c0\u30fc\u30d5\u30a3\u30c3\u30c8\uff08\u67d4\u8edf\u6027\u304c\u4e0d\u5341\u5206\uff09\u306e\u5834\u5408\u3001\n\u5165\u529b\u5f15\u6570\u3092\u4f7f\u7528\u3059\u308b\u524d\u306b\u30b9\u30d1\u30fc\u30b9\u306e\u5f37\u5ea6\u3092\u8abf\u6574\u3067\u304d\u307e\u3059\u3002  \n\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u3053\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u306f0.05\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002  \nchangepoint_prior_scale\u3092\u5927\u304d\u304f\u3059\u308b\u3068\u30aa\u30fc\u30d0\u30fc\u30d5\u30a3\u30c3\u30c8\u6c17\u5473\u306b\u3001\u5c0f\u3055\u304f\u3059\u308b\u3068\u30a2\u30f3\u30c0\u30fc\u30d5\u30a3\u30c3\u30c8\u6c17\u5473\u306b\u3001  \nchangepoint_prior_scale=0.05  \n\n\n**Seasonality**  \nSeasonality\u3068\u306f\u3001\u5b63\u7bc0\u5909\u52d5\u306e\u3053\u3068\u3067\u3059\u3002\u5ba2\u8db3\u306e\u5b63\u7bc0\u5909\u52d5\u3092\u5468\u671f\u7684\u306b\u5909\u5316\u3059\u308b\u91cf\u3068\u898b\u3066\u3001\u5468\u671f\u95a2\u6570\u306e\u548c\u3068\u3057\u3066\u8868\u73fe\u3057\u307e\u3059\u3002\u3000\n\u3053\u3053\u3067\u91cd\u8981\u306a\u306e\u306f\uff11\u5468\u671f\u306e\u9577\u3055\u3068fourier_order\uff08\u3044\u304f\u3064\u306e\u95a2\u6570\u3067\u8868\u73fe\u3059\u308b\u304b\uff09\u3067\u3059\u3002\nfourier_order\u304c\u5927\u304d\u3059\u304e\u308b\u3068\u3001\u8a08\u7b97\u306b\u6642\u9593\u304c\u304b\u304b\u3063\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3053\u306e\u5024\u306f10\u3067\u3059\u3002\n\nm.add_seasonality(name='monthly', period=30.5, fourier_order=2)\n\n\u305d\u306e\u4ed6\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u304c\u3042\u308a\u307e\u3059\u3002\n- \u5897\u5e45\u3059\u308b\u5468\u671f\u6027\n- \u4f11\u65e5\u306a\u3069\u306e\u30a4\u30d9\u30f3\u30c8\u3092\u53cd\u6620\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\n- \u7279\u5fb4\u91cf\u3092\u8ffd\u52a0\u3057\u305fRegression\n\n","7f68001f":"# CV\u306e\u7d50\u679c\u3092\u7528\u3044\u305f\u7cbe\u5ea6\u8a55\u4fa1\n\u4eca\u56de\u306fMAPE\uff08\u5e73\u5747\u7d76\u5bfe\u8aa4\u5dee\u7387\uff09\u3068RMSE\u3092\u4f7f\u3044\u307e\u3059\u3002\n","2b2bf609":"Prophet\u3092\u4f7f\u7528\u3057\u3066\u7c21\u5358\u306b\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306e\u4e88\u6e2c\u3092\u884c\u3046\n===================================================\n### Prophet\u3068\u306f\nProphet\u306fFacebook\u304c\u958b\u767a\u3057\u305f\u6642\u7cfb\u5217\u4e88\u6e2c\u306eOSS\u30e9\u30a4\u30d6\u30e9\u30ea\u3067\u3001\u7c21\u5358\u306b\u6642\u7cfb\u5217\u4e88\u6e2c\u3092\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \nProphet\u306e\u8ad6\u6587\u306f\u3053\u3061\u3089  \nhttps:\/\/peerj.com\/preprints\/3190\/  \nAPI\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8  \nhttps:\/\/facebook.github.io\/prophet\/docs\/quick_start.html\n\n\n### Prophet\u306e\u30e2\u30c7\u30eb\nDecomposable time series model(Harvey&Peters 1990)\u3092\u3082\u3068\u306b\u3057\u3066\u3044\u308b   \n\n$y(t)=g(t) + s(t) + h(t) + \\epsilon_t\u3000 $\n- $g(t) $ Growth\u3000\u30c8\u30ec\u30f3\u30c9\u3092\u8868\u3059\n- $s(t) $ Seasonality\u3000\u5468\u671f\u6027\u3092\u8868\u3059\n- $h(t)$ Holiday\u3000\u4f11\u65e5\u306a\u3069\u306e\u30a4\u30d9\u30f3\u30c8\u52b9\u679c\u3092\u8868\u3059\n- $\\epsilon_t$ \u8aa4\u5dee(\u6b63\u898f\u5206\u5e03\u3092\u4eee\u5b9a)","1473f756":"# DataFrame\u306e\u4f5c\u6210\nprophet\u3067\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b\u969b\u306f\u3001datetime\u3092ds\u30ab\u30e9\u30e0\u306b\u3001y\u306b\u5024\u3092\u5165\u308c\u308b\u3002\ninput\u306f\u5fc5\u305a\u3053\u306e\u5f62\u5f0f\u306b\u3002","45a410ab":"# \u4ea4\u5dee\u691c\u8a3c\uff08\u30af\u30ed\u30b9\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\uff09\u306b\u3088\u308b\u30e2\u30c7\u30eb\u306e\u8a55\u4fa1\n\nhttps:\/\/facebook.github.io\/prophet\/docs\/diagnostics.html  \n\n\u30e2\u30c7\u30eb\u3092\u4f5c\u3063\u305f\u3089\u3001\u4e88\u6e2c\u7cbe\u5ea6\u306e\u8a55\u4fa1\u3092\u884c\u3044\u307e\u3059\u3002prophet\u306f\u4ea4\u5dee\u691c\u8a3c\u6cd5\u306b\u3088\u308b\u30e2\u30c7\u30eb\u8a55\u4fa1\u3082\u7c21\u5358\u306b\u884c\u3048\u307e\u3059\u3002  \n\u6642\u7cfb\u5217\u30c7\u30fc\u30bf\u306e\u4e88\u6e2c\u7cbe\u5ea6\u306f\u3001\u901a\u5e38\u3068\u5c11\u3057\u5909\u308f\u3063\u3066\u3044\u3066\u30011\u65e5\u5148\u30012\u65e5\u5148\u30013\u65e5\u5148...\u3068\u3069\u3053\u307e\u3067\u5148\u306e\u65e5\u6570\u307e\u3067\u306a\u3089\u7cbe\u5ea6\u3088\u304f\u4e88\u6e2c\u3067\u304d\u308b\u304b\u3092\u8abf\u3079\u307e\u3059\u3002  \n\u3053\u3046\u3059\u308b\u3053\u3068\u3067\u30011\u9031\u9593\u3050\u3089\u3044\u307e\u3067\u306a\u3089\u5927\u4e08\u592b\u305d\u3046\u3060\u3051\u3069\u300110\u65e5\u5148\u4ee5\u4e0a\u306e\u4e88\u6e2c\u3092\u3059\u308b\u3068\u304d\u306f\u6c17\u3092\u3064\u3051\u3066\u306d\u306a\u3069\u3068\u3044\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \n\n\u4ea4\u5dee\u691c\u8a3c\u3059\u308b\u969b\u306f\u3001\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3059\u308b\u30c7\u30fc\u30bf\u3092\u305a\u3089\u3057\u306a\u304c\u3089\u8abf\u3079\u308brolling origin\u3068\u3044\u3046\u624b\u6cd5\u3092\u4f7f\u3044\u307e\u3059\u3002\n\u4e88\u6e2c\u3092\u958b\u59cb\u3059\u308b\u6642\u671f(initial)\u3001\u4e88\u6e2c\u3059\u308b\u671f\u9593(horizon)\u3001\u30c7\u30fc\u30bf\u3092\u305a\u3089\u3059\u671f\u9593(period)\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \n\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3067\u306f\u3001\u30e2\u30c7\u30ea\u30f3\u30b0\u3059\u308b\u30c7\u30fc\u30bf\u306e\u5927\u304d\u3055\u306f\u4e88\u6e2c\u306e\u7bc4\u56f2(horizon)\u306e3\u500d\u3067\u3001period\u306fhorizon\u306e\u534a\u5206\u306e\u9593\u9694\u3067\u7f6e\u304b\u308c\u307e\u3059\u3002\n","b43ccf13":"# \u5fc5\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u30a4\u30f3\u30dd\u30fc\u30c8","27bf1419":"CV(\u4ea4\u5dee\u691c\u8a3c)\u306e\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u8868\u306fplot_cross_validation_metric\u3067\u53ef\u8996\u5316\u3067\u304d\u307e\u3059\u3002  \n\u56f3\u306e\u5404\u70b9\u306fcv\u3067\u8a08\u7b97\u3057\u305f\u6b8b\u5dee\u306e\u7d76\u5bfe\u5024(%)\u3092\u8868\u3057\u3066\u3044\u307e\u3059\u3002\u9752\u7dda\u304cRMSE\u3067\u3059\u3002  \n\u305d\u308c\u306f\u56f3\u306e\u5404\u70b9\u3092\u6a2a\u8ef8\u306e\u65e5\u6bce\u306b\u5e73\u5747\u3092\u3068\u308b\u3053\u3068\u3067\u7b97\u51fa\u3057\u3066\u3044\u307e\u3059\u3002  \n\u4e88\u6e2c\u304c\u5c06\u6765\u306b\u306a\u308c\u3070\u306a\u308b\u307b\u3069\u3001\u7cbe\u5ea6\u304c\u60aa\u5316\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002","d7eb452a":"# \u30e2\u30c7\u30eb\u30c1\u30e5\u30fc\u30cb\u30f3\u30b0\u5f8c\u306e\u7cbe\u5ea6\u8a55\u4fa1\n\u5c11\u3057RMSE\u304c\u4e0b\u304c\u3063\u3066\u304a\u308a\u6539\u5584\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059","669673de":"\u9ed2\u70b9\u304c\u5b9f\u6e2c\u5024\uff0c\u9752\u7dda\u306e\u5b9f\u7dda\u304c\u4e88\u6e2c\u5024\uff0c\u305d\u3057\u3066\u8584\u3044\u9752\u306e\u5857\u308a\u3064\u3076\u3057\u304c80%\u4fe1\u983c\u533a\u9593\u3092\u793a\u3059\uff0e","acde2cae":"# \u30e2\u30c7\u30eb\u306e\u4f5c\u6210\u3068\u4e88\u6e2c","61e2b027":"# \u4e88\u6e2c\u30e2\u30c7\u30eb\u306e\u69cb\u6210\u8981\u7d20\u306e\u5206\u6790\n\n\u30e2\u30c7\u30eb\u306e\u69cb\u6210\u8981\u7d20\u3067\u3042\u308b\u30c8\u30ec\u30f3\u30c9\u3084\u5468\u671f\u6027\u306b\u3064\u3044\u3066\u306e\u5206\u6790\u7d50\u679c\u306f\u3001model.plot_components()\u306b\u3066\u898b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002  \n\u4e0a\u304b\u3089\u3001\u30c8\u30ec\u30f3\u30c9\u6027\u3001\u5e74\u5468\u671f\u6027\u3001\u9031\u5468\u671f\u6027\u306e\u30b0\u30e9\u30d5\u3067\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u30b0\u30e9\u30d5\u304b\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u3053\u3068\u304c\u8aad\u307f\u53d6\u308c\u307e\u3059\u3002  \n\n- \u30c8\u30ec\u30f3\u30c9\uff1a2020\u5e74\u9803\u304b\u3089\u4e0b\u964d\u30c8\u30ec\u30f3\u30c9\u306b\u306a\u3063\u3066\u3044\u308b(\u904e\u5b66\u7fd2  \n- \u9031\u5468\u671f\u3000\uff1aweekly_seasonality=False\u306b\u3057\u3066\u3044\u308b\u306e\u3067\u8868\u793a\u3055\u308c\u306a\u3044\n- \u5e74\u5468\u671f\u3000\uff1a5\u6708\u304b\u30898\u6708\u306b\u304b\u3051\u3066\u4e0a\u6607\u3059\u308b  \n"}}