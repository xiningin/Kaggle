{"cell_type":{"40f3e068":"code","b93a90eb":"code","81e356f7":"code","5ea72c96":"code","6e775f7e":"code","8ecdff3b":"code","d91abbc0":"code","e127ac23":"code","6ab1bb86":"code","e6ffd40b":"code","ffa2cc26":"code","8fed2f5b":"code","cd5a5962":"code","cd9db09d":"code","a8379fab":"code","dcb50b6f":"code","8eaf12fd":"code","cf1b0edd":"code","55a6aa4b":"markdown","7b04deba":"markdown","dd1b7008":"markdown","a068b742":"markdown","8f8224b5":"markdown","54afaaf5":"markdown","53e480af":"markdown","95110615":"markdown","84575bd6":"markdown","f1206ec8":"markdown","39ddc95e":"markdown"},"source":{"40f3e068":"import math\nfrom PIL import Image\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport sklearn.linear_model as LinearRegression\nimport plotly.express as px\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","b93a90eb":"df = pd.read_csv('..\/input\/tennis-players-ranks-prediction-using-atp-elo\/Formatted_players current elo rating by ATP.csv')\ndf","81e356f7":"mens_df = df[df['Gender']=='Male']\nmens_df","5ea72c96":"womens_df = df[df['Gender']=='Female']\nwomens_df","6e775f7e":"df1 =mens_df.copy()\nplt.figure(figsize=(20,10))\nplt.title(\"Men Ranks Vs Total Elo\",fontsize=30)\nsns.lineplot(x=df['Rank'], y=df1['Elo'],color='Cyan',linewidth=2)\nsns.set_theme(style=\"darkgrid\")\nplt.ylabel(\"Elo\",size=40)\nplt.xlabel(\"Rank\",size=40)\nplt.show()","8ecdff3b":"df1 =womens_df.copy()\nplt.figure(figsize=(20,10))\nplt.title(\"Women Ranks Vs Total Elo\",fontsize=30)\nsns.lineplot(x=df['Rank'], y=df1['Elo'],color='Magenta',linewidth=2)\nsns.set_theme(style=\"darkgrid\")\nplt.ylabel(\"Elo\",size=40)\nplt.xlabel(\"Rank\",size=40)\nplt.show()","d91abbc0":"mens_df.info()","e127ac23":"null_values =[]\nnull_values.append((df=='-').sum(axis=0))\nnull_values","6ab1bb86":"df.columns","e6ffd40b":"df = df.replace(to_replace =\"-\",\n                 value =\"0\")\ndf = df.astype({'HardRaw':float,'ClayRaw':float,'GrassRaw':float})\ndf.columns = ['Player', 'Age', 'Elo', 'HardRaw', 'ClayRaw', 'GrassRaw', 'HardCourt',\n       'ClayCourt', 'GrassCourt', 'Peak Match',\n       'Peak Age', 'Peak Elo', 'Gender', 'Rank']      \ndf.info()","ffa2cc26":"mens_df = df[df['Gender']=='Male']\nwomens_df = df[df['Gender']=='Female']\ndf   #New Non-null DF with better Column Names","8fed2f5b":"df.replace(0,df.mean(axis=0),inplace=True)\n(df==0).sum(axis=0)","cd5a5962":"df2 = df[['Rank','Player', 'Elo', 'HardRaw', 'ClayRaw', 'GrassRaw', 'HardCourt',\n       'ClayCourt', 'GrassCourt', 'Peak Elo',\n       'Gender']]\ndf2","cd9db09d":"#a = []\n#Rank = 0\n#Player,Elo,HardRaw,ClayRaw,GrassRaw,HardCourt,ClayCourt,GrassCourt,PeakElo,Gender = input('Enter Input in this Format: Name|Elo|HardRaw|ClayRaw|GrassRaw|HardCourt|ClayCourt|GrassCourt|Peak Elo|Gender:').split('|')\n#a = [[int(Rank),str(Player),float(Elo),float(HardRaw),float(ClayRaw),float(GrassRaw),float(HardCourt),float(ClayCourt),float(GrassCourt),float(PeakElo),str(Gender)]]\n#Sample Inputs\n# PlayerOne|1022|1021|1020|1019|1019|1020|1021|1022|Male\n# PlayerTwo|2456|2134|2403|2104|2081|2000|2301|2459|Female\n\n#print(a)","a8379fab":"Player = 'PlayerTwo'\na = [[0, 'PlayerTwo', 2456.0, 2134.0, 2403.0, 2104.0, 2081.0, 2000.0, 2301.0, 2459.0, 'Female']]\ndf2 = df2.append(pd.DataFrame(a, columns=['Rank','Player', 'Elo', 'HardRaw', 'ClayRaw', 'GrassRaw', 'HardCourt',\n       'ClayCourt', 'GrassCourt', 'Peak Elo',\n       'Gender']),ignore_index=True)\ndf2","dcb50b6f":"df2 = df2.sort_values(by=['Elo'],ascending=False).reset_index(drop=True)\n#df2.sort_values(by=['Peak Elo'],inplace=True,ascending=False)\n\ndf2.index.rename('new_index', inplace=True)\ndf2","8eaf12fd":"df2['Rank'] =df2['Rank'] + 1\ndf2[df2.apply(lambda x: x.Player==Player, axis=1)][['Player', 'Rank']]\n","cf1b0edd":"#Note new_index is the Rank ","55a6aa4b":"<img src= \"https:\/\/media.giphy.com\/media\/d3mlE7uhX8KFgEmY\/giphy.gif\" alt =\"Tennis Ranks\" style='width: 500px;'>\n","7b04deba":"<h1 style=\"text-align:center;font-size:32px;background-color:Black;color:Yellow;padding:20px;\">User Input<\/h1>","dd1b7008":"<h1 style=\"text-align:center;font-size:64px;background-color:Black;color:Yellow;padding:20px;\">Player Rank Predictor<\/h1>","a068b742":"> ##  `DataFrame Exploration`","8f8224b5":"##  **`Since any person's Elo rating can't be 0, we can replace it with mean Elo of that Column`**","54afaaf5":"## **`Printing our New DF with Renamed Column Indexes`**","53e480af":"<h1 style=\"text-align:center;font-size:32px;background-color:Black;color:Yellow;padding:20px;\">Rank Prediction<\/h1>","95110615":"<h1 style=\"text-align:center;font-size:16px;background-color:Black;color:Yellow;padding:20px;\">Kaggle Frontend Doesnt support User Input. But while editing this notebook you can try out Random inputs. For now I will assign some values<\/h1>","84575bd6":"## `Im not using any model, since Elo and Rank are Directly Related.`\n\n","f1206ec8":"<img src= \"https:\/\/external-content.duckduckgo.com\/iu\/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.IAkUf5EIV6zp8E3by3mr3QHaD4%26pid%3DApi&f=1\" alt =\"Tennis Ranks\" style='width: 1920px;'>","39ddc95e":"**`Since Rankings are seperate for Men and Women`**\n\n**`We Need to split the DataFrame`**"}}