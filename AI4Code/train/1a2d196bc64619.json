{"cell_type":{"acae428b":"code","fa1fe832":"code","bac92a40":"code","e75c5df3":"code","762e97b5":"code","ab8de4f7":"code","74e76c11":"code","d7fbc826":"code","f8e3891f":"code","9a115667":"code","dcf45bed":"code","89144238":"code","9bd2d831":"code","cb3500da":"code","e40cd426":"code","239d2c7e":"code","beb45ce9":"code","da566de5":"code","cbb08211":"code","c6788452":"code","27eb9e7f":"code","b184f20c":"code","ceedc541":"code","f1a12bf6":"code","b8106ff0":"code","713c5d91":"code","bb03cac9":"code","2477d735":"code","66700b11":"code","f3b7df38":"code","49188b1c":"code","a4963390":"code","169e62e5":"code","c4fb05b8":"code","ecd11e04":"code","e8861c26":"code","d897ee80":"code","ffbf1bc4":"code","8d78d669":"code","48a707d5":"markdown","1da128af":"markdown","724e552b":"markdown","fda5fefb":"markdown","b3acb09b":"markdown","0796f104":"markdown","7e38fd1e":"markdown","48bbd6bf":"markdown","5fd89369":"markdown","ea7d2c41":"markdown","f1761c7c":"markdown","8c04df9c":"markdown","8a10f10a":"markdown"},"source":{"acae428b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","fa1fe832":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","bac92a40":"df=pd.read_csv('\/kaggle\/input\/oecd-better-life-index\/OECDBLI2017cleanedcsv.csv')","e75c5df3":"df.head()","762e97b5":"df1=df.drop(35)","ab8de4f7":"df1.sort_values('Life satisfaction as avg score', ascending=False).head(10)","74e76c11":"df1.sort_values('Life satisfaction as avg score', ascending=True).head(10)","d7fbc826":"plt.figure(figsize=(12,10))\nsns.heatmap(df1.corr(),annot=True, fmt='1.1f')","f8e3891f":"for col in df1.columns[1:24]:\n    plt.figure(figsize=(20,5))\n    plt.subplot(1,2,1)\n    df1[col].hist(bins=10, grid=False)\n    plt.ylabel('count')\n    print(col)\n    print('Skew :',round(df1[col].skew(),2))\n    plt.subplot(1,2,2)\n    sns.scatterplot(x=df1[col],y=df1['Life satisfaction as avg score'])\n    plt.show()","9a115667":"df_describe=df1.describe().T\ndf_describe1=pd.DataFrame(df_describe['mean'])\ndf_describe1","dcf45bed":"df_Japan=df[df['Country'].isin(['OECD - Total','Japan'])].T","89144238":"df_Japan=df_Japan.drop('Country')\ndf_Japan=df_Japan.rename(columns={17: 'Japan', 35: 'OECD_average'})\ndf_Japan['variance']=df_Japan['Japan']-df_Japan['OECD_average']\ndf_Japan","9bd2d831":"pip install pycaret","cb3500da":"from pycaret.clustering import *","e40cd426":"exp = setup(data = df1,silent=True,session_id = 123)","239d2c7e":"kmeans = create_model('kmeans',num_clusters = 4)","beb45ce9":"kmeans_df1 = assign_model(kmeans)\nkmeans_df1.head()","da566de5":"df1.loc[:,'Cluster']=kmeans_df1.loc[:,'Cluster']","cbb08211":"df1.groupby('Cluster')['Life satisfaction as avg score'].mean().plot.bar()","c6788452":"kmeans_df1.groupby('Cluster')['Country'].count()","27eb9e7f":"kmeans_df1_mean=kmeans_df1.groupby('Cluster').mean().T\nkmeans_df1_mean","b184f20c":"kmeans_df1_mean['Japan']=df_Japan['Japan']\nkmeans_df1_mean['Variance']=kmeans_df1_mean['Japan']-kmeans_df1_mean['Cluster 2']\nkmeans_df1_mean","ceedc541":"plot_model(kmeans, plot = 'elbow')","f1a12bf6":"plot_model(kmeans)","b8106ff0":"plot_model(kmeans, plot = 'silhouette')","713c5d91":"plot_model(kmeans, plot = 'distance')","bb03cac9":"plot_model(kmeans, plot = 'distribution', feature = 'Household net adjusted disposable income in usd')","2477d735":"plot_model(kmeans, plot = 'distribution', feature = 'Educational attainment as pct')","66700b11":"plot_model(kmeans, plot = 'distribution', feature = 'Self-reported health as pct')","f3b7df38":"plot_model(kmeans, plot = 'distribution', feature = 'Labour market insecurity as pct')","49188b1c":"def satisfaction_judge(ex):\n    if ex == 'Cluster 1':\n        return 0\n    else:\n        return 1","a4963390":"df1.loc[:,'Satisfaction']=df1.loc[:,'Cluster'].apply(satisfaction_judge)","169e62e5":"df1.head()","c4fb05b8":"df1_two=df1.groupby('Satisfaction').mean().T\ndf1_two['Japan']=df_Japan['Japan']\ndf1_two['Variance']=df1_two['Japan']-df1_two[1]","ecd11e04":"Japan_oecd_clus_seg=df1_two.loc[:,['Japan',1]]","e8861c26":"Japan_oecd_clus_seg['Cluster2']=kmeans_df1_mean['Cluster 2']","d897ee80":"Japan_oecd_clus_seg['OECD_Average']=df_Japan['OECD_average']","ffbf1bc4":"Japan_oecd_clus_seg.rename(columns={1: 'Segmentation1'}, inplace=True)\nJapan_oecd_clus_seg=Japan_oecd_clus_seg.T\nJapan_oecd_clus_seg.head()","8d78d669":"rows_count = 8\ncolumns_count = 3\ngraphs_count = rows_count * columns_count\nsns.set(font_scale = 3)\nsns.set(rc = {'figure.figsize':(12,8)})\nfor col in Japan_oecd_clus_seg.columns[0:23]:\n    sns.barplot(y=Japan_oecd_clus_seg.index,x=Japan_oecd_clus_seg[col])\n    plt.show()","48a707d5":"4) Compare tha data of Japan to the upper Segmentation in which Japan is belong to","1da128af":"4)-1 Segmentate 4 clusters into 2 segmentations which 0 (Cluster 1) and 1 (Cluster 0,2,3)","724e552b":"5) Compare the data of Japan to above three categories","fda5fefb":"1) Data Visualization and find the correlation between features","b3acb09b":"2) Compare the data of Japan to OECD average in which Japan is belong to","0796f104":"'Life satisfaction as avg score' is lower in Cluster 1 than Cluster 0,2,and 3","7e38fd1e":"3) Compare the data of Japan to the cluster in which Japan is belong to","48bbd6bf":"1. Objective\n\nFrom OECD data, I tried to find what makes people satisfied and happy because I found that 'Life satisfaction as avg score' of Japan is 30th of 38 countries in the data.\n\n\n2. Approach\n\n1) Data Visualization and find the correlation between features\n\n2) Compare the data of Japan to OECD average in which Japan is belong to\n\n3) Compare the data of Japan to the cluster in which Japan is belong to\n\n4) Compare tha data of Japan to the upper Segmentation in which Japan is belong to\n\n5) Compare the data of Japan to above three categories\n\n\n3. Insight\n\nAs for the data of Japan, 'Dwellings without basic facilities as pct','Personal earnings in usd', 'Stakeholder engagement for developing regulations as avg score','Voter turnout as pct', 'Self-reported health as pct' and 'Employees working very long hours as pct' are especially bad compared to OECD average, Cluster 2 in which Japan is belomg to and Segmentation 1 in which Japan is belong to.\n\nSo it is important negative features of Japan. These are 'Housing', 'Income', 'Civic Engagement', 'Health' and 'Work-Life Balance'. Working very long hours cause the lack of 'Work-Life Balance' and it also have bad influence to 'Civic Engagement' and 'Health'. On the other hand, income is\u3000not so good in spite of working very long hours. It may come from low productivity.\n\n![image.png](attachment:1e0d395b-dca3-430e-848c-98631db4293d.png)\n\nIt means that how we can improve our productivety is very important to improve Life satisfaction in Japan.\n\nCan data science and digitalization help it ? ","5fd89369":"1)-2 Correlation between features","ea7d2c41":"1)-3 Hist of each features and scatterplot with 'Life satisfaction as avg score'","f1761c7c":"1)-1 Top 10 Life satisfaction countries and worst 10 satisfaction countries","8c04df9c":"3)-1 Clustering","8a10f10a":"Cluster 1 and Cluster 0,2,3 are splited at 0 in PCA1"}}