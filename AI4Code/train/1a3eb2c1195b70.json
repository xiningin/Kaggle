{"cell_type":{"7e665c35":"code","e32e5846":"code","27ffa452":"code","415757ac":"code","071945d5":"code","1fb48bd0":"code","94acd651":"code","a1087ec5":"code","0435c6f8":"code","c3c02d08":"code","63e146b9":"code","3aa2ca55":"code","1252d06c":"code","1b0e84a4":"code","1b9fc001":"code","fd000ed9":"code","45bf9c4e":"code","f2c87731":"code","c5c86725":"code","80088ca6":"code","77f9f36c":"code","e49b9d61":"code","ab10d1c4":"code","eedc4fd7":"code","bdca8f11":"code","194a0ebd":"code","9da2db07":"code","072eb4c0":"code","74f3064c":"code","8a0a1ac0":"code","a5f4fd9a":"code","c5a18340":"code","c9383732":"code","70c118b6":"code","d4e6b65e":"code","c81793b5":"code","7ff67947":"code","db984f26":"code","bf59f41b":"code","882d7532":"code","f8dac3ee":"code","118a76a3":"code","5cd57e33":"code","160ce1a3":"code","96becd6e":"code","efb3505f":"code","39364213":"code","79d0f437":"code","c4b928ff":"code","ce86e772":"code","7a1b1882":"code","04dc1610":"code","622ee688":"code","d518624b":"code","72300855":"code","3c097730":"code","38c71d00":"code","3d20c57a":"code","7c3320f9":"code","0141743d":"code","25dc8636":"code","aa54813b":"code","25aeaace":"code","5c85556a":"code","886e1b95":"code","a3038666":"code","ed700d3b":"code","125ac01e":"code","9842a623":"code","336b3f8a":"code","63acaca7":"code","69c5f9a6":"code","bc7f985f":"code","1bb48d58":"code","930b3968":"code","04ae59c9":"code","44b28456":"code","e0aae1c6":"code","0fd99adc":"code","0419af02":"code","c274ab79":"code","b966f23f":"code","459d4ddc":"code","d0e4af6d":"code","8f67b03f":"code","3d39d4f3":"code","617aea50":"code","1df97d2a":"code","d8b46167":"code","9c6830d9":"code","cf07a897":"code","2aa7eca5":"code","12c03c61":"code","0b57888e":"code","fd1ace5b":"code","bfa88603":"code","785f30e8":"code","d0909b06":"code","419e0778":"code","c41fcd11":"code","08d6d1bd":"code","61d9516a":"code","306d3dce":"code","466c785a":"code","490cfcba":"code","f2d96bd4":"markdown","ff9a66c1":"markdown","f6dc5c8b":"markdown","66c7df89":"markdown","e80fbab7":"markdown","6ecf44aa":"markdown","671b70f8":"markdown","2a5434b1":"markdown","6bf8948b":"markdown","7d70b79a":"markdown","e23b6156":"markdown","f71c8542":"markdown","b2ccb087":"markdown","3008049c":"markdown","9557942d":"markdown","7de5842a":"markdown","6b8f141f":"markdown","9c8494c4":"markdown","f2432b04":"markdown","067edae5":"markdown","931b6bb4":"markdown","768284de":"markdown","2ae8eddc":"markdown","2804a8c8":"markdown","a22f8962":"markdown","64c41601":"markdown","1236624d":"markdown","1f3ddd9d":"markdown","4ca3c082":"markdown","455fbda1":"markdown","30c115cb":"markdown","6d3d999c":"markdown","d8570772":"markdown","5b23f564":"markdown","1e75b7c7":"markdown","28235513":"markdown","c0517e11":"markdown","5268ecca":"markdown","1475873c":"markdown","eaf240b3":"markdown","98b0dd01":"markdown","84c107e9":"markdown","130705d3":"markdown","2b49e4f0":"markdown","3b5bc1cd":"markdown","4ebeaa05":"markdown","1a9c2f0c":"markdown","169ad9b3":"markdown","bd422bf2":"markdown","f81c528e":"markdown","6c9f5f7a":"markdown","682d1d92":"markdown","8d5bc014":"markdown","581960a5":"markdown","21ff8417":"markdown","e8d53025":"markdown","0d8550c3":"markdown","8b684e85":"markdown","ddd3f72b":"markdown","7cefe602":"markdown","10a33833":"markdown","9101affd":"markdown"},"source":{"7e665c35":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","e32e5846":"#import all package needed\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport statsmodels.api as sm\nfrom scipy.stats import normaltest\nimport holoviews as hv\nfrom holoviews import opts\nimport cufflinks as cf\nhv.extension('bokeh')","27ffa452":"sns.set(style=\"whitegrid\")","415757ac":"file1 ='\/kaggle\/input\/solar-power-generation-data\/Plant_1_Weather_Sensor_Data.csv'\nfile2 = '\/kaggle\/input\/solar-power-generation-data\/Plant_2_Weather_Sensor_Data.csv'","071945d5":"sensor1 = pd.read_csv(file1)\nsensor2 = pd.read_csv(file2)","1fb48bd0":"sensor1.tail()","94acd651":"sensor2.tail()","a1087ec5":"sensor1.info()","0435c6f8":"sensor2.info()","c3c02d08":"sensor1['date'] = pd.to_datetime(sensor1['DATE_TIME']).dt.date\nsensor2['date'] = pd.to_datetime(sensor2['DATE_TIME']).dt.date\nsensor1['time'] = pd.to_datetime(sensor1['DATE_TIME']).dt.time\nsensor2['time'] = pd.to_datetime(sensor2['DATE_TIME']).dt.time\ndel sensor1['DATE_TIME']\ndel sensor2['DATE_TIME']\ndel sensor1['PLANT_ID']\ndel sensor2['PLANT_ID']\ndel sensor1['SOURCE_KEY']\ndel sensor2['SOURCE_KEY']","63e146b9":"sensor2.head()","3aa2ca55":"sensor = sensor1.merge(sensor2, left_on='date', right_on='date', suffixes=('_PLANT1', '_PLANT2'))","1252d06c":"sensor.head()","1b0e84a4":"sensor.info()","1b9fc001":"file3 = '\/kaggle\/input\/solar-power-generation-data\/Plant_1_Generation_Data.csv'\nfile4 = '\/kaggle\/input\/solar-power-generation-data\/Plant_2_Generation_Data.csv'","fd000ed9":"data1 = pd.read_csv(file3)\ndata2 = pd.read_csv(file4)","45bf9c4e":"data1.tail()","f2c87731":"data2.tail()","c5c86725":"data1.info()","80088ca6":"data2.info()","77f9f36c":"print('Number of Inverters in Plant I: {}'.format(data1.SOURCE_KEY.nunique()))","e49b9d61":"print('Number of Inverters in Plant II: {}'.format(data2.SOURCE_KEY.nunique()))","ab10d1c4":"df1 = data1.reset_index()\ndf2 = data2.reset_index()\ndata = df1.merge(df2, left_on='index', right_on='index', suffixes=('_PLANT1', '_PLANT2'))\ndel data['index']\ndel data['PLANT_ID_PLANT1']\ndel data['PLANT_ID_PLANT2']","eedc4fd7":"data.head()","bdca8f11":"data.info()","194a0ebd":"sensor.head()","9da2db07":"sensor.describe()","072eb4c0":"plt.figure(figsize=(10,10))\nsns.heatmap(sensor.corr(), annot=True, center=0, square=True)\nplt.title('Correlation between feature weather condition')\nplt.show()","74f3064c":"print('Maximun valeurs \u00b0C for Temperature and, W\/m^2 for Iraddiation :')\nsensor.describe().loc['max', :]","8a0a1ac0":"total_irrad_per_day = sensor.groupby('date')[['IRRADIATION_PLANT1', 'IRRADIATION_PLANT2']].agg('sum')","a5f4fd9a":"total_irrad_per_day.head()","c5a18340":"plt.figure(figsize=(15,15), dpi=100)\nsns.heatmap(total_irrad_per_day, annot=True, fmt=\".6g\", center=0)\nplt.title('TOTAL IRRADIATION PER DAY IN EACH PLANT')\nplt.show()","c9383732":"low_irrad = total_irrad_per_day[total_irrad_per_day < 2000]\nhigh_irrad = total_irrad_per_day[total_irrad_per_day > 2000]","70c118b6":"fig = plt.figure(figsize=(20,20), dpi=300)\nfig.subplots_adjust(wspace=0.25)\nax1 = fig.add_subplot(1,2,1)\nax2 = fig.add_subplot(1,2,2)\nsns.heatmap(low_irrad, annot=True, fmt='.6g', center=0, ax=ax1)\nsns.heatmap(high_irrad, annot=True, fmt='.6g', center=0, ax=ax2)\nax1.set_title('LOW TOTAL IRRADIATION PER DAY', fontdict={'fontsize': 16})\nax2.set_title('HIGH TOTAL IRRADIATION PER DAY', fontdict={'fontsize': 16})\nplt.show()","d4e6b65e":"data.head()","c81793b5":"data.describe()","7ff67947":"print('Daily Yield mean value (Kwh): \\n\\n', data.describe().loc['mean',['DAILY_YIELD_PLANT1', 'DAILY_YIELD_PLANT2']])","db984f26":"plt.figure(figsize=(10,10))\nsns.heatmap(data.corr(), annot=True, fmt='.2g', center=0, square=True)\nplt.show()","bf59f41b":"data['date'] = pd.to_datetime(data['DATE_TIME_PLANT2']).dt.date\ndata['time'] = pd.to_datetime(data['DATE_TIME_PLANT2']).dt.time\n\ndata = data.set_index(data.DATE_TIME_PLANT2)\ndel data['DATE_TIME_PLANT2']","882d7532":"def min_max(value=None) :\n\n    dc1 = []\n    ac1 = []\n    dc2 = []\n    ac2 = []\n\n    for dt in np.unique(data.date.values):\n    \n        df = data[data.date == dt]\n    \n        if value == 'max':\n            dc1.append(df[df['DC_POWER_PLANT1'] == df['DC_POWER_PLANT1'].max()])\n            dc2.append(df[df['DC_POWER_PLANT2'] == df['DC_POWER_PLANT2'].max()])\n    \n            ac1.append(df[df['AC_POWER_PLANT1'] == df['AC_POWER_PLANT1'].max()])\n            ac2.append(df[df['AC_POWER_PLANT2'] == df['AC_POWER_PLANT2'].max()])\n        else:\n            dc1.append(df[df['DC_POWER_PLANT1'] == df['DC_POWER_PLANT1'].min()])\n            dc2.append(df[df['DC_POWER_PLANT2'] == df['DC_POWER_PLANT2'].min()])\n    \n            ac1.append(df[df['AC_POWER_PLANT1'] == df['AC_POWER_PLANT1'].min()])\n            ac2.append(df[df['AC_POWER_PLANT2'] == df['AC_POWER_PLANT2'].min()])\n            \n    return pd.concat(dc1)['DC_POWER_PLANT1'], pd.concat(ac1)['AC_POWER_PLANT1'],\\\n                    pd.concat(dc2)['DC_POWER_PLANT2'], pd.concat(ac2)['AC_POWER_PLANT2']","f8dac3ee":"def plot_data(value=None, kind=None):\n    fig = plt.figure(figsize=(20,20), dpi=200)\n    fig.subplots_adjust(hspace=0.4, wspace=0.2)\n    for i in range(1, len(value)+1):\n        ax = fig.add_subplot(2, 2, i)\n        value[i-1].plot(kind=kind, ax=ax)\n        ax.set_ylabel('A')\n        ax.set_title(value[i-1].name)","118a76a3":"min_dc1, min_ac1, min_dc2, min_ac2 = min_max()","5cd57e33":"max_dc1, max_ac1, max_dc2, max_ac2 = min_max(value='max')","160ce1a3":"plot_data(value=[min_dc1, min_ac1, min_dc2, min_ac2], kind='line')","96becd6e":"plot_data(value=[max_dc1, max_ac1, max_dc2, max_ac2], kind='bar')","efb3505f":"source1 = data[data.DC_POWER_PLANT1 == data.DC_POWER_PLANT1.max()] \nsource2 = data[data.DC_POWER_PLANT2 == data.DC_POWER_PLANT2.max()] ","39364213":"source1[['DATE_TIME_PLANT1', 'SOURCE_KEY_PLANT1', 'DC_POWER_PLANT1', 'AC_POWER_PLANT1']]","79d0f437":"source2[['DATE_TIME_PLANT1','SOURCE_KEY_PLANT2', 'DC_POWER_PLANT2', 'AC_POWER_PLANT2']]","c4b928ff":"rk1 = data.groupby('SOURCE_KEY_PLANT1')[['DC_POWER_PLANT1', 'AC_POWER_PLANT1']].agg('sum').sort_values(by='DC_POWER_PLANT1')\nrk2 = data.groupby('SOURCE_KEY_PLANT2')[['DC_POWER_PLANT2', 'AC_POWER_PLANT2']].agg('sum').sort_values(by='DC_POWER_PLANT2')","ce86e772":"plt.figure(figsize=(10,10))\nsns.heatmap(rk1, annot=True, fmt='.10g', center=0)\nplt.title('Ranking Inverters for Plant 1 for two month production')\nplt.show()","7a1b1882":"plt.figure(figsize=(10,10))\nsns.heatmap(rk2, annot=True, fmt='.10g', center=0)\nplt.title('Ranking Inverters for Plant 2 for two month production')\nplt.show()","04dc1610":"figu = plt.figure(dpi=100, figsize=(15,10))\nfigu.subplots_adjust(wspace=0.2, hspace=0.2)\ncols = list(set(sensor.columns) - set(['date', 'time_PLANT1', 'time_PLANT2']))\nfor i in range(1,len(cols)+1):\n    ax = figu.add_subplot(2,3,i)\n    sns.boxplot(sensor[sorted(cols)[i-1]] , ax=ax)","622ee688":"dist = plt.figure(dpi=100, figsize=(15,10))\ndist.subplots_adjust(wspace=0.2, hspace=0.2)\nfor i in range(1,len(cols)+1):\n    ax = dist.add_subplot(2,3,i)\n    sns.distplot(sensor[sorted(cols)[i-1]] , ax=ax)","d518624b":"def meteo(feature=None, sun='date'):\n    \n    max_temp = []\n    min_temp = []\n    \n    for dt in list(sensor[sun].unique()):\n        \n        df = sensor[sensor.date == dt]\n        max_temp.append(df[feature].max())\n        min_temp.append(df[feature].min())\n        \n    mean = sensor.groupby(sun)[feature].agg('mean')\n    \n    result = pd.DataFrame()\n    \n    result[feature+'_mean'] = mean\n    result[feature+'_max'] = max_temp\n    result[feature+'_min'] = min_temp\n    \n    return result","72300855":"meteo(feature='AMBIENT_TEMPERATURE_PLANT1').plot(rot=30, figsize=(15,5))\nplt.title('AMBIENT TEMPERATURE history in PLANT 1')\nplt.ylabel('\u00b0C')\nplt.show()","3c097730":"meteo(feature='MODULE_TEMPERATURE_PLANT1').plot(rot=30, figsize=(15,5))\nplt.title('MODULE TEMPERATURE history in PLANT 1')\nplt.ylabel('\u00b0C')\nplt.show()","38c71d00":"meteo(feature='MODULE_TEMPERATURE_PLANT2').plot(rot=30, figsize=(15,5))\nplt.title('MODULE TEMPERATURE history in PLANT 2')\nplt.ylabel('\u00b0C')\nplt.show()","3d20c57a":"sensor.groupby('date')[['IRRADIATION_PLANT1', 'IRRADIATION_PLANT2']].agg('sum').plot(rot=30, figsize=(15,5))\nplt.title('TOTAL IRRADATION PER DAY FOR THE TWO PLANTS')\nplt.ylabel('W\/m\u00b2')\nplt.show()","7c3320f9":"meteo(feature='AMBIENT_TEMPERATURE_PLANT1', sun='time_PLANT1').plot(rot=30, figsize=(15,5))\nplt.title('AMBIENT TEMPERATURE daily history in PLANT 1')\nplt.ylabel('\u00b0C')\nplt.show()","0141743d":"meteo(feature='AMBIENT_TEMPERATURE_PLANT2', sun='time_PLANT2').plot(rot=30, figsize=(15,5))\nplt.title('AMBIENT TEMPERATURE daily history in PLANT 2')\nplt.ylabel('\u00b0C')\nplt.show()","25dc8636":"meteo(feature='MODULE_TEMPERATURE_PLANT1', sun='time_PLANT1').plot(rot=30, figsize=(15,5))\nplt.title('MODULE TEMPERATURE daily history in PLANT 1')\nplt.ylabel('\u00b0C')\nplt.show()","aa54813b":"meteo(feature='MODULE_TEMPERATURE_PLANT2', sun='time_PLANT2').plot(rot=30, figsize=(15,5))\nplt.title('MODULE TEMPERATURE daily history in PLANT 2')\nplt.ylabel('W\/m\u00b2')\nplt.show()","25aeaace":"sensor.groupby('time_PLANT1')[['IRRADIATION_PLANT1']].agg('sum').plot(rot=30, figsize=(15,5))\nplt.title('DAILY TOTAL IRRADATION FOR PLANT1')\nplt.ylabel('W\/m\u00b2')\nplt.show()","5c85556a":"sensor.groupby('time_PLANT2')[['IRRADIATION_PLANT2']].agg('sum').plot(rot=30, figsize=(15,5))\nplt.title('DAILY TOTAL IRRADATION FOR PLANT2')\nplt.ylabel('W\/m\u00b2')\nplt.show()","886e1b95":"plt.figure(figsize=(10,5))\nplt.hist2d(sensor['AMBIENT_TEMPERATURE_PLANT1'], sensor['MODULE_TEMPERATURE_PLANT1'], density=True, bins=250)\nplt.xlabel('AMBIENT_TEMPERATURE_PLANT1')\nplt.ylabel('MODULE_TEMPERATURE_PLANT1')\nplt.title('Ambient and Module Temperation for Plant 1')\nplt.show()","a3038666":"plt.figure(figsize=(10,5))\nplt.hist2d(sensor['AMBIENT_TEMPERATURE_PLANT2'], sensor['MODULE_TEMPERATURE_PLANT2'], density=True, bins=250)\nplt.xlabel('AMBIENT_TEMPERATURE_PLANT2')\nplt.ylabel('MODULE_TEMPERATURE_PLANT2')\nplt.title('Ambient and Module Temperation for Plant 2')\nplt.show()","ed700d3b":"reg1 = plt.figure(figsize=(10,10))\nreg1.subplots_adjust(hspace=0.4)\nar1 = reg1.add_subplot(2, 1, 1)\nar2 = reg1.add_subplot(2, 1, 2)\nsns.regplot(x='MODULE_TEMPERATURE_PLANT1', y='IRRADIATION_PLANT1', data=sensor, ax=ar1)\nsns.regplot(x='MODULE_TEMPERATURE_PLANT2', y='IRRADIATION_PLANT2', data=sensor, ax=ar2)\nar1.set_title('Regression IRRADIATION AND MODULE TEMPERATURE FOR PLANT 1')\nar2.set_title('Regression IRRADIATION AND MODULE TEMPERATURE FOR PLANT 2')\nplt.show()","125ac01e":"#interesting columns\ncolumn = list(set(data.columns) - set(['SOURCE_KEY_PLANT1', 'DATE_TIME_PLANT1', 'SOURCE_KEY_PLANT2','date', 'time']))        ","9842a623":"box = plt.figure(figsize=(20,20))\nbox.subplots_adjust(wspace=0.1, hspace=0.1)\nfor i in range(1, len(column)+1):\n    ax = box.add_subplot(2, 4, i)\n    sns.boxplot(data[sorted(column)[i-1]], ax=ax)\nplt.show()","336b3f8a":"dpl = plt.figure(figsize=(20,20))\ndpl.subplots_adjust(wspace=0.2, hspace=0.2)\nfor i in range(1, len(column)+1):\n    ax = dpl.add_subplot(2, 4, i)\n    sns.distplot(data[sorted(column)[i-1]], ax=ax)\nplt.show()","63acaca7":"data.groupby('date')[['DC_POWER_PLANT1', 'DC_POWER_PLANT2']].agg('sum').plot(rot=90, figsize=(15,5),\n                                                                             kind='bar', logy=True)\nplt.title('TOTAL DC POWER PER DAY')\nplt.ylabel('KWh')\nplt.show()","69c5f9a6":"data.groupby('date')[['AC_POWER_PLANT1', 'AC_POWER_PLANT2']].agg('sum').plot(rot=90, figsize=(15,5),\n                                                                             kind='bar')\nplt.title('TOTAL AC POWER PER DAY')\nplt.ylabel('KWh')\nplt.show()","bc7f985f":"data.groupby('date')[['TOTAL_YIELD_PLANT1', 'TOTAL_YIELD_PLANT2']].agg('mean').plot(rot=90, figsize=(15,5),\n                                                                             kind='bar', logy=True)\nplt.title('MEAN TOTAL YIELD PER DAY')\nplt.ylabel('KWh')\nplt.show()","1bb48d58":"data.groupby('time')[['DAILY_YIELD_PLANT1', 'DAILY_YIELD_PLANT2']].agg('mean').plot(rot=30, figsize=(15,5))\nplt.title('MEAN DAILY YIELD PER TIME')\nplt.ylabel('KWh')\nplt.show()","930b3968":"data.groupby('time')[['TOTAL_YIELD_PLANT1', 'TOTAL_YIELD_PLANT2']].agg('mean').plot(rot=30, figsize=(15,5))\nplt.title('MEAN TOTAL YIELD PER TIME')\nplt.ylabel('KWh')\nplt.show()","04ae59c9":"data.reset_index()[:10000].groupby('DATE_TIME_PLANT2')[['DC_POWER_PLANT1', 'DC_POWER_PLANT2']].agg('sum').plot(rot=30,\n                                                                                                              figsize=(15,5))\nplt.title('TOTAL OF 22 INVERTERS DC POWER PER DATE-TIME')\nplt.ylabel('KWh')\nplt.show()","44b28456":"data.reset_index()[:10000].groupby('DATE_TIME_PLANT2')[['AC_POWER_PLANT1', 'AC_POWER_PLANT2']].agg('sum').plot(rot=30,\n                                                                                                              figsize=(15,5))\nplt.title('TOTAL OF 22 INVERTERS AC POWER PER DATE-TIME')\nplt.ylabel('KWh')\nplt.show()","e0aae1c6":"data.reset_index()[:20000].groupby('DATE_TIME_PLANT2')[['DAILY_YIELD_PLANT1', 'DAILY_YIELD_PLANT2']].agg('sum').plot(rot=30,\n                                                                                                              figsize=(20,5))\nplt.title('TOTAL OF 22 INVERTERS DAILY YIELD PER DATE-TIME')\nplt.ylabel('KWh')\nplt.show()","0fd99adc":"data.reset_index()[:10000].groupby('DATE_TIME_PLANT2')[['TOTAL_YIELD_PLANT1', 'TOTAL_YIELD_PLANT2']].agg('mean').plot(rot=30,\n                                                                                                              figsize=(15,5))\nplt.title('TOTAL OF 22 INVERTERS TOTAL YIELD PER DATE-TIME')\nplt.ylabel('KWh')\nplt.show()","0419af02":"reg2 = plt.figure(figsize=(10,10))\nreg2.subplots_adjust(hspace=0.4)\nar11 = reg2.add_subplot(2, 1, 1)\nar22 = reg2.add_subplot(2, 1, 2)\nsns.regplot(x='DC_POWER_PLANT1', y='AC_POWER_PLANT1', data=data, ax=ar11)\nsns.regplot(x='DC_POWER_PLANT2', y='AC_POWER_PLANT2', data=data, ax=ar22)\nar11.set_title('Regression DC POWER AND AC POWER FOR PLANT 1')\nar22.set_title('Regression DC POWER AND AC POWER FOR PLANT 2')\nplt.show()","c274ab79":"grouped_data = data.reset_index().groupby('date')[column].agg('mean').reset_index()","b966f23f":"grouped_data.tail()","459d4ddc":"grouped_data.info()","d0e4af6d":"grouped_sensor = sensor.groupby('date')[cols].agg('mean').reset_index()","8f67b03f":"grouped_sensor.info()","3d39d4f3":"assemble_data = grouped_data.merge(grouped_sensor, left_on='date', right_on='date', suffixes=('_data', '_sensor'))","617aea50":"assemble_data.info()","1df97d2a":"plt.figure(figsize=(15,8))\nsns.heatmap(assemble_data.corr(), annot=True, center=0, square=False)\nplt.show()","d8b46167":"plt.figure(figsize=(10,5))\nsns.regplot(x='AC_POWER_PLANT2', y='DAILY_YIELD_PLANT2',lowess=True, data=assemble_data)\nplt.show()","9c6830d9":"plt.figure(figsize=(10,5))\nsns.regplot(y='AC_POWER_PLANT2', x='IRRADIATION_PLANT2',lowess=True, data=assemble_data)\nplt.show()","cf07a897":"plt.figure(figsize=(10,5))\nsns.regplot(x='AMBIENT_TEMPERATURE_PLANT2', y='AMBIENT_TEMPERATURE_PLANT1',lowess=True, data=assemble_data)\nplt.show()","2aa7eca5":"plt.figure(figsize=(10,5))\nsns.regplot(y='IRRADIATION_PLANT2', x='IRRADIATION_PLANT1',lowess=True, data=assemble_data)\nplt.show()","12c03c61":"plt.figure(figsize=(10,5))\nsns.regplot(y='TOTAL_YIELD_PLANT1', x='TOTAL_YIELD_PLANT2',lowess=True, data=assemble_data)\nplt.show()","0b57888e":"plt.figure(figsize=(10,5))\nsns.regplot(y='DAILY_YIELD_PLANT2', x='MODULE_TEMPERATURE_PLANT2',lowess=True, data=assemble_data)\nplt.show()","fd1ace5b":"plt.figure(figsize=(10,5))\nsns.regplot(y='TOTAL_YIELD_PLANT1', x='AMBIENT_TEMPERATURE_PLANT1',lowess=True, data=assemble_data)\nplt.show()","bfa88603":"plt.figure(figsize=(10,5))\nsns.regplot(y='TOTAL_YIELD_PLANT1', x='MODULE_TEMPERATURE_PLANT1',lowess=True, data=assemble_data)\nplt.show()","785f30e8":"plt.figure(figsize=(10,5))\nsns.regplot(y='TOTAL_YIELD_PLANT2', x='AMBIENT_TEMPERATURE_PLANT2',lowess=True, data=assemble_data)\nplt.show()","d0909b06":"plt.figure(figsize=(10,5))\nsns.regplot(y='TOTAL_YIELD_PLANT2', x='MODULE_TEMPERATURE_PLANT2',lowess=True, data=assemble_data)\nplt.show()","419e0778":"data1['date'] = pd.to_datetime(data1['DATE_TIME']).dt.date","c41fcd11":"dc_power = pd.pivot_table(data1, values='DC_POWER', index='date', columns='SOURCE_KEY')\nac_power = pd.pivot_table(data1, values='AC_POWER', index='date', columns='SOURCE_KEY')\ndaily_yield = pd.pivot_table(data1, values='DAILY_YIELD', index='date', columns='SOURCE_KEY')\ntotal_yield = pd.pivot_table(data1, values='TOTAL_YIELD', index='date', columns='SOURCE_KEY')","08d6d1bd":"dc = dc_power.describe().T\nac = ac_power.describe().T\ndyield = daily_yield.describe().T\ntyield = total_yield.describe().T","61d9516a":"dc[['min', '50%', 'max']].plot(figsize=(15,5), kind='bar')\nplt.title('DC POWER')\nplt.ylabel('Kw')\nplt.xlabel('Inverter')\nplt.show()","306d3dce":"ac[['min', '50%', 'max']].plot(figsize=(15,5), kind='bar')\nplt.title('AC POWER')\nplt.ylabel('Kw')\nplt.xlabel('Inverter')\nplt.show()","466c785a":"dyield[['min', '50%', 'max']].plot(figsize=(15,5), kind='bar')\nplt.title('DAILY YIELD')\nplt.ylabel('Kwh')\nplt.xlabel('Inverter')\nplt.show()","490cfcba":"tyield[['min', '50%', 'max']].plot(figsize=(15,5), kind='bar')\nplt.title('TOTAL YIELD')\nplt.ylabel('Kwh')\nplt.xlabel('Inverter')\nplt.show()","f2d96bd4":"**Summary**\n1. yield depend on weather condition.\n2. ac\/dc power depend on weather condition.","ff9a66c1":"## EDA: Generation data","f6dc5c8b":"All inverter give almost same total and daily yield. (curious)","66c7df89":"IRRADIATION for plant 2  can be help to define AC power.","e80fbab7":"According to the described dataframe, we realize that *the difference of max, median and mean Ambient Temperature of two plants* is around **2\u00b0C**, also for the Module Temperature of two plants. But for Irradiation of two plants is almost same.\n\n**We learn**\n\n- *Power plant 2 is hotter than power plant 1.* ","6ecf44aa":"In daily, we have opposite production between Plant 1 and Plant 2. That is why daily yield plant1 and daily yield for plant 2 have negative correlation.","671b70f8":"# Story on Power Plant in India\n\nIn this notebook, we seek to understand the behaviour of two solar power plants through the data generated by the photovoltaic modules and take relevant information. To do so, we will talk about:\n\n1. **Reminder on photovoltaic systems or PV systems**\n2. **Comparison of two power plants**\n    - *Descriptive analysis (Weather condition and Generation data)*\n    - *EDA (Weather condition and Generation data)*\n    \n3. **Identify relevant information**\n4. **Conclusion**","2a5434b1":"2020-05-15 to 2020-06-17, we have 34 days in total, where:\n\n1. Plant 1 produces 15 days of low total irradiation and 19 days of high total irradiation.\n\n2. Plant 2 produces 14 days of low total irradiation and 20 days of high total irradiation.\n\nOnly 1 more day between Plant 1 and Plant 2. This prove that Plant 2 are much more sunshine plant 1.\n\n**We learn**\n\n- Plant 2 is much more sunshine than Plant 1.","6bf8948b":"For plant 2 AC power can influence a daily yield.","7d70b79a":"Huge production of DC POWER per day for plant I than plant II.","e23b6156":"# Comparison of two power plants\n","f71c8542":"## Correlation between weather feature and generation data feature\n","b2ccb087":"#### For date","3008049c":"boxplot for Module Temperature Plant 2 have an outlier. It show that Plant 2 is installed in region\/province where a sunshine is very high Temperature.  ","9557942d":"**Summary**\n1. confirmation: plant 2 is installed in the hot region\/province.\n2. confirmation: panel for plant 1 loose 90% of DC power to AC power.\n3. plant 1 need panel cleaning and maintenance.\n4. daily yield depends on weather (we are checking it in the next section).\n5. opposite production between plant 1  and plant 2(check next section).","7de5842a":"In daily,  Plant 1 produce same irradiation than Plant 2.","6b8f141f":"### Inverter produced maximun DC\/AC Power is:","9c8494c4":"#### For Time","f2432b04":"Plant 1 have huge problem, it produces very high DC power and Irradiation than Plant 2, but have less total yield per day. I think that the reason come from an inverter due to certain inverters loose 90% of power when it convert DC power to AC power. Plant 1 need panel maintenance.","067edae5":"We remark that mean module temperature of two plants does not exceed 40\u00b0C.","931b6bb4":"By date-time, we see again that Plant 1 have serious problem for maintenance.","768284de":"**For PLANT 1:**","2ae8eddc":"# Conclusion\n\nThroughout this work, we notice that power plant 1 is deficient and power plant 2 have good performance.\n\nThe bad performance of power plant 1 can be translate by the fact that total yield decrease when ambient\/module temperature increase. I think that it is the reason why the power plant1 lose 90% of his dc\/ac power in the inverters.\n\nPower Plant 2 have a good performance because it is installed where sunshine is perfect and the panel get sometime a maintenance.\nPower plant1 need cleaning and maintenance of his panels and inverters.","2804a8c8":"## Descriptive Analytics: Weather condition","a22f8962":"This graph give a low and high irradiation production.\n","64c41601":"#### For date","1236624d":"## See the next task...\n**Be free to download, share and comment**","1f3ddd9d":"Strong correlation between Irradiation and Module Temperature.","4ca3c082":"one more again, Plant 1 looses 90% of DC\/AC Power production.","455fbda1":"We remark that\n1. corr(DAILY_YIELD_PLANT2, AC_POWER_PLANT2) = 0.69 \n2. corr(AC_POWER_PLANT2, IRRADIATION_PLANT2) = 0.84\n3. corr(DAILY_YIELD_PLANT2, IRRADIATION_PLANT2) = 0.71 (daily yield depends weather condition)\n4. corr(MODULE_TEMPERATURE_PLANT1, IRRADIATION_PLANT2) = 0.68\n5. corr(MODULE_TEMPERATURE_PLANT1, MODULE_TEMPERATURE_PLANT2) = 0.78\n6. corr(MODULE_TEMPERATURE_PLANT1, AMBIENT_TEMPERATURE_PLANT2) = 0.8\n7. corr(AMBIENT_TEMPERATURE_PLANT1, MODULE_TEMPERATURE_PLANT2) = 0.85\n8. corr(AMBIENT_TEMPERATURE_PLANT1, AMBIENT_TEMPERATURE_PLANT2) = 0.85\n9. corr(TOTAL_YIELD_PLANT1 , TOTAL_YIELD_PLANT2) = -0.52 (checked: plant1 and plant2 are opposite)","30c115cb":"**We learn**\n- DC, AC power and Daily Yield for Plant 1 and Plant 2 are opposite production i.e when plant 1 is a low production plant 2 is high production (see correlation matrix).","6d3d999c":"# Identify relevant information.\n\nIn this section, we are making correlation between weather feature and generation data feature to find a relevant information.\n\nAccording to the fact that plant 1 need a maintenance, we will seek which inverters is deficient or impact on the production.","d8570772":"meteo(feature='AMBIENT_TEMPERATURE_PLANT2').plot(rot=30, figsize=(15,5))\nplt.title('AMBIENT TEMPERATURE history in PLANT 2')\nplt.ylabel('\u00b0C')\nplt.show()","5b23f564":"## Which inverter is deficient in the plant 1?","1e75b7c7":"Plant 1 produce 10.2 time DC power than plant 2 but AC power for plant1 is a same with AC power for plant 2. This means that plant 1 looses 90% of his production. \n\n**We learn**\n- plant 1 looses 90% of his DC power in the conversion.","28235513":"Now, we start generation data for plant I and II","c0517e11":"**Summary**\n\nwe learn\n1. The two power plants are not installed in the same region\/province. \n2. Plant 2 is much more sunshine than Plant 1.\n3. DC, AC power and Daily Yield for Plant 1 and Plant 2 are opposite production.\n4. plant 1 looses 90% of his DC power in the conversion.\n5. Module Temperature and Irradiation are stronger correlated.","5268ecca":"Some days the two plants produces low total Irradiation and  high total irradiation. We are subdivised data to see which date plant produce low or high total irradiation.","1475873c":"#### For time","eaf240b3":"## EDA: Weather condition\n\n### Distribution","98b0dd01":"### Ranking  the inverters based on DC\/AC power they produce","84c107e9":"## Reminder on PV systems\n\n<center>\n<img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/a\/a0\/From_a_solar_cell_to_a_PV_system.svg\" width=\"450\"><br\/>\n<\/center>\n\n\n**``PV system``** is a power system designed to supply usable solar power by means of photovoltaics.\n\n\n**``PV Cell``** is an electrical device that converts the energy of light directly into electricity by the photovoltaic effect, which is a physical and chemical phenomenon. It is also the basics photovoltaic device that is the building block PV modules.\n\n**``Photovoltaic effect``**  is the generation of voltage and electric current in a material upon exposure to light.\n\n**``PV module``** is a group of PV cell connected in serie and\/or parallel and encapsulated in an environmentally protective laminate.\n\n**``PV panel``** is a group of modules that is the basic building block of a PV array.\n\n**``PV array``** is a group of panels that comprises the complete PV generating unit.\n\n### PV inverter\n\n<center>\n<img src=\"https:\/\/www.futuregenerationenergy.ie\/wp-content\/uploads\/2017\/03\/santnu_new.jpg\" width=\"450\"><br\/>\n<\/center>\n\n**``PV inverter``** convert battery or PV array DC power to AC power for use with conventional utility-powered appliances. It is heart of PV systems because PV array is a DC source, an inverter is required to convert the dc power to normal ac power that is used in our homes and offices.\n\nPV systems are very influenced by weather condition, if the weather is good, we get a maximun yield but if the weather is bad, we get a minimun yield. That is why there is important to know how weather condition can impact on yield of the two solar power plants.\n\n**Source**\n- [Photovoltaic(PV) Tutorial](http:\/\/web.mit.edu\/taalebi\/www\/scitech\/pvtutorial.pdf)\n\n- [PV Inverter](https:\/\/www.futuregenerationenergy.ie\/domestic\/solar-pv-inverters\/)\n\n- [PV Systems](https:\/\/en.wikipedia.org\/wiki\/Photovoltaic_system)\n\n\nOkay, let's go to the next section.","130705d3":"## Descriptive Analytics: Generation Data","2b49e4f0":"### Relation between feature","3b5bc1cd":"### Visualize time series","4ebeaa05":"We identify **1BY6WEcLGh8j5v7** and **bvBOhCH3iADSZry** as the inverters that have produced low DC POWER in the two month.","1a9c2f0c":"#### For date-time","169ad9b3":"### Visualize time series","bd422bf2":"Between 00.00 am to 6.00 am, there is the night no sunshine. Many feature have more data around 0 that's why,  DC\/AC power for two plants\nhave median = 0. \n\n","f81c528e":"From this correlation matrix, we see that for two plants, Module temperature and Irradiation are strongest correlated and also, Ambient Temperature and Module Temperature are strong correlated.\nThe feature weather condition for two plants does not exist any relation between them.\n\n**We learn**\n\n- The two power plants are not installed in the same region\/province. This is why plant 2 is installed in the hottest region\/province than region\/province where plant 1 is installed.\n\n- PV system in plant 1 and PV system in plant 2 are the same manufactured product.","6c9f5f7a":"This graph shows how 22 inverters lose 90% of his DC\/AC power with 1BY6WEcLGh8j5v7 and  bvBOhCH3iADSZry as being the lowest producer of dc\/ac power. ","682d1d92":"Plant 1 need panel cleaning and maintenance.","8d5bc014":"### The maximum\/minimum amount of DC\/AC Power generated in a time interval\/day.","581960a5":"The relevant information is:\n\nDue to a sunshine of sun, ambient temperature for plant 1 and plant 2 are dependent. Irradiation for plant 1 and plant 2 is also dependent.\n\nIn plant 2, we can define the AC power if we know before a valeur of Irradiation.\n\nAlso, knowing some feature of plant 2 can be useful to predict some feature of plant 1. If we suppose that an ambient temperature is a same in the two place (plant1 and plant2), normally, plant 1 must be give a good performance like plant 2. But nothing. \n\nHence, the graph show that TOTAL_YIELD_PLANT1 is decreasing when AMBIENT\/MODULE_TEMPERATURE_PLANT1 increase. Plant1 is deficient.  ","21ff8417":"### Distribution","e8d53025":"**For PLANT 2:**","0d8550c3":"### Relation between feature","8b684e85":"### Total irradiation per day","ddd3f72b":"# Load and preparation data\n\nWe start by weather sensor data for plant I and II","7cefe602":"if we know an ambient temperature in plant1, we can define approximately an ambient temperature in the plant 2.","10a33833":"After 5 days, the daily yield shape change.","9101affd":"Ambient Temperature for plant 1 does not exceed 35\u00b0C in many days. But Ambient Temperature for plant 2 exceed 35\u00b0C that's why max Temp is between 35\u00b0C and 40\u00b0C.\n\nThis graph show that Plant 2 is installed in the hottest region\/province in India."}}