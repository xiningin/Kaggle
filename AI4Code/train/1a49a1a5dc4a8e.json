{"cell_type":{"b946be57":"code","ff5c4441":"code","4b230356":"code","80be46ba":"code","be9984b2":"code","cde1b615":"code","6b63474b":"code","afc10661":"code","2d3b47d1":"code","1f1d8f1e":"code","c2cf7254":"code","d02d8199":"code","7008badd":"code","69e69633":"code","daa86de0":"code","32d5a379":"code","8ad20111":"code","fa9898bc":"code","026644dc":"code","a40f0c87":"code","52619b13":"code","e5037089":"code","083377cb":"code","8d1a7439":"code","9a32a19e":"code","f3c7f164":"code","d62c4df0":"code","532cb59f":"code","bf73eb34":"code","00c70b66":"code","42694d36":"code","edb045d7":"code","2718110e":"code","bb059130":"code","7666d5a2":"code","b0b9253b":"code","f3311acb":"code","793a0cfb":"markdown","7b96cf82":"markdown"},"source":{"b946be57":"import pandas as pd\nimport numpy as np","ff5c4441":"data_path = \"..\/input\/videogamesales\/vgsales.csv\"\ndf = pd.read_csv(data_path)","4b230356":"df.head()","80be46ba":"df.dtypes","be9984b2":"df.describe()","cde1b615":"df.describe(include='all')","6b63474b":"df.info()","afc10661":"missing_data = df.isnull()\nmissing_data.head(5)","2d3b47d1":"for column in missing_data.columns.values.tolist():\n    print(column)\n    print (missing_data[column].value_counts())\n    print(\"\")","1f1d8f1e":"df[['Year']]","c2cf7254":"df.dropna(inplace=True) # removing all null\/missing values","d02d8199":"df['Year'] = df['Year'].astype(int)\ndf['Year']","7008badd":"df.head(10)","69e69633":"%matplotlib inline\nimport matplotlib as plt\nfrom matplotlib import pyplot\nimport matplotlib.cm as cm\n","daa86de0":"scatter_colors = np.random.random_sample((11,1481))\n# scatter_colors = cm.rainbow(np.linspace(0, 1, 16291))\npyplot.scatter(df['Year'],df['Global_Sales'], c=scatter_colors, cmap='rainbow')","32d5a379":"publishers = df[['Publisher','Year','Global_Sales']]\npublishers.head(15)","8ad20111":"yers=df.groupby('Year')['Global_Sales'].sum()\nyers.plot()","fa9898bc":"publisher_sales= df.groupby(['Publisher'],as_index=False).sum()\npublisher_sales","026644dc":"publisher_sales['Global_Sales'].describe(include='all')","a40f0c87":"## learning binning\n# bins = np.linspace(min(publisher_sales[\"Global_Sales\"]), max(publisher_sales[\"Global_Sales\"]), 5)\n# bins = np.linspace(0.0,100, 4)\nbins = np.array([min(publisher_sales[\"Global_Sales\"]),publisher_sales['Global_Sales'].mean(),102.865446,max(publisher_sales[\"Global_Sales\"])])\nbins","52619b13":"group_names = ['average','better-sellers','best-sellers']","e5037089":"publisher_sales[\"Global_Sales_Binned\"] = pd.cut(publisher_sales[\"Global_Sales\"], bins, labels=group_names, include_lowest=True )\npublisher_sales[['Global_Sales','Global_Sales_Binned']].head(20)","083377cb":"publisher_sales[\"Global_Sales_Binned\"].value_counts()","8d1a7439":"publisher_sales.loc[publisher_sales[\"Global_Sales_Binned\"]=='best-sellers']","9a32a19e":"publisher_sales.loc[publisher_sales[\"Global_Sales_Binned\"]=='better-sellers']","f3c7f164":"best=publisher_sales.loc[publisher_sales[\"Global_Sales_Binned\"]=='best-sellers']\nbest['Publisher']","d62c4df0":"%matplotlib inline\nimport matplotlib as plt\nfrom matplotlib import pyplot\npyplot.bar(group_names, publisher_sales[\"Global_Sales_Binned\"].value_counts())\n\n# set x\/y labels and plot title\nplt.pyplot.xlabel(\"Global Sales\")\nplt.pyplot.ylabel(\"count\")\nplt.pyplot.title(\"Global\")","532cb59f":"plt.style.use(\"seaborn\")\npyplot.barh(best['Publisher'], best['Global_Sales'])\n\n# # set x\/y labels and plot title\nplt.pyplot.xlabel(\"Global Sales in millions\")\nplt.pyplot.title(\"best selling publishers by Global video game sales (1980-2020)\")","bf73eb34":"\n##? a publishers group containing global sales for each year and each game\npubgrp= df[[\"Publisher\",\"Year\",\"Global_Sales\"]]\npubgrp","00c70b66":"#creating a dataframe of highest selling publisher for each year\nmydf = pubgrp.groupby(['Year','Publisher']).agg({'Global_Sales':np.sum})\nmydf= mydf.groupby('Year')['Global_Sales'].nlargest(1).reset_index(level=1,drop=True)","42694d36":"mydf #dataframe of highest selling publisher for each year","edb045d7":"years = np.array([year[0] for year in mydf.index])\nyears","2718110e":"sales=mydf.loc[years].values\nsales","bb059130":"pubs = np.array([year[1] for year in mydf.index])\n# pubs = np.unique(pubs)\npubs","7666d5a2":"mydf.loc[years[0]].index","b0b9253b":"\n\n\nfig, ax = pyplot.subplots(figsize=(20,10))\nplt.style.use(\"seaborn\")\nbars = pyplot.bar(years, mydf.loc[years].values)\nax.bar_label(bars, fmt='%.2f')\n\nax.set_xticks(years)\n\nplt.pyplot.xlabel(\"Global Sales in millions\")\nplt.pyplot.title(\"best selling publishers by Global video game sales (1980-2020)\")","f3311acb":"mydf.plot(kind='barh',figsize=(15,12),use_index=True,title='Top publisher for 1980-2020',fontsize=14,colormap='jet')","793a0cfb":"## A beginner's analysis of the Video Game Sales dataset","7b96cf82":"### finding the best-sellers for each year since 1980"}}