{"cell_type":{"a33e88ea":"code","7af3389d":"code","6b183c87":"code","94d740f2":"code","35e9110c":"code","c6f4d550":"code","b25f81dd":"code","bcc2129f":"code","fc4cb296":"code","b06cad60":"code","746f09a9":"markdown","69758802":"markdown","f33a6ad6":"markdown","a78fd4f8":"markdown","82bbf6e7":"markdown","527ca712":"markdown","27440fb3":"markdown","890b50d1":"markdown","0555cc6a":"markdown","c4665ea9":"markdown","03182aae":"markdown","c23d7e29":"markdown","5c8652d5":"markdown"},"source":{"a33e88ea":"import geopandas as gpd","7af3389d":"# Read in the data\nfull_data = gpd.read_file(\"..\/input\/geospatial-learn-course-data\/DEC_lands\/DEC_lands\/DEC_lands.shp\")\n\n# View the first five rows of the data\nfull_data.head()","6b183c87":"type(full_data)","94d740f2":"data = full_data.loc[:, [\"CLASS\", \"COUNTY\", \"geometry\"]].copy()","35e9110c":"# How many lands of each type are there?\ndata.CLASS.value_counts()","c6f4d550":"# Select lands that fall under the \"WILD FOREST\" or \"WILDERNESS\" category\nwild_lands = data.loc[data.CLASS.isin(['WILD FOREST', 'WILDERNESS'])].copy()\nwild_lands.head()","b25f81dd":"wild_lands.plot()","bcc2129f":"# View the first five entries in the \"geometry\" column\nwild_lands.geometry.head()","fc4cb296":"# Campsites in New York state (Point)\nPOI_data = gpd.read_file(\"..\/input\/geospatial-learn-course-data\/DEC_pointsinterest\/DEC_pointsinterest\/Decptsofinterest.shp\")\ncampsites = POI_data.loc[POI_data.ASSET=='PRIMITIVE CAMPSITE'].copy()\n\n# Foot trails in New York state (LineString)\nroads_trails = gpd.read_file(\"..\/input\/geospatial-learn-course-data\/DEC_roadstrails\/DEC_roadstrails\/Decroadstrails.shp\")\ntrails = roads_trails.loc[roads_trails.ASSET=='FOOT TRAIL'].copy()\n\n# County boundaries in New York state (Polygon)\ncounties = gpd.read_file(\"..\/input\/geospatial-learn-course-data\/NY_county_boundaries\/NY_county_boundaries\/NY_county_boundaries.shp\")","b06cad60":"# Define a base map with county boundaries\nax = counties.plot(figsize=(10,10), color='none', edgecolor='gainsboro', zorder=3)\n\n# Add wild lands, campsites, and foot trails to the base map\nwild_lands.plot(color='lightgreen', ax=ax)\ncampsites.plot(color='maroon', markersize=2, ax=ax)\ntrails.plot(color='black', markersize=1, ax=ax)","746f09a9":"For instance, if we don't plan to use all of the columns, we can select a subset of them.  (_To review other methods for selecting data, check out [this tutorial](https:\/\/www.kaggle.com\/residentmario\/indexing-selecting-assigning\/) from the Pandas micro-course_.)","69758802":"If you're not familiar with the commands above, you are encouraged to bookmark this page for reference, so you can look up the commands as needed.  (_Alternatively, you can take the [Pandas micro-course](https:\/\/www.kaggle.com\/learn\/pandas)._)  We'll use these commands throughout this micro-course to understand and filter data before creating maps.\n\n# Create your first map!\n\nWe can quickly visualize the data with the `plot()` method.","f33a6ad6":"While this column can contain a variety of different datatypes, each entry will typically be a **Point**, **LineString**, or **Polygon**.\n\n![](https:\/\/i.imgur.com\/N1llefr.png)\n\nThe \"geometry\" column in our dataset contains 2983 different Polygon objects, each corresponding to a different shape in the plot above.\n\nIn the code cell below, we create three more GeoDataFrames, containing campsite locations (**Point**), foot trails (**LineString**), and county boundaries (**Polygon**).","a78fd4f8":"You can also use `loc` (and `iloc`) and `isin` to select subsets of the data.  (_To review this, check out [this tutorial](https:\/\/www.kaggle.com\/residentmario\/indexing-selecting-assigning\/) from the Pandas micro-course._)","82bbf6e7":"It looks like the northeastern part of the state would be a great option for a camping trip!\n\n# Your turn\n\nThis feels complex at first, but you've already learned enough to do important analysis. See for yourself as you **[identify remote areas](https:\/\/www.kaggle.com\/kernels\/fork\/5832167)** of the Philippines where a non-profit can expand its operations.\n\n**Special Note**: This is a new course, and your feedback is incredibly valuable! Help us to improve the course by answering one question **[at this link](https:\/\/form.jotform.co\/92764293804869)**.","527ca712":"Every GeoDataFrame contains a special \"geometry\" column.  It contains all of the geometric objects that are displayed when we call the `plot()` method.","27440fb3":"We use the `value_counts()` method to see a list of different land types, along with how many times they appear in the dataset. (_To review this (and related methods), check out [this tutorial](https:\/\/www.kaggle.com\/residentmario\/summary-functions-and-maps) from the Pandas micro-course._)","890b50d1":"There are many, many different geospatial file formats, such as [shapefile](https:\/\/en.wikipedia.org\/wiki\/Shapefile), [GeoJSON](https:\/\/en.wikipedia.org\/wiki\/GeoJSON), [KML](https:\/\/en.wikipedia.org\/wiki\/Keyhole_Markup_Language), and [GPKG](https:\/\/en.wikipedia.org\/wiki\/GeoPackage).  We won't discuss their differences in this micro-course, but it's important to mention that:\n- shapefile is the most common file type that you'll encounter, and \n- all of these file types can be quickly loaded with the `gpd.read_file()` function.\n\nThe next code cell loads a shapefile containing information about forests, wilderness areas, and other lands under the care of the [Department of Environmental Conservation](https:\/\/www.dec.ny.gov\/index.html) in the state of New York.  ","0555cc6a":"# Introduction\n\nIn this micro-course, you'll learn about different methods to wrangle and visualize **geospatial data**, or data with a geographic location.\n\n<center>\n<img src=\"https:\/\/i.imgur.com\/v6ZUGgI.png\"><br\/>\n<\/center>\n\nAlong the way, you'll offer solutions to several real-world problems like:\n- Where should a global non-profit expand its reach in remote areas of the Philippines?\n- How do purple martins, a threatened bird species, travel between North and South America?  Are the birds travelling to conservation areas?\n- Which areas of Japan could potentially benefit from extra earthquake reinforcement?\n- Which Starbucks stores in California are strong candidates for the next [Starbucks Reserve Roastery](https:\/\/www.forbes.com\/sites\/garystern\/2019\/01\/22\/starbucks-reserve-roastery-its-spacious-and-trendy-but-why-is-starbucks-slowing-down-expansion\/#6cb80d4a1bc6) location?\n- Does New York City have sufficient hospitals to respond to motor vehicle collisions?  Which areas of the city have gaps in coverage?\n\nYou'll also visualize crime in the city of Boston, examine health facilities in Ghana, explore top universities in Europe, and track releases of toxic chemicals in the United States.\n\nIn this first tutorial, we'll quickly cover the pre-requisites that you'll need to complete this micro-course.  And, if you'd like to review more deeply, we recommend the **[Pandas micro-course](https:\/\/www.kaggle.com\/learn\/pandas)**.  \n\nWe'll also get started with visualizing our first geospatial dataset!\n\n<div class=\"alert alert-block alert-info\">\nTo create your own copy of this notebook (where you can run the code yourself!), <b><a href=\"https:\/\/www.kaggle.com\/kernels\/fork\/5832150\">click here<\/a><\/b>.  \n<\/div>\n\n# Reading data\n\nThe first step is to read in some geospatial data!  To do this, we'll use the [GeoPandas](http:\/\/geopandas.org\/) library.","c4665ea9":"---\n**[Geospatial Analysis Home Page](https:\/\/www.kaggle.com\/learn\/geospatial-analysis)**\n\n\n\n\n\n*Have questions or comments? Visit the [Learn Discussion forum](https:\/\/www.kaggle.com\/learn-forum) to chat with other Learners.*","03182aae":"**[Geospatial Analysis Home Page](https:\/\/www.kaggle.com\/learn\/geospatial-analysis)**\n\n---\n","c23d7e29":"Next, we create a map from all four GeoDataFrames.  \n\nThe `plot()` method takes as (optional) input several parameters that can be used to customize the appearance.  Most importantly, setting a value for `ax` ensures that all of the information is plotted on the same map.","5c8652d5":"As you can see in the \"CLASS\" column, each of the first five rows corresponds to a different forest.  \n\nFor the rest of this tutorial, consider a scenario where you'd like to use this data to plan a weekend camping trip.  Instead of relying on crowd-sourced reviews online, you decide to create your own map.  This way, you can tailor the trip to your specific interests. \n\n# Prerequisites\n\nTo view the first five rows of the data, we used the `head()` method.  You may recall that this is also what we use to preview a Pandas DataFrame.  In fact, every command that you can use with a DataFrame will work with the data!  \n\nThis is because the data was loaded into a (GeoPandas) **GeoDataFrame** object that has all of the capabilities of a (Pandas) DataFrame."}}