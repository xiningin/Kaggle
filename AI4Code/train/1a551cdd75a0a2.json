{"cell_type":{"acd08654":"code","c7824427":"code","312ed4cc":"code","b6c117e2":"code","f6715507":"code","ff247131":"code","8406e85e":"code","416c2ff5":"markdown","fc33d146":"markdown","ed43e727":"markdown","27c53909":"markdown","957e5754":"markdown"},"source":{"acd08654":"from pprint import pprint\nimport json\nimport sqlite3\n\nimport matplotlib.image as mpimg\nimport matplotlib.pyplot as plt\nimport pandas as pd","c7824427":"img = mpimg.imread(\"..\/input\/img\/00242.jpg\")\nplt.imshow(img)","312ed4cc":"conn = sqlite3.connect(\"..\/input\/metadata.sqlite\")\ndf = pd.read_sql_query(\"\"\"\nSELECT json_extract(data, '$.BIN_FCSKU_DATA') AS data,\n    json_extract(data, '$.EXPECTED_QUANTITY') AS qnty\nFROM metadata\nWHERE img_id = '00242';\n\"\"\", conn)","b6c117e2":"df","f6715507":"pprint(json.loads(df.loc[0, \"data\"]))","ff247131":"df = pd.read_sql_query(\"\"\"\nSELECT json_extract(data, '$.BIN_FCSKU_DATA') AS data,\n    json_extract(data, '$.EXPECTED_QUANTITY') AS qnty\nFROM metadata;\n\"\"\", conn)\ndf.data = df.data.apply(json.loads)","8406e85e":"df","416c2ff5":"## Conclusion\nThis concludes your starter analysis! To go forward from here, click the blue \"Edit Notebook\" button at the top of the kernel. This will create a copy of the code and environment for you to edit. Delete, modify, and add code as you please. Happy Kaggling!","fc33d146":"To read the corresponding metadata, we need to query the database. The database has two fields where first column is image id (`img_id`) and the second column is `data` which contains json object. The json object has two main keys. The `BIN_FCSKU_DATA` key returns the data about the image like height, width, weight etc. of the objects in the image while the `EXPECTED_QUANTITY` contains how many items are contained in the bin. We can use the inbuilt json functionality of the SQLite database to get our results.","ed43e727":"To get all the rows, remove the `WHERE` contraint from the query to create the whole dataframe.","27c53909":"Let's read a random image and its associated metadata: `00242.jpg`","957e5754":"## Introduction\n\nThis is a starter code demonstrating how to read in the data and begin exploring. The dataset has two sections. One is the `img` folder which consists the image and the another one is the `metadata.sqlite` database which consists of the metadata pertaining to the respective images. I will demonstrate how to access them here."}}