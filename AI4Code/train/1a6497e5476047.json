{"cell_type":{"f7420c21":"code","1caefa53":"code","1bbfcb0a":"code","0997bde0":"code","e5190850":"code","1150c2af":"code","b0ee2e45":"code","54c012b4":"code","8b3a5e7a":"code","5f7f1e73":"code","8dcecdbf":"code","2db6db5c":"code","47d77e1c":"code","a04eee65":"code","cb49693d":"code","4eb24397":"code","a5b0d879":"code","5be9e83f":"code","32c599c7":"code","19eddc82":"code","30b7a2a9":"code","5be65e71":"code","dfab39d5":"code","603c62e3":"code","a8d9c53f":"code","756f8390":"code","b68e6b2d":"code","bc36c65d":"code","07a7e58c":"code","1915cef8":"code","cbd9aea4":"code","6884945f":"code","84e36d77":"code","2e1505c2":"code","75efbf0b":"code","5fee4cbb":"code","69827802":"code","373efacf":"code","800fafcf":"code","e5380de6":"markdown","3e25baf2":"markdown","e54d3f20":"markdown","9fbedf96":"markdown","05e9e5c3":"markdown","01d54e13":"markdown","5aba2dcc":"markdown","c7cb761f":"markdown","602cffa9":"markdown","0b3a0ec9":"markdown","4c0b7b74":"markdown","e25bdeea":"markdown","f870c625":"markdown","774e5b72":"markdown","3e37b8ac":"markdown","8d2c4b17":"markdown","8987b605":"markdown"},"source":{"f7420c21":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport plotly.graph_objects as go\nimport plotly.express as px\n%matplotlib inline ","1caefa53":"matches = pd.read_csv('..\/input\/uefa-euro-championship\/Uefa Euro Cup All Matches.csv')\nplayers = pd.read_csv('..\/input\/uefa-euro-championship\/Uefa Euro Cup All Players.csv')\nteams_stats = pd.read_csv('..\/input\/uefa-euro-championship\/Uefa Euro Cup Participated Teams General Statistics.csv')\ncups_stats=pd.read_csv('..\/input\/uefa-euro-championship\/Uefa Euro Cup General Statistics.csv')","1bbfcb0a":"matches.head()","0997bde0":"matches.info()","e5190850":"players.head()","1150c2af":"players.info()","b0ee2e45":"teams_stats.head()","54c012b4":"teams_stats.info()","8b3a5e7a":"cups_stats.head()","5f7f1e73":"cups_stats.info()","8dcecdbf":"matches['HomeTeamName'] = matches['HomeTeamName'].apply(lambda x : x.replace(u'\\xa0', u'')).apply(lambda x : x.strip())\nmatches['AwayTeamName'] = matches['AwayTeamName'].apply(lambda x : x.replace(u'\\xa0', u'')).apply(lambda x : x.strip())","2db6db5c":"matches.replace('Soviet Union','Russia',inplace=True)\nmatches.replace('West Germany','Germany',inplace=True)\ncups_stats.replace('Soviet Union','Russia',inplace=True)\ncups_stats.replace('West Germany','Germany',inplace=True)","47d77e1c":"games_by_city=matches.groupby(['City']).size()\ngames_by_city = games_by_city.reset_index()","a04eee65":"games_by_city.head()\ngames_by_city.columns = ['City','Number of games']\ngames_by_city","cb49693d":"top_cities = games_by_city.nlargest(10, ['Number of games']) ","4eb24397":"plt.figure(figsize=(20,10))\nfig = px.bar(top_cities, x='City', y='Number of games',color='Number of games')\nfig.update_layout(title='Number of games played in each city in all tournaments',\n                   xaxis_title='City',\n                   yaxis_title='Number of Games')\nfig.show()","a5b0d879":"top_attendance=matches[['City','Attendance','Year']].groupby(['Year']).max()","5be9e83f":"top_attendance=top_attendance.reset_index()","32c599c7":"plt.figure(figsize=(20,10))\nfig = go.Figure(data=[go.Bar(\n            x=top_attendance['Year'], y=top_attendance['Attendance'],\n            text=top_attendance['City'],\n            textposition='outside',\n        )])\nfig.update_layout(title='Most Attendance in the tournament',\n                   xaxis_title='Year',\n                   yaxis_title='Attendance')\nfig.show()","19eddc82":"time_plot_1=go.Figure(go.Scatter(x=top_attendance['Year'], y=top_attendance['Attendance'],\n                                 mode='lines+markers', line={'color': 'red'}))\ntime_plot_1.update_layout(title='Most Attendance in the tournament',\n                   xaxis_title='Year',\n                   yaxis_title='Attendance')\n#showing the figure\ntime_plot_1.show()","30b7a2a9":"matches.head()","5be65e71":"matches['Year']=matches['Date'].apply(lambda x : x.split('(')[0]).apply(lambda x : x.split()[-1]).astype(int)","dfab39d5":"matches.head()","603c62e3":"merged_data = pd.merge(matches,cups_stats, on=['Year', 'Year'])","a8d9c53f":"merged_data.head()","756f8390":"merged_data = merged_data[['Year','HomeTeamName','AwayTeamName','Host','HomeTeamGoals','AwayTeamGoals']]","b68e6b2d":"merged_data['Host'].tolist()","bc36c65d":"merged_data['Host']=merged_data['Host'].apply(lambda x : x.split())","07a7e58c":"splitted_data=pd.DataFrame([\n    [year,Hometeam,awayteam, host, hgoals,agoals] for year,Hometeam,awayteam,Hosts, hgoals,agoals in merged_data.values\n    for host in Hosts\n], columns=merged_data.columns)","1915cef8":"splitted_data[splitted_data['Year']==2012]","cbd9aea4":"merged_data = splitted_data","6884945f":"merged_data = merged_data[(merged_data['HomeTeamName']==merged_data['Host'])|(merged_data['AwayTeamName']==merged_data['Host'])]\n","84e36d77":"home_win = merged_data['HomeTeamGoals']>merged_data['AwayTeamGoals']\nhome_name = merged_data['HomeTeamName']==merged_data['Host']\naway_win = merged_data['AwayTeamGoals']>merged_data['HomeTeamGoals']\naway_name = merged_data['AwayTeamName']==merged_data['Host']","2e1505c2":"merged_data['Wins']=((home_win & home_name)|(away_win & away_name))","75efbf0b":"merged_data.head()","5fee4cbb":"final_data = merged_data.groupby(['Year','Host']).sum()['Wins']\/merged_data.groupby(['Year']).count()['Wins']","69827802":"final_data = final_data.reset_index()","373efacf":"final_data['Wins']=final_data['Wins'] * 100 ","800fafcf":"plt.figure(figsize=(20,10))\nfig = px.bar(final_data, x='Year', y='Wins',color='Wins',hover_data=['Host'])\nfig.update_layout(title='Win Percentage for the Hosts',\n                   xaxis_title='Year',\n                   yaxis_title='Win Percentage')\nfig.show()","e5380de6":"<a id='eda'><\/a>\n## Exploratory Data Analysis","3e25baf2":"Now let's check the trend","e54d3f20":"<a id='wrangling'><\/a>\n## Data Wrangling","9fbedf96":"<a id='intro'><\/a>\n## Introduction\n\n> Uefa Euro Championship Dataset contains data about all matches , all players participated , participated teams and general statistics for all teams participated in the famous football competition Euro which started in 1960 and played every 4 years since then . \n","05e9e5c3":"Split Multiple Hosts ","01d54e13":"Clean HomeTeamName and AwayTeamName from any latin space ","5aba2dcc":"Now that we have all games for hosts let's get percentage of winning ","c7cb761f":"get the necessary columns ","602cffa9":"Check for splitted hosts , i will check on 2012 tournament that hosted by poland and ukraine ","0b3a0ec9":"Let's see win ratio for the host team in each tournament","4c0b7b74":"Let's begin with number of matches played in each city ","e25bdeea":"I will extract the year from Date column to be able to merge matches and cups_stats tables so i can get the host column . ","f870c625":"# Notes \n\n> Special win condition column consists mainly of missing values , since most of matches are in group stages or ended with a winner .\n\n> most of players have null goals or caps , as these statistics wasn't recorded that time .\n\n> Player of the Tournament has 6 values only ( Since it is a new prize ) .\n\n> Some countries are referenced with there old names like soviet union ","774e5b72":"successfully splitted ! now move on ","3e37b8ac":"# Euro Championship Analysis\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<\/ul>","8d2c4b17":"Replace old names of countries with the new ones ","8987b605":"Next let's see city with maximum attendance in each tournament "}}