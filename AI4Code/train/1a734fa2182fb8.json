{"cell_type":{"1f49a955":"code","c1e8f920":"code","8dc3e280":"code","0d925fa7":"code","dfa6bd01":"code","caba02cd":"code","36ae8dbc":"code","7d6ccadd":"code","d6690694":"code","c2fdfbb5":"code","0228cd44":"code","271652ce":"code","3f912553":"code","b6e0a258":"code","4fbc3cd3":"code","627ffac4":"code","e8853704":"code","defa3eee":"markdown","2f071ee1":"markdown","1834ad5d":"markdown","181d78a5":"markdown","b983d9dd":"markdown","f1146c7d":"markdown","f780e453":"markdown","0a798b12":"markdown","13b742d9":"markdown","5711ee0d":"markdown","353fac6a":"markdown","3743a016":"markdown","15d77e2d":"markdown","07a78c4a":"markdown"},"source":{"1f49a955":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","c1e8f920":"# Loading the data\n\ntrain_df = pd.read_csv(\"\/kaggle\/input\/train_AUpWtIz\/train.csv\")\nitem_df = pd.read_csv(\"\/kaggle\/input\/train_AUpWtIz\/item_data.csv\")\ntransactions_df = pd.read_csv(\"\/kaggle\/input\/train_AUpWtIz\/customer_transaction_data.csv\")\ncampaign_df = pd.read_csv(\"\/kaggle\/input\/train_AUpWtIz\/campaign_data.csv\")\ndemographics_df = pd.read_csv(\"\/kaggle\/input\/train_AUpWtIz\/customer_demographics.csv\")","8dc3e280":"print(\"Train Shape \", train_df.shape)\nprint(\"Unique Campaign \", train_df.campaign_id.nunique())\nprint(\"Unique Coupon \", train_df.coupon_id.nunique())\nprint(\"Unique Customer \", train_df.customer_id.nunique())\ntrain_df.head()","0d925fa7":"sns.countplot(train_df.redemption_status)","dfa6bd01":"print(\"Number of Unique Id \", item_df['item_id'].nunique())\nprint(\"Number of Brands \", item_df['brand'].nunique())\nitem_df.head()","caba02cd":"sns.countplot(item_df['brand_type'])","36ae8dbc":"plt.figure(figsize=(10, 5))\nax = sns.countplot(item_df['category'])\n\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.tight_layout()\nplt.show()","7d6ccadd":"print(\"Number of Transactions \", transactions_df.shape[0])\ntransactions_df.head()","d6690694":"sns.distplot(transactions_df['selling_price'])","c2fdfbb5":"# lets check to see how many transactions used the coupon discount\n\ntransactions_df['coupon_discount'].value_counts().head()","0228cd44":"# lets look at the largest discount\n\nprint(transactions_df['coupon_discount'].min())\n\n# lets look at the row for this item\n\nprint(transactions_df[transactions_df['coupon_discount'] == transactions_df['coupon_discount'].min()])","271652ce":"print(\"Number of Campaigns \", campaign_df['campaign_id'].nunique())\n\ncampaign_df.head()","3f912553":"sns.countplot(campaign_df['campaign_type'])","b6e0a258":"print(\"Number of Users \", demographics_df['customer_id'].nunique())\n\ndemographics_df.head()","4fbc3cd3":"fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\n\nsns.countplot(demographics_df['age_range'], ax=axes[0])\nsns.countplot(demographics_df['marital_status'].fillna('null'), ax=axes[1])","627ffac4":"fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\n\nsns.countplot(demographics_df['rented'].fillna('null'), ax=axes[0])\nsns.countplot(demographics_df['family_size'].fillna('null'), ax=axes[1])","e8853704":"fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\n\nsns.countplot(demographics_df['no_of_children'].fillna('null'), ax=axes[0])\nsns.countplot(demographics_df['income_bracket'].fillna('null'), ax=axes[1])","defa3eee":"Except for the two types of campaign which doesn't yield us much info, we can generate features from the start date and the end date.","2f071ee1":"This describes the contents of the items. Established items comes from the very popular country wide services and local items like the name suggests should be from close by. Nonetheless it makes for some categorical features for our final analysis.","1834ad5d":"# American Express - Exploratory Analysis\n\nThis kernel is meant to explore the data and build a model eventually. I've written down my own thoughts regarding why I think some part are important and some parts are not. Do feel free to use any of these parts for inspiration or blatantly copy from it. I don't mind either way. Do let me know if you feel I could do better too!\n\n* EDA\n* Merging the Data\n* EDA\n* Tackling Class Imbalance\n* Modelling - Hyperparameter and Model selection","181d78a5":"Demographics are the most interesting type of data. We can by looking at the age say that mostly young people redeem coupons. \nAnd chances are it's mostly single people too. So these are very important columns and we can't drop them.","b983d9dd":"It's a very interesting row. It looks to me that either the shop had to pay the customer to \\$171 to take home a commodity which costs around $2k or it's a mistake of some sort. We'll just let it be there for now. Other than that the price and discount variables provide valuble information to predict our final output if our coupon was redeemed or not.","f1146c7d":"## Merging the Data ","f780e453":"### Transactions","0a798b12":"### Train DF","13b742d9":"These are also important, renting a place could be done by frugal people who are also more likely to redeem coupons. So very important features. Family size would also play a significant role. A family of 5+ would have to do a lot of shopping, so it's likely that they use coupon code due to their high-frequency visits to the shop.","5711ee0d":"### Item DF","353fac6a":"### Demographics DF","3743a016":"Here we can see that our response variable (y) is highly imbalanced. We should factor for class imbalance before making any predictions. For help, we could refer to kernels which tackle class imbalance in banking data, for example, fraud detection.","15d77e2d":"### Campaign DF","07a78c4a":"Same as the above, no of children could be an important identified. Also I'd say income bracket is one of the most important feature as if you're rich, there's no reason for you to use coupons. So all these could be very valuable predictors."}}