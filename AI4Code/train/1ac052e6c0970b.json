{"cell_type":{"f51bad11":"code","402e2722":"code","087ba9e2":"code","8e6c6262":"code","5c9c5121":"code","598ea15e":"code","dbe528af":"code","67ca014c":"code","ac73c663":"code","3977214f":"code","ed22ddf2":"code","81236880":"code","1b1142bd":"code","4b86d447":"code","a2165324":"code","9fd88ec6":"code","8978d61f":"code","c4ab0b08":"code","a3c3972b":"code","4c0e7833":"code","e3d07b30":"code","dd2bf1a3":"code","ae3e4450":"code","d8106dc0":"code","b7810ffc":"markdown","5f3c4ce1":"markdown","d80fca40":"markdown","3b633adc":"markdown","f94948d9":"markdown","601538c8":"markdown","11782e99":"markdown","b7b8ba66":"markdown","cbacf2aa":"markdown","82f07cd5":"markdown","33a2e7a4":"markdown","9f1ed79f":"markdown","1030e75d":"markdown","9aa5889f":"markdown","5bdb0d29":"markdown","a09ca1dc":"markdown","622abd2c":"markdown","3259a7e8":"markdown","e7c5e102":"markdown","b55b905a":"markdown","4655c5d5":"markdown"},"source":{"f51bad11":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport datetime as dt\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","402e2722":"data = pd.read_csv('\/kaggle\/input\/ice-hockey-khl-dataset\/KHL_v1.csv')","087ba9e2":"data","8e6c6262":"data.shape","5c9c5121":"data.info()","598ea15e":"data.columns = data.columns.str.lower()\nprint(data.columns)","dbe528af":"data","67ca014c":"data['date']=pd.to_datetime(data['date'], format='%m\/%d\/%Y')\ndata['monthname']=data['date'].dt.month_name()\ndata['year']=data['date'].dt.year\ndata['day'] = data['date'].dt.day\ndata['weekday']=data['date'].dt.day_name()","ac73c663":"data['season'].unique()","3977214f":"print(data['hometeam'].unique())\nprint('________________________')\nprint(data['awayteam'].unique())\nprint('________________________')\nprint(data['winner'].unique())\nprint('________________________')","ed22ddf2":"data['add'] = data['add'].fillna('Main time')","81236880":"data['agot']=data['agot'].fillna(0)\ndata['hgot']=data['hgot'].fillna(0)\ndata['agso']=data['agso'].fillna(0)\ndata['hgso']=data['hgso'].fillna(0)\ndata['totalot']= data['totalot'].fillna(0)","1b1142bd":"data","4b86d447":"data.pivot_table(index = 'year',values = 'totalfull').plot(grid = True,color = 'red',figsize=[15,5])","a2165324":"data.boxplot('totalfull')","9fd88ec6":"data.query('totalfull>13')","8978d61f":"data.pivot_table(index = ['month'] , values = 'totalfull').plot.barh(color='red',grid = True,figsize = [10,5],xlim=(4,5.5))","c4ab0b08":"print('Home goals leaders')\nprint(data.pivot_table(index= 'hometeam',values = 'hg').sort_values(by = 'hg',ascending=False).reset_index().head(10))\nprint('Away goals leaders')\nprint(data.pivot_table(index= 'awayteam',values = 'ag').sort_values(by = 'ag',ascending=False).reset_index().head(10))","a3c3972b":"print('Misses goals at home.')\nprint(data.pivot_table(index= 'hometeam',values = 'ag').sort_values(by = 'ag',ascending=False).reset_index().head(10))\nprint('Misses goals away.')\nprint(data.pivot_table(index= 'awayteam',values = 'hg').sort_values(by = 'hg',ascending=False).reset_index().head(10))","4c0e7833":"data.pivot_table(index = 'hometeam',values = ['hg','ag']).sort_values(by='hg',ascending=True).plot.barh(xlim=(1.5,3.5),figsize=[5,15],grid=True)","e3d07b30":"data.pivot_table(index = 'awayteam',values = ['ag','hg']).sort_values('ag',ascending=True).plot.barh(grid=True,figsize=[5,15],xlim=(1.5,3.9))","dd2bf1a3":"data.query('totalot>0').pivot_table(index = 'year',values = 'winner',aggfunc = 'count').plot(style= 'o-',grid=True,figsize=[15,5])","ae3e4450":"data.query('hg1>2').pivot_table(index = 'winner',values='hg1',aggfunc ='count').sort_values('hg1').plot.barh(grid=True,color='red',figsize=[10,7])","d8106dc0":"plt.figure(figsize=(20,20))\np=sns.heatmap(data.corr(), annot=True,cmap='RdYlGn',square=True) ","b7810ffc":"## 2.Data Cleaning","5f3c4ce1":"Change the formats date.","d80fca40":"The graphs show the difference between forgotten heads at home and missed heads.","3b633adc":"The average number of goals per game, we can see the peak of 2014 and the trend of decline from year to year.","f94948d9":"Lower case column names.","601538c8":"We have several emissions by the number of pucks scored per game, we need to take a closer look at such productive meetings.","11782e99":"We will replace the teams that did not get the data for the teams that finished their games in the main time with the value 0.","b7b8ba66":"Change in data['add'] 'Nan'- data substitute for 'main time'","cbacf2aa":"There are missing data, many columns belong to the wrong type of data that is specified in and can be applied. ","82f07cd5":"Look cearfuly data['season']","33a2e7a4":"The number of games whose outcome was decided only in extra time, it is clear that in 2018 a lot of games were with extra time.","9f1ed79f":"The graphs show the difference between guest forgotten heads and missed heads.","1030e75d":"### Conclusions:\nAll values have been replaced and are ready for use and graphical investigation. ","9aa5889f":"## 3. Data Research","5bdb0d29":"# date","a09ca1dc":"**\u0421onclusion :**\nWe can see that the average number of goals per game began to decrease.","622abd2c":"Let's move on to the columns. We will gradually convert to the required format and replace missed data with necessary or suitable ones.","3259a7e8":"The number of games whose outcome was already seen in the first period, the strongest team in this regard is SKA St. Petersburg.\n","e7c5e102":"## 1. Read Data","b55b905a":"All team name unique, and this part of data not need a clearing","4655c5d5":"You can see that by the end of the season the teams are tired and their efficiency starts to decrease. In January, the maximum efficiency of teams on the face."}}