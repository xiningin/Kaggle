{"cell_type":{"f8db5b3e":"code","f3e6880d":"code","a7257c38":"code","cdd3357f":"code","1211c31e":"code","66e43ff9":"code","a47bf2bf":"code","8cd77c4a":"code","1fdad09c":"code","ee63ef3e":"code","0df1eb0b":"code","97cfc0eb":"code","6f9a8868":"code","6e026606":"code","c0f3fdac":"code","82b6f123":"code","0dbdcc46":"code","82693362":"code","1b391f1e":"code","826ff08d":"code","ebbc8469":"code","7a2bd21d":"code","b5778455":"code","554fa81f":"code","4b5167d4":"code","6b54e6a2":"markdown","2bcb25f0":"markdown","cdfd186a":"markdown","fc91378f":"markdown","7014a69b":"markdown","c994d66d":"markdown","f586edb7":"markdown","e5110e24":"markdown","1c1588c9":"markdown","fe92215c":"markdown","af12bdbf":"markdown","392127a4":"markdown","85b0f744":"markdown","f479f0e8":"markdown","3f39889a":"markdown","532c676a":"markdown","055fb0f6":"markdown"},"source":{"f8db5b3e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","f3e6880d":"import geopandas as gpd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.axes_grid1 import make_axes_locatable","a7257c38":"# read the file of 'indicators'\ndata = pd.read_csv('\/kaggle\/input\/world-development-indicators\/Indicators.csv')","cdd3357f":"data = data.loc[data['IndicatorCode'].isin(['NY.GDP.PCAP.KD','EN.URB.LCTY.UR.ZS','SP.URB.TOTL.IN.ZS','EN.URB.LCTY.UR.ZS','EN.URB.MCTY.TL.ZS'])]","1211c31e":"df = data.loc[(data['IndicatorCode']=='SP.URB.TOTL.IN.ZS')&(data['Year'].isin([1960,2010]))]\ndf = df.pivot_table('Value', ['CountryName', 'Year'], 'IndicatorName')\ndf.reset_index(inplace=True)\ndf['Year']=df['Year'].astype(int)\ndf.rename(columns={'CountryName':'country', 'Urban population (% of total)':'urban_percent','Year':'year'}, inplace=True)\ndf.head()","66e43ff9":"# read the file for the world map using GeoPandas\nworld = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))","a47bf2bf":"country_data = list(df['country'].unique())\ncountry_geo = list(world['name'])\ncountry_diff = [country for country in country_data if country not in country_geo]\ncountry_diff","8cd77c4a":"CountryChanged = pd.DataFrame(df['country'].replace({'Bahamas, The':'Bahamas','Bosnia and Herzegovina':'Bosnia and Herz.','Brunei Darussalam':'Brunei','Central African Republic':'Central African Rep.','Congo, Dem. Rep.':'Dem. Rep. Congo','Congo, Rep.':'Congo', \"Cote d'Ivoire\": \"C\u00f4te d'Ivoire\", 'Czech Republic': 'Czechia', 'Dominican Republic': 'Dominican Rep.', 'Egypt, Arab Rep.': 'Egypt', 'Equatorial Guinea': 'Eq. Guinea', 'Gambia, The': 'Gambia', 'Iran, Islamic Rep.': 'Iran', 'Korea, Dem. Rep.': 'North Korea', 'Korea, Rep.': 'South Korea', 'Kyrgyz Republic': 'Kyrgyzstan', 'Lao PDR': 'Laos', 'Macedonia, FYR': 'Macedonia', 'Mauritius': 'Mauritania', 'Russian Federation': 'Russia', 'Slovak Republic': 'Slovakia', 'Solomon Islands': 'Solomon Is.','South Sudan': 'S. Sudan', 'Syrian Arab Republic': 'Syria', 'United States': 'United States of America', 'Venezuela, RB': 'Venezuela', 'Yemen, Rep.': 'Yemen'}))\ndf['country'] =  CountryChanged","1fdad09c":"df1960 = df.loc[df['year'] == 1960]\ndf2010 = df.loc[df['year'] == 2010]","ee63ef3e":"# combining two dataframe\nmapped1960 = world.set_index('name').join(df1960.set_index('country')).reset_index()\nmapped2010 = world.set_index('name').join(df2010.set_index('country')).reset_index()","0df1eb0b":"#creating worldcolormap function\ndef Worldcolormap(VariableName, JointDF,TitleName):\n    variable = VariableName\n    fig,ax = plt.subplots(1, figsize=(15,15))\n    divider = make_axes_locatable(ax)\n    cax = divider.append_axes(\"right\", size=\"3%\", pad=0.1)\n    JointDF.dropna(subset=[VariableName]).plot(column=variable, cmap ='Blues',ax=ax,cax=cax, linewidth=0.8, edgecolors='0.8', legend=True)\n    ax.set_title(TitleName, fontdict={'fontsize':20})\n    ax.set_axis_off()","97cfc0eb":"Worldcolormap('urban_percent', mapped1960, 'Urban Population (% of Total Population) in 1960')","6f9a8868":"Worldcolormap('urban_percent', mapped2010, 'Urban Population (% of Total Population) in 2010')","6e026606":"# GDP per capita for three groups of the countries\nhic_gdpcapita =data[(data['CountryCode']=='OEC')&(data['IndicatorCode']=='NY.GDP.PCAP.KD')]\nmic_gdpcapita =data[(data['CountryCode']=='MIC')&(data['IndicatorCode']=='NY.GDP.PCAP.KD')]\nlic_gdpcapita =data[(data['CountryCode']=='LIC')&(data['IndicatorCode']=='NY.GDP.PCAP.KD')]","c0f3fdac":"# Line Plot for GDP per capita over Time\nwidth = 8\nheight = 7\nplt.figure(figsize=(width,height))\n    \nplt.style.use('seaborn-darkgrid')\npalette = plt.get_cmap('Set1')\n\nplt.plot(hic_gdpcapita.Year, hic_gdpcapita.Value, marker='', color=palette(1), linewidth=1, alpha=0.9, label = 'High Income Countries')\nplt.plot(mic_gdpcapita.Year, mic_gdpcapita.Value, marker='', color=palette(2), linewidth=1, alpha=0.9, label = 'Middle Income Countries')\nplt.plot(lic_gdpcapita.Year, lic_gdpcapita.Value, marker='', color=palette(3), linewidth=1, alpha=0.9, label = 'Low Income Countries')\n\nplt.legend(loc=2, ncol=1, fontsize=15)\nplt.title('GDP per capita', loc='center', fontsize=15, fontweight=0)\nplt.xlabel(\"Year\", fontsize=15)\nplt.ylabel(\"constant 2005 US$\", fontsize=15)","82b6f123":"# urban population (% of total population) for each income level\nhic_city =data[(data['CountryCode']=='OEC')&(data['IndicatorCode']=='SP.URB.TOTL.IN.ZS')]\nmic_city =data[(data['CountryCode']=='MIC')&(data['IndicatorCode']=='SP.URB.TOTL.IN.ZS')]\nlic_city =data[(data['CountryCode']=='LIC')&(data['IndicatorCode']=='SP.URB.TOTL.IN.ZS')]","0dbdcc46":"# population in urban agglomerations of more than 1 million (% of total population) for each income level\nhic_large =data[(data['CountryCode']=='OEC')&(data['IndicatorCode']=='EN.URB.MCTY.TL.ZS')]\nmic_large =data[(data['CountryCode']=='MIC')&(data['IndicatorCode']=='EN.URB.MCTY.TL.ZS')]\nlic_large =data[(data['CountryCode']=='LIC')&(data['IndicatorCode']=='EN.URB.MCTY.TL.ZS')]","82693362":"# population in the largest city (% of urban population) for each income level\nhic_largest =data[(data['CountryCode']=='OEC')&(data['IndicatorCode']=='EN.URB.LCTY.UR.ZS')]\nmic_largest =data[(data['CountryCode']=='MIC')&(data['IndicatorCode']=='EN.URB.LCTY.UR.ZS')]\nlic_largest =data[(data['CountryCode']=='LIC')&(data['IndicatorCode']=='EN.URB.LCTY.UR.ZS')]","1b391f1e":"# Creating 'population in the largest city (% of total population)' for high income countries\nhic_largest = hic_largest.rename(columns={'Value':'LargestUrban'})\nhic_largest = pd.merge(hic_largest, hic_city, how='inner', on=['CountryName','CountryCode','Year'])\nhic_largest['LargestTotal'] = (hic_largest['LargestUrban']*hic_largest['Value'])\/100\nhic_largest = hic_largest.drop(columns=['IndicatorName_x','IndicatorCode_x','IndicatorName_y','IndicatorCode_y','LargestUrban','Value'])\nhic_largest = hic_largest.rename(columns={'LargestTotal':'Value'})\n\n# Creating 'population in the largest city (% of total population)' for middle income countries\nmic_largest = mic_largest.rename(columns={'Value':'LargestUrban'})\nmic_largest = pd.merge(mic_largest, mic_city, how='inner', on=['CountryName','CountryCode','Year'])\nmic_largest['LargestTotal'] = (mic_largest['LargestUrban']*mic_largest['Value'])\/100\nmic_largest = mic_largest.drop(columns=['IndicatorName_x','IndicatorCode_x','IndicatorName_y','IndicatorCode_y','LargestUrban','Value'])\nmic_largest = mic_largest.rename(columns={'LargestTotal':'Value'})\n\n# Creating 'population in the largest city (% of total population)' for low income countries\nlic_largest = lic_largest.rename(columns={'Value':'LargestUrban'})\nlic_largest = pd.merge(lic_largest, lic_city, how='inner', on=['CountryName','CountryCode','Year'])\nlic_largest['LargestTotal'] = (lic_largest['LargestUrban']*lic_largest['Value'])\/100\nlic_largest = lic_largest.drop(columns=['IndicatorName_x','IndicatorCode_x','IndicatorName_y','IndicatorCode_y','LargestUrban','Value'])\nlic_largest = lic_largest.rename(columns={'LargestTotal':'Value'})","826ff08d":"def Urbantrends(TitleName, Highincome, Middleincome, Lowincome):\n    \n    plt.plot(Highincome.Year, Highincome.Value, marker='', color=palette(1), linewidth=1, alpha=0.9, label = 'High Income Countries')\n    plt.plot(Middleincome.Year, Middleincome.Value, marker='', color=palette(2), linewidth=1, alpha=0.9, label = 'Middle Income Countries')\n    plt.plot(Lowincome.Year, Lowincome.Value, marker='', color=palette(3), linewidth=1, alpha=0.9, label = 'Low Income Countries')\n    plt.legend(loc=2, ncol=1, fontsize=10)\n    plt.title(TitleName, loc='center', fontsize=15, fontweight=0)\n    plt.xlabel(\"Year\", fontsize=15)\n    plt.ylabel(\"% of Total Population\", fontsize=15)\n    plt.ylim(0,100)","ebbc8469":"# Graphs for Urbanization\nwidth = 18\nheight = 6\nplt.figure(figsize=(width,height))\n    \nplt.style.use('seaborn-darkgrid')\npalette = plt.get_cmap('Set1')\n    \nplt.subplot(131)\nUrbantrends('Population in Any Cities', hic_city, mic_city, lic_city)\n    \nplt.subplot(132)\nUrbantrends('Population in Large Cities', hic_large, mic_large, lic_large)\n\nplt.subplot(133)\nUrbantrends('Population in the Largest City', hic_largest, mic_largest, lic_largest)","7a2bd21d":"def Urbantrends(TitleName, Largest, Large, Any):\n    \n    plt.plot(Largest.Year, Largest.Value, marker='', color=palette(1), linewidth=1, alpha=0.9, label = 'Population in the Largest City')\n    plt.plot(Large.Year, Large.Value, marker='', color=palette(2), linewidth=1, alpha=0.9, label = 'Population in Large Cities')\n    plt.plot(Any.Year, Any.Value, marker='', color=palette(3), linewidth=1, alpha=0.9, label = 'Population in Any Cities')\n    plt.legend(loc=2, ncol=1, fontsize=10)\n    plt.title(TitleName, loc='center', fontsize=15, fontweight=0)\n    plt.xlabel(\"Year\", fontsize=15)\n    plt.ylabel(\"% of Total Population\", fontsize=15)\n    plt.ylim(0,100)","b5778455":"# Size\nwidth = 18\nheight = 6\nplt.figure(figsize=(width,height))\n    \n# Style\nplt.style.use('seaborn-darkgrid')\n    \n# Create a color palette\npalette = plt.get_cmap('Set1')\n    \nplt.subplot(131)\nUrbantrends('High Income Countries', hic_largest, hic_large, hic_city)\n    \nplt.subplot(132)\nUrbantrends('Middle Income Countries', mic_largest, mic_large, mic_city)\n\nplt.subplot(133)\nUrbantrends('Low Income Countries', lic_largest, lic_large, lic_city)","554fa81f":"# high income countries\nhic_city = hic_city.rename(columns={'Value':'pop_any'})\nhic_large = hic_large.rename(columns={'Value':'pop_large'})\nhic_city = pd.merge(hic_city, hic_large, how='inner', on=['CountryName','CountryCode','Year'])\nhic_city['Medium or Small'] = hic_city['pop_any']-hic_city['pop_large']\n\nhic_largest = hic_largest.rename(columns={'Value':'Largest'})\nhic_large = pd.merge(hic_large, hic_largest, how='inner', on=['CountryName','CountryCode','Year'])\nhic_large['Large'] = hic_large['pop_large']-hic_large['Largest']\n\nhic_large = pd.merge(hic_large, hic_city, how='inner', on=['CountryName','CountryCode','Year'])\nhic = hic_large[['CountryName', 'Year', 'Largest','Large', 'Medium or Small']]\nhic = hic.loc[hic['Year'].isin([1960,1970,1980,1990,2000,2010])]\n\n# middle income countries\nmic_city = mic_city.rename(columns={'Value':'pop_any'})\nmic_large = mic_large.rename(columns={'Value':'pop_large'})\nmic_city = pd.merge(mic_city, mic_large, how='inner', on=['CountryName','CountryCode','Year'])\nmic_city['Medium or Small'] = mic_city['pop_any']-mic_city['pop_large']\n\nmic_largest = mic_largest.rename(columns={'Value':'Largest'})\nmic_large = pd.merge(mic_large, mic_largest, how='inner', on=['CountryName','CountryCode','Year'])\nmic_large['Large'] = mic_large['pop_large']-mic_large['Largest']\n\nmic_large = pd.merge(mic_large, mic_city, how='inner', on=['CountryName','CountryCode','Year'])\nmic = mic_large[['CountryName', 'Year', 'Largest','Large', 'Medium or Small']]\nmic = mic.loc[mic['Year'].isin([1960,1970,1980,1990,2000,2010])]\n\n# low income countries\nlic_city = lic_city.rename(columns={'Value':'pop_any'})\nlic_large = lic_large.rename(columns={'Value':'pop_large'})\nlic_city = pd.merge(lic_city, lic_large, how='inner', on=['CountryName','CountryCode','Year'])\nlic_city['Medium or Small'] = lic_city['pop_any']-lic_city['pop_large']\n\nlic_largest = lic_largest.rename(columns={'Value':'Largest'})\nlic_large = pd.merge(lic_large, lic_largest, how='inner', on=['CountryName','CountryCode','Year'])\nlic_large['Large'] = lic_large['pop_large']-lic_large['Largest']\n\nlic_large = pd.merge(lic_large, lic_city, how='inner', on=['CountryName','CountryCode','Year'])\nlic = lic_large[['CountryName', 'Year', 'Largest','Large', 'Medium or Small']]\nlic = lic.loc[lic['Year'].isin([1960,1970,1980,1990,2000,2010])]","4b5167d4":"fig, (ax1, ax2, ax3) = plt.subplots(1,3)\nfig.set_size_inches(18,6)\n\nhic.plot.bar(x='Year', ax=ax1).legend(loc='upper left')\nax1.set_ylim((0,50))\nax1.set_title(\"High Income Countries\", fontsize = 15)\nax1.set_ylabel(\"% of Total Population\", fontsize = 15)\n\nmic.plot.bar(x='Year', ax=ax2).legend(loc='upper left')\nax2.set_ylim((0,50))\nax2.set_title(\"Middle Income Countries\", fontsize = 15)\n\nlic.plot.bar(x='Year', ax=ax3).legend(loc='upper left')\nax3.set_ylim((0,50))\nax3.set_title(\"Low Income Countries\", fontsize = 15)","6b54e6a2":"In contrast to the situation in 1960, many countries in the world seem to have achieve the high levels of the urbanization in 2010. As mentioned earlier, it can be related to the fact that the levels of the world economy has grown up during the same period. \n\nIn the next chapter, it will be examined whether the levels of the countries' economy are actually associated with the urbanization of the countries. ","2bcb25f0":"Each of the graphs above shows the change of the urbanization for each group of the countries. In these graphs, we should keep in mind that each category of the urbanization includes the population in the higher city classification of indicators. For example, if the population in the large cities for high income countries is 30%, this number includes the population in the largest city as well. Considering this, one thing that is noticeable here is that for low income countries, population in the large cities seem to be very little compared to other size of cities.   \n\nIn the next graphs, this point clearly appears. ","cdfd186a":"The graphs above show how population in cities with each category has changed over time. \n\nIn the left graph, the urbanization (% of total population) for high income countries was over 60% even in 1960. It means that more than half of the total population live in urban areas regardless of the size of cities. And it has kept increasing up to the present, and they reached 80% of urbanization. The urbanizations of the middle and low income countries are much lower than that of the high income countries. \n\nThis difference still exists in the population in the large cities. In the middle graph, the high income countries starts at around 30% and almost reached 40% in 2010's. On the other hand, the middle and low income countries were below 20% over most of the entire period. \n\nThe big difference between the graph in the right and others is that population ratio in the largest city for high income countries did not increase much. This fact leads us to think that the factor which is deeply related to the economic growth is not just how much population of a country gather in one city, but how the people spread out to the entire country by forming cities in each reagion. This is the matter of concentration and efficiency. ","fc91378f":"# 2. Economic Levels and Urbanization\n\nFrom the maps shown earlier, it appears that economic levels and urbanizations of countries seem to have close relationship. Instead of checking this relationship for all the individual countries, I will use the groups of countries according to their income levels. 'Indicators.csv' includes the data for **high imcome countries (OEC), middle income countries (MIC), and lower income countries (LIC)**. Because some of the indicators necessary for this analysis are missing for **high income countries (HIC)**, I will replace it for **high income countries in OECD (OEC)** representing the group of the countries with the level of high income.  \n\n## 2.1. Income Level Difference\n\nFirst of all, I am going to check the income levels for those groups in order to show how different their income levels are.","7014a69b":"In 1960, the urbanization had been processed differently by continents. It appears that Austrailia, North America, some of South America and European countries achieved the high levels of the urbanization already. Austrailia seems to be close to 90% of the urbanization. USA and Canada seem to be around 70%. On the other hand, most of the African countries and Southeast Asian countries appear to be under 30%. \n\nOne thing that is clear from the map is that the urbanization is likely to be associated with the levels of countries' economic levels. It is well known that firms and people need to be clustered in order to be efficient in their economic activities. Therefore, as the economy of a country grows, more firms and population gather in some clusters, and this process encourges more urbanization in countries.   ","c994d66d":"The graph above clearly shows that there are huge difference in income levels among the groups. High income countries started at around \\$10,000 in 1960 and kept growing in their income level, and their income levels reached \\$35,000 in the middle of 2000's. On the other hand, middle income countries stay between \\$1,000 and \\$5,000 during the time period. The income levels of the low income countries seem to be under \\$1,000 during the entire period. ","f586edb7":"# 1. How did the urbanization of the world change?\n\nIn this chapter, I will show how the urbanization of the world changed through the comparison between 1960 and 2010. For this purpose, I will use the color maps for the whole world showing the levels of the urbanization for each country.","e5110e24":"### Urban Population (% of Total Population) in 1960","1c1588c9":"The graphs above show the **Net** population percentage for each category. The percentage for each category does not include the percentage for the higher city classification. For high and low income countries, the population in medium or small cities are the most, and then the population in large cities. The population in one largest city contains the least population of the country. \n\nHowever, for the low income countries, the population in large cities is less than the population in one largest city. It means that among the entire population only 15~30% of the population live in urban areas, and almost one third of them live in one city. With this city structure, it's hard to imagine that many manufacturing industries spread out over the entire country and work efficiently. Compared to the low income countries, high income countries have the most of their entire population in cities. And the population do not concentrate in a few cities, but spread out across the country in a good city order. ","fe92215c":"Since the indicator for **population in the largest city** is for % of **urban population**, not of **total population**, it is necessary to convert this data for the percentage of total population for the comparison between indicators. What we need is **population in the largest city (% of total population)**. \n\nIf *A = population in the largest city*, *B = urban population*, and *C = total population*, then **population in the largest city (% of total population)** = *(A\/C)x100*. We have **population in the largest city (% of urban population)**, which is *(A\/B)x100*, and **urban population (% of total population)**, which is *(B\/C)x100*. It means that we can get data for **population in the largest city (% of total population)** by computing *((A\/B)x100)x((B\/C)x100)x(1\/100)*, which is **population in the largest city (% of urban population)** *x* **urban population (% of total population)** *x* *(1\/100)*.    ","af12bdbf":"## 2.2. Urbanization by Income Levels\n\nUsing the various indicators in 'Indicators.csv', different measures can be used for urbanization in addition to the **Urban population (% of total population)**. Here, I will also use **Population in urban agglomerations of more than 1 million (% of total population)** and **Population in the largest city (% of urban population)** as well. **Urban population (% of total population)** tells us the percentage of total population who resides in any regular cities. On the other hand, **Population in urban agglomerations of more than 1 million (% of total population)** indicates how many people live in the large cities which have more than 1 million population. **Population in the largest city (% of urban population)** is how many people live in the largest city in the country.   ","392127a4":"The list of the country names above shows the names of the countries in the dataframe **df** which do not match to the names in **world**. Therefore, it is necessary to change the names of the countries in **df** in the way that they match to the names in **world**. However, since the original lists of the country names in two dataframes are not exactly the same, some countries in **df** won't be used in this analysis.   ","85b0f744":"# The Trends of the World Urbanization \n\nIt is well known that coutries become urbanized as their economies grow. Here, we will explore how the world has became urbanized as time has passed, and how their urbanization look different according to their income levels. ","f479f0e8":"# 3. Conclusion\n\nThe urbanization clearly is one of the main factors that are closely **related** to the economic growth of a country. The reason why I do not say that the urbanization '**affects**' the econmoic growth is that we do not go over the causality relationship between them yet. But, only by looking at the graphs of the urbanization by income levels, we can see that the urbanization is a key factor that each country must consider for the economic growth. Furthermore, the last part of our analysis tells us that not only the urbanization itself but also how it is achieved is also an important thing to be considered.  ","3f39889a":"The file 'indicators.csv' contain thousands of various indicators. In this analysis, I am going to use **Population in the largest city (% of urban population)**, **Urban population (% of total)**, **Population in the largest city (% of urban population)**, **Population in urban agglomerations of more than 1 million (% of total population)**, and **GDP per capita (constant 2005 US$)**.","532c676a":"### Urban Population (% of Total Population) in 2010","055fb0f6":"The country names in the dataframe '**df**' do not perfectly match to the country names in the dataframe '**world**'. So, I am going to check the difference in the country names between the two dataframes.  "}}