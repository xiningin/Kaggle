{"cell_type":{"cd41cef6":"code","7e8baf39":"code","3a77323f":"code","a3ab8876":"code","aa05f3b3":"code","27de9b4f":"code","806bd265":"code","680e2bb7":"code","c1f68028":"code","a59c5a03":"code","89f84b63":"code","39b7e576":"code","389866b0":"code","ab637529":"code","d37829be":"code","a4ff3c93":"code","17d3ee9b":"code","d4746a95":"markdown","744a7326":"markdown"},"source":{"cd41cef6":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","7e8baf39":"df_train = pd.read_csv('\/kaggle\/input\/1056lab-fraud-detection-in-credit-card\/train.csv', index_col=0)\ndf_test = pd.read_csv('\/kaggle\/input\/1056lab-fraud-detection-in-credit-card\/test.csv', index_col=0)","3a77323f":"df_train","a3ab8876":"df_test","aa05f3b3":"import seaborn as sns\nfrom matplotlib import pyplot\n\nsns.set_style(\"darkgrid\")\npyplot.figure(figsize=(31, 31))\nsns.heatmap(df_train.corr(), square=True, annot=True)","27de9b4f":"df_train = df_train[['V3', 'V6', 'V7', 'V10', 'V12', 'V13', 'V16', 'V17', 'Amount', 'Class']]\ndf_test = df_test[['V3', 'V6', 'V7', 'V10', 'V12', 'V13', 'V16', 'V17', 'Amount']]","806bd265":"df_train","680e2bb7":"df_test","c1f68028":"from sklearn.decomposition import PCA\n\nX_train = df_train.drop('Class', axis=1).values  # \u76ee\u7684\u5909\u6570\u3092\u9664\u3044\u3066ndarray\u5316\npca = PCA()  # \u6b21\u5143\u5727\u7e2e\u306a\u3057\npca.fit(X_train) ","a59c5a03":"sns.set_style(\"darkgrid\")\nev_ratio = pca.explained_variance_ratio_\nev_ratio = np.hstack([0,ev_ratio.cumsum()])\nsns.lineplot(data=ev_ratio)","89f84b63":"X_train = df_train.drop('Class', axis=1).values\npca = PCA(n_components=2)  # 2\u6b21\u5143\npca.fit(X_train)  # \u4e3b\u6210\u5206\u5206\u6790\nX_train_pca = pca.transform(X_train) ","39b7e576":"df_train_pca = pd.DataFrame(X_train_pca, columns=['Comp. 1', 'Comp. 2'], index=df_train.index)\ndf_train_pca['Class'] = df_train['Class']\n\nsns.set_style(\"darkgrid\")\nsns.relplot(data=df_train_pca, x='Comp. 1', y='Comp. 2', hue='Class')","389866b0":"from sklearn.svm import SVC\nX_train = df_train.drop('Class', axis=1).values\ny_train = df_train['Class'].values\n\nmodel = SVC()\nmodel.fit(X_train, y_train)","ab637529":"from sklearn.metrics import mean_squared_error\npredict = model.predict(X_train)\nmean_squared_error(predict, y_train)","d37829be":"X_test = df_test.values\npredict = model.predict(X_test)","a4ff3c93":"X_test_pca = pca.transform(X_test)\ndf_test_pca = pd.DataFrame(X_test_pca, columns=['Comp. 1', 'Comp. 2'])\ndf_test_pca['Class'] = predict\n\nsns.set_style(\"darkgrid\")\nsns.relplot(data=df_test_pca, x='Comp. 1', y='Comp. 2', hue='Class')","17d3ee9b":"submit = pd.read_csv('\/kaggle\/input\/1056lab-fraud-detection-in-credit-card\/sampleSubmission.csv')\nsubmit['Class'] = predict\nsubmit.to_csv('submission.csv', index=False)","d4746a95":"\u524d\u51e6\u7406","744a7326":"class\u3068\u8ca0\u306e\u76f8\u95a2\u306e\u3042\u308b\u3082\u306e\u3092\u30d4\u30c3\u30af\u30a2\u30c3\u30d7\nclass=1\u304c\u8a50\u6b3a\u306a\u306e\u3067"}}