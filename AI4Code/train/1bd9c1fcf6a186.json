{"cell_type":{"8309bb37":"code","8529133f":"code","0a0a3b2d":"code","4f194dcc":"code","d5672ddf":"code","627c9b8b":"code","0f1fa65d":"code","f461a7c1":"code","21db2ac1":"code","3f1573c2":"code","58898030":"code","65f333ed":"markdown","dc4a2fed":"markdown","42dc3c3a":"markdown","38ddc5e2":"markdown","44e51946":"markdown","d7143e9a":"markdown","0ff1ac62":"markdown","36f8a264":"markdown","767564a4":"markdown","c75ae9dc":"markdown","05185a24":"markdown"},"source":{"8309bb37":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport plotly.graph_objects as go\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\n","8529133f":"fifa15=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_15.csv')\nfifa16=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_16.csv')\nfifa17=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_17.csv')\nfifa18=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_18.csv')\nfifa19=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_19.csv')\nfifa20=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_20.csv')\n# teams=pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/teams_and_leagues.csv')","0a0a3b2d":"all_df=[fifa15,fifa16,fifa17,fifa18,fifa19,fifa20]\nnames=[\"fifa15\",\"fifa16\",\"fifa17\",\"fifa18\",\"fifa19\",\"fifa20\"]\nfor df,name in zip(all_df,names):\n    df[\"Fifa\"]=name","4f194dcc":"df=pd.concat(all_df)\ndf.head()","d5672ddf":"data=df[(df.short_name=='L. Messi') | (df.short_name=='Cristiano Ronaldo')]\n\n\nfig=px.bar(data, x=\"short_name\", y=\"overall\", animation_frame=\"Fifa\",\n           color=\"club\", hover_name=\"value_eur\",range_y=[90,96])\n\n\n\n\nfig.update_layout(title={\n        'text': \"How their overall ratting has changed overtime?\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    },\n    showlegend=True,\n    xaxis_title='Name',\n    yaxis_title='Overall Rating'\n)\nfig.layout.updatemenus[0].buttons[0].args[1][\"frame\"][\"duration\"] = 800\nfig.show()","627c9b8b":"data=df[(df.short_name=='L. Messi') | (df.short_name=='Cristiano Ronaldo')]\n\n\nfig=px.bar(data, x=\"short_name\", y=\"wage_eur\", animation_frame=\"Fifa\",\n           color=\"club\", hover_name=\"wage_eur\",range_y=[300000,700000])\n\n\n\n\nfig.update_layout(title={\n        'text': \"How their Wages have changed overtime?\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    },\n    showlegend=True,\n    xaxis_title='Name',\n    yaxis_title='Wage(EUR)'\n)\nfig.layout.updatemenus[0].buttons[0].args[1][\"frame\"][\"duration\"] = 800\nfig.show()","0f1fa65d":"messi=df[df.short_name=='L. Messi']\nronaldo=df[df.short_name=='Cristiano Ronaldo']\n\n\nfig = go.Figure()  \nfor i,name in enumerate(names):\n    # Fifa 15\n    if(i==0):\n        vis=True\n    else:\n        vis=False\n        \n    messi_data=messi[messi.Fifa==name]\n    ronaldo_data=ronaldo[ronaldo.Fifa==name]\n    fig.add_trace(go.Scatterpolar(\n            r = [messi_data[\"pace\"].values[0],messi_data[\"shooting\"].values[0],\n                 messi_data[\"dribbling\"].values[0],messi_data[\"passing\"].values[0],\n                 messi_data[\"defending\"].values[0],messi_data[\"physic\"].values[0]],\n            theta = [\"Pace\",\"Shooting\",\"Dribbling\",\"Passing\",\"Defending\",\"Physique\"],\n            fill='toself',name=\"Messi\",visible=vis\n    ))\n    fig.add_trace(go.Scatterpolar(\n            r = [ronaldo_data[\"pace\"].values[0],ronaldo_data[\"shooting\"].values[0],\n                 ronaldo_data[\"dribbling\"].values[0],ronaldo_data[\"passing\"].values[0],\n                 ronaldo_data[\"defending\"].values[0],ronaldo_data[\"physic\"].values[0]],\n            theta = [\"Pace\",\"Shooting\",\"Dribbling\",\"Passing\",\"Defending\",\"Physique\"],\n            fill='toself',name=\"Ronaldo\",visible=vis\n    ))\n\n\n\n\nfig.update_layout(\n    updatemenus=[\n        dict(\n            active=0,\n            buttons=list([\n                dict(label=\"Fifa15\",\n                     method=\"update\",\n                     args=[{\"visible\": [True, True, False, False,False,False,False, False, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 15\"}]),\n                \n                dict(label=\"Fifa16\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, True, True,False,False,False, False, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 16\"}]),\n                \n                dict(label=\"Fifa17\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,True,True,False, False, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 17\"}]),\n                \n                dict(label=\"Fifa18\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,False,False,True, True, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 18\"}]),\n                \n                dict(label=\"Fifa19\",\n                     method=\"update\",\n                     args=[{\"visible\": [False,False, False, False,False,False,False, False,True, True,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 19\"}]),\n                \n                dict(label=\"Fifa20\",\n                     method=\"update\",\n                     args=[{\"visible\": [False,False, False, False,False,False,False, False, False, False,True,True]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 20\"}])\n            ]),\n        )\n    ])\n\n\n\n\nfig.update_layout(title={\n        'text': \"How do their stats compare?\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    },\n    showlegend=True\n)\n\nfig.show()","f461a7c1":"messi=df[df.short_name=='L. Messi']\nronaldo=df[df.short_name=='Cristiano Ronaldo']\n\n\nfig = go.Figure()  \nfor i,name in enumerate(names):\n    # Fifa 15\n    if(i==0):\n        vis=True\n    else:\n        vis=False\n        \n    messi_data=messi[messi.Fifa==name]\n    ronaldo_data=ronaldo[ronaldo.Fifa==name]\n    fig.add_trace(go.Scatterpolar(\n            r = [messi_data[\"goalkeeping_diving\"].values[0],messi_data[\"goalkeeping_handling\"].values[0],\n                 messi_data[\"goalkeeping_kicking\"].values[0],messi_data[\"goalkeeping_positioning\"].values[0],\n                 messi_data[\"goalkeeping_reflexes\"].values[0]],\n            theta = [\"goalkeeping_diving\",\"goalkeeping_handling\",\"goalkeeping_kicking\",\n                     \"goalkeeping_positioning\",\"goalkeeping_reflexes\"],\n            fill='toself',name=\"Messi\",visible=vis\n    ))\n    fig.add_trace(go.Scatterpolar(\n            r = [ronaldo_data[\"goalkeeping_diving\"].values[0],ronaldo_data[\"goalkeeping_handling\"].values[0],\n                 ronaldo_data[\"goalkeeping_kicking\"].values[0],ronaldo_data[\"goalkeeping_positioning\"].values[0],\n                 ronaldo_data[\"goalkeeping_reflexes\"].values[0]],\n            theta = [\"goalkeeping_diving\",\"goalkeeping_handling\",\"goalkeeping_kicking\",\n                     \"goalkeeping_positioning\",\"goalkeeping_reflexes\"],\n            fill='toself',name=\"Ronaldo\",visible=vis\n    ))\n\n\n\n\nfig.update_layout(\n    updatemenus=[\n        dict(\n            active=0,\n            buttons=list([\n                dict(label=\"Fifa15\",\n                     method=\"update\",\n                     args=[{\"visible\": [True, True, False, False,False,False,False, False, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 15\"}]),\n                \n                dict(label=\"Fifa16\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, True, True,False,False,False, False, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 16\"}]),\n                \n                dict(label=\"Fifa17\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,True,True,False, False, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 17\"}]),\n                \n                dict(label=\"Fifa18\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,False,False,True, True, False, False,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 18\"}]),\n                \n                dict(label=\"Fifa19\",\n                     method=\"update\",\n                     args=[{\"visible\": [False,False, False, False,False,False,False, False,True, True,False,False]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 19\"}]),\n                \n                dict(label=\"Fifa20\",\n                     method=\"update\",\n                     args=[{\"visible\": [False,False, False, False,False,False,False, False, False, False,True,True]},\n                           {\"title\": \"Messi Vs Ronaldo: Fifa 20\"}])\n            ]),\n        )\n    ])\n\n\n\n\nfig.update_layout(title={\n        'text': \"Who is the better goalkeeper?\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    },\n    showlegend=True\n)\n\nfig.show()","21db2ac1":"top10=df.sort_values([\"overall\"],ascending=False).groupby([\"Fifa\"]).head(20)\n\n\nfig = go.Figure()\n# Add Traces\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa15'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa15'][\"overall\"],\n                         mode='lines+markers',\n                         name=\"Fifa 15\",visible=True,marker_color='#00897b'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa16'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa16'][\"overall\"],\n                         name=\"Fifa 16\",visible=False,mode='lines+markers',marker_color='#546e7a'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa17'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa17'][\"overall\"],\n                         name=\"Fifa 17\",visible=False,mode='lines+markers',marker_color='#0097a7'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa18'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa18'][\"overall\"],\n                         name=\"Fifa 18\",visible=False,mode='lines+markers',marker_color='#03a9f4'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa19'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa19'][\"overall\"],\n                         name=\"Fifa 19\",visible=False,mode='lines+markers',marker_color='#1e88e5'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa20'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa20'][\"overall\"],\n                         name=\"Fifa 20\",visible=False,mode='lines+markers',marker_color='#3949ab'\n            )\n)\n\nfig.update_layout(\n    updatemenus=[\n        dict(\n            active=0,\n            buttons=list([\n                dict(label=\"Fifa15\",\n                     method=\"update\",\n                     args=[{\"visible\": [True, False, False, False,False,False]},\n                           {\"title\": \"Top 20 Players: Fifa 15\"}]),\n                \n                dict(label=\"Fifa16\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, True, False, False,False,False]},\n                           {\"title\": \"Top 20 Players: Fifa 16\"}]),\n                \n                dict(label=\"Fifa17\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, True, False,False,False]},\n                           {\"title\": \"Top 20 Players: Fifa 17\"}]),\n                \n                dict(label=\"Fifa18\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, True,False,False]},\n                           {\"title\": \"Top 20 Players: Fifa 18\"}]),\n                \n                dict(label=\"Fifa19\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,True,False]},\n                           {\"title\": \"Top 20 Players: Fifa 19\"}]),\n                \n                dict(label=\"Fifa20\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,False,True]},\n                           {\"title\": \"Top 20 Players: Fifa 20\"}])\n            ]),\n        )\n    ])\n\n# Set title\n# fig.update_layout(title_text=\"Top 20 Players\")\n\nfig.update_layout(\n    title={\n        'text': \"Top 20 Players\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    },\n#     paper_bgcolor='rgba(0,0,0,1)',\n    xaxis_title='Name',\n    yaxis_title='Overall Rating'\n)\n\nfig.show()","3f1573c2":"top10=df.sort_values([\"wage_eur\"],ascending=False).groupby([\"Fifa\"]).head(20)\n\n\nfig = go.Figure()\n# Add Traces\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa15'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa15'][\"wage_eur\"],\n                         mode='lines+markers',\n                         name=\"Fifa 15\",visible=True,marker_color='#00897b'\n            )\n)\n\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa16'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa16'][\"wage_eur\"],\n                         name=\"Fifa 16\",visible=False,mode='lines+markers',marker_color='#546e7a'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa17'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa17'][\"wage_eur\"],\n                         name=\"Fifa 17\",visible=False,mode='lines+markers',marker_color='#0097a7'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa18'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa18'][\"wage_eur\"],\n                         name=\"Fifa 18\",visible=False,mode='lines+markers',marker_color='#03a9f4'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa19'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa19'][\"wage_eur\"],\n                         name=\"Fifa 19\",visible=False,mode='lines+markers',marker_color='#1e88e5'\n            )\n)\n\nfig.add_trace(go.Scatter(x=top10[top10[\"Fifa\"]=='fifa20'][\"short_name\"],y=top10[top10[\"Fifa\"]=='fifa20'][\"wage_eur\"],\n                         name=\"Fifa 20\",visible=False,mode='lines+markers',marker_color='#3949ab'\n            )\n)\n\n\n\nfig.update_layout(\n    updatemenus=[\n        dict(\n            active=0,\n            buttons=list([\n                dict(label=\"Fifa15\",\n                     method=\"update\",\n                     args=[{\"visible\": [True, False, False, False,False,False]},\n                           {\"title\": \"Most Paid Players: Fifa 15\"}]),\n                \n                dict(label=\"Fifa16\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, True, False, False,False,False]},\n                           {\"title\": \"Most Paid Players: Fifa 16\"}]),\n                \n                dict(label=\"Fifa17\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, True, False,False,False]},\n                           {\"title\": \"Most Paid Players: Fifa 17\"}]),\n                \n                dict(label=\"Fifa18\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, True,False,False]},\n                           {\"title\": \"Most Paid Players: Fifa 18\"}]),\n                \n                dict(label=\"Fifa19\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,True,False]},\n                           {\"title\": \"Most Paid Players: Fifa 19\"}]),\n                \n                dict(label=\"Fifa20\",\n                     method=\"update\",\n                     args=[{\"visible\": [False, False, False, False,False,True]},\n                           {\"title\": \"Most Paid Players: Fifa 20\"}])\n            ]),\n        )\n    ])\n\n# Set title\n# fig.update_layout(title_text=\"Top 20 Players\")\n\nfig.update_layout(\n    title={\n        'text': \"Top 20 Most Paid Players\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    },\n#     paper_bgcolor='rgba(0,0,0,1)',\n    xaxis_title='Name',\n    yaxis_title='Wage'\n)\n\nfig.show()","58898030":"top10=fifa20.sort_values(['overall'],ascending=False).head(100)\nfig = px.treemap(top10, path=['club','short_name','team_position'], values='overall',color='value_eur')\n\n\nfig.update_layout(\n    title={\n        'text': \"Top 100 Players: Fifa 20\",\n        'y':0.95,\n        'x':0.5,\n        'xanchor': 'center',\n        'yanchor': 'top',\n    }\n#     paper_bgcolor='rgba(0,0,0,0)'\n)\n\nfig.show()","65f333ed":"How has their rattings Changed over time?","dc4a2fed":"#### Reading the Data","42dc3c3a":"#### Top 100 Players by Clubs and Wages","38ddc5e2":"#### Top 20 Most Paid Players","44e51946":"#### Top 20 Players ","d7143e9a":"## Lets start with the most important question ever!!! \n### Messi Vs Ronaldo Debate","0ff1ac62":"How do their stats compare?","36f8a264":"### Moving on to the rest of the Players. \n*There are players other than Ronaldo and Messi too*","767564a4":"The question no one is asking. Who is the better Goalkeeper?","c75ae9dc":"> Work in Progress. More Graphs coming soon...","05185a24":"How has their rattings Changed over time?"}}