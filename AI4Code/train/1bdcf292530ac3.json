{"cell_type":{"243b2220":"code","9f13ad1c":"code","4078770d":"code","d2fcda57":"code","d1ee8fa6":"code","69ed8815":"code","979cc197":"code","b3d2feb7":"code","f92fa334":"code","47aec081":"code","6b52f1de":"code","91a62ea4":"code","df199827":"code","e518d7da":"code","1f90debe":"code","5c05eaa7":"code","f71cbc55":"code","27a02404":"code","63b76cb6":"code","7b9b425c":"code","be1fe0be":"code","13ae4104":"code","53e2ac22":"code","e3546857":"code","3edc2761":"code","8fcedcf3":"code","4a794da3":"code","2c837472":"markdown","648945fd":"markdown","3ab1783a":"markdown","2194b624":"markdown","47fc4faa":"markdown","d78c3bd9":"markdown","495de6be":"markdown","45377374":"markdown","ed2a6faa":"markdown","d1ce54cc":"markdown","dafae7dd":"markdown","9c76aefe":"markdown","4b3f9097":"markdown","2866bb5d":"markdown","8bd3b234":"markdown","7ca3c1b8":"markdown","02837994":"markdown","d692fb5d":"markdown"},"source":{"243b2220":"import pandas as pd\npd.set_option('display.max_columns', None)\nimport advertools as adv\nimport os\nos.listdir('..\/input')","9f13ad1c":"# import advertools as adv\n# adv.twitter.set_auth_params(app_id='YOUR_APP_ID', app_secret='YOUR_APP_SECRET', \n#                            oauth_token='YOUR_OAUTH_TOKEN', oauth_token_secret='YOUR_OAUTH_TOKEN_SECRET')\n# ama = adv.twitter.search(q='#AMAs -filter:retweets', count=5000, tweet_mode='extended', include_entities=True)","4078770d":"amas = pd.read_csv('..\/input\/amas_combined.csv', low_memory=False,\n                   parse_dates=['tweet_created_at', 'user_created_at'])\nprint(amas.shape)\namas.head(3)","d2fcda57":"print('Columns containing \"tweet_\":', amas.columns.str.contains('tweet_').sum())\nprint('Columns containing \"user_\":', amas.columns.str.contains('user_').sum())","d1ee8fa6":"amas.filter(regex='_count', axis=1).head()","69ed8815":"amas.select_dtypes(bool).head()","979cc197":"amas[['tweet_full_text', 'user_description']].sample(20)","b3d2feb7":"(amas\n .sort_values(['tweet_retweet_count'], ascending=False)\n [['tweet_full_text', 'user_screen_name', 'user_followers_count', 'tweet_retweet_count']]\n .head(20))","f92fa334":"word_freq = adv.word_frequency(amas['tweet_full_text'], \n                               amas['user_followers_count'], \n                               rm_words=adv.stopwords['english'])\nword_freq.head(20)","47aec081":"word_freq.sort_values(['abs_freq'], ascending=False).head(20)","6b52f1de":"hashtags = adv.extract_hashtags(amas['tweet_full_text'])","91a62ea4":"hashtags['overview']","df199827":"hashtags['top_hashtags'][:20]","e518d7da":"mentions = adv.extract_mentions(amas['tweet_full_text'])\n","1f90debe":"mentions['overview']","5c05eaa7":"mentions['top_mentions'][:20]","f71cbc55":"emoji = adv.extract_emoji(amas['tweet_full_text'])","27a02404":"emoji['overview']","63b76cb6":"emoji['top_emoji'][:20]","7b9b425c":"emoji['top_emoji_text'][:20]","be1fe0be":"import unicodedata\nunicodedata.name('\u2764'), unicodedata.name('\ud83e\udd14')","13ae4104":"trends = pd.read_csv('..\/input\/trends_combined.csv')","53e2ac22":"trends.sample(10)","e3546857":"trends[['location', 'name', 'tweet_volume', 'time']].sample(15)","3edc2761":"print('Number of locations:', trends['location'].nunique())\ntrends['location'].unique()","8fcedcf3":"winners = pd.read_csv('..\/input\/categories_winners.csv')\nwinners","4a794da3":"retweeters = pd.read_csv('..\/input\/retweeters_ids.csv')\nretweeters.head()","2c837472":"At least one of them came out right :) ","648945fd":"It seems one of the values is wrongly labelled as 'red heart' although it should be 'white heart'.\nIt's a strange issue. I pasted the same character to Python, it came out red, and the unicodedata module, interpreted it as a heavy black heart!\nWhere's the scratching head emoji?\n","3ab1783a":"# The Tweets","2194b624":"### Most frequently used words (weighted by the user's follower count)","47fc4faa":"# The Trends","d78c3bd9":"# #AMAs on Twitter - American Music Awards 2018\n### Can you predict the winners?\n\nThis is a group of datasets from Twitter, trying to get as much information as possible on how people reacted to and engaged with #AMAs.      \n**1. The tweets:** These were collected during the four days leading up to the award ceremony day. Tweet activity skyrocketed on the day of the awards, as you will see the difference in volume across the days.   \nAll tweets include the official hashtag #AMAs.  \nFile name `amas_combined.csv`  \n\n**2. The trends:** Twitter provides trending data for hundreds of cities all over the world, and for 64 locations in the United States. All trending hashtags and topics were collected several times during the awards day for all locations available in the US (including the country as a whole). This is to gauge the general mood in the country on that day, and to see if there are any relationships across the hashtags, locations, or the conversation on Twitter.   \nFile name: `trends_combined.csv`  \n\n**3. Retweeters:** @AMAs announced that they are enabling voting on Twitter (below tweet), and many people engaged with that tweet. This dataset included the IDs of users who retweeted that tweet.   \nFile name: `retweeters_ids.csv`  \n\n**4. Winners list:** The list of winners and the categories in which they won.   \nFile name: `categories_winners.csv`\n\nI won't analyze much, but here is a quick overview to familiarize you with the dataset.\n\nOther related and more detailed tutorials: \n- [How to extract entities from social media posts](https:\/\/www.kaggle.com\/eliasdabbas\/extract-entities-from-social-media-posts)\n- [The `twitter` module of the `advertools` package - recipe-style documentatoin](https:\/\/www.kaggle.com\/eliasdabbas\/twitter-in-a-dataframe)","495de6be":"### The numeric columns","45377374":"# The Winners\nImported from the [AMAs website](https:\/\/www.theamas.com\/winners-database\/?winnerKeyword=&winnerYear=2018)","ed2a6faa":"### Most retweeted tweets","d1ce54cc":"# The Retweeters","dafae7dd":"Lots of Spanish as well. You can play with the `rm_words` parameter to remove the words that you want excluded, and get a better view of the data.  \nSorted by the abosolute count","9c76aefe":"These are the essential columns actually: ","4b3f9097":"\n<blockquote class=\"twitter-tweet\" data-lang=\"en\"><p lang=\"en\" dir=\"ltr\">VOTING CLOSES TONIGHT AT MIDNIGHT for all categories except New Artist and Collab of the Year! Make sure to get your final <a href=\"https:\/\/twitter.com\/hashtag\/AMAs?src=hash&amp;ref_src=twsrc%5Etfw&hide_media=false\">#AMAs<\/a> votes in on Twitter and at <a href=\"https:\/\/t.co\/CwV2pR8OnJ\">https:\/\/t.co\/CwV2pR8OnJ<\/a> \u2714\ufe0f <a href=\"https:\/\/t.co\/B2yW7F11K1\">pic.twitter.com\/B2yW7F11K1<\/a><\/p>&mdash; American Music Awards (@AMAs) <a href=\"https:\/\/twitter.com\/AMAs\/status\/1047974394574696450?ref_src=twsrc%5Etfw\">October 4, 2018<\/a><\/blockquote>\n<script async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"><\/script>\n","2866bb5d":"`tweet_volume` usually comes with missing data, I assume because at this time, the topic is starting to trend, but doesn't have enough stable data to publish.  The time is when the topic started trending.  \nThese are the available ","8bd3b234":"### The boolean columns","7ca3c1b8":"The above query was used several time to obtain the data. I saved the resulting DataFrames in files, and have the code commented so you can try if you want (you will not get the same data as the time has passed, unless you have an enterprise account).  ","02837994":"### Text columns","d692fb5d":"Let's see if anyone can create a model that will predict the winners from the data, now that we know who the winners are."}}