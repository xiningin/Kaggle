{"cell_type":{"6544d653":"code","bebeed9a":"code","7276dc68":"code","f1a09670":"code","44b1f0b8":"code","c9065bf1":"code","94fcee68":"code","ec0f1888":"code","4ed2b076":"code","dc0e96cc":"code","4eadfac9":"code","ecca7b05":"code","f1f283b3":"code","6f127904":"code","a7fa5872":"code","505ad477":"code","b7773b03":"code","3acf1f9a":"code","3ebf09c1":"code","aa3bd86a":"code","cde4e7e7":"code","8a8aa00e":"code","add00b89":"code","39bee26e":"code","f5b30769":"code","e161a21e":"code","2406df98":"markdown","f7f9423a":"markdown","79491f41":"markdown","def3955b":"markdown","439f874a":"markdown","1fca353e":"markdown","52bb2baf":"markdown","2a31936d":"markdown","22526b46":"markdown","ef46d400":"markdown","ad66bde9":"markdown","d83a9335":"markdown","17957c83":"markdown","a4272aad":"markdown","e382791b":"markdown","ad92eaf7":"markdown","baddea5c":"markdown","67a22da4":"markdown","6a88b1ca":"markdown","07498b79":"markdown","5d9a72fc":"markdown","7407ef5b":"markdown","1221d843":"markdown","e9cad81e":"markdown","983de1f5":"markdown","34841c65":"markdown","4b44fd1c":"markdown","50afb25b":"markdown","0f115629":"markdown","bbe2461b":"markdown"},"source":{"6544d653":" # First I import the packages that I will  use to facilitate the process of analysis the dataset\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","bebeed9a":"# to Load dataset \nds=pd.read_csv(\"..\/input\/noshowappointments\/KaggleV2-May-2016.csv\")\n# to print the first few lines\nds.head()\n","7276dc68":"#the niumber of colums and rows in the dataset\nds.shape","f1a09670":"#To see if there are dublicated data or not\nsum(ds.duplicated())","44b1f0b8":"# To obtain a summary descriptive statstics about the dataset\nds.describe()","c9065bf1":"ds.info()","94fcee68":"#Here clean the data errors\n#First we rename the columns that have a wrong names\nds = ds.rename(columns={'Hipertension': 'Hypertension', 'Handcap': 'Handicap', 'No-show': 'No_Show' })\n# deleting the non valid values of the age that have a value less than 0\nds=ds[ds.Age > 0]\n# Convert the type of the AppointmentDay \nds['AppointmentDay']=pd.to_datetime(ds[\"AppointmentDay\"])\nds['ScheduledDay']=pd.to_datetime(ds[\"ScheduledDay\"])\nds.info()","ec0f1888":"ds.drop([\"PatientId\",\"AppointmentID\",\"ScheduledDay\",'Neighbourhood'], axis=1, inplace=True)\nds.head()","4ed2b076":"ds.info()","dc0e96cc":"ds.head()","4eadfac9":"fig, ax =plt.subplots(figsize=(10,7))\na= ds[\"No_Show\"].value_counts()\nprint(\"The number od the patients whow show up is {} and te num of those who did not show up is {}\".format(a[0],a[1]))\na.plot(kind=\"bar\", title=\"No_Show vs Show\");\nax.set_xlabel(\" Show'No'    No_show'Yes' \")\nax.set_ylabel(\"Num of No_show and Show patients\")","ecca7b05":"#This will give us the rows in which the patient show the mediacl appointment\nShow=ds.No_Show=='No'\n#This will give us the rows in which the patient no show the mediacl appointment\nNo_Show=ds.No_Show=='Yes'","f1f283b3":"#to see whether the Age affect showing up for the medical appointment or not \nfig, ax =plt.subplots(figsize=(10,7))\nds.Age[Show].hist(alpha=1,label='show');\nds.Age[No_Show].hist(alpha=1, label='no_show');\nax.set_title(\"Age Distripution\")\nax.set_xlabel(\"Age value\")\nax.set_ylabel(\"Show and No_Show\")\nplt.legend()","6f127904":"fig, ax =plt.subplots(figsize=(8,8))\n#count the num of males and females\na=ds.Gender.value_counts()\n#count the num of males and females who show up for the medial appointment\nb=ds.Gender[Show].value_counts()\nb.plot(kind='bar')\nax.set_title(\"Gender Distripution\")\nax.set_xlabel(\"F for Female, M for Males\")\nax.set_ylabel(\"Show and No_Show\")\n#count the num of males and females who did not  show up for the medial appointment\nc=ds.Gender[No_Show].value_counts()\n# the percentage of the female who show up \nf=(b[0]\/a[0])*100\n# the percentage of the female who did not show up \nf1=(c[0]\/a[0])*100\n# the percentage of the male who show up\nm=(b[1]\/a[1])*100\n# the percentage of the male who did not show up\n\nm1=(c[1]\/a[1])*100\nprint(\"The percentage of the female who show up is {:0.2f} % and the percentage who did not show up is {:0.2f}% \" .format(f,f1))\nprint(\"the percentage of the male who show up is {:0.2f} % and the percentage who did not show up is {:0.2f} %\".format(m,m1))","a7fa5872":"\ndef plotfunc(l):\n    #l represnt a data of a column for example l can be ds.Scholarship\n    #to see whether the factor affect showing up for the medical appointment or not \n    fig, ax =plt.subplots(figsize=(10,7))\n    ax.hist( l[Show],alpha=0.5,label='show');\n    ax.hist( l[No_Show],alpha=1, label='no_show');\n    ax.set_title(\"Result of {}\".format(l.name))\n    ax.set_xlabel(l.name)\n    ax.set_ylabel(\"Show and No_Show\")\n    plt.legend()\n\n    #this is the num of the patient with and withput factor\n    wo=l.value_counts()\n    #this is the num of the patient with and withput factor and show up \n    s=(l[Show]).value_counts()\n    #this is the num of the patient with and withput factor and did not show up \n    n=(l[No_Show]).value_counts()\n    sw=(s[1]\/wo[1])*100\n    so=(s[0]\/wo[0])*100\n    name=l.name\n    print(\"The percentage of patients with {} and show up is {:.2f} %\".format(name,sw))\n    print(\"The percentage of patients WithOUt {} and show up is {:.2f} %\".format(name,so))  \n","505ad477":"# Here this function give us details about the scholarship\nplotfunc(ds.Scholarship)","b7773b03":"plotfunc(ds.Hypertension)","3acf1f9a":"plotfunc(ds.Diabetes)","3ebf09c1":"plotfunc(ds.Alcoholism)","aa3bd86a":"plotfunc(ds.Handicap)","cde4e7e7":"plotfunc(ds.SMS_received)","8a8aa00e":"A=ds[Show]","add00b89":"#this function return the data of a certain condition to thoose patients who show up\ndef sdata( a,b, c):\n    x=b==c\n    d=a[x]\n    return d","39bee26e":"Show_Scholarship=sdata(A,A.Scholarship,1)\nShow_Scholarship_No_Hypertension=sdata(Show_Scholarship,Show_Scholarship.Hypertension,0)\nShow_S_No_Hyper_No_Alco=sdata(Show_Scholarship_No_Hypertension,Show_Scholarship_No_Hypertension.Alcoholism,0)\nShow_no_Daibets=sdata(Show_S_No_Hyper_No_Alco,Show_S_No_Hyper_No_Alco.Diabetes,0)\nshow_no_Handicap=sdata(Show_no_Daibets,Show_no_Daibets.Handicap,0)\n##This dataset represent the patients who show up and have no any condition health\nShow_Scholarship_Without_Health_Conditions=show_no_Handicap","f5b30769":"#this is the Total num of the patients who Show up with Scholarship and without health condition\nz=Show_Scholarship_Without_Health_Conditions.No_Show.value_counts()\n#this is the total num of the patients who show up \nq=A.No_Show.value_counts()\nprint(\"the percentage of patients who show up and have a scholarship but no any health conditions is {:0.2f}\".format((z[0]\/q[0])*100))","e161a21e":"from subprocess import call\ncall(['python', '-m', 'nbconvert', 'Investigate_a_Dataset.ipynb'])","2406df98":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n### General Properties","f7f9423a":"**Therefore we can see that the patient without scholarship show up for the medical appointment more than those with scholarship**","79491f41":"\n### Results:\nOur data suggest that\n1. There is not big difference between the distribution of Age between patients who showed up for the appointment versus the patients that did\nnot show up for the appointment.\n2. There is a higher percentage of people that received an SMS and did not show up when compared to people who received an SMS and did\nshow up.\n3. People that have a disease are 3% more likely to show up for the appointment than people who do not have a disease.\n4. Handicap patients specifically,however, are more likely to show up to the appointment compared to people who are not Handicap.\n5. Being enrolled in the Scholarship program does not seem to make people more likely to show up to the appointment.\n\n","def3955b":"**As we can figure after assessing the dataset. we find that:**\n<ul>\n<li> the age has a  non-valid value <\/li>\n<li>there are some typos error in the columns names<\/li>\n<li>The SheduledDsay and AppointmentDay are DateTime  not object.<\/li>\n<\/ul>\nI will clean those error","439f874a":"We can conclude that \n<ul> \n    <li> the factors that affect the show up are Scholarship, SMS_received, Handicap, Diabetes, Hypertension\n    <li>the factors that do not affect the show up are Gender, Age, Alcoholism\n<\/ul>\nwe also can say that the patient without scholarship and suffer from Handicap, Diabetes and Hypertension may have a higher prediction of show up for the medical appointment\n\nwe also can say that the patient without scholarship and suffer from Handicap, Diabetes and Hypertension may have a higher prediction of show up for the medical appointment\nThe most important thing is that the probability of the patients who show up and don't have scholarship and health conditions is about 0.93 which is good for prediction\n\n\nTo sum up, Of course, there are many other factors that can be extracted from this dataset but it needs more information and research to do that","1fca353e":"<a id='eda'><\/a>\n## Exploratory Data Analysis","52bb2baf":"**Now we know some information about our data. there are a patient id , appointment id , gender of the patient, scheduled day, appointment day, age, neighbourhood, scolarship, hiportension, diabetes, alcoholism, handcap, sms_received and no-show colums.\nFrom this we can notice that there are some typos error in the columns names**\n<ul>\n<li>patient id , appointment id are just unique ids for each patient\n<li>gender give us whether the patient (M) male or (F) female\n<li>scheduled day is the day in which the patient call the clinic and take an appointment\n<li>appointment day is the day in which the patient should go to the medical appointment\n<li>age is the age of that patient\n<li>neighbourhood is Where the appointment takes place\n<li>scolarship whether the patient take a support or not\n<li>hiportension, diabetes, alcoholism, handcap whether the patient has suffer from them or not\n<li>sms_received a message sent to the patient \n<li>no-show yes mean that the patient did not show the medical appointment no mean he\/she attend the appointment\n<\/ul>","2a31936d":"**Therefore we can see that the patient WithOUt SMS_received shows up for the medical appointment more than those with SMS_received. It seems so wired as it was expected the opposite. Therefore the ansower to the qustion of whether the sms affect or not is yes**","22526b46":"## Questions\n>>(1) Does the age of patients affect the likelihood of no-show appointments?\n\n>>(2) Does the time gap between schduled day with appointment day affect the likelihood of no-show appointments?\n\n>>(3) Does the no show history of patients affect the no show next time?\n\n>>(4) How can we predict the no show appointment given patients' infomation?\n\n","ef46d400":"**From that we know that there are no any duplicated data**","ad66bde9":"**Therefore we can see that the patient with Hypertension  show up for the medical appointment more than those WithOUt Hypertension**","d83a9335":"**A represents all the dataset of only the patients who show up**","17957c83":"**From above there is no any indication that can tell us the age affect the show up or not, therefore, I think Rhe age is not a factor by which we can indicate whether a patient will show up or not**","a4272aad":"**Now we have 10 variable. the only dependent variable is No_Show and the other are all independent variables**","e382791b":"<a id='intro'><\/a>\n## Introduction\n\n\n>> In this project, a data set of appointment records in public hospitals at Vitoria, Brazil is investigated. The reason why the patient did not shop up attracts our\nattention. This data sets contains records whether patients miss appointments, attributes of patients and infomation about appointments. The data set is provided\non Kaggle.\n\n>>Given the infomation and attributes about a patient and his\/her scheduled appointment, how likely is he\/she to show up to the appointment as scheduled?\nThroughout this project, we are tring to answer this question by exploring the data set and also the connections among variables.\n\n","ad92eaf7":"**Below we see that about 80 % of the patients have shown up for the medical appointment and 20 % have not shown up.**","baddea5c":"**In the next step, I'm going to build a function to plot and print the percentage of the patients who have shown up and those who have not shown up**","67a22da4":"**Now we have the data of the patients that have a scholarship and without Hypertension, Diabetes, Alcoholism or Handicap we can count the number of them now and the percentage from the whole patients who show up**","6a88b1ca":"**From above it's obvious that the factor of Alcoholism is not affecting whether the patient will show up or not**","07498b79":"**This thing tells us that the patients that have a health condition and don't have scholarship show up way more than those who have a scholarship and no health condition.\nTherefore Now we can answer the question of whether the health conditions affect the no-show possibility or not.**\n\n\n**Therefore the most important characteristics of the patients who show up are that they don't have a scholarship and also don't have any health condition**\n","5d9a72fc":"**From the output we can see that the min age is -1 which is not a valid value.**","7407ef5b":"### Data Cleaning","1221d843":"**Also from above, we can't consider the gender as a factor affecting whether the patient will show up or not Because both female and male have the same percentage od showing up**","e9cad81e":"### Limetations\nThe most challenge part is the part of combining the data together to know their effects at the same time. Moreover, I have found a difficulty of the plotting part that's because it was not addressed widely in the lessons I think the data is really sufficient and there is huge information that can be extracted from it to make a good prediction. Fortunately the data has no missing values but I think there is a non-valid data that should be taken for granted.\nThere are a couple of limitations with our data:\n1. Most of our variables are categorical, which does not allow for a high level of statistical method that can be used to provide correlations etc\n2. The statistics used here are descriptive statistics, not inferential, meaning that we did not create any hypotheses or controlled experiments or\ninferences with our data.\n3. We do not have a lot of details for certain factors to draw conclusions. For the SMS_ received example, the data shows that no-showers are\nmore likely to receive an SMS. This may seem counter intuitive, but we do not have information on the conditions of when the SMS is sent.\nFor example they may target No-showers with SMS, or they may send the SMS once the Patient has not checked in 30 minutes prior to their\nappointment etc.\n4. Cannot show strong correlations between factors since most of our data is categorical.\n","983de1f5":"<a id='conclusions'><\/a>\n## Conclusions\n\n\n\n","34841c65":"I think the patient and the appointment ID, scheduledDay and Neighbourhood will not give us information so I will  drop them","4b44fd1c":"**From the above information, there is not any null value. The SheduledDsay and AppointmentDay are DateTime not object.**","50afb25b":"**Therefore we can see that the patient with Handicap show up for the medical appointment more than those WithOUt Handicap**","0f115629":"\n# Project: Medical Appointment No Shows Data Analysis\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","bbe2461b":"**Therefore we can see that the patient with Diabetes show up for the medical appointment more than those WithOUt Diabetes**"}}