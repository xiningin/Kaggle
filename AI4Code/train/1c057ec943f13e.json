{"cell_type":{"3654032e":"code","0dba4a68":"code","705f7df4":"markdown"},"source":{"3654032e":"!ls ..\/input\/multilingualabusivecomment\/ShareChat-IndoML-Datathon-NSFW-CommentChallenge_Test_20_Percent_NoLabel.csv","0dba4a68":"import pandas as pd\nimport re\n\ndef read_csv(path:str):\n    file = open(path, \"r\").read()\n    ix = []\n    ctx = []\n\n    for row in file.split(\"\\n\"):\n        l = re.sub(',(?!(?=[^\"]*\"[^\"]*(?:\"[^\"]*\"[^\"]*)*$))', \"\\t\", row)\n        try:\n            lk = l.split(\"\\t\")\n            if len(lk)>2 and len(lk[0])<6:\n                p,q= lk[0], lk[1]\n                ix.append(p)\n                ctx.append(q)\n            else:\n                lk=row.replace('\"', \" \")\n                lk=lk.split(\",\")\n                p,q = lk[0], lk[1]\n                ix.append(p)\n                ctx.append(q)\n        except Exception as e:\n            print(\"Exception occurred!.\", e)\n            print(f\"Length of ids obtained: {len(ix)}, and text: {len(ctx)}\")\n\n    df = pd.DataFrame()\n    df[\"CommentId\"]=ix[1:]\n    df[\"commentText\"]=ctx[1:]\n    df = df.astype(dtype={\"CommentId\":int, \"commentText\":str})\n    return df\n\n%time df = read_csv(\"..\/input\/multilingualabusivecomment\/ShareChat-IndoML-Datathon-NSFW-CommentChallenge_Test_20_Percent_NoLabel.csv\")\ndf.tail()","705f7df4":"# Input and output processing\n\nWhen I started with the contest, I was facing issues processing the provided CSV files. I am pretty sure that a lot of you might also be facing issues. This happens as the CSVs are not really well formed. I think it was just another difficulty added by the organizers of the contest or maybe it was unintentional.\n\nFor which, I present the input and output file handling functions to simply replace your `pd.read_csv` function for _Testing_ file for the contest. \n\nEnjoy!"}}