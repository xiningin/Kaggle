{"cell_type":{"cc719848":"code","56cfc72d":"code","8de91f02":"code","c51089ae":"code","78021c1d":"markdown","74dcb3dc":"markdown","ba9a6047":"markdown","c6e74b27":"markdown"},"source":{"cc719848":"import wgs_ecef\n\nfrom wgs_ecef import wgs_to_ecef, ecef_to_wgs","56cfc72d":"def demo():\n    # latitude in degrees,\n    # longitude in degrees,\n    # altitude above \"sea level\" in meters\n    lat = 37.4166281\n    lng = -122.0820531\n    alt = -30.69\n    \n    x, y, z = wgs_to_ecef(lat, lng, alt)\n    lat_, lng_, alt_ = ecef_to_wgs(x, y, z)\n    \n    print(\"WGS original\")\n    print(f\"lat={lat}, lng={lng}, alt={alt}\")\n    print()\n    print(\"ECEF\")\n    print(f\"x={x}, y={y}, z={z}\")\n    print()\n    print(\"WGS recovered to high accuracy\")\n    print(f\"lat={lat_}, lng={lng_}, alt={alt_}\")\n\n\ndemo()","8de91f02":"wgs_ecef.check()","c51089ae":"def benchmark():\n    n = 10**5\n    bench_we_one, bench_we_vec = wgs_ecef.make_benchmark_wgs_to_ecef(n)\n\n    print(\"WGS to ECEF (vectorized)\")\n    %timeit bench_we_vec(wgs_to_ecef)\n    print(\"WGS to ECEF (python loop)\")\n    %timeit bench_we_one(wgs_to_ecef)\n    print(\"WGS to ECEF (reference implementation)\")\n    %timeit bench_we_one(wgs_ecef.wgs_to_ecef_ref)\n\n    print()\n    bench_ew_one, bench_ew_vec = wgs_ecef.make_benchmark_ecef_to_wgs(n)\n    print(\"ECEF to WGS (vectorized)\")\n    %timeit bench_ew_vec(ecef_to_wgs)\n    print(\"ECEF to WGS (python loop)\")\n    %timeit bench_ew_one(ecef_to_wgs)\n    print(\"ECEF to WGS (reference implementation)\")\n    %timeit bench_ew_one(wgs_ecef.ecef_to_wgs_ref)\n\n\nbenchmark()","78021c1d":"### Benchmark","74dcb3dc":"### Demo","ba9a6047":"# Fast, accurate WGS-ECEF conversions\n\nConvert between earth-positioning coordinate systems.\n\nAn efficient, tested, python-numba implementation.\n\nAlgorithms from [D. Rose (2014) \"Converting between Earth-Centered, Earth Fixed and Geodetic Coordinates\"](danceswithcode.net\/engineeringnotes\/geodetic_to_ecef\/geodetic_to_ecef.html)\n\n\n### Access\n```\nFile > Add utility script > Search Notebooks \"wgs_ecef\" > Add\n```","c6e74b27":"### Test\n\nThis does some checks of self-consistency and agreement with a reference implementation.  \nPlease see the source code for details."}}