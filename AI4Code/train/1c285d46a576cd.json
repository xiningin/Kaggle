{"cell_type":{"53aea455":"code","155fe952":"code","05a83937":"code","ed8f7589":"code","8d255ddb":"markdown","4ea85fcf":"markdown","ef4c3d74":"markdown","fbcf6b98":"markdown","62a96af6":"markdown"},"source":{"53aea455":"import warnings;warnings.filterwarnings(\"ignore\")\n\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n%matplotlib inline\n\ndata = pd.read_csv('\/kaggle\/input\/gdp-of-all-countries19602020\/gdp_1960_2020.csv')\ndata","155fe952":"countries = list(data[data['year']==2020][data['rank']<=10]['country'].unique())\ntmp = data.copy()\ntmp['top10'] = tmp['country'].apply(lambda x:x in countries)\ntmp = tmp[tmp['top10']==True].sort_values('year')\nfig,axs = plt.subplots(4,1,figsize=(25,20))\nsns.lineplot(data=tmp,x='year',y='gdp',hue='country',ax=axs[0])\naxs[0].set_title('Top10 GDP countries in 2020')\ntmp['gdp_growth'] = tmp['gdp'] - tmp['gdp'].shift(1)\nsns.lineplot(data=tmp,x='year',y='gdp_growth',hue='country',ax=axs[1])\naxs[1].set_title('Top10 GDP growth countries in 2020')\ntmp['gdp_growth_type_count'] = tmp['gdp_growth'].apply(lambda x:1 if x>=0 else 0)\ntmp1 = tmp.groupby('country')['gdp_growth_type_count'].sum().reset_index()\ntmp1['growth_type'] = 'positive'\ntmp['gdp_growth_type_count'] = tmp['gdp_growth'].apply(lambda x:1 if x<0 else 0)\ntmp2 = tmp.groupby('country')['gdp_growth_type_count'].sum().reset_index()\ntmp2['growth_type'] = 'negative'\ntmp = pd.concat([tmp1,tmp2])\nsns.barplot(x=\"country\", y=\"gdp_growth_type_count\", hue=\"growth_type\", data=tmp, ax=axs[2])\naxs[2].set_title('Positive and negative gdp growth of all countries')\n\ntmp = data.copy()\ntmp['country'] = tmp['country'].apply(lambda x:x if x in countries else 'others')\ntmp = tmp[['year','country','gdp_percent']].groupby(['year','country']).sum().reset_index()\nentitys = list(tmp['country'].unique())\nentity_list = [[tmp[tmp['country']==entity][tmp['year']==year] for year in range(1960,2021)] for entity in entitys]\nentity_list = [[entity_list[i][j].iloc[0]['gdp_percent'] if len(entity_list[i][j])>0 else 0 for j in range(len(entity_list[i]))] for i in range(len(entity_list))]\naxs[3].stackplot(tmp['year'].unique(),np.vstack(entity_list),labels=entitys)\naxs[3].set_title('Stack plot for country GDP percent from 1960 to 2020')\nplt.legend()\nplt.show()","05a83937":"corr_matrix = pd.DataFrame(index=range(1960,2021),columns=range(1960,2021))\nfor from_ in range(1960,2020):\n    for to_ in range(from_+1,2021):\n        us = data[data['year']>=from_][data['year']<=to_][data['country']=='the United States'].set_index('year')\n        cn = data[data['year']>=from_][data['year']<=to_][data['country']=='China'].set_index('year')\n        corr_coef = us['gdp'].corr(cn['gdp'])\n        corr_matrix.at[from_,to_] = corr_coef\n\nplt.figure(figsize=(25,15))\nsns.heatmap(corr_matrix.fillna(0))\nplt.show()","ed8f7589":"fig,axs = plt.subplots(3,1,figsize=(25,20))\n\ntmp = data[['year','state','gdp']].groupby(['year','state']).mean().reset_index()\nsns.barplot(data=tmp,x='year',y='gdp',hue='state',ax=axs[0])\naxs[0].set_title('Mean for state GDP from 1960 to 2020')\n\ntmp = data[['year','state','gdp']].groupby(['year','state']).sum().reset_index()\nentitys = (tmp['state'].unique())\nentity_list = [list(tmp[tmp['state']==entity]['gdp']) for entity in entitys]\naxs[1].stackplot(tmp['year'].unique(),np.vstack(entity_list),labels=entitys)\naxs[1].set_title('Stack plot for state GDP from 1960 to 2020')\naxs[1].legend()\n\ntmp = data[['year','state','gdp_percent']]\ntmp = tmp.groupby(['year','state']).sum().reset_index()\nentitys = (tmp['state'].unique())\nentity_list = [list(tmp[tmp['state']==entity]['gdp_percent']) for entity in entitys]\naxs[2].stackplot(tmp['year'].unique(),np.vstack(entity_list),labels=entitys)\naxs[2].set_title('Stack plot for state GDP percent from 1960 to 2020')\naxs[2].legend()\n\nplt.setp(axs[0].get_xticklabels(), rotation=90)\nplt.show()","8d255ddb":"## GDP(Growth) TREND OF TOP10 COUNTRIES IN 2020\n### Most of countries in Top10 are not growth after 2005.\n### US and CN have the fastest and largest economic growth in the past five years.\n### US is the only country with all positive economic growth since 1960.\n### CN's gdp percentage in the world economy will continue to grow after 2020.","4ea85fcf":"## ECONOMIC RELATIONS BETWEEN US AND CN\n### Most of time, US and CN is strong positive correlation in economic.","ef4c3d74":"<h2 style = 'font-size:50px; font-family:Garamond;font-weight: normal; background-color:#00FFFF; color:#F0FFF3;text-align: center;border-radius:5px; padding: 5px'>\ud83e\udd16\ud83e\udd16PLEASE UPVOTE!!!\ud83e\udd16\ud83e\udd16<\/h2>\n\n## TAKE A PEEK OF DATA","fbcf6b98":"The end.","62a96af6":"## VIEW WITH STATE\n### Asia is the main source of economic growth"}}