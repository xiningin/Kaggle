{"cell_type":{"1ae3dd56":"code","599edf3a":"code","016e3cf5":"code","5b2b6c6b":"code","f5d676e1":"code","38ef232d":"code","2d7877d4":"code","09263898":"code","c3f5c364":"code","043eeeea":"code","32c58b6c":"code","a27ab8b8":"code","fd51042c":"code","f68b216e":"code","946a98a6":"code","fce3bcbb":"code","6f8459c7":"code","2d1f3087":"code","60ee5cd7":"code","60da27b4":"code","5c01dd02":"code","4de8af52":"code","49009ac5":"code","75356082":"code","6ed13b19":"code","f879a1bb":"code","cfea450f":"code","2fc746e4":"code","cb1765bf":"code","8197e386":"code","808aa130":"code","23af6030":"markdown","9afde799":"markdown","0961cbff":"markdown","76f01986":"markdown"},"source":{"1ae3dd56":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\nsns.set(style=\"whitegrid\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","599edf3a":"crime = pd.read_csv('\/kaggle\/input\/crimes-in-boston\/crime.csv', encoding='latin')\noc = pd.read_csv('\/kaggle\/input\/crimes-in-boston\/offense_codes.csv', encoding='latin')","016e3cf5":"crime.head()","5b2b6c6b":"crime.shape","f5d676e1":"oc.head()","38ef232d":"oc.shape","2d7877d4":"crime.dtypes","09263898":"crime.isnull().sum()","c3f5c364":"crime['DISTRICT'].value_counts()","043eeeea":"crime['DISTRICT'] = crime['DISTRICT'].fillna(crime['DISTRICT'].mode().iloc[0])\ncrime.isnull().sum()","32c58b6c":"# Os valores nulos de Shooting s\u00e3o por conta que n\u00e3o houve troca de tiro.\n\ncrime['SHOOTING'].value_counts()","a27ab8b8":"crime['SHOOTING'] = crime['SHOOTING'].fillna(value='N')","fd51042c":"crime['UCR_PART'].value_counts()","f68b216e":"crime['UCR_PART'] = crime['UCR_PART'].fillna(crime['UCR_PART'].mode().iloc[0])","946a98a6":"crime.Lat.replace(-1, None, inplace=True)\ncrime.Long.replace(-1, None, inplace=True)","fce3bcbb":"crime.drop(['INCIDENT_NUMBER', 'Location'], axis=1, inplace=True)","6f8459c7":"crime['STREET'].fillna('Not identified', inplace=True)","2d1f3087":"crime['OCCURRED_ON_DATE'] = pd.to_datetime(crime['OCCURRED_ON_DATE'])","60ee5cd7":"crime.isnull().sum()","60da27b4":"lista = crime['SHOOTING'].value_counts()\ndict_shooting = {'No' : lista[0], 'Yes' : lista[1]}\n\nnames = dict_shooting.keys()\nvalues = dict_shooting.values()\n\nplt.title('Shooting')\nplt.bar(names, values)","5c01dd02":"# Top 10 categoria de crimes cometidos\nlista_offense_code_group = crime['OFFENSE_CODE_GROUP'].value_counts()\ndict_offense_code_group = lista_offense_code_group[0:5].to_dict()\n\nnames_offense_code_group = dict_offense_code_group.keys()\nvalues_offense_code_group = dict_offense_code_group.values()\n\nplt.figure(figsize=[12,9])\nplt.title('Maiores categorias de crimes cometidos - Geral')\nplt.xlabel('Crimes')\nplt.ylabel('Quantidade')\nplt.bar(names_offense_code_group, values_offense_code_group)","4de8af52":"crime_part_one = crime.loc[crime['UCR_PART'] == 'Part One']\n\nlista_offense_group_one = crime_part_one['OFFENSE_CODE_GROUP'].value_counts()\ndict_offense_group_one = lista_offense_group_one[0:5].to_dict()\n\nnames_offense_group_one = dict_offense_group_one.keys()\nvalues_offense_group_one = dict_offense_group_one.values()\n\nplt.figure(figsize=[12,9])\nplt.title('Group Part One')\nplt.xlabel('Crimes')\nplt.ylabel('Quantidade')\nplt.bar(names_offense_group_one, values_offense_group_one)","49009ac5":"# Distritos\nlista_district = crime['DISTRICT'].value_counts()\ndict_district = lista_district.to_dict()\n\nnames_district = dict_district.keys()\nvalues_district = dict_district.values()\n\nplt.figure(figsize=[12,9])\nplt.title('Distritos')\nplt.xlabel('Distritos')\nplt.ylabel('Quantidade')\nplt.bar(names_district, values_district)","75356082":"grouped = crime[['MONTH']].groupby(crime['OFFENSE_CODE_GROUP'])","6ed13b19":"grouped_month = grouped.mean()\ngrouped_month = grouped_month[:5]\nplt.figure(figsize=[12,8])\nsns.barplot(x=grouped_month.index, y=grouped_month['MONTH'], palette=\"rocket\")","f879a1bb":"# Gr\u00e1fico com a hora de ocorr\u00eancia dos crimes\nsns.catplot(x=\"HOUR\", kind=\"count\", height=6, palette=\"muted\", data=crime)\nplt.xlabel(\"Hora\")","cfea450f":"# Gr\u00e1fico com os dias da semana com ocorr\u00eancia dos crimes\nsns.catplot(x=\"DAY_OF_WEEK\", kind=\"count\", height=6, palette=\"muted\", data=crime)\nplt.xlabel(\"Dias\")","2fc746e4":"# Gr\u00e1fico com o m\u00eas de ocorr\u00eancia dos crimes\nsns.catplot(x=\"MONTH\", kind=\"count\", height=6, palette=\"muted\", data=crime)\nplt.xlabel(\"M\u00eas\")","cb1765bf":"# Scatterplot geral\nsns.scatterplot(x='Lat',\n               y='Long',\n                alpha=0.01,\n               data=crime)","8197e386":"# Scatterplot UCR Part One\nsns.scatterplot(x='Lat',\n               y='Long',\n                alpha=0.01,\n               data=crime_part_one)","808aa130":"# Scatterplot relacionado com o distrito\nsns.scatterplot(x='Lat',\n               y='Long',\n               hue='DISTRICT',\n               alpha=0.01,\n               data=crime)\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2)","23af6030":"## Limpeza e prepara\u00e7\u00e3o dos dados","9afde799":"### An\u00e1lise do problema:\n\n\nOs registros come\u00e7am em 14 de junho de 2015 e continuam at\u00e9 3 de setembro de 2018.\n\nQue tipos de crimes s\u00e3o mais comuns?\nOnde os diferentes tipos de crimes t\u00eam maior probabilidade de ocorrer?\nA frequ\u00eancia dos crimes muda ao longo do dia? Semana? Ano?","0961cbff":"UCR Part One que incluem os crimes mais s\u00e9rios.","76f01986":"## An\u00e1lise Geral"}}