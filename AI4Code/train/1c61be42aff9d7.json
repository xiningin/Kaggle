{"cell_type":{"7fff1290":"code","bce9fd38":"code","4c6a13ea":"code","81509201":"code","852800b0":"markdown","289e2c4e":"markdown","0a45ac90":"markdown","59fce421":"markdown"},"source":{"7fff1290":"import numpy as np\nimport pandas as pd","bce9fd38":"import datetime\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\ndef show_ma_chart(df):\n    ma1=75\n    ma2=100\n    \n    ma_1 = pd.Series.rolling(df.Price, window=ma1).mean()\n    ma_2 = pd.Series.rolling(df.Price, window=ma2).mean()\n \n    xdate = [x for x in df.index]\n \n    plt.figure(figsize=(15,5))\n    plt.style.use('ggplot')\n \n    plt.plot(xdate, df.Price, lw=1, color=\"black\",label=\"Price\")\n    plt.plot(xdate, ma_1,lw=3,linestyle=\"dotted\", label=\"Moving Average {} days\".format(ma1))\n    plt.plot(xdate, ma_2,lw=3,linestyle=\"dotted\", label=\"Moving Average {} days\".format(ma2))\n    plt.legend(loc='best')\n    plt.xlabel('Date')\n    plt.ylabel('Price')\n    xmin = df.index[0]\n    xmax = df.index[-1]\n    plt.title(\"Cushing_OK_WTI_Spot_Price_FOB ({0} to {1})\".format(xmin.date(),xmax.date()))\n    plt.ylim(0, 100)\n    plt.xlim(xmin, xmax)\n    plt.show()","4c6a13ea":"# Prepare dataset\n# The U.S. Energy Information Administration (EIA)\ndf = pd.read_csv(\"..\/input\/cushing-ok-wti-spot-price-fob\/Cushing_OK_WTI_Spot_Price_FOB.csv\", header=4, parse_dates=[0],index_col=[0],names=[\"Date\",\"Price\"])\ndf.sort_index(inplace=True)","81509201":"# Show Moving Average\nshow_ma_chart(df['2015-01-01':])\nshow_ma_chart(df['2019-01-01':])","852800b0":"# **How to Calculate Moving Averages**\nLearn how you can capture trends and make sense out of time series data with the help of a moving average.","289e2c4e":"# Moving Average Formula\n* Simple Moving Average\n![](attachment:%E7%84%A1%E9%A1%8C.png)","0a45ac90":"# Code Example","59fce421":"# What is Moving Average\nMoving Average (MA), commonly used in capital markets, can be defined as a succession of mean that is derived from a successive period of numbers or values and the same would be calculated continually as the new data is available. This can be lagging or trend-following indicator as this would be based on previous numbers."}}