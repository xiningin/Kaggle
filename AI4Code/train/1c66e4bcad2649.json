{"cell_type":{"517d4b0a":"code","8fbd7e82":"code","a84817de":"code","fe8a0786":"code","b7c55b93":"code","e7e8a728":"code","a8525498":"code","95cfd5d5":"code","e7d5e492":"code","0da26c54":"code","63f9f25c":"code","82546b89":"code","b6025a9a":"code","70a25ee6":"code","28dd564b":"code","1bcf96cf":"code","8ae5bb06":"code","795a74a3":"code","55e603e6":"code","de5babc9":"code","a57d94db":"code","96c13fe7":"code","bbab4bd5":"code","742af15c":"code","d28dbd26":"code","6591cb28":"code","c0d2ddc6":"code","c82d2014":"code","0258f138":"code","fcbae320":"code","0ed55a8c":"code","fe042718":"code","ae94e9f4":"code","d8227cc2":"code","da85b595":"code","bfb75c93":"code","d96b44ae":"code","1d0d6226":"code","74176f59":"code","a2dcfc5d":"code","98faaff2":"code","e6f2847a":"code","134c1049":"code","e11879d4":"code","b0fe4bd8":"code","a89114b4":"code","7ce1fc8f":"code","47db70c3":"code","f1c7500b":"code","b91d5589":"code","4a47aa18":"code","311a2e28":"code","7e13b587":"code","024584f4":"code","bcce1ffe":"code","3f02e9f2":"code","40dd4ca7":"code","81c70248":"code","bc2982d4":"code","3953208c":"code","db1a1880":"code","dd6c25fb":"code","8dd38c71":"code","325b528d":"code","cd086a9a":"code","7db0cf37":"code","e990a64f":"markdown","d9b31996":"markdown","fc9752a0":"markdown","de30d654":"markdown","eafe7ff0":"markdown","6e38f04e":"markdown","f51e08cd":"markdown","f82b3393":"markdown","0ba5ea74":"markdown","a6204c4f":"markdown","2c36b4cb":"markdown","7d4f5736":"markdown","a479c635":"markdown","f2a3ad59":"markdown","f7995b81":"markdown","583386df":"markdown","9f83f2a2":"markdown","a4767e87":"markdown","98765b14":"markdown","360acc11":"markdown","3f990bf4":"markdown","31596ee5":"markdown","5b6a424d":"markdown"},"source":{"517d4b0a":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport matplotlib as plt\nimport seaborn as sns\nimport io\n\n%matplotlib inline","8fbd7e82":"#df1 = pd.read_csv('vaccine-data.csv')\n#df = pd.read_csv('vaccine-data.csv')\ndf1 = pd.read_csv('vaccine-data.csv')\ndf1.head()","a84817de":"df1.head(5)","fe8a0786":"print(\"########################################################################\")\nprint(\"                       Info Of the Data Set\")\nprint(\"########################################################################\")\ndf1.info()","b7c55b93":"print(\"########################################################\")\nprint(\"             NULL VALUES IN ASCENDING ORDER\")\nprint(\"########################################################\")\n\npd.options.display.min_rows = 115\ndf1.isnull().sum().sort_values(ascending=True)","e7e8a728":"df1 = df1.drop(columns = ['total_cases_per_million', \n                          'new_cases_per_million', \n                          'total_deaths_per_million', \n                          'new_cases_smoothed_per_million', \n                          'new_deaths_smoothed_per_million',\n                          'new_deaths_per_million',\n                          'icu_patients_per_million', \n                          'hosp_patients_per_million', \n                          'weekly_icu_admissions_per_million', \n                          'weekly_hosp_admissions_per_million', \n                          'total_tests_per_thousand', \n                          'new_tests_per_thousand',\n                          'new_tests_smoothed_per_thousand',\n                          'total_vaccinations_per_hundred', \n                          'people_vaccinated_per_hundred', \n                          'people_fully_vaccinated_per_hundred', \n                          'total_boosters_per_hundred', \n                          'new_vaccinations_smoothed_per_million', \n                          'new_people_vaccinated_smoothed',\n                          'new_people_vaccinated_smoothed_per_hundred',\n                          'stringency_index', 'handwashing_facilities', \n                          'hospital_beds_per_thousand', \n                          'life_expectancy', \n                          'human_development_index', \n                          'excess_mortality_cumulative_per_million'])","a8525498":"import matplotlib.pyplot as plt\n\nfig, ax = plt.subplots(figsize=(20,20))    \nsns.heatmap(df1.corr(), annot=False, linewidths=.5, ax=ax, cmap = 'mako')\n","95cfd5d5":"df2 = df1.copy()          #keeping copy of the original data\n\ndf2 = df2.drop(columns = ['population_density',\n                          'median_age', \n                          'aged_65_older', \n                          'aged_70_older', \n                          'gdp_per_capita', \n                          'extreme_poverty',\n                          'cardiovasc_death_rate',\n                          'diabetes_prevalence', \n                          'female_smokers', \n                          'male_smokers', \n                          'excess_mortality_cumulative', \n                          'excess_mortality',\n                          'reproduction_rate',\n                          'tests_per_case', \n                          'positive_rate', \n                          'new_cases_smoothed', \n                          'new_deaths_smoothed', \n                          'new_tests_smoothed'])","e7d5e492":"fig, ax = plt.subplots(figsize=(10,10))        \nsns.heatmap(df2.corr(), annot=False, linewidths=.5, ax=ax, cmap = 'mako')\n","0da26c54":"df2 = df2.drop(columns = ['total_boosters', 'excess_mortality_cumulative_absolute', 'weekly_hosp_admissions', 'weekly_hosp_admissions','weekly_icu_admissions'])","63f9f25c":"df2.isnull().sum().sort_values(ascending=True)","82546b89":"df2.head()","b6025a9a":"pd.options.display.float_format = '{:.4f}'.format #convert large numbers from scientific notation to regular numbers\ndf2.describe()","70a25ee6":"df2.hist(figsize=(16, 20), bins=50, xlabelsize=8, ylabelsize=8); ","28dd564b":"df2.plot(kind = \"box\" , subplots = True , figsize = (20, 20), layout = (5, 3) )\nplt.show()","1bcf96cf":"#dropping columns that will not be relevant with greater than 80% null values\ndf_nan = df2.copy()\n\ndf_nan = df_nan.drop(columns = ['icu_patients', 'hosp_patients', 'tests_units']) #'continent'])","8ae5bb06":"#dropping rows that has low number of null values\n\ndf_nan.dropna(subset=['population'], inplace = True)","795a74a3":"#Last observation carried forward (LOCF) use the last valid observation to fill the missing value\n\ndf_nan[\"total_cases\"] = df_nan[\"total_cases\"].fillna(method='backfill')\ndf_nan[\"new_cases\"] = df_nan[\"new_cases\"].fillna(method='backfill')\ndf_nan[\"new_deaths\"] = df_nan[\"new_deaths\"].fillna(method='backfill')\ndf_nan[\"total_deaths\"] = df_nan[\"total_deaths\"].fillna(method='backfill')\ndf_nan[\"total_tests\"] = df_nan[\"total_tests\"].fillna(method='backfill')\ndf_nan[\"continent\"] = df_nan[\"continent\"].fillna(method='backfill')\n\n\n","55e603e6":"#filling values with interpolation (number between the previous and the next record)\n\"\"\"\ndf_nan[\"total_vaccinations\"] = df_nan[\"total_vaccinations\"].fillna(method='backfill')\ndf_nan[\"people_vaccinated\"] = df_nan[\"people_vaccinated\"].fillna(method='backfill')\ndf_nan[\"people_fully_vaccinated\"] = df_nan[\"people_fully_vaccinated\"].fillna(method='backfill')\ndf_nan[\"new_vaccinations\"] = df_nan[\"new_vaccinations\"].fillna(method='backfill')\ndf_nan[\"new_vaccinations_smoothed\"] = df_nan[\"new_vaccinations_smoothed\"].fillna(method='backfill')\n\n\"\"\"\ndf_nan[\"total_vaccinations\"] = df_nan[\"total_vaccinations\"].interpolate(method='linear', limit_direction='forward', axis=0)\ndf_nan[\"people_vaccinated\"] = df_nan[\"people_vaccinated\"].interpolate(method='linear', limit_direction='forward', axis=0)\ndf_nan[\"people_fully_vaccinated\"] = df_nan[\"people_fully_vaccinated\"].interpolate(method='linear', limit_direction='forward', axis=0)\ndf_nan[\"new_vaccinations\"] = df_nan[\"new_vaccinations\"].interpolate(method='linear', limit_direction='forward', axis=0)\ndf_nan[\"new_vaccinations_smoothed\"] = df_nan[\"new_vaccinations_smoothed\"].interpolate(method='linear', limit_direction='forward', axis=0)\ndf_nan[\"new_tests\"] = df_nan[\"new_tests\"].interpolate(method='linear', limit_direction='forward', axis=0)\n","de5babc9":"df_nan.dropna(subset=['total_vaccinations'], inplace = True)\ndf_nan.dropna(subset=['people_vaccinated'], inplace = True)\ndf_nan.dropna(subset=['people_fully_vaccinated'], inplace = True)\ndf_nan.dropna(subset=['people_fully_vaccinated'], inplace = True)\ndf_nan.dropna(subset=['new_vaccinations_smoothed'], inplace = True)\ndf_nan.dropna(subset=['new_vaccinations'], inplace = True)\ndf_nan.dropna(subset=['total_tests'], inplace = True)\ndf_nan.dropna(subset=['new_tests'], inplace = True)\n\n\n\ndf_nan.isnull().sum().sort_values(ascending=True)","a57d94db":"df_nan.shape","96c13fe7":"#importing libraries for different visualisations\n\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport cufflinks as cf\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport plotly.offline as py\nfrom plotly.offline import iplot\nfrom plotly.graph_objs import Scatter\n\npy.init_notebook_mode(connected=True)\ncf.go_offline()","bbab4bd5":"#removing negative values\n\ndf_nan[df_nan['new_cases'] < 0 ]['date'].index\nnegatives = [4302,   4612,   9693,  13654,  17776,  25598,  26014,  29098,\n             32023,  32229,  33335,  34846,  35560,  35561,  35564,  35683,\n             36993,  43188,  43189,  43769,  43772,  43788,  43794,  43819,\n             43828,  43829,  43854,  45476,  47239,  52061,  54058,  55221,\n             56308,  60397,  60461,  60474,  60895,  61297,  61517,  61671,\n             63932,  64934,  70337,  70890,  71716,  71717,  74420,  75239,\n             78540,  79026,  80098,  82536,  85626,  87345,  88926,  88934,\n             89204,  89306,  90273,  97282, 100587, 109347, 109471, 109650,\n             116557, 116588, 116869, 118372, 121248, 121254, 123155, 123242,\n             123278, 123279, 127873, 127906, 130227, 130266, 131869, 136516,\n             137671]\n\ndf_nan.drop(negatives, inplace = True)","742af15c":"#vreating a dataframe of groupby = countries, to analyse each country's result alone\n\ncountries = df_nan.groupby('iso_code').sum()\ncountries = countries.reset_index()\ncountries.drop(columns = ['total_cases', 'total_deaths'], inplace = True)","d28dbd26":"cases = countries.sort_values(by = 'new_cases', ascending = False)\ncases.drop([152, 158, 159, 165, 162, 157, 164, 154, 165, 160, 161, 155, 163, 153, 156], inplace = True)\n\ndeaths = countries.sort_values(by = 'new_deaths', ascending = False)\ndeaths.drop([152, 158, 159, 165, 157, 162, 164, 154, 165, 160, 161, 155, 163, 153, 156], inplace = True)","6591cb28":"#creating a dataframe for each country and the number of fully vaccinated people\n\nlocation_list = df_nan['location'].unique()\nfully_vaccinated = []\n\nfor location in location_list:\n    fully_vaccinated.append(df_nan[df_nan['location'] == location]['people_fully_vaccinated'].tail(1).values[0].round(decimals = 2))\n\ndf = pd.DataFrame([location_list, fully_vaccinated]).transpose()\n\n#removing rows that contain continents and country classifications\ndf.drop([231, 11, 223, 123, 91, 68, 155, 194, 69, 1], inplace = True)","c0d2ddc6":"#creating a dataframe for the hgihest 20 countries in Covid-19 cases\n\n#cases['iso_code'].head(20).values\ncontries_list = ['USA', 'IND', 'BRA', 'GBR', 'RUS', 'FRA', 'TUR', 'DEU', 'IRN','ARG', \n                 'ESP', 'ITA', 'COL', 'IDN', 'MEX', 'POL', 'UKR', 'ZAF','PHL', 'NLD']\n\nUSA = df_nan[df_nan[\"iso_code\"].str.contains('USA', na = False)]\nIND = df_nan[df_nan[\"iso_code\"].str.contains('IND', na = False)]\nBRA = df_nan[df_nan[\"iso_code\"].str.contains('BRA', na = False)]\nGBR = df_nan[df_nan[\"iso_code\"].str.contains('GBR', na = False)]\nRUS = df_nan[df_nan[\"iso_code\"].str.contains('RUS', na = False)]\nFRA = df_nan[df_nan[\"iso_code\"].str.contains('FRA', na = False)]\nTUR = df_nan[df_nan[\"iso_code\"].str.contains('TUR', na = False)]\nDEU = df_nan[df_nan[\"iso_code\"].str.contains('DEU', na = False)]\nIRN = df_nan[df_nan[\"iso_code\"].str.contains('IRN', na = False)]\nARG = df_nan[df_nan[\"iso_code\"].str.contains('ARG', na = False)]\nESP = df_nan[df_nan[\"iso_code\"].str.contains('ESP', na = False)]\nITA = df_nan[df_nan[\"iso_code\"].str.contains('ITA', na = False)]\nCOL = df_nan[df_nan[\"iso_code\"].str.contains('COL', na = False)]\nIDN = df_nan[df_nan[\"iso_code\"].str.contains('IDN', na = False)]\nPOL = df_nan[df_nan[\"iso_code\"].str.contains('POL', na = False)]\nUKR = df_nan[df_nan[\"iso_code\"].str.contains('UKR', na = False)]\nZAF = df_nan[df_nan[\"iso_code\"].str.contains('ZAF', na = False)]\nPHL = df_nan[df_nan[\"iso_code\"].str.contains('PHL', na = False)]\nNLD = df_nan[df_nan[\"iso_code\"].str.contains('NLD', na = False)]\nMEX = df_nan[df_nan[\"iso_code\"].str.contains('MEX', na = False)]\nEGY = df_nan[df_nan[\"iso_code\"].str.contains('EGY', na = False)]\n\n\nworld = pd.concat([USA, IND, BRA, GBR, RUS, FRA, TUR, DEU, IRN, ARG, \n                   ESP, ITA, COL, IDN, MEX, POL, UKR, ZAF,PHL, NLD])","c82d2014":"#to be able to run the choromap on online notebooks\n\n!pip install chart_studio\n\ndef configure_plotly_browser_state():\n  import IPython\n  display(IPython.core.display.HTML('''\n        <script src=\"\/static\/components\/requirejs\/require.js\"><\/script>\n        <script>\n          requirejs.config({\n            paths: {\n              base: '\/static\/base',\n              plotly: 'https:\/\/cdn.plot.ly\/plotly-latest.min.js?noext',\n            },\n          });\n        <\/script>\n        '''))","0258f138":"import chart_studio.plotly as py\nimport plotly.graph_objs as go\n\ndata = dict(type  = 'choropleth', \n\t\tlocations = cases['iso_code'], \n\t\tcolorscale = 'rdbu', \n        reversescale = True,\n\t\ttext = cases['iso_code'], \n\t\tz = cases['new_cases'],\n\t\tcolorbar = {'title' : 'cases around the world'})\n\nlayout = dict(title = 'cases around the world', \n              geo = dict(showframe = False, projection = {'type': 'equirectangular'}))\n\nchoromap = go.Figure(data = [data], layout = layout)\niplot(choromap) \n\npy.plot(choromap, filename = 'maaap', auto_open = False)","fcbae320":"x = world['date']\ny = world['total_cases']\n\nfig = px.line(world, \n              x = x, \n              y = y, \n              color='location' ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='Top 20 countries in total number cases',\n              labels=dict(x=\"Date\", y=\"total number of cases\"))\nfig.show()\npy.plot(fig, filename = 'top20', auto_open = False)","0ed55a8c":"Total_Cases = df_nan[df_nan['location'] == 'World']['total_cases']\nDate = df_nan[df_nan['location'] == 'World']['date']\n\nfig = px.line(df_nan, \n              x = Date , \n              y = Total_Cases ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='Total cases in World',\n              labels=dict(x=\"Date\", y=\"total number of cases in World\"))\nfig.show()\npy.plot(fig, filename = 'worldCases', auto_open = False)","fe042718":"New_Cases = df_nan[df_nan['location'] == 'World']['new_cases']\nDate = df_nan[df_nan['location'] == 'World']['date']\n\nfig = px.line(df_nan, \n              x = Date , \n              y = New_Cases ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='new cases in World',\n              labels=dict(x=\"Date\", y=\"Number of new cases in World\"))\nfig.show()\npy.plot(fig, filename = 'worldDailyCases', auto_open = False)","ae94e9f4":"x = df_nan[df_nan['location'] == 'World']['date']\ny = df_nan[df_nan['location'] == 'World']['people_fully_vaccinated']\n\nfig = px.line(df_nan, \n              x = x, \n              y = y ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='Fully Vaccinated People around the world',\n              labels=dict(x=\"Date\", y=\"Number of Fully vaccinated people\"))\nfig.show()\npy.plot(fig, filename = 'WorldFullyVacc', auto_open = False)","d8227cc2":"x = world[world['date'] > '2021-01-01']['date']\ny = world[world['date'] > '2021-01-01']['people_fully_vaccinated']\n\nfig = px.line(world, \n              x = x, \n              y = y, \n              color = world[world['date'] > '2021-01-01']['location'] ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='vaccination in Top 20 countries',\n              labels=dict(x=\"Date\", y=\"number of fully vaccinated\"))\nfig.show()\npy.plot(fig, filename = 'vacctop20', auto_open = False)","da85b595":"cases_df = cases.head(20)\nfig = px.colors.sequential.swatches_continuous()\n\nfig = px.bar(cases_df, \n             x ='iso_code', \n             y='new_cases', \n             color = 'new_cases',  \n             color_continuous_scale=px.colors.sequential.Oryel, \n             title='vaccination in the top 20 countries',\n             labels=dict(x= \"country\", y=\"Death number\", color = 'Death Number'),\n             barmode=\"group\")\nfig.show()\npy.plot(fig, filename = 'countries_cases', auto_open = False)","bfb75c93":"deaths_df = deaths.head(20)\nfig = px.colors.sequential.swatches_continuous()\n\nfig = px.bar(deaths_df, \n             x ='iso_code', \n             y='new_deaths',\n             color = 'new_deaths', \n             labels=dict(x= \"country\", y=\"Death number\", color = 'Death Number'),\n             color_continuous_scale=px.colors.sequential.Blugrn , \n             title='COVID-19 death cases according to  countries',\n             barmode=\"group\")\nfig.show()\n\npy.plot(fig, filename = 'countries_deaths', auto_open = False)","d96b44ae":"sorted_df = df.sort_values(by = 1, ascending = False).head(20)\n\nfig = px.bar(sorted_df, \n             x = 0, \n             y = 1, \n             title='Numbers of fully vaccinated people in each country',\n             labels=dict(x= \"country\", y=\"number of fully vaccinated\", color = 'Country'),\n             color = 0)\nfig.show()\n\npy.plot(fig, filename = 'countries_vacinated_fully', auto_open = False)","1d0d6226":"fig = px.scatter(USA, \n                 x=\"people_fully_vaccinated\", \n                 y=\"new_cases\", \n                 color=\"new_deaths\",\n                 hover_name=\"iso_code\", \n                 log_x= True, \n                 title='number of new cases relevance to number of vaccinated people -USA-',\n                 color_continuous_scale=px.colors.sequential.Plasma,\n                 labels=dict(x=\"number of fully vaccinate\", y=\"number of cases\", color = 'Death number'))\nfig.show()\n\npy.plot(fig, filename = 'cases_vacc_tests-Usa', auto_open = False)","74176f59":"y = df_nan[df_nan['location'] == 'World']['new_cases']\nx = df_nan[df_nan['location'] == 'World']['people_fully_vaccinated']\n\nfig = px.scatter(USA, \n                 x=x, \n                 y=y, \n                 color=\"new_deaths\",\n                 hover_name=y, \n                 log_x= True, \n                 color_continuous_scale=px.colors.sequential.Plasma,\n                 title='number of new cases relevance to number of vaccinated people -WORLD-',\n                 labels=dict(x=\"number of fully vaccinate\", y=\"number of cases\", color = 'Death number'))\nfig.show()\n\npy.plot(fig, filename = 'cases_vacc_tests-WORLD', auto_open = False)","a2dcfc5d":"x = df_nan[df_nan['location'] == 'World']['new_cases'].sum()\ny = df_nan[df_nan['location'] == 'World']['new_deaths'].sum()\n\nfig = px.pie(df_nan, values=[x, y], color = [x, y], title='Percentage of Cases to Death')\nfig.show()\n\npy.plot(fig, filename = 'death_vs_cases', auto_open = False)","98faaff2":"fig = px.sunburst(world, \n                  path=['continent', 'iso_code'], \n                  values='new_cases',\n                  color='location', \n                  hover_data=['new_cases'])\nfig.show()\n\npy.plot(fig, filename = 'continent_values', auto_open = False)","e6f2847a":"y = world['new_cases']\nx = world['new_tests']\n\nfig = px.scatter(world, \n                 x=x, \n                 y=y, \n                 color=\"new_cases\",\n                 hover_name=y, \n                 log_x= True, \n                 color_continuous_scale=px.colors.sequential.Aggrnyl,\n                 title='effect of performing more tests on revealing new cases',\n                 labels=dict(x=\"number of tests\", y=\"number of cases\", color = 'Death number'))\nfig.show()\n\npy.plot(fig, filename = 'test_vs_cases', auto_open = False)","134c1049":"x = EGY[EGY['date'] > '2021-01-01']['date']\ny = EGY[EGY['date'] > '2021-01-01']['new_vaccinations']\n\nfig = px.line(EGY, \n              x = x, \n              y = y, \n              color= EGY[EGY['date'] > '2021-01-01']['location'] ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='vaccination progress in egypt',\n             labels=dict(x=\"Date\", y=\"vaccination\"))\nfig.show()\n\npy.plot(fig, filename = 'egypt_daily_vacc', auto_open = False)","e11879d4":"x = EGY[EGY['date'] > '2021-01-01']['date']\ny = EGY[EGY['date'] > '2021-01-01']['people_fully_vaccinated']\n\nfig = px.line(EGY, \n              x = x, \n              y = y, \n              color= EGY[EGY['date'] > '2021-01-01']['location'] ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='vaccination progress in egypt',\n             labels=dict(x=\"Date\", y=\"vaccination\"))\nfig.show()\npy.plot(fig, filename = 'egypt_full_vaccinations', auto_open = False)","b0fe4bd8":"x = EGY['date']\ny = EGY['total_cases']\n\nfig = px.line(EGY, \n              x = x, \n              y = y, \n              color= EGY['location'] ,\n              line_shape=\"spline\", \n              render_mode=\"svg\", \n              title='new_cases in egypt',\n             labels=dict(x=\"Date\", y=\"vaccination\"))\nfig.show()\n\n\npy.plot(fig, filename = 'egypt_cases', auto_open = False)","a89114b4":"df_nan = df_nan.drop(columns = ['continent',  'new_vaccinations_smoothed', 'date'])","7ce1fc8f":"from sklearn.preprocessing import LabelEncoder\nlabel_encoder = LabelEncoder()\ndf_model = df_nan.copy()\n\ndf_model['iso_code'] = label_encoder.fit_transform(df_model['iso_code'])\ndf_model['location'] = label_encoder.fit_transform(df_model['location'])","47db70c3":"#Linear regression model\nfrom sklearn.model_selection import train_test_split\n\nX = df_model.drop(\"new_cases\" , axis = 1).values\ny = df_model['new_cases'].values\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30, random_state=42)","f1c7500b":"from sklearn.preprocessing import StandardScaler\n\nscale = StandardScaler ()\nX_train = scale.fit_transform(X_train)\nX_test = scale.fit_transform(X_test)","b91d5589":"from sklearn.linear_model import LinearRegression\n\n\nlr = LinearRegression()\nlr.fit(X_train,y_train)","4a47aa18":"lr.score(X_train,y_train)","311a2e28":"lr.score(X_test,y_test)","7e13b587":"from sklearn.linear_model import Ridge\nrid = Ridge()","024584f4":"rid.fit(X_train,y_train)","bcce1ffe":"rid.score(X_train,y_train)","3f02e9f2":"rid.score(X_test,y_test)","40dd4ca7":"from sklearn.linear_model import Lasso\n\nmodel_lasso = Lasso(alpha=0.01)\nmodel_lasso.fit(X_train, y_train) \n","81c70248":"pred_train_lasso= model_lasso.predict(X_train)","bc2982d4":"model_lasso.score(X_train,y_train)","3953208c":"pred_test_lasso= model_lasso.predict(X_test)","db1a1880":"model_lasso.score(X_test,y_test)","dd6c25fb":"y_pred = lr.predict(X_test)\ny_pred2 = rid.predict(X_test)","8dd38c71":"from sklearn.metrics import r2_score\n\nr2 = r2_score(y_test , y_pred)\nr2","325b528d":"import statsmodels.api as sm\nfrom scipy import stats\nX2 = sm.add_constant(X)\nest = sm.OLS(y,X2)\nest2 = est.fit()\nest2.summary()","cd086a9a":"y_pred = lr.predict(X_test)\ntest = pd.DataFrame({'Predicted':y_pred,'Actual':y_test})\nfig= plt.figure(figsize=(16,8))\ntest = test.reset_index()\ntest = test.drop(['index'],axis=1)\nplt.plot(test[:50])\nplt.legend(['Actual','Predicted'])\nsns.jointplot(x='Actual',y='Predicted',data=test,kind='reg',);","7db0cf37":"#interactive map\n\nfrom chart_studio import plotly\nimport plotly.offline as pyoff\nimport plotly.graph_objs as go\nimport cufflinks as cf\n\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n\n\ninit_notebook_mode(connected = True)\ncf.go_offline()\n\n\n\n\ndata = dict(type  = 'choropleth', \n\t\tlocations = countries['iso_code'], \n\t\tcolorscale = 'portland', \n\t\ttext = countries['location'], \n\t\tz = countries['total_cases'],\n\t\tcolorbar = {'title' : 'cases around the world'})\n\nlayout = dict(title = 'cases around the world', geo = dict(showframe = False, projection = {'type': 'mercator'}))\n\nchoromap = go.Figure(data = [data], layout = layout)\niplot(choromap) \n\n\n\n\n\nfig = px.choropleth(df_nan.reset_index(), locations=\"iso_code\",\n                    color=\"total_cases\",\n                    color_continuous_scale=px.colors.sequential.Electric,\n                   title= \"total_cases\")\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})  #No margin on left, right, top and bottom\nfig.show()","e990a64f":"### increasing to the number of tests performed on people for covid-19 reveals greater number of cases so we could have more accurate data and representations so governments can deal with it","d9b31996":"### **We may drop columns that are duplicated but with different scales (in hundreds, thousands...etc) as original values will be more accurate and helpful to our study**\n\n","fc9752a0":"## Lasso Regression","de30d654":"### we can trace the number of cases around the world through the three waves since Oct 2020, and going for the 4th wave by Oct 2021","eafe7ff0":"### the distribution of new cases according to the continents","6e38f04e":"# Dealing with NULLS","f51e08cd":"# EDA \n### 1- Missing values\n### 2- Outliers\n### 3- Taking insights from data","f82b3393":"### From these informations we can already see that some features won't be relevant in our exploratory analysis, as there are too many missing values. Plus there is so much features to analyse that it may be better to concentrate on the ones which can give us real insights and have high correlation with the study we are onducting. most of the these features have NaN percentage of above 80% so it would be more helpful to drop them as well","0ba5ea74":"### the curve for the cases is continuing to grow, as covid-19 is continuously developing new variants","a6204c4f":"#### USA, India and Brazil have the highest number of total cases","2c36b4cb":"# MODELS\n## Linear Regression","7d4f5736":"### we can see the ratio of death cases to new cases ratio is very low","a479c635":"### India was the highest to vaccinate its population due to the big wave that occured mid-june following the black fungus\n### other countries going with normal pace with USA being the 2nd after India","f2a3ad59":"## Ridge Regression","f7995b81":"## SUPPORT VECTOR REGRESSION","583386df":"### number of fully vaccinated people started increasing with higher speed starting from the beginning of 2021","9f83f2a2":"### visualising the results","a4767e87":"# Outliers\n\n## I believ that dealing with outliers is of no use as the nature of the distribution of the data is left skewed, as the data is decreasing by time naturally.","98765b14":"## KNN","360acc11":"## Decision Tree","3f990bf4":"### we can see the effect of vaccinating people on lowering the number of new cases (both in USA and World) and the effect it has on decreasing deaths numbers\n### but now as we are going through the 4th wave, and the new emerging covid-19 variants, vaccination's effect becoming lower","31596ee5":"### Egypt started vaccinating more people throught the third wave (August 2021)","5b6a424d":"# Visualisations and insights"}}