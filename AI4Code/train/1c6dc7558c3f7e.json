{"cell_type":{"7f3a016f":"code","f478ba6e":"code","863abe28":"code","140fb323":"code","86df8193":"code","15a68f32":"markdown"},"source":{"7f3a016f":"import json\nimport os\n\nimport numpy as np\nimport pandas as pd\nfrom tqdm import tqdm","f478ba6e":"data = {'stars': [], 'text': []}\n\nwith open('..\/input\/yelp_academic_dataset_review.json') as f:\n    for line in tqdm(f):\n        review = json.loads(line)\n        data['stars'].append(review['stars'])\n        data['text'].append(review['text'])","863abe28":"df = pd.DataFrame(data)\n\nprint(df.shape)\ndf.head()","140fb323":"df['stars'] = df['stars'].astype('category')\ndf['text'] = df['text'].astype(str)","86df8193":"df.to_csv('yelp_reviews.csv', index=False)","15a68f32":"It seems that in the recent version of the dataset, the original csv file format was removed, and replaced by JSONs. This extremely simple script converts the json format into a single CSV file, which contains only the text and the associated rating. Feel free to use the output."}}