{"cell_type":{"e476410e":"code","55b2b227":"code","3b7df1df":"code","e34a1390":"code","e76f3177":"code","976c8ffe":"code","b761f9e3":"code","64afbfc5":"code","3a6053a4":"code","cc645ffe":"code","07e72710":"code","8937929c":"markdown","98d6698e":"markdown","733dd3fd":"markdown","0b2e04a9":"markdown","5a922007":"markdown"},"source":{"e476410e":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport os\nimport seaborn as sns\nimport statistics\nfrom scipy import stats\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \nplt.style.use('dark_background')","55b2b227":"df=pd.read_csv('\/kaggle\/input\/2020-general-election-polls\/county_statistics.csv') #importing our data\n#df = df.dropna(axis=0)","3b7df1df":"difference_votes = (df[\"total_votes20\"] - df[\"total_votes16\"])\/max(df[\"total_votes20\"] - df[\"total_votes16\"])*100\ndifference_votes = difference_votes.dropna(axis=0)\ndifference_votes.plot.hist()\nplt.yscale('log')\nplt.title(\"Number of states for increase in number of voter (%), yscale is log\")\nplt.xlabel(\"% difference in voters between 2016 and 2020\")\nplt.ylabel(\"Number of counties (logscale)\")\nplt.show()","e34a1390":"diff = df[\"total_votes20\"] - df[\"total_votes16\"]\ndiff = diff.dropna(axis=0)\nsum_total = sum(diff)\nprint(\"Absolute difference in voters in the country: {}\".format(int(sum_total)))","e76f3177":"tr = df.loc[df['votes20_Donald_Trump'] > df['votes20_Joe_Biden']]\ndifference_votes = (tr[\"total_votes20\"] - tr[\"total_votes16\"])\/max(tr[\"total_votes20\"] - tr[\"total_votes16\"])*100\ndifference_votes = difference_votes.dropna(axis=0)\ndifference_votes.plot.hist(color=\"red\")\nplt.yscale('log')\nplt.title(\"Number of states for increase in number of voter among couties DT won (%), yscale is log\")\nplt.xlabel(\"% difference in voters between 2016 and 2020\")\nplt.ylabel(\"Number of counties (logscale)\")\nplt.show()\ndiff = tr[\"total_votes20\"] - tr[\"total_votes16\"]\ndiff = diff.dropna(axis=0)\nsum_total = sum(diff)\nprint(\"Absolute difference in voters in counties that voted DT in 2020: {}\".format(int(sum_total)))","976c8ffe":"bi = df.loc[df['votes20_Donald_Trump'] < df['votes20_Joe_Biden']]\ndifference_votes = (bi[\"total_votes20\"] - bi[\"total_votes16\"])\/max(bi[\"total_votes20\"] - bi[\"total_votes16\"])*100\ndifference_votes = difference_votes.dropna(axis=0)\ndifference_votes.plot.hist(color=\"blue\")\nplt.yscale('log')\nplt.title(\"Number of states for increase in number of voter among couties JB won (%), yscale is log\")\nplt.xlabel(\"% difference in voters between 2016 and 2020\")\nplt.ylabel(\"Number of counties (logscale)\")\nplt.show()\ndiff = bi[\"total_votes20\"] - bi[\"total_votes16\"]\ndiff = diff.dropna(axis=0)\nsum_total = sum(diff)\nprint(\"Absolute difference in voters in counties that voted JB in 2020: {}\".format(int(sum_total)))","b761f9e3":"hc_jb = df.loc[(df['votes20_Donald_Trump'] < df['votes20_Joe_Biden'])]\nhc_dt = df.loc[(df['votes20_Donald_Trump'] > df['votes20_Joe_Biden'])]\nplt.bar([\"JB\", \"DT\"], [len(hc_jb.index), len(hc_dt.index)],color=[\"blue\",\"red\"])\n[len(hc_jb.index), len(hc_dt.index)]\nplt.title(\"Candidate voted by counties\")\nplt.xlabel(\"Candidate\")\nplt.ylabel(\"Number of counties\")\nplt.show()","64afbfc5":"hc_jb = df.loc[(df['votes20_Donald_Trump'] < df['votes20_Joe_Biden']) & (df['votes16_Donald_Trump'] < df['votes16_Hillary_Clinton'])]\nhc_dt = df.loc[(df['votes20_Donald_Trump'] > df['votes20_Joe_Biden']) & (df['votes16_Donald_Trump'] < df['votes16_Hillary_Clinton'])]\nplt.bar([\"JB\", \"DT\"], [len(hc_jb.index), len(hc_dt.index)],color=[\"blue\",\"red\"])\n[len(hc_jb.index), len(hc_dt.index)]\nplt.title(\"Candidate voted by counties that voted HC in 2016\")\nplt.xlabel(\"Candidate\")\nplt.ylabel(\"Number of counties\")\nplt.show()\nprint(\"Number of couties that shifted to from HC to DT: {}\".format(len(hc_dt.index)))","3a6053a4":"dt_jb = df.loc[(df['votes20_Donald_Trump'] < df['votes20_Joe_Biden']) & (df['votes16_Donald_Trump'] > df['votes16_Hillary_Clinton'])]\ndt_dt = df.loc[(df['votes20_Donald_Trump'] > df['votes20_Joe_Biden']) & (df['votes16_Donald_Trump'] > df['votes16_Hillary_Clinton'])]\nplt.bar([\"JB\", \"DT\"], [len(dt_jb.index), len(dt_dt.index)],color=[\"blue\",\"red\"])\n[len(dt_jb.index), len(dt_dt.index)]\nplt.title(\"Candidate voted by counties that voted DT in 2016\")\nplt.xlabel(\"Candidate\")\nplt.ylabel(\"Number of counties\")\nplt.show()\nprint(\"Number of couties that shifted to from DT to JB: {}\".format(len(dt_jb.index)))","cc645ffe":"plt.figure(figsize=(12,8))\nhm = sns.heatmap(df[[\"state\", \"votes16_Donald_Trump\", \"votes16_Hillary_Clinton\",\"votes20_Donald_Trump\", \"votes20_Joe_Biden\"]].corr(), annot = True) #overall correlation between the various columns present in our data\nplt.title('Overall relation between columns of the Dataset', fontsize = 20)\nplt.show()\n","07e72710":"plt.figure(figsize=(12,8))\ncorrs = df[list(df.columns[15:]) + [\"votes20_Donald_Trump\", \"votes20_Joe_Biden\", \"votes16_Donald_Trump\", \"votes16_Hillary_Clinton\"]].corr()\ncorrs = corrs[[\"votes20_Donald_Trump\", \"votes20_Joe_Biden\", \"votes16_Donald_Trump\", \"votes16_Hillary_Clinton\"]]\nhm = sns.heatmap(corrs, annot = True) #overall correlation between the various columns present in our data\nplt.title('Relations between votes in 20 and 16 to non voting data', fontsize = 20)\nplt.show()\n","8937929c":"Many more counties voted DT in 2020.","98d6698e":"Some states record a decrease in voters but most states record an increase or stable number of voters.","733dd3fd":"Let's start with some general data comparison between 2016 and 2020","0b2e04a9":"We see high correlation betweend all these variables. This show few changes between elections","5a922007":"This confirms a global increase."}}