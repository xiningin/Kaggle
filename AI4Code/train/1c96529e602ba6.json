{"cell_type":{"c3520542":"code","6e3c8b73":"code","d3d82ce7":"code","92b26e77":"code","77919fd6":"code","f44baffb":"code","9838ce18":"code","c6996a92":"code","602ac73e":"markdown","964eb8d0":"markdown","6dd4b6a7":"markdown","f221f8d8":"markdown","4596a137":"markdown"},"source":{"c3520542":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","6e3c8b73":"# From SciPython book: https:\/\/scipython.com\/book\/chapter-8-scipy\/additional-examples\/the-sir-epidemic-model\/\n\n# Plugging in estimates for Novel Coronavirus and US.\n\nimport numpy as np\nfrom scipy.integrate import odeint\nimport matplotlib.pyplot as plt\n\n# The SIR model differential equations.\ndef deriv(y, t, N, beta, gamma):\n    S, I, R = y\n    dSdt = -beta * S * I \/ N\n    dIdt = beta * S * I \/ N - gamma * I\n    dRdt = gamma * I\n    return dSdt, dIdt, dRdt\n\ndef plot_sir_curves(title, N, I0, R0, beta, gamma):\n    R_0 = beta \/ gamma\n\n    # A grid of time points (in days)\n    t = np.linspace(0, 365 * 2, 1000)\n\n    # Initial conditions vector\n    y0 = S0, I0, R0\n    # Integrate the SIR equations over the time grid, t.\n    ret = odeint(deriv, y0, t, args=(N, beta, gamma))\n    S, I, R = ret.T\n\n    # Plot the data on three separate curves for S(t), I(t) and R(t)\n    fig = plt.figure(facecolor='w', figsize=(20, 10))\n\n    ax = fig.add_subplot(111) #, axisbelow=True)\n    ax.plot(t, S, 'b', alpha=0.5, lw=2, label='Susceptible')\n    ax.plot(t, I, 'r', alpha=0.5, lw=2, label='Infected')\n    ax.plot(t, R, 'g', alpha=0.5, lw=2, label='Recovered with immunity')\n    ax.set_xlabel('Time \/days')\n    ax.set_ylabel('Number')\n    ax.set_ylim(0, N * 1.1)\n    ax.yaxis.set_major_formatter(plt.FuncFormatter(lambda x, loc: \"{:,}\".format(int(x))))\n\n    legend = ax.legend()\n    legend.get_frame().set_alpha(1.0)\n\n    ax.minorticks_on()\n    ax.grid(b=True, axis='y', which='minor', linestyle=':')\n    ax.grid(b=True, axis='y', which='major', lw=2, ls='-')\n    ax.grid(b=True, axis='x', which='major', lw=2, ls='-', alpha=0.5)\n\n    plt.title(\"{:}\\n(R_0: {:.3f}, beta: {:.3f})\".format(title, R_0, beta))\n\n    plt.show()","d3d82ce7":"# Total population, N.\nN = 327000000\n\n# Initial number of infected and recovered individuals, I0 and R0.\nI0, R0 = 3500, 0\n# Everyone else, S0, is susceptible to infection initially.\nS0 = N - I0 - R0\n\n# mean recovery rate, gamma, (in 1\/days).\ngamma = 1.\/14\n\n# Contact rate, beta (percent of population touched+infected by an infected person daily).\n# Also, R_0 = beta \/ gamma\nR_0 = 4\nbeta = R_0 * gamma\n\nplot_sir_curves(\"US - Worst Case Estimate, No Lockdown Scenario\", N, I0, R0, beta, gamma)","92b26e77":"# Total population, N.\nN = 327000000\n\n# Initial number of infected and recovered individuals, I0 and R0.\nI0, R0 = 3500, 0\n# Everyone else, S0, is susceptible to infection initially.\nS0 = N - I0 - R0\n\n# mean recovery rate, gamma, (in 1\/days).\ngamma = 1.\/14\n\n# Contact rate, beta (percent of population touched+infected by an infected person daily).\n# Also, R_0 = beta \/ gamma\nR_0 = 1.4\nbeta = R_0 * gamma\n\nplot_sir_curves(\"US - Optimistic Estimate, No Lockdown Scenario\", N, I0, R0, beta, gamma)","77919fd6":"# Total population, N.\nN = 327000000\n\n# Initial number of infected and recovered individuals, I0 and R0.\nI0, R0 = 3500, 0\n# Everyone else, S0, is susceptible to infection initially.\nS0 = N - I0 - R0\n\n# mean recovery rate, gamma, (in 1\/days).\ngamma = 1.\/14\n\n# Contact rate, beta (percent of population touched+infected by an infected person daily).\n# Also, R_0 = beta \/ gamma\nR_0 = 2.5\nbeta = R_0 * gamma\n\nplot_sir_curves(\"US - Reasonable $R_0$ with no lockdown\", N, I0, R0, beta, gamma)","f44baffb":"# Total population, N.\nN = 327000000\n\n# Initial number of infected and recovered individuals, I0 and R0.\nI0, R0 = 3500, 0\n# Everyone else, S0, is susceptible to infection initially.\nS0 = N - I0 - R0\n\n# mean recovery rate, gamma, (in 1\/days).\ngamma = 1.\/14\n\n# Contact rate, beta (percent of population touched+infected by an infected person daily).\n# Also, R_0 = beta \/ gamma\nR_0 = 2.5\nbeta = R_0 * gamma * (1 - 0.25)\n\nplot_sir_curves(\"US - Lockdown 25% Effective Scenario\", N, I0, R0, beta, gamma)","9838ce18":"# Total population, N.\nN = 327000000\n\n# Initial number of infected and recovered individuals, I0 and R0.\nI0, R0 = 3500, 0\n# Everyone else, S0, is susceptible to infection initially.\nS0 = N - I0 - R0\n\n# mean recovery rate, gamma, (in 1\/days).\ngamma = 1.\/14\n\n# Contact rate, beta (percent of population touched+infected by an infected person daily).\n# Also, R_0 = beta \/ gamma\nR_0 = 2.5\nbeta = R_0 * gamma * (1 - 0.4)\n\nplot_sir_curves(\"US - Lockdown 40% Effective Scenario\", N, I0, R0, beta, gamma)","c6996a92":"# Total population, N.\nN = 327000000\n\n# Initial number of infected and recovered individuals, I0 and R0.\nI0, R0 = 3500, 0\n# Everyone else, S0, is susceptible to infection initially.\nS0 = N - I0 - R0\n\n# mean recovery rate, gamma, (in 1\/days).\ngamma = 1.\/14\n\n# Contact rate, beta (percent of population touched+infected by an infected person daily).\n# Also, R_0 = beta \/ gamma\nR_0 = 2.5\nbeta = R_0 * gamma * (1 - 0.60)\n\nplot_sir_curves(\"US - Lockdown 60% Effective Scenario\", N, I0, R0, beta, gamma)","602ac73e":"# Pessimistic Scenario\n\nUse an $R_0=4$.  This is among the higher estimates in https:\/\/sph.umich.edu\/pursuit\/2020posts\/how-scientists-quantify-outbreaks.html.\n\nAssumes no social distancing and virus is left free to spread at this \"natural\" rate.","964eb8d0":"# SIR Modelling of COVID-19\n\nWhat does a naive SIR model have to say about the likely course of COVID-19 through the US population?\n\nSee https:\/\/en.wikipedia.org\/wiki\/Compartmental_models_in_epidemiology#The_SIR_model for an explanation of the model and its underlying assumptions.\n\nThis model has no concept of uncertainty, super-spreader events, geographic distances, or anything like that.  It's just really straightforward math about rates of infection and recovery.  Given how little data we have to work with right now, that seems fine.","6dd4b6a7":"Everything from here on out starts with an $R_0=2.5$, which is closer to the middle of the estimate range.","f221f8d8":"# Reasonable Estimates + Social Distancing\n\nAssumes a more middle-of-the-road $R_0=2.5$.  Looks at \"social distancing\" in terms of its impact on the contact rate ($\\beta$).","4596a137":"# Optimistic Scenario\n\nUse an $R_0=1.4$.  This is among the lower estimates in https:\/\/sph.umich.edu\/pursuit\/2020posts\/how-scientists-quantify-outbreaks.html.\n\nAssumes no social distancing and virus is left free to spread at this \"natural\" rate."}}