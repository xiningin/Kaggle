{"cell_type":{"8e086df3":"code","af651507":"code","e803f784":"code","dd59e7bc":"code","fd8e2e1d":"code","6830a29a":"code","f9af8ac8":"code","04f2dbce":"code","8cbadd98":"markdown","e04fe3cb":"markdown"},"source":{"8e086df3":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport spacy\nnlp = spacy.load(\"en_core_web_sm\")\nimport gensim\nimport matplotlib.pyplot as plt\nimport plotly\nimport datetime\nimport plotly.graph_objects as go\nimport plotly.express as px\nfrom wordcloud import WordCloud, STOPWORDS\nfrom textblob import TextBlob \nimport re\nfrom collections import Counter\nfrom pandasql import sqldf\npysqldf = lambda q: sqldf(q, globals())\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\nimport warnings\nwarnings.filterwarnings('ignore')","af651507":"data = pd.read_csv(\"\/kaggle\/input\/netflix-shows\/netflix_titles.csv\")\n# IMDb_titles = pd.read_csv(\"\/kaggle\/input\/imdb-dataset\/title.basics.tsv\/title.basics.tsv\", sep = \"\\t\")\n# IMDb_name = pd.read_csv(\"\/kaggle\/input\/imdb-dataset\/name.basics.tsv\/name.basics.tsv\", sep = \"\\t\")","e803f784":"data.head(5)","dd59e7bc":"genres = []\nfor row in data.listed_in.str.split(\",\"):\n    for el in row:\n        genres.append(el)\ngenres = pd.Series(genres)\ngenres.shape","fd8e2e1d":"# bold('**MOST POPULAR GENRES ON NETFILX ARE:**')\n# bold('**DOCUMENTARIES,COMEDIES, DRAMAS, INTERNATIONAL, ACTION**')\nimport squarify\n# data['Genres'] = data['listed_in'].str.extract('([A-Z]\\w{2,})', expand=True)\ngenres = []\nfor row in data.listed_in.str.replace(\"Movies\",\"\").str.replace(\"TV Shows\", \"\").str.replace(\"TV\", \"\").str.split(\",\"):\n    for el in row:\n        genres.append(el.strip())\ngenres = pd.DataFrame(genres)\ngenres.columns = ['Genres']\ntemp_df = genres['Genres'].value_counts().reset_index()\ntemp_df = temp_df[temp_df['Genres'] >= 100]\nsizes=np.array(temp_df['Genres'])\nlabels=temp_df['index']\ncolors = [plt.cm.Paired(i\/float(len(labels))) for i in range(len(labels))]\nplt.figure(figsize=(12,8), dpi= 100)\nsquarify.plot(sizes=sizes, label=labels, color = colors, alpha=.5, edgecolor=\"black\", linewidth=1, text_kwargs={'fontsize':11})\nplt.title('Treemap of Genres of Netflix Show', fontsize = 15)\nplt.axis('off')\nplt.show()\n# px.treemap(temp_df, values = \"Genres\")","6830a29a":"temp_df = data.query(\"type == 'Movie'\")\ntemp_df['duration'] = temp_df['duration'].str.replace(\" min\",\"\").str.strip()\ntemp_df['rating'] = temp_df['rating'].fillna(\"NA\")\ntemp_df['release_year'] = temp_df['release_year'].astype('str')\ntemp_df.duration = temp_df.duration.astype('int')\ntemp_df['Genre'] = temp_df.listed_in.apply(lambda x: x.split(\",\")[0].replace(\"Movies\",\"\").replace(\"TV Shows\",\"\").replace(\"TV\",\"\").strip())\ntemp_df = temp_df.groupby(['Genre']).mean().reset_index()\nfig = px.line_polar(temp_df,r = \"duration\", theta = \"Genre\", line_close = True, template = \"plotly_dark\")\nfig.update_layout(title = \"How Duration varies with Genre\")\nfig.show()","f9af8ac8":"temp_df = data.query(\"type == 'TV Show'\")\ntemp_df['duration'] = temp_df['duration'].str.replace(\" Seasons\",\"\").str.replace(\" Season\",\"\").str.strip()\ntemp_df.head()\n# temp_df['rating'] = temp_df['rating'].fillna(\"NA\")\n# temp_df['release_year'] = temp_df['release_year'].astype('str')\n# temp_df['']\ntemp_df.duration = temp_df.duration.astype('int')\ntemp_df['Genre'] = temp_df.listed_in.apply(lambda x: x.split(\",\")[0].replace(\"Movies\",\"\").replace(\"TV Shows\",\"\").replace(\"TV\",\"\").strip())\ntemp_df = temp_df.groupby(['Genre']).mean().reset_index()\nfig = px.line_polar(temp_df,r = \"duration\", theta = \"Genre\", line_close = True, template = \"plotly_dark\")\nfig.update_layout(title = \"How Seasons varies with Genre\")\n# fig.show()","04f2dbce":"from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nplt.rcParams['figure.figsize'] = (13, 13)\nwordcloud = WordCloud(stopwords=STOPWORDS,background_color = 'black', width = 1000,  height = 1000, max_words = 121).generate((' '.join(data['description']).lower()))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.title('Most Popular Words in description',fontsize = 30)\nplt.show()","8cbadd98":"The Above Radar shows the relationship between genre and the run time of the movie. We can clearly see Dramas, Classics take shortest runtime!","e04fe3cb":"From the above Tree Map we can say that Drama and International TV Shows are the dominant genre on Netflix"}}