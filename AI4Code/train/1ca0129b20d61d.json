{"cell_type":{"9c4a8547":"code","6022a029":"code","d71d6cc8":"code","4133e716":"code","db1ad14c":"code","bea70aad":"code","d655825d":"code","c315016e":"code","9d857ec0":"code","1dd81ce3":"code","f0ee38dd":"code","4594797b":"code","86c9bdbf":"code","ebfb71cc":"code","d3fb1b39":"code","9514ee34":"code","09dbb73d":"code","20dc5395":"code","e5bb7073":"markdown","96ff4ef6":"markdown"},"source":{"9c4a8547":"# Load libraries\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","6022a029":"pip install pandas-bokeh","d71d6cc8":"import pandas_bokeh\npandas_bokeh.output_notebook()","4133e716":"# Load data\ndf = pd.read_csv(\"..\/input\/the-worlds-biggest-companies-2021\/The Worlds Biggest Public Companies.csv\",delimiter=';')\ndf.head(4)","db1ad14c":"df.info()","bea70aad":"df['Country'].value_counts()","d655825d":"def get_number(text):\n    \"\"\"\n    remove the dollar and B symbols and then convert to float\n    \"\"\"\n    try:\n        text_to_number = float(text.replace(\"$\",\"\").replace(\" B\",\"\").replace(\",\",\"\"))\n        \n    except:\n        text_to_number = float(text.replace(\"$\",\"\").replace(\" M\",\"\").replace(\",\",\"\"))\/1000\n                \n    return text_to_number\n    ","c315016e":"df1 = df.copy()\n","9d857ec0":"for i in range(3,7):\n    df1.iloc[:,i] = df1.iloc[:,i].apply(get_number)\ndf1.head(4)","1dd81ce3":"df1_melt = df1.melt(id_vars=[\"Rank\", \"Name\",\"Country\"], var_name=\"Parameter\", value_name=\"Value\")\ndf1_melt.head()","f0ee38dd":"df1['cut'] = pd.cut(df1['Rank'],bins=range(0,550,50),labels=range(10))\ndf1","4594797b":"df2 = df1.melt(id_vars=[\"Rank\", \"Name\",\"Country\",\"cut\"], var_name=\"Parameter\", value_name=\"Value\")\ndf2.head()","86c9bdbf":"\np_profit_sales = df1.plot_bokeh.scatter(\n    x=\"Sales\",\n    y=\"Profit\",\n    category=\"cut\",\n    hovertool_string=\"\"\"@Name , @Country\"\"\"\n    #title=\"Profit vs Sales\",\n    #show_figure=False,\n)","ebfb71cc":"\np_profit_Assets = df1.plot_bokeh.scatter(\n    x=\"Assets\",\n    y=\"Profit\",\n    category=\"cut\",\n    hovertool_string=\"\"\"@Name , @Country\"\"\"\n    #title=\"Profit vs Sales\",\n    #show_figure=False,\n)\n","d3fb1b39":"\np_profit_marketvalue = df1.plot_bokeh.scatter(\n    x=\"Market Value\",\n    y=\"Profit\",\n    category=\"cut\",\n    hovertool_string=\"\"\"@Name , @Country\"\"\"\n    #title=\"Profit vs Sales\",\n    #show_figure=False,\n)\n","9514ee34":"p_sales_Assets = df1.plot_bokeh.scatter(\n    x=\"Assets\",\n    y=\"Sales\",\n    category=\"cut\",\n    alpha=0.8,\n    #size=\"Profit\",\n    hovertool_string=\"\"\"@Name <br>@Country <br>Rank: @Rank\"\"\"\n    #title=\"Profit vs Sales\",\n    #show_figure=False,\n)\n","09dbb73d":"p_sales_marketvalue = df1.plot_bokeh.scatter(\n    x=\"Market Value\",\n    y=\"Sales\",\n    category=\"cut\",\n    alpha=0.8,\n    #size=\"Profit\",\n    hovertool_string=\"\"\"@Name <br>@Country <br>Rank: @Rank\"\"\"\n    #title=\"Profit vs Sales\",\n    #show_figure=False,\n)\n","20dc5395":"p_assets_marketvalue = df1.plot_bokeh.scatter(\n    x=\"Assets\",\n    y=\"Market Value\",\n    category=\"cut\",\n    alpha=0.8,\n    #size=\"Profit\",\n    hovertool_string=\"\"\"@Name <br>@Country <br>Rank: @Rank\"\"\"\n    #title=\"Profit vs Sales\",\n    #show_figure=False,\n)\n","e5bb7073":"### Process data","96ff4ef6":"## The World's Biggest Public Companies"}}