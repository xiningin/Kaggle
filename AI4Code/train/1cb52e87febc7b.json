{"cell_type":{"e71fd708":"code","0ac8f247":"code","2b5c6911":"code","3a9e02dc":"code","d4f884df":"code","d9cbd904":"code","1fd07c44":"code","e1ff85b8":"code","16cd6223":"code","41f0260d":"code","34fa237f":"code","67c4d1c6":"code","96203d36":"code","ed58b96b":"code","5859d0d2":"code","4a29984f":"code","b9a3c81e":"code","aa14eb62":"code","76507338":"code","74449c07":"code","eecaa20d":"code","c33f0861":"code","f4adbc1c":"code","fafc51ae":"code","6be467a0":"code","098390d4":"code","cb62ef58":"code","e765ff3f":"code","3613d486":"code","b3de5b65":"code","f9a9df22":"code","708ed61c":"code","bdce6fb1":"code","000ca3c0":"code","38ea47ac":"code","885f3352":"code","7376fbb8":"code","f92ba2ac":"code","079212fe":"code","a56a6cbd":"code","d887d8ea":"code","7c633018":"code","b5c502ee":"code","0d6e2cd2":"code","38af5c7b":"code","00540056":"code","06c8ec46":"code","cb3dff23":"code","6742dfd6":"code","24b20445":"code","1b2dc536":"code","879aaedc":"code","26b3cede":"code","9632e1cc":"code","fc59b64d":"code","42626cd8":"code","85be4dbc":"code","6dc922d9":"code","ded592fb":"code","52cd08a2":"code","4eaa684a":"code","c3e04ab0":"code","3f38ce11":"code","2c211d0b":"code","42f5bef6":"code","e628f6a9":"code","10b94166":"code","57c719e6":"code","bdcf8e97":"code","d81027ce":"code","88d9cf57":"code","40437c58":"code","27abab38":"code","e704956a":"code","eb157b20":"code","c7edde51":"code","673821ac":"code","c7b30ec2":"code","871c4169":"code","760707ff":"code","e14c3ce5":"code","36b7de32":"code","f38b71cf":"code","2251b3f1":"code","4237678d":"code","a4f597c9":"code","37f80e01":"code","c35c01b1":"code","357a682d":"code","eb1c0b75":"markdown","6bca5eb9":"markdown","937ac3e2":"markdown","d28efec7":"markdown","d9e2ef02":"markdown","142b62bc":"markdown","301f1af2":"markdown","fbb3fd55":"markdown","23aba485":"markdown","f79ddc43":"markdown","b50e2465":"markdown","3d10aa4b":"markdown","8df6d53d":"markdown","ce4af160":"markdown","17deb8dd":"markdown","1b43655d":"markdown","ed478159":"markdown"},"source":{"e71fd708":"import pandas as pd","0ac8f247":"address = '..\/input\/insurance\/insurance.csv'","2b5c6911":"df = pd.read_csv(address)","3a9e02dc":"df","d4f884df":"df.isnull().values.ravel().sum()  ","d9cbd904":"import pandas_profiling","1fd07c44":"pandas_profiling.ProfileReport(df)","e1ff85b8":"df['charges'].describe().T","16cd6223":"df.boxplot(column=['charges'])","41f0260d":"import seaborn as sns","34fa237f":"ax = sns.boxplot(x=df[\"charges\"])","67c4d1c6":"df['age'].value_counts()[:20].plot(kind='barh')","96203d36":"df['age'].describe().T","ed58b96b":"df.boxplot(column=['age'])","5859d0d2":"ax = sns.boxplot(x=df[\"age\"])","4a29984f":"import matplotlib.pyplot as plt","b9a3c81e":"sns.relplot(x='age', y='charges', hue= 'smoker', data=df, palette='husl',aspect=2,height=6)\nplt.title('Effect of Age on Charges')","aa14eb62":"sns.relplot(x='age', y='charges', hue='smoker', style= 'sex', data=df, palette='husl',aspect=2,height=6)\nplt.title('Combined effect of Age and Smoking on Charges')","76507338":"sns.relplot(x='age', y='charges', hue= 'sex', data=df, palette='husl',aspect=2,height=6)\nplt.title('Effect of Age on Charges')","74449c07":"sns.relplot(x='age', y='charges', col='sex',data=df, palette='husl')","eecaa20d":"sns.lmplot(x='age', y='charges', hue='smoker', col='sex',data=df, palette='husl')","c33f0861":"df['sex'].value_counts().plot(kind='barh')","f4adbc1c":"ax = sns.boxplot(x=\"sex\", y=\"charges\", data=df)","fafc51ae":"ax = sns.swarmplot(x=\"sex\", y=\"charges\", data=df)","6be467a0":"ax = sns.catplot(x=\"sex\", y=\"charges\", data=df)","098390d4":"ax = sns.swarmplot(x=\"sex\", y=\"charges\", data=df, color=\".25\")\nax = sns.boxplot(x=\"sex\", y=\"charges\", data=df)","cb62ef58":"sns.violinplot(x=\"sex\", y='charges', hue=\"smoker\", data=df, palette='Dark2')\nplt.title('Effect of Smoking on Charges of males and females')","e765ff3f":"df['children'].value_counts().plot(kind='barh')","3613d486":"ax = sns.boxplot(x=\"children\", y=\"charges\", data=df)","b3de5b65":"ax = sns.swarmplot(x=\"children\", y=\"charges\", data=df)","f9a9df22":"ax = sns.swarmplot(x=\"children\", y=\"charges\", data=df, color=\".25\")\nax = sns.boxplot(x=\"children\", y=\"charges\", data=df)","708ed61c":"ax = sns.catplot(x=\"children\", y=\"charges\", data=df)","bdce6fb1":"ax = sns.catplot(x=\"children\", y='charges', hue='sex', kind='box',data=df)","000ca3c0":"sns.catplot(x=\"children\", y='charges', hue='smoker', kind='box',data=df)","38ea47ac":"df['smoker'].value_counts().plot(kind='barh')","885f3352":"ax = sns.boxplot(x=\"smoker\", y=\"charges\", data=df)","7376fbb8":"ax = sns.swarmplot(x=\"smoker\", y=\"charges\", data=df)","f92ba2ac":"ax = sns.catplot(x=\"smoker\", y=\"charges\", data=df)","079212fe":"ax = sns.swarmplot(x=\"smoker\", y=\"charges\", data=df)\nax = sns.boxplot(x=\"smoker\", y=\"charges\", data=df)","a56a6cbd":"df['bmi'].value_counts().head().plot(kind='barh')","d887d8ea":"df['bmi'].describe().T","7c633018":"df.boxplot(column=['bmi'])","b5c502ee":"ax = sns.boxplot(x=df[\"bmi\"])","0d6e2cd2":"sns.relplot(x='bmi', y='charges', hue= 'sex', data=df, palette='husl',aspect=2,height=6)\nplt.title('Effect of Bmi on Charges')","38af5c7b":"sns.relplot(x='bmi', y='charges', style= 'sex', hue= 'smoker', data=df, palette='husl',aspect=2,height=6)\nplt.title('Effect of Bmi on Charges')","00540056":"sns.lmplot(x='bmi',y='charges',hue='smoker', col='sex',data=df)","06c8ec46":"df['region'].value_counts().plot(kind='barh')","cb3dff23":"ax = sns.boxplot(x=\"region\", y=\"charges\", data=df)","6742dfd6":"ax = sns.swarmplot(x=\"region\", y=\"charges\", data=df)","24b20445":"ax = sns.catplot(x=\"region\", y=\"charges\", data=df)","1b2dc536":"ax = sns.boxplot(x=\"region\", y=\"charges\", data=df)\nax = sns.swarmplot(x=\"region\", y=\"charges\", data=df, color=\".25\")","879aaedc":"sns.violinplot(x=\"region\", y='charges', data=df)","26b3cede":"sns.violinplot(x=\"region\", y='charges', hue=\"smoker\", data=df)","9632e1cc":"sns.pairplot(df, vars= ['age','bmi','children','charges'], hue='sex')","fc59b64d":"from sklearn import preprocessing","42626cd8":"label_encoder = preprocessing.LabelEncoder()","85be4dbc":"Sex = label_encoder.fit_transform(df['sex'])\nSex = pd.DataFrame({'sex': Sex})","6dc922d9":"df.sex = Sex","ded592fb":"df.sex ","52cd08a2":"Smoker = label_encoder.fit_transform(df['smoker'])\nSmoker = pd.DataFrame({'smoker': Smoker})","4eaa684a":"df.smoker = Smoker","c3e04ab0":"df.smoker ","3f38ce11":"Region = label_encoder.fit_transform(df['region'])\nRegion = pd.DataFrame({'region': Region})","2c211d0b":"df.region = Region","42f5bef6":"df.region ","e628f6a9":"y = df.charges ","10b94166":"X = df.drop(columns =['charges'])","57c719e6":"X.head(10)","bdcf8e97":"from sklearn.preprocessing import StandardScaler","d81027ce":"scaler = StandardScaler()","88d9cf57":"X = scaler.fit_transform(X)\nX = pd.DataFrame(X)","40437c58":"X","27abab38":"from sklearn.model_selection import train_test_split","e704956a":"X_train, X_test, y_train, y_test = train_test_split(\n    X, y, test_size=0.2, random_state=1)","eb157b20":"from sklearn.linear_model import LinearRegression","c7edde51":"regressor_linear = LinearRegression()","673821ac":"regressor_linear.fit(X_train, y_train)","c7b30ec2":"y_predict = regressor_linear.predict(X_test)","871c4169":"y_predict","760707ff":"Prediction = pd.DataFrame({'charges': y_predict})","e14c3ce5":"Prediction","36b7de32":"from sklearn.metrics import mean_squared_error","f38b71cf":"import numpy as np","2251b3f1":"rmse = np.sqrt(mean_squared_error(y_test, y_predict))\nprint(\"RMSE: %f\" % (rmse))","4237678d":"from xgboost import XGBRegressor","a4f597c9":"regressor_XGB = XGBRegressor(n_estimators=1000, learning_rate=0.05)","37f80e01":"regressor_XGB.fit(X_train, y_train, early_stopping_rounds=5, eval_set=[(X_test, y_test)], verbose=False)","c35c01b1":"y_predict = regressor_XGB.predict(X_test)","357a682d":"rmse = np.sqrt(mean_squared_error(y_test, y_predict))\nprint(\"RMSE: %f\" % (rmse))","eb1c0b75":"# Prediction","6bca5eb9":"Sex","937ac3e2":"# EDA","d28efec7":"### Corelation","d9e2ef02":"### Smoker","142b62bc":"### Data Split","301f1af2":"Smoker","fbb3fd55":"### XGB Regression","23aba485":"Region","f79ddc43":"### Age","b50e2465":"### Linear regression","3d10aa4b":"### Sex","8df6d53d":"### Region","ce4af160":"### Children","17deb8dd":"### Data Preparation","1b43655d":"### Bmi","ed478159":"### Charges"}}