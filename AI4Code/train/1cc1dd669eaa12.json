{"cell_type":{"13435c0f":"code","a58f6306":"code","bf6e5dd7":"code","2a7863f9":"code","a2d1fea7":"code","0e9f9b55":"code","be80f670":"code","2763980c":"code","e9adcdc5":"code","ee11b8c4":"code","ece0000b":"code","b6b5268b":"code","abc47fdb":"code","ae70675b":"code","bcf9e8b2":"code","05822c9b":"code","69edc011":"code","d506a225":"code","87c92972":"code","1ed2a21e":"code","d46fdf6f":"code","d6180e2d":"code","22d96a2a":"code","7c477923":"code","1016b90b":"code","8d17e61e":"code","e89e761b":"code","5e9dd93b":"code","a19cbea0":"code","e533f35f":"code","54efe9c9":"code","c23093c4":"code","57a71e53":"code","326a3a44":"code","0646c828":"code","7210bdb6":"code","ccfbc20a":"code","9fd59c73":"code","2a05af7d":"code","6667f710":"code","b0ace0ad":"code","f009127b":"code","870821ec":"code","11044639":"code","f41b6cdf":"code","f898663f":"code","0515b799":"code","b0c2f976":"code","2079ec27":"code","a241699a":"code","25a3334c":"code","bd8813a0":"code","cc21a73c":"code","1a967884":"code","0752397e":"code","4a687e07":"code","3abec04b":"code","9c87f3c7":"code","36a4e255":"code","3f9baf14":"code","37652e10":"code","cb31acfc":"code","00048992":"code","2755d18f":"code","0fe37eb7":"code","42f2b625":"code","311f9c2c":"code","c1757c07":"code","6acecf59":"code","fb653db4":"markdown","fa2bc025":"markdown","a10eafb7":"markdown","9be96d8a":"markdown","14b9e05a":"markdown","97cfb29e":"markdown","83db511d":"markdown","c366f5e7":"markdown","255d6d51":"markdown","c6ee9366":"markdown","bb1a55fc":"markdown","4ced9dfc":"markdown","447645e4":"markdown","94901b84":"markdown","b60d93c0":"markdown","c922e042":"markdown","822cd33a":"markdown","df7ae297":"markdown","9cd439a1":"markdown","db69e4ec":"markdown","61a9343b":"markdown","6253f215":"markdown","5255b437":"markdown","3f4ae309":"markdown","52f5750b":"markdown","57e0d45e":"markdown","78b554e7":"markdown","5988b386":"markdown","26099066":"markdown","bb0919b2":"markdown","1b15eecb":"markdown","152c7952":"markdown","0da5d70f":"markdown","b814359b":"markdown","fa8ada6f":"markdown","402b9bf5":"markdown","b6830b30":"markdown","98da3a2c":"markdown","c5eee331":"markdown","5b8d385d":"markdown","23efdd04":"markdown","5f2707e2":"markdown","d732cbcb":"markdown","1fd4f286":"markdown","ee670cac":"markdown","82819869":"markdown","51c90d72":"markdown","627be8d5":"markdown","cf17f114":"markdown","3b05099f":"markdown","1d1b83e9":"markdown","46a4fc84":"markdown"},"source":{"13435c0f":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\nfrom folium import Marker\nfrom geopandas.tools import geocode\nimport math","a58f6306":"# import Ashrae Thermal comfort database\nda= pd.read_csv('..\/input\/ashrae-global-thermal-comfort-database-ii\/ashrae_db2.01.csv', low_memory= False)","bf6e5dd7":"da","2a7863f9":"# import countries\ncountries= pd.read_csv('..\/input\/world-countries-and-continents-details\/Countries Longitude and Latitude.csv', index_col = 0, low_memory= False)","a2d1fea7":"countries = countries.dropna()","0e9f9b55":"countries","be80f670":"countries_new=countries.rename(columns={'name':'Country'})","2763980c":"countries_new.at[235,'Country'] = 'USA'\ncountries_new","e9adcdc5":"da['Cooling startegy_building level'].unique()","ee11b8c4":"da['Cooling startegy_building level'].value_counts()","ece0000b":"# Pie chart, where the slices will be ordered and plotted counter-clockwise:\nlabels = 'Air Conditioned', 'Mechanically Ventilated', 'Mixed Mode', 'Naturally Ventilated'\nsizes = [32372, 180, 26519, 47285]\nexplode = (0, 0, 0, 0.1)  # only \"explode\" the 4th slice (i.e. 'Naturally Ventilated')\n\nfig1, ax1 = plt.subplots()\nax1.pie(sizes, explode=explode, labels=labels, autopct='%1.1f%%',\n        shadow=True, startangle=90)\nax1.axis('equal')  # Equal aspect ratio ensures that pie is drawn as a circle.\n\nplt.show()","b6b5268b":"df=da.loc[(da['Cooling startegy_building level'] == 'Naturally Ventilated')]\n","abc47fdb":"df","ae70675b":"group_countries = df.groupby('Country').count()\ngroup_countries","bcf9e8b2":"# countries_thermal data frame is created to store the count of total records with thermal sensation data \ncountries_thermal = pd.DataFrame(columns = [])\ncountries_thermal['total_records'] = group_countries[\"Thermal sensation\"]\ncountries_thermal = countries_thermal.sort_values(by = 'total_records')\ncountries_thermal","05822c9b":"countries_thermal = pd.merge(countries_thermal, countries_new,how='left', on='Country')\ncountries_thermal","69edc011":"m_countries = folium.Map(location=[42.32,-71.0589],tiles='cartodbpositron', zoom_start=1)\n\n# Add points to the map\nmc = MarkerCluster()\nfor idx, row in countries_thermal.iterrows():\n    if not math.isnan(row['longitude']) and not math.isnan(row['latitude']):\n        mc.add_child(Marker([row['longitude'], row['latitude']],popup = str(row['Country'])+\": \" + str(row['total_records'])))\nm_countries.add_child(mc)\n\n# Display the map\nm_countries\n","d506a225":"sns.displot(countries_thermal, x=\"total_records\",binwidth = 500, binrange = [0,15000])","87c92972":"\nm_countries_2 = folium.Map(location=[42.32,-71.0589], tiles='cartodbpositron', zoom_start=1)\n\ndef color_producer(val):\n    if val >= 500:\n        return 'forestgreen'\n    else:\n        return 'darkred'\n\nfor idx, row in countries_thermal.iterrows():\n    if not math.isnan(row['latitude']) and not math.isnan(row['longitude']):\n        Circle(location=[row['longitude'], row['latitude']], \n               radius=row['total_records']*20,\n               popup = str(row['Country'])+\": \" + str(row['total_records']),\n               color = color_producer(row['total_records']),\n               fill = True,\n               fill_color = color_producer(row['total_records'])).add_to(m_countries_2)\n\nm_countries_2","1ed2a21e":"df['Thermal sensation']","d46fdf6f":"df[\"ThermalSensationRounded\"] = df[\"Thermal sensation\"].round()","d6180e2d":"df['ThermalSensationRounded']","22d96a2a":"df2=df.loc[df['ThermalSensationRounded'] == 0]\ndf2_country = df2.groupby('Country').count().reset_index()\ndf2_country","7c477923":"df2_country_new = df2_country[['Country','ThermalSensationRounded']]\ndf2_country_new","1016b90b":"# merge 2 dataframes by appending the number of people feeling comfortable to the total records and geospatiaal data for visualisation\ncountries_thermal = pd.merge(countries_thermal,df2_country_new, on='Country')\n\n#Filtering of total records less than 500 for analysis, \ncountries_thermal =countries_thermal.loc[(countries_thermal['total_records'] > 500)]\ncountries_thermal","8d17e61e":"countries_thermal['percentage of thermal sensation comfortability'] = countries_thermal['ThermalSensationRounded']\/countries_thermal['total_records']*100\ncountries_thermal['percentage of thermal sensation comfortability'] = countries_thermal['percentage of thermal sensation comfortability'].round(2)\ncountries_thermal.sort_values(by = 'percentage of thermal sensation comfortability', ascending = False)","e89e761b":"\nm_coutries_ratio = folium.Map(location=[42.32,-71.0589], tiles='cartodbpositron', zoom_start=1)\n\ndef color_producer(val):\n    if val >= 45:\n        return 'forestgreen'\n    else:\n        return 'darkred'\n\nfor idx, row in countries_thermal.iterrows():\n    if not math.isnan(row['latitude']) and not math.isnan(row['longitude']):\n        Circle(location=[row['longitude'], row['latitude']], \n               radius=row['percentage of thermal sensation comfortability']*6000,\n               popup = str(row['Country'])+ ':\\n' + '\\n' +'percentage of thermal sensation comfortability= ' + str(row['percentage of thermal sensation comfortability']),\n               color = color_producer(row['percentage of thermal sensation comfortability']),\n               fill = True,\n               fill_color = color_producer(row['percentage of thermal sensation comfortability'])).add_to(m_coutries_ratio)\n\nm_coutries_ratio\n","5e9dd93b":"from IPython.display import display, Image \ndisplay(Image(filename='..\/input\/continent\/Continental_models-Australia.png'))","a19cbea0":"from IPython.display import display, Image \ndisplay(Image(filename='..\/input\/koppen-climate\/main-qimg-d9d87576ff01bdfe659ecc0d1fd61b25.png'))","e533f35f":"# Box plot for air temperature, Koppen climate classification and thermal sensation\nfig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(15,20)\nsns.boxplot(y=\"Koppen climate classification\", x=\"Air temperature (C)\",\n            hue=\"ThermalSensationRounded\", palette=\"RdBu_r\",\n            data=df[[\"Koppen climate classification\",\"Air temperature (C)\",\"ThermalSensationRounded\"]].dropna(),showfliers=True)\nplt.title(\"Thermal Sensation\",fontsize=20)\nax.set_xlabel(\"Air temperature (C)\",fontsize=20)\nax.set_ylabel(\"Koppen climate classification\",fontsize=20)\nsns.despine(offset=10, trim=True)","54efe9c9":"# Create a new dataframe for Koppen climate, temperature and rounded thermal sensation value\n# Remove ouliers for air temperature within 0.0001 and 0.9995 percentile\ndf_temp_all=df[['Koppen climate classification','Air temperature (C)','ThermalSensationRounded']]\nq_low = df_temp_all[\"Air temperature (C)\"].quantile(0.0001)\nq_high = df_temp_all[\"Air temperature (C)\"].quantile(0.9995)\n\ndf_temp_base = df_temp_all[(df_temp_all[\"Air temperature (C)\"] < q_high) & (df_temp_all[\"Air temperature (C)\"] > q_low)]\ndf_temp_base","c23093c4":"df_temp_base.groupby('ThermalSensationRounded').describe()","57a71e53":"# Box plot for air temperature, Koppen climate classification and thermal sensation\nfig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(18,15)\nsns.boxplot(y=\"Koppen climate classification\", x=\"Air temperature (C)\",\n            hue=\"ThermalSensationRounded\", palette=\"RdBu_r\",\n            data=df_temp_base[[\"Koppen climate classification\",\"Air temperature (C)\",\"ThermalSensationRounded\"]].dropna(),showfliers=True,)\nplt.title(\"Thermal Sensation\",fontsize=20)\nax.set_xlabel(\"Air temperature (C)\",fontsize=20)\nax.set_ylabel(\"Koppen climate classification\",fontsize=20)\nplt.axvline(x=24.360020,color='gray',linestyle='--')\nsns.despine(offset=10, trim=True)","326a3a44":"df_temp_base.groupby('Koppen climate classification').describe()","0646c828":"df_temp_pivoted = df_temp_base.pivot_table(index='Koppen climate classification', columns='ThermalSensationRounded', values='Air temperature (C)', aggfunc='mean')","7210bdb6":"df_temp_pivoted","ccfbc20a":"# Assign names to mean air temperature values when thermal sensation equals to 0, -1 and 1\n# Group the data by Koppen Climate, remove rows with no air temperature data and claculate mean air temperature values for each \ndf_temp_TSV0=df_temp_base.loc[df['ThermalSensationRounded'] == 0]\ndf_temp_TSV_0=df_temp_TSV0.groupby('Koppen climate classification').mean().dropna()\ndf_temp_TSV1=df_temp_base.loc[df['ThermalSensationRounded'] == 1]\ndf_temp_TSV_1=df_temp_TSV1.groupby('Koppen climate classification').mean().dropna()\ndf_temp_TSVn1=df_temp_base.loc[df['ThermalSensationRounded'] == -1]\ndf_temp_TSV_n1=df_temp_TSVn1.groupby('Koppen climate classification').mean().dropna()","9fd59c73":"# Calculate the mean air temperature differences between Thermal Sensation of -1 & 1\n# And add these value to the previous dataframe created\ndf_temp_TSV_0['df_compare-1']=df_temp_TSV_0['Air temperature (C)']-df_temp_TSV_n1['Air temperature (C)']\ndf_temp_TSV_0['df_compare1']=df_temp_TSV_1['Air temperature (C)']-df_temp_TSV_0['Air temperature (C)']\ndf_temp_TSV_0","2a05af7d":"# Plot a bar chart to compare how the difference between mean air temperature when people's perception on termal sensation drops from 0 to -1\n\ndf_temp_TSV_0['Koppen climate classification']= df_temp_TSV_0.index\nax=df_temp_TSV_0.plot.bar(x='Koppen climate classification',y=['df_compare-1'],stacked=True, figsize=(20,10),fontsize=20)\n\n# Set lables, titles, legend to the plot and adjust their fontsize at the same time\nax.set_xlabel('Koppen climate classification Code',fontsize=18)\nax.set_ylabel('Air temperature (C)',fontsize=18)\nax.set_title('Durability to Cold',fontsize=24)\nax.legend([\"Temp Diff Between Thermal Sensation of 0 & -1\"], fontsize=15)\n\n# Adding grid to the bar plot\nax.set_axisbelow(True)\nax.grid(color='gray', linestyle='dashed')","6667f710":"# Plot a bar chart to compare how the difference between mean air temperature when people's perception on termal sensation increase from 0 to 1\ndf_temp_TSV_0['Koppen climate classification']= df_temp_TSV_0.index\nax=df_temp_TSV_0.plot.bar(x='Koppen climate classification',y=['df_compare1'],stacked=True, figsize=(20,10),fontsize=20)\n\n# Set lables, titles, legend to the plot and adjust their fontsize at the same time\nax.set_xlabel('Koppen climate classification Code',fontsize=18)\nax.set_ylabel('Air temperature (C)',fontsize=18)\nax.set_title('Durability to Hot',fontsize=24)\nax.legend([\"Temp Diff Between Thermal Sensation of 0 & 1\"], fontsize=15)\n\n# Adding grid to the bar plot\nax.set_axisbelow(True)\nax.grid(color='gray', linestyle='dashed')","b0ace0ad":"df_temp_TSV_0['df_compare-1']=df_temp_TSV_n1['Air temperature (C)']-df_temp_TSV_0['Air temperature (C)']\ndf_temp_TSV_0['df_compare1']=df_temp_TSV_1['Air temperature (C)']-df_temp_TSV_0['Air temperature (C)']","f009127b":"# Adding in the difference between mean air temperature when people's perception on termal sensation changes from -1 to -2; from -2 to -3; from 1 to 2; from 2 to 3 and plot a bar chart\n\ndf_temp_TSV_0['Koppen climate classification']= df_temp_TSV_0.index\nax1=df_temp_TSV_0.plot.bar(x='Koppen climate classification',y=['df_compare1','df_compare-1'],stacked=True, figsize=(20,10),fontsize=20)\n\n# Set lables, titles, legend to the plot and adjust their fontsize at the same time\nax1.set_xlabel('Koppen climate classification Code',fontsize=18)\nax1.set_ylabel('Air temperature (C) Difference',fontsize=18)\nax1.set_title('Durability to Air Temperature Change \\n +ve for Durability to Hot, -ve for Durability to Cold',fontsize=24)\nax1.legend([\"Temp Diff Between Thermal Sensation of 0 & 1\", \"Temp Diff Between Thermal Sensation of 0 & -1\"], fontsize=12)\n\n# Add grid to the bar plot\nax1.set_axisbelow(True)\nax1.grid(color='gray', linestyle='dashed')","870821ec":"#Data set was group by City for easy referencing and intepretation \ngroup_cities = df.groupby('City').count().reset_index()\ngroup_cities","11044639":"# Calculate number of records in each city\ncities_thermal = pd.DataFrame(columns = [])\ncities_thermal['City'] = group_cities[\"City\"]\ncities_thermal['total_records'] = group_cities[\"Thermal sensation\"]\ncities_thermal = cities_thermal.sort_values(by = 'total_records')\ncities_thermal","f41b6cdf":"# Add a column for bumber of records of rounded thermal sensation dquals to 0\ndf2=df.loc[df['ThermalSensationRounded'] == 0]\ndf2_city = df2.groupby('City').count().reset_index()\ndf2_city","f898663f":"# Extract the City and Thermal Sensation Rounded cloumns out and create a new dataframe\ndf2_city_new = df2_city[['City','ThermalSensationRounded']]\ndf2_city_new","0515b799":"# Merge two dataframe together\ncities_thermal = pd.merge(cities_thermal, df2_city_new,how='left', on='City')\ncities_thermal","b0c2f976":"# Calculate thermals sensation comfortability in each city\ncities_thermal['Percentage of thermal sensation comfortability'] = cities_thermal['ThermalSensationRounded']\/cities_thermal['total_records']*100\ncities_thermal['Percentage of thermal sensation comfortability'] = cities_thermal['Percentage of thermal sensation comfortability'].round(2)\ncities_thermal.sort_values(by = 'Percentage of thermal sensation comfortability', ascending = False).head()","2079ec27":"# Assign a new name for result generated\ncities_final = pd.DataFrame()","a241699a":"# Adding more colums to the results like columns for Koppen climate classification and Country \ncities_final['City'] = df['City']\ncities_final['Koppen_climate'] = df['Koppen climate classification']\ncities_final['Country'] = df['Country']\n","25a3334c":"# Tidy up the results by droping off duplicates data and data with no records\ncities_final = cities_final.drop_duplicates()\ncities_final = cities_final.sort_values (by = 'City').dropna()","bd8813a0":"# Merge two dataframe and sort data by City\ncities_final = pd.merge(cities_final, cities_thermal,how='left', on='City')\ncities_final.sort_values (by = 'City')","cc21a73c":"cities_1=cities_final.loc[(cities_final['Percentage of thermal sensation comfortability'] > 50)&(cities_final['total_records'] > 1000)]\ncities_1.sort_values (by = 'Percentage of thermal sensation comfortability')\n# 48\tPeshawar\tBWh\tPakistan\t1069\t641\t0.60","1a967884":"cities_2=cities_final.loc[(cities_final['Percentage of thermal sensation comfortability'] < 50)&(cities_final['total_records'] > 1000)]\ncities_2.sort_values (by = 'Percentage of thermal sensation comfortability')\n#24\tHampshire\tDfb\tUK\t2951\t867\t0.29","0752397e":"# Cleaning of the dataframe\nCT = [cities_2, cities_1]\nresult = pd.concat(CT)\nresult = result.drop(index=26)\nresult = result.drop(index=52)\nresult['Durability_to_temperature difference']=result['Koppen_climate']\nresult\n","4a687e07":"# Bring in the durability from previous section\ndf_temp_TSV_0['koppen_difference']=df_temp_TSV_0['df_compare1'] - df_temp_TSV_0['df_compare-1'] \nkoppen=df_temp_TSV_0['koppen_difference'].round(2)\nkoppen=koppen.to_dict()\nkoppen","3abec04b":"# Adding durability into the dataframe\nresult=result.replace({'Durability_to_temperature difference': koppen})\nresult1= result.groupby('Koppen_climate').mean()\nresult1","9c87f3c7":"# Plot a scatter plot between thermal sensation comfortability and Durabilityto temperature difference\n# Try to find correlation between them\nsns.scatterplot(data=result, x=\"Durability_to_temperature difference\", y=\"Percentage of thermal sensation comfortability\")\nsns.regplot(data=result ,x=\"Durability_to_temperature difference\", y=\"Percentage of thermal sensation comfortability\" , order=1, ci=None)","36a4e255":"# Additional parameter (Koppen Climate) is added and draw a new scatter plot.\nfig, axes = plt.subplots(1, 2, figsize=(20, 5))\nfig.suptitle('Relationship between Durability and Percentage of Comfort')\n\n\nsns.scatterplot(ax=axes[0],data=result1, x=\"Durability_to_temperature difference\", y=\"Percentage of thermal sensation comfortability\",hue = 'Koppen_climate')\n\nsns.regplot(data=result1 ,x=\"Durability_to_temperature difference\", y=\"Percentage of thermal sensation comfortability\" , order=1, ci=None)\n","3f9baf14":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(y=\"Koppen climate classification\", x=\"PMV\",\n            palette=\"RdBu_r\",\n            data=df[[\"Koppen climate classification\",\"PMV\"]].dropna())\n\nplt.title(\"PMV comparison, Based on Koppen Climate\")\nsns.despine(offset=10, trim=True)","37652e10":"dfClimate_city=df[['Climate' ,'Koppen climate classification','City','PMV','PPD']].dropna()\ndfClimate_city","cb31acfc":"group_Kcc = dfClimate_city.groupby('Koppen climate classification').count()\ngroup_Kcc","00048992":"dfKcc_BWh = dfClimate_city.loc[dfClimate_city['Koppen climate classification'] == \"BWh\"]\ndfKcc_Dfb = dfClimate_city.loc[dfClimate_city['Koppen climate classification'] == \"Dfb\"]\n\ngroup_Ham = dfKcc_Dfb.loc[dfKcc_Dfb['City'] == \"Hampshire\"]\ngroup_Pes = dfKcc_BWh.loc[dfKcc_BWh['City'] == \"Peshawar\"]\n\n","2755d18f":"group_Ham","0fe37eb7":"fig, axes = plt.subplots(1, 2, figsize=(30, 15))\nfig.suptitle('Cities Comparison, PMV vs PPD')\nsns.set_style(\"darkgrid\")\n\n\n#Hampshire\n\nsns.regplot(ax=axes[0],x=\"PMV\", y=\"PPD\", data=group_Ham, order=4, ci=None)\n\naxes[0].set_title(\"Hampshire (Bad Thermal Comfort)\")\n\n\n#Peshawar\n\nsns.regplot(ax=axes[1],x=\"PMV\", y=\"PPD\", data=group_Pes, order=4, ci=None)\naxes[1].set_title(\"Peshawar (Good Thermal Comfort)\")","42f2b625":"group_Ham['PMV']= group_Ham[\"PMV\"].round()\ngroup_Ham_count=group_Ham.groupby('PMV').count()\ngroup_Ham_count","311f9c2c":"group_Ham_count['PMV']= group_Ham_count.index\nax=group_Ham_count.plot.bar(x='PMV',y=['Climate'],stacked=True, figsize=(10,5),fontsize=10)\n\n# Set lables, titles, legend to the plot and adjust their fontsize at the same time\nax.set_xlabel('PMV',fontsize=10)\nax.set_ylabel('Frequency',fontsize=10)\nax.set_title('Hampshire VS PMV',fontsize=16)\n\n\n# Adding grid to the bar plot\nax.set_axisbelow(True)\nax.grid(color='gray', linestyle='dashed')","c1757c07":"group_Pes['PMV']= group_Pes[\"PMV\"].round()\ngroup_Pes_count=group_Pes.groupby('PMV').count()\ngroup_Pes_count\n","6acecf59":"group_Pes_count['PMV']= group_Pes_count.index\nax=group_Pes_count.plot.bar(x='PMV',y=['Climate'],stacked=True, figsize=(10,5),fontsize=10)\n\n# Set lables, titles, legend to the plot and adjust their fontsize at the same time\nax.set_xlabel('PMV',fontsize=10)\nax.set_ylabel('Frequency',fontsize=10)\nax.set_title('Peshawar VS PMV',fontsize=16)\n\n\n# Adding grid to the bar plot\nax.set_axisbelow(True)\nax.grid(color='gray', linestyle='dashed')","fb653db4":"**countries_thermal** dataset does not have geospatial information which allow us to map in the map.\n\nTherefore it is essential to merge with the countries dataframe.\nLatitude and longitude are presented in the last 2 columns in the dataset.","fa2bc025":"Subsequently, Geographical information of the countries is imported for geospatial analysis. This dataset is defined as **countries**\n\nEmpty Datas in **countries** dataframe also deleted for easy interpretation. ","a10eafb7":"****This study is limited to the thermal comfort sensation for Natural Ventilation User  ****\n\nPercentage of Thermal Sensation Comfortability across different countries was analysed in this project. It was interesting to find out that the percentage of thermal sensation comfortability is generally lower for the countries along the equator. Regions with higher percentage of thermal comfortability locate at the intersection Zone of the Europe, Asia, and Afica Continents. These countries was observed to have a slightly higher percentage in terms of thermal comfort which may be due to climate, fashion Culture, activity and others. \n","9be96d8a":"Percentage of people feeling comfortable is defined as the **percentage of thermal sensation comfortability** and it was calculated by ( number of people feeling comfortable in the country \/ number of records in the country)*100%","14b9e05a":"# Introduction ","97cfb29e":"Predicted mean vote (PMV) and Predicted percentage dissatisfied (PPD). Fanger extended the usefulness of his work by proposing a method by which the actual thermal sensation could be predicted.\n\nTwo city was selected for further analysis which are as following \n1. Peshawar (high durability and high percentage of comfort) \n2. Hampshire (Low durability and low percentage of comfort)\n\nThis section will evaluate if there is any correlation between the objective Thermal Sensation parameter (PMV&PDD) and Subjective Thermal Sensation Vote (TSV)","83db511d":"Koppen Climate BWh was observed with a higher percentage of thermal sensation comfortability. Bandar Abbas and Peshawar have 75% and 60% of thermal sensation comfortability, respectively. This shows that the country in BWh climate is likely to have higher tolerance for thermal changes and therefore are more adaptable. \n\nKoppen Climate Dfb was observed with a lower percentage of thermal sensation comfortability. City Hampshire was noted with only 29% of thermal sensation comfortability. This shows that the people in the city are not comfortable with the natural ventilation system they have. \n\nIn General, people from climates with small range of durability to the temperature change will tend to have a lower percentage of thermal sensation comfortability. \n\nData anomalies can be observed such as (Bsh) with moderate durability to the temperature change but low percentage of thermal sensation.\n","c366f5e7":"**Team Member **\n1. John det de Villa Zapanta -A0231404X\n2. Li Yangyang               - A0241963B\n3. Ng Yi Hao                 - A0215697R\n4. Teng Teng                 -A0231511Y\n5. Zhou Yulv                 -A0127626A","255d6d51":"# (ANALYSIS)Thermal Sensation Acceptability with Koppen Climate Classification\n\n","c6ee9366":"Based on the dataset, user feel comfortable when the air temperature is approximate 24.4 degree Celsius. \n\nThis result is presented in the subsequent cleaned boxplot for comparison. ","bb1a55fc":"# Import Datasets\n\n**Ashrae Thermal comfort** database was imported and defined as da. \n\nThis data will be the main dataset for analysis and intepretation throughout the entire notebook. \n\nA dataset including **world countries** with their longitudes and latitudes will be also imported for map view.\n\nA prelude of the dataset is also presented which include the country, ambient data, thermal comfort etc. ","4ced9dfc":"Relationship between Thermal Sensation and PMV\/PDD was further analysed within the 2 selected cities \n* Hampshire (Continental Climate, Dfb) - Low thermal Durability , Low percentage of thermal comfort \n* Peshawar (Dry Climate, BWh) - High thermal Durability , High percentage of thermal comfort \n\nThis 2 cites were selected due to their thermal durability. It was observed that the PMV\/PDD graph for Hampshire shifted to negative PMV, meaning that the people in Hamphire are generally feel colder maybe due to clothing, metabolism rate, activity and climate etc. This lies also in line with the subjective Themal Sensation Vote(TMV) value which was used to calculate the percentage of thermal comfortability.\n\nPMV\/PDD Graph for Peshawar shows a curve that is more close to the normal distribution which implies that most people generally feel comfortable. Hence there is a higher percentage of thermal comfort for City Peshawar.","447645e4":"Thermal Sensation Vote (TMV) is a subjective indicator which may varies from one person to other. TMV can be collected through questionare\/ interview from the users. There are several factor can affect TMV such as Type of clothing, metabolism rate, Activity,etc. \n\nTMV can be categorized as following: \n\n*  -3 = Very cold \n*  -2 = Cool\n*  -1 = Slight Cool \n*   0 = Neatural (Comfortable)\n*  +1 = Slight warm\n*  +2 = Warm\n*  +3 = Hot\n","94901b84":"For the Climate acceptability, Continental Climate and Dry Climate were selected in City Scale level to analyse if there is any relationship between the Thermal Sensation acceptability and Thermal Comfort Sensation. Cities with sample size more than 1000 were selected for further analysis. Percentage of people feeling comforatble in that city was calculated and compared with the range of thermal sensation acceptability.\n\nLinear Correlation between thermal sensation acceptability and percentage of people feeling comfortable was estalished. Based on the dataset, it shows that the city located at the climatic zone of higher thermal sensation acceptability tends to feel comfortable in a wider temperature range which will have more people to feel comfortable. ","b60d93c0":"A city with percentage of **thermal Sensation comfortabilty LESS THAN 50** and **sample size more than 1000** is presented. ","c922e042":"Climate, as an external ambient enviroment, directly impacts the perception of thermal comfort in natural ventilated space. This parameter is a more detailed and pinpointing approach compared to Country method because one country may have different cities that under different koppen classification climates. This can be observed in some of the big country such as China,Australia, UK, US ,etc. \n\nTherefore, it is important to study the data from Koppen Classification Climate perspective. A detailed analysis on the thermal sensation acceptability will be discussed in this session. ","822cd33a":"Percentage of thermal sensation comfortability is calculated in accordance to City. \n\nThe percentage of thermal sensation comfortability is defined as ( number of people feeling comfortable in the city \/ number of records in the city)*100%","df7ae297":"All the dataset were import for preliminary viewing and intepretation. ","9cd439a1":"Countries along that zone of comfort were noted to have higher percentage of comfortability. however, some big countries like UK, Australia, USA, China may have multiple climate conditions across different cities. Therefore analysis was conducted with Koppen Climate Classification. In average, the mean thermal comfort temperature is approximate 24 degree Celsius for all climate. It is interesting to find out that people in the topical climate generally feel more comfortable in a higher temperature, which is approximate 27-29 degree Celsius. \n\nThis may be due the durability of people towards the air temperature change. The people in tropical climate are generally more durable to warmer temperature resulting such differences in mean thermal comfort temperature. In this study, Thermal Sensation Acceptability (Durability to Temperature Chnage) was analysed with Koppen Climate Classification. \n\nAs expected, each climate has a different range of thermal sensation acceptability. Tropical climate has higher thermal sensation acceptabilty towards warm (2 degree Celsius) instead of cold (0.5 degree Celsius). For Dry climate such as BWh was observed to have biggest tolerance in terms of durability which maybe due to the less humid and seasonal climate. Moderate Thermal Sensation acceptability was observed for Temperate Climate. \n\n* Continental Climate - Very low Acceptabilty \n* Tropical Climate - Low Acceptability \n* Temperate Climate - Normal Acceptabilty \n* Dry Climate - High Acceptability\n","db69e4ec":"Total records of the thermal sensation data is presented. City with small sample size will need to be filtered\/ dropped for further analysis.","61a9343b":"Analysis will be conducted based on Thermal Sensation of a person when exposed to Natural Ventilated cooling strategy across different climate. ","6253f215":"Our group will discuss on the the **impact of geographical location on thermal comfort perception**.\nThe analysis will be limited to Natural Ventilation system only. \n\nGeographical location can be represented by longitude and longitude, which is subjected to different climate. \n\nThe K\u00f6ppen climate classification divides climates into five main climate groups, with each group being divided based on seasonal precipitation and temperature patterns. The five main groups are A (tropical), B (dry), C (temperate), D (continental), and E (polar). Some bigger countries such as USA, UK and Australia may have different K\u00f6ppen climate classification. such classification may vary from one city to another within the same country\n","5255b437":"The objective of the study is as following : \n1. To evaluate the Percentage of Thermal Sensation Comfortability across different Country\n2. To evaluate the Thermal Sensation Acceptability with K\u00f6ppen Climate Classification \n3. To establish the relationship between the Thermal Sensation acceptability and Thermal Sensation \n4. To identify the relationship between Thermal Sensation and PMV\/PDD  ","3f4ae309":"#  (ANALYSIS) Relationship between the Thermal Sensation Acceptability and Thermal Sensation ","52f5750b":"Main **df** dataset contains a lot of data from the same country. therefore it is important to group the data with country for analysis purpose. \n\n**df** dataframe is then groupby country and defined as **group_countries**\n\n22 countries were recorded with natural ventilation in this dataset. However, the number of data with thermal sensation collected for each country varies from 43 (eg: Japan) to 14854 (eg: UK)","57e0d45e":"Thermal Sensation Vote was analysed with Country where Thermal Sensation Aceptability was analysed across different Climate. The data will need to be analysed in City scale to evaluate if there is any significant correlation between these two parameters. \n\nCities from the selected climate with high and low thermal acceptability will be analysed with the thermal sensation","78b554e7":"City Peshawar and City Hampshire have similar sample data size, but Hampshire dataset is generally in a colder sensation which shows that the activity, clothing or metabolism rate, etc for this city may lead to a colder sensation. ","5988b386":"Due to the difference in naming terminology between **da** dataset and **countries** dataset\n\nCountry column and US row in **countries** data were renamed to fit with **da** dataset and redefined as **countries_new**\n","26099066":"Natural Ventilated dataset is selected and defined as **df** . ","bb0919b2":"Although some outliers can be noted within the climate classification such as Csa Climate, but there is no extreme outlier in the present boxplot as compared to the previous boxplot. This shows the data elimination and cleaning is effective. \n\nIt is interesting to observe that there are a few climates with average mean comfortable temperature at around 24.4 degree celsius. All the tropical Climates are approximate 4-5 degrees higher than the global average mean comfortable temperature. Most of the people from tropical climates feel reasonably comfortable when the air temperature in the range of 27- 29 degrees. \n\nThis shows that people from tropical climate (Aw, Am and Af) are more durable\/ acceptable to hot ambient temperature as compared to other climates. \nTherefore, durability of temperature change shall be analysed within the same climate to evaluate the thermal acceptability across. ","1b15eecb":"# Literature Review","152c7952":"A city with percentage of **thermal Sensation comfortabilty MORE THAN 50** and **sample size more than 1000** is presented. ","0da5d70f":"It was noted that countries located along the dry and temperate climate conditions (Portugal, Iran, China) have generally higher percentage of thermal comfortability. This may be attributed by their overall climate conditions when lower outdoor air temperature is generally more comfortable in natural ventilated system. \n\nOn the other hand, the countries located at Tropical Climate such as Malaysia and Singapore have lower percentage of thermal comfortability in Natural Ventilated system. This may be due to the hot and humid external environment in tropical climate. \n\nThis shows that the thermal sensation value may vary accross different countres and people generally feel more comfortable at the intersection of Europe, Africa, Asia Continents. ","b814359b":"\n\n1. Newest research shows that Genetics influence how resilient people are to cold temperatures. The protein \u03b1-actinin-3 in muscle gene ACTN3 could improve cold tolerance. The modern humans moved out from Africa to colder climates in Europe and Asia have no \u03b1-actinin-3 in their ACTN3 muscle gene. The experiment (42 adult men exposed in cold water for 120min) results show that only 30% of participants with the alpha-actinin-3 protein passed the test, however, 69% of those that were alpha-actinin-3 deficient completed the full cold-water exposure time. Source: (https:\/\/theconversation.com\/your-genetics-influence-how-resilient-you-are-to-cold-temperatures-new-research-155975) (https:\/\/www.cell.com\/ajhg\/fulltext\/S0002-9297(21)00013-6)\n\n2. Physiological adaptation to the thermal environment could affect human thermal perception. For example, repeated cold exposure leads to enhanced heat production in human\u2019s body, whereas repeated exposure to hot temperature makes human\u2019s body more efficient in losing heat. Source: (https:\/\/www.ncbi.nlm.nih.gov\/pmc\/articles\/PMC6298492\/)","fa8ada6f":"The thermal sensation recorded in the df dataset is float64 with 1 decimal place. \n\nTherefore, this dataset was then rounded to nearest decimal place for better analysis. The Thermal Sensation column title is replaced with thermal sensation rounded \n\nA boxpot was presented to show the thermal sensation across different country. ","402b9bf5":"Visualisation of percentage of people feeling comfortable ","b6830b30":"*Libraries* were imported to analyse the data as following: \n1. Numpy - Linear Algebra \n2. Pandas - Dataframe function\n3. Seaborn - Data Visualization function \n4. Matplotlib - Data Visualization function \n5. Geopandas - Geospatial Data Frame\n6. Folium - Data Visualization function for Geospatial data\n7. Math - Mathematical function ","98da3a2c":"Dataset shows that the thermal durability varies across climate. it also shows that the durability to hot in tropical climates is higher than the durability to cold. In tropical climate (Aw) for example, it can tolerate 2-degree difference for hot but only 0.5 degree for coldness change.  \n\nPeople in Dry Climate (BWh) has a higher tolerance on the temperature change (4 degree) for both hot and cold difference. This shows that the people at this climate classification is likely to feel comfortable because of the wide range of thermal acceptability in this climate. \n\nThermal acceptability of Continental Climate (Dfb) are lower than Dry Climate (BWh). Therefore, the thermal sensation for this climate is expected to be less comfortable.  ","c5eee331":"# Impact of Geographical Location to Thermal Comfort Perception ","5b8d385d":"In conclusion, the locations where people stay may be an contributing factor to their durability for temperature change. Such physiological adaptation was noted to vary from one climate to another, which may have impacts on durability to change in air temperature. \nSuch durability to temperature change may be due to clothing, culture, activity, climate as it changes across different country. \n\nDurability for temperature change was also noted to be the factor of overall percentage of thermal comfort.  \n","23efdd04":"It was noted from the PMV\/PDD graph that **City Hampshire (low thermal percentage)** is generally lower in PMV value which indicate the enviroment is colder compared to **City Peshawar*.\n\nTherefore it is reasonable for people in hampshire city to have lower thermal sensation comfortability because they are generally colder from PMV\/PDD calculation. \nFor City Peshawar, the graph is in a more normal distribution and most of the people are within the comfortable range. \n","5f2707e2":"Based on the histogram and geospatial visualization, some of the countries were noted to have data record below 500 records which maybe insufficient\/ inconclusive for data analysis. Therefore, the analysis for Thermal Sensation across different countries will only be limted to countries with sufficient data size. \n\nThis will help to reduce the bias and skewed data. ","d732cbcb":"#  (ANALYSIS) Relationship between Thermal Sensation and PMV\/PDD  ","1fd4f286":"# BPS 5229 Group 3 Submission  ","ee670cac":"# Data Selection","82819869":"# Import Libraries","51c90d72":"# Conclusion","627be8d5":"# (ANALYSIS) Percentage of Thermal Sensation Comfortability across different Country","cf17f114":"As observed on the box plot above, there are outliners which air temperature reach up to 60 degree celcius for Cfb Climate dataset. These outliners data will be removed for subsequent analysis. ","3b05099f":"For better visualization on the number of country within the dataset. \n\nLocations of all the countries in the dataset is presented in the map by **folium** function and the map is defined as **m_countries**","1d1b83e9":"There are various types of cooling strategy for the data recorded, which include **Air-conditioned, Naturally Ventlated , Mixed Mode, Mechanical ventilated and others**. \n\nNatural Ventilation has the biggest sample size which is about 46205. Moreover, natural ventilaltion is more closely related to the climate of the country which may affect the thermal sensation.\n\nAir-conditioned system is an artificial mechanical cooling strategy which may vary among systems. \n\nTherefore, Natural Ventilation Dataset was filtered for the geogrpahical analysis. ","46a4fc84":"The dataset with comfortable thermal sensation is selected and define as **df2**"}}