{"cell_type":{"5493d45c":"code","889b9e28":"code","769d7c20":"code","22b1913c":"code","5a93833a":"code","ae58a362":"code","11e994ed":"code","04f52564":"code","c0f3659f":"code","866804a0":"code","ace829ef":"code","d356fe98":"code","f37ff17d":"code","e585fa00":"code","61d59695":"markdown","3c58fc52":"markdown","7276b917":"markdown","c63e92a0":"markdown","847572f3":"markdown","c6ee7e61":"markdown","e00ffb70":"markdown","2a9bd230":"markdown","9723a4d7":"markdown","3d46bb48":"markdown","81430346":"markdown","3027d702":"markdown","686ab71b":"markdown","63123cf8":"markdown","ee25dcea":"markdown"},"source":{"5493d45c":"# Data Analysis\nimport numpy as np \nimport pandas as pd \n\n# Data Visualisation \nimport matplotlib.pyplot as plt \nimport seaborn as sns","889b9e28":"hedge_data = pd.read_csv('..\/input\/python\/edhec-hedgefundindices.csv',\n                           header=0, index_col=0, parse_dates=True)\nhedge_data.shape","769d7c20":"# Lets look at the monthly data\nhedge_data.head()","22b1913c":"# Convert to percent \nhedge_data = hedge_data\/100\nhedge_data.index = hedge_data.index.to_period('M')\nhedge_data","5a93833a":"# Collect mean and median data \npd.concat([hedge_data.mean(), hedge_data.median(), hedge_data.mean() > hedge_data.median()], \n          axis=\"columns\")","ae58a362":"# Make a skewness function \ndef skewness(r):\n    '''\n        ARGS:\n            Series or Dataframe\n        \n        RETURNS: \n            Float or a series data with the calculated skewness\n    '''\n    \n    # Calculate the demeaned returns \n    demeaned_r = r - r.mean()\n    \n    # Use the population standard deviation, ddof=0\n    sigma_r = r.std(ddof=0)\n    \n    # Calculate the expectation of the demeaned returns raised to the third power\n    exp = (demeaned_r**3).mean()\n    \n    # Calcualte the skew\n    skew = exp\/sigma_r**3\n    return skew","11e994ed":"# Calculate the skewness and sort the returns \nskewness(hedge_data).sort_values()","04f52564":"# Using the stats library \nimport scipy.stats as st\nst.skew(hedge_data)","c0f3659f":"# Make a kurtosis function \ndef kurtosis(r):\n    '''\n        ARGS:\n            Series or Dataframe\n        \n        RETURNS: \n            Float or a series data with the calculated kurtosis\n    '''\n    \n    # Calculate the demeaned returns \n    demeaned_r = r - r.mean()\n    \n    # Use the population standard deviation, ddof=0\n    sigma_r = r.std(ddof=0)\n    \n    # Calculate the expectation of the demeaned returns raised to the third power\n    exp = (demeaned_r**4).mean()\n    \n    # Calcualte the skew\n    kurt = exp\/sigma_r**4\n    return kurt","866804a0":"# Calculate the kurtosis and sort the returns \nkurtosis(hedge_data).sort_values(ascending=False)","ace829ef":"# Using the built in function \nst.jarque_bera(hedge_data['CTA Global'])","d356fe98":"# Function to apply the Jarque Bera test and \n# return whether the hedge is normally distributed or not \ndef is_normal(r, level=0.01):\n    '''\n        ARG\n            Series data\n        RETURN\n            True, if hypothesis of normality is accepted, False otherwise \n    '''\n    statistic, p_val = st.jarque_bera(r)\n    return p_val > level","f37ff17d":"is_normal(hedge_data)","e585fa00":"hedge_data.aggregate(is_normal)","61d59695":"A normal distribution has a skewness of zero. We can see very high negative skewness in the hedge data. There is a faster way to do this using a built in python function. ","3c58fc52":"**File Description**: This is the returns, starting from 1997, the monthly returns for various kinds of hedge funds. Edhec_risk produces these indices, and makes them available for free on the website. So these are all different kinds of hedge fund strategies. First order of business is to convert this data to percent and change the index format. ","7276b917":"## Jarque-Bera Statistical Test","c63e92a0":"We can see that only CTA Global is normal while everything else is not normal at 1% level.","847572f3":"### Estimating the skewness of the data","c6ee7e61":"Kurtosis for a normal return is roughly three and the hedge fund returns have really high Kurtosis.","e00ffb70":"This is much better and we can start our analysis now. ","2a9bd230":"The above command assumes the whole data to be combined which is not true. Let's change that. ","9723a4d7":"While these are the unsorted values, we see that they are identical.","3d46bb48":"# Analysing and Visualising the Distributions of Hedge Fund Returns\n\nWe will look at some hedge fund returns and estimate whether they are normally distributed or not. This is important to understand and check because this is an assumption that traders make at times and can be disastrous if not checked. We will be doing so by calculating the skewness and kurtosis of the data.\n\n\n**Skewness** can be calculated as:- \n\n$$ S(R) = \\frac{E[ (R-E(R))^3 ]}{\\sigma_R^3} $$\n\n\n**Kurtosis** can be calculated as follows:-\n\n$$ K(R) = \\frac{E[ (R-E(R))^4 ]}{\\sigma_R^4} $$","81430346":"## Import Necessary libraries","3027d702":"## Read in the data","686ab71b":"## Distribution Analysis\n\nI will start by comparing the mean and the median. For a normal distribution, it should be the same. ","63123cf8":"### Estimating the Kurtosis \n\nAlmost similar to skewness and we can make a function for this as well. ","ee25dcea":"The mean is lower than the median in almost all cases which indicates negative skewness. "}}