{"cell_type":{"f51d6522":"code","3dd577f9":"code","dced9aa0":"code","c35ab8c5":"code","7c6025d8":"code","7542513a":"code","80367ec0":"code","773b4c77":"code","4c95f004":"code","5cb365db":"code","d97b42bf":"code","a0d800f4":"code","f92ecbdf":"code","effd1323":"code","7ba3e8a9":"code","f5a42ee7":"code","72e819bc":"code","77326fa7":"code","2aaa46ad":"code","0e019ef6":"markdown","e24f1f22":"markdown","9ddd94ad":"markdown"},"source":{"f51d6522":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\n","3dd577f9":"df = pd.read_csv('\/kaggle\/input\/covid19-google-community-mobility-update-sept-2020\/covid19_mobility_report_sept_2020\/regional\/2020_AU_Region_Mobility_Report.csv')","dced9aa0":"df.head()","c35ab8c5":"# A new column 'month_name'\n#df['month'] = pd.DatetimeIndex(df['date']).month_name()\ndf['month'] = pd.DatetimeIndex(df['date']).month","7c6025d8":"#Selecting some columns that want to be used for analysis\n\ndf1 = df[['sub_region_1','month','retail_and_recreation_percent_change_from_baseline', 'grocery_and_pharmacy_percent_change_from_baseline','parks_percent_change_from_baseline', 'transit_stations_percent_change_from_baseline','workplaces_percent_change_from_baseline','residential_percent_change_from_baseline' ]]","7542513a":"#Renaming columns to make it shorter\ndf1 = df1.rename({'retail_and_recreation_percent_change_from_baseline': 'retail_recreation', 'grocery_and_pharmacy_percent_change_from_baseline': 'grocery_pharmacy', 'parks_percent_change_from_baseline':'park', 'workplaces_percent_change_from_baseline':'workspace', 'residential_percent_change_from_baseline':'residential', 'transit_stations_percent_change_from_baseline':'transit_station'}, axis=1)","80367ec0":"df1.shape","773b4c77":"#Drop rows when sub_region is Nan\ndf2 = df1.dropna(subset=['sub_region_1'])","4c95f004":"df2.head()","5cb365db":"#Group by month and subregion\ndf3 = df2.groupby(['month','sub_region_1']).mean()","d97b42bf":"df3.head(50).sort_values(by=\"month\")","a0d800f4":"qld = df2[df2['sub_region_1'] == 'Queensland']","f92ecbdf":"qld = qld.groupby(['month','sub_region_1']).mean().reset_index()","effd1323":"qld","7ba3e8a9":"qld = qld.drop(columns=['sub_region_1'])\nqld = qld.set_index('month')\nqld","f5a42ee7":"# create valid markers from mpl.markers\nvalid_markers = ([item[0] for item in mpl.markers.MarkerStyle.markers.items() if\nitem[1] is not 'nothing' and not item[1].startswith('tick') and not item[1].startswith('caret')])\n \n# valid_markers = mpl.markers.MarkerStyle.filled_markers\n \nmarkers = np.random.choice(valid_markers, qld.shape[1], replace=False)\n","72e819bc":"ax = qld.plot(kind='bar')\nfor i, line in enumerate(ax.get_lines()):\n    line.set_marker(markers[i])\n\n# adding legend\nax.legend(qld.columns, loc='best')\nplt.ylabel('Percent Change from Baseline')\nplt.xlabel('Month')\nplt.title('Queensland Community Mobility ')\nlabels = ['Feb', 'Mar', 'Apr', 'May', 'June','July','Aug','Sept']\nax.set_xticklabels(labels)\nplt.tight_layout()\nplt.savefig('qld.png')\nplt.show()","77326fa7":"#Victoria\n\nvic = df2[df2['sub_region_1'] == 'Victoria']\nvic = vic.groupby(['month','sub_region_1']).mean().reset_index()\nvic = vic.drop(columns=['sub_region_1'])\nvic = vic.set_index('month')\n\n# create valid markers from mpl.markers\nvalid_markers = ([item[0] for item in mpl.markers.MarkerStyle.markers.items() if\nitem[1] is not 'nothing' and not item[1].startswith('tick') and not item[1].startswith('caret')])\n \n# valid_markers = mpl.markers.MarkerStyle.filled_markers\n \nmarkers = np.random.choice(valid_markers, vic.shape[1], replace=False)\n\nax = vic.plot(kind='bar')\nfor i, line in enumerate(ax.get_lines()):\n    line.set_marker(markers[i])\n\n# adding legend\nax.legend(vic.columns, loc='best')\nplt.ylabel('Percent Change from Baseline')\nplt.xlabel('Month')\nplt.title('Victoria Community Mobility ')\nlabels = ['Feb', 'Mar', 'Apr', 'May', 'June','July','Aug','Sept']\nax.set_xticklabels(labels)\nplt.tight_layout()\nplt.savefig('vic.png')\nplt.show()","2aaa46ad":"#NSW\n\nnsw = df2[df2['sub_region_1'] == 'New South Wales']\nnsw = nsw.groupby(['month','sub_region_1']).mean().reset_index()\nnsw = nsw.drop(columns=['sub_region_1'])\nnsw = nsw.set_index('month')\n\n# create valid markers from mpl.markers\nvalid_markers = ([item[0] for item in mpl.markers.MarkerStyle.markers.items() if\nitem[1] is not 'nothing' and not item[1].startswith('tick') and not item[1].startswith('caret')])\n \n# valid_markers = mpl.markers.MarkerStyle.filled_markers\n \nmarkers = np.random.choice(valid_markers, nsw.shape[1], replace=False)\n\nax = nsw.plot(kind='bar')\nfor i, line in enumerate(ax.get_lines()):\n    line.set_marker(markers[i])\n\n# adding legend\nax.legend(nsw.columns, loc='best')\nplt.ylabel('Percent Change from Baseline')\nplt.xlabel('Month')\nplt.title('NSW Community Mobility ')\nlabels = ['Feb', 'Mar', 'Apr', 'May', 'June','July','Aug','Sept']\nax.set_xticklabels(labels)\nplt.tight_layout()\nplt.savefig('nsw.png')\nplt.show()","0e019ef6":"# Victoria","e24f1f22":"# NSW","9ddd94ad":"# Queensland"}}