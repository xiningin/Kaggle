{"cell_type":{"a7fa9c3c":"code","9531f9b4":"code","0e216abe":"code","9d2a8a48":"code","d3d42593":"code","1d9b4e90":"code","ef2c0c7f":"code","a0d4a75d":"code","6106c748":"code","eae29b30":"code","d7be8e3f":"code","dea5120b":"code","38adcf47":"code","19a5fe36":"code","d984a4ab":"code","96193cce":"code","53ab58dc":"code","24933149":"code","72e25306":"code","f34c28cb":"code","a631a68b":"code","6dd534d5":"code","acf5dfbc":"code","2bc75585":"code","bd0b94a9":"code","97ede682":"code","1692438b":"code","0928a853":"code","4556d699":"code","5bea72a0":"code","693d7a14":"code","16a23777":"code","97e55358":"code","7256ecc8":"markdown","5c60ab38":"markdown","d48878bd":"markdown"},"source":{"a7fa9c3c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9531f9b4":"from pandas.io.parsers import read_csv\n\nreport_2015 = read_csv(\"\/kaggle\/input\/world-happiness\/2015.csv\")\nreport_2016 = read_csv(\"\/kaggle\/input\/world-happiness\/2016.csv\")\nreport_2017 = read_csv(\"\/kaggle\/input\/world-happiness\/2017.csv\")\nreport_2018 = read_csv(\"\/kaggle\/input\/world-happiness\/2018.csv\")\nreport_2019 = read_csv(\"\/kaggle\/input\/world-happiness\/2019.csv\")","0e216abe":"print(report_2015)\nprint(report_2015.info())","9d2a8a48":"print(report_2016)\nprint(report_2016.info())","d3d42593":"print(report_2017)\nprint(report_2017.info())","1d9b4e90":"print(report_2018)\nprint(report_2018.info())","ef2c0c7f":"print(report_2019)\nprint(report_2019.info())","a0d4a75d":"df_2015 = pd.DataFrame(report_2015).iloc[:,lambda x:[0,1,2,3,5,6,7,8,9,10,11]]\ndf_2015 = df_2015.rename(columns={\"Economy (GDP per Capita)\":\"Economy\",\"Health (Life Expectancy)\":\"Health\",\"Trust (Government Corruption)\":\"Trust\"})\n\ndf_2016 = pd.DataFrame(report_2016).iloc[:,lambda x:[0,1,2,3,6,7,8,9,10,11,12]]\ndf_2016 = df_2016.rename(columns={\"Economy (GDP per Capita)\":\"Economy\",\"Health (Life Expectancy)\":\"Health\",\"Trust (Government Corruption)\":\"Trust\"})\n\nregions = pd.DataFrame(report_2015).iloc[:,lambda x:[0,1]]\ndf_2017 = pd.DataFrame(report_2017).iloc[:,lambda x:[0,1,2,5,6,7,8,10,9,11]]\ndf_2017 = pd.merge(df_2017,regions,on=\"Country\")\ndf_2017 = df_2017.rename(columns={\"Happiness.Rank\":\"Happiness Rank\",\"Happiness.Score\":\"Happiness Score\",\"Economy..GDP.per.Capita.\":\"Economy\",\"Health..Life.Expectancy.\":\" Health\",\"Trust..Government.Corruption.\":\"Trust\",\"Dystopia.Residual\":\"Dystopia Residual\"})\ndf_2017 = df_2017.iloc[:,lambda x:[0,10,1,2,3,4,5,6,7,8,9]]\n\ndf_2018 = pd.DataFrame(report_2018).iloc[:,lambda x:[1,0,2,3,4,5,6,7,8]]\ndf_2018 = df_2018.rename(columns={\"Country or region\":\"Country\",\"Overall rank\":\"Happiness Rank\",\"Score\":\"Happiness Score\",\"GDP per capita\":\"Economy\",\"Healthy life expectancy\":\"Health\",\"Freedom to make life choices\":\"Freedom\",\"Perceptions of corruption\":\"Corruption\"})\ndf_2018 = pd.merge(df_2018,regions,on=\"Country\")\ndf_2018 = df_2018.iloc[:,lambda x:[0,9,1,2,3,4,5,6,7,8]]\n\ndf_2019 = pd.DataFrame(report_2019).iloc[:,lambda x:[1,0,2,3,4,5,6,7,8]]\ndf_2019 = df_2019.rename(columns={\"Country or region\":\"Country\",\"Overall rank\":\"Happiness Rank\",\"Score\":\"Happiness Score\",\"GDP per capita\":\"Economy\",\"Healthy life expectancy\":\"Health\",\"Freedom to make life choices\":\"Freedom\",\"Perceptions of corruption\":\"Corruption\"})\ndf_2019 = pd.merge(df_2019,regions,on=\"Country\")\ndf_2019 = df_2019.iloc[:,lambda x:[0,9,1,2,3,4,5,6,7,8]]","6106c748":"df_2015 = pd.DataFrame(report_2015).iloc[:,lambda x:[0,1,2,3,5,6,7,8,9,10,11]]\ndf_2015 = df_2015.rename(columns={\"Economy (GDP per Capita)\":\"Economy\",\"Health (Life Expectancy)\":\"Health\",\"Trust (Government Corruption)\":\"Trust\"})\n\ndf_2016 = pd.DataFrame(report_2016).iloc[:,lambda x:[0,1,2,3,6,7,8,9,10,11,12]]\ndf_2016 = df_2016.rename(columns={\"Economy (GDP per Capita)\":\"Economy\",\"Health (Life Expectancy)\":\"Health\",\"Trust (Government Corruption)\":\"Trust\"})\n\nregions = pd.DataFrame(report_2015).iloc[:,lambda x:[0,1]]\ndf_2017 = pd.DataFrame(report_2017).iloc[:,lambda x:[0,1,2,5,6,7,8,10,9,11]]\ndf_2017 = pd.merge(df_2017,regions,on=\"Country\")\ndf_2017 = df_2017.rename(columns={\"Happiness.Rank\":\"Happiness Rank\",\"Happiness.Score\":\"Happiness Score\",\"Economy..GDP.per.Capita.\":\"Economy\",\"Health..Life.Expectancy.\":\" Health\",\"Trust..Government.Corruption.\":\"Trust\",\"Dystopia.Residual\":\"Dystopia Residual\"})\ndf_2017 = df_2017.iloc[:,lambda x:[0,10,1,2,3,4,5,6,7,8,9]]\n\ndf_2018 = pd.DataFrame(report_2018).iloc[:,lambda x:[1,0,2,3,4,5,6,7,8]]\ndf_2018 = df_2018.rename(columns={\"Country or region\":\"Country\",\"Overall rank\":\"Happiness Rank\",\"Score\":\"Happiness Score\",\"GDP per capita\":\"Economy\",\"Healthy life expectancy\":\"Health\",\"Freedom to make life choices\":\"Freedom\",\"Perceptions of corruption\":\"Corruption\"})\ndf_2018 = pd.merge(df_2018,regions,on=\"Country\")\ndf_2018 = df_2018.iloc[:,lambda x:[0,9,1,2,3,4,5,6,7,8]]\n\ndf_2019 = pd.DataFrame(report_2019).iloc[:,lambda x:[1,0,2,3,4,5,6,7,8]]\ndf_2019 = df_2019.rename(columns={\"Country or region\":\"Country\",\"Overall rank\":\"Happiness Rank\",\"Score\":\"Happiness Score\",\"GDP per capita\":\"Economy\",\"Healthy life expectancy\":\"Health\",\"Freedom to make life choices\":\"Freedom\",\"Perceptions of corruption\":\"Corruption\"})\ndf_2019 = pd.merge(df_2019,regions,on=\"Country\")\ndf_2019 = df_2019.iloc[:,lambda x:[0,9,1,2,3,4,5,6,7,8]]","eae29b30":"df_2015_score = pd.DataFrame(data = report_2015).iloc[:,lambda x:[0,1,2,3]]\ndf_2016_score = pd.DataFrame(data = report_2016).iloc[:,lambda x:[0,2,3]]\ndf_2017_score = pd.DataFrame(data = report_2017).iloc[:,lambda x:[0,1,2]]\ndf_2018_score = pd.DataFrame(data = report_2018).iloc[:,lambda x:[0,1,2]]\ndf_2019_score = pd.DataFrame(data = report_2019).iloc[:,lambda x:[0,1,2]]\n\ndf_2018_score = df_2018_score.rename(columns={\"Country or region\":\"Country\"})\ndf_2019_score = df_2019_score.rename(columns={\"Country or region\":\"Country\"})\n\nscores_ranks_df = pd.merge(df_2015_score,df_2016_score,on=\"Country\")\nscores_ranks_df = pd.merge(scores_ranks_df,df_2017_score,on=\"Country\")\nscores_ranks_df = pd.merge(scores_ranks_df,df_2018_score,on=\"Country\")\nscores_ranks_df = pd.merge(scores_ranks_df,df_2019_score,on=\"Country\")\n\nscores_ranks_df = scores_ranks_df.rename(columns={\"Happiness Score_x\":\"2015 Score\",\"Happiness Score_y\":\"2016 Score\",\"Happiness.Score\":\"2017 Score\",\"Score_x\":\"2018 Score\",\"Score_y\":\"2019 Score\"})\nscores_ranks_df = scores_ranks_df.rename(columns={\"Happiness Rank_x\":\"2015 Rank\",\"Happiness Rank_y\":\"2016 Rank\",\"Happiness.Rank\":\"2017 Rank\",\"Overall rank_x\":\"2018 Rank\",\"Overall rank_y\":\"2019 Rank\"})\n\n\nscores_df = scores_ranks_df.iloc[:,lambda x:[0,3,5,7,9,11]]\nscores_df = scores_df.rename(columns={\"2015 Score\":\"2015\",\"2016 Score\":\"2016\",\"2017 Score\":\"2017\",\"2018 Score\":\"2018\",\"2019 Score\":\"2019\"})\n\nranks_df = scores_ranks_df.iloc[:,lambda x:[0,2,4,6,8,10]]\nranks_df = ranks_df.rename(columns={\"2015 Rank\":\"2015\",\"2016 Rank\":\"2016\",\"2017 Rank\":\"2017\",\"2018 Rank\":\"2018\",\"2019 Rank\":\"2019\"})","d7be8e3f":"scores_ranks_df","dea5120b":"# What countries or regions rank the highest in overall happiness and each of the six factors contributing to happiness?\n\ndf_2019_economy=(df_2019.iloc[:,lambda x:[0,4]]).sort_values(by=\"Economy\",ascending=False).head(20)\ndf_2019_social_support=(df_2019.iloc[:,lambda x:[0,5]]).sort_values(by=\"Social support\",ascending=False).head(20)\ndf_2019_health=(df_2019.iloc[:,lambda x:[0,6]]).sort_values(by=\"Health\",ascending=False).head(20)\ndf_2019_freedom=(df_2019.iloc[:,lambda x:[0,7]]).sort_values(by=\"Freedom\",ascending=False).head(20)\ndf_2019_generosity=(df_2019.iloc[:,lambda x:[0,8]]).sort_values(by=\"Generosity\",ascending=False).head(20)\ndf_2019_corruption=(df_2019.iloc[:,lambda x:[0,9]]).sort_values(by=\"Corruption\",ascending=False).head(20)\n\ndf_2019_top = pd.concat([df_2019_economy,df_2019_social_support,df_2019_health,df_2019_freedom,df_2019_generosity,df_2019_corruption], axis=1, join=\"inner\").iloc[:,lambda x:[1,3,5,7,9,11]].T\ndf_2019_top = df_2019_top.rename(columns={10:\"Australia\",8:\"Canada\"})","38adcf47":"# How did country ranks or scores change between the 2015 and 2016 as well as the 2016 and 2017 reports?\n\nscores_df_2015_2016 = scores_ranks_df.iloc[:,lambda x:[0,3,5]]\nscores_df_2016_2017 = scores_ranks_df.iloc[:,lambda x:[0,5,7]]\n\nrank_df_2015_2016 = scores_ranks_df.iloc[:,lambda x:[0,2,4]]\nrank_df_2016_2017 = scores_ranks_df.iloc[:,lambda x:[0,4,6]]","19a5fe36":"# Did any country experience a significant increase or decrease in happiness?\n\nfrom pandas.core.reshape.concat import concat\n\nscores_df_difference = pd.DataFrame(scores_df[\"2019\"]-scores_df[\"2015\"],columns=[\"Difference\"])\nscores_df = concat([scores_df,scores_df_difference],axis=1)\nprint(scores_df)\n\nrank_df_difference = pd.DataFrame(ranks_df[\"2015\"]-ranks_df[\"2019\"],columns=[\"Difference\"])\nranks_df = concat([ranks_df,rank_df_difference],axis=1)\nprint(ranks_df)\n\n\nvenezuela_df_score = scores_df[(scores_df[\"Difference\"]>2) | (scores_df[\"Difference\"]<-2)]\nvenezuela_df_score = pd.DataFrame(data=venezuela_df_score.iloc[:,lambda x :[1,2,3,4,5]].T)\nvenezuela_df_score = venezuela_df_score.rename(columns={21:\"Venezuela\"})\n\nvenezuela_df_rank = ranks_df[(ranks_df[\"Difference\"]>80) | (ranks_df[\"Difference\"]<-80)]\nvenezuela_df_rank = pd.DataFrame(data=venezuela_df_rank.iloc[:,lambda x :[1,2,3,4,5]].T)\nvenezuela_df_rank = venezuela_df_rank.rename(columns={21:\"Venezuela\"})","d984a4ab":"import matplotlib.pyplot as plt\nimport seaborn as sns","96193cce":"sns.set_theme(style=\"darkgrid\")\nplt.figure(figsize=(28,7))\nsns.barplot(x=\"Region\",y=\"2019 Score\",data=scores_ranks_df)","53ab58dc":"sns.set_theme(style=\"darkgrid\")\nplt.figure(figsize=(28,7))\nsns.barplot(x=\"Country\",y=\"2019 Score\",data=scores_ranks_df.head(10))","24933149":"sns.set_theme(style=\"darkgrid\")\nplt.figure(figsize=(28,7))\nsns.barplot(x=\"Country\",y=\"2019 Score\",data=scores_ranks_df.tail(10))","72e25306":"df_2019_top.T","f34c28cb":"sns.catplot(x=\"Country\",y=\"Economy\",data=df_2019_economy.head(20),kind=\"bar\",height=3.5, aspect=7)","a631a68b":"sns.catplot(x=\"Country\",y=\"Social support\",data=df_2019_social_support.head(20),kind=\"bar\",height=3.5, aspect=7)","6dd534d5":"sns.catplot(x=\"Country\",y=\"Health\",data=df_2019_health.head(20),kind=\"bar\",height=3.5, aspect=7)","acf5dfbc":"sns.catplot(x=\"Country\",y=\"Freedom\",data=df_2019_freedom.head(20),kind=\"bar\",height=3.5, aspect=7)","2bc75585":"sns.catplot(x=\"Country\",y=\"Generosity\",data=df_2019_generosity.head(20),kind=\"bar\",height=3.5, aspect=7)","bd0b94a9":"sns.catplot(x=\"Country\",y=\"Corruption\",data=df_2019_corruption.head(20),kind=\"bar\",height=3.5, aspect=7)","97ede682":"scores_df_2015_2016","1692438b":"rank_df_2015_2016","0928a853":"scores_df_2016_2017","4556d699":"rank_df_2016_2017","5bea72a0":"scores_df[(scores_df[\"Difference\"]>1) | (scores_df[\"Difference\"]<-1)]","693d7a14":"ranks_df[(ranks_df[\"Difference\"]>40) | (ranks_df[\"Difference\"]<-40)]","16a23777":"fig1 = sns.relplot(data=venezuela_df_score,kind=\"line\")\nfig1.set_axis_labels(\"Year\",\"Score\")\n\nvenezuela_df_score","97e55358":"fig2 = sns.relplot(data=venezuela_df_rank,kind=\"line\")\nplt.gca().invert_yaxis()\nfig2.set_axis_labels(\"Year\",\"Rank\")\n\nvenezuela_df_rank","7256ecc8":"How did country ranks or scores change between the 2015 and 2016 as well as the 2016 and 2017 reports?","5c60ab38":"Did any country experience a significant increase or decrease in happiness?","d48878bd":"What countries or regions rank the highest in overall happiness and each of the six factors contributing to happiness?"}}