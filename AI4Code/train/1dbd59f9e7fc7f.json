{"cell_type":{"da4789c7":"code","b1249b50":"code","66998a56":"code","f6499a19":"code","2a7c6489":"code","d7d45314":"code","c694d62d":"code","4bab729b":"code","e9f0c537":"markdown","6229d076":"markdown","9482fdb7":"markdown","e4e6d7a4":"markdown","16fce39d":"markdown","be0e8bde":"markdown","7e3b4481":"markdown","2c1e476c":"markdown","21758467":"markdown","ac864eec":"markdown","790734f7":"markdown","87a80714":"markdown","5f2e9855":"markdown","21c63211":"markdown"},"source":{"da4789c7":"attribute_category = {\n\t'Pace': ['Acceleration', 'SprintSpeed'],\n\t'Shooting': ['Finishing', 'ShotPower', 'LongShots', 'Positioning', 'Volleys'],\n\t'Passing': ['ShortPassing', 'LongPassing', 'Crossing', 'Curve', 'Vision'],\n\t'Dribbling': ['Agility', 'Balance', 'BallControl', 'Composure', 'Dribbling', 'Reactions'],\n\t'Defending': ['Interceptions', 'Marking', 'StandingTackle', 'SlidingTackle'],\n\t'Physical': ['Aggression', 'Jumping', 'Stamina', 'Strength']\n}","b1249b50":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nraw_data = pd.read_csv('\/kaggle\/input\/fifa19\/data.csv', index_col=0)\nraw_data.shape","66998a56":"print(raw_data.columns[[0, 3, 5, 7, 9, 11, 12, 18, 19, 21, 22, 23, 24, *(list(range(27, 53))), 87]]) # Unused features\ndata = raw_data.drop(\n\tcolumns=raw_data.columns[[0, 2, 3, 5, 7, 9, 11, 12, 18, 19, 21, 22, 23, 24, *(list(range(27, 53))), 87]])\ndata['Age'] = raw_data['Age']","f6499a19":"data['Preferred Foot'] = [0 if pref == 'Left' else 1 for pref in data['Preferred Foot']]\ndata['International Reputation'] = data['International Reputation'] * 20\ndata['Skill Moves'] = data['Skill Moves'] * 20\ndata['Weak Foot'] = data['Weak Foot'] * 20\ndata['Value'] = ['E0K' if len(val) < 3 else val for val in data['Value']]\ndata['Value'] = [float(val[1:-1]) if val[-1] == 'K' else float(val[1:-1])*1000 for val in data['Value']]\ndata['Weight'] = [val if isinstance(val, float) else float(val[0:-3]) for val in data['Weight']]\ndata['Height'] = ['0\\'0' if isinstance(val, float) else val for val in data['Height']]\ndata['Height'] = [float(val[0])*12 + float(val[2:]) if len(val) > 2 else 0 for val in data['Height']]","2a7c6489":"# Adding general features like Shooting, Dribbling, Pace...\nfor cat in attribute_category:\n\tdata[cat] = data[attribute_category[cat]].mean(axis=1)","d7d45314":"# Visualizing the Correlation between the different Attributes\ncorr = data.drop(\n\tcolumns=data.columns[[0, 1, 6, 3, 9, 10, *list(range(len(data.columns)-15, len(data.columns)))]]\n\t).corr()\nf, ax = plt.subplots(figsize=(15, 15))\ncmap = sns.color_palette(\"Spectral_r\")\nsns.heatmap(\n\tcorr, cmap=cmap, center=0, annot=True, annot_kws={'size': 6},\n\tsquare=True, linewidths=.05, cbar_kws={\"shrink\": .6})\nax.set_title('Attributes Correlation Matrix')\nplt.show()","c694d62d":"# Visualizing the correlation between specific attributes\nf, axes = plt.subplots(3, 2, figsize=(14, 21))\ncmap = sns.color_palette(\"Spectral_r\")\ni = 0\nfor cat in attribute_category:\n\tcorr = data[attribute_category[cat]].corr()\n\tplt.sca(axes[i % 3, i % 2])\n\tsns.heatmap(\n\t\tcorr, cmap=cmap, center=0, annot=True,\n\t\tsquare=True, linewidths=.05, cbar_kws={\"shrink\": .6})\n\taxes[i % 3, i % 2].set_title(cat)\n\ti = i + 1\nplt.show()","4bab729b":"# Visualizing the 6 best players on average in each category of attributes WITH SUBPLOTS\nfor cat in attribute_category:\n\tf, axes = plt.subplots(2, 3, figsize=(24, 16))\n\tj = 0\n\tfor ind, row in data.nlargest(6, cat).iterrows():\n\t\tplt.sca(axes[j % 2, j % 3])\n\t\tg = sns.barplot(x=row[attribute_category[cat]].index, y=row[attribute_category[cat]].values)\n\t\taxes[j % 2, j % 3].set_title(str(j+1) + '- ' + row['Name']+' ('+row['Club']+')')\n\t\tplt.ylim(70, 100)\n\t\ti = 0\n\t\tfor index, value in row[attribute_category[cat]].iteritems():\n\t\t\tg.text(i, value, round(value, 2), color='black', ha=\"center\")\n\t\t\ti = i+1\n\t\tj = j+1\n\tprint(cat + ':')\n\tplt.show()","e9f0c537":"## Introduction","6229d076":"## 3. Understanding the correlations between the attributes and the categories:<a id=\"corr\"><\/a>","9482fdb7":"Walkthrough the analysis:\n1. <a href=\"#attr_cat\">Understanding the attribute categories<\/a> \n2. <a href=\"#data_manip\">Importing, cleaning and manipulating the raw data<\/a>\n3. <a href=\"#corr\">Understanding the correlations between the attributes and the categories<\/a>\n4. <a href=\"#best\">Extracting and visualizingg the best players in each category<\/a>","e4e6d7a4":"These categories are then converted to dictionnaries for later use:","16fce39d":"This large dataset of the player in FIFA19 allows for unlimited possibilites of data analysis, especially if you're a regular fifa player. In this notebook we'll be focusing on the players and who are the best at a given skill.\nWhen looking online, I figured that attributes of players are broken down into different categories: Pace, Shooting, Passing, Dribbling, Defending, Physical, and Goalkeeping. So I decided to perform the analysis in light of that.","be0e8bde":"Normalizing features (scale 0-100):","7e3b4481":"*Source: https:\/\/www.fifauteam.com\/fifa-19-attributes-guide*","2c1e476c":"Droping unused Features:","21758467":"## 2. Importing, cleaning and manipulating the raw data:<a id=\"data_manip\"><\/a>","ac864eec":"Player attributes and categories:","790734f7":"After that, we add the columns containing the features of categories:","87a80714":"## 1. Attribute categories:<a id=\"attr_cat\"><\/a>\n","5f2e9855":"![image.png](attachment:image.png)","21c63211":"## 4. Extracting and vizualising the best players:<a id=\"best\"><\/a>"}}