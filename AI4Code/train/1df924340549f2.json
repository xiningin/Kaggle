{"cell_type":{"cdee49d1":"code","00ceeced":"code","b68296ad":"code","157c45bd":"code","b4fd776a":"code","83e8eccf":"code","74f3d0ac":"code","96d31e60":"code","20e1f68e":"code","5e3229a8":"code","f1e12695":"code","5ea18069":"code","1db6def2":"code","6846b402":"code","099624d1":"code","672da94f":"code","ce7f261a":"code","d5d1396e":"code","4c11e355":"code","54a5113d":"code","5cbae1a9":"code","7867ab82":"code","a4598071":"code","1c0e9655":"code","1f95ffa1":"code","3695390e":"code","946803aa":"code","05684d6e":"code","992641cc":"code","ff7a05b3":"code","ecd0c56b":"code","8e008c15":"code","46a0db83":"code","b5f62cce":"code","e36cc612":"code","815db8b3":"code","64b5d06a":"code","8a31a146":"code","cf5f2f3a":"code","ced44c19":"code","e4b7bce5":"code","40635e5b":"code","75ec4f46":"code","32d295a2":"code","c49f70f5":"code","0573780e":"code","16f1e3a3":"code","2961aed4":"code","8e14d7d1":"code","9611079c":"code","2462c874":"code","4866d5e2":"code","5c9ee0a1":"code","63b3b4a4":"code","ff52883d":"code","68c756b6":"code","bbf1933a":"code","038a67c8":"code","dcaab833":"code","b42966ba":"code","f8960a07":"code","b868e794":"code","738c0133":"code","bb2038ba":"code","72a7c67b":"code","bed441e9":"code","5a7e84dc":"code","89ebecb1":"code","f8989a56":"code","5bf8f630":"code","5aa9cf48":"code","6fd2c018":"code","f4755721":"code","6849873f":"code","b2debb1b":"code","05c0e780":"code","6a10929a":"code","59db341e":"code","e45677ea":"code","d7af22d7":"code","ec109fb9":"code","e0fc61b1":"code","05acbd0a":"code","cead299d":"code","3ae0f07f":"code","66f30f4a":"code","a35aaa95":"code","8fee977c":"code","195d6da8":"code","3ad80cd4":"code","eeb2eafc":"code","08a428c3":"code","1ea9cc41":"code","12ca6001":"code","8b8b6a64":"code","d07b04e1":"code","05189314":"code","f82f65fd":"code","b80e6fbf":"code","4378152f":"code","cbb3c530":"code","ee70ec1d":"code","cc479897":"code","63d3f1ce":"code","c2021492":"code","591913c2":"code","4d637383":"code","05aac08b":"code","34a36464":"markdown","5e70ca1e":"markdown","1b844d98":"markdown","e2733d79":"markdown","abef808a":"markdown","fca1aadd":"markdown","ae18e97a":"markdown","9941d005":"markdown","bb666d80":"markdown","6a1bb1dc":"markdown","11c1267f":"markdown","48872d81":"markdown","aab22715":"markdown","ac86cac1":"markdown","c541b5e7":"markdown","16766ed1":"markdown","35e80cb6":"markdown","4494ef13":"markdown","4153576e":"markdown","4917482a":"markdown","c66226a1":"markdown","3049d5ed":"markdown","c1a17666":"markdown","db7c19dd":"markdown","411d1f36":"markdown","bf9cdbbc":"markdown","847361e5":"markdown","da0db27d":"markdown","173d8aae":"markdown","e929cb0c":"markdown","a4bcc39b":"markdown","17924ec6":"markdown","4d111802":"markdown","abc204ae":"markdown","3083befe":"markdown","fd0c5bd8":"markdown","36d6841f":"markdown","690d8f2d":"markdown","8002aefd":"markdown","0e7ce9e8":"markdown","1c7a67dd":"markdown","f8539985":"markdown","070da682":"markdown","b3eeddec":"markdown","4f7c5231":"markdown","67c92018":"markdown","160d3b64":"markdown"},"source":{"cdee49d1":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","00ceeced":"cdata = pd.read_csv('\/kaggle\/input\/cabs-fare-data\/Cab_Data.csv')\ncid_data = pd.read_csv('..\/input\/cabs-fare-data\/Customer_ID.csv')\ntid_data = pd.read_csv('..\/input\/cabs-fare-data\/Transaction_ID.csv')\ncitydata = pd.read_csv('..\/input\/cabs-fare-data\/City.csv')","b68296ad":"cdata.head()","157c45bd":"cid_data.head()","b4fd776a":"tid_data.head()","83e8eccf":"citydata.head()","74f3d0ac":"cdata.info()\ncid_data.info()\ntid_data.info()\ncitydata.info()","96d31e60":"cdata['Date of Travel'] = pd.to_datetime(cdata['Date of Travel'], format='%d-%m-%Y')","20e1f68e":"cdata.info()","5e3229a8":"for col in cdata.columns:\n    if ' ' in col:\n        cdata = cdata.rename(columns={col:col.replace(' ','_')})\nfor col in cid_data.columns:\n    if ' ' in col:\n        cid_data = cid_data.rename(columns={col:col.replace(' ','_')})\nfor col in tid_data.columns:\n    if ' ' in col:\n        tid_data = tid_data.rename(columns={col:col.replace(' ','_')})\n\n","f1e12695":"cdata.head()","5ea18069":"cdata.Date_of_Travel.nunique()","1db6def2":"cdata.groupby('Date_of_Travel').Transaction_ID.count().sort_values(ascending=False).head(10)","6846b402":"months=[]\nyears =[]\nfor i in range(len(cdata['Date_of_Travel'])):\n    months.append(cdata['Date_of_Travel'][i].month)\n    years.append(cdata['Date_of_Travel'][i].year)\ncdata['Month'] = months\ncdata['Year'] = years","099624d1":"cdata = cdata.drop(['Date_of_Travel'],axis=1)","672da94f":"cdata.head()","ce7f261a":"plot2 = cdata.groupby(['Month']).Transaction_ID.count()\nplot2","d5d1396e":"plt.figure(figsize=(14,6))\nsns.barplot(x=plot2.index,y=plot2.values)\nplt.title('Travel frequency by date')\nplt.show()","4c11e355":"plot3 = cdata.groupby(['Year','Company']).Transaction_ID.count()\nplot3","54a5113d":"cdata.groupby('Month').KM_Travelled.mean()\n","5cbae1a9":"cdata.groupby('Month').Cost_of_Trip.mean()\n","7867ab82":"cdata.groupby('Company').Transaction_ID.count()","a4598071":"plot7 = cdata[cdata.Company=='Pink Cab'].groupby('Month').Transaction_ID.count()\nplot7","1c0e9655":"plot8 = cdata[cdata.Company=='Yellow Cab'].groupby('Month').Transaction_ID.count()\nplot8","1f95ffa1":"plt.figure(figsize=(14,6))\nax = plt.subplot(111)\nax.bar(plot7.index-0.2, plot7.values, width=0.4, color='magenta', align='center',label='Pink Cab')\nax.bar(plot7.index+0.2, plot8.values, width=0.4, color='yellow', align='center',label='Yellow Cab')\nplt.ylabel('No. of Transactions')\nplt.xlabel('Month')\nplt.legend()\nplt.show()","3695390e":"cdata[cdata.Company=='Pink Cab'].groupby('Year').Price_Charged.mean()","946803aa":"cdata[cdata.Company=='Yellow Cab'].groupby('Year').Price_Charged.mean()","05684d6e":"cdata[cdata.Company=='Pink Cab'].groupby('Year').Cost_of_Trip.mean()","992641cc":"cdata[cdata.Company=='Yellow Cab'].groupby('Year').Cost_of_Trip.mean()","ff7a05b3":"left = cdata.set_index(['Transaction_ID'])\nright = tid_data.set_index(['Transaction_ID'])\ndata = left.join(right)\ndata","ecd0c56b":"left = data.set_index([data.index,'Customer_ID'])\nright = cid_data.set_index(['Customer_ID'])\ndata = left.join(right)\ndata","8e008c15":"data = data.reset_index()","46a0db83":"data = data.rename(columns={'Income_(USD\/Month)':'Income'})","b5f62cce":"city_d = data.groupby('City').Transaction_ID.count()\ncity_d","e36cc612":"\nlabs = city_d.index\nvals = city_d.values\nfigp, axp = plt.subplots(figsize=(20,10))\naxp.pie(vals , labels=labs, autopct='%1.1f%%',shadow=True, startangle=90,)\naxp.axis('equal')\n\nplt.title('Transaction per City')\nplt.show()","815db8b3":"data.groupby(['Company','Payment_Mode']).Price_Charged.agg(['mean'])","64b5d06a":"data.groupby(['Company','Gender']).Price_Charged.agg(['mean'])","8a31a146":"plt.figure(figsize=(20,10))\nsns.scatterplot(data=data, x=\"KM_Travelled\", y=\"Cost_of_Trip\", hue=\"City\")","cf5f2f3a":"plt.figure(figsize=(20,10))\nsns.scatterplot(data=data, x=\"KM_Travelled\", y=\"Price_Charged\", hue=\"City\")\n","ced44c19":"plot_age = data.groupby('Age').Customer_ID.nunique()","e4b7bce5":"plt.figure(figsize=(20,10))\nsns.barplot(x=plot_age.index,y=plot_age.values)\nplt.title('Total customers')\nplt.show()","40635e5b":"plot_age2 = data.groupby('Age').Transaction_ID.count()","75ec4f46":"plt.figure(figsize=(20,10))\nsns.barplot(x=plot_age2.index,y=plot_age2.values)\nplt.xlabel('Age')\nplt.title('number of Transactions')\nplt.show()","32d295a2":"data.groupby('Company').Age.mean()","c49f70f5":"labels = 'Age <= 40','Age > 40'\npct = [plot_age[plot_age2.index<=40].values.sum(),plot_age[plot_age2.index>40].values.sum()]\nexplode = (0.15,0)\nfig1, ax1 = plt.subplots()\nax1.pie(pct , explode=explode, labels=labels, autopct='%1.1f%%',\n        shadow=True, startangle=90)\nax1.axis('equal')\n\nplt.title('Customers share by AGE')\nplt.show()","0573780e":"company_age = data.groupby(['Company','Age']).Customer_ID.agg(['nunique'])\ncompany_age = company_age.reset_index()\ncompany_age","16f1e3a3":"labels2 = 'Age less than 40','Age greater than 40' \npct2 = [company_age[(company_age.Age<=40) & (company_age.Company=='Pink Cab')]['nunique'].sum(),company_age[(company_age.Age>40) & (company_age.Company=='Pink Cab')]['nunique'].sum() ]\nexplode2 = (0.15,0)\nfig2, ax2 = plt.subplots()\nax2.pie(pct2 , explode=explode2, labels=labels2, autopct='%1.1f%%',\nshadow=True, startangle=90)\nax2.axis('equal')\n\nplt.title('Customers share by AGE of Pink Cab')\nplt.show()","2961aed4":"labels3 = 'Age less than 40','Age greater than 40' \npct3 = [company_age[(company_age.Age<=40) & (company_age.Company=='Yellow Cab')]['nunique'].sum(),company_age[(company_age.Age>40) & (company_age.Company=='Yellow Cab')]['nunique'].sum() ]\nfig3, ax3 = plt.subplots()\nax3.pie(pct3 ,explode = explode, labels=labels3, autopct='%1.1f%%',shadow=True, startangle=90)\nax3.axis('equal')\n\nplt.title('Customers share by AGE of Yellow Cab')\nplt.show()","8e14d7d1":"data[data.Age<=40]['KM_Travelled'].mean()","9611079c":"data[data.Age>40]['KM_Travelled'].mean()","2462c874":"data[data.Age<=40]['Price_Charged'].mean()","4866d5e2":"data[data.Age>40]['Price_Charged'].mean()","5c9ee0a1":"data.groupby(['Company','Gender']).Customer_ID.nunique()","63b3b4a4":"labels4 = 'Male','Female' \npct4 = [data[(data.Gender=='Male') ]['Gender'].count(),data[(data.Gender=='Female') ]['Gender'].count() ]\nfig4, ax4 = plt.subplots()\nax4.pie(pct4 ,explode = explode, labels=labels4, autopct='%1.1f%%',shadow=True, startangle=90)\nax4.axis('equal')\n\nplt.title('Customers share by Gender')\nplt.show()","ff52883d":"labels5 = 'Male','Female' \npct5 = [data[(data.Gender=='Male') & (data.Company=='Yellow Cab')]['Gender'].count(),data[(data.Gender=='Female') & (data.Company=='Yellow Cab')]['Gender'].count() ]\nfig5, ax5 = plt.subplots()\nax5.pie(pct5 ,explode = explode, labels=labels5, autopct='%1.1f%%',shadow=True, startangle=90)\nax5.axis('equal')\n\nplt.title('Customers share by Gender of Yellow Cab')\nplt.show()","68c756b6":"labels6 = 'Male','Female' \npct6 = [data[(data.Gender=='Male') & (data.Company=='Pink Cab')]['Gender'].count(),data[(data.Gender=='Female') & (data.Company=='Pink Cab')]['Gender'].count() ]\nfig6, ax6 = plt.subplots()\nax6.pie(pct6 ,explode = explode, labels=labels6, autopct='%1.1f%%',shadow=True, startangle=90)\nax6.axis('equal')\n\nplt.title('Customers share by Gender of Pink Cab')\nplt.show()","bbf1933a":"data.groupby(['Company','Year','Gender']).Transaction_ID.count()","038a67c8":"labels7 = 'Yellow Cab','Pink Cab' \npct7 = [data[(data.Year==2016) & (data.Company=='Yellow Cab')]['Customer_ID'].count(),data[(data.Year==2016) & (data.Company=='Pink Cab')]['Customer_ID'].count() ]\nfig7, ax7 = plt.subplots()\nax7.pie(pct7 ,explode = explode, labels=labels7, autopct='%1.1f%%',shadow=True, startangle=90)\nax7.axis('equal')\n\nplt.title('Customers share in 2016')\nplt.show()","dcaab833":"print(pct7)","b42966ba":"labels8 = 'Yellow Cab','Pink Cab' \npct8 = [data[(data.Year==2017) & (data.Company=='Yellow Cab')]['Customer_ID'].count(),data[(data.Year==2017) & (data.Company=='Pink Cab')]['Customer_ID'].count() ]\nfig8, ax8 = plt.subplots()\nax8.pie(pct8 ,explode = explode, labels=labels8, autopct='%1.1f%%',shadow=True, startangle=90)\nax8.axis('equal')\n\nplt.title('Customers share in 2017')\nplt.show()","f8960a07":"print(pct8)","b868e794":"labels9 = 'Yellow Cab','Pink Cab' \npct9 = [data[(data.Year==2018) & (data.Company=='Yellow Cab')]['Customer_ID'].count(),data[(data.Year==2018) & (data.Company=='Pink Cab')]['Customer_ID'].count() ]\nfig9, ax9 = plt.subplots()\nax9.pie(pct9 ,explode = explode, labels=labels9, autopct='%1.1f%%',shadow=True, startangle=90)\nax9.axis('equal')\n\nplt.title('Customers share in 2018')\nplt.show()","738c0133":"print(pct9)","bb2038ba":"(pct9[0]-pct8[0])*100\/pct8[0]","72a7c67b":"(pct8[1]-pct7[1])*100\/pct7[1]","bed441e9":"labels10 = 'Yellow Cab','Pink Cab' \npct10 = [data[(data.Year==2016) & (data.Company=='Yellow Cab')]['KM_Travelled'].sum(),data[(data.Year==2016) & (data.Company=='Pink Cab')]['KM_Travelled'].sum() ]\nfig10, ax10 = plt.subplots()\nax10.pie(pct10 ,explode = explode, labels=labels10, autopct='%1.1f%%',shadow=True, startangle=90)\nax10.axis('equal')\n\nplt.title('KM Travelled share in 2016')\nplt.show()","5a7e84dc":"labels11 = 'Yellow Cab','Pink Cab' \npct11 = [data[(data.Year==2018) & (data.Company=='Yellow Cab')]['KM_Travelled'].sum(),data[(data.Year==2018) & (data.Company=='Pink Cab')]['KM_Travelled'].sum() ]\nfig11, ax11 = plt.subplots()\nax11.pie(pct11 ,explode = explode, labels=labels11, autopct='%1.1f%%',shadow=True, startangle=90)\nax11.axis('equal')\n\nplt.title('KM Travelled share in 2018')\nplt.show()","89ebecb1":"print(pct11)","f8989a56":"labels12 = 'Yellow Cab','Pink Cab' \npct12 = [data[(data.Year==2016) & (data.Company=='Yellow Cab') & (data.City=='NEW YORK NY') ]['Customer_ID'].count(),data[(data.Year==2016) & (data.Company=='Pink Cab') & (data.City=='NEW YORK NY')]['Customer_ID'].count() ]\nfig12, ax12 = plt.subplots()\nax12.pie(pct12 ,explode = explode, labels=labels12, autopct='%1.1f%%',shadow=True, startangle=90)\nax12.axis('equal')\n\nplt.title('Customers share in 2016 in NY')\nplt.show()","5bf8f630":"labels13 = 'Yellow Cab','Pink Cab' \npct13 = [data[(data.Year==2018) & (data.Company=='Yellow Cab') & (data.City=='NEW YORK NY') ]['Customer_ID'].count(),data[(data.Year==2018) & (data.Company=='Pink Cab') & (data.City=='NEW YORK NY')]['Customer_ID'].count() ]\nfig13, ax13 = plt.subplots()\nax13.pie(pct13 ,explode = explode, labels=labels13, autopct='%1.1f%%',shadow=True, startangle=90)\nax13.axis('equal')\n\nplt.title('Customers share in 2018 in NY')\nplt.show()","5aa9cf48":"data['Margins'] = (data['Price_Charged']-data['Cost_of_Trip'])","6fd2c018":"data.head()","f4755721":"df = data[['KM_Travelled','Price_Charged','Cost_of_Trip','Month','Year','Age','Income','Margins']]\ndf.corr()","6849873f":"plt.figure(figsize=(20,10))\nsns.heatmap(df.corr(),annot=True,vmin=-1,vmax=1,cmap='coolwarm')","b2debb1b":"city_m = data[data.Month==12].groupby('City').Margins.mean()\ncity_m","05c0e780":"dt1 = data[(data.Company=='Pink Cab')&(data.City=='NEW YORK NY')].groupby(['Year','Month']).Margins.mean()\ndt2 = data[(data.Company=='Yellow Cab')&(data.City=='NEW YORK NY')].groupby(['Year','Month']).Margins.mean()\n","6a10929a":"dd1 = pd.DataFrame({'Margins_pink':dt1.values,'Transactions_pink':data[data.Company=='Pink Cab'].groupby(['Year','Month']).Transaction_ID.count().values})","59db341e":"dd2 = pd.DataFrame({'Margins_yellow':dt2.values,'Transactions_yellow':data[data.Company=='Yellow Cab'].groupby(['Year','Month']).Transaction_ID.count().values})","e45677ea":"dd1","d7af22d7":"dd1.corr()","ec109fb9":"dd2.corr()","e0fc61b1":"plt.figure(figsize=(5,5))\nsns.scatterplot(x=dd1.Transactions_pink,y=dd1.Margins_pink)","05acbd0a":"plt.figure(figsize=(5,5))\nsns.scatterplot(x=dd2.Transactions_yellow,y=dd2.Margins_yellow)","cead299d":"data.groupby(['Gender','Company']).Margins.mean()","3ae0f07f":"a = data[(data.Gender=='Female')&(data.Company=='Yellow Cab')].groupby('Transaction_ID').Margins.mean()\nb = data[(data.Gender=='Male')&(data.Company=='Yellow Cab')].groupby('Transaction_ID').Margins.mean()\nprint(a.shape[0],b.shape[0])\n\nfrom scipy import stats\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that theres a statistical difference')\nelse:\n    print('We accept null hypothesis that theres no statistical difference')\n    \nprint('P value is ', p_value)","66f30f4a":"a = data[(data.Gender=='Female')&(data.Company=='Pink Cab')].groupby('Transaction_ID').Margins.mean()\nb = data[(data.Gender=='Male')&(data.Company=='Pink Cab')].groupby('Transaction_ID').Margins.mean()\nprint(a.shape[0],b.shape[0])\n\nfrom scipy import stats\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that theres a difference')\nelse:\n    print('We accept null hypothesis that theres no difference')\n    \nprint('P value is ', p_value)","a35aaa95":"a = data[(data.Gender=='Female')&(data.Company=='Yellow Cab')].groupby('Transaction_ID').KM_Travelled.mean()\nb = data[(data.Gender=='Male')&(data.Company=='Yellow Cab')].groupby('Transaction_ID').KM_Travelled.mean()\nprint(a.shape[0],b.shape[0])\n\nfrom scipy import stats\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that theres a difference')\nelse:\n    print('We accept null hypothesis that theres no difference')\n    \nprint('P value is ', p_value)","8fee977c":"data[data.Age<=45].groupby('Company').Margins.mean()","195d6da8":"data[data.Age>45].groupby('Company').Margins.mean()","3ad80cd4":"a = data[(data.Age<=45)&(data.Company=='Pink Cab')].groupby('Transaction_ID').Margins.mean()\nb = data[(data.Age>45)&(data.Company=='Pink Cab')].groupby('Transaction_ID').Margins.mean()\nprint(a.shape[0],b.shape[0])\n\nfrom scipy import stats\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that theres a difference')\nelse:\n    print('We accept null hypothesis that theres no difference')\n    \nprint('P value is ', p_value)","eeb2eafc":"a = data[(data.Age<=45)&(data.Company=='Yellow Cab')].groupby('Transaction_ID').Margins.mean()\nb = data[(data.Age>45)&(data.Company=='Yellow Cab')].groupby('Transaction_ID').Margins.mean()\nprint(a.shape[0],b.shape[0])\n\nfrom scipy import stats\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that theres a difference')\nelse:\n    print('We accept null hypothesis')\n    \nprint('P value is ', p_value)","08a428c3":"pl = data[data.Company=='Yellow Cab'].groupby('City').Margins.agg(['mean'])\npl['mean1']=pl['mean']","1ea9cc41":"pl['mean2'] = data[data.Company=='Pink Cab'].groupby('City').Margins.mean().values","12ca6001":"pl","8b8b6a64":"data.groupby(['Year','Company']).Margins.mean()","d07b04e1":"a = data[(data.Payment_Mode=='Cash')&(data.Company=='Pink Cab')].groupby('Transaction_ID').Margins.mean()\nb = data[(data.Payment_Mode=='Card')&(data.Company=='Pink Cab')].groupby('Transaction_ID').Margins.mean()\n\n\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that theres a difference')\nelse:\n    print('We accept null hypothesis that theres no difference')\n    \nprint('P value is ', p_value)","05189314":"a = data[(data.Payment_Mode=='Cash')&(data.Company=='Yellow Cab')].groupby('Transaction_ID').Margins.mean()\nb = data[(data.Payment_Mode=='Card')&(data.Company=='Yellow Cab')].groupby('Transaction_ID').Margins.mean()\n\n\n_, p_value = stats.ttest_ind(a.values,b=b.values,equal_var=True)\nif(p_value<0.05):\n    print('We accept alternate hypothesis that there is a statistical difference')\nelse:\n    print('We accept null hypothesis that there is no statistical difference')\n    \nprint('P value is ', p_value)","f82f65fd":"a = data[(data.Gender=='Female')&(data.Company=='Yellow Cab')&(data.Year==2016)].groupby('Month').Transaction_ID.count()\nb = data[(data.Gender=='Female')&(data.Company=='Yellow Cab')&(data.Year==2017)].groupby('Month').Transaction_ID.count()\nc = data[(data.Gender=='Female')&(data.Company=='Yellow Cab')&(data.Year==2018)].groupby('Month').Transaction_ID.count()\n\n\n_, p_value = stats.f_oneway(a.values, b.values,c.values)\np_value\nif(p_value<0.05):\n    print('We accept alternate hypothesis that there is a statistical difference')\nelse:\n    print('We accept null hypothesis that there is no statistical difference')\n    \nprint('P value is ', p_value)","b80e6fbf":"a = data[(data.Company=='Pink Cab')&(data.Year==2016)].groupby('Month').Transaction_ID.count()\nb = data[(data.Company=='Pink Cab')&(data.Year==2017)].groupby('Month').Transaction_ID.count()\nc = data[(data.Company=='Pink Cab')&(data.Year==2018)].groupby('Month').Transaction_ID.count()\n\n\n_, p_value = stats.f_oneway(a.values, b.values,c.values)\np_value\nif(p_value<0.05):\n    print('We accept alternate hypothesis that there is a statistical difference')\nelse:\n    print('We accept null hypothesis that there is no statistical difference')\n    \nprint('P value is ', p_value)","4378152f":"data[data.Price_Charged>100].groupby('Payment_Mode').Payment_Mode.count()","cbb3c530":"data[data.Price_Charged<=100].groupby('Payment_Mode').Payment_Mode.count()","ee70ec1d":"labels = 'Yellow Cab','Pink Cab' \npct = [data[(data.Year==2016) & (data.Company=='Yellow Cab') &(data.Gender=='Male') ]['Customer_ID'].nunique(),data[(data.Year==2016) & (data.Company=='Pink Cab') & (data.Gender=='Male')]['Customer_ID'].nunique() ]\nfig, ax = plt.subplots()\nax.pie(pct ,explode = explode, labels=labels, autopct='%1.1f%%',shadow=True, startangle=90)\nax.axis('equal')\n\nplt.title('Female Customers share in 2016 ')\nplt.show()","cc479897":"labels = 'Yellow Cab','Pink Cab' \npct = [data[(data.Year==2018) & (data.Company=='Yellow Cab') &(data.Gender=='Male') ]['Customer_ID'].nunique(),data[(data.Year==2018) & (data.Company=='Pink Cab') & (data.Gender=='Male')]['Customer_ID'].nunique() ]\nfig, ax = plt.subplots()\nax.pie(pct ,explode = explode, labels=labels, autopct='%1.1f%%',shadow=True, startangle=90)\nax.axis('equal')\n\nplt.title('Female Customers share in 2018 ')\nplt.show()","63d3f1ce":"labels = 'Yellow Cab','Pink Cab' \npct = [data[(data.Year==2016) & (data.Company=='Yellow Cab') &(data.Age>45) ]['Customer_ID'].nunique(),data[(data.Year==2016) & (data.Company=='Pink Cab') & (data.Age>45)]['Customer_ID'].nunique() ]\nfig, ax = plt.subplots()\nax.pie(pct ,explode = explode, labels=labels, autopct='%1.1f%%',shadow=True, startangle=90)\nax.axis('equal')\n\nplt.title('OLD Customers share in 2016 ')\nplt.show()","c2021492":"labels = 'Yellow Cab','Pink Cab' \npct = [data[(data.Year==2018) & (data.Company=='Yellow Cab') &(data.Age>45) ]['Customer_ID'].nunique(),data[(data.Year==2018) & (data.Company=='Pink Cab') & (data.Age>45)]['Customer_ID'].nunique() ]\nfig, ax = plt.subplots()\nax.pie(pct ,explode = explode, labels=labels, autopct='%1.1f%%',shadow=True, startangle=90)\nax.axis('equal')\n\nplt.title('OLD Customers share in 2018 ')\nplt.show()","591913c2":"data[data.Company=='Yellow Cab'].groupby('Customer_ID').Transaction_ID.count().sort_values(ascending=False).head(10)","4d637383":"data[data.Company=='Pink Cab'].groupby('Customer_ID').Transaction_ID.count().sort_values(ascending=False).head(10)","05aac08b":"data[data.Customer_ID==8474].groupby('Company').Transaction_ID.count()","34a36464":"## Is that dofference due to difference in KM Travelled?","5e70ca1e":"KMs travelled share","1b844d98":"## Upvote if you liked, I'm a beginner it will motivate me!!","e2733d79":"## Is there difference in margins for Card payer and Cash payers","abef808a":"### Ok so it prooves that it had a difference, Yellow Cabs also gives discount to people older than 45 ","fca1aadd":"## Here we can see that NEW YORK costs more in cabs , that means population and ","ae18e97a":"## Yearly Transaction Analysis","9941d005":"## 1. Importing Libraries","bb666d80":"## Monthly Margins of Pink Cab","6a1bb1dc":"## Just Editing Col names for my convinience","11c1267f":"### T TEST to checking that hypothesis for Yellow Cabs","48872d81":"## Most frequent customers for Yellow Cabs","aab22715":"# As you can see Yellow Cabs loosing old and female customers , thats whyb it may have som kind of discount policies for them\n","ac86cac1":"## Creating Master Data combining all","c541b5e7":"## AS we can see that even top customers of Pink cabs use Yellow cabs","16766ed1":"### We can see there's difference in margins due to age in **Yellow Cab**","35e80cb6":"## Age Analysis","4494ef13":"This shows that Pink Cabs increase their margins with increase in number of Transations","4153576e":"## Reading Datasets","4917482a":"## Most frequent customers of Pink Cab","c66226a1":"## We have 4 datasets\n1. cab data : describing attributes of Transactions like Companies, Km travelled, price charged etc.\n2. Customer id data : consists of uniques customer ids with their ages and income.\n3. Transaction id data : Consists of unique Transaction Ids with the payment mode.\n4. City Data :  Consists of various cities, their populations and number of users.","3049d5ed":"## Payment Modes","c1a17666":"## Gender Share","db7c19dd":"## Gender Analysis","411d1f36":"# Date Analysis","bf9cdbbc":"### For Pink Cabs","847361e5":"## Margins for Yellow cabs","da0db27d":"Almost traveled about 22 KMs every month !!","173d8aae":"# We can conclude from the analysis that\n\n1. Yellow Cab even though saturated in market haven't lost much business to Pink Cabs even with Higher margins\n\n2. Yellow Cab have policies for charging less to Old age and female customers\n\n3. Pink Cab has potential and can grow much more if implemented some policies better\n\n4. Yellow Cab increases its margins when there are less customers and decrease when there is season, and I beleive thats a good business model\n\n5. I believe that Yellow cab gonna maintain its monopoly in the market for a longer period of time","e929cb0c":"No difference in KMs travelled and price charged","a4bcc39b":"## There's not much statistical difference b\/w number of transaction in  various months in varous years","17924ec6":"## Handling Dates","4d111802":"### As we can see Cost is directly proportional to the KMs travelled but not really depends on city!!","abc204ae":"## Do Yellow Cabs decrease Margins for Females, Lets checkout","3083befe":"## Converting dates into year and months","fd0c5bd8":"## Analysing Margins","36d6841f":"## Customer share in NY","690d8f2d":"* This shows that they decrease their margins with number of Transactions increasing which I beleive is a **better business model!!","8002aefd":"## Margins per Age","0e7ce9e8":"## Female Customers share","1c7a67dd":"Looks Like Yellow Cabs Charge less to the Females","f8539985":"They also follow the same trend like whole customers, no specific gender liking of any Company","070da682":"## Customer Share","b3eeddec":"## Monthly Transaction Analysis","4f7c5231":"### No difference that means Yellow Cab Generaly gives discount to Female","67c92018":"## Margins in NY","160d3b64":"## Company Transaction share"}}