{"cell_type":{"4228d63a":"code","525d8e23":"code","cc7aa1a6":"code","b7fdb514":"code","cbecda6b":"code","2a2af7f6":"code","977351bb":"code","72cb2d88":"code","0503bc4f":"markdown","eab3ef35":"markdown","071ff82e":"markdown","cd539d9a":"markdown","67ee04f7":"markdown","a192c87a":"markdown","f358ffb6":"markdown","37b7c8c7":"markdown","0861cd00":"markdown","4fb0c806":"markdown","cc92aed6":"markdown","2e406b26":"markdown"},"source":{"4228d63a":"# Library'lerin y\u00fcklenmesi\nimport pandas as pd\nimport numpy as np \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport unidecode\nimport math\nunidecode.unidecode('\u0130,\u00d6,\u00dc,\u015e,\u00c7,\u011e,\u0131,\u00f6,\u00fc,\u015f,\u00e7,\u011f')\nfrom scipy.stats.stats import pearsonr\n\n# Veri dosyalar\u0131n\u0131n y\u00fcklenmesi\ndf = pd.read_excel('..\/input\/il-bazli-veri-220420\/agg.xlsx')\ndf2 = pd.read_csv('..\/input\/number-of-cases-in-the-city-covid19-turkey\/number_of_cases_in_the_city.csv')\n\n# Veri setlerinin kopyalanmas\u0131\nilbazlimetrik = df\nsehir_covid = df2\n\n# Veri setlerine h\u0131zl\u0131 bir bak\u0131\u015f\nilbazlimetrik.head()","525d8e23":"# Veri setlerine h\u0131zl\u0131 bir bak\u0131\u015f\nsehir_covid.head()","cc7aa1a6":"# Veri setinin manip\u00fclasyonu\nilbazlimetrik = ilbazlimetrik[ilbazlimetrik['Sehir']!=\"Turkiye\"]\nsehir_covid = sehir_covid[['Province','Number of Case']]\nilbazlimetrik['Sehir']=ilbazlimetrik['Sehir'].apply(lambda x: unidecode.unidecode(x))\n\n# Tablolar\u0131n birle\u015ftirilmesi\nagg = pd.merge(ilbazlimetrik,sehir_covid,'left',left_on=ilbazlimetrik['Sehir'],right_on=sehir_covid['Province'])\nagg = agg.drop(['Province','Sehir'],axis=1)","b7fdb514":"# Birle\u015ftirilen tablolara g\u00f6z at\u0131lmas\u0131\nagg.head()","cbecda6b":"# Yeni tablodaki hesaplamalar\u0131n yap\u0131lmas\u0131\nagg['Olum_sayisi_binkisi']= agg['Olum_sayisi']\/agg['Nufus']*1000\nagg['Otomobil_sayisi_binkisi']=agg['Otomobil_sayisi']\/agg['Nufus']*1000\nagg['Hastane_binkisibasi']=agg['Toplam_hastane']\/agg['Nufus']*1000\nagg['Okuma_yazma_skor']=(agg['Okuma_yazma']-agg['Okuma_yazma'].min())\/(agg['Okuma_yazma'].max()-agg['Okuma_yazma'].min())*100\nagg['Vaka_binkisi'] = agg['Number of Case']\/agg['Nufus']*1000\nagg['Yatak_binkisibasi']=agg['Yatak_100binkisi']\/100\n\n# N\u00fcfusa g\u00f6re 750.000'den b\u00fcy\u00fck illerin analize dahil edilmesi\nagg2 = agg[agg['Nufus']>750000]\nagg2 = agg2.drop(['Nufus','Okuma_yazma','Olum_sayisi','Otomobil_sayisi','Toplam_hanehalki','Toplam_hastane','Number of Case','Yatak_100binkisi'],axis=1)\nagg2 = agg2.rename(columns={'key_0':'Sehir'})","2a2af7f6":"agg2.head()","977351bb":"# Son tabloyla ilgili bir ka\u00e7 grafik (il bazl\u0131 toplam 1000 ki\u015fi ba\u015f\u0131 g\u00f6r\u00fclen vaka say\u0131s\u0131, nufus yogunluk)\nplt.figure(figsize=(15,5))\nplt.xticks(rotation=45)\nsns.barplot(x='Sehir',y='Vaka_binkisi',data=agg2.sort_values('Vaka_binkisi',ascending=False),palette='RdBu')","72cb2d88":"corrMatrix = agg2.corr('pearson')\nmask = np.triu(np.ones_like(corrMatrix, dtype=np.bool))\nplt.figure(figsize=(15,10))\nsns.heatmap(corrMatrix,annot=True, mask=mask, cmap='coolwarm',center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","0503bc4f":"# Veri manip\u00fclasyonu\n\nT\u00dc\u0130K'ten al\u0131nan il bazl\u0131 veriler ve cevaplamaya \u00e7al\u0131\u015ft\u0131\u011f\u0131m sorular:\n\n* **Ortalama hanehalk\u0131 b\u00fcy\u00fckl\u00fc\u011f\u00fc** (hanehalk\u0131 b\u00fcy\u00fckl\u00fc\u011f\u00fc artt\u0131k\u00e7a vaka say\u0131s\u0131 art\u0131yor mu?)\n* **N\u00fcfus** (1000 ki\u015fi ba\u015f\u0131na hesaplamalarda kullan\u0131lacak)\n* **Okuma yazma oran\u0131** (Okuma yazma d\u00fczeyi artt\u0131k\u00e7a vaka say\u0131s\u0131 art\u0131yor mu?)\n* **\u00d6l\u00fcm say\u0131s\u0131** (2019 y\u0131l\u0131 i\u00e7erisinde hayat\u0131n\u0131 kaybeden n\u00fcfus) (Ge\u00e7mi\u015f y\u0131llardaki \u00f6l\u00fcm say\u0131s\u0131 ile vaka say\u0131s\u0131 aras\u0131nda ili\u015fki var m\u0131?)\n* **Otomobil say\u0131s\u0131** (Mobilite d\u00fczeyi artt\u0131k\u00e7a vaka say\u0131s\u0131 art\u0131yor\/azal\u0131yor mu?)\n* **Ki\u015fi ba\u015f\u0131na d\u00fc\u015fen milli gelir (USD)** (Ortalama GSYH ile vaka say\u0131s\u0131 aras\u0131nda bir ili\u015fki var m\u0131?)\n* **100 bin ki\u015fi ba\u015f\u0131na d\u00fc\u015fen yatak say\u0131s\u0131 & hastane say\u0131s\u0131 ** (Bak\u0131m \/vaka tespit imkanlar\u0131 ile vaka say\u0131s\u0131 aras\u0131nda bir ili\u015fki  var m\u0131?)\n* **N\u00fcfus yo\u011funlu\u011fu** (birim alan ba\u015f\u0131na d\u00fc\u015fen n\u00fcfus ile vaka say\u0131s\u0131 aras\u0131nda bir ili\u015fki var m\u0131?)","eab3ef35":"![image.png](attachment:image.png)","071ff82e":"# Ke\u015fifsel veri analizi\nBin ki\u015fi ba\u015f\u0131 g\u00f6r\u00fclen vaka say\u0131s\u0131na g\u00f6re illeri s\u0131ralad\u0131\u011f\u0131m\u0131zda, \u0130stanbul'un y\u00fcksek nuf\u00fcsuna ra\u011fmen vaka say\u0131s\u0131n\u0131n da di\u011fer illerin \u00e7ok \u00fcst\u00fcnde olmas\u0131yla **1. s\u0131rada oldu\u011funu** ve bin ki\u015fi ba\u015f\u0131na g\u00f6re **2. s\u0131radaki Sakarya'n\u0131n iki kat\u0131ndan fazla vakaya sahip oldu\u011funu** g\u00f6r\u00fcyoruz. \n\n\u0130kinci grupta ise **Sakarya, Konya, Kocaeli ve \u0130zmir**'in geri kalan illere k\u0131yasla bin ki\u015fi ba\u015f\u0131na di\u011fer illerden g\u00f6zle g\u00f6r\u00fcl\u00fcr bi\u00e7imde **daha fazla vakaya** sahip oldu\u011funu g\u00f6r\u00fcyoruz.","cd539d9a":"# Korelasyon analizi\n\u0130lk g\u00f6zlemimizden sonra a\u015fa\u011f\u0131daki korelasyon matrisimizi olu\u015fturuyoruz. \u0130statiksel olarak, korelasyon katsay\u0131lar\u0131 ve anlamlar\u0131 \u015fu \u015fekilde a\u00e7\u0131klanabilir:\n\n* -1: Tam negatif korelasyon\n* -1 ile -0.7 aras\u0131nda: G\u00fc\u00e7l\u00fc negatif korelasyon\n* -0.7 ile -0.5 aras\u0131nda: Orta derece negatif korelasyon\n* -0.5 ile -0.3 aras\u0131nda: Zay\u0131f negatif korelasyon\n* -0.3 ile 0.3 aras\u0131nda: Korelasyon yok\n* 0.3 ile 0.5 aras\u0131nda: Zay\u0131f pozitif korelasyon\n* 0.5 ile 0.7 aras\u0131nda: Orta derece pozitif korelasyon\n* 0.7 ile 1 aras\u0131nda: G\u00fc\u00e7l\u00fc pozitif korelasyon\n* 1: Tam pozitif korelasyon\n","67ee04f7":"# T\u00fcrkiye il bazl\u0131 COVID-19 korelasyon analizi\n\n- **Ama\u00e7:** T\u00fcrkiye'deki il bazl\u0131 COVID-19 vaka say\u0131s\u0131n\u0131n, her ilin demografik verileri (e\u011fitim, ticari, vb.) ile olan ili\u015fkilerini basit korelasyon analizi ile incelemek\n\n- **Kullan\u0131lan veri setleri:** 3 Nisan itibariyle a\u00e7\u0131klanan T\u00fcrkiye il bazl\u0131 vaka say\u0131lar\u0131, T\u00dc\u0130K veri setleri\n\n- **Bulgular:** Her il i\u00e7in se\u00e7ilen veriler aras\u0131ndan, her 1000 ki\u015fide g\u00f6r\u00fclen COVID-19 vaka say\u0131s\u0131 ile en g\u00fc\u00e7l\u00fc ili\u015fkinin bir ildeki n\u00fcfus yo\u011funlu\u011fu oldu\u011fu, di\u011fer fakt\u00f6rler ile vaka say\u0131s\u0131 aras\u0131nda istatiksel olarak g\u00fc\u00e7l\u00fc bir ili\u015fki olmad\u0131\u011f\u0131 g\u00f6r\u00fclm\u00fc\u015ft\u00fcr. Bu a\u00e7\u0131dan birim alandaki ki\u015fi say\u0131s\u0131n\u0131n en aza indirilmesinin \u00f6nemi, yani sosyal mesafenin korunmas\u0131 istatistiksel a\u00e7\u0131dan da kan\u0131tlanmaktad\u0131r\n\n**NOTLAR**\n- Analiz a\u00e7\u0131klanan vaka say\u0131lar\u0131 ile ba\u011flant\u0131l\u0131 olup n\u00fcfusu 750.000'den fazla olan illeri kapsamaktad\u0131r. Di\u011fer iller vaka say\u0131lar\u0131n\u0131n g\u00f6rece az olmas\u0131 ve analizde u\u00e7 de\u011fer olu\u015fturmalar\u0131 sebebiyle korelasyon analizine dahil edilmemi\u015ftir\n- Yeni vaka say\u0131lar\u0131n\u0131n a\u00e7\u0131klanmas\u0131 ile beraber analiz g\u00fcncellenecektir","a192c87a":"Yeni veri seti a\u015fa\u011f\u0131daki gibi olu\u015ftu, analizimiz 750.000'den fazla n\u00fcfusu olan toplamda 30 ili kapsayacak","f358ffb6":"\u015eehir bazl\u0131 vaka say\u0131lar\u0131n\u0131 i\u00e7eren veri seti:","37b7c8c7":"# Sonu\u00e7\n\n**\u00d6zet:** \n* Elimizde T\u00dc\u0130K ve Sa\u011fl\u0131k Bakanl\u0131\u011f\u0131 taraf\u0131ndan a\u00e7\u0131klanan verilere g\u00f6re yapt\u0131\u011f\u0131m\u0131z analizde, il bazl\u0131 sonu\u00e7lara bakt\u0131\u011f\u0131m\u0131zda her ilde **bin ki\u015fi ba\u015f\u0131na g\u00f6r\u00fclen vaka say\u0131s\u0131n\u0131n ** beklenilece\u011fi \u00fczere o ildeki birim alan ba\u015f\u0131na d\u00fc\u015fen n\u00fcfus ile, yani **n\u00fcfus yo\u011funlu\u011fuyla g\u00fc\u00e7l\u00fc bir ili\u015fkide** oldu\u011funu g\u00f6r\u00fcyoruz\n\n* Gerek il bazl\u0131 a\u00e7\u0131klanan vaka say\u0131lar\u0131n\u0131n bu \u00e7al\u0131\u015fman\u0131n yap\u0131ld\u0131\u011f\u0131 tarihten 3 hafta \u00f6nce olmas\u0131, gerekse bu say\u0131lar\u0131n hen\u00fcz erken a\u015fama diyebilece\u011fimiz hastal\u0131\u011f\u0131n ilk g\u00f6r\u00fcld\u00fc\u011f\u00fc g\u00fcnden 3 hafta sonra olmas\u0131 sebebiyle verilerin ve analizin do\u011frulu\u011fu yeni a\u00e7\u0131klanacak verilerle de\u011fi\u015febilecek ve di\u011fer unsurlarla vaka say\u0131lar\u0131 aras\u0131nda da ili\u015fki \u00e7\u0131kabilecektir","0861cd00":"\u0130ki veri setini birle\u015ftirmemizle ortaya \u00e7\u0131kan veri seti:","4fb0c806":"T\u00dc\u0130K verilerini i\u00e7eren veri seti:","cc92aed6":"Korelasyon analizi i\u00e7in b\u00fct\u00fcn verileri ayn\u0131 d\u00fczleme getirmek i\u00e7in b\u00fct\u00fcn verileri bin ki\u015fi ba\u015f\u0131na olacak \u015fekilde tekrar hesaplad\u0131m. Ard\u0131ndan okuma yazma i\u00e7in ise neredeyse b\u00fct\u00fcn iller %96 \u00fczerinde skora sahip oldu\u011fu i\u00e7in veriyi normalize ederek illere en az okuma oran\u0131na sahip il 0, en y\u00fckse\u011fi ise 100 olacak \u015fekilde tekrar skorlama yapt\u0131m. \n\nArd\u0131ndan yeni veri setimde n\u00fcfusu 750.000'den fazla illeri analize dahil ettim (di\u011fer illerdeki vaka say\u0131s\u0131 azl\u0131\u011f\u0131 ve b\u00fct\u00fcn populasyonun yeterli olarak yans\u0131t\u0131lmad\u0131\u011f\u0131 varsay\u0131m\u0131 ile)","2e406b26":"* Yukar\u0131daki korelasyon matrisine g\u00f6re, bin ki\u015fi ba\u015f\u0131na g\u00f6r\u00fclen vaka say\u0131s\u0131 (*Vaka_binkisi*) ile en g\u00fc\u00e7l\u00fc korelasyonun **0.86** ile n\u00fcfus yo\u011funlu\u011funun (Nufus_Yogunluk) aras\u0131nda oldu\u011funu g\u00f6r\u00fcyoruz. Bu demek oluyor ki, her ilde her bin ki\u015fide g\u00f6r\u00fclen **vaka say\u0131s\u0131** ile o ilin **n\u00fcfus yo\u011funlu\u011fu** aras\u0131nda **g\u00fc\u00e7l\u00fc bir ili\u015fki mevcuttur**\n\n* \u0130statistiksel olarak bakt\u0131\u011f\u0131m\u0131zda, birim ba\u015f\u0131na d\u00fc\u015fen insan say\u0131s\u0131n\u0131n vir\u00fcs\u00fcn yay\u0131lma h\u0131z\u0131nda olduk\u00e7a g\u00fc\u00e7l\u00fc bir etken oldu\u011funu da bu \u015fekilde kan\u0131tlam\u0131\u015f oluyor ve sosyal mesafeyi koruman\u0131n \u00f6nemini anl\u0131yoruz\n\n* Bin ki\u015fi ba\u015f\u0131na g\u00f6r\u00fclen vaka say\u0131s\u0131 ile di\u011fer metriklerin ili\u015fkisine bakt\u0131\u011f\u0131m\u0131zda ise, o ilde ** ki\u015fi ba\u015f\u0131na d\u00fc\u015fen GSYH miktar\u0131** ile vaka say\u0131s\u0131 aras\u0131nda **orta d\u00fczeyde g\u00fc\u00e7l\u00fc bir ili\u015fki** g\u00f6r\u00fcyoruz. Ortalama ki\u015fi ba\u015f\u0131 GSYH'\u0131 o ildeki ki\u015fi ba\u015f\u0131 maddi faaliyetlerin yo\u011funlu\u011fu olarak kabul edersek, istatiksel olarak **0.64** korelasyon katsay\u0131s\u0131 lineer olarak g\u00fc\u00e7l\u00fc kabul edilmese de, her ilde bin ki\u015fi ba\u015f\u0131 g\u00f6r\u00fclen **vaka say\u0131s\u0131** ile o \u015fehrin ki\u015fi ba\u015f\u0131na d\u00fc\u015fen **maddi faaliyetleri** aras\u0131nda orta d\u00fczeyde g\u00fc\u00e7l\u00fc bir ili\u015fki oldu\u011funu s\u00f6yleyebiliriz\n\n* Bin ki\u015fi ba\u015f\u0131na g\u00f6r\u00fclen vaka say\u0131s\u0131 ile di\u011fer metrikler aras\u0131nda ise herhangi bir \u015fekilde bir **korelasyon ili\u015fkisi g\u00f6rm\u00fcyoruz**"}}