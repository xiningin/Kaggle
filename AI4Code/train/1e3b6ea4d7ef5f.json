{"cell_type":{"92493c26":"code","aa0760cd":"code","586efcc0":"code","5c1ff165":"code","54852ca3":"code","0315effc":"code","a7b6a408":"code","ecf386da":"code","2e99ccc9":"code","7f620ed1":"code","2e902f3a":"code","d22ed323":"code","8c1ec3ce":"code","36da6944":"code","a0b54123":"code","4497417f":"code","3473b744":"code","b167d508":"code","81c935fc":"code","6ce1decb":"code","075b8c39":"code","c77612f4":"code","a95536b6":"code","e67558d7":"code","e180187a":"code","6a983248":"code","2fbd4f4f":"code","ecd681c2":"code","f9c858ad":"code","8568a029":"code","67d38fca":"code","71d42c88":"code","8e6bb540":"code","ed75b3a1":"code","80714a38":"code","f173fdb9":"code","80df7e54":"code","c5ed07fc":"code","7707d5a2":"code","a830feac":"code","e67357b7":"code","c4f4d633":"code","e34bdd5b":"code","62acc778":"code","23d9f532":"code","6d720d55":"code","213cdfa0":"code","3917afd7":"code","12aa0726":"code","3a137d5a":"markdown","bc8c15a7":"markdown","e0d54477":"markdown","955139b6":"markdown","ac46163b":"markdown","189dd3ea":"markdown","3e33ef13":"markdown","32d28437":"markdown","2f786c2a":"markdown","c7c17ec1":"markdown","0407d936":"markdown","4a3c29ae":"markdown","b8220e0e":"markdown","e55a1af0":"markdown","4885b224":"markdown","f280ddd2":"markdown","000393a0":"markdown","440075ab":"markdown","fb5afc0c":"markdown","d3a35982":"markdown","0ac642dc":"markdown","62a7ad25":"markdown","2eeacb94":"markdown","edb6a73b":"markdown","cae61bc1":"markdown","cc570bd0":"markdown","986c7b91":"markdown","41a27153":"markdown","e3e459cf":"markdown","9bbc2437":"markdown","b84493f3":"markdown","1be32790":"markdown","5b5db795":"markdown","b3a69c09":"markdown","abfab859":"markdown","1da81aff":"markdown","1c8177d9":"markdown","91e0abfd":"markdown","2c9b6e85":"markdown","c56adc54":"markdown","c4182d63":"markdown","5d820f0b":"markdown","0c2c375d":"markdown","f5ac6ab5":"markdown","73117018":"markdown","dedb17e5":"markdown","09dafde0":"markdown","1c1b8631":"markdown","7e7ef4b4":"markdown","9007942e":"markdown","a31cba1d":"markdown","adb9b1ab":"markdown","1c049ab1":"markdown","b7b31db3":"markdown","90752b8f":"markdown","71f7297e":"markdown","c8ee588e":"markdown","8301262d":"markdown","8c3268d9":"markdown","3effc640":"markdown","9a0c9492":"markdown","8081e699":"markdown","03b70458":"markdown"},"source":{"92493c26":"import os\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly import tools\nfrom plotly.offline import iplot, init_notebook_mode\n\nfrom sklearn import preprocessing\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_absolute_error\n\ninit_notebook_mode()","aa0760cd":"filepath = '..\/input\/'\npokemon = pd.read_csv(filepath + 'complete-pokemon-dataset-updated-090420\/pokedex_(Update_05.20).csv').drop('Unnamed: 0', axis = 1)\n\ncolumns_to_drop = ['japanese_name', 'german_name', 'against_normal', 'against_fire',\n                  'against_water', 'against_electric', 'against_grass', 'against_ice',\n                  'against_fight', 'against_poison', 'against_ground', 'against_flying',\n                  'against_psychic', 'against_bug', 'against_rock', 'against_ghost',\n                  'against_dragon', 'against_dark', 'against_steel', 'against_fairy']\n\npokemon = pokemon.drop(columns_to_drop, axis = 1)","586efcc0":"pokemon.info()","5c1ff165":"# Select mega pokemons, dinamax and alolan pokemons\nmega_pokemons = pokemon.index[pokemon['name'].apply(lambda x: 'Mega ' in x)].tolist()\ndinamax_pokemons = pokemon.index[pokemon['name'].apply(lambda x: 'max' in x)].tolist()\nalolan_pokemons = pokemon[pokemon.name.apply(lambda x: 'Alolan' in x) == True].index.tolist()\n\n# Concatenate\nto_delete = np.concatenate((mega_pokemons, \n                            dinamax_pokemons, \n                            alolan_pokemons))\n\n# Remove\npokemon = pokemon.drop(to_delete, axis=0)","54852ca3":"# Check columns that have NAs\npokemon.isnull().sum()[pokemon.isnull().sum() > 0]","0315effc":"# Clear cache\ndel(mega_pokemons, \n    dinamax_pokemons, \n    alolan_pokemons, \n    to_delete)","a7b6a408":"fig = px.histogram(pokemon, x=\"total_points\",\n                   marginal=\"box\",\n                   hover_data=pokemon.columns)\n\nfig.update_layout(\n    title=\"Total points distribution\")\n\nfig.show()","ecf386da":"# Get index and print row of pokemon having highest total_points\nhighest_tot_points_idx = pokemon['total_points'].idxmax()\npokemon.loc[highest_tot_points_idx,:]","2e99ccc9":"def find_min_and_max(column_name):\n    '''\n    Get pokemon name according to its max and min attribute: column_name\n    column_name: list of str\n    '''\n    \n    # Find max\n    max_index = pokemon[column_name].idxmax()\n    max_pokemon = pokemon.loc[max_index, 'name']\n    \n    # Find min\n    min_index = pokemon[column_name].idxmin()\n    min_pokemon = pokemon.loc[min_index, 'name']\n    \n    print(f'Pokemon with min {column_name}: {min_pokemon}\\nPokemon with max {column_name}: {max_pokemon}\\n')\n    return max_index, min_index","7f620ed1":"# Create dict for min and max values of selected columns\ncolumns = ['attack', 'defense', 'sp_attack', 'sp_defense', 'hp', 'speed', 'catch_rate']\nmin_dict = {}\nmax_dict = {}\nmin_pok = {}\nmax_pok = {}\n\nfor colm in columns:\n    max_index, min_index = find_min_and_max(colm)\n    max_dict[colm] = pokemon.loc[max_index, colm]\n    min_dict[colm] = pokemon.loc[min_index, colm]\n    max_pok[colm] = pokemon.loc[max_index, 'name']\n    min_pok[colm] = pokemon.loc[min_index, 'name']","2e902f3a":"fig = go.Figure([go.Bar(x=columns, \n                        y=list(max_dict.values()), \n                        hovertext=[f\"{columns[i]}, {list(max_dict.values())[i]}, {list(max_pok.values())[i]}\" for i in range(len(columns)) ], \n                        name=\"Highest\")])\n\nfig.add_trace(go.Bar(x=columns, \n                     y=list(min_dict.values()), \n                     hovertext=[f\"{columns[i]}, {list(min_dict.values())[i]}, {list(min_pok.values())[i]}\" for i in range(len(columns)) ], \n                     name='Lowest'))\n\nfig.update_layout(\n    title=\"Highest vs Lowest barplot\")\n\nfig.show()","d22ed323":"def are_row_wise_different(data, col1, col2):\n    '''\n    Check if two rows are identical\n    data: dataframe\n    col1: str\n    col2: str\n    '''\n    \n    if (sum(data[col1] == data[col2])==0):\n        return(f'{col1} and {col2} are row wise different')\n    else:\n        return(f'at least one row has same value for {col1} and {col2}')\n    \n# Check that type_1 and type_2 are disjoint\nprint(are_row_wise_different(pokemon, \"type_1\", 'type_2'))","8c1ec3ce":"# Another way to verify wise row condition\nassert sum(pokemon[\"type_1\"] == pokemon[\"type_2\"])==0, 'at least one row has same value for type_1 and type_2'","36da6944":"graph_1 = pokemon.groupby('type_1').count().sort_values(by = 'name')\nindex_graph_1 = pokemon.groupby('type_1').count().index\n\ngraph_2 = pokemon.groupby('type_2').count().sort_values(by = 'name')\nindex_graph_2 = pokemon.groupby('type_2').count().index","a0b54123":"fig = go.Figure(\n    data=[go.Bar(x = index_graph_1, \n                 y=graph_1['name'])],\n    layout_title_text=\"First type distribution\",\n)\n\nfig.show()\n\nfig = go.Figure(\n    data=[go.Bar(x = index_graph_2, \n                 y=graph_2['name'],\n                 marker_color = 'mediumpurple')],\n    layout_title_text=\"Second type distribution\"\n)\n\nfig.show()","4497417f":"fig = make_subplots(rows=1, \n                    cols=2, \n                    specs=[[{'type':'domain'}, \n                            {'type':'domain'}]])\n\nfig.add_trace(go.Pie(labels=index_graph_1, \n                     values=graph_1['name'], \n                     name='Pie chart of first type'),\n              1, 1)\n\nfig.add_trace(go.Pie(labels=index_graph_2, \n                     values=graph_2['name'], \n                     name='Pie chart of second type'),\n              1, 2)\n\n# Use `hole` to create a donut-like pie chart\nfig.update_traces(hole=.3, \n                  hoverinfo=\"label+percent+name\")\n\nfig.update_layout(\n    title_text=\"Pie charts of First and Second Type\")\n\nfig.show()","3473b744":"# Select data\ncolumns = ['attack', 'hp', 'defense', 'height_m', 'weight_kg', 'sp_attack', 'sp_defense', 'speed']\ndf = pokemon[columns].copy()\n\n# Normalize data for better readability\nnormalized_df=(df-df.min())\/(df.max()-df.min())","b167d508":"def radar_chart(pokemon_1_index, pokemon_2_index):\n    '''\n    Print radarchart of two pokemons\n    pokemon_1_index: int, index of pokemon in 'normalized_df'\n    pokemon_2_index: int, index of pokemon in 'normalized_df'\n    '''\n    \n    fig = go.Figure()\n\n    fig.add_trace(go.Scatterpolar(\n          r=normalized_df.loc[pokemon_1_index,:].tolist(),\n          theta=columns,\n          fill='toself',\n          name=pokemon.loc[pokemon_1_index,'name']\n    ))\n    \n    fig.add_trace(go.Scatterpolar(\n          r=normalized_df.loc[pokemon_2_index,:].tolist(),\n          theta=columns,\n          fill='toself',\n          name=pokemon.loc[pokemon_2_index,'name']\n    ))\n\n    fig.update_layout(\n      polar=dict(\n        radialaxis=dict(\n          visible=True,\n          range=[0, 1]\n        )),\n      showlegend=True\n    )\n    \n    fig.update_layout(\n        title=\"Radar Chart: \"+pokemon.loc[pokemon_1_index,'name']+\" VS \"+pokemon.loc[pokemon_2_index,'name'])\n    \n    fig.show()","81c935fc":"radar_chart(pokemon_1_index = 100, pokemon_2_index = 97)","6ce1decb":"def cat_total_points(row):\n    '''\n    Create bins on total_points column\n    '''\n    \n    if row.total_points <300:\n        return 'Weakest'\n    elif (row.total_points >= 300) & (row.total_points < 600):\n        return 'Intermediate'\n    else:\n        return 'Strong'\n\n# Create bins on total_points column\npokemon['cat_total_points'] = pokemon.apply(cat_total_points, axis='columns')","075b8c39":"fig = go.Figure()\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Weakest','height_m'], \n                     name='Weakest',\n                marker_color = 'indianred'))\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Intermediate','height_m'], \n                     name='Intermediate',\n                marker_color = 'lightseagreen'))\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Strong','height_m'], \n                     name='Strong',\n                marker_color = 'mediumpurple'))\nfig.update_traces(boxpoints='all', jitter=0)\nfig.update_layout(\n    title=\"Height distribution\")\nfig.show()\n\nfig = go.Figure()\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Weakest','weight_kg'], \n                     name='Weakest',\n                marker_color = 'indianred'))\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Intermediate','weight_kg'], \n                     name='Intermediate',\n                marker_color = 'lightseagreen'))\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Strong','weight_kg'], \n                     name='Strong',\n                marker_color = 'mediumpurple'))\nfig.update_traces(boxpoints='all', jitter=0)\nfig.update_layout(\n    title=\"Weight distribution\")\nfig.show()\n\nfig = go.Figure()\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Weakest','speed'], \n                     name='Weakest',\n                marker_color = 'indianred'))\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Intermediate','speed'], \n                     name='Intermediate',\n                marker_color = 'lightseagreen'))\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['cat_total_points']=='Strong','speed'], \n                     name='Strong',\n                marker_color = 'mediumpurple'))\nfig.update_traces(boxpoints='all', jitter=0)\nfig.update_layout(\n    title=\"Speed distribution\")\n\nfig.show()","c77612f4":"for colm in ['weight_kg', 'height_m', 'speed']:\n    find_min_and_max(colm)","a95536b6":"columns = ['height_m', 'weight_kg', 'total_points']\n\nfig = px.density_contour(pokemon[columns], \n                         x=np.log(pokemon['height_m']), \n                         y=np.log(pokemon['weight_kg']), \n                         marginal_x=\"histogram\", \n                         marginal_y=\"histogram\")\n\nfig.update_layout(\n    title=\"Two dimension density plot\",\n    xaxis_title=\"log(height_m)\",\n    yaxis_title=\"log(weight_kg)\")\n\nfig.show()","e67558d7":"data_to_consider = pokemon[['hp','attack','defense','total_points','cat_total_points']].copy()\ndata_to_consider = data_to_consider.dropna(0)","e180187a":"fig = px.scatter_ternary(data_to_consider, \n                         a=\"hp\", \n                         b=\"attack\", \n                         c=\"defense\",\n                         color=\"cat_total_points\", \n                         size=\"total_points\", \n                         size_max=15)\n\nfig.update_layout(\n    title=\"Ternary plot\")\n\nfig.show()","6a983248":"fig = make_subplots(rows=2, cols=2)\n\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Normal', 'hp'], \n                     name='Not legendary',\n                     marker_color = 'indianred'), \n              row=1, \n              col=1)\n\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Legendary', 'hp'], \n                     name = 'Legendary',\n                     marker_color = 'lightseagreen'), \n              row=1, \n              col=1)\n\nfig.update_layout(title=\"Health Point, Attack, Defense, Total points Boxplots\")\nfig.update_traces(quartilemethod=\"exclusive\") # or \"inclusive\", or \"linear\" by default\n\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Normal', 'attack'],\n                     marker_color = 'indianred',\n                        \n                     showlegend=False), \n              row=1, \n              col=2)\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Legendary', 'attack'],\n                     marker_color = 'lightseagreen', \n                     showlegend=False), \n              row=1, \n              col=2)\nfig.update_traces(quartilemethod=\"exclusive\")\n\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Normal', 'defense'],\n                     marker_color = 'indianred', \n                     showlegend=False), \n              row=2, \n              col=1)\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Legendary', 'defense'],\n                     marker_color = 'lightseagreen', \n                     showlegend=False), \n              row=2, \n              col=1)\nfig.update_traces(quartilemethod=\"exclusive\")\n\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Normal', 'total_points'],\n                     marker_color = 'indianred', \n                     showlegend=False), \n              row=2, \n              col=2)\nfig.add_trace(go.Box(y=pokemon.loc[pokemon['status']=='Legendary', 'total_points'],\n                     marker_color = 'lightseagreen', \n                     showlegend=False), \n              row=2, \n              col=2)\nfig.update_traces(quartilemethod=\"exclusive\")\n\n\nfig.show()","2fbd4f4f":"fig = px.violin(pokemon, \n                y=\"hp\", \n                color=\"status\", \n                box=True, \n                points=\"all\",\n          hover_data=pokemon.columns)\nfig.update_layout(title=\"Pokemon status VS hp\")\nfig.show()\n\nfig = px.violin(pokemon, \n                y=\"defense\", \n                color=\"status\", \n                box=True, \n                points=\"all\",\n          hover_data=pokemon.columns)\nfig.update_layout(title=\"Pokemon status VS defense\")\nfig.show()\n\nfig = px.violin(pokemon, \n                y=\"attack\", \n                color=\"status\", \n                box=True, \n                points=\"all\",\n          hover_data=pokemon.columns)\n\nfig.update_layout(title=\"Pokemon status VS attack\")\nfig.show()","ecd681c2":"legendary = pokemon[(pokemon['status']=='Legendary')].groupby('generation').count()['name']\nsub_legendary = pokemon[(pokemon['status']=='Sub Legendary')].groupby('generation').count()['name']\nmythical = pokemon[(pokemon['status']=='Mythical')].groupby('generation').count()['name']\n\nspecial_pokemons = pd.concat([sub_legendary, legendary, mythical], axis = 1)\nspecial_pokemons.columns = ['Sublegendaries', 'Legendaries', 'Mythicals']\nspecial_pokemons['Total'] = special_pokemons['Sublegendaries'] + special_pokemons['Legendaries'] + special_pokemons['Mythicals']","f9c858ad":"gen = special_pokemons.index.tolist()\n\nfig = go.Figure(data=[\n    go.Bar(name='Sublegendaries', x=gen, y=special_pokemons['Sublegendaries']),\n    go.Bar(name='Legendaries', x=gen, y=special_pokemons['Legendaries']),\n    go.Bar(name='Mythicals', x=gen, y=special_pokemons['Mythicals']),\n    go.Bar(name='Total', x=gen, y=special_pokemons['Total'])\n])\n\nfig.update_layout(barmode='group', title = 'Special pokemon count per generation',\n                  xaxis_title=\"Generation\",\n                  yaxis_title=\"Count\")\n\nfig.show()","8568a029":"# Gather is_legendary, is_sub_legendary and is_mythical into a single attribute\npokemon['is_special'] = 0\npokemon.loc[pokemon['status'] != 'Normal', 'is_special'] = 1","67d38fca":"columns = ['hp', 'attack', 'defense', 'sp_attack', 'sp_defense', 'speed','weight_kg','height_m', 'status']\n\nfig = px.scatter_matrix(pokemon[columns],\n    dimensions=['hp', 'attack', 'defense', 'sp_attack', 'sp_defense', 'speed','weight_kg','height_m'],\n    color=\"status\",\n    width=1400, \n    height=1400)\nfig.update_layout(title='Scatter matrix')\nfig.show()","71d42c88":"pokemon['total_points_cat'] = 100\npokemon.loc[(pokemon['total_points'] > 100) & (pokemon['total_points'] <= 200), 'total_points_cat'] = 200\npokemon.loc[(pokemon['total_points'] > 200) & (pokemon['total_points'] <= 300), 'total_points_cat'] = 300\npokemon.loc[(pokemon['total_points'] > 300) & (pokemon['total_points'] <= 400), 'total_points_cat'] = 400\npokemon.loc[(pokemon['total_points'] > 400) & (pokemon['total_points'] <= 500), 'total_points_cat'] = 500\npokemon.loc[(pokemon['total_points'] > 500) & (pokemon['total_points'] <= 600), 'total_points_cat'] = 600\npokemon.loc[(pokemon['total_points'] > 600) & (pokemon['total_points'] <= 700), 'total_points_cat'] = 700\npokemon.loc[(pokemon['total_points'] > 700) & (pokemon['total_points'] <= 800), 'total_points_cat'] = 800\npokemon.loc[(pokemon['total_points'] > 800), 'total_points_cat'] = 900\n\npokemon['hp_cat'] = 50\npokemon.loc[(pokemon['hp'] > 50) & (pokemon['hp'] <= 75), 'hp_cat'] = 75\npokemon.loc[(pokemon['hp'] > 75) & (pokemon['hp'] <= 100), 'hp_cat'] = 100\npokemon.loc[(pokemon['hp'] > 100) & (pokemon['hp'] <= 130), 'hp_cat'] = 130\npokemon.loc[(pokemon['hp'] > 130), 'hp_cat'] = 150\n\npokemon['attack_cat'] = 50\npokemon.loc[(pokemon['attack'] > 50) & (pokemon['attack'] <= 75), 'attack_cat'] = 75\npokemon.loc[(pokemon['attack'] > 75) & (pokemon['attack'] <= 100), 'attack_cat'] = 100\npokemon.loc[(pokemon['attack'] > 100) & (pokemon['attack'] <= 150), 'attack_cat'] = 150\npokemon.loc[(pokemon['attack'] > 150), 'attack_cat'] = 160\n\npokemon['defense_cat'] = 50\npokemon.loc[(pokemon['defense'] > 50) & (pokemon['defense'] <= 75), 'defense_cat'] = 75\npokemon.loc[(pokemon['defense'] > 75) & (pokemon['defense'] <= 100), 'defense_cat'] = 100\npokemon.loc[(pokemon['defense'] > 100) & (pokemon['defense'] <= 150), 'defense_cat'] = 150\npokemon.loc[(pokemon['defense'] > 150), 'defense_cat'] = 175","8e6bb540":"columns = ['status', 'hp_cat','attack_cat','defense_cat','total_points_cat']\n\ndata = pokemon[columns].copy()\nfig = px.parallel_categories(data, color=\"total_points_cat\", color_continuous_scale=px.colors.sequential.Inferno)\nfig.update_layout(title='Funnel for special pokemons through main categorised characteristics')\nfig.show()","ed75b3a1":"per_gen_pokemon = pokemon.groupby('generation').mean()[['total_points','hp','attack','defense']]","80714a38":"fig = go.Figure()\nfig.add_trace(go.Bar(x=per_gen_pokemon.index, y=per_gen_pokemon['hp'],\n                    name='Health Points'))\nfig.add_trace(go.Bar(x=per_gen_pokemon.index, y=per_gen_pokemon['defense'],\n                    name='Defense'))\nfig.add_trace(go.Bar(x=per_gen_pokemon.index, y=per_gen_pokemon['attack'],\n                    name='Attack'))\nfig.add_trace(go.Bar(x=per_gen_pokemon.index, y=per_gen_pokemon['total_points'],\n                    name='Total Points'))\nfig.update_layout(barmode='stack', title = 'Stacked barplot of characteristic stats aggregated by generation')\nfig.show()","f173fdb9":"pokemon.head()","80df7e54":"# Number of missing values in each column of training data\npokemon.isnull().sum()","c5ed07fc":"pokemon = pokemon.drop(['type_2','ability_2','ability_hidden','catch_rate','base_friendship','base_experience','egg_type_2','percentage_male'], axis = 1)\npokemon = pokemon.dropna()","7707d5a2":"# All categorical columns\nobject_cols = [col for col in pokemon.columns if pokemon[col].dtype == \"object\"]\n\nobject_unique = list(map(lambda col: pokemon[col].unique(), object_cols))\nd = dict(zip(object_cols, object_unique))","a830feac":"# Columns that will be one-hot encoded\nlow_cardinality_cols = [col for col in object_cols if len(pokemon[col].unique()) < 10]\n\n# Columns that will be dropped from the dataset\nhigh_cardinality_cols = list(set(object_cols)-set(low_cardinality_cols))\n\nprint('Categorical columns that will be one-hot encoded:', low_cardinality_cols)\nprint('\\nCategorical columns that will be dropped from the dataset:', high_cardinality_cols)","e67357b7":"pd.value_counts(pokemon.growth_rate.values)","c4f4d633":"le = LabelEncoder()\nle.fit(['Medium Slow',\"Slow\",'Fluctuating', \"Medium Fast\", 'Fast','Erratic'])\npokemon.growth_rate = le.transform(pokemon.growth_rate)\n\npokemon['is_legendary'] = 0\npokemon['is_sub_legendary'] = 0\npokemon['is_mythical'] = 0\npokemon.loc[pokemon['status']=='Legendary', 'is_legendary'] = 1\npokemon.loc[pokemon['status']=='Sub Legendary', 'is_sub_legendary'] = 1\npokemon.loc[pokemon['status']=='Mythical', 'is_mythical'] = 1","e34bdd5b":"pokemon = pokemon.drop(['pokedex_number','name','status','hp_cat', 'attack_cat','cat_total_points','is_special','total_points_cat','ability_1', 'type_1', 'egg_type_1', 'species'], axis = 1)","62acc778":"pokemon.columns","23d9f532":"# Shuffling data\npokemon = pokemon.sample(frac=1)\n\n# Split data and target\nX = pokemon.drop('total_points', axis = 1)\ny = pokemon['total_points']","6d720d55":"# Split into train and validation set\ntrain_X, val_X, train_y, val_y = train_test_split(X, y,random_state = 0)","213cdfa0":"model_rf = RandomForestRegressor(oob_score = True,\n                                 random_state=0)\n\nmodel_rf.fit(train_X, train_y)\npreds = model_rf.predict(val_X)\n\nprint(mean_absolute_error(val_y, preds))","3917afd7":"print('R^2 Training Score: {:.2f} \\nOOB Score: {:.2f} \\nR^2 Validation Score: {:.2f}'.format(model_rf.score(train_X, train_y), \n                                                                                             model_rf.oob_score_,\n                                                                                             model_rf.score(val_X, val_y)))","12aa0726":"features = train_X.columns\nimportances = model_rf.feature_importances_\nindices = np.argsort(importances)\n\nfig = go.Figure(go.Bar(\n            x=importances[indices],\n            orientation='h'))\n\nfig.update_layout(\n    yaxis = dict(\n        tickmode = 'array',\n        tickvals = list(range(len(indices))),\n        ticktext = [features[i] for i in indices]\n    )\n)\n\nfig.update_layout(title=\"Feature importance\")\nfig.show()","3a137d5a":"<div align='justify'><font size='3'>We can't explain total_points average per generation only based on number of special pokemons it contains. In the next chapter I will use a ML algorithm to fit best a function that estimates total_points based on current columns and features I created in this EDA.<\/font><\/div>","bc8c15a7":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-----","e0d54477":"<div align='center'><font size=\"5\" color='#353B47'>A lot of Plotly Visualizations...<\/font><\/div>\n<div align='center'><font size=\"4\" color=\"#353B47\">... Gotta catch'em all !!!<\/font><\/div>\n<br>\n<div align='center'><img src=\"https:\/\/i.ya-webdesign.com\/images\/pokemon-yellow-png-8.png\" width=\"500\"><\/div>\n<br>\n<hr>","955139b6":"<font color=\"blue\" size=\"4\">Ternary plot<\/font>","ac46163b":"<font color=\"blue\" size=\"4\">Impact of height, weight and speed<\/font>","189dd3ea":"<div align='justify'><font size='3'>Barplot showing distribution of type_1 and type_2 columns. Checking first that on the same row, type_1 and type_2 can not be equal.<\/font><\/div>","3e33ef13":"<font color=\"blue\" size=\"4\">Special pokemon funnel<\/font>","32d28437":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-------","2f786c2a":"<font color=\"blue\" size=\"4\">Plot Pokemon Type via a Barplot<\/font>","c7c17ec1":"# <div id=\"part2_chap3\">3. Feature Importance<\/div>\n","0407d936":"<img src=\"https:\/\/images.gameinfo.io\/pokemon\/256\/386-14.png\" width = 400>","4a3c29ae":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n------","b8220e0e":"<font color=\"blue\" size=\"4\">What is the most powerful pokemon ?<\/font>","e55a1af0":"<div align='justify'><font size='3'>This scatterplot matrix shows that for each plot, special pokemon are on a whole all gathered in the top right area meaning that their stats are higher.<\/font><\/div>","4885b224":"<font size=\"4\">Biggest pokemon : Eternatus<\/font>","f280ddd2":"<div align='justify'><font size='3'>For the first type, more than a third of the pok\u00e9mons are of type: stone, steel or water. On the appetence type (secondary), more than a third are also of type: stone, psychic or water. The water and stone types are largely predominant in the distribution of Pok\u00e9mon types over the 8 generations.<\/font><\/div>","000393a0":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-----","440075ab":"# EDA","fb5afc0c":"<div align='justify'><font size='3'>If pokemon base points are a primary factor to determine globally whether a pokemon is powerful or weak, we can say that the seventh generation is the most powerful one. That may be explained with the fact there are 30 special pokemons. Lets compare the ranks of total_points per generation with the number of special pokemons per generation:\n\nTotal_points rank:\n* 1st: Gen 7\n* 2nd: Gen 4\n* 3rd: Gen 6\n* 4th: Gen 5\n* 5th: Gen 8\n* 6th: Gen 3 \n* 7th: Gen 1 \n* 8th: Gen 2\n\nSpecial pokemons count:\n* 1st: Gen 7\n* 2nd: Gen 5\n* 3rd: Gen 4\n* 4th: Gen 3\n* 5th: Gen 2\n* 6th: Gen 1 \n* 7-8th: Gen 6, 8<\/font><\/div>","d3a35982":"<font size=\"4\">Lightest pokemon : Gastly<\/font>","0ac642dc":"<div align='justify'><font size='3'>The seventh generation has release 30 special pokemons, 50% more than the fifth generation which is ranked second in number of special pokemons !<\/font><\/div>","62a7ad25":"<img src=\"https:\/\/static.pokemonpets.com\/images\/monsters-images-800-800\/2595-Shiny-Joltik.png\" width=300>","2eeacb94":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-----","edb6a73b":"<font color=\"blue\" size=\"4\">Minimums and Maximums<\/font>","cae61bc1":"<font size=\"4\">Heaviest pokemon : Cosmoem<\/font>","cc570bd0":"<font color=\"blue\" size=\"4\">Same information can be displayed via a Pie chart<\/font>","986c7b91":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**","41a27153":"<font color=\"blue\" size=\"4\">Special pokemons VS regular pokemons<\/font>","e3e459cf":"<hr>\n<br>\n<div align='justify'><font color=\"#353B47\" size=\"4\">Thank you for taking the time to read this notebook. I hope that I was able to answer your questions or your curiosity and that it was quite understandable. <u>any constructive comments are welcome<\/u>. They help me progress and motivate me to share better quality content. I am above all a passionate person who tries to advance my knowledge but also that of others. If you liked it, feel free to <u>upvote and share my work.<\/u> <\/font><\/div>\n<br>\n<div align='center'><font color=\"#353B47\" size=\"3\">Thank you and may passion guide you.<\/font><\/div>","9bbc2437":"On a median basis, Legendary pokemons have on average:\n* <font color=\"blue\">More hp<\/font> : from 65 to 100\n* <font color=\"blue\">More attack<\/font> : from 70 to 120\n* <font color=\"blue\">More defense<\/font> : from 70 to 100\n* <font color=\"blue\">More total points<\/font> : from 420 to 680","b84493f3":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-----","1be32790":"<div align='justify'><font size='3'>The purpose of this notebook is to show my approach to the analysis of Pok\u00e9mon from the first generation to the 8th using interactive and insightful (I hope) visualizations. This study is completely based on this <a src=\"https:\/\/www.kaggle.com\/mariotormo\/complete-pokemon-dataset-updated-090420\">dataset<\/a><\/font><\/div>","5b5db795":"* <font color=\"blue\">Height_m<\/font> : above 2m, we know that a pokemon can't be in the Weakest category, the median of that category is 0.4m, 1m for Intermediate category and 2.2m for Strongest category.\n* <font color=\"blue\">Weight_kg<\/font> : Median of 6kg for the Weakest, 30kg for the Intermediate category and 195kg for the Strongest one.\n* <font color=\"blue\">Speed<\/font> : Median of Speed 43km\/h for the Weakest, 65km\/h for the Intermediate category and 97km\/h for the Strongest one.\n\nOn a whole, Stronger pokemon turn out to be taller, heavier and faster than other ones.","b3a69c09":"<font color=\"blue\" size=\"4\">Two dimension density plot<\/font>","abfab859":"# <div id=\"chap5\">5. The Legendaries<\/div>","1da81aff":"# <div id=\"chap2\">2. Pokemon Stats<\/div>","1c8177d9":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-----","91e0abfd":"<font size=\"4\">Smallest pokemon : Joltik<\/font>","2c9b6e85":"<font color=\"blue\" size=\"4\">Radar Charts (Spider Charts)<\/font>","c56adc54":"<div align='justify'><font size='3'>Pokemons belonging to Strong category are gathered in the middle of the ternary plot, which means their defense, attack and health points are quite balanced.<\/font><\/div>","c4182d63":"**<font size=\"2\"><a href=\"#summary\">Back to summary<\/a><\/font>**\n\n-------","5d820f0b":"# <div id=\"chap3\">3. Barplot and pie charts<\/div>","0c2c375d":"<font color=\"blue\" size=\"4\">Sub Legendary, Legendary and Mythical categories<\/font>","f5ac6ab5":"<font color=\"blue\" size=\"4\">Special pokemon count per generation<\/font>","73117018":"<img src=\"https:\/\/static.pokemonpets.com\/images\/monsters-images-300-300\/92-Gastly.png\">","dedb17e5":"# <div id=\"part2_chap2\">2. Random Forest<\/div>","09dafde0":"<font size=\"4\">Slowest pokemon : Shuckle<\/font>","1c1b8631":"<font size=\"4\">Fastest pokemon : Deoxys Speed Forme<\/font>","7e7ef4b4":"<img src=\"https:\/\/static.pokemonpets.com\/images\/monsters-images-800-800\/213-Shuckle.png\" width=350>","9007942e":"# <div id=\"chap1\">1. Setup & Cleaning<\/div>","a31cba1d":"## <div id=\"summary\">Summary<\/div>\n\n**<font size=\"2\"><a href=\"#part1\">EDA<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#chap1\">1. Setup & Cleaning<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#chap2\">2. Pokemon Stats<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#chap3\">3. Barplot and pie charts<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#chap4\">4. Main characteristics<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#chap5\">5. The Legendaries<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#chap6\">6. The best generation<\/a><\/font>**\n**<br><br><font size=\"2\"><a href=\"#part2\">Modeling<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#part2_chap1\">1. Preprocessing<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#part2_chap2\">2. Random Forest<\/a><\/font>**\n**<br>&nbsp;&nbsp;&nbsp;&nbsp;<font size=\"2\"><a href=\"#part2_chap3\">3. Feature Importance<\/a><\/font>**\n\n-----","adb9b1ab":"# Modeling","1c049ab1":"<div align='justify'><font size='3'>Primal Kyogre seems to have the highest total points among all selected Pokemons.<\/font><\/div>","b7b31db3":"# References\n\n* https:\/\/www.kaggle.com\/mariotormo\/complete-pokemon-dataset-updated-090420#pokedex_(Update.04.20).csv : Complete Pokemon Dataset (Updated 09.04.20)\n* https:\/\/www.pokebip.com\/ : Main French Pokemon news website","90752b8f":"<img src=\"https:\/\/www.pokepedia.fr\/images\/1\/15\/Sprite_890_Infinimax_HOME.png\" width=500>","71f7297e":"<div align='justify'><font size='3'>The purpose of this study is to show the characteristics of Pok\u00e9mon in their simplest form. I therefore erase all the attributes that can be applied to them. They will not be useful and are highly likely to bias the study.<\/font><\/div>","c8ee588e":"# <div id=\"part2_chap1\">1. Preprocessing<\/div>","8301262d":"# <div id=\"chap6\">6. The best generation<\/div>","8c3268d9":"<div align='justify'><font size='3'>A radar chart is a graphical method of displaying multivariate data in the form of a two-dimensional chart of three or more quantitative variables represented on axes starting from the same point. They are used to plot one or more groups of values over multiple common variables.<\/font><\/div>","3effc640":"<div align='justify'><font size='3'>First of all, I'm going to eliminate those columns that I won't use for this study. However, they can be very useful especially for the analysis of affinities of the different types.<\/font><\/div>","9a0c9492":"<img src=\"https:\/\/vignette.wikia.nocookie.net\/nintendo\/images\/5\/55\/Cosmoem.png\/revision\/latest\/top-crop\/width\/360\/height\/450?cb=20161220220724&path-prefix=en\" width=300>","8081e699":"# <div id=\"chap4\">4. Main characteristics<\/div>\n","03b70458":"<div align='justify'><font size='3'>For better readability, I create categorized columns.<\/font><\/div>"}}