{"cell_type":{"d61e2024":"code","8cb2313e":"code","ebb6e4b2":"code","5212bf6c":"code","e4bea8d8":"code","ea89077c":"code","bab255b3":"code","4656e57e":"code","bc7f1631":"code","f4ff0555":"code","90fcfb56":"code","e4f4ffed":"code","6b2347fb":"code","aabd1a93":"code","47ebffb7":"markdown","01b07532":"markdown","ff14bd36":"markdown","a2fa0292":"markdown","a25a513c":"markdown","616668d5":"markdown","2a5ac726":"markdown","07a89fa9":"markdown"},"source":{"d61e2024":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport scipy.integrate as spi\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","8cb2313e":"#Beta: infection rate\n#Gamma: recovery rate\n#Ommega: incubation rate\n    \n## Define diferential equations for the Model\ndef odeSIR(y, t, N, beta, gamma):\n    S, I, R = y\n    dSdt = -beta * S * I \/ N\n    dIdt = beta * S * I \/ N - gamma * I\n    dRdt = gamma * I\n    return dSdt, dIdt, dRdt\n\ndef odeSEIR(y, t, N, beta, gamma, omega):\n    S, E, I, R = y\n    dSdt = -beta * S * I \/ N\n    dEdt = beta * S * I \/ N - omega*E\n    dIdt = omega*E - gamma * I\n    dRdt = gamma * I\n    return dSdt, dEdt, dIdt, dRdt\n\n#Model and simulation for SIR Model\ndef modelSIR(N, beta, gamma, days):\n    I0, R0 = 1, 0\n    ## S susceptible\n    S0 = N - I0 - R0\n    ## beta = ratio of contact between people\n    ## gamma = inverse of recovering time \n    # time vector\n    t = range(0,days)\n    # initial conditions vector\n    y0 = S0, I0, R0\n    # Eval of the system of differential equations\n    ret = spi.odeint(odeSIR, y0, t, args=(N, beta, gamma))\n    S, I, R = ret.T\n    return S, I, R\n\n#Model and simulation for SEIR Model\ndef modelSEIR(N, beta, gamma, omega, days):\n    \"\"\"N = total population \"\"\"\n    I0, R0, E0 = 1, 0, 0\n    ## S susceptible\n    S0 = N - I0 - R0- E0\n    ## beta = ratio of contact between people\n    ## gamma = inverse of recovering time\n    ## omega = incubation rate \n    # time vector\n    t = range(0,days)\n    # initial conditions vector\n    y0 = S0, E0,I0, R0\n    # Eval of the system of differential equations\n    ret = spi.odeint(odeSEIR, y0, t, args=(N, beta, gamma, omega))\n    S, E, I, R = ret.T\n\n    return S, E, I, R\n\n#Fuction for review data\ndef review(d):\n    mean = int(np.mean(d))\n    maxx = int(np.max(d))\n    max_day = d.argmax()\n    print('Daily average = ' + str(mean))\n    print('Max rate  = ' + str(maxx))\n    print('Day of peek = ' + str(max_day))","ebb6e4b2":"S_1, I_1, R_1 = modelSIR(1e5,2.5,1\/5,100)  # No containment measures\nS_2, I_2, R_2 = modelSIR(1e5,1.5,1\/5,100) # with mild containment measures \nS_3, I_3, R_3 = modelSIR(1e5,0.5,1\/5,100) # with strong containment measures","5212bf6c":"t = range(0,len(S_1))\nplt.subplots(figsize=(10, 10))\nplt.subplot(311)\nplt.plot(t, S_1, 'g', label = 'Susceptibles')\nplt.plot(t, I_1, 'r', label = 'Infected')\nplt.plot(t, R_1, 'b', label = 'Recovered')\nplt.ylabel('Count')\nplt.title('SIR Model with beta = 2.5')\nplt.legend()\nplt.subplot(312)\nplt.plot(t, S_2, 'g', label = 'Susceptibles')\nplt.plot(t, I_2, 'r', label = 'Infected')\nplt.plot(t, R_2, 'b', label = 'Recovered')\nplt.ylabel('Count')\nplt.title('SIR Model with beta = 1.5')\nplt.legend()\nplt.subplot(313)\nplt.plot(t, S_3, 'g', label = 'Susceptibles')\nplt.plot(t, I_3, 'r', label = 'Infected')\nplt.plot(t, R_3, 'b', label = 'Recovered')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.title('SIR Model with beta = 0.5')\nplt.legend()","e4bea8d8":"t = range(0,len(I_1))\nplt.plot(t, I_1, 'g', label = 'Infected without containment measures')\nplt.plot(t, I_2, 'r', label = 'Infected with mild containment measures')\nplt.plot(t, I_3, 'b', label = 'Infected with strong containment measures')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.legend()\nplt.show()","ea89077c":"print(\"---------Infected without containment measures-----------\")\nreview(I_1)\nprint(\"---------Infected with mild containment measures-----------\")\nreview(I_2)\nprint(\"---------Infected with strong containment measures-----------\")\nreview(I_3)","bab255b3":"t = range(0,len(I_1))\nplt.plot(t, R_1, 'g', label = 'Recovered without containment measures')\nplt.plot(t, R_2, 'r', label = 'Recovered with mild containment measures')\nplt.plot(t, R_3, 'b', label = 'Recovered with strong containment measures')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.legend()\nplt.show()","4656e57e":"t = range(0,len(S_1))\nplt.plot(t, S_1, 'g', label = 'Susceptibles without containment measures')\nplt.plot(t, S_2, 'r', label = 'Susceptibles with mild containment measures')\nplt.plot(t, S_3, 'b', label = 'Susceptibles with strong containment measures')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.legend()\nplt.show()","bc7f1631":"S1, E1, I1, R1 = modelSEIR(1e5,2.5,1\/5,1\/7,200)  # without any containment \nS2, E2, I2, R2 = modelSEIR(1e5,1.5,1\/5,1\/7,200) # with mild containment measures\nS3, E3, I3, R3 = modelSEIR(1e5,0.5,1\/5,1\/7,200) # with strong containment measures","f4ff0555":"t = range(0,len(S1))\nplt.subplots(figsize=(10, 10))\nplt.subplot(311)\nplt.plot(t, S1, 'g', label = 'Susceptibles')\nplt.plot(t, E1, 'c', label = 'Exposed')\nplt.plot(t, I1, 'r', label = 'Infected')\nplt.plot(t, R1, 'b', label = 'Recovered')\nplt.ylabel('Count')\nplt.title('SEIR Model with beta = 2.5')\nplt.legend()\nplt.subplot(312)\nplt.plot(t, S2, 'g', label = 'Susceptibles')\nplt.plot(t, E2, 'c', label = 'Exposed')\nplt.plot(t, I2, 'r', label = 'Infected')\nplt.plot(t, R2, 'b', label = 'Recovered')\nplt.ylabel('Count')\nplt.title('SEIR Model with beta = 1.5')\nplt.legend()\nplt.subplot(313)\nplt.plot(t, S3, 'g', label = 'Susceptibles')\nplt.plot(t, E3, 'c', label = 'Exposed')\nplt.plot(t, I3, 'r', label = 'Infected')\nplt.plot(t, R3, 'b', label = 'Recovered')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.title('SEIR Model with beta = 0.5')\nplt.legend()","90fcfb56":"\nprint(\"---------Infected without any containment -----------\")\nreview(I1)\nprint(\"---------Infected with mild containment measures -----------\")\nreview(I2)\nprint(\"---------Infected with strong containment measures -----------\")\nreview(I3)","e4f4ffed":"print(\"---------Exposed without any containment -----------\")\nreview(E1)\nprint(\"---------Exposed with mild containment measures -----------\")\nreview(E2)\nprint(\"---------Exposed with strong containment measures -----------\")\nreview(E3)","6b2347fb":"t = range(0,len(I1))\nplt.plot(t, I1, 'g', label = 'Infected without any containment')\nplt.plot(t, I2, 'r', label = 'Infected with mild containment measures')\nplt.plot(t, I3, 'b', label = 'Infected with strong containment measures')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.legend()\nplt.show()","aabd1a93":"t = range(0,len(S1))\nplt.plot(t, S1, 'g', label = 'Susceptibles without any containment')\nplt.plot(t, S2, 'r', label = 'Susceptibles with mild containment measures')\nplt.plot(t, S3, 'b', label = 'Susceptibles with strong containment measures')\nplt.xlabel('Days')\nplt.ylabel('Count')\nplt.legend()\nplt.show()","47ebffb7":"![SIR-SIRS.png](attachment:SIR-SIRS.png)\n\n![model.png](attachment:model.png)\n\n![model_sir_eq.png](attachment:model_sir_eq.png)\n\n![SEIRS_diagram.png](attachment:SEIRS_diagram.png)\n\n![model_seir_eq.png](attachment:model_seir_eq.png)","01b07532":"**'Flattening the curve': SIR model with different containment measures**\n\nThe presence or not of containment measures (isolation, quarantine, etc.) determines the variation in the rate of infection.\n\nFor the example we are taking an initial beta of 2.5 for no containment measures and 0.5 for serious containment measures.","ff14bd36":"Comparison of infection curves with different containment measures:","a2fa0292":"# ***EPIDEMIOLOGIC MODELS SIR AND SEIR***\n\n***Simulation and cases:***\n\n*SEIR(Susceptible, exposed, infected, recovered)*\n\nOne of the most widely used epidemiological models is the so-called SIR model, which was proposed by W. O. Kermack and A. G. McKendrick in 1927.\n\nIn a population of fixed size N in which an epidemic has been unleashed that spreads by contagion, in a time t individuals can be in three different states:\n\nsusceptible S(t),\n\ninfected I(t),\n\nrecovered R(t)\n\nWang, and others (2020) have opted for an evolved CRS model, SEIR , which gave acceptable results in the case of Ebola in 2004 (Chowell, Hengartnet, Castillo-Chavez, Fenimore, & Hyman, 2004) in which the population infected but not infecting others (Exposed) is included, where now N=S+E+I+R.\n\nReferences:\nQianying Lin, Shi Zhao, Daozhou Gao, Yijun Lou, Shu Yang, Salihu S. Musa, Maggie H. Wang, Yongli Cai, Weiming Wang, Lin Yang, Daihai He, A conceptual model for the coronavirus disease 2019 (COVID-19) outbreak in Wuhan, China with individual reaction and governmental action, \nInternational Journal of Infectious Diseases 93 (2020), 211\u2013216. Published: March 04, 2020. \nhttps:\/\/www.ijidonline.com\/article\/S1201-9712(20)30117-X\/fulltext\nGutierrez and Varona, 2020. Universidad De La Rioja. [online] An\u00e1lisis de la posible evoluci\u00f3n de la epidemia de coronavirus COVID-19 por medio de un modelo SEIR. Publicado: March 15, 2020. \nhttps:\/\/www.unirioja.es\/apnoticias\/servlet\/Archivo?C_BINARIO=12051 [Accessed 13 April 2020].\n\nSource from:\n\nhttps:\/\/github.com\/fabioandpinto\/modelosSIR-SEIR\/blob\/master\/ModeloSIRySEIR.ipynb?ref=datasource.ai","a25a513c":"**'Flattening the curve': SEIR model with different containment measur**es","616668d5":"Comparison of susceptibility curves with different containment measures:","2a5ac726":"# **Epidemiologic Models:**\n\nFor the Datascience community, as an example of how to make an notebook in Kaggle.\n","07a89fa9":"Comparison of recovery curves with different containment measures:"}}