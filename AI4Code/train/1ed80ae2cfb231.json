{"cell_type":{"f6a7fc31":"code","a4441de3":"code","6baa42c2":"code","a9e363b4":"code","83e5885f":"code","187b2d60":"code","6b3eb3c1":"code","13d8909f":"code","1916bfcd":"code","cf4ea384":"code","5ef6ce28":"code","d487e9e6":"code","8db8794a":"code","88d6f4b6":"code","72264c8d":"code","3e26f4c2":"code","106bf4ed":"code","d78b59e7":"code","abbfe6b1":"markdown","91c65bcd":"markdown","7db05b3b":"markdown","82966620":"markdown","5a306cbf":"markdown","fce47917":"markdown","3ff661a5":"markdown","12640c72":"markdown","987f2da7":"markdown","5996e8f2":"markdown","c54efe65":"markdown","4ef26646":"markdown","953167ff":"markdown","7ecbd5d1":"markdown","8fad22ac":"markdown","e253a905":"markdown","fc0ef2a1":"markdown","1c9a9307":"markdown","947d0911":"markdown","55c07b75":"markdown","aa5965e5":"markdown","2d6df844":"markdown","80e5dfb2":"markdown","d6da525c":"markdown","4e381efe":"markdown","02db2308":"markdown","0d0c5309":"markdown","77e0f35c":"markdown","9f4e5928":"markdown"},"source":{"f6a7fc31":"import pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt","a4441de3":"transactions = pd.read_csv('..\/input\/product-launch-datasets\/BusinessCase_Tx.csv')\ntransactions.head(2)","6baa42c2":"transactions.info()","a9e363b4":"t_columns_drop = ['Unnamed: 0', 'description', 'locationRegion', 'locationCity', 'originationDateTime', 'merchantId']\ntransactions.drop(columns = t_columns_drop, inplace=True)","83e5885f":"transactions['categoryTags'].fillna('Unknown', inplace=True)","187b2d60":"accounts = pd.read_csv('..\/input\/product-launch-datasets\/BusinessCase_Accts.csv')\naccounts.head(2)","6b3eb3c1":"accounts.info()","13d8909f":"a_columns_drop = ['Unnamed: 0', 'branchNumber', 'type', 'openDate', 'iban', 'currency']\naccounts.drop(columns=a_columns_drop, inplace=True)","1916bfcd":"customers = pd.read_csv('..\/input\/product-launch-datasets\/BusinessCase_Custs.csv')\ncustomers.head(2)","cf4ea384":"customers.info()","5ef6ce28":"c_columns_drop = ['Unnamed: 0', 'type', 'occupationIndustry', 'habitationStatus',\\\n                  'addresses_principalResidence_province', 'schoolAttendance', 'schools']\ncustomers.drop(columns=c_columns_drop, inplace=True)","d487e9e6":"customers['workActivity'].fillna('Unknown', inplace=True)","8db8794a":"customers['birthDate'] = pd.to_datetime(customers['birthDate'])","88d6f4b6":"transactions_count = transactions.groupby(['categoryTags'])['customerId'].count().to_frame().sort_values('customerId', ascending=False).reset_index()\ntransactions_count = transactions_count.rename(columns={'categoryTags': 'Category', 'customerId': 'Total Transactions'})","72264c8d":"transactions_sum = transactions.groupby(['categoryTags'])['currencyAmount'].sum().to_frame().sort_values('currencyAmount', ascending=False).reset_index()\ntransactions_sum = transactions_sum.rename(columns={'categoryTags': 'Category', 'currencyAmount': 'Total Revenue'})","3e26f4c2":"transactions_joined = pd.merge(transactions_count, transactions_sum, on='Category')\ntransactions_joined.to_csv('transactions_joined.csv')\ntransactions_joined","106bf4ed":"total_transactions = transactions_joined['Total Transactions']\nsum_transactions = transactions_joined['Total Revenue']\nlabels = transactions_joined['Category']\n\nax = plt.figure(figsize=(16,6))\nax = sns.scatterplot(sum_transactions, total_transactions)\nplt.xlabel('Total Revenue')\nplt.ylabel('Total Transactions')\n\n## This is a function for annotating the labels on the scatterplot ##\n\ndef label_point(x, y, val, ax):\n    a = pd.concat({'x': x, 'y': y, 'val': val}, axis=1)\n    for i, point in a.iterrows():\n        ax.text(point['x']+.02, point['y'], str(point['val']))\n\nlabel_point(sum_transactions, total_transactions, labels, plt.gca())","d78b59e7":"joined_table = transactions.merge(customers, left_on='customerId', right_on='id')\nfinal_table = joined_table.loc[joined_table['categoryTags'] == 'Transfer'].reset_index(drop=True)\nfinal_table.drop(columns=['accountId', 'categoryTags'], inplace=True)\nfinal_table.head(3)","abbfe6b1":"As can be seen from the table and scatterplot above, females dominate both the total number of transactions as well as the total cost of transactions. However, it's interesting to note that the average cost per transaction is significantly higher (25%) for me, perhaps indicating that they are more frivellous with their money whereas women are more calculated.\nFrom this analysis, I would want to target the female population for my product marketing.","91c65bcd":"### 2.3 Customers Table","7db05b3b":"![image.png](attachment:image.png)","82966620":"The results for this are largely expected. The age categories from 21-59 all have a high number of total transactions, and it's interesting to see the cost per transaction increases through the age groups, which is generally reflective of an individuals status and dependencies as they get older (typically higher income and more family members\/responsbilities). \n\nAt the other end, under 21s account for a low number of transactions and a very low average transaction cost, which is expected given their age, annual income and responsbilties. The 70-79 and over 80s category have a similarly lower number of transactions, again as expected as they are less likely to be making transfers and using technology as much given their age. \n\nFrom this analysis, the 30-39 is the age group I would target.","5a306cbf":"## 4. Preparing the data for customer segmentation analysis\n\nThis section will prepare the data for the next section of customer segmentation analysis. After exploring each dataset, I'm choosing to focus on the transactions and customers tables, as accounts does not add much value for this section. I've decided to retain the columns below and then merge the tables for the analysis.","fce47917":"### 4.1 Creating combined table","3ff661a5":"This reinforces the previous analysis that females between 30-39 would be the best audience to target the new product to, based on the total number of transactions made and the total cost of transactions. However, the categories of females between 40-49 and 50-59 are also very close, so the target could actually be expanded to females between 30-59.","12640c72":"## 2. Exploring and preparing\/cleaning the data\n\n### 2.1 Tranactions Table","987f2da7":"For employment status, 3 separate categories have been considered; full-time, part-time and unknown (assumed to be retired, unemployed, and missing entries).","5996e8f2":"### 5.4 Annual Income\n\nFor annual income, a number of catgories were created, as detailed below.","c54efe65":"![image.png](attachment:image.png)","4ef26646":"Again, a number of columns can be removed here as they are either empty or won't add any value to the analysis.","953167ff":"# Case Study\n\n![image.png](attachment:image.png)\n\nThis case study was part of a data analytics bootcamp I attended in Toronto. Three datasets were provided relating to account, customer, and transaction level data. The aim of the analysis is to explore the datasets, and then select a specific merchant category for which to market a new product on (e.g. a travel credit card). The various segments of customers will then be explored, and a target audience to market the new product to will be selected.","7ecbd5d1":"![image.png](attachment:image.png)","8fad22ac":"Joining the transactions and customers tables, and then filtering the rows so that only the 'Transfer' category is included.","e253a905":"![image.png](attachment:image.png)","fc0ef2a1":"As we can see, there is a perfect correlation between annual income, the total number of transactions and the average cost per transaction. As annual income increases, the total number of transactions decreases and the cost per transaction increases. The higher number of transactions on the lower annual incomes is probably due to number of people earning those salaries, whereas less people are likely to earn higher salaries. The cost per transfer increasing as annual income increases is as you would expect, with people typically living more luxurious lives as they earn more.","1c9a9307":"![image.png](attachment:image.png)\n\nA slightly easier to read version from Tableau!\n\nFrom the scatterplot above, it is clear that the 'Transfer' category is the most promising to develop a new product on, as it has the best combination of total transactions (1st overall) and total revenue (2nd overall). \n\nIn particular, the total number of transactions for 'Transfer' is significantly greater than any other category. For any product to be developed,it's important to have a high number of users\/engagement. Expanding on this concept further, the new product could charge a set amount per transaction, in which case the high number of transactions would be beneficial.","947d0911":"## 1. Importing the modules\n\nDuring the analysis I will be using a mixture of Python (Pandas & Seaborn\/Matplotlib), and Tableau.","55c07b75":"Here, there are a number of columns which can be removed due to not adding any value to the analysis. The workActivity column can have its missing values filled with 'Unknown', and the birthDate column can be updated to datetime dtype.","aa5965e5":"### 2.2 Accounts Table","2d6df844":"A number of columns can be dropped here as they are not useful for the analysis \/ don't contain any values in them. There are some null values in the categoryTags which will need updated to 'Unknown'","80e5dfb2":"Interestingly, the total number of transfers made by part-time customers is higher than full-time, however more expectedly, the average cost per transfer for full-time customers is around 3 times higher. This can likely be attributed to the full-time group having more disposable income, as well as having to make larger transfers for bigger responsibilites. On the other hand, the part-time group is likely made up of a lot of younger people\/students, who as we saw from the age section above, are likely to make much smaller transfers. ","d6da525c":"### 5.5 Age & Gender\n\nFor marketing the product, I think these two are the most important factors, therefore I've combined them to produce an additional scatterplot.","4e381efe":"## 5. Correlations between demographics and total transactions\/total revenue\n\nFor this section I used Tableau to draw correlations between different demographics (gender, age, employment status, and annual income) and the total number of transactions \/ total cost of transactions, for all transactions falling under the 'Transfer' category.\n\n### 5.1 Gender\n\nFor gender, 3 separate categories have been considered; male, female, and other (assumed to be non-binary or missing entries).","02db2308":"## 3. Selecting a category\n\nAfter exploring the transactions dataset and therefore the different merchant categories, I'm choosing to focus on two key areas to assist me in determining which category to select for the new product:\n\n* Total number of transactions in each category\n* Total revenue of transactions in each category","0d0c5309":"### 5.2 Age\n\nFor this, I created a calculated field in Tableau, which calculated each customers age by subtracting their date of birth from today's date. I then grouped these into age categories, as seen below.","77e0f35c":"![image.png](attachment:image.png)","9f4e5928":"### 5.3 Employment Status"}}