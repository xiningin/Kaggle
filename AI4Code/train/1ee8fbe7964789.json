{"cell_type":{"051706b3":"code","09253f67":"code","f85fd80f":"code","d3b19793":"code","6268e766":"code","23e7a752":"code","fea9cf46":"code","70a2d3c6":"code","08b38190":"code","fc57f54f":"code","2ea67a9d":"code","2cfd457f":"code","7704f7db":"code","368f6336":"code","c160b6b1":"code","aa89369c":"code","1daa8d69":"markdown","39f3536b":"markdown","b0535c15":"markdown","52093d6c":"markdown","29a62284":"markdown","d096c426":"markdown"},"source":{"051706b3":"import os\nimport re\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\nimport seaborn as sns\nimport folium\nfrom folium.plugins import FastMarkerCluster","09253f67":"import warnings\nwarnings.filterwarnings('ignore')","f85fd80f":"df = pd.read_csv(\"\/kaggle\/input\/sri-lanka-house-prices-dataset\/house_prices.csv\")","d3b19793":"df.head()","6268e766":"# Converting Columns into numbers\n# Return nan for prices which are listed as negotiable\ndef extract_num(row):\n    try:\n        return float(re.sub(\"[^0-9\\.]\", \"\", row))\n    except Exception as e:\n        print(e)\n        np.nan","23e7a752":"df[\"Price\"] = df[\"Price\"].apply(extract_num)\ndf[\"Land size\"] = df[\"Land size\"].apply(extract_num)\ndf[\"House size\"] = df[\"House size\"].apply(extract_num)","fea9cf46":"df[\"City\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[0])\ndf[\"District\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[-1])\ndf = df.drop(\"Location\", axis=1)","70a2d3c6":"df.head()","08b38190":"# check stats of dataset\ndf.describe()","fc57f54f":"# Checking the null values \ndf.isnull().sum()","2ea67a9d":"# District with most properties to buy\n\ntop_d_type = df[[\"Title\", \"District\"]].groupby(\"District\").agg(['count'])['Title']['count'].sort_values(ascending=False)\nax = sns.barplot( x = top_d_type.index, y = top_d_type.values)\nax.set_xticklabels(labels=top_d_type.index , rotation=45)\nfig = plt.gcf()\nfig.set_size_inches(18.5, 10, forward=True)\nax.set_ylabel(\"Number of Houses\")\nax.set_xlabel(\"District\")\nax.set_title(\"Districts with most Number Houses to buy\");","2cfd457f":"# Top 10 Cities with most number properties to buy\n\ntop_d_type = df[[\"Title\", \"City\"]].groupby(\"City\").agg(['count'])['Title']['count'].sort_values(ascending=False)[:10]\nax = sns.barplot( x = top_d_type.index, y = top_d_type.values)\nax.set_xticklabels(labels=top_d_type.index , rotation=45)\nfig = plt.gcf()\nfig.set_size_inches(18.5, 10, forward=True)\nax.set_ylabel(\"Number of Houses\")\nax.set_xlabel(\"City\")\nax.set_title(\"Cities with most Number of Houses to buy\");","7704f7db":"# Top 10 Cities with most expensive properties to buy\n\ntop_d_type = df[[\"Price\", \"City\"]].groupby(\"City\").agg(['mean'])['Price']['mean'].sort_values(ascending=False)[:10]\nax = sns.barplot( x = top_d_type.index, y = top_d_type.values)\nax.set_xticklabels(labels=top_d_type.index , rotation=45)\nfig = plt.gcf()\nfig.set_size_inches(18.5, 10, forward=True)\nax.set_ylabel(\"Price of House (in RS)\")\nax.set_xlabel(\"City\")\nax.set_title(\"City with most Expensive Houses to buy\");","368f6336":"# Top 10 Cities with most land in the properties to buy\n\ntop_d_type = df[[\"Land size\", \"City\"]].groupby(\"City\").agg(['mean'])['Land size']['mean'].sort_values(ascending=False)[:10]\nax = sns.barplot( x = top_d_type.index, y = top_d_type.values)\nax.set_xticklabels(labels=top_d_type.index , rotation=45)\nfig = plt.gcf()\nfig.set_size_inches(18.5, 10, forward=True)\nax.set_ylabel(\"Size of Land (in Perches)\")\nax.set_xlabel(\"City\")\nax.set_title(\"City with most Land in Houses to buy\");","c160b6b1":"# Top 10 Cities with most living space in the properties to buy\n\ntop_d_type = df[[\"House size\", \"City\"]].groupby(\"City\").agg(['mean'])['House size']['mean'].sort_values(ascending=False)[:10]\nax = sns.barplot( x = top_d_type.index, y = top_d_type.values)\nax.set_xticklabels(labels=top_d_type.index , rotation=45)\nfig = plt.gcf()\nfig.set_size_inches(18.5, 10, forward=True)\nax.set_ylabel(\"Living Space (Square feet)\")\nax.set_xlabel(\"City\")\nax.set_title(\"City with most Living Space in Houses to buy\");","aa89369c":"folium_map = folium.Map(location=[7.8731, 80.7718],\n                        zoom_start=8,\n                        tiles='CartoDB dark_matter')\n\ndf_map = df[df['Lat'].notna() & df['Lon'].notna() ]\n\nFastMarkerCluster(data=list(zip(df_map['Lon'].values, df_map['Lat'].values))).add_to(folium_map)\nfolium.LayerControl().add_to(folium_map)\nfolium_map","1daa8d69":"## Load the Data","39f3536b":"### Data Visualization","b0535c15":"### EDA","52093d6c":"## Import Libraries","29a62284":"## Data Cleaning","d096c426":"### Visualize Destinations on a map"}}