{"cell_type":{"ce6d61b9":"code","a47ebf63":"code","78b8cb21":"code","0e56826a":"code","511441e6":"code","62a53e76":"code","c7c3a334":"code","c0f309ab":"code","62808927":"code","60719e1f":"code","597d0926":"markdown","21a55392":"markdown","d8d0200b":"markdown","49f38a61":"markdown","2aad6fd8":"markdown"},"source":{"ce6d61b9":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline","a47ebf63":"# !pip uninstall pytrends --yes\n!pip install pytrends","78b8cb21":"from pytrends.request import TrendReq\npytrend = TrendReq()","0e56826a":"# An example getting historical\/real-time search interest from Google Trends.\nkw_list=['insomnia', 'anxiety', 'depression']\npytrend.get_historical_interest(kw_list, year_start=2020, month_start=5, day_start=1, hour_start=1, year_end=2020, month_end=6, day_end=20, hour_end=23, cat=0, geo='', gprop='', sleep=0) ","511441e6":"# Line chart plot\nkw_list = ['counselling', 'psychiatrist']\ninterest = pytrend.get_historical_interest(kw_list, year_start=2020, month_start=2, day_start=1, hour_start=1, year_end=2020, month_end=3, day_end=31, hour_end=23, cat=0, geo='', gprop='', sleep=0) \nplt.figure(figsize=(20, 7))\nplt.plot(interest)\n\nplt.figure(figsize=(20, 7))\nkw_list = ['ocd', 'depression', 'anxiety']\ninterest = pytrend.get_historical_interest(kw_list, year_start=2020, month_start=4, day_start=1, hour_start=1, year_end=2020, month_end=5, day_end=31, hour_end=23, cat=0, geo='', gprop='', sleep=0) \nplt.plot(interest)","62a53e76":"# Interest by region\npytrend.build_payload(kw_list=['ocd', 'anxiety', 'depression', 'panic attack', 'mental health'])\ndf = pytrend.interest_by_region(resolution='COUNTRY', inc_low_vol=True, inc_geo_code=False)\ndf.head(20)","c7c3a334":"# Related queires\npytrend.build_payload(kw_list=['ocd', 'anxiety', 'depression', 'panic attack', 'mental health'])\nrelated_queries = pytrend.related_queries()\nrelated_queries.values()","c0f309ab":"pytrend.build_payload(kw_list=['mental health coronavirus'])\nrelated_queries = pytrend.related_queries()\nrelated_queries.values()","62808927":"pytrend.build_payload(kw_list=['anxiety coronavirus'])\nrelated_queries = pytrend.related_queries()\nrelated_queries.values()","60719e1f":"df.reset_index().plot(x='geoName', y='mental health', figsize=(50, 10), kind='bar')","597d0926":"**Examples**","21a55392":"**Installing pytrends**","d8d0200b":"With the API for Google Trends, lots of trouble creating a dataset can be bypassed.","49f38a61":"**Connecting to Google Trends**","2aad6fd8":"References: \n* [https:\/\/towardsdatascience.com\/google-trends-api-for-python-a84bc25db88f](http:\/\/)\n* [https:\/\/pypi.org\/project\/pytrends\/#description](http:\/\/)"}}