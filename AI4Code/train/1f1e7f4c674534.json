{"cell_type":{"e6673af9":"code","6440ca74":"code","d4cc884b":"code","0275195d":"code","3d8a97e9":"code","080585e1":"code","4ad45f74":"code","d193b75a":"code","06c2891c":"code","a0de4d25":"code","f4d06ae4":"code","31765d4b":"code","b775dbe0":"code","99b503ae":"code","d70c544c":"code","347dac02":"code","657a4819":"code","c973b68d":"code","686a5a60":"code","018a0831":"code","b0b8cc58":"code","3c3d76b6":"code","d9a692ca":"code","7a85936b":"code","62c64c3c":"code","92206c82":"code","856f879c":"code","c5ef7880":"code","934b7ccc":"code","94ef337b":"code","381ffc35":"code","6d894670":"code","5728cd35":"code","b5cbd788":"code","94b2ca02":"code","ad7f3e09":"code","33bb1577":"code","a54d4a27":"code","e758c9aa":"code","c0445635":"code","7099ec46":"code","4df25079":"code","935b7f36":"markdown","04861153":"markdown","9e453a86":"markdown","791b94f8":"markdown","d6eb2cb4":"markdown","0f502f47":"markdown","ae5c0caf":"markdown","20f23cac":"markdown","4bf1bdd9":"markdown","6d15f8d1":"markdown","ad320ff9":"markdown","81c55348":"markdown","6dac66cd":"markdown","056480be":"markdown","a2bb7229":"markdown","af76ae65":"markdown","7ab15f4a":"markdown","c337a6a6":"markdown","d931410b":"markdown","f36d9f3f":"markdown","dc5f534c":"markdown","a634388e":"markdown","81dfbdd7":"markdown","f36772b6":"markdown","9ad39b28":"markdown","52425997":"markdown","3f6971c1":"markdown","c762f927":"markdown","a9e5b200":"markdown","5d97d182":"markdown","bea462ee":"markdown","93db73ac":"markdown","8d10b9b5":"markdown","7c8234e9":"markdown","a253df84":"markdown","ebd47576":"markdown","9b20a58a":"markdown"},"source":{"e6673af9":"!pip install pandas numpy matplotlib opendatasets seaborn  --quiet","6440ca74":"#Import required libraries \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","d4cc884b":"#Ensures that matplotlib and seaborn graphs are visible within notebook\n%matplotlib inline \n\n#Setup up style and theming for seaborn graphs \nsns.set_theme(style=\"darkgrid\")\nsns.set_context(\"paper\")\nplt.figure(figsize=(8,6))\n\n#Ensures that you see all (500) columns within notebook\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)","0275195d":"#Create file paths for all files present in the directory\nfile_country_definition_data_dictionary = \"..\/input\/120-years-of-olympic-history\/country_definitions_data_dictionary.csv\"\nfile_country_definition = \"..\/input\/120-years-of-olympic-history\/country_definitions.csv\"\nfile_athelete_events_data_dictionary = \"..\/input\/120-years-of-olympic-history\/athlete_events_data_dictionary.csv\"\nfile_athelete_events = \"..\/input\/120-years-of-olympic-history\/athlete_events.csv\"","3d8a97e9":"country_definition_data_dictionary_df = pd.read_csv(file_country_definition_data_dictionary)\nprint(\"Dataframe for Country Definition data dictionary file\")\nprint(country_definition_data_dictionary_df)","080585e1":"country_definition_df = pd.read_csv(file_country_definition)\nprint(\"Dataframe for Country Definition file\")\nprint(country_definition_df)","4ad45f74":"athelete_definition_data_dictionary_df = pd.read_csv(file_athelete_events_data_dictionary)\nprint(\"Dataframe for Athelete events data dictionary file\")\nprint(athelete_definition_data_dictionary_df)","d193b75a":"athelete_events_df = pd.read_csv(file_athelete_events)\nprint(\"Dataframe for Athelete events file\")\nprint(athelete_events_df)","06c2891c":"print(athelete_events_df)","a0de4d25":"print(athelete_events_df.columns)","f4d06ae4":"print(athelete_definition_data_dictionary_df)","31765d4b":"print(athelete_events_df.info())","b775dbe0":"print(athelete_events_df.describe())","99b503ae":"males_count = athelete_events_df[athelete_events_df[\"Sex\"] == \"M\"][\"Sex\"].count()\nfemales_count = athelete_events_df[athelete_events_df[\"Sex\"] == \"F\"][\"Sex\"].count()\n\nprint(\"Number of males - \", males_count)\nprint(\"Number of females - \", females_count)","d70c544c":"percent_of_males = males_count \/ (males_count + females_count)\npercent_of_females = females_count \/ (males_count + females_count)\n\nprint(\"Males % - \", percent_of_males)\nprint(\"Females % - \", percent_of_females)","347dac02":"#Let us plot a graph\nsns.countplot(x = 'Sex', data = athelete_events_df);","657a4819":"#Get the count of each athelete in our dataframe\nathelete_events_df['Name'].value_counts()","c973b68d":"#Get the max count from our previous records \nmax_appearances = athelete_events_df[\"Name\"].value_counts().max();\nprint(\"Maximum number of appearences - \", max_appearances)","686a5a60":"# Get the details of an athelete who appeared most number of times \nathelete_events_df[athelete_events_df[\"Name\"] == \"Robert Tait McKenzie\"]","018a0831":"max_appearances = athelete_events_df[\"Name\"].value_counts()\n#Get the index of the series we got as an outcome \nseries_indexes = max_appearances.index\nprint(series_indexes)","b0b8cc58":"#You can now get first element of the Series as we know the max is shown at the top in our response \nathelete_name = series_indexes[0]\nprint(\"Name of athelete who appeared for maximum {} times is {}\".format(max_appearances.max(), athelete_name))","3c3d76b6":"#Let us know get all records for this athelete \nathelete_events_df[athelete_events_df[\"Name\"] == athelete_name]","d9a692ca":"print(athelete_events_df.info())","7a85936b":"#Get the medal count for each country \nunique_list_of_countries = athelete_events_df[\"Team\"].unique()\nprint(\"Unique list of coutries - \", unique_list_of_countries)\nprint(\"Length of countries - \", len(unique_list_of_countries))","62c64c3c":"#Get the medal count for each country \nunique_list_of_countries = athelete_events_df[\"NOC\"].unique()\n\nprint(\"Unique list of coutries (NOC) - \\n\\n\", unique_list_of_countries)\nprint(\"\")\nprint(\"Length of countries(NOC) - \", len(unique_list_of_countries))","92206c82":"chinese_medal_count = athelete_events_df[athelete_events_df[\"NOC\"] == \"CHN\"]\n\ngold = chinese_medal_count[\"Medal\"].value_counts()[\"Gold\"]\nsilver = chinese_medal_count[\"Medal\"].value_counts()[\"Silver\"]\nbronze = chinese_medal_count[\"Medal\"].value_counts()[\"Bronze\"]\nprint(gold, silver, bronze)","856f879c":"medal_count_list = []\n\nfor country in unique_list_of_countries:\n  gold = silver = bronze = 0\n  medal_count = athelete_events_df[athelete_events_df[\"NOC\"] == country]\n  \n  try:\n    gold = medal_count[\"Medal\"].value_counts()[\"Gold\"]\n  except KeyError:\n    gold = 0\n  \n  try:\n    silver = medal_count[\"Medal\"].value_counts()[\"Silver\"]\n  except KeyError:\n    silver = 0\n  \n  try:\n    bronze = medal_count[\"Medal\"].value_counts()[\"Bronze\"]\n  except KeyError:\n    bronze = 0\n\n  medal_dict = {}\n  medal_dict = {\n      \"Country\": country,\n      \"Gold\": gold,\n      \"Silver\": silver,\n      \"Bronze\": bronze, \n      \"Total\" : gold + silver + bronze\n      }\n  #print(country_medal_df)\n  medal_count_list.append(medal_dict)\n  \n  #df1.append(df2)","c5ef7880":"medal_count_df = pd.DataFrame(medal_count_list)\nprint(medal_count_df)","934b7ccc":"max_gold_index = medal_count_df[\"Gold\"].idxmax()\nprint(\"Country with Max Gold - \", medal_count_df.loc[max_gold_index][\"Country\"])\nprint(\"Number of Gold medals won - \", medal_count_df.loc[max_gold_index][\"Gold\"])","94ef337b":"medal_count_df.sort_values(\"Gold\", axis = 0, ascending = False, inplace = True)\nsns.barplot(x = \"Country\", y = \"Gold\", data = medal_count_df.head(10));","381ffc35":"max_gold_index = medal_count_df[\"Silver\"].idxmax()\nprint(\"Country with Max Silver - \", medal_count_df.loc[max_gold_index][\"Country\"])\nprint(\"Number of Silver medals won - \", medal_count_df.loc[max_gold_index][\"Silver\"])","6d894670":"medal_count_df.sort_values(\"Silver\", axis = 0, ascending = False, inplace = True)\nsns.barplot(x = \"Country\", y = \"Silver\", data = medal_count_df.head(10));","5728cd35":"max_gold_index = medal_count_df[\"Bronze\"].idxmax()\nprint(\"Country with max Bronze  - \", medal_count_df.loc[max_gold_index][\"Country\"])\nprint(\"Number of Bronze medals won - \", medal_count_df.loc[max_gold_index][\"Bronze\"])","b5cbd788":"medal_count_df.sort_values(\"Bronze\", axis = 0, ascending = False, inplace = True)\nsns.barplot(x = \"Country\", y = \"Bronze\", data = medal_count_df.head(10));","94b2ca02":"max_gold_index = medal_count_df[\"Total\"].idxmax()\nprint(\"Country with max number of medals  - \", medal_count_df.loc[max_gold_index][\"Country\"])\nprint(\"Number of  medals won - \", medal_count_df.loc[max_gold_index][\"Total\"])","ad7f3e09":"medal_count_df.sort_values(\"Total\", axis = 0, ascending = False, inplace = True)\nsns.barplot(x = \"Country\", y = \"Total\", data = medal_count_df.head(10));","33bb1577":"never_won_any_medal = medal_count_df[medal_count_df[\"Total\"] == 0]\nprint(\"Total number of countries which never won any olympic medal is \", len(never_won_any_medal))\nprint(\"List of those countries - \")\nprint(never_won_any_medal[\"Country\"].tolist())","a54d4a27":"never_won_any_medal = medal_count_df[medal_count_df[\"Gold\"] == 0]\nprint(\"Total number of countries which never won a Gold olympic medal is \", len(never_won_any_medal))\nprint(\"List of those countries - \")\nprint(never_won_any_medal[\"Country\"].tolist())","e758c9aa":"never_won_any_medal = medal_count_df[medal_count_df[\"Silver\"] == 0]\nprint(\"Total number of countries which never won a Silver olympic medal is \", len(never_won_any_medal))\nprint(\"List of those countries - \")\nprint(never_won_any_medal[\"Country\"].tolist())","c0445635":"never_won_any_medal = medal_count_df[medal_count_df[\"Bronze\"] == 0]\nprint(\"Total number of countries which never won a Bronze olympic medal is \", len(never_won_any_medal))\nprint(\"List of those countries - \")\nprint(never_won_any_medal[\"Country\"].tolist())","7099ec46":"medal_count_df.sort_values(\"Total\", axis = 0, ascending = False, inplace = True)\ntemp_medal_df = medal_count_df.drop([\"Total\"], axis = 1)\ntemp_medal_df.head(10).plot(x = 'Country', kind='bar', stacked=True, title='Total Medals division for Gold, Silver and Bronze');","4df25079":"athelete_events_df['Sport'].unique()","935b7f36":"## How many countries never won a bronze medal in Olympics ?","04861153":"**We already got a few interesting insights on age and height**. Let us go ahead and ask more questions to this data","9e453a86":"If we don't want to manually copy athelete's name we have to do something as shown below ","791b94f8":"Let us now import data into our dataframe and see if they are important for our analysis or are just helping data dictionary to understand manual data","d6eb2cb4":"## How many countries never won a medal in Olympics ?\nWe need to get the list of countries which never won a gold, silver or bronze in olympic history","0f502f47":"Below is the bar graph to show the gold medal count for top 10 countries ","ae5c0caf":"Based on the above outcome we have following stats - \n- Average age of an athelete is 25.5 years \n- **Min age of an athelete is 10 years - Wow! I never thought that an athelete of 10 years also participated in olympics. We will find more about it later **\n- **Max age of an athelete is 97 years - Another surprise. It this really the right data ?**\n- 75% of atheletes had age around 28 years \n\n\nWe have similiar interesting insights on height and weight as well and two to highlight are - \n- Max weight of an athelete in our data is 214 KG\n- Min weight of an athelete in our data is 25 KG ","20f23cac":"This is again the metadata but an important one which is giving us details of all the columns which we will get to see in our main datafile. Let us know do the important job of importing last and critical data file","4bf1bdd9":"#Summary \n\nLet us summarize our statistics here in this table - \n\n|S.No.|Question asked|Answer|\n|----|--|---|\n|1|Number of male atheletes appeared in the Olympics ?| 196,594 |\n|2|Number of female atheletes appeared in the Olympics ?|74,522|\n|3|Minimum age of an athelete who participated in Olympics history ?| 10 years|\n|4|Maximum age of an athelete who participated in Olympics history ?| 97 years|\n|5|Mimimum weight of an athelete who participated in Olympics history ?|25 KG|\n|6|Maximum weight of an athelete who participated in Olympics history ?|214 KG|\n|7|Which athelete appeared for most number of times in Olympics history ?| Robert Tait McKenzie for 58 times |\n|8|Which country won most number of gold medals in the history of olympics ?|United States won 2638 gold models|\n|9|Which country won most number of silver medals in the history of olympics ?|United States won 1641 silver medals|\n|10|Which country won most number of bronze medals in the history of olympics ?|United states won 1358 bronze medals|\n|11|Which country won most number of medals in the history of olympics ?|United states won 5637 medals in total|\n|12|How many countries never won any medals in olympic ?|81 countries never won any medal|\n|13|How many countries never won any gold medal in olympics ?|121 countries never won a gold medal|\n|14|How many countries never won any silver medal in olympics ?|102 countries never won a silver medal|\n|15|How many countries never won any bronze medal in olympics ?|105 countries never won a bronze medal|","6d15f8d1":"#Let us question our data\n\n## How many males and females appeared in Olympics ?","ad320ff9":"Let us draw a stacked chart to show the total of medals won by top 1o winning countries having stacks for number of gold, silver and bronze won","81c55348":"#Step 3 - Working on basic data analysis \nNow that we have our data imported in dataframe, lets observe our data and perform basic analysis on the meta information of the data ","6dac66cd":"Let us know count the country with max number of silver medals and plot a graph of top 10 countries with max silver medals ","056480be":"We have four files in each. It is a good practice to view files in excel to have a quick look at the data you are deadling with, but we will use pandas also to do that. Let us import all 4 files in our pandas dataframe","a2bb7229":"## Which country won most number of medals in the history of olympics ?\nLet us calculate -\n- Country with max gold medals \n- Country with max solver medals \n- Country with max bronze medals \n- Country with max total medals","af76ae65":"# Step 1 - Setup our working environment \n\nPlease note that this notebook is saved in jovian's environment and hence have some setup involved for jovian. If you are not running and saving it in jovian environment, you might not need a few of the steps involving jovian","7ab15f4a":"As saved in our athelete data dictionary file, we have following columns and their explaination","c337a6a6":"## How many countries never won a silver medal in Olympics ?","d931410b":"The outcome above does not look unique as we dont have this many numbe rof countries in the world. That means we cannot rely on this column for count.Let us see any other column which can get us this count ","f36d9f3f":"## Get basic statistics on the numerical columns of the dataframe","dc5f534c":"Let us apply this logic for all countries in the list ","a634388e":"# Overview\nThis nootebook is an exercise to analyse the Olympic dataset which is openly avaailable on [Kaggle](https:\/\/www.kaggle.com\/mysarahmadbhat\/120-years-of-olympic-history\/). We have following objectives with this activity -\n- Get some interesting insights on the data we have available, like say person who won most number of golds in olympic history, number of countries participated each year and what not. \n- Learning purpose - Use pandas, matplotlib and seaborn libraries to analyse the data and provide us an interesting use case to apply these skills\n\n#Major Steps \nWe will perform following major steps -\n- Setup your wokring environment - Download libraries like pandas, numpy, matplotlib, seaborn\n- Download the data from [Kaggle](https:\/\/www.kaggle.com\/mysarahmadbhat\/120-years-of-olympic-history\/) using [opendatasets](https:\/\/github.com\/JovianML\/opendatasets) library which is developed by [jovian](https:\/\/jovian.ai)\n- Perform basic analysis and draw seaborn plots \n- Summarize your statistics \n- Optional - Expose your insights on a webpage \n\nUse the \"Run\" button to execute the code.","81dfbdd7":"## Get the list of columns we have in our dataframe","f36772b6":"We can copy the name of the athelete and use it in the below form to get details of that specific athelete who appeared for max number of times ","9ad39b28":"## Which athelete appeared in Olympics for most of the time ?","52425997":"Let us try to get gold, silver and bronze count for one country","3f6971c1":"The above outcome looks good as we practically have 230 countries in the world","c762f927":"## How many countries never won a Gold medal in Olympics ?","a9e5b200":"The above output looks like this is just a helping file with mapping dictionaries for data in some other file. For time being we might not need this and we can refer it in an excel seperately if needed. \nLet us do that for all other remaining files ","5d97d182":"The above dataframe is a list of coutries with country code and name of country. If you observe columns of our values of our first dataset file are used as columns in our second file ","bea462ee":"AS shown above we can get following insights from the dataframe \n- We have 271116 records in total\n- Size of dataframe - 31 MB \n- Majority of columns in our dataframe has no missing values. We can see Age, Height, Weight, and Medal having missing or NAN values# \n","93db73ac":"## Get basic information on the dataframe ","8d10b9b5":"## Get the list of unique number of sports in Olympics database ?","7c8234e9":"## Let us print our dataframe ","a253df84":"setup basic configuration for notebook and seaborn plots","ebd47576":"Let us know count the country with max number of gold medals and plot a graph of top 10 countries with gold medals ","9b20a58a":"As shown above we have 196,594 males and 74,522 females in our olympics dataset and there is a count plot showing the same. "}}