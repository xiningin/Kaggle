{"cell_type":{"33e62188":"code","eaa738c1":"code","270a63b2":"code","792fac9e":"code","42042231":"code","ff388d6b":"code","2862fd34":"code","53647b1d":"code","d91eb57b":"code","8c83b31d":"code","2e172b3a":"code","9a5c6327":"code","f18872a5":"code","701dabba":"code","880126dc":"code","84e11e0b":"code","3accc3c4":"code","e5fda36f":"code","2b120609":"markdown","46ed596b":"markdown","a8040d64":"markdown","bdcdb88f":"markdown","a5a0cfd1":"markdown","65d37130":"markdown","741b0eb5":"markdown","7068c26f":"markdown","b468931f":"markdown","bc696d86":"markdown","3ee508ca":"markdown","c1e9c3c6":"markdown","dd67baf5":"markdown"},"source":{"33e62188":"# Adicionando bibliotecas necessarias\nimport pandas as pd\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.neighbors import KNeighborsClassifier\nimport seaborn as sns\nimport matplotlib.pyplot as plt","eaa738c1":"# Lendo datasets\ntrain = pd.read_csv('..\/input\/train.csv')\ntest = pd.read_csv('..\/input\/test.csv')","270a63b2":"# Apresenta\u00e7\u00e3o basica de train\ntrain.head()","792fac9e":"# Apresenta\u00e7\u00e3o basica de test\ntest.head()","42042231":"#Obs: axis = 1, serve para remover a coluna inteira e n\u00e3o apenas uma linha\n#Obs: inplace = True, serve para indicar q a altera\u00e7\u00e3o ser\u00e1 no pr\u00f3prio banco\ntrain.drop(['Name','Ticket','Cabin'],axis=1,inplace=True)\ntest.drop(['Name','Ticket','Cabin'],axis=1,inplace=True)","ff388d6b":"new_train = pd.get_dummies(train)\nnew_test = pd.get_dummies(test)","2862fd34":"new_train.head()","53647b1d":"#Verificando quantos valores nulos tem em cada coluna\nnew_train.isnull().sum().sort_values(ascending=False).head()","d91eb57b":"new_test.isnull().sum().sort_values(ascending=False).head()","8c83b31d":"#Colocando nos campos nulos a m\u00e9dia das idades dos passageiros\nnew_train['Age'].fillna(new_train['Age'].mean(),inplace=True)\nnew_test['Age'].fillna(new_test['Age'].mean(),inplace=True)\n#Colocando nos campos nulos a m\u00e9dia do pre\u00e7o das passagens\nnew_test['Fare'].fillna(new_test['Fare'].mean(),inplace=True)","2e172b3a":"plt.figure(figsize=(9,6))\nsns.barplot(x='Sex',y='Survived',data=train)","9a5c6327":"plt.figure(figsize=(9,6))\nsns.barplot(x='Pclass', y='Survived', data=train)","f18872a5":"X = new_train.drop('Survived',axis=1)\nrecursos = new_train.columns.values\ny = new_train['Survived']","701dabba":"modelo = KNeighborsClassifier()\nmodelo.fit(X,y)","880126dc":"parametros = {\n            \"n_neighbors\": [1,5,8,10],\n            \"algorithm\": ['auto','ball_tree','kd_tree','brute'],\n            \"leaf_size\": [20,30,50]\n}\ngrid_search = GridSearchCV(modelo, parametros)\ngrid_search.fit(X,y)\nmodelo = grid_search.best_estimator_\nprint(grid_search.best_params_, grid_search.best_score_)\nmodelo.fit(X,y)","84e11e0b":"print(modelo.score(X,y))\npredicao = modelo.predict(new_test)","3accc3c4":"submission = pd.DataFrame()\nsubmission['PassengerId'] = new_test['PassengerId']\nsubmission['Survived'] = predicao\n#Convertendo para CSV e sem o index pois n\u00e3o pede\nsubmission.to_csv('submission.csv',index=False)","e5fda36f":"# Validando modelo usando Cross Validation\nmodelo_val = cross_val_score(modelo, X, y,scoring='accuracy', cv=5)\nprint(modelo_val.mean())","2b120609":"## Enviando as previs\u00f5es","46ed596b":"## 1\u00b0 Passo - Limpeza dos dados\n","a8040d64":"### Verificando o nivel de precis\u00e3o do modelo","bdcdb88f":"### Verificando a importancia das colunas selecionadas","a5a0cfd1":"### Convertendo palavras em n\u00fameros","65d37130":"### Definindo o modelo","741b0eb5":"# Competi\u00e7\u00e3o Kaggle - Titanic","7068c26f":"### Valida\u00e7\u00e3o do modelo","b468931f":"### Excluindo colunas desnecess\u00e1rias","bc696d86":"### Retirar os valores nulos\n    Solu\u00e7\u00e3o encontrada: Colocar no lugar os valores nulos a m\u00e9dia daquela coluna.","3ee508ca":"\n## 2\u00b0 Passo: Construindo modelo","c1e9c3c6":"### Escolhendo os recursos","dd67baf5":"### Criando banco de acordo com o solicitado"}}