{"cell_type":{"e5f27f6f":"code","318276a2":"code","6d6d1caa":"code","8dd811f6":"code","220c1583":"code","a850b930":"code","ece77686":"code","b18625aa":"code","0b75dd10":"code","adb7dc5d":"code","f0b365ba":"code","45eac691":"markdown","9c414a17":"markdown","db2ee22f":"markdown","7d839c94":"markdown","1571d920":"markdown"},"source":{"e5f27f6f":"import pandas as pd\nimport numpy as np\nfrom mlxtend.frequent_patterns import apriori, association_rules\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)","318276a2":"# Our dataset doesn't have any variable names, so we created a product variable.\ndf = pd.read_csv(\"..\/input\/grocey-store-dataset\/GroceryStoreDataSet.csv\", names =['Products'], header = None)","6d6d1caa":"df.head()","8dd811f6":"df.shape\n","220c1583":"# Since our data is combined, we will separate them according to \",\".\nproduct_list = list(df[\"Products\"].apply(lambda x:x.split(',')))\nproduct_list","a850b930":"type(product_list)","ece77686":"from mlxtend.preprocessing import TransactionEncoder","b18625aa":"# One Hot Encoding process has been done.\ntemp = TransactionEncoder()\ntemp_df = temp.fit(product_list).transform(product_list)\nnew_df = pd.DataFrame(temp_df,columns=temp.columns_)\nnew_df","0b75dd10":"# We set our support value as 20%\n\nsupport_values = apriori(new_df, min_support=0.20, use_colnames=True, verbose = 1)\nsupport_values","adb7dc5d":"# We ranked our data according to the decreasing values for supporter\n\nsupport_values.sort_values(by = \"support\", ascending = False)\n","f0b365ba":"rules = association_rules(support_values, metric= \"confidence\", min_threshold = 0.5)\n\nrules = rules.sort_values(['confidence', 'lift'], ascending =[False, False]) \n\nrules\n","45eac691":"We access our \"confidence and lift\" values using association_rules function","9c414a17":"In association analysis, the dataframe must be either 1 and 0's or a Boolean data structure type as True \/ False.","db2ee22f":"Association rules are one of the important machine learning techniques used in market market analysis and recommendation systems. The relationship of the users will be observed by examining the relationship and actions are implemented in these observations. For example; Like movies and TV shows on Netflix, recommended products while shopping on Amazon, other daily mixes based on songs listened to on Spotify. Spitting is all done to increase ranks such as selling, watching and resting.\n\n\nMany algorithms are used for association rules, the most popular of which is the **Apriori Algorithm.**\n\nThere are 3 important concepts we need to know in the Apriori algorithm; Support, Confidence, and Lift.\n\nLet X and Y represent the products in the market, and N denote the total number of products.\n\n**Support**: Indicates how often X and Y are seen together.\n\n* **Support(X, Y) = Freq(X,Y)\/N**\n\n**Confidence**: Indicates the probability that a customer who buys product X will buy product Y.\n\n* **Confidence(X, Y) = Freq(X,Y) \/ Freq(X)**\n\n**Lift**: Indicates how much the sales of Y product increased when product X was purchased.\n\n* **Lift = Support (X, Y) \/ ( Support(X) * Support(Y) )**\n\n","7d839c94":"*We can interpret our resulting table as follows. You can write the different situations you see in the table as comments :)*\n\n**Support Value ->** shows that The rate of seeing MAGGI and TEA together in all purchases is 0.2. \n\n**Confidence Value ->** shows that 80% of customers who buy MAGGI also buy TEA.\n\n**Lift Value ->** shows that Sales of (TEA) increase by 2.28 for purchases with MAGGI.\n\n","1571d920":"Dataframe is now suitable for association analysis. The next step will be to calculate and interpret the support and confidence values."}}