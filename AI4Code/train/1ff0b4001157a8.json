{"cell_type":{"9a6a2f8a":"code","82c65051":"code","f82a8d1f":"code","4510026e":"code","0a14bab3":"code","89fc8e30":"code","4b7a1675":"code","cccf22e5":"code","7a5674d0":"code","c4531416":"code","90e2cbeb":"code","5b3019ac":"code","95f9f35a":"code","ee438df9":"code","56d8a93e":"code","34a7fb2e":"code","b2942a13":"code","5959536c":"code","a6c4b503":"code","8eb4d407":"code","b0c52e1c":"code","931f1ff5":"code","c2a7bbe3":"code","e77ba18c":"code","2ef58de8":"code","256ce7d6":"code","40b84fa6":"code","90c15fa3":"code","64c16771":"code","335b81e5":"code","b2dd217b":"code","88174fd2":"code","9ebc2e0e":"code","bf23f355":"code","8daba798":"code","d7cc3013":"code","a9fe60cf":"code","9b3eef9c":"code","782a2b50":"code","24b6174b":"code","82ae7100":"code","c5f6279f":"code","2eceafa4":"code","ded9784e":"code","83789152":"code","03330148":"code","d5209940":"code","9f3f403b":"code","4c006515":"code","b0d8771c":"code","97b5d5ae":"code","5dadf489":"code","2e23684e":"code","9412a044":"code","e8038097":"code","b614acbc":"code","17d6de0b":"code","e90e7faf":"code","f1caa260":"code","2805573c":"code","02f0af55":"code","e07048fb":"code","15fbe288":"code","a05baeb5":"code","660bef94":"code","764927c6":"code","fbf7ad75":"code","ddb22e58":"code","49de9864":"code","40f87ce5":"code","e060b50b":"code","835501ab":"markdown","63c79cb2":"markdown","f9d76054":"markdown","a2b9f4f7":"markdown","ed813a9d":"markdown","6cf060c3":"markdown","6d6271f6":"markdown","ccb29f7f":"markdown","4ab7a0b1":"markdown","657306d5":"markdown","cda2672f":"markdown","8ef6092e":"markdown","04060620":"markdown","957fdf6c":"markdown","b73a58ee":"markdown","044837ca":"markdown","e81de762":"markdown","bd14205d":"markdown","baf1681a":"markdown","cb240896":"markdown","c0432eb2":"markdown"},"source":{"9a6a2f8a":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport os\nprint(os.listdir(\"..\/input\/\"))\n#The dataset contains details of the number of visitors to Australia and Japan quarterly","82c65051":"data=pd.read_csv('..\/input\/visitors.csv')","f82a8d1f":"data.head()\ndata.dtypes","4510026e":"#Set date column as an Index and Convert to Datetime\ndata=pd.read_csv('..\/input\/visitors.csv',parse_dates=['Date'],index_col='Date')\ndata.head()\n#pd.to_datetime(data['Date']).head()\n#data.set_index('Date')","0a14bab3":"data.index","89fc8e30":"# Data of specific year\ndata['1999']","4b7a1675":"#Data of specific month of the year\ndata['1999-10']","cccf22e5":"#Data from one date to another\ndata['2001-01-01':'2005-01-01']","7a5674d0":"data['Australia'].resample('Y').mean()","c4531416":"data['Australia'].plot()","90e2cbeb":"# Let's delete the datetime information\ndata.reset_index(inplace=True)\ndata=data.drop('Date',axis=1)","5b3019ac":"data.head()","95f9f35a":"#Freq='B' B-'business day frequency' (weekend excluded)\ndt_range=pd.date_range(start=\"3\/1\/2017\",end=\"5\/15\/2017\",freq='B')\ndt_range","ee438df9":"dt_range.shape","56d8a93e":"#set new datetime as an Index\ndata.set_index(dt_range,inplace=True)","34a7fb2e":"data.head()","b2942a13":"#D-calendar day frequency All days included\nnewdt_range=pd.date_range(start=\"3\/1\/2017\",end=\"5\/15\/2017\",freq='D')\nnewdt_range","5959536c":"##Weekend dates or dates which are not included (missing)\nnewdt_range.difference(data.index)","a6c4b503":"print(data.head())\ndata.index.dtype\ndata.index.freq","8eb4d407":"#http:\/\/pandas.pydata.org\/pandas-docs\/stable\/timeseries.html#offset-aliases\n#Data will be forwared to next day same as previous day as we have specified freq-'D' and method forward fill\ndata.asfreq('D',method='ffill').head(5)","b0c52e1c":"#H-hourly frequency and method-forward fill\ndata.asfreq('H',method='ffill').head()","931f1ff5":"data={\n    'year':[2018,2019],\n    'month':[3,9],\n    'day':[1,11]   \n}\ndata","c2a7bbe3":"pd.to_datetime(data)","e77ba18c":"#Custom date time format\npd.to_datetime('2017^01^01',format='%Y^%m^%d')","2ef58de8":"pd.to_datetime(['2001*05*21','2001*05*3'],format='%Y*%m*%d')","256ce7d6":"pd.to_datetime(['jan 1,2001','1\/1\/2010','hello'],errors='raise')","40b84fa6":"pd.to_datetime(['jan 1,2001','1\/1\/2010','hello'],errors='ignore')","90c15fa3":"pd.to_datetime(['jan 1,2001','1\/1\/2010','hello'],errors='coerce')\n#NaT :-invalid parsing will be set as NaT","64c16771":"year=pd.Period('2017')\nyear\n#Frequency is 'A' for end of year frequency","335b81e5":"year.is_leap_year","b2dd217b":"year.start_time","88174fd2":"year.end_time","9ebc2e0e":"#3 years later\nyear+3","bf23f355":"month=pd.Period('2001-9')\nmonth","8daba798":"month.start_time","d7cc3013":"month.end_time","a9fe60cf":"# 3 months back\nmonth-3","9b3eef9c":"#Daily Period\nday=pd.Period('2018-03-09')\nday","782a2b50":"day.start_time","24b6174b":"day.end_time","82ae7100":"#9 days later\nday+9","c5f6279f":"hour=pd.Period('2018-03-09 12')\nhour","2eceafa4":"#5 hours later\nhour+5","ded9784e":"quarter=pd.Period('2009Q1')\nquarter","83789152":"quarter.start_time","03330148":"quarter.end_time","d5209940":"#change the quarter start\nquarter=pd.Period('2009Q1',freq='Q-FEB')\nquarter","9f3f403b":"quarter.start_time","4c006515":"quarter.end_time","b0d8771c":"week=pd.Period('2018-09-09',freq='W')\nweek","97b5d5ae":"week=pd.Period('2018-09-11',freq='W')\nweek","5dadf489":"#D:calendar day frequency\nquarter=pd.Period('2009Q1',freq='Q-FEB')\nquarter.asfreq('D',how='start')","2e23684e":"quarter.asfreq('D',how='end')","9412a044":"range_m=pd.period_range('2009','2011',freq='M')\nrange_m","e8038097":"range_q=pd.period_range('2009','2011',freq='q')\nrange_q","b614acbc":"#to_timestamp\nrange_q_ts=range_q.to_timestamp()\nrange_q_ts","17d6de0b":"#to_period\nrange_q_period=range_q_ts.to_period()\nrange_q_period","e90e7faf":"#pytz brings the Olson tz database into Python. \n#This library allows accurate and cross platform timezone calculations using Python 2.4 or higher\nimport pytz\npytz.all_timezones[:5]","f1caa260":"dt=pd.DatetimeIndex(start='2010-09-09 03:00',freq='H',periods=9,tz='Australia\/Sydney')\ndt","2805573c":"#Convert to other time zone - tz_convert\ndt.tz_convert('Asia\/Calcutta')","02f0af55":"dt=pd.date_range(start='2017-01-01 09:00',periods=9,freq='15min')\nprint(dt.tz)\ndt","e07048fb":"# DatetimeIndex in Asia\/Calcutta time zone:\ndt=dt.tz_localize(tz='Asia\/Calcutta')\ndt","15fbe288":"data=pd.read_csv('..\/input\/visitors.csv',parse_dates=['Date'],index_col='Date',nrows=5)\ndata","a05baeb5":"# shift 1 place forward (positive)\ndata.shift(periods=1)","660bef94":"#shift 3 places backward (negative)\ndata.shift(periods=-3)","764927c6":"#Find the Differnce of visitors - previous day and today\n#data['Aus-visitors-today']=data['Australia']\n#data['Aus-visitors-previous day']=data['Australia'].shift(periods=1)\n#data['Differnce of visitors']=data['Aus-visitors-today']-data['Aus-visitors-previous day']\n#data['Differnce of visitors']","fbf7ad75":"data","ddb22e58":"data['Australia']","49de9864":" #shift the date (next quarter date)\ndata['Australia'].tshift(1)","40f87ce5":"data['Australia'].tshift(-1)","e060b50b":"#refer :- https:\/\/pandas.pydata.org\/pandas-docs,codebasics to learn more","835501ab":"Hourly Period","63c79cb2":"Monthly Period","f9d76054":">  **Time Series Basics**\n\nTable of Contents :-\n* Indexing\n* Date Range\n* Resampling\n* date_range\n* missing dates\n* Convert TimeSeries to specified frequency\/ Change the frequency\n* To_datetime\/datetime format\n* Handling invalid dates\n* Period\n* asfreq\n* period_range\n* Data Type Conversion\n* Time Zone\n* shift\n* tshift","a2b9f4f7":"**Handling invalid dates**\n\nerrors : {\u2018ignore\u2019, \u2018raise\u2019, \u2018coerce\u2019}, default \u2018raise\u2019\n\nIf \u2018raise\u2019, then invalid parsing will raise an exception.\nIf \u2018coerce\u2019, then invalid parsing will be set as NaT.\nIf \u2018ignore\u2019, then invalid parsing will return the input.\n","ed813a9d":"**Resampling**","6cf060c3":"**Period**","6d6271f6":"**Indexing**","ccb29f7f":"**Convert TimeSeries to specified frequency\/ Change the frequency **","4ab7a0b1":"**Data Type Conversion** (datetime\/period)","657306d5":"**To_datetime : datetime format**","cda2672f":"Weekly Period","8ef6092e":"**period_range**","04060620":"**shift**\n\n-Shift index by desired number of periods","957fdf6c":"Quarterly Period","b73a58ee":"We have deleted the date column and made the data without date column ,Now we will try to add the datetime information in different ways (useful when we do not have datetime information)\n\n**date_range**","044837ca":"**Date Range**","e81de762":"**asfreq** :- to convert period to a different frequency","bd14205d":"**Time Zone**","baf1681a":"Yearly Period","cb240896":"**tshift**-\nShift the time index","c0432eb2":"** missing dates**"}}