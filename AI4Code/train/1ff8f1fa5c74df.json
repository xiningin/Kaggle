{"cell_type":{"877d532a":"code","3614be13":"code","54bfcb83":"code","5d419fc4":"code","8c7998f5":"code","3c84b2c8":"code","1719de96":"code","fc53a9d6":"code","b16a6f0a":"code","cc1c61b3":"code","68a82db6":"code","66895976":"code","270f227d":"code","43c2e066":"code","d3f9ebe7":"code","24d24a54":"code","70f4fc02":"code","aff27a22":"code","5d47a440":"code","cc77a190":"code","0b6e31dd":"code","02be8910":"code","94e70c26":"code","e831573f":"code","6985db17":"markdown","1e1a2c78":"markdown","485a3f52":"markdown","30abfce3":"markdown","f76ed321":"markdown","78fce7a1":"markdown","4f61ebeb":"markdown"},"source":{"877d532a":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport folium","3614be13":"indicators = pd.read_csv('..\/input\/world-development-indicators\/Indicators.csv')\nindicators.sample(5)","54bfcb83":"buss = indicators[indicators['IndicatorCode'].str.match(r'(^IC.*)')]\nbuss.head()","5d419fc4":"buss.IndicatorCode.nunique()","8c7998f5":"sns.heatmap(buss.isnull(),yticklabels=False,cbar=False,cmap='GnBu_r')","3c84b2c8":"#To view the full content in the column\npd.set_option('display.max_colwidth',None)","1719de96":"xq = buss.query('IndicatorCode==\"IC.BUS.EASE.XQ\"')\ntop_10 = xq.groupby('CountryName',as_index=False)[['Value']].mean().sort_values(by='Value',ascending=True).iloc[:10]","fc53a9d6":"sns.barplot(top_10['Value'],top_10['CountryName'])\nplt.xlabel('Index')\nplt.title('Top 10 countries under Ease of doing business index')","b16a6f0a":"# xq.Year.unique()","cc1c61b3":"tomap = xq.groupby(['CountryCode','CountryName'],as_index=False)['Value'].mean()\ntomap","68a82db6":"country_geo = 'https:\/\/raw.githubusercontent.com\/python-visualization\/folium\/master\/examples\/data\/world-countries.json'\n\nworld_map = folium.Map(location=[100, 0], zoom_start=2)\n\nfolium.Choropleth(\n    geo_data=country_geo,\n    data=tomap,\n    columns=['CountryCode','Value'],\n    key_on='feature.id',\n    fill_color='YlGnBu', \n    fill_opacity=0.6, \n    line_opacity=1,\n    legend_name=\"Ease of doing Business\"\n).add_to(world_map)\nworld_map","66895976":"gbr = buss.loc[(buss['CountryCode']==\"GBR\")] \ngbr.IndicatorCode.nunique()","270f227d":"sgp = buss.loc[(buss['CountryCode']==\"SGP\")] \nsgp.IndicatorCode.nunique()","43c2e066":"a = gbr.groupby('IndicatorName')[['Value']].mean()","d3f9ebe7":"b = sgp.groupby('IndicatorName')[['Value']].mean()","24d24a54":"a.merge(b,left_index=True,right_index=True,suffixes=('_United Kingdom', '_Singapore'))","70f4fc02":"reg_proc_gb = gbr.query('IndicatorCode==\"IC.REG.PROC\"')","aff27a22":"reg_proc_sg = sgp.query('IndicatorCode==\"IC.REG.PROC\"')","5d47a440":"sns.lineplot(reg_proc_gb['Year'],reg_proc_gb['Value'])\nsns.lineplot(reg_proc_sg['Year'],reg_proc_sg['Value'])","cc77a190":"pip install dash","0b6e31dd":"import dash\nimport plotly\nimport plotly.express as px\nimport dash_core_components as dcc\nimport dash_html_components as html\nfrom dash.dependencies import Input, Output","02be8910":"ext_styles = ['https:\/\/codepen.io\/chriddyp\/pen\/bWLwgP.css']\napp = dash.Dash(__name__, external_stylesheets=ext_styles)","94e70c26":"available_indicators = buss['IndicatorName'].unique()\navailable_country = buss['CountryName'].unique()","e831573f":"app.layout = html.Div([ \n    html.H1('Ease Of Doing Business',style={'textAlign':'center','font-size': '35px','color':'#343434'}),\n    html.Div([\n        dcc.Graph(id='wld_map',\n                  figure = px.choropleth(tomap,locations='CountryCode',color='Value',projection='natural earth',\n                                         title='Rating Index for ease of doing business',hover_name=tomap['CountryName']\n                                         ,color_continuous_scale=px.colors.sequential.Blues,range_color=(1,190)\n                                        ) \n                       )],className='twelve columns'),\n    html.Div([\n    html.Div('Select any two countries',style={'color':'#343434','margin-bottom':'10px','font-weight':'bold','font-size':'18px'}), \n    dcc.Dropdown(id='cout1',options=[{'label':i,'value':i} for i in available_country],value='Singapore',style={'width':'50%','margin-bottom':'10px'}),\n    dcc.Dropdown(id='cout2',options=[{'label':i,'value':i}for i in available_country],value='United Kingdom',style={'width':'50%'}),\n    html.Div('Select a parameter to compare',style={'color':'#343434','margin-top':'10px','font-weight':'bold','font-size':'18px'}),\n    dcc.Dropdown(id='indi',options=[{'label': i,'value':i} for i in available_indicators],\n                value='Start-up procedures to register a business (number)',style={'width':'70%'})],className='nine columns') ,\n    html.Div([\n        html.Div([dcc.Graph('one_grap')],className='six columns'),\n        html.Div([dcc.Graph(\n            id='top_grap',\n             figure={\n                 'data':[{'x':top_10['CountryName'],'y':top_10['Value'],'type':'bar'}],\n                 'layout': \n                     dict(title=('Top 10 countries under Ease of doing business index'),\n                     xaxis={'title':'Countries'},\n                     yaxis={'title':'Ratings'}\n                            )\n                     }\n             )],className='six columns'),\n             ],className='row')\n])\n@app.callback(Output(component_id='one_grap',component_property='figure'),\n              [Input(component_id='cout1',component_property='value'),\n              Input('cout2',component_property='value'),\n              Input('indi','value')]\n              )\ndef to_pltng(cou1,cou2,ind1):\n    fir = buss[buss.CountryName == cou1]\n    sec = buss[buss.CountryName == cou2]\n    fir_ind = fir[fir.IndicatorName == ind1]\n    sec_ind = sec[sec.IndicatorName == ind1]\n    fir_dic = {'x':fir_ind.Year,'y':fir_ind.Value,'name':cou1}\n    sec_dic = {'x':sec_ind.Year,'y':sec_ind.Value,'name':cou2}\n    return {\n        'data':[fir_dic,sec_dic],\n        'layout': dict(title='Comparing two countries as per Indicator selection',\n            xaxis={'title':'Years'},\n            yaxis={'title':'Value as per Indicator selection'}\n        )\n    }\n\nif __name__=='__main__':\n    app.run_server(debug=True)","6985db17":"Below is a dashboard where a user can compare any two countries for ease of doing business based on the parameters\/Indicators","1e1a2c78":"Check for Null Values","485a3f52":"Comparing all the parameters for 2 nations which are in top 10 list of ease of doing business, considered the GBR ie Great Britian and Singapore(SGP) which are at the 6th and 1st position respectively","30abfce3":"![Dashboard.gif](attachment:Dashboard.gif)","f76ed321":"Selecting all the Indicator's starting with a indicator code \"IC\", since all the code starting with IC has observations which gives information related to new business kickoff","78fce7a1":"Below is the Folium world map depecting the color code based on the index for ease of doing business where 1 being the most friendly","4f61ebeb":"Checking for Ease of doing business in a country "}}