{"cell_type":{"24d74a37":"code","4111eec0":"code","fef82159":"code","74857df3":"code","df3e2ec7":"code","b0a50cd3":"code","75765ba8":"code","fa727a9c":"code","5187ce37":"code","911f7a9b":"code","a22268ae":"code","2e2c5a0b":"code","802d1cba":"code","b675baa9":"code","f79091e2":"code","c46647b6":"code","c2e66651":"code","36cf39d2":"markdown","e5356fbe":"markdown","b3f365bd":"markdown","052e34c0":"markdown","a3772549":"markdown","8fcd238c":"markdown","eed3ed5b":"markdown","0f60ebc1":"markdown"},"source":{"24d74a37":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\nimport matplotlib.pyplot as plt\nimport missingno as msno\nimport seaborn as sns","4111eec0":"data = pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv', encoding='utf=8')\ndata.shape","fef82159":"data.head(3)","74857df3":"set(data['neighbourhood_group'])","df3e2ec7":"set(data['room_type'])","b0a50cd3":"plt.figure(figsize=(14,8))\nplt.title(\"Price Distribution\")\nsns.distplot(data['price'])","75765ba8":"data['price'].describe(percentiles = [0.2*x for x in range(5)])","fa727a9c":"before = len(data)\ndata = data[data['price']<=500]\nafter = len(data)\nprint(\"With price ceiling $500, {0} values were omitted, leaving {1}\".format(before-after, after))","5187ce37":"plt.figure(figsize=(14,8))\nplt.title(\"Price Distribution - renewed\")\nsns.distplot(data['price'])","911f7a9b":"data['price'].describe(percentiles=[0.25*x for x in range(4)])","a22268ae":"data.columns","2e2c5a0b":"data.groupby('neighbourhood_group')['price'].mean()","802d1cba":"val = data.groupby('neighbourhood_group')['price'].mean()\nind = val.index\n\nplt.figure(figsize=(13,7))\nplt.bar(ind, val, color='khaki', edgecolor='k')\nplt.title(\"AVG price among neighborhoods\")\nplt.ylabel('price($)')","b675baa9":"manhattan = data[data['neighbourhood_group'] == 'Manhattan']\nmanhattan.sort_values(by='price', ascending=False).iloc[:5]","f79091e2":"manhattan.groupby('neighbourhood')['price'].mean().sort_values(ascending=False)[:10]","c46647b6":"manhattan.groupby('neighbourhood')['price'].mean().sort_values(ascending=True)[:10]","c2e66651":"from shapely.geometry import Point\nimport geopandas as gpd\nfrom geopandas import GeoDataFrame\n\ngeometry = [Point(xy) for xy in zip(manhattan['longitude'], manhattan['latitude'])]\ngdf = GeoDataFrame(manhattan, geometry=geometry)   \n\n#this is a simple map that goes with geopandas\nworld = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))\ngdf.plot(ax=world.plot(figsize=(14, 8)), marker='^', color='red', markersize=15)\nplt.xlim(manhattan.longitude.min()-5, manhattan.longitude.max()+5)\nplt.ylim(manhattan.latitude.min()-5, manhattan.latitude.max()+5)","36cf39d2":"We see that most values are located under $200, which is still a big value for one night in airbnb, and there is this outliar of 10000, which I believe should be a mistaken figure. We'll leave those out anyways.","e5356fbe":"Alright. We have some sense about their basic classifications. There is one column with relatively continuous numerical value, which is price. We'd better see its overall distribution.","b3f365bd":"Here we see a better picture. Most prices lie around $80~$100, so the graph is little skewed to the right. ","052e34c0":"Since I had my price ceiling at $500, 1044 rows were dropped, which I think is tolerable. We've still got over 45K rows anyways. Now it's time for another distplot.","a3772549":"Here goes our dataset. Before moving on, let's check some of the columns, say, neighbourhood_group, about what values they take.","8fcd238c":"Since in real estate everything is about location, I want to see a map that shows their geographical distributions. It's my first time using lat, long coordinates to plot geographical information, so I'll try numerous libraries available for free.","eed3ed5b":"We can see en enormously long tail. There's gotta be some outliars, which we don't want for now.","0f60ebc1":"Obviously, Manhattan turns out to be the most pricy place to spend a night. Let's see a little more."}}