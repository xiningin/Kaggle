{"cell_type":{"0fb6654f":"code","9bc443db":"code","5da176da":"code","32663c3c":"code","9a2daa93":"code","597658ce":"code","8c457992":"code","fabf0101":"code","50e4077b":"code","b7e475a9":"code","b25af06d":"code","97019407":"code","0049fa61":"code","64b47c33":"code","21b068ae":"markdown","2dee6dbd":"markdown","c2863277":"markdown","dd91dce5":"markdown","f5c4326e":"markdown"},"source":{"0fb6654f":"import pandas as pd\ndf_eleitorado = pd.read_csv('..\/input\/BR_eleitorado_2016_municipio.csv', delimiter=',')","9bc443db":"df_eleitorado.head(1)","5da176da":"l_regiao = [\n[\"Norte\",\"AM\"],\n[\"Norte\",\"RR\"],\n[\"Norte\",\"AP\"],    \n[\"Norte\",\"PA\"],\n[\"Norte\",\"TO\"],\n[\"Norte\",\"RO\"],\n[\"Norte\",\"AC\"],\n[\"Nordeste\",\"MA\"],\n[\"Nordeste\",\"PI\"],\n[\"Nordeste\",\"CE\"],\n[\"Nordeste\",\"RN\"],\n[\"Nordeste\",\"PE\"],\n[\"Nordeste\",\"PB\"],\n[\"Nordeste\",\"SE\"],\n[\"Nordeste\",\"AL\"],\n[\"Nordeste\",\"BA\"],\n[\"Centro-Oeste\",\"DF\"],\n[\"Centro-Oeste\",\"MT\"],\n[\"Centro-Oeste\",\"MS\"],\n[\"Centro-Oeste\",\"GO\"],\n[\"Sudeste\",\"SP\"],\n[\"Sudeste\",\"RJ\"],\n[\"Sudeste\",\"ES\"],\n[\"Sudeste\",\"MG\"],\n[\"Sul\",\"PR\"],\n[\"Sul\",\"RS\"],\n[\"Sul\",\"SC\"]]\ndf_regiao = pd.DataFrame(l_regiao, columns=[\"Regiao\", \"uf\"])\ndf_eleitorado = pd.merge(df_eleitorado, df_regiao, on='uf')\n","32663c3c":"#calculando percentual do total de eleitores em rela\u00e7\u00e3o ao estado em rela\u00e7\u00e3o d\np = pd.DataFrame( df_eleitorado.groupby(by=['uf'])['total_eleitores'].sum().reset_index().rename(columns={'index':'uf'}) )\np['uf_percentual'] = p['total_eleitores']\/ df_eleitorado.sum()['total_eleitores']*100\np.drop('total_eleitores',  axis=1, inplace=True)\ndf_eleitorado = pd.merge(df_eleitorado, p, on='uf')\n","9a2daa93":"#calculando percentual do total de eleitores em rela\u00e7\u00e3o ao estado em rela\u00e7\u00e3o d\np = pd.DataFrame( df_eleitorado.groupby(by=['uf'])['gen_feminino'].sum().reset_index().rename(columns={'index':'uf'}) )\np2 = pd.DataFrame( df_eleitorado.groupby(by=['uf'])['gen_masculino'].sum().reset_index().rename(columns={'index':'uf'}) )\np3 = pd.DataFrame( df_eleitorado.groupby(by=['uf'])['gen_nao_informado'].sum().reset_index().rename(columns={'index':'uf'}) )\np = pd.merge(p, p2, on='uf')\np = pd.merge(p, p3, on='uf')\np['percentual_gen_feminino_uf'] = p['gen_feminino']\/(p['gen_feminino']+p['gen_masculino']+p['gen_nao_informado'])*100\np['percentual_gen_masculino_uf'] = p['gen_masculino']\/(p['gen_feminino']+p['gen_masculino']+p['gen_nao_informado'])*100\np['percentual_gen_nao_informado_uf'] = p['gen_nao_informado']\/(p['gen_feminino']+p['gen_masculino']+p['gen_nao_informado'])*100\np.drop(['gen_feminino','gen_masculino','gen_nao_informado'],  axis=1, inplace=True)\ndf_eleitorado = pd.merge(df_eleitorado,p , on = 'uf')","597658ce":"resposta = [[\"Regiao\", \"Categorica Nominal\"],\n            [\"faixa_etaria\",\"Categorica Ordinal\"],\n            [\"total_eleitores\",\"Quantitativa Discreta\"],\n            [\"gen_feminino\",\"Quantitativa Discreta\"],\n            [\"gen_masculino\",\"Quantitativa Discreta\"],\n            [\"gen_nao_informado\",\"Quantitativa Discreta\"],\n            [\"uf_percentual\",\"Quantitativa Continua\"],\n            [\"percentual_gen_feminino_uf\",\"Quantitativa Continua\"]\n           ] #vari\u00e1veis relacionadas a tempo s\u00e3o cont\u00ednuas, mas podem ser discretas pois n\u00e3o h\u00e1 perdas -- (discretiza\u00e7\u00e3o)\nresposta = pd.DataFrame(resposta, columns=[\"Variavel\", \"Classifica\u00e7\u00e3o\"])\nresposta","8c457992":"df_eleitorado.groupby(by='Regiao').count()['cod_municipio_tse']\ndr = (df_eleitorado.groupby(by='Regiao').count()['cod_municipio_tse']).reset_index().rename(columns={'index':'Regiao', 'cod_municipio_tse' : 'Frequencia_absoluta'})\ndr2 = pd.DataFrame({'Regiao':['Total'],'Frequencia_absoluta':dr['Frequencia_absoluta'].sum()})\ndf_frequencia = pd.concat([dr, dr2], ignore_index=True,sort=True)\n\ndf_frequencia['Frequencia_relativa'] = round((df_frequencia['Frequencia_absoluta']\/float(df_frequencia[df_frequencia['Regiao'] == 'Total']['Frequencia_absoluta']))*100,2)\ndf_frequencia = df_frequencia[['Regiao','Frequencia_absoluta','Frequencia_relativa']]\ndf_frequencia","fabf0101":"#df_eleitorado.head(1)\ndf_faixas = df_eleitorado.melt( id_vars=['cod_municipio_tse','uf','nome_municipio','total_eleitores','gen_feminino','gen_masculino','gen_nao_informado','Regiao','percentual_gen_feminino_uf','percentual_gen_masculino_uf','percentual_gen_nao_informado_uf'\n], var_name='faixa_etaria', value_name='qtd_faixa')\ndf_faixas.groupby(by='faixa_etaria').sum()['qtd_faixa']\nd = (df_faixas.groupby(by='faixa_etaria').sum()['qtd_faixa']).reset_index().rename(columns={'index':'faixa_etaria', 'qtd_faixa' : 'Frequencia_absoluta'})\nd\n\nd2 = pd.DataFrame({'faixa_etaria':['Total'],'Frequencia_absoluta':d['Frequencia_absoluta'].sum()})\nd3 = pd.concat([d, d2], ignore_index=True,sort=True)\n\nd3['Frequencia_relativa'] = round((d3['Frequencia_absoluta']\/float(d3[d3['faixa_etaria'] == 'Total']['Frequencia_absoluta']))*100,2)\nd3\n","50e4077b":"import matplotlib as mpl\nimport matplotlib.pyplot as plt\nfrom matplotlib.backends.backend_agg import FigureCanvas\nfrom matplotlib.figure import Figure\n\n# definindo o tamanho da figura\nfig = Figure(figsize=(7,7))\n\n# definindo qual canvas utilizar \ncanvas = FigureCanvas(fig)","b7e475a9":"df_frequencia = (df_eleitorado.Regiao.value_counts()).reset_index().rename(columns={'index':'Categoria', 'Regiao' : 'Frequencia_absoluta'})\ndf_frequencia2 = pd.DataFrame({'Categoria':['Total'],'Frequencia_absoluta':df_frequencia['Frequencia_absoluta'].sum()})\ndf_frequencia = pd.concat([df_frequencia, df_frequencia2], ignore_index=True)\ndf_frequencia['Frequencia_relativa'] = (df_frequencia['Frequencia_absoluta']\/float(df_frequencia[df_frequencia['Categoria'] == 'Total']['Frequencia_absoluta']))*100\n\n\n#df_frequencia = (df_eleitorado.Regiao.value_counts()).reset_index().rename(columns={'index':'Categoria', 'Regiao' : 'Quantidade'})\nx, y = df_frequencia[df_frequencia['Categoria'] != 'Total']['Categoria'],df_frequencia[df_frequencia['Categoria'] != 'Total']['Frequencia_absoluta']\n\n\n#print(df_eleitorado.Regiao.value_counts())\ntotal = df_frequencia.groupby(by='Categoria').get_group('Total')['Frequencia_relativa']\nsudeste = df_frequencia.groupby(by='Categoria').get_group('Sudeste')['Frequencia_relativa']\nnorte = df_frequencia.groupby(by='Categoria').get_group('Norte')['Frequencia_relativa']\nnordeste = df_frequencia.groupby(by='Categoria').get_group('Nordeste')['Frequencia_relativa']\nsul = df_frequencia.groupby(by='Categoria').get_group('Sul')['Frequencia_relativa']\ncentro_oeste = df_frequencia.groupby(by='Categoria').get_group('Centro-Oeste')['Frequencia_relativa']\n\n\n\ngridsize = (3, 2) # 4 rows, 2 columns\nfig = plt.figure(figsize=(12, 12)) # this creates a figure without axes\nregioes =  plt.subplot2grid(gridsize, (0, 0))\np_sudeste =plt.subplot2grid(gridsize, (0, 1)) # 2nd argument = origin of individual box\np_sul = plt.subplot2grid(gridsize, (1, 0))\np_norte = plt.subplot2grid(gridsize, (1, 1))\np_nordeste = plt.subplot2grid(gridsize, (2, 0))\np_centro_oeste = plt.subplot2grid(gridsize, (2, 1))\n\n\nregioes.bar(x, y, color = 'b')\nregioes.set_title('Diferen\u00e7a entre quantidade de munic\u00edpios por Regi\u00e3o')\n#regioes.xticks(rotation='vertical')\n\n\n\n\n\nrotulos = [ str(round( (float(total) - float(sudeste) ),2)) + '%' , str(round(float(sudeste),2)) + '%' ]\nvalores = [round( (float(total) - float(sudeste) ),2), round(float(sudeste),2)]\ncores = ['Gainsboro','coral']\np_sudeste.pie(valores, labels = rotulos, colors = cores, shadow = True, explode=(0, 0.1), autopct='%1.1f%%')\np_sudeste.set_title('Percentual Sudeste')\np_sudeste.legend( ['Total','Sudeste'],loc=\"best\")\n\nrotulos = [ str(round( (float(total) - float(sul) ),2)) + '%' , str(round(float(sul),2)) + '%' ]\nvalores = [round( (float(total) - float(sul) ),2), round(float(sul),2)]\ncores = ['Gainsboro','coral']\np_sul.pie(valores, labels = rotulos, colors = cores, shadow = True,  explode=(0, 0.1), autopct='%1.1f%%')\np_sul.set_title('Percentual Sul')\np_sul.legend( ['Total','Sul'], loc=\"best\")\n\nrotulos =[ str(round( (float(total) - float(norte) ),2)) + '%' , str(round(float(norte),2)) + '%' ]\nvalores = [round( (float(total) - float(norte) ),2), round(float(norte),2)]\ncores = ['Gainsboro','coral']\np_norte.pie(valores, labels = rotulos, colors = cores, shadow = True)\np_norte.set_title('Percentual Norte')\np_norte.legend( ['Total','Norte'], loc=\"best\")\n\nrotulos =[str(round( (float(total) - float(nordeste) ),2)) + '%' , str(round(float(nordeste),2)) + '%' ]\nvalores = [round( (float(total) - float(nordeste) ),2), round(float(nordeste),2)]\ncores = ['Gainsboro','coral']\np_nordeste.pie(valores, labels = rotulos, colors = cores, shadow = True,  explode=(0, 0.1), autopct='%1.1f%%')\np_nordeste.set_title('Percentual Nordeste')\np_nordeste.legend( ['Total','Nordeste'], loc=\"best\")\n\nrotulos = [str(round( (float(total) - float(centro_oeste) ),2)) + '%' , str(round(float(centro_oeste),2)) + '%' ]\nvalores = [round( (float(total) - float(centro_oeste) ),2), round(float(centro_oeste),2)]\ncores = ['Gainsboro','coral']\np_centro_oeste.pie(valores, labels = rotulos, colors = cores, shadow = True,  explode=(0, 0.1), autopct='%1.1f%%')\np_centro_oeste.set_title('Percentual Centro-Oeste')\np_centro_oeste.legend(['Total','Centro-Oeste'], loc=\"best\")\n\n\n# super title of figure\nfig.suptitle('Quantidade de Munic\u00edpios por Regi\u00e3o ', y = 1.05, fontsize=15)\n\n# clean up whitespace padding\nfig.tight_layout()\n","b25af06d":"df_faixas = df_eleitorado.melt( id_vars=['cod_municipio_tse','uf','nome_municipio','total_eleitores','gen_feminino','gen_masculino','gen_nao_informado','Regiao','percentual_gen_feminino_uf','percentual_gen_masculino_uf','percentual_gen_nao_informado_uf'\n], var_name='faixa_etaria', value_name='qtd_faixa')\ndf_faixas.groupby(by='faixa_etaria').sum()['qtd_faixa']\nd = (df_faixas.groupby(by='faixa_etaria').sum()['qtd_faixa']).reset_index().rename(columns={'index':'faixa_etaria', 'qtd_faixa' : 'Frequencia_absoluta'})\n\n\nd2 = pd.DataFrame({'faixa_etaria':['Total'],'Frequencia_absoluta':d['Frequencia_absoluta'].sum()})\nd3 = pd.concat([d, d2], ignore_index=True,sort=True)\n\nd3['Frequencia_relativa'] = round((d3['Frequencia_absoluta']\/float(d3[d3['faixa_etaria'] == 'Total']['Frequencia_absoluta']))*100,2)\n\n\nx,y = d3[d3['faixa_etaria'] != 'Total']['faixa_etaria'], d3[d3['faixa_etaria'] != 'Total']['Frequencia_absoluta']\n\n#x, y = df_frequencia[df_frequencia['Categoria'] != 'Total']['Categoria'],df_frequencia[df_frequencia['Categoria'] != 'Total']['Frequencia_absoluta']\n\nplt.bar(x, y,  color = 'b')\nplt.xticks(rotation='vertical')\n\n\nfaixas = plt\nfaixas.title('Distribui\u00e7\u00e3o do eleitorado por faixas et\u00e1rias')\nfaixas.show()","97019407":"total = df_eleitorado.sum()['total_eleitores']\n\n#df_regiao = (pd.DataFrame(df_eleitorado.groupby(by=['Regiao','uf']).sum()['total_eleitores']).groupby(by=['Regiao']).sum()['total_eleitores'])\n#df_uf = (pd.DataFrame(df_eleitorado.groupby(by=['Regiao','uf']).sum()['total_eleitores']))\n\ntotal = df_eleitorado.sum()['total_eleitores']\nsudeste = df_eleitorado.groupby(by=['Regiao']).get_group('Sudeste')['total_eleitores'].sum()\n\nsp = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sudeste', 'SP')).sum()['total_eleitores']\nmg = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sudeste', 'MG')).sum()['total_eleitores']\nes = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sudeste', 'ES')).sum()['total_eleitores']\nrj = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sudeste', 'RJ')).sum()['total_eleitores']\n#homens_sobr = tit.groupby(by=['Sobreviveu','Sexo'])\n#print(homens_sobr.get_group(('Sim', 'Homem')).mean()['Idade'])\n\n\nnorte = df_eleitorado.groupby(by=['Regiao']).get_group('Norte')['total_eleitores'].sum()\n\nam = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'AM')).sum()['total_eleitores']\nrr = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'RR')).sum()['total_eleitores']\nap = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'AP')).sum()['total_eleitores']\npa = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'PA')).sum()['total_eleitores']\nto = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'TO')).sum()['total_eleitores']\nro = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'RO')).sum()['total_eleitores']\nac = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Norte', 'AC')).sum()['total_eleitores']\n\n\n\nnordeste = df_eleitorado.groupby(by=['Regiao']).get_group('Nordeste')['total_eleitores'].sum()\n\nma = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'MA')).sum()['total_eleitores']\npi = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'PI')).sum()['total_eleitores']\nce = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'CE')).sum()['total_eleitores']\nrn = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'RN')).sum()['total_eleitores']\npe = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'PE')).sum()['total_eleitores']\npb = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'PB')).sum()['total_eleitores']\nse = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'SE')).sum()['total_eleitores']\nal = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'AL')).sum()['total_eleitores']\nba = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Nordeste', 'BA')).sum()['total_eleitores']\n\n\nsul = df_eleitorado.groupby(by=['Regiao']).get_group('Sul')['total_eleitores'].sum()\n\npr = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sul', 'PR')).sum()['total_eleitores']\nrs = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sul', 'RS')).sum()['total_eleitores']\nsc = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Sul', 'SC')).sum()['total_eleitores']\n\n\ncentro_oeste = df_eleitorado.groupby(by=['Regiao']).get_group('Centro-Oeste')['total_eleitores'].sum()\n\n\nmt = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Centro-Oeste', 'MT')).sum()['total_eleitores']\nms = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Centro-Oeste', 'MS')).sum()['total_eleitores']\ngo = df_eleitorado.groupby(by=['Regiao','uf']).get_group(('Centro-Oeste', 'GO')).sum()['total_eleitores']\n\n\ngridsize = (5, 2) # 4 rows, 2 columns\nfig = plt.figure(figsize=(12, 12)) # this creates a figure without axes\n\np_eleitores_sudeste =plt.subplot2grid(gridsize, (0, 0)) # 2nd argument = origin of individual box\np_eleitores_sudeste_uf =plt.subplot2grid(gridsize, (0, 1))\n\np_eleitores_sul = plt.subplot2grid(gridsize, (1, 0))\np_eleitores_sul_uf = plt.subplot2grid(gridsize, (1, 1))\n\np_eleitores_norte = plt.subplot2grid(gridsize,( 2,0))\np_eleitores_norte_uf = plt.subplot2grid(gridsize,( 2,1))\n\np_eleitores_nordeste = plt.subplot2grid(gridsize, (3, 0))\np_eleitores_nordeste_uf = plt.subplot2grid(gridsize, (3, 1))\n\np_eleitores_centro_oeste = plt.subplot2grid(gridsize, (4, 0))\np_eleitores_centro_oeste_uf = plt.subplot2grid(gridsize, (4, 1))\n\nrotulos = ['Restante Brasil','Sudeste']\nvalores = [round( (float(total) - float(sudeste) ),2), round(float(sudeste),2)]\ncores = ['Gainsboro','coral']\np_eleitores_sudeste.pie(valores, labels = rotulos, colors = cores, shadow = True, explode=(0, 0.1), autopct='%1.1f%%')\np_eleitores_sudeste.set_title('Sudeste')\np_eleitores_sudeste.axis('equal')\np_eleitores_sudeste.legend( ['Restante Brasil','Sudeste'], loc=\"best\")\n\n\nrotulos = [round(float(sp)\/float(sudeste),2)*100 , round(float(rj)\/float(sudeste),2)*100, round(float(mg)\/float(sudeste)*100,2), round(float(es)\/float(sudeste)*100,2)]\nvalores = [ sp , rj, mg, es ]\n#cores = ['r','b','y','g']\ncores = ['b','g','r','c']\np_eleitores_sudeste_uf.pie(valores, labels = rotulos, colors = cores, shadow = True)\np_eleitores_sudeste_uf.set_title('Regi\u00e3o Sudeste')\np_eleitores_sudeste_uf.axis('equal')\np_eleitores_sudeste_uf.legend( ['SP','RJ','MG','ES'], loc=\"best\")\n\n\n#rotulos =[ str(round( (float(total) - float(norte) ),2)) + '%' , str(round(float(norte),2)) + '%' ]\nrotulos = ['Restante Brasil','Nordeste']\nvalores = [round( (float(total) - float(nordeste) ),2), round(float(nordeste),2)]\ncores = ['Gainsboro','coral']\np_eleitores_nordeste.pie(valores, labels = rotulos, colors = cores, shadow = True, explode=(0, 0.1), autopct='%1.1f%%')\np_eleitores_nordeste.set_title('Nordeste')\np_eleitores_nordeste.axis('equal')\np_eleitores_nordeste.legend( ['Restante Brasil','Nordeste'], loc=\"best\")\n\n\nrotulos = [round(float(ma)\/float(nordeste),2)*100 , round(float(pi)\/float(nordeste),2)*100, round(float(ce)\/float(nordeste)*100,2), \nround(float(rn)\/float(nordeste)*100,2),round(float(pe)\/float(nordeste),2)*100 , round(float(pb)\/float(nordeste),2)*100, \nround(float(se)\/float(nordeste)*100,2), round(float(al)\/float(nordeste)*100,2),round(float(ba)\/float(nordeste)*100,2)]\nvalores = [ma,pi,ce,rn,pe,pb,se,al,ba]\n#cores = ['r','b','y','g','r','b','y','g','r']\ncores = ['b','g','r','c','m','y','k','w','Gainsboro']\np_eleitores_nordeste_uf.pie(valores, labels = rotulos, colors = cores, shadow = True)\np_eleitores_nordeste_uf.set_title('Regi\u00e3o Nordeste')\np_eleitores_nordeste_uf.axis('equal')\np_eleitores_nordeste_uf.legend( ['MA','PI','CE','RN','PE','PB','SE','AL','BA'], loc=\"best\")\n\n\n\n\n#rotulos =[ str(round( (float(total) - float(norte) ),2)) + '%' , str(round(float(norte),2)) + '%' ]\nrotulos = ['Restante Brasil','Sul']\nvalores = [round( (float(total) - float(sul) ),2), round(float(sul),2)]\ncores = ['Gainsboro','coral']\np_eleitores_sul.pie(valores, labels = rotulos, colors = cores, shadow = True, explode=(0, 0.1), autopct='%1.1f%%')\np_eleitores_sul.set_title('Sul')\np_eleitores_sul.axis('equal')\np_eleitores_sul.legend( ['Restante Brasil','Sul'], loc=\"best\")\n\n\n\nrotulos = [round(float(pr)\/float(sul),2)*100 , round(float(rs)\/float(sul),2)*100, round(float(sc)\/float(sul)*100,2)]\nvalores = [ pr,rs,sc]\n#cores = ['r','b','y','g']\ncores = ['b','g','r','c']\np_eleitores_sul_uf.pie(valores, labels = rotulos, colors = cores, shadow = True)\np_eleitores_sul_uf.set_title('Regi\u00e3o Sul')\np_eleitores_sul_uf.axis('equal')\np_eleitores_sul_uf.legend( ['PR','RS','SC'], loc=\"best\")\n\n\n\n\n#rotulos =[ str(round( (float(total) - float(norte) ),2)) + '%' , str(round(float(norte),2)) + '%' ]\nrotulos = ['Restante Brasil','Norte']\nvalores = [round( (float(total) - float(norte) ),2), round(float(norte),2)]\ncores = ['Gainsboro','coral']\np_eleitores_norte.pie(valores, labels = rotulos, colors = cores, shadow = True, explode=(0, 0.1), autopct='%1.1f%%')\np_eleitores_norte.set_title('Regi\u00e3o Norte')\np_eleitores_norte.axis('equal')\np_eleitores_norte.legend( ['Restante Brasil','Norte'], loc=\"best\")\n\n\n\nrotulos = [round(float(am)\/float(norte),2)*100 , round(float(rr)\/float(norte),2)*100, round(float(ap)\/float(norte)*100,2), round(float(pa)\/float(norte)*100,2),round(float(to)\/float(norte),2)*100 , \nround(float(ro)\/float(norte),2)*100, round(float(ac)\/float(norte)*100,2)]\nvalores = [am,rr,ap,pa,to,ro,ac]\n#cores = ['r','b','y','g','r','b','g']\ncores = ['b','g','r','c','m','y','k']\np_eleitores_norte_uf.pie(valores, labels = rotulos, colors = cores, shadow = True)\np_eleitores_norte_uf.set_title('Regi\u00e3o Norte')\np_eleitores_norte_uf.axis('equal')\np_eleitores_norte_uf.legend( ['AM','RR','AP','PA','TO','RO','AC'], loc=\"best\")\n\n\n\n\n\n#rotulos =[ str(round( (float(total) - float(norte) ),2)) + '%' , str(round(float(norte),2)) + '%' ]\nrotulos = ['Restante Brasil','Centro-Oeste']\nvalores = [round( (float(total) - float(centro_oeste) ),2), round(float(centro_oeste),2)]\ncores = ['Gainsboro','coral']\np_eleitores_centro_oeste.pie(valores, labels = rotulos, colors = cores, shadow = True, explode=(0, 0.1), autopct='%1.1f%%')\np_eleitores_centro_oeste.set_title('Regi\u00e3o Centro-oeste')\np_eleitores_centro_oeste.axis('equal')\np_eleitores_centro_oeste.legend( ['Restante Brasil','Centro-oeste'], loc=\"best\")\n\n\nrotulos = [round(float(mt)\/float(centro_oeste),2)*100 , round(float(ms)\/float(centro_oeste),2)*100, round(float(go)\/float(centro_oeste)*100,2)]\nvalores = [ mt,ms,go]\n#cores = ['r','b','y']\ncores = ['b','g','r']\np_eleitores_centro_oeste_uf.pie(valores, labels = rotulos, colors = cores, shadow = True)\np_eleitores_centro_oeste_uf.set_title('Regia\u00f5 Centro-Oeste')\np_eleitores_centro_oeste_uf.axis('equal')\np_eleitores_centro_oeste_uf.legend( ['MT','MS','GO'], loc=\"best\")\n\n\n\n\n# super title of figure\nfig.suptitle('Percentual de eleitores por regi\u00e3o ', y = 1.05, fontsize=15)\n\n# clean up whitespace padding\nfig.tight_layout()\n","0049fa61":"#inspirado em http:\/\/emptypipes.org\/2013\/11\/09\/matplotlib-multicategory-barchart\/\nimport matplotlib.pyplot as plt\nimport matplotlib.cm as cm\nimport operator as o\n\nimport numpy as np\n\nd_sexo_f = pd.DataFrame( df_eleitorado.groupby(by=['Regiao'])['gen_feminino'].sum().reset_index().rename(columns={'index':'Regiao','gen_feminino':'Quantidade'}) )\nd_sexo_f['Genero'] = 'Feminino'\n\nd_sexo_m = pd.DataFrame( df_eleitorado.groupby(by=['Regiao'])['gen_masculino'].sum().reset_index().rename(columns={'index':'Regiao','gen_masculino':'Quantidade'}) )\nd_sexo_m['Genero'] = 'Masculino'\n\nd_sexo_i = pd.DataFrame( df_eleitorado.groupby(by=['Regiao'])['gen_nao_informado'].sum().reset_index().rename(columns={'index':'Regiao','gen_nao_informado':'Quantidade'}) )\nd_sexo_i['Genero'] = 'Indefinido'\n#p2 = pd.DataFrame( df_eleitorado.groupby(by=['uf'])['gen_masculino'].sum().reset_index().rename(columns={'index':'uf'}) )\n#p3 = pd.DataFrame( df_eleitorado.groupby(by=['uf'])['gen_nao_informado'].sum().reset_index().rename(columns={'index':'uf'}) )\n\nd_sexo = pd.concat([d_sexo_f, d_sexo_m,d_sexo_i], ignore_index=True)\nd_sexo = d_sexo[['Genero','Regiao','Quantidade']]\n\ndpoints = d_sexo.values\n#dpoints = np.array([['rosetta', '1mfq', 9.97],\n#           ['rosetta', '1gid', 27.31],\n#           ['rosetta', '1y26', 5.77],\n#           ['rnacomposer', '1mfq', 5.55],\n#           ['rnacomposer', '1gid', 37.74],\n#           ['rnacomposer', '1y26', 5.77],\n#           ['random', '1mfq', 10.32],\n#           ['random', '1gid', 31.46],\n#           ['random', '1y26', 18.16]])\n\nfig = plt.figure()\nax = fig.add_subplot(111)\n\ndef barplot(ax, dpoints):\n    '''\n    Create a barchart for data across different categories with\n    multiple conditions for each category.\n    \n    @param ax: The plotting axes from matplotlib.\n    @param dpoints: The data set as an (n, 3) numpy array\n    '''\n    \n    # Aggregate the conditions and the categories according to their\n    # mean values\n    conditions = [(c, np.mean(dpoints[dpoints[:,0] == c][:,2].astype(float))) \n                  for c in np.unique(dpoints[:,0])]\n    categories = [(c, np.mean(dpoints[dpoints[:,1] == c][:,2].astype(float))) \n                  for c in np.unique(dpoints[:,1])]\n    \n    # sort the conditions, categories and data so that the bars in\n    # the plot will be ordered by category and condition\n    conditions = [c[0] for c in sorted(conditions, key=o.itemgetter(1))]\n    categories = [c[0] for c in sorted(categories, key=o.itemgetter(1))]\n    \n    dpoints = np.array(sorted(dpoints, key=lambda x: categories.index(x[1])))\n\n    # the space between each set of bars\n    space = 0.3\n    n = len(conditions)\n    width = (1 - space) \/ (len(conditions))\n    \n    # Create a set of bars at each position\n    for i,cond in enumerate(conditions):\n        indeces = range(1, len(categories)+1)\n        vals = dpoints[dpoints[:,0] == cond][:,2].astype(np.float)\n        pos = [j - (1 - space) \/ 2. + i * width for j in indeces]\n        ax.bar(pos, vals, width=width, label=cond, \n               color=cm.Accent(float(i) \/ n))\n    \n    # Set the x-axis tick labels to be equal to the categories\n    ax.set_xticks(indeces)\n    ax.set_xticklabels(categories)\n    plt.setp(plt.xticks()[1], rotation=90)\n    \n    # Add the axis labels\n    ax.set_ylabel(\"Eleitores\")\n \n    plt.title('Agrupamento de genero por regi\u00f5es do Brasil')\n    \n    # Add a legend\n    handles, labels = ax.get_legend_handles_labels()\n    ax.legend(handles[::-1], labels[::-1], loc='upper left')\n        \nbarplot(ax, dpoints)\n#savefig('barchart_3.png')\nplt.show()","64b47c33":"df = pd.read_csv('..\/input\/anv.csv', delimiter=',')\ndf.head(1)","21b068ae":"# Especializa\u00e7\u00e3o em Ci\u00eancia de Dados - Turma 2018.1 - Facens\n## Aula1 | Exerc\u00edcio 1 (valendo nota)\n\n* **Data de entrega:** 06\/nov\/2018 07:59\n* **Professor:**  Matheus Mota\n* **Aluno:** Jader Airton Bezerra Lima\n* **RA:** 183133","2dee6dbd":"# Dicas\n\n- Exemplo de acesso aos CSVs dispon\u00edveis no dataset\n> df = pd.read_csv('..\/input\/anv.csv', delimiter=',')","c2863277":"## Quest\u00e3o 1\n**Enunciado:**  Este notebook est\u00e1 associado ao *Kaggle Dataset* chamado \"Aula1 | Exerc\u00edcio1\". Este *Kaggle Dataset* possui dois arquivos em formato CSV (anv.csv e BR_eleitorado_2016_municipio ). Escolha um dos datasets dispon\u00edveis e j\u00e1 conhecidos, a seu crit\u00e9rio. Uma vez definido o csv, escolha no m\u00ednimo 7 e no m\u00e1ximo 12 vari\u00e1veis (colunas) que voc\u00ea avalia como sendo relevantes. Para cada uma das suas vari\u00e1veis escolhidas, forne\u00e7a:\n\n\n### Quest\u00e3o 1 - Item A - Classifica\u00e7\u00e3o das vari\u00e1veis\n\nClassifique todas as vari\u00e1veis escolhidas, e construa um dataframe com sua resposta.\nExemplo:","dd91dce5":"### Quest\u00e3o 1 - Item B - Tabela de frequ\u00eancia\n\nConstrua uma tabela de frequ\u00eancia para cada uma das **vari\u00e1veis qualitativas** que voc\u00ea escolheu (caso n\u00e3o tenha escolhido nenhuma, deixe esta quest\u00e3o em branco). Uma dica: a fun\u00e7\u00e3o *value_counts()* do Pandas pode ser muito \u00fatil. =)\n","f5c4326e":"### Quest\u00e3o 1 - Item C - Representa\u00e7\u00e3o Gr\u00e1fica\nPara cada uma das vari\u00e1veis, produza um ou mais gr\u00e1ficos, usando matplotlib, que descreva seu comportamento \/ caracteristica. Lembre-se que estes gr\u00e1ficos precisam ser compat\u00edveis com a classifica\u00e7\u00e3o da vari\u00e1vel. "}}