{"cell_type":{"2dd17c35":"code","6ecbeaf8":"code","658c32c0":"code","2055d95d":"code","111672ef":"code","ff1855b7":"code","3b0dfe67":"code","c66c7f32":"code","ae5db787":"code","9e598497":"code","7d37342f":"code","649602db":"code","3ff75067":"code","de55d4cc":"code","e4b4798e":"code","d855f118":"code","f597f3c1":"code","dde8bb08":"code","08d8ea70":"code","1c682e13":"code","bc1659ca":"code","98c933fd":"code","ea95e227":"code","f45ffaef":"code","69607e0b":"code","458a4bd6":"code","a5cfdf0c":"code","b54e5176":"code","00f96ee6":"code","85e2cb53":"code","b1fbb705":"code","8fe3e180":"code","baf66bbb":"code","473d9949":"code","0e28d107":"code","3e5a38e3":"code","ac379f1b":"code","b1dc9730":"code","61dfd294":"code","6b72c06b":"code","810e5ab0":"code","ac82cca6":"code","9a61fb92":"code","3fb8da7b":"code","d045c912":"code","606140b5":"code","dd97585c":"code","95e91227":"code","27dd232c":"code","d325842f":"code","1dcaccb1":"code","b74af5a3":"code","4ef9e064":"code","70fd87a1":"code","ed4d6a99":"code","6b07706d":"code","9a4bd84c":"code","9905c4d1":"code","bd606387":"code","758c56c2":"code","9c256e00":"code","da1bd7b7":"code","d605c316":"code","a63086bc":"code","e4575363":"code","bb5dd5fd":"code","74c323bc":"code","005db38f":"code","2ae5cd5a":"code","0829e79a":"code","bb891df4":"code","f88276e3":"code","8da9578c":"code","e0be41f2":"code","c77bf888":"code","6dea30bf":"code","7c6acc43":"code","976e0402":"code","6351cbef":"code","b9be1105":"code","169f6029":"code","7f374923":"markdown","333eec50":"markdown","05964134":"markdown","fcf3aace":"markdown","30191224":"markdown","a6eb2989":"markdown","8bf6c150":"markdown","0159fab1":"markdown","533fea03":"markdown","d88d55c1":"markdown","2ed1db0a":"markdown","89d887f1":"markdown","14758014":"markdown","09854ef9":"markdown","434458a2":"markdown","4cd11770":"markdown","28a6a0b1":"markdown","9d636201":"markdown","7240773f":"markdown","20159955":"markdown","64085e1d":"markdown","b35c4b35":"markdown","14eb3cd7":"markdown","46ed3f5d":"markdown","ccbccc4a":"markdown","d6c7eb47":"markdown","d9b38b2b":"markdown","6db0f674":"markdown","08ec3693":"markdown","5a23ab9f":"markdown","9472baa2":"markdown","582260f2":"markdown","f7d511e4":"markdown","64a6105b":"markdown","e501fda3":"markdown","e7c9783e":"markdown","b047dda3":"markdown","92f8d94f":"markdown","2f2c7349":"markdown","f30634fb":"markdown","3c64cd66":"markdown"},"source":{"2dd17c35":"import platform\nprint(f\"Python version : {platform.python_version()}\")","6ecbeaf8":"import os\nimport sys\n\nif not sys.warnoptions:\n    import warnings\n    warnings.simplefilter(\"ignore\")\n\nimport pandas as pd\nimport numpy as np\nfrom typing import Tuple, Union\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport itertools\nimport scipy\nfrom sklearn.preprocessing import LabelEncoder,StandardScaler","658c32c0":"sns_colors = [\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\", \"#2ecc71\"]\nsns_palette = sns.color_palette(sns_colors)\nsns.set_style(\"darkgrid\")\ncm = sns.light_palette(\"green\", as_cmap=True)\n\nsns.palplot(sns_palette)\nsns.set_palette(sns_palette)","2055d95d":"#Settings display pandas\npd.set_option('display.max_rows', 10000)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)","111672ef":"#Matrice de corr\u00e9lation Pearson\ndef corr_matrix(df: pd.DataFrame):\n    plt.figure(figsize=(10,10))\n    sns.heatmap(df.corr(),\n                cmap=plt.cm.RdBu,\n                vmax=1.0,\n                linewidths=0.1,\n                linecolor='white',\n                square=True,\n                annot=True\n                )","ff1855b7":"#Read data\ndata_orphee = pd.read_csv('..\/input\/applicants-for-a-gold-digger-position\/data.csv')\ndata_orphee.head(10)","3b0dfe67":"data_orphee.shape","c66c7f32":"data_orphee.info()","ae5db787":"data_orphee.isnull().sum()","9e598497":"#Colonnes \u00e0 exclure Unnamed: 0 et index\ndata_orphee.describe(include='all')","7d37342f":"def preprocess(df):\n    '''\n        Phase de pre-processing : suppression, conversion de typologie de donn\u00e9es ...\n    '''\n    col_to_drop = ['Unnamed: 0']\n    df.drop(col_to_drop,axis=1,inplace=True)\n    df['exp'] = pd.to_numeric(df['exp'],downcast='integer',errors='coerce')\n    df['note'] = pd.to_numeric(df['note'],downcast='integer',errors='coerce')\n    df['embauche'] = df['embauche'].astype('object')\n    \n    \n    return df","649602db":"#Preprocessing des donn\u00e9es\ndata_preprocess = preprocess(data_orphee)","3ff75067":"def display_countplot(df: pd.DataFrame,col_x: str,titre: str,hue: Union[None,str]=None):\n    '''\n        Affichage du graphe permettant de d\u00e9nombrer la parts de candidats de chaque cat\u00e9gorie d'une variable cat\u00e9gorielle\n    '''\n    temp = df.copy()\n    nb_rows = temp.shape[0]\n    \n    if col_x=='embauche' or hue=='embauche':\n        temp['embauche'] = np.where(temp['embauche']==0,'non','oui')\n    \n    fig = plt.figure(figsize=(11,6))\n    \n    # plot grouped bar chart\n    if hue is None:\n        splot = sns.countplot(temp[col_x],palette=sns_palette)\n    else:\n        splot = sns.countplot(temp[col_x],hue=temp[hue],palette=sns_palette)\n    splot.set_title(titre,fontsize=20)\n\n    #Affichage des proportions au dessus des barplots\n    for p in splot.patches:\n        splot.annotate(format((p.get_height()\/nb_rows), '.4f'),\n                       (p.get_x()+ p.get_width()\/ 2., p.get_height()),\n                       ha = 'center',\n                       va = 'center',\n                       xytext = (0, 7),\n                       textcoords = 'offset points')","de55d4cc":"display_countplot(data_preprocess,'embauche',\"Proportion d'embauches parmis les 20k candidatures\")","e4b4798e":"def selectKindFeatures(df: pd.DataFrame,\n                       kind: Union[None,str]='number')-> Union[str,pd.DataFrame]:\n    '''\n        Permet de s\u00e9lectionner un type de donn\u00e9es \u00e0 partir d'un dataframe\n    '''\n    if len(df.select_dtypes(include=kind).columns) == 0:\n        return f\"Le dataframe ne contient pas de variables {kind}\"\n    return df.select_dtypes(include=kind)","d855f118":"num_df = selectKindFeatures(data_preprocess)","f597f3c1":"def display_distribution(df: pd.DataFrame,\n                         numerical_cols: list):\n    \n    '''\n        Affichage de la distribution des variables num\u00e9riques\n    '''\n\n    plt.figure(figsize=(20,8))\n    i = 0\n    for column_ in numerical_cols:\n        i = i+ 1\n        plt.subplot(2, 4, i)\n        sns.distplot(df[column_], label='Data', hist=False)\n        plt.legend()\n        plt.xlabel(numerical_cols[i-1], fontsize=12)","dde8bb08":"num_cols = list(num_df.columns)\ndisplay_distribution(num_df,num_cols)","08d8ea70":"def display_boxplot(df: pd.DataFrame,\n                    numerical_cols: list):\n    \n    '''\n        Affichage des boxplot des variables num\u00e9riques\n    '''\n    plt.figure(figsize=(20,8))\n    i = 0\n    for columns_ in numerical_cols:\n        i = i+1\n        plt.subplot(2, 4, i)\n        box = sns.boxplot(x=df[columns_], data=df, palette=sns_palette)\n        #box.set_title(str(columns_),fontsize=15)","1c682e13":"display_boxplot(num_df,num_cols)","bc1659ca":"def pair_plot(df: pd.DataFrame,\n              numerical_cols: list,\n              target: Union[None,str]=None):\n    '''\n        Affichage des corr\u00e9lations deux \u00e0 deux des variables num\u00e9riques diff\u00e9renci\u00e9 par la variable embauche\n    '''\n    plt.figure(figsize=(10,10))\n    if target is not None:\n        numerical_cols.append(target)\n        sns.pairplot(df[numerical_cols],height = 2, hue=target,palette=sns_palette)\n        numerical_cols.remove(target)\n    else:\n        sns.pairplot(df[numerical_cols],height = 2,palette=sns_palette)","98c933fd":"pair_plot(data_preprocess,num_cols,target='embauche')","ea95e227":"sns.jointplot(\"note\",\"salaire\",data=num_df,kind='reg')","f45ffaef":"def extract_features_from_dates(df: pd.DataFrame):\n    '''\n        Extraction du jour, mois et ann\u00e9e de la date\n    '''\n    df['jour']=(df['date'].apply(lambda x: x.day)).astype('object')\n    df['mois']=(df['date'].apply(lambda x: x.month)).astype('object')\n    df['annee']=(df['date'].apply(lambda x: x.year)).astype('object')\n    \n    return df\n\ndef transfo(df: pd.DataFrame):\n    '''\n        Toute transformation de donn\u00e9es ou ajouts de features \n    '''\n    df['date'] = pd.to_datetime(df['date'])\n    df = extract_features_from_dates(df)\n    niveau_diplome = {'bac':0,'licence':1,'master':2,'doctorat':4}\n    df['niveau_diplome'] = df['diplome'].map(niveau_diplome)\n    \n    return df","69607e0b":"#Application de la fonction transfo qui a pour but de rajouter de la feature aux donn\u00e9es existantes\ndata_transfo = transfo(data_preprocess)","458a4bd6":"data_transfo.shape","a5cfdf0c":"#Liste des conditions ordonn\u00e9es en fonction du listing fait ci-dessus\nconditions = [(data_transfo.exp > data_transfo.age),\n              (np.logical_or(data_transfo.note < 0,data_transfo.note > 100)),\n              (data_transfo.exp < 0),\n             (np.logical_and(data_transfo.niveau_diplome >=0 , data_transfo.age <=16))]","b54e5176":"#Boucle permettant d'afficher le nombre de candidats concern\u00e9s par chacune des conditions\n#Ainsi que le nombre d'embauch\u00e9s parmis eux\ni = 0\nfor cond in conditions:\n    i = i+1\n    index_to_delete = data_transfo[cond].index\n    nb_pers = len(data_transfo[cond])\n    try:\n        nb_embauche = data_transfo[cond].embauche.value_counts()[1]\n        print(f\"{nb_pers} candidats sont concern\u00e9s par la condition n\u00b0{i} dont {nb_embauche} embauch\u00e9s\")\n    except:\n        print(f\"{nb_pers} candidats sont concern\u00e9s par la condition n\u00b0{i} dont 0 embauch\u00e9s\")\n    # Suppression des candidats respectant ces conditions\n    data_transfo.drop(index_to_delete,axis=0,inplace=True)\ndata_transfo.drop(['niveau_diplome'],axis=1,inplace=True)","00f96ee6":"data_transfo.shape","85e2cb53":"def missingValues(df: pd.DataFrame):\n    null_df = pd.DataFrame((df.isnull().sum().sort_values(ascending = False)),columns=['null_values'])\n    null_df = null_df[null_df.null_values>0]\n    plt.figure(figsize=(10,5))\n    bar = sns.barplot(null_df.index,null_df.null_values,palette=sns_palette)\n    bar.set_title(\"Nombre de valeurs manquantes par colonnes\",fontsize=16)\n    \n    return list(null_df.index)","b1fbb705":"nulls_cols = missingValues(data_transfo)","8fe3e180":"import missingno as msno\nmissingdata_df = data_transfo.columns[data_transfo.isnull().any()].tolist()","baf66bbb":"msno.heatmap(data_transfo[missingdata_df], figsize=(10,5))","473d9949":"def analyse_missing_data(df: pd.DataFrame,\n                         null_cols: list,\n                         target: str):\n    for col in null_cols:\n        if df[df[col].isnull()][target].value_counts()[0] == 0 or df[df[col].isnull()][target].value_counts()[1] == 0:\n            print(f\"Les valeurs manquantes de la colonne {col} ont peut-\u00eatre un lien avec la colonne {target}\")\n        else:\n            print(f\"Les valeurs manquantes de la colonne {col} n'influent pas sur la variable cible : {target}\")","0e28d107":"# Nous venons de v\u00e9rifier qu'aucune valeurs manquantes n'explique la variable cible\nanalyse_missing_data(data_preprocess,null_cols=nulls_cols,target='embauche')","3e5a38e3":"data_transfo = data_transfo.dropna(axis=0)","ac379f1b":"data_transfo.shape","b1dc9730":"def compute_IQR_find_outliers(df: pd.DataFrame,cols: list):\n    '''\n        Calcul de l'interval interquartile et suppression des valeurs extreme\n    '''\n    Q1 = df[cols].quantile(0.25)\n    Q3 = df[cols].quantile(0.75)\n    IQR = Q3 - Q1\n    IQR_min = Q1 - 1.5 * IQR\n    IQR_max = Q3 + 1.5 * IQR\n    \n    df_out = df[~((df[cols] < IQR_min) | (df[cols] > IQR_max)).any(axis=1)]\n    \n    return df_out","61dfd294":"data = compute_IQR_find_outliers(data_transfo,num_cols)","6b72c06b":"# 291 valeurs \u00e9taient des valeurs extr\u00eames \ndata.shape","810e5ab0":"#Les boites \u00e0 moustaches sont plus \"propres\" c'est \u00e0 dire qu'elles n'ont plus de valeurs extr\u00eames\n# d'autant plus que leurs asym\u00e9tries n'a visuellement pas chang\u00e9.\ndisplay_boxplot(data,num_cols)","ac82cca6":"# Afin d'y voir plus clair dans nos graphes, je partage en trois quantiles les variables note et salaire qui poss\u00e8de de nombreuses valeurs uniques\ndata['note_cut']=pd.qcut(data['note'],q=3,labels=['Low','Mid','High'])\ndata['salaire_cut']=pd.qcut(data['salaire'],q=3,labels=['Low','Mid','High'])","9a61fb92":"# Description des groupes note\ndata.groupby('note_cut')['note'].describe()","3fb8da7b":"# Description des groupes salaire\ndata.groupby('salaire_cut')['salaire'].describe()","d045c912":"def display_boxplot_differenciate(df: pd.DataFrame,\n                    numerical_cols: list,\n                    target: str):\n    temp = df.copy()\n    plt.figure(figsize=(18,6))\n    i = 0\n    if target=='embauche':\n        temp['embauche'] = np.where(temp['embauche']==0,'non','oui')\n    for columns_ in numerical_cols:\n        i = i+1\n        plt.subplot(1, 4, i)\n        box = sns.boxplot(x=temp[target], y=temp[columns_], data=temp, palette = sns_palette)\n        box.set_title(f\"{columns_} vs {target}\",fontsize=15)","606140b5":"display_boxplot_differenciate(data,num_cols,\"embauche\")","dd97585c":"def display_barplot_differenciate(df: pd.DataFrame,\n                    numerical_cols: list,\n                    target: str):\n    temp = df.copy()\n    plt.figure(figsize=(23,8))\n    i = 0\n    temp.embauche  = temp.embauche.astype(\"int\")\n    for columns_ in numerical_cols:\n        i = i+1\n        if (\"age\") in numerical_cols:\n            plt.subplot(1, 1, i)\n        else:\n            plt.subplot(2, 3, i)\n        df_grouped = temp.groupby(columns_)[target].mean().reset_index()\n        df_grouped = df_grouped[df_grouped[target]>0]\n        bar = sns.barplot(x=df_grouped[columns_], y=df_grouped[target], data=df_grouped, palette = sns_palette)\n        bar.set_title(f\"{columns_} vs {target}\",fontsize=15)","95e91227":"cols = [\"salaire_cut\",\"note_cut\",\"exp\"]\ndisplay_barplot_differenciate(data,numerical_cols=cols,target=\"embauche\")","27dd232c":"cols = [\"age\"]\ndisplay_barplot_differenciate(data,cols,\"embauche\")","d325842f":"df_cat = selectKindFeatures(data,kind='object')","1dcaccb1":"df_cat.head()","b74af5a3":"def cramersv_corr(x: pd.Series, y: pd.Series):\n    '''\n        Calcule de la corr\u00e9lation de cramers V entre deux variables cat\u00e9gorielles\n    '''\n    confusion_matrix = pd.crosstab(x,y)\n    chi2 = scipy.stats.chi2_contingency(confusion_matrix)[0]\n    n = confusion_matrix.sum().sum()\n    phi2 = chi2\/n\n    r,k = confusion_matrix.shape\n    phi2corr = max(0, phi2-((k-1)*(r-1))\/(n-1))\n    rcorr = r-((r-1)**2)\/(n-1)\n    kcorr = k-((k-1)**2)\/(n-1)\n    return np.sqrt(phi2corr\/min((kcorr-1),(rcorr-1)))\n\ndef cramer_matrix(categoricals: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"\n        Fonction permettant de construire une matrice \u00e0 partir de du calcul des coefs de correlation de cramers V\n    \"\"\"\n    categ_col_name = categoricals.columns\n    n_var = len(categ_col_name)\n    correlation_matrix = pd.DataFrame(np.ones((n_var, n_var)),\n                                      index=categ_col_name,\n                                      columns=categ_col_name)\n    for name1, name2 in itertools.combinations(categ_col_name, 2):\n        if name1 == name2:\n            cramer_coef = 1\n        else:\n            cramer_coef = cramersv_corr(categoricals[name1],\n                                                 categoricals[name2])\n        correlation_matrix.loc[name1, name2] = cramer_coef\n        correlation_matrix.loc[name2, name1] = cramer_coef\n    return correlation_matrix","4ef9e064":"coor_mat = cramer_matrix(df_cat)\ncm = sns.light_palette(\"green\", as_cmap=True)\ncoor_mat.style.background_gradient(cmap=cm)","70fd87a1":"display_countplot(df_cat,'diplome',\"Diplome vs Disponibilit\u00e9\",hue='dispo')","ed4d6a99":"display_countplot(df_cat,'specialite',\"Specialit\u00e9 vs Disponibilit\u00e9\")","6b07706d":"display_countplot(df_cat,'annee',\"Ann\u00e9e vs Embauche\",hue='embauche')","9a4bd84c":"display_countplot(df_cat,'diplome',\"Dipl\u00f4me vs Cheveux\",hue='cheveux')","9905c4d1":"display_countplot(data_preprocess,'sexe',\"Proportion d'hommes et de femmes parmi les candidats\")","bd606387":"display_countplot(data_preprocess,'specialite',\"Proportion par specialit\u00e9 des candidats\")","758c56c2":"display_countplot(data_preprocess,'specialite',\"Specialite vs Sexe\",hue=\"sexe\")","9c256e00":"cramersv_corr(df_cat['specialite'],df_cat['sexe'])","da1bd7b7":"ct = pd.crosstab(df_cat['sexe'],df_cat['specialite'])\nct","d605c316":"chi2,p,dof,expected = scipy.stats.chi2_contingency(ct)","a63086bc":"print(f\"p-value: {p} inf\u00e9rieure au seuil de significativit\u00e9 fix\u00e9 \u00e0 0.05\")","e4575363":"plt.figure(figsize=(15,9))\nbox = sns.boxplot(\"cheveux\",\"salaire\",data=data,palette=sns_palette)\nbox.set_title('Cheveux vs salaire',fontsize=20)","bb5dd5fd":"data.groupby(\"cheveux\")[\"salaire\"].agg([np.mean, np.std, np.median, np.min, np.max])","74c323bc":"plt.figure(figsize=(15,9))\nsns.distplot( data.salaire[data.cheveux == \"brun\"], color=\"skyblue\", label=\"Brun\")\nsns.distplot( data.salaire[data.cheveux == \"blond\"] , color=\"coral\", label=\"Blond\")\nsns.distplot( data.salaire[data.cheveux == \"roux\"] , color=\"yellow\", label=\"Roux\")\nsns.distplot( data.salaire[data.cheveux == \"chatain\"] , color=\"olivedrab\", label=\"Chatain\")\nplt.legend()","005db38f":"def kendalltau_corr(x, y):\n    x_arr=np.array(pd.DataFrame(x))\n    y_arr=np.array(pd.DataFrame(y))\n    corr,_=scipy.stats.kendalltau(x_arr,y_arr)\n    return corr","2ae5cd5a":"kendalltau_corr(data[\"cheveux\"],data[\"salaire\"])","0829e79a":"plt.figure(figsize=(15,9))\nbox = sns.countplot(\"exp\",data=data,palette=sns_palette)\nbox.set_title('Exp\u00e9rience',fontsize=20)","bb891df4":"plt.figure(figsize=(15,9))\nbox = sns.boxplot(\"exp\",\"note\",data=data,palette=sns_palette)\nbox.set_title('Exp\u00e9rience vs note',fontsize=20)","f88276e3":"data.groupby(\"exp\")[\"note\"].agg([np.mean, np.std, np.median, np.min, np.max])","8da9578c":"kendalltau_corr(data[\"exp\"],data[\"note\"])","e0be41f2":"cols_to_delete = ['date','jour','note_cut','salaire_cut','mois','annee']\ndf_final = data.drop(cols_to_delete,axis=1)","c77bf888":"df_final.head()","6dea30bf":"cols = [\"cheveux\",\"sexe\",\"specialite\",\"dispo\",\"diplome\"]\nle = LabelEncoder()\ncols_to_dummies = list()\nfor col in cols:\n    if len(set(df_final[col]))>2:\n        cols_to_dummies.append(col)\n    else:\n        df_final[col] = le.fit_transform(df_final[col])","7c6acc43":"df_final = pd.get_dummies(data=df_final,columns=cols_to_dummies)","976e0402":"cols_to_scale = [\"age\",\"exp\",\"salaire\",\"note\"]\nscaler = StandardScaler()\ndf_final[cols_to_scale] = scaler.fit_transform(df_final[cols_to_scale])","6351cbef":"df_final.head()","b9be1105":"temp = df_final.copy()\ntemp.embauche = temp.embauche.astype(\"int\")\nplt.figure(figsize=(10,10))\ntc = temp.corr()\ncm = sns.light_palette(\"green\", as_cmap=True)\ntc.style.background_gradient(cmap=cm)","169f6029":"df_final.to_csv('\/kaggle\/working\/data_prepro.csv', encoding='utf-8',index=False)","7f374923":"## I. Statistiques descriptives","333eec50":"#### Chargement des librairies","05964134":"#### Seaborn charte graphique","fcf3aace":"Analysons les distributions : \n- Elles ont toute l'air d'\u00eatre sans asym\u00e9trie prononc\u00e9e ce qui est assez rare pour ce type de variables continues.\n- Cependant en regardant les bo\u00eetes \u00e0 moustaches on s'aper\u00e7oit qu'il y a de nombreuses valeurs statistiquement consid\u00e9r\u00e9es comme des valeurs extr\u00eames donc aberrantes par rapport \u00e0 la distribution de chacune de nos variables. \n- exemple : deux candidats ou plus ont une exp\u00e9rience inf\u00e9rieure \u00e0 0. Il en est de m\u00eame pour l\u2019\u00e2ge. Ces valeurs seront \u00e0 supprimer car elles risqueraient de biaiser l'apprentissage ainsi que les r\u00e9sultats du mod\u00e8le","30191224":"La majorit\u00e9 des candidats au poste de chercheur d'or sont des hommes","a6eb2989":"Jeu de donn\u00e9es comportant 20 000 candidatures entre le 1er Janvier 2010 et le 31 d\u00e9cembre 2014.","8bf6c150":"##### Y a t-il une corr\u00e9lation entre les valeurs manquantes et la variable cible ? <\/br>\nPour y r\u00e9pondre nous allons voir si parmi les lignes pr\u00e9sentant des valeurs manquantes, il y a un pattern qui permet de savoir si un candidat est embauch\u00e9 ou non. <\/br>\nNous v\u00e9rifions cela avec une r\u00e8gle simpliste : V\u00e9rifier la pr\u00e9sence unique de candidats embauch\u00e9s ou non d\u00e8s lors qu'une variable contenant des valeurs manquantes apparait","0159fab1":"le coefficient de cramer montre une forte relation entre la specialit\u00e9 et le sexe","533fea03":"#### Nous allons maintenant essay\u00e9 de voir si nos variables num\u00e9riques permettent de diff\u00e9rencier un candidat embauch\u00e9 d'un autre non embauch\u00e9 <\/br>","d88d55c1":"Plusieurs m\u00e9thodes peuvent \u00eatre utilis\u00e9es afin de rep\u00e9rer des valeurs aberrantes. Le contexte n'\u00e9tant pas critique, nous allons faire au plus simple, c\u2019est \u00e0 dire supprimer ces valeurs en nous aidant des quantiles. <\/br>\nL'id\u00e9e ici est de calculer l'intervalle interquartile de chacune des variables num\u00e9riques et de supprimer chaque point qui serait en dessous de ce que nous avons nomm\u00e9 IQR_min et les valeurs sup\u00e9rieur \u00e0 IQR_max","2ed1db0a":"#### Int\u00e9ressons nous aux valeurs manquantes","89d887f1":"La specialit\u00e9 la plus repr\u00e9sent\u00e9e parmi les candidats est la g\u00e9ologie","14758014":"Le tau de kendall nous montre qu'il n'y a pas de lien statistiquement significatif entre l'exp\u00e9rience et la note. ","09854ef9":"A ce stade nous pouvons \u00e9mettre l'hypoth\u00e8se que les variables qui pourraient avoir une influence sur les pr\u00e9dictions de la variable cible sont : \n   - La sp\u00e9cialit\u00e9\n   - Le diplome\n   - Le salaire","434458a2":"Les specialit\u00e9s g\u00e9ologie et forage sont le plus repr\u00e9sent\u00e9es par des hommes tandis que d\u00e9tective et archeologie par des femmes ","4cd11770":"Premi\u00e8res remarques\n- date : colonne de type object \u00e0 convertir en date et possibilit\u00e9 d'extraire les jours, mois et ann\u00e9es de celle-ci\n- cheveux : 4 types de cheveux, ch\u00e2tain \u00e9tant le plus fr\u00e9quent\n- age : La moyenne d'\u00e2ge des candidats au poste de chercheur d'or est de 35 ans. L\u2019\u00e2ge minimum d'un des candidats est de \"-3 ans\" ce qui constitue une valeur aberrante, \u00e0 voir par la suite.\n- exp : L'exp\u00e9rience moyenne est de 9 ans. exp min est \u00e9gale \u00e0 -2, \u00e0 approfondir. A convertir en int\n- salaire : Le salaire moyen est d'environ 35K\n- sexe : Pr\u00e9sence masculine majoritaire \n- dipl\u00f4me : 4 types de dipl\u00f4me, les candidats ont majoritairement un master\n- sp\u00e9cialit\u00e9 : 4 types de sp\u00e9cialit\u00e9s, la majorit\u00e9 est sp\u00e9cialis\u00e9e en g\u00e9ologie\n- note : La note moyenne est de 75 ce qui laisse entendre que les candidats ont plut\u00f4t bien r\u00e9ussi l'exercice. Cependant la notation est \/100, pourtant un candidat a eu la note de 143 ==> valeur aberrante \u00e0 approfondir\n- dispo : 2 types de disponibilit\u00e9s, la majorit\u00e9 des candidats ne sont pas disponibles imm\u00e9diatement\n- embauche : La variable cible que nous souhaitons pr\u00e9dire. A convertir en cat\u00e9gorielle.\n\nToutes les variables sauf embauche (variable cible) comportent des valeurs manquantes","28a6a0b1":"##### Ce traitement nous a permis d'\u00e9vincer 1 998 lignes, ce qui a permis de gagner environ 1% de repr\u00e9sentativit\u00e9 de nos candidats embauch\u00e9s soit environ 12%","9d636201":"##### Ce traitement nous a permis d'\u00e9vincer 896 lignes, ce qui laisse intact la repr\u00e9sentativit\u00e9 de nos candidats embauch\u00e9s soit environ 12%","7240773f":"La droite de r\u00e9gression nous montre le sens par lequelle le plus de points passent. <\/br>\nCependant on voit qu'ils sont \u00e9parpill\u00e9s, ce qui prouve que la d\u00e9pendance est tr\u00e8s l\u00e9g\u00e8re","20159955":"### Enonc\u00e9\n\nLe jeu de donn\u00e9es contenu dans data.csv d\u00e9crit des candidatures au poste de chercheur d\u2019or chez OrF\u00e9e. Votre objectif consiste \u00e0 pr\u00e9dire le succ\u00e8s ou l\u2019\u00e9chec d\u2019une candidature.\nLe jeu de donn\u00e9es comporte 11 colonnes :\n- date \u2013 date de la candidature\n- age \u2013 \u00e2ge du candidat\n- diplome \u2013 plus haut dipl\u00f4me obtenu (bac, licence, master, doctorat)\n- specialite \u2013 sp\u00e9cialit\u00e9 du dipl\u00f4me (g\u00e9ologie, forage, d\u00e9tective, arch\u00e9ologie, . . . )\n- salaire \u2013 salaire demand\u00e9\n- dispo \u2013 oui : disponibilit\u00e9 imm\u00e9diate, non : pas disponible imm\u00e9diatement\n- sexe \u2013 f\u00e9minin (F) ou masculin (M)\n- exp \u2013 nombre d\u2019ann\u00e9es d\u2019exp\u00e9rience\n- cheveux \u2013 couleur des cheveux (ch\u00e2tain, brun, blond, roux)\n- note \u2013 note (sur 100) obtenue \u00e0 l\u2019exercice de recherche d\u2019or\n- embauche \u2013 le candidat a-t-il \u00e9t\u00e9 embauch\u00e9 ? (0 : non, 1 : oui)","64085e1d":"89% des candidats n'ont pas \u00e9t\u00e9 embauch\u00e9 tandis que 11% l'ont \u00e9t\u00e9. Ce qui montre que le poste de chercheur d'or chez OrF\u00e9e a \u00e9t\u00e9 tr\u00e8s s\u00e9lectif entre 2010 et 2014. <\/br>\nDe plus, cette information nous sera utile dans la r\u00e9alisation du mod\u00e8le permettant de pr\u00e9dire l'embauche d'un candidat (jeu de donn\u00e9es non balanc\u00e9)","b35c4b35":"##### Tendances g\u00e9n\u00e9rales :\n- Boites \u00e0 moustaches : Il est compliqu\u00e9 de voir des tendances se former \u00e0 partir de ces graphes. Cela prouve que nos variables num\u00e9riques ne permettent pas en elles-m\u00eames de diff\u00e9rencier un candidat embauch\u00e9 d'un non embauch\u00e9. Cependant, nous avons remarqu\u00e9 quelques l\u00e9g\u00e8res diff\u00e9rences gr\u00e2ces aux variables d'exp\u00e9rience ou de salaire. Celles-ci nous montrent que les candidats embauch\u00e9s ont une tr\u00e8s l\u00e9g\u00e8re tendance \u00e0 avoir des valeurs moins \u00e9lev\u00e9es que les candidats non embauch\u00e9s. Mais aucune conclusion ne peut \u00eatre faite \u00e0 ce niveau.\n- Diagramme en b\u00e2ton : L'id\u00e9e ici est de consid\u00e9rer notre variable embauch\u00e9\/ou non embauch\u00e9 comme une variable num\u00e9rique (1 ou 0). Ainsi, de calculer le \"taux d'embauche\" par variable. Exemple : sur les 16k candidats 172 ont 19 ans, parmi ceux-l\u00e0, 153 sont non embauch\u00e9s et 19 le sont (153*0+19*1) \/153+19 = 0.110. Ceci ne sert qu\u2019\u00e0 avoir une tendance des cat\u00e9gories ou il y a le plus d\u2019embauches.\n<\/br><\/br>\nConclusion : Nous arrivons mieux \u00e0 distinguer des tendances :  Les candidats demandant un salaire de 30K en moyenne ; Ceux poss\u00e9dant des notes tournant autour d\u2019environ 73\/100 ou encore ceux ayant le plus d'exp\u00e9rience sont le plus embauch\u00e9s. Cependant, en ce qui concerne l'\u00e2ge, cela varie beaucoup trop pour en d\u00e9duire une quelconque tendance.","14eb3cd7":"#### Int\u00e9ressons nous maintenant aux valeurs aberrantes expliqu\u00e9es de mani\u00e8re statistique","46ed3f5d":"Le tau de kendall permet de v\u00e9rifier la corr\u00e9lation entre une variable cat\u00e9gorielle et une num\u00e9rique. <\/br>\nComme le confirme ce coefficient, il n'y a pas de lien statistiquement significatif entre la couleur des cheveux et le salaire.","ccbccc4a":"Si nous affichons leurs distributions nous remarquons que la diff\u00e9rence est tr\u00e8s l\u00e9g\u00e8re","d6c7eb47":"##### Conclusion sur les valeurs manquantes : \nLes variables pr\u00e9sentant des valeurs manquantes ne sont pas expliqu\u00e9es par une quelconque corr\u00e9lation avec une autre variable ni avec la variable cible. On peut en d\u00e9duire qu'elles sont r\u00e9parties de mani\u00e8re al\u00e9atoire. <\/br>\nDes m\u00e9thodes d'imputation de valeurs manquantes basiques peuvent \u00eatre mises en place. <\/br> \nC'est \u00e0 dire remplacer ces valeurs par la moyenne, la m\u00e9diane ou le mode pour les variables cat\u00e9gorielles. <\/br>\nCependant, la m\u00e9thode choisie dans notre cas sera de supprimer ces candidats de notre jeu de donn\u00e9es car ils n'engendrent pas un plus grand \u00e9cart entre nos deux classes.","d9b38b2b":"#### Version de python","6db0f674":"#### Y a-t-il une d\u00e9pendance statistiquement significative entre la sp\u00e9cialit\u00e9 et le sexe ?","08ec3693":"#### Int\u00e9ressons nous aux variables cat\u00e9gorielles","5a23ab9f":"#### Y a-t-il une d\u00e9pendance statistiquement significative entre le nombre d\u2019ann\u00e9es d\u2019exp\u00e9rience et la note \u00e0 l\u2019exercice ?","9472baa2":"Test du chi2 carr\u00e9 de Pearson: <\/br>\nCe test d'hypoth\u00e8se permet de v\u00e9rifier s'il existe une association significative entre deux variables cat\u00e9gorielles dans un tableau de contingence. <\/br>\nIci nous avons fait le calcul, et nous trouvons que la p-value est inf\u00e9rieure \u00e0 0.05 donc les variables ne sont pas ind\u00e9pendantes. L'hypoth\u00e8se nulle est donc rejet\u00e9e.","582260f2":"##### Ce traitement nous a permis d'\u00e9vincer 291 lignes, ce qui laisse intact la repr\u00e9sentativit\u00e9 de nos candidats embauch\u00e9s soit \u00e0 environ 12%","f7d511e4":"Trouvons les valeurs aberrantes par conditions :\n1) Candidats ayant une exp\u00e9rience sup\u00e9rieure \u00e0 leurs \u00e2ges <\/br>\n2) Candidats ayant une note inf\u00e9rieure \u00e0 0 ou sup\u00e9rieur \u00e0 100 <\/br>\n3) Candidats ayant une exp\u00e9rience inf\u00e9rieure \u00e0 0 <\/br>\n4) Candidats ayant un niveau de dipl\u00f4me sup\u00e9rieur ou \u00e9gale au bac tandis qu'ils ont au plus 16 ans <\/br>","64a6105b":"#### Preparation du dataframe pour l'application d'un mod\u00e8le de machine learning\n\n- Suppression des variables non utiles pour la pr\u00e9diction\n- Encodage des variables \u00e0 valeurs binaires\n- Conversion des variables categorielles en variables indicatrices (dummy variable)","e501fda3":"Pour ce faire, nous allons utiliser des fonctions personnalis\u00e9es ainsi que la librairie missngno qui permet d'analyser les valeurs manquantes. <\/br>\n- Diagramme en b\u00e2ton : Ce graphe nous montre le nombre de valeurs manquantes par colonnes. On remarque toutefois qu'il n'y a pas beaucoup de valeurs manquantes.\n- Matrice de corr\u00e9lation : On aper\u00e7oit aucune corr\u00e9lation quant \u00e0 la pr\u00e9sence ou non de valeurs manquantes. Seuls les variables mois, ann\u00e9e et jour sont corr\u00e9l\u00e9es car elles ont \u00e9t\u00e9 construite \u00e0 partir de la m\u00eame variable :  Date","e7c9783e":"Observons le salaire demand\u00e9 par les candidats et leurs couleurs de cheveux. Nous remarquons que la diff\u00e9rence est l\u00e9g\u00e8re, les candidats aux cheveux ch\u00e2tain auraient des pr\u00e9tentions salariale plus \u00e9lev\u00e9es tandis que les candidats aux cheveux roux auraient attentes moindres. Cependant cela peut s'expliquer par la faible representativit\u00e9 des candidats aux cheveux roux parmi les candidats","b047dda3":"#### Int\u00e9ressons nous aux valeurs aberrantes","92f8d94f":"#### Y a-t-il une d\u00e9pendance statistiquement significative entre La couleur de cheveux et le salaire demand\u00e9?","2f2c7349":"Cette fonction met en \u00e9vidence les corr\u00e9lations positives\/n\u00e9gatives ou inexistantes entre les variables num\u00e9riques et affiche leurs distributions diff\u00e9renci\u00e9es par les candidats embauch\u00e9s et ceux non embauch\u00e9s. <\/br>\nOn aurait pu imaginer une corr\u00e9lation positive entre l'\u00e2ge et l'exp\u00e9rience ou entre le salaire et l'exp\u00e9rience ou encore entre les notes et l'exp\u00e9rience. \nCependant avec surprise on remarque qu'il n'y a pas forc\u00e9ment de corr\u00e9lation entre ces variables. On note juste visuellement une l\u00e9g\u00e8re corr\u00e9lation n\u00e9gative entre les notes et le salaire, ce qui peut \u00eatre surprenant.","f30634fb":"Le test de corr\u00e9lation de cramer V nous montre l'intensit\u00e9 dans la relation entre deux variables cat\u00e9gorielles. <\/br>\nRemarques : \n- Nous observons une tr\u00e8s forte relation entre la disponibilit\u00e9 et le dipl\u00f4me. Les candidats ayants un master ou un doctorat sont plus souvent disponibles imm\u00e9diatement que les candidats ayant une licence ou un bac. Ce qui fait sens. \n- Il y a une forte relation entre la disponibilit\u00e9 et la sp\u00e9cialit\u00e9. Les arch\u00e9ologues ou les d\u00e9tectives sont le plus souvent disponibles.","3c64cd66":"### II. Exploration et Transformation des donn\u00e9es"}}