{"cell_type":{"64b9a2ad":"code","b1a7e373":"code","051dd4a7":"code","fcfaa60c":"code","83178131":"code","d78bfc07":"code","fcb05da4":"code","54ae28d3":"code","650d7933":"code","a1e1e851":"code","34acd842":"code","010a8bd9":"code","5b043b28":"code","45442d95":"code","34e7fc71":"code","12b5f0a5":"code","3339c35a":"code","13117172":"code","19c8f1ee":"markdown","104f2071":"markdown","1caf4269":"markdown","ad779a67":"markdown","c3f31286":"markdown","23ef8938":"markdown","c9648693":"markdown","b4326e8f":"markdown","687dc39c":"markdown","bae24b97":"markdown","2b0fd686":"markdown","2f844338":"markdown","c4be3bc2":"markdown","ce279bb3":"markdown","bad1b717":"markdown","b1358e53":"markdown","b9b29dfa":"markdown","b1513087":"markdown","06a1d54f":"markdown","fbe3a626":"markdown","57808ef2":"markdown","ac32a43c":"markdown","2cdf12b5":"markdown","5c326802":"markdown"},"source":{"64b9a2ad":"import pandas as pd #Manipula\u00e7\u00e3o de dados, biblioteca analoga ao excel.\nimport numpy as np #Calculos cientificos\nimport seaborn as sns #Plotar gr\u00e1ficos\nfrom sklearn.linear_model import LinearRegression #Regress\u00e3o linear\nfrom sklearn.model_selection import train_test_split #Dividir dados para treinamento e teste","b1a7e373":"ro = 1200 #Raio do reservat\u00f3rio\nh = 10 #Espessura da forma\u00e7\u00e3o\n\u03a6 = 0.15 #Porosidade\nk = 50 #Permeabilidade\n\u03bc = 1.0 #Viscosidade da \u00e1gua\ncf = 55*10**(-6) #Compressilidade da Forma\u00e7\u00e3o\ncw = 45*10**(-6) #Compressilidade da Forma\u00e7\u00e3o\n\u03c0 = np.pi #pi\nf = (2*\u03c0)\/(2*\u03c0) #\u00c2ngulo de invas\u00e3o","051dd4a7":"hist_pressao_df = pd.DataFrame(data = [[0,220],[1,180],[2,160],[3,160],[4,160]], columns = ['Tempo [ano]', 'Press\u00e3o [kgf\/cm\u00b2]']) #[t=0,P=220],[t=1,P=180],[t=2,P=160],[t=3,P=160],[t=4,P=160]\n\nhist_pressao_df #Apresenta o DataFrame","fcfaa60c":"ct = cw + cf # Calcula a compressibilidade total\nU = 2*\u03c0*f*\u03a6*ct*h*ro**2 #Calcula a constante de influxo do aqu\u00edfero","83178131":"def tempo_adimensional(t): #Cria a fun\u00e7\u00e3o para o calculo do tempo admensional\n    tempo_admensional = (0.0003484*24*365*k)*t\/(\u03a6*\u03bc*ct*ro**2)\n    return tempo_admensional","d78bfc07":"tabela_aquifero_infinito = pd.read_csv(\"..\/input\/infinityaquifer\/infinity aquifer.csv\", sep = \";\") #Importa dos dados de td vs wd","fcb05da4":"fig = sns.lmplot('td', 'wd', data = tabela_aquifero_infinito, fit_reg=False) #Cria gr\u00e1fico td vs wd","54ae28d3":"x = tabela_aquifero_infinito.iloc[0:100, :-1].values #vincula a variavel x aos dados de td\ny = tabela_aquifero_infinito.iloc[0:100, 1].values #vincula a variavel y aos dados de wd\nlinearRegressor = LinearRegression() #Cria uma vari\u00e1vel para armazenar a regress\u00e3o\nlinearRegressor.fit(x, y) #Ajusta a regress\u00e3o com as vari\u00e1veis de treinamento\nprint (\"O R\u00b2 da regress\u00e3o linear utilizada \u00e9\", linearRegressor.score(x,y)) #Apresenta o R\u00b2, que indica a representatividade da curva em rela\u00e7\u00e3o aos dados","650d7933":"def wd(td): #Cria a fun\u00e7\u00e3o de previs\u00e3o de wd.\n    if td <= 0: #Para valores de td <= 0 o wd ser\u00e1 0.\n        wd = 0\n    else:\n        wd = float(linearRegressor.predict(np.array([[td]])))\n    return wd","a1e1e851":"\u0394Pi = (hist_pressao_df.iloc[0,1] - hist_pressao_df.iloc[1,1])\/2 #Calcula o \u0394P para 1 ano de produ\u00e7\u00e3o","34acd842":"wedi = U * \u0394Pi * wd(7.0648) #Calcula o influxo acumulado ao final do 1\u00b0 ano de produ\u00e7\u00e3o\nprint (\"O influxo acumulado de \u00e1gua ao final do 1\u00b0 ano de produ\u00e7\u00e3o \u00e9\", wedi, \"m\u00b3.\")","010a8bd9":"hist_pressao_df['Influxo admensional'] = [wd(tempo_adimensional(hist_pressao_df.iloc[4,0]-hist_pressao_df.iloc[0,0])),# wd(td=(4 anos - 0 ano))\n                                          wd(tempo_adimensional(hist_pressao_df.iloc[4,0]-hist_pressao_df.iloc[1,0])),# wd(td=(4 anos - 1 ano))\n                                          wd(tempo_adimensional(hist_pressao_df.iloc[4,0]-hist_pressao_df.iloc[2,0])),# wd(td=(4 anos - 2 anos))\n                                          wd(tempo_adimensional(hist_pressao_df.iloc[4,0]-hist_pressao_df.iloc[3,0])),# wd(td=(4 anos - 3 anos))\n                                          wd(tempo_adimensional(hist_pressao_df.iloc[4,0]-hist_pressao_df.iloc[4,0]))]# wd(td=(4 anos - 4 anos))\n                                          # para um intervalo de tempo maior, utilize uma estrutura de repeti\u00e7\u00e3o.\nhist_pressao_df['\u0394Pj'] = [(hist_pressao_df.iloc[0,1]-hist_pressao_df.iloc[1,1])\/2, #(\u0394P0-\u0394P1)\/2\n                          (hist_pressao_df.iloc[0,1]-hist_pressao_df.iloc[2,1])\/2, #(\u0394P0-\u0394P2)\/2\n                          (hist_pressao_df.iloc[1,1]-hist_pressao_df.iloc[3,1])\/2, #(\u0394P1-\u0394P3)\/2\n                          (hist_pressao_df.iloc[2,1]-hist_pressao_df.iloc[4,1])\/2, #(\u0394P2-\u0394P4)\/2\n                          (hist_pressao_df.iloc[4,1]-hist_pressao_df.iloc[4,1])\/2] #(\u0394P3-\u0394P3)\/2\n","5b043b28":"hist_pressao_df #Apresenta o DataFrame","45442d95":"hist_pressao_df['\u0394Pj*Wd'] = hist_pressao_df['Influxo admensional']*hist_pressao_df['\u0394Pj'] #Cria a coluna \"\u0394Pj*Wd\"","34e7fc71":"hist_pressao_df #Apresenta o Data Frame com a coluna \"\u0394Pj*Wd\"","12b5f0a5":"We = U*hist_pressao_df['\u0394Pj*Wd'].sum()#Calcula o influxo acumulado\nprint (\"O influxo acumulado de \u00e1gua ao final do 4\u00b0 ano de produ\u00e7\u00e3o \u00e9\", We, \"m\u00b3.\")","3339c35a":"resultados_df = pd.DataFrame(data = [[156892,wedi],[1087117,We]], columns = ['Resultado Esperado', 'Resultado Calculado'], index =['Wed 1\u00b0 ano','Wed 4\u00b0 ano']) #Cria DataFrame com os resultados esperado e calculados","13117172":"resultados_df['Erro Absoluto'] = (resultados_df['Resultado Esperado']-resultados_df['Resultado Calculado'])\/(resultados_df['Resultado Esperado']) #Cria a coluna \"Erro Absoluto\"\nresultados_df #Apresenta DataFrame Final","19c8f1ee":"O Data Frame hist_pressao_df estar\u00e1 neste formato","104f2071":"Admitindo que durante os primeiros 4 anos de produ\u00e7\u00e3o o sistema real possa ser representado por um reservat\u00f3rio associado a um aqu\u00edfero radial infinito, determe o influxo acumulado de \u00e1gua:","1caf4269":"### 2\u00b0 Passo: Transforme os dados da quest\u00e3o em vari\u00e1veis.","ad779a67":"# Quest\u00e3o 6.1: O hist\u00f3rico das press\u00f5es no contato \u00f3leo\/\u00e1gua original de um reservat\u00f3rio \u00e9 apresentado na tabela a seguir:","c3f31286":"### 2\u00b0 Passo: Multiplique a coluna \"Influxo admensional\" pela coluna \"\u0394Pj\" e adcione a coluna resultante ao seu DataFrame.","23ef8938":"### 6\u00b0 Passo: Importe os dados de Influxo admensional vs tempo admensional e plote os dados em um gr\u00e1fico de dispers\u00e3o.","c9648693":"Outros dados dipon\u00edveis s\u00e3o:","b4326e8f":"A convite da SPE UFCG, publicarei quinzenalmente um notebook, para demonstrar a utiliza\u00e7\u00e3o do python como uma ferramenta de resolu\u00e7\u00e3o de problemas de engenharia de petr\u00f3leo, neste documento mostro passo a passo como calcular o influxo acumulado de \u00e1gua em um reservat\u00f3rio de petr\u00f3leo.","687dc39c":"### 3\u00b0 Passo: Transforme o hist\u00f3rico de press\u00e3o em DataFrame.","bae24b97":"### 7\u00b0 Passo: Analise a curva e identifique qual o melhor modelo de regress\u00e3o pode ser usado e aplique-o.\n<br><br>Pela distribui\u00e7\u00e3o dos pontos no gr\u00e1fico, afirma-se que um modelo de regress\u00e3o linear simples se adequa ao cen\u00e1rio.","2b0fd686":"### 3\u00b0 Passo: Some os valores da coluna \"\u0394Pj*Wd\" e multiple pela constante de influxo do aqu\u00edfero para obter o Influxo acumulado ao final do 4\u00b0 ano de produ\u00e7\u00e3o.","2f844338":"### 1\u00b0 Passo: Importe as bibliotecas necess\u00e1rias para a resolu\u00e7\u00e3o do problema.","c4be3bc2":"| Vari\u00e1veis | S\u00edmbolo | Valor |\n| --- | --- | --- |\n| Raio do reservat\u00f3rio | *r<sub>o<sub>* | 1200 m |\n| Espessura da forma\u00e7\u00e3o | *h* | 10 m |\n| Porosidade | \u03a6 | 0,15 |\n| Permeabilidade | *k* | 50 md |\n| Viscosidade da \u00e1gua | \u03bc | 1,0 cp |\n| Compressilidade da Forma\u00e7\u00e3o | *c<sub>f<sub>* | 55x10<sup>-6<\/sup> |\n| Compressibilidade da \u00e1gua | *c<sub>w<sub>* | 45x10<sup>-6<sup> |","ce279bb3":"### 4\u00b0 Passo: Calcule a compressibilidade total (ct) e a constante de influxo de \u00e1gua do aqu\u00edfero (U).","bad1b717":"### 8\u00b0 Passo: Calcule a queda de press\u00e3o ao final de 1 ano de produ\u00e7\u00e3o.","b1358e53":"Os erros absolutos mostram que o calculo do influxo acumulado  atrav\u00e9s do metodo apresenta resultados proximos aos valores esperados.","b9b29dfa":"Utilizei a quest\u00e3o 6.1, p\u00e1gina: 359, do livro Engenharia de Reservat\u00f3rios de Petr\u00f3leo dos autores Adalberto Jos\u00e9 Rosa, Renato de Souza Carvalho e Jos\u00e9 Augusto Daniel Xavier","b1513087":"### 5\u00b0 Passo: Crie uma fun\u00e7\u00e3o para o calculo do tempo admensional.","06a1d54f":"Como o valor do R\u00b2 \u00e9 de 99%, utilizaremos o modelo de previs\u00e3o gerado para encontrar os valores de td, dispensando a consulta de tabelas e reduzindo o tempo de calculo.","fbe3a626":"## (a) Ao final do 1\u00b0 ano de produ\u00e7\u00e3o.","57808ef2":"### 1\u00b0 Passo: Calcule os influxos admensionais e as varia\u00e7\u00f5es de press\u00e3o para cada intervalo e adicioneos ao DataFrame hist_pressao_df.","ac32a43c":"| Tempo (ano) | Press\u00e3o (kgf\/cm\u00b2) |\n| --- | --- |\n| 0 | 220 |\n| 1 | 180 |\n| 2 | 160 |\n| 3 | 160 |\n| 4 | 160 |","2cdf12b5":"## (b) Ao final do 4\u00b0 ano de produ\u00e7\u00e3o.","5c326802":"## An\u00e1lise dos resultados"}}