{"cell_type":{"ddebb555":"code","a7842dad":"code","2d38414b":"code","4e34172d":"code","cc29db40":"code","9440afc1":"code","d4f87a22":"code","f8785d99":"code","de64bcaf":"code","7c3a84a5":"code","e180d9ac":"code","d3556845":"code","d60f4706":"code","38b298ab":"code","03e93c1d":"markdown","c4c89e71":"markdown","84b7cc0c":"markdown","0327bb6e":"markdown","a48b84ab":"markdown","8af8ef98":"markdown","991f783e":"markdown","986003b8":"markdown","5e0a0ca9":"markdown","bf61efbc":"markdown","501570be":"markdown","5e21f493":"markdown","b33f293c":"markdown","9fe9a8f0":"markdown","14dcdd0b":"markdown","c79fb37a":"markdown","33b65b80":"markdown","e32264fc":"markdown","017bbb15":"markdown"},"source":{"ddebb555":"import numpy as np \nimport pandas as pd\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","a7842dad":"passanger = pd.read_csv('..\/input\/passenger-list-for-the-estonia-ferry-disaster\/estonia-passenger-list.csv')\ndata = passanger.copy()\ndata.head()","2d38414b":"# We check missing values\ndata.isnull().any()","4e34172d":"# How many men and women were on board\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nplt.figure(figsize=(10,8))\nsns.countplot(data['Sex'],palette='coolwarm');\nprint(data['Sex'].value_counts())","cc29db40":"plt.figure(figsize=(10,8))\nsns.countplot(data['Sex'],hue=data['Survived'],palette='BuGn_r')\nplt.xlabel('Sex')\nplt.ylabel('Number Of People')\nplt.title('Survived Status by Gender');","9440afc1":"plt.figure(figsize=(10,8))\nsns.countplot(data['Survived'],hue=data['Category'],palette='vlag')\nplt.xlabel('Survived')\nplt.ylabel('Number of people')\nplt.title('Crew Or Passenger Survived Status');","d4f87a22":"plt.figure(figsize=(15,10))\nsns.countplot(data['Country'],hue=data['Category'],palette='rocket')\nplt.xlabel('Country')\nplt.ylabel('Number Of People')\nplt.title('Where Do The Team Or Passengers Join From')\nplt.legend(loc='upper right');","f8785d99":"plt.figure(figsize=(10,8))\nlabels = ['No Survive','Survive']\nexplode = (0, 0.1) \nplt.pie(data['Survived'].value_counts(),labels=labels,explode=explode,autopct='%1.1f%%',shadow=True, startangle=180,colors=['#F3CFB3','#F3C4BF'])\nplt.title('Survival Rate')\nplt.legend();","de64bcaf":"# Datasets Seperation\ndata['Category'] = [1 if i.strip() == 'P'else 0 for i in data.Category]\ndata['Sex'] = [1 if i.strip() == 'M'else 0 for i in data.Sex]\ny = data['Survived']\nx = data.loc[:,['Sex','Age','Category']]\nfrom sklearn.model_selection import train_test_split\nx_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.30,random_state=42)\nfrom sklearn.tree import DecisionTreeClassifier\nDC = DecisionTreeClassifier()\nDC.fit(x_train,y_train)","7c3a84a5":"from sklearn.metrics import accuracy_score\ny_pred = DC.predict(x_test)\nprint('Basit Accuracy Score:',accuracy_score(y_test,y_pred))","e180d9ac":"from sklearn.model_selection import GridSearchCV\ndc_params = {'criterion':['gini','entropy'],\n            'splitter':['best','random'],\n            'max_depth':np.arange(1,10),\n            'min_samples_split':np.arange(1,10),\n            'min_samples_leaf':np.arange(1,10),\n            'max_features':['auto','sqrt','log2']}\ndc = DecisionTreeClassifier()\ndc_cv = GridSearchCV(dc,dc_params,cv=10,n_jobs=-1,verbose=2)\ndc_cv.fit(x_train,y_train)","d3556845":"dc_tuned = DecisionTreeClassifier(criterion=dc_cv.best_params_['criterion'],\n                                 max_depth=dc_cv.best_params_['max_depth'],\n                                 max_features=dc_cv.best_params_['max_features'],\n                                 min_samples_leaf=dc_cv.best_params_['min_samples_leaf'],\n                                 min_samples_split=dc_cv.best_params_['min_samples_split'],\n                                 splitter=dc_cv.best_params_['splitter']).fit(x_train,y_train)","d60f4706":"y_pred = dc_tuned.predict(x_test)\nprint('Verified Accuracy Score:',accuracy_score(y_test,y_pred))","38b298ab":"Importance = pd.DataFrame({'Importance':dc_tuned.feature_importances_*100},\n                         index=x_train.columns)\nx = Importance.sort_values(by='Importance',axis=0,ascending=True).plot(kind='barh',color='#9B5F2B')","03e93c1d":"Thats great,so clean data","c4c89e71":"# Loading And Cleaning Data","84b7cc0c":"**According to the table here, there have been more survivors than men, I don't know exactly what could be the reason.**","0327bb6e":"# Importance Of Variables","a48b84ab":"# Decision Tree\nDecision tree is a decision support tool that uses a tree-like decision model and possible outcomes, including chance-like outcomes, resource costs, and benefits.\n\nI think you can help us with this problem.\n\n<center><img src=\"https:\/\/i.ytimg.com\/vi\/7VeUPuFGJHk\/maxresdefault.jpg\" width=600><\/center>","8af8ef98":"**So let's ask one thing, according to these gender distributions, are women more saved or men?**","991f783e":"Gender distribution of passenger numbers is very close to each other","986003b8":"Here we will understand that the variables that are important to us are the variables of age and gender.","5e0a0ca9":"<h1><center>Estonia Disaster<\/center><\/h1>\n\n<center><img src=\"https:\/\/i.pinimg.com\/originals\/fc\/35\/72\/fc357254541c2886a4a8722cbfa9631e.png\" width=400><\/center>\n<p>&#160;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<p>\n    <p>&#160;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<p>\n       \n                \n\n        \nHello, today we will take a look at the problems requested from the data set we have.Hello, today we will take a look at the problems requested from the data set we have.\n- Who's more likely to survive the sinking based on data?\n\n- Is age an indicator for survival?\n\n- Is gender an indicator for survival?\n\n- Did the crew aboard have a higher chance of survival than passengers?\n        \n        \nWe will address these problems and solve them.","bf61efbc":"**Thank you for reading, I wish you a pleasant day**","501570be":"That's all for the heuristic analysis, now let's set up a classification model with decision trees.","5e21f493":"# Problems\n\nIn this section, we will visualize some problems that stuck in my mind.","b33f293c":"**Total survivors or those who could not.**","9fe9a8f0":"I can comment on this situation like this;\n\n\nThe number of passengers who died is high, but this is because the participation of passengers is  as high as the team.\n\n\nBut even in this situation, can we say that too many people from the team died, they fought with heart and soul to save the passengers?","14dcdd0b":"# Model Tuning","c79fb37a":"# Tuned Model Create","33b65b80":"**Now tell me my question, how many people survived as team or passenger.**","e32264fc":"**I also want to handle the following situation, Let's see where the passengers who joined the ship.**","017bbb15":"**Most of the participating passengers were from Sweden, but apparently the team joined from Estonia.**"}}