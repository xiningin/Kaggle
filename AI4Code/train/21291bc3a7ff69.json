{"cell_type":{"3f991c92":"code","f2d63b54":"code","8bf02d6f":"code","98678ab1":"code","6809e6df":"code","7e386fd2":"code","f9f7e8ab":"markdown","be15c003":"markdown","b6abf7f6":"markdown","f51d8c5e":"markdown","12e405e0":"markdown"},"source":{"3f991c92":"import cv2\nimport pandas as pd\nimport ast","f2d63b54":"path2='..\/input\/tensorflow-great-barrier-reef\/train_images\/video_2\/'\nimg = cv2.imread(path2+'1.jpg')","8bf02d6f":"height, width, channels = img.shape\nprint(height, width)","98678ab1":"df = pd.read_csv('..\/input\/tensorflow-great-barrier-reef\/train.csv')\nprint(df.iloc[341])","6809e6df":"!mkdir -p ..\/yolov5fromat\/labels","7e386fd2":"for j in range(len(df)):\n    list_anno = ast.literal_eval(df.iloc[j][5])\n    for anno in list_anno:\n        with open('..\/yolov5fromat\/labels\/' + str(df.iloc[j][0]) + '_' + str(df.iloc[j][2]) + '.txt', 'w') as file:\n            file.write(str(0) + ' ' + str(anno['x']\/width) + ' ' + str(anno['y']\/height) + ' ' + str(anno['width']) + ' ' + str(anno['height']) + '\\n')","f9f7e8ab":"As you can see x and y is pixel format so we need to convert it to Yolov5 annotations format. For this matter we use a library named \"ast\" that read the annotation in dictionary foramt. then use dictionary values to create labels.","be15c003":"Here we want to convert datasets labels to Yolov5 format.","b6abf7f6":"We dose not have permission for \"..\/input\" folder so we create a folder for writing \".txt\" files in it","f51d8c5e":"Trying to figure out shape of images","12e405e0":"Checking format of values in one row"}}