{"cell_type":{"e140a8af":"code","6f552140":"code","81d8e25b":"code","5a10d038":"code","6155937e":"code","44d93d48":"code","ee3af91d":"code","903c7340":"code","d9449704":"code","fa686c68":"code","6aeac384":"code","deba39f9":"code","75f47ac5":"code","8460f79f":"code","6c855cde":"code","7ff8fca9":"code","ca9e90db":"code","9534df3b":"code","d8798762":"code","cf1c43d9":"code","8e792edc":"code","5d1d16f6":"code","d903a96f":"code","9bdffd8b":"code","37874de3":"code","0c8055b4":"code","b8111ee2":"code","14374b26":"code","cf211338":"markdown","6d2cdd31":"markdown","33e7af01":"markdown","43a36f21":"markdown","d8d8fd92":"markdown","76630f4a":"markdown","d04a9610":"markdown","1671f067":"markdown","92776d78":"markdown","b42cc3d4":"markdown","12b8d590":"markdown","a0256005":"markdown","d908489c":"markdown","f3f41f11":"markdown","a3709ab1":"markdown","9a930442":"markdown","3207b741":"markdown","e576ea1f":"markdown","62b85706":"markdown","cd2485f1":"markdown","641b35e4":"markdown","c8ac429e":"markdown","2fe66ca9":"markdown","ddbc04f8":"markdown","5df66f98":"markdown","81ece217":"markdown","f2218996":"markdown","24cd1335":"markdown","1a3d8d5e":"markdown","73cefa04":"markdown","4d70785f":"markdown","80dacfb4":"markdown","95569af4":"markdown","14d4d362":"markdown","348d3959":"markdown","9e330a9e":"markdown","baed98ad":"markdown","e2cd9f5e":"markdown","b1c04ca2":"markdown"},"source":{"e140a8af":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6f552140":"import numpy as np\nimport pandas as pd\nimport seaborn as sns \nimport matplotlib.pyplot as plt","81d8e25b":"df=pd.read_csv('..\/input\/bank-marketing-dataset\/bank.csv')\ndf.head()","5a10d038":"df.info()\ndf.shape","6155937e":"df.describe()","44d93d48":"df.isnull().sum()","ee3af91d":"plt.figure(figsize=(20,12))\nplt.subplot(211)\nsns.countplot(x = 'job', data = df, order = df['job'].value_counts().index)\nplt.subplot(212)\nsns.boxplot(x='job',y='age',data=df)","903c7340":"plt.figure(figsize=(15,8))\nsns.boxplot(x='default',y='balance',hue='deposit',data=df)","d9449704":"plt.figure(figsize=(15,8))\nsns.boxplot(x='job',y='balance',hue='deposit',data=df)","fa686c68":"plt.figure(figsize=(15,8))\nsns.boxplot(x='education',y='balance',hue='deposit',data=df)","6aeac384":"plt.figure(figsize=(15,8))\nsns.countplot('marital', data = df)","deba39f9":"plt.figure(figsize=(20,6))\nplt.subplot(311)\nplt.title('Price Distrubution by Martial Status',fontsize=20)\nsns.distplot(df[df.marital=='married'].balance)\nplt.ylabel('married')\nplt.subplot(312)\nsns.distplot(df[df.marital=='divorced'].balance)\nplt.ylabel('divorced')\nplt.subplot(313)\nsns.distplot(df[df.marital=='single'].balance)\nplt.ylabel('single')","75f47ac5":"plt.figure(figsize=(8,16))\ngroup = df.groupby('education')\nmed_balance = group.aggregate({'balance':np.median}).sort_values('balance', ascending = False)\nprint(med_balance)\nsns.boxplot(x = 'education', y = 'balance', data = df,order = med_balance.index, color = 'steelblue')","8460f79f":"plt.rcParams['figure.figsize']=(20,10)\nplt.subplot(121)\nsns.stripplot(x='housing',y='balance',data=df)\nplt.subplot(122)\nsns.stripplot(x='loan',y='balance',data=df)","6c855cde":"dp=df.deposit.value_counts()\nplt.figure(figsize=(16,8))\nplt.subplot(1,2,1)\nlabels = ['Have depoist','No deposit']\nexplode=[0.05,0.05]\nplt.pie(dp,\nlabels=labels,\nexplode=explode,\nautopct='%.2f%%',\npctdistance=0.5,\nshadow=True,\nwedgeprops= {'linewidth':1,'edgecolor':'green'},\nlabeldistance = 1.1,\ntextprops=dict(color='k',  #  \u5b57\u4f53\u989c\u8272                    \n               fontsize=15),\nstartangle=30),\nplt.legend(bbox_to_anchor=(1.0, 1.0), loc=1, borderaxespad=0,fontsize=12)\nplt.title('Deposit',fontsize=20)\nplt.subplot(1,2,2)\nsns.barplot(x=\"education\", y=\"balance\", hue=\"deposit\", data=df, estimator=lambda x: len(x) \/ len(df)*100)\nplt.ylabel('(%)')\nplt.show()","7ff8fca9":"#\u753b\u6709\u65e0\u5b9a\u671f\u5b58\u6b3e\u7684\u5404\u5e74\u9f84\u6bb5\u5206\u5e03\u72b6\u51b5\nplt.figure(figsize=(16,8))\nplt.subplot(211)\nsns.distplot(df[df.deposit=='yes'].age)\n#distplot\u548cbarplot\u7684\u533a\u522b\uff1adistplot\u662f\u4f1a\u81ea\u52a8\u6309\u7167\u533a\u95f4\u6bd4\u4f8b\u753b\u67f1\u72b6\u56fe\u53ca\u5176\u8d8b\u52bf\u7ebf\uff0c\u800cbarplot\u5219\u662f\u901a\u5e38\u8981\u53d6\u786e\u5b9a\u6570\u503c\u6216\u6570\u503c\u7684\u5747\u503c\u7ed8\u56fe\uff0c\u800c\u4e0d\u80fd\u53cd\u6620\u6570\u636e\u5206\u5e03\u3002\nplt.ylabel('deposit=yes')\nplt.subplot(212)\nsns.distplot(df[df.deposit=='no'].age)\nplt.ylabel('deposit=no')","ca9e90db":"#\u540c\u6837\u5bf9\u4e0d\u540c\u7684\u5e74\u9f84\u5c42\uff0c\u662f\u5426\u6709\u5b9a\u671f\u5b58\u6b3e\u7684\u5206\u7c7b\u6240\u5360\u6bd4\u4f8b\u753b\u56fe\uff0c\u6240\u4ee5\u8981\u6309\u5e74\u9f84\u5212\u5206\u5e74\u9f84\u5c42\ndata=df\ndata['age_status']=data['age']\ndef agerank(age):\n    if age<20:\n        age_status='teen'\n    elif age>=20 and age<30:\n        age_status='young'\n    elif age>=30 and age<40:\n        age_status='mid'\n    elif age>=40 and age<60:\n        age_status='mid_old'\n    else:age_status='old'\n    return age_status\ndata.age_status=data.age_status.transform(lambda x:agerank(x))\ndata1=(data.groupby(['age_status','deposit']).age.count()\/data.groupby(['age_status']).age.count()).to_frame().reset_index() \n#reset_index()\u5c06\u4f1a\u5c06\u539f\u6765\u7684\u7d22\u5f15index\u4f5c\u4e3a\u65b0\u7684\u4e00\u5217\uff0c\u5426\u5219\u6807\u8bc6\u6570\u5b57\u7684\u5c5e\u6027\u90e8\u5206\u4e0d\u4f1a\u6210\u4e3a\u5217\nsns.barplot(x='age_status',y='age',data=data1,hue='deposit')\n#age\u5728\u8fd9\u4e00\u90e8\u5206\u5b9e\u9645\u4e0a\u5df2\u7ecf\u53d8\u4e3a\u4e86\u767e\u5206\u6bd4\uff0c\u800c\u4e0d\u662f\u539f\u6765\u7684\u6570\u503c\uff0c\u4e0a\u4e00\u4e2a\u8bed\u53e5\u56e0\u4e3a\u662f\u628aage\u5206\u7c7b\u4e86\uff0c\u5e76\u6ca1\u6709\u6362\u5c5e\u6027\u540d\uff0c\u6240\u4ee5\u73b0\u5b9e\u7684\u662f\u767e\u5206\u6bd4\nplt.ylabel('(%)')\ndata1","9534df3b":"#\u539f\u7406\u540c\u4e0a\uff0c\u540c\u6837\u5bf9\u4e0d\u540c\u7684\u5e74\u9f84\u5c42\uff0c\u4e0a\u4e00\u6b21\u8425\u9500\u7684\u7ed3\u679c\u7684\u5206\u7c7b\u6240\u5360\u6bd4\u4f8b\u753b\u56fe\ndata2=(data[data.poutcome!='unknown'].groupby(['age_status','poutcome']).age.count()\/data.groupby(['age_status']).age.count()).to_frame().reset_index() \nsns.barplot(x='age_status',y='age',data=data2,hue='poutcome')\nplt.ylabel('(%)')\ndata2","d8798762":"data['percent']=1 #\u6dfb\u52a0\u65b0\u7684\u4e00\u5217\u5168\u4e3a1\u7684\u503c\uff0c\ndata3=(data.groupby(['job','deposit']).percent.count()\/data.groupby(['job']).percent.count()).to_frame().reset_index()\ndata4=(data[data.poutcome!='unknown'].groupby(['job','poutcome']).percent.count()\/data.groupby(['job']).percent.count()).to_frame().reset_index()\n\nplt.subplot(211)\nsns.barplot(x='job',y='percent',data=data3,hue='deposit')\nplt.subplot(212)\nsns.barplot(x='job',y='percent',data=data4,hue='poutcome')","cf1c43d9":"import datetime\n# date=bank.pdays\nnow=datetime.datetime.today()\nbank_date=df\nbank_date['compain_date']=bank_date.pdays.transform(lambda x:now-datetime.timedelta(days=x))\nbank_date['month']=bank_date['compain_date'].transform(lambda x:x.strftime('%m'))\nplt.bar(bank_date['month'].value_counts().index,bank_date['month'].value_counts())\nplt.xlabel('month')","8e792edc":"data=bank_date.groupby(['month','poutcome']).count().reset_index()\nsns.barplot(x='month',y='age',data=data,hue='poutcome')","5d1d16f6":"sns.barplot(x='month',y='age',data=data[data['poutcome']!='unknown'],hue='poutcome')","d903a96f":"from sklearn.preprocessing import LabelEncoder\ndata5=df\ndata5['deposit']=LabelEncoder().fit_transform(data5['deposit'])\n#\u628adeposit\u8f6c\u5316\u4e3a\u6570\u503c\u53d8\u91cf\ncancel_corr = df.corr()[\"deposit\"]\ncancel_corr.abs().sort_values(ascending = False)","9bdffd8b":"from sklearn.impute import SimpleImputer\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn import metrics\n# preprocessing\ndata5 = data5[data5['deposit'].notna()]\nfeatures = ['duration', 'pdays', 'previous', 'campaign','balance']\nX = data5[features]\nY = data5[\"deposit\"]\n# missing value with median\nnum_transformer = SimpleImputer(strategy=\"median\")\nnum_transformer.fit_transform(X)\n# extract training data (80%) and test data (20%)\nX_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size=0.20, random_state=42)\nlogreg = LogisticRegression()\nlogreg.fit(X_train, Y_train)","37874de3":"Y_pred=logreg.predict(X_test)\n# get confusion matrix\ncnf_matrix = metrics.confusion_matrix(Y_test, Y_pred)\n# visualize confusion matrix\nclass_names=[0,1] # name  of classes\nfig, ax = plt.subplots()\ntick_marks = np.arange(len(class_names))\nplt.xticks(tick_marks, class_names)\nplt.yticks(tick_marks, class_names)\n# create heatmap\nsns.heatmap(pd.DataFrame(cnf_matrix), annot=True, cmap=\"YlGnBu\" ,fmt='g')\nax.xaxis.set_label_position(\"top\")\nplt.tight_layout()\nplt.title('Confusion matrix', y=1.1)\nplt.ylabel('Actual label')\nplt.xlabel('Predicted label')\n# accuracy, percision, recall\nprint(\"Accuracy:\",metrics.accuracy_score(Y_test, Y_pred))\nprint(\"Precision:\",metrics.precision_score(Y_test, Y_pred))\nprint(\"Recall:\",metrics.recall_score(Y_test, Y_pred))","0c8055b4":"from sklearn.pipeline import Pipeline\nfrom sklearn.preprocessing import OneHotEncoder\nfrom sklearn.compose import ColumnTransformer\nnum_features = ['duration', 'pdays', 'previous', 'campaign','balance','day','age']\ncat_features = ['job','marital','education', 'default','housing','loan','contact','poutcome','month']\nfeatures = num_features + cat_features\nX = df.drop([\"deposit\"], axis=1)[features]\ny = df[\"deposit\"]\nnum_transformer = SimpleImputer(strategy=\"constant\", fill_value=0)\n# deal with categorical data\ncat_transformer = Pipeline(steps = [(\"imputer\", SimpleImputer(strategy=\"constant\", fill_value=\"unkown\")), \n                                   (\"onehot\", OneHotEncoder(handle_unknown=\"ignore\"))])\npreprocessor = ColumnTransformer(transformers=[(\"num\", num_transformer, num_features),\n                                               (\"cat\", cat_transformer, cat_features)])","b8111ee2":"from sklearn.ensemble import RandomForestClassifier\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.8, random_state=0)\nmodel = Pipeline(steps=[('preprocessor', preprocessor),('rf', RandomForestClassifier(random_state=42,n_jobs=-1))])\nmodel.fit(X_train, y_train)\npred = model.predict(X_test)","14374b26":"cnf_matrix = metrics.confusion_matrix(y_test, pred)\n# visualize confusion matrix\nclass_names=[0,1] # name  of classes\nfig, ax = plt.subplots()\ntick_marks = np.arange(len(class_names))\nplt.xticks(tick_marks, class_names)\nplt.yticks(tick_marks, class_names)\n# create heatmap\nsns.heatmap(pd.DataFrame(cnf_matrix), annot=True, cmap=\"YlGnBu\" ,fmt='g')\nax.xaxis.set_label_position(\"top\")\nplt.tight_layout()\nplt.title('Confusion matrix', y=1.1)\nplt.ylabel('Actual label')\nplt.xlabel('Predicted label')\n# accuracy, percision, recall\nprint(\"Accuracy:\",metrics.accuracy_score(y_test, pred))\nprint(\"Precision:\",metrics.precision_score(y_test, pred))\nprint(\"Recall:\",metrics.recall_score(y_test, pred))","cf211338":"# 5.1  Logistic Regression Model\uff08\u903b\u8f91\u56de\u5f52\u6a21\u578b\uff09","6d2cdd31":"# 2.2  Data cleaning and filtering(\u6570\u636e\u6e05\u6d17\u53ca\u8fc7\u6ee4)","33e7af01":"# 3.1 Job","43a36f21":"# 1.1 Basic attributes\uff08\u57fa\u672c\u5c5e\u6027\uff09\n> age\uff1a\u5e74\u9f84<p>\n    > job\uff1a\u5de5\u4f5c\u5c97\u4f4d<p>\n       > marital\uff1a\u5a5a\u59fb\u72b6\u6001<p>\n         > education\uff1a\u6559\u80b2\u7a0b\u5ea6<p>\n            > defalut\uff1a\u662f\u5426\u8fdd\u7ea6<p>\n               > balance\uff1a\u76c8\u4f59<p>\n                 > housing\uff1a\u662f\u5426\u6709\u4f4f\u623f\u8d37\u6b3e<p>\n                    > loan\uff1a\u662f\u5426\u6709\u4e2a\u4eba\u8d37\u6b3e<p>\n# 1.2 Business contact\uff08\u4e1a\u52a1\u8054\u7cfb\uff09\n> contact\uff1a\u8054\u7cfb\u65b9\u5f0f<p> \n    >day:\u4e0a\u4e00\u4e2a\u8054\u7cfb\u65e5 <p>\n        > month\uff1a\u4e0a\u4e00\u4e2a\u8054\u7cfb\u6708<p>\n            > duration\uff1a\u901a\u8bdd\u65f6\u95f4\uff0c\u79d2<p>\n# 1.3 Marketing activities\uff08\u8425\u9500\u6d3b\u52a8\uff09\n> campain\uff1a\u4e0a\u4e00\u6b21\u8425\u9500\u6d3b\u52a8\u548c\u6b64\u5ba2\u6237\u8054\u7cfb\u7684\u6b21\u6570<p>\n    >pdays\uff1a\u81ea\u4e0a\u4e00\u6b21\u8425\u9500\u6d3b\u52a8\u8054\u7cfb\u540e\uff0c\u81f3\u4eca\u7684\u5929\u6570<p>\n        >previous\uff1a\u4e0a\u4e00\u6b21\u8425\u9500\u6d3b\u52a8\u4e4b\u524d\u548c\u5ba2\u6237\u7d2f\u8ba1\u8054\u7cfb\u8fc7\u7684\u6b21\u6570<p>\n            >poutcome\uff1a\u4e0a\u4e00\u6b21\u8425\u9500\u7684\u7ed3\u679c\n# 1.4 target data(\u76ee\u6807\u6570\u636e)\n>deposit\uff1a\u5ba2\u6237\u662f\u5426\u6709\u5b9a\u671f\u5b58\u6b3e\uff1f","d8d8fd92":"# Section \u2160 Business analyse\n","76630f4a":"# It can be clearly seen that the accuracy rate of the random forest prediction model is 81.59%, the accuracy rate is 79.86%, and the recall rate is 81.46%. All indicators are far better than the simple logistic regression prediction model, so we choose the random forest model in the banking business forecast.\n# \u53ef\u4ee5\u5f88\u660e\u663e\u7684\u770b\u51fa\uff0c\u968f\u673a\u68ee\u6797\u9884\u6d4b\u6a21\u578b\u7684\u6784\u5efa\u7684\u51c6\u786e\u7387\u4e3a81.59%\uff0c\u7cbe\u51c6\u7387\u4e3a79.86%\uff0c\u53ec\u56de\u7387\u4e3a81.46%\uff0c\u5404\u9879\u6307\u6807\u90fd\u8fdc\u597d\u4e8e\u7b80\u5355\u7684\u903b\u8f91\u56de\u5f52\u9884\u6d4b\u6a21\u578b\uff0c\u56e0\u6b64\u5728\u94f6\u884c\u4e1a\u52a1\u9884\u6d4b\u4e2d\u9009\u62e9\u968f\u673a\u68ee\u6797\u6a21\u578b\u3002","d04a9610":"# 4.2  Deposit business user job\uff08\u5b58\u6b3e\u4e1a\u52a1\u7528\u6237\u804c\u4e1a\uff09","1671f067":"# Catalog\n> ## Section \u2160 Business analyse(\u4e1a\u52a1\u5206\u6790)\n>> ###   1.1  Basic attributes(\u57fa\u672c\u5c5e\u6027)\n>> ###   1.2  Business contact\uff08\u4e1a\u52a1\u8054\u7cfb\uff09\n>> ###   1.3  Marketing activities\uff08\u8425\u9500\u6d3b\u52a8\uff09\n>> ###   1.4  Target data(\u76ee\u6807\u6570\u636e)\n> ## Section \u2161 Basic data processing(\u6570\u636e\u57fa\u672c\u5904\u7406)\n>> ###   2.1  data description(\u6570\u636e\u63cf\u8ff0)\n>> ###   2.2  Data cleaning and filtering(\u6570\u636e\u6e05\u6d17\u53ca\u8fc7\u6ee4)\n> ## Section \u2162 EDA\n>> ###   3.1  Job\n>> ###   3.2  Balance\n>> ###   3.3  Marital\n>> ###   3.4  Education\n>> ###   3.5  Housing and Loan\n>> ###   3.6  Deposit\n> ## Section \u2163 Marketing analysis\n>> ###   4.1  Deposit business user age\uff08\u5b58\u6b3e\u4e1a\u52a1\u7528\u6237\u5e74\u9f84\uff09\n>> ###   4.2  Deposit business user job\uff08\u5b58\u6b3e\u4e1a\u52a1\u7528\u6237\u804c\u4e1a\uff09\n>> ###   4.3  Marketing month analysis\uff08\u8425\u9500\u6708\u4efd\u5206\u6790\uff09\n> ## Section \u2164 Prediction Model\n>> ###   5.1  Logistic Regression Model\uff08\u903b\u8f91\u56de\u5f52\u6a21\u578b\uff09\n>> ###   5.2  Random Forest model\uff08\u968f\u673a\u68ee\u6797\u6a21\u578b\uff09\n> ## Section \u2165 Summary","92776d78":"# Section \u2165 Summary","b42cc3d4":"# Section \u2163 Marketing analysis","12b8d590":"# We can find that there is no missing data in this data, so there is no need to interpolate the data. The only problem is that the \"- 1\" in pdays is not cleaned.\n# \u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u8fd9\u4e9b\u6570\u636e\u4e2d\u6ca1\u6709\u4e22\u5931\u7684\u6570\u636e\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u63d2\u503c\u3002\u552f\u4e00\u7684\u95ee\u9898\u662fpdays\u4e2d\u7684\u201c-1\u201d\u6ca1\u6709\u88ab\u6e05\u7406\u3002","a0256005":"# 5.2  Random Forest model\uff08\u968f\u673a\u68ee\u6797\u6a21\u578b\uff09","d908489c":"* # The balance of people with default record is obviously low, which indicates that their economic situation is not very good;\n# \u6709\u8fdd\u7ea6\u8bb0\u5f55\u7684\u4eba\u5458\u76c8\u4f59\u660e\u663e\u504f\u4f4e\uff0c\u8bf4\u660e\u4ed6\u4eec\u7684\u7ecf\u6d4e\u72b6\u51b5\u4e0d\u662f\u5f88\u597d\uff1b\n* # There are several jobs that are better off financially: retired,technician,blue-collar,self-employed\n# \u6709\u51e0\u79cd\u5de5\u4f5c\u5728\u7ecf\u6d4e\u4e0a\u6bd4\u8f83\u597d\uff1aretired,technician,blue-collar,self-employed\n* # Different from the forecast, the level of education does not significantly affect the level of economic balance\n# \u4e0e\u9884\u6d4b\u4e0d\u540c\u7684\u662f\uff0c\u53d7\u6559\u80b2\u7a0b\u5ea6\u5bf9balance\u6c34\u5e73\u7684\u5f71\u54cd\u5e76\u4e0d\u663e\u8457","f3f41f11":"# It can be seen that the marketing results for the elderly (over 60 years old) and young people (under 20 years old) marketing success rate is higher, even in young people will not fail. But with the growth of age, until the middle-aged (30-40 years old) stage, the marketing failure rate will rise, after that, with the further growth of age, the marketing failure rate will start to decrease.\n# \u53ef\u4ee5\u770b\u51fa\uff0c\u8425\u9500\u7684\u7ed3\u679c\u5bf9\u4e8e\u8001\u5e74\u4eba\uff0860\u5c81\u4ee5\u4e0a\uff09\u548c\u5e74\u8f7b\u4eba\uff0820\u5c81\u4ee5\u4e0b\uff09\u7684\u8425\u9500\u6210\u529f\u7387\u66f4\u9ad8\uff0c\u5728\u5e74\u8f7b\u4eba\u4e2d\u751a\u81f3\u4e0d\u4f1a\u5931\u8d25\u3002\u4f46\u662f\u968f\u7740\u5e74\u9f84\u7684\u589e\u957f\uff0c\u76f4\u5230\u4e2d\u5e74\u4eba\uff0830~40\u5c81\uff09\u9636\u6bb5\uff0c\u8425\u9500\u7684\u5931\u8d25\u7387\u4f1a\u6500\u5347\uff0c\u5728\u6b64\u4e4b\u540e\uff0c\u968f\u7740\u5e74\u9f84\u7684\u8fdb\u4e00\u6b65\u589e\u957f\uff0c\u8425\u9500\u5931\u8d25\u7387\u53c8\u4f1a\u5f00\u59cb\u964d\u4f4e\u3002<p>\n#     To sum up, the key marketing targets of banks should be those under 20 years old and over 60 years old.But the 20-to-60-year-old group is the main customer group of the bank, so their feelings also need to be considered.\n# \u7efc\u4e0a\u53ef\u77e5\uff0c\u94f6\u884c\u7684\u91cd\u70b9\u8425\u9500\u5bf9\u8c61\u5e94\u5f53\u662f20\u5c81\u4ee5\u4e0b\u548c60\u5c81\u4ee5\u4e0a\u7684\u7fa4\u4f53\u3002\u4f46\u662f20\u523060\u5c81\u7684\u7fa4\u4f53\u662f\u94f6\u884c\u7684\u4e3b\u8981\u987e\u5ba2\u7fa4\u4f53\uff0c\u4e5f\u9700\u8981\u8003\u8651\u5230\u4ed6\u4eec\u7684\u611f\u53d7\u3002","a3709ab1":"# 4.3 Marketing month analysis\uff08\u8425\u9500\u6708\u4efd\u5206\u6790\uff09","9a930442":"# Redrawing makes it clearer to see the correlation between months and the number of marketing activities, as well as success stories\n# \u91cd\u65b0\u4f5c\u56fe\u53ef\u4ee5\u66f4\u6e05\u695a\u7684\u8ba9\u6211\u4eec\u770b\u5230\u6708\u4efd\u4e0e\u8425\u9500\u6d3b\u52a8\u6b21\u6570\uff0c\u4ee5\u53ca\u6210\u529f\u6848\u4f8b\u7684\u76f8\u5173\u6027","3207b741":" # 2.1 data description(\u6570\u636e\u63cf\u8ff0)","e576ea1f":"* # The average age of clients is about 41 years old, the highest is 95 years old, and the lowest is 18 years old;\n# \u5ba2\u6237\u5e73\u5747\u5e74\u9f8441\u5c81\u5de6\u53f3\uff0c\u6700\u9ad895\u5c81\uff0c\u6700\u4f4e18\u5c81\uff1b\n* # The average customer banlance is 1528, but the standard deviation is very large, indicating that the distribution of this data is very scattered.\n# \u5e73\u5747\u5ba2\u6237\u76c8\u4f59\u4e3a1528\uff0c\u4f46\u6807\u51c6\u5dee\u975e\u5e38\u5927\uff0c\u8bf4\u660e\u8fd9\u4e00\u6570\u636e\u7684\u5206\u5e03\u975e\u5e38\u5206\u6563\u3002\n* # The number of contacts in the last marketing activity ranged from 1 to 63, and the more the corresponding contact times, the higher the customer's participation in the previous campaign was;\n# \u4e0a\u4e00\u6b21\u8425\u9500\u6d3b\u52a8\u4e2d\u7684\u8054\u7cfb\u6b21\u6570\u4e3a1-63\u6b21\uff0c\u5bf9\u5e94\u7684\u8054\u7cfb\u6b21\u6570\u8d8a\u591a\uff0c\u5ba2\u6237\u5bf9\u4e0a\u4e00\u6b21\u6d3b\u52a8\u7684\u53c2\u4e0e\u5ea6\u8d8a\u9ad8\uff1b\n* # The number of days since the last marketing campaign is - 1 ~ 854 days. Why is there - 1? Whether it is data error or not;\n# \u4e0a\u6b21\u8425\u9500\u6d3b\u52a8\u540e\u7684\u5929\u6570\u4e3a-1~854\u5929\u3002\u4e3a\u4ec0\u4e48\u6709-1\uff1f\u662f\u5426\u6570\u636e\u9519\u8bef\uff1b\n* # The cumulative number of contact with customers before the last marketing campaign is 0 ~ 58\n# \u4e0a\u6b21\u8425\u9500\u6d3b\u52a8\u524d\u4e0e\u5ba2\u6237\u7684\u7d2f\u8ba1\u63a5\u89e6\u6b21\u6570\u4e3a0~58\u6b21","62b85706":"# It can be seen that the higher the education level, the more tend to have deposit,and the greater proportion in the banking business.<p>\n# \u8fd9\u91cc\u53ef\u4ee5\u770b\u51fa\uff0c\u53d7\u6559\u80b2\u7a0b\u5ea6\u8d8a\u9ad8\uff0c\u8d8a\u8d8b\u5411\u4e8e\u62e5\u6709\u5b58\u6b3e\uff0c\u4e14\u5728\u94f6\u884c\u7684\u4e1a\u52a1\u4e2d\u5360\u6bd4\u4e5f\u8d8a\u91cd\u3002","cd2485f1":"# It can be seen from the above two pictures that the number of marketing activities in July is the most. However, since many marketing activities in July are actually of unkown's, it is necessary to exclude unkown from drawing again.\n# \u4ece\u4ee5\u4e0a\u4e24\u5f20\u56fe\u53ef\u4ee5\u770b\u5230\u4e03\u6708\u4efd\u7684\u8425\u9500\u6d3b\u52a8\u6700\u591a\uff0c\u4f46\u662f\u7531\u4e8e7\u6708\u4efd\u6709\u5f88\u591a\u8425\u9500\u6d3b\u52a8\u5176\u5b9e\u662funkown\u7684\uff0c\u6240\u4ee5\u8981\u6392\u9664unkown\u91cd\u65b0\u4f5c\u56fe\u3002","641b35e4":"# Section \u2162 EDA","c8ac429e":"# There seems to be little difference in the surplus status among different education levels, because the median value of concentrated surplus is almost the same<p>\n# \u4e0d\u540c\u6559\u80b2\u7a0b\u5ea6\u7684\u76c8\u4f59\u72b6\u51b5\u4f3c\u4e4e\u76f8\u5dee\u4e0d\u5927\uff0c\u56e0\u4e3a\u96c6\u4e2d\u76c8\u4f59\u72b6\u6001\u7684\u4e2d\u503c\u90fd\u5dee\u4e0d\u591a.","2fe66ca9":"# With or without housing loans and personal loans will greatly affect the balance, and those without housing loans and personal loans will have more banlance.\n# \u6709\u65e0\u4f4f\u623f\u8d37\u6b3e\u548c\u4e2a\u4eba\u8d37\u6b3e\u4f1a\u5f88\u5927\u7a0b\u5ea6\u5f71\u54cd\u76c8\u4f59\uff0c\u6ca1\u6709\u4f4f\u623f\u8d37\u6b3e\u548c\u4e2a\u4eba\u8d37\u6b3e\u7684\u5c06\u5177\u6709\u66f4\u591a\u7684\u76c8\u4f59\u3002","ddbc04f8":"# Section \u2164 Prediction Model","5df66f98":"# It can be concluded that:\n# \u53ef\u4ee5\u7efc\u5408\u5f97\u77e5\uff1a\n> # Marketing activities are mainly concentrated in January, April and August;\n# \u8425\u9500\u6d3b\u52a8\u4e3b\u8981\u96c6\u4e2d\u57281\u6708\u30014\u6708\u30018\u6708\uff1b","81ece217":"# A total of 11162 rows and 17 columns of data are defined as follows:\n# \u5171\u670911162\u884c\u548c17\u5217\u6570\u636e\uff0c\u5b9a\u4e49\u5982\u4e0b\uff1a","f2218996":"# 3.4  Education","24cd1335":"# After several parameter adjustments, we found that the parameters we selected in the simple logistic regression model : duration, pdays, previous, campaign,balance\u3002if the parameters are too many, it will affect the prediction of the model.\n# \u7ecf\u8fc7\u51e0\u6b21\u53c2\u6570\u8c03\u6574\u53d1\u73b0\uff0c\u6211\u4eec\u5728\u7b80\u5355\u903b\u8f91\u56de\u5f52\u6a21\u578b\u4e2d\u9009\u62e9\u7684\u53c2\u6570\u6709\uff1aduration, pdays, previous, campaign,balance\uff0c\u5982\u679c\u53c2\u6570\u8fc7\u591a\uff0c\u5219\u53cd\u800c\u4f1a\u5f71\u54cd\u6a21\u578b\u9884\u6d4b\u3002\n\n# In fact, we can see that in the simple logistic regression prediction model, Accuracy rate,Precision rate \uff0cRecall rate are not very ideal. Therefore, we can generally construct a more ideal random forest model.\n# \u5176\u5b9e\u53ef\u4ee5\u770b\u5230\uff0c\u5728\u7b80\u5355\u7684\u903b\u8f91\u56de\u5f52\u9884\u6d4b\u6a21\u578b\u4e2d\uff0c\u51c6\u786e\u7387\uff0c\u7cbe\u786e\u7387\uff0c\u53ec\u56de\u7387\u7684\u767e\u5206\u6bd4\u90fd\u4e0d\u7b97\u5f88\u7406\u60f3\u3002\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4e00\u822c\u800c\u8a00\u5efa\u6784\u5206\u7c7b\u6a21\u578b\u66f4\u7406\u60f3\u7684\u968f\u673a\u68ee\u6797\u6a21\u578b\u3002","1a3d8d5e":"# 4.1  Deposit business user age\uff08\u5b58\u6b3e\u4e1a\u52a1\u7528\u6237\u5e74\u9f84\uff09","73cefa04":"# Section \u2161 Business analyse","4d70785f":"#  We can see that the marital status has no correlation with the balance, and the distribution difference is not big. which is basically between 0 and 10000, but the married people will have a higher value in the balance<p>\n# \u6211\u4eec\u53ef\u4ee5\u770b\u51fa\u5a5a\u59fb\u72b6\u6001\u5bf9\u4e8e\u76c8\u4f59\u800c\u8a00\u6ca1\u6709\u4ec0\u4e48\u76f8\u5173\u6027\uff0c\u5206\u5e03\u5dee\u522b\u4e5f\u4e0d\u5927\u3002\u57fa\u672c\u90fd\u662f\u57280-10000\uff0c\u53ea\u4e0d\u8fc7\u7ed3\u5a5a\u7684\u4eba\u5728\u76c8\u4f59\u4e0a\u4f1a\u6709\u66f4\u9ad8\u7684\u503c","80dacfb4":"# Because it is a classification event to decide whether a person will have a deposit, we think of the construction model in machine learning. One is the simplest logical regression model based on the correlation of numerical variables, and the other is the random forest model, in which the relevant numerical variables and classification variables are included in the model.\n# \u7531\u4e8e\u51b3\u5b9a\u4e00\u4e2a\u4eba\u662f\u5426\u4f1a\u6709\u5b58\u6b3e\u662f\u5c5e\u4e8e\u4e00\u4e2a\u5206\u7c7b\u4e8b\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u673a\u5668\u5b66\u4e60\u4e2d\u60f3\u5230\u7684\u5efa\u6784\u6a21\u578b\uff0c\u4e00\u4e2a\u662f\u6700\u7b80\u5355\u7684\u6839\u636e\u6570\u503c\u53d8\u91cf\u7684\u76f8\u5173\u6027\u5efa\u7acb\u903b\u8f91\u56de\u5f52\u6a21\u578b\uff0c\u53e6\u5916\u4e00\u4e2a\u5219\u662f\u968f\u673a\u68ee\u6797\u6a21\u578b\uff0c\u5c06\u76f8\u5173\u7684\u6570\u503c\u53d8\u91cf\u4e0e\u5206\u7c7b\u53d8\u91cf\u90fd\u7eb3\u5165\u5230\u6a21\u578b\u4e2d\u9884\u6d4b\u3002\n","95569af4":"# 3.3  Marital","14d4d362":"* # students and retirees are more likely to have deposits and succeed in marketing;\n* # \u5b66\u751f\u53ca\u9000\u4f11\u4eba\u5458\u66f4\u52a0\u53ef\u80fd\u6709\u5b9a\u671f\u5b58\u6b3e\uff0c\u540c\u65f6\u5728\u8425\u9500\u65b9\u9762\u53d6\u5f97\u6210\u529f\uff1b\n* # Blue collar workers, entrepreneurs, service providers and technicians are not easy to sell successfully\n* # \u84dd\u9886\u3001\u4f01\u4e1a\u5bb6\u3001\u670d\u52a1\u8005\u3001\u6280\u672f\u5458\u4e0d\u5bb9\u6613\u63a8\u9500\u6210\u529f","348d3959":"* # Management is the most common job type;\n#  \u7ba1\u7406\u662f\u6700\u5e38\u89c1\u7684\u5de5\u4f5c\u7c7b\u578b\uff1b\n* # Retired people are older than other jobs and students are the youngest;\n# \u9000\u4f11\u4eba\u5458\u6bd4\u5176\u4ed6\u5de5\u4f5c\u5e74\u9f84\u5927\uff0c\u5b66\u751f\u5e74\u9f84\u6700\u5c0f\uff1b\n* # Retired people have the most balance\u3002\n# \u9000\u4f11\u7684\u4eba\u6709\u6700\u591a\u7684\u76c8\u4f59\n# \/\/the better chart is stacked column chart\uff0cwe can cut the balance as high,mid,low three type,and see the proportion that every type of job have<p>\n# \/\/\u6bd4\u8f83\u597d\u7684\u56fe\u8868\u662f\u5806\u79ef\u67f1\u5f62\u56fe\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u5e73\u8861\u5206\u4e3a\u9ad8\u3001\u4e2d\u3001\u4f4e\u4e09\u79cd\u7c7b\u578b\uff0c\u770b\u6bcf\u79cd\u5de5\u4f5c\u6240\u5360\u7684\u6bd4\u4f8b","9e330a9e":"# It can be seen that people after the age of 20 are happy to have deposit, while the younger people under 20 are more likely to have no deposit.\n# \u53ef\u4ee5\u770b\u51fa20\u5c81\u4e4b\u540e\u7684\u4eba\u4e50\u4e8e\u62e5\u6709\u5b58\u6b3e\uff0c\u800c20\u5c81\u4ee5\u4e0b\u5e74\u8f7b\u4eba\u5219\u66f4\u5927\u591a\u6570\u662f\u6ca1\u6709\u5b58\u6b3e\u7684\u3002","baed98ad":"# It can be seen that the main deposit business crowd is 20-60 years old\n# \u53ef\u4ee5\u770b\u51fa\u4e3b\u8981\u7684\u5b58\u6b3e\u4e1a\u52a1\u4eba\u7fa4\u96c6\u4e2d\u572820~60\u5c81","e2cd9f5e":"# 3.2  Balance","b1c04ca2":"# 3.5  Housing and Loan"}}