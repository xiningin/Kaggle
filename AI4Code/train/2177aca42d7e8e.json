{"cell_type":{"ce432525":"code","286615ee":"code","e357a7d6":"code","c3fa733d":"code","be0f244d":"code","4faddfca":"code","122f803c":"code","706239b2":"code","82a3df4e":"code","28c0c151":"code","a417aa1a":"code","0b31f324":"code","f952345e":"code","d02d953f":"code","5f1b3de7":"code","acdba301":"code","03c9cc97":"code","2b06aecb":"code","4aaf373c":"code","c1996463":"markdown","b7ad0003":"markdown","16c40aea":"markdown","cb512b47":"markdown","de079800":"markdown","f903f3aa":"markdown","9081bde9":"markdown","d40bb8c0":"markdown","f3f8c95f":"markdown","264c8f22":"markdown","9d39f842":"markdown","8f09ecc7":"markdown","5a7d2393":"markdown","2666de8c":"markdown","28c70e88":"markdown","b42bfdef":"markdown","dd8eecc9":"markdown","5c7d5f81":"markdown"},"source":{"ce432525":"import matplotlib.pyplot as plt\nimport warnings\nimport seaborn as sns\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn import svm, datasets\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import confusion_matrix\nimport xgboost\nfrom plotly.offline import plot, iplot, init_notebook_mode\nimport plotly.graph_objs as go\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\nfrom statsmodels.formula.api import ols\ninit_notebook_mode(connected=True)\nimport plotly\nplotly.offline.init_notebook_mode (connected = True)\n\nwarnings.filterwarnings(\"ignore\")\n\n%matplotlib inline\nds=pd.read_csv(\"..\/input\/zomato-bangalore-restaurants\/zomato.csv\")","286615ee":"ds[\"rate\"]=ds[\"rate\"].fillna(0)\nli=[]\nfor i in range(0,len(ds)):\n    a=ds.iloc[i,5]\n    try:\n        b=float(a[:-2])\n        li.append(b)\n    except:\n        li.append(0)\nds[\"rate\"]=li\nres=ds.nlargest(30,[\"votes\",\"rate\"])\ngrp=res.groupby(\"name\")\nres=grp.mean()","e357a7d6":"fig = px.bar(res, y=res.rate, x=res.index, text=res.votes)\nfig.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","c3fa733d":"from textblob import TextBlob","be0f244d":"sent=[]\nfor i in range(0,len(ds)):\n    analysis = TextBlob(ds.loc[i,\"reviews_list\"])\n    if analysis.sentiment.polarity > 0:\n        sent.append(\"positive\")\n    elif analysis.sentiment.polarity == 0:\n        sent.append(\"Neutral\")\n    else:\n        sent.append(\"negative\")\nds[\"reviews_list\"]=sent","4faddfca":"#ds=pd.read_csv('processed.csv')","122f803c":"ds[\"Count\"]=1\npos=ds[ds[\"reviews_list\"]==\"positive\"]\nneg=ds[ds[\"reviews_list\"]==\"negative\"]\ncnt_pos=pos.groupby(\"listed_in(type)\").sum()\ncnt_neg=neg.groupby(\"listed_in(type)\").sum()","706239b2":"fig = go.Figure()\n\nfig.add_trace(go.Indicator(\n    mode = \"number+gauge+delta\", value = 0,\n    delta = {'reference': 0},\n    domain = {'x': [0.25, 1], 'y': [0.08, 0.25]},\n    title = {'text': \"Neutral\"},\n    gauge = {\n        'shape': \"bullet\",\n        'axis': {'range': [None, 300]},\n        'threshold': {\n            'line': {'color': \"black\", 'width': 2},\n            'thickness': 0.75,\n            'value': 170},\n        'steps': [\n            {'range': [0, 150], 'color': \"gray\"},\n            {'range': [150, 250], 'color': \"lightgray\"}],\n        'bar': {'color': \"black\"}}))\n\nfig.add_trace(go.Indicator(\n    mode = \"number+gauge+delta\", value = 4324,\n    delta = {'reference': 200},\n    domain = {'x': [0.25, 1], 'y': [0.4, 0.6]},\n    title = {'text': \"Negative\"},\n    gauge = {\n        'shape': \"bullet\",\n        'axis': {'range': [None, 5000]},\n        'threshold': {\n            'line': {'color': \"black\", 'width': 2},\n            'thickness': 0.75,\n            'value': 50},\n        'steps': [\n            {'range': [0, 200], 'color': \"gray\"},\n            {'range': [200, 500], 'color': \"lightgray\"}],\n        'bar': {'color': \"black\"}}))\n\nfig.add_trace(go.Indicator(\n    mode = \"number+gauge+delta\", value = 39629,\n    delta = {'reference': 200},\n    domain = {'x': [0.25, 1], 'y': [0.7, 0.9]},\n    title = {'text' :\"Positive\"},\n    gauge = {\n        'shape': \"bullet\",\n        'axis': {'range': [None, 51717]},\n        'threshold': {\n            'line': {'color': \"black\", 'width': 2},\n            'thickness': 0.75,\n            'value': 210},\n        'steps': [\n            {'range': [0, 25000], 'color': \"gray\"},\n            {'range': [25000, 51717], 'color': \"lightgray\"}],\n        'bar': {'color': \"black\"}}))\nfig.update_layout(height = 400 , margin = {'t':0, 'b':0, 'l':0})\n\nfig.show()","82a3df4e":"labels = list(cnt_pos.index)\n\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]])\nfig.add_trace(go.Pie(labels=labels, values=list(cnt_pos.Count), name=\"Positive\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=labels, values=list(cnt_neg.Count), name=\"Negative\"),\n              1, 2)\n\n# Use `hole` to create a donut-like pie chart\nfig.update_traces(hole=.4, hoverinfo=\"label+percent+name\")\n\nfig.update_layout(\n    annotations=[dict(text='Positive', x=0.18, y=0.5, font_size=20, showarrow=False),\n                 dict(text='Negative', x=0.82, y=0.5, font_size=20, showarrow=False)])\nfig.show()\n","28c0c151":"to=ds.groupby([\"listed_in(type)\",\"name\"]).sum()\n\nlis=list(to.index)\n\nval1=[]\nfor i in range(0,len(lis)):\n    val1.append(lis[i][0])\n\n\nst=set(val1)\n\ntype_rest=[]\ncnt=[]\nfor i in st:\n    type_rest.append(i)\n    cnt.append(val1.count(i))\n    \n    \n\ntype_rest,cnt\ndff=pd.DataFrame()\ndff[\"Types of Zomato Restaurants in Bangalore\"]=type_rest\ndff[\"Count of Restaurants in Bangalore\"]=cnt\nfig = px.bar(dff, x=\"Types of Zomato Restaurants in Bangalore\", y=\"Count of Restaurants in Bangalore\",\n         height=400)\nfig.show()","a417aa1a":"cost=[]\nfor i in range (0,len(ds)):\n    it=ds.loc[i,\"approx_cost(for two people)\"]\n    try:\n        a=it.replace(\",\",\"\")\n        a=float(a)\n        cost.append(a)\n    except:\n        cost.append(it)\nds[\"approx_cost(for two people)\"]=cost\ntop_cost=ds.nsmallest(15,\"approx_cost(for two people)\")\ntop_cst=top_cost.loc[:,[\"dish_liked\",\"approx_cost(for two people)\",\"listed_in(type)\",\"listed_in(city)\",\"name\"]]","0b31f324":"\nfig = px.funnel(top_cst, x='approx_cost(for two people)', y='name', color='listed_in(type)')\nfig.show()","f952345e":"cost=[]\nfor i in range (0,len(ds)):\n    it=ds.loc[i,\"approx_cost(for two people)\"]\n    try:\n        a=it.replace(\",\",\"\")\n        a=float(a)\n        cost.append(a)\n    except:\n        cost.append(it)\nds[\"approx_cost(for two people)\"]=cost\ntop_cost=ds.nlargest(10,\"approx_cost(for two people)\")\ntop_cst=top_cost.loc[:,[\"dish_liked\",\"approx_cost(for two people)\",\"listed_in(type)\",\"listed_in(city)\",\"name\"]]","d02d953f":"\nfig = px.funnel(top_cst, x='approx_cost(for two people)', y='name', color='listed_in(type)')\nfig.show()","5f1b3de7":"fin=ds.loc[:,[\"rate\",\"listed_in(type)\",\"approx_cost(for two people)\"]]","acdba301":"fig = px.histogram(fin, x=\"rate\", color=\"listed_in(type)\")\nfig.show()","03c9cc97":"df = px.data.gapminder()\ndf_2007 = df.query(\"year==2007\")\nfig = px.scatter(ds,\n                     x=\"rate\", y=\"approx_cost(for two people)\", size=\"votes\", color=\"reviews_list\",\n                     log_x=True, size_max=60,\n                     template=\"plotly_dark\")\nfig.show()\n","2b06aecb":"order=ds.groupby([\"online_order\",\"book_table\"]).sum()\ndel order[\"Unnamed: 0\"]\n#del order[\"Count\"]\ndel order[\"approx_cost(for two people)\"]\norder","4aaf373c":"fig =go.Figure(go.Sunburst(\n    labels=[\"type\", \"Online_order\",\"Book_table\",\"Yes\",\"Yes\",\"No\",\"No\"],\n    parents=[\"\", \"type\",\"type\",\"Online_order\",\"Book_table\" , \"Online_order\",\"Book_table\" ],\n    values=[51717, 29283, 22434, 26639, 3805, 2644, 18629],\n))\nfig.update_layout(margin = dict(t=0, l=0, r=0, b=0))\n#51717, 29283, 22434\nfig.show()","c1996463":"# \ud83d\udcce Rating based on the Review list","b7ad0003":"\ud83d\udccc\n* This plot cleary says , \n        * Negative review cases are gotten less rating , which ensures the reliability of the data\n ","16c40aea":"\ud83d\udccc\n* Rating spread is looks some how equally with all types , there are not specific discrimination on the rating based on the type","cb512b47":"# \ud83d\udcce Sentiment Analysis \ud83d\ude0a \ud83d\ude14 \ud83d\ude10\n\n![](https:\/\/www.kdnuggets.com\/images\/sentiment-fig-1-689.jpg)\n\n\ud83d\udccc\n\nSentiment analysis is the interpretation and classification of emotions (positive, negative and neutral) within text data using text analysis techniques. Sentiment analysis tools allow businesses to identify customer sentiment toward products, brands or services in online feedback","de079800":"## \ud83d\udcce Over all Review Report \ud83d\ude0a \ud83d\ude14 \ud83d\ude10","f903f3aa":"# \ud83d\udcce Top 5 Restaurants with High food cost based on Type \ud83c\udf2d \ud83c\udf54 \ud83c\udf5f \ud83d\udcb5","9081bde9":"# \ud83d\udcce Online order VS Book Table","d40bb8c0":"### Top 5 Restaurants in Bangalore based on the Highest voting and Ratings","f3f8c95f":"## \ud83d\udcce Sentiment analysis on Restaurant Type \ud83d\udcca","264c8f22":"# \ud83d\udcce Top 5 Restaurants with low food cost  based on Type \ud83c\udf2e \ud83c\udf2f \ud83e\udd57","9d39f842":"\ud83d\udccc\n\n*Restaurants Names*\n* AB's -Absolute Barbecues - 4.8 rate(mean) \n* Byg Brewski Brewing Company - 4.9 rate(mean) \n* The Black Pearl - 4.7 rate(mean) \n* Toit - 4.7 rate(mean) \n* Truffles - 4.7 rate(mean)","8f09ecc7":"\ud83d\udccc\n*            Desserts -1009\n*               Buffet - 281\n*                 Cafes - 555\n*              Delivery -6636\n*    Drinks & nightlife - 382\n*         Pubs and bars -317\n*              Dine-out -6379","5a7d2393":"# \ud83d\udcce Ratings based on the types of Restaurants","2666de8c":"### Would Continue.....","28c70e88":"# \ud83d\udcce Types of Zomato Restaurants in Bangalore","b42bfdef":"# \ud83d\udcce  Zomato Bangalore Restaurants\n\n![](https:\/\/vignette.wikia.nocookie.net\/logopedia\/images\/9\/9b\/Zomato.png\/revision\/latest\/scale-to-width-down\/340?cb=20200321171709)\n\n\nZomato is an Indian restaurant aggregator and food delivery start-up founded by Deepinder Goyal and Pankaj Chaddah in 2008. Zomato provides information, menus and user-reviews of restaurants as well as food delivery options from partner restaurants in select cities.\n\n* Industry :\tOnline food ordering Retail\n* Services :\tRestaurant Search & Discovery, Online Ordering, Table Reservations & Management, POS Systems, Subscription Service\n* Employees:\t5,000+\n\n### Zomoto Got 3x Revenue in the last year (2019)\n\n![](https:\/\/www.zomato.com\/blog\/wp-content\/uploads\/2019\/04\/FY19-1024x587.png)\n\n\n### Right now (2020)\n* Revenue in the first six months of FY2020 has exceeded our last year\u2019s (like to like) annual revenue.\n* Loss \u2013 our monthly burn rate is down to 60% of what it was six months ago. We achieved tremendous results in optimising our costs, without affecting new product launches or innovation.\n![](https:\/\/www.zomato.com\/blog\/wp-content\/uploads\/2019\/10\/EBITDA-768x369.png)","dd8eecc9":"\ud83d\udccc\n* On the Positive side , for Delivery and Dine-out has got much positive review\n\n##### Whilst\n\n* On the Negative side , 62% is been given negative feedback for the Delivery\n\n* So , there is really something problem with the Delivery side","5c7d5f81":"## Upvote my Kernel if you like it. \n\n# \ud83d\udcce  Get into the Bangalore's Zomato Restaurants"}}