{"cell_type":{"e55e339b":"code","bcbb56f9":"code","cd93bd76":"code","8feb1a58":"code","95c6a6e3":"markdown","e72392b2":"markdown","8614c52b":"markdown","74991d6a":"markdown","79cf0bcc":"markdown"},"source":{"e55e339b":"import os\nimport numpy as np\nimport pandas as pd\nfrom tqdm import tqdm\nfrom PIL import Image","bcbb56f9":"def get_size_list(targets, dir_target):\n\n    result = list()\n\n    for target in tqdm(targets):\n\n        img = np.array(Image.open(os.path.join(dir_target, target)))\n        result.append(str(img.shape))\n\n    return result","cd93bd76":"data = pd.read_csv('..\/input\/train.csv')\ndata['size_info'] = get_size_list(data.Image.tolist(), dir_target='..\/input\/train')\ndata.to_csv('.\/size_train.csv', index=False)","8feb1a58":"counts = data.size_info.value_counts()\n\nagg = data.groupby('size_info').Id.agg({'number_sample': len,\n                                        'rate_new_whale': lambda g: np.mean(g == 'new_whale')})\n\nagg = agg.sort_values('number_sample', ascending=False)\nagg.to_csv('result.csv')\nprint(agg.head(20))\n","95c6a6e3":"## Group by shape and summerize\nSummerizing number of samples and rate of `new_whale, we can see unnatual bias.\n(700, 1050, 3), (600, 1050, 3) includes 23-25% of new_whales. On the other hand, (600, 1050) includes 89% of new_whale.","e72392b2":"# Conclusion\nIt seems that image size is related to the rate of `new_whale`. Does this feature help us ? Please your comment.","8614c52b":"# Introduction\n\nI found out that image size is related to the rate (probability) of `new_whale`. Check below example if you are interested.\n\n# Example\n## Import Packages\n\ncv2 is faster, but PIL is easy to distinguish gray scale images and RGB color images.\n","74991d6a":"## Make function to get image shapes\nmake the list of image shapes. Gray scale images are two dimensional array, Color images are three dimensional array.","79cf0bcc":"## Get image shape for each train image\nload `train.csv` and add a column which represents size of images."}}