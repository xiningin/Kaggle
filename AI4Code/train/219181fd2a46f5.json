{"cell_type":{"7b95b1c4":"code","34a1e7d8":"code","11eab21f":"markdown","19e136f2":"markdown","a2b2b6c3":"markdown","f9d8a4d7":"markdown","0ecd897a":"markdown"},"source":{"7b95b1c4":"# c\u00f3digo respons\u00e1vel por gerar os dados de decomposi\u00e7\u00e3o dos casos confirmados de covid-19 na cidade de blumenau\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pylab as plt\nfrom statsmodels.tsa.seasonal import seasonal_decompose\n\ndate_parse = lambda dates: pd.datetime.strptime(dates, '%Y-%m-%d')\ndf = pd.read_csv('blumenau.csv', parse_dates= ['Date'], index_col= 'Date', date_parser= date_parse)\n\ndata = df.Confirmed # podemos mudar essa coluna para Death, UTI ou Recovered e gerar decomposi\u00e7\u00e3o para qualquer um desses dados\ndata = data.dropna().asfreq('d')\n\ndecomposition = seasonal_decompose(data)\ntrend = decomposition.trend\nseasonal = decomposition.seasonal\nresid = decomposition.resid\n\nplt.subplot(4, 1, 1)\nplt.plot(data, label = 'Original')\nplt.legend(loc = 'best')\n\nplt.subplot(4, 1, 2)\nplt.plot(trend, label = 'Tendencia')\nplt.legend(loc = 'best')\n\nplt.subplot(4, 1, 3)\nplt.plot(seasonal, label = 'Sazonalidade')\nplt.legend(loc = 'best')\n\nplt.subplot(4, 1, 4)\nplt.plot(resid, label = 'Aleatorio')\nplt.legend(loc = 'best')\n\nplt.tight_layout()\nplt.show()\n","34a1e7d8":"import pandas as pd\nimport pmdarima as pm\nimport matplotlib.pylab as plt\nfrom statsmodels.tsa.arima_model import ARIMA\n\ndate_parse = lambda dates: pd.datetime.strptime(dates, '%Y-%m-%d')\ndf = pd.read_csv('blumenau.csv', parse_dates= ['Date'], index_col= 'Date', date_parser= date_parse)\n\ndata = df.Confirmed\ndata = data.dropna().asfreq('d')\n\nmodelo_auto = pm.auto_arima(data, m=30)\n\nmodelo = ARIMA(data, order=modelo_auto.get_params()['order'])\nmodelo_treinado = modelo.fit()\nmodelo_treinado.summary()\n\n\neixo = data.plot()\nmodelo_treinado.plot_predict('2020-07-01', '2020-07-31', ax = eixo, plot_insample = True)\nplt.show()\n\n","11eab21f":"### An\u00e1lise dos casos confirmados\n\nPrimeiramente vamos analisar os dados confirmados de covid-19 na cidade de blumenau.\n\n![confirmed](https:\/\/i.imgur.com\/xLfWRG3.png)\n\nOlhando gr\u00e1fico acima podemos observar uma s\u00e9rie de fatores interessantes:\n\n1. A tend\u00eancia dos casos confirmados \u00e9 exponencial de alta como j\u00e1 vem sendo verificado ao redor do mundo.\n2. A sazonalidade apresentada corresponde a um padr\u00e3o, j\u00e1 que todos os dias se confirmam novos casos\n3. E a parte mais interessante do gr\u00e1fico, a aleatoriedade dos dados.\n\nPodemos observar no \u00faltimo gr\u00e1fico, o de aleatoriedade, (gr\u00e1fico que mede a varia\u00e7\u00e3o de dados em fun\u00e7\u00e3o do acaso, fugindo ao padr\u00e3o dos dados) que tivemos alta varia\u00e7\u00e3o no n\u00famero de infectados em 2 momentos:\n\n* Dia 25 de abril\n* Dia 28 de junho\n\nE por que tivemos essa varia\u00e7\u00e3o aleat\u00f3ria nesses dias?\nbom, apesar de o gr\u00e1fico se chamar aleat\u00f3rio, a explica\u00e7\u00e3o \u00e9 bem \u00f3bvia.\n\nPara o dia **25 de abril**, **2 semanas antes**, no dia 14 de abril tivemos a reabertura do com\u00e9rcio em blumenau, portanto, 2 semanas depois tivemos o reflexo disso na alta de casos confirmados na cidade. \u00c9 tamb\u00e9m interessante verificar que na mesma data no primeiro gr\u00e1fico (original) tivemos uma subida mais acentuada do que vinha tendo desde o in\u00edcio da pandemia.\n\nPara o dia **28 de junho**, **2 semanas antes**, no dia 14 de junho, tivemos a volta do transporte coletivo em blumenau, esse acentuando de forma muito mais aguda o n\u00famero de casos confirmados, como pode tamb\u00e9m ser observado no primeiro gr\u00e1fico.","19e136f2":"### Conclus\u00e3o\n\nEncerro minha an\u00e1lise com algumas previs\u00f5es dos gr\u00e1ficos gerados.\n\n1. Considerando o n\u00famero de leitos atualmente dispon\u00edvel na cidade de blumenau, o gr\u00e1fico de previs\u00e3o para a ocupa\u00e7\u00e3o de leitos de UTI, sugere que o sistema de sa\u00fade entrar\u00e1 em colapso dentro de pouco tempo (pela curva do gr\u00e1fico, podemos analisar que em menos de 15 dias poder\u00e1 colapsar) se nada for feito.\n\n2. A pandemia acelerou muito depois das medidas de relaxamento impostas pela prefeitura de blumenau.\n\n3. O n\u00famero de mortos continuar\u00e1 aumentando com acelera\u00e7\u00e3o exponencial.","a2b2b6c3":"# Blumenau covid-19 an\u00e1lises e previs\u00f5es\n\nEsse artigo trata das an\u00e1lises e previs\u00f5es referentes ao covid-19 na cidade de blumenau\/SC\n\n1. Os dados foram coletados atrav\u00e9s do facebook da prefeitura de blumenau que divulga diariamente os n\u00fameros\n2. Esse artigo tem por objetivo analisar atrav\u00e9s de **decomposi\u00e7\u00e3o** os dados j\u00e1 obtidos e tamb\u00e9m fazer **previs\u00f5es** em cima dos mesmos dados.\n3. Todas as an\u00e1lises feitas estar\u00e3o disponibilizadas em formato de c\u00f3digo, bem como os gr\u00e1ficos gerados\n4. o CSV usado para as an\u00e1lises tamb\u00e9m estar\u00e1 dispon\u00edvel","f9d8a4d7":"### Previs\u00f5es de casos confirmados\n\nVamos analisar agora a previs\u00e3o dos casos confirmados para a cidade de blumenau.\n\nObs: Usei o modelo estat\u00edstico ARIMA (m\u00e9dia movel) para fazer as proje\u00e7\u00f5es.\n\n![confirmed_forecast](https:\/\/i.imgur.com\/Nfw4qKW.png)\n\nVamos tentar entender o que esse gr\u00e1fico representa:\n\n1. Linha Azul: s\u00e3o os dados que ja temos coletados\n2. Linha Laranja: \u00c9 a previs\u00e3o matem\u00e1tica desde o dia 1 de junho at\u00e9 31 de julho\n3. Linha Verde: \u00c9 os dados que ja temos para a data de 1 de junho at\u00e9 hoje 10 de julho.\n4. \u00c1rea cinza: varia\u00e7\u00e3o poss\u00edvel da previs\u00e3o.\n\nInteressante perceber que pedimos no algoritmo uma previs\u00e3o desde o dia 1 de junho, mas ja temos dados para essa data, por\u00e9m \u00e9 interessante verificar que a previs\u00e3o dada para essa data (linha laranja) condiz com os dados reportados pela prefeitura.\n\nCom base nisso, podemos dizer que se nenhuma atitude por parte da prefeitura for tomada, teremos um aumento exponencial de casos de covid-19 at\u00e9 o final de julho, podendo chegar a um n\u00famero de 7200 \u00e0 mais de 8000 casos confirmados da doen\u00e7a.","0ecd897a":"### Outros gr\u00e1ficos\n\nVou deixar aqui os gr\u00e1ficos gerados para os outros dados que temos no **csv**, para gerar os mesmos gr\u00e1ficos, basta trocar no algotirmo acima aonde temos:\n> \n`data = df.Confirmed` \n\npara usar algum das outras colunas dispon\u00edvel:\n\n`Df.Death`\n`Df.UTI`\n`Df.Recovered`\n\n#### Decomposi\u00e7\u00e3o dos dados de n\u00famero de mortos\n![death_decomposition](https:\/\/i.imgur.com\/kovA7D1.png)\n\n#### Decomposi\u00e7\u00e3o dos dados de n\u00famero de recuperados\n![recovered_decomposition](https:\/\/i.imgur.com\/jTh4BOi.png)\n\n#### Decomposi\u00e7\u00e3o dos dados de n\u00famero de ocupa\u00e7\u00e3o dos leitos de UTI\n![uti_decomposition](https:\/\/i.imgur.com\/GiW9kFN.png)\n\n#### Previs\u00e3o do n\u00famero de mortos at\u00e9 o dia 31 de julho\n![death_forecast](https:\/\/i.imgur.com\/3ERD0Lb.png)\n\n#### Previs\u00e3o do n\u00famero de recuperados at\u00e9 o dia 31 de julho\n![recovered_forecast](https:\/\/i.imgur.com\/vRgkQYu.png)\n\n#### Previs\u00e3o do n\u00famero de ocupa\u00e7\u00e3o dos leitos de UTI at\u00e9 o dia 31 de julho\n![uti_forecast](https:\/\/i.imgur.com\/S5q5CzJ.png)"}}