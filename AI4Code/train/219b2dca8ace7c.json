{"cell_type":{"28c67379":"code","91fe7912":"code","e0d91b32":"code","f0427540":"code","9bb7ac2e":"markdown"},"source":{"28c67379":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport datetime, time\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        os.path.join(dirname, filename)\n        \ndf = pd.read_csv(\"..\/input\/smart-meters-in-london\/halfhourly_dataset\/halfhourly_dataset\/block_0.csv\")        \nhouseholdInfos = pd.read_csv(\"..\/input\/smart-meters-in-london\/halfhourly_dataset\/halfhourly_dataset\/block_0.csv\")        \n\nprint(df.head())\nprint(df.columns)\n\nhousehold = \"MAC000002\"\n\ndf = df[df[\"LCLid\"] == household ]\n\n\"\"\"\nfor i in range(df.shape[0]):\n    df.loc[i,'datetime'] = datetime.datetime.strptime(df.loc[i,'tstp'].replace('.0000000', ''), '%Y-%m-%d %H:%M:%S')\n    df.loc[i,'date'] = df.loc[i,'datetime'].date()\n    df.loc[i,'month'] = df.loc[i,'datetime'].strftime(\"%B\")\n    df.loc[i,'day_of_month'] = df.loc[i,'datetime'].strftime(\"%d\")\n    df.loc[i,'time'] = df.loc[i,'datetime'].strftime('%X')\n    df.loc[i,'weekday'] = df.loc[i,'datetime'].strftime('%A')\n\"\"\"\ndef myfunc(df):\n    for i in range(df.shape[0]):\n#    for i in range(40):\n        df.loc[i,'datetime'] = datetime.datetime.strptime(df.loc[i,'tstp'].replace('.0000000', ''), '%Y-%m-%d %H:%M:%S')\n        df.loc[i,'month'] = df.loc[i,'datetime'].strftime(\"%B\")\n        df.loc[i,'day_of_month'] = int(df.loc[i,'datetime'].strftime(\"%d\"))\n        df.loc[i,'time'] = df.loc[i,'datetime'].strftime('%X')\n        df.loc[i,'year'] = df.loc[i,'datetime'].strftime(\"%Y\")\n\nmyfunc(df)\n\n\n#result = result.head(50)\n#print(result)\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","91fe7912":"\ndef getPlotOfTheDay(year,month,day,df):\n    print(df[(df['year']==year)&(df['month']==month) & (df['day_of_month'] ==float(day) )])\n    return df[(df['year']==year)&(df['month']==month) & (df['day_of_month'] ==float(day) )]\n\n\n\ngetPlotOfTheDay(\"2012\",\"November\",20,df)","e0d91b32":"df = df[df[\"energy(kWh\/hh)\"] != \"Null\"]\n\ndf.loc[:,\"energy(kWh\/hh)\"] = df[\"energy(kWh\/hh)\"].astype(\"float64\")\n","f0427540":"\nfor i in [22,23,24]:\n    day = getPlotOfTheDay(\"2013\",\"November\",i,df)\n    day.plot(y=\"energy(kWh\/hh)\",x=\"time\")","9bb7ac2e":"This notebook is about plotting daily consumption. I got inspired the work of @NICOLE WHEELER that she had formed a detailed date addition to the original data"}}