{"cell_type":{"80d34c38":"code","7fe57cfa":"code","60d846e1":"code","6bbeb263":"code","6b214fdd":"code","35692695":"code","017be32b":"code","42a4ca5b":"code","4840887c":"code","a33c40bb":"code","dc49dfb3":"code","c9fbe993":"code","779a6485":"code","2a2654f3":"code","3f041fe4":"code","d8de65be":"code","b1fe9bcc":"code","fe0051a8":"code","1f248358":"code","553000e7":"code","a1c4b9ca":"code","fda2b345":"code","da447441":"code","48569bc0":"code","9bdb5b9d":"code","907b0040":"markdown","1941b943":"markdown","fa524c63":"markdown","b14e905d":"markdown","aa7d013c":"markdown","73074ab5":"markdown","54c1c20d":"markdown","16ce9ee1":"markdown","c1952cea":"markdown","e1c5f1ff":"markdown","200d0a2e":"markdown","a1a56a40":"markdown","bac2dd45":"markdown","9f183078":"markdown","8cdb042b":"markdown","445dea7a":"markdown","0d7cdb69":"markdown","8503468d":"markdown","c652d58d":"markdown","aabe529c":"markdown","92c1b775":"markdown","c91004eb":"markdown","5a468b0c":"markdown","41b36575":"markdown","5fc748c3":"markdown","3e5afaf6":"markdown","b43904af":"markdown","28d2b9ba":"markdown","bf78dd51":"markdown","c7e59b02":"markdown","d5fe0094":"markdown","daa53ed3":"markdown","ad42bd00":"markdown","674a9137":"markdown"},"source":{"80d34c38":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","7fe57cfa":"# Load haberman.csv into a pandas dataFrame\ndf = pd.read_csv('..\/input\/habermans-survival-data-set\/haberman.csv')\ndf.head()","60d846e1":"df = pd.read_csv('..\/input\/habermans-survival-data-set\/haberman.csv',names=['patient_age','operation_year','axillary_nodes','survival_status'])\ndf.head()","6bbeb263":"# how many data-points and features?\ndf.shape","6b214fdd":"df.info()","35692695":"df.describe()","017be32b":"# column names in our dataset?\ndf.columns","42a4ca5b":"# How many patient survived 5+ years or died within 5 years.\ndf['survival_status'].value_counts()","4840887c":"patches, texts = plt.pie(df.survival_status.value_counts())\nplt.legend(patches, [\"Long Survived\",\"Short Survived\"], loc=\"best\")\nplt.tight_layout()\nplt.show()","a33c40bb":"df.plot(kind='scatter', x='patient_age', y='axillary_nodes')\nplt.title('Axillary Nodes vs Patient Age:', size=20)\nplt.show()","dc49dfb3":"sns.set_style(\"whitegrid\")\nsns.FacetGrid(df, hue=\"survival_status\", height=5).map(plt.scatter, \"patient_age\", \"axillary_nodes\").add_legend()\nplt.show()","c9fbe993":"sns.set_style(\"whitegrid\")\nsns.FacetGrid(df, hue=\"survival_status\", height=5).map(plt.scatter, \"patient_age\", \"operation_year\").add_legend()\nplt.show()","779a6485":"#3D Scatter plot\nimport plotly.express as px\nfig = px.scatter_3d(df, x='operation_year', y='patient_age', z='axillary_nodes',color='survival_status')\nfig.show()","2a2654f3":"plt.close();\nsns.set_style(\"whitegrid\");\nsns.pairplot(df, hue=\"survival_status\",palette=\"viridis\", height=3);\nplt.show()\n# NOTE: the diagnol elements are PDFs for each feature. PDFs are expalined below.","3f041fe4":"#1-D scatter plot of survival status\nsurvived_longer = df.loc[df[\"survival_status\"] == 1];\nsurvived_shorter = df.loc[df[\"survival_status\"] == 2];\n\nplt.plot(survived_longer[\"axillary_nodes\"], np.zeros_like(survived_longer['axillary_nodes']), 'r')\nplt.plot(survived_shorter[\"axillary_nodes\"], np.zeros_like(survived_shorter['axillary_nodes']), 'o')\nplt.title(\"survival status univarite scatterplot\")\nplt.show()","d8de65be":"#Analysis of auxillary nodes\nsns.FacetGrid(df,hue=\"survival_status\",height=8).map(sns.distplot,\"axillary_nodes\").add_legend()\nplt.title('Histogram of axillary nodes detected', fontsize=15)\nplt.show()","b1fe9bcc":"#Analysis of Patient Age\nsns.FacetGrid(df, hue=\"survival_status\",height=5).map(sns.distplot, \"patient_age\").add_legend()\nplt.title('Histogram of ages of patients', fontsize=15)\nplt.show()","fe0051a8":"#Analysis of Operation year\nsns.FacetGrid(df,hue=\"survival_status\",height=5).map(sns.distplot,\"operation_year\").add_legend()\nplt.title('Histogram of operation year of patients', fontsize=15)\nplt.show()","1f248358":"# Plots of CDF of axillary_nodes for survival status.\nplt.figure(figsize=(20,10))\n# survived_long\ncounts, bin_edges = np.histogram(survived_longer['axillary_nodes'], bins=10, density = True)\npdf = counts\/(sum(counts))\n# print(pdf);\n# print(bin_edges)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:],pdf)\nplt.plot(bin_edges[1:], cdf)\n\n\n# survived_short\ncounts, bin_edges = np.histogram(survived_shorter['axillary_nodes'], bins=10, density = True)\npdf = counts\/(sum(counts))\n# print(pdf);\n# print(bin_edges)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:],pdf)\nplt.plot(bin_edges[1:], cdf)\nplt.xlabel('Axillary Lymph Nodes')\nplt.legend([\"1- PDF of high survival of more than 5 years\",\"2- CDF of high survival of more than 5 years\",\n            \"3- PDF of low survival of less than 5 years\",\"4- CDF of low survival of less than 5 years\"])\nplt.show()","553000e7":"print(\"Axillary_nodes:\\n\")\nprint(\"Mean of number of nodes for people who survived 5+ years is: \",np.mean(survived_longer[\"axillary_nodes\"]))\nprint(\"STD of number of nodes for people who survived 5+ years is: \",np.std(survived_longer[\"axillary_nodes\"]))\nprint(\"\\nMean of number of nodes for people who survived <5 years is: \",np.mean(survived_shorter[\"axillary_nodes\"]))\nprint(\"STD of number of nodes for people who survived <5 years is: \",np.std(survived_shorter[\"axillary_nodes\"]))","a1c4b9ca":"#Median, Quantiles, Percentiles, IQR.\nprint(\"\\nMedians:\")\nprint(\"Median of number of nodes for people who survived 5+ years: \",np.median(survived_longer[\"axillary_nodes\"]))\nprint(\"Median of number of nodes for people who survived <5 years: \",np.median(survived_shorter[\"axillary_nodes\"]))\n\n\nprint(\"\\nQuantiles:\")\nprint(\"percentiles of long survival are \",np.percentile(survived_longer[\"axillary_nodes\"],np.arange(0, 100, 25)))\nprint(\"percentiles of short survival are \",np.percentile(survived_shorter[\"axillary_nodes\"],np.arange(0, 100, 25)))\n\nprint(\"\\n90th Percentiles:\")\nprint(\"90th percentile for long survival is\",np.percentile(survived_longer[\"axillary_nodes\"],90))\nprint(\"90th percentile for short survival is\",np.percentile(survived_shorter[\"axillary_nodes\"],90))\n\nfrom statsmodels import robust\nprint (\"\\nMedian Absolute Deviation\")\nprint(\"MAD of number of nodes for people who survived 5+ years: \",robust.mad(survived_longer[\"axillary_nodes\"]))\nprint(\"MAD of number of nodes for people who survived <5 years: \",robust.mad(survived_shorter[\"axillary_nodes\"]))","fda2b345":"sns.boxplot(x='survival_status',y='axillary_nodes', data=df)\nplt.show()","da447441":"sns.violinplot(x='survival_status',y='axillary_nodes', data=df, height=5)\nplt.show()","48569bc0":"#2D Density plot, contors-plot\nsns.jointplot(x='patient_age',y='axillary_nodes', data= df, hue=\"survival_status\",height= 9, kind=\"kde\")\nplt.show()","9bdb5b9d":"corr = df.corr()\nsns.heatmap(corr, xticklabels=corr.columns,yticklabels=corr.columns)","907b0040":"### **Correlation**\nLet's plot correlations between columns","1941b943":"## **Haberman's Survival Data:**\n\n### The dataset contains cases from a study that was conducted between 1958 and 1970 at the University of Chicago's Billings Hospital on the survival of patients who had undergone surgery for breast cancer.","fa524c63":"**OBSERVATION:**\n\n1. axillary_nodes and patient_age are the most useful features to identify chances of survival.\n2. It is clear that if the number of axillary nodes is very less, roughly between 0-5, then the chances of survival are more.","b14e905d":"**2-D Scatter plot with color-coding for each Survival status\/class.**\n\nWe draw multiple 2-D scatter plots for each combination of features\n\nHow many cobinations exist? 3C2 = 3.","aa7d013c":"### **OBJECTIVE:** We have to find out whether the patients will survive more than 5 years or not.","73074ab5":"### axillary_nodes is the useful features to indentify the survival status. since, the both distributions are way different from each other.\n### **Let's Use CDF to find the exact percentage of people who will survive and who will not**","54c1c20d":"**Independent Columns:** patient_age, operation_year, axillary_nodes\n\n**Dependent Columns:** survival_status","16ce9ee1":"From the above result we **observe** that there is huge difrence in survival status.\n1. Haberman's Survival Data Set is an imbalanced dataset.\n2. Most patients survived for longer than 5 years. ","c1952cea":"**OBSERVATION:**\n\n   1. When nodes < 20 & 30 < age <= 40 then the chances of survival are much more.\n   2. When nodes < 10 & 40 < age <= 70 then the chances of survival and non survival are almost the same.\n   3. When nodes < 10 & 60 < age <= 70 then the chances of non survival are more.\n   4. When 10 < nodes < 20 & 30 < age <= 50 then the chances of survival are more.\n   5. When 10 < nodes < 20 & 50 < age <= 70 then the chances of non survival are more.","e1c5f1ff":"Above data seems to be wrong as data does not have any header, first row is being considered as column names. Let's fix this","200d0a2e":"### **Multivariate probability density, contour plot.**","a1a56a40":"It can be used for classification but with some misclassification errors","bac2dd45":"### **Histogram, PDF, CDF**","9f183078":"**OBSERVATION**\n   1. The spread of points in Long survival is more near 0 and that of Low survival is more near 2\n   2. The whiskers of Long survival extend from 0 to 7 and that of low survival extend from 0 to 25\n   3. The distribution is heavily right skewed.","8cdb042b":"### **Box plot and Whiskers**","445dea7a":"**OBSERVATION:**\n1. Operation year 60 had highest survival rate.\n2. Operation year having range 63-66 had lowest survival rate.","0d7cdb69":"**OBSERVATION**\n1. axillary_nodes has no correlation with patient_age and operation_year.\n2. axillary_nodes and survival_status are slightly correlated.\n3. patient_age and survival_status are also slightly correlated. But, correlation is less compared to correlation between axillary_nodes and survival_status","8503468d":"**Observations from Median:**\n\n    The median for patients who survived longer is 0 and for those who survived low is 4.\n\n**Observations from Quantiles:**\n\n   1. Nearly 50th% of nodes in long survival cases are 0 and 75th% is more than 3 indicating that remanining 25th% have more than 3 Auxiliary nodes\n   2. 75th% of data in low survival cases have 11 nodes detected\n   3. At 90th% if number of nodes detected is more than >8 then high survival chance and if the number of nodes detected is >20 then low survival","c652d58d":"**Observations:**\n\n1. The minimum age of patient: 30\n2. The maximum age of patient is around 83\n3. The median age of patient is around 52\n4. The age group between 40 to 75 has nearly same survival and death chances so we cannot do further analysis using this feature","aabe529c":"### **Median, Percentile, Quantile, IQR, MAD**","92c1b775":"### **Pairwise scatter plot: Pair-Plot**\nDis-advantages: \n* Can be used when number of features are high.\n* Only possible to view 2D patterns.","c91004eb":"**OBSERVATION:**\n\n   1. 30-40 age interval: More chances of survival.\n   2. 40-70 age interval: Almost equal chances of survival and non survival.\n   3. 70-80 age interval: More chances of survival.\n   4. Above age 80: Most likely to die.","5a468b0c":"Disadvantages of 1-D scatter plot: Very hard to make sense as points are overlapping a lot.","41b36575":"### **Don't forget to upvote if you Liked, this Notebook would be updated further**","5fc748c3":"### **2-D Scatter Plot**","3e5afaf6":"### **Attribute Information:**\n1. Age of patient at time of operation (numerical)\n2. Patient's year of operation (year - 1900, numerical)\n3. Number of positive axillary nodes detected (numerical)\n4. Survival status (1 = the patient survived 5 years or longer, 2 = the patient died within 5 years, class attribute)","b43904af":"### **Mean, Variance and Std-dev**","28d2b9ba":"**OBSERVATION:**\n\n**patient_age**\n1. Oldest patient : 83 years old\n2. Youngest patient : 30 years old\n3. Average patient age : 52 years.\n4. Median age : 52 years.\n**axillary_nodes**\n1. Highest number of Axillary nodes in a person : 52\n2. Lowest number of Axillary nodes in a person : 0.\n3. Mean number of Axillary nodes : 4\n4. Median of Number of Axillary nodes : 1\n5. Most persons have Number of Axillary nodes in 0-5 range","bf78dd51":"**OBSERVATION**\n1. The 75th% of points from Long survival is nearly equal to 25th% of points of low survival\n2. Threshold of Long survival is from 0 to 8\n3. Threshold for Low survival is from 0 to 25\n4. Median axillary_nodes for survived patients is zero. It is a central value\n\nIf nodes between 0 to 7 in High Survival have an error then there is a high chance that even points from Low Survival lie in it which is almost 50% error in short survival","c7e59b02":"**OBSERVATION:**\n\n   1. There is a 84 % chance of survival is more than 5 years if the number of nodes detected is less than 3\n   2. There is a 100 % chance low survival if the number of nodes is greater than 40\n   3. And we can see as number of axillary nodes increases survival chances also reduces (from the PDF plot).","d5fe0094":"cannot make much sense out it. \nWe color the points by thier class-label\/Survival status.","daa53ed3":"**OBSERVATION**\n1. The mean of number of nodes for people who survived 5+ years is low whereas the mean of number of nodes for people who survived <5 years is high\n2. The spread of data in number of people who survived 5+ years is less than the number of people who survived  <5 years.","ad42bd00":"### **Violin plots**","674a9137":"**OBSERVATION:**\n\n    1. If the number of nodes is 0 then patient survives more than 5 years\n    2. If the number of nodes is <4 the patient has a high chance of survival of more than 5 years"}}