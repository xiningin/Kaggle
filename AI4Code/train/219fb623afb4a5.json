{"cell_type":{"74c6a3c8":"code","6668bf9f":"code","dfec458d":"code","2bbc0bba":"code","69ebdb1b":"code","f95ccfce":"code","11a991e0":"code","4a881ed7":"code","b62817d8":"code","0ed818bf":"code","5f519edd":"code","b12f4c8f":"code","bcf8727c":"markdown","ae4ad1d8":"markdown","daee5c5d":"markdown","c12c6d13":"markdown","da67d79b":"markdown","8d90879e":"markdown","8dbf45f1":"markdown","4c3e0b3b":"markdown","5596a097":"markdown","816ecf82":"markdown","7fe57881":"markdown"},"source":{"74c6a3c8":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom wordcloud import WordCloud\nimport squarify \nprint('Setup Complete')","6668bf9f":"# Upload dataframe\ndf = pd.read_csv('..\/input\/olimpiadas\/microdados.csv')\ndf.head()","dfec458d":"# ver valores vazios e duplicados\nprint('Campos vazios:')\nprint(df.isna().sum())\n\nprint('Duplicados: ' + str(df.duplicated().sum()))\n\nif df.duplicated().sum() == 0:\n    print('Tudo ok!')","2bbc0bba":"# remover colunas\ngraficos = df.drop(['edicao', 'id_atleta', 'altura', 'peso', 'evento'], axis=1)\n\n# adicionar coluna de medalhas\nframe = pd.concat([graficos, pd.get_dummies(graficos['medalha'])], axis=1)\n\n# criar coluna de Totais\nframe['Total'] = frame['Bronze'] + frame['Gold'] + frame['Silver']\n\nframe.head()","69ebdb1b":"# filtrar linhas do Brasil\nbrasil = frame[frame['pais'] == 'Brazil']\nbrasil.tail()","f95ccfce":"# Explore data from Brazil\n\nmulheres = brasil[brasil['sexo'] == 'F']\nhomens = brasil[brasil['sexo'] == 'M']\n\nprint('Jogaram pelo Brasil: ' + str(mulheres['nome_atleta'].nunique()) + ' mulheres e ' + str(homens['nome_atleta'].nunique()) + ' homens.')\nprint('No total foram ' + str(brasil.Total.sum()) + ' medalhas.')\nprint('Esportes: ' + str(brasil.esporte.nunique()))\nprint('Anos que participou: ' + str(brasil.ano.nunique()))","11a991e0":"# agrupar anos e medalhas\nagrupado = brasil.loc[:, ['ano', 'Gold', 'Silver', 'Bronze', 'Total']]\nagrupado = agrupado.groupby(['ano']).sum().sort_values(by='ano').reset_index()\n\n# decoration\nplt.figure(figsize=(15,5))\nplt.title('Evolu\u00e7\u00e3o de medalhas ao longo dos anos', loc='center', fontsize=16, fontweight=0)\nsns.set_theme(style=\"whitegrid\")\n\n#plot\nsns.lineplot(x=agrupado['ano'], y=agrupado['Gold'], data=agrupado, color='gold', linewidth=3, label='Ouro')\nsns.lineplot(x=agrupado['ano'], y=agrupado['Silver'], data=agrupado, color='silver', linewidth=3, label='Prata')\nsns.lineplot(x=agrupado['ano'], y=agrupado['Bronze'], data=agrupado, color='chocolate', linewidth=3, label='Bronze')\nplt.xlabel(\"Anos\")\nplt.ylabel(\"Medalhas\")\nplt.legend()\nplt.xlim(1900, 2016)\nplt.ylim(0, 50)\n\nplt.show()","4a881ed7":"modalidade = brasil.loc[:, ['ano', 'esporte', 'Total']]\nmodalidade = modalidade.groupby(['ano', 'esporte']).sum()\nmodalidade = modalidade[modalidade['Total'] > 0].reset_index()\n\n\nplt.figure(figsize=(15,6))\nsns.set_style(\"whitegrid\")\nplt.title('Medalhas por esporte - 1900-2016', fontsize=14, fontweight='bold')\nsns.lineplot(x=modalidade['ano'], y=modalidade['Total'], hue=modalidade['esporte'], data=agrupado, palette=\"muted\")\nplt.xlabel('Anos')\nplt.ylabel('Medalhas totais')\nplt.xlim(1920,2016)\nplt.legend(title='Modalidade', ncol=2)\n\nplt.show()","b62817d8":"# agrupar esporte e medalhas\nesportes = brasil.loc[:, ['esporte', 'Gold', 'Silver', 'Bronze', 'Total']]\nesportes = esportes.groupby(['esporte']).sum()\nesportes = esportes[esportes['Total'] > 0]\nesportes = esportes.drop(columns='Total')\n\n# plot\nplt.figure(figsize=(7.5,7))\nplt.title('Medalhas ol\u00edmpicas do Brasil por esporte, \\n1900 - 2016', loc='center', fontsize=13, fontweight='bold')\nsns.heatmap(esportes, cmap=\"YlGn\", annot=True)\nplt.xlabel('Medalhas', fontsize=12, fontweight='bold')\nplt.ylabel('Modalidade', fontsize=12, fontweight='bold')\n\nplt.show()","0ed818bf":"# agrupar idade e medalhas\nhm = brasil.loc[:, ['idade', 'Gold', 'Silver', 'Bronze']]\nhm = hm.groupby(['idade']).sum().sort_values(by='idade')\n\n# plot\nplt.figure(figsize=(7,7))\nplt.title('Rela\u00e7\u00e3o de faixa et\u00e1ria e \\nmedalhas de brasileiros', loc='center', fontsize=13, fontweight='bold')\nsns.heatmap(hm, cmap=\"YlGn\")\nplt.xlabel('Medalhas', fontsize=12, fontweight='bold')\nplt.ylabel('Idade', fontsize=12, fontweight='bold')\n\nplt.show()","5f519edd":"idades = brasil.groupby(['idade']).sum()\nidades = idades.drop(columns='ano')\n\n# decoration\nplt.figure(figsize=(20,5))\nplt.title('Idade dos atletas brasileiros', fontsize=15, fontweight='bold')\n\n#plot\nsns.barplot(x=idades.index, y=idades['Total'], palette=\"YlGn\")\n\nplt.xlabel('Idade')\nplt.ylabel('Atletas')\n\nplt.show()","b12f4c8f":"# feminino\nnome_atletas_F = pd.DataFrame(mulheres['nome_atleta'])\nnome_atletas_F['participacao'] = 1\n\nparticipacao = nome_atletas_F.groupby(['nome_atleta']).sum().sort_values(by='participacao', ascending=False)\nparticipacao = participacao.iloc[:21]\n\nplt.figure(figsize=(20,10))\nplt.title('Atletas femininas com mais participa\u00e7\u00f5es')\nsquarify.plot(sizes=participacao['participacao'], label=participacao.index, alpha=.5)\nplt.axis('off')\n\nplt.show()\n\n# masculino\nnome_atletas_M = pd.DataFrame(homens['nome_atleta'])\nnome_atletas_M['participacao'] = 1\n\nparticipacaoM = nome_atletas_M.groupby(['nome_atleta']).sum().sort_values(by='participacao', ascending=False)\nparticipacaoM = participacaoM.iloc[:21]\n\nplt.figure(figsize=(20,10))\nplt.title('Atletas masculinos com mais participa\u00e7\u00f5es')\nsquarify.plot(sizes=participacaoM['participacao'], label=participacaoM.index, alpha=.5)\nplt.axis('off')\n\nplt.show()","bcf8727c":"# Explorando os dados","ae4ad1d8":"# Importar\/arrumar dados","daee5c5d":"Agora vou remover algumas colunas que n\u00e3o vou usar e adicionar os valores por medalha em colunas.","c12c6d13":"Podemos analisar que a idade dos atletas ganhadores de medalhas se concentra entre os 19 e 30 anos.\nPor\u00e9m, essa m\u00e9trica pode n\u00e3o ser muito assertiva, visto que a maioria dos atletas se encontra nesta faixa et\u00e1ria, tendo um ac\u00famulo maior de medalhas ao longo do tempo:","da67d79b":"Como pode se observar, o Brasil tem uma performance melhor em esportes de grupo. Nos \u00faltimos 116 anos de Olimp\u00edadas, o Brasil concentrou a maioria das medalhas em Volei, Basquete e Futebol.\n\nAgora, vamos analisar a correla\u00e7\u00e3o com a idade.","8d90879e":"Caderno para praticar cria\u00e7\u00e3o e personaliza\u00e7\u00e3o de gr\u00e1ficos.","8dbf45f1":"# Data Vizualization\nPrimeiro, vamos ver como foi a evolu\u00e7\u00e3o ao longo dos anos:","4c3e0b3b":"Eu vou trabalhar apenas com dados de Brasil, para isso, vou filtrar os dados correspondentes abaixo.","5596a097":"O Brasil passou a ter um volume consider\u00e1vel de medalhas por volta dos anos 80.\nVamos ver quais esportes tiveram o melhor desempenho em todos os tempos:","816ecf82":"Com essas informa\u00e7\u00f5es, pensei em explorar os seguintes gr\u00e1ficos:\n- Hist\u00f3rico de medalhas por ano \n- Hist\u00f3rico de medalhas totais por esporte\n- Rela\u00e7\u00e3o entre idade e medalhas ganhas\n- Rela\u00e7\u00e3o entre esporte e medalhas ganhas\n- Medalhas por g\u00eanero\n- Maiores participantes","7fe57881":"Agora vou fazer uma nuvem para apontar os atletas que mais participaram das Olimp\u00edadas."}}