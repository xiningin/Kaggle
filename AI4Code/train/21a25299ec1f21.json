{"cell_type":{"9458dd51":"code","c0d963fe":"code","ca88d80b":"code","d4091444":"code","81c21228":"code","9f009b3d":"code","c88b63e0":"code","8e81bc9b":"markdown"},"source":{"9458dd51":"import numpy as np\nimport pandas as pd\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.offline import plot, iplot, init_notebook_mode\ninit_notebook_mode(connected=True)\nfrom wordcloud import WordCloud, ImageColorGenerator\nimport matplotlib.pyplot as plt\nfrom os import path\nfrom PIL import Image","c0d963fe":"df = pd.read_csv(\"..\/input\/fast-food-restaurants-in-america\/FastFoodRestaurants.csv\")\ndf_counts = df.name.value_counts().to_frame().reset_index().rename(columns={\"name\": \"ff_counts\", \"index\": \"name\"})\ndf = df.merge(df_counts, on=\"name\")","ca88d80b":"fig = go.Figure(data=go.Scattergeo(\n        lon = df['longitude'],\n        lat = df['latitude'],\n        text = df['name'],\n        mode = 'markers',\n        marker_color = df['ff_counts'],\n        marker_symbol=\"circle-open\",\n        marker_colorscale=\"plasma\",\n        marker_showscale=True,\n        marker_colorbar_title=\"Number of restaurants\"))\n\n\nfig.update_layout(\n        title = 'All Fast Food Restaurants across USA',\n        geo_scope='usa',\n        title_x=0.5,\n        font=dict(family=\"Times New Roman\", size=18), font_color=\"#000000\"\n    )\niplot(fig)","d4091444":"top_chain_df = df.drop_duplicates(subset={\"name\", \"ff_counts\"}).sort_values(\"ff_counts\", ascending=False).head(10)\n\nfig = px.bar(top_chain_df, x=\"name\", y=\"ff_counts\", color=\"name\", text='ff_counts', \n             color_discrete_sequence = px.colors.sequential.Plasma_r,\n             labels={'ff_counts':'number of restaurants in USA'})\n\nfig.update_layout(\n        title = 'Top restaurants',\n        title_x=0.5,\n        font=dict(family=\"Times New Roman\", size=18), font_color=\"#000000\"\n    )\n\nfig.update_traces(texttemplate='%{text:.2s} restaurants', textposition='outside')\n\nfig.show()","81c21228":"df_province_counts = df.province.value_counts().to_frame().reset_index().rename(columns={\"province\": \"pr_counts\", \"index\": \"province\"})\n\nfig = go.Figure(data=go.Choropleth(\n    locations=df_province_counts['province'], \n    z = df_province_counts['pr_counts'].astype(float), \n    locationmode = 'USA-states', # set of locations match entries in `locations`\n    colorscale = 'Reds',\n    colorbar_title = \"Number of restaurants\",\n))\n\nfig.update_layout(\n    title_text = 'Restaurants State distribution',\n    geo_scope='usa',\n    title_x=0.5,\n    font=dict(family=\"Times New Roman\", size=18), font_color=\"#000000\"# limite map scope to USA\n)\n\nfig.show()","9f009b3d":"fig = go.Figure(data=go.Scattergeo(\n        lon = df[df[\"ff_counts\"]==1]['longitude'],\n        lat = df[df[\"ff_counts\"]==1]['latitude'],\n        text = df[df[\"ff_counts\"]==1]['name'],\n        mode = 'markers',\n        #marker_color = df[df[\"counts\"]==1]['counts'],\n        marker_symbol=\"square-open\",\n        marker_color=\"purple\",\n        hoverinfo=\"text\"))\n        #marker_showscale=True))\n\n\nfig.update_layout(\n        title = 'Non-Chain Restaurants across USA (exclusive)',\n        geo_scope='usa',\n        title_x=0.5,\n        font=dict(family=\"Times New Roman\", size=18), font_color=\"#000000\"\n    )\niplot(fig)","c88b63e0":"plt.figure(figsize=(10,10))\n\nd = '..\/input\/burgerr\/'\n\nmask_b = np.array(Image.open(path.join(d, \"kisspng-hamburger-button-junk-food-fast-food-chicken-sandw-burger-and-sandwich-5ad73c08479fc1.6174788015240550482934.png\")))\n\ntext = df.name.unique()\n\ncloud = WordCloud(background_color='white',colormap=\"Dark2\", mask=mask_b\n                ).generate(\" \".join(text))\n\nplt.title(\"Most common words in Fast Food name\", size=20)\nplt.axis(\"off\")\n\nplt.imshow(cloud, interpolation=\"bilinear\")","8e81bc9b":"![](https:\/\/cdn-va.niceshops.com\/upload\/image\/banner\/medium\/default\/17840.jpg)"}}