{"cell_type":{"4bd0a922":"code","06074e39":"code","c96e9cc6":"code","c63327f2":"code","0191330c":"code","a9e85737":"code","44c41549":"code","c319e5ef":"code","74697343":"code","bd805809":"code","a4af115f":"code","427f5958":"code","9d5be07b":"code","693c1bdd":"code","c1a85bef":"code","f7ca1bbc":"code","f2142793":"code","405d8d10":"code","b676eb27":"code","a5502a53":"code","0bfe5562":"code","7e2d73c5":"code","e0e820f1":"code","b0b95e83":"code","c31e23eb":"code","abb7333f":"code","72418c92":"code","5210f880":"code","24321cd4":"code","313a96e8":"code","9cd102f5":"code","df16928f":"code","87e6a483":"code","d3f48d2c":"code","9ff595ad":"code","6f9fd711":"code","527236f4":"code","e5c01e1f":"code","4f4b4688":"code","e4a16591":"code","4fbde6fe":"code","779ab465":"markdown","6b118506":"markdown","5e5c3963":"markdown","232be84e":"markdown","37d7f22a":"markdown","f74a05ee":"markdown","421a41f3":"markdown","133bd816":"markdown","8db17659":"markdown","d1825336":"markdown","3c21ef81":"markdown","99f4b718":"markdown","e329b485":"markdown","a7579a92":"markdown","7d6509d6":"markdown","aac7cca0":"markdown","4ba31cc0":"markdown","76268789":"markdown","4009b479":"markdown","50e9a016":"markdown","4dd7b83b":"markdown","2a544060":"markdown","70c114d2":"markdown"},"source":{"4bd0a922":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","06074e39":"train = pd.read_csv('..\/input\/titanic\/train.csv')","c96e9cc6":"train.head()","c63327f2":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False, cmap='viridis')","0191330c":"sns.set_style('whitegrid')\nsns.countplot(x='Survived', data=train, palette='viridis')","a9e85737":"sns.countplot(x='Survived', hue='Sex', data=train, palette='viridis')","44c41549":"sns.countplot(x='Survived', hue= 'Pclass', data=train, palette='viridis')","c319e5ef":"sns.countplot(x='Survived', hue= 'Embarked', data=train, palette='viridis')","74697343":"sns.distplot(train['Age'].dropna(),kde=False, bins=30, color='blue' )","bd805809":"sns.countplot(x='Parch', data=train, palette='viridis')","a4af115f":"sns.countplot(x='SibSp', data=train, palette='viridis')","427f5958":"import cufflinks as cf\ncf.go_offline()\n\nbox_age = train[['Pclass', 'Age']]\nbox_age.pivot(columns='Pclass', values='Age').iplot(kind='box')","9d5be07b":"def impute_age(cols):\n    Age = cols[0]\n    Pclass = cols[1]\n    \n    if pd.isnull(Age):\n        \n        if Pclass == 1:\n            return 37\n        elif Pclass == 2:\n            return 29\n        else:\n            return 24\n    else:\n        return Age","693c1bdd":"train['Age'] = train[['Age', 'Pclass']].apply(impute_age,axis=1)","c1a85bef":"sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap='viridis')","f7ca1bbc":"train.drop('Cabin', axis=1, inplace=True)","f2142793":"train.head()","405d8d10":"sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap='viridis')","b676eb27":"train.info()","a5502a53":"sex = pd.get_dummies(train['Sex'], drop_first= True)","0bfe5562":"sex.head()","7e2d73c5":"embark = pd.get_dummies(train['Embarked'], drop_first= True)","e0e820f1":"train = pd.concat([train, sex, embark], axis=1)","b0b95e83":"train.head()","c31e23eb":"train.drop(['Sex','Embarked', 'Name', 'Ticket'], axis=1, inplace=True)","abb7333f":"train.head(3)","72418c92":"X = train.drop('Survived', axis=1)\ny = train['Survived']","5210f880":"X.head()","24321cd4":"y.head()","313a96e8":"from sklearn.model_selection import train_test_split","9cd102f5":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.30, random_state=101)","df16928f":"from sklearn.linear_model import LogisticRegression","87e6a483":"logmodel = LogisticRegression(solver='liblinear')","d3f48d2c":"logmodel.fit(X_train,y_train)","9ff595ad":"predictions = logmodel.predict(X_test)","6f9fd711":"from sklearn.metrics import classification_report","527236f4":"print(classification_report(y_test,predictions))","e5c01e1f":"from sklearn.metrics import confusion_matrix","4f4b4688":"confusion_matrix(y_test,predictions)","e4a16591":"from sklearn.metrics import accuracy_score","4fbde6fe":"accuracy_score(y_test, predictions)","779ab465":"We can see the wealthier passengers in the higher classes tend to be older, which makes sense. We'll use these average age values to impute based on Pclass for Age.","6b118506":"**Read Data**","5e5c3963":"# Logistic Regression with Python","232be84e":"Great! Our data is ready for our model!","37d7f22a":"**Training and Predicting**","f74a05ee":"The plot indicates that very few passengers had sibling, spouse, parent or children. This observation is true as the age group suggests more youngsters were on the ship.","421a41f3":"# Building a Logistic Regression model","133bd816":"More no. of female passengers survived the tragedy compared to the male passengers on the ship.","8db17659":"Great! Let's go ahead and drop the Cabin column ","d1825336":"**Train Test Split**","3c21ef81":"#  Thank You!","99f4b718":"# Exploratory Data Analysis","e329b485":"**Missing Data**\n\nWe can use seaborn to create a simple heatmap to see where we are missing data!","a7579a92":"We'll be trying to predict a classification- survival or deceased. Let's begin our understanding of implementing Logistic Regression in Python for classification.","7d6509d6":"Roughly 20 percent of the Age data is missing. The proportion of Age missing is likely small enough for reasonable replacement with some form of imputation. Looking at the Cabin column, it looks like we are just missing too much of that data to do something useful with at a basic level. We'll probably drop this later.","aac7cca0":"**Import Libraries**","4ba31cc0":"The death rate is higher in passengers who were in third class.","76268789":"# Evaluation","4009b479":"# Data Cleaning","50e9a016":"We want to fill in missing age data instead of just dropping the missing age data rows. One way to do this is by filling in the mean age of all the passengers (imputation). However we can be smarter about this and check the average age by passenger class. ","4dd7b83b":"Let's begin some exploratory data analysis! We'll start by checking out missing data!","2a544060":"Let's continue on by visualizing some more of the data!","70c114d2":"# Converting Categorial Features\n\nWe'll need to convert categorical features to dummy variables using pandas! Otherwise our machine learning algorithm won't be able to directly take in those features as inputs."}}