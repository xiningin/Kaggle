{"cell_type":{"5e9ef770":"code","1f2cd6e2":"code","8507fe8b":"code","ee6a85b8":"code","9e482cd6":"code","ea5eeb2c":"code","210d0289":"code","7612859f":"code","d59af972":"code","d7af8b14":"code","e1fb96a6":"code","fecc57a0":"code","fc9f535d":"code","d0c28acf":"code","9eba9f31":"code","388882ce":"code","7584b962":"code","263932ff":"code","c142db6a":"code","7af07dd8":"code","41fc3b02":"markdown","04d61991":"markdown","d0a59e3a":"markdown","424b4950":"markdown","d7ac5006":"markdown","22d51cf1":"markdown","ee4080a9":"markdown","b9df67b3":"markdown","0ca952c2":"markdown"},"source":{"5e9ef770":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","1f2cd6e2":"import matplotlib.pyplot as plt\n%matplotlib inline","8507fe8b":"# read csv file\nfile_path = \"..\/input\/planecrashinfo_20181121001952.csv\"\ndata = pd.read_csv(file_path)\ndata.head(5)","ee6a85b8":"data.shape","9e482cd6":"data.info()","ea5eeb2c":"data = data[[\"date\", \"fatalities\", \"ground\"]]\ndata.head(5)","210d0289":"data.info()","7612859f":"data[\"date\"].describe()","d59af972":"date_missing_value = data[\"date\"][data[\"date\"]==\"?\"]\nlen(date_missing_value)","d7af8b14":"data[\"fatalities\"].describe()","e1fb96a6":"fatalities_missing_value = data[\"fatalities\"][data[\"fatalities\"]==\"?\"]\nlen(fatalities_missing_value)","fecc57a0":"data[\"ground\"].describe()","fc9f535d":"ground_missing_value = data[\"ground\"][data[\"ground\"]==\"?\"]\nlen(ground_missing_value)","d0c28acf":"data[\"year\"] = data[\"date\"].str.rsplit(\",\", n = 1, expand=True)[1].str.strip()\ndata[\"year\"] = pd.to_numeric(data[\"year\"], errors=\"coerce\")\ndata[\"year\"].describe()","9eba9f31":"# extract number of person in columns(aboard, fatalities, ground)\ndata[\"fatalities_num\"] = data[\"fatalities\"].str.split(\"(\", n = 1, expand=True)[0].str.strip()\ndata[\"fatalities_num\"] = pd.to_numeric(data[\"fatalities_num\"], errors=\"coerce\")\ndata[\"fatalities_num\"].describe()","388882ce":"# extract number of person in columns(fatalities, ground)\ndata[\"ground_num\"] = pd.to_numeric(data[\"ground\"].str.strip(), errors=\"coerce\")\ndata[\"ground_num\"].describe()","7584b962":"data[\"total_killed\"] = data[\"ground_num\"] + data[\"fatalities_num\"]\ndata[\"total_killed\"].describe()","263932ff":"data.head(5)","c142db6a":"total_killed= data[[\"year\",  \"total_killed\"]].groupby(\"year\").sum()\ntotal_crash= data[\"year\"].value_counts().sort_index(ascending=True).rename_axis('year').to_frame('total_crashes')","7af07dd8":"ax = total_crash.plot(figsize=(16,4))\ntotal_killed.plot(ax=ax, secondary_y=True)","41fc3b02":"* **date**\n * No missing value\n * Data format  %B %d, %Y (September 09, 1913)- also need to strip() the value\n * dtype: object\n \n* **fatalities**\n  * No missing value\n  * Data format:   ex: 14   (passengers:?  crew:?)\n  * dtype: object\n  \n* **ground**\n  *  Missing value: 52\n  * Data format  %B %d, %Y (September 09, 1913)- also need to strip() the value\n  * dtype: object","04d61991":"# I want to know \n> the trending of crashes by year ( number of crashes, number of fatalities)","d0a59e3a":"**Let's load the file and look at some rows**","424b4950":"# Clean data\n* Extract \"year\" from \"date\" column\n* Extract total_killed from \"fatalities\" and \"ground\" columns","d7ac5006":"# About the data:\n* 5783 rows, 13 columns\n* From 1908 to 2018 (Nov 19)\n* non-null object\n* all column dtype:  object","22d51cf1":"# Plot","ee4080a9":"# Let's look each column closer","b9df67b3":"# Group information by year\n\n\n\n","0ca952c2":"# Columns I will use\n* \"date\" to extract year\n* \"fatalities\" and \"ground\" for  calculating number of crashes, number of fatalities\n\nSo let's remove the others columns"}}