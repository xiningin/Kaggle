{"cell_type":{"15050f9c":"code","8879ff56":"code","f00e01bc":"code","bf410eea":"code","c33f6f6c":"code","1492715e":"code","add8eddf":"code","bf10dc2a":"code","04dd73b0":"code","47a2a3b9":"code","9562753a":"code","91650ad8":"code","9e3e9e83":"code","72131096":"code","72ed0d34":"code","eac12a48":"code","f33e935d":"code","261e9fd2":"code","dce8b3ee":"code","03e51154":"code","7d0d4748":"code","839587aa":"code","a8d783eb":"markdown","2f81eab5":"markdown","4ad1f66b":"markdown","d612caad":"markdown","3c90b2df":"markdown","4618dcd9":"markdown","5843cc3b":"markdown","f85c3a34":"markdown","a1070d36":"markdown","c21b2884":"markdown","9254c9d1":"markdown","72539492":"markdown","918afcc9":"markdown"},"source":{"15050f9c":"#setting up packages\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style(\"whitegrid\")","8879ff56":"#read data from csv file and name it as df\ndf = pd.read_csv('..\/input\/montcoalert\/911.csv')\ndf.info()\ndf.head(5)","f00e01bc":"#Creating Reason column\ndf['Reason'] = df['title'].apply(lambda x: x.split(':')[0])\n#Remove 'e' Column\ndf = df.drop(columns = ['e'])","bf410eea":"#Creating Hour, Month, Weekday Column\ndf['timeStamp'] = pd.to_datetime(df['timeStamp'])\ndf['Date'] = df['timeStamp'].apply(lambda time: time.date())\ndf['Hour'] = df['timeStamp'].apply(lambda time: time.hour)\ndf['Day'] = df['timeStamp'].apply(lambda time: time.day)\ndf['Month'] = df['timeStamp'].apply(lambda time: time.month)\ndf['Year'] = df['timeStamp'].apply(lambda time: time.year)\ndf['Weekday'] = df['timeStamp'].apply(lambda time: time.dayofweek)","c33f6f6c":"df['zip'].value_counts().head(5)","1492715e":"sum(df['zip'].value_counts().head(5))\/sum(df['zip'].value_counts())","add8eddf":"#dataframe group by top 10 zipcodes\ntopzip = df.groupby('zip').count().sort_values(by='lat',ascending=False).head(10).reset_index()\ntopzip","bf10dc2a":"#Top 5 zipcodes - Call Counts\nsns.countplot(x='zip', data=df, palette = 'bone',order= df.zip.value_counts().iloc[:5].index)\nplt.legend(bbox_to_anchor=(1.05,1), loc=2, borderaxespad=0)","04dd73b0":"reason = df['Reason'].value_counts(normalize=True)\nreason","47a2a3b9":"mylabels2 = ['EMS','Traffic','Fire']\nmycolors2 = [\"#28323C\",  \"#425363\", \"#5D748B\"]\nplt.pie(reason, labels = mylabels2 ,colors = mycolors2)\nplt.title(\"Reasons\",fontsize = 16)\nplt.legend(bbox_to_anchor = (1.05,1), loc = 2, borderaxespad = 0)\nplt.figure(figsize = (30,12))","9562753a":"plt.figure(figsize=(12,4))\ndf[df['Reason']=='EMS'].groupby('Date').count()['twp'].plot(color='#6A859F')\nplt.title('EMS calls by Date', fontsize = 24)\nplt.tight_layout()","91650ad8":"plt.figure(figsize=(12,4))\ndf[df['Reason']=='Traffic'].groupby('Date').count()['twp'].plot(color='#6A859F')\nplt.title('Traffic calls by Date', fontsize = 24)\nplt.tight_layout()","9e3e9e83":"plt.figure(figsize=(12,4))\ndf[df['Reason']=='Fire'].groupby('Date').count()['twp'].plot(color='#6A859F')\nplt.title('Fire calls by Date', fontsize = 24)\nplt.tight_layout()","72131096":"#Mapping Weekday Column\ndmap = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}\ndf['Weekday'] = df['Weekday'].map(dmap)","72ed0d34":"#ploting Reason counts by Weekdays\nsns.countplot(x='Weekday', data=df, hue='Reason', palette = 'crest')\nplt.legend(bbox_to_anchor=(1.05,1), loc=2, borderaxespad=0)","eac12a48":"sns.countplot(x='Month', data=df, hue='Reason', palette = 'crest')\nplt.legend(bbox_to_anchor=(1.05,1), loc=2, borderaxespad=0)","f33e935d":"sns.countplot(x='Hour', data=df, palette = 'crest')\nplt.legend(bbox_to_anchor=(1.05,1), loc=2, borderaxespad=0)\nplt.figure(figsize = (20,10))","261e9fd2":"sns.countplot(x='Hour', data=df, hue='Reason', palette = 'crest')\nplt.legend(bbox_to_anchor=(1.05,1), loc=2, borderaxespad=0)\nplt.figure(figsize = (20,10))","dce8b3ee":"#heatmap\nDayhour = df.groupby(by=['Weekday','Hour']).count()['Reason'].unstack()\nplt.figure(figsize = (12,6))\nplt.title(\"Case Count by Weekday and Hour\", fontsize =20)\nplt.xlabel('Hour', fontsize=16)\nplt.ylabel('Weekday', fontsize=16)\nsns.heatmap(Dayhour, cmap = 'rocket_r')","03e51154":"MonthDay = df.groupby(by=['Month','Day']).count()['Reason'].unstack()\nplt.figure(figsize = (12,6))\nplt.title(\"Case Count by Month and Day\", fontsize =20)\nplt.xlabel('Day', fontsize=16)\nplt.ylabel('Month', fontsize=16)\nsns.heatmap(MonthDay, cmap = 'rocket_r')","7d0d4748":"#case number by years\nyearcount = df.groupby('Year').count().reset_index()\nyearcount","839587aa":"#pie chart showing cases number by years\nmylabels = ['2015','2016','2017','2018','2019','2020']\nmycolors = [\"#28323C\", \"#354350\", \"#425363\", \"#506477\", \"#5D748B\", \"#6A859F\"]\nplt.pie(yearcount['lat'], labels = mylabels ,colors = mycolors)\nplt.title(\"911 Cases by Years\",fontsize = 16)\nplt.legend(bbox_to_anchor = (1.05,1), loc = 2, borderaxespad = 0)\nplt.figure(figsize = (30,12))","a8d783eb":"<div style=\"color:white;\n           display:fill;\n           border-radius:0px;\n           background-color:#4C6985;\n           font-size:110%;\n           font-family:Verdana;\n           letter-spacing:1px\">\n\n<p style=\"padding: 16px;\n              color:white;\"> \n    <span style=\"font-size:30px;\">\n    <b>\n2. Data Analysis\n    <\/b>\n        <\/span>\n<\/p>\n<\/div>","2f81eab5":"<div style=\"color:white;\n           display:fill;\n           border-radius:0px;\n           background-color:#4C6985;\n           font-size:110%;\n           font-family:Verdana;\n           letter-spacing:1px\">\n\n<p style=\"padding: 16px;\n              color:white;\"> \n    <span style=\"font-size:30px;\">\n    <b>\n1.  Introduction\n    <\/b>\n        <\/span>\n<\/p>\n<\/div>","4ad1f66b":"For this capstone project we will be analyzing some 911 call data from Kaggle. \n<br>\nThe data contains the following fields:\n<br>\nlat : String variable, Latitude\n<br>\nlng: String variable, Longitude\n<br>\ndesc: String variable, Description of the Emergency Call \n(EMS, Traffic, Fire)\n<br>\nzip: String variable, Zipcode\n<br>\ntitle: String variable, Title\n<br>\ntimeStamp: String variable, YYYY-MM-DD HH:MM:SS\n<br>\ntwp: String variable, Township\n<br>\naddr: String variable, Address\n<br>\ne: String variable, Dummy variable (always 1)","d612caad":"<p style=\"padding: 16px;\n              color:#4C6985;\"> \n    <span style=\"font-size:30px;\">\n    <b>\n2.1 data preparation\n    <\/b>\n        <\/span>\n<\/p>","3c90b2df":"<p style=\"padding: 16px;\n              color:#4C6985;\"> \n    <span style=\"font-size:20px;\">\n    <b>\nTimeframe Analysis\n    <\/b>\n        <\/span>\n<\/p>","4618dcd9":"<p style=\"padding: 16px;\n              color:#4C6985;\"> \n    <span style=\"font-size:20px;\">\n    <b>\nZip Code Analysis\n    <\/b>\n        <\/span>\n<\/p>","5843cc3b":"<p style=\"padding: 16px;\n              color:#4C6985;\"> \n    <span style=\"font-size:20px;\">\n    <b>\nCall Reason Analysis\n    <\/b>\n        <\/span>\n<\/p>","f85c3a34":"<div style=\"color:white;\n           display:fill;\n           border-radius:5px;\n           background-color:#626567;\n           font-size:100%;\n           font-family:Verdana;\n           letter-spacing:1.5px;\n           line-height: 2\">\n\n<p style=\"padding: 36px;\n              color:white;\"> \n        <span style=\"font-size:18px;\">\n    <b>\n         Insights from Call Reason Analysis\n    <\/b>\n        <\/span>\n    <br>\n    <br>\n\u25fb\ufe0f  There are 3 reason for 911 calls: EMS, Traffic, Fire.\n       <br>\n\u25fb\ufe0f  Total Case Number: EMS > Traffic > Fire\n       <br>\n\u25fb\ufe0f  Percentage: 50.1% > 34.6% > 15.1%\n<\/p>\n<\/div>\n","a1070d36":"<div style=\"color:white;\n           display:fill;\n           border-radius:5px;\n           background-color:#626567;\n           font-size:100%;\n           font-family:Verdana;\n           letter-spacing:1.5px;\n           line-height: 2\">\n\n<p style=\"padding: 36px;\n              color:white;\"> \n        <span style=\"font-size:18px;\">\n    <b>\n         Insights from Zipcode Analysis\n    <\/b>\n        <\/span>\n    <br>\n    <br>\n\u25fb\ufe0f  Around 30% of 911 calls are accountable to the top 5 zip codes\n             \n<\/p>\n<\/div>\n","c21b2884":"<p style=\"padding: 16px;\n              color:#4C6985;\"> \n    <span style=\"font-size:20px;\">\n    <b>\nYearly Analysis\n    <\/b>\n        <\/span>\n<\/p>","9254c9d1":"<div style=\"color:white;\n           display:fill;\n           border-radius:5px;\n           background-color:#626567;\n           font-size:100%;\n           font-family:Verdana;\n           letter-spacing:1.5px;\n           line-height: 2\">\n\n<p style=\"padding: 36px;\n              color:white;\"> \n        <span style=\"font-size:18px;\">\n    <b>\n         Insights from Timeframe Analysis\n    <\/b>\n        <\/span>\n    <br>\n    <br>\n\u25fb\ufe0f  We only have data in Dec of 2015.\n       <br>\n\u25fb\ufe0f  Traffic calls drop during Saturdays and Sundays.\n       <br>\n\u25fb\ufe0f  There are less 911 calls during midnight. Peak of calling is aroung 5pm.\n       <br>\n\u25fb\ufe0f  There is more than 3500 calls on March 2nd which is significantly higher than other dates.\n<\/p>\n<\/div>\n","72539492":"<center>\n        <span style=\"font-size:36px;\"> \n        <span style=\"font-family:Candara;\">\n            <b>\n   \ud83d\ude91 911 Emergency Capstone Project \ud83c\udfe5\n            <\/b>\n    <\/center>\n<center>\n    <span style=\"font-size:21px;\"> \n        <span style=\"font-family:Candara;\">\n            by Cheng Chung \n    <\/span>\n<\/center>\n<center>\n    <span style=\"font-size:21px;\"> \n        <span style=\"font-family:Candara;\">\n    Date: 2021\/10\/17 \n    <\/span>\n<\/center>\n\n  \n   ___","918afcc9":"<p style=\"padding: 16px;\n              color:#4C6985;\"> \n    <span style=\"font-size:30px;\">\n    <b>\n2.2 data analysis & visualization\n    <\/b>\n        <\/span>\n<\/p>"}}