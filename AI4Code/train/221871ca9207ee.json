{"cell_type":{"de98b4ea":"code","42e3ed28":"code","c2fd9465":"code","91138842":"code","42169fe9":"code","39824b9c":"code","29082c69":"code","03e53c06":"code","c6dc3dca":"code","da091488":"code","e40bc5ea":"code","d6e6ea9a":"code","f831cd94":"code","ad31d02a":"code","0a003fd2":"code","dfd6a839":"code","ec4e06a8":"code","a37008b3":"code","056953e8":"code","a44bcb81":"code","daf20802":"code","a5c7a016":"code","b0baffee":"code","3b9510cd":"markdown","b9ac0492":"markdown","55c8ceda":"markdown","ac630cef":"markdown","a64a1d89":"markdown","37e36f30":"markdown","78fc9f11":"markdown","11248b45":"markdown","4d46e798":"markdown","1e1bfd7d":"markdown","f712ec2a":"markdown","1c2dec25":"markdown","45e94fd5":"markdown","d65e8ae4":"markdown","2c345799":"markdown","5164eaaf":"markdown","3c22d46c":"markdown","18fe6e78":"markdown","28adf61d":"markdown","e2d0226b":"markdown","eda9217c":"markdown","20af7710":"markdown","56820562":"markdown","8c9fb262":"markdown","801a6dda":"markdown"},"source":{"de98b4ea":"import pandas as pd\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nimport matplotlib\nimport seaborn as sns\nimport warnings\nwarnings.simplefilter(action='ignore', category=FutureWarning)\nwarnings.simplefilter(action='ignore', category=UserWarning)\nsns.set(style=\"white\")\n\n\nimport plotly\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\nimport plotly.graph_objects as go\n\nfrom plotly.offline import plot, iplot, init_notebook_mode\ninit_notebook_mode(connected=True)\n\n\ndf = pd.read_csv(\n    \n    '..\/input\/amazon-top-50-bestselling-books-2009-2019\/bestsellers with categories.csv'\n)","42e3ed28":"df.head()","c2fd9465":"df.info()","91138842":"for column in df.select_dtypes(include=[np.number]).columns:\n    print(column)","42169fe9":"df.describe()","39824b9c":"df.isnull().sum()","29082c69":"from typing import List\ndef plot_histogram(data_frame: str=df):\n    \n    \"\"\"Takes one key-word parameter - name of the data_frame\n    returns: ploted numeric columns in this data frame\"\"\"\n    \n    # selecting names of numeric columns\n    columns_to_plot: List[str] = data_frame.select_dtypes(include=[np.number]).columns \n    \n    # iterating over every numeric column\n    for column in columns_to_plot:\n        fig = px.histogram(data_frame=data_frame, x=column)\n        \n        fig.update_layout(title=dict(text=column,\n                                     x=0.5)) # x parameter sets position of the title\n        fig.show()","03e53c06":"plot_histogram()","c6dc3dca":"# making aggregated view on data frame\ngrouped_by_year_and_genre = (df\n                             .groupby(['Year', 'Genre'])\n                             .count()\n                             .reset_index()\n                             # renaming colum\n                            .rename(columns={'Name': 'count'}))\n\n# visualization\nfig = px.bar(data_frame=grouped_by_year_and_genre, \n             x='Year', y='count',\n             color='Genre',\n            barmode='group'\n            \n            )\n\nfig.update_layout(title=dict(text='<b>amazon bestsellers over years with genre<b>',\n                            x=0.5,\n                             font=\n                             dict(size=24)\n                            ),\n                  font=dict(family='Lato',\n                           size=16)\n                 )\n\n\nfig","da091488":"year_2014 = df[df['Year'] == 2014] # selecting only year 2014","e40bc5ea":"g = sns.FacetGrid(year_2014, col='Genre', xlim=(0, 5e4)) # making FacetGrid object\ng.map(sns.kdeplot, 'Reviews') # maping kde to FacetGrid","d6e6ea9a":"g = sns.FacetGrid(year_2014, col='Genre')\ng.map(sns.kdeplot, 'Price')","f831cd94":"g = sns.FacetGrid(year_2014, col='Genre')\ng.map(sns.kdeplot, 'User Rating')","ad31d02a":"fiction_2014 = year_2014[year_2014['Genre'] == 'Fiction']\n\nnon_fiction_2014 = year_2014[year_2014['Genre'] == 'Non Fiction']","0a003fd2":"fig = make_subplots(rows=1, cols=2, column_titles=['Fiction', 'Non-fiction'],\n                   shared_yaxes=True)\n\n# adding trace with fiction authors\nfig.add_trace(go.Bar(x=fiction_2014['Author'].value_counts().index[:5],\n                    y=fiction_2014['Author'].value_counts().values[:5],\n                    showlegend=False),\n              row=1,\n              col=1\n             )\n\n# adding non-fiction authors\nfig.add_trace(go.Bar(x=non_fiction_2014['Author'].value_counts().index[:5],\n                    y=non_fiction_2014['Author'].value_counts().values[:5],\n                    showlegend=False),\n              row=1,\n              col=2\n             )\n\n\n\n# some styling\nfig.update_layout(yaxis=dict(range=[0.1, 3], dtick=1),\n                 title=dict(text='<b>Amazon bestsellers authors in 2014 with genre<b>',\n                            font=dict(size=24),\n                           x=0.5),\n                 font=dict(family='Lato', size=16))","dfd6a839":"df[df['Author'] == 'John Green']","ec4e06a8":"fig = px.bar(x=df['Author'].value_counts().index[:10],\n            y=df['Author'].value_counts().values[:10])\n\nfig.update_layout(xaxis=dict(title='author'),\n                 yaxis=dict(title='amount of books'),\n                 font=dict(family='Lato', size=16),\n                 title=dict(text='<b>amount of bestsellers per author<b>',\n                            font=dict(size=24),\n                           x=.5))","a37008b3":"df.corr()","056953e8":"fig = px.scatter(data_frame=df, x='Price',\n                y='User Rating')\n\nfig","a44bcb81":"df['free_or_not_free'] = df['Price'].apply(lambda price:  'free' if not price else 'not free')","daf20802":"fig = go.Figure()\n\ncolors = ['lime', 'grey']\n\nfig = fig.add_trace(\n                        go.Pie(labels=df['free_or_not_free'].\n                           value_counts().index, \n                           values=df['free_or_not_free'].\n                           value_counts().values,\n                        hoverinfo='label+percent',\n                        textinfo='percent',\n                        textfont=dict(size=14, color='black'),\n                        marker=dict(colors=colors,\n                                    line=dict(width=2)),\n                        hole=0.7)\n                   )\n\nfig.update_layout(\n    font=dict(family='Lato', size=16, color='black'),\n    title=dict(text='<b>FREE BESTSELLERS AMAZON<b>', \n               font=dict(size=24),x=0.5),\n    plot_bgcolor='white'\n)","a5c7a016":"np.mean(df.loc[df['Genre'] == 'Fiction', 'Price'])","b0baffee":"np.mean(df.loc[df['Genre'] == 'Non Fiction', 'Price'])","3b9510cd":"Amount of not free books is less than 5 % as I assumed at the beggining.","b9ac0492":"Questions I wanted to answer were obtained.\n\n\nIf you want to see my other kernels they are avalible [here](https:\/\/www.kaggle.com\/cloudy17\/code)\n\nPeace \u270c\ufe0f","55c8ceda":"#### how distribution of fiction and non-fiction bestsellers changed over the years? ","ac630cef":"Following conclusions may be drawn from plots above:\n\n* User rating is quite left skewed (negative skewness) if we don't include rating 4.9\n* most of the books has rating from 4 to 4.8\n\n\n* distribution of reviews is quite right skewed if we don't include 0 to - 1980 bin\n\n\n* in price column we can see one visible bin with 8-9, except of this bin it's the same situation as distribution of reviews so it's right skewed\n\n* in year distribution is constant","a64a1d89":"There's no clear pattern visible on kde plots. But next idea which comes to my mind is to see most common authors in this year for fiction and no fiction.","37e36f30":"I answered all the questions I was going to. But this one has come to my mind when I was doing this analysis. Namely:\n\n* which books have bigger price at average ? fiction or non-fiction?","78fc9f11":"### Let's start answer the questions I asked at the beggining:","11248b45":"Fiction:","4d46e798":"#### Which author has the biggest amount of bestsellers? (let's say TOP 10)","1e1bfd7d":"Conclusions:\n\n* bestsellers has minimal rating 3.3\n* some of them are free (minimal price is 0)\n* minimal year is 2009","f712ec2a":"This dataset is clear and well prepared to fall into EDA.","1c2dec25":"Jeff Kinney is winner with 12 bestsellers, next is Gary Chapman(11) and Rick Riordan(11), Suzane Collins also has 11 bestsellers","45e94fd5":"Fiction books are at average cheaper than non fiction books.","d65e8ae4":"Author which have the biggest amount of bestsellers in this year is John Green.\n\nMovie  called \"The Fault in Our Stars\" has premiere in 2014 and get very popular in this time.\nMaybe it helped John Green with selling his books in this time.","2c345799":"## 1.1 Data preprocessing","5164eaaf":"Non-fiction:","3c22d46c":"#### How many percent of all books is for free?","18fe6e78":"Numeric columns:","28adf61d":"## 3. Conclusions","e2d0226b":"Almost in every year it's visible that non-fiction has more bestsellers than fiction, \none exception of this pattern is year 2014. According to my hypothesis from the beggining I was quite right except year 2014 what has be shown on the plot above. Let's inspect this year.","eda9217c":"#### Is the book price correlated with book rating?","20af7710":"This is really interesting dataset which contatins informations about books selling on Amazon in years 2009 - 2019. Contains 550 books, data has been categorized into fiction and non-fiction using Goodreads\n\nBasic informations about this dataset:\n\n550 rows\n\n7 columns\n\nColumn names:\n\n* Name: name of the book,\n* Author: book author,\n* User rating: Amazon User Rating,\n* Reviews: Number of written reviews on amazon,\n* Price: The price of the book (As at 13\/10\/2020)\n* The Year(s) it ranked on the bestseller\n* Whether fiction or non-fiction\n\nQuestions which comes to my mind before going any further:\n\n* how distribution of fiction and non-fiction bestsellers changed over the years? \n\nMy hypothesis: I think that books are more likely to be non-fiction.\n\n* Which author has the biggest amount of bestsellers? (let's say TOP 10)\n\nMy hypothesis: I don't know many authors from period between 2009 to 2019.\n\n\n* Is the book price correlated with book rating?\n\nI thnik that no.\n\n* How many percent of all books is for free?\n\nI think that it will be less than 5%.","56820562":"## EDA","8c9fb262":"Distributions of numeric columns:","801a6dda":"It's weak negtive correlation -0.13 but it's not enought to draw from this any conclusions."}}