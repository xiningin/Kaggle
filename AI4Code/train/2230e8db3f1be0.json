{"cell_type":{"d348e56e":"code","e8b5db4d":"code","9f3d2db4":"code","c1b4c82d":"code","e2867476":"code","56520e61":"code","d034fdc3":"code","a71821a4":"code","1e87ee46":"code","42775e72":"code","8562293b":"code","524162c2":"code","15e36434":"code","c5d40d21":"code","ff287a44":"code","9b86b9c3":"code","4fca611a":"code","a67a5cf1":"code","c63de983":"code","b1456bfd":"code","611b20a5":"code","080448d7":"code","37ce7b47":"code","fbf0b449":"code","98880eb0":"code","da79f2d6":"code","ef54d1e1":"code","d963d5c9":"code","42420bc1":"code","e561e624":"code","23089497":"code","5ac1d294":"code","15a5db0b":"code","d065abe9":"code","5b61cf0c":"markdown","2b7dd6be":"markdown","745b3074":"markdown","14f4b0e9":"markdown","db29f9cb":"markdown","fd7d3359":"markdown","c92328a2":"markdown","33ba1f63":"markdown","42c8e9c5":"markdown","91c400f0":"markdown","e36d41aa":"markdown","fc880d3e":"markdown","5601f0f8":"markdown","e1bb67aa":"markdown","b045ed02":"markdown"},"source":{"d348e56e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e8b5db4d":"import matplotlib.pyplot as plt\nimport seaborn as sns","9f3d2db4":"pip install openpyxl ","c1b4c82d":"with_infertility= '..\/input\/polycystic-ovary-syndrome-pcos\/PCOS_infertility.csv' \nwithout_infertility= '..\/input\/polycystic-ovary-syndrome-pcos\/PCOS_data_without_infertility.xlsx'\ndata1= pd.read_csv(with_infertility)\ndata2= pd.read_excel(without_infertility, sheet_name='Full_new')","e2867476":"data1.head(10)","56520e61":"data2.head(10)","d034fdc3":"data2.columns","a71821a4":"data2.shape","1e87ee46":"data1.shape","42775e72":"data = pd.merge(data2,data1, on='Patient File No.', suffixes={'','_y'},how='left')","8562293b":"data.head(4)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ","524162c2":"data.shape","15e36434":"data.drop(['Unnamed: 44', 'Sl. No_y', 'PCOS (Y\/N)_y', '  I   beta-HCG(mIU\/mL)_y',\n       'II    beta-HCG(mIU\/mL)_y', 'AMH(ng\/mL)_y'], axis=1, inplace= True)","c5d40d21":"data.shape","ff287a44":"data.head(5)","9b86b9c3":"data.info()","4fca611a":"data[\"AMH(ng\/mL)\"]= pd.to_numeric(data[\"AMH(ng\/mL)\"], errors='coerce')\ndata['II    beta-HCG(mIU\/mL)']= pd.to_numeric(data['II    beta-HCG(mIU\/mL)'], errors='coerce')","a67a5cf1":"data.isnull().sum()","c63de983":"data['Marraige Status (Yrs)']= data['Marraige Status (Yrs)'].fillna(data['Marraige Status (Yrs)'].mode()[0])\ndata['Fast food (Y\/N)']= data['Fast food (Y\/N)'].fillna(data['Fast food (Y\/N)'].mode()[0])\ndata['AMH(ng\/mL)']= data['AMH(ng\/mL)'].fillna(data['AMH(ng\/mL)'].mode()[0])\ndata['II    beta-HCG(mIU\/mL)']= data['II    beta-HCG(mIU\/mL)'].fillna(data['II    beta-HCG(mIU\/mL)'].mode()[0])","b1456bfd":"data.isnull().sum().sum()","611b20a5":"corr= data.corr()\nplt.figure(figsize=(30,30))\nsns.heatmap(corr, cmap='coolwarm', annot = True)\nplt.show()","080448d7":"data.columns","37ce7b47":"# check the imbalancity issue\nimport plotly.express as px\nax= px.pie(data, names= \"PCOS (Y\/N)\",template= \"plotly_dark\",title= \" PCOS (Y\/N),Y=1,N=0 \",hole=.7)\nax.show()","fbf0b449":"data.head(5)","98880eb0":"ax= px.histogram(data,x= \"Fast food (Y\/N)\", template= \"plotly_dark\",title='Fast food histogram', nbins = 2)\nax.show()","da79f2d6":"plt.figure(1, figsize=(6, 4))\nsns.countplot(data['Hair loss(Y\/N)'])\nplt.figure(2, figsize=(6, 4))\nsns.countplot(data['Pregnant(Y\/N)'])\nplt.figure(3, figsize=(6, 4))\nsns.countplot(data['Pimples(Y\/N)'])","ef54d1e1":"# df= data[[\"PCOS (Y\/N)\", 'Fast food (Y\/N)']]\n# gp= df.groupby([\"PCOS (Y\/N)\"])\n# gp.count()\n\ndata.groupby([\"Fast food (Y\/N)\",\"PCOS (Y\/N)\" ])[\"Pimples(Y\/N)\"].count()\n# data.groupby([\"Fast food (Y\/N)\"])[\"PCOS (Y\/N)\"].count()","d963d5c9":"y= data['PCOS (Y\/N)']\nX= data.drop('PCOS (Y\/N)', axis=1)\nimport re\nX = X.rename(columns = lambda x:re.sub('[^A-Za-z0-9_]+', '', x))","42420bc1":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)","e561e624":"from imblearn.over_sampling import SMOTE\nsm = SMOTE(random_state=42)\nX_smote, y_smote = sm.fit_resample(X_train, y_train)","23089497":"# importing the required libraries:\nfrom sklearn.model_selection import train_test_split,cross_val_score\nimport random, math\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.model_selection import RepeatedStratifiedKFold\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.feature_selection import chi2, SelectKBest\nfrom lightgbm import LGBMClassifier","5ac1d294":"\nmodel = LGBMClassifier(max_bin= 500, learning_rate=0.1, num_leaves=500)\nmodel.fit(X_smote, y_smote)\n# cv = RepeatedStratifiedKFold(n_splits=5, n_repeats=2, random_state=1)\n# n_scores = cross_val_score(model2, X, y, scoring='accuracy', cv=cv, n_jobs=-1, error_score='raise')\n# print('Accuracy: %.3f (%.3f)' % (np.mean(n_scores), np.std(n_scores)))","15a5db0b":"preds=model.predict(X_test)","d065abe9":"import sklearn \nsklearn.metrics.accuracy_score(y_test, preds)","5b61cf0c":"##### Double checking the number of missing values in the processed data:","2b7dd6be":"<div style= \"color:black text_align:left\" >\n<ul>\n    <li>\"PCOS_infertility.csv\" is additional featured dataset for \"data without infertility final.csv\"<\\li>\n  <li>units mentioned in the sheet.(ie, feet to cm)<\/li>\n  <li>Manipulated datas if any need to be highlighted using Orangish colour<\/li>\n  <li>For every Yes\/No questions *** , Indicate Yes = 1 ; No= 0<\/li>\n   <li> Blood Group indications **\n    A+ = 11,\n    A- = 12,\n    B+ = 13,\n    B- = 14,\n    O+ =15,\n    O- = 16,\n    AB+ =17,\n    AB- = 18<\\li>\n   <li>Blood pressure entered as systolic and diastolic separately<\\li>\n   <li> RBS means Random glucose test<\\li>\n   <li>Beta-HCG cases are mentioned as Case I and II<\\li>\n<\\ul> \n<\\div>","745b3074":"Merging data sets based on patients","14f4b0e9":" <a id = '2'> <\/a>\n<h2 style='background:#787878;color:#FFD580; border:0; font-size:150%' role=\"tab\" aria-controls=\"DP\"><center>Data Processing <\/center><\/h2>\n","db29f9cb":"<a id= '4'><\/a>\n<h2 style='background:#787878;color:#FFD580; border:0; font-size:150%' role=\"tab\" aria-controls=\"M\"><center>Molleding and evaluation <\/center><\/h2>","fd7d3359":"<a id='3'><\/a>\n<h2 style='background:#787878;color:#FFD580; border:0; font-size:150%' role=\"tab\" aria-controls=\"DP\"><center>EDA and data visualization <\/center><\/h2>\n","c92328a2":"Dropping the repetitive features:","33ba1f63":"1. [Data Description](#1)\n1. [Data processing](#2) <br>\n    2.1 Merging the data sets <br>\n    2.2 Dealing with not numeric values in the merged data <br>\n    3.2 Dealing with missing values <br>\n1.  [EDA and Visualization](#3) <br> \n    3.1 Correlation <br> \n    3.2 Data Visualization <br> \n    3.3 Train\/test split <br> \n    3.4 Smote algorithm <br> \n1. [Modeling and evaluation](#4) <br> \n    4.1 LGB model\n","42c8e9c5":"Looking into the data:","91c400f0":"<a id=\"1\"><\/a>    \n<h2 style='background:#787878;color:#FFD580; border:0; font-size:150%' role=\"tab\" aria-controls=\"home\"><center>Data Description<\/center><\/h2>","e36d41aa":"if you are interested to learn more about PCOS, you can check [this](http:\/\/www.healthline.com\/health\/polycystic-ovary-disease#causes) out!","fc880d3e":"<!-- <img height='1600' width= '800' class='center' src=\"https:\/\/houston.momcollective.com\/wp-content\/uploads\/2019\/09\/PCOS-Feautre.jpg\"  style=\"vertical-align:middle;margin:50px 0px\"> -->\n<!-- <p class='aligncenter'>\n   <img height='1600' width= '800' src=\"https:\/\/houston.momcollective.com\/wp-content\/uploads\/2019\/09\/PCOS-Feautre.jpg\"> <\\p> -->\n \n<div>\n    <center>\n        <img height='1600' width= '800' src=\"https:\/\/houston.momcollective.com\/wp-content\/uploads\/2019\/09\/PCOS-Feautre.jpg\">\n    <\\center>\n<\\div>","5601f0f8":"Dealing with missing values:\n","e1bb67aa":"Dealing with non numeric values in the data:","b045ed02":"<h2 style='background:#787878;color:#FFD580; border:0; font-size:150%' role=\"tab\" aria-controls=\"TC\"><center>Table of content <\/center><\/h2>\n"}}