{"cell_type":{"81b6cf69":"code","2918eba9":"code","fb848bd8":"code","07d9977d":"code","eec3425f":"code","ef7c430f":"code","a1f721e3":"code","62fd4c38":"code","63c3ddb0":"code","2df83b61":"code","3f46c5f7":"code","986b4f19":"code","260d3765":"code","578b2f2a":"code","cadaa401":"code","6135806e":"code","d374819e":"code","6aad25ac":"code","1301dcbb":"code","d82305b5":"code","5d605e9b":"code","27f69fcb":"code","80b4ef31":"code","5f39458a":"code","66cc7c46":"code","cfdae160":"code","124339ee":"code","969ec5cb":"code","3bb07692":"code","b10a73e5":"code","b33ba297":"code","4232d69d":"code","4e91905f":"code","9d7d8ef6":"code","0ad41eb8":"code","1498f5da":"code","0eb3e0e9":"code","66b8dbbc":"code","0f2d3467":"code","e98632ce":"code","3dc0fae0":"code","9d8dca38":"code","11f95548":"code","f004b79e":"code","d73855e0":"code","b20b337c":"markdown","f7e9de72":"markdown","1fa03f07":"markdown","2d8f7a41":"markdown","ea7cac10":"markdown","2fa428de":"markdown","065f127e":"markdown","e0cfdcda":"markdown","7c6afc4e":"markdown","52215ba8":"markdown","05d504bb":"markdown","bec5d496":"markdown","b5cf0d5d":"markdown","8fbd93d6":"markdown","3c4cf0b8":"markdown","7b9212c3":"markdown","24c03f24":"markdown","38b83f70":"markdown","6c03d5c4":"markdown","d5b96cd4":"markdown","977f3ee0":"markdown","1d79f086":"markdown","32ece1ee":"markdown","07bbd8f2":"markdown","b2c8f17b":"markdown","ef31d561":"markdown","8181e413":"markdown","1871b367":"markdown","d3fab69a":"markdown","1019fc34":"markdown","abd24a9e":"markdown","d427fee8":"markdown","0f60d585":"markdown","cc9a851f":"markdown","bccc6808":"markdown","d8014f22":"markdown","936e1bd0":"markdown","e2e4b621":"markdown","b5cdadd8":"markdown","c2b030b2":"markdown","2a98944c":"markdown"},"source":{"81b6cf69":"# data analysis and wrangling\nimport pandas as pd\nimport numpy as np\nimport random as rnd\nimport datetime\nimport time\nimport warnings\nwarnings.filterwarnings('ignore')\n\nfrom scipy.stats import norm\nfrom scipy import stats\nfrom sklearn import preprocessing\n\n# visualization\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib\nmatplotlib.style.use('ggplot')\nsns.set_style('whitegrid')\n%matplotlib inline","2918eba9":"#data = pd.read_csv('\/media\/vishwadeepg\/New Volume\/Work\/0. Gauty\/Kernal\/suicide_rates_overview\/master.csv')\ndata = pd.read_csv('..\/input\/master.csv')","fb848bd8":"#Size of datasets\nprint(\"Size of dataset  (Rows, Columns): \",data.shape)","07d9977d":"# data snapshot\ndata.head()","eec3425f":"data.columns = ['country', 'year', 'sex', 'age', 'suicides_no', 'population', 'suicides_avg', 'country_year', \n                'HDI_for_year', 'gdp_for_year', 'gdp_per_capita', 'generation']","ef7c430f":"#general information of data\nprint(\"Data info: \",data.info())","a1f721e3":"print(\"Datatypes of dataset are:\")\nprint(data.dtypes.value_counts())","62fd4c38":"data.describe()","63c3ddb0":"def missing_check(df):\n    total = df.isnull().sum().sort_values(ascending=False)\n    percent = (df.isnull().sum()\/df.isnull().count()).sort_values(ascending=False)\n    missing_data = pd.concat([total, percent], axis=1, keys=['Total', 'Percent']) \n    #print(\"Missing check:\",missing_data )\n    return missing_data\n","2df83b61":"missing_check(data)","3f46c5f7":"descending_order = data['country'].value_counts().sort_values(ascending=True).index\nfigure = plt.figure(figsize=(15,30))\nax = sns.countplot(y=data['country'], data=data, order=descending_order)","986b4f19":"ax = sns.countplot(x=data['sex'], data=data)","260d3765":"descending_order = data['year'].value_counts().sort_values(ascending=True).index\nfigure = plt.figure(figsize=(10,15))\nax = sns.countplot(y=data['year'], data=data, order=descending_order)","578b2f2a":"figure = plt.figure(figsize=(10,8))\nax = sns.countplot(y=data['age'], data=data)","cadaa401":"data.population.hist(figsize=[10,5],bins=50, xlabelsize=10, ylabelsize=10)","6135806e":"data.suicides_avg.hist(figsize=[10,5],bins=50, xlabelsize=10, ylabelsize=10)","d374819e":"data.gdp_per_capita.hist(figsize=[10,5],bins=50, xlabelsize=10, ylabelsize=10)","6aad25ac":"#data.gdp_for_year.hist(figsize=[10,5], xlabelsize=10, ylabelsize=10)","1301dcbb":"data.HDI_for_year = data.HDI_for_year.fillna(0)\ndata.HDI_for_year.hist(figsize=[10,5],bins=50, xlabelsize=10, ylabelsize=10)","d82305b5":"figure = plt.figure(figsize=(10,8))\nax = sns.countplot(y=data['generation'], data=data)","5d605e9b":"figure = plt.figure(figsize=(15,8))\ndata.groupby(by=['country'])['suicides_no'].sum().reset_index().sort_values(['suicides_no'],\n                    ascending=True).tail(30).plot(x='country',y='suicides_no',kind='bar', figsize=(15,8))","27f69fcb":"figure = plt.figure(figsize=(10,15))\ndata.groupby(by=['country'])['suicides_no'].sum().reset_index().sort_values(['suicides_no'],\n                    ascending=True).head(30).plot(x='country',y='suicides_no',kind='bar', figsize=(15,8))","80b4ef31":"figure = plt.figure(figsize=(15,8))\nplt.scatter(data.year, data.suicides_no, color='g')\nplt.xlabel('year')\nplt.ylabel('Number of suicides')\nplt.show()","5f39458a":"plt.figure(figsize=(15,10))\nax = sns.barplot(x='age', y='suicides_no', data=data);","66cc7c46":"plt.figure(figsize=(8,10))\nax = sns.barplot(x=\"sex\", y=\"suicides_no\", data=data)","cfdae160":"figure = plt.figure(figsize=(20,10))\nax = sns.regplot(x=data['population'],y='suicides_no', data=data, color='m')","124339ee":"figure = plt.figure(figsize=(20,10))\nax = sns.regplot(x=data['suicides_avg'],y='suicides_no', data=data, color='r')","969ec5cb":"\"\"\"\nfigure = plt.figure(figsize=(20,10))\nplt.scatter(data.gdp_for_year, data.suicides_no, color='r')\nplt.xlabel('suicides_avg')\nplt.ylabel('Number of suicides')\nplt.show()\n\"\"\"","3bb07692":"figure = plt.figure(figsize=(20,10))\nax = sns.regplot(x=data['gdp_per_capita'],y='suicides_no', data=data)","b10a73e5":"df = data[data['HDI_for_year']>0]\nfigure = plt.figure(figsize=(20,10))\nax = sns.regplot(x=df['HDI_for_year'],y='suicides_no', data=df)","b33ba297":"figure = plt.figure(figsize=(20,10))\ndata_scaled = data.loc[:,['gdp_per_capita','suicides_avg']]\ndata_scaled = (data_scaled - data_scaled.mean()) \/ data_scaled.std()\nsns.scatterplot(data=data_scaled,x='gdp_per_capita',y='suicides_avg', color='b')","4232d69d":"figure = plt.figure(figsize=(20,10))\ndata_scaled = df.loc[:,['HDI_for_year','suicides_avg']]\ndata_scaled = (data_scaled - data_scaled.mean()) \/ data_scaled.std()\nsns.scatterplot(data=data_scaled,x='HDI_for_year',y='suicides_avg',color='g')","4e91905f":"plt.figure(figsize=(15,10))\nax = sns.barplot(x='generation', y='suicides_no', data=data);","9d7d8ef6":"plt.figure(figsize=(20,10))\nsns.barplot(data=data,x='sex',y='suicides_no',hue='age')","0ad41eb8":"plt.figure(figsize=(20,10))\nsns.barplot(data=data[data['year']<2004],x='sex',y='suicides_no',hue='year')","1498f5da":"plt.figure(figsize=(20,10))\nsns.barplot(data=data[data['year']>2004],x='sex',y='suicides_no',hue='year')","0eb3e0e9":"plt.figure(figsize=(20,10))\nax = sns.barplot(x=\"generation\", y=\"suicides_no\", hue=\"sex\", data=data)","66b8dbbc":"plt.figure(figsize=(20,10))\nsns.barplot(data=data[data['year']<2004],x='year',y='suicides_no',hue='age')","0f2d3467":"plt.figure(figsize=(20,10))\nsns.barplot(data=data[data['year']>2003],x='year',y='suicides_no',hue='age')","e98632ce":"plt.figure(figsize=(20,10))\nax = sns.barplot(x=\"generation\", y=\"suicides_no\", hue=\"age\", data=data)","3dc0fae0":"data.head()","9d8dca38":"le = preprocessing.LabelEncoder()\ndata['sex'] = le.fit_transform(data['sex'])\ndata['generation'] = le.fit_transform(data['generation'])\ndata['age'] = le.fit_transform(data['age'])\ndata['country'] = le.fit_transform(data['country'])\n","11f95548":"df1 = data[['country', 'sex', 'age',  'population','suicides_avg', 'HDI_for_year', 'gdp_for_year',\n            'gdp_per_capita', 'generation', 'suicides_no']]","f004b79e":"data_corr = df1.corr()['suicides_no'][:-1] # -1 because the latest row is Target\ngolden_features_list = data_corr.sort_values(ascending=False)\ngolden_features_list","d73855e0":"corr = df1.corr() \nplt.figure(figsize=(12, 10))\n\nsns.heatmap(corr, \n            cmap='viridis', vmax=1.0, vmin=-1.0, linewidths=0.1,\n            annot=True, annot_kws={\"size\": 8}, square=True);","b20b337c":"### Number of suicides by Sex and year: year < 2004","f7e9de72":"### Avg. Suicides","1fa03f07":"### generation","2d8f7a41":"1. Russia, United States, Japan, France and Ukraine are having highest number od suicidal cases\n2. The people at age of 35-54 years suicide most. However, in the suicide per 100k people, the people at ages over 75 suicide most.\n3. Men are more suicidal than women.\n4. As the GDP per Capita increases the rate of suicides decreases\n5. Boomers generation have highest number of suicides followed by Silent, Generation X\n6. Man in age group of 35-54 are more suicidal\n7. Female are less suicial in every generation.","ea7cac10":"##### year < 2004","2fa428de":"### Missing Values","065f127e":"### Number of Suicides by gdp_for_year","e0cfdcda":"### population","7c6afc4e":"### Number of suicides by Sex and year: year < 2004","52215ba8":"### sex","05d504bb":"### Number of Suicides by population","bec5d496":"### Age","b5cf0d5d":"### Number of Suicides by Country: top 30","8fbd93d6":"### Variables Indetifications","3c4cf0b8":"### Read dataset","7b9212c3":"# Univariate Analysis","24c03f24":"#### year > 2003","38b83f70":"### Number of Suicides vs Avg Number of Suicides ","6c03d5c4":"### Correlation between suicides\/100k_pop and HDI","d5b96cd4":"### Number of Suicides by SEX","977f3ee0":"### GDP per Capita","1d79f086":"## Insight","32ece1ee":"### Number of Suicides by years","07bbd8f2":"### Number of Suicides by gdp_per_capita","b2c8f17b":"### Year","ef31d561":"### Number of Suicides by HDI_for_year","8181e413":"# Bivariate Analysis","1871b367":"### Number of suicides by sex and age","d3fab69a":"### Thank You","1019fc34":"__Context__: HealthStats provides key health, nutrition and population statistics gathered from a variety of international sources. Themes include population dynamics, nutrition, reproductive health, health financing, medical resources and usage, immunization, infectious diseases, HIV\/AIDS, DALY, population projections and lending. HealthStats also includes health, nutrition and population statistics by wealth quintiles.\n\n\n__Content__: This dataset includes 345 indicators, such as immunization rates, malnutrition prevalence, and vitamin A supplementation rates across 263 countries around the world. Data was collected on a yearly basis from 1960-2016.\n\n__data__: \n1. country\t\n2. year\t\n3. sex\t\n4. age\t\n5. suicides_no\t\n6. population\t\n7. suicides\/100k pop\t\n8. country-year\t\n9. HDI for year\t\n10. gdp_for_year\n11. gdp_per_capita\t\n12. generation","abd24a9e":"### Number of Suicides by generation","d427fee8":"### Number of suicides by sex and generation","0f60d585":"### HDI_for_year","cc9a851f":"### suicides\/100k_pop and GDP per capita","bccc6808":"### Correlation Analysis","d8014f22":"### Number of Suicides by Age","936e1bd0":"### country","e2e4b621":"#### Insight of this kernal","b5cdadd8":"### Number of suicides by Sex and year: year > 2004","c2b030b2":"### Number of Suicides by Country: bottom 30","2a98944c":"### gdp_for_year"}}