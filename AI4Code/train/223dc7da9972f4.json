{"cell_type":{"ceae82eb":"code","aa954bd3":"code","538362d5":"code","c1674a8a":"code","0adabcd7":"code","c01aed2f":"code","deb2f8fb":"code","ad4f7e21":"code","54773355":"code","41577b04":"code","a548df53":"code","387a9a19":"code","726d5c0d":"code","775fb492":"code","bf868634":"code","8e422124":"code","7747e230":"markdown","859885ef":"markdown","08761140":"markdown","e14efd90":"markdown","9fc4bdca":"markdown","5f809c72":"markdown"},"source":{"ceae82eb":" import pandas as pd\n import matplotlib.pyplot as plt","aa954bd3":"col = ['short_name','player_positions','wage_eur','age', 'league_name','nationality_name']\nfilepath = '..\/input\/fifa-22-complete-player-dataset\/players_22.csv'\nfifa = pd.read_csv(filepath,usecols=col)","538362d5":"fifa.dropna(inplace=True)","c1674a8a":"fifa['player_pos'] = fifa.player_positions.str.split(',').str[0]\nfifa.drop(columns='player_positions',inplace=True)","0adabcd7":"avg_pay = fifa.groupby(\"player_pos\")['wage_eur'].mean().round(2)\naxes = avg_pay.plot(kind='bar', x='avg_pay', y=\"player_pos\",figsize=(11,6));\naxes.set_ylabel('Thousands Weekly')\naxes.set_title(\"Player Positions and their Pay\");","c01aed2f":"fifa[['short_name','player_pos','wage_eur']].sort_values('wage_eur', ascending=False).head(20)\n#filter player position by RW ","deb2f8fb":"def as_thousands(value):\n    return value \/ 10_000","ad4f7e21":"fifa[['wage_eur','league_name']].groupby('league_name') \\\n                                            .sum() \\\n                                            .sort_values('wage_eur', ascending=False) \\\n                                            .head(10) \\\n                                            .apply(as_thousands) \\\n                                            .plot(kind='barh', figsize=(11,6))\n\nplt.xlabel(\"Weekly Salary in Thousands\")\nplt.ylabel('Soccer Leagues')\nplt.title('Highest Paying Leagues');","54773355":"national_players = fifa.groupby('nationality_name')['short_name'].count()\nshort_list = national_players[national_players > 100].index.tolist()\nsmaller_df = fifa[fifa.nationality_name.isin(short_list)]","41577b04":"smaller_df[['wage_eur','nationality_name']].groupby('nationality_name')['wage_eur'] \\\n                                                  .mean() \\\n                                                  .sort_values(ascending=False) \\\n                                                  .head(10).round(2) \\\n                                                  .plot(kind='bar', figsize=(11,6))\n\nplt.xlabel(\"Countries\")\nplt.ylabel('Average weekly Salary')\nplt.title('nationalities That Get Paid the Most')","a548df53":"national_avg_series = smaller_df[['wage_eur','nationality_name']].groupby('nationality_name')['wage_eur'].mean() \\\n                                                          .sort_values(ascending=False).round(2)\ndef modify_wages(wage):\n    return f\"${wage:,.2f}\"\n    \nnational_avg = pd.DataFrame(national_avg_series)\nnational_avg[\"wage_eur\"] = national_avg[\"wage_eur\"].apply(modify_wages)\nnational_avg.head(10)","387a9a19":"league_avg_series = smaller_df[['wage_eur','league_name']].groupby('league_name')['wage_eur'].mean() \\\n                                      .sort_values(ascending=False).head(10).round(2)\n\nleague_avg = pd.DataFrame(league_avg_series)\nleague_avg[\"wage_eur\"] = league_avg[\"wage_eur\"].apply(modify_wages)\nleague_avg.head(10)","726d5c0d":"fifa[fifa.player_pos == 'CM'].head(10)","775fb492":"fifa[fifa.player_pos == 'CB'].head(10)","bf868634":"fifa[fifa.player_pos == 'GK'].head(10)","8e422124":"gk = fifa.fillna({'player_pos': 'RW'}).groupby('player_pos')['wage_eur']\ngk.mean()","7747e230":"Here we can see that the EPL (English Premier League) is the highest paying league in the world. Spanish Primera Division and Italian Serie A round up spots two and three. This is expected because if we look at our previous chart we can see that half of the players come from the EPL.","859885ef":"The purpose of this is to figure out what leads to the most pay in soccer is it positions, leagues, or your nationality. The difficult part of this test are the outliers. The ones who get paid an absolute crazy amount. In my opinion they highest paid league in the world will be the English Premier League. The highest paid position will most likely be a forward of sorts. ","08761140":"Here we see that when it comes to pay, playing in the EPL is the best way to get paid higher. This also shows that even if you play in the EPL that doesn't mean that English players will get paid more. Nationality should not mean you deserve to get paid more. Some 'experts' may say that a player who is for example Brazil should get paid more than an Canadian player just because of the countries track record. Which isn't right, it should come from the individuals merits.","e14efd90":"In this graph we can still what the positions average pay is. CF is the position that gets paid more than double what the next closest one is which is RW. I completely missed a basic problem here. Some players played in multiple positions. To combat that I had to only select their most played position. ","9fc4bdca":"Here I am only us a few of the 110 columns that are in the Dataset. Also, dropping the nulls from my dataset.","5f809c72":"This graph shows us the leagues with a minimum of a 100 players in FIFA 22. Here we can see that Italians are the highest paid soccer players with Brazilians and Spanish players rounding out the top 3."}}