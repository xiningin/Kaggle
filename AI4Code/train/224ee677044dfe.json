{"cell_type":{"863cefc6":"code","33e7653b":"code","cb5b1836":"code","ad937bc0":"code","cfdc8494":"code","32c91543":"code","c8149a7a":"code","b1405f74":"code","963dcc9e":"code","380171bf":"code","a473c46c":"code","19a004b8":"code","658bfa5f":"code","d5570574":"code","95f78d08":"code","908b0410":"code","16e212db":"code","8eed32f9":"code","88c65ab1":"code","4e1b7af1":"code","9e5f798a":"code","9c1f580b":"code","3e0c65c7":"code","acc5b08b":"code","01697328":"code","79b78dab":"code","92a7cad8":"code","897247d6":"code","34fb6fd7":"code","45daef86":"code","7057d11d":"code","67c90fbd":"code","5f756a6f":"code","0aac65b5":"code","e940d146":"code","829a5d5b":"code","2707a2dc":"code","500e9ed7":"code","c9ad3796":"code","b5158d8e":"markdown","e531cd8e":"markdown","d0787cc3":"markdown","5b940617":"markdown","5668a0bb":"markdown","87adefe7":"markdown","038d82fb":"markdown","cdb7a143":"markdown","8383c749":"markdown","af825dfa":"markdown","414f9517":"markdown"},"source":{"863cefc6":"import pandas as pd\nimport numpy as np\nimport category_encoders as ce\nfrom sklearn.linear_model import LinearRegression,Ridge\nfrom sklearn.model_selection import train_test_split,RepeatedKFold,GridSearchCV\nfrom sklearn.metrics import mean_squared_error,mean_absolute_error,r2_score\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import RandomForestRegressor\nimport pandas_profiling as pp","33e7653b":"df = pd.read_csv(\"..\/input\/retail-prices-of-commodities-in-india\/Monthly_Food_Retail_Prices.csv\")","cb5b1836":"df","ad937bc0":"pp.ProfileReport(df)","cfdc8494":"for i in df.columns:\n    print(\"Column Nam\",i,\"\\n\",df[i].value_counts())","32c91543":"df.isnull().sum()","c8149a7a":"df.describe()","b1405f74":"df[\"Commodity\"].fillna(\"Not Available\",inplace=True)\ndf[\"Variety\"].fillna(\"FAQ\",inplace = True)","963dcc9e":"df.isnull().sum()","380171bf":"df[\"State\"].value_counts()","a473c46c":"def one_hot_encoding(df,col):\n    one_hot_encoder=ce.OneHotEncoder(cols=col,return_df=True,use_cat_names=True)\n    df_final = one_hot_encoder.fit_transform(df)\n    return df_final","19a004b8":"df = one_hot_encoding(df,\"State\")\ndf = one_hot_encoding(df,\"Centre\")\ndf = one_hot_encoding(df,\"Commodity\")\ndf = one_hot_encoding(df,\"Variety\")\ndf = one_hot_encoding(df,\"Unit\")","658bfa5f":"df","d5570574":"df[[\"Month\",\"Year\"]] = df['Date'].str.split('-',n=1,expand=True)","95f78d08":"def split_Date(val):\n    mon={'JAN':1, 'FEB':2, 'MAR':3, 'APR':4, 'MAY':5, 'JUN':6, 'JUL':7, 'AUG':8, 'SEP':9,'OCT':10, 'NOV':11, 'DEC':12}\n    return mon[val]","908b0410":"df[\"Month\"] = df[\"Month\"].apply(split_Date)","16e212db":"df","8eed32f9":"columns_to_be_removed = [\"Category\",\"Date\"]","88c65ab1":"df.drop(columns_to_be_removed,axis = 1,inplace= True)","4e1b7af1":"df_test = df[df[\"Retail Price\"].isnull()==True]\n","9e5f798a":"df_train = df.dropna()\ndf_train","9c1f580b":"X_train = df_train.drop(\"Retail Price\",axis = 1)\nX_test = df_test.drop(\"Retail Price\",axis = 1)\nY_train = df_train[\"Retail Price\"]","3e0c65c7":"lr = LinearRegression()","acc5b08b":"lr.fit(X_train,Y_train)","01697328":"Y_pred = lr.predict(X_test)","79b78dab":"df_test[\"Retail Price\"] = Y_pred","92a7cad8":"df_test","897247d6":"df_final = pd.concat([df_train,df_test],axis = 0)","34fb6fd7":"df_final = df_final.reset_index(drop=True)","45daef86":"df_final","7057d11d":"X = df_final.drop(\"Retail Price\",axis = 1)\nY = df_final[\"Retail Price\"]","67c90fbd":"X_train,X_test,Y_train,Y_test = train_test_split(X,Y,random_state=27,test_size = 0.25)","5f756a6f":"lr = LinearRegression()","0aac65b5":"lr.fit(X_train,Y_train)","e940d146":"ridge = Ridge(alpha=1.0)\nridge.fit(X_train, Y_train)","829a5d5b":"Y_pred_lr = lr.predict(X_test)","2707a2dc":"r2_score(Y_pred_lr,Y_test)","500e9ed7":"Y_pred_ridge = ridge.predict(X_test)","c9ad3796":"r2_score(Y_pred_ridge,Y_test)","b5158d8e":"# Evaluation Metrics","e531cd8e":"# Predicting the Retail Prices","d0787cc3":"# Importing Packages","5b940617":"# One Hot encoding","5668a0bb":"# Training Models","87adefe7":"# Data Transformation","038d82fb":"# Importing Data","cdb7a143":"<center><h1 class=\"list-group-item list-group-item-success\">Retail Prices Of Commodities In India<\/center>\n<img src = \"https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcSQGblZ3lAcUjYRXf1BlooEem7PeNM4UHUS-w&usqp=CAU\" style = \"width:30%\">\n    <h3>Context<\/h3>\n<p>In the light of the recent surge in prices of petrol, prices of several day-to-day commodities have increased (or are expected to increase in the future). Let us take a deep dive into the historical price variation of different commodities in India.<\/p>\n\n<h3>Content<\/h3>\n    \n<p>The dataset contains information about retail prices of commodities like fruits, vegetables, clothes, etc. The data captures weekly as well as monthly prices across different states and important\/major districts\/market centers.<p>\n\nThe commodities have generalized categories and do not contain brand information. \n\n<li>\nState: Indian state. Example: Maharashtra, Madhya Pradesh, Rajasthan, etc.\n<\/li>\n<li>Center: Market center. Example: Mumbai, Pune, Bangalore, etc.<\/li>\n<li>\nCommodity: Name of the commodity. Example: Fish, Apple, Dhoti, Saree, Ghee,\netc.\n<\/li>\n<li>\nVariety: Subtype of the commodity. Example: Type of apple is Delicious medium\nsize.\n<\/li>\n<li>Unit: Measurement unit. Example: Kg, Litre, Dozens, etc.<\/li>\n<li>Category: Food or Non Food<\/li>\n<li>\nDate: For weekly, it is a weekly date and for monthly it is a monthly date.\n<\/li>\n<li>Retail price: Retail price of the commodity in rupees.<\/li>\n<br>\n    \n<h3>Contents:<\/h3>\n<font size = 3.5 color = \"blue\">\n<li>Importing Packages<\/li>\n<li>Importing Data<\/li>\n<li>Analysing Data<\/li>\n<li>Data Overview<\/li>\n<li>One Hot encoding<\/li>\n<li>Data Transformation<\/li>\n<li>Predicting the Retail Prices<\/li>\n<li>Training Models<\/li>\n<li>Evaluation Metrics<\/li>","8383c749":"# Data Overview","af825dfa":"<img src=\"https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcRWDgteV-sNXVRkc0xwyodmJt18ImebZ1UcKA&usqp=CAU\">","414f9517":"# Analysing Data"}}