{"cell_type":{"7782807d":"code","7448099d":"code","3b0897d8":"code","98fda0d2":"code","4a6410f2":"code","333e40ca":"markdown"},"source":{"7782807d":"!pip install lofo-importance","7448099d":"import pandas as pd\nimport numpy as np\n\ntrain_df = pd.read_csv(\"..\/input\/train.csv\")\ntrain_df.shape","3b0897d8":"from sklearn.model_selection import StratifiedKFold\nfrom lightgbm import LGBMClassifier\n\nskf = StratifiedKFold(n_splits=5, shuffle=True, random_state=0)\nmodel = LGBMClassifier(n_estimators=50, num_leaves=7, n_jobs=-1)","98fda0d2":"from lofo import LOFOImportance, plot_importance\n\nfeatures = train_df.columns[2:]\n\nlofo_imp = LOFOImportance(train_df, features, \"target\", model=model, cv=skf, scoring=\"roc_auc\")\n\nimportance_df = lofo_imp.get_importance()\nimportance_df.head()","4a6410f2":"%matplotlib inline\n\nplot_importance(importance_df, figsize=(12, 32))","333e40ca":"# Leave One Feature Out (LOFO) Feature Importance\n\nhttps:\/\/github.com\/aerdem4\/lofo-importance"}}