{"cell_type":{"debb54b0":"code","aa310a07":"code","28cfb1b1":"code","28263b64":"code","07a1c701":"code","79adf500":"code","38d28503":"code","bd89fc41":"code","c78229c4":"code","fc76a800":"code","0ab03dcb":"code","ba991a27":"code","b38e1461":"code","eae32878":"code","3e93570a":"code","33d8d713":"code","da80b208":"code","8bdd6728":"code","f5809ba2":"code","fd96399e":"code","1a6cf6a4":"code","08068d18":"code","eeac5b93":"code","1abf4fac":"code","0ecfe1f2":"code","980f3cc3":"code","7e30f461":"code","b7cc122e":"code","b50f3e18":"code","a74b6b64":"code","0973a0f0":"code","a8daf700":"code","1d10200a":"code","0fd3befd":"code","2494c966":"code","1f8f14d6":"code","eb649b06":"code","f28b9aad":"code","68ab98ac":"code","b412df6b":"code","bc4478c5":"code","b69a14e5":"code","d88b38df":"code","fe83dcc4":"code","10683ca3":"code","ab9bfc39":"code","895512c0":"code","0a221650":"markdown","3fd72222":"markdown","bb2b7596":"markdown","b3ab6ca1":"markdown","08bf43ff":"markdown","76c5857d":"markdown","685fd674":"markdown","9d7618e7":"markdown","5a6ffc5a":"markdown","76e46cab":"markdown","4e880d18":"markdown","8adc2036":"markdown","5b369be0":"markdown","8c5b5e35":"markdown","ad5780ad":"markdown","b9602070":"markdown","5252c311":"markdown","19b2ba19":"markdown","3a9ffd79":"markdown","15946e3d":"markdown","525d1e64":"markdown","c66131f3":"markdown","677906b0":"markdown","3c2d4a92":"markdown","f16c61d3":"markdown","e958f8e7":"markdown"},"source":{"debb54b0":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline","aa310a07":"# Load your data and print out a few lines.\n# \u2018cast\u2019 and \u2018genres\u2019, contain multiple values separated by pipe (|) characters.\n# Should we separate them? It doesn't have a meaning if we split to rows\ndf = pd.read_csv('..\/input\/tmdb-movies-dataset\/tmdb-movies.csv')\ndf.head()","28cfb1b1":"\ndf.shape","28263b64":"\ndf.info()","07a1c701":"sum(df.duplicated())","79adf500":"\ndf.isnull().sum()","38d28503":"df.describe()","bd89fc41":"\ndf.drop(columns=[ 'imdb_id' , 'overview', 'homepage', 'tagline', 'keywords',  'production_companies', 'release_date'], inplace=True)\n","c78229c4":"# Check columns\ndf.head()","fc76a800":"# Drop null values\ndf.dropna(inplace=True)","0ab03dcb":"# Check if there are more missing values\ndf.isnull().sum()","ba991a27":"# Drop dublicates\ndf.drop_duplicates(inplace=True)","b38e1461":"# Check douplicates\nsum(df.duplicated())","eae32878":"# check number of rows have zero values of budget, revenue, and runtime\nlen(df.query('budget == 0'))","3e93570a":"len(df.query('revenue == 0'))","33d8d713":"len(df.query('runtime == 0'))","da80b208":"df.info()","8bdd6728":"\ndf['budget'] = df['budget'].replace(0,None)\ndf['revenue'] = df['revenue'].replace(0,None)\ndf['runtime'] = df['runtime'].replace(0,None)","f5809ba2":"# check \ndf.info()","fd96399e":"len(df.query('budget == 0'))","1a6cf6a4":"# Now min values for budget, revenue, and runtime make sence\ndf.describe()","08068d18":"df.hist(figsize=(15,15));\n","eeac5b93":"# budget over years\nyear_budget=df.groupby('release_year')['budget'].mean()\n\nplt.subplots(figsize=(8, 5))\nplt.title('budget over years')\nplt.xlabel('releas year',fontsize=18)\nplt.ylabel('budget',fontsize=18);\nplt.plot(year_budget);","1abf4fac":"# popularity over years\nyear_popularity=df.groupby('release_year')['popularity'].mean()\n\nplt.subplots(figsize=(8, 5))\nplt.title('popularity over years')\nplt.xlabel('releas year',fontsize=18)\nplt.ylabel('popularity',fontsize=18);\nplt.plot(year_popularity);","0ecfe1f2":"df['budget'].value_counts()","980f3cc3":"df['popularity'].value_counts()","7e30f461":"# popularity over years\nbudget_popularity=df.groupby('budget')['popularity'].mean()\n\nplt.subplots(figsize=(8, 5))\nplt.title('popularity over budget')\nplt.xlabel('popularity',fontsize=18)\nplt.ylabel('budget',fontsize=18);\nbudget_popularity.plot(kind='box');","b7cc122e":"min_value=df['budget'].min()\nfirst_quantile=df['budget'].quantile(0.25)\nsecond_quantile=df['budget'].quantile(0.5)\nthird_quantile=df['budget'].quantile(0.75)\nmax_value=df['budget'].max()\nconditions = [\n    (df['budget'] > min_value) & (df['budget'] <= first_quantile),\n    (df['budget'] > first_quantile) & (df['budget'] <= second_quantile),\n    (df['budget'] > second_quantile) & (df['budget'] <= third_quantile),\n    (df['budget'] > third_quantile) & (df['budget'] <= max_value)\n    ]\nvalues = ['low', 'low-mid','mid-high', 'high']\ndf['budget_class'] = np.select(conditions, values)\n","b50f3e18":"df.head()","a74b6b64":"df['budget_class'].value_counts()","0973a0f0":"df.drop(df[df['budget_class'] == '0'].index,inplace=True)","a8daf700":"df['budget_class'].value_counts()","1d10200a":"budget_pop=df.groupby('budget_class')['popularity'].mean().sort_index()\norder = ['low', 'low-mid', 'mid-high', 'high']\nbudget_pop = budget_pop.loc[order]\nbudget_pop.plot(kind='bar');\nplt.xlabel('budget',fontsize=18)\nplt.ylabel('popularity',fontsize=18)\nplt.title('Popularity vs Budget');\n","0fd3befd":"# revenue vs buget\nbudget_revenue=df.groupby('budget_class')['revenue'].mean().sort_index()\n# p =[budget_pop[1],budget_pop[2],budget_pop[3],budget_pop[0]]\n# print(p, type(p))\norder = ['low', 'low-mid', 'mid-high', 'high']\nbudget_revenue = budget_revenue.loc[order]\nbudget_revenue.plot(kind='bar');\nplt.xlabel('budget',fontsize=18)\nplt.ylabel('revenue',fontsize=18)\nplt.title('Revenue vs Budget');\n","2494c966":"budget_vote=df.groupby('budget_class')['vote_average'].mean().sort_index()\norder = ['low', 'low-mid', 'mid-high', 'high']\nbudget_vote = budget_vote.loc[order]\nbudget_vote.plot(kind='bar');\nplt.xlabel('budget',fontsize=18)\nplt.ylabel('vote',fontsize=18)\nplt.title('Vote vs Budget');","1f8f14d6":"vote_pop=df.groupby('vote_average')['popularity'].mean().sort_index()\nvote_pop.plot()\nplt.xlabel('vote',fontsize=18)\nplt.ylabel('popularity',fontsize=18)\nplt.title('Popularity vs Vote');","eb649b06":"df['genres']=df['genres'].str.split(\"|\",expand=True)\nmovie_genres = df['genres'].value_counts()\nmovie_genres.plot(kind='bar')\nplt.xlabel('genres',fontsize=18)\nplt.ylabel('count',fontsize=18)\nplt.title('Genres vs Count');","f28b9aad":"def diffColumns(a,b):\n    return a-b\ndf['profit']=diffColumns(df['revenue'],df['budget'])\ndf.head()","68ab98ac":"# geners vs profit\ngeners_profit=df.groupby('genres')['profit'].mean().sort_values(ascending=False)\ngeners_profit.plot(kind='bar');\nplt.xlabel('genres',fontsize=18)\nplt.ylabel('profit',fontsize=18)\nplt.title('Genres vs Profit');","b412df6b":"top_genders=geners_profit[:3].index\n# print(top_genders)\ntypes_budget_runtime = df.query('genres in @ top_genders').groupby(['budget_class','genres'])['runtime'].mean().unstack(fill_value=0)\norder = ['low', 'low-mid', 'mid-high', 'high']\ntypes_budget_runtime = types_budget_runtime.loc[order]\ntypes_budget_runtime.plot(kind='bar',alpha=0.7,figsize=(12,9));\nplt.xlabel('budget_class',fontsize=18)\nplt.ylabel('runtime',fontsize=18)\nplt.title('Top 3 Movie types with different budget classes vs run time',fontsize=18);\n\n","bc4478c5":"types_budget_vote_average = df.query('genres in @ top_genders').groupby(['budget_class','genres'])['vote_average'].mean().unstack(fill_value=0)\norder = ['low', 'low-mid', 'mid-high', 'high']\ntypes_budget_vote_average = types_budget_vote_average.loc[order]\ntypes_budget_vote_average.plot(kind='bar',alpha=0.7,figsize=(12,9));\nplt.xlabel('budget_class',fontsize=18)\nplt.ylabel('vote_average',fontsize=18)\nplt.title('Top 3 Movie types with different budget classes vs vote averagee',fontsize=18);\n","b69a14e5":"# Top 10 cast count \ndf['cast']=df['cast'].str.split(\"|\",expand=True)\ntop_cast = df['cast'].value_counts()[:10].index\ndf['cast'].value_counts()","d88b38df":"# cast vs popularity\ncast_pop=df.query('cast in @ top_cast').groupby(['cast'])['popularity'].mean().sort_values(ascending=False)\ncast_pop.plot(kind='bar');\nplt.xlabel('cast',fontsize=18)\nplt.ylabel('popularity',fontsize=18)\nplt.title('Cast vs Popularity');","fe83dcc4":"# cast vs vote_average\ncast_vote=df.query('cast in @ top_cast').groupby(['cast'])['vote_average'].mean().sort_values(ascending=False)\ncast_vote.plot(kind='bar');\nplt.xlabel('cast',fontsize=18)\nplt.ylabel('vote',fontsize=18)\nplt.title('Cast vs Vote');","10683ca3":"# Top 10 directors count\ntop_directors = df['director'].value_counts()[:10].index\ntop_directors","ab9bfc39":"# directors vs popularity\ndirectors_pop=df.query('director in @ top_directors').groupby(['director'])['popularity'].mean().sort_values(ascending=False)\ndirectors_pop.plot(kind='bar');\nplt.xlabel('directors',fontsize=18)\nplt.ylabel('popularity',fontsize=18)\nplt.title('Directors vs Popularity');","895512c0":"# cast vs vote_average\ndirector_vote=df.query('director in @ top_directors').groupby(['director'])['vote_average'].mean().sort_values(ascending=False)\ndirector_vote.plot(kind='bar');\nplt.xlabel('directors',fontsize=18)\nplt.ylabel('vote',fontsize=18)\nplt.title('Directors vs Vote');","0a221650":"#### It shows that Johnny Depp has the most popular movies\n### What about the votes?","3fd72222":"#### It shows that Ridley Scott has the most popular movies\n### What about the votes?","bb2b7596":"#### It shows that Tom Hanks has the most voted movies\n### Let's see the most popular director and their movies have more votes","b3ab6ca1":"#### So the Adventure gender is the most gender that make profit\n### Let's see How the budget and runtime affect the top 3 genders?","08bf43ff":"#### So budget doesn't affect vote ","76c5857d":"<a id='conclusions'><\/a>\n## Conclusions\n\n> Conclusions\nThe goal in the research is primary to explore three parts of questions:\n\n>Part one:  The numeric features that help movie to success?\n\n>At part one, I explored some general questions. The result showed that the movie popularity increased by years, the movie budget nearly increased by years. \nThe movie with higher budget class received higher popularity and higher revenue. But the vote is not affected by the budget. It's affected by the popularity, the more popularity the more votes.\n\n>Part two:  The categorical features that help movie to success\n\n>At this part, I find that the most movies types that get most profit are Adventure, Animation and Science Fiction. The more budget the more runtime as expicted and adventure gender has the most runtime value and animation is the less runtime value.\nThe Animation gender has the most vote value in all the 4 budget classes especially the low budget class.Also, I find the most active cast are Nicolas Cage,Robert De Niro,Bruce Willis. Althogh Johnny Depp produced less movie, but he has the most popular movies and Tom Hanks has the most voted movies.\nI find the most active directory are Woody Allen, Clint Eastwood, Steven Spielberg. Althogh Ridley Scott produced less movie, but he has the most popular movies and Martin Scorsese has the most voted movies.\n\n> Limitations:\nThe analysis is based on replacing over 4000 missing values in 'revenue' and 'budget'column with null values. Such large missing values could cause strong bias of the analysis.\n","685fd674":"#### Drama gender is the most gender count in the dataset\n### Let's See which gender make more profit?","9d7618e7":"#### It shows that Martin Scorsese has the most voted movies\n","5a6ffc5a":"\n# Project: TMDb Movie Data Analysis\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","76e46cab":"##### Check if there are duplicated rows, There is only one duplicate we will drop it later.\n","4e880d18":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n> In this section of the report, I will load in the data, check for cleanliness, and then trim and clean your dataset for analysis.\n\n### General Properties","8adc2036":"##### check the shape of the dataframe","5b369be0":"#### The more popularity the more votes\n## Research Question 2: What are the categorical features that help movie to success? \n### What is the most gender in the dataset?","8c5b5e35":"##### Check describe\n##### There are zero values of budget, revenue, and runtime whish is doesn't make sence for the min value, so we need to remove it\n","ad5780ad":"### So the more budget the more revenue","b9602070":"#####  Check info of the dataframe; # rows, columns, data types, missing values.\n\n##### See if there are columns are not useful in the data analysis, like imdb_id, overview and release_date as we already have the release_year and we wouldn't use id, imdb_id and overview in our analysis.\n \n##### There is alot of missing values in cast, homepage, director, tagline, keywords and production_companies so we can remove them later in cleaning.\n \n##### I think data types are suitable, so we don't need to change them.","5252c311":"#### all of the features budget, popularity, revenue and vote_count are skew to the right\n### so How they affect each other?","19b2ba19":"## Data Cleaning \n\n> drop unnecessary columns, drop duplicates, drop null values, make cleaning descisions on 0 values\n\n##### After discussing the structure of the data and any problems that need to be\n##### cleaned, perform those cleaning steps in the second part of this section.\n##### First, we will drop the unwanted columns that we mentioned above\n","3a9ffd79":"It tends to that we can't do budget and popularity directly, so we would create another column to classify budget","15946e3d":"<a id='intro'><\/a>\n## Introduction\n\n> This data set contains information about 10,000 movies collected from The Movie Database (TMDb), including user ratings and revenue.\n\n> Question are sapertated into 2 parts:\n\n>Part one:  The numeric features that help movie to success?\n\n>Part two:  The categorical features that help movie to success?\n\n### So Let's START\n\n","525d1e64":"##### Check number of null values for each column (Missing Values).\n##### There are over 1000 missing values for homepage, tagline, keywords, and production_companies, so we would drop them later and \n##### check of the others are still missing or not.","c66131f3":"##### so we can't drop them as they are large number for our total samples ( we can't lose the half of them).\n##### we can change it from 0 to null so that the min wouldn't be affected.","677906b0":"### So the more budget the more popularity","3c2d4a92":"#### It shows that the Animation gender has the most vote value in all the 4 classes especially the low budget class \n### Let's see the most popular cast and their movies have more votes","f16c61d3":"#### so the more budget the more runtime as expicted and adventure gender has the most runtime value\n### What about the Vote average?","e958f8e7":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n> Statistics and Create visualizations to answer questions\n\n## Research Question 1: What are the numeric features that help movie to success? \n### Describe features "}}