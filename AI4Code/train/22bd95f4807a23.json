{"cell_type":{"7b79b1e5":"code","81d15378":"code","fdcd16aa":"code","7cc60fe4":"code","957492d7":"code","a476bbf2":"code","334b5552":"code","08a84360":"code","ea7427aa":"code","a8f95b32":"code","7d46d7bc":"code","f9072a5b":"code","28441ca0":"code","712378cd":"code","70922a30":"code","afc676c1":"code","c9ea59c0":"code","3a884dab":"code","6eed2f21":"code","613d9686":"code","6ce2d859":"markdown","4423d256":"markdown","ab92882b":"markdown","1cf8cdbf":"markdown","2bb4beb3":"markdown","187b8180":"markdown","7346a55b":"markdown","59af40b1":"markdown","e8f9cd19":"markdown","c738b5ae":"markdown","ed0bbd5a":"markdown","c81bc797":"markdown","77f898b7":"markdown","a1992ff5":"markdown","a0740e6d":"markdown","b3a99093":"markdown","e768ae8b":"markdown","8a0b0df4":"markdown","f71ad2c6":"markdown","3c3cf325":"markdown","f6cc7700":"markdown","1fb0f5aa":"markdown","d3778b03":"markdown"},"source":{"7b79b1e5":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np","81d15378":"data_review = pd.read_csv('..\/input\/Womens Clothing E-Commerce Reviews.csv')","fdcd16aa":"data_review.shape","7cc60fe4":"data_see[['Age']].hist(bins=10)\nplt.show()","957492d7":"np.mean(data_see.Age)","a476bbf2":"def age_group(data_frame):\n    '''Function to define the age groups for a dataframe'''\n    data_frame.loc[data_frame['Age']<25,'Age Group']   = '18-25'\n    data_frame.loc[(data_frame['Age']>=25) & (data_frame['Age']<30),'Age Group']   = '25-30'\n    data_frame.loc[(data_frame['Age']>=30) & (data_frame['Age']<35),'Age Group']   = '30-35'\n    data_frame.loc[(data_frame['Age']>=35) & (data_frame['Age']<40),'Age Group']   = '35-40'\n    data_frame.loc[(data_frame['Age']>=40) & (data_frame['Age']<50),'Age Group']   = '40-50'\n    data_frame.loc[(data_frame['Age']>=50) & (data_frame['Age']<60),'Age Group']   = '50-60'\n    data_frame.loc[(data_frame['Age']>=60) & (data_frame['Age']<70),'Age Group']   = '60-70'\n    data_frame.loc[(data_frame['Age']>=70) & (data_frame['Age']<80),'Age Group']   = '70-80'\n    data_frame.loc[(data_frame['Age']>=80) & (data_frame['Age']<90),'Age Group']   = '80-90'\n    data_frame.loc[(data_frame['Age']>=90),'Age Group']   = '>=90'\n    return data_frame\n","334b5552":"division_name_rating = data_review.groupby(['Division Name','Rating']).size().reset_index()\ndivision_name_rating.columns = ['Division Name','Rating','Occurence']","08a84360":"division_name_rating.pivot(index='Division Name',columns='Rating',values='Occurence').reset_index().plot(kind='bar',x='Division Name')\nplt.show()","ea7427aa":"# generally how does each age group vote?\n\ndata_age_rating = data_review[['Age','Rating']].groupby(['Age','Rating']).size().reset_index()\ndata_age_rating.columns \ndata_age_rating = age_group(data_age_rating)\n","a8f95b32":"data_age_rating.columns = ['Age','Rating','Freq','Age Group'] ","7d46d7bc":"data_age_group_freq= data_age_rating.groupby('Age Group').agg({'Freq':np.sum}).reset_index()\ndata_age_group_freq.columns = ['Age Group','Freq']\ndata_age_group_freq.plot(kind='bar',x='Age Group',y='Freq',title='Number of Individuals in each age group')\nplt.legend().remove()\n\nplt.show()","f9072a5b":"# How did each age group vote on average?\ndata_age_rating['Total Rating'] = data_age_rating['Rating']*data_age_rating['Freq']\ndata_age_group_rating=data_age_rating.groupby('Age Group').agg({'Total Rating':np.sum,'Freq':np.sum}).reset_index()\ndata_age_group_rating['avg']= data_age_group_rating['Total Rating']\/data_age_group_rating['Freq']\ndata_age_group_rating.plot(kind='bar',x='Age Group',y='avg')\nplt.legend().remove()\nplt.show()\n\n    \n    ","28441ca0":"# Variation in the ratings across ages\ndata_age_rating_variation = data_review[['Age','Rating']]\ndata_age_rating_variation = age_group(data_age_rating_variation)","712378cd":"\ndata_age_rating_variation = data_age_rating_variation.drop('Age',axis=1)\ndata_age_rating_variation.boxplot(by='Age Group',figsize=(20,10))\nplt.xticks(rotation=90)\nplt.show()","70922a30":"division_name_rating= data_review[['Rating','Class Name']]\ndivision_name_rating.boxplot(by='Class Name',figsize=(20,10))\nplt.xticks(rotation=90)\n\nplt.show()\n","afc676c1":"division_name_rating.groupby('Class Name').agg({'Rating':np.mean}).reset_index().plot(kind='bar',x='Class Name',y='Rating')\nplt.show()","c9ea59c0":"# How do ratings vary for each age group across Classes of products?\n\ndata_product_rating_box = data_see[['Class Name','Age','Rating']]\n\nfrom pylab import plot, show, savefig, xlim, figure,hold, ylim, legend, boxplot, setp, axes\n\n##creating the age group variable\n\ndata_product_rating_box = age_group(data_product_rating_box)","3a884dab":"\n\nfor i in list(pd.unique(data_product_rating_box[['Age Group']].values.ravel('K'))):\n    data_product_rating_box_i = data_product_rating_box.loc[data_product_rating_box['Age Group']==i,]\n    data_product_rating_box_i.drop('Age',axis=1,inplace=True)\n    data_product_rating_box_i.boxplot(by='Class Name',figsize=(10,10))\n    plt.title('Ratings Distribution by Product for Age Groups '+i)\n    plt.xticks(rotation=90)\n    plt.suptitle('')\n    plt.show()\n    \n\n    ","6eed2f21":"from afinn import Afinn\nafinn = Afinn()\ndata_review_text_product = data_review[['Review Text','Class Name','Age']]\ndata_review_text_product['Review Text']= data_review_text_product['Review Text'].astype(str)\ndata_review_text_product = age_group(data_review_text_product)\n\n\ndata_review_text_product['sent_score'] = data_review_text_product.apply(lambda row: afinn.score(row['Review Text']), axis=1)\n\n#data_review_text_product.drop('Age',axis=1,inplace=True)","613d9686":"for i in list(pd.unique(data_review_text_product['Age Group'].values.ravel('K'))):\n    data_review_text_product_i = data_review_text_product.loc[data_review_text_product['Age Group']==i,]\n    data_review_text_product_i.drop('Age',axis=1,inplace=True)\n    data_review_text_product_i.boxplot(by='Class Name',figsize=(10,10))\n    plt.title('Sentiment Distribution by Product for Age Groups '+i)\n    plt.xticks(rotation=90)\n    plt.suptitle('')\n    plt.show()\n","6ce2d859":"* Individuals from the ages 30 to 35 had a large amount of variation in the ratings they gave.","4423d256":"# Sentiment Scores","ab92882b":"* A majority of consumers seem to have votes positively.\n* Tastes in clothes change by age. For example trendy cloth wear had a higher median rating by individuals between 30 to 35 years of age where as knit wear were more preferred by individuals who are between the ages of 80 to 90\n","1cf8cdbf":"## How many individuals are there in each age group?","2bb4beb3":"## Distribution of Sentiment scores across product types and age groups\nFor assessing the sentiment scores, we will use a lexicon based approach. Each word in a  text document is associated with a score. A positive score for a word that signifies a positive sentiment and negative score for the word that signifies a negative sentiment. Neutral words like 'a','the' etc get a score of zero. These scores are then summed over a text document. For this analysis , we will be using is the AFINN lexicon by Finn \u00c5rup Nielsen.","187b8180":"## How does the ratings vary across ages?","7346a55b":"* From the above analysis we see that there are 23486 rows and 11 columns in the available dataset. The average age of the consumer is 43 years of age.","59af40b1":"* For all age groups apart from 35-40 and 80-90, the median ratings score for trendy clothes have remain low.\n* Jeans have a high median score for all age groups, except for 80-90.\n* Blouses dipped in median scores for the age group *18-25* and *30-35*\n* Median rating of swim wear dips for the age group *60-70* ,*40-50* and *70-80*\n","e8f9cd19":"# Further Analysis","c738b5ae":"A majority of individuals are between 40 and 50 years old.","ed0bbd5a":"* The data can be further analysed by \n    * Creating a wordcloud of the review text for each product type.\n    * Analysing the most important words derived from the review text for each product.\n    * Segmentation of consumers using clustering algorithms\n","c81bc797":"*  A majority of users purchased general wear.\n*  A majority of users gave high ratings","77f898b7":"# Data Import\n\nIn this script, we use a dataset that represents women's clothing reviews. This script will look at a surface level analysis of the data. We will be predominantly using the the `pandas` data analysis libary.","a1992ff5":"* The data has 23486 rows and 11 columns.","a0740e6d":"# Basic Analysis\n## How many individuals are there for each division type and rating?","b3a99093":"## Library Load and Data Import\nIn this section we load our required libraries and data.","e768ae8b":"* Trendy attire have a large variance compared to other types of attire","8a0b0df4":"## On average how did each age group vote?","f71ad2c6":"* Trendy clothes are viewed highly by individuals from ages 30 to 35.\n* Intimate wear and Outerwear is viewed positively by individuals aged between 18 to 25.\n* For individuals between ages 80 to 90 , knitwear and fine gauge wear were viewed positively.\n","3c3cf325":"# Conclusion","f6cc7700":"* There is not much variation in the average ratings given by each age group.","1fb0f5aa":"## Function for creating age groups\nInstead of using the ages, we will try to group them into buckets. The bucketing function for the same is defined as follows. We will start deep diving into the dataset by asking questions.","d3778b03":"## Variation of ratings across various types of product"}}