{"cell_type":{"a3a349a8":"code","a5b63623":"code","03cce91c":"code","3692ba58":"code","613cc809":"code","47404528":"code","41699c5d":"code","6705e912":"code","6e51999c":"code","4153fdb4":"code","e140c846":"code","4ac8cf01":"code","4a20168e":"code","a2f14706":"code","c5fe29e6":"code","d1fd3a44":"code","cfd40e70":"code","a5abda40":"code","c38e426a":"code","cb4bcf85":"code","73077cb1":"code","ed03b73d":"markdown","0a160e01":"markdown","172ddf18":"markdown","f6e6c9cf":"markdown","0744ae0a":"markdown","c1d2c382":"markdown","a68483a8":"markdown","d0b6f161":"markdown","860f3201":"markdown","5c163e6c":"markdown"},"source":{"a3a349a8":"import pandas as pd \nfrom datetime import date\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use('fivethirtyeight')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","a5b63623":"df = pd.read_csv('\/kaggle\/input\/international-cricket-players-data\/personal_male.csv')\ndf.head()","03cce91c":"# update date of birth to date\ndf.dob = pd.to_datetime(df.dob)","3692ba58":"# check for missing value \nfor col in df:\n    if df[col].isnull().any():\n       print(f'Column {col} has {df[col].isnull().sum()} missing values')","613cc809":"# impute missing value in nationaTeam\ndf.loc[df['nationalTeam'].isnull(),'nationalTeam'] = df['country']","47404528":"# check what is the batting style for the players where bowling style is missing \ndf[df.bowlingStyle.isnull()].battingStyle.value_counts()","41699c5d":"# check most common bowling style\ndf.bowlingStyle.value_counts()","6705e912":"# right hand bat with right hand most common bowling style\ndf.loc[df.bowlingStyle.isnull() & (df.battingStyle=='Right-hand bat'), ['bowlingStyle']]  = 'Right-arm medium'\n# left hand bat with lest arm most common bowling style\ndf.loc[df.bowlingStyle.isnull() & (df.battingStyle=='Left-hand bat'), ['bowlingStyle']]  = 'Slow left-arm'","6e51999c":"df.loc[df.bowlingStyle.isnull()]","4153fdb4":"df.loc[df.bowlingStyle.isnull(), ['bowlingStyle'] ] = 'Right-arm medium'\ndf.loc[df.battingStyle.isnull(), ['battingStyle'] ] = 'Right-hand bat'","e140c846":"# generate age from date of birth \ndf['age'] = (pd.to_datetime('now') - df['dob']).astype('<m8[Y]') ","4ac8cf01":"# let us see what we got from date\ndf.age.describe()","4a20168e":"plt.figure(figsize=(12,16))\nax = sns.countplot(y=\"nationalTeam\", data=df,\n              color = 'orange', order = df['nationalTeam'].value_counts().index)\n\ntotal=len(df['nationalTeam'])\nfor p in ax.patches:\n    percentage ='{:,.0f}'.format(p.get_width())\n    width, height =p.get_width(),p.get_height()\n    x=p.get_x()+width+0.02\n    y=p.get_y()+height\/2\n    ax.annotate(percentage,(x,y))\nplt.ylabel('National Teams')\nplt.title('Total Numbers of Players per National Team', fontsize = 20);","a2f14706":"df.age.plot(kind = 'hist')\nplt.axvline(df.age.mean(), color='red', linestyle='dashed', linewidth=1)\nmin_ylim, max_ylim = plt.ylim()\nplt.text(df.age.mean()*1.1, max_ylim*0.9, 'Mean: {:.0f} years'.format(df.age.mean()));","c5fe29e6":"bat = df.groupby(['nationalTeam', 'battingStyle']).count()['name'].reset_index().rename(columns={'nationalTeam':'nationalTeam','battingStyle' : 'battingStyle', 'name':'count'})","d1fd3a44":"# create top teams list \ntop_countries = ['England', 'Australia', 'South Africa', 'India', 'West Indies', 'New Zealand', 'Pakistan', 'Sri Lanka', 'Bangladesh', 'Zimbabwe']","cfd40e70":"sns.catplot(x = 'nationalTeam', y = 'count', data = bat[bat.nationalTeam.isin(top_countries)], height=5, aspect=3, kind = 'bar', hue = 'battingStyle');","a5abda40":"bowl = df.groupby(['nationalTeam', 'bowlingStyle']).count()['name'].reset_index().rename(columns={'nationalTeam':'nationalTeam','bowlingStyle' : 'bowlingStyle', 'name':'count'}).sort_values(by=['count'], ascending=False)\n# keep top 5 bowling styles\nbowl = bowl.groupby('nationalTeam').head(5).reset_index(drop=True)","c38e426a":"for i in top_countries:\n    sns.catplot(x = 'count', y = 'bowlingStyle', data = bowl[bowl.nationalTeam.isin([i])], height=3, aspect=4, kind = 'bar', hue = 'nationalTeam');","cb4bcf85":"fig = plt.figure(figsize=(15,8))\ng = sns.scatterplot('nationalTeam', 'bowlingStyle', data=bowl, size = 'count',sizes=(50, 300) )\nplt.xticks(rotation=90);","73077cb1":"df[df.bowlingStyle.str.contains('fast')].country.value_counts()[:5].plot(kind = 'bar')\nplt.ylabel('Number of Players')\nplt.xlabel('Country')\nplt.title('Countries Producing Fast Bowlers');","ed03b73d":"Based on above, we can see for all the national teams the common bowling styles are `Right-arm medium`, `Right-arm fast-medium`, `Off-break`and[](http:\/\/) `Slow left-arm`. Let us see which country produces more number of pacers. ","0a160e01":"The maximum age is 192 and 25 percentage players have age more than 91 years. The DOB accuracy is questionable. ","172ddf18":"# Data Understanding","f6e6c9cf":"![Cricket.jfif](attachment:Cricket.jfif)","0744ae0a":"For Right hand will be replacing with `Right-arm medium` and for left hand batsman will replace bowling style with `Slow left-arm`","c1d2c382":"# Data Visualization","a68483a8":"Next, let's impute missing value in bowling style. For this we could check the batting style for each player and again mostly if a batsman is left handed the bowling arm will be left and if he is right hand batsman the bowling arm is right. Again, there are exceptions. Thus based on this assumption we could replace the batting hand side to bowling arm side. Next, we coudl also check what is the most common bowling style for right and left hander. ","d0b6f161":"Mostly, players play for the country where they are born however, there are exceptions too. But we assume that the player born in a country will represent same country on national level. Considering this assumption will replace all missing `nationaTeam` with `country`","860f3201":"Also, there were 6 players with missing batting style, lets impute with the most common style in batting and bowling.","5c163e6c":"# Cricketer Analysis"}}