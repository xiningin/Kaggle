{"cell_type":{"37e10729":"code","87aa2e18":"code","025516e9":"code","0a4ccbdd":"code","6081dab6":"code","c47670e0":"code","1f984fc3":"code","864e2f82":"code","0ac278db":"code","ac03f6dd":"markdown","57474a4c":"markdown","7956cb5f":"markdown","c8838d5c":"markdown","0d9df48a":"markdown","d304ed05":"markdown","f29ad8bf":"markdown","b85932fa":"markdown","b060e4e5":"markdown","37cd7f8a":"markdown"},"source":{"37e10729":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(sorted(os.listdir(\"..\/input\")))\n\n# Any results you write to the current directory are saved as output.","87aa2e18":"teams = pd.read_csv('..\/input\/Teams.csv').rename(columns={'Id':'TeamId'})\nteams.head()","025516e9":"team_memberships = pd.read_csv('..\/input\/TeamMemberships.csv')\nteam_memberships.head()","0a4ccbdd":"users = pd.read_csv('..\/input\/Users.csv').rename(columns={'Id':'UserId'})\nusers.head()","6081dab6":"tmp_df = team_memberships.groupby('TeamId').UserId.count().to_frame('Size').reset_index()\nteams = teams.merge(tmp_df, how='left', on='TeamId')\nteams.head()  ","c47670e0":"teams.Medal.value_counts()","1f984fc3":"solo_teams = teams[(teams.Size == 1) & (teams.Medal == 1)]\nsolo_teams = solo_teams.merge(team_memberships, how='left', on='TeamId')\nsolo_teams = solo_teams.merge(users, how='left', on='UserId')\nsolo_teams.head()","864e2f82":"solo_gold = solo_teams.groupby(['UserName', 'DisplayName']).Medal.count().sort_values(ascending=False)\nsolo_gold.head(20)","0ac278db":"solo_teams['LastSubDate'] = pd.to_datetime(solo_teams.LastSubmissionDate)\nrecent_solo_teams = solo_teams[solo_teams.LastSubDate > '2016-07-11']\nrecent_solo_gold = recent_solo_teams.groupby(['UserName', 'DisplayName']).Medal.count().sort_values(ascending=False)\nrecent_solo_gold.head(20)","ac03f6dd":"Let's load some data.","57474a4c":"I don't know the mapping from medal color to interges (is gold a 3 or a 1), so let's try to find out from the number of medals awarded so far","7956cb5f":"What about gold medals since (last ranking system change)[http:\/\/blog.kaggle.com\/2016\/07\/11\/kaggle-progression-system-profile-design-launch\/]?  This change happened on 07.11.2016. Let's keep competitions that ended after that date.  A quick and dirty way is to keep submissions made after that date.  Beter would be to merge with competition data and use end of competition date.","c8838d5c":"Let's look at Solo gold medals.  ","0d9df48a":"OK, 1 is likely to be Gold.  ","d304ed05":"I'm surprised to be there in rather good place :)","f29ad8bf":"Let's compute team size and join with the first data frame","b85932fa":"This notebook was prompted by the discusison on teaming influence on gold medals initiated by @kazanova: [Concerns regarding the competitive spirit (103 people currently at Gold)](https:\/\/www.kaggle.com\/c\/home-credit-default-risk\/discussion\/64045)","b060e4e5":"We recognize some well known names...","37cd7f8a":"We can now compute the number of solo gold medals per user"}}