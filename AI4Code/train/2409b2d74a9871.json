{"cell_type":{"a1210a3f":"code","667b6139":"code","f50c4825":"code","e1662b48":"code","c577b494":"code","a0907bd9":"code","1189cace":"code","38effc17":"code","7f264646":"code","28a0c84c":"code","98732fe2":"code","1084629b":"code","39ad2381":"code","d44356d1":"code","2f157e70":"code","c518dad2":"code","a57f9d34":"code","f968e4c2":"code","ec30a6ee":"code","a5630f37":"markdown","955d3cde":"markdown","7c9d5bb6":"markdown","ae6d764f":"markdown"},"source":{"a1210a3f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns # visualization\nimport matplotlib.pyplot as plt\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nfrom sklearn.decomposition import PCA\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression,LogisticRegression\nfrom sklearn import svm\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import accuracy_score\nimport warnings\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nwarnings.filterwarnings(\"ignore\")\n# Any results you write to the current directory are saved as output.","667b6139":"df=pd.read_csv('\/kaggle\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\ndf.head()","f50c4825":"df['reviews_per_month'].fillna(value=0,inplace=True)","e1662b48":"df.drop(['id','name','host_id','host_name','latitude','longitude','last_review','calculated_host_listings_count'],axis=1,inplace=True)","c577b494":"df.drop(df[df.price>1000].index,inplace=True)","a0907bd9":"df.drop(df[df.price==0].index,inplace=True)","1189cace":"sns.distplot(df['price'])","38effc17":"sns.barplot('neighbourhood_group','price',data=df)","7f264646":"sns.barplot('room_type','price',data=df)","28a0c84c":"fig=plt.figure(figsize=(12,16))\nax1=fig.add_subplot(411)\nsns.scatterplot('minimum_nights','price',data=df,ax=ax1)\nax2=fig.add_subplot(412)\nsns.scatterplot('number_of_reviews','price',data=df,ax=ax2)\nax3=fig.add_subplot(413)\nsns.scatterplot('reviews_per_month','price',data=df,ax=ax3)\nax4=fig.add_subplot(414)\nsns.scatterplot('availability_365','price',data=df,ax=ax4)\nplt.show()","98732fe2":"df.info()","1084629b":"categorical=['neighbourhood_group','neighbourhood','room_type']\n#numeric=['id','host_id','price','minimum_nights','number_of_reviews','calculated_host_listings_count','availability_365']\ncat_df=pd.get_dummies(df[categorical])\n#num_df=df[numeric].apply(pd.to_numeric)\ndf=pd.concat([df,cat_df],axis=1)","39ad2381":"df.drop(['neighbourhood_group','neighbourhood','room_type'],axis=1,inplace=True)","d44356d1":"df=df.drop_duplicates()","2f157e70":"price=df['price']\ndf.drop('price',axis=1,inplace=True)","c518dad2":"pca_df=PCA(n_components=15).fit_transform(df)","a57f9d34":"ny_df=pd.DataFrame(pca_df,columns=['feature1','feature2','feature3','feature4','feature5','feature6','feature7','feature8','feature9','feature10','feature11','feature12','feature13','feature14','feature15'])","f968e4c2":"ny_train,ny_test,price_train,price_test = train_test_split(ny_df,price,test_size=0.33)","ec30a6ee":"ny_lr=LinearRegression().fit(ny_train,price_train)\nny_logr=LogisticRegression().fit(ny_train,price_train)\nny_svm=svm.SVR().fit(ny_train,price_train)\nny_rf=RandomForestRegressor().fit(ny_train,price_train)\n\nprint('-----------Scores-------------')\nprint('Linear Regression:{}\\n'.format(ny_lr.score(ny_test,price_test)))\nprint('Logistic Regression:{}\\n'.format(ny_logr.score(ny_test,price_test)))\nprint('SVM:{}\\n'.format(ny_svm.score(ny_test,price_test)))\nprint('Random Forest:{}'.format(ny_rf.score(ny_test,price_test)))","a5630f37":"The price data is somewhat positively skewed. Therefore to make the distribtion balanced, prices above 1000 are removed from dataset.","955d3cde":"This notebook is a detailed exploration of the data in the 'Newyork Airbnb dataset' as well as the price prediction accuracy testing with different models.<br> \n**Problem Definition**: Predict the prices of the room on the basis of the given parameters to rightly decide the costing to increase profit and improve customer service.","7c9d5bb6":"**Conclusion**: Logistic Regression and SVM seems to work well here without much feature engineering. Here during PCA features have been reduced from 233 to 15. Algorithms behave differently with different number of features. More features can be tested for the effectiveness of price prediction like longitude, latitude, name (separating adjectives like cozy, clean, spacious etc.).","ae6d764f":"There are some columns that does not affect or contribute in predicting price."}}