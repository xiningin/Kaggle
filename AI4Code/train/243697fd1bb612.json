{"cell_type":{"90622410":"code","4e4bac2f":"code","85598b23":"code","9523ac15":"code","7607cb51":"code","e57dc1f0":"code","43c7b874":"code","2767c241":"code","116e68ea":"code","61db5449":"code","5eaa0bc2":"markdown","ea699bcb":"markdown","b3b988e3":"markdown","3a486b63":"markdown","c14d7c6c":"markdown","00ce2368":"markdown","e9bf02c2":"markdown","d9d6efd7":"markdown","26b74d6b":"markdown","362ce548":"markdown","01e18fbf":"markdown"},"source":{"90622410":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","4e4bac2f":"from matplotlib import pyplot as plt\n%matplotlib inline\n\nimport seaborn as sns","85598b23":"train = pd.read_csv('..\/input\/training_set.csv')\ntrain_meta = pd.read_csv('..\/input\/training_set_metadata.csv')","9523ac15":"train['mjd_frac'] = np.modf(train.mjd)[0]\n\n_ = plt.hist(train.mjd_frac, bins=100)","7607cb51":"train['mjd_frac'] = np.modf(train.mjd + 0.3)[0]\n\n_ = plt.hist(train.mjd_frac, bins=100)","e57dc1f0":"train['mjd_night'] = np.modf(train.mjd + 0.3)[1]","43c7b874":"train = train.groupby(['object_id', 'mjd_night', 'passband']).mjd.mean().to_frame()\ntrain = train.reset_index()\ntrain.head()","2767c241":"train_ddf = train.merge(train_meta, how='left', on='object_id')\ntrain_ddf = train_ddf[train_ddf.ddf == 1]","116e68ea":"passband_0 = set(train_ddf[train_ddf.passband == 0].mjd_night.unique())\npassband_1_to_5 = set(train_ddf[train_ddf.passband > 0].mjd_night.unique())\nlen(passband_0), len(passband_1_to_5)","61db5449":"passband_0 & passband_1_to_5","5eaa0bc2":"Let's now look at wich passbands are used on every night.","ea699bcb":"Now the night starts at around 0.25 and ends around 0.75. We can define the night oindex accordingly.","b3b988e3":"Let's look at the ddf trainings set.","3a486b63":"Ddf set is photographied quite a lot.  \n\nHere is the peculiar thing.  Passband 0 is never used the same nigh as the other ones for sources in the ddf set:","c14d7c6c":"Let's read data.","00ce2368":"The telescope only works during the night.  \n\nWhen is the night in term of mjd?","e9bf02c2":"Let's look at which nights passband 0 is used and which nights the other passbands are used.[](http:\/\/)","d9d6efd7":"Let's import some packages.","26b74d6b":"We don't have the same dichotomy for the non ddf sources.  ","362ce548":"I have not found a way to leverage the above, but Im' interested to hear about any useful use of it.  This is whay I am sharing it here!","01e18fbf":"Seems the night starts around 0.95 and ends around 0.45.  Let's shift time to have night in a consecutive integer part."}}