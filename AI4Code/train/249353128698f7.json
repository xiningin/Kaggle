{"cell_type":{"2289d2ea":"code","0ed15854":"code","a09819b2":"code","96db16bb":"code","4d0651e0":"code","7891f0a0":"code","8bc7cbdd":"code","5f9c23b2":"code","fad6786a":"code","2341b1ba":"code","7bf69497":"code","72c03c68":"code","a81b8403":"code","c59b0cfc":"code","21b024da":"code","e8118d54":"code","0656c2e6":"code","9dab2f0e":"code","a54f664d":"code","cb8f5400":"code","ddbd4660":"code","c2cd1aad":"code","c7d19e13":"code","f050730c":"code","9e07e4b5":"code","81b4d87d":"code","ae71bab0":"code","116f50a8":"code","1107a888":"code","ce805352":"code","c67d04b5":"code","68fb3eb4":"code","161e1868":"code","ed4c2811":"code","93cadcc7":"code","823941d4":"code","4a5b8fc7":"code","0b7513d0":"code","ab564ba8":"code","ed458237":"code","e7ae83d2":"code","d924e6e8":"code","9e865909":"code","2f391986":"code","4e76fa46":"code","13cb8b9f":"code","eddb4968":"code","a0b822a3":"code","2b8ad4b9":"code","ecd6c74e":"code","0308de7f":"code","6de44d40":"code","a5a67204":"code","15f5eedf":"code","d899ab07":"code","ce52108e":"code","5c42e55c":"code","9ff54744":"code","fa32bc31":"code","d7762c17":"code","5e882ea7":"code","d846207a":"code","28126a50":"code","070eec66":"code","1cfe618d":"code","d929ffd1":"code","aa68fc3a":"code","0dbfebd0":"code","85dda157":"code","92bfe300":"code","5fbde0a4":"code","2e506feb":"code","ff20da73":"code","e1e52481":"code","8f5276de":"code","83f29777":"code","bbe12905":"code","ff971746":"code","45180b10":"code","0e2868a3":"code","8ad0101d":"code","1f8d986a":"code","75bf45f5":"code","abee73e2":"code","fc3e21bc":"code","ace839f9":"code","a48dd7f7":"code","d20d253b":"code","b3f53569":"code","59b9fb14":"code","731f01a9":"code","b218f692":"code","3dcda2b9":"code","aed85b86":"code","6941475f":"code","660e198d":"code","ec182eb8":"code","689abed1":"code","fec9112d":"code","84ed7e34":"code","6224d028":"code","dd25f16a":"code","45bf31b9":"code","5114efce":"code","e65c103f":"code","8518e3af":"code","3eeabdfb":"code","10ecfeb2":"code","0d81c761":"code","fafd84ad":"code","9d6d962f":"code","fa7d7cf4":"code","9e20ef2e":"markdown","d1314d2b":"markdown","389326c4":"markdown","3758fb1e":"markdown","db3e1e46":"markdown","677cef09":"markdown","8b8c3627":"markdown","38630bdb":"markdown","e9da6ffc":"markdown","f1cb4976":"markdown","0018d8f3":"markdown","6fde970c":"markdown","edffa2ea":"markdown","35f7c505":"markdown","9f20a97f":"markdown"},"source":{"2289d2ea":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly\nimport plotly.graph_objs as go\nimport plotly.tools as tls\nimport seaborn as sns\nimport time\nimport warnings\nwarnings.filterwarnings('ignore')","0ed15854":"global_temp_country = pd.read_csv('..\/input\/global-climate-change\/GlobalLandTemperaturesByCity.csv')\n","a09819b2":"global_temp_country.head()","96db16bb":"global_temp_country.shape","4d0651e0":" global_temp_country.isna().sum()","7891f0a0":"global_temp_country.dropna(axis='index',how='any',subset=['AverageTemperature'],inplace=True)","8bc7cbdd":"global_temp_country.isna().sum()","5f9c23b2":"pd.set_option('display.max_rows',243)\nglobal_temp_country.groupby(['Country'])['AverageTemperature'].mean()","fad6786a":"global_temp_country['Country'].unique()","2341b1ba":"dict={\n    'Congo (Democratic Republic Of The)':'Congo'\n}","7bf69497":"global_temp_country['Country'].replace(dict,inplace=True)","72c03c68":"avg_temp=global_temp_country.groupby(['Country'])['AverageTemperature'].mean().to_frame().reset_index()","a81b8403":"avg_temp","c59b0cfc":"import plotly.express as px\nimport plotly.graph_objs as go\nimport pandas as pd\n\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, iplot, plot\ninit_notebook_mode(connected = True)","21b024da":"fig=px.choropleth(avg_temp,locations='Country',locationmode='country names',color='AverageTemperature')\nfig.update_layout(title='Choropleth map of average temperature')\nfig.show()","e8118d54":"sns.barplot(x=avg_temp.sort_values(by='AverageTemperature',ascending=False)['AverageTemperature'][0:20],y=avg_temp.sort_values(by='AverageTemperature',ascending=False)['Country'][0:20])","0656c2e6":"global_temp=pd.read_csv('..\/input\/global-climate-change\/GlobalTemperatures.csv')","9dab2f0e":"global_temp.head()","a54f664d":"global_temp['dt'][0].split('-')[0]","cb8f5400":"def fetch_year(date):\n    return date.split('-')[0]","ddbd4660":"global_temp['years']=global_temp['dt'].apply(fetch_year)","c2cd1aad":"global_temp.head()","c7d19e13":"global_temp.groupby('years').agg({'LandAverageTemperature':'mean','LandAverageTemperatureUncertainty':'mean'})","f050730c":"data=global_temp.groupby('years').agg({'LandAverageTemperature':'mean','LandAverageTemperatureUncertainty':'mean'}).reset_index()\ndata.head()","9e07e4b5":"data['Uncertainty top']=data['LandAverageTemperature']+data['LandAverageTemperatureUncertainty']\ndata['Uncertainty bottom']=data['LandAverageTemperature']-data['LandAverageTemperatureUncertainty']","81b4d87d":"data.head()","ae71bab0":"data.columns","116f50a8":"import plotly.express as px","1107a888":"fig=px.line(data,x='years',y=['LandAverageTemperature',\n       'Uncertainty top', 'Uncertainty bottom'],title='Average Land Tmeperature in World')\nfig.show()","ce805352":"global_temp.head()","c67d04b5":"global_temp.shape","68fb3eb4":"global_temp['dt']=pd.to_datetime(global_temp['dt'])","161e1868":"global_temp['month']=global_temp['dt'].dt.month","ed4c2811":"global_temp.drop('dt',axis=1,inplace=True)","93cadcc7":"global_temp.head()","823941d4":"global_temp.dtypes","4a5b8fc7":"def get_season (month):\n    if month>=3 and month<=5:\n        return 'spring'\n    elif month>=6 and month<=8:\n        return 'summer'\n    elif month>=9 and month<=11:\n        return 'autumn'\n    else:\n        return 'winter'","0b7513d0":"global_temp['season']=global_temp['month'].apply(get_season)","ab564ba8":"global_temp.head()","ed458237":"years=global_temp['years'].unique()","e7ae83d2":"years","d924e6e8":"spring_temps=[]\nsummer_temps=[]\nautumn_temps=[]\nwinter_temps=[]","9e865909":"for year in years:\n    current_year=global_temp[global_temp['years']==year]\n    spring_temps.append(current_year[current_year['season']=='spring']['LandAverageTemperature'].mean())\n    summer_temps.append(current_year[current_year['season']=='summer']['LandAverageTemperature'].mean())\n    autumn_temps.append(current_year[current_year['season']=='autumn']['LandAverageTemperature'].mean())\n    winter_temps.append(current_year[current_year['season']=='winter']['LandAverageTemperature'].mean())","2f391986":"#Now let's make a dataframe on season\nseason=pd.DataFrame()\nseason['year']=years\nseason['spring_temp']=spring_temps\nseason['summer_temp']=summer_temps\nseason['autumn_temp']=autumn_temps\nseason['winter_temp']=winter_temps","4e76fa46":"season.head()","13cb8b9f":"season.columns","eddb4968":"fig=px.line(season,x='year',y=['spring_temp', 'summer_temp', 'autumn_temp', 'winter_temp'],title='Average temperature in Each season')\nfig.show()","a0b822a3":"continent = ['Russia', 'United States', 'China', 'Japan', 'Australia', 'India']","2b8ad4b9":"global_temp_country.head()","ecd6c74e":"global_temp_country[global_temp_country['Country'].isin(continent)]","0308de7f":"continent_df=global_temp_country[global_temp_country['Country'].isin(continent)]","6de44d40":"continent_df.head()","a5a67204":"continent_df.shape","15f5eedf":"continent_df['years']=continent_df['dt'].apply(fetch_year)","d899ab07":"continent_df.head()","ce52108e":"continent_df.groupby(['years','Country']).agg({'AverageTemperature':'mean'})","5c42e55c":"avg_temp=continent_df.groupby(['years','Country']).agg({'AverageTemperature':'mean'}).reset_index()\navg_temp.head(10)","9ff54744":"fig=px.line(avg_temp,x='years',y=['AverageTemperature'],color='Country',title='Average Land Temperature in World')\nfig.show()","fa32bc31":"global_temp_state=pd.read_csv('..\/input\/global-climate-change\/GlobalLandTemperaturesByState.csv')","d7762c17":"global_temp_state.head()","5e882ea7":"filter=global_temp_state['Country']=='United States'\nUSA=global_temp_state[filter]","d846207a":"USA.head()","28126a50":"USA=global_temp_state[global_temp_state['Country']=='United States']","070eec66":"USA.dropna(inplace=True)","1cfe618d":"USA['State'].unique()","d929ffd1":"state={'Georgia (State)':'Georgia','District Of Columbia':'Columbia'}","aa68fc3a":"USA['State'].replace(state,inplace=True)","0dbfebd0":"USA=USA[['AverageTemperature','State']]","85dda157":"USA.head()","92bfe300":"USA_temp=USA.groupby('State')['AverageTemperature'].mean().reset_index()","5fbde0a4":"USA_temp.head()","2e506feb":"USA_temp.shape","ff20da73":"!pip install opencage","e1e52481":"from opencage.geocoder import OpenCageGeocode","8f5276de":"key = '5ca89e8267cb476a88cd247f5d0dc35d'\ngeocoder = OpenCageGeocode(key)\nquery = 'Bijuesca, Spain'  \nresults = geocoder.geocode(query)\nprint (results)","83f29777":"lat = results[0]['geometry']['lat']\nlon = results[0]['geometry']['lng']\nprint (lat, lon)","bbe12905":"list_lat=[]\nlist_long=[]\nfor state in USA_temp['State']:\n    results=geocoder.geocode(state)\n    lat = results[0]['geometry']['lat']\n    lon = results[0]['geometry']['lng']\n    \n    list_lat.append(lat)\n    list_long.append(lon)","ff971746":"USA_temp['lat']=list_lat\nUSA_temp['lon']=list_long","45180b10":"USA_temp.head()","0e2868a3":"import folium\nfrom folium.plugins import HeatMap\nbasemap=folium.Map()","8ad0101d":"HeatMap(USA_temp[['lat','lon','AverageTemperature']]).add_to(basemap)\nbasemap","1f8d986a":"cities=pd.read_csv('..\/input\/global-climate-change\/GlobalLandTemperaturesByCity.csv')","75bf45f5":"cities.head()","abee73e2":"cities.shape","fc3e21bc":"India=cities[cities['Country']=='India']","ace839f9":"India.shape","a48dd7f7":"India['City'].unique()","d20d253b":"Cities=['New Delhi','Bangalore','Hyderabad','Pune','Madras','Calcutta','Gurgaon']","b3f53569":"cities=India[India['City'].isin(Cities)]","59b9fb14":"cities.shape","731f01a9":"cities.head()","b218f692":"## Remove N&E frome Longitude and Latitude\ncities['Latitude']=cities['Latitude'].str.strip('N')\ncities['Longitude']=cities['Longitude'].str.strip('E')","3dcda2b9":"cities.head()","aed85b86":"cities['dt']=pd.to_datetime(cities['dt'])","6941475f":"cities['Month']=cities['dt'].dt.month\ncities.drop('dt',axis=1,inplace=True)","660e198d":"cities.head()","ec182eb8":"cities.groupby(['Month','City'])['AverageTemperature'].mean().to_frame()","689abed1":"cities_temp=cities.groupby(['Month','City'])['AverageTemperature'].mean().to_frame().reset_index()","fec9112d":"cities_temp.head()","84ed7e34":"cities_temp.columns=['month','City','Mean_temp']\ncities_temp.head()","6224d028":"df=cities_temp.merge(cities,on='City',how='left')\ndf.head()","dd25f16a":"data=df.drop_duplicates(subset=['month','City'])","45bf31b9":"data.head()","5114efce":"data2=data[['month','City','Mean_temp','Country','Latitude','Longitude']]","e65c103f":"data2.head()","8518e3af":"trace = go.Heatmap(z=data2['Mean_temp'],\n                   x=data2['month'],\n                   y=data2['City'])","3eeabdfb":"data=[trace]\nlayout = go.Layout(\n    title='Average Temperature Of Major Cities By Month in India',\n)","10ecfeb2":"fig = go.Figure(data=data, layout=layout)\nfig.show()","0d81c761":"data2.head()","fafd84ad":"data2.shape","9d6d962f":"import folium\nm = folium.Map(title='Openstreetmap',zoom_start=2)","fa7d7cf4":"# Add points to the map\nfor id,row in data2.iterrows():\n    folium.Marker(location=[row['Latitude'],row['Longitude']], popup=row['Mean_temp']).add_to(m)\n\n# Display the map\nm","9e20ef2e":"# Analyse Average Temperature of USA States","d1314d2b":"# Let's Analyse Trend in Temperature for the Top Economies","389326c4":"# Let's Calculate average temperature for each country","3758fb1e":"# Analyse Average temperature in each season","db3e1e46":"From the charts we can see, that there is global warming nowadays. The average temperature of Earth surface has the highest value in the last three centuries. The fastest temperature growth occurred in the last 30 years. This worries me, I hope soon humanity will fully switch to ecological sources of energy, that will reduce CO2. If it\u2019s will not happened, we will be in disaster. This charts also have confidence intervals, which shows that measurement of temperature has become more accurate in the last few years.","677cef09":"**Conclusion** ==>> we will see that there has been a global increase trend in temperature, particularly over the last 30 years. This is due to the violent activities of a humankind.","8b8c3627":"## The avaerage temperature and Horizontal Bar sort by countries","38630bdb":"# Is there global warming? ","e9da6ffc":"So, in this graph we can see that the world is getting warmer every year.","f1cb4976":"# Thanks to ALL","0018d8f3":"# Data Cleaning on global climate change data","6fde970c":"# Let's try to visualise temperature on a Map","edffa2ea":"# Analyse on Average Temperature of Major Cities in India By Month","35f7c505":"In the above, this map showing locations of major cities which tempature is increased every year through collected data from dataset. So, if we want to save our world we have to take proper step. The causes of climate change are: Humanity's increased use of fossil fuels \u2013 such as coal, oil and gas to generate electricity, run cars and other forms of transport, and power manufacturing and industry. Deforestation \u2013 because living trees absorb and store carbon dioxide.improvements to energy efficiency and vehicle fuel economy, increases in wind and solar power, biofuels from organic waste, setting a price on carbon, and protecting forests are all potent ways to reduce the amount of carbon dioxide and other gases trapping heat on the planet.on that way we can save our planet slowly from climate change.","9f20a97f":"Let\u2019s look at the chart of annual temperature changes in certain continents (we take into consideration one country per continent and mark Greenland as the coldest place on Earth)."}}