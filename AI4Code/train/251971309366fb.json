{"cell_type":{"4a35cb0b":"code","7a68ea33":"code","d753f8a5":"code","92de2ae5":"code","f3cdf088":"code","a4a8a175":"code","889768f1":"code","cea7aede":"code","9396455d":"code","2c6395ca":"code","123f5467":"code","d38638a3":"code","83c4a0ee":"markdown","44353870":"markdown","96352d34":"markdown","8e04667a":"markdown","39772cf6":"markdown","1f155a8b":"markdown","37ab275a":"markdown","227134f2":"markdown"},"source":{"4a35cb0b":"#add packages\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nfrom sklearn import preprocessing\nfrom sklearn.model_selection  import train_test_split","7a68ea33":"#loading the data\nsurvey=pd.read_csv(\"..\/input\/contraceptive-prevalence-survey\/1987 Indonesia Contraception Prevalence Study.csv\", sep=\",\")\nsurvey.head(5)","d753f8a5":"#number of rows and columns\nprint(\"Rows x Columns:\")\nprint(survey.shape)\n#data types of the variables included\nprint(\"Feature Type:\")\nprint(survey.dtypes)\n#checking for missing values in the columns\nprint(\"Missing Values Per Feature:\")\nprint(survey.isnull().sum())","92de2ae5":"#convert all but age and number of childer to categorical features\nsurvey = survey.astype(str)\nsurvey.Age = survey.Age.astype(int)\nsurvey['Number of Children'] = survey['Number of Children'].astype(int)","f3cdf088":"#histograms of all the numerical variables\nsurvey.Age.hist(figsize=(10,5),xlabelsize=14, ylabelsize=14)\nplt.title(\"Age Distribution\", size=20)","a4a8a175":"#histograms of all the numerical variables\nsurvey['Number of Children'].hist(figsize=(10,5),xlabelsize=14, ylabelsize=14)\nplt.title(\"Number of Children\", size=20)","889768f1":"print(survey.Age.describe())\nprint(survey['Number of Children'].describe())","cea7aede":"#visualizing all the categorical features\n#creating list of all columns\ncolumns_bar= survey.select_dtypes(include=object)\ncolumns_bar= list(columns_bar.columns)\n\n\n#creating a matrix to display all charts\ncolumns_bar_array = np.array(columns_bar)\ncolumns_bar_array = np.reshape(columns_bar_array, (4,2))\n\n#plotting the bar charts\nrows = 4 ; columns = 2\nf, axes = plt.subplots(rows, columns, figsize=(15,15))\nprint (\"Bar Charts for all Categorical Variables\")\nfor row in range(rows):\n    for column in range(columns):\n        sns.countplot(survey[columns_bar_array[row][column]], ax = axes[row, column])","9396455d":"# This code turns a text target into numeric to some scikit learn algorithms can process it\nle_dep = preprocessing.LabelEncoder()\n# to convert into numbers\nsurvey['Contraceptive Method Used'] = le_dep.fit_transform(survey['Contraceptive Method Used'])\nsurvey.dtypes","2c6395ca":"#setting the target variable as Churn\ntarget_name='Contraceptive Method Used'\ntarget_series=survey[target_name]\n\n#remove the target from current position\nsurvey.drop(columns='Contraceptive Method Used',inplace=True)\n\n#insert the target column in first row\nsurvey.insert(0,target_name,target_series)\nsurvey.head(5)","123f5467":"#getting dummy variables\nsurvey = pd.get_dummies(survey)\nsruvey.head(5)","d38638a3":"#creating a 70-30 split for trian\/test\n# split dataset into testing and training\nfeatures_train, features_test, target_train, target_test = train_test_split(survey.iloc[:,1:].values, \n                                                                            survey.iloc[:,0].values, test_size=0.30, random_state=0)","83c4a0ee":"Observations:\n* Women aged from 16 to 49\n* Average age is 32.5 years\n\n* Number of Children ranged from none up to 16\n* The mean amount of children was 3.2","44353870":"   # Preprocessing","96352d34":"Age is skewed right as it has more young women than old.","8e04667a":"All the preprocessing is done. We should be able to use the arrays created to train models with. Enjoy! ","39772cf6":"# EDA on Contraception Prevalance Survey","1f155a8b":"Features are not balanced. Overall, the survey captured women with high levels of education, educated partners and living at a high standard of living. The target feature is also not balanced, with long term use being substanially lower than short term use and no contraception.","37ab275a":"Number of children is also skewed to the right. This is expected as most people have around two to three kids. ","227134f2":"There are 1473 rows and 10 columns. All features are numerical. Lastly, there are no missing values. "}}