{"cell_type":{"fc8afab6":"code","8ac78d89":"code","b774347d":"code","ab0ff04b":"code","dce84d8b":"code","6d740b3a":"code","f9af9027":"code","7d9b2577":"code","6a701f0c":"code","5bccd6e1":"code","06b481fb":"code","8497fc06":"code","ceda971b":"code","e1b9f11a":"code","d8583566":"code","e732597e":"code","783ddc3b":"code","82845968":"markdown","ca4d2abb":"markdown","04550125":"markdown","fcb7d542":"markdown","d06813f1":"markdown","e2842e0b":"markdown","1495a5c8":"markdown","393424bc":"markdown","c4587db1":"markdown","acee82b1":"markdown","0376a3d9":"markdown","2f4b834b":"markdown","c7c0dbe4":"markdown"},"source":{"fc8afab6":"print(\"Installing \/ updating python packages using pip\")\n! apt-get update && apt-get install -y --fix-missing liblapack-dev libswscale-dev pkg-config","8ac78d89":"%%time\n%%bash\n\npython -m spacy download en_core_web_lg\npython -m spacy link en_core_web_lg en || true","b774347d":"!pip install --upgrade pytextrank>=2.0.1","ab0ff04b":"!pip list | grep pytext","dce84d8b":"### Note: this take a bit of time to load the first time, as it loads the model, etc..\n### Subsequent runs are faster as it lazy initialises model related variable(s) and just loads it from cache\nfrom better_nlp_class import BetterNLP\nbetterNLP = BetterNLP()\n\nimport pprint\npp = pprint.PrettyPrinter(indent=4)","6d740b3a":"# Can be any factual text or any text to experiment with\ngeneric_text=\"\"\"In an attempt to build an AI-ready workforce, SmartSoft Corp. announced Smart Colab Program which has been launched to empower the next generation of students with AI-ready skills. Envisioned as a three-year collaborative program, Smart Colab Program will support around 100 institutions with AI infrastructure, course content and curriculum, developer support, development tools and give students access to cloud and AI services. As part of the program, the Palo Alto giant which wants to expand its reach and is planning to build a strong developer ecosystem in India with the program will set up the core AI infrastructure and IoT Hub for the selected campuses. The company will provide AI development tools and AI services such as SmartSoft Corp. Cognitive Services, Bot Services and Machine Learning Services. According to Mark Smith, Country AI Manager, SmartSoft Corp. India, said, \"With AI being the defining technology of our time, it is transforming lives and industry and the jobs of tomorrow will require a different skillset. This will require more collaborations and training and working with AI. That\u2019s why it has become more critical than ever for educational institutions to integrate new cloud and AI technologies. The program is an attempt to ramp up the institutional set-up and build capabilities among the educators to educate the workforce of tomorrow.\" The program aims to build up the cognitive skills and in-depth understanding of developing intelligent cloud connected solutions for applications across industry. Earlier in April this year, the company announced SmartSoft Corp. Advanced Program In AI as a learning track open to the public. The program was developed to provide job ready skills to programmers who wanted to hone their skills in AI and data science with a series of online courses which featured hands-on labs and expert instructors as well. This program also included developer-focused AI school that provided a bunch of assets to help build AI skills.\"\"\"","f9af9027":"summarised_result = betterNLP.summarise(generic_text)\n\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nprint(\"summarisation_processing_time_in_secs=\",summarised_result['summarisation_processing_time_in_secs'])\npp.pprint(\"summarised_text=\" + summarised_result['summarised_text'])\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\n","7d9b2577":"print(\"ranked_sentences=\") \npp.pprint(summarised_result['ranked_sentences'])","6a701f0c":"summarised_result = betterNLP.summarise(generic_text, method=\"tfidf\")\n\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nprint(\"summarisation_processing_time_in_secs=\",summarised_result['summarisation_processing_time_in_secs'])\nprint(\"summarised_text=\")\npp.pprint(summarised_result['summarised_text'])\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")","5bccd6e1":"print(\"important_words=\")\npp.pprint(summarised_result['important_words'])","06b481fb":"summarised_result = betterNLP.summarise(generic_text, method=\"tfidf-ignore-stopwords\")\n\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nprint(\"summarisation_processing_time_in_secs=\",summarised_result['summarisation_processing_time_in_secs'])\npp.pprint(\"summarised_text=\" + summarised_result['summarised_text'])\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")","8497fc06":"print(\"scored_documents=\")\npp.pprint(summarised_result['scored_documents'])","ceda971b":"source_file='source.json'\nsource_json_content='{\"id\":\"777\", \"text\":\"In an attempt to build an AI-ready workforce, SmartSoft Corp. announced Smart Colab Program which has been launched to empower the next generation of students with AI-ready skills. Envisioned as a three-year collaborative program, Smart Colab Program will support around 100 institutions with AI infrastructure, course content and curriculum, developer support, development tools and give students access to cloud and AI services. As part of the program, the Palo Alto giant which wants to expand its reach and is planning to build a strong developer ecosystem in India with the program will set up the core AI infrastructure and IoT Hub for the selected campuses. The company will provide AI development tools and AI services such as SmartSoft Corp. Cognitive Services, Bot Services and Machine Learning Services. According to Mark Smith, Country AI Manager, SmartSoft Corp. India, said, ''With AI being the defining technology of our time, it is transforming lives and industry and the jobs of tomorrow will require a different skillset. This will require more collaborations and training and working with AI. That''s why it has become more critical than ever for educational institutions to integrate new cloud and AI technologies. The program is an attempt to ramp up the institutional set-up and build capabilities among the educators to educate the workforce of tomorrow.'' The program aims to build up the cognitive skills and in-depth understanding of developing intelligent cloud connected solutions for applications across industry. Earlier in April this year, the company announced SmartSoft Corp. Advanced Program In AI as a learning track open to the public. The program was developed to provide job ready skills to programmers who wanted to hone their skills in AI and data science with a series of online courses which featured hands-on labs and expert instructors as well. This program also included developer-focused AI school that provided a bunch of assets to help build AI skills.\"}'\nf = open(source_file, 'w')\nf.write(\"%s\" % source_json_content)\nf.close()\n\ntry:\n    summarised_result = betterNLP.summarise(source_file, method=\"pytextrank\")\n    print(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\n    print(\"summarisation_processing_time_in_secs=\",summarised_result['summarisation_processing_time_in_secs'])\n    print(\"summarised_text=\",summarised_result['summarised_text'])\n    print(\"token_ranks=\",summarised_result['token_ranks'])\n    print(\"key_phrases=\",summarised_result['key_phrases'])\n    print(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\n    betterNLP.show_graph(summarised_result[\"graph\"])\nexcept Exception as ex:\n    print(\"Unable to proceed due to this error: \", ex)","e1b9f11a":"### Linting summarisercosinemethodclass\n!pylint summariser_cosine_class","d8583566":"### Linting summarisertfidfclass\n!pylint summariser_tfidf_class","e732597e":"### Linting summarisertfidfvariationclass\n!pylint summariser_tfidf_variation_class","783ddc3b":"### Linting summariserpytextrankclass\n!pylint summariser_pytextrank_class","82845968":"### 4.  Vertex ranking algorithm summarisation technique\n\nUsing PyTextRank to find Phrases and Summarize text: Multi-word Phrase Extraction and Sentence Extraction for Summarization\n\nInspired by the author of https:\/\/medium.com\/@aneesha\/beyond-bag-of-words-using-pytextrank-to-find-phrases-and-summarize-text-f736fa3773c5 \n(Notebook: https:\/\/github.com\/DerwenAI\/pytextrank\/blob\/master\/example.ipynb)\n\nAnother resource to take a look at: https:\/\/www.analyticsvidhya.com\/blog\/2018\/11\/introduction-text-summarization-textrank-python\/","ca4d2abb":"### Upgrading pytextrank","04550125":"## Examples of various summarisation methods","fcb7d542":"### Resources\n\n- [Understand Text Summarization and create your own summarizer in python](https:\/\/towardsdatascience.com\/understand-text-summarization-and-create-your-own-summarizer-in-python-b26a9f09fc70) or [An Introduction to Text Summarization using the TextRank Algorithm (with Python implementation)](https:\/\/www.analyticsvidhya.com\/blog\/2018\/11\/introduction-text-summarization-textrank-python\/)\n- [Beyond bag of words: Using PyTextRank to find Phrases and Summarize text](https:\/\/medium.com\/@aneesha\/beyond-bag-of-words-using-pytextrank-to-find-phrases-and-summarize-text-f736fa3773c5)\n- [Build a simple text summarisation tool using NLTK](https:\/\/medium.com\/@wilamelima\/build-a-simple-text-summarisation-tool-using-nltk-ff0984fedb4f)\n- [Summarise Text with TFIDF in Python 1\/2](https:\/\/towardsdatascience.com\/tfidf-for-piece-of-text-in-python-43feccaa74f8) and [Summarise Text with TFIDF in Python 2\/2](https:\/\/medium.com\/@shivangisareen\/summarise-text-with-tfidf-in-python-bc7ca10d3284)\n- [How to Make a Text Summarizer - Intro to Deep Learning #10 by Siraj Raval](https:\/\/www.youtube.com\/watch?v=ogrJaOIuBx4)","d06813f1":"This is a wrapper program\/library that encapsulates a couple of NLP libraries that are popular among the AI and ML communities.\n\nExamples have been used to illustrate the usage as much as possible. Not all the APIs of the underlying libraries have been covered.\n\nThe idea is to keep the API language as high-level as possible, so its easier to use and stays human-readable. \n\n**One of the key differentiators of this library compared to the others are that you get metadata returned to you by each API function about the duration of execution and other details about the execution.**\n\nLibraries \/ frameworks covered:\n\n- nltk [site](http:\/\/www.nltk.org\/) | [docs](https:\/\/buildmedia.readthedocs.org\/media\/pdf\/nltk\/latest\/nltk.pdf)\n- numpy [site](https:\/\/www.numpy.org\/) | [docs](https:\/\/docs.scipy.org\/doc\/)\n- networkx [site](https:\/\/networkx.github.io\/) | [docs](https:\/\/networkx.github.io\/documentation\/stable\/index.html)\n\nSee [https:\/\/github.com\/neomatrix369\/awesome-ai-ml-dl\/blob\/master\/examples\/better-nlp](https:\/\/github.com\/neomatrix369\/awesome-ai-ml-dl\/blob\/master\/examples\/better-nlp) for more details.\n\n### This notebook will demonstrate the below NLP features \/ functionalities, using the above mentioned libraries\n\n- Cosine similarity summarisation technique (extractive summarisation)\n- Build a simple text summarisation tool using NLTK (TF-IDF method)\n- Summarising text in python using TF-IDF, ignoring stop-words (TF-IDF method variation)\n\n_Summarisation can be defined as a task of producing a concise and fluent summary while preserving key information and overall meaning._","e2842e0b":"## License\n\n Copyright 2019 Mani Sarkar\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n\n ### Please feel free to fork this work as long as you maintain the above license and provide citation.","1495a5c8":"#### Setup and installation ( optional )\n\nIn case, this notebook is running in a local environment (Linux\/MacOS) or _Google Colab_ environment and in case it does not have the necessary dependencies installed then please execute the steps in the next section.\n\nOtherwise, please SKIP to the **Install Spacy model ( NOT optional )** section.","393424bc":"#### Install Spacy model ( NOT optional )\n\nInstall the large English language model for spaCy - will be needed for the examples in this notebooks.\n\n**Note:** from observation it appears that spaCy model should be installed towards the end of the installation process, it avoid errors when running programs using the model.","c4587db1":"## Code linting","acee82b1":"# Better NLP Summarisers","0376a3d9":"> ### 1. Cosine similarity summarisation technique (extractive summarisation)\n\n**Abstractive Summarization:** Abstractive methods select words based on semantic understanding, even those words did not appear in the source documents. It aims at producing important material in a new way. They interpret and examine the text using advanced natural language techniques in order to generate a new shorter text that conveys the most critical information from the original text.\n\n**Flow:** Input document \u2192 understand context \u2192 semantics \u2192 create own summary\n\n**Extractive Summarization:** Extractive methods attempt to summarize articles by selecting a subset of words that retain the most important points.\n\n**Flow:** Input document \u2192 sentences similarity \u2192 weight sentences \u2192 select sentences with higher rank\n\n**Cosine similarity** is a measure of similarity between two non-zero vectors of an inner product space that measures the cosine of the angle between them. Its measures cosine of the angle between vectors. Angle will be 0 if sentences are similar and tend towards 90 as they begin to differ.\n\nInspired by Praveen Dubey the author of https:\/\/towardsdatascience.com\/understand-text-summarization-and-create-your-own-summarizer-in-python-b26a9f09fc70\n\nor see [Understand Text Summarization and create your own summarizer in python](https:\/\/www.analyticsvidhya.com\/blog\/2018\/11\/introduction-text-summarization-textrank-python\/)","2f4b834b":"### 3. Summarising text in python using a variation of TF-IDF method\n\n\nInspired by Shivangi Sareen from the posts:\n[Summarise Text with TFIDF in Python 1](https:\/\/towardsdatascience.com\/tfidf-for-piece-of-text-in-python-43feccaa74f8) and [Summarise Text with TFIDF in Python 2](https:\/\/medium.com\/@shivangisareen\/summarise-text-with-tfidf-in-python-bc7ca10d3284)\n\nWe have to break the text into sentences and tokens, ***we do not remove stop-words*** but do remove special characters. Tokenise words, calculate word TF and IDF frequencies to determine if a word is important on the corpus, using the TF-IDF technique. And then based on the average score method filter out only those sentences that meet the criteria.\n\nWe could also use the (average score + 1.5 * std dev) or (average score + 3 * std dev), depending on the size of the target documents to summarise.","c7c0dbe4":"### 2. Build a simple text summarisation tool using NLTK\n\nInspired by Wilame Lima Vallantin, the author of [Build a simple text summarisation tool using NLTK](https:\/\/medium.com\/@wilamelima\/build-a-simple-text-summarisation-tool-using-nltk-ff0984fedb4f).\n\nWe have to break the text into sentences and tokens, remove stop-words. Tokenise words, calculate word frequency to determine if a word is important on the corpus, using the TF-IDF technique."}}