{"cell_type":{"4b69cffc":"code","af159e24":"code","2f847ec6":"code","c805e473":"code","71a80e56":"code","6ae4fbe6":"code","7c1afea9":"code","24f72eb8":"code","1b989ab4":"code","c23def94":"code","1030080a":"code","d0e35c89":"code","ed01fa39":"code","2dd1cf79":"code","429cde42":"code","86dc6cf3":"code","3fa6c53e":"code","6ff4e853":"code","5e57b818":"code","b11a5631":"code","b61fc2ef":"code","00fda8c1":"code","8005e75a":"code","87b3d8e1":"code","3a6a675d":"code","0b24fa91":"code","f059dd21":"code","3998529c":"code","fe572dd3":"markdown","a21e7fce":"markdown","f557ab13":"markdown","53d568e5":"markdown","b88b8c9e":"markdown","de26a413":"markdown","dfdc3020":"markdown","0a396d53":"markdown","d9fe950a":"markdown","81cc571f":"markdown","d12a3b27":"markdown","19f2c97e":"markdown","ca2333f6":"markdown","7533176c":"markdown","60ac23cd":"markdown","f6b11691":"markdown","0f3eb139":"markdown","05d38617":"markdown","ea3e9d8f":"markdown","0fb89a34":"markdown","41a013fc":"markdown","2317021e":"markdown","786cf8c3":"markdown","989feb05":"markdown"},"source":{"4b69cffc":"import seaborn as sns\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os","af159e24":"nba = pd.read_csv(\"..\/input\/nba-players-data\/all_seasons.csv\")","2f847ec6":"nba.info()","c805e473":"nba.isnull().sum()","71a80e56":"nba.describe()","6ae4fbe6":"outl_cols = ['gp','player_name','season','net_rating']\nnba.loc[nba.net_rating==300.0,outl_cols]","7c1afea9":"outl_cols = ['gp','player_name','season','net_rating']\nnba.loc[nba.net_rating==-200.0,outl_cols]","24f72eb8":"nba.draft_year.unique()","1b989ab4":"sns.barplot(y=nba.loc[nba.season=='2020-21'].draft_year.value_counts().index,x=nba.loc[nba.season=='2020-21'].draft_year.value_counts())","c23def94":"total_players = len(nba.loc[nba.season=='2020-21'].player_name.unique())\nundrafted_players = len(nba.loc[(nba.season=='2020-21')&(nba.draft_year=='Undrafted')].player_name.unique())\nundrafted_percent  = 100*(undrafted_players\/total_players)\nprint(undrafted_percent)","1030080a":"nba.drop(nba[nba.draft_year<'1995'].index, inplace=True)","d0e35c89":"nba['draft_number'].replace('Undrafted','61',inplace=True)\nnba['draft_number'] = pd.to_numeric(nba['draft_number'])\nnba['draft_number']","ed01fa39":"nba_player = nba[['player_name','gp']].groupby('player_name').sum().reset_index()\nnba_player = nba_player.loc[nba_player['gp'] < 20]\nfor player in nba_player['player_name']:\n    nba.drop(nba[nba.player_name==player].index, inplace=True)","2dd1cf79":"stats = ['gp', 'pts', 'reb', 'ast', 'net_rating','oreb_pct', 'dreb_pct', 'usg_pct', 'ts_pct', 'ast_pct']\navg_by_pick = nba.groupby(['draft_number'])[stats].mean().reset_index()\navg_by_player = nba.groupby(['player_name','draft_number'])[stats].mean().reset_index()","429cde42":"sns.regplot(x='draft_number',y='pts',data=avg_by_pick)\nplt.show()","86dc6cf3":"sns.regplot(x='draft_number',y='ast',data=avg_by_pick)\nplt.show()","3fa6c53e":"sns.regplot(x='draft_number',y='reb',data=avg_by_pick)\nplt.show()","6ff4e853":"ax = sns.lineplot(x='draft_number',y='pts',data=avg_by_pick, label='pts')\nax = sns.lineplot(x='draft_number',y='ast',data=avg_by_pick, label='ast')\nax = sns.lineplot(x='draft_number',y='reb',data=avg_by_pick, label='reb')\nax.set(ylabel = 'avg')\nax.legend()\nplt.show()","5e57b818":"avg_by_pick[['draft_number','pts','reb','ast']][:15]","b11a5631":"avg_by_pick[['draft_number','pts','reb','ast']][-10:]","b61fc2ef":"avg_by_player[avg_by_player.draft_number==2]","00fda8c1":"avg_by_player[avg_by_player.draft_number==57]","8005e75a":"avg_by_player[avg_by_player.draft_number==60]","87b3d8e1":"ax = sns.lineplot(x='season',y='pts',data=nba.loc[nba['player_name'] == 'Isaiah Thomas'], label='pts')\nax = sns.lineplot(x='season',y='ast',data=nba.loc[nba['player_name'] == 'Isaiah Thomas'], label='ast')\nax = sns.lineplot(x='season',y='reb',data=nba.loc[nba['player_name'] == 'Isaiah Thomas'], label='reb')\nax.set(ylabel = 'avg')\nax.legend()\nplt.show()","3a6a675d":"avg_by_player.head()","0b24fa91":"avg_by_player.loc[avg_by_player.draft_number==1].sort_values('net_rating')","f059dd21":"avg_by_player.loc[avg_by_player.groupby('draft_number')['net_rating'].idxmax()].head(40)","3998529c":"avg_by_player.loc[avg_by_player.groupby('draft_number')['net_rating'].idxmin()][:15]","fe572dd3":"# Observations - Underwhelming #2 picks and late lottery gems\n\nThe overall trend shows that higher draft pick gives better number. We see an interesting trend with some dip in numbers for players picked at 2. Historically, we have seen some underwhelming #2 picks like Darko Milicic, Danny Perry, Hasheem Thabeet, and Michael-Kidd Gilchrist.\n\nAlso, the number 8 pick has the lowest point totals, rebounds and assists amongst top 10 picks. Other the Colin Sexton and Rudy Gay, all others are average NBA players.\n\nHowever, we see some spikes amongst the late lottery picks for numbers 57 and 60. Let's take a look at the players picked at these positions.","a21e7fce":"We see him slowly making his mark in the league and then suddenly attaining superstardom in the 2016-17 season where he averaged 29 PPG to lead his team to the Eastern Conference finals. \n\nHe played through those finals games with a hip injury which has plagued him ever since. The huge decline in his numbers post 2017 is indicative of that.","f557ab13":"# Data\n\nHere we are using the 'all_seasons' that contains all data from 1996 to 2020 season. It captures demographic variables such as age, height, weight and place of birth, biographical details like the team played for, draft year and round. In addition, it has basic box score statistics such as games played, average number of points, rebounds, assists, etc.","53d568e5":"Checking the dataset for any nulls or data gaps","b88b8c9e":"As you can see, the inflated net ratings are for instances for when the player played only 1 game. Bruce Bowen and Gheorghe Muresan appeared in just 1 in the seasons 1996-97 and 1998-99 respectively. They probably just got some playing time towards the end of the game when the outcome of the game was pretty much decided; also known as 'garbage time' minutes in the NBA.\n\nSince I am looking the numbers at the draft position level, I'll check the unique draft classes.","de26a413":"We see some of the great NBA players featured in this list.\n\n* The splash bros - Steph Curry and Klay Thompson are the best player at their respective draft positions. The 2nd round pick Draymond Green (#35) is also the best at his draft position.\n* Shane Battier is the only player in the top 10 picks having the best net rating despite having sigle digit averages for points, rebounds, and assists. Goes to show how much impact defense has on a player's rating.\n* Donovan Mitchell has the highest rating for player picked at #13 even though one of the all time greats, Kobe Bryant was picked at #13. The contrasting starts to their respective NBA careers might explain that.","dfdc3020":"# Data Cleaning\n\nAs a first step, we look at table dimensions, descriptive stats, and column data types.","0a396d53":"We see the 'undrafted' value here. I am curious to see how many of the players in a season are undrafted. We'll look at the latest season.","d9fe950a":"# Dropping records\n\nFor simplicity, we'll drop the following players from our analysis:\n\n* Players drafted before 1995.\n* Players who played a total of < 20 games over their career.\n* Rename 'undrafted' as #61","81cc571f":"Unsurprisingly, the top 2 players with the highest net rating are first-ballot hall of famers. Tim Duncan has the highest net rating of any player drafted number 1 after 1994 followed Lebron James. Tim was one half of the twins towers of the San Antonio Spurs along with his teammate David Robinson (also a former #1 pick). They were quite a dominant duo in the late 90s and early 2000s with their stellar play at both offense and defense.\n\nLebron James is the only #1 pick and active player in the top 5 with averages of 26\/7\/7 (pts\/ast\/reb) cementing his legacy as one of the game's finest. Ben Simmons and Zion Williamson also feature in the top 5 but they are relatively much younger compared to the other players in the list.\n\nGreg Oden also features in this list but his inflated numbers are due him playing just 2 seasons in the NBA. Anthony Bennett, who is considered one of the biggest busts ever has the lowest net rating of all #1 picks.\n\nNow let's look at players with highest net rating per draft position","d12a3b27":"# Future Enhancements\n\nUse Machine Learning Classification algorithms to use the player stats as input and assign Class\/Tiers to each player. It would require pulling in some advanced basketball metrics from APIS like sportradar or fivethirtyeight to the existing data.","19f2c97e":"# What about underachievers?\n\nPlayers with the lowest net rating at each position. Here, we only look at the top 15 picks as they would have more expectation\/likelihood of performing well.","ca2333f6":"As we see, the overall trend shows that a higher draft pick have a better stat-line. We see some outliers here. Lets plot the raw numbers to identify them.","7533176c":"Sorting Former #1 picks by net rating","60ac23cd":"# Conclusion\n\nIn this analysis, we have seen the best and worst players as per their draft position. This is probably not the most objective set of results as we used the net rating metric for our analysis which also takes into account how the overall team is performing hence overstating\/understating the impact of a player. We are also looking at just the regular season stats for these players, whereas playoffs are the biggest stage for a player to perform.\n\nHowever, a lot of what we see here does align with the general public perception of how good\/bad a player is. It is a generally accepted fact that Tim Duncan, Shaquille O'Neal, Lebron James are the greatest to ever play the game and the numbers we analyzed here do support that argument. Same goes for players who are underachievers like Anthony Bennett, Hasheem Thabeet, Eddy Curry etc.","f6b11691":"# Create two data frames for:\n* Average Stats per draft pick \n* Average Stats per player\n\nOnly pick necessary columns for this exercise. I have mainly selected the colummns with stats.","0f3eb139":"Surprisingly, this data has no null values. It's not everyday that you get this great of a data set. Let's check for any outliers or weird data points.","05d38617":"We see many bust names on this list: Anthony Bennett, Eddy Curry, Jahlil Okafor. Marquese Chriss is the most underachieving player on the list.\n\nThe case of Julius Randle for being in this list is particularly interesting. He is a pretty decent player coming off an All Star season. But his low net rating is due to the fact that he played in a lot of bad teams in all seasons except last. His stats are not that bad as he has the highest PPG amongst the Busts.","ea3e9d8f":"# Ranking the best player by each pick\n\nPicking a best\/worst player is very subjective. There's a lot of intangible aspects of the game to consider while judging a player. However, for our exercise we can only work with traditional stats to make that decision.\n\nI will look at 'net_rating' column in the dataset for this analysis. The net_rating measures the plus-minus statistics for a given player when the player is in the game relative to the plus-minus statistics when the player is NOT in the game. Net plus-minus combines offensive and defensive plus-minus for a player.\n\nFor example, if a team scores 115 points (per 100 possessions) while a given player is on the court and 98 points (per 100 possessions) while he is off the court, his net offensive plus-minus is +17 (115-98=17).\n\nIf the team allows 110 points (per 100 possessions) while a given player is on the court and 105 points (per 100 possessions) while he is off the court, his net defensive plus-minus is +5 (110-105=+5).\n\nSo, net plus-minus for the given player is +17-(+5)=+12\n\nTIP: It\u2019s better to have a positive net offensive plus-minus and a negative net defensive plus-minus.","0fb89a34":"# Checking relationship between stats and draft number\n\nWe'll plot regression plots for points, assists, and rebounds to see if higher draft picks have better numbers.","41a013fc":"By looking at both the lists, two names stand out - Manu Ginobili and Isaiah Thomas. These former all-stars have been one of the most improbable success stories in the NBA. Manu Ginobili was an instrumental part of the insanely consistent San Antonio Spurs dynasty providing instant and efficient scoring and playmaking off the bench.\n\nIsaiah Thomas has been a fan-favorite at the Boston Garden. He didn't let his 5'9\" frame prevent him from scorching NBA defenses and lead his team to the conference finals. However, his career has been a roller-coaster ride. Let's plot his numbers to take a deeper look.","2317021e":"Wow. It's pretty interesting to see that about 21% of the players playing currently were undrafted. I assume a large majority of them just occupy roster spots and not play significant minutes in a game.","786cf8c3":"# Determining the best\/worst NBA players by draft position\n\n# Introduction\n\nFor this project, I will try to analyze a pretty controversial topic: who is the best player at each draft position?\n\nAll the assumptions and inferences made in this analysis is subjective as there are lot of tangible and intangible metrics used to determine the worth of a player and simply looking at the stats won't tell you the whole story.\n\nNBA draft is an annual event dating back to 1947 in which the teams from the National Basketball Association (NBA) can draft players who are eligible and wish to join the league. This process happens sequentially, so the team that gets the first pick can recruit player first, and so on. It is highly expected that the first player drafted is usually the best player from the recruitment class. But sometimes, we get a highly picked player that doesn't meet the expectations or a lowly drafted player that overachieves. Using this dataset, I will try to analyze which player that actually over\/underacieved their draft position.","989feb05":"Here we see the column 'net_rating' has a min and max value of -200 and +300 which seems pretty unrealistic. This is probably because they are measured against a very low sample size which tends to really disturb the net rating of a player. Let's look at these data points."}}