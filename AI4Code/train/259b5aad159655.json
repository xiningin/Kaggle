{"cell_type":{"435c4c38":"code","91a0b0b9":"code","c519578c":"code","7c499a99":"code","09bcf895":"code","e836df39":"code","ff94f9a0":"code","71137b0a":"code","92c4e08a":"code","c50ffa96":"code","a1d61872":"code","3c87af64":"code","23ab2e18":"code","d16892fe":"code","abe21c3d":"code","9fcdfb71":"code","00420203":"code","07fb5621":"code","a44bf660":"code","467ac91d":"code","868948cc":"code","d6dc239b":"code","0f88f622":"code","b6f6e08d":"code","b2e5db3b":"code","a6bc1334":"code","8f53d864":"code","58b9fb96":"code","8f7233d2":"code","9188e27c":"code","6fbf4c28":"code","d636cc57":"code","a6593c95":"code","5d3deafb":"code","6105ba4a":"code","aea9822b":"code","54fee83a":"code","82d312c6":"markdown","75890b37":"markdown","b5b455be":"markdown","3acffd98":"markdown","7b041eeb":"markdown","e6380041":"markdown","99ac165a":"markdown","1faa8496":"markdown","95837563":"markdown","8572f2ab":"markdown","48d9dca8":"markdown","9ca45f30":"markdown","e72d6868":"markdown","a799482c":"markdown","7a3dc55d":"markdown","de3f0bd6":"markdown","5c62322c":"markdown","13a6d220":"markdown","3fdb8d49":"markdown"},"source":{"435c4c38":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')","91a0b0b9":"titanic = pd.read_csv(\"..\/input\/dataset\/train.csv\")\ntitanic_test = pd.read_csv(\"..\/input\/dataset\/test.csv\")","c519578c":"combined = [titanic, titanic_test]","7c499a99":"titanic.head()","09bcf895":"titanic.describe()","e836df39":"titanic_test.head()","ff94f9a0":"## Removing unuseful columns","71137b0a":"titanic[\"Cabin\"].value_counts()","92c4e08a":"titanic[\"Fare\"].value_counts()","c50ffa96":"len(titanic[titanic['Sex'].isnull()])","a1d61872":"titanic[\"Fare\"].describe()","3c87af64":"sns.distplot(titanic[\"Fare\"])","23ab2e18":"titanic['Sex'].unique()","d16892fe":"titanic[['Survived', 'Sex']].groupby('Sex').mean()","abe21c3d":"combined=[titanic,titanic_test]","9fcdfb71":"rep = {\"male\":0,\"female\":1}\nfor x in combined:\n    x['Sex']=x['Sex'].map(rep)","00420203":"titanic.head()\n#look at sex column","07fb5621":"len(titanic[titanic['Embarked'].isnull()])","a44bf660":"titanic[titanic['Embarked'].isnull()]","467ac91d":"titanic[(titanic['Pclass']==1)&\n                                (titanic['Survived']==1)&\n                                                        (titanic['Sex']==1)].groupby('Embarked').sum()","868948cc":"sns.countplot(x='Pclass',hue='Embarked', data=titanic)","d6dc239b":"titanic['Embarked']=titanic['Embarked'].fillna(\"S\")","0f88f622":"len(titanic[titanic['Embarked'].isnull()])","b6f6e08d":"rep_embarked={\"S\":0,\"C\":1,\"Q\":2}\nfor i in combined:\n    i['Embarked']=i['Embarked'].map(rep_embarked)","b2e5db3b":"survived = titanic[titanic['Survived']==1]['Sex'].value_counts()\nsurvived","a6bc1334":"dead = titanic[titanic['Survived']==0]['Sex'].value_counts()\ndead","8f53d864":"len(titanic[titanic['Age'].isnull()])","58b9fb96":"titanic[titanic['Age'].isnull()].head()","8f7233d2":"combined_df = pd.concat([titanic, titanic_test], axis = 0)","9188e27c":"combined_df[['Age','Pclass']].groupby('Pclass').mean()","6fbf4c28":"combined_df.hist(figsize=(20,20))","d636cc57":"data = [titanic, titanic_test]\nfor d in data:\n    d['with_family'] = d['SibSp'] + d['Parch']\n    d.loc[d['with_family'] > 0, 'not_alone'] = 0\n    d.loc[d['with_family'] == 0, 'not_alone'] = 1\n    d['not_alone'] = d['not_alone'].astype(int)\n  \n    \ntitanic['not_alone'].value_counts()","a6593c95":"my_dataset = sns.factorplot('with_family','Survived', data=titanic, aspect = 2.5,cpalette='Blues_d')","5d3deafb":"sns.countplot(x='Sex',data=combined_df,hue='Pclass')","6105ba4a":"plt.figure(figsize=(10,7))\nsns.heatmap(titanic.corr(), annot=True, cmap='inferno')\nplt.show()","aea9822b":"sns.boxplot(x = 'Pclass', y = 'Fare', hue = 'Survived', data = titanic)","54fee83a":"grid = sns.FacetGrid(titanic, col='Survived', row='Embarked', size=3.2, aspect=2.3)\ngrid.map(plt.hist, 'Age', alpha=.5, bins=20, )\ngrid.add_legend();","82d312c6":"# Replace Sex --> male= 0, female= 1\n* for making the coding easier and generally faster\n* Creating a list with two files, more accuracy for to the math to fill NaN values","75890b37":"# Read Dataset","b5b455be":"Here we can see, at all classes most of people embarked on \"S\"","3acffd98":"\n\n   It looks like that cabin number is to spreaded to be used in the model but let's visualise it and then make the decision.\n   \n   At most 4 rows share the same cabin so it doens't help much and it's better to drop it.\n\n","7b041eeb":"** Lets see how is the distribuition by gender for people who survived**\n male= 0, female= 1","e6380041":"### Removing unuseful columns","99ac165a":"analyse Age, Gender,and Embarked of passengers","1faa8496":"* Checking if exist some NaN value","95837563":"# How many unique enters this array have","8572f2ab":"# looking for null values at Age.","48d9dca8":"# Working with embarked type","9ca45f30":"Checking which gender have more survivers","e72d6868":"\nSurvival: Survival (0 = No; 1 = Yes)\n\nPclass: Passenger Class (1 = 1st; 2 = 2nd; 3 = 3rd)\n\nName : Name\n\nSex : Sex\n\nAge : Age\n\nSibsp : Number of Siblings\/Spouses Aboard\n\nParch : Number of Parents\/Children Aboard\n\nTicket : Ticket Number\n\nFare : Passenger Fare\n\nCabin : Cabin\n\nEmbarked : Port of Embarkation (C = Cherbourg; Q = Queenstown; S = Southampton)","a799482c":"As we find: Fare\" Distplot is pretty much skewed, maybe it's better to use the log form.\nAnd clearly we don't have to remove \"Fare\" column.","7a3dc55d":"check titanic[Embarked] has empty field","de3f0bd6":"\n### As we found:\n###     About 38% of the passengers survived.\n###     Mean age was around 30 years.\n###     Passengers paid something around 32.\n###     Half of the passengers travelled with siblings or spouse.\n\n","5c62322c":"# **importing necessary libaries**","13a6d220":"**Extract how many peoples for each sex survived\nseperrated by sex: male= 0, female= 1\n**","3fdb8d49":"* connecting all common variables of these people to predict where they embarked\n\n**pclass**: Refers to passenger class (1st, 2nd, 3rd)\n\nThere are three possible values for Embark \n1-Southampton\n2-Cherbourg, and \n3-Queenstown."}}