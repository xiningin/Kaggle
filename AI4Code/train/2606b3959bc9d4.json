{"cell_type":{"83650200":"code","9874f0f2":"code","2dfaca2e":"code","b2a32c4e":"code","d4c936c6":"code","63466fa5":"code","77a60f89":"code","ba278297":"code","ec783a7f":"code","bb3c7527":"code","340cf345":"code","cb1d662d":"code","3112f46b":"code","1b3a9294":"code","e7c3733b":"code","d0df4251":"code","0e452617":"code","4510da79":"code","5abdc6e8":"code","92d4a312":"code","efff15d2":"code","de4bdd13":"code","aacba679":"code","34f00353":"code","646373aa":"code","378da204":"code","def84999":"code","6eeee7ef":"code","10d42cf7":"code","daa03bbc":"code","ae8209f8":"code","bef816ba":"code","591f541f":"code","aa0cac9f":"code","21b29f91":"code","77878f6f":"code","bda23e08":"code","ae5330b6":"code","e0cd1a15":"code","db08790b":"code","6a647ae8":"markdown","6631a1f9":"markdown","0ac692e6":"markdown","9a2e2942":"markdown","d3fdb3b9":"markdown","69dccdd6":"markdown","061f5ecd":"markdown","fabaaa63":"markdown","dafd6488":"markdown","ad366283":"markdown","cb5f5bee":"markdown","9ba03345":"markdown","b0ccf37d":"markdown","b9e90504":"markdown","c3e2463c":"markdown","762a46fb":"markdown","ca8eab54":"markdown","640cacf3":"markdown","0306bda8":"markdown","c4a2869b":"markdown","a6c02b88":"markdown","db34eac1":"markdown","cade47db":"markdown","3db02a97":"markdown","da1b39e0":"markdown","64c28367":"markdown","2914f6c0":"markdown","81cc016c":"markdown","85adbeea":"markdown","985ce804":"markdown","5b858686":"markdown"},"source":{"83650200":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","9874f0f2":"# load data file\ndf = pd.read_csv('..\/input\/books.csv', error_bad_lines=False)\ndf.sample(5)","2dfaca2e":"df.shape","b2a32c4e":"# check out null data\ndf.info()","d4c936c6":"# check out duplicated data\ndf.duplicated().sum()","63466fa5":"# Check out the unique data of some columns\ndf['authors'].unique()","77a60f89":"# Returns valid descriptive statistics for each column of data\ndf.describe()","ba278297":"# copy the data\ndata = df.copy()","ec783a7f":"# change \"# num_pages\" to \"num_pages\"\ndata.rename(columns = {'# num_pages': 'num_pages'}, inplace=True)","bb3c7527":"# drop the data with less than 300 ratings counts\ndata = data[data['ratings_count'] > 299]","340cf345":"# find the book data with 0 page\ndata[data['num_pages'] == 0]","cb1d662d":"# fill the \"num_pages\" with right number\ndata.loc[data['bookID'] == 2874, 'num_pages'] = 209\ndata.loc[data['bookID'] == 17983, 'num_pages'] = 306\ndata.loc[data['bookID'] == 32974, 'num_pages'] = 1020 # the sum pages of Nancy Drew: #1-6","3112f46b":"# replace the 0 page by the average page of all books\ndata.loc[data['num_pages'] == 0, 'num_pages'] = data['num_pages'].mean()","1b3a9294":"data['num_pages'] = data['num_pages'].astype(int)","e7c3733b":"# dorp the useless columns\ndata.drop(['bookID', 'isbn', 'isbn13'], axis=1, inplace=True)","d0df4251":"# select the 1st author\ndata['authors'] = data['authors'].apply(lambda x: x.split(\"-\")[0])","0e452617":"# select top 10 rating books\ntop10_rating = data.sort_values('average_rating', ascending=False)[:10]","4510da79":"top10_rating","5abdc6e8":"sns.set(style=\"white\", context=\"talk\")\nfig = plt.figure(figsize=(13,12))\nx = top10_rating['average_rating']\ny = top10_rating['title']\nsns.barplot(x=x, y=y, palette=\"GnBu_d\")\nplt.title('The top 10 rating books', fontsize=24)\nplt.show();","92d4a312":"# select the top 10 books with highest text_reviews_count \ntop10_pop = data.sort_values('text_reviews_count', ascending=False)[:10]\ntop10_pop","efff15d2":"sns.set(style=\"white\", context=\"talk\")\nfig = plt.figure(figsize=(13,12))\nx = top10_pop['text_reviews_count']\ny = top10_pop['title']\nsns.barplot(x=x, y=y, palette=\"GnBu_d\")\nplt.title('The top 10 popular books', fontsize=24)\nplt.show();","de4bdd13":"# average_rating & text_reviews_count\nsns.set(style=\"darkgrid\")\nsns.jointplot(y = \"text_reviews_count\", x = \"average_rating\", data=data, kind=\"reg\", space=0.5)\nplt.title('The Scatter of Average Rating and Text Reviews Count',fontsize=15)\nplt.show();","aacba679":"# average_rating & ratings_count\nsns.set(style=\"darkgrid\")\nsns.jointplot(y = \"ratings_count\", x = \"average_rating\", data=data, kind=\"reg\", space=0.5)\nplt.title('The Scatter of Average Rating and Ratings Count',fontsize=15)\nplt.show();","34f00353":"# average_rating & num_pages\nsns.set(style=\"darkgrid\")\nsns.jointplot(y = \"num_pages\", x = \"average_rating\", data=data, kind=\"reg\", space=0.5)\nplt.title('The Scatter of Average Rating and Num Pages',fontsize=15)\nplt.show();","646373aa":"fig = plt.figure(figsize=(9,8))\nsns.distplot(data['average_rating'])\nplt.title('The Distribution across Avrage Rating', fontsize=15)\nplt.vlines(data['average_rating'].mean(),ymin = 0,ymax = 1.75,color = 'black')\nplt.vlines(data['average_rating'].median(),ymin = 0,ymax = 1.75,color = 'red')\nplt.vlines(data['average_rating'].mode(),ymin = 0,ymax = 1.75,color = 'yellow')\nplt.legend()\nplt.show()","378da204":"# select data\ntop10_production = data['authors'].value_counts()[:10]\ntop10_production = pd.DataFrame(top10_production)\ntop10_production","def84999":"sns.set(style=\"white\", context=\"talk\")\nfig = plt.figure(figsize=(13,12))\nx = top10_production['authors']\ny = top10_production.index\nsns.barplot(x=x, y=y, palette=\"GnBu_d\")\nplt.title('The top 10 highest production authors', fontsize=24)\nplt.show();","6eeee7ef":"# select data\ntop10_rating_authors = pd.DataFrame(data.groupby('authors')['average_rating'].mean().sort_values(ascending=False)[:10])\ntop10_rating_authors","10d42cf7":"sns.set(style=\"white\", context=\"talk\")\nfig = plt.figure(figsize=(13,12))\nx = top10_rating_authors['average_rating']\ny = top10_rating_authors.index\nsns.barplot(x=x, y=y, palette=\"GnBu_d\")\nplt.title('The top 10 authors whose books have the highest rating', fontsize=24)\nplt.show();","daa03bbc":"production = pd.DataFrame(data['authors'].value_counts())\nproduction.reset_index(inplace=True)\nproduction.rename(columns={'index': 'authors', 'authors': 'production_counts'}, inplace=True)\nproduction.head()","ae8209f8":"rating = pd.DataFrame(data.groupby('authors')['average_rating'].mean())\nrating.reset_index(inplace=True)","bef816ba":"data_1 = rating.merge(production, how='inner')\ndata_1.head()","591f541f":"sns.set(style=\"darkgrid\")\nsns.jointplot(y = \"production_counts\", x = 'average_rating', data=data_1, kind=\"reg\", space=0.5)\nplt.title('The Scatter of Average Rating(authors) and Productions',fontsize=15)\nplt.show();","aa0cac9f":"# select data\ndata_2 = data[data['authors'].isin(['George R.R. Martin', 'J.R.R. Tolkien', 'J.K. Rowling'])]\ndata_2 = data_2.query('language_code == \"eng\"')\ndata_2.head()","21b29f91":"data_2.describe()","77878f6f":"# classify the rating level\nbin_edges = [3.5, 4.0, 4.5, 5.0]\nbin_names = ['low', 'medium', 'high']\ndata_2['rating_levels'] = pd.cut(data_2['average_rating'], bin_edges, labels=bin_names)","bda23e08":"data_3 = pd.DataFrame(data_2.groupby('authors')['rating_levels'].value_counts().unstack().fillna(0))\ndata_3","ae5330b6":"# Pie chart\nlabels = 'high', 'low', 'medium'\nexplode = (0.1, 0, 0)\nfig1, [ax1, ax2, ax3] = plt.subplots(1, 3, figsize = (12,4))\n\n# George R.R. Martin\nax1.pie(data_3.iloc[0], explode=explode, labels=labels, autopct='%1.1f%%', shadow=True, startangle=90)\nax1.set_title('George R.R. Martin')\nax1.axis('equal')\n# J.K. Rowling\nax2.pie(data_3.iloc[1], explode=explode, labels=labels, autopct='%1.1f%%', shadow=True, startangle=90)\nax2.set_title('J.K. Rowling')\nax2.axis('equal')\n# J.R.R. Tolkien\nax3.pie(data_3.iloc[2], explode=explode, labels=labels, autopct='%1.1f%%', shadow=True, startangle=90)\nax3.set_title('J.R.R. Tolkien')\nax3.axis('equal')\n\nplt.show()","e0cd1a15":"# compare \"Harry Potter\", \"The Lord of the Rings\" and \"A Song of Ice and Fire\"\ndata_4 = data_2[data_2['title'].str.contains('Harry Potter|The Lord of the Rings|A Song of Ice and Fire')]","db08790b":"data_4.groupby('authors')['average_rating'].mean().sort_values(ascending=False)","6a647ae8":"#### Q3.  The correlation between rating and productions number.","6631a1f9":"## Data Cleaning","0ac692e6":"- The column `\"# num_pages\"` should be renamed to standard form, `\"num_pages\"`.  \n- When the rating count number is small, the result may be less credible, we should drop these data.  \n- For 0 page book data, we should fill it with the right number (search in Amazon) or replace it by the average pages of all books if there are no exact information on the Internet.\n- The columns,`\"isbn\"` , `\"isbn13\"` & `\"bookID\"` , are uesless in exploratory process.\n- Some books have more than one author, we can choose the first author to be the main author.","9a2e2942":"- There is no correlation between \"Average Rating\" and \"Ratings Count\".","d3fdb3b9":"## Questions","69dccdd6":"- Compare to others, J.K. Rowling's works have higher average rating, and her book \"Harry Potter\" may be the better choice if I'd like to read a fantasy novel. However, these three authors are all my favorite and all have high rating, if I have enough time, I'll read the three books and recommond all to you.","061f5ecd":"- There is no correlation between \"Average Rating\" and \"Text Reviews Count\".","fabaaa63":"- There is no correlation between average rating(authors) and productions. Authors with a high quantity of works doesn't mean that his\/her books also have a high average rating. ","dafd6488":"#### Q2. The top 10 popular book ","ad366283":"- The analysis aspacts are very limited, if possible, we can explore more information about the readers age distribution, books categories,  released time sequence and so on. ","cb5f5bee":"- There is a weak positive correlation between \"Average Rating\" and \"Num Pages\".","9ba03345":"> The columns description:    \n**bookID:** A unique Identification number for each book.  \n**title:** The name under which the book was published.  \n**authors:** Names of the authors of the book. Multiple authors are delimited with.  \n**average_rating:** The average rating of the book received in total(full score is 5).  \n**isbn:** Another unique number to identify the book, the International Standard Book Number.  \n**isbn13A:** 13-digit ISBN to identify the book, instead of the standard 11-digit ISBN.  \n**language_code:** Helps understand what is the primary language of the book. For instance, eng is standard for English.  \n**num_pages:** Number of pages the book contains.  \n**ratings_count:** Total number of ratings the book received.  \n**text_reviews_count:** Total number of written text reviews the book received.","b0ccf37d":"- According to the number of text_reviews_count, we may speculate the most popular book is \"Twilight\".","b9e90504":"- The highest rating author is **Bill Watterson**, and the top10_rating_authors list is quite different from the top10_production authors list.","c3e2463c":"#### Q1. The top 10 highest production authors","762a46fb":"### A. About books","ca8eab54":"#### Q1. The top 10 rating books.","640cacf3":"- The \"mean < median < mode\", so the rating distribution is a negative skew distribution.","0306bda8":"#### Q4. Is there a special distrbution across average rating?","c4a2869b":"#### Q4. Compare J.K. Rowling, J.R.R. Tolkien and George R.R. Martin","a6c02b88":"### B. About authors ","db34eac1":"## Exploratory data analysis","cade47db":"#### Q2. The top 10 authors whose books have the highest rating.","3db02a97":"- The writer with the highest productions is **Stephen King**.","da1b39e0":"#### Q3. The correlation between rating and other factors.","64c28367":"## Data Understanding","2914f6c0":"> This file contains the detailed information about the books primarily. Detailed description for each column can be found alongside.And this project will explore these data from different aspects.I wish after this,I could select the best book list for me to enjoy and have sufficient reasons to recommend to other people.  ","81cc016c":"# Select Which Book to Enjoy?","85adbeea":"- The highest rating book is **\"The Complete Calvin and Hobbes\"**.","985ce804":"## Intruduction ","5b858686":"**About books:**  \n- Q1. The top 10 rating books.  \n- Q2. The top 10 popular book.  \n- Q3. The correlation between rating and other factors.  \n- Q4. Is there a special distrbution across average rating?  \n**About authors:**\n- Q1. The top 10 highest production authors.  \n- Q2. The top 10 authors whose books have the highest rating.  \n- Q3. The correlation between rating and productions number.  \n- Q4. Compare J.K. Rowling, J.R.R. Tolkien and George R.R. Martin."}}