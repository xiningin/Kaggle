{"cell_type":{"4ca4dccb":"code","358429d5":"code","c6486cbf":"code","9a67ba2d":"code","de9680c8":"code","eca88012":"code","dd73a119":"code","cde430d7":"code","cca48e08":"code","bc5abbee":"code","3dbc3222":"code","46deda7d":"code","de3eb482":"code","d9eabf87":"code","f44197e5":"code","fe084380":"code","e62d5bea":"code","3cc96539":"code","7aa80a00":"code","1b29056a":"markdown","ba0561fd":"markdown","8d5b52ed":"markdown","4e1dca16":"markdown","5b4ceb61":"markdown","23c23c4c":"markdown","eeda5428":"markdown","4b4d7ed8":"markdown","a40c8e0e":"markdown","aab77e72":"markdown","9d3d76cb":"markdown","6c9d3785":"markdown","3dea4600":"markdown","b2f3fa63":"markdown","524e79b7":"markdown","d669b0c2":"markdown","8af31d06":"markdown","428d61d6":"markdown","5f721863":"markdown","6fbb2b9b":"markdown","ca044064":"markdown"},"source":{"4ca4dccb":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport time\nimport folium\n\nimport os\nprint(os.listdir(\"..\/input\"))","358429d5":"permit_data = pd.read_csv(\"..\/input\/film-permits.csv\")","c6486cbf":"permit_data.shape","9a67ba2d":"permit_data.head()","de9680c8":"unique_event_type = permit_data.EventType.unique()\nprint('The unique event types are ', str(unique_event_type))","eca88012":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\n\nsns.countplot(x=\"EventType\", data=permit_data, ax=ax)\nsns.despine()","dd73a119":"pd.value_counts(permit_data.EventType)","cde430d7":"sns.set_style('ticks')\nfig, ax = plt.subplots(ncols=4)\nfig.set_size_inches(20, 10)\n\nsns.countplot(x=\"Borough\", data=permit_data[permit_data['EventType'] == 'Shooting Permit'], ax=ax[0])\nax[0].set(xlabel='Shooting Permit')\nsns.countplot(x=\"Borough\", data=permit_data[permit_data['EventType'] == 'Rigging Permit'], ax=ax[1])\nax[1].set(xlabel='Rigging Permit')\nsns.countplot(x=\"Borough\", data=permit_data[permit_data['EventType'] == 'Theater Load in and Load Outs'], ax=ax[2])\nax[2].set(xlabel='Theater Load in and Load Outs')\nsns.countplot(x=\"Borough\", data=permit_data[permit_data['EventType'] == 'DCAS Prep\/Shoot\/Wrap Permit'], ax=ax[3])\nax[3].set(xlabel='DCAS Prep\/Shoot\/Wrap Permit')\nsns.despine()","cca48e08":"permit_data['EventTimeinHours'] = permit_data.apply(lambda x: abs(time.mktime(time.strptime(x['StartDateTime'], '%Y-%m-%dT%H:%M:%S.%f'))-time.mktime(time.strptime(x['EndDateTime'], '%Y-%m-%dT%H:%M:%S.%f')))\/(60*60), axis=1)\npermit_data.head()[['StartDateTime', 'EndDateTime', 'EventTimeinHours']]","bc5abbee":"permit_data[permit_data['EventTimeinHours'] == max(permit_data['EventTimeinHours'])]['EventTimeinHours']\/24","3dbc3222":"permit_data[permit_data['EventTimeinHours'] == min(permit_data['EventTimeinHours'])]['EventTimeinHours']","46deda7d":"permit_data.Category.unique()","de3eb482":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\n\nsns.countplot(x=\"Category\", data=permit_data, ax=ax, order = permit_data.Category.value_counts().index)\nsns.despine()","d9eabf87":"print('The number of sub-category are ', len(permit_data.SubCategoryName.unique()))\n\nsns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\n\nsns.countplot(y=\"SubCategoryName\", data=permit_data, ax=ax, order = permit_data.SubCategoryName.value_counts().index)\nsns.despine()","f44197e5":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\n\nsns.countplot(y=\"SubCategoryName\", data=permit_data[permit_data.Category == 'Television'], ax=ax)\nsns.despine()","fe084380":"permit_data.Country.unique()","e62d5bea":"group_event_country = permit_data.groupby(['EventType', 'Country']).size()\ngroup_by_country = pd.DataFrame(group_event_country).reset_index()\ngroup_by_country","3cc96539":"geo_corrs = {\n    'Netherlands': (52.2379891, 5.53460738161551),\n    'United States of America' : (39.7837304, -100.4458825),\n    'Australia': (-24.7761086, 134.755),\n    'Canada': (61.0666922, -107.9917071),\n    'France': (46.603354, 1.8883335),\n    'Germany': (51.0834196, 10.4234469),\n    'Japan': (36.5748441, 139.2394179),\n    'Panama': (8.3096067, -81.3066246),\n    'United Kingdom': (54.7023545, -3.2765753)\n}","7aa80a00":"m = folium.Map(location=[20,0], tiles=\"Mapbox Bright\", zoom_start=2)\n\nfor i in range(0,len(group_by_country)):\n    corr = geo_corrs[group_by_country['Country'][i]]\n    folium.Circle(\n      location=[corr[0], corr[1]],\n      popup=group_by_country['Country'][i],\n      radius=int(group_by_country[0][i])*10\n    ).add_to(m)\n\nm","1b29056a":"## Analysis of Event Type column","ba0561fd":"The category of the events in the datasets are :","8d5b52ed":"This are the coordinates below of the countries in the dataset","4e1dca16":"Television is the top category of the events that has been happened and the Least is the Music Video\n\nThe sub-category can be visualizated as follows:","5b4ceb61":"The datasets consists of 14 columns and 41191 rows","23c23c4c":"Loading the film permits data","eeda5428":"Let's do the visualisation to see which event type is occuring more in the film permits.","4b4d7ed8":"The Episodic Series is the top most sub-category, second is the Cable-episodic and the third is the Pilot","a40c8e0e":"## Analysis of Category and Sub-category data","aab77e72":"The startDateTime and the endDateTime are the columns which gives the scheduled time for the event. The time is given in ISO format. We can calculate the time in minutes using the **time** package, which is imported at the top.","9d3d76cb":"## Analysis of Country column\nThe main origin countries for the events are :","6c9d3785":"Let's group the data by the country and the event type and visualize the data","3dea4600":"Now, Let's plot the visualisation to find the top category of the event that happened","b2f3fa63":"The **EventTimeinHours** consists of the total scheduled time in hours for each events. We can see that the maximum time schduled for an event is the event happened in Manhattan for a television Talk show which went nearly 1 year (358.7 days)","524e79b7":"We can see that the Shooting Permit is the most event type that occurs and the count is around 36198 and the Least event type is DCAS Prep\/Shoot\/Wrap Permit\n\nLet's see which Borough(city) is often used in all the types of events.","d669b0c2":"The dataset consists of 14 columns such as:\n\n1. EventID - The unique ID for each events\n2. EventType - The information of the event type\n3. StartDateTime - The start scheduled time of the event\n4. EndDateTime - The end scheduled time of the event\n5. EnteredOn - The date when submitted requests to Mayor's Office of Media and Entertainment (MOME)\n6. EventAgency - The agency of the scheduled event\n7. ParkingHeld - The location of the parking hold for the events in advance\n8. Borough - The city for the event\n9. CommunityBoard(s) - The number of community boards for the event\n10. PolicePrecinct(s) - The police for the precinct of activity for the day\n11. Category - The category of the event medium\n12. SubCategoryName - The sub category of the event medium\n13. Country - The origin of the project\n14. ZipCode(s) - The first zipcode of the activity","8af31d06":"Based on the above visualisation, we can state that:\n1. Manhattan is the top choice for all the event types\n2. Brooklyn is the second choice except for the DCAS Prep\/Shoot\/Wrap Permit which is Bronx\n3. Staten Island is the least choice for all the event types","428d61d6":"## Analysis of the Time column","5f721863":"The minimum event registered in the dataset is 0.016667 hours. Clearly we can see that the data is incorrect and there should be a wrangling process to fix the data","6fbb2b9b":"The total sub category are 29 and most of the events are taken for the Episodic series\n\nLet's have a insight for the top most category ('Television') using the visualisation","ca044064":"Let's have a look of the event type and get the insights of the column by examing it.\n\nWe can get the number of event types."}}