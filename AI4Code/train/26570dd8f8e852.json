{"cell_type":{"ef61fe18":"code","795d031c":"code","87505356":"code","e908dba2":"code","f83284ff":"code","ce2ed3d3":"code","78454136":"code","8fa35af1":"code","8d7db4ee":"code","1bdf9cd5":"code","01be95be":"code","47a98791":"code","4c833605":"code","35a94920":"code","ab0d646f":"code","154f489d":"code","8f686d5b":"code","eac5df85":"code","a9d91ea2":"code","21398201":"code","4a138887":"markdown","49d60274":"markdown","fe5218d7":"markdown","cca67675":"markdown","9ec254f8":"markdown","ae46409b":"markdown","add528a3":"markdown","d19a9f05":"markdown","86575b9e":"markdown","33c45b47":"markdown","53ecd391":"markdown","48650b58":"markdown","a5c597ff":"markdown","efbb9933":"markdown","bf4bc6d8":"markdown"},"source":{"ef61fe18":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","795d031c":"# Import Additional Libraries\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom IPython.display import Image\nfrom IPython.core.display import HTML \nsns.set()\n%matplotlib inline","87505356":"# Read in data and view the first 5 rows\nhfi_data = pd.read_csv('..\/input\/hfi_cc_2018.csv')\nhfi_data = hfi_data[hfi_data['ISO_code'] != 'BRN'] # We drop this country as it does not contain pf_religion data\nhfi_data.head()","e908dba2":"# Define function for plotting yearly median for given metrics with std_dev error bars\ndef plot_med_year(df, metric, title=None):\n    df_year = df.groupby('year')\n    df_med = pd.merge(df_year[metric].median().to_frame().reset_index(), \n                  df_year[metric].std().to_frame(name='std').reset_index())\n    plt.figure()\n    plt.errorbar(x=df_med['year'], y=df_med[metric], \n                 yerr=df_med['std'], linestyle='None', marker='s')\n    if title:\n        plt.title(title)\n    else:\n        plt.title('Median {} by Year'.format(metric))","f83284ff":"# Plot World Average hfi by year\nplot_med_year(hfi_data, 'hf_score', 'World Median HF Score by Year')\n# Plot World Average personal freedom by year\nplot_med_year(hfi_data, 'pf_score', 'World Median PF Score by Year')","ce2ed3d3":"# Explore yearly regional metrics in human freedom, personal freedom, and religious freedom\n# Other religion related metrics are excluded as many have missing data\nregion_yr = hfi_data.groupby(['region', 'year']).median().reset_index()\n\n# Plot human freedom by region\nplt.figure()\nsns.relplot(x='year', y='hf_score', hue='region', data=region_yr)\nplt.title('Median Yearly hf_score by Region')\n\n#Plot personal freeodm by region\nplt.figure()\nsns.relplot(x='year', y='pf_score', hue='region', data=region_yr)\nplt.title('Median Yearly pf_score by Region')","78454136":"# Plot World Median religious freedom score by year\nplot_med_year(hfi_data, 'pf_religion', 'World Med Religious Freedom Score by Year')","8fa35af1":"#Plot religious freedom by region\nplt.figure()\nsns.relplot(x='year', y='pf_religion', hue='region', data=region_yr)\nplt.title('Median Yearly pf_religion Score by Region')","8d7db4ee":"#Plot religious freeodm - restrictions\nplot_med_year(hfi_data, 'pf_religion_restrictions', 'World Med Religious Freedom Restrictions Score by Year')\n#Plot religious freeodm - harassment \nplot_med_year(hfi_data, 'pf_religion_harassment', 'World Med Religious Freedom Harassment Score by Year')\n#Plot religious freeodm - restrictions by region\nplt.figure()\nsns.relplot(x='year', y='pf_religion_restrictions', hue='region', data=region_yr)\nplt.title('Median Yearly pf_religion_restrictions Score by Region')\n#Plot religious freeodm - harassment by region\nplt.figure()\nsns.relplot(x='year', y='pf_religion_harassment', hue='region', data=region_yr)\nplt.title('Median Yearly pf_religion_harassment Score by Region')","1bdf9cd5":"# First, we will create a data frame containing only the metrics of interest\nreligion = hfi_data[['countries', 'region', 'year', 'pf_religion_harassment','pf_religion_restrictions', \n                     'pf_religion', 'pf_score', 'hf_score']]","01be95be":"# Next, we create a heat map of the correlation matrix\nplt.figure()\nsns.heatmap(religion.drop(columns='year').corr(), annot=True)","47a98791":"# Create a scatter matrix to view correlation at a more granular level\nplt.figure()\nsns.pairplot(religion.drop(columns='year'), hue='region')","4c833605":"# Create new df for these years only\nyears = [2015, 2016]\nreligion_15_16 = religion[religion['year'].isin(years)]","35a94920":"# Bottom 5 - 2015\nreligion_15_16[religion_15_16['year'] == 2015].nsmallest(n=5, columns='pf_religion')","ab0d646f":"# Bottom 5 - 2016\nreligion_15_16[religion_15_16['year'] == 2016].nsmallest(n=5, columns='pf_religion')","154f489d":"# Top 5 - 2015\nreligion_15_16[religion_15_16['year'] == 2015].nlargest(n=5, columns='pf_religion')","8f686d5b":"# Top 5 - 2016\nreligion_15_16[religion_15_16['year'] == 2016].nlargest(n=5, columns='pf_religion')","eac5df85":"%%html\n<div class='tableauPlaceholder' id='viz1548565321797' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;hf&#47;hfi_analysis_v1&#47;RelFreedom&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='hfi_analysis_v1&#47;RelFreedom' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;hf&#47;hfi_analysis_v1&#47;RelFreedom&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1548565321797');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","a9d91ea2":"%%html\n<div class='tableauPlaceholder' id='viz1548565707738' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;hf&#47;hfi_analysis_v1&#47;RelRestrictions&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='hfi_analysis_v1&#47;RelRestrictions' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;hf&#47;hfi_analysis_v1&#47;RelRestrictions&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1548565707738');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","21398201":"%%html\n<div class='tableauPlaceholder' id='viz1548565668582' style='position: relative'><noscript><a href='#'><img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;hf&#47;hfi_analysis_v1&#47;RelHarassment&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='hfi_analysis_v1&#47;RelHarassment' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;hf&#47;hfi_analysis_v1&#47;RelHarassment&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1548565668582');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","4a138887":"From this regional breakdown, it is clear that there has been more significant variance in religious freedom for each region over 2008-2016 than there has been for overall personal or human freedom. Additionally, while Western Europe has generally ranked very highly in personal and human freedom, it ranks in the middle for religious freedom. Let's look further into the overall and regional medians for government religious restrictions and religious harassment. ","49d60274":"Not surprisingly, North America and Western Europe consistently exhibit the highest scores for personal and overall human freedom. What is more surprising from these visualizations is the large spread in human and personal freedom between the five highest reigons and the five lowest regions in the world. These groups are spread by nearly a full point or more in both the personal and human freedom scores. Let's dive deeper into the sub-category of interest here - religious freedom, and see if similar trends exist in religious freedom. ","fe5218d7":"Not surprisingly given the trends observed above, around the world there is a high degree of correlation between government restrictions on religious freedom and the presence of religious harassment. Additionally, there is a somewhat strong correlation (.49) between pf_religion and overall pf_score. Somewhat surprisingly however, the correlation between pf_religion and overall hf_score is only .39. Thus, it exhbits a somewhat strong but not overwhelmingly strong correlation. Let's view these metrics another way to get a better sense for how they relate.    ","cca67675":"From here, we see that the five lowest countries for pf_religion also have very low scores for religious restrictions, but moderate scores for religious harassment. Let's see if anything changed from 2015 to 2016. ","9ec254f8":"#### Religious Freedom","ae46409b":"The above scatter matrix allows us to visualize the correlation between each of the key metrics in a more granular way. This allows us to see what the correlaiton matrix already told us, that pf_religion is only mildly correlated with hf_score, but that govrnment restrictions of religion and religious harassment are more strongly correlated. ","add528a3":"Unlike the lowest countries for religious freedom, there is a higher degree of variance amongst the countries included in the top 5. Additionally, the countries in the top 5 do not seem to exhibit the same downward trend in government restrictions that the world in general, and the bottom 5 in particular, exhibit. Of course, this is not a perfect comparison given the changes in the countries included in the top 5, but for our brief analysis, it is still helpful. Lastly, it is interesting to note that there is slightly more regional variation amongst the top 5 countries than amongst the bottom 5. ","d19a9f05":"The above graphs show a downward trend in both personal and overall human freedom from 2008 to 2016. Let's break these scores down further by world region. ","86575b9e":"#### Conclusion\n\nThus, we have briefly answered the basic questions we set out to answer at the beginning of this analysis. While we have not gone too in depth, the analysis has shown us that there is a correlation between high levels of government restrictions on religion and religious harassment. Additionally, one somewhat surprising finding was the downward trend in government religious restrictions scores in Western Europe. We will end this analysis with three geographic visualizations which show how religious freedom scores are distributed around the globe.","33c45b47":"#### Overall Freedom\nHere, we will view the overall changes in average world freedom for the time period contained in the datset (2008-2016). In particular, we will view the trends in overall human freedom and in personal freedom. While the human freedom score is made up of an average of personal freedom and economic freedom, we will not be analyzing economic freedom as our interest is primairly in religious freedom (a sub-category of personal freedom).","53ecd391":"Western Europe is again low in both sub-categories of religious freedom. There is also an interesting and somewhat surprising downward trend for North America, particularly from 2014-2016. To get a better understanding of how these metrics relate to each other and to overall religious, personal, and human freedom, we will view the correlation matrix.  ","48650b58":"Religious freedom exhibits an overall downard trend over the 2008 to 2016 period, similar to those of personal and human freedom, albeit with more fluctuation. Next, we will explore the regional breakdown of religious freedom over this period. ","a5c597ff":"Interestingly, Iran is no longer in the bottom 5 for religious freedom in 2016, but Malaysia now is. The other four countries remain the same, albeit in a different order. Additionally, the scores in government restrictions in the bottom 5 all decreased from 2015-2016. This is not surprising given the overall world downward trend in restrictions scores from 2015 to 2016. Let's see if there is a similar trend amongst the 5 best countries in the world with regards to religious freedom.  ","efbb9933":"Next, we will examine religious freedom at an even more granular level, and look at the world's 5 best and 5 worst countries in terms of religious freedom for 2015 and 2016.","bf4bc6d8":"### A Brief Examination of World Religious Freedom "}}