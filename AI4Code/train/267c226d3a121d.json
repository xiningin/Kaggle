{"cell_type":{"12eb3851":"code","cb56cfe3":"code","bea55b93":"code","a9115aed":"code","24e94a1f":"code","9a65d63d":"code","aeb443bb":"code","6eaca405":"code","1d667119":"code","c634fe85":"code","0614c106":"code","bdb82017":"code","2d4f3c1e":"code","597c7b02":"code","5fb11903":"code","09d89015":"code","6432a1eb":"code","41f29540":"code","60fb61c7":"code","c84cc434":"code","e32a40f7":"code","5435aa97":"code","d16e62f2":"code","064aec35":"code","fb9e7314":"code","c1c46760":"code","2b075c26":"code","43fbcc85":"code","918714c6":"code","2d7c6181":"code","8972b3dd":"code","7916caad":"code","1846ad9c":"code","3c509f41":"code","31329268":"code","fe7bd640":"code","73f375c4":"code","e6c72bc5":"code","145e425c":"code","acdc8eac":"code","3908346d":"code","cd927456":"code","e4403d12":"code","75288694":"code","f9f33882":"code","ecd187d5":"code","d9103a7a":"code","ead7f348":"code","77852f19":"code","735d9eba":"code","5860331e":"code","5e5fe220":"code","9e1e02b8":"code","6df98dde":"code","f9ab73bb":"code","f86d8ac5":"code","a68c7adc":"code","9f984079":"code","9109c54c":"code","55f9df75":"code","0742c9dd":"code","d0274d85":"code","8dbf72ff":"code","1367d02f":"code","7319feaf":"code","baad8e9d":"code","ebbd165f":"code","97bd397c":"code","3b3f8e47":"code","fcd76d1f":"code","840c472b":"code","dfdc9e12":"code","61cc2587":"code","e4786d5d":"code","218a3a02":"code","38e44194":"code","df19abb3":"code","34073664":"code","ee51a254":"code","0029f816":"markdown","d8aa8a92":"markdown","82119194":"markdown","14351003":"markdown","e62a37b1":"markdown","9c322d07":"markdown","5939c587":"markdown","f2d20f02":"markdown","60eaf571":"markdown","a683e839":"markdown","7f5f7117":"markdown","a93ca223":"markdown","4190be03":"markdown","290273be":"markdown","52a28924":"markdown"},"source":{"12eb3851":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set(color_codes=True)","cb56cfe3":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","bea55b93":"df=pd.read_csv(\"\/kaggle\/input\/hr-data\/unit1.csv\")","a9115aed":"df.head()","24e94a1f":"df.info()","9a65d63d":"df[\"Termination Date\"].values","aeb443bb":"df['''Termination Type\n(Voluntary or Involuntary Exit)'''].values","6eaca405":"df['''Promoted\nin FY\n(Yes\/No)'''].values","1d667119":"df['''Age\n(Years)'''].values","c634fe85":"df['''Tenure\n(Years)'''].values","0614c106":"df['''Time in\nJob (Years)'''].values","bdb82017":"df.dtypes","2d4f3c1e":"df[[\"Data Effective Date\",\"Hired Date\",\"Termination Date\",\"Job Start Date\",\"Birth Date\"]]=df[[\"Data Effective Date\",\"Hired Date\",\"Termination Date\",\"Job Start Date\",\"Birth Date\"]].apply(pd.to_datetime)","597c7b02":"df.dtypes","5fb11903":"df.head()","09d89015":"df[\"Birth Date\"].values[0]","6432a1eb":"df[\"Age\\n(Years)\"]=pd.Series((df[\"Data Effective Date\"]-df[\"Birth Date\"])\/np.timedelta64(1,\"Y\")).astype(int)\ndf.head()","41f29540":"age_cat=pd.cut(df[\"Age\\n(Years)\"],bins=[0,25,35,45,55,65,np.inf],labels=[\"<25\",\"25-35\",\"35-45\",\"45-55\",\"55-65<\",\"65<\"])\nage_cat","60fb61c7":"df[\"age_cat\"]=age_cat","c84cc434":"df.head()","e32a40f7":"len(df)","5435aa97":"df[\"Employee\\nStatus\\n\"].value_counts()","d16e62f2":"(df[\"Employee\\nStatus\\n\"].value_counts()\/df[\"Employee\\nStatus\\n\"].value_counts().values.sum())*100","064aec35":"fig=plt.gcf()\nfig.set_size_inches(8,5)\nsns.barplot((df[\"Employee\\nStatus\\n\"].value_counts()\/df[\"Employee\\nStatus\\n\"].value_counts()).index,(df[\"Employee\\nStatus\\n\"].value_counts()\/df[\"Employee\\nStatus\\n\"].value_counts().values.sum())*100)\nfor i,value in enumerate((df[\"Employee\\nStatus\\n\"].value_counts()\/df[\"Employee\\nStatus\\n\"].value_counts()).index):\n    x=i\n    y=int(round(((df[\"Employee\\nStatus\\n\"].value_counts()\/df[\"Employee\\nStatus\\n\"].value_counts().values.sum())*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")","fb9e7314":"~(df[\"Termination Date\"].isnull())","c1c46760":"df_term=df[~(df[\"Termination Date\"].isnull())]","2b075c26":"len(df_term)","43fbcc85":"df_term.head()","918714c6":"(df_term[\"Termination Date\"]-df_term[\"Job Start Date\"])","2d7c6181":" 191\/(365*1)","8972b3dd":"(df_term[\"Termination Date\"]-df_term[\"Job Start Date\"])\/np.timedelta64(1,\"Y\")","7916caad":"job_time=pd.Series((df_term[\"Termination Date\"]-df_term[\"Job Start Date\"])\/np.timedelta64(1,\"Y\"))","1846ad9c":"job_time.head()","3c509f41":"job_time=job_time.astype(int)\njob_time","31329268":"df_term[\"Time in\\nJob (Years)\"]=job_time","fe7bd640":"df_term.head()","73f375c4":"df_term[\"Tenure\\n(Years)\"]=(pd.Series((df_term[\"Termination Date\"]-df_term[\"Hired Date\"])\/np.timedelta64(1,\"Y\"))).astype(int)","e6c72bc5":"df_term.tail()","145e425c":"# df[df[\"Age\\n(Years)\"]==116]\n# an outlier","acdc8eac":"# df[df[\"Age\\n(Years)\"]==6]\n#an outlier","3908346d":"df_term.tail()","cd927456":"df_term_series_age_cat=df_term.groupby(\"age_cat\")[\"age_cat\"].agg(\"count\")\ndf_term_series_age_cat","e4403d12":"type(df_term_series_age_cat.index)","75288694":"(df_term_series_age_cat\/np.sum(df_term_series_age_cat.values))*100","f9f33882":"fig=plt.gcf()\nfig.set_size_inches(8,5)\nsns.barplot(df_term_series_age_cat.index,(df_term_series_age_cat\/np.sum(df_term_series_age_cat.values))*100)\nplt.xticks(rotation=90)\nplt.ylabel(\"rel. no. of empl. left the company\")\nfor i,value in enumerate(((df_term_series_age_cat\/np.sum(df_term_series_age_cat.values))*100).index):\n    x=i\n    y=int(round(((df_term_series_age_cat\/np.sum(df_term_series_age_cat.values))*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")","ecd187d5":"df_term.hist(figsize=(10,5))\nplt.tight_layout()","d9103a7a":"df_term.head()","ead7f348":"(((df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts())\/df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts().values.sum())*100)","77852f19":"sns.barplot(df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts().index,(((df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts())\/df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts().values.sum())*100))\nfor i,value in enumerate((((df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts())\/df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts().values.sum())*100).index):\n    x,y=i,int(round((((df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts())\/df_term['''Termination Type\\n(Voluntary or Involuntary Exit)'''].value_counts().values.sum())*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\n    plt.xlabel(\"Retirement Type\")\n    plt.ylabel(\"Relative Percentage\")","735d9eba":"df_term_vol_exit=df_term[df_term['''Termination Type\\n(Voluntary or Involuntary Exit)''']==\"Voluntary Exit\"]\ndf_term_vol_exit.head()","5860331e":"((df_term_vol_exit[\"Rating\"].value_counts()\/df_term_vol_exit[\"Rating\"].value_counts().values.sum())*100)","5e5fe220":"sns.barplot(((df_term_vol_exit[\"Rating\"].value_counts()\/df_term_vol_exit[\"Rating\"].value_counts().values.sum())*100).index,((df_term_vol_exit[\"Rating\"].value_counts()\/df_term_vol_exit[\"Rating\"].value_counts().values.sum())*100).values)\nplt.xticks(rotation=45)\nfor i,value in enumerate(((df_term_vol_exit[\"Rating\"].value_counts()\/df_term_vol_exit[\"Rating\"].value_counts().values.sum())*100).index):\n    x,y=i,int(round(((df_term_vol_exit[\"Rating\"].value_counts()\/df_term_vol_exit[\"Rating\"].value_counts().values.sum())*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\n    plt.xlabel(\"Rating\")\n    plt.ylabel(\"Counts\")","9e1e02b8":"df_term_invol_exit=df_term[df_term['''Termination Type\\n(Voluntary or Involuntary Exit)''']!=\"Voluntary Exit\"]\ndf_term_invol_exit.head()","6df98dde":"((df_term_invol_exit[\"Rating\"].value_counts()\/df_term_invol_exit[\"Rating\"].value_counts().values.sum())*100)","f9ab73bb":"sns.barplot(((df_term_invol_exit[\"Rating\"].value_counts()\/df_term_invol_exit[\"Rating\"].value_counts().values.sum())*100).index,((df_term_invol_exit[\"Rating\"].value_counts()\/df_term_invol_exit[\"Rating\"].value_counts().values.sum())*100).values)\nplt.xticks(rotation=45)\nfor i,value in enumerate(((df_term_invol_exit[\"Rating\"].value_counts()\/df_term_invol_exit[\"Rating\"].value_counts().values.sum())*100).index):\n    x,y=i,int(round(((df_term_invol_exit[\"Rating\"].value_counts()\/df_term_invol_exit[\"Rating\"].value_counts().values.sum())*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\n    plt.xlabel(\"Rating\")\n    plt.ylabel(\"Counts\")","f86d8ac5":"df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts()","a68c7adc":"(df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts()\/df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts().values.sum())*100","9f984079":"sns.barplot(((df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts()\/df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts().values.sum())*100).index,((df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts()\/df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts().values.sum())*100).values)\nfor i,value in enumerate(((df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts()\/df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts().values.sum())*100).index):\n    x,y=i,int(round(((df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts()\/df_term[\"Career Level \\n(1=lowest, 6=highest)\\n\"].value_counts().values.sum())*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\n    plt.xlabel(\"Career Level\")\n    plt.ylabel(\"Counts\")","9109c54c":"df_term_car_lev_vs_vol_invol=df_term.groupby(['''Career Level \\n(1=lowest, 6=highest)\\n''','''Termination Type\\n(Voluntary or Involuntary Exit)'''])['''Termination Type\\n(Voluntary or Involuntary Exit)'''].agg(\"count\")\ndf_term_car_lev_vs_vol_invol","55f9df75":"df_active=df[(df[\"Termination Date\"].isnull())]\ndf_active.head()","0742c9dd":"df_active[\"Rating\"].value_counts()","d0274d85":"((df_active[\"Rating\"].value_counts())\/np.sum(df_active[\"Rating\"].value_counts().values)*100)","8dbf72ff":"sns.barplot(((df_active[\"Rating\"].value_counts())\/np.sum(df_active[\"Rating\"].value_counts().values)*100).index,((df_active[\"Rating\"].value_counts())\/np.sum(df_active[\"Rating\"].value_counts().values)*100).values)\nplt.xticks(rotation=45)\nfor i,value in enumerate(((df_active[\"Rating\"].value_counts())\/np.sum(df_active[\"Rating\"].value_counts().values)*100).index):\n    x,y=i,int(round(((df_active[\"Rating\"].value_counts())\/np.sum(df_active[\"Rating\"].value_counts().values)*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\n    plt.xlabel(\"Rating\")\n    plt.ylabel(\"Counts\")","1367d02f":"df_active.head()","7319feaf":"df_active[\"Education\\n(Highest\\nDegree)\"].unique()","baad8e9d":"df_active[\"Education\\n(Highest\\nDegree)\"].value_counts()","ebbd165f":"df_active_edu_career=df_active.groupby([\"Education\\n(Highest\\nDegree)\",\"Career Level \\n(1=lowest, 6=highest)\\n\"])[\"Career Level \\n(1=lowest, 6=highest)\\n\"].agg(\"count\")\ndf_active_edu_career","97bd397c":"df_active_edu_career.index","3b3f8e47":"df_active_edu_career.loc[('BA\/BS', 4)]","fcd76d1f":"df_active_edu_career.index[0][1]","840c472b":"s1,s2,s3,s4,s5=0,0,0,0,0\nfor i in df_active_edu_career.index:\n    if (i[0]=='BA\/BS' and i[1]>=4):\n        s1+=df_active_edu_career.loc[i]\n\n    elif (i[0]=='JD' and i[1]>=4):\n        s2+=df_active_edu_career.loc[i]\n\n    elif (i[0]=='MA\/MS' and i[1]>=4):\n        s3+=df_active_edu_career.loc[i]\n\n    elif (i[0]=='MBA' and i[1]>=4):\n        s4+=df_active_edu_career.loc[i]\n\n    elif (i[0]=='PhD' and i[1]>=4):\n        s5+=df_active_edu_career.loc[i]\n\nprint(f\"BA\/BS : {int(round((s1\/(s1+s2+s3+s4))*100))}\\nJD : {int(round((s2\/(s1+s2+s3+s4))*100))}\\nMA\/MS : {int(round((s3\/(s1+s2+s3+s4))*100))}\\nMBA : {int(round((s4\/(s1+s2+s3+s4))*100))}\\nPhD : {int(round((s5\/(s1+s2+s3+s4))*100))}\")","dfdc9e12":"df_active_edu_career_dataframe=pd.DataFrame({\"counts\":[int(round((s1\/(s1+s2+s3+s4))*100)),int(round((s2\/(s1+s2+s3+s4))*100)),int(round((s3\/(s1+s2+s3+s4))*100)),int(round((s4\/(s1+s2+s3+s4))*100)),int(round((s5\/(s1+s2+s3+s4))*100))]},index=[\"BA\/BS\",\"JD\",\"MA\/MS\",\"MBA\",\"PhD\"])\ndf_active_edu_career_dataframe","61cc2587":"fig=plt.gcf()\nfig.set_size_inches(8,5)\nsns.barplot(df_active_edu_career_dataframe.index,df_active_edu_career_dataframe[\"counts\"])\nfor i,value in enumerate(df_active_edu_career_dataframe.index):\n    x=i\n    y=int(round(df_active_edu_career_dataframe.loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\nplt.xlabel(\"Education_Degree\")\nplt.ylabel(\"Counts\")","e4786d5d":"(df_active[\"Data Effective Date\"]-df_active[\"Hired Date\"])\/np.timedelta64(1,\"Y\")","218a3a02":"df_active[\"Tenure\\n(Years)\"]=(pd.Series((df_active[\"Data Effective Date\"]-df_active[\"Hired Date\"])\/np.timedelta64(1,\"Y\"))).astype(int)\ndf_active.tail()","38e44194":"df_active[\"Time in\\nJob (Years)\"]=(pd.Series((df_active[\"Data Effective Date\"]-df_active[\"Job Start Date\"])\/np.timedelta64(1,\"Y\"))).astype(int)\ndf_active.tail()","df19abb3":"df_notice_period=pd.DataFrame({\"Notice_period_gap\":((df[\"Job Start Date\"]-df[\"Hired Date\"])\/np.timedelta64(1,\"M\"))})\ndf_notice_period[\"Notice_period_gap\"]=df_notice_period[\"Notice_period_gap\"].astype(int)\ndf_notice_period_new=pd.DataFrame({\"Notice_period_gap\":(pd.cut(df_notice_period[\"Notice_period_gap\"],bins=list(range(0,13,3))+[np.inf],labels=[\"1st 3 months\",\"1st 6 months\",\"1st 9 months\",\"1st 12 months\",\"> 1year\"],include_lowest=True))})\ndf_notice_period_new=df_notice_period_new[\"Notice_period_gap\"].value_counts()\ndf_notice_period_new","34073664":"df_notice_period_new=pd.DataFrame({\"counts\":df_notice_period_new})\ndf_notice_period_new=df_notice_period_new.reindex([\"1st 3 months\",\"1st 6 months\",\"1st 9 months\",\"1st 12 months\",\"> 1year\"])\n(df_notice_period_new\/df_notice_period_new.counts.sum())*100","ee51a254":"fig=plt.gcf()\nfig.set_size_inches(8,5)\nsns.barplot(((df_notice_period_new\/df_notice_period_new.counts.sum())*100).index,((df_notice_period_new\/df_notice_period_new.counts.sum())*100)[\"counts\"])\nfor i,value in enumerate(((df_notice_period_new\/df_notice_period_new.counts.sum())*100).index):\n    x=i\n    y=int(round(((df_notice_period_new\/df_notice_period_new.counts.sum())*100).loc[value]))\n    plt.text(x,y,str(y)+\"%\",ha=\"center\")\nplt.xlabel(\"Notice_period_gap\")\nplt.ylabel(\"Counts\")","0029f816":"#### report-2\nhere in unit1, mostly high performance employees are getting voluntary retirement.\nmay be high performance employees are not getting:-\n\n1- desired salary\n\n2- promotion\n\n3- respect","d8aa8a92":"#### report-1\nhere unit1 employees are not happy with the company either it will be:-\n\n1- Salary issue\n\n2- Environment was not so good\n\n3- Workload was too high","82119194":"### 1- age_cat   vs  relative no. of employees left the company","14351003":"# reports on terminated employees","e62a37b1":"# reports on active employees","9c322d07":"#### report-5\nhere in unit1 only half of the employees are having good performance and the rest are bad performers.","5939c587":"# Biased with the senior level employees rather than focusing on the performance of the employees","f2d20f02":"### 4- career level termination","60eaf571":"### 2- relative voluntary\/unvoluntrary retired  vs  counts","a683e839":"#### report-4\nhere in unit1 company is terminating mostly the low career level employees......as they are biased to the senior levels....even senior level employees coming in the (4<career level<6) having low performance are not getting the termination.","7f5f7117":"#### report-7\nhere in unit1, almost 78% of the employees join the company after 1 year of notice and only 21% of employees join in the 1st 3 months, which is less than the unit2.\n\nThis is not a good thing for a good company as it's process taking too much of time for the recruitment. ","a93ca223":"for involuntary retired","4190be03":"#### report-3\nhere in unit1, mostly low performance employees and even some high performance employees are getting Involuntary retirement.\n\nThat means they are not terminating on the basis of performance and that is not a good thing.","290273be":"### 3- relative rating   vs  counts\nfor voluntary retired","52a28924":"#### report-6\nhere in unit-1, the employees at senior levels are somehow highly educated as compared to unit2."}}