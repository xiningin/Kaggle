{"cell_type":{"615adc7a":"code","e049952a":"code","f1230030":"code","8943ae65":"code","e762abf1":"code","ef35111b":"code","3edd51af":"code","30d83a33":"code","a41519d1":"code","adf855b2":"code","0199a1fc":"code","24d277a4":"code","32715988":"code","fd8692d6":"code","6357eda9":"code","6e5aab89":"code","d4fb58d5":"code","e291f8a1":"code","e560fb8c":"code","b8d079b8":"code","78bc6936":"code","fe480003":"code","599224bb":"code","e6e730cb":"markdown","dd3e0f06":"markdown","339006fd":"markdown","69dbc310":"markdown","b932ca23":"markdown","1acb9dc3":"markdown","cc430391":"markdown","fbc2971f":"markdown"},"source":{"615adc7a":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nfrom scipy import stats","e049952a":"data = pd.read_csv('\/kaggle\/input\/ibm-hr-analytics-attrition-dataset\/WA_Fn-UseC_-HR-Employee-Attrition.csv')\ndata.head()","f1230030":"data.shape","8943ae65":"data.dtypes","e762abf1":"data.describe()","ef35111b":"data.isna().any()","3edd51af":"data['Attrition'].value_counts()","30d83a33":"attri_count = data['Attrition'].value_counts()\n\nfig = plt.figure(figsize=(6, 6))\nax = sns.barplot(attri_count.index, attri_count.values)\nplt.title(\"Attrition Distribution\",fontsize = 20)\nplt.ylabel('Number of Instances', fontsize = 12)\nplt.xlabel('Attrition', fontsize = 12);","a41519d1":"data['JobSatisfaction'].value_counts()","adf855b2":"ct = pd.crosstab(data.Attrition, data.JobSatisfaction, margins=True)\nct","0199a1fc":"obs = np.append(ct.iloc[0][0:4].values, ct.iloc[1][0:4].values)\nobs","24d277a4":"row_sum = ct.iloc[0:2,4].values\nexp = []\nfor j in range(2):\n    for val in ct.iloc[2,0:4].values:\n        exp.append(val * row_sum[j] \/ ct.loc['All', 'All'])\nexp","32715988":"chi_sq_stats = ((obs - exp)**2\/exp).sum()\nchi_sq_stats","fd8692d6":"dof = (len(row_sum)-1)*(len(ct.iloc[2,0:4].values)-1)\ndof","6357eda9":"1 - stats.chi2.cdf(chi_sq_stats, dof)","6e5aab89":"obs = np.array([ct.iloc[0][0:4].values,\n                  ct.iloc[1][0:4].values])\nstats.chi2_contingency(obs)[0:3]","d4fb58d5":"ct = pd.crosstab(data.Attrition, data.WorkLifeBalance, margins=True)\nct","e291f8a1":"obs = np.array([ct.iloc[0][0:4].values,\n                  ct.iloc[1][0:4].values])\nstats.chi2_contingency(obs)[0:3]","e560fb8c":"ct = pd.crosstab(data.Attrition, data.Education, margins=True)\nct","b8d079b8":"obs = np.array([ct.iloc[0][0:5].values,\n                  ct.iloc[1][0:5].values])\nstats.chi2_contingency(obs)[0:3]","78bc6936":"dep_counts = data['Department'].value_counts()\ndep_counts","fe480003":"ct = pd.crosstab(data.Attrition, data.Department, margins=True)\nct","599224bb":"alpha = 0.05\nfor i in dep_counts.index[0:2]:\n    sub_data = data[data.Department == i]\n    ct = pd.crosstab(sub_data.Attrition, sub_data.WorkLifeBalance, margins=True)\n    obs = np.array([ct.iloc[0][0:4].values,ct.iloc[1][0:4].values])\n    print(\"For \" + i + \": \")\n    print(ct)\n    print('With an alpha value of {}:'.format(alpha))\n    if stats.chi2_contingency(obs)[1] <= alpha:\n        print(\"Dependent relationship between Attrition and Work Life Balance\")\n    else:\n        print(\"Independent relationship between Attrition and Work Life Balance\")\n    print(\"\")","e6e730cb":"'Attrition' vs 'Education':","dd3e0f06":"Examine relationship between 'Attrition' and 'JobSatisfaction':","339006fd":"Since the p-value is high, we conclude that attrition is independent of education level.","69dbc310":"Use SciPy to double check:","b932ca23":"'Attrition' vs 'WorkLifeBalance'","1acb9dc3":"Import Libraries:","cc430391":"Checking if the dependent relationship between Attrition and Job Satisfaction is agnostic to department:","fbc2971f":"Chi-squared test: First, compute both the observation frequency and expected frequency."}}