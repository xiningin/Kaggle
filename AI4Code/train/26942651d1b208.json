{"cell_type":{"c6cfb643":"code","2ad49db5":"code","21b0d35b":"code","a969825d":"code","b0000136":"code","7af6c7b3":"code","e3fc001e":"code","ece58f9d":"code","60346ef1":"code","1fc48f6d":"code","78c8a814":"code","b1c6cd19":"code","ad00d7ab":"code","ce6bf33a":"markdown","82f624f7":"markdown","cf93b495":"markdown","7fedfa78":"markdown","0395b6e2":"markdown","66ed1383":"markdown"},"source":{"c6cfb643":"import pycountry\nimport plotly.express as px\nimport pandas as pd\n%matplotlib inline\nimport matplotlib.pyplot as plt","2ad49db5":"df1 = pd.read_csv(\"..\/input\/covid19-countrywise\/covid-19.csv\")","21b0d35b":"df1 = df1.sort_values(by=['Country','Date'])","a969825d":"df1['Confirmed_diff'] = df1['Confirmed'].diff(periods=7)\ndf1['Deaths_diff'] = df1['Deaths'].diff(periods=7)","b0000136":"print(df1.head(3))  # Get first 3 entries in the dataframe","7af6c7b3":"print(df1.tail(3))  # Get last 3 entries in the dataframe","e3fc001e":"df1 = df1.fillna(0)","ece58f9d":"list_countries = ['US','Brazil','India','Russia','Peru']\n# colors for the 5 horizontal bars\nlist_colors = ['blue','green','red','black','purple']\ndf2 = df1[df1['Country'].isin(list_countries)]","60346ef1":"df2 = df2[df2['Confirmed_diff']>=0]","1fc48f6d":"df2.groupby(['Date','Country']).sum()['Confirmed_diff']","78c8a814":"df2.groupby(['Date','Country']).sum()['Deaths_diff']","b1c6cd19":"fig, ax = plt.subplots(figsize=(16,8))\nax.set_ylabel('Confirmed New Cases')\n# use unstack()\ndf2.groupby(['Date','Country']).sum()['Confirmed_diff'].unstack().plot(ax=ax)","ad00d7ab":"ax.clear()\nfig, ax = plt.subplots(figsize=(15,7))\n# use unstack()\ndf2.groupby(['Date','Country']).sum()['Deaths_diff'].unstack().plot(ax=ax)","ce6bf33a":"# We will visualize 7 day rolling average for some countries. Motivation - I saw the 7 days rolling average on T.V. one day and thought if I can re-produce it! ","82f624f7":"# Plot deaths","cf93b495":"# India is still rising in confirmed cases and deaths.","7fedfa78":"# Select some countries","0395b6e2":"# Data source: https:\/\/raw.githubusercontent.com\/datasets\/covid-19\/master\/data\/countries-aggregated.csv","66ed1383":"# Plot confirmed cases"}}