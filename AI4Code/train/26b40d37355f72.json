{"cell_type":{"1eb460dc":"code","2ca3fd84":"code","2a910d2c":"code","57d6109c":"code","94365f14":"code","98e775c7":"code","026e3492":"code","6d4c9247":"code","31a2ac38":"code","c60d7c88":"code","605acef3":"code","f5c051e3":"code","ec7c89df":"code","44cd2502":"code","6923809c":"code","43995580":"code","5322e5fb":"code","5e3fc298":"code","a59ea393":"code","a53ba075":"code","9cf56822":"code","e34b3b30":"code","4b44a1f7":"code","a3e01516":"code","ca1b51c2":"code","2534c6de":"code","dd515367":"code","ad3795bc":"code","39f6184b":"code","d0ad4f2d":"code","07d92075":"code","8f655fdc":"code","437c98ce":"code","3ac34076":"code","ce52c103":"code","b9df4e6a":"code","a3e8a539":"code","71ca09c1":"code","36679a06":"code","1f1679a4":"code","315296d7":"markdown","a5c20adc":"markdown","e1c9bf19":"markdown","f08329a8":"markdown","e60dfb64":"markdown","09e4937e":"markdown","aa3e83d8":"markdown","86c48362":"markdown","0d3b8691":"markdown","85ffe8f9":"markdown","68ce0a53":"markdown","be915670":"markdown","9e0b2aae":"markdown"},"source":{"1eb460dc":"import numpy as np\nimport pandas as pd \nimport re\nimport emoji \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nfrom PIL import Image","2ca3fd84":"##reading in the already data\ndf=pd.read_csv(r\"C:\\Users\\User\\Downloads\\Discussing Football.csv\",index_col=None)","2a910d2c":"##checking the data again, just to be sure \ndf","57d6109c":"#converting date and time to timsstamp\ndf['DateTime']=pd.to_datetime(df['Date']+ ' '+ df[\"Time\"], dayfirst=True)","94365f14":"#indexing with the timestamp\ndf.index=df['DateTime']","98e775c7":"member_activity=df.Sender.value_counts()\nplt.figure(figsize=[15,5])\nplt.xlabel('Group Members')\nplt.ylabel('No. of Messages')\nmember_activity.plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.xticks(rotation=50)\nplt.title('Members of the Group and their Relative Activity')\nplt.show()","026e3492":"df[\"Sender\"].value_counts().head(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title('Top 10 Most Active Members of the Group')\nplt.xlabel('No. of messages')\nplt.ylabel('Senders')\nplt.show()","6d4c9247":"df[\"Sender\"].value_counts().tail(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title(' 10 Least Active Members of the Group')\nplt.xlabel('No. of messages')\nplt.ylabel('Senders')\nplt.show()","31a2ac38":"#Top 5 Active Hours of the Day\nplt.figure(figsize=[15,5])\nplt.xlabel('Hours of the day')\nplt.ylabel('No. of media messages')\ndf.Hour.value_counts().head().sort_values().plot.bar(color={'r', 'b','g','y','b'})\nplt.xticks(rotation=50)\nplt.title('Top 5 Active Hours of the Day')\nplt.show()","c60d7c88":"#5 Least Active Hours of the Day\nplt.figure(figsize=[15,5])\nplt.xlabel('Hours of the day')\nplt.ylabel('No. of media messages')\ndf.Hour.value_counts().tail().sort_values(ascending=False).plot.bar(color={'r', 'b','g','y','b'})\nplt.xticks(rotation=50)\nplt.title('Least 5 Active Hours of the Day')\nplt.show()","605acef3":"nocturnals=df[df['Hour']<6]\nnocturnals.Sender.value_counts().head(10).plot.bar(color={'r', 'b','g','y','c'}, figsize=[15,5])\nplt.xlabel('Names')\nplt.ylabel('No. of Messages')\nplt.title('Messengers at night')\nplt.show()","f5c051e3":"top_10_active_days_of_the_group = df['Date'].value_counts().head(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title('top 10 active days of the group')\nplt.xlabel('no. of messages')\nplt.ylabel('dates')\nplt.show()","ec7c89df":"least_10_active_days_of_the_group = df['Date'].value_counts().tail(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5] )","44cd2502":"DHM=df[df['Date']=='24\/02\/2020']\nDHM.Hour.value_counts().plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.xlabel('Hours of the Day')\nplt.ylabel('No of messages')\nplt.show()","6923809c":"DHM=df[df['Date']=='24\/02\/2020']\nDHM.Sender.value_counts().plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.xlabel('Names')\nplt.ylabel('No of messages')\nplt.show()","43995580":"#nUMBER OF MEDIA MESSAGES \nmedia=df[df[\"Message\"]=='<Media omitted>']\nlen(media)","5322e5fb":"plt.figure(figsize=[15,5])\nplt.xlabel('Group Members')\nplt.ylabel('No. of media messages')\nmedia.Sender.value_counts().head().plot.bar(color={'r', 'b','g','y','b'})\nplt.xticks(rotation=50)\nplt.title('Top 5 media senders')\nplt.show()","5e3fc298":"#Top 5 longest sentences and their senders \nlong_sents=df.sort_values(by=['Word_Count'],ascending=False)[1:7]\nlong_sents=long_sents[['Sender', \"Word_Count\"]]\nplt.figure(figsize=[15,5])\nsns.barplot( x=\"Sender\",\n    y=\"Word_Count\",\n    hue=\"Sender\",\n    data=long_sents)\nplt.title('Longest Sentences Ever and their Senders')\nplt.show()","a59ea393":"word_count=df[['Sender', 'Letter_Count','Word_Count','Avg_Word_length']]\nword_count.index=word_count['Sender']","a53ba075":"#To check the those instances where group members sent sentences with long words \nword_count.sort_values(by=['Letter_Count'],ascending=False).head(5).plot.bar(figsize=[15,5])\nplt.title('Comparing number of letters, word count and Average Word Length')\nplt.xlabel('Names')\nplt.ylabel('No of messages')\nplt.show()","9cf56822":"#However, let us check those who had very lenghty words... \nword_count2=df[['Sender', 'Letter_Count','Word_Count','Avg_Word_length']]\nword_count2.groupby(df[\"Sender\"]).sum().sort_values(by=['Letter_Count'],ascending=False).head(5).plot.bar(figsize=[15,5])\nplt.title('Comparing number of letters, word count and Average Word Length')\nplt.xlabel('Names')\nplt.show()","e34b3b30":"word_count2.groupby(df[\"Sender\"]).mean().sort_values(by=['Word_Count'],ascending=False).head().plot.bar(figsize=[15,5])\nplt.title('Comparing number of letters, word count and Average Word Length')\nplt.xlabel('Names')\nplt.show()","4b44a1f7":"plt.figure(figsize=[15,5])\nplt.xlabel('Year')\nplt.ylabel('No. of Messages')\ndf.index.year.value_counts().plot.bar(color={'r', 'b'})\nplt.title('Number of Messages Sent in 2019 and 2020')\nplt.show()","a3e01516":"#spliting the dataset into 2019 and 2020 groups \ndateG2019=df[df.index.year==2019]\ndateG2020=df[df.index.year==2020]\n\n##checking if the split is correct, just to be sure \nlen(dateG2019)+len(dateG2020)==len(df)","ca1b51c2":"dateG2020.describe()","2534c6de":"dateG2019.describe()","dd515367":"dateG2019['Date'].value_counts().head(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title('10 days of highest activity in 2019')\nplt.xlabel('No. of messages')\nplt.ylabel('Dates')\nplt.show()","ad3795bc":"dateG2019['Date'].value_counts().tail(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title('10 days of least activity in 2019')\nplt.xlabel('No. of messages')\nplt.ylabel('Dates')\nplt.show()","39f6184b":"dateG2020['Date'].value_counts().head(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title('10 days of highest activity in 2019')\nplt.xlabel('No. of messages')\nplt.ylabel('Dates')\nplt.show()","d0ad4f2d":"dateG2020['Date'].value_counts().tail(10).plot.bar(color={'r', 'b','g','y','b'},figsize=[15,5])\nplt.title('10 days of least activity in 2019')\nplt.xlabel('No. of messages')\nplt.ylabel('Dates')\n\nplt.show()","07d92075":"print('Date with the lowest activity in 2019: {}' .format(dateG2019['Date'].value_counts().tail(1)))\nprint('Date with the highest activity in 2019: {}' .format(dateG2019['Date'].value_counts().head(1)))","8f655fdc":"print('Date with the lowest activity in 2020: {}' .format(dateG2020['Date'].value_counts().tail(1)))\nprint('Date with the highest activity in 2020: {}' .format(dateG2020['Date'].value_counts().head(1)))","437c98ce":"dateG2019.groupby(dateG2019.index.month)[\"Message\"].count().plot.line(color={'b'},figsize=[15,5])\ndateG2020.groupby(dateG2020.index.month)[\"Message\"].count().plot.line(color={'r'})\nplt.title('Line Graph Cmparing The Activity In the Group for 2019 and 2020')\nplt.xlabel('Number of Messages')\nplt.ylabel('Months of the year')\nplt.show()\n###2019 is in blue ","3ac34076":"dateG2019.groupby(dateG2019.index.month).sum().plot.line()\ndateG2020.groupby(dateG2020.index.month).sum().plot.line()\nplt.title('Line Graph Cmparing The Activity In the Group for 2019 and 2020')\nplt.xlabel('no. of messages')\nplt.ylabel('Months of the year')\nplt.show()","ce52c103":"df","b9df4e6a":"def gen_text(col):\n    col=col.dropna()\n    txt=\" \". join(message for message in col)\n    txt=re.sub('..... omitted', '', txt)\n    return txt\n","a3e8a539":"text2019=gen_text(dateG2019['Message'])\ntext2020=gen_text(dateG2020['Message'])","71ca09c1":"stopwords = set(STOPWORDS)\nwordcloud19=WordCloud(max_font_size=50, max_words=100, background_color=\"white\",stopwords=stopwords).generate(text=text2019)\nwordcloud20=WordCloud(max_font_size=50, max_words=100, background_color=\"white\",stopwords=stopwords).generate(text=text2020)","36679a06":"plt.figure(figsize=[15,5])\nplt.imshow(wordcloud19, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","1f1679a4":"plt.figure(figsize=[15,5])\nplt.imshow(wordcloud20, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","315296d7":"# <h2> In summary, lets see the common words used in the group.<\/h2>\nI'm not really a football guy but then it's easy to see why Liverpool and arsenal are very prominent words in the group","a5c20adc":"# Inspecting the Messages ","e1c9bf19":"The values above are very suggestive as the names appearing are those that are very active. So let's check on the average, who is used to sending very long sentnces long words.\nInterestingly, some members of the group that are non active appears on the graph. Even though they do not talk, whenever they do, they make a mark in the group!","f08329a8":"# Comparing year 2019 and 2020","e60dfb64":"<h3> Checking the activity of members in the group <\/h3> \n<p1> Like I said earlier, I'm not a football guy so you'll find me among the least 10 active members of the group. As you would see, my name is the 7th from the end. <\/p1>","09e4937e":"<p> Turns out only one of my guesses was correst about the day with the highest  activity and it seems the match was the real reason for the spike. This I know cos the discussions spiked from 8pm when the match was supposed to start <\/p>","aa3e83d8":"# Who are those that message at night?","86c48362":"# If you got through to this stage, I can only but say thank you for reading through my boring sermon. I'm still much learning so I welcome suggestions comments and critics.  ","0d3b8691":"# Comparing Activity across the hours of the day \nfrom here you'll see that between the 6pm and 10pm are the best times to message the group between 1 am and 5am are the worst times to message the group(obviosuly, everyone would be asleep). which begs the question, who are those that message at night?","85ffe8f9":"<P> To be sure, let's check those messaging on that day, since Korede is the only Liverpool fan on the group, it would only make sense that his messages are more on that day... \n    lets see <\/p>","68ce0a53":"# Importing the needed libraries ","be915670":"# Checking the ativity for the dates \nInterstingly, the dates with the highest discussions seemed to be \n24th of February, that was a day after Deontay Wilder and Tyson Fury had a fight, also \nManchester United and Arsenal had won their games a night before. Liverpool had a game that night as well and won(the most active person in the group is a Liverpool fan). So there was a lot to discuss that day. None the less I'll check the data from that day to see what it looks like.\n\n25th of December 2019 is obviously christmas day, kind of explains itself.","9e0b2aae":"So what you are seeing is a bar graph showing the longest messages sent and the number of words in those sentences. If you would notice, a sender(okiki) has a mark, that's because he sent two very long sentences, so the mean was taken for the graph. The line on his bar shows the values for his two long sentences. "}}