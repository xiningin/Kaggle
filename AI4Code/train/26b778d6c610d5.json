{"cell_type":{"ee1ea43e":"code","bf445eab":"code","50c29aa5":"code","3fb5494a":"code","493e7996":"code","9011ca04":"code","b0e10084":"code","35ea56a5":"code","30f073e7":"markdown","0ad3faf6":"markdown","418bdf39":"markdown","bc6ae26b":"markdown","759dda19":"markdown","fcb22470":"markdown","c69f440b":"markdown","755e6ddd":"markdown"},"source":{"ee1ea43e":"import os \nimport pandas as pd\nimport pandas_profiling as pp","bf445eab":"wisconsin = '\/kaggle\/input\/breast-cancer-wisconsin-data\/data.csv'","50c29aa5":"from google.cloud import storage\nstorage_client = storage.Client(project='kaggle-playground-170215')\n\ndef create_bucket(dataset_name):\n    \"\"\"Creates a new bucket. https:\/\/cloud.google.com\/storage\/docs\/ \"\"\"\n    bucket = storage_client.create_bucket(dataset_name)\n    print('Bucket {} created'.format(bucket.name))\n\ndef upload_blob(bucket_name, source_file_name, destination_blob_name):\n    \"\"\"Uploads a file to the bucket. https:\/\/cloud.google.com\/storage\/docs\/ \"\"\"\n    bucket = storage_client.get_bucket(bucket_name)\n    blob = bucket.blob(destination_blob_name)\n    blob.upload_from_filename(source_file_name)\n    print('File {} uploaded to {}.'.format(\n        source_file_name,\n        destination_blob_name))\n    \ndef list_blobs(bucket_name):\n    \"\"\"Lists all the blobs in the bucket. https:\/\/cloud.google.com\/storage\/docs\/\"\"\"\n    blobs = storage_client.list_blobs(bucket_name)\n    for blob in blobs:\n        print(blob.name)\n        \ndef download_to_kaggle(bucket_name,destination_directory,file_name):\n    \"\"\"Takes the data from your GCS Bucket and puts it into the working directory of your Kaggle notebook\"\"\"\n    os.makedirs(destination_directory, exist_ok = True)\n    full_file_path = os.path.join(destination_directory, file_name)\n    blobs = storage_client.list_blobs(bucket_name)\n    for blob in blobs:\n        blob.download_to_filename(full_file_path)","3fb5494a":"bucket_name = 'wisconsinbreastcancer_test'         \ntry:\n    create_bucket(bucket_name)   \nexcept:\n    pass","493e7996":"local_data = '\/kaggle\/input\/breast-cancer-wisconsin-data\/data.csv'\nfile_name = 'data.csv' \nupload_blob(bucket_name, local_data, file_name)\nprint('Data inside of',bucket_name,':')\nlist_blobs(bucket_name)","9011ca04":"destination_directory = '\/kaggle\/working\/breastcancerwisconsin\/'       \nfile_name = 'data.csv'\ndownload_to_kaggle(bucket_name,destination_directory,file_name)","b0e10084":"os.listdir('\/kaggle\/working\/breastcancerwisconsin\/')","35ea56a5":"full_file_path = os.path.join(destination_directory, file_name)\nnew_file = pd.read_csv(full_file_path)\npp.ProfileReport(new_file)","30f073e7":"**Step 4:** Download your data from the GCS Bucket","0ad3faf6":"**Step 3:** Connect to GCS Storage Client and Define Some Helper Functions\n* https:\/\/cloud.google.com\/storage\/docs\/","418bdf39":"# How to move data from Kaggle to GCS and back\n* The purpose of this notebook is to demonstrate how to move data from Kaggle into the Google Storage Client\n* We also demonstrate how to move data from the Google Storage Client into a Kaggle notebook\n* Note that this requires enabling Google Cloud Services in the Add-ons menu of the notebook editor.","bc6ae26b":"**Step 3:** Upload your data to a GCS Bucket","759dda19":"**Step 3:** Create a new GCS Bucket","fcb22470":"**Step 1:** Import Python Modules","c69f440b":"**Step 2:** Import Data from Kaggle\n* Note that you add the data to your kernel by pressing the \"add data\" button in the top right corner of the notebook editor","755e6ddd":"**Step 5:** Preview the data that you just downloaded"}}