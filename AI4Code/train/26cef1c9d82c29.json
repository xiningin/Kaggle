{"cell_type":{"21f80e2e":"code","ae06bed0":"code","9926289a":"code","951a2bfc":"code","c0cb13d0":"markdown","efa93014":"markdown","e1e00089":"markdown","e32fdaf6":"markdown"},"source":{"21f80e2e":"import pandas as pd\n\ndoc = [] \nwith open('..\/input\/dateextraction\/dates.txt') as file: \n    for line in file: doc.append(line)\n\ndf = pd.DataFrame(doc,columns=['dates']) \n\ndf","ae06bed0":"import re\nr1=r'(\\d?\\d\/\\d?\\d\/\\d\\d\\d\\d)' \nr2=r'(\\d?\\d\/\\d?\\d\/\\d\\d)'\nr3=r'(\\d?\\d-\\d?\\d-\\d\\d)'\nr4=r'([A-Z][a-z]+\\W?\\s?\\d\\d\\D?\\D?\\W?\\s\\d\\d+)'\nr5=r'([A-Z][a-z]+W?-?\\d\\d\\D?\\D?\\W?\\s\\d\\d+)'\nr6=r'(\\d\\d\\s[A-Za-z]+\\s?\\d\\d\\d\\d)'\nr7=r'([A-Z][a-z]+\\W?\\s\\d\\d\\d\\d)'\nr8=r'(\\d?\\d\/\\d\\d\\d\\d)'\nr9=r'(\\d\\d\\d\\d)'\nregexprs=[r1,r2,r3,r4,r5,r6,r7,r8,r9]\n","9926289a":"def date_extracter():\n    for i in range(0,len(df)):\n        for regex in regexprs:\n            a=re.findall(regex,df.loc[i,'dates'])\n            if len(a)>0:\n                try:\n                    df.loc[i,'Extracted_date']= pd.Timestamp(a[0])\n                except:\n                    df.loc[i,'Extracted_date']=pd.Timestamp(a[0].split()[-1])\n                break\n            else:\n                continue\n    \n    return df.sort_values(by='Extracted_date',ascending=False)\n","951a2bfc":"date_extracter()","c0cb13d0":"Creating regrex for each possible date format","efa93014":"Now we need to search for every possible Date format in text ","e1e00089":"First lets open the folder ","e32fdaf6":"# Extracting Dates from messy medical text notes\n\nIn this assignment, I will be working with messy medical data and using regex to extract relevant infromation from the data. \n\nEach line of the `dates.txt` file corresponds to a medical note. Each note has a date that needs to be extracted, but each date is encoded in one of many formats.\n\nThe goal of this assignment is to correctly identify all of the different date variants encoded in this dataset and to properly normalize and sort the dates. \n\nHere is a list of some of the variants in this dataset:\n* 04\/20\/2009; 04\/20\/09; 4\/20\/09; 4\/3\/09\n* Mar-20-2009; Mar 20, 2009; March 20, 2009;  Mar. 20, 2009; Mar 20 2009;\n* 20 Mar 2009; 20 March 2009; 20 Mar. 2009; 20 March, 2009\n* Mar 20th, 2009; Mar 21st, 2009; Mar 22nd, 2009\n* Feb 2009; Sep 2009; Oct 2010\n* 6\/2008; 12\/2009\n* 2009; 2010\n"}}