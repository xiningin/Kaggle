{"cell_type":{"1ab41423":"code","fc7d5041":"code","847a08a8":"code","d539a440":"code","33534516":"code","328283ff":"code","cc5ac067":"code","4469fef6":"code","5921939d":"code","dd17465a":"code","ec945423":"code","60ce630c":"code","7f761f84":"code","fcec0ec2":"code","335df3e6":"code","bec18d1f":"code","b2b37d64":"code","84e9f636":"code","278a9e0f":"code","68f1fa2c":"code","70b5bb36":"code","0fb26053":"markdown","0961355c":"markdown"},"source":{"1ab41423":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport warnings\nwarnings.filterwarnings('ignore')\n\npes = pd.read_csv(\"..\/input\/efootball-pes-2019-all-players\/pes2019-all-players.v2.csv\")\npd.set_option('display.max_rows',20000, 'display.max_columns',20000)\npes.head()\n\n\npes.isnull().sum()\n\npes_sum_or = pes.groupby('team_name')['overall_rating'].sum().reset_index()\npes_count_or = pes.groupby('team_name')['overall_rating'].count().reset_index(name='Total Players')\npes_sum_or['Average overall_rating'] = pes_sum_or['overall_rating']\/pes_count_or['Total Players']\npes_sum_or['overall_rating']=pes_count_or['Total Players']\nWorlds_Best_Team=pes_sum_or.sort_values('Average overall_rating',ascending=False)[['team_name','Average overall_rating']]\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=Worlds_Best_Team['team_name'][:40], y=Worlds_Best_Team['Average overall_rating'],\n                    mode='lines+markers',name='Total Cases'))\nfig.update_traces(marker_color='rgb(255,0,0)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=10))\nfig.update_layout(title_text='Top 40 Worlds Best Football Team')\nfig.show()\n","fc7d5041":"fig = px.pie(pes, names='ball_color',hole=.3)\nfig.update_traces(hoverinfo='label+percent', textinfo='value', textfont_size=20,\n                  marker=dict(line=dict(color='#000000', width=0.9)))\nfig.update_layout(\n    title='Player Count Divided in from White(1-Star Player) to Black(5-Star Player)')\nfig.show()","847a08a8":"\npes_bl_or_gold=pes[pes['ball_color'].isin(['black','gold'])]\npes_player_detail= pes_bl_or_gold.groupby(['league','ball_color'])['league'].count().reset_index(name='Player_Count')\nfig = px.sunburst(pes_player_detail,path=['league','ball_color'],values='Player_Count')\nfig.update_layout(\n    title='Black Ball and Gold Ball Quality Players distribution by Leagues')\nfig.show()","d539a440":"pes_europe = pes[pes['region']=='Europe']\npes_player_detail= pes_europe.groupby(['region','nationality','registered_position'])['league'].count().reset_index(name='Player_Count')\nfig = px.sunburst(pes_player_detail,path=['region','nationality','registered_position'],values='Player_Count')\nfig.update_layout(\n    title='European Player with Country,Playing Position and for the CLUB they play for')\nfig.show()","33534516":"pes_europe = pes[pes['region']=='South America']\npes_player_detail= pes_europe.groupby(['region','nationality','registered_position'])['league'].count().reset_index(name='Player_Count')\nfig = px.sunburst(pes_player_detail,path=['region','nationality','registered_position'],values='Player_Count')\nfig.update_layout(\n    title='South American Player with Country,Playing Position')\nfig.show()","328283ff":"pes_europe = pes[pes['region']=='Africa']\npes_player_detail= pes_europe.groupby(['region','nationality','registered_position'])['league'].count().reset_index(name='Player_Count')\nfig = px.sunburst(pes_player_detail,path=['region','nationality','registered_position'],values='Player_Count')\nfig.update_layout(\n    title='African Player with Country,Playing Position')\nfig.show()","cc5ac067":"fig = px.histogram(pes,x='region')\nfig.update_traces(marker_color='rgb(80,10,255)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=14))\nfig.update_layout(\n    title='Continentwise Players in PES2020')\nfig.show()","4469fef6":"pes_sum_or = pes.groupby('league')['overall_rating'].sum().reset_index()\npes_count_or = pes.groupby('league')['overall_rating'].count().reset_index(name='Total Players')\npes_sum_or['Average overall_rating'] = pes_sum_or['overall_rating']\/pes_count_or['Total Players']\npes_sum_or['Total Players']=pes_count_or['Total Players']\nZ=pes_sum_or.sort_values('Average overall_rating',ascending=False)[['league','Average overall_rating']]\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=Z['league'], y=Z['Average overall_rating'],\n                    mode='lines+markers',name='Total Cases'))\nfig.update_traces(marker_color='rgb(250,10,50)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=14))\nfig.update_layout(title_text='Best League in the world based on Overall Player Rating')\nfig.show()","5921939d":"pes['age'] = pd.to_numeric(pes['age'], errors='coerce')\nfig = px.histogram(pes,x='age')\nfig.update_traces(marker_color='rgb(255,140,0)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=0, tickfont=dict(size=14))\nfig.update_layout(\n    title='Agewise Count of Players')\nfig.show()","dd17465a":"fig = px.box(pes, x=pes['league'], y=pes['age'])\nfig.update_traces(marker_color='rgb(255,140,0)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=12))\nfig.update_layout(\n    title='Age Distribution of Players with a Club in PES2019')\nfig.show()","ec945423":"fig = px.histogram(pes,x='foot')\nfig.update_traces(marker_color='rgb(10,255,10)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=0, tickfont=dict(size=14))\nfig.update_layout(\n    title='Foot Prefferece by the Players in PES2019')\nfig.show()","60ce630c":"fig = px.pie(pes,names='playing_style', title='Player Playing Style in PES2019')\nfig.update_traces(hole=.3, hoverinfo=\"label+percent+name\")\nfig.show()","7f761f84":"fig = px.histogram(pes,x='registered_position')\nfig.update_traces(marker_color='rgb(10,10,255)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=14))\n\nfig.update_layout(\n    title='Registered Position by the Players in PES2019')\nfig.show()","fcec0ec2":"fig = px.box(pes, y=pes['overall_rating'], x=pes['age'])\nfig.update_layout(\n    title='Agewise Growth and Decline of Player')\nfig.update_traces(marker_color='rgb(110,255,110)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=10))\nfig.show()","335df3e6":"pes_best_players = pes.iloc[pes.groupby(['registered_position'])['overall_rating'].idxmax()][['name','nationality','team_name','registered_position','overall_rating']]\npes_best_players","bec18d1f":"English_League = pes[pes['league']=='English League']\nEnglish_League_XI = English_League.loc[English_League.groupby(['registered_position'])['overall_rating'].idxmax()][['name','nationality','team_name','registered_position','overall_rating']]\nEnglish_League_XI","b2b37d64":"pes_english_league = pes[pes['league']=='English League']\npes_sum_or = pes_english_league.groupby('team_name')['overall_rating'].sum().reset_index()\npes_count_or = pes_english_league.groupby('team_name')['overall_rating'].count().reset_index(name='Total Players')\npes_sum_or['Average overall_rating'] = pes_sum_or['overall_rating']\/pes_count_or['Total Players']\npes_sum_or['Total Players']=pes_count_or['Total Players']\nEnglish_League=pes_sum_or.sort_values('Average overall_rating',ascending=False)[['team_name','Average overall_rating']]\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=English_League['team_name'], y=English_League['Average overall_rating'],\n                    mode='lines+markers',name='Total Cases'))\nfig.update_traces(marker_color='rgb(0,102,255)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=14))\nfig.update_layout(title_text='Overall Rating of English League Team')\nfig.show()","84e9f636":"Spanish_League = pes[pes['league']=='Spanish League']\nSpanish_League_XI = Spanish_League.loc[Spanish_League.groupby(['registered_position'])['overall_rating'].idxmax()][['name','nationality','team_name','registered_position','overall_rating']]\nSpanish_League_XI","278a9e0f":"pes_spanish_league = pes[pes['league']=='Spanish League']\npes_sum_or = pes_spanish_league.groupby('team_name')['overall_rating'].sum().reset_index()\npes_count_or = pes_spanish_league.groupby('team_name')['overall_rating'].count().reset_index(name='Total Players')\npes_sum_or['Average overall_rating'] = pes_sum_or['overall_rating']\/pes_count_or['Total Players']\npes_sum_or['Total Players']=pes_count_or['Total Players']\nSpanish_League=pes_sum_or.sort_values('Average overall_rating',ascending=False)[['team_name','Average overall_rating']]\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=Spanish_League['team_name'], y=Spanish_League['Average overall_rating'],\n                    mode='lines+markers',name='Total Cases'))\nfig.update_traces(marker_color='rgb(255,64,0)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=14))\nfig.update_layout(title_text='Overall Rating of Spanish League Team')\nfig.show()","68f1fa2c":"Italian_League = pes[pes['league']=='Italian League']\nItalian_League_XI = Italian_League.loc[Italian_League.groupby(['registered_position'])['overall_rating'].idxmax()][['name','nationality','team_name','registered_position','overall_rating']]\nItalian_League_XI","70b5bb36":"pes_italian_league = pes[pes['league']=='Italian League']\npes_sum_or = pes_italian_league.groupby('team_name')['overall_rating'].sum().reset_index()\npes_count_or = pes_italian_league.groupby('team_name')['overall_rating'].count().reset_index(name='Total Players')\npes_sum_or['Average overall_rating'] = pes_sum_or['overall_rating']\/pes_count_or['Total Players']\npes_sum_or['Total Players']=pes_count_or['Total Players']\nItalian_League=pes_sum_or.sort_values('Average overall_rating',ascending=False)[['team_name','Average overall_rating']]\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=Italian_League['team_name'], y=Italian_League['Average overall_rating'],\n                    mode='lines+markers',name='Total Cases'))\nfig.update_traces(marker_color='rgb(255,0,191)', marker_line_color='rgb(8,48,107)',\n                  marker_line_width=1.5, opacity=0.6)\nfig.update_xaxes(tickangle=270, tickfont=dict(size=14))\nfig.update_layout(title_text='Overall Rating of Italian League Team')\nfig.show()","0fb26053":"PLAYER Counts By Ball Colors","0961355c":"Black Ball and Gold BallPlayers League distributions"}}