{"cell_type":{"5b858b73":"code","55609f6e":"code","a95d2a91":"code","1f6025bf":"code","122fa3cb":"code","a67707a7":"code","31cb3544":"code","8920e71d":"code","b6cb1c01":"code","92f0e436":"code","3c733d34":"code","3be0f3a4":"code","502c517e":"code","6a48fb29":"code","a58c7070":"markdown","d4090c50":"markdown","93bdc646":"markdown","a1ac9d72":"markdown","c155083a":"markdown","d70d9d06":"markdown","9d845ad6":"markdown","6e97abf3":"markdown","12d736db":"markdown","e6c023ab":"markdown","5749ea58":"markdown","2a72c084":"markdown","71e1a95a":"markdown"},"source":{"5b858b73":"import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","55609f6e":"my_filepath = \"..\/input\/groceries-dataset\/Groceries_dataset.csv\"","a95d2a91":"my_data = pd.read_csv(my_filepath)\nmy_data","1f6025bf":"uniques = my_data[\"itemDescription\"].unique()\n\ncount_data=[]\nfor data in uniques:\n    item = str(data)\n    filt = my_data[\"itemDescription\"] == item\n    new=my_data.loc[filt]\n    x=new[\"itemDescription\"].count()\n    count_data.append(x)","122fa3cb":"data = {'itemDescription':  uniques,\n        'Count Of Items': count_data\n        }\ncount_df = pd.DataFrame (data, columns = ['itemDescription','Count Of Items'])\ncount_df\n","a67707a7":"truncated_count_df = count_df.nlargest(20,['Count Of Items'])","31cb3544":"# Create a plot\nplt.figure(figsize=(12,14))\nsns.set_style(\"whitegrid\")\nchart = sns.barplot(y=truncated_count_df[\"itemDescription\"], x=truncated_count_df['Count Of Items'],palette='Set2', data=truncated_count_df) # Your code here\nplt.title(\"Most Commonly Bought Items\")\n#chart.set_yticklabels(chart.get_yticklabels(), rotation=90)\n# sns.set_context(\"talk\", font_scale=1.4)","8920e71d":"my_data.Date = pd.to_datetime(my_data.Date) \n","b6cb1c01":"my_data['Year'] = my_data.Date.apply(lambda x : x.year)\nmy_data['Month'] = my_data.Date.apply(lambda x : x.month)\nmy_data['Days of Week'] = my_data.Date.apply(lambda x : x.dayofweek)\nmy_data","92f0e436":"plt.figure(figsize=(12,10))\nsns.set_style(\"whitegrid\")\nsns.countplot(my_data.Year,palette='Set2')\nplt.ylabel(\"Volume of Sales\")\nplt.show()","3c733d34":"filt = my_data[\"Year\"] == 2015\nmy_data.loc[filt].count()","3be0f3a4":"customers = my_data[\"Member_number\"].unique()\nyears = my_data[\"Year\"].unique()\nnum_of_customers = []\n\n\ndef no_of_customersfn(customers,year):\n    uni = 0\n    for member in customers:\n        filt = (my_data[\"Member_number\"] == member) & (my_data[\"Year\"] == year)\n        temp_df= my_data.loc[filt]\n        temp_no = temp_df[\"Member_number\"].nunique()\n        if temp_no == 1:\n            uni += 1\n    return uni\n\n\nfor year in years:\n    x=no_of_customersfn(customers, year)\n    num_of_customers.append(x)\n    \n    \n\nprint(num_of_customers)\nprint(years)\n\n#2014 is 3443\n# 2015 is 3314","502c517e":"data = {'Years':  years,\n        'No of Customers': num_of_customers\n        }\nnuniques_df = pd.DataFrame (data, columns = ['Years','No of Customers'])\nnuniques_df","6a48fb29":"plt.figure(figsize=(14,10))\nsns.set_style(\"whitegrid\")\nchart = sns.barplot(y=nuniques_df[\"No of Customers\"], x=nuniques_df['Years'],palette='Set2', data=nuniques_df) # Your code here\nplt.title(\"No of Unique Customers By Years\")","a58c7070":"## Question 1: What Product Do People Buy The Most","d4090c50":"### Task 1: Create a Column For The Years, Months and Weeks","93bdc646":"### Task 1: Finding The Number Of Unique Customers By The Year ","a1ac9d72":"### Task 2: Get The Top 20 Values","c155083a":"### Task 2: Creating The Dataframe for The Plot","d70d9d06":"### Task 1: Create A DataFrame for the most commonly bought products and their counts","9d845ad6":"### Task 3: Plotting The Histogram","6e97abf3":"# Question 3: Is The Number Of Customers Growing?","12d736db":"There Were More Sales In 2015 Than There Were In 2014, So I Think Its Safe To Say That The Volumne of Sales Is Healthy And Growing ","e6c023ab":"This is done using the member_number, so it works under the assumption that each member has a unique member_number","5749ea58":"Jugding by this histogram, it would appear that there were less customers in 2015 than in 2014 from the histogram before this we see that the volume of sales actually increased in 2015, There may be many reasons for this but one could be an increase in visitations by existing customers","2a72c084":"### Task 2: Plotting The Histogram","71e1a95a":"## Question 2: Is the Volume of sales Healthy "}}