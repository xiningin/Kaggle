{"cell_type":{"8d376380":"code","84f11167":"code","b8b72a2a":"code","ecce674d":"code","bb491818":"code","08372f87":"code","71207a69":"code","2cad9869":"code","358092e8":"code","3bfc0f2e":"code","7abb3218":"code","80881776":"code","64b5977c":"code","fd124f88":"code","07d8ea6b":"code","70234627":"code","a2e080b0":"code","9d565a94":"code","412499be":"code","92b6eb93":"code","98ccb452":"code","d223c411":"code","06922187":"code","764d6001":"code","9e90c68b":"markdown","3b436271":"markdown","649fb308":"markdown","a894aa97":"markdown","ddc521bc":"markdown","2c0bbda9":"markdown","e6675fff":"markdown","7b7362a0":"markdown","4abcd30f":"markdown","a2370572":"markdown"},"source":{"8d376380":"import numpy as np\nimport pandas as pd","84f11167":"!pip install quandl\nimport quandl\n\n# It is recommended to use your API Key.\n# You can get your API key from, https:\/\/www.quandl.com\/data\/BSE-Bombay-Stock-Exchange\/usage\/quickstart\/api\n# quandl.ApiConfig.api_key = \"\"","b8b72a2a":"sector_indices = ['BSE\/SI1900', 'BSE\/SIBANK', 'BSE\/SI0400', 'BSE\/SPBSFIIP', 'BSE\/SI0600', \n                  'BSE\/SI1000', 'BSE\/SI0800', 'BSE\/SPBSBMIP', 'BSE\/SI0200', 'BSE\/CARBON', \n                  'BSE\/SPBSCDIP', 'BSE\/SPBSENIP', 'BSE\/GREENX' ,'BSE\/SPBSIDIP', 'BSE\/SI1200', \n                  'BSE\/SI1400', 'BSE\/SIPOWE', 'BSE\/SIBPSU', 'BSE\/SIREAL', 'BSE\/SIBTEC', \n                  'BSE\/SPBSTLIP', 'BSE\/SPBSUTIP', 'BSE\/INFRA', 'BSE\/SPBIMIP']\n\nsector_name = ['AUTO', 'BANK', 'CONSUMER_DURABLES', 'FINANCE', 'FMCG', 'IT', 'HEALTHCARE', \n               'BASIC_MATERIAL', 'CAP_GOODS', 'CARBONEX', 'CONSUMER_DISCRETIONARY_GOODS', \n               'ENERGY', 'GREENEX', 'INDUSTRIALS', 'METAL', 'OIL_GAS', 'POWER', 'PSU', 'REALTY', \n               'TECK', 'TELECOM', 'UTILITIES', 'INFRASTRUCTURE', 'MANUFACTURING']\n\nprint('Total Sector considered: ', len(sector_name))","ecce674d":"from datetime import datetime\nimport pandas as pd\nimport numpy as np\nstart = '2019-12-01'\nend = datetime.today().strftime('%Y-%m-%d')\n\nbse_sector_indices = pd.DataFrame()\nfor i in range(0, len(sector_indices)):\n    print(\"Sector: \"+sector_name[i])\n    bse_sector_indices[sector_name[i]] = quandl.get(\n        sector_indices[i], start_date=start, \n        end_date=end)['Close'].pct_change()\n    bse_sector_indices[sector_name[i]] = np.round((bse_sector_indices[sector_name[i]]), 3)\nbse_sector_indices = bse_sector_indices.dropna()","bb491818":"bse_sector_indices = bse_sector_indices.reset_index()","08372f87":"global_ = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_confirmed_global.csv')\nindia = global_[global_['Country\/Region']=='India'].drop(['Lat','Long','Province\/State'], 1)\nindia = pd.melt(india, id_vars='Country\/Region')\nindia = india.rename({'variable':'Date','value':'Cases'}, axis=1)\nindia['Date'] = pd.to_datetime(india['Date'], format='%m\/%d\/%y')\nindia.Date = india.Date.dt.strftime('%Y-%m-%d')\nindia['Date'] = pd.to_datetime(india['Date'], format='%Y-%m-%d')\nindia.tail()","71207a69":"before_corona = pd.DataFrame()\nbefore_corona['Country\/Region'] = \"India\"\nbefore_corona['Date'] = pd.date_range(start ='2019-12-01',\n                                      end ='2020-01-21', \n                                      freq ='D')\nbefore_corona['Cases'] = 0\nindia = before_corona.append(india)\nindia.head()","2cad9869":"finance_analysis = pd.merge(bse_sector_indices, india[['Date','Cases']], on='Date')\nfinance_analysis.head()","358092e8":"finance_analysis['Month'] = finance_analysis.Date.dt.month\nfinance_analysis['Day'] = finance_analysis.Date.dt.day\nfinance_analysis['Weekday'] = finance_analysis.Date.dt.dayofweek","3bfc0f2e":"finance_analysis.tail()","7abb3218":"before_corona = finance_analysis[(finance_analysis['Date']>='2019-01-01') & (finance_analysis['Date']<='2020-01-29')]\nbefore_lockdown = finance_analysis[(finance_analysis['Date']>='2020-01-30') & (finance_analysis['Date']<='2020-03-24')]\nphase_1 = finance_analysis[(finance_analysis['Date']>='2020-03-25') & (finance_analysis['Date']<='2020-04-14')]\nphase_2 = finance_analysis[(finance_analysis['Date']>='2020-04-15') & (finance_analysis['Date']<='2020-05-03')]\nphase_3 = finance_analysis[(finance_analysis['Date']>='2020-05-04') & (finance_analysis['Date']<='2020-05-17')]\nphase_4 = finance_analysis[(finance_analysis['Date']>='2020-05-18') & (finance_analysis['Date']<='2020-05-31')]\nphase_5 = finance_analysis[(finance_analysis['Date']>='2020-06-01') & (finance_analysis['Date']<='2020-06-30')]","80881776":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.io as pio\nimport plotly.graph_objects as go\nimport plotly.express as px\n%matplotlib inline","64b5977c":"avg_return = pd.DataFrame()\navg_return['Sector'] = sector_name\navg_return['Avg_Return'] = np.round(before_lockdown.mean().head(len(sector_name)).values, 3)\n\nfig = px.bar(avg_return, x='Sector', y='Avg_Return',\n             hover_name='Avg_Return', color='Avg_Return', text='Avg_Return',\n             height=600, title='Average Returns of each sector before lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","fd124f88":"correlation_stock = before_lockdown.corr()['Cases'].head(-4)\ncorrelation_stock = np.round(correlation_stock, 3)\nfig = px.bar(correlation_stock, x=correlation_stock.index, y='Cases',\n             hover_name='Cases', color='Cases', text='Cases',\n             height=600, title='Correlation Graph with each sector returns and COVID-19 Cases before lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","07d8ea6b":"avg_return = pd.DataFrame()\navg_return['Sector'] = sector_name\navg_return['Avg_Return'] = np.round(phase_1.mean().head(len(sector_name)).values, 3)\n\nfig = px.bar(avg_return, x='Sector', y='Avg_Return',\n             hover_name='Avg_Return', color='Avg_Return', text='Avg_Return',\n             height=600, title='Average Returns of each sector on Phase - 1 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","70234627":"correlation_stock = phase_1.corr()['Cases'].head(-4)\ncorrelation_stock = np.round(correlation_stock, 3)\nfig = px.bar(correlation_stock, x=correlation_stock.index, y='Cases',\n             hover_name='Cases', color='Cases', text='Cases',\n             height=600, \n             title='Correlation Graph with each sector returns and COVID-19 Cases on Phase-1 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","a2e080b0":"avg_return = pd.DataFrame()\navg_return['Sector'] = sector_name\navg_return['Avg_Return'] = np.round(phase_2.mean().head(len(sector_name)).values, 3)\n\nfig = px.bar(avg_return, x='Sector', y='Avg_Return',\n             hover_name='Avg_Return', color='Avg_Return', text='Avg_Return',\n             height=600, title='Average Returns of each sector on Phase - 2 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","9d565a94":"correlation_stock = phase_2.corr()['Cases'].head(-4)\ncorrelation_stock = np.round(correlation_stock, 3)\nfig = px.bar(correlation_stock, x=correlation_stock.index, y='Cases',\n             hover_name='Cases', color='Cases', text='Cases',\n             height=600, \n             title='Correlation Graph with each sector returns and COVID-19 Cases on Phase-2 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","412499be":"avg_return = pd.DataFrame()\navg_return['Sector'] = sector_name\navg_return['Avg_Return'] = np.round(phase_3.mean().head(len(sector_name)).values, 3)\n\nfig = px.bar(avg_return, x='Sector', y='Avg_Return',\n             hover_name='Avg_Return', color='Avg_Return', text='Avg_Return',\n             height=600, title='Average Returns of each sector on Phase - 3 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","92b6eb93":"correlation_stock = phase_3.corr()['Cases'].head(-4)\ncorrelation_stock = np.round(correlation_stock, 3)\nfig = px.bar(correlation_stock, x=correlation_stock.index, y='Cases',\n             hover_name='Cases', color='Cases', text='Cases',\n             height=600, \n             title='Correlation Graph with each sector returns and COVID-19 Cases on Phase-3 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","98ccb452":"avg_return = pd.DataFrame()\navg_return['Sector'] = sector_name\navg_return['Avg_Return'] = np.round(phase_4.mean().head(len(sector_name)).values, 3)\n\nfig = px.bar(avg_return, x='Sector', y='Avg_Return',\n             hover_name='Avg_Return', color='Avg_Return', text='Avg_Return',\n             height=600, title='Average Returns of each sector on Phase - 4 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","d223c411":"correlation_stock = phase_4.corr()['Cases'].head(-4)\ncorrelation_stock = np.round(correlation_stock, 3)\nfig = px.bar(correlation_stock, x=correlation_stock.index, y='Cases',\n             hover_name='Cases', color='Cases', text='Cases',\n             height=600, \n             title='Correlation Graph with each sector returns and COVID-19 Cases Phase-4 of lockdown')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","06922187":"avg_return = pd.DataFrame()\navg_return['Sector'] = sector_name\navg_return['Avg_Return'] = np.round(phase_5.mean().head(len(sector_name)).values, 3)\n\nfig = px.bar(avg_return, x='Sector', y='Avg_Return',\n             hover_name='Avg_Return', color='Avg_Return', text='Avg_Return',\n             height=600, title='Average Returns of each sector on Phase - 5 of Unlock 1.0')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","764d6001":"correlation_stock = phase_5.corr()['Cases'].head(-4)\ncorrelation_stock = np.round(correlation_stock, 3)\nfig = px.bar(correlation_stock, x=correlation_stock.index, y='Cases',\n             hover_name='Cases', color='Cases', text='Cases',\n             height=600, \n             title='Correlation Graph with each sector returns and COVID-19 Cases on Phase-5 of Unlock 1.0')\nfig.update_traces(texttemplate='%{text:.s}', textposition='outside')\nfig.show()","9e90c68b":"# Before Lockdown\n\nOn 30th Jan, 2020 first corona case was recorded in India","3b436271":"# Phase - 1 of lockdown\n\n25 March 2020 \u2013 14 April 2020 (21 days)","649fb308":"# Phase - 2 of lockdown\n\n15 April 2020 \u2013 3 May 2020 (19 days)","a894aa97":"# Corona Cases vs Stock Market","ddc521bc":"    Data from John Hopkins University","2c0bbda9":"Is growing corona cases in India affects the Bombay Stock Exchange (BSE) Stock Market before and during lockdown? A detailed visualization report showcasing one of the factor i.e. corona cases impacting on stock market of 24 sectors in BSE.","e6675fff":"https:\/\/en.wikipedia.org\/wiki\/COVID-19_pandemic_lockdown_in_India","7b7362a0":"# Phase - 3 of lockdown\n\n4 May 2020 \u2013 17 May 2020 (14 days)","4abcd30f":"# Phase - 5: Unlock 1.0\n\n1 June 2020 \u2013 30 June 2020 (30 days)","a2370572":"# Phase - 4 of lockdown\n\n18 May 2020 \u2013 31 May 2020 (14 days)"}}