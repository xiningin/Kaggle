{"cell_type":{"431c2c10":"code","71f21974":"code","af33f26b":"code","92197df1":"code","7f8aacd2":"code","01695530":"code","480f5a57":"markdown","8838fa37":"markdown","dd39e334":"markdown","4d7e3e2a":"markdown","e4ede805":"markdown","e6c6d3d2":"markdown","a1db01f6":"markdown","94c5ddac":"markdown","85eb28c7":"markdown"},"source":{"431c2c10":"import pandas as pd\ntrain = pd.read_csv('\/kaggle\/input\/titanic\/train.csv', index_col=0)\ntest = pd.read_csv('\/kaggle\/input\/titanic\/test.csv', index_col=0)","71f21974":"\ndef agecat(age:float)->str:\n    if pd.isna(age):\n        return 'n\/a'\n    if age>1 and age\/\/1<age:\n        return 'predicted'\n    return 'normal'\ndef title(name:str)->str:\n    return name.split(', ')[1].split('.')[0]\ndef spticket(ticket:str)->bool:\n    return len(ticket.split())>1\ndef enrich(df):\n    df['title'] = df.Name.apply(title)\n    df['agecat'] = df.Age.apply(agecat)\n    df['spticket'] = df.Ticket.apply(spticket)\n    df['hascabin'] = df.Cabin.notna()\n    df['fam'] = df.Parch + df.SibSp\n    return df\nenrich(train)\nenrich(test)\ntrain.T","af33f26b":"train.title.unique()","92197df1":"train.groupby(['Sex', 'Survived']).size() * 100 \/ len(train)","7f8aacd2":"female = train[train.Sex=='female']\nfemale.groupby('fam').Survived.agg(['mean']) * 100","01695530":"def predict(passenger:pd.Series):\n    if passenger.Sex == 'male':\n        return 0\n    else:\n        return passenger.fam<=3\nanswer = [int(predict(test.iloc[i])) for i in range(len(test))]\nanswer = pd.DataFrame(answer, index=test.index, columns=['Survived'])\nanswer.to_csv('submission.csv')\nanswer","480f5a57":"The value shown above are in percentage.\nA lot of male died (52%). A lot of female survived (26%).\nHence by answering `male=died` and `female=survived` we can expect that it will be 52+26 = 78 percent correct.\n\nTo improve our score, there are two things that need to be done:\n1. Find the survived males (12%)\n2. Find the died females (9%)","8838fa37":"# Feature Extraction","dd39e334":"# Answering","4d7e3e2a":"When female's `fam`$\\leq3$, she has greater chance of surviving ($>77$%).\n\nBut if`fam`$\\gt3$, then the chance is dropping ($\\leq37.5$%).","e4ede805":"# data analysis","e6c6d3d2":"Based on the obsevations above, we'll use the following pseudocode:\n```python\nif male:\n    return 0\nif female:\n    if fam>3:\n        return 0\n    else:\n        return 1\n```","a1db01f6":"## 2. Find the died females (9%)","94c5ddac":"- Nothing significant\/interesting found so far. Only found some minor\/insignificant stuffs that deemed as overfit.","85eb28c7":"## 1. Find the survived males (12%)"}}