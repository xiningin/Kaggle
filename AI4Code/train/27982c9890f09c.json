{"cell_type":{"48bb3821":"code","09757cb0":"code","9c6681f3":"code","eb341121":"code","de9a1b32":"code","3be5e293":"code","80bcf625":"code","6d1f9a46":"code","1c3ce269":"code","628d70b8":"code","4690c699":"code","b7dc678b":"code","f927fc99":"code","9c2dbe61":"code","3acf8e0f":"code","29bdc5ae":"markdown","7f950ca5":"markdown","6032eea5":"markdown","49e4b0da":"markdown","447521b9":"markdown","25c402a6":"markdown","63bafba6":"markdown","4f24c4e3":"markdown"},"source":{"48bb3821":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","09757cb0":"pd.set_option('display.max_columns', 200)","9c6681f3":"#df = pd.read_csv('accidents-rio-niteroi-bridge.csv')\ndf = pd.read_csv('\/kaggle\/input\/accidents-rio-niteroi-bridge\/accidents-rio-niteroi-bridge.csv')\ndf.head()","eb341121":"df['data'] = df['data_inversa'] + ' ' + df['horario']","de9a1b32":"# unnecessary\ndf = df.drop(['data_inversa', 'horario', 'dia_semana', 'ano'], axis=1)","3be5e293":"df['data'] = pd.to_datetime(df['data'], format='%Y-%m-%d %H')\ndf = df.reindex(df['data'].sort_values().index)\ndf.reset_index(drop=True, inplace=True)\ndf.head()","80bcf625":"df['data'][9366] - df['data'][0]","6d1f9a46":"df['data'].dt.day_name().value_counts()","1c3ce269":"per_day = df['data'].dt.day_name().value_counts().sort_values()\nsns.barplot(per_day.index, per_day.values, palette=sns.cubehelix_palette(len(per_day.values)))\nplt.xticks(rotation=60, ha='center')\nplt.title('Days with more accidents on the rio-niter\u00f3i bridge \\n 2007-2020')\n\nplt.ylabel('Days')\nplt.show()","628d70b8":"per_year = df['data'].dt.year.value_counts().sort_index()","4690c699":"per_year","b7dc678b":"plt.plot(per_year.index, per_year.values, color='green', linewidth=5)\nplt.title('Accidents per year on the rio-niter\u00f3i bridge')\nplt.xticks()\nplt.show()","f927fc99":"print('Accident reduction on the rio-niter\u00f3i bridge:')\nprint()\nfor v in range(2008, 2021):\n    print(f'{v}: {round(100 - (per_year[v] * 100\/per_year[v-1]))}%')","9c2dbe61":"plt.figure(figsize=(10, 5))\nby_m = df['data'].dt.month_name().value_counts()\nnew_order = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\nby_m = by_m.reindex(new_order, axis=0,)\nby_m.plot(c='red', style='-o')\n\nplt.xticks(rotation=60, ha='center')\nplt.title('Number of accidents per month on the rio-niter\u00f3i bridge \\n 2007-2020')\nplt.ylabel('Number of accidents')\n\nplt.grid()\nplt.show()","3acf8e0f":"per_hour = df['data'].dt.hour.value_counts().sort_index().plot.bar()\n\nplt.title('Most frequent hours of accidents on the rio-niter\u00f3i bridge \\n 2007-2020')\nplt.ylabel('Number of accidents')\nplt.xlabel('Hours')\n\nplt.show()","29bdc5ae":"### Per hours","7f950ca5":"# My beginner analysis","6032eea5":"### Per month","49e4b0da":"## Frequency of accidents on the rio niter\u00f3i bridge","447521b9":"### Per year","25c402a6":"## Conclusions\n- More accidents occur on weekends\n- The number of accidents has decreased significantly since 2014, a reduction of approximately 61% in 2016\n- In the months of February and December there are more accidents, I believe it is due to Carnival and Christmas\n- At 18:00 hours more accidents occurred on the bridge","63bafba6":"### Per day","4f24c4e3":"## Clearing the data\nI prefer to use only one column containing a timeseries with date and time"}}