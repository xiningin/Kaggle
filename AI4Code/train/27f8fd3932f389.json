{"cell_type":{"fb63d774":"code","047b1b4a":"code","7c34c860":"code","a28f8e3e":"code","451caff3":"code","7da04c88":"code","e1f4f2ca":"code","ad9eb57a":"code","e9438946":"code","e31a5855":"code","66c30c15":"markdown","aab7a5f9":"markdown","f408f2a7":"markdown","f3aa3e47":"markdown","ce625c64":"markdown","a602155d":"markdown","7df11912":"markdown","e90df3b2":"markdown","68526d7e":"markdown"},"source":{"fb63d774":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport matplotlib as matplot\nimport seaborn as sns\n%matplotlib inline\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","047b1b4a":"school_data = pd.read_csv(\"..\/input\/2016 School Explorer.csv\")\n\n# The column School Income Estimate is converted to Float Data type by removing $ and ,\n\nschool_data['School Income Estimate'] = school_data['School Income Estimate'].str.replace(',', '')\nschool_data['School Income Estimate'] = school_data['School Income Estimate'].str.replace('$', '')\nschool_data['School Income Estimate'] = school_data['School Income Estimate'].str.replace(' ', '')\nschool_data['School Income Estimate'] = school_data['School Income Estimate'].astype(float)","7c34c860":"def percent_to_int(df_in):\n    for col in df_in.columns.values:\n        if col.startswith(\"Percent\") or col.endswith(\"%\") or col.endswith(\"Rate\"):\n            df_in[col] = df_in[col].astype(np.object).str.replace('%', '').astype(float)\n    return df_in\n\nschool_data = percent_to_int(school_data)\n","a28f8e3e":"\n\nschool_count = school_data.pivot_table(index = 'City', values = 'School Name' ,aggfunc = 'count')\n\n\n\ntop_cities_school = school_count['School Name'].sort_values(ascending=False).iloc[:5]\n\n# Plotting the top five count of schools in a bar graph\n\ntop_cities_school.plot.bar()\n\n","451caff3":"\n\nschool_top_count = school_data.groupby('City')['School Name'].count().reset_index()\n\nschool_top_count = school_top_count.sort_values('School Name',ascending=False)\n\nschool_top_count=pd.DataFrame(school_top_count)\n\ncity = school_data.groupby('City')['Zip'].count().reset_index()\n\ncity = city.sort_values('Zip',ascending=False)\n\ncity=pd.DataFrame(city)\n\nschool_city_count =pd.merge(city,school_top_count,how='left', on='City')\n\ntop_5_cities = school_city_count.sort_values('School Name',ascending=False).iloc[:5,0]\n\ntop_5_data = school_data[school_data.City.isin(top_5_cities)]\n\ntop_5_data\n\n\nsns.boxplot( x='School Income Estimate', y='City',data=top_5_data)\n\nplt.title(\"Average School Income Estimate of the Top 5 Districts\")\n\nplt.xlabel(\"School Income Estimate\")\n\nplt.ylabel(\"District Name\")\n\nplt.show();","7da04c88":"\n\nfeatures_list = ['Student Attendance Rate','Rigorous Instruction %',\n'Collaborative Teachers %',\n'Supportive Environment %',\n'Effective School Leadership %',\n'Strong Family-Community Ties %',\n'Trust %']\n\n","e1f4f2ca":"top_5_data[ features_list ].corr()\n\n\n\nplt.figure(figsize=(12, 10))\n\n\nsns.heatmap(top_5_data[ features_list ].corr(), cmap='YlGnBu')\n","ad9eb57a":"f,ax=plt.subplots(figsize=(6,6))\nax=plt.subplot(111)\nsns.boxplot(y='School Income Estimate',x=\"Community School?\",data=school_data,palette=\"Set1\")\nax.set_title(\"School Incom Estimate vs. Community School?\",size=15)\nplt.show()","e9438946":"features_list = ['School Income Estimate',\n                 'Economic Need Index',\n 'Percent ELL',\n 'Percent Asian',\n 'Percent Black',\n 'Percent Hispanic',\n 'Percent Black \/ Hispanic',\n 'Percent White',\n 'Student Attendance Rate',\n 'Percent of Students Chronically Absent',\n 'Rigorous Instruction %',\n 'Collaborative Teachers %',\n 'Supportive Environment %',\n 'Effective School Leadership %',\n 'Strong Family-Community Ties %',\n 'Trust %']\n\ntmp =school_data[features_list]","e31a5855":"corrmat = tmp.corr()\nf, ax = plt.subplots(figsize = (25, 5))\nsns.heatmap(pd.DataFrame(corrmat.loc['School Income Estimate',:]).T, square=True, linewidths=.5, annot=True)\nax.xaxis.tick_top()\nax.set_xticklabels(ax.get_xticklabels(), rotation=90)\nplt.show()","66c30c15":"*The above boxplot indicates that STATEN ISLAND district has an average income of 72000 USD compared to the Top 5 Districts with most number of schools *","aab7a5f9":"**Question 3**\n\n**What is the relationship between Students Attendance rate and ( Collaborative Teachers,'Rigorous Instruction %',Supportive Environment %,Effective School Leadership %,Strong Family-Community Ties %,Trust %)**","f408f2a7":"*From the heatmap we can see that school income is highly relevant to \"Percent white\".*\n\n*Other variables are irrelelavent in determining the School Income Estimate*","f3aa3e47":"*The Student Attendance rate doesnt have any correlation with other features like  'Rigorous Instruction %',Collaborative Teachers %, Supportive Environment%, Effective School Leadership %,Strong Family-Community Ties %,Trust %*\n\n*But there exists some correlation between \n     Trust and Collaborative Teachers %\n     Trust and Effective School Leadership %\n     Effective School Leadership % and Collaborative Teachers %*\n","ce625c64":"** Average School Income Estimate of the Top 5 Districts**","a602155d":"**Question 4**\n\n **Is there any relationship between School Income Estimate and Community School?**","7df11912":"**Question 5**\n\n**What are the factors that impact the income of the School (Both community and Non Community)**\n","e90df3b2":"** Question 1 **\n **How many number of Schools  are there in every cities**\n\n **Find the top 5 districts  which has more number of schools**","68526d7e":" *From the above box plot it is evident that \n            * Non-community schools have a high income than the community schools*"}}