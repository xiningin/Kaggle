{"cell_type":{"f3c97f9d":"code","375c7710":"code","b26d46b0":"code","320fc83b":"code","5df693fe":"code","fe56b0de":"code","315f4b5f":"code","a6c4ae54":"code","6aed83b4":"code","11262411":"code","5764bf46":"code","ef70d541":"code","64ec611f":"code","f6686b29":"code","dce5fde1":"code","ca4b2658":"code","aa19cf7b":"code","3aa2085e":"code","c722763c":"markdown","1c9f17d9":"markdown","2fa08649":"markdown","7315bc4c":"markdown","6b0a9532":"markdown"},"source":{"f3c97f9d":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","375c7710":"data=pd.read_csv('\/kaggle\/input\/speed-dating-experiment\/Speed Dating Data.csv', encoding= 'unicode_escape')","b26d46b0":"fields = data.columns\n\nprint('Total number of people that participated, assuming person does not appear in more than one wave: {}'.format(len(data['iid'].unique())))\nprint('Total number of dates occurred: {}'.format(len(data.index)))","320fc83b":"data.head()","5df693fe":"pd.options.display.max_columns = None\n\ndata.rename(columns={\"gender\": \"Gender\", \n                     \"condtn\":\"Condition\",\n                     \"mn_sat\":\"median_sat\",\n                     \"age_o\":\"age of partner\",\n                     \"race_o\":\"race of partner\",\n                     \"pf_o_att\":\"partner stated preference\",\n                     \"dec_o\":\"partner's decision\",\n                     \"attr_o\":\"partner rating of attributes\",\n                     \"imprace\":\"race importance\",\n                     \"imprelig\":\"religion importance\",\n                     \"from\":\"originally from\",\n                     \"date\":\"frequency of date\"}, inplace=True)\n\nrace_replacement={1:\"Black\/African American\",\n                 2: \"European\/Caucasion-American\",\n                 3: \"Latino\/Hispanic American\",\n                 4: \"Asian\/Pacific Islander\/Asian-American\",\n                 5: \"Native American\",\n                 6: \"Other\"}\n\nfield_replacement={1:\"Law\",\n                   2:\"Math\",\n                   3:\"Social Science, Psychologist\",\n                   4:\"Medican Science, Pharmaceuticals, and Bio Tech\",\n                   5:\"Engineering\",\n                   6:\"English\/Creative Writing \/ Journalism\",\n                   7:\"History\/ Religion\/ Philosophy\",\n                   8:\"Business\/Econ\/Finance\",\n                   9:\"Education, Academia\",\n                   10:\"Biological Sciences \/ Chemistry\/ Physics\",\n                   11:\"Social Work\",\n                   12:\"Undergrad\/undecided\",\n                   13:\"Political Science\/ International Affairs\",\n                   14:\"Film\",\n                   15:\"Fine Arts \/ Arts Administration\",\n                   16:\"Languages\",\n                   17:\"Architecture\",\n                   18:\"Other\"}\n\ncareer_replacement={1: \"Lawyer\",\n                   2:  \"Academic \/ Research\",\n                   3:  \"Psychologist\",\n                   4:  \"Doctor\/Medicine\",\n                   5:  \"Engineer\",\n                   6:  \"Creative Arts\/ Entertainment\",\n                   7:  \"Banking \/ Consulting \/Finance \/ Marketing\/ Business \/CEO\/ Entrepreneur \/ Admin\",\n                   8:  \"Real Estate\",\n                   9:  \"International \/Humanitarian Affairs\",\n                   10:  \"Undecided\",\n                   11:  \"Social Work\",\n                   12:  \"Speech Pathology\",\n                   13:  \"Politics\",\n                   14:  \"Pro Sports \/ Athletics\",\n                   15:  \"Other\",\n                   16:  \"Journalism\",\n                   17:  \"Architecture\"}\n\ndecision_replacement={1:\"Yes\", 0:\"No\"}\nlength_replacement={1:\"Too little\",\n                   2: \"Too much\",\n                   3: \"Just Right\"}\ngoal_replacement={1:\"Seemed like a fan night out\",\n                 2: \"To meet new people\",\n                 3: \"To get a date\",\n                 4:\"Looking for serious relationship\",\n                 5:\"To say I did it\",\n                 6: \"Other\"}\nfrequency_replacement={1:\"Several times a week\",\n                      2: \"Twice a week\",\n                      3: \"Once a week\",\n                      4: \"Twice a month\",\n                      5: \"Once a month\",\n                      6: \"Several times a year\",\n                      7: \"Almost never\"}\n\n","fe56b0de":"data.head()","315f4b5f":"data[\"Gender\"].replace({0:\"Female\",1:\"Male\"}, inplace=True)\ndata[\"Condition\"].replace({1:\"Limited choice\", 2:\"Extensive choice\"}, inplace=True)\ndata[\"match\"].replace({1:\"Yes\",0:\"No\"}, inplace=True)\ndata[\"samerace\"].replace({1:\"Yes\",0:\"No\"},inplace=True)\ndata[\"race of partner\"].replace(race_replacement, inplace=True)\ndata[\"partner's decision\"].replace(decision_replacement, inplace=True)\ndata[\"field_cd\"].replace(field_replacement, inplace=True)\ndata[\"race\"].replace(race_replacement, inplace=True)\ndata[\"career_c\"].replace(career_replacement, inplace=True)\ndata[\"length\"].replace(length_replacement, inplace=True)\ndata[\"numdat_2\"].replace({1:\"Too few\", 2: \"Too many\", 3: \"Just Right\"}, inplace=True)\ndata[\"date_3\"].replace({1:\"Yes\", 2:\"No\", 0:np.nan}, inplace=True)\ndata[\"goal\"].replace(goal_replacement, inplace=True)\ndata[\"frequency of date\"].replace(frequency_replacement, inplace=True)\ndata[\"go_out\"].replace(frequency_replacement, inplace=True)\n\ndisplay(data)","a6c4ae54":"def missing_values(df):\n    missing=pd.DataFrame(df.isnull().sum()\/len(data))*100\n    missing.columns = ['missing_values(%)']\n    missing['missing_values(numbers)'] = pd.DataFrame(df.isnull().sum())\n    return missing.sort_values(by='missing_values(%)', ascending=False)\nmissing_values(data)","6aed83b4":"print(data.columns.tolist())","11262411":"fig, axes = plt.subplots(1, 2, figsize=(17,5))\n\n# The number of dates per person\nnum_dates_per_male = data[data.Gender == 'Male'].groupby('iid').apply(len)\nnum_dates_per_female = data[data.Gender == 'Female'].groupby('iid').apply(len)\naxes[0].hist(num_dates_per_male, bins=22, alpha=0.5, label='# dates per male')\naxes[0].hist(num_dates_per_female, bins=22, alpha=0.5, label='# dates per female')\n# axes[0].suptitle('Number of dates per male\/female')\naxes[0].legend(loc='upper right')\n\n# The number of matches per person\nmatches = data[data.match == \"Yes\"]\nmatches_male = matches[matches.Gender == 'Male'].groupby('iid').apply(len)\nmatches_female = matches[matches.Gender == 'Female'].groupby('iid').apply(len)\naxes[1].hist((matches_male \/ num_dates_per_male).dropna(), alpha=0.5, label='male match percentage')\naxes[1].hist((matches_female \/ num_dates_per_female).dropna(), alpha=0.5, label='female match percentage')\naxes[1].legend(loc='upper right')\n# axes[1].suptitle('Matches per person by gender')\n\nprint('Avg. dates per male: {0:.1f}\\t\\tAvg. dates per female: {1:.1f}\\nAvg. male match percentage: {2:.1f}\\tAvg. female match percentage: {3:.1f}'.format(\n        num_dates_per_male.mean(), \n        num_dates_per_female.mean(),\n        (matches_male \/ num_dates_per_male).mean() * 100.0,\n        (matches_female \/ num_dates_per_female).mean() * 100.0))","5764bf46":"fig, (ax1, ax2)=plt.subplots(ncols=2, figsize=[12,8])\nsns.countplot(data=data, hue =\"Gender\", x=\"dec\", ax=ax1).set_title(\"Female and Male saying No and Yes\");\nsns.countplot(data=data, hue =\"race\", x=\"dec\", ax=ax2).set_title(\"People with different ethnicity saying yes and no to their matches\");","ef70d541":"cor=data.corr(method=\"spearman\")\ncorr_target=abs(cor[\"partner rating of attributes\"])\ncorr_target[corr_target>=0.50]","64ec611f":"sns.jointplot(y=\"partner rating of attributes\", x=\"fun_o\", data=data);","f6686b29":"sns.jointplot(y=\"partner rating of attributes\", x=\"like_o\", data=data, );","dce5fde1":"(\ndata\n    .groupby([\"race\"])\n    [[\"match\", \"iid\"]]\n   .count()\n    .sort_values(\"match\", ascending=False)\n    .head(100)\n).plot.pie(y=\"iid\", autopct='%1.0f%%')","ca4b2658":"(\ndata\n    .groupby([\"field\", \"wave\"])\n    [[\"match\"]]\n   .count()\n    .sort_values(\"match\", ascending=False)\n    .head(100)\n)","aa19cf7b":"(data\n .groupby(\"race importance\")\n .size()\n).plot.pie(y=\"iid\",autopct='%1.0f%%')\n","3aa2085e":"(data\n.groupby(\"them_cal\")\n .count()\n).plot.pie(y=\"iid\", autopct='%1.0f%%')","c722763c":"Race importance","1c9f17d9":"Race importance","2fa08649":"Conclusion:\n\n* 50% of participants did not receive calls from their matchers, 27% received only 1 call\n* 62% of participants did not get any dates from the experiments\n\n* Those who go out frequently got more matches\n* 25% of people who go on a date twice a month, or several times a year got more matches\n* People who had a goal to have a fan night out and meet new people got the most of the matches\n* Religion and Race are not so important for matching","7315bc4c":"[Call](http:\/\/)","6b0a9532":"Position importance"}}