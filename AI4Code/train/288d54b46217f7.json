{"cell_type":{"589d3e80":"code","b795975e":"code","aff73665":"code","19d35372":"code","06ae000b":"code","fd24e0a4":"code","04e9f4d2":"code","6308ee53":"markdown"},"source":{"589d3e80":"import pandas as pd\nfrom matplotlib import pyplot as plt\nimport numpy as np\nimport seaborn as sns","b795975e":"file_name = \"COVID19_2020_open_line_list.xlsx\"\nroot_folder = \"\/kaggle\/input\/covid19-open-access-data\/\"\n\ndata_ex = pd.read_excel(\n    root_folder + file_name,\n    sheet_name=\"outside_Hubei\",\n    index_col=\"ID\",\n    usecols=range(33) # there are a couple of empty columns in the back\n)\n\ndata_in = pd.read_excel(\n    root_folder + file_name,\n    sheet_name=\"Hubei\",\n    index_col=\"ID\",\n    usecols=range(32) # there are a couple of empty columns in the back\n)","aff73665":"bounding_box = (\n    np.floor(data_ex.longitude.min()),\n    np.ceil(data_ex.longitude.max()),\n    np.floor(data_ex.latitude.min()),\n    np.ceil(data_ex.latitude.max())\n)\n\nbounding_box = (-180, 180, -90, 90)","19d35372":"plt.figure(figsize=(20,16))\n\nplt.scatter(\n    data_ex.longitude,\n    data_ex.latitude,\n    marker=\"o\",\n    zorder=1,\n    c=\"r\",\n    alpha=0.6,\n    s=50\n)\n\nplt.xlim(bounding_box[0], bounding_box[1])\nplt.ylim(bounding_box[2], bounding_box[3])\n\nplt.imshow(\n    plt.imread('\/kaggle\/input\/covid19-open-access-data\/map.png'),\n    zorder=0,\n    extent=bounding_box,\n    aspect='equal',\n    alpha=0.5\n)\n\nplt.title('Plotting Spatial data about COVID-19')\nplt.legend(loc=0)\n\nplt.show()","06ae000b":"country = data_ex.country.value_counts()\nlat = data_ex.groupby(by=\"country\")[\"latitude\"].mean()\nlon = data_ex.groupby(by=\"country\")[\"longitude\"].mean()\ndata_agg_countra = pd.DataFrame(country).merge(lat, left_index=True, right_index=True).merge(lon,  left_index=True, right_index=True)","fd24e0a4":"plt.figure(figsize=(20,16))\n                                                                                                                                                          \nplt.scatter(\n    data_agg_countra.longitude,\n    data_agg_countra.latitude,\n    marker=\"o\",\n    zorder=1,\n    c=\"r\",\n    alpha=0.6,\n    s=data_agg_countra.country\n)\n\nplt.xlim(bounding_box[0], bounding_box[1])\nplt.ylim(bounding_box[2], bounding_box[3])\n\nplt.imshow(\n    plt.imread('\/kaggle\/input\/covid19-open-access-data\/map.png'),\n    zorder=0,\n    extent=bounding_box,\n    aspect='equal',\n    alpha=0.5\n)\n\nplt.title('Plotting Spatial data about COVID-19')\n\nplt.show()","04e9f4d2":"plt.figure(figsize=(20,8))\n\nn = 20\n\nplt.barh(\n    width=data_ex.country.value_counts().head(n).sort_values(ascending=True),\n    y=data_ex.country.value_counts().head(n).sort_values(ascending=True).index,\n    color=\"k\"\n)\nplt.title(f\"Top {n} countries in COVID-19 infections\")\nplt.xlabel(\"number of infections\")\nplt.ylabel(\"country\")\nplt.show()","6308ee53":"## Geo Visualization\n\nExport an image of the below bounding box from [open streetmap](https:\/\/render.openstreetmap.org\/cgi-bin\/export?bbox=-125,-42,154,70&scale=150000000&format=png) (timeout because of map size). I therefore provided a [Wikimedia map](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/b\/b0\/World_location_map_%28equirectangular_180%29.svg) with the dataset (`map.png`). That is why I redefined the first bounding-box below (with the propper values of the provided image)."}}