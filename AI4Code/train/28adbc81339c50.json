{"cell_type":{"b575cc51":"code","2741ee9c":"code","bc8bb1fd":"code","ece4c5b6":"code","e3f8a030":"code","769ac2b4":"code","de14f8ef":"code","c39d3d4b":"code","a1ecfc92":"code","f1d19378":"code","516f82e6":"code","028a9f66":"code","836d5eb6":"code","95f46502":"code","0b0d66a7":"code","d7ed5d00":"code","acd6c429":"code","78e600a6":"code","9526c5da":"code","7a6b74f6":"code","cf44205f":"code","7f8be7e1":"code","458ce4b9":"code","2836cd38":"code","b0ca6d22":"code","6a533b93":"code","0df19826":"code","c857e50c":"code","3e9b3030":"code","2319d4cd":"code","e053ac0a":"code","eaf4566b":"code","ed7d7262":"code","70e05256":"code","409d9437":"code","02a96e32":"code","a9bc4910":"code","214223e0":"code","2a93ef5b":"code","758e0ccb":"code","6031c927":"code","6dd471c9":"code","74a82dbd":"code","52b5698a":"code","e63345f5":"code","6c5e8b7b":"code","cb2ea42e":"code","c900a472":"code","249f3862":"code","1fcc0e1b":"code","0ddf76c1":"code","107b3fac":"code","6f95a6fd":"code","b72a96a4":"code","296bf671":"code","673301cb":"code","db27e640":"code","7e2ea81a":"code","5a515164":"code","fda44702":"code","744218f0":"code","fde2b45f":"code","c3d9e93a":"code","69c59bc5":"code","c9ea1ebd":"code","d55ed471":"code","1d6a3a76":"code","0e688524":"code","9f5f044e":"code","3b2a22e3":"code","2e980592":"code","680259df":"code","95f5beff":"code","a61eccc8":"code","697feae7":"code","558519b0":"code","91ff272d":"code","8ed9957f":"code","ecf7bcce":"code","1b9ff900":"code","a46a5066":"code","11644941":"code","ee0e2389":"code","d24e2922":"code","696e8c69":"code","5274fba6":"code","2e2ecdbe":"code","9782d4cf":"code","d9f60bbd":"code","7e039bc0":"code","1deda20f":"code","5977b771":"code","2a25ed50":"code","795ac880":"code","cdc57795":"code","e41413ac":"code","dcb3b110":"code","7e84329d":"code","8885071b":"code","c43b7486":"code","6963cfb8":"code","3c6bdf98":"code","eb069ecd":"code","740aa123":"code","ee743b24":"code","f3d87dc7":"code","afa44255":"code","3864926a":"code","c619194e":"code","eef24e17":"code","13651f9f":"code","84eb4b89":"code","3d6fa4da":"code","53cb71d6":"code","94b7e32d":"code","2bd4980f":"code","58619e3b":"code","37f23d50":"code","188f246e":"code","ac6d2964":"code","257d69f4":"code","a39bd434":"code","d735fdd5":"code","e3b1ba0a":"code","c1097708":"code","8d1f3da7":"code","92500a2e":"code","e5e575fb":"code","c20fffed":"code","323935c1":"code","b06d24ee":"code","13bb4837":"code","8da1dcbb":"code","01a39771":"code","2a2f8668":"code","b912f7fd":"code","d5ddb98c":"code","75069f3f":"code","b62e4afe":"code","9c8a74fe":"code","3f949d52":"code","233698fb":"code","76d9c5f7":"code","f1235aa4":"code","8c40483a":"code","771d3e0d":"code","72ac0cae":"markdown","e46d20ec":"markdown","ade3562f":"markdown","8189d0e9":"markdown","5e2c9dcc":"markdown","3b0ef202":"markdown","d83596d0":"markdown","b3c59839":"markdown","c7d90108":"markdown","3815d3bb":"markdown","de3c4878":"markdown","306fac63":"markdown","9fdb4532":"markdown","abc736cb":"markdown","8b11d85a":"markdown","ee60c8d6":"markdown","57bbc508":"markdown","90ba9413":"markdown","89bdf395":"markdown","a20d9967":"markdown","5b622737":"markdown","2da3ea62":"markdown","41cbf929":"markdown","a5800712":"markdown","61d18a3c":"markdown","c2adf2bb":"markdown","9280225a":"markdown","b983ed68":"markdown","73274bae":"markdown","f79a4f7a":"markdown","69fedae0":"markdown","5c9de225":"markdown","ab538ed8":"markdown","d67edaa2":"markdown","edf334f6":"markdown","b3b8c251":"markdown","18612693":"markdown","ed3eee38":"markdown","dbae175e":"markdown","babb25e9":"markdown","40ea3e9e":"markdown","dc03a02e":"markdown","f26cc282":"markdown","46acc0b8":"markdown","28e7ddad":"markdown","73399f88":"markdown","9c312eaf":"markdown","94133719":"markdown","bd39e24c":"markdown","383b254e":"markdown","2e2af8e5":"markdown","0e92c519":"markdown","0704c3fd":"markdown","ccae34cd":"markdown","cec1f580":"markdown","b86c931d":"markdown","3701e57e":"markdown","cf2ebd0b":"markdown","388681fc":"markdown","4ac29832":"markdown","2e94220b":"markdown","4d2afd1f":"markdown","e8014656":"markdown","0c6103ff":"markdown","bd7c4357":"markdown","f8da7d6c":"markdown","db80a130":"markdown","6ed88c37":"markdown","c136c5c4":"markdown","c8972b08":"markdown","67c6f50d":"markdown","42a857f5":"markdown","0cc0a3e3":"markdown","75de8509":"markdown","f23dc9ee":"markdown","d4ef507e":"markdown","c60f4e13":"markdown","eb121036":"markdown","039c7e1b":"markdown","f96def4d":"markdown","1b61d937":"markdown","2aa65774":"markdown","a8c17ac1":"markdown","eceb3475":"markdown","e40f8c48":"markdown","e88896c2":"markdown","0c6ec790":"markdown","1fab1403":"markdown","d589a45a":"markdown","74fb5c67":"markdown","36e5bb34":"markdown","0d288616":"markdown","6acbd817":"markdown","fdf9e5fa":"markdown","99036452":"markdown","71936bcd":"markdown","0f8b552f":"markdown","35168a2a":"markdown","7bbeb9fd":"markdown","a6893657":"markdown","3297eaa7":"markdown","45714804":"markdown","457e9fbc":"markdown","20b1274e":"markdown","213223b2":"markdown","b8de64dc":"markdown","7759fc2b":"markdown","5e5a496a":"markdown","497c3e42":"markdown","6989f1c1":"markdown","09369c7a":"markdown"},"source":{"b575cc51":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","2741ee9c":"\npd.set_option('display.max_rows', None)\npd.set_option('display.max_columns', None)\npd.set_option('display.max_colwidth', None)","bc8bb1fd":"# here will be all necessary imports and my functions\n\nimport seaborn as sns\nimport matplotlib.pylab as plt\nimport sklearn\nimport xgboost as xgb\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import MinMaxScaler, RobustScaler, OneHotEncoder\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom statsmodels.stats.outliers_influence import variance_inflation_factor \nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn import decomposition\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.metrics import make_scorer\nfrom sklearn.ensemble import AdaBoostRegressor\nfrom sklearn.tree import DecisionTreeRegressor\nfrom eli5.sklearn import PermutationImportance\nfrom sklearn.neighbors import KNeighborsRegressor\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.linear_model import LinearRegression, Lasso, Ridge, ElasticNet,LassoCV\nfrom sklearn.model_selection import cross_val_score,KFold\nfrom sklearn.ensemble import ExtraTreesRegressor\nfrom sklearn.pipeline import Pipeline, make_pipeline, FeatureUnion\nfrom sklearn.compose import ColumnTransformer, make_column_selector\nfrom sklearn.impute import SimpleImputer, KNNImputer\nfrom sklearn.feature_selection import SelectKBest, chi2, f_classif,mutual_info_regression,f_regression,GenericUnivariateSelect,SelectFromModel,SelectPercentile\nimport optuna\nfrom sklearn.svm import LinearSVC\nfrom statsmodels.stats.outliers_influence import variance_inflation_factor\n\n\n\nrandom_state=123\n\n\n\nimport math\n\n\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\n# simple function to delete outliers in column\ndef delete_outliers(data,column, column_to_group):\n    u_list=data[column_to_group].unique()\n    \n    for u in u_list:\n        q_25=np.percentile(data[data[column_to_group]==u][column],25)\n        q_75=np.percentile(data[data[column_to_group]==u][column],75)  \n        iqr=q_75-q_25 \n        min=q_25-1.5*iqr\n        max=q_75+1.5*iqr \n        data=data.drop(data[(data[column]<min)&(data[column_to_group]==u)].index)   \n        data=data.drop(data[(data[column]>max)&(data[column_to_group]==u)].index)         \n        \n    return data\n\n# correlation matrix\ndef correlation_matrix(data,cols_to_check):\n    corr_matrix=data.loc[:,cols_to_check].corr()\n    return round(corr_matrix,3)\n\n# delete columns where % of quantity of Nans is more than trh\ndef columns_to_delete(df, trh):\n    col_to_del=[]\n    for c in df.columns:\n        if (df[c].isna().sum()\/len(df[c]))>trh:\n            col_to_del.append(c)\n    return col_to_del\n        ","ece4c5b6":"houses_df=pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/train.csv')\ntest_df=pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/test.csv')\ntest_df['SalePrice']=0","e3f8a030":"houses_df.info()","769ac2b4":"cols_to_del=columns_to_delete(houses_df, 0.5)","de14f8ef":"cols_to_del","c39d3d4b":"houses_df=houses_df.drop(cols_to_del, axis=1)\ntest_df=test_df.drop(cols_to_del, axis=1)","a1ecfc92":"houses_df=houses_df.drop('Id', axis=1)\ntest_df=test_df.drop('Id', axis=1)","f1d19378":"ms_sub_class_dict={\n        20:'1-STORY 1946 & NEWER ALL STYLES',\n        30:'1-STORY 1945 & OLDER',\n        40:'1-STORY W\/FINISHED ATTIC ALL AGES',\n        45:'1-1\/2 STORY - UNFINISHED ALL AGES',\n        50:'1-1\/2 STORY FINISHED ALL AGES',\n        60:'2-STORY 1946 & NEWER',\n        70:'2-STORY 1945 & OLDER',\n        75:'2-1\/2 STORY ALL AGES',\n        80:'SPLIT OR MULTI-LEVEL',\n        85:'SPLIT FOYER',\n        90:'DUPLEX - ALL STYLES AND AGES',\n       120:'1-STORY PUD (Planned Unit Development) - 1946 & NEWER',\n       150:'1-1\/2 STORY PUD - ALL AGES',\n       160:'2-STORY PUD - 1946 & NEWER',\n       180:'PUD - MULTILEVEL - INCL SPLIT LEV\/FOYER',\n       190:'2 FAMILY CONVERSION - ALL STYLES AND AGES'\n    }","516f82e6":"ms_sub_class_st={\n        20:'1-STORY',\n        30:'1-STORY',\n        40:'1-STORY',\n        45:'1-1\/2 STORY',\n        50:'1-1\/2 STORY',\n        60:'2-STORY',\n        70:'2-STORY',\n        75:'2-1\/2',\n        80:'SPLIT OR MULTI-LEVEL',\n        85:'SPLIT FOYER',\n        90:'DUPLEX',\n       120:'1-STORY PUD (Planned Unit Development)',\n       150:'1-1\/2 STORY PUD',\n       160:'2-STORY PUD',\n       180:'PUDR',\n       190:'2 FAMILY CONVERSION'\n    }\n\nms_sub_class_age_type={\n        20:'1946 & NEWER',\n        30:'1945 & OLDER',\n        40:'ALL AGES',\n        45:'ALL AGES',\n        50:'ALL AGES',\n        60:'1946 & NEWER',\n        70:'1945 & OLDER',\n        75:'ALL AGES',\n        80:'ALL AGES',\n        85:'ALL AGES',\n        90:'ALL AGES',\n       120:'1946 & NEWER',\n       150:'ALL AGES',\n       160:'1946 & NEWER',\n       180:'ALL AGES',\n       190:'ALL AGES'\n    }","028a9f66":"houses_df['AgeType'] = houses_df[\"MSSubClass\"].map(ms_sub_class_age_type)\nhouses_df['StoreType'] = houses_df[\"MSSubClass\"].map(ms_sub_class_st)\nhouses_df['MSSubClassDesc']=houses_df[\"MSSubClass\"].map(ms_sub_class_dict)","836d5eb6":"test_df['AgeType'] = test_df[\"MSSubClass\"].map(ms_sub_class_age_type)\ntest_df['StoreType'] = test_df[\"MSSubClass\"].map(ms_sub_class_st)\ntest_df['MSSubClassDesc']=test_df[\"MSSubClass\"].map(ms_sub_class_dict)","95f46502":"houses_df.info()","0b0d66a7":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='MSSubClassDesc', x='SalePrice');\nax.set_title('SalePrice and MSSubClass');\nplt.xticks(rotation=90);","d7ed5d00":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='StoreType', x='SalePrice');\nax.set_title('SalePrice and Storey');\nplt.xticks(rotation=90);","acd6c429":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='AgeType', x='SalePrice');\nax.set_title('SalePrice and AgeType');\nplt.xticks(rotation=90);","78e600a6":"houses_df=houses_df.drop('MSSubClass', axis=1)\ntest_df=test_df.drop('MSSubClass', axis=1)","9526c5da":"ms_zoning_dict={\n           'A':'Agriculture',\n       'C':'Commercial',\n       'FV':'Floating Village Residential',\n       'I':'Industrial',\n       'RH':'Residential High Density',\n       'RL':'Residential Low Density',\n       'RP':'Residential Low Density Park' ,\n       'RM':'Residential Medium Density',\n    \n}","7a6b74f6":"houses_df['MSZoningDesc']=houses_df[\"MSZoning\"].map(ms_zoning_dict)\ntest_df['MSZoningDesc']=test_df[\"MSZoning\"].map(ms_zoning_dict)","cf44205f":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='MSZoningDesc', x='SalePrice');\nax.set_title('SalePrice and MSZoning');\nplt.xticks(rotation=90);","7f8be7e1":"houses_df=houses_df.drop('MSZoning', axis=1)\ntest_df=test_df.drop('MSZoning', axis=1)","458ce4b9":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='LotFrontage');\nax.set_title('SalePrice and LotFrontage');\nplt.xticks(rotation=90);","2836cd38":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='LotArea');\nax.set_title('SalePrice and LotArea');\nplt.xticks(rotation=90);","b0ca6d22":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='LotShape', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","6a533b93":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='Street', x='SalePrice');\nax.set_title('SalePrice and Street');\nplt.xticks(rotation=90);","0df19826":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='LandContour', x='SalePrice');\nax.set_title('SalePrice and LandContour');\nplt.xticks(rotation=90);","c857e50c":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='Utilities', x='SalePrice');\nax.set_title('SalePrice and Utilities');\nplt.xticks(rotation=90);","3e9b3030":"utilities_dict={\n       'AllPub':'All public Utilities (E,G,W,& S)',\n       'NoSewr':'Electricity, Gas, and Water (Septic Tank)',\n       'NoSeWa':'Electricity and Gas Only',\n       'ELO':'Electricity only'\n}\nutilities_el={\n       'AllPub':'Electricity',\n       'NoSewr':'Electricity',\n       'NoSeWa':'Electricity',\n       'ELO':'Electricity'\n    \n}\nutilities_gas={\n       'AllPub':'Gas',\n       'NoSewr':'Gas',\n       'NoSeWa':'Gas',\n       'ELO':'No Gas'\n    \n}\n\nutilities_wtr={\n       'AllPub':'Water',\n       'NoSewr':'Water',\n       'NoSeWa':'NoWater',\n       'ELO':'NoWater'\n    \n}\nutilities_spt={\n       'AllPub':'Septic',\n       'NoSewr':'NoSeptic',\n       'NoSeWa':'NoSeptic',\n       'ELO':'NoSeptic'\n    \n}","2319d4cd":"houses_df['Electricity']=houses_df[\"Utilities\"].map(utilities_el)\nhouses_df['Gas']=houses_df[\"Utilities\"].map(utilities_gas)\nhouses_df['Water']=houses_df[\"Utilities\"].map(utilities_wtr)\nhouses_df['Septic']=houses_df[\"Utilities\"].map(utilities_spt)","e053ac0a":"test_df['Electricity']=test_df[\"Utilities\"].map(utilities_el)\ntest_df['Gas']=test_df[\"Utilities\"].map(utilities_gas)\ntest_df['Water']=test_df[\"Utilities\"].map(utilities_wtr)\ntest_df['Septic']=test_df[\"Utilities\"].map(utilities_spt)","eaf4566b":"houses_df=houses_df.drop('Utilities', axis=1)\ntest_df=test_df.drop('Utilities', axis=1)","ed7d7262":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='LotConfig', x='SalePrice');\nax.set_title('SalePrice and LotConfig');\nplt.xticks(rotation=90);","70e05256":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='LandSlope', x='SalePrice');\nax.set_title('SalePrice and LandSlope');\nplt.xticks(rotation=90);","409d9437":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='Neighborhood', x='SalePrice');\nax.set_title('SalePrice and Neighborhood');\nplt.xticks(rotation=90);","02a96e32":"houses_df['OverAllCond']=houses_df['Condition1'].str.cat(houses_df['Condition2'], sep=\"_\")\ntest_df['OverAllCond']=test_df['Condition1'].str.cat(test_df['Condition2'], sep=\"_\")","a9bc4910":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='OverAllCond', x='SalePrice');\nax.set_title('SalePrice and OverAllConditions');\nplt.xticks(rotation=90);","214223e0":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='BldgType', x='SalePrice');\nax.set_title('SalePrice and BuildingType');\nplt.xticks(rotation=90);","2a93ef5b":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='HouseStyle', x='SalePrice');\nax.set_title('SalePrice and HouseStyles');\nplt.xticks(rotation=90);","758e0ccb":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='OverallQual');\nax.set_title('SalePrice and OverAllQuality');\nplt.xticks(rotation=90);","6031c927":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='OverallCond');\nax.set_title('SalePrice and OverAllCond');\nplt.xticks(rotation=90);","6dd471c9":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='YearBuilt');\nax.set_title('YearBuilt and LotFrontage');\nplt.xticks(rotation=90);","74a82dbd":"houses_df['RemodeledAfterY']=houses_df['YearRemodAdd']-houses_df['YearBuilt']\ntest_df['RemodeledAfterY']=test_df['YearRemodAdd']-test_df['YearBuilt']","52b5698a":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='RemodeledAfterY');\nax.set_title('SalePrice and Remodeling Age');\nplt.xticks(rotation=90);","e63345f5":"houses_df['Age']=2021-houses_df['YearBuilt']\ntest_df['Age']=2021-test_df['YearBuilt']","6c5e8b7b":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='Age');\nax.set_title('SalePrice and Age');\nplt.xticks(rotation=90);","cb2ea42e":"houses_df['RoofFullInfo']=houses_df['RoofStyle'].str.cat(houses_df['RoofMatl'], sep=\"_\")\n","c900a472":"test_df['RoofFullInfo']=test_df['RoofStyle'].str.cat(test_df['RoofMatl'], sep=\"_\")","249f3862":"plt.figure(figsize=(12,12));\nax=sns.boxplot(data=houses_df, y='RoofFullInfo', x='SalePrice');\nax.set_title('SalePrice and Roof Type');\nplt.xticks(rotation=90);","1fcc0e1b":"houses_df['ExtFullInfo']=houses_df['Exterior1st'].str.cat(houses_df['Exterior2nd'], sep=\"_\")","0ddf76c1":"test_df['ExtFullInfo']=test_df['Exterior1st'].str.cat(test_df['Exterior2nd'], sep=\"_\")","107b3fac":"plt.figure(figsize=(30,30));\nax=sns.boxplot(data=houses_df, y='ExtFullInfo', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","6f95a6fd":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='MasVnrType', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","b72a96a4":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='MasVnrArea');\nax.set_title('SalePrice and VnrArea');\nplt.xticks(rotation=90);","296bf671":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='ExterQual', x='SalePrice');\nax.set_title('SalePrice and ExteriorQuality');\nplt.xticks(rotation=90);","673301cb":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='ExterCond', x='SalePrice');\nax.set_title('SalePrice and Exterior Condition');\nplt.xticks(rotation=90);","db27e640":"houses_df['ExteriorAll']=houses_df['ExterCond'].str.cat(houses_df['ExterQual'], sep=\"_\")","7e2ea81a":"test_df['ExteriorAll']=test_df['ExterCond'].str.cat(test_df['ExterQual'], sep=\"_\")","5a515164":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='ExteriorAll', x='SalePrice');\nax.set_title('SalePrice and Condition');\nplt.xticks(rotation=90);","fda44702":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='Foundation', x='SalePrice');\nax.set_title('SalePrice and Foundation');\nplt.xticks(rotation=90);","744218f0":"houses_df['BasementAll']=houses_df['BsmtQual'].str.cat(houses_df['BsmtCond'], sep=\"_\")","fde2b45f":"test_df['BasementAll']=test_df['BsmtQual'].str.cat(test_df['BsmtCond'], sep=\"_\")","c3d9e93a":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='BasementAll', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","69c59bc5":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='BsmtExposure', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","c9ea1ebd":"houses_df['BasementFinTypeComb']=houses_df['BsmtFinType1'].str.cat(houses_df['BsmtFinType2'], sep=\"_\")","d55ed471":"test_df['BasementFinTypeComb']=test_df['BsmtFinType1'].str.cat(test_df['BsmtFinType2'], sep=\"_\")","1d6a3a76":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='BasementFinTypeComb', x='SalePrice');\nax.set_title('SalePrice and Basement Quality');\nplt.xticks(rotation=90);","0e688524":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, x='TotalBsmtSF', y='SalePrice');\nax.set_title('SalePrice and TotalBasement');\nplt.xticks(rotation=90);","9f5f044e":"houses_df['HeatingFullQual']=houses_df['Heating'].str.cat(houses_df['HeatingQC'], sep=\"_\")","3b2a22e3":"test_df['HeatingFullQual']=test_df['Heating'].str.cat(test_df['HeatingQC'], sep=\"_\")","2e980592":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='HeatingFullQual', x='SalePrice');\nax.set_title('SalePrice and Heating');\nplt.xticks(rotation=90);","680259df":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='CentralAir', x='SalePrice');\nax.set_title('SalePrice and Central Air');\nplt.xticks(rotation=90);","95f5beff":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='Electrical', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","a61eccc8":"data=houses_df[['1stFlrSF','2ndFlrSF', 'SalePrice','LowQualFinSF','GrLivArea']]\nsns.pairplot(data)","697feae7":"data=houses_df[['BsmtFullBath','BsmtHalfBath', 'SalePrice','FullBath','HalfBath']]\nsns.pairplot(data)","558519b0":"houses_df['BedroomAbvGr'].describe()","91ff272d":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='BedroomAbvGr');\nax.set_title('SalePrice and BedRoomAboveGrade');\nplt.xticks(rotation=90);","8ed9957f":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='KitchenAbvGr');\nax.set_title('SalePrice and KitchenAbvGrd');\nplt.xticks(rotation=90);","ecf7bcce":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='KitchenQual', x='SalePrice');\nax.set_title('SalePrice and KitchenQual');\nplt.xticks(rotation=90);","1b9ff900":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='TotRmsAbvGrd');\nax.set_title('SalePrice and RoomsAboveGrade');\nplt.xticks(rotation=90);","a46a5066":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='Functional', x='SalePrice');\nax.set_title('SalePrice and Functionality');\nplt.xticks(rotation=90);","11644941":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='Fireplaces');\nax.set_title('SalePrice and Fireplaces');\nplt.xticks(rotation=90);","ee0e2389":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='FireplaceQu', x='SalePrice');\nax.set_title('SalePrice and FirePlaceQuality');\nplt.xticks(rotation=90);","d24e2922":"houses_df['GarageQQ']=houses_df['GarageQual'].str.cat(houses_df['GarageCond'], sep=\"_\")","696e8c69":"test_df['GarageQQ']=test_df['GarageQual'].str.cat(test_df['GarageCond'], sep=\"_\")","5274fba6":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='GarageType', x='SalePrice');\nax.set_title('SalePrice and GarageType');\nplt.xticks(rotation=90);","2e2ecdbe":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='GarageFinish', x='SalePrice');\nax.set_title('SalePrice and Garage Finished');\nplt.xticks(rotation=90);","9782d4cf":"garage_data=houses_df[['GarageYrBlt', 'GarageCars', 'GarageArea','SalePrice']]","d9f60bbd":"sns.pairplot(garage_data);","7e039bc0":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='GarageQQ', x='SalePrice');\nax.set_title('SalePrice and Garage Overall Quality');\nplt.xticks(rotation=90);","1deda20f":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='PavedDrive', x='SalePrice');\nax.set_title('SalePrice and DriveType');\nplt.xticks(rotation=90);","5977b771":"plt.figure(figsize=(12,12));\nax=sns.scatterplot(data=houses_df, y='SalePrice', x='WoodDeckSF');\nax.set_title('SalePrice and WoodDeck');\nplt.xticks(rotation=90);","2a25ed50":"porch_data=houses_df[['OpenPorchSF', 'EnclosedPorch', '3SsnPorch','ScreenPorch','SalePrice']]","795ac880":"sns.pairplot(porch_data)","cdc57795":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='SaleType', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","e41413ac":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='SaleCondition', x='SalePrice');\nax.set_title('SalePrice and SaleCondition');\nplt.xticks(rotation=90);","dcb3b110":"Sale_type_cond1_dict={'WD':'Warranty Deed',\n  'CWD':'Warranty Deed',\n   'VWD':'Warranty Deed',\n   'New':'Home just constructed',\n   'COD':'Court Officer',\n   'Con':'Contract', \n   'ConLw':'Contract',\n   'ConLI':'Contract',\n   'ConLD':'Contract',\n   'Oth':'Other'\n    \n    \n}","7e84329d":"Sale_type_cond2_dict={\n    'WD':'Conventional',\n   'CWD':'Cash',\n   'VWD':'VA Loan',\n   'New':'sold',\n   'COD':'Deed\/Estate',\n   'Con':'15% Down payment regular terms',\n   'ConLw':'Low Down payment and low interest',\n   'ConLI':'Low Interest',\n   'ConLD':'Low Down',\n   'Oth':'Other'    \n    \n}","8885071b":"houses_df['SaleTypeCond1']=houses_df['SaleType'].map(Sale_type_cond1_dict)\nhouses_df['SaleTypeCond2']=houses_df['SaleType'].map(Sale_type_cond2_dict)","c43b7486":"test_df['SaleTypeCond1']=test_df['SaleType'].map(Sale_type_cond1_dict)\ntest_df['SaleTypeCond2']=test_df['SaleType'].map(Sale_type_cond2_dict)","6963cfb8":"plt.figure(figsize=(15,15));\nax=sns.boxplot(data=houses_df, y='SaleTypeCond1', x='SalePrice');\nax.set_title('SalePrice and LotShape');\nplt.xticks(rotation=90);","3c6bdf98":"houses_df=houses_df.drop('SaleType', axis=1)\ntest_df=test_df.drop('SaleType', axis=1)","eb069ecd":"cm=round(houses_df.corr(method='spearman'),2)","740aa123":"plt.figure(figsize=(35,35));\nsns.heatmap(cm, annot=True);","ee743b24":"h_correlated=['1stFlrSF','TotRmsAbvGrd', 'GarageYrBlt','GarageArea']\nhouses_df[h_correlated]=houses_df[h_correlated].fillna(0)\ntest_df[h_correlated]=test_df[h_correlated].fillna(0)","f3d87dc7":"houses_df['New_feat']=houses_df[h_correlated].sum(axis=1)\ntest_df['New_feat']=test_df[h_correlated].sum(axis=1)","afa44255":"houses_df=houses_df.drop(h_correlated, axis=1)\ntest_df=test_df.drop(h_correlated, axis=1)","3864926a":"categorical_features=houses_df.select_dtypes('O').columns.to_list()","c619194e":"categorical_features","eef24e17":"!pip install association_metrics","13651f9f":"to_drop=['Street','Electricity', 'LotShape', 'Gas']\ncat_df=houses_df\ncat_df=cat_df.drop(to_drop, axis=1)","84eb4b89":"\nimport association_metrics as am\n\ncat_df = cat_df.apply(\n        lambda x: x.astype(\"category\") if x.dtype == \"O\" else x)\n\ncramersv = am.CramersV(cat_df)\nm=cramersv.fit()","3d6fa4da":"m[m>0.75]","53cb71d6":"cat_corr=['OverAllCond','RoofFullInfo','ExtFullInfo','ExteriorAll','BasementAll','BasementFinTypeComb','HeatingFullQual','SaleTypeCond1','StoreType','MSSubClassDesc','MSZoningDesc','Exterior1st']","94b7e32d":"houses_df=houses_df.drop(cat_corr, axis=1)","2bd4980f":"target=['SalePrice']\ntarget=np.log(houses_df[target])\nfeatures=houses_df.drop(target,axis=1)","58619e3b":"sns.histplot(target, kde=True);","37f23d50":"categorical_features=features.select_dtypes('O').columns.to_list()","188f246e":"categorical_features","ac6d2964":"numerics=['int32','int64','float32','float64']","257d69f4":"numerical_features=features.select_dtypes(include=numerics).columns.to_list()","a39bd434":"numerical_features","d735fdd5":"all_features=numerical_features+categorical_features","e3b1ba0a":"features_train, features_test, target_train, target_test = train_test_split(features, target, test_size=0.3)","c1097708":"from sklearn.ensemble import VotingRegressor,StackingRegressor, BaggingRegressor\n\nclf1 = LinearRegression()\nclf2 = RandomForestRegressor()\nclf3 = ExtraTreesRegressor()\nclf4=xgb.XGBRegressor()\nblending_regressor = VotingRegressor(\n    estimators=[(\"lr\",clf1),\n                (\"rf\",clf2),\n                (\"et\",clf3),\n                (\"gb\",clf4)\n                \n        \n    ]\n     )","8d1f3da7":"from sklearn.preprocessing import FunctionTransformer\n\ndef log_transform(x):\n    print(x)\n    return np.log(x + 1.5)\n\ntransformer = FunctionTransformer(log_transform);\n\nnumerical_transformer = Pipeline(steps=[\n    (\"imputer\", SimpleImputer()),\n    (\"logarithm\",transformer),\n    (\"scaler\", RobustScaler()),\n    (\"fs\", GenericUnivariateSelect())\n])\n\n\ncategorical_transformer = Pipeline(steps=[\n    (\"imputer\", SimpleImputer(strategy='constant')),\n    (\"onehot\", OneHotEncoder(handle_unknown='ignore')),\n])\n\n\ndata_transformer = ColumnTransformer(transformers=[\n    (\"numerical\", numerical_transformer, numerical_features),\n    (\"categorical\", categorical_transformer, categorical_features),\n])\n\n\n\npreprocessor = Pipeline(steps=[(\"data_transformer\", data_transformer)])\n\nreg_pipline = Pipeline(\n    steps=[(\"preprocessor\", preprocessor), \n           (\"regressor\", blending_regressor)])","92500a2e":"list(reg_pipline.get_params().keys())","e5e575fb":"param_grid = {   \n'preprocessor__data_transformer__numerical__imputer__strategy':['median', 'mean', 'constant'], \n'preprocessor__data_transformer__categorical__imputer__strategy':['most_frequent','constant'], \n'preprocessor__data_transformer__numerical__fs__mode':['k_best'],\n 'preprocessor__data_transformer__numerical__fs__param':['all', 10,15],\n'preprocessor__data_transformer__numerical__fs__score_func':[f_regression, mutual_info_regression], \n 'regressor__lr__fit_intercept':[True],\n  'regressor__rf__bootstrap':[True],\n 'regressor__rf__random_state':[random_state],\n 'regressor__rf__warm_start':[True],\n'regressor__et__bootstrap':[True],\n 'regressor__et__random_state':[random_state],\n 'regressor__et__warm_start':[True],\n'regressor__gb__booster':['gblinear','gbtree'],\n 'regressor__gb__random_state':[random_state]    \n    \n}","c20fffed":"search = GridSearchCV(reg_pipline, param_grid, n_jobs=-1, cv=5, verbose=3, scoring='neg_mean_absolute_error') ","323935c1":"search.fit(features_train,target_train.values.ravel());","b06d24ee":"bp=search.best_params_","13bb4837":"res = pd.DataFrame(search.cv_results_)","8da1dcbb":"res","01a39771":"bp","2a2f8668":"reg_pipline.set_params(**bp)","b912f7fd":"reg_pipline.fit(features_train, target_train);\n\npreds = reg_pipline.predict(features_test);","d5ddb98c":"MSE=cross_val_score(reg_pipline, features_test, target_test, cv=5)","75069f3f":"MSE","b62e4afe":"preds_test = reg_pipline.predict(test_df[all_features])","9c8a74fe":"preds_test","3f949d52":"test_df['SalePrice']=np.exp(preds_test)","233698fb":"test_df['SalePrice']","76d9c5f7":"test_df['Id']=test_df.index+1461","f1235aa4":"columns_to_submit=['Id','SalePrice']","8c40483a":"submit_df=test_df[columns_to_submit]","771d3e0d":"submit_df.to_csv('submission.csv', index=None)","72ac0cae":"PavedDrive: Paved driveway\n\n       Y\tPaved \n       P\tPartial Pavement\n       N\tDirt\/Gravel\n\t\t","e46d20ec":"Here I'm going to create separate features as well: type of zoning and type of density","ade3562f":"Id column is just number of lot, so also will be deleted","8189d0e9":"**Fireplaces: Number of fireplaces**\n\n**FireplaceQu: Fireplace quality**\n\n       Ex\tExcellent - Exceptional Masonry Fireplace\n       Gd\tGood - Masonry Fireplace in main level\n       TA\tAverage - Prefabricated Fireplace in main living area or Masonry Fireplace in basement\n       Fa\tFair - Prefabricated Fireplace in basement\n       Po\tPoor - Ben Franklin Stove\n       NA\tNo Fireplace","5e2c9dcc":"**Bedroom: Bedrooms above grade (does NOT include basement bedrooms)**","3b0ef202":"Veneer types are important factor, houses with stone veneers have higher prices.","d83596d0":"**ExterCond: Evaluates the present condition of the material on the exterior**\n\t\t\n       Ex\tExcellent\n       Gd\tGood\n       TA\tAverage\/Typical\n       Fa\tFair\n       Po\tPoor\n\t\t","b3c59839":"# 2. Feature Selection and Feature Engineering","c7d90108":"**RoofStyle: Type of roof**\n\n       Flat\tFlat\n       Gable\tGable\n       Gambrel\tGabrel (Barn)\n       Hip\tHip\n       Mansard\tMansard\n       Shed\tShed\n\t\t\n**RoofMatl: Roof material**\n\n       ClyTile\tClay or Tile\n       CompShg\tStandard (Composite) Shingle\n       Membran\tMembrane\n       Metal\tMetal\n       Roll\tRoll\n       Tar&Grv\tGravel & Tar\n       WdShake\tWood Shakes\n       WdShngl\tWood Shingles","3815d3bb":"Here, I'm going to create feature describing both condition.","de3c4878":"**Condition2: Proximity to various conditions (if more than one is present)**\n\t\t\n       Artery\tAdjacent to arterial street\n       Feedr\tAdjacent to feeder street\t\n       Norm\tNormal\t\n       RRNn\tWithin 200' of North-South Railroad\n       RRAn\tAdjacent to North-South Railroad\n       PosN\tNear positive off-site feature--park, greenbelt, etc.\n       PosA\tAdjacent to postive off-site feature\n       RRNe\tWithin 200' of East-West Railroad\n       RRAe\tAdjacent to East-West Railroad","306fac63":"Here we can see a weak correlation between veneer area and price.","9fdb4532":"2 storey houses have higher price(obvious) and new houses are more expensive than old(obvious)","abc736cb":"Type of electricity is also important for pricing,houses with Standard Circuit Breakers & Romex more expensive than other.","8b11d85a":"**Neighborhood: Physical locations within Ames city limits**\n\n       Blmngtn\tBloomington Heights\n       Blueste\tBluestem\n       BrDale\tBriardale\n       BrkSide\tBrookside\n       ClearCr\tClear Creek\n       CollgCr\tCollege Creek\n       Crawfor\tCrawford\n       Edwards\tEdwards\n       Gilbert\tGilbert\n       IDOTRR\tIowa DOT and Rail Road\n       MeadowV\tMeadow Village\n       Mitchel\tMitchell\n       Names\tNorth Ames\n       NoRidge\tNorthridge\n       NPkVill\tNorthpark Villa\n       NridgHt\tNorthridge Heights\n       NWAmes\tNorthwest Ames\n       OldTown\tOld Town\n       SWISU\tSouth & West of Iowa State University\n       Sawyer\tSawyer\n       SawyerW\tSawyer West\n       Somerst\tSomerset\n       StoneBr\tStone Brook\n       Timber\tTimberland\n       Veenker\tVeenker\n\t\t\t","ee60c8d6":"I'll create new feature consists of full description of roof","57bbc508":"Quantity of bedroom above grade is not too important for SalePrice.","90ba9413":"**MasVnrType: Masonry veneer type**\n\n       BrkCmn\tBrick Common\n       BrkFace\tBrick Face\n       CBlock\tCinder Block\n       None\tNone\n       Stone\tStone\n\t","89bdf395":"Here I want to create feature which consist 2 conditions:","a20d9967":"**MasVnrArea: **\n\nMasonry veneer area in square feet","5b622737":"Strange, but I don't see any correlation between bathrooms features and saleprice.","2da3ea62":"Age of garage and garage area have high correlation with Sale Price.","41cbf929":"To keep features,I'll create new field called 'New Feat' which will be the sum of most correlated field.","a5800712":"This is my attempt to solve task of price prediction. \n\nAny comments, advices, critic etc will be aprecciated.\n\nI've made quite simple EDA just to understand which features are important and which are not and used Python tools made feature selection(SelectKbest with different parameters).\n\nAs a model I've used an ensemble of regression and tree models.","61d18a3c":"WoodDeck area is also important, the higher wooddeck area the higher price.","c2adf2bb":"**Street and Alley**","9280225a":"# 1. Exploratory Data Analysis","b983ed68":"**BsmtQual: Evaluates the height of the basement**\n\n       Ex\tExcellent (100+ inches)\t\n       Gd\tGood (90-99 inches)\n       TA\tTypical (80-89 inches)\n       Fa\tFair (70-79 inches)\n       Po\tPoor (<70 inches\n       NA\tNo Basement\n\t\t\n**BsmtCond: Evaluates the general condition of the basement**\n\n       Ex\tExcellent\n       Gd\tGood\n       TA\tTypical - slight dampness allowed\n       Fa\tFair - dampness or some cracking or settling\n       Po\tPoor - Severe cracking, settling, or wetness\n       NA\tNo Basement","73274bae":"**TotRmsAbvGrd: Total rooms above grade (does not include bathrooms)**","f79a4f7a":"\n**Functional: Home functionality (Assume typical unless deductions are warranted)**\n\n       Typ\tTypical Functionality\n       Min1\tMinor Deductions 1\n       Min2\tMinor Deductions 2\n       Mod\tModerate Deductions\n       Maj1\tMajor Deductions 1\n       Maj2\tMajor Deductions 2\n       Sev\tSeverely Damaged\n       Sal\tSalvage only","69fedae0":"To normalize target value I'll take logarithm ","5c9de225":"**MS SubClass and MS Zoning**","ab538ed8":"**GarageType: Garage location**\n\t\t\n       2Types\tMore than one type of garage\n       Attchd\tAttached to home\n       Basment\tBasement Garage\n       BuiltIn\tBuilt-In (Garage part of house - typically has room above garage)\n       CarPort\tCar Port\n       Detchd\tDetached from home\n       NA\tNo Garage\n\t\t\n**GarageYrBlt: Year garage was built**\n\t\t\n**GarageFinish: Interior finish of the garage**\n\n       Fin\tFinished\n       RFn\tRough Finished\t\n       Unf\tUnfinished\n       NA\tNo Garage\n\t\t\n**GarageCars: Size of garage in car capacity**\n\n**GarageArea: Size of garage in square feet**\n\n**GarageQual: Garage quality**\n\n       Ex\tExcellent\n       Gd\tGood\n       TA\tTypical\/Average\n       Fa\tFair\n       Po\tPoor\n       NA\tNo Garage\n\t\t\n**GarageCond: Garage condition**\n\n       Ex\tExcellent\n       Gd\tGood\n       TA\tTypical\/Average\n       Fa\tFair\n       Po\tPoor\n       NA\tNo Garage","d67edaa2":"Neighborhood is quite important factor, here we can see that for some types of neighbors have higher price and some-quite low.","edf334f6":"**CentralAir: Central air conditioning**\n\n       N\tNo\n       Y\tYes","b3b8c251":"Some of features have a missed values, I'm going to delete columns which have 50 and more % of NaNs","18612693":"**ExterQual: Evaluates the quality of the material on the exterior **\n\t\t\n       Ex\tExcellent\n       Gd\tGood\n       TA\tAverage\/Typical\n       Fa\tFair\n       Po\tPoor","ed3eee38":"Here I'm going to create new feature describing quality and condition","dbae175e":"After simple EDA we can find several factors which affects Sale Price. Let's check if we have highly correlated fields using Spearmans criteria","babb25e9":"Here we can see, that new houses in commom more expensive than old.","40ea3e9e":"****Exterior1st: Exterior covering on house\n\n       AsbShng\tAsbestos Shingles\n       AsphShn\tAsphalt Shingles\n       BrkComm\tBrick Common\n       BrkFace\tBrick Face\n       CBlock\tCinder Block\n       CemntBd\tCement Board\n       HdBoard\tHard Board\n       ImStucc\tImitation Stucco\n       MetalSd\tMetal Siding\n       Other\tOther\n       Plywood\tPlywood\n       PreCast\tPreCast\t\n       Stone\tStone\n       Stucco\tStucco\n       VinylSd\tVinyl Siding\n       Wd Sdng\tWood Siding\n       WdShing\tWood Shingles\n\t\n**Exterior2nd: Exterior covering on house (if more than one material)**\n\n       AsbShng\tAsbestos Shingles\n       AsphShn\tAsphalt Shingles\n       BrkComm\tBrick Common\n       BrkFace\tBrick Face\n       CBlock\tCinder Block\n       CemntBd\tCement Board\n       HdBoard\tHard Board\n       ImStucc\tImitation Stucco\n       MetalSd\tMetal Siding\n       Other\tOther\n       Plywood\tPlywood\n       PreCast\tPreCast\n       Stone\tStone\n       Stucco\tStucco\n       VinylSd\tVinyl Siding\n       Wd Sdng\tWood Siding\n       WdShing\tWood Shingles","dc03a02e":"**BsmtExposure: Refers to walkout or garden level walls**\n\n       Gd\tGood Exposure\n       Av\tAverage Exposure (split levels or foyers typically score average or above)\t\n       Mn\tMimimum Exposure\n       No\tNo Exposure\n       NA\tNo Basement","f26cc282":"Quality of Kithen above grade doen't influence price too much, but quality of kithcen is important factor.","46acc0b8":"**WoodDeckSF: Wood deck area in square feet**\n\n**OpenPorchSF: Open porch area in square feet****\n\n**EnclosedPorch: Enclosed porch area in square feet**\n\n**3SsnPorch: Three season porch area in square feet**\n\n**ScreenPorch: Screen porch area in square feet**\n\n**PoolArea: Pool area in square feet**\n","28e7ddad":"**BsmtFinType1: Rating of basement finished area**\n\n       GLQ\tGood Living Quarters\n       ALQ\tAverage Living Quarters\n       BLQ\tBelow Average Living Quarters\t\n       Rec\tAverage Rec Room\n       LwQ\tLow Quality\n       Unf\tUnfinshed\n       NA\tNo Basement\n\t\t\n**BsmtFinSF1: Type 1 finished square feet**\n\n**BsmtFinType2: Rating of basement finished area (if multiple types)**\n\n       GLQ\tGood Living Quarters\n       ALQ\tAverage Living Quarters\n       BLQ\tBelow Average Living Quarters\t\n       Rec\tAverage Rec Room\n       LwQ\tLow Quality\n       Unf\tUnfinshed\n       NA\tNo Basement\n\n**BsmtFinSF2: Type 2 finished square feet**\n\n**BsmtUnfSF: Unfinished square feet of basement area**\n\n**TotalBsmtSF: Total square feet of basement area**","73399f88":"**BldgType: Type of dwelling**\n\t\t\n       1Fam\tSingle-family Detached\t\n       2FmCon\tTwo-family Conversion; originally built as one-family dwelling\n       Duplx\tDuplex\n       TwnhsE\tTownhouse End Unit\n       TwnhsI\tTownhouse Inside Unit","9c312eaf":"**Kitchen: Kitchens above grade**\n\n**KitchenQual: Kitchen quality**\n\n       Ex\tExcellent\n       Gd\tGood\n       TA\tTypical\/Average\n       Fa\tFair\n       Po\tPoor\n       \t","94133719":"BsmtCond","bd39e24c":"Let's check if we have correlation between categorical features. Here I'm going to use association_metrics package and Gram matrix. I'll delete features with correlation higher than 0.75","383b254e":"I'm going to create 2 separate features:\n\n1) storey type\n\n2) age typ","2e2af8e5":"Central air conditioning is important factor for price.","0e92c519":"**LotFrontage & LotArea**","0704c3fd":"Age is important factor, the newer house the higher price.","ccae34cd":"**OverallQual: Rates the overall material and finish of the house**\n\n       10\tVery Excellent\n       9\tExcellent\n       8\tVery Good\n       7\tGood\n       6\tAbove Average\n       5\tAverage\n       4\tBelow Average\n       3\tFair\n       2\tPoor\n       1\tVery Poor\n\t\nOverallCond: Rates the overall condition of the house\n\n       10\tVery Excellent\n       9\tExcellent\n       8\tVery Good\n       7\tGood\n       6\tAbove Average\t\n       5\tAverage\n       4\tBelow Average\t\n       3\tFair\n       2\tPoor\n       1\tVery Poor","cec1f580":"Houses with gable roofs and Wood Shingles are more expensive, so here we can see that type of roof connected with sale price.","b86c931d":"Here we can see that the higher basement squarefeet the higher price","3701e57e":"**Bedroom: Bedrooms above grade (does NOT include basement bedrooms)**","cf2ebd0b":"\n**SaleType: Type of sale**\n\t\t\n       WD \tWarranty Deed - Conventional\n       CWD\tWarranty Deed - Cash\n       VWD\tWarranty Deed - VA Loan\n       New\tHome just constructed and sold\n       COD\tCourt Officer Deed\/Estate\n       Con\tContract 15% Down payment regular terms\n       ConLw\tContract Low Down payment and low interest\n       ConLI\tContract Low Interest\n       ConLD\tContract Low Down\n       Oth\tOther\n\t\t","388681fc":"Here we also can see what each type of exterior grouped by price and type of exterior is important factor.","4ac29832":"**BsmtFullBath: Basement full bathrooms**\n\n**BsmtHalfBath: Basement half bathrooms**\n\n**FullBath: Full bathrooms above grade**\n\n**HalfBath: Half baths above grade**\n","2e94220b":"Basement exposure is also important factor, the better exposure is the higher the price.","4d2afd1f":"**LotConfig: Lot configuration**\n\n       Inside\tInside lot\n       Corner\tCorner lot\n       CulDSac\tCul-de-sac\n       FR2\tFrontage on 2 sides of property\n       FR3\tFrontage on 3 sides of property\n\t","e8014656":"Type of street influence SalePrice, houses on the paved streets are more expensive than other.","0c6103ff":"the same for porches, if house has porch it's area can increase price.","bd7c4357":"TownHouses and FamilyDetached Houses have higher price that other types","f8da7d6c":"Here I will create another one feature, describing basement","db80a130":"**Foundation: Type of foundation**\n\t\t\n       BrkTil\tBrick & Tile\n       CBlock\tCinder Block\n       PConc\tPoured Contrete\t\n       Slab\tSlab\n       Stone\tStone\n       Wood\tWood","6ed88c37":"Median Price of houses in the hill side are higher that other, houses in banked regions are cheaper.","c136c5c4":"Easy to see, that houses with 1946 and newer year of building have higher median price than others.","c8972b08":"**HouseStyle: Style of dwelling**\n\t\n       1Story\tOne story\n       1.5Fin\tOne and one-half story: 2nd level finished\n       1.5Unf\tOne and one-half story: 2nd level unfinished\n       2Story\tTwo story\n       2.5Fin\tTwo and one-half story: 2nd level finished\n       2.5Unf\tTwo and one-half story: 2nd level unfinished\n       SFoyer\tSplit Foyer\n       SLvl\tSplit Level\n\t","67c6f50d":"Here I don't see high correlation between SalePrice and quantity of rooms above grade.","42a857f5":"Houses with Gas have higher median price than other, quality of heating also influence sale price.","0cc0a3e3":"Here I'm going to create new feature, which describe exterios","75de8509":"****1stFlrSF: First Floor square feet**\n \n**2ndFlrSF: Second floor square feet**\n\n**LowQualFinSF: Low quality finished square feet (all floors)**\n\n**GrLivArea: Above grade (ground) living area square feet****","f23dc9ee":"**LandSlope: Slope of property**\n\t\t\n       Gtl\tGentle slope\n       Mod\tModerate Slope\t\n       Sev\tSevere Slope\n\t","d4ef507e":"Type of garage is important for house price, houses with built in garages or attached garages have higher price.","c60f4e13":"More finished storeys the house has the higer it's price, 1.5 houses are cheaper than 1 storey.","eb121036":"Houses near parks, greenbelt have higher prices. the better are overall condition the higher price.","039c7e1b":"Houses with major deductions are cheaper than other type of houses but here I also don't see high correlation between other type of deductions and price.","f96def4d":"Here we also can notice correlation between price and basement type, the better the more expensive.","1b61d937":"**MSZoning**","2aa65774":"Quality of exterior is important factor describing price, houses with better quality have higher price.","a8c17ac1":"**Condition1: Proximity to various conditions**\n\t\n       Artery\tAdjacent to arterial street\n       Feedr\tAdjacent to feeder street\t\n       Norm\tNormal\t\n       RRNn\tWithin 200' of North-South Railroad\n       RRAn\tAdjacent to North-South Railroad\n       PosN\tNear positive off-site feature--park, greenbelt, etc.\n       PosA\tAdjacent to postive off-site feature\n       RRNe\tWithin 200' of East-West Railroad\n       RRAe\tAdjacent to East-West Railroad","eceb3475":"Here I'm going to add several features based on the type of sale","e40f8c48":"OverAllQuality linked with SalePrice, but no correlation between SalePrice and OverAllCond.","e88896c2":"Here I'll also create new feature describing heating type and heating condition.","0c6ec790":"The higher quality of garage the higher SalePrice.","1fab1403":"**Utilities: Type of utilities available**\n\n       AllPub\tAll public Utilities (E,G,W,& S)\t\n       NoSewr\tElectricity, Gas, and Water (Septic Tank)\n       NoSeWa\tElectricity and Gas Only\n       ELO\tElectricity only","d589a45a":"Here we can notice, that concrete type is important factor for price. Houses with poured concrete foundation are more expensive than others.","74fb5c67":"**Electrical: Electrical system**\n\n       SBrkr\tStandard Circuit Breakers & Romex\n       FuseA\tFuse Box over 60 AMP and all Romex wiring (Average)\t\n       FuseF\t60 AMP Fuse Box and mostly Romex wiring (Fair)\n       FuseP\t60 AMP Fuse Box and mostly knob & tube wiring (poor)\n       Mix\tMixed","36e5bb34":"Houses with finished garages are more expensive that other.","0d288616":"The same for exterior condition, the better condition the higher price.","6acbd817":"Regular LotShapes have lower price than other types of shape","fdf9e5fa":"Here, I've created several plots, obvious that the higher square feet the higher price.","99036452":"Paved Drive is also important factor for price.","71936bcd":"**YearBuilt: Original construction date**","0f8b552f":"Quantity of fireplace don't affect price too much, however houses with fireplace are more expensive. Quality of Fireplace is important factor, the higher quality the higher price.","35168a2a":"**LandContour: Flatness of the property**\n\n       Lvl\tNear Flat\/Level\t\n       Bnk\tBanked - Quick and significant rise from street grade to building\n       HLS\tHillside - Significant slope from side to side\n       Low\tDepression","7bbeb9fd":"Here we can see, that the more utilities we have the higher price.\nI'm going to create new feature for each type of utility","a6893657":"Here I've tried to find any connection between difference of year of remodelling and year built. But seems, that year of remodelling don't influence price too much.","3297eaa7":"Here we also can notice that just constructed houses have higher median price.","45714804":"Here is quite hard to see any interesting links.","457e9fbc":"Lot Frontage and Sale Price have weak correlation, but there is no link between LotArea and Sale Price","20b1274e":"And delete fields witl correlation higher than 0.7","213223b2":"Hard to see any influence of LotConfig on price. ","b8de64dc":"**Heating: Type of heating**\n\t\t\n       Floor\tFloor Furnace\n       GasA\tGas forced warm air furnace\n       GasW\tGas hot water or steam heat\n       Grav\tGravity furnace\t\n       OthW\tHot water or steam heat other than gas\n       Wall\tWall furnace\n\t\t\n**HeatingQC: Heating quality and condition**\n\n       Ex\tExcellent\n       Gd\tGood\n       TA\tAverage\/Typical\n       Fa\tFair\n       Po\tPoor","7759fc2b":"Let's estimate correlation between categorical features:","5e5a496a":"The same with slopes, seems that it's not too important.","497c3e42":"Here we can see, that the lower density the higher price","6989f1c1":"\n**SaleType: Type of sale**\n\t\t\n       WD \tWarranty Deed - Conventional\n       CWD\tWarranty Deed - Cash\n       VWD\tWarranty Deed - VA Loan\n       New\tHome just constructed and sold\n       COD\tCourt Officer Deed\/Estate\n       Con\tContract 15% Down payment regular terms\n       ConLw\tContract Low Down payment and low interest\n       ConLI\tContract Low Interest\n       ConLD\tContract Low Down\n       Oth\tOther","09369c7a":"First, let's have a look at our data"}}