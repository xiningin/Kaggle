{"cell_type":{"5adf6b37":"code","42730683":"code","0f8afcc8":"code","18216aee":"code","4231d48d":"code","6064636a":"code","59d6f1af":"code","98498061":"code","787a1bb6":"code","6ba400fc":"code","bca0f367":"code","d23502cb":"code","e63b7de2":"code","94488eef":"code","c37c14f3":"code","743901f6":"code","6215c4a1":"code","ef16e407":"code","aaa52a49":"code","7b7aec02":"code","1a954436":"code","ff2b2851":"markdown","05abb914":"markdown","b7020926":"markdown","d0dc69ea":"markdown","a156749d":"markdown","20733df3":"markdown","452a6a3c":"markdown","eb988593":"markdown","02901fe8":"markdown","25ccbd2c":"markdown","a2d3679e":"markdown","a88c2e37":"markdown","f144a8b6":"markdown","143e704e":"markdown","d9970f9a":"markdown"},"source":{"5adf6b37":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","42730683":"import datetime\nimport pandas_datareader.data as web\nfrom pandas import Series, DataFrame\n\n# plotting modules\n%matplotlib inline\nimport matplotlib.pyplot as plt\nfrom matplotlib import style\n\nimport seaborn as sns\n\n# Adjusting the size of matplotlib\nimport matplotlib as mpl\nmpl.rc('figure', figsize=(8, 7))\nmpl.__version__\n\n# Adjusting the style of matplotlib\nstyle.use('ggplot')","0f8afcc8":"start = datetime.datetime(2020, 1, 1)","18216aee":"coal = web.DataReader(\"MTF=F\", 'yahoo', start) # without end date","4231d48d":"coal_close_px = coal['Adj Close']","6064636a":"coal_mavg = coal_close_px.rolling(window=100).mean()","59d6f1af":"coal_close_px.plot(label='Coal')\ncoal_mavg.plot(label='mavg Coal')\nplt.legend()","98498061":"oil = web.DataReader(\"CL=F\", 'yahoo', start)","787a1bb6":"oil_close_px = oil['Adj Close']\noil_mavg = oil_close_px.rolling(window=100).mean()","6ba400fc":"oil_close_px.plot(label='Oil')\noil_mavg.plot(label='mavg Oil')\nplt.legend()","bca0f367":"gas = web.DataReader(\"NG=F\", 'yahoo', start)","d23502cb":"gas_close_px = oil['Adj Close']\ngas_mavg = gas_close_px.rolling(window=100).mean()","e63b7de2":"gas_close_px.plot(label='Gas')\ngas_mavg.plot(label='mavg Gas')\nplt.legend()","94488eef":"energy_comp = web.DataReader(['MTF=F', 'CL=F', 'NG=F'],'yahoo',start=start)['Adj Close']","c37c14f3":"energy_comp","743901f6":"energy_comp = energy_comp.dropna()","6215c4a1":"# for Box-Cox Transformation\nfrom scipy import stats\n\n# for min_max scaling\nfrom mlxtend.preprocessing import minmax_scaling\n\n# set seed for reproducibility\nnp.random.seed(0)","ef16e407":"scaled_energy = minmax_scaling(energy_comp, columns=['MTF=F', 'CL=F', 'NG=F']) ","aaa52a49":"scaled_energy","7b7aec02":"# plot scaled commodities\nfig, ax=plt.subplots(1,3,figsize=(15,3))\nsns.distplot(scaled_energy['MTF=F'], ax=ax[0], color=\"g\")\nax[0].set_title(\"Coal\")\nsns.distplot(scaled_energy['CL=F'], ax=ax[1], color=\"b\")\nax[1].set_title(\"Oil\")\nsns.distplot(scaled_energy['NG=F'], ax=ax[2], color=\"r\")\nax[2].set_title(\"Gas\")","1a954436":"fig, ax=plt.subplots(1,2,figsize=(15,3))\nsns.distplot(scaled_energy['MTF=F'], ax=ax[0], color=\"g\")\nsns.distplot(scaled_energy['NG=F'], ax=ax[0], color=\"r\")\nax[0].set_title(\"Coal and Gas\")\nsns.distplot(scaled_energy['CL=F'], ax=ax[1], color=\"b\")\nax[1].set_title(\"Oil\")","ff2b2851":"### Let\u00b4s plot it","05abb914":"### Moving average on last 100 days","b7020926":"### Coal and Gas distribution\n\nIt looks as coal and gas may be related","d0dc69ea":"# Share\n\nThis notebook is been shared and commented to help stakeholders, and learning community.\n\n# Act\n\nTop high-level insights based on my analysis:\n\n### Non-renewable energy is getting expensive\n\nWe are getting close to a new energy era, non-renewable energy is getting expensive and \nwe need to take action, this will affect supply chain and how energy has to be generated\nin every country.\n","a156749d":"---\ntitle: \"Data analysis: Are we living a non-renewable energy crisis?\"\n\nauthor: \"Marco Meza\"\n\ndate: \"10\/29\/2021\"\n\noutput: html_document\n\n---","20733df3":"### Apply scaling (0 to 1)\nIf all columns are going to be scaled, we can replace them by: energy_comp[energy_comp.columns]","452a6a3c":"### Let\u00b4s set the same scale to all 3 commodities\n\nFirst let\u00b4s import some packages to help us with this task","eb988593":"# Analyze\n\n### Let\u00b4s plot commodities","02901fe8":"### Start date\n\nFor this analysis, I will use the following start date.","25ccbd2c":"### Now let\u00b4s import natural gas","a2d3679e":"### Data import\n\nLet\u00b4s start by importing coal energy, from yahoo, then I will import natural gas and oil as well.","a88c2e37":"### Let\u00b4s compare between energy commodities","f144a8b6":"### It\u00b4s oil time to get analyzed","143e704e":"### Let\u00b4s clean records that have missing values","d9970f9a":"# Ask\n\nBusiness task: Based on commodities trends, give forecast on energy prices.\nThe question is: How energy commodities will affect energy price in Guatemala?\nFor this analysis, three energy commodities will be selected, coal, natural gas and oil.\nKey stakeholders: CEO, Energy Manager\n\n# Prepare\n\nThe data set used for analysis is been extracted from yahoo finance directly,  \nit is public data, and I have selected a package that allows me to select\ncommodities by date range.\nThe data is from a trustworthy source, I have scaled adjusted close prices to \nbe able to compare commodities variation.\n\n\n# Process\n\nI analyze and clean data using Python, I have to drop some records that doesn\u00b4t have\nprice for that date.\n\n### Packages\n\nFirst I needed to install and activate packages, as you can see in the following section:"}}