{"cell_type":{"0e4e967f":"code","df5e5d89":"code","36388d29":"code","bc484710":"code","f04c1455":"code","49db7b03":"code","9e231060":"code","f6a5ce7c":"code","99722081":"code","74875569":"code","e95dd4e4":"code","ebf2555b":"code","95333f19":"code","c04c55c7":"code","7dc1e9f3":"code","d95781a8":"code","067c2d5b":"code","f12553f1":"code","9b1c727c":"code","243e759d":"code","5dec2b9b":"code","ab1604ab":"code","6c8285ed":"code","0e1f8e17":"code","825d3279":"code","0f8059c8":"code","7c1b1f7b":"code","565f9516":"code","43c08444":"code","d49b1f1d":"code","90aa1494":"code","17e67a95":"code","6c6b35d5":"code","dfa8bddd":"code","70ee33d4":"code","0a054a2b":"code","2bff2c3b":"code","718f0715":"code","ebfc528e":"code","e9a53f7c":"code","e058de06":"code","3ae99244":"code","d4b90c3d":"code","99c9bbca":"code","3ea165c2":"code","c7447825":"code","e1507773":"code","44086ee3":"code","d546bf97":"code","2efdbb5c":"code","94bc34d0":"code","caa89235":"code","0b040c3e":"code","fe25bfb2":"code","4618f66e":"code","07a2a1ab":"code","dfa4236c":"code","f2216e3b":"code","88da5742":"code","bb2e0db0":"code","f7825e9c":"code","313cf72e":"code","4f4f52cd":"code","b1a30f59":"code","5bbc619e":"code","35e1ff09":"code","f300c1f2":"code","aa181150":"code","c6943d18":"code","26cd5779":"code","f002830a":"code","9b3d3a4d":"code","fba4b47d":"code","9bd68646":"code","39e6cf92":"code","406af115":"code","dc515cdd":"code","bbaeba09":"code","aacd59ed":"code","c48d7ae2":"code","81febf80":"code","f45736a2":"code","ef5f385d":"code","9cb02654":"code","fdc4b98e":"markdown","6f2753a7":"markdown","eca93e9d":"markdown","e7874259":"markdown","c6c37832":"markdown","f8902b46":"markdown","4e415dcc":"markdown","5e2b99d8":"markdown","f699f8ca":"markdown","0b67592d":"markdown","f137c36e":"markdown","7d16b2b8":"markdown","1f492a31":"markdown","a20453d1":"markdown","cea360f2":"markdown","b3e3f0f3":"markdown","056ba266":"markdown","c7d4721e":"markdown","2d2abbd3":"markdown","07f5f1f3":"markdown","fe0a0a87":"markdown","9e4aac78":"markdown","c1f37166":"markdown","1dfe0bdc":"markdown","17ce7236":"markdown","bf12117c":"markdown","b6064d75":"markdown","fc594dc2":"markdown","835aad44":"markdown","6437b087":"markdown","1ab00582":"markdown","5a584c4e":"markdown","b009d68a":"markdown","7e11dac0":"markdown","8cb855c6":"markdown","e888b766":"markdown","9ffffda2":"markdown","0a1047e2":"markdown","6b9fad34":"markdown","b063ddad":"markdown","13608b5b":"markdown","21ef8fe2":"markdown","432ae761":"markdown","678c0b82":"markdown","acf112e1":"markdown","662c49f4":"markdown","b98524f9":"markdown","8ca09853":"markdown","96e3b649":"markdown","6e378e22":"markdown","da57bc47":"markdown","5a58d7e8":"markdown","372ac13c":"markdown","0fe9a1ad":"markdown","3ab74b41":"markdown","4c25d668":"markdown","a8fdadb3":"markdown","d775bbc9":"markdown","51fe1a35":"markdown","3548ba8e":"markdown","21517e8c":"markdown","8341a519":"markdown","57460738":"markdown","eddc832e":"markdown","9b59497b":"markdown","3b9c2a29":"markdown","f78ee629":"markdown","e5d546a6":"markdown","ddc06e07":"markdown","f2d34b8a":"markdown","57287109":"markdown","13369a9a":"markdown","f86e98a3":"markdown","318fb3bc":"markdown","1d22d2a0":"markdown","d25958ce":"markdown","4f4bde82":"markdown","4112506b":"markdown","a2794889":"markdown","11966026":"markdown","87abaabf":"markdown","e1c9b1b0":"markdown","e79a934d":"markdown","19a1260e":"markdown","d8dbf43d":"markdown","c5434b4e":"markdown","0f5385e7":"markdown","dd0df88b":"markdown","9207cbd9":"markdown","2d37ac2b":"markdown","4fa57f3c":"markdown","10557146":"markdown","de2135bf":"markdown","75e014f4":"markdown","d93b6abf":"markdown","e6e40577":"markdown","9debbaf8":"markdown","74e8b3a6":"markdown","8f96c0ef":"markdown","d0c00957":"markdown","a1d0ae6d":"markdown","424c6b51":"markdown","5520d759":"markdown","d360e02b":"markdown","c0074864":"markdown","5ff54d18":"markdown","179dd942":"markdown","20939000":"markdown","5b485e18":"markdown","141796c5":"markdown","a60219a7":"markdown","5bfc9990":"markdown","2834bc78":"markdown","d8551e91":"markdown","f756fba9":"markdown","f8c09338":"markdown","feee419f":"markdown","c3d588d5":"markdown","a06da4f4":"markdown","13d04abe":"markdown","df664315":"markdown","befaa017":"markdown","893a145e":"markdown","cdfd7923":"markdown","43176f15":"markdown","ca54fc64":"markdown","04e18bcf":"markdown","6da89898":"markdown","181bc2bc":"markdown","caf90398":"markdown","57125e54":"markdown","a24295d4":"markdown","b20b268f":"markdown","f815c010":"markdown","e2682811":"markdown","7ece6784":"markdown","d906ee71":"markdown","e5a3fbdf":"markdown","4db07152":"markdown","88479a84":"markdown","08308b9d":"markdown","d9503a63":"markdown","2e8b8afb":"markdown","fdb246a1":"markdown","f10971d5":"markdown","20eafafa":"markdown"},"source":{"0e4e967f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats\nimport warnings\nimport os\nwarnings.simplefilter(action='ignore') # suppres all warnings\n%matplotlib inline","df5e5d89":"data = data = pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/train.csv\")\n#test_data = data = pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/test.csv\")","36388d29":"def get_columns(data):\n    # extract cat columns\n    s = data.dtypes == \"object\"\n    object_cols = data.columns[s].tolist()\n\n    # extract num columns\n    n = (data.dtypes == \"int64\") | (data.dtypes == \"float64\")\n    numerical_cols = data.columns[n].tolist()\n    # drop target variable from numerical cols\n\n    # find out discrete cols from numerical cols\n    discrete_cols = [num_col for num_col in numerical_cols if data[num_col].nunique()<=20]\n    \n    # get continuous cols\n    mark = pd.Series(numerical_cols).isin(discrete_cols)\n    continuous_cols = pd.Series(numerical_cols)[~mark].tolist()\n    \n    return object_cols,numerical_cols,discrete_cols,continuous_cols\n\nobject_cols,numerical_cols,discrete_cols,continuous_cols = get_columns(data)","bc484710":"# check the summary stats of numerical cols\ndata[numerical_cols].drop(\"Id\",axis=1).describe()","f04c1455":"from scipy.stats import probplot\n\ndef check_normality(data,col,label_txt,conclusion):\n    fig = plt.figure(facecolor='whitesmoke',figsize=(20,5),dpi=100)\n\n    ax_left = fig.add_axes([0,0,.2,1], facecolor='whitesmoke')\n    ax_left.axis(\"off\")\n    ax_left.text(.4,.9,label_txt,color=\"crimson\",weight=\"bold\",size=25)\n    ax_left.text(.1,.8,\"Skewness {:.2f}\".format(stats.skew(data[col],bias=False),size=30))\n    ax_left.text(.1,.7,\"Kurtosis {:.2f}\".format(stats.kurtosis(data[col],bias=False),size=30))\n    ax_left.text(.1,.4,\"Conclusion:\\n{}\".format(conclusion),size=15)\n    \n    # histogram\n    ax1 = fig.add_axes([0.25,0,0.3,0.8],facecolor=\"whitesmoke\")\n    sns.distplot(data[col],color=\"deepskyblue\",kde=True,ax=ax1)\n    ax1.set_xlabel(label_txt,fontsize=14)\n    ax1.set_ylabel(\"frequency\",fontsize=14)\n    ax1.set_title(\"Histogram\",color=\"crimson\",fontsize=16,weight=\"bold\")\n    ax1.tick_params(labelsize=10)\n    for spine in [\"top\",\"right\"]:\n        ax1.spines[spine].set_visible(False)\n    ax1.grid(False)\n\n    # qq plot\n    ax2 = fig.add_axes([0.58,0,0.3,0.8],facecolor=\"whitesmoke\")\n    probplot(data[col],plot=ax2)\n    ax2.set_xlabel(\"Theoretical Quantiles\",fontsize=14)\n    ax2.tick_params(labelsize=10)\n    ax2.set_title(\"QQ-Plot\",color=\"crimson\",fontsize=16,weight=\"bold\")\n    for spine in [\"top\",\"right\"]:\n        ax2.spines[spine].set_visible(False)\n    ax2.grid(False)\n\n    plt.show()\n    \nconclusion_txt = \"Sale Price has slight Positive \\nSkewness and greater kurtosis \\nthan that of normial distribution\"\ncheck_normality(data,\"SalePrice\",\"Sale Price\",conclusion_txt)","49db7b03":"# extract continuous columns\nnum_cols = pd.Series(numerical_cols)\nmark = num_cols.isin(discrete_cols)\ncontinuous_cols = num_cols[~mark]\ncontinuous_cols = continuous_cols.drop(labels=0).tolist()","9e231060":"# write function to visualize the distribution of variables\ndef check_dist(row,col,data,cols,color,isbox=True):\n    fig,axes = plt.subplots(row,col,figsize=(25,25),dpi=100,facecolor=\"whitesmoke\")\n    i = 0\n    if isbox:\n        for r in range(row):\n            for c in range(col):\n                try:\n                    sns.boxplot(y=data[cols[i]],ax=axes[r,c],color=color)\n                    text_title = cols[i]\n                    i += 1\n                    axes[r,c].set_facecolor(\"whitesmoke\")\n                    axes[r,c].set_title(text_title,fontsize=10,weight=\"bold\")\n                    axes[r,c].set_xlabel(\"\")\n                except IndexError:\n                    pass\n    else:\n         for r in range(row):\n            for c in range(col):\n                try:\n                    sns.distplot(data[cols[i]],ax=axes[r,c],color=color)\n                    text_title = cols[i]\n                    i += 1\n                    axes[r,c].set_facecolor(\"whitesmoke\")\n                    axes[r,c].set_title(text_title,y=1,pad=-10,fontsize=14,fontweight=\"bold\",color=\"crimson\")\n                    axes[r,c].set_xlabel(\"\")\n                except IndexError:\n                    pass       \n        \n    # delete all surplus subplots that do not include any graphs\n    if row*col > len(cols):\n        total_plot_num = row*col\n        plot_num = total_plot_num-len(cols)\n        for i in reversed(list(range(plot_num))):\n            axes[row-1,col-i-1].set_visible(False)\n            \n    plt.show()\n    \n\ncheck_dist(6,4,data,pd.Series(continuous_cols).drop(labels=0).tolist(),\"deepskyblue\",False)","f6a5ce7c":"nunique_num = [data[obj_col].nunique() for obj_col in object_cols]\nprint(\"The Number of Categories for each Categorical Variable\")\nprint(\"___________________________________________\")\nres = pd.DataFrame({\"Feature name\":object_cols,\"Unique Categories\":nunique_num})\ncm = sns.light_palette(\"deepskyblue\", as_cmap=True)\nres.sort_values(by=\"Unique Categories\",ascending=False).style.background_gradient(cm)","99722081":"def plot_cat_dist(df,cat_cols,row,col,color,IsCat,unique_res=None):\n    \"\"\"Plot the distribution of categorical variables or discrete variables\"\"\"\n    \n    # create figure and multiple axes based on the number of variables\n    fig,axes = plt.subplots(row,col,figsize=(25,25),dpi=100,facecolor=\"whitesmoke\")\n    \n    # judge whether we make bar chars for categorical variables or discrete variables\n    if IsCat:\n        # filter out car with less than 15 categories\n        mark = (res[\"Unique Categories\"]<=15) & (res[\"Unique Categories\"]!=1)\n        # extract columns\n        cat_cols = res[mark][\"Feature name\"].tolist()\n\n        i = 0\n        for r in range(row):\n            for c in range(col):\n                try:\n                    temp = df[cat_cols[i]].value_counts().reset_index().rename(columns={\"index\":cat_cols[i],cat_cols[i]:\"Frequency\"})\n                    sns.barplot(data=temp,x=cat_cols[i],y=\"Frequency\",color=color,ax=axes[r,c])\n                    text_title = cat_cols[i]\n                    i += 1\n                    axes[r,c].set_facecolor(\"whitesmoke\")\n                    axes[r,c].set_title(text_title,fontsize=10,weight=\"bold\",pad=-12,y=1)\n                    axes[r,c].set_xlabel(\"\")\n                    for spine in [\"right\",\"top\"]:\n                        axes[r,c].spines[spine].set_visible(False)\n                    axes[r,c].tick_params(labelsize=10,rotation=45)\n                except IndexError:\n                    pass\n    else:\n        i = 0\n        for r in range(row):\n            for c in range(col):\n                try:\n                    temp = df[cat_cols[i]].value_counts().reset_index().rename(columns={\"index\":cat_cols[i],cat_cols[i]:\"Frequency\"})\n                    sns.barplot(data=temp,x=cat_cols[i],y=\"Frequency\",color=color,ax=axes[r,c])\n                    text_title = cat_cols[i]\n                    i += 1\n                    axes[r,c].set_facecolor(\"whitesmoke\")\n                    axes[r,c].set_title(text_title,fontsize=10,weight=\"bold\",pad=-12,y=1)\n                    axes[r,c].set_xlabel(\"\")\n                    for spine in [\"right\",\"top\"]:\n                        axes[r,c].spines[spine].set_visible(False)\n                    axes[r,c].tick_params(labelsize=10,rotation=45)\n                except IndexError:\n                    pass\n                \n    # delete all surplus subplots that do not include any graphs\n    if row*col > len(cat_cols):\n        total_plot_num = row*col\n        plot_num = total_plot_num-len(cat_cols)\n        for i in reversed(list(range(plot_num))):\n            axes[row-1,col-i-1].set_visible(False)\n            \n\n    plt.show()","74875569":"plot_cat_dist(data,object_cols,7,6,\"deepskyblue\",True,res)","e95dd4e4":"plot_cat_dist(data,discrete_cols,4,4,\"deepskyblue\",False)","ebf2555b":"def corr_plot(data,cols):\n    \"\"\"plot the heatmap of correlation coefficients of variables\"\"\"\n    # take a quick look at the relationship between variables\n    corr_matrix = data[cols].corr()\n    # Set up the matplotlib figure\n    # Generate a mask for the upper triangle\n    mask = np.triu(np.ones_like(corr_matrix, dtype=bool))\n    fig, ax = plt.subplots(figsize=(25, 25),dpi=100,facecolor=\"whitesmoke\")\n    sns.heatmap(corr_matrix,cmap=\"Blues\",annot=True,mask=mask,ax=ax,center=0,square=True,linewidths=.5,cbar_kws={\"shrink\": .5})\n    ax.set_facecolor(\"whitesmoke\")\n    ax.set_title(\"Heatmap of Correlation Coefficient\",weight=\"bold\",fontsize=14)\n    plt.show()\n    \n    \n\ncorr_plot(data,numerical_cols)","95333f19":"data.columns[data.columns.str.contains(\"Area\")]","c04c55c7":"# Visualize the distribution of target variable\nfig,ax = plt.subplots(1,1,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\nsns.regplot(data=data,x=\"YearBuilt\",y=\"SalePrice\",color='black',ax=ax)\nax.set_xlabel(\"Year Built\",fontsize=14)\nax.set_ylabel(\"Sale Price\",fontsize=14)\nax.set_title(\"Sale Price Against Year Built\",fontsize=16,weight=\"bold\")\nax.set_facecolor('whitesmoke')\nax.set_xticks(np.arange(data[\"YearBuilt\"].min(),data[\"YearBuilt\"].max()+1,2))\nfor spine in [\"top\",\"right\"]:\n    ax.spines[spine].set_visible(False)\nplt.xticks(rotation=45)\nplt.show()","7dc1e9f3":"# filter out built around 1892 and with higher than prie of 400000\nattributes = [\"Id\",'OverallQual',\"SalePrice\",\"GrLivArea\",\"GarageArea\",\"TotalBsmtSF\",\"HalfBath\"]\ndata.query(\"YearBuilt==1892\")[attributes]","d95781a8":"from sklearn.preprocessing import PolynomialFeatures\n\ndef RSS(f,x,y):\n    \"\"\"compute the residuals sum of squares\"\"\"\n    return np.sum((f(x)-y)**2)\n\n\ndef poly_plot(data,specified_var,target_var,plot_x,degree,x_label):\n    \"\"\"perform poly transformation on the specified variable,\n        compare RSS with RSS for the transformed variables,\n        and plot the specified variable against target variable\"\"\"\n    \n    x = data[specified_var]\n    y = data[target_var]\n    # get the rss for non-poly transformation\n    poly_coefs = np.polyfit(x,y,1)\n    poly_func = np.poly1d(poly_coefs)\n    rss1 = RSS(poly_func,x,y)\n    print(f\"RSS before Poly Transformation:{rss1}\")\n    # get the results of degree-3 polynomial transformation\n    poly_coefs = np.polyfit(x,y,degree) # get the coefficients of degree-3 poly function\n    poly_func = np.poly1d(poly_coefs)\n    rss2 = RSS(poly_func,x,y)\n    print(f\"RSS after Poly Transformation:{rss2}\")\n\n    # compute the result of polynomial function\n    poly_func = np.poly1d(poly_coefs)\n    fig,ax = plt.subplots(1,1,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\n    sns.scatterplot(x,y,alpha=0.5,color=\"black\",ax=ax)\n    sns.lineplot(plot_x,poly_func(plot_x),color=\"deepskyblue\",linewidth=3)\n    ax.set_facecolor(\"whitesmoke\")\n    ax.set_xlabel(x_label,fontsize=14)\n    ax.set_ylabel(\"Sale Price\",fontsize=14)\n    for i in [\"right\",\"top\"]:\n        ax.spines[i].set_visible(False)\n    plt.show()","067c2d5b":"poly_plot(data,\"YearBuilt\",\"SalePrice\",np.arange(1872,2011,1),\n         3,\"Year Built\")","f12553f1":"def plot_scatter(data,x,xlab,):\n    \"\"\"inspect the relationship between specified variable\n        and sales price\"\"\"\n    fig,ax = plt.subplots(1,1,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\n    sns.regplot(data=data,x=x,y=\"SalePrice\",color='black',ax=ax)\n    ax.set_xlabel(xlab,fontsize=14)\n    ax.set_ylabel(\"Sale Price\",fontsize=14)\n    ax.set_facecolor('whitesmoke')\n    for spine in [\"top\",\"right\"]:\n        ax.spines[spine].set_visible(False)","9b1c727c":"# create the age variable\nsns.set_style(\"darkgrid\")\ndata[\"house_age\"] = data[\"YrSold\"] - data[\"YearRemodAdd\"]\n#test_data[\"house_age\"] = test_data[\"YrSold\"] - test_data[\"YearRemodAdd\"]\nplot_scatter(data,\"house_age\",\"House Age\")","243e759d":"# create variable IsRemod\ndata['IsRemod'] = (data[\"YearBuilt\"] != data[\"YearRemodAdd\"]).astype('int')\n#test_data['IsRemod'] = (test_data[\"YearBuilt\"] != test_data[\"YearRemodAdd\"]).astype('int')\n\n# compute median price for all houses\nmean_house_price = data[\"SalePrice\"].median()\n\n# visualize\nsns.set_style('darkgrid')\nfig,ax = plt.subplots(1,1,figsize=(9,5),dpi=100,facecolor=\"whitesmoke\")\nsns.barplot(data=data,x='IsRemod',y=\"SalePrice\",color='deepskyblue',estimator=np.median)\nax.hlines(y=mean_house_price,xmin=-0.5,xmax=1.5,colors=\"black\",linewidth=1.5,linestyles=\"dashed\")\nax.set_xlabel(\"Is Remodeled\")\nax.set_ylabel(\"Median Sale Price\")\nax.set_facecolor(\"whitesmoke\")\nax.set_xticklabels([\"No Renovation\",'Renovation'])\nfor spine in [\"top\",\"right\"]:\n        ax.spines[spine].set_visible(False)\nplt.show()","5dec2b9b":"# create IsNew variable for verification of my assumption\ndata[\"IsNew\"] = data.YrSold == data.YearBuilt\n#test_data[\"IsNew\"] = test_data.YrSold == test_data.YearBuilt\n\n# visualize\nsns.set_style('darkgrid')\nfig,ax = plt.subplots(1,1,figsize=(9,5),dpi=100,facecolor=\"whitesmoke\")\nsns.barplot(data=data,x='IsNew',y=\"SalePrice\",color='deepskyblue',estimator=np.median)\nax.hlines(y=mean_house_price,xmin=-0.5,xmax=1.5,colors=\"black\",linewidth=1.5,linestyles=\"dashed\")\nax.set_xlabel(\"Is New House\")\nax.set_ylabel(\"Median Sale Price\")\nax.set_facecolor(\"whitesmoke\")\nax.set_xticklabels([\"Not Completely New\",\"Completely New\"])\nfor spine in [\"top\",\"right\"]:\n        ax.spines[spine].set_visible(False)\nplt.show()","ab1604ab":"# compare median housing price across year\nsns.set_style('darkgrid')\nfig,ax = plt.subplots(1,2,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\nsns.barplot(data=data,x='YrSold',y=\"SalePrice\",color='deepskyblue',estimator=np.median,ax=ax[0])\nax[0].hlines(y=mean_house_price,xmin=-0.5,xmax=4.5,colors=\"black\",linewidth=1.5,linestyles=\"dashed\")\nax[0].set_xlabel(\"Year Sold\")\nax[0].set_ylabel(\"Median Sale Price\")\nax[0].set_facecolor(\"whitesmoke\")\nfor spine in [\"top\",\"right\"]:\n        ax[0].spines[spine].set_visible(False)\n\n\n# draw bar plot for median housing prices across months\nsns.barplot(data=data,x='MoSold',y=\"SalePrice\",color='deepskyblue',estimator=np.median,ax=ax[1])\nax[1].hlines(y=mean_house_price,xmin=-1,xmax=12,colors=\"black\",linewidth=1.5,linestyles=\"dashed\")\nax[1].set_xlabel(\"Month Sold\")\nax[1].set_ylabel(\"Median Sale Price\")\nax[1].set_facecolor(\"whitesmoke\")\nfor spine in [\"top\",\"right\"]:\n        ax[1].spines[spine].set_visible(False)\n\nplt.show()","6c8285ed":"# Visualize the distribution of target variable\nfig,ax = plt.subplots(1,1,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\nsns.boxplot(data=data,x=\"OverallQual\",y=\"SalePrice\",color='deepskyblue',ax=ax,saturation=0.5)\nax.set_xlabel(\"Overall Quality\",fontsize=14)\nax.set_ylabel(\"Sale Price\",fontsize=14)\nax.set_facecolor('whitesmoke')\nfor spine in [\"top\",\"right\"]:\n    ax.spines[spine].set_visible(False)\nplt.show()","0e1f8e17":"# filter out the hosue with quality of 4 and price higher than 200K\ndata.query(\"OverallQual==4 and SalePrice>200000\")[[\"Id\",'OverallQual',\"SalePrice\",\"GrLivArea\",\"GarageArea\",\"TotalBsmtSF\",\"HalfBath\"]]","825d3279":"def plot_scatter(data,x,xlab):\n    # Visualize the distribution of target variable\n    fig,ax = plt.subplots(1,1,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\n    sns.regplot(data=data,x=x,y=\"SalePrice\",color='black',ax=ax)\n    ax.set_xlabel(xlab,fontsize=14)\n    ax.set_ylabel(\"Sale Price\",fontsize=14)\n    ax.set_facecolor('whitesmoke')\n    for spine in [\"top\",\"right\"]:\n        ax.spines[spine].set_visible(False)\n    plt.show()\n    \nplot_scatter(data,\"TotalBsmtSF\",\"Total Basement Square Footage\")","0f8059c8":"data.query(\"TotalBsmtSF>6000\")[attributes]","7c1b1f7b":"plot_scatter(data,\"1stFlrSF\",\"First Floor Square Footage\")","565f9516":"plot_scatter(data,\"GrLivArea\",\"living area square feet\")","43c08444":"data.query(\"GrLivArea>4000\")[attributes]","d49b1f1d":"plot_scatter(data,\"GarageArea\",\"Size of garage in square feet\")","90aa1494":"data.query(\"GarageArea>1200\")[attributes+[\"house_age\",\"IsNew\",\"IsRemod\"]]","17e67a95":" plot_scatter(data,\"2ndFlrSF\",\"Second floor square feet\")","6c6b35d5":"poly_plot(data,\"2ndFlrSF\",\"SalePrice\",np.arange(0,2100,1),\n         2,\"Second Floor Square Footage\")","dfa8bddd":"plot_scatter(data,'PoolArea',\"Pool Area\")","70ee33d4":"# create a variables HavePool\ndata[\"HavePool\"] = data.PoolArea>0\n\n# visualize\nsns.set_style('darkgrid')\nfig,ax = plt.subplots(1,1,figsize=(9,5),dpi=100,facecolor=\"whitesmoke\")\nsns.barplot(data=data,x='HavePool',y=\"SalePrice\",color='deepskyblue',estimator=np.median)\nax.hlines(y=mean_house_price,xmin=-0.5,xmax=1.5,colors=\"black\",linewidth=1.5,linestyles=\"dashed\")\nax.set_xlabel(\"Have Pool\")\nax.set_ylabel(\"Median Sale Price\")\nax.set_facecolor(\"whitesmoke\")\n#ax.set_xticklabels([\"Not Completely New\",\"Completely New\"])\nfor spine in [\"top\",\"right\"]:\n        ax.spines[spine].set_visible(False)\nplt.show()","0a054a2b":"# have a look at the columns with Porch\nporches = data.columns[data.columns.str.contains(\"Porch\")].tolist()+[\"WoodDeckSF\"]\ndata[porches].head(5)","2bff2c3b":"# create the variable Total Porch Area\ndata['TotalPorchSF'] = data.OpenPorchSF + data.EnclosedPorch + \\\ndata[\"3SsnPorch\"] + data.ScreenPorch + data.WoodDeckSF\n\n# examine its association with sale price\ncoef = data[\"TotalPorchSF\"].corr(data[\"SalePrice\"])\nprint(f\"Correlation Coefficient:{round(coef,3)}\")\nplot_scatter(data,\"TotalPorchSF\",\"Total Porch Area\")","718f0715":"poly_plot(data,\"TotalPorchSF\",\"SalePrice\",np.arange(1,1100),\n         2,\"Total Porch Square Footage\")","ebfc528e":"coef = data[\"LotArea\"].corr(data[\"SalePrice\"])\nprint(f\"Correlation Coefficient:{round(coef,3)}\")\nplot_scatter(data,\"LotArea\",\"Lot Area\")","e9a53f7c":"data['LogLotArea'] = np.log10(data[\"LotArea\"])\nplot_scatter(data,\"LogLotArea\",\"Log10(Lot Area)\")","e058de06":"# create the total area var\ndata[\"TotalArea\"] = data['GrLivArea'] + data['GarageArea'] +\\\ndata['TotalPorchSF']\n\n# visualization\nplot_scatter(data,\"TotalArea\",\"Total Area\")","3ae99244":"# create the total area var\ndata[\"TotalLivingArea\"] = data['GrLivArea'] + data['TotalBsmtSF']\n\n# visualization\ncoef = data[\"TotalLivingArea\"].corr(data[\"SalePrice\"])\nprint(f\"Correlation Coefficient:{round(coef,3)}\")\nplot_scatter(data,\"TotalBsmtSF\",\"Total Basement Area\")","d4b90c3d":"plot_scatter(data,\"MiscVal\",\"miscellaneous feature\")","99c9bbca":"from sklearn.preprocessing import LabelEncoder\nfrom sklearn.impute import SimpleImputer\nfrom sklearn.feature_selection import SelectKBest,chi2\n\nX = data[object_cols]\ny = data.SalePrice\nimputer = SimpleImputer(strategy=\"most_frequent\")\nX_imputed = imputer.fit_transform(X)\nencoder = LabelEncoder()\nX_encoded = pd.DataFrame(X_imputed,columns=X.columns).apply(lambda col:encoder.fit_transform(col))\nselector = SelectKBest(chi2,20)\nX_selected = selector.fit_transform(X_encoded,y)\nX.columns[selector.get_support()]","3ea165c2":"def plot_cat_relation_cnt(data,var,xlab,box=True,**kwargs):\n    \"\"\"plot the median housing price within each cat of categorical variales\n        and compare it with median price across all houses\"\"\"\n    \n    # create one figure and two axes\n    fig,ax = plt.subplots(1,2,figsize=(15,5),dpi=100,facecolor=\"whitesmoke\")\n    # calculate the maximum length for the horizontal line\n    max_len = data[var].nunique()-0.5\n    \n    if box:\n        # visualize\n        sns.set_style('darkgrid')\n    \n        plots_x = sns.boxplot(data=data,x=var,y=\"SalePrice\",color='deepskyblue',ax=ax[0],**kwargs)\n        ax[0].hlines(y=mean_house_price,xmin=-0.5,xmax=max_len,colors=\"crimson\",linewidth=1.5,linestyles=\"dashed\")\n        ax[0].set_xlabel(xlab)\n        ax[0].set_ylabel(\"Median Sale Price\")\n        ax[0].set_facecolor(\"whitesmoke\")\n        #ax.set_xticklabels([\"Not Completely New\",\"Completely New\"])\n        for spine in [\"top\",\"right\"]:\n                ax[0].spines[spine].set_visible(False)\n        if data[var].nunique()>=10:\n            ax[0].set_xticklabels(plots_x.get_xticklabels(),rotation=45)\n    else:\n        sns.set_style('darkgrid')\n        plots_x = sns.barplot(data=data,x=var,y=\"SalePrice\",color='deepskyblue',estimator=np.median,ax=ax[0],**kwargs)\n        ax[0].hlines(y=mean_house_price,xmin=-0.5,xmax=max_len,colors=\"crimson\",linewidth=1.5,linestyles=\"dashed\")\n        ax[0].set_xlabel(xlab)\n        ax[0].set_ylabel(\"Median Sale Price\")\n        ax[0].set_facecolor(\"whitesmoke\")\n        #ax.set_xticklabels([\"Not Completely New\",\"Completely New\"])\n        for spine in [\"top\",\"right\"]:\n                ax[0].spines[spine].set_visible(False)\n        if data[var].nunique()>=10:\n            ax[0].set_xticklabels(plots_x.get_xticklabels(),rotation=45)\n    \n    # examine the distribution of the variable\n    temp = data[var].value_counts().reset_index().rename(columns={'index':var,var:\"Frequency\"})\n    plots = sns.barplot(data=temp,x=var,y=\"Frequency\",color='deepskyblue')\n    # Iterrating over the bars one-by-one\n    for bar in plots.patches:\n\n      # Using Matplotlib's annotate function and\n      # passing the coordinates where the annotation shall be done\n      # x-coordinate: bar.get_x() + bar.get_width() \/ 2\n      # y-coordinate: bar.get_height()\n      # free space to be left to make graph pleasing: (0, 8)\n      # ha and va stand for the horizontal and vertical alignment\n        plots.annotate(format(bar.get_height(), '.0f'),\n                       (bar.get_x() + bar.get_width() \/ 2,\n                        bar.get_height()), ha='center', va='center',\n                       size=12, xytext=(0, 8),\n                       textcoords='offset points')\n\n    ax[1].set_xlabel(xlab)\n    ax[1].set_ylabel(\"Frequency\")\n    ax[1].set_facecolor(\"whitesmoke\")\n    ax[1].set_facecolor(\"whitesmoke\")\n    for spine in [\"top\",\"right\"]:\n        ax[1].spines[spine].set_visible(False)\n    \n    # rotate the x ticks labels when there are more than 10 categories\n    if data[var].nunique()>=10:\n            ax[1].set_xticklabels(plots.get_xticklabels(),rotation=45)\n    plt.show()","c7447825":"plot_cat_relation_cnt(data,\"LotShape\",\"Lot Shape\",True,saturation=0.5)","e1507773":"plot_cat_relation_cnt(data,\"LotConfig\",\"Lot Configuration\",saturation=0.5)","44086ee3":"# convert the missing values into NA\ndata[\"Alley\"] = np.where(data[\"Alley\"].isnull(),\"NA\",data[\"Alley\"])\n\n# then examine the distribution of the alley vairable\nplot_cat_relation_cnt(data,\"Alley\",\"Alley\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","d546bf97":"# first examine the difference of housing price in different neighborhoods\nplot_cat_relation_cnt(data,\"Neighborhood\",\"Neighborhood\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","2efdbb5c":"# first examine the difference of housing price in different neighborhoods\nplot_cat_relation_cnt(data,\"Street\",\"Street\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","94bc34d0":"# first examine the difference of housing price in different neighborhoods\nplot_cat_relation_cnt(data,\"MSZoning\",\"General Zoning Classification\",True,saturation=0.5)","caa89235":"plot_cat_relation_cnt(data,'MSSubClass',\"Type of Dwelling\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","0b040c3e":"dwel_map = {20:0,30:1,40:2,45:3,50:4,60:5,70:6,75:7,80:8,85:9,90:10,120:11,150:12,160:13,180:14,190:15}\n# update the values of the variable\ndata[\"MSSubClass\"] = data[\"MSSubClass\"].replace(dwel_map)","fe25bfb2":"plot_cat_relation_cnt(data,\"BldgType\",\"Type of Dwelling\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","4618f66e":"plot_cat_relation_cnt(data,\"HouseStyle\",\"House Style\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","07a2a1ab":"plot_cat_relation_cnt(data,'RoofStyle','Roof Style',False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","dfa4236c":"# look at the data\n(data[\"Exterior2nd\"] == data['Exterior2nd']).head()","f2216e3b":"(data[\"Exterior2nd\"] == data['Exterior2nd']).value_counts()","88da5742":"plot_cat_relation_cnt(data,'Exterior1st','Exterior1st',False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","bb2e0db0":"plot_cat_relation_cnt(data,'LandSlope','LandSlope',False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","f7825e9c":"plot_cat_relation_cnt(data,\"Utilities\",\"Type of Utilities\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","313cf72e":"plot_cat_relation_cnt(data,\"Foundation\",\"Type of Foundation\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","4f4f52cd":"# replace NULL with specified string character\ndata[\"BsmtQual\"] = np.where(data[\"BsmtQual\"].isnull(),\"None\",data[\"BsmtQual\"])\n\n# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"BsmtQual\",\"Basement Quality\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","b1a30f59":"# replace NULL with specified string character\ndata[\"BsmtExposure\"] = np.where(data[\"BsmtExposure\"].isnull(),\"None\",data[\"BsmtExposure\"])\n\nplot_cat_relation_cnt(data,\"BsmtExposure\",\"Basement Exposure\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","5bbc619e":"# replace NULL with specified string character\ndata[\"BsmtFinType1\"] = np.where(data[\"BsmtFinType1\"].isnull(),\"None\",data[\"BsmtFinType1\"])\n\n# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"BsmtFinType1\",\"Rating of Basement Finished Area\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","35e1ff09":"plot_cat_relation_cnt(data,\"BsmtFullBath\",\"Basement Full Bathrooms\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","f300c1f2":"plot_cat_relation_cnt(data,\"BsmtHalfBath\",\"Basement Full Bathrooms\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","aa181150":"plot_cat_relation_cnt(data,\"HeatingQC\",\"Heating Quality\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","c6943d18":"plot_cat_relation_cnt(data,\"Heating\",\"Heating Type\",True,saturation=0.5)","26cd5779":"# replace NULL with specified string character\ndata[\"GarageType\"] = np.where(data[\"GarageType\"].isnull(),\"None\",data[\"GarageType\"])\n\n# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"GarageType\",\"Garage Type\",True,saturation=0.5)","f002830a":"# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"CentralAir\",\"Central Air Conditioning\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","9b3d3a4d":"# replace NULL with specified string character\ndata[\"GarageFinish\"] = np.where(data[\"GarageFinish\"].isnull(),\"None\",data[\"GarageFinish\"])\n\n# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"GarageFinish\",\"Interior finish of the garage\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","fba4b47d":"# replace NULL with specified string character\ndata[\"GarageQual\"] = np.where(data[\"GarageQual\"].isnull(),\"None\",data[\"GarageQual\"])\n\n# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"GarageQual\",\"Garage Quality\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","9bd68646":"# replace NULL with specified string character\ndata[\"GarageCond\"] = np.where(data[\"GarageCond\"].isnull(),\"None\",data[\"GarageCond\"])\n#test_data[\"GarageCond\"] = np.where(test_data[\"GarageCond\"].isnull(),\"None\",test_data[\"GarageCond\"])\n# inspect association with housing price and its distribution\nplot_cat_relation_cnt(data,\"GarageCond\",\"Garage Condition\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","39e6cf92":"plot_cat_relation_cnt(data,\"GarageCars\",\"Size of Garage(in Car Capacity)\",True,saturation=.5)","406af115":"plot_cat_relation_cnt(data,\"KitchenAbvGr\",\"Kitchen Above Grade\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","dc515cdd":"plot_cat_relation_cnt(data,\"KitchenQual\",\"Kitchen Quality\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","bbaeba09":"# replace NULL with specified string character\ndata[\"FireplaceQu\"] = np.where(data[\"FireplaceQu\"].isnull(),\"None\",data[\"FireplaceQu\"])\n#test_data[\"FireplaceQu\"] = np.where(test_data[\"FireplaceQu\"].isnull(),\"None\",test_data[\"FireplaceQu\"])\nplot_cat_relation_cnt(data,\"FireplaceQu\",\"Fireplace Quality\",False,saturation=0.5,\n                     errwidth=2,errcolor=\"darkblue\",capsize=.2)","aacd59ed":"plot_cat_relation_cnt(data,\"Fireplaces\",\"Number of Fireplaces\",False,saturation=0.5,\n                      errwidth=2,errcolor=\"darkblue\",capsize=.2)","c48d7ae2":"plot_cat_relation_cnt(data,\"Electrical\",\"Electrical System\",True,saturation=0.5)","81febf80":"data[\"MiscFeature\"] = np.where(data[\"MiscFeature\"].isnull(),\"None\",data[\"MiscFeature\"])\n#test_data[\"MiscFeature\"] = np.where(test_data[\"MiscFeature\"].isnull(),\"None\",test_data[\"MiscFeature\"])\nplot_cat_relation_cnt(data,\"MiscFeature\",\"Miscellaneous feature\",True,saturation=0.5)","f45736a2":"plot_cat_relation_cnt(data,\"OverallCond\",\"Rating of Overall Condition of the House\",False,saturation=0.5,\n                      errwidth=2,errcolor=\"darkblue\",capsize=.2)","ef5f385d":"plot_cat_relation_cnt(data,'BedroomAbvGr',\"Bedrooms above grade\",False,saturation=0.5,\n                      errwidth=2,errcolor=\"darkblue\",capsize=.2)","9cb02654":"plot_cat_relation_cnt(data,\"TotRmsAbvGrd\",\"Total rooms above grade\",False,saturation=0.5,\n                      errwidth=2,errcolor=\"darkblue\",capsize=.2)","fdc4b98e":"##### Porch Area\n\n**What is a porch?**\n\nA Porch is a structure extended from the main structure to form a shelter cover that is attached to the front entrance of the building or house. \n\n![image-2.png](attachment:image-2.png)","6f2753a7":"**Interpretation:**\n\nThere is a relatively positive quasi-linear relationship betweeen total porch area and sale price. \n\nSince the data points show a non-linear relationship, I examine whether the polynomial regression can provide a better fit.","eca93e9d":"**Interpretation:**\n\n- There is an obvious logical sequence, from no to yes\n- A positive correlation can be identified: a house with good air conditioning is more valuable","e7874259":"**Interpretation:**\n\nHouse with a tennis court is most expensive. There is no ordinality, so I just convert the variable into  five dummy variables.\n\nIn addition, the last three classes in the histogram are too small to be reliably estimated. Even if I collect the three categories into one special bin, it still has only 5 observations. So **I will drop the three categories.**","c6c37832":"#### House Heating & Air\n\n- HeatingQC\n- Heating\n- CentralAir","f8902b46":"**Interpretation:**\n\nThere is no ordinality, and some categories have very small sample size, such as 40,45, and 180.\n\n**I will encode these numbers as a list of numbers starting from 0 and ending at the length of it. Then perform onehot encoding on the variable.**","4e415dcc":"##### Total Living Area\n\nBased on the correlation matrix, GrLivArea is the second largest determinant, indicating that people places greater importance on the activity space. Since basement is also another kind of living space, I combine the two variables into one TotalLivingArea.","5e2b99d8":"**Interpretation:**\n\nA house with paved access road is more valuable than one with gravel road. This makes sense in real world. So I will ordinally encode the variable.","f699f8ca":"Each house has only one of the four kinds of porch. Some houses have both the porch and deck, which is a type of porch outside the hosue. We can combine them together into one variable indicating the square footage of a house. ","0b67592d":"**Intrepretation:**\n\nWe can obtain the same insights as what we have seen in IsRemodel. Just as we expect, the new houses has much more higher median prices than houses that are not completely new.","f137c36e":"**Intrepretation:**\n\nNo ordinality exists in the variable, and housing price does differ significantly in some categories. I will add dummy variables for these categories.","7d16b2b8":"##### Neighborhood\n\n- Blmngtn\tBloomington Heights\n- Blueste\tBluestem\n- BrDale\tBriardale\n- BrkSide\tBrookside\n- ClearCr\tClear Creek\n- CollgCr\tCollege Creek\n- Crawfor\tCrawford\n- Edwards\tEdwards\n- Gilbert\tGilbert\n- IDOTRR\tIowa DOT and Rail Road\n- MeadowV\tMeadow Village\n- Mitchel\tMitchell\n- Names\tNorth Ames\n- NoRidge\tNorthridge\n- NPkVill\tNorthpark Villa\n- NridgHt\tNorthridge Heights\n- NWAmes\tNorthwest Ames\n- OldTown\tOld Town\n- SWISU\tSouth & West of Iowa State University\n- Sawyer\tSawyer\n- SawyerW\tSawyer West\n- Somerst\tSomerset\n- StoneBr\tStone Brook\n- Timber\tTimberland\n- Veenker\tVeenker\n\nThere are 25 categories of neighborhood, so we need to engineer the variable to compress the number of categories.","1f492a31":"#### Size Variables\n- Total basement square footage\n- First floor square footage\n- Second floor square footage\n- Above grade living area\n- Garage area\n- Pool area\n- Porch area\n- WoodDeckSF\n\nThe size variables mainly describe the area of a house, such as the kitchen area, garage area, and living area. The value of a home is roughly estimated in price per square foot \u2014 the sales price divided by the square footage of the home. So the bigger house should be more valuable.","a20453d1":"##### FireplaceQu\n\n**Fireplace Quality:**\n\n- Ex: Excellent - Exceptional Masonry Fireplace\n- Gd: Good - Masonry Fireplace in main level\n- TA: Average - Prefabricated Fireplace in main living area or Masonry Fireplace in basement\n- Fa: Fair - Prefabricated Fireplace in basement\n- Po: Poor - Ben Franklin Stove\n- NA: No Fireplace","cea360f2":"#### Categorical Variables\n\nThrough viewing the distribution of categorical variables, I try to discover insights into which categorical variable has logical ordering so that we can conduct *ordinal encoding* on such variables. As for categorical variables without logical sequence, I will just perform *one-hot* encoding on them.","b3e3f0f3":"These attributes strongly correlated with sale price all indicate that the house should be priced higher than the current price. I will consider the single point as an outlier.","056ba266":"**Interpretation:**\n\nthere is a weak positive association between Lot Area and SalePrice. The association is severly impacted by outliers with extremely huge size of lot.\n\nLet's try log transformation on LotArea and inspect the association again.","c7d4721e":"##### Over Quality of House\n\nThe rating of overall quality ranges from 1 to 10, with 1 being the wrost and 10 being very excellent.","2d2abbd3":"Through a quick look at the descriptive results, we can summarize some findings:\n\n- When checking the minimal values and maximal values of each variable, we can easily find that for some variables, such as `LotArea` and `BsmtFinSF1`, values can span several orders of magnitude. The spanning suggests that we might need to perform some transformation on these variables to get rid of **the heavy-tail distribution.**\n- Then the scale across variables are obviously different, with some variables being very small and others being very large. The different orders of magnitude can wreak havoc in leanring methods, so feature scaling might need to be implemented.","07f5f1f3":"### Covariation between Categorical Predictors and Target Variable\n\nSince there are a considerable number of categorical variables, I decided to first use Chi2sq to select the feaures with high chi-square, providing me with direction of analysis. I first examine these variables and then other similar ones.","fe0a0a87":"**Intrepretation:**\n\nIn the right-hand table, a severely imbalanced distribution can be identified. Only one observation is in NoSewa, meaning that the categorical variable has basically zero variance. I will keep the variable in mind and delete it in data cleaning section.","9e4aac78":"#### MiscVal\n\nValue of miscellaneous feature","c1f37166":"### Covariation between Continuous Predictors and Target Variable\n\nSince the correlation matrix has revealed the strongl correlated variables, I first examine the relationship between these variables and sale price of houses.\n\n#### Year variables\n\nYear variables include `YearBuilt`, `YearSold`, and `YearRemodAdd`. The three variables determine the age of house. The remodelling year equals to the construction year for houses without any renovation, so the two variables are highly correlated. Also, we can know whether the house experienced any renovation in the past based on the equi-condition of the two variables. \n\n##### YearBuilt\n\nFirst, I inspect the association between construction year and sale price and spot any outliers.","1dfe0bdc":"#### Roof Variables\n\n- RoofStyle\n    - Flat\n    - Gable\n    - Gambrel\tGabrel (Barn)\n    - Hip\n    - Mansard\n    - Shed\n- RoofMat1\n    - ClyTile\tClay or Tile\n    - CompShg\tStandard (Composite) Shingle\n    - Membran\n    - Metal\n    - Roll\n    - Tar&Grv\tGravel & Tar\n    - WdShake\tWood Shakes\n    - WdShngl\tWood Shingles","17ce7236":"#### Fireplace Variables\n\n- FireplaceQU\n- Fireplaces","bf12117c":"**Interpretation:**\n\nThe median housing price basically increases with the change in the level of slope of property. Also ordinality exists in the three categories, from gentle slope to severe slope. I will assign ordinal numbers to them.","b6064d75":"It seems like that the first floor has the exactly same type as the second floor in terms of exterior covering.","fc594dc2":"##### Alley\n\n- *Grvl* Gravel\n- *Pave* Paved\n- *NA* No alley access\n\nThe missing values in Alley variable means there is no alley access. ","835aad44":"# Data Loading","6437b087":"**Interpretation:**\n\nBasically, more irregular houses enjoy higher prices, indicating that there is a positive association between the degree of being irregular and sale prices.","1ab00582":"##### Kitchen Quality\n\n- Ex: Excellent\n- Gd: Good\n- TA: Typical\/Average\n- Fa: Fair\n- Po: Poor","5a584c4e":"##### Street\n\n**Type of road access to property:**\n- Grvl: Gravel\t\n- Pave: Paved","b009d68a":"**Interpretation:**\n\n- A range of variables show binmodal or multimodel distributions, such as `YearBuilt`, `YearRemodAdd`, `2ndFirSF`, and `GarageYrBit`, and the distribution violates the assumption of linear models. I decided to perform Gaussian Mixture Modeling to transform these varaibles.\n- There are also some variables, such as `LotArea` and `MasVnrArea`, that are positively skewed distributed. The heavy-tailed distribution can be transformed by log transform.","7e11dac0":"##### BsmtQual\n\n- Ex: Excellent\n- Gd: Good\n- TA: Typical - slight dampness allowed\n- Fa: Fair - dampness or some cracking or settling\n- Po: Poor - Severe cracking, settling, or wetness\n- NA: No Basement\n\nThe missing observations in `BsmtQual` means no basement. So I will replace the value of missing observaitons from NULL to \"NA\". ","8cb855c6":"**Interpretation:**\n\nNo ordinality can be found in this variable, so just convert the variable into several dummy variables.","e888b766":"**Interpretation:**\n\n- The saleprice of houses is strongly correlated with the size of house. For example, total square feet of basement area and First Floor square feet have the same correlation coefficient, 0.61. Similarly, the Above grade (ground) living area square feet has 0.71 corrleaiton coefficient with the sale price of houses. \n- Also, `YearBuilt` and `YearRemodAdd` is also relatively, strongly correlated with sale price of houses. The fact that critical parts of the house, like plumbing, electrical, the roof, and appliances are recently remodeled and therefore less likely to break down, can generate savings for a buyer.\n- The quality of houses, `OverallQual`, is also a good indicator for housing prices.\n- There is collinearity between predictors.","9ffffda2":"##### CentralAir\n\n**Central air conditioning:**\n- N\tNo\n- Y\tYes","0a1047e2":"**Interpretation:**\n\n- A positive association can be found here: if a garage can accommdate more cars, it will be more valuable.\n- The low price makes sense for a small garage that cannot accommdate any car.","6b9fad34":"### Predictor Variables\n\nIn the section, we split the predictors into categorical variables and continuous variables and discrete variables. Then, we inspect the distribution of variables of the three classes.\n\n#### Continuous Variables\n\nLet's make histograms for continuous variables to examine the distribution of features. If many features are not normally distributed, we might can transform them to be more Gaussian so that some linear models perform better when using these features.","b063ddad":"##### Mszoning\n\n**Identifies the general zoning classification of the sale:**\n- A: Agriculture\n- C: Commercial\n- FV: Floating Village Residential\n- I: Industrial\n- RH: Residential High Density\n- RL: Residential Low Density\n- RP: Residential Low Density Park \n- RM: Residential Medium Density","13608b5b":"**Interpretation:**\n\n0 bathroom seems not to be significantly different from one half bathroom in terms of sale price. Also, the sample size of 2 half bathroom is too small to be reliably estimated. **I will not include the variable in model.**","21ef8fe2":"**Interpretation:**\n\nThere is a monotomically increasing trend of housing price with the increase in total rooms, althrough the housing price suddenly reduces after 11.\n\nSo the current ordinal numbers are reasonable here.","432ae761":"##### Total Basement Square Frontage","678c0b82":"#### Exterior Variables\n\n- Exterior1st: Exterior covering on house\n- Exterior2nd: Exterior covering on house (if more than one material)\n\nThe covering categories are completely same for the two types of exterial covering.","acf112e1":"**Interpretation:**\n\nThe error bars of the bars indicate that The housing price of class 1 differs significantly from that of class 2. Furthermore, class 0 and class 3 do not have sufficiently large enough sample, so they should be deleted.","662c49f4":"##### Kitchen Above Grade\n","b98524f9":"The low quality and old age can explain the low price of these houses.","8ca09853":"#### MiscFeature\n\n**Miscellaneous feature not covered in other categories:**\n- Elev: Elevator\n- Gar2: 2nd Garage (if not described in garage section)\n- Othr: Other\n- Shed: Shed (over 100 SF)\n- TenC: Tennis Court\n- NA: None\n\nMissing values mean that the variable does not have these miscelleneous features, so I will convert these missing values into None.","96e3b649":"**Interpretation:**\n\nAs expected, the number of fireplaces positively impacts the housing price. ","6e378e22":"##### Heating\n\n- Floor: Floor Furnace\n- GasA: Gas forced warm air furnace\n- GasW: Gas hot water or steam heat\n- Grav: Gravity furnace\t\n- OthW: Hot water or steam heat other than gas\n- Wall: Wall furnace","da57bc47":"**Interpretation:**\n\n- As expected, the median housing price increases with rising rating of house condition. So the current ordinal encoding works well.\n- The second category of rating, which is poor, has an extremely large confidence interval, meaning huge variability. Probabily this is because the very small sample size cannot reliably estimate the housing price.  Since they are ordinal numbers instead of categories, I just leave as what they are.","5a58d7e8":"# Exploratory Data Analysis\n\nWhen exploring the dataset, we always need to ask ourselves two questions:\n\n- What type of variation occurs within my variables?\n- What type of covariation occurs between my variables?\n\nVariation within variables indicate that we need to inspect the magnitude, scale, and distribution of variables by histogram or boxplot, etc, while covariation between variables mean **whether variables are correlated with each other? Whether the impact of one predictor on target variable is influenced by other variables?(interaction) and so on.**\n\n","372ac13c":"**Interpretation:**\n\n`3SsnPorch`, which is three season porch area in square feet, has majority of values centering aound 0 but just very few observations scattering over the other categories. The same pattern can be viewed in `PoolArea`. These categories are called rare categories. One way to deal with this is through *back-off method*, a simple technique that accumulates the counts of all rare categories in a special bin. If the count is greater than a certain threshold, then the category gets its own count statistics. Otherwise, we use the statistics from the back-off bin.","0fe9a1ad":"Based on the result, I will not include the `Exterior2nd` in model because it does not provide any new information about the housing price. ","3ab74b41":"**Interpretation:**\n\n- No ordinality can be identified\n- `2Types` and `CarPort` have fewer than 15 observations, so they will be collected in backoff bin.","4c25d668":"##### OverallCond\n\n**Rates the overall condition of the house:**\n- 10: Very Excellent\n- 9: Excellent\n- 8: Very Good\n- 7: Good\n- 6: Above Average\t\n- 5: Average\n- 4: Below Average\t\n- 3: Fair\n- 2: Poor\n- 1: Very Poor\n\n**Hunch: Higher rating should result in more valuable houses.**\n\nLet me prove the assumption","a8fdadb3":"**Interpretation:**\n\nThe top three important variables are all about quality, followed by Neighborhood. I decided to examine the top 20 categorical variables.","d775bbc9":"**Insights:**\n\n- There are total 81 variables and 1460 rows of observations.\n- Obviously, there are several variables including missing values.\n- Variables can be divided into three classes, object, float and int. We can write functions to extract columns with different categories so as to perform distinct transformations on these variables.","51fe1a35":"**Conclusion:**\n\nThese important determinants semmingly all indicate that the price does not make sense for ID 1299 and ID 524.","3548ba8e":"**Interpretation:**\n\nThese categories can be encoded ordinally","21517e8c":"**Intrepretation:**\n\n- No ordinality exists in the variable\n- The housing price varies from neighborhood to neighborhood\n- Non-overlapping error bars tell us that the difference is significant\n- Juse a few houses correspond to the categories of last three categories, which are all below 15. I will **accumulates the counts of all rare categories in a special bin.**\n- The majority of houses are the top three classes.","8341a519":"First, let's get a big picture of the relationships of continuous predictors with target variable.","57460738":"**Interpretation:**\n\n- A strong, positive curve can be easily identified in the plot, houses of higher quality has higher prices.\n- One single point, which is rated at 4, may be an outlier. ","eddc832e":"As expected, houses with greater age has lower price.","9b59497b":"##### TotRmsAbvGrd\n\nTotal rooms above grade (does not include bathrooms)","3b9c2a29":"**Interpretation:**\n\nJust to my expectation, only very few houses have pool. In the case, it is not reasonable to represent the variable in the form of being continuous. Instead, I will convert the variable to a binary variable to indicate whether the house has a pool.","f78ee629":"**Conclusion:**\n\nThe polynomial transformation indeed provides a better fit based on the smaller RSS and the fitted line that follows data points closer than before.","e5d546a6":"#### Housing Style Variables\n\n- MSSubClass\n- BldgType\n- HouseStyle","ddc06e07":"`LotConfig`\n- The interior lot is the most common lot type because it \u201cfronts\u201d on only one street. It lies between homes on the left and right side, facing the street with a yard behind the house. \n- A corner lot is just how it sounds, a piece of property that lies on the corner of two intersecting streets, causing frontage on two sides of the home. Corner lots allow easier access to the rear of the home, as well as the option for two separate entrances to the home.  \n- A cul-de-sac lot is a lot sitting in a cul-de-sac, or a dead-end street with a curved turnaround. The lots lose some of the front yard because of the curved frontage, but enjoy larger backyards, less traffic, and more privacy.","f2d34b8a":"#### Kitchen Variables\n\n- KitchenAbvGr\n- KitchenQual","57287109":"**Intrepretation:**\n\nAs expected, houses with higher quality enjoy higher sale price. The positive relation, combined with ordinality, means that ordinal encoding should be conducted on the variable.\n\n**Note: houses without basement have the lower median price. So None will be encoded as 0.**","13369a9a":"##### Is New?\n\nThere are also a number of houses whose year of selling equal to the year of construction, meaning that the house is completely new when being sold to people. **My hunch is that these completely new houses should priced higher.**","f86e98a3":"#### Electrical System\n\n- SBrkr: Standard Circuit Breakers & Romex\n- FuseA: Fuse Box over 60 AMP and all Romex wiring (Average)\t\n- FuseF: 60 AMP Fuse Box and mostly Romex wiring (Fair)\n- FuseP: 60 AMP Fuse Box and mostly knob & tube wiring (poor)\n- Mix: Mixed","318fb3bc":"##### GarageCars\n\nSize of garage in car capacity","1d22d2a0":"##### Lot Configuration","d25958ce":"**Interpretation:**\n\n- Skewness: A standard normal distribition has skewness of zero, but the skewness of tagret variable is 1.88. Also, histogram and qq plot can tell us the target variable is not normally distributed with slight positive skewness because the histogram has longer tail in the right side of the distribution and data points at both tails of QQ plot lie off the straight line.\n- Kurtosis: The kurtosis of normal distribution is 3 while that of the target variable is 6.54, suggesting heavier tails than tails of normal distribution. The heavier tails mean that values in both tails are **much more extreme** than those of normal distribution.\n\n**Summary:**\n\nThe distribution of target variable is a typical patten of heavy-tailed distribution: most of sale prices are small values but a few sale prices are extremely large. We can perform *log transformation* or *boxcox transformation* on the target variable to compress the long tail in the high end of the distribution into shorter tail. Also, we might map the sale prices to bins by *discretization*.","4f4bde82":"##### HouseStyle\n\n- 1Story\tOne story\n- 1.5Fin\tOne and one-half story: 2nd level finished\n- 1.5Unf\tOne and one-half story: 2nd level unfinished\n- 2Story\tTwo story\n- 2.5Fin\tTwo and one-half story: 2nd level finished\n- 2.5Unf\tTwo and one-half story: 2nd level unfinished\n- SFoyer\tSplit Foyer\n- SLvl\tSplit Level","4112506b":"**Conclusion:**\n\nGreater size of garage enjoys higer price, and this makes sense in real life. I also did not find conspicuous outlying observations for the variable.","a2794889":"##### Garage Area","11966026":"#### LandSlope\n\n- *Gtl* Gentle slope\n- *Mod* Moderate Slope\t\n- *Sev* Severe Slope","87abaabf":"When checking the other attributes of the house, the remarkable high price, compared with that of similar houses of overqual 4, seems to be not reasonable. I decided to remove the observation in data cleaning section.","e1c9b1b0":"**Interpretation:**\n\nIt seems like that the housing price does not increase monotomically or decrease monotomically with the rise of number of above-grade bedrooms. Therefore, the ordinal encoding does not make sense here. **I will encode them as dummy variables.**\n\nAlso, some categories have very small sample size. I will collect these categoreis in backoff bin.","e79a934d":"**Interpretation:**\n\n- No ordinality can be discovered in the `Foundation`\n- In right-hand table, the last two categories have fewer than 15 observations, meaning that they should be colleted together into one backoff bin.","19a1260e":"#### Discrete Variables.","d8dbf43d":"##### Age\n\nGiven the common sense that people make purchase decision based on the newest time of renovation, I decided to use `YearRemodAdd` to determine the age of houses.","c5434b4e":"##### GarageType\n\n- 2Types: More than one type of garage\n- Attchd: Attached to home\n- Basment: Basement Garage\n- BuiltIn: Built-In (Garage part of house - typically has room above garage)\n- CarPort: Car Port\n- Detchd: Detached from home\n- NA: No Garage","0f5385e7":"###### BsmtExposure\n\n- Gd: Good Exposure\n- Av: Average Exposure (split levels or foyers typically score average or above)\t\n- Mn: Mimimum Exposure\n- No: No Exposure\n- NA: No Basement","dd0df88b":"**Intrepretation:**\n\n- No ordinality can be found in the variable\n- There are four categories that have less than 15 observations. I will accummlate such categories in one special bin because the small sample size is not enough to reliable estimate the housing price for the particular category.","9207cbd9":"##### GarageQual\n\n- Ex: Excellent\n- Gd: Good\n- TA: Typical\/Average\n- Fa: Fair\n- Po: Poor\n- NA: No Garage","2d37ac2b":"**Interpretation:**\n\nThe fitted line fits the data pretty well because the assciation between living area and Sale Price seems to be a strong, positive, and linear one, although there might be some remarkable outliers that can severly impact the fit.\n\nLet's filter these outlying records out and examine whether the low price make sense.","4fa57f3c":"##### Second Floor Square Foot","10557146":"#### Quality Variables\n\n- Total Quality of Houses\n- Quality of Basement\n- Kitchen Quality\n- Fireplace Quality\n- Fence Quality","de2135bf":"##### GarageFinish\n\n**Interior finish of the garage:**\n- Fin: Finished\n- RFn: Rough Finished\t\n- Unf: Unfinished\n- NA: No Garage","75e014f4":"The RSS barely reduces, so linear regression is still the option of choice.","d93b6abf":"**Interpretation:**\n\nPaved road is more valuable than gravel road, but hosues without alley access are surprisingly more expensive than houses with gravel road. Since there is no ordinal ordering, I will not encode them as ordinal numbers.","e6e40577":"$$\\bf{\\text{Kaggle Project of Predicting Housing Prices}}$$\n\n**Author: Ray Sun**\n\n**Date: 28\/11 2021**\n\n**Github: [rayhezack](https:\/\/github.com\/rayhezack)**\n___\n\n**Background Info**\n\nAsk a home buyer to describe their dream house, and they probably won't begin with the height of the basement ceiling or the proximity to an east-west railroad. But this playground competition's dataset proves that much more influences price negotiations than the number of bedrooms or a white-picket fence.\n\nWith 79 explanatory variables describing (almost) every aspect of residential homes in Ames, Iowa, this competition challenges you to predict the final price of each home.\n\n**Framework:**\n\n- Data Loading\n- Exploratory Data Analysis\n- Data Cleaning\n- Feature Engineering\n- Model Seleciton\n- Model Evaluation\n- Prediction","9debbaf8":"**Interpretation:**\n\n- No ordinality can be found in the variable\n- The last four categories in right-hand table do not have enough sample size, which is way lower than the threshold 15, so I will accummlate them in backoff bin","74e8b3a6":"**Interpretation:**\n\n- The housing price varies from covering to covering, so the variable can be a good indicator for sale price.\n- In the right-hand table, there are only two or one observations in the last five classes. I will collect them in a special backoff bin.","8f96c0ef":"#### Foundation\n\n**Type of Foundation:**\n- BrkTil: Brick & Tile\n- CBlock: Cinder Block\n- PConc: Poured Contrete\t\n- Slab: Slab\n- Stone: Stone\n- Wood: Wood","d0c00957":"**Intrepretation:**\n\nThe two types of configuration of `Cul-de-sac` and `frontage on 3 sides of property` have the above-median house prices, while the median price of other three types are very close to the median level of all houses. I will perform one-hot encoding on the the variable to include them in regression model.","a1d0ae6d":"**Intrepretation:**\n\n- Kitchen quality shows a logical sequence\n- The higher Kitchen quality results in a more valuable house\n- Ordinal encoding should be used","424c6b51":"The variable is better than just one GrLivArea or TotalBsmtSF. I will include the variable in model and exclude GrLivArea and TotalBsmtSF.","5520d759":"##### MSSubClass\n\n**Identifies the type of dwelling involved in the sale:**\n- 20: 1-STORY 1946 & NEWER ALL STYLES\n- 30: 1-STORY 1945 & OLDER\n- 40: 1-STORY W\/FINISHED ATTIC ALL AGES\n- 45: 1-1\/2 STORY - UNFINISHED ALL AGES\n- 50: 1-1\/2 STORY FINISHED ALL AGES\n- 60: 2-STORY 1946 & NEWER\n- 70: 2-STORY 1945 & OLDER\n- 75: 2-1\/2 STORY ALL AGES\n- 80: SPLIT OR MULTI-LEVEL\n- 85: SPLIT FOYER\n- 90: DUPLEX - ALL STYLES AND AGES\n- 120: 1-STORY PUD (Planned Unit Development) - 1946 & NEWER\n- 150: 1-1\/2 STORY PUD - ALL AGES\n- 160: 2-STORY PUD - 1946 & NEWER\n- 180: PUD - MULTILEVEL - INCL SPLIT LEV\/FOYER\n- 190: 2 FAMILY CONVERSION - ALL STYLES AND AGES\n\nWe should understand these numbers as **different categories**, although these types of dwelling are encoded as numerical values.","d360e02b":"**Interpretation:**\n\nThere are a number of hosues that does not have the second floor. Also the fitted line is not a good fit of the dataset, meaning that there is a non-linear relationship between `2ndFlrSF` and `SalePrice`.\n\nNow, let raise the variable to a power of 2 and examine the decrease in RSS.","c0074864":"#### Lot Variables\n\n- LotShape\n- LotCongfig","5ff54d18":"##### Selling Variables\n\nAlthough the correlation matrix shows insignificant correlation coefficient of YrSold, our common sense tells us that the house prices vary from year to year, meaning that the **prices might be impacted by the economic environment.** \n\nAlso, I assume that the **housing price is also impacted by seasonability.** The two assumptions are reasonable in real world. Now let me verify the validity of the two assumptions.","179dd942":"A considerbale number of observations do not have miscellaneous features. There is no obvious pattern, so I will just exclude the variable.","20939000":"##### Pool area\n\nNot every house has pool, so I think just a small proportion of houses have pool. Let's first examine the association between poor area and sale price.","5b485e18":"#### Geographical Variables\n\n- Alley\n- Neighborhood\n- Street\n- PavedDrived\n- Mszoning","141796c5":"##### BsmtFinType1\n\n**Rating of basement finished area:**\n- GLQ: Good Living Quarters\n- ALQ: Average Living Quarters\n- BLQ: Below Average Living Quarters\t\n- Rec: Average Rec Room\n- LwQ: Low Quality\n- Unf: Unfinshed\n- NA: No Basement","a60219a7":"##### BldgType\n\n- 1Fam\tSingle-family Detached\t\n- 2FmCon\tTwo-family Conversion; originally built as one-family dwelling\n- Duplx\tDuplex\n- TwnhsE\tTownhouse End Unit\n- TwnhsI\tTownhouse Inside Unit","5bfc9990":"#### Garage Variables\n\n- GarageType\n- GarageFinish\n- GarageQual\n- GarageCond\n- Garagecars","2834bc78":"**Interpretation:**\n\nThere is a strong, positive **non-linear** relationship between the construction Year of houses and sale price. From the figure, this is more like a three-degree of polynomial association. I did not notice any obvious outlier. The point built around 1891 and valued at almost $500K may be an outlier, but maybe the price is impacted by other attributes of the house and lead to the high price. ","d8551e91":"**Intrepretation:**\n\nTo my expectation, a house will be more valuable if it has a good fireplace. The sample size for each category is also higher than the specified threshold. So I will directly ordinally encod the variable.","f756fba9":"The polynomial regression obviously fit the data points better than normal linear regression. Given that the degree-3 polynomial transformation does not lead to a remarkable reduction in RSS, so degree of 2 is a good choice.","f8c09338":"##### First Floor Square Footage","feee419f":"## Variation within Variables\n\nIn this section, I will first explore the target variable first and then all other predictor variables.8\n\n### Target Variable\n\nFor target variable, I will examined the distribution of it by histogram and QQ-plot(quantile-quantile plot).","c3d588d5":"##### Lot Area\n\n>To put it simply, a floor area is the size of the indoors area (inside the building walls) and the lot area is the whole size of the lot, i.e. including the yard up to the boundaries of the lot. \n\n","a06da4f4":"#### Utilities\n\n- AllPub: All public Utilities (E,G,W,& S)\t\n- NoSewr: Electricity, Gas, and Water (Septic Tank)\n- NoSeWa: Electricity and Gas Only\n- ELO: Electricity only","13d04abe":"##### GarageCond\n\n- Ex: Excellent\n- Gd: Good\n- TA: Typical\/Average\n- Fa: Fair\n- Po: Poor\n- NA: No Garage","df664315":"There are only two houses build in 1892 and I list some important attributes associated with high sale price. By comparing the attributes, the extremely high price of house with ID 186 is seemingly reasonable because of excellent quality and large area. So I will not drop the record.\n\n***Note: it is dangerous to rashly delete any outlier we suspect***\n\nNow, I decided to perform polynomial transformation to examine whether the transformation can better fit the data.","befaa017":"**Interpretation:**\n\n- There is no logical sequence in the categories, so I will convert it into dummy variables.\n- 2.5Unf and 2.5Fin will be collected in one category because of their small sample size.","893a145e":"\n##### LotShape","cdfd7923":"##### Total Area\n\nBased on the analysis of size variables and information from websites, I found that the total area of a house can be splitted into several parts just as the picture shows:\n\n<img src=\"https:\/\/www.gimme-shelter.com\/wp-content\/uploads\/2011\/09\/Total-Floor-Area-of-a-House.png\" width=\"300\">\n\nAssume that this is a house with two levels\n\nTotal Floor Area(Above-grade Living Area) = Living Area + First Floor + Second Floor + Addition\n\nTotal Area = floor area + garage area + porch areax\n\n\n**Note: garage area and porch area are not counted in floor area because they are not living space, and basement area is also excluded becuase it is not above-ground area.**","43176f15":"Apparently, the house having a pool is much more valuable.","ca54fc64":"#### Housing Conditions\n\n- OverallCond\n- BedroomAbvGr\n- TotRmsAbvGrd","04e18bcf":"## Covariation between Variables\n\nNow, I begin to inspect the relationships between variables so as to find out useful variables highly correlated with target variable. And my examination mainly focuses on two aspects:\n\n- covariation between predictor and the target variable\n- covariation between predictor variables","6da89898":"Apparently, the fitted line is better than before because the log transformation expands the range of small values but compresses the range of large values. The larger x gets smaller increments of $\\log{(x)}$.","181bc2bc":"**Interpretation:**\n\n- Renovated houses are less valuaed than houses without renovation. \n- The non-overlapped error bars of the two bars indicate that there is significant difference between the sale prices of renovated houses and old houses.","caf90398":"#### Basement Variables\n\n- BsmtQual: Evaluates the height of the basement \n- BsmtExposure: Refers to walkout or garden level walls\n- BsmtFinType1: Rating of basement finished area\n- BsmtFullBath: Basement full bathrooms\n- BsmtHalfBath: Basement half bathrooms","57125e54":"**Intrepretation:**\n\n- MSZoning. Based on a research, which states that housing in higher-density zones is expected to be lower priced than housing in low-density zones because of lower land costs, I think it's reasonable to assign unique number of ordering to these categories.\n- LotShap. LotShape is categorized as regular, slightly irreugular, moderately irregular, and irregular. It is easily found that there is a logical ordering. So I decided to encode them as ordinal numbers.\n- LandSlope. LandSlope has three categories, Gentle Slope, Moderate slope, and Severe Slope. There is an obvious ordering involved in the variable. So we can encoder it as ordinal categorical variable.\n- ExternalQual & ExterCond. The variable evaluates the quality of exterior material from poor to excellent. So this is also an ordinal categorical variable.\n- BsmtQual. Ex(excellent 100+inches) > Gd(Good 90-99inches) > TA(Typical 80-89inches) > FA(Fair 70-79inches) > Po(Poor <70inches)\n- BsmCond. The variable means the condition of basement. The ordering of basement condition is Gd > Ta > Fa > Po.\n- BsmtExposure. BsmtExposure refers to walkout or garden level walls and there is a logical sequence in these categories.\n- BsmtFinType1 refers to rating of basement finished area. GLQ > ALQ > BLQ > Rec > LWQ > Unf > NA.\n- HeatingQC. Excellent > Good > Average > Fair > Good.\n- KitchenQual. The kitchen quality. Ex > Gd > Ta > Fa > Po.\n- Functional. Home functionality and the ordering is Typ >  Min1 > Min2 > Mod > Maj1 > Maj2 > Sev > Sal.\n- FireplaceQu. Fireplace Quality and the ordering is Ex > Gd > TA > Fa > Po > NA.\n- GarageQual and GarageCond have the same logical sequence.\n- PoolQC. Pool quality and the logical sequence is Ex > Gd > TA > Fa > Po > NA.\n- Fence. Fence quality is mainly correlated with the degree of privacy. Fence with higher quality has good privacy. So the logical order is GdPrv (Good Privacy)>  MnPrv(Minimum Privacy) > GdWo > MnWw > NA.\n\n**Summary:**\n\nI will conduct ordinal encoding on all of these variables, and I also notice that some categorical variables have severely skewed distribution, meaning that there are some rare categories that can cause noises. They need to be specialy treated.","a24295d4":"**Interpretation:**\n\nThe median housing price shows no significant difference in different years, but the seasonality can be observed in the right-hand bar chart. The housing price is higher in the period between February and March or in the period between July and September.\n\nAnother thing I notice is that the housing price does not show a monotomically incresing trend, so the number 12, which corresponds to December, will receive a higher weight than the number 9, which refers to September and has a higher median price. The higher weight does not make sense here. **So dummy variables should be more robust representation of  these months.**","b20b268f":"##### BedroomAbvGr\n\nBedrooms above grade (does NOT include basement bedrooms)","f815c010":"**Interpretation:**\n\nTotalBsmtSF is obviously positively correlated with the sale price of houses, and so it can be a good indicator of housing price. The seeming outlier is probably the single point with higher than 6000 square footage but only priced less than 200000. We examine other attributes of the house to determine whether it is an anomaly.","e2682811":"##### BsmtFullBath\n\nBasement full bathrooms","7ece6784":"**Intrepretation:**\n\nThe last two classes in the right-hand table have very few observations. The rare categories should be treated specially, so I will either collect them in backoff bin or drop them.","d906ee71":"**Interpretation:**\n\nThe greater number of bathrooms can make the house more expensive. But we need to notice that there is only one observation in the category of 3 bathrooms. **I will delete the observation because of its small size.**","e5a3fbdf":"##### Above grade (ground) living area square feet","4db07152":"#####  IsRemodel\n\nNow we create a variable to indicate whether the house experienced any renovation.","88479a84":"**Interpretation:**\n\nAs expected, a strong, positive, and linear relationship exists between TotalArea and SalePrice.","08308b9d":"**Interpretation:**\n\nThe house that gets more exposure is more valuable, and the logical sequence ranging from no exposure to good exposure indicates ordinality. So I will assign ordinal numbers to these categories.","d9503a63":"##### Fireplaces\n\nNumber of fireplaces","2e8b8afb":"**Interpretation:**\n\nThe same positive pattern can be discovered in the scatterplot, and I did not find any remarkable outlying observation here.","fdb246a1":"**Interpretation:**\n\n- Ordinality exists in the variable\n- `Po` has only one observation, so I will just delete it from the variable","f10971d5":"##### BsmtHalfBath\n\nBasement half bathrooms. Just as the case of full bathrooms, the variable should be positively correlated with the sale price.","20eafafa":"##### HearingQC\n\n- Ex: Excellent\n- Gd: Good\n- TA: Average\/Typical\n- Fa: Fair\n- Po: Poor"}}