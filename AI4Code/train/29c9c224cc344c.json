{"cell_type":{"0040488f":"code","7ff8e9f5":"code","704c8d9f":"code","6aff71f2":"code","1aec4115":"code","34775b4f":"code","5e2a6b2e":"code","ad8d524b":"code","167d9eb2":"code","7926c328":"code","d2d9fea3":"code","3f5872b6":"code","8af07912":"code","c277c423":"code","6bbb75d2":"code","3fceaffa":"code","c3f7384a":"markdown","edf073ef":"markdown","2b948fc1":"markdown","dec9f6f4":"markdown","1da4707f":"markdown","ebf08997":"markdown","8f15e09d":"markdown","7f072694":"markdown","fb2f0723":"markdown","b11381f0":"markdown","441ccf6e":"markdown","a8f208d3":"markdown","5908fccb":"markdown","11c69eaa":"markdown","996440dc":"markdown","c2fe0022":"markdown","aad2505b":"markdown","2e7af652":"markdown","0be76e3f":"markdown","819f907f":"markdown","53b331c7":"markdown","e448fec4":"markdown","893c6b83":"markdown","7000f4ee":"markdown","96ba8489":"markdown"},"source":{"0040488f":"import sys\nimport subprocess\nimport pkg_resources\n\n#check if a package is already installed.  If not, install it.\nrequired = {'xlrd', 'openpyxl','numpy','pandas','matplotlib','seaborn'}\ninstalled = {pkg.key for pkg in pkg_resources.working_set}\nmissing = required - installed\n\nif missing:\n    python = sys.executable\n    subprocess.check_call([python, '-m', 'pip', 'install', *missing], stdout=subprocess.DEVNULL)","7ff8e9f5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib as mpl  #popular visualization library for Python\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns  #popular visualization library for better-looking Python charts\nimport os  #used to work with the operating system:  Files, directories, etc.","704c8d9f":"dataset_list = []\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        #read in the excel file.  Data should be stored in worksheet named \"Data\"\n        df = pd.read_excel(os.path.join(dirname, filename),sheet_name=\"Data\",engine=\"openpyxl\")\n        #append dataset to the above container list.  In this case, there is only one.\n        dataset_list.append(df)\n        \n#union all the dataframes together        \nhosp_df = pd.concat(dataset_list)        ","6aff71f2":"print('Rows:',hosp_df.shape[0])\nprint('Columns:',hosp_df.shape[1])","1aec4115":"hosp_df.columns","34775b4f":"hosp_df.head()","5e2a6b2e":"hosp_df.tail()","ad8d524b":"hosp_df.describe()","167d9eb2":"hosp_df.isnull().sum()","7926c328":"hosp_df.dtypes","d2d9fea3":"hosp_df[['Hospital overall rating', 'Mortality national comparison',\\\n         'Safety of care national comparison','Readmission national comparison',\\\n         'Patient experience national comparison','Effectiveness of care national comparison',\\\n         'Timeliness of care national comparison','Efficient use of medical imaging national comparison']].head()","3f5872b6":"hosp_df[['Hospital overall rating']].drop_duplicates()","8af07912":"hosp_df[['Mortality national comparison']].drop_duplicates()","c277c423":"hosp_df[['Timeliness of care national comparison']].drop_duplicates()","6bbb75d2":"col_list = ['Hospital overall rating','Mortality national comparison',\\\n         'Safety of care national comparison','Readmission national comparison',\\\n         'Patient experience national comparison','Effectiveness of care national comparison',\\\n         'Timeliness of care national comparison','Efficient use of medical imaging national comparison']\n\nfor i, item in enumerate(col_list):\n    plt.figure(figsize = (13, 6))\n    sns.countplot(x = item, data = hosp_df)\n    xt = plt.xticks(rotation=45)\n    plt.xlabel(item)\n    plt.ylabel('Count')\n    plt.title(item)","3fceaffa":"plt.figure(figsize = (13, 6))\nsns.countplot(x = 'State', data = hosp_df[hosp_df['Hospital overall rating'] == '5'], order = hosp_df[hosp_df['Hospital overall rating'] == '5']['State'].value_counts().index)\nxt = plt.xticks(rotation=45)\nplt.xlabel('State')\nplt.ylabel('Count')\nplt.title('5-Star Hospitals By State')","c3f7384a":"## Acknowledgements\nA similar dataset called *Hospital General Information* was previously uploaded to Kaggle. However, that dataset only includes data from one year (2017). I was inspired by this dataset to go a little further and try to add a time dimension. This dataset includes a union of Hospital General Information for the years 2016-2020. \n\nThanks to CMS for releasing this dataset publicly to help consumers find better hospitals and make better-informed decisions.\n\nAll Hospital Compare websites are publically accessible. As works of the U.S. government, Hospital Compare data are in the public domain and permission is not required to reuse them. An attribution to the agency as the source is appreciated. Your materials, however, should not give the false impression of government endorsement of your commercial products or services.","edf073ef":"Most of the columns have a data type of 'object.'  ","2b948fc1":"### What are the possible national comparison values?","dec9f6f4":"### Describe The Data","1da4707f":"## Which State Has The Most 5-Star Hospitals Between 2016-2020?","ebf08997":"'Hospital overall rating' appears to be a 5-point scale including a 'Not Available' option.","8f15e09d":"### The columns 'Hospital overall rating' is the main rating for the hospital.  The 'national comparison' columns provide hospital performance context about individual quality measures such as mortality, safety, readmission, patient experience, etc.  Let's take a look at just those columns to get a sense of the data.","7f072694":"### Last Five Rows Of The Dataset","fb2f0723":"<br>\n\n### Data Dimensions\n","b11381f0":"# Data Contents","441ccf6e":"<br>\n\n# Read The Excel File\nIn this case, there is only one data file so it should only iterate ","a8f208d3":"# Purpose of This Notebook \n1. Demonstrate how to load the *U.S. Hospital Overall Star Ratings 2016-2020* dataset.\n2. Perform a basic, high-level exploration of the data to help get a sense of the data's characteristics.\n3. Encourage others to try out this new dataset and explore U.S. hospital rankings. \n\n## Dataset Context\n\nEvery year, all U.S. hospitals that accept payments from Medicare and Medicaid must submit quality data to The Centers for Medicare and Medicaid Services (CMS). CMS' Hospital Compare program is a consumer-oriented website that provides information on \"the quality of care hospitals are providing to their patients.\" CMS releases this quality data publicly in order to encourage hospitals to improve their quality and to help consumer make better decisions about which providers they visit.\n\n\"Hospital Compare provides data on over 4,000 Medicare-certified hospitals, including acute care hospitals, critical access hospitals (CAHs), children\u2019s hospitals, Veterans Health Administration (VHA) Medical Centers, and hospital outpatient departments\"\n\nThe Centers for Medicare & Medicaid Services (CMS) uses a five-star quality rating system to measure the experiences Medicare beneficiaries have with their health plan and health care system \u2014 the Star Rating Program. Health plans are rated on a scale of 1 to 5 stars, with 5 being the highest.","5908fccb":"### Plot The Rating Columns","11c69eaa":"### Data Column Names","996440dc":"### How many NULL values are there in the dataset?","c2fe0022":"It looks like the 'Hospital overall rating' column gives a rating as a number object while the 'national comparison' columns give a measure rating as a string.","aad2505b":"<br>\n\n## This is not intended to be a comprehensive exploratory data analysis but a quick intro to the *U.S. Hospital Overall Star Ratings 2016-2020* dataset.  I hope you enjoy playing around with this data!\n","2e7af652":"<br>\n\n# Import Python Libraries","0be76e3f":"There are several columns that have many NULL values.  Most of these are footnote columns that just provide additional context about the measure comparison columns.  I would probably just drop the footnote columns but you could leave them in if you would like.","819f907f":"### What are the possible overall ratings and possible national comparison rankings?","53b331c7":"### First Five Rows Of The Dataset","e448fec4":"### Data Types","893c6b83":"Based on the above, it does not look like a lot of the columns are numeric.  Also, Zip Code and Year should probably not be treated as continuous variables here.","7000f4ee":"## Dataset Information\n\n#### Format\n\n* The data was saved in ***.xlsx*** format.  I will use Pandas read_excel to open the file and read in as a Pandas dataframe.\n\n#### Dataset Location\n\n* [U.S. Hospital Overall Star Ratings 2016-2020](https:\/\/www.kaggle.com\/abrambeyer\/us-hospital-overall-star-ratings-20162020)\n","96ba8489":"The 'national comparison' columns appear to include 4 distinct values.  We will need to do some text clean up to make sure we don't count equal values twice.  For example, \"Below the National average\" and \"Below the national average\" should probably be treated the same.  They were just entered with different capitalization during different years."}}