{"cell_type":{"c60adc7a":"code","836887b6":"code","bfef0170":"code","5e8c7f71":"code","5c0d7bf5":"code","cf721a8a":"code","2fc9371b":"code","4afb4ea5":"code","424ba701":"code","38005482":"code","86931729":"code","f8dbde16":"code","16c65813":"code","8e253405":"code","79c224bf":"code","bb80bb13":"code","0ea60107":"code","97f40b7d":"code","3146dbab":"code","a0e10d44":"code","fd9dc6d9":"code","4a2ffb00":"code","25734041":"code","efbd7661":"markdown","c7f1a1d2":"markdown","d8f65021":"markdown"},"source":{"c60adc7a":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport surprise\nfrom surprise import SVD\nfrom surprise import accuracy\nfrom surprise.model_selection import train_test_split\nfrom surprise import Reader, Dataset\nfrom surprise import KNNBasic","836887b6":"df = pd.read_csv('..\/input\/consumer-reviews-of-amazon-products\/Datafiniti_Amazon_Consumer_Reviews_of_Amazon_Products_May19.csv')","bfef0170":"df.head()","5e8c7f71":"df.info()","5c0d7bf5":"df.isnull().sum()","cf721a8a":"primary_cat = df['primaryCategories'].value_counts()\nprimary_cat","2fc9371b":"# Visualisasikan kolom primaryCategories\ndims = (10, 8)\nfig, ax = plt.subplots(figsize=dims)\nax = sns.countplot(y=df.primaryCategories,order = df.primaryCategories.value_counts().index)\nplt.show()","4afb4ea5":"# Ubah nama kolomnya agar lebih mudah \ndf.rename(columns={\"reviews.rating\":\"reviewsRating\"},inplace=True)","424ba701":"# Jadikan sebagai variabel dan lakukan perhitungan sejumlah nilai yang ada di kolom reviewRating \nrev_rating = df['reviewsRating'].value_counts()\nrev_rating","38005482":"# Visualisasikan dari hasil perhitungan nilai\ndims = (10, 8)\nfig, ax = plt.subplots(figsize=dims)\nax = sns.countplot(x=\"reviewsRating\", data=df)","86931729":"# Lakukan kembali me-rename kolom jadi reviewsRecommend\ndf.rename(columns={\"reviews.doRecommend\":\"reviewsRecommend\"},inplace=True)","f8dbde16":"# Cari nilai dari kolom\nrev_rec = df['reviewsRecommend'].value_counts()\nrev_rec\n# Dari kolom reviewsRecommend, user yang membeli produk dari amazon merekomendasikan produk yang mereka beli.","16c65813":"ims = (10, 8)\nfig, ax = plt.subplots(figsize=dims)\nax = sns.countplot(x=\"reviewsRecommend\", data=df)","8e253405":"dims = (10, 8)\nfig, ax = plt.subplots(figsize=dims)\nax = sns.countplot(y=\"primaryCategories\",hue=\"reviewsRecommend\", data=df)","79c224bf":"\"\"\"\nPada gambar diatas menunjukan bahwa para user lebih banyak merekomendasikan produk elektronik ketimbang \nelektronik,media. Dari hasil ini, \nsaya , mencoba berapa banyak user yang memberikan rating dari produk yang direkomendasikan.\n\"\"\"\ndims = (10, 8)\nfig, ax = plt.subplots(figsize=dims)\nax = sns.boxplot(x=\"reviewsRating\", y=\"primaryCategories\", hue=\"reviewsRecommend\", data=df)","bb80bb13":"# Dataset yang akan dipakai untuk train test split dengan framework surprise\nnew_df = df[['reviews.username','id','reviewsRating']]","0ea60107":"reader = Reader()\ndata = Dataset.load_from_df(new_df, reader)\n\n# Train & Test\ntrain, test = train_test_split(data, test_size=0.20, random_state=46)","97f40b7d":"algo_svd = SVD()\nprediction_mf = algo_svd.fit(train).test(test) #Ini sama seperti train lalu predict namun hanya satu line\nprediction_mf[:5]","3146dbab":"recom_svd = algo_svd.predict(uid='ByAndrew kohlmier', iid='AVpgNzjwLJeJML43Kpxn')\nrecom_svd","a0e10d44":"sim_options = {'name': 'pearson_baseline','shrinkage': 0}\nalgo = KNNBasic(sim_options=sim_options)\nalgo_knn = KNNBasic(k=75, sim_options=sim_options)\nprediction_knn = algo_knn.fit(train).test(test)\n\n# Prediksi\nprediction_knn[:5]","fd9dc6d9":"# Tes rekomendasinya\nrecom_knn = algo_knn.predict(uid='Jays',iid='AWMjT0WguC1rwyj_rFh3')\nrecom_knn","4a2ffb00":"accuracy.mae(prediction_mf)\naccuracy.fcp(prediction_mf)\naccuracy.rmse(prediction_mf)","25734041":"accuracy.mae(prediction_knn)\naccuracy.fcp(prediction_knn)\naccuracy.rmse(prediction_knn)","efbd7661":"# Menggunakan Metode SVD","c7f1a1d2":"# Menggunakan Metode KNN","d8f65021":"Penjelasan:\n- uid = nama orang yang akan direkomendasikan\n- iid = id barang yang akan direkomendasikan\n- r_ui = rating dari barang tersebut\n- est = perkiraan orang yang direkomendasikan akan memberikan beraoa rating\n- details = Jika True maka tidak akan direkomendasikan jika false maka direkomendasikan\n- Jika hasil details True maka akan muncul 'reason' menunjukan mengapa tidak direkomendasikan"}}