{"cell_type":{"e2c865f3":"code","d65eb2ca":"code","fce514c0":"code","6e90a12a":"code","6d2e10f7":"code","a69d3fb0":"markdown","438509b6":"markdown","26d9c6d9":"markdown","6975b91d":"markdown"},"source":{"e2c865f3":"from mpl_toolkits.basemap import Basemap\nimport folium\nimport numpy as np\nimport pandas as pd\nimport os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as py\nimport plotly.graph_objs as go\nfrom plotly import tools\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport pycountry\nimport datetime\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom pylab import rcParams\nrcParams['figure.figsize'] = 10, 10\nfrom google.cloud import bigquery\n# Create a \"Client\" object\nclient = bigquery.Client()\n# Construct a reference to dataset\ndataset_ref = client.dataset(\"noaa_gsod\", project=\"bigquery-public-data\")\n# API request - fetch the dataset\ndataset = client.get_dataset(dataset_ref)","d65eb2ca":"# List all the tables in the \"hacker_news\" dataset\ntables = list(client.list_tables(dataset))\n\n# Print names of all tables in the dataset (there are four!)\nfor table in tables:  \n    print(table.table_id)","fce514c0":"# Construct a reference to the \"full\" table\ntable_ref = dataset_ref.table(\"gsod2019\")\n\n# API request - fetch the table\ntable = client.get_table(table_ref)","6e90a12a":"# Print information on all the columns\ntable.schema","6d2e10f7":"# Preview the first five lines of the \"full\" table\nclient.list_rows(table, max_results=5).to_dataframe()","a69d3fb0":"# NOAA Data via BigQuery\n\n**[NOAA](https:\/\/data.noaa.gov\/dataset\/dataset\/global-surface-summary-of-the-day-gsod) Global Surface Summary of the Day**","438509b6":"Each SchemaField tells us about a specific column (which we also refer to as a field). In order, the information is:\n\nThe name of the column\nThe field type (or datatype) in the column\nThe mode of the column ('NULLABLE' means that a column allows NULL values, and is the default)\nA description of the data in that column\nThe first field has the SchemaField:\n\nSchemaField('by', 'string', 'NULLABLE', \"The username of the item's author.\",())\n\nThis tells us:\n\nthe field (or column) is called by,\nthe data in this field is strings,\nNULL values are allowed, and\nit contains the usernames corresponding to each item's author.\nWe can use the list_rows() method to check just the first five lines of of the full table to make sure this is right. (Sometimes databases have outdated descriptions, so it's good to check.) This returns a BigQuery RowIterator object that can quickly be converted to a pandas DataFrame with the to_dataframe() method.","26d9c6d9":"**Credit:**\n* Some functions for mapping and plotting were adapted from https:\/\/www.kaggle.com\/anhuang\/visualization-of-global-climatic-change, https:\/\/www.kaggle.com\/dejavu23\/openaq-from-queries-to-world-maps, and https:\/\/www.kaggle.com\/tanatiem\/eda-bangkok-weather.  See comments in code cells for more detail.","6975b91d":"*Step 1: Import Python modules and define helper functions*"}}