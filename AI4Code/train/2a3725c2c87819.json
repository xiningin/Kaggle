{"cell_type":{"ca45214b":"code","e56f39de":"code","6e89ea1c":"code","28290a5a":"code","961fe7bc":"code","121a1d31":"code","410f14f0":"code","04708c76":"code","711e2dff":"code","44b518b0":"code","a217648e":"code","b4f8e663":"code","6c8ed3ea":"code","6d458816":"code","51954dd1":"code","5f2d4a46":"code","ae8cda10":"code","a6241828":"code","4317faa0":"code","1f3b3fe1":"code","5e92bb50":"code","5f834ec4":"code","cd76d95c":"code","41b26559":"code","1af4e4cf":"code","f4363460":"code","c92530d7":"code","86ce3200":"code","16bc6d0d":"code","b1b1724e":"code","95f4f8ef":"code","2e42762b":"code","139e9f07":"code","38b9b90f":"code","c379aff8":"code","f2e1ce6c":"markdown","d10ca021":"markdown","c913c4a5":"markdown","ed7e0211":"markdown","94700bbf":"markdown","ed9befdf":"markdown","d8fd90a0":"markdown","deba1eb7":"markdown","43147a9f":"markdown","dbf7d275":"markdown","b8feca83":"markdown","208abdde":"markdown","8d7aed62":"markdown","593b0de9":"markdown","0559849e":"markdown","ed2b1922":"markdown"},"source":{"ca45214b":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.ensemble import ExtraTreesRegressor\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestRegressor","e56f39de":"df=pd.read_csv('..\/input\/vehicle-dataset-from-cardekho\/car data.csv')","6e89ea1c":"df.head()","28290a5a":"df.shape","961fe7bc":"df.info()","121a1d31":"df.describe()","410f14f0":"df.isnull().sum()","04708c76":"fig=plt.figure(figsize=(8,4))\nsns.distplot(df['Selling_Price'])\nplt.title('Sales data distribution')","711e2dff":"sns.set_theme(style=\"white\")\nrs = np.random.RandomState(33)\nd = pd.DataFrame(data=rs.normal(size=(100, 9)),\n                 columns=list(df))\ncorr = d.corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\nf, ax = plt.subplots(figsize=(11, 9))\ncmap = sns.diverging_palette(230, 20, as_cmap=True)\nsns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","44b518b0":"print(df['Seller_Type'].unique())\nprint(df['Transmission'].unique())\nprint(df['Owner'].unique())","a217648e":"df.columns","b4f8e663":"final_dataset=df[['Year', 'Selling_Price', 'Present_Price', 'Kms_Driven',\n       'Fuel_Type', 'Seller_Type', 'Transmission', 'Owner']]","6c8ed3ea":"final_dataset['Current_Year']=2021","6d458816":"final_dataset['no_year']=final_dataset['Current_Year']-final_dataset['Year']","51954dd1":"final_dataset.head()","5f2d4a46":"final_dataset.drop(['Year'],axis=1,inplace=True)","ae8cda10":"final_dataset.head()","a6241828":"final_dataset.drop(['Current_Year'],axis=1,inplace=True)","4317faa0":"final_dataset.head()","1f3b3fe1":"final_dataset=pd.get_dummies(final_dataset,drop_first=True)","5e92bb50":"final_dataset.head()","5f834ec4":"final_dataset.corr()","cd76d95c":"corrmat=final_dataset.corr()\ntop_corr_features=corrmat.index\nplt.figure(figsize=(20,20))\ng=sns.heatmap(final_dataset[top_corr_features].corr(),annot=True,cmap=\"RdYlGn\")","41b26559":"y=final_dataset['Selling_Price']\ny.head()","1af4e4cf":"X=final_dataset.drop(['Selling_Price'],axis=1)\nX.head()","f4363460":"model=ExtraTreesRegressor()\nmodel.fit(X,y)","c92530d7":"print(model.feature_importances_)","86ce3200":"feat_importances=pd.Series(model.feature_importances_,index=X.columns)\nfeat_importances.nlargest(5).plot(kind='barh')\nplt.show()","16bc6d0d":"scaler=StandardScaler()\nX=scaler.fit_transform(X)","b1b1724e":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=2)","95f4f8ef":"random_forest_regressor=RandomForestRegressor()\nrandom_forest_regressor.fit(X_train,y_train)","2e42762b":"train_acc=random_forest_regressor.score(X_train,y_train)\ntest_acc=random_forest_regressor.score(X_test,y_test)\nprint('Training Accuracy: ',round(train_acc*100, 2),'%')\nprint('Testing Accuracy: ',round(test_acc*100, 2),'%')","139e9f07":"predictions=random_forest_regressor.predict(X_test)\npredictions","38b9b90f":"sns.distplot(y_test-predictions)","c379aff8":"plt.scatter(y_test,predictions)","f2e1ce6c":"# **Importing Libraries**","d10ca021":"# **Splitting the data**","c913c4a5":"Dropping the year column and replacing it with number of years in order to make the data clean and more efficient.","ed7e0211":"Checking if dataset contains null values","94700bbf":"# **Finding the accuracy**","ed9befdf":"Plotting a histogram to visualize the car market in accordance with the dataset.","d8fd90a0":"# **Building the model**","deba1eb7":"Splitting the data into test and train set using library, the ratio being **70% Training data** and **30% Test data**.","43147a9f":"Since machine learning algorithms are unable to work with string data. Thus, creating dummies of specific columns to convert the values to 0's and 1's.","dbf7d275":"Plotting a heat map to analyze the data and keep an eye on the co-relation between labels.","b8feca83":"# **Plotting the graphs**","208abdde":"Finding out the labels that has a much greater impact on the model.","8d7aed62":"# **Cleaning the Data**","593b0de9":"Before going through the notebook, i'd really appriciate an upvote. It really motivates me to go on and do more projects.\n# **Introduction**\nDue to the increased price of new cars and the incapability of customers to buy new cars due to the lack of funds, used cars sales are on a global increase. There is a need for a used car price prediction system to effectively determine the worthiness of the car using a variety of features.","0559849e":"Extracting all unique values from specific columns.","ed2b1922":"# **Analyzing the data**"}}