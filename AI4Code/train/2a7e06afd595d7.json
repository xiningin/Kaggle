{"cell_type":{"4f26a9f5":"code","7955c494":"code","bfda1b9e":"code","b5627507":"code","a5e53ccb":"code","6168fe68":"code","343d399f":"code","50152e4d":"code","f456886b":"code","c7a1c361":"code","74ee0a8f":"code","c43cde4d":"code","da413d46":"code","ea4e3a79":"code","c49291bc":"code","fca564ed":"code","12ded833":"code","3e624e8a":"code","e15a2f47":"code","b4ffdd27":"code","e12cde56":"code","91a01c83":"code","a24160b1":"markdown","76341ec4":"markdown","fe9fac19":"markdown","da2348b1":"markdown","a7680096":"markdown","dc59e73a":"markdown","491e37de":"markdown","b6eaf1f2":"markdown","c40e0c24":"markdown","5681f37e":"markdown","e3e2e2de":"markdown","7ff1a2d7":"markdown","3bd426df":"markdown","66ec9e06":"markdown","c9978b08":"markdown","86cd2ef2":"markdown","09c4875e":"markdown"},"source":{"4f26a9f5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","7955c494":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","bfda1b9e":"Time=pd.read_csv('\/kaggle\/input\/coronavirusdataset\/Time.csv').copy()\nTime.head()","b5627507":"Time.deceased.plot()","a5e53ccb":"olum=Time.deceased.copy()\nolum.index=Time.date\nolum=pd.DataFrame(olum)","6168fe68":"from statsmodels.tsa.stattools import acf, pacf\nfrom statsmodels.graphics.tsaplots import plot_acf, plot_pacf\nplot_acf(olum)\nplot_pacf(olum)","343d399f":"#If we want to see for bigger lags autocorrelation graphic, we can use this function\nfrom pandas.plotting import autocorrelation_plot\nplt.rcParams.update({'figure.figsize':(9,5), 'figure.dpi':120})\nautocorrelation_plot(olum)","50152e4d":"from statsmodels.tsa.ar_model import AR\nmodel2=AR(olum).fit()#First model\nmodel2.aic#Our aic value","f456886b":"model2.params#Our params","c7a1c361":"np.mean(model2.resid)","74ee0a8f":"model2.sigma2","c43cde4d":"sns.distplot(model2.resid)","da413d46":"from scipy.stats import shapiro\nshapiro(model2.resid)","ea4e3a79":"forecast=Time.deceased.copy()\nfor i in range(1,10):\n    forecast[i+70]=(model2.params[0]+forecast[len(forecast)-1]*model2.params[1]+forecast[len(forecast)-2]*model2.params[2]+forecast[len(forecast)-3]*model2.params[3]+forecast[len(forecast)-4]*model2.params[4]+forecast[len(forecast)-5]*model2.params[5]+\n                    forecast[len(forecast)-6]*model2.params[6]+forecast[len(forecast)-7]*model2.params[7]+forecast[len(forecast)-8]*model2.params[8]+\n                    forecast[len(forecast)-9]*model2.params[9]+forecast[len(forecast)-10]*model2.params[10]+forecast[len(forecast)-11]*model2.params[11])","c49291bc":"forecast.tail(10)","fca564ed":"from scipy.stats import boxcox\nfrom scipy.special import inv_boxcox\ndonusum5=olum.copy()\ndonusum5=donusum5+1\ndonusum5,fitted_lambda2= boxcox(donusum5.iloc[:,0],lmbda=None)\ninv_boxcox(donusum5,fitted_lambda2)","12ded833":"model_10=AR(donusum5).fit()\nmodel_10.aic","3e624e8a":"model_10.params#Changed the coefficient of parameters","e15a2f47":"model_10.pvalues#When we look p values, our parameters are looking statistical significant","b4ffdd27":"forecast4=donusum5.copy()\nforecast4=np.array(forecast4)\nfor i in range(1,40):\n    \n    forecast4=np.append(forecast4,(model_10.params[0]+forecast4[len(forecast4)-1]*model_10.params[1]+forecast4[len(forecast4)-2]*model_10.params[2]+\n                     forecast4[len(forecast4)-3]*model_10.params[3]+forecast4[len(forecast4)-4]*model_10.params[4]+forecast4[len(forecast4)-5]*model_10.params[5]+\n                    forecast4[len(forecast4)-6]*model_10.params[6]+forecast4[len(forecast4)-7]*model_10.params[7]+forecast4[len(forecast4)-8]*model_10.params[8]+\n                    forecast4[len(forecast4)-9]*model_10.params[9]+forecast4[len(forecast4)-10]*model_10.params[10]+forecast4[len(forecast4)-11]*model_10.params[11]))","e12cde56":"sonuc=pd.DataFrame(inv_boxcox(forecast4,fitted_lambda2))#We converted boxcox data to original data\nsonuc.tail(40)","91a01c83":"pd.DataFrame(inv_boxcox(forecast4,fitted_lambda2)).plot()","a24160b1":"### Modelling Time","76341ec4":"### Today, we will first model the deaths due to Covid-19 in South Korea as a time series and make predictions for the future. ","fe9fac19":"### Another Model is a boxcox transformation\n","da2348b1":"### I have collected with 1 due to in the data set we have zero values. The new dataset is donusum 5. After modeling tries we will again convert donusum 5 to the original form thanks to inv_boxcox. Fitted Lambda 2 is our parameter of boxcox transformation","a7680096":"### When we examine first graphic, we will see partial autocorrelation graphic.  The first partial autocorrelation at lag zero is always 1.0. As seen in the preceding figure, the partial autocorrelation only at lag one is statistically significant while for rest the lags it is within the 95% confidence intervals. We can determine the parameters of AR series Hence, for data set the order of AR models is one.","dc59e73a":"### We have chosen type of series. Now we use various methods for the best model. Firstly we modeling with the main data set with AR after we will look aic value. Secondly, we will transform for data. We will be using box-cox transformation and after that again we will look aic value and compare with another model. ","491e37de":"### This model is AR(11). Means of our residuals equals zero and variance is constant. ","b6eaf1f2":"### MODELLING\n\n","c40e0c24":"### Time Series Analysis and Forecasting For COV\u0130D-19 Deaths in South Korea","5681f37e":"### In the data set in the picture, the first column 2 is our estimation values, and column 3 is the actual number of measurements. When we look at the difference between the estimation values \u200b\u200band our real values, it is noticeable that our estimates are very close to the real values, in other words, there is a difference between 5 and 10 per thousand. I think this difference is very good :) if there aren't errors, it would be mathematic :) ","e3e2e2de":"### This time we did forecasting for 40 days and we will compare real deaths.","7ff1a2d7":"### The new model has better aic value. \nThe lower the aic value, the better our model. We will use this model for forecasting.","3bd426df":"### When we examine second graphic, we will see autocorrelation graphic.On the graph, there is a vertical line (a \u201cspike\u201d) corresponding to each lag. The height of each spike shows the value of the autocorrelation function for the lag.Each spike that rises above or falls below the dashed lines is considered to be statistically significant.This means the spike has a value that is significantly different from zero. If a spike is significantly different from zero, that is evidence of autocorrelation. A spike that\u2019s close to zero is evidence against autocorrelation.We can determine the parameters of MA series. When we look at autocorrelation graphic, we will see that AR series, because our spikes decreasing steadily that's why there is a trend and our series not stationary. We know that contrary to the AR model, the finite MA model is always stationary. We can not say this MA series.\n","66ec9e06":"### We will  Forecasting for ten days with  AR(11) model.We made our predictions using the mathematical formula to understand the logic of the AR series.","c9978b08":"### When we examine the graphic above, we see that the number of deaths that have been increasing for North Korea has started to decrease after a while. According to our estimates, the decline starts from the 80th observation. In other words, a drop in death rates is expected, such as 18 of April. I hope everything happens sooner than we expected and death rates will decrease.","86cd2ef2":"![WhatsApp%20Image%202020-04-06%20at%2006.19.34.jpeg](attachment:WhatsApp%20Image%202020-04-06%20at%2006.19.34.jpeg)","09c4875e":"### Apparently deaths are increasing steadily. To understand which model will be better, we need to examine partial auto correlation and auto correlation graphs."}}