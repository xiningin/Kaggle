{"cell_type":{"4dc5cf2f":"code","18c724fe":"code","ec7ccc10":"code","5f3b3d07":"code","580f07c6":"code","a3ec3bab":"code","c0ef7e4f":"code","2a22e412":"code","c30610c8":"code","2cdb8075":"code","7451ced6":"code","799b56e0":"code","7e7b11a3":"code","e51f24d3":"code","425b75d4":"code","4f786f9d":"code","131535b8":"code","243a7368":"code","b55e431f":"code","1d472acd":"code","67836d3a":"code","bd50735d":"code","f5d5124e":"code","e53866cf":"code","2e9bdc0b":"code","04a3329b":"code","e4b934ea":"code","21a0b91a":"markdown","bf2da47f":"markdown","43f5b5f7":"markdown","283d82bc":"markdown","6c218afd":"markdown","bcd11c89":"markdown","bf9496bf":"markdown","7b1e31cb":"markdown","5541e576":"markdown","78844506":"markdown","c7a85bfa":"markdown","498e497b":"markdown","9941c194":"markdown","d568efcd":"markdown","2ddd399f":"markdown","ee0f9faa":"markdown"},"source":{"4dc5cf2f":"import numpy as np # linear algebra\nimport pandas as pd # data processing\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings \nimport sys\nplt.rcParams['figure.figsize']=(12,5)\nwarnings.filterwarnings(\"ignore\") # For ingnoring warnings\nnp.set_printoptions(threshold=sys.maxsize)\npd.set_option('display.max_rows', None,'display.max_columns', None,'display.width', None,'display.max_colwidth', -1)\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport plotly as py\nfrom plotly import tools\nfrom plotly.offline import iplot\n%matplotlib inline","18c724fe":"df = pd.read_csv(\"\/kaggle\/input\/pakistans-largest-ecommerce-dataset\/Pakistan Largest Ecommerce Dataset.csv\", parse_dates=[\"created_at\",\"Working Date\"], low_memory=False)\ndf.head()","ec7ccc10":"print(df.shape)\nprint(df.size)","5f3b3d07":"print(\"Columns:\", df.columns)\nprint(\"Info:\", df.info())","580f07c6":"df = df.iloc[:,:-5]\ndf = df.dropna(axis=0, how=\"all\")","a3ec3bab":"df.shape","c0ef7e4f":"df.rename(columns={\" MV \": \"MV\"}, inplace=True)\ndf.columns","2a22e412":"df[\"item_id\"] = df[\"item_id\"].astype(str)\ndf[\"qty_ordered\"] = df[\"qty_ordered\"].astype(int)\n#df[\"MV\"] = df[\"MV\"].astype(float)\ndf[\"Year\"] = df[\"Year\"].astype(int)\ndf[\"Month\"] = df[\"Month\"].astype(int)\ndf[\"Customer ID\"] = df[\"Customer ID\"].astype(str)","c30610c8":"df.head()","2cdb8075":"df.describe()","7451ced6":"df.describe(include=['object'])","799b56e0":"df = df.sort_values('created_at')#.set_index('created_at')\ndf.head()","7e7b11a3":"cat_total = df.groupby('category_name_1')['grand_total'].sum().sort_values(ascending=False)","e51f24d3":"sns.set_style(\"whitegrid\")\nplt.figure(figsize=(12,5))\nax = sns.barplot(x = cat_total.index, y= cat_total.values)\nax.set_xlabel('Category')\nax.set_ylabel('Sold')\nax.set_xticklabels(cat_total.index, rotation='vertical', fontsize=10)\nplt.show()","425b75d4":"ord_stat = df.groupby(['status'])['grand_total'].sum().sort_values(ascending=False)[:10]","4f786f9d":"plt.figure(figsize=(12,5))\nax = sns.barplot(x = ord_stat.index, y= ord_stat.values)\nax.set_xlabel('Payment Method')\nax.set_ylabel('Number of Orders')\nax.set_xticklabels(ord_stat.index, rotation='vertical', fontsize=10)\nplt.show()","131535b8":"pay_met = df.groupby(['payment_method'])['grand_total'].sum().sort_values(ascending=False)\nfig = px.bar(pay_met, x=pay_met.index, y=pay_met.values, text='grand_total')\nfig.update_traces(texttemplate='%{text:.2s}',textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","243a7368":"df2 = df[[\"payment_method\",\"status\"]]\ndf2 = df2[(df2[\"payment_method\"]==\"cod\") & (df2[\"status\"]==\"complete\")\n          |(df2[\"payment_method\"]==\"Payaxis\") & (df2[\"status\"]==\"complete\")\n          |(df2[\"payment_method\"]==\"Easypay\") & (df2[\"status\"]==\"complete\")\n          |(df2[\"payment_method\"]==\"bankalfalah\") & (df2[\"status\"]==\"complete\")\n          |(df2[\"payment_method\"]==\"easypay_voucher\") & (df2[\"status\"]==\"complete\")\n          |(df2[\"payment_method\"]==\"jazz_voucher\") & (df2[\"status\"]==\"complete\")]\ndf_2= df2.payment_method.value_counts()","b55e431f":"df_2.head()","1d472acd":"fig = px.bar(df_2, x=df_2.index, y=df_2.values)\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","67836d3a":"# Selecting categorical data \ndf3 = df[['status','payment_method']]\n# Coverting to dummies\ndf_dummies = pd.get_dummies(df3) ","bd50735d":"plt.figure(figsize=(16,10))\nsns.heatmap(df_dummies.corr(),annot=False)","f5d5124e":"df2_dummies = pd.get_dummies(df2)","e53866cf":"plt.figure(figsize=(16,10))\nsns.heatmap(df2_dummies.corr(),annot=True)","2e9bdc0b":"df_month_year = df['M-Y'].value_counts().sort_values()","04a3329b":"df_month_year","e4b934ea":"plt.figure(figsize=(12,15))\nax = sns.barplot(x =df_month_year.index,y=df_month_year.values)\nax.set_xlabel('Month_Year')\nax.set_ylabel('Number of Orders')\nax.set_xticklabels(labels=df_month_year.index, rotation = 'vertical', fontsize=10)\nplt.show()","21a0b91a":"If you find it helpful, please **upvote!!!**","bf2da47f":"**Dropping Last 5 columns and na values in all rows**","43f5b5f7":"#### Changing Data Types","283d82bc":"# Order Status","6c218afd":"# Top 5 Payment Methods Vs Completed","bcd11c89":"# No. of Orders per Month-Year","bf9496bf":"# Pakistan's Ecommerce Explained","7b1e31cb":"#### Shape and Size","5541e576":"**Renaming column because of space**","78844506":"# Setting Our Envoirnment","c7a85bfa":"## Let's review data ","498e497b":"# Payment Methods \n","9941c194":"# Mobile and Tablet is the best selling Category","d568efcd":"This is the largest retail e-commerce orders dataset from Pakistan. It contains half a million transaction records from March 2016 to August 2018. The data was collected from various e-commerce merchants as part of a research study.\nThere is a dire need for such dataset to learn about Pakistan\u2019s emerging e-commerce potential and I hope this will help many startups in many ways.","2ddd399f":"# Loading Our Data","ee0f9faa":"### To be Continued...\n\nYou can fork this kernel and continue your analysis.\n"}}