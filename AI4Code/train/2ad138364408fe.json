{"cell_type":{"5515c53e":"code","79f7de22":"code","bab29c75":"code","ee82002b":"code","485bd2fc":"code","9e1046b7":"code","c9860abb":"code","3c51a28a":"code","2fbbb260":"code","05a0332f":"code","218110f5":"code","497e399c":"code","908e1c1f":"code","6fb77c65":"code","87d873cc":"code","f32bea99":"code","9d6f6519":"code","d9ddf678":"code","13d331a3":"code","bf60730e":"code","0ef47a94":"code","b7d4f3b8":"code","43fd5a2c":"code","548dcd68":"code","94993aad":"code","678cdbdb":"code","e79f02e6":"code","6545ea59":"code","1fed4a02":"code","6b453524":"code","538bf1f7":"code","f0f84c79":"code","f007c35d":"code","875690c2":"code","a1ec8f0a":"code","36a41bde":"code","5205e537":"code","fe1dad53":"code","dfea8666":"code","808e2fd1":"code","7c9852d0":"code","fc0d4456":"code","e4226b0f":"code","996221a2":"code","22c743e0":"code","ebf8fcee":"code","703d817b":"code","915588e5":"code","386898bf":"code","1339d7a6":"code","aeee12ce":"code","dcdba45f":"code","04d6e138":"code","41b3d95a":"code","96822f92":"code","f5c2a876":"code","7ca17975":"code","34dffefb":"code","a5248fa9":"code","f630b645":"code","792cc429":"code","69954674":"code","ae8e5418":"code","d7ac01b0":"code","1da7bc8c":"code","fdcf01e8":"code","52e139f8":"code","aa248ad7":"code","9904fd5b":"code","616016f6":"code","23c960ee":"code","ccd6bc79":"code","0434a353":"code","24e2f946":"code","06b108d6":"code","42fde165":"code","ca2df9c9":"code","222b19ee":"code","663bfbb5":"code","322d144f":"code","aaaa4951":"code","4083b774":"code","fdbc845d":"code","6e52d35f":"code","fa3acaef":"code","b7d1445f":"code","ec7ce45b":"code","d5bce6d1":"code","3eb10fd5":"code","816f9507":"code","151b8b58":"code","81dad9d1":"code","f1774ea6":"code","f4bc1959":"code","dc72bb2b":"code","556b9e1f":"code","88ab38ca":"code","8ed90c30":"code","a785cf34":"code","d302e8f7":"code","6246e6ad":"code","53e1be43":"code","2fd38d9e":"code","7a1212e5":"code","36dc8073":"code","a26865c3":"code","607154b0":"code","ebeb821d":"code","613153e9":"code","dad1d927":"code","3fb779b9":"code","dc7eb6e3":"code","ecafb7d3":"code","cf46ca1a":"code","07c6c521":"code","6291d589":"code","621aaef5":"code","351c5b00":"code","5ca28bd4":"code","164f51fc":"code","869b7cff":"code","2dd2d24e":"code","499d5148":"code","c157c5b9":"code","0093feb5":"code","6eb837b8":"code","c54a96f7":"code","09380c0a":"code","a058b5f6":"code","285e0584":"code","0d6a2235":"code","89ed4f5a":"code","3b887a28":"code","d9c1e6e8":"code","aa913994":"code","e2ab2cc7":"code","c74dd9fc":"code","90369f86":"code","0d091c79":"code","fd5dde0e":"code","91ee897c":"code","5f514f98":"code","b6954e38":"code","faa7bf30":"code","a2dc6ae4":"code","cb773911":"code","39a88415":"code","286b9151":"code","5c9c8b6b":"code","a486374d":"code","67c2932c":"code","2591d607":"code","618de929":"code","898dd1b5":"code","70136f2c":"code","a3230cde":"code","807424bf":"code","443d9857":"code","1212d3c5":"code","9bd5c478":"code","0b12ef90":"code","d084a975":"code","a20b380a":"code","ad258278":"code","5dc5250e":"code","783f2da6":"code","1c752b80":"code","41e1c0de":"code","010accc8":"code","b73ecd01":"code","d767a2f5":"code","3b09761e":"code","93b4144d":"code","995f1f1b":"code","f5eed426":"code","721a649c":"code","a5e5a89c":"code","e32a0df0":"code","cacb0899":"code","48f7d2e4":"code","e5fdc3c1":"code","0e822f97":"code","90272adb":"code","67a1fd15":"code","ff22d689":"code","e5467862":"code","f20150cc":"code","93ea2020":"code","c167da1a":"code","3d178e83":"code","b2bdb3fa":"code","2bcd3b67":"code","bd641762":"code","2e33dba1":"code","3978474e":"code","cf80b2df":"code","42ef212d":"code","9fdc030b":"code","85abefd9":"code","9cf1d301":"code","57cecd9e":"code","1ca93528":"code","b6fee7d9":"code","0aa64ae0":"code","e5f24c2b":"code","4776c629":"code","eceeb51e":"code","7a422272":"code","8b36d40d":"code","8f687ae7":"code","98fe0593":"code","31c28b89":"code","13fec671":"code","741c38e4":"code","77d1033f":"code","3f3eeeb1":"code","594d049a":"code","1d844f69":"markdown","4959b051":"markdown","2f99d4b7":"markdown","08a72052":"markdown","fb6c8aea":"markdown","0bbf2a24":"markdown","bf9f9007":"markdown","a7bce025":"markdown","e66f9362":"markdown","1a4c4cb1":"markdown","39ff1630":"markdown","b7343e8c":"markdown","95a78946":"markdown","1557cbae":"markdown","b32ba176":"markdown","186f3d9e":"markdown","2230a9a1":"markdown","e2093b1f":"markdown","e14d2d34":"markdown","88856ec4":"markdown","8dbbb380":"markdown","747283c6":"markdown","eb2c2852":"markdown","a92b79a0":"markdown","f97a8747":"markdown","019ad7fa":"markdown","31014aea":"markdown"},"source":{"5515c53e":"import requests \nfrom bs4 import BeautifulSoup\nimport pandas as pd","79f7de22":"url_pagina11= 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46740-220-leitos-de-uti-custeados-pelo-ministerio-da-saude-em-cinco-estados'","bab29c75":"pagina_html11 = requests.get(url_pagina11)\nprint(pagina_html11)\n","ee82002b":"soup11 = BeautifulSoup(pagina_html11.content, 'html.parser')\nsoup11.prettify()","485bd2fc":"lista_de_tabelas_html11 = soup11.find_all('table')\nlista_de_tabelas_html11","9e1046b7":"tb_limpa11 = lista_de_tabelas_html11[0]\ntb_limpa11","c9860abb":"linhas_tb11 = tb_limpa11.find_all('tr')\nlinhas_tb11","3c51a28a":"lin11 = linhas_tb11[1].get_text()\nlin11","2fbbb260":"lin11 = lin11.strip(\"\\n\").strip(\" \")\nlin11","05a0332f":"lin11 = lin11.replace(u\"\\n\", u\"\\t\")\nlin11","218110f5":"lin11 = lin11.replace(\"\\t\\t\\t\", \"\\t\")\nlin11","497e399c":"ini_tb11 = 1\nfim_tb11 = 12","908e1c1f":"import re\ndef prep_linha11(linha11):\n\n    linha11 = linha11.get_text().strip(\"\\n\").strip(\" \")\n    \n   \n    linha11 = linha11.replace(\"\\n\",\"\\t\")\n    linha11= linha11.replace(\"\\t\\t\\t\",\"\\t\")\n   \n    \n\n    \n    return linha11","6fb77c65":"texto_final11 = \"UF\\tMUNICIPIO\\tESTABELECIMENTO\\tQTDE_LEITOS\\tVM\\tVALOR\\n\"\nfor i in range(ini_tb11, fim_tb11+1):\n    linha11 = prep_linha11(linhas_tb11[i])\n    texto_final11 += linha11\n    texto_final11 += \"\\n\"\nprint(texto_final11)","87d873cc":"arquivo11 = open(\"gov-saude.csv\", \"w\")\narquivo11.write(texto_final11)\narquivo11.close()","f32bea99":"import pandas as pd\ndf11 = pd.read_csv(\"gov-saude.csv\", sep='\\t')\ndf11","9d6f6519":"url_pagina09= 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46772-brasil-ganha-reforco-de-1-134-leitos-de-uti-no-combate-ao-coronavirus'","d9ddf678":"pagina_html09 = requests.get(url_pagina09)\nprint(pagina_html09)","13d331a3":"soup09 = BeautifulSoup(pagina_html09.content, 'html.parser')\nsoup09.prettify()","bf60730e":"lista_de_tabelas09 = soup09.find_all('table')\nlista_de_tabelas09","0ef47a94":"tb_limpa09 = lista_de_tabelas09[0]\ntb_limpa09","b7d4f3b8":"linhas_tb09 = tb_limpa09.find_all('tr')\nlinhas_tb09","43fd5a2c":"lin09 = linhas_tb09[1].get_text()\nlin09","548dcd68":"lin09 = lin09.strip(\"\\n\").strip(\" \")\nlin09","94993aad":"lin09 = lin09.replace(u\"\\n\", u\"\\t\")\nlin09","678cdbdb":"ini_tb09 = 1\nfim_tb09 = 61","e79f02e6":"def prep_linha09(linha09):\n\n    linha09 = linha09.get_text().strip(\"\\n\").strip(\" \")\n    \n   \n    linha09 = linha09.replace(\"\\n\",\"\\t\")\n    linha09= linha09.replace(\"\\t\\t\\t\",\"\\t\")\n\n\n    \n    return linha09","6545ea59":"texto_final_09 = \"UF\\tMUNICIPIO\\tESTABELECIMENTO\\tQTDE_LEITOS\\tVALOR\\n\"\nfor i in range(ini_tb09, fim_tb09+1):\n    linha09 = prep_linha09(linhas_tb09[i])\n    texto_final_09 += linha09\n    texto_final_09 += \"\\n\"\nprint(texto_final_09)","1fed4a02":"arquivo09 = open(\"saude_saude09.csv\", \"w\")\narquivo09.write(texto_final_09)\narquivo09.close()","6b453524":"df09 = pd.read_csv(\"saude_saude09.csv\", sep='\\t')\ndf09","538bf1f7":"url_pagina08= 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46782-ministerio-da-saude-habilita-1-761-leitos-para-combate-ao-coronavirus'","f0f84c79":"pagina_html08 = requests.get(url_pagina08)\nprint(pagina_html08)","f007c35d":"soup08 = BeautifulSoup(pagina_html08.content, 'html.parser')\nsoup08.prettify()","875690c2":"lista_de_tabelas08 = soup08.find_all('table')\nlista_de_tabelas08","a1ec8f0a":"tb_limpa08 = lista_de_tabelas08[0]\ntb_limpa08","36a41bde":"linhas_tb08 = tb_limpa08.find_all('tr')\nlinhas_tb08","5205e537":"lin08 = linhas_tb08[1].get_text()\nlin08","fe1dad53":"lin08 = lin08.strip(\"\\n\").strip(\" \")\nlin08","dfea8666":"lin08 = lin08.replace(u\"\\n\", u\"\\t\")\nlin08","808e2fd1":"lin08=lin08.replace(u\"\\xa0\", u\"0\")\nlin08","7c9852d0":"lin08=lin08.replace(\"\\t\\t\\t\",\"\\t\")\nlin08","fc0d4456":"ini_tb08 = 1\nfim_tb08 = 110","e4226b0f":"def prep_linha08(linha08):\n\n    linha08 = linha08.get_text().strip(\"\\n\").strip(\" \")\n    \n   \n    linha08 = linha08.replace(\"\\n\",\"\\t\")\n    linha08= linha08.replace(\"\\t\\t\\t\",\"\\t\")\n    linha08=linha08.replace(\"\\t\\t\",\"\\t\")\n    linha08=linha08.replace(u\"\\xa0\", u\"0\")\n    \n\n\n\n    \n    return linha08","996221a2":"texto_final_08 = \"UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n\"\nfor i in range(ini_tb08, fim_tb08+1):\n    linha08 = prep_linha08(linhas_tb08[i])\n    texto_final_08 += linha08\n    texto_final_08 += \"\\n\"\nprint(texto_final_08)","22c743e0":"arquivo08 = open(\"saude_saude08.csv\", \"w\")\narquivo08.write(texto_final_08)\narquivo08.close()","ebf8fcee":"df08 = pd.read_csv(\"saude_saude08.csv\", sep='\\t')\ndf08","703d817b":"df08['QTDE_LEITOS'] = df08['UTI_ADULTO'] + df08['UTI_PED']\ndel df08['UTI_ADULTO']\ndel df08['UTI_PED']\ndf08","915588e5":"url_pagina07= 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46802-saude-habilita-mais-497-leitos-de-uti-no-combate-ao-coronavirus'","386898bf":"pagina_html07 = requests.get(url_pagina07)\nprint(pagina_html07)","1339d7a6":"soup07 = BeautifulSoup(pagina_html07.content, 'html.parser')\nsoup07.prettify()","aeee12ce":"lista_de_tabelas07 = soup07.find_all('table')\nlista_de_tabelas07","dcdba45f":"tb_limpa07 = lista_de_tabelas07[0]\ntb_limpa07","04d6e138":"linhas_tb07 = tb_limpa07.find_all('tr')\nlinhas_tb07","41b3d95a":"lin07 = linhas_tb07[1].get_text()\nlin07","96822f92":"lin07 = lin07.strip(\"\\n\").strip(\" \")\nlin07","f5c2a876":"lin07 = lin07.replace(u\"\\n\", u\"\\t\")\nlin07","7ca17975":"lin07=lin07.replace(\"\\t\\t\\t\",\"\\t\")\nlin07","34dffefb":"lin07=lin07.replace(\"\\t\\t\",\"\\t\")\nlin07","a5248fa9":"lin07=lin07.replace(u\"\\xa0\", u\"0\")\nlin07","f630b645":"ini_tb07 = 1\nfim_tb07 = 140","792cc429":"def prep_linha07(linha07):\n\n    linha07 = linha07.get_text().strip(\"\\n\").strip(\" \")\n    \n   \n    linha07 = linha07.replace(\"\\n\",\"\\t\")\n    linha07= linha07.replace(\"\\t\\t\\t\",\"\\t\")\n    linha07=linha07.replace(\"\\t\\t\",\"\\t\")\n    linha07=linha07.replace(u\"\\xa0\", u\"0\")\n    \n\n\n\n    \n    return linha07","69954674":"texto_final_07 = \"UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n\"\nfor i in range(ini_tb07, fim_tb07+1):\n    linha07 = prep_linha07(linhas_tb07[i])\n    texto_final_07 += linha07\n    texto_final_07 += \"\\n\"\nprint(texto_final_07)","ae8e5418":"arquivo07 = open(\"saude_saude07.csv\", \"w\")\narquivo07.write(texto_final_07)\narquivo07.close()","d7ac01b0":"df07 = pd.read_csv(\"saude_saude07.csv\", sep='\\t')\ndf07","1da7bc8c":"df07['QTDE_LEITOS'] = df07['UTI_ADULTO'] + df07['UTI_PED'] \ndel df07['UTI_ADULTO']\ndel df07['UTI_PED']\ndf07","fdcf01e8":"url_pagina06= 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46744-ministerio-da-saude-habilita-mais-92-leitos-para-combate-ao-coronavirus'","52e139f8":"pagina_html06 = requests.get(url_pagina06)\nprint(pagina_html06)","aa248ad7":"soup06 = BeautifulSoup(pagina_html06.content, 'html.parser')\nsoup06.prettify()","9904fd5b":"lista_de_tabelas06 = soup06.find_all('table')\nlista_de_tabelas06","616016f6":"tb_limpa06 = lista_de_tabelas06[0]\ntb_limpa06","23c960ee":"linhas_tb06 = tb_limpa06.find_all('tr')\nlinhas_tb06","ccd6bc79":"lin06 = linhas_tb06[5].get_text()\nlin06","0434a353":"lin06 = lin06.strip(\"\\n\").strip(\" \")\nlin06","24e2f946":"lin06 = lin06.replace(u\"\\n\", u\"\\t\")\nlin06","06b108d6":"lin06=lin06.replace(\"\\t\\t\\t\",\"\\t\")\nlin06","42fde165":"ini_tb06 = 1\nfim_tb06 = 5","ca2df9c9":"def prep_linha06(linha06):\n\n    linha06 = linha06.get_text().strip(\"\\n\").strip(\" \")\n    \n   \n    linha06 = linha06.replace(\"\\n\",\"\\t\")\n    linha06= linha06.replace(\"\\t\\t\\t\",\"\\t\")\n    linha06=linha06.replace(\"\\t\\t\",\"\\t\")\n    linha06=linha06.replace(\"\\xa0\",\" \")\n\n\n    \n    return linha06","222b19ee":"texto_final_06 = \"UF\\tMUNICIPIO\\tESTABELECIMENTO\\tQTDE_LEITOS\\tVM\\tVALOR\\n\"\nfor i in range(ini_tb06, fim_tb06+1):\n    linha06 = prep_linha06(linhas_tb06[i])\n    texto_final_06 += linha06\n    texto_final_06 += \"\\n\"\nprint(texto_final_06)","663bfbb5":"arquivo06 = open(\"saude_saude06.csv\", \"w\")\narquivo06.write(texto_final_06)\narquivo06.close()","322d144f":"df06 = pd.read_csv(\"saude_saude06.csv\", sep='\\t')\ndf06","aaaa4951":"url_pagina10= 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46802-saude-habilita-mais-497-leitos-de-uti-no-combate-ao-coronavirus'","4083b774":"pagina_html10 = requests.get(url_pagina10)\nprint(pagina_html10)","fdbc845d":"soup10 = BeautifulSoup(pagina_html10.content, 'html.parser')\nsoup10.prettify()","6e52d35f":"lista_de_tabelas10 = soup10.find_all('table')\nlista_de_tabelas10","fa3acaef":"tb_limpa10 = lista_de_tabelas10[0]\ntb_limpa10","b7d1445f":"linhas_tb10 = tb_limpa10.find_all('tr')\nlinhas_tb10","ec7ce45b":"lin10 = linhas_tb10[1].get_text()\nlin10","d5bce6d1":"lin10 = lin10.strip(\"\\n\").strip(\" \")\nlin10","3eb10fd5":"lin10 = re.sub(r\"\\n+\", r\"\\t\", lin10)\nlin10","816f9507":"lin10=lin10.replace(\"\\t\\t\\t\",\"\\t\")\nlin10","151b8b58":"lin10=lin10.replace(u\"\\xa0\", u\"0\")\nlin10","81dad9d1":"ini_tb10 = 1\nfim_tb10 = 140","f1774ea6":"def prep_linha10(linha10):\n\n    linha10 = linha10.get_text().strip(\"\\n\").strip(\" \")\n    \n   \n    linha10 = re.sub(r\"\\n+\", r\"\\t\", linha10)\n    linha10= linha10.replace(\"\\t\\t\\t\",\"\\t\")\n    linha10=linha10.replace(\"\\t\\t\",\"\\t\")\n    linha10=linha10.replace(u\"\\xa0\", u\"0\")\n    \n\n\n\n    \n    return linha10","f4bc1959":"texto_final_10 = \"UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n\"\nfor i in range(ini_tb10, fim_tb10+1):\n    linha10 = prep_linha10(linhas_tb10[i])\n    texto_final_10 += linha10\n    texto_final_10 += \"\\n\"\nprint(texto_final_10)","dc72bb2b":"arquivo10 = open(\"saude_saude10.csv\", \"w\")\narquivo10.write(texto_final_10)\narquivo10.close()","556b9e1f":"df10 = pd.read_csv(\"saude_saude10.csv\", sep='\\t')\ndf10","88ab38ca":"df10['QTDE_LEITOS'] = df10['UTI_ADULTO'] + df10['UTI_PED']\ndel df10['UTI_ADULTO']\ndel df10['UTI_PED']\ndf10","8ed90c30":"import requests\nfrom bs4 import BeautifulSoup\nimport pandas as pd","a785cf34":"url_pagina05 = 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46830-ministerio-da-saude-habilita-mais-632-leitos-de-uti-no-combate-ao-coronavirus'","d302e8f7":"pagina_html05 = requests.get(url_pagina05)\nprint(pagina_html05)","6246e6ad":"soup05 = BeautifulSoup(pagina_html05.content, 'html.parser')\nsoup05.prettify()","53e1be43":"lista_de_tabelas05 = soup05.find_all('table')\nlista_de_tabelas05","2fd38d9e":"tb_limpa05 = lista_de_tabelas05[0]\ntb_limpa05","7a1212e5":"linhas_tb05 = tb_limpa05.find_all('tr')\nlinhas_tb05\n                                ","36dc8073":"lin05 = linhas_tb05[1].get_text()\nlin05","a26865c3":"lin05 = lin05.strip('\\n').strip('')\nlin05","607154b0":"lin05 = re.sub(r\"\\n+\", r\"\\t\", lin05)\nlin05","ebeb821d":"lin05 = lin05.replace(u'\\n', u'\\t')\nlin05","613153e9":"lin05 = lin05.replace('\\t\\t\\t', '\\t')\nlin05                      ","dad1d927":"lin05 = lin05.replace(u'\\xa0', u'0')\nlin05","3fb779b9":"ini_tb05 = 1\nfim_tb05 = 166\n","dc7eb6e3":"def prep_linha05(linha05):\n     \n    linha05 = linha05.get_text().strip('\\n').strip('')\n    \n    \n    linha05 = re.sub(r'\\n+', r'\\t', linha05)\n    linha05 = linha05.replace(u'\\n', u'\\t')\n    linha05 = linha05.replace('\\t\\t\\t', '\\t')\n    linha05 = linha05.replace(\"\\t\\t\",\"\\t\")\n    linha05 = linha05.replace(u'\\xa0', u'0')\n    \n    \n    \n    return linha05","ecafb7d3":"texto_final_05 = 'UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n'\nfor i in range(ini_tb05, fim_tb05+1):\n    linha05 = prep_linha05(linhas_tb05[i])\n    texto_final_05 += linha05\n    texto_final_05 += '\\n'\nprint(texto_final_05)","cf46ca1a":"arquivo05 = open(\"saude_saude05.csv\", \"w\")\narquivo05.write(texto_final_05)\narquivo05.close()","07c6c521":"df05 = pd.read_csv(\"saude_saude05.csv\", sep='\\t')\ndf05","6291d589":"df05['QTDE_LEITOS'] = df05['UTI_ADULTO'] + df05['UTI_PED']\ndel df05['UTI_ADULTO']\ndel df05['UTI_PED']\ndf05","621aaef5":"url_pagina04 = 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46847-brasil-ganha-reforco-de-mais-592-leitos-de-uti'","351c5b00":"pagina_html04 = requests.get(url_pagina04)\nprint(pagina_html04)","5ca28bd4":"soup04 = BeautifulSoup(pagina_html04.content, 'html.parser')\nsoup04.prettify()","164f51fc":"lista_de_tabelas04 = soup04.find_all('table')\nlista_de_tabelas04","869b7cff":"tb_limpa04 = lista_de_tabelas04[0]\ntb_limpa04","2dd2d24e":"linhas_tb04 = tb_limpa04.find_all('tr')\nlinhas_tb04","499d5148":"lin04 = linhas_tb04[1].get_text()\nlin04","c157c5b9":"lin04 = lin04.strip('\\n').strip('')\nlin04","0093feb5":"lin04 = re.sub(r\"\\n+\", r\"\\t\", lin04)\nlin04","6eb837b8":"lin04 = lin04.replace(u'\\n', u'\\t')\nlin04","c54a96f7":"lin04 = lin04.replace('\\t\\t\\t', '\\t')\nlin04        ","09380c0a":"lin04 = lin04.replace('\\xa0', '')\nlin04","a058b5f6":"ini_tb04 = 1\nfim_tb04 = 209\n","285e0584":"def prep_linha04(linha04):\n     \n    linha04 = linha04.get_text().strip('\\n').strip('')\n    \n    \n    linha04 = re.sub(r'\\n+', r'\\t', linha04)\n    linha04 = linha04.replace(u'\\n', u'\\t')\n    linha04 = linha04.replace('\\t\\t\\t', '\\t')\n    linha04 = linha04.replace(\"\\t\\t\",\"\\t\")\n    linha04 = linha04.replace('\\xa0',' ')\n    \n    \n    \n    \n    return linha04","0d6a2235":"texto_final_04 = 'UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n'\nfor i in range(ini_tb04, fim_tb04+1):\n    linha04 = prep_linha04(linhas_tb04[i])\n    texto_final_04 += linha04\n    texto_final_04 += '\\n'\nprint(texto_final_04)","89ed4f5a":"arquivo04 = open(\"saude_saude04.csv\", \"w\")\narquivo04.write(texto_final_04)\narquivo04.close()","3b887a28":"df04 = pd.read_csv(\"saude_saude04.csv\", sep='\\t')\ndf04","d9c1e6e8":"df04['QTDE_LEITOS'] = df04['UTI_ADULTO'] + df04['UTI_PED'] \ndel df04['UTI_ADULTO']\ndel df04['UTI_PED']\ndf04","aa913994":"url_pagina03 = 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46855-ministerio-da-saude-habilita-mais-116-leitos-de-uti'","e2ab2cc7":"pagina_html03 = requests.get(url_pagina03)\nprint(pagina_html03)","c74dd9fc":"soup03 = BeautifulSoup(pagina_html03.content, 'html.parser')\nsoup03.prettify()","90369f86":"lista_de_tabelas03 = soup03.find_all('table')\nlista_de_tabelas03","0d091c79":"tb_limpa03 = lista_de_tabelas03[0]\ntb_limpa03","fd5dde0e":"linhas_tb03 = tb_limpa03.find_all('tr')\nlinhas_tb03","91ee897c":"lin03 = linhas_tb03[1].get_text()\nlin03","5f514f98":"lin03 = lin03.strip('\\n').strip('')\nlin03","b6954e38":"lin03 = re.sub(r\"\\n+\", r\"\\t\", lin03)\nlin03","faa7bf30":"lin03 = lin03.replace(u'\\n', u'\\t')\nlin03","a2dc6ae4":"lin03 = lin03.replace('\\t\\t\\t', '\\t')\nlin03        ","cb773911":"lin03= lin03.replace('\\xa0',' ')\nlin03","39a88415":"ini_tb03 = 1\nfim_tb03 = 219","286b9151":"def prep_linha03(linha03):\n     \n    linha03 = linha03.get_text().strip('\\n').strip('')\n    \n    \n    linha03 = re.sub(r'\\n+', r'\\t', linha03)\n    linha03 = linha03.replace(u'\\n', u'\\t')\n    linha03 = linha03.replace('\\t\\t\\t', '\\t')\n    linha03 = linha03.replace(\"\\t\\t\",\"\\t\")\n    linha03 = linha03.replace('\\xa0',' ')\n    linha03 = linha03.replace('\\t R','\\tR')\n    linha03 = linha03.replace('\\t ','\\t0')\n    \n    return linha03\n    ","5c9c8b6b":"texto_final_03 = 'UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n'\nfor i in range(ini_tb03, fim_tb03+1):\n    linha03 = prep_linha03(linhas_tb03[i])\n    texto_final_03 += linha03\n    texto_final_03 += '\\n'\nprint(texto_final_03)","a486374d":"arquivo03 = open(\"saude_saude03.csv\", \"w\")\narquivo03.write(texto_final_03)\narquivo03.close()","67c2932c":"df03 = pd.read_csv(\"saude_saude03.csv\", sep='\\t')\ndf03","2591d607":"df03['QTDE_LEITOS'] = df03['UTI_ADULTO'] + df03['UTI_PED'] \ndel df03['UTI_ADULTO']\ndel df03['UTI_PED']\ndf03","618de929":"url_pagina02 = 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46870-brasil-ganha-reforco-de-458-leitos-de-uti-para-coronavirus'","898dd1b5":"pagina_html02 = requests.get(url_pagina02)\nprint(pagina_html02)","70136f2c":"soup02 = BeautifulSoup(pagina_html02.content, 'html.parser')\nsoup02.prettify()","a3230cde":"lista_de_tabelas02 = soup02.find_all('table')\nlista_de_tabelas02","807424bf":"tb_limpa02 = lista_de_tabelas02[0]\ntb_limpa02","443d9857":"linhas_tb02 = tb_limpa02.find_all('tr')\nlinhas_tb02","1212d3c5":"lin02 = linhas_tb02[1].get_text()\nlin02","9bd5c478":"lin02 = lin02.strip('\\n').strip('')\nlin02","0b12ef90":"lin02 = re.sub(r\"\\n+\", r\"\\t\", lin02)\nlin02","d084a975":"lin02 = lin02.replace(u'\\n', u'\\t')\nlin02","a20b380a":"lin02 = lin02.replace('\\t\\t\\t', '\\t')\nlin02","ad258278":"lin02 = lin02.replace(u'\\xa0', u'0')\nlin02","5dc5250e":"ini_tb02 = 1\nfim_tb02 = 30","783f2da6":"def prep_linha02(linha02):\n     \n    linha02 = linha02.get_text().strip('\\n').strip('')\n    \n    \n    linha02 = re.sub(r'\\n+', r'\\t', linha02)\n    linha02 = linha02.replace(u'\\n', u'\\t')\n    linha02 = linha02.replace('\\t\\t\\t', '\\t')\n    linha02 = linha02.replace(\"\\t\\t\",\"\\t\")\n    linha02 = linha02.replace(u'\\xa0', u'0')\n    \n    \n    \n    return linha02\n    ","1c752b80":"texto_final_02 = 'UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n'\nfor i in range(ini_tb02, fim_tb02+1):\n    linha02 = prep_linha02(linhas_tb02[i])\n    texto_final_02 += linha02\n    texto_final_02 += '\\n'\nprint(texto_final_02)","41e1c0de":"arquivo02 = open(\"saude_saude02.csv\", \"w\")\narquivo02.write(texto_final_02)\narquivo02.close()","010accc8":"df02 = pd.read_csv(\"saude_saude02.csv\", sep='\\t')\ndf02","b73ecd01":"df02['QTDE_LEITOS'] = df02['UTI_ADULTO'] + df02['UTI_PED'] \ndel df02['UTI_ADULTO']\ndel df02['UTI_PED']\ndf02","d767a2f5":"url_pagina01 = 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46917-ministerio-da-saude-ja-habilitou-6-142-leitos-exclusivos-para-coronavirus'","3b09761e":"pagina_html01 = requests.get(url_pagina01)\nprint(pagina_html01)","93b4144d":"soup01 = BeautifulSoup(pagina_html01.content, 'html.parser')\nsoup01.prettify()","995f1f1b":"lista_de_tabelas01 = soup01.find_all('table')\nlista_de_tabelas01","f5eed426":"tb_limpa01= lista_de_tabelas01[0]\ntb_limpa01","721a649c":"linhas_tb01 = tb_limpa01.find_all('tr')\nlinhas_tb01","a5e5a89c":"lin01 = linhas_tb01[1].get_text()\nlin01","e32a0df0":"lin01 = lin01.strip('\\n').strip('')\nlin01","cacb0899":"lin01 = re.sub(r\"\\n+\", r\"\\t\", lin01)\nlin01","48f7d2e4":"lin01 = lin01.replace(u'\\n', u'\\t')\nlin01","e5fdc3c1":"lin01 = lin01.replace('\\t\\t\\t', '\\t')\nlin01","0e822f97":"lin01 = lin01.replace(u'\\t\\xa0', u'\\t')\nlin01","90272adb":"lin01 = lin01.replace(u'\\xa0', u'')\nlin01","67a1fd15":"lin01 = lin01.replace(u'0\\t', u'0\\t0')\nlin01","ff22d689":"ini_tb01 = 1\nfim_tb01 = 163","e5467862":"def prep_linha01(linha01):\n     \n    linha01 = linha01.get_text().strip('\\n').strip('')\n    \n    \n    linha01 = re.sub(r'\\n+', r'\\t', linha01)\n    linha01 = linha01.replace(u'\\n', u'\\t')\n    linha01 = linha01.replace('\\t\\t\\t', '\\t')\n    linha01 = linha01.replace(\"\\t\\t\",\"\\t\")\n    linha01 = linha01.replace('\\xa0',' ')\n    linha01 = linha01.replace('\\t R','\\tR')\n    linha01 = linha01.replace('\\t ','\\t0')\n   \n    \n    \n    return linha01\n    ","f20150cc":"texto_final_01 = 'UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n'\nfor i in range(ini_tb01, fim_tb01+1):\n    linha01 = prep_linha01(linhas_tb01[i])\n    texto_final_01 += linha01\n    texto_final_01 += '\\n'\nprint(texto_final_01)","93ea2020":"arquivo01 = open(\"saude_saude01.csv\", \"w\")\narquivo01.write(texto_final_01)\narquivo01.close()","c167da1a":"df01 = pd.read_csv(\"saude_saude01.csv\", sep='\\t')\ndf01","3d178e83":"df01['QTDE_LEITOS'] = df01['UTI_ADULTO'] + df01['UTI_PED'] \ndel df01['UTI_ADULTO']\ndel df01['UTI_PED']\ndf01","b2bdb3fa":"url_pagina00 = 'https:\/\/www.saude.gov.br\/noticias\/agencia-saude\/46920-brasil-ganha-reforco-de-mais-202-leitos-de-uti-voltados-para-coronavirus'","2bcd3b67":"pagina_html00 = requests.get(url_pagina00)\nprint(pagina_html00)","bd641762":"soup00 = BeautifulSoup(pagina_html00.content, 'html.parser')\nsoup00.prettify()","2e33dba1":"lista_de_tabelas00 = soup00.find_all('table')\nlista_de_tabelas00","3978474e":"tb_limpa00= lista_de_tabelas00[0]\ntb_limpa00","cf80b2df":"linhas_tb00 = tb_limpa00.find_all('tr')\nlinhas_tb00","42ef212d":"lin00 = linhas_tb00[1].get_text()\nlin00","9fdc030b":"lin00 = lin00.strip('\\n').strip('')\nlin00","85abefd9":"lin00 = re.sub(r\"\\n+\", r\"\\t\", lin00)\nlin00","9cf1d301":"lin00 = lin00.replace(u'\\n', u'\\t')\nlin00","57cecd9e":"lin00 = lin00.replace('\\t\\t\\t', '\\t')\nlin00","1ca93528":"lin00 = lin00.replace(u'\\xa0', u'0')\nlin00","b6fee7d9":"ini_tb00 = 1\nfim_tb00 = 20","0aa64ae0":"def prep_linha00(linha00):\n     \n    linha00 = linha00.get_text().strip('\\n').strip('')\n    \n    \n    linha00 = re.sub(r'\\n+', r'\\t', linha00)\n    linha00 = linha00.replace(u'\\n', u'\\t')\n    linha00 = linha00.replace('\\t\\t\\t', '\\t')\n    linha00 = linha00.replace(\"\\t\\t\",\"\\t\")\n    linha00 = linha00.replace(u'\\xa0', u'0')\n    \n    \n    \n    return linha00","e5f24c2b":"texto_final_00 = 'UF\\tMUNICIPIO\\tESTABELECIMENTO\\tUTI_ADULTO\\tUTI_PED\\tVALOR\\n'\nfor i in range(ini_tb00, fim_tb00+1):\n    linha00 = prep_linha00(linhas_tb00[i])\n    texto_final_00 += linha00\n    texto_final_00 += '\\n'\nprint(texto_final_00)","4776c629":"arquivo00 = open(\"saude_saude00.csv\", \"w\")\narquivo00.write(texto_final_00)\narquivo00.close()","eceeb51e":"df00 = pd.read_csv(\"saude_saude00.csv\", sep='\\t')\ndf00","7a422272":"df00['QTDE_LEITOS'] = df00['UTI_ADULTO'] + df00['UTI_PED'] \ndel df00['UTI_ADULTO']\ndel df00['UTI_PED']","8b36d40d":"frames = [df00, df01, df02, df03, df04, df05, df06, df07, df08, df09, df10, df11]\n\nresult = pd.concat(frames)\ndel result['VM']\nresult","8f687ae7":"result['UF'] = result['UF'].replace(['S\u00e3o Paulo', 'Bahia', 'Rio de Janeiro', 'Rio Grande do Sul', 'Esp\u00edrito Santo', 'Piau\u00ed','Minas Gerais', 'RJ0','ES0','Es','Es0',' RJ','RJ '], ['SP','BA', 'RJ','RS','ES','PI','MG','RJ','ES','ES','ES','RJ','RJ'])\nresult\n","98fe0593":"import plotly.express as px\nimport plotly.offline as py\nimport plotly.graph_objs as go\nimport cufflinks as cf\nfrom plotly.offline import iplot","31c28b89":"trace = go.Bar(x = result['UF'],\n               y = result['QTDE_LEITOS'])\ndata = [trace]\npy.iplot(data)","13fec671":"result = result.astype({\"QTDE_LEITOS\": int})\ndel result['MUNICIPIO']\ndel result['ESTABELECIMENTO']\ndf= result.groupby(['UF']).sum().reset_index()\ndf_ordenado = df.sort_values(by='QTDE_LEITOS')\ndf_ordenado","741c38e4":"fig = px.scatter(df_ordenado, \n                 x=\"UF\", \n                 y=\"QTDE_LEITOS\", \n                 size=\"QTDE_LEITOS\", \n                 color=\"UF\",\n                 hover_name=\"UF\", \n                 size_max=60)\n\n\nfig.update_layout(\n    title=\"Refor\u00e7o de leitos por estado\",\n    xaxis_title=\"Estados\",\n    yaxis_title=\"Qtde leitos\",\n    width = 700\n)\n\nfig.show()","77d1033f":"decrescente=df.sort_values(['QTDE_LEITOS'], ascending=[False])\ndecrescente.head()\n","3f3eeeb1":"fig = px.scatter(decrescente.head(), \n                 x=\"UF\", \n                 y=\"QTDE_LEITOS\", \n                 size=\"QTDE_LEITOS\", \n                 color=\"UF\",\n                 hover_name=\"UF\", \n                 size_max=60)\n\n\nfig.update_layout(\n    title=\"Estados que tiveram maior refor\u00e7o em n\u00famero de leitos\",\n    xaxis_title=\"Estados\",\n    yaxis_title=\"Qtde leitos\",\n    width = 700\n)\n\nfig.show()","594d049a":"print(\"M\u00e9dia:\", df.mean())\nprint(\"Desvio padr\u00e3o:\", df.std())","1d844f69":"Para criar um arquivo CSV basta utilizar esse c\u00f3digo a seguir:","4959b051":"Agora criaremos uma fun\u00e7\u00e3o prepara linha que ir\u00e1 preparar todas as linhas para o nosso Dataframe, assim como foi realizado na linha 1 do link 11 (lin11)","2f99d4b7":"Esse caderno detalha a solu\u00e7\u00e3o da nossa pr\u00f3pria quest\u00e3o dirigida para o curso de Ci\u00eancia de Dados e Intelig\u00eancia artificial da PUCSP.","08a72052":"Depois de inspecionar o site utilizado observamos que as informa\u00e7\u00f5es que ser\u00e3o utilizadas est\u00e3o localizadas na tag  ```<table>``` portanto utilizaremos a BeautifulSoup para buscar todas as tags  ```<table>```","fb6c8aea":"O primeiro link se encontra na seguinte URL:","0bbf2a24":"## QUEST\u00c3O DIRIGIDA:\n\nQuais foram os estados que tiveram maior refor\u00e7o,em quantidade de leitos de UTI, do in\u00edcio da pandemia at\u00e9 o dia 21\/05?\n\nPara isso utilizaremos o site do pr\u00f3prio Minist\u00e9rio da Sa\u00fade, que p\u00fablicou diversas tabelas, com as informa\u00f5es necess\u00e1rias para a an\u00e1lise desta quest\u00e3o dirigida. Estas informa\u00e7\u00f5es se encontram em 11 links com 1 tabela cada um e que se transformar\u00e1 ao decorrer do trabalho em um Dataframe s\u00f3.","bf9f9007":"Agora vamos por em ordem decrescente e pegar os 5 maiores valores, assim, os 5 estados que mais contemplados:","a7bce025":"Para criarmos o texto arquivo CSV final, basta fazer uma concatena\u00e7\u00e3o de todas as linhas da tabela, incluindo um\\n ao final da linha.","e66f9362":"Ainda permanceram os espa\u00e7oes entre as informa\u00e7\u00f5es que deveriam ser separadas por colunas, para isso, substituiremos o \"\\n\" por \"\\t\" (tabula\u00e7\u00e3o)","1a4c4cb1":"A primeira linha ser\u00e1 sempre a linha 0, por\u00e9m, esta cont\u00e9m os t\u00edtulos de cada coluna. Para isso pegaremos s\u00f3 as informa\u00e7\u00f5es necess\u00e1rias (que est\u00e3o entre a linha 1 e a linha 12) e prepararemos elas para o nosso Dataframe.","39ff1630":"Agora usaremos essa forma mais \"limpa\" para an\u00e1lisar onde est\u00e1 a informa\u00e7\u00e3o desejada. Nesse caso, se buscarmos por todas as tags ```<tr>``` obteremos as linhas desejadas.","b7343e8c":"\u00c9 poss\u00edvel observar que ter\u00edamos 3 tabula\u00e7\u00f5es entre as informa\u00e7\u00f5es necess\u00e1rias, para ajust\u00e1-la substituiremos as tr\u00eas tabula\u00e7\u00f5es por apenas uma.","95a78946":"**Esse procedimento utilizado no link 11 ser\u00e1 utilizado para os outros links.**","1557cbae":"Para plotar um gr\u00e1fico de barras com as informa\u00e7\u00f5es de quantidade de leitos por UF ","b32ba176":" # **WEB SCRAPING COVID-19**","186f3d9e":"Afim de obter uma linha perfeita para o nosso Dataframe, analisaremos somente uma linha, observando o que deveremos apagar ou substituir e depois repitiremos o procedimento com as demais linhas.","2230a9a1":"Gr\u00e1fico dos 5 estados:","e2093b1f":"Para plotar o gr\u00e1fico de bolhas da tabela acima utilizaremos o seguinte comando:","e14d2d34":"Fazendo a leitura com Pandas:","88856ec4":"Para isso importaremos a Biblioteca Requests, BeautifulSoup e Pandas.","8dbbb380":"Podemos ver que o resultado a acima inicia e termina com\\n (caractere ENTER ou RETURN), existe \\n\\n (espa\u00e7o) antes do Estado e ao final do valor. Para remover os\\n, os espa\u00e7os, no come\u00e7o e ao final da linha utilizaremos o m\u00e9todo strip() que remove caracteres no come\u00e7o e ao final da linha.","747283c6":"Como algumas tabelas n\u00e3o estavam com os Estados por sigla, substituimos afim de uni-los mais tarde.","eb2c2852":"A an\u00e1lise permite perceber n\u00e3o s\u00f3 os estados que tiveram a maior quantidade de leitos de refor\u00e7o mas tamb\u00e9m a diferen\u00e7a entre estes cinco e at\u00e9 mesmo o alto valor do desvio padr\u00e3o. A quest\u00e3o dirigida foi solucionada mas para obter uma boa an\u00e1lise da situa\u00e7\u00e3o geral seria interessante combinar esta a situa\u00e7\u00e3o de todos os estados, assim, seria poss\u00edvel perceber se os que foram mais contemplados s\u00e3o aqueles que mais necessitavam.","a92b79a0":"Agruparemos os estados e organizaremos em ordem crescente: ","f97a8747":"Agora faremos o download da p\u00e1gina utilizando a requests","019ad7fa":"\u00c9 importante observar que os DataFrames n\u00e3o estavam iguais, alguns tinham a informa\u00e7\u00e3o de leitos de UTI pediatrico e adulto e outros somente a quantidade de leitos total, para poder uni-los somamos as duas afim de obter uma coluna \"QTDE_LEITOS\" padr\u00e3o em todos os DataFrames.","31014aea":"Ap\u00f3s realizarmos o procedimento em todos os links que ser\u00e3o utilizados, \u00e9 necess\u00e1rio unir todos os Dataframes em um s\u00f3 para fazer a an\u00e1lise. Para isso, vamos concatenar todos eles:"}}