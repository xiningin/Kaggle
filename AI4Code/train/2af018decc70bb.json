{"cell_type":{"9444c715":"code","1d6d04cf":"code","2e4df57f":"code","835b42fd":"code","be31054e":"code","c1a81674":"code","e8aaf267":"code","45453340":"code","e454ca43":"code","8115b047":"code","dfe10cdd":"code","7590d9ee":"code","3af314cc":"code","9aac1d5f":"code","07063052":"code","81b3fdf1":"code","b77579c8":"code","949be814":"code","ff1b7d01":"code","344d064c":"code","2adf8068":"code","f02b67a8":"code","27eb29bf":"code","1b22face":"code","4dd0708b":"code","5a97db58":"code","7f77adf8":"code","ee656117":"code","4542190c":"code","ff981f6e":"code","2aff234b":"code","5dfa0e66":"code","ca7ba033":"code","ff33df63":"code","bda7dd0f":"code","f7cd5e94":"code","ebbcd69f":"code","469df819":"code","a0a623fd":"code","84467d6f":"code","c154e603":"code","2130b686":"code","01cdad57":"code","e46989d1":"code","50bfeaab":"code","61186b34":"code","dd0b6897":"code","9b624e3e":"code","77ac591a":"code","7319dba6":"code","d47565af":"markdown","39f38345":"markdown","8a7d6ade":"markdown","093bd4d2":"markdown","7ec869d1":"markdown","08830285":"markdown","acdcc351":"markdown","d9ea5bc2":"markdown","a4074660":"markdown","1fae9a90":"markdown","cebdb02f":"markdown","c87012b4":"markdown","243d7dc4":"markdown","7133cfc3":"markdown","5609fc21":"markdown","6bc3c683":"markdown","94864799":"markdown","d3ceb319":"markdown","3d0c74d2":"markdown","6530cf9c":"markdown","42ecd236":"markdown","7b620476":"markdown","2904d2e5":"markdown","e24e87de":"markdown","a63fa33d":"markdown"},"source":{"9444c715":"import numpy as np  #This module will help us to give numbers , or array\nimport matplotlib.pyplot as plt #for visualization\nimport pandas as pd #To read CSV files\nimport seaborn as sns #for visualization\n%matplotlib inline ","1d6d04cf":"train= pd.read_csv('..\/input\/titanic\/train.csv') ","2e4df57f":"train.head()","835b42fd":"sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap='inferno')","be31054e":"sns.set_style('whitegrid')\nsur_g=sns.countplot(x='Survived',data=train,palette='RdBu_r')\n","c1a81674":"sns.countplot(x='Survived',hue='Sex',data=train,palette='RdBu_r')","e8aaf267":"sns.distplot(train['Age'].dropna(),kde=False,color='darkred',bins=30)","45453340":"import cufflinks as cf\ncf.go_offline()","e454ca43":"train['Age'].iplot(kind='hist',bins=30,color='red')\n","8115b047":"train['Fare'].iplot(kind='hist',bins=30,color='green')","dfe10cdd":"plt.figure(figsize=(12,7))\nsns.boxplot(x='Pclass',y='Age',data=train,palette='winter')","7590d9ee":"def impute_age(cols):\n    Age=cols[0]\n    Pclass=cols[1]\n    if pd.isnull(Age):\n        \n        if Pclass==1:\n            \n            return 37\n        elif Pclass==2:\n\n            return 29\n        \n        else:\n            \n            return 24\n    else:\n        \n        return Age","3af314cc":"train['Age']= train[['Age','Pclass']].apply(impute_age,axis=1)","9aac1d5f":"sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap='viridis')","07063052":"train.drop('Cabin',axis=1,inplace=True)","81b3fdf1":"train.head()","b77579c8":"train.dropna(inplace=True)","949be814":"Ptitle = [a for i in train['Name'] for a in i.split(' ') if a.endswith('.')]\ntrain['prefix'] = pd.Series(Ptitle)\ntrain['prefix'].head()","ff1b7d01":"gmap=sns.countplot(x='prefix',data=train,palette='RdBu_r')\ngmap=plt.setp(gmap.get_xticklabels(),rotation=45)","344d064c":"Pname_final = {\n    \"Capt.\": \"Officer\",\n    \"Col.\": \"Officer\",\n    \"Major.\": \"Officer\",\n    \"Jonkheer.\": \"Master\",\n    \"Don.\": \"Royalty\",\n    \"Sir.\" : \"Royalty\",\n    \"Dr.\": \"Officer\",\n    \"Rev.\": \"Officer\",\n    \"the Countess.\":\"Royalty\",\n    \"Mme.\": \"Mrs\",\n    \"Mlle.\": \"Miss\",\n    \"Ms.\": \"Mrs\",\n    \"Mr.\" : \"Mr\",\n    \"Mrs.\" : \"Mrs\",\n    \"Miss.\" : \"Miss\",\n    \"Master.\" : \"Master\",\n    \"Lady.\" : \"Royalty\",\n    \"Dona.\" : \"Royalty\" \n}\ntrain['prefix']=train['prefix'].map(Pname_final)\ntrain['prefix']","2adf8068":"train.head()","f02b67a8":"train.info()","27eb29bf":"sex=pd.get_dummies(train['Sex'],drop_first=True)\nembark=pd.get_dummies(train['Embarked'],drop_first=True)","1b22face":"train.drop(['Name','Sex','Embarked','prefix','Ticket'],axis=1,inplace=True)","4dd0708b":"train.head()","5a97db58":"train = pd.concat([train,sex,embark],axis=1)","7f77adf8":"train.head()","ee656117":"from sklearn.model_selection import train_test_split","4542190c":"X_train, X_test, y_train, y_test = train_test_split(train.drop('Survived',axis=1), \n                                                    train['Survived'], test_size=0.10, \n                                                    random_state=101)","ff981f6e":"from sklearn.ensemble import RandomForestClassifier","2aff234b":"rfc= RandomForestClassifier()","5dfa0e66":"rfc.fit(X_train,y_train)","ca7ba033":"predictions = rfc.predict(X_test)","ff33df63":"from sklearn.metrics import classification_report, confusion_matrix","bda7dd0f":"print(confusion_matrix(y_test,predictions))\nprint('\\n')\nprint(classification_report(y_test,predictions))","f7cd5e94":"from sklearn.tree import DecisionTreeClassifier\n\ndtree= DecisionTreeClassifier()\n\ndtree.fit(X_train,y_train)\n\npred_d= dtree.predict(X_test)\n\nprint(confusion_matrix(y_test,pred_d))\nprint('\\n')\nprint(classification_report(y_test,pred_d))\n\n","ebbcd69f":"test = pd.read_csv('..\/input\/titanic\/test.csv')","469df819":"test.info()","a0a623fd":"test.head()","84467d6f":"test.drop('Cabin',axis=1,inplace=True)","c154e603":"test.head()","2130b686":"gender_sub= pd.read_csv('..\/input\/titanic\/gender_submission.csv')","01cdad57":"gender_sub.head()","e46989d1":"gender_sub.drop('PassengerId',axis=1,inplace=True)\n","50bfeaab":"gender_sub.head()","61186b34":"test.columns","dd0b6897":"test.drop(['Pclass', 'Name', 'Sex', 'Age', 'SibSp', 'Parch',\n       'Ticket', 'Fare', 'Embarked'],axis=1,inplace=True)","9b624e3e":"gender_sub= pd.concat([test,gender_sub],axis=1)","77ac591a":"gender_sub.head()","7319dba6":"submit=gender_sub[['PassengerId','Survived']]\nsubmit.to_csv('My_Predict.csv',index=False)","d47565af":"**Now Checking Our data**","39f38345":"## Data Cleaning\nWe want to fill in missing age data instead of just dropping the missing age data rows. One way to do this is by filling in the mean age of all the passengers (imputation).\nHowever we can be smarter about this and check the average age by passenger class.","8a7d6ade":"Great! Our data is ready for our model!\n\n# Building a RandomForest model\n\n\n## Train Test Split","093bd4d2":"Roughly 20 percent of the Age data is missing. The proportion of Age missing is likely small enough for reasonable replacement with some form of imputation. Looking at the Cabin column, it looks like we are just missing too much of that data to do something useful with at a basic level. We'll probably drop this later, or change it to another feature like \"Cabin Known: 1 or 0\"\n\nLet's continue on by visualizing some more of the data!","7ec869d1":"**RandomForestClassifier Gives more accuracy rate !**\n**Done with my predictions result**\n\n# Great Job! Done","08830285":"Great ! Done with null values . ","acdcc351":"## Converting Categorical Features \n\nWe'll need to convert categorical features to dummy variables using pandas! Otherwise our machine learning algorithm won't be able to directly take in those features as inputs.","d9ea5bc2":"YahOO! DOne with our Prefix Colunm","a4074660":"> **hah! now we done with age column .We filled with the avg age with respect to Passenger class**","1fae9a90":"# Creating My_predictions Csv \n **Clearing Data , reading all csv files and in last giving my opinion**","cebdb02f":"## Training and Predicting","c87012b4":"## Decision Trees\n\nWe'll compare between Randomforestclassifier and DecisionTreeClassifier","243d7dc4":"**Graph based on sex**","7133cfc3":"**Droping Cabin column Because of so much null value**","5609fc21":"# Titanic Notebook -> By beginner","6bc3c683":"# Importing cufflinks","94864799":"## The Data\n\nLet's start by reading in the titanic_train.csv file into a pandas dataframe.","d3ceb319":"Hello Data scitists , ML engineers . Welcome to my titanic notebook . Kaggle is the known platform where it give chances to every beginner who wants to show case thier talent .This is my first kaggle competiton. \n\n**Let's Explore titanic data**","3d0c74d2":"# Exploratory Data Analysis\n\nLet's begin some exploratory data analysis! We'll start by checking out missing data!\n\n## Missing Data\n\nWe will use seaborn to create a simple heatmap to see where we are missing data!","6530cf9c":"> **Importing modulus**","42ecd236":"****By this module our data get a nice structure or easy to understand values****","7b620476":"Concating columns","2904d2e5":"**Evaluation**","e24e87de":"We can see the wealthier passengers in the higher classes tend to be older, which makes sense. We'll use these average age values to impute based on Pclass for Age.","a63fa33d":"# Separating title from Passenger names"}}