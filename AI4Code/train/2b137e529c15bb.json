{"cell_type":{"5f4ee871":"code","2049baae":"code","36c1df7f":"code","0fcce20a":"code","d9530365":"code","52141c59":"code","0864e165":"code","a416b244":"code","2dcf59a8":"code","9c56a95c":"code","f627e17c":"code","d5bd4c1e":"code","431a66c0":"code","9af24763":"code","89fc263a":"code","985c801c":"code","cc4f4504":"markdown","d644d337":"markdown","f0ff3c00":"markdown","8945384a":"markdown","9a3a676f":"markdown","8e8e2949":"markdown","dc7d1096":"markdown","365e1c3f":"markdown","b716704f":"markdown","39f4da0b":"markdown","162beee9":"markdown"},"source":{"5f4ee871":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom plotly.offline import init_notebook_mode, iplot,plot\ninit_notebook_mode(connected=True)\nimport  plotly.graph_objs as go\nimport plotly.offline as offline\noffline.init_notebook_mode()\nimport numpy as np\n\ndf1=pd.read_csv(\"..\/input\/world-foodfeed-production\/FAO.csv\",encoding=\"ISO-8859-1\")\ndf1=df1.copy()\ndf3=pd.read_csv(\"..\/input\/gdp-world-bank-data\/GDP by Country.csv\",skiprows=3)\ndf3=df3.copy()\n","2049baae":"\nplt.style.use(\"ggplot\")\nitems=pd.DataFrame(df1.groupby(\"Item\")[\"Element\"].agg(\"count\").sort_values(ascending=False))[:25]\nplt.figure(figsize=(8,10))\nplt.gcf().subplots_adjust(left=.3)\nsns.barplot(x=items.Element,y=items.index,data=items)\nplt.gca().set_title(\"Top 25 items produced around globe\")\nplt.show()","36c1df7f":"\nindia=pd.DataFrame(df1[df1[\"Area\"]==\"India\"].loc[:,\"Y2004\":\"Y2013\"].agg(\"sum\",axis=0))\nplt.figure(figsize=(8,8))\n\nindia.columns=[\"Production\"]\nsns.barplot(x=india.index,y=india.Production,data=india)\nplt.gca().set_ylabel(\"Production in tonnes\")\nplt.gca().set_xlabel(\"Year\")\nplt.gcf().subplots_adjust(left=.2)\nplt.gca().set_title(\"India's production\")\nplt.show()","0fcce20a":"top_countries=df1.groupby([\"Area\"])[[\"Y2004\",\"Y2005\",\"Y2005\",\"Y2006\",\"Y2007\",\"Y2008\",\"Y2009\",\"Y2010\",\"Y2011\",\n                                    \"Y2012\",\"Y2013\"]].sum()\ntop=pd.DataFrame(top_countries.agg(\"mean\",axis=1).sort_values(ascending=False),columns=[\"Tonnes\"])[:10]\n","d9530365":"plt.figure(figsize=(8,8))\nplt.gca().set_title(\"Top producers throughout the years\")\nsns.barplot(x=top[\"Tonnes\"],y=top.index,data=top)\nplt.gcf().subplots_adjust(left=.3)\nplt.show()","52141c59":"\nindia=pd.DataFrame(top_countries.loc[\"India\"])\nchina=pd.DataFrame(top_countries.loc[\"China, mainland\"])\nus=pd.DataFrame(top_countries.loc[\"United States of America\"])\nbrazil=pd.DataFrame(top_countries.loc[\"Brazil\"])\n\ntrace_1=go.Scatter(x=us.index,y=us[\"United States of America\"],mode=\"lines\",name=\"US\")\ntrace_2=go.Scatter(x=india.index,y=india[\"India\"],mode=\"lines+markers\",name=\"India\")\ntrace_3=go.Scatter(x=china.index,y=china[\"China, mainland\"],mode=\"lines\",name=\"China\")\ntrace_4=go.Scatter(x=brazil.index,y=brazil[\"Brazil\"],mode=\"lines+markers\",name=\"Brazil\")\n\ndata1=[trace_1,trace_2,trace_3,trace_4]\n\nlayout = dict(title = 'Variations in production of top 4 countries',\n              xaxis= dict(title= 'Year',ticklen= 5,zeroline= False)\n             )\nfig=dict(data=data1,layout=layout)\niplot(fig,filename=\"figure.html\",validate=False)\n","0864e165":"df2=pd.read_csv(\"..\/input\/global-food-prices\/wfp_market_food_prices.csv\",encoding=\"ISO-8859-1\")\ndf2=df2.copy()","a416b244":"india=df2[(df2[\"adm0_name\"]==\"India\")& (df2[\"mp_year\"]>2003)]\nindia=pd.DataFrame(india.groupby([\"cm_name\",\"mp_year\"])[\"mp_price\"].agg(\"mean\").reset_index())\nwheat=df1[(df1[\"Area\"]==\"India\") & (df1[\"Item\"]==\"Wheat and products\")& (df1['Element']==\"Food\")]\nindia=india[(india[\"cm_name\"]==\"Wheat\") & (india[\"mp_year\"]<2014)]\nwheat=wheat.loc[:,\"Y2004\":].transpose()\nwheat.columns=[\"tonnes\"]","2dcf59a8":"\nplt.style.use(\"ggplot\")\nfig,ax1=plt.subplots(figsize=(8,6))\nax2=ax1.twinx()\nx=np.arange(0,10)\ny=india[\"mp_price\"]\nax2.plot(x,y,'-o',color=\"red\",label=\"price\")\n\ny=wheat[\"tonnes\"]\nax1.plot(x,y,\"-o\",color=\"blue\",label=\"production\")\nax1.set_xticklabels(wheat.index,rotation=\"90\")\nax2.set_xticklabels(wheat.index,rotation=\"90\")\nax1.set_ylabel(\"production in tonnes\")\nax2.set_ylabel(\"price in RS\")\nax1.set_title(\"Production and price of Wheat in India\")\nplt.legend()\nplt.show()\n","9c56a95c":"foo=df1.groupby([\"Element\"]).agg(\"sum\").drop([\"Area Code\",\"Item Code\",\"Element Code\",\"latitude\",\"longitude\"],axis=1)\nfoo=foo.sum(axis=1)\nlabels=[\"Feed\",\"Food\"]\nvalues=[foo[0],foo[1]]\n\ntrace=go.Pie(labels=labels,values=values)\niplot([trace],filename=\"food_feed\",validate=False)","f627e17c":"top_box=df1.groupby(\"Area\").agg(\"sum\").loc[top.index].drop([\"Area Code\",\"Item Code\",\n                                                            \"latitude\",\"longitude\",\"Element Code\"],axis=1)\ntop_box=top_box.transpose()\nplt.style.use(\"ggplot\")\nplt.figure(figsize=(15,8))\nsns.boxplot(data=top_box)\nplt.show()\n","d5bd4c1e":"plt.figure(figsize=(12,9))\ntop=pd.DataFrame(top_countries.agg(\"mean\",axis=1).sort_values(ascending=False),columns=[\"Tonnes\"])[:5]\ntop_box=df1.groupby(\"Area\").agg(\"sum\").loc[top.index].drop([\"Area Code\",\"Item Code\",\n                                                            \"latitude\",\"longitude\",\"Element Code\"],axis=1)\ntop_box=top_box.transpose()\nsns.heatmap(data=top_box,linewidths=0,cmap=\"YlGnBu\")\nplt.show()\n","431a66c0":"#It is evident from the heatmap that the China and India is constatly improving their production,but Brazil and USA \n#seems to have constant production throughout the year or has not much improved production compared to China or India.\n#Russian Frederation was established on year 1991,so production till 1991 remains zero\n","9af24763":"india_gdp=df3[df3[\"Country Name\"]==\"India\"].loc[:,\"1961\":\"2004\"].transpose()\nindia_gdp.columns=[\"gdp\"]\nindia_pr=df1[df1[\"Area\"]==\"India\"].loc[:,\"Y1961\":\"Y2004\"].agg(\"sum\")\n\nfig,ax1=plt.subplots(figsize=(15,7))\nax2=ax1.twinx()\nx=india_gdp.index\nax2.plot(x,india_gdp[\"gdp\"],\"-\",color=\"red\",label=\"gdp\")\nax1.plot(x,india_pr[:],\"-\",color=\"blue\",label=\"production\")\nax1.set_xticklabels(india_gdp.index,rotation=\"90\")\nax1.set_ylabel(\"production in tonnes\")\nax2.set_ylabel(\"GDP in USD\")\nfig.legend()\nax1.set_title(\"India's production and gdp growth\",fontsize=25)\n\nplt.show()","89fc263a":"#Agriculture sector is one of the majaor contributer to india's gdp.","985c801c":"country=df1[df1[\"Element\"]==\"Food\"].groupby(\"Area\").agg(\"sum\").drop([\"Area Code\",\"Item Code\",\"Element Code\",\"latitude\",\"longitude\"],axis=1)\ncountry=pd.DataFrame(country.mean(axis=1).sort_values(),columns=[\"production\"])[:20]\nplt.figure(figsize=(10,10))\nsns.set_style(\"whitegrid\")\nsns.barplot(y=country.index,x=country[\"production\"],data=country,palette=\"Set3\")\nplt.gca().set_xlabel(\"Mean production in tonnes\",fontsize=15)\nplt.gca().spines[\"right\"].set_visible(False)\nplt.gca().spines[\"top\"].set_visible(False)\nplt.gca().set_title(\"Least Food producing countries\",fontsize=25)\nplt.show()\nplt.savefig(\"least_food\")","cc4f4504":"## Loading libraries and data","d644d337":"\n## Boxplot of top producers around globe","f0ff3c00":"## India's production story","8945384a":"## Least Food producing countries","9a3a676f":"\n## Food and Feed","8e8e2949":"\n\n\n## India's production and gdp growth","dc7d1096":"## Which are the top producers throughout the years","365e1c3f":"## Wheat production and price rise in India","b716704f":"# What are the top products produced around the globe","39f4da0b":"## Heatmap of top 5 Producers","162beee9":"\n## Variation in production of top 4 producers"}}