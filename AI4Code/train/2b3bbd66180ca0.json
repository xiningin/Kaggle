{"cell_type":{"9a58b5cd":"code","cf6e9525":"markdown"},"source":{"9a58b5cd":"# **************\n# * Librairies *\n# **************\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n# **************\n# * Param\u00e8tres *\n# **************\n\n# nombre de donn\u00e9es\nn = 20\n\n# param\u00e8tres de la droite\na = 1.  \nb = -2.\n \n# ********************************************        \n# * cr\u00e9ation du vecteur donn\u00e9es synth\u00e9tiques *\n# ********************************************      \n\n# Cr\u00e9ation d'un vecteur x de n valeurs allant de 0 \u00e0 5 \nx = np.linspace(0, 5, n)\n# D\u00e9finition de la valeur exacte suivant la relation y=ax+b\ny_exact = a * x + b\n\n# ajout d'un bruit al\u00e9atoire gaussien\nmu, sigma = 0, 0.5 # mu (moyenne) et sigma (\u00e9cart-type)\n# la fonction random.normal g\u00e9n\u00e9re n valeurs al\u00e9atoires suivant une distribution normale de moyenne mu et d'\u00e9cart-type sigma\nbruit = np.random.normal(mu, sigma, n)\n# s\u00e9rie de donn\u00e9es synth\u00e9tiques : la valeur exacte + le bruit\ny = y_exact + bruit\n\n# affichage\n#plt.plot(x, y, 'bo', label='Donn\u00e9es synth\u00e9tiques', markersize=5)  # nuage de points synth\u00e9tiques\n#plt.plot(x, y_exact, 'g+', label='Valeurs exactes', markersize=5) # valeurs exactes\n#plt.plot(x, y_exact, 'g', label='Droite des valeurs exactes') # droite des valeurs exactes\n#plt.xlabel('axe x')\n#plt.ylabel('axe y')\n#plt.legend()\n#plt.title(\"Donn\u00e9es synth\u00e9tiques et valeurs exactes\")\n#plt.show()\n\n# d\u00e9finition de la matrice \"donn\u00e9es\" \nd = y.T\n\n# d\u00e9finition de la matrice \"loi physique\"  \nG = np.vstack([x, np.ones(x.size)]).T\n\n# r\u00e9solution par m\u00e9thode des moindres carr\u00e9s\nm = np.linalg.lstsq(G, d, rcond=None)\n\n# d\u00e9finition des param\u00e8tres (a et b) optimaux issu de l'inversion\na_opt, b_opt = m[0]\n# d\u00e9finition du r\u00e9sidu\nres = m[1][0]\n# d\u00e9finiton du r\u00e9sidu pond\u00e9r\u00e9 par le nombre de points n\nres_w = res\/n\nprint(f\"a_opt = {a_opt.round(2)} , b_opt = {b_opt.round(2)} ; r\u00e9sidu = {res.round(2)} ; r\u00e9sidu pond\u00e9r\u00e9 = {res_w.round(2)}\")\n\n# affichage\nplt.plot(x, y, 'bo', label='Donn\u00e9es synth\u00e9tiques', markersize=5)  # nuage de points synth\u00e9tiques\nplt.plot(x, y_exact, 'g', label='Droite des valeurs exactes') # droite des valeurs exactes\nplt.plot(x, a_opt * x + b_opt, 'r', label='Droite ajust\u00e9e')  # droite de r\u00e9gression \/ mod\u00e8le ajust\u00e9\nplt.xlabel('axe x')\nplt.ylabel('axe y')\nplt.legend()\nplt.title(\"R\u00e9gression sur les donn\u00e9es synth\u00e9tiques\")\nplt.show()","cf6e9525":"Lorsque l'on augmente l'\u00e9cart-type et\/ou le nombre de valeurs, le r\u00e9sidu tend \u00e0 augmenter (ce n'est pas le cas pour tous les tests mais c'est une tendance). En revanche, les valeurs de a et de b ne semblent pas particuli\u00e8rement impact\u00e9es par ces variations. Elles semblent rester proche des valeurs fix\u00e9es au d\u00e9but.\n\nPS : Les tests sont visibles gr\u00e2ce au fichier qui se trouve dans dataset, mais je ne sais pas comment simplement ajouter l'image des tableaux ici."}}