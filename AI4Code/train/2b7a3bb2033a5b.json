{"cell_type":{"ea1369b1":"code","90c689a7":"code","dced4904":"code","d022aea9":"code","7e2e6379":"code","cdee0869":"code","a800dbd1":"code","3b20f804":"code","5ba65e67":"code","2e5c8fce":"code","7215ab17":"code","76e3629e":"code","d4708c98":"code","d7095c45":"code","5cba539a":"code","e191a757":"code","b7b81e43":"code","e31ee3d1":"code","d07c113d":"code","4b4a5826":"code","d0f36b47":"code","4d5b24ba":"code","f70ea9df":"code","b33dfc87":"code","ea9314ed":"code","82859963":"code","79d539ac":"code","f5499770":"code","5b149e5f":"code","c0313f4a":"code","6a314fbe":"code","2f0f1d44":"code","892f202c":"code","1ff5de4b":"code","3ae6ae9b":"code","8c2ec76d":"code","14e2cd43":"code","fe560daf":"code","b1853478":"code","5a637506":"code","26369868":"code","a5035ce4":"code","153ebd47":"code","a82c8384":"code","d952f775":"code","35479b57":"code","9dbccbaa":"code","0d2e0095":"code","61c07ac7":"code","6337db88":"markdown","47362806":"markdown","1c17f759":"markdown","e04011f1":"markdown","99e6acc4":"markdown","773aec9c":"markdown","7da4b7b1":"markdown","e58ae354":"markdown","5e5e0be0":"markdown","9bd42097":"markdown","e67fb2a4":"markdown","d085d38d":"markdown"},"source":{"ea1369b1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom collections import Counter\n%matplotlib inline\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\n\n# Any results you write to the current directory are saved as output.\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","90c689a7":"median_house_hold_in_come = pd.read_csv('..\/input\/fatal-police-shootings-in-the-us\/MedianHouseholdIncome2015.csv', encoding=\"windows-1252\")\npercentage_people_below_poverty_level = pd.read_csv('..\/input\/fatal-police-shootings-in-the-us\/PercentagePeopleBelowPovertyLevel.csv', encoding=\"windows-1252\")\npercent_over_25_completed_highSchool = pd.read_csv('..\/input\/fatal-police-shootings-in-the-us\/PercentOver25CompletedHighSchool.csv', encoding=\"windows-1252\")\nshare_race_city = pd.read_csv('..\/input\/fatal-police-shootings-in-the-us\/ShareRaceByCity.csv', encoding=\"windows-1252\")\nkill = pd.read_csv('..\/input\/fatal-police-shootings-in-the-us\/PoliceKillingsUS.csv', encoding=\"windows-1252\")","dced4904":"percentage_people_below_poverty_level.head()\n#5 tane de\u011feri inceleyelim.","d022aea9":"percentage_people_below_poverty_level.info()\n#datay\u0131 inceleme i\u00e7in kullanal\u0131m.","7e2e6379":"percentage_people_below_poverty_level.poverty_rate.value_counts()\n#anlams\u0131z bir\u015feyleri kontroletmek i\u00e7in bunu kullan\u0131l\u0131m.","cdee0869":"percentage_people_below_poverty_level['Geographic Area'].unique()\n#farkl\u0131 eyaletleri bul.","a800dbd1":"#Toplam eyalet says\u0131n\u0131 bulal\u0131m.\nlen(percentage_people_below_poverty_level['Geographic Area'].unique())","3b20f804":"#Her bir eyaletin fakirlik oran\u0131\npercentage_people_below_poverty_level.poverty_rate.replace(['-'],0.0, inplace=True)\n#\"-\" de\u011ferini \"0\" de\u011ferine e\u015fitledik.\npercentage_people_below_poverty_level.poverty_rate=percentage_people_below_poverty_level.poverty_rate.astype(float)\n#object de\u011ferini say\u0131sal bir de\u011fere \u00e7evirdik.\narea_list=list(percentage_people_below_poverty_level['Geographic Area'].unique())\n#farkl\u0131 eyaletlerin listesini olu\u015fturuyoruz.\narea_poverty_ratio=[]\n#s\u0131ralama yapmak i\u00e7in bu listeyi a\u00e7t\u0131k.\nfor i in area_list:\n    x=percentage_people_below_poverty_level[percentage_people_below_poverty_level[\"Geographic Area\"]==i]\n    area_poverty_rate=sum(x.poverty_rate)\/len(x)\n    area_poverty_ratio.append(area_poverty_rate)\ndata=pd.DataFrame({'area_list':area_list,'area_poverty_ratio':area_poverty_ratio})\nnew_index=(data['area_poverty_ratio'].sort_values(ascending=False)).index.values\nsorted_data=data.reindex(new_index)\n\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data['area_list'],y=sorted_data[\"area_poverty_ratio\"])\nplt.xticks(rotation=90)\nplt.xlabel('States')\nplt.ylabel('Poverty Rate')\nplt.title(\" Poverty Rate Given States\")","5ba65e67":"percentage_people_below_poverty_level.poverty_rate.value_counts()\n#de\u011feri olmayanlar\u0131 0 e\u015fitledik.De\u011feri olan kalm\u0131\u015fm\u0131 diye tekrardan kontrol ettik.","2e5c8fce":"kill.head()","7215ab17":"kill.name.value_counts()\n#burda 49 tane ismi yaz\u0131lmam\u0131\u015f tk tk var","76e3629e":"#name_count\n#hangi ismin ne kadar kullan\u0131lm\u0131\u015f onu inceledik.\n#a\n#b\n#a+b\nc=Counter(kill.name).most_common(5)\nc\n#deneme en \u00e7ok kullan\u0131lan 5 isim ve soy isim","d4708c98":"#\u00d6ld\u00fcr\u00fclen isimlerin ve soy isimlerin en \u00e7ok kullan\u0131lanlar\u0131 15 tanesini bulaca\u011f\u0131z.\nseparate=kill.name[kill.name !='TK TK'].str.split()\n#isimleri ay\u0131r\u0131yoruz, separate listesini olu\u015fturuyoruz.\na,b=zip(*separate)\nname_list=a+b\n#alt alta liste \u015feklinde ekliyoruz.\nname_count=Counter(name_list)\n#hangi isim ne kadar kullan\u0131lm\u0131\u015f ona bak\u0131yoruz.\nmost_common_names=name_count.most_common(15)\n#most_common ile en \u00e7ok kullan\u0131lanlar\u0131 buluyoruz.(parantez i\u00e7i de\u011fer kadar\u0131n\u0131)\nx,y=zip(*most_common_names)\nx,y=list(x),list(y)\nplt.figure(figsize=(15,10))\nax=sns.barplot(x=x,y=y,palette=sns.cubehelix_palette(len(x)))\n#burda yeni olan palette verdi\u011fim de\u011fer kadar birbirine yak\u0131n yo\u011funlu\u011fa g\u00f6re renk veriyor.\nplt.xlabel('Name or Surname of killed people')\nplt.ylabel('Frequency')\nplt.title('Most Common 15 Name or Surname of Killed people')\n","d7095c45":"percent_over_25_completed_highSchool.head()","5cba539a":"percent_over_25_completed_highSchool.percent_completed_hs.value_counts()\n#tan\u0131ms\u0131z - 197 tane de\u011fer bulduk.","e191a757":"percent_over_25_completed_highSchool.info()","b7b81e43":"#Eyaletlerdeki 25 ya\u015f\u0131ndan b\u00fcy\u00fcklerin lise mezunu olma oranlar\u0131\npercent_over_25_completed_highSchool.percent_completed_hs.replace(['-'],0.0,inplace=True)\npercent_over_25_completed_highSchool.percent_completed_hs=percent_over_25_completed_highSchool.percent_completed_hs.astype(float)\narea_list=list(percent_over_25_completed_highSchool['Geographic Area'].unique())\narea_highschool=[]\n\nfor i in area_list:\n    x=percent_over_25_completed_highSchool[percent_over_25_completed_highSchool[\"Geographic Area\"]==i]\n    area_highschool_rate=sum(x.percent_completed_hs)\/len(x)\n    area_highschool.append(area_highschool_rate)\n\ndata=pd.DataFrame({'area_list':area_list,'area_highschool_ratio':area_highschool})\nnew_index=(data['area_highschool_ratio'].sort_values(ascending=True)).index.values\nsorted_data2=data.reindex(new_index)\n\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data2['area_list'],y=sorted_data2['area_highschool_ratio'])\nplt.xticks(rotation=90)\nplt.xlabel('States')\nplt.ylabel('High School Graduate Rate')\nplt.title(\"Percentage of Given State's Population Above 25 that Has Graduated High School\")","e31ee3d1":"#Eyaletlerdeki \u0131rklar\u0131 grafikle\u015ftirme\nshare_race_city.head()","d07c113d":"share_race_city.info()","4b4a5826":"#hepsi object float \u00e7evirmem laz\u0131m kullanabilmek i\u00e7in\nshare_race_city.replace(['-'],0.0,inplace=True)\nshare_race_city.replace(['(X)'],0.0, inplace=True)\nshare_race_city.loc[:,['share_white','share_black','share_native_american','share_asian','share_hispanic']]=share_race_city.loc[:,['share_white','share_black','share_native_american','share_asian','share_hispanic']].astype(float)\narea_list=list(share_race_city['Geographic area'].unique())\nshare_white=[]\nshare_black=[]\nshare_native_american=[]\nshare_asian=[]\nshare_hispanic=[]\n\nfor i in area_list:\n    x=share_race_city[share_race_city['Geographic area']==i]\n    share_white.append(sum(x.share_white)\/len(x))\n    share_black.append(sum(x.share_black)\/len(x))\n    share_native_american.append(sum(x.share_native_american)\/len(x))\n    share_asian.append(sum(x.share_asian)\/len(x))\n    share_hispanic.append(sum(x.share_hispanic)\/len(x))\n    \n    \nf,ax=plt.subplots(figsize=(9,15))\nsns.barplot(x=share_white,y=area_list,color='green',alpha=0.6,label='White')\nsns.barplot(x=share_black,y=area_list,color='blue',alpha=0.6,label='African American')\nsns.barplot(x=share_native_american,y=area_list,color='orange',alpha=0.6,label='Native American')\nsns.barplot(x=share_native_american,y=area_list,color='yellow',alpha=0.6,label='Asian')\nsns.barplot(x=share_hispanic,y=area_list,color='red',alpha=0.6,label='Hispanic')\n\nax.legend(loc='lower right',frameon=True)\nax.set(xlabel='Percentage of Races',ylabel='States',title=\"Percentage of State's Population According to Races\")\n","d0f36b47":"sorted_data.head()","4d5b24ba":"sorted_data2.head()","f70ea9df":"#Eyaletlerdeki liseden mezun olma oran\u0131 ile fakirlik oran\u0131n\u0131 kar\u015f\u0131la\u015ft\u0131rma\nsorted_data['area_poverty_ratio']=sorted_data['area_poverty_ratio']\/max(sorted_data['area_poverty_ratio'])\nsorted_data2['area_highschool_ratio']=sorted_data2['area_highschool_ratio']\/max(sorted_data2['area_highschool_ratio'])\ndata=pd.concat([sorted_data,sorted_data2['area_highschool_ratio']],axis=1)\ndata.sort_values('area_poverty_ratio',inplace=True)\n\n#Visualize\n\nf,ax1=plt.subplots(figsize=(20,10))\nsns.pointplot(x='area_list',y='area_poverty_ratio',data=data,color='lime',alpha=0.8)\nsns.pointplot(x='area_list',y='area_highschool_ratio',data=data,color='red',alpha=0.8)\nplt.text(40,0.6,'high school graduate ratio',color='red',fontsize=17, style='italic')\nplt.text(40,0.55,'poverty ratio',color='lime',fontsize=17, style='italic')\nplt.xlabel('States',fontsize=16,color='blue')\nplt.ylabel('Values',fontsize=16,color='blue')\nplt.title('High School Graduete vs Poverty Rate',fontsize=20,color='Brown')\nplt.grid()\n","b33dfc87":"data.head()","ea9314ed":"#EYALETLER ARASINDAK\u0130 MEZUN OLMA VE FAK\u0130RL\u0130K ORANINI KAR\u015eILA\u015eTIRMA Y\u0130NE YUKARDAK\u0130 POINT PLOTLA AYNISI\ng=sns.jointplot(data.area_poverty_ratio,data.area_highschool_ratio,kind=\"kde\",size=7)\nplt.savefig('graph.png')\nplt.show()\n","82859963":"g=sns.jointplot(x='area_poverty_ratio',y='area_highschool_ratio',data=data,size=5,ratio=3,color='red')","79d539ac":"#kill.head()\n#kill.race.head()\nkill.race.value_counts()","f5499770":"#\u00d6ld\u00fcr\u00fclen insanlar\u0131n \u0131rklar\u0131n oran\u0131\nkill.race.dropna(inplace=True)\n#tan\u0131ms\u0131z olanlar\u0131 \u00e7\u0131kar\nlabels=kill.race.value_counts().index\ncolors=['grey','blue','red','yellow','lime','black']\nexplode=[0,0,0,0,0,0]\nsizes=kill.race.value_counts().values\n\n#visual\nplt.figure(figsize=(8,8))\nplt.pie(sizes,explode=explode,labels=labels,colors=colors,autopct='%1.2f%%')\n#autopct virg\u00fclden sonra ka\u00e7tane g\u00f6stermek i\u00e7in kullan\u0131l\u0131yor.\nplt.title('Killed People According to Races',color='blue',fontsize=15)","5b149e5f":"#FAK\u0130RL\u0130K ORANI VE L\u0130SEDEN MEZUN ORANINI LM \u0130LE KAR\u015eILA\u015eTIRACA\u011eIZ\nsns.lmplot(x='area_poverty_ratio',y='area_highschool_ratio',data=data)\nplt.show()","c0313f4a":"data.head()","6a314fbe":"sns.kdeplot(data.area_poverty_ratio,data.area_highschool_ratio,shade=True,cut=5)\nplt.show()","2f0f1d44":"pal=sns.cubehelix_palette(2, rot=-.5, dark=.3)\nsns.violinplot(data=data,palette=pal, inner=\"points\")\nplt.show()","892f202c":"data.corr()\n#1 \u00e7\u0131ksayd\u0131 do\u011fru orant\u0131 derdik.\n#correlation g\u00f6rsele\u015ftirme arac\u0131","1ff5de4b":"f,ax=plt.subplots(figsize=(5,5))\nsns.heatmap(data.corr(),annot=True,linewidth=.5,linecolor='r',fmt='.2f',ax=ax)\n#annot i\u00e7indeki say\u0131lar \u00e7\u0131ks\u0131n diye \n\nplt.show()","3ae6ae9b":"kill.head()","8c2ec76d":"kill.gender.unique()","14e2cd43":"#\u00d6L\u00dcM \u015eEKL\u0130NE G\u00d6RE SININFLANDIRMA YAPACA\u011eIZ (Ate\u015f edilerek,Ate\u015f edilerek ve \u015eok tabancas\u0131 ile)\n#Cinsiyetinide g\u00f6rmek istiyoruz.\n#Ya\u015f\u0131n\u0131da g\u00f6rmek istiyorum\nsns.boxplot(x='gender',y='age',hue='manner_of_death',data=kill,palette=\"PRGn\")\nplt.show()\n#hue klaslar\u0131na ay\u0131r demek\n","fe560daf":"#barplotla ayn\u0131 konuyu ele alaca\u011f\u0131z.\nsns.swarmplot(x='gender',y='age',hue='manner_of_death',data=kill)\nplt.show()","b1853478":"sns.pairplot(data)\nplt.show()","5a637506":"#kill.head()\nkill.manner_of_death.value_counts()","26369868":"sns.countplot(kill.gender)\nplt.title('Manner \u0131f death',color='r',fontsize=15)","a5035ce4":"armed=kill.armed.value_counts()\nplt.figure(figsize=(10,7))\nsns.barplot(x=armed[:7].index,y=armed[:7].values)\nplt.ylabel('Number of Weapon')\nplt.xlabel('Weapon Types')\nplt.title('Kill weapon',color='blue',fontsize=15)","153ebd47":"above25=['above25'if i >=25 else 'below25' for i in kill.age]\ndf=pd.DataFrame({'age':above25})\nsns.countplot(x=df.age)\nplt.ylabel('Number of Killed People')\nplt.xlabel('Age of Killed People',color='Blue',Fontsize=15)","a82c8384":"sns.countplot(data=kill,x='race')\nplt.title('Race of killed people',color='blue',fontsize=15)\nplt.show()","d952f775":"city","35479b57":"city=kill.city.value_counts()\nplt.figure(figsize=(15,15))\nsns.barplot(x=city[:15].index,y=city[:15].values)\nplt.xticks(rotation=90)\nplt.title('Most dangerous cities',color = 'blue',fontsize=15)\nplt.show()","9dbccbaa":"sns.countplot(kill.flee)\nplt.xlabel('Flee Types')\nplt.title('Flee types',color = 'blue', fontsize = 15)\nplt.show()","0d2e0095":"kill.head()","61c07ac7":"sns.countplot(kill.signs_of_mental_illness)\nplt.xlabel('Having Body Cameras')\nplt.title('Having body cameras or not on Police',color = 'red',fontsize = 15)\nplt.show()","6337db88":"BAR PLOT","47362806":"SWARM PLOT","1c17f759":"P\u0130E CHART","e04011f1":"COUNT PLOT","99e6acc4":"LM PLOT","773aec9c":"BOX PLOT\n","7da4b7b1":"KDE PLOT\n","e58ae354":"JOINT PLOT","5e5e0be0":"POINT PLOT","9bd42097":"HEAT MAP (CORRELAT\u0130ON MAP)","e67fb2a4":"PA\u0130R PLOT","d085d38d":"V\u0130OL\u0130N PLOT\n"}}