{"cell_type":{"7abc0bfa":"code","d7026cb5":"code","34d4d943":"code","d499853d":"code","716f531b":"code","59f63bbd":"code","42bd2897":"code","62dfc77d":"code","2a874974":"code","51192dc9":"code","9e6f3075":"code","61570dd5":"code","6d7719f3":"code","3e4ac525":"markdown","2d09e6fd":"markdown","913ff3be":"markdown","11b1b380":"markdown","fda61cf7":"markdown","80c7de6f":"markdown","6a926a5b":"markdown","2e4d51ac":"markdown","1e6180dc":"markdown","32c860ce":"markdown","115bfc2c":"markdown","494b153a":"markdown","488d5730":"markdown","518613c0":"markdown","b8c40fca":"markdown"},"source":{"7abc0bfa":"# import library and load data\nimport pandas as pd\ndf = pd.read_json(\"..\/input\/sample-filejson\/sample_file.json\", orient = 'records', lines = True)\nprint(\"\\nNumber of tweets in your data collection:\")\nprint(len(df))","d7026cb5":"# This cell will check the retweeted_status column of your tweets. If that column is empty, the tweet is an original tweet. \n#If that column is not empty, it means the tweet is a retweet, and we can make a new row based on what's contained in that column.\nfor index, row in df.iterrows(): #looping over all rows\n  if pd.notnull(row['retweeted_status']): #checking if retweeted_status is empty or not\n    tweet_id = row['retweeted_status']['id_str']\n    if tweet_id in df['id_str'].values: # if the id is already in our dataframe we increment the retweet_count. \n      i = df[df['id_str']== tweet_id].index.values[0]\n      df.at[i,'retweet_count'] = df.at[i,'retweet_count'] + 1 \n    else: # otherwise we create a new row\n      df = df.append(row['retweeted_status'], ignore_index=True)\nprint(\"\\nNumber of tweets in your data collection now:\")\nprint(len(df))","34d4d943":"# This cell will chronologically sort the tweets \nfor index, row in df.iterrows():\n  tweet_created_at  = pd.to_datetime(row[\"created_at\"]) # we need to convert the created_at string to a date time object to facilitate sorting\n  df.at[index,'created_at'] = tweet_created_at\ndf = df.sort_values(by=['created_at'])","d499853d":"# This cell will create some new columns in your data frame and fill them with information about the user. Feel free to add more columns! \n# Docs on the user object: https:\/\/developer.twitter.com\/en\/docs\/twitter-api\/v1\/data-dictionary\/object-model\/user\n\nuser_data = dict({'user_id':[], 'user_name':[], 'user_description':[], 'user_follower_count':[], 'user_created_at':[], 'user_verified':[]})\nfor index, row in df.iterrows():\n  user_data['user_id'].append(row['user']['id_str'])\n  user_data['user_name'].append(row['user']['screen_name'])\n  user_data['user_description'].append(row['user']['description'])\n  user_data['user_follower_count'].append(row['user']['followers_count'])\n  user_data['user_created_at'].append(row['user']['created_at'])\n  user_data['user_verified'].append(row['user']['verified'])\n\ndf.insert(4, \"user_id\", user_data['user_id'], True)\ndf.insert(5, \"user_name\", user_data['user_name'], True)\ndf.insert(6, \"user_description\", user_data['user_description'], True)\ndf.insert(7, \"user_follower_count\", user_data['user_follower_count'], True)\ndf.insert(8, \"user_created_at\", user_data['user_created_at'], True)\ndf.insert(9, \"user_verified\", user_data['user_verified'], True)","716f531b":"# This cell outputs two csvs. The one we've been modifying all along, and a subset of a few key columns.\ndf.to_csv('tweets.csv', encoding='utf-8-sig')\ndf[[\"id_str\", \"created_at\", \"user_name\", \"user_follower_count\", \"retweet_count\" ,\"text\"]].to_csv('tweets_simple.csv', encoding='utf-8-sig')","59f63bbd":"#read csv\ndf=pd.read_csv('..\/input\/tweetscsv\/tweets.csv')\ndf.head()","42bd2897":"# Statistics of Retweets and Original Tweets\nRetweet_counts = df.text.str.contains(\"RT\").sum()\nprint(Retweet_counts )\n# There are 5533 retweets in total and 2467 original tweets.","62dfc77d":"# The most retweet\nprint(df.iloc[df['retweet_count'].idxmax()]['text'])\nprint(df.iloc[df['retweet_count'].idxmax()]['created_at'])\nprint(df['retweet_count'].value_counts(ascending=True))","2a874974":"print(df.iloc[df['favorite_count'].idxmax()]['text'])\nprint(df.iloc[df['favorite_count'].idxmax()]['created_at'])\nprint(df['favorite_count'].value_counts(ascending=True))","51192dc9":"# top 25 hashtags\nimport re\ndf = pd.read_csv('tweets.csv')\nprint(df.head)\nhashtags_dict = {}\npattern = re.compile(r'#[a-zA-Z0-9]{1,20}')\nfor row in df.itertuples():\n    text = row[5]\n    hashtags = pattern.findall(text)\n    # print(hashtags)\n    # count hasttags\uff0cif already have,  + 1\n    if len(hashtags) > 0:\n        for ht in hashtags:\n            if ht not in hashtags_dict.keys():\n                hashtags_dict[ht] = 0\n            else:\n                hashtags_dict[ht] += 1\nsorted_dict = sorted(hashtags_dict.items(),key=lambda item:item[1], reverse=True)\nprint(sorted_dict)\ntop_25_hashtags = [i[0] for i in sorted_dict][0:25]","9e6f3075":"# Top10 users with the most followers \ndf=df.sort_values('user_follower_count',ascending= False)\n# delete duplicate users \ndf2=df.drop_duplicates('user_name', keep='first')\ndf2['user_name'].head(10)","61570dd5":"# How does the number of tweets related to Amber Alert changed over time since I started to collect data? \nimport numpy as np\nimport matplotlib.pyplot as plt\ndf = pd.read_csv(\"..\/input\/tweetscsv\/tweets.csv\")\ndf['day']=pd.to_datetime(df['created_at']).dt.round('D')\nrecent=df[df['day']>='2021-09-14 00:00:00']\nplt.figure(figsize=(20,8))\nplt.title('Number of Tweets relating to Amber Alert over time')\nplt.plot(recent['day'].value_counts().sort_index())","6d7719f3":"# Check the high-frequency words mentioned in the tweet\n# Words with high-frequency show a tendence of request and dissemination\nimport wordcloud\nimport matplotlib.pyplot as plt\nimport jieba\nfrom PIL import Image\ns1=[]\n#Extract important keywords from files\nfor i in df['text']:\n    s1.append(i)\ns1=[''.join(jieba.cut(sentence)) for sentence in s1]\nword_list='     '.join((s1))\ntype(s1)\ntype(word_list)\nwordcloud=wordcloud.WordCloud(background_color='black').generate(word_list)\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.show()","3e4ac525":"The top 25 hashtags are shown as above in the second line in the result.\n'#AMBERAlert', as my first choice for label, ranks 1st and was quoted 1239 times.Besides, some hashtags related to MABER ALert, such as \"#MissingChild\", \"#MissingPerson\" also keep lead in top 25 hastags.\nAlso, some hashtags contain names, for example, \"#NoahClare\", \"BlaiseBarnett\" show higher occurance is because when posting help-seeking tweets, help-seekers or volunteers may name hashtags only after the missing kids to help other Twitter users mainly focus on this information especially rather than distract by other tweets in main page of Twitter. It was clear that many used hashtags marking as location(i.e:'#Atalanta',330;'#Colorado',58;'#Indiana',154...) also come out in front, which means by adding the specific geographical position may help attract the attention of people in the region, also increase the role of precision delivery.\nIn general, according to the statistics of top 25 hashtags, twitter users who want to deliver AMBER Alert and help-seeking information are more likely to use explicit hashtag, '#AMBERAlert', and many of them prefer combining with location hashtags and '#MissingChild', which greatly help this user group gather more concerned followers.","2d09e6fd":"One of the most retweet is shown as below, and got retweets.\n\"How They expect you to React When You get an Amber Alert\"\nCreated at: 2019-10-02 20:14:33\nThis tweet was a video to show how people expect police to response in a rapid speed when facing an AMBER Alert.","913ff3be":"**Retweet network Graph**\\\n(draw by Gephi)","11b1b380":"**Data Clean**","fda61cf7":"There are 5533 retweets and 2467 original tweets.","80c7de6f":"Top 10 users with the most followers are as above.\nAfter checking accounts description in Twitter, all of them are official accounts and they almost all have more than thousands of fans, they all have a great influence on Twitter\uff0cthey work as journalists or media, who are keen to pay attention to social news. Forexample, ajc, named as @Atlanta jORNAL-constitution, is an official account and describe itself as \"Our journalists can keep you informed with real, fact-based news because of subscribers.\", @Thesun, describe it as \"Never miss a story again. News, sport and entertainment, as it happens.\"","6a926a5b":"The graph shows the change of number of tweets related to AMBER Alert over time. and once I had problems in transfer date format into datetime but finishedthe graph in the end.\nThe number of tweets in the figure has obvious peaks and bottoms\uff0cI think it's related to my collection time period and the stream api.One segment in the middle is 0 because I stopped collecting at that period. Therefore, I think that when I collect data with stream API, the availability of the final time series diagram is not reasonable, it can't display the trend of users sending documents. nor can it be judged how AMBER Alert related tweets changed on social media from a long period of time (such as the last five years). AMBER Alert is not an unexpected hot events\uff0c So I'm not sure what I can do to study its change over a short period of time","2e4d51ac":"**Data Visualization**","1e6180dc":"**Graph Observation**\n* What's the biggest nodes?\\\nMy graph can be divided into 4 parts:AMBERAlert and MissingKids cluster(communities in green),BerniceKing cluster, Nerdy_Addcit and CBI_Colorado.\n\"AMBERAlert\" and \"Missing kids\", which are official account with more than 100k followers, ranked as first biggest nodes, they spare every effort to share information of AMBER Alerts. As for CBI_Colorado, it's also an official accounts that often report local news in Colorado. @BerniceKing possesses a prominent node, @BerniceKing is a personal account with 760.4K followers, she works as a children community builder, cares about social change and keeps posting and retweeting tweet concerned about finding kids and updates of AMBERAlert, and got lots of retweets from users. @Nerdy_Addcit has the similar status with @BerniceKing on Twitter, and I noticed that @Nerdy has a concrete link with @TBinvestigation. I also checked randomly the account status of smaller nodes around these 2 clusters, most of them are ordinary unverified users.\n* what does the isolated nodes mean?\\\nNodes in grey haven't edges, they are isolated, which means social network relations didn't occurs among them, and they are less concerned about the information of AMBERAlert topic, or the tweets they posted didn't arouse wide attention of twitter users, thus I infer they might be some personal feelings.Take the user account\n* What's the difference between the first 2 biggest communities?\\\nBy checking the original csv and full texts of these 2 clusters, as for @Nerdy_Addict, the most retweet of his tweet was showing external concerning for child abduction event--\"Instead of issuing an Amber alert, they diminished the families' efforts and belittled them for calling tips into t\u2026 https:\/\/t.co\/HcGrSJNW3Z.\", the content calls for extra care for families that didn't meet the reqiurement to trigger AMBER Alert and reflect the deficiency of AMBER Alert system. The original got 96 retweets in total. Besides, his tweet:\"LE has informed family that Jake Clare is likely in California, not Mexico or Arizona. @abc7\" ranks the 2nd to have most retweets, he also @ an offcial account to report the correction of wrong information delivery.\nAs for AMBERAlert cluster, most of them are common users and pivot 2 official users and retweeted many tweets about the help-seeking information and updates of AMBER Alert. They formed a community to disseminate messages from a top to down way.","32c860ce":"Word cloud graph is to visualize valuable information and if a word appears with higher frequency, it has bigger font size in the graph.\nFrom the above figure, words that appear most in Twitter users' tweets are: *'https','Amber Alert','Alert Issued', 'current information', 'last seen', *...\nAs for 'http', in some cases they are links direct to original tweet(the original tweet has the highest retweet volume)userss tend to empathize with kid-seeking speaker's situation and they will add key words like 'please RT', 'RT', 'share', also sometimes they are external links provided by official accounts to direct people who concerned about the crime case and see more detailed information of vitims in other websites. Besides, word \"Amber Alert\"is the central topic of my project and was used with highest frequency, tweets with help-seeking information of detailed dscription of victim, and updates often occur under this topic, so that's why \"current information\",\"last seen\", and some names of kids appear in the graph.\nHowever, one disadvantage I have to mention is that complaints occurs frequently among twitter users but their tweets seldom contain words with obvious negative emotions(i.e, hate,fucking ...),so it's hard to catch those negative comments in word cloud graph, they are drown out by these overwhelmingly high volume of kid-seeking retweets, but it's also a good phenomenon that reveals most of users indeed believe in the amber alert effect in social media.\n\n","115bfc2c":"![1117network graph.png](attachment:0c4a4965-13e7-454f-bd85-adc220b8dba4.png)","494b153a":"**Conclusion**\\\nDuring this project, from a technical perspective, I witnessed a complete progress of data science analysis, from data collection, data clean, data analysis, data visualization to reach conclusion, the result of each step affects the beginning of the next step. From a human-centered perspective, I learned when conducting research, you may also focus on the people and their motivations behind the data, for example, it\u2019s meaningful to learn what\u2019s the identification and their user description when studying who retweets from help-seeking information, who cares more about this topic. Besides, no system is perfect at all, not only did I find the merits of AMBER Alert that it indeed save many people\u2019s life, but I also should concern the demerits need to be optimized, some social noise(voice of anger and opposition), misinformation, so as for my future work, I hope to set about checking some unique users who express negative attitude to AMBER Alert and whether do they bring about any feasible measures, I also incline to explore more AMBER Alert reformation from the side of government and wait for observing how to make good use of social media to posting alerts messages.\nOverall, tweets related to AMBER Alert play a significant role in information delivery and save many children\u2019s lives, and some occasionally occur misinformation errors can be ignored or modified by future efforts of official institutions.","488d5730":"The retweet network graph shows accounts active in Twitter conversations about the topic \"AMBER Alert\". The bigger the nodes are represents the more they were retweeted by other users. Apparently some communities with closed contact appears among them.","518613c0":"One of the most favorite tweet is the same with the most retweet tweet.\n\"How They expect you to React When You get an Amber Alert\"\nCreated at: 2019-10-02 20:14:33","b8c40fca":"**Project Overview**\nChild abduction is every parent\u2019s nightmare, when a kidnapping occurs, it captures the nation\u2019s attention, and devastates the family of the victim. In this case, AMBERAlert was set up to distributed urgent information and warn via commercial and public channels. Up till now, AMBERAlert has saved and helped many lives.\nInterestingly, twitter has many digital trace of human's behavioral data to show two diametrically opposed attitudes: some users may retweet or post tweets including information about finding missing kids, and some users post complaints of alert and attract many likes from those who are fully agree.\nHence from a human-centered data science perspective, I would like to explore whether it is a useful tool to promote or just an annoying alarm, actually had li"}}