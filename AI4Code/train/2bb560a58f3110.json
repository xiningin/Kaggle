{"cell_type":{"96b91fb7":"code","52f0cde3":"code","c600d9b5":"code","1f9cd666":"code","87f75fcb":"code","be5e7952":"markdown","4315a899":"markdown","7069d24e":"markdown"},"source":{"96b91fb7":"# install RAPIDS\nimport sys\n!cp ..\/input\/rapids\/rapids.0.15.0 \/opt\/conda\/envs\/rapids.tar.gz\n!cd \/opt\/conda\/envs\/ && tar -xzvf rapids.tar.gz > \/dev\/null\nsys.path = [\"\/opt\/conda\/envs\/rapids\/lib\/python3.7\/site-packages\"] + sys.path\nsys.path = [\"\/opt\/conda\/envs\/rapids\/lib\/python3.7\"] + sys.path\nsys.path = [\"\/opt\/conda\/envs\/rapids\/lib\"] + sys.path \n!cp \/opt\/conda\/envs\/rapids\/lib\/libxgboost.so \/opt\/conda\/lib\/","52f0cde3":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom cuml import UMAP","c600d9b5":"train_features = pd.read_csv('..\/input\/lish-moa\/train_features.csv')\ntrain_targets = pd.read_csv('..\/input\/lish-moa\/train_targets_scored.csv')\ntrain_targets_ns = pd.read_csv('..\/input\/lish-moa\/train_targets_nonscored.csv')\ntest_features = pd.read_csv('..\/input\/lish-moa\/test_features.csv')\nsample_submission = pd.read_csv('..\/input\/lish-moa\/sample_submission.csv')","1f9cd666":"all_features = pd.concat([train_features, test_features])\ngene_features = all_features[[c for c in all_features.columns if 'g-' in c]].values\ncell_features = all_features[[c for c in all_features.columns if 'c-' in c]].values\n\numap = UMAP()\ngene_features_umap = umap.fit_transform(gene_features)\ncell_features_umap = umap.fit_transform(cell_features)\nall_features_umap = umap.fit_transform(np.hstack([gene_features, cell_features]))","87f75fcb":"x, y = cell_features_umap.T\nfig, ax = plt.subplots(1, 1, figsize=(14, 14))\nax.scatter(x, y)\nax.set_xlabel('UMAP1')\nax.set_ylabel('UMAP2')\nplt.show()","be5e7952":"![](https:\/\/i.imgur.com\/WIh6HZU.jpg)","4315a899":"# Coincidence? I think not","7069d24e":"# The Dolphin of MoA\n\nI was experimenting with UMAP and going to publish my reproduction of this figure. However, I came across this familar looking shape and had to publish as a standalone notebook \ud83d\ude06 \n\n(Note that you might not be able to reproduce this since I did not set a seed)"}}