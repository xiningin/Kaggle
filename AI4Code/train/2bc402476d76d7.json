{"cell_type":{"712db70b":"code","5bc77ab9":"code","c57f86bc":"code","f36cd0dc":"code","53edd586":"code","2f0f2284":"code","dbea4726":"code","4ae1108c":"code","35f1eb39":"code","6436e159":"code","38c24428":"code","2a9b026d":"code","562cd125":"code","8382d244":"code","52e88fdc":"code","a483f827":"code","f2dd2435":"code","b7c69ac7":"code","b0775448":"code","4c1843ad":"code","bd43b287":"code","392b61b5":"code","e2e1cb21":"code","fd759da2":"code","ff9d4a4c":"markdown","5e3e4403":"markdown"},"source":{"712db70b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","5bc77ab9":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nimport plotly.graph_objects as go\nimport pycountry\nimport plotly.express as px","c57f86bc":"df = pd.read_csv('..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv',parse_dates=['Last Update'])\ndf.rename(columns={'ObservationDate':'Date', 'Country\/Region':'Country'}, inplace=True)\ndf_confirmed = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_confirmed.csv\")\ndf_recovered = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_recovered.csv\")\ndf_deaths = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_deaths.csv\")\ndf_confirmed.rename(columns = {'Country\/Region':'Country'}, inplace=True)\ndf_recovered.rename(columns = {'Country\/Region':'Country'}, inplace=True)\ndf_deaths.rename(columns ={'Country\/Region':'Country'}, inplace=True)\n","f36cd0dc":"df_confirmed.head()","53edd586":"#Earlier Cases\ndf.head()","2f0f2284":"#Latest Cases\ndf.tail() ","dbea4726":"df2 = df.groupby(['Date','Country','Province\/State'])[['Date','Province\/State','Country','Confirmed','Deaths','Recovered']].sum().reset_index()\ndf2","4ae1108c":"#Cases in China\ndf.query('Country==\"Mainland China\"').groupby(\"Last Update\")[['Confirmed', 'Deaths', 'Recovered']].sum().reset_index()","35f1eb39":"#Cases in all Countries \ndf.groupby(\"Country\")[['Confirmed', 'Deaths', 'Recovered']].sum().reset_index()","6436e159":"df.groupby('Date').sum()","38c24428":"confirmed = df.groupby('Date').sum()['Confirmed'].reset_index()\ndeaths = df.groupby('Date').sum()['Deaths'].reset_index()\nrecovered =  df.groupby('Date').sum()['Recovered'].reset_index()","2a9b026d":"fig = go.Figure()\nfig.add_trace(go.Line(x=confirmed['Date'],\n                    y = confirmed['Confirmed'],\n                    name = 'Confirmed',\n                    marker_color = 'blue'\n                    ))\nfig.add_trace(go.Line(x = deaths['Date'],\n                    y = deaths['Deaths'],\n                    name = 'Deaths',\n                    marker_color = 'red'\n                    ))\nfig.add_trace(go.Line(x=recovered['Date'],\n                    y = recovered['Recovered'],\n                    name = 'Recovered',\n                    marker_color = 'green'\n                    ))\nfig.update_layout(\ntitle = 'Worldwide Corona Virus Cases - C - D - R',\n    xaxis_tickfont_size = 14,\n        yaxis = dict(\n        title = 'Number of Cases',\n        titlefont_size = 16,\n        tickfont_size = 14,\n        ),\n    legend = dict(\n        x = 0,\n        y = 1.0,\n        bgcolor = 'rgba(255,255,255,0)',\n        bordercolor = 'rgba(255,255,255,0)'\n    ),\n    barmode = 'group',\n    bargap = 0.15,\n    bargroupgap = 0.1\n)\nfig.show()\n\n","562cd125":"df_confirmed = df_confirmed[[\"Province\/State\",\"Lat\",\"Long\",\"Country\"]]\ndf_temp = df.copy()\ndf_temp['Country'].replace({'Mainland China': 'China'}, inplace=True)\ndf_latlong = pd.merge(df_temp, df_confirmed, on=[\"Country\", \"Province\/State\"]) ","8382d244":"fig = px.density_mapbox(df_latlong, \n                        lat=\"Lat\", \n                        lon=\"Long\", \n                        hover_name=\"Province\/State\", \n                        hover_data=[\"Confirmed\",\"Deaths\",\"Recovered\"], \n                        animation_frame=\"Date\",\n                        color_continuous_scale=\"Portland\",\n                        radius=7, \n                        zoom=0,height=700)\nfig.update_layout(title='Worldwide Corona Virus Cases Time Lapse - Confirmed, Deaths, Recovered',\n                  font=dict(family=\"Courier New, monospace\",\n                            size=18,\n                            color=\"#7f107f\")\n                 )\nfig.update_layout(mapbox_style=\"open-street-map\", mapbox_center_lon=0)\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})","52e88fdc":"confirmed = df2.groupby(['Date', 'Country']).sum()[['Confirmed']].reset_index()\ndeaths = df2.groupby(['Date', 'Country']).sum()[['Deaths']].reset_index()\nrecovered = df2.groupby(['Date', 'Country']).sum()[['Recovered']].reset_index()","a483f827":"latest_date = confirmed['Date'].max()\nlatest_date","f2dd2435":"confirmed = confirmed[(confirmed['Date']==latest_date)][['Country', 'Confirmed']]\ndeaths = deaths[(deaths['Date']==latest_date)][['Country', 'Deaths']]\nrecovered = recovered[(recovered['Date']==latest_date)][['Country', 'Recovered']]","b7c69ac7":"all_countries = confirmed['Country'].unique()\nprint(\"Number of countries\/regions with cases: \" + str(len(all_countries)))\nprint(\"Countries\/Regions with cases: \")\nfor i in all_countries:\n    print(\"    \" + str(i))","b0775448":"print(list(country.name for country in pycountry.countries))","4c1843ad":"print('UK' in list(country.name for country in pycountry.countries))\nprint('United Kingdom' in list(country.name for country in pycountry.countries))","bd43b287":"confirmed2 = confirmed.copy()\ndeaths2 = deaths.copy()\nrecovered2 = recovered.copy()\nbubble_plot_dfs = [confirmed2, deaths2, recovered2]\nfor df_ in bubble_plot_dfs:\n    df_[\"Country\"].replace({'Mainland China': 'China'}, inplace=True)\n    df_[\"Country\"].replace({'UK': 'United Kingdom'}, inplace=True)\n    df_[\"Country\"].replace({'US': 'United States'}, inplace=True)","392b61b5":"countries = {}\nfor country in pycountry.countries:\n    countries[country.name] = country.alpha_3\n    \nconfirmed2[\"iso_alpha\"] = confirmed2[\"Country\"].map(countries.get)\ndeaths2[\"iso_alpha\"] = deaths2[\"Country\"].map(countries.get)\nrecovered2[\"iso_alpha\"] = recovered2[\"Country\"].map(countries.get)","e2e1cb21":"plot_data_confirmed = confirmed2[[\"iso_alpha\",\"Confirmed\", \"Country\"]]\nplot_data_deaths = deaths2[[\"iso_alpha\",\"Deaths\"]]\nplot_data_recovered = recovered2[[\"iso_alpha\",\"Recovered\"]]\nfig = px.scatter_geo(plot_data_confirmed, locations=\"iso_alpha\", color=\"Country\",\n                     hover_name=\"iso_alpha\", size=\"Confirmed\",\n                     projection=\"natural earth\", title = 'Worldwide Confirmed Cases')\nfig.show()","fd759da2":"fig = px.scatter_geo(plot_data_deaths, locations=\"iso_alpha\", color=\"Deaths\",\n                     hover_name=\"iso_alpha\", size=\"Deaths\",\n                     projection=\"natural earth\", title=\"Worldwide Death Cases\")\nfig.show()","ff9d4a4c":"**Thanks**","5e3e4403":"COVID-19 Novel Coronavirus: EDA & Forecast Number of Cases - **Data Analysis**"}}