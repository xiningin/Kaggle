{"cell_type":{"535c1c78":"code","698ce107":"code","ff282d7b":"code","1a99c243":"code","c8f6dba3":"code","ce2e1b76":"code","d3cfaab0":"code","ad90cbe3":"code","d9e19225":"code","21f7e951":"code","9a7a50b3":"code","fb9653a6":"code","d6d52e23":"code","707c8d16":"code","7b569db1":"code","a667a38b":"code","f8213e4d":"code","4550ae10":"code","78ea1b2a":"markdown","ee48267f":"markdown","73f298c1":"markdown","54acf3e9":"markdown","97875e1b":"markdown","e0fbf91c":"markdown","94ac9928":"markdown"},"source":{"535c1c78":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","698ce107":"import matplotlib.pyplot as plt\nimport seaborn as sns","ff282d7b":"df = pd.read_csv(\"..\/input\/bri-data-hackathon-people-analytic\/train.csv\")\ndf.head()","1a99c243":"df['Best Performance'].value_counts()","c8f6dba3":"plt.figure(figsize=(15, 8))\nsns.heatmap(~df.isna().T, cbar=False, cmap=\"Blues\");","ce2e1b76":"plt.figure(figsize=(15,10))\n\nplt.subplot(221)\nsns.distplot(df[df['Best Performance']==0]['job_duration_in_current_job_level'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['job_duration_in_current_job_level'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(222)\nsns.distplot(df[df['Best Performance']==0]['job_duration_in_current_person_level'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['job_duration_in_current_person_level'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(223)\nsns.distplot(df[df['Best Performance']==0]['job_duration_in_current_branch'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['job_duration_in_current_branch'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(224)\nsns.distplot(df[df['Best Performance']==0]['age'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['age'],color='g',label='Perform')\nplt.legend();","d3cfaab0":"plt.figure(figsize=(15,10))\n\nplt.subplot(221)\nsns.distplot(df[df['Best Performance']==0]['number_of_dependences'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['number_of_dependences'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(222)\nsns.distplot(df[df['Best Performance']==0]['number_of_dependences (male)'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['number_of_dependences (male)'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(223)\nsns.distplot(df[df['Best Performance']==0]['number_of_dependences (female)'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['number_of_dependences (female)'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(224)\nsns.distplot(df[(df['Best Performance']==0) & (df['GPA']<=4.0)]['GPA'].dropna(),color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1) & (df['GPA']<=4.0)]['GPA'].dropna(),color='g',label='Perform')\nplt.legend();","ad90cbe3":"import re\n\nlist_check = set()\nfor string in list(df.dropna()['year_graduated']):\n    if re.match(r\"0|[^0-9]\",string):\n        list_check.add(string)","d9e19225":"yg_0 = list(map(int,[i for i in list(df[(df['Best Performance']==0)]['year_graduated'].dropna()) if i not in list_check]))\nyg_0 = list(filter(lambda x: x <= 2020 and x > 1900,yg_0))\n\nyg_1 = list(map(int,[i for i in list(df[(df['Best Performance']==1)]['year_graduated'].dropna()) if i not in list_check]))\nyg_1 = list(filter(lambda x: x <= 2020 and x > 1900,yg_1))","21f7e951":"plt.figure(figsize=(15,10))\n\nplt.subplot(221)\nsns.distplot(yg_0,color='r',label='Not Perform')\nsns.distplot(yg_1,color='g',label='Perform')\nplt.xlabel('year_graduated')\nplt.legend()\n\nplt.subplot(222)\nsns.distplot(df[(df['Best Performance']==0)]['job_duration_as_permanent_worker'].dropna(),color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1)]['job_duration_as_permanent_worker'].dropna(),color='g',label='Perform')\nplt.legend()\n\nplt.subplot(223)\nsns.distplot(df[df['Best Performance']==0]['job_duration_from_training'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['job_duration_from_training'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(224)\nsns.distplot(df[df['Best Performance']==0]['branch_rotation'],color='r',label='Not Perform')\nsns.distplot(df[df['Best Performance']==1]['branch_rotation'],color='g',label='Perform')\nplt.legend();","9a7a50b3":"plt.hist(df[(df['Best Performance']==0) & (df['assign_of_otherposition']<20)]['assign_of_otherposition'],bins=30,color='r', label='Not Performed')\nplt.hist(df[(df['Best Performance']==1) & (df['assign_of_otherposition']<20)]['assign_of_otherposition'],bins=30,color='g',label='Performed')\nplt.title('assign_of_other_position')\nplt.legend();","fb9653a6":"plt.figure(figsize=(15,10))\n\n\nplt.subplot(221)\nsns.distplot(df[(df['Best Performance']==0)]['annual leave'],color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1)]['annual leave'],color='g',label='Perform')\nplt.legend()\n\nplt.subplot(222)\nsns.distplot(df[(df['Best Performance']==0)&(df['sick_leaves']<20)]['sick_leaves'],color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1)&(df['sick_leaves']<20)]['sick_leaves'],color='g',label='Perform')\nplt.legend();\n","d6d52e23":"plt.figure(figsize=(15,10))\n\n\nplt.subplot(221)\nsns.distplot(df[(df['Best Performance']==0)]['Avg_achievement_%'].dropna(),color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1)]['Avg_achievement_%'].dropna(),color='g',label='Perform')\nplt.legend()\n\nplt.subplot(222)\nsns.distplot(df[(df['Best Performance']==0)]['Last_achievement_%'].dropna(),color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1)]['Last_achievement_%'].dropna(),color='g',label='Perform')\nplt.legend()\n\nplt.subplot(223)\nsns.distplot(df[(df['Best Performance']==0)]['Achievement_above_100%_during3quartal'].dropna(),color='r',label='Not Perform')\nsns.distplot(df[(df['Best Performance']==1)]['Achievement_above_100%_during3quartal'].dropna(),color='g',label='Perform')\nplt.legend()\n","707c8d16":"cat_var = ['job_level','person_level','Employee_type','Employee_status','gender', 'marital_status_maried(Y\/N)']\n\nfig, axes = plt.subplots(2,3,figsize=(15,10))\n\nfor cat, ax in zip(cat_var,axes.flatten()):\n    sns.countplot(cat, data=df, hue='Best Performance', ax=ax);","7b569db1":"sns.countplot('Education_level', data=df, hue='Best Performance');","a667a38b":"cat_var = ['achievement_target_1','achievement_target_2','achievement_target_3']\n\nfig, axes = plt.subplots(3,1,figsize=(25,20))\n\nfor cat, ax in zip(cat_var,axes.flatten()):\n    sns.countplot(cat, data=df, hue='Best Performance', ax=ax);","f8213e4d":"num_col = ['job_duration_in_current_job_level', 'job_duration_in_current_person_level',\n                                   'job_duration_in_current_branch', 'age', 'number_of_dependences', 'number_of_dependences (male)',\n                                   'number_of_dependences (female)', 'GPA', 'year_graduated', 'job_duration_as_permanent_worker',\n                                   'job_duration_from_training', 'branch_rotation', 'job_rotation', 'assign_of_otherposition',\n                                   'annual leave', 'sick_leaves', 'Avg_achievement_%', 'Last_achievement_%', 'Achievement_above_100%_during3quartal']\ntarget_col = 'Best Performance'","4550ae10":"df_corr = df.copy()\ncorr = df_corr.corr(method='pearson')\nfeature_corr = corr.drop(columns=target_col, index=target_col)\ntarget_corr = corr[[target_col]].drop(index=target_col)\nplt.figure(figsize=(15, 7))\nplt.subplot(121)\nsns.heatmap(feature_corr, cmap=\"bwr\", vmin=-1, vmax=1, square=True, annot=True, fmt=\".1f\",\n            cbar=False, linewidths=1, linecolor='k')\nplt.xticks(rotation=45, horizontalalignment='right')\nplt.title(f\"Feature correlation with Pearson Method\", fontsize=14)\nplt.axhline(y=0, color='k', linewidth=1)\nplt.axhline(y=feature_corr.shape[1], color='k', linewidth=1)\nplt.axvline(x=0, color='k', linewidth=1)\nplt.axvline(x=feature_corr.shape[0], color='k', linewidth=1)\n\nplt.subplot(122)\nsns.heatmap(target_corr, cmap=\"bwr\", vmin=-1, vmax=1, square=True, annot=True, fmt=\".1f\",\n            cbar=False, linewidths=1, linecolor='k')\nplt.xticks(rotation=45, horizontalalignment='right')\nplt.title(f\"Target correlation\", fontsize=14)\nplt.axhline(y=0, color='k', linewidth=1)\nplt.axhline(y=feature_corr.shape[1], color='k', linewidth=1)\nplt.axvline(x=0, color='k', linewidth=1)\nplt.axvline(x=feature_corr.shape[0], color='k', linewidth=1);","78ea1b2a":"## Correlation Matrix","ee48267f":"## Missing Values","73f298c1":"## Categoric\/Ordinal vs Target","54acf3e9":"## Numeric vs Target","97875e1b":"### year_graduated data wrangling for plotting","e0fbf91c":"## Target","94ac9928":"# Exploratory Data Analysis (EDA)"}}