{"cell_type":{"ea9ccce9":"code","6cd58a20":"code","3deed7ad":"code","fc1b1934":"code","70acf9a2":"code","f4a4778d":"code","8dc3e28f":"code","19cd02fb":"code","1fc2fb35":"code","15aee465":"code","99b129f4":"code","31da7c7a":"code","058960e9":"code","02510919":"code","826c2f2c":"code","87cf5823":"code","578f7441":"code","79133550":"code","f1c5be25":"code","5e4f944e":"code","a64e1549":"code","d2286543":"code","5fc54982":"code","f547132d":"code","d30ca5f6":"code","5e617737":"code","8708ba28":"code","079ff1ca":"code","e11ae823":"markdown","53098625":"markdown","82970fd6":"markdown","1828be29":"markdown","3564550e":"markdown","a4e53bff":"markdown","4e28026b":"markdown","a2d0bbe9":"markdown","789ca0d8":"markdown","25f9d191":"markdown","9d2b0d38":"markdown","af864ebf":"markdown","6e365ae6":"markdown","bcf9487c":"markdown","659d9f14":"markdown","f458e699":"markdown","df1fe094":"markdown","29a849a6":"markdown","b57fc6fb":"markdown","5731a429":"markdown","356cbc07":"markdown","2f88a4fa":"markdown","ceeff4e7":"markdown","2bca3ae7":"markdown","b18166b0":"markdown","499b5527":"markdown","f4dd13a0":"markdown","677feaec":"markdown","1f6f86e4":"markdown","4bd0cbbb":"markdown","0d0f10f3":"markdown","812396f2":"markdown","086cb07a":"markdown","6a72b1fd":"markdown","26dd4464":"markdown","24f96bf7":"markdown","d45dc0f1":"markdown","6c63d6cf":"markdown","4beeb757":"markdown","15f936c8":"markdown","ee5f9f96":"markdown","c1610cd1":"markdown","abf3b67a":"markdown","08c4b8d4":"markdown"},"source":{"ea9ccce9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6cd58a20":"import pandas as pd\nimport numpy as np \nfrom pandas import Series,DataFrame\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('whitegrid')\nfrom datetime import datetime\n#from __future__ import division","3deed7ad":"AAPL=pd.read_csv('..\/input\/sandp500\/individual_stocks_5yr\/individual_stocks_5yr\/AAPL_data.csv')\nGOOG=pd.read_csv('..\/input\/sandp500\/individual_stocks_5yr\/individual_stocks_5yr\/GOOG_data.csv')\nMSFT=pd.read_csv('..\/input\/sandp500\/individual_stocks_5yr\/individual_stocks_5yr\/MSFT_data.csv')\nAMZN=pd.read_csv('..\/input\/sandp500\/individual_stocks_5yr\/individual_stocks_5yr\/AMZN_data.csv')","fc1b1934":"AAPL.head()","70acf9a2":"AAPL.describe().T","f4a4778d":"AAPL.info()","8dc3e28f":"AAPL['date']=pd.to_datetime(AAPL['date'])\nGOOG['date']=pd.to_datetime(AAPL['date'])\nMSFT['date']=pd.to_datetime(AAPL['date'])\nAMZN['date']=pd.to_datetime(AAPL['date'])\n#AAPL.info()","19cd02fb":"AAPL.plot(x='date', y='close',legend=True,figsize=(10,4))\nplt.ioff()","1fc2fb35":"title='VOLUME TRADED'\nylabel='Volume'\nxlabel='Time'","15aee465":"ax=AAPL.plot(x='date', y='volume',legend=True,figsize=(10,4));\nax.autoscale(axis='x',tight=True)  # use both if want to scale both axis\nax.set(xlabel=xlabel,ylabel=ylabel)\nplt.ioff()","99b129f4":"AAPL.plot(x='date', y='close',xlim=['2016-01-01','2017-12-31'],ylim=[80,180],legend=True,figsize=(10,4),ls='--',c='red')\nplt.ioff()","31da7c7a":"AAPL['close_10']=AAPL['close'].rolling(10).mean()\nAAPL['close_50']=AAPL['close'].rolling(50).mean()\n\nax=AAPL.plot(x='date',y='close',title='AAPL Close Price',figsize=(10,4))\nAAPL.plot(x='date',y='close_10',color='red',ax=ax)\nAAPL.plot(x='date',y='close_50',color='k',ax=ax)\nplt.ioff()","058960e9":"AAPL['Daily Return']=AAPL['close'].pct_change()\nAAPL['Daily Return'].plot(figsize=(15,4),legend=True,linestyle='--',marker='o')\nplt.ioff()","02510919":"import warnings\nwarnings.filterwarnings('ignore')\nsns.set_style('darkgrid')\n\nf,ax=plt.subplots(1,2,figsize=(15,5))\nk1=sns.distplot(AAPL['Daily Return'].dropna(),bins=2000,color='purple',ax=ax[0])\nk2=sns.histplot(data=AAPL, x=\"Daily Return\",ax=ax[1])\nplt.show()","826c2f2c":"df=AAPL['date'].copy()\ndf=pd.DataFrame(df)\ndf['AAPL']=AAPL['close']\ndf['GOOG']=GOOG['close']\ndf['MSFT']=MSFT['close']\ndf['AMZN']=AMZN['close']\ndf.drop(['date'], axis = 1, inplace = True, errors = 'ignore')\n\ntech_rets=df.pct_change()\ntech_rets=pd.DataFrame(tech_rets)\ntech_rets['date']=AAPL['date']\ntech_rets.shape","87cf5823":"corrmat = tech_rets.corr()\nfig = plt.figure(figsize = (15,7))\nsns.heatmap(corrmat,vmax = 1,square = True,annot = True,vmin = -1,cmap='summer')\nplt.show()","578f7441":"fig=plt.gcf()\nfig.set_size_inches(15,7)\nfig=sns.jointplot(\"AMZN\", \"AAPL\", data=tech_rets, kind=\"reg\")","79133550":"sns.pairplot(tech_rets.dropna())\nplt.ioff()","f1c5be25":"returns_fig=sns.PairGrid(tech_rets.dropna())\nreturns_fig.map_upper(plt.scatter,color='purple')\nreturns_fig.map_lower(sns.kdeplot,cmap='cool_d')\nreturns_fig.map_diag(plt.hist,bins=30)\nplt.ioff()","5e4f944e":"returns_fig=sns.PairGrid(df.dropna())\nreturns_fig.map_upper(plt.scatter,color='purple')\nreturns_fig.map_lower(sns.kdeplot,cmap='cool_d')\nreturns_fig.map_diag(plt.hist,bins=30)\nplt.ioff()","a64e1549":"sns.heatmap(tech_rets.corr(),annot=True,cmap='summer',linewidths=1,linecolor='k',square=True,mask=False, vmin=-1, vmax=1,cbar_kws={\"orientation\": \"vertical\"},cbar=True)\nplt.ioff()","d2286543":"sns.heatmap(df.corr(),annot=True,cmap='summer',linewidths=1,linecolor='k',square=True,mask=False, vmin=-1, vmax=1,cbar_kws={\"orientation\": \"vertical\"},cbar=True)\nplt.ioff()","5fc54982":"rets=tech_rets.dropna()","f547132d":"x=rets.mean()\n#y=rets.std()\ny =[0.014593,0.012382,0.014210,0.018235]","d30ca5f6":"area=np.pi*20\n#plt.figure(figsize=(15,7))\nplt.scatter(x,y,s=area)\nplt.xlabel('Expected Return')\nplt.ylabel('Risk')\nfor label, x,y in zip(rets.columns,rets.mean(),rets.std()):\n    plt.annotate(\n        label,\n        xy=(x,y),xytext=(50,50),\n        textcoords='offset points',ha='right',va='bottom',\n        arrowprops=dict(arrowstyle='-',connectionstyle='arc,rad=-0.3'))\n","5e617737":"sns.distplot(AAPL['Daily Return'].dropna(),bins=2000,color='purple')\nplt.ioff()","8708ba28":"rets.head()","079ff1ca":"rets['AAPL'].quantile(0.05)","e11ae823":"# 3.Risk Analysis","53098625":"We can see that as the volume of stock traded is reducing as the years go by.This is because as years have gone the price of Apple stock has increased.Due to higher value of the stock the trading volume reduces.","82970fd6":"### Daily Return Heat Map","1828be29":"Closing price of Google and Microsoft are well correlated.","3564550e":"### Customized Pair Grid for Close price","a4e53bff":"Here I will be covering how to work with stock prices?We will be considering the stock prices of four tech companies Apple,Google,Microsoft and Amazon.We will be be covering various concepts like moving average,correlation,risk analysis etc.In this notebook we will be covering following topics\n\n1.Data Import and Pre Processing\n\n2.Exploratory Data Analysis\n\n3.Risk and Value Analysis\n\n4.Monte Carlo Analysis\n\n5.Stock Price Prediction\n\n6.Conclusion","4e28026b":"We can See maximum daily fluctuation in ths stock is 8 % .In stock exchange there is a limit on per day fluctuation of stock.So if the stock reaches the threshold value then the trading of the stock is stopped for that day.","a2d0bbe9":"### Plotting Stock Price Between Specified Time","789ca0d8":"### Correlation Stock Price","25f9d191":"### Average Daily Returns","9d2b0d38":"### Heat Map","af864ebf":"### Risk Based on Quantile","6e365ae6":"We have stock Price for 5 years starting from 2013 to 2018.","bcf9487c":"We will be using the Adjusted close price to do historic price analysis of the stock.","659d9f14":"### Moving Average for Apple Stock","f458e699":"### Pair Plot ","df1fe094":"### Describing the Data","29a849a6":"# 2.Exploratory Data Analysis","b57fc6fb":"### Info of Data","5731a429":"We can see that Amazon and Google have good correlation on daily returns.","356cbc07":"### Recently I published a self help book titled Inspiration: Thoughts on Spirituality, Technology, Wealth, Leadership and Motivation. The preview of the book can be read from the Amazon link https:\/\/lnkd.in\/gj7bMQA\n\n### You can refer to my other notebooks from https:\/\/www.kaggle.com\/binuthomasphilip\/code","2f88a4fa":"### Displaying Apple Stock Data","ceeff4e7":"### Daily Returns","2bca3ae7":"-0.022834076249180685 means that 95% of the times the worst daily Loss will not exceed 2.28%.","b18166b0":"### Import Python Modules","499b5527":"All companies have Positive Correlations for Closing Price.","f4dd13a0":"### Heat Maps","677feaec":"Microsoft and Amazon have highest daily price correlation.","1f6f86e4":"We have ploted the closing Price by specifying the range of dates xlim .So in less than 2 years the stock price has almost doubled.","4bd0cbbb":"### Historical Closing Price of Apple Stock","0d0f10f3":"### How Much Risk?","812396f2":"We can see that the data column values have changed to datetime64 type.","086cb07a":"So the stock fluction follows a normal distribution betweem +2% and -2%","6a72b1fd":"# TO BE CONTINUED ","26dd4464":"### Customised Pair Grid for Daily Return","24f96bf7":"### Volume traded for Apple Stock","d45dc0f1":"### Heatmap Closing Price","6c63d6cf":"### You can refer to my other notebooks from https:\/\/www.kaggle.com\/binuthomasphilip\/code","4beeb757":"### Date Time Conversion","15f936c8":"\nWe can see that pearson coefficint = 0.29.If p value is close to 1 it mease higher positive correlation.If the p values is close to -1 then it means the stock prices have a higher negative correlation.So we can conclude that Apple and Amazon stock prices have small positive correlation.\n\nWe can see the Google stock has very less correlation to other tech stocks Apple,Amazon and Microsoft.","ee5f9f96":"### Percentage Change for Stock","c1610cd1":"### Importing the Stock Prices","abf3b67a":"Stock with Low risk and high return are the best stock to buy.Microsoft stock has low risk and higher return.","08c4b8d4":"Moving average smoothens out the curve as seen in the plot."}}