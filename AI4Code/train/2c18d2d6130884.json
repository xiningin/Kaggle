{"cell_type":{"77d8b1cf":"code","8aaada08":"code","dcbc403e":"code","3f13ed9e":"code","73e32b57":"code","33f2d556":"code","e19b951c":"code","8480abb4":"code","e3f1d77a":"code","ddffebc8":"code","cc47d3c7":"code","5e823edd":"code","d7720dfd":"code","eaa94c8c":"code","a84dee93":"code","19040008":"code","79ac2708":"code","680ed176":"code","bb8931f9":"code","e288f551":"code","a287f1e2":"code","54dfeba8":"markdown","1fe858c4":"markdown","152f1cf1":"markdown","2a37f6e3":"markdown","bab17b5d":"markdown","758e1f9a":"markdown","f40c8fae":"markdown","0c9d5e67":"markdown","c8fd75e7":"markdown","fdc6a2b3":"markdown","738ff809":"markdown","a0000b63":"markdown","5a7b27ac":"markdown","ddd6780f":"markdown"},"source":{"77d8b1cf":"from wordcloud import WordCloud\nimport numpy as np\nimport matplotlib.pyplot as plt","8aaada08":"# Generating Key Words for WordCloud:\ntext = 'Texas Tech Offense Defense BIG12 Touchdowns Interception Yards Fumble Lubbock Data Analysis Elyas Pass Rush Punt Kick Kliff Bowman Duffy Wesley QB RB Tackle Return Wide Receiver RedZone FieldGoal Score GunsUp'","dcbc403e":"#mask used for the shape of wordcloud\nfrom IPython.display import Image\nImage(\"..\/input\/texastech-football-data\/t.jpeg\")","3f13ed9e":"from PIL import Image\nimg = np.array(Image.open(\"..\/input\/texastech-football-data\/t.jpeg\"))\n# Create and generate a word cloud image:\nwordcloud = WordCloud(background_color='black',mask=img,colormap=\"cool\").generate(text)\n\n# Display the generated image:\nfig = plt.figure(figsize=(15,10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","73e32b57":"import numpy as np\nimport pandas as pd\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n%matplotlib inline","33f2d556":"data = pd.read_csv('..\/input\/texastech-football-data\/2013_2018_data.csv')\n## remove white spaces in cloumns index and Vis Team coloumn\ndata.columns = data.columns.str.strip()\ndata['Vis Team'] = data['Vis Team'].str.strip()\n## ignore warnings\nimport sys\nimport warnings\n\nif not sys.warnoptions:\n    warnings.simplefilter(\"ignore\")","e19b951c":"data_record = { 'Year':[2013,2014,2015,2016,2017,2018],\n                 'Win':[8,4,7,5,6,5],\n                'Lose':[5,8,6,7,7,2]}\nrecord_fr = pd.DataFrame(data_record)\nrecord_fr['Win Percentage'] = record_fr['Win']\/(record_fr['Win'] + record_fr['Lose'])","8480abb4":"from matplotlib import style\n#style.use('ggplot')\nplt.style.use('fivethirtyeight')\nfig1 = plt.figure(figsize=(10,9))\nplt.bar(record_fr['Year'],record_fr['Win'],align='center',label='Win',color='red',width=0.5)\nplt.bar(record_fr['Year'],-record_fr['Lose'],align='center',label='Lose',color='black',width=0.5)\nplt.plot(record_fr['Year'],[6,6,6,6,6,6],label='Bowl Game Eligible',color='blue')\nplt.legend()\nplt.xlabel('Year');plt.ylabel('Number of Games');plt.title('Coach Kingsburys record')","e3f1d77a":"from matplotlib import style\n#style.use('ggplot')\nplt.style.use('fivethirtyeight')\nfig2 = plt.figure(figsize=(15,10))\nplt.plot(record_fr['Year'],record_fr['Win Percentage'],color='blue',linewidth=2,marker='o')\nplt.annotate('Bowl Game Win Vs ASU', xy=(2013, 0.62), xytext=(2013.2, 0.65), fontsize = 12,\n            arrowprops=dict(facecolor='grey', shrink=0.05, linewidth = 2))\nplt.annotate('Bowl Game Loss Vs LSU', xy=(2015, 0.54), xytext=(2015.2, 0.56), fontsize = 12,\n            arrowprops=dict(facecolor='grey', shrink=0.05, linewidth = 2))\nplt.annotate('Bowl Game Loss Vs USF', xy=(2017, 0.47), xytext=(2016, 0.5), fontsize = 12,\n            arrowprops=dict(facecolor='grey', shrink=0.05, linewidth = 2))\nplt.annotate('Only 7 Games Played', xy=(2018, 0.72), xytext=(2016.5, 0.66), fontsize = 12,\n            arrowprops=dict(facecolor='grey', shrink=0.05, linewidth = 2))\nplt.xlabel('Year');plt.ylabel('Win Percentage');plt.title('Coach Kingsbury win percentage')\nplt.legend()\nplt.show()","ddffebc8":"avg_off = np.zeros((1,6), dtype=float)\navg_def = np.zeros((1,6), dtype=float)\nYears = [[2013,2014,2015,2016,2017,2018]]\nj = -1\nYears \nplt.style.use('fivethirtyeight')\nfor year in range (2013,2018+1):\n  # print(year)\n   # print(data[data['Vis Team'] == 'Texas Tech'][data['Date']==year][data['Location']=='Away'].Score.mean())\n    j = j + 1\n    avg_off [0, j] = data[data['Vis Team'] == 'Texas Tech'][data['Date']==year].Score.mean()\n    avg_def [0, j] = data[data['Vis Team'] != 'Texas Tech'][data['Date']==year].Score.mean()\n\navg_off = np.round(avg_off ,2)\navg_def = np.round(avg_def ,2)\n\nfig5 = plt.figure(figsize=(15,10))\nplt.plot(np.transpose(Years),np.transpose(avg_off),color='r',linewidth=0.5,marker='o',label='Offense')\nplt.plot(np.transpose(Years),np.transpose(avg_def),color='b',linewidth=0.5,marker='^',label='Defense')\nplt.xlabel('Year');plt.ylabel('Points');plt.title('Offense VS Defense')\nplt.legend()\nplt.show()","cc47d3c7":"avg_score_away = np.zeros((1,6), dtype=float)\navg_score_home = np.zeros((1,6), dtype=float)\nYears = [[2013,2014,2015,2016,2017,2018]]\nj = -1\nYears \nfor year in range (2013,2018+1):\n  # print(year)\n   # print(data[data['Vis Team'] == 'Texas Tech'][data['Date']==year][data['Location']=='Away'].Score.mean())\n    j = j + 1\n    avg_score_away [0, j] = data[data['Vis Team'] == 'Texas Tech'][data['Date']==year][data['Location']=='Away'].Score.mean()\n    avg_score_home [0, j] = data[data['Vis Team'] == 'Texas Tech'][data['Date']==year][data['Location']=='Home'].Score.mean()\n\navg_score_away = np.round(avg_score_away ,2)\navg_score_home = np.round(avg_score_home ,2)\n\nfig3 = plt.figure(figsize=(15,5))\nplt.subplot(1,2,1)\nplt.plot(np.transpose(Years),np.transpose(avg_score_home),color='r',linewidth=2,marker='o',label='Home')\nplt.plot(np.transpose(Years),np.transpose(avg_score_away),color='k',linewidth=2,marker='^',label='Away')\nplt.annotate('QB:Pat Mahomes', xy=(2015, 60), xytext=(2014.5, 45), fontsize = 12,\n            arrowprops=dict(facecolor='grey', shrink=0.05, linewidth = 2))\nplt.annotate('QB:Pat Mahomes', xy=(2016, 49), xytext=(2014.5, 45), fontsize = 12,\n            arrowprops=dict(facecolor='grey', shrink=0.05, linewidth = 2))\nplt.xlabel('Year');plt.ylabel('Points');plt.title('Scoring Offense')\nplt.legend()\n#########\navg_defense_away = np.zeros((1,6), dtype=float)\navg_defense_home = np.zeros((1,6), dtype=float)\nYears = [[2013,2014,2015,2016,2017,2018]]\nj = -1\nYears \nfor year in range (2013,2018+1):\n  # print(year)\n   # print(data[data['Vis Team'] == 'Texas Tech'][data['Date']==year][data['Location']=='Away'].Score.mean())\n    j = j + 1\n    avg_defense_away [0, j] = data[data['Vis Team'] != 'Texas Tech'][data['Date']==year][data['Location']=='Away'].Score.mean()\n    avg_defense_home [0, j] = data[data['Vis Team'] != 'Texas Tech'][data['Date']==year][data['Location']=='Home'].Score.mean()\n\navg_defense_away = np.round(avg_defense_away ,2)\navg_defense_home = np.round(avg_defense_home ,2)\n\nplt.subplot(1,2,2)\nplt.plot(np.transpose(Years),np.transpose(avg_defense_home),color='r',linewidth=2,marker='o',label='Home')\nplt.plot(np.transpose(Years),np.transpose(avg_defense_away),color='k',linewidth=2,marker='^',label='Away')\nplt.xlabel('Year');plt.ylabel('Points');plt.title('Scoring Defense')\nplt.legend()\nplt.show()","5e823edd":"data1 = data[data['Vis Team']=='Texas Tech']\nimport seaborn as sns\nplt.figure(figsize=(15,10))\nplt.subplot(1,2,1)\nsns.boxplot(x=data1['Date'],y=data1['Passing Yards'],data=data1)\nsns.swarmplot(x=data1['Date'],y=data1['Passing Yards'],data=data1,color=\".25\")\nplt.xlabel('Year')\nplt.subplot(1,2,2)\nsns.boxplot(x=data1['Date'],y=data1['Rushing Yards'],data=data1)\nsns.swarmplot(x=data1['Date'],y=data1['Rushing Yards'],data=data1,color=\".25\")\nplt.xlabel('Year')\nplt.show()","d7720dfd":"data1['rpa']=data1['Rushing Yards']\/data1['Rushing Attempts']\ndata1['ppa']=data1['Passing Yards']\/data1['Passing Attempts']\ndata1['tco']=data1['3rd Down Conversions']\/data1['3rd Down Attempts']\nplt.figure(figsize=(10,10))\nplt.subplot(2,1,1)\nsns.scatterplot(x=data1['Rushing Attempts'], y=data1['Date'],size=data1['rpa'],sizes=(50, 200),hue=data1['rpa'],palette='Blues',legend='brief',data=data1)\nplt.ylabel('Year')\nplt.subplot(2,1,2)\nsns.scatterplot(x=data1['Passing Attempts'], y=data1['Date'],size=data1['ppa'],sizes=(50, 200),hue=data1['ppa'],palette='Greens',legend='brief',data=data1)\nplt.ylabel('Year')\nplt.show()","eaa94c8c":"import plotly\nimport plotly as py\nimport plotly.graph_objs as go\npy.offline.init_notebook_mode(connected=True)","a84dee93":"penalties = np.zeros((6,12))\ntdcomps = np.zeros((6,12))\nYears = [[2013,2014,2015,2016,2017,2018]]\nj = -1\nYears \nfor year in range (2013,2018+1):\n  # print(year)\n   # print(data[data['Vis Team'] == 'Texas Tech'][data['Date']==year][data['Location']=='Away'].Score.mean())\n    j = j + 1\n    #print(np.array(data1[data1['Location'] != 'Bowl'][data1['Date']==year]['tco']))\n    if year != 2018:\n        penalties [j,:] = np.array(data1[data1['Location'] != 'Bowl'][data1['Date']==year]['Penalty Yards'])\n        tdcomps [j,:] = np.array(data1[data1['Location'] != 'Bowl'][data1['Date']==year]['tco'])\n    else:\n        penalties [j,0:7] = np.array(data1[data1['Location'] != 'Bowl'][data1['Date']==year]['Penalty Yards'])\n        tdcomps [j,0:7] = np.array(data1[data1['Location'] != 'Bowl'][data1['Date']==year]['tco'])\n\npenalties = np.round(penalties ,2)\ntdcomps = 100*np.round(tdcomps ,2)\n","19040008":"penalties[penalties==0] = np.nan\ntdcomps[tdcomps==0] = np.nan\n\nlayout = go.Layout(\n    title='Penalties Heatmap',\n    xaxis = dict(title='Game'),\n    yaxis = dict(title='Year')\n)\n    \ntrace = go.Heatmap(z=penalties,\n                   x=[1,2,3,4,5,6,7,8,9,10,11,12],\n                   y=[2013,2014,2015,2016,2017,2018])\n\nfig = go.Figure(data=[trace], layout=layout)\npy.offline.iplot(fig)","79ac2708":"des = data1.describe()\npdat =des[['Rushing Yards','Rushing Attempts','rpa','Passing Yards','Passing Attempts','ppa','Penalty Yards','Score']].loc[['mean','std','min','25%','50%','75%','max']]","680ed176":"plt.style.use('ggplot')\nplt.figure(figsize=(13,6))\nsns.heatmap(pdat,annot=True,fmt=\"f\",linecolor=\"white\",linewidths=2)\nplt.title(\"Data Summary\")\nplt.show()","bb8931f9":"layout = go.Layout(\n    title='3rd down completions',\n    xaxis = dict(title='Game'),\n    yaxis = dict(title='Year')\n)\n    \ntrace = go.Surface(z=tdcomps,\n                   contours=go.surface.Contours(\n            z=go.surface.contours.Z(\n              show=True,\n              usecolormap=True,\n              highlightcolor=\"#42f462\",\n              project=dict(z=True)\n                                )\n                                                ),\n        x=[1,2,3,4,5,6,7,8,9,10,11,12],\n        y=[2013,2014,2015,2016,2017,2018])\n\nfig = go.Figure(data=[trace], layout=layout)\npy.offline.iplot(fig)","e288f551":"from IPython.display import Image\nImage(\"..\/input\/otherfigs\/excelfig.png\")","a287f1e2":"Image(\"..\/input\/otherfigs\/jmpfig.png\")","54dfeba8":"\n<font size=\"4.5\">Title: Texas Tech football team performance analysis under coach Kingsbury<\/font>","1fe858c4":"JMP figure example. TTU never lost to University of Kansas, but never won against University of Oklahoma\nunder coach Kinsbury...","152f1cf1":"TTU lost lots of yards due to penalty. ","2a37f6e3":"I like this dynamic graph, here you can rotate it and see which games TTU had good 3rd conversions.","bab17b5d":"Coach made three bowl games with TTU since cutoff or team needs to have 6 wins to qualify for bowl game. Here I used negitave numbers for the number of games coach lost. As you can see, 2014 was his worst performance year!","758e1f9a":"This figure is made from Excel. TTU offense was above BIG12 average most of the years, but their deffense was also below average (here large numbers means number of points gave up)","f40c8fae":"TTU has a good offense, at the same time they had horrible defense.","0c9d5e67":"Coach only won one bowl game which is against Arizona State University. Also note that I only had first 7 games of 2018 in my analysis, later games he lost them all (Thats why he hot fired at the end of the season).","c8fd75e7":"\n**Key data attributes: **\n* Rushing Yards\n* Rushing Attempts\n* Rushing Yards per Attempts(rpa)\n* Passing Yards\n* Passing Attempts\n* Passing Yards per Attempts(ppa)\n* Score","fdc6a2b3":"\n<font size=\"5\">Conclusions:<\/font>\n<font size=\"4\">TTU Football Team Performance under coach Kingsbury<\/font>\n* Offense was great!\n* Defense was horrible, but show improvement after 2015.\n* Penalty was a big problem.\n* Need to balance passing and running game.\n* Poor bowl game performance.\n* Best record against KU, worst against OU.\n\n\nData Source:\n\nEach teams and players stats, updates frequently!   \nhttp:\/\/sports.snoozle.net\/search\/fbs\/index.jsp\n\nBIG 12 conference game statistics \nhttp:\/\/www.big12sports.com\/ViewArticle.dbml?DB_OEM_ID=10410&ATCLID=1514232\n\nTeam VS Team Stats\nhttp:\/\/www.winsipedia.com\/","738ff809":"This graph shows how efficient TTU's passing and running game. Again more passing plays also gained more yards per play!","a0000b63":"**Introduction:**\n\n<font size=\"2\">This is a project that I did as an example of \"Story telling with data\". I used Texas Tech Football Team performance data under coach Kingsbury. Sidenote: NFL MVP Patrick Mahomes aslo played under coach Kingsbury and we can see his crazy numbers (as a team).<\/font>\n\n","5a7b27ac":"TTU offense performed better at home than away, the highest two year offense are 2015&2016 when Patrick Mahomes played was QB. Now, he is the NFL MVP!!!","ddd6780f":"TTU was heavy on passing game than rushing, Air raid offense! "}}