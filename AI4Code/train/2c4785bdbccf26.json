{"cell_type":{"74babc04":"code","a7bf3730":"code","0ca060f6":"code","4ce136b8":"code","94089123":"code","9e498940":"code","bff4ebb7":"code","07d36a2c":"code","e6686b42":"code","6807c414":"code","4ef1a617":"code","98c2300b":"markdown","2a7ffb94":"markdown","438afe45":"markdown","33f0b703":"markdown","dd00477f":"markdown","6f803038":"markdown","b4e96a8b":"markdown","85eeca2a":"markdown","ae3d0eaf":"markdown","4ed3d313":"markdown","5161ec45":"markdown","9310435a":"markdown","1f131b9d":"markdown","954b3650":"markdown"},"source":{"74babc04":"import pandas as pd\npd.set_option('max_rows', 5)\nimport numpy as np\nreviews = pd.read_csv(\"..\/input\/winemag-data-130k-v2.csv\", index_col=0)\nreviews.head()","a7bf3730":"reviews.points.describe()","0ca060f6":"reviews.taster_name.describe()","4ce136b8":"reviews.points.mean()","94089123":"reviews.taster_name.unique()","9e498940":"reviews.taster_name.value_counts()","bff4ebb7":"review_points_mean = reviews.points.mean()\nreviews.points.map(lambda p: p - review_points_mean)","07d36a2c":"def remean_points(row):\n    row.points = row.points - review_points_mean\n    return row\n\nreviews.apply(remean_points, axis='columns')","e6686b42":"reviews.head(1)","6807c414":"review_points_mean = reviews.points.mean()\nreviews.points - review_points_mean","4ef1a617":"reviews.country + \" - \" + reviews.region_1","98c2300b":"\n\n`pandas` provides many common mapping operations as built-ins. For example, here's a faster way of remeaning our points column:","2a7ffb94":"If we had called `reviews.apply` with `axis='index'`, then instead of passing a function to transform each row, we would need to give a function to transform each *column*.\n\nNote that `Series.map` and `DataFrame.apply` return new, transformed Series and DataFrames, respectively. They don't modify the original data they're called on. If we look at the first row of `reviews`, we can see that it still has its original `points` value.","438afe45":"If you have narrower needs, there are functions that return more specific information. For example, you can see the points allotted (e.g. how well an averagely rated wine does) with the `mean` function:","33f0b703":"---\n**[Pandas Micro-Course Home Page](https:\/\/www.kaggle.com\/learn\/pandas)**\n\n","dd00477f":"This is a high-level summary of the given column. This output above only makes sense for numerical data; for string data here's what we get:","6f803038":"These operators are faster than the `map` or `apply` because they uses speed ups built into `pandas`. All of the standard Python operators (`>`, `<`, `==`, and so on) work in this manner.\n\nHowever, they are not as flexible as `map` or `apply`, which can do more advanced things, like applying conditional logic, which cannot be done with addition and subtraction alone.","b4e96a8b":"**[Pandas Micro-Course Home Page](https:\/\/www.kaggle.com\/learn\/pandas)**\n\n---\n","85eeca2a":"In this code we are performing an operation between a lot of values on the left-hand side (everything in the `Series`) and a single value on the right-hand side (the mean value). `pandas` looks at this expression and figures out that we must mean to subtract that mean value from every value in the dataset.\n\n`pandas` will also understand what to do if we perform these operations between `Series` of equal length. For example, an easy way of combining country and region information in the dataset would be to do the following:","ae3d0eaf":"# Intro\nThere are some powerful, and easy-to-use summary functions in pandas. Some of these are used in almost all data science projects. But even somewhat niche needs have helpful `pandas` function to make you more productive.\n\nBefore looking at example, we'll read raw data using the `read_csv` command you've already seen.","4ed3d313":"## Summary functions\n\nOne of the most important summarization functions is the `describe` method.","5161ec45":"To see a list of unique values we can use the `unique` function:","9310435a":"## Maps\n\nA \"map\" is a term, borrowed from mathematics, for a function that takes one set of values and \"maps\" them to another set of values. In data science we often have a need for creating new representations from existing data, or for transforming data from the format it is in now to the format that we want it to be in later. Maps are what handle this work, making them extremely important for getting your work done!\n\nThere are two mapping method that you will use often. [`Series.map`](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/generated\/pandas.Series.map.html) is the first, and slightly simpler one. For example, suppose that we wanted to remean the scores the wines recieved to 0. We can do this as follows:","1f131b9d":"To see a list of unique values _and_ how often they occur in the dataset, we can use the `value_counts` method:","954b3650":"The function you pass to `map` should expect a single value from the Series (a point value, in the above example), and return a transformed version of that value. `map` returns a new Series where all the values have been transformed by your function.\n\n[`DataFrame.apply`](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/generated\/pandas.DataFrame.apply.html) is the equivalent method if we want to transform a whole DataFrame by calling a custom method on each row."}}