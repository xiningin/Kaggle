{"cell_type":{"006d625b":"code","73cde604":"code","3dfa7520":"code","8d61be8a":"code","98b3d8d7":"code","5065152f":"code","ecc1d190":"code","bfb9a03b":"code","ad44ec38":"code","b05a39bf":"code","92aad9a9":"code","c706a180":"code","857baf42":"code","b11280af":"code","63250c50":"code","443e5516":"code","cad39e2e":"code","6febfc97":"code","ce42f46a":"code","9cc6b7ed":"code","adeff51b":"code","0d38ca52":"code","8dee2567":"code","c97a1aa8":"code","f52fb161":"code","cef7922c":"code","39d98297":"code","3a68d102":"code","b6192240":"code","9c461de0":"code","56dacb48":"code","3bf0cc4c":"code","f75349b2":"code","4df999d9":"code","deaa031a":"code","204c338a":"code","13609915":"code","a129e183":"code","cff6e9af":"code","ea055a15":"markdown","d54f61d8":"markdown","d5ab6356":"markdown","50b82f82":"markdown","ca03bfd0":"markdown","dc3030a4":"markdown","f6fa3978":"markdown","c47b6aa3":"markdown","f7d21407":"markdown","37896a6a":"markdown","567f07e3":"markdown","5d66079f":"markdown","516bbe6d":"markdown","1a61110e":"markdown","a1b2d622":"markdown","bbc68a23":"markdown","8d76392c":"markdown","506d587a":"markdown","b74fdc31":"markdown","7cd30b37":"markdown","0efeb332":"markdown","011d8737":"markdown","6966e6e2":"markdown","fa7535f1":"markdown"},"source":{"006d625b":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline","73cde604":"df = pd.read_csv('..\/input\/summer-olympics-medals\/Summer-Olympic-medals-1976-to-2008.csv', encoding='ISO-8859-1')","3dfa7520":"print(df.shape)\ndf.info()\ndf.head()","8d61be8a":"#rename columns into lower case\ndf.columns = df.columns.str.lower()\ndf.columns","98b3d8d7":"\ndf['year'].unique()","5065152f":"df['year'].value_counts(dropna = False) # there are 117 missing years","ecc1d190":"df[df['year'].isnull()].head() ","bfb9a03b":"df.dropna(inplace = True)","ad44ec38":"print(df.shape)\ndf.info()","b05a39bf":"events = df.loc[:,'sport':'event']\nevents.head()","92aad9a9":"#here are all the sports of olympics. Most events are aquatics. \nevents['sport'].value_counts()","c706a180":"events[events['sport'] == 'Aquatics'].loc[:,'discipline'].value_counts() \n#three types of aquatics discipline","857baf42":"events.groupby('sport')['discipline'].value_counts()","b11280af":"events.loc[events['sport'] == 'Athletics','event'].value_counts()","63250c50":"df['country'].unique().size\n\n#there are 127 countries","443e5516":"#most number of countries in the dataset\ndf['country'].value_counts().head(10)","cad39e2e":"df['medal'].unique()\n#only three types of medals","6febfc97":"df['athlete'].value_counts().head(10)\n#michael phelps is the most common athlete in the dataset","ce42f46a":"df.head()","9cc6b7ed":"def get_top(df, col = 'event', n = 5):\n    return df.sort_values(by = col)[-n:]","adeff51b":"medal_country = df.groupby(['medal','country'], as_index = False)['event'].count()","0d38ca52":"medal_group = medal_country.groupby('medal', as_index = False).apply(get_top).sort_values(by = ['medal','event'], ascending = False)\nmedal_group = medal_group.reset_index().drop(['level_0', 'level_1'], axis = 1)","8dee2567":"fig = plt.figure(figsize = (15,15))\nax = fig.add_subplot()\nsns.barplot(x = 'medal', y ='event', hue = 'country', data = medal_group, palette = 'Spectral', ax = ax, order = ['Gold','Silver','Bronze'])\nplt.title('Top 5 countries by medal')","c97a1aa8":"usa = df[df['country'] == 'United States']","f52fb161":"usa.head()","cef7922c":"plt.style.use('ggplot')\nfig = plt.figure(figsize = (10,6))\nax = fig.add_subplot()\ntop5_usa_sport = usa.groupby('sport')['medal'].count().sort_values(ascending = False)\ntop5_usa_sport.head(10).plot(kind = 'bar', ax = ax)\nax.set_title('Top 10 highest medal earning sport in USA')","39d98297":"country_medal_count = df.groupby(['year','country'])['medal'].count().reset_index()\ncountry_medal_count.sort_values(by = 'year')","3a68d102":"fig = plt.figure(figsize = (12,12))\nax = fig.add_subplot()\nsns.lineplot( x = 'year', y = 'medal', hue = 'country', data = country_medal_count[country_medal_count['medal'] > 50])\nplt.legend(ncol = 3, frameon = False, title = '')\nplt.title('Medal count trend of countries with medals greater than 50')","b6192240":"c1 = (df['sport'] == 'Basketball')\nc2 = (df['gender'] == 'Men')\nbasketball = df[c1&c2]\nprint(basketball.shape)\nbasketball.head()","9c461de0":"basketball_group = basketball.groupby(['year','country','medal'], as_index = False)['event'].count()\norder = ['Gold','Silver','Bronze']\ng = sns.FacetGrid(data = basketball_group, col = 'medal', height = 6, sharex = False, col_order = order)\ng.map(sns.countplot, 'country' )\nplt.subplots_adjust(top=0.9)\ng.fig.suptitle('Basketball winnings by medal', fontsize = 15)","56dacb48":"won_by_us = df.loc[df['country'] == 'United States', 'discipline'].values","3bf0cc4c":"plt.figure(figsize = (10,6))\ndf.loc[~df['discipline'].isin(won_by_us), 'discipline'].value_counts().plot(kind = 'bar')\nplt.title('Disciplines not won by US Ever')","f75349b2":"plt.figure(figsize = (10,6))\ndf['gender'].value_counts().plot(kind = 'pie', autopct='%1.0f%%', pctdistance=.5, labeldistance=1.1)\nplt.title('distribution of men and women in summer olympics');","4df999d9":"plt.figure(figsize = (10,6))\ndf.loc[:,['event','gender']].drop_duplicates().loc[:,'gender'].value_counts().plot(kind = 'pie', autopct = '%1.0f%%', pctdistance = .5)\nplt.title('distribution of men and women on unique events')","deaa031a":"order = ['Men','Women']\nplt.figure(figsize = (10,6))\nsns.countplot(x = 'year', data = df, hue = 'gender', hue_order = order)\nplt.title('count of male vs female participants across years');","204c338a":"athlete_group = df.groupby(['year','athlete','sport'])['event'].count()\nmore_than_4 = athlete_group[athlete_group > 4]","13609915":"more_than_4 = more_than_4.reset_index()","a129e183":"more_than_4.head()","cff6e9af":"g = sns.FacetGrid(data = more_than_4, col = 'sport', height = 7, sharex = False)\ng.map(sns.barplot, 'athlete', 'event', ci = False)\n[plt.setp(ax.get_xticklabels(), rotation=90) for ax in g.axes.flat]\nplt.subplots_adjust(top=0.9)\ng.fig.suptitle('Athletes with more than 4 events', fontsize = 15)","ea055a15":"#### Top 10 countries in terms of medal( gold, silver, bronze)","d54f61d8":"## Check USA","d5ab6356":"#### Check the trend of medal earnings by countries","50b82f82":"Mostly categorical data with year as numeric data. Explore some data","ca03bfd0":"Are there more men than women? Or is it because team sports have more men?","dc3030a4":"#### Men vs women","f6fa3978":"#### Explore year data","c47b6aa3":"#### Explore why aquatics has the most number of events","f7d21407":"#### Exploring sport, discipline, and event columns","37896a6a":"#### Explore Countries","567f07e3":"All other rows are also null. Drop null values","5d66079f":"## Analyses\n\nexplore and gain some insights from the data","516bbe6d":"Even on unique event categories, there are more men than women","1a61110e":"#### Check disciplines that are not won by US ever","a1b2d622":"Soviet union stopped participating. China (which I cant see from the graph) has increased medal counts significantly. Some countries keep participating even though they cant improve their winnings","bbc68a23":"# [Beginner]\n# [Learning exercise]\n\n#### The goal is to explore the data summer olympic medals","8d76392c":"It seems that USA has the highest number of medals. Next is soviet union","506d587a":"#### Explore medals","b74fdc31":"Only athletes from gymnastics and aquatics have more than 4 events","7cd30b37":"Explore athletics","0efeb332":"Let's take a look at men basketball data","011d8737":"#### Athletes who played more than 1 event","6966e6e2":"There are many events under atheltics.","fa7535f1":"#### Reading data"}}