{"cell_type":{"97167161":"code","a3968db9":"code","7615c8bc":"code","ddd579a5":"code","83d445c1":"code","25c27c23":"code","155501cb":"code","fdf1e730":"code","91800249":"code","f182c74e":"code","c6e6a151":"code","5bbe08b1":"code","af3292df":"code","fd0cb2d6":"code","ae36710e":"code","5c8fa9d5":"code","d1d18e91":"code","d47812eb":"code","53f8b68c":"code","aeb8c556":"code","41b31c6f":"code","1e160e47":"code","8b4c2d36":"code","f3955bd3":"code","e10a9f54":"code","7385f19a":"code","1af2f628":"code","9337e614":"markdown","c99e2c00":"markdown","b7a0a5dc":"markdown","5753b330":"markdown","1826fdc2":"markdown","3065c9d7":"markdown","b5cf8a3d":"markdown","ef5be4e5":"markdown"},"source":{"97167161":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","a3968db9":"#Read the dataset\ndf=pd.read_csv('\/kaggle\/input\/disney-movies\/disney_movies.csv', parse_dates=['release_date'], index_col=['release_date'])\ndf.head()","7615c8bc":"#Info\ndisplay(df.shape)\ndisplay(df.info())","ddd579a5":"df.describe()","83d445c1":"earnings_genre = df[['total_gross', 'inflation_adjusted_gross', 'genre']].groupby(['genre']).mean().sort_values(by='inflation_adjusted_gross',ascending=False)\ndisplay(earnings_genre)\ndisplay(earnings_genre.plot(kind='bar'))","25c27c23":"plot1 = sns.swarmplot(x = \"genre\", y = \"total_gross\", data = df, size = 5)\n","155501cb":"plot2 = sns.swarmplot(x = 'genre', y = \"inflation_adjusted_gross\", data = df, size = 5)","fdf1e730":"#Effect of mpaa_rating on earnings\nearnings_rating = df[['mpaa_rating', 'total_gross', 'inflation_adjusted_gross']].groupby(['mpaa_rating']).mean().sort_values(by='inflation_adjusted_gross',ascending=False)\ndisplay(earnings_rating)\ndisplay(earnings_rating.plot(kind='bar'))","91800249":"plot3 = sns.swarmplot(x = \"mpaa_rating\", y = \"total_gross\", data = df, size = 5)\nplot3\n","f182c74e":"plot4 = sns.swarmplot(x='mpaa_rating', y='inflation_adjusted_gross', data=df, size=5)\nplot4","c6e6a151":"df.index","5bbe08b1":"dates = df.index.values\ninflation_adjusted = df['inflation_adjusted_gross']\ngross = df['total_gross']","af3292df":"plt.rcParams['figure.figsize']=[16,8]\nprint(plt.scatter(x=dates, y=inflation_adjusted, color='green', alpha=0.9))\nprint(plt.scatter(x=dates, y=gross, color='lightblue', alpha = 0.5))","fd0cb2d6":"sns.lineplot(x=dates, y=inflation_adjusted)\nsns.lineplot(x=dates, y=gross, alpha = 0.6)","ae36710e":"x = df.reset_index()","5c8fa9d5":"y = x.inflation_adjusted_gross","d1d18e91":"x = x.drop(['total_gross','movie_title','inflation_adjusted_gross'], axis = 1)\nx.head()","d47812eb":"g = pd.get_dummies(x.genre)\ng.head()","53f8b68c":"r = pd.get_dummies(x.mpaa_rating)\nr.head()","aeb8c556":"x = pd.concat([x,g,r], axis = 1)\nx.head()","41b31c6f":"x = x.drop(['genre','Western','R','mpaa_rating','release_date'], axis=1)\nx.head()","1e160e47":"from sklearn.model_selection import train_test_split as tts\nfrom sklearn.linear_model import LinearRegression","8b4c2d36":"xTrain,xTest,yTrain,yTest=tts(x,y,test_size=0.3)","f3955bd3":"Linreg=LinearRegression()\nLinreg.fit(xTrain,yTrain)\ny_pred=Linreg.predict(xTest)","e10a9f54":"p = pd.DataFrame(y_pred, columns=['Actual'])\np1 = np.asarray(yTest)\np2 = pd.DataFrame(p1, columns=['Pred'])\ncm = pd.concat([p,p2], axis=1)\ncm","7385f19a":"from sklearn.metrics import r2_score,mean_squared_error,mean_absolute_error\n#Linear Regression Training MSE\nprint((mean_squared_error(np.square(Linreg.predict(xTrain)),np.square(yTrain))))\n#Linear Regression Testing MSE \nprint((mean_squared_error(np.square(Linreg.predict(xTest)),np.square(yTest))))\n#Linear Regression Mean Absolute Error Training\nprint((mean_absolute_error(np.square(Linreg.predict(xTrain)),np.square(yTrain))))\n#Linear Regression Mean Absolute Error Testing\nprint((mean_absolute_error(np.square(Linreg.predict(xTest)),np.square(yTest))))","1af2f628":"sns.lineplot(x=cm.index.values, y=cm.Actual, color='purple')\nsns.lineplot(x=cm.index.values, y=cm.Pred, alpha = 0.6)","9337e614":"# Data Exploration - Disney Movies ","c99e2c00":"### Analysing the Data","b7a0a5dc":"## Predicting Earnings ","5753b330":"#### Source for the dataset - Kaggle","1826fdc2":"#### How mpaa rating impacted the earnings","3065c9d7":"#### How movie genre impacted the earnings","b5cf8a3d":"#### How earnings changed with time","ef5be4e5":"### Setting up"}}