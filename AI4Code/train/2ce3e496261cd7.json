{"cell_type":{"b1fd5f2b":"code","284b5419":"code","f8974105":"code","980989ab":"code","39a5e0f8":"code","1a5caf23":"code","01cff7fc":"code","050fd21c":"code","e29da5f6":"code","030bf0d8":"code","7c48d8b4":"code","be46a7e7":"code","449f092b":"code","c3f66de0":"code","3f59b6bf":"code","9c7535d3":"code","b0dae3a9":"code","29a75db8":"code","4e7683f3":"code","5409d0d0":"code","8e2480be":"code","28d394a6":"code","55e0f590":"code","691d491c":"code","1acc861f":"code","73d5b48a":"code","e3b998b6":"code","dbb664f1":"code","ae606ce1":"code","c7149b15":"code","b9643729":"code","9af508dd":"markdown","cf6892bd":"markdown","375ecca4":"markdown","36cd96d9":"markdown","965f5861":"markdown","77df1c70":"markdown","caa09a06":"markdown","d0a4126f":"markdown","d044fce0":"markdown","3f6e6208":"markdown","9a5fa398":"markdown","d2eabc0b":"markdown","e54d09c9":"markdown","412f3b8f":"markdown","bc2c0c28":"markdown"},"source":{"b1fd5f2b":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","284b5419":"from statsmodels.api import Logit","f8974105":"from statsmodels.stats.outliers_influence import variance_inflation_factor","980989ab":"from sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import confusion_matrix,accuracy_score,roc_auc_score,roc_curve","39a5e0f8":"backpain = pd.read_csv('..\/input\/lower-back-pain-symptoms-dataset\/Dataset_spine.csv')\nbackpain.head()","1a5caf23":"backpain.drop('Unnamed: 13',axis=1,inplace=True)","01cff7fc":"column_name = ['pelvic_incidence',\\\n'pelvictilt',\\\n'lumbar_lordosis_angle',\\\n'sacral_slope',\\\n'pelvic_radius',\\\n'degree_spondylolisthesis',\\\n'pelvic_slope',\\\n'Direct_tilt',\\\n'thoracic_slope',\\\n'cervical_tilt',\\\n'sacrum_angle',\\\n'scoliosis_slope',\\\n'status'\\\n]","050fd21c":"backpain.columns = column_name","e29da5f6":"backpain.head()","030bf0d8":"backpain.info()","7c48d8b4":"sns.countplot(backpain.status)","be46a7e7":"backpain['status'] = backpain['status'].map({'Abnormal':1,'Normal':0})","449f092b":"fig = plt.figure(figsize=(15,15))\nfor i in range(backpain.shape[1]):\n    ax = fig.add_subplot(5,3,i+1)\n    sns.distplot(backpain[backpain.columns[i]],ax=ax)","c3f66de0":"x = backpain.drop(['status','scoliosis_slope','lumbar_lordosis_angle','thoracic_slope','pelvic_incidence','sacrum_angle','pelvic_slope','Direct_tilt'],axis=1)\ny = backpain.status","3f59b6bf":"xtrain,xtest,ytrain,ytest = train_test_split(x,y,test_size = 0.30,random_state=1)","9c7535d3":"lor = LogisticRegression()","b0dae3a9":"lor.fit(xtrain,ytrain)","29a75db8":"ypred = lor.predict(xtest)\nypred","4e7683f3":"cm = confusion_matrix(ytest,ypred)\ncm","5409d0d0":"accuracy = accuracy_score(ytest,ypred)\naccuracy","8e2480be":"plt.figure(figsize=(12,10))\nsns.heatmap(backpain.corr(),annot=True)","28d394a6":"temp = backpain.drop(['scoliosis_slope','lumbar_lordosis_angle'],axis=1)","55e0f590":"vif = [variance_inflation_factor(temp.values,i) for i in range(temp.shape[1])]","691d491c":"pd.DataFrame({'colums':temp.columns,'vif':vif})","1acc861f":"result = Logit(temp['status'],temp.drop(['status','thoracic_slope','pelvic_incidence','sacrum_angle','pelvic_slope','Direct_tilt'],axis=1)).fit()\nresult.summary()","73d5b48a":"conf = np.exp(result.conf_int())\nconf['odds-ratio'] = round(result.params,2)\nconf['pvalue'] = round(result.pvalues,3)\nconf.rename({0:'ci_2.5%',1:'ci_97.5%'},inplace=True,axis=1)\nconf","e3b998b6":"TN = cm[0,0]\nTP = cm[1,1]\nFP = cm[0,1]\nFN = cm[1,0]\nmisclassification = 1 - accuracy\nsensitivity = TP\/float(TP+FN)\nspecificity = TN\/float(TN+FP)\nprint('accuracy, misclassification, sensitivity, specificity')\nprint(accuracy,misclassification,sensitivity,specificity)","dbb664f1":"positive_predicted_value = TP\/float(TP+FP)\nnegative_predicted_value = TN\/float(TN+FN)\nprint('positive_predicted_value, negative_predicted_value')\nprint(positive_predicted_value,negative_predicted_value)","ae606ce1":"positive_likelyhood_ratio = sensitivity\/(1-specificity)\nnegative_likelyhood_ratio = (1-sensitivity)\/specificity\nprint('positive_likelyhood_ratio, negative_likelyhood_ratio')\nprint(positive_likelyhood_ratio,negative_likelyhood_ratio)","c7149b15":"fpr,tpr,thresolds = roc_curve(ytest,ypred)\nplt.plot(fpr,tpr)\nplt.xlabel('False positive rate (1-Specificity)')\nplt.ylabel('True positive rate (Sensitivity)')\n","b9643729":"roc_auc_score(ytest,ypred)","9af508dd":"# Apply Classification Model ","cf6892bd":"## backward elimination","375ecca4":"# Import Libraries","36cd96d9":"# ROC-AUC curve","965f5861":"# Conclusion","77df1c70":"# Accuracy","caa09a06":"## using correlarion","d0a4126f":"# Encode","d044fce0":"# Check skewness","3f6e6208":"# Feature Selection","9a5fa398":"# Model statistics","d2eabc0b":"    holding all other features constant ,odd of having backpain is:\n    - 11% increase for every 1 unit increase in pelvictilt\n    - 6% decrease for every 1 unit increase in sacral_slope\n    - 2% decrease for every 1 unit increase in pelvic_radius\n    - 15% increase for every 1 unit increase in degree_spondylolisthesis\n    - 15% increase for every 1 unit increase in cervical_tilt","e54d09c9":"## forward selection","412f3b8f":"# Train test split","bc2c0c28":"# Load dataset"}}