{"cell_type":{"9fdbf3ba":"code","2f705fa3":"code","9b62e2b1":"code","36dcd35b":"code","0ee6112a":"code","13792e3e":"code","5f4bd4ef":"markdown","1cfb2340":"markdown","29ac9a9a":"markdown","e1be13b7":"markdown","1a000d60":"markdown","c7a009f7":"markdown"},"source":{"9fdbf3ba":"import math\nimport shapely.geometry as shg\nimport fiona\nimport matplotlib.pyplot as plt\n","2f705fa3":"poly1 = [(1,1), (1,5), (5,5), (5,1), (1,1)]\npoly2 = [(2,1.3), (5,1.2), (6,3), (6,4) ,(3,5), (1.4,3), (1.5,2), (2,1.3)]\npoly3 = [(4,2), (4,3), (4,4), (3,4), (4,2)]\npoly4 = [(3,5), (5,2), (3,0), (2,2), (1,2), (3,5)]","9b62e2b1":"#Defines a function called spatialmean \ndef spatialmean(coords):\n    \"\"\"\n    Summary: \n    Calculates the spatial mean of a polygon\n    -------------------------------------------------\n    Arguments:\n    coords: a polygon in the format [(3,5), (5,2), (3,0), (2,2), (1,2), (3,5)]\n    -------------------------------------------------\n    Returns:\n    Average x and Average y values\n    -------------------------------------------------\n    \"\"\"\n    # decide whether to ignore the last coordinate or not\n    # ignore last coordinate if same as first\n    adj=1\n    if coords[0] != coords[-1]:\n        adj==0\n    \n    x, y = zip(*coords)\n    mx = 0\n    my = 0\n    #Iterates over the elements.\n    for i in range(len(coords)-adj):\n        mx = mx + x[i]\n        my = my + y[i]\n    mx = mx \/ (len(coords)-adj)\n    my = my \/ (len(coords)-adj)   \n    return mx, my","36dcd35b":"# Loading shapefile data into a list\nshapefile_polygons = []                  \n#a list to store the polygons we load\n\nc = fiona.open('..\/input\/ceg1713-data-files\/polygons.shp') #Open the shapefile\n\nfor each_poly in c:\n    geom = shg.shape(each_poly['geometry'])\n    poly_data = each_poly[\"geometry\"][\"coordinates\"][0]  #EXTERIOR RING ONLY\n    poly = shg.Polygon(poly_data)\n    print(poly)\n    #Converts into the same format as the other data\n    shapefile_polygons.append(list(poly.exterior.coords))\n\ndisplay(shapefile_polygons)","0ee6112a":"for i in shapefile_polygons:\n    shg_poly = shg.Polygon(i)\n    print(\"The area is {}\".format(shg_poly.area))","13792e3e":"plt.gca().set_aspect('equal', adjustable='box') \n#To make the x and y axis the same scale\n\nfor poly in shapefile_polygons:\n    xy = list(zip(*poly))\n    plt.fill(xy[0], xy[1], alpha=0.5)","5f4bd4ef":"## Some data","1cfb2340":"## This Notebook contains the data files you need for CEG1713 Assessment 2\n### It also contains a function to read these polygons into lists and process them in Shapely\n### A centroid (spatial mean) function is also included","29ac9a9a":"## Centroid Function","e1be13b7":"## Loading data from Shapefiles","1a000d60":"## Plotting them out","c7a009f7":"## Iterating over loaded polygons using Shapely area function"}}