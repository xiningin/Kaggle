{"cell_type":{"f134423b":"code","d9e2885b":"code","da90fe2c":"code","26d38357":"code","ca513bd5":"code","f776dab9":"code","51fdfbc6":"code","af23b4e7":"code","c6d99281":"code","26e47f5e":"code","0ec33eb4":"code","7ca72aa5":"code","329e2bfa":"code","869de0f6":"code","cf71ae39":"code","48afc2c1":"code","fee85589":"code","e3a7d66d":"code","af0dde73":"code","5443ad5d":"code","6d3ac9da":"code","2582a23c":"code","d170b352":"code","5fa956eb":"code","49eb59ce":"code","780e21eb":"code","03a24042":"code","bf1fd349":"code","bf7b8476":"code","8dff6da0":"code","b280882c":"code","23b400fa":"code","4565e071":"code","953c5f12":"markdown","46b864ce":"markdown","ac162b2c":"markdown","388e7372":"markdown","4920d396":"markdown","15878bd6":"markdown","ace46d89":"markdown","49744d11":"markdown","2d7592c9":"markdown","15378d19":"markdown","e858690c":"markdown","fc86f197":"markdown","fab869f6":"markdown","740f3599":"markdown","0595edac":"markdown","d90d88fd":"markdown","28cce9d1":"markdown","80640c3c":"markdown","4c7514ae":"markdown","9caa4cae":"markdown","2012eb56":"markdown","23e85048":"markdown","0630ea25":"markdown","d7851aaa":"markdown","8d0a558b":"markdown","04f6698e":"markdown","03890d09":"markdown","930a18dd":"markdown","be1b2b9d":"markdown","3cc2d6a3":"markdown","4fb28466":"markdown","59b2a556":"markdown","30630d8d":"markdown","17c6534f":"markdown","8105624a":"markdown","47bbe95f":"markdown","4e9d5d90":"markdown","5c8fc07e":"markdown","f57997b1":"markdown","9a43ab27":"markdown","fb89963c":"markdown","a4616f87":"markdown","dfcb0a44":"markdown","7638c018":"markdown","5ee6a8f8":"markdown","da196d74":"markdown","8ad1f26a":"markdown","7f5d168e":"markdown","597c7be3":"markdown"},"source":{"f134423b":"!pip install pycountry-convert\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport sqlite3\nimport plotly.express as px\nimport plotly\nimport math\nimport pycountry_convert\nimport plotly.graph_objects as go\n\nfrom pycountry import countries\nfrom IPython.core.display import HTML, display\nfrom plotly.subplots import make_subplots","d9e2885b":"reign = pd.read_csv(\"..\/input\/rulers-elections-and-irregular-governance\/REIGN_dataset\/REIGN_2021_6.csv\")\npress_index = pd.read_csv(\"..\/input\/world-press-index-20192021\/World Press Index 2021.csv\")\ncontinents = pd.read_csv(\"..\/input\/countryandcontinentcodes\/country-and-continent-codes.csv\")","da90fe2c":"def add_alpha_2(row):\n    try:\n        alpha_2 = countries.search_fuzzy(row)[0].alpha_2\n    except LookupError:\n        alpha_2 = None\n    return alpha_2\n\n\ndef add_alpha_3(row):\n    try:\n        alpha_3 = countries.search_fuzzy(row)[0].alpha_3\n    except LookupError:\n        alpha_3 = None\n    return alpha_3","26d38357":"# Get only latest relevant info from REIGN dataset\n\nreign_latest = pd.DataFrame(columns=reign.columns)\nreign_grouped = reign.groupby(\"country\")\nfor name, group in reign_grouped:\n    latest = group.sort_values(by=\"year\", ascending=False).iloc[0, :]\n    reign_latest = reign_latest.append(latest)\nreign_latest = reign_latest.reset_index(\n)[['ccode', 'country', 'leader', 'year', 'government', 'gov_democracy']]\nreign_latest.head()\n\n# REIGN\n\n# drop countries that no longer exist\nreign_latest = reign_latest.query(\n    \"country not in ['Czechoslovakia','Germany East','Soviet Union','Vietnam South','Yemen South','Yugoslavia']\")\n\n# replace some country names with official names\nmap_dict = {'Cape Verde': 'Cabo Verde',\n            'Cen African Rep': 'Central African Republic',\n            'Congo-Brz': 'Congo',\n            'Congo\/Zaire': 'Congo, The Democratic Republic of the',\n            'East Timor': 'Timor-Leste',\n            'Guinea Bissau': 'Guinea-Bissau',\n            'Korea North': 'Korea, Democratic People\\'s Republic of',\n            'Korea South': 'Korea, Republic of',\n            'Laos': 'Lao People\\'s Democratic Republic',\n            'St Kitts and Nevis': 'Saint Kitts and Nevis',\n            'St Lucia': 'Saint Lucia',\n            'St Vincent': 'Saint Vincent and the Grenadines',\n            'Swaziland': 'Eswatini',\n            'UKG': 'United Kingdom'}\nreign_latest['country'] = reign_latest['country'].map(\n    map_dict).fillna(reign_latest['country'])\n\n# adding Taiwan and Palestine, which are for some reason omitted\nreign_latest = reign_latest.append({'country': 'Taiwan', 'leader': 'Tsai Ing-wen',\n                                   'government': 'Presidential Democracy', 'gov_democracy': 1.0}, ignore_index=True)\nreign_latest = reign_latest.append({'country': 'Palestine', 'leader': 'Mahmoud Abbas',\n                                   'government': 'Presidential Democracy', 'gov_democracy': 1.0}, ignore_index=True)\n\n# add country codes\nreign_latest['alpha_2'] = reign_latest['country'].apply(\n    lambda x: add_alpha_2(x))\nreign_latest['alpha_3'] = reign_latest['country'].apply(\n    lambda x: add_alpha_3(x))\n\n# Niger and ivory coast get the wrong code, need to fix it\nreign_latest.loc[reign_latest['country'] == 'Niger', 'alpha_2'] = 'NE'\nreign_latest.loc[reign_latest['country'] == 'Niger', 'alpha_3'] = 'NER'\n\nreign_latest.loc[reign_latest['country'] == 'Ivory Coast', 'alpha_2'] = 'CI'\nreign_latest.loc[reign_latest['country'] == 'Ivory Coast', 'alpha_3'] = 'CIV'\n\n# Change is_democracy column to be more human-readable\ndef is_democracy(val):\n    if val == 1:\n        return \"Democracy\"\n    else:\n        return \"Non-Democracy\"\n\n\nreign_latest['gov_democracy'] = reign_latest.apply(\n    lambda x: is_democracy(x['gov_democracy']), axis=1)\n\npress_clean = press_index.copy()\n\n# drop countries which don't exist in the reign dataset\npress_clean = press_clean.query(\n    \"`Country Name` not in ['Northern Cyprus','Hong Kong','Somaliland']\")\n\n# replace countries with official names\nmap_dict = {'South Korea': 'Korea, Republic of',\n            'East Timor': 'Timor-Leste',\n            'Guinea Bissau': 'Guinea-Bissau',\n            'Congo-Brazzaville': 'Congo',\n            'Democratic Republic of Congo': 'Congo, The Democratic Republic of the',\n            'Laos': 'Lao People\\'s Democratic Republic',\n            'North Korea': 'Korea, Democratic People\\'s Republic of',\n            'Bosnia-Herzegovina':'Bosnia and Herzegovina',\n            'Morocco \/ Western Sahara':'Morocco'\n           }\npress_clean['Country Name'] = press_clean['Country Name'].map(\n    map_dict).fillna(press_clean['Country Name'])\n\n# OECS is a tricky special case\noecs_countries = ['Antigua and Barbuda', 'Dominica', 'Grenada',\n                  'Saint Kitts and Nevis', 'Saint Lucia', 'Saint Vincent and the Grenadines']\n\nfor country in oecs_countries:\n    row = press_clean[press_clean['Country Name'] == 'OECS'].copy()\n    row['Country Name'] = country\n    press_clean = press_clean.append(row, ignore_index=True)\n\npress_clean = press_clean.query(\"`Country Name` not in ['OECS']\")\n\n#Add country codes to press_clean\npress_clean['alpha_2'] = press_clean['Country Name'].apply(\n    lambda x: add_alpha_2(x))\npress_clean['alpha_3'] = press_clean['Country Name'].apply(\n    lambda x: add_alpha_3(x))\n\n# Niger and ivory coast get the wrong code, need to fix it\npress_clean.loc[press_clean['Country Name'] == 'Niger', 'alpha_2'] = 'NE'\npress_clean.loc[press_clean['Country Name'] == 'Niger', 'alpha_3'] = 'NER'\n\npress_clean.loc[press_clean['Country Name'] == 'C\u00f4te d\u2019Ivoire', 'alpha_2'] = 'CI'\npress_clean.loc[press_clean['Country Name'] == 'C\u00f4te d\u2019Ivoire', 'alpha_3'] = 'CIV'\n\n# Combine dataframes\ncontinents = continents.rename(columns={'Two_Letter_Country_Code': 'alpha_2'})\ncontinents = continents[['Continent_Name', 'alpha_2']]\ncontinents.head()\n\ncombined_no_continents = pd.merge(\n    press_clean, reign_latest, how=\"left\", on=[\"alpha_2\", \"alpha_3\"])\n\n# Add continents\ncombined = pd.merge(combined_no_continents, continents,\n                    how=\"left\", on=[\"alpha_2\"])\n\n# namibia is for some reason not present in the continents data frame\ncombined.loc[combined['country'] == 'Namibia', 'Continent_Name'] = 'Africa'\n\n# Some continent changes to be consistent with my map geojsons\ncombined.loc[combined['country'] == 'Samoa', 'Continent_Name'] = 'Asia'\ncombined.loc[combined['country'] == 'Tonga', 'Continent_Name'] = 'Asia'\n\n# Add Change column\ncombined['Change'] = combined.apply(\n    lambda x: x['Global Score 2021']-x['Global Score 2019'], axis=1)\n\n#Drop unnecessary columns\ncombined = combined.drop(columns=['country','year','ccode'])\n\ncombined.sample(5)","ca513bd5":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6552777\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","f776dab9":"## avg. index\nprint(press_clean['Global Score 2021'].mean())","51fdfbc6":"HTML(\"\"\"<div class=\"flourish-embed flourish-bar-chart-race\" data-src=\"visualisation\/6581484\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>\"\"\")","af23b4e7":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554015\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","c6d99281":"## avg. abuse index\nprint(press_clean['Abuse Score 2021'].mean())","26e47f5e":"# avg. indexes by continent\nprint(combined.groupby('Continent_Name')['Global Score 2021'].mean())","0ec33eb4":"color_scale = ['#fff0ad',\n               '#ffc485',\n               '#d13f3f',\n               '#ad0034']\ncolor_scale_change = ['#0006a8',\n                      '#0086cf',\n                      '#ff7878',\n                      '#9e0000']","7ca72aa5":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554053\" data-height=\"500px\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","329e2bfa":"df = combined.loc[combined['Continent_Name'] == 'Asia',\n                  :].sort_values(by='Global Score 2021', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\ndf.loc[df['Country Name'] == 'Korea, Democratic People\\'s Republic of',\n       'Country Name'] = 'North Korea'\ndf.loc[df['Country Name'] == 'Korea, Republic of',\n       'Country Name'] = 'South Korea'\n\nfig = px.bar(y=df['Country Name'],\n             x=df['Global Score 2021'],\n             orientation='h',\n             text=df['Global Score 2021'],\n             color=df['Global Score 2021'],\n             color_continuous_scale=color_scale,\n             range_color=[0, 100])\nfig.update_layout(\n    title=\"Top and bottom 5 countries in Asia\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","869de0f6":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554077\" data-height=\"500px\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","cf71ae39":"df = combined.loc[combined['Continent_Name'] == 'Africa',\n                  :].sort_values(by='Global Score 2021', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\nfig = px.bar(\n    y=df['Country Name'],\n    x=df['Global Score 2021'],\n    orientation='h',\n    text=df['Global Score 2021'],\n    color=df['Global Score 2021'],\n    color_continuous_scale=color_scale,\n    range_color=[0, 100]\n)\nfig.update_layout(\n    title=\"Top and bottom 5 countries in Africa\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","48afc2c1":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554210\" data-height=\"500px\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","fee85589":"df = combined.loc[combined['Continent_Name'] == 'Europe',:].sort_values(by='Global Score 2021', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\nfig = px.bar(\n    y=df['Country Name'],\n    x=df['Global Score 2021'],\n    orientation='h',\n    text=df['Global Score 2021'],\n    color=df['Global Score 2021'],\n    color_continuous_scale=color_scale,\n    range_color=[0, 100]\n)\nfig.update_layout(\n    title=\"Top and bottom 5 countries in Europe\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","e3a7d66d":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554108\" data-height=\"500px\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","af0dde73":"df = combined.loc[combined['Continent_Name'] == 'North America', :].sort_values(by='Global Score 2021', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\nfig = px.bar(\n    y=df['Country Name'],\n    x=df['Global Score 2021'],\n    orientation='h',\n    text=df['Global Score 2021'],\n    color=df['Global Score 2021'],\n    color_continuous_scale=color_scale,\n    range_color=[0, 100]\n)\nfig.update_layout(\n    title=\"Top and bottom 5 countries in North America\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","5443ad5d":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554130\" data-height=\"500px\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","6d3ac9da":"df = combined.loc[combined['Continent_Name'] == 'South America', :].sort_values(by='Global Score 2021', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\nfig = px.bar(\n    y=df['Country Name'],\n    x=df['Global Score 2021'],\n    orientation='h',\n    text=df['Global Score 2021'],\n    color=df['Global Score 2021'],\n    color_continuous_scale=color_scale,\n    range_color=[0, 100]\n)\nfig.update_layout(\n    title=\"Top and bottom 5 countries in South America\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","2582a23c":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554273\" data-height=\"500px\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","d170b352":"df = combined.loc[combined['Continent_Name'] == 'Oceania', :].sort_values(by='Global Score 2021', ascending=False)\n\nfig = px.bar(\n    y=df['Country Name'],\n    x=df['Global Score 2021'],\n    orientation='h',\n    text=df['Global Score 2021'],\n    color=df['Global Score 2021'],\n    color_continuous_scale=color_scale,\n    range_color=[0, 100]\n)\n\nfig.update_layout(\n    title=\"Countries in Oceania\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\n","5fa956eb":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6554682\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","49eb59ce":"df = combined.sort_values(by='Change', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\n# Change Laos' display name for readability\ndf.loc[df['Country Name'] == 'Lao People\\'s Democratic Republic',\n       'Country Name'] = 'Laos'\n\nfig = px.bar(\n    y=df['Country Name'],\n    x=df['Change'],\n    orientation='h',\n    text=round(df['Change'], 2),\n    color=round(df['Change'], 2),\n    color_continuous_scale=color_scale_change,\n    color_continuous_midpoint=0\n)\n\nfig.update_layout(\n    title=\"Top 5 score improvements and deteroriations\",\n    xaxis_title=\"Change\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","780e21eb":"# avg. score by regime\nprint(combined_no_continents.groupby('government')['Global Score 2021'].mean())","03a24042":"# avg. score by demo\/non-demo\nprint(combined_no_continents.groupby(\n    'gov_democracy')['Global Score 2021'].mean())","bf1fd349":"HTML('''<div class=\"flourish-embed flourish-map\" data-src=\"visualisation\/6607609\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","bf7b8476":"color_discrete_map = {\n    \"Parliamentary Democracy\": \"#4fb0ff\",\n    \"Presidential Democracy\": \"#0564b3\",\n    \"Monarchy\": \"#ab006c\",\n    \"Dominant Party\": \"#400080\",\n    \"Foreign\/Occupied\": \"#91ff00\",\n    \"Military-Personal\": \"#520101\",\n    \"Personal Dictatorship\": \"#916d00\",\n    \"Provisional - Military\": \"#859100\",\n    \"Party-Personal\": \"#3d9c6b\",\n    \"Military\": \"#144700\",\n    \"Party-Military\": \"#f4fc4c\",\n    \"Provisional - Civilian\": \"#c27670\",\n    \"Warlordism\": \"#eb0000\",\n    \"Party-Personal-Military Hybrid\": \"#eb8d00\",\n    \"(?)\": \"#cfcecc\"\n}\n\n\nfig = px.sunburst(combined_no_continents, path=['gov_democracy', 'government'], branchvalues=\"total\",\n                  color='government', color_discrete_map=color_discrete_map, width=950, height=750)\nfig.update_traces(rotation=0, textinfo='label+percent entry')\n\nfig.update_layout(\n    uniformtext_minsize=12,\n    uniformtext_mode='hide',\n    xaxis_showgrid=False,\n    yaxis_showgrid=False,\n    xaxis_visible=False,\n    yaxis_visible=False,\n    plot_bgcolor='rgba(0,0,0,0)',\n    xaxis_range=[0, 1],\n    yaxis_range=[0, 1],\n    title=\"Governments of the world\"\n)\n\nfig.add_annotation(\n    x=0.86,\n    y=0.28,\n    text=\"Provisional - Civilian 2%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.86,\n    ay=0.28,\n    xanchor='left'\n)\n\nfig.add_annotation(\n    x=0.87,\n    y=0.32,\n    text=\"Foreign\/Occupied 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.87,\n    ay=0.32,\n    xanchor='left'\n)\n\nfig.add_annotation(\n    x=0.88,\n    y=0.36,\n    text=\"Military 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.88,\n    ay=0.36,\n    xanchor='left'\n)\nfig.add_annotation(\n    x=0.885,\n    y=0.395,\n    text=\"Military-Personal 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.885,\n    ay=0.395,\n    xanchor='left'\n)\n\nfig.add_annotation(\n    x=0.89,\n    y=0.428,\n    text=\"Provisional - Military 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.89,\n    ay=0.428,\n    xanchor='left'\n)\n\nfig.add_annotation(\n    x=0.877,\n    y=0.46,\n    text=\"Party-Military 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.9,\n    ay=0.455,\n    xanchor='left'\n)\n\nfig.add_annotation(\n    x=0.878,\n    y=0.475,\n    text=\"Warlordism 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.9,\n    ay=0.48,\n    xanchor='left'\n)\n\nfig.add_annotation(\n    x=0.879,\n    y=0.49,\n    text=\"Party-Personal-Military <br> Hybrid 1%\",\n    showarrow=True,\n    arrowhead=0,\n    axref=\"x\",\n    ayref=\"y\",\n    xref=\"x\",\n    yref=\"y\",\n    ax=0.9,\n    ay=0.52,\n    xanchor='left'\n)\n\nfig.show()","8dff6da0":"series=combined_no_continents.groupby('government')['Global Score 2021'].mean()\n\nfig = px.bar(\n    y=series.index,\n    x=series.values,\n    orientation='h',\n    color=series.index,\n    text=np.round(series.values,2),\n    color_discrete_map=color_discrete_map\n)\n\nfig.update_layout(\n    title=\"Average scores of government types\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Government\",\n    coloraxis_showscale=False,\n    yaxis_categoryorder='total descending',\n    showlegend=False\n)\n\nfig.show()\n\nseries=combined_no_continents.groupby('gov_democracy')['Global Score 2021'].mean()\n\nfig = px.bar(\n    y=series.index,\n    x=series.values,\n    orientation='h',\n    color=series.index,\n    text=np.round(series.values,2),\n    height=300\n)\n\nfig.update_layout(\n    title=\"\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Government\",\n    coloraxis_showscale=False,\n    yaxis_categoryorder='total descending',\n    showlegend=False\n)\n\nfig.show()","b280882c":"df = combined.loc[combined['gov_democracy'] == 'Democracy', :].sort_values(by='Global Score 2021', ascending=False)\n\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\nfig = px.bar(\n    data_frame=df,\n    y='Country Name',\n    x='Global Score 2021',\n    orientation='h',\n    text='Global Score 2021',\n    color='government',\n    color_discrete_map=color_discrete_map\n)\n\nfig.update_layout(\n    title=\"Top and bottom 5 democratic countries\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False,\n    yaxis_categoryorder='total descending'\n)\n\nfig.update_layout(\n    legend=dict(\n        x=0.75,\n        y=0.98,\n        traceorder=\"normal\",\n        font=dict(\n            family=\"sans-serif\",\n            size=12,\n            color=\"black\"\n        ),\n    )\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","23b400fa":"df = combined.loc[combined['gov_democracy'] == 'Non-Democracy',\n                  :].sort_values(by='Global Score 2021', ascending=False)\n\ndf = df.drop(df.loc[df['Country Name'] == 'Cyprus', :].head(1).index)\n\n# Cyprus is on 2 continents so we need to drop one\ndf = pd.concat([pd.DataFrame(df.head(5)), pd.DataFrame(df.tail(5))])\n\n# Change North Korea's display name for readability\ndf.loc[df['Country Name'] == 'Korea, Democratic People\\'s Republic of',\n       'Country Name'] = 'North Korea'\n\nfig = px.bar(\n    data_frame=df,\n    y='Country Name',\n    x='Global Score 2021',\n    orientation='h',\n    text='Global Score 2021',\n    color='government',\n    color_discrete_map=color_discrete_map\n)\n\nfig.update_layout(\n    title=\"Top and bottom 5 non-democratic countries\",\n    xaxis_title=\"Global Score 2021\",\n    yaxis_title=\"Country\",\n    coloraxis_showscale=False,\n    yaxis_categoryorder='total descending'\n)\n\nfig.update_layout(\n    legend=dict(\n        x=0.77,\n        y=0.98,\n        traceorder=\"normal\",\n        font=dict(\n            family=\"sans-serif\",\n            size=12,\n            color=\"black\"\n        ),\n    )\n)\nfig.add_hline(y=4.5, line_width=1, line_dash=\"dash\")","4565e071":"HTML('''<div class=\"flourish-embed flourish-cards\" data-src=\"visualisation\/6654651\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","953c5f12":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:250%;text-align:center; font-weight: 500;\">Thank you for your attention!<\/h1>","46b864ce":"<h1 style=\"color:blue;  border-radius: 25px; font-family: Helvetica, sans-serif; font-size:350%;text-align:center;font-weight: bold;\">Governments vs Freedom of press<br> EDA <\/h1>","ac162b2c":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> <span style=\"color: blue\">Norway<\/span> takes the crown as the country, which puts the greatest effort into guaranteeing people's freedom of press with a score of <span style=\"color: green\">6.72<\/span><\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> It is closely followed by <span style=\"color: blue\">Finland<\/span> and <span style=\"color: blue\">Sweden<\/span>, with their scores of <span style=\"color: green\">6.99<\/span> and <span style=\"color: green\">7.24<\/span>, respectively.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> On the other end of the spectrum is <span style=\"color: blue\">Eritrea<\/span>, with an abysmal score of <span style=\"color: red\">81.45<\/span>.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"><span style=\"color: blue\">North Korea<\/span> and <span style=\"color: blue\">Turkmenistan<\/span> also achieved similarily unacceptable scores of <span style=\"color: red\">81.28<\/span> and <span style=\"color: red\">80.03<\/span> <\/h1>","388e7372":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Next, we will investigate how various countries have changed in the last two years.<\/h1>","4920d396":"## **Government forms and freedom of press**","15878bd6":"#### **Asia**","ace46d89":"### **Objectives**","49744d11":"Developed by Curtis Bell, the Rulers, Elections, and Irregular Governance (REIGN) dataset describes **political conditions in every country** each and every month. \n\nThe dataset covers **more than 200 countries** for each month they were independent, January 1950 to the present. REIGN was created by gathering original data, compiling other datasets on political conditions, reviewing their coding rules, and updating all information to the present.\n\nFor more information visit [The official website](https:\/\/oefdatascience.github.io\/REIGN.github.io\/) or [The REIGN dataset on Kaggle](https:\/\/www.kaggle.com\/janzasadny\/rulers-elections-and-irregular-governance)","2d7592c9":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Political regimes deeply influence the daily lives of people around the world. Official laws and local customs vary greatly from country to country, leading to great gaps in standards of living and personal freedoms.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Let's explore how much those societal and political differences influence <span style=\"color: blue\">freedom of press<\/span>.<\/h1>","15378d19":"The objective of this **Data Analysis** notebook is to showcase varying degrees of **Freedom of the press** around the world depending on geographical location and political situation present in each country.\n\nBy utilising data provided by the **World Press Freedom Index** and **REIGN** datasets, my aim is to demonstrate which government forms are implemented in different countries in the world, which countries have the most and least free press and help understand a massive gap in **Freedom of the press** between democratic and non-democratic countries","e858690c":"The Index **ranks 180 countries and regions according to the level of freedom available to journalists.** It is a snapshot of the media freedom situation based on an evaluation of pluralism, independence of the media, quality of legislative framework and safety of journalists in each country and region.\n\nIt is created annualy by [Reporters Without Borders](https:\/\/rsf.org\/en\/world-press-freedom-index) - An international non-profit and non-governmental organization with the stated aim of **safeguarding the right to freedom of information.** \n\nFor more information visit [The official website](https:\/\/rsf.org\/en\/ranking) or [The World Press Index dataset on Kaggle](https:\/\/www.kaggle.com\/jaykumar1607\/world-press-index-20192021)","fc86f197":"## **Data loading and processing**","fab869f6":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Oceania's average Global Score is <span style=\"color: green\">20.66<\/span>.<\/h1>\n\n<h1 style=\"color:green;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">This is the best average score among all continents!<\/h1>","740f3599":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:120%;text-align:center; font-weight: 500;\">If you have enjoyed this notebook, please consider leaving an <span style=\"color: blue\">upvote<\/span>. Comments are also very welcome. Thank you!<\/h1>","0595edac":"### **Change across the years**","d90d88fd":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> <span style=\"color:#4fb0ff\">Parliamentary Democracy<\/span> is the most popular form of government. Overall, democratic governments are implemented in 65% of all countries <\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> Meanwhile, <span style=\"color: #916d00\">Personal Dictatorship<\/span> is the most prolific type of authoritarian  regime, being present in 16 countries in the world.  <\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> For me, it is especially surprising that <span style=\"color: #ab006c\">Monarchies<\/span> are actually not approaching extinction in the current year, being present in 12 different countries!<\/h1>","28cce9d1":"### **Governments of the world**","80640c3c":"#### **Europe**","4c7514ae":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">The average value of Abuse Score in the year 2021 is <span style=\"color: red\">20.38<\/span>.<\/h1>\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> Many countries, however, have  an Abuse Score equal to <span style=\"color: green\">0<\/span>.<\/h1>","9caa4cae":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Africa's average Global Score is <span style=\"color: orange\">38.1<\/span>.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"><span style=\"color: blue\">Djibouti<\/span> and <span style=\"color: blue\">Eritrea<\/span> have significantly worse scores than all the other African countries, and some of the worst scores in the world.<\/h1>","2012eb56":"### **REIGN**","23e85048":"## **Introduction**","0630ea25":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> The gap between the least free (at least if we consider freedom of press) democratic country of <span style=\"color: #4fb0ff\">Iraq<\/span> and the least free non-democratic country - <span style=\"color: #3d9c6b\">Eritrea<\/span> is an astounding <span style=\"color: red\">25,88<\/span> points!<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> Not only do average authoritharian governments repress their residents' rights much more than their democratic counterparts, but the nations with the least free press are also all non-democratic! <\/h1>","d7851aaa":"#### **South America**","8d0a558b":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">South America's average Global Score is <span style=\"color: orange\">31.41<\/span>.<\/h1>","04f6698e":"#### **Non-Democracies**","03890d09":"#### **Democracies** ","930a18dd":"### **World Press Freedom Index**","be1b2b9d":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"><span style=\"color: blue\">Sudan<\/span> - a country in Africa - has experienced (by a huge margin) the largest change in the world, improving it's very poor score of <span style=\"color: red\">72.45<\/span> by <span style=\"color: green\">almost 20<\/span> points over the last 2 years! <\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Meanwhile, the Islamic theocracy of <span style=\"color: blue\">Iran<\/span>, has experienced the largest fall of <span style=\"color: red\">8.29<\/span> points in relation to it's score from 2019.<\/h1>","3cc2d6a3":"## **Freedom of press across the world**","4fb28466":"![](https:\/\/www.oneearthfuture.org\/sites\/default\/files\/world_country_flags.jpg)","59b2a556":"![](https:\/\/www.azquotes.com\/picture-quotes\/quote-freedom-of-the-press-if-it-means-anything-at-all-means-the-freedom-to-criticize-and-george-orwell-38-15-15.jpg)","30630d8d":"#### **Africa**","17c6534f":"### **The most and the least free countries per government type**","8105624a":"<h1>Table of Contents<span class=\"tocSkip\"><\/span><\/h1>\n<div class=\"toc\"><ul class=\"toc-item\"><li><span><a href=\"#Introduction\" data-toc-modified-id=\"Introduction-1\"><span class=\"toc-item-num\">1&nbsp;&nbsp;<\/span>Introduction<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Objectives\" data-toc-modified-id=\"Objectives-1.1\"><span class=\"toc-item-num\">1.1&nbsp;&nbsp;<\/span>Objectives<\/a><\/span><\/li><li><span><a href=\"#World-Press-Freedom-Index\" data-toc-modified-id=\"World-Press-Freedom-Index-1.2\"><span class=\"toc-item-num\">1.2&nbsp;&nbsp;<\/span>World Press Freedom Index<\/a><\/span><\/li><li><span><a href=\"#REIGN\" data-toc-modified-id=\"REIGN-1.3\"><span class=\"toc-item-num\">1.3&nbsp;&nbsp;<\/span>REIGN<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Imports\" data-toc-modified-id=\"Imports-2\"><span class=\"toc-item-num\">2&nbsp;&nbsp;<\/span>Imports<\/a><\/span><\/li><li><span><a href=\"#Data-loading-and-processing\" data-toc-modified-id=\"Data-loading-and-processing-3\"><span class=\"toc-item-num\">3&nbsp;&nbsp;<\/span>Data loading and processing<\/a><\/span><\/li><li><span><a href=\"#Freedom-of-press-across-the-world\" data-toc-modified-id=\"Freedom-of-press-across-the-world-4\"><span class=\"toc-item-num\">4&nbsp;&nbsp;<\/span>Freedom of press across the world<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Freedom-of-press-by-continent\" data-toc-modified-id=\"Freedom-of-press-by-continent-4.1\"><span class=\"toc-item-num\">4.1&nbsp;&nbsp;<\/span>Freedom of press by continent<\/a><\/span><\/li><li><span><a href=\"#Change-across-the-years\" data-toc-modified-id=\"Change-across-the-years-4.2\"><span class=\"toc-item-num\">4.2&nbsp;&nbsp;<\/span>Change across the years<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Government-forms-and-freedom-of-press\" data-toc-modified-id=\"Government-forms-and-freedom-of-press-5\"><span class=\"toc-item-num\">5&nbsp;&nbsp;<\/span>Government forms and freedom of press<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Governments-of-the-world\" data-toc-modified-id=\"Governments-of-the-world-5.1\"><span class=\"toc-item-num\">5.1&nbsp;&nbsp;<\/span>Governments of the world<\/a><\/span><\/li><li><span><a href=\"#The-most-and-the-least-free-countries-per-government-type\" data-toc-modified-id=\"The-most-and-the-least-free-countries-per-government-type-5.2\"><span class=\"toc-item-num\">5.2&nbsp;&nbsp;<\/span>The most and the least free countries per government type<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Summary\" data-toc-modified-id=\"Summary-6\"><span class=\"toc-item-num\">6&nbsp;&nbsp;<\/span>Summary<\/a><\/span><\/li><\/ul><\/div>","47bbe95f":"![](https:\/\/rsf.org\/sites\/default\/files\/styles\/rsf_full\/public\/visuel_rsfindex_2021_cp_0.png?itok=1l526eUL&timestamp=1618819976)","4e9d5d90":"**The complete processed DataFrame consists of these columns**:\n- **Country Name**\n- **Abuse Score 2021** - The Abuse Score is a measure of severity of abuse that journalists face in a given country. This includes aggression, murders and imprisonments. This score ranges from 0 to 100 - 0 being the best and 100 being the worst possible.\n- **Underlying Situation Score 2021** - The Underlying Situation Score is a measure of a given country's performance when it comes to media pluralism, independence and respect for the safety and freedom of journalists. This score ranges from 0 to 100 - 0 being the best and 100 being the worst possible.\n- **Global Score 2021** - It is the final score assigned to each country researched by RSF. It's a combination of the Abuse and Underlying Situation Scores. This score ranges from 0 to 100 - 0 being the best and 100 being the worst possible.\n- **Global Score 2020**\n- **Global Score 2019**\n- **alpha_2** - ISO 3166-1 alpha-2 country code\n- **alpha_3** - ISO 3166-1 alpha-3 country code\n- **leader** - Country's current de-facto leader\n- **government** - Country's current government form as defined by the REIGN dataset\n- **gov_democracy** - Is the country's government democratic or non-democratic?\n- **Continent_Name**\n- **Change** - Change in Global Score between 2019 and 2021\n\nFor more information on how Abuse, Underlying Situation and Global Scores are calculated, please visit [RSF's official webiste](https:\/\/rsf.org\/en\/detailed-methodology)","5c8fc07e":"**Freedom of the press** is the principle that communication and expression through various media, including printed and electronic media, especially published materials, should be considered a right to be exercised freely. - [Wikipedia](https:\/\/en.wikipedia.org\/wiki\/Freedom_of_the_press)\n\n","f57997b1":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Europe's average Global Score is <span style=\"color: orange\">25.26<\/span>.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Central Europe and Scandinavia performs significantly better.<\/h1>","9a43ab27":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> While the <span style=\"color: #91ff00\">Foreign\/Occupied<\/span> government type has the best average score going by sheer numbers, in reality it's only present in 2 countries.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"> Therefore, I would argue that the government type that tends to encourage politicians to preserve people's right to freedom of press the most AND has a high real-world presence is <span style=\"color: #4fb0ff\">Parliamentary Democracy<\/span>.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Similarily, we could consider the government type of <span style=\"color: #3d9c6b\">Party-Personal<\/span> dictatorship as the worst of the prolific non-democratic regimes, being present in countries such as <span style=\"color: blue\">Turkey<\/span> and  <span style=\"color: blue\">North Korea<\/span>. <\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\"><span style=\"color: blue\">Democratic<\/span> government types tend to generally perform much better than <span style=\"color: red\">Non-democratic<\/span> ones. The average score difference between them is over 20 points! <\/h1>","fb89963c":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">\"<span style=\"color: #006eff\">Everyone has the right to freedom of opinion and expression<\/span>; this right includes freedom to hold opinions without interference, and to seek, receive, and impart information and ideas through any media regardless of frontiers\"<\/h1>\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:right; font-weight: 400;\">- <a href=\"https:\/\/www.un.org\/en\/about-us\/universal-declaration-of-human-rights\/\">Universal Declaration of Human Rights<\/a> <\/h1>","a4616f87":"## **Imports**","dfcb0a44":"## **Summary**","7638c018":"### **Freedom of press by continent**","5ee6a8f8":"#### **North America**","da196d74":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">The average value of Global Score in the year 2021 is <span style=\"color: orange\">34.83<\/span>.<\/h1>","8ad1f26a":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Asia's average Global Score is <span style=\"color: red\">45.64<\/span>.<\/h1>\n\n<h1 style=\"color:#ff1100;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">This is the worst average score among all the continents.<\/h1>","7f5d168e":"#### **Oceania**","597c7be3":"<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">North America's average Global Score is <span style=\"color: orange\">28.88<\/span>.<\/h1>\n\n<h1 style=\"color:black;background-color:white;font-family: Helvetica, sans-serif; font-size:150%;text-align:center; font-weight: 500;\">Notably, <span style=\"color: blue\">Cuba<\/span> - a country historically influenced by the USSR and currently a dictatorship - has a very alarming score of <span style=\"color: red\">63.94<\/span>.<\/h1>"}}