{"cell_type":{"a6069126":"code","e309c253":"code","69ee841c":"code","b3e36a60":"code","a7ac7ce6":"code","0a95ae46":"code","9e8fa51f":"code","e7070262":"code","d2b91e11":"code","4ad5072d":"code","e899317d":"code","04dc7e01":"code","58568e2a":"code","e0188c38":"code","3f06e48f":"code","597d1be8":"code","ec86d359":"code","9ba694be":"code","ed81b8aa":"code","a9835fda":"code","42eb9eaa":"code","8fa2227f":"code","a0de9a79":"code","86fb7679":"code","f6e74794":"code","3dd3e493":"code","2e4376f1":"code","77c6e5b3":"code","605d4eaa":"code","ce1beb83":"code","ad954f4d":"code","6afa8b55":"markdown","65b1ea39":"markdown"},"source":{"a6069126":"# imports\nimport pandas as pd\nimport numpy as np \nimport plotly.express as px\nimport geopandas as gpd\n\npd.options.display.max_rows = 3000\n","e309c253":"# read the csv file\n\ndf = pd.read_csv('..\/input\/blood-bank-directory-india\/blood-banks.csv',encoding = 'cp1252')","69ee841c":"df.head()","b3e36a60":"df.info()","a7ac7ce6":"df.shape","0a95ae46":"df.isna().sum()","9e8fa51f":"type(df)","e7070262":"df.columns","d2b91e11":"print(df.columns.tolist())","4ad5072d":"# To remove white spaces from column names\ndf.columns = df.columns.str.strip()\ndf.columns.tolist()","e899317d":"df.isna().sum()","04dc7e01":"df.columns","58568e2a":"df['Qualification Nodal Officer'].value_counts()","e0188c38":"df['Category'].value_counts()","3f06e48f":"df['State'].value_counts()","597d1be8":"df['District'].value_counts()","ec86d359":"df['City'].value_counts()","9ba694be":"df['Service Time'].value_counts()","ed81b8aa":"df['Apheresis'].value_counts()","a9835fda":"df['Helpline'].value_counts()","42eb9eaa":"#https:\/\/stackoverflow.com\/questions\/21606987\/how-can-i-strip-the-whitespace-from-pandas-dataframe-headers","8fa2227f":"df['Blood Bank Name']","a0de9a79":"df1 = pd.DataFrame(columns=['Blood Bank Name','Latitude','Longitude'])","86fb7679":"df1['Blood Bank Name'] = df['Blood Bank Name']\ndf1['Latitude'] = df['Latitude']\ndf1['Longitude'] = df['Longitude']","f6e74794":"df1","3dd3e493":"df2 = df.copy()","2e4376f1":"## plt","77c6e5b3":"# need to make use of token from mapbox\n\n# Step1 : Create an access token - > https:\/\/account.mapbox.com\/\n# Step 2 : Add the token to the notebook by  Add-ons - > Notebook\n# more info on how to add token to notebook -> https:\/\/www.kaggle.com\/product-feedback\/114053\n\nfrom kaggle_secrets import UserSecretsClient\nuser_secrets = UserSecretsClient()\nsecret_value_0 = user_secrets.get_secret(\"mapboxtoken\")\n\n","605d4eaa":"\n\n#geo_df = gpd.read_file(gpd.datasets.get_path('naturalearth_cities'))\n\npx.set_mapbox_access_token = secret_value_0\n\nfig = px.scatter_geo(df2,\n                    lat=df2['Latitude'],\n                    lon=df2['Longitude'],\n                    hover_name=[])\nfig.show()\n\n#https:\/\/plotly.com\/python\/scattermapbox\/","ce1beb83":"# hover address\nimport plotly.express as px\nimport geopandas as gpd\n\n#geo_df = gpd.read_file(gpd.datasets.get_path('naturalearth_cities'))\n\npx.set_mapbox_access_token = secret_value_0\n\nfig = px.scatter_geo(df2,\n                    lat=df2['Latitude'],\n                    lon=df2['Longitude'],\n                    hover_name=\"Address\")\nfig.show()\n\n#https:\/\/plotly.com\/python\/scattermapbox\/","ad954f4d":"import plotly.express as px\npx.set_mapbox_access_token = secret_value_0\ndf = px.data.carshare()\nfig = px.scatter_mapbox(df, lat=\"centroid_lat\", lon=\"centroid_lon\",     color=\"peak_hour\", size=\"car_hours\",\n                  color_continuous_scale=px.colors.cyclical.IceFire, size_max=15, zoom=10)\nfig.show()","6afa8b55":"### Work In Progress ... ","65b1ea39":"Our data has lots of missing values and now that we have an overview of what our data has, lets take a look at how we can gain insights from it.\n\n- To plot the blood banks on India Map\n- What is the Qualification Nodal Officer?\n- To get blood banks based on category - Government\/ Charity \n- To see how many blood banks each state has\n- To see how many blood banks each city has\n- In how many blood banks  Apheresis is available\n\n"}}