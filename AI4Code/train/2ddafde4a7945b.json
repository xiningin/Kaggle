{"cell_type":{"33c996d2":"code","52cb4f09":"code","af7ab546":"code","bc9089f1":"code","ec53d242":"code","f0c7682e":"code","aeb49b7c":"code","f55ceb60":"code","71132725":"code","a79c5fef":"code","32968526":"code","ffbe5e99":"code","eb6eee77":"code","fd37b24c":"code","5b6c0eb8":"code","d113428f":"code","a2c0af1d":"code","1b4ba55e":"code","b0067bc5":"code","ae2dfb1b":"code","9e841be2":"code","6f825a07":"code","732f7a4e":"code","231e5e3b":"code","5139cc6a":"code","e8779a91":"code","c3949249":"code","8acde4f5":"code","b9680458":"code","8cad4158":"code","473434bf":"code","0f9d7fa5":"code","e905b0e2":"code","82218709":"code","071c8540":"code","324bcb93":"code","e2e3b750":"code","6730cefa":"code","8bbcf636":"code","d808412f":"code","ea5dbe5b":"markdown","0db21a33":"markdown","6454b640":"markdown","241cfb69":"markdown","62d49b04":"markdown","c7c0f1a7":"markdown","7184a0e8":"markdown","92534183":"markdown","0ea5727e":"markdown"},"source":{"33c996d2":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","52cb4f09":"df=pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_train.csv',header=0)\ndf.head()","af7ab546":"df.info()","bc9089f1":"test=df.dropna()\ntest.info()","ec53d242":"test.groupby('city')['enrollee_id'].count().sort_values(ascending=False)[0:10].plot(kind='bar',figsize=(25,10))","f0c7682e":"test[test['target']==1.0].groupby('city')['enrollee_id'].count().sort_values(ascending=False)[0:10].plot(kind='bar',figsize=(25,15))","aeb49b7c":"test.groupby('education_level')['enrollee_id'].count().plot(kind='pie',figsize=(20,15))","f55ceb60":"test.groupby(['education_level','major_discipline'])['enrollee_id'].count().plot(kind='pie',figsize=(25,25))","71132725":"test.groupby('relevent_experience')['enrollee_id'].count().plot(kind='bar',figsize=(10,10))","a79c5fef":"test[test['target']==1.0].groupby('relevent_experience')['enrollee_id'].count().plot(kind='bar',figsize=(10,10))","32968526":"test[test['target']==1.0].groupby('company_size')['enrollee_id'].count().sort_values(ascending=False).plot(kind='bar',figsize=(15,15))","ffbe5e99":"test[test['target']==1.0].groupby('company_type')['enrollee_id'].count().plot(kind='pie',figsize=(15,15))","eb6eee77":"test.groupby(['company_type','target'])['enrollee_id'].count().plot(kind='bar',figsize=(15,15))","fd37b24c":"test=pd.get_dummies(test,columns=['gender','relevent_experience','enrolled_university','education_level','major_discipline','experience','company_size','company_type','last_new_job'],prefix=['gender','relevent_experience','enrolled_university','education_level','major_discipline','experience','company_size','company_type','last_new_job'])\n#test.info()","5b6c0eb8":"#list(test.columns)","d113428f":"a=['gender_Female', 'gender_Male', 'gender_Other',\n       'relevent_experience_Has relevent experience',\n       'relevent_experience_No relevent experience',\n       'enrolled_university_Full time course',\n       'enrolled_university_Part time course',\n       'enrolled_university_no_enrollment', 'education_level_Graduate',\n       'education_level_Masters', 'education_level_Phd',\n       'major_discipline_Arts', 'major_discipline_Business Degree',\n       'major_discipline_Humanities', 'major_discipline_No Major',\n       'major_discipline_Other', 'major_discipline_STEM', 'experience_1',\n       'experience_10', 'experience_11', 'experience_12', 'experience_13',\n       'experience_14', 'experience_15', 'experience_16', 'experience_17',\n       'experience_18', 'experience_19', 'experience_2', 'experience_20',\n       'experience_3', 'experience_4', 'experience_5', 'experience_6',\n       'experience_7', 'experience_8', 'experience_9', 'experience_<1',\n       'experience_>20', 'company_size_10\/49', 'company_size_100-500',\n       'company_size_1000-4999', 'company_size_10000+', 'company_size_50-99',\n       'company_size_500-999', 'company_size_5000-9999', 'company_size_<10',\n       'company_type_Early Stage Startup', 'company_type_Funded Startup',\n       'company_type_NGO', 'company_type_Other', 'company_type_Public Sector',\n       'company_type_Pvt Ltd', 'last_new_job_1', 'last_new_job_2',\n       'last_new_job_3', 'last_new_job_4', 'last_new_job_>4',\n       'last_new_job_never']","a2c0af1d":"b={}\nfor i in a:\n    b[i]=bool\n#b    ","1b4ba55e":"test=test.astype(b)\n\ntest.info()","b0067bc5":"#list(test.columns)","ae2dfb1b":"to_be_used=['city_development_index', 'training_hours','gender_Female', 'gender_Male', 'gender_Other',\n       'relevent_experience_Has relevent experience',\n       'relevent_experience_No relevent experience',\n       'enrolled_university_Full time course',\n       'enrolled_university_Part time course',\n       'enrolled_university_no_enrollment', 'education_level_Graduate',\n       'education_level_Masters', 'education_level_Phd',\n       'major_discipline_Arts', 'major_discipline_Business Degree',\n       'major_discipline_Humanities', 'major_discipline_No Major',\n       'major_discipline_Other', 'major_discipline_STEM', 'experience_1',\n       'experience_10', 'experience_11', 'experience_12', 'experience_13',\n       'experience_14', 'experience_15', 'experience_16', 'experience_17',\n       'experience_18', 'experience_19', 'experience_2', 'experience_20',\n       'experience_3', 'experience_4', 'experience_5', 'experience_6',\n       'experience_7', 'experience_8', 'experience_9', 'experience_<1',\n       'experience_>20', 'company_size_10\/49', 'company_size_100-500',\n       'company_size_1000-4999', 'company_size_10000+', 'company_size_50-99',\n       'company_size_500-999', 'company_size_5000-9999', 'company_size_<10',\n       'company_type_Early Stage Startup', 'company_type_Funded Startup',\n       'company_type_NGO', 'company_type_Other', 'company_type_Public Sector',\n       'company_type_Pvt Ltd', 'last_new_job_1', 'last_new_job_2',\n       'last_new_job_3', 'last_new_job_4', 'last_new_job_>4',\n       'last_new_job_never']\n\nl={}\n\nfor i in to_be_used:\n    if abs(test['target'].corr(test[i])>=0.025):\n        l[i]=test['target'].corr(test[i])\n\nl","9e841be2":"test_updated=test[list(l.keys())]\n\n#to_be_used_updated=list(l.keys())","6f825a07":"Y=np.asarray(test['target'])\ntest_updated=np.asarray(test_updated)","732f7a4e":"from sklearn.model_selection import train_test_split\n\nX_train, X_dev, Y_train, Y_dev = train_test_split( test_updated, Y, test_size=0.1, random_state=4)","231e5e3b":"import tensorflow as tf\nfrom tensorflow import keras\nfrom tensorflow import constant, float32\nfrom tensorflow.keras import layers\nfrom tensorflow.keras.layers import Dense\nfrom tensorflow.keras.models import Sequential\n","5139cc6a":"# Creating an instance of the Sequential model\nmodel=Sequential()\n\n# adding layers to the model\n\nmodel.add(Dense(16,activation='sigmoid',input_dim=15))\nmodel.add(Dense(16,activation='sigmoid'))\nmodel.add(Dense(8,activation='sigmoid'))\nmodel.add(Dense(1,activation='sigmoid'))\n\n# Lets add optimization function and compile the model\n\nmodel.compile(optimizer='adam',loss=keras.losses.BinaryCrossentropy(),metrics=['accuracy'])\n","e8779a91":"model.summary()","c3949249":"history=model.fit(X_train,Y_train,epochs=50)","8acde4f5":"model.evaluate(X_dev,Y_dev)","b9680458":"test_df=pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_test.csv',header=0)\ntest_df.head()","8cad4158":"test_df=pd.get_dummies(test_df,columns=['gender','relevent_experience','enrolled_university','education_level','major_discipline','experience','company_size','company_type','last_new_job'],prefix=['gender','relevent_experience','enrolled_university','education_level','major_discipline','experience','company_size','company_type','last_new_job'])\ntest_df.info()","473434bf":"test_df=test_df.astype(b)\ntest_df.info()","0f9d7fa5":"enrollee_id=test_df['enrollee_id']\ntest_df.drop('enrollee_id',axis=1,inplace=True)\n\ntest_df.head()","e905b0e2":"test_df.drop('city',axis=1,inplace=True)","82218709":"test_df=test_df[l.keys()]\ntest_df.head()","071c8540":"test_df_values=np.asarray(test_df)","324bcb93":"predictions=model.predict(test_df_values)","e2e3b750":"predictions=list(predictions)","6730cefa":"submission=pd.DataFrame({'enrollee_id':enrollee_id,'target':predictions})","8bbcf636":"submission.head()","d808412f":"submission[submission['target']>0.5]","ea5dbe5b":"**Top cities based on dropout**","0db21a33":"**Dropout split based on Relevant experience**","6454b640":"**Dropout analysis based on company type**","241cfb69":"**Lets load the test set and validate the performance of our model on it**","62d49b04":"**Split of Enrollees based on their discipline**","c7c0f1a7":"**Top cities based on the number of participants**","7184a0e8":"**Split based on the qualification**","92534183":"**Relevant experience vs No relevant experience**","0ea5727e":"**Dropout analysis based on company size**"}}