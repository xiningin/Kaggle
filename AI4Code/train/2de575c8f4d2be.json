{"cell_type":{"a60f1e1f":"code","1191016c":"code","35cd2ea8":"code","8ea38185":"code","d1dc2cee":"code","9972670b":"code","00d31ed7":"code","e9ace807":"code","0555c441":"code","babde42d":"code","ea403717":"code","24cae3df":"code","795b0daa":"code","9ce7d166":"code","6ef84128":"code","d80afc40":"code","b77eca9c":"code","fdd974ec":"code","4fbf5e08":"code","b80b5d65":"code","c0203fa3":"code","36398b1b":"code","a7f1d2c3":"code","ab174e42":"code","09eb0bcf":"code","be109d8c":"code","e258967d":"code","a8c34ff1":"code","50398042":"code","1c017638":"code","55e7d4ca":"code","cd319bca":"code","fd8855fd":"code","3c543520":"code","eace6155":"code","abf7b938":"code","054f9b47":"code","0eca3162":"code","fcd33409":"code","2f1f6d94":"code","b3a9d6df":"code","779f539c":"code","fd1bf1d6":"code","c70fb249":"code","a56849fe":"code","71d5fd3a":"code","b9e18418":"code","8ce1d81c":"code","aa024bc1":"code","33f1f83c":"code","633d1fee":"code","a6635541":"code","620f44c3":"code","a06149e0":"code","7c0b1d55":"code","c7bb347c":"code","222f4b0e":"code","53204c60":"code","87aced61":"code","4d6debe5":"code","9427e547":"code","aa812601":"code","629a2e24":"code","5a36a7a9":"code","e6ee1d9f":"code","3c89f825":"code","8e90e9a6":"code","35819ce9":"code","4775a4d6":"code","b05462ae":"code","cf1f0643":"code","c028f80a":"code","26d29640":"code","f0084a22":"code","fdad3b89":"code","e8cd0966":"code","9c5d56ac":"code","8187a118":"code","b89d40c5":"code","23cfe493":"code","4eff70e3":"code","4447abed":"code","ed590f69":"code","07e7edda":"code","275cd8e0":"code","14343549":"code","908fceed":"code","d38e245a":"code","acda1685":"code","3b2321ea":"code","014f21fc":"code","4662fd21":"code","e6154faa":"code","427b6d28":"code","d85fd12a":"code","420441c6":"code","25ee32e5":"code","f3faf6dc":"code","70d8ebf5":"code","a56d64f8":"code","b423d867":"code","7180cfc1":"code","2ccd5978":"code","f7dafa56":"code","32f1ef11":"code","e6cb9e32":"code","7aca8e1f":"code","7b21eb80":"code","268142d3":"code","8db9465c":"code","ebc98d61":"code","1449cdfd":"code","25af59e0":"markdown","b4287536":"markdown","72cd9dcf":"markdown","497b08dc":"markdown","0548ea57":"markdown","affb23fc":"markdown","02039d6b":"markdown","82f39d27":"markdown","3988670c":"markdown","8e1260df":"markdown","b522e0fa":"markdown","209409b2":"markdown","5ecc1922":"markdown","27ac0ecd":"markdown","6ec088f8":"markdown","54d7b3a8":"markdown","3a5a3b33":"markdown","8040a5bd":"markdown","178c200a":"markdown","639ef3e0":"markdown","f9e1d166":"markdown","90c7a335":"markdown","fdcf49d3":"markdown","30e9c8fb":"markdown","619cf824":"markdown","af6ca0fb":"markdown","a1f849cb":"markdown","12ab59ab":"markdown","4855c708":"markdown","b2689cae":"markdown","09c7dd6a":"markdown","8135a78b":"markdown","49b9ee16":"markdown","52b12b69":"markdown","2c159b50":"markdown","23213e0b":"markdown","db099747":"markdown","0e44abec":"markdown","45a7a6af":"markdown","b4676c85":"markdown","512e8f10":"markdown","a2fdb6e2":"markdown","78501992":"markdown","e975848e":"markdown","a783fe5c":"markdown","660a0cb9":"markdown","94bdbf3c":"markdown"},"source":{"a60f1e1f":"import pandas as pd\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nimport numpy as np\nfrom sklearn.model_selection import train_test_split,GridSearchCV,cross_val_score\nfrom sklearn.metrics import r2_score,mean_squared_error\nfrom sklearn.preprocessing import StandardScaler,LabelEncoder\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.ensemble import GradientBoostingRegressor\nfrom xgboost import XGBRegressor\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","1191016c":"df= pd.read_csv(\"\/kaggle\/input\/car-data\/CarPrice_Assignment.csv\",index_col=0)","35cd2ea8":"df.head()","8ea38185":"df.info()","d1dc2cee":"objects= df.select_dtypes(include=\"object\").columns","9972670b":"df[objects]= df.select_dtypes(include=\"object\").astype(\"category\")","00d31ed7":"df.info()","e9ace807":"df[\"CarName\"].value_counts()","0555c441":"df[\"carbrands\"]= df[\"CarName\"].apply(lambda x: x.split()[0])","babde42d":"df.head()","ea403717":"df[\"carbrands\"].value_counts()","24cae3df":"df[\"carbrands\"]= df[\"carbrands\"].str.lower()","795b0daa":"def replace_brands(old,new):\n    df.carbrands.replace(old,new,inplace=True)\nreplace_brands(\"maxda\",\"mazda\")\nreplace_brands(\"vw\",\"volkswagen\")\nreplace_brands(\"vokswagen\",\"volkswagen\")\nreplace_brands(\"porcshce\",\"porsche\")\nreplace_brands(\"toyouta\",\"toyota\")","9ce7d166":"df[\"carbrands\"].unique()","6ef84128":"carmodels= df[\"CarName\"].apply(lambda x: x.split())","d80afc40":"carmodels","b77eca9c":"carmodelsnew=[]","fdd974ec":"lengths=[]\nfor i in carmodels:\n    lengths.append(len(i))","4fbf5e08":"np.array(lengths).max()","b80b5d65":"for i in carmodels:\n    if len(i)==1:\n        carmodelsnew.append(np.nan)\n    elif len(i)==2:\n        carmodelsnew.append(i[1])\n    elif len(i)==3: \n        carmodelsnew.append(i[1]+i[2])\n    elif len(i)==4:\n        carmodelsnew.append(i[1]+i[2]+i[3])\n    elif len(i)==5:\n        carmodelsnew.append(i[1]+i[2]+i[3]+i[4])","c0203fa3":"len(carmodelsnew)","36398b1b":"df[\"carmodels\"]= carmodelsnew","a7f1d2c3":"df.head()","ab174e42":"df.drop(\"CarName\",axis=1,inplace=True)","09eb0bcf":"df[\"carmodels\"].unique()","be109d8c":"cylindernum= {\"eight\":8,\n              \"five\":5,\n              \"six\":6,\n              \"three\":3,\n              \"twelve\":12,\n              \"two\":2,\n              \"four\":4}\ndf[\"cylindernumber\"].replace(cylindernum,inplace=True)","e258967d":"doornum={\"four\":4,\n         \"two\":2}\ndf[\"doornumber\"].replace(doornum,inplace=True)","a8c34ff1":"df.info()","50398042":"df[\"carvolume\"]=df[\"carlength\"]*df[\"carwidth\"]*df[\"carheight\"]","1c017638":"df.groupby(\"carbody\")[[\"carvolume\",\"carlength\",\"carwidth\",\"carheight\"]].mean()","55e7d4ca":"carsizes=[\"carvolume\",\"carlength\",\"carwidth\",\"carheight\"]\nplt.figure(figsize=(10,10),facecolor=\"goldenrod\")\na=1\nfor i in carsizes:\n    value=df[i]\n    plt.subplot(2,2,a)\n    sns.kdeplot(value,color=\"orangered\",shade=True)\n    a=a+1\n    if a==5:\n        a=1","cd319bca":"df.corr()[\"carlength\"].sort_values()","fd8855fd":"df.corr()[\"carwidth\"].sort_values()","3c543520":"df.corr()[\"carheight\"].sort_values()","eace6155":"df.corr()[\"carvolume\"].sort_values()","abf7b938":"df.drop([\"carlength\",\"carwidth\",\"carheight\",\"wheelbase\"],axis=1,inplace=True)","054f9b47":"df.groupby(\"fueltype\")[[\"compressionratio\",\"symboling\"]].mean()","0eca3162":"plt.figure(figsize=(5,5),facecolor=\"greenyellow\")\nplt.subplot(1,1,1)\nsns.barplot(x=\"carbody\",y=\"cylindernumber\",data=df);\nsns.lineplot(x=df[\"carbody\"],y=df[\"enginesize\"]\/10,color=\"purple\");\nsns.lineplot(x=df[\"carbody\"],y=df[\"price\"]\/1000,color=\"red\");","fcd33409":"df.drop([\"cylindernumber\",\"boreratio\",\"stroke\"],axis=1,inplace=True)","2f1f6d94":"df.head()","b3a9d6df":"plt.figure(figsize=(20,20),facecolor=\"pink\")\nplt.subplot(1,1,1)\nsns.barplot(x=\"carbrands\",y=\"price\",hue=\"carbody\",data=df);\nplt.plot(df[\"carbrands\"],df[\"price\"],marker=\"o\",linestyle=\"--\",color=\"purple\");\nplt.title(\"Price comparison by brands\",fontsize=20);","779f539c":"plt.figure(figsize=(7,7),facecolor=\"yellow\")\nsns.heatmap(df.corr(),annot=True,fmt=\".001g\",linewidths=5,linecolor=\"yellow\");","fd1bf1d6":"plt.figure(figsize=(20,20),facecolor=\"white\")\nplt.subplot(1,1,1)\nsns.barplot(x=\"carbrands\",y=\"citympg\",data=df);\nplt.plot(df[\"carbrands\"],df[\"highwaympg\"],marker=\"*\",linestyle=\"-.\",color=\"red\");\nplt.title(\"The amount of fuel used by cars.\",fontsize=20);","c70fb249":"plt.figure(figsize=(10,10),facecolor=\"orange\")\nplt.subplot(1,2,1)\nsns.barplot(x=df[\"fueltype\"],y=df[\"compressionratio\"],hue=df[\"aspiration\"],color=\"red\");\nplt.subplot(1,2,2)\nsns.barplot(x=df[\"fueltype\"],y=df[\"compressionratio\"],hue=df[\"carbody\"],color=\"blue\");","a56849fe":"plt.figure(figsize=(5,5),facecolor=\"orange\")\nplt.subplot(1,1,1)\nsns.barplot(x=df[\"fueltype\"],y=df[\"compressionratio\"],hue=df[\"fuelsystem\"],color=\"green\")\nsns.barplot(x=df[\"fueltype\"],y=df[\"symboling\"],color=\"red\");","71d5fd3a":"plt.figure(figsize=(15,15),facecolor=\"orange\")\nplt.subplot(1,1,1)\nsns.barplot(x=df[\"carbrands\"],y=df[\"price\"],hue=df[\"fueltype\"],color=\"green\")\nplt.plot(df[\"carbrands\"],df[\"citympg\"]*100,linestyle=\"-.\",marker=\"*\",color=\"red\")\nplt.plot(df[\"carbrands\"],df[\"highwaympg\"]*100,linestyle=\"--\",marker=\"o\",color=\"blue\")\nplt.fill_between(df[\"carbrands\"],df[\"highwaympg\"]*100,color=\"yellow\");","b9e18418":"plt.figure(figsize=(15,15),facecolor=\"orange\")\nplt.subplot(1,1,1)\nsns.barplot(x=df[\"carbrands\"],y=df[\"price\"],color=\"green\")\nsns.lineplot(x=df[\"carbrands\"],y=df[\"horsepower\"]*100,color=\"red\")\nplt.title(\"Price and horsepower chart by car brands\",fontsize=15);","8ce1d81c":"plt.figure(figsize=(7,7),facecolor=\"pink\")\nplt.plot(df[\"price\"].index,df[\"price\"],linestyle=\"--\",marker=\".\",color=\"red\")\nplt.plot(df[\"price\"].index,df[\"horsepower\"]*100,linestyle=\"-\",marker=\".\",color=\"green\");\nplt.xlabel(\"Index\")\nplt.ylabel(\"Values\")\nplt.title(\"Price and Horsepower\")\nplt.legend([\"Price\",\"Horsepower\"],loc=\"best\");","aa024bc1":"plt.figure(figsize=(7,7),facecolor=\"white\")\nplt.plot(df[\"enginesize\"].index,df[\"enginesize\"],linestyle=\"-.\",marker=\".\",color=\"red\")\nplt.plot(df[\"enginesize\"].index,df[\"horsepower\"],linestyle=\"-\",marker=\".\",color=\"blue\");\nplt.xlabel(\"Index\")\nplt.ylabel(\"Values\")\nplt.title(\"Enginesize and Horsepower\");\nplt.legend([\"Enginesize\",\"Horsepower\"],loc=\"best\");","33f1f83c":"plt.figure(figsize=(7,7),facecolor=\"slateblue\")\nplt.subplot(1,1,1)\nsns.barplot(x=\"carbody\",y=\"curbweight\",hue=\"enginelocation\",data=df);","633d1fee":"plt.figure(figsize=(7,7),facecolor=\"mediumspringgreen\")\nplt.subplot(1,1,1)\nsns.barplot(x=\"enginetype\",y=\"enginesize\",hue=\"drivewheel\",data=df);","a6635541":"df_num= df.select_dtypes(include=[\"int64\",\"float64\"])","620f44c3":"plt.figure(figsize=(15,15),facecolor=\"mediumspringgreen\")\na=1\nfor i in df_num:\n    value=df[i]\n    plt.subplot(2,6,a)\n    sns.boxplot(value,color=\"red\");\n    a=a+1\n    if a==12:\n        a=1","a06149e0":"plt.figure(figsize=(10,10))\nsns.scatterplot(x=df[\"price\"].index,y=df[\"price\"],hue=df[\"carbrands\"],style=df[\"carbody\"])\nplt.plot(df[\"horsepower\"].index,df[\"horsepower\"]*100,linestyle=\"--\",marker=\".\",color=\"yellow\");","7c0b1d55":"lower_quarter=[]\nupper_quarter=[]\n\nlower_thresholds=[]\nupper_thresholds=[]\n\nlower_values=[]\nupper_values=[]\n\npercent=[]\n\nfor i in df_num: \n    value= df_num[i]\n    Q1= value.quantile(0.25)\n    Q3= value.quantile(0.75)\n    lower_quarter.append(Q1)\n    upper_quarter.append(Q3)\n\n    IQR= Q3-Q1\n    lower_threshold= Q1-(1.5*IQR)\n    upper_threshold= Q3+(1.5*IQR)\n    lower_thresholds.append(lower_threshold)\n    upper_thresholds.append(upper_threshold)\n    \n    lower_value= value[value<lower_threshold] \n    upper_value= value[value>upper_threshold]\n    lower_values.append(len(lower_value))\n    upper_values.append(len(upper_value))\n    \n    percent.append(((len(lower_value)+len(upper_value))\/len(value))*100)\n    \n    lower_index= value[value<lower_threshold].index\n    upper_index= value[value>upper_threshold].index\n    df[i].loc[lower_index]= lower_threshold\n    df[i].loc[upper_index]= upper_threshold","c7bb347c":"values=df_num.columns\nvalues= pd.DataFrame(values)","222f4b0e":"lower_quarter= pd.DataFrame(lower_quarter)\nupper_quarter= pd.DataFrame(upper_quarter)\nlower_thresholds= pd.DataFrame(lower_thresholds)\nupper_thresholds= pd.DataFrame(upper_thresholds)\nlower_value= pd.DataFrame(lower_values)\nupper_value= pd.DataFrame(upper_values)\npercent=pd.DataFrame(percent)","53204c60":"handle_outliers= pd.concat([values,lower_quarter,upper_quarter,lower_thresholds,upper_thresholds,lower_value,upper_value,percent],axis=1)","87aced61":"handle_outliers.columns=[\"Value\",\"Lower Quarter (Q1)\",\"Upper Quarter (Q3)\",\"Lower Threshold\",\"Upper Threshold\",\"Number of lower outliers\",\"Number of upper outliers\",\n                        \"Percentage of outlier\"]\nhandle_outliers[\"Total number of outliers\"]= handle_outliers[\"Number of lower outliers\"]+handle_outliers[\"Number of upper outliers\"]","4d6debe5":"handle_outliers","9427e547":"df_num_new= df.select_dtypes(include=[\"int64\",\"float64\"])\nplt.figure(figsize=(15,15),facecolor=\"yellow\")\na=1\nfor i in df_num_new:\n    value=df[i]\n    plt.subplot(2,6,a)\n    sns.boxplot(value,color=\"purple\");\n    a=a+1\n    if a==12:\n        a=1","aa812601":"df.isnull().sum()","629a2e24":"df[df[\"carmodels\"].isnull()==True]","5a36a7a9":"index_miss= df[df[\"carmodels\"].isnull()==True].index","e6ee1d9f":"df[\"carmodels\"].fillna(df[\"carmodels\"].mode()[0],inplace=True)","3c89f825":"df.isnull().sum()","8e90e9a6":"df.loc[index_miss]","35819ce9":"df[\"fueltype\"].value_counts()","4775a4d6":"df[\"aspiration\"].value_counts()","b05462ae":"df[\"enginelocation\"].value_counts()","cf1f0643":"df[\"fueltype\"]=pd.get_dummies(df[\"fueltype\"],drop_first=True)","c028f80a":"df[\"aspiration\"]=pd.get_dummies(df[\"aspiration\"],drop_first=True)","26d29640":"df[\"enginelocation\"]=pd.get_dummies(df[\"enginelocation\"],drop_first=True)","f0084a22":"df.head()","fdad3b89":"df[\"carbrands\"].value_counts()","e8cd0966":"print(\"Totel number of car brands: \" + str(len(df[\"carbrands\"].value_counts())))","9c5d56ac":"df[\"carmodels\"].unique()","8187a118":"print(\"Totel number of car models: \" + str(len(df[\"carmodels\"].unique())))","b89d40c5":"df[\"carbrands\"].unique()","23cfe493":"plt.figure(figsize=(20,20),facecolor=\"palegreen\")\na=1\nfor i in np.arange(0,len(df[\"carbrands\"].unique())):\n    value=df[\"carbrands\"].unique()[i]\n    plt.subplot(5,5,a)\n    sns.barplot(x= df[df[\"carbrands\"]==value][\"carmodels\"],y=df[\"price\"],color=\"aqua\")\n    sns.lineplot(df[df[\"carbrands\"]==value][\"carmodels\"],df[df[\"carbrands\"]==value][\"horsepower\"]*100,color=\"crimson\")\n    plt.legend([\"Horsepower\"],loc=\"best\",labelcolor=\"crimson\",edgecolor=\"crimson\");\n    a=a+1","4eff70e3":"df[\"carbody\"]=LabelEncoder().fit_transform(df[\"carbody\"])\ndf[\"drivewheel\"]=LabelEncoder().fit_transform(df[\"drivewheel\"])\ndf[\"enginetype\"]=LabelEncoder().fit_transform(df[\"enginetype\"])\ndf[\"fuelsystem\"]=LabelEncoder().fit_transform(df[\"fuelsystem\"])\ndf[\"carbrands\"]= LabelEncoder().fit_transform(df[\"carbrands\"])\ndf[\"carmodels\"]=LabelEncoder().fit_transform(df[\"carmodels\"])","4447abed":"df.head()","ed590f69":"df[\"carmodels\"].value_counts()","07e7edda":"sns.kdeplot(df[\"carmodels\"],shade=True,color=\"green\");","275cd8e0":"X=df.drop(\"price\",axis=1)\ny=df[[\"price\"]]","14343549":"X_train,X_test,y_train,y_test= train_test_split(X,y,train_size=0.75,random_state=42)","908fceed":"X_train.head()","d38e245a":"scale_value= [\"citympg\",\"highwaympg\",\"carvolume\",\"curbweight\",\"enginesize\",\"horsepower\",\"peakrpm\",\"carmodels\"]\nX_train_scaled=X_train.copy()\nX_test_scaled=X_test.copy()\nfor i in scale_value:    \n    X_train_scaled[i]=StandardScaler().fit_transform(np.array(X_train_scaled[i]).reshape(-1,1))\n    X_test_scaled[i]=StandardScaler().fit_transform(np.array(X_test_scaled[i]).reshape(-1,1))","acda1685":"X_train.head()","3b2321ea":"X_train_scaled.head()","014f21fc":"X_train.info()","4662fd21":"X_train.head()","e6154faa":"rf_params_1={\"max_depth\":[5,10,20],\n           \"n_estimators\":[100,500,1000]}","427b6d28":"rf_grid_1= GridSearchCV(RandomForestRegressor(),rf_params_1,cv=10,n_jobs=-1,scoring=\"r2\").fit(X_train,y_train)","d85fd12a":"rf_grid_1.best_params_","420441c6":"rf_params_2={\"min_samples_split\":[2,4,6],\n             \"min_samples_leaf\":[2,4,6]}","25ee32e5":"rf_grid_2= GridSearchCV(RandomForestRegressor(max_depth=10,n_estimators=100),rf_params_2,cv=10,n_jobs=-1,scoring=\"r2\").fit(X_train,y_train)","f3faf6dc":"rf_grid_2.best_params_","70d8ebf5":"rf_tuned= RandomForestRegressor(max_depth=10,n_estimators=100,min_samples_split=4,min_samples_leaf=2,random_state=42).fit(X_train,y_train)","a56d64f8":"y_pred_rf= rf_tuned.predict(X_test)","b423d867":"r2_score(y_test,y_pred_rf)","7180cfc1":"y_pred_rf= pd.DataFrame(y_pred_rf,index=y_test.index)","2ccd5978":"plt.figure(figsize=(7,7),facecolor=\"mediumspringgreen\")\nplt.subplot(1,1,1)\nplt.scatter(x=y_test.index,y=y_pred_rf,color=\"red\")\nplt.plot(y_test.index,y_test)\nplt.legend([\"Real Prices\",\"Predicted Price\"])\nplt.title(\"Random Forest Prediction\");","f7dafa56":"gbm_params={\"learning_rate\": [0.001,0.01,0.1],\n              \"max_depth\":  [5,20,35]}","32f1ef11":"gbm_grid= GridSearchCV(GradientBoostingRegressor(),gbm_params,cv=10,n_jobs=-1,scoring=\"r2\")","e6cb9e32":"gbm_grid.fit(X_train,y_train)","7aca8e1f":"gbm_grid.best_params_","7b21eb80":"gbm_params_1={\"n_estimators\": [100,1000,2000],\n              \"subsample\": [1,0.5,0.75]}\ngbm_grid_1= GridSearchCV(GradientBoostingRegressor(learning_rate=0.1,max_depth=5),gbm_params_1,cv=10,n_jobs=-1,scoring=\"r2\")\ngbm_grid_1.fit(X_train,y_train)\ngbm_grid_1.best_params_","268142d3":"gbm_model= GradientBoostingRegressor(learning_rate=0.01,max_depth=5,n_estimators=1000,subsample=0.5,random_state=42).fit(X_train,y_train)","8db9465c":"y_pred_gbm= gbm_model.predict(X_test)","ebc98d61":"r2_score(y_test,y_pred_gbm)","1449cdfd":"plt.figure(figsize=(7,7),facecolor=\"mediumspringgreen\")\nplt.subplot(1,1,1)\nplt.scatter(x=y_test.index,y=y_pred_gbm,color=\"red\")\nplt.plot(y_test.index,y_test)\nplt.legend([\"Real Prices\",\"Predicted Price\"])\nplt.title(\"Gradient Boosting Machine Prediction\");","25af59e0":"## Label Encoder","b4287536":"##### Although some values are the same, these values seem to be different from each other due to \n##### the incorrect creation of the data set. For example, 100 ls and 100ls mean the same thing.","72cd9dcf":"##### The dataset is sorted by car brands. The data is mixed so that the Cross Validation scoring works well.","497b08dc":"##### When both formulas are examined, there is no harm in deleting the \"boreratio\",\"stroke\",\"cylindernumber\" values.","0548ea57":"<img src=\"https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcSUrnQLFO9PaU9um6MFUwlw6QbQU29XmH9m_Q&usqp=CAU\" width=\"400\" height=\"400\">","affb23fc":"##### Some car prices are much higher than normal, the reason for this should be investigated","02039d6b":"## MODEL","82f39d27":"<img src=\"https:\/\/web-assets.cdn.dealersolutions.com.au\/modular.multisite.dealer.solutions\/wp-content\/uploads\/2018\/07\/30122827\/MK2-GenericBanner-1-414x311.jpg\" width=\"400\" height=\"400\">","3988670c":"##### Prices of cars vary according to horsepower and car body.","8e1260df":"#### Converting to categorical variable","b522e0fa":"## Data Visualization","209409b2":"##### Although the price of some cars is high, the horsepower is average. Such cars do not gain from horsepower, but from the luxury design of the interior of the car. Buick can be shown as a brand that sells cars for its luxury design.","5ecc1922":"<img src=\"https:\/\/qph.fs.quoracdn.net\/main-qimg-765b76c39cfee15ee53df139c677f7a4.webp\" width=\"400\" height=\"400\">","27ac0ecd":"##### Car prices vary a lot depending on the models so we can't ignore the carmodels. But we no longer need the variable \"CarName\"","6ec088f8":"##### In most car brands, LPG models are more expensive than diesel models.","54d7b3a8":"##### Some vehicle brands have the same name but under different variables","3a5a3b33":"### RANDOM FOREST","8040a5bd":"## Separating the dataset into train and test","178c200a":"##### DATASET SOURCE: https:\/\/archive.ics.uci.edu\/ml\/datasets\/Automobile","639ef3e0":"## Feature Engineering","f9e1d166":"##### The \"compressionratio\" value varies according to fuel types.\n##### And the risk value (symboling) increases as the \"compressionratio\" value increases.","90c7a335":"##### Although some values are of numeric type, they are written in string type. Fixing these will be good for the model.","fdcf49d3":"### GBM","30e9c8fb":"##### The number of models of vehicles is very large. It would be ridiculous to convert the \"carmodels\" variable with the LabelEncoder. Therefore, we need to reduce the number of models with a logical method.","619cf824":"#### Classifying cars by brands and models","af6ca0fb":"##### If you want to see the amount of outliers in variables","a1f849cb":"##### The compression ratio is the mathematical ratio used to predict the performance of an engine (such as an internal combustion or Stirling engine).","12ab59ab":"##### Since the models of some cars are not included in the data set, the value nan is entered in the model variable.","4855c708":"##### As the mpg value increases, the fuel consumed (lt.) decreases. The vehicle that consumes the most fuel in the same kilometer is the jaguar.","b2689cae":"#### Categorize vehicles by make and model","09c7dd6a":"## Handle Outliers","8135a78b":"##### In addition, there is a formula that gives the engine volume. And from this formula, it is seen that the number of cylinders, boreratio value, stroke value is directly proportional to enginesize value.","49b9ee16":"##### Missing values are filled with the car model named \"504\".","52b12b69":"* enginesize= 0.7854 x boreratio x boreratio x stroke x number of cylinders.","2c159b50":"# CAR PRICE ASSIGNMENT","23213e0b":"##### \"Compression ratio\" value is directly proportional to \"boreratio\" and \"stroke\" values","db099747":"## Let's fill in the missing values","0e44abec":"##### Let's examine the engine information of the cars","45a7a6af":"## One Hot Encoding","b4676c85":"## Reading Dataset","512e8f10":"## Feature Scaling","a2fdb6e2":"## Data Analysis","78501992":"<img src=\"https:\/\/4.bp.blogspot.com\/-ZZPbnqf3CvI\/XG6N9RrR7dI\/AAAAAAAAHSE\/WB-qcK1WcLU2RpE-zp_99RRzwhPhz-u7ACLcBGAs\/s640\/cfdf.jpg\" width=\"400\" height=\"400\">","e975848e":"* Symboling: Its assigned insurance risk rating, A value of +3 indicates that the auto is risky.\n* Fueltype: Car fuel type i.e gas or diesel\n* Aspiration: Aspiration used in a car (standard,turbo)\n* Doornumber: Number of doors in a car (2,4)\n* Carbody: Body of car (hatchback,sedan..)\n* Drivewheel: Type of drive wheel ( rwd= rear wheel drive, fwd= front wheel drive, 4wd= four wheel drive )\n* Enginelocation: Location of car engine (rear,front)\n* Wheelbase: Wheelbase of car\n* Carlength: Length of car\n* Carwidth: Width of car\n* Carheight: Height of car\n* Curbweight: The weight of a car without occupants or baggage\n* Enginetype: Type of engine\n* Cylindernumber: Cylinder placed in the car\n* Enginesize: Size of car engine\n* Fuelsystem: Fuel system of car\n* Boreratio: Boreratio of car \n* Stroke: Stroke or volume inside the engine\n* Compressionratio: Compression ratio of car\n* Horsepower: Horsepower\n* Peakrpm: Car peak rpm\n* Citympg: Mileage in city \n* Highwaympg: Mileage on highway \n* Price(Dependent variable): Price of car ","a783fe5c":"## Import Libraries","660a0cb9":"##### Detailed information about the dimensions of the car is given. Let's simplify these dimensions by gathering them under a single value.","94bdbf3c":"##### Diesel vehicles use a single fuel system. And the \"compressionratio\" value in diesel vehicles is much higher than in LPG vehicles. As the compression ratio value increases, of course, the risk of the motor increases."}}