{"cell_type":{"929d767c":"code","d69a8ffc":"code","e7959887":"code","a824755a":"code","0a5ec84b":"code","760daa6d":"code","9622771c":"code","eb259202":"code","0e3ce5ec":"code","d320fde7":"code","7ffa4c14":"markdown","1f556345":"markdown","09369c78":"markdown"},"source":{"929d767c":"%%bash\n# create output directory\nmkdir install_julia","d69a8ffc":"%%bash\n# download Julia\nJULIA_VERSION=\"1.6.0\"\nJULIA_VER=`cut -d '.' -f -2 <<< \"$JULIA_VERSION\"`\nBASE_URL=\"https:\/\/julialang-s3.julialang.org\/bin\/linux\/x64\"\nURL=\"$BASE_URL\/$JULIA_VER\/julia-$JULIA_VERSION-linux-x86_64.tar.gz\"\nwget -nv $URL -O install_julia\/julia.tar.gz","e7959887":"%%bash\n# download the wheel for the Python <> Julia interface Python package\npip download julia --dest install_julia\/","a824755a":"%%bash\n# install Julia so we can use Pkg to install dependencies\ntar -x -f install_julia\/julia.tar.gz -C \/usr\/local --strip-components 1","0a5ec84b":"%%writefile \"Project.toml\"\n\n[deps]\nAxisArrays = \"39de3d68-74b9-583c-8d2d-e117c070f3a9\"\nCSV = \"336ed68f-0bac-5ca0-87d4-7b16caf5d00b\"\nCellSegmentation = \"bc04555c-6b3a-48e0-9330-69d76e9b444f\"\nColorTypes = \"3da002f7-5984-5a60-b8a6-cbb66c0b333f\"\nDataFrames = \"a93c6f00-e57d-5684-b7b6-d8193f3e46c0\"\nEvoTrees = \"f6006082-12f8-11e9-0c9c-0d5d367ab1e5\"\nFileIO = \"5789e2e9-d7fb-5bc7-8068-2c6fae9b9549\"\nImageBinarization = \"cbc4b850-ae4b-5111-9e64-df94c024a13d\"\nImageContrastAdjustment = \"f332f351-ec65-5f6a-b3d1-319c6670881a\"\nImageCore = \"a09fc81d-aa75-5fe9-8630-4744c3626534\"\nImageDraw = \"4381153b-2b60-58ae-a1ba-fd683676385f\"\nImageFiltering = \"6a3955dd-da59-5b1f-98d4-e7296123deb5\"\nImageIO = \"82e4d734-157c-48bb-816b-45c225c6df19\"\nImageMagick = \"6218d12a-5da1-5696-b52f-db25d2ecc6d1\"\nImageMorphology = \"787d08f9-d448-5407-9aad-5290dd7ab264\"\nImageSegmentation = \"80713f31-8817-5129-9cf8-209ff8fb23e1\"\nImageTransformations = \"02fcd773-0e25-5acc-982a-7f6622650795\"\nInterpolations = \"a98d9a8b-a2ab-59e6-89dd-64a1c18fca59\"\nJSON = \"682c06a0-de6a-54ab-a142-c8b1cf79cde6\"\nLuxor = \"ae8d54c2-7ccd-5906-9d76-62fc9837b5bc\"\nMLBase = \"f0e99cf1-93fa-52ec-9ecc-5026115318e0\"\nMosaicViews = \"e94cdb99-869f-56ef-bcf0-1ae2bcbe0389\"\nParquet = \"626c502c-15b0-58ad-a749-f091afb673ae\"\nPlots = \"91a5bcdd-55d7-5caf-9e0b-520d859cae80\"\nProfileSVG = \"132c30aa-f267-4189-9183-c8a63c7e05e6\"\nProfileView = \"c46f51b8-102a-5cf2-8d2c-8597cb0e0da7\"\nProgressMeter = \"92933f4c-e287-5a05-a399-4b506db050ca\"\nPyPlot = \"d330b81b-6aea-500a-939a-2ce795aea3ee\"\nQuery = \"1a8c2f83-1ff3-5112-b086-8aa67b057ba1\"\nRDatasets = \"ce6b1742-4840-55fa-b093-852dadbb1d8b\"\nRevise = \"295af30f-e4ad-537b-8983-00126c2a3abe\"\nStatsBase = \"2913bbd2-ae8a-5f71-8c99-4fb6c76f3a91\"","760daa6d":"%%writefile \"install_packages.jl\"\nimport Pkg\n\nproject_toml = Pkg.TOML.parsefile(\"Project.toml\")\nfor (name, uuid) in project_toml[\"deps\"]\n    package_spec = Pkg.PackageSpec(;name=name, uuid=uuid)\n    Pkg.add(package_spec)\nend\n\n# add PyCall, which is needed for Python <> Julia communication\nPkg.add(\"PyCall\")","9622771c":"%%bash\n# install the packages, which go into the ~\/.julia directory\njulia install_packages.jl","eb259202":"%%bash\n# create custom system image for PyCall, to speed things up\n# \npip install --no-index --find-links install_julia\/ julia\npython -m julia.sysimage install_julia\/python_julia_sysimage.so","0e3ce5ec":"%%bash\n# pack up the .julia directory now that packages are installed\ncd ~\ntar -czf \/kaggle\/working\/install_julia\/dot_julia.tar.gz .julia","d320fde7":"%%writefile \"install_julia\/install.sh\"\n# install core Julia and un-pack .julia directory with pre-installed files\necho \"Installing (unzipping) Julia core...\"\ntar -x -f julia.tar.gz -C \/usr\/local --strip-components 1  \necho \"Installing (unzipping) pre-downloaded Julia packages\"\ntar -x -f dot_julia.tar.gz -C ~\/\n# install Python <> Julia interface\necho \"Installing the Python 'julia' package to run Julia from Python\"\npip install --no-index --find-links=. julia\npython -c \"import julia; julia.install()\"","7ffa4c14":"## Julia Offline\nSadly, even though Julia is the \"Ju\" in **Ju**pyter, Kaggle no longer supports Julia Kernels directly in their notebooks. We can use Julia through a Python kernel, but we have to install it, and things get a little tricky in an offline notebook. This kernel aims to handle the online portion of the installation, so that an offline notebook can just add this notebooks output as data and run installation without internet.","1f556345":"### Julia packages\nIn order to package up more than just base Julia, we've unzipped and set up Julia so we can run installation.\n\nTo run this with your own set of dependencies, just replace the `Project.toml` entry below.","09369c78":"## Finishing touches\nWe now have a useful `\/kaggle\/working\/install_julia` directory containing all the files we needed from the internet for Julia installation. As a finishing touch, let's also put the commands needed to install from that directory into a little shell script."}}