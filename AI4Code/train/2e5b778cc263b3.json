{"cell_type":{"8b33fe83":"code","85af2500":"code","35ff655c":"code","d4130bd6":"code","bc5df517":"code","1a0f7c20":"code","8a16a5aa":"code","b5a696e0":"code","3ae1fbfa":"code","2ba690ad":"code","0c491b25":"code","3babcb94":"code","5acaeaa0":"code","2f72d48d":"code","dfd18217":"code","40e0daaf":"code","a2257bcc":"markdown","c1cd22de":"markdown","0882a246":"markdown"},"source":{"8b33fe83":"%matplotlib inline\n\n# Importing necessary libraries to power ETL, EDA, and statistical analysis.\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # data visualization\nimport seaborn as sns; # advanced visualization\nfrom scipy import stats # statistical operations\n\n# changing graph style following best practices from Storyteling with Data from Cole Knaflic [7]\nsns.set(font_scale=2.5)\nsns.set_style(\"whitegrid\")","85af2500":"# Readig the data and setting index column\n# Making a copy for future use\nmachine_dataset = pd.read_csv(r\"..\/input\/Data - Thesis 2019 - G1 Data Studio.csv\", index_col=0)\nmachine_dataset_original = machine_dataset.copy()","35ff655c":"# Checking how the dataset looks like\nmachine_dataset.head()","d4130bd6":"# Getting summary statistics\nmachine_dataset.describe()","bc5df517":"# Plotting box plot distributions for outlier detection\nfig1 = sns.boxplot(data=machine_dataset, fliersize=15, width=0.5, color=\"white\")\nfig1 = plt.gcf()\nfig1.set_size_inches(16, 10)\nsns.despine(left=False)\nsns.set_context(\"talk\")\nfig1.text(0.07, 0.5, 'Porosity', ha='center', va='center', rotation='vertical')\nfig1.suptitle(\"Box plot of porosity for Machines A and B\", y=0.93, x=0.348, fontsize=28);","1a0f7c20":"# Normality test before outlier exclusion\n# Shapiro-Wilk Normality Test\n\n# Adding additional libraries to power the test\nfrom numpy.random import seed\nfrom numpy.random import randn\nfrom scipy.stats import shapiro\n\n# Seed the random number generator\nseed(1)\n\n# Generate univariate observations\ndata = 5 * randn(100) + 50\n\n# Normality test\nstat, p = shapiro(machine_dataset[\"Machine B\"])\nprint('Statistics=%.3f, p=%.3f' % (stat, p))\n\n# Interpretations of p-value\nalpha = 0.05\nif p > alpha:\n    print('Sample looks Gaussian (fail to reject H0)')\nelse:\n    print('Sample does not look Gaussian (reject H0)')","8a16a5aa":"# Calculating Z score, detecting and removing outliers for both Machines\n# Outliers were eliminated by overwriting them with mean value for each machine distribution\noutliers_machineA = machine_dataset[[\"Machine A\"]][(np.abs(stats.zscore(machine_dataset[[\"Machine A\"]])) > 3).all(axis=1)].index\nmachine_dataset.loc[outliers_machineA, \"Machine A\"] = machine_dataset[\"Machine A\"].mean()\n\noutliers_machineB = machine_dataset[[\"Machine B\"]][(np.abs(stats.zscore(machine_dataset[[\"Machine B\"]])) > 3).all(axis=1)].index\nmachine_dataset.loc[outliers_machineB, \"Machine B\"] = machine_dataset[\"Machine B\"].mean()","b5a696e0":"# Plotting distribution of Machine working data after outlier exclusion\nfig, axes = plt.subplots(nrows=1, ncols=2, sharey=True)\nfig.subplots_adjust(wspace=0.02)\nfig2 = sns.distplot(a=machine_dataset[\"Machine A\"], ax=axes[0])\nfig3 = sns.distplot(a=machine_dataset[\"Machine B\"], color=\"green\", ax=axes[1])\nfig.set_size_inches(16, 10)\nfig.suptitle(\"Distribution of porosity after outliers exclusion\", y=0.93, x=0.368, fontsize=28);\nfig.text(0.09, 0.5, 'Porosity Percentage Frequency', ha='center', va='center', rotation='vertical');","3ae1fbfa":"# Normality test after outlier exclusion\n\n# Generate univariate observations\ndata = 5 * randn(100) + 50\n\n# Normality test\nstat, p = shapiro(machine_dataset[\"Machine B\"])\nprint('Statistics=%.3f, p=%.3f' % (stat, p))\n\n# Interpretation of p-value\nalpha = 0.05\nif p > alpha:\n    print('Sample looks Gaussian (fail to reject H0)')\nelse:\n    print('Sample does not look Gaussian (reject H0)')","2ba690ad":"# QQ Plot technique for graphical normality assesment \nfrom numpy.random import seed\nfrom numpy.random import randn\nfrom statsmodels.graphics.gofplots import qqplot\n\n# Seed the random number generator\nseed(1)\n\n# QQ plot design\nfig, axes = plt.subplots(nrows=1, ncols=2, sharey=True)\nfig2 = qqplot(machine_dataset[\"Machine A\"], line='s', ax=axes[0])\nfig3 = qqplot(machine_dataset[\"Machine B\"], line='s', ax=axes[1])\naxes[0].set_title('Machine A')\naxes[1].set_title('Machine B')\naxes[0].set_ylabel('')\naxes[1].set_ylabel('')\naxes[0].set_xlabel('')\naxes[1].set_xlabel('')\nfig.subplots_adjust(wspace=0.05)\nfig.set_size_inches(16, 10)\nfig.suptitle(\"Quantile-Quantile plot for Machines A and B\", y=0.97, x=0.36, fontsize=28);\nfig.text(0.5, 0.04, 'Theoretical quantiles', ha='center', va='center');","0c491b25":"# For optimal user of seaborn library we melt the original DataFrame for \"tidy data\" configuration\n# Visualizing confidence interval overlap at 95% confidence level\nmachine_dataset_melt = pd.melt(machine_dataset_original, value_vars=[\"Machine A\", \"Machine B\"])\nfig = sns.pointplot(x=\"value\", y=\"variable\", data=machine_dataset_melt, join=False, capsize=0.1)\nfig = plt.gcf()\nfig.set_size_inches(16, 8)\nplt.title(\"95% Confidence interval for sample means\", y=1.02, x=0.3, fontsize=28);\nplt.ylabel(\"\");\nplt.xlabel(\"Sample mean\");\nsns.despine(left=False)\nsns.set_context(\"talk\")","3babcb94":"# T-test using statsmodel considering equal variance and equal n samples\nstats.ttest_ind(machine_dataset_original[\"Machine A\"], machine_dataset_original[\"Machine B\"], equal_var = False)","5acaeaa0":"# Generating the Reliability equation over the 10 years after manufacturing\nyear = list(range(1,12))\n\nreliability_function = [0.999]\nfor i in year:\n    try:\n        reliability_function.append((0.999)*pow(0.99, year[i]-1))\n    except:\n        pass","2f72d48d":"# Converting lists into dictionaries for DataFrame\nreliability_dict = {\"Reliability\":reliability_function, \"Year\":list(range(11))}\nreliability = pd.DataFrame(reliability_dict)\nfig, axes = plt.subplots(nrows=1, ncols=1)\nfig1 = sns.scatterplot(x=\"Year\", y=\"Reliability\", data=reliability, palette=\"cmap\", legend=False, ax=axes, s=200);\n\n# Add text annotation\nfig1.text(0.2, 1, \"R(0) = 0.999\", horizontalalignment='left', fontsize=14, color='black', weight='semibold');\nfig1.text(10, 0.91, \"R(10) = 0.903\", horizontalalignment='center', fontsize=14, color='black', weight='semibold');\nfig.set_size_inches(20, 5)\nfig.suptitle(\"Reliability decay over time\", x=0.213, y=0.95);","dfd18217":"# Calculating the probability for each year using binomial cdf (using pmf)\nfrom scipy.stats.distributions import binom\nreliability[\"Probability\"] = binom.pmf(5, 5, reliability[\"Reliability\"])\nreliability","40e0daaf":"# Resultant probability of parts to be in working condition by year 10\nprint(\"Reliability after 10 years = {0:0.2f}%\".format(reliability.Probability.product()*100))","a2257bcc":"## Goal 2: Ammunition reliability over time","c1cd22de":"# Statistical Analysis of Reliability Engineering for Maintenance Optimization\nThis Kernel was used as the Appendix for my Thesis as a Bachelor of Mechanical Engineering, Automotive Process Control Specialization, at University of Debrecen, Hungary 2019\n\n## Introduction\n\nThe theory that information can always be improved to empower economic growth by the offer and wants expansion is one of the supporting pillars of the evolution perceived in the new information economy that modern society faces in the 21st century [25]. Information is evolving in the engineering field mostly through data technologies which facilitated information flow through departments making processes more efficient. Applied examples are live feedback data from sensors, live feed for stock control, predictive maintenance schemas, etc. Cloud implementations for Big Data streamline and Data Science take a decisive role in introducing the Industrial Internet of Things in modern factories.\n\t\nIn mechanical engineering, maintenance is the most developed field regarding new data technologies, where giants like IBM and worked extensively in applied use cases for the industry, aiming at common business goals requirements, minimizing costs and late maintenance while maximizing machinery availability, production output, and customer satisfaction. Although most of the field development encompass Maintenance Predictive Analytics through Machine Learning implementations, models fail to predict events when there is no past data detailing a similar occurrence, thus the adoption of Maintenance Descriptive Analytics in which Modern Reliability Engineering takes part, applying advanced statistics.\nThe focus of this research is to explore some of the statistical methodologies applied to support optimized maintenance planning and also during product design. The depth of the executed analysis resemble operations which, in an industrial scenario, would command the observational aspect of Maintenance Descriptive Analytics towards the more advanced predictive step.\n\nThe notebook is structure according to the Thesis' goals:\n\n#### Goal 1 - Porosity Analysis\nBriefly reviewing the goal definition, for the given data set of machine porosity, a study is necessary to understand if the porosity occurrence is due to processual randomness. The action plan consists in:\n    \n    1. Exploratory data analysis for better understanding the working data;\n    2. Validate the underlying distribution of the sample;\n    3. State null hypothesis and alternative hypothesis for the experiment;\n    4. Evaluate sample confidence intervals (CI) at 95% confidence level;\n    5. Two-sample t-test statistical test.\n   \n#### Goal 2 - Ammunition reliability over time\nBriefly reviewing the goal definition, what is the probability of finding a batch of ammunition in perfect working conditions after 10 years of manufacturing? The action plan consists in:\n\n    1. Check the data provided by the manufacturer regarding the reliability of the parts;\n    2. Build the dynamic reliability function over time and visualize the time series change;\n    3. State the random variable to be analysed and model its underlying distribution;\n    4. Reliability evaluation.\n","0882a246":"## Goal 1: Ammunition reliability over time"}}