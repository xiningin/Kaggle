{"cell_type":{"1bede2c9":"code","052ca025":"code","27b76b1d":"code","4da6c0bb":"code","37002642":"code","d779b4e3":"code","cd009edb":"code","24638660":"markdown","a00733e7":"markdown","655de00f":"markdown"},"source":{"1bede2c9":"import pandas as pd","052ca025":"DTYPES_TRAIN = {\n    'row_id': 'int64',\n    'timestamp': 'int64',\n    'user_id': 'int32',\n    'content_id': 'int16',\n    'content_type_id': 'int8',\n    'task_container_id': 'int16',\n    'user_answer': 'int8',\n    'answered_correctly':'int8',\n    'prior_question_elapsed_time': 'float32',\n    'prior_question_had_explanation': 'boolean'\n}\nusecols=['user_id', 'answered_correctly', 'prior_question_elapsed_time', 'prior_question_had_explanation']","27b76b1d":"train = pd.read_csv('\/kaggle\/input\/riiid-test-answer-prediction\/train.csv', dtype=DTYPES_TRAIN, usecols=usecols)\ntrain = train[train.answered_correctly != -1]","4da6c0bb":"train['elapsed_shift-1'] = train[['user_id', 'prior_question_elapsed_time']].groupby('user_id').shift(-1)\ntrain['explained_shift-1'] = train[['user_id', 'prior_question_had_explanation']].groupby('user_id').shift(-1)","37002642":"train.dropna(inplace=True)\ntrain['explained_shift-1'] = train['explained_shift-1'].astype('boolean')","d779b4e3":"train[['answered_correctly', 'prior_question_elapsed_time', 'elapsed_shift-1']].groupby('answered_correctly').mean()","cd009edb":"train[['answered_correctly', 'prior_question_had_explanation', 'explained_shift-1']].groupby('answered_correctly').mean()","24638660":"prior_question_had_explanation doesn't seem to change when shifted.","a00733e7":"The average value before shifting are almost the same for answered_correctly 0 and 1, but they differ significantly when shifting.","655de00f":"prior_question_elapsed_time and prior_question_had_explanation are information about \"prior\" question.\nTherefore, these features can be used by shifting them by -1."}}