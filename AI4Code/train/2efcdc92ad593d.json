{"cell_type":{"2cc9705f":"code","373f6f57":"code","7003d5e8":"code","0d1d62fa":"code","bc08245d":"code","26d4377f":"code","ca4453f2":"code","d494c266":"code","2a6a3d10":"code","ef2580a8":"code","0fc1693a":"code","5ce23229":"code","b9e91ad4":"code","34510805":"code","029ea82b":"code","dfe77d60":"code","2524e653":"code","8d7dfebf":"code","da5fc0e7":"markdown","ac5c80e8":"markdown","a22e80ca":"markdown","5138bbd6":"markdown","f4bc5ff9":"markdown","0fb91644":"markdown","2a4ebc8c":"markdown","577a9a37":"markdown","e0bfd1c3":"markdown","a6c3f0f6":"markdown","9563891d":"markdown","c85a3986":"markdown","28ac3af9":"markdown","0789f0d8":"markdown","df9e95b8":"markdown"},"source":{"2cc9705f":"\n\nimport numpy as np \nimport pandas as pd \n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport conda\nfrom wordcloud import WordCloud, STOPWORDS\nfrom mpl_toolkits.basemap import Basemap\n\n","373f6f57":"df = pd.read_csv('\/kaggle\/input\/ufo-sightings\/scrubbed.csv')","7003d5e8":"df['datetime'] = df['datetime'].str.replace('24:00', '0:00') #converts 24:00 to 0:00\ndf['month'] = pd.DatetimeIndex(df['datetime']).month #creates column 'month' stripping the year from datetime_zero\ndf['year'] = pd.DatetimeIndex(df['datetime']).year #creates column 'year' stripping the year from datetime_zero\ndf['day'] = pd.DatetimeIndex(df['datetime']).day #creates column 'day' stripping the year from datetime_zero\ndf['hour'] = pd.DatetimeIndex(df['datetime']).hour #creates column 'hour' stripping the year from datetime_zero\ndf['datetime'] = pd.to_datetime(df['datetime'], errors='coerce')","0d1d62fa":"years_data = df['year'].value_counts()\nyears_index = years_data.index  \nyears_values = years_data.values\nplt.figure(figsize=(15,8))\nplt.xticks(rotation = 60)\nplt.title('UFO Sightings since 1943', fontsize=18)\nplt.xlabel(\"Year\", fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nyears_plot = sns.barplot(x=years_index[:70],y=years_values[:70], palette = \"RdPu_r\")","bc08245d":"def month_conversion(m):\n    if m in range(3,6):\n        return \"Spring\"\n    if m in range(6,9):\n        return \"Summer\"\n    if m in range(9,12):\n        return \"Autumn\"\n    if m == 12 or m == 1 or m == 2:\n        return \"Winter\"\n    \nseason_order = [\"Spring\", \"Summer\", \"Autumn\", \"Winter\"]\n    \ndf[\"Season\"] = df['month'].apply(month_conversion)\nseason_stat = df[\"Season\"].value_counts()\nseason_index = season_stat.index\nseason_value = season_stat.values\nplt.figure(figsize=(15,8))\nplt.title('UFO Sightings by Season', fontsize=18)\nplt.xlabel(\"Season\",fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nseason_plot = sns.barplot(x=season_index[:60],y=season_value[:60], palette = \"Accent_r\", alpha=0.3, order=season_order)","26d4377f":"order = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\",\"August\", \"September\", \n         \"October\", \"November\", \"December\"]\ndf['month'] = df['datetime'].dt.month_name() #turns month numbers into month names\nmonth_data = df['month'].value_counts() \nmonth_index = month_data.index \nmonth_values = month_data.values\nplt.figure(figsize=(15,8))\nplt.title('UFO Sightings by Month', fontsize=18)\nplt.xlabel(\"Month\",fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nmonth_plot = sns.barplot(x=month_index[:60],y=month_values[:60], palette = \"Blues\", order=order)","ca4453f2":"day_data = df['day'].value_counts() \nday_index = day_data.index \nday_values =day_data.values\nplt.figure(figsize=(15,8))\nplt.title('UFO Sightings by Day', fontsize=18)\nplt.xlabel(\"Day of the Month\", fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nday_plot = sns.barplot(x=day_index[:60],y=day_values[:60], palette = \"Greens\")","d494c266":"df['weekday'] = df['datetime'].dt.day_name()\norder = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\nweekday_data = df['weekday'].value_counts()\nweekday_index = weekday_data.index \nweekday_values = weekday_data.values\nplt.figure(figsize=(15,8))\nplt.title('UFO Sightings by Day of the Week', fontsize=18)\nplt.xlabel(\"Day of the week\", fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nsns.set_palette(\"pastel\")\nweekday_plot = sns.barplot(x=weekday_index[:60],y=weekday_values[:60], order = order)","2a6a3d10":"hour_data = df['hour'].value_counts() \nhour_index = hour_data.index \nhour_values =hour_data.values\nplt.figure(figsize=(15,8))\nplt.title('UFO Sightings by Hour', fontsize=18)\nplt.xlabel(\"Time\", fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nhour_plot = sns.barplot(x=hour_index[:60],y=hour_values[:60], palette = 'Purples')","ef2580a8":"df = df.rename(columns={'longitude ':'longitude'}) #correcting typo in the dataframe\ndf.at[43782,'latitude']= 33.2001  #correcting another typo\ndf[\"latitude\"] = df.latitude.astype(float)  #setting latitude as a real number","0fc1693a":"lat = df['latitude'].tolist()\nlon = df['longitude'].tolist()\n\nplt.figure(figsize=(30,20))\nm = Basemap(projection='mill',llcrnrlat=-90,urcrnrlat=90,\\\n            llcrnrlon=-180,urcrnrlon=180,lat_ts=50,resolution='c')\nm.drawcoastlines()\nm.fillcontinents(color='white',lake_color='lightblue', zorder=1)\n\n# draw parallels and meridians.\n\nm.drawmapboundary(fill_color=\"lightblue\")\nm.scatter(lon,lat,latlon=True, s=50, c='red', marker='.', alpha=1, edgecolor='b', linewidth=0.5, zorder=10)\n\n\nplt.title(\"Geographical Distribution\", size=24)\nplt.show()\n","5ce23229":"plt.subplots(figsize=(18,8))\nexpl = (0.1,0.05,0.2,0.4,0.8)\ncolors = [\"cornflowerblue\", \"lightcoral\", \"lightgreen\", \"gold\", \"black\"]\nlabels =['United States', 'Canada', 'United Kingdom', 'Australia', 'Germany']\n\ndf['country'].value_counts().plot(kind='pie',fontsize = 12, colors=colors, \n                                  explode=expl, figsize = (8,8), autopct='%.1f%%', \n                    pctdistance=1.15, labels=None)\nplt.legend(labels=labels, loc='upper right')\nplt.title('UFO Sightings by Country', size=24)\n\nplt.xticks(rotation=45, fontsize=15)\nplt.show()","b9e91ad4":"usa_stats = (df['country']=='us')\nusdf = df[usa_stats]\n\nstate_stats = usdf.state.value_counts()\nstate_index = state_stats.index \nstate_values = state_stats.values\nplt.figure(figsize=(15,8))\nplt.title('UFO Sightings by US State', fontsize=24)\nplt.xlabel(\"State\", fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\nplt.xticks(rotation = 60, size=12)\nstate_plot = sns.barplot(x=state_index[:60],y=state_values[:60], palette='RdBu_r')","34510805":"lat_us = usdf['latitude'].tolist()\nlon_us = usdf['longitude'].tolist()\n\n\nplt.figure(figsize=(30,20))\n\nmapus = Basemap(llcrnrlon=-119,llcrnrlat=22,urcrnrlon=-64,urcrnrlat=49,\n        projection='lcc',lat_1=33,lat_2=45,lon_0=-95)\nshpinfo = mapus.readshapefile('..\/input\/datashp\/cb_2018_us_state_500k', name='states', drawbounds=True)\n\n\nmapus.drawmapboundary(fill_color='lightblue')\nmapus.fillcontinents(color='white',lake_color='lightblue')\nmapus.drawcoastlines()\n\nmapus.scatter(lon_us,lat_us,latlon=True, s=50, c='lightgreen', marker='.', alpha=1, edgecolor='r', linewidth=0.5, zorder=10)\nplt.title(\"Geographical Distribution in the US\", size=24, alpha=0.7)\n\nplt.show()","029ea82b":"cmt = [item for item in df.comments.dropna()]\n    \ncmt = \" \".join(cmt)\n\nplt.figure(figsize=(18,12))\n\nwordcloud = WordCloud(background_color='whitesmoke', width=2000, height=1000,\n                      stopwords=None).generate(cmt)\nplt.imshow(wordcloud, interpolation=\"nearest\", aspect='auto')\nplt.axis('off')\nplt.savefig('wordcloud.png')\nplt.title(\"Comment Wordcloud\", size=40)\n\nplt.show()","dfe77d60":"cmtus = [item for item in usdf.comments.dropna()]\n    \ncmtus = \" \".join(cmtus)\n\nplt.figure(figsize=(18,12))\n\nwordcloud = WordCloud(background_color='black', width=2000,height=1000,stopwords=None).generate(cmtus)\nplt.imshow(wordcloud, interpolation=\"nearest\", aspect='auto')\nplt.axis('off')\nplt.savefig('wordcloudus.png')\nplt.title(\"US Comment Wordcloud\", size=40)\n\nplt.show()","2524e653":"shape = df['shape'].value_counts()\nshape_index = shape.index\nshape_values = shape.values\nplt.figure(figsize=(18,8))\nshape = sns.barplot(x=shape_index[:60],y=shape_values[:60])\nplt.xticks(rotation = 60)\nplt.title(\"UFO Sightings by Shape\", size=22)\nplt.xlabel(\"Shape\", fontsize=14)\nplt.ylabel(\"Number of reports\", fontsize=14)\n\n#plt.legend(labels=labs, loc='upper right', bbox_to_anchor=(1.2, 1))\nplt.show()","8d7dfebf":"plt.subplots(figsize=(20,7))\nduration_seconds = df[\"duration (seconds)\"].value_counts()\ndur_order = [\"1 - 15\",\"15 - 30\", \"30 - 60\", \"60 - 120\",\"120 - 140\", \">140\" ]\nduration_list=[]\nfor i in duration_seconds:\n    if i in range(1,16):\n        duration_list.append(\"1 - 15\")\n    if i in range(15,31):\n        duration_list.append(\"15 - 30\")\n    if i in range(30,61):\n        duration_list.append(\"30 - 60\")\n    if i in range(60,121):\n        duration_list.append(\"60 - 120\")\n    if i in range(120,141):\n        duration_list.append(\"120 - 140\")\n    if i > 140:\n        duration_list.append(\">140\")\n\nduration_list = pd.Series(duration_list)\nduration_list = duration_list.value_counts()\ndura_index = duration_list.index\ndura_value = duration_list.values\nduration = sns.barplot(dura_index, dura_value, order=dur_order)\nplt.xlabel(\"Seconds\", size=14)\nplt.ylabel(\"Number of reports\", size=14)\nplt.title(\"UFO Sightings Duration\")\n\nplt.show()","da5fc0e7":"### I wonder what people say the most when they see an UFO","ac5c80e8":"### Let's see how UFO reports have changed in the last 70 years","a22e80ca":"As you can observe from the graphs,the obervation of UFOs across the world has been rising up until 2013.\nDistribution across seasons indicates that Summer accounts as the season with the most reports.\nUFO sightsings mostly happened in the United States, which scored the highest number of reports, followed by Canada, the United Kingdom, Australian and Germany.\nCalifornians have by far reported the most observations among the US states. However, a significant concentration of reports is noticed on the country east coast.\nCommentary related to the report is consistent both in the US alone and considering the totality of reporst across the globe. The terms more frequently used where: \"white light\", \"sky\", \"bright light\", and \"shaped objects\".\nUFOs where mostly represented by the reportesr as a source of bright light. \nSignificantly, the most of the sightsings lasted between 0 and 15 seconds.\n","5138bbd6":"### and to finish off let's have a look at the sightings duration.\n","f4bc5ff9":"### and now the time...\n","0fb91644":"### Let's have a better look at the United States\n","2a4ebc8c":"### Time Manipulation","577a9a37":"### Report Seasonality","e0bfd1c3":"### What about the day of the month?","a6c3f0f6":"### and which day of the week?\n","9563891d":"### and what do they say in the US?","c85a3986":"### UFOs have many shapes...","28ac3af9":"### Can you guess in which month the most sightings have been reported?","0789f0d8":"### Now let's have a look at where pople have seen the most UFOs\n","df9e95b8":"### Conclusions"}}