{"cell_type":{"287e86dc":"code","0c03442d":"code","a3ced140":"code","0b0ef805":"code","c682081a":"code","7452d3cf":"code","cf4718c7":"code","f8ba171a":"markdown","0de16455":"markdown","a88a0ec7":"markdown","72b57e6f":"markdown","7bd3f6ea":"markdown"},"source":{"287e86dc":"import numpy as np\nimport pandas as pd \nimport os, path\n\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport matplotlib.pylab as pylab\nimport seaborn as sns\n\n%matplotlib inline\nmatplotlib.style.use(\"ggplot\")\n\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nDATA_DIR = path.Path('..\/input\/hotel-id-2021-fgvc8')","0c03442d":"df_train = pd.read_csv(DATA_DIR.joinpath(\"train.csv\"))\ndf_train[\"timestamp\"] = pd.to_datetime(df_train[\"timestamp\"])","a3ced140":"print(f\"Training set contains { df_train.shape[0]} rows\") ","0b0ef805":"# possible improvements: plot multiple colors for different chains\n\nplt.figure(figsize=(20,4))\ndf_train\\\n    .set_index(\"timestamp\")\\\n    .sort_index()[\"image\"]\\\n    .resample('d').count().plot()\n\nplt.show()","c682081a":"df_train.head()","7452d3cf":"df_hotel_cnt = df_train.groupby(\"chain\").nunique()[\"hotel_id\"].rename(\"num_hotels\")\n\npx.bar(data_frame=df_hotel_cnt, y=\"num_hotels\")","cf4718c7":"df_img_cnt = df_train.groupby([\"hotel_id\", \"chain\"]).count()[\"timestamp\"].rename(\"num_images\").reset_index()\n\npx.box(\n    df_img_cnt,\n    x=\"chain\",\n    y=\"num_images\"\n)","f8ba171a":"# Size of the training set","0de16455":"## How many pictures per hotel?","a88a0ec7":"## How many hotels in each chain","72b57e6f":"# Train data set","7bd3f6ea":"# when were the pictures collected?"}}