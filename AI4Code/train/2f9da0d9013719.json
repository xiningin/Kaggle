{"cell_type":{"10eb0168":"code","d301dc58":"code","f94f2b74":"code","9447cbae":"code","a6d8d8ad":"code","b00e6d34":"code","37f4700c":"code","1bed410b":"code","94e5b3cf":"code","18c69dff":"code","e2095b9c":"code","9e4fcdd0":"code","97d438cc":"code","160d021f":"code","5aed4171":"code","07a6b98f":"code","69e171f4":"code","af01983d":"code","63ff90e7":"code","0f689464":"code","1f6ca7c3":"code","a1017619":"code","64b1886d":"code","e77bdf24":"code","3868b7e4":"code","bd66e5d9":"code","2eaed4bc":"code","f55d83b4":"code","1413d215":"code","a03c8363":"code","362c9383":"code","518d67f0":"code","34ff8f3e":"code","8a7653f6":"code","65f175f0":"code","e99daf97":"code","ea5cdadd":"code","cee66b12":"code","0d639096":"code","9ab2c15c":"code","d821ec13":"code","5e32e094":"code","82aca3b9":"code","e32d678b":"code","d2ab1777":"code","07675d69":"code","cfaa1509":"code","151473f7":"code","5a495788":"code","8c151c0c":"code","e4fe0480":"code","dd270593":"code","ef303bda":"code","006c51cd":"code","772a3355":"code","6249e36c":"markdown","1fd07f2d":"markdown","ef91657a":"markdown","677b77dc":"markdown","721e357f":"markdown","a118a9d8":"markdown","e3120030":"markdown","4ca15aad":"markdown","b673c08a":"markdown"},"source":{"10eb0168":"import pandas as pd\npd.set_option('display.max_columns', 999)\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom matplotlib import rcParams\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nfrom sklearn import preprocessing\nfrom sklearn import model_selection\nfrom sklearn import linear_model","d301dc58":"train_data = pd.read_csv(\"\/kaggle\/input\/bank-telemarketing-moro-et-al\/bank-additional.csv\")\ntrain_data.head()","f94f2b74":"train_data.info()","9447cbae":"train_data.describe()","a6d8d8ad":"train_data.isnull().sum()","b00e6d34":"train_data.duplicated().sum()","37f4700c":"sns.countplot(x=train_data['job'])","1bed410b":"rcParams['figure.figsize'] = 17,10\nsns.countplot(x=train_data['job'],hue=train_data['y'],palette=\"Set2\")","94e5b3cf":"sns.countplot(x=train_data['education'])","18c69dff":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['education'],hue=train_data['y'],palette=\"Set2\")","e2095b9c":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['marital'],hue=train_data['y'],palette=\"Set2\")","9e4fcdd0":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['housing'],hue=train_data['y'],palette=\"Set2\")","97d438cc":"train_data['loan'].value_counts().plot(kind=\"bar\")","160d021f":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['loan'],hue=train_data['y'],palette=\"Set2\")","5aed4171":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['contact'],hue=train_data['y'],palette=\"Set2\")","07a6b98f":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['nr.employed'],hue=train_data['y'],palette=\"Set2\")","69e171f4":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['poutcome'],hue=train_data['y'],palette=\"Set2\")","af01983d":"train_data['month'].value_counts().plot(kind=\"pie\")","63ff90e7":"rcParams['figure.figsize'] = 15,10\nsns.countplot(x=train_data['month'],hue=train_data['y'],palette=\"Set2\")","0f689464":"train_data[\"loan\"].value_counts()","1f6ca7c3":"train_data[\"education\"].value_counts().plot(kind=\"bar\")","a1017619":"train_data[\"housing\"].value_counts().plot(kind=\"pie\")","64b1886d":"train_data[\"contact\"].value_counts().plot(kind=\"bar\")","e77bdf24":"train_data['marital'].value_counts().plot(kind=\"pie\")","3868b7e4":"train_data['campaign'].value_counts()","bd66e5d9":"train_data['campaign'].value_counts().plot(kind=\"bar\")","2eaed4bc":"rcParams['figure.figsize'] = 15,10\nsns.countplot(train_data['campaign'],hue=train_data['y'],palette=\"Set2\")","f55d83b4":"rcParams['figure.figsize'] = 15,10\nsns.countplot(train_data['pdays'],hue=train_data['y'],palette=\"Set2\")","1413d215":"train_data['cons.price.idx'].value_counts().plot(kind=\"bar\")","a03c8363":"train_data.head()","362c9383":"new_df = train_data.copy(deep=True)","518d67f0":"le = preprocessing.LabelEncoder()\n\n# job\nle.fit(new_df['job'])\nnew_df['job'] = le.transform(new_df['job'])\n\n# maritial feature\nle.fit(new_df['marital'])\nnew_df['marital'] = le.transform(new_df['marital'])\n\n# education_feature\nle.fit(new_df['education'])\nnew_df['education'] = le.transform(new_df['education'])\n\n# housing_feature\nle.fit(new_df['housing'])\nnew_df['housing'] = le.transform(new_df['housing'])\n\n# loan_feature\nle.fit(new_df['loan'])\nnew_df['loan'] = le.transform(new_df['loan'])\n\n# contact_feature\nle.fit(new_df['contact'])\nnew_df['contact'] = le.transform(new_df['contact'])\n\n# Month_feature\nle.fit(new_df['month'])\nnew_df['month'] = le.transform(new_df['month'])\n\n# day of week_feature\nle.fit(new_df['day_of_week'])\nnew_df['day_of_week'] = le.transform(new_df['day_of_week'])\n\n# poutcome_feature\nle.fit(new_df['poutcome'])\nnew_df['poutcome'] = le.transform(new_df['poutcome'])\n\n# default_feature\nle.fit(new_df['default'])\nnew_df['default'] = le.transform(new_df['default'])\n\n\n\n# Target_feature\nle.fit(new_df['y'])\nnew_df['y'] = le.transform(new_df['y'])\n\n","34ff8f3e":"new_df.head()","8a7653f6":"correleation_matrix = new_df.corr()","65f175f0":"rcParams['figure.figsize'] = 25,20\nsns.heatmap(correleation_matrix, cbar=True, square= True,fmt='.1f', annot=True, annot_kws={'size':15}, cmap='Greens')\n","e99daf97":"y = new_df['y']\nx = new_df.drop(['y'],axis=1)","ea5cdadd":"X_train,X_test,y_train,y_test = model_selection.train_test_split(x,y,test_size=0.10, random_state=42)","cee66b12":"LR = linear_model.LogisticRegression()","0d639096":"LR.fit(X_train,y_train)","9ab2c15c":"y_pred = LR.predict(X_test)","d821ec13":"from sklearn import metrics\nf1 = metrics.f1_score(y_true=y_test,y_pred=y_pred)\nacc = metrics.accuracy_score(y_true=y_test,y_pred=y_pred)\npres = metrics.precision_score(y_true=y_test,y_pred=y_pred)\nrecall = metrics.recall_score(y_true=y_test,y_pred=y_pred)","5e32e094":"print(\"The accuracy of the model Logistic Regression Model\",acc)\nprint(\"The F1 Score of the model Logistic Regression Model\",f1)\nprint(\"The Precision of the model Logistic Regression Model\",pres)\nprint(\"The recall of the model Logistic Regression Model\",recall)","82aca3b9":"from sklearn import ensemble","e32d678b":"RFC = ensemble.RandomForestClassifier()","d2ab1777":"RFC.fit(X_train,y_train)","07675d69":"y_pred_rfc = RFC.predict(X_test)","cfaa1509":"f1_rfc = metrics.f1_score(y_true=y_test,y_pred=y_pred_rfc)\nacc_rfc = metrics.accuracy_score(y_true=y_test,y_pred=y_pred_rfc)\npres_rfc = metrics.precision_score(y_true=y_test,y_pred=y_pred_rfc)\nrecall_rfc = metrics.recall_score(y_true=y_test,y_pred=y_pred_rfc)\ncfn_matrix = metrics.plot_confusion_matrix(RFC,X_test,y_test)","151473f7":"cfn_matrix","5a495788":"print(\"The accuracy of the model RandomForestClassifier Model\",acc_rfc)\nprint(\"The F1 Score of the model RandomForestClassifier Model\",f1_rfc)\nprint(\"The Precision of the model RandomForestClassifier Model\",pres_rfc)\nprint(\"The recall of the model RandomForestClassifier\",recall_rfc)","8c151c0c":"ETC = ensemble.ExtraTreesClassifier()","e4fe0480":"ETC.fit(X_train,y_train)","dd270593":"y_pred_ETC = ETC.predict(X_test)","ef303bda":"f1_ETC = metrics.f1_score(y_true=y_test,y_pred=y_pred_ETC)\nacc_ETC = metrics.accuracy_score(y_true=y_test,y_pred=y_pred_ETC)\npres_ETC = metrics.precision_score(y_true=y_test,y_pred=y_pred_ETC)\nrecall_ETC = metrics.recall_score(y_true=y_test,y_pred=y_pred_ETC)","006c51cd":"print(\"The accuracy of the modelExtraTreesClassifier Model\",acc_ETC)\nprint(\"The F1 Score of the model ExtraTreesClassifier Model\",f1_ETC)\nprint(\"The Precision of the modelExtraTreesClassifier Model\",pres_ETC)\nprint(\"The recall of the model ExtraTreesClassifier Model\",recall_ETC)","772a3355":"import pickle\nfilename = 'random_forest.pkl'\npickle.dump(RFC, open(filename, 'wb'))","6249e36c":"### It shows those who have hosuing loan are more tend to accept the bank deposit","1fd07f2d":"### nonexistant people are more exposed for the subscripton of the bank  deposit","ef91657a":"### This infers that admin and technician are mostly taking the bank deposit as they are more people in number","677b77dc":"### persons who have university degree and high school are getting the bank deposit","721e357f":"### There are some duplicate values in the dataset","a118a9d8":"### Personal Loan \n#### The person who has no personal loan will subscribe the bank deposit and who has already a personal loan does not subscipe to the bank deposit","e3120030":"### This infers most of the clients are the not contacted to bank ,it may be due to various reasons","4ca15aad":"# Importing the Models ","b673c08a":"### Married and single people are accepting the bank deposit "}}