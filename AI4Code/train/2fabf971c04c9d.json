{"cell_type":{"ff834a36":"code","45c30bdc":"code","9d0f4efd":"code","227c9e11":"code","83463b26":"code","b33a12d3":"code","aefcc3d7":"code","6a68c465":"code","32ea56b1":"code","62576e69":"code","fc698b27":"markdown","1b63b70f":"markdown"},"source":{"ff834a36":"import gc\nfrom tqdm import tqdm\nimport numpy as np\nimport pandas as pd\nfrom pylab import rcParams\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom scipy.stats import probplot\n\nimport datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nfrom fbprophet import Prophet\n\n%matplotlib inline\nimport os\nimport warnings\nwarnings.filterwarnings(\"ignore\")","45c30bdc":"data0 = pd.read_csv(\"..\/input\/palantir-stock-data-latest-and-updated\/Palantir_stock_history.csv\")\ndata0[-5:]","9d0f4efd":"data1=data0[['Date','Close']]","227c9e11":"item1=data1\n\nitem1.columns = ['ds','y']\nitem1.y = item1.y.astype('float')\nitem1.ds = item1.ds.astype('datetime64')\n\nrcParams['figure.figsize'] = 20,5\nplt.plot(item1.ds, item1.y)","83463b26":"ph = Prophet()\nph.fit(item1)\nforecast1=ph.predict(item1)\nfigure = ph.plot(forecast1)\nfigure.show()","b33a12d3":"from datetime import timedelta\nstart0 = dt.datetime.strptime('2021-01-01','%Y-%m-%d').date()\nend0   = dt.datetime.strptime('2022-12-31','%Y-%m-%d').date()\nprint((end0-start0).days)","aefcc3d7":"def daterange(start,end):\n    for i in range((end-start).days):\n        return start+timedelta(i)  ","6a68c465":"dates0=[]\nfor i in range((end0-start0).days):\n    dates0+=[(start0+timedelta(i)).strftime('%Y-%m-%d') ]\nprint(dates0[0:10])","32ea56b1":"dates0_df=pd.DataFrame(dates0)\ndates0_df.columns=['ds']\ndates0_df","62576e69":"ph = Prophet()\nph.fit(item1[-365*2:])\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","fc698b27":"# fit past and predict past","1b63b70f":"# fit past and predict past+future"}}