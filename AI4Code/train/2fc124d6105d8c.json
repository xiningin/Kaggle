{"cell_type":{"88615f65":"code","cfc0b976":"code","110278c3":"code","e6a10840":"code","938f8791":"code","1d958fe3":"code","3fb126b3":"code","189049b9":"code","923efefb":"code","c5054760":"code","a4820f3b":"code","b3ba2399":"code","3b5559ae":"code","01a190a9":"code","656431e7":"code","e58138ef":"code","06cd67af":"code","cde1a874":"code","bbe3b5b9":"code","a9bab037":"markdown","dddcfbc8":"markdown","3a3125e6":"markdown","37aeeb32":"markdown","e443194c":"markdown","97d26318":"markdown","339568f5":"markdown","4dcae89a":"markdown","c401d1e2":"markdown","96a2fc33":"markdown","cdcb00d6":"markdown","a3d61ca1":"markdown","30e06922":"markdown","6758e195":"markdown","42006246":"markdown","2a137e4e":"markdown","1d8c35c4":"markdown","dcb065ce":"markdown","f587ea3f":"markdown","08812ccd":"markdown","6a9c1efa":"markdown","18c0b656":"markdown","71b93578":"markdown","5717c084":"markdown","404c01c3":"markdown","a747ef04":"markdown","ed829bd3":"markdown","9197364d":"markdown","fcebac82":"markdown"},"source":{"88615f65":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","cfc0b976":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n# sklearn preprocessing for dealing with categorical variables\nfrom sklearn.preprocessing import LabelEncoder\n\n# File system manangement\nimport os\n\n# Suppress warnings \nimport warnings\nwarnings.filterwarnings('ignore')","110278c3":"df=pd.read_csv('..\/input\/winemag-data-130k-v2.csv')\ndf.head()","e6a10840":"total = df.isnull().sum().sort_values(ascending=False)\npercent = (df.isnull().sum()\/df.isnull().count()).sort_values(ascending=False)\ndf2 = pd.concat([total, percent], axis=1, keys=['Total', 'Percent'])\ndf2\n","938f8791":"duplicate_bool=df.duplicated()\nduplicate=df.loc[duplicate_bool == True]\nprint(duplicate)","1d958fe3":"df.info()","3fb126b3":"plt.figure(1,figsize=[8,8])\nsns.countplot('country',data=df,order=pd.value_counts(df['country']).iloc[:5].index)\nplt.figure(2,figsize=[8,8])\nsns.countplot('province',data=df,order=pd.value_counts(df['province']).iloc[:5].index)\nplt.figure(3,figsize=[8,8])\nsns.countplot('winery',data=df,order=pd.value_counts(df['winery']).iloc[:5].index)\nplt.figure(4,figsize=[8,8])\nsns.countplot('variety',data=df,order=pd.value_counts(df['variety']).iloc[:5].index)","189049b9":"from wordcloud import WordCloud, STOPWORDS\nstopwords = set(STOPWORDS)\n\nwordcloud = WordCloud(\n                          background_color='white',\n                          stopwords=stopwords,\n                          max_words=200,\n                          max_font_size=40, \n                          random_state=42\n                         ).generate(str(df['description']))\n\nprint(wordcloud)\nfig = plt.figure(figsize = (8, 8),facecolor = None)\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.show()","923efefb":"plt.figure(1)\nsns.boxplot(x=df['points'],color=\"blue\")\nplt.figure(2)\nsns.boxplot(x=df['price'],color=\"blue\")","c5054760":"plt.figure(1)\ndf['points'].value_counts().sort_index().plot.line()\nplt.title(\"Distribution of points\")\nplt.xlabel(\"points\")\nplt.ylabel(\"Values\")\nplt.figure(2)\ndf['price'].value_counts().sort_index().plot.line()\nplt.title(\"Distribution of price\")\nplt.xlabel(\"price\")\nplt.ylabel(\"Values\")","a4820f3b":"a=df[df['price']<200]\na['price'].fillna(a['price'].mean())\na.head()","b3ba2399":"sns.jointplot(x=\"price\", y=\"points\", data=a)","3b5559ae":"plt.figure(1)\nsns.barplot(y=\"variety\",x=\"points\",data=df,order=pd.value_counts(df['variety']).iloc[:5].index)\nplt.figure(2)\nsns.barplot(y='winery',x='points',data=df,order=pd.value_counts(df['winery']).iloc[:5].index)\nplt.figure(3)\nsns.barplot(y=\"variety\",x=\"price\",data=df,order=pd.value_counts(df['variety']).iloc[:5].index)\nplt.figure(4)\nsns.barplot(y='winery',x='price',data=df,order=pd.value_counts(df['winery']).iloc[:5].index)","01a190a9":"b=df[df['country'].isin(['US','France','Canada','Spain'])]\nb.head()","656431e7":"g=sns.FacetGrid(b, col=\"country\")\ng=g.map(sns.kdeplot, \"price\", color=\"r\")","e58138ef":"g = sns.FacetGrid(b, col = \"country\")\ng.map(sns.kdeplot, \"points\", color=\"r\")","06cd67af":"df1=df.groupby(['winery','designation']).size()\ndf1.sort_values(ascending=False)","cde1a874":"df2=df[df.variety.isin(df.variety.value_counts()[:5].index)]#top 5 variety values\ndf3=df[df.winery.isin(df.winery.value_counts()[:5].index)]#top 5 winery values\nplt.figure(1)\nsns.violinplot(x=\"points\",y=\"variety\",data=df2)\nplt.figure(2)\nsns.violinplot(x=\"points\",y=\"winery\",data=df3)","bbe3b5b9":"#df.reset_index(inplace=True)\na=df.pivot_table(values='price',index=['country','province'])\na.sort_values(by=['price'],ascending=False)","a9bab037":"Finding the number of designation in each winery","dddcfbc8":"USA and France wineries have a wide range of points extending from 80 to 100. The distribution is also imperfect.\nSpain have a almost normal distribution of points from 80 to 100.In Canada, the points are till 97 only.","3a3125e6":"Top 5 variety of wines have similar points greater than 90 whereas top 5 winery have different points. Testarossa and William Selyem have higher points as compared to the other 3 wineries.\nPrice shows a huge variation in both winery and variety. Chardonnay and Red Blenad are comparatively lower priced as compared to other 3 varities. Louis Latour winery is priced much  higher than other wineries","37aeeb32":"Creating a Facet grid of points and price of 4 countries: USA, France, Canada and Spain","e443194c":"As can be inferred, price has huge amount ofoutlier data becauze of the presence of some luxurious wines in france wineries.\nTo handle outlier data in price, price values are kept  less than 200 for bivariate analysis.","97d26318":"Description of price and points(numerical data) and finding outliers","339568f5":"Colares in Portugal has the highest mean price of wines whereas Viile Timisului in Romania has the lowest.","4dcae89a":"USA and France have the most number of winery. In USA , California has the most number of wine shops. \nWines & winemakers and Testarossa produces highest number of wines and Pinot Noir is the most preferred wine variety.","c401d1e2":"Plotting a word cloud of the description to find the most common words","96a2fc33":"Stillwater Creek Vineyard in Novelty Hill has the most number of wines.","cdcb00d6":"**Data Analysis**","a3d61ca1":"As can be seen, the top 5 variety of wines have close points range with median values close to each other. Only Pinot Noir has median points greater than 90.\nOn the other hand,  top 5 wineries have different point distributions with William Selyem having median points greater than 90 whereas DFJ Vinhos having median points close to 85","30e06922":"Region_2- These are more specific regions specified within a wine growing area (eg Rutherford inside the Napa Valley), but this value can be blank too.\nDesignation- The vineyard within the winery where the grapes that made the wine are from. So we can't replace the missing values with any other value. If analysis is required in designation column, then the misiing values will have to be omitted.\nSimilarly for taster_twitter_handle and taster_name , if analysis is required then missing values will have to be omitted","6758e195":"**Missing Value Analysis**","42006246":"Finding the association between points and price","2a137e4e":"[](http:\/\/)No duplicate data is there","1d8c35c4":"Since price has missing values as well as outlier data so we are taking price<200 and filling missing values with mean","dcb065ce":"Finding the points and price of the top 5 variety and winery","f587ea3f":"Points value are in the range of 80 to 100 whereas most prices are between 0 and 200 with few outlier data extending beyond 3000","08812ccd":"**Describing the data**","6a9c1efa":"Canada has the cheapest wines out of the 4 countries.Spain and Canada have a much lower price range and have wines less than 1000. USA and France show a much higher price range. France particularly have some luxurious wines with price greater than 3000","18c0b656":"As seen, price betweeen 0 to 75 have points between 80 and 95. Higher price have mostly points between 87.5 and 97.5 with few values of 100","71b93578":"**Handling duplicate data**","5717c084":"Plotting the top 5 countries,winery,variety and province  with most wines","404c01c3":"The top 5 words are aromas, flavour, oak , blackberry and wine. Mostly description is about type of flavours like berry, cherry and aroma and offers.","a747ef04":"Finding the points range of top 5 variety and winery","ed829bd3":"**Univariate data analysis**","9197364d":"Finding the mean price of each province in a country","fcebac82":"**Bivariate Data Analysis**"}}