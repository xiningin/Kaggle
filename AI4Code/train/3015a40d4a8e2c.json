{"cell_type":{"1d6d1676":"code","d299d2b8":"code","f276739c":"code","af7bf532":"code","a86c0bc1":"code","0350b1cc":"code","61f10b63":"code","a6517787":"code","3371622c":"code","c744262c":"code","b24e81c3":"code","7bd09569":"code","139fa207":"code","cc085c4c":"code","40a89010":"code","cb430339":"code","9a86bd97":"code","a66cb3a7":"code","d7afd445":"code","9decd935":"code","856d7eaf":"code","737536e3":"code","21d2cc5d":"code","5aac7d75":"markdown"},"source":{"1d6d1676":"df_train = pd.read_csv('C:\/Users\/teren\/Documents\/Python\/Practice\/US Births 2018 (Regression)\/US_Births(2018).csv')","d299d2b8":"def drop_rows(df_train):\n    '''\n    Dropping rows where missing: 'DBWT', 'BMI', 'DBWT', 'WTGAIN', 'PWgt_R', 'DLMP_MM', 'DLMP_YY'\n    '''\n    df_train.drop(df_train[df_train['DBWT'].eq(9999)].index, inplace=True)    \n    df_train.drop(df_train[df_train['BMI'].eq(99.9)].index, inplace=True)\n    df_train.drop(df_train[df_train['DBWT'].eq(9999)].index, inplace=True)\n    df_train.drop(df_train[df_train['WTGAIN'].eq(99)].index, inplace=True)\n    df_train.drop(df_train[df_train['PWgt_R'].eq(999)].index, inplace=True)\n    df_train.drop(df_train[df_train['DLMP_MM'].eq(99)].index, inplace=True)\n    df_train.drop(df_train[df_train['DLMP_YY'].eq(9999)].index, inplace=True)\n    \n    df_train.drop(columns=['IMP_SEX'], inplace=True)\n    return df_train\ndf_train = drop_rows(df_train)","f276739c":"#creating new column 'pregnancy_length': An estimation of the gestation period by subtracting the month\/year of last menses from month\/year of baby born\nconditions = [(df_train['DOB_MM'] > df_train['DLMP_MM']) & (2018 == df_train['DLMP_YY']),\n                  (df_train['DOB_MM'] > df_train['DLMP_MM']) & (2018 > df_train['DLMP_YY']),\n                  (df_train['DOB_MM'] < df_train['DLMP_MM']) & (2018 > df_train['DLMP_YY'])]\nchoices = [df_train['DOB_MM'] - df_train['DLMP_MM'],\n               ((df_train['DOB_YY'] - df_train['DLMP_YY'])* 12) + df_train['DOB_MM'] - df_train['DLMP_MM'],\n               ((df_train['DOB_YY'] - df_train['DLMP_YY'])* 12) - df_train['DLMP_MM'] + df_train['DOB_MM']]\ndf_train['pregnancy_length'] = np.select(conditions,choices, 12)","af7bf532":"df_train.describe()","a86c0bc1":"sns.distplot(df_train['DBWT'])","0350b1cc":"plt.figure(figsize=(6,5))\nsns.distplot(df_train[df_train['SEX'] == 'F']['DBWT'], label = 'Female')\nsns.distplot(df_train[df_train['SEX'] == 'M']['DBWT'], label = 'Male')\nplt.title('Distribution of Baby Weight Separated by Gender')\nplt.xlabel('Baby Weight in Grams')\nplt.legend();\n#Find the distirbution of weights between the sexes","61f10b63":"stats.f_oneway(df_train[df_train['SEX'] == 'F']['DBWT'],\n               df_train[df_train['SEX'] == 'M']['DBWT'])","a6517787":"#Assign the value 1 if male in variable Sex_M\ndf_train['SEX_M'] = np.where(df_train['SEX'] == 'M', 1, 0)\ndf_train['SEX_M'].describe()","3371622c":"#Let's determine if smoking is a factor in baby weight\n#First, let's create a dummy variable with var CIG_0\ndf_train.loc[df_train['CIG_0'].between(1, 98), 'Smoking Habit'] = 1\ndf_train.loc[df_train['CIG_0'].eq(0), 'Smoking Habit'] = 0","c744262c":"df_train['DBWT'].groupby(df_train['Smoking Habit']).describe()","b24e81c3":"#Find the distirbution of baby weights by the mothers' previous smoking habits\nplt.figure(figsize=(6,5))\nsns.distplot(df_train[df_train['Smoking Habit'].eq(0)]['DBWT'], label = 'Never Smoked')\nsns.distplot(df_train[df_train['Smoking Habit'].eq(1)]['DBWT'], label = 'Smoked Daily')\nplt.title('Distribution of Baby Weight Separated by Mother Previous Smoking Habit')\nplt.xlabel('Baby Weight in Grams')\nplt.legend();\n","7bd09569":"stats.f_oneway(df_train[df_train['Smoking Habit'].eq(0)]['DBWT'],\n               df_train[df_train['Smoking Habit'].eq(1)]['DBWT'])","139fa207":"fig, ax = plt.subplots(figsize=(24,10))\nsns.boxplot(x='MRAVE6',y='DBWT', data=df_train, palette='muted')\nax.set_title('Distribution of Baby Weight Separated by Race')\nax.set_xlabel('Mother\\'s Race')\nax.set_ylabel('Baby Weight in Grams')\nax.set_xticklabels(['White(only)','Black(only)','AIAN(only)','Asian(only)','NHOPI(only)','More than one race']);","cc085c4c":"_X =pd.get_dummies(df_train, columns=[ 'MRAVE6', 'RDMETH_REC'\n                                ]).copy()","40a89010":"pd.set_option('display.max_columns', 500)\n_X.head()","cb430339":"# null: Baby Weights of Moms of different Race are equal\n# alt: Baby Weights of Moms of different Race are NOT equal\n# alpha: 0.05\nstats.f_oneway(_X[_X['MRAVE6_1'].eq(1)]['DBWT'],\n              _X[_X['MRAVE6_2'].eq(1)]['DBWT'],\n              _X[_X['MRAVE6_3'].eq(1)]['DBWT'],\n              _X[_X['MRAVE6_4'].eq(1)]['DBWT'],\n              _X[_X['MRAVE6_5'].eq(1)]['DBWT'],\n              _X[_X['MRAVE6_6'].eq(1)]['DBWT'])\n# reject null. There is significant evidence to suggest that the all race babies are not the same.","9a86bd97":"fig, ax = plt.subplots(figsize=(24,10))\nsns.boxplot(x='pregnancy_length',y='DBWT', data=df_train, palette='muted')\nax.set_title('Distribution of Baby Weight Separated by Gestation Period')\nax.set_xlabel('Mother\\'s Gestation Period')\nax.set_ylabel('Baby Weight in Grams')","a66cb3a7":"#dropping rows that with gestation period greater than 12 and less than 5, treating them as outliers\ndf_train.drop(df_train[df_train['pregnancy_length'].gt(12)].index,inplace=True)\ndf_train.drop(df_train[df_train['pregnancy_length'].lt(5)].index,inplace=True)","d7afd445":"fig, ax = plt.subplots(figsize=(14,10))\nsns.boxplot(x='pregnancy_length',y='DBWT', data=df_train, palette='muted')\nax.set_title('Distribution of Baby Weight Separated by Gestation Period')\nax.set_xlabel('Mother\\'s Gestation Period')\nax.set_ylabel('Baby Weight in Grams')","9decd935":"# null: Baby weights of all gestation periods are equal\n# alt: Baby weights of all gestation periods are NOT equal\n# alpha: 0.05\nstats.f_oneway(df_train[df_train['pregnancy_length'].eq(5)]['DBWT'],\n              df_train[df_train['pregnancy_length'].eq(6)]['DBWT'],\n              df_train[df_train['pregnancy_length'].eq(7)]['DBWT'],\n              df_train[df_train['pregnancy_length'].eq(8)]['DBWT'],\n              df_train[df_train['pregnancy_length'].eq(9)]['DBWT'],\n               df_train[df_train['pregnancy_length'].eq(10)]['DBWT'],\n               df_train[df_train['pregnancy_length'].eq(11)]['DBWT'],\n               df_train[df_train['pregnancy_length'].eq(12)]['DBWT'])\n# reject null. There is significant evidence to suggest that that the length of gestation has an effect on baby weight","856d7eaf":"df_train['DBWT'].groupby(df_train['pregnancy_length']).describe()","737536e3":"fig, ax = plt.subplots(figsize=(14,10))\nsns.boxplot(x='pregnancy_length',y='DBWT',data=_X, hue = 'RDMETH_REC_3',palette = 'muted', ax=ax)\nhandles, _ = ax.get_legend_handles_labels()\nax.legend(loc='upper right', handles = handles, labels = ['No Cesar', 'Yes Cesar'])\nax.set_title('Baby Weight vs Total Months of Gestation with-without C-Section')\nax.set_ylabel('Baby Weight by Grams')\nax.set_xlabel('Total Months of Gestation');","21d2cc5d":"# defining the variables \nx = _X[['MRAVE6_1', 'MRAVE6_2', 'MRAVE6_3']]\ny = _X['DBWT']\n# adding the constant term \nx = sm.add_constant(x) \n# performing the regression \n# and fitting the model \nresult = sm.OLS(y, x).fit() \n  \n# printing the summary table \nprint(result.summary()) ","5aac7d75":"null: Male Baby Weight = Female Baby Weight <br>\nalt: Male Baby Weight != Female Baby Weight <br>\nalpha: 0.05 <br> <br>\n\nWith a p-value of 0, we reject the null hypothesis that there is no significant evidence that male babies weight the same as female babies"}}