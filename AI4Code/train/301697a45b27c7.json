{"cell_type":{"6d59f876":"code","884297c3":"code","0522509a":"code","f06ad175":"code","a36b2237":"code","a40e19f3":"code","e0105631":"code","9659cddb":"code","1d14a30a":"code","a09109f0":"code","dc61e1d5":"code","253848ff":"code","98c60e88":"code","c901db14":"code","637729ed":"code","0670d11b":"code","1da5f0c7":"code","f6fe0e1c":"code","8a88f8c8":"code","020e6697":"code","01beef27":"code","91a8f8c4":"code","1d25c3c2":"code","17816190":"code","182ec397":"code","eac74e28":"code","51dba652":"code","3de51898":"code","d9cd1337":"code","4b59ad3f":"code","90c01659":"markdown","24ed86cd":"markdown","3b7d9997":"markdown","d75822a8":"markdown","103adc8d":"markdown","5b23ddf2":"markdown","14c8f9e1":"markdown"},"source":{"6d59f876":"#\u5bfc\u5165\u5206\u6790\u8fc7\u7a0b\u4e2d\u4f1a\u7528\u5230\u7684\u5e93\n#pyplot\u662f\u53ef\u4ee5\u5bf9\u56fe\u50cf\u505a\u51fa\u4e00\u4e9b\u6539\u53d8\u7684\u51fd\u6570\u96c6\u5408\uff0c\u548cMATLAB\u7c7b\u4f3c,\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570\u8c03\u7528\u7684\u65b9\u5f0f\u6765\u4fdd\u5b58\u56fe\u50cf\u72b6\u6001\n#encoding='gbk'\u58f0\u660e\u4e2d\u6587\u7f16\u7801\uff0c\u5728\u5206\u6790\u8fc7\u7a0b\u4e2d\u7528\u5230\u4e2d\u6587\u5b57\u7b26\u65f6\u4f7f\u7528\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nfrom numpy import nan as NaN\nfrom functools import reduce\nencoding='gbk'","884297c3":"#\u5148\u5c06\u5404\u4e2a\u6c61\u67d3\u7269\u542b\u91cf\u968f\u5e74\u4efd\u53d8\u5316\u7684\u6570\u636e\u6587\u4ef6\u5bfc\u5165\uff0c\u7531\u4e8e\u6e90\u6587\u4ef6\u7684\u540d\u5b57\u547d\u540d\u8fc7\u4e8e\u590d\u6742\uff0c\u6211\u5c06\u5176\u505a\u4e86\u7b80\u5316\u547d\u540d\u5904\u7406,\u5bfc\u5165\u540e\u7684\u6587\u4ef6\u7c7b\u578b\u4e3adataframe\n#CSV\u6587\u4ef6\u5bfc\u5165\u7528\u5230\u7684\u51fd\u6570\u4e3a\uff1apd.read_csv(\"\u6587\u4ef6\u8def\u5f84\"),\u6bd4\u5982\uff1a\"D:\\koggle_data\\pollutant1121\\CO.csv\"\ndf1=pd.read_csv(\"..\/input\/CO.csv\")\ndf2=pd.read_csv(\"..\/input\/NO2.csv\")\ndf3=pd.read_csv(\"..\/input\/O3.csv\")\ndf4=pd.read_csv(\"..\/input\/Pb.csv\")\ndf5=pd.read_csv(\"..\/input\/SO2.csv\")\ndf6=pd.read_csv(\"..\/input\/pm10.csv\")\ndf7=pd.read_csv(\"..\/input\/pm2.5.csv\")","0522509a":"#\u8fd9\u91cc\u6211\u4eec\u5c06\u5404\u4e2a\u8868\u683c\u8fdb\u884c\u5408\u5e76\uff0c\u5f97\u5230\u5404\u4e2a\n#\u539f\u4f5c\u8005\u662f\u4e0d\u65ad\u4f7f\u7528merge\u51fd\u6570\uff0c\u5c06\u5404\u4e2adf\u8fde\u7eed\u5408\u5e76\uff0c\u9700\u89816\u884c\uff0c\u6211\u4eec\u4f7f\u7528reduce\uff0c\u53ea\u9700\u4e24\u884c\u5c31\u53ef\u4ee5\n#merge\u51fd\u6570\uff1apd.merge(\u88681,\u88682,on=\u5408\u5e76\u5217\uff1bleft_on\/rigtht_on-\u5217\u540d\u4e0d\u4e00\u6837\u65f6\u5206\u522b\u6307\u5b9a\uff1b\n#left_index\/right_index=True-\u76f8\u5f53\u4e8e\u5c06\u7d22\u5f15\u4f5c\u4e3a\u5408\u5e76\u5217\uff1bsort=true\/false-\u5408\u5e76\u540e\u7684\u6570\u636e\u662f\u5426\u6392\u5e8f\uff0cfalse\u4e3a\u9ed8\u8ba4\uff1b\n#suffixes=[\"_r\",\"_l\"]-\u5f53\u4e24\u4e2a\u8868\u6709\u76f8\u540c\u7684\u5217\u540d\u7684\u65f6\u5019\u5206\u522b\u52a0\u4e0a\u540e\u7f00\u6765\u533a\u5206\uff1b\u2019indicater=true\/\u540d\u5b57-\u8868\u793a\u663e\u793a\u6570\u636e\u6765\u81eaboth\/left_only\/right_only\uff1b\n#copy-\u5c06\u6570\u636e\u590d\u5236\u5230\u6570\u636e\u7ed3\u6784\u4e2d\uff0c\u4e00\u822c\u4e0d\u8bbe\uff1bhow=inner\u9ed8\u8ba4\/outer\/left\/right,\u8868\u793a\u5408\u5e76\u540e\u5408\u5e76\u5217\u4e0d\u4e00\u6837\u65f6\u4fdd\u7559\u76f8\u540c\/\u5168\u90e8\/\u5de6\u8fb9\/\u53f3\u8fb9)\n#reduce\u51fd\u6570\uff1areduce(\u51fd\u6570,\u5143\u7d20\u5217\u8868\uff0c\u521d\u59cb\u503c) \uff0c\u4e0d\u8bbe\u7f6e\u521d\u59cb\u503c\u7684\u65f6\u5019\uff0c\u5c06\u5143\u7d20\u5217\u8868\u4f9d\u6b21\u8fdb\u884c\u51fd\u6570\u8fd0\u7b97\uff0c\u4e00\u6b21\u8fd0\u7b97\u7684\u7ed3\u679c\u548c\u4e0b\u4e00\u4e2a\u5143\u7d20\u8fdb\u884c\u8fd0\u7b97\uff0c\u8bbe\u521d\u59cb\u503c\u5219\u4ee5\u521d\u59cb\u503c\u4e3a\u5148\ndata_frames = [df1,df2,df3,df4,df5,df6,df7]\ndf_merged = reduce(lambda  left,right: pd.merge(left,right,on=['year'],\n                                            how='outer'), data_frames)\ndf_merged\n","f06ad175":"#\u8fd9\u91cc\u63d0\u524d\u505a\u6570\u636e\u51c6\u5907\uff0c\u540e\u9762\u4f1a\u591a\u6b21\u7528\u5230\nyear=range(2008,2015)#\u6211\u4eec\u8981\u6bd4\u8f83\u7684\u5e74\u4efd\u7edf\u4e00\u57282008\u5e74\u52302014\u5e74\u4e4b\u95f4\nDIMS=(16,8)#\u6211\u4eec\u540e\u9762\u7ed8\u5236\u56fe\u8868\u7684\u65f6\u5019\u4f1a\u7edf\u4e00\u56fe\u8868\u7684\u5927\u5c0f\uff0c\u6240\u4ee5\u4e8b\u5148\u58f0\u660e\uff0c\u5927\u5c0f\u4e3a(16,8)","a36b2237":"#\u8fd9\u91cc\u6211\u4eec\u60f3\u8981\u5f97\u5230\u7684\u7ed3\u679c\u662f\u8bb2\u5404\u4e2a\u7a7a\u6c14\u6c61\u67d3\u503c\u505a\u5f52\u4e00\u5316\u5904\u7406\uff0c\u4ee5\u4fbf\u4e8e\u5728\u540c\u4e00\u6570\u91cf\u7ea7\u8fdb\u884c\u6bd4\u8f83\n#dropna(axis=0\/1\u8868\u793a\u53bb\u9664\u5e26\u6709NAN\u7684\u884c\u9ed8\u8ba4\/\u5217,how=\"all\"\u8868\u793a\u5168\u90e8\u4e3aNAN\u624d\u53bb\u6389)\u51fd\u6570\n#isin\u51fd\u6570\u751f\u6210\u5e03\u5c14\u503c\uff0c\u5229\u7528\u5e03\u5c14\u503c\u5bf9df\u8fdb\u884c\u7b5b\u9009\uff1bdf[df['\u5217\u540d'].isin(['\u503c1','\u503c2','\u503c3'...])\u751f\u6210\u67d0\u4e00\u5217\u7684\u5e03\u5c14\u7ed3\u679c]\u76f4\u63a5\u751f\u6210\u7b5b\u9009\u540e\u7684df\u8868\n#isin\u591a\u6761\u4ef6\u7684\u7b5b\u9009\uff1adf.\u5217\u540d1.isin([\u503c1\uff0c\u503c2\uff0c\u503c3...])&df.\u5217\u540d2.isin([\u503c1\uff0c\u503c2\uff0c\u503c3...])\n#drop(\u884c\u7d22\u5f15\/\u5217\u540d,axis=0\u9ed8\u8ba4\/1,inplace=True\u8868\u793a\u66ff\u6362\u539f\u6570\u636e,\u4e0d\u9700\u8981\u518d\u53e6\u5916\u8d4b\u503c)\u7528\u4e8e\u5220\u9664df\u7684\u884c\u5217\uff0c\u9ed8\u8ba4\u5220\u9664\u884c\uff0c\u6307\u5b9a\u5217\u53caaxis=1\u65f6\u5220\u9664\u5217\n#\u6570\u636e\u5f52\u4e00\uff1a1.min-max\u6807\u51c6\u5316\uff1a(x-min)\/(max-min) \u7ed3\u679c\u4f4d\u4e8e[0-1]\u4e4b\u95f4 2.Z-score\u6807\u51c6\u5316\u65b9\u6cd5\uff1a(x-\u5e73\u5747\u503c)\/\u6807\u51c6\u5dee \u7ed3\u679c\u7b26\u5408\u6b63\u6001\u5206\u5e03,\u5e73\u5747\u503c=0,\u65b9\u5dee=1\ndf_std=df_merged.dropna().sort_values(\"year\")\nyear=range(2008,2015)\ndf_std=df_std[df_std[\"year\"].isin(year)]#\u751f\u62102008\u5e74\u52302014\u5e74\u7684\u6570\u636e\u8868\ndf_std.drop('year',axis=1,inplace=True)\ndf_std=(df_std-df_std.mean())\/df_std.std()#\u6570\u636e\u7684\u5f52\u4e00\u5316\u5904\u7406\ndf_std[\"year\"]=year\ndf_std\n#df_std\u4e3a\u5404\u4e2a\u6c61\u67d3\u7269\u6309\u5e74\u4efd\u7684\u6570\u503c\u53d8\u5316\u8868","a40e19f3":"#\u6839\u636e\u4f01\u4e1a\u95e8\u6237\u7f51\u7ad9\u7684\u7edf\u8ba1\uff0c\u5236\u9020\u4e1a\u5360\u4e86\u65b0\u52a0\u5761\u751f\u4ea7\u603b\u503c\u768420%-25%\uff0c\u5e76\u4e14\u6700\u5927\u7684\u4e24\u4e2a\u884c\u4e1a\u662f\u7535\u5b50\u5149\u5b66\u4ea7\u54c1\u4ee5\u53ca\u5316\u5de5\u4ea7\u54c1\n#\u6211\u4eec\u5c06\u5404\u4e2a\u4ea7\u4e1a\u8fdb\u884c\u7edf\u8ba1\u6c42\u548c,\u53d1\u73b0\u4e0a\u8ff0\u4e24\u4e2a\u4ea7\u4e1a\u786e\u5b9e\u4f4d\u4e8e\u7b2c\u4e00\u3001\u7b2c\u4e09\u4f4d\n#\u6e90\u6587\u4ef6\u91cc\u9762\u53ea\u770b\u4e86\u7535\u5b50\u5149\u5b66\u53ca\u5316\u5de5\u4ea7\u54c1\u7684\u5f71\u54cd\uff0c\u6211\u8fd9\u91cc\u52a0\u4e0a\u6392\u540d\u7b2c\u4e8c\u7684\u7cbe\u70bc\u6cb9\u4ea7\u54c1\u7684\u5206\u6790\n#groupby\u4e3a\u5206\u7c7b\u51fd\u6570\uff0c\u914d\u5408\u8fd0\u7b97\u51fd\u6570\u8fdb\u884c\u5206\u7c7b\u6c47\u603b\n#groupby([\"\u5217\u4e00\",\"\u5217\u4e8c\"...])[\"\u5217\u4e09\"].sum\/count\/mean()...\u76f8\u5f53\u4e8e\u5bf9\u5217\u4e00\u5217\u4e8c\u8fdb\u884c\u5206\u7c7b\uff0c\u5e76\u5bf9\u5217\u4e09\u8fd0\u7b97\uff0c\u5217\u4e09\u53ef\u4ee5\u4e0d\u586b\uff0c\u5373\u5bf9\u5176\u5b83\u6240\u6709\u5217\u8fd0\u7b97\n#sort_values\u662f\u6392\u5e8f\u51fd\u6570\uff1asort_values(\u5217\u540d-\u5373\u4ee5\u54ea\u4e00\u5217\u7684\u6392\u5e8f\u4e3a\u51c6\uff0caxis=0\/1\u9ed8\u8ba40\u7eb5\u5411\u6392\u5e8f\uff0cascending=True\/False,\u5347\u5e8f\u964d\u5e8f)\ndf_industry=pd.read_csv(\"..\/input\/Industry_values.csv\")\ndf_industry=df_industry[df_industry[\"year\"].isin(year)]#\u5e74\u4efd\u7b5b\u9009\ndf_industry.groupby(\"product_type\").sum().sort_values(\"values\",ascending=False)#\u7edf\u8ba1\u5206\u6790","e0105631":"#\u8fd9\u91cc\u60f3\u8981\u5f97\u5230\u548c\u4e0a\u9762\u7a7a\u6c14\u6c61\u67d3\u503c\u53d8\u5316\u8868\u4e00\u6837\u7c7b\u578b\u7684\u8868\uff0c\u5373\u4ea7\u54c1\u7c7b\u578b\u4e3a\u5217\u540d\uff0c\u5e74\u4efd\u4e3a\u884c\u540d\n#stack\/unstack(0\/1)-\u4e3a\u5806\u53e0\u548c\u4e0d\u8981\u5806\u53e0\uff0cstack()\u503e\u5411\u4e8e\u5c06\u8868\u683c\u7ed3\u6784\u53d8\u4e3a\u53cc\u7d22\u5f15\u7ed3\u6784\uff0cunstack\u5219\u76f8\u53cd\uff0c\u9ed8\u8ba4\u5c06\u7b2c\u4e8c\u5c42\u7d22\u5f15\u53d8\u4e3a\u5217\u540d\uff0c\u53c2\u6570\u4e3a1\u65f6\u79fb\u52a8\u7b2c\u4e00\u6b21\u7d22\u5f15\n#\u5f53\u5806\u53e0\u8868\u683c\u6709\u591a\u5217\u503c\u65f6\uff0c\u5728\u524d\u9762\u52a0\u5217\u540d\u9009\u5b9a\u67d0\u5217\uff0c\u5373\u53ea\u80fd\u9488\u5bf9\u4e00\u5217\u53bb\u5806\u53e0:df[\u5217\u540d].unstack()\n#\u6211\u662f\u5148\u901a\u8fc7\u5c06\u5e74\u4efd\u548c\u4ea7\u54c1\u7c7b\u578b\u5206\u7c7b\u6c42\u548c\uff0c\u7531\u4e8e\u53ea\u6709values\u53ef\u4ee5\u6c42\u548c\uff0c\u56e0\u6b64\u6b63\u597d\u8fc7\u6ee4\u4e86\u5176\u4ed6\u6570\u636e\n#\u539f\u4f5c\u8005\u5148\u5c06\u5e74\u4efd\u548c\u7c7b\u578b\u8bbe\u7f6e\u4e3a\u7d22\u5f15\uff0c\u518d\u9488\u5bf9values\u5217\u53bb\u5806\u53e0\u5c55\u5f00\uff1adf_industry=df_industry.set_index([\"year\",\"product_type\"])[\"values\"].unstack()\nproduct_type=[\"Computer, Electronic & Optical Products\",\"Refined Petroleum Products\",\"Chemicals & Chemical Products\"]\ndf_industry=df_industry[df_industry['product_type'].isin(product_type)]\ndf_industry=df_industry.groupby([\"year\",\"product_type\"]).sum().unstack()\ndf_industry","9659cddb":"#\u5c06values\u8fd9\u4e00\u5c42\u7684\u7d22\u5f15\u53bb\u9664\n#reset_index\u4e3a\u91cd\u7f6e\u7d22\u5f15,df.reset_index\u8868\u793a\u91cd\u7f6e\u5217\u7d22\u5f15\uff0cser.df.reset_index\u8868\u793a\u91cd\u7f6e\u884c\u7d22\u5f15\uff0cdrop=True\u8868\u793a\u91cd\u7f6e\u7684\u65f6\u5019\u53bb\u6389\u539f\u7d22\u5f15\ndf_industry=df_industry['values'].reset_index(drop=True)\ndf_industry","1d14a30a":"#\u6570\u636e\u5f52\u4e00\u5316\u5e76\u52a0\u4e0a\u5e74\u4efd\ndf_industry=(df_industry-df_industry.mean())\/df_industry.std()\ndf_industry[\"year\"]=year\ndf_industry\n","a09109f0":"#\u5c06df_std\u6c14\u4f53\u53d8\u5316\u8868\u548cdf_industry\u5de5\u4e1a\u4ea7\u54c1\u4ea7\u503c\u53d8\u5316\u8868\u5408\u5e76\ndf_industry2=pd.merge(df_industry,df_std,on=[\"year\"],how=\"outer\")\ndf_industry2","dc61e1d5":"#pd.corr(),\u4e3a\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\uff0c\u8868\u793a\u4e24\u5217\u6570\u636e\u7684\u76f8\u5173\u6027\u30020.3-0.8\uff0c\u53ef\u4ee5\u8ba4\u4e3a\u5f31\u76f8\u5173\u30020.3\u4ee5\u4e0b\uff0c\u8ba4\u4e3a\u6ca1\u6709\u76f8\u5173\u6027\uff0c0.8\u4ee5\u4e0a\uff0c\u8ba4\u4e3a\u5f3a\u76f8\u5173\n#corr\u7684\u53c2\u6570\u4e3amethod=pearson\u8ba1\u7b97\u7ebf\u6027\u76f8\u5173\u7cfb\u6570\uff0c\u8fde\u7eed\u503c\uff1bspearman\u7528\u4e8e\u8ba1\u7b97\u6709\u5e8f\u6027\u76f8\u5173\u7cfb\u6570\uff0c\u6709\u5148\u540e\uff1bKendall\u7528\u4e8e\u5206\u7c7b\u6027\u6570\u636e\u7684\u76f8\u5173\u7cfb\u6570\n#\u4ece\u4e0b\u8868\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u5316\u5de5\u4ea7\u54c1\u548c\u81ed\u6c27\u7684\u6b63\u76f8\u5173\u6027\u8fbe0.821\uff0c\u7535\u5b50\u4ea7\u54c1\u548c\u4e00\u6c27\u5316\u78b3\u7684\u76f8\u5173\u6027\u8fbe\u6b630.857\uff0c\u800c\u7cbe\u70bc\u77f3\u6cb9\u4ea7\u54c1\u548c\u5404\u4e2a\u6c14\u4f53\u90fd\u6ca1\u6709\u660e\u663e\u7684\u6b63\u76f8\u5173\u6027\nindustry_corr=df_industry2.corr(method=\"spearman\")\nindustry_corr\n","253848ff":"#\u56e0\u6b64\u6211\u4eec\u901a\u8fc7\u56fe\u8868\u6765\u770b\u4e00\u4e0b\u5316\u5de5\u4ea7\u54c1\u548c\u81ed\u6c27\u3001\u7535\u5b50\u4ea7\u54c1\u548c\u4e00\u6c27\u5316\u78b3\u7684\u53d8\u5316\u5173\u7cfb\n#\u5148\u7ed8\u5236\u81ed\u6c27\u968f\u5e74\u4efd\u53d8\u5316\u7684\u56feplot(x=x\u8f74\u5217,y=y\u8f74\u5217,kind=\u7ebf\u578bline\/bar\/barh\/hist...grid=True\u663e\u793a\u7f51\u683c,figsize=(\u957f,\u5bbd),ax=\u753b\u5728\u54ea\u5f20\u56fe\u50cf\u91cc\uff0c\u4e0d\u6307\u5b9a\u5219\u65b0\u5efa\u56fe\u50cf)\n#plt.legeng(loc='\u4f4d\u7f6e1 \u4f4d\u7f6e2',bbox_to_anchor=(\u4f5c\u6bd4\u8f83\u70b9\u7684\u4f4d\u7f6e))\uff0c\u4f5c\u6bd4\u8f83\u70b9\u7684\u4f4d\u7f6e(1,0.5)\u8868\u793a\u4e00\u4e2a\u56fe\u8868\u957f\uff0c0.5\u4e2a\u56fe\u8868\u5bbd\u7684\u70b9\u7684\u4f4d\u7f6e\uff1b\n#loc\u8868\u793a\u4f5c\u6bd4\u8f83\u70b9\u76f8\u5bf9\u4e8e\u6807\u7b7e\u7684\u4f4d\u7f6e-('center left')\u8868\u793a\u4f5c\u6bd4\u8f83\u70b9\u5728\u6807\u7b7e\u7684\u4e2d\u95f4\u6700\u5de6\u8fb9\u7684\u4f4d\u7f6e\uff0c\u6ce8\u610f\u683c\u5f0f-\u53ea\u6709\u4e00\u4e2a\u5f15\u53f7\uff0c\u4e14\u4e2d\u95f4\u4e3a\u7a7a\u683c\nO3_graph=df_std.plot(x='year',y='O3_mean',kind='line',grid=True,figsize=DIMS)\ndf_industry.plot(x='year',y=\"Chemicals & Chemical Products\",kind='line',grid=True,ax=O3_graph)\nplt.legend(loc='center left',bbox_to_anchor=(1,0.5))\nplt.show()\n#\u4ece\u56fe\u8868\u53ef\u4ee5\u770b\u5230\u81ed\u6c27\u548c\u5316\u5de5\u4ea7\u54c1\u53d8\u5316\u7684\u8d8b\u52bf\u975e\u5e38\u76f8\u4f3c\uff0c\u540c\u65f6\u76f8\u5173\u7cfb\u6570\u8868\u793a\u4e24\u8005\u786e\u5b9e\u5b58\u5728\u8f83\u5927\u7684\u76f8\u5173\u6027\uff0c\u4ece\u800c\u4ece\u56fe\u5f62\u548c\u6570\u5b66\u89d2\u5ea6\u8bc1\u660e\u4e86\u81ed\u6c27\u7684\u4e0a\u5347\u548c\u5316\u5de5\u4ea7\u54c1\u6709\u5173","98c60e88":"#\u540c\u7406\uff0c\u6211\u4eec\u5f97\u5230\u4e00\u6c27\u5316\u78b3\u548c\u7535\u5b50\u5149\u5b66\u4ea7\u54c1\u7684\u53d8\u5316\u8d8b\u52bf\u56fe\uff0c\u7ed3\u679c\u548c\u4e0a\u9762\u4e00\u6837\nCO_graph=df_std.plot(x='year',y='CO_mean',kind='line',grid=True,figsize=DIMS)\ndf_industry.plot(x='year',y=\"Computer, Electronic & Optical Products\",kind='line',grid=True,ax=CO_graph)\nplt.legend(loc='center left',bbox_to_anchor=(1,0.5))\nplt.show()","c901db14":"#\u4e0b\u9762\u6211\u4eec\u6765\u5c1d\u8bd5\u9a8c\u8bc1\u5047\u8bbe2.\u5efa\u7b51\u623f\u5c4b\u6570\u91cf\u589e\u957f\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\n#\u9996\u5148\u5bfc\u5165\u5c45\u6c11\u5c45\u4f4f\u7528\u5b85\u7684\u6570\u636e,\u53ef\u4ee5\u770b\u5230\u524d\u976215\u884c\u7684\u6570\u636e\n#\u65b0\u52a0\u5761\u7684\u5c45\u4f4f\u7528\u623f\u4e3b\u8981\u4ee5HDB\u4e3a\u4e3b\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u5206\u6790HDB\uff0c\u5e76\u4e14\u9009\u62e9\u5728\u5efa\u7684\u7c7b\u578b\uff0c\u8fd9\u91cc\u9ed8\u8ba4\u5728\u5efa\u7684\u5efa\u7b51\u624d\u4f1a\u4ea7\u751f\u6c61\u67d3\ndf_hdb=pd.read_csv('..\/input\/Residential_building.csv')\ndf_hdb.head(15)","637729ed":"#\u6211\u4eec\u5bf9\u5e74\u4efd\u548c\u5efa\u7b51\u7c7b\u578b\u4ee5\u53ca\u72b6\u6001\u4e3a\u5728\u5efa\u7684\u6570\u636e\u540c\u65f6\u505a\u4e86\u7b5b\u9009\uff0c\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\ndf_hdb=df_hdb[df_hdb['year'].isin(year)&df_hdb['building_type'].isin(['HDB Flats'])&df_hdb['state'].isin(['Under Construction'])]\ndf_hdb","0670d11b":"#\u518d\u6765\u5bfc\u5165\u5546\u4e1a\u7528\u623f\u7684\u6570\u636e,\u89c2\u5bdf\u524d\u976215\u884c\u7684\u6570\u636e\uff0c\u5404\u4e2a\u5e74\u4efd\u4e0d\u540c\u7c7b\u578b\u7684\u5546\u4e1a\u5efa\u7b51\u53ca\u5904\u4e8e\u540c\u72b6\u6001\u7684\u6570\u91cf\u4e0d\u540c\ndf_commercial=pd.read_csv('..\/input\/Commercial_buildings.csv')\ndf_commercial.head(15)","1da5f0c7":"#\u5c06\u5404\u4e2a\u5efa\u7b51\u7c7b\u578b\u8fdb\u884c\u6c47\u603b\u6392\u5e8f\uff0c\u524d\u4e09\u5206\u522b\u4e3a\uff1a\u996d\u5e97\u3001\u5546\u8d85\u53ca\u5c0f\u578b\u5e02\u573a\uff0c\u539f\u4f5c\u8005\u53ea\u9009\u62e9\u4e86\u524d\u4e24\u8005\u5206\u6790\uff0c\u6211\u628a\u7b2c\u4e09\u8005\u4e5f\u52a0\u4e0a\u53bb\u770b\u4e00\u4e0b\u7ed3\u679c\ndf_commercial2=df_commercial.groupby(['building_type'])['number'].sum().sort_values(ascending=False)\ndf_commercial2","f6fe0e1c":"#\u7b5b\u9009\u51fa\u4e0a\u8ff0\u4e09\u79cd\u76ee\u6807\u5efa\u7b51\uff0c\u5e76\u7ed3\u5408\u5e74\u4efd\u3001\u72b6\u6001\u8fdb\u884c\u8fdb\u4e00\u6b65\u7b5b\u9009\ndf_commercial=df_commercial[df_commercial['year'].isin(year)&df_commercial['building_type'].isin(['Shops, Lock-Up Shops and Eating Houses','Emporiums and Supermarkets','Mini-markets'])&df_commercial['state'].isin(['Under Construction'])]\ndf_commercial","8a88f8c8":"#\u6211\u4eec\u5bf9\u5546\u4e1a\u4f4f\u5b85\u7684\u6570\u636e\u8fdb\u884c\u4e86\u5904\u7406\uff0c\u4f7f\u5176\u6210\u4e3a\u5c55\u793a\u5404\u4e2a\u7c7b\u578b\u5efa\u7b51\u6570\u91cf\u7684\u8868\u683c\ndf_commercial=df_commercial.set_index(['year','building_type'])['number'].unstack()\ndf_commercial\n","020e6697":"#\u5c06hdp\u7684\u6570\u91cf\u548ccommercial\u6570\u91cf\u7684\u6570\u636e\u5408\u5e76\u6210\u4e00\u4e2a\u8868\u683c\uff0c\u7528\u5230\u4e86dataframe\u7684\u7b5b\u9009\u5217\u3001\u5408\u5e76\u8868\u3001\u4fee\u6539\u5217\u540d\n#\u7b5b\u9009df\u4e2d\u7684\u67d0\u51e0\u5217\u5f62\u6210\u65b0\u8868\uff1adf[\u5217\u540d]\uff1bdf[[\u2018\u5217\u540d1\u2019\uff0c\u2018\u5217\u540d2\u2019...]] \u5206\u522b\u8868\u793a\u9009\u62e9\u4e00\u5217\u548c\u591a\u5217\u7684\u60c5\u51b5\n#df\u4fee\u6539\u5217\u540d\uff1adf.rename(columns={'a':'b','c':'d'...},inplace=True)\n#\u4f7f\u7528\u5207\u7247\u5de5\u5177\u9009\u62e9\u4e86df\u7684\u67d0\u51e0\u5217-iloc\u662f\u6839\u636e\u884c\u53f7\u3001\u5217\u6392\u5e8f\u6765\u7d22\u5f15\uff1b\u800cloc\u662f\u6839\u636e\u7d22\u5f15\u540d\u79f0\u6765\u7d22\u5f15\n#iloc[:,1:5]\u8868\u793a\u5168\u90e8\u884c\uff0c\u7b2c2\u5217\u81f3\u7b2c5\u5217\uff1biloc[[1]]\u8868\u793a\u7b2c\u884c\u5217\uff0c\u6ce8\u610f\u9700\u4e24\u4e2a\u4e2d\u62ec\u53f7\uff1biloc[1:5]\u8868\u793a\u7b2c2\u884c\u81f3\u7b2c5\u884c\u3002\u5217\u53f7\u884c\u53f7\u5747\u4ece0\u5f00\u59cb\u8ba1\n#loc[[2]]\u8868\u793a\u884c\u7d22\u5f15\u4e3a2\u7684\u884c\uff1bloc[:,'a':'d']\u8868\u793a\u5217\u540d\u79f0\u4e3aa\u7684\u5217\u5230\u5217\u540d\u79f0\u4e3ac\u7684\u5217\uff0c\u5047\u8bbe\u5217\u540d\u79f0\u5206\u522b\u4e3aabcde\ndf_building=df_hdb[['year','number']]\ndf_building=pd.merge(df_building,df_commercial,on='year',how='outer')\ndf_building.rename(columns={'number':'hdb'},inplace=True)\ndf_building=df_building.iloc[:,1:5]\ndf_building","01beef27":"#\u67e5\u770bdf_building\u7684\u4fe1\u606f\uff0c\u7528data.info(),\u53ef\u4ee5\u770b\u5230hdb\u8fd9\u4e00\u5217\u7684\u6570\u636e\u4e0d\u4e3a\u6570\u503c\u578b\uff0c\u53ef\u80fd\u540e\u7eed\u65e0\u6cd5\u8fd0\u7b97\uff0c\u6240\u4ee5\u6211\u4eec\u5728\u540e\u9762\u8fdb\u884c\u8f6c\u6362\ndf_building.info()","91a8f8c4":"#\u8fd9\u91cc\u6211\u4eec\u5229\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u7684\u5e94\u7528apply\u5bf9hdb\u7684\u6570\u636e\u7c7b\u578b\u8fdb\u884c\u4e86\u8f6c\u6362\uff1adf.apply(np.sum\/mean\/int..,axis=0\/1\u5206\u522b\u8868\u793a\u5217\u9ed8\u8ba4\/\u884c)\n#\u8f6c\u6362\u597d\u7684\u6570\u636e\u4fbf\u53ef\u8fdb\u884c\u5f52\u4e00\u5316\u5904\u7406\ndf_building['hdb']=df_building['hdb'].apply(np.int)\ndf_building=(df_building-df_building.mean())\/df_building.std()\ndf_building","1d25c3c2":"#\u5efa\u7b51\u6570\u636e\u52a0\u4e0a\u5e74\u4efd\u540e\u548c\u6c14\u4f53\u6570\u636e\u5408\u5e76\ndf_building['year']=year\ndf_building2=pd.merge(df_building,df_std,on='year',how='outer')\ndf_building2","17816190":"#\u770b\u4e00\u4e0b\u76f8\u5173\u7cfb\u6570\uff0c\u53d1\u73b0\u56db\u79cd\u5efa\u7b51\u90fd\u548c\u81ed\u6c27\u548c\u5927\u4e8e0.8\u7684\u76f8\u5173\u6027\ndf_building2.corr(method='spearman')","182ec397":"#\u5728\u7ed8\u5236\u8fd9\u6761\u66f2\u7ebf\u7684\u65f6\u5019\uff0c\u586b\u5199y\u8f74\u7684\u65f6\u5019\u6211\u6ca1\u6709\u76f4\u63a5\u5199\u51fa\u5217\u540d\uff0c\u800c\u662f\u7528\u4e86df.columns.values.tolist()\u51fd\u6570\u6765\u83b7\u53d6df\u7684\u5217\u540d\u5217\u8868\uff0c\u5e76\u4e14\u7528remove\u51fd\u6570\u79fb\u9664\u4e86\u5176\u4e2d\u7684\u2018year\u5143\u7d20\u2019\n#tolist\u4e3a\u8f6c\u5316\u4e3a\u5217\u8868\u51fd\u6570\nbuilding_graph=df_building.plot(x='year',y=df_building.columns.values.tolist().remove('year'),kind='line',grid=True,figsize=DIMS)\ndf_std.plot(x='year',y='O3_mean',kind='line',ax=building_graph)\nplt.legend(loc='center left',bbox_to_anchor=[1,0.5])\nplt.show()","eac74e28":"#\u6211\u4eec\u5f00\u59cb\u5904\u7406\u673a\u52a8\u8f66\u6570\u636e\uff0c\u5bfc\u5165\uff0c\u67e5\u770b\u524d15\u884c\ndf_vehicle=pd.read_csv('..\/input\/vehicle population.csv')\ndf_vehicle.head(15)","51dba652":"#\u673a\u52a8\u8f66\u6570\u636e\u8fdb\u884c\u5e74\u4efd\u7b5b\u9009\u4e4b\u540e\uff0c\u6211\u4eec\u6839\u636e\u5e74\u4efd\u8fdb\u884c\u5206\u7c7b\u6c42\u548c\uff0c\u5e76\u91cd\u65b0\u8bbe\u7f6e\u7d22\u5f15\uff0c\u4e0d\u9700\u8981\u8bbe\u7f6edrop=True\n#\u5e76\u5355\u72ec\u5bf9number\u5217\u8fdb\u884c\u5f52\u4e00\u5316\u5904\u7406\ndf_vehicle=df_vehicle[df_vehicle['year'].isin(year)]\ndf_vehicle=df_vehicle.groupby('year').sum().reset_index()\ndf_vehicle['number']=(df_vehicle['number']-df_vehicle['number'].mean())\/df_vehicle['number'].std()\ndf_vehicle.rename(columns={\"number\":\"vehicle\"},inplace=True)\ndf_vehicle","3de51898":"#\u5c06\u5f52\u4e00\u5316\u7684\u6c14\u4f53\u6570\u636e\u548c\u5f52\u4e00\u5316\u7684\u673a\u52a8\u8f66\u6570\u636e\u7ed3\u5408\ndf_vehicle2=pd.merge(df_std,df_vehicle,on='year',how='outer')\ndf_vehicle2","d9cd1337":"#\u8ba1\u7b97\u76f8\u5173\u7cfb\u6570\uff0c\u770b\u5230\u673a\u52a8\u8f66\u548c\u81ed\u6c27\u670985%\u7684\u76f8\u5173\u6027\uff0c\u548c\u4e8c\u6c27\u5316\u6c2e\u670980%\u7684\u76f8\u5173\u6027\uff0c\u4e0b\u9762\u7ed8\u5236\u56fe\u8868\u6765\u770b\u4e00\u4e0b\ndf_vehicle2.corr(method=\"spearman\")","4b59ad3f":"vehicle_graph=df_vehicle.plot(x='year',y='vehicle',grid=True,figsize=DIMS,kind='line')\ndf_std.plot(x='year',y=['NO2_mean','O3_mean'],ax=vehicle_graph)\nplt.legend(loc=\"center left\",bbox_to_anchor=[1,0.5])\nplt.show()","90c01659":"**\u9879\u76ee\u80cc\u666f**\n\n\u65b0\u52a0\u5761\u7a7a\u6c14\u6c61\u67d3\u7684\u4e3b\u8981\u6765\u6e90\u662f\u5de5\u4e1a\u5236\u9020\u4e1a\u548c\u673a\u52a8\u8f66\u6392\u653e\u3002\u5e76\u4e14\u4e0d\u65ad\u589e\u52a0\u7684\u5efa\u8bbe\u9879\u76ee\u53ef\u80fd\u4e5f\u4f1a\u5bf9\u73af\u5883\u9020\u6210\u6c61\u67d3\uff0c\u56e0\u6b64\uff0c\u672c\u6b21\u7814\u7a76\u9488\u5bf9\u6c7d\u8f66\u6570\u91cf\u3001\u5236\u9020\u4e1a\u53d1\u5c55\u3001\u5546\u4e1a\u697c\u53ca\u4f4f\u5b85\u697c\u4e0e\u7a7a\u6c14\u6c61\u67d3\u4e4b\u95f4\u7684\u5173\u7cfb\u3002\n\n\n**\u7a7a\u6c14\u6c61\u67d3\u7269\u77e5\u8bc6**\n* \u4e8c\u6c27\u5316\u786b\uff08SO2\uff09\uff1a\u8fd9\u79cd\u6c61\u67d3\u7269\u4e3b\u8981\u662f\u5728\u77ff\u7269\u71c3\u6599\u5982\u539f\u6cb9\u548c\u7164\u7684\u71c3\u70e7\u8fc7\u7a0b\u4e2d\u6392\u653e\u7684\u3002\n* \u4e00\u6c27\u5316\u78b3\uff08CO\uff09\uff1a\u8fd9\u79cd\u6c14\u4f53\u662f\u5728\u71c3\u6599\u4e0d\u5b8c\u5168\u71c3\u70e7\u8fc7\u7a0b\u4e2d\u4ea7\u751f\u7684\uff1a\u4e00\u4e2a\u6c7d\u8f66\u53d1\u52a8\u673a\u5728\u4e00\u4e2a\u5c01\u95ed\u7684\u623f\u95f4\u91cc\u8fd0\u884c\u3002\n* \u4e8c\u6c27\u5316\u6c2e\uff08NO2\uff09\uff1a\u8fd9\u4e9b\u6c61\u67d3\u7269\u662f\u7531\u4ea4\u901a\u3001\u71c3\u70e7\u88c5\u7f6e\u548c\u5de5\u4e1a\u6392\u653e\u7684\u3002\n* \u81ed\u6c27\uff08O3\uff09\uff1a\u81ed\u6c27\u662f\u7531\u4e8e\u5f3a\u70c8\u7d2b\u5916\u7ebf\u5149\uff08UV\uff09\u7167\u5c04\u6c27\u6c14\u4ea7\u751f\u7684\u3002\n* \u9897\u7c92\u7269\u8d28\uff08PM\uff09\uff1a\u9897\u7c92\u7269\u8d28\u662f\u60ac\u6d6e\u5728\u7a7a\u6c14\u4e2d\u7684\u6240\u6709\u56fa\u4f53\u9897\u7c92\u548c\u6db2\u4f53\u9897\u7c92\u7684\u603b\u548c\u3002NEA\u4f7f\u7528\u4e24\u79cd\u6d4b\u91cf\u65b9\u5f0f\uff1aPM-10\uff0810\u5fae\u7c73\u6216\u66f4\u5c0f\uff09\u548cPM-2.5\uff082.5\u5fae\u7c73\u6216\u66f4\u5c0f\uff09\u3002\u8fd9\u79cd\u590d\u6742\u7684\u6df7\u5408\u7269\u5305\u62ec\u6709\u673a\u9897\u7c92\u548c\u65e0\u673a\u9897\u7c92\uff0c\u5982\u7070\u5c18\u3001\u82b1\u7c89\u3001\u70df\u7070\u3001\u70df\u96fe\u548c\u6db2\u6ef4\u3002\u8fd9\u4e9b\u9897\u7c92\u5728\u5927\u5c0f\u3001\u7ec4\u6210\u548c\u6765\u6e90\u4e0a\u6709\u5f88\u5927\u7684\u5dee\u522b\u3002","24ed86cd":"**\u58f0\u660e**\n\n\u672c\u6587\u4e3a\u9605\u8bfb Ruven Guna \u6570\u636e\u5206\u6790\u9879\u76ee\u540e\u7684\u7ec3\u4e60\u6574\u7406\u7b14\u8bb0\uff0c\u6211\u5728\u5f88\u591a\u5730\u65b9\u505a\u4e86\u6539\u8fdb\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u7b80\u6d01\uff0c\u5e76\u52a0\u5165\u4e86\u5f88\u591a\u6ce8\u91ca\u3002\u8be6\u60c5\u5982\u4e0b\uff1a\n\nhttps:\/\/www.kaggle.com\/ruvenguna\/industry-s-impact-on-environment-singapore?scriptVersionId=7175663","3b7d9997":"\u4e0b\u9762\u6211\u5c06\u9a8c\u8bc1\u5047\u8bbe3. \u8f66\u8f86\u6570\u91cf\u7684\u589e\u52a0\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\u3002","d75822a8":"\u4ee5\u4e0a\u5185\u5bb9\u603b\u548c\u9a8c\u8bc1\u4e86\u5047\u8bbe1. \u5236\u9020\u4e1a\u7684\u589e\u52a0\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\u3002","103adc8d":"**\u5047\u8bbe**\n1. \u5236\u9020\u4e1a\u7684\u589e\u52a0\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\u3002\n2. \u589e\u52a0\u5efa\u7b51\u623f\u5c4b\u7684\u589e\u957f\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\u3002\n3. \u8f66\u8f86\u6570\u91cf\u7684\u589e\u52a0\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\u3002\n4. \u6b64\u5916\uff0c\u6211\u8fd8\u60f3\u786e\u5b9a\u8fd9\u4e9b\u5de5\u4e1a\u4e3b\u8981\u8d21\u732e\u54ea\u4e9b\u6c61\u67d3\u7269\u3002","5b23ddf2":"\u4ece\u4e0a\u9762\u7684\u66f2\u7ebf\u56fe\u4e2d\u79d1\u9662\u770b\u5230\u56db\u79cd\u5efa\u7b51\u7684\u589e\u957f\u8d8b\u52bf\u548c\u81ed\u6c27\u7684\u5e74\u589e\u957f\u8d8b\u52bf\u76f8\u8fd1\uff0c\u7ed3\u5408\u76f8\u5173\u7cfb\u6570\u90fd\u57280.8\u4ee5\u4e0a\uff0c\u53ef\u4ee5\u9a8c\u8bc1\u5047\u8bbe2. \u589e\u52a0\u5efa\u7b51\u623f\u5c4b\u7684\u589e\u957f\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\u3002\n\n\u5176\u4e2d\u7684\u539f\u56e0\u53ef\u80fd\u662f\u65bd\u5de5\u73b0\u573a\u7684\u53d1\u52a8\u673a\u4ea7\u751f\u7684\u6c61\u67d3\u6c14\u4f53\u5728\u592a\u9633\u7167\u5c04\u4e0b\u53d1\u751f\u5316\u5b66\u53cd\u5e94\u800c\u751f\u6210\u4e86\u81ed\u6c27","14c8f9e1":"\u901a\u8fc7\u4ee5\u4e0a\u6211\u4eec\u53ef\u4ee5\u8bc1\u660e\u5047\u8bbe3. \u8f66\u8f86\u6570\u91cf\u7684\u589e\u52a0\u5c06\u5bfc\u81f4\u65b0\u52a0\u5761\u7684\u6c61\u67d3\u589e\u52a0\uff0c\u4e3b\u8981\u8868\u73b0\u5728\u4e8c\u6c27\u5316\u6c2e\u548c\u81ed\u6c27\u7684\u589e\u52a0\u4e0a\u3002\n\n\u53e6\u5916\uff0c\u4ece\u5176\u4ed6\u65b9\u9762\uff0c\u6839\u636e\u56fd\u9645\u6e05\u6d01\u8fd0\u8f93\u7406\u4e8b\u4f1a\u7f51\u7ad9\u4e0a\u7684\u6587\u7ae0\u8868\u660e\uff1a\u8f66\u8f86\u4f1a\u9020\u6210\u5927\u91cf\u7684\u6c2e\u6c27\u5316\u7269\u7684\u6c61\u67d3\uff1b\u300a\u79d1\u5b66\u7f8e\u56fd\u4eba\u300b\u4e5f\u63d0\u5230\uff0c\u6c2e\u6c27\u5316\u7269\u542b\u91cf\u4e0e\u5730\u9762\u81ed\u6c27\u542b\u91cf\u4e4b\u95f4\u5b58\u5728\u5173\u8054\u3002\n\n\u4ee5\u4e0a\u7684\u56db\u4e2a\u5047\u8bbe\u5747\u88ab\u8bc1\u660e\u3002"}}