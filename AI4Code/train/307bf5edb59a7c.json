{"cell_type":{"1f251536":"code","a4d9d45a":"code","932d9c98":"code","5aadd764":"code","27cc733a":"code","665525b9":"code","2d01a98c":"code","8244445c":"code","28e4c085":"code","2b6193df":"code","a12cd6dc":"code","85db3c31":"code","8643b310":"code","f871a391":"code","96c5a2e0":"code","45de9e9e":"code","f04db00c":"code","8cf1e5da":"code","2a920522":"code","0dbe0fea":"code","f4a40a2b":"code","b0accee9":"code","8e62825f":"code","74bf7dba":"code","156e46e4":"code","96f5cec0":"code","ce515790":"code","dbe9230a":"code","d46b4300":"code","2e382e86":"code","3af8a501":"code","d52d4027":"code","e25fa57e":"code","2c6b5957":"code","00417502":"code","71e4414e":"code","e5a7779b":"code","36886490":"code","65a1fb13":"code","fb5c0245":"code","e1bdff27":"code","f83baed0":"code","6c0e3d2a":"code","9af33b62":"code","a35c216d":"code","a03832f8":"code","1484b4f4":"code","4525eb23":"code","694a5f42":"code","910765eb":"code","a9453de3":"code","2061326a":"code","cd092175":"code","d0d5e621":"code","bc002bc9":"code","44f85de8":"code","a208289e":"code","50acfc89":"code","3b99a81e":"code","b5332524":"code","f247fa5c":"code","09438ace":"code","3421ab00":"code","7b92fa7e":"code","5284f6c0":"code","f72a5b8d":"code","a5aba44b":"code","16fc9b3f":"code","6631d0be":"code","ac8c8d12":"code","4b9fb4ea":"code","8d1898ad":"code","3f45f4d7":"code","b50b49e1":"code","0f455645":"code","69f187b9":"code","e118b4ca":"markdown","b0802b8a":"markdown","e1da18bb":"markdown","9ef468b5":"markdown","4bab4674":"markdown","19948baa":"markdown"},"source":{"1f251536":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n#visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns \n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","a4d9d45a":"data=pd.read_csv(\"..\/input\/bankingdata\/hotel_bookings.csv\")","932d9c98":"data","5aadd764":"data.head()","27cc733a":"data.tail()","665525b9":"data.shape","2d01a98c":"data.dtypes","8244445c":"data.info()","28e4c085":"data.describe(include='all')","2b6193df":"data.isnull().sum()","a12cd6dc":"#company column has high number of null value it can't replace with any one so i can\n#drop it and drop the unrelevent column\ndata.drop(['company','agent','country','children','stays_in_weekend_nights',\n           'arrival_date_day_of_month', 'arrival_date_week_number','reservation_status_date'],axis=1,inplace=True)","85db3c31":"data.drop(['days_in_waiting_list'],axis=1,inplace=True)","8643b310":"#after cleaning the null vale check the null value again\ndata.isnull().sum()","f871a391":"corr=data.corr()\nplt.figure(figsize=(12,5))\nsns.heatmap(corr,annot=True,cmap=\"coolwarm\")\nplt.show()","96c5a2e0":"data","45de9e9e":"data[\"is_canceled\"].value_counts()","f04db00c":"sns.countplot(data.is_canceled)\nplt.show()","8cf1e5da":"data[\"hotel\"].value_counts()","2a920522":"sns.countplot(data.hotel,hue=data.is_canceled)\nplt.show()","0dbe0fea":"data['lead_time'].value_counts()","f4a40a2b":"sns.distplot(data.lead_time[data.is_canceled==0])\nsns.distplot(data.lead_time[data.is_canceled==1])\nplt.show()","b0accee9":"data['arrival_date_year'].value_counts()","8e62825f":"sns.countplot(data.arrival_date_year,hue=data.is_canceled)\nplt.show()","74bf7dba":"data['arrival_date_month'].value_counts()","156e46e4":"sns.catplot(y='arrival_date_month',x='is_canceled',kind='bar',data=data)\nplt.show()","96f5cec0":"data['stays_in_week_nights'].value_counts()","ce515790":"sns.distplot(data.stays_in_week_nights[data.is_canceled==0])\nsns.distplot(data.stays_in_week_nights[data.is_canceled==1])\nplt.show()","dbe9230a":"data['adults'].value_counts()","d46b4300":"sns.countplot(data.adults,hue=data.is_canceled)\nplt.show()","2e382e86":"data['babies'].value_counts()","3af8a501":"sns.countplot(data.babies,hue=data.is_canceled)\nplt.show()","d52d4027":"data['meal'].value_counts()","e25fa57e":"sns.countplot(data.meal,hue=data.is_canceled)\nplt.show()","2c6b5957":"data['market_segment'].value_counts()","00417502":"sns.catplot(y='market_segment',x='is_canceled',kind='bar',data=data)\nplt.show()","71e4414e":"data['distribution_channel'].value_counts()","e5a7779b":"sns.countplot(data.distribution_channel,hue=data.is_canceled)\nplt.show()","36886490":"data['is_repeated_guest'].value_counts()","65a1fb13":"sns.countplot(data.is_repeated_guest,hue=data.is_canceled)\nplt.show()","fb5c0245":"data['previous_cancellations'].value_counts()","e1bdff27":"sns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"previous_cancellations\",y=\"is_canceled\",data=data,color=\"g\")\nplt.show()","f83baed0":"data['previous_bookings_not_canceled'].value_counts()","6c0e3d2a":"sns.set(rc={'figure.figsize':(15,10)})\nsns.lineplot(x=\"previous_bookings_not_canceled\",y=\"is_canceled\",data=data,color=\"r\")\nplt.show()","9af33b62":"data['reserved_room_type'].value_counts()","a35c216d":"sns.countplot(data.reserved_room_type,hue=data.is_canceled)\nplt.show()","a03832f8":"data['assigned_room_type'].value_counts()","1484b4f4":"sns.countplot(data.assigned_room_type,hue=data.is_canceled)\nplt.show()","4525eb23":"data['booking_changes'].value_counts()","694a5f42":"sns.catplot(y='booking_changes',x='is_canceled',kind='bar',data=data)\nplt.show()","910765eb":"data['deposit_type'].value_counts()","a9453de3":"sns.countplot(data.deposit_type,hue=data.is_canceled)\nplt.show()","2061326a":"data['customer_type'].value_counts()","cd092175":"sns.countplot(data.deposit_type,hue=data.is_canceled)\nplt.show()","d0d5e621":"data['adr'].value_counts()","bc002bc9":"sns.distplot(data.adr[data.is_canceled==0])\nsns.distplot(data.adr[data.is_canceled==1])\nplt.show()","44f85de8":"data['required_car_parking_spaces'].value_counts()","a208289e":"sns.countplot(data.required_car_parking_spaces,hue=data.is_canceled)\nplt.show()","50acfc89":"data['total_of_special_requests'].value_counts()","3b99a81e":"sns.countplot(data.total_of_special_requests,hue=data.is_canceled)\nplt.show()","b5332524":"data['reservation_status'].value_counts()","f247fa5c":"sns.countplot(data.reservation_status,hue=data.is_canceled)\nplt.show()","09438ace":"#Label Encoding\nfrom sklearn.preprocessing import LabelEncoder\nlb1=LabelEncoder()\ndata.hotel=lb1.fit_transform(data.hotel)\n\nlb2=LabelEncoder()\ndata.arrival_date_month=lb2.fit_transform(data.arrival_date_month)\n\nlb3=LabelEncoder()\ndata.meal=lb3.fit_transform(data.meal)\n\nlb4=LabelEncoder()\ndata.market_segment=lb4.fit_transform(data.market_segment)\n\nlb5=LabelEncoder()\ndata.reserved_room_type=lb5.fit_transform(data.reserved_room_type)\n\nlb6=LabelEncoder()\ndata.distribution_channel=lb6.fit_transform(data.distribution_channel)\n\nlb7=LabelEncoder()\ndata.assigned_room_type=lb7.fit_transform(data.assigned_room_type)\n\nlb8=LabelEncoder()\ndata.deposit_type=lb8.fit_transform(data.deposit_type)\n\nlb9=LabelEncoder()\ndata.customer_type=lb9.fit_transform(data.customer_type)\n\nlb10=LabelEncoder()\ndata.reservation_status=lb10.fit_transform(data.reservation_status)\n","3421ab00":"data","7b92fa7e":"ip=data.drop(['is_canceled'],axis=1)\nop=data['is_canceled']","5284f6c0":"from sklearn.model_selection import train_test_split\nxtr,xts,ytr,yts=train_test_split(ip,op,test_size=0.3)","f72a5b8d":"from sklearn.preprocessing import StandardScaler\nsc=StandardScaler()\nsc.fit(xtr)\nxtr=sc.transform(xtr)\nxts=sc.transform(xts)","a5aba44b":"from sklearn.naive_bayes import GaussianNB\nclf=GaussianNB()\nclf.fit(xtr,ytr)\nyp1=clf.predict(xts)\n\nyp1=clf.predict(xts)","16fc9b3f":"from sklearn import metrics\naccuracy=metrics.accuracy_score(yts,yp1)\nprint(accuracy)","6631d0be":"recall=metrics.recall_score(yts,yp1)\nprint(recall)","ac8c8d12":"#find the the number of neighbors in KNN\n\nfrom sklearn.model_selection import train_test_split\nxtr,xts,ytr,yts=train_test_split(ip,op,test_size=0.4,random_state=42)\n\nfrom sklearn.neighbors import KNeighborsClassifier\n\nneighbors=np.arange(1,9)\ntrain_accuracy=np.empty(len(neighbors))\ntest_accuracy=np.empty(len(neighbors))\n\nfor i,k in enumerate(neighbors):\n    knn=KNeighborsClassifier(n_neighbors=k)\n    knn.fit(xtr,ytr)\n    train_accuracy[i]=knn.score(xtr,ytr)\n    test_accuracy[i]=knn.score(xts,yts)\n\nplt.xlabel('neighbors of number')\nplt.ylabel('accuracy')\nplt.title('k-NN Varying number of neighbors')\nplt.plot(neighbors, test_accuracy, label='Testing Accuracy')\nplt.plot(neighbors, train_accuracy, label='Training accuracy')\nplt.legend()\nplt.show()","4b9fb4ea":"from sklearn.model_selection import train_test_split\nxtr,xts,ytr,yts=train_test_split(ip,op,test_size=0.4)","8d1898ad":"knn=KNeighborsClassifier(n_neighbors=2)\nknn.fit(xtr,ytr)\nyp2=knn.predict(xts)","3f45f4d7":"from sklearn import metrics\naccuracy=metrics.accuracy_score(yts,yp2)\nprint(accuracy)","b50b49e1":"from sklearn.model_selection import train_test_split\nxtr,xts,ytr,yts=train_test_split(ip,op,test_size=0.1)\n\nfrom sklearn.preprocessing import StandardScaler\nsc=StandardScaler()\nsc.fit(xtr)\nxtr=sc.transform(xtr)\nxts=sc.transform(xts)","0f455645":"from sklearn import svm\nalg=svm.SVC(C=20,gamma=0.03)\n\n#train the algorithm with training data\nalg.fit(xtr,ytr)\nyp3=alg.predict(xts)","69f187b9":"from sklearn import metrics\naccuracy=metrics.accuracy_score(yts,yp3)\nprint(accuracy)\n\nrecall = metrics.recall_score(yts,yp3)\nprint(recall)","e118b4ca":"# SUPPORT VECTOR MACHINES-SVM","b0802b8a":"# If it is usefull and  it is understood well ! please upvoted\n# Thank You","e1da18bb":"# Data Visualization","9ef468b5":"#  k-nearest neighbors algorithm (KNN)","4bab4674":"# naive bayes","19948baa":"After my prediction i found to be the best in acuuracy and recall in naive bayes  and SVM"}}