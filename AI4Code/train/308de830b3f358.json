{"cell_type":{"b0f3bc3c":"code","97c29638":"code","d3c7a0b8":"code","b004fc9e":"code","b0054ff6":"code","e22a73d9":"code","e0c2d64d":"code","b33bebee":"code","a95d6196":"code","bc21fb30":"code","d9055750":"code","7b5501cb":"code","b33f2202":"code","e46f9f62":"code","ea9516bb":"code","99e5198a":"code","901f6951":"code","d1a50bcf":"code","a0fafe93":"code","928dc561":"code","c99ba45a":"code","9fa70df6":"code","91df2a0f":"code","90f08b14":"code","32c0cec0":"code","ea2171ae":"code","43caa5c6":"code","87e08921":"code","204ed89c":"code","8e52046f":"code","01a7ab8f":"code","e60ee749":"code","9bf94c07":"code","1559264f":"code","a4885fb6":"code","4a076b42":"code","34cfe706":"code","d732e841":"markdown","700f52a1":"markdown","63b445f6":"markdown","11da186e":"markdown","84959f52":"markdown","b3b74ebb":"markdown","dc529abb":"markdown","06818cd5":"markdown","4548268f":"markdown","3e8a6000":"markdown","87207495":"markdown","43866c0c":"markdown","2618fecf":"markdown","d721ded4":"markdown","4c40568b":"markdown","89276038":"markdown","69d715b4":"markdown","419ec31d":"markdown","b5ee53c1":"markdown","3f89b695":"markdown","a7bc143f":"markdown","63d0b46d":"markdown","17ecc0ba":"markdown","1f478577":"markdown","f7cc73f3":"markdown","9807e8a5":"markdown","6bd47315":"markdown","a4f03815":"markdown"},"source":{"b0f3bc3c":"import numpy as np\nimport pandas as pd\nimport seaborn as sns \nimport matplotlib.pyplot as plt\n%matplotlib inline ","97c29638":"bf=pd.read_csv('..\/input\/BlackFriday.csv')","d3c7a0b8":"bf.head()","b004fc9e":"bf.info()  ","b0054ff6":"bf.columns","e22a73d9":"bf.isnull().head()","e0c2d64d":"sns.heatmap(bf.isnull(),yticklabels=False,cbar=False,cmap='viridis')","b33bebee":"#  fill the missing data with zeros\n\nbf=bf.fillna(value='0')","a95d6196":"# we can to observe that our DataFrame is clean\n\nbf.head() ","bc21fb30":"sns.heatmap(bf.isnull(),yticklabels=False,cbar=False,cmap='viridis')","d9055750":"len(bf['Product_ID'].value_counts()) # products offered","7b5501cb":"bf['Product_ID'].value_counts().head(10) # 10 most sold","b33f2202":"sns.set_style('darkgrid')\nbf['Product_ID'].value_counts().head(10).plot(kind='bar',color='green')","e46f9f62":"# Sum of purchases made by user\n\nBuy_by_User=bf[['User_ID','Purchase']].groupby('User_ID').sum() \n\n# Top 10 of the users who make more purchases\n\nBuy_by_User.sort_values(by=['Purchase'],ascending=False).head(10)","ea9516bb":"bf['User_ID'].nunique() # We note that have 5891 users","99e5198a":"Age_by_User=bf[['User_ID','Age']].groupby(['User_ID', 'Age']).count() \ntest=pd.DataFrame(Age_by_User)\n# New dataframe to evaluate the number of clients by age category\nNew_Age_by_User=test.reset_index(inplace=False) \nNew_Age_by_User.groupby('Age').count()","901f6951":"sns.set_style('darkgrid')\nNew_Age_by_User.groupby('Age').count().plot(kind='bar',color='green')","d1a50bcf":"Gender_by_User=bf[['User_ID','Gender']].groupby(['User_ID', 'Gender']).count() \ntest_Gender=pd.DataFrame(Gender_by_User)\n# New dataframe to evaluate the number of clients by age category\nNew_Gender_by_User=test_Gender.reset_index(inplace=False) \nNew_Gender_by_User.groupby('Gender').count()","a0fafe93":"bf_gender=pd.DataFrame(index=['F','M']\n                       ,columns=['# Users'],data=[1666,4225]) # we create a dataframe\nplt.pie(New_Gender_by_User.groupby('Gender').count()\n        ,autopct='%1.1f%%',labels=bf_gender.index,shadow=True, startangle=90)\nplt.legend()","928dc561":"bf[['Gender','Purchase']].groupby([ 'Gender']).sum()","c99ba45a":"bf_gender_pur=pd.DataFrame(index=['F','M'],columns=['Purchase']\n                           ,data=[1164624021,3853044357]) # we create a dataframe\nplt.pie(bf[['Gender','Purchase']].groupby([ 'Gender']).sum()\n        ,autopct='%1.1f%%',labels=bf_gender_pur.index,shadow=True, startangle=90)\nplt.legend()","9fa70df6":"bf[['Marital_Status','Purchase']].groupby([ 'Marital_Status']).sum()","91df2a0f":"bf_marital_sta=pd.DataFrame(index=['singles','married'],columns=['Purchase']\n                           ,data=[2966289500,2051378878]) # we create a dataframe\nplt.pie(bf[['Marital_Status','Purchase']].groupby([ 'Marital_Status']).sum()\n        ,autopct='%1.1f%%',labels=bf_marital_sta.index,shadow=True, startangle=90,radius=0.8)\nplt.legend(loc=1)","90f08b14":"Stay_City=bf[['Stay_In_Current_City_Years','Purchase']].groupby([ 'Stay_In_Current_City_Years']).sum()\nStay_City.sort_values(by=['Purchase'],ascending=False)","32c0cec0":"sns.set_style('darkgrid')\nStay_City.plot(kind='bar',color='g')","ea2171ae":"Prod_By_Gender=bf[['Product_ID','Purchase','Gender']].groupby([ 'Product_ID','Gender']).sum()\ntest_prod=pd.DataFrame(Prod_By_Gender)\nNew_product_by_gender=test_prod.reset_index(inplace=False)","43caa5c6":"New_product_by_gender[New_product_by_gender['Gender']=='M'].sort_values(by=['Purchase']\n                                                        ,ascending=False).head(10)","87e08921":"New_product_by_gender[New_product_by_gender['Gender']=='F'].sort_values(by=['Purchase']\n                                                        ,ascending=False).head(10)","204ed89c":"left=New_product_by_gender[New_product_by_gender['Gender']=='M'].sort_values(by=['Purchase']\n                                                        ,ascending=False).head(10)","8e52046f":"right=New_product_by_gender[New_product_by_gender['Gender']=='F'].sort_values(by=['Purchase']\n                                                    ,ascending=False).head(10)","01a7ab8f":"pd.merge(left, right, how='inner',on='Product_ID')","e60ee749":"left_less=New_product_by_gender[New_product_by_gender['Gender']=='M'].sort_values(by=['Purchase'],ascending=False).tail(10)\nleft_less    ","9bf94c07":"right_less=New_product_by_gender[New_product_by_gender['Gender']=='F'].sort_values(by=['Purchase'],ascending=False).tail(10)\nright_less","1559264f":"pd.merge(left_less, right_less, how='inner',on='Product_ID')","a4885fb6":"#  Number of occupations\nbf['Occupation'].nunique() ","4a076b42":"# Sum of purchases made by user\n\nBuy_by_User=bf[['Occupation','Purchase']].groupby('Occupation').sum() \n\n# Top 10 of the users who make more purchases\n\nBuy_by_User.sort_values(by=['Purchase'],ascending=False)","34cfe706":"sns.set_style('darkgrid')\nBuy_by_User.plot(kind='bar',color='g')","d732e841":"# Import libraries","700f52a1":"# Most purchased products by men and women\n\nFirst of all we are going to reset the indices to give a better management to our data","63b445f6":"# Analysis :\n\nAs we can see in our heat map,have a lot of missing data in 2 of our product categories, the next step is to find a way to fill in this missing data, a way to make it is , fill the missing data with zeros , due to we can assume that these products were not purchased","11da186e":"# Number of users in our database ","84959f52":"NOTE: About 77% of all purchases made are made by men on the other hand we note the low participation of women in a \"Black Friday\"","b3b74ebb":"NOTE : Of the 5891 users that we have in our data based, around 72% of our customers in a \"Black Frifay\" are men.","dc529abb":"# Basic Information data frame","06818cd5":"# Data Cleaning\n\nIn this area we will proceed to observe what missing data we have to find a way to clean them","4548268f":"# Number of users by category (AGE)\n It was necessary to format the indexes to create a dataframe and thus be able to access the data","3e8a6000":"NOTE:\nIn the following graph we can see that the occupations that most buy in a \"Black Friday\" are the occupations 4,0,7 and 1 respectively","87207495":"# Purchases according to the coustomer's occupation","43866c0c":"\n# Complete data analysis of the \"BLACK FRIDAY DATASET\"\n\nThe following exercise seeks to analyze in a general way the purchasing behavior of customers on a \"black Friday\", it should be noted that in this analysis I only emphasize the treatment and preliminary analysis of the data in order to perform in a next version the Machine Learning models to make prediction, below I indicate the step by step made in this notebook:\n\n* Creation of the Dataframe's\n* Preliminary analysis of the amount of data\n* Cleaning and preparation of data\n* Area of treatment and extraction of the most relevant information of our data set.\n\n# NOTE: \nI'm attentive to your comments that help improve my skills as a data scientist","2618fecf":"# Common products within the top 10 between both sexes\n\nTo carry out this analysis it is necessary that we know which is the top 10 most consumed products between men and women and then make use of the \"Merge\" function as follows","d721ded4":"# Who spend more on a black friday","4c40568b":" \nNOTE: As we observed earlier, customers who buy on a \"Black Friday\" are those who have come to be a year in the city","89276038":"# Analysis of the quantity of products offered and the 10 most sold","69d715b4":" \nNOTE : Our heat map shows that we have already completed our empty boxes and are ready to make an in-depth analysis of the data","419ec31d":" NOTE : \nFrom the list of products sold less between both sexes we can see that there are only 2 products in common","b5ee53c1":"# Reading the data frame","3f89b695":"# Analysis of the least sold products by gender.","a7bc143f":"NOTE: 59% of people who make purchases on a \"Black Friday\" are single, which makes a lot of sense","63d0b46d":"#  Who spend more according to their marital status","17ecc0ba":"# NOTE :\n\nOf the 5891 users that we have in our data based,it is observed that most of our users are in the following ranges:\n\n*  26-35\n*  36-45\n*  18-25\n","1f478577":"# Which customers buy more according to their time in the city","f7cc73f3":" # Number of users by category (GENDER)","9807e8a5":"NOTE : From the list of best-selling products between both sexes we can see that\nthere are 7 products that match in the top 10","6bd47315":"# Top 10 of the users who make more purchases","a4f03815":"# Top 10 products purchased by men"}}