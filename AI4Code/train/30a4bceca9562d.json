{"cell_type":{"97814eba":"code","52a494c6":"code","cddccfa3":"code","7941b7ae":"code","718e9955":"code","3761a00b":"code","2a40521f":"code","a7a1fdff":"code","9826bcc2":"code","02d633d0":"code","d44e61ac":"code","053cbf88":"code","62c7ef09":"code","b62a41ed":"code","f8e4b49d":"code","0724631a":"code","4c4261cd":"code","fcd2c91e":"code","3bc15994":"code","64bc367a":"code","338cd501":"code","d64fb289":"code","881fd6a7":"code","6830f549":"code","d0a229ed":"code","15ae0458":"code","efb0e4f6":"code","8b370810":"code","c411cb24":"code","5eab0e6c":"code","e2f848db":"code","64af4da1":"code","f97e90c0":"code","e912b916":"code","eddc785f":"code","914931d9":"code","7b235415":"markdown","bde49e8f":"markdown","17ef2042":"markdown","84fa294b":"markdown","465c1ed1":"markdown","1f9a19a6":"markdown","2c926db8":"markdown","7d29d090":"markdown","8341c2dd":"markdown","6271ce9a":"markdown","6ee59042":"markdown","93bb7450":"markdown"},"source":{"97814eba":"import numpy as np\nimport pandas as pd","52a494c6":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","cddccfa3":"df = pd.read_csv('..\/input\/911data\/911.csv')","7941b7ae":"df.head()","718e9955":"df.info()","3761a00b":"df.describe()","2a40521f":"df.columns","a7a1fdff":"df['zip'].value_counts().head(5)","9826bcc2":"df['twp'].value_counts().head()","02d633d0":"df['title'].nunique()","d44e61ac":"df['Reason'] = df['title'].apply(lambda x : x.split(\":\")[0])\ndf['Reason'] ","053cbf88":"sns.countplot(x = 'Reason',data = df)","62c7ef09":"pd.to_datetime(df['timeStamp'])","b62a41ed":"time = pd.to_datetime(df['timeStamp']).loc[0]\ndf['timeStamp'] = pd.to_datetime(df['timeStamp'])\ndf['Hour'] = df['timeStamp'].apply(lambda time: time.hour)\ndf['Month'] = df['timeStamp'].apply(lambda time: time.month)\ndf['dayofweek'] = df['timeStamp'].apply(lambda time: time.dayofweek)","f8e4b49d":"dmap = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}\ndf['dayofweek'] = df['dayofweek'].map(dmap)","0724631a":"df.head()","4c4261cd":"sns.countplot(x = 'dayofweek', data = df, hue = 'Reason')\n\nplt.legend(bbox_to_anchor=(1.02, 1), loc=2)","fcd2c91e":"sns.countplot(x='Month',data = df, hue = 'Reason')\nplt.legend(bbox_to_anchor=(1.02, 1), loc=2)","3bc15994":"df_groupbymonth = df.groupby('Month').count()\ndf_groupbymonth.head()","64bc367a":"df_groupbymonth['twp'].plot()","338cd501":"df_groupbymonth = df_groupbymonth.reset_index()\ndf_groupbymonth.head(12)","d64fb289":"sns.lmplot(data = df_groupbymonth,x='Month',y = 'twp')","881fd6a7":"df['date'] = df['timeStamp'].apply(lambda time: time.date())\ndf.head()","6830f549":"date_groupby = df.groupby('date').count().reset_index()\nfig = plt.figure(figsize=(12,2))\naxes = fig.add_axes([0,0,1,1])\naxes.plot(date_groupby['date'],date_groupby['twp'])\nplt.title('Reason')","d0a229ed":"df_EMS = df[df['Reason']=='EMS'].groupby('date').count().reset_index()\ndf_EMS.head()","15ae0458":"fig = plt.figure(figsize = (12,4))\naxes = fig.add_axes([0,0,1,1])\naxes.plot(df_EMS['date'], df_EMS['Reason'])\nplt.title('EMS')","efb0e4f6":"df_traffic = df[df['Reason']=='Traffic'].groupby('date').count().reset_index()\ndf_traffic.head()","8b370810":"fig = plt.figure(figsize = (12,4))\naxes = fig.add_axes([0,0,1,1])\naxes.plot(df_traffic['date'], df_traffic['Reason'])\nplt.title('Traffic')\n","c411cb24":"df_fire = df[df['Reason']=='Fire'].groupby('date').count().reset_index()\ndf_fire.head()","5eab0e6c":"df_fire.plot('date','Reason',legend=None)\nplt.title('Fire')\nplt.tight_layout","e2f848db":"day_hour = df.groupby(by=['dayofweek','Hour']).count()['Reason'].unstack()\nday_hour.head()","64af4da1":"plt.figure(figsize = (12,6))\nsns.heatmap(day_hour)","f97e90c0":"plt.figure(figsize = (12,6))\nsns.clustermap(day_hour,cmap=\"viridis\")","e912b916":"day_month = df.groupby(by=['dayofweek','Month']).count()['Reason'].unstack()\nday_month.head()","eddc785f":"sns.heatmap(day_month)","914931d9":"sns.clustermap(day_month)","7b235415":"Find out the most common reason for a 911 call","bde49e8f":"### Preview data","17ef2042":"### Study the data from different aspects\nTop 5 zipcodes for 911 calls","84fa294b":"# Introduction\nAnalysis conducted by Lion SHI\n\nThis notebook is trying to explore the interesting message behind the 911 Calls Dataset with application of data visualizaiton.","465c1ed1":"Top 5 townships (twp) for 911 calls","1f9a19a6":"### To study the frequency of Reasons from the period of 2015-12 ~ 2016-09","2c926db8":"### Relationship between the \"Reason\" and the \"Day of Week\"","7d29d090":"### Changes of Call reasons among different month","8341c2dd":"In the titles column there are \"Reasons\/Departments\" specified before the title code. These are EMS, Fire, and Traffic. We create a new column called \"Reason\" that contains this string value.","6271ce9a":"### To study the correlations between 'dayofweek', 'Hour' and count of 'Reason'","6ee59042":"No. of unique title codes","93bb7450":"### Environment Set-up"}}