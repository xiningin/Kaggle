{"cell_type":{"8f4afca9":"code","573b728d":"code","beb2aaaf":"code","1936f95d":"code","848861ba":"code","34e3eb15":"code","6501a10a":"code","f2cf1c94":"code","3e7cd2b3":"markdown","db6aaef3":"markdown","43de492e":"markdown","5defd3a2":"markdown","971536ac":"markdown","b106f0d0":"markdown","2342e358":"markdown","ebb9ce9a":"markdown"},"source":{"8f4afca9":"import numpy as np\nimport pandas as pd\nimport requests\nfrom bs4 import BeautifulSoup as bs","573b728d":"r= requests.get('https:\/\/buvrpb.davr.gov.ua\/vodni-resursy\/hidrohrafichna-merezha')\nsoup = bs(r.content)\nprint(soup.prettify())","beb2aaaf":"# Get the main content with text\nad = soup.find('div', itemprop =\"articleBody\")","1936f95d":"# Get text\ntext_all = ad.getText()\ntext_all","848861ba":"# Data postprocessing\n# - replace '\\xa0' to ' '\n# - split text to separately lines after symbols '\\n'\ntext_res = text_all[1:].replace('\\xa0', ' ').split('\\n')\ntext_res","34e3eb15":"# Remove short lines (less 50 symbols)\ntext_res = [x for x in text_res if len(x) > 50]\ntext_res","6501a10a":"# Save result list of lines as dataset with zero target values\nres = pd.DataFrame(columns = ['text', 'env_problems', 'pollution', 'treatment', 'climate', 'biomonitoring'])\nres['text'] = text_res\nres[['env_problems', 'pollution', 'treatment', 'climate', 'biomonitoring']] = 0\nres","f2cf1c94":"# Save rezult as csv-file\nres.to_csv('BUWR-SB-basin-water-resources.csv', index=False)","3e7cd2b3":"I hope you find this notebook useful and enjoyable.\n\nYour comments and feedback are most welcome.\n\n[Go to Top](#0)","db6aaef3":"<a class=\"anchor\" id=\"0.1\"><\/a>\n\n## Table of Contents\n\n1. [Import libraries](#1)\n1. [Web-scraping](#2)\n1. [Data postprocessing](#3)\n1. [Save as dataset](#4)","43de492e":"## 4. Save to dataset <a class=\"anchor\" id=\"4\"><\/a>\n\n[Back to Table of Contents](#0.1)","5defd3a2":"## 1. Import libraries <a class=\"anchor\" id=\"1\"><\/a>\n\n[Back to Table of Contents](#0.1)","971536ac":"## 2. Web-scraping <a class=\"anchor\" id=\"2\"><\/a>\n\n[Back to Table of Contents](#0.1)","b106f0d0":"## 3. Data postprocessing <a class=\"anchor\" id=\"3\"><\/a>\n\n[Back to Table of Contents](#0.1)","2342e358":"<a class=\"anchor\" id=\"0\"><\/a>\n# Parsing (extraction) of lines of text from a page in html-format\n## The example of the [page](https:\/\/buvrpb.davr.gov.ua\/vodni-resursy\/hidrohrafichna-merezha) of the Basin Management of Water Resources of the Southern Bug","ebb9ce9a":"Thanks to https:\/\/tproger.ru\/translations\/skraping-sajta-s-pomoshhju-python-gajd-dlja-novichkov\/"}}