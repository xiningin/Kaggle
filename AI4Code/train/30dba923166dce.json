{"cell_type":{"94ffb47e":"code","6c564387":"code","9524e4c6":"code","0779292b":"code","53f00619":"code","4756de4b":"code","bb6a0c9f":"code","1ddd000f":"code","31c59686":"code","4526a6e4":"code","28d26e18":"code","1b027ce1":"code","c1473b43":"markdown","2dd568c8":"markdown","6b2ae6ce":"markdown","06801800":"markdown","7cbfb031":"markdown","7dfebdba":"markdown","65667a45":"markdown","3e2384ce":"markdown","19c0ae2d":"markdown","3966dfb5":"markdown","63de71e6":"markdown","b4c6b2f7":"markdown","48f3f151":"markdown","58132393":"markdown"},"source":{"94ffb47e":"import numpy as np \nimport pandas as pd \nimport os\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport missingno as msno\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","6c564387":"df = pd.read_csv('\/kaggle\/input\/data-police-shootings\/fatal-police-shootings-data.csv')\ndf['month'] = pd.to_datetime(df['date']).dt.month\ndf['year'] = pd.to_datetime(df['date']).dt.year\ndf.head()","9524e4c6":"# not many null values, so will remove rows\ndf.isnull().sum()","0779292b":"df = df.dropna().reset_index(drop=True)\ndf.shape","53f00619":"# extra dataframe that excludes 2020 data\nno2020 = df[df['year'] != 2020]\nno2020.shape","4756de4b":"# via https:\/\/en.wikipedia.org\/wiki\/Race_and_ethnicity_in_the_United_States\n# USA population (2019) = 328.2 million\ndict_ = {'White': 60.4, 'Hispanic': 18.3, 'Black': 13.4,'Asian':5.9,'Other':2.0}\ncensus = pd.DataFrame(dict_.items(), columns=['Race', 'Population %'])\ncensus['Population (millions)'] = census['Population %']*3.282\n\nfig = px.pie(census, values='Population %', names='Race', color_discrete_sequence=px.colors.sequential.RdBu)\nfig.show()","bb6a0c9f":"df['race'].unique()","1ddd000f":"# will convert 'Native' classification into 'Other', as want to focus analysis on larger groups.\ndf['race'] = df['race'].apply(lambda x: 'O' if x == 'N' else x)\nprint(df['race'].value_counts())","31c59686":"census['count'] = [2253, 786, 1164, 83, 113]\ncensus['Shootings per mil'] = census['count']\/census['Population (millions)']\nfig = px.bar(census,x='Race',y='Shootings per mil',color='Race')\nfig.show()","4526a6e4":"# df_oops = df_oops.groupby('month').agg({'month':'count'})\nfig = px.histogram(no2020,x='month',color='month')\nfig.show()","28d26e18":"shootout_by_states = df['state'].value_counts()[:10]\nshootout_by_states = pd.DataFrame(shootout_by_states)\nshootout_by_states=shootout_by_states.reset_index()\nfig = px.pie(shootout_by_states, values='state', names='index', color_discrete_sequence=px.colors.sequential.RdBu)\nfig.show()","1b027ce1":"yearly_shootouts = no2020['year'].value_counts()\nyearly_shootouts = pd.DataFrame(yearly_shootouts)\nyearly_shootouts= yearly_shootouts.reset_index()\nyearly_shootouts=yearly_shootouts.rename(columns={'index':'year','year':'Shootouts'})\nfig = px.bar(yearly_shootouts, y='Shootouts', x='year', barmode='group')\nfig.show()","c1473b43":"## Perhaps there are states with higher police shooting numbers?\n### This analysis could be normalised by population of each states to make analysis more robust","2dd568c8":"## Pie chart of populations of different races in the USA based on 2019 census","6b2ae6ce":"# <a id='four'>4. Further EDA<\/a>","06801800":"1. Convert the date into a month and year column.\n2. Remove rows with empty data.\n3. Make a seperate dataset which excludes 2020 data (as having an incomplete years stats could affect certain insights.","7cbfb031":"# <a id='one'>1. Importing Libaries <\/a> ","7dfebdba":"There are slight peaks at the beginning and middle of the year, but pretty consistent numbers.","65667a45":"## This plot shows police shootings per million of each race grouping \n### The data supports the notion of there being a racial bias in police shootings.","3e2384ce":"# <a id='three'>3. Police shootings per million of each race<\/a>","19c0ae2d":"# <a id='two'>2. Loading data & basic cleaning<\/a>\n ","3966dfb5":"## How has # of shootings caried over years?","63de71e6":"The number is pretty consistent, though perhaps there is a slight downward trend.","b4c6b2f7":"# <a href='#Top'><button>Go to Top<\/button><\/a> ","48f3f151":"# <a id='Top'>Does race play a part in police shootings?<\/a>\n<img src='https:\/\/assets.bwbx.io\/images\/users\/iqjWHBFdfxIU\/izcmgHQWKgHs\/v0\/1200x803.jpg' height=500 width=500>\n<br>\n<div class=\"list-group\" id=\"list-tab\" role=\"tablist\">\n  <h3 class=\"list-group-item list-group-item-action active\" data-toggle=\"list\"  role=\"tab\" aria-controls=\"home\">Table of Contents<\/h3>\n<a class=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#one\" role=\"tab\" aria-controls=\"profile\">Importing Libaries <span class=\"badge badge-primary badge-pill\">1<\/span><\/a>\n<a class=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#two\" role=\"tab\" aria-controls=\"messages\">Loading the data & basic cleaning<span class=\"badge badge-primary badge-pill\">2<\/span><\/a>\n<a class=\"list-group-item list-group-item-action\"  data-toggle=\"list\" href=\"#three\" role=\"tab\" aria-controls=\"settings\">Police shootings per million of each race<span class=\"badge badge-primary badge-pill\">3<\/span><\/a>\n<a class=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#four\" role=\"tab\" aria-controls=\"settings\">Further EDA<span class=\"badge badge-primary badge-pill\">4<\/span><\/a>\n","58132393":"## Does time of year affect # of shootings?\n### Perhaps in darker winter months, there could be increased confusion on more shootings."}}