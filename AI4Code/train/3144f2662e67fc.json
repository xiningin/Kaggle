{"cell_type":{"0dfa455f":"code","bc261212":"code","c553adc2":"code","b379434c":"code","7e1ea181":"code","272dae3f":"code","7d0f6a8a":"code","d508433c":"code","92b3310e":"code","52ef8dc1":"code","114f0809":"code","e7509326":"code","a66dfa63":"code","c0496f4f":"code","3b23497f":"code","d80b2f97":"code","62711f15":"code","d9cc9e28":"code","a0f3e752":"code","1b034466":"code","2fb0f68a":"code","14696422":"code","0f42f66e":"code","3fb9914c":"code","23d94382":"code","51c48ac8":"code","ff55095c":"code","e74c8b8d":"code","5939ae6f":"code","067c3ffd":"code","3071c442":"code","bc001708":"code","96ffc18f":"code","400883a5":"code","f5647635":"code","414859bc":"code","7fc915ae":"code","0ed99145":"code","97e0abf1":"code","cd40b6ea":"code","5bfc9d26":"code","fb74f72e":"code","725b3597":"code","ca17c3a5":"code","ec3e3bc7":"code","293aa7f9":"code","04a583b4":"code","68cafb7f":"code","cffb4408":"code","56ef532b":"code","cd908fb0":"markdown","094e0607":"markdown","7d9e0bf5":"markdown","09f4e40e":"markdown","032699a9":"markdown","1755c8ca":"markdown","4fe62447":"markdown","bd8d7d0c":"markdown","9f6ca224":"markdown","75fb3d52":"markdown","7b75ae83":"markdown","130e6ebe":"markdown","a9cc0942":"markdown","7d2fce87":"markdown","0ecc0662":"markdown","0751e67d":"markdown","d50cde84":"markdown","a2f1bcb1":"markdown","8171eacf":"markdown","3c9423d3":"markdown","496228ce":"markdown","303cdceb":"markdown","eb50e762":"markdown","413f8a61":"markdown"},"source":{"0dfa455f":"#Import libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nimport warnings\nwarnings.filterwarnings(\"ignore\") # ignore warnings","bc261212":"wine = pd.read_csv(\"..\/input\/wine-reviews\/winemag-data_first150k.csv\")\ndf = wine.copy()","c553adc2":"#The data set has 150930 observations and 11 variables.\ndf.shape ","b379434c":"#First 10 records in the dataset.\ndf.head(10)","7e1ea181":"df.info()","272dae3f":"#Unnecessary variable deletion.\ndf.drop(\"Unnamed: 0\", axis = 1, inplace = True)","7d0f6a8a":"#Check, delete successful.\ndf.head(3)","d508433c":"#missing observation visualization tool..\nimport missingno as msno ","92b3310e":"df.head()","52ef8dc1":"#total missing values in the variables.\ndf.isna().sum() ","114f0809":"msno.matrix(df);","e7509326":"msno.heatmap(df);","a66dfa63":"# Missing Value Table\ndef missing_value_table(df):\n    missing_value = df.isna().sum().sort_values(ascending=False)\n    missing_value_percent = 100 * df.isna().sum()\/\/len(df)\n    missing_value_table = pd.concat([missing_value, missing_value_percent], axis=1)\n    missing_value_table_return = missing_value_table.rename(columns = {0 : 'Missing Values', 1 : '% Value'})\n    cm = sns.light_palette(\"lightgreen\", as_cmap=True)\n    missing_value_table_return = missing_value_table_return.style.background_gradient(cmap=cm)\n    return missing_value_table_return\n  \nmissing_value_table(df)","c0496f4f":"#5 countries are missing and 5 provinces are missing. \ndf[df[\"province\"].isna()]","3b23497f":"#As a result of this review, we understand that the last 3 observations were produced in Chile.\ndf[df[\"winery\"]==\"Chilcas\"].head(7)","d80b2f97":"#This missing value is in Greece.\ndf[df[\"winery\"]==\"Tsililis\"].head()","62711f15":"#There is a result.In research on the Internet, we see that Turkey.\ndf[df[\"winery\"]==\"B\u00fcy\u00fcl\u00fcba\u011f\"].head()","d9cc9e28":"df['country'][df.winery=='Chilcas'] = \"Chile\"","a0f3e752":"df['country'][df.winery=='Tsililis'] = \"Greece\"","1b034466":"df['country'][df.winery=='B\u00fcy\u00fcl\u00fcba\u011f'] = \"Turkey\"","2fb0f68a":"df[df[\"province\"].isna()]","14696422":"# Missing Value Table\ndef missing_value_table(df):\n    missing_value = df.isna().sum().sort_values(ascending=False)\n    missing_value_percent = 100 * df.isna().sum()\/\/len(df)\n    missing_value_table = pd.concat([missing_value, missing_value_percent], axis=1)\n    missing_value_table_return = missing_value_table.rename(columns = {0 : 'Missing Values', 1 : '% Value'})\n    cm = sns.light_palette(\"lightgreen\", as_cmap=True)\n    missing_value_table_return = missing_value_table_return.style.background_gradient(cmap=cm)\n    return missing_value_table_return\n  \nmissing_value_table(df)","0f42f66e":"from sklearn.impute import SimpleImputer\nimp = SimpleImputer(strategy=\"most_frequent\",missing_values=np.nan)","3fb9914c":"df_cat = df.drop([\"country\",\"description\",\"points\",\"variety\",\"winery\",\"price\"],axis=1)","23d94382":"df_notnull = imp.fit_transform(df_cat)","51c48ac8":"var_name = list(df_cat)","ff55095c":"df_notnull = pd.DataFrame(df_notnull, columns=var_name)","e74c8b8d":"df_notnull.isna().sum()","5939ae6f":"#Filling the Price variable with the mean.\ndf['price'] = df['price'].fillna(df.groupby(['country','province'])['price'].transform('mean'))","067c3ffd":"#the minimum value is 80, the maximum value is 100. This is actually a variable that is between certain values, so it would be unreasonable to study outliers..\ndf.points.describe() ","3071c442":"#As we can see with the help of Boxplot, there are actually no outliers. Values range from 80 to 100.\nsns.boxplot(df.points);","bc001708":"sns.boxplot(x = df.price);","96ffc18f":"df.price.describe()","400883a5":"Q1 = df.price.quantile(0.25)\nQ3 = df.price.quantile(0.75)\nIQR = Q3 - Q1","f5647635":"upper_value = Q3 + 1.5*IQR\nlower_value = Q1 - 1.5*IQR","414859bc":"outlier_values = (df.price < lower_value) | (df.price > upper_value)","7fc915ae":"#total outliers..\ndf.price[outlier_values].value_counts().sum() ","0ed99145":"df.price[outlier_values]","97e0abf1":"upper_outlier = df.price> upper_value","cd40b6ea":"upper_outlier.sum()","5bfc9d26":"df.price[upper_outlier] = upper_value","fb74f72e":"df.price[upper_outlier]","725b3597":"sns.boxplot(df.price);","ca17c3a5":"from sklearn import preprocessing","ec3e3bc7":"df_points = df.select_dtypes(include=[\"int64\"])","293aa7f9":"preprocessing.scale(df_points) #mean 0, std 1.","04a583b4":"scaler = preprocessing.MinMaxScaler(feature_range=(10,30))","68cafb7f":"df_price = df[[\"price\"]]","cffb4408":"scaler.fit_transform(df_price)","56ef532b":"df[\"country_01\"] = np.where(df.country.str.contains(\"US\"),1,0)\ndf.head()","cd908fb0":"<a id=\"1\"><\/a>\n# Data Recognition","094e0607":"## Variable Recognition\n 1. **Unnamed: 0**:  A variable with no name and a variable specifying indexes will be deleted below because it is unnecessary.\n 1. **country**:  Variable indicating the countries of wines.\n 1. **description**:  A variable with descriptions about wines.\n 1. **designation**: Wine names.\n 1. **points**:  Scores of wines. (min=80, max=100)\n 1. **price**:  Prices of wines.\n 1. **province**: The variable that indicates the city where the wines are located in the country.\n 1. **region_1**: Region in the province.\n 1. **region_2**: Region in the province.\n 1. **variety**:Grape varieties.\n 1. **winery**: Winery names.\n ","7d9e0bf5":"1. [Data Recognition](#1)\n2. [Missing Observation Analysis](#2)\n3. [Outlier Observation Analysis](#3)\n4. [Standardization](#4)\n5. [Variable Transformations](#5)\n","09f4e40e":"## Standardization","032699a9":"**Turkey Filling**","1755c8ca":"#### IQR (Interquartile Range)","4fe62447":"## \"1 and Others (0)\" Transformation","bd8d7d0c":"### Min-Max Transform","9f6ca224":"*Observations that go far beyond the general trend in the data or that are quite different from other observations are called contradictory observations.*\n\n4 different methods are used to detect and correct outliers.Here we will use the IQR method.","75fb3d52":"# Data Preprocessing","7b75ae83":"* Since there are 2 numerical variables, we will examine them separately, first let's examine our points variable.","130e6ebe":"The last 3 observations in the table above are the same. We examine the winery column.","a9cc0942":"Missing value numbers and percentages.","7d2fce87":"**Chile Filling**","0ecc0662":"<a id=\"2\"><\/a>\n# Missing Observation Analysis","0751e67d":"**We will fill the remaining 4 variables with SimpleImputer.**","d50cde84":"## Information\nIn this section, data pre-processing studies will be carried out on the data set named wine-reviews from kaggle platform.","a2f1bcb1":"**We will fill in other missing values with different methods**","8171eacf":"<a id=\"5\"><\/a>\n# Variable Transformations","3c9423d3":"<a id=\"4\"><\/a>\n# Standardization","496228ce":"**Greece Filling**","303cdceb":"*With the info() function, we can see the total number of variables in the data set, the types of these variables and the number of observations in the variables.*\n\n* float64(1):price\n* int64(2):Unnamed: 0, points\n* object(8):country, description, designation, province, region_1, region_2, variety, winery","eb50e762":"*IQR is the distance between the first quarter Q1 and the third quarter Q3. Using IQR, upper and lower limit values \u200b\u200bare calculated as follows.*","413f8a61":"<a id=\"\"><\/a>\n# Outlier Observation Analysis"}}