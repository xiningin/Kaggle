{"cell_type":{"400b3cc5":"code","d62286cb":"code","ebe3fc85":"code","223856b4":"code","286ad047":"code","b8032014":"code","2c1df204":"code","39c70236":"code","f9d28899":"code","691dbaf6":"code","5d8777b8":"code","81a412cd":"code","f1694850":"code","fa7a96a5":"code","d0aa5a71":"code","4e0a8104":"code","891de68f":"code","4fe6dbe2":"code","72eba69d":"code","87146ffb":"code","b6c252a8":"code","cecb0485":"code","2d0d4b06":"code","fa95f5fb":"code","bcee910e":"code","99bd35dc":"code","d82b3363":"code","59289ebd":"code","84bafea6":"code","b025957a":"code","2bb00367":"code","de9d48a7":"code","e1235ab8":"code","05b5c7fc":"code","67217f6a":"code","c1162c8e":"code","f82c2ebf":"code","6d458ca6":"code","bd3db2ac":"code","3cdab382":"code","ac252d3d":"code","3be78001":"code","26bae5d3":"code","549fc824":"code","b0a3613d":"code","4a10cae0":"code","fe0dba19":"markdown","ec9f138a":"markdown","a60cfdc7":"markdown","c9354777":"markdown","f57e6e70":"markdown","1e0530f2":"markdown","3b7eaea0":"markdown","d4838469":"markdown","f08f5388":"markdown","a4dbf055":"markdown","c607dff7":"markdown","6b6a1813":"markdown","8c5fad59":"markdown","878bde55":"markdown","e4d766ad":"markdown","689d9869":"markdown","b21a66c6":"markdown","4a4dcd2a":"markdown","db88a302":"markdown","9f024982":"markdown","2a6876a8":"markdown","f10f8a44":"markdown","b028a71e":"markdown","ec8df187":"markdown","a34963b4":"markdown","a3696d70":"markdown","f9114c9b":"markdown","f7e6e28a":"markdown","e63a7a77":"markdown"},"source":{"400b3cc5":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfrom tqdm.notebook import tqdm_notebook as tqdm\n\nimport seaborn as sns \npal = sns.color_palette()\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n# for dirname, _, filenames in os.walk('\/kaggle\/input'):\n#     for filename in filenames:\n#         print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d62286cb":"products=pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv')\ndistricts=pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')\nengagement_dir='\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data'\nengagements=pd.DataFrame()\nfor dir,_,fnames in os.walk(engagement_dir):\n    for fname in fnames:\n        tmp_df=pd.read_csv(os.path.join(dir,fname))\n        tmp_df['district_id']=fname[:-4]\n        tmp_df=tmp_df[['district_id','time','lp_id','pct_access','engagement_index']]\n        engagements=pd.concat([engagements,tmp_df])\n\n\nprint('ENGAGEMENTS')\ndisplay(engagements)\nprint('PRODUCTS')\ndisplay(products)\nprint('DISTRICTS')\ndisplay(districts)","ebe3fc85":"def my_drop_duplicate(df):\n    before_len=len(df)\n    df.drop_duplicates(inplace=True)\n    after_len=len(df)\n    diff_len=before_len-after_len\n    diff_ratio=diff_len\/before_len\n    drop_info = {\"before_len\":before_len,\"after_len\":after_len,\"diff_len\":diff_len,\"diff_ratio\":diff_ratio}\n    drop_info = pd.DataFrame([drop_info])\n    return df, drop_info","223856b4":"engagements, engagements_drop = my_drop_duplicate(engagements)\nproducts, products_drop = my_drop_duplicate(products)\ndistricts, districts_drop = my_drop_duplicate(districts)\n\ndrop_info = pd.concat([engagements_drop,products_drop,districts_drop]).set_axis(['engagements','products','districts'])\ndrop_info","286ad047":"def count_null(df):\n    null_count=df.isna().sum()\n    null_ratio=null_count\/len(df)\n    null_info = pd.concat([null_count, null_ratio],axis=1).set_axis([\"null_count\",\"null_ratio\"],axis=1).round(3)\n    return null_info","b8032014":"engagements_null=count_null(engagements)\nproducts_null=count_null(products)\ndistricts_null=count_null(districts)\n\nprint('ENGAGEMENTS')\ndisplay(engagements_null)\nprint('PRODUCTS')\ndisplay(products_null)\nprint('DISTRICTS')\ndisplay(districts_null)","2c1df204":"engagements[engagements['engagement_index'].isnull()]","39c70236":"engamements_dropna=engagements.dropna(subset=['engagement_index'])\nengagements_null=count_null(engamements_dropna)\nprint('ENGAGEMENTS')\ndisplay(engagements_null)","f9d28899":"products[products['Sector(s)'].isnull()]","691dbaf6":"districts[districts['state'].isnull()]","5d8777b8":"engagements.dropna(inplace=True)\nproducts.dropna(inplace=True)\ndistricts.dropna(subset=['state'], inplace=True)","81a412cd":"districts.info()","f1694850":"for state in districts[districts['pp_total_raw'].isnull()]['state'].unique():\n    display(districts[districts['state'] == state])","fa7a96a5":"districts.loc[districts['state']=='Connecticut','pp_total_raw'] = '[16000, 18000['\ndistricts[districts['state'] == 'Connecticut'].head()","d0aa5a71":"engagements_null=count_null(engagements)\nproducts_null=count_null(products)\ndistricts_null=count_null(districts)\n\nprint('ENGAGEMENTS')\ndisplay(engagements_null)\nprint('PRODUCTS')\ndisplay(products_null)\nprint('DISTRICTS')\ndisplay(districts_null)","4e0a8104":"# Convert Data Type\nengagements['district_id'] = engagements['district_id'].astype('int64')\nengagements['lp_id'] = engagements['lp_id'].astype('int64')\n# Separate the values in 'Primary Essential Function'\nproducts['Function Main Category']=products['Primary Essential Function'].apply(lambda x : x.split('-')[0])\nproducts['Function Sub Category']=products['Primary Essential Function'].apply(lambda x : x.split('-')[1])","891de68f":"# add 'state' column into engagements\nengagements['state']=np.nan\nfor state in districts['state'].unique():\n    district_ids = districts[districts['state']==state]['district_id'].unique()\n    for d_id in district_ids:\n        engagements.loc[engagements['district_id']==int(d_id), 'state'] = state\nengagements","4fe6dbe2":"engagements_state_datacount = engagements.state.value_counts()\nax = engagements_state_datacount.plot.bar(figsize=(20, 4), title='# of instances \/ state', sharex=False)\nax.set_xlabel(\"state\")\nax.set_ylabel(\"# of instances\")","72eba69d":"engagements_num_district = engagements.groupby(['state'])['district_id'].nunique().sort_values(ascending=False)\nax = engagements_num_district.plot.bar(figsize=(20, 4),title='# of instances \/ district_id', subplots=False)\nax.set_xlabel(\"state\")\nax.set_ylabel(\"# of district id\")","87146ffb":"plt.figure(figsize=(12,8))\nfor key, df in engagements.groupby(['state'])['district_id','lp_id']:\n#     print(engagements[engagements['state']==key].value_counts())\n    size = df['lp_id'].nunique()\n#     print(df['district_id'].nunique())\n#     print(len(engagements[engagements['state']==key]))\n    plt.scatter(df['district_id'].nunique(), len(engagements[engagements['state']==key]), label=key, s=size\/50)\n    plt.legend(title=\"state\").get_frame().set_alpha(0.6)\n    plt.tight_layout()\n    plt.xlabel(\"# of district id\")\n    plt.ylabel(\"# of instances\")\n    plt.title(\"# of instances \/ state and district\")\n","b6c252a8":"engagements_num_time = engagements.groupby(['state'])['time'].nunique().sort_values(ascending=False)\n# display(engagements_num_time)\nax = engagements_num_time.plot.bar(figsize=(20, 4), title=\"# of time \/ state\")\nax.set_xlabel(\"state\")\nax.set_ylabel(\"# of unique time\")","cecb0485":"time_series_all = engagements.groupby(['time'])['pct_access','engagement_index'].agg('mean')\ntime_series_all.plot(figsize=(20, 8), title='means of engagements \/ time', subplots=True)","2d0d4b06":"# # Too Large to Run\n\n# plt.figure(figsize=(12,8),tight_layout=True)\n# for key, df in tqdm(engagements.groupby(['time','state'])['pct_access','engagement_index']):\n#     plt.plot(df[['pct_access','engagement_index']].mean(), (key[0],key[0]), label=key[1])\n#     plt.legend(title=\"state\").get_frame().set_alpha(0.6)\n#     plt.tight_layout()\n#     plt.xlabel(\"# of time\")\n#     plt.ylabel(\"# of instances\")","fa95f5fb":"# # Too Large to Run\n\n# plt.figure(figsize=(12,8),tight_layout=True)\n# for key, df in tqdm(engagements.groupby(['time','state','district_id'])['pct_access','engagement_index']):\n#     plt.plot(df[['pct_access','engagement_index']].mean(), (key[0],key[0]), label='_'.join(key[1],key[2]))\n#     plt.legend(title=\"state_district\").get_frame().set_alpha(0.6)\n#     plt.tight_layout()\n#     plt.xlabel(\"# of time\")\n#     plt.ylabel(\"# of instances\")","bcee910e":"products_sector_datacount = products['Sector(s)'].value_counts()\nax = products_sector_datacount.plot.bar(figsize=(20, 4), title='# of instances \/ Sector(s)', sharex=False)\nax.set_xlabel(\"sector\")\nax.set_ylabel(\"# of instances\")","99bd35dc":"products_function_datacount = products.groupby(['Function Main Category','Function Sub Category'])\nplt.figure(figsize=(12,8),tight_layout=True)\nfor key, df in tqdm(products_function_datacount):\n    print(key)","d82b3363":"products.replace(' Sites, Resources & Reference ',' Sites, Resources & Reference',inplace=True)\nproducts.replace(' Sites, Resources & References ',' Sites, Resources & Reference',inplace=True)\nproducts.replace(' Study Tools ',' Study Tools',inplace=True)\nproducts.replace(' Data, Analytics & Reporting ',' Data, Analytics & Reporting',inplace=True)\nproducts_function_datacount = products.groupby(['Function Main Category','Function Sub Category'])\nplt.figure(figsize=(12,8),tight_layout=True)\nfor key, df in tqdm(products_function_datacount):\n    print(key)","59289ebd":"products_function_datacount = products.groupby(['Function Main Category'])['URL'].count().sort_values(ascending=False)\nax = products_function_datacount.plot.bar(figsize=(20,4),title='# of instances \/ Function Main Category')\nax.set_ylabel(\"# of instances\")","84bafea6":"products_function_datacount = products.groupby(['Function Main Category','Function Sub Category'])['URL'].count().sort_values(ascending=False)\nax = products_function_datacount.plot.bar(figsize=(20,4),title='# of instances \/ Functions')\nax.set_ylabel(\"# of instances\")","b025957a":"products_provider_datacount = products['Provider\/Company Name'].value_counts()\nax = products_provider_datacount.plot.bar(figsize=(20, 4), title='# of instances \/ Provider\/Company Name', sharex=False)\nax.set_ylabel(\"Provider\/Company Name\")\nax.set_ylabel(\"# of instances\")","2bb00367":"print('# of Provider\/Company Name is too large to display.')\nprint('So, display only TOP 10')\nproducts_provider_datacount = products['Provider\/Company Name'].value_counts()\nax = products_provider_datacount[:10].plot.bar(figsize=(20, 4), title='# of instances \/ TOP10 Provider\/Company Name', sharex=False)\nax.set_ylabel(\"Provider\/Company Name\")\nax.set_ylabel(\"# of instances\")","de9d48a7":"import math\ndef myGroupDisplay(df,group1,group2=None,column=None,title=None, height=8):\n    if group2 == None:\n        df = df.groupby([group1])[column]\n    else:\n        df = df.groupby([group1,group2])[column]\n    fig = plt.figure(figsize=(20,height))\n    for i, (key,grouped_df) in enumerate(df): \n        plt.subplot(math.ceil(len(df.group\uff53)\/6), 6, i+1)\n        plt.title(key)\n        plt.pie(grouped_df.value_counts())\n    plt.legend()\n    fig.suptitle(title,fontsize=24)\n    plt.tight_layout()\n    \nfontsize=24","e1235ab8":"districts_locale = districts['locale'].value_counts()\nax = districts_locale.plot.pie(figsize=(20, 4))\nax.set_title('locale', fontsize=fontsize)\n\nmyGroupDisplay(districts,'state',group2=None,column='locale',title='locale')","05b5c7fc":"col = 'pct_black\/hispanic'\ndistricts_race = districts[col].value_counts()\nax = districts_race.plot.pie(figsize=(20, 4))\nax.set_title(col, fontsize=fontsize)\n\nmyGroupDisplay(districts,'locale',group2=None,   column=col,title=f'{col} \/ locale',         height=4)\nmyGroupDisplay(districts,'state', group2=None,   column=col,title=f'{col} \/ state',          height=8)\nmyGroupDisplay(districts,'locale',group2='state',column=col,title=f'{col} \/ locale + state', height=16)","67217f6a":"col = 'pct_free\/reduced'\ndistricts_expendure = districts[col].value_counts()\nax = districts_expendure.plot.pie(figsize=(20, 4))\nax.set_title(col, fontsize=fontsize)\n\nmyGroupDisplay(districts,'locale',group2=None,   column=col,title=f'{col} \/ locale',         height=4)\nmyGroupDisplay(districts,'state', group2=None,   column=col,title=f'{col} \/ state',          height=8)\nmyGroupDisplay(districts,'locale',group2='state',column=col,title=f'{col} \/ locale + state', height=16)","c1162c8e":"col = 'county_connections_ratio'\ndistricts_connection = districts[col].value_counts()\nax = districts_connection.plot.pie(figsize=(20, 4))\nax.set_title(col, fontsize=18)\n\nmyGroupDisplay(districts,'locale',group2=None,   column=col,title=f'{col} \/ locale',         height=4)\nmyGroupDisplay(districts,'state', group2=None,   column=col,title=f'{col} \/ state',          height=8)\nmyGroupDisplay(districts,'locale',group2='state',column=col,title=f'{col} \/ locale + state', height=16)","f82c2ebf":"col = 'pp_total_raw'\ndistricts_expendure = districts[col].value_counts()\nax = districts_expendure.plot.pie(figsize=(20, 4))\nax.set_title(col, fontsize=18)\n\nmyGroupDisplay(districts,'locale',group2=None,   column=col,title=f'{col} \/ locale',         height=4)\nmyGroupDisplay(districts,'state', group2=None,   column=col,title=f'{col} \/ state',          height=8)\nmyGroupDisplay(districts,'locale',group2='state',column=col,title=f'{col} \/ locale + state', height=16)","6d458ca6":"import gc\n\ndef merge_df(engagements, districts, products):\n    df = engagements\n    df = pd.merge(df, districts, left_on=['district_id','state'], right_on=['district_id','state'])\n    df = pd.merge(df, products, left_on=['lp_id'], right_on=['LP ID'])\n    df = df.drop('LP ID', axis=1)\n    return df\n\nengagements['district_id'] = engagements['district_id'].astype('int64')\ndf = merge_df(engagements, districts, products)\ndf\n","bd3db2ac":"# del engagements, districts, products\n# gc.collect()\n\n# os.makedirs('\/kaggle\/temp', exist_ok=True)\n# df.to_csv('\/kaggle\/temp\/merged_df.csv')\n# df = pd.read_csv('\/kaggle\/temp\/merged_df.csv')\n# df.head()\n","3cdab382":"df['locale'].unique()","ac252d3d":"replace_dict = {'Rural':0, 'Town':1, 'Suburb':2, 'City':3,\n                '[0, 0.2[': 0, '[0.2, 0.4[':2, '[0.4, 0.6[':4, '[0.6, 0.8[':6, '[0.8, 1[':8, \n                '[0.18, 1[':1, '[1, 2[':2,\n               '[12000, 14000[':12000, '[6000, 8000[':6000, '[18000, 20000[':18000, '[14000, 16000[':14000, '[16000, 18000[':16000, '[8000, 10000[':8000,\n               '[10000, 12000[':10000, '[4000, 6000[':4000, '[20000, 22000[':20000, '[32000, 34000[':32000, '[22000, 24000[':22000}\ntmp = df.replace(replace_dict, inplace=False)\nsns.heatmap(tmp[['time','pct_access','engagement_index','locale','pct_black\/hispanic','pct_free\/reduced','county_connections_ratio','pp_total_raw']].corr())","3be78001":"tmp[['pct_black\/hispanic', 'pct_free\/reduced']].corr()","26bae5d3":"def myGroupPivotAnalyze(df, col):\n    grouped_df = df.groupby(['time',col])['pct_access','engagement_index'].agg('mean').reset_index()\n#     display(grouped_df)\n    pivot_df = grouped_df.pivot_table(['pct_access','engagement_index'], index='time', columns=col)\n#     display(pivot_df)\n    pivot_df['pct_access'].plot(figsize=(20, 4), title=f'pct_access \/ {col}', subplots=False)\n    pivot_df['engagement_index'].plot(figsize=(20, 4), title=f'engagement_index \/ {col}',subplots=False)\n        \ncolumns = [\n            'state',\n           'locale',\n           'pct_black\/hispanic',\n           'pct_free\/reduced',\n           'county_connections_ratio',\n           'pp_total_raw',\n#            'Product Name',\n           'Sector(s)',\n           'Function Main Category',\n#            'Primary Essential Function'\n          ]\n\nfor col in columns:\n    myGroupPivotAnalyze(df,col)","549fc824":"print(df)","b0a3613d":"def myFindingsDisplay(df, level_2, eles):\n    grouped_df = df.groupby(['time',level_2])['pct_access','engagement_index'].agg('mean').reset_index()\n    pivot_df = grouped_df.pivot_table(['pct_access','engagement_index'], index='time', columns=level_2)\n    \n    level_1 = 'pct_access'\n    idx = pd.IndexSlice\n    eles_list = []\n    for ele in eles:\n        eles_list.append(idx[level_1,ele])\n    pivot_df.loc[:,eles_list].plot(figsize=(20, 4), title=f'{level_1} \/ {level_2}', ylim=[0,8], subplots=False)\n    \n    level_1 = 'engagement_index'\n    idx = pd.IndexSlice\n    eles_list = []\n    for ele in eles:\n        eles_list.append(idx[level_1,ele])\n    pivot_df.loc[:,eles_list].plot(figsize=(20, 4), title=f'{level_1} \/ {level_2}', ylim=[0,3000], subplots=False)\n    \n    return None\n\n\nfindings = {\n            'state':[\n                    'New York', # 1.5 point increase in the second QUORTER of the year, (engage)200 increase in\u3000the second QUORTER of the year\n                    'Arizona', # 1)Temporary sharp rise in August, 2)High value part of the graph in the second half is sharp\n#                     'Massachusetts', # 0.5 point increase in the second half of the year\n#                     'District Of Columbia',# 1.5 points increase in the second half of the year\n                    'North Carolina', # 0.25 points decrease in the second half of the year  \n#                     'New Hampshire', # 0.5 point increase in the second half of the year\uff0c (engage)200 increase in\u3000the second QUORTER of the year\n#                     'Tennessee', #  0.5 point increase in the second half of the year\n#                     'Washington', # 0.5 point increase in the second half of the year\n\n                    ],\n           'locale':[\n                   'Rural', \n                   'Suburb', \n                   'City'\n                   ],\n           'pct_black\/hispanic':[\n                   '[0.8, 1[',\n                   '[0, 0.2[',\n                   '[0.2, 0.4['\n                   ],\n           'pct_free\/reduced':[\n                   '[0.8, 1[',\n                   '[0, 0.2['\n                   ],\n           'county_connections_ratio':[\n                   '[0.18, 1[',\n                   '[1, 2['\n                   ],\n           'pp_total_raw':[\n                   '[4000, 6000[', \n                   '[20000, 22000[', \n                   '[22000, 24000[',\n                   '[32000, 34000['\n                   ],\n#            'Product Name',\n           'Sector(s)':[\n                    'PreK-12; Higher Ed'\n                    ],\n           'Function Main Category':[\n                   'SDO ',\n                   'CM '\n                   ]\n#            'Primary Essential Function'\n           }\nfor col, eles in findings.items():\n    myFindingsDisplay(df,col,eles)","4a10cae0":"import math\n\ndef myFindingsDisplay(df, level_2, eles, level_3):\n    grouped_df = df.groupby(['time',level_2,level_3])['pct_access','engagement_index'].agg('mean').reset_index()\n    pivot_df = grouped_df.pivot_table(['pct_access','engagement_index'], index='time', columns=[level_2,level_3])\n    \n    level_1 = 'pct_access'\n    idx = pd.IndexSlice\n    eles_list = []\n    for ele in eles:\n        for ele_2 in df[df[level_2]==ele][level_3].unique():\n            if type(ele_2)== str:\n                pass\n            elif math.isnan(ele_2):\n                continue\n            eles_list.append(idx[level_1,ele,ele_2])\n    pivot_df.loc[:,eles_list].plot(figsize=(20, 4), title=f'{level_1} \/ {level_2}_{level_3}', subplots=False)\n#     pivot_df.loc[:,eles_list].plot(figsize=(20, 4), title=f'{level_1} \/ {level_2}_{level_3}', ylim=[0,40], subplots=False)\n  \n    \n    level_1 = 'engagement_index'\n    idx = pd.IndexSlice\n    eles_list = []\n    for ele in eles:\n        for ele_2 in df[df[level_2]==ele][level_3].unique():\n            if type(ele_2)== str:\n                pass\n            elif math.isnan(ele_2):\n                continue\n            eles_list.append(idx[level_1,ele,ele_2])\n    pivot_df.loc[:,eles_list].plot(figsize=(20, 4), title=f'{level_1} \/ {level_2}_{level_3}', subplots=False)\n#     pivot_df.loc[:,eles_list].plot(figsize=(20, 4), title=f'{level_1} \/ {level_2}_{level_3}', ylim=[0,17500], subplots=False)\n    \n    return None\n\nfindings = {'state':['New York', # 1.5 point increase in the second QUORTER of the year, (engage)200 increase in\u3000the second QUORTER of the year\n                     'Arizona', # 1)Temporary sharp rise in August, 2)High value part of the graph in the second half is sharp\n#                     'Massachusetts', # 0.5 point increase in the second half of the year\n#                     'District Of Columbia',# 1.5 points increase in the second half of the year\n#                     'North Carolina', # 0.25 points decrease in the second half of the year  \n#                     'New Hampshire', # 0.5 point increase in the second half of the year\uff0c (engage)200 increase in\u3000the second QUORTER of the year\n#                     'Tennessee', #  0.5 point increase in the second half of the year\n#                     'Washington', # 0.5 point increase in the second half of the year\n                    ],\n           'Function Main Category':[\n                   'SDO ',\n#                    'CM '\n                   ]\n}\n\ncolumns = ['state',\n           'locale',\n           'pct_black\/hispanic',\n           'pct_free\/reduced',\n           'county_connections_ratio',\n           'pp_total_raw',\n           'Sector(s)',\n           'Function Main Category',\n          ]\n\nfor col_2, eles in findings.items():\n    for col_3 in columns:\n        if col_2==col_3:\n            continue\n        else:\n            myFindingsDisplay(df,col_2,eles,col_3)","fe0dba19":"## Findings Display","ec9f138a":"## More Simple Summarry\n\nThe following factors is expected to lead to the _more_ increase in the engagements of online or distance learning from above analysis than the other factors.\n\n+ High rate of Black or Hispanic\n+ High rate of students who can have free or reduced-price lunch \n+ More than 20000 of per-pupil total expenditure (sum of local and federal expenditure) from Edunomics Lab's National Education Resource Database on Schools (NERD$) project.\n+ School & District Operations (the announsments, policies, and instractions for epidemic prevention\u3000in each district).\n+ The characteristics of the 'City' (large number of people, relatively wealthy, large amount of information transmitted by people, etc).\n+ The characteristics of 'Sector(s)\" of the 'Corporate'\n","a60cfdc7":"## Findings Memo on _'pct_access','engagement_index'_\n\nThe following are clearly different in their movements compared to the others:\n\n### 'state'\n+ 'Massachusetts', # 0.5 point increase in the second half of the year\n+ 'District Of Columbia',# 1.5 points increase in the second half of the year\n+ 'North Carolina', # 0.25 points decrease in the second half of the year  \n+ 'New Hampshire', # 0.5 point increase in the second half of the year\uff0c (engage)200 increase in\u3000the second QUORTER of the year\n+ 'Tennessee', #  0.5 point increase in the second half of the year\n+ 'Washington', # 0.5 point increase in the second half of the year\n+ 'New York', # 1.5 point increase in the second QUORTER of the year, (engage)200 increase in\u3000the second QUORTER of the year\n+ 'Arizona', # 1)Temporary sharp rise in August, 2)High value part of the graph in the second half is sharp\n        ],     \n> note: I ignore the phenomena\u3000which are the decline of the percentages from March to May and the low percentages from May to July, because I did not find out what is the reasons.\n\n### 'locale': \u3000\u3000\u3000\u3000\n+ Rural >> Suburb > City > Town\n+ The value of 'Town' is decreasing from the first half of the year to the second half of the year, even though the other values are increasing.\n\n### 'pct_black\/hispanic':\n+ the first half of the year\n    + 0.8-1.0 >> 0.0-0.2 > 0.2-0.4 > 0.6-0.8 > 0.4-0.6\n+ the second half of the year\n    + 'pct_access': 0.8-1.0 >> 0.0-0.2 > 0.2-0.4 \u2252 0.6-0.8 > 0.4-0.6\n    + -> 'pct_access': 0.8-1.0 >> 0.0-0.2 > 0.2-0.4 > 0.6-0.8 \u2252 0.4-0.6\n    \n    + 'engagement_index': 0.8-1.0 >> 0.0-0.2 > 0.2-0.4 > 0.4-0.6 \u2252 0.6-0.8\n    + -> 'engagement_index': 0.8-1.0 >> 0.0-0.2 > 0.2-0.4 > 0.4-0.6 > 0.6-0.8\n    \n+ Upward trend in general\n\n### 'pct_free\/reduced':\n+ 0.8-1.0 >> 0.0-0.2 > 0.2-0.4 \u2252 0.4-0.6 > 0.6-0.8\n+ the first half of the year, the values of 0.8-1.0 are fluctuating widely.\n+ No upward nor downward trend in general\n\n### 'county_connections_ratio':\n+ In the first place, there is lacking of data of '1-2' after February. There is only the data of '0.18-1'.\n+ In Janually, '1-2' >>> '0.18-1'. For both upper and lower bounds, the difference is more than 3 times.\n+ After Febrary, both upper and lower bounds\u3000of the values of '0.18-1'are on a gradual upward trend.\n\n### 'pp_total_raw',\n+ The lower bounds are relatively higher\n    + '4000, 6000'\n    + '18000, 20000'\n    + '20000, 22000'\n    + '22000, 24000'\n    + '32000, 34000'\n+ The upper bounds are relatively higher\n    + '20000, 22000'\n    + '32000, 34000'\n+ Over the year, the values grew the most apparently.\n    + '20000, 22000'\n    + '32000, 34000'\n+ Other\n    + '4000, 6000': 2nd QUORTER in the year, 'engagement_index' is higher than the other QUORTER\n    + '14000, 16000', '18000, 20000', '20000, 22000', '32000, 34000': 0.75 points increase in the second half of the year, (engage) 200-400 increase in\u3000the second QUORTER of the year\n    + '22000, 24000': (engage) the lower bound is on a gradual upward trend.\n    + '4000, 6000', '6000, 8000','8000, 10000', '10000, 12000','12000, 14000', '16000, 18000': The lower bound\u3000of the values of them are on a gradual upward trend.\n### 'Sector(s)',\n+ 'PreK-12; Higher Ed; Corporate' grew the most apparently.\n+ Others are stagnant or declining.\n\n### 'Function Main Category',\n+ 'SDO' is always the highest.\n    + 'pct_access' is stagnant or on gradual upward trend\n    + 'engagement_index' is on upward trend\n+ 'CM' grew the most apparently. \n    + 'pct_access': 3rd -> 2nd\n    + 'engagement_index': 4th -> 2nd\n        + in the last of the year, it greatly exceeded 'LC\/CM\/SDO' and 'LC'\n```","c9354777":"__The number of unique time in each state is constant except for 3 states: Texas, Minnesota, and North Dakota.__","f57e6e70":"## DISTRICT","1e0530f2":"# DATA VISUALISING","3b7eaea0":"## Correlations","d4838469":"# DATA CLEANSING","f08f5388":"# ANALYSIS","a4dbf055":"__The number of instances in each state appears to be proportional to the number of districts in each state.__\n\nSo, we attempt to plot in order to make sure that.","c607dff7":"## ENGAGEMENTS","6b6a1813":"## DROP NULL DATA","8c5fad59":"## LOOK UP NULL DATA in DISTRICTS","878bde55":"## More Findings Memo on _'pct_access', 'engagement_index'_\n\nThe values were significantly higher in the following categories\n+ New York, Arizona\n   + 'locale' : City\n   + 'pct_black\/hispanic': 0.8, 1\n   + 'pct_free\/reduced': 0.8, 1\n   + 'Sector(s)': 'Prek-12; Higher Ed; Corporate'\n   + 'Function Main Category', SDO\n\n+ SDO\n    + 'pct_black\/hispanic': 0.8, 1\n    + 'pct_free\/reduced': 0.8, 1\n    + 'pp_total_raw': more than 20000, 22000'\n    + 'Sector(s)': 'Prek-12; Higher Ed; Corporate'\n    \n__From the above, in the 'state' and 'Function Main Category', which have the highest engagement, we can see that they are the categories that result in the highest engagement.__","e4d766ad":"__The number of instances in each state is roughly proportional to the number of districts in each state.__\n\n__The slight discrepancy seems to be caused by the number of unique instances of \"lp_id\" in a certain district and at a certain time.__\n\nI specified:\n+ on the x-axis, the number of districts in each state\n+ on the y-axis, the number of data in each state\n+ for each plot size, the number of unique instances of \"lp_id\" \n","689d9869":"## NULL DATA","b21a66c6":"## Challenge\n\n+ (1) the state of digital learning in 2020\n+ (2) how the engagement of digital learning relates to factors such as district demographics, broadband access, and state\/national level policies and events.\n\n#### 1. What is the picture of digital connectivity and engagement in 2020?\n    \n1-1. About 0.12-1.0\n    \nThe engagement (both upper and lower bounds) is on a gradual upward trend.\n    \n1-2. About 1.0-2.0\n    \nThe engagement is much greater than that of low connectivity (0.12-1.0)\n    \nPlease refer [\u3010Pivot Analysis on _'pct_access' and 'engagement_index'_\u3011](#pivot) for the graph.\n    \n__We can expect that the higher the digital connenctivity get, the greater the engagement would be.__\n    \n    \n        \n#### 2. What is the effect of the COVID-19 pandemic on online and distance learning, and how might this also evolve in the future?  \n    \nAlthough the percentages of 'pct_access' are always high and do not change significantly throughout the year,\nthe values of 'engagement_index' is on a gradual upper trend.\n    \nIt means that throughout the year \uff54here has been no significant change in the number of users, but the amount of uses by each person has increased. \n    \nPlease refer [\u3010DATA VISUALISE: ENGAGEMENTS\u3011](#engagements_engagement) for the graph.\n        \n__We can expect that the COVID-19 pandemic encourage pupils to do on online and distance learning more.__\n    \nFurthermore, There is a big difference in 'engagement_index' depending on the 'state'.\nIn addition to it,\n\nPlease refer [\u3010Pivot Analysis on _'pct_access' and 'engagement_index'_\u3011](#pivot) for the graphs named 'pct_access \/ state' and 'engagement_index \/ state'.\n    \nAnd also, the engagements would be grater, when each value of 'pct_black\/hispanic' and 'pct_free\/reduced' is higher.\n\nPlease refer\n+ [\u3010More Analysis for Findings\u3011](#more_analysis) for the graphs named 'pct_access \/ Function Main Category_pct_black\/hispanic' and 'engagement_index \/ Function Main Category_pct_black\/hispanic'. \n+ [\u3010Pivot Analysis on _'pct_access' and 'engagement_index'_\u3011](#pivot) for the graphs named 'pct_access \/ pct_free\/reduced', and 'engagement_index \/ pct_free\/reduced'.\n\n__We can expect that an increase in 'pct_free\/reduced' encourage pupils to do on online and distance learning more__ though there are correlation between'pct_black\/hispanic' and 'pct_free\/reduced'.\n\nPlease refer [\u3010Correlations\u3011](#corr) for the figure named 'pct_access \/ state' and 'engagement_index \/ state'.\n\n#### 3. How does student engagement with different types of education technology change over the course of the pandemic?\n\nThe engagements of CM (Classroom Management) and SDO (School & District Operations)\u3000A and B  is increasing. In particular, as can be seen from the fact that the lower bound has been raised, it can be said that the number of people who engage in daily activities has increased due to the pandemic.\n\nPlease refer [\u3010Pivot Analysis on _'pct_access' and 'engagement_index'_\u3011](#pivot) for the graphs named 'pct_access \/ Function Main Category' and 'engagement_index \/ Function Main Category'.\n\n#### 4. How does student engagement with online learning platforms relate to different geography? Demographic context (e.g., race\/ethnicity, ESL, learning disability)?  Learning context? Socioeconomic status?\n\nAbout 'pct_black\/hispanic' and 'pct_free\/reduced', please refer the analysis for 2.\n\nAbout the 'state' which have the highest engagement, we can see that 'Rural' is the categories that result in the lowest engagement, and that 'City' is the categories that result in the lowest engagement.\n\nPlease refer [\u3010More Analysis for Findings\u3011](#more_analysis) for the graphs named 'pct_access \/ state_locale' and 'engagement_index \/ state_locale'. \n\n__We can expect that the engagement would be greater, where the areas with high contact with other companies and exposed to pandemic threats.\n\n#### 5. Do certain state interventions, practices or policies (e.g., stimulus, reopening, eviction moratorium) correlate with the increase or decrease online engagement?\n\n##### Decrease in engagement in North Carolina \nAccording to [North Carolina covid-19-guidance](https:\/\/www.huschblackwell.com\/north-carolina-state-by-state-covid-19-guidance), the declaration a state of emergency in March seems to be a reason the decrease of engagements. Also, in September 21, the announce that beginning on October 5, North Carolina public school districts and charter schools can choose to implement Plan A for elementary schools (grades K-5) seems to be a reason of the restart of engagements.\n\n![image.png](attachment:e9a9fe4c-10b2-40a4-8bf5-67dbbfac9620.png)\n\n##### Increase in engagement in North Carolina \nAccording to [The New York Times](https:\/\/www.nytimes.com\/2020\/05\/07\/business\/school-education-online-money.html)\n\n> For most children, the school year effectively ended in March.\n\nThe timing of the end of the school year coincides with the timing of the explosive increase in the engagement in the 'City'. This suggests that the characteristics of the 'City' (large number of people, relatively wealthy, large amount of information transmitted by people, etc.) have an effect on the increase in engagement.\n\nAccording to [Arizonna covid-19-guidance](https:\/\/www.huschblackwell.com\/arizona-state-by-state-covid-19-guidance) on July 27,\n\n> Schools will still be required to provide 180 days of instruction or the equivalent hours, however distance learning instruction counts toward the minimum instructional days or equivalent number of hours statutorily required. School districts and charter schools must begin teacher-led distance learning by the first day of the school district or charter school\u2019s instructional calendar, and schools must begin offering free on-site learning opportunities and support services for students who need a place to go during the day, starting August 17, 2020.\n\nThis instruction seems to cause a surge in Arizona's engagement around August.\n\nPlease refer [\u3010More Analysis for Findings\u3011](#more_analysis) for the graphs named 'pct_access \/ state_locale' and 'engagement_index \/ state_locale'. ","4a4dcd2a":"## <a id='pivot'>Pivot Analysis on _'pct_access' and 'engagement_index'_ <\/a>","db88a302":"<a id='corr'> <\/a>","9f024982":"__In ENGAGEMENTS, 'pct_access' are missing , when 'engagement_index' is null__\n\nWe drop all rows including _Nan_ though some instances only without 'lp_id' exist.\nBecause the ratio of instances without 'lp_id' is less than 0.0005 even the highest ratio of null is only 0.004.\n\n__In PRODUCTS, 'sector(s)' and 'Primary Essential Function' are missing in the same instances The instance of 'Provider\/Company Name' is also missing in the same instance as one that has _NaN_ in 'sector(s)' and 'Primary Essential Function'.__\n\nFor convinience of analysis, we drop all rows including _NaN_.\nBecause the values in the other columns are products' basic info.\n\n__In DISTRICTS, all columns are missing , when 'state' is null__\n\nFor convinience of analysis, we drop the rows which 'state' is missing.\n\n_Nan_ s in 'pct_free\/reduced', 'county_connections_ratio', and 'pp_total_raw' are still in the Table. \n\nWe will attempt to discover the tendencies for them after we drop the rows which 'state' is missing.","2a6876a8":"## PRODUCTS","f10f8a44":"__There's a typographical error.__\n\nSo, We unify them.","b028a71e":"## Adjustments","ec8df187":"## DROP DUPRICATES","a34963b4":"# SUMMARY","a3696d70":"__Every pp_total_raw in the instances is missing, when 'state' of the instances is following:\n+ Connecticut\n+ Ohio\n+ California\n+ Arizona\n+ North Dakota\n+ New Hampshire\n\nWe googled the missing values on the internet.\nThe results of searching are as following.\n\n|State|Amount|Range|URL|\n|---|---|---|---|\n|Connecticut|17245|\\[16000, 18000 \\[ | https:\/\/edunomicslab.org\/connecticut\/ |\n|Ohio| - | - | https:\/\/edunomicslab.org\/ohio\/ |\n|California| - | - |https:\/\/edunomicslab.org\/california\/ |\n|Arizona| - | - | https:\/\/edunomicslab.org\/arizona\/ |\n|North Dakota| - | - | https:\/\/edunomicslab.org\/northdakota\/ |\n|New Hampshire| - | - | https:\/\/edunomicslab.org\/newhampshire\/ |\n\nThe values of the other states than Connecticut was not found, though we even look up the pages connected by the hyperlinks in above pages. _If you found the values, please let me know the values and the references. Thank you._\n\nNext, we make up the missing values of Connecticut with the _range_ in above table.","f9114c9b":"## <a id='more_analysis'>More Analysis for Findings<\/a>\n\nThe values were noticeably larger in the _'state'_ and _'Function Main Category'_ categories.\nThe existence of categories with significantly larger and smaller values is due to the variation of values within the categories.\nIn other words, for categories_'state'_ and _'Function Main Category'_, there is a salient feature with respect to 'engagements'.\n\nTherefore, we will analyze these two categories in more depth.","f7e6e28a":"## Merge Tables","e63a7a77":"<a id='engagements_engagement'> <\/a>"}}