{"cell_type":{"2b28cc0e":"code","01e90230":"code","c434a049":"code","e4f15929":"code","cf8496b1":"code","793132d1":"code","56191bf9":"code","6f1e2a8b":"code","c5881954":"code","88fb5d03":"code","2a36c4ef":"code","a06ba6fa":"code","1abfdbc9":"code","769286d8":"code","fe787d67":"code","d1ef1be7":"code","25ab6df6":"code","f738be87":"code","91496dd8":"code","13bdedf0":"code","a7d81aad":"code","351e6ff7":"code","2adb94ae":"code","42454bce":"code","de7a4e7a":"code","61b83fea":"code","f1c5c38b":"code","760a76b8":"code","30cb46ee":"code","31341aa3":"code","fee26f74":"code","42a750a9":"code","1c888eed":"code","9565caaa":"code","2fc90aac":"code","068671cd":"code","f09101c3":"code","778fe8bf":"code","9769af2d":"code","fdf3f0e9":"code","e1809c66":"code","021f52de":"code","5f5578f8":"code","c63f43ef":"code","de46d425":"code","2624f3f9":"code","1fa205fb":"code","f91b3d83":"code","965f2822":"code","50f3f173":"code","359042bd":"code","504d10c6":"code","4c4b26dd":"code","70fe81f5":"markdown","34cb29f0":"markdown","f09f1550":"markdown","8767d649":"markdown","04892e90":"markdown","0d87f55b":"markdown","85cd696e":"markdown","0c215776":"markdown","17b92052":"markdown","81167604":"markdown","b9b4106b":"markdown","f192bad1":"markdown","dbf35ce2":"markdown","9622d52d":"markdown","4be0fd42":"markdown","c936d963":"markdown","c370ab75":"markdown","ae258c15":"markdown","99409cf9":"markdown","d8e72c40":"markdown","9894e4f0":"markdown","afca0a93":"markdown","9df78089":"markdown"},"source":{"2b28cc0e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","01e90230":"# importing libraries\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","c434a049":"# loading datasets\ncustomers=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_customers_dataset.csv')\nsellers=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_sellers_dataset.csv')\norder_reviews=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_order_reviews_dataset.csv')\norder_items=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_order_items_dataset.csv')\nproducts=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_products_dataset.csv')","e4f15929":"geolocation = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_geolocation_dataset.csv')\nproduct_category = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/product_category_name_translation.csv')\norders = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_orders_dataset.csv')\npayments = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_order_payments_dataset.csv')","cf8496b1":"# storing all datasets as a list for future reference\n\nlist_of_all_datasets=['customers','sellers','order_reviews','order_items','products','geolocation','product_category','orders','payments']","793132d1":"# print top 5 values\ncustomers.head(5)","56191bf9":"customers.shape","6f1e2a8b":"customers.isnull().sum()","c5881954":"customers.customer_city.unique()","88fb5d03":"len(customers.customer_city.unique())","2a36c4ef":"customers.customer_state.unique()","a06ba6fa":"customers.customer_state","1abfdbc9":"len(customers.customer_state.unique())","769286d8":"len(customers.customer_state)","fe787d67":"plt.figure(figsize=(13,7))\nsns.histplot(x=customers['customer_state'],data=customers,color='blue')\nplt.show()","d1ef1be7":"top_10_cities=customers['customer_city'].value_counts().nlargest(10)\ntop_10_cities","25ab6df6":"cities=customers['customer_city'].value_counts(ascending=True)\ncities[0:20]","f738be87":"city_df=customers.groupby('customer_city').count()['customer_id'].reset_index()","91496dd8":"sns.barplot(data = city_df.sort_values('customer_id', ascending = False).nlargest(10,'customer_id'), x = 'customer_id', \n            y = 'customer_city',)\nplt.title('Cities with the Most Customers')\nplt.xlabel('City')\nplt.ylabel('Number of Customers')","13bdedf0":"products.head()","a7d81aad":"order_items.head()","351e6ff7":"products_and_order_items_df=pd.merge(order_items,products)","2adb94ae":"products_and_order_items_df.head()","42454bce":"top_10_products=products_and_order_items_df['product_category_name'].value_counts().reset_index().nlargest(10, 'product_category_name')","de7a4e7a":"lowest_10_products=products_and_order_items_df['product_category_name'].value_counts().reset_index().nsmallest(10, 'product_category_name')","61b83fea":"top_10_products","f1c5c38b":"lowest_10_products","760a76b8":"payments.head()","30cb46ee":"payments.payment_type.unique()","31341aa3":"top_payment_type = payments['payment_type'].value_counts(ascending=False)","fee26f74":"top_payment_type","42a750a9":"type(top_payment_type)","1c888eed":"a = top_payment_type.index","9565caaa":"b = top_payment_type.values","2fc90aac":"sns.barplot(x=a,y=b)","068671cd":"# we will first see if there is any relation between our product_and_order_items_df, and order_reviews\nproducts_and_order_items_df.head(3)","f09101c3":"# printing top 3 rows or order_reviews\norder_reviews.head(3)","778fe8bf":"reviews_df=pd.merge(products_and_order_items_df, order_reviews)","9769af2d":"reviews_df.head(3)","fdf3f0e9":"reviews_df.shape","e1809c66":"order_reviews['review_score'].value_counts()","021f52de":"order_reviews['review_score'].unique()","5f5578f8":"sns.barplot(x=order_reviews['review_score'].value_counts().index,y=order_reviews['review_score'].value_counts().values)\nplt.xlabel('Ratings')\nplt.ylabel('Counts')","c63f43ef":"reviews_df.head(3)","de46d425":"product_reviews_mean = reviews_df.groupby('product_category_name').mean()['review_score'].reset_index()","2624f3f9":"product_reviews_mean.head(3)","1fa205fb":"top_10_ratings = product_reviews_mean.sort_values('review_score', ascending = False).nlargest(10,'review_score')\nlowest_10_ratings = product_reviews_mean.sort_values('review_score', ascending = False).nsmallest(10,'review_score')","f91b3d83":"sns.barplot(data = top_10_ratings, x = 'review_score', y = 'product_category_name')\nplt.title('Top 10 Product Ratings')\nplt.xlabel('Average Rating')\nplt.ylabel('Product Category Name')","965f2822":"sns.barplot(data = lowest_10_ratings, x = 'review_score', y = 'product_category_name')\nplt.title('Lowest 10 Product Ratings')\nplt.xlabel('Average Rating')\nplt.ylabel('Product Category Name')","50f3f173":"# list print again list of all datasets\nlist_of_all_datasets","359042bd":"geolocation.head()","504d10c6":"geolocation.isnull().sum()","4c4b26dd":"len(geolocation.geolocation_city.unique())","70fe81f5":"#### From above two datasets, we can see that we can 'inner join' these datasets on products id, Lets see","34cb29f0":"### Analysis of Customers Data","f09f1550":"#### There are bascially 5 types of payment methods used by the customers","8767d649":"#### Insurance Services have the worst ratings, followed by fraldas higiene products","04892e90":"#### Out of 5 types of methods, credit card is used on the top, then boleto and then voucher","0d87f55b":"#### Since this is a series object we can draw a histplot using its index and values","85cd696e":"#### We can join it based on order_id column which is common to both, for this we will make another dataframe named \"reviews_df'","0c215776":"### Products Reviews","17b92052":"#### Ratings points are discrete, starting from 1 to 5.","81167604":"#### We can see that there is no null value in Customers dataset\n#### Now, we will try to find no of unique states and city from the Customers Dataset","b9b4106b":"#### There are total 4119 different Cities from where Customers visit","f192bad1":"#### From above histogram, we can see that most numbers of customer are from SP (Sao Paul) state,followed by Rj (Rio de Janeiro) state.","dbf35ce2":"There are total 27 different states","9622d52d":"##### Again the city with most no of customers is Sao Paulo, followed by rio de janeiro","4be0fd42":"#### Music, dvd, and cds category have the highest average ratings. after tha infant's fashion clothes come.","c936d963":"Most of the products have been rated 5,then 4.\nalso 1 rating is higher than 2 and 3\n","c370ab75":"#### There are 8011 unique city from geolocation data.","ae258c15":"##### From the above bar graph we can see that,uses of Credit Card is the highest aroud 75000, then boleto that is slightly less than 20000, ","99409cf9":"### Visualisation of Customer Dataset","d8e72c40":"#### We can see that there are so many cites with count 1, they can be said to be city with least customers","9894e4f0":"### Analyis of products and items","afca0a93":"### Top Ten rated products","9df78089":"### Payments Analysis"}}