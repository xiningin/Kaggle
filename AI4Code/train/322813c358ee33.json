{"cell_type":{"041f0bef":"code","cbf6df68":"code","c65f4acc":"code","47dab28d":"code","9c7380c3":"code","0dbbedb3":"code","4e542afe":"code","5b80afc7":"code","37bd4107":"code","db0983ec":"code","b193f28c":"code","a5f23088":"code","90526095":"code","d0e7d8c6":"code","38fadacc":"code","7a268bae":"code","58b45583":"code","cddaa897":"code","a582f9db":"code","cf85c616":"code","d1828648":"code","5fccc4b6":"code","88fdb259":"code","9d5000fc":"code","2dbd5143":"code","888c9887":"markdown","39629eb7":"markdown","caba40cc":"markdown","236157b4":"markdown","235e4a56":"markdown","0634ad21":"markdown","689a2556":"markdown"},"source":{"041f0bef":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","cbf6df68":"import matplotlib.pyplot as plt\nimport seaborn as sns","c65f4acc":"import warnings\nwarnings.filterwarnings('ignore')","47dab28d":"df=pd.read_csv('\/kaggle\/input\/tour-travels-customer-churn-prediction\/Customertravel.csv')","9c7380c3":"df.info()","0dbbedb3":"df.head()","4e542afe":"df.groupby('Target').describe()","5b80afc7":"df['AnnualIncomeClass'].unique()","37bd4107":"df['FrequentFlyer'].unique()","db0983ec":"cleanup_nums = {'FrequentFlyer': {'No': 0, 'Yes': 1,'No Record':3},\n                'AnnualIncomeClass': {'Low Income': 0, 'Middle Income': 1, 'High Income': 2},\n                'AccountSyncedToSocialMedia': {'No':0, 'Yes': 1},\n                'BookedHotelOrNot': {'No': 0, 'Yes': 1}}","b193f28c":"df1 = df.replace(cleanup_nums)\ndf1.head()","a5f23088":"df1.info()","90526095":"sns.heatmap(df1.corr(),annot=True, fmt='1.2f')","d0e7d8c6":"df1.groupby('Target').describe().T","38fadacc":"pip install pycaret --ignore-installed llvmlite numba","7a268bae":"from pycaret.classification import *","58b45583":"exp_clf = setup(df1, target = 'Target',silent=True,session_id = 1)","cddaa897":"compare_models()","a582f9db":"xgboost = create_model('xgboost')","cf85c616":"plot_model(xgboost, plot = 'confusion_matrix')","d1828648":"plot_model(xgboost)","5fccc4b6":"interpret_model(xgboost)","88fdb259":"interpret_model(xgboost, plot = 'reason', observation = 5)","9d5000fc":"plot_model(xgboost, plot='feature')","2dbd5143":"plot_model(xgboost, plot='boundary')","888c9887":"![image.png](attachment:09a89cb1-4f7b-43dd-b05d-7e0f75047cf6.png)","39629eb7":"1) Data Preprocessing","caba40cc":"First, I compared the prediction models by PyCaret, and found that xgboost is best model, accuracy 0.8935.\n\nNext, I tried to find how I can prevent churn to grow revenue and profit. This time, I found some insight about impact on churn.\n\n* Age 27 to 28 and churn are in positive correlation, it means that younger age people tend to churn.\n* Frequent Flight and churn are in positive correlation. It may mean that people who travel often also book for the time being, and have cancel it. I have to take care of people who often travel not to cancel.\n* Middle income people and churn are in negative correlation, low income people and churn are in both positive and negative, and high income people and churn are in positive correlation.\n* People whose number of times services opted during recent years is 'one' and churn are in negative correlation. On the other hand, 'two' ,'five' and 'six'and churn are in positive correlation.\n* Account syncing to social media and churn are both in positive and negative. It means that both side are using social media. \n* People who booked the hotel and churn are in negative correlation. It means that booking the hotel may be deterrence for churn.\n","236157b4":"4) Prediction model by PyCaret","235e4a56":"3) The difference between no-churn and churn","0634ad21":"2) Correlation","689a2556":"As a result, to prevent churn, especially, **I have to take care of** people who are 27 to 28 years old, or\/and who have frequent flight or\/and two, five or six times services opted during recent years or\/and are with high income, or\/and who do not book the hotel."}}