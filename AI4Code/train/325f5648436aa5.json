{"cell_type":{"7db5d5a4":"code","5d4d947d":"code","d05d15a0":"code","6290521b":"code","d8864515":"code","91d18e54":"code","2a98c96d":"code","4f28d1e7":"code","21524abd":"code","576a94da":"code","32022843":"code","d0f1f93d":"code","a5a8c7fa":"code","69c1616e":"code","86c70ccf":"code","de04f586":"code","e8710d32":"code","f1fdf424":"code","f4b0924b":"code","a55f0cd3":"code","4b4477ae":"code","43f78300":"code","aada913b":"markdown","c1811b88":"markdown","267a2519":"markdown","8917536b":"markdown"},"source":{"7db5d5a4":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom scipy import stats","5d4d947d":"# just for Women\ndf = pd.read_csv('..\/input\/pima-indians-diabetes-database\/diabetes.csv')\ndf.head()","d05d15a0":"df.info()\n## No Null In First Observation But Let's Look At This Deep ","6290521b":"fig, [[ax1, ax2, ax3], [ax4 ,ax5, ax6], [ax7, ax8, ax9 ]] = plt.subplots(nrows=3, ncols=3,\n                               figsize=(14, 20))\n\nax1.boxplot(df['Pregnancies'])\nax1.set_title('Pregnancies Outlier')\n\nax2.boxplot(df['Glucose'])\nax2.set_title('Glucose Outlier')\n\nax3.boxplot(df['BloodPressure'])\nax3.set_title('BloodPressure Outlier')\n\nax4.boxplot(df['SkinThickness'])\nax4.set_title('SkinThickness Outlier')\n\nax5.boxplot(df['Insulin'])\nax5.set_title('Insulin Outlier')\n\nax6.boxplot(df['BMI'])\nax6.set_title('BMI Outlier')\n\nax7.boxplot(df['DiabetesPedigreeFunction'])\nax7.set_title('DiabetesPedigreeFunction Outlier')\n\nax8.boxplot(df['Age'])\nax8.set_title('Age Outlier')\n","d8864515":"sns.distplot(df['Pregnancies'])","91d18e54":"# print Just For Be Clear Underestanding\ndef detect_outlier(data):\n    q1 = np.quantile(data, 0.25)\n    print('0.25: ', q1)\n    q3 = np.quantile(data, 0.75)\n    print('0.75:', q3)\n    iqr = q3 - q1 \n    low = q1 - (1.5 * iqr)\n    ## we does not care about minus values\n    #if low <= 0:\n    #    low = q1\n    #else:\n    #    pass\n    print('bottom:', low)\n    high = q3 + (1.5 * iqr)\n    print('ceiling:', high)\n    return high, low ","2a98c96d":"high, bottom = detect_outlier(df['Pregnancies'])\ndf  = df[(df['Pregnancies'] > bottom) & (df['Pregnancies'] < high)]\ndf['Pregnancies'].plot(kind='box')\nplt.figure()\ndf['Pregnancies'].plot(kind='hist', bins=50)","4f28d1e7":"high, bottom = detect_outlier(df['Age'])\ndf  = df[(df['Age'] > bottom) & (df['Age'] < high)]\ndf['Age'].plot(kind='box')\nplt.figure()\ndf['Age'].plot(kind='hist', bins=50)","21524abd":"high, bottom = detect_outlier(df['Glucose'])\ndf  = df[(df['Glucose'] > bottom) & (df['Glucose'] < high)]\ndf['Glucose'].plot(kind='box')\nplt.figure()\ndf['Glucose'].plot(kind='hist', bins=50)","576a94da":"high, bottom = detect_outlier(df['BloodPressure'])\ndf  = df[(df['BloodPressure'] > bottom) & (df['BloodPressure'] < high)]\ndf['BloodPressure'].plot(kind='box')\nplt.figure()\ndf['BloodPressure'].plot(kind='hist', bins=50)","32022843":"df['Insulin'].value_counts()\n# If We Remove Zero We loss More information So Replace It By Trim_Mean\nprint('Trustable_Mean:', stats.trim_mean(df['Insulin'], 0.2))\ndf['Insulin'] = df['Insulin'].replace(0, 53.94)\n\nhigh, bottom = detect_outlier(df['Insulin'])\ndf  = df[(df['Insulin'] > bottom) & (df['Insulin'] < high)]\ndf['Insulin'].plot(kind='box')\nplt.figure()\ndf['Insulin'].plot(kind='hist', bins=100)","d0f1f93d":"high, bottom = detect_outlier(df['BMI'])\ndf  = df[(df['BMI'] > bottom) & (df['BMI'] < high)]\ndf['BMI'].plot(kind='box')\nplt.figure()\ndf['BMI'].plot(kind='hist', bins=100)","a5a8c7fa":"high, bottom = detect_outlier(df['DiabetesPedigreeFunction'])\ndf  = df[(df['DiabetesPedigreeFunction'] > bottom) & (df['DiabetesPedigreeFunction'] < high)]\ndf['DiabetesPedigreeFunction'].plot(kind='box')\nplt.figure()\ndf['DiabetesPedigreeFunction'].plot(kind='hist', bins=100)","69c1616e":"fig, [[ax1, ax2, ax3], [ax4 ,ax5, ax6], [ax7, ax8, ax9 ]] = plt.subplots(nrows=3, ncols=3,\n                               figsize=(14, 20))\n\nax1.boxplot(df['Pregnancies'])\nax1.set_title('Pregnancies Outlier')\n\nax2.boxplot(df['Glucose'])\nax2.set_title('Glucose Outlier')\n\nax3.boxplot(df['BloodPressure'])\nax3.set_title('BloodPressure Outlier')\n\nax4.boxplot(df['SkinThickness'])\nax4.set_title('SkinThickness Outlier')\n\nax5.boxplot(df['Insulin'])\nax5.set_title('Insulin Outlier')\n\nax6.boxplot(df['BMI'])\nax6.set_title('BMI Outlier')\n\nax7.boxplot(df['DiabetesPedigreeFunction'])\nax7.set_title('DiabetesPedigreeFunction Outlier')\n\nax8.boxplot(df['Age'])\nax8.set_title('Age Outlier')\n","86c70ccf":"sns.pairplot(df, hue='Outcome')\n","de04f586":"plt.figure(figsize=(20, 12))\nprint('method :pearson, kendal, spearman')\nsns.heatmap(df.corr(method='pearson'), annot=True, linewidths=0.1)","e8710d32":"x = df.iloc[:, :-1]\ny = df.iloc[:, -1]","f1fdf424":"from sklearn.preprocessing import MinMaxScaler, StandardScaler\nmin_max = MinMaxScaler()\nstn = StandardScaler()\nx_min_max = min_max.fit_transform(x)\nx_finall = stn.fit_transform(x_min_max)","f4b0924b":"from sklearn.pipeline import Pipeline\npipe = Pipeline([('standard', StandardScaler()), ('min_max', MinMaxScaler())])\nx1_finall = pipe.fit_transform(x)","a55f0cd3":"from sklearn.model_selection import train_test_split\nx_train, x_test, y_train, y_test = train_test_split(x_finall, y)","4b4477ae":"from sklearn.metrics import accuracy_score, confusion_matrix\nfrom sklearn.ensemble import RandomForestClassifier\nrn = RandomForestClassifier(n_estimators=100, max_depth=7)\nrn.fit(x_train, y_train)\nprint(rn.score(x_train, y_train))\npredict = rn.predict(x_test)\nprint(accuracy_score(y_test, predict))\nconfusion_matrix(predict, y_test)","43f78300":"x_train, x_test, y_train, y_test = train_test_split(x1_finall, y)\nrn.fit(x_train, y_train)\nprint(rn.score(x_train, y_train))\npredict = rn.predict(x_test)\nprint(accuracy_score(y_test, predict))\nconfusion_matrix(predict, y_test)","aada913b":"## Now it's More Clear Than Before \n### Look the Range Of unsulin Before Was more than 350 now Be 150 ","c1811b88":"![bmi_women.jpg](attachment:bmi_women.jpg)","267a2519":"### If Look At the Bottom See Sime Negative Values But 0 Is Bigger Than Negative Value So In This Particular Way Delete It By Hand Like This :","8917536b":"![bloodpressure.jpg](attachment:bloodpressure.jpg)"}}