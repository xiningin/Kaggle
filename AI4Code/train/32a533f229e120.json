{"cell_type":{"6b8e0bdb":"code","0e07d93b":"code","622b724f":"code","0b9e4d37":"code","5edec954":"code","5aaa1f01":"code","5db9a766":"code","598a152a":"code","b5d0a172":"code","9482437d":"code","59ae6573":"code","cc4073b4":"code","9d6befde":"code","458cde22":"markdown","eb7f4158":"markdown","66f6b64c":"markdown","5206b689":"markdown","dccf3eab":"markdown","bae89f15":"markdown","f2acadec":"markdown","b818b83b":"markdown","cd07ae7e":"markdown","4b1fd896":"markdown","02687111":"markdown","80c614b3":"markdown","a5eaaf3e":"markdown","5694980d":"markdown","d9a36b70":"markdown","61067539":"markdown","9b167a5d":"markdown","a257b044":"markdown","b91f78d4":"markdown","2330573b":"markdown","885080b3":"markdown","f6656ac8":"markdown","7d90df43":"markdown","57821527":"markdown","184343f5":"markdown","65bba6c6":"markdown","b3503c98":"markdown","ad790cac":"markdown","02b6ff23":"markdown"},"source":{"6b8e0bdb":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\n# Load Aaron Judge's Statcast data\njudge = pd.read_csv(\"\/kaggle\/input\/baseball-2017-judge\/judge.csv\")\n\n# Load Giancarlo Stanton's Statcast data\nstanton = pd.read_csv(\"\/kaggle\/input\/baseball-2017-stanton\/stanton.csv\")","0e07d93b":"# The most common formula is .head()  By default, we will see FIRST five rows. \n#We will have access to a limited amount of columns with the default parameters. Therefore, the next cell is providing more informations","622b724f":"# Display all columns (pandas will collapse some columns if we don't set this option)\npd.set_option('display.max_columns', None)\n\n# Display the LAST five rows of the Aaron Judge file\njudge.tail(n=5)","0b9e4d37":"# Display the FIRST five rows of the stanton file\nstanton.head(15)","5edec954":"# All of Aaron Judge's batted ball events in 2017\njudge_events_2017 = judge.loc[judge['game_year'] == 2017].events\nprint(\"Aaron Judge batted ball event totals, 2017:\")\nprint(judge_events_2017.value_counts(sort=True))\n\n# All of Giancarlo Stanton's batted ball events in 2017\nstanton_events_2017 = stanton.loc[stanton['game_year'] == 2017].events\nprint(\"\\nGiancarlo Stanton batted ball event totals, 2017:\")\nprint(stanton_events_2017.value_counts(sort=True))","5aaa1f01":"#According to our needs, we can also \"play\" with the data presentation. We can change the order of our results : \n#We have previously defined \"judge_events_2017\", so : \n\nprint(\"Aaron Judge batted ball event totals, 2017:\")\nprint(judge_events_2017.value_counts(sort=True, ascending=True))","5db9a766":"# Filter to include home runs only\njudge_hr = judge.loc[judge['events'] == 'home_run']\nstanton_hr = stanton.loc[stanton['events'] == 'home_run']\n\n# Create a figure with two scatter plots of launch speed vs. launch angle, one for each player's home runs\nfig1, axs1 = plt.subplots(ncols=2, sharex=True, sharey=True)\nsns.regplot(x='launch_angle', y='launch_speed', fit_reg=False, color='tab:blue', data=judge_hr, ax=axs1[0]).set_title('Aaron Judge\\nHome Runs, 2015-2017')\nsns.regplot(x='launch_angle', y='launch_speed', fit_reg=False, color='tab:blue', data=stanton_hr, ax=axs1[1]).set_title('Giancarlo Stanton\\nHome Runs, 2015-2017')\n\n# Create a figure with two KDE plots of launch speed vs. launch angle, one for each player's home runs\nfig2, axs2 = plt.subplots(ncols=2, sharex=True, sharey=True)\nsns.kdeplot(judge_hr.launch_angle, judge_hr.launch_speed, cmap=\"Blues\", shade=True, shade_lowest=False, ax=axs2[0]).set_title('Aaron Judge\\nHome Runs, 2015-2017')\nsns.kdeplot(stanton_hr.launch_angle, stanton_hr.launch_speed, cmap=\"Blues\", shade=True, shade_lowest=False, ax=axs2[1]).set_title('Giancarlo Stanton\\nHome Runs, 2015-2017')","598a152a":"# Combine the Judge and Stanton home run DataFrames for easy boxplot plotting\njudge_stanton_hr = pd.concat([judge_hr, stanton_hr])\n\n# Create a boxplot that describes the pitch velocity of each player's home runs\nsns.boxplot(x='player_name', y='release_speed', color='tab:blue', data=judge_stanton_hr).set_title('Home Runs, 2015-2017')","b5d0a172":"def assign_x_coord(row):\n    \"\"\"\n    Assigns an x-coordinate to Statcast's strike zone numbers. Zones 11, 12, 13,\n    and 14 are ignored for plotting simplicity.\n    \"\"\"\n    # Left third of strike zone\n    if row.zone in [1, 4, 7]:\n        return 1\n    # Middle third of strike zone\n    if row.zone in [2, 5, 8]:\n        return 2\n    # Right third of strike zone\n    if row.zone in [3, 6, 9]:\n        return 3","9482437d":"def assign_y_coord(row):\n    \"\"\"\n    Assigns a y-coordinate to Statcast's strike zone numbers. Zones 11, 12, 13,\n    and 14 are ignored for plotting simplicity.\n    \"\"\"\n    # Upper third of strike zone\n    if row.zone in [1, 2, 3]:\n        return 3\n    # Middle third of strike zone\n    if row.zone in [4, 5, 6]:\n        return 2\n    # Lower third of strike zone\n    if row.zone in [7, 8, 9]:\n        return 1","59ae6573":"# Zones 11, 12, 13, and 14 are to be ignored for plotting simplicity\njudge_strike_hr = judge_hr.copy().loc[judge_hr.zone <= 9]\n\n# Assign Cartesian coordinates to pitches in the strike zone for Judge home runs\njudge_strike_hr['zone_x'] = judge_strike_hr.apply(assign_x_coord, axis=1)\njudge_strike_hr['zone_y'] = judge_strike_hr.apply(assign_y_coord, axis=1)\n\n# Plot Judge's home run zone as a 2D histogram with a colorbar\nplt.hist2d(judge_strike_hr.zone_x, judge_strike_hr.zone_y, bins = 3, cmap='Blues')\nplt.title('Aaron Judge Home Runs on\\n Pitches in the Strike Zone, 2015-2017')\nplt.gca().get_xaxis().set_visible(False)\nplt.gca().get_yaxis().set_visible(False)\ncb = plt.colorbar()\ncb.set_label('Counts in Bin')","cc4073b4":"# Zones 11, 12, 13, and 14 are to be ignored for plotting simplicity\nstanton_strike_hr = stanton_hr.copy().loc[stanton_hr.zone <= 9]\n\n# Assign Cartesian coordinates to pitches in the strike zone for Stanton home runs\nstanton_strike_hr['zone_x'] = stanton_strike_hr.apply(assign_x_coord, axis=1)\nstanton_strike_hr['zone_y'] = stanton_strike_hr.apply(assign_y_coord, axis=1)\n\n# Plot Stanton's home run zone as a 2D histogram with a colorbar\nplt.hist2d(stanton_strike_hr.zone_x, stanton_strike_hr.zone_y, bins = 3, cmap='Blues')\nplt.title('Giancarlo Stanton Home Runs on\\n Pitches in the Strike Zone, 2015-2017')\nplt.gca().get_xaxis().set_visible(False)\nplt.gca().get_yaxis().set_visible(False)\ncb = plt.colorbar()\ncb.set_label('Counts in Bin')","9d6befde":"# Should opposing pitchers be wary of Aaron Judge and Giancarlo Stanton\nshould_pitchers_be_scared = True\nshould_pitchers_be_scared","458cde22":"# D - Home runs by pitch velocity","eb7f4158":"We can plot this using a 2D histogram. For simplicity, let's only look at strikes, which gives us a 9x9 grid. We can view each zone as coordinates on a 2D plot, the bottom left corner being (1,1) and the top right corner being (3,3). Let's set up a function to assign x-coordinates to each pitch.","66f6b64c":"**Conclusion : Home runs by pitch velocity**\n\n- Stanton hits his home runs slightly lower and slightly harder than Judge, though this needs to be taken with a grain of salt given the small sample size of home runs.\n\nNot only does Statcast measure the velocity of the ball coming off of the bat, it measures the velocity of the ball coming out of the pitcher's hand and begins its journey towards the plate. We can use this data to compare Stanton and Judge's home runs in terms of pitch velocity. \n\n\nNow, let's use box plots displaying the five-number summaries for each player: minimum, first quartile, median, third quartile, and maximum.","5206b689":"> Read the Washington Post article : These days in baseball, every batter is trying to find an angle ([click here](https:\/\/www.washingtonpost.com\/graphics\/sports\/mlb-launch-angles-story\/)). **The animated data visualization is nicely done** for a 2017 article. \n\n\n\n> Read the Washington Post article : The physics behind hitting a home run ([click here](https:\/\/www.washingtonpost.com\/news\/speaking-of-science\/wp\/2016\/07\/11\/the-physics-behind-hitting-a-home-run\/))","dccf3eab":"- Judge appears to hit his home runs off of faster pitches than Stanton. We might call Judge a fastball hitter. \n- Stanton appears agnostic to pitch speed and likely pitch movement since slower pitches (e.g. curveballs, sliders, and changeups) tend to have more break. \n\nStatcast does track pitch movement and type but let's move on to something else: pitch location. \n\nStatcast tracks the zone the pitch is in when it crosses the plate. \n\nThe zone numbering looks like this (from the catcher's point of view):\n","bae89f15":"# I - Statcast - What is it ? ","f2acadec":"# Purpose of this class\n\nFrom our previous courses together, we have understood that data analysis can be used in order to provide data-based recommandation to decision-makers.\n\nWe have discussed about different types of tools and softwares. \n\nLet's see how we can use the results from one of these softwares (**Statcast**) in order to built your own analysis. ","b818b83b":"# B - Analysis of the events\n\nIn 2018, Giancarlo and Judge will be teammates on the New York Yankees. \n\nThey are similar in a lot of ways, one being that **they hit a lot of home runs**. \nStanton and Judge led baseball in home runs in 2017, with 59 and 52, respectively. \nThese are exceptional totals ! \n\nLet's visualize the frequencies of each events for each player in 2017 (focus on Batted Ball Event)","cd07ae7e":"> Go back to the general dataset and the content of each columns : Which informations could be interesting ? ","4b1fd896":"# II - Data : where are they coming from ?\n\nAlways check the credibility of your ressources. \nThe quality of your conclusions will be directly linked to the quality of previous data collection. \n\nFor this exercice, we will use the Major League Baseball results and we are going to focus on 2 majors New York Yankees sluggers Aaron Judge and Giancarlo Stanton.","02687111":"> Reminder : A Batted Ball Event represents any batted ball that produces a result. This includes outs, hits and errors. Any fair ball is a Batted Ball Event.","80c614b3":"Tracking technology that allows for the collection and analysis of a massive amount of baseball data.\n\n> Check this page for MLB statistics : [click](https:\/\/www.mlb.com\/stats\/)\n\nWe are going to use a lot of technical terms. If you are not comfortable with the baseball key words, please visit the following great page : [click](https:\/\/baseballsavant.mlb.com\/about). \n\nLet's understand the benefits of sabermetrics in baseball, thanks to Statcast : check the video [click here](https:\/\/youtu.be\/9rOKGKhQe8U)\n","a5eaaf3e":"# C - Media and sport analysis about the launch angle and the exit velocity\n\nAccording to the Washington Post: \"*Balls hit with a high launch angle are more likely to result in a hit. Hit fast enough and at the right angle, they become home runs*\".","5694980d":"# LET'S START !  \n\nFirst, we need to load the CSV files, which hold the Statcast data for each player, into pandas DataFrames.\n\nWe have 2 dataframes. One for each player. \nThey both need specific names so we can analyze them separately.\nThen, we will compare them. ","d9a36b70":"> In kaggle, how to upload datasets ? Reminders : [click here](https:\/\/www.youtube.com\/watch?v=YryPL0GnfTc)","61067539":"Now we can apply the functions we've created then construct our 2D histograms. \n\n\nFirst, for Aaron Judge (again, for pitches in the strike zone that resulted in home runs).","9b167a5d":"> Reminder about statistics basics and quartiles : [click here](https:\/\/www.mathsisfun.com\/data\/quartiles.html) ","a257b044":"**Conclusion - Analyzing home runs** \n\n- Judge walks and strikes out more than Stanton. \n- Stanton flies out more than Judge. \n\nThese conclusions are easy to make. You don't even need any powerfull data analysis software for it. \nJust watch the games or read the results in a newspaper and that's it. \n\n    => let's get into their hitting profiles in more detail. \n    Two of the most groundbreaking Statcast metrics are launch angle and exit velocity:\n\n**Launch angle**: the vertical angle at which the ball leaves a player's bat.\n\n**Exit velocity**: the speed of the baseball as it comes off the bat.\n\n\nBeing able to collect these data (and analyze them) has changed the way teams value both hitters and pitchers. ","b91f78d4":"In this project, you will use Statcast data to compare the home runs of two of baseball's brightest (and largest) stars, Aaron Judge (6'7\") and Giancarlo Stanton (6'6\"), both of whom now play for the New York Yankees.","2330573b":"**Who is Aaron Judge ?**\n\n> [Click here to have his specific page on Baseball reference](https:\/\/www.baseball-reference.com\/players\/j\/judgeaa01.shtml)\n\nThis player is wellknown and was unanimously selected as the American League (AL) Rookie of the Year in 2017. He finished second in voting for the AL Most Valuable Player Award.\n\n\n\n\n![Capture d\u2019\u00e9cran 2021-11-29 162434.png](attachment:75614400-9d45-41c9-bd10-06ee9b0335b6.png)\n\n\n\n**Who is Giancarlo Stanton ?**\n\n> > [Click here to have his specific page on Baseball reference](https:\/\/www.baseball-reference.com\/players\/s\/stantmi03.shtml)\n\nThis player is wellknown and was designated hitter and outfielder for the New York Yankees of Major League Baseball (MLB). \n\n\n\n![Capture d\u2019\u00e9cran 2021-11-29 162915.png](attachment:2b2727ac-37b8-4c2f-a829-05db48193611.png)","885080b3":"**Let's go back to our exercice**\nLet's look at exit velocity vs. launch angle and let's focus on home runs only (2015-2017). \n\nWe will create 2 types of graphics : \n- The first two plots show data points. \n- The second two show smoothed contours to represent density.","f6656ac8":"And now for Giancarlo Stanton.","7d90df43":"And let's do the same but for y-coordinates.","57821527":"> If you are curious, you can start checking all the possible results here : https:\/\/pandas.pydata.org\/docs\/reference\/api\/pandas.Series.value_counts.html","184343f5":"# F. Should opposing pitchers be scared?\n \nWhat have we learned from this data analysis ? \n\n- Stanton does not hit many home runs on pitches in the upper third of the strike zone.\n- Like pretty much every hitter ever, both players love pitches in the horizontal and vertical middle of the plate.\n- Judge's least favorite home run pitch appears to be high-away while Stanton's appears to be low-away.\n- If we were to describe Stanton's home run zone, it'd be middle-inside. Judge's home run zone is much more spread out.\n\n\n**The grand takeaway from this whole exercise:**\nAaron Judge and Giancarlo Stanton are not identical despite their superficial similarities. \n\nIn terms of home runs, their launch profiles, as well as their pitch speed and location preferences, are different.\n\n\n\nShould opposing pitchers still be scared?","65bba6c6":"![Capture d\u2019\u00e9cran 2021-11-29 160608.png](attachment:1b3bb78c-dd38-4379-9ce1-720d7ac39f4d.png)","b3503c98":"# III - The project","ad790cac":"# E - Home runs by pitch location","02b6ff23":"# A. Dataset discovery\n\nBefore any analysis, we need to \"read\" the content of our file. \n\nIn our case, we have uploaded datasets from Statcast. \nThis software can **measure simple data points such as velocity**. At the same time, Statcast digs a whole lot deeper, also **measuring the release point and spin rate of every pitch**.\n\nMoving on to hitters, Statcast is capable of **measuring the exit velocity, launch angle and vector of the ball as it comes off the bat**. From there, Statcast can also **track the hang time and projected distance** that a ball travels.\n\nLet's inspect the last five rows of the judge DataFrame. You'll see that each row represents one pitch thrown to a batter. You'll also see that some columns have esoteric names... It is also up to you to make sure that you understand each type of information inside your dataset (in order to avoid any misanderstanding, or missing a key information)."}}