{"cell_type":{"4c2a5c53":"code","0992abd8":"code","e62bcd1b":"code","aaa805a4":"code","b5076638":"code","f0cd9d4a":"code","ad4a5abc":"code","c637e79c":"code","9b1ec6c6":"code","3349759e":"code","48a1dd58":"code","a45032af":"code","069ae4d5":"code","ff0c3246":"code","c7816335":"code","5a8b7165":"code","3eb050fd":"code","5e973ce7":"code","1d45380c":"code","f64a107d":"code","745bf3cf":"code","9d578a05":"code","0f4c06bc":"code","ba42baa7":"code","dadd8ae8":"code","0320034b":"code","d2659832":"code","914ad2be":"code","54d59538":"code","fa8462c0":"code","10bae0cd":"code","2ded6981":"code","a40f0fb4":"code","bd13b0fd":"code","b62d7819":"code","378c6dd7":"code","a8432f77":"code","84cbf25c":"code","a74d914f":"code","f0346109":"code","56d29bc1":"code","ffa5a72d":"code","2297bb89":"code","c69e8a9c":"markdown","b74af280":"markdown","253f4e8f":"markdown","5dcc39e8":"markdown","34120237":"markdown","e3ba3897":"markdown","a90c7871":"markdown","07dbdac4":"markdown","b2c61835":"markdown","6995a8a7":"markdown","84747d76":"markdown","eb140ae9":"markdown","68da8899":"markdown","44e7de55":"markdown","85f95cfd":"markdown","1eca4061":"markdown","ca2881a2":"markdown","71d260a3":"markdown","801c39df":"markdown","1e7123d1":"markdown","3121bc0b":"markdown"},"source":{"4c2a5c53":"#import os\n#print(os.listdir(\"..\/input\"))","0992abd8":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns","e62bcd1b":"train = pd.read_csv(\"..\/input\/train.csv\")","aaa805a4":"train.head(4)","b5076638":"train.info()","f0cd9d4a":"train.isnull().sample(25)","ad4a5abc":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False, cmap=\"viridis\")","c637e79c":"sns.set_style('whitegrid')","9b1ec6c6":"sns.countplot(x='Survived',hue='Sex', data=train, palette='RdBu_r')","3349759e":"sns.countplot(x='Survived',hue='Pclass', data=train)","48a1dd58":"sns.distplot(train['Age'].dropna(), kde=False, bins=30 )","a45032af":"sns.countplot(x='SibSp', data=train)","069ae4d5":"train['Fare'].hist(bins=50, figsize=(10,4))","ff0c3246":"plt.figure(figsize=(10,6))\nsns.boxplot(x='Pclass', y='Age', data=train)","c7816335":"def impute_average(columns):\n    Age = columns[0]\n    Pclass = columns[1]\n    if pd.isnull(Age):\n        if Pclass == 1:\n            return 37\n        elif Pclass == 2:\n            return 29\n        else:\n            return 24\n    else:\n        return Age","5a8b7165":"train['Age'] = train[['Age','Pclass']].apply(impute_average, axis=1)","3eb050fd":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False, cmap='viridis')","5e973ce7":"train.drop('Cabin', axis=1, inplace=True)","1d45380c":"train.head(3)","f64a107d":"#there are few missing values to get rid of them we drop them.\ntrain.dropna(inplace=True)","745bf3cf":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False, cmap='viridis')","9d578a05":"sex = pd.get_dummies(train['Sex'], drop_first=True)","0f4c06bc":"embark = pd.get_dummies(train['Embarked'], drop_first=True)","ba42baa7":"train = pd.concat([train,sex,embark],axis=1)","dadd8ae8":"train.head(3)","0320034b":"train.drop(['Sex', 'Embarked', 'Name','Ticket'],axis=1, inplace=True)","d2659832":"train.head(3)","914ad2be":"train.drop('PassengerId', axis=1, inplace=True)","54d59538":"train.head(3)","fa8462c0":"X = train.drop('Survived', axis=1)\ny = train['Survived']","10bae0cd":"from sklearn.model_selection import train_test_split","2ded6981":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30, random_state=101)","a40f0fb4":"from sklearn.linear_model import LogisticRegression","bd13b0fd":"model = LogisticRegression()","b62d7819":"model.fit(X_train, y_train)","378c6dd7":"predictions = model.predict(X_test)","a8432f77":"from sklearn.metrics import classification_report","84cbf25c":"print(classification_report(y_test, predictions))","a74d914f":"from sklearn.metrics import confusion_matrix","f0346109":"confusion_matrix(y_test, predictions)","56d29bc1":"sns.heatmap(confusion_matrix(y_test, predictions),annot=True,fmt=\"d\",cmap='ocean_r' ,robust=True)","ffa5a72d":"# Lastly we can strengthen the results with cross_val_score\nfrom sklearn.model_selection import cross_val_score","2297bb89":"print(cross_val_score(model, X, y, cv=19).mean())","c69e8a9c":"# Step 2 Loading Data","b74af280":"## a. Selecting Train Target Data Set and Spliting Them.","253f4e8f":"Instead of dropping all the missing values we can do some better touches. To be specifik, impulation or averege age can be used to fill in missing data for the 'Age' column. ","5dcc39e8":"# Step 4 Cleanin Data","34120237":"It is quite skewed towards younger passengers.","e3ba3897":"It seems the more you older the more wealthy. We can use these average age values in order to impute the age based off the passenger class. ","a90c7871":"We need to preapare data to ML algorithm in order to that we should deal some of the data features. \nIn this context we need to convert some columns, categorical features, into dummy variables, and drop some of the columns which we won't use.","07dbdac4":"I choose to use Logistic Regression. You can try any convenient ML model.","b2c61835":"It looks like people that did not survive(0) were much more likely to be male and people that survive were mostly female.","6995a8a7":"# Step 6 Training the Model","84747d76":"It looks like we are no longer having any missing information for the age column.\nOn the other hand there is so much missing points for the Cabin column. Best action for this column is drop that cabin.","eb140ae9":"# Step 7 Predicting the Model","68da8899":"# Great Job!","44e7de55":"One last thing for this step is PassengerId column. It is smilar to index column and we won't use in our model for that reason we can drop it. ","85f95cfd":"# Step 5 Feature Engineering","1eca4061":"We can see above chart people who did not survive overwhelmingly part of the third class.","ca2881a2":"It looks like most of the prices are between 0 and 50$ at that time (1912) .","71d260a3":"As seen above Age column and Cabin column have lots of missing information (NaN values).","801c39df":"# Step 3 Exploratory Data Analysis","1e7123d1":"The accounts of siblings versus spouses on board. (Most of them were probably single)","3121bc0b":"# Case Study For The Titanic Competition (Data Analyse&Logistic Regression)\n\n# Step 1 Importing Necessary Libraries"}}