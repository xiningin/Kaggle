{"cell_type":{"39f1ae42":"code","f6a0102a":"code","85957314":"code","a21f3436":"code","4d005268":"code","f7a5fa85":"code","4b1dbe19":"code","f0c732e2":"code","3e0862ff":"code","6eab10e3":"code","725f7795":"code","18e11735":"code","2f96dda7":"code","81ac879b":"code","82d9ae07":"code","a189fad9":"code","680dba25":"code","2cf27671":"code","d54e02b3":"code","06fa73f0":"code","b32fa257":"code","6037b93d":"code","cbfba321":"code","d83dd693":"code","5b28e331":"code","05cb0845":"code","4acb2691":"code","81dadb77":"code","3f5f5a83":"code","6891209b":"code","f72e93cc":"code","cc423e31":"code","b21fc792":"code","cde940d0":"code","27bd4382":"code","c424be49":"markdown","8cc310a7":"markdown","748f6834":"markdown"},"source":{"39f1ae42":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f6a0102a":"data= pd.read_csv('\/kaggle\/input\/fraudulent-claim-on-cars-physical-damage\/training data\/training data.csv')\ndata.head()","85957314":"data.isna().sum()","a21f3436":"data.marital_status.dtypes","4d005268":"data.marital_status = data.marital_status.fillna(0.00)","f7a5fa85":"data.isna().sum()","4b1dbe19":"data.witness_present_ind = data.witness_present_ind.fillna(data.witness_present_ind.mean())","f0c732e2":"data.claim_est_payout.dtypes","3e0862ff":"data.claim_est_payout = data.claim_est_payout.fillna(data.claim_est_payout.mean())","6eab10e3":"data.age_of_vehicle=data.age_of_vehicle.fillna(data.age_of_vehicle.mean())","725f7795":"data[data.fraud== 1].groupby('gender').count()['fraud'].sort_values(ascending = False)","18e11735":"data.fraud.dtypes","2f96dda7":"data[(data.marital_status == 1.0 )&( data.annual_income > 40000 ) & (data.fraud==1)].count()[0]","81ac879b":"data[(data.channel== 'Online')&(data.gender == 'F')&(data.age_of_driver>40)& (data.fraud==1)].groupby('accident_site').count().iloc[:,0].sort_values(ascending = False)","82d9ae07":"y =  data.fraud\n\ny.head()","a189fad9":"data","680dba25":"data.iloc[:,10:-10]","2cf27671":"data.dtypes","d54e02b3":"data.claim_date =  pd.to_datetime(data.claim_date)","06fa73f0":"data[['Month']] = pd.DataFrame(data.claim_date.dt.month)\ndata[['day']] = pd.DataFrame(data.claim_date.dt.day)\ndata[['year']] = pd.DataFrame(data.claim_date.dt.year)","b32fa257":"data.drop(columns=[\"claim_date\"],inplace=True)","6037b93d":"data.isna().sum()","cbfba321":"data.columns","d83dd693":"data.iloc[:,10:-10]","5b28e331":"data.head()","05cb0845":"nom=[2,8,10,11,15,21]\nordi=[19]","4acb2691":"from sklearn.preprocessing import OneHotEncoder , OrdinalEncoder\nfrom sklearn.compose  import make_column_transformer\n\ntrans =  make_column_transformer((OneHotEncoder(sparse =False),nom),\n                                (OrdinalEncoder(),ordi),\n                                remainder='passthrough')","81dadb77":"trans","3f5f5a83":"from sklearn.neighbors import KNeighborsClassifier as knn \n\nmodel =  knn(n_neighbors = 5)\n\nmodel","6891209b":"from sklearn.pipeline import make_pipeline\nfrom sklearn import set_config\n\nset_config(display = 'diagram')\n\npipe = make_pipeline(trans,model)\n\npipe","f72e93cc":"x = data.drop(columns =['fraud'])\n\nx.head()","cc423e31":"from sklearn.model_selection import train_test_split\nx_train,x_test,y_train,y_test = train_test_split(x,y,test_size = 0.3)","b21fc792":"pipe.fit(x_train,y_train)","cde940d0":"pred= pipe.predict(x_test)","27bd4382":"from sklearn.metrics import accuracy_score\n\naccuracy_score(pred,y_test)*100","c424be49":"**which gender has done  more fraud ?**","8cc310a7":"**How many people with annual income greater than 40000 did fraud claims ?**","748f6834":"**which accident site have more fraud claims when orderd online from a female driver with age greater than 40 ?**"}}