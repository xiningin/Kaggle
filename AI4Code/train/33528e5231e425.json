{"cell_type":{"80c15c75":"code","e21cd7ab":"code","57aa909c":"code","e2a4a755":"code","c3413458":"code","f4c57862":"code","06db0cb8":"code","eedab694":"code","e2e86810":"code","e9eaf069":"code","dc2aa690":"code","a0c68172":"code","d1d61373":"code","b76af3c9":"code","231f6300":"code","63bc1bdf":"code","d8c5ce76":"code","df1e4955":"code","db6d7138":"code","7115f404":"code","72729d97":"code","667b9d45":"code","23d57c2b":"code","7fbd5a8b":"code","69bafa2e":"code","11fcb5e7":"code","544670e1":"code","0a6459f4":"code","4114de63":"code","e923fb45":"code","46aa30c1":"code","4a7f358f":"code","ca59e8ed":"code","7a13f853":"code","c5120671":"code","2540b6d1":"code","818aea96":"markdown","e1ee1418":"markdown","ced82bf7":"markdown","88a51bd2":"markdown","c55c9d40":"markdown","6af08ce1":"markdown","c10bb938":"markdown","7090a229":"markdown","9a663d56":"markdown","f6e08fc4":"markdown","affbe7ae":"markdown","b1df28e1":"markdown","7ffd2599":"markdown","b8d8b9a6":"markdown","e6b77fce":"markdown","207a5515":"markdown","e77c8783":"markdown","9770f2d1":"markdown","b72c8ad9":"markdown","d20eddd7":"markdown","90ce3d78":"markdown","052d5ad4":"markdown","57b85346":"markdown","02596dbe":"markdown","12174f6c":"markdown","847ef57a":"markdown","363559fc":"markdown","4d27e6fe":"markdown","7bc85e97":"markdown","ec7f9bd8":"markdown","2d9d908e":"markdown","217bd537":"markdown","29a8c167":"markdown","9a6fba5c":"markdown","2484d436":"markdown","a79ffa70":"markdown","9a13ccf8":"markdown","b1795402":"markdown","cd9f3bdd":"markdown","cdb045c1":"markdown","73d011e1":"markdown","ac38f2a9":"markdown","cf43d27b":"markdown","3eeac2e5":"markdown","d09f7d93":"markdown","02fbc282":"markdown","5ac26396":"markdown","211587ae":"markdown","1bb26f60":"markdown","ee5998e6":"markdown","63620175":"markdown"},"source":{"80c15c75":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\ncolor = sns.color_palette()\nimport matplotlib.pyplot as plt\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport plotly.offline as py\nfrom plotly import tools\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.express as px\n\nfrom statsmodels.tsa.stattools import adfuller\nfrom statsmodels.graphics.tsaplots import plot_acf, plot_pacf\nfrom statsmodels.tsa.seasonal import seasonal_decompose\nfrom statsmodels.tsa.statespace.sarimax import SARIMAX","e21cd7ab":"nifty_50_df = pd.read_csv(\"..\/input\/nifty-indices-dataset\/NIFTY 50.csv\", index_col='Date', parse_dates=['Date'])\nnifty_bank_df = pd.read_csv(\"..\/input\/nifty-indices-dataset\/NIFTY BANK.csv\", index_col='Date', parse_dates=['Date'])\n\nnifty_50_df.head(5)","57aa909c":"nifty_50_df.tail(5)","e2a4a755":"nifty_50_df = nifty_50_df.fillna(method='ffill')\nnifty_bank_df = nifty_bank_df.fillna(method='ffill')","c3413458":"def plot_attribute(df, attritube ,start='2000', end='2020',color ='blue'):\n    fig, ax = plt.subplots(1, figsize=(20,5))\n    ax.plot(df[start:end].index, df[start:end][attritube],'tab:{}'.format(color))\n    ax.set_title(\"Nifty stock {} from 2000 to 2020\".format(attritube))\n    \n    ax.axhline(y=df[start:end].describe()[attritube][\"max\"],linewidth=2, color='m')\n    ax.axhline(y=df[start:end].describe()[attritube][\"min\"],linewidth=2, color='c')\n    ax.axvline(x=df[attritube].idxmax(),linewidth=2, color='b')\n    ax.axvline(x=df[attritube].idxmin() ,linewidth=2, color='y')\n    \n    ax.text(x=df[attritube].idxmax(),\n            y=df[start:end].describe()[attritube][\"max\"],\n            s='MAX',\n            horizontalalignment='right',\n            verticalalignment='bottom',\n            color='blue',\n            fontsize=20)\n    \n    ax.text(x=df[attritube].idxmin(),\n            y=df[start:end].describe()[attritube][\"min\"],\n            s='MIN',\n            horizontalalignment='left',\n            verticalalignment='top',\n            color='red',\n            fontsize=20)\n    \n    plt.show()\n    print(\"Max Value :  \",df[start:end].describe()[attritube][\"max\"])\n    print(\"Min Value :  \",df[start:end].describe()[attritube][\"min\"])\n","f4c57862":"plot_attribute(nifty_50_df,\"Close\",color='red')","06db0cb8":"plot_attribute(nifty_bank_df,\"Close\",color='red')","eedab694":"normalised_nifty_50_df = nifty_50_df[\"Close\"].div(nifty_50_df[\"Close\"].iloc[0]).mul(100)\nnormalised_nifty_bank_df = nifty_bank_df[\"Close\"].div(nifty_bank_df['Close'].iloc[0]).mul(100)\nnormalised_nifty_50_df.plot()\nnormalised_nifty_bank_df.plot()\nplt.legend(['NIFTY 50','NIFTY BANK'])\nplt.show()","e2e86810":"dicky_fuller_result = adfuller(nifty_50_df['Close'])\ndicky_fuller_result","e9eaf069":"plot_attribute(nifty_50_df.diff(),\"Close\",color='red')","dc2aa690":"plot_attribute(nifty_50_df.shift(1)\/nifty_bank_df,\"Close\",color='red')","a0c68172":"some_part_of_data = nifty_50_df['2016':'2020']\n\nrolling_nifty_50_df_10 = some_part_of_data['Close'].rolling('10D').mean()\nrolling_nifty_50_df_50 = some_part_of_data['Close'].rolling('50D').mean()\nrolling_nifty_50_df_100 = some_part_of_data['Close'].rolling('100D').mean()\n\nfig, ax = plt.subplots(1, figsize=(20,5))\nax.plot(some_part_of_data.index,some_part_of_data['Close'])\nax.plot(rolling_nifty_50_df_10.index, rolling_nifty_50_df_10)\nax.plot(rolling_nifty_50_df_50.index, rolling_nifty_50_df_50)\nax.plot(rolling_nifty_50_df_100.index, rolling_nifty_50_df_100)\nax.set_title(\"Plotting a rolling mean of 10,50,100 day window with original Close attribute of Nifty stocks\")\nplt.legend(['Data','10D','50D','100D'])\nplt.show()","d1d61373":"# Obtain data from the data frame\nOHLC_data = nifty_50_df['3-2020':'2020']\n\nfig = go.Figure(data=go.Ohlc(x=OHLC_data.index,\n                            open=OHLC_data['Open'],\n                            high=OHLC_data['High'],\n                            low=OHLC_data['Low'],\n                            close=OHLC_data['Close']))\n\nfig.update_layout(title_text='Nifty 50 From March 2020 to May 2020',\n                  title={\n                    'y':0.9,\n                    'x':0.5,\n                    'xanchor': 'center',\n                    'yanchor': 'top'},\n                  xaxis_rangeslider_visible=True, \n                  xaxis_title=\"Time\", \n                  yaxis_title=\"Price\")\n\nfig.show()","b76af3c9":"Candlestick_data = nifty_50_df['3-2020':'2020']\n\nfig = go.Figure(data=go.Candlestick(x=Candlestick_data.index,\n                            open=Candlestick_data['Open'],\n                            high=Candlestick_data['High'],\n                            low=Candlestick_data['Low'],\n                            close=Candlestick_data['Close']))\n\nfig.update_layout(title_text='Nifty 50 From March 2020 to May 2020',\n                  title={\n                    'y':0.9,\n                    'x':0.5,\n                    'xanchor': 'center',\n                    'yanchor': 'top'},\n                  xaxis_rangeslider_visible=True, \n                  xaxis_title=\"Time\", \n                  yaxis_title=\"Price\")\n\nfig.show()","231f6300":"decomposition_data = nifty_50_df['2018':'2020']\ndecomp_results = seasonal_decompose(decomposition_data['Close'], freq=7)\nplt.rcParams[\"figure.figsize\"] = (20,15)\nfigure = decomp_results.plot()\n\nplt.show()","63bc1bdf":"plt.figure(figsize=(10,10))\n\n# ACF of Nifty 50 close price\nax1 = plt.subplot(211)\nplot_acf(nifty_50_df[\"Close\"], lags=\"20\",title=\"nifty 50 autocorrelation\",ax=ax1)\n\n# PACF of Nifty 50 close price\nax2 = plt.subplot(212)\nplot_pacf(nifty_50_df[\"Close\"], lags=\"20\",title=\"nifty 50 partial autocorrelation function\",ax=ax2)\n\nplt.show()","d8c5ce76":"train_data = nifty_50_df[\"Close\"][\"2018\":\"4-15-2020\"]\ntest_data =  nifty_50_df[\"Close\"][\"4-15-2020\":]","df1e4955":"order_aic_bic =[] \n# Loop over AR order \nfor p in range(3): \n    # Loop over MA order \n    for q in range(3): \n        # Fit model \n        for d in range(2):\n            model = SARIMAX(train_data, order=(p,d,q)) \n            results = model.fit() \n            # Add order and scores to list \n            order_aic_bic.append((p,d, q, results.aic, results.bic))","db6d7138":"order_df = pd.DataFrame(order_aic_bic, columns=['p','d','q', 'aic', 'bic'])\n#short value by aic and get value of p d q\norder_df.sort_values('aic')[:5]","7115f404":"model = SARIMAX(train_data, order=(5,1,2)) \nresults = model.fit()","72729d97":"mae = np.mean(np.abs(results.resid))\nprint(mae)","667b9d45":"plt.rcParams[\"figure.figsize\"] = (15,10)\nresults.plot_diagnostics() \nplt.show()","23d57c2b":"prediction = results.get_prediction(start=\"7-2019\",end=\"15-2019\")","7fbd5a8b":"predictedmean = prediction.predicted_mean\np_bounds = prediction.conf_int()\np_lower_limit = p_bounds.iloc[:,0]\np_upper_limit = p_bounds.iloc[:,1]","69bafa2e":"forecast = results.get_forecast(steps=len(test_data))","11fcb5e7":"mean_forecast = forecast.predicted_mean\nf_bounds = forecast.conf_int()\nf_lower_limit = f_bounds.iloc[:,0]\nf_upper_limit = f_bounds.iloc[:,1]","544670e1":"plt.figure(figsize=(12,8))\n\nplt.plot(train_data.index, train_data, label='Original Closing Price(train)')\nplt.plot(test_data.index, test_data, label='Original Closing Price(test)',color='k')\n\nplt.plot(predictedmean.index, predictedmean, color='r', label='predicted')\nplt.plot(test_data.index, mean_forecast, color='m', label='Forecast')\n\nplt.fill_between(predictedmean.index,p_lower_limit,p_upper_limit, color='yellow')\nplt.fill_between(test_data.index,f_lower_limit,f_upper_limit, color='y')\n\nplt.xlabel('Date')\nplt.ylabel('Nifty 50 Closing Price')\nplt.legend()\nplt.show()","0a6459f4":"import keras\nimport keras.backend as K\nK.clear_session()\nfrom sklearn.preprocessing import MinMaxScaler","4114de63":"X = nifty_50_df.drop([\"Close\",\"Turnover\",\"P\/E\",\"P\/B\",\"Div Yield\"],axis=1)\ny = nifty_50_df[\"Close\"]\n\n# Preprocessing\nscaler = MinMaxScaler()\nscaler_X = scaler.fit_transform(X)\n\nX_df = pd.DataFrame(data=scaler_X, columns=[\"Open\",\"High\",\"Low\",\"Volume\"],index= X.index)\ny_df = pd.DataFrame(data=y, columns=[\"Close\"],index= y.index)\n\ntrain_X_df = X_df[\"2014\":\"1-2-2020\"]\ntest_X_df = X_df[\"1-2-2020\":]\n\ntrain_y_df = y_df[\"2014\":\"1-2-2020\"]\ntest_y_df = y_df[\"1-2-2020\":]\n\ntrain_X = np.array(train_X_df)\ntest_X = np.array(test_X_df)\n\ntrain_y = np.array(train_y_df)\ntest_y = np.array(test_y_df)\n\ntrain_X = np.reshape(train_X,(train_X.shape[0],train_X.shape[1],1))\ntest_X = np.reshape(test_X,(test_X.shape[0],test_X.shape[1],1))\n\ntrain_y = np.reshape(train_y,(train_y.shape[0],1))\ntest_y = np.reshape(test_y,(test_y.shape[0],1))","e923fb45":"print(\"Train X shape : \", train_X.shape)\nprint(\"Test X shape : \", test_X.shape)\n\nprint(\"Train y shape : \", train_y.shape)\nprint(\"Test y shape : \", test_y.shape)","46aa30c1":"lstm_model = keras.models.Sequential()\nlstm_model.add(keras.layers.LSTM(128,\n                                 input_shape=(train_X.shape[1],1),\n                                 activation='relu',\n                                 return_sequences=True\n                                ))\n\nlstm_model.add(keras.layers.LSTM(64,return_sequences=False,activation='relu'))\n\nlstm_model.add(keras.layers.Dense(32,activation='relu'))\nlstm_model.add(keras.layers.Dense(1))\n\nlstm_model.compile(loss='mean_squared_error', optimizer='adam')","4a7f358f":"history = lstm_model.fit(train_X, train_y, batch_size=128,epochs=100, verbose=1, shuffle=False)","ca59e8ed":"plt.figure(figsize=(8,6))\nplt.plot(history.history['loss'], label='MAE (training data)')\nplt.title('MAE')\nplt.ylabel('MAE value')\nplt.xlabel('No. epoch')\nplt.legend(loc=\"upper left\")\nplt.show()","7a13f853":"prediction = lstm_model.predict(test_X)","c5120671":"np.sqrt(np.mean(((prediction - test_y) ** 2)))","2540b6d1":"test_y_df[\"prediction\"] = np.reshape(prediction,(prediction.shape[0]))\n\nplt.figure(figsize=(12,8))\n\nplt.plot(nifty_50_df[\"10-2018\":].index,nifty_50_df[\"10-2018\":][\"Close\"], label=\"Train Price\")\nplt.plot(test_y_df.index,test_y_df.prediction, label=\"predicted Price\",color='r')\nplt.plot(test_y_df.index,test_y_df.Close, label=\"test Price\",color='m')\n\nplt.xlabel('Date')\nplt.ylabel('Nifty 50 Closing Price')\nplt.legend()\nplt.show()","818aea96":"## SARIMAXA Model<a id='19'><\/a>","e1ee1418":"## Import Liberary<a id='24'><\/a>","ced82bf7":"## Import Libraries and Data Input<a id='2'><\/a>","88a51bd2":"# Time series decomposition<a id='16'><\/a>","c55c9d40":"* **ACF (autocorrelation)** is the linear correlation of a signal with itself at two different points in time, ACF (autocorrelation function) is just such correlation as a function of the lag h between two points of time.\n\n* **PACF (partial autocorrelation function)** is essentially the autocorrelation of a signal with itself at different points in time, with linear dependency with that signal at shorter lags removed, as a function of lag between points of time. Informally, the partial correlation between x(t) and x(t+h) is the autocorrelation between x(t) and x(t+h) without the contribution of x(t+1),x(t+2),....,x(t+h\u22121).","6af08ce1":"## Data Cleaning<a id='3'><\/a>","c10bb938":"* we will choose lower aic value model","7090a229":"## LSTM Model<a id='26'><\/a>","9a663d56":"## Model diagnostics<a id='20'><\/a>","f6e08fc4":"## Window functions<a id='12'><\/a>\n* Window functions are used to identify sub periods, calculates sub-metrics of sub-periods.\n1. **Rolling** - Same size and sliding\n2. **Expanding** - Contains all prior values","affbe7ae":"## RMS Error of model<a id='29'><\/a>","b1df28e1":"## AIC(Akaike information criterion) And BIC (Bayesian information criterion)\n 1.  **AIC**   \n     * Lower AIC indicate batter model\n     * AIC choose simple models with lower order\n 2.  **BIC** \n     * Lower BIC indicate batter model\n     * BIC favoures simple model then AIC\n     * AIC is better at choosing predictive models \n     * BIC is better at choosing good explanatory model\n","7ffd2599":"## Introduction to Data<a id='1'><\/a>\n* The National Stock Exchange of India Limited (NSE) is the leading stock exchange of India, located in Mumbai. The NIFTY 50 index is National Stock Exchange of India's benchmark broad based stock market index for the Indian equity market. \n\n* This dataset has day level information on major NIFTY indices starting from 01 January 2000.\n\n* Each file represents an index and has the following columns\n\n> * **Date** - date of observation\n* **Open** - open value of the index on that day\n* **High** - highest value of the index on that day\n* **Low** - lowest value of the index on that day\n* **Close** - closing value of the index on that day\n* **Volume** - volume of transaction\n* **Turnover** - turn over\n* **P\/E** - price to earnings ratio\n* **P\/B** - price to book value\n* **Div Yield** - dividend yield\n","b8d8b9a6":"## Comparing time series<a id='7'><\/a>\nWe will compare time series by normalizing them. This is achieved by dividing each time series element of all time series by the first element. This way both series start at the same point and can be easily compared.","e6b77fce":"## Model Prediction<a id='28'><\/a>","207a5515":"## Plot Prediction and Forcasting<a id='23'><\/a>","e77c8783":"* difference 1 is a stationary series, here we can't see trend\n* Trend stationary: Trend is zero\n* Variance is constant","9770f2d1":"* How far our the predictions from the real values?","b72c8ad9":"## Candlestick chart<a id='15'><\/a>","d20eddd7":"* [__Introduction to Data__](#1)\n* [Import Libraries and Data Input](#2)\n* [Data Cleaning](#3)\n* [Visualizing the datasets](#4)\n    * [Nifty 50 Close Price Visulization](#5)\n    * [Nifty BANK Close Price Visulization](#6)\n* [Comparing time series](#7)\n* [The augmented Dicky-Fuller test](#8)\n* [Making a time series stationary](#9)\n    * [Difference \u0394yt = yt \u2212 yt\u22121](#10)\n    * [proportional change](#11)\n* [Window functions](#12)\n* [Financial Charts](#13)\n    * [OHLC chart](#14)\n    * [Candlestick chart](#15)\n* [Time series decomposition](#16)\n* [Autocorrelation and Partial Autocorrelation](#17)\n* [Using ACF and PACF to choose model order](#18)\n* [SARIMAXA Model](#19)\n* [SARIMAXA Model diagnostics](#20)\n* [Prediction on train data](#21)\n* [Forecasting on train data](#22)\n* [Plot Prediction and Forcasting](#23)","90ce3d78":"## Visualizing the datasets<a id='4'><\/a>","052d5ad4":"* **In ACF** As all lags are either close to 1 or at least greater than the confidence interval, they are statistically significant.\n* ** IN PCF** it is statistically signficant, partial autocorrelation after first 2 lags is very low.\n* Here, only 0th, 1st, 6th, 7th, 11th and 12th lag are statistically significant.","57b85346":"## The augmented Dicky-Fuller test<a id='8'><\/a>\n* Tests for trend non-stationarity \n* Null hypothesis is time series is non-stationary","02596dbe":"### Difference \u0394yt = yt \u2212 yt\u22121<a id='10'><\/a>","12174f6c":"## Plot Prediction<a id='30'><\/a>","847ef57a":"* due to High changes in 2020 Nifty50 price we can see high difference between upper and lower bound of forecasting\n* but also test data are inside the boundary","363559fc":"# <font color='red'>If you like my work or it helps you , you can upvote kernel or leave a comment \ud83d\ude0a<\/font>","4d27e6fe":"* <font color='red'>nifty_50_df<\/font> have data does have missing values. It is cleaned using <font color='red'>fillna()<\/font> method with ffill parameter which propagates last valid observation to fill gaps","7bc85e97":"## Using ACF and PACF to choose model order<a id='18'><\/a>\n||AR(P)|MA(q)|ARMA(p,q)|\n|--|--|--|--|\n|ACF|Tails off|Cuts off after lag q|Tails off|\n|PACF|Cuts off after lag P|Tails off|Tails off|\n\n* ","ec7f9bd8":"### Nifty BANK Close Price Visulization<a id='6'><\/a>","2d9d908e":"## Data Preprocessing<a id='25'><\/a>","217bd537":"## Prediction on train data<a id='21'><\/a>","29a8c167":"# Autocorrelation and Partial Autocorrelation<a id='17'><\/a>","9a6fba5c":"* so we will choose P = 5 , d = 1 , q = 2","2484d436":"* 0th element is test statistic (-0.7655677955763277) \n> More negative means more likely to be stationary \n\n* 1st element is p-value: (0.8290276704492101) \n> 1. If p-value is small then 0.05\u2192reject null hypothesis. Reject non-stationary.\n> 2. which is more than 0.05 null hypothesis is True and this is a random walk.\u00b6\n\n* 4th element is the criticaltest statistics\n\n\n## **Making a time series stationary**<a id='9'><\/a>\n* Taking the difference\n> Difference: \u0394yt = yt \u2212 yt\u22121\n* Take the log \n> np.log(df) \n* Take the square root \n> np.sqrt(df) \n* Take the proportional change \n> df.shift(1)\/df","a79ffa70":"### Nifty 50 Close Price Visulization<a id='5'><\/a>","9a13ccf8":"* Proportional change of nifty_50 data makes not series a stationary series ... we can see here negative trend","b1795402":"## Model Training<a id='27'><\/a>","cd9f3bdd":"* <font color='red'>P\/E<\/font>: The basic definition of a P\/E ratio is stock price divided by <font color='Blue'>earnings per share<\/font> (EPS).\n* <font color='red'>P\/B<\/font>: The P\/B ratio compares a company's market capitalization, or market value, to its <font color='Blue'>book value<\/font>.\n* <font color='red'>Open<\/font> : the last trading price of the previous day\n* <font color='red'>Close<\/font> : trading price of the day.\n* <font color='red'>Dividend yield<\/font> is the financial ratio that measures the quantum of cash dividends paid out to shareholders relative to the market value per share. It is computed by dividing the dividend per share by the market price per share and multiplying the result by 100.","cdb045c1":"# LSTM","73d011e1":"<img src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/e\/ea\/Candlestick_chart_scheme_03-en.svg\/1920px-Candlestick_chart_scheme_03-en.svg.png\" width=\"500\">","ac38f2a9":"The [OHLC](https:\/\/plotly.com\/python\/ohlc-charts\/) chart (for open, high, low and close) is a style of financial chart describing open, high, low and close values for a given x coordinate (most likely time). The tip of the lines represent the low and high values and the horizontal segments represent the open and close values. Sample points where the close value is higher (lower) then the open value are called increasing (decreasing). By default, increasing items are drawn in green whereas decreasing are drawn in red.","cf43d27b":"### proportional change <a id='11'><\/a>","3eeac2e5":"## Forcasting on test data<a id='22'><\/a>","d09f7d93":"* There is an upward trend at first after there is downward trend.\n* Also, we can see there is uniform seasonal change\n* Non-uniform noise that represent outliers","02fbc282":"# <font color='blue'>NIFTY-50 \ud83d\udcc8visualization + Forecast<\/font>\n![Nifty-50.jpg](attachment:Nifty-50.jpg)","5ac26396":"## <font color='blue'>LSTM<\/font>\n* [Import Liberary](#24)\n* [Data Preprocessing](#25)\n* [LSTM Model](#26)\n* [Model training](#27)\n* [Model Prediction](#28)\n* [RMS Error of model](#29)\n* [Plot Prediction](#30)","211587ae":"The [candlestick chart](https:\/\/plotly.com\/python\/candlestick-charts\/) is a style of financial chart describing open, high, low and close for a given x coordinate (most likely time). The boxes represent the spread between the open and close values and the lines represent the spread between the low and high values. Sample points where the close value is higher (lower) then the open value are called increasing (decreasing). By default, increasing candles are drawn in green whereas decreasing are drawn in red.","1bb26f60":"## OHLC chart<a id='14'><\/a>","ee5998e6":"# Financial Charts<a id='13'><\/a>","63620175":"* If the model fits well the residuals will be white Gaussian noise\n* Histogram & KDE should be normally distributed\n* Noraml Q-Q points should be almost on red line\n* Correlogram of residuals should be zero for all legs"}}