{"cell_type":{"e5858496":"code","e1219e1c":"code","2b90cb02":"code","9ac875fb":"code","57293c42":"code","8d23ea5c":"code","fad26762":"code","c4649e0f":"code","67149c7c":"code","a34fd047":"code","09fbef5e":"code","8c1682a0":"code","39676208":"code","aa69ab0f":"code","82ad93b5":"code","0e89d568":"code","d4d21fed":"code","194fa309":"code","6577787e":"code","9d43d59c":"code","a65014ca":"code","336594cc":"code","f5be0032":"markdown","b34a6531":"markdown","ab6414df":"markdown","d12737d5":"markdown","cabd1df8":"markdown","4aacdd50":"markdown","e8481788":"markdown","72091c55":"markdown","947eb51f":"markdown","5eb1a078":"markdown","fabe8c52":"markdown","2f84ac26":"markdown","1cf041e9":"markdown","69dd636b":"markdown","042b66b8":"markdown","863ee1ef":"markdown","0d209f61":"markdown","312e5f46":"markdown"},"source":{"e5858496":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport random\nimport scipy.stats as stt\nimport warnings\nwarnings.filterwarnings('ignore')\n%pylab inline","e1219e1c":"data = pd.read_csv('..\/input\/athlete_events.csv')","2b90cb02":"data.head()","9ac875fb":"data.shape[0]","57293c42":"categ = pd.cut(data.Year,[1896,1916,1936,1956,1976,1996,2016])\npd.value_counts(categ).plot(kind='barh');","8d23ea5c":"dat_new = data[['ID','Sex','Age','Height','Weight','NOC','Season','Sport','Medal']]\ndat_new['Years'] = categ\nplt.figure(figsize=(7,7))\n#sns.boxplot(x='Years',y='Age',data=dat_new, width=0.7);\nsns.violinplot(x='Years',y='Age',data=dat_new, width=0.7);","fad26762":"dat = dat_new.dropna()\nsample = []\nfor j in range(6):\n        sample.append(dat[dat.Years==dat.Years.unique()[j]].Age.values)\nstt.f_oneway(*sample)","c4649e0f":"dat_new = data[['ID','Sex','Age','Height','Weight','NOC','Season','Sport','Medal']]\ndat_new['Years'] = categ\nplt.figure(figsize=(7,7))\nsns.boxplot(x='Years',y='Weight',data=dat_new, width=0.7);\n#sns.swarmplot(x='Years',y='Age',data=dat_new);\nsample = []\nfor j in range(6):\n        sample.append(dat[dat.Years==dat.Years.unique()[j]].Weight.values)\nprint(stt.f_oneway(*sample))\n","67149c7c":"fig = plt.figure(figsize=(15,15))\nax1 = fig.add_subplot(3,3,1)\nax1.set_title('1996 - 2016')\npd.value_counts(data[data.Year>1996].Sport)[:10].plot(kind='barh');\nax2 = fig.add_subplot(3,3,3)\nax2.set_title('1976 - 1996')\npd.value_counts(data[(data.Year<1996) & (data.Year>1976)].Sport)[:10].plot(kind='barh');\nax3 = fig.add_subplot(3,3,4)\nax3.set_title('1956 - 1976')\npd.value_counts(data[(data.Year<1976) & (data.Year>1956)].Sport)[:10].plot(kind='barh');\nax4 = fig.add_subplot(3,3,6)\nax4.set_title('1936 - 1956')\npd.value_counts(data[(data.Year<1956) & (data.Year>1936)].Sport)[:10].plot(kind='barh');\nax5 = fig.add_subplot(3,3,7)\nax5.set_title('1916 - 1936')\npd.value_counts(data[(data.Year<1936) & (data.Year>1916)].Sport)[:10].plot(kind='barh');\nax6 = fig.add_subplot(3,3,9)\nax6.set_title('1896 - 1916')\npd.value_counts(data[(data.Year<1916)].Sport)[:10].plot(kind='barh');","a34fd047":"grop_sport = data['Year'].groupby(data['Sport']).min()\npd.value_counts(grop_sport).plot.barh();","09fbef5e":"#fig = plt.figure(figsize=(15,15))\npd.value_counts(data[data.Medal.notnull()]['Team']).head(10).plot.bar();","8c1682a0":"fig = plt.figure(figsize=(15,15))\nax1 = fig.add_subplot(3,3,1)\nax1.set_title('Gold')\npd.value_counts(data[data.Medal=='Gold']['Team']).head(10).plot.bar();\nax2 = fig.add_subplot(3,3,2)\nax2.set_title('Silver')\npd.value_counts(data[data.Medal=='Silver']['Team']).head(10).plot.bar();\nax3 = fig.add_subplot(3,3,3)\nax3.set_title('Bronze')\npd.value_counts(data[data.Medal=='Bronze']['Team']).head(10).plot.bar();","39676208":"fig = plt.figure(figsize=(17,17))\nax1 = fig.add_subplot(3,3,1)\nax1.set_title('Swimming')\npd.value_counts(data[(data.Medal.notnull()) & (data['Sport']=='Swimming')]['Team'])[:10].plot.barh();\nax2 = fig.add_subplot(3,3,2)\nax2.set_title('Gymnastics')\npd.value_counts(data[(data.Medal.notnull()) & (data['Sport']=='Gymnastics')]['Team'])[:10].plot.barh();\nax3 = fig.add_subplot(3,3,3)\nax3.set_title('Athletics')\npd.value_counts(data[(data.Medal.notnull()) & (data['Sport']=='Athletics')]['Team'])[:10].plot.barh();","aa69ab0f":"ss = pd.value_counts(dat_new.Sport)[:10]\nqq = list(ss.index)\nfor i in qq:\n    print(i,data[data.Sport==i].Year.min())","82ad93b5":"sns.heatmap(data[['Age','Height','Weight']].corr());","0e89d568":"sns.boxplot(x='Season',y='Age',hue='Sex',data=data);","d4d21fed":"sns.boxplot(x='Season',y='Weight',hue='Sex',data=data);\nmal_weig = data.Weight[data.Sex=='M'].dropna()\nfem_weig = data.Weight[data.Sex=='F'].dropna()\n#mal_weig.head()","194fa309":"mal_weig = data.Weight[data.Sex=='M'].dropna()\nfem_weig = data.Weight[data.Sex=='F'].dropna()\nfig = plt.figure(figsize=(10,10))\nfig.add_subplot(3,3,1)\nmal_weig.hist(bins=30)\nfem_weig.hist(bins=30)\nfig.add_subplot(3,3,2)\nstt.probplot(mal_weig, plot=pylab);\nfig.add_subplot(3,3,3)\nstt.probplot(fem_weig, plot=pylab);","6577787e":"mal_weig = np.log(data.Weight[data.Sex=='M'].dropna())\nfem_weig = np.log(data.Weight[data.Sex=='F'].dropna())\nfig = plt.figure(figsize=(10,10))\nfig.add_subplot(3,3,1)\nmal_weig.hist(bins=30)\nfem_weig.hist(bins=30)\nfig.add_subplot(3,3,2)\nstt.probplot(mal_weig, plot=pylab);\nfig.add_subplot(3,3,3)\nstt.probplot(fem_weig, plot=pylab);","9d43d59c":"male_sample = mal_weig.iloc[[random.randint(0,mal_weig.shape[0]) for i in range(int(mal_weig.shape[0]*0.01))]]\nfemale_sample = fem_weig.iloc[[random.randint(0,fem_weig.shape[0]) for i in range(int(fem_weig.shape[0]*0.01))]]\n\nstt.ttest_ind_from_stats(male_sample.mean(),male_sample.std(),male_sample.shape[0],\\\n                         female_sample.mean(),female_sample.std(),female_sample.shape[0],equal_var=True)","a65014ca":"mal_age = data.Age[data.Sex=='M'].dropna()\nfem_age = data.Age[data.Sex=='F'].dropna()\n\nmale_sample = mal_age.iloc[[random.randint(0,mal_age.shape[0]) for i in range(int(mal_age.shape[0]*0.01))]]\nfemale_sample = fem_age.iloc[[random.randint(0,fem_age.shape[0]) for i in range(int(fem_age.shape[0]*0.01))]]\n\nstt.ttest_ind_from_stats(male_sample.mean(),male_sample.std(),male_sample.shape[0],\\\n                         female_sample.mean(),female_sample.std(),female_sample.shape[0],equal_var=True)","336594cc":"mal_height = data.Height[data.Sex=='M'].dropna()\nfem_height = data.Height[data.Sex=='F'].dropna()\n\nmale_sample = mal_height.iloc[[random.randint(0,mal_height.shape[0]) for i in range(int(mal_height.shape[0]*0.01))]]\nfemale_sample = fem_height.iloc[[random.randint(0,fem_height.shape[0]) for i in range(int(fem_height.shape[0]*0.01))]]\n\nstt.ttest_ind_from_stats(male_sample.mean(),male_sample.std(),male_sample.shape[0],\\\n                         female_sample.mean(),female_sample.std(),female_sample.shape[0],equal_var=True)","f5be0032":"F-test in Weight shows interesting results. It seems, that the weight has not changed much over the years. Something more extremal result we can see with f-test for Height.","b34a6531":"Here we can see, that 2 most popular positions don't change through all time - Gymnastic and Athletics. Swimming has become popular since 1956.","ab6414df":"Finally, see on the correlation matrix (age\/weight\/height)","d12737d5":"Firstly, sample the years.","cabd1df8":"Now we can conduct Student's test with unknown dispersion. The H0 will be the same averages, the alternative H1 - means deffers. And we consider 1% of data, because ttest work bad with large amount of data. This test show, that the difference between averages is statistically significant.","4aacdd50":"Here you can see, that age and height means statistically significant (be this test), but p-value degree of age is much more, than weight or height, so it can be the same. Finally, it seems that male athlets are heavier and taller, and age is the same.","e8481788":"Top 10 winners from 3 most popular sports - Swimming, Gymnastics and Athletics.","72091c55":"How many new sports appears in olympic games:","947eb51f":"I'm very interested, how changes weight or age. These graphics don't show expressed trend:","5eb1a078":"Here we can see, that by weight and height there are significant differences. But we must verify it by statistics.","fabe8c52":"Try to check with F-score, having this samples equal means or not. Sertainly, samples aren't absolutely independent, but assume that they relation isn't high. Another assumptions are performed - each sample is from a normally distributed population and standard deviations of the groups are all equal (you can see it from the violinplot). \nF-test show, that they are different.","2f84ac26":"Thank you for reading! I hope this kernel was helpful for you.","1cf041e9":"When the top-10 popular sports appeared:","69dd636b":"Now train to compare mean's by statistic, for example by male and female age\/weight\/height.","042b66b8":"Now more detailed Medal distribution.","863ee1ef":"Top - 10 winning countries ","0d209f61":"## Consider what change in games over the years. ","312e5f46":"From this qq-plot you can see, that heavy athlets derive the graph from the normal distribution and they are an important part of this dataset. So, we need some transformation."}}