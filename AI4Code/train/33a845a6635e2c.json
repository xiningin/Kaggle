{"cell_type":{"65f37bce":"code","d04dbf43":"code","f84b4931":"code","faf0ff68":"code","f6a653e9":"code","9915009d":"code","49d2dc3d":"code","e1847c03":"code","129719d9":"code","b4d33d60":"code","e041be13":"code","18be0135":"code","2ec1cf89":"code","cd00ea6c":"code","f524fb5e":"code","e7a5b2e7":"code","8ffa9b43":"code","74f82557":"code","aa49b900":"code","70e0bf67":"code","983e15b0":"code","002d49a1":"code","2078bd4c":"code","e63a6ab2":"markdown","0852b843":"markdown","397fc2aa":"markdown","12d0ac5e":"markdown","f482e40a":"markdown","08bf7fc5":"markdown","1d14b0b4":"markdown","c56a0df7":"markdown","a92f7748":"markdown","82f6a3ce":"markdown","ba4f1c32":"markdown","5689ab8b":"markdown","3a9470dd":"markdown"},"source":{"65f37bce":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d04dbf43":"df = pd.read_csv(\"\/kaggle\/input\/cusersmarildownloadsbiocapacitycsv\/biocapacity.csv\", low_memory=False, encoding ='utf8',sep=\";\")\nprint(df.shape)\ndf.head().style.set_properties(**{'background-color':'#03e8fc',\n                                     'color': 'black'})","f84b4931":"df.isnull().sum()","faf0ff68":"# categorical features with missing values\ncategorical_nan = [feature for feature in df.columns if df[feature].isna().sum()>0 and df[feature].dtypes=='O']\nprint(categorical_nan)","f6a653e9":"# replacing missing values in categorical features\nfor feature in categorical_nan:\n    df[feature] = df[feature].fillna('None')","9915009d":"df[categorical_nan].isna().sum()","49d2dc3d":"fig = px.bar(df, \n             x='short_name', y='built_up_land', color_discrete_sequence=['#FFD700'],\n             title='Biocapacity by Built-up Land', text='carbon')\nfig.show()","e1847c03":"fig = px.bar(df, \n             x='short_name', y='forest_products', color_discrete_sequence=['darkgreen'],\n             title='Biocapacity by forest_products', text='carbon')\nfig.show()","129719d9":"fig = px.bar(df, \n             x='country_name', y='total', color_discrete_sequence=['#DC143C'],\n             title='Countries Biocapacity by total', text='data_quality_score')\nfig.show()","b4d33d60":"fig = px.bar(df, \n             x='data_quality_score', y='carbon', color_discrete_sequence=['#2B3A67'],\n             title='Data Quality Score by carbon', text='isoa2')\nfig.show()","e041be13":"df_grp = df.groupby([\"country_name\",\"carbon\"])[[\"built_up_land\",\"forest_products\",\"grazing_land\", \"cropland\", \"fishing_grounds\"]].sum().reset_index()\ndf_grp.head()","18be0135":"plt.figure(figsize=(15, 5))\nplt.title('carbon')\ndf_grp.carbon.value_counts().plot.bar();","2ec1cf89":"#Code by Bizen https:\/\/www.kaggle.com\/hiro5299834\/tps-apr-2021-deebtables\/notebook\n\nTARGET = 'country_name' #Target could Not be float otherwise will result in valueError: Unknown label type: 'continuous'. Even after the encoding.\n\nlabel_cols = ['carbon', 'built_up_land', 'forest_products', 'grazing_land', 'cropland', 'fishing_grounds']\n#numerical_cols = ['Altitude', 'Rainfall', 'Frosts', 'Year']","cd00ea6c":"#Code by Bizen https:\/\/www.kaggle.com\/hiro5299834\/tps-apr-2021-deebtables\/notebook\n\nfrom sklearn.preprocessing import LabelEncoder\n\ndef label_encoder(c):\n    le = LabelEncoder()\n    return le.fit_transform(c)\n\nlabel_encoded_df_grp = df_grp[label_cols].apply(label_encoder)\n#numerical_df = df[numerical_cols]\ntarget_df_grp = df_grp[TARGET]\n\ndf_grp = pd.concat([label_encoded_df_grp, target_df_grp], axis=1)","f524fb5e":"df_grp.head()","e7a5b2e7":"df_grp_l20 = df_grp.tail(20)","8ffa9b43":"#Codes from Vansh Jatana https:\/\/www.kaggle.com\/vanshjatana\/covid-19-in-australia\n\nfig = px.bar(df_grp_l20[['country_name', 'forest_products']].sort_values('forest_products', ascending=False), \n             y=\"forest_products\", x=\"country_name\", color='country_name', \n             log_y=True, template='ggplot2', title='Forest Products vs Countries')\nfig.show()","74f82557":"df_grp_l20 = df_grp_l20.sort_values(by=['carbon'],ascending = False)","aa49b900":"#Codes from Vansh Jatana https:\/\/www.kaggle.com\/vanshjatana\/covid-19-in-australia\n\nplt.figure(figsize=(40,15))\nplt.bar(df_grp_l20.country_name, df_grp_l20.built_up_land,label=\"built_up_land\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.forest_products,label=\"forest_products\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.fishing_grounds,label=\"fishing_grounds\")\nplt.xlabel('Country')\nplt.ylabel(\"Count\")\nplt.xticks(fontsize=13)\nplt.yticks(fontsize=15)\n\nplt.legend(frameon=True, fontsize=12)\nplt.title('Built-up Land vs Forest Products vs Fishing Grounds',fontsize=30)\nplt.show()\n\nf, ax = plt.subplots(figsize=(40,15))\nax=sns.scatterplot(x=\"country_name\", y=\"built_up_land\", data=df_grp_l20,\n             color=\"black\",label = \"built_up_land\")\nax=sns.scatterplot(x=\"country_name\", y=\"forest_products\", data=df_grp_l20,\n             color=\"red\",label = \"forest_products\")\nax=sns.scatterplot(x=\"country_name\", y=\"fishing_grounds\", data=df_grp_l20,\n             color=\"blue\",label = \"fishing_grounds\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.built_up_land,zorder=1,color=\"black\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.forest_products,zorder=1,color=\"red\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.fishing_grounds,zorder=1,color=\"blue\")\nplt.xticks(fontsize=13)\nplt.yticks(fontsize=15)\nplt.legend(frameon=True, fontsize=12)","70e0bf67":"#Codes from Vansh Jatana https:\/\/www.kaggle.com\/vanshjatana\/covid-19-in-australia\n\nplt.figure(figsize=(40,15))\nplt.bar(df_grp_l20.country_name, df_grp_l20.built_up_land,label=\"built_up_land\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.forest_products,label=\"forest_products\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.fishing_grounds,label=\"fishing_grounds\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.cropland,label=\"cropland\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.grazing_land,label=\"grazing_land\")\nplt.bar(df_grp_l20.country_name, df_grp_l20.carbon,label=\"carbon\")\nplt.xlabel('Country')\nplt.ylabel(\"Count\")\nplt.xticks(fontsize=13)\nplt.yticks(fontsize=15)\n\nplt.legend(frameon=True, fontsize=12)\nplt.title('Countries Biocapacity in 2017',fontsize=30)\nplt.show()\n\nf, ax = plt.subplots(figsize=(40,15))\nax=sns.scatterplot(x=\"country_name\", y=\"built_up_land\", data=df_grp_l20,\n             color=\"black\",label = \"built_up_land\")\nax=sns.scatterplot(x=\"country_name\", y=\"forest_products\", data=df_grp_l20,\n             color=\"red\",label = \"forest_products\")\nax=sns.scatterplot(x=\"country_name\", y=\"fishing_grounds\", data=df_grp_l20,\n             color=\"blue\",label = \"fishing_grounds\")\nax=sns.scatterplot(x=\"country_name\", y=\"cropland\", data=df_grp_l20,\n             color=\"black\",label = \"cropland\")\nax=sns.scatterplot(x=\"country_name\", y=\"grazing_land\", data=df_grp_l20,\n             color=\"black\",label = \"grazing_land\")\nax=sns.scatterplot(x=\"country_name\", y=\"carbon\", data=df_grp_l20,\n             color=\"black\",label = \"carbon\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.built_up_land,zorder=1,color=\"orange\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.forest_products,zorder=1,color=\"green\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.fishing_grounds,zorder=1,color=\"blue\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.cropland,zorder=1,color=\"red\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.grazing_land,zorder=1,color=\"purple\")\nplt.plot(df_grp_l20.country_name,df_grp_l20.carbon,zorder=1,color=\"black\")\nplt.xticks(fontsize=13)\nplt.yticks(fontsize=15)\nplt.legend(frameon=True, fontsize=12)","983e15b0":"#https:\/\/plotly.com\/python\/bar-charts\/\n\nfig = px.bar(df_grp_l20, x=\"country_name\", y=[\"built_up_land\", \"forest_products\", \"cropland\",\"fishing_grounds\", \"carbon\"], title=\"Countries Biocapacity\")\nfig.show()","002d49a1":"brazil = df[(df['country_name']=='Brazil')].reset_index(drop=True)\nbrazil.head()","2078bd4c":"brazil = df_grp_l20[(df_grp_l20['country_name']=='Brazil')].reset_index(drop=True)\nbrazil.head()","e63a6ab2":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Data Quality Score<\/span><\/h1><br>\n\n\"Each country in the National Footprint and Biocapacity Accounts is given a quality score comprised of two elements, time series score [1-3] and latest year score [A-D].\"\n\n3A -   No component of BC or EF is unreliable or unlikely for any year.\n\n3B -   No component of BC or EF is unreliable or unlikely for the latest data year. Some individual components of the EF or BC are unlikely in the latest data year. The total EF and BC time series results are not significantly affected by      unlikely data.\n\n3C -   No component of BC or EF is unreliable or unlikely for the years prior to the latest data year.\nSome individual components of the EF or BC are unlikely in the latest year. Total EF and BC values are unlikely or unreliable in the most recent data year, but the ability to ascribe creditor\/debtor status is unaffected in latest year.\n\n3D -   No component of BC or EF is unreliable or unlikely for the years prior to the latest data year.\nSome components of the EF or BC are very unlikely in the latest year. EF and BC results in the latest year are significantly impacted by the unlikely or unreliable values, making them unusable.\n\n2A -  EF or BC component time series have results that are very unreliable or very unlikely, except in the latest data year.\nThe total EF and BC time series results are not significantly affected by unlikely data.No EF and BC results in the latest year are significantly affected by unlikely data.\n\n2B -  EF or BC component time series have results that are very unreliable or very unlikely, including the latest year.\nThe total EF and BC time series results are not significantly affected by unlikely data.\n\n2C -  Total EF or BC time series and component EF and BC time series results are unreliable or unlikely, especially in the latest year. The total EF and BC time series results are not significantly affected by unlikely data. The unlikely or unreliable values have most likely not impacted the creditor\/debtor status in the latest year.\n\n2D -  Total EF or BC time series and component EF and BC time series results are unreliable or unlikely, especially in the latest year. The total EF and BC time series results are not significantly affected by unlikely data. EF and BC results in the latest year are significantly impacted by the unlikely or unreliable values, making them unusable.\n\n1A -   Several components of the EF or BC are very unreliable or unlikely, except the latest year.\nThe EF and BC time series results are significantly affected by unlikely data, and are unusable. No EF and BC results in the latest year are significantly affected by unlikely data.\n\n1B -   Several components of the EF or BC are very unreliable or unlikely, except the latest year.\nThe EF and BC time series results are significantly affected by unlikely data, and are unusable. The total EF and BC results in the latest year are not significantly affected by unlikely data.\n\n1C -   Several components of the EF or BC are very unreliable or unlikely.\nThe EF and BC time series results are significantly affected by unlikely data, and are unusable. The unlikely or unreliable values have not impacted the creditor\/debtor status.\n\n1D -  There is too much unreliable or unlikely data to make any conclusions about the timeline or latest year of this country.\n\nhttps:\/\/www.footprintnetwork.org\/data-quality-scores\/","0852b843":"#Encoding because all features are object (categorical) ","397fc2aa":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Global Hectares (gha)<\/span><\/h1><br>\n\n\"Global hectares are the accounting unit for the Ecological Footprint and biocapacity accounts. These productivity weighted biologically productive hectares allow researchers to report both the biocapacity of the earth or a region and the demand on biocapacity (the Ecological Footprint). A global hectare is a biologically productive hectare with world average biological productivity for a given year. Global hectares are useful because different land types have different productivities. A global hectare of cropland, for example, would occupy a smaller physical area than the much less biologically productive pasture land, as more pasture would be needed to provide the same biocapacity as one hectare of cropland. Because world productivity varies slightly from year to year, the value of a global hectare may change slightly from year to year.\"\n\nhttps:\/\/data.footprintnetwork.org\/?_ga=2.79482327.2142738977.1627570256-507256724.1627570256#\/abouttheData","12d0ac5e":"#Let's check Brazil Biocapacity.","f482e40a":"<center style=\"font-family:verdana;\"><h1 style=\"font-size:200%; padding: 10px; background: #001f3f;\"><b style=\"color:#03e8fc;\">Ecological Wealth of Countries<\/b><\/h1><\/center>\n\n\"Ecological resources are at the core of every country\u2019s long-term wealth. Yet population growth and consumption patterns are putting more pressure on these critical assets. Generate bar graphs to compare the ecological assets and consumption patterns of countries by year.\"\n\nhttps:\/\/data.footprintnetwork.org\/?_ga=2.79482327.2142738977.1627570256-507256724.1627570256#\/exploreData","08bf7fc5":"#Stacking all the features.","1d14b0b4":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Biocapacity<\/span><\/h1><br>\n\n\"The capacity of ecosystems to regenerate what people demand from those surfaces. Life, including human life, competes for space. The biocapacity of a surface represents its ability to renew what people demand. Biocapacity is therefore the ecosystems' capacity to produce biological materials used by people and to absorb waste material generated by humans, under current management schemes and extraction technologies. Biocapacity can change from year to year due to climate, management, and proportion considered useful inputs to the human economy. In the National Footprint and Biocapacity Accounts, biocapacity is calculated by multiplying the physical area by the yield factor and the appropriate equivalence factor. Biocapacity is expressed in global hectares.\"\n\nhttps:\/\/data.footprintnetwork.org\/?_ga=2.79482327.2142738977.1627570256-507256724.1627570256#\/abouttheData","c56a0df7":"![](https:\/\/www.benefits-of-honey.com\/image-files\/bees-disappear-new.jpg)benefits-of-honey.com","a92f7748":"#After grouping by and encoding, Brazil records simply disappeared. ","82f6a3ce":"#Maybe the extinction of bees would not mean end of people, but the decrease in biodiversity and biocapacity will.\n\n![](https:\/\/slidetodoc.com\/presentation_image_h\/26bb05cd9eb8d95e9813f01914c45baf\/image-15.jpg)slidetodoc.com","ba4f1c32":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Carbon Footprint<\/span><\/h1><br>\n\n\"The carbon Footprint measures CO2 emissions associated with fossil fuel use. In Ecological Footprint accounts, these amounts are converted into biologically productive areas necessary for absorbing this CO2. The carbon Footprint is included in the Ecological Footprint because it is a competing use of bioproductive space, since increasing CO2 concentrations in the atmosphere are considered to represent a build-up of ecological debt. Some carbon Footprint assessments express results in tonnes released per year, without translating this amount into area needed to sequester it.\"\n\nhttps:\/\/data.footprintnetwork.org\/?_ga=2.79482327.2142738977.1627570256-507256724.1627570256#\/abouttheData","5689ab8b":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Ecological Footprint<\/span><\/h1><br>\n\n\"A measure of how much area of biologically productive land and water an individual, population, or activity requires to produce all the resources it consumes and to absorb the waste it generates, using prevailing technology and resource management practices. The Ecological Footprint is usually measured in global hectares. Because trade is global, an individual or country's Footprint includes land or sea from all over the world. Without further specification, Ecological Footprint generally refers to the Ecological Footprint of consumption. Ecological Footprint is often referred to in short form as Footprint.\"\n\nhttps:\/\/data.footprintnetwork.org\/?_ga=2.79482327.2142738977.1627570256-507256724.1627570256#\/abouttheData","3a9470dd":"#Grouping by (some columns of interest that were in Footprint Network)"}}