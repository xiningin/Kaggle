{"cell_type":{"f2b997b7":"code","e30d6fd6":"code","c276108e":"code","96afd09f":"code","49bd9293":"code","4c57cac5":"code","9de821f1":"code","65367079":"code","3ac12abf":"code","844472f3":"code","a2fa29e9":"code","6451a0c6":"code","e313576b":"code","b8b1a125":"code","49ad9f1f":"code","3b4f3e59":"code","4ac8686d":"code","5a968a01":"code","76dae511":"code","9f034111":"code","a3bfb404":"code","00cbfeea":"code","62ae1ce0":"code","e40694cb":"code","ce7cb44b":"code","62253843":"code","5d4117d4":"code","176c5109":"code","2b0a40e0":"code","273c86cd":"code","5aafefa7":"code","9a188681":"code","4a4943eb":"code","229a84ba":"code","ae549caa":"code","b952bc9e":"code","c239891c":"code","4c248515":"code","eda0544a":"code","7ced1399":"markdown","bb69df4e":"markdown","5072fd6b":"markdown","36ab472d":"markdown","c12e41a5":"markdown","c85f9980":"markdown","1db11d79":"markdown","d40031c9":"markdown","fa9edf30":"markdown","6cac379c":"markdown","e58be64f":"markdown","94b303db":"markdown","06ea42fc":"markdown","8bc456ae":"markdown","df309e27":"markdown","9f0aea7d":"markdown","d3361614":"markdown","94c51708":"markdown","a71a8e6b":"markdown","f1904175":"markdown","2c03fd0c":"markdown","64bcedfc":"markdown","07ce9723":"markdown","6beed15d":"markdown","42a86fd8":"markdown","de8840a0":"markdown","8e39a5cc":"markdown"},"source":{"f2b997b7":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\n\nimport os\n\nprint(os.listdir(\"..\/input\"))","e30d6fd6":"df = pd.read_csv('..\/input\/various-expenses-and-the-profits-of-50-startups\/50_Startups.csv')","c276108e":"df.head()","96afd09f":"df.info()","49bd9293":"df.shape","4c57cac5":"df.isna().sum()","9de821f1":"df.corr()","65367079":"corr = df.corr();\nfig, ax = plt.subplots(figsize=(8,7))\nsns.heatmap(corr, annot=True, ax=ax, linewidths=1, xticklabels=True, yticklabels=True);","3ac12abf":"sns.scatterplot(x = \"R&D Spend\", y = \"Profit\", data = df)  #Y\u00fcksek ve pozitif korelasyon.","844472f3":"sns.pairplot(df, kind  = \"reg\")","a2fa29e9":"df.describe().T","6451a0c6":"df[\"State\"].unique()","e313576b":"df_state = pd.get_dummies(df[\"State\"])\ndf_state.head()","b8b1a125":"df = pd.concat([df, df_state], axis = 1)","49ad9f1f":"df.head()","3b4f3e59":"# Kategorik de\u011fi\u015fkenin s\u0131n\u0131f say\u0131s\u0131ndan daha az say\u0131da dummy de\u011fi\u015fken olmal\u0131d\u0131r. \ndf.drop([\"California\", \"State\"], axis = 1, inplace = True)","4ac8686d":"df.head()","5a968a01":"X = df.drop(\"Profit\", axis = 1)\ny = df[\"Profit\"]","76dae511":"# ba\u011f\u0131ms\u0131z de\u011fi\u015fkenler : R&D Spend, Administration, Marketing Spend, Florida, New York \nX ","9f034111":"# ba\u011f\u0131ml\u0131 de\u011fi\u015fken : Profit \ny","a3bfb404":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.20, random_state = 42)","00cbfeea":"X_train # verilerin k\u0131rk\u0131n\u0131 modeli e\u011fitmek i\u00e7in ay\u0131rd\u0131k.","62ae1ce0":"X_test # verilerden on tanesini test i\u00e7in ay\u0131rd\u0131k.","e40694cb":"y_train","ce7cb44b":"y_test","62253843":"from sklearn.linear_model import LinearRegression\nlm = LinearRegression()","5d4117d4":"model = lm.fit(X_train, y_train)\nmodel.score(X_train, y_train)","176c5109":"y_pred = model.predict(X_test) # X_test'i vererek y_test'i tahmin etmesini isteyelim.\ny_pred","2b0a40e0":"test = pd.DataFrame(X_test).copy() # copy kullan\u0131lmazsa de\u011fi\u015fikler x_test i\u00e7in de ger\u00e7ekle\u015fir.\ntest[\"Profit\"] = y_test  # ger\u00e7ek de\u011ferler\ntest[\"Predicted_Profit\"] = y_pred  # tahmini de\u011ferler\ntest[\"Fark\"] = abs(y_pred - y_test) # ger\u00e7ek ve tahmini de\u011ferler aras\u0131ndaki fark\n\ntest","273c86cd":"from sklearn.metrics import mean_squared_error\nfrom sklearn.metrics import mean_absolute_error\nfrom sklearn.metrics import r2_score","5aafefa7":"# MAE\nMAE = mean_absolute_error(y_test, y_pred)\nMAE","9a188681":"# MSE (Hata kareler ortalamas\u0131)\nMSE = mean_squared_error(y_test, y_pred)\nMSE","4a4943eb":"# RMSE de\u011feri i\u00e7in MSE de\u011ferinin karek\u00f6k\u00fc al\u0131nabilir.\nRMSE = np.sqrt(MSE)\nRMSE","229a84ba":"# R-Squared de\u011feri ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerin ba\u011f\u0131ml\u0131 de\u011fi\u015fkendeki de\u011fi\u015fikli\u011fi a\u00e7\u0131klama y\u00fczdesidir. Bire ne kadar yakla\u015f\u0131rsa o kadar anlaml\u0131d\u0131r. \nr2_score(y_train, model.predict(X_train))","ae549caa":"import statsmodels.api as sm\nstmodel = sm.OLS(y, X).fit()","b952bc9e":"# Adj. R-Squared de\u011feri d\u00fczeltilmi\u015f R-Squared de\u011feridir. \n# Prob(F-statistic) de\u011feri 0.05'ten k\u00fc\u00e7\u00fck oldu\u011funda model anlaml\u0131d\u0131r denilebilir.\n# std err katsay\u0131lar\u0131n hata oran\u0131n\u0131 verir ve ne kadar d\u00fc\u015f\u00fckse do\u011fruluk seviyesi o kadar y\u00fcksek olur.\n\nstmodel.summary()","c239891c":"from sklearn import model_selection\nfrom sklearn.model_selection import cross_val_score, cross_val_predict","4c248515":"cross_val_score(model, X_train, y_train, cv = 10, scoring = \"r2\")","eda0544a":"# t\u00fcm g\u00f6zlemler test ve train olmak \u00fczere yer de\u011fi\u015ftirdi\u011finden e\u011fitim ba\u015far\u0131s\u0131 d\u00fc\u015ft\u00fc.\ncross_val_score(model, X_train, y_train, cv = 10, scoring = \"r2\").mean()","7ced1399":"# Do\u011frusal Regresyon Egzersizleri","bb69df4e":"R&D Spend ve Profit aras\u0131ndaki korelasyonu daha iyi g\u00f6rebilmek i\u00e7in scatterplot \u00e7izdirelim.","5072fd6b":"Modeli e\u011fitmek i\u00e7in ba\u011f\u0131ml\u0131 ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden olu\u015fturulan e\u011fitim verilerini verelim.","36ab472d":"Veri \u00e7er\u00e7evesinin temel istatistik de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","c12e41a5":"Tahminleri ve ger\u00e7ek de\u011ferleri bir veri \u00e7er\u00e7evesinde toplay\u0131p \u00fczerinde g\u00f6z gezdirelim.","c85f9980":"Numpy, matplotlib.pyplot, pandas ve seaborn k\u00fct\u00fcphanelerini \u00e7ekirde\u011fe dahil edelim.","1db11d79":"4 par\u00e7a de\u011fi\u015fkeni kontrol edelim.","d40031c9":"State'a ait benzersiz de\u011ferleri g\u00f6r\u00fcnt\u00fcleyelim.","fa9edf30":"LinearRegression'u \u00e7ekirde\u011fe dahil edip modeli in\u015fa edelim.","6cac379c":"Ka\u00e7 g\u00f6zlem ve \u00f6znitelikten olu\u015ftu\u011funu g\u00f6r\u00fcnt\u00fcleyelim.","e58be64f":"\u0130lk 5 g\u00f6zlemini yazd\u0131ral\u0131m.","94b303db":"Eksik verileri kontrol edelim.","06ea42fc":"Say\u0131sal de\u011fi\u015fkenlerin da\u011f\u0131l\u0131m\u0131n\u0131 g\u00f6rmek i\u00e7in df \u00fczerinden histogram \u00e7izdirelim.","8bc456ae":"Seaborn ile korelasyon matrisinin \u0131s\u0131 haritas\u0131n\u0131 \u00e7izdirelim.","df309e27":"Veri \u00e7er\u00e7evesinin bilgilerini g\u00f6r\u00fcnt\u00fcleyelim.","9f0aea7d":"Dileyenler statsmodel kullanarak hangi \u00f6zniteliklerin model i\u00e7in %95 g\u00fcvenilirlikle ne kadar anlaml\u0131 olup olmad\u0131\u011f\u0131na da bakabilir. Modelde baz\u0131 feature selection i\u015flemleri yaparak tekrardan e\u011fitip yeni sonu\u00e7lar mukayese edilebilir.","d3361614":"Dizinde bulunan veri \u00e7er\u00e7evemizi startups de\u011fi\u015fkenine atayal\u0131m. startups de\u011fi\u015fkenini df de\u011fi\u015fkenine kopyalayarak kullanmaya ba\u015flayal\u0131m.","94c51708":"Modele daha \u00f6nce g\u00f6rmedi\u011fi ba\u011f\u0131ml\u0131 test de\u011fi\u015fkenini tahmin ettirelim. Bu tahmin de\u011ferlerimizi y_pred de\u011fi\u015fkenine atayal\u0131m.","a71a8e6b":"State \u00f6zniteli\u011fini silip dummy olarak yarat\u0131lan State'lardan da birisini hari\u00e7 tutarak veri \u00e7er\u00e7evemizi g\u00fcncelleyelim.","f1904175":"get_dummies yard\u0131m\u0131yla State'a dair kategorik \u00f6znitelik \u00e7\u0131kar\u0131mlar\u0131nda bulunal\u0131m. \u00c7\u00fcnk\u00fc State'lar\u0131n birbirine \u00fcst\u00fcnl\u00fc\u011f\u00fc yok, nominaller. Ordinal de\u011fil.","2c03fd0c":"Korelasyon matrisi \u00e7izdirelim.","64bcedfc":"50 adet Startup'\u0131n ara\u015ft\u0131rma ve geli\u015ftirmeye y\u00f6nelik harcamas\u0131, y\u00f6netime y\u00f6nelik harcamas\u0131, pazarlama harcamas\u0131, kazand\u0131klar\u0131 kar miktar\u0131 ve kurulduklar\u0131 lokasyon bilgisi bulunmaktad\u0131r. Ama\u00e7 kar miktar\u0131n\u0131 tahmin etmektir. Bu bir say\u0131sal tahmin problemidir ve ba\u011f\u0131ml\u0131 de\u011fi\u015fkenimiz \"Profit\".","07ce9723":"Ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenleri kontrol edelim.","6beed15d":"Veri \u00e7er\u00e7evemizi ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenler olmak \u00fczere b\u00f6l\u00fctleyelim.","42a86fd8":"Bu ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden train ve test olmak \u00fczere 4 par\u00e7a olu\u015ftural\u0131m. Bunu yapmak i\u00e7in train_test_split kullanal\u0131m.","de8840a0":"Modelin R Squared de\u011ferini e\u011fitim verileri \u00fczerinden yazd\u0131ral\u0131m.","8e39a5cc":"sklearn b\u00fcnyesinde bar\u0131nan metrics'i \u00e7ekirde\u011fe dahil edelim ve MAE, MSE, RMSE de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim."}}