{"cell_type":{"30296aa9":"code","dc474c7a":"code","e70a3efd":"code","f9da7179":"code","71da5b4e":"code","105f754c":"code","5c648f32":"code","f3ad5845":"code","46746d09":"code","e8650cb6":"code","e6a6cc31":"code","bd8010c6":"code","9dc8742b":"code","9b1c0670":"code","b44708c8":"code","36934cc8":"markdown","84a8915a":"markdown","99a9f0f1":"markdown","130a6625":"markdown","08512ab6":"markdown","7f43c827":"markdown","6dbfc4fb":"markdown","c64b4aeb":"markdown","a240d8aa":"markdown","86532fa9":"markdown","91070673":"markdown","73cdf149":"markdown","6f4a13ba":"markdown","232007a9":"markdown"},"source":{"30296aa9":"#!pip install openpyxl","dc474c7a":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport statsmodels.formula.api as smf\nimport statsmodels.api as sm\nfrom statsmodels.stats.multicomp import pairwise_tukeyhsd\nfrom statsmodels.stats.anova import AnovaRM\nfrom statsmodels.regression.mixed_linear_model import MixedLMResults\nfrom scipy import stats\n \nstudents_result = pd.read_excel(\"..\/input\/excel-data-students-performance\/StudentsPerformance.xlsx\", sheet_name=\"StudentsPerformance\", header=0)\nstudents_result[\"overall_score\"]=students_result[\"math_score\"]+students_result[\"reading_score\"]+students_result[\"writing_score\"]\nstudents_result.head(5)","e70a3efd":"students_result.dtypes","f9da7179":"\nstudents_result.describe(include ='all') # basic statistics","71da5b4e":"students_result.nunique()","105f754c":"#scater plot\n\nsct_plot1=sns.lmplot(x='math_score', y='reading_score',data=students_result, fit_reg=False, \nlegend=False, height=3, aspect=3)\nsct_plot1.set(title='Scater plot of math score and reading score')\n\nsct_plot2=sns.lmplot(x='math_score', y='writing_score',data=students_result, fit_reg=False, \nlegend=False, height=3, aspect=3)\nsct_plot2.set(title='Scater plot of math score and writing score')\n\nsct_plot3=sns.lmplot(x='reading_score', y='writing_score',data=students_result, fit_reg=False, \nlegend=False, height=3, aspect=3)\nsct_plot3.set(title='Scater plot of reading score and writing score')\n\n","5c648f32":"correlation = students_result.corr(method='pearson')\ncorrelation","f3ad5845":"sns.pairplot(students_result, hue='gender')","46746d09":"\nsns.relplot(x='math_score', y='reading_score', hue='gender', data=students_result)\nsns.relplot(x='math_score', y='writing_score', hue='gender', data=students_result)\nsns.relplot(x='reading_score', y='writing_score', hue='gender', data=students_result)","e8650cb6":"\nboxplot1=sns.catplot(x=\"race\/ethnicity\", y=\"overall_score\", hue=\"gender\", kind=\"box\", data=students_result, height=6)\nboxplot1.set(title='Scores with respect to ethnical differences')\n\nboxplot2=sns.catplot(x=\"parental_level_of_education\", y=\"overall_score\", hue=\"gender\", kind=\"box\", data=students_result, height=8)\nboxplot2.set(title='Scores with respect to parental level of education differences')\n","e6a6cc31":"\nboxplot3=sns.catplot(x=\"lunch\", y=\"overall_score\", hue=\"gender\", kind=\"box\", data=students_result, height=5)\nboxplot3.set(title='Scores with respect to eaten lunch')\n\nboxplot4=sns.catplot(x=\"test_preparation_course\", y=\"overall_score\", hue=\"gender\", kind=\"box\", data=students_result, height=5)\nboxplot4.set(title='Scores with respect to participation in test preparation course')","bd8010c6":"#anova assumptions\n#normality\nunique_parental_level_of_education = students_result['parental_level_of_education'].unique()\nfor edu_lev in unique_parental_level_of_education:\n    stats.probplot(students_result[students_result['parental_level_of_education'] == edu_lev]['overall_score'], dist=\"norm\", plot=plt)\n    plt.title(\"Probability Plot - \" +  edu_lev)\n    plt.show()\n    \nunique_lunch = students_result['lunch'].unique()\nfor lunch in unique_lunch:\n    stats.probplot(students_result[students_result['lunch'] == lunch]['overall_score'], dist=\"norm\", plot=plt)\n    plt.title(\"Probability Plot - \" +  lunch)\n    plt.show()\n    \nunique_test_preparation_course = students_result['test_preparation_course'].unique()\nfor test_prep in unique_test_preparation_course:\n    stats.probplot(students_result[students_result['test_preparation_course'] == test_prep]['overall_score'], dist=\"norm\", plot=plt)\n    plt.title(\"Probability Plot - \" +  test_prep)\n    plt.show()","9dc8742b":"#homogeneity \nratio1 = students_result.groupby('parental_level_of_education').std().max() \/ students_result.groupby('parental_level_of_education').std().min()\nprint('ratio1\\n',ratio1)\n\nratio2 = students_result.groupby('lunch').std().max() \/ students_result.groupby('lunch').std().min()\nprint('ratio2\\n',ratio2)\n\nratio3 = students_result.groupby('test_preparation_course').std().max() \/ students_result.groupby('test_preparation_course').std().min()\nprint('ratio3\\n',ratio3)","9b1c0670":"model = smf.ols(formula='overall_score ~ parental_level_of_education * lunch * test_preparation_course', data=students_result)\nmodel_fit = model.fit()\n\n# print summary of linear regression\n#print(model_fit.summary())\n# show anova table\nprint(sm.stats.anova_lm(model_fit, type=2))\n\n","b44708c8":"tukey = pairwise_tukeyhsd(students_result['overall_score'], students_result['parental_level_of_education'], alpha = 0.05\/15)\nprint(tukey)","36934cc8":"There is no interaction effect between any combination of variables. However there are significant differences of means in all groups. It means that participating in preparation cours, eaten lunch and parental level of education have impact on students results. \n\nLet's do post hoc test to check in which groups of parental_level_of_education group there are differences.","84a8915a":"Tukey test shows that students who's parents graduated only high school have significantly worse results than students from other group. Also students who's parents graduated some high school have different scores than ones who's parents have bachelor's or master's degree.","99a9f0f1":"From plot we can see that it is justified to count Pearson correlation.","130a6625":"In the first two plots we can easily separate two grup of observation with respect to gender. It means that in general boys had better results in math exam that in writing\/reading tests in contrast to girls. From the last plot is clear that there is no differences in scores if we compare results writing - reading tests with respect to gender.\n\nAlso distributions confirm hypothesis that female students have slightly better results in reading and writing exams than male students. The opposite tendency is seen in math exam results. Girls seem to have overall scores higher too.","08512ab6":"The race\/ethnicity belongings does not seem to have great impact on exam scores. Observations are scattered (long whiskers). Only students from group E achieve better scores than students from different groups. \n\nStudents whose parents have higher education have slightly better results. \n\nIn both cases differences with respect to gender are not big. In examined factors gender does not have an impact.\n\nThe question is if parental level of education has any significant effect on tests results is it this factor alone or concomitance with other coefficients?","7f43c827":"<h2>BASIC INSIGHT OF DATA<\/h2>","6dbfc4fb":"I made belows relation plots only to practice. Above pair plot should be enough in this case to come to the conclusion I came.","c64b4aeb":"The Q-Q plots show that blue points fit quite well the red line and it means that there is no proofs against normality in each group.","a240d8aa":"The ratios of the largest to the smallest sample standard deviation are less than 2 and it let us accept that homogeneity assumption is fulfilled.\n\nNow we can build a linear model and perform ANOVA to examine if means in every groups are equal. Since we use three-way ANOVA with interactions we test following hypothesises:\n<ol>\n    <li>There is no difference in group means at any level of the first independent variable - parental_level_of_education.<\/li>\n    <li>There is no difference in group means at any level of the second independent variable - lunch.<\/li>\n    <li>There is no difference in group means at any level of the third independent variable - test_preparation_course.<\/li>\n    <li>The effect of one independent variable does not depend on the effect of the other independent variable (a.k.a. no interaction effect)(here we examine 4 effects 1-2, 1-3, 2-3, 1-2-3). \n<\/ol>","86532fa9":"<h3>ANOVA<\/h3>\nIn order to examine what affect the results we use analyses of variance. From introductories plots we could assume that on overall scores following factors might have the greatest impact: parents' educational backgrounds, eaten lunch and preparation course. \n<h4>Assumptions<\/h4>\nBefore we use ANOVA let's check main assumptions - normality and homogeneity of variance in each group.","91070673":"<h3>SUMMARY<\/h3>\n\n<ol>\n    <li>Scores in three tests are positively correlated - students who performed well in one of the test also had good results in other tests.<\/li>\n    <li>Female students obtained better results in writting and reading test, male students performed better in math test. However girls had higher overall scores than boys.<\/li>\n    <li>Lunch eaten before exams, taking part in preparation course and higher education of srudents' parents had positive impact on students results.<\/li>\n<\/ol>","73cdf149":"As can be noticed number of scores of one exam correlate with the result of another exam. Reading score correlates stronger with writing score than math score correlates with one of both. Correlation is positive and it means that the higher score in one exam the higher in another.\n\nVisually it can be seen on belows plots.","6f4a13ba":"Students who ate lunch before exam have better results which is consistent with assumptions. There is no surprise that students who participated in test preparation course performanced better.\n","232007a9":"<h1>STUDENTS PERFORMANCE IN EXAMS - DATA ANALYSIS <\/h1>\n\nThis script is my training work. \n\nData come from <url>https:\/\/www.kaggle.com\/spscientist\/students-performance-in-exams<\/url>.\n\nI would be grateful for any feedback."}}