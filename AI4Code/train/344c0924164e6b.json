{"cell_type":{"2b394b34":"code","5c2a6576":"code","4733f17e":"code","b128b33b":"code","1cb211f1":"code","8bd2da7e":"code","b0ee2590":"code","b396ca9f":"code","e8265ada":"code","7da797c1":"code","92421159":"code","c7255c8d":"code","423e0eea":"code","c24ada4c":"code","2339f792":"code","dd9ac9c6":"code","97d87eb0":"code","e92bf78f":"code","1bff2ea5":"code","9ea293de":"code","9f8f09fe":"code","a93ed481":"code","3c7c501e":"code","125cda72":"code","374fe65f":"code","e4670a2c":"code","b1ccf912":"code","e2aa322e":"code","5703645e":"code","15c18bc0":"code","ba0b4669":"markdown"},"source":{"2b394b34":"import pandas as pd\nwater= pd.read_csv(\"..\/input\/nyc-beach-water-quality-data\/dohmh-beach-water-quality-data-1.csv\")\nwater.head(9)","5c2a6576":"water['Sample Location'].value_counts()","4733f17e":"water['Sample Location']= water['Sample Location'].replace('Rigth','Right')\nround(water['Sample Location']. value_counts()*100\/len(water),2)","b128b33b":"water.nunique()","1cb211f1":"water.info()","8bd2da7e":"water['Sample Date']=pd.to_datetime(water['Sample Date'])\nwater.info()","b0ee2590":"water.isnull().sum()*100\/len(water)","b396ca9f":"missing=water[water.isna().any(axis=1)]\nmissing.head()","e8265ada":"missing.isnull().sum()*100\/len(missing)","7da797c1":"missing.nunique()","92421159":"missing['Units or Notes'].value_counts()*100\/len(missing)","c7255c8d":"water[water['Units or Notes']=='Result below detection limit'].head()","423e0eea":"water[water['Units or Notes']=='Result below detection limit'].info()","c24ada4c":"water[water['Units or Notes']!='Result below detection limit'].head()","2339f792":"water[water['Units or Notes']!='Result below detection limit'].info()","dd9ac9c6":"water['Enterococci Results']=water['Enterococci Results'].fillna(0)\nwater.isnull().sum()*100\/len(missing)","97d87eb0":"water=water.dropna()\nwater.info()","e92bf78f":"water.nunique()","1bff2ea5":"water.head()","9ea293de":"water=water.drop(['Units or Notes'],axis=1)\nwater.head()","9f8f09fe":"#paper : https:\/\/www.environment.nsw.gov.au\/-\/media\/OEH\/Corporate-Site\/Documents\/Water\/Beaches\/state-of-beaches-2019-2020-statewide-summary-200302.pdf\nwater.loc[water['Enterococci Results'] <= 50, 'Category'] = 'open'\nwater.loc[water['Enterococci Results'] >500, 'Category'] = 'closed'\nwater.loc[(water['Enterococci Results'] >50) & (water['Enterococci Results'] <=500), 'Category'] = 'advisory'\nround(water['Category'].value_counts()*100\/len(water))","a93ed481":"water.rename(columns = {'Enterococci Results':'Enterococci Results (MPN\/100 ml)'}, inplace = True)\nwater.head()","3c7c501e":"!pip install pandas-profiling","125cda72":"from pandas_profiling import ProfileReport\nProfileReport(water, title=\"EDA Report\")","374fe65f":"!pip install pycaret","e4670a2c":"data = water.sample(frac=0.8, random_state=42)\ndata_unseen = water.drop(data.index)\ndata.reset_index(inplace=True, drop=True)\ndata_unseen.reset_index(inplace=True, drop=True)\nprint('Data for Modeling: ' + str(data.shape))","b1ccf912":"print('Unseen Data For Predictions: ' + str(data_unseen.shape))","e2aa322e":"from pycaret.classification import *","5703645e":"water= setup(data = data, target = 'Category', session_id=42,\n                  normalize = True, \n                  transformation = True, \n                  log_experiment = True,\n                  handle_unknown_categorical = True, \n                  unknown_categorical_method = 'most_frequent',\n                  remove_multicollinearity = True, #drop one of the two features that are highly correlated with each other\n                  ignore_low_variance = True,#all categorical features with statistically insignificant variances are removed from the dataset.\n                  combine_rare_levels = True,# all levels in categorical features below the threshold defined in rare_level_threshold param are combined together as a single level\n                  numeric_imputation='median',\n           ignore_features=['Sample ID'],\n            date_features=['Sample Date'],\n             high_cardinality_features =['Beach Name'],           \n           fix_imbalance = True,\n            train_size = 0.8\n          )","15c18bc0":"compare_models()","ba0b4669":"# Sample Location"}}