{"cell_type":{"6e46f80f":"code","2cac1211":"code","7d9aa557":"code","7785542c":"code","94224856":"code","dee03c58":"code","ee40a8c4":"code","234a49d0":"code","9e0b4617":"code","09b098b1":"code","dd2f3f0d":"code","ef002714":"code","81ddc299":"code","8add2f6f":"code","9329b9ab":"code","8d9c84da":"code","b6c50dc0":"code","c67dbe35":"code","4a4f5caf":"code","2debef72":"code","0c23277f":"code","664f1ec4":"code","a9168d37":"code","fc0ea607":"code","5ef89717":"code","b01be765":"code","2ed3d49b":"code","fcebda20":"code","723bb7ec":"code","97bf6c55":"code","da338b30":"code","260cf46a":"code","f3443078":"code","a8ae2e25":"markdown","861e2732":"markdown","e95c36d5":"markdown","82ed3c71":"markdown","5822735f":"markdown","7d4346fd":"markdown","253b2ef8":"markdown","06bcb868":"markdown","9ba7f9ec":"markdown","33e9d660":"markdown","daa76dc9":"markdown","d5021e5f":"markdown","892f8e3e":"markdown","832d8bb1":"markdown","c37e15aa":"markdown","6e3a7e30":"markdown","46c55716":"markdown","b2acf0c3":"markdown","67bca118":"markdown","72e86f24":"markdown","d6d5a4f2":"markdown","697451ec":"markdown","4db28451":"markdown","e9d2439a":"markdown","1af27a28":"markdown","1759626d":"markdown"},"source":{"6e46f80f":"### Import libraries\nimport pandas as pd # primary data structure library\nimport numpy as np # useful for many scientific computing in Python\nimport matplotlib as mpl \nimport matplotlib.pyplot as plt \nimport matplotlib.patches as mpatches # needed for waffle Charts\nimport matplotlib.colors as mcolors\nimport seaborn as sns\nimport plotly.express as px\nimport random\nimport math\nimport time\nimport datetime\nfrom PIL import Image # converting images into arrays\nimport matplotlib.patches as mpatches # needed for waffle Charts\nimport folium # to create maps\nfrom pylab import *\n%matplotlib inline\nimport warnings\nmpl.style.use('seaborn') #  for ggplot-like style\nwarnings.filterwarnings(\"ignore\")","2cac1211":"### Select yesterday date as report provide figures for the day before\nfrom datetime import date, timedelta\nfile_date = str((date.today() - timedelta(days = 1)).strftime('%m-%d-%Y'))\n### Select data path\ngithub_dir_path = '\/kaggle\/input\/covid19\/'\nfile_path = github_dir_path  + file_date + '.csv'\n### Import data\ndf = pd.read_csv(file_path, error_bad_lines=False)","7d9aa557":"df.head()","7785542c":"print ('dataframe dimensions:', df.shape)","94224856":"### Check if the dataframe contains NaN values\ndf.isna().any()","dee03c58":"# Countries affected\ncountries = df['Country_Region'].unique().tolist()\nprint(\"\\nTotal countries affected by virus: \",len(countries))\nprint(countries)","ee40a8c4":"### Replace NaN values by 0\ndf.fillna(0, inplace=True)\n### Remove columns\ndf_countries = df.drop(['FIPS','Lat','Long_','Admin2','Province_State','Last_Update','Combined_Key'], axis=1)\n### Rename the columns so that they make sense\ndf_countries.rename (columns = {'Country_Region':'Country'}, inplace = True)\n### Re-order Columns\ndf_countries = df_countries[['Country','Confirmed','Active','Recovered','Deaths']]\n### Group datas by Country\ndf_countries_grouped=df_countries.groupby('Country').sum()\n### Set the country name as index\ndf_countries.set_index('Country', inplace=True)","234a49d0":"# view the final dataframe\ndf_countries_grouped.head()","9e0b4617":"print ('data dimensions:', df_countries_grouped.shape)","09b098b1":"confirmed_sum = df.Confirmed.sum()\nactive_sum=df.Active.sum()\nrecovered_sum = df.Recovered.sum()\ndeath_sum = df.Deaths.sum()","dd2f3f0d":"%config InlineBackend.figure_format = 'retina'\nplt.rc('figure', dpi=300)\nplt.rc('savefig', dpi=300)\nfig_size = (12,6)\nbig_fig_size = (18,8)","ef002714":"df_tot = pd.DataFrame(columns=['Confirmed', 'Active', 'Recovered','Deaths'])\n# Append rows in Empty Dataframe by adding dictionaries\ndf_tot = df_tot.append({'Confirmed': confirmed_sum, 'Active': active_sum, 'Recovered': recovered_sum,'Deaths': death_sum}, ignore_index=True)","81ddc299":"df_tot.plot(kind='barh', figsize=(14, 6),stacked=True, \n             alpha=0.5, \n            color=['blue', 'orange', 'green', 'red']) \nplt.legend(['Number of Confirmed Cases= '+ str(confirmed_sum), 'Number of Active Cases= '+ str(active_sum), 'Number of Recovery Cases='+ str(recovered_sum), 'Number of Death Cases='+ str(death_sum)], loc='upper right', fontsize=10)\nplt.show()","8add2f6f":"fig = px.treemap(df.sort_values(by='Confirmed', ascending=False ).reset_index(drop=True), \n                 path=[\"Country_Region\"], values=\"Confirmed\", \n                 title='Number of Confirmed Cases',color='Confirmed')\nfig.show()","9329b9ab":"fig = px.treemap(df.sort_values(by='Active', ascending=False).reset_index(drop=True), \n                 path=[\"Country_Region\"], values=\"Active\", \n                 title='Number of Active Cases',color='Active')\nfig.show()","8d9c84da":"fig = px.treemap(df.sort_values(by='Recovered', ascending=False).reset_index(drop=True), \n                 path=[\"Country_Region\"], values=\"Recovered\", \n                 title='Number of Recovered Cases',color='Recovered')\nfig.show()","b6c50dc0":"fig = px.treemap(df.sort_values(by='Deaths', ascending=False).reset_index(drop=True), \n                 path=[\"Country_Region\"], values=\"Deaths\", \n                 title='Number of Deaths Cases',color='Deaths')\nfig.show()","c67dbe35":"df_countries_grouped = df_countries_grouped.sort_values('Confirmed', ascending=False)\ndf_countries_grouped.head(10).style.background_gradient(cmap='Blues')","4a4f5caf":"df_countries_grouped = df_countries_grouped.sort_values('Active', ascending=False)\ndf_countries_grouped.head(10).style.background_gradient(cmap='Blues')","2debef72":"df_countries_grouped = df_countries_grouped.sort_values('Recovered', ascending=False)\ndf_countries_grouped.head(10).style.background_gradient(cmap='Blues')","0c23277f":"df_countries_grouped = df_countries_grouped.sort_values('Deaths', ascending=False)\ndf_countries_grouped.head(10).style.background_gradient(cmap='Blues')","664f1ec4":"df_countries_grouped = df_countries_grouped.sort_values(['Deaths','Recovered','Confirmed'], ascending=False)\ndf_countries_grouped.tail(10).style.background_gradient(cmap='Blues')","a9168d37":"df_countries_grouped = df_countries_grouped.sort_values(['Recovered','Deaths'], ascending=True)\ndf_countries_grouped.head(10).style.background_gradient(cmap='Blues')","fc0ea607":"### Sort the top countries by Confirmed cases\ndf_countries_grouped.sort_values(['Confirmed'], ascending=False, axis=0, inplace=True)\n# get the top entries\ndf_countries_top = df_countries_grouped.head(10)\n### Show Unstacked Histogram\ndf_countries_top.plot(kind='bar', figsize=(18, 9), stacked=False, \n             alpha=0.5,\n            color=['blue', 'orange', 'green', 'red'])\nplt.title('Number of Cases by Country for the 10 top Countries')\nplt.ylabel('Number of Cases')\nplt.xlabel('Countries')\nplt.show()","5ef89717":"my_pal = {'Confirmed': \"b\",'Active': \"y\", 'Recovered': \"g\", 'Deaths':\"r\"}\nax = sns.boxplot(data=df_countries_grouped, orient=\"h\")\nax = sns.swarmplot(data=df_countries_grouped, orient=\"h\", palette=my_pal)","b01be765":"ax = plt.subplots(figsize=(18, 12))\nsns.heatmap(df_countries.corr(), annot=True, linewidths=.5, cmap=\"Blues\")","2ed3d49b":"sns.pairplot(df_countries_grouped[['Confirmed','Deaths','Recovered','Active']], diag_kind = 'kde', \n             plot_kws = {'alpha': 0.6, 's': 80, 'edgecolor': 'k'},size = 4);","fcebda20":"sns.set_style(\"darkgrid\")\nax = plt.subplots(figsize=(18, 12))\nsns.heatmap(df_countries_top)","723bb7ec":"df_countries_top.plot(kind='area', figsize=(18, 9),stacked=False, \n            color=['blue', 'orange', 'green', 'red']) \nplt.show()","97bf6c55":"df_countries_top = df_countries_top.reset_index()","da338b30":"sns.pairplot(df_countries_top, \n             vars = ['Confirmed', 'Active', 'Recovered', 'Deaths'], \n             hue = 'Country', diag_kind = 'kde', palette=\"husl\",\n             plot_kws = {'alpha': 0.6, 's': 80, 'edgecolor': 'k'},\n             size = 4);","260cf46a":"color = dict(boxes='Blue', whiskers='Orange',medians='Green', caps='Red')\ndf_countries_top.plot(kind ='box',notch= False,\n          color=color, sym='r+', vert=False ,patch_artist=False,\n          figsize=(18, 9))\nplt.title('')\nplt.show()","f3443078":"df_countries_top.plot(kind='hist', figsize=(18, 9),stacked=True, \n             alpha=0.5,\n            color=['blue', 'orange', 'green', 'red']) \nplt.show()","a8ae2e25":"## Countries with most Confirmed cases","861e2732":"# Pair plot","e95c36d5":"# Visualizing Data","82ed3c71":"# Box Plot","5822735f":"## Countries with most Deaths cases","7d4346fd":"## Countries with most Recovered cases","253b2ef8":"# Area Plot<a id=\"6\"><\/a>\n\nvisualize the top countries as a cumulative plot, also knows as a **Stacked Line Plot** \n","06bcb868":"# plot Total Cases","9ba7f9ec":"view the dataframe","33e9d660":"# Downloading Data ","daa76dc9":"## Countries with less Recovered cases","d5021e5f":"# heatmap top countries","892f8e3e":"# Box Plot <a id=\"8\"><\/a>\n\nway of statistically representing the *distribution* of the data through five main dimensions: \n\n- **Minimun:** Smallest number in the dataset.\n- **First quartile:** Middle number between the `minimum` and the `median`.\n- **Second quartile (Median):** Middle number of the (sorted) dataset.\n- **Third quartile:** Middle number between `median` and `maximum`.\n- **Maximum:** Highest number in the dataset.","832d8bb1":"# Histogram<a id=\"8\"><\/a>\n\nhistogram representing the *frequency* distribution of numeric dataset","c37e15aa":"This data is collected from repository for the 2019 Novel Coronavirus Visual Dashboard operated by the Johns Hopkins University Center for Systems Science and Engineering (JHU CSSE).https:\/\/github.com\/CSSEGISandData\/COVID-19","6e3a7e30":"# Multicollinearity top countries Pairplot \n\nlinear relationships between independent variables\n","46c55716":"# Unstacked Histogram","b2acf0c3":"dataframe dimensions","67bca118":"# Treemap charts<a id=\"6\"><\/a>\n\nvisualize hierarchical data using nested rectangles. Click on one sector to zoom in\/out, which also displays a pathbar in the upper-left corner of your treemap. To zoom out you can use the path bar as well.\n","72e86f24":"# Exploring Data","d6d5a4f2":"plotting configurations","697451ec":"Creating Dataframe with Totals","4db28451":"## Countries with most Active cases","e9d2439a":"# heatmap Correlation ","1af27a28":"## Countries with less Deaths cases","1759626d":"# Prepping Data "}}