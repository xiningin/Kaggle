{"cell_type":{"5deaa0c0":"code","a651c354":"code","e700ccf3":"code","425d632d":"code","bf5394a2":"code","e412334e":"code","c9fa4cdf":"code","94944756":"code","f39e859a":"code","cb5d0739":"code","44aa84ec":"code","b33fbd1a":"code","91700c9f":"code","92f48512":"code","ddef5b8f":"code","fa01c0d9":"code","34d84086":"code","441f1ca4":"code","caa20075":"code","e500da00":"code","3cf2a552":"code","5b315452":"code","c639cb87":"code","209c73e0":"code","bbfcbd1b":"code","3482cdb5":"code","6bbb5f76":"code","f09f525d":"code","2f6ac8f1":"code","2e1af331":"code","6c87224f":"code","a3213218":"code","519fb2a3":"code","1ca422b2":"code","bf9ac110":"code","77e837f9":"code","ce3c5a9e":"code","f376b0ba":"code","850672f7":"code","38189ee8":"code","f107d100":"code","53903d0b":"code","b2e475dd":"code","4940d096":"code","a0d7d650":"code","5b7fe5ee":"code","4056d71a":"code","0361e169":"code","e0c3f89e":"code","b2c5857b":"code","8aa52d05":"code","da273653":"code","ca4b7810":"code","e9f898c9":"code","7c6ea12d":"code","128d6acf":"code","a3e62a63":"code","fa28c1fe":"code","e48d2d9e":"code","183ded4f":"code","b026e9e9":"code","b2b2f327":"code","56b350aa":"code","173f18d0":"code","43f052e1":"code","c89c286c":"code","1314a69a":"code","64963baf":"code","3d7c0e06":"code","2b6ea618":"code","a1f778a0":"code","410acd47":"code","b6460dc0":"code","11c73a48":"code","e1bdd4dd":"code","77b91c16":"code","3017db1c":"code","bc21ca8a":"code","8b06ea18":"code","d8196e65":"code","7796317d":"code","43588143":"code","926365bb":"code","ce769be7":"code","0d040da1":"markdown","4ca6038c":"markdown","acbc94b9":"markdown","1edab811":"markdown","25c4ea6a":"markdown","532852c4":"markdown","89f6745a":"markdown","8ec56386":"markdown","d9752195":"markdown","d0848dc9":"markdown","984ff6e5":"markdown","af3f58db":"markdown","c4aea255":"markdown","ce9a7d68":"markdown","2309af16":"markdown","37649e49":"markdown","ede00fae":"markdown","2a4f49a6":"markdown","31952661":"markdown","6c2c953a":"markdown","7b5a650b":"markdown","45f01d53":"markdown","9a8fbd79":"markdown","6243aff7":"markdown","f688d356":"markdown","1d6eaa26":"markdown","502e08dd":"markdown","643b01a0":"markdown","5380881b":"markdown","b1e4f3a6":"markdown","fff4a2b2":"markdown","d3f3f1cd":"markdown","15a78bcc":"markdown","d5e15366":"markdown","7dea128f":"markdown","8b1dbd60":"markdown","c35e52eb":"markdown","f4270686":"markdown","26f99188":"markdown","5dda050f":"markdown","aaa16aef":"markdown","790f6c88":"markdown","1c5b098e":"markdown","db889113":"markdown","48eaebc6":"markdown","08434e02":"markdown","7615a7be":"markdown","a66cbdf5":"markdown","cec6e359":"markdown","d91c9d1a":"markdown","be972df4":"markdown","3daa3515":"markdown","6a7d0249":"markdown","a0a586dd":"markdown","7a617b0d":"markdown","772e79a8":"markdown","e97ea3a9":"markdown","dfc2dcde":"markdown","c27d0bd5":"markdown","1a770b0b":"markdown","404b987e":"markdown","ad8e22cd":"markdown","b4d9b7d1":"markdown","9cef1557":"markdown"},"source":{"5deaa0c0":"# Importing the required libraries\n\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\npd.set_option('display.max_rows',200)\n\n\n# Filtering out the warnings\n\nimport warnings\nwarnings.filterwarnings('ignore')","a651c354":"#Loading datasets for our analysis\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","e700ccf3":"#Reading the \"application_data.csv\" into the dataframe\nappdf = pd.read_csv('\/kaggle\/input\/credit-analysis\/current_app.csv')\nappdf.head()","425d632d":"#Checking for the shape of the dataframe\nappdf.shape","bf5394a2":"#Evaluating the amount of null values in the Application_data file across the 122 columns\n\nappdf.isnull().sum()","e412334e":"#Evaluation the percentage of null values in each column of Application_data\n\nround(((appdf.isnull().sum() \/ len(appdf))*100),2)","c9fa4cdf":"#Dropping columns with null values greater than equal to 50%\n\nappdf = appdf.dropna(thresh = (len(appdf)*0.50), axis=1)\nappdf.head()","94944756":"#Checking the datatypes of the columns in the dataframe\nappdf.info()","f39e859a":"#Changing data type to integer & adding the argument on errors since columns may contain NAs\n\nappdf['DAYS_REGISTRATION'] = appdf['DAYS_REGISTRATION'].astype(int, errors='ignore')\nappdf['CNT_FAM_MEMBERS'] = appdf['CNT_FAM_MEMBERS'].astype(int, errors='ignore')\nappdf['OBS_30_CNT_SOCIAL_CIRCLE'] = appdf['OBS_30_CNT_SOCIAL_CIRCLE'].astype(int, errors='ignore')\nappdf['DEF_30_CNT_SOCIAL_CIRCLE'] = appdf['DEF_30_CNT_SOCIAL_CIRCLE'].astype(int, errors='ignore')\nappdf['DAYS_LAST_PHONE_CHANGE'] = appdf['DAYS_LAST_PHONE_CHANGE'].astype(int, errors='ignore')\nappdf['AMT_REQ_CREDIT_BUREAU_HOUR'] = appdf['AMT_REQ_CREDIT_BUREAU_HOUR'].astype(int, errors='ignore')\n\n#changing column values to positive integers & converting age in days to 'age in years'\nappdf['DAYS_BIRTH'] = abs(appdf['DAYS_BIRTH'])\/\/365.25\n","cb5d0739":"def appdf_boxplot_outlier(var_cont):\n    \n    plt.figure(figsize=(12,6))\n    \n    \n    sns.boxplot(y=var_cont, data=appdf, palette='Spectral')\n    plt.title('Distribution of '+ '%s' %var_cont, weight='bold', fontsize=10)\n    plt.xlabel(var_cont)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases')\n    \n    plt.show()","44aa84ec":"#Count of Family Members\nappdf_boxplot_outlier('CNT_FAM_MEMBERS')","b33fbd1a":"appdf['CNT_FAM_MEMBERS'].describe()","91700c9f":"#Credit Amount\nappdf_boxplot_outlier('AMT_CREDIT')","92f48512":"appdf['AMT_CREDIT'].describe()","ddef5b8f":"#Checking for percenntage of null values\nprint(round(100*(appdf.isnull().sum()\/len(appdf)),2))","fa01c0d9":"#Checking for data imbalance for the Target Column\n\nDefaulter = round((appdf['TARGET'].value_counts()[1]\/len(appdf)),2)\nNon_Defaulter = round((appdf['TARGET'].value_counts()[0]\/len(appdf)),2)\nexplode= (0.1,0.1)\nclient = [Defaulter, Non_Defaulter]\nlabels = 'Defaulter', 'Non-Defaulter'\nplt.pie(client, labels=labels, explode=explode, autopct='%1.1f%%', startangle=90)\n\nplt.show()","34d84086":"#splitting the dataframe into two data sets\n\nappdf0 = appdf[appdf.TARGET==0] #dataset for non-defaulter clients\nappdf1 = appdf[appdf.TARGET==1] #dataset for non-defaulter clients\n","441f1ca4":"def appdf_plot_unnivariate_cat(var):\n    \n    plt.figure(figsize=(16,6))\n    \n    plt.subplot(1, 2, 1)\n    sns.countplot(var, data=appdf0, palette= 'Spectral', order= appdf0[var].value_counts().index)\n    #Order keyword is used above to have the order of the values remain the same in both the subplots\n    plt.title('Distribution of '+ '%s' %var +' for Non-Defaulters', weight='bold', fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases for non-defaulter clients')\n    \n    plt.subplot(1, 2, 2)\n    sns.countplot(var, data=appdf1, palette='Spectral', order= appdf1[var].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var +' for Defaulters', weight='bold',fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases for defaulter clients')\n    \n    plt.show()","caa20075":"appdf_plot_unnivariate_cat('NAME_CONTRACT_TYPE')","e500da00":"appdf_plot_unnivariate_cat('CODE_GENDER')","3cf2a552":"appdf_plot_unnivariate_cat('NAME_FAMILY_STATUS')","5b315452":"appdf_plot_unnivariate_cat('NAME_HOUSING_TYPE')","c639cb87":"appdf_plot_unnivariate_cat('NAME_EDUCATION_TYPE')","209c73e0":"def appdf_plot_unnivariate_cont(var):\n    \n    plt.figure(figsize=(16,6))\n    \n    plt.subplot(1, 2, 1)\n    sns.distplot(appdf0[var],color='tab:orange')\n    plt.title('Distribution of '+ '%s' %var +' for Non-Defaulters', weight='bold', fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Normal distribution for non-defaulter clients')\n    \n    plt.subplot(1, 2, 2)\n    sns.distplot(appdf1[var],color='tab:orange')\n    plt.title('Distribution of '+ '%s' %var +' for Defaulters', weight='bold',fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Normal distribution for defaulter clients')\n    \n    plt.show()","bbfcbd1b":"appdf_plot_unnivariate_cont('CNT_CHILDREN')","3482cdb5":"appdf_plot_unnivariate_cont('AMT_INCOME_TOTAL')","6bbb5f76":"appdf_plot_unnivariate_cont('AMT_CREDIT')","f09f525d":"appdf_plot_unnivariate_cont('AMT_ANNUITY')","2f6ac8f1":"appdf_plot_unnivariate_cont('DAYS_BIRTH')","2e1af331":"def appdf_plot_bivariate_cat_cat(var,var_hue):\n    \n    plt.figure(figsize=(16,6))\n    \n    plt.subplot(1, 2, 1)\n    sns.countplot(var,hue=var_hue, data=appdf0, palette= 'Spectral', order= appdf0[var].value_counts().index, hue_order=appdf0[var_hue].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var +' for Non-Defaulters', weight='bold', fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases for non-defaulter clients')\n    \n    plt.subplot(1, 2, 2)\n    sns.countplot(var, hue=var_hue, data=appdf1, palette='Spectral', order= appdf1[var].value_counts().index, hue_order=appdf1[var_hue].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var +' for Defaulters', weight='bold',fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases for defaulter clients')\n    \n    plt.show()","6c87224f":"appdf_plot_bivariate_cat_cat('NAME_FAMILY_STATUS','NAME_EDUCATION_TYPE')","a3213218":"appdf_plot_bivariate_cat_cat('NAME_HOUSING_TYPE','NAME_FAMILY_STATUS')","519fb2a3":"appdf_plot_bivariate_cat_cat('NAME_EDUCATION_TYPE','CODE_GENDER')","1ca422b2":"appdf_plot_bivariate_cat_cat('NAME_HOUSING_TYPE','NAME_EDUCATION_TYPE')","bf9ac110":"appdf_plot_bivariate_cat_cat('NAME_FAMILY_STATUS','CODE_GENDER')","77e837f9":"def appdf_plot_bivariate_cat_cont(var_cat,var_cont):\n    \n    plt.figure(figsize=(16,6))\n    \n    plt.subplot(1, 2, 1)\n    sns.boxplot(x=var_cat,y=var_cont, data=appdf0, palette='Spectral', order= appdf0[var_cat].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var_cat +' for Non-Defaulters', weight='bold', fontsize=10)\n    plt.xlabel(var_cat)\n    plt.xticks(rotation=90)\n    plt.ylabel('%s' %var_cont+' for defaulter clients')\n    \n    plt.subplot(1, 2, 2)\n    sns.boxplot(x=var_cat, y=var_cont, data=appdf1, palette='Spectral', order= appdf1[var_cat].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var_cat +' for Defaulters', weight='bold',fontsize=10)\n    plt.xlabel(var_cat)\n    plt.xticks(rotation=90)\n    plt.ylabel('%s' %var_cont+' for defaulter clients')\n    \n    plt.show()","ce3c5a9e":"appdf_plot_bivariate_cat_cont('NAME_EDUCATION_TYPE','AMT_INCOME_TOTAL')","f376b0ba":"appdf_plot_bivariate_cat_cont('NAME_EDUCATION_TYPE','AMT_CREDIT')","850672f7":"appdf_plot_bivariate_cat_cont('CODE_GENDER','AMT_CREDIT')","38189ee8":"appdf_plot_bivariate_cat_cont('NAME_HOUSING_TYPE','CNT_CHILDREN')","f107d100":"appdf_plot_bivariate_cat_cont('NAME_EDUCATION_TYPE','CNT_CHILDREN')","53903d0b":"def appdf_plot_bivariate_cont_cont(var_cont1,var_cont2):\n    \n    plt.figure(figsize=(18,6))\n    \n    plt.subplot(1, 2, 1)\n    sns.scatterplot(x=var_cont1,y=var_cont2, data=appdf0, palette='Spectral')\n    plt.title('Distribution of '+ '%s' %var_cont1 +' for Non-Defaulters', weight='bold', fontsize=10)\n   # plt.xlabel(var_cont1)\n    plt.xticks(rotation=90)\n    plt.ylabel('Distribution of '+ '%s' %var_cont2)\n    #Below steps are to fing the IQR range to ignore the Outliers\n    #For X-Axis\n    xIQR=1.5*(appdf0[var_cont1].quantile(.75)-appdf0[var_cont1].quantile(.25))\n    xlowerlim=appdf0[var_cont1].quantile(.25)-xIQR\n    xupperlim=appdf0[var_cont1].quantile(.75)+xIQR\n    #For Y-Axis\n    yIQR=1.5*(appdf0[var_cont2].quantile(.75)-appdf0[var_cont2].quantile(.25))\n    ylowerlim=appdf0[var_cont2].quantile(.25)-yIQR\n    yupperlim=appdf0[var_cont2].quantile(.75)+yIQR\n    #Applying the limits on the Axis range\n    plt.ylim(ylowerlim,yupperlim)\n    plt.xlim(xlowerlim,xupperlim)\n    \n    #print(xlowerlim,xupperlim)\n    \n    plt.subplot(1, 2, 2)\n    sns.scatterplot(x=var_cont1,y=var_cont2, data=appdf1, palette='Spectral')\n    plt.title('Distribution of '+ '%s' %var_cont1 +' for Defaulters', weight='bold',fontsize=10)\n    #plt.xlabel(var_cont1)\n    plt.xticks(rotation=90)\n    plt.ylabel('Distribution of '+ '%s' %var_cont2)\n    #Below steps are to fing the IQR range to ignore the Outliers\n    #For X-Axis\n    xIQR=1.5*(appdf1[var_cont1].quantile(.75)-appdf1[var_cont1].quantile(.25))\n    xlowerlim=appdf1[var_cont1].quantile(.25)-xIQR\n    xupperlim=appdf1[var_cont1].quantile(.75)+xIQR\n    #For Y-Axis\n    yIQR=1.5*(appdf1[var_cont2].quantile(.75)-appdf1[var_cont2].quantile(.25))\n    ylowerlim=appdf1[var_cont2].quantile(.25)-yIQR\n    yupperlim=appdf1[var_cont2].quantile(.75)+yIQR\n    \n    #print(xlowerlim,xupperlim)\n    #Applying the limits on the Axis range\n    plt.ylim(ylowerlim,yupperlim)\n    plt.xlim(xlowerlim,xupperlim)\n    \n    plt.show()","b2e475dd":"appdf_plot_bivariate_cont_cont('AMT_CREDIT','DAYS_BIRTH')","4940d096":"appdf_plot_bivariate_cont_cont('AMT_INCOME_TOTAL','AMT_CREDIT')","a0d7d650":"appdf_plot_bivariate_cont_cont('AMT_INCOME_TOTAL','AMT_ANNUITY')","5b7fe5ee":"appdf_plot_bivariate_cont_cont('AMT_INCOME_TOTAL','DAYS_BIRTH')","4056d71a":"appdf_plot_bivariate_cont_cont('DAYS_BIRTH','AMT_ANNUITY')","0361e169":"def correlation_heatmap(var):\n    plt.figure(figsize=(12,8))\n    cor = var.corr()\n\n    sns.heatmap(cor,annot=True,linewidths=.5,cbar_kws={\"orientation\": \"horizontal\"},cmap=\"Reds\")\n    plt.show()\n    #Steps to obtain the top correlation.\n    indices = np.where(cor > -1)\n    indices = [(cor.index[x], cor.columns[y],abs(cor.iloc[x,y])) for x, y in zip(*indices) if x != y and x < y]\n    a=sorted(indices, key=lambda x: x[2],reverse=True)\n    print(\"Top Ten Correlations are:\")\n    for i in range(0,10):\n        print('%d. '%(i+1)+a[i][0]+' and '+a[i][1])","e0c3f89e":"correlation_heatmap(appdf0[['CNT_CHILDREN','AMT_INCOME_TOTAL','AMT_CREDIT','AMT_ANNUITY','DAYS_BIRTH','DAYS_EMPLOYED','AMT_GOODS_PRICE']])","b2c5857b":"correlation_heatmap(appdf1[['CNT_CHILDREN','AMT_INCOME_TOTAL','AMT_CREDIT','AMT_ANNUITY','DAYS_BIRTH','DAYS_EMPLOYED','AMT_GOODS_PRICE']])","8aa52d05":"prevappdf = pd.read_csv('\/kaggle\/input\/credit-analysis\/previous_app.csv')\nprevappdf.head()\n","da273653":"#Checking the % of null values across different ccolumns\n\nround(((prevappdf.isnull().sum() \/ len(prevappdf))*100),2)","ca4b7810":"#The following code can be used to drop the columns with null values:\n\n#prevappdf = prevappdf.dropna(thresh=len(prevappdf)*0.50,axis=1)\n","e9f898c9":"def prevappdf_plot_unnivariate_cat(var):\n    \n    plt.figure(figsize=(12,6))\n    \n    sns.countplot(var, data=prevappdf, palette= 'Spectral', order= prevappdf[var].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var, weight='bold', fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases for clients')\n\n    plt.show()","7c6ea12d":"prevappdf_plot_unnivariate_cat('NAME_CONTRACT_TYPE')","128d6acf":"prevappdf_plot_unnivariate_cat('WEEKDAY_APPR_PROCESS_START')","a3e62a63":"prevappdf_plot_unnivariate_cat('NAME_CASH_LOAN_PURPOSE')","fa28c1fe":"prevappdf_plot_unnivariate_cat('NAME_CONTRACT_STATUS')","e48d2d9e":"prevappdf_plot_unnivariate_cat('NAME_PAYMENT_TYPE')","183ded4f":"def prevappdf_plot_unnivariate_cont(var):\n    \n    plt.figure(figsize=(12,6))\n    \n    sns.distplot(prevappdf[var],color='tab:orange')\n    plt.title('Distribution of '+ '%s' %var, weight='bold', fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Normal distribution for clients')\n    \n    plt.show()","b026e9e9":"prevappdf_plot_unnivariate_cont('AMT_APPLICATION')","b2b2f327":"prevappdf_plot_unnivariate_cont('AMT_CREDIT')","56b350aa":"prevappdf_plot_unnivariate_cont('AMT_DOWN_PAYMENT')","173f18d0":"prevappdf_plot_unnivariate_cont('AMT_ANNUITY')","43f052e1":"prevappdf_plot_unnivariate_cont('RATE_INTEREST_PRIMARY')","c89c286c":"def prevappdf_plot_bivariate_cat_cat(var,var_hue):\n    \n    plt.figure(figsize=(12,6))\n    \n    \n    sns.countplot(var,hue=var_hue, data=prevappdf, palette= 'Spectral', order= prevappdf[var].value_counts().index, hue_order=prevappdf[var_hue].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var , weight='bold', fontsize=10)\n    plt.xlabel(var)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of cases for clients')\n    \n    plt.show()","1314a69a":"prevappdf_plot_bivariate_cat_cat('NAME_CONTRACT_TYPE','NAME_CONTRACT_STATUS')","64963baf":"prevappdf_plot_bivariate_cat_cat('WEEKDAY_APPR_PROCESS_START','CODE_REJECT_REASON')","3d7c0e06":"prevappdf_plot_bivariate_cat_cat('WEEKDAY_APPR_PROCESS_START','NAME_CONTRACT_STATUS')","2b6ea618":"prevappdf_plot_bivariate_cat_cat('NAME_PAYMENT_TYPE','NAME_CONTRACT_STATUS')","a1f778a0":"prevappdf_plot_bivariate_cat_cat('NAME_CONTRACT_TYPE','NAME_PAYMENT_TYPE')","410acd47":"def prevappdf_plot_bivariate_cat_cont(var_cat,var_cont):\n    \n    plt.figure(figsize=(12,6))\n    \n    sns.boxplot(x=var_cat,y=var_cont, data=prevappdf, palette='Spectral', order= prevappdf[var_cat].value_counts().index)\n    plt.title('Distribution of '+ '%s' %var_cat, weight='bold', fontsize=10)\n    plt.xlabel(var_cat)\n    plt.xticks(rotation=90)\n    plt.ylabel('%s' %var_cont+' for defaulter clients')\n    plt.show()","b6460dc0":"prevappdf_plot_bivariate_cat_cont('NAME_CONTRACT_TYPE','AMT_APPLICATION')","11c73a48":"prevappdf_plot_bivariate_cat_cont('WEEKDAY_APPR_PROCESS_START','RATE_INTEREST_PRIMARY')","e1bdd4dd":"prevappdf_plot_bivariate_cat_cont('NAME_PAYMENT_TYPE','AMT_CREDIT')","77b91c16":"prevappdf_plot_bivariate_cat_cont('NAME_CONTRACT_STATUS','AMT_APPLICATION')","3017db1c":"prevappdf_plot_bivariate_cat_cont('NAME_CONTRACT_STATUS','AMT_CREDIT')","bc21ca8a":"def prevappdf_plot_bivariate_cont_cont(var_cont1,var_cont2):\n    \n    plt.figure(figsize=(12,6))\n    \n    plt.subplot(1, 2, 1)\n    sns.scatterplot(x=var_cont1,y=var_cont2, data=prevappdf, palette='Spectral')\n    plt.title('Distribution of '+ '%s' %var_cont1, weight='bold', fontsize=10)\n    #plt.xlabel(var_cont1)\n    plt.xticks(rotation=90)\n    plt.ylabel('Distribution of '+ '%s' %var_cont2)\n    \n    xIQR=1.5*(prevappdf[var_cont1].quantile(.75)-prevappdf[var_cont1].quantile(.25))\n    xlowerlim=prevappdf[var_cont1].quantile(.25)-xIQR\n    xupperlim=prevappdf[var_cont1].quantile(.75)+xIQR\n    \n    yIQR=1.5*(prevappdf[var_cont2].quantile(.75)-prevappdf[var_cont2].quantile(.25))\n    ylowerlim=prevappdf[var_cont2].quantile(.25)-yIQR\n    yupperlim=prevappdf[var_cont2].quantile(.75)+yIQR\n    #Here the outliers are not ignored as they give a sense of trend to the plot\n    #plt.ylim(ylowerlim,yupperlim)\n    #plt.xlim(xlowerlim,xupperlim)\n    plt.show()","8b06ea18":"prevappdf_plot_bivariate_cont_cont('AMT_APPLICATION','AMT_CREDIT')","d8196e65":"prevappdf_plot_bivariate_cont_cont('AMT_APPLICATION','RATE_INTEREST_PRIMARY')","7796317d":"prevappdf_plot_bivariate_cont_cont('AMT_CREDIT','RATE_INTEREST_PRIMARY')","43588143":"prevappdf_plot_bivariate_cont_cont('AMT_APPLICATION','AMT_ANNUITY')","926365bb":"prevappdf_plot_bivariate_cont_cont('AMT_CREDIT','AMT_ANNUITY')","ce769be7":"correlation_heatmap(prevappdf[['AMT_APPLICATION','AMT_CREDIT','AMT_ANNUITY','RATE_INTEREST_PRIMARY','CNT_PAYMENT']])","0d040da1":"**Inference:** The amount applied for in the refused bin usually higher than those of consumer or revolving loans.","4ca6038c":"### <u> Comments:<\/u>\n- Let us know check for data imbalance for Target Column to understand how the application data is distributed for defaulters[Target = 1]  & non-defaulters[Target = 0]","acbc94b9":"**Inference**: Both Men and Women have the same anount of credit.","1edab811":"**Inference:** Loans are pre dominantly paid by the customers via the bank","25c4ea6a":"**Inference:** Maximum nuber of people who take loans are married and live in the house or appartment","532852c4":"### <u>For Non Defaulters<\/u>","89f6745a":"**Inference:** People living in apartments or houses that they own are more likely to take loans. This is most likely because they own a house that they can keep as a mortgage to take the loan. Above all, defaulters in this category are more","8ec56386":"## <u>Bivariate Categorical-Categorical<\/u>\n\n#### Following plots were plotted:\n- Family Status VS Education\n- Housing Type VS Family Status\n- Education VS Gender\n- Housing Type VS Education\n- Housing Type VS Gender","d9752195":"## <u>Univariate Categorical Features<\/u>\n\n#### Following plots were plotted:\n- Contract Type\n- Gender\n- Family Status\n- Housing Type\n- Education Type","d0848dc9":"## <u> Steps to Analysis <\/u>\n\n### Working on Application Data file & Previous Data file\n1. Understanding the  dataset\n\n2. Data Cleaning (Null Value treatment, Reporting Outliers, Normalize data type for columns)\n\n3. Univariate  Analysis\n\n4. Bivariate Analysis\n\n5. Correlation for Key Attributes\n\n\n#### Reporting Conclusions based on the Analysis for Application & Previous Data file\n\n*Comments\/Inferences will be reported at required instances throughout the notebook.*","984ff6e5":"**Inference:** The trend seems to be the smae on all days. Sunday has less number of cases","af3f58db":"**Inference:** No inference could be made.","c4aea255":"**Innference:** The Range is 0 to 2 for the Count of children however the outliers in the non defaulters are higher than that of the defaulters.","ce9a7d68":"\n***Hope you found this helpful! Do let me know in the comments what could have been improved or in case you have any doubts!***","2309af16":"**Inference:** Even though more women default than men, the percentage of women who default against the total number of women who have taken the loan is lesser compared to the percentage of men who have defaulted compared to the total number of men who have taken the loan.","37649e49":"### <u> Reporting Outliers for Continuous Variables:<\/u>","ede00fae":"**Inference:** People opt more for cash loans over revolving loans. Further, the defaulter clients are less for revolving loans as compared to non-deafulters.","2a4f49a6":"## <u>Correlation (Application Dataset)<\/u>","31952661":"**Inference:** The amount applied for in cash loans are usually higher than those of consumer or revolving loans.","6c2c953a":"**Inference:** The trend seems to be siilar in both cases.","7b5a650b":"**Inference:** People pursuing Secondary \/secondary special studies take more loans and defaulter cases are also higher with these category of people","45f01d53":"### Background\nConsider you are a Data Analyst with a private bank or a loan distribution firm. Your organization receives many applications in a given day. In order to process the applications, you sometimes miss out on accepting applications from people who are able to pay loans in time and end up sanctioning loans to those who later turn out to be defaulters.\n\n### Datasets\nYou are now provided with two datasets:\n> 1. Current_app: This file gives you information on the existing loan applications. Whether or not clients have payment difficulties\n> 2. Previous_app: This file contains information on the previous loan applications with status details of the previous applications being Approved, Cancelled, Refused or Unused offer.\n\n***Exploratory Data Analysis is really fun!*** You get to select how to approach the problem with the defined objectives. Here in this analysis, you are required to identify the loan application patterns and recommend the bank\/firm on how they can build their loan portfolios and avoid giving loans to defaulters. You have to recommend ways in which the bank\/firm can maximize their loan sanction applications to the clients who can repay the installments. This can be really tricky since there could be new clients with no credit history and can take advantage of the bank and turn out to be defaulters in the future.\n\n**Let's explore the Analysis & approach that I have considered here. May you have comments or doubts, feel free to add comments!**","9a8fbd79":"**Inference:** Married women take the most number of loans. And even though in general women take more loans than men, single men default more than single women.","6243aff7":"**Inferene:** The loans Approved are Predominantly paid thru the bank.","f688d356":"## <u>Bivariate Analysis Categorical-Continuous<\/u>\n#### Following are the variables analysed:\n- Contract Type VS Amount Application\n- Weekday VS Interest Rate\n- Payment Type VS Credit Amount\n- Contract Status VS Amount Application\n- Contract Status VS Credit Amount","1d6eaa26":"**Inference:**","502e08dd":"**Inference:** The trend seems to be similar for both the cases.","643b01a0":"**Inference:** The majority of the loans approved are Consumer Loans.","5380881b":"**Inference:** The trend seems to be the smae on all days. Sunday has less number of cases","b1e4f3a6":"## <u>Bivariate Analysis Continuous-Continuous<\/u>\n#### Following are the variables analysed:\n- Amount Application VS Credit Amount\n- Amount Application VS Interest Rate\n- Credit Amount VS Interest Rate\n- Amount Application VS Annuity Amount\n- Credit Amount VS Annuity Amount","fff4a2b2":"**Inference:** The overall mean for the Credit Amount is higher for people with Academic degree.","d3f3f1cd":"**Inference:** No inference made.","15a78bcc":"## <u>Univariate Categorical Features<\/u>\n#### Following are the variables analysed:\n- Contract Type\n- Process Start Day\n- Loan Purpose\n- Contract Status\n- Payment Type","d5e15366":"## <u>Bivariate Continuous-Continuous<\/u>\n#### Following Variables were plotted:\n- Credit Amount VS Age\n- Income VS Credit Amount\n- Income VS Annuity\n- Income VS Age\n- Age VS Annuity","7dea128f":"## <u>Previous Application Dataset <\/u>","8b1dbd60":"## <u>Bivariate Analysis Categorical-Categorical<\/u>\n#### Following are the variables analysed:\n- Contract Type VS Contract Status\n- Weekday VS Rejection Reason\n- Weekday VS Contract Status\n- Payment Type VS Contract Status\n- Contract Type VS Payment Type","c35e52eb":"## <u> Recommendations to the Bank <\/u>\n    \n1. Chances for single males who apply for loan applications turning out to be defaulters as compared with single females is higher. We recommend the loan manager to scan their applications carefully\n\n2. Customers living with parents as compared to other housing options find it difficult to pay loans on time. Hence their applications must also be looked at carefully.\n\n3. Chances of rejecting consumer loans are very less in comparison to cash loans. It is recommended that before refusing the consumer loans, applications must be reviewed keenly.\n\n4. The percentage of loan applications getting approved on Saturday is higher than other days of the week. The banks should check if the employees are stringent while approving loans on Saturday","f4270686":"### <u> Comments:<\/u>\n- We understand from the plot that the entire client list for the **TARGET** columns is immensly imbalance with an Imbalance ratio of 11.5 (i.e. defaulter clients at 8% compared to 92% non-defaulters).\n\n\n\n\n\n### <u>Let us now analyze the dataset w.r.t Inferential Statistics<\/u>","26f99188":"**Inference:** The top correlation goes to credit amount and goods purchased. Increased credit amount means increased goods price.","5dda050f":"## <u>Bivariate Categorical-Continous<\/u>\n\n#### Following Variables were plotted:\n- Education VS Income \n- Education VS Credit Amount\n- Gender VS Credit Amount\n- Housing Type VS Count of Childern\n- Education VS Count of Children","aaa16aef":"**Inference:** No inference could be made.","790f6c88":"**Inference:** Females opt for loans more as compared to men & at the same time the percentage of Females being defaulter is higher as compared to males","1c5b098e":"**Inference:** Users usually enter Income amount as a whole round nnumber, which is why you can see a line of values whole numbers of income.","db889113":"**Inference:** Maximum number of loans are taken by people who are married.","48eaebc6":"**Inference:** People with higher credit amount are also refused loans","08434e02":"**Inference:** Revolving loans are applied for less.","7615a7be":"**Inference:** Loans are not applied as much on Sunday as the rest of the days","a66cbdf5":"## <u>Application Dataset <\/u>","cec6e359":"## <u>Univariate Continuous Features<\/u>\n#### Following are the variables analysed:\n- Amount Application\n- Credit Amount\n- Down Payment Amount\n- Annuity Amount\n- Interest Rate\n","d91c9d1a":"**Inference:** The top position goes to the same relationship Credit and Goods price. The correlation for Total Income vs Credit Amount, Total Income vs Annuity, Total Income vs Goods prices is much lower for defaulters as compared to Non-defaulters.","be972df4":"**Inference:** Loans are approved generally","3daa3515":"**Inference:** No inference could be made.","6a7d0249":"### Importing  Important Libraries","a0a586dd":"### <u>For Defaulters<\/u>","7a617b0d":"### <u>Recommendations<\/u>\n- We observe that 14 of 37 columns have null values. It is highly recommended to drop columns with null values ***greater than 50%***\n","772e79a8":"## <u> Correlation (Previous Application Dataset)<\/u>","e97ea3a9":"**Inference:** People take loan before they have children. The number of people taking loans after having children is lesser.","dfc2dcde":"**Inference:** No inference could be made.","c27d0bd5":"### <u> Comments:<\/u>\n- Nature of contract\/loan type is mentioned in the column: NAME_CONTRACT_TYPE\n- Total number of Rows is 307511 & columns is 122","1a770b0b":"### <u> Comments:<\/u>\n- 40 rows had over 50% of their values as null. They have been dropped in the above step.\n\n### <u> Recommendation:<\/u>\n- Columns with null vales less than 13% can be imputed with mean or mode depending on column attributes\n\n","404b987e":"### <u> Comments:<\/u>\n- Observing the columns and their data type reveals that data type for few columns needs to be updated\n- Ensuring that columns like DAYS_BIRTH shouldn't contain negative values for age and likewise","ad8e22cd":"**Inference:** The upper limit of the count of family members is 4 (4.5 by IQR formula) and the lower limit is 1 (0.5 by IQR formula)) The higher numbers ecxeeding 8 must be for a joint family.","b4d9b7d1":"## <u>Univariate Continuous Features<\/u>\n\n#### Following plots were plotted:\n- Count of Children\n- Total Income\n- Credit Amount\n- Annuity Amount\n- Age","9cef1557":"## <u>Comments<\/u>\n\n**1. Recommendation 1:** Treatment for outliers: *Outliers* for the **Count of Family Members & Credit Amount** can be ignored\n\n**2. Recommendation 2:** Binning Continuous variables: Continuous variables can be binned into categories so that we can perform bivaiate categorical-categorical analysis. This would help us prevent the outliers from skewing the data. We can add bins using the code snippet below:\n\npd.qcut(appdf['AMT_INCOME_TOTAL'],q=5, labels= ['Below Avg', 'Average', \"Above Avg\", \"Good\", 'Better']).value_counts().plot(kind='bar')\n"}}