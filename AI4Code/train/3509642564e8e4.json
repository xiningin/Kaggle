{"cell_type":{"4069b3d4":"code","75531930":"code","3a5ee511":"code","3cf45d55":"code","2d1a597e":"code","2fe653eb":"code","45764685":"code","894b7bb3":"code","cf43962a":"code","c023a697":"code","615f214f":"code","60646f28":"code","01a8bd2e":"code","82142ed5":"code","4a6d7379":"code","e707f4cc":"code","0690572b":"code","001cc76f":"code","409d3a43":"code","cf5546e5":"code","4a69ae6f":"code","2139b88f":"code","3eb9d100":"code","89a73a15":"code","235ab536":"code","380dd18c":"code","db39dfc9":"code","41860abb":"code","2fa7682b":"code","9b85624a":"code","8ef5a910":"code","7170a079":"code","cd011ffd":"code","f1a59c38":"code","a9a3613e":"code","87ce28bd":"code","6fe4f68e":"markdown","0620d93b":"markdown","6a316caf":"markdown","1b5e15f8":"markdown","3e043d28":"markdown","d158507d":"markdown","e5206650":"markdown","e5b17f9c":"markdown","b7aa6607":"markdown","ac1c41ae":"markdown","76c1b5a3":"markdown","32be1c24":"markdown","64d6e5bb":"markdown","b283ef05":"markdown"},"source":{"4069b3d4":"#let's import the library to read the dataset and couple of visualization library to analyze it further.\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","75531930":"import warnings \nwarnings.filterwarnings('ignore')","3a5ee511":"data=pd.read_csv(\"..\/input\/house-data\/kc_house_data.csv\")\ndata.head(n=5)","3cf45d55":"data.shape\n","2d1a597e":"data.info()","2fe653eb":"data.describe(include='all')","45764685":"# Let's check for the null value \ndata.isnull().sum()","894b7bb3":"# Heatmap would be the good choice to check the correlation betweeen the independent and the target variable.\nplt.figure(figsize=(8,8))\nsns.heatmap(data.corr())","cf43962a":"fig, ax=plt.subplots(figsize=(12,4))\nsns.boxplot(data['price'],showmeans=True)","c023a697":"data.corr().loc['price']","615f214f":"plt.figure(figsize=(5,5))\nsns.jointplot(x='sqft_living',y='price',data=data,kind = 'reg')\nsns.jointplot(x='yr_renovated',y='price',data=data)\n","60646f28":"sns.jointplot(x='sqft_lot',y='price',data=data,kind='reg')\nsns.jointplot(x='floors',y='price',data=data,kind='reg')","01a8bd2e":"sns.jointplot(x='sqft_above',y='price',data=data,kind='reg')\nsns.jointplot(x='yr_built',y='price',data=data,kind='reg')","82142ed5":"sns.jointplot(x='long',y='price',kind='reg',data=data)","4a6d7379":"sns.jointplot(x='sqft_lot15',y='price',data=data,kind = 'reg')\n","e707f4cc":"sns.jointplot(x='sqft_basement',y='price',data=data)\n","0690572b":"# Checking the number of Zeroes in the variable \"sqft_basement\" i.e house without basement it shows \"13126\" many zeros entries are there for the \"sqft_basement'\" variable.. \ndata[(data['sqft_basement']==0)].count()['sqft_basement']","001cc76f":"# Number of Zeros in the variable \"sqft_basement\" is \"20699\"..\ndata[data['yr_renovated']==0].count()['yr_renovated']","409d3a43":"# Create two new columns for the analysis.\ndata['sqft_basement']=data['sqft_basement'].apply(lambda x: x if x>0 else None)\ndata['yr_renovated']=data['yr_renovated'].apply(lambda x: x if x>0 else None)\nsns.jointplot(x='yr_renovated',y='price',data=data,dropna=True,kind='reg')\nsns.jointplot(x='sqft_basement',y='price',data=data,kind='reg',dropna=True)\n\n","cf5546e5":"data[['sqft_basement','yr_renovated','price']].corr()","4a69ae6f":"data['basement_present']=data['sqft_basement'].apply(lambda x: 1 if x>0 else 0)\ndata['basement_present']=data['basement_present'].astype('category')\n\ndata['renovated']=data['yr_renovated'].apply(lambda x: 1 if x>0 else 0)\ndata['renovated']=data['renovated'].astype('category')","2139b88f":"g=sns.PairGrid(data, vars = ['sqft_living', 'sqft_living15', 'sqft_above'], size = 3.5)\ng.map_upper(plt.scatter) \ng.map_diag(sns.distplot)\ng.map_lower(plt.scatter, cmap=\"Blues_d\")\n\ndata[['sqft_living', 'sqft_living15', 'sqft_above']].corr()","3eb9d100":"# Checking if variable \"waterfront\" has dependency on the house price","89a73a15":"from scipy import stats\nfig,ax=plt.subplots(figsize=(8,8))\nsns.boxplot(x=data['waterfront'],y=data['price'],showmeans=True)\nr, p = stats.pointbiserialr(data['waterfront'], data['price'])\nprint(\"pointbiserials r is {} and p is {}\".format(r,p))","235ab536":"plt.subplots(figsize=(8,8))\nsns.boxplot(x='renovated',y='price',data=data)\nstats.pointbiserialr(data['renovated'],data['price'])","380dd18c":"plt.subplots(figsize=(8,8))\nsns.boxplot(x='basement_present',y='price',data=data)\nstats.pointbiserialr(data['basement_present'],data['price'])","db39dfc9":"data.corr()['price']","41860abb":"data[['sqft_living','sqft_above','sqft_living15','price']].corr()","2fa7682b":"categorial_cols =['floors','view','condition','grade']\nfor variable in categorial_cols:\n    dummies=pd.get_dummies(data[variable],drop_first=True)\n    dummies = dummies.add_prefix(\"{}#\".format(variable))\n    data.drop(variable,axis=1,inplace=True)\n    data=data.join(dummies)\n","9b85624a":"data.drop(['sqft_basement','yr_renovated'],axis=1,inplace=True)\n","8ef5a910":"from sklearn.model_selection import train_test_split\n\nx=data.drop(['id','date','price'],axis=1)\ny=data['price']\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2)\n","7170a079":"from sklearn.linear_model import LinearRegression\nlm_obj=LinearRegression()\nlm_obj.fit(x_train,y_train)","cd011ffd":"print(\"coefficents are:-{}\".format(lm_obj.coef_))\nprint(\"intercept is:-{}\".format(lm_obj.intercept_))","f1a59c38":"from sklearn.metrics import mean_squared_error\nmean_squared_error(y_test,lm_obj.predict(x_test))","a9a3613e":"plt.plot(lm_obj.predict(x_test),y_test)","87ce28bd":"from sklearn.metrics import r2_score\nr2score=r2_score(y_test,lm_obj.predict(x_test))\nr2score\n\n","6fe4f68e":"let's analyze the Categorical Variables","0620d93b":"The reinovation of the house doesn't makes the much difference on it's price..\nAs it can be seen from the plot as well as the r values i.e r<0.2\n","6a316caf":"**##Conclusion**\nIn this notebook I tried to give on overview of the multiple regression methods using a dataset of house sales. Obviously, many other methods exit for regression (e.g., ridge, Elastic Net, kernel regression, Bayesian regression). Model selection should be based on your data and application.","1b5e15f8":"***Part 1: Exploratory Data Analysis***\n\n\n**\nThe notebook present the thought process of predicting the continous variable using the machine learning algorithm. \nTo be more specific we will predict the House price based on the multiple Features using regression analysis... \nFor this we will use the dataset of house sales in King County.\n**\n","3e043d28":" let's check the target variable price depedency on various independent variables**","d158507d":"It can be concluded that, the house price is moderately dependent on \"sqft_basement\" i.e if basemnet is present, and slightly dependent on the \"yr_renovated\".","e5206650":"1.As it can be seen from the BOXPLOT that,Price of the House having \"Waterfront\" has the higher price range. \n\n\n2.The price of the house with the \"Waterfront\" has the larger range,This suggests that house prices differ greatly in this group.\n\n3. The pointBIserials r is pretty much low r<0.3 so can't rely too much on the result.\n****","e5b17f9c":"**Now, post making the change let's see check the correlation coeff for these two variables.**","b7aa6607":"**Checking for the number of zeros in the sqft_basement (i.e, no basement) and the yr_renovated,there are lots of zeros in this    two feature.\nlet's rerun the association test for these two variables.**","ac1c41ae":"We can create the two new columns in the dataset for the variable (sqft_basement,yr_renovated) and make it a categorical variable.\n(e.g., 0 for no basement, 1 for basement present)","76c1b5a3":"So, chekcing the correlation coefficent and the plot, clearly shows that \"sqft_lot15\",\"yr_built\" and \"sqft_lot15\" has very poor correlation with the target price","32be1c24":"*From the above corr coefficent and HEATMAP we can conclude that, sqft_lot,sqft_lot15,long and yr_built are very poorly related with the target varible price...","64d6e5bb":"**Conclusion**\n\n1. sqft_living, sqft_above and sqft_basement where strongly to moderately realted to the price the r value was pretty much high,      0.702035,0.605567, 0.407308 respectively,The 3 variables were also strongly related to each other as sqft_living = sqft_above and sqft_basement.\n\n2. Feature \"waterfront\" is significantly related to the price. r value is <.30,reinovated and having basment doesn't make much    difference on the price.\n\n3.Five of the ordinal parameters (bedrooms, bathrooms, floors, views, grade) were also moderately to strongly associated with price.\n\n4.sqft_lot, sqft_lot15 (average lot size of the 15 closest houses) and yr_built were poorly related to price.\n\n5.Five of the ordinal parameters (bedrooms, bathrooms, floors, views, grade) were also moderately to strongly associated with price.\n","b283ef05":"**There seems to be a lot of outliers at the top of the distribution, with a few houses above the 5000000$ value.the price range which is illustrated by the opposit ends of the whiskers and is calculated using calculated using [(Q3+1.5IQR)-(Q3-1.5IQR)] comes to around 1000000$ **"}}