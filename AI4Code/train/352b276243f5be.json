{"cell_type":{"a2aca0e9":"code","40fdc52e":"code","cf274374":"code","dcbebd7b":"code","1fbaa65f":"code","9911568d":"code","fda20de4":"code","ba2ea6ec":"code","f16d467a":"code","fff07aa5":"code","b8f4d3c0":"code","32dd81ed":"code","28b6b486":"code","2f935629":"code","ab1fb050":"code","feb93368":"code","870acae8":"code","80343d29":"code","d15c8eb3":"code","b3755773":"code","46f986d5":"code","1bfd95e1":"code","de3fe9f0":"code","331b55fe":"code","40720d26":"code","7c8eea9a":"code","36e4db33":"code","1910c9cf":"code","9de9e0fc":"code","3c7cff53":"code","6fe1d34a":"code","c539f04d":"code","dd3025cd":"code","8f52799e":"code","65914971":"code","27066f94":"code","d967d2f0":"code","68e5c6f8":"code","f549eb5e":"code","9342832a":"code","2fe4ba90":"code","723edb5d":"code","ce2736db":"code","481d594f":"code","8408f5ca":"code","73d2a6cd":"code","ec7fda41":"code","91835d45":"code","689634c1":"code","3d772448":"code","232f518d":"code","d6d6c3c2":"code","e5df2c42":"code","3b2f8516":"code","0f736393":"code","0cd668a2":"code","b62d5d8a":"code","733e0e54":"code","b2a1db43":"code","6e32ee2b":"code","df9097ec":"code","1a602704":"code","eebb0095":"code","5ae1a014":"code","34b182a9":"code","d28ba050":"code","a2ef747e":"code","0a6a8b73":"code","12a0af3c":"code","d601c5ed":"code","ffda1da3":"code","2ce62d2d":"code","cfd7fb55":"code","3740f0f5":"code","4141d794":"code","441d0090":"code","c81f3164":"code","5b21a085":"code","29a5b6d9":"code","7369f501":"code","6d2b6838":"code","113ff5d8":"code","eecdc666":"code","eb2bf1c0":"code","64f0ad4c":"code","d4854ec4":"code","11cce91c":"code","7538de66":"code","355f3c14":"code","79a7dbe9":"markdown","3e771456":"markdown","fa13019e":"markdown","11d9d2ac":"markdown","6ddffe7a":"markdown","95e4d280":"markdown","1f1a2461":"markdown","00411525":"markdown","866428f2":"markdown","854025ca":"markdown","82eeda0b":"markdown","bd1434e0":"markdown","b69a9ff6":"markdown","096fe5f9":"markdown","10e27be3":"markdown","3598101b":"markdown","e8b45c23":"markdown","8fdd470b":"markdown","1dc65cd2":"markdown","0ce607e1":"markdown","e5b0011d":"markdown","64eec825":"markdown","75967af1":"markdown","513f61ae":"markdown","519319a3":"markdown","8363a098":"markdown","1fca2eae":"markdown","e7df7ede":"markdown","1c41bfe1":"markdown","28d9abbb":"markdown","4425ea73":"markdown","275d5d6a":"markdown","6fb3ee32":"markdown","7df3a0a8":"markdown","778b6652":"markdown","7ba4287e":"markdown","8077a2da":"markdown","0b3ea8aa":"markdown","f96957ce":"markdown","4ac06feb":"markdown","be701f39":"markdown","fc5377bd":"markdown","d70b7964":"markdown","b950079d":"markdown","6321e3a8":"markdown","ccd1fed9":"markdown","62aa20c1":"markdown","c858b905":"markdown","aaff0cc9":"markdown","8538216d":"markdown","6792e674":"markdown","047d518c":"markdown","252f7a4e":"markdown","fc5281b8":"markdown","ea3297d4":"markdown","a5591a13":"markdown","aa14ce4d":"markdown","8759a528":"markdown","de5099b5":"markdown","ce5b1e41":"markdown","12fb4686":"markdown","6bf36c2b":"markdown","efc87fb5":"markdown","4ab2e4ba":"markdown","f966f1dc":"markdown","044f8dc1":"markdown","b90b7cf3":"markdown","4c6d7bb2":"markdown","9cc8ffbe":"markdown","b94e229c":"markdown","c1c0c343":"markdown","52bea066":"markdown","abef85cb":"markdown","b737b055":"markdown","575ca419":"markdown","d9937a31":"markdown","39fadada":"markdown","7e00ca41":"markdown","d920dd3d":"markdown","9688c5ac":"markdown","6f73e6b4":"markdown","8d8df0f6":"markdown","d3c50ce6":"markdown","d2e3f561":"markdown","55aa8324":"markdown"},"source":{"a2aca0e9":"pip install squarify","40fdc52e":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport squarify\nimport matplotlib\nimport os","cf274374":"df = pd.read_csv('\/kaggle\/input\/noshowappointments\/KaggleV2-May-2016.csv')","dcbebd7b":"df.sample(5)","1fbaa65f":"df.info()","9911568d":"df.PatientId = df.PatientId.astype('int')\ndf.PatientId.dtypes","fda20de4":"df.ScheduledDay = pd.to_datetime(df.ScheduledDay)\ndf.AppointmentDay = pd.to_datetime(df.AppointmentDay)\ndf[['ScheduledDay','AppointmentDay']].dtypes","ba2ea6ec":"df['ScheduledTime'] = pd.to_datetime(df.ScheduledDay).dt.time\ndf['AppointmentTime'] = pd.to_datetime(df.AppointmentDay).dt.time","f16d467a":"df['appointment_dow'] = pd.to_datetime(df.AppointmentDay).dt.day_name()\ndf['appointment_month'] = pd.to_datetime(df.AppointmentDay).dt.month_name()","fff07aa5":"df['ScheduledDay'] = df['ScheduledDay'].dt.date\ndf['AppointmentDay'] = df['AppointmentDay'].dt.date","b8f4d3c0":"df.AppointmentTime.sample(5)","32dd81ed":"df.AppointmentTime.nunique()","28b6b486":"df.drop(columns='AppointmentTime',inplace=True)\ndf.columns","2f935629":"df.Age.describe()","ab1fb050":"df_less_0 = df.query('Age < 0')\ndf_less_0.Age.count()","feb93368":"df = df.query('Age >= 0')","870acae8":"labels = {'PatientId':\"patient_id\", 'AppointmentID':'appointment_id', 'Gender':'gender', \n        'ScheduledDay':'scheduled_day',\n       'AppointmentDay':'appointment_day', 'Age':'age', 'Neighbourhood':'neighbourhood', \n       'Scholarship':'scholarship', 'Hipertension':'hypertension',\n       'Diabetes':'diabetes', 'Alcoholism':'alcoholism', 'Handcap':'handicap', \n       'SMS_received':'sms_received', 'No-show':'show',\n       'ScheduledTime':'scheduled_time'}\ndf.rename(columns=labels,inplace=True)","80343d29":"df.columns","d15c8eb3":"df.show = df.show.map({'Yes':0,'No':1})\ndf.show.astype(int);","b3755773":"df_error = df[df.scheduled_day > df.appointment_day ][['patient_id','appointment_id','scheduled_day','appointment_day','show']]\ndf_error","46f986d5":"print('Number of rows with appointment day before scheduled day:',df_error.patient_id.count())","1bfd95e1":"print('Number of rows before dropping above rows:', df.patient_id.count())","de3fe9f0":"df = df[df.scheduled_day <= df.appointment_day ]\nprint('Number of rows after dropping above rows:', df.patient_id.count())","331b55fe":"df.duplicated().sum()","40720d26":"table = df.groupby('show').mean().iloc[:,3:]\ntable","7c8eea9a":"def get_pie_chart(data, title):\n  i, j = 0, 0\n  fig, ax = plt.subplots(2, 3, figsize=(15, 8))\n\n  for index, value in data.items():\n    ax[i, j].pie(x=[value, 1-value], labels=[True, False], \n                 autopct='%1.1f%%', textprops={'fontsize': 14})\n    ax[i, j].set_title(index, size=14)\n    \n    j += 1\n    if j == 3:\n      j = 0\n      i = 1\n\n  fig.suptitle(title, size=20)\n  plt.show()","36e4db33":"get_pie_chart(table.loc[0, :], 'Characteristics of Patients Skipping Medical Appointments')","1910c9cf":"get_pie_chart(table.loc[1, :], 'Characteristics of Patients Medical Appointments')","9de9e0fc":"val = df.describe().iloc[2:,2:].T.iloc[0,:]\nq1 = val[2]\nq3 = val[4]\niqr = q3 - q1\nval","3c7cff53":"fig, ax = plt.subplots(1, 1, figsize=(13, 8))\nsns.heatmap(df.corr().iloc[2:,2:], annot=True, \n            ax=ax, linewidth=2, cmap='Blues')\nplt.show()","6fe1d34a":"gender_show = df.groupby('gender').show.sum()\ngender_show","c539f04d":"gender_total = df.groupby('gender').patient_id.count()\ngender_total","dd3025cd":"prop_female_patients = gender_total.F\/(gender_total.F + gender_total.M)*100\nprop_female_patients","8f52799e":"prop_male_patients = gender_total.M\/(gender_total.F + gender_total.M)*100\nprop_male_patients","65914971":"def horizontal_bars(name,prop,title):\n  '''\n  name: column name\n  prop: proportion of male\/female show-up \n  title: title of graph\n  return: horizontal bar graph\n  '''\n  fig, ax = plt.subplots(figsize =(10, 5))\n  ax.barh(name, prop)\n\n  # To add grid\n  ax.grid(b = True, color ='grey',\n          linestyle ='-.', linewidth = 0.5,\n          alpha = 0.2)\n\n  # To remove axes\n  for s in ['top', 'bottom', 'left', 'right']:\n      ax.spines[s].set_visible(False)\n\n  # To remove x and y ticks\n  ax.xaxis.set_ticks_position('none')\n  ax.yaxis.set_ticks_position('none')\n\n  plt.xticks(fontsize=10)\n  plt.yticks(fontsize=12)\n\n  # Add padding between axes and labels\n  ax.xaxis.set_tick_params(pad = 5)\n  ax.yaxis.set_tick_params(pad = 15)\n\n  plt.xlabel('\\n\\nPercentage of Patients',fontsize=12)\n  plt.ylabel('Gender',fontsize=12)\n  ax.set_title(title,fontsize = 15 )\n\n  for i in ax.patches:\n      plt.text(i.get_width()+0.01, i.get_y()+0.4,\n              str(round((i.get_width()), 2)),\n              fontsize = 12, fontweight ='bold',\n              color ='grey')\n      \n  plt.show()","27066f94":"gend = ['Females','Males']\nprop = [prop_female_patients,prop_male_patients]\ntitle = '\\nProportion of male and female patients\\n\\n'\nhorizontal_bars(gend,prop,title)","d967d2f0":"prop_female_show = (gender_show.F\/gender_total.F)*100\nprop_female_show","68e5c6f8":"prop_male_show = (gender_show.M\/gender_total.M)*100\nprop_male_show","f549eb5e":"gend = ['Females','Males']\nprop = [prop_female_show,prop_male_show]\ntitle = '\\nProportion of male and female that showed up \\nfor scheduled appointments\\n\\n'\n\nhorizontal_bars(gend,prop,title)","9342832a":"df_new = df.copy()\ndf_new.gender = df_new.gender.map({'F':1,'M':0})\ndf_new.corr().iloc[2:,2:]","2fe4ba90":"def rel_with_gender(_feature,_title,legend_title):\n  extracted_df = pd.pivot_table(data=df,index=['gender',_feature],values='show')\n  extracted_df.show = extracted_df.show*100\n  extracted_df.reset_index(inplace=True)\n\n  display(extracted_df)\n\n  # To set figure size \n  plt.figure(figsize=(8,6),dpi=70)\n  \n  # To make bar plot\n  graph = sns.barplot(data=extracted_df,x='gender',y='show',hue=_feature,palette='Paired');\n  \n  # To add padding b\/w axis and ticks\n  graph.xaxis.set_tick_params(pad = 10)\n  graph.yaxis.set_tick_params(pad = 3)\n\n  graph.set_xlabel('Gender',fontsize=13)\n  graph.set_ylabel('% of people who showed up\\n',fontsize=13)\n  graph.set_title(_title,fontsize=16)\n  graph.set_xticklabels(['Females','Males'],fontsize=11.5)\n\n  # To set y-axis limits\n  graph.set_ylim(0,90)\n\n  # To place legend outside top right corner of plot\n  plt.legend(title=legend_title,bbox_to_anchor=(1.02, 0.5), loc='upper left', borderaxespad=0)\n  # plt.legend(title='Consume Alcohol',bbox_to_anchor=(1.02, 1), loc='upper left', borderaxespad=0,labels=['No','Yes'])\n  # plt.legend(title='Alcoholism',labels=['A', 'A'], loc='upper left')\n\n  # To remove spines \n  sns.despine( left=True, bottom=True)\n\n  print('\\n')\n  # TO DO: Add padding between axes and labels\n  plt.show(graph)\n","723edb5d":"rel_with_gender(_feature='alcoholism',_title='Ratio of Showing-up based on alcoholism\\n',legend_title='Consume Alcohol')","ce2736db":"rel_with_gender(_feature='diabetes',_title='Relation of Showing-up based on diabetes\\n',legend_title='Diabetic')","481d594f":"rel_with_gender(_feature='hypertension',_title='Relation of Showing-up based on hypertension\\n',legend_title='Hypertension')","8408f5ca":"df.handicap.unique()","73d2a6cd":"df.handicap = df.handicap.map({0:0, 1:1, 2:1, 3:1, 4:1})","ec7fda41":"df.handicap.unique()","91835d45":"rel_with_gender(_feature='handicap',_title='Relation of Showing-up based on handicap\\n',legend_title='Handicap')","689634c1":"rel_with_gender(_feature='scholarship',_title='Relation of Showing-up based on scholarship\\n',legend_title='Scholarship')","3d772448":"rel_with_gender('sms_received','Relation of showing-up based on sms-received\\n','SMS received')","232f518d":"df.age.describe()","d6d6c3c2":"left_bound = q1 - (1.5 * iqr)\nright_bound = q3 + (1.5 * iqr)\nprint('Left bound:',left_bound)\nprint('Right bound:',right_bound)","e5df2c42":"# Age can never be negative so changing left bound to 0\nleft_bound = 0\ncount = 0 # counting number of outliers\nvalue = [] # value of outliers\nfor outlier in df.age:\n  if outlier < left_bound or outlier > right_bound:\n    count += 1\n    value.append(outlier)\nprint('Number of outliers:',count)\nprint('Values of outliers:',value)","3b2f8516":"data = df.age\nplt.figure(figsize=(7,8),dpi=70)\nbp = plt.boxplot(data,patch_artist = True,notch ='True');\n\nfor whisker in bp['whiskers']:\n    whisker.set(color ='#8B008B',\n                linewidth = 2,\n                linestyle =\":\")\n    \nfor cap in bp['caps']:\n    cap.set(color ='#8B008B',\n            linewidth = 4)\n    \nfor median in bp['medians']:\n    median.set(color ='red',\n               linewidth = 5)\n    \nplt.ylabel(\"Age\",size=12)\nplt.title(\"\\nBox plot of age column\\n\",size=15);","0f736393":"def ranges(feature,bins_edges,bins_names):\n  arr = df[feature]\n  df[feature] = pd.cut(x=arr,bins=bins_edges,labels=bins_names)","0cd668a2":"def create_bar_plot(_feature,_title,x_label):\n  extracted_df = pd.pivot_table(data=df,index=_feature,values='show')\n  extracted_df.show = extracted_df.show*100\n  extracted_df.reset_index(inplace=True)\n\n  display(extracted_df)\n\n  # To set figure size \n  plt.figure(figsize=(8,6),dpi=70)\n  \n  # To make bar plot\n  graph = sns.barplot(data=extracted_df,x=_feature,y='show',palette=\"crest\");\n\n  # To add padding b\/w axis and ticks\n  graph.xaxis.set_tick_params(pad = 9)\n  graph.yaxis.set_tick_params(pad = 3)\n  graph.tick_params(bottom=False)\n\n  if _feature == 'waiting_days':\n    plt.xticks(rotation=45)\n\n  graph.set_xlabel(x_label,fontsize=13)\n  graph.set_ylabel('% of people who showed up\\n',fontsize=13)\n  graph.set_title(_title,fontsize=16)\n\n  # To set y-axis limits\n  graph.set_ylim(0,90)\n\n  # To remove spines \n  sns.despine( left=True, bottom=True)\n\n  print('\\n')\n  # TO DO: Add padding between axes and labels\n  plt.show(graph)\n","b62d5d8a":"feature = 'age'\nbins_edges = [0,23,46,69,111]\nbins_names = ['Children','Youth','Adult','Senior']\nprint('Children(0-22),Youth(23-45),Adult(46-68),Senior(69-111)')\nranges(feature,bins_edges,bins_names)\ncreate_bar_plot(_feature=feature,_title='Relation of Showing-up based on different age groups\\n',x_label='\\nDifferent Age Groups')","733e0e54":"df['waiting_days'] = df.appointment_day - df.scheduled_day","b2a1db43":"df.waiting_days.dtypes","6e32ee2b":"df.waiting_days = df.waiting_days.astype('str')\ndf.waiting_days = df.waiting_days.apply(lambda x: x.split()[0])\ndf.waiting_days = df.waiting_days.astype('int')","df9097ec":"df.waiting_days.dtypes","1a602704":"df.waiting_days.describe()","eebb0095":"print('Note: Here waiting days are delay in days of appointment and scheduled day')\nfeature = 'waiting_days'\nbins_edges = [-1,16,31,46,61,76,91,116,131,146,161,180]\nbins_names = ['0-15','16-30','31-45','46-60','61-75','76-90','91-115','116-130','131-145','146-160','161-179']\nranges(feature,bins_edges,bins_names)\ncreate_bar_plot(_feature=feature,_title='Relation of Showing-up based on waiting days\\n',x_label='\\nDelay in days')","5ae1a014":"neighbour_df = pd.DataFrame()","34b182a9":"neighbour_df['total_appointments'] = df.groupby(by='neighbourhood').show.count()\nneighbour_df['show_appointments'] = df.groupby(by='neighbourhood').show.sum()\nneighbour_df['show_prop'] = df.groupby(by='neighbourhood').show.mean()\nneighbour_df.reset_index(inplace=True)","d28ba050":"neighbour_df.sample(10)","a2ef747e":"high_appointment_neigh = neighbour_df.sort_values('total_appointments',ascending=False).head(10)\nhigh_appointment_neigh","0a6a8b73":"def color_squarify(data_frame):\n  cmap = matplotlib.cm.tab20c\n  mini=min(data_frame.total_appointments)\n  maxi=max(data_frame.total_appointments)\n  norm = matplotlib.colors.Normalize(mini,maxi)\n  colors = [cmap(norm(value)) for value in data_frame.total_appointments]\n  return colors","12a0af3c":"plt.figure(figsize=(10,8))\nsquarify.plot(sizes=high_appointment_neigh.total_appointments,\n              label=high_appointment_neigh.neighbourhood,\n              color = color_squarify(high_appointment_neigh),\n              pad=True)\nplt.axis('off')\nplt.title('\\nNeighbourhoods with maximum appointments\\n')\nplt.show()","d601c5ed":"low_appointment_neigh = neighbour_df.sort_values('total_appointments').head(5)","ffda1da3":"low_appointment_neigh.neighbourhood.iloc[0] = 'PQ'\nlow_appointment_neigh.neighbourhood.iloc[1] = 'IOCDT'","2ce62d2d":"low_appointment_neigh","cfd7fb55":"plt.figure(figsize=(10,8))\nsquarify.plot(sizes=low_appointment_neigh.total_appointments,\n              label=low_appointment_neigh.neighbourhood,\n              color = color_squarify(low_appointment_neigh),\n              pad=True)\nplt.axis('off')\nplt.title('\\nNeighbourhoods with minimum appointments\\n')\nplt.show()","3740f0f5":"neighbour_df.sort_values('total_appointments', ascending=False).head(n=10)","4141d794":"plt.figure(figsize=(15, 8))\ngraph1 = sns.barplot(data=neighbour_df.sort_values('show_appointments', ascending=False).head(n=15),\n                     x='neighbourhood',y='total_appointments', color='red', label='Total Appts')\n\ngraph2 = sns.barplot(data=neighbour_df.sort_values('show_appointments', ascending=False).head(n=15),\n                     x='neighbourhood',y='show_appointments',color='blue', label='Show Appts')\n\ngraph1.set_xlabel('Neighbourhood',fontsize=13)\ngraph1.set_ylabel('% of people who showed up\\n',fontsize=13)\ngraph1.set_title('\\nNeighbourhoods with highest show-up rate',fontsize=16)\n\nsns.despine(left=True, bottom=True)\nplt.xticks(rotation=75)\nplt.legend()\nplt.show()","441d0090":"neigh_high_show = neighbour_df.nlargest(n=8,columns='show_prop')\nneigh_high_show.show_prop = neigh_high_show.show_prop*100\nneigh_high_show","c81f3164":"neigh_low_show = neighbour_df.nsmallest(n=6,columns='show_prop')\nneigh_low_show.show_prop = neigh_low_show.show_prop*100\nneigh_low_show","5b21a085":"appointment_day_of_week = pd.DataFrame()","29a5b6d9":"appointment_day_of_week['total_dow'] = df.groupby('appointment_dow').show.count()\nappointment_day_of_week['show_dow'] = df.groupby('appointment_dow').show.sum()\nappointment_day_of_week['show_prop'] = df.groupby('appointment_dow').show.mean()\nappointment_day_of_week.reset_index(inplace=True)","7369f501":"appointment_day_of_week","6d2b6838":"plt.figure(figsize=(8,6),dpi=70)\ngraph = sns.barplot(data=appointment_day_of_week,x='appointment_dow',y='total_dow',color='orange')\ngraph = sns.barplot(data=appointment_day_of_week,x='appointment_dow',y='show_dow',color='khaki')\ngraph.set_xlabel('Day of the week',fontsize=13.5)\ngraph.set_ylabel('% of people who showed up\\n',fontsize=13.5)\ngraph.set_title('Day with low appointment and show-up',fontsize=16)\nsns.despine( left=True, bottom=True)\nplt.xticks(rotation=45);","113ff5d8":"appointment_day_of_week['no_show_prop'] = 1 - appointment_day_of_week['show_prop']","eecdc666":"appointment_day_of_week","eb2bf1c0":"plt.figure(figsize=(8,6),dpi=70)\nvalues = appointment_day_of_week.no_show_prop\nclrs = ['palegreen' if (x < max(values)) else 'darkgreen' for x in values ]\ngraph = sns.barplot(data=appointment_day_of_week,x='appointment_dow',y='no_show_prop',palette=clrs)\ngraph.set_xlabel('Day of the week',fontsize=13.5)\ngraph.set_ylabel('% of No-Show\\n',fontsize=13.5)\ngraph.set_title('Day with low Show-up',fontsize=16)\nsns.despine( left=True, bottom=True)\nplt.xticks(rotation=45);","64f0ad4c":"months = df.appointment_month.unique()\nprint(months)","d4854ec4":"appointment_month = pd.DataFrame()","11cce91c":"appointment_month['total_appointments'] = df.groupby('appointment_month').show.count()\nappointment_month['show_appointments'] = df.groupby('appointment_month').show.sum()\nappointment_month['show_prop'] = df.groupby('appointment_month').show.mean()\nappointment_month.reset_index(inplace=True)\nappointment_month.show_prop = appointment_month.show_prop*100;","7538de66":"appointment_month","355f3c14":"plt.figure(figsize=(7,5),dpi=70)\ngraph = sns.barplot(data=appointment_month,x='appointment_month',y='show_prop',palette='Set2')\ngraph.set_xlabel('\\nMonths',fontsize=13.5)\ngraph.set_ylabel('% of people who showed up\\n',fontsize=13.5)\ngraph.set_title('Monthly Show-up ratio',fontsize=16)\nsns.despine( left=True, bottom=True)","79a7dbe9":"### Relation of showing up wrt gender and alcoholism \n\nIs alcohol consumption a factor for no-show?","3e771456":">There is no direct relation of No-Show with waiting days","fa13019e":">[Project: Medical Appointment No Shows](#scrollTo=BmfbjWRNOPeO)\n\n>[Introduction](#scrollTo=Ty8z814ybwk5)\n\n>[Importing Libraries](#scrollTo=zy3dSfeNPPCc)\n\n>[Downloading dataset](#scrollTo=by5KNcWYVbXS)\n\n>[Loading dataset](#scrollTo=N14ODJZWXEZd)\n\n>[Summary of attributes](#scrollTo=onDkJqoYmhN3)\n\n>[Data Wrangling](#scrollTo=zzG5_tl6_OJF)\n\n>>[Changing Data type](#scrollTo=Av40NiNdoqHt)\n\n>>[Adding new columns](#scrollTo=kislWLDHJly8)\n\n>>[Dropping column](#scrollTo=w6Ew9cf6_ZRT)\n\n>>[Removing Rows](#scrollTo=qNXsjzP1_rzd)\n\n>>[Renaming columns](#scrollTo=HaJI_xlfgW12)\n\n>>[Changing Target Variable](#scrollTo=FHgwFcz7kNr4)\n\n>>[Appointment day before Scheduled Day](#scrollTo=TVfMxC9B8vOC)\n\n>>[Checking Duplicates](#scrollTo=KLgc2zuUrD_9)\n\n>[Exploratory Data Analysis](#scrollTo=rMEMqZ45HXKF)\n\n>>>[Descriptive statistics](#scrollTo=m9SF62eI4sAD)\n\n>>>[Correlation b\/w columns of dataset](#scrollTo=67sSwwka4l20)\n\n>>[Gender](#scrollTo=WcgzTUpVHeBB)\n\n>>>[Number of males and females that showed up at appointment](#scrollTo=doajAKAP26Mk)\n\n>>>[Total number of males and females in dataset](#scrollTo=tHoAOmv-3JX0)\n\n>>>[Proportion of male and female patients](#scrollTo=VCkc-mqi3amn)\n\n>>>[Proportion of male and female patients to show up for scheduled appointment](#scrollTo=25FL_9Ak3ixH)\n\n>>>[Converting males and females to quantative variable to find correlation with other features in dataset](#scrollTo=Vvf1k8jF6sFU)\n\n>>>[Function to find relationship b\/w gender and different features](#scrollTo=Bo37oz8VR6jn)\n\n>>>[Relation of showing up wrt gender and alcoholism](#scrollTo=7_wdoUDOR3z6)\n\n>>>[Relation of showing up wrt gender and diabetes](#scrollTo=tEShAcy__WCg)\n\n>>>[Relation of showing up wrt gender and hypertension](#scrollTo=Wcqb-5dXJAmG)\n\n>>>[Relation of showing up wrt gender and Handicap](#scrollTo=MdBS29qlcb-l)\n\n>>>>[Converting values in handicap to boolean values(0-non-handicap and 1-handicap)](#scrollTo=triGohxBj6gf)\n\n>>>[Relation of showing up wrt gender and scholarship](#scrollTo=l0wvEBQqjWuy)\n\n>>>[Relation of showing up wrt gender and sms reminder](#scrollTo=vUAnn8KShqH2)\n\n>>[Age](#scrollTo=I_CNHEcq1hLx)\n\n>>>[Oultliers in age column](#scrollTo=Kboa67Hq0E0Q)\n\n>>>[Converting ages column from numerical to categorical](#scrollTo=mpgjV5QsDq7P)\n\n>>[Waiting Days](#scrollTo=sJLu0SWRatit)\n\n>>[Neighbourhood](#scrollTo=dRe7WyNYFttN)\n\n>>>[Top Neighbourhoods with highest appointments](#scrollTo=a6to9l2zrhI7)\n\n>>>[Top Neighbourhoods with lowest appointments](#scrollTo=_Gxr1qwhtm6f)\n\n>>>[Total Appointments and actual show-up appointments](#scrollTo=WY3uzuLgCw7w)\n\n>>>[Neighbourhood where show-up rate is high](#scrollTo=WQD_HHoHMmGy)\n\n>>>[Neighbourhood where show-up rate is low](#scrollTo=EmJdhv9WMv2h)\n\n>>[Day of the week](#scrollTo=mwH-m6BSLNcd)\n\n>>[Relation of showing up wrt month](#scrollTo=EoemVexZp7Fa)\n\n>[Conclusion](#scrollTo=_jWkcJ9e05Fq)\n\n>>[Improvement opportunities at administration level](#scrollTo=k5M_nj_FeP1f)\n\n>[Limitations](#scrollTo=6QdaSperKHOb)\n\n","11d9d2ac":"# Loading dataset","6ddffe7a":"### Relation of showing up wrt gender and scholarship\n\nAre patients with scholarship more tend to show-up?","95e4d280":"# Improvement opportunities at administration level \n\n* Their were no appointments at sundays and appointments at saturday's were signifigantly low in comparison to weekdays. Administration should spread the appointments across months and weekdays regardless of weekends.\n\n* Administration should avoid scheduling multiple appointments in the same day for a single patient unless their is emergency. Giving everyone a chance to get second appointment after missing first appointment gives patient a relief of anyway getting another appointment.\n\n* Administration should charge a part of fees in advance while patient is scheduling appointment. This may reduce no-show rate.\n\n* Administration should follow a systematic approach when sending reminders to patients while closely monitoring the associated costs of sending follow-up reminders ","1f1a2461":"### Descriptive statistics\n\nSummarizing features and providing quantative summary about the features in dataset","00411525":"> It is evident from above graph people who got sms reminders irrespective of their gender were the ones with less show-up rate. Our above asumption in descriptive statistics is correct i.e. failing to remember the appointment is not an issue for no-show. ","866428f2":"> In the first row, appointment day is **9th May** and scheduled day is **10th May** which doesn't make any sense. So, dropping rows where appointment day is before scheduled day","854025ca":"* Dataset only have data for month **April, May and June**. \n* If data for other months was provided then we could have find months with least show-up rates.","82eeda0b":"### Converting ages column from numerical to categorical ","bd1434e0":"> There is an increase of show-up rate with males and females who have disabilities. We can say patients with disabilities are more concerned towards their health and attend their scheduled appointment","b69a9ff6":"#### Converting values in handicap to boolean values(0-non-handicap and 1-handicap)","096fe5f9":"> From JARDIM CAMBURI there were highest appointments i.e. 7717","10e27be3":"> Show up rates in month of May is slightly lower than month of April and June\n\n> We can notice that number of appointments in month of May is almost three times from June and 26 times from April. \n\n> We can't conclude that any specific month has highest no-show rate  ","3598101b":"> Removing first 3 rows beacuse total appointments are very less from other neighbourhoods so concluding high show up rate in first three nighbourhood will be inappropriate\n\n> Show-up rate of other neighbourhoods are approximately equal to 85%","e8b45c23":"### Relation of showing up wrt gender and sms reminder\n\nAre show-up rate high with patients who get reminder via sms?","8fdd470b":"> We can say that neighbourhoods of M\u00c1RIO CYPRESTE and SOLON BORGES are more likely to attend their scheduled appointment\t","1dc65cd2":"### Relation of showing up wrt gender and Handicap\n\nAre patients with diabilities show-up at their scheduled appointments?\n","0ce607e1":"> Minimum Age - Patient with age zero is representing pregenant womens\n\n> First Quartile(25%) - 25% patients have age b\/w 0 and 18 years\n\n> Second Quartile(50%) - 50% patients have age b\/w 0 and 37 years\n\n> Third Quartile(75%) - 75% patients have age b\/w 0 and 55 years\n\n> Maximim Age - Patient with maximum age is 115 years\n\n> Range is maximum age - minimum age\n>>Range = 115 - 0 = 115\n\n> Interquartile Range is Third Quartile - First Quartile\n>> Interquartile Range = 55 - 18 = 37\n\n> Median Age is 37 ","e5b0011d":"### Neighbourhood where show-up rate is low","64eec825":"### Function to find relationship b\/w gender and different features","75967af1":"## Waiting Days\n\nIs longer waiting days between appointment day and scheduled day is the reason for no-show?","513f61ae":"## Day of the week\nIs there any specific day of week where appointment rate is low?","519319a3":"### Proportion of male and female patients to show up for scheduled appointment","8363a098":"## Checking Duplicates","1fca2eae":"> Patients having sholarship i.e 11% patients with scholarship doesn't appeared for the scheduled appointment while people with no scholarship are more towards attending their appointment.\n\n> Patients having hypertension and diabetes i.e 7% and 3% respectively are more likely to show for their appointment because of disease\n\n> It seems like patients consuming alcohol has no effect over no-show\n\n> Patients receiving reminders are more likely to do not show for the appointments. 43% of patients who received the sms reminder regarding upcoming appointment missed the appointment. \n\n> It seems like failing to remember the appointment is not an issue for no-show \n","e7df7ede":"> There is no strong correlation b\/w show-up and other features\n\n> There is positive correlation b\/w diabetes and hypertension i.e 0.43 \n\n> Patients getting reminders via sms and show-up rate have negative correlation. It is possible that patients getting reminders regarding appointment are more likely to no-show.","1c41bfe1":"### Relation of showing up wrt gender and diabetes \n\nAre diabetic patients more concerned regarding their health and show up in scheduled appointment?","28d9abbb":"## Appointment day before Scheduled Day\n\nAppointment day i.e the day on which pateint has to visit doctor is before Scheduled Day i.e. the day on which appointment was booked.","4425ea73":"> Only single row with age less than 0","275d5d6a":"### Neighbourhood where show-up rate is high","6fb3ee32":"### Relation of showing up wrt gender and hypertension\n\nAre patients with hypertension(high blood pressure) more concerned regarding their health and show up in scheduled appointment?","7df3a0a8":"> People with scholarship irrespective of their gender are more tend to not show-up for appointment. People with scholarship doesn't tend to show-up in scheduled appointment which may means that showing-up for appointment is not concerned with high fees that non-scholarshop patient has to pay.","778b6652":"<a id='eda'><\/a>\n# Exploratory Data Analysis","7ba4287e":"> Age can never be negative, removing rows which have age less than 0","8077a2da":"### Top Neighbourhoods with highest appointments ","0b3ea8aa":"## Neighbourhood\nIs their neighbourhoods where no-show is frequent? Neighbourhoods are places where the patients comes from to visit the doctor. ","f96957ce":"## Renaming columns\n\nUsing [snake case](https:\/\/en.wikipedia.org\/wiki\/Snake_case)(lower case with underscores) where column name should be in lowercase seperated with underscore. In this way we can access the column using period like this df.column_name","4ac06feb":"### Converting males and females to quantative variable to find correlation with other features in dataset","be701f39":"> There is no direct relation of gender with any other feature ","fc5377bd":"### Correlation b\/w columns of dataset","d70b7964":"## Removing Rows\n\nRemoving records\/rows which have age in negative","b950079d":"# Introduction","6321e3a8":"### Number of males and females that showed up at appointment","ccd1fed9":"> An outlier is defined as a data point that is located outside the whiskers of the box plot.Their is outlier at 115 and right bound is 110.","62aa20c1":"# Data Wrangling\n\nIn this section we will assess our dataset and clean the dataset","c858b905":"## Gender\n\nIs there any specific gender whose no-show is frequent?\n\n","aaff0cc9":"> Saturday's have lowest number of appointments maybe due to weekend. People prefer to schedule appointments at weekdays ","8538216d":"# Project: [Medical Appointment No Shows](https:\/\/www.kaggle.com\/joniarroba\/noshowappointments)\n\nIn this notebook we will be analysing Medical Appointment No show dataset available at Kaggle","6792e674":"### Oultliers in age column","047d518c":">Condition for a data point value to be outlier\n\n>>data point value) < left bound\n\n>>(data point value) > right bound\n\n>where left bound = Q1 \u2013 1.5 * IQR and right bound = Q3 + 1.5 * IQR\n\n\n\n","252f7a4e":"# Summary of attributes\n\nA concise summary of a DataFrame including the index dtype and columns, non-null values and memory usage.","fc5281b8":"> Proportion of males and females showing-up for scheduled appointments are almost equal i.e 80%\n\n> Proportion of men and women that do not show are similar","ea3297d4":"### Total Appointments and actual show-up appointments","a5591a13":"> Proportion of males and females patient in the dataset are 35% and 65% respectively. Proportion of females is much more than males in dataset\"","aa14ce4d":"### Top Neighbourhoods with lowest appointments","8759a528":"> There is no signifigant relation of showing up with alcoholism wrt gender. \n\n> There is an increase of 3.6% in show up rate of males who consume alcohol.\n\n> On the other hand there is decrease of 6.2% in show up rate with females who consume alcohol.\n\n>So we can't conclude that alcoholism wrt gender determines showing up for appointment","de5099b5":"> No missing values in data","ce5b1e41":"### Total number of males and females in dataset","12fb4686":"> From Parque Industrial(PQ) there were only one appointment","6bf36c2b":"> **Data type of columns to be fixed,**\n1. PatientId is the unique id for identification of a patient and datatype of PatientId is float that is inappropriate.\n2. ScheduledDay and AppointmentDay can be used in analysis if we convert them into date-time format. We can extract the date, day of the week, month and time from the ScheduledDay and AppointmentDay\n","efc87fb5":"Ranges on the basis of standard deviation i.e. 23","4ab2e4ba":"The Medical-Appointment-No-Shows dataset includes details of appointments of Brazilian people with the doctor.Data of appointments was combined from more than 45 clinics and hospitals at municipal level in Brazil betweeen 29\/4\/2016 and 6\/6\/2016\n\n**Problem** - Many patients book the appointment with doctor then didn't show up on scheduled day. After so many studies happening on this data the average No-Show is 20%. The city has to lose [20 million](https:\/\/www.kaggle.com\/joniarroba\/noshowappointments\/discussion\/38330#275226) every year due to patients not showing at their scheduled appointment. \n\n**Objective** of the analysis is to investigate the reason why some patients do not show up to their scheduled appointments. ","f966f1dc":"> No duplicate rows in data","044f8dc1":"> Appointment Time is 00:00:00 in all the rows, it is not relevant to analysis. Hence dropping AppointmentTime column ","b90b7cf3":"# Importing Libraries","4c6d7bb2":"## Adding new columns\n**Adding new columns** -  Scheduled date, Scheduled time and Appointment date, Appointment time, Appointment day of week, Appointment month\n\n**ScheduleDate & AppointmentDate** stores date of Scheduled Day and Appointment Day\n\n**ScheduledTime & AppointmentTime** stores time of Scheduled Day and Appointment Day\n\n**appointment_dow** stores the day of the week of Appointment Day\n\n**appointment_month** stores the month of Appointment\n\n\n","9cc8ffbe":"* Distance from neighbourhood to the hospital is not given which may prove to be very effective in determining neighbourhoods which are far away from hospital  ","b94e229c":"# Limitations","c1c0c343":"> Saturday have slightly higher no-show rate in comparison to other days.We can't conclude appointments on Saturdays will be more likely to be not shown due to less number of appointments","52bea066":"## Changing Data type\n\nChanging data type PatientID to pandas datetime ","abef85cb":"> There is an increase of show-up rate with diabetic males and females. We can say that diabetic patients are more likely to attend the scheduled appointment","b737b055":"The dataset consists of **14 variables** as follows:\n\n**PatientId** : Unique identification of a patient\n\n**AppointmentID** : Unique identification of each appointment\n\n**Gender**: Male or Female\n\n**ScheduledDay**: The date on which appointment was scheduled\n\n**AppointmentDay**: The date on which pateint has to show-up for the appointment\n\n**Age**: How old is the patient\n\n**Neighbourhood**: Place where pateint lives (where pateint comes from to visit the doctor)\n\n**Scholarship**: Whether the patient is enrolled in [Bolsa_Fam\u00edlia](https:\/\/en.wikipedia.org\/wiki\/Bolsa_Fam%C3%ADlia), which is a social welfare program of the Government of Brazil\n\n**Hipertension**: Hypertension, also known as high blood pressure. Part of patient's medical history.\n\n**Diabetes**: Part of patient's medical history.\n\n**Alcoholism**: Drinking of alcohol that results in significant mental or physical health problems. Part of patient's medical history.\n\n**Handcap**: Handicap, part of patient's medical history.\n\n**SMS_received**: Frequent reminders of scheduled appointment.\n\n**No-show**: Whether the patient attended the appointment or not. 'Yes' means the patient did not attended the appointment","575ca419":"> There is an increase of show-up rate with males and females who have hypertension. We can say that patients with high blood pressure are more concerned towards their health and show-up at scheduled appointment","d9937a31":"* Appointment Time in all the rows is same that is 00:00:00.\n\n* If appointment time was specified properly then we could have \nfind time intervals over which people prefer to miss scheduled appointment","39fadada":"### Proportion of male and female patients","7e00ca41":"## Relation of showing up wrt month\n\nIs there any speciifc month where show-up rate is high?","d920dd3d":"* Handicap section has five different values(0,1,2,3,4) but on Kaggle author describes it as column with boolean values where 0 represents person with no-handicap and 1 with handicap.\n* We have assumed that 1,2,3,4 are handicaps and changed them all to 1 to represent person with handicap. While 0 represents person with no handicap.","9688c5ac":"# Conclusion\n\n* Important features to determine no-show are age, hypertension, neighbourhood, scholarship and diabetes.\n\n* Showing rate for appointment is more at older age group than younger age group maybe because people are more concerned for their health in old age than than in younger age.\n\n* Hypertension is an important characterstic of patients with higher attendance frequency\n\n* Showing rate for men and women are similar  \n\n* Their is no relation of showing up wrt alcholism and handicaps\n\n* Enrolment in Bolsa Familia program or scholarhip is an important feature to determine patients with higher attendance frequency\n\n* There is no preference for specific weekday over the other when it comes to attendance frequency.\n\n* There is no direct relation of No-Show with shorter or longer waiting days between appointment and schedule day.\n\n","6f73e6b4":"> ILHAS OCE\u00c2NICAS DE TRINDADE has only two appointments that is very less than other neighbourhoods so concluding low show-up rate of ILHAS OCE\u00c2NICAS DE TRINDADE on the basis of only 2 appointments will be inappropriate\n\n> Lowest show rate is 71% at SANTOS DUMONT  ","8d8df0f6":"## Age \nHow people of different age group are showing-up for the appointments? Is there any specific age group that determine showing to the appointment?","d3c50ce6":"## Changing Target Variable \n\nChanging target variable from no_show(to show) to avoid misconception and easily understand show-up rates\n\nSubstituting **Yes with 0** and **No with 1**","d2e3f561":"> Showing rate for appointment is more in older people than young people maybe because people are more concerned for their health in old age than than in younger age","55aa8324":"## Dropping column\n\nRemoving appointment time column from dataset"}}