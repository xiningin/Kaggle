{"cell_type":{"74b3cc0d":"code","51c33748":"code","926984ff":"code","7c309d58":"code","8f5a7837":"code","665497c7":"code","78258742":"code","7cace6d7":"markdown","b0c54810":"markdown","d5f6d0d2":"markdown"},"source":{"74b3cc0d":"import pandas as pd\nimport os\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport re\nfrom wordcloud import WordCloud, STOPWORDS","51c33748":"DIR = '..\/input\/feedback-prize-2021'","926984ff":"train = pd.read_csv(f'{DIR}\/train.csv')\ntrain.head()","7c309d58":"print (f\"Number of Texts: {len(train['id'].unique())}\")\nprint (f\"Number of : Dicourses: {len(train['discourse_id'].unique())}\")","8f5a7837":"fig, ax = plt.subplots()\nax = sns.countplot(data = train, x = 'discourse_type')\nax.set_xticklabels(ax.get_xticklabels(), rotation = 45, ha = 'right')\nax.set_ylabel('Number of Discourse')\nax.set_xlabel('Discourse Type')\nplt.show()","665497c7":"train['word_count'] = train['discourse_text'].apply(lambda x: len(x.split()))\ndiscourse_types = train['discourse_type'].unique()\ncolors = ['blue', 'orange', 'green', 'red', 'purple', 'brown', 'pink']\n\nfor idx, discourse_type in enumerate(discourse_types):\n    fig, ax = plt.subplots()\n    ax = sns.histplot(x = train.loc[train['discourse_type'] == discourse_type, 'word_count'].values, binwidth = 10, stat = 'percent', color = colors[idx], label = discourse_type, alpha = 0.5)\n    ax.set_xlim(0, 300)\n    plt.legend()","78258742":"for discourse_type in discourse_types:\n\n    comment_words = ''\n    stopwords = set(STOPWORDS)\n\n    # iterate through the csv file\n    for val in train.loc[train['discourse_type'] == discourse_type, 'discourse_text']:\n\n        # typecaste each val to string\n        val = str(val)\n\n        # split the value and lowercase\n        tokens = [i.lower() for i in re.split('\\,|\\.|\\s', val) if i != '']\n        comment_words += \" \".join(tokens)+\" \"\n        \n        \n    wordcloud = WordCloud(width = 800, height = 800,\n                background_color ='white',\n                stopwords = stopwords,\n                min_font_size = 10).generate(comment_words)\n    \n    print (f'********** {discourse_type} **********')\n    # plot the WordCloud image                      \n    plt.figure(figsize = (8, 8), facecolor = None)\n    plt.imshow(wordcloud)\n    plt.axis(\"off\")\n    plt.tight_layout(pad = 0)\n    plt.show()","7cace6d7":"# Word Count Distribution","b0c54810":"# Word Cloud","d5f6d0d2":"# Target Distribution"}}