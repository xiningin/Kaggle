{"cell_type":{"e252253e":"code","73ebb9cc":"code","e6d4c7a0":"code","aeceef8d":"code","d3a3e10a":"code","a3e3d121":"code","3c454bed":"code","319e812a":"code","8a0ffe76":"code","37d62d9d":"code","688b2a8d":"code","25e9fda3":"code","54e60eec":"code","e51d4427":"code","0218ee74":"code","12c2be3c":"code","31100c7d":"code","51b91d62":"code","37f091bd":"code","9e5b831a":"code","77058da9":"code","cc0e4246":"code","f95c2ed9":"markdown","d789f4e2":"markdown","beb36e06":"markdown","fee9de85":"markdown","922d9753":"markdown","f158c4c5":"markdown","2d1f9a4d":"markdown","feb9e3c0":"markdown","fde4825b":"markdown","6256fe79":"markdown","cddd2368":"markdown","edb01e85":"markdown","e898fffb":"markdown","599b1354":"markdown","3f66b883":"markdown"},"source":{"e252253e":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots","73ebb9cc":"df = pd.read_csv(\"..\/input\/up-crime-data-year-2019\/MR data - Compiled Data Set.csv\")","e6d4c7a0":"df.head(1)","aeceef8d":"#Cleansing the Data(Column Names)","d3a3e10a":"df.drop(['Title','Text'],inplace=True,axis=1)\ndf = df.rename(columns = {'Murder Happened with reason:\\n1:Property\/Land Disputes,\\n2:Family Dispute\\n3:Petty Quarrels,\\n4:Money Disputes, \\n5:Personal Vendetta, \\n6:Love Affairs, \\n7:Casteism\\n8: Unknown\/other':'Murder_Reason',\n                 'Crime Against Women ( Combined ):\\n1. Murder with Rape \\n2. Dowry Deaths(Sec. 3048)\\n3. Suicide(sec 305\/306)\\n4. Kidnapping(All)\\n5. Acid Attack(Sec. 326A IPC)\\n6. Cruelty by Husband\/in-laws((Sec.498 A IPC)\\n7. Rape only(Sec. 376 or 511 IPC)\\n8. Assault on Women with Intent to Outrage her Modesty (Sec. 354 IPC)\\n9. Cyber Crimes against Women\\n10. Protection of Children from Sexual Offences Act':'Crime against women(Act)'})","a3e3d121":"df.head()","3c454bed":"df.info()","319e812a":"df.columns","8a0ffe76":"label = ['Lucknow','Ghaziabad','Kanpur']\nfig = px.pie(labels=label,values=df['City '].value_counts(), names = label,width = 1000, height = 700)\nfig.update_traces(textposition = 'inside', \n                  textinfo = 'percent + label', \n                  hole = 0.8, \n                  marker = dict(colors = ['#ff6361','#1e434c','#ffa600'], line = dict(color = 'white', width = 2)))\n\nfig.update_layout(annotations = [dict(text = 'Crimes In City', \n                                      x = 0.5, y = 0.5, font_size = 38, showarrow = False, \n                                      font_family = 'monospace',\n                                      font_color = 'black')],\n                  showlegend = False)","37d62d9d":"fig = plt.figure(figsize=(15,7.5))\nsns.set_context(\"poster\", font_scale = .95)\nsns.set_style('darkgrid')\nsns.countplot(y=df['Murder_Reason'])\nplt.title('Murder Reason Vs Count')\nplt.tight_layout()","688b2a8d":"a = df[df['Murder_Reason']=='Love Affairs']['Number of female victims(adult)'].sum()\nb = df[df['Murder_Reason']=='Love Affairs']['Number of male victims(adult)'].sum()\nlabel = ['Female','Male']\nfig = px.pie(labels=label,values=[a,b], names = label,width = 900, height = 700)\nfig.update_traces(textposition = 'inside', \n                  textinfo = 'percent + label', \n                  hole = 0.8, \n                  marker = dict(colors = ['#ff6361','#1e434c','#ffa600'], line = dict(color = 'white', width = 2)))\n\nfig.update_layout(annotations = [dict(text = 'Love Affairs Victims', \n                                      x = 0.5, y = 0.5, font_size = 38, showarrow = False, \n                                      font_family = 'monospace',\n                                      font_color = 'black')],\n                  showlegend = False)","25e9fda3":"fig = plt.figure(figsize=(22,10))\nsns.set_context(\"poster\", font_scale = .82)\nsns.set_style('darkgrid')\nsns.set_palette(\"RdBu\",)\nsns.countplot(x='Murder_Reason',hue='City ',data=df)\nplt.title('No OF Cases Vs City Wise Murder_Reason')","54e60eec":"plt.figure(figsize=(22,8.4))\nsns.set_style('dark')\nplt.subplot(1,3,1)\n\nsns.countplot(x=df[df['City ']=='Ghaziabad']['Murder_Reason'],color='coral')\nplt.xlabel('Murder Reason')\nplt.ylabel('No of Cases Reported')\nplt.title('Ghaziabad')\nplt.xticks(rotation='vertical')\nplt.grid()\n\nhspace=0.9\nplt.subplot(1,3,2)\nsns.countplot(x=df[df['City ']=='Lucknow']['Murder_Reason'],color='limegreen')\nplt.xlabel('Murder Reason')\nplt.ylabel('No of Cases Reported')\nplt.title('Kanpur')\nplt.xticks(rotation='vertical')\nplt.grid()\n\nplt.subplot(1,3,3)\nsns.countplot(x=df[df['City ']=='Kanpur']['Murder_Reason'],color='blue')\nplt.xlabel('Murder Reason')\nplt.ylabel('No of Cases Reported')\nplt.title('Lucknow')\nplt.xticks(rotation='vertical')\nplt.grid()\n\nplt.suptitle('City v\/s Reason behind Murder')\nplt.show()","e51d4427":"a = df[df['City ']=='Ghaziabad']['Number of child victims'].sum()\nb = df[df['City ']=='Lucknow']['Number of child victims'].sum()\nc = df[df['City ']=='Kanpur']['Number of child victims'].sum()\nd = df[df['City ']=='Ghaziabad']['Number of female victims(adult)'].sum()\ne = df[df['City ']=='Lucknow']['Number of female victims(adult)'].sum()\nf = df[df['City ']=='Kanpur']['Number of female victims(adult)'].sum()\nlabel1 = ['Ghaziabad','Lucknow','Kanpur']\nfig = make_subplots(rows=1, cols=2, specs=[[{'type':'domain'}, {'type':'domain'}]])\nfig.add_trace(go.Pie(labels=label1, values=[a,b,c], name='Child'),\n              1, 1)\nfig.add_trace(go.Pie(labels=label1, values=[d,e,f], name='Female'),\n              1, 2)\n# Use `hole` to create a donut-like pie chart\nfig.update_traces(hole=.65, hoverinfo=\"label+value+name\",marker = dict(colors = ['#ffa600','#ff6361'], line = dict(color = 'white', width = 2)))\nfig.update_layout(\n    title_text=\"City Wise Crime Report Against Children And Females \",\n    \n# Add annotations in the center of the donut pies.\nannotations=[dict(text='Female', x=0.84, y=0.5, font_size=28, showarrow=False),\n                 dict(text='Child', x=0.18, y=0.5, font_size=28, showarrow=False)])\nfig.show()","0218ee74":"sns.set_style('darkgrid')\nsns.set_palette('coolwarm')\na=[]\nfor i in df['Crime against women(Act)']:\n    if str(i)=='nan':\n        continue\n    if ',' in str(i):\n        p=str(i).split(',')\n        for x in p:\n            a.append(int(x))\n    else:\n        a.append(int(i))\na.sort()\nfig = plt.figure(figsize=(20,7.5))\nsns.countplot(x=a[:272])\nplt.title('Crime Against Women In IPC(Act)')\nplt.xlabel('IPC(Act)')\nprint('''\n       Criminal Acts\n       \n       1: 'Murder with Rape',\n       2: 'Dowry Deaths', \n       3: 'Suicide',\n       4: 'Kidnapping',\n       5: 'Acid Attack', \n       6: 'Cruelty by Husband\/in-laws',\n       7: 'Rape only',\n       8: 'Assault on Women with Intent to Outrage her Modesty',\n       9: 'Cyber Crimes against Women' ,\n      10: 'Protection of Children from Sexual Offences Act'.\n''')","12c2be3c":"fig = plt.figure(figsize=(22,7.5))\nsns.set_palette(\"coolwarm\",)\nsns.set_style('darkgrid')\nd = sns.barplot(x='Murder_Reason',y='Number of female victims(adult)',data=df,palette=['#58508d','#58508d','#bc5090','#ff6361',\n                                                                                     '#ffa600','#d45087','#ef5675'])\nd.set_ylim([0,2])\nplt.title('Reason For Crime Against Women')","31100c7d":"sns.set_palette(\"RdBu\",)\nplt.figure(figsize=(20,17.5))\nplt.subplot(223)\nsns.barplot(x='City ',y='Number of female victims(adult)',data=df)\nplt.title('Cases Of Women-Murder in Cities')\nplt.subplot(224)\nd = sns.barplot(x='City ',y='Number of female(adult)',data=df)\nd.set_ylim([0.5,1.2])\nplt.title('Cases Of Women-Kidnappings in Cities')","51b91d62":"fig = plt.figure(figsize=(20,7.5))\nsns.set_palette(\"coolwarm\",)\nsns.set_style('darkgrid')\nd = sns.barplot(x='Murder_Reason',y='Number of child victims',data=df,palette=['#ffa600','#58508d','#ff6361','#bc5090'])                                                                    \nd.set_ylim([0,2])\nplt.title('Reason For Crime Against Child')\nplt.tight_layout()","37f091bd":"fig = plt.figure(figsize=(17,12))\nsns.set_palette(\"pastel\",)\nplt.subplot(223)\nsns.barplot(x='City ',y='Number of child victims',data=df)\nplt.title('Cases Of Child-Murder in Cities')\nplt.subplot(224)\nd = sns.barplot(x='City ',y='Kidnnaping:\\nNumber of child victims',data=df)\nd.set_ylim([0.5,2])\nplt.title('Cases Of Child-Kidnappings in Cities')\nplt.tight_layout()","9e5b831a":"A = df[df['City ']=='Ghaziabad']\na1 = A['Kidnnaping:\\nNumber of child victims'].sum()\nb1 = A['Number of male(adult) '].sum()\nc1= A['Number of female(adult)'].sum()\n\nB = df[df['City ']=='Lucknow']\na2 = B['Kidnnaping:\\nNumber of child victims'].sum()\nb2 = B['Number of male(adult) '].sum()\nc2 = B['Number of female(adult)'].sum()\n\nC = df[df['City ']=='Kanpur']\na3 = C['Kidnnaping:\\nNumber of child victims'].sum()\nb3 = C['Number of male(adult) '].sum()\nc3 = C['Number of female(adult)'].sum()\na = [a1,a2,a3]\nb = [b1,b2,b3]\nc = [c1,c2,c3]\n\nCity=['Ghaziabad','Lucknow','Kanpur']\nplt.figure(figsize=(20,8))\nsns.set_style('white')\nsns.set_palette('coolwarm')\nx=np.arange(len(City))\nplt.title(\"City wise no of victims\")\nplt.xticks(x,City,rotation='horizontal')\nplt.bar(x-0.2,a,width=0.2,label=\"Child \",color='#ffa600')\nplt.bar(x,b,width=0.2,label=\"Male\",color='#ff6361')\nplt.bar(x+0.2,c,width=0.2,label=\"Female\",color='#bc5090')\nplt.xlabel(\"City\")\nplt.title(\"City Wise No of Kidnappings\")\nplt.ylabel(\"No of Cases\")\nplt.legend()\nplt.grid()\nplt.show()","77058da9":"R1 = df.groupby('Murder_Reason').sum()\nChild=R1['Number of child victims'].astype(int)\nchild=np.array(Child)\nchild.astype(int)\nMale=R1['Number of male victims(adult)'].astype(int)\nmale=np.array(Male)\nmale.astype(int)\nFemale=R1['Number of female victims(adult)'].astype(int)\nFemale\nfemale=np.array(Female)\nfemale.astype(int)\nMurderReason=['Casteism','Family Dispute','Love Affairs','Money Disputes',\n'Personal Vendetta',\n'Petty Quarrels',\n'Property Disputes','Unknown reasons']\nx=np.arange(len(MurderReason))\n\n\n\nplt.figure(figsize=(19,10))\nsns.set_style('white')\nsns.set_palette('coolwarm')\nplt.xticks(x,MurderReason,rotation='vertical')\nplt.ylabel(\"No of Victims\")\nplt.title(\"No of victims v\/s Reason behind Murder\")\nplt.bar(x-0.3, child,width= 0.4, label = 'Child',color ='yellow')\nplt.bar(x,male,width= 0.4, label = 'Male',color='purple')\nplt.bar(x+0.3,female,width= 0.4, label = 'Female',color='red')\nplt.legend()\nplt.grid()\nplt.show()","cc0e4246":"A = df[df['City ']=='Ghaziabad']\na1 = A['Number of child victims'].sum()\nb1 = A['Number of male victims(adult)'].sum()\nc1= A['Number of female victims(adult)'].sum()\n\nB = df[df['City ']=='Lucknow']\na2 = B['Number of child victims'].sum()\nb2 = B['Number of male victims(adult)'].sum()\nc2 = B['Number of female victims(adult)'].sum()\n\nC = df[df['City ']=='Kanpur']\na3 = C['Number of child victims'].sum()\nb3 = C['Number of male victims(adult)'].sum()\nc3 = C['Number of female victims(adult)'].sum()\na = [a1,a2,a3]\nb = [b1,b2,b3]\nc = [c1,c2,c3]\n\nCity=['Ghaziabad','Lucknow','Kanpur']\nplt.figure(figsize=(18,10))\nsns.set_style('white')\nsns.set_palette('coolwarm')\nx=np.arange(len(City))\nplt.title(\"City wise no of victims\")\nplt.xticks(x,City,rotation='horizontal')\nplt.bar(x-0.2,a,width=0.2,label=\"Child \",color='#ffa600')\nplt.bar(x,b,width=0.2,label=\"Male\",color='#ff6361')\nplt.bar(x+0.2,c,width=0.2,label=\"Female\",color='#bc5090')\nplt.xlabel(\"City\")\nplt.ylabel(\"No of victims\")\nplt.legend()\nplt.grid()\nplt.show()","f95c2ed9":"1. >               In Ghaziabad Children And Male Cases Of Kidnappings Are High.\n2. >               Female Cases Of Kidnappings are Very Low In Lucknow But Child Cases have large No's. \n3. >               Kanpur Has Low Kidnappings in All the Categories.","d789f4e2":"> Property Disputes Are the one of primary Reason in Cases Of Crime Against Women","beb36e06":"# #Murder Reason","fee9de85":"> Love Affairs has the highest Cases in Murders","922d9753":"# Citywise Kidnapping Report","f158c4c5":"# Citywise Crime Report","2d1f9a4d":"# Cleansing the Data(Column Names)","feb9e3c0":"> Lucknow Is the Safer City For Women As it has less Victims and Almost No Women Kidnappings","fde4825b":"1.  Murder Cases In Lucknow are Highest of Love-Affairs,Personal-Vandetta.\n2.    Murder Cases In Ghaziabad are Highest of Petty Quarrels.\n3.    Murder Cases In Kanpur are Highest of Love-Affairs","6256fe79":"# Thanks","cddd2368":"# Crime Agaisnt Women","edb01e85":"1. > Lucknow has the highest no of male victims and lowest no of child victims.\n2. >   Kanpur and Ghaziabad has equal no of child victims","e898fffb":"#                                            Crime Against Child","599b1354":"# City Wise Crime Report","3f66b883":"1. >             1.Male Citizens Mostly Fall Victims in Property Disputes.\n2. >             2.Female Citizens are Victims Of Love-Affairs \n3. >             3.Children are Victims of Family Disputes"}}