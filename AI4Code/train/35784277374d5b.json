{"cell_type":{"71f61872":"code","0ad008af":"code","5c396fdb":"code","730d70e8":"code","83f0e793":"code","a37305d6":"code","db7d7394":"code","caee4aa8":"code","67764ab6":"code","205642aa":"code","4ceccedc":"code","e67c0816":"code","888c773b":"code","e84b26d1":"code","6dea6d4a":"code","687ffc55":"code","97a74073":"code","55ee2191":"markdown","4367a757":"markdown","3c08f989":"markdown","e93c9bd7":"markdown","7214bbee":"markdown","1d508349":"markdown","1690ee22":"markdown","73ed97cb":"markdown","60c5446e":"markdown","339f1bd6":"markdown","81b8c5b4":"markdown","478b87ef":"markdown","4d8c2ff5":"markdown","80de48eb":"markdown","61c0468b":"markdown"},"source":{"71f61872":"#imports\nfrom PIL import  Image\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nimport pylab\nimport warnings\nwarnings.filterwarnings('ignore')\n\n","0ad008af":"plt.figure(figsize=(15,10))\nimg = np.array(Image.open(r\"..\/input\/images-fifa\/fifa.jpg\"))\nplt.imshow(img,interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()","5c396fdb":"worldCup = pd.read_csv('..\/input\/fifa-world-cup\/WorldCups.csv')\nmatches = pd.read_csv('..\/input\/fifa-world-cup\/WorldCupMatches.csv')\nplayers = pd.read_csv('..\/input\/fifa-world-cup\/WorldCupPlayers.csv')","730d70e8":"worldCup.head()","83f0e793":"worldCup.replace(to_replace=\"Germany FR\", value=\"Germany\",inplace=True)","a37305d6":"players.head()","db7d7394":"matches.head()","caee4aa8":"\nplt.figure(figsize=(10, 10))\nplt.xticks(worldCup.Year, rotation=70)\nplt.yticks(worldCup.GoalsScored)\nplt.xlabel(\"Year\",fontsize=20)\nplt.ylabel(\"Goals\",fontsize=20)\nplt.title(\"Years vs Goals\",fontsize=24)\nplt.plot(worldCup.Year, worldCup.GoalsScored, color='blue')\nplt.show()","67764ab6":"#Teams qualifying per year\nplt.figure(figsize=(10, 10))\nplt.barh(worldCup.Year,worldCup.QualifiedTeams,alpha=0.5) \nplt.ylabel('Year')\nplt.xlabel('QualifiedTeams')\nplt.yticks(worldCup.Year, rotation=30)\nplt.xticks(worldCup.QualifiedTeams)\nplt.title('No of teams qualifying per year')\nplt.show()","205642aa":"\n#Attendance per year\nplt.figure(figsize=(10, 10))\nplt.barh(worldCup.Year,worldCup.Attendance,alpha=0.5,color='green') \nplt.ylabel('Year')\nplt.xlabel('Attendance')\nplt.yticks(worldCup.Year, rotation=30)\nplt.xticks(worldCup.Attendance, rotation=30)\nplt.title('Attendance in every year')\nplt.show()","4ceccedc":"#MatchesPlayed per year\nplt.figure(figsize=(10, 10))\nplt.bar(worldCup.Year,worldCup.MatchesPlayed,width =1.2,alpha=0.5,color='orange') \nplt.xlabel('Year')\nplt.ylabel('MatchesPlayed')\nplt.xticks(worldCup.Year, rotation=30)\nplt.yticks(worldCup.MatchesPlayed)\nplt.title('MatchesPlayed')\nplt.show()","e67c0816":"%matplotlib inline\nimport matplotlib.pyplot as plt\n\n\nx=worldCup['Winner'].value_counts()[:]\ny =worldCup['Runners-Up'].value_counts()[:]\nz = worldCup['Third'].value_counts()[:]\ns = worldCup['Fourth'].value_counts()[:]\nresults = pd.concat([x, y, z,s], axis=1)\n\nresults = results.sort_values(by=['Winner', 'Runners-Up', 'Third','Fourth'], ascending=False)\nresults = results.fillna(value=0)\nresults \n","888c773b":"results.plot(y=['Winner', 'Runners-Up', 'Third','Fourth'], kind=\"bar\", \n                  color =['gold','silver','brown','green'], figsize=(20, 8), width=0.9)","e84b26d1":"\nfrom itertools import cycle, islice\n\nmatches.replace(to_replace=\"Germany FR\", value=\"Germany\",inplace=True)\nmatches = matches.replace(to_replace='rn\">', value = \"\" , regex=True)\ngoals1 = matches.groupby(['Home Team Name'],as_index=False)[[\"Home Team Goals\"]].sum()\ngoals2 = matches.groupby(['Away Team Name'],as_index=False)[[\"Away Team Goals\"]].sum()\n\ngoals1 =goals1.rename(index=str, columns={\"Home Team Name\": \"country\", \"Home Team Goals\": \"goals1\"})\ngoals2 =goals2.rename(index=str, columns={\"Away Team Name\": \"country\", \"Away Team Goals\": \"goals2\"})\n\n\ngoals =goals1.merge(goals2, left_on='country', right_on='country', how='outer')\ngoals = goals.fillna(value=0)\ngoals['total_goals'] = goals['goals1'] + goals['goals2']\ngoals = goals.drop(['goals1', 'goals2'], axis=1)\n\ngoals = goals[goals.total_goals != 0]\ngoals.sort_values(by=['total_goals'], ascending=False, inplace =True)\ngoals.reset_index(drop=True,inplace=True)\n\nkey = goals['country']\ngoals = goals.iloc[key.argsort()]\n\nmy_colors = list(islice(cycle(['b', 'r', 'g', 'y', 'k']), None, len(goals)))\nplt.figure(figsize=(25, 10))\nplt.bar(goals.country,goals.total_goals,alpha=0.5, color=my_colors) \nplt.xlabel('Country')\nplt.ylabel('Goals')\nplt.xticks(goals.country, rotation=90, size=15)\nplt.title('Goals by country')\nplt.show()","6dea6d4a":"\nimport wordcloud\nplt.figure(figsize=(15,15))\nfamous_players = players[\"Player Name\"]\n\nfamous_players = famous_players.str.replace(' ', '')\ncounts = famous_players.value_counts().to_dict()\n\n\nwordcloud = wordcloud.WordCloud(\n                          background_color='white',\n                          max_words=200,\n                          max_font_size=40 \n                         ).generate_from_frequencies(counts)\n\nplt.imshow(wordcloud)\nplt.title(\"Players Wordcloud\",fontsize=24)\nplt.show()","687ffc55":"\nmatches.rename(columns={'Home Team Name': 'HomeTeamName', 'Away Team Name': 'AwayTeamName'}, inplace=True)\nteams = ['Belgium','England']\nbelVsEng = matches.loc[matches.HomeTeamName.isin(teams) | matches.AwayTeamName.isin(teams)]\n\nEngland_faceoff = belVsEng.loc[(belVsEng['HomeTeamName']=='England')| (belVsEng['AwayTeamName']=='England')]\n\n\n\n\nfor i in England_faceoff.index:\n    if England_faceoff.at[i,'HomeTeamName']=='England':\n        England_faceoff.at[i, 'goals'] = England_faceoff.at[i,'Home Team Goals']\n        England_faceoff.at[i, 'country'] = England_faceoff.at[i,'HomeTeamName']\n    else:\n        England_faceoff.at[i, 'goals'] = England_faceoff.at[i,'Away Team Goals']\n        England_faceoff.at[i, 'country'] = England_faceoff.at[i,'AwayTeamName']\n\nEngland_faceoff =England_faceoff.reset_index()\n\n\nEngland_faceoff_goals=pd.DataFrame()\nEngland_faceoff_goals=England_faceoff[['Year','country','goals']]\nEngland_faceoff_goals\nEngland_faceoff_Yeargoals = England_faceoff_goals.groupby(['Year','country'], as_index=False).sum()\n\n\n\n### Same for Belgium:\n\nBelgium_faceoff = belVsEng.loc[(belVsEng['HomeTeamName']=='Belgium')| (belVsEng['AwayTeamName']=='Belgium')]\nfor i in Belgium_faceoff.index:\n    if Belgium_faceoff.at[i,'HomeTeamName']=='Belgium':\n        Belgium_faceoff.at[i, 'goals'] = Belgium_faceoff.at[i,'Home Team Goals']\n        Belgium_faceoff.at[i, 'country'] = Belgium_faceoff.at[i,'HomeTeamName']\n    else:\n        Belgium_faceoff.at[i, 'goals'] = Belgium_faceoff.at[i,'Away Team Goals']\n        Belgium_faceoff.at[i, 'country'] = Belgium_faceoff.at[i,'AwayTeamName']\n\nBelgium_faceoff =Belgium_faceoff.reset_index()\n\n\nBelgium_faceoff_goals=pd.DataFrame()\nBelgium_faceoff_goals=Belgium_faceoff[['Year','country','goals']]\nBelgium_faceoff_goals.reset_index()\nBelgium_faceoff_Yeargoals = Belgium_faceoff_goals.groupby(['Year','country'], as_index=False).sum()\n\n\n\nyears=[]\nyears1 =Belgium_faceoff_Yeargoals.Year\nyears2 =England_faceoff_Yeargoals.Year\nyears = years1.append(years2)\n\nyears_array = pd.Series(years).values\nyears_array = np.unique(years_array)\n\nyears_array_string = years_array.astype(np.str)\nprint(years_array_string)\n\nplt.figure(figsize=(12, 8))\nplt.plot(Belgium_faceoff_Yeargoals.Year, Belgium_faceoff_Yeargoals.goals, '-y', label='Belgium')\nplt.plot(England_faceoff_Yeargoals.Year, England_faceoff_Yeargoals.goals,'-r', label='England')\nplt.legend(loc='upper left')\nplt.xticks(years_array)\nplt.show()\n","97a74073":"\nmatches.rename(columns={'Home Team Name': 'HomeTeamName', 'Away Team Name': 'AwayTeamName'}, inplace=True)\nteams = ['France','Croatia']\nfranvsCro = matches.loc[matches.HomeTeamName.isin(teams) | matches.AwayTeamName.isin(teams)]\n\nFrance_faceoff = franvsCro.loc[(franvsCro['HomeTeamName']=='France')| (franvsCro['AwayTeamName']=='France')]\n\n\n\n\nfor i in France_faceoff.index:\n    if France_faceoff.at[i,'HomeTeamName']=='France':\n        France_faceoff.at[i, 'goals'] = France_faceoff.at[i,'Home Team Goals']\n        France_faceoff.at[i, 'country'] = France_faceoff.at[i,'HomeTeamName']\n    else:\n        France_faceoff.at[i, 'goals'] = France_faceoff.at[i,'Away Team Goals']\n        France_faceoff.at[i, 'country'] = France_faceoff.at[i,'AwayTeamName']\n\nFrance_faceoff =France_faceoff.reset_index()\n\n\nFrance_faceoff_goals=pd.DataFrame()\nFrance_faceoff_goals=France_faceoff[['Year','country','goals']]\n##France_faceoff_goals\nFrance_faceoff_Yeargoals = France_faceoff_goals.groupby(['Year','country'], as_index=False).sum()\n\n\n### Same for Croatia:\n\nCroatia_faceoff = franvsCro.loc[(franvsCro['HomeTeamName']=='Croatia')| (franvsCro['AwayTeamName']=='Croatia')]\nfor i in Croatia_faceoff.index:\n    if Croatia_faceoff.at[i,'HomeTeamName']=='Croatia':\n        Croatia_faceoff.at[i, 'goals'] = Croatia_faceoff.at[i,'Home Team Goals']\n        Croatia_faceoff.at[i, 'country'] = Croatia_faceoff.at[i,'HomeTeamName']\n    else:\n        Croatia_faceoff.at[i, 'goals'] = Croatia_faceoff.at[i,'Away Team Goals']\n        Croatia_faceoff.at[i, 'country'] = Croatia_faceoff.at[i,'AwayTeamName']\n\nCroatia_faceoff =Croatia_faceoff.reset_index()\n\n\nCroatia_faceoff_goals=pd.DataFrame()\n\nCroatia_faceoff_goals=Croatia_faceoff[['Year','country','goals']]\nCroatia_faceoff_goals.reset_index()\nCroatia_faceoff_Yeargoals = Croatia_faceoff_goals.groupby(['Year','country'], as_index=False).sum()\n\n#print(Croatia_faceoff_goals)\n\nyears=[]\nyears1 =France_faceoff_Yeargoals.Year\nyears2 =Croatia_faceoff_Yeargoals.Year\nyears = years1.append(years2)\n\nyears_array = pd.Series(years).values\nyears_array = np.unique(years_array)\n\nyears_array_string = years_array.astype(np.str)\n#print(years_array_string)\n\nplt.figure(figsize=(12, 8))\nplt.plot(Croatia_faceoff_Yeargoals.Year, Croatia_faceoff_Yeargoals.goals, '-b', label='Croatia')\nplt.plot(France_faceoff_Yeargoals.Year, France_faceoff_Yeargoals.goals,'-r', label='France')\nplt.legend(loc='upper left')\nplt.xticks(years_array)\nplt.show()\n","55ee2191":"#### The counts: 'RONALDO': 33, 'KLOSE': 32, 'M\ufffdLLER': 28, 'OSCAR': 28","4367a757":"## It is 15 July morning and FIFA world cup 2018. This has motivated me to analyze this data set, let's explore and see what the FIFA history says!\n","3c08f989":"### The number of goals by each country ","e93c9bd7":"### The participation of the teams","7214bbee":"Looks like there were no championships in the year 1942 and 1946 :( The highest goals were in the year 1998 with total of 171","1d508349":"Looks like Brazi, Germany, and Italy have performed the best all these years. hmmm.. Well, I see France has won only 1 gold, 1 silver, 2 bronze, and, 1 fourth.\n2018 FIFA world cup results are unpredicatble indeed! :p\n","1690ee22":"### Let's look at the winners over the years","73ed97cb":"#### Croatia started playing only in year 1998. Now that is really impressive!","60c5446e":"#### Face Off: France Vs Croatia <img src='France.jpg'style=\"width:20px;\"><img src='Cro.png'style=\"width:20px;\">","339f1bd6":"### The goals scored all over the world cups","81b8c5b4":"#### Face off : Belgium vs England  <img src='Bel.png'style=\"width:20px;\"><img src='eng.jpg'style=\"width:20px;\">","478b87ef":"### Let's look at the players data","4d8c2ff5":"### Let's look at the worldcups data:","80de48eb":"### Let's look at worldCup matches data:","61c0468b":"### The most famous players"}}