{"cell_type":{"517877cd":"code","dcad048b":"code","4ccb593e":"code","bbc3d790":"code","3badf608":"code","9d410470":"code","591d3ea2":"code","f0c96132":"code","b5b9629f":"code","6b66e1ec":"code","7f378aa9":"code","2073af32":"code","14469dff":"code","498231f6":"code","4d17924e":"code","f33fca5d":"code","000120a6":"code","eeb98d38":"code","7f50eddf":"code","a45a53df":"code","2bd14cce":"code","8b21d02b":"code","5569a6d6":"code","5a331c79":"code","853f1e9b":"code","932da193":"code","c0f5bc2a":"code","dd9b8187":"code","e2bdd131":"code","a6074cf6":"code","53c6473a":"code","49a07166":"code","aeec5f80":"code","849abae9":"code","9c652e49":"code","282522ac":"code","4540312f":"code","55fd2b02":"code","4a5a8ce5":"code","0e956a06":"code","90e4d2b9":"markdown","9131cbba":"markdown","509343ec":"markdown","fc5faa05":"markdown","d20f10b6":"markdown","b0cf012e":"markdown","8d4cd490":"markdown","e6b02ef0":"markdown","f5443027":"markdown","8bb99db6":"markdown","9a4833c4":"markdown","98b25750":"markdown","83bedcd0":"markdown","161f0281":"markdown","601db5c2":"markdown","a02162ca":"markdown","e276ffd6":"markdown","33eaf941":"markdown","95639476":"markdown","38dc0b7e":"markdown","d5fc652c":"markdown","674a24ed":"markdown","1cd90e6e":"markdown","97c581c9":"markdown","20ea99ed":"markdown","bcd7d9aa":"markdown","7ae88776":"markdown","cadbbd4d":"markdown","b514bafb":"markdown","9477dfad":"markdown","318f03ec":"markdown","a7211875":"markdown","4d4eb20b":"markdown","54531648":"markdown","b1fd7897":"markdown","e2c37610":"markdown","70a26c03":"markdown","1f81b2be":"markdown","2077e043":"markdown","00991725":"markdown","536f09e9":"markdown","b2b9ecd8":"markdown","c6517ba6":"markdown","9f5a82f8":"markdown","515f5766":"markdown","64db263f":"markdown","4150c673":"markdown"},"source":{"517877cd":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \n        \n        \nimport matplotlib.pyplot as plt\n\nfrom seaborn import distplot\nimport plotly.express as px\n\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.offline as py\n\nimport gc\nimport warnings\nwarnings.filterwarnings('ignore')\n\n\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.svm import SVC\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import KFold,cross_val_score\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","dcad048b":"df = pd.read_csv('\/kaggle\/input\/passenger-list-for-the-estonia-ferry-disaster\/estonia-passenger-list.csv')\n\ndf.columns","4ccb593e":"df.head()","bbc3d790":"df.tail()","3badf608":"df.describe()","9d410470":"df.describe(include='O')","591d3ea2":"df.shape","f0c96132":"df.info()","b5b9629f":"df.isnull().sum()","6b66e1ec":"print('Age Distribution using Seaborm Distribution Plot')\n\ndistplot(df['Age'])\nplt.show()\n\nprint('Skewness of the Age ',df['Age'].skew())\nprint('Kurtosis of the Age ',df['Age'].kurt())\n\nprint('\\n Boxplot representation of the data \\n')\nsns.boxenplot(df['Age'])\nplt.show()\n","7f378aa9":"plt.hist(df['Age'],bins=10,edgecolor='k')\nplt.title('Age of Passenger ')\nplt.xlabel('Age')\nplt.ylabel('count')\nplt.show()","2073af32":"df[df.Age<1]","14469dff":"df[df.Lastname=='ZELMIN']","498231f6":"family_member = df[df.duplicated(subset=['Lastname'])] #AHLSTROM is one of the name\n#family_member.head()\nfamily_member[family_member.Lastname =='AHLSTROM']","4d17924e":"df_crew = df[df.Category=='C']\ndf_crew = df_crew[['Country','Category']].groupby('Country').count().sort_values(by='Category',ascending=False)\ndf_crew.head()\n","f33fca5d":"del(df_crew)\ngc.collect()","000120a6":"#df_type = df.groupby('Survived').sum()\nvalues = df.Survived.value_counts().values\nlabels = ['Death','Survived']\n\ntrace = go.Pie(values=values,labels=labels)\npy.iplot([trace])","eeb98d38":"labels = df.Country.value_counts().index\nvalues = df.Country.value_counts().values\n\nfig = px.pie(df,labels=labels, values=values,title='Country wise Passenger data',names=labels,\n            width=1000,height=800)\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()\n","7f50eddf":"labels = ['Male','Female']\nvalues = df.Sex.value_counts().values\n\nfig = px.pie(df,labels=labels,values=values,names=labels)\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","a45a53df":"pd.DataFrame(df['Country'].unique())","2bd14cce":"from wordcloud import WordCloud\n\n\nplt.figure(figsize=(12,8))\nwordcloud = WordCloud(collocations=False\n                     ).generate_from_text('*'.join(df.Country))\n\nplt.imshow(wordcloud,interpolation='bilinear')\nplt.show()","8b21d02b":"labels = ['Passenger','Crew']\nvalues = df.Category.value_counts().values\n\nfig = px.pie(df,labels=labels,values=values,names=labels)\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","5569a6d6":"g = sns.factorplot('Survived','Country',data=df,\n                   hue='Country',\n                   size=13,\n                   aspect=0.8,\n                   palette='magma',\n                   join=False\n              )","5a331c79":"grid = sns.FacetGrid(df, col='Survived', row='Category', size=2.2, aspect=1.6)\ngrid.map(plt.hist, 'Age', alpha=.5, bins=20)\ngrid.add_legend()","853f1e9b":"plt.figure(figsize=(12,8))\nsns.kdeplot(df.loc[df['Survived']==0,'Age'],label = 'Death')\nplt.title('Death\/Survival Plot based on age')\n\nsns.kdeplot(df.loc[df['Survived']==1,'Age'],label ='Survived' )\nplt.show()","932da193":"#Creating a different dataset for Survivor and Non Survivors\n\n\ndf_survivors = df[df['Survived']==1]\ndf_death = df[df['Survived']==0]\n\n\n\nlabels = ['Male','Female']\nvalues = df_survivors.Category.value_counts().values\n\nfig = px.pie(df_survivors,labels=labels,values=values,names=labels,title='Male-Female Percentage from Survivors')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()\n\nlabels = ['Male','Female']\nvalues = df_death.Category.value_counts().values\nfig = px.pie(df_death,labels=labels,values=values,names=labels,title='Male-Female Percentage from Death')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","c0f5bc2a":"df[['Sex','Survived']].groupby('Sex').mean().sort_values(by='Survived',ascending=False)","dd9b8187":"print('Country with highest Survival Passenger and Crew')\nplt_survivors = df_survivors.groupby('Country')['Country','Survived'].sum().sort_values(by='Survived',ascending=False)\n\nplt_survivors.plot(kind='bar',color='magenta')\nplt.show()\n\nprint('\\n Top 5 Country with Highest number of Survivors \\n',plt_survivors.head())\n\n","e2bdd131":"print('Country with highest Death Passenger and Crew')\nplt_death = df_death.groupby('Country')['Survived'].count().sort_values(ascending=False)\nplt_death.plot(kind='bar',color='red')\nplt.show()\n\nprint('\\n Top 5 Country with Highest number of Death \\n',plt_death.head())\n\n","a6074cf6":"plt.figure(figsize=(12,8))\nsns.countplot(x='Category',hue='Sex',data=df)\nplt.title('Genderwise Survival')\nplt.show()","53c6473a":"age_data = df.loc[:,['Age','Survived']]\nage_data['YEARS_AGE'] = age_data.loc[:,'Age']\nage_data['AGE_BAND'] = pd.cut(age_data.loc[:,'YEARS_AGE'],bins = np.linspace(20,70,num=11))\n\nage_data.head()","49a07166":"plt.figure(figsize=(10,5))\nage_group = age_data.groupby('AGE_BAND').mean()\nplt.bar(age_group.index.astype(str),age_group['Survived'])\nplt.xticks(rotation=60)\nplt.xlabel('Age Group(Bins)',fontsize=19)\n\nplt.show()","aeec5f80":"df[['Category','Survived']].groupby(['Category']).mean().sort_values(by='Survived',ascending=False)","849abae9":"plt.figure(figsize=(12,8))\ndata = df.corr()\nsns.heatmap(data,cmap='Reds',annot=True)\nplt.title('Heatmap for Correlation')\nplt.show()","9c652e49":"df.drop(['Country','Firstname','Lastname'],axis=1,inplace=True)","282522ac":"df['Sex'] = pd.get_dummies(df.Sex,drop_first=True)\ndf['Category'] = pd.get_dummies(df.Category,drop_first=True)\n\ndf.head()","4540312f":"y = df['Survived']\nX = df.drop(['Survived'],axis=1)","55fd2b02":"X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.3,random_state=0)\n\n# Model List\nmodels = [] \nmodels.append(('Logistic Regression', LogisticRegression())) \nmodels.append(('KNearest Neighbour', KNeighborsClassifier()))\nmodels.append(('SVM', SVC())) \nmodels.append(('Naive Bayes', GaussianNB()))\nmodels.append(('Decision Tree', DecisionTreeClassifier()))\nmodels.append(('Random Forest', RandomForestClassifier()))","4a5a8ce5":"results = [] \nnames = []\nfor name, model in models:\n    kfold = KFold(n_splits=10, random_state=42) \n    cv_results = cross_val_score(model, X_train, y_train, cv=kfold, scoring='accuracy') \n    results.append(cv_results) \n    names.append(name) \n      \n    print(\"\\n Model Name:{}\\n Accuracy :{:.3f} \\n Std:{:.3f}\".format(name, cv_results.mean(), cv_results.std()))","0e956a06":" \nfrom sklearn.metrics import confusion_matrix,classification_report\nclassifier = RandomForestClassifier()\nclassifier.fit(X_train,y_train)\ny_pred = classifier.predict(X_test)\ncm = confusion_matrix(y_test,y_pred)\nreport = classification_report(y_test,y_pred)\nprint('\\n Confusion Matrix is \\n',cm)\nprint('\\n Classification Matrix \\n',report)\n","90e4d2b9":"<div class=\"alert alert-block alert-info\">\n<h2>Converting Categorical to numerical<\/h2><\/div>\n\n","9131cbba":"<div class=\"alert alert-block alert-info\">\n<h2>Passengers\/Crew of Origin\/Country<\/h2><\/div>\n\n","509343ec":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation:<\/h3>\n\nFemale Crew more likely to survive than the male Crew. Whereas Male Passenger likely have better chance of Survival than Female.","fc5faa05":"<div class=\"alert alert-block alert-info\">\n<h2>Age Histogram<\/h2><\/div>\n","d20f10b6":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation:<\/h3>\n\nWell yes there looks an infant was travelling with Lastname as ZELMIN. Since there was no family related information being provided, we will try to search with Lastname and the PassengerID in sequence if indeed they were family. ","b0cf012e":"<div class=\"alert alert-block alert-info\">\n<h2>Loading the Dataset<\/h2><\/div>","8d4cd490":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation<\/h3>\n    \nShip has almost equal number of Passengers and crew.","e6b02ef0":"\n<div class=\"alert alert-block alert-info\">\n<h2>Passenger and Crew Ratio in the Ship<\/h2><\/div>\n\n","f5443027":"\n\n<div class=\"alert alert-block alert-info\">\n<h2>Survival Rate<\/h2><\/div>","8bb99db6":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation:<\/h3>\n    \nThere is no clear pattern, but younger people have higher death ratio than the Elderly    \n    ","9a4833c4":"<div class=\"alert alert-block alert-info\">\n<h2>Country with Highest Death<\/h2><\/div>\n","98b25750":"<div class=\"alert alert-block alert-info\">\n<h2>Age Distribution - Passengers and Crew<\/h2><\/div>\n\n","83bedcd0":"<div class=\"alert alert-block alert-info\">\n<h2>Confusion Matrix:<\/h2><\/div>\n","161f0281":"<div class=\"alert alert-block alert-info\">\n<h2>Did the crew aboard have a higher chance of survival than passengers?<\/h2><\/div>\n","601db5c2":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation :<\/h3>\n\nYes!! The crew has better survival ratio than the Passengers. \n\n    \n    ","a02162ca":"<div class=\"alert alert-block alert-info\">\n<h2>Model Performance<\/h2><\/div>\n","e276ffd6":"<div class=\"alert alert-block alert-info\">\n<h2>Any other Family Travelling?<\/h2><\/div>\n","33eaf941":"<div class=\"alert alert-block alert-info\">\n<h2>Infant Travelling?<\/h2><\/div>\n\n\n\n \n","95639476":"<div class=\"alert alert-block alert-info\">\n<h2>Survival Category V\/S Age<\/h2><\/div>\n\n","38dc0b7e":"<div class=\"alert alert-block alert-warning\"><h3> Observation<\/h3>\n    \nAge with 0 ? Possibly an infant was travelling the unfortunate ship. Will look onto it in our future analysis","d5fc652c":"<div class=\"alert alert-block alert-info\">\n<h2>Male or Female: Who has better Survival rate?<\/h2><\/div>\n\n","674a24ed":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation:<\/h3>\nFrom the above representation we can see age is less than 1 year. Let's find the details.","1cd90e6e":"<div class=\"alert alert-block alert-info\">\n<h2>WordCloud<\/h2><\/div>\n","97c581c9":"<div class=\"alert alert-block alert-info\">\n<h2> Country Wise Passengers <\/h2><\/div>\n","20ea99ed":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation:<\/h3>\n    \nCountry with Estonia has the highest number of Crew travelling followed by Sweden","bcd7d9aa":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation<\/h3>\n\n   \nMale has higher percentage of survival as well as death than Female\n","7ae88776":"<div class=\"alert alert-block alert-info\">\n<h2>Country With highest number of Survivors<\/h2><\/div>\n","cadbbd4d":"<div class=\"alert alert-block alert-warning\">\n\n<h3>Conclusion\/Summary: <\/h3><\/div>\n    \na. Most of the Passengers\/Crew in the Ship were of age group 20-55.\n\nb. There was an child less than 1 year of age was onboarded with family.\n\nc. There was no null value present in the dataset. However, Categorical values like Sex and Category are present.\n    \nd. Crew member from different country apart from Estonia followed by Sweden were also present. \n    \ne. Sweden and Estonia has the most number of passengers\/crew onboarded followed by other country.\n    \nf. Data Provided in the dataset is equal number in terms of Male and Female.\n    \ng. Crew is approx 20% of the total passengers travelling.\n    \nh. Male has better survival rate than females.\n    \ni. Estonia country has highest survival rate than Sweden.\n    \nj. Female Crew more likely to survive than the male Crew. Whereas Male Passenger likely have better chance of Survival than Female.\n    \nk. Crew has higher rate of survival than the Passengers.\n    \nl. SVM and Logistic Regression Performs better than any other models.\n \n \n  \n    \n    ","b514bafb":"<div class=\"alert alert-block alert-info\">\n<h1> Importing Libraries<\/h1><\/div>","9477dfad":"<div class=\"alert alert-block alert-info\">\n<h2>Model Building<\/h2><\/div>\n\n","318f03ec":"### Upvote if you like my work","a7211875":"<div class=\"alert alert-block alert-info\">\n<h2>Missing Value Check<\/h2><\/div>","4d4eb20b":"<div class=\"alert alert-block alert-info\">\n<h2>KDE Plot for Survival and AGE<\/h2><\/div>\n\n","54531648":"<div class=\"alert alert-block alert-info\">\n\n<h1>Introduction<\/h1>\n<\/div>\n\n\nOn September 27 1994 the ferry Estonia set sail on a night voyage across the Baltic Sea from the port of Tallin in Estonia to Stockholm. She departed at 19.00 carrying 989 passengers and crew, as well as vehicles, and was due to dock at 09.30 the following morning, Tragically, the Estonia never arrived.\n\nThe weather was typically stormy for the time of year but, like all the other scheduled ferries on that day, the Estonia set off as usual. At roughly 01:00 a worrying sound of screeching metal was heard, but an immediate inspection of the bow visor showed nothing untoward. The ship suddenly listed 15 minutes later and soon alarms were sounding, including the lifeboat alarm. Shortly afterwards the Estonia rolled drastically to starboard. Those who had reached the decks had a chance of survival but those who had not were doomed as the angled corridors had become death traps. A Mayday signal was sent but power failure meant the ship\u2019s position was given imprecisely. The Estonia disappeared from the responding ships\u2019 radar screens at about 01:50.\n\nThe Marietta arrived at the scene at 02:12 and the first helicopter at 03:05. Of the 138 people rescued alive, one died later in hospital.\n\nOf the 310 people who had reached the decks, almost a third died of hypothermia. The final death toll was shockingly high \u2013 more than 850 people.\n\nAn official inquiry found that failure of the locks on the bow visor, which broke away under the punishing waves, caused water to flood the car deck and quickly capsize the ship. The report also noted a lack of action, delay in sounding the alarm, lack of guidance from the bridge and a failure to light distress flares.\n\nThe sinking of the Estonia was Europe\u2019s worst postwar maritime disaster.\n","b1fd7897":"<div class=\"alert alert-block alert-info\">\n<h2>HeatMap<\/h2><\/div>\n\n","e2c37610":"<div class=\"alert alert-block alert-info\">\n<h2>Age-Bin Survival Data Visualization<\/h2><\/div>\n","70a26c03":"<div class=\"alert alert-block alert-info\">\n<h2>Survival Rate Country wise<\/h2><\/div>\n\n\n","1f81b2be":"<div class=\"alert alert-block alert-info\">\n<h2>Shape of the dataset<\/h2><\/div>","2077e043":"<div class=\"alert alert-block alert-info\">\n<h2>Datatype<\/h2><\/div>","00991725":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation<\/h3>\n\nNo much corelation between the variables.","536f09e9":"<div class=\"alert alert-block alert-info\">\n<h2>Genderwise Survival <\/h2><\/div>\n\n","b2b9ecd8":"![Estonia.jpg](attachment:Estonia.jpg)\n\n","c6517ba6":"<div class=\"alert alert-block alert-info\">\n<h2>Data Preprocessing Step<\/h2><\/div>","9f5a82f8":"<div class=\"alert alert-block alert-info\">\n<h2>Summary Statisics<\/h2><\/div>","515f5766":"<div class=\"alert alert-block alert-info\">\n<h2>Crews from different country<\/h2><\/div>","64db263f":"<div class=\"alert alert-block alert-warning\">\n<h3> Observation:<\/h3>\n\nFrom the above data, it looks like there were 2 kids from the same family with one Male accompanying and they didn't survive the accident ","4150c673":"\n<div class=\"alert alert-block alert-info\">\n<h2>Genders of Estonia Ship<\/h2><\/div>\n"}}