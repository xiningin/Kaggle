{"cell_type":{"b5db4136":"code","13ccc907":"code","fc79a7eb":"code","72678bb0":"code","494a4cbf":"code","4f38c998":"code","7be6222a":"code","1e02e2cc":"code","26eb932e":"code","0160aa66":"code","cb17360f":"code","d1a2d94b":"code","4558a14c":"code","db95e1b0":"code","8757c4a4":"code","5c0be5dd":"code","74c204c1":"markdown","5af4141b":"markdown","a73d6426":"markdown"},"source":{"b5db4136":"import numpy   as np\nimport pandas  as pd\nimport seaborn as sns\n\nimport plotly.express as px","13ccc907":"!ls ..\/input\/anime-recommendations-database","fc79a7eb":"# Read csv files\nanimes_df  = pd.read_csv('..\/input\/anime-recommendations-database\/anime.csv')\nratings_df = pd.read_csv('..\/input\/anime-recommendations-database\/rating.csv')","72678bb0":"# Rename column, display sample\n#animes_df.columns = ['anime_id', 'name', 'genre', 'type', 'episodes', 'average_rating', 'members']\nanimes_df.rename({'rating':'average_rating'}, axis=1, inplace=True)\nanimes_df.sample(5).style.background_gradient(cmap=sns.light_palette(\"green\", as_cmap=True))","494a4cbf":"# Inspect amount of rows and columns\nprint(animes_df.shape)\nprint(ratings_df.shape)","4f38c998":"# List, tuple and dict\na = [123, 456]\nb = (123, 456)\nc = {'key':'value'}","7be6222a":"# Inspect Data types\nratings_df.dtypes","1e02e2cc":"# Turn into string so that colormap is ignored\nratings_df['user_id']  = ratings_df['user_id'].astype('str')\nratings_df['anime_id'] = ratings_df['anime_id'].astype('str')\nanimes_df['anime_id']  = animes_df['anime_id'].astype('str')","26eb932e":"# Inspect ratings df\nratings_df.sample(5).style.background_gradient(cmap=sns.light_palette(\"green\", as_cmap=True)).hide_index()","0160aa66":"len(animes_df['name'].unique())","cb17360f":"# Join both dataframes\nfull_df = pd.merge(ratings_df, animes_df, on='anime_id', how='left')\nfull_df","d1a2d94b":"fig = px.histogram(full_df,\n                 x       = 'average_rating',\n                 nbins   = 100,\n                 opacity = 0.8,\n                 title   = 'Histogram of Average Rating',\n                 template = 'plotly_dark',\n                 color_discrete_sequence=['#23c6cc','#23c6cc']\n                )\n\n\nfig.update_xaxes(title='Average Rating')\nfig.update_yaxes(title='Count')\nfig.show()","4558a14c":"full_df.head()","db95e1b0":"fig = px.box(animes_df,\n       x = 'type',\n       y = 'average_rating',\n      )\n\nfig.update_xaxes(title='Type')\nfig.update_yaxes(title='Average Rating')\nfig.show()","8757c4a4":"fig = px.scatter(fus_df_df,\n             y       = 'average_rating',\n             x       = 'episodes',\n             opacity = 0.8,\n             title   = 'Histogram of Average Rating',\n             template  = 'plotly_dark',\n            )\n\n\nfig.update_xaxes(range=[0,500])\nfig.show(ani)\n","5c0be5dd":"full_df.query(\"name == 'Naruto' and rating > -1\")['name']","74c204c1":"# Exploratory Data Analysis","5af4141b":"# Read Data","a73d6426":"# Data Integration"}}