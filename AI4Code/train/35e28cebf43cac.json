{"cell_type":{"98c09d00":"code","12d27986":"code","0b00e874":"code","7c09cb5c":"code","94fc85e1":"code","a1330218":"code","0db30d2a":"code","7f0e973c":"code","2e0a2b36":"code","098279d9":"code","e3f6bb4d":"code","96f27763":"code","29e2049c":"code","aac6fa0b":"code","dff16191":"code","ee923f2d":"markdown","1ec6272a":"markdown","7c67094b":"markdown","42319658":"markdown","42bfec5a":"markdown"},"source":{"98c09d00":"import warnings\nwarnings.simplefilter('ignore')\nimport numpy as np\nimport pandas as pd\nfrom PIL import Image, ImageFilter, ImageOps\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom tqdm import tqdm\nimport time\nfrom contextlib import contextmanager\nimport gc\nimport os\nimport cv2\nfrom glob import glob\nimport os\n\n\nimport requests\nimport io\n#\u6700\u5927\u8868\u793a\u884c\u6570\u306e\u6307\u5b9a\uff08\u3053\u3053\u3067\u306f50\u884c\u3092\u6307\u5b9a\uff09\npd.set_option('display.max_rows', 200)","12d27986":"INPUT_DIR = '..\/input\/shigglecup-1st\/DATA\/'","0b00e874":"train_df = pd.read_csv(f'{INPUT_DIR}train.csv')\ntest_df = pd.read_csv(f'{INPUT_DIR}test.csv')","7c09cb5c":"##train_flag\u3092\u4ed8\u3051\u308b\u3002\ntrain_df[\"train_id\"] = 1\ntest_df[\"train_id\"] = 0\nall_df = pd.concat([train_df,test_df]).reset_index(drop=True)\nprint(train_df.shape)\nprint(test_df.shape)\nprint(all_df.shape)","94fc85e1":"all_df.isna().sum().T","a1330218":"def show_images_glob(images, color ,figsize=(20,10), columns = 5):\n  plt.figure(figsize=figsize)\n  for i, image in enumerate(images):\n      if image != image:\n        continue\n      if not os.path.exists(image):\n        continue\n      plt.subplot(len(images) \/ columns + 1, columns, i + 1)\n      img = cv2.imread(image)\n      im_rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)\n      plt.imshow(im_rgb)\n      plt.title(color)","0db30d2a":"def show_gbc(colors):\n    img_df = all_df[[colors]].dropna()\n    cnt = 0\n    for i in range(len(img_df.dropna()[colors].unique())):\n        #\u91cd\u3044\u306e\u3067\u4e0a\u304b\u30893\u3064\u307b\u3069\n        if cnt > 2:\n            break\n        color =  img_df.dropna()[colors].unique()[i]\n        color_list = f\"{INPUT_DIR}pokemon_images\/\" + train_df[train_df[colors]==color].reset_index(drop=True)[\"url_image\"]\n        if len(color_list) == 0:\n            continue\n        show_images_glob(color_list,color)\n        cnt += 1","7f0e973c":"print(all_df['color_1'].nunique())\nprint(all_df['type_1'].nunique())","2e0a2b36":"show_gbc('color_1')","098279d9":"print(all_df['color_2'].nunique())\nprint(all_df['type_2'].nunique())","e3f6bb4d":"show_gbc('color_2')","96f27763":"print(all_df['color_f'].nunique())\nprint((all_df['type_1']+all_df['type_2']).nunique())","29e2049c":"show_gbc('color_f')","aac6fa0b":"poke = all_df.loc[all_df['pokemon']=='altaria',:]\npoke.T","dff16191":"for colors in ['color_1','color_2','color_f']:\n    color = poke[colors].values[0]\n    color_list = f\"{INPUT_DIR}pokemon_images\/\" + train_df[train_df[colors]==color].reset_index(drop=True)[\"url_image\"]\n    show_images_glob(color_list,color)","ee923f2d":"### \u30c1\u30eb\u30bf\u30ea\u30b9\u306e\u30ab\u30e9\u30fc\u3068\u540c\u3058\u30dd\u30b1\u30e2\u30f3\u306f\uff1f\n* 1\u3064\u3081\u306e\u30b0\u30eb\u30fc\u30d7\u306f\u30bf\u30a4\u30d7\uff11\u304c\u30c9\u30e9\u30b4\u30f3\n* 2\u3064\u3081\u306e\u30b0\u30eb\u30fc\u30d7\u306f\u30bf\u30a4\u30d7\uff12\u304c\u3072\u3053\u3046\n* 3\u3064\u3081\u306e\u30b0\u30eb\u30fc\u30d7\u306f\u30bf\u30a4\u30d7\uff11\u3001\u30bf\u30a4\u30d7\uff12\u306e\u7d44\u307f\u5408\u308f\u305b\u304c\uff08\u30c9\u30e9\u30b4\u30f3\u3001\u3072\u3053\u3046\uff09","1ec6272a":"### color_2\u306e\u4ef2\u9593\u3092\u78ba\u8a8d\u3059\u308b\n* \u30a8\u30b9\u30d1\u30fc\u3001\u30b4\u30fc\u30b9\u30c8\u3001\u307f\u305a","7c67094b":"## Color_1\u306e\u4ef2\u9593\u3092\u78ba\u8a8d\u3059\u308b\n* \u540c\u3058\u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u306b\u306f\u3001type_1\u304c\u540c\u3058\u30dd\u30b1\u30e2\u30f3\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u306a\u3063\u3066\u3044\u308b\n* \u30ce\u30fc\u30de\u30eb\u3001\u8349\u3001\u60aa","42319658":"### \u7d50\u8ad6\uff08\u96d1\u306a\u8868\u793a\u3067\u3059\u307f\u307e\u305b\u3093\uff09\n* \u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u306b\u898b\u305b\u304b\u3051\u3066\u5168\u7136\u30ab\u30e9\u30fc\u95a2\u4fc2\u306a\u3044\n* \u30bf\u30a4\u30d7\u306b\u95a2\u9023\u3057\u3066\u3044\u305d\u3046(color_1\u3068type_1\u304c\u95a2\u9023,color_2\u3068type_2\u304c\u95a2\u9023,type_1\u3068type_2\u306e\u7d44\u307f\u5408\u308f\u305b\u3068color_f\u304c\u95a2\u9023)\n* \u7279\u5fb4\u91cf\u4f7f\u3046\u306a\u3089\u7d20\u76f4\u306btype_1,2\u3092\u4f7f\u3063\u305f\u307b\u3046\u304c\u5206\u304b\u308a\u6613\u3044...\n* \u4ed6\u306b\u4f7f\u3044\u3069\u3053\u308d\u3042\u308c\u3070\u6559\u3048\u3066\u304f\u3060\u3055\u3044...","42bfec5a":"### color_f\u306e\u4ef2\u9593\u3092\u78ba\u8a8d\u3059\u308b\n* type1\u3068type2\u306e\u7d44\u307f\u5408\u308f\u305b\u304c\u540c\u3058\u30dd\u30b1\u30e2\u30f3\u3067\u30ab\u30e9\u30fc\u30b3\u30fc\u30c9\u304c\u540c\u3058\n* \uff08\u3042\u304f\u3001\u30a8\u30b9\u30d1\u30fc\uff09\u3001\uff08\u306f\u304c\u306d\u3001\u30b4\u30fc\u30b9\u30c8\uff09\u3001\uff08\u3069\u304f\u3001\u30c9\u30e9\u30b4\u30f3\uff09"}}