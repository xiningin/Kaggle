{"cell_type":{"6573745d":"code","35d62b29":"code","46814aae":"code","796d0af5":"code","25492ea4":"code","6fccc2e5":"code","0bd7dd64":"markdown"},"source":{"6573745d":"# package and data import\nimport numpy as np\nimport pandas as pd\nfrom datetime import datetime\n \ndf = pd.read_csv('\/kaggle\/input\/brooklyn-food-waste\/brooklyn.csv',index_col=0)","35d62b29":"# format dates to calculate time delta\ndf[['date_collected','label_date']] = df[['date_collected','label_date']]\\\n   .apply(pd.to_datetime, errors = 'coerce', format = '%Y-%m-%d')","46814aae":"# calculate time delta between date on label and date item was trashed\n# if positive, the item was trashed before the label date indicated\ndf['label_collect_difference'] = df['label_date'] - df['date_collected']\ndf.label_collect_difference.fillna(pd.Timedelta('0 days'), inplace=True)\ndf['label_collect_int'] = df.label_collect_difference\/pd.Timedelta(days=1)\ndf.head()","796d0af5":"# pivot table of mean time delta based on label language\nlabels = df.groupby('label_language').label_collect_difference\\\n.agg(counts = 'count', mean_time_diff = lambda group: group.sort_values()\\\n.diff().mean())\nlabels.mean_time_diff.fillna(pd.Timedelta('0 days'), inplace=True)\nlabels","25492ea4":"# prep z-scaled time delta data for visualization\nlabels.mean_time_diff.fillna(pd.Timedelta('0 days'), inplace=True)\nlabels['mean_time_delta'] = labels.mean_time_diff\/pd.Timedelta(days=1)\nlabels['mean_time_delta'] = (labels['mean_time_delta'] - labels['mean_time_delta'].mean()) \/ labels['mean_time_delta'].std()\nlabels.head()","6fccc2e5":"ax = labels.mean_time_delta.plot.bar(figsize=(10,7))\nax.set_ylabel('z-scaled mean timedelta (days)');","0bd7dd64":"### Exploratory data analysis\n* ingest data & format dates\n* quick pivot table of label language types\n* visualize z-scaled timedeltas across language types"}}