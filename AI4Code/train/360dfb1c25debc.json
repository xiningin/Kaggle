{"cell_type":{"08907780":"code","4d945443":"code","23009861":"code","854ca24d":"code","a270cdd2":"code","c5949c14":"code","55d7706b":"code","26a7736a":"code","925420f3":"code","a854c7a5":"code","a08e8b3d":"markdown","94aa5578":"markdown","f4d08a72":"markdown","4f70a2bb":"markdown","3dbde45c":"markdown","5dc0d376":"markdown","c5408f29":"markdown","41a45f81":"markdown","f9d92ffe":"markdown","a4b20138":"markdown","227dd063":"markdown","8087af78":"markdown"},"source":{"08907780":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set_style('darkgrid')","4d945443":"# Read csv\nbonds_df=pd.read_csv('..\/input\/premium-bond-winners-december-2021\/Premium_Bonds_Dec2021.csv')\n\n# Preview df\nbonds_df.head()","23009861":"# Drop unwanted column\nbonds_df.drop('Unnamed: 6', axis=1, inplace=True)\n\n# Remove commas\nbonds_df=bonds_df.replace(\",\",\"\", regex=True)\n\n# Convert object to float type\nbonds_df['Prize Value'] = bonds_df['Prize Value'].astype('float')\nbonds_df['Total V of Holding'] = bonds_df['Total V of Holding'].astype('float')\nbonds_df['Val of Bond'] = bonds_df['Val of Bond'].astype('float')\n\n# Types summary\nbonds_df.dtypes","854ca24d":"bonds_df.head()","a270cdd2":"# Figure size\nplt.figure(figsize=(12,6))\n\n# Countplot\nsns.countplot(x='Prize Value', data=bonds_df)\n\n# Aesthetics\nplt.title('Number of prizes by value', fontsize=15)","c5949c14":"print('Total amount of money won this month is \u00a3{}'.format(bonds_df['Prize Value'].sum()))","55d7706b":"# Figure size\nplt.figure(figsize=(16,6))\n\n# Countplot\nsns.countplot(x='Area', data=bonds_df, order=bonds_df.Area.value_counts().iloc[:10].index)\n\n# Aesthetics\nplt.title('Number of prizes by area', fontsize=15)","26a7736a":"# Figure size\nplt.figure(figsize=(16,6))\n\n# Countplot\nsns.histplot(x='Total V of Holding', data=bonds_df, kde=True, binwidth=5000)\n\n# Aesthetics\nplt.title('Distribution of prizes winner holdings', fontsize=15)","925420f3":"# Make copy of df\ncopy_df=bonds_df.copy()\n\n# Extract first 3 digits\ncopy_df['Winning Bond NO.']=copy_df['Winning Bond NO.'].str[:3]\n\n# Clean data (sometimes code begins with 89Q - remove these)\nfor i in range(len(copy_df)):\n    if (copy_df.loc[i,'Winning Bond NO.'].isnumeric()):\n        copy_df.loc[i,'Winning Bond NO.']=float(copy_df.loc[i,'Winning Bond NO.'])\n    else:\n        copy_df.drop(i, axis=0, inplace=True)\n        \n# Convert object to float type\ncopy_df['Winning Bond NO.'] = copy_df['Winning Bond NO.'].astype('float')\n\n# Preview df\ncopy_df.head()","a854c7a5":"# Figure size\nplt.figure(figsize=(16,6))\n\n# Countplot\nsns.histplot(x='Winning Bond NO.', data=copy_df, kde=True, binwidth=5)\n\n# Aesthetics\nplt.title('Distribution of bond numbers', fontsize=15)","a08e8b3d":"# Libraries","94aa5578":"From this we see that almost all the prizes awarded are for \u00a31000.","f4d08a72":"# Data","4f70a2bb":"At first this histogram may suggest the random number generator is not uniform. However we can understand this skew by the fact that people can withdraw money from their account, at the same time making the corresponding bonds numbers void. And since the longer you save money the more likely you will need it at some point, it makes sense that most of the available numbers are the ones bought recently.","3dbde45c":"**Top 10 areas with most number of prizes**","5dc0d376":"Much better, now we can begin some analysis.","c5408f29":"**How random are the draws**","41a45f81":"**Histogram of holding value distribution**","f9d92ffe":"**Clean data**","a4b20138":"# Analysis","227dd063":"**Number of prizes by prize value**","8087af78":"This graphs shows that almost all of the winners have maxed out how much they can save in their accounts in order to increase their chances of winning. This also loosely shows that the amount of money you have in your account is positively correlated with how likely you are to win a prize."}}