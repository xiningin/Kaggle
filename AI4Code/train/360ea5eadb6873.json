{"cell_type":{"b69db8db":"code","ae23a056":"code","5ffbde6f":"code","4cf1a38b":"code","a5a9a4cc":"code","24559f4b":"code","be077a5b":"code","934a5461":"code","943bddc4":"code","af8e679e":"code","0a0c9714":"code","d5bae100":"code","4dbfe444":"markdown","7e708190":"markdown","6475eca3":"markdown","aeeaec45":"markdown","3a997eb5":"markdown"},"source":{"b69db8db":"!pip install earthpy","ae23a056":"import os\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport rasterio as rio\nimport geopandas as gpd\nimport earthpy as et\nimport earthpy.spatial as es\nimport earthpy.plot as ep","5ffbde6f":"# Downloading data using below code\ndata = et.data.get_data('cold-springs-fire')","4cf1a38b":"# Let's set the working directory\nos.chdir(os.path.join(et.io.HOME, 'earth-analytics'))","a5a9a4cc":"# Defining the path of the '.tif' file to be used\nnaip_data_path = os.path.join(\"data\", \"cold-springs-fire\", \n                              \"naip\", \"m_3910505_nw_13_1_20150919\", \n                              \"crop\", \"m_3910505_nw_13_1_20150919_crop.tif\")","24559f4b":"naip_data_path","be077a5b":"# opening the data using rasterio module as shown below\nwith rio.open(naip_data_path) as src:\n    naip_data = src.read()","934a5461":"naip_data.shape","943bddc4":"# Calculating NDVI by considering 1st and 4th layer \nnaip_ndvi = es.normalized_diff(naip_data[3], naip_data[0])","af8e679e":"naip_ndvi","0a0c9714":"# Let's now visualize the NDVI values using earthpy.plot submodule\nep.plot_bands(naip_ndvi, cmap='RdYlGn', scale=False, vmin=-1, vmax=1,\n              title=\"Analyzing calculated NDVI values\")\nplt.show()","d5bae100":"# Plotting a histogram will be much more informative and accurate.\nep.hist(naip_ndvi, colors='lightblue' ,figsize=(12, 6),\n        title=[\"Visualizing Distribution of NDVI values\"])\n\nplt.show()","4dbfe444":"For the calculation of NDVI we need only Near-Infrared and Red band values which is the 4th and 1st layer respectively.\n\nearthpy.spatial submodule has a method that can do this task for us. That is ***earthpy.spatial.normalized_diff***","7e708190":"### References\nI would like to mention some references that helped me in carrying out this work:\n* [https:\/\/www.earthdatascience.org\/](http:\/\/)\n* [https:\/\/earthpy.readthedocs.io\/en\/v0.6.4\/index.html](http:\/\/)\n* [https:\/\/rasterio.readthedocs.io\/en\/latest\/index.html](http:\/\/)\n\nThanks for your time.","6475eca3":"### Results:\n* It can be observed from above histogram that a majority of the values of NDVI is lying between -0.1 to 0.3.\n* NDVI values corresponding to dense vegetation (approx 0.6 to 0.9) has not been observed at all.\n* It can be estimated that majorly the analyzed land field probably consist of just sand, rock, roads, etc. along with some shrubs, grasslands, senescing crops, etc.","aeeaec45":"For demonstration purpose we are going to use ***cold-springs-fire*** dataset. A ***.tif*** formatted file having 4 bands (Red, Green, Blue, Near-Infrared respectively), each containing (2312,4377) pixels has been used for calculation purpose","3a997eb5":"## **Hello and Welcome to this notebook for calculating NDVI for a sample .tif format file**\nIn the first two cells necessary libraries has been prepared."}}