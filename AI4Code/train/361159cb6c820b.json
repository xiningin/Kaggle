{"cell_type":{"605e2418":"code","933ec901":"code","1bc5ea55":"code","2fd979dd":"code","20c5da97":"code","90465b90":"code","7637647e":"code","26fd7c44":"code","80dd193e":"code","2507a993":"code","f939a744":"markdown"},"source":{"605e2418":"import os\nimport numpy as np\nimport pandas as pd\nimport random\nimport seaborn as sns\nimport datetime as datetime\nimport matplotlib.dates as dates\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nfrom contextlib import contextmanager\nfrom time import time\nfrom tqdm import tqdm\nimport lightgbm as lgbm\nfrom sklearn.metrics import classification_report, log_loss, accuracy_score\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.model_selection import KFold","933ec901":"goog=pd.read_csv('..\/input\/silicon-valley-stock-history\/GOOG.csv')\namzn=pd.read_csv('..\/input\/silicon-valley-stock-history\/AMZN.csv')\nnflx=pd.read_csv('..\/input\/silicon-valley-stock-history\/NFLX.csv')","1bc5ea55":"data=pd.DataFrame()\ndata['Date']=goog['Date']\ndata['Google']=goog['Open']\ndata['Netflix']=nflx['Open']\ndata['Amazon']=amzn['Open']\ndata","2fd979dd":"data['Date']=pd.to_datetime(data['Date'])\ndata=data.sort_values('Date').reset_index(drop=True)","20c5da97":"fig=make_subplots(specs=[[{\"secondary_y\":False}]])\nfig.add_trace(go.Scatter(x=data['Date'],y=data['Google'],name='Google'),secondary_y=False,)\nfig.add_trace(go.Scatter(x=data['Date'],y=data['Netflix'],name='Netflix'),secondary_y=False,)\nfig.add_trace(go.Scatter(x=data['Date'],y=data['Amazon'],name='Amazon'),secondary_y=False,)\nfig.update_layout(autosize=False,width=700,height=500,title_text=\"Google, Amazon, and Netflix Stocks\")\nfig.update_xaxes(title_text=\"Date\")\nfig.update_yaxes(title_text=\"Price\",secondary_y=False)\nfig.show()","90465b90":"col0=data.columns.to_list()\ncol1=col0+['Google 7d-before','slope']\ndata1=pd.DataFrame(columns=col1)\ndata1[col0]=data\ndata1","7637647e":"n=len(data)\nfor  i in range(n):    \n    pmi=data1['Google'][i]\n    data1.loc[i+7,'Google 7d-before']=pmi\ndata1","26fd7c44":"data1['slope']=(data1['Google']-data1['Google 7d-before'])\/7\ndata2=data1[['Date','Google','Google 7d-before','slope']]\ndata3=data2[14:-7]\n\ndata3","80dd193e":"fig=make_subplots(specs=[[{\"secondary_y\":True}]])\nfig.add_trace(go.Scatter(x=data3['Date'],y=data3['slope'],name='slope'),secondary_y=False,)\nfig.update_layout(autosize=False,width=700,height=500,title_text=\"Google Stocks Slope change\")\nfig.update_xaxes(title_text=\"Date\")\nfig.update_yaxes(title_text=\"Slope\",secondary_y=False)\nfig.update_yaxes(title_text=\"Slope change\",secondary_y=True)\nfig.show()","2507a993":"data3[data3['slope']<-25]","f939a744":"#### The 2020 stock market crash was a major and sudden global stock market crash that began on 20 February 2020 and ended on 7 April. The biggest drop in Google stock is also linked to this."}}