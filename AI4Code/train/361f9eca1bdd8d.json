{"cell_type":{"89838d41":"code","47bc5f53":"code","7c99b50d":"code","f92b9ebe":"code","62c4a3e5":"code","ae3cd522":"code","a407fb75":"code","028863d8":"code","30ae6200":"code","91845712":"code","83045220":"code","d4f46f11":"code","03d837ca":"code","29ebab66":"code","48e7771b":"code","c1614328":"code","ceee68b7":"code","373d8858":"code","dbc92f45":"code","c7b4d031":"code","62f60e28":"code","5ee5e6f7":"code","c3d2ef09":"code","23161d3c":"code","f23009b0":"code","e0cb4853":"code","2fe503b9":"code","6d2876d2":"code","e3b02301":"code","b98e7b6b":"code","df25945c":"code","65ba7947":"code","827cf34a":"code","d6018273":"code","e9de7ea4":"code","e73fbf02":"code","26f62a86":"code","21d2e92e":"code","bd6e38ba":"code","16deda53":"code","31da08d4":"markdown","be76df03":"markdown","fcf3c296":"markdown","6c75de38":"markdown","59d675b9":"markdown","1e2f1350":"markdown","15a9d3be":"markdown","280ba2ee":"markdown","d2c4957a":"markdown","3f71a9a5":"markdown","1f7014f7":"markdown","3dab396c":"markdown","63bed7e2":"markdown"},"source":{"89838d41":"import numpy as np \nimport pandas as pd \n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","47bc5f53":"data = pd.read_csv('\/kaggle\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv')","7c99b50d":"data.head()","f92b9ebe":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nsns.set_style('darkgrid')\n\nimport warnings\nwarnings.filterwarnings('ignore')","62c4a3e5":"data.info()","ae3cd522":"sns.distplot(data['Ladder score'])\nplt.show()","a407fb75":"fig, ax = plt.subplots(figsize=(10,10))\nsns.boxplot(y=\"Regional indicator\", x=\"Ladder score\", data=data, orient=\"h\", ax=ax)\nplt.show()","028863d8":"region = data.groupby('Regional indicator').agg({'Country name': 'count'})\nregion","30ae6200":"region.plot.pie(y='Country name', autopct=\"%.2f\", legend=False, figsize=(8,8), ylabel='')\nplt.show()","91845712":"f, ax = plt.subplots(figsize=(10,10))\nsns.scatterplot(x='Ladder score', y='Social support', hue='Regional indicator', data=data, ax=ax)\nplt.show()","83045220":"for_hist = data.iloc[0:, 6:12]","d4f46f11":"sns.pairplot(for_hist)\nplt.show()","03d837ca":"for_hist.hist(figsize=(15,12))\nplt.show()","29ebab66":"mean_by_region = data.groupby('Regional indicator').agg({'Ladder score': 'mean'})","48e7771b":"mean_by_region.plot.barh(legend=False, title='Mean by region', grid=True)\nplt.show()","c1614328":"data['Ladder score'].describe()","ceee68b7":"data['Ladder score'].median()","373d8858":"q25 = data['Ladder score'].quantile(.25)\nq75 = data['Ladder score'].quantile(.75)\nmean = data['Ladder score'].mean()","dbc92f45":"unhappiest = data[data['Ladder score'] < q25]\nmiddle = data[(data['Ladder score'] > q25) & (data['Ladder score'] < q75)]\nhappiest = data[data['Ladder score'] > q75]","c7b4d031":"fig,ax = plt.subplots(nrows=1, ncols=3, figsize=(20,6))\nax = plt.subplot(1, 3, 1).set(title='unhappy', ylim = [0, 25])\nsns.countplot(x='Regional indicator', data=unhappiest)\nplt.xticks(rotation=45, ha='right')\nax = plt.subplot(1, 3, 2).set(title='middle', ylim = [0, 25])\nsns.countplot(x='Regional indicator', data=middle)\nplt.xticks(rotation=45, ha='right')\nax = plt.subplot(1, 3, 3).set(title='happy', ylim = [0, 25])\nsns.countplot(x='Regional indicator', data=happiest)\nplt.xticks(rotation=45, ha='right')\nplt.show()","62f60e28":"happiest_chart = happiest.groupby('Regional indicator', as_index=False).agg({'Country name': 'count'})\nfor region in (happiest_chart.sort_values(by='Country name', ascending=False)['Regional indicator']):\n    print()\n    print('The happiest countries in ' + region + ' are:', end=' ')\n    happy_list = list(happiest[happiest['Regional indicator'] == region]['Country name'])\n    print(*happy_list, sep=', ')\n    print('------------------------------------------------------------------------------')","5ee5e6f7":"unhappiest_chart = unhappiest.groupby('Regional indicator', as_index=False).agg({'Country name': 'count'})\nfor region in (unhappiest_chart.sort_values(by='Country name', ascending=False)['Regional indicator']):\n    print()\n    print('The unhappiest countries in ' + region + ' are:', end=' ')\n    unhappy_list = list(unhappiest[unhappiest['Regional indicator'] == region]['Country name'])\n    print(*unhappy_list, sep=', ')\n    print('------------------------------------------------------------------------------')","c3d2ef09":"regions = data['Regional indicator'].unique()","23161d3c":"for region in regions:\n    d1 = data[data['Regional indicator'] == region][['Country name', 'Regional indicator', 'Ladder score']]\n    upper = d1[d1['Ladder score'] == d1['Ladder score'].max()].values\n    lower = d1[d1['Ladder score'] == d1['Ladder score'].min()].values      \n    print('Happiest in ' + region + ' is ' + upper[0][0] + ' with score ' + str(upper[0][2]))\n    print('Unhappiest in ' + region + ' is ' + lower[0][0] + ' with score ' + str(lower[0][2]))\n    print(end='---------------------------------------------------------------')\n    print()","f23009b0":"data_per_years = pd.read_csv('\/kaggle\/input\/world-happiness-report-2021\/world-happiness-report.csv')","e0cb4853":"data_per_years.nunique()","2fe503b9":"data.nunique()","6d2876d2":"data['Regional indicator'].unique()","e3b02301":"rus_data = data_per_years[data_per_years['Country name'] == 'Russia']","b98e7b6b":"rus_data.head()","df25945c":"fig = plt.figure(figsize=(20,20))\nn = 1\nfor col in rus_data.columns[2:]:\n    ax = fig.add_subplot(3, 3, n)\n    sns.lineplot(x='year', y=col, data=rus_data, ax=ax).set(xlabel=' ', ylabel=' ', title=col + ' per years')\n    n += 1","65ba7947":"# fig,ax = plt.subplots(3, 3, figsize=(20,20))\n# n = 1\n# for col in rus_data.columns[2:]:\n#     plt.subplot(3, 3, n)\n#     sns.lineplot(x='year', y=col, data=rus_data)\n#     n += 1\n# the same, just for me","827cf34a":"data_per_years.head()","d6018273":"country_region_data = data[['Country name', 'Regional indicator']]","e9de7ea4":"new_data = data_per_years.merge(country_region_data, how='left', left_on='Country name', right_on='Country name')","e73fbf02":"new_data['Regional indicator'].unique()","26f62a86":"new_data","21d2e92e":"grouped_data = new_data.groupby(['Regional indicator', 'year'], as_index=False).agg({'Life Ladder': 'mean'})","bd6e38ba":"grouped_data","16deda53":"fig = plt.figure(figsize=(20,12))\nsns.lineplot(x='year', y='Life Ladder', hue='Regional indicator', data=grouped_data).set(title='\"Life Ladder\" mean values per years for regions')\nplt.show()","31da08d4":"It can explain some thoughts about boxplot which was earlier. Difference between some regions depend on size of this region.","be76df03":"The main histograms in zoomed size","fcf3c296":"It has 2 modas and looks almost normal))","6c75de38":"The amount of 'Country name' aren't the same","59d675b9":"No null values and all numeric variables have float type","1e2f1350":"Mean and median are very close","15a9d3be":"Names of significant columns","280ba2ee":"Lineplots of indicators per years for Russia","d2c4957a":"Division by region","3f71a9a5":"Then I'll groupby regions and do lineplot of changes 'Ladder score' by years","1f7014f7":"'Life Ladder' mean values per years for regions","3dab396c":"You can write your country instead of \"Russia\" and have same statistics","63bed7e2":"We can see here some interesting observation: large difference between hi- and low-level of happiness in regions like 'South Asia', 'Sub-Saharan Africa', 'MiddleEast and North Africa'.\nAn anomalies in 'Latin America and Carribbean' (for the worse), 'Central and Eastern Europe' (in both sides), and 'East Asia' (for the better side).\nVery small differnce between levels in 'North America and ANZ'"}}