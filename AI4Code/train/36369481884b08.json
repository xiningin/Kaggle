{"cell_type":{"6944fcfd":"code","d73f3ed3":"code","af2ec42f":"code","a8a2d7dc":"code","564ebe35":"code","32830126":"code","a4f9df6d":"code","649d3332":"code","c4f728bf":"code","0c8a043c":"code","b8ab34b3":"code","b3828367":"code","7dae4557":"code","bee98924":"code","264ca0e9":"code","47fc73e3":"code","d1d78f0f":"code","daac5502":"code","d8140e62":"code","1b7a45bf":"code","1689255f":"code","fbb8daa0":"code","28ee4f1b":"code","2c41a025":"code","07412fbd":"markdown","7f37e3a6":"markdown","b7177a81":"markdown","0d6e29ff":"markdown","46395d64":"markdown","5e84190c":"markdown","ca6e2d36":"markdown","4b3f2303":"markdown","e466cd8b":"markdown","70593408":"markdown","b3436ea6":"markdown","0d9072d0":"markdown","4d087847":"markdown","4313400e":"markdown","6043fa1b":"markdown","29a59372":"markdown","90c68b07":"markdown","0028a831":"markdown","e7f40fb4":"markdown","5031054d":"markdown","ad6d2894":"markdown","da09e551":"markdown","459f02bd":"markdown","0bed7fcb":"markdown","38773e64":"markdown"},"source":{"6944fcfd":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import r2_score, mean_absolute_error, mean_squared_error\nfrom math import sqrt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","d73f3ed3":"ds= pd.read_csv('..\/input\/fifa19\/data.csv')\nds.columns","af2ec42f":"ds.shape","a8a2d7dc":"ds.head()","564ebe35":"columnas=['Finishing','Volleys','Dribbling','LongShots','ShotPower','Positioning']","32830126":"df=pd.DataFrame(ds, columns=columnas)\ndf.head()","a4f9df6d":"df.isnull().sum()","649d3332":"df.dropna(inplace=True)","c4f728bf":"df.describe()","0c8a043c":"df.corr()","b8ab34b3":"df_corr=df.corr()\nplt.rcParams['figure.figsize']=(25,16)\nsns.heatmap(df_corr, linewidths=.5, cmap=\"Blues\",annot=True, annot_kws={'size':40})","b3828367":"sns.pairplot(df.sample(100))","7dae4557":"df.head()","bee98924":"x=df.drop(['Finishing'],axis=1).values\ny=df['Finishing']\nprint(x.shape)\nprint(y.shape)","264ca0e9":"print(x)","47fc73e3":"print(y)","d1d78f0f":"X_train, X_test, y_train, y_test = train_test_split(x, y, test_size=0.80, random_state=42)\nprint(X_train.shape)\nprint(X_test.shape)\nprint(y_train.shape)\nprint(y_test.shape)","daac5502":"lm = LinearRegression(fit_intercept = True)\nlm.fit(X_train, y_train)\n\ny_pred = lm.predict(X_train)","d8140e62":"#print(lm.score(X_train, y_train))\nprint(\"The R^2 score of the training dataset is:\",r2_score(y_train, y_pred))\nprint(\"The R^2 score of the testing dataset is:\",r2_score(y_test, lm.predict(X_test)))\nprint(\"The Mean Square Error (MSE) for the testing dataset is:\",sqrt(mean_squared_error(y_test, lm.predict(X_test))))\nprint(\"The Mean Abosulte Error (MAE) for the testing dataset is:\",mean_absolute_error(y_test, lm.predict(X_test)))\nprint(\"The Coefficients of the Indepent Variables are:\",lm.coef_)\nprint(\"The Intercept is:\",lm.intercept_)","1b7a45bf":"plt.scatter(y_train, y_pred, color='blue', linewidth=3)\nplt.plot([y_train.min(), y_train.max()], [y_train.min(), y_train.max()], 'k--', c='red', lw=3)\nplt.xlabel(\"True Values\")\nplt.ylabel(\"Predicted Values\")\nplt.legend(title=\"R^2 Score:0.859\", loc=\"upper left\")\nplt.title(\"True vs Predicted Values in Training Dataset\")\nplt.show()","1689255f":"sns.residplot(y_train, y_pred, color='blue')\nplt.xlabel(\"Actual Values\")\nplt.ylabel(\"Residual\")\nplt.title(\"Actual vs Residual Values\")\nplt.show()","fbb8daa0":"x2=df.drop(['Finishing'],axis=1)\nx2.columns","28ee4f1b":"Coeff = lm.coef_\nCoeff.shape\nCoeff = Coeff.reshape(-1,5)\nCoeff_df=pd.DataFrame(Coeff,columns=['Volleys', 'Dribbling', 'LongShots', 'ShotPower', 'Positioning'])\nCoeff_df","2c41a025":"Volleys=80\nDribbling=80\nLongShots=75\nShotPower=50\nPositioning=99\n\nprediction=(lm.intercept_)+(Coeff_df['Volleys'].values[0]*Volleys)+(Coeff_df['Dribbling'].values[0]*Dribbling)+(Coeff_df['LongShots'].values[0]*LongShots)+(Coeff_df['ShotPower'].values[0]*ShotPower)+(Coeff_df['Positioning'].values[0]*Positioning)\nprint(\"The predicted Finishing score is:\",prediction)","07412fbd":"## Using our Model","7f37e3a6":"## Exploratory Analysis","b7177a81":"Further dividing the values of our dataset into training and testing groups","0d6e29ff":"# Determining the Key Factors for Developing a Top Striker in FIFA","46395d64":"After filtering out the missing values, we do a summarization of the dataset and a correlation table of our selected traits","5e84190c":"Finding the coefficients of our selected traits ","ca6e2d36":"Creating our model by fitting the training datasets in the LinearRegression function and saving the predictions using the independent features of the training dataset","4b3f2303":"Printing key metrics to find the accuracy of our model","e466cd8b":"## Problem \nThe purpose of this Kaggle Notebook is to find **the top traits that have the most influence in the Finishing score of a footballer** so that players can best invest their skill points.","70593408":"Dividing our features between dependent (our target) and independent variables","b3436ea6":"## Importing Packages and Modules\n### Visualization \n* Matplotlib\n* Seaborn\n\n### Data Processing\n* Numpy\n* Pandas\n\n### Regression\n* Sklearn","0d9072d0":"Printing the values of the independent and dependent variables","4d087847":"Actual vs Residual Values","4313400e":"Importing the data and finding about the columns that it has as well as the number of rows and columns","6043fa1b":"Visualizing the top 5 rows of the dataset ","29a59372":"<img src=\"https:\/\/cdn02.nintendo-europe.com\/media\/images\/10_share_images\/games_15\/nintendo_switch_4\/H2x1_NSwitch_EASportsFifa19.jpg\">","90c68b07":"We can see how our data it's well suited for a linear regression model","0028a831":"Plotting our Predicted Values vs True Values with the R^2 Score","e7f40fb4":"Plotting the correlation values and a pairplot of the traits that interests us","5031054d":"Finally, we put some values on our key traits to predict the Finishing score","ad6d2894":"Filtering out the Finishing trait","da09e551":"## Modeling","459f02bd":"## Solution\nIn order to solve this, we would make use of machine learning python libraries (numpy, pandas,and sklearn) to make a simple exploratory data analysis and visualization. Later, we would make a linear regression model double checking its acurracy with key metrics and finalize with the testing of our model with some values of the found traits.","0bed7fcb":"Selecting the traits that most likely have an influence in the Finishing score and using them to filter the dataset","38773e64":"Now, it's time to find and drop the missing values"}}