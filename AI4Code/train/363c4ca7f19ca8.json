{"cell_type":{"8c1fb2d5":"code","7873c275":"code","2811f595":"code","1cb7316e":"code","34c3670f":"code","88789448":"code","dcd7dba8":"code","4c71ca35":"code","1aa126c1":"code","4c9ec80a":"code","72ff22e7":"code","ffb11cf1":"code","fd191b03":"code","4a574ff0":"code","59c33af4":"code","252959c5":"code","afd8b0fe":"code","af10a14a":"code","d4ca186c":"code","f1bcb9a0":"markdown","3fb9648a":"markdown","a5a4836c":"markdown"},"source":{"8c1fb2d5":"library(tidyverse) # metapackage of all tidyverse packages","7873c275":"df <- read_csv('..\/input\/data-science-and-stem-salaries\/Levels_Fyi_Salary_Data.csv')\ndf <- df %>% mutate(company=tolower(company),level=toupper(level),title=tolower(title),location=tolower(location))\ndim(df)\ntail(df)\nhead(df)","2811f595":"google <- df %>% subset(company=='google')\ndim(google)\ntail(google)","1cb7316e":"fig <-  function(width,height) {\n    options(repr.plot.width=width,repr.plot.height=height)\n}\nfig(21,7)","34c3670f":"par(mfrow=c(1,3),mar=c(4,4,2,1))\ntable(google$Race)  %>% barplot(main='Race in Google',col='lightgreen')\ntable(google$gender) %>% barplot(main='Gender in Google',col='pink')\ntable(google$Education) %>% barplot(main='Education in Google',col='steelblue')","88789448":"microsoft <- df %>%  filter(company=='microsoft')\ndim(microsoft)\ntail(microsoft)","dcd7dba8":"par(mfrow=c(1,3),mar=c(4,4,2,1))\ntable(microsoft$Race)  %>% barplot(main='Race in Microsoft',col='lightblue')\ntable(microsoft$gender) %>% barplot(main='Gender in Microsoft',col='lightgreen')\ntable(microsoft$Education) %>% barplot(main='Education in Microsoft',col='pink')","4c71ca35":"i <-  grep('2021',google$timestamp)\ngoogle2021 <- google %>% slice(i)\ndim(google2021)\ntable(google2021$location) %>% names\ntable(google2021$level) %>% names\ntail(google2021)","1aa126c1":"google2021 %>% select_if(is.numeric) %>% cor %>% data.frame %>% select('totalyearlycompensation') %>% \narrange(-totalyearlycompensation)","4c9ec80a":"google2021[google2021$title=='software engineer',] %>%  subset(level=='L5') %>% arrange(totalyearlycompensation)%>% head\ngoogle2021[google2021$title=='software engineer',] %>%  subset(level=='L5') %>% arrange(totalyearlycompensation)%>% tail","72ff22e7":"g <-  google2021 %>% group_by(title) %>% \nsummarize(n=n(),totalyearlycompensation=mean(totalyearlycompensation),\n          basesalary=mean(basesalary),bonus=mean(bonus),stockgrantvalue=mean(stockgrantvalue),\n          yearsofexperience=round(mean(yearsofexperience),1),yearsatcompany=round(mean(yearsatcompany),1)) %>%\narrange(-n)\ng","ffb11cf1":"g %>% ggplot(aes(fct_reorder(title,-n),n))+geom_col()+labs(title='Staffing in Google 2021',x='job title')","fd191b03":"g %>% ggplot(aes(fct_reorder(title,-totalyearlycompensation),totalyearlycompensation))+geom_col()+\nlabs(title='Average salary overview in Google 2021',x='job title')","4a574ff0":"i <-  grep('2021',microsoft$timestamp)\nmicrosoft2021 <- microsoft %>% slice(i)\ndim(microsoft2021)\ntable(microsoft2021$location) %>% names\ntable(microsoft2021$level) %>% names\ntail(microsoft2021)","59c33af4":"i <-  grep('2021',microsoft$timestamp)\nmicrosoft2021 <- microsoft %>% slice(i)\ndim(microsoft2021)\ntable(microsoft2021$location) %>% names\ntable(microsoft2021$level) %>% names\ntail(microsoft2021)\nmicrosoft2021 %>% select_if(is.numeric) %>% cor %>% data.frame %>% select('totalyearlycompensation') %>% \narrange(-totalyearlycompensation)","252959c5":"microsoft2021[microsoft2021$title=='software engineer',] %>%  subset(level==64) %>% arrange(totalyearlycompensation)%>% head\nmicrosoft2021[microsoft2021$title=='software engineer',] %>%  subset(level==64) %>% arrange(totalyearlycompensation)%>% tail","afd8b0fe":"m <- microsoft2021 %>% group_by(title) %>% \nsummarize(n=n(),totalyearlycompensation=mean(totalyearlycompensation),\n          basesalary=mean(basesalary),bonus=mean(bonus),stockgrantvalue=mean(stockgrantvalue),\n          yearsofexperience=round(mean(yearsofexperience),1),yearsatcompany=round(mean(yearsatcompany),1)) %>% \narrange(-n)\nm","af10a14a":"m %>% ggplot(aes(fct_reorder(title,-n),n))+geom_col()+labs(title='Staffing in Microsoft 2021',x='job title')","d4ca186c":"m %>% ggplot(aes(fct_reorder(title,-totalyearlycompensation),totalyearlycompensation))+geom_col()+\nlabs(title='Average salary overview in Microsoft 2021',x='job title')","f1bcb9a0":"#### At Microsoft, the same title and level, the total yearly compensation is huge different depending on the location, work experience and job responsibilities. for example, software engineer, level 64, the lowest compensation is 85,000USD in India, and the highest compensation is 360,000USD in USA. The difference between the highest and the lowest is around 4.2 times","3fb9648a":"#### At Google, the same title and level, the total yearly compensation is quite different depending on the location, work experience and job responsibilities. for example, software engineer, level 5, the lowest compensation is 66,000USD in India, and the highest compensation is 961,000USD in USA. The difference between the highest and the lowest is as high as 14.5 times.","a5a4836c":"#### At Google Company,Total compensation is significantly associated with bouns,basesalary,stockgrantvalue and years of experience. The data shows us that it's least associated with education and race,because by order their coefficient is : 0.792,0.778,0.692,0.488,0.417."}}