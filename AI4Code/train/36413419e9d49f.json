{"cell_type":{"1b3ec2fc":"code","18d16fe1":"code","b9798ca1":"code","f6d981c4":"code","2d56a8cd":"code","f16b6ad6":"code","70fe74f1":"code","a827f75e":"code","9dc6ce40":"code","3d2e1de2":"code","163566b6":"code","ab996943":"code","93c4003f":"code","5efcaa79":"code","0252c21a":"code","b8712993":"code","68477fee":"code","db318581":"code","f17ee497":"code","702b4869":"code","4189bc6f":"code","95562007":"markdown","9cff4947":"markdown","36591814":"markdown","4cc38db6":"markdown","51279bf4":"markdown","6d60cb09":"markdown","a1b72674":"markdown","bcfe39ba":"markdown","9fbd5286":"markdown","06e5d68c":"markdown","6d999bd1":"markdown","41772827":"markdown","ee44aabe":"markdown","f4ac800d":"markdown","f7a57540":"markdown","a0b6ab4f":"markdown","a452176c":"markdown"},"source":{"1b3ec2fc":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n#ignore warning messages\nimport warnings\nwarnings.filterwarnings('ignore')\nimport plotly\nplotly.offline.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.express as px\nfrom wordcloud import WordCloud\nfrom wordcloud import WordCloud,STOPWORDS","18d16fe1":"df = pd.read_csv('..\/input\/trumps-legacy\/Trumps Legcy.csv')","b9798ca1":"df.head()","f6d981c4":"df[\"date\"] = pd.to_datetime(df[\"date\"])\ndf['year'] = df['date'].dt.year\ndf['month'] = df['date'].dt.month\ndf['day'] = df['date'].dt.day\ndf['hour'] = df['date'].dt.hour","2d56a8cd":"df.groupby(\"year\").size().reset_index(name='counts')","f16b6ad6":"Category=df['hour'].value_counts().sort_index()\ndata = [go.Pie(\n        labels = Category.index,\n        values = Category.values,\n        hoverinfo = 'label+value',\n)]\nplotly.offline.iplot(data, filename='active_category')","70fe74f1":"# Consider data from 2017\ndf_2017 = df[df.year>2017].copy();\ndf_2017.shape","a827f75e":"sns.distplot(df_2017['favorites'])","9dc6ce40":"df_2017_favs = df_2017[df_2017.favorites > df_2017['favorites'].quantile([0.95]).values[0]].copy()","3d2e1de2":"df_2017_favs.shape","163566b6":" def showWordCloud(data):\n    words = ' '.join(data)\n    STOPWORDS.update([\"https\",\"t\",\"co\",\"u\",\"s\",\"rt\", \"amp\"])    \n    cleaned_word = \" \".join([word for word in words.split()])\n    wordcloud = WordCloud(stopwords = STOPWORDS,\n                         background_color = 'black',\n                         width = 2500,\n                         height = 2500\n                         ).generate(cleaned_word)\n    plt.figure(1,figsize = (13,13))\n    plt.imshow(wordcloud)\n    plt.axis('off')\n    plt.show()\n\nshowWordCloud(df_2017_favs['text'])","ab996943":"df_2017_favs['just_date'] = df_2017_favs['date'].dt.strftime('%Y-%M-%d')","93c4003f":"df_2017_favs.head()","5efcaa79":"df_dow = pd.read_csv(\"..\/input\/dowjones2017\/DJI-2017.csv\")","0252c21a":"df_dow['change%'] = (abs(df_dow['Close'] - df_dow['Open'])\/df_dow['Open'])*100","b8712993":"print(\"maximum change in a day in dow jones\", df_dow['change%'].max())\nprint(\"median change in a day in dow jones\", df_dow['change%'].median())","68477fee":"df_combined = df_dow.merge(df_2017_favs, left_on=\"Date\", right_on=\"just_date\")[['Date', 'text', 'change%', 'favorites']]","db318581":"df_combined['change%'].describe()","f17ee497":"df_dow['change%'].describe()","702b4869":"volatility_text = df_combined.loc[df_combined['change%']>2, \"text\"].values ; volatility_text","4189bc6f":" def showWordCloud(data):\n    words = ' '.join(data)\n    STOPWORDS.update([\"https\",\"t\",\"co\",\"u\",\"s\",\"rt\", \"amp\"])    \n    cleaned_word = \" \".join([word for word in words.split()])\n    wordcloud = WordCloud(stopwords = STOPWORDS,\n                         background_color = 'black',\n                         width = 2500,\n                         height = 2500\n                         ).generate(cleaned_word)\n    plt.figure(1,figsize = (13,13))\n    plt.imshow(wordcloud)\n    plt.axis('off')\n    plt.show()\n\nshowWordCloud(volatility_text)","95562007":"\n\nUnited States 45th President Donald Trump has used Twitter as no one else. He primarily ran his government from a twitter firehose. Twitter has officially banned his account on January 8th 2021 after a deadly riot at Capitol on January 6th 2021. Twitter cites its World Leaders on Twitter: Principles and Approach as a guide to adhere to for public leaders.\n\nTrump tweets and policies have far reaching effects that one can realize or he would accept to realize himself. Since, twitter is suspended there is no public way to read his past tweets and analyze it for public policy outcome or link it with global issues.\n\nHere we are presenting the complete treasure trove of President Trump's tweet, all 56,572 for the public, data scientists and researchers.\n\nIm trying to look around below question hinted by respected [Dataset Master ](http:\/\/www.kaggle.com\/zusmani)\n\n* Can you find a link between his tweets and stock market prices?\n\n**If you find it interesting, please UPVOTE.**","9cff4947":"> He is more active at mid of the day and end of the day which make sense","36591814":"# Trump-Legacy\n![trump-legacy.png](attachment:trump-legacy.png)","4cc38db6":"# Load Libraries and Download Data","51279bf4":"# Analysing Dow Jones Data from 2019","6d60cb09":"# Consider tweets which has got more likes from 2017 (Favorites count top 90-100% quantile)","a1b72674":"Please **COMMENT** and **UPVOTE** if you find it interesting and always welcome your suggestions. Thanks.**","bcfe39ba":"# To compare with the distribution of dow jones change% since 2017","9fbd5286":"# Lets combine dow jones and tweets with high importance to see if any correlation ?","06e5d68c":"# Lets look at the tweets when market had volatility > 2%","6d999bd1":"# No of Tweets yearwise","41772827":"> The change% on days where Trumps tweets are viral are higher than that of overall market change%, but not sure","ee44aabe":"# Important Tweets\n\nAssumption: Tweets highly favourited are viral tweets which can impact market. Lets filter them and see what is it about","f4ac800d":"# Transform datetime for convenience","f7a57540":"# Acknowledgements\n\nFew ideas and trick are borrowed from, \n\n[EDA + NLP Trump's Legacy](http:\/\/www.kaggle.com\/muhammadismail99\/eda-nlp-trump-s-legacy)","a0b6ab4f":"# Conclusion\n* We seggregated Tweets since 2017 (President) as impact in market will be high since he is president in that period and took Dow Jones to check for market volatility \n* Major tweets impacted the market are tweets about election, corona, china border issues, fraud allegations\n","a452176c":"> Word cloud make sense :)\nLets see how these viral tweets affect Dow Jones Market"}}