{"cell_type":{"3722653f":"code","c585675d":"code","1bfad5e9":"code","93de6b12":"code","494e5ab2":"code","8c6f7831":"code","757b826c":"code","0f36a807":"code","4172c960":"code","ecb55490":"code","893860f4":"code","7eeee660":"code","78a454a6":"code","217c417c":"code","36c7bed5":"code","0a57969f":"code","d2e0df9f":"code","a6c1d124":"code","a86f6a92":"code","61758b29":"code","6218c86f":"markdown","668a858c":"markdown","368fed49":"markdown","c992a607":"markdown","3e042daa":"markdown","85093f18":"markdown","6efd1b56":"markdown","3107c4d9":"markdown","3d678d0a":"markdown","28827a43":"markdown","1d5fbe69":"markdown","6b732f2c":"markdown","ca7eb442":"markdown","3288aca0":"markdown"},"source":{"3722653f":"# default\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\n\n# utiltiy\nimport warnings\nwarnings.filterwarnings('ignore')\nimport os \nprint(os.listdir('..\/input\/student-alcohol-consumption'))","c585675d":"!cat ..\/input\/student-alcohol-consumption\/student-merge.R","1bfad5e9":"student_mat = pd.read_csv('..\/input\/student-alcohol-consumption\/student-mat.csv')\nstudent_por = pd.read_csv('..\/input\/student-alcohol-consumption\/student-por.csv')\ndisplay(student_por.head())\ndisplay(student_mat.head())\nprint(student_mat.shape[0], student_por.shape[0])","93de6b12":"import missingno as msno\nmsno.matrix(student_mat, color = (0.2, 0.3, 0.8))\nmsno.matrix(student_por, color = (0.2, 0.8, 0.3))","494e5ab2":"intersect_col = [\"school\",\"sex\",\"age\",\"address\",\"famsize\",\"Pstatus\",\"Medu\",\"Fedu\",\"Mjob\",\"Fjob\",\"reason\",\"nursery\",\"internet\"]\ndata = pd.merge(student_mat, student_por, \n                on=intersect_col,\n                suffixes=['_mat', '_por'] )\ndata.head()","8c6f7831":"!pip install pywaffle","757b826c":"data['sex'].value_counts()","0f36a807":"from pywaffle import Waffle\n\n# type 1 : default chart\nfig = plt.figure(\n    FigureClass=Waffle, \n    rows=10, \n    columns=20, \n    values=data['sex'].value_counts(),\n    figsize=(12, 5)  \n)\n\nplt.title('Waffle Chart : SEX distribution')\n\nplt.show()","4172c960":"from pywaffle import Waffle\n\n# type 2 : Auto-Size\nfig = plt.figure(\n    FigureClass=Waffle, \n    rows=10,  \n    values=data['sex'].value_counts(),\n    figsize=(12, 5)  \n)\n\nplt.title('Waffle Chart : SEX distribution')\n\nplt.show()","ecb55490":"# type 3 : Title + Legend + Color + Direction\n\ndata_sex = data['sex'].value_counts()\n\nfig = plt.figure(\n    FigureClass=Waffle, \n    rows=10, \n    values=data_sex,\n    colors=(\"#F31D64\", \"#0095EF\"),\n    title={'label': 'Custom Waffle Chart', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(data_sex.index, data_sex) ],\n    legend={'loc': 'lower left', 'bbox_to_anchor': (0, -0.4), 'ncol': len(data), 'framealpha': 0},\n    figsize=(12, 5),  \n    icon_legend=True\n)","893860f4":"# type 4 : with Icon\n\nfig = plt.figure(\n    FigureClass=Waffle, \n    rows=5,\n    columns=12,\n    values=data_sex,\n    colors=(\"#F31D64\", \"#0095EF\"),\n    title={'label': 'Custom Waffle Chart', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(data_sex.index, data_sex) ],\n    legend={'loc': 'lower left', 'bbox_to_anchor': (0, -0.4), 'ncol': len(data), 'framealpha': 0},\n    font_size=25, \n    icons = 'child',\n    figsize=(12, 5),  \n    icon_legend=True\n)","7eeee660":"# type 1 : 2 subsets\nfrom matplotlib_venn import venn2, venn2_circles\nvenn2(subsets = (len(student_mat), len(data), len(student_por)), set_labels = ('Math', 'Porto'))\nplt.title('Math & Porto')\nplt.show()","78a454a6":"# type 2 : 2 subsets\nvenn2_circles(subsets = (len(student_mat), len(data), len(student_por)))\nplt.title('Math & Porto')\nplt.show()","217c417c":"# type 3 : 3 subsets example code\nfrom matplotlib_venn import venn3, venn3_circles\n \nv = venn3(subsets=(1, 1, 1, 1, 1, 1, 1), set_labels = ('A', 'B', 'C'))\n\nv.get_patch_by_id('100').set_alpha(1.0)\nv.get_patch_by_id('100').set_color('white')\nv.get_label_by_id('100').set_text('Unknown')\nv.get_label_by_id('A').set_text('Set \"A\"')\n\nc = venn3_circles(subsets=(1, 1, 1, 1, 1, 1, 1), linestyle='dashed')\nc[0].set_lw(1.0)\nc[0].set_ls('dotted')\n \n\nplt.title(\"Sample Venn diagram\")\nplt.annotate(\n    'Unknown set', \n    xy=v.get_label_by_id('100').get_position() - np.array([0, 0.05]), \n    xytext=(-70,-70),\n    ha='center', \n    textcoords='offset points', \n    bbox=dict(boxstyle='round,pad=0.5', fc='gray', alpha=0.1),\n    arrowprops=dict(arrowstyle='->', connectionstyle='arc3,rad=0.5',color='gray'))\n\nplt.show()\n","36c7bed5":"fig = px.histogram(student_mat, x='Dalc', y='Dalc', color='Walc')\nfig.show()\n","0a57969f":"import plotly.graph_objects as go\n\ndef jointplot_plotly(data, col1, col2):\n    fig = go.Figure()\n\n    fig.add_trace(go.Histogram2dContour(\n        x=data[col1], y=data[col2], \n        nbinsx=30, nbinsy=30,\n        colorscale = 'Blues',\n        xaxis = 'x', yaxis= 'y'\n    ))\n\n\n    fig.add_trace(go.Scatter(\n            x=data[col1], y=data[col2], \n            xaxis = 'x',\n            yaxis = 'y',\n            mode = 'markers',\n            marker = dict(\n                color = 'rgba(0,0,0,0.3)',\n                size = 3\n            )\n        ))\n\n    fig.add_trace(go.Histogram(\n            y=data[col2], \n            xaxis = 'x2',\n            marker = dict(\n                color = 'rgba(0,0,0,1)'\n            )\n        ))\n\n    fig.add_trace(go.Histogram(\n            x=data[col1],\n            yaxis = 'y2',\n            marker = dict(\n                color = 'rgba(0,0,0,1)'\n            )\n        ))\n\n    fig.update_layout(\n        autosize = False,\n        xaxis = dict(\n            zeroline = False,\n            domain = [0,0.85],\n            showgrid = False\n        ),\n        yaxis = dict(\n            zeroline = False,\n            domain = [0,0.85],\n            showgrid = False\n        ),\n        xaxis2 = dict(\n            zeroline = False,\n            domain = [0.85,1],\n            showgrid = False\n        ),\n        yaxis2 = dict(\n            zeroline = False,\n            domain = [0.85,1],\n            showgrid = False\n        ),\n        height = 600,\n        width = 600,\n        bargap = 0,\n        hovermode = 'closest',\n        showlegend = False\n    )\n\n    fig.show()","d2e0df9f":"jointplot_plotly(student_mat, 'Walc', 'Dalc')","a6c1d124":"student_mat['Walc'] = student_mat['Walc'].apply(int)\nstudent_mat['Dalc'] = student_mat['Dalc'].apply(int)\n\nfig, ax = plt.subplots(1,1,figsize=(7, 8))\nsns.regplot(y='Walc', x='Dalc', data=student_mat, ax=ax)","a86f6a92":"import plotly.express as px\nfor i in range(1, 6):\n    fig = px.parallel_categories(student_mat[['Walc', 'G1', 'G2', 'G3']].query(f'Walc == {i}') )\n    fig.update_layout(title=f\"Weekend alcohol consumption : {i}\")\n    fig.show()","61758b29":"fig = px.parallel_categories(student_mat[['Walc', 'G1', 'G2', 'G3']], color='Walc' )\nfig.update_layout(title=f\"Weekend alcohol consumption : For All\")\nfig.show()","6218c86f":"## Let's Strat EDA with px!!\n","668a858c":"Import the data and do the same process","368fed49":"## Venn Diagram : matplotlib_venn\n\n- [matplotlib-venn Github](https:\/\/github.com\/konstantint\/matplotlib-venn)\n- [VENN DIAGRAM | the python graph gallery](https:\/\/python-graph-gallery.com\/venn-diagram\/)\n\n---\n\n- `venn2, venn2_circles`: The functions venn2 and venn2_circles accept as their only required argument a 3-element list\n\n- `venn3, venn3_circles` : the functions venn3 and venn3_circles take a 7-element list of subset sizes ","c992a607":"These data show that there is some difference in the amount of thought between the amount of alcohol consumed per day and the amount of alcohol consumed per week.\n\nLet's visualize this more graphically. You can do this with a jointplot.","3e042daa":"Where does the difference between Dalc and Walc come from?\n\nBut you can see that there is a clear trend.\n\nSo let's look at how alcohol consumption drove students' grades.\n\n## Walc, Grades: Parallel Coordinates (Parallel Categories)\n\n","85093f18":"## Road to Visualization Expert\n### Part 4 : Student Alcohol Consumption | Unusual Tools II\n\n![alcohol consumption](https:\/\/www.1dental.com\/blog\/wp-content\/uploads\/2016\/02\/2.-Why-Do-Students-Start-Consuming-Alcohol-550x434.png)\n\n\nIt's a pretty fun topic. Let's enjoy it.\n\n---\n\n### Table of Contents\n\n**Special Tools**\n\n- Missing Values : `missingno`\n- Waffle Charts : `pywaffle`\n    - default\n    - Auto Size \n    - Custom (color, fontsize, etc)\n    - Icon\n- Venn Diagram : `matplotlib_venn`\n    - venn2, venn2_circles\n    - venn3, venn3_circles\n    \n--- \n\n**More EDA with Plotly.Express**\n\n- Dalc, Walc : Difference in Alcohol Drinking Between Daily and Weekly in Surveys\n    - countplot\n    - jointplot\n    - lmplot(seaborn)\n- Walc, Grades : Will alcohol affect my grades?\n    - parallel_coordinates(parallel_categories)\n","6efd1b56":"First, let's look at the R code to get the intersection data.","3107c4d9":"Check Null Data first. you can set color of missingno matrix","3d678d0a":"## Check datasets & Missingno","28827a43":"use merge method.","1d5fbe69":"We'll plot the graph by gender.","6b732f2c":"## Dalc, Walc : countplot, jointplot, lmplot\n\nIn description, there are 2 features in alcohol consumption \n\n- **Dalc** : workday alcohol consumption (numeric: from 1 - very low to 5 - very high)\n- **Walc** : weekend alcohol consumption (numeric: from 1 - very low to 5 - very high)\n\nLet's see if these students know how much they drink a week and how much they drink a day.","ca7eb442":"> I think this color palette is seaborn's Set2","3288aca0":"## Waffle Charts : PyWaffle\n\n- [PyWaffle Github](https:\/\/github.com\/gyli\/PyWaffle)\n- [Documentation](http:\/\/pywaffle.readthedocs.io\/)\n\n**PyWaffle** is an open source, MIT-licensed Python package for plotting waffle charts.\n\nIt provides a Figure constructor class Waffle, which could be passed to matplotlib.pyplot.figure and generate a matplotlib Figure object."}}