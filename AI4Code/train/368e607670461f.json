{"cell_type":{"13828a53":"code","1a1913e4":"code","7cb8cc3b":"code","9a5f3b0d":"code","99bcaa9b":"code","e2079587":"code","02fbb561":"code","5316c1cc":"code","52ccbff3":"code","5c7de442":"code","a18f9e45":"code","930095b5":"code","c6c51077":"code","d85a0ba6":"code","a6e8780e":"code","ae0f251b":"code","2840ed76":"code","ee715ac7":"code","058b5dcb":"code","53a9fb02":"code","bf442550":"code","fcc52a3a":"markdown","5eb8c16c":"markdown","760d1163":"markdown","bb062da3":"markdown","dc42306f":"markdown","32ffc8e3":"markdown","38853d2e":"markdown","4bc8f8a4":"markdown","747703e8":"markdown","3f454798":"markdown","c1944488":"markdown","1efbbc70":"markdown","b6dd032b":"markdown","3275f45b":"markdown","b282a280":"markdown","9c09fd06":"markdown","7c0c17ae":"markdown","9e70edbd":"markdown","54221742":"markdown","e0bc1739":"markdown","6a84148f":"markdown","f95ced39":"markdown","2bc37bbb":"markdown","dc621775":"markdown","ba369cce":"markdown","35515081":"markdown","ff9368ce":"markdown"},"source":{"13828a53":"import pandas as pd\nfrom matplotlib import pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport numpy as np\nimport plotly.express as px","1a1913e4":"df = pd.read_csv(\"..\/input\/chicago-crime\/cleandata.csv\", index_col=0)\ndf.head()","7cb8cc3b":"df.shape","9a5f3b0d":"print(df.dtypes)","99bcaa9b":"df_categorical = df.loc[:, ['LocationDescription', 'Domestic', 'Beat', 'District', 'CommunityArea']]","e2079587":"df_categorical.nunique()\n","02fbb561":"\ntop_loc = df_categorical.LocationDescription.value_counts().drop(labels='OTHER').head(5)\nplt.figure(figsize=(12,6))\nsns.barplot(y=top_loc.index, x=top_loc.values, color=\"b\")","5316c1cc":"total=df_categorical.LocationDescription.count()\ny1 = df_categorical[df_categorical.LocationDescription =='STREET'].LocationDescription.count()\ny2 = df_categorical.shape[0]-int(y1)\n[y1, y2]=map(lambda x: x\/total*100,[y1,y2])\nplt.figure(figsize=(14,1.5))\nplt.barh([0], y1, color='#b5ffb9', edgecolor='white')\nplt.barh([0], y2, color='#f9bc86', left=y1, edgecolor='white')\nplt.legend(['Street', 'Other Locations'], loc='lower center', bbox_to_anchor=(0.5,-0.7))\n# Turn off tick labels\nplt.yticks([])\nplt.xticks(range(0,101,10))\nplt.show()","52ccbff3":"#District wise distribution of cases\ndistricts = df_categorical.District.value_counts().sort_index()\ndistricts.drop(labels=-1, inplace=True)\ndistricts.sort_index(inplace=True)\nplt.figure(figsize=(12,4))\nsns.barplot(y=districts.values , x=districts.index, color='g')\nplt.xlabel(\"District\", labelpad=10, fontsize=13)\nplt.ylabel(\"No. of Cases\")\n#Community Area wise distribution of cases\ncomarea = df_categorical.CommunityArea.dropna().value_counts()\ncomarea.drop(labels=-1, inplace=True)\nplt.figure(figsize=(16,4))\nsns.barplot(y=comarea.values , x=comarea.index, color='g')\nplt.xticks(rotation=90)\nplt.xlabel(\"Community Area\", labelpad=10, fontsize=13)\nplt.ylabel(\"No. of Cases\")\nplt.show()","5c7de442":"tot = df_categorical.Domestic.count()\ndomestic_num = df_categorical.Domestic.value_counts()\ndomestic_num\/tot*100","a18f9e45":"total=df.Arrest.count()\ny1 = df.Arrest.sum()\ny2 = total-int(y1)\n[y2, y1]=map(lambda x: x\/total*100,[y1,y2])\nplt.figure(figsize=(14,1.5))\nplt.barh([0], y1, color='#b5ffb9', edgecolor='white')\nplt.barh([0], y2, color='#f9bc86', left=y1, edgecolor='white')\nplt.legend(['None Arrested', 'Someone Arrested'], loc='lower center', bbox_to_anchor=(0.5,-0.7))\n# Turn off tick labels\nplt.xticks(range(0,101,10))\nplt.yticks([])\nplt.show()","930095b5":"Arrest_prop = df.dropna(how='any')\nplotdata = Arrest_prop.Arrest.groupby(Arrest_prop.District).value_counts()\nDist_index=[]\n[Dist_index.append(x) for (x,y) in plotdata.index.to_list() if x not in Dist_index and x != -1]\nfalseval = [0 if (x,False) not in plotdata.index.to_list() else plotdata[(x,False)] for x in Dist_index]\ntrueval = [0 if (x,True) not in plotdata.index.to_list() else plotdata[(x,True)] for x in Dist_index]\nr=list(range(len(trueval)))\ntotals = [i+j for i,j in zip(trueval,falseval)]\ntrueBars = [i \/ j * 100 for i,j in zip(trueval, totals)]\nfalseBars = [i \/ j * 100 for i,j in zip(falseval, totals)]\nbarwidth = 0.8\nplt.figure(figsize=(16,6))\nplt.bar(r, falseBars, color='yellow', edgecolor='white', width=barwidth)\nplt.bar(r, trueBars, bottom=falseBars, color='red', edgecolor='white', width=barwidth)\nplt.xticks(r, Dist_index)\nplt.yticks(range(0,101,10))\nplt.xlabel(\"Districts\")\nplt.legend(['%Not Arrested', '%Arrest'], loc='upper right', bbox_to_anchor=(1.2,0.7))\n\nplt.show()\n \n","c6c51077":"annualdata = df.Year.value_counts()\nsns.set_style('whitegrid')\nplt.figure(figsize=(12,4))\nsns.lineplot(x=annualdata.index, y=annualdata.values)\nplt.xticks(annualdata.index)\nplt.ylabel('No. Of Case')\nplt.show()","d85a0ba6":"months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sept','Oct', 'Nov', 'Dec']\nplt.figure(figsize=(12,4))\nsns.set_style('whitegrid')\nsns.countplot(df.Month, color='orange')\nplt.ylabel('No. of Thefts')\nplt.xticks(np.arange(0,12), months)\nplt.show()","a6e8780e":"days = ['Mon', 'Tue', 'Wed', 'Thur', 'Fri', 'Sat', 'Sun']\nplt.figure(figsize=(12,4))\nsns.set_style('whitegrid')\nsns.countplot(x=df.DayOfWeek, color='orange')\nplt.ylabel('No. of Thefts')\nplt.xticks(np.arange(0,7), days)\nplt.show()","ae0f251b":"toplocation = df.LocationDescription.value_counts().drop(labels='OTHER').head(10)\ntoplocation = toplocation.index.to_list()\ntoplocation","2840ed76":"y = np.sort(df.Year.unique())\ny","ee715ac7":"fig, ax = plt.subplots(round(len(toplocation) \/ 2), 2, figsize = (15, 20))\nplt.subplots_adjust(hspace=0.3)\nfor i, ax in enumerate(fig.axes):\n    y_data = df[df.LocationDescription== toplocation[i]].Year.value_counts()\n    sns.lineplot(x=y_data.index, y=y_data.values, ax=ax)\n    ax.title.set_text(\"{}\".format(toplocation[i]))\n    ","058b5dcb":"plt.figure(figsize=(12,4))\nsns.set_style('whitegrid')\nsns.countplot(df[df.Arrest == True].DayOfWeek, color='orange')\nplt.ylabel('No. of Thefts')\nplt.xticks(np.arange(0,7), days)\nplt.show()","53a9fb02":"topdist = districts.sort_values(ascending=False).head().index\ntopdist = topdist.to_list()\ntopdist","bf442550":"fig, ax = plt.subplots(round(len(topdist) \/ 2)+len(topdist)%2, 2, figsize = (15, 10))\nplt.subplots_adjust(hspace=0.3)\nfor i, ax in enumerate(fig.axes):\n    if i ==len(topdist): break\n    y_data2 = df[df.District== topdist[i]].Year.value_counts()\n    sns.lineplot(x=y_data2.index, y=y_data2.values, ax=ax)\n    ax.title.set_text(\"District No.{}\".format(topdist[i]))\nplt.show()","fcc52a3a":"As we can see the streets are far ahead in number of theft cases than any other location. Let us now compare the number of cases occuring on street with all other locations combined. We can see in the below plot that the number of thefts on streets greatly outnumber the number of thefts occurring elsewhere.","5eb8c16c":"As we can see that \"October\" is the most unsafe month as most number of thefts were reported during this month. Also it is adviced to take special care of your vehicles on \"Friday\"!","760d1163":"# Exploratory Data Analysis Project\n\n#### There's a story behind your numbers. Visualizing data brings them to life.\n","bb062da3":"## Time Analysis\nNow lets begin with the time analysis of the data. Columns like `Date`, `Year`, `Month` and `DayOfWeek` give information regarding the time at which a particular theft occured.","dc42306f":"As we can see that there were huge number of thefts reported in districts 8 and 25. These were the most unsafe place in the time period covered in this dataset. Also districts 21 and 23 were most safe places with negligible number of cases. The districts missing from the plot are the ones whose data was not available.\n\nAlso Community Area 25 has the highest number of reported cases.","32ffc8e3":"## Mixed Analysis\nLet us now combine both the time and location data to do some in depth analysis and get more insights from the data.","38853d2e":"### What is District wise distribution of thefts?","4bc8f8a4":"### What are the most unsafe month and day of the week?","747703e8":"### What is the trend in number of cases over the years?","3f454798":"### Which locations had the maximum number of thefts?","c1944488":"As we can see that only 0.2% of all the cases were domestic ones. Now lets see their distribution Community area wise. This means that motor vehicles are not stolen from homes. Since this comprises such a low proportion of all the cases, we shall not do further analysis on it.","1efbbc70":"So in more than 90% of cases no one was arrested by the police. This is very bad for the police and shows how unsafe the place is. Lets see this Beat-wise. Beat is the smallest geographical region recognized by the Chicago police.","b6dd032b":"## Segregation of Data\n\nThe data can be divided into two broad categories. This will make our analysis easier.\n### Categorical Data\nCategorical data represents characteristics. Therefore it can represent things like a person\u2019s gender, language etc. Categorical data can also take on numerical values (Example: 1 for female and 0 for male). Note that those numbers don\u2019t have mathematical meaning.\n### Numerical Data\nNumerical data is a data type expressed in numbers, rather than natural language description. Sometimes called quantitative data,numerical data is always collected in number form. Numerical data differentiates itself with other number form data types with its ability to carry out arithmetic operations with these numbers.\n","3275f45b":"## Setup\nFor the preparations lets first import the necessary libraries and load the files needed for our EDA","b282a280":"### What was the proportion of domestic thefts?","9c09fd06":"### What is the trend in No. of Thefts over the years at most vulnerable locations?\nLet us first find the top 10 locations for thefts. Then we shall do the plotting.","7c0c17ae":"It is clearly visible that the number of cases are on a decline over the years. The police is really doing a good job!","9e70edbd":"### What was region wise trend of people being arrested for such thefts?","54221742":"## Location Analysis\n","e0bc1739":"## Conclusion\nSo this is it for now. Ofcourse, more sophisticated methods can also be used for data visualization. Here, I only used basic charts and modified them in an attempt to present the data more elegantly. Hope you like it.","6a84148f":"We can draw many conclusions from these plots. `STREET`, `PARKING LOT\/GARAGE(NON.RESID.)`, `ALLEY`, `GAS STATION`, `DRIVEWAY - RESIDENTIAL` and  `VACANT LOT\/LAND` have seen an overall decrease in the number of thefts over the years. Whereas the number of cases increased for `VEHICLE NON-COMMERCIAL` and `RESIDENTIAL YARD(FRONT\/BACK)`. For `RESIDENCE` and `RESIDENCE-GARAGE` the number of cases remained almost constant for the span of the data.\n","f95ced39":"Visualizing data is effective when done right. We define right when the data visualizations have served its purpose.We know we are on right path when people can interpret our visualization by asking more questions on the information displayed versus how or what is displayed.    \nExploratory Data Analysis is one of the techniques to perform data visualization. It refers to the critical process of performing initial investigations on data so as to discover patterns,to spot anomalies,to test hypothesis and to check assumptions with the help of summary statistics and graphical representations.\n\nAfter all the introduction, lets get to work. In this notebook, I will try to apply EDA on the \"motor vehicle theft\" dataset, maintained by the Chicago Police. It records various cases regarding act of stealing, or attempting to steal, a car. I shall try to analyze the data and capture some insights from it, like a detective XD.","2bc37bbb":"We have already read the `Chicago_Crime_Detective` dataset in the `DataCleaning.ipynb` notebook. We have cleaned the data and saved it as `cleandata.csv` file. We shall be using this file now.","dc621775":"### What is the trend in most unsafe districts?","ba369cce":"## Other Ways for Segregation\nIn our dataset there are as such no columns representing numerical data except the `Date` column. But we can generate numerical data from the table as we dive deeper into the dataset. Rest all columns have categorical data. So there is not much need to segregate the data.\nBut we can divide the columns in the following three categories:\n### Location Data\nThese columns describe the location of the theft. These include the `LocationDescription`, `Domestic`, `Beat`, `District` and `CommunityArea`.\n### Time Data\nThese columns describe the time when the theft has occured. These include `Date`, `Year`, `Month` and `DayofWeek`.\n### Other\nThese include the `ID` and `Arrest` columns which do not come under the above two categories.","35515081":"### On which day most number of arrests occurred?\n","ff9368ce":"As we have already seen that the `District` and `CommunityArea` columns hava a lot of missing values. We shall keep that in mind while performing the analysis. \nLets now start by answering various question."}}