{"cell_type":{"c6e5906f":"code","80626130":"code","d3e63c62":"code","d74db243":"code","6cd28656":"code","ec74a55d":"code","ff442e9d":"code","2a9e91b8":"code","50e82fcf":"code","6b3fa29c":"code","c45ca1d8":"code","954a6623":"code","1ddf400a":"markdown","2328292c":"markdown","56deb37a":"markdown","eb437e5d":"markdown","636c103c":"markdown","f7c141c3":"markdown","5c292191":"markdown","f88cd2fd":"markdown","bccf7683":"markdown","3df1395a":"markdown","cdbf7a82":"markdown","4c2abc7b":"markdown","2d5414d5":"markdown"},"source":{"c6e5906f":"import pandas as pd\nimport matplotlib.pyplot as plt\n\n# importing the data\ntravel_2011_data=pd.read_csv('..\/input\/ocrlds\/OCR-lds-travel-2011.csv', thousands=',')\n\n# inspecting the dataset to check that it has imported correctly\ntravel_2011_data.head()","80626130":"# check the datatypes\ntravel_2011_data.dtypes","d3e63c62":"\n# use describe for any fields you are going to investigate and filter out or replace any unusable values\ntravel_2011_data['Bicycle'].describe()","d74db243":"# find the means and standard deviations for different fields grouped by region\nregionsDf = travel_2011_data.groupby('Region',as_index=False).agg([\"mean\",\"std\", \"sum\"])\nregionsDf","6cd28656":"transportTypes = ['Underground, tram', 'Train', 'Bus', 'Taxi', 'Motorcycle', 'Driving a car', 'Passenger in a car', 'Bicycle', 'On foot', 'Other']\n\nregionsPercentDF = regionsDf.xs('sum', level=1,axis=1)\nregionsPercentDF = regionsPercentDF[transportTypes].div(regionsPercentDF[\"In employment\"], axis=0)\nregionsPercentDF = regionsPercentDF[transportTypes].multiply(100)\nregionsPercentDF","ec74a55d":"import matplotlib.pyplot as plt\nfrom matplotlib.backends.backend_pdf import PdfPages\n\nregionsPercentDF.plot.bar(figsize=(12, 8))\nregionsPercentDF.transpose().plot.pie(subplots=True, autopct='%1.1f%%', figsize=(100, 100))\nplt.savefig(\"pie.jpg\")","ff442e9d":"regionsPercentDF.plot.line(figsize=(20, 20))\n\nrowLables = []\nfor i,v in regionsPercentDF.reset_index().iterrows():\n    rowLables.append(v[\"Region\"])\n    for t in transportTypes:\n        plt.annotate(\"{:0.2f}%\".format(v[t]), xy=(i,v[t]) )\n        \nplt.xticks(range(0, len(rowLables)), rowLables, rotation=45)","2a9e91b8":"regionsPercentDF.drop(columns='Driving a car').plot.line(figsize=(20, 10))\n\nrowLables = []\nfor i,v in regionsPercentDF.reset_index().iterrows():\n    rowLables.append(v[\"Region\"])\n    for t in transportTypes:\n        plt.annotate(\"{:0.2f}%\".format(v[t]), xy=(i,v[t]) )\n\nplt.xticks(range(0, len(rowLables)), rowLables, rotation=45)","50e82fcf":"#regionsDf.droplevel(0,axis=1)\ndel regionsDf[\"In employment\"]\ndel regionsDf[\"Work at home\"]\ndel regionsDf[\"Not in employment\"]\nregionsDf.xs('mean', level=1,axis=1).plot.bar(figsize=(12, 8), title=\"Mean activites for each region\")","6b3fa29c":"# create box plots for different fields grouped by region\n\nwith PdfPages('tranportPerRegion.pdf') as pdf:\n    for t in transportTypes:\n        plt.figure()\n        fig=travel_2011_data.boxplot(column = [t],by='Region', vert=False,figsize=(12, 8)).get_figure()\n        pdf.savefig(fig)","c45ca1d8":"regionsPercentDF['On foot'].sort_values(ascending = False)","954a6623":"# communicate the result","1ddf400a":"Caculate stats for difference methods","2328292c":"# MEI Introduction to Data Science\n# Lesson 3 - Activity 3 (OCR)\n\nThis activity is an opportunity to practise the methods covered in this lesson on the OCR large data set.\n\nThe code you used for grouping was:\n\n`print(travel_2011_data.groupby(['Region'])['Bicycle percent'].mean())`\n\nThe code you used for filtering was:\n\n`petrol_data = cars_data[cars_data['PropulsionTypeId'] == 'Petrol']\nprint(petrol_data['CO2'].mean())\nprint(petrol_data['CO2'].std())`\n","56deb37a":"In all regions except for London, driving a car is the most common form of transport with over 56% driving a car. In London however this is only 26.34% Driving a car. This is likely due to high public transport usage\n\nLondon has a signifcantly higher proportion using Underground\/tram compare to any other region with 21.822% using Underground\/tram with the next heighest being North East with 2.49%. This is likely due to the tube network in London.\n\nTrain use is a bit higher in London (12.9%), South East (7.0%) and East of England (7.0%) compared to all other region have a train usage percentage under 3% with the lowest being the North East with 1.1%.\n\nLondon also has marginally higher bus usage with 13.6% and then the next highest is North East with 9.1%.\n\nPublic transport in london accounts for 48.3% of all transport.\n\nBicyle usage varies fairly little between regions with being between 1% and 4% in all regions.  ","eb437e5d":"### Calc percentage of travel for each region","636c103c":"## Communicating the result","f7c141c3":"### Mean number traveling to each","5c292191":"### Percentage line graph minus driving a car","f88cd2fd":"## Getting the data","bccf7683":"## Exploring the data","3df1395a":"## Problem\n> Is there a difference in the use of any of the modes of travel for different regions?","cdbf7a82":"## Analysing the data","4c2abc7b":"##","2d5414d5":"### Percentage to each region"}}