{"cell_type":{"828ce8b5":"code","3392f4b2":"code","6a7b4971":"code","84d7d9c1":"code","1e4bcdf6":"code","4a9ce6c0":"code","4c32d709":"code","6f0acde6":"code","4823b47b":"code","10fec7f5":"code","05961406":"code","e5c43c3c":"code","099b4758":"code","6a8922b2":"code","9ccb9a1c":"code","87b6fafd":"code","fa0eaec9":"code","bfc738cb":"code","22b539e1":"code","a40a6c57":"code","1efa0223":"code","9412c085":"code","9e7a84dd":"code","bb4d6401":"markdown","1963cd3c":"markdown","f808420c":"markdown","1d8ee8b7":"markdown","a24de817":"markdown","260804c5":"markdown","9d9adb01":"markdown","ec83faff":"markdown","457352eb":"markdown","4d5c2af2":"markdown","417e3b13":"markdown","b7a16b7b":"markdown","8e5a6e17":"markdown","d6466dca":"markdown","626103a4":"markdown","234a6c56":"markdown","ba7e2160":"markdown","2a15c6a5":"markdown","39c1612e":"markdown","a756dfff":"markdown","f37d3f48":"markdown","199992ce":"markdown","553bad14":"markdown","c2cc7b54":"markdown","58d7101e":"markdown"},"source":{"828ce8b5":"\"\"\"from google.colab import files\nuploaded_files = files.upload()\"\"\"","3392f4b2":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","6a7b4971":"data = pd.read_csv(\"..\/input\/haberman.csv\/haberman.csv\")                 # Independent Features: age, year, nodes\n                                                   # Dependent Feature   : status","84d7d9c1":"#Renaming columns\ndata.rename(columns={'age':'patient_age', 'year':'surgery_year','nodes':'aux_nodes','status':'survival_status'},inplace=True)\ndata.columns","1e4bcdf6":"data.head()","4a9ce6c0":"data.tail()","4c32d709":"data.shape","6f0acde6":"data.describe()","4823b47b":"data.info()","10fec7f5":"#Check for missing data\ndata.isnull().sum()         # No null\/missed values","05961406":"data['survival_status'].value_counts()","e5c43c3c":"# Will create separate DataFrames for Survival_Status classes\nsurvived = data.loc[data['survival_status'] == 1]\ndead = data.loc[data.survival_status == 2]\n\n# Plotting 1D scatter plots for features: Patient_age, Surgery_year, Auxillary_nodes\n \nplt.figure(1)\n\nplt.plot(survived['patient_age'], np.zeros_like(survived['patient_age']),'ro', label='survived')\nplt.plot(dead['patient_age'], np.zeros_like(dead['patient_age']),'bo', label='dead')\nplt.title('1-D Scatter plot for feature:Patient age')\nplt.legend()\nplt.xlabel('patients age')\n\nplt.figure(2)\n\nplt.plot(survived['surgery_year'], np.zeros_like(survived['surgery_year']),'ro', label='survived')    # x values are 'surgery_year' column values and Y values are array of zeros with same shape of x\nplt.plot(dead['surgery_year'], np.zeros_like(dead['surgery_year']),'bo', label='dead')\nplt.title('1-D Scatter plot for feature:surgery_year')\nplt.legend()\nplt.xlabel('surgery_year')\n\nplt.figure(3)\n\nplt.plot(survived['aux_nodes'], np.zeros_like(survived['aux_nodes']),'ro', label='survived')    # x values are 'surgery_year' column values and Y values are array of zeros with same shape of x\nplt.plot(dead['aux_nodes'], np.zeros_like(dead['aux_nodes']),'bo', label='dead')\nplt.title('1-D Scatter plot for feature:aux_nodes')\nplt.legend()\nplt.xlabel('aux_nodes')\n\n\n","099b4758":"# Survial status based on patient's age with PDF\n\nplt.figure(1)\nsns.FacetGrid(data, hue='survival_status', height=5).map(sns.distplot, 'patient_age').add_legend()\nplt.title('PDF: Patient_age')\nplt.ylabel('prob density')\nplt.show()\n\nplt.figure(2)\nsns.FacetGrid(data, hue='survival_status', height=5).map(sns.distplot, 'surgery_year').add_legend()\nplt.title('PDF: surgery_year')\nplt.ylabel('prob density')\nplt.show()\n\nplt.figure(3)\nsns.FacetGrid(data, hue='survival_status', height=5).map(sns.distplot, 'aux_nodes').add_legend()\nplt.title('PDF: aux_nodes')\nplt.ylabel('prob density')\nplt.show()","6a8922b2":"# Box plot with Patient's age:\n\nsns.boxplot(y = \"patient_age\", x = \"survival_status\", data=data)\nplt.title(\"Box plot: patient_age Vs Survival_status\")\nplt.show()\n\n# Box plot with surgery_year:\n\nsns.boxplot(y = \"surgery_year\", x = \"survival_status\", data=data)\nplt.title(\"Box plot: surgery_year Vs Survival_status\")\nplt.show()\n\n\n# Box plot with Aux_nodes:\n\nsns.boxplot(y = \"aux_nodes\", x = \"survival_status\", data=data)\nplt.title(\"Box plot: Aux_nodes Vs Survival_status\")\nplt.show()\n\n","9ccb9a1c":"sns.violinplot(x = \"survival_status\", y = \"aux_nodes\", data=data)\nplt.title(\"nodes Vs status\")\nplt.show()\n\nsns.violinplot(x = \"survival_status\", y = \"patient_age\", data=data)\nplt.title(\"nodes Vs age\")\nplt.show()\n\nsns.violinplot(x = \"survival_status\", y = \"surgery_year\", data=data)\nplt.title(\"nodes Vs year\")\nplt.show()","87b6fafd":"# Plot PDF & CDF based on surgery year\n\ncounts, bin_edges = np.histogram(data['surgery_year'], bins=10, density=True)\npdf=counts\/sum(counts)\nprint(counts)\nprint(bin_edges)\nprint(pdf)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges [1:], cdf)\nplt.legend(['pdf','cdf'])\nplt.title(\"PDF & CDF for surgery year\")\nplt.xlabel(\"year of surgery\")\nplt.ylabel(\"probabilty density\")\nplt.show()","fa0eaec9":"# Plot PDF & CDF based on patient age\n\ncounts, bin_edges = np.histogram(data['patient_age'], bins=10, density=True)\npdf=counts\/sum(counts)\nprint(counts)\nprint(bin_edges)\nprint(pdf)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges [1:], cdf)\nplt.legend(['pdf','cdf'])\nplt.title(\"PDF & CDF for patient age\")\nplt.xlabel(\"patient age\")\nplt.ylabel(\"probabilty density\")\nplt.show()","bfc738cb":"# Plot PDF & CDF based on surgery year\n\ncounts, bin_edges = np.histogram(data['aux_nodes'], bins=10, density=True)\npdf=counts\/sum(counts)\nprint(counts)\nprint(bin_edges)\nprint(pdf)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges [1:], cdf)\nplt.legend(['pdf','cdf'])\nplt.title(\"PDF & CDF for nodes\")\nplt.xlabel(\"aux_nodes\")\nplt.ylabel(\"probabilty density\")\nplt.show()","22b539e1":"sns.jointplot(x= \"surgery_year\", y = \"patient_age\", data=data, kind=\"kde\")\nplt.show()\n\nsns.jointplot(x= \"aux_nodes\", y = \"patient_age\", data=data, kind=\"kde\")\nplt.show()\n\nsns.jointplot(x= \"aux_nodes\", y = \"surgery_year\", data=data, kind=\"kde\")\nplt.show()","a40a6c57":"# Plot 2D scatter plot between age and year\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(data, hue=\"survival_status\", height=4) \\\n   .map(plt.scatter,  \"surgery_year\",\"patient_age\") \\\n   .add_legend();\nplt.show();","1efa0223":"# Plot 2D scatter plot between age and nodes\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(data, hue=\"survival_status\", height=8) \\\n   .map(plt.scatter,  \"patient_age\",\"aux_nodes\") \\\n   .add_legend();\nplt.show();","9412c085":"# Plot 2D scatter plot between year and nodes\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(data, hue=\"survival_status\", height=8) \\\n   .map(plt.scatter,  \"aux_nodes\",\"surgery_year\") \\\n   .add_legend();\nplt.show();","9e7a84dd":"sns.set_style(\"whitegrid\")\nsns.pairplot(data,hue=\"survival_status\",height=5)\nplt.show()","bb4d6401":"1. Even though patients who are guaranteed to survive have 0 auxillary nodes, this is not always the case as there're still a small percentage of patients who died within 5 years of surgery even though they had 0 positive nodes.\n\n2. Patients with more than 1 positive auxillary nodes are less likely to survive. Higher the no.of positive nodes the lesser the chance of survival irrespective of age.\n\n3. Though patients under 30 years of age mostly survived, age should not be the only factor in deciding the survival rate.\n\n4. Patient's age and positive nodes are the best parameters for predicting the survival rate.\n\n** As the dataset is imbalanced and there's a lot of overlapping between different features, \nhigher level of analysis is required & some more features needed to come to a concrete conclusion and build a model that predicts accurate survival rates.","1963cd3c":"#**Box Plots & Whiskers**\n","f808420c":"**Observations:**\nMuch overlap. Hard to classify.","1d8ee8b7":"#**Exploratory Data Analysis on Haberman Cancer Survival Dataset**","a24de817":"**Observations:**\n1. Maximum overlapped.\n2. nodes who have lesser have more chances to survival","260804c5":"**Observations:**\nHere also linear separation is not possible due to higher overlap.","9d9adb01":"# Conclusions:","ec83faff":"# Now will draw plots on Histograms","457352eb":"**Observation:**\nWith Patient age: Mostly overlapped. Both Classes have same median, mostly 25th and 75th percentile are same.\n\nWith surgery_year: Mostly overlapped. Both Classes have same median, mostly 25th and 75th percentile are same.\n\nWith aux_nodes:\n1. persons have less than 4 nodes tends to survive.\n2. 75 percentile of patients survived have less than 4 nodes and 50th percentile of patients who have high nodes could not survived.\n3. Outliers are there in positive auxillary nodes.","4d5c2af2":"### 1-Dimensional Scatter plots:","417e3b13":"**Observations:**\nWith the above scatter plots, it doesn't make sense of assessing important features. And also unable to classify status of person weather he is alive or not due to same data color points.\n","b7a16b7b":"#CDF","8e5a6e17":"**Observations:**\nEven after using pair plots we are unable to accurately classify the survival rates of the patients.\n\nHowever, when we analyse the plot between age and nodes, it seems that patients age range between 25 to 40 have very high chance of survival if positive nodes are < 20\n\nLooking at age and positive nodes pattern, patients between ages 45-70 with 10 or more nodes have very less chance of survival.\nAnd patients with ages <=40 with lesser positive auxillary nodes have high chances of survival.","d6466dca":"# Violin Plots","626103a4":"**Observations:**\n1. There are no missed values.\n2. Out of 306 patients, 225 patients survived more than 5 years after the surgery and 81 patients are died within 5 years of surgery.\n3. Survival_status = 1 means patient survived.\n   Survival_status = 2 means patient patient.\n4. As data points we have are 73% for survival and only 27% only for died patients.\n5. From the description, 25 percentile of patients have no auxillary nodes so the chances of survival is undoubtedly high.","234a6c56":"**Observations:**\n1. We can't draw good insights from above plots because, more points are overlapped with much density.\n2. Unable to distinguish how many points are there in particular intervals.\n","ba7e2160":"**Observations:**\n1. As the nodes are lesser, chances of survival is more irrespective of ages.\n2. Even if the nodes are high, the range between 30 to 40 expected to survive, but few death cases also there.\n3. Even it is hard to classify both classes.","2a15c6a5":"Performing 2D Scatter plots for independent features:\n  1. Age & year\n  2. Age & nodes\n  3. year & nodes","39c1612e":"**Observations:**\nEven the PDF & CDF misleads our objective of classification, i have done this to know the probability densities of each features.","a756dfff":"# Multivariate Analysis","f37d3f48":"## Univariate Analysis:","199992ce":"# Pair Plots","553bad14":"**Observations:**\n1. In figure(1): Even though the plots are overlapped,\n\n a. Patient's age range from 20 to 40 have likely chances to survival.\n\n2. In figure(2): Overlapped heavily\n\n3. In figure(3): 50% of auxillary_nodes are valued zero out 306 records.\n   Nodes who have less than 7 have high survival chances. And as soon as nodes increases survival chances are getting decreased.\n    ","c2cc7b54":"## Bivariate Analysis","58d7101e":"**Observations:**\nFigure 1: 0 to 7 nodes have high survival chances.\nFigure 2: We can draw insights due to high overlap\nFigure 3: We can draw insights due to high overlap"}}