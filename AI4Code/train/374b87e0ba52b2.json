{"cell_type":{"605da9f1":"code","e1eb9dc9":"code","dd214051":"code","3a0db2d5":"code","866e6076":"code","45c8dbff":"code","4bacdceb":"code","4cfae6c0":"code","8253aa4a":"code","4e439b0f":"code","b7946f18":"code","a350abb8":"markdown","3ec11654":"markdown"},"source":{"605da9f1":"import numpy as np\nimport pandas as pd\nimport os\nimport json\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport missingno as msno\nfrom sklearn.decomposition import PCA\nfrom sklearn.cluster import KMeans\n%matplotlib inline\ninline_rc = dict(mpl.rcParams)","e1eb9dc9":"\nimport os\nprint(os.listdir(\"..\/input\"))","dd214051":"# We only use the first 100,000 data in this assignment\nusers = []\nwith open('..\/input\/yelp-dataset\/yelp_academic_dataset_business.json') as fl:\n    for i, line in enumerate(fl):\n        users.append(json.loads(line))\n        if i+1 >= 100000:\n            break\ndf = pd.DataFrame(users)\ndf.head()","3a0db2d5":"x=df['stars'].value_counts()\nx=x.sort_index()\n#plot\nplt.figure(figsize=(8,4))\nax= sns.barplot(x.index, x.values, alpha=0.8)\nplt.title(\"Star Rating Distribution\")\nplt.ylabel('# of businesses', fontsize=12)\nplt.xlabel('Star Ratings ', fontsize=12)","866e6076":"business_cats = ''.join(df['categories'].astype('str'))\n\ncats=pd.DataFrame(business_cats.split(','),columns=['categories'])\n\n#prep for chart\nx=cats.categories.value_counts()\n\nx=x.sort_values(ascending=False)\nx=x.iloc[0:20]\n\n#chart\nplt.figure(figsize=(16,4))\nax = sns.barplot(x.index, x.values, alpha=0.8)#,color=color[5])\nplt.title(\"What are the top categories?\",fontsize=25)\nlocs, labels = plt.xticks()\nplt.setp(labels, rotation=80)\nplt.ylabel('# businesses', fontsize=12)\nplt.xlabel('Category', fontsize=12)\n\n#adding the text labels\n# rects = ax.patches\n# labels = x.values\n# for rect, label in zip(rects, labels):\n#     height = rect.get_height()\n#     ax.text(rect.get_x() + rect.get_width()\/2, height + 5, label, ha='center', va='bottom')\n\nplt.show()\n\n","45c8dbff":"# Measures of central tendency for given data\ndf.describe()","4bacdceb":"#Get the distribution of the ratings\nx=df['city'].value_counts()\nx=x.sort_values(ascending=False)\nx=x.iloc[0:20]\nplt.figure(figsize=(16,4))\nax = sns.barplot(x.index, x.values, alpha=0.8)\nplt.title(\"Which city has the most reviews?\")\nlocs, labels = plt.xticks()\nplt.setp(labels, rotation=45)\nplt.ylabel('# businesses', fontsize=12)\nplt.xlabel('City', fontsize=12)","4cfae6c0":"#Get the distribution of the ratings\nx=df['city'].value_counts()\nx=x.sort_values(ascending=False)\nx=x.iloc[0:20]\nplt.figure(figsize=(16,4))\nax = sns.barplot(x.index, x.values, alpha=0.8)\nplt.title(\"Which city has the most reviews?\")\nlocs, labels = plt.xticks()\nplt.setp(labels, rotation=45)\nplt.ylabel('# businesses', fontsize=12)\nplt.xlabel('City', fontsize=12)","8253aa4a":"sns.kdeplot(df.sample(10000).review_count,df.sample(10000).stars,shade=True)","4e439b0f":"sns.distplot(df.review_count,kde=True,hist=True)","b7946f18":"sns.distplot(df.stars,kde=True,hist=True)","a350abb8":"### 1. Read Data","3ec11654":"references :- \n- https:\/\/www.kaggle.com\/jagangupta\/what-s-in-a-review-yelp-ratings-eda\n- https:\/\/www.kaggle.com\/sk3ptic\/yelp-users-data-clustering-ida"}}