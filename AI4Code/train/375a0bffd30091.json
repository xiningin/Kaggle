{"cell_type":{"82d406ae":"code","d6460f11":"code","575464dd":"code","c3b267ec":"code","88c0fd7a":"code","db894af7":"code","f198f6d1":"code","00d5e357":"code","ed6626c4":"code","baa2557a":"code","87fd93fa":"code","6c70ccc4":"code","f4ddf525":"code","6151cefe":"code","5de0f2ee":"code","517974ce":"code","ee19d693":"code","ddab76ca":"code","0a1d35d5":"code","ebd96bcf":"code","c9440adf":"code","82b6d98a":"code","b24d9b7e":"markdown","cccbf1f0":"markdown","de35595a":"markdown"},"source":{"82d406ae":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom collections import Counter\n%matplotlib inline\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport plotly as py\nimport plotly.graph_objs as go\ninit_notebook_mode(connected=True) #do not miss this line\nimport warnings\n\nwarnings.filterwarnings('ignore')\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","d6460f11":"data=pd.read_csv(\"..\/input\/beer-consumption-sao-paulo\/Consumo_cerveja.csv\")","575464dd":"data.info()","c3b267ec":"data.head()","88c0fd7a":"data=data.dropna()","db894af7":"data.columns = data.columns.str.replace(' ','_')\ndata.columns = data.columns.str.replace('[)(]' ,'')","f198f6d1":"data['Temperatura_Media_C'] = data['Temperatura_Media_C'].str.replace(',' ,'.').astype(float)\ndata['Temperatura_Minima_C'] = data['Temperatura_Minima_C'].str.replace(',' ,'.').astype(float)\ndata['Temperatura_Maxima_C'] = data['Temperatura_Maxima_C'].str.replace(',' ,'.').astype(float)\ndata['Precipitacao_mm'] = data['Precipitacao_mm'].str.replace(',' ,'.').astype(float)\ndata['Final_de_Semana'] = data['Final_de_Semana'].astype(int)","00d5e357":"data.corr()","ed6626c4":"plt.figure(figsize=(10,6))\nsns.violinplot(x=\"Final_de_Semana\", y=\"Consumo_de_cerveja_litros\",data=data)\nplt.title(\"Beer consumption by day of the week\")\nplt.xlabel(\"weekdays(0) vs weekend(1)\")\nplt.ylabel(\"beer consumption\")\nplt.show()","baa2557a":"dow=sum(data.Consumo_de_cerveja_litros[data.Final_de_Semana==0])\/5\nweekend=sum(data.Consumo_de_cerveja_litros[data.Final_de_Semana==1])\/2\nlabels = ['Beer consumption by Weekdays','Beer consumption by weekend']\nvalues = [dow,weekend]\n\nfig = go.Figure(data=[go.Pie(labels=labels, values=values)])\nfig.update_layout(title='Sample of weekly beer consumption')\nfig.show()","87fd93fa":"dow1=sum(data.Consumo_de_cerveja_litros[data.Final_de_Semana==0])\/(365-96)\nweekend2=sum(data.Consumo_de_cerveja_litros[data.Final_de_Semana==1])\/(365-269)\ndays=[\"Weekdays\",\"Weekend day\"]\nfig=go.Figure([go.Bar(x=days,y=[dow1,weekend2])])\nfig.update_layout(title='Sample of daily beer consumption  ',\n                   xaxis_title='Days',\n                   yaxis_title='Beer consumption (Liter)')\nfig.show()","6c70ccc4":"datadate=data[4:11]\nfig = go.Figure(data=go.Scatter(x=datadate.Data, y=datadate.Consumo_de_cerveja_litros))\nfig.update_layout(title='Sample of weekly beer consumption day by day ',\n                   xaxis_title='Days',\n                   yaxis_title='Beer consumption')\nfig.show()","f4ddf525":"fig=go.Figure([go.Bar(x=datadate.Data,y=datadate.Consumo_de_cerveja_litros)])\nfig.update_layout(title='Sample of daily beer consumption  ',\n                   xaxis_title='Days',\n                   yaxis_title='Beer consumption (Liter)')\nfig.show()","6151cefe":"data[\"Data\"]= pd.to_datetime(data[\"Data\"]) \ndata['month'] = pd.to_datetime(data['Data']).dt.month\nfig = go.Figure(data=go.Box(x=data.month,y=data.Consumo_de_cerveja_litros.values))\nfig.update_layout(title='Beer consumption month by month ',\n                   xaxis_title='Month',\n                   yaxis_title='Beer consumption')\nplt.savefig(fname=\"xx\")\nfig.show()\n","5de0f2ee":"plt.figure(figsize=(13,10))\nsns.heatmap(data.corr(),annot=True)\nplt.title(\"Correlation Heatmap\")\nplt.show()","517974ce":"sns.lmplot(x=\"Consumo_de_cerveja_litros\", y=\"Temperatura_Maxima_C\", data=data)\nplt.title(\"how much beer to drink in relation to temperature \")\nplt.show()","ee19d693":"wend=data.loc[data.Final_de_Semana==1]\ndoww=data.loc[data.Final_de_Semana==0]\nwend=wend.sort_values('Consumo_de_cerveja_litros',ascending=False)\ndoww=doww.sort_values('Consumo_de_cerveja_litros',ascending=False)\ntrace1 = go.Scatter(\n                    x = doww.Consumo_de_cerveja_litros,\n                    y = doww.Temperatura_Maxima_C,\n                    mode = \"lines\",\n                    name = \"Weekdays\",\n                    marker = dict(color = 'rgba(16, 112, 2, 0.8)'),\n                    text= doww.Consumo_de_cerveja_litros)\ntrace2 = go.Scatter(\n                    x = wend.Consumo_de_cerveja_litros,\n                    y = wend.Temperatura_Maxima_C,\n                    mode = \"lines\",\n                    name = \"Weekend day\",\n                    marker = dict(color = 'rgba(80, 26, 80, 0.8)'),\n                    text= wend.Consumo_de_cerveja_litros)\ndata1 = [trace1, trace2]\nlayout = dict(title = 'How much beer to drink in relation to temperature',\n              xaxis= dict(title= 'beer consumption',ticklen= 5,zeroline= False)\n             )\nfig = dict(data = data1, layout = layout)\niplot(fig)","ddab76ca":"from sklearn.linear_model import LinearRegression\nlr=LinearRegression()\nx=data.Consumo_de_cerveja_litros.values.reshape(-1,1)\ny=data.Temperatura_Maxima_C.values.reshape(-1,1)\nx.shape,y.shape\n","0a1d35d5":"lr.fit(x,y)","ebd96bcf":"array=np.arange(50).reshape(-1,1)\ny_head=lr.predict(array)","c9440adf":"plt.figure(figsize=(10,10))\nplt.plot(array,y_head,color=\"red\",label=\"Predict line\")\nplt.scatter(x,y)\nplt.title(\"Predict with Linear Regression\")\nplt.xlabel(\"Beer consumption\")\nplt.ylabel(\"Max Temperature\")\nplt.legend()\nplt.show()","82b6d98a":"lr.predict([[30]])","b24d9b7e":"            > > \u0130TS YEARLY TEMPERATURE \u0130N SAO PAULO. Do you see relation?\n![](https:\/\/images.climate-data.org\/location\/655\/temperature-graph.png)","cccbf1f0":"![](https:\/\/www.aboutbrasil.com\/modules\/images\/Soccer_fans_Beer_Brazil.jpg)\n> The data (sample) were collected in S\u00e3o Paulo\u200a\u2014\u200aBrazil, in a university area, where there are some parties with groups of students from 18 to 28 years of age (average). The dataset used for this activity has 7 attributes, being a Target, with period of one year.\n\n","de35595a":"**We can say people in sao paulo drink beer to refresh. (me too)**"}}