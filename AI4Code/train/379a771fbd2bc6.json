{"cell_type":{"36008bc7":"code","4f2d440c":"code","1f582054":"code","b5f18f74":"code","229a5387":"code","5df7a4df":"code","443ed4f5":"code","e97fa6a3":"code","b2f637d4":"code","0d21e536":"code","a56b1b18":"code","ba4864c5":"code","bd159721":"code","aa04fbf8":"code","9914cb7c":"code","0c0cfd10":"code","5f980dc1":"code","b6ba8220":"code","4f691c5f":"code","28591b05":"code","0fb21892":"code","8a9d08f3":"code","5f3bfa49":"code","6a208a64":"code","60ec7eac":"code","99f229ab":"code","36ee1ca0":"code","04479df9":"code","314b016d":"code","f686be2d":"code","1c61c1e2":"markdown","6e8afce6":"markdown","dd5af82d":"markdown","8fe84246":"markdown","a637ce70":"markdown","715b877c":"markdown","a56c6209":"markdown","54da7a84":"markdown","ca620e9d":"markdown","05d8caad":"markdown","e114d134":"markdown","37cc55bd":"markdown","5501c9b8":"markdown","60746c8d":"markdown","f2860561":"markdown","a159e2fb":"markdown","ee178839":"markdown","3855e620":"markdown","c1012a39":"markdown","bf39ac5b":"markdown","e6f6a202":"markdown"},"source":{"36008bc7":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly\nplotly.offline.init_notebook_mode (connected = True)","4f2d440c":"pd.set_option('display.max_columns',None)\ndf=pd.read_csv('..\/input\/fifa-20-complete-player-dataset\/players_20.csv')\ndf.head()","1f582054":"df.isna().any().value_counts()","b5f18f74":"plt.figure(figsize=(10,8))\nsns.heatmap(df.isnull(),cmap='viridis')","229a5387":"df.info()","5df7a4df":"df.fillna(0,inplace=True)","443ed4f5":"df['Count']=1\ndf_foot=df.groupby('preferred_foot')['Count'].sum().reset_index()\n\nfig=px.pie(df_foot,values='Count',names='preferred_foot',hole=0.4)\nfig.update_layout(title='Distribution of preferred foot of FIFA players',title_x=0.5,\n                  annotations=[dict(text='Foot',font_size=20, showarrow=False,height=800,width=700)])\nfig.update_traces(textfont_size=15,textinfo='percent+label')\nfig.show()","e97fa6a3":"plt.figure(figsize=(10,8))\nsns.kdeplot(df['age'],shade=True)\nplt.title('Age distribution of players',size=25)\nplt.axvline(df['age'].mean(),color='red')\nplt.xlabel('Mean age:{0:.0f}'.format(df['age'].mean()),size=20)","b2f637d4":"df_nation=df.groupby('nationality')['Count'].sum().reset_index().sort_values(by='Count',ascending=False).head(10)","0d21e536":"sns.catplot('nationality','Count',data=df_nation,kind='bar',height=8,aspect=2)\nplt.xticks(size=15,rotation=45)\nplt.xlabel('Nationality',size=20)\nplt.yticks(size=15)\nplt.title('Number of professional footballers of each nation',size=25)","a56b1b18":"df_val=df.groupby('club')['value_eur'].sum().reset_index().sort_values(by='value_eur',ascending=False).head(10)","ba4864c5":"sns.catplot('club','value_eur',data=df_val,kind='bar',height=8,aspect=2,palette='coolwarm_r')\nplt.xticks(size=15,rotation=45)\nplt.xlabel('Club name',size=20)\nplt.yticks(size=15)\nplt.title('Squad value',size=25)\nplt.ylabel('Squad value (X 100 Million Euros)',size=15)","bd159721":"df_pot=df.groupby('club')['potential'].sum().reset_index().sort_values(by='potential',ascending=False).head(10)","aa04fbf8":"sns.catplot('club','potential',data=df_pot,kind='bar',height=8,aspect=2,palette='winter')\nplt.xticks(size=15,rotation=45)\nplt.xlabel('Club name',size=20)\nplt.yticks(size=15)\nplt.title('Potential of the squads',size=25)\nplt.ylabel('Squad potential)',size=15)","9914cb7c":"plt.figure(figsize=(10,8))\nsns.distplot(df['value_eur'])\nplt.title('Player value distribution',size=25)\nplt.xlabel('Player value in Euros (X 100 million)',size=15)","0c0cfd10":"sns.set()\nplt.figure(figsize=(10,8))\nsns.kdeplot(df['wage_eur'],shade=True,color='green')\nplt.title('Player wages distribution',size=25)\nplt.xlabel('Player wage in Euros',size=15)","5f980dc1":"df_top10=df.sort_values(by='overall',ascending=False).head(10)","b6ba8220":"sns.catplot('short_name','overall',data=df_top10,kind='point',height=8,aspect=2)\nplt.xlabel('\\n Name of players',size=20)\n\nplt.ylabel('Overall',size=15)\nplt.title('Top 10 players worldwide',size=25)\nplt.xticks(size=15)","4f691c5f":"df_young=df[df['age']<24]\ndf_young_top10=df_young.sort_values(by='overall',ascending=False).head(10)","28591b05":"sns.catplot('short_name','overall',data=df_young_top10,kind='point',height=8,aspect=2,color='seagreen')\nplt.xlabel('\\n Name of players',size=20)\n\nplt.ylabel('Overall',size=15)\nplt.title('Top 10 young players worldwide',size=25)\nplt.xticks(size=15)","0fb21892":"df_gk=df[df['team_position']=='GK']\ndf_gk_top10=df_gk.sort_values(by='overall',ascending=False).head(10)","8a9d08f3":"sns.catplot('short_name','overall',data=df_gk_top10,kind='point',height=8,aspect=2,color='indianred')\nplt.xlabel('\\n Name of players',size=20)\n\nplt.ylabel('Overall',size=15)\nplt.title('Top 10 Goalkeepers worldwide',size=25)\nplt.xticks(size=15)","5f3bfa49":"df_fk_top10=df.sort_values(by='skill_fk_accuracy',ascending=False).head(10)\nsns.catplot('short_name','skill_fk_accuracy',data=df_fk_top10,kind='point',height=8,aspect=2,color='green')\nplt.xlabel('\\n Name of players',size=20)\n\nplt.ylabel('Overall',size=15)\nplt.title('Top 10 FK specialists worldwide',size=25)\nplt.xticks(size=15,rotation=45)","6a208a64":"df_def_top10=df.sort_values(by='defending',ascending=False).head(10)\nsns.catplot('short_name','defending',data=df_def_top10,kind='point',height=8,aspect=2,color='blue')\nplt.xlabel('\\n Name of players',size=20)\n\nplt.ylabel('Overall',size=15)\nplt.title('Top 10 defenders worldwide',size=25)\nplt.xticks(size=15,rotation=45)","60ec7eac":"df_pac_top10=df.sort_values(by='pace',ascending=False).head(10)\nsns.catplot('short_name','pace',data=df_pac_top10,kind='point',height=8,aspect=2,color='black')\nplt.xlabel('\\n Name of players',size=20)\n\nplt.ylabel('Overall pace',size=15)\nplt.title('Top 10 defenders worldwide',size=25)\nplt.xticks(size=15,rotation=45)","99f229ab":"df_mean_age=df.groupby('club')['age'].mean().reset_index().sort_values(by='age').round(0)","36ee1ca0":"df_mean_age=df_mean_age.loc[[505,224,400,350,389,226,462,626,63,92],:].sort_values(by='age',ascending=False)","04479df9":"sns.catplot('club','age',data=df_mean_age,kind='bar',height=8,aspect=2,palette='summer')\nplt.xticks(size=15,rotation=45)\nplt.xlabel('Club name',size=20)\nplt.ylabel('Average age',size=20)\nplt.title('Average squad age of clubs',size=25)","314b016d":"df_top_pos=df.iloc[df.groupby(df['team_position'])['overall'].idxmax()]\ndf_top_player_pos=df_top_pos.loc[:,['short_name','overall','team_position']]\ndf_top_player_pos.drop(327,axis=0,inplace=True) #Bad value\ndf_top_player_pos.sort_values(by='overall',ascending=False).reset_index(drop=True)","f686be2d":"df_workrate=df.groupby('work_rate')['Count'].sum().reset_index().sort_values(by='Count')\n\nfig=px.pie(df_workrate,values='Count',names='work_rate',hole=0.4)\nfig.update_layout(title='Distribution of work rate of FIFA players',title_x=0.5,\n                  annotations=[dict(text='Work rate',font_size=20, showarrow=False,height=800,width=700)])\nfig.update_traces(textfont_size=15,textinfo='percent')\nfig.show()","1c61c1e2":"# Data Visualisation\n\nLet us move ahead with the most important aspect which is the data visualisation section of the FIFA 20 dataset.\n\n\n## Preferred foot\n\nFirstly, let us check how many players are left or right footed through a pie chart.","6e8afce6":"48 columns have null values associated with them while 56 columns have no null values. Let us visualise the density of these null values in each column.","dd5af82d":"# Data Wrangling\n\nAs we can clearly see, there are many columns with null values. Let us first check which columns have null values with them and try to take care of these accordingly.","8fe84246":"Hence, in the FIFA player dataset, we see that maximum number of players have a value of worth 0-20 million Euros. There are a few players on the extreme end as well with values above 100 million euros. These are generally the big signings or the extremely promising players (Eg: Mbappe)\n\n\n## Player wage distribution\n\nAs per the value of the player in a squad, footballers are generally paid. Hence, we will see how the wages are being distributed.","a637ce70":"As we can see, about 54% of the players have a medium\/medium workrate followed by a high\/medium workrate.\n\n\n# If you found this notebook useful, an upvote would be great. :)","715b877c":"## Top 10 players in the world\n\nLet us check the top 10 players based on FIFA ratings","a56c6209":"# Introduction\n\nAs the date for FIFA 21 release ever gets closer, it is time to analyse the various footballing players to understand how should we select our FUT team for online play against rivals. \n\nThis particular notebook will utilise the latest version FIFA 20 player database for it's analysis. Through this particular analysis, we will try to understand how the overall ratings of various footballers are generally distributed. We will try to check the top players as well as the top mid range players in our analysis below.\n\n![81-sClzQ2AL._SL1500_.jpg](attachment:81-sClzQ2AL._SL1500_.jpg)\n\n\n# Importing the libraries and datasets\n\nLet us start off with importing the required datasets and libraries necessary for our data analysis","54da7a84":"Mean age of all the players in the dataset is 25 . As we can see, players above 35 are much lower and many players start their professional contracts at 18. Hence, the distribution is shown as such.\n\n\n## Players by nationality\n\nLet us see the top 10 nations with highest number of players in the professional category. This indicates how strong the football academy is in the nations to provide the exposure to these footballers to play for the various clubs at a professional level.","ca620e9d":"As we can see from the graph above, **Real Madrid has the most expensive squad in the world with nearly 860 Million Euros** worth players. followed by FC Barcelona and Manchester City.\n\n\n## Top 10 clubs with highest potential players\n\nLet us check which clubs have players with the highest cumulative potential. This would tell us how strong the current squads of each club are since price isn't a definitive factor of performance.","05d8caad":"We can see that Oblak leads the list of top 10 goalkeepers in the world.\n\n## Top 10 Free kick specialists\n\nLet us check the top 10 FK specialists based on FK accuracy.","e114d134":"From the above plot, we see that most of the professional footballers are the European nations. Remaining ones in the top 10 are either South American or Asian. \n\n\n## Top 10 clubs with most valuable squad\n\nLet us check the clubs with the most valuable squad according to their current market values.","37cc55bd":"As we can see, right footed players are far more common as compared to left footed players. Nearly 77 % of players are right footed.\n\n## Age\n\nLet us see the age distribution of the players in the FIFA dataset find the mean age of the players across all the leagues.","5501c9b8":"As we can see, Leo Messi leads the list of top free kick takers.\n\n## Top 10 defenders worldwide\n\n\nLet us check the top 10 defenders in the world currently.","60746c8d":"## Top 10 Young players\n\nLet us check the top 10 young players. For this particular analysis, we will consider players of ages 23 or below only.","f2860561":"We see that Juventus has a relatively older average squad age. Most of the other top clubs have a squad age between 23-25.\n\n\n## Best players of each position\n\nLet us check who are the best players of each position available.","a159e2fb":"From the above plot, we see that Chiellini and Van Dijk lead the list of best defenders.\n\n\n## Top 10 fastest players\n\nLet us check the fastest players in the dataset based on the pace feature.","ee178839":"These will be the players to look for in each of the positions due to their high overall values.\n\n\n## Player work rates\n\nLet us check how the player work rates vary in the dataset.","3855e620":"As we can see, K. Mbapp\u00e9 leads the list of young top 10 players in the world.\n\n\n## Top 10 Goalkeepers\n\nAs goalkeepers are an integral part of any squad, it important to know which are the top 10 goalkeepers right now in the world.","c1012a39":"In terms of cumulative potential of the squds, all the top 10 clubs are extremely close to each other. However, FC Barcelona just edges past Real Madrid.\n\nNow that we have checked the stats of all the clubs, let us take a deeper look at the individual players and their attributes.\n\n## Player value distribution\n\nAs we know, not all players have extremely high values. Through a distribution plot, we would like to know what ranges of values are the highest.","bf39ac5b":"From the plot above, we see that Adama Traor\u00e9 and Mbapp\u00e9 lead the list of top 10 fastest players.\n\n\n## Average squad age of the clubs\n\nLet us see how the mean ages of the various top clubs differ.","e6f6a202":"We see that columns such as gk_kicking, gk_positioning, etc have very high number of null values. This is expected because only a small percent of players are goal keepers.\n\nConsidering the fact that most null values actually mean that the player score for that feature is 0, we will try to fill all the null values with 0s."}}