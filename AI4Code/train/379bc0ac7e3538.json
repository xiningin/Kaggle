{"cell_type":{"808a066f":"code","e0481da5":"code","35eed4b2":"code","0516ecd6":"code","83ba9778":"code","1e7eb67f":"code","f701155a":"code","933059f5":"code","fef0a80c":"code","c7329720":"code","78b329ac":"code","6e9121d5":"code","361b83cb":"code","96095d92":"code","42a4e9a6":"code","12e401ba":"code","8922cf2f":"code","a68c092c":"code","2b80386f":"code","c59ce823":"code","15edd275":"code","c54b1224":"code","5f75b47b":"code","f9fe2729":"code","b606d72e":"code","9c517229":"code","98b64105":"code","b93b03b8":"code","e922243c":"code","8cf697ee":"code","2c0e6740":"code","c699c98d":"code","b37c82b0":"code","8a2f22d0":"code","6e5316b9":"code","7632bf78":"code","c0a0dbac":"code","dd3a4344":"code","3067037a":"code","0b572898":"code","4f084449":"code","c23e94ac":"code","8fe2f1a4":"code","19c99fbe":"code","bc14fbff":"code","d4d20bec":"code","a2300ff2":"code","cf9a4220":"code","fae1b255":"code","97a2e1c6":"code","2a0564b6":"code","bc93ab49":"code","94962e28":"code","f7b12caf":"code","b384d82c":"code","d3341437":"code","856eb980":"code","52738a14":"code","cfdf5df3":"code","87a36fd9":"code","c3c41494":"code","010995cf":"code","8bd204f4":"code","48e7416a":"code","0da3237f":"code","968c05fc":"code","a0ca1962":"code","0c277b8b":"code","3b192028":"code","5b53711c":"code","76b23494":"code","068161f0":"code","56ed6b90":"code","808b50f9":"code","b3c36456":"code","670ce867":"code","e055cc6c":"code","21dbf608":"code","f307b2db":"code","9651dbdf":"code","14967be3":"markdown","d6adc88c":"markdown","06265e40":"markdown","e7fba759":"markdown","78e01606":"markdown","63f009e2":"markdown","139ce323":"markdown","f17c47de":"markdown","bc899a65":"markdown","d4cdac73":"markdown","383501d4":"markdown","1d348d04":"markdown","af049c21":"markdown","f564ca33":"markdown","9e34ca13":"markdown","13db74f8":"markdown","ab9f56b4":"markdown"},"source":{"808a066f":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport altair as alt\nimport gc #garbage collection \ngc.enable()  #enabling garbage collection\n\n#suppressing warnings.\nimport warnings\nwarnings.filterwarnings('ignore')","e0481da5":"#Data path\nPATH = '\/kaggle\/input\/ieee-fraud-detection\/'","35eed4b2":"#Reading the train and test identity dataset.\ntrain_identity = pd.read_csv(f'{PATH}train_identity.csv')\ntest_identity = pd.read_csv(f'{PATH}test_identity.csv')","0516ecd6":"#shape of the dataframe\nprint(f'Train Shape: {train_identity.shape}')\nprint(f'Test Shape: {test_identity.shape}')","83ba9778":"#exploring first five observations.\ntrain_identity.head()","1e7eb67f":"#Exploring id_01.\ntrain_identity.id_01.describe()","f701155a":"train_identity.id_01.value_counts(dropna=False)","933059f5":"#id_02.\ntrain_identity.id_02.describe()","fef0a80c":"train_identity.id_02.value_counts(dropna=False)","c7329720":"#distribution of the data.\nsns.distplot(train_identity.id_02, bins=20);","78b329ac":"#3. id_03.\ntrain_identity.id_03.describe()","6e9121d5":"train_identity.id_03.value_counts(dropna=False)","361b83cb":"#4.id_04.\ntrain_identity.id_04.describe()","96095d92":"train_identity.id_04.value_counts(dropna=False)","42a4e9a6":"#id_05.\ntrain_identity.id_05.describe()","12e401ba":"train_identity.id_05.value_counts(dropna=False)","8922cf2f":"#id_06.\ntrain_identity.id_06.describe()","a68c092c":"train_identity.id_06.value_counts(dropna=False)","2b80386f":"#id_07.\ntrain_identity.id_07.describe()","c59ce823":"train_identity.id_07.value_counts(dropna=False)","15edd275":"#id_08\ntrain_identity.id_08.describe()","c54b1224":"train_identity.id_08.value_counts(dropna=False)","5f75b47b":"#id_09\ntrain_identity.id_09.describe()","f9fe2729":"train_identity.id_09.value_counts(dropna=False)","b606d72e":"#id_10\ntrain_identity.id_10.describe()","9c517229":"train_identity.id_10.value_counts(dropna=False)","98b64105":"#id_11\ntrain_identity.id_11.describe()","b93b03b8":"train_identity.id_11.value_counts(dropna=False)","e922243c":"#id_12\ntrain_identity.id_12.describe()","8cf697ee":"#count plot.\nsns.countplot(train_identity.id_12)\nprint(f'NAN count: {train_identity.id_12.isnull().sum()}')","2c0e6740":"#id_13\ntrain_identity.id_13.describe()","c699c98d":"train_identity.id_13.value_counts(dropna=False)","b37c82b0":"#id_14\ntrain_identity.id_14.describe()","8a2f22d0":"train_identity.id_14.value_counts(dropna=False)","6e5316b9":"#id_15\ntrain_identity.id_15.describe()","7632bf78":"print(f'NAN count: {train_identity.id_15.isnull().sum()}')\nsns.countplot(train_identity.id_15);","c0a0dbac":"#id_16\ntrain_identity.id_16.describe()","dd3a4344":"print(f'NAN count: {train_identity.id_16.isnull().sum()}')\nsns.countplot(train_identity.id_16);","3067037a":"#id_17\ntrain_identity.id_17.describe()","0b572898":"train_identity.id_17.value_counts(dropna=False)","4f084449":"#id_18.\ntrain_identity.id_18.describe()","c23e94ac":"#id_19.\ntrain_identity.id_19.describe()","8fe2f1a4":"#id_20.\ntrain_identity.id_20.describe()","19c99fbe":"#id_21.\ntrain_identity.id_21.describe()","bc14fbff":"#id_22.\ntrain_identity.id_22.describe()","d4d20bec":"#id_23.\ntrain_identity.id_23.describe()","a2300ff2":"print(f'NAN count: {train_identity.id_23.isnull().sum()}')\nsns.countplot(train_identity.id_23)\nplt.xticks(rotation=90);","cf9a4220":"#id_24.\ntrain_identity.id_24.describe()","fae1b255":"#id_25.\ntrain_identity.id_25.describe()","97a2e1c6":"#id_26.\ntrain_identity.id_26.describe()","2a0564b6":"#id_27.\ntrain_identity.id_27.describe()","bc93ab49":"#id_28.\ntrain_identity.id_28.describe()","94962e28":"#id_29.\ntrain_identity.id_29.describe()","f7b12caf":"#id_30.\ntrain_identity.id_30.describe()","b384d82c":"print(f'NAN count: {train_identity.id_30.isnull().sum()}')\nplt.figure(figsize=(13, 8))\nsns.countplot(train_identity.id_30)\nplt.xticks(rotation=90);","d3341437":"#id_31.\ntrain_identity.id_31.describe()","856eb980":"print(f'NAN count: {train_identity.id_31.isnull().sum()}')\nplt.figure(figsize=(19, 8))\nsns.countplot(train_identity.id_31)\nplt.xticks(rotation=90);","52738a14":"#id_32.\ntrain_identity.id_32.describe()","cfdf5df3":"#id_33.\ntrain_identity.id_33.describe()","87a36fd9":"print(f'NAN count: {train_identity.id_33.isnull().sum()}')\nplt.figure(figsize=(19, 8))\nsns.countplot(train_identity.id_33.iloc[:30000])\nplt.xticks(rotation=90);","c3c41494":"#id_34.\ntrain_identity.id_34.describe()","010995cf":"print(f'NAN count: {train_identity.id_34.isnull().sum()}')\nplt.figure(figsize=(9, 5))\nsns.countplot(train_identity.id_34.iloc[:30000])\nplt.xticks(rotation=90);","8bd204f4":"#id_35.\ntrain_identity.id_35.describe()","48e7416a":"print(f'NAN count: {train_identity.id_35.isnull().sum()}')\nplt.figure(figsize=(9, 5))\nsns.countplot(train_identity.id_35)\nplt.xticks(rotation=90);","0da3237f":"#id_36.\ntrain_identity.id_36.describe()","968c05fc":"print(f'NAN count: {train_identity.id_36.isnull().sum()}')\nplt.figure(figsize=(9, 5))\nsns.countplot(train_identity.id_36)\nplt.xticks(rotation=90);","a0ca1962":"#id_37.\ntrain_identity.id_37.describe()","0c277b8b":"print(f'NAN count: {train_identity.id_37.isnull().sum()}')\nplt.figure(figsize=(9, 5))\nsns.countplot(train_identity.id_37)\nplt.xticks(rotation=90);","3b192028":"#id_38\ntrain_identity.id_38.describe()","5b53711c":"print(f'NAN count: {train_identity.id_38.isnull().sum()}')\nplt.figure(figsize=(9, 5))\nsns.countplot(train_identity.id_38)\nplt.xticks(rotation=90);","76b23494":"#Device Info\ntrain_identity.DeviceInfo.describe()","068161f0":"print(f'NAN count: {train_identity.DeviceInfo.isnull().sum()}')\nplt.figure(figsize=(19, 5))\nsns.countplot(train_identity.DeviceInfo[:500])\nplt.xticks(rotation=90);","56ed6b90":"#Device Type\ntrain_identity.DeviceType.describe()","808b50f9":"print(f'NAN count: {train_identity.DeviceType.isnull().sum()}')\nplt.figure(figsize=(9, 5))\nsns.countplot(train_identity.DeviceType)\nplt.xticks(rotation=90);","b3c36456":"cols = ['id_0'+str(i) for i in range(1, 10)]\ncols += ['id_10', 'id_11']\n\n#selecting only numerical columns\ntrain_num = train_identity[cols]\n#correlation\ncorr = train_num.corr()\n\n#heatmap\nplt.figure(figsize=(15,9))\nsns.heatmap(corr, annot=True, vmax=1., vmin=-1.)","670ce867":"#distribution.\nsns.distplot(train_identity.id_03.dropna())","e055cc6c":"sns.distplot(train_identity.id_09.dropna())","21dbf608":"#All variables correlation.\ncols = [col for col in train_identity.columns if train_identity[col].dtype != 'O']\ncols.remove('TransactionID')\n\n#selecting only numerical columns\ntrain_num = train_identity[cols]\n#correlation\ncorr = train_num.corr()\n\n#heatmap\nplt.figure(figsize=(21, 21))\nsns.heatmap(corr, annot=True, vmax=1., vmin=-1., cmap='mako')","f307b2db":"#checking the categrical variables containing in the train sets are also present in the test set.\ndef checkcat(df):\n    for col in df.columns:\n        length = len(set(test_identity[col].values) - set(train_identity[col].values))\n        if length > 0:\n            print(f'{col} in the test set has {length} values that are not present in the train set')\n\ncat_cols = [col for col in train_identity.columns if train_identity[col].dtype == 'O']\n#cat_cols += ['id_13', 'id_14', 'id_17', 'id_18', 'id_19', 'id_20', 'id_21', 'id_22',\n#           'id_24', 'id_25', 'id_26', 'id_32']\nprint(cat_cols)","9651dbdf":"checkcat(train_identity[cat_cols])","14967be3":"id_02 - Data is scattered. Maybe it is the credit limit or the max amount withdrawl limit. However the minimum value for id_02 is 1 which cannot be the withdrawl limit.","d6adc88c":"id_03 - Value ranges from -13 to  10. Negative values are present in the column. Most of the values are 0 and NAN.","06265e40":"id_31 : The Browser used for the transaction.","e7fba759":"DeviceInfo: Info about the device used for the transaction.","78e01606":"The distribution is similar.","63f009e2":"Contains 77 unique values.","139ce323":"id_03 and id_09 are highly corelated with each other.","f17c47de":"id_13 : Nominal Categorical variable containg of numbers representing some categories.","bc899a65":"**id_04** - Contains negative values, ranges from -28 to 0.","d4cdac73":"id_33 : Screen resolution of the device used. Can be a uselsess feature.","383501d4":"id_30 - The OS version used for the transactions.","1d348d04":"id_23 : Tells us about the IP proxy status of the transaction.","af049c21":"id_05 - Negative values present with most of the values to be 0 and NAN. Total 94 unique values.","f564ca33":"id_12 : Categorical Data. 2 Unique values, Found and Not Found.","9e34ca13":"# Univariate Analysis.","13db74f8":"# Bivariate analysis.","ab9f56b4":"id_01 - contains negative numbers with maximum value to be 0 and minimum number -100.\n\nContains no null values."}}