{"cell_type":{"4ea81a44":"code","c7a8eba5":"code","0b827754":"code","282f5f00":"code","1029901c":"code","e04a841d":"code","3ace3558":"code","d01bbc17":"code","122f3e38":"code","41b6d22a":"code","e9029aca":"code","700a5ed2":"code","6f19464b":"code","818c4ae3":"code","e53cd12a":"code","760473f1":"code","a0c5a5bd":"code","a70afc7b":"code","9eed70f9":"code","f1841c5a":"code","64f403c6":"code","df645a22":"markdown","ae34a40b":"markdown","06177310":"markdown","ce6ca3d2":"markdown","97593641":"markdown","2871a894":"markdown","cd5806a4":"markdown","9a35f8e0":"markdown"},"source":{"4ea81a44":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c7a8eba5":"import matplotlib.pyplot as plt\nimport seaborn as sns","0b827754":"df = pd.read_csv('..\/input\/living-wage-top-100-cities\/livingwage (2).csv')\ndf.head(5)","282f5f00":"state_2020 = df.state.values\nsingle_adult = df.one_adult_no_kids_living_wage.values","1029901c":"sns.barplot(x=state_2020, y=single_adult)","e04a841d":"df.groupby(['state']).sum().sort_values('one_adult_no_kids_living_wage', ascending=False)","3ace3558":"sns.scatterplot(x=state_2020, y=single_adult)","d01bbc17":"dfs = df.groupby('state')\nprint(dfs)","122f3e38":"df2 = df.drop(columns=['rank_2020', 'population_2020', 'population_2010','land_area_sqmi', 'density', 'state'],axis = 0, errors='ignore')","41b6d22a":"df2 = pd.melt(df2, id_vars=\"city\", var_name=\"Family Size\", value_name=\"Living Wage\")\ndf2.head()","e9029aca":"import plotly.express as px\npx.bar(df2, x='city', y='Living Wage',color='Family Size')","700a5ed2":"import pandas_profiling","6f19464b":"df.profile_report()","818c4ae3":"df2.profile_report()","e53cd12a":"df3 = pd.read_csv('..\/input\/living-wage-top-100-cities\/livingwage (2).csv')","760473f1":"df3.info()","a0c5a5bd":"# time to do the linear regression model\nfrom sklearn.linear_model import LinearRegression\nimport statsmodels.api as sm\n\nmodel = LinearRegression()\n\nX = df3[[\"population_2020\", \"land_area_sqmi\", \"density\"]]\ny = df3[\"one_adult_no_kids_living_wage\"]\n\nmodel.fit(X,y)\n\nX2 = sm.add_constant(X)\nest = sm.OLS(y, X2)\n\nprint(\"Model Coefficients:\\t\", model.coef_)\nprint(\"Model Intercept:\\t \", model.intercept_, \"\\n\")\n\n\nprint(\"Model R-squared:\\t \", model.score(X,y))\nprint(\"Model P-value:\\t\\t \", est.fit().f_pvalue)","a70afc7b":"# repeating same thing, minus the density since it is a combination of the other two columns and may have thrown off previous model\n\nX = df3[[\"population_2020\", \"land_area_sqmi\"]]\ny = df3[\"one_adult_no_kids_living_wage\"]\n\nmodel.fit(X,y)\n\nX2 = sm.add_constant(X)\nest = sm.OLS(y, X2)\n\nprint(\"Model Coefficients:\\t\", model.coef_)\nprint(\"Model Intercept:\\t \", model.intercept_, \"\\n\")\n\n\nprint(\"Model R-squared:\\t \", model.score(X,y))\nprint(\"Model P-value:\\t\\t \", est.fit().f_pvalue)","9eed70f9":"# repeating same thing, with just density\n\nX = df3[[\"density\"]]\ny = df3[\"one_adult_no_kids_living_wage\"]\n\nmodel.fit(X,y)\n\nX2 = sm.add_constant(X)\nest = sm.OLS(y, X2)\n\nprint(\"Model Coefficients:\\t\", model.coef_)\nprint(\"Model Intercept:\\t \", model.intercept_, \"\\n\")\n\n\nprint(\"Model R-squared:\\t \", model.score(X,y))\nprint(\"Model P-value:\\t\\t \", est.fit().f_pvalue)","f1841c5a":"# repeating last trial, but using the one adult three kids column for the y\n\nX = df3[[\"density\"]]\ny = df3[\"one_adult_three_kids_living_wage\"]\n\nmodel.fit(X,y)\n\nX2 = sm.add_constant(X)\nest = sm.OLS(y, X2)\n\nprint(\"Model Coefficients:\\t\", model.coef_)\nprint(\"Model Intercept:\\t \", model.intercept_, \"\\n\")\n\n\nprint(\"Model R-squared:\\t \", model.score(X,y))\nprint(\"Model P-value:\\t\\t \", est.fit().f_pvalue)","64f403c6":"# repeating last trial, but using the two adults both working no kids column\n\nX = df3[[\"density\"]]\ny = df3[\"two_adults_both_working_no_kids_living_wage\"]\n\nmodel.fit(X,y)\n\nX2 = sm.add_constant(X)\nest = sm.OLS(y, X2)\n\nprint(\"Model Coefficients:\\t\", model.coef_)\nprint(\"Model Intercept:\\t \", model.intercept_, \"\\n\")\n\n\nprint(\"Model R-squared:\\t \", model.score(X,y))\nprint(\"Model P-value:\\t\\t \", est.fit().f_pvalue)","df645a22":"# Scatterplot of states and living wage for single adult no kids","ae34a40b":"# Barplot by state of living wage for single adult with no kids","06177310":"Conclusion: The living wage of one adult with no kids has a positive relationship with the city area and density, alongside a negative relationship with city population. While this relationship is statistically significant (the p-value is extremely small), it is a fairly weak correlation (as seen by the R-squared of 0.315). This tells me that as population goes up, living wage goes down. However, density increases the living wage. Although it should be kept in mind that this relationship is quite weak and small.","ce6ca3d2":"# Defining values for states and single adult with no kids living wage","97593641":"Again we see an R-squared of 0.28 and a p-value of 0+. I will now try this with the two-adult columns","2871a894":"This time around, we see a p-value still below the 5% threshold. However, the R-squared value is quite a bit lower knocking it from the weak correlation range (about 0.3 - 0.5) into the very weak range (0 - 0.3).","cd5806a4":"This is better than just population and area, but still in the very weak range. However, the p-value shot back down to near-zero (or as I've seen in my classes this can be denoted as 0+, i.e a value so small it may as well be zero). I think from this we can conclude that there is some very weak but statistically significant correlation between population density and the living wage of a city for a single adult with no kids. Next I will see how this relationship plays out for the other living wage columns.","9a35f8e0":"# States ranked by highest living wage"}}