{"cell_type":{"d4a2a865":"code","2110f364":"code","3f6e20ac":"code","006f9e2a":"code","d6ae64cb":"code","6178f298":"code","02648107":"code","776662ae":"code","097d7cf1":"code","d2b447af":"code","5b6e0e67":"markdown","d66e779b":"markdown","750685e6":"markdown","8247293b":"markdown","c286fdf0":"markdown","347b9a3d":"markdown","e3c52bb8":"markdown"},"source":{"d4a2a865":"import matplotlib.pyplot as plt\nimport pandas as pd\nimport pylab as pl\nimport numpy as np\n%matplotlib inline","2110f364":"df = pd.read_csv(\"..\/input\/wwwkagglecommeryemhannafuel-consumption-canada\/FuelConsumption.csv\")\ndf.head()","3f6e20ac":"filtered_data= df[['ENGINESIZE','CYLINDERS','FUELCONSUMPTION_CITY','FUELCONSUMPTION_HWY','FUELCONSUMPTION_COMB','CO2EMISSIONS']]\n\nfiltered_data.head()","006f9e2a":"histogram = filtered_data[['CYLINDERS','ENGINESIZE','CO2EMISSIONS','FUELCONSUMPTION_COMB']]\nhistogram.hist()\nplt.show()","d6ae64cb":"plt.scatter(filtered_data.ENGINESIZE, filtered_data.CO2EMISSIONS, color ='pink')\nplt.xlabel(\"Engine Size\")\nplt.ylabel(\"CO2 Emission\")\n\nplt.show()\n\nplt.scatter(filtered_data.CYLINDERS, filtered_data.CO2EMISSIONS, color ='turquoise')\nplt.xlabel(\"Cylinders\")\nplt.ylabel(\"CO2 Emission\")\n\nplt.show()\n\nplt.scatter(filtered_data.FUELCONSUMPTION_CITY, filtered_data.CO2EMISSIONS, color ='plum')\nplt.xlabel(\"Fuel Consumption in the City\")\nplt.ylabel(\"CO2 Emission\")\n\nplt.show()\n\nplt.scatter(filtered_data.FUELCONSUMPTION_HWY, filtered_data.CO2EMISSIONS, color ='lightsalmon')\nplt.xlabel(\"Fuel Consumption in the Highway\")\nplt.ylabel(\"CO2 Emission\")\n\nplt.show()","6178f298":"msk=np.random.rand(len(df))<0.8\ntrain=filtered_data[msk]\ntest=filtered_data[~msk]","02648107":"plt.scatter(train.FUELCONSUMPTION_CITY,train.CO2EMISSIONS, color = 'plum')\nplt.xlabel(\"Fuel Consumption in the City\")\nplt.ylabel(\"CO2 Emission\")\nplt.show()","776662ae":"from sklearn import linear_model\n","097d7cf1":"regression=linear_model.LinearRegression()\nx=np.asanyarray(train[['ENGINESIZE','CYLINDERS','FUELCONSUMPTION_CITY','FUELCONSUMPTION_HWY','FUELCONSUMPTION_COMB']])\ny=np.asanyarray(train[['CO2EMISSIONS']])\n\nregression.fit(x,y)\n\nprint ('Coefficients:',regression.coef_)","d2b447af":"#y_hat estimated output\ny_hat= regression.predict(test[['ENGINESIZE','CYLINDERS','FUELCONSUMPTION_CITY','FUELCONSUMPTION_HWY','FUELCONSUMPTION_COMB']])\nx = np.asanyarray(test[['ENGINESIZE','CYLINDERS','FUELCONSUMPTION_CITY','FUELCONSUMPTION_HWY','FUELCONSUMPTION_COMB']])\ny = np.asanyarray(test[['CO2EMISSIONS']])\nprint(\"Residual sum of squares: %.2f\"\n      % np.mean((y_hat - y) ** 2))\n\n# Explained variance score: 1 is perfect prediction\nprint('Variance score: %.2f' % regression.score(x, y))","5b6e0e67":"# Vehicle CO2 Emission Prediction Using Machine Learning\n\nIn this notebook we will be predicting CO2 emissions scores (182 to 0) of new light duty vehicles based on fuel consumption scores and some other vehicle characteristics. The dataset was downloaded from Canada.ca website (https:\/\/open.canada.ca\/data\/en\/dataset\/98f1a129-f628-4ce4-b24d-6f16bf24dd64) and was also used in IBM's Machine Learning module as part of my Data Science Professional Certification.\n\n### Data Points:\n\n\n* MODELYEAR \n* MAKE\n* MODEL \n* VEHICLE CLASS \n* ENGINE SIZE \n* CYLINDERS \n* TRANSMISSION \n* FUELTYPE \n* FUEL CONSUMPTION in CITY(L\/100 km) \n* FUEL CONSUMPTION in HWY (L\/100 km) \n* FUEL CONSUMPTION COMB (L\/100 km) \n* CO2 EMISSIONS (g\/km)\n\n### Libraries Used:\n* matplotlib\n* pandas\n* pylab\n* numpy\n* sklearn\n\n\nWe will first begin with importing some of the libraries in so that we can plot and explore that dataset.","d66e779b":"## Conclusion\n\nWe were successfully able to predict the CO2 Emissions for the current dataset with 86% accuracy. The best possible score we could have for the Variance is 1, the lower the value, the worse your prediction is. Here we have an 86% accuracy rate which I am happy about. \n\nAlternatively, one may use Polynomial Regression or Simple Linear Regression models; however, I found Multiple Regression giving better accuracy results\n\nThank you!\n","750685e6":"### Data Filtering\n\nAlthough there is a good amount of information present in this dataset, we will not be using all of it while conducting regression. We will only be look forward to using quantitative variables such as Engine Size, Cylinders, Fuel consumption and CO2 emissions.","8247293b":"It appears that most of the variables are directly correlated with the target variable. For instance, the more cylinders a vehicle would have, the higher the CO2 emission would be. However, i do notice that some features are not completely linear but more curvy such as the Engine Size. \n\n## Train & Test Split\n\nIn order to conduct the Machine Learning algorithm, we will have to divide the data into train\/test. We will then train with training set then test with testing set. There are many articles about how the breakdown of train\/test should be. Here i will be using 80\/20 train\/test split.","c286fdf0":"## Multiple Linear Regression\nThere are multiple variables that predict CO2 Emission in this dataset; hence, we will be using Multiple Linear Regression to predict the CO2 Emissions","347b9a3d":"Let us now look at the training set distribution. We will see that it is similar to the above scatter plots we created earlier","e3c52bb8":"### Data Exploring\n\nIt is important to understand the correlation of data points to the target variable because they influence the prediction. Moreover, the better we understand the data set, the better we will know how to manipulate it (such as filling missing values)\n\nI decided to look at the scatter plots of each variable distribution and how they correlate with target (CO2 Emission) "}}