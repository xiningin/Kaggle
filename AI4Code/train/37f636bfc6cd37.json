{"cell_type":{"fdb6cdd1":"code","97ac841a":"code","895df98a":"code","8af12b3d":"code","d1bca14d":"code","b4b128c4":"code","ce27d76a":"code","e4aa6a22":"code","6fcf2b36":"code","bb86693f":"code","97a2387f":"code","c953e3c8":"code","d88633f4":"code","0df53593":"code","45a77d68":"code","a16924fa":"code","10fa4cab":"code","31eb47e2":"code","bae0c66a":"code","c94fc562":"code","1ef210ad":"code","78e8b462":"code","1e209137":"code","07e0df11":"code","ad6118b9":"code","91e0acd3":"code","ab1889b4":"code","af6f6e7b":"markdown","f5e092f8":"markdown","f4d3b2bc":"markdown","34b7dfad":"markdown"},"source":{"fdb6cdd1":"import numpy as np \nimport pandas as pd \n\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n","97ac841a":"df = pd.read_csv('..\/input\/120-years-of-olympic-history-athletes-and-results\/athlete_events.csv')\ndf.head()","895df98a":"df.shape","8af12b3d":"df.isnull().sum()","d1bca14d":"df[\"Age\"].fillna((df[\"Age\"].mean()), inplace = True)\ndf[\"Height\"].fillna((df[\"Height\"].mean()), inplace = True)\ndf[\"Weight\"].fillna((df[\"Weight\"].mean()), inplace = True)","b4b128c4":"df['Medal'].fillna('No Medal', inplace = True)\ndf.head()","ce27d76a":"df.isnull().sum()","e4aa6a22":"City = df.groupby('City').apply(lambda x:x['Year'].unique()).to_frame().reset_index()\nCity.columns = ['City', 'Years']\nCity['Occurence'] = [len(c) for c in City['Years']]\nCity.sort_values('Occurence', ascending = False)","6fcf2b36":"print(\"Total number of athletes in Olypics:\", len(df.ID.unique()))\nprint(\"Number of female participants in 120 years:\", len(df[df.Sex == 'F']))\nprint(\"Number of male participants in 120 years:\", len(df[df.Sex == 'M']))","bb86693f":"df_summer = df[df['Season'] == 'Summer']\ndf_summer.head()","97a2387f":"Trend = df_summer.groupby(['Sex','Year']).size().reset_index().pivot(columns='Sex', index='Year', values=0).reset_index()\nTrend.head()","c953e3c8":"x = Trend[\"Year\"]\ny1 = Trend[\"F\"]\ny2 = Trend[\"M\"]\n\nfig = make_subplots(specs=[[{\"secondary_y\": True}]])\nfig.add_trace(go.Scatter(x = x, y = y1, mode = \"lines+markers\", name = \"Female\",\n        line=dict(color='Blue', width=2)), secondary_y=False,)\nfig.add_trace(go.Scatter(x = x, y = y2, mode = \"lines+markers\", name = \"Male\",\n        line=dict(color='Orange', width=2)), secondary_y=True,)\n\n# Add figure title\nfig.update_layout(title_text=\"Number of men and women athelete over time\")\n\n# Set x-axis title\nfig.update_layout(title=\"Variation in count of male and female players\",xaxis_title = \"Year\")\n\n# Set y-axes titles\nfig.update_yaxes(title_text=\"Female\", secondary_y=False)\nfig.update_yaxes(title_text=\"Male\", secondary_y=True)\nfig.show()","d88633f4":"fig = px.histogram(df, x=\"Season\", color=\"Sex\", barmode = \"group\",color_discrete_map= {'M': 'Orange', 'F': 'Blue'},)\nfig.update_layout(title = \"Participation of male and female athelete in both season\",yaxis_title = \"Athelete count\")","0df53593":"import seaborn as sns\nimport matplotlib.pyplot as plt\n\nx=sns.distplot(df['Age'].dropna(),color='Green')\nx.set_title('Age Distribution of Athletes',fontsize=16,fontweight=200)","45a77d68":"h=sns.distplot(df['Height'].dropna(),color='Yellow')\nh.set_title('Height Distribution of Athletes',fontsize=16,fontweight=200)","a16924fa":"w=sns.distplot(df['Weight'].dropna(),color='Blue')\nw.set_title('Weight Distribution of Athletes',fontsize=16,fontweight=200)","10fa4cab":"noc = pd.read_csv('..\/input\/120-years-of-olympic-history-athletes-and-results\/noc_regions.csv')\nnoc.head(5)","31eb47e2":"data = pd.merge(df, noc, on='NOC', how='left')\ndata.head(5)","bae0c66a":"plt.figure(figsize=(15, 10))\ntopc=data.groupby('region')['Medal'].count().nlargest(10).reset_index()\nsns.barplot('region','Medal',data=topc)\nplt.title('Top Countries in Olympic Medals')\nplt.show()","c94fc562":"Turkey = data[(data['region']=='Turkey')]\nmedals = Turkey['Medal'].value_counts()\nmedals","1ef210ad":"Turkey['Gold'] = Turkey['Medal'].map({'Gold': 1, 'Bronze': 0,'Silver':0})\nTurkey['Silver'] = Turkey['Medal'].map({'Gold': 0, 'Bronze': 0,'Silver':1})\nTurkey['Bronze'] = Turkey['Medal'].map({'Gold': 0, 'Bronze': 1,'Silver':0})\ntotal_medals = Turkey.groupby(['Year']).sum()","78e8b462":"total_medals.head()","1e209137":"total_medals= total_medals.fillna(0)\n\ntrace0 = go.Scatter(\n    x = total_medals.index,\n    y = total_medals['Gold'],\n    mode = 'lines',\n    name = 'GOLD')\n\ntrace1 = go.Scatter(\n    x = total_medals.index,\n    y = total_medals['Silver'],\n    mode = 'lines',\n    name = 'SILVER')\n\ntrace2 = go.Scatter(\n    x = total_medals.index,\n    y = total_medals['Bronze'],\n    mode = 'lines',\n    name = 'BRONZE')","07e0df11":"import plotly\nimport plotly.graph_objs as go\nplotly.offline.init_notebook_mode(connected=True)\n\ndata = [trace0, trace1, trace2]\n\nplotly.offline.iplot({\"data\": data})","ad6118b9":"Turkey_olympic_gold = df[(df.NOC == 'USA') & (df.Medal == 'Gold')]","91e0acd3":"plt.figure(figsize=(10,9), facecolor='lavender')\n\nsns.scatterplot(df['Weight'], df['Height'])\nplt.title(\"Weight vs Height plot\")","ab1889b4":"fig = px.scatter(df, x = \"Weight\", y = \"Height\", color = \"Sport\")\n\nfig.update_layout(title = \"Distribution of height and weight according to sport\")\nfig.show()","af6f6e7b":"Finding out the cities that hosted Games","f5e092f8":"Participation of Men and Women in the Games over 120 years","f4d3b2bc":"Finding out participation of Mon and  Women at the Olypic games","34b7dfad":"Create figure with secondary y-axis"}}