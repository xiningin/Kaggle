{"cell_type":{"3279457b":"code","43f17297":"code","571e823c":"code","402934de":"code","c73bc30b":"code","d732134f":"code","989f7978":"code","12507a20":"code","96eeec26":"code","7fbdd2fe":"code","7d43ef2d":"code","4b044b71":"code","d4a5128b":"code","78551638":"code","2b8b0b61":"code","bdc42df4":"code","b53d07ad":"code","40e5dfa5":"code","2a1f8b11":"code","738252dc":"code","18b2902f":"code","52b1c7fd":"code","2dc826c4":"code","35d4a1f1":"code","b6b4fa25":"code","265682dd":"code","659da57e":"code","dccbdb6a":"code","0cc18c09":"code","6a456691":"code","9c3a5fcd":"markdown","37afcf81":"markdown","058c8474":"markdown","714810a6":"markdown","27e91921":"markdown","12bfd4d2":"markdown","aba521fd":"markdown","3cfee987":"markdown","aa922ddd":"markdown","31bc9277":"markdown","dc573a4e":"markdown","c3c66e96":"markdown","59006808":"markdown","785407bb":"markdown","115e78ab":"markdown","30d51b86":"markdown","ebee7dd4":"markdown","7b903dc2":"markdown","824b5b79":"markdown","09b2efbe":"markdown","0f662a82":"markdown","e083f7b3":"markdown","5cc7b626":"markdown","f36bce50":"markdown","6348bdf6":"markdown","d159b3ad":"markdown"},"source":{"3279457b":"# import all packages and set plots to be embedded inline\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nfrom matplotlib.ticker import FormatStrFormatter\nfrom matplotlib_venn import venn2 , venn3 \n%matplotlib inline","43f17297":"#loadig the dataset\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\ndf=pd.read_csv(\"\/kaggle\/input\/telecom-users-dataset\/telecom_users.csv\")\ndf.head()","571e823c":"df.info()","402934de":"df['customerID'].nunique()","c73bc30b":"df.drop(columns=['Unnamed: 0' ,'customerID' ],inplace=True)","d732134f":"df.rename(columns={'SeniorCitizen':'Retired' , 'Partner' : 'Married' , 'tenure':'Months'}, inplace=True);","989f7978":"df['Retired']=df['Retired'].astype(object)","12507a20":"df.TotalCharges.value_counts()","96eeec26":"df.TotalCharges.replace(' ',np.NaN,inplace=True)\ndf['TotalCharges']=df.TotalCharges.astype(float);","7fbdd2fe":"df.isnull().sum().sum()","7d43ef2d":"#There are 10 null values, those customers didn't churn so we can safely drop them\ndf[df['TotalCharges'].isnull()].Churn","4b044b71":"df.dropna(inplace=True)","d4a5128b":"df.shape","78551638":"df.head()","2b8b0b61":"plt.subplots(figsize=(8,8));\nplt.pie(df['Churn'].value_counts(), labels=['Stayed','Left'], textprops={'fontsize': 13 , 'fontweight' : 'bold' }, radius=.9  , autopct = \"%1.0f%%\");\nplt.title('\\nPercentage of churn Customers' ,fontsize=18,fontweight='bold' );\n# add a circle at the center to transform it in a donut chart\nmy_circle=plt.Circle( (0,0), 0.7, color='white')\np=plt.gcf()\np.gca().add_artist(my_circle);","bdc42df4":"contracts=df['Contract'].value_counts()\nexplode = [0,0,0.1]\nplt.subplots(figsize=(15,5))\nplt.pie(contracts.values, labels = contracts.index, shadow = True, startangle = 90, autopct = \"%1.1f%%\",explode=explode, textprops={'fontsize': 13 , 'fontweight' : 'bold' })\nplt.title('\\nCustomers Prefered Contract' ,fontsize=20,fontweight='bold' );","b53d07ad":"plt.subplots(figsize=(10,5))\nplt.hist(df['MonthlyCharges']);\nplt.title('\\nFrequecy of Monthly Charges\\n',fontsize=18,fontweight='bold');\nplt.xticks( fontsize=11 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.gca().xaxis.set_major_formatter(FormatStrFormatter('%d $'))\nplt.xlabel('\\nMonthly Charges'  , fontsize=13 ,fontweight='bold');\nplt.ylabel('\\n Frequency' , fontsize=13 ,fontweight='bold');","40e5dfa5":"df.MonthlyCharges.describe()","2a1f8b11":"plt.subplots(figsize=(10,5))\nplt.hist(df['TotalCharges']);\nplt.title('\\nFrequecy of Total Charges\\n',fontsize=18,fontweight='bold');\nplt.xticks( fontsize=11 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.gca().xaxis.set_major_formatter(FormatStrFormatter('%d $'))\nplt.xlabel('\\nTotal Charges'  , fontsize=13 ,fontweight='bold');\nplt.ylabel('\\n Frequency' , fontsize=13 ,fontweight='bold');","738252dc":"plt.subplots(figsize=(15,5))\nsb.countplot(data=df,x='Contract', hue='Churn');\nplt.title('\\nCustomers Churn Depeding on Contract Type\\n',fontsize=18,fontweight='bold');\nplt.xticks( fontsize=11 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.xlabel('\\nContract'  , fontsize=13 ,fontweight='bold');\nplt.ylabel('\\n Churn' , fontsize=13 ,fontweight='bold');\nplt.legend(['Stayed' , 'Left'], prop={'size': 13});","18b2902f":"plt.subplots(figsize=(25,12))\nsb.countplot(data=df,hue='Churn', x='Months');\nplt.title('\\nCustomers Churn over Months\\n',fontsize=20,fontweight='bold');\nplt.xticks( fontsize=11 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.ylabel('\\n Churn' , fontsize=13 ,fontweight='bold');\nplt.xlabel('\\nMonths'  , fontsize=13 ,fontweight='bold');\nplt.legend(['Stayed' , 'Left'], prop={'size': 13});","52b1c7fd":"plt.subplots(figsize=(10,5))\nsb.barplot(x='Churn', y='MonthlyCharges', data=df);\nxticks=([0,1],['Left','Stayed'])\nplt.title('\\nCustomers Churn \\n',fontsize=20,fontweight='bold');\nplt.xticks([0,1],['Stayed','Left'], fontsize=11 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.gca().yaxis.set_major_formatter(FormatStrFormatter('%d $'))\nplt.xlabel('\\n Churn' , fontsize=13 ,fontweight='bold');\nplt.ylabel('\\nMonthly Charges'  , fontsize=13 ,fontweight='bold');","2dc826c4":"plt.subplots(figsize=(10,5))\nplt.hist(df.query('Churn == \"No\"')['MonthlyCharges'],  label = 'Client Stayed', alpha = 0.7)\nplt.hist(df.query('Churn == \"Yes\"')['MonthlyCharges'],  label = 'Client Left', alpha = 0.7)\nplt.xlabel('Monthly Charges', fontsize=13 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.title('\\nCustomers Churn over Months\\n',fontsize=20,fontweight='bold');\nplt.xticks( fontsize=11 ,fontweight='bold');\nplt.gca().xaxis.set_major_formatter(FormatStrFormatter('%d $'))\nplt.ylabel('\\nNumber of Customers'  , fontsize=13 ,fontweight='bold');\nplt.legend( prop={'size': 13});","35d4a1f1":"plt.subplots(figsize=(10,5))\nplt.scatter(x=df['Months'],y=df['MonthlyCharges'],c=df['MonthlyCharges']);\nplt.colorbar();\nplt.title('\\nCustomers Churn \\n',fontsize=20,fontweight='bold');\nplt.xticks(fontsize=11 ,fontweight='bold');\nplt.yticks( fontsize=11 ,fontweight='bold');\nplt.xlabel('\\n Months' , fontsize=13 ,fontweight='bold');\nplt.ylabel('\\nMonthly Charges'  , fontsize=13 ,fontweight='bold');\nplt.gca().yaxis.set_major_formatter(FormatStrFormatter('%d $'))","b6b4fa25":"groupA=df[df['InternetService']!='No'].Married.value_counts().values.tolist()[0]\ngroupB=df[df['PhoneService']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupC=df[(df['PhoneService']=='Yes') & (df['InternetService']!='No')].Married.value_counts().values.tolist()[0]\nvenn2(subsets = (groupA,groupB,groupC ), set_labels = ('Internet', 'Phone'));\nplt.title('Customers Use the Same network for Phone and Internet services!',fontsize=15);","265682dd":"groupA=df[df['TechSupport']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupB=df[df['PaperlessBilling']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupC=df[(df['PaperlessBilling']=='Yes') & (df['TechSupport']=='Yes')].Married.value_counts().values.tolist()[0]\nvenn2(subsets = (groupA,groupB,groupC ), set_labels = ('Tech Support', 'Paperless Billing'));\nplt.title('Relation between Paperless Billing and Tech Support',fontsize=15);","659da57e":"groupA=df[df['Married']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupB=df[df['Churn']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupC=df[(df['Married']=='Yes') & (df['Churn']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupD=df[df['Retired']==1].Married.value_counts().values.tolist()[0]\ngroupE=df[(df['Married']=='Yes') & (df['Retired']==1)].Married.value_counts().values.tolist()[0]\ngroupF=df[(df['Retired']==1) & (df['Churn']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupG=df[(df['Retired']==1) & (df['Churn']=='Yes') & (df['Married']=='Yes')].Married.value_counts().values.tolist()[0]\nplt.subplots(figsize=(13,12))\nplt.title('\\nChurn Rate depending on Social Status',fontsize=18);\n\nvenn3(subsets = (groupA,groupB,groupD,groupC,groupE,groupF,groupG ), set_labels = ('Married', 'Churn','Retired'));","dccbdb6a":"groupA=df[df['Married']=='No'].Married.value_counts().values.tolist()[0]\ngroupB=df[df['Churn']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupC=df[(df['Married']=='No') & (df['Churn']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupD=df[df['gender']=='Male'].Married.value_counts().values.tolist()[0]\ngroupE=df[(df['Married']=='No') & (df['gender']=='Male')].Married.value_counts().values.tolist()[0]\ngroupF=df[(df['gender']=='Male') & (df['Churn']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupG=df[(df['gender']=='Male') & (df['Churn']=='Yes') & (df['Married']=='No')].Married.value_counts().values.tolist()[0]\nplt.subplots(figsize=(13,12))\nplt.title('\\nChurn Rate for Unmarried Males',fontsize=18);\n\nvenn3(subsets = (groupA,groupB,groupD,groupC,groupE,groupF,groupG ), set_labels = ('Married', 'Churn','Males'));","0cc18c09":"groupA2=df[df['OnlineSecurity']=='No'].Married.value_counts().values.tolist()[0]\ngroupB2=df[df['Churn']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupD2=df[(df['OnlineSecurity']=='No') & (df['Churn']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupC2=df[df['DeviceProtection']=='No'].Married.value_counts().values.tolist()[0]\ngroupE2=df[(df['OnlineSecurity']=='No') & (df['DeviceProtection']=='No')].Married.value_counts().values.tolist()[0]\ngroupF2=df[(df['Churn']=='Yes') & (df['DeviceProtection']=='No')].Married.value_counts().values.tolist()[0]\ngroupG2=df[(df['Churn']=='Yes') & (df['DeviceProtection']=='No') & (df['OnlineSecurity']=='Yes')].Married.value_counts().values.tolist()[0]\nplt.subplots(figsize=(13,12))\nplt.title('Churn Rate of Customers with neither Device Protection nor Online Security ',fontsize=18)\nvenn3(subsets = (groupA2,groupB2,groupD2,groupC2,groupE2,groupF2,groupG2 ), set_labels = ('Online Security', 'Churn' , 'Device Protection'));","6a456691":"groupA=df[df['OnlineSecurity']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupB=df[df['Churn']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupD=df[(df['OnlineSecurity']=='Yes') & (df['Churn']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupC=df[df['DeviceProtection']=='Yes'].Married.value_counts().values.tolist()[0]\ngroupE=df[(df['OnlineSecurity']=='Yes') & (df['DeviceProtection']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupF=df[(df['Churn']=='Yes') & (df['DeviceProtection']=='Yes')].Married.value_counts().values.tolist()[0]\ngroupG=df[(df['Churn']=='Yes') & (df['DeviceProtection']=='Yes') & (df['OnlineSecurity']=='Yes')].Married.value_counts().values.tolist()[0]\nplt.subplots(figsize=(13,12))\nplt.title('Churn Rate Reduces with Higher Security',fontsize=18)\nvenn3(subsets = (groupA,groupB,groupD,groupC,groupE,groupF,groupG ), set_labels = ('Online Security', 'Churn' , 'Device Protection'));","9c3a5fcd":"<a id='Multivariate'><\/a>\n\n\n## Multivariate Exploration\n","37afcf81":"- __20% of Married Customers Churn.__\n- __48% of Retired Customers Churn.__","058c8474":"<a id='cleaning'><\/a>\n\n### Cleaning ","714810a6":"__Nearly 27% of customers churn, Let's figure out some reasons.__","27e91921":"- __Monthly Charges remains the same over months! Customers rarley change their packages.__","12bfd4d2":"<a id='intro'><\/a>\n### Introduction\n\n>Any Company aims to keep existing customers rather than attracting new ones. In this notebook we will analyze and visualize which customers are more likely to churn to help the telecom company keep them.","aba521fd":"# Telecommunication Users Data\n## by Sohila Akram\n","3cfee987":"- __Month-to-month contract customers churn the most, but one\/two year contract didn't easily which was excpected.__\n- __Alot of customers leave after only one month. (Maybe due to high charges)__\n- __I think it is good to convince more customers of long-term contracts.__\n- __The company should take care of new customers and provide them with offers to keep them existing and get thier loyality.__","aa922ddd":"### Discuss the distribution(s) of your variable(s) of interest. Were there any unusual points? Did you need to perform any transformations?\n\n> No, There wasn't any unusual points\n\n### Of the features you investigated, were there any unusual distributions? Did you perform any operations on the data to tidy, adjust, or change the form of the data? If so, why did you do this?\n\n> Total Charges needed some cleaning as was documented.","31bc9277":"- __Customers left paid higher monthly charges.__\n- __Customers with nearly 20 dollar Monthly Charge are more likely to stay.__\n- __There should be more care about low-price packages.__","dc573a4e":"<a id='Bivariate'><\/a>\n\n## Bivariate Exploration","c3c66e96":"__Rename Columns with appropriate names__","59006808":"* customerID - customer id\n* gender - client gender (male \/ female)\n* SeniorCitizen - is the client retired (1, 0)\n* Partner - is the client married (Yes, No)\n* tenure - how many months a person has been a client of the company\n* PhoneService - is the telephone service connected (Yes, No)\n* MultipleLines - are multiple phone lines connected (Yes, No, No phone service)\n* InternetService - client's Internet service provider (DSL, Fiber optic, No)\n* OnlineSecurity - is the online security service connected (Yes, No, No internet service)\n* OnlineBackup - is the online backup service activated (Yes, No, No internet service)\n* DeviceProtection - does the client have equipment insurance (Yes, No, No internet service)\n* TechSupport - is the technical support service connected (Yes, No, No internet service)\n* StreamingTV - is the streaming TV service connected (Yes, No, No internet service)\n* StreamingMovies - is the streaming cinema service activated (Yes, No, No internet service)\n* Contract - type of customer contract (Month-to-month, One year, Two year)\n* PaperlessBilling - whether the client uses paperless billing (Yes, No)\n* PaymentMethod - payment method (Electronic check, Mailed check, Bank transfer (automatic), Credit card (automatic))\n* MonthlyCharges - current monthly payment\n* TotalCharges - the total amount that the client paid for the services for the entire time\n* Churn - whether there was a churn (Yes or No)","785407bb":"__Checking Null vlues__","115e78ab":"### Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?\n\n> This part shows strong relationships between different features that together affect the main feature of interest like protection,security and social status.\n\n### Were there any interesting or surprising interactions between features?\n\n> As excpected, Availability of One Service has a big effect on another one.","30d51b86":"### Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?\n\n> There was a strong relation between charges and the desicion of a customer to churn. It turns out that less charges gurantee customer satisfication. Also there was an inversely proportional relation between long term contracts and churn rate.\n\n### Did you observe any interesting relationships between the other features (not the main feature(s) of interest)?\n\n> Yes,Most Internet Users are Phone Users on the same network.                                                                 \n> 62% of Customer that have available Tech Support go for Paperless Billing.","ebee7dd4":"- __This Right skewed histogram clarifies the fact that the higher total charges the less customers.                           \n    Let's see the relation between customers churn and total charges to know the reason for this loss.__","7b903dc2":"## Table of Contents\n- [Introduction](#intro)\n- [Cleaning](#cleaning)\n- [Univariate Visualization](#Univariate)\n- [Bivariate Visualization](#Bivariate)\n- [Multivariate Visualization](#Multivariate)\n","824b5b79":"- __Online Security indicates that customers will churn with less rates.__","09b2efbe":"__Checking for dupliacted values__","0f662a82":"__Changing Data types__","e083f7b3":"__Dropping unwated colums__","5cc7b626":"> Information of each column","f36bce50":"<a id='Univariate'><\/a>\n\n\n## Univariate Exploration\n","6348bdf6":"### What is the structure of your dataset?\n\n> This dataset has 22 columns with 5986 entries. Most of the features are nominal, except for tenure, Monthly Charges and Total Charges that are numeric values.\n\n### What is\/are the main feature(s) of interest in your dataset?\n\n> Churn is the main feature. we will analyze the effect of each other independent feature on churn.\n\n### What features in the dataset do you think will help support your investigation into your feature(s) of interest?\n\n> I think Contract, InternetService, TechSupport, TotalCharges, MonthlyCharges and tenure(how many months a person has been a client of the company) will have the most effect.","d159b3ad":"- __There are about 1300 customer that pays average 20 per month.__\n- __Most customers tend to pay less than 90 per month.__ \n- __Only Few ones pay higher.__"}}