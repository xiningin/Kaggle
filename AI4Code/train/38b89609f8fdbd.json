{"cell_type":{"93c8a318":"code","cc991af2":"code","c875249b":"code","4f9dfdc2":"code","cb01cada":"code","e7fb5d1c":"code","5f935565":"markdown","dafbc52a":"markdown","7450e096":"markdown","750aed5e":"markdown"},"source":{"93c8a318":"import numpy as np\nimport pandas as pd","cc991af2":"# defining data types\n\ntraining_path = '..\/input\/ubiquant-market-prediction\/train.csv'\n\ndtypes = {\n    'row_id': 'str',\n    'time_id': 'uint16',\n    'investment_id': 'uint16',\n    'target': 'float32',\n}\n\ndtypes.update({f'f_{i}': 'float32' for i in range(300)})\n","c875249b":"train = pd.read_csv(\n        training_path,\n        usecols=list(dtypes.keys()),\n        dtype=dtypes\n    )","4f9dfdc2":"train.to_feather(\"train.feather\")","cb01cada":"train = pd.read_feather(\"train.feather\")","e7fb5d1c":"train.info(memory_usage=True)","5f935565":"Feather files are fast to be read, they can be used both for Python (using pandas) and R, keep the dtype of your columns and reduce the overall memory usage.","dafbc52a":"**Feather** is a portable file format for storing Arrow tables or data frames (from languages like Python or R) that utilizes the Arrow IPC format internally. Feather was created early in the Arrow project as a proof of concept for fast, language-agnostic data frame storage for Python (pandas) and R.","7450e096":"## pandas.read_feather\n\npandas.read_feather(path, columns=None, use_threads=True, storage_options=None)\n\n*columnssequence, default None\nIf not provided, all columns are read.*\n\nsee: https:\/\/pandas.pydata.org\/pandas-docs\/stable\/reference\/api\/pandas.read_feather.html","750aed5e":"Let's now try to reload the data and assess how much memory it occupies"}}