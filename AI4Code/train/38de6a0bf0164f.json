{"cell_type":{"17ce3c78":"code","73f8ecad":"code","f6c7a0c6":"code","3040cc92":"code","3f62b627":"code","c110da50":"code","fbebc6ab":"code","db0cf5ab":"code","306f1852":"code","94778abd":"code","6c3b0d03":"code","09093bf4":"code","d76414be":"code","b3e259db":"code","b569a2b9":"code","9809c1cd":"code","66aa7634":"code","5fa51f69":"code","d1299e70":"code","fe11fd3b":"markdown","93cd7a5a":"markdown"},"source":{"17ce3c78":"import pandas as pd\nfrom plotly.offline import iplot\nimport plotly.graph_objs as go\nimport plotly.io as pio\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np","73f8ecad":"pio.templates.default=\"plotly_dark\"","f6c7a0c6":"df=pd.read_csv(\"..\/input\/daily-power-generation-in-india-20172020\/file_02.csv\")","3040cc92":"df.head()","3f62b627":"df['Date']=pd.to_datetime(df['Date'])","c110da50":"df.info()","fbebc6ab":"df[\"Thermal Generation Actual (in MU)\"]=df[\"Thermal Generation Actual (in MU)\"].apply(lambda x:float(''.join(map(str,x.split(',')))))\ndf[\"Thermal Generation Estimated (in MU)\"]=df[\"Thermal Generation Estimated (in MU)\"].apply(lambda x:float(''.join(map(str,x.split(',')))))","db0cf5ab":"def plot_graph(agg_dir):\n    df_group=df.groupby([\"Date\"]).agg(agg_dir)\n    columns=df_group.columns\n    trace1=go.Scatter(x=df_group.index,y=df_group[columns[0]],mode=\"lines\",name=columns[0],opacity=0.8)\n    trace2=go.Scatter(x=df_group.index,y=df_group[columns[1]],mode=\"lines\",name=columns[1],opacity=0.8)\n    data = [trace1, trace2]\n    layout = dict(\n                  title = 'Total '+columns[0].split(\" \")[0]+' Generated every day',\n                  yaxis= dict(title=columns[0].split(\" \")[0]+' Generated (in MU)'),\n                  xaxis= dict(title='Date')\n                 )\n    fig = dict(data = data, layout = layout)\n    iplot(fig)","306f1852":"dict_features = {\n    \"Thermal Generation Estimated (in MU)\": \"sum\",\n    \"Thermal Generation Actual (in MU)\": \"sum\",\n   \n}\nplot_graph(dict_features)\ndict_features = {\n    \"Nuclear Generation Estimated (in MU)\": \"sum\",\n    \"Nuclear Generation Actual (in MU)\": \"sum\",\n}\nplot_graph(dict_features)\ndict_features = {\n     \"Hydro Generation Estimated (in MU)\": \"sum\",\n    \"Hydro Generation Actual (in MU)\": \"sum\"\n}\nplot_graph(dict_features)","94778abd":"df.columns","6c3b0d03":"df=df.fillna(0)","09093bf4":"df[\"Total Generation Actual (in MU)\"]=df[\"Thermal Generation Actual (in MU)\"]+df[\"Nuclear Generation Actual (in MU)\"]+df[\"Hydro Generation Actual (in MU)\"]","d76414be":"df_group=df.groupby([\"Region\"]).agg({\"Total Generation Actual (in MU)\":\"sum\"})\ndf_group","b3e259db":"tracepie=go.Pie(values=df_group[\"Total Generation Actual (in MU)\"].values,labels=df_group.index,hole=0.3)#,marker=dict(colors=[\"#7579e7\",\"#ff414d\",\"#a3d8f4\",\"#b9fffc\",\"#e8ffff\"]))\nlayout=dict(title=\"Total Energy Generated distribution according to Region(in MU)\")\nfig=dict(data=[tracepie],layout=layout)\niplot(fig)","b569a2b9":"df_group=df.groupby([\"Region\"]).agg({\"Thermal Generation Estimated (in MU)\":\"sum\",\n                                \"Thermal Generation Actual (in MU)\":\"sum\",\n                                 \"Nuclear Generation Estimated (in MU)\":\"sum\",\n                                \"Nuclear Generation Actual (in MU)\":\"sum\",\n                               \"Hydro Generation Estimated (in MU)\":\"sum\",\n                                \"Hydro Generation Actual (in MU)\":\"sum\"})\n\ndf_group","9809c1cd":"def plot_est_act_cmp(num):   \n    t1=go.Bar(x=list(map(lambda x:' '.join(x.split(\" \")[0:2]),df_group.columns[0::2]))\n              ,y=df_group.iloc[num].values[0::2]\n              ,name=\"Estimated\")\n    t2=go.Bar(x=list(map(lambda x:' '.join(x.split(\" \")[0:2]),df_group.columns[0::2]))\n              ,y=df_group.iloc[num].values[1::2]\n               ,name=\"Actual\")\n    layout=dict(title=\"Comparing Estimated and Actuals of \"+df_group.index[num])\n               #,xlable=dict(title=\"Energy\"))\n    fig=dict(data=[t1,t2],layout=layout)\n    iplot(fig)","66aa7634":"for i in range(5):\n    plot_est_act_cmp(i)","5fa51f69":"state_df=pd.read_csv(\"\/kaggle\/input\/daily-power-generation-in-india-20172020\/State_Region_corrected.csv\")\nstate_df.head()","d1299e70":"data = go.Bar(\n       y= state_df['National Share (%)'],\n       x= state_df['State \/ Union territory (UT)'],\n       )\nlayout=dict(title=\"State wise representation of Nation wise Power Distribution\")\n           #,xlable=dict(title=\"State\")\n           #,ylable=dict(title=\"National Share (%)\"))\nfig=dict(data=[data],layout=layout)\niplot(fig)","fe11fd3b":"https:\/\/github.com\/shirbhate2002\/Daily-Power-Generation-in-India-2017-2020","93cd7a5a":"### State wise representation of Nation wise Power Distribution"}}