{"cell_type":{"303ed16a":"code","22a7f3a6":"code","3d1643c9":"code","455d9230":"code","8b77f27e":"code","cdedaf7d":"code","d3bc6c1c":"code","2d66bd3c":"code","070058fb":"code","c9275bf4":"code","a26f99c9":"code","9ec740a9":"code","5c067620":"code","0a6c083e":"code","2e391306":"code","1aaf5dc8":"code","119b00e6":"code","3e80bd51":"code","4a26e51f":"code","3df7f7b5":"code","c5900b48":"code","c5167cde":"code","73eb3639":"code","58a570e6":"code","82023de0":"code","737f1059":"code","9e1cf5f6":"code","791e2dcb":"code","daa73d15":"code","feabeb6d":"code","d5a97e7e":"code","3b7302b5":"code","1c95a51a":"code","86d76d9b":"code","5fe5209e":"code","c526db4d":"code","536b0489":"code","4921299b":"code","855d4b17":"code","2c86518d":"code","bd9214db":"code","e8220fc9":"code","2f32bea6":"code","5882cfa8":"code","f8ba3f10":"code","d8e239c0":"code","a7ce5f33":"code","4dff7a6b":"code","f6ac56cb":"code","b4aef61d":"code","8cf10396":"markdown","4bb009f2":"markdown","02e92f61":"markdown","2dfae4ac":"markdown","8a859b70":"markdown","efbacfd3":"markdown"},"source":{"303ed16a":"pip install xlrd","22a7f3a6":"pip install openpyxl","3d1643c9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objs as go\n\nimport plotly\nplotly.offline.init_notebook_mode(connected=True)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","455d9230":"df1 = pd.read_excel('\/kaggle\/input\/ceec-mexico-academic-profesionals\/CEECS results  - DIB.xlsx')\ndf1.head(2)","8b77f27e":"df = pd.read_excel('\/kaggle\/input\/ceec-mexico-academic-profesionals\/CEECS results  - DIB.xlsx', skiprows=1)\ndf.head()","cdedaf7d":"df.isnull().sum()","d3bc6c1c":"df.columns.tolist()","2d66bd3c":"df[\"\u00bfCu\u00e1l es su g\u00e9nero?\"].value_counts()","070058fb":"# Lets first handle numerical features with nan value\nnumerical_nan = [feature for feature in df.columns if df[feature].isna().sum()>1 and df[feature].dtypes!='O']\nnumerical_nan","c9275bf4":"df[numerical_nan].isna().sum()","a26f99c9":"## Replacing the numerical Missing Values\n\nfor feature in numerical_nan:\n    ## We will replace by using median since there are outliers\n    median_value=df[feature].median()\n    \n    df[feature].fillna(median_value,inplace=True)\n    \ndf[numerical_nan].isnull().sum()","9ec740a9":"# categorical features with missing values\ncategorical_nan = [feature for feature in df.columns if df[feature].isna().sum()>0 and df[feature].dtypes=='O']\nprint(categorical_nan)","5c067620":"#replacing missing values in categorical features\nfor feature in categorical_nan:\n    df[feature] = df[feature].fillna('None')","0a6c083e":"df[categorical_nan].isna().sum()","2e391306":"#Codes by https:\/\/www.kaggle.com\/muhammadismail99\/data-analysis-of-guf-pub-dataset\/notebook\n\nsns.countplot(data = df, x = '\u00bfCu\u00e1l es su g\u00e9nero?')\nplt.title('Gender')","1aaf5dc8":"#Codes by https:\/\/www.kaggle.com\/muhammadismail99\/data-analysis-of-guf-pub-dataset\/notebook\n\nsns.set()\n\npal=['#349d6e','#faff00',\"#ff0000\", \"#422400\"]\nsns.set_palette(pal)\nplt.figure(figsize=(10,10))\nplt.pie(df['\u00bfCu\u00e1l es su g\u00e9nero?'].value_counts())\nplt.legend(df['\u00bfCu\u00e1l es su g\u00e9nero?'].unique(),bbox_to_anchor=(0.00, 1))","119b00e6":"Genero=df['\u00bfCu\u00e1l es su g\u00e9nero?'].value_counts().sort_index()\ndata = [go.Pie(\n        labels = Genero.index,\n        values = Genero.values,\n        hoverinfo = 'label+value',\n)]\nplotly.offline.iplot(data, filename='\u00bfDesea usted participar en el cuestionario?')","3e80bd51":"#Code by Lucas Abrah\u00e3o https:\/\/www.kaggle.com\/lucasabrahao\/trabalho-manufatura-an-lise-de-dados-no-brasil\n\ndf[\"\u00bfCu\u00e1l es su g\u00e9nero?\"].value_counts().plot.bar(color=['blue', '#f5005a'], title='Participants Gender',)","4a26e51f":"!pip install pywaffle","3df7f7b5":"#Codes by ask9 https:\/\/www.kaggle.com\/arbazkhan971\/indians-vs-world\/notebook\n\ndef random_colors(number_of_colors):\n    color = [\"#\"+''.join([random.choice('0123456789ABCDEF') for j in range(6)])\n                 for i in range(number_of_colors)]\n    return color","c5900b48":"from pywaffle import Waffle\nimport random\n\ngender = df[\"\u00bfCu\u00e1l es su g\u00e9nero?\"].value_counts()\n\nfig = plt.figure(\n    FigureClass=Waffle,\n    rows=5,\n    columns=20,\n    values=gender,\n    colors = random_colors(len(gender)),\n    title={'label': 'Gender Distribution', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(gender.index, gender) ],\n    legend={'loc': 'lower left', 'bbox_to_anchor': (0, -0.4), 'ncol': len(df.groupby(\"\u00bfCu\u00e1l es su edtod?\").get_group('41 to 50 years')), 'framealpha': 0},\n    font_size=30, \n    icons = 'child',\n    figsize=(12, 5),  \n    icon_legend=True\n)","c5167cde":"plt.figure(\n    FigureClass=Waffle,\n    rows=5,\n    columns=10,\n    values=gender,\n    title={'label': 'Gender Distribution', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(gender.index, gender) ],\n    # Set the position of the legend\n    legend={'loc': 'upper left', 'bbox_to_anchor': (1, 1)},\n    dpi=100\n)\nplt.show()","73eb3639":"sns.set(style=\"ticks\", context=\"talk\", font_scale=1.5)\nplt.style.use(\"dark_background\")","58a570e6":"#Codes by Alexander Filin https:\/\/www.kaggle.com\/infamous25700\/pornactors-are-among-us-18\n\nfrom pywaffle import Waffle\n\ngender = df[\"\u00bfCu\u00e1l es su g\u00e9nero?\"].value_counts()\n\nplt.figure(\n    FigureClass=Waffle,\n    rows=5,\n    columns=10,\n    values=gender,\n    title={'label': 'Gender Distribution', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(gender.index, gender) ],\n    # Set the position of the legend\n    legend={'loc': 'upper left', 'bbox_to_anchor': (1, 1)},\n    dpi=100,\n    colors = [\"#ffa31a\", \"#D17200\", \"#9c5400\", \"#763f00\"]\n    #colors = [\"#ffa31a\", \"#D17200\", \"#9c5400\", \"#763f00\", \"#422400\"]\n)\nplt.show()","82023de0":"df[\"\u00bfCu\u00e1l es su edtod?\"].value_counts()","737f1059":"#Codes by https:\/\/www.kaggle.com\/muhammadismail99\/data-analysis-of-guf-pub-dataset\/notebook\n\npal=['#349d6e','#faff00',\"#ff0000\", \"#763f00\", \"#3480eb\", \"#9c5400\"]\nsns.set_palette(pal)\nplt.figure(figsize=(10,10))\nplt.pie(df['\u00bfCu\u00e1l es su edtod?'].value_counts())\nplt.legend(df['\u00bfCu\u00e1l es su edtod?'].unique(),bbox_to_anchor=(0.00, 1))","9e1cf5f6":"edad=df['\u00bfCu\u00e1l es su edtod?'].value_counts().sort_index()\ndata = [go.Pie(\n        labels = edad.index,\n        values = edad.values,\n        hoverinfo = 'label+value',\n)]\nplotly.offline.iplot(data, filename='\u00bfDesea usted participar en el cuestionario?')","791e2dcb":"#Code by Lucas Abrah\u00e3o https:\/\/www.kaggle.com\/lucasabrahao\/trabalho-manufatura-an-lise-de-dados-no-brasil\n\ndf[\"\u00bfCu\u00e1l es su edtod?\"].value_counts().plot.barh(color=['blue', 'red','lime','purple','teal'], title='Age Group',)","daa73d15":"#Codes by Alexander Filin https:\/\/www.kaggle.com\/infamous25700\/pornactors-are-among-us-18\n\nfrom pywaffle import Waffle\n\nage = df[\"\u00bfCu\u00e1l es su edtod?\"].value_counts()\n\nplt.figure(\n    FigureClass=Waffle,\n    rows=5,\n    columns=10,\n    values=age,\n    title={'label': 'Age Distribution', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(age.index, age) ],\n    # Set the position of the legend\n    legend={'loc': 'upper left', 'bbox_to_anchor': (1, 1)},\n    dpi=100,\n    colors = [\"#ffa31a\", \"#D17200\", \"#9c5400\", \"#763f00\", \"#422400\", \"#422400\" ]\n)\nplt.show()","feabeb6d":"df[\"\u00bfCu\u00e1l es su grado acad\u00e9mico?\"].value_counts()","d5a97e7e":"#Codes by https:\/\/www.kaggle.com\/muhammadismail99\/data-analysis-of-guf-pub-dataset\/notebook\n\npal=['#349d6e','#faff00',\"#ff0000\", \"#422400\" ]\nsns.set_palette(pal)\nplt.figure(figsize=(10,10))\nplt.pie(df['\u00bfCu\u00e1l es su grado acad\u00e9mico?'].value_counts())\nplt.legend(df['\u00bfCu\u00e1l es su grado acad\u00e9mico?'].unique(),bbox_to_anchor=(0.00, 1))","3b7302b5":"grado=df['\u00bfCu\u00e1l es su grado acad\u00e9mico?'].value_counts().sort_index()\ndata = [go.Pie(\n        labels = grado.index,\n        values = grado.values,\n        hoverinfo = 'label+value',\n)]\nplotly.offline.iplot(data, filename='\u00bfDesea usted participar en el cuestionario?')","1c95a51a":"df[\"\u00bfCu\u00e1l es su grado acad\u00e9mico?\"].value_counts().nlargest(4).plot.bar(color=['green','blue','red', 'purple'])\nplt.title('Academic Degree', size=18, color='green')","86d76d9b":"#Codes by Alexander Filin https:\/\/www.kaggle.com\/infamous25700\/pornactors-are-among-us-18\n\nfrom pywaffle import Waffle\n\nage = df[\"\u00bfCu\u00e1l es su grado acad\u00e9mico?\"].value_counts()\n\nplt.figure(\n    FigureClass=Waffle,\n    rows=5,\n    columns=10,\n    values=age,\n    title={'label': 'Education Degree Distribution', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(age.index, age) ],\n    # Set the position of the legend\n    legend={'loc': 'upper left', 'bbox_to_anchor': (1, 1)},\n    dpi=100,\n    colors = [\"#ffa31a\", \"#D17200\", \"#9c5400\", \"#763f00\" ]\n)\nplt.show()","5fe5209e":"df[\"\u00bfPadece usted alguna enfermedad de riesgo? (seleccione todas las que apliquen)\"].value_counts().plot.barh(figsize = (8,6))\nplt.title('Disease Risks', size=18, color='green')","c526db4d":"df[\"Estado donde vive actualmente\"].value_counts()","536b0489":"df[\"Estado donde vive actualmente\"].value_counts().plot.barh(figsize = (8,6))","4921299b":"df[\"\u00bfCu\u00e1ntas personas viven en su casa, incluyendo usted?\"].value_counts()","855d4b17":"personas=df['\u00bfCu\u00e1ntas personas viven en su casa, incluyendo usted?'].value_counts().sort_index()\ndata = [go.Pie(\n        labels = personas.index,\n        values = personas.values,\n        hoverinfo = 'label+value',\n)]\nplotly.offline.iplot(data, filename='\u00bfDesea usted participar en el cuestionario?')","2c86518d":"#Codes by Alexander Filin https:\/\/www.kaggle.com\/infamous25700\/pornactors-are-among-us-18\n\nfrom pywaffle import Waffle\n\nage = df[\"\u00bfCu\u00e1ntas personas viven en su casa, incluyendo usted?\"].value_counts()\n\nplt.figure(\n    FigureClass=Waffle,\n    rows=5,\n    columns=10,\n    values=age,\n    title={'label': 'Household Distribution', 'loc': 'left'},\n    labels=[\"{}({})\".format(a, b) for a, b in zip(age.index, age) ],\n    # Set the position of the legend\n    legend={'loc': 'upper left', 'bbox_to_anchor': (1, 1)},\n    dpi=100,\n    colors = [\"#ffa31a\", \"#D17200\", \"#9c5400\", \"#763f00\", \"#422400\", \"#422400\" ]\n)\nplt.show()","bd9214db":"fig,ax = plt.subplots(1,1, figsize=(10,8))\nplot = sns.barplot(x=\"\u00bfCu\u00e1l es su edtod?\", y=\"R\", data=df)\nplot.set_xticklabels(plot.get_xticklabels(), rotation=90)","e8220fc9":"ds = df[df[\"\u00bfCu\u00e1l es su g\u00e9nero?\"] == 'Female']\nfig,ax = plt.subplots(1,1, figsize=(15,5))\nplt.hist(ds[\"R\"], bins=7)\nplt.axvline(ds['R'].mean(), color='k', linewidth=5)\nplt.axvline(ds['R'].median(), color='g', linewidth=5)","2f32bea6":"fig,ax = plt.subplots(1,1, figsize=(8,8))\ndegree = df.groupby([\"\u00bfCu\u00e1l es su g\u00e9nero?\", \"R\"]).size().unstack()#.fillna(0)\ndegree = degree.div(degree.sum(axis=1), axis=0)\nsns.heatmap(degree, cmap='Spectral_r')","5882cfa8":"df[\"MSPA\"].value_counts()","f8ba3f10":"px.histogram(df.head(10), x = 'MSPA',y = 'Estado donde vive actualmente', width = 800, height = 500,  title = 'MSPA by State where Professionals live')","d8e239c0":"df[\"R\"].value_counts()","a7ce5f33":"fig = px.histogram(df, x=\"R\", color=\"\u00bfCu\u00e1l es su g\u00e9nero?\", title='R by Gender')\nfig.show()","4dff7a6b":"df[\"Total secciones 1-6\"].value_counts()","f6ac56cb":"fig = px.scatter(df, x=\"Total secciones 1-6\", y=\"\u00bfDesea usted participar en el cuestionario?\",trendline=\"\u00bfCu\u00e1l es su edtod?\")\nfig.show()","b4aef61d":"#Code by Olga Belitskaya https:\/\/www.kaggle.com\/olgabelitskaya\/sequential-data\/comments\nfrom IPython.display import display,HTML\nc1,c2,f1,f2,fs1,fs2=\\\n'#eb3434','#eb3446','Akronim','Smokum',30,15\ndef dhtml(string,fontcolor=c1,font=f1,fontsize=fs1):\n    display(HTML(\"\"\"<style>\n    @import 'https:\/\/fonts.googleapis.com\/css?family=\"\"\"\\\n    +font+\"\"\"&effect=3d-float';<\/style>\n    <h1 class='font-effect-3d-float' style='font-family:\"\"\"+\\\n    font+\"\"\"; color:\"\"\"+fontcolor+\"\"\"; font-size:\"\"\"+\\\n    str(fontsize)+\"\"\"px;'>%s<\/h1>\"\"\"%string))\n    \n    \ndhtml('Be patient. Mar\u00edlia Prata, @mpwolke was Here.' )","8cf10396":"#What's wrong on the Pie below? Female are the Majority 161. They appeared as a red trace?","4bb009f2":"#Codes by https:\/\/www.kaggle.com\/muhammadismail99\/data-analysis-of-guf-pub-dataset\/notebook","02e92f61":"#I had to install xlrd and openpyxl to read the xlsx file. Or maybe only OpenPyXl","2dfae4ac":"#Remove the Unnamed column names\/titles applying skiprows=1","8a859b70":"#It's necessary to remove NaN to appear Mtoyor de 60 years. Though 31-40 years is the larger group, that's not what appear in the Pie above. ","efbacfd3":"#I don't know what's MSPA or R (programming language?)"}}