{"cell_type":{"9a7ddb6a":"code","d5c81115":"code","3b2c7761":"code","2ea0e6eb":"code","1d38d524":"code","c05d05d5":"code","f651f693":"code","8cc1e765":"markdown"},"source":{"9a7ddb6a":"!pip install -q bokeh==2.2.1\nimport bokeh.io\nbokeh.io.output_notebook()","d5c81115":"import bokeh\nfrom bokeh.io import output_notebook,output_file,show\nfrom bokeh.plotting import figure, output_file, show\nfrom bokeh.layouts import row, column\nfrom bokeh.models import Div\nfrom bokeh.transform import dodge\nimport pandas as pd\nimport numpy as np\nlbtwomen = pd.read_csv(\"..\/input\/queerwomenviolence\/violence_against_LBTwomen_EU.csv\")\nlbtwomen.head()","3b2c7761":"lbtwomen_burtin = lbtwomen[(lbtwomen[\"answer\"]==\"Yes\")&((lbtwomen[\"question_label\"]==\"Avoid holding hands in public with a same-sex partner for fear of being assaulted, threatened of harassed?\")|(lbtwomen[\"question_label\"]==\"Avoid locations for fear of being assaulted, threatened or harassed because you are L, G, B, or T?\")|(lbtwomen[\"question_label\"]==\"Physically\/sexually attacked or threatened with violence at home or elsewhere in the last 5 years for any reason?\")|(lbtwomen[\"question_label\"]==\"Personally harassed by someone or a group for any reason in the last 5 years in a way that really annoyed, offended or upset you?\"))]\n\nlbtwomen_burtin_L = pd.DataFrame(lbtwomen_burtin[lbtwomen_burtin[\"subset\"]==\"Lesbian\"][\"percentage\"].groupby(lbtwomen_burtin.question_label).mean().reset_index())\nlbtwomen_burtin_L[\"Category\"] = \"Lesbian\"\n\nlbtwomen_burtin_B = pd.DataFrame(lbtwomen_burtin[lbtwomen_burtin[\"subset\"]==\"Bisexual women\"][\"percentage\"].groupby(lbtwomen_burtin.question_label).mean().reset_index())\nlbtwomen_burtin_B[\"Category\"] = \"Bisexual Woman\"\n\nlbtwomen_burtin_T = pd.DataFrame(lbtwomen_burtin[lbtwomen_burtin[\"subset\"]==\"Woman with a transsexual past\"][\"percentage\"].groupby(lbtwomen_burtin.question_label).mean().reset_index())\nlbtwomen_burtin_T[\"Category\"] = \"Transgender Woman\"\n\nlbtwomen_burtin_L[\"percentage\"] = lbtwomen_burtin_L[\"percentage\"].round(decimals=0)\nlbtwomen_burtin_B[\"percentage\"] = lbtwomen_burtin_B[\"percentage\"].round(decimals=0)\nlbtwomen_burtin_T[\"percentage\"] = lbtwomen_burtin_T[\"percentage\"].round(decimals=0)\n\nlbtwomen_burtin_L[\"q\"]=[\"Avoided Holding Hands (Yes%)\",\"Avoided Locations (Yes%)\",\"Personal Harassment (Yes%)\",\"Physical\/Sexual Attack (Yes%)\"]\nlbtwomen_burtin_B[\"q\"]=[\"Avoided Holding Hands (Yes%)\",\"Avoided Locations (Yes%)\",\"Personal Harassment (Yes%)\",\"Physical\/Sexual Attack (Yes%)\"]\nlbtwomen_burtin_T[\"q\"]=[\"Avoided Locations (Yes%)\",\"Personal Harassment (Yes%)\",\"Physical\/Sexual Attack (Yes%)\"]\n\nv = figure(x_range=lbtwomen_burtin_L[\"q\"],y_range=(0,100),plot_height=300,title=\"\", toolbar_location=None,tools=\"\")\nv.vbar(x=dodge(\"q\",-0.25,range=v.x_range),top=\"percentage\",width=0.2,source=lbtwomen_burtin_L,color=\"#FF6565\",legend_label=\"Lesbian Women\")\nv.vbar(x=dodge(\"q\",0.0,range=v.x_range),top=\"percentage\",width=0.2,source=lbtwomen_burtin_B,color=\"#C264A5\",legend_label=\"Bisexual Women\")\nv.vbar(x=dodge(\"q\",0.25,range=v.x_range),top=\"percentage\",width=0.2,source=lbtwomen_burtin_T,color=\"#FD8ABD\",legend_label=\"Transgender Women\")\n\nv.plot_width = 800\nv.x_range.range_padding = 0.1\nv.xgrid.grid_line_color = None\nv.legend.location = \"top_left\"\nv.legend.orientation = \"horizontal\"\n\n\n\nshow(column(Div(text=\"<h1>Violence and Fear Experienced by LBT Women (EU - 2012)<h1>\"),v))","2ea0e6eb":"lbtwomen_pie = lbtwomen[(lbtwomen[\"question_label\"]==\"MOST SERIOUS physical \/ sexual attack or threat of violence - Gender of the perpetrator(s)?\")&((lbtwomen[\"answer\"]==\"Male\")|(lbtwomen[\"answer\"]==\"Both male and female\"))]\nlbtwomen_pie_L_c = pd.DataFrame(lbtwomen_pie[lbtwomen_pie[\"subset\"]==\"Lesbian\"][\"percentage\"].groupby(lbtwomen_pie.CountryCode).sum().reset_index())\nlbtwomen_pie_B_c = pd.DataFrame(lbtwomen_pie[lbtwomen_pie[\"subset\"]==\"Bisexual women\"][\"percentage\"].groupby(lbtwomen_pie.CountryCode).sum().reset_index())\nlbtwomen_pie_T_c = pd.DataFrame(lbtwomen_pie[lbtwomen_pie[\"subset\"]==\"Woman with a transsexual past\"][\"percentage\"].groupby(lbtwomen_pie.CountryCode).sum().reset_index())\n\n\nlbtwomen_pie_LBT = [[\"by Male\",lbtwomen_pie_L_c[\"percentage\"].mean(),lbtwomen_pie_B_c[\"percentage\"].mean(),lbtwomen_pie_T_c[\"percentage\"].mean(),\"#FF6565\",\"#C264A5\",\"#FD8ABD\"],[\"Exclusively by Female\",100-lbtwomen_pie_L_c[\"percentage\"].mean(),100-lbtwomen_pie_B_c[\"percentage\"].mean(),100-lbtwomen_pie_T_c[\"percentage\"].mean(),\"#F4F2F0\",\"#F4F2F0\",\"#F4F2F0\"]]\nlbtwomen_pie_LBT = pd.DataFrame(lbtwomen_pie_LBT)\nlbtwomen_pie_LBT.columns = (\"legend_label\",\"Lesbians\",\"Bisexual_Women\",\"Transgender_Women\",\"color_L\",\"color_B\",\"color_T\")\nlbtwomen_pie_LBT[\"Lesbians\"] = lbtwomen_pie_LBT[\"Lesbians\"].round(decimals=0)\nlbtwomen_pie_LBT[\"Bisexual_Women\"] = lbtwomen_pie_LBT[\"Bisexual_Women\"].round(decimals=0)\nlbtwomen_pie_LBT[\"Transgender_Women\"] = lbtwomen_pie_LBT[\"Transgender_Women\"].round(decimals=0)\n\nlbtwomen_pie_LBT[\"L_endangle\"] = (lbtwomen_pie_LBT[\"Lesbians\"]\/100)*2*np.pi\nlbtwomen_pie_LBT[\"L_startangle\"] = (1-(lbtwomen_pie_LBT[\"Lesbians\"]\/100))*2*np.pi\n\nL = figure(plot_height=350,title=\"Lesbian Women\",toolbar_location=None,tooltips=\"@legend_label: @Lesbians %\")\nL.wedge(x=0,y=1,radius=0.5,start_angle=\"L_startangle\",end_angle=\"L_endangle\",line_color=\"white\",fill_color=\"color_L\",legend=\"legend_label\",source=lbtwomen_pie_LBT)\n\nL.plot_width=400\nL.axis.axis_label = None\nL.axis.visible = False\nL.grid.grid_line_color = None\n\n\nlbtwomen_pie_LBT[\"B_endangle\"] = (lbtwomen_pie_LBT[\"Bisexual_Women\"]\/100)*2*np.pi\nlbtwomen_pie_LBT[\"B_startangle\"] = (1-(lbtwomen_pie_LBT[\"Bisexual_Women\"]\/100))*2*np.pi\n\nB = figure(plot_height=350,title=\"Bisexual Women\",toolbar_location=None,tooltips=\"@legend_label: @Bisexual_Women %\")\nB.wedge(x=0,y=1,radius=0.5,start_angle=\"B_startangle\",end_angle=\"B_endangle\",line_color=\"white\",fill_color=\"color_B\",legend=\"legend_label\",source=lbtwomen_pie_LBT)\n\nB.plot_width=400\nB.axis.axis_label = None\nB.axis.visible = False\nB.grid.grid_line_color = None\n\n\nlbtwomen_pie_LBT[\"T_endangle\"] = (lbtwomen_pie_LBT[\"Transgender_Women\"]\/100)*2*np.pi\nlbtwomen_pie_LBT[\"T_startangle\"] = (1-(lbtwomen_pie_LBT[\"Transgender_Women\"]\/100))*2*np.pi\n\n\nT = figure(plot_height=350,title=\"Transgender Women\",toolbar_location=None,tooltips=\"@legend_label: @Transgender_Women %\")\nT.wedge(x=0,y=1,radius=0.5,start_angle=\"T_startangle\",end_angle=\"T_endangle\",line_color=\"white\",fill_color=\"color_T\",legend=\"legend_label\",source=lbtwomen_pie_LBT)\n\nT.plot_width=400\nT.axis.axis_label = None\nT.axis.visible = False\nT.grid.grid_line_color = None\n\n\nshow(column(Div(text=\"<h1>Worst Physical\/Sexual Attack or Threat Against LBT Women (EU - 2012)<h1>\"),row(L,B,T)))","1d38d524":"transf_ = pd.read_csv(\"..\/input\/queerwomenviolence\/transfeminicides_world.csv\")\ntransf_mx = transf_[transf_[\"Country\"]==\"Mexico\"]\ntransf_bra = transf_[transf_[\"Country\"]==\"Brazil\"]\ntransf_w = transf_[(transf_[\"Country\"]!=\"Brazil\")&(transf_[\"Country\"]!=\"Mexico\")]\ntransf_.head()","c05d05d5":"from bokeh.plotting import figure, show, output_file\nfrom bokeh.tile_providers import get_provider, Vendors\nfrom bokeh.models import ColumnDataSource\nfrom bokeh.models.annotations import Title\n\ndef coor_to_mercator(df, lon=\"Longitude\", lat=\"Latitude\"):\n\n      k = 6378137\n      df[\"x\"] = df[lon] * (k * np.pi\/180.0)\n      df[\"y\"] = np.log(np.tan((90 + df[lat]) * np.pi\/360.0)) * k\n\n      return df\n\ntransf_mx_mercator = coor_to_mercator(transf_mx)\ntransf_bra_mercator = coor_to_mercator(transf_bra)\ntransf_w_mercator = coor_to_mercator(transf_w)\n\npd.DataFrame(transf_[\"Latitude\"].groupby(transf_.Country).count()).sort_values(by=\"Latitude\")","f651f693":"tile_provider = get_provider(Vendors.CARTODBPOSITRON_RETINA)\np = figure(plot_width=600,x_range=(-14000000, -3000000), y_range=(-2500000, 2500000),\n           x_axis_type=\"mercator\", y_axis_type=\"mercator\")\np.add_tile(tile_provider)\np.plot_height=600\n\np.inverted_triangle(x=\"x\",y=\"y\",size=5,fill_color=\"#444444\",line_color=\"#F4F2F0\",line_width=0.2,fill_alpha=0.3,source=transf_w_mercator)\np.inverted_triangle(x=\"x\",y=\"y\",size=5,fill_color=\"#FD8ABD\",line_color=\"#F17AA9\",line_width=0.2,fill_alpha=0.3,source=transf_bra_mercator)\np.inverted_triangle(x=\"x\",y=\"y\",size=5,fill_color=\"#FD8ABD\",line_color=\"#F17AA9\",line_width=0.2,fill_alpha=0.3,source=transf_mx_mercator)\n\nshow(column(Div(text=\"<h1>Transgender People Murdered in the America registered by TDoR (1998-2020)<h1>\"),p))","8cc1e765":"La interseccionalidad es \"el fen\u00f3meno por el cual cada individuo sufre opresi\u00f3n u ostenta privilegio en base a su pertenencia a m\u00faltiples categor\u00edas sociales\" seg\u00fan su autora Kimberl\u00e9 Williams Crenshaw, activista afroamericana que la propuso en 1989. Es una corriente del feminismo que lucha por los derechos de la mujer y, paralelamente, reconoce que la opresi\u00f3n est\u00e1 ligada a aspectos sociales como la raza, nacionalidad, situaci\u00f3n socioecon\u00f3mica, orientaci\u00f3n sexual, g\u00e9nero, entre muchos m\u00e1s. Por ejemplo, la experiencia de una mujer blanca ciseg\u00e9nero no es la misma que la de una mujer negra transg\u00e9nero. \n\nLa presente visualizaci\u00f3n hace \u00e9nfasis en la violencia hacia las mujeres lesbianas, bisexuales y transg\u00e9nero. Se tomaron datos de una encuesta realizada en 2012 por la European Union Agency For Fundamental Rights (https:\/\/fra.europa.eu\/en\/publications-and-resources\/data-and-maps\/survey-fundamental-rights-lesbian-gay-bisexual-and) y de una recopilaci\u00f3n por parte de Transgender Europe y distintxs activistas transg\u00e9nero (https:\/\/tdor.translivesmatter.info\/reports)"}}