{"cell_type":{"73ec3bbf":"code","34fb1760":"code","72515163":"code","218a4a02":"code","294a2faa":"code","02bd8306":"code","907e3814":"code","068ea363":"code","d8075678":"code","059c7106":"code","1eb1cb4a":"code","3406e06a":"code","d54d1e7e":"code","37ae49cf":"code","4f8487bc":"code","8bf73bfa":"code","3f4a4bba":"code","b318a3d0":"markdown","9384b130":"markdown","7f7c7bf0":"markdown","834417b1":"markdown","2244c132":"markdown","e7f26f4b":"markdown","c9af1179":"markdown","101e1f1e":"markdown","c0504dba":"markdown","0bb8b52c":"markdown","7c64b71a":"markdown","942581d9":"markdown","54a5ee38":"markdown","38cf8092":"markdown","541be089":"markdown","e159717b":"markdown"},"source":{"73ec3bbf":"from learntools.core import binder\nbinder.bind(globals())\nfrom learntools.data_cleaning.ex3 import *\nprint(\"Setup Complete\")","34fb1760":"# modules we'll use\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport datetime\n\n# read in our data\nearthquakes = pd.read_csv(\"..\/input\/earthquake-database\/database.csv\")\n\n# set seed for reproducibility\nnp.random.seed(0)","72515163":"earthquakes['Date'].dtype","218a4a02":"# Check your answer (Run this code cell to receive credit!)\nq1.check()","294a2faa":"# Line below will give you a hint\n#q1.hint()","02bd8306":"earthquakes[3378:3383]","907e3814":"date_lengths = earthquakes.Date.str.len()\ndate_lengths.value_counts()","068ea363":"indices = np.where([date_lengths == 24])[1]\nprint('Indices with corrupted data:', indices)\nearthquakes.loc[indices]","d8075678":"# fix the corrupt data manually\nearthquakes.loc[3378, \"Date\"] = \"02\/23\/1975\"\nearthquakes.loc[7512, \"Date\"] = \"04\/28\/1985\"\nearthquakes.loc[20650, \"Date\"] = \"03\/13\/2011\"\n# reformat the fixed data\nearthquakes['date_parsed'] = pd.to_datetime(earthquakes['Date'], format=\"%m\/%d\/%Y\")\n\n# Check your answer\nq2.check()","059c7106":"# Lines below will give you a hint or solution code\n#q2.hint()\n#q2.solution()","1eb1cb4a":"# try to get the day of the month from the date column\nday_of_month_earthquakes = earthquakes['date_parsed'].dt.day\n\n# Check your answer\nq3.check()","3406e06a":"# Lines below will give you a hint or solution code\n#q3.hint()\n#q3.solution()","d54d1e7e":"# TODO: Your code here!\nsns.distplot(day_of_month_earthquakes, kde=False, bins=31)","37ae49cf":"# Check your answer (Run this code cell to receive credit!)\nq4.check()","4f8487bc":"# Line below will give you a hint\n#q4.hint()","8bf73bfa":"volcanos = pd.read_csv(\"..\/input\/volcanic-eruptions\/database.csv\")\nvolcanos.head()","3f4a4bba":"volcanos['Last Known Eruption'].sample(5)","b318a3d0":"**This notebook is an exercise in the [Data Cleaning](https:\/\/www.kaggle.com\/learn\/data-cleaning) course.  You can reference the tutorial at [this link](https:\/\/www.kaggle.com\/alexisbcook\/parsing-dates).**\n\n---\n","9384b130":"# 4) Plot the day of the month to check the date parsing\n\nPlot the days of the month from your earthquake dataset.","7f7c7bf0":"Try parsing the column \"Last Known Eruption\" from the `volcanos` dataframe. This column contains a mixture of text (\"Unknown\") and years both before the common era (BCE, also known as BC) and in the common era (CE, also known as AD).","834417b1":"# Get our environment set up\n\nThe first thing we'll need to do is load in the libraries and dataset we'll be using. We'll be working with a dataset containing information on earthquakes that occured between 1965 and 2016.","2244c132":"# (Optional) More practice\n\nIf you're interested in graphing time series, [check out this tutorial](https:\/\/www.kaggle.com\/residentmario\/time-series-plotting-optional).\n\nYou can also look into passing columns that you know have dates in them  the `parse_dates` argument in `read_csv`. (The documention [is here](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/generated\/pandas.read_csv.html).) Do note that this method can be very slow, but depending on your needs it may sometimes be handy to use.\n\n# Keep going\n\nIn the next lesson, learn how to [**work with character encodings**](https:\/\/www.kaggle.com\/alexisbcook\/character-encodings).","e7f26f4b":"Given all of this information, it's your turn to create a new column \"date_parsed\" in the `earthquakes` dataset that has correctly parsed dates in it.  \n\n**Note**: When completing this problem, you are allowed to (but are not required to) amend the entries in the \"Date\" and \"Time\" columns.  Do not remove any rows from the dataset.","c9af1179":"# 2) Convert our date columns to datetime\n\nMost of the entries in the \"Date\" column follow the same format: \"month\/day\/four-digit year\".  However, the entry at index 3378 follows a completely different pattern.  Run the code cell below to see this.","101e1f1e":"Looks like there are two more rows that has a date in a different format.  Run the code cell below to obtain the indices corresponding to those rows and print the data.","c0504dba":"# 3) Select the day of the month\n\nCreate a Pandas Series `day_of_month_earthquakes` containing the day of the month from the \"date_parsed\" column.","0bb8b52c":"Once you have answered the question above, run the code cell below to get credit for your work.","7c64b71a":"# (Optional) Bonus Challenge\n\nFor an extra challenge, you'll work with a [Smithsonian dataset](https:\/\/www.kaggle.com\/smithsonian\/volcanic-eruptions) that documents Earth's volcanoes and their eruptive history over the past 10,000 years \n\nRun the next code cell to load the data.","942581d9":"Does the graph make sense to you?","54a5ee38":"# 1) Check the data type of our date column\n\nYou'll be working with the \"Date\" column from the `earthquakes` dataframe.  Investigate this column now: does it look like it contains dates?  What is the dtype of the column?","38cf8092":"---\n\n\n\n\n*Have questions or comments? Visit the [Learn Discussion forum](https:\/\/www.kaggle.com\/learn-forum\/172650) to chat with other Learners.*","541be089":"In this exercise, you'll apply what you learned in the **Parsing dates** tutorial.\n\n# Setup\n\nThe questions below will give you feedback on your work. Run the following cell to set up the feedback system.","e159717b":"This does appear to be an issue with data entry: ideally, all entries in the column have the same format.  We can get an idea of how widespread this issue is by checking the length of each entry in the \"Date\" column."}}