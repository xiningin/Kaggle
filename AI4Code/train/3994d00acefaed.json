{"cell_type":{"ed3e164c":"code","14aa2a31":"code","2de5dc9a":"code","5129efd9":"code","3fba6bd2":"code","03aed07c":"code","045347d4":"code","3dc5c220":"code","72f3417a":"markdown","7cda0e10":"markdown","98a3ce2f":"markdown","6199a6e5":"markdown","49575262":"markdown","6b3633df":"markdown","eedde79d":"markdown","55e075c0":"markdown","12e8cf9c":"markdown","684e4f6c":"markdown"},"source":{"ed3e164c":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nsns.set_style('darkgrid')\nimport matplotlib.pyplot as plt\n%matplotlib inline\nfrom scipy import stats","14aa2a31":"data_df=pd.read_csv('..\/input\/d\/samuelcortinhas\/uk-median-house-prices-and-salary-19752020\/UK historical house prices and salary\/Average_UK_houseprices_and_salary.csv')\ndata_df.drop('Unnamed: 3', axis=1, inplace=True) # not sure why that column is there\ndata_df.head()","2de5dc9a":"paygap_df=pd.read_csv('..\/input\/d\/samuelcortinhas\/uk-median-house-prices-and-salary-19752020\/UK historical house prices and salary\/Income_by_age_and_gender.csv')\npaygap_df","5129efd9":"# Figure size\nplt.figure(figsize=(14,6))\n\n# Scatterplot with regression lines\nsns.regplot(x='Year', y='Average house price adj. by inflation (pounds)', data=data_df, \n            marker='x', scatter_kws={\"s\": 50, 'color':'blue'}, line_kws={\"color\": \"orange\"}, ci=False)\n\n# Aesthetics\nplt.title('Average House Prices in UK (adjusted by inflation) \\n')\nplt.ylabel('Average price adjusted by inflation (\u00a3)')","3fba6bd2":"# Slope of regression line\nslope, intercept, r_value, p_value, std_err = stats.linregress(data_df['Year'],\n                                                               data_df['Average house price adj. by inflation (pounds)'])\n\nprint('The slope of the regression line is: \u00a3','{:.2f}'.format(slope))","03aed07c":"# Figure size\nplt.figure(figsize=(14,6))\n\n# Scatterplot with regression lines\nsns.regplot(x='Year', y='Median Salary adj. by inflation (pounds)', data=data_df, \n            marker='x', scatter_kws={\"s\": 50, 'color':'green'}, line_kws={\"color\": \"purple\"}, ci=False)\n\n# Aesthetics\nplt.title('Median yearly earnings in UK (adjusted by inflation) \\n')\nplt.ylabel('Average wage adjusted by inflation (\u00a3)')","045347d4":"# Slope of regression line\nslope, intercept, r_value, p_value, std_err = stats.linregress(data_df.iloc[24:,0],\n                                                               data_df.iloc[24:,2])\n\nprint('The slope of the regression line is: \u00a3','{:.2f}'.format(slope))","3dc5c220":"# Figure size\nplt.figure(figsize=(14,6))\n\n# Scatterplot with regression lines\nsns.barplot(x='Age group', y='Median salary (pounds)', data=paygap_df, hue='Gender')\n\n# Aesthetics\nplt.title('Average UK wages in 2021 by age group and gender \\n')","72f3417a":"**Observations:**\n* The average salary in the UK is actually **decreasing** (by \u00a3150) each year on average after inflation has been taken into account. \n* It seems they took the biggest hit just after the housing market crash of 2008-2009. \n* Whilst house prices bounced back after 2010, wages have not. ","7cda0e10":"**Observations:**\n* The regression line tells us that houses prices are **increasing** each year on average **after inflation has been taken into account.** By nearly \u00a34000 a year! \n* We also see that houses prices took a serious drop in 2008\/2009 due to the housing market crash at that time. \n* In the space of 45 years, the average house price has increased from roughly \u00a3100,000 to \u00a3250,000. That is a 250% increase!\n","98a3ce2f":"On the theme of unfairness I thought I would also thrown in some analysis of this interesting dataset. ","6199a6e5":"# Libraries","49575262":"# Data","6b3633df":"# Bonus Section: The Pay Gap","eedde79d":"# Average house prices","55e075c0":"**Regression line**","12e8cf9c":"**Observations:**\n* Wages increase with age until the 40-49 age group. They then decrease for over 50's.\n* Men out-earn Women in every age group.\n* The pay gap increases with age. \n\n","684e4f6c":"# Average wages"}}