{"cell_type":{"b236e86a":"code","46375600":"code","003fff1e":"code","f349d787":"code","44f94543":"code","935bea0d":"code","33f42927":"code","19e2c532":"code","40462c31":"code","09dbe686":"code","15e87b5d":"markdown"},"source":{"b236e86a":"#Basic Setup and some customization for matplotlib\nimport numpy as np\nimport pandas as pd \nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nfrom pandas.plotting import register_matplotlib_converters\nregister_matplotlib_converters()\nplt.style.use('seaborn')\nmpl.rc('axes', titlesize=14, titleweight='semibold')\n","46375600":"#Getting the Data\naapl = pd.read_csv(\"..\/input\/stock-time-series-20050101-to-20171231\/AAPL_2006-01-01_to_2018-01-01.csv\", \\\n                   parse_dates=[\"Date\"])\naapl.head()","003fff1e":"#Adding Returns and Cumulative returns to the aapl dataframe\naapl['returns'] = aapl['Close'].pct_change(1)\naapl['CumulativeReturn'] = (1+aapl['returns']).cumprod()\naapl.head()","f349d787":"#Moving Average Indicators\naapl['MA20'] = aapl['Close'].rolling(20).mean()\naapl['STD20'] = aapl['Close'].rolling(20).std()\naapl['MA150'] = aapl['Close'].rolling(150).mean()\naapl.head()","44f94543":"#Getting rid of Na values and setting the Date from 2012 onwards\naapl.dropna(inplace=True)\naapl = aapl.loc[aapl['Date'] >= '2012-01-01']\naapl.head()","935bea0d":"#plotting the distrbution of returns of apple stock over the years\nplt.figure(figsize=(16,10))\nplt.hist(aapl['returns'], density=True, bins=200)\nplt.title(\"Distribution of Returns\")\nplt.xlabel(\"Returns\")\nplt.ylabel(\"Frequency\")\nplt.xlim(-0.20, 0.20)\nplt.show();","33f42927":"trading_days = aapl['Date']\nfig, ax = plt.subplots(figsize=(16,10))\nax.plot(trading_days, aapl['Close'],label=\"Closing Price\", color=\"#3498db\")\nax.plot(trading_days, aapl['MA20'], label=\"20 Days SMA\", color=\"#e67e22\")\nax.plot(trading_days, aapl['MA150'], label=\"150 Days SMA\", color=\"#95a5a6\")\nax.set_title(\"Apple Stock Prices with Indicators\", fontsize=\"14\", fontweight=\"semibold\")\nax.set_xlim([trading_days.min(), trading_days.max()])\nplt.legend();","19e2c532":"fig, priceplot = plt.subplots(figsize=(16, 10))\npriceplot.plot(trading_days, aapl[[\"Close\"]], color=\"#3498db\", label=\"Closing Price\")\npriceplot.plot(trading_days, aapl[[\"MA20\"]], color=\"#e67e22\", label=\"20 Days SMA\")\npriceplot.plot(trading_days, aapl[[\"MA150\"]], color=\"#95a5a6\", label=\"150 Days SMA\")\npriceplot.set_xlim([trading_days.min(), trading_days.max()])\npriceplot.set_title(\"Apple Stock Prices with Indicators and Volume\", fontsize=\"14\", fontweight=\"semibold\")\nplt.legend()\n\nvolplot = priceplot.twinx()\nvolplot.set_ylim([0,aapl['Volume'].max()*3])\nvolplot.plot(trading_days, aapl[[\"Volume\"]], color=\"#2ecc71\", label=\"volume traded\", alpha=0.5)\nvolplot.grid(False)\nplt.legend();\n","40462c31":"#Bollinger Bands\naapl['lower_band'] = aapl['MA20'] - 2*aapl['STD20']\naapl['upper_band'] = aapl['MA20'] + 2*aapl['STD20']\naapl.head()","09dbe686":"fig, ax = plt.subplots(figsize=(16,10))\nax.plot(trading_days, aapl['Close'],label=\"Closing Price\", color=\"#3498db\")\nax.fill_between(trading_days, aapl['upper_band'], aapl['lower_band'], color='#e67e22', alpha=0.6, label=\"Bollinger Band\")\nax.set_title('Apple Stock Prices with Bollinger Bands')\nax.set_xlim(trading_days.min(), trading_days.max())\nplt.legend();","15e87b5d":"# Stock Price Data Visualization\n\n* Simple stock price data visualization \n* Apple stock has been analyzed here starting from the year 2012 to 2018"}}