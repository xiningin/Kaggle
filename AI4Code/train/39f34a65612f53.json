{"cell_type":{"a2825800":"code","fb0959f4":"code","0dcf73a4":"code","eba49c66":"code","a88a8ce4":"code","3006c0a6":"code","a52f9206":"code","ac9dadbb":"code","fd871a34":"code","c41d04c9":"code","95e31ce3":"code","c9d5fbaf":"code","75208499":"code","53911260":"code","67117df6":"code","5188476c":"code","e834e77c":"code","6eb76e93":"code","9e2b47e6":"code","fc67a964":"code","3af50e42":"code","49582c0b":"code","80dacf8a":"code","bf980732":"code","7d96ef53":"code","a19ab753":"code","7d523d66":"code","a5b213d5":"code","454b40f5":"code","d11183a2":"code","cb0553a0":"code","028b1429":"code","71e616ea":"markdown"},"source":{"a2825800":"import numpy as np \nimport pandas as pd \nimport folium\nimport geopandas as gpd\nimport shapely\nimport shapely.geometry as geom\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","fb0959f4":"df = pd.read_csv('\/kaggle\/input\/california-housing-prices\/housing.csv')\ndf_z = pd.read_csv('\/kaggle\/input\/us-zip-codes-with-lat-and-long\/zip_lat_long.csv')","0dcf73a4":"df.info()","eba49c66":"df_","a88a8ce4":"gdf= gpd.GeoDataFrame(df,geometry=gpd.points_from_xy(df['longitude'],df['latitude']))","3006c0a6":"gdf.crs= {'init': 'epsg:4326'}","a52f9206":"gdf.plot()","ac9dadbb":"gdf_zip=gpd.read_file('\/kaggle\/input\/zipcode-shape-files\/tl_2015_us_zcta510.shp')","fd871a34":"gdf_zip.head()","c41d04c9":"gdf_zip.drop(columns=['CLASSFP10','MTFCC10','FUNCSTAT10','ALAND10','AWATER10','INTPTLAT10','INTPTLON10'],inplace=True)","95e31ce3":"gdf_zip.head()","c9d5fbaf":"gdf_zip.rename(columns={'ZCTA5CE10':'Zipcode'},inplace=True)","75208499":"gdf_zip.info()","53911260":"gdf_zip['Zipcode'].apply(lambda x:x.zfill(5))","67117df6":"gdf_zip['Zipcode']=gdf_zip['Zipcode'].apply(lambda x:x.zfill(5))","5188476c":"gdf_zip.sort_values('Zipcode',inplace=True)","e834e77c":"gdf_zip.head()","6eb76e93":"gdf_zip.crs= {'init': 'epsg:4326'}","9e2b47e6":"gdf.shape","fc67a964":"gdf_ca=gpd.sjoin(gdf_zip,gdf,op=\"intersects\")","3af50e42":"gdf_ca.shape","49582c0b":"gdf_ca.head()","80dacf8a":"gdf_ca.reset_index(drop=True,inplace=True)","bf980732":"gdf_ca.drop(columns=['GEOID10','index_right'],inplace=True)","7d96ef53":"gdf_ca.info()","a19ab753":"gdf_ca.to_file(\"geo_ca_with_housing_price.geojson\", driver='GeoJSON')","7d523d66":"gdf=gpd.read_file('\/kaggle\/working\/geo_ca_with_housing_price.geojson',driver='GEOJSON')","a5b213d5":"gdf.head(3)","454b40f5":"gdf_ca_hma=gpd.GeoDataFrame(gdf.groupby('Zipcode').agg({'housing_median_age':'mean','geometry':'first'}).reset_index())\ngdf_ca_hma.crs= {'init': 'epsg:4326'}","d11183a2":"gdf_ca_hma.head(100)","cb0553a0":"gdf_ca_hma.info()","028b1429":"m = folium.Map(location=[36.778259, -119.417931], zoom_start=3)\nfolium.Choropleth(\n    geo_data=gdf_ca_hma,\n    name='choropleth',\n    data=gdf_ca_hma,\n    columns=['Zipcode', 'housing_median_age'],\n    key_on='feature.id',\n    fill_color='YlGn',\n    fill_opacity=0.7,\n    line_opacity=0.2,\n    legend_name='housing median age'\n).add_to(m)\n\nfolium.LayerControl().add_to(m)\n\nm","71e616ea":"Plot the data"}}