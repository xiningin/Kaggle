{"cell_type":{"64c602f3":"code","b23b4b68":"code","cb5b6a99":"markdown","2cca523a":"markdown"},"source":{"64c602f3":"import os\nfrom selenium import webdriver\n#from selenium.webdriver.common.by import By\nfrom webdriver_manager.chrome import ChromeDriverManager\nfrom time import sleep\nimport pandas as pd\n\ndriver = webdriver.Chrome(ChromeDriverManager().install())\n\n#shape dict, collected by hand\nd = {'Shape 06':'bipedal_tailed',\n     'Shape 13':'four_wings',\n     'Shape 04':'head_arms',\n     'Shape 05':'head_base',\n     'Shape 07':'head_legs',\n     'Shape 01':'head_only',\n     'Shape 14':'insectoid',\n     'Shape 11':'multiple_bodies',\n     'Shape 08':'quadruped',\n     'Shape 02':'serpentine_body',\n     'Shape 10':'several_limbs',\n     'Shape 09':'two_wings',\n     'Shape 03':'with_fins',\n     'Shape 12':'human'}\n\n#grab function return a list containing information I need, you can add more.\n#the way to find xpath is firstly press 'F12' on the website, suggest you to use chrome. Then go to the exact place you want - right click - choose copy the xpath.\ndef grab(s):\n    #input your pokemon\n    web_address='https:\/\/pokemon.fandom.com\/wiki\/'+s  #find the website\n    \n    driver.get(web_address) #open the website\n    \n    #this is to get the first type(might have two) of the pokemon\n    try:\n        type1 = driver.find_element_by_xpath(\"\/\/*[@id='mw-content-text']\/aside\/section[2]\/div[1]\/div\/a[1]\")\n        type1 = type1.get_attribute('title')\n        type1 = type1.split(' ')[0]\n    except:\n        type1 = ''\n    #to get the first egg_group\n    try:\n        egg_group1 = driver.find_element_by_xpath(\"\/\/*[@id='mw-content-text']\/aside\/section[6]\/section[3]\/section[2]\/div[1]\/a\")\n        egg_group1 = egg_group1.text\n    except:\n        egg_group1 = ''\n    #to get the color\n    try:\n        color = driver.find_element_by_xpath(\"\/\/*[@id='mw-content-text']\/aside\/section[6]\/section[2]\/section[2]\/div[2]\/font\")\n        color = color.text\n    except:\n        color = ''\n    #to get the shape\n    try:\n        shape = driver.find_element_by_xpath(\"\/\/*[@id='mw-content-text']\/aside\/section[6]\/section[3]\/section[2]\/div[2]\/div\/div\/a\")\n        shape = d[shape.get_attribute('title')]\n    except:\n        shape = ''    \n    return [type1, egg_group1, color, shape]","b23b4b68":"num = []\nname = []\ntype1 = []\negg_group1 = []\ncolor = []\nshape = []\nfail = []\n\nn = len(pokemon_list)\nfor i in range(n):\n    x = pokemon_list[i]\n    try:\n        res = grab(x)\n        num.append(i+1)\n        name.append(x)\n        type1.append(res[0])\n        egg_group1.append(res[1])\n        color.append(res[2])\n        shape.append(res[3])\n        #print(i)\n    except:\n        res = ['','','','']\n        type1.append(res[0])\n        egg_group1.append(res[1])\n        color.append(res[2])\n        shape.append(res[3])\n        fail.append(x)\n        #print(x)\n        sleep(1)\n\ndf = pd.DataFrame({'num':num,'name':name,'type':type1,'egg_group':egg_group1,'color':color,'shape':shape})\nos.chdir(r'C:\\Users\\rsslu\\Desktop\\DASC\\tag')\n\ndf.to_csv('7_gen_tag.csv')","cb5b6a99":"Then you may need a list of pokemons' names to grab.\n\nI save them in some lists, turn that into Data","2cca523a":"Recently, I'm working on a GAN project about pokemon, and I need some tags. Thanks to @alopez247, we have this great dataset which contains all kinds of information about most pokemons.\n\nHowever, there are 1 more generation missing (about 100+ pokemons), which is also needed in my own project. Therefore, I go to this website: https:\/\/pokemon.fandom.com\/wiki\/List_of_Pok%C3%A9mon#Generation%20I and grab the information I need.\n\nBelow is my python code, mainly use selenium package. Hope it can save some of your effort."}}