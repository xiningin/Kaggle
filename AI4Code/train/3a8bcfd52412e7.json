{"cell_type":{"d055f278":"code","4d3cb634":"code","b17e9bdb":"code","1fcca606":"code","ec72c5b8":"code","4daeaf1c":"code","3ebb4a3d":"code","5153bb15":"code","3538e57c":"code","b854f5ad":"code","4d8bede8":"code","99b8672a":"code","f8add0e2":"code","861a3578":"code","bd11a46f":"code","157ac72d":"code","45045738":"code","9b2b831a":"code","24137f51":"code","59c8d7e8":"code","8c66f561":"code","8abb83cf":"code","7b123c2a":"code","dc685082":"code","c39e2421":"code","852ad211":"markdown","e088d2b7":"markdown","0c391665":"markdown","300a1092":"markdown","dae12c11":"markdown","04cb3330":"markdown","36ff9319":"markdown","69550543":"markdown"},"source":{"d055f278":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport pydicom\nimport os\nimport glob\nimport imageio\nfrom IPython.display import Image\n\nplt.rcParams[\"figure.figsize\"] = (10,5)","4d3cb634":"base_dir = '..\/input\/osic-pulmonary-fibrosis-progression\/'\nos.listdir(base_dir)","b17e9bdb":"train_path = base_dir + 'train\/'\ntest_path = base_dir + 'test\/'","1fcca606":"train_df = pd.read_csv(base_dir+'train.csv')\ntrain_df.head()","ec72c5b8":"train_df.info()","4daeaf1c":"train_df.describe()","3ebb4a3d":"sb.countplot(data = train_df, x=\"Sex\")\nplt.title(\"Sex distribution\")","5153bb15":"sb.boxplot(data=train_df, x = 'Sex', y = 'Age')\nplt.title('Sex distribution based on Age')","3538e57c":"sb.countplot(train_df['Age'])\nplt.title('Age distribution')","b854f5ad":"sb.kdeplot(train_df.loc[train_df['Sex'] == 'Male', 'Age'], label = 'Male',shade=True)\nsb.kdeplot(train_df.loc[train_df['Sex'] == 'Female', 'Age'], label = 'Female',shade=True)\nplt.xlabel('Age (years)'); plt.ylabel('Density') \nplt.title('Distribution of Ages')","4d8bede8":"sb.countplot(data = train_df, x=\"SmokingStatus\")\nplt.title(\"Smoking status distribution\")","99b8672a":"sb.countplot(data = train_df, x=\"SmokingStatus\", hue='Sex')\nplt.title('Smoking Status distribution based on Sex')","f8add0e2":"\n\nsb.scatterplot(data = train_df, x=\"FVC\", y=\"Percent\", hue='Age')\nplt.title('FVC vs Percent')","861a3578":"sb.scatterplot(data = train_df, x=\"FVC\", y=\"Age\", hue='Sex')\nplt.title('FVC vs Age')","bd11a46f":"sb.scatterplot(data = train_df, x=\"FVC\", y=\"Weeks\", hue='SmokingStatus')\nplt.title('FVC vs Weeks')","157ac72d":"sb.distplot(train_df['Percent'])\nplt.title('Percent distribution')","45045738":"sb.violinplot(data=train_df, x='Percent', y='SmokingStatus', hue = 'Sex')\nplt.title('Percent vs Smoking status')","9b2b831a":"sb.scatterplot(data = train_df, x=\"Weeks\", y=\"Age\", hue = \"Sex\")\nplt.title('Weeks vs Age')","24137f51":"patient_id_1 = train_df.Patient[0]\npatient_1 = train_df[train_df.Patient == patient_id_1]\npatient_1","59c8d7e8":"patient_1.plot(x='Weeks',y='FVC')\nplt.title('Weeks vs FVC for 1 patient')","8c66f561":"patient_1.plot(x='Weeks',y='Percent')\nplt.title('Weeks vs Percent for 1 patient')","8abb83cf":"sb.heatmap(train_df.corr(), cmap = 'RdYlBu_r')\nplt.title('Correlation Matrix')","7b123c2a":"patient_1_path = train_path + patient_id_1 +'\/'\nimg_paths = [\n        f for f in glob.glob(\n            os.path.join(patient_1_path, '**')\n        )]\nimg_paths = sorted(img_paths, key=lambda i: int(os.path.splitext(os.path.basename(i))[0]))","dc685082":"fig, axs = plt.subplots(5,6, figsize = (12,12))\naxs = axs.flatten()\nfor image_path,axis in zip(img_paths,axs):\n    img = pydicom.dcmread(image_path)\n    axis.imshow(img.pixel_array)\nfig.suptitle('Lung Images over Weeks', fontweight='bold')","c39e2421":"images = []\nfor image_path in img_paths:\n    images.append(pydicom.dcmread(image_path).pixel_array)\nimageio.mimsave(\"\/tmp\/gif.gif\", images, duration=0.0001)\nImage(filename=\"\/tmp\/gif.gif\", format='png')","852ad211":"### Analysis on Image","e088d2b7":"### Correlation Matrix","0c391665":"### FVC: Forced Vital Count","300a1092":"### SmokingStatus","dae12c11":"### Weeks","04cb3330":"### Percent","36ff9319":"### Sex","69550543":"### Age"}}