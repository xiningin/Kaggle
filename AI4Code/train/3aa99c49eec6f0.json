{"cell_type":{"f537af5b":"code","251b53d2":"code","4f94cc03":"code","bfb9a6d0":"code","f82c51d6":"code","243afbc4":"code","67183344":"code","68d5f644":"code","ec93c073":"code","6537b7eb":"code","fd381b22":"code","7176504b":"code","57c20b2f":"code","8b7eafdf":"code","5179a9ef":"code","6f274494":"code","5f4784be":"code","8bba40c3":"code","5c9a7798":"code","dfc5b748":"code","6a3327ff":"code","5916138d":"code","65661faf":"code","1c0e4f12":"code","0b54fc7c":"code","e44dbb97":"code","385d9579":"code","175de317":"code","f39c2368":"code","1c276085":"code","043436fe":"code","fa68de02":"code","e10b3b7b":"code","d62d8ca6":"code","6413e054":"code","65c5efd0":"code","20432e6a":"code","2e86515c":"code","5b01345b":"code","3fb99aee":"code","2b4ca72e":"code","83c9cef7":"code","0bcc6535":"code","6288489c":"code","42b809de":"code","0c3b663f":"code","491a4251":"code","96842fa5":"code","32e1ba3e":"code","abedf287":"code","e24e1e20":"code","117d9df4":"markdown","82ce05f7":"markdown","07f5cc25":"markdown","0e699f8d":"markdown","e503f005":"markdown","3a6d585a":"markdown","45fc8191":"markdown","1352f364":"markdown","cf1cb993":"markdown","5bf914d6":"markdown","956887ee":"markdown","6fc780ce":"markdown","a650e6f9":"markdown","1e20458a":"markdown","a140ecd4":"markdown","33d22266":"markdown","ff024a02":"markdown","94bb812c":"markdown","74058678":"markdown","62bf5904":"markdown","0c4abbf9":"markdown","ed5a0f83":"markdown","9c6da087":"markdown","9e170280":"markdown","e835e6ea":"markdown","174bb511":"markdown","33f442dc":"markdown","07a650e9":"markdown","f7548382":"markdown","b41e9bd4":"markdown","bfbedf47":"markdown","02605dac":"markdown","2dac3c7d":"markdown","13bab546":"markdown","70f0aa2c":"markdown","a1fcafd4":"markdown","73bd8e48":"markdown","d5d5db4e":"markdown","94b5dca6":"markdown","0e49b73d":"markdown","12138593":"markdown","3589b37d":"markdown","fe497184":"markdown","90e74432":"markdown","2bb4770b":"markdown","553d63f7":"markdown","580b54d6":"markdown","5b3d2cdf":"markdown","5eb27ce0":"markdown","101a2696":"markdown"},"source":{"f537af5b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","251b53d2":"#Suressing warnings\nimport warnings\nwarnings.filterwarnings('ignore')","4f94cc03":"#import libraries\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","bfb9a6d0":"#import the placement data set\nplacement_data = pd.read_csv('\/kaggle\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')\nplacement_data.head()","f82c51d6":"#dimension of data frame\nplacement_data.shape","243afbc4":"#statistical aspect of dataframe\nplacement_data.describe()","67183344":"placement_data.info()","68d5f644":"placement_data.isnull().sum()","ec93c073":"placement_data['salary'].describe()","6537b7eb":"placement_data['status'].value_counts()","fd381b22":"placement_data['salary'].fillna(\"0\",inplace=True)\nplacement_data","7176504b":"#lets check the salary column\nplacement_data['salary']=placement_data['salary'].astype('float')","57c20b2f":"#map values with 0 and 1\nplacement_data['status'] = placement_data['status'].replace({'Placed':1,'Not Placed':0}).astype('object')\n#counting values\nplacement_data['status'].value_counts()","8b7eafdf":"#map values with 0 and 1\n#placement_data['gender'] = placement_data['gender'].replace({'M':0,'F':1}).astype('object')\n#counting values\nplacement_data['gender'].value_counts()","5179a9ef":"placement_data['gender'].value_counts()","6f274494":"plt.figure(figsize=(15,6))\nplt.subplot(1,2,1)\ncolors = ['gold','lightcoral']\nexplode = (0,0)\nplacement_data.gender.value_counts().plot.pie(explode=explode, colors=colors, shadow=True, autopct='%1.1f%%')\nplt.title('gender')\nplt.subplot(1,2,2)\nsns.countplot('gender',hue='status',data=placement_data)\nplt.show()","5f4784be":"plt.figure(figsize=(15,5))\nplt.subplot(1,2,1)\nsns.boxplot(x='gender',y='salary',data=placement_data)\nplt.subplot(1,2,2)\nsns.barplot(x='gender',y='salary',data=placement_data)\n\nplt.show()","8bba40c3":"plt.figure(figsize=(15,5))\nplt.subplot(1,2,1)\nsns.boxplot(x='salary',y='ssc_b',data=placement_data)\nplt.subplot(1,2,2)\nsns.countplot(x='status',hue='ssc_b',data=placement_data)\n\nplt.show()","5c9a7798":"plt.figure(figsize=(15,5))\nplt.subplot(1,2,1)\nsns.boxplot(x='salary',y='hsc_b',data=placement_data)\nplt.subplot(1,2,2)\nsns.countplot(x='status',hue='hsc_b',data=placement_data)\n\nplt.show()","dfc5b748":"plt.figure(figsize=(15,5))\nplt.subplot(1,2,1)\nsns.violinplot(x='salary',y='degree_t',data=placement_data)\nplt.subplot(1,2,2)\nsns.countplot(x='status',hue='degree_t',data=placement_data)\n\nplt.show()","6a3327ff":"plt.figure(figsize=(15,5))\nplt.subplot(1,2,1)\nsns.boxplot(x='salary',y='specialisation',data=placement_data)\nplt.subplot(1,2,2)\nsns.countplot(x='status',hue='specialisation',data=placement_data)\n\nplt.show()","5916138d":"#findout pearson correlation between 10th & 12th marks student.\n\nfrom scipy.stats import pearsonr\ncorr,_ = pearsonr(placement_data['ssc_p'], placement_data['hsc_p'])\nprint('pearsons correlation: %.3f' % corr)\nsns.regplot(x='ssc_p',y='hsc_p',data=placement_data)","65661faf":"plt.figure(figsize=(10,10))\nsns.pairplot(placement_data)\nplt.show()","1c0e4f12":"plt.figure(figsize=(10,10))\nsns.heatmap(placement_data.corr(),annot=True)","0b54fc7c":"plt.figure(figsize=(10,10))\n\n\nsns.catplot(x='status',y='ssc_p',hue='gender',kind='swarm', data=placement_data)\nsns.catplot(x='status', y='hsc_p', hue='gender', kind='swarm', data=placement_data)\nsns.catplot(x='status', y='degree_p', hue='gender',kind='swarm', data=placement_data)\n\nplt.show()","e44dbb97":"#creating dummy variable for some categorical column and dropping the first one.\ndummy1 = pd.get_dummies(placement_data[['gender','ssc_b','hsc_b','hsc_s','degree_t','workex','specialisation',]],drop_first=True)\n\n#adding result to master data frame\nplacement_data = pd.concat([placement_data,dummy1],axis=1)\n","385d9579":"#now check the dataframe\nplacement_data.head()","175de317":"# For status, we would change the data type to int from object.\n\nplacement_data['status'] = placement_data['status'].astype('int')\nplacement_data['status'].value_counts()","f39c2368":"#In our analysis there is no use of salary, hence dropping it.\n\nplacement_data.drop(['salary'],axis=1,inplace=True)\nplacement_data.head()","1c276085":"#Dropping all other repeated column\n\nplacement_data.drop(['gender','ssc_b','hsc_b','hsc_s','degree_t','workex','specialisation'],axis=1,inplace=True)\nplacement_data.head()","043436fe":"#dropping serial number too.\nplacement_data.drop(['sl_no'],axis=1,inplace=True)","fa68de02":"placement_data.head()","e10b3b7b":"print('Final shape of data:', placement_data.shape)\nprint('\\n Final column of data:\\n',placement_data.columns)","d62d8ca6":"X = placement_data.loc[:,['ssc_p', 'hsc_p', 'degree_p', 'etest_p', 'mba_p', 'gender_M',\n       'ssc_b_Others', 'hsc_b_Others', 'hsc_s_Commerce', 'hsc_s_Science',\n       'degree_t_Others', 'degree_t_Sci&Tech', 'workex_Yes',\n       'specialisation_Mkt&HR']]\ny= placement_data.loc[:,['status']]","6413e054":"#plot heatmap\n\nplt.figure(figsize=(10,10))\nsns.heatmap(X.corr(),annot=True,cmap='RdYlGn')\nplt.show()","65c5efd0":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, train_size=0.7, test_size=0.3, random_state=100)","20432e6a":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\nX_train = scaler.fit_transform(X_train)\nX_test = scaler.fit_transform(X_test)","2e86515c":"from sklearn.linear_model import LogisticRegression\nlogreg = LogisticRegression()\nlogreg.fit(X_train,y_train)\ny_test_pred = logreg.predict(X_test)","5b01345b":"from sklearn import metrics\n\n#confusion metrics\nconfusion = metrics.confusion_matrix(y_test,y_test_pred)\nprint(confusion)","3fb99aee":"#plot confusion matrix\n\nimport scikitplot as skplt\nskplt.metrics.plot_confusion_matrix(y_test,y_test_pred)\n","2b4ca72e":"print('Logistic model accuracy score:',metrics.accuracy_score(y_test,y_test_pred))","83c9cef7":"TP = confusion[1,1] #True Positive\nTN = confusion[0,0] #True negative\nFP = confusion[0,1] #False Positive\nFN = confusion[1,0] #False negative","0bcc6535":"#sensitivity\n\nTP\/float(TP+FN)","6288489c":"#specificity\n\nTN\/float(TN+FP)","42b809de":"#false positive rate\n\nFP\/float(FP+TN)","0c3b663f":"#positive predicted value\n\nTP\/float(TP+FP)","491a4251":"#negative predicted value\n\nTN\/float(TN+FN)","96842fa5":"confusion[1,1]\/(confusion[0,1]+confusion[1,1])","32e1ba3e":"confusion[1,1]\/(confusion[1,0]+confusion[1,1])","abedf287":"def draw_roc( actual, probs ):\n    fpr, tpr, thresholds = metrics.roc_curve( actual, probs,\n                                              drop_intermediate = False )\n    auc_score = metrics.roc_auc_score( actual, probs )\n    plt.figure(figsize=(5, 5))\n    plt.plot( fpr, tpr, label='ROC curve(area = %0.2f)' % auc_score )\n    plt.plot([0, 1], [0, 1], 'k--')\n    plt.xlim([0.0, 1.0])\n    plt.ylim([0.0, 1.05])\n    plt.xlabel('False Positive Rate or [1 - True Negative Rate]')\n    plt.ylabel('True Positive Rate')\n    plt.title('Receiver operating characteristic example')\n    plt.legend(loc=\"lower right\")\n    plt.show()\n\n    return None","e24e1e20":"probs = logreg.predict_proba(X_test)\npreds = probs[:,1]\n\nfpr, tpr, thresholds = metrics.roc_curve( y_test, preds, drop_intermediate = False )\ndraw_roc(y_test, preds)","117d9df4":"In salary column from total 148 entries we found 67 null values and from place ment status we got to know that 67 were not placed. Hence we can conclude that the students who were not placed, their salary column is null value. so we can fill it with 0.","82ce05f7":"### **Feature Scaling**","07f5cc25":"### **SSC board with salary and status**","0e699f8d":"Precision & recall tradeoff","e503f005":"## **ROC Curve**","3a6d585a":"**Recall**","45fc8191":"Observation:\n* Most students, who are scored less than 60%, are not placed.\n* In 10th females are not placed, who has scored less than 60%.\n* The students both male & female, are placed who has scored more than 60%","1352f364":"Observation:\n* Male students counts are higher than female students.\n* Total number of Male students are 139 and female students are 76.\n* Where 100 male students & 48 female students are placed.\n* Rest students are not placed.","cf1cb993":"Observation:\n* Marketing & finacnce combination students are highly placed from MBA speacializaton.\n* They have highest salary around 10 lakhs.\n* For marketing and finance specialization placed stdents having lowest salary is around 2 lakhs.\n* where as mkt&HR median salary is around 2.2 lakhs.","5bf914d6":"### **Students of 10th and 12th marks status**","956887ee":"* Our model is pretty good with the accuracy model of 84%.\n* ROC curve area 0.92.\n* Other than accuracy some other scores are given below:\n      sensitivity score\/Recall:90.4%\n      specificity score :73.9%\n      Precision score : 86.3%\n* From our analysis, we observed that the students from 10th central board, 12th other board are mostly placed.\n* Yes percentage matters for placing in a company, the students who scored above 60% in every board with degree , he\/she got placed.\n* Commerce with management specialization in degree and marketing with finacnce specialization in MBA are most demanded by corporate people.","6fc780ce":"## **Problem Statement**\n\n**This data set consists of Placement data of students in a XYZ campus. It includes secondary and higher secondary school percentage and specialization. It also includes degree specialization, type and Work experience and salary offers to the placed students.Analyze the dataset.**","a650e6f9":"**Confusion Metrics**","1e20458a":"1. One-hot encoder\n2. label encoder","a140ecd4":"**Decode values**\n1. Dividing 'status' column as 0 and 1.\n* 0 stands for not placed.\n* 1 stands for placed.","33d22266":"Observation:\n\n* From above Box plot we observe central board students have highest package from other board of ssc_b(10th).\n* Maximum students are having very good package from central board in 10th.\n* From above countplot we observed that from central board, the students are more placed than other board.","ff024a02":"### **Heatmap**","94bb812c":"Observation:\n* Correlation between 12th marks & 10th marks student is 0.511, which is not so good. \n* They are not strongly correlated to each other.\n* We can observe that the students are performed good in 10th also performed well in 12th.\n* There are few outliers present in this plot, where students are less than 60% in 10th as well as 12th.\n* There are some students, who scored less in 10th,but scored very good in 12th.","74058678":"### **Mba specialization with salary & placement**","62bf5904":"### **Numerical column analysis**","0c4abbf9":"2. Label encoder:\n\n-As we have done earlier, label encoding for status, changed to 0 and 1.","ed5a0f83":"## **Conclusion**","9c6da087":"## **Data Preparation**","9e170280":"Here we can check that 67 students are placed and 148 students are not placed.","e835e6ea":"**Accuracy score**","174bb511":"![image.png](attachment:image.png)","33f442dc":"## **Logistic Regression**","07a650e9":"Gender vs Status","f7548382":"Observation:\n* From above boxplot we observed, central board students median salary is 2.5 lakhs.\n* Other board students median salary is little less around 2.4 lakhs.\n* The highest salary is from central hsc board is around 10 lakhs.\n* If we are talking abount placing status, then other board from hsc are more placed than central board.","b41e9bd4":"**Precision**","bfbedf47":"Observation:\n* There is no correlation, which shows very strong.\n* But there are few variables, whose correlation are good enough.\n* ssc_p, hsc_p, degree_p, salary variables are well correlated.","02605dac":"### **Convert Categorical variable to numerical**","2dac3c7d":"### **Degree with salary and status**","13bab546":"Final data(X & y)","70f0aa2c":"### **Train-Test Split**","a1fcafd4":"Observation:\n* From above violin plot, we observe that commerce & management are having highest salary offered.\n* Comm & mgmt student are highly placed as compare to science&tech and other degrees.","73bd8e48":"**Gender Vs Salary**","d5d5db4e":"## **Inspecting Dataframe**","94b5dca6":"**Observation:**\n* We can observe that male(M) students are having higher salary than female(F).\n* The salary range of male student median is approx 2.5 lacks per annum.\n* The salary range of female student median is approx 2.1 lacks per annum.\n* The highest salary of male student is aprrox 10 lakhs per annum.\n* The highest salary of female student is approx 7 lakhs per annum.\n","0e49b73d":"Our model is pretty good, as the accuracy score is 84%.","12138593":"### **HSC board with salary and status**","3589b37d":"**Checking Null value if any**","fe497184":"### **Placed student status**","90e74432":"Hence our final data set for prediction would be as follows.","2bb4770b":"1. One-hot encoder","553d63f7":"## **Metrics beyond simple accuracy**","580b54d6":"## **Data Visualization**","5b3d2cdf":"Observation:\n* Average scoring student of 10th(hsc_p) exam is 66%.\n* Average scoring student of 12th(ssc_p) exam is 67%.\n* Average scoring student of degree_p exam is 66%.\n* Average scoring student of mba_p exam is 62%.\n* Average scoring student of employeeablility test conducted in college is 72%.\n* Average salary offered to students is Rs28,8,655.","5eb27ce0":"We can see here in salary column we have found some 67 entries with null value. Lets check those values.","101a2696":"![image.png](attachment:image.png)"}}