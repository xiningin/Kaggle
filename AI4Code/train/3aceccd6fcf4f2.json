{"cell_type":{"facc84e3":"code","11f0a771":"code","0d1198d3":"code","83e3cf44":"code","0892a49e":"code","af7ccae8":"code","8b03815b":"code","3e293c64":"code","1fc66734":"code","221c3177":"code","0c56c1dc":"code","0aaa301e":"code","9a7f7354":"code","8e210b3d":"code","905f26f7":"code","2f7f4241":"code","b22ed404":"code","3faf26e9":"markdown","1e9c9400":"markdown","58804135":"markdown","9d14b49e":"markdown","07b3e772":"markdown","77467743":"markdown","bf57347b":"markdown","44cc6c98":"markdown","fad8560c":"markdown","ca640de5":"markdown","b8df5ca9":"markdown","e74ee0c7":"markdown"},"source":{"facc84e3":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport matplotlib.pylab as pylab\nimport matplotlib.patches as patches\nfrom pylab import text\nimport matplotlib.image as mpimg\nfrom matplotlib.offsetbox import AnnotationBbox, OffsetImage\nimport nltk\nimport plotly\nfrom nltk import corpus\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\n%matplotlib inline\nsns.set(font=\"'Source Code Pro', monospace\")\nsns.set_style(\"whitegrid\")\nplt.rcParams[\"font.family\"] = \"'Source Code Pro', monospace\"\n\ntreasure_colors = [\"#703728\", \"#c86b25\", \"#dc9555\", \"#fed56f\", \"#c89a37\"]\npirate_colors = [\"#010307\", \"#395461\", \"#449FAF\", \"#B1F4FC\", \n                 \"#F4D499\", \"#835211\"]\nsns.palplot(sns.color_palette(treasure_colors))\nsns.palplot(sns.color_palette(pirate_colors))\n\nall_colors = treasure_colors.copy()\nall_colors.extend(pirate_colors[1:])\nimport plotly","11f0a771":"data= pd.read_csv('..\/input\/kaggle-survey-2020\/kaggle_survey_2020_responses.csv')\n","0d1198d3":"data.info()","83e3cf44":"data.describe()","0892a49e":"data.shape, data.size","af7ccae8":"data.drop_duplicates(inplace= True)","8b03815b":"data.isnull().sum()","3e293c64":"data['Q1'].value_counts().plot(kind='bar', color='pink', width=0.5 )\n","1fc66734":"labels= ['< 1 years', '1-2 years','5-10 years' ,'10-20 years' ,'3-5 years' , '20+ years' ,'I have never written code', 'For how many years have you been writing code and\/or programming?']\nplt.pie(data['Q6'].value_counts(), autopct= '%1.1f%%', wedgeprops= {'edgecolor':'white','linewidth':2},rotatelabels=45,labels= labels,explode=[0,0,0,0,0,0,0.1,0.2],radius=1.5, shadow= True)\nplt.show()","221c3177":"q = \"What is your current yearly compensation (approximate $USD)?\"\norder = ['$0-999', '1,000-1,999', '2,000-2,999', '3,000-3,999', '4,000-4,999',\n         '5,000-7,499', '7,500-9,999', '10,000-14,999',  '15,000-19,999',\n         '20,000-24,999', '25,000-29,999', '30,000-39,999', '40,000-49,999', \n         '50,000-59,999', '60,000-69,999', '70,000-79,999', '80,000-89,999',\n         '90,000-99,999', '100,000-124,999', '125,000-149,999', '150,000-199,999', \n         '200,000-249,999', '250,000-299,999', '300,000-500,000', '> $500,000']","0c56c1dc":"plt.figure(figsize=(16, 12))\nplt.rcParams['figure.dpi'] = 360\nax = sns.countplot(y = data['Q24'], order = order, orient=\"v\", palette = \"YlOrBr_r\", saturation=1)\n\nplt.plot([0, 650], [15.5, 15.5], lw=2, color=pirate_colors[1])\nplt.plot([0, 650], [24.5, 24.5], lw=2, color=pirate_colors[1])\nplt.plot([650, 650], [15.5, 24.5], lw=2, color=pirate_colors[1])\nplt.plot([3, 3], [15.5, 24.5], lw=2, color=pirate_colors[1])\n\nstyle = \"Simple, tail_width=5, head_width=16, head_length=23\"\nkw = dict(arrowstyle=style, color=pirate_colors[1])\narrow = patches.FancyArrowPatch((1850, 1), (1850, 24),\n                             connectionstyle=\"arc3,rad=-.15\", **kw)\nplt.gca().add_patch(arrow)\n\nplt.text(1890, 1.5, 'less pay', size=14, color=pirate_colors[1])\nplt.text(1650, 23, 'more pay', size=14, color=pirate_colors[1])\nax.set_xlabel(\"Number of respondents\", size = 18, color = pirate_colors[0])\nax.set_ylabel(\"Pay Scale\", size = 18, color = pirate_colors[0])\nax.set_title(\"--Pay distribution around respondents--\", \n             size = 22, color = treasure_colors[0], weight='bold')\nplt.xticks([])\nplt.yticks(fontsize=11)\nsns.despine(left=True, bottom=True);","0aaa301e":"countries_with_most_developers = data['Q3'].value_counts().nlargest(10).sort_values(ascending=False)\nplt.figure(figsize=(12,8))\n#countries_with_most_developers.plot(kind='barh',color=custom_color)\nsplot = sns.barplot(x = countries_with_most_developers.values ,y = countries_with_most_developers.index )\n#Decorating the plot\nplt.title('Countries with the most professionals',fontsize=18,weight='bold')\nplt.yticks(fontsize=14)\nplt.xticks(fontsize=14)\nplt.xlabel('Count',fontsize=14)\nplt.style.use('ggplot')\n#add annotation to each bar\nfor p in splot.patches:\n    width = p.get_width()\n    plt.text(150+p.get_width(), p.get_y()+0.55*p.get_height(),int(width),\n             ha='center', va='center')\n\n    \n#Make a annotation to show the most obvious result\nplt.annotate('India has the most Data Science professionals' , xy =(2000,4),fontsize=24,color='navy');","9a7f7354":"df_language = data[[i for i in data.columns if 'Q7' in i]]\ndf_language_all = pd.Series(dtype='int')\nfor i in df_language.columns:\n    df_language_all[df_language[i].value_counts().index[0]] = df_language[i].count()\n\ndf_language_all = df_language_all.sort_values(ascending=True)\nplt.figure(figsize=(4,4))\nexpl = [0.5,0.3,0.1,0.05,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0]\ndf_language_all.plot(kind='pie',explode=expl,colors=sns.color_palette('viridis'),textprops={'fontsize': 4}, autopct='%1.1f%%')\nplt.ylabel('')\nplt.title('Programming Languages used', fontsize= 8)\nplt.show()","8e210b3d":"df_lib = data[[i for i in data.columns if 'Q14' in i]]\ndf_lib_all = pd.Series(dtype='int')\nfor i in df_lib.columns:\n    df_lib_all[df_lib[i].value_counts().index[0]] = df_lib[i].count()","905f26f7":"from wordcloud import WordCloud\nfrom PIL import Image\n\n\n# Define a function to plot word cloud\ndef cloud(wordcloud):\n    # Set figure size\n    plt.figure(figsize=(18, 13))\n    # Display image\n    plt.imshow(wordcloud) \n    # No axis details\n    plt.axis(\"off\")\n\n\n\nwordcloud = WordCloud(width = 400, height = 300, random_state=1, background_color='Pink',mode=\"RGBA\"\n                      ,max_words=70, collocations=False\n                      ,repeat=True).generate_from_frequencies(df_lib_all)\n# Plot\ncloud(wordcloud)","2f7f4241":"#Let's narrow the genders to only men and women to facilitate the analysis(as they are the main categories)\ngender_df = data[data['Q2'].isin(['Man','Woman'])]\ntable = gender_df.groupby(['Q1', 'Q2']).size().reset_index().pivot(columns='Q2', index='Q1', values=0)\nplt.style.use('ggplot')\n    \nax=table.plot(stacked=True,kind='barh',figsize=(12,10),alpha=0.7)\n\nindex_list = table.index.values\ntotal = table.values.sum()\n\n#ploting the annotation text\nfor i in table.index :\n    tot_x = 0\n    for j in table.columns:\n        \n        ratio = (table.loc[(i)][j])\/ total\n        x_pos = table.loc[(i)][j]+ tot_x\n        tot_x += table.loc[(i)][j]\n        if(ratio >= 0.001):\n            plt.text(x = x_pos - table.loc[(i)][j]\/2, y = np.where(index_list == i)[0][0]\n                     ,s= '%.1f'%(ratio*100)+'%' ,va='center', ha='center', size=10)\n\n#Decorating the plot\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left',prop={'size': 14})\nplt.xlabel('Count',fontsize=16)\nplt.ylabel('Age',fontsize=16)\nplt.xticks(fontsize=12)\nplt.yticks(fontsize=12)\nplt.title('Distribution of Age and Gender',fontsize=15,weight='bold')\n","b22ed404":"us_in = data[data['Q3'].isin(['India','United States of America'])]\ntable = us_in.groupby(['Q4', 'Q3']).size().reset_index().pivot(columns='Q4', index='Q3', values=0)\nplt.style.use('ggplot')\n    \nax=table.plot(stacked=True,kind='barh',figsize=(16,12),alpha=0.7)\n\nindex_list = table.index.values\ntotal = table.values.sum()\n\n#ploting the annotation text\nfor i in table.index :\n    tot_x = 0\n    for j in table.columns:\n#Decorating the plot\n        plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left',prop={'size': 26})\n        plt.xlabel('Count',fontsize=40)\n        plt.ylabel('Age',fontsize=40)\n        plt.xticks(fontsize=26)\n        plt.yticks(fontsize=26)\n        plt.title('Educational qualifications of USA and American data Profs',fontsize=40,weight='bold')\n        ","3faf26e9":"## **Q2)How many years of programming background is required for getting into data science field?**","1e9c9400":"## EDA of survey responses","58804135":"## **Q6) Best Visualization libraries used by professionals**","9d14b49e":"## **Q8) Which country out of USA or India has the most qualified data professionals?**","07b3e772":"## **Q4) WHich country has the most number of data Science professionals**","77467743":"## **Q1) Which age-group is more involved in data science?**","bf57347b":"## **Q7)  Which gender has elder people working in Data Science?**","44cc6c98":"# Reading the responses file","fad8560c":"## Below are some basic problem statements that make the survey data understandable","ca640de5":"## **Q3) What are the higher values of Pay scales in data analysis**","b8df5ca9":"## **Q5) Which are the most used programming languages for Data Science?** ","e74ee0c7":"# Importing required libraries for getting useful insights"}}