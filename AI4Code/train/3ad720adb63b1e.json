{"cell_type":{"37496360":"code","0e372c14":"code","16d487cf":"code","2fe2ebd9":"code","54b77b10":"code","0efcaf70":"code","c1633d10":"code","e315c340":"code","aff6da04":"code","ed039d78":"code","784f202b":"code","7f1713ed":"code","3584201c":"code","50e99be8":"code","1f5f96e2":"code","91c8eb0c":"code","320e1fd5":"code","1b21bcd6":"code","2bb96984":"code","ff60fd0a":"code","454353ec":"code","8303b93e":"code","82063923":"code","946afe7e":"code","8d460f60":"code","3227745c":"code","f387b375":"code","aa952494":"code","88d472aa":"code","ce23593b":"code","a35b4e77":"code","e2ff33be":"code","823f43d6":"code","9f581c3b":"code","73847904":"code","9dc0ac6f":"code","98bc0825":"code","c575cdd7":"code","f68d0b97":"code","4a5a002e":"code","e6fe3cce":"code","3d911968":"code","ce284d5f":"code","2274fd34":"code","a5ab1fbf":"code","70b53845":"code","8a5d5859":"code","abe1cfbc":"code","8503fb32":"code","68e8b0a8":"code","fce14986":"code","1cae8718":"code","e38f52b0":"code","d3c1d390":"code","96f25237":"code","8fe37bfc":"code","098d3da6":"code","79f93fac":"code","021c1141":"code","d34a5566":"code","248d56df":"code","afe6c818":"code","d8f00b4c":"code","dfb0869f":"code","26fcfdbd":"code","7d174a1e":"code","1d1a34e0":"code","fca756c4":"code","3a350bf3":"code","abe0c7d0":"code","8210be02":"code","71da9006":"code","9490aab5":"code","bc3e3d3c":"code","31c6cdd8":"code","268651b0":"code","bc1c2efd":"code","7827fd24":"code","afd8aad2":"code","410d5e96":"code","4adb1a95":"code","4bda14dd":"code","fc843952":"code","b4e0f6a4":"code","a0d869a5":"markdown","f549323c":"markdown","6ed5be06":"markdown","bb9db4cc":"markdown","a98116a4":"markdown","3ff4f248":"markdown","60e1c2c2":"markdown","d3c27cf9":"markdown","c949927f":"markdown","fbf20bcc":"markdown","f18eb7ea":"markdown","ccf03dc7":"markdown","978ee5e3":"markdown","10bd33f2":"markdown","fbff4c65":"markdown","96087127":"markdown","6884a4cb":"markdown","c1cfbbb7":"markdown","4aead2da":"markdown","68a71dd0":"markdown","06fb1fbd":"markdown","e3e8b0f9":"markdown","3cc69b93":"markdown","e08759b5":"markdown","b32c2db2":"markdown","02805af5":"markdown","3c8af92f":"markdown","241efb37":"markdown","447637f9":"markdown","249bff75":"markdown","15ab80dc":"markdown","17cb7095":"markdown","3cf347f7":"markdown","2ee702ab":"markdown","37b02154":"markdown"},"source":{"37496360":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","0e372c14":"data=pd.read_csv('..\/input\/loan-prediction-problem-dataset\/train_u6lujuX_CVtuZ9i.csv')","16d487cf":"df=pd.read_csv('..\/input\/loan-prediction-problem-dataset\/train_u6lujuX_CVtuZ9i.csv')","2fe2ebd9":"data.head()","54b77b10":"#info about the Dataset\ndata.info()","0efcaf70":"#Shape of the dataset\ndata.shape","c1633d10":"#Description about the Dataset\ndata.describe()","e315c340":"#Datatypes of the features\ndata.dtypes","aff6da04":"#Checking for missing values\ndata.isnull().sum()","ed039d78":"data['LoanAmount']=data['LoanAmount'].fillna(data['LoanAmount'].mean())","784f202b":"data['Credit_History']=data['Credit_History'].fillna(data['Credit_History'].median())","7f1713ed":"data.isnull().sum()","3584201c":"df.dropna(inplace=True)","50e99be8":"df.shape","1f5f96e2":"df['Gender'].value_counts()","91c8eb0c":"df['Married'].value_counts()","320e1fd5":"df['Education'].value_counts()","1b21bcd6":"df['Self_Employed'].value_counts()","2bb96984":"df['Property_Area'].value_counts()","ff60fd0a":"plt.boxplot(df['ApplicantIncome'])","454353ec":"plt.boxplot(df['CoapplicantIncome'])","8303b93e":"plt.boxplot(df['LoanAmount'])","82063923":"plt.boxplot(df['Loan_Amount_Term'])","946afe7e":"plt.boxplot(df['Credit_History'])","8d460f60":"sns.scatterplot(x='Property_Area',y='Loan_Status',data=df)","3227745c":"sns.scatterplot(x='Self_Employed',y='Loan_Status',data=df)","f387b375":"print(pd.crosstab(df['Property_Area'],df['Loan_Status']))","aa952494":"sns.countplot(df['Property_Area'],hue=df['Loan_Status'])","88d472aa":"print(pd.crosstab(df['Gender'],df['Loan_Status']))","ce23593b":"sns.countplot(df['Gender'],hue=df['Loan_Status'])","a35b4e77":"print(pd.crosstab(df['Married'],df['Loan_Status']))","e2ff33be":"sns.countplot(df['Married'],hue=df['Loan_Status'])","823f43d6":"print(pd.crosstab(df['Self_Employed'],df['Loan_Status']))","9f581c3b":"sns.countplot(df['Self_Employed'],hue=df['Loan_Status'])","73847904":"print(pd.crosstab(df['Education'],df['Loan_Status']))","9dc0ac6f":"sns.countplot(df['Education'],hue=df['Loan_Status'])","98bc0825":"df['Loan_Status'].replace('N',0,inplace=True)\ndf['Loan_Status'].replace('Y',1,inplace=True)","c575cdd7":"plt.title('Correlation Matrix')\nsns.heatmap(df.corr(),annot=True)","f68d0b97":"df2=df.drop(labels=['ApplicantIncome'],axis=1)","4a5a002e":"df2=df2.drop(labels=['CoapplicantIncome'],axis=1)","e6fe3cce":"df2=df2.drop(labels=['LoanAmount'],axis=1)","3d911968":"df2=df2.drop(labels=['Loan_Amount_Term'],axis=1)\n","ce284d5f":"df2=df2.drop(labels=['Loan_ID'],axis=1)","2274fd34":"df2.head()","a5ab1fbf":"from sklearn.preprocessing import LabelEncoder\nfrom sklearn.preprocessing import OneHotEncoder\nle=LabelEncoder()\nohe=OneHotEncoder()","70b53845":"df2['Property_Area']=le.fit_transform(df2['Property_Area'])","8a5d5859":"df2['Dependents']=le.fit_transform(df2['Dependents'])","abe1cfbc":"df2=pd.get_dummies(df2)","8503fb32":"df2.dtypes","68e8b0a8":"df2=df2.drop(labels=['Gender_Female'],axis=1)","fce14986":"df2=df2.drop(labels=['Married_No'],axis=1)","1cae8718":"df2=df2.drop(labels=['Education_Not Graduate'],axis=1)","e38f52b0":"df2=df2.drop(labels=['Self_Employed_No'],axis=1)","d3c1d390":"df2.head()","96f25237":"plt.title('Correlation Matrix')\nsns.heatmap(df2.corr(),annot=True)","8fe37bfc":"df2=df2.drop('Self_Employed_Yes',1)","098d3da6":"df2=df2.drop('Dependents',1)","79f93fac":"df2=df2.drop('Education_Graduate',1)","021c1141":"X=df2.drop('Loan_Status',1)","d34a5566":"Y=df2['Loan_Status']","248d56df":"from sklearn.model_selection import train_test_split","afe6c818":"x_train,x_test,y_train,y_test=train_test_split(X,Y,test_size=0.2,random_state=6)","d8f00b4c":"print('Shape of X_train is: ',x_train.shape)\nprint('Shape of X_test is: ',x_test.shape)\nprint('Shape of Y_train is: ',y_train.shape)\nprint('Shape of y_test is: ',y_test.shape)","dfb0869f":"from sklearn.linear_model import LogisticRegression\nlog=LogisticRegression()","26fcfdbd":"log.fit(x_train,y_train)","7d174a1e":"log.score(x_train,y_train)","1d1a34e0":"#Predicting trest dataset\npred=log.predict(x_test)","fca756c4":"from sklearn.metrics import accuracy_score","3a350bf3":"accuracy_score(y_test,pred)","abe0c7d0":"from sklearn import metrics","8210be02":"metrics.confusion_matrix(y_test,pred)","71da9006":"metrics.recall_score(y_test,pred)","9490aab5":"metrics.precision_score(y_test,pred)","bc3e3d3c":"metrics.f1_score(y_test,pred)","31c6cdd8":"data={'y_test':y_test,'pred':pred}\npd.DataFrame(data=data)","268651b0":"from sklearn.tree import DecisionTreeClassifier\nclf=DecisionTreeClassifier()","bc1c2efd":"clf.fit(x_train,y_train)","7827fd24":"clf.score(x_train,y_train)","afd8aad2":"pred1=clf.predict(x_test)","410d5e96":"accuracy_score(y_test,pred1)","4adb1a95":"metrics.confusion_matrix(y_test,pred1)","4bda14dd":"metrics.f1_score(y_test,pred1)","fc843952":"metrics.recall_score(y_test,pred1)","b4e0f6a4":"metrics.precision_score(y_test,pred1)","a0d869a5":"Half of the graduates who applied for loan got their loan approved.","f549323c":"Out of all married people who applied for a loan,maximum of them get their loan approved.","6ed5be06":"Here we can observe that the maximum value of ApplicantIncome and CoapplicantIncome is much higher than the 75%of the data of ApplicantIncome and CoapplicantIncome respectively.","bb9db4cc":"There are 50 missing values in the credit History. we fill those missing values by the median of Credit History.","a98116a4":"We observe there are more number of married people applying for loan than unmarried.","3ff4f248":"Continous variables are:  CoapplicantIncome, ApplicantIncome,  LoanAmount,  Loan_Amount_Term,  Credit_History.\nCategorical Variables are:   Loan_ID, Gender,  Married,  Dependents,  Eduaction,  Self_Employed,  Property_area,  Loan_Status.","60e1c2c2":"Now,the new shape of the dataset is (542,13).","d3c27cf9":"More than half of the total applying for loan are graduates.","c949927f":"Now we can see each and every variable is changed to continous variable.","fbf20bcc":"Converting dependent categorical variable to continous variable.","f18eb7ea":"We drop all other missing values in the variables.","ccf03dc7":"Confusion matrix","978ee5e3":"Changing categorical variables to continous variables.","10bd33f2":"This is a binary classification problem where we need to predict whether or not to approve a loan based on the past information of the person.","fbff4c65":"-----------------------------------------------CLASSIFICATION PROBLEM---------------------------------------------","96087127":"Out of all semiurban people who apply for a loan more than half of them got a loan.\nSo this seems to a useful feature.","6884a4cb":"Importing Important Libraries","c1cfbbb7":"**UNIVARIATE ANALYSIS**","4aead2da":"This seems to be a good accuracy score.","68a71dd0":"People who are self employed tend not to apply for loan.","06fb1fbd":"There are 22 missing values in the LoanAmount variable so we fill the missing values by the mean of all values in that variable.","e3e8b0f9":"From confusion matrix we can observe that\n* True positive value= 23\n* True negative value=1\n* False negative=16\n* False positive=69","3cc69b93":"Out of 542, there are 444 males and 98 females applying for loan.","e08759b5":"As we can observe from the above correlation matrix that the dependent variable loan_status is dependent only on Credit_History.\nSo we keep this independent variable and discard all other variables which are not related with the loan_status.","b32c2db2":"-----**DECISION TREE**------","02805af5":"Loan status is least correlated with self_employed_yes,education_graduate,dependents.","3c8af92f":"There are missing values in the following features:-             'Gender', 'Married', 'Dependents', 'Self_Employed', 'LoanAmount', 'Loan_Amount_Term', 'Credit_History'.","241efb37":"**BIVARIATE ANALYSIS**","447637f9":"Males have high chances of getting a loan.","249bff75":"Splitting train and test dataset.","15ab80dc":"There is no much difference among the locality of people applying for loan. Almost people from all areas apply for a loan.","17cb7095":"There are 614 rows and 13 columns in the Dataset.","3cf347f7":"---**LOGISTIC REGRESSION**---","2ee702ab":"From confusion matrix we can observe that\n\n* True positive value= 23\n* True negative value=1\n* False negative=16\n* False positive=69","37b02154":"Loading dataset"}}