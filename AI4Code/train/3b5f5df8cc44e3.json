{"cell_type":{"74ca69aa":"code","a4593915":"code","4bb5b663":"code","f99f5eb3":"code","5d23912e":"code","d01c3d63":"code","9f85fb92":"code","215a38d1":"code","3e5dbe3b":"code","1d01450d":"code","9e2b8ada":"code","606aa73c":"code","ff4509be":"code","2641f130":"code","c0458847":"code","8a5003ea":"code","c7a78a73":"code","b29e68eb":"code","e451f0cd":"code","f55917ce":"code","42a17c55":"code","11b74fd7":"code","5259fd18":"code","fbf3062d":"code","25ebbdb5":"code","65e4917c":"code","7218e9a0":"code","545ade84":"code","b8eba42e":"code","56fb488b":"code","2d6d62b6":"code","86b23cda":"code","6cee2148":"code","a5e53219":"code","9735c4f9":"code","4e687948":"code","b1803d55":"code","03abe933":"code","0170461f":"code","8d83bd3d":"code","cabffb6c":"code","152e6459":"code","e1c946e7":"code","3fe76889":"code","919cce85":"code","497d8269":"code","cff9a1aa":"code","4020ae8f":"code","dd474f98":"code","6bcfdfe1":"code","faabadc0":"code","99280b78":"code","edbde145":"code","d38f1337":"code","3ff781dd":"code","dca6c64d":"markdown","268c246d":"markdown","098aa8b5":"markdown","2c031da3":"markdown","a72f8c3e":"markdown","aa5120c3":"markdown","b7043cee":"markdown","d76ed2af":"markdown","696c260d":"markdown","777fe177":"markdown","78abc77f":"markdown","3b95b599":"markdown","49554271":"markdown","44f2e905":"markdown","93408b47":"markdown","95d6c108":"markdown","e01e7bfd":"markdown","6ad820f6":"markdown","c53f22a2":"markdown","412c5cc6":"markdown","a838714c":"markdown","2ce4db8c":"markdown","7c8d3d59":"markdown","ca0ad140":"markdown","040b454e":"markdown","6cf0b0a2":"markdown","56eba86e":"markdown","025f13a0":"markdown","8466c3d0":"markdown","90db08b2":"markdown","e9d53730":"markdown","2898cda7":"markdown","50afc7f7":"markdown","dc7aef42":"markdown","394c01e6":"markdown","5f21189c":"markdown","81d8ab4f":"markdown","84d65c36":"markdown"},"source":{"74ca69aa":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","a4593915":"df_match_latest=pd.read_csv('\/kaggle\/input\/global-club-soccer-ratings\/spi_matches_latest.csv')\ndf_global_ratings=pd.read_csv('\/kaggle\/input\/global-club-soccer-ratings\/spi_global_rankings.csv')\ndf_global_ratings_int=pd.read_csv('\/kaggle\/input\/global-club-soccer-ratings\/spi_global_rankings_intl.csv')\ndf_match=pd.read_csv('\/kaggle\/input\/global-club-soccer-ratings\/spi_matches.csv')","4bb5b663":"pd.set_option('display.max_columns', 50)","f99f5eb3":"df_match_latest.head()","5d23912e":"df_match_latest.info()","d01c3d63":"df_global_ratings.head()","9f85fb92":"df_global_ratings.info()","215a38d1":"df_global_ratings_int.head()","3e5dbe3b":"df_global_ratings_int.info()","1d01450d":"df_match.head()","9e2b8ada":"df_match.info()","606aa73c":"import matplotlib.pyplot as plt\nimport seaborn as sns","ff4509be":"fig, ax = plt.subplots(figsize=(20, 15))\nsns.heatmap(df_match_latest.corr(),annot=True)","2641f130":"fig, ax = plt.subplots(figsize=(20, 15))\nsns.heatmap(df_match.corr(),annot=True)","c0458847":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df_match_latest['spi1'],y=df_match_latest['spi2'],hue=df_match_latest['league'],size=df_match_latest['probtie'],data=df_match_latest,sizes=(1,500))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","8a5003ea":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df_match_latest['spi1'],y=df_match_latest['prob1'],hue=df_match_latest['league'],size=df_match_latest['proj_score1'],data=df_match_latest,sizes=(1,500))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","c7a78a73":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df_match_latest['proj_score1'],y=df_match_latest['score1'],hue=df_match_latest['league'],size=df_match_latest['importance1'],data=df_match_latest,sizes=(1,500))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","b29e68eb":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df_match_latest['proj_score1'],y=df_match_latest['score1'],hue=df_match_latest['league'],size=df_match_latest['xg1'],data=df_match_latest,sizes=(1,500))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","e451f0cd":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df_match_latest['proj_score1'],y=df_match_latest['adj_score1'],hue=df_match_latest['league'],size=df_match_latest['probtie'],data=df_match_latest,sizes=(1,500))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","f55917ce":"df_spain_match=df_match[df_match['league']=='Spanish Primera Division']\ndf_barca1=df_spain_match[df_spain_match['team1']=='Barcelona']\ndf_barca2=df_spain_match[df_spain_match['team2']=='Barcelona']\ndf_barca1=df_barca1.loc[:,['date','spi1']]\ndf_barca2=df_barca2.loc[:,['date','spi2']]\ndf_barca2= df_barca2.rename(columns={'spi2': 'spi1'})\ndf_barca=pd.concat([df_barca1,df_barca2])","42a17c55":"import datetime","11b74fd7":"df_barca['date'] = pd.to_datetime(df_barca['date'])\ndf_barca = df_barca.sort_values(['date'])\ndf_barca","5259fd18":"df_barca.plot(x='date',figsize=(20,10))","fbf3062d":"df_germany_match=df_match[df_match['league']=='German Bundesliga']\ndf_munich1=df_germany_match[df_germany_match['team1']=='Bayern Munich']\ndf_munich2=df_germany_match[df_germany_match['team2']=='Bayern Munich']\ndf_munich1=df_munich1.loc[:,['date','spi1']]\ndf_munich2=df_munich2.loc[:,['date','spi2']]\ndf_munich2= df_munich2.rename(columns={'spi2': 'spi1'})\ndf_munich=pd.concat([df_munich1,df_munich2])","25ebbdb5":"df_munich['date'] = pd.to_datetime(df_munich['date'])\ndf_munich = df_munich.sort_values(['date'])\ndf_munich","65e4917c":"df_munich.plot(x='date',figsize=(20,10))","7218e9a0":"sns.heatmap(df_global_ratings.corr(),annot=True)","545ade84":"sns.heatmap(df_global_ratings_int.corr(),annot=True)","b8eba42e":"df_global_ratings.groupby('league')['spi'].mean().sort_values(ascending=False).plot.bar(figsize=(10,5))","56fb488b":"df_global_ratings_int.groupby('confed')['spi'].mean().sort_values(ascending=False).plot.bar(figsize=(10,5))","2d6d62b6":"ax = sns.boxplot(x=\"confed\", y=\"spi\", data=df_global_ratings_int)","86b23cda":"df_global_ratings_int.groupby('confed')['rank'].mean().sort_values(ascending=False).plot.bar(figsize=(10,5))","6cee2148":"plt.figure(figsize=(10, 10))\nax = sns.boxplot(y=\"league\", x=\"spi\", data=df_global_ratings)","a5e53219":"pip install pycaret","9735c4f9":"from pycaret.clustering import *\ncountries_clust = setup(df_global_ratings_int, normalize = True,session_id = 123,silent=True)","4e687948":"kmeans = create_model('kmeans',num_clusters = 4)\nprint(kmeans)","b1803d55":"kmean_results = assign_model(kmeans)\nkmean_results.head()","03abe933":"kmean_results.groupby(['confed','Cluster'])['Cluster'].count().plot.bar()","0170461f":"kmean_results.groupby('Cluster').mean()","8d83bd3d":"plot_model(kmeans)","cabffb6c":"plot_model(kmeans, plot = 'elbow')","152e6459":"plot_model(kmeans, plot = 'silhouette')","e1c946e7":"plot_model(kmeans, plot = 'distribution', feature = 'rank')","3fe76889":"plot_model(kmeans, plot = 'distribution', feature = 'spi')","919cce85":"df_global_ratings_int['Cluster']=kmean_results['Cluster']\ndf_global_ratings_int.groupby('Cluster')['rank'].mean().plot.bar()","497d8269":"team_clust = setup(df_global_ratings, normalize = True,session_id = 123,silent=True)","cff9a1aa":"kmeans = create_model('kmeans',num_clusters = 4)\nprint(kmeans)","4020ae8f":"kmean_results = assign_model(kmeans)\nkmean_results.head()","dd474f98":"plot_model(kmeans)","6bcfdfe1":"plot_model(kmeans, plot = 'elbow')","faabadc0":"plot_model(kmeans, plot = 'silhouette')","99280b78":"plot_model(kmeans, plot = 'distribution', feature = 'rank')","edbde145":"plot_model(kmeans, plot = 'distribution', feature = 'spi')","d38f1337":"plot_model(kmeans, plot = 'distribution', feature = 'off')","3ff781dd":"plot_model(kmeans, plot = 'distribution', feature = 'def')","dca6c64d":"# 14)Boxplot of league by spi","268c246d":"# 2)-2 PCA Plot of team clusters","098aa8b5":"# 1)-6 Silhouette Analysis","2c031da3":"# 1)-9 Average rank by country clusters","a72f8c3e":"# 1)-7 Distribution by rank","aa5120c3":"# 13)Average rank of confed","b7043cee":"# 5)Scatterplot of x=proj_score1, y=score1 with league and xg1","d76ed2af":"# 3)Scatterplot of x=spi1, y=prob1 with league and proj_score1","696c260d":"# 2)-5 Distribution by rank","777fe177":"# 1)-1 Modeling","78abc77f":"# 12)Boxplot of confed by spi","3b95b599":"# 1. Data Outlines","49554271":"# 1)-4 PCA Plot of country clusters","44f2e905":"# 2. Visualization","93408b47":"# 2)-3 Elbow analysis","95d6c108":"# 4)Scatterplot of x=proj_score1, y=score1 with league and importance1","e01e7bfd":"# 2)-7 Distribution by offence","6ad820f6":"# 1)Clustering of countries","c53f22a2":"# 10)Sort the leagues by average spi","412c5cc6":"# 1)-5 Elbow analysis","a838714c":"# 9)Correlation of national rank, offence, deffence and spi","2ce4db8c":"# 1)-3 Average by country clusters","7c8d3d59":"# 2)Scatterplot of x=spi1, y=spi2 with league and probtie","ca0ad140":"# 1)-2 Country Culsters by confed","040b454e":"# 11)Sort the confed by average spi","6cf0b0a2":"# 7)-1 Barcelona","56eba86e":"# 2)-1 Modeling","025f13a0":"# 2)-4 Silhouette analysis","8466c3d0":"# 1)-8 Distribution by spi","90db08b2":"# 2)Clustering of teams","e9d53730":"# 1)Correlation between features in Match data","2898cda7":"# 2)-6 Distribution by spi","50afc7f7":"# 7)-2 Munich","dc7aef42":"# 6)Scatterplot of proj_score1, adj_score1, league and probtie","394c01e6":"# 2)-8 Distribution by deffence","5f21189c":"# 2. Clustering of Countries and Teams","81d8ab4f":"# 8)Correlation of team rank, prev_rank, offense, deffence and spi","84d65c36":"# 7)Example of spi Time Series ~ Barcelona & Munich"}}