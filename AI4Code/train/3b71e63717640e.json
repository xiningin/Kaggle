{"cell_type":{"40e05ffe":"code","b9158d93":"code","3a19aa27":"code","8d5c3d72":"code","e216cebb":"code","c518090e":"code","f16cccdb":"code","e4bb8ccb":"code","fd4e422f":"code","7de9de04":"code","15bb5950":"code","ea00e42a":"code","835c9dab":"code","9b5b6afe":"code","8d79c95d":"code","ef8b4ddb":"code","479c29d0":"code","03b477b0":"code","57fbf71f":"code","8726e0d9":"code","1e2518c5":"code","600b0611":"code","515895cb":"code","483f6565":"code","c4e5fdfa":"code","ce0e1010":"code","bb354f48":"code","ad173413":"code","f70c44e1":"code","16dea4c4":"code","71781d3f":"code","2d0730de":"code","a0906a3d":"code","254d4597":"code","e2e0b79a":"code","0341224d":"code","fb873eef":"code","b71a3f6f":"code","4d8c71e8":"code","8c788fbb":"code","948ba3c6":"code","0317c2ec":"code","e977346a":"code","5e55c7ea":"code","d5c87c67":"code","bc949947":"code","284f93a2":"code","57297e82":"code","09e3aefd":"code","e09e6e37":"code","c1ac0189":"code","5f7422d4":"code","29633ff1":"code","26a7eb79":"code","374aa7ed":"markdown","0e9f49a2":"markdown","4027e42a":"markdown","9e07765a":"markdown","f7289fc8":"markdown","af8fb44d":"markdown","82dff728":"markdown","4bf391f7":"markdown","5baa6ea6":"markdown","bf64d7ea":"markdown","2751bb69":"markdown","e48a6f23":"markdown","92b1a033":"markdown","835e6ae9":"markdown","e0599323":"markdown","6424db2e":"markdown","d6cb9f5e":"markdown","4377f15a":"markdown","a53886c6":"markdown","8c9ef5fd":"markdown","3cb411e4":"markdown","cb1a0197":"markdown","ae8d15d2":"markdown","dd3487d8":"markdown","3751b8ab":"markdown","5dbcff14":"markdown","91cc2e07":"markdown","14739f51":"markdown","5cdd6b49":"markdown","ee4c0884":"markdown","1e31f8c5":"markdown","4a147c09":"markdown","994fa2d1":"markdown","ef8849e4":"markdown","786cdaab":"markdown","e96b0361":"markdown","b458968b":"markdown","7aa3c0ac":"markdown"},"source":{"40e05ffe":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npd.set_option(\"display.max_columns\", None)\nplt.style.use(\"fivethirtyeight\")","b9158d93":"train = pd.read_csv('\/kaggle\/input\/desafio-falconi-ii\/train.csv')\ntest  = pd.read_csv('\/kaggle\/input\/desafio-falconi-ii\/test.csv')","3a19aa27":"train.head()","8d5c3d72":"train.info()","e216cebb":"train.describe()","c518090e":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='gender', hue='churn')\nplt.yticks([*range(0, 2001, 100)])\nplt.show()","f16cccdb":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='senior_citizen', hue='churn')\nplt.yticks([*range(0, 3501, 200)])\nplt.show()","e4bb8ccb":"plt.figure(figsize=(10, 6))\nsns.boxplot(data=train, x='monthly_charges', y='senior_citizen', orient='h')\nplt.xticks([*range(0, 141, 10)])\nplt.show()","fd4e422f":"# Mediana de pagamento mensal dos seniors:\ntrain[train.senior_citizen == 'Yes'].monthly_charges.median()","7de9de04":"# Mediana de pagamento mensal dos no seniors:\ntrain[train.senior_citizen == 'No'].monthly_charges.median()","15bb5950":"85 * 100 \/ 65","ea00e42a":"senior = train[train.senior_citizen == 'Yes']","835c9dab":"plt.figure(figsize=(10, 6))\nsns.boxplot(data=senior, x='monthly_charges', y='churn', orient='h')\nplt.xticks([*range(0, 141, 10)])\nplt.show()","9b5b6afe":"no_senior = train[train.senior_citizen == 'No']","8d79c95d":"plt.figure(figsize=(10, 6))\nsns.boxplot(data=no_senior, x='monthly_charges', y='churn', orient='h')\nplt.xticks([*range(0, 141, 10)])\nplt.show()","ef8b4ddb":"# Mediana de pagamento mensal dos no seniors que deram churn:\nno_senior[no_senior.churn == 1].monthly_charges.median()","479c29d0":"# Mediana de pagamento mensal dos no seniors que n\u00e3o deram churn:\nno_senior[no_senior.churn == 0].monthly_charges.median()","03b477b0":"78.375 * 100 \/ 59.45","57fbf71f":"plt.figure(figsize=(10, 6))\nsns.countplot(data=senior, x='payment_method', hue='churn')\nplt.yticks([*range(0, 251, 25)])\nplt.show()","8726e0d9":"plt.figure(figsize=(10, 6))\nsns.countplot(data=no_senior, x='payment_method', hue='churn')\nplt.yticks([*range(0, 1001, 50)])\nplt.show()","1e2518c5":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='internet_service', hue='churn')\nplt.yticks([*range(0, 1501, 100)])\nplt.show()","600b0611":"plt.figure(figsize=(10, 6))\nsns.boxplot(data=train, x='monthly_charges', y='internet_service', orient='h')\nplt.xticks([*range(0, 141, 10)])\nplt.show()","515895cb":"# Mediana de pagamento mensal dos clientes que possuem fibra \u00f3ptica:\ntrain[train.internet_service == 'Fiber optic'].monthly_charges.median()","483f6565":"# Mediana de pagamento mensal dos clientes que possuel DSL:\ntrain[train.internet_service == 'DSL'].monthly_charges.median()","c4e5fdfa":"91.55 * 100 \/ 56.2","ce0e1010":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='movies_streaming', hue='churn')\nplt.yticks([*range(0, 1601, 100)])\nplt.show()","bb354f48":"plt.figure(figsize=(10, 6))\nsns.boxplot(data=train, x='monthly_charges', y='movies_streaming', orient='h')\nplt.xticks([*range(0, 141, 10)])\nplt.show()","ad173413":"# Mediana de pagamento mensal dos clientes que possuem movie streaming:\ntrain[train.movies_streaming == 'Yes'].monthly_charges.median()","f70c44e1":"# Mediana de pagamento mensal dos clientes que n\u00e3o possuem movie streaming:\ntrain[train.movies_streaming == 'No'].monthly_charges.median()","16dea4c4":"93 * 100 \/ 69.6","71781d3f":"just_churn = train[train.churn == 1]","2d0730de":"plt.figure(figsize=(10, 8))\nsns.countplot(data=just_churn, y='churn_reason',\n              order = just_churn['churn_reason'].value_counts().index)\nplt.xticks([*range(0, 161, 10)])\nplt.show()","a0906a3d":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='contract', hue='churn')\nplt.show()","254d4597":"churn_pgto_mensal = train[train.contract == \"Month-to-month\"]\nchurn_pgto_mensal.shape","e2e0b79a":"print(f\"A taxa de churn mensal \u00e9: {(churn_pgto_mensal.churn.sum()\/churn_pgto_mensal.shape[0])*100:.2f} %\")","0341224d":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='payment_method', hue='churn')\nplt.show()","fb873eef":"churn_eletronic_check = train[train.payment_method == \"Electronic check\"]\nchurn_eletronic_check.shape","b71a3f6f":"print(f\"A taxa de churn para Eletronic Check \u00e9 de: {(churn_eletronic_check.churn.sum()\/churn_eletronic_check.shape[0])*100:.2f} %\")","4d8c71e8":"plt.figure(figsize=(10, 6))\nsns.countplot(data=train, x='tech_support', hue='churn')\nplt.show()","8c788fbb":"churn_tech_support_no = train[train.tech_support == \"No\"]\nchurn_tech_support_yes = train[train.tech_support == \"Yes\"]","948ba3c6":"print(\"Taxa de churn para clientes que n\u00e3o possuem suporte t\u00e9cnico:\")\nprint('{0:.2f}%'.format(churn_tech_support_no.churn.sum()\/churn_tech_support_no.shape[0]*100))","0317c2ec":"print(\"Taxa de churn para clientes que possuem suporte t\u00e9cnico:\")\nprint('{0:.2f}%'.format(churn_tech_support_yes.churn.sum()\/churn_tech_support_yes.shape[0]*100))","e977346a":"plt.figure(figsize=(10, 6))\nsns.boxplot(data=train,  x='monthly_charges',y='tech_support', orient='h')\nplt.xticks([*range(0, 141, 10)])\nplt.show()","5e55c7ea":"print(\"Mediana da mensalidade para os que possuem suporte:\")\nmediana_yes = train[train.tech_support == \"Yes\"].monthly_charges.median()\nprint(mediana_yes)","d5c87c67":"print(\"Mediana da mensalidade para os que n\u00e3o possuem suporte:\")\nmediana_no = train[train.tech_support == \"No\"].monthly_charges.median()\nprint(mediana_no)","bc949947":"suporte_preco = mediana_yes - mediana_no\nprint(f\"Pre\u00e7o do suporte: {round(suporte_preco, 2)}\")","284f93a2":"suporte_yes = train[train.tech_support == \"Yes\"] # Possuem suporte t\u00e9cnico\nsuporte_no = train[train.tech_support == \"No\"] # N\u00e3o possuem suporte t\u00e9cnico\n\nchurn_yes = suporte_yes[suporte_yes.churn == 1].shape[0] # Churn dos que possuem suporte\nchurn_no = suporte_no[suporte_no.churn == 1].shape[0] # Churn dos que n\u00e3o possuem suporte","57297e82":"proporcao_churn_suporte = churn_yes \/ suporte_yes.shape[0]\nprint(f\"Propor\u00e7\u00e3o de churn para os clientes que possuem suporte: {proporcao_churn_suporte * 100:.2f}%\")","09e3aefd":"# total de clientes sem suporte:\ntot_sem_suporte = suporte_no.shape[0]\ntot_sem_suporte","e09e6e37":"# Novo total de clientes, subtraindo-se a taxa de churn:\nn_clientes = int(tot_sem_suporte * (1 - proporcao_churn_suporte))\nn_clientes","c1ac0189":"# N\u00famero de clientes que foram convertidos e n\u00e3o deram churn:\nconvertidos = n_clientes - suporte_no[suporte_no.churn == 0].shape[0]\nconvertidos","5f7422d4":"faturamento_convertidos = convertidos * mediana_no\nfaturamento_convertidos","29633ff1":"round(suporte_preco * suporte_yes[suporte_yes.churn == 0].shape[0], 2)","26a7eb79":"4128.0 * 100 \/ 52683.75","374aa7ed":"Veja que o faturamento do servi\u00e7o de suporte t\u00e9cnico representa somente 7.8% do que poderia ser faturado se a taxa de churn dos clientes sem o servi\u00e7o de suporte fosse a mesma dos que assinam o servi\u00e7o.\n\nUma an\u00e1lise melhor poderia ser feita junto ao cliente para determinar, de maneira mais precisa, se oferecer o servi\u00e7o de suporte para todos os clientes, sem custo adicional, pode contribuir para a redu\u00e7\u00e3o do churn e para um aumento substancial de faturamento.","0e9f49a2":"## Seniors + No Seniors ","4027e42a":"## Tech Support","9e07765a":"* Dentre os seniors, o valor mensal pago n\u00e3o parece influenciar o churn, visto que as medianas s\u00e3o praticamente as mesmas.","f7289fc8":"* Verificamos no gr\u00e1fico acima que os clientes adeptos ao \"Eletronic check\" como forma de pagamento, s\u00e3o mais propensas ao churn.","af8fb44d":"* Para os clientes que disp\u00f5em de internet, a mediana da mensalidade dos que contrataram movies streaming \u00e9 33.6% maior que dos que n\u00e3o contrataram esse servi\u00e7o.","82dff728":"### No Senior Churn vs No Senior No Churn","4bf391f7":"### Senior Churn vs Senior No Churn","5baa6ea6":"* A mediana da mensalidade dos clientes que possuem fibra \u00f3ptica 62.9% maior que dos que possuem DSL.","bf64d7ea":"* Pagamento eletr\u00f4nico e pelo correio n\u00e3o afetam tanto os no seniors como afeta os seniors;\n* Pagamentos autom\u00e1ticos tendem a reter mais os clientes de forma geral.\n\n\nIncentivar pagamentos autom\u00e1ticos pode contribuir para a redu\u00e7\u00e3o de churn, tanto para clientes seniors como tamb\u00e9m para os no seniors.","2751bb69":"* Incentivar mais as outras formas de pagamento pode contribuir para a redu\u00e7\u00e3o do churn.","e48a6f23":"### Seniors - Payment Method","92b1a033":"S\u00f3 os clientes convertidos representam um faturamento mensal de 52683.75!","835e6ae9":"## Payment Method","e0599323":"* Clientes que possuem o servi\u00e7o internet tendem a ter maior a probabilidade de churn;\n* Dos clientes que possuem internet, os contrataram o servi\u00e7o de movies streaming tendem a ser menos propensos ao churn(discretamente).","6424db2e":"### No Seniors - Payment Method","d6cb9f5e":"### Seniors vs No Seniors","4377f15a":"## Churn Reason","a53886c6":"* Assinar o suporte t\u00e9cnico contribui para manter o cliente na base! Vamos fazer uma an\u00e1lise das medianas e modelar uma hip\u00f3tese!","8c9ef5fd":"## Internet Service ","3cb411e4":"* Atitude do funcion\u00e1rio designado ao suporte \u00e9 principal motivo de churn! Como a\u00e7\u00e3o imediata, oferecer treinamentos e buscar funcion\u00e1rios que capazes de lidar muito bem com os clientes.\n\n\n* H\u00e1 pouco vimos que ter o servi\u00e7o de internet tornava o cliente mais propenso ao churn, aqui vemos que muitos clientes sa\u00edram pois os concorrentes ofereceram uma internet mais r\u00e1pida, mais dados, melhores dispositivos e melhores ofertas! Revisar os planos de internet e verificar a concorr\u00eancia pode reduzir bastante o churn!","cb1a0197":"## Gender","ae8d15d2":"Vamos agora calcular o faturamento mensal do servi\u00e7o de suporte!","dd3487d8":"* A propor\u00e7\u00e3o de churn \u00e9 maior para os idosos! Vamos analisar melhor!","3751b8ab":"* Dentre os n\u00e3o idosos, a mediana dos que cancelaram o contrato \u00e9 31.83% maior!","5dbcff14":"* O g\u00eanero n\u00e3o parece influenciar o churn.","91cc2e07":"# EDA - START","14739f51":"Esse \u00e9 nosso dataset! Vamos analisar suas features!","5cdd6b49":"## Movies Streaming","ee4c0884":"* Poderia atingir a convers\u00e3o de 675 clientes!","1e31f8c5":"* A mediana de pagamentos mensais dos seniors \u00e9 30.77% maior que dos no seniors. Isso pode contribuir bastante para o churn ser maior nos idosos.","4a147c09":"## Contract","994fa2d1":"Hello, world!!!!\n\nVamos fazer uma An\u00e1lise Explorat\u00f3ria de Dados da base de churn do Desafio Falconi!\n\nEsse \u00e9 o momento de conhecermos os dados! \u00c9 um passo muito importante devido ao seu alto potencial de gerar insights!","ef8849e4":"A diferen\u00e7a da mediana \u00e9 muito pequena em rela\u00e7\u00e3o de quem assina ou n\u00e3o o suporte t\u00e9cnico. Vamos criar uma hip\u00f3tese baseada nas premissas:\n\n1) A diferen\u00e7a das medianas representa, aproximadamente, o custo do servi\u00e7o de suporte t\u00e9cnico;\n\n2) Se todos os clientes que n\u00e3o possuem suporte t\u00e9cnico passarem a ter, a taxa de churn do grupo que possui o servi\u00e7o se conservar\u00e1.\n\nCom isso, vamos calcular o faturamento: \n\n1) De convers\u00e3o de clientes que n\u00e3o possuem o servi\u00e7o, mantendo-se constante a taxa de churn(fixa em rela\u00e7\u00e3o aos que possuem suporte t\u00e9cnico);\n\n2) Do servi\u00e7o de suporte t\u00e9cnico.","786cdaab":"* Pagamento eletr\u00f4nico e por correio parecem contruibuir consideravelmente para churn de idosos;\n* Pagamentos autom\u00e1ticos tendem a reter mais os clientes idosos.","e96b0361":"That's all folks!\n\n-------------------------------------- END --------------------------------------","b458968b":"Conclus\u00e3o:\n\n* Internet parece influenciar no churn do cliente, principalmente se o servi\u00e7o contratado for o de Fibra \u00d3ptica.","7aa3c0ac":"* Percebe-se que os contratos mensais tendem a ter uma propor\u00e7\u00e3o maior de churn. Quase a metade dos contratos mensais s\u00e3o cancelados."}}