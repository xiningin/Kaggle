{"cell_type":{"8d37a1e5":"code","712c60bd":"code","44ad38c9":"code","6925eeef":"code","915106de":"code","676ae510":"code","ef205cd2":"code","b02da2f3":"code","7d55e264":"code","102ca8f4":"code","b3748c9e":"code","bf7ff196":"code","f6f6726d":"code","64d1bd93":"code","f8b12396":"code","f623dc7a":"code","1ee3d62e":"markdown","0505098e":"markdown","8a154891":"markdown","f6f329fb":"markdown","86951d7d":"markdown","41ce9348":"markdown"},"source":{"8d37a1e5":"#First of all lets start importing the necessary libraries.\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\n%matplotlib inline","712c60bd":"#Let's import the main data.\n\n# I chosed the officials data in 2017-2018 season. It is easier than team Box score data because, officials data set contains only the first official in the game.\n# However, teamBoxscore data set contains all of the three officials. So some data preparation is needed to gather the officials as whether they were present.\n\ndf = pd.read_csv(\"..\/input\/nba-enhanced-stats\/2017-18_officialBoxScore.csv\")","44ad38c9":"df.shape","6925eeef":"#To check whether there is any null value in officials section.\ndf[\"offFNm\"].isna().value_counts()","915106de":"df[\"offLNm\"].isna().value_counts()","676ae510":"#To make one official column.\n\ndf[\"off1\"] = df[\"offFNm\"] + \" \" + df[\"offLNm\"]","ef205cd2":"df.off1.value_counts()","b02da2f3":"# To make a list that includes all teams\nteams = df[\"teamAbbr\"].unique()","7d55e264":"teams","102ca8f4":"# I created a decicated df which only includes Boston Celtics' data\n\nBOS = df[df[\"teamAbbr\"] == \"BOS\"]  ","b3748c9e":"BOS.shape","bf7ff196":"# I made a trial to check how it looks like with only two teams.\n\ntrial = [\"BOS\",\"LAL\"]\nfor i in trial:\n    data = df[df[\"teamAbbr\"] == i]  # Creating a dedicated df for each time by using loop.\n    plt.figure(figsize = (15,15))\n    sns.countplot(x = \"off1\", data = data, hue = \"teamRslt\", palette = \"rocket\", \n                  hue_order=[\"Win\", \"Loss\"])   # For creating a countplot in seaborn module.\n    plt.xticks(rotation = 90)  # It would be quite messy if all the officials' names would be side by side :).\n    plt.tick_params(axis = \"x\", which = \"major\", labelsize = 10)  # I made some arrangement for tick labels. Especially size is the most matters here.\n    plt.xlabel(\"Name of the Official\", fontsize = 10)\n    plt.ylabel(\"Count\", fontsize = 10)\n    plt.legend(title = \"Game Result\", loc = \"upper right\")\n    plt.title(\"Official Analysis of\" + \" \" + i , fontsize = 15)\n    plt.show()","f6f6726d":"teams","64d1bd93":"for i in teams:\n    data = df[df[\"teamAbbr\"] == i]\n    plt.figure(figsize = (15,15))\n    sns.countplot(x = \"off1\", data = data, hue = \"teamRslt\", palette = \"rocket\", \n                  hue_order=[\"Win\", \"Loss\"])\n    plt.xticks(rotation = 90)\n    plt.tick_params(axis = \"x\", which = \"major\", labelsize = 10)\n    plt.xlabel(\"Name of the Official\", fontsize = 10)\n    plt.ylabel(\"Count\", fontsize = 10)\n    plt.legend(title = \"Game Result\", loc = \"upper right\")\n    plt.title(\"Official Analysis of\" + \" \" + i , fontsize = 15)\n    plt.savefig(\"Official\" + i)\n    plt.show()","f8b12396":"# Firstly, we put the dataframe which we work in,\n# Then, select the axis data whatever you want to see,\n# I didn't put anything in y section, because I want some kind of count graph.\n# hover_data is the data which you want to see when hovering the mouse on the graph.\n# hover_name is some kind of title for hover data.\n# In contrast to matplotlib, you can define labels in px.bar here. You don't need to enter another code line e.g. plt.xlabel or plt.ylabel.\n# You can apply color to any column and you can define colors for the values of that chosen column.\n\nfig = px.bar(BOS, x = \"off1\", color = \"teamRslt\", title = \"Official Analysis for BOS\",\n             hover_data = [\"teamPF\"], hover_name = \"gmDate\",\n             labels = {\"off1\": \"Officials\", \"teamRslt\": \"Results\", \"teamPF\": \"Personal Fouls\"},\n             barmode = \"group\", color_discrete_map={\"Win\" : \"lime\", \"Loss\": \"navy\"}, \n            )\nfig.show()","f623dc7a":"for i in teams : \n    data = df[df[\"teamAbbr\"] == i]  # Same loop that I used in seaborn section.\n    fig = px.bar(data, x = \"off1\", color = \"teamRslt\", title = \"Official Analysis for\" + \" \" + i,\n                hover_data = [\"teamPF\"], \n                labels = {\"off1\": \"Officials\", \"teamRslt\" : \"Results\", \"teamPF\": \"Personal Fouls\"},\n                color_discrete_map = {\"Win\": \"lime\", \"Loss\": \"red\"},\n                hover_name = \"gmDate\")\n    fig.show()","1ee3d62e":"**We have created the official analysis graph for two teams!!!!**\n\nSo, let's do it for all 30!","0505098e":"**I hope you enjoyed with practising data visualization with NBA stats.**\n**Hope it would be beneficial for you.**","8a154891":"**Here we can see the interactive count chart for Boston Celtics' game results by the officials.**\nHover the mouse on the graph and see the outputs of the code.\nYou'll see what I tried to mean.","f6f329fb":"# Data Visualization Practice with NBA data\n\nHey guys!\n\nIn this my very first notebook, I aimed to have some practice in data visaulization tools like seaborn and plotly with fun. Ofcourse with NBA stats!!\n\nI am excited that the season is about to start on Dec 22nd!!\n\nAnyway, I hope it will help for beginner friends like me for data visualization issues.\n\nHave fun!","86951d7d":"# Analysis with Plotly\n**You can make further analysis according to these graphs if you want to. **\n\nSo, we have created officials' analysis for 30 NBA team by creating graphics which analyses the win\/lose ratio as well.\n\nIt's time to create some interactive chars by using plotly library.\n\nI use plotly express which is a quite easy method for creating interactive charts. If you are not working on so much complicated analysis, I think plotly.express would be quite enough for your studies.\n\n\nLet's have a look.","41ce9348":"So! Let's create it for all of the 30 NBA teams!!"}}