{"cell_type":{"ec6f346f":"code","1e90ed1f":"code","12ad4357":"code","ad866c2e":"code","fc81e006":"code","97f66b7c":"code","277cd863":"code","9fb3faf5":"code","8ea65bac":"code","a9f51dda":"code","da659ae2":"code","18a05ef5":"code","40c4364a":"code","a0d7f2e0":"code","d430554a":"markdown","7a1ab7c4":"markdown","4229e42a":"markdown","e9bae964":"markdown","df6e8a84":"markdown","0c89e61b":"markdown","883a89c5":"markdown","5e538d69":"markdown","8daa8a67":"markdown","73da2a34":"markdown","2acf58d1":"markdown","19aabbdf":"markdown","9f5416cc":"markdown","de1e77a1":"markdown","bb58e25a":"markdown","70cf3bf7":"markdown","8b3267c7":"markdown","c69bc1e8":"markdown","d8917b33":"markdown","be2ee24e":"markdown","8f820b35":"markdown","491b908b":"markdown"},"source":{"ec6f346f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom numpy import median\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","1e90ed1f":"df = pd.read_csv(\"..\/input\/craigslist-carstrucks-data\/vehicles.csv\")\npd.options.display.max_columns = 26\ndf.head()","12ad4357":"columns=[ \"price\", \"year\", \"manufacturer\", \"model\", \"condition\", \"transmission\", \"type\", \"paint_color\", \"state\", \"lat\", \"long\"]","ad866c2e":"df = df[columns]","fc81e006":"df_year = df[(df[\"year\"]>1999) & (df[\"year\"]<2021)].copy()\ndf_year[\"year\"] = df_year[\"year\"].astype(int)\nplt.figure(figsize=(20,5))\nplt.xticks(rotation= -35)\nsns.countplot(data= df_year,x=\"year\")\nplt.show()","97f66b7c":"plt.figure(figsize=(20,5))\nplt.xticks(rotation= -35)\nsns.barplot(data= df_year,x=\"year\", y= \"price\",estimator=median)\nplt.show()","277cd863":"df_year[\"tmp\"] = 1\ndata = pd.pivot_table(df_year, index = \"manufacturer\", columns=\"year\",values=\"tmp\",aggfunc=np.sum)\ndata = data.fillna(0)\ndata.loc['others'] = data[data<200].sum()\ndata[data<200] = 0\n\nplt.figure(figsize=(15,15))\ntmp_data1 = data[2000].sort_values(ascending=False)\nplt.subplot(221)\ntmp_data1[tmp_data1>0].plot.pie(autopct=\"%.1f%%\",title=\"2000\")\nplt.axis(\"off\")\n\ntmp_data2 = data[2005].sort_values(ascending=False)\nplt.subplot(222)\ntmp_data2[tmp_data2>0].plot.pie(autopct=\"%.1f%%\",title=\"2005\")\nplt.axis(\"off\")\n\ntmp_data3 = data[2010].sort_values(ascending=False)\nplt.subplot(223)\ntmp_data3[tmp_data3>0].plot.pie(autopct=\"%.1f%%\",title=\"2010\")\nplt.axis(\"off\")\n\ntmp_data4 = data[2020].sort_values(ascending=False)\nplt.subplot(224)\ntmp_data4[tmp_data4>0].plot.pie(autopct=\"%.1f%%\",title=\"2020\")\nplt.axis(\"off\")\nplt.show()","9fb3faf5":"df_year['model'].value_counts().head(10).plot.bar(figsize=(20,6),rot=0, title=\"Top 10 models\")\nplt.show()","8ea65bac":"plt.figure(figsize=(15,4))\nsns.countplot(data=df_year,x=\"paint_color\")\nplt.show()","a9f51dda":"plt.figure(figsize=(15,4))\nsns.countplot(data=df_year, x=\"paint_color\", hue=\"condition\")\nplt.show()","da659ae2":"plt.figure(figsize=(20,15))\n\nplt.subplot(131)\ndf_year['condition'][df_year[\"paint_color\"]==\"white\"].value_counts().plot.pie(autopct='%.1f%%',title=\"White\")\nplt.axis('off')\n\nplt.subplot(132)\ndf_year['condition'][df_year[\"paint_color\"]==\"black\"].value_counts().plot.pie(autopct='%.1f%%',title=\"Black\")\nplt.axis('off')\n\n\nplt.subplot(133)\ndf_year['condition'][df_year[\"paint_color\"]==\"silver\"].value_counts().plot.pie(autopct='%.1f%%',title=\"silver\")\nplt.axis('off')\n\nplt.show()","18a05ef5":"plt.figure(figsize=(15,4))\nsns.countplot(data=df_year,x=\"type\")\nplt.show()","40c4364a":"plt.figure(figsize=(20,15))\nplt.subplot(221)\ndf_year[\"condition\"][df_year[\"type\"]=='sedan'].value_counts().plot.pie(autopct = '%.1f%%', title=\"sedan\")\nplt.axis('off')\n\nplt.subplot(222)\ndf_year[\"condition\"][df_year[\"type\"]=='SUV'].value_counts().plot.pie(autopct = '%.1f%%', title=\"SUV\")\nplt.axis('off')\n\nplt.subplot(223)\ndf_year[\"condition\"][df_year[\"type\"]=='pickup'].value_counts().plot.pie(autopct = '%.1f%%', title=\"pickup\")\nplt.axis('off')\n\nplt.subplot(224)\ndf_year[\"condition\"][df_year[\"type\"]=='truck'].value_counts().plot.pie(autopct = '%.1f%%', title=\"truck\")\nplt.axis('off')\n\nplt.show()","a0d7f2e0":"df_local = df_year[(df_year['lat']>24) & (df_year['lat']<50) & (df_year['long']>-125) & (df_year['long']<-65)]\nplt.figure(figsize=(18,10))\nplt.title('Region Compare')\nsns.scatterplot(data=df_local, x=\"long\",y=\"lat\",hue='type')\nplt.show()","d430554a":"### The most type is sedan, and next SUV pickup, truck type and then compare with condition. I predict truck type's condition is worse than other type","7a1ab7c4":"## 4.1 Best Color","4229e42a":"## 2.1 Vehicle purchase from 2000 to 2020","e9bae964":"## 1.2 Extract the requird data\n### I will use data about price, year, manufacturer, model, condition, transmission, type, paint_color, state, lat, long","df6e8a84":"## 1.1 Data loading\n### Using craigslist_car Data ","0c89e61b":"## 4.3 Car type Compare with condition\n### First, Analysis Car Type share","883a89c5":"# 2.Compare Vehicle purchase by year","5e538d69":"# 3.1 Changes in manufacturer's share by year","8daa8a67":"### We can know vehicle's price is increasing from median graph","73da2a34":"### We can know that the Craigslist_car trade share is Changing so many, Now In 2020 chevrolet is the largest manufacturer","2acf58d1":"# 5. Region Compare","19aabbdf":"## 2.2 Compare price by year","9f5416cc":"### THe best color is White, and Black,and then compare condition by color","de1e77a1":"## 4.2 Compare condition by color,\n### Many people, including me, recognize that black color is good for getting dirty. Let's compare this","bb58e25a":"### We can know that '2000 ~ 2008' Vehicle purchase increase and '2009' decrease. \n### After '2009' increase again until '2017' that is the best purchase year and then decrease Now...","70cf3bf7":"## 3.2 Favorite model comparing ( Top 10 )","8b3267c7":"# 1.Data setting","c69bc1e8":"# 3. Manufacturer's Comparing","d8917b33":"### I think, Car condition has no difference by color","be2ee24e":"# 4. Best Color and, condition's by color and type","8f820b35":"### Vehicle type also have no diffrence by region","491b908b":"## The best seller model is Ford's f-150, and then, Second is chevrolet's silverado 1500"}}