{"cell_type":{"57172b11":"code","807648cf":"code","2875f2cc":"code","dacb0709":"code","67d7020d":"code","62861c57":"code","213508e9":"code","bf362f1a":"code","13940103":"code","957ca08b":"code","f9524371":"code","080d5f73":"code","b2350e2c":"code","10f7a563":"code","3563b268":"code","a50e955e":"code","9627b582":"markdown","431292e6":"markdown","ac4e5e85":"markdown"},"source":{"57172b11":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nsns.set_style('darkgrid')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","807648cf":"data = pd.read_csv('..\/input\/forest-fires-in-brazil\/amazon.csv', encoding='latin1')\n\nprint('Number of features: %s' %data.shape[1])\nprint('Number of examples: %s' %data.shape[0])","2875f2cc":"data.head()","dacb0709":"data.info()","67d7020d":"# Dataset free from null values\n\ndata.isnull().sum()","62861c57":"# Printing unique values\n\nfor col in data[['year', 'state', 'month']]:\n    print('Unique values in column: %s' %col)\n    print(data[col].unique())\n    print('\\n')\n\nprint('Number of unique values: ')\nprint(data[['year', 'state', 'month']].nunique())","213508e9":"# Setting months to english\n\nenglish_month = ['january','feburary','march','april','may','june','july','august','september','october','november','december']\ndata_month = list(data['month'].unique())\n\nmonth_dict = dict(zip(data_month, english_month))\nmonth_dict","bf362f1a":"data.month = data['month'].map(month_dict)","13940103":"# Evaluation 1 - general values for dataset\n\nfires_number = pd.DataFrame(data['number'].describe())\nfires_number.columns = ['Fires']\nfires_number['Stats'] = fires_number.index\nfires_number.reset_index(inplace=True, drop=True)\nfires_number","957ca08b":"# Evaluation 2 - number of fires in every month in every state\n\ndata1 = pd.DataFrame(data.groupby(['month', 'state'])['number'].mean())\ndata1.head()","f9524371":"# Visualisation 1 - number of fires in years\ndata2 = pd.DataFrame(data.groupby('year')['number'].sum().reset_index())\n\nplt.figure(figsize=(15,8))\nsns.lineplot(x='year', y='number', data=data2, color='red', lw=3)\nplt.xlabel('Year')\nplt.ylabel('Number of fires')\nplt.title('Number of fres in Brazil per year', fontsize=15)\nplt.xlim(1998,2017)\nplt.xticks(np.arange(1998, 2018, 1),fontsize=12)\nplt.yticks(fontsize=12)","080d5f73":"# Visualisation 2 - fires related to states\n\ndata3 = pd.DataFrame(data.groupby('state')['number'].sum().sort_values(ascending=False).reset_index())\ndata3['state'].iloc[12] = 'Para'\nplt.figure(figsize=(15,8))\nsns.barplot(data=data3, x='state', y='number', palette='autumn')\nplt.title('Number of fires in Brazil per state', fontsize=15)\nplt.xlabel('States')\nplt.ylabel('Number of fires')\nplt.xticks(rotation=80)","b2350e2c":"# Visualisation 3 - fires per month\n\ndata4 = pd.DataFrame(data.groupby('month')['number'].sum().sort_values(ascending=False).reset_index())\n\nplt.figure(figsize=(15,8))\nsns.barplot(data=data4, x='month', y='number', palette='autumn')\nplt.title('Number of fires in Brazil per month', fontsize=15)\nplt.xlabel('Month')\nplt.ylabel('Number of fires')\nplt.xticks(rotation=80)","10f7a563":"# Visualisation 4 - number of fires in Amazonas\n\ndata5 = pd.DataFrame(data[data['state']=='Amazonas'])\ndata5 = data5.groupby('year')['number'].sum().reset_index()\n\nplt.figure(figsize=(15,8))\nsns.lineplot(x='year', y='number', data=data5, lw=3, color='red')\nplt.title('Number of fires in Amazonas', fontsize=15)\nplt.xlabel('Year')\nplt.ylabel('Number of fires')\nplt.xticks(np.arange(1997,2017,1), rotation=80)\nplt.xlim(1998,2018)","3563b268":"# Visualisation 5 - total fires in 5 top\n# Rio, Paraiba, Mato Grosso, Alagoas\n\ndf1 = pd.DataFrame(data=data[data['state'] =='Rio'])\ndf2 = pd.DataFrame(data=data[data['state'] =='Paraiba'])\ndf3 = pd.DataFrame(data=data[data['state'] =='Mato Grosso'])\ndf4 = pd.DataFrame(data=data[data['state'] =='Alagoas'])\n\nplt.figure(figsize=(15,8))\n\ndf_list = [df1, df2, df3, df4]\ndf_group = []\nfor x in df_list:\n    x.groupby('year')['number'].sum().reset_index()\n    df_group.append(x)\n\nfor x in df_group:\n    sns.lineplot(x='year', y='number', data=x, lw=1, label=x['state'].iloc[0])\n    plt.title('Fires in top 5 states', fontsize=15)\n    plt.xlabel('Year')\n    plt.ylabel('Number of fires')\n    plt.xticks(np.arange(1997,2017,1), rotation=80)\n    plt.xlim(1998,2017)\n\nplt.legend(fontsize=13)","a50e955e":"# Visualisation 6 - pivot table\n\ndata_pivot = data.pivot_table(values='number', index='year', columns='month', aggfunc=np.sum)\ndata_pivot = data_pivot.loc[:,['january', 'feburary', 'march', 'april', 'may', 'june', 'july', 'august','september', 'october', 'november', 'december']]\n\nplt.figure(figsize=(15,8))\nsns.heatmap(data_pivot, linewidths=0.05, vmax=9000, cmap='Oranges', fmt=\"1.0f\", annot=True)\nplt.title('Heatmap of number of fires in states in every month in years', fontsize=15)\nplt.xlabel('Month')\nplt.ylabel('Year')","9627b582":"1. Exploring dataset","431292e6":"2. Evaluations","ac4e5e85":"3. Visualisations"}}