{"cell_type":{"d1ccb0fc":"code","64ab77a5":"code","ae869e7c":"code","93909697":"code","c34b163c":"code","18ff9c25":"code","aa4d9509":"code","d36735b7":"code","c16785e2":"code","b137c7ae":"code","a644934b":"code","efe2b026":"code","ba2cb42c":"code","db35abc0":"code","884d9192":"code","adcc07c5":"code","6c3f210f":"code","6245b24a":"code","6d97c5c7":"code","672b2638":"code","a1474233":"code","385987e4":"code","defbcfad":"code","c6e9a559":"code","d924d119":"code","17d70eb2":"code","67dc6322":"code","2373e14c":"code","0570b7a2":"code","7f792e17":"code","64750820":"code","f280d225":"code","ca641467":"code","ae324586":"markdown","9a03191d":"markdown"},"source":{"d1ccb0fc":"from mpl_toolkits.mplot3d import Axes3D\nfrom sklearn.decomposition import PCA\nfrom sklearn.preprocessing import StandardScaler\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os \nimport pandas as pd\nimport seaborn as sns","64ab77a5":"from subprocess import check_output\nprint(check_output([\"ls\",\"..\/input\"]).decode(\"utf8\"))","ae869e7c":"df = pd.read_csv(\"..\/input\/bus-breakdown-and-delays.csv\")\nprint(df.head())","93909697":"print(df.info())","c34b163c":"for index, value in df[['School_Year','Busbreakdown_ID','Run_Type','Bus_No','Route_Number','Reason','Schools_Serviced','Occurred_On','Boro']][0:1].iterrows():\n    print(index,\" : \",value)","18ff9c25":"df.describe(include='all')","aa4d9509":"print(df.corr())\n#correlation map\nf,ax = plt.subplots(figsize=(8, 8))\nsns.heatmap(df.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)\nplt.show()","d36735b7":"df.head(8)","c16785e2":"df.columns","b137c7ae":"df.plot()","a644934b":"df.Busbreakdown_ID.plot(kind = 'line', color = 'blue',label = 'Busbreakdown_ID',linewidth=1,alpha = 0.5,grid = True,linestyle = ':')\ndf.Number_Of_Students_On_The_Bus.plot(kind = 'line', color = 'brown',label = 'Number_Of_Students_On_The_Bus',linewidth=1, alpha = 0.5,grid = True, linestyle = '-.')\nplt.legend(loc='upper right')     \nplt.xlabel('Busbreakdown ID')            \nplt.ylabel('Number Of Students On The Bus')\nplt.title('School Bus Correlation Line Plot')            \nplt.show()","efe2b026":"df.Busbreakdown_ID.plot(kind = 'hist',orientation='horizontal', cumulative=True, label='Busbreakdown_ID', bins = 10, color='blue',figsize = (12,12))\nplt.show()\ndf.Number_Of_Students_On_The_Bus.plot(kind = 'hist',orientation='horizontal', cumulative=True, label='Number_Of_Students_On_The_Bus', bins = 10, color='blue',figsize = (12,12))\nplt.show()\nplt.figure()","ba2cb42c":"print(df.keys())","db35abc0":"print(type(df))","884d9192":"# User Defined Function\ndef tuble_ex():\n    \"\"\"return defined Bus_No tuble\"\"\"\n    t = df.Bus_No\n    return t\nprint(tuble_ex())","adcc07c5":"#%%\n# lets return NY bus data csv and make one more list comprehension example\n# lets classify pokemons whether they have high or low speed. our threshold is avarage \nthreshold = sum(df.Number_Of_Students_On_The_Bus)\/len(df.Number_Of_Students_On_The_Bus)\nprint(\"threshold: \",threshold)\ndf[\"Number_Of_Students_On_The_Bus_level\"]=[\"high\" if i > threshold else \"low\" for i in df.Number_Of_Students_On_The_Bus]\ndf.loc[:10,[\"Number_Of_Students_On_The_Bus_level\",\"Number_Of_Students_On_The_Bus\"]]","6c3f210f":"print(df['Bus_Company_Name'].value_counts(dropna=False))","6245b24a":"df.plot(kind='box',color='red', vert=False, sym='r+')","6d97c5c7":"#tidy data\ndf_new = df.head()\ndf_new","672b2638":"#lets melt id_vars, value_vars\nmelted = pd.melt(frame=df_new,id_vars ='Route_Number',value_vars= ['How_Long_Delayed','Number_Of_Students_On_The_Bus'])\nmelted","a1474233":"#reverse of melting\nmelted.pivot(index='Route_Number',columns = 'variable', values ='value')","385987e4":"#concatenating data\ndf1 = df.head()\ndf2 = df.tail()\nconc_df_colm = pd.concat([df1,df2],axis =0,ignore_index=True) # axis = 0 : adds dataframes in column\nconc_df_colm","defbcfad":"df1 = df['How_Long_Delayed'].head()\ndf2 = df['Number_Of_Students_On_The_Bus'].head()\nconc_df_col = pd.concat([df1,df2],axis =1) # axis = 0 : adds dataframes in column\nconc_df_col","c6e9a559":"df.dtypes","d924d119":"df['Reason'] = df['Reason'].astype('category')\ndf.dtypes","17d70eb2":"#missing data\n\ndf[\"How_Long_Delayed\"].value_counts(dropna = False)","67dc6322":"df1=df\ndf1[\"How_Long_Delayed\"].dropna(inplace = True)","2373e14c":"assert df[\"How_Long_Delayed\"].notnull().all()  #returns nothing becuse we drop NaN values","0570b7a2":"df[\"How_Long_Delayed\"].fillna('empty',inplace = True)","7f792e17":"assert df['How_Long_Delayed'].notnull().all()","64750820":"assert df.How_Long_Delayed.dtypes == np.object","f280d225":"df1 = df['Has_Contractor_Notified_Schools'].head()\ndf2 = df['Has_Contractor_Notified_Parents'].head()\nlist_label = [\"Has_Contractor_Notified_Schools\",\"Has_Contractor_Notified_Parents\"]\nlist_col = [df1,df2]\nzipped = list(zip(list_label,list_col))\ndata_dict = dict(zipped)\ndataf = pd.DataFrame(data_dict)\ndataf","ca641467":"#add new columns\ndataf[\"Busbreakdown_ID\"] = [\"1212699\",\"1212700\",\"1212701\",\"1212703\",\"1212704\"]\ndataf[\"income\"] = 0 #broadcasting entire column\ndataf","ae324586":"## Introduction\nThis study is concerned with data science analysis of NY Bus Breakdown and Delays.","9a03191d":"## Conclusion\nThis concludes my starter analysis! \nThank you DATAI TEAM"}}