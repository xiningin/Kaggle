{"cell_type":{"271307c0":"code","73dc8ab9":"code","c474f7e3":"code","43eccec0":"code","484b5305":"code","7c496b5d":"code","00514c94":"code","bd767691":"code","1ba61753":"code","a0970021":"code","2a755df0":"code","2826abb2":"code","03943b57":"code","ec0d0c03":"code","94be88c9":"code","892d1a07":"code","ea2e5f40":"code","a8c19eaa":"code","7f8ff5dc":"code","6fd537ca":"code","dc45c76e":"code","db2558f5":"code","f1bef3c5":"code","164fe660":"code","31b54e24":"code","283ed870":"code","1f86019b":"code","aeade44c":"code","f87437a0":"code","56bf045e":"code","a1822bf2":"code","38c4843d":"code","3014194b":"code","7092b84b":"code","1aebd604":"code","7302607c":"code","55012d02":"code","5a3f7655":"code","e4989dfc":"code","955bf263":"code","1d9f9a5a":"code","af2f3b74":"code","05af39eb":"code","1d6e322c":"code","50d29f30":"code","e5a884ad":"markdown","bb755d8c":"markdown","ab14ea4a":"markdown","8379da5c":"markdown","e6b61cef":"markdown","7c4da776":"markdown","e6554869":"markdown","8ef67c61":"markdown","78831eb5":"markdown","86378ec3":"markdown","36851be3":"markdown","57487c31":"markdown","d2a406c6":"markdown","b2a14749":"markdown","4faba659":"markdown","8306565d":"markdown","26e2c1e6":"markdown","73168c30":"markdown","db3c3f9b":"markdown","21d24a92":"markdown","9a3d6cbb":"markdown","cc5ced5d":"markdown","f9bb344b":"markdown","506748b3":"markdown","d959c6c1":"markdown","621b925c":"markdown","e13cca52":"markdown","2ae61a0d":"markdown","f501d08a":"markdown","8464d635":"markdown","49a52070":"markdown"},"source":{"271307c0":"# Import needed packages\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\n\n%matplotlib inline","73dc8ab9":"# Read data (Video_Games_Sales_as_at_22_Dec_2016.csv)\ndf = pd.read_csv('..\/input\/video-game-sales-with-ratings\/Video_Games_Sales_as_at_22_Dec_2016.csv')","c474f7e3":"df.head(10)","43eccec0":"df.shape","484b5305":"df.info()","7c496b5d":"df.describe()","00514c94":"df.Platform.value_counts()","bd767691":"df.Genre.value_counts()","1ba61753":"df.Publisher.value_counts()","a0970021":"df.Developer.value_counts()","2a755df0":"df.Rating.value_counts()","2826abb2":"df.duplicated().sum()","03943b57":"df.Name.duplicated().sum()","ec0d0c03":"df.query('Name == \"Grand Theft Auto V\"')","94be88c9":"# Get a copy of the original dataframe to start the cleaning phase\ndf_clean = df.copy()","892d1a07":"df_clean.columns = map(str.lower, df_clean.columns)\ndf_clean.info()","ea2e5f40":"df_clean.user_score.value_counts()","a8c19eaa":"# Replace tbd values with None\ndf_clean.user_score.replace('tbd', None, inplace = True)","7f8ff5dc":"df_clean.user_score.value_counts()","6fd537ca":"# Now we should change the type\ndf_clean['user_score'] = df_clean['user_score'].astype(float)\ndf_clean.info()","dc45c76e":"df_clean.isna().sum()","db2558f5":"df_clean.dropna(inplace=True)","f1bef3c5":"df_clean.isna().sum()","164fe660":"# Save the clean dataframe\ndf_clean.to_csv('Video_Games_Sales_as_at_22_Dec_2016-master.csv')","31b54e24":"# Read the master master datafram\nvideo_games_df = pd.read_csv('Video_Games_Sales_as_at_22_Dec_2016-master.csv')","283ed870":"# Plot paltform dist\nplatform_counts = video_games_df.platform.value_counts()\nplatform_order = platform_counts.index\n\nmax_platform_count = platform_counts[0]\nmax_platform_prop = max_platform_count\/video_games_df.shape[0]\n\nbase_color = sb.color_palette()[0]\ntick_props = np.arange(0, max_platform_prop, 0.02)\ntick_names = ['{:0.2f}'.format(v) for v in tick_props]\n\nplt.figure(figsize=(8,6))\nsb.countplot(data = video_games_df, y = 'platform', color = base_color, order = platform_order)\nplt.xticks(tick_props * video_games_df.shape[0], tick_names)\nplt.xlabel('proportion');\nplt.title('Platform Distribution', fontsize= 18);","1f86019b":"# Plot year_of_release dist\nyear_counts = video_games_df.year_of_release.value_counts()\nyear_order = year_counts.index\nmax_year_count = year_counts[year_counts.idxmax()]\nmax_year_prop = max_year_count\/video_games_df.shape[0]\n\nbase_color = sb.color_palette()[0]\ntick_props = np.arange(0, max_year_prop, 0.02)\ntick_names = ['{:0.2f}'.format(v) for v in tick_props]\n\nplt.figure(figsize=(8,6))\nsb.countplot(data = video_games_df, y = 'year_of_release', color = base_color, order = year_order)\nplt.xticks(tick_props * video_games_df.shape[0], tick_names)\nplt.xlabel('proportion');\nplt.title('Year of Release Distribution', fontsize= 18);","aeade44c":"# Plot genre dist\ngenre_counts = video_games_df.genre.value_counts()\ngenre_order = genre_counts.index\n\nmax_genre_count = genre_counts[genre_counts.idxmax()]\nmax_genre_prop = max_genre_count\/video_games_df.shape[0]\n\nbase_color = sb.color_palette()[0]\ntick_props = np.arange(0, max_genre_prop+0.02, 0.02)\ntick_names = ['{:0.2f}'.format(v) for v in tick_props]\n\nplt.figure(figsize=(8,6))\nsb.countplot(data = video_games_df, y = 'genre', color = base_color, order = genre_order)\nplt.xticks(tick_props * video_games_df.shape[0], tick_names)\nplt.xlabel('proportion');\nplt.title('Genre Distribution', fontsize= 18);","f87437a0":"# Plot publisher dist\npublisher_counts = video_games_df.publisher.value_counts()\npublisher_order = publisher_counts.index\n\nmax_publisher_count = publisher_counts[0]\nmax_publisher_prop = max_publisher_count\/video_games_df.shape[0]\n\nbase_color = sb.color_palette()[0]\ntick_props = np.arange(0, max_publisher_prop+0.02, 0.02)\ntick_names = ['{:0.2f}'.format(v) for v in tick_props]\n\nplt.figure(figsize=(8,6))\nsb.countplot(data = video_games_df, y = 'publisher', color = base_color, order = publisher_order)\nplt.xticks(tick_props * video_games_df.shape[0], tick_names)\nplt.xlabel('proportion');\nplt.title('Publisher Distribution', fontsize= 18);\nplt.ylim(15.5,-0.5);","56bf045e":"plt.figure(figsize = [10, 10])\n# Plot na_sales\nplt.subplot(3,2,1)\nplt.title('NA_Sales', fontsize=15)\nbins = np.arange(0,video_games_df.na_sales.max())\nplt.hist(data=video_games_df, x='na_sales', bins = bins);\nplt.xlim(0,10)\n\n\n# Plot eu_sales\nplt.subplot(3,2,2)\nplt.title('EU_Sales', fontsize=15)\nbins = np.arange(0,video_games_df.eu_sales.max())\nplt.hist(data=video_games_df, x='eu_sales', bins = bins);\nplt.xlim(0,10);\n\n# Plot jp_sales\nplt.subplot(3,2,3)\nplt.title('JP_Sales', fontsize=15)\nbins = np.arange(0,video_games_df.jp_sales.max())\nplt.hist(data=video_games_df, x='jp_sales', bins = bins);\nplt.xlim(0,10);\n\n# Plot jp_sales\nplt.subplot(3,2,4)\nplt.title('Other_Sales', fontsize=15)\nbins = np.arange(0,video_games_df.other_sales.max())\nplt.hist(data=video_games_df, x='other_sales', bins = bins);\nplt.xlim(0,10);\n\n# Plot global_sales\nplt.subplot(3,2,5)\nplt.title('Global_Sales', fontsize=15)\nbins = np.arange(0,video_games_df.global_sales.max())\nplt.hist(data=video_games_df, x='global_sales', bins = bins);\nplt.xlim(0,10);\n","a1822bf2":"plt.figure(figsize = [10, 10])\n\n# Plot cirtic_score\nplt.subplot(2, 1, 1)\nplt.title('Critic Score Distribution', fontsize = 18)\nbins = np.arange(0,video_games_df.critic_score.max())\nplt.hist(data=video_games_df, x='critic_score', bins = bins);\n\n# Plot user_score\nplt.subplot(2, 1, 2)\nplt.title('User Score Distribution', fontsize = 18)\nbins = np.arange(0,video_games_df.user_score.max()+1)\nplt.hist(data=video_games_df, x='user_score', bins = bins);\n\n","38c4843d":"dev_counts = video_games_df.developer.value_counts()\ndev_order = dev_counts.index\n\nmax_dev_count = dev_counts[0]\nmax_dev_prop = max_dev_count\/video_games_df.shape[0]\n\nbase_color = sb.color_palette()[0]\ntick_props = np.arange(0, max_dev_prop+0.02, 0.2)\ntick_names = ['{:0.2f}'.format(v) for v in tick_props]\n\nplt.figure(figsize=(8,6))\nsb.countplot(data = video_games_df, y = 'developer', color = base_color, order = dev_order)\nplt.xticks(tick_props * video_games_df.shape[0], tick_names)\nplt.xlabel('proportion');\nplt.title('Developer Distribution', fontsize= 18);\nplt.ylim(25.5,-0.5);","3014194b":"rating_counts = video_games_df.rating.value_counts()\nrating_order = rating_counts.index\n\nmax_rating_count = rating_counts[0]\nmax_rating_prop = max_rating_count\/video_games_df.shape[0]\n\nbase_color = sb.color_palette()[0]\ntick_props = np.arange(0, max_rating_prop+0.1, 0.1)\ntick_names = ['{:0.2f}'.format(v) for v in tick_props]\n\nplt.figure(figsize=(8,6))\nsb.countplot(data = video_games_df, x = 'rating', color = base_color, order = rating_order)\nplt.yticks(tick_props * video_games_df.shape[0], tick_names)\nplt.ylabel('proportion');\nplt.title('Rating Distribution', fontsize= 18);\nplt.xlim(-0.5,3.5);","7092b84b":"# Scatter plot for  critic_score vs. global_sales \nsb.regplot(fit_reg=False, data=video_games_df, x='critic_score', y='global_sales', scatter_kws={'alpha':1\/5});\nplt.ylim(0,10)\nplt.title('Critic Score VS. Global_sales');","1aebd604":"# Scatter plot for  user_score vs. global_sales \nsb.regplot(fit_reg=False, data=video_games_df, x='user_score', y='global_sales', scatter_kws={'alpha':1\/5});\nplt.ylim(0,10)\nplt.title('User Score VS. Global_sales');","7302607c":"# Datframe for ratings in(T, E, M, E10+)\nratings_df = video_games_df.query('rating == \"T\" or rating == \"M\" or rating == \"E\" or rating == \"E10+\"')\n\n# Plot na_sales for each rating\ng = sb.FacetGrid(data=ratings_df, col='rating', xlim = (0,10), )\ng.map(plt.hist, 'na_sales');\nplt.subplots_adjust(top=0.8)\ng.fig.suptitle('North America Reigon Sales for Each Rating');\n","55012d02":"# Plot eu_sales for each rating\ng = sb.FacetGrid(data=ratings_df, col='rating', xlim = (0,10))\ng.map(plt.hist, 'eu_sales');\nplt.subplots_adjust(top=0.8)\ng.fig.suptitle('Europe Reigon Sales for Each Rating');","5a3f7655":"# Plot jp_sales for each rating\ng = sb.FacetGrid(data=ratings_df, col='rating', xlim = (0,10))\ng.map(plt.hist, 'jp_sales');\nplt.subplots_adjust(top=0.8)\ng.fig.suptitle('Japan Reigon Sales for Each Rating');","e4989dfc":"# Plot other regions sales for each rating\ng = sb.FacetGrid(data=ratings_df, col='rating', xlim = (0,10))\ng.map(plt.hist, 'other_sales');\nplt.subplots_adjust(top=0.8)\ng.fig.suptitle('Other Reigons Sales for Each Rating');","955bf263":"g = sb.FacetGrid(data=video_games_df, col='genre', col_wrap=4, xlim=(0,20))\ng.map(plt.hist, 'global_sales');\nplt.subplots_adjust(top=0.9)\ng.fig.suptitle('Global Sales for Each Genre');","1d9f9a5a":"# Use ratings dataframe created before\nplt.figure(figsize=(15,8))\nsb.countplot(data=ratings_df, x='genre', hue='rating');\nplt.title('Distribution for Ratings per Genre');\n","af2f3b74":"platform_df = ratings_df.query('platform == \"PS3\" or platform == \"X360\"')\nrating_sales = platform_df.groupby(['rating','platform']).global_sales.sum()\nrating_sales.unstack().plot(kind='bar', figsize=(15,8))\nplt.title('Sales For Each Platform and Rating(Previous Platform Generation)')\nplt.ylabel('sales');\nplt.xticks(rotation = 0);","05af39eb":"platform_df = ratings_df.query('platform == \"PS4\" or platform == \"XOne\"')\nrating_sales = platform_df.groupby(['rating','platform']).global_sales.sum()\nrating_sales.unstack().plot(kind='bar', figsize=(15,8))\nplt.title('Sales For Each Platform and Rating(Current Platform Generation)')\nplt.ylabel('sales');\nplt.xticks(rotation = 0);","1d6e322c":"platform_df = ratings_df.query('platform == \"PS4\" or platform == \"XOne\"')\nrating_sales = platform_df.groupby(['genre','platform']).global_sales.sum()\nrating_sales.unstack().plot(kind='bar', figsize=(15,8))\nplt.title('Sales For Each Platform and Genre(Current Platform Generation)')\nplt.ylabel('sales');\nplt.xticks(rotation = 0);","50d29f30":"heatmap_data = pd.pivot_table(ratings_df, values='global_sales', index=['genre'], columns='rating')\nplt.figure(figsize=(10,8))\nplt.title('Correlation of Sales with Genre and Rating')\nsb.heatmap(heatmap_data, cmap=\"viridis_r\", cbar_kws={'label': 'sales'});","e5a884ad":"> Sports, Action, and Racing games sell the most globally.\n\n> Puzzle, and Strategy games sell the least globally.","bb755d8c":"> 16% of the games we have in our dataset are on Play Station 2.","ab14ea4a":"> Fighiting, and Role-Playing games are mostly aimed towards teens.\n\n> Sports games are aimed towards everyone.","8379da5c":"> There is a positive relashionship between users score and global sales.\n\n> Hence, I would say that users score does have an imapact on global sales.","e6b61cef":"> All the popular genres sell more on PS4.\n","7c4da776":"### What is the structure of the dataset?","e6554869":"> These visulas shows that the competition between Xbox 360, and PS3 was close. But in the current genration PS4 dominates the market.","8ef67c61":"# Univariate Exploration","78831eb5":"> From the visuals above we can see that majority of games don't even break the 1 million milestone in sales.","86378ec3":"> There is a positive relashionship between critics score and global sales.\n\n> Hence, I would say that critics score does have an imapact on global sales.","36851be3":"> Almost 35% of the games in the dataset have the T(for teens) rating. ","57487c31":"### The format of the column names should be changed to have it all lower case.","d2a406c6":"> We have 16719 observations and 16 columns.","b2a14749":"# Reference\n\n- Dataset, Video Game Sales with Ratings, https:\/\/www.kaggle.com\/rush4ratio\/video-game-sales-with-ratings\n","4faba659":"# Video Games Sales as at 22 Dec 2016 Exploration\n\n## by Zyad Aloqayli","8306565d":"# Bivariate Exploration","26e2c1e6":"> Since the columns with high numbers of null values are important to the analysis, I think dropping the null values is the best option we have in the context of this dataset.","73168c30":"> The data analyzed icludes information about approixmetly 16,000 games with ratings, and scores. Variables include year of release, genre, publisher, sales, and paltform.","db3c3f9b":"> We can see that misc games that rated E(for everyone) sell the highest, while puzzle games that are rated M(for mature) sell the least.\n\n","21d24a92":"# Preliminary Wrangling","9a3d6cbb":"### The types all seem to be correct except for the user_score column.","cc5ced5d":"> Critic score and user score are very similar.","f9bb344b":"> The reason for this big number is that some games are relased on multiple platforms and to each, we have difrrent data.","506748b3":"> Most games have action in them.","d959c6c1":"> The dataset consists mostly of gamnes that released before 2011.","621b925c":"# Multivariate Exploration","e13cca52":"### What is\/are the main feature(s) of interest in the dataset?\n> I am intersted in finding out what makes a game more sell more, what geners are more popular in certain markets.\n\n> I also want find out if the socre of the game actully influences sales or not.","2ae61a0d":"# Cleaning","f501d08a":"> The format of the column names should be changed to have it all lower case.\n\n> The types all seem to be correct except for the user_score column.\n\n> There are missing valuse in multiple columns that should be solved.","8464d635":"### There are missing valuse in multiple columns that should be solved.","49a52070":"> From the visiuals above we can see that, Rating E(for everyone) sells the most in all regions.\n\n> The games that have an M(for mature) rating sells the most in regions other than(NA, EU, JP)\n\n> The games that have an T(for teens) rating sells the most in the NA region."}}