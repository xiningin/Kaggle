{"cell_type":{"959d22f9":"code","ec1396c0":"code","e2b9f9b2":"code","a97a18a6":"code","73b94db7":"code","f290729d":"code","b9042198":"code","d21d4312":"code","b8958f47":"code","64ed37a0":"code","76c00568":"code","7843e3f9":"code","c3d0a7ec":"code","6a37c653":"code","e85441d5":"code","e30c473d":"code","76240488":"code","055bd6c6":"code","838207c6":"code","0bfc2d15":"code","c4c987e6":"code","f17924ba":"code","983c30c0":"code","85ec2e31":"code","a7f51681":"code","798d701b":"code","96aef754":"code","1dd013b4":"code","5d167b2c":"code","fae0badc":"code","aaef6f0a":"code","8b8d27d8":"code","88753f4a":"code","a72eb050":"code","5018914c":"code","f4a6814c":"code","b52769ff":"code","52438db3":"code","55d9e3ea":"code","68626799":"code","62cba27f":"code","4dd8ae6b":"code","adfe3541":"code","c1e6a047":"markdown","352cfc43":"markdown","30351f38":"markdown","b894de49":"markdown","29936bce":"markdown","450bc254":"markdown","1f78d52b":"markdown","56503975":"markdown","4da052bc":"markdown","11598938":"markdown","a7db5321":"markdown","80ccb233":"markdown","ca6594c9":"markdown","56cae528":"markdown","c43fa1e5":"markdown","92d3ea37":"markdown","63217d7e":"markdown","ac8b8b97":"markdown","43eb29ad":"markdown","1bbf8e1e":"markdown","ab4302f2":"markdown","06d50cc4":"markdown","2f26ddc9":"markdown"},"source":{"959d22f9":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","ec1396c0":"import pandas as pd\nimport numpy  as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nsns.set_style(\"darkgrid\")","e2b9f9b2":"zomato = pd.read_csv(\"\/kaggle\/input\/zomato-bangalore-restaurants\/zomato.csv\")","a97a18a6":"zomato = pd.DataFrame(zomato)\nzomato.columns = [i.lower() for i in zomato.columns]\nprint(\"Original DataSet : \",zomato.shape)","73b94db7":"zomato.columns","f290729d":"# let's drop uncessary columns\n#url,phone,address,reviews_list,menu_item\nzomato.drop([\"url\",\"phone\",\"address\",\"reviews_list\",\"menu_item\",\"location\"],axis = 1,inplace = True)","b9042198":"#let's drop duplicate values from the dataset\nzomato = zomato.drop_duplicates()\n#after removing the duplicate's from the dataset\nzomato.shape","d21d4312":"# let's see null percentage respect to each column\nNull_Value_Percent = pd.DataFrame(zomato.isnull().sum()\/len(zomato)*100)\nNull_Value_Percent.rename(columns = {0:\"Missing Value Percent\"},inplace = True)\nNull_Value_Percent","b8958f47":"# let's drop null value records from the dataset\nzomato.dropna(how = 'any',inplace = True,axis = 0)\n# how = 'any', means remove the record if it has atleast one null value .\nzomato.shape","64ed37a0":"#let's rename some column's\nzomato.rename(columns = {'approx_cost(for two people)':\"cost\",\"listed_in(type)\":\"service_type\",\"listed_in(city)\":\"city\"},inplace = True)\nzomato.columns","76c00568":"zomato.info()","7843e3f9":"# let's convert type of cost feature in to int type\nzomato[\"cost\"] = zomato[\"cost\"].apply(lambda cost : cost.replace(\",\",\"\"))\nzomato[\"cost\"] = zomato[\"cost\"].astype(int)\n#zomato[\"cost\"].sample(10)","c3d0a7ec":"#cleaning rate column\n\n# let's remove records related to newly opened shop's\nnew_rating_index = zomato[zomato[\"rate\"]==\"NEW\"].index\nzomato.drop(new_rating_index,axis = 0,inplace = True)\nprint(\"Dataset After droping records related to newly opened shop's : \",zomato.shape)\n\n# let's remove \/5 from rating(rate) column\nzomato[\"rate\"] = zomato[\"rate\"].astype(str)\nzomato[\"rate\"] = zomato[\"rate\"].apply(lambda x : x[0:3])\nzomato[\"rate\"] = zomato[\"rate\"].astype(float)","6a37c653":"plt.rcParams['figure.figsize'] = (16,6)\ntop_ten_restaurant_types = zomato.rest_type.value_counts().head(10)\nsns.barplot(top_ten_restaurant_types.index,top_ten_restaurant_types)\nplt.title(\"Top 10 Restaurants Type's\",fontsize = 20)\nplt.xlabel(\"Restaurants Type's\",fontsize = 20)\nplt.ylabel(\"count\")","e85441d5":"top_ten_liked_dish = zomato.dish_liked.value_counts().head(10)\nsns.barplot(top_ten_liked_dish.index,top_ten_liked_dish)\nplt.title(\"Top ten liked dish's\",fontsize = 20)\nplt.xlabel(\"Dish's \",fontsize = 20)\nplt.ylabel(\"count\")","e30c473d":"food_service_type = zomato.service_type.value_counts()\nsns.barplot(food_service_type.index,food_service_type)\nplt.title(\"Food Service Type's \",fontsize = 20)","76240488":"top_five_cooking_style = zomato.cuisines.value_counts().head(5)\nsns.barplot(top_five_cooking_style.index,top_five_cooking_style)\nplt.title(\"Top Five Cooking Style's\",fontsize = 20)\nplt.xlabel(\"Cooking Style's \",fontsize = 20)\nplt.ylabel(\"count\")","055bd6c6":"# get the city\nzomato.city = zomato.city.str.split(\" \").str[0] ","838207c6":"city_rest_count = zomato.city.value_counts().head()\nsns.barplot(city_rest_count.index,city_rest_count)\nplt.title(\"City with More Number of Restaurant's\",fontsize = 20)","0bfc2d15":"sns.kdeplot(zomato[\"cost\"],shade = True)\nplt.title(\"Cost Distribution \")\nplt.xlabel(\"Cost Value's\")\nprint(\"Highest Food Ordered Cost :\",zomato[\"cost\"].max())\nprint(\"Lowest  Food Ordered Cost :\",zomato[\"cost\"].min())","c4c987e6":"avg_city_rest_rate = pd.pivot_table(zomato,index = [\"city\"],values = [\"rate\"])\navg_city_rest_rate = avg_city_rest_rate.sort_values(by = 'rate',ascending = False).head(5)\nsns.barplot(avg_city_rest_rate.index,avg_city_rest_rate[\"rate\"])\nplt.title(\"Top 5 cities with highest rated Restaurant's \",fontsize = 20)","f17924ba":"plt.rcParams['figure.figsize'] = (8,4)\ntop_rest_in_chruch_road = zomato[zomato[\"city\"] == \"Church\"].sort_values(by = \"rate\",ascending = False).head(5)\nsns.barplot(top_rest_in_chruch_road.name,top_rest_in_chruch_road.rate)\nplt.title(\"Best Restaurant's in Chruch Road\")\nplt.rcParams['figure.figsize'] = (8,4)","983c30c0":"top_rest_in_Residency = zomato[zomato[\"city\"] == \"Residency\"].sort_values(by = \"rate\",ascending = False).head(5)\nsns.barplot(top_rest_in_Residency.name,top_rest_in_Residency.rate)\nplt.title(\"Best Restaurant's in Residency Road\")","85ec2e31":"top_rest_in_Brigade = zomato[zomato[\"city\"] == \"Brigade\"].sort_values(by = \"rate\",ascending = False).head(5)\nsns.barplot(top_rest_in_Brigade.name,top_rest_in_Brigade.rate)\nplt.title(\"Best Restaurant's in Brigade Road\")","a7f51681":"top_rest_in_MG = zomato[zomato[\"city\"] == \"MG\"].sort_values(by = \"rate\",ascending = False).head(5)\nsns.barplot(top_rest_in_MG.name,top_rest_in_MG.rate)\nplt.title(\"Best Restaurant's in MG Road\")","798d701b":"food_with_highest_price = zomato[[\"dish_liked\",\"cost\"]]\nfood_with_highest_price = food_with_highest_price.drop_duplicates().sort_values(by = \"cost\",ascending = False ).head(5)\nfood_with_highest_price","96aef754":"order_type = zomato.online_order.value_counts()\nplt.pie(order_type,labels = order_type.index,autopct='%1.1f%%', shadow=True)\nplt.show()","1dd013b4":"rest_with_highest_votes = zomato[[\"name\",\"votes\"]].drop_duplicates().sort_values(by=\"votes\",ascending = False).head(5)\nsns.barplot(rest_with_highest_votes.name,rest_with_highest_votes.votes)\nplt.title(\"Top 3 Restaurant's of Banglore \")\nplt.xlabel(\"Top Voted Restaurant's\")\nplt.ylabel(\"Number of Votes \")","5d167b2c":"sns.jointplot(zomato[\"votes\"],zomato[\"cost\"])","fae0badc":"# eg : let's find best restuarant under given criteria for eating \n# Paneer Peri Peri, Pancakes, Fajitas, Sweet Crepe, Peri Peri Chicken, Chicken Breast, Nutella Crepe","aaef6f0a":"#assume restaurant's with greater than 4.5 ratings are best one\nhigh_rated_rest = zomato[zomato[\"rate\"]>4.5]","8b8d27d8":"#assume any one most_liked_dished and compare the result's in order to find cheapest with better quailty\n#high_rated_rest.dish_liked.value_counts() #uncomment this to know better\nhigh_rated_cheapprice_rest = high_rated_rest[high_rated_rest[\"dish_liked\"]==\"Paneer Peri Peri, Pancakes, Fajitas, Sweet Crepe, Peri Peri Chicken, Chicken Breast, Nutella Crepe\"]","88753f4a":"# consider Restaurant with Highest vote's \n# assume restaurant's with votes greater than 700 are all good once's,\nhigh_rated_cheapprice_highvotes_rest = high_rated_cheapprice_rest[high_rated_cheapprice_rest[\"votes\"]>700]\nbest_restuarant = high_rated_cheapprice_highvotes_rest[\"cost\"].min()\nhigh_rated_cheapprice_highvotes_rest[high_rated_cheapprice_highvotes_rest[\"cost\"]==best_restuarant].iloc[:,:]\n\n# below are the best restaurant's for eating ,\n# Paneer Peri Peri, Pancakes, Fajitas, Sweet Crepe, Peri Peri Chicken, Chicken Breast, Nutella Crepe","a72eb050":"sns.heatmap(zomato.corr(),annot = True)\n# feature's are highly correlated","5018914c":"def get_num_for_cat(zomato):\n    for column in zomato.columns[~zomato.columns.isin(['rate', 'cost', 'votes'])]:\n        zomato[column] = zomato[column].factorize()[0]\n    return zomato\n\nz_fact = get_num_for_cat(zomato.copy())","f4a6814c":"import numpy as np\nfrom sklearn.model_selection import train_test_split\nx = z_fact.loc[:,z_fact.columns!=\"rate\"]\ny = np.array(z_fact.loc[:,\"rate\"])","b52769ff":"from sklearn.linear_model import LinearRegression\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import r2_score","52438db3":"xtrain,xtest,ytrain,ytest=train_test_split(x,y,test_size=.3,random_state=1)","55d9e3ea":"len(xtest)","68626799":"lr_model =LinearRegression()\nlr_model.fit(xtrain,ytrain)\nypred=lr_model.predict(xtest)","62cba27f":"print(\"r2_score for Linear Reg model : \",r2_score(ytest,ypred))   \nr2 = r2_score(ytest,ypred)\nk = xtest.shape[1]\nn = len(xtest)\nadjusted_r2 = 1 - (((1-r2)*(n- 1))\/(n - k - 1)) \nprint(\"adjusted_r2_score for Linear Reg model : \",adjusted_r2)","4dd8ae6b":"rf_model = RandomForestRegressor(n_estimators=200,min_samples_split=20,random_state=43)\nrf_model.fit(xtrain,ytrain)\nypred = rf_model.predict(xtest)\n","adfe3541":"print(\"r2_score for RandomForestRegressor model : \",r2_score(ytest,ypred))   \nr2 = r2_score(ytest,ypred)\nk = xtest.shape[1]\nn = len(xtest)\nadjusted_r2 = 1 - (((1-r2)*(n- 1))\/(n - k - 1)) \nprint(\"adjusted_r2_score for RandomForestRegressor model : \",adjusted_r2)","c1e6a047":"## let's see the correlation between the features","352cfc43":"## 6.is there any relationship between (votes v\/s cost) ?\ninsight : There is no relationship (votes v\/s cost)","30351f38":"## 3.Top 5 Food price's ","b894de49":"## 4.Top Five Cooking Style's Preferred By Restaurant's  ( cuisines )\ninsight : North indian  (cuisines) cooking style is Prefferred By Most of the Restaurant's .","29936bce":"Breakdown of this notebook:\nLoading the dataset: Load the data and import the libraries.\n\nData Cleaning:\n1. Dropping Uncessary col's.\n2. Dropping duplicates.\n3. Checking Missing Value Percent with respect to each column.\n4. Dropping row's on having atleast one null value.\n5. Reanaming Column's\n7. Feature Transfomation \n---------------------\nData Visualization : \n1. Univariate analysis.\n2. Bivariate  analysis.\n-------------------\nRegression Analysis\n1. Linear Regression.\n2. Random Forest Regression.\n-------------\nRegression metrics Used \n1. r_squared value.\n2. adjusted_r_squared value.\n","450bc254":"## 1. what is the  average rating given to the  Restaurant's in a Particular City (top 5  cities with highest rated Restaurant's ) \ninsight : Restaurant's present in Chruch Road Location rated highest comapred to others,","1f78d52b":"## 6.  Let's see the Distribution Of Cost Column \ninsight : Most of the Food Ordered Cost's is in between the range of 1 to 1000","56503975":"## Let's Explore","4da052bc":"# Linear Regression Model","11598938":"## 7.let's find best  restaurants\nThe criteria must be: \n1.cheapest,\n2.highly rated,\n3.reliable(large number of votes) options","a7db5321":"## 1. top 10 Restaurants Type's\n insight : Most of the  restaurant's offering Casual Dinning Service.","80ccb233":"## 4.What type of Order's do Most of Restaurant's Get (offline v\/s online )\ninsight  : Most of Restaurant's Get online order's ","ca6594c9":"## 5. Restaurant with Highest Votes\n","56cae528":"## This Dataset is related to Zomato Bangalore Restaurant's","c43fa1e5":"# Let's Preprocess Our Feature's","92d3ea37":"## 3.Which Food Service Type is  Preferred  by Most Of the Restaurant ?\ninsight : Most of the Restaurant's prefer's \"Delivery\" and \"Dine-out\" as thier Service \"","63217d7e":"## RandomForestRegressor","ac8b8b97":"Thank You :) ,Please Upvote if you find this kernel helpful ,and i am happy to get any kind of suggestions and concern's related my work .","43eb29ad":"## 2. Top 10 liked dish's \ninsight : Biryani is the Most Liked food among all,","1bbf8e1e":"## 2. Best Restaurant's in best  Cities (top 5  cities with highest rated Restaurant's )","ab4302f2":"# univariate analysis","06d50cc4":"## 5.Which City Got More Number of Restaurant's ? (top 5)\ninsight : Koramangala got more Number of Restaurant's ","2f26ddc9":"# Bivariate Analysis"}}