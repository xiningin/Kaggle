{"cell_type":{"34d37da3":"code","c7ee9071":"code","a7baf956":"code","bf54cdf6":"code","b31666bb":"code","d76621e2":"code","0f949e39":"code","f56be9f3":"code","9b51bf1a":"code","8d0f4895":"code","fd1df134":"code","7ed8e85b":"code","41f78008":"code","c498a802":"code","299de0b8":"code","f85bcbe3":"markdown","2a53d77f":"markdown","46e4c13c":"markdown","94438f6b":"markdown"},"source":{"34d37da3":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c7ee9071":"#Installing the required package\npip install texthero","a7baf956":"#If you have already installed it and want to upgrade to the last version type\n#pip install texthero -U","bf54cdf6":"import texthero as hero\nimport pandas as pd\nimport csv\nimport matplotlib as plt","b31666bb":"#Importing only the Product Name and the textual reviews of the customer into the Dataframe for Text Mining\ndf = pd.read_csv('\/kaggle\/input\/consumer-reviews-of-amazon-products\/Datafiniti_Amazon_Consumer_Reviews_of_Amazon_Products.csv')\n\ndf['Product']=df['name']\ndf['Review']=df['reviews.text']\n\ndf=df[['Product','Review']]","d76621e2":"df.head(5)","0f949e39":"#Step 1: Cleaning the textual reviews with hero.clean\ndf['clean_text'] = hero.clean(df['Review'])","f56be9f3":"#Step 2: This step performs the same cleaning as Step 1. However, it takes into account only certain pre-processing cleaning steps as indicated \"custom\"\nfrom texthero import preprocessing\n\ncustom       = [preprocessing.fillna,\n                   preprocessing.lowercase,\n                   preprocessing.remove_whitespace,\n                   preprocessing.remove_digits,\n                   preprocessing.remove_punctuation,\n                   preprocessing.remove_diacritics,\n                   preprocessing.remove_stopwords,\n                   preprocessing.stem]\ndf['clean_text'] = hero.clean(df['Review'])","9b51bf1a":"#Step 3: Adding Term Frequency vector and PCA values into the data\ndf['tfidf_clean_text'] = hero.tfidf(df['clean_text'])\ndf['pca_tfidf_clean_text'] = hero.pca(df['tfidf_clean_text'])","8d0f4895":"#Step 4: This step peforms the same function as Step1 and Step 3 combined together with the help of pipe function in pandas\ndf['pca'] = (\n    \n            df['clean_text']\n            .pipe(hero.clean)\n            .pipe(hero.tfidf)\n            .pipe(hero.pca)\n   )","fd1df134":"df.head()","7ed8e85b":"#Scatter plot of PCA vector values\nhero.scatterplot(df, col='pca', color='Product', title=\"PCA Amazon Product Reviews\")","41f78008":"#Pulling the top words by product\nNUM_TOP_WORDS = 10\ndf.groupby('Product')['clean_text'].apply(lambda x: hero.top_words(x)[:NUM_TOP_WORDS])\n\n#If you take the first product, All-New Fire HD 8 Tablet- you can see that customers feel great about the product and its easy to use","c498a802":"#Plot 2: Plotting K-means\n#pipe is the Pandas function used when chaining together functions\n\ndf['tfidf2'] = (\n    df['Review']\n    .pipe(hero.clean)\n    .pipe(hero.tfidf)\n)\ndf['kmeans_labels'] = (\n    df['tfidf2']\n    .pipe(hero.kmeans, n_clusters=5) #Defining 5 clusters (Forcing the algorithm to use only 5 clusters)\n    .astype(str)\n)\ndf['pca_k'] = df['tfidf2'].pipe(hero.pca)\nhero.scatterplot(df, 'pca_k', color='kmeans_labels', title=\"K-means Plot for Amazon Customer Reviews\")","299de0b8":"#TextHero library we used is still in beta version and future release is expected to come with more features\n#With just few lines of code, TextHero made is easier to analyze the data, group them into clusters and get insights from the data","f85bcbe3":"![k%20means.PNG](attachment:k%20means.PNG)","2a53d77f":"![Texthero.png](attachment:Texthero.png)","46e4c13c":"![rep.PNG](attachment:rep.PNG)","94438f6b":"![PCA.PNG](attachment:PCA.PNG)"}}