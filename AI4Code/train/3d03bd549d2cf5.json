{"cell_type":{"b256a100":"code","5269a0a2":"code","e988a703":"code","8c67ba37":"code","2cc9617f":"code","7de4c8e7":"code","b14468cf":"code","0393a0c4":"code","d7f367d6":"code","4ad4a2ad":"code","beee381b":"code","a2b874e7":"code","f4812ed6":"code","8fc6b6c9":"code","f031be5d":"code","dba7b7ba":"code","f9d8bfb3":"code","8ca00e4f":"code","3218e1b4":"code","78a559b1":"code","806bcb1c":"markdown","31dc7de7":"markdown","c0e45b40":"markdown","4d9d0749":"markdown","43785937":"markdown","eeea4e27":"markdown"},"source":{"b256a100":"# packages\nimport numpy as np\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns","5269a0a2":"df = pd.read_csv('..\/input\/co2-ghg-emissionsdata\/co2_emission.csv')\ndf.head()","e988a703":"# change column name\ndf = df.rename(columns={\"Annual CO\u2082 emissions (tonnes )\": \"Emission\"}, errors=\"raise\")","8c67ba37":"df.describe(include='all')","2cc9617f":"# clean negative emission values\ndf.Emission[df.Emission<0] = 0","7de4c8e7":"df.Emission.describe()","b14468cf":"# add log10 of emissions as additional column\ndf['EmissionLog10'] = np.log10(df.Emission+0.01) # minor correction to avoid undefined log(0) issue","0393a0c4":"# world wide view\ndf_world = df[df.Entity=='World']","d7f367d6":"# plot worldwide development\nplt.plot(df_world.Year, df_world.Emission)\nplt.xlabel('Year')\nplt.ylabel('Annual CO2 Emission in tons')\nplt.title('World')\nplt.grid()\nplt.show()","4ad4a2ad":"# look only at years from 1900\nplt.plot(df_world.Year, df_world.Emission)\nplt.xlim(1900,2017)\nplt.xlabel('Year')\nplt.ylabel('Annual CO2 Emission in tons')\nplt.title('World')\nplt.grid()\nplt.show()","beee381b":"# plot (full) development in log scale\nplt.plot(df_world.Year, df_world.EmissionLog10)\nplt.xlabel('Year')\nplt.ylabel('log10(Annual CO2 Emission in tons)')\nplt.title('World')\nplt.grid()\nplt.show()","a2b874e7":"# select most recent year\ndf_2017 = df[df.Year==2017]\n# sort by emission\ndf_2017 = df_2017.sort_values(by='Emission', ascending=False)\n# remove aggregations, keep only states\ndf_2017 = df_2017[df_2017.Entity!='World']\ndf_2017 = df_2017[~pd.isna(df_2017.Code)]\n# reset index\ndf_2017.reset_index(inplace=True, drop=True)","f4812ed6":"sum_2017 = df_2017.Emission.sum()\nprint('Total 2017 [million t]: ', np.round(sum_2017\/1e6,2))","8fc6b6c9":"# add percentage\ndf_2017['Percentage'] = 100*(df_2017.Emission \/ sum_2017)\n# and show data frame\ndf_2017","f031be5d":"# plot top 20 countries\nn_show = 20\nfig = plt.figure(figsize=(12,5)) # need bigger plot area!\nsns.barplot(df_2017.Entity[0:n_show], df_2017[0:n_show].Emission)\nplt.xticks(rotation=90)\nplt.title('Top 20 emissions in year 2017')\nplt.grid()\nplt.show()","dba7b7ba":"# extract top 10 countries of 2017 from complete data frame\ntop10 = list(df_2017.Entity[0:10])\ndf_top10 = df[(df.Entity.isin(top10))]\ndf_top10","f9d8bfb3":"fig = plt.figure(figsize=(12,5)) # need bigger plot area!\nsns.lineplot(x='Year', y='Emission', hue='Entity', data=df_top10)\nplt.title('Historical development for top 10 countries [in 2017]')\nplt.grid()\nplt.show()","8ca00e4f":"# restrict to years from 1900\nfig = plt.figure(figsize=(12,5)) # need bigger plot area!\nsns.lineplot(x='Year', y='Emission', hue='Entity', data=df_top10[df_top10.Year>1900])\nplt.title('Historical development for top 10 countries [in 2017]')\nplt.grid()\nplt.show()","3218e1b4":"# plot using log scale\nfig= plt.figure(figsize=(12,5)) # need larger plot area!\nsns.lineplot(x='Year', y='EmissionLog10', hue='Entity', data=df_top10[df_top10.Year>1900])\nplt.title('Historical development for top 10 countries [in 2017]')\nplt.grid()\nplt.show()","78a559b1":"# change y-range\nfig= plt.figure(figsize=(12,5)) # need larger plot area!\nsns.lineplot(x='Year', y='EmissionLog10', hue='Entity', data=df_top10[df_top10.Year>1900])\nplt.ylim(5,11)\nplt.title('Historical development for top 10 countries [in 2017]')\nplt.grid()\nplt.show()","806bcb1c":"# Development worldwide","31dc7de7":"# Development of top 10 countries","c0e45b40":"# Exploration of historical carbon dioxide emission data from 1751 to 2017","4d9d0749":"### Almost linear development on log scale => exponential growth","43785937":"# Look at most recent year","eeea4e27":"# Preparations"}}