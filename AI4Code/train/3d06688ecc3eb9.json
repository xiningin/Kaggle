{"cell_type":{"557039cb":"code","9a66f527":"code","fb674a89":"code","55a119de":"code","97283443":"code","aca18f8f":"code","5b6587fb":"code","82279162":"code","280098f5":"code","7e1ba991":"code","665b2637":"code","83f8fd9e":"code","16c82f83":"code","0f4ebede":"code","17682520":"code","6de426bf":"code","8dc14093":"code","b15537ef":"code","17a4ddbb":"code","aac75aad":"code","c8a3cb59":"code","9bb229b4":"code","bf321a47":"code","25271081":"code","c72ec460":"code","c812a1e8":"code","c196b726":"code","a71437f7":"code","5efd8536":"code","4fbef9a6":"code","fde6a665":"code","d3cf666b":"code","59d22dc4":"code","96676037":"code","031e47f5":"code","c5ee922b":"code","07a54b2a":"code","0266f47e":"code","4c7c8c36":"code","a8e7435a":"code","b1273632":"code","578a3748":"markdown","4f298226":"markdown","549b5ca6":"markdown","90b03939":"markdown","b9d413a9":"markdown","50362c15":"markdown","e6ff9a37":"markdown","b1fe3610":"markdown","29fdc024":"markdown","3c9d0378":"markdown","ff93c6be":"markdown","907f7857":"markdown","45c677fc":"markdown","ed523f0a":"markdown","4a8b691e":"markdown","8cc352bb":"markdown","0ac19bf4":"markdown","b7102243":"markdown","efe3d582":"markdown","e04c110f":"markdown","c7fad785":"markdown","184086cd":"markdown","bb73798c":"markdown","c71946be":"markdown","114c84dd":"markdown","9d1148c0":"markdown","f4c549d9":"markdown","b3a14466":"markdown","295d771c":"markdown"},"source":{"557039cb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9a66f527":"import matplotlib.pyplot as plt\nimport pandas as pd\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.model_selection import KFold\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.metrics import accuracy_score, confusion_matrix, classification_report\nimport plotly.express as px\nfrom sklearn import svm\nfrom sklearn.ensemble import RandomForestClassifier\nfrom lightgbm import LGBMClassifier\nfrom xgboost import XGBClassifier\nfrom sklearn.linear_model import Perceptron,SGDClassifier\nfrom sklearn.ensemble import AdaBoostClassifier\nfrom catboost import CatBoostClassifier\nfrom sklearn.ensemble import GradientBoostingClassifier\nimport xgboost as xgb\nfrom imblearn.over_sampling import SMOTE","fb674a89":"df=pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_train.csv')\ntest=pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_train.csv')","55a119de":"df.head()","97283443":"df.drop(['enrollee_id','city'],axis=1, inplace=True)","aca18f8f":"df.info()","5b6587fb":"df.describe()","82279162":"df.shape,test.shape","280098f5":"df.nunique()","7e1ba991":"df.columns","665b2637":"df['education_level'].unique()","83f8fd9e":"df.isnull().sum()","16c82f83":"df.drop_duplicates(inplace=True)","0f4ebede":"df.shape","17682520":"df.groupby('gender')['target'].value_counts()","6de426bf":"px.pie(data_frame=df,names = 'target',title='Visualising Targets')","8dc14093":"sns.countplot(data=df,x=df.target)","b15537ef":"px.histogram(data_frame=df,x=df.gender,color='target')","17a4ddbb":"px.histogram(data_frame=df,x=df.relevent_experience,color='target')","aac75aad":"plt.pie(data=df,x=df.relevent_experience.value_counts(),labels=['Has relevent experience','No relevent experience'],shadow=True,\n       autopct='%1.1f%%');","c8a3cb59":"px.histogram(data_frame=df,x=df.enrolled_university,color_discrete_sequence=['indianred'])","9bb229b4":"px.histogram(data_frame=df,x=df.education_level,color=df.relevent_experience)","bf321a47":"corelation = df.corr()","25271081":"sns.heatmap(corelation, xticklabels=corelation.columns, yticklabels=corelation.columns,annot=True)","c72ec460":"px.histogram(data_frame=df,x=df.experience,color='target')","c812a1e8":"px.histogram(data_frame=df,x=df.company_type)","c196b726":"px.histogram(data_frame=df,x=df.company_size)","a71437f7":"px.histogram(data_frame=df,x=df.major_discipline)","5efd8536":"sns.distplot(df.training_hours);","4fbef9a6":"px.box(data_frame=df,x=df.training_hours,orientation='h')","fde6a665":"target_count = df.target.value_counts()\nprint('Not looking for job change:', target_count[0])\nprint('Looking for a job change:', target_count[1])\ndf.target.value_counts().plot(kind='bar', title='Count (target)')","d3cf666b":"df = pd.get_dummies(df,columns=['gender','relevent_experience','enrolled_university','experience','education_level','last_new_job','major_discipline','company_type','company_size'],drop_first=True)","59d22dc4":"test = pd.get_dummies(test,columns=['gender','relevent_experience','enrolled_university','experience','education_level','last_new_job','major_discipline','company_type','company_size'],drop_first=True)","96676037":"import imblearn\nx = np.concatenate([df.drop('target', axis=1).values], axis=1)\ny = df['target'].values","031e47f5":"X = df.drop('target',axis=1)\nY = df['target']\nX_train,X_test,Y_train,Y_test = train_test_split(X,Y,test_size=0.2,random_state=42,stratify = df.target)","c5ee922b":"X_train.shape,X_test.shape,Y_train.shape,Y_test.shape","07a54b2a":"df.dropna(inplace=True,axis=0)","0266f47e":"rf = RandomForestClassifier(n_estimators=300)\nrf.fit(X_train,Y_train)\npred_rf = rf.predict(X_test)\naccuracy_score(Y_test,pred_rf)","4c7c8c36":"sgd = SGDClassifier()\nsgd.fit(X_train,Y_train)\npred_sgd = sgd.predict(X_test)\naccuracy_score(Y_test,pred_sgd)","a8e7435a":"lgb = LGBMClassifier(subsample_freq = 2, objective =\"binary\",importance_type = \"gain\",\n                                             verbosity = -1, max_bin = 60,num_leaves = 300,\n                                             boosting_type = 'dart',learning_rate=0.15, \n                                             n_estimators=494, max_depth=5, scale_pos_weight=2.5)\nlgb.fit(X_train,Y_train)\npred_lgb = lgb.predict(X_test)\naccuracy_score(Y_test,pred_lgb)","b1273632":"cat = CatBoostClassifier(learning_rate=0.15, n_estimators=494, subsample=0.085, \n                                                 max_depth=5, scale_pos_weight=2.5)\ncat.fit(X_train,Y_train)\npred_cat = cat.predict(X_test)\naccuracy_score(Y_test,pred_cat)","578a3748":"**From the Above Two Plots we can conclude that data is imbalanced and there are approx 75% number of employees who are not looking for a job change.**","4f298226":"#### **Random Forest Classifier**","549b5ca6":"**Importing the Dataset**","90b03939":"**The number of candidates who desire to change jobs is 4777 and those who don't want to change jobs is 14381. Data is not balanced**","b9d413a9":"#### **SGDClassifier**","50362c15":"**Accuracy rates among the different models is the highest for LGBMC classifier at 78.7%**","e6ff9a37":"##### **Analysing Target on the Bases of Gender**","b1fe3610":"#### **Splitting the dataset**","29fdc024":"**We can say that the company is gender biased as there are more number of Males as compared to other genders.This plot also tell us that there is a high percentage of males who are more for Not Looking for a Job Change**","3c9d0378":"#### **LGBMC Classifier**","ff93c6be":"## **Model Building**","907f7857":"### **CatBoost Classifier**","45c677fc":"**There are more number of Graduates with Relevent Experience and we can say that Company doesn't gives more Chance to Freshers.**","ed523f0a":"**Vieiwng Training Dataset**","4a8b691e":"**From the histogram we can see that more people from cities with low develompent index are looking for a job change which implies the non metro tier is facing job unsatisfaction.**","8cc352bb":"**Training Hour Column is Right Skwed and have Outliers.**","0ac19bf4":"**The plot gives us a training hour distribution**","b7102243":"## **HR Analytics- Machine Learning Assignment**","efe3d582":"**Above heat map shows correlation between every two columns.The correlation between Target and city_developmemt_index is -0.34 which means people with more experience are located in more developed cities.**","e04c110f":"The are more Number of Males who are not Looking for Job Change.","c7fad785":"**The number of private limited companies is the highest ******","184086cd":"**The major discipline is STEM followed by Humanities which implies people from mid and high development index are more looking for jobs**","bb73798c":"### **Data Visualization**","c71946be":"**The company size of (50-99) has the highest employee count of over 3000,followed by the size of (100-500)**","114c84dd":"## **Divya Kakroo  20020845008**","9d1148c0":"**Now there is no missing values in training and test dataset**","f4c549d9":"**72% of employees have relevent experience and around 11k employees are not looking for job change.","b3a14466":"****","295d771c":"### **Model Building**"}}