{"cell_type":{"c980abd2":"code","0b1535fc":"code","16bb2631":"code","604631b8":"code","13962234":"code","c1dd6a56":"code","b8eb62b6":"code","799b0297":"code","bde77b64":"code","46fa8740":"code","e5b74b2b":"code","e26582ba":"code","80138bc8":"code","3a373278":"code","b1189670":"code","235b500d":"code","b7b364e3":"code","b473eee4":"code","87f8be5c":"code","3ddf7fdc":"code","4e26f523":"code","b544b42f":"code","411da23c":"code","051b6ea5":"markdown","50450953":"markdown","d2b97f7e":"markdown","a2e7b45a":"markdown","93b55524":"markdown","c0ad952d":"markdown","4a93bad0":"markdown","65a1835f":"markdown","a69dcc1a":"markdown"},"source":{"c980abd2":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","0b1535fc":"df=pd.read_csv('..\/input\/character-deaths.csv')","16bb2631":"df.head()","604631b8":"df.tail()","13962234":"df.shape","c1dd6a56":"df.describe()","b8eb62b6":"df.isnull().any()","799b0297":"df[\"Dead\"]=df[\"Death Year\"].map({np.nan:0,np.float:1})\ndf[\"Dead\"].fillna(1,inplace=True)","bde77b64":"df","46fa8740":"df[\"No of Books\"]=df[\"GoT\"]+df[\"CoK\"]+df[\"SoS\"]+df[\"FfC\"]+df[\"DwD\"]\ndf.drop(labels=[\"GoT\",\"CoK\",\"SoS\",\"FfC\",\"DwD\"],axis=1)","e5b74b2b":"df[\"Allegiances\"].unique()","e26582ba":"def house(x):\n    if x in ['None',\"Wildling\",\"Night's Watch\"]:\n        return x\n    elif \"House\" not in x:\n        return \"House \"+str(x)\n    else:\n        return x","80138bc8":"df[\"Allegiances\"]=df[\"Allegiances\"].apply(house)\ndf[\"Allegiances\"].unique()","3a373278":"df2=df[[\"Dead\",\"Allegiances\"]].groupby(by=\"Allegiances\",as_index=False).mean().sort_values(by=\"Dead\",ascending=True)\ndf2","b1189670":"fig,ax=plt.subplots()\nwidth=0.35\nrect=ax.bar(df2[\"Allegiances\"],df2[\"Dead\"],color=\"#6B0FFF\")\nplt.xticks(rotation=90);","235b500d":"plt.figure(figsize=(15,5))\nsns.set_context(font_scale=2)\nsns.violinplot(x='Allegiances',y='Dead',data=df,hue='Gender',split=True)\nplt.xticks(rotation=90);","b7b364e3":"df2=df[[\"Dead\",\"Gender\"]].groupby(by=\"Gender\",as_index=False).mean().sort_values(by=\"Dead\",ascending=True)\ndf2","b473eee4":"fig,ax=plt.subplots()\nwidth=0.5\n#rect=ax.hist(df2,bins=20)\nrect=ax.bar(df2[\"Gender\"].map({0:\"female\",1:\"male\"}),df2[\"Dead\"],color=\"#DF5BC2\")\nplt.xticks(rotation=0);","87f8be5c":"sns.barplot(x='Gender',y='Dead',data=df,hue=\"Nobility\",palette=\"viridis\")","3ddf7fdc":"df2=df[[\"Dead\",\"Nobility\"]].groupby(by=\"Nobility\",as_index=False).mean().sort_values(by=\"Dead\",ascending=True)\ndf2","4e26f523":"fig,ax=plt.subplots()\nrect=ax.bar(df2[\"Nobility\"].map({0:\"Not Noble\",1:\"Noble\"}),df2[\"Dead\"],color=\"#123456\")\n","b544b42f":"df2=df[[\"Dead\",\"No of Books\"]].groupby(by=\"No of Books\",as_index=False).mean().sort_values(by=\"Dead\",ascending=True)\ndf2","411da23c":"fig,ax=plt.subplots()\nrect=ax.bar(df2[\"No of Books\"],df2[\"Dead\"],color=\"#650056\")","051b6ea5":"## Death probability on basis of Allegiances","50450953":"<h4>Considering NaN value means not dead<\/h4>","d2b97f7e":"### Observations:\n - Most no of deaths:Wildlings \n - Least no of deaths:House Tyrell","a2e7b45a":"### Gender and Allegiances","93b55524":"<h2>All men must die? <\/h2>","c0ad952d":"### Observations:\n- The probability of dying a man in westeros is greater than that of a woman","4a93bad0":"## Nobility","65a1835f":"### Nobility and Gender","a69dcc1a":"## You will live only in one book-No of appearances"}}