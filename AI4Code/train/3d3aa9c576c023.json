{"cell_type":{"4d2e89d4":"code","0d350f07":"code","9935042e":"code","ea2caddc":"code","5042f0d6":"code","f295e817":"code","47a84401":"code","339e29d7":"code","210b1751":"code","61f30d18":"code","1fd0527f":"code","6ea81253":"code","47ecba36":"code","9e7f6240":"code","fa3a634f":"code","04ae6b5f":"code","371bca18":"code","f28f4a43":"code","4bd1ca98":"code","9232ddfb":"code","80837502":"code","475d71d6":"code","c010f487":"code","2a3fb9eb":"code","c32eb292":"code","590a18a7":"code","2e4e23c0":"code","2b467f36":"code","39089509":"code","bab0b6c1":"code","1c644c9c":"code","2fe06c4b":"code","b7e1a08d":"code","08df6859":"code","ae2d3f95":"code","b54d7bb4":"code","9a870337":"code","9ae7c480":"code","0eaab78f":"code","480dba07":"code","51ade2e4":"code","0e493e6e":"code","f801cae5":"code","1e432f50":"code","5351bd3c":"code","3cd4b7de":"code","b6b0e8e4":"code","8773c341":"code","768586bc":"code","5a2a5891":"code","11dfb296":"code","dc97b765":"code","a49af536":"code","ae0e3543":"code","02a3dfba":"code","f0ccfef0":"code","e32f4ef4":"code","c5138a5a":"code","a4d443d3":"code","2a1c8910":"code","af394a64":"code","d38415c7":"code","19f71e85":"code","84357491":"code","c88a4ed8":"code","bad7a02b":"code","851ecbfe":"code","dc9b4d87":"code","5f5e7a4d":"code","08e117aa":"code","548a8989":"code","a03f30fb":"code","37aca2de":"code","d15b87ae":"code","68f4ed8a":"code","b6e407f2":"code","53504db1":"code","8d0089ba":"code","248aa7eb":"code","8a060ba4":"code","7fa1c7f6":"code","c980e8ec":"markdown","290e0178":"markdown","3a8931c9":"markdown","3534f222":"markdown","03e7c465":"markdown","a5aef037":"markdown","09476a35":"markdown","93a7a8e3":"markdown","6b56784b":"markdown","854f7404":"markdown","fb1a6eab":"markdown","76ee31a7":"markdown","52b70ca9":"markdown","735315d2":"markdown","cfc9d660":"markdown","f237ff23":"markdown","21b4d8e6":"markdown","af1b33bb":"markdown","684ae72d":"markdown","5b7b2b5f":"markdown","abf7fa5b":"markdown","b55a3165":"markdown","23f3d133":"markdown","d1daf64a":"markdown","59acf4a9":"markdown","d8164ca1":"markdown","e2648241":"markdown","36e5aae4":"markdown","3bbf54c4":"markdown","4f8143d1":"markdown","d17449c5":"markdown","e6d980e3":"markdown","59260f0c":"markdown","399b5942":"markdown","7c5b9180":"markdown","7e834477":"markdown","584f389a":"markdown","6d53c9d4":"markdown","6f73f26e":"markdown","65a8b83d":"markdown","78863604":"markdown","542a9e5b":"markdown","cc56078d":"markdown","5c5e5531":"markdown","fef87e61":"markdown","1caf561a":"markdown","477b7d9a":"markdown","3af31b03":"markdown","f18242f2":"markdown","839ed81b":"markdown"},"source":{"4d2e89d4":"import numpy as np\nimport pandas as pd\nimport math as math\n# Checking for kaggle\/input\/titanic\/****.csv\nimport os\nfor dirname, _, filenames in os.walk(\"\/kaggle\/input\"):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","0d350f07":"train_data = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest_data = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\");\ntrain_data.name = \"Training Set\"\ntest_data.name = \"Test Set\"\ntrain_data.sample(10)","9935042e":"# Column datatypes\ntrain_data.info()\nprint('+'*40)\ntest_data.info()","ea2caddc":"# Columns\ncolumns = train_data.columns\nprint(columns)","5042f0d6":"def concat_df(train_data, test_data):\n    return pd.concat([train_data, test_data], sort=True).reset_index(drop=True)\n\ndef divide_df(data):\n    return data.loc[:890], data.loc[891:].drop(['Survived'], axis=1)","f295e817":"# Combine dataset for exploratory analytics\ndf = concat_df(train_data, test_data)\ndf.name = \"Total Data\"\ndf.info()","47a84401":"embarked_labels={\"S\": \"Southampton\", \"C\": \"Chernboug\", \"Q\": \"Queenstown\"}","339e29d7":"# Change Pclass, Sex, Embarked to type category\nfor col in ['Pclass', 'Sex', 'Embarked']:\n    train_data[col] = train_data[col].astype('category')\n    test_data[col] = test_data[col].astype('category')\ntrain_data.info()\nprint(\"-\"*40)\ntest_data.info()","210b1751":"# Check for null count\nprint(\"Check for nulls in train data: \")\nprint(train_data.isnull().sum())\nprint(\"+\"*40)\nprint(\"Check for nulls in test data: \")\nprint(test_data.isnull().sum())","61f30d18":"# Describe gives a very quick brief 5-point summary of the data. Take a peek look into numerical data.\ntrain_data.describe(include=\"all\").transpose()","1fd0527f":"# changing back to original data types.\ntrain_data[\"Pclass\"] = train_data[\"Pclass\"].astype(\"int\")\ntrain_data[\"Sex\"] = train_data[\"Sex\"].astype(\"object\")\ntrain_data[\"Embarked\"] = train_data[\"Embarked\"].astype(\"object\")\ntest_data[\"Pclass\"] = test_data[\"Pclass\"].astype(\"int\")\ntest_data[\"Sex\"] = test_data[\"Sex\"].astype(\"object\")\ntest_data[\"Embarked\"] = test_data[\"Embarked\"].astype(\"object\")\ntrain_data.info()\nprint(\"+\"*40)\ntest_data.info()","6ea81253":"_ = len(train_data[train_data['Survived'] == 1])\/len(train_data) * 100\nprint('Survived %: ', _)","47ecba36":"import matplotlib.pyplot as plt\nimport seaborn as sns\nflatui = [\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\", \"#2ecc71\"]\nsns.color_palette(flatui)\n# Categorical plots (Bar)\nfig, ax = plt.subplots(2, 3, figsize=(20,15))\nax = ax.flatten()\nunique_sibsp = train_data[\"SibSp\"].unique()\nunique_sibsp.sort()\nunique_parch = train_data[\"Parch\"].unique()\nunique_parch.sort()\n\ncols = [\n    {\"col\": \"Pclass\", \"x_labels\": [\"First\", \"Second\", \"Thrid\"], \"title\": \"Class of Passenger\"},\n    {\"col\": \"Embarked\", \"x_labels\": [\"Chernboug\", \"Queenstown\", \"Southampton\"], \"title\": \"Where Passenger Boarded?\"},\n    {\"col\": \"Survived\", \"x_labels\": [\"Not Survived\", \"Survived\"], \"title\": \"Who many passengers survived?\"},\n    {\"col\": \"Sex\", \"x_labels\": [\"Male\", \"Female\"], \"title\": \"Sex of person\"},\n    {\"col\": \"SibSp\", \"x_labels\": unique_sibsp, \"title\": \"Siblings & Spouses count\"},\n    {\"col\": \"Parch\", \"x_labels\": unique_parch, \"title\": \"Parents & Children count\"}\n]\nfor i in range(0, 6):\n    _ = train_data[cols[i]['col']].value_counts()\n    _ = sns.barplot(x=_.index, y=_, ax=ax[i]) # returns ax of matplotlib\n    _.set_xticklabels(cols[i]['x_labels'])\n    _.set_ylabel('Count')\n    _.set_title(cols[i]['title'])\n    for patch in _.patches:\n        label_x = patch.get_x() + patch.get_width()\/2 # Mid point in x\n        label_y = patch.get_y() + patch.get_height() + 10 # Mid point in y\n        _.text(label_x,\n               label_y,\n               \"{} ({:.1%})\".format(int(patch.get_height()), patch.get_height()\/len(train_data[cols[i]['col']])),\n               horizontalalignment='center',\n               verticalalignment='center')","9e7f6240":"fig, ax = plt.subplots(2, 3, figsize=(20,15))\nax = ax.flatten()\n\ncols = [\n    {\"col\": \"Pclass\", \"x_labels\": [\"First\", \"Second\", \"Thrid\"], \"title\": \"Average age of passengers in each class\"},\n    {\"col\": \"Embarked\", \"x_labels\": [\"Chernboug\", \"Queenstown\", \"Southampton\"], \"title\": \"Average age of passengers based on boarding location\"},\n    {\"col\": \"Sex\", \"x_labels\": [\"Male\", \"Female\"], \"title\": \"Average age of person based on gender\"},\n    {\"col\": \"SibSp\", \"x_labels\": unique_sibsp, \"title\": \"Average age of Siblings & Spouses\"},\n    {\"col\": \"Parch\", \"x_labels\": unique_parch, \"title\": \"Average age of Parents & Children\"}\n]\n\nfor i in range(0, 5):\n    ax_ = sns.barplot(x=cols[i][\"col\"], y=\"Age\", ax=ax[i], data=train_data) # returns ax of matplotlib\n    ax_.set_xticklabels(cols[i][\"x_labels\"])\n    ax_.set_ylabel(\"Average Age\")\n    ax_.set_title(cols[i][\"title\"])\n    for patch in ax_.patches:\n        ax_.text(\n            patch.get_x() + patch.get_width()\/2,\n            patch.get_y() + (0 if math.isnan(patch.get_height()) else patch.get_height()\/2),\n            \"{:.2f}\".format(patch.get_height()),\n            horizontalalignment=\"center\",\n            verticalalignment=\"center\")","fa3a634f":"fig, ax = plt.subplots(2, 3, figsize=(20,15))\nax = ax.flatten()\n\ncols = [\n    {\"col\": \"Pclass\", \"x_labels\": [\"First\", \"Second\", \"Thrid\"], \"title\": \"% of survivors in each passenger class\"},\n    {\"col\": \"Embarked\", \"x_labels\": [\"Chernboug\", \"Queenstown\", \"Southampton\"], \"title\": \"% of survivors based on boarding location\"},\n    {\"col\": \"Sex\", \"x_labels\": [\"Male\", \"Female\"], \"title\": \"% of survivors based on gender\"},\n    {\"col\": \"SibSp\", \"x_labels\": unique_sibsp, \"title\": \"% of survivors in siblings & spouses\"},\n    {\"col\": \"Parch\", \"x_labels\": unique_parch, \"title\": \"% of surviviors in parent & children\"}\n]\n\nfor i in range(0, 5):\n    ax_ = sns.barplot(x=cols[i][\"col\"], y=\"Survived\", ax=ax[i], data=train_data) # returns ax of matplotlib\n    ax_.set_xticklabels(cols[i][\"x_labels\"])\n    ax_.set_ylabel(\"Average Age\")\n    ax_.set_title(cols[i][\"title\"])\n    for patch in ax_.patches:\n        ax_.text(\n            patch.get_x() + patch.get_width()\/2,\n            patch.get_y() + (0 if math.isnan(patch.get_height()) else patch.get_height()\/2),\n            \"{:.2f}%\".format(patch.get_height() * 100),\n            horizontalalignment=\"center\",\n            verticalalignment=\"center\")","04ae6b5f":"fig, ax = plt.subplots(2, 2, figsize=(20,15))\nax = ax.flatten()\n\ncols = [\n    {\"col\": \"Pclass\", \"x_labels\": [\"First\", \"Second\", \"Thrid\"], \"title\": \"% of survivors grouped by gender in each passenger class\"},\n    {\"col\": \"Embarked\", \"x_labels\": [\"Chernboug\", \"Queenstown\", \"Southampton\"], \"title\": \"% of survivors grouped by gender in each boarding class\"},\n    {\"col\": \"SibSp\", \"x_labels\": unique_sibsp, \"title\": \"% of survivors grouped by gender in siblings and spouses\"},\n    {\"col\": \"Parch\", \"x_labels\": unique_parch, \"title\": \"% of survivors grouped by gender in parents and children\"}\n]\n\nfor i in range(0, 4):\n    ax_ = sns.barplot(x=cols[i][\"col\"], y=\"Survived\", hue=\"Sex\", ax=ax[i], data=train_data) # returns ax of matplotlib\n    ax_.set_xticklabels(cols[i][\"x_labels\"])\n    ax_.set_ylabel(\"Average Age\")\n    ax_.set_title(cols[i][\"title\"])\n    for patch in ax_.patches:\n        ax_.text(\n            patch.get_x() + patch.get_width()\/2,\n            patch.get_y() + (0 if math.isnan(patch.get_height()) else patch.get_height()\/2),\n            \"{:.2f}%\".format(patch.get_height() * 100),\n            horizontalalignment=\"center\",\n            verticalalignment=\"center\")","371bca18":"fig, ax = plt.subplots(1, 2, figsize=(20, 8))\nax = ax.flatten()\ncols = [\n    {\"col\": \"Age\", \"x_label\": \"Age\", \"title\": \"Age Distribution\", \"color\": \"green\"},\n    {\"col\": \"Fare\", \"x_label\": \"Fare\", \"title\": \"Fare Distribution\", \"color\": \"violet\"}\n]\nfor i in range(0, len(cols)):\n    _col = cols[i][\"col\"]\n    data_ = train_data[_col][pd.notnull(train_data[_col])]\n    _ = sns.distplot(data_, kde=True, hist=False, ax=ax[i], color=cols[i][\"color\"])\n    _.set_title(cols[i][\"title\"])\n    _.set_xlabel(cols[i][\"x_label\"])\n    mean_ = data_.mean()\n    median_ = data_.median()\n    _.axvline(mean_, linestyle=\"--\", color=\"red\")\n    _.axvline(median_, linestyle=\"--\", color=\"orange\")\n    _.legend({\"Mean\": mean_, \"Median\": median_})","f28f4a43":"fig, ax = plt.subplots(1, 2, figsize=(15, 5))\nax = ax.flatten()\ncols = [\n    {\"col\": \"Age\", \"x_label\": \"Age\", \"title\": \"Age Distribution\"},\n    {\"col\": \"Fare\", \"x_label\": \"Fare\", \"title\": \"Fare Distribution\"}\n]\nfor i in range(0, len(cols)):\n    _col = cols[i][\"col\"]\n    data_ = train_data[_col][pd.notnull(train_data[_col])]\n    _ = sns.boxplot(data_, ax=ax[i])\n    _.set_title(cols[i][\"title\"])\n    _.set_xlabel(cols[i][\"x_label\"])","4bd1ca98":"fig, ax = plt.subplots(3, 2, figsize=(20, 15))\nax = ax.flatten()\ncols = [\n    {'x': 'Pclass', 'y': 'Age', 'x_label': 'Pclass', 'title': 'Age Distribution based on Pclass'},\n    {'x': 'Pclass', 'y': 'Fare', 'x_label': 'Pclass', 'title': 'Fare Distribution based on Pclass'},\n    {'x': 'Embarked', 'y': 'Age', 'x_label': 'Embarked', 'title': 'Age Distribution based on Embarked'},\n    {'x': 'Embarked', 'y': 'Fare', 'x_label': 'Embarked', 'title': 'Fare Distribution based on Embarked'},\n    {'x': 'Sex', 'y': 'Age', 'x_label': 'Sex', 'title': 'Age Distribution based on Sex'},\n    {'x': 'Sex', 'y': 'Fare', 'x_label': 'Sex', 'title': 'Fare Distribution based on Sex'}\n]\nfor i in range(0, len(cols)):\n    data_ = train_data[train_data[cols[i]['y']].notnull()]\n    _ = sns.boxplot(x=cols[i]['x'], y=cols[i]['y'], data=data_, ax=ax[i])\n    _.set_title(cols[i]['title'])\n    _.set_xlabel(cols[i]['x_label'])","9232ddfb":"fig, ax = plt.subplots(3, 2, figsize=(20, 15))\nax = ax.flatten()\ncols = [\n    {'x': 'Pclass', 'y': 'Age', 'x_label': 'Pclass', 'title': 'Age Distribution based on Pclass'},\n    {'x': 'Pclass', 'y': 'Fare', 'x_label': 'Pclass', 'title': 'Fare Distribution based on Pclass'},\n    {'x': 'Embarked', 'y': 'Age', 'x_label': 'Embarked', 'title': 'Age Distribution based on Embarked'},\n    {'x': 'Embarked', 'y': 'Fare', 'x_label': 'Embarked', 'title': 'Fare Distribution based on Embarked'},\n    {'x': 'Sex', 'y': 'Age', 'x_label': 'Sex', 'title': 'Age Distribution based on Sex'},\n    {'x': 'Sex', 'y': 'Fare', 'x_label': 'Sex', 'title': 'Fare Distribution based on Sex'}\n]\nfor i in range(0, len(cols)):\n    data_ = train_data[train_data[cols[i]['y']].notnull()]\n    _ = sns.boxplot(x=cols[i]['x'], y=cols[i]['y'], hue='Survived', data=data_, ax=ax[i])\n    _.set_title(cols[i]['title'])\n    _.set_xlabel(cols[i]['x_label'])","80837502":"ax = sns.FacetGrid(train_data, col=\"Sex\", row=\"Pclass\", legend_out=True)\nax.map(plt.hist, \"Age\", color=\"blue\")","475d71d6":"ax = sns.FacetGrid(train_data, col=\"Sex\", row=\"Pclass\", hue=\"Survived\", legend_out=True)\nax.map(sns.kdeplot, \"Age\")","c010f487":"ax = sns.FacetGrid(train_data, col=\"Pclass\", hue=\"Survived\")\nax.map(sns.scatterplot, \"Age\", \"Fare\")","2a3fb9eb":"# ax = sns.FacetGrid(train_data, col=\"Sex\", row=\"Pclass\", hue=\"Survived\", legend_out=True)\n# ax.map(sns.kdeplot, \"Age\")\nsns.factorplot(x=\"Sex\", y=\"Survived\", col=\"Pclass\", data=train_data, saturation=.5, kind=\"bar\")","c32eb292":"_ = sns.factorplot(x='Pclass', y='Survived', hue='Sex', data=train_data, kind='bar')\nfor patch in _.ax.patches:\n    label_x = patch.get_x() + patch.get_width()\/2  # find midpoint of rectangle\n    label_y = patch.get_y() + patch.get_height()\/2\n    _.ax.text(label_x,\n              label_y,\n              '{:.3%}'.format(patch.get_height()),\n              horizontalalignment='center',\n              verticalalignment='center')","590a18a7":"_ = sns.factorplot(x='Embarked', y='Survived', hue='Sex', data=train_data, kind='bar')\nfor patch in _.ax.patches:\n    label_x = patch.get_x() + patch.get_width()\/2  # find midpoint of rectangle\n    label_y = patch.get_y() + patch.get_height()\/2\n    _.ax.text(label_x,\n              label_y,\n              '{:.3%}'.format(patch.get_height()),\n              horizontalalignment='center',\n              verticalalignment='center')","2e4e23c0":"sns.catplot(data=train_data, x=\"Sex\", y=\"Age\", col=\"Pclass\", hue=\"Survived\", kind=\"swarm\")","2b467f36":"_ = sns.catplot(x=\"Sex\", y=\"Survived\", col=\"Pclass\", data=train_data, kind='bar')\n_.set_axis_labels(\"\", \"Survival Rate\")\n_.set_titles(\"{col_name}-{col_var}\")\nfor ax in _.axes[0]:\n    for patch in ax.patches:\n        label_x = patch.get_x() + patch.get_width()\/2\n        label_y = patch.get_y() + patch.get_height()\/2\n        ax.text(label_x,\n                label_y,\n                \"{0:.2f}%\".format(patch.get_height()*100),\n                horizontalalignment='center',\n                verticalalignment='center')","39089509":"_ = sns.catplot(x=\"Sex\", y=\"Survived\", col=\"Embarked\", data=train_data, kind='bar')\n_.set_axis_labels(\"\", \"Survival Rate\")\n_.set_titles(\"{col_name}\")\nfor ax in _.axes[0]:\n    for patch in ax.patches:\n        label_x = patch.get_x() + patch.get_width()\/2\n        label_y = patch.get_y() + patch.get_height()\/2\n        ax.text(label_x,\n                label_y,\n                \"{0:.2f}%\".format(patch.get_height()*100),\n                horizontalalignment='center',\n                verticalalignment='center')","bab0b6c1":"sns.catplot(x=\"Parch\", y=\"Survived\", col=\"Sex\", data=train_data, kind=\"bar\")","1c644c9c":"fig, ax = plt.subplots(1, 3, figsize=(20, 6))\nax = ax.flatten()\ncols = [\n    {\"col\": \"Pclass\", \"title\": \"Passenger Class\", \"x_labels\": [\"1\", \"2\", \"3\"]},\n    {\"col\": \"Embarked\", \"title\": \"Boarded from\", \"x_labels\": [\"S\", \"Q\", \"C\"]},\n    {\"col\": \"Sex\", \"title\": \"Gender\", \"x_labels\": [\"M\", \"F\"]}\n]\nfor i in range(0, len(cols)):\n    _ = sns.countplot(x=cols[i]['col'], data=train_data, hue=\"Survived\", ax=ax[i])\n    _.set_title(cols[i]['title'])\n    _.set_xticklabels(cols[i]['x_labels'])\n    for patch in _.patches:\n        x_label = patch.get_x() + patch.get_width()\/2\n        y_label = patch.get_y() + patch.get_height() + 7\n        \n        _.text(x_label,\n               y_label,\n               \"{0}\".format(patch.get_height()),\n               horizontalalignment='center',\n               verticalalignment='center')","2fe06c4b":"sns.countplot(x=\"Parch\", hue=\"Sex\", data=train_data)","b7e1a08d":"fig, ax = plt.subplots(1, 3, figsize=(20, 5))\nax = ax.flatten()\npd.crosstab(train_data['Survived'], train_data['Pclass']).plot.bar(stacked=True, ax=ax[0])\npd.crosstab(train_data['Survived'], train_data['Embarked']).plot.bar(stacked=True, ax=ax[1])\npd.crosstab(train_data['Survived'], train_data['Sex']).plot.bar(stacked=True, ax=ax[2])","08df6859":"fig, ax = plt.subplots(figsize=(10, 5))\nsns.kdeplot(\n    data=train_data['Age'][(train_data['Survived'] == 0) & (train_data['Age'].notnull())],\n    ax=ax,\n    color='Red',\n    shade=True)\nsns.kdeplot(\n    data=train_data['Age'][(train_data['Survived'] == 1) & (train_data['Age'].notnull())],\n    ax=ax,\n    color='Blue',\n    shade=True)\nax.legend([\"Not Survived\", \"Survived\"])\nax.set_title(\"Superimposed KDE plot for age of Survived and Not Survived\")","ae2d3f95":"fig, ax = plt.subplots(figsize=(10, 5))\nsns.kdeplot(data=train_data.loc[train_data['Survived'] == 0, 'Fare'], color='Red', shade=True, legend=True)\nsns.kdeplot(data=train_data.loc[train_data['Survived'] == 1, 'Fare'], color='Blue', shade=True, legend=True)\nax.legend([\"Not Survived\", \"Survived\"])\nax.set_title(\"Superimposed KDE plot for fare of Survived and Not Survived\")","b54d7bb4":"corr = train_data.corr()\nplt.figure(figsize=(15, 10))\nsns.heatmap(corr, annot=True)","9a870337":"# Check for survival rate against each category\ndef survival_rate(data, column):\n    categories_ = data[column].unique()\n    categories_.sort()\n    print('{0} based survival rate:'.format(column))\n    print('+'*40)\n    for cat in categories_:\n        _ = data.loc[data[column] == cat]\n        print('{0} - {1} survival rate: {2:.3f}'.format(column, cat, (_['Survived'].sum()\/len(_)) * 100))","9ae7c480":"for d_ in [train_data, test_data]:\n    print(d_.name)\n    print(\"+\"*40)\n    for col in d_.columns:\n        missing_ = d_[col].isnull().sum()\n        if missing_ > 0:\n            print(\"'{0}' column missing value count {1}({2:.2f}%)\".format(col, missing_, missing_\/len(d_)*100))\n    print(\"+\"*40)","0eaab78f":"# Correlation Coefficents\n_ = df.corr().abs().unstack().sort_values().reset_index().rename(\n    columns={\"level_0\": \"F1\", \"level_1\": \"F2\", 0: \"Coef_\"})\n_ = _[_[\"F1\"] == \"Age\"]\nprint(_)","480dba07":"# _ = df.groupby([\"Sex\", \"Pclass\"]).describe()\n_ = df.groupby([\"Sex\", \"Pclass\", \"SibSp\"]).describe()\n_ = _[\"Age\"].loc[:, [\"mean\", \"50%\"]]\nprint(_)\n# When grouped by sex and by pclass mean and median are most consistent and they values are pretty much closer.\n# So replacing the values based on these stats should be easy.","51ade2e4":"df[\"Age\"] = df.groupby([\"Sex\", \"Pclass\"])[\"Age\"].apply(lambda x: x.fillna(x.median()))","0e493e6e":"# Comparing Age distributions before and after imputing the values.\ndf_age_old = concat_df(train_data, test_data)\ndf_age_old = df_age_old[\"Age\"][pd.notnull(df_age_old[\"Age\"])]\nplt.figure(figsize=(10, 5))\nsns.kdeplot(df_age_old, color=\"red\", shade=True)\nsns.kdeplot(df[\"Age\"], color=\"green\", shade=True)\n# Data distribution remains almost same before and after imputing values.","f801cae5":"df[df['Embarked'].isnull()]","1e432f50":"df[\"Embarked\"] = df[\"Embarked\"].fillna(\"S\")","5351bd3c":"df[df[\"Fare\"].isnull()]\n_ = df.groupby([\"Pclass\", \"Parch\", \"SibSp\"]).describe()\n_ = _[\"Fare\"].loc[:, [\"mean\", \"50%\"]]\nprint(_)\ndf[\"Fare\"] = df.groupby([\"Pclass\", \"Parch\", \"SibSp\"])[\"Fare\"].apply(lambda x: x.fillna(x.mean()))","3cd4b7de":"print(\"Passengers without deck: \", df[\"Cabin\"].isnull().sum())\ndf[\"Deck\"] = df[\"Cabin\"].apply(lambda x: x[0] if pd.notnull(x) else \"M\")\ndf_decks = df.groupby([\"Deck\", \"Pclass\"]).count().drop(\n    columns=['Survived', 'Sex', 'Age', 'SibSp', 'Parch','Fare', 'Embarked', 'Cabin', 'PassengerId', 'Ticket']).rename(columns={\"Name\": \"Count\"}).transpose()\ndf_decks","b6b0e8e4":"deck_x_pclass = pd.crosstab(df[\"Deck\"], df[\"Pclass\"])\nplt.title = \"passengers in each deck\"\n# deck_x_pclass.plot.bar(stacked=True)\nplt.figure(figsize=(20, 10))\n# now stack and reset\nstacked = deck_x_pclass.stack().reset_index().rename(columns={0:'value'})\nstacked[\"percent\"] = 0\nplt.figure(figsize=(20, 8))\n# plot grouped bar chart\nsns.barplot(x=\"Deck\", y=\"value\", hue=\"Pclass\", data=stacked)\n# Plot percentage of passengers\nfor index in deck_x_pclass.index:\n    total_ = deck_x_pclass.loc[index].sum()\n    for pclass in deck_x_pclass.columns:\n        val_ = stacked.loc[(stacked[\"Deck\"] == index) & (stacked[\"Pclass\"] == pclass), 'value']\n        stacked.loc[(stacked[\"Deck\"] == index) & (stacked[\"Pclass\"] == pclass), 'percent'] = val_\/total_*100","8773c341":"stacked[stacked[\"percent\"] > 0]","768586bc":"# Replace Deck T with A as it has only one passenger\n_ = df[df[\"Deck\"] == \"T\"].index\nif (_.size > 0):\n    df.loc[_, \"Deck\"] = \"A\"","5a2a5891":"df_survived = df.groupby([\"Deck\", \"Survived\"]).count().drop(\n    columns=['Sex', 'Age', 'SibSp', 'Parch', 'Fare', 'Embarked', 'Pclass', 'Cabin', 'PassengerId', 'Ticket']\n    ).rename(columns={'Name':'Count'}).transpose()\nprint(df_survived)\nsurv_counts = {'A':{}, 'B':{}, 'C':{}, 'D':{}, 'E':{}, 'F':{}, 'G':{}, 'M':{}}\ndecks = df_survived.columns.levels[0]\nfor deck in decks:\n    for survive in range(0, 2):\n        surv_counts[deck][survive] = df_survived[deck][survive][0]\ndf_surv_counts = pd.DataFrame(surv_counts)\nsurv_percentages = {}\nfor col in df_surv_counts:\n    surv_percentages[col] = [(count \/ df_surv_counts[col].sum()) * 100 for count in df_surv_counts[col]]\nprint(surv_percentages)\ndf_survived_percentages = pd.DataFrame(surv_percentages).transpose()\ndeck_names = ('A', 'B', 'C', 'D', 'E', 'F', 'G', 'M')\nbar_count = np.arange(len(deck_names))  \nbar_width = 0.85\nnot_survived = df_survived_percentages[0]\nsurvived = df_survived_percentages[1]\nplt.figure(figsize=(20, 10))\nplt.bar(bar_count, not_survived, color='#b5ffb9', edgecolor='white', width=bar_width, label=\"Not Survived\")\nplt.bar(bar_count, survived, bottom=not_survived, color='#f9bc86', edgecolor='white', width=bar_width, label=\"Survived\")\nplt.xlabel('Deck', size=15, labelpad=20)\nplt.ylabel('Survival Percentage', size=15, labelpad=20)\nplt.xticks(bar_count, deck_names)    \nplt.tick_params(axis='x', labelsize=15)\nplt.tick_params(axis='y', labelsize=15)\n\nplt.legend(loc='upper left', bbox_to_anchor=(1, 1), prop={'size': 15})\n# plt.title('Survival Percentage in Decks')","11dfb296":"df[\"Deck\"] = df[\"Deck\"].replace([\"A\", \"B\", \"C\"], \"ABC\").replace([\"D\", \"E\"], \"DE\").replace([\"F\", \"G\"], \"FG\")\ndf[\"Deck\"].value_counts()","dc97b765":"df.drop([\"Cabin\"], inplace=True, axis=1)","a49af536":"train, test = divide_df(df)\nprint(train.info())\nprint(\"+\"*40)\nprint(test.info())","ae0e3543":"df[\"Fare\"] = pd.qcut(df[\"Fare\"], 13)","02a3dfba":"plt.figure(figsize=(20, 5))\nsns.countplot(x=\"Fare\", hue=\"Survived\", data=df)\nplt.xlabel('Fare')\nplt.ylabel('Passenger Count')\nplt.tick_params(axis='x')\nplt.tick_params(axis='y')\n\nplt.legend(['Not Survived', 'Survived'], loc='upper right')","f0ccfef0":"df[\"Age\"] = pd.qcut(df[\"Age\"], 10)","e32f4ef4":"plt.figure(figsize=(20, 5))\nsns.countplot(x=\"Age\", hue=\"Survived\", data=df)\nplt.xlabel('Age')\nplt.ylabel('Passenger Count')\nplt.tick_params(axis='x')\nplt.tick_params(axis='y')\n\nplt.legend(['Not Survived', 'Survived'], loc='upper right')","c5138a5a":"df[\"FamilySize\"] = df[\"SibSp\"] + df[\"Parch\"] + 1","a4d443d3":"fig, ax = plt.subplots(1, 2, figsize=(20, 5))\nsns.countplot(x=\"FamilySize\", data=df, ax=ax[0])\nsns.countplot(x=\"FamilySize\", hue=\"Survived\", data=df, ax=ax[1])","2a1c8910":"family_map = {1: 'Alone', 2: 'Small', 3: 'Small', 4: 'Small', 5: 'Medium', 6: 'Medium', 7: 'Large', 8: 'Large', 11: 'Large'}\ndf['FamilySizeGrouped'] = df['FamilySize'].map(family_map)","af394a64":"fig, ax = plt.subplots(1, 2, figsize=(20, 5))\nsns.countplot(x=\"FamilySizeGrouped\", data=df, ax=ax[0])\nsns.countplot(x=\"FamilySizeGrouped\", hue=\"Survived\", data=df, ax=ax[1])","d38415c7":"df[\"TicketFrequency\"] = df.groupby(\"Ticket\")[\"Ticket\"].transform(\"count\")","19f71e85":"fig, axs = plt.subplots(figsize=(12, 5))\nsns.countplot(x='TicketFrequency', hue='Survived', data=df)\n\nplt.xlabel('Ticket Frequency', size=15, labelpad=20)\nplt.ylabel('Passenger Count', size=15, labelpad=20)\nplt.tick_params(axis='x', labelsize=15)\nplt.tick_params(axis='y', labelsize=15)\n\nplt.legend(['Not Survived', 'Survived'], loc='upper right', prop={'size': 15})","84357491":"df[\"Title\"] = df[\"Name\"].str.split(\", \", expand=True)[1].str.split(\".\", expand=True)[0]","c88a4ed8":"df[\"IsMarried\"] = 0\ndf.loc[df[\"Title\"] == 'Mrs', \"IsMarried\"] = 1","bad7a02b":"plt.figure(figsize=(20, 7))\nax_ = sns.countplot(x=\"Title\", data=df)\nfor patch in ax_.patches:\n    label_x = patch.get_x() + patch.get_width()\/2\n    label_y = patch.get_y() + patch.get_height()+ 10\n    ax_.text(label_x, label_y, patch.get_height(), horizontalalignment='center', verticalalignment='center')\nsns.countplot(x=\"Title\", hue=\"Survived\", data=df)","851ecbfe":"df['Title'] = df['Title'].replace(\n    ['Miss', 'Mrs','Ms', 'Mlle', 'Lady', 'Mme', 'the Countess', 'Dona'], 'Miss\/Mrs\/Ms')\ndf['Title'] = df['Title'].replace(\n    ['Dr', 'Col', 'Major', 'Jonkheer', 'Capt', 'Sir', 'Don', 'Rev'], 'Dr\/Military\/Noble\/Clergy')","dc9b4d87":"plt.figure(figsize=(20, 7))\nax_ = sns.countplot(x=\"Title\", data=df)\nfor patch in ax_.patches:\n    label_x = patch.get_x() + patch.get_width()\/2\n    label_y = patch.get_y() + patch.get_height()+ 10\n    ax_.text(label_x, label_y, patch.get_height(), horizontalalignment='center', verticalalignment='center')\nplt.figure(figsize=(20, 7))\nsns.countplot(x=\"Title\", hue=\"Survived\", data=df)","5f5e7a4d":"from sklearn.preprocessing import LabelEncoder, OneHotEncoder\ntrain, test = divide_df(df)\ndfs = [train, test]","08e117aa":"non_numeric_features = ['Embarked', 'Sex', 'Deck', 'Title', 'FamilySizeGrouped', 'Age', 'Fare']\nfor df_ in dfs:\n    for feature in non_numeric_features:        \n        df_[feature] = LabelEncoder().fit_transform(df_[feature])","548a8989":"cat_features = ['Pclass', 'Sex', 'Deck', 'Embarked', 'Title', 'FamilySizeGrouped']\nencoded_features = []\n\nfor df in dfs:\n    for feature in cat_features:\n        encoded_feat = OneHotEncoder().fit_transform(df[feature].values.reshape(-1, 1)).toarray()\n        n = df[feature].nunique()\n        cols = ['{}_{}'.format(feature, n) for n in range(1, n + 1)]\n        encoded_df = pd.DataFrame(encoded_feat, columns=cols)\n        encoded_df.index = df.index\n        encoded_features.append(encoded_df)\n\ntrain = pd.concat([train, *encoded_features[:6]], axis=1)\ntest = pd.concat([test, *encoded_features[6:]], axis=1)","a03f30fb":"drop_cols = ['Deck', 'Embarked', 'FamilySize', 'FamilySizeGrouped', 'Name', 'Parch', 'PassengerId', 'Pclass', 'Sex', 'SibSp', 'Ticket', 'Title', 'TicketFrequency', 'IsMarried']\ntrain = train.drop(columns=drop_cols)\ntest = test.drop(columns=drop_cols)","37aca2de":"X_train = train.loc[:, train.columns != \"Survived\"]\ny_train = train.loc[:, \"Survived\"]\nX_test = test","d15b87ae":"from sklearn.preprocessing import StandardScaler\nstd_scaler = StandardScaler()\nX_train_scaled = std_scaler.fit_transform(X_train)\nX_test_scaled = std_scaler.fit_transform(X_test)\nprint(X_train.shape, X_test.shape)","68f4ed8a":"from sklearn.ensemble import RandomForestClassifier\nrfc_model = RandomForestClassifier(criterion=\"gini\",\n                                  n_estimators=1750,\n                                  max_depth=7,\n                                  min_samples_split=6,\n                                  min_samples_leaf=6,\n                                  max_features=\"auto\",\n                                  oob_score=True,\n                                  random_state=40,\n                                  n_jobs=-1)","b6e407f2":"from sklearn.model_selection import StratifiedKFold\nfrom sklearn.metrics import roc_curve, auc\nN = 5\noob = 0\nprob_df = pd.DataFrame(np.zeros((len(X_test), N*2)))\nprob_df.columns = [\"KFold{}_{}\".format(i, j) for i in range(1, N+1) for j in range(2)]\nprob_df\nimp_df = pd.DataFrame(np.zeros((X_train.shape[1], N)))\nimp_df.columns = [\"KFold{}\".format(i) for i in range(1, N+1)]\nimp_df.index = X_train.columns","53504db1":"fprs, tprs, scores = [], [], []\nskf = StratifiedKFold(n_splits=N, random_state=N, shuffle=True)\nfor fold, (trn_idx, val_idx) in enumerate(skf.split(X_train, y_train), 1):\n    print(\"Fold {}\".format(fold))\n    print(\"+\"*40)\n    rfc_model.fit(X_train.loc[trn_idx], y_train.loc[trn_idx])\n    predict_proba_ = rfc_model.predict_proba(X_train.loc[trn_idx])\n    trn_fpr, trn_tpr, trn_thresholds = roc_curve(\n        y_train[trn_idx],\n        predict_proba_[:, 1])\n    trn_auc_score = auc(trn_fpr, trn_tpr)\n    predict_proba_val_ = rfc_model.predict_proba(X_train.loc[val_idx])\n    val_fpr, val_tpr, val_thresholds = roc_curve(\n        y_train.loc[val_idx],\n        predict_proba_val_[:, 1])\n    val_auc_score = auc(val_fpr, val_tpr)\n    scores.append((trn_auc_score, val_auc_score))\n    fprs.append(val_fpr)\n    tprs.append(val_tpr)\n    \n    prob_df.loc[:, \"KFold{}_0\".format(fold)] = rfc_model.predict_proba(X_test)[:, 0]\n    prob_df.loc[:, \"KFold{}_1\".format(fold)] = rfc_model.predict_proba(X_test)[:, 1]\n    \n    imp_df.iloc[:, fold - 1] = rfc_model.feature_importances_\n    oob += rfc_model.oob_score_ \/ N\n    print('Fold {} OOB Score: {}\\n'.format(fold, rfc_model.oob_score_)) \n\nprint('Average OOB Score: {}'.format(oob))","8d0089ba":"imp_df[\"Mean\"] = imp_df.mean(axis = 1)","248aa7eb":"imp_df.sort_values(by='Mean', inplace=True, ascending=False)\nplt.figure(figsize=(15, 10))\nsns.barplot(x='Mean', y=imp_df.index, data=imp_df)\n\nplt.xlabel('')\nplt.tick_params(axis='x', labelsize=15)\nplt.tick_params(axis='y', labelsize=15)\n# plt.title('Random Forest Classifier Mean Feature Importance Between Folds')","8a060ba4":"class_survived = [col for col in prob_df.columns if col.endswith('1')]\nprob_df['1'] = prob_df[class_survived].sum(axis=1) \/ N\nprob_df['0'] = prob_df.drop(columns=class_survived).sum(axis=1) \/ N\nprob_df['pred'] = 0\npos = prob_df[prob_df['1'] >= 0.5].index\nprob_df.loc[pos, 'pred'] = 1\n\ny_pred = prob_df['pred'].astype(int)","7fa1c7f6":"submission_df = pd.DataFrame(columns=['PassengerId', 'Survived'])\nsubmission_df['PassengerId'] = test_data['PassengerId']\nsubmission_df['Survived'] = y_pred.values\nsubmission_df.to_csv('submissions.csv', header=True, index=False)\nsubmission_df.head(10)","c980e8ec":"<u>**Observations:**<\/u>\n- there are no outliers in first class passgeners with more symmetrical distribution, where as there are too many outliers for 2nd and thrid class passengers\n- Fare is very sparsly distributed among 2nd and 3rd class passengers.","290e0178":"#### <u>Using barplot to show % of survivers in each category<\/u>","3a8931c9":"<u>**Observations:**<\/u>\n- Deck `A`, `B` & `C` are completely occupied by 1st class passengers\n- Deck `T` has only one passenger is occupied by 1st class\n- Deck `D` is occupied by both 1st(86.95%) and 2nd(13.04) class passengers\n- Deck `E` is occupied by all class passengers 1st(83%), 2nd(9.7%) & 3rd(7.31%)\n- Deck `F` is occupied by 2nd(62%) and 3rd(38%) class passengers\n- Deck `G` is occupied by 3rd class passengers\n- Deck `M` unknown has all kinds of passengers (Let this be that category only)","3534f222":"## Grouping Families","03e7c465":"### Bar plots\n\nBarcharts are used to represent the frequency counts of a feature (categorical) or probability distribution if we choose to use y as another feature which is like yes\/no. We can also use barplots for discrete numerical features as well like (SibSp, Parch) in our case.\nExample: we can choose bar plots to show total count on y-axis or show the probability of survivers in each nominal variable. Let's see both of them.\n\n1. To display total counts in a categorical variable (x=indexes, y=count) => count plot (x=variable, data)\n2. Sum\/Average of numerical variable against categorical variable (x=Pclass, y=Age)\n3. Binary (true) against categorical variable (x=Pclass, y=Survived)\n4. Group by one categorical variable (x=Pclass, y=Survived, hue=Sex) This is like percentage of passengers survived in each class by Sex. \n\n> Note: Use bar plots to show if there are less categories. having more categories will make the graph conjusted.\n\n> Note: One of the axis should be a number either x or y doesn't matter","a5aef037":"<u>**Catplots**<\/u>","09476a35":"### Count Plots\ncountplots are used to plot the feature counts if mixed with hue will give more insight on data","93a7a8e3":"<u>**Passenger Survival Rate in each deck**<\/u>","6b56784b":"#### <u>Using barplot for counts:<\/u>","854f7404":"<u>**Dealing with missing Embarked values: **<\/u>","fb1a6eab":"<u>__Dealing with missing fare values:__<\/u>\n\n- Only one person has missing fare value\n- Fare value is highly correlated to the class of person and also with how many people he\/she trave","76ee31a7":"<u>**Dealing with Age**<\/u> Age is a numerical number so we can simply use mean\/median to replace the age. However if you have observed the above descriptive statistics. Age can be mean\/median of class wise passenger age or can be grouped by Sex and then fill them.","52b70ca9":"<u>**Dealing with missing deck values:**<\/u>\n\nThis is where I liked the author @gunesevitan. He went out of box to get for the facts. This is something to remember to become a good data scientist. Let me run through steps\n\n- ","735315d2":"### Heat Map (Correleation Matrix)","cfc9d660":"### Dealing with missing values","f237ff23":"> # Feature Engineering","21b4d8e6":"<u>**Crosstab data for categorical variables**<\/u>\nCrosstab is used to get the count of records against categorical variables like `class vs survived` etc..","af1b33bb":"### FacetGrid\n- Facet grid is very helpful in visualzing multiple features in a single graph\nWe can use row, col, hue to represent three different features and facet grid object will help you to map a plot against those selected features, this mapper can be a plot of any kind like kde, dist, scatter etc..","684ae72d":"#### <u>Using barplot to show % of survivors in each category grouped by gender:<\/u>","5b7b2b5f":"### Heatmap\nHeatmap plot is very useful in understanding how features interact with each other and how strongly they are correlated.\n- rA,B -> 1; then they are positively correlated\n- rA,B -> -1; then they are negatively correlated.","abf7fa5b":"## Imputing missing values\n\n\"Feature Engineering\" is the term used to preparing data for model. It involves the following\n- What to do with missing data\n    - Remove them\n    - Impute them (If replaced with new values, what kind of values to consider?)\n- Is all features makes sense for model?\n- Extracting Features to reduce correlation b\/w features","b55a3165":"#### <u>Using barplot for average age in each category:<\/u>","23f3d133":"## Random Forest Classifier","d1daf64a":"## Understanding Features\n\n### Data Types\n- Survived, Sex: Binary\n- Pclass: Ordinal (categories with an order included)\n- Embark: Nominal (categorical)\n- Name, Cabin, Ticket: Text (string)\n- Age, Fare: Continuous numerical data (measure)\n- SibSp, Parch (Siblings, Spouces & Parents, Childrens): Discrete Numerical (count)","59acf4a9":"<u>**Observations:**<\/u>\nWe are plotting age against each categorical variable. This might not a big detail, but it can used as a crutial element for filling in missing ages.\n\nFor example: if a person age is missing and he belongs to first class, we can fill person's age with mean of that group rather than mean of entire set.","d8164ca1":"### Box Plots\nBox plots are used to check the 5 point summary data and any outliers in the data.","e2648241":"### Distribution Plots\nDistribution plots or histograms are used to see the spread of data. These plots are used for numerical data. data is said to be perfect when it represents a symmetrical bell curve, which is not the case in most of the practical senarios. Age, Fare are numerical features in our dataset. Let's plot them\n\n> Distribution plots shouldn't have any null values while plotting them, so remove them before plotting\n\n<p style=\"color:red;text-decoration:underline;font-weight:600\">This graph requires a revist once data is imputated (means fill the null values)<\/p>","36e5aae4":"<u>**Factor Plots:**<u>","3bbf54c4":"\"Describe\" on dataset gives a lot of info. Take time to understand what it is trying to tell you. Here is what I understood.\n\n- **count** of all features is not same, there are some missing values\n- **top & frequency** are not applicable for numerical data and is applicable for only categorical data.\n    - __Pclass__ has 3 unique apperances __*'3'*__ being appeared most number of times (491). So 3rd class passengers travelling in titanic are more. Is it also possible that most of them not survived? Let's see further down what data tells?\n    - __Sex__ has 2 unique apperances __*'male'*__ being appeared most number of times (577). Again male passengers are more compared to female passengers. Is it also possible that most of them not survived? Let's see further down what data tells?\n    - __Embarked__ has 3 unique apperances __*'S'*__ being appeared most number of times (644). So most people who boarded the ship is from a station called **Southampton**\n- Age (numerical): mean > median, so the values are right skewed. min & max values having so much differences, so there can be potential outliers.\n- Fare (numerical): mean > median, so the values are right skewed. There is huge difference b\/w min and max fares. This also tells there might be a lot of outliers for Fare. We can also link fare difference to passenger class and they are correlated..","4f8143d1":"# Machine Learning","d17449c5":"<u>**Using box plot to group distribution based on category and then by another category as hue (Survived)**<\/u>","e6d980e3":"# Exploratory Data analytics","59260f0c":"<u>**Observations**<\/u>\n\nAge, Embarked, Cabin and Fare are the columns that have missing values. `Embarked` and `Fare` have relatively very small number of missing values, whereas `Age` has moderately missing values and `Cabin` has almost 80% of missing values.\n\nThere are lot of kernals which explain lot of interesting things on which we can fill the missing values. I have gone through couple of kernels and I'm following a kernal from [gunesevitan](https:\/\/www.kaggle.com\/gunesevitan\/advanced-feature-engineering-tutorial-with-titanic)\n\nMissing values for Age, Embarked, Fare can be filled with descriptive statistical measures like mean, median, grouping etc... whereas for Cabin the same approach is not applicable.","399b5942":"## Plots\nPlots are the most important aspect of EDA. This is such a powerful tool for drawing metrics from data and visually represent the facts. I'm going to spend a lot of time here to put in as many plots as possible just to get a feel of it and ofcourse to have a future reference.\n\nI'm going to use Seaborn for plotting. It has wide variety of plots, will go through one by one and cover as many as possible.\n\n- BarPlots\n- BoxPlots\n- DistPlots\n- FacetGrid\n- Factorplot\n- Catplots","7c5b9180":"<u>**Obseravtions:**<\/u>\n- Deck `B, C, D & E` has highest survival\n- Deck `M` has lowest survival rate\n\nRight now `Deck` has highest cardinality so we can reduce this cardinality by combining certain groups\n- Combine `A, B & C` decks as `ABC`\n- Combine `D, E` as `DE`\n- Combine `F, G` as `FG`","7e834477":"- only two records are missing for Embarked values\n- Interestingly see the values of Cabin, Fare, Ticket, Sex, Passenger class..\n- Both of them might have boarded from the same station, so how do we know from which station?\n\nAccording to @gunesevitan which I liked very much is going beyond what was present inside data. He googled the actual name, meaning he looked for the facts beyond data and found that the passengers are boarded from Southampton, without any hesitation he filled the values and said <i>__\"Case Closed !!\"__<\/i>. wow !!\n\nLet's do the same..","584f389a":"Records with unfilled data is not good for modelling. We should address these records one way or the other to get better results. There are lot of ways to achive it, we will revisit this point again.\n\n__Age, Cabin, Embarked, Fare__ have N\/A values","6d53c9d4":"<u>**Observations:**<\/u>\n\nAs we expected this gives even a much better insight on survival rate.\n- a woophing ~97% & ~92% of women from 1st & 2nd class passengers are saved and ~50% of women from 3rd class passengers are saved.\n- a female passenger boarded from queens have 88% of surviving rate.","6f73f26e":" <u>**Using box plots with category**<\/u>","65a8b83d":"## Feature Encoding","78863604":"<u>**Observations:**<\/u>\n- Age & Fare both are right skewed meaning __mean > median__ & might have potential outliers in the data. Note this is not a complete distribution of the set. Have to fill in the missed values and revisit the distribution again for more insights.\n- Most of the fare distribution lies within the area indicating outliers.","542a9e5b":"**Observations:**\n- There are lot of outliers in both age and fare distribution\n- These outliers will have lot of impact on models. This is more visible for regression models. We have to address these outliers while preparing the model.","cc56078d":"### Factorplot or Catplot\n- Factor plot returns a facetgrid, it can be treated as a wrapper around facet grid.\n- Catplot returns a facetgrid and is a wrapper around facet grid\n\nBoth these graphs are used to visualize the data of more than 2 features. There are x, y, hue, col, row - These many data points to visualize the data.","5c5e5531":"## Binning the continuous features","fef87e61":"## Ticket Frequency","1caf561a":"<u>**Observations:**<\/u>\nThis is a much better example of bar plot. This plot is a special plot which shows the % of people survived based on which category they belong to. There are two important take aways.\n- People belonging to 1st class have high chance of surviving where as if you are thrid class person there is less chance of being saved.\n- Women have a highest chance of surviving the incident compared to men.\n\nThis is a very important observation because these two features have a significat impact on whether a person is saved or not.\n\n<u>For Example:<\/u> A women who belongs to a first class has more chance of survival than anyone else on the board.","477b7d9a":"## Title Extraction","3af31b03":"### Overlapped Distributions","f18242f2":"<u>**Observations**:<\/u>\n- ~55% of passengers on board are from 3rd class.\n- ~72% of passengers onborded from Southampton\n- ~38% of people survived in accident\n- ~65% of passengers are male\n- ~92% of passengers are either single or with one sibling\/spouse.\n- ~89% of passengers are either single or with one parent\/child.\n\nThese kind of conclusions will help us to better understand data, whether they are related or not and also might help us to impute the data when necessary","839ed81b":"[Download File](.\/submissions.csv)"}}