{"cell_type":{"4bfb7cb0":"code","3f647c2e":"code","e2e5aa94":"code","48bedcb8":"code","bbf6788b":"code","13c51d0f":"code","96ca71d3":"code","cdf93fe1":"markdown","93f34b68":"markdown","f1c32ddb":"markdown","90e7fd4b":"markdown","90f3ba6c":"markdown","16c4f784":"markdown","a8caf0be":"markdown"},"source":{"4bfb7cb0":"!pip install tweepy","3f647c2e":"from kaggle_secrets import UserSecretsClient\nACCESS_TOKEN = UserSecretsClient().get_secret('ACCESS_TOKEN')\nACCESS_SECRET = UserSecretsClient().get_secret('ACCESS_SECRET')\nCONSUMER_KEY = UserSecretsClient().get_secret('CONSUMER_KEY')\nCONSUMER_SECRET = UserSecretsClient().get_secret('CONSUMER_SECRET')","e2e5aa94":"import os\n!git clone https:\/\/github.com\/graykode\/gpt-2-Pytorch.git\nos.chdir('.\/gpt-2-Pytorch')\n!curl --output gpt2-pytorch_model.bin https:\/\/s3.amazonaws.com\/models.huggingface.co\/bert\/gpt2-pytorch_model.bin\n!pip install -r requirements.txt","48bedcb8":"import tweepy\nimport pandas as pd\n\ndef connect_to_twitter_OAuth():\n    \"\"\"adapted from https:\/\/towardsdatascience.com\/my-first-twitter-app-1115a327349e\"\"\"\n    auth = tweepy.OAuthHandler(CONSUMER_KEY, CONSUMER_SECRET)\n    auth.set_access_token(ACCESS_TOKEN, ACCESS_SECRET)\n    api = tweepy.API(auth)\n    return api\n\ndef extract_tweets(tweet_object):\n    \"\"\"adapted from https:\/\/towardsdatascience.com\/my-first-twitter-app-1115a327349e\"\"\"\n    tweet_list =[]\n    for tweet in tweet_object:\n        text = tweet.text\n        created_at = tweet.created_at\n        tweet_list.append({'created_at':created_at,'text':text,})\n    df = pd.DataFrame(tweet_list, columns=[ 'created_at','text',])\n    return df","bbf6788b":"api = connect_to_twitter_OAuth()\ntrump_tweets = api.user_timeline('realdonaldtrump')\ndf = extract_tweets(trump_tweets)\npd.set_option('display.max_colwidth', -1)\ndf.tail(10)","13c51d0f":"!python main.py --text \"To the Democrats, Impeachment is partisan politics dressed up as principle.  This Scam going on right now by the Democrats against the Republican Party, and me, was all about a perfect phone call.\"","96ca71d3":"!rm -r \/kaggle\/working\/*","cdf93fe1":"**Step 5 of 5:** And finally I will take the list of tweets that we retrieved and I will feed a few of them into a [GPT-2](https:\/\/github.com\/graykode\/gpt-2-Pytorch) model to generate a full-blown speech.","93f34b68":"**Step 1 of 5:** We will begin by installing the Python library \"[tweepy](https:\/\/www.tweepy.org\/)\" to interact with the Twitter API.","f1c32ddb":"**Step 4 of 5:** Next I will create a dataframe of tweets from @realDonaldTrump\n* Twitter's [Developer Agreement and Developer Policy](https:\/\/developer.twitter.com\/en\/developer-terms\/agreement-and-policy.html) are both very strict and include terms such as \"If you provide Twitter Content to third parties, including downloadable datasets of Twitter Content or an API that returns Twitter Content, you will only distribute or allow download of Tweet IDs, Direct Message IDs, and\/or User IDs.\u201d In an attempt to comply with this policy I expose only recent tweets from @realdonaldtrump (which are already a part of the official Presidential Records).","90e7fd4b":"**Step 3 of 5:** We also need to download the [GPT-2 repository]( https:\/\/github.com\/graykode\/gpt-2-Pytorch).","90f3ba6c":"**Step 2 of 5:** We will also use the \"user secrets\" functionality on Kaggle in order to manage our private API keys.  You can manage your \"secrets\" in the \"add-ons\" menu in the upper-most file menu within the [notebook editor](http:\/\/www.kaggle.com\/kernels).  To interact with the Twitter API you will need to have an ACCESS_TOKEN, ACCESS_SECRET, CONSUMER_KEY, and CONSUMER_SECRET.","16c4f784":"* The purpose of this notebook is to explore using: (1) Tweepy for downloading data from the Twitter API; and (2) GPT-2 for generating new text.","a8caf0be":"# Trump Speech Generator (tweepy, gpt-2)"}}