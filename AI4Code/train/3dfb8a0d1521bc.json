{"cell_type":{"37408532":"code","78598916":"code","6e9422b0":"code","e063fa9a":"code","c643a4cf":"code","70a0e74c":"code","d4d3c0f5":"code","4527178d":"code","e33709f7":"code","8615989d":"code","afb2cc46":"code","1379fe2a":"code","4920e1c2":"code","eedf794b":"code","76b73f16":"code","e19c0a10":"code","c420c2d1":"code","22ba7b26":"code","b41a3bc5":"code","a0cd4365":"code","0bc8c40a":"code","42a1a235":"code","241fa71e":"code","400a18b2":"code","edb3a9ee":"code","61e2ffdd":"code","b3736881":"code","9a663e92":"code","48d0df25":"code","a91a1cd3":"code","91622ffb":"code","668feddc":"markdown","ce0b2537":"markdown","f450764e":"markdown","c5c2bbe6":"markdown","7ab05b7c":"markdown","d38b7002":"markdown","7607524e":"markdown","b9cad893":"markdown","79a9baed":"markdown","3c6985af":"markdown","3b00bda0":"markdown","b07d6f01":"markdown","41327834":"markdown","9036b1bf":"markdown","4bf89110":"markdown","17159a0b":"markdown","149d1908":"markdown","1f92e9a4":"markdown","a5c86de5":"markdown","5a055938":"markdown","547ed0bf":"markdown","f09eaf73":"markdown","3025579b":"markdown","3d5c5111":"markdown"},"source":{"37408532":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n","78598916":"df = pd.read_csv('\/kaggle\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\ndf","6e9422b0":"# information about data\n\ndf.info()","e063fa9a":"# show first 5 rowes\ndf.head()","c643a4cf":"# show last 5 rowes\n\ndf.tail()","70a0e74c":"# random sample from data\n\ndf.sample(10)","d4d3c0f5":"# show columns\n\ndf.columns","4527178d":"df.rename(columns={\n'neighbourhood_group': 'city'\n}, inplace=True)\ndf","e33709f7":"# show number of rows and columns\n\ndf.shape","8615989d":"df.head(4)","afb2cc46":"df.isna().sum()","1379fe2a":"df.drop(['id', 'name', 'host_name', 'host_id', 'neighbourhood','number_of_reviews','reviews_per_month','last_review','calculated_host_listings_count'], axis=1, inplace=True )","4920e1c2":"df.isna().sum()","eedf794b":"df.duplicated().sum()","76b73f16":"df= df.drop_duplicates()","e19c0a10":"#Check statics of the dataset\n\ndf.describe()","c420c2d1":"df.shape","22ba7b26":"# show data types\n\ndf.dtypes","b41a3bc5":"correlation = df.corr()\nplt.figure(figsize=(10, 6))\nheatmap = sns.heatmap(correlation,linewidths=0, vmin=-1,annot=True, cmap=\"YlGnBu\")","a0cd4365":"#name of the city\ndf.city.unique()","0bc8c40a":"len(df.city.unique())","42a1a235":"plt.figure(figsize=(10, 6))\nsns.scatterplot(x=df.longitude,y=df.latitude,hue=df.city);","241fa71e":"df.room_type.unique()","400a18b2":"df['room_type'].value_counts()","edb3a9ee":"city_room_type = df.groupby(['city'])['room_type'].value_counts().unstack(0)\nprint(city_room_type)","61e2ffdd":"plt.figure(figsize=(10,6))\nsns.countplot(data=df,x='city',hue='room_type',palette='GnBu_d')\nplt.title('City with room types they alot')\nplt.show()","b3736881":"#The rooms that customers choose the most\nlabels = df['room_type'].value_counts().index\nsizes = df['room_type'].value_counts().values\nplt.figure(figsize = (8,8))\nplt.pie(sizes, labels=labels, autopct='%1.1f%%', colors = ['#009999','#007399','#20B2AA'] )\nplt.title(\"Rooms that are most favourable for customer\", color = 'black',fontsize = 15);","9a663e92":"##mean price for room type\nrtype = df.groupby('room_type', as_index=False)[['price']].mean()\n\nplt.figure(figsize=(10,6))\nsns.barplot(data=rtype, x=rtype['room_type'], y=rtype['price'], palette='GnBu_d');","48d0df25":"#city with price\nf, ax = plt.subplots(figsize=(10, 6))\n\nsns.boxplot(data=df[df['price']<300],y='city',x='price',width=.6,palette='GnBu_d')\n\n\nax.xaxis.grid(True)\nax.set(ylabel=\"\");\n","a91a1cd3":"# Airbnb dataset groupby room_type with 'availability_365'-mean\nngroup = df.groupby('room_type', as_index=False)[['availability_365']].mean()\n\nplt.figure(figsize=(10,6))\nsns.barplot(data=ngroup, x=ngroup['room_type'], y=ngroup['availability_365'], palette='GnBu_d');","91622ffb":"#Nights Booked\nsns.distplot(df[(df['minimum_nights'] <= 30) & (df['minimum_nights'] > 0)]['minimum_nights'], bins=31)\nplt.ioff()","668feddc":"*At the end of this analysis, we see that most customers do not prefer shared rooms, so the prices of entire home and private rooms are higher than shared rooms, because the people choose it more.*","ce0b2537":"The above bar plot we see:\n1. The price of entire home\/apt is more than any other room type.\n2. Shared room is the cheapest.","f450764e":"#### Now, we drop unnecessary columns\n","c5c2bbe6":"Seems that most hosts give less than 10 days for the minimum nights for booking a room,\nand 1 month is a popular one as well.","7ab05b7c":"#### Now, check if there are missing values and sum them\n","d38b7002":"We see  above  that the highest room types in (Manhattan) represents Entire home\/apt and the lowest room types in (Staten island) represents Shared room.","7607524e":"We see above that prices are generally high in Manhattan more than any other city.","b9cad893":"#### Show after droping null data","79a9baed":"## The main objective\n","3c6985af":"The above plot just decibes the demogrphic view of the entries in the data and also provides a clear view of the City.","3b00bda0":"#### Checking if we have duplicated and remove it","b07d6f01":"Here we are ploting a correlation matrix see how all the variables correlate with each other .\n","41327834":"#### Rename Colmun:","9036b1bf":"There are 4 columns contain a missing value. name,host_name and reviews_per_month is not necessary for analysis,so we can drop it. last_review is date,this variable is also insignificant. we can drop this as well. ","4bf89110":"*By now, we've handled missing and NaN values, dropped insignificant columns, the next step is to dive deeper into the dataset to search for more interesting facts.*","17159a0b":"## Data Profiling and Cleansing\nLet\u2019s get a summary of the dataset we have.","149d1908":"*In this notebook we will analysis the types of rooms in the site Airbnb and find the average prices for them in each city.*","1f92e9a4":"#### What is the distribution of minimum_nights?","a5c86de5":" Above Here we see that the shared rooms are the most available all year round.","5a055938":"### Loading data","547ed0bf":"## Data Exploration\n","f09eaf73":"#### Count of room types in each city","3025579b":"### Import Libraries","3d5c5111":"## Data Visualization"}}