{"cell_type":{"700e6fe2":"code","b514d433":"code","f54e7b64":"code","cf9d153d":"code","b37f0887":"code","5f14ea4d":"code","5963456f":"code","64ae2c49":"code","d66faf22":"code","33446059":"code","321214b9":"code","430d96dd":"code","eb9ee272":"code","ac479c22":"markdown","f2ae31ee":"markdown","5f6afa5c":"markdown","7bd7b517":"markdown","05e0a2a8":"markdown","26999927":"markdown","9c58dbd7":"markdown","dbd08352":"markdown","25dd40f5":"markdown","bd39ad79":"markdown","af105d6f":"markdown","047df5e5":"markdown"},"source":{"700e6fe2":"import pandas as pd\nimport numpy as np\n\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport matplotlib.gridspec as gridspec\n\nimport seaborn as sns\nimport plotly.express as px\n\nimport os\nimport random\nimport re\nimport math\nimport time\n\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\nseed_val = 42\nrandom.seed(seed_val)\nnp.random.seed(seed_val)\n\n","b514d433":"black_red = [\n    '#1A1A1D', '#4E4E50', '#C5C6C7', '#6F2232', '#950740', '#C3073F'\n]\nplt.style.use('fivethirtyeight')","f54e7b64":"train = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/train.csv')\ntest = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/test.csv')\nsample = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/sample_submission.csv')","cf9d153d":"print(train.head())\nprint(len(train))","b37f0887":"print('Train features:{}'.format(train.columns.tolist()))\nprint('Test features:{}'.format(test.columns.tolist()))","5f14ea4d":"print(test.shape)\nprint(train.isnull().values.any())\nprint(test.isnull().values.any())","5963456f":"data = train.groupby(by=\"Patient\")[[\"Patient\", \"Age\", \"Sex\", \"SmokingStatus\"]].first().reset_index(drop=True)\nfig = plt.figure(constrained_layout = True, figsize = (20,9))\n\n#create grid\n\ngrid = gridspec.GridSpec(ncols = 4, nrows = 2, figure = fig)\n\nax1 = fig.add_subplot(grid[0, :2])\nax1.set_title('Gender Distribution')\n\n\nsns.countplot(data['Sex'],\n             alpha = 0.9,\n             ax = ax1,\n             color = '#C3073F',\n             label = 'Train',\n             order=train['Sex'].value_counts().index)\n\nax1.legend()\n\nax2 = fig.add_subplot(grid[0, 2:])\nax2.set_title('Smoking Status')\nsns.countplot(data['SmokingStatus'],\n             alpha = 0.9,\n             ax = ax2, \n             color = '#C3073F',\n             label = 'Train')\nax2.legend()\nplt.xticks(rotation = 20)\n\nax3 = fig.add_subplot(grid[1, :])\nax3.set_title('Age Distribution')\nsns.distplot(data['Age'], ax = ax3, label ='Train', color = '#C3073F')\nax3.legend()\nplt.show()","64ae2c49":"fig = plt.figure(constrained_layout = True, figsize = (20,9))\n\n#create grid\n\ngrid = gridspec.GridSpec(ncols = 4, nrows = 2, figure = fig)\n\nax1 = fig.add_subplot(grid[0, :2])\nax1.set_title('Gender Distribution')\n\nsns.countplot(test.Sex,\n             alpha = 0.9,\n             ax = ax1,\n             color = '#1A1A1D',\n             label = 'Test',\n             order=train['Sex'].value_counts().index)\n\nax1.legend()\n\nax2 = fig.add_subplot(grid[0, 2:])\nax2.set_title('Smoking Status')\nsns.countplot(test.SmokingStatus,\n             alpha = 0.9,\n             ax = ax2, \n             color = '#1A1A1D',\n             label = 'Test',\n             order=train['SmokingStatus'].value_counts().index)\nax2.legend()\nplt.xticks(rotation = 20)\n\nax3 = fig.add_subplot(grid[1, :])\nax3.set_title('Age Distribution')\nsns.distplot(test.Age, ax = ax3, label ='Test', color = '#1A1A1D')\nax3.legend()\nplt.show()","d66faf22":"\ndata = train.groupby(by=\"Patient\")[\"Weeks\"].count().reset_index(drop=False)\ndata = data.sort_values(['Weeks']).reset_index(drop=True)\nplt.figure(figsize = (12, 6))\nsns.barplot(x=data[\"Patient\"], y=data[\"Weeks\"], color='#950740')\n\nplt.title(\"Number of Entries per Patient\", fontsize = 17)\nplt.xlabel('Patient', fontsize=14)\nplt.ylabel('Frequency', fontsize=14)\nplt.show()","33446059":"fig = plt.figure(constrained_layout = True, figsize = (15,9))\n\n#create grid\n\ngrid = gridspec.GridSpec(ncols = 1, nrows = 3, figure = fig)\nax1 = fig.add_subplot(grid[0, :])\n\nsns.distplot(train.FVC, ax = ax1, color = '#950740')\nax1.set_title('FVC Distribution')\n\nax2 = fig.add_subplot(grid[1, :])\nsns.distplot(train.Percent, ax = ax2, color = '#C3073F')\nax2.set_title('Percent Distribution')\n\n\nax3 = fig.add_subplot(grid[2, :])\nsns.distplot(train.Weeks, ax = ax3, color = '#6F2232')\nax3.set_title('Number of weeks before\/after CT scan')\n","321214b9":"black_red1 = [\n    '#1A1A1D', '#950740', '#C3073F'\n]\nfig = px.sunburst(data_frame = train,\n                 path = [ 'SmokingStatus','Sex','Age'],\n                 color = 'Sex',\n                 color_discrete_sequence = black_red1,\n                 maxdepth = -1,\n                 title = 'Sunburst Chart SmokingStatus > Gender > Age')\nfig.update_traces(textinfo = 'label+percent parent')\nfig.update_layout(margin=dict(t=0, l=0, r=0, b=0))\nfig.show()","430d96dd":"fig = plt.figure(constrained_layout = True, figsize = (12,6))\n\n#create grid\n\ngrid = gridspec.GridSpec(ncols = 4, nrows = 1, figure = fig)\n\nax1 = fig.add_subplot(grid[0, :2])\n\nsns.barplot(x = train.SmokingStatus, y = train.Percent, palette = black_red1, ax = ax1)\nax1.set_title('Percent per Smoking Status')\nplt.xticks(rotation=30)\n\n\nax2 = fig.add_subplot(grid[0, 2:])\nsns.barplot(x = train.SmokingStatus, y = train.FVC, palette = black_red1, ax = ax2)\nax2.set_title('FVC per Smoking Status')\nplt.xticks(rotation=40)\nplt.show()","eb9ee272":"fig = plt.figure(constrained_layout = True, figsize = (20,6))\n\n#create grid\n\ngrid = gridspec.GridSpec(ncols = 6, nrows = 1, figure = fig)\n\nax1 = fig.add_subplot(grid[0, :2])\n\nsns.scatterplot(x=train['FVC'] , y =train['Age'], palette = [black_red[1], black_red[4]], ax = ax1, hue = train['Sex'],\n               style = train['Sex'])\nax1.set_title('Correlation between FVC and Age')\nax1.legend(loc = 'lower right')\n\nax2 = fig.add_subplot(grid[0, 2:4])\nsns.scatterplot(x='FVC', y='Percent', data = train, palette = [black_red[1], black_red[4]], ax = ax2, hue = train['Sex'],\n               style = train['Sex'])\nax2.set_title('Correlation between FVC and Percent')\nax2.legend(loc = 'upper right')\n\nax3 = fig.add_subplot(grid[0, 4:6])\nsns.scatterplot(x='Percent', y='Age', data = train, palette = [black_red[1], black_red[4]], ax = ax3, hue = train['Sex'],\n               style = train['Sex'])\nax3.set_title('Correlation between Percent and Age')\nax3.legend(loc = 'upper right')\nplt.show()","ac479c22":"Observation:\n1. There are more number of males than females.\n2. The majority of patients age between 65 to 75 years.\n3. The smoking status shows that there are very few patients who still smokes and a vast no. of patients are ex-smokers.","f2ae31ee":"Don't forget to give your valuable feedback and suggestions.","5f6afa5c":"# Sunburst Chart\n\nA Sunburst Chart consists of an inner circle surrounded by rings of deeper hierarchy levels. The angle of each segment is either proportional to a value or divided equally under its parent node. Here the inner ring represents the Smoking Status of the patients and the middle circle defines the gender and outermost circle tells about the age of patients of respecting gender and smoking habits.","7bd7b517":"# References\n\n1. The Sunburst and the colours are being referred from the following notebook https:\/\/www.kaggle.com\/datafan07\/eda-modelling-of-the-external-data-inc-ensemble\n\n2. https:\/\/www.pulmonaryfibrosis.org\/life-with-pf\/about-pf","05e0a2a8":"# Data\n\nIn the dataset, you are provided with a baseline chest CT scan and associated clinical information for a set of patients. A patient has an image acquired at time Week = 0 and has numerous follow up visits over the course of approximately 1-2 years, at which time their FVC is measured.\n\nIn the training set, you are provided with an anonymized, baseline CT scan and the entire history of FVC measurements.","26999927":"# Distributions","9c58dbd7":"# OSIC Pulmonary Fibrosis: \n\nPulmonary fibrosis is a lung disease that occurs when lung tissue becomes damaged and scarred. This thickened, stiff tissue makes it more difficult for your lungs to work properly. As pulmonary fibrosis worsens, you become progressively more short of breath.\n![image.png](attachment:image.png)\n\nThe aim of this competition is to predict a patient\u2019s severity of decline in lung function based on a CT scan of their lungs. Lung function is assessed based on output from a spirometer, which measures the forced vital capacity (FVC), i.e. the volume of air exhaled.","dbd08352":" **Patient entries per week**","25dd40f5":"# Correlation\n\nWe can see from the graph below that only FVC and percent are correlated and not other factors.","bd39ad79":"# FVC and Percent status\n\n![image.png](attachment:image.png)\n\nAs per the standards mentioned above if FVC is greater than 80% then it is considered to be normal, while the results here show that the person who currently smokes have higher FVC and Percent while the person who never smoke have the least. These results are really contradictive.\n\nWe also need to keep in mind that the number of people who never smoked are less than 20 in the dataset given. So we can't conclude this with such less number of people.","af105d6f":"# Analysis of Patient Information:\n\nThe distribution graph show the distribution of patient's age, gender and the smoking status.","047df5e5":"Observation from Test Dataset:\n1. All patients are male in test dataset\n2. None of the patient currently smokes\n3. Most of the patient age is between 72 and 73"}}