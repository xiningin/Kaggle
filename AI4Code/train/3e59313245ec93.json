{"cell_type":{"79f99ebe":"code","6148b6b3":"code","ea7f4dbb":"code","c5787fcf":"code","c0234312":"code","55f08d32":"code","bf00baaf":"code","fe08cda0":"code","b38a9a3d":"code","cc921bbc":"markdown","e2c3691c":"markdown","3e9db410":"markdown","879dcaa8":"markdown"},"source":{"79f99ebe":"import os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nfrom wordcloud import WordCloud, STOPWORDS\nfrom collections import Counter\nfrom nltk.corpus import stopwords\nimport json\nfrom sklearn.feature_extraction.text import CountVectorizer\nimport warnings \nwarnings.filterwarnings('ignore')\n\n    \ndf = pd.read_csv('\/kaggle\/input\/CORD-19-research-challenge\/2020-03-13\/all_sources_metadata_2020-03-13.csv')\n\nex_paper_path = '\/kaggle\/input\/CORD-19-research-challenge\/2020-03-13\/biorxiv_medrxiv\/biorxiv_medrxiv\/02201e4601ab0eb70b6c26480cf2bfeae2625193.json'\nwith open(ex_paper_path) as f:\n     ex_paper = json.load(f)","6148b6b3":"ex_paper['metadata']['title']","ea7f4dbb":"paragraph_num = 1\nex_paper['body_text'][paragraph_num]['text']","c5787fcf":"def word_cloud_function(df,column,number_of_words):\n    # adapted from https:\/\/www.kaggle.com\/benhamner\/most-common-forum-topic-words\n    topic_words = [ z.lower() for y in\n                       [ x.split() for x in df[column] if isinstance(x, str)]\n                       for z in y]\n    word_count_dict = dict(Counter(topic_words))\n    popular_words = sorted(word_count_dict, key = word_count_dict.get, reverse = True)\n    popular_words_nonstop = [w for w in popular_words if w not in stopwords.words(\"english\")]\n    word_string=str(popular_words_nonstop)\n    wordcloud = WordCloud(stopwords=STOPWORDS,\n                          background_color='white',\n                          max_words=number_of_words,\n                          width=1000,height=1000,\n                         ).generate(word_string)\n    plt.clf()\n    plt.imshow(wordcloud)\n    plt.axis('off')\n    plt.show()","c0234312":"all_names = df['journal'].values.astype(str)\n[j_names, j_nums] = np.unique(all_names[(~pd.isnull(all_names)) & (all_names!='nan')],return_counts=True)\n\ndf_j_names = pd.DataFrame(np.concatenate((j_names.astype(str).reshape(-1,1),\n                                          j_nums.astype(int).reshape(-1,1)),axis=1),\n                          columns=['journal_name','num_articles'])\n\ndf_j_names['num_articles'] = df_j_names['num_articles'].astype(int)\n\ndf_j_names = df_j_names.sort_values(by='num_articles').reset_index(drop=True)","55f08d32":"df_j_names.tail(10)","bf00baaf":"j_names_show = df_j_names.iloc[-10:,:]\nplt.figure(figsize=(10,10))\ny_pos = np.arange(j_names_show.shape[0])\nplt.barh(y_pos, j_names_show['num_articles'])\n \n# Create names on the y-axis\nplt.yticks(y_pos, j_names_show['journal_name'])\nplt.xlabel('num articles')\nplt.ylabel('journal title')\nplt.show()","fe08cda0":"all_years = df['publish_time'].values.astype(str)\nall_4_digit = []\nfor y in all_years:\n    if len(y)==4:\n        all_4_digit.append(y)\nall_4_digit = np.array(all_4_digit)\n[years,counts]=np.unique(all_4_digit.astype(int),return_counts=True)","b38a9a3d":"plt.bar(years,counts)","cc921bbc":"# Example paper\nI'm not really sure how the papers are formatted within their JSON files so I thought I'd look at one to get an idea.","e2c3691c":"Not surprisingly for a \"novel\" coronavirus, nearly all of this research has been published in the last three months. I would like to explore which of these are in peer-reviewed journals and which are pre-prints next. Please leave other suggestions if you have them.","3e9db410":"This paper can be found here: https:\/\/bmcinfectdis.biomedcentral.com\/track\/pdf\/10.1186\/s12879-017-2934-3 <br>\nYou may or may not be able to access it, I'm not sure if it's open access or not.","879dcaa8":"It looks to me like each paragraph is broken up and the references are given along with the sentence where they are cited. You can iterate through the paragraph_num above to see all the text."}}