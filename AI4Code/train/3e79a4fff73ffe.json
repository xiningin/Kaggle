{"cell_type":{"7fa526bf":"code","f1e15081":"code","af762c6b":"code","98e85182":"code","d1e19cad":"code","ad0bbfa4":"code","5e19318b":"code","658ece80":"code","ac31aff5":"code","b50e7964":"code","034ac967":"code","cec3a2d9":"code","6108a9f7":"code","1fc2ebd6":"code","5ab3599e":"code","ce6c06dd":"code","bfc0d7ea":"code","0107d1fc":"code","48dc38ca":"code","55da8c38":"code","3dd960c0":"code","3072b6f5":"code","381a62e4":"markdown","b854e4b3":"markdown","aeb737bd":"markdown","3af9f659":"markdown","991259fe":"markdown","5738ef28":"markdown","ded4dfdf":"markdown","7d15a520":"markdown","c74a6495":"markdown","4efcc501":"markdown","884ef0d8":"markdown","a17fb683":"markdown","e146a7d2":"markdown","e725ab2a":"markdown","5883486c":"markdown","6a944504":"markdown","a1601efe":"markdown","47b0fea8":"markdown"},"source":{"7fa526bf":"#Data processing packages\nimport pandas as pd\nimport numpy as np\npd.set_option('display.max_colwidth', 300)\n\n#Visualization packages\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n#NLP packages\nfrom textblob import TextBlob\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","f1e15081":"#Testing NLP - Sentiment Analysis using TextBlob\nTextBlob(\"The movie is good\").sentiment","af762c6b":"#Importing YouTube comments data\n#data = pd.read_csv('..\/input\/glassdoorreviews.csv',encoding='utf8',error_bad_lines=False);#opening the file UScomments\ndata = pd.read_csv('..\/input\/Datafiniti_Hotel_Reviews_Jun19.csv');#opening the file UScomments","98e85182":"from wordcloud import WordCloud\n\ndef wc(data,bgcolor,title):\n    plt.figure(figsize = (50,50))\n    wc = WordCloud(background_color = bgcolor, max_words = 2000, random_state=42, max_font_size = 50)\n    wc.generate(' '.join(data))\n    plt.imshow(wc)\n    plt.axis('off')","d1e19cad":"#Displaying the first 5 rows of the data\ndata.head()","ad0bbfa4":"#Finding the size of the data\ndata.shape","5e19318b":"#Extracting 1000 random samples from the data\ncomm = data.sample(5000)\ncomm.shape","658ece80":"#Calculating the Sentiment Polarity\npolarity=[] # list which will contain the polarity of the comments\nsubjectivity=[] # list which will contain the subjectivity of the comments\nfor i in comm['reviews.text'].values:\n    try:\n        analysis =TextBlob(i)\n        polarity.append(analysis.sentiment.polarity)\n        subjectivity.append(analysis.sentiment.subjectivity)\n        \n    except:\n        polarity.append(0)\n        subjectivity.append(0)","ac31aff5":"#Adding the Sentiment Polarity column to the data\ncomm['polarity']=polarity\ncomm['subjectivity']=subjectivity","b50e7964":"comm[['name','reviews.text','polarity','subjectivity']][comm.polarity<0].head(10)","034ac967":"#Displaying the POSITIVE comments\ncomm[['name','reviews.text','polarity','subjectivity']][comm.polarity>0].head(10)","cec3a2d9":"#Displaying the NEGATIVE comments\ncomm[['name','reviews.text','polarity','subjectivity']][comm.polarity<0].head(10)","6108a9f7":"#Displaying the NEUTRAL comments\ncomm[['name','reviews.text','polarity','subjectivity']][comm.polarity==0].head(10)","1fc2ebd6":"#Displaying highly subjective reviews\ncomm[['name','reviews.text','polarity','subjectivity']][comm.subjectivity>0.8].head(10)","5ab3599e":"#Displaying highly positive reviews\ncomm[['name','reviews.text','polarity','subjectivity']][comm.polarity>0.8].head(10)","ce6c06dd":"wc(comm['reviews.text'][comm.polarity>0.8],'black','Common Words' )","bfc0d7ea":"#Displaying highly negative reviews\ncomm[['name','reviews.text','polarity','subjectivity']][comm.polarity<-0.4].head(10)","0107d1fc":"wc(comm['reviews.text'][comm.polarity<-0.4],'black','Common Words' )","48dc38ca":"comm.polarity.hist(bins=50)","55da8c38":"comm.subjectivity.hist(bins=50)","3dd960c0":"#Converting the polarity values from continuous to categorical\ncomm['polarity'][comm.polarity==0]= 0\ncomm['polarity'][comm.polarity > 0]= 1\ncomm['polarity'][comm.polarity < 0]= -1","3072b6f5":"comm.polarity.value_counts().plot.bar()\ncomm.polarity.value_counts()","381a62e4":"# Calculating Sentiment polarity for each comment","b854e4b3":"# Displaying Neutral comments","aeb737bd":"# Displaying the reviews with Polarity & Subjectivity","3af9f659":"# Displaying highly positive reviews","991259fe":"# Displaying first 5 rows of data","5738ef28":"# Testing Sentiment Analysis (sample)","ded4dfdf":"# Adding the Sentiment Polarity & Subjectivity columns to the data","7d15a520":"# Distribution of Subjectivity","c74a6495":"# Calculating the count of Positive, Negative & Neutral comments","4efcc501":"# Importing comments data","884ef0d8":"# Displaying Positive comments","a17fb683":"# Displaying highly negative reviews","e146a7d2":"# Importing python packages","e725ab2a":"# Extracting 1000 random samples from the data","5883486c":"# Displaying Negative comments","6a944504":"# Distribution of Polarity","a1601efe":"# Converting the polarity values from continuous to categorical","47b0fea8":"# Displaying highly subjective reviews"}}