{"cell_type":{"43ccaf4f":"code","12a1ea98":"code","e4a41f95":"code","b6fc678e":"code","e9d88d9e":"code","67b59001":"code","37483a62":"code","9a31ffba":"code","fabcc638":"code","32be320a":"code","08f45479":"code","e2ac1eab":"code","cc8bff2e":"code","b31d5669":"code","6ac9bbef":"code","d7feb6de":"code","73d726f6":"code","856fa658":"code","8c5358cb":"code","0843e236":"code","0a96f270":"code","020d84fc":"code","2ed28589":"code","6b9016b7":"code","cb164908":"code","8945fa63":"code","69f44830":"code","4beeae97":"code","a33ebab9":"code","83f88e9a":"code","94ec0733":"code","976c2544":"code","664c1ef5":"code","afdaf6d6":"code","db1fd700":"code","c4ce29b7":"code","81d82932":"code","5bff639d":"code","2c4e079c":"code","6411c296":"code","3e43bee1":"code","b97a7445":"code","6e475ba1":"markdown"},"source":{"43ccaf4f":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt \nimport warnings\nwarnings.filterwarnings('ignore') \nfrom collections import Counter\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","12a1ea98":"#5 farkl\u0131 datasetimiz var ve bunlar\u0131 okuyal\u0131m \nmedian_house_hold_in_come = pd.read_csv('\/kaggle\/input\/fatal-police-shootings-in-the-us\/MedianHouseholdIncome2015.csv', encoding=\"windows-1252\")\npercentage_people_below_poverty_level = pd.read_csv('\/kaggle\/input\/fatal-police-shootings-in-the-us\/PercentagePeopleBelowPovertyLevel.csv', encoding=\"windows-1252\")\npercent_over_25_completed_highSchool = pd.read_csv('\/kaggle\/input\/fatal-police-shootings-in-the-us\/PercentOver25CompletedHighSchool.csv', encoding=\"windows-1252\")\nshare_race_city = pd.read_csv('\/kaggle\/input\/fatal-police-shootings-in-the-us\/ShareRaceByCity.csv', encoding=\"windows-1252\")\nkill = pd.read_csv('\/kaggle\/input\/fatal-police-shootings-in-the-us\/PoliceKillingsUS.csv', encoding=\"windows-1252\")","e4a41f95":"#2 numaral\u0131 soru -Her eyaletin fakirlik oran\u0131\npercentage_people_below_poverty_level.head()","b6fc678e":"percentage_people_below_poverty_level.info()\n#poverty_rate de\u011ferim string ama bu sekilde isime yaramaz o y\u00fczden float yapmal\u0131y\u0131z","e9d88d9e":"percentage_people_below_poverty_level.poverty_rate.value_counts()\n#Burada hangi de\u011ferden ka\u00e7 tane oldu\u011funu g\u00f6rd\u00fck ve - \u015feklinde  201 tane veri oldugunu g\u00f6rd\u00fck \n#Ve 0 de\u011ferinde 1464 tane veri oldugunu g\u00f6rd\u00fck peki hangisi fakir de\u011fil demek bunu bilmiyoruz\n#Burada bunu bilemedi\u011fimiz i\u00e7in -de\u011ferindekileri 0'a e\u015fitleyip kurtulmam\u0131z gerekiyor \n","67b59001":"percentage_people_below_poverty_level.poverty_rate.replace(['-'],0.0,inplace = True) #- de\u011ferini 0.0 ile de\u011fi\u015ftir\npercentage_people_below_poverty_level.poverty_rate = percentage_people_below_poverty_level.poverty_rate.astype(float) #String olan poverty_rate i float yapt\u0131k","37483a62":"percentage_people_below_poverty_level.info() #G\u00f6r\u00fcld\u00fc\u011f\u00fc \u00fczere art\u0131k poverty_rate float oldu\n","9a31ffba":"area_list=list(percentage_people_below_poverty_level[\"Geographic Area\"].unique())\n#ppbpl datam\u0131zdaki Geographic area ismindeki columndaki data veri isimlerini g\u00f6relim\n#Burada Area daki state isimlerini olusturduk","fabcc638":"#\u015fimdi s\u0131ral\u0131 \u015fekilde datay\u0131 s\u0131ralayal\u0131m \narea_poverty_ratio = [] #Bo\u015f bir liste a\u00e7t\u0131k \nfor i in area_list:\n    x = percentage_people_below_poverty_level[percentage_people_below_poverty_level[\"Geographic Area\"]==i] #Burada ppbpl datas\u0131ndaki Geographic Area'lar\u0131 s\u0131rayla ald\u0131k \n    #buradaki ==i demek for d\u00f6ng\u00fcs\u00fcndeki her index de veri \u00e7ekebilmek i\u00e7indir \n    area_poverty_rate=sum(x.poverty_rate)\/len(x) #Burada poverty ratein ortalamas\u0131n\u0131 yani rate i ald\u0131k\n    area_poverty_ratio.append(area_poverty_rate) #Ve bo\u015f listemize ekledik \ndata = pd.DataFrame({'area_list': area_list, 'area_poverty_ratio': area_poverty_ratio}) #Yeni bir dataframe olusturduk \n#Sonrada poverrty ratiolar\u0131 b\u00fcy\u00fckten k\u00fc\u00e7\u00fcge s\u0131ralad\u0131k ve index verisini \u00e7ektik\nnew_index = (data['area_poverty_ratio'].sort_values(ascending=False)).index.values #Ascending = False azalan s\u0131ra demektir \nsorted_data = data.reindex(new_index) #Ve kullancag\u0131m\u0131z dataya bu indexleri aktard\u0131k\n\n#G\u00f6rsellestirme - BAR PLOT\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data['area_list'],y=sorted_data['area_poverty_ratio']) #datam\u0131zdan x ve y nin verilerini \u00e7ektik \nplt.xticks(rotation=45) #Burada x eksenindeki veri isimlerini 90 derece yani dikey yazd\u0131rmam\u0131z i\u00e7indi\n#Eger 45 desem variable isimleri \u00e7apraz duracakt\u0131\nplt.xlabel('States')\nplt.ylabel('Poverty Rate')\nplt.title('Poverty Rate Given States ')\nplt.show()","32be320a":"#\u015eimdi \u00f6ld\u00fcr\u00fclen en yayg\u0131n 15 isim veya soyisimi bulal\u0131m \n#\u00d6ncelikle datada bir hata var m\u0131 diye kontrol edelim Kill dataset kullan\u0131caz \nkill.head() #Biz burda name parametresini inceleyece\u011fiz ","08f45479":"kill.name.value_counts()\n#Burada TK TK diye bir veri var ki muhtemelen hatal\u0131 o y\u00fczden bunu analiz d\u0131\u015f\u0131 b\u0131rakal\u0131m \n","e2ac1eab":"separate = kill.name[kill.name !='TK TK'].str.split() #burada TK TK ya e\u015fit olmayanlar\u0131 g\u00f6rmek istiyoruz split ise aradaki bo\u015fluklar oldugu i\u00e7in \n#yeni bir kelime gibi kabul eder \na,b = zip(*separate) #Burada unzipledik ve tuble da isim ve soyisimleri toplayaca\u011f\u0131z \nname_list = a+b #Tuble oldugu i\u00e7in ayn\u0131 tuble a ald\u0131k \nname_count = Counter(name_list)\nmost_common_names = name_count.most_common(15) #.most_common() bir metoddur ve en yayg\u0131nlar\u0131 verir \nx,y = zip(*most_common_names)\nx,y = list(x),list(y)\n\n#G\u00f6rselle\u015ftirme - BAR PLOT \nplt.figure(figsize =(15,10)) \nsns.barplot(x=x, y=y,palette = sns.cubehelix_palette(len(x))) \n#Burada palette = ..... metodu x uzunlu\u011fu kadar birbiri ile alakal\u0131 farkl\u0131 renkte g\u00f6sterim yap\u0131lmas\u0131n\u0131 sa\u011flar \nplt.xlabel(\"Name or Surname of killed people\")\nplt.ylabel(\"Frequency\")\nplt.title(\"Most Common 15 Name or Surname of killed people\")","cc8bff2e":"#\u015eimdi 25 ya\u015f alt\u0131nda lise mezunu olanlar\u0131n oran\u0131n\u0131 inceleyelim \npercent_over_25_completed_highSchool.head()","b31d5669":"percent_over_25_completed_highSchool.info()","6ac9bbef":"#yine eksik data var m\u0131 bakal\u0131m - Y\u00fczdeyi istedi\u011fimiz i\u00e7in percent_completed_hs yi inceleriz \npercent_over_25_completed_highSchool.percent_completed_hs.value_counts() \npercent_over_25_completed_highSchool.percent_completed_hs.replace([\"-\"],0.0,inplace=True)\n#Ayr\u0131ca bu veri string(object) oldugu i\u00e7in float yapal\u0131m \n#percent_over_25_completed_highSchool=float(percent_over_25_completed_highSchool.percent_completed_hs) #\u015feklinde hata verir o y\u00fczden astype kullan\u0131r\u0131z .\npercent_over_25_completed_highSchool.percent_completed_hs = percent_over_25_completed_highSchool.percent_completed_hs.astype(float)\n\n#\u015fimdi bu durumdaki geographic area lar\u0131 g\u00f6relim \narea_list = list(percent_over_25_completed_highSchool[\"Geographic Area\"].unique())\narea_highschool = []\nfor i in area_list:\n    x = percent_over_25_completed_highSchool[percent_over_25_completed_highSchool[\"Geographic Area\"]==i]\n    area_highschool_rate = sum(x.percent_completed_hs)\/len(x)\n    area_highschool.append(area_highschool_rate)\n    \n# S\u0131ralayal\u0131m \ndata=pd.DataFrame({'area_list':area_list, 'area_highschool_ratio': area_highschool})\nnew_index = (data['area_highschool_ratio'].sort_values(ascending=True)).index.values\nsorted_data2=data.reindex(new_index)\n\n#G\u00f6rselle\u015ftirme Bar Plot \nplt.figure(figsize=(18,15))\nsns.barplot(x=sorted_data2['area_list'],y=sorted_data2['area_highschool_ratio'])\nplt.xticks(rotation = 45)\nplt.xlabel('States')\nplt.ylabel('High School Graduate Rate')\nplt.title(\"Percentage of Gives States' Population Above 25 that has graduated High School\")\nplt.show()          ","d7feb6de":"#YATAY BARPLOT \n#Eyaletlerdeki \u0131rklar\u0131n oran\u0131n\u0131 g\u00f6rselle\u015ftirelim SHARE RACE CITY DF \u0130LE \nshare_race_city.head()\n","73d726f6":"share_race_city.info()","856fa658":"#Bu oranlar\u0131 object de\u011fil say\u0131 (float) yapmal\u0131y\u0131z \n#Ama \u00f6nce datalar i\u00e7inde bir hatal\u0131 giris var m\u0131 bakal\u0131m ornegin share_white ile bakal\u0131m\nshare_race_city.share_white.value_counts() \n#G\u00f6r\u00fcn\u00fcrde bir\u015fey yok ama \u00f6nceki datasetlerden g\u00f6rd\u00fc\u011f\u00fcm\u00fcz kadar\u0131yla X ve - vard\u0131 onlar\u0131 0 yapal\u0131m \n","8c5358cb":"share_race_city.replace([\"-\"],0.0,inplace=True)\nshare_race_city.replace([\"(X)\"],0.0,inplace=True)\nshare_race_city.loc[:,['share_white','share_black','share_native_american','share_asian','share_asian','share_hispanic']]=share_race_city.loc[:,['share_white','share_black','share_native_american','share_asian','share_asian','share_hispanic']].astype(float)\n#Burada city ve G.area d\u0131\u015f\u0131ndaki verileri float yapt\u0131k\narea_list = list(share_race_city[\"Geographic area\"].unique())\nshare_white = []\nshare_black = []\nshare_native_american = []\nshare_asian = []\nshare_hispanic = []\nfor i in area_list:\n    x = share_race_city[share_race_city['Geographic area']==i]\n    share_white.append(sum(x.share_white)\/len(x))\n    share_black.append(sum(x.share_black) \/ len(x))\n    share_native_american.append(sum(x.share_native_american) \/ len(x))\n    share_asian.append(sum(x.share_asian) \/ len(x))\n    share_hispanic.append(sum(x.share_hispanic) \/ len(x))\n#G\u00f6rselle\u015ftirme \nf,ax = plt.subplots(figsize=(9,15))\nsns.barplot(x=share_white, y=area_list, color=\"green\",alpha =0.5, label=\"White\")\nsns.barplot(x=share_black,y=area_list,color='blue',alpha = 0.7,label='African American')\nsns.barplot(x=share_native_american,y=area_list,color='cyan',alpha = 0.6,label='Native American')\nsns.barplot(x=share_asian,y=area_list,color='yellow',alpha = 0.6,label='Asian')\nsns.barplot(x=share_hispanic,y=area_list,color='red',alpha = 0.6,label='Hispanic')   \n\nax.legend(loc='lower right',frameon = True) # Alt taraf sa\u011f k\u00f6\u015fede frameon=True yaparsam bir kutu i\u00e7inde labelleri g\u00f6sterir \nax.set(xlabel='Percentage of Races', ylabel='States',title = \"Percentage of State's Population According to Races\")\nplt.show()","0843e236":"#POINT PLOT \n# High school graduation rate vs Poverty rate of each state - Mezuniyet vs Fakirlik oran\u0131\nprint(sorted_data.head())\nprint(sorted_data2.head())","0a96f270":"#Hali haz\u0131rda olusturdugumuz sorted_data ve sorted_data2 kullanarak g\u00f6rselle\u015ftirmemizi yapal\u0131m \n#Ama burada veriler g\u00f6r\u00fcld\u00fc\u011f\u00fc gibi biri 25 lerde iken di\u011fer data 75 lerde o y\u00fczden max a b\u00f6lerek normalize ettik\nsorted_data[\"area_poverty_ratio\"]=sorted_data[\"area_poverty_ratio\"]\/max(sorted_data[\"area_poverty_ratio\"])\nsorted_data2[\"area_highschool_ratio\"]=sorted_data2[\"area_highschool_ratio\"]\/max(sorted_data2[\"area_highschool_ratio\"])\n#\u015eimdi datalar\u0131m\u0131z\u0131 concat komutu ile birle\u015ftirelim \ndata=pd.concat([sorted_data,sorted_data2[\"area_highschool_ratio\"]],axis=1)\ndata.sort_values(\"area_poverty_ratio\",inplace=True) \n#G\u00f6rselle\u015ftirme \nf, ax1=plt.subplots(figsize=(20,10))\nsns.pointplot(x=\"area_list\",y=\"area_poverty_ratio\",data=data,color=\"lime\",alpha=0.75) #x ve y ye string atabilmemizi sa\u011flayan \u015fey data=data yap\u0131s\u0131d\u0131r \n#soldaki data kal\u0131p = data ise bizim datam\u0131za verdi\u011fimiz isim, bu sayede columnlar\u0131 string seklinde yazarak atama yapabilirz \nsns.pointplot(x=\"area_list\",y=\"area_highschool_ratio\",data=data,color=\"red\",alpha=0.8)\nplt.text(40,0.6,'high school graduate ratio',color='red',fontsize = 17,style = 'italic')\nplt.text(40,0.55,'poverty ratio',color='lime',fontsize = 18,style = 'italic') #Burada 40,0.55 olan k\u0131s\u0131m kordinat ve tabloya string yaz\u0131yoruz\nplt.xlabel('States',fontsize = 15,color='blue')\nplt.ylabel('Values',fontsize = 15,color='blue')\nplt.title('High School Graduate  VS  Poverty Rate',fontsize = 20,color='blue')\nplt.grid()","020d84fc":"#JOINT PLOT \n# High school graduation rate vs Poverty rate of each state - Mezuniyet vs Fakirlik oran\u0131\ndata.head()","2ed28589":"#Bu t\u00fcrde tek komut ile yazd\u0131rabiliyoruz ve size plotun boyutudur\ng=sns.jointplot(data.area_poverty_ratio,data.area_highschool_ratio,kind=\"kde\",size=7)\nplt.savefig(\"graph.png\")\nplt.show()","6b9016b7":"# you can change parameters of joint plot\n# kind : { \u201cscatter\u201d | \u201creg\u201d | \u201cresid\u201d | \u201ckde\u201d | \u201chex\u201d }\n# Different usage of parameters but same plot with previous one\ng = sns.jointplot(\"area_poverty_ratio\", \"area_highschool_ratio\", data=data,size=5, ratio=3, color=\"r\")\n#scatter type default olarak geldi\u011fi i\u00e7in yazmad\u0131k ","cb164908":"#PIE CHART \n#Race rates according to kill data \nkill.race.head(15)","8945fa63":"kill.race.dropna(inplace = True) #race column da bo\u015f varsa att\u0131k\nkill.race.value_counts() #Hangi \u0131rktan kac tane oldugunu g\u00f6rd\u00fck ","69f44830":"labels = kill.race.value_counts().index\ncolors=[\"grey\",\"blue\",\"red\",\"yellow\",\"green\",\"brown\"]\nexplode=[0,0,0,0,0,0]\nsizes = kill.race.value_counts().values\n\n#G\u00f6rsellestirme \nplt.figure(figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%') #bir ondal\u0131kl\u0131 g\u00f6stermek i\u00e7in autopct ekledik\nplt.title(\"Killed People According to Races\",color =\"blue\", fontsize =15,fontstyle =\"italic\")\nplt.show()","4beeae97":"#LM PLOT \n#High school graduation rate vs Poverty rate of each state with different style of seaborn code\n# Show the results of a linear regression within each dataset\nsns.lmplot(x=\"area_poverty_ratio\",y=\"area_highschool_ratio\", data=data)\nplt.show()","a33ebab9":"#KDE PLOT (KERNEL DENSITY ESTIMATION PLOT)\n# high school graduation rate vs Poverty rate of each state with different style of seaborn code\nsns.kdeplot(data.area_poverty_ratio,data.area_highschool_ratio,shade=5,cut=5) #cut b\u00fcy\u00fckl\u00fc\u011f\u00fc ifade eder ve de\u011fer k\u00fc\u00e7\u00fcld\u00fckce grafik b\u00fcy\u00fcr\nplt.show()","83f88e9a":"#V\u0131olin Plot \n# Show each distribution with both violins and points\n#Bu tarz ile farkl\u0131 featurelar\u0131n de\u011fer dag\u0131l\u0131m\u0131na bakar\u0131z, korelasyon yerine \nprint(data.head())\npal=sns.cubehelix_palette(2,rot=-.5,dark=.3) #Bu renk kodudur ve googledan seaborn palette yaz\u0131larak bircok t\u00fcr bulunabilir \nsns.violinplot(data=data, palette=pal, inner=\"points\") #points komutu ile noktal\u0131 bicimde g\u00f6rmemizi saglar ve noktalar\u0131n oldugu yerler degerlerin oldugu yerlerdir \nplt.show() #Sadece numerik seyleri g\u00f6rsellestiren bir t\u00fcrd\u00fcr \n","94ec0733":"#HEATMAP - Korelasyon Haritas\u0131\n#high school graduation rate vs Poverty rate of each state with different style of seaborn code\nprint(data.corr()) #G\u00f6r\u00fcld\u00fc\u011f\u00fc \u00fczere -0.8 civar\u0131 yani ters orant\u0131l\u0131d\u0131r. \nf,ax =plt.subplots(figsize=(5,5))\nsns.heatmap(data.corr(),annot=True, linecolor= \"red\",linewidths = .5, fmt =\".1f\",ax=ax) #annot = True sayesinde kutular\u0131n i\u00e7inde de de\u011ferleri verir\nplt.show()\n","976c2544":"#BOX PLOT \n#Manner of Death \nprint(kill.head())\n#Cinsiyet ve yas\u0131n\u0131 da g\u00f6rmek istiyoruz \nsns.boxplot(x=\"gender\", y=\"age\",hue=\"manner_of_death\",data=kill,palette=\"PRGn\") #hue = class demektir yani classlar\u0131na ay\u0131rmak demek, shot ve shot and Teasered olarak ay\u0131rd\u0131\nplt.show()","664c1ef5":"#SWARM PLOT \n#Manner of Death \n#Cok kullan\u0131sl\u0131d\u0131r ama data say\u0131s\u0131 \u00e7ok ise dezavantajl\u0131d\u0131r.\nsns.swarmplot(x=\"gender\",y=\"age\",hue = \"manner_of_death\", data=kill)\nplt.show()","afdaf6d6":"#PAIR PLOT \n#Fakirlik vs lise mezuniyeti \ndata.head()","db1fd700":"sns.pairplot(data)\nplt.show()","c4ce29b7":"#COUNT PLOT \n#.value_counts() metodunun grafikle\u015ftirilmesi gibi d\u00fc\u015f\u00fcn\u00fclebilir.\nkill.manner_of_death.value_counts()","81d82932":"sns.countplot(kill.gender)\n# sns.countplot(kill.manner_of_death)\nplt.title(\"gender\",color=\"red\",fontsize=15)\nplt.show()\n","5bff639d":"#kill weapon \narmed = kill.armed.value_counts()\nprint(armed)\nplt.figure(figsize = (10,7))\nsns.barplot(x=armed[:7].index, y=armed[:7].values)\nplt.ylabel(\"Number of weapon\")\nplt.xlabel(\"Weapon Types\")\nplt.title(\"Kill Weapon\",color=\"blue\",fontsize=20,fontstyle=\"italic\")","2c4e079c":"#Age of Killed People \nabove25=[\"above25\" if i >= 25 else \"below25\" for i in kill.age]\ndf = pd.DataFrame({\"age\":above25})\nsns.countplot(x=df.age)\nplt.ylabel(\"Number of Killed People\")\nplt.xlabel(\"Age of Killed People\",color =\"red\",fontsize = 15)\nplt.show()","6411c296":"# Race of killed people\nsns.countplot(data=kill, x='race')\nplt.title('Race of killed people',color = 'blue',fontsize=15)\nplt.show()","3e43bee1":"# Most dangerous cities\ncity = kill.city.value_counts()\nplt.figure(figsize=(10,7))\nsns.barplot(x=city[:12].index,y=city[:12].values)\nplt.xticks(rotation=45)\nplt.title('Most dangerous cities',color = 'blue',fontsize=15)","b97a7445":"# most dangerous states\nstate = kill.state.value_counts()\nplt.figure(figsize=(10,7))\nsns.barplot(x=state[:20].index,y=state[:20].values)\nplt.title('Most dangerous state',color = 'blue',fontsize=15)","6e475ba1":"# INTRODUCTION \n1.  Read datas\n1.  Poverty rate of each state - Her eyaletin fakirlik oran\u0131\n1.  Most common 15 Name or Surname of killed people - En cok \u00f6ld\u00fcr\u00fclen 15 isim-  soyisim\n1.  High school graduation rate of the population that is older than 25 in states - 25 yas\u0131nda mezun olanlar\u0131n oran\u0131\n1.  Percentage of state's population according to races that are black,white,native american, asian and hispanic  - \u00d6ld\u00fcr\u00fclenlerin fiziki g\u00f6r\u00fcn\u00fcm\u00fc\n1.  High school graduation rate vs Poverty rate of each state - Mezuniyet vs Fakirlik oran\u0131\n1.  Kill properties  \n    * Manner of death\n    * Kill weapon\n    * Age of killed people\n    * Race of killed people\n    * Most dangerous cities\n    * Most dangerous states\n    * Having mental ilness or not for killed people\n    * Threat types\n    * Flee types\n    * Having body cameras or not for police\n1.  Race rates according to states in kill data\n1.  Kill numbers from states in kill data\n\n      - Plot Contents :\n   1. Bar Plot\n   1. Point Plot\n   1. Joint Plot\n   1. Pie Chart\n   1. Lm Plot\n   1. Kde Plot (KERNEL DENSITY ESTIMATION PLOT)\n   1. Violin Plot\n   1. Heatmap\n   1. Box Plot\n   1. Swarm Plot\n   1. Pair Plot\n   1. Count Plot"}}