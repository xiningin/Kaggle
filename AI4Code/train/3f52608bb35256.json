{"cell_type":{"a73ca862":"code","173643e5":"code","a4e16612":"code","ea238b60":"code","3eec23a9":"code","f464cf1b":"code","2508d149":"code","95d53ac7":"code","e6135f3a":"code","fcd5fb81":"code","bbe245cf":"code","e32bd80b":"code","ab7e0a61":"code","2af0998a":"code","8b63e721":"code","0670f070":"code","868b0d29":"code","fa0d2835":"code","66b89ae6":"code","339aa126":"code","6cbd2150":"code","ef470786":"code","aaf6ee00":"code","4ec787fd":"code","4556168b":"code","2896524b":"code","f9235209":"code","6d2911da":"code","0b0faae0":"code","1ab46a88":"code","825cbeda":"code","7f8efd92":"code","5daab6c4":"code","34c4b9c4":"code","bb9f1959":"code","254822be":"code","fb05e7d9":"code","dbc1fbcd":"code","dfd2aadc":"code","e85d8a3f":"code","ef688c63":"code","1db22093":"code","315fab4b":"code","09b6dde9":"code","977888f0":"code","c3ad912e":"code","154b1e79":"code","e3cc2081":"code","d4e213ac":"code","f9a82bd0":"code","247ccbf7":"code","829793c3":"code","0e685957":"code","87f316e3":"code","e0a60360":"code","6f91d21b":"code","4800093b":"code","18e5ef57":"code","94a237fa":"code","173bbaa0":"code","cf1a630a":"code","459b2dd6":"code","03647dc1":"code","e140c15f":"code","bb420422":"code","d25044c2":"code","96aca289":"code","669dd8fc":"code","e1190c9d":"code","abdac93e":"code","cdfaeb6d":"code","2b519cd7":"code","323a5fc4":"markdown","63a569a1":"markdown","398e7cf8":"markdown","9bf35562":"markdown","b6eab72c":"markdown","5225a166":"markdown","2d035e41":"markdown","7634ad17":"markdown","24112cb2":"markdown","c59c0354":"markdown","1c9928db":"markdown","aca83f81":"markdown","1a2f8acb":"markdown","5896388c":"markdown","a0ea6d11":"markdown","ebe3b418":"markdown","9c282045":"markdown","7b5e465b":"markdown","b966067d":"markdown","fccbf313":"markdown","4b9ee539":"markdown","b9de24ea":"markdown"},"source":{"a73ca862":"import csv\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport math\nimport folium\nfrom geopy.geocoders import Nominatim\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\nfrom wordcloud import WordCloud,STOPWORDS\nimport numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom wordcloud import WordCloud\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport folium\nfrom folium.plugins import HeatMap\nfrom plotly.offline import init_notebook_mode, iplot\nimport warnings\nwarnings.filterwarnings(\"ignore\")","173643e5":"df = pd.read_csv(\"..\/input\/crime-in-los-angeles-data-from-2020-to-present\/Crime_Data_from_2020_to_Present.csv\")\ndf1 = pd.read_csv(\"..\/input\/los-angeles-crime-data-20102020\/Crime_Data_from_2010_to_2019.csv\")\ndf2 = pd.read_csv(\"..\/input\/los-angeles-crime-data-20102020\/Crime_Data_from_2020_to_Present.csv\")","a4e16612":"df.info(),df1.info(),df2.info()","ea238b60":"df= pd.concat([df,df1])","3eec23a9":"df= pd.concat([df,df2])","f464cf1b":"df.info()","2508d149":"df['DATE OCC'] = df['DATE OCC'].str.extract(r'(\\d{2}\/\\d{2}\/\\d{4})') ","95d53ac7":"df['DATE OCC'] = pd.to_datetime(df['DATE OCC'], format='%m\/%d\/%Y')","e6135f3a":"df['Day'] = df['DATE OCC'].dt.day_name()","fcd5fb81":"df['Month'] = df['DATE OCC'].dt.month_name()","bbe245cf":"df['Year'] = df['DATE OCC'].dt.year","e32bd80b":"df['TIME OCC'] = df['TIME OCC'].astype(str).str.zfill(4)\ndf['HOUR OCC'] = df['TIME OCC'].apply(lambda t: int(t[:2]))","ab7e0a61":"df.columns","2af0998a":"df = df[['DATE OCC', 'TIME OCC','HOUR OCC','Day', 'Month', 'Year','AREA', 'AREA ', 'AREA NAME', 'Crm Cd',\n       'Crm Cd Desc', 'Vict Age', 'Vict Sex', 'Vict Descent', 'Premis Cd',\n       'Premis Desc', 'Weapon Used Cd', 'Weapon Desc', 'Status Desc',\n       'Crm Cd 1', 'LOCATION', 'LAT', 'LON']]","8b63e721":"df.head(2)","0670f070":"import missingno as msno\nmsno.matrix(df)\nplt.show()","868b0d29":"df['AREA'].update(df.pop('AREA '))","fa0d2835":"msno.matrix(df)\nplt.show()","66b89ae6":"df.fillna('MISSING',inplace=True)","339aa126":"plt.figure(figsize=(25,15))\nwordcloud = WordCloud(\n                          background_color='black',\n                          width=1920,\n                          height=1080\n                         ).generate(\" \".join(df['Crm Cd Desc']))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\nplt.show()","6cbd2150":"g = sns.FacetGrid(df,row=\"Crm Cd Desc\", size=1.9, aspect=4,sharex=True,sharey=False)\ng.map(sns.distplot, \"HOUR OCC\", bins=24, kde=False, rug=False)","ef470786":"labels = df['Day'].unique()\nvalues=[]\nfor each in labels:\n    values.append(len(df[df['Day']==each]))\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, hole=.3)])\nfig.show()","aaf6ee00":"plt.figure(figsize=(10,30))\ncount = sns.countplot(\n    data = df, \n    y = 'Crm Cd Desc',\n)\nplt.show()","4ec787fd":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"Month\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","4556168b":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"Year\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","2896524b":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"HOUR OCC\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","f9235209":"plt.figure(figsize=(20,15))\nax = sns.countplot(x=\"AREA NAME\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","6d2911da":"df.drop(df[df['Vict Age'] < 1].index, axis=0, inplace=True)","0b0faae0":"plt.figure(figsize=(25,15))\nax = sns.countplot(x=\"Vict Age\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","1ab46a88":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"Vict Descent\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","825cbeda":"crimeByYear = df['Year'].value_counts(sort=False).sort_index()\ncrimeByYear.plot(kind = 'line')","7f8efd92":"for year in crimeByYear.keys():\n    crimeYear = df[df['Year'] == year]['Crm Cd Desc'].value_counts()[:10]\n    crimeYear = crimeYear.plot(kind = 'bar',title = \"Crimes year \" + str(year))\n    plt.show()","5daab6c4":"crimeByArea = df['AREA NAME'].value_counts().sort_index()\ncrimeCommonType = {}\nfor area in crimeByArea.keys():\n    crimeArea = df[df['AREA NAME'] == area]['Crm Cd Desc'].value_counts()[:10]\n    for crType in crimeArea.keys():\n        if not crType in crimeCommonType:\n            crimeCommonType[crType] = [area]\n        else:\n            crimeCommonType[crType].append(area)\n    crimeArea = crimeArea.plot(kind = 'bar',title = \"Crimes in \" + area)\n    plt.show()","34c4b9c4":"df['Status Desc'].value_counts().plot(kind = 'pie',autopct='%.2f',figsize=(6,6))","bb9f1959":"for status in df['Status Desc'].value_counts().keys():\n    temp = df[df['Status Desc'] == status]['Crm Cd Desc'].value_counts()\n    print(\"Most common crime with {} is {}\".format(status,temp.keys()[0]))","254822be":"rdf = df[df['Crm Cd Desc'].str.match('RAPE')]","fb05e7d9":"crimeByArea = rdf['AREA NAME'].value_counts().sort_index()\ncrimeCommonType = {}\nfor area in crimeByArea.keys():\n    crimeArea = rdf[rdf['AREA NAME'] == area]['Crm Cd Desc'].value_counts()[:10]\n    for crType in crimeArea.keys():\n        if not crType in crimeCommonType:\n            crimeCommonType[crType] = [area]\n        else:\n            crimeCommonType[crType].append(area)\n    crimeArea = crimeArea.plot(kind = 'bar',title = \"Rapes in \" + area)\n    plt.show()","dbc1fbcd":"crimeByYear = rdf['Year'].value_counts(sort=False).sort_index()\ncrimeByYear.plot(kind = 'barh')","dfd2aadc":"plt.figure(figsize=(25,15))\nax = sns.countplot(x=\"Vict Age\", data=rdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","e85d8a3f":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"AREA NAME\", data=rdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","ef688c63":"plt.figure(figsize=(15,10))\nax = sns.countplot(x=\"HOUR OCC\", data=rdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","1db22093":"Stdf = df[df['AREA NAME'].str.match('77th Street')]","315fab4b":"plt.figure(figsize=(15,10))\nax = sns.countplot(x=\"HOUR OCC\", data=Stdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","09b6dde9":"vdf = df[df['Crm Cd Desc'].str.match('VEHICLE')]","977888f0":"plt.figure(figsize=(15,10))\nax = sns.countplot(x=\"HOUR OCC\", data=vdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","c3ad912e":"plt.figure(figsize=(15,10))\nax = sns.countplot(x=\"Year\", data=vdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","154b1e79":"plt.figure(figsize=(15,10))\nax = sns.countplot(x=\"AREA NAME\", data=vdf,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","e3cc2081":"dfCOVID = pd.read_csv(\"..\/input\/us-covid19-dataset-live-hourlydaily-updates\/Counties.csv\")","d4e213ac":"dfCOVID","f9a82bd0":"LACovidDF = dfCOVID[dfCOVID['county'].str.match('Los Angeles')]","247ccbf7":"LACovidDF","829793c3":"LACovidDF['date'] = LACovidDF['date'].str.extract(r'(\\d{4}-\\d{2}-\\d{2})') \nLACovidDF['date'] = pd.to_datetime(LACovidDF['date'], format='%Y-%m-%d')\nLACovidDF['Day'] = LACovidDF['date'].dt.day_name()\nLACovidDF['Month'] = LACovidDF['date'].dt.month_name()\nLACovidDF['Year'] = LACovidDF['date'].dt.year","0e685957":"LACovidDF","87f316e3":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"Month\", data=LACovidDF,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","e0a60360":"Crime2020 = df.loc[df['Year']>=2020]","6f91d21b":"plt.figure(figsize=(15,8))\nax = sns.countplot(x=\"Month\", data=Crime2020,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","4800093b":"LAPDCalls2010 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2010.csv\")","18e5ef57":"LAPDCalls2011 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2011.csv\")\nLAPDCalls2012 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2012.csv\")\nLAPDCalls2013 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2013.csv\")\nLAPDCalls2014 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2014.csv\")\nLAPDCalls2015 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2015.csv\")\nLAPDCalls2016 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2016.csv\")\nLAPDCalls2017 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2017.csv\")\nLAPDCalls2018 = pd.read_csv(\"..\/input\/los-angeles-police-department-service-calls\/lapd-calls-for-service-2018.csv\")","94a237fa":"pdList = [LAPDCalls2010,LAPDCalls2011,LAPDCalls2012,LAPDCalls2013,LAPDCalls2014,LAPDCalls2015,LAPDCalls2016,LAPDCalls2017,LAPDCalls2018]\nLAPDCalls = pd.concat(pdList)","173bbaa0":"LAPDCalls.columns","cf1a630a":"LAPDCalls.head()","459b2dd6":"LAPDCalls['Area Occurred'].value_counts()","03647dc1":"plt.figure(figsize=(20,15))\nax = sns.countplot(x=\"Area Occurred\", data=LAPDCalls,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","e140c15f":"df['AREA NAME'].value_counts()","bb420422":"plt.figure(figsize=(20,15))\nax = sns.countplot(x=\"AREA NAME\", data=df,\n                   facecolor=(0, 0, 0, 0),\n                   linewidth=5,\n                   edgecolor=sns.color_palette(\"dark\", 24))","d25044c2":"crimeByYear = df['Year'].value_counts(sort=False).sort_index()\ncrimeByYear.plot(kind = 'line')\nfor year in crimeByYear.keys():\n    crimeYear = df[df['Year'] == year]['AREA NAME'].value_counts()[:10]\n    crimeYear = crimeYear.plot(kind = 'bar',title = \"Crimes year \" + str(year))\n    plt.show()","96aca289":"LAPDCalls.head(2)","669dd8fc":"LAPDCalls['Dispatch Date'] = LAPDCalls['Dispatch Date'].str.extract(r'(\\d{4}-\\d{2}-\\d{2})') \nLAPDCalls['Dispatch Date'] = pd.to_datetime(LAPDCalls['Dispatch Date'], format='%Y-%m-%d')\nLAPDCalls['Day'] = LAPDCalls['Dispatch Date'].dt.day_name()\nLAPDCalls['Month'] = LAPDCalls['Dispatch Date'].dt.month_name()\nLAPDCalls['Year'] = LAPDCalls['Dispatch Date'].dt.year","e1190c9d":"crimeByYear = LAPDCalls['Year'].value_counts(sort=False).sort_index()\ncrimeByYear.plot(kind = 'line')\nfor year in crimeByYear.keys():\n    crimeYear = LAPDCalls[LAPDCalls['Year'] == year]['Area Occurred'].value_counts()[:10]\n    crimeYear = crimeYear.plot(kind = 'bar',title = \"Crimes year \" + str(year))\n    plt.show()","abdac93e":"import xlrd\nimport random\nimport pandas as pd\nimport seaborn as sns\n!pip install geopandas\nimport geopandas as gpd\nimport matplotlib.pyplot as plt\n\nsns.set_style('whitegrid')","cdfaeb6d":"fp = \"\/content\/geo_export_6bc0979d-b223-4f2f-bdc2-3b836f79bdf1.shp\"\nmap_df = gpd.read_file(fp)\nmap_df.head()","2b519cd7":"map_df.plot()","323a5fc4":"Crimes Area Wise","63a569a1":"**A graph repsentation for visualizing which crime occurs most and at which hour of the day**","398e7cf8":"Visualizing the missing data","9bf35562":"Crime:Rape Stats","b6eab72c":"A world cloud telling which crimes are emore prevelant in LA","5225a166":"Pattern indication rise and fall of crime scene in LA","2d035e41":"Visualizing Crimes month wise","7634ad17":"Extracting the date,day name,month and year from Date Occured column","24112cb2":"Visualizing time which are peak crime time","c59c0354":"Which ethnicity is more prone to be victims?","1c9928db":"Visualizing which locality has most crimes ","aca83f81":"Visualizing Crimes frequency","1a2f8acb":"Crimes plot Year Wise","5896388c":"Visualizing Crimes Year wise","a0ea6d11":"**Concatenation** all the DataFrames ","ebe3b418":"Vehicle Related Crimes","9c282045":"Visualizing which day of the week is most violent in LA","7b5e465b":"Status of Cases","b966067d":"**Getting information about the dataset,name of columns and dtypes**","fccbf313":"Loading all the crime datasets separately","4b9ee539":"Visualizing Victim Age wise","b9de24ea":"77th Street is the most violent location crime wise, but when is the crime at peak for the day?"}}