{"cell_type":{"8e92cc6f":"code","8e270111":"code","00a8b063":"code","a22d5377":"code","d3573343":"code","6df4ab39":"code","bc8c5188":"code","0855dada":"code","8a4b4d2d":"code","be2b3640":"code","e8158880":"code","47bc2434":"code","35cb20a5":"code","327c8dfb":"code","9f53bfc5":"code","3f20ba41":"code","e69cd75a":"code","23ca80cb":"code","59f87b6c":"code","537a2851":"code","62e0b5a6":"code","ae0892ab":"code","4e4b2fe4":"code","dd008d3a":"code","798396d4":"code","671d4704":"code","717bf7ef":"code","64e07d63":"code","b7e01851":"code","fcaf461a":"code","1742f3dc":"code","4d94c86f":"code","b6a77a01":"code","4fac3360":"code","e8f18fef":"code","a2ff6fda":"code","298a3ea7":"code","17299ed4":"code","b58285f1":"code","96b6b9df":"code","14fdd3b2":"code","f64ae902":"code","bbafb95c":"code","7a6a514b":"code","81bbbfd4":"code","c71b6eed":"code","13825728":"code","f37cde44":"markdown","8579adbf":"markdown","b3cef391":"markdown","a8121cc2":"markdown","bb48441a":"markdown","e47bb501":"markdown","8c8a2ef5":"markdown","d5d9fd03":"markdown","ebad54f2":"markdown","a4fb788a":"markdown","afebfb1c":"markdown","7399887a":"markdown","67a766d5":"markdown","541c0f79":"markdown","1dbccd56":"markdown","551524b7":"markdown","74c33311":"markdown","18079b85":"markdown","1ef94d12":"markdown","03874eb8":"markdown","9e8263c2":"markdown","f0d6a717":"markdown","fe553295":"markdown","9da4966b":"markdown","220e409b":"markdown","a6d651a8":"markdown"},"source":{"8e92cc6f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n#plotly\nimport plotly.plotly as py\nfrom plotly.offline import iplot, init_notebook_mode\nimport plotly.graph_objs as go\nimport plotly.io as pio\ninit_notebook_mode(connected=True)\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","8e270111":"df = pd.read_csv('..\/input\/globalterrorismdb_0718dist.csv', encoding='ISO-8859-1')","00a8b063":"df.head()  #gives us top 5 rows of the dataframe","a22d5377":"df.describe()","d3573343":"df.isnull().count()","6df4ab39":"df.isnull().sum() #gives us total no. of missing values for all the columns","bc8c5188":"totalms = df.isnull().sum().sort_values(ascending=False)\npercentagems = (df.isnull().sum()\/ df.isnull().count()).sort_values(ascending=False)\nmissingdata = pd.concat([totalms, percentagems], axis=1, keys=['Total', 'Percentage'])\nmissingdata.head()","0855dada":"print(df.shape)","8a4b4d2d":"print(missingdata.shape)","be2b3640":"print(missingdata)","e8158880":"fig, ax = plt.subplots(figsize=(20,10))\nax = sns.countplot(x='iyear', palette='GnBu_d', data=df, orient=\"v\")\n_ = plt.xlabel('Years')\n_ = plt.setp(ax.get_xticklabels(), rotation = 90)","47bc2434":"df['country_txt'].value_counts()","35cb20a5":"fig, ax = plt.subplots(figsize=(15,10))\nax = sns.countplot(x='country_txt', data=df, order=df['country_txt'].value_counts()[:15].index, palette='inferno')\n_ = plt.xlabel('Countries')\n_ = plt.setp(ax.get_xticklabels(), rotation = 90)","327c8dfb":"df['region_txt'].value_counts()","9f53bfc5":"df['region_txt'].isna().sum()","3f20ba41":"fig, ax = plt.subplots(figsize=(15,10))\nax = sns.countplot(x='region_txt', data=df, palette='plasma', order=df['region_txt'].value_counts().index)\n_ = plt.xlabel('Region')\n_ = plt.setp(ax.get_xticklabels(), rotation = 60)","e69cd75a":"terror_region = pd.crosstab(df['iyear'], df['region_txt'])\nterror_region.plot(color=sns.color_palette('viridis', 12))\nfig = plt.gcf()\nfig.set_size_inches(10,6)\n#use plotly","23ca80cb":"print(terror_region.head())","59f87b6c":"sns.countplot(x='success', data=df, palette='hls')","537a2851":"sns.countplot(x='suicide', data=df, palette='twilight')","62e0b5a6":"df['attacktype1_txt'].isnull().sum()","ae0892ab":"fig, ax = plt.subplots(figsize=(15,10))\nax = sns.countplot(x='attacktype1_txt', data=df, palette='plasma_r', order=df['attacktype1_txt'].value_counts().index)\n_ = plt.xlabel('AttackType')\n_ = plt.setp(ax.get_xticklabels(), rotation = 75)","4e4b2fe4":"terror_attack = pd.crosstab(df['iyear'], df['attacktype1_txt'])\nterror_attack.plot(color = sns.color_palette('Set3', 9))\nfig = plt.gcf()\nfig.set_size_inches(10, 6)","dd008d3a":"df['attacktype2_txt'].value_counts()","798396d4":"df['attacktype3_txt'].value_counts()","671d4704":"df['attacktype1_txt'].isna().sum()","717bf7ef":"percentage_missing = (df['attacktype2_txt'].isna().sum() \/ df['attacktype2_txt'].isna().count()) * 100.00\nprint(percentage_missing)","64e07d63":"percentage_missing2 = (df['attacktype3_txt'].isna().sum() \/ df['attacktype3_txt'].isna().count()) * 100.00\nprint(percentage_missing2)","b7e01851":"df['targtype1_txt'].value_counts()","fcaf461a":"fig, ax = plt.subplots(figsize=(15,10))\nax = sns.countplot(x = 'targtype1_txt', data=df, palette='icefire', order=df['targtype1_txt'].value_counts().index)\n_ = plt.xlabel('Targets of attack')\n_ = plt.setp(ax.get_xticklabels(), rotation = 90)","1742f3dc":"df['weaptype1_txt'].value_counts()","4d94c86f":"df['weaptype1_txt'].isna().sum()","b6a77a01":"fig, ax = plt.subplots(figsize=(10, 5))\nax = sns.countplot(x='weaptype1_txt', data=df, palette='inferno', order=df['weaptype1_txt'].value_counts().index)\n_ = plt.xlabel('Weapon Used')\n_ = plt.setp(ax.get_xticklabels(), rotation = 90)","4fac3360":"df['gname'].value_counts()[0:1]","e8f18fef":"fig, ax = plt.subplots(figsize=(15,10))\nax = sns.countplot(x='gname', data=df, palette='inferno', order=df['gname'].value_counts()[1:16].index)\n_ = plt.xlabel('Terrorist group name')\n_ = plt.setp(ax.get_xticklabels(), rotation=90) ","a2ff6fda":"df['casualities'] = df['nkill'] + df['nwound']","298a3ea7":"df_country_cas = pd.concat([df['country_txt'], df['casualities']], axis=1)\ndf3 = pd.DataFrame(df_country_cas.groupby('country_txt').sum().reset_index())\ndf3.head()","17299ed4":"print(df3.shape)","b58285f1":"x = df3['country_txt']\ny = df3['casualities']\nsz = 10\ncolors = np.random.randn(205)\nfig = go.Figure()\nfig.add_scatter(\n    x = x,\n    y = y, \n    mode = 'markers',\n    marker={\n        'size':sz,\n        'color':colors,\n        'opacity':0.6,\n        'colorscale':'Viridis'\n    });\niplot(fig)","96b6b9df":"missingdata.loc['nkill', :]","14fdd3b2":"missingdata.loc['nwound', :]","f64ae902":"df_year_kill = pd.concat([df['iyear'], df['nkill']], axis=1)","bbafb95c":"df2 = pd.DataFrame(df_year_kill.groupby('iyear').sum().reset_index())\ndf2.head()","7a6a514b":"print(df2.shape)","81bbbfd4":"df_year_wound = pd.concat([df['iyear'], df['nwound']], axis=1)\ndf3 = pd.DataFrame(df_year_wound.groupby('iyear').sum().reset_index())\ndf3.head()","c71b6eed":"\nx = df2['iyear']\ny = df2['nkill']\ncolors = np.random.randn(47)\nsz = 15\nfig = go.Figure()\nfig.add_scatter(\n    x = x, \n    y = y, \n    mode = 'markers', \n    marker = {\n        'size':sz,\n        'color':colors,\n        'opacity':0.6,\n        'colorscale':'Viridis'\n    });\niplot(fig)","13825728":"x1 = df3['iyear']\ny1 = df3['nwound']\ncolors = np.random.randn(47)\nsz = 15\nfig = go.Figure()\nfig.add_scatter(\n    x = x1, \n    y = y1, \n    mode = 'markers',\n    marker = {\n        'size':sz,\n        'color':colors,\n        'opacity':0.6,\n        'colorscale':'Viridis'\n    });\niplot(fig)","f37cde44":"    attacktype2 & attacktype3 is not defined properly, at the same time both of these attributes hold high percentage of missing values.","8579adbf":"Here we can see year wise terrorist attacks starting from 1970 till 2017. Number of attacks were steadily increasing till 1992 and there was sudden drop from 1994 to 2004. Year 2014 witnessed the highest no. of attacks. ","b3cef391":"**Displaying to 15 countries most affected by terror attacks. Iraq suffered the most among all the countries followed by Pakistan, Afganistan & India. From this we can conclude that south, east Asia is high affected region.** ","a8121cc2":"The figure above demonstrates total no. of people killed each year due to terror attacks from 1970 to 2017   ","bb48441a":"From the above figure we can see that private citizens and property is the highest target and the top five targets are private citizens and property, military, police, government(general) where people can be found in high numbers and also law & order is affected.  ","e47bb501":"**Here we can see the top 15 terrerist groups excluding the highest unknown **","8c8a2ef5":"Here we can see the trend in attacks over the years over different regions. We can see the spike in dark green line which represents middle east and north africa region, suffered most during the last decade followed by south asia. ","d5d9fd03":"## Univariate analysis\/visualization","ebad54f2":"Here 1 represents succesful attack and 0 represents failes attempt. From the above figure we can see that most of the attacks are successful.","a4fb788a":"The figure above demonstrates total no. of people wounded each year due to terror attacks from 1970 to 2017.","afebfb1c":"## Finding missing values","7399887a":"**From this we can drop the columns with high percentage of missing values. But as off now I am not dropping those columns from df(main dataframe)**","67a766d5":"Here I am using 'ISO-8859-1' encoding to load the dataset beacuse 'utf-8' codec can't decode byte 0xe9 in position 18'","541c0f79":"   We can see from the above figure that bombing\/explosion is the go to method for terror attacks over the years followed by armed assualt. ","1dbccd56":"**Let start from the left most column.** ","551524b7":"So, most of the attacks are bombing\/explosion as it has highest range among all options, with equally high damaging. ","74c33311":"## Some insights and basic statistics about the dataset","18079b85":"**Let us create dataframe to store the information about missing values for future reference**","1ef94d12":"As we have already seen that bombing is the goto method for attacks explosives are 1st choice of weapon.","03874eb8":"**Here gname is terrorist group name**.  Here we can see that unknown group\/groups has\/have caused the highest damage. There can be indivisuals, small unorganized group, separatist etc under this \"unknow group\" umbrella or known groups but didn't claim the attack.","9e8263c2":"**Successful attacks**","f0d6a717":"## Load the data","fe553295":"**The dataset is divided into the following regions**","9da4966b":"**Middle east and north africa together suffered as nearly as south asia**","220e409b":"## Bivariate analysis\/visualization","a6d651a8":"**Let us see how each country suffered**"}}