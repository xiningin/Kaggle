{"cell_type":{"3db7823b":"code","404d0f45":"code","6f0c47dc":"code","71c5bdfe":"code","747ac175":"code","ba82a746":"code","5863c261":"code","8a1c7051":"code","8ec44802":"code","3d71218d":"code","aeb075c5":"code","feb81569":"code","29da8a5d":"code","a60de538":"code","e257febe":"code","9cf28cf1":"code","15009b94":"code","8ddf6f14":"code","7a03c9a1":"code","9bfc5884":"code","c7a3af50":"code","874f47fd":"code","e9079958":"code","031cbe68":"code","4857231e":"code","9f755824":"code","48f95fcb":"code","a2b8f187":"code","86d54b0c":"code","7274e1b2":"code","2cfeb8be":"code","589d4ed5":"code","ba9c1df1":"code","ed4d1955":"code","bccce794":"code","a94dfe40":"code","5ed90bf8":"code","6694f99a":"code","559f6b17":"code","e282c341":"code","c8e1a73f":"code","a04d3587":"code","92ecc309":"code","6b83cdce":"code","6ab2166a":"code","e740c90c":"code","0f91ed24":"code","eede4c31":"markdown","883c77c3":"markdown","153658ba":"markdown","868a9baa":"markdown","f018be42":"markdown","9b76df3c":"markdown","b206c77f":"markdown","290ab483":"markdown","2e3214fb":"markdown"},"source":{"3db7823b":"!pip install pyforest","404d0f45":"from pyforest import *","6f0c47dc":"df=pd.read_csv(\"..\/input\/water-quality-data\/waterquality.csv\", sep=',', engine='python')","71c5bdfe":"df","747ac175":"df.isnull().sum()","ba82a746":"df= df.fillna(df.mean())","5863c261":"df.head()","8a1c7051":"df.isnull().sum()","8ec44802":"sns.heatmap(df.corr(),annot=True)","3d71218d":"df= df.drop(\"STATION CODE\", axis=1)","aeb075c5":"df.head()","feb81569":"sns.pairplot(df)","29da8a5d":"ph= df[\"pH\"]","a60de538":"ph.value_counts()","e257febe":"PH= pd.DataFrame(ph, index=None)","9cf28cf1":"PH.head()","15009b94":"PH.pH.value_counts()","8ddf6f14":"PH[\"QI\"]=PH.replace(to_replace =6.4,  \n                            value =54)","7a03c9a1":"PH.head()","9bfc5884":"PH[\"QI\"]=PH[\"QI\"].replace(to_replace =[6.5,6.7,6.8,6.9],  \n                            value =75)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[7.0,7.1,7.2,7.3,7.4],  \n                            value =80)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[7.5,7.6,7.7,7.8,7.9],  \n                            value =95)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[8.0,8.1,8.2,8.3,8.4],  \n                            value =85)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[8.5,8.6,8.7,8.8,8.9],  \n                            value =65)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[9.0,9.1,9.2,9.3,9.4],  \n                            value =48)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[9.5,9.6,9.7,9.8,9.9],  \n                            value =30)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[10.0,10.1,10.2,10.3,10.4],  \n                            value =20)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[10.5,10.6,10.7,10.8,10.9],  \n                            value =12)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[11.0,11.1,11.2,11.3,11.4],  \n                            value =8)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[11.5,11.6,11.7,11.8,11.9],  \n                            value =4)\n\nPH[\"QI\"]=PH[\"QI\"].replace(to_replace =[12.0,12.1,12.2,12.3,12.4,12.5,12.6,12.7,12.8,12.9,13.0,13.1,13.2,13.3,13.4,13.5,13.6,13.7,13.8],  \n                            value =75)\n\n","c7a3af50":"PH[\"QI\"].value_counts()","874f47fd":"PH.head(), PH.tail()","e9079958":"sns.jointplot(x=\"pH\", y=\"QI\", data=PH, kind=\"reg\")","031cbe68":"sns.distplot(PH[\"pH\"], kde=True, bins=10)","4857231e":"ls= df[[\"LOCATIONS\",\"STATE\"]]","9f755824":"ls.head()","48f95fcb":"df_col_merged = pd.concat([ls, PH], axis=1)\n","a2b8f187":"df_col_merged.head()","86d54b0c":"ax=sns.barplot(x=\"STATE\", y= \"QI\", data=df_col_merged)\nax.set_xticklabels(ax.get_xticklabels(), rotation=65, horizontalalignment='right')","7274e1b2":"X= df_col_merged.drop([\"LOCATIONS\",\"STATE\",\"QI\"], axis=1)","2cfeb8be":"X.head()","589d4ed5":"X.shape","ba9c1df1":"y= df_col_merged[\"pH\"]","ed4d1955":"y.shape","bccce794":"from sklearn.model_selection import train_test_split","a94dfe40":"X_train,X_test,y_train,y_test= train_test_split(X,y,test_size=0.2,random_state=42)","5ed90bf8":"X_train.shape, X_test.shape, y_train.shape, y_test.shape","6694f99a":"from sklearn.linear_model import LinearRegression, Ridge, Lasso","559f6b17":"from sklearn.model_selection import GridSearchCV","e282c341":"from sklearn.model_selection import cross_val_score","c8e1a73f":"ridge= Ridge()","a04d3587":"parameters= {\"alpha\":[1e-15,1e-10,1e-8,1e-3,1e-2,1,5,10,20,30,40,50,60,70,80,90,100]}\n\nridge_regressor= GridSearchCV(ridge,parameters,scoring=\"neg_mean_squared_error\", cv=10)\n\nridge_regressor.fit(X,y)","92ecc309":"ridge_regressor.best_params_","6b83cdce":"ridge_regressor.best_score_, ridge_regressor.score","6ab2166a":"ridge_regressor.cv_results_","e740c90c":"df2= pd.DataFrame(ridge_regressor.cv_results_)","0f91ed24":"df2","eede4c31":"generating the q values by using a specific range from the q table","883c77c3":"concatenating qi values from ph with state","153658ba":"Plotting a correlation matrix to see the relation between different features\n\nHere positive values mean positively correlated i.e, if one increase then other also increases and vice versa","868a9baa":"A barplot to show the relation of QI and States","f018be42":"From above we can see that maximum of the river water pH lies b\/w 6.5 and 8.5 and QI lies b\/w 80 and 100","9b76df3c":"Pairplot of df","b206c77f":"# Separating the pH column and using q values for the column separately","290ab483":"## The pH of river water is the measure of how acidic or basic the water is on a scale of 0-14. It is a measure of hydrogen ion concentration.The optimum pH for river water is around 7.4.\n","2e3214fb":"# More work is to be done in the notebook and will update the whole notebook soon"}}