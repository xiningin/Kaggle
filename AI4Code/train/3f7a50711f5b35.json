{"cell_type":{"9a2c9b49":"code","78283560":"code","47370eef":"code","66c335f7":"code","17746980":"code","5ee2ccd5":"code","91ebb92c":"code","c7eedbfb":"code","f36b7b8c":"markdown","96ca68ba":"markdown","e52db08f":"markdown","dacf2f43":"markdown"},"source":{"9a2c9b49":"# Load in our libraries\nimport pandas as pd\nfrom matplotlib import pyplot as plt\n%matplotlib inline\nfrom matplotlib import rcParams\nimport warnings\nwarnings.filterwarnings('ignore')","78283560":"# Load in the datasets\ndriv  =pd.read_csv(\"..\/input\/formula-1-world-championship-1950-2020\/drivers.csv\")\nresult=pd.read_csv(\"..\/input\/formula-1-world-championship-1950-2020\/results.csv\")\nrace  =pd.read_csv(\"..\/input\/formula-1-world-championship-1950-2020\/races.csv\")","47370eef":"# Merge all three datasets and filter out races before 2010 \nm1=pd.merge(result,driv,on='driverId')\nm2=pd.merge(m1,race,on='raceId')\nresult_v2=m2[m2.year>2009]","66c335f7":"# Create driver name field from forename and surname\nresult_v2[\"driver\"] = result_v2[\"forename\"] + \" \" + result_v2[\"surname\"]","17746980":"# Aggregate total points and average points per race\navg_pts   = result_v2[['driver','points']].groupby(\"driver\").mean()\ntotal_pts = result_v2[['driver','points']].groupby(\"driver\").sum()","5ee2ccd5":"# Count number of races for each driver and filter out drivers with less than 100 races\nn=result_v2[['driver','raceId']].groupby(\"driver\").count()\nnum_races=n[n.raceId>100]","91ebb92c":"# Merge the above summary tables and reset index to create column for driver name\nd =pd.merge(avg_pts,total_pts,on='driver')\nmd=pd.merge(d,num_races,on='driver')\nmd = md.reset_index()\nmd.iloc[7,3]=180 #data correction\nmd.iloc[6,3]=125 #data correction","c7eedbfb":"# Create bubble chart with size of the bubble showing total points scored in the decade\n\nplt.rc('font', size=15)          # controls default text sizes\nplt.rc('axes', titlesize=30)     # fontsize of the axes title\nplt.rc('axes', labelsize=30)     # fontsize of the x and y labels\nplt.rc('xtick', labelsize=20)    # fontsize of the tick labels\nplt.rc('ytick', labelsize=20)    # fontsize of the tick labels\nplt.rc('legend', fontsize=30)    # legend fontsize\nplt.rc('figure', titlesize=30)   # fontsize of the figure title\n\nplt.figure(figsize=(20,10))\nplt.scatter(md.points_x,md.raceId,s=md.points_y*6,alpha=0.5,c=md.index.to_series())\nplt.xlim(0,18)\nplt.ylim(100,240)\n\nplt.xlabel(\"Average Points Per Race\")\nplt.ylabel(\"Races\")\n\nfor x,y,z in zip(md.points_x,md.raceId,md.driver):\n   plt.annotate(z,xy=(x-1,y-1)) \n\n","f36b7b8c":"*Note: Size of the bubbles are indicative of the total number of points bagged during the decade*","96ca68ba":"It was an unprecedented year for Formula 1 and as we move into 2021, it's worth looking at some of the the top drivers that dominated the past decade. The drivers have been assessed on 2 parameters - **total races** and **average points per race**. Time period for the analysis is **2010-2020** and drivers with **less than 100 races have been excluded**.\n![image.png](attachment:image.png)\n\nThough Hamilton and Vettel have clearly dominated most of the decade, Max has emerged as one of the top contenders with very few races but high average points per race.","e52db08f":"Three tables have been used that contain details of races, drivers and race results respectively. ","dacf2f43":"Driver data has forename and surname fields. For visualisation, these are combined to show the full name."}}