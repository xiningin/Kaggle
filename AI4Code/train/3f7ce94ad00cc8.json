{"cell_type":{"4f7ba4e7":"code","21bae159":"code","bdd94df2":"code","03608884":"code","9bf032a8":"code","0757f4c9":"code","1c47cd71":"code","24c7ca68":"code","7dad0d3e":"code","ac13160d":"code","f7725628":"code","1bf7ac0a":"code","92e3af63":"code","a14ef6ea":"code","1de1f023":"code","eab0057e":"code","2b109df5":"code","97232598":"code","c98637e3":"code","8b825545":"code","4a5745f0":"code","b72de9b7":"code","c34285f6":"code","815c091e":"code","00409ba1":"code","7011a61b":"code","655351d9":"code","915b61a9":"code","f6c7d6e7":"markdown","7eefb4da":"markdown","216ef146":"markdown","b6b13929":"markdown","da7e035f":"markdown","aa9d70c2":"markdown","4b67387c":"markdown","0484b5f2":"markdown","ccfca379":"markdown","fabae6f0":"markdown","4bc95450":"markdown","f2292052":"markdown","a67640ce":"markdown","6a90d709":"markdown","437c942a":"markdown","4f772253":"markdown","dbdbae1a":"markdown"},"source":{"4f7ba4e7":"#Start by loading all the libraries we might need .\n\nimport pandas as pd \nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\nsns.set_style(\"whitegrid\")\nplt.style.use(\"fivethirtyeight\")","21bae159":"df=pd.read_csv('..\/input\/montcoalert\/911.csv')","bdd94df2":"df.head(3)","03608884":"df.info()\nprint('--------------------------------------------')\n","9bf032a8":"#let's check the top 5 zip codes in the data?\ndf['zip'].value_counts().head()\n","0757f4c9":"#we want top 5 townships for 911 calls\ndf['twp'].value_counts().head()\n","1c47cd71":"#let's make a new column named 'type'extracted from title using lambda func\ndf['Type']=df['title'].apply(lambda x:x.split(':')[0])","24c7ca68":"#let's see which type of call is the most.\nplt.figure(figsize=(10,6))\nsns.countplot(x='Type',data=df, palette='viridis')\nplt.title('Type of Calls')","7dad0d3e":"\n# we will extract new column named (Reasons) to have a clear view of the most reason why people call 911\ndf['Reason']=df.title.str.split(':',expand=True)[1].str.replace(' -', '')","ac13160d":"#let's check our new data after extracting the new columns\ndf.head(3)\n","f7725628":"#let's have a look on the Types of the Top 10 Call's Reasons\nplt.figure(figsize=(10,6))\nsns.countplot(y='Reason',order=df['Reason'].value_counts().index[:10],hue='Type',data=df)\nplt.legend(loc=4)\nplt.title(\"Types of the Top 10 Call's Reasons\")","1bf7ac0a":"#let's have a look an the type of the Calls for Top 10 townships\nplt.figure(figsize=(10,8))\nsns.countplot(y='twp',order=df['twp'].value_counts().index[:10],hue='Type',data=df)\nplt.legend(loc=4)\nplt.title(\"Types of the  Calls in the Top 10 TWP \")","92e3af63":"#let's check the top 10 reasons of Emergency Calls in Lower Merion\ndata1=df[df['twp']=='LOWER MERION']\ndata2=data1[data1['Type']=='EMS']\nplt.figure(figsize=(10,10))\nsns.countplot(y='Reason',order=data2['Reason'].value_counts().index[:10],palette='RdYlBu',data=data2)\n\nplt.title('Emergency Calls Reason in LOWER MERION TOWN')","a14ef6ea":"#let's check the top 10 reasons of Emergency Calls in Norristown\ndata3=df[df['twp']=='NORRISTOWN']\ndata4=data3[data3['Type']=='EMS']\nplt.figure(figsize=(10,10))\nsns.countplot(y='Reason',order=data4['Reason'].value_counts().index[:10],palette='RdYlBu',data=data4)\n\nplt.title('Emergency Calls Reason in Norristown')","1de1f023":"#we will know go further and try to see which street has most number of calls and the type of the incident using the addr columns \n\nplt.figure(figsize=(10,12))\n\nsns.countplot(y='addr',data=df,order=df['addr'].value_counts().index[:10],hue='Type',palette='viridis')","eab0057e":"#let's have a look what is the main cause of the huge number of EMS Calls from this Street.\nplt.figure(figsize=(10,8))\ndata6=df[df['addr']=='SHANNONDELL DR & SHANNONDELL BLVD']\ndata7=data6[data6['Type']=='EMS']\nsns.countplot(y='Reason',data=data7,order=data7['Reason'].value_counts().index[:10])","2b109df5":"df['timeStamp'].dtype","97232598":"#convert Time stamp column into datetime using pd.to_datetime\n\ndf['timeStamp'] = pd.to_datetime(df.timeStamp)","c98637e3":"df['timeStamp'].dtype\n","8b825545":"df['Year'] = df['timeStamp'].dt.year\ndf['Month'] = df['timeStamp'].dt.month\ndf['DayOfWeek'] = df['timeStamp'].dt.dayofweek\ndf['Hour'] = df['timeStamp'].dt.hour","4a5745f0":"dmap={0:'Mon',1:'Tue',2:'Wed',3:'Thurs',4:'Fri',5:'Sat',6:'Sun'}\ndf['DayOfWeek'] = df['DayOfWeek'].map(dmap)","b72de9b7":"df.head()","c34285f6":"plt.figure(figsize=(10, 8))\nsns.countplot(x=df.DayOfWeek, data=df, hue='Type')\nplt.legend(loc=(1,0.1))","815c091e":"#let's  create a countplot of the Year column with the hue based off of the Type column.\nplt.figure(figsize=(10, 8))\nsns.countplot(x=df.Year, data=df, hue='Type')","00409ba1":"#let's have a look on the Top 10 Call's Reasons for last 5 years\nplt.figure(figsize=(10,12))\nsns.countplot(y='Reason',order=df['Reason'].value_counts().index[:10],hue='Year',data=df)\nplt.legend(loc=4)\nplt.title(\"Top 10 Call's Reasons for the last 5 Years\")","7011a61b":"#plotting hour versus the Types of incident that occurs mostly during the day\nplt.figure(figsize=(12,15))\nsns.countplot(x='Hour',hue='Type',data=df)","655351d9":"df.head(3)","915b61a9":"#lets have a look of how the traffic jams looks during the 12 months in the County\ndata9=df[df['Type']=='Traffic']\nplt.figure(figsize=(8,8))\nsns.countplot(x='Month',data=data9)","f6c7d6e7":"**  Respiratory Emergency as main reason behind 911 emergency calls in NORRIStown township.**","7eefb4da":"**Medical Alert alarm is the main reason for the EMS 911 calls from this street , and the second reason is a fallen victim.\n\nWhich means that this Street is one of the most **Dangerous** Street in the County.\n\nfor those who have no clue about Medical alarm:\n\nA medical alarm is an alarm system designed to signal the presence of a hazard requiring urgent attention and to summon emergency medical personnel. Other terms for a medical alarm are Personal Emergency Response System (PERS) or medical alert. **","216ef146":"**SHANNONDELL DR & SHANNONDELL BLVD   street has highest number of Emergency 911 calls and its located in Lower Providence town.**","b6b13929":"# Now let us begin to focus on time information. What is the data type of the objects in the timeStamp column?","da7e035f":"# Its clear that  type(Traffic) is one the  main reasons for 911 Calls According to the graph above.","aa9d70c2":"# 911 Calls Capstone Project\n\n\n![](https:\/\/tr4.cbsistatic.com\/hub\/i\/r\/2017\/09\/12\/403770ec-0b6d-4801-a272-919c52e54fc0\/thumbnail\/770x578\/0f68966c7c7107028050af9a5529d773\/istock-808157830.jpg)","4b67387c":"#we can see that 6pm is the time when most of them traffic jam occurs and maybe its due to people coming back from their jobs","0484b5f2":"# 1.Import libraries","ccfca379":"We need Exploratory Data Analysis since its a critical component of any analysis to get an overall view of the data, Focus on describing our data and to use this analysis to get as much information as possible and viewing it through graph.\n\n\n* lat : String variable, Latitude\n* lng: String variable, Longitude\n* desc: String variable, Description of the Emergency Call\n* zip: String variable, Zipcode\n* title: String variable, Title\n* timeStamp: String variable, YYYY-MM-DD HH:MM:SS\n* twp: String variable, Township\n* addr: String variable, Address\n* e: String variable, Dummy variable (always 1)","fabae6f0":" **Lower Merion township has mainly vehicle accidents as main reason behind 911 emergency calls.**\n\n\n **Lets see for Norristown township which has highest number of Emergency 911 calls but comparaticely very less amount of traffic related 911 calls.**","4bc95450":"**\n\nIn the titles column there are \"Types\/Departments\" specified before the title code. These are EMS, Fire, and Traffic. Use .apply() with a custom lambda expression to create a new column called \"Reason\" that contains this string value.\n\nFor example, if the title column value is EMS: BACK PAINS\/INJURY , the Type column value would be EMS.**","f2292052":"Most of the traffic jams in the county occurs between december and March , and it seems like most of the citizen in the county spend their vacation out of the county during the months of August and September","a67640ce":"# Most are Emergency services 911 calls.","6a90d709":"\n# I hope you find this kernel useful and your UPVOTES would be highly appreciated  \ud83d\udc4d\n","437c942a":"**Lower Merion township has highest number of traffic and fire related 911 calls and second highest number of emeregency 911 calls.\n\nNorristown township has highest number of Emergency 911 calls.**","4f772253":"**Now use seaborn to create a countplot of the Day of Week column with the hue based off of the Type column.**\n","dbdbae1a":"**Now that the timestamp column are actually DateTime objects, use .apply() to create 3 new columns called Hour, Month, and Day of Week. You will create these columns based off of the timeStamp column, reference the solutions if you get stuck on this step.**"}}