{"cell_type":{"e1cf6f57":"code","ace12178":"markdown","196cb941":"markdown"},"source":{"e1cf6f57":"# \uc0ac\uc6a9\ubc95: \n# 1) \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud558\uae30 \uc804\uc5d0 Ensemble \ud3f4\ub354\ub97c \uba3c\uc800 \ub9cc\ub4ed\ub2c8\ub2e4. \n# 2) \uc559\uc0c1\ube14\ud560 submission \ud654\uc77c\uc744 Ensemble \ud3f4\ub354\uc5d0 \uc800\uc7a5\ud569\ub2c8\ub2e4.\n# 3) \uc2e4\ud589\ud558\uba74 \ud604\uc7ac \ud3f4\ub354\uc5d0 \uc559\uc0c1\ube14\ud55c submission \ud654\uc77c\uc774 \uc0dd\uc131\ub429\ub2c8\ub2e4.\n#\n# \uc8fc) \uc774 \uc2a4\ud06c\ub9bd\ud2b8\ub294 Kaggle Kernel\uc5d0\uc11c \uc2e4\ud589\ud560 \uc218 \uc5c6\uace0 \uc5ec\ub7ec\ubd84\uc758 Jupyter Notebook\uc5d0\uc11c \uc2e4\ud589\ud574\uc57c \ud569\ub2c8\ub2e4.\n\nimport pandas as pd\nimport numpy as np\nimport os\n\nfolder = 'Ensemble'\nnf = 0\nfor f in os.listdir(folder):\n    ext = os.path.splitext(f)[-1]\n    if ext == '.csv': \n        s = pd.read_csv(folder+\"\/\"+f)\n    else: \n        continue\n    if len(s.columns) !=2:\n        continue\n    if nf == 0: \n        slist = s\n    else: \n        slist = pd.merge(slist, s, on=\"custid\")\n    nf += 1\n\nif nf >= 2:\n    pred = 1\n    for j in range(nf): pred = pred * slist.iloc[:,j+1] \n    pred = pred**(1\/nf)\n\n    submit = pd.DataFrame({'custid': slist.custid, 'gender': pred})\n    t = pd.Timestamp.now()\n    fname = \"submission_ES_\" + str(t.month) + str(t.day) + \"_\" + str(t.hour) + str(t.minute) + \".csv\"\n    submit.to_csv(fname, index=False)","ace12178":"## Creating ensembles from submission files: geometric averaging","196cb941":"## End"}}