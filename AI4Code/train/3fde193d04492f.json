{"cell_type":{"0210c8b2":"code","5ddc4ef9":"code","792427a5":"code","b8cf944a":"code","91bd414e":"code","41558669":"code","94156e11":"code","888b38cf":"code","cfe61577":"code","47f51bfe":"code","18369d72":"code","f7c4f39e":"code","631e4260":"code","775d81cf":"code","55ce5e89":"code","05951cd8":"code","aeb0998d":"code","3dfd7a63":"code","c1a6a7fb":"code","059a0c08":"code","a0d41e5a":"code","e36727c5":"code","9b8df449":"code","d2e97d79":"code","f7f2e947":"code","608e9183":"code","fd261ac5":"code","ef1da4ec":"code","842d5f9d":"code","0bd4dbb5":"code","8115ddfa":"code","aa1a7e06":"markdown","a4d1740c":"markdown","ef08bac9":"markdown","ac414a27":"markdown","6d03634d":"markdown","5d47f715":"markdown","a52a0039":"markdown"},"source":{"0210c8b2":"# Bare minimum required imports\nimport numpy as np\nimport pandas as pd","5ddc4ef9":"!pip install kesh-utils","792427a5":"# Import the chartil from Kutils \nfrom KUtils.eda import chartil","b8cf944a":"# Load the dataset\nheart_disease_df = pd.read_csv('..\/input\/heart.csv')","91bd414e":"heart_disease_df.head(10)\nheart_disease_df.info()\nheart_disease_df.describe()\nheart_disease_df.shape","41558669":"# Null checks\nheart_disease_df.isnull().sum() # No null found","94156e11":"# Number of unique values in each column \n{x: len(heart_disease_df[x].unique()) for x in heart_disease_df.columns}","888b38cf":"# Quick data preparation, convert few to categorical column and add new age_bin\nheart_disease_df['target'].describe()\nheart_disease_df['target'] = heart_disease_df['target'].astype('category')\nheart_disease_df['age'].describe()\nheart_disease_df['age_bin'] = pd.cut(heart_disease_df['age'], [0, 32, 40, 50, 60, 70, 100], \n                labels=['<32', '33-40','41-50','51-60','61-70', '71+'])\n\nheart_disease_df['sex'].describe()\nheart_disease_df['sex'] = heart_disease_df['sex'].map({1:'Male', 0:'Female'})\n\nheart_disease_df['cp'].describe()\nheart_disease_df['cp'] = heart_disease_df['cp'].astype('category')\n\nheart_disease_df['trestbps'].describe()\nheart_disease_df['chol'].describe()\n\nheart_disease_df['fbs'] = heart_disease_df['fbs'].astype('category')\nheart_disease_df['restecg'] = heart_disease_df['restecg'].astype('category')\n\nheart_disease_df['thalach'].describe()\n\nheart_disease_df['exang'] = heart_disease_df['exang'].astype('category')\nheart_disease_df['oldpeak'].describe()\n\nheart_disease_df['slope'] = heart_disease_df['slope'].astype('category')\nheart_disease_df['ca'] = heart_disease_df['ca'].astype('category')\nheart_disease_df['thal'] = heart_disease_df['thal'].astype('category')\n\nheart_disease_df.info()","cfe61577":"import warnings  \nwarnings.filterwarnings('ignore')","47f51bfe":"# Univariate Categorical variable\nchartil.plot(heart_disease_df, ['target'])","18369d72":"# Univariate Numeric\/Continuous variable\nchartil.plot(heart_disease_df, ['trestbps'])","f7c4f39e":"# Smae as above, but force to use barchart on numeric\/Continuous (Automatically creates 10 equal bins)\nchartil.plot(heart_disease_df, ['age'], chart_type='barchart')","631e4260":"# Age doesn't look normal with auto bin barchart, instead use age_bin column to plot the same\nchartil.plot(heart_disease_df, ['age_bin'])","775d81cf":"chartil.plot(heart_disease_df, ['age_bin'], \n             optional_settings={'sort_by_value':True})","55ce5e89":"chartil.plot(heart_disease_df, ['age_bin'], \n             optional_settings={'sort_by_value':True, 'limit_bars_count_to':5})","05951cd8":"chartil.plot(heart_disease_df, ['trestbps'], chart_type='distplot')","aeb0998d":"# Bi Category vs Category (+ Univariate Segmented)\nchartil.plot(heart_disease_df, ['sex', 'target'])","3dfd7a63":"chartil.plot(heart_disease_df, ['sex', 'target'], chart_type='crosstab')","c1a6a7fb":"chartil.plot(heart_disease_df, ['sex', 'target'], chart_type='stacked_barchart')","059a0c08":"# Bi Continuous vs Continuous (Scatter plot)\nchartil.plot(heart_disease_df, ['chol', 'thalach'])","a0d41e5a":"# Bi Continuous vs Category\nchartil.plot(heart_disease_df, ['thalach', 'sex'])\n","e36727c5":"# Same as above, but use distplot\nchartil.plot(heart_disease_df, ['thalach', 'sex'], chart_type='distplot')","9b8df449":"# Multi variavte - 3D view of 3 Continuous variables coloured by the same contious varibale amplitude in RGB form\nchartil.plot(heart_disease_df, ['chol', 'thalach', 'trestbps'])","d2e97d79":"# Multi 2 Continuous, 1 Category\nchartil.plot(heart_disease_df, ['chol', 'thalach', 'target'])","f7f2e947":"# Multi 1 Continuous, 2 Category\nchartil.plot(heart_disease_df, ['thalach', 'cp', 'target'])","608e9183":"# Same as above, but use violin plot\nchartil.plot(heart_disease_df, ['thalach', 'sex', 'target'], chart_type='violinplot')","fd261ac5":"# Multi 3D view of 3 Continuous variable and color it by target\/categorical feature\nchartil.plot(heart_disease_df, ['chol', 'thalach', 'trestbps', 'target'])","ef1da4ec":"# Heatmap (Send list of all columns, it will plot the co-relation matrix of all numerical\/continuous variables)\nchartil.plot(heart_disease_df, heart_disease_df.columns)","842d5f9d":"# If you want sort the corelation based on one specific columns.\nchartil.plot(heart_disease_df, heart_disease_df.columns, optional_settings={'sort_by_column':'thalach'})","0bd4dbb5":"# Include categorical variables - Internally creates dummies\nchartil.plot(heart_disease_df, heart_disease_df.columns, optional_settings={'include_categorical':True} )","8115ddfa":"# If you want sort the corelation based on one specific columns. \n# Below example will sort the feature co-relation by feature 'trestbps'\nchartil.plot(heart_disease_df, heart_disease_df.columns, \n             optional_settings={'include_categorical':True, 'sort_by_column':'trestbps'} )","aa1a7e06":"During EDA\/data preparation stage, I use few fixed chart types to analyse the relation among various features. \nFew are simple chart like univariate and some are complex 3D or even multiple features>3.\n\nOver the period it became complex to maintain all relevant codes or repeat codes. \nInstead I developed a simple, single api to plot various type of relations which will hide all technical\/code details from Data Science task and approch.\n\nUsing this approach I just need one api \n\nfrom KUtils.eda import chartil\n\n- chartil.plot(dataframe, [list of columns]) or\n- chartil.plot(dataframe, [list of columns], {optional_settings})\n","a4d1740c":"# Data visualization: Simple, Single unified API for plotting and charting","ef08bac9":"## Chart + Util = Chartil \nPackage available at <a href=\"https:\/\/pypi.org\/project\/kesh-utils\/\">Kesh Utils<\/a>\n\nSource available at <a href=\"https:\/\/github.com\/KeshavShetty\/ds\/tree\/master\/KUtils\">Github KUtils.eda.chartil<\/a>\n\nThis custom utility package contains single api\/function to plot various charts\n\n    \n    Importing\n    | import KUtils.chartil as chartil\n    \n    Entry api\/function (Usage)\n    | chartilc.plot(dataframe, [list of column names])\n    \n    Other available functions\n    | uni_category_barchart(df, column_name, limit_bars_count_to=10000, sort_by_value=False)\n    | uni_continuous_boxplot(df, column_name)\n    | uni_continuous_distplot(df, column_name)\n    | \n    | bi_continuous_continuous_scatterplot(df, column_name1, column_name2, chart_type=None)\n    | bi_continuous_category_boxplot(df, continuous1, category2)\n    | bi_continuous_category_distplot(df, continuous1, category2)\n    | bi_category_category_crosstab_percentage(df, category_column1, category_column2)\n    | bi_category_category_stacked_barchart(df, category_column1, category_column2)\n    | bi_category_category_countplot(df, category_column1, category_column2)\n    | bi_continuous_category_violinplot(df, category1, continuous2)\n    | \n    | multi_continuous_category_category_violinplot(df, continuous1, category_column2, category_column3)\n    | multi_continuous_continuous_category_scatterplot(df, column_name1, column_name2, column_name3)\n    | multi_continuous_category_category_boxplot(df, continuous1, category2, category3)\n    | multi_continuous_continuous_continuous_category_scatterplot(df, continuous1, continuous2, continuous3, category4)\n    | multi_continuous_continuous_continuous_scatterplot(df, continuous1, continuous2, continuous3, maintain_same_color_palette=False)\n\n\n","ac414a27":"# Lets start the demo with one of the popular dataset available UCI Heart Disease \nYou can get this dataset here\n<a href=\"https:\/\/archive.ics.uci.edu\/ml\/datasets\/Heart+Disease\/\">Heart Disease UCI<\/a>","6d03634d":"## Will add new possible combinations whenever I need one","5d47f715":"# Lest start with chartil.plot(..)","a52a0039":"### <font color=red>Use Co-relation plotting carefully when you have large dataset with lot of features.<\/font>"}}