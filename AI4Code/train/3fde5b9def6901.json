{"cell_type":{"3c09536b":"code","11d3deb5":"code","cb088c1f":"code","282179a1":"code","32e77ca1":"code","9964adfb":"code","719fd86a":"code","be484f6e":"code","fd9736db":"code","6eefd6d4":"code","fef9a7e1":"code","50d7baa0":"code","1715de6b":"code","15f36a19":"code","a49434af":"code","7ca51f13":"code","75fd7cfe":"code","a51fdf56":"code","0d72cdf8":"code","e92f8545":"code","563d1f20":"code","ef541cb4":"code","9c6fd49a":"code","83c2343f":"code","df1ac06a":"code","d5d87956":"code","2de14516":"code","68472ed8":"code","03755447":"code","0f1f93ec":"code","dddd80c6":"code","5c23db60":"code","e9c5303c":"code","cdef25f6":"code","4c1aa770":"code","57156029":"code","b37c55c9":"code","dbcd0b60":"code","b40279cb":"code","7661a8d8":"code","7f1810d4":"code","f7738469":"code","b4e5dbfc":"markdown","cc7bf1d7":"markdown","c031a6f7":"markdown","473f8a06":"markdown","8ae8eca5":"markdown","9d58f5e4":"markdown","3124ec56":"markdown","3b79df46":"markdown","e3565446":"markdown","ece3604b":"markdown","4ca3333d":"markdown","dd234ae0":"markdown","314db415":"markdown","6de50915":"markdown","3ca7657e":"markdown","fe859807":"markdown","9ac19aa6":"markdown","c3d2d79c":"markdown","4121d740":"markdown","c662fdc5":"markdown","ca232545":"markdown","fc446867":"markdown","a6933d81":"markdown","d67671c8":"markdown","0a615b40":"markdown","3bcdbd82":"markdown","80648793":"markdown","405a1756":"markdown","4d340ce2":"markdown","f41903a7":"markdown","ab6f0db5":"markdown"},"source":{"3c09536b":"import pandas as pd\nimport numpy as np\nimport datetime as dt\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n","11d3deb5":"loans = pd.read_csv('..\/input\/LoanStats3a.csv', low_memory = False, header = 1,skiprows=0)","cb088c1f":"loans.shape","282179a1":"loans.info()","32e77ca1":"loans.head(20)","9964adfb":"loans.isna()","719fd86a":"drop_cols=['id','member_id','url','annual_inc_joint','dti_joint','verification_status_joint','tot_cur_bal','open_acc_6m','open_act_il','open_il_12m','open_il_24m','mths_since_rcnt_il','total_bal_il','il_util','open_rv_12m','open_rv_24m','max_bal_bc','all_util','total_rev_hi_lim','inq_fi','total_cu_tl','inq_last_12m',\n           'acc_open_past_24mths','avg_cur_bal','bc_open_to_buy','bc_util','mo_sin_old_il_acct','mo_sin_old_rev_tl_op','mo_sin_rcnt_rev_tl_op','mo_sin_rcnt_tl','mort_acc','mths_since_recent_bc','mths_since_recent_bc_dlq','mths_since_recent_inq','mths_since_recent_revol_delinq','num_accts_ever_120_pd','num_actv_bc_tl',\n           'num_actv_rev_tl','num_bc_sats','num_bc_tl','num_il_tl','num_op_rev_tl','num_rev_accts','num_rev_tl_bal_gt_0','num_sats','num_tl_120dpd_2m','num_tl_30dpd','num_tl_90g_dpd_24m','num_tl_op_past_12m','pct_tl_nvr_dlq','percent_bc_gt_75','tot_hi_cred_lim','total_bal_ex_mort','total_bc_limit','total_il_high_credit_limit',\n           'revol_bal_joint','sec_app_earliest_cr_line','sec_app_inq_last_6mths','sec_app_mort_acc','sec_app_open_acc','sec_app_revol_util','sec_app_open_act_il','sec_app_num_rev_accts','sec_app_chargeoff_within_12_mths','sec_app_collections_12_mths_ex_med','sec_app_mths_since_last_major_derog','hardship_type','hardship_reason',\n          'hardship_status','deferral_term','hardship_amount','hardship_start_date','hardship_end_date','payment_plan_start_date','hardship_length','hardship_dpd','hardship_loan_status','orig_projected_additional_accrued_interest','hardship_payoff_balance_amount','hardship_last_payment_amount','hardship_flag','disbursement_method']","be484f6e":"loans=loans.drop(drop_cols,axis=1)","fd9736db":"loans=loans.drop([42536,42537],axis=0)","6eefd6d4":"loans.shape","fef9a7e1":"loans.columns","50d7baa0":"loans['int_rate']","1715de6b":"#removing % sign using regex and str.extract\nloans['int_rate']=loans['int_rate'].str.extract('(\\d*\\.\\d+|\\d+)', expand = False)","15f36a19":"#converting to float\nloans['int_rate']=loans.int_rate.astype(float)","a49434af":"loans.int_rate","7ca51f13":"loans.term","75fd7cfe":"#removing months and converting to numeric\nloans.term=loans['term'].str.extract('(\\d+)', expand = False)\nloans['term']=loans.term.apply(pd.to_numeric)","a51fdf56":"loans.term","0d72cdf8":"loans['term']=loans.term.dropna()","e92f8545":"loans.term","563d1f20":"loans.columns","ef541cb4":"loans.head(15)","9c6fd49a":"cols=loans[['loan_amnt', 'funded_amnt_inv', 'int_rate', 'term','installment','grade','sub_grade','settlement_status','settlement_amount']]\nloans2=pd.DataFrame(cols)","83c2343f":"loan_grades= loans2.grade.value_counts()\nloan_grades","df1ac06a":"fig, ax = plt.subplots(figsize=(8,7))\nexplode = (0.12,0.11,0.10,0.05,0.04,0.03,0.07)\nax.pie(loan_grades, labels = None, autopct='%1.1f%%', startangle=90, shadow = True, explode = explode)\nax.legend(bbox_to_anchor=(1,0.5), labels=loan_grades.index)\nplt.suptitle('The Grade Type of Loans')","d5d87956":"loans2.groupby(['int_rate']).grade.value_counts().nlargest(20)","2de14516":"loans2.groupby(['int_rate']).grade.value_counts().nlargest(20)\\\n.plot(kind = 'bar',title = 'Sub Grade based on Int Rate')","68472ed8":"loan_sub_grades= loans2.groupby(['int_rate']).sub_grade.value_counts().nlargest(20)\nloan_sub_grades","03755447":"loan_sub_grades.plot(kind = 'bar',title = 'Sub Grade based on Int Rate')","0f1f93ec":"test=loans2.groupby(['grade','sub_grade'],as_index=False).int_rate.mean()\ntest","dddd80c6":"sns.pointplot(x=\"sub_grade\", y=\"int_rate\", hue=\"grade\",data=test, palette=\"Set3\")","5c23db60":"settlement_pay=loans2.groupby(['settlement_status','int_rate']).settlement_amount.mean().nlargest(25)\nsettlement_pay","e9c5303c":"settlement_pay.plot.bar()","cdef25f6":"loans2.corr()","4c1aa770":"sns.heatmap(loans2.corr());\nplt.suptitle('HeatMap showing Correlation between Informative Fields')","57156029":"loan_int=loans2.groupby('term').int_rate.mean()\nloan_int","b37c55c9":"loan_int.plot.bar(stacked=True)\nplt.suptitle('The Mean of the Interest Rate against Term')","dbcd0b60":"installments1=loans2[loans2['int_rate'] != 6.03].installment\ninstallments1","b40279cb":"sns.distplot(installments1, bins = 20)\nplt.suptitle('Hstogram of Installments bases of Interest Rate !=6.03')","7661a8d8":"installments2=loans2[loans2['int_rate'] != 11.71].installment\ninstallments2","7f1810d4":"sns.distplot(installments2, bins = 20)\nplt.suptitle('Hstogram of Installments bases of Interest Rate !=11.71')","f7738469":"loans.describe()","b4e5dbfc":"##### Understanding\n<br>\nit can be seen that int rate has positive correlation to various fields though by not too much as the range mostly range between 0.2 and 0.4, which is not too much.","cc7bf1d7":"###### Graph: 3b","c031a6f7":"#### Checking of Fields\nseeing which fields are na and cleaning\/dropping them accordingly","473f8a06":"###### Graph: 1","8ae8eca5":"##### Understanding\n<br>\nIn the histograms it can be seen that the data is affect not including some of the interst rate though it not be too much. The skewness is towards the left though how wde the displaying to bars may change.","9d58f5e4":"###### Graph: 5","3124ec56":"### Dataset: Lending Club data\n\nYears of data to download: 2007-2011\n\nThe data contains 42538 rows and 145 columns. Trying to see where or not the inserest rate field gets affected by the other fields.","3b79df46":"###### Graph: 2","e3565446":"#### Visualization of the important fields\/information","ece3604b":"#### Checking of loans info","4ca3333d":"##### Understanding\n<br>\nit can be seen that grade B has the maximum loan type where the loan interest type can be change and to be paid. it can be seen interest has an affect by the grade type.","dd234ae0":"#### Importing the libraries that are required","314db415":"In this stage checked about the data information and whether or not the data loading happened properly.","6de50915":"#### Author: Shruti Gupta\n#### File Name: An Attempt of Data Cleaning & Exploratory Analysis\n#### Created Date: 15\/05\/2019\n#### Modified Date: 27\/05\/2019\n#### Verison: 2","3ca7657e":"##### Understanding\n<br>\nIt can be seen that the mean of interest rate is increasing per grade and sub grade. The mean interest rate for group A is below 10% while group G has an mean interest rate that is around 20%. ","fe859807":"#### Conclusion\n<br>\nIn conclusion, the insterest rate is affected by or has affect on  fields such settlement amount, the grades and sub grades. There are other fields that affected in correlation to interest rate but it may not by too much as see in the heat map.","9ac19aa6":"##### Understanding\n<br>\nIt can be seen that out of all the grade type of loans presesnt, grade B has the maximum. Grade F and G have minimum of the data for the loan for the interest rate to paid or the loan not being fulfilled.","c3d2d79c":"##### Understanding\n<br>\nIt can be be seen that the mean of interest is more on the as the term increases.","4121d740":"###### Graph: 6","c662fdc5":"#### Important Information\n\nIdentifying the important fields from the data that can be usefull","ca232545":"##### Understanding\n<br>\nThis bar grahp shows how the settlement amount is affected by the status of settlement and how much interest rate is affecting the highest settlement amount. Though it can be seen that most of the settlement amount is complete even though some of the interest rate is above 20%.","fc446867":"7(a)","a6933d81":"##### Understanding\n<br>\nIt can be seen most of the sub grade is B4 where the it is affected by the interest rate. the interest rate is affected by sub grade to be paid by a person when required. ","d67671c8":"7(b)","0a615b40":"#### Cleaning the values in various fields.\n\nconverting string data to numeric once removing any possible string data","3bcdbd82":"The values that appears shows that columns like loan_amnt,funded_amnt,funded_amnt_inv,term,int_rateminstallment,dti,\nsettlement_amount, settlement_percentage can be used to do calcluation and visualisation while others are not as as useful as no main calcuation can happen on it.","80648793":"###### Graph: 3a","405a1756":"###### Graph: 7","4d340ce2":"The reason to drop 82 columns and 2 rows was due there being no useful data or it being completely empty as seen when checking for null values. While there are still some null values in the columns that are not deleted it can be still be used as there is values on which data caluclation can occur.","f41903a7":"#### Loading Data","ab6f0db5":"###### Graph: 4"}}