{"cell_type":{"efd01f92":"code","4a6bce75":"code","24c71cc9":"code","63b4ca52":"code","d9db1575":"code","c749d758":"code","55c03e2f":"code","1a3cf443":"code","6d931794":"code","ec0438b0":"code","fd6244ef":"code","42a7a484":"code","aebb0c56":"code","9543b333":"code","9bb0c13f":"markdown","20ea63a0":"markdown","46f2ef15":"markdown","e8781837":"markdown","03904af3":"markdown","f00d3377":"markdown","d203a03a":"markdown","e062d5f6":"markdown","63bc8497":"markdown","dd5b31b9":"markdown","804edb7c":"markdown","b6947baf":"markdown","869d0968":"markdown","a086dc8a":"markdown","349e1c0c":"markdown","34c67a9e":"markdown"},"source":{"efd01f92":"import numpy as np","4a6bce75":"from tempfile import mkdtemp\nimport os.path as path\nfilename = path.join(mkdtemp(), 'newfile.dat')\nprint(\"filename => \",filename)\nfp = np.memmap(filename, dtype='float32', mode='w+', shape=(4,5))\nfp","24c71cc9":"data = np.arange(20, dtype='float32')\ndata.resize((4,5))\n\nfp[:] = data[:]\nfp","63b4ca52":"fp.filename == path.abspath(filename)","d9db1575":"fp.flush()","c749d758":"newfp = np.memmap(filename, dtype='float32', mode='r', shape=(4,5))\nnewfp","55c03e2f":"fpr = np.memmap(filename, dtype='float32', mode='r', shape=(4,5))\nfpr.flags.writeable","1a3cf443":"#fpr[0,:] = 0 # ocurred error ","6d931794":"fpo = np.memmap(filename, dtype='float32', mode='r', offset=20) # [0 1 2 3 4] 5 ~ \nfpo","ec0438b0":"fpc = np.memmap(filename, dtype='float32', mode='c', shape=(4,5))\nfpc.flags.writeable","fd6244ef":"fpc","42a7a484":"fpc[0,:] = 0\nfpc","aebb0c56":"fpw = np.memmap(filename, dtype='float32', mode='w+', shape=(4,5))\nfpw.flags.writeable","9543b333":"fpw","9bb0c13f":"# Create a memory-map to **an array stored** in **a binary file on disk.**","20ea63a0":"## ValueError: assignment destination is read-only","46f2ef15":"# 1.make memory map file","e8781837":"# 7.mode = 'w+'\n\nCreate or overwrite existing file for reading and writing.","03904af3":"## read data ","f00d3377":"## read -> init","d203a03a":"## offset reading  ","e062d5f6":"# 2.make data and write it in fp ","63bc8497":"## update ","dd5b31b9":"## read","804edb7c":"# 5.read data using offset ","b6947baf":"Memory-mapped files are used for accessing small segments of large files on disk, **without reading the entire file into memory.**","869d0968":"# 3.Flushes memory changes to disk in order to read them back","a086dc8a":"## write data (X)","349e1c0c":"# 4. mode = 'r'\n\nOpen existing file for reading only.","34c67a9e":"# 6. mode = 'c' \n\nCopy-on-write: assignments affect data in memory, **but changes are not saved to disk**. \n\n**The file on disk is read-only**"}}