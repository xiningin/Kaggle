{"cell_type":{"7420e685":"code","522ae011":"code","8899e905":"code","d70bda9d":"code","40dc1ee3":"code","dbf7252a":"code","a0ce19d6":"code","06a6afc2":"code","5d38fd8a":"code","9f690963":"code","98780de3":"code","7b1865a4":"code","8fa654ed":"code","a17116e0":"code","78b8022d":"code","d43b1857":"code","0eef2040":"code","4872550f":"code","1c87caf0":"code","1ebb391d":"code","c93cb38a":"code","f624686c":"code","022f36d1":"code","8dad28bf":"code","06c5dc84":"code","9f4a6d6e":"code","6c01744a":"code","b6bb615e":"code","9fc371be":"code","abd71428":"code","8a7f5db5":"code","014d27f1":"code","99b77d6d":"code","06ce2ba6":"code","adcd613d":"code","9213f6b2":"code","688e492f":"code","096ad325":"code","6705969c":"code","e1a1cda6":"code","6bf56e76":"code","33f3d7d6":"code","cd0eb995":"code","9f3eb782":"code","25251b65":"code","9b17dfb2":"code","9569f378":"code","fa8aea77":"code","2257a08c":"code","06a6a74e":"code","8be7388d":"code","4a973717":"code","d44411aa":"code","089eeb5a":"markdown","a49f60e2":"markdown","e53a2b2c":"markdown","da0e6246":"markdown","36fa6a1c":"markdown","e8963f03":"markdown","cd139537":"markdown","b52510a3":"markdown","93e16e39":"markdown","039f0bf1":"markdown","77cedcba":"markdown","85ca9e36":"markdown","6155374e":"markdown","a8eea32c":"markdown","1a8d6e2c":"markdown","328f56d0":"markdown","563ff6ac":"markdown","5a5a572b":"markdown","174735ca":"markdown","f1ad0504":"markdown","be4ed3c6":"markdown","6bc72e23":"markdown","e14699c9":"markdown","d5343e61":"markdown","3d1c1dc1":"markdown","94fc3a17":"markdown","2d26de30":"markdown","c8d39cb0":"markdown","27ee1d3a":"markdown","f444424b":"markdown","522960ef":"markdown","995b66ff":"markdown","45ceb0e2":"markdown","f3c2b295":"markdown","1c5f3dbe":"markdown","77e9747d":"markdown","852d44e1":"markdown","e56638a1":"markdown","30fc4509":"markdown","b1c18e07":"markdown","08532123":"markdown","21fb29ea":"markdown"},"source":{"7420e685":"\n\nfrom IPython.core.display import HTML\nimport folium\nimport datetime\nfrom datetime import datetime\nimport requests\nfrom bs4 import BeautifulSoup\nimport lxml.html as lh\nimport pandas as pd\nimport re\nimport time\nimport psutil\nimport json\n\nimport numpy as np\nfrom PIL import Image\nimport os\nfrom os import path\nimport matplotlib.pyplot as plt\n\nimport plotly.graph_objects as go\nfrom pandas.plotting import register_matplotlib_converters\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\nfrom IPython.display import display, Markdown, Latex\nimport matplotlib as plot\nfrom matplotlib.pyplot import figure\nimport seaborn as sns\n\nregister_matplotlib_converters()\nfrom IPython.display import Markdown\n\nimport plotly.offline as py\nimport plotly.express as px\nfrom fbprophet import Prophet\nfrom fbprophet.plot import plot_plotly, add_changepoints_to_plot\n\ndataset = pd.DataFrame()","522ae011":"symptoms={'symptom':['Fever',\n        'Dry cough',\n        'Fatigue',\n        'Sputum production',\n        'Shortness of breath',\n        'Muscle pain',\n        'Sore throat',\n        'Headache',\n        'Chills',\n        'Nausea or vomiting',\n        'Nasal congestion',\n        'Diarrhoea',\n        'Haemoptysis',\n        'Conjunctival congestion'],'percentage':[87.9,67.7,38.1,33.4,18.6,14.8,13.9,13.6,11.4,5.0,4.8,3.7,0.9,0.8]}\n\nsymptoms=pd.DataFrame(data=symptoms,index=range(14))\nsymptoms","8899e905":"fig = px.pie(symptoms,\n             values=\"percentage\",\n             names=\"symptom\",\n             title=\"Symtoms of Coronavirus\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"value+percent+label\")\nfig.show()","d70bda9d":"from IPython.core.display import HTML\nHTML('''<div class=\"flourish-embed\" data-src=\"story\/258632\" data-url=\"https:\/\/flo.uri.sh\/story\/258632\/embed\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","40dc1ee3":"from IPython.core.display import HTML\nHTML('''<div class=\"flourish-embed flourish-chart\" data-src=\"story\/230114\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')\n","dbf7252a":"from IPython.core.display import HTML\nHTML('''<div class=\"flourish-embed flourish-chart\" data-src=\"story\/230085\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","a0ce19d6":"from IPython.core.display import HTML\nHTML('''<div class=\"flourish-embed flourish-chart\" data-src=\"story\/230110\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>\n''')","06a6afc2":"def statelat(sate):\n    lat = {\n        \"Maharashtra\":19.7515,\n        \"Delhi\":28.7041,\n        \"Tamil Nadu\":11.1271,\n        \"Rajasthan\":27.0238,\n        \"Madhya Pradesh\":22.9734,\n        \"Telangana\":18.1124,\n        \"Gujarat\":22.2587,\n        \"Uttar Pradesh\":26.8467,\n        \"Andhra Pradesh\":15.9129,\n        \"Kerala\":10.8505,\n        \"Jammu and Kashmir\":33.7782,\n        \"Karnataka\":15.3173,\n        \"Haryana\":29.0588,\n        \"Punjab\":31.1471,\n        \"West Bengal\":22.9868,\n        \"Bihar\":25.0961,\n        \"Odisha\":20.9517,\n        \"Uttarakhand\":30.0668,\n        \"Himachal Pradesh\":31.1048,\n        \"Assam\":26.2006,\n        \"Chhattisgarh\":22.0797,\n        \"Chandigarh\":30.7333,\n        \"Jharkhand\":23.6102,\n        \"Ladakh\":34.152588,\n        \"Andaman and Nicobar Islands\":11.7401,\n        \"Goa\":15.2993,\n        \"Puducherry\":11.9416,\n        \"Manipur\":24.6637,\n        \"Tripura\":23.9408,\n        \"Mizoram\":23.1645,\n        \"Arunachal Pradesh\":28.2180,\n        \"Dadra and Nagar Haveli\":20.1809,\n        \"Nagaland\":26.1584,\n        \"Daman and Diu\":20.4283,\n        \"Lakshadweep\":8.295441,\n        \"Meghalaya\":25.4670,\n        \"Sikkim\":27.5330\n    }\n    return lat[sate]","5d38fd8a":"def statelong(sate):\n    long = {\n        \"Maharashtra\":75.7139,\n        \"Delhi\":77.1025,\n        \"Tamil Nadu\":78.6569,\n        \"Rajasthan\":74.2179,\n        \"Madhya Pradesh\":78.6569,\n        \"Telangana\":79.0193,\n        \"Gujarat\":71.1924,\n        \"Uttar Pradesh\":80.9462,\n        \"Andhra Pradesh\":79.7400,\n        \"Kerala\":76.2711,\n        \"Jammu and Kashmir\":76.5762,\n        \"Karnataka\":75.7139,\n        \"Haryana\":76.0856,\n        \"Punjab\":75.3412,\n        \"West Bengal\":87.8550,\n        \"Bihar\":85.3131,\n        \"Odisha\":85.0985,\n        \"Uttarakhand\":79.0193,\n        \"Himachal Pradesh\":77.1734,\n        \"Assam\":92.9376,\n        \"Chhattisgarh\":82.1409,\n        \"Chandigarh\":76.7794,\n        \"Jharkhand\":85.2799,\n        \"Ladakh\":77.577049,\n        \"Andaman and Nicobar Islands\":92.6586,\n        \"Goa\":74.1240,\n        \"Puducherry\":79.8083,\n        \"Manipur\":93.9063,\n        \"Tripura\":91.9882,\n        \"Mizoram\":92.9376,\n        \"Arunachal Pradesh\":94.7278,\n        \"Dadra and Nagar Haveli\":73.0169,\n        \"Nagaland\":94.5624,\n        \"Daman and Diu\":72.8397,\n        \"Lakshadweep\":73.048973,\n        \"Meghalaya\":91.3662,\n        \"Sikkim\":88.5122\n    }\n    return long[sate]","9f690963":"df = pd.read_csv('..\/input\/covid19-in-india\/covid_19_india.csv')\ndata = df.copy()\ndata['Date'] = data['Date'].apply(pd.to_datetime)\ndata.drop(['Sno', 'Time'],axis=1,inplace=True)\n\n# collect present data\nfrom datetime import date\ndata_apr = data[data['Date'] > pd.Timestamp(date(2020,4,12))]\n\n# prepaing data state wise\nstate_cases = data_apr.groupby('State\/UnionTerritory')['Confirmed','Deaths','Cured'].max().reset_index()\nstate_cases['Active'] = state_cases['Confirmed'] - (state_cases['Deaths']- state_cases['Cured'])\nstate_cases[\"Death Rate (per 100)\"] = np.round(100*state_cases[\"Deaths\"]\/state_cases[\"Confirmed\"],2)\nstate_cases[\"Cure Rate (per 100)\"] = np.round(100*state_cases[\"Cured\"]\/state_cases[\"Confirmed\"],2)","98780de3":"testingHistory = pd.DataFrame()\ntestingNO = []\ntestedPos = []\ntimeStamp = []\nindiaLiveJson = 'https:\/\/api.covid19india.org\/data.json'\nr = requests.get(indiaLiveJson)\nindiaData = r.json()","7b1865a4":"labs = pd.read_csv(\"..\/input\/covid19-in-india\/ICMRTestingLabs.csv\")\nfig = px.treemap(labs, path=['state','city'],\n                  color='city', hover_data=['lab','address'],\n                  color_continuous_scale='reds')\nfig.show()","8fa654ed":"indiaConfirmed = []\nindiaRecovered = []\nindiaDeseased = []\ntimeStamp = []\nfor index in range(len(indiaData['cases_time_series'])):\n    indiaConfirmed.append(int(re.sub(',','',indiaData['cases_time_series'][index]['totalconfirmed'])))\n    indiaRecovered.append(int(re.sub(',','',indiaData['cases_time_series'][index]['totalrecovered'])))\n    indiaDeseased.append(int(re.sub(',','',indiaData['cases_time_series'][index]['totaldeceased'])))\n    \n    timeStamp.append(indiaData['cases_time_series'][index]['date'])\n    \n\nfig = go.Figure()\n#fig = px.scatter(testingHistory,x=\"time_stamp\", y=\"testing_no\")\n\nfig = fig.add_trace(go.Scatter(x=timeStamp, y=indiaConfirmed,\n                    mode='lines+markers',\n                    name='Confirmed Cases'))\nfig = fig.add_trace(go.Scatter(x=timeStamp, y=indiaRecovered,\n                    mode='lines+markers',\n                    name='Recoverd Patients'))\nfig = fig.add_trace(go.Scatter(x=timeStamp, y=indiaDeseased,\n                    mode='lines+markers',\n                    name='Deseased Patients'))\n\nfig = fig.update_layout(\n    title=\"India COVID-19 \",\n    xaxis_title=\"Date\",\n    yaxis_title=\"Testing\",\n    \n)\n\n\nfig.show()","a17116e0":"p = pd.read_csv(\"..\/input\/coronavirus-2019ncov\/covid-19-all.csv\")\np = p[p['Country\/Region'] ==  \"India\"]\np= p.tail(14)\nplt.figure(figsize=(23,10))\nplt.bar(p.Date, p.Confirmed,label=\"Confirm Cases\")\nplt.xlabel('Date')\nplt.ylabel(\"Count\")\nplt.legend(frameon=True, fontsize=12)\nplt.title('Confirmed Cases',fontsize = 35)\nplt.show()\n\nplt.figure(figsize=(23,10))\nplt.bar(p.Date, p.Recovered,label=\"Recovered Cases\")\nplt.xlabel('Date')\nplt.ylabel(\"Count\")\nplt.legend(frameon=True, fontsize=12)\nplt.title('Recovered Cases',fontsize = 35)\nplt.show()\n\nplt.figure(figsize=(23,10))\nplt.bar(p.Date, p.Deaths,label=\"Deaths\")\nplt.xlabel('Date')\nplt.ylabel(\"Count\")\nplt.legend(frameon=True, fontsize=12)\nplt.title('Deaths',fontsize = 35)\nplt.show()","78b8022d":"plt.figure(figsize=(23,10))\nplt.bar(p.Date, p.Confirmed,label=\"Confirm Cases\")\nplt.bar(p.Date, p.Recovered,label=\"Recovered Cases\")\nplt.bar(p.Date, p.Deaths,label=\"Deaths\")\nplt.xlabel('Date')\nplt.ylabel(\"Count\")\nplt.legend(frameon=True, fontsize=12)\nplt.title('Confirmed vs Recovery vs Deaths',fontsize = 35)\nplt.show()","d43b1857":"age = pd.read_csv('..\/input\/covid19-in-india\/AgeGroupDetails.csv')\nfig = px.pie(age,\n             values=\"TotalCases\",\n             names=\"AgeGroup\",\n             title=\"Age of Coronavirus Patients\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"value+percent+label\")\nfig.show()","0eef2040":"global_data = pd.read_csv(\"..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv\")\ndef smoother(inputdata,w,imax):\n    data = 1.0*inputdata\n    data = data.replace(np.nan,1)\n    data = data.replace(np.inf,1)\n    #print(data)\n    smoothed = 1.0*data\n    normalization = 1\n    for i in range(-imax,imax+1):\n        if i==0:\n            continue\n        smoothed += (w**abs(i))*data.shift(i,axis=0)\n        normalization += w**abs(i)\n    smoothed \/= normalization\n    return smoothed\n\ndef growth_factor(confirmed):\n    confirmed_iminus1 = confirmed.shift(1, axis=0)\n    confirmed_iminus2 = confirmed.shift(2, axis=0)\n    return (confirmed-confirmed_iminus1)\/(confirmed_iminus1-confirmed_iminus2)\n\ndef growth_ratio(confirmed):\n    confirmed_iminus1 = confirmed.shift(1, axis=0)\n    return (confirmed\/confirmed_iminus1)\n\n# This is a function which plots (for in input country) the active, confirmed, and recovered cases, deaths, and the growth factor.\ndef plot_country_active_confirmed_recovered(country):\n    \n    # Plots Active, Confirmed, and Recovered Cases. Also plots deaths.\n    country_data = global_data[global_data['Country\/Region']==country]\n    table = country_data.drop(['SNo','Province\/State', 'Last Update'], axis=1)\n    table['ActiveCases'] = table['Confirmed'] - table['Recovered'] - table['Deaths']\n    table2 = pd.pivot_table(table, values=['ActiveCases','Confirmed', 'Recovered','Deaths'], index=['ObservationDate'], aggfunc=np.sum)\n    table3 = table2.drop(['Deaths'], axis=1)\n   \n    # Growth Factor\n    w = 0.5\n    table2['GrowthFactor'] = growth_factor(table2['Confirmed'])\n    table2['GrowthFactor'] = smoother(table2['GrowthFactor'],w,5)\n\n    # 2nd Derivative\n    table2['2nd_Derivative'] = np.gradient(np.gradient(table2['Confirmed'])) #2nd derivative\n    table2['2nd_Derivative'] = smoother(table2['2nd_Derivative'],w,7)\n\n\n    #Plot confirmed[i]\/confirmed[i-1], this is called the growth ratio\n    table2['GrowthRatio'] = growth_ratio(table2['Confirmed'])\n    table2['GrowthRatio'] = smoother(table2['GrowthRatio'],w,5)\n    \n    #Plot the growth rate, we will define this as k in the logistic function presented at the beginning of this notebook.\n    table2['GrowthRate']=np.gradient(np.log(table2['Confirmed']))\n    table2['GrowthRate'] = smoother(table2['GrowthRate'],0.5,3)\n    \n    # horizontal line at growth rate 1.0 for reference\n    x_coordinates = [1, 100]\n    y_coordinates = [1, 1]\n    f, ax = plt.subplots(figsize=(15,5))\n    table2['Deaths'].plot(title='Deaths')\n    plt.show()\n    f, ax = plt.subplots(figsize=(15,5))\n    table2['GrowthFactor'].plot(title='Growth Factor')\n    plt.plot(x_coordinates, y_coordinates) \n    plt.show()\n    f, ax = plt.subplots(figsize=(15,5))\n    table2['2nd_Derivative'].plot(title='2nd_Derivative')\n    plt.show()\n    f, ax = plt.subplots(figsize=(15,5))\n    table2['GrowthRatio'].plot(title='Growth Ratio')\n    plt.plot(x_coordinates, y_coordinates)\n    plt.show()\n    f, ax = plt.subplots(figsize=(15,5))\n    table2['GrowthRate'].plot(title='Growth Rate')\n    plt.show()\n\n    return \nplot_country_active_confirmed_recovered(\"India\")","4872550f":"display(Markdown(\"** STATE WISE CONFIRMED, DEATH AND CURED CASES of 2019-nCoV**\"))\nstate_cases.sort_values('Confirmed', ascending= False).fillna(0).style.background_gradient(cmap='YlOrBr',subset=[\"Confirmed\"])\\\n                        .background_gradient(cmap='Reds',subset=[\"Deaths\"])\\\n                        .background_gradient(cmap='Greens',subset=[\"Cured\"])\\\n                        .background_gradient(cmap='Blues',subset=[\"Active\"])\\\n                        .background_gradient(cmap='Purples',subset=[\"Death Rate (per 100)\"])\\\n                        .background_gradient(cmap='Greens',subset=[\"Cure Rate (per 100)\"])\n","1c87caf0":"state_cases.describe().T","1ebb391d":"Total_confirmed = state_cases['Confirmed'].sum()\nTotal_recovered = state_cases['Cured'].sum()\nTotal_death = state_cases['Deaths'].sum()","c93cb38a":"data = [['Confirmed', Total_confirmed], ['Recovered', Total_recovered], ['Death', Total_death]] \ndf = pd.DataFrame(data, columns = ['state', 'count']) \nfig = px.pie(df,\n             values=\"count\",\n             names=\"state\",\n             title=\"State of Patient\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","f624686c":"states = []\nactive = []\nconfirmed = []\ndeaths = []\nfor index in range(len(indiaData['statewise'])):\n    if index == 0:\n        continue\n    states.append(str(re.sub(',','',indiaData['statewise'][index]['state'])))\n    active.append(int(re.sub(',','',indiaData['statewise'][index]['active'])))\n    confirmed.append(int(re.sub(',','',indiaData['statewise'][index]['confirmed'])))\n    deaths.append(int(re.sub(',','',indiaData['statewise'][index]['deaths'])))\n    \nsates = state_cases\nindia_map = pd.DataFrame()\n\n\n\n\nindia_map['States'] = states\nindia_map['lat'] = india_map['States'].apply(lambda x : statelat(x))\nindia_map['long'] = india_map['States'].apply(lambda x : statelong(x))\nindia_map['Confirmed'] = confirmed\nindia_map['Recovered'] = list(np.array(confirmed) - np.array(active))\nindia_map['Deaths'] = deaths\nindia_map['Active'] = active","022f36d1":"cmap1  = india_map.groupby(['States','lat','long'])['Confirmed', 'Deaths', 'Recovered','Active'].max()\n\n\ncmap1 = cmap1.reset_index()\ncmap1.head()\ncmap1['size'] = cmap1['Active']*90000000\ncmap1\nfig = px.scatter_mapbox(cmap1, lat=\"lat\", lon=\"long\",\n                     color=\"Confirmed\", size='size',hover_data=['States','Confirmed','Recovered','Deaths','Active'],\n                     color_continuous_scale='reds',\n                     title='Spread of Coronavirus in India')\nfig.update(layout_coloraxis_showscale=True)\nfig.update_layout(mapbox_style=\"carto-positron\",\n                  mapbox_zoom=3)\nfig.update_layout(margin={\"r\":0,\"t\":30,\"l\":0,\"b\":0})\nfig.show()","8dad28bf":"fig = px.treemap(india_map, path=['States'], values='Active',\n                  color='Active', hover_data=['Confirmed','Recovered','Deaths'],\n                  color_continuous_scale='burgyl')\nfig.show()","06c5dc84":"l=list(india_map[\"States\"])\nfig = make_subplots(rows=11, cols=3,subplot_titles=l,specs=[[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}],[{'type':'domain'}, {'type':'domain'},{'type':'domain'}]])\na=1\nb=1\n\nfor i in l:\n    \n    \n    temp_df=india_map[india_map[\"States\"]==i]\n    values=[int(temp_df[\"Deaths\"]),int(temp_df[\"Recovered\"]),int(temp_df[\"Active\"])]\n    labels=[\"Deaths\",\"Recovered\",\"Active\"]\n \n    #annot.append(dict(text=i,font_size=10, showarrow=False))\n    \n    fig.add_trace(go.Pie(labels=labels, textposition=\"inside\",values=values, name=i),a, b)\n    \n    if b==3 and a<11:\n        a=a+1\n   \n      \n    if b+1>3:\n        b=1\n    else:\n        b=b+1\n   \n    fig.update_traces(hole=.4)\n\nfig.update_layout(\n    \n    height=1900,width=1000\n)\nfig.update(layout_title_text='StateWise analysis of Positive cases')\n\n\n#fig = go.Figure(fig)\nfig.show()\n#iplot(fig)   ","9f4a6d6e":"fig = px.bar(state_cases[['State\/UnionTerritory', 'Confirmed']].sort_values('Confirmed', ascending=False), \n             y=\"Confirmed\", x=\"State\/UnionTerritory\", color='State\/UnionTerritory', \n             log_y=True, template='ggplot2', title='Confirmed cases across states')\nfig.show()\n\"\"\"\nfig = px.pie(state_cases,\n             values=\"Confirmed\",\n             names=\"State\/UnionTerritory\",\n             title=\"Confirmed cases across states\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()\n\"\"\"\n\nfig = px.bar(state_cases[['State\/UnionTerritory', 'Cured']].sort_values('Cured', ascending=False), \n             y=\"Cured\", x=\"State\/UnionTerritory\", color='State\/UnionTerritory', \n             log_y=True, template='ggplot2', title='Cured cases across states')\nfig.show()\n\"\"\"\nfig = px.pie(state_cases,\n             values=\"Cured\",\n             names=\"State\/UnionTerritory\",\n             title=\"Cured cases across states\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()\n\"\"\"\n\nfig = px.bar(state_cases[['State\/UnionTerritory', 'Deaths']].sort_values('Deaths', ascending=False), \n             y=\"Deaths\", x=\"State\/UnionTerritory\", color='State\/UnionTerritory', \n             log_y=True, template='ggplot2', title='Deaths across States')\nfig.show()\n\"\"\"\nfig = px.pie(state_cases,\n             values=\"Deaths\",\n             names=\"State\/UnionTerritory\",\n             title=\"Deaths across States\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()\n\"\"\"\n\nfig = px.bar(state_cases[['State\/UnionTerritory', 'Active']].sort_values('Active', ascending=False), \n             y=\"Active\", x=\"State\/UnionTerritory\", color='State\/UnionTerritory', \n             log_y=True, template='ggplot2', title='Active Cases across States')\nfig.show()\n\"\"\"\n\nfig = px.pie(state_cases,\n             values=\"Active\",\n             names=\"State\/UnionTerritory\",\n             title=\"Active Cases across States\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()\n\"\"\"","6c01744a":"!pip install chart_studio\n","b6bb615e":"pip install bubbly\n","9fc371be":"from bubbly.bubbly import bubbleplot \nfrom plotly.offline import iplot\nimport chart_studio.plotly as py\n\nfigure = bubbleplot(dataset=state_cases, x_column='Confirmed', y_column='Cured', \n    bubble_column='State\/UnionTerritory',size_column='Cured', color_column='State\/UnionTerritory', \n    x_title=\"Confirm\", y_title=\"Recovery\", title='Confirm vs Recovery',\n     scale_bubble=3, height=650)\n\niplot(figure, config={'scrollzoom': True})","abd71428":"from bubbly.bubbly import bubbleplot \nfrom plotly.offline import iplot\nimport chart_studio.plotly as py\n\nfigure = bubbleplot(dataset=state_cases, x_column='Confirmed', y_column='Deaths', \n    bubble_column='State\/UnionTerritory',size_column='Deaths', color_column='State\/UnionTerritory', \n    x_title=\"Confirm\", y_title=\"Recovery\", title='Confirm vs Deaths',\n     scale_bubble=3, height=650)\n\niplot(figure, config={'scrollzoom': True})","8a7f5db5":"f, ax = plt.subplots(figsize=(15,5))\nh=pd.pivot_table(state_cases,columns='State\/UnionTerritory',values=[\"Cure Rate (per 100)\"])\nsns.heatmap(h,cmap=['skyblue','salmon','green'],linewidths=0.05)\n\nfig = px.bar(state_cases[['State\/UnionTerritory', 'Cure Rate (per 100)']].sort_values('Cure Rate (per 100)', ascending=False), \n             y=\"Cure Rate (per 100)\", x=\"State\/UnionTerritory\", color='State\/UnionTerritory', \n             log_y=True, template='ggplot2', title='Cure Rate across States')\nfig.show()\n\n\n","014d27f1":"f, ax = plt.subplots(figsize=(15,5))\nh=pd.pivot_table(state_cases,columns='State\/UnionTerritory',values=[\"Death Rate (per 100)\"])\nsns.heatmap(h,cmap=\"RdYlGn\",linewidths=0.05)\n\nfig = px.bar(state_cases[['State\/UnionTerritory', 'Death Rate (per 100)']].sort_values('Death Rate (per 100)', ascending=False), \n             y=\"Death Rate (per 100)\", x=\"State\/UnionTerritory\", color='State\/UnionTerritory', \n             log_y=True, template='ggplot2', title='Death Rate across States')\nfig.show()\n","99b77d6d":"coastal = pd.DataFrame()\ncoastal = state_cases.iloc[[\"0\",\"1\",\"8\",\"9\",\"14\",\"15\",\"18\",\"24\",\"25\",\"28\",\"33\"]]\ncoastal[\"Area\"] = [8249,162970,3702,196024,191791,38863,307713,155707,492,130058,88752]\ncoastal","06ce2ba6":"coastal_confirmed = (coastal['Confirmed'].sum())\nnon_coastal_confirmed = Total_confirmed- coastal_confirmed\nprint(\"Coastal Area=\" + str(coastal_confirmed))\nprint(\"Non Coastal Area=\"+ str(non_coastal_confirmed))","adcd613d":"coastal_state_area = (coastal['Area'].sum())\nnon_coastal_state_area = 1582422","9213f6b2":"print(\"Coastal Area=\" + str(coastal_state_area))\nprint(\"Non Coastal Area=\"+ str(non_coastal_state_area))","688e492f":"ccpa = coastal_confirmed\/coastal_state_area\nccpa = ccpa*1000\nccpa","096ad325":"nccpa = non_coastal_confirmed\/1582422\nnccpa = nccpa * 1000\nnccpa","6705969c":"hospital  = pd.read_csv(\"..\/input\/hospitalbedloc\/HospitalBedsIndiaLocations.csv\")\nhmis = hospital.loc[:,['Sno','State\/UT','Latitude','Longitude','NumPrimaryHealthCenters_HMIS','NumCommunityHealthCenters_HMIS','NumSubDistrictHospitals_HMIS','NumDistrictHospitals_HMIS','TotalPublicHealthFacilities_HMIS','NumPublicBeds_HMIS']]\nhmis = hmis.rename(columns={\"State\/UT\":\"State\",\"NumPrimaryHealthCenters_HMIS\":\"Primary\",\"NumCommunityHealthCenters_HMIS\":\"Community\",\"NumSubDistrictHospitals_HMIS\":\"SubDistrict\",\"NumDistrictHospitals_HMIS\":\"District\",\"TotalPublicHealthFacilities_HMIS\":\"Total\",\"NumPublicBeds_HMIS\":\"Public beds\"})\nhmis = hmis.fillna(0)\nhmis.head()\n","e1a1cda6":"hmis.describe().T","6bf56e76":"fig = px.treemap(hmis, path=['State'], values='Total',\n                  color='Total', hover_data=['State','Primary','Community','SubDistrict','District',\"Public beds\"],\n                  color_continuous_scale='burgyl')\nfig.show()","33f3d7d6":"fig = px.treemap(hmis, path=['State'], values='Public beds',\n                  color='Public beds', hover_data=['State','Primary','Community','SubDistrict','District',\"Total\"],\n                  color_continuous_scale='burgyl')\nfig.show()","cd0eb995":"import folium\nindia = folium.Map(location=[20.5937,78.9629 ], zoom_start=5,tiles='cartodbpositron')\n\nfor lat, lon,State,Primary ,Community, SubDistrict, District, Total in zip(hmis['Latitude'], hmis['Longitude'],hmis['State'],hmis['Total'],hmis['Primary'],hmis['Community'],hmis['SubDistrict'],hmis['District']):\n    folium.CircleMarker([lat, lon],\n                        radius=5,\n                        color='red',\n                      popup =('State:' + str(State) + '<br>'\n                             'Total Hospitals:' + str(Total) + '<br>'\n                              'Primary :' + str(Primary) + '<br>'\n                             'Community:' + str(Community) + '<br>'\n                             'Sub District:'+ str(SubDistrict) + '<br>'\n                             'District:'+ str(District) + '<br>'\n\n                             ),\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(india)\nindia","9f3eb782":"nhp = hospital.loc[:,['Sno','State\/UT','Latitude','Longitude','NumRuralHospitals_NHP18','NumRuralBeds_NHP18','NumUrbanHospitals_NHP18','NumUrbanBeds_NHP18']]\nnhp = nhp.rename(columns={'State\/UT':\"State\",'NumRuralHospitals_NHP18':\"Rural_hospitals\",'NumRuralBeds_NHP18':\"Rural_beds\",'NumUrbanHospitals_NHP18':\"Urban_hospitals\",'NumUrbanBeds_NHP18':\"Urban_beds\"})\nnhp = nhp.fillna(0)\nnhp['Total_hospitals'] = nhp['Rural_hospitals'] + nhp['Urban_hospitals']\nnhp['Total_beds'] = nhp['Rural_beds'] + nhp['Urban_beds']\nnhp.head()\n","25251b65":"nhp.describe().T","9b17dfb2":"fig = px.treemap(nhp, path=['State'], values='Total_hospitals',\n                  color='Total_hospitals', hover_data=['State','Rural_hospitals','Rural_beds','Urban_hospitals','Urban_beds','Total_beds'],\n                  color_continuous_scale='burgyl')\nfig.show()","9569f378":"fig = px.treemap(nhp, path=['State'], values='Total_beds',\n                  color='Total_beds', hover_data=['State','Rural_hospitals','Rural_beds','Urban_hospitals','Urban_beds','Total_hospitals'],\n                  color_continuous_scale='burgyl')\nfig.show()","fa8aea77":"import folium\nindia = folium.Map(location=[20.5937,78.9629 ], zoom_start=5,tiles='cartodbpositron')\n\nfor lat, lon,State,Rural_hospitals ,Rural_beds, Urban_hospitals, Urban_beds, Total_hospitals,Total_beds in zip(nhp['Latitude'], nhp['Longitude'],nhp['State'],nhp['Rural_hospitals'],nhp['Rural_beds'],nhp['Urban_hospitals'],nhp['Urban_beds'],nhp['Total_hospitals'],nhp['Total_beds']):\n    folium.CircleMarker([lat, lon],\n                        radius=5,\n                        color='red',\n                      popup =('State:' + str(State) + '<br>'\n                             'Rural Hospitals:' + str(Rural_hospitals) + '<br>'\n                              'Rural Beds :' + str(Rural_beds) + '<br>'\n                             'Urban Hospitals:' + str(Urban_hospitals) + '<br>'\n                             'Urban Beds:'+ str(Urban_beds) + '<br>'\n                             'Total Hospitals:'+ str(Total_hospitals) + '<br>'\n                             'Total Beds:'+ str(Total_beds) + '<br>'\n\n                             ),\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(india)\nindia","2257a08c":"pred = pd.read_csv(\"..\/input\/coronavirus-2019ncov\/covid-19-all.csv\")\npred = pred[pred[\"Country\/Region\"]==\"India\"]\npred = pred.fillna(0)\npredgrp = pred.groupby(\"Date\")[[\"Confirmed\",\"Recovered\",\"Deaths\"]].sum().reset_index()\npredgrp.head()","06a6a74e":"predgrp.describe().T\n","8be7388d":"pred_cnfrm = predgrp.loc[:,[\"Date\",\"Confirmed\"]]\npr_data = pred_cnfrm\npr_data.columns = ['ds','y']\nm=Prophet()\nm.fit(pr_data)\nfuture=m.make_future_dataframe(periods=15)\nforecast=m.predict(future)\nforecast","4a973717":"import plotly.offline as py\n\nfig = plot_plotly(m, forecast)\npy.iplot(fig) \n\nfig = m.plot(forecast,xlabel='Date',ylabel='Confirmed Count')","d44411aa":"cnfrm = forecast.loc[:,['ds','trend']]\ncnfrm = cnfrm[cnfrm['trend']>0]\ncnfrm.columns = ['Date','Confirm']\ncnfrm.tail(15)","089eeb5a":"**Tree Plot by Total Beds **","a49f60e2":"**Description of Data**","e53a2b2c":"**Coastal Confirmed per 1000sqkm**","da0e6246":"# India Map","36fa6a1c":"**HMIS Hospitals in World Map**","e8963f03":"# **Health Management Information System**","cd139537":" # Confirmed vs Death","b52510a3":"**Tree Plot by Total Beds **","93e16e39":"# **State Level Visualisation**","039f0bf1":"**Coastal and Non Coastal Confirmation**","77cedcba":"# Prediction by Prophet","85ca9e36":"**Model**","6155374e":"**Tree Plot by Total Hospitals**","a8eea32c":"**NHP hospitals in world map**","1a8d6e2c":"# Confirmed vs Recovery","328f56d0":"#### Breakdown of impacts by country\n","563ff6ac":"# Affect in States","5a5a572b":"**I think  the number of cases is more in coastal than other part of India so creating a new dataframe and validating the point **","174735ca":"#### Searchable line chart with linear\/log toggle\n","f1ad0504":" **Descripiton of Hospitlas and Beds**","be4ed3c6":"# Status of Testing Labs","6bc72e23":"****Non Coastal Confirmed per 1000sqkm****","e14699c9":"**This file contain Health Management Information System data and National Health Profile Data and we deal diffrently with them**","d5343e61":" **Descripiton of Hospitlas and Beds**","3d1c1dc1":"**Creating a new dataframe of all the coastal states in India**","94fc3a17":"#### COVID-19: deaths since 10th death","2d26de30":"# **Hospitals and Beds in India**","c8d39cb0":"# National Health Profile","27ee1d3a":"# Confirmed,Cured,Deaths and Active Count","f444424b":"**Coastal and Non Coastal Area**","522960ef":"# Cured per 100 ","995b66ff":"# How age is related?","45ceb0e2":"![](https:\/\/media.giphy.com\/media\/dVuyBgq2z5gVBkFtDc\/giphy.gif)\n\n**The 2019\u201320 coronavirus pandemic is an ongoing pandemic of coronavirus disease 2019 (COVID-19) caused by severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2). The outbreak was identified in Wuhan, China, in December 2019, declared to be a Public Health Emergency of International Concern on 30 January 2020, and recognized as a pandemic by the World Health Organization on 11 March 2020. As of 16 April 2020, more than 2.1 million cases of COVID-19 have been reported in 210 countries and territories, resulting in more than 140,000 deaths. More than 532,000 people have recovered, although there may be a possibility of relapse or reinfection. The deaths per diagnosed cases varies significantly between countries.**\n\n**PCoronaviruses are a large family of viruses which may cause illness in animals or humans. In humans, several coronaviruses are known to cause respiratory infections ranging from the common cold to more severe diseases such as Middle East Respiratory Syndrome (MERS) and Severe Acute Respiratory Syndrome (SARS).The virus is primarily spread between people during close contact, often via small droplets produced by coughing, sneezing, or talking. While these droplets are produced when breathing out, they usually fall to the ground or onto surfaces rather than being infectious over long distances.**\n","f3c2b295":"# **Growth Rate and Factor**","1c5f3dbe":"# Confirmed vs Recovered vs Death","77e9747d":"**Prediction for next 15 days**","852d44e1":"**Tree Plot by Total Hospitals **","e56638a1":"# Deaths per 100","30fc4509":"**Graphical representation of Prediction**","b1c18e07":"**Looking into data**","08532123":"**Status of Neighbouring countries**","21fb29ea":"# **Symptoms of Coronavirus**"}}