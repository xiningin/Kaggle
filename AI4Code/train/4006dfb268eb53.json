{"cell_type":{"55e77549":"code","56714f50":"code","16ed4ef8":"code","a9de45be":"code","bcddbdd9":"code","50e99a73":"code","7c16f06b":"code","30562f18":"code","23dacbaa":"code","0ba871d6":"code","23ccfa19":"code","37f980e7":"code","f7225b99":"code","84fee74f":"code","e01426ef":"code","0d6a01bd":"code","ec0907df":"code","e6dad43f":"code","123be507":"code","c58a5efb":"code","c98a1524":"code","3504f2df":"code","c644219d":"code","89d211b7":"code","0bd32db7":"code","bf96bf72":"code","0486159e":"code","cc8f6417":"code","10e91e9a":"code","3e172f73":"code","80cc0e7e":"code","6ab40c82":"markdown","ef700594":"markdown","7d82e166":"markdown","4fad0d09":"markdown","ebd9ff90":"markdown","e025e346":"markdown","91c4baa5":"markdown","015ae0a3":"markdown","7f9c5905":"markdown","8488cf89":"markdown","59486458":"markdown"},"source":{"55e77549":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)","56714f50":"import matplotlib.pyplot as plt\nimport warnings\nfrom plotly.offline import plot, iplot, init_notebook_mode\nimport plotly.graph_objs as go\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\ninit_notebook_mode(connected=True)\nwarnings.filterwarnings(\"ignore\")\n# es para que las graficas siempre se queden en el notebook\n%matplotlib inline  \nimport datetime as dt","16ed4ef8":"data = pd.read_csv(\"..\/input\/fifa-22-complete-player-dataset\/players_22.csv\")","a9de45be":"data","bcddbdd9":"data.info()","50e99a73":"data.isnull().sum()","7c16f06b":"for col in data.columns:\n    pct_missing = np.mean(data[col].isnull())*100\n    print('{} - {}%'.format(col, round(pct_missing)))","30562f18":"for col in data.columns:\n    pct_missing = np.mean(data[col].isnull())*100\n    if pct_missing > 60:\n        print('{} - {}%'.format(col, round(pct_missing)))","23dacbaa":"Data = data.drop(columns=['club_loaned_from', 'nation_team_id', 'nation_position', 'nation_jersey_number', \\\n                          'player_tags', 'goalkeeping_speed', 'nation_logo_url'])\nData","0ba871d6":"maxpot = Data['potential'].idxmax()\nData.loc[[maxpot]]","23ccfa19":"print (\"Player:\" + str(Data['long_name'][maxpot]) +  \"          Potential:\" + str(Data['potential'][maxpot]))","37f980e7":"Data[Data['potential'] >= 85].sort_values(by=['potential'], ascending = False)\n","f7225b99":"Data[\"Crecimiento\"] = Data['potential'] - Data['overall']\nmaxdif = Data[\"Crecimiento\"].idxmax()\nData.loc[[maxdif]]","84fee74f":"print (\"Player:\" + str(Data['long_name'][maxdif]) +  \"     Tiene un overall actual de: \" + str(Data['overall'][maxdif]) \\\n      +  \"     Con un potencial de :\" + str(Data['potential'][maxdif])+  \"     (Diferencia de: \" + str(Data[\"Crecimiento\"].max()) + \")\")","e01426ef":"Data","0d6a01bd":"Crec_edad = Data[Data['potential'] >= 85].sort_values(by=['Crecimiento','age'], ascending = False)\nCrec_edad.head(20)","ec0907df":"Crec_edad_B= Crec_edad[['short_name', 'long_name', 'age','player_positions', 'overall' , 'potential' , \\\n                        'Crecimiento' , 'club_name']].copy()\nCrec_edad_B.head(20)","e6dad43f":"iso = px.data.gapminder()\niso.drop_duplicates(subset = [\"country\", \"iso_alpha\"], inplace = True)","123be507":"Data.rename(columns = {\"nationality_name\":\"country\"}, inplace = True)\nData[\"country\"] = Data.country.astype(str)\n\n\n# Nationality name\niso\nData = Data.set_index(\"country\").join(iso[[\"country\", \"iso_alpha\"]].set_index(\"country\"), how = \"inner\")\nData.reset_index(inplace = True)","c58a5efb":"Data","c98a1524":"CM = Data[Data['player_positions'] == 'CM'].sort_values(by=['mentality_vision'], ascending = False)\nCM","3504f2df":"CM_mean = CM.groupby(['country']).mean()\nx = CM_mean['mentality_vision']\nmean_cm = x.to_frame().reset_index()\nmean_cm","c644219d":"CM_sum = CM.groupby(['country']).sum()\nCM_sum['mentality_vision']","89d211b7":"num_per_country = CM_sum['mentality_vision']\/CM_mean['mentality_vision']\nnum_per_country.reset_index()\nnum = num_per_country.to_frame().reset_index()\nnum.rename(columns={'mentality_vision' : 'CM per country'},inplace=True)\n","0bd32db7":"CM_map= num[['country', 'CM per country']].copy()\nCM_map['CM mean'] = mean_cm['mentality_vision']\nCM_map.rename(columns={'CM mean' : 'Mentality Vision mean'},inplace=True)\nCM_map","bf96bf72":"iso","0486159e":"# country\niso\nCM_map = CM_map.set_index(\"country\").join(iso[[\"country\", \"iso_alpha\"]].set_index(\"country\"), how = \"inner\")\nCM_map.reset_index(inplace = True)","cc8f6417":"CM_map","10e91e9a":"fig = px.scatter_geo(CM_map, locations=\"iso_alpha\", hover_name=\"country\", size=\"CM per country\",\n              projection=\"natural earth\", color_discrete_sequence=\"Blues\" , color=\"Mentality Vision mean\")\nfig.show()","3e172f73":"Mex = Data[Data['country'] == 'Mexico']\nMex","80cc0e7e":"CM_mex = Mex[Mex['player_positions'] == 'CM']\nCM_mex","6ab40c82":"### 1) Jugador con mayor potencial del juego","ef700594":"### 3) Jugador con mayor proyeccion de crecimiento","7d82e166":"Obtener media de mentalidad por pais","4fad0d09":"### 2) Lista por potencial mayor a menor (mientras sea mayor a 85)","ebd9ff90":"## MAPA con mayor cantidad de CAM con Vision alta por pais","e025e346":"#### Mostrar solo datos que interesen al momento","91c4baa5":"## 4) Jugadores con mayor proyeccion, ordenado por mas jovenes","015ae0a3":"### Descartar columnas con cantidad considerable de datos faltantes","7f9c5905":"### Cantidad de datos nulos por columna","8488cf89":"# Proyeccion de crecimiento","59486458":"# Consultas de informacion"}}