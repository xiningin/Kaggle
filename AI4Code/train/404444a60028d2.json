{"cell_type":{"3ceb82e2":"code","ddf0e156":"code","db4ecb4e":"code","49a34c53":"code","2ea7323a":"markdown","f7582629":"markdown","4752e635":"markdown"},"source":{"3ceb82e2":"import os\nimport numpy as np\nimport pandas as pd","ddf0e156":"targetName = 'item_cnt_month'\ncompetitionDir = '\/kaggle\/input\/competitive-data-science-predict-future-sales'\nsubmission = pd.read_csv('..\/input\/competitive-data-science-predict-future-sales\/sample_submission.csv')","db4ecb4e":"preds = []\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        if (dirname != competitionDir) & ('.csv' in filename):\n            df = pd.read_csv(os.path.join(dirname, filename))\n            if len(df) == len(submission):\n                try:\n                    preds.append(df[targetName])\n                except Exception:\n                    pass","49a34c53":"submission[targetName] = np.array(preds).mean(axis=0).transpose()\nsubmission.to_csv(\"submission.csv\", index=False)","2ea7323a":"# Import any number of public notebooks to automatically update the ensemble prediction","f7582629":"# Automated ensembling using results from public notebooks\nThis notebook presents an automated ensembling using predicted results from the most relevant public notebooks. Please save all the upvotes for them.","4752e635":"# Save ensemble prediction to csv"}}