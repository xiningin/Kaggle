{"cell_type":{"f8c34487":"code","098f5df1":"code","1b2a5a48":"code","9f26f440":"code","324dd557":"code","076780bf":"code","c171b97b":"code","114e6b61":"code","e2686968":"code","ab619d23":"code","caac7af9":"code","ffc93a41":"code","e06c3561":"code","edb03d16":"code","c8b55078":"code","c7976745":"code","4043dfb4":"code","745b4c7b":"code","5cd0a92b":"code","7263af23":"code","26085c43":"code","b2765959":"code","df765ed6":"code","3808947b":"code","421d540e":"code","d0e308f2":"code","e663ec1b":"code","f9ecb240":"code","db73ed78":"code","464cac4f":"code","59ea7a74":"code","85010621":"code","b7a0e597":"code","b284615d":"code","5d902f64":"code","eacfcb30":"code","4056f983":"markdown","11928ad2":"markdown","44097cbb":"markdown","f3d54532":"markdown","1bec8e15":"markdown","823ba191":"markdown","a0832145":"markdown","10685049":"markdown","b5858ad3":"markdown","d7b355d9":"markdown","8e594a6a":"markdown","8ca00c9d":"markdown","bd3757df":"markdown","df44f19c":"markdown","7d5197d2":"markdown","e4ecd830":"markdown","681eaf80":"markdown","c9dc0933":"markdown","c58f80a1":"markdown","2869576e":"markdown","df2829bd":"markdown","c68c6982":"markdown","6ed4ba5a":"markdown","f78d2b1e":"markdown","88c3e378":"markdown","667c6c56":"markdown"},"source":{"f8c34487":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib\nimport plotly.express as px\nfrom plotly.offline import init_notebook_mode\nimport plotly.graph_objects as go\ninit_notebook_mode(connected=True)\nmatplotlib.style.use('seaborn-dark')\n\nimport warnings\nwarnings.simplefilter(action=\"ignore\", category=FutureWarning)\npd.set_option(\"display.max_columns\" , 400)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","098f5df1":"df = pd.read_csv(\"..\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv\" , low_memory=False)","1b2a5a48":"ques = {}\nfor i in df.columns:\n    ques.update({i:df[i][0].split('?')[0] + \" ?\"})\n    \ndf = df.iloc[1: , :].copy()\ndf.reset_index(drop=True, inplace=True)","9f26f440":"def facetgrid_bar(df,column, col_order, num_cols, x_axis, y_axis, hue, order,title, x_axis_title,y_axis_title):\n\n    g = sns.FacetGrid(df, col=column, height=10,col_wrap = num_cols, col_order = col_order, sharex=False)\n    \n    g.map_dataframe(sns.barplot,data=df, x=x_axis, y = y_axis, hue = hue,\n                    order=order,\n                    dodge=False, palette = 'Blues_d')\n\n    g.set_titles(col_template=\"{col_name}\", row_template=\"{row_name}\", size = 16)\n    g.set_xticklabels(rotation = 90, size = 15) \n    g.fig.subplots_adjust(top=.5)\n    g.fig.suptitle(title,fontsize=20, weight = 'bold')\n\n    axes = g.axes.flatten()\n    axes[0].set_ylabel(y_axis_title)\n    for ax in axes:\n        ax.set_xlabel(x_axis_title)\n\n    g.fig.tight_layout()","324dd557":"def columnRange_barplot(df , c  ,ques  ,xlabel=None, ylabel=None  , rotation=45 , lbfontsize=14 , tfontsize=20 , color=sns.color_palette(\"viridis\", 8)):\n    start , end = 0 , 0\n    ans = {}\n\n    for idx ,i in enumerate(df.columns):\n        if(len(i)>6):\n            if(i[:len(c)]==c and i[len(i)-6:len(i)] == \"Part_1\" ):\n                start = idx\n        if(i[:len(c)]== c and\"OTHER\" in i):\n            # print(f\\\"Ques {i.split('_')[0]} starts at {start} , ends at {idx+1}\\\")\\n\",\n            for j in range(start,idx+2):\n                vc = df[df.columns[j]].value_counts() \n                ans.update({vc.index[0]:vc.values[0]})\n\n    c +=\"_Part_1\"\n    fig, ax =  plt.subplots(figsize = (25, 10))\n    ax.bar(ans.keys(),ans.values() , color=color)\n    plt.xticks(rotation=rotation)\n    plt.xlabel(xlabel  , fontsize=lbfontsize)\n    plt.ylabel(ylabel , fontsize=lbfontsize)\n    plt.title(ques[c] ,fontsize=tfontsize)\n    for p in ax.patches:\n        ax.annotate(\"%.1f%%\" % (100*float(p.get_height()\/df.shape[0])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n                        ha='center', va='bottom', color='black', xytext=(0, 5),rotation = 'horizontal',\n                        textcoords='offset points')\n    plt.show()\n\n    return ans","076780bf":"def simple_countplot(df , c  ,ques  ,xlabel=None, ylabel=None  , rotation=90 , lbfontsize=14 , tfontsize=20):\n    plt.figure(figsize=(25,7))\n    ax = sns.countplot(df[c].sort_values())\n    plt.xticks(rotation=rotation)\n    plt.xlabel(xlabel , fontsize=lbfontsize)\n    plt.ylabel(ylabel , fontsize=lbfontsize)\n    plt.title(ques[c] ,fontsize=tfontsize)\n    for p in ax.patches:\n        ax.annotate(\"%.1f%%\" % (100*float(p.get_height()\/df.shape[0])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n                        ha='center', va='bottom', color='black', xytext=(0, 5),rotation = 'horizontal',\n                        textcoords='offset points')\n    plt.show()","c171b97b":"def simple_barplot(df , c  ,ques  ,xlabel=None, ylabel=None  , rotation=90 , lbfontsize=14 , tfontsize=20 , color=sns.color_palette(\"husl\" , 8)):\n    plt.figure(figsize=(25,7))\n    ax = df[c].value_counts().plot(kind='bar' , color=color)\n    plt.xticks(rotation=rotation)\n    plt.xlabel(xlabel , fontsize=lbfontsize)\n    plt.ylabel(ylabel , fontsize=lbfontsize)\n    plt.title(ques[c] ,fontsize=tfontsize)\n    for p in ax.patches:\n        ax.annotate(\"%.1f%%\" % (100*float(p.get_height()\/df.shape[0])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n                        ha='center', va='bottom', color='black', xytext=(0, 5),rotation = 'horizontal',\n                        textcoords='offset points')\n    plt.show()","114e6b61":"def simple_pieChart(df , c  ,ques  ,xlabel=None, ylabel=None  , rotation=90 , lbfontsize=14 , tfontsize=20 , color=sns.color_palette(\"husl\" , 8)):\n    plt.figure(figsize=(25,7))\n    ax = df[c].value_counts().plot(kind='pie'  , autopct='%1.1f%%')\n    plt.xticks(rotation=rotation)\n    plt.xlabel(xlabel , fontsize=lbfontsize)\n    plt.ylabel(ylabel , fontsize=lbfontsize)\n    plt.title(ques[c] ,fontsize=tfontsize)\n    plt.show()","e2686968":"simple_countplot(df , \"Q1\" ,ques  ,xlabel=\"Age Groups\" )\n","ab619d23":"simple_pieChart(df , \"Q2\" , ques , xlabel=\"Gender\")","caac7af9":"age_gender = df[['Q1' , 'Q2','Q3' ]]\nage_gender = age_gender.sort_values(by=[ \"Q1\" ,'Q2'])\nage_gender['Q2'] = np.where(age_gender['Q2'].isin(['Man' , 'Woman']) , age_gender['Q2'] , 'Nonbinary, self-describe or Undeclared')\n\nplt.figure(figsize=(20,8))\nax = sns.histplot(age_gender,x=\"Q1\", hue=\"Q2\", hue_order=['Man','Woman', 'Nonbinary, self-describe or Undeclared'],\n    multiple=\"stack\",\n    palette=\"viridis_r\",\n    log_scale=False,\n    linewidth= .5)\nsns.despine(top=True, right=True, left=True, bottom=False)\n\nplt.xticks(rotation=70,fontsize = 12)\nax.set_xlabel('Age Group')\nax.set_ylabel('Number of Participants')\nplt.title(\"Age and Gender Distribution\")\n\nfor p in ax.patches:\n    ax.annotate(\"%.1f%%\" % (100*float(p.get_height()\/df.shape[0])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n         ha='center', va='bottom', color='black', xytext=(0, 6),rotation = 'horizontal',\n         textcoords='offset points')","ffc93a41":"percent_per_country = df['Q3'].value_counts().reset_index()\npercent_per_country = pd.DataFrame(percent_per_country)\npercent_per_country = percent_per_country.rename({'index':\"Country\" , \"Q3\":\"# of respondents\"}  , axis='columns')","e06c3561":"fig = px.choropleth(percent_per_country, \n                    locations = 'Country',  \n                    color = \"# of respondents\",\n                    locationmode = 'country names', \n                    color_continuous_scale = 'viridis',\n                    title = \"Total percentage of responses per countries in 2021\",\n                    range_color = [0, 1000])\nfig.update(layout=dict(title=dict(x=0.5)))\nfig.show()","edb03d16":"df['Q3'].value_counts()","c8b55078":"c = 'Q3'\nplt.figure(figsize=(25,7))\nax = df[c].value_counts()[:10].plot(kind='bar' , color=sns.color_palette(\"rocket\" ,8))\nplt.xticks(rotation=90)\nplt.xlabel(\"Countries\" , fontsize=14)\nplt.ylabel(\"Counts\" , fontsize=14)\nplt.title(ques[c] ,fontsize=20)\nfor p in ax.patches:\n    ax.annotate(\"%.1f%%\" % (100*float(p.get_height()\/df.shape[0])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n                    ha='center', va='bottom', color='black', xytext=(0, 5),rotation = 'horizontal',\n                    textcoords='offset points')\nplt.show()","c7976745":"countries = df.loc[(df.Q3 != \"Other\")].Q3.value_counts().reset_index(name=\"Count\").rename(columns={\"index\":\"Country\"})\ncountry_list = countries['Country'].tolist()\nage_gender.Q3 = age_gender.Q3.astype('category')\nage_gender.Q3.cat.set_categories(country_list , inplace=True)\ngender_country = pd.DataFrame(age_gender.groupby(['Q2','Q3']).size(), columns = ['Count'])\ngender_country = gender_country.reset_index()\n\ngender_country = gender_country.sort_values(by = ['Q2','Count'], ascending=True)\n\n\nplt.figure(figsize=(20,8))\nax = sns.barplot(data=gender_country, x='Q3', y = 'Count', hue = 'Q2',order = country_list[0:10], hue_order = ['Man', 'Woman', 'Nonbinary, self-describe or Undeclared'],palette = \"viridis\")\n\nsns.despine(top=True, right=True, left=True, bottom=False)\nplt.xticks(rotation=70,fontsize = 12)\nax.set(xlabel=None)\nax.set(yticklabels=[])\nax.axes.get_yaxis().set_visible(False)\nax.set_ylabel('Number of Participants')\nl = ax.legend()\nl.set_title('Gender')\nplt.title('Top 10 Countries - Gender % According to Countries of Residence')\n\ni=0\n\nfor p in ax.patches:\n    ax.annotate(\"%d\\n%.0f%%\" % (p.get_height(),100*float(p.get_height()\/countries.iloc[i,1])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n    ha='center', va='bottom', color='black', xytext=(0, 6),rotation = 'horizontal',textcoords='offset points')\n    i += 1\n    if i == len(country_list[0:10]):\n        i = 0   ","4043dfb4":"simple_barplot(df , \"Q4\" , ques , xlabel=\"Formal Education\" ,  color=sns.color_palette(\"mako\", 8))","745b4c7b":"gender_education = df[['Q1' , 'Q2','Q4' ]]\ngender_education = pd.DataFrame(gender_education.groupby(['Q2','Q4']).size(), columns = ['Count'])\ngender_education = gender_education.reset_index()\n\nplt.figure(figsize=(20,8))\nax = sns.barplot(data=gender_education, x='Q4', y = 'Count', hue = 'Q2', hue_order = ['Man', 'Woman', 'Nonbinary, self-describe or Undeclared'],palette = \"rocket_r\")\n\nsns.despine(top=True, right=True, left=True, bottom=False)\nplt.xticks(rotation=70,fontsize = 12)\nax.set_xlabel('Formal Education')\nax.set_ylabel('Number of Participants')\nplt.title(\"Gender and Formal Education Distribution\")\n\nfor p in ax.patches:\n    ax.annotate(\"%.1f%%\" % (100*float(p.get_height()\/df.shape[0])), (p.get_x() + p.get_width() \/ 2., abs(p.get_height())),\n         ha='center', va='bottom', color='black', xytext=(0, 6),rotation = 'horizontal',\n         textcoords='offset points')","5cd0a92b":"education = df.loc[:,['Q1','Q2','Q3','Q4','Q5']]\n\neducationCountry = education.groupby(['Q3','Q4']).size().reset_index(name=\"Count\")\neducationCountry['%'] = 100*(educationCountry['Count'].div(educationCountry.groupby('Q3')['Count'].transform('sum')))\n\nfacetgrid_bar(educationCountry,'Q3',country_list[0:10],5,'Q4','%','Q4', ['Bachelor\u2019s degree', 'Doctoral degree', 'Master\u2019s degree',\n       'No formal education past high school', 'Professional doctorate',\n       'Some college\/university study without earning a bachelor\u2019s degree',\n       'I prefer not to answer'],'Formal Education by Country', 'Education','Percentage (%)') ","7263af23":"simple_barplot(df , \"Q5\" , ques , xlabel=\"Occupation\" , color=sns.color_palette(\"flare\"))","26085c43":"simple_barplot(df , \"Q6\" , ques , xlabel=\"Programming Experience\" , color=sns.color_palette(\"viridis\", 8))","b2765959":"prog_lang = columnRange_barplot(df , \"Q7\" , ques , xlabel=\"Usual Language usage\" , color=sns.color_palette(\"magma\", 8))","df765ed6":"simple_barplot(df , \"Q8\" , ques , xlabel=\"Programming Language Recommendation for aspirants\" , color=sns.color_palette(\"crest\", 8))","3808947b":"ans = columnRange_barplot(df , \"Q9\" , ques , xlabel=\"Common IDE's\" , color=sns.color_palette(\"viridis\", 8))","421d540e":"ans = columnRange_barplot(df , \"Q10\" , ques , xlabel=\"Common Notebook Products\" , color=sns.color_palette(\"viridis\", 8))","d0e308f2":"simple_barplot(df , \"Q11\" , ques , xlabel=\"Common Computing Platforms\" , color=sns.color_palette(\"rocket\", 8))","e663ec1b":"common_hardware = columnRange_barplot(df , \"Q12\" , ques , xlabel=\"Common Hardwares\" , color=sns.color_palette(\"rocket_r\", 8))","f9ecb240":"simple_pieChart(df , \"Q13\" , ques , xlabel=\"Number of times TPU used\")","db73ed78":"ans = columnRange_barplot(df , \"Q14\" , ques , xlabel=\"Common Programming tools and libraries\" , color=sns.color_palette(\"viridis\", 8))","464cac4f":"simple_pieChart(df , \"Q15\" , ques , xlabel=\"Experience in Machine Learning\")","59ea7a74":"mlframeworks = columnRange_barplot(df , \"Q16\" , ques , xlabel=\"Common ML Frameworks\" , color=sns.color_palette(\"rocket\", 8))","85010621":"mlAlgorithms = columnRange_barplot(df , \"Q17\" , ques , xlabel=\"Common ML Algorithms\" , color=sns.color_palette(\"viridis\", 8))","b7a0e597":"ans = columnRange_barplot(df , \"Q18\" , ques , xlabel=\"Common Computer Vision Methods\" , color=sns.color_palette(\"rocket_r\", 8) , rotation=90)","b284615d":"ans = columnRange_barplot(df , \"Q19\" , ques , xlabel=\"Common NLP Methods\" , color=sns.color_palette(\"viridis\", 8))","5d902f64":"simple_barplot(df , \"Q21\" , ques , xlabel=\"Employees Count\" , color=sns.color_palette(\"rocket_r\", 8) , rotation=45)","eacfcb30":"simple_barplot(df , \"Q25\" , ques , xlabel=\"Current CTC ($)\" , color=sns.color_palette(\"rocket_r\", 8) , rotation=90)","4056f983":"# Preprocessings","11928ad2":"### Observation \n* Scikit-learn , tensoflow and keras are popular machine learning frameworks.\n*  Linear or Logistic Regression and Decision Tree is mostly used ML Algorithms.","44097cbb":"## Observation \n* Image Classification Algorithms are quite popular among the participants followed by Image Segmentation , Object Detection and word embedding","f3d54532":"### Observation\n* India, United States of America and Japan are the countries with most survey participates\n* 10-25 % Woman's participation in Kaggle 2021 survey from all over the world.","1bec8e15":"### Observation \n* Matplotlib and seaborn  are mostly used plotting libraries used for data Science followed by plotly.","823ba191":"### Observation \n* Jupyter notebook , kaggle notebook and VSCode is most common IDE for the analysis\n* Also I consider that google colaboratary must be included in this question .","a0832145":"## Observation \n* Most commanly used NLP algorithams among participants are Computer Technology , word embedding , Transoformer language models","10685049":"### Observation \n* 37-38 percent participants uses hosted kaggle notebooks and colab notebooks for the analysis. So , we can conclude kaggle notebooks and colab notebooks are most used hosted notebooks\n* On other side , most survey partipants used their own system for the analysis","b5858ad3":"### Observation \n* Most participants had never used special hardwares for computing \n* While those who used preferes NVIDIA GPU's most.","d7b355d9":"## Helper Functions","8e594a6a":"## Import Important Libraries","8ca00c9d":"### Observation \n* 56 percent survery participants are newbies with less than 2 years of experience this is because more young peoples have participated in this survey.","bd3757df":"# 2021 Kaggle Machine Learning & Data Science Survey","df44f19c":"### Observation \n***Data Scientist have good knowledge of programming and have experience of atleast 1 year.*** So we can simply say DS\/ML Developers are good programmers also.","7d5197d2":"# Conclusion\nFirst of all, I want to thank Kaggle for launching this competition through which I did this work.\nThe EDA focused on understanding the Kaggle and Data Science Community. While spread worldwide, we saw a predominance of India and USA participants. We also learned that most participants hold at least a Master's degree, and that formal education does pose a weight on the future role.\n\nThe USA is where most doctorates reside, even though Switzerland has a higher percentage of doctorates considering its number of respondents. The numbers on gender and diversity were not exciting and have a similar trend across the diverse set of countries. However, we did see a higher percentage of partcipation of women and other minority groups in younger ages, providing hope that the tide is lifting everyone.\n\nThe relevant participation of third world countries, such as Brazil and Nigeria, also shows how technology can connect us all and make such countries more competitive. Fortunately, Data Science only requires passion and a decent internet connection. The amount of material and support of the DS community is great and makes it a great example of a career without boundaries.","e4ecd830":"### Observation\n* Formal Education is the biggest concern of Data Science and Machine Learning.In 2021 , Survey participates hold Master's and Bachelor's degree while there is only 10 percent peoples having doctorate degree.\n* There is almost same no of men and women in master's and bachelor's degree.","681eaf80":"### Observation\n* Approx 80% survery participants are man.\n* Mostly survey participant are young peoples whether it is male  , woman or nonbinary, self-describe or Undeclared participant","c9dc0933":"### Observation \n* Most oftenly participants have never used the TPU \n* Only 7% survey participants have used the TPU more than 6 times","c58f80a1":"### Observation \n***Python is mostly used and recommended language in data science industry with also good knowledge of SQL and R****","2869576e":"## Observation \n* As Data Science is new and demanding stream , so company pays good salary to their employees as appreciation","df2829bd":"### Observation\n***Almost 14 percent peoples hold Data Scientist position in Data Science Industry***","c68c6982":"## Observations\n* 20 percent survey participants belongs to company that have currently 0-49 employee strength.\n* So , we can say small companies adapting Data Science Industry more than other.","6ed4ba5a":"### Observation \n* Cloud computing platform and deep learning workstation are not quite prefered by the participants\n* Participants mostly use their own pc\/laptop for compuation works.","f78d2b1e":"### Observation\n* ***Approx 56 percent DS\/ML Developers are between 18 to 30 years.*** As data Science is new industry and it attracting young peoples .","88c3e378":"# Analysis","667c6c56":"## Read Data set"}}