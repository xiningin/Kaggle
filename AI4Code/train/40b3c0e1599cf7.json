{"cell_type":{"fb093e9b":"code","6b8e2952":"code","f6af31b8":"code","0f0ca381":"code","54b00705":"code","2d0acc6a":"code","61bbbe3b":"code","98e26f95":"code","e2ddaa8d":"code","8c6262fd":"code","a53a6406":"code","3adb8f76":"code","14338309":"code","76e0ed4e":"code","54624523":"code","3eba3f56":"code","65088414":"code","ca64f075":"code","8830cb9d":"code","a0ecc838":"code","86dafb3a":"code","307fcb14":"code","094202df":"code","61fe6f2e":"code","18e5c8cd":"code","b441d7a5":"code","432cbc35":"code","35ff60e5":"code","13ec4e3c":"code","219ced6a":"code","3fb91870":"code","b2ebeb9f":"code","c57ea9ae":"code","e618e6fe":"code","66cc46d8":"code","a1ddf40b":"code","9cd1540d":"markdown","39ab981a":"markdown","6be89002":"markdown","29ed1daa":"markdown","b98f3cc7":"markdown","db8cffb9":"markdown","1f9672c5":"markdown","e61d2048":"markdown","25a7f375":"markdown","2a74641f":"markdown","64ed09f1":"markdown","1fc15504":"markdown","caf043af":"markdown","a9b5478f":"markdown","39a00d1e":"markdown","c6c82aa1":"markdown","df608cb6":"markdown","161ca8bf":"markdown","7345f188":"markdown","effb0bd2":"markdown","b5220f1b":"markdown","07bd1377":"markdown","22ce4717":"markdown","61892ad8":"markdown","119d1e0f":"markdown","bc1848c6":"markdown","1d93edf4":"markdown","8499f8b0":"markdown","722d510d":"markdown","c7e1fbfb":"markdown","7c43bad2":"markdown","34e698ab":"markdown","d9ab3066":"markdown","bc4c302c":"markdown","d6ee72c8":"markdown","f409714e":"markdown"},"source":{"fb093e9b":"import pandas as pd\nimport random","6b8e2952":"df = pd.read_csv('..\/input\/insurance\/insurance.csv')\ndf.sample(10)","f6af31b8":"df.info()","0f0ca381":"numeric_cols = df.select_dtypes(exclude=['object'])\nnon_num_cols = df.select_dtypes(include=['object'])\nprint(\"The numeric columns are: \\n{} \\n\\nThe non-numeric columns are: \\n{}\"\n      .format(list(numeric_cols.columns),list(non_num_cols.columns)))","54b00705":"df.describe(include=\"all\").T","2d0acc6a":"for v in ['sex', 'children', 'smoker', 'region']:\n    print(v,\" categories:\\n\",df[v].unique())","61bbbe3b":"num_dup_rows = len(df) - len(df.drop_duplicates(keep=\"first\"))    #number of duplicate rows","98e26f95":"if num_dup_rows!= 0:\n    print(\"Number of duplicate rows found : {}\\n\\nDuplicates removed!\".format(num_dup_rows))\n    df.drop_duplicates(keep=\"first\",inplace=True)\nelse:\n    print(\"No duplicate entries found!\")","e2ddaa8d":"import seaborn as sns\nsns.set(color_codes=True)","8c6262fd":"for v in ['sex', 'children', 'smoker', 'region']:\n    \n    fig = sns.catplot(x=v,data=df,kind=\"count\",palette=\"Set\"+str(random.randint(1,3)),height=2.5,aspect=2)\n    ","a53a6406":"#'age', 'bmi', 'charges'\nsns.histplot(df[\"age\"],color=\"maroon\",kde=True)","3adb8f76":"sns.displot(df[\"bmi\"],color=\"red\",kde=True)","14338309":"sns.distplot(df[\"charges\"],color=\"orange\")","76e0ed4e":"sns.set_palette(\"Set2\")\nsns.pairplot(df, hue=\"children\")","54624523":"sns.histplot(df, x=\"age\", hue=\"smoker\", multiple=\"dodge\")","3eba3f56":"sns.histplot(df, x=\"charges\", hue=\"smoker\", multiple=\"dodge\")","65088414":"sns.catplot(x=\"smoker\", kind=\"count\",hue = 'sex', palette=\"pink\", data=df)","ca64f075":"sns.catplot(x=\"smoker\", y=\"charges\", hue=\"sex\",\n             data=df, palette = 'magma')","8830cb9d":"sns.catplot(hue=\"smoker\", y=\"charges\", x=\"children\",\n             data=df)","a0ecc838":"sns.displot(y=\"age\",x=\"charges\",hue = 'smoker',\n             kind=\"kde\",data=df)#, multiple=\"dodge\")","86dafb3a":"sns.catplot(hue=\"sex\", y=\"charges\", x=\"children\",\n             data=df)","307fcb14":"sns.catplot(x=\"region\", y=\"charges\", hue=\"sex\",\n             data=df)","094202df":"sns.catplot(hue=\"sex\", y=\"bmi\", x=\"region\",\n             palette=\"rainbow\",data=df)","61fe6f2e":"ax = sns.catplot(x=\"sex\", y=\"charges\",hue = 'smoker',\n                 palette=\"rainbow\", data=df[(df.age <= 30)])\n","18e5c8cd":"ax = sns.catplot(x=\"sex\", y=\"charges\",hue = 'smoker',\n                 palette=\"rainbow\", data=df[(df.age >50)])","b441d7a5":"sns.lmplot(x=\"age\", y=\"charges\", hue=\"smoker\", data=df, palette = 'inferno_r', height = 7)\n","432cbc35":"#Distribution of charges for patients with BMI greater than 30\nsns.distplot(df[(df.bmi >= 30)]['charges'], # kde=True,,cumulative=True\n             color = 'm')\n             ","35ff60e5":"#Distribution of charges for patients with BMI less than 30\nsns.distplot(df[(df.bmi < 30)]['charges'], color = 'b')","13ec4e3c":"g = sns.jointplot(x=\"bmi\", y=\"charges\", #kind=\"kde\",\n                  data = df, color=\"r\")","219ced6a":"ax = sns.scatterplot(x='bmi',y='charges',data=df,palette='magma',hue='smoker')","3fb91870":"sns.lmplot(x=\"bmi\", y=\"charges\", hue=\"smoker\", data=df, palette = 'rainbow')","b2ebeb9f":"data = df.copy(deep=True)","c57ea9ae":"bmi_cat = []\nfor i in df.bmi:\n    if i<=18.5:\n        bmi_cat.append(\"Underweight\")\n    elif (i> 18.5 and i<=25):\n        bmi_cat.append(\"Normal weight\")\n    elif (i>25 and i<30):\n        bmi_cat.append(\"Overweight\")\n    else:\n        bmi_cat.append(\"Obesity\")\ndata[\"BMI_Category\"]=bmi_cat\ndata.sample(10)","e618e6fe":"sns.catplot(x=\"BMI_Category\", y=\"charges\", hue=\"sex\",\n             data=data)","66cc46d8":"dat = pd.DataFrame({'PERCENTAGE OF SEX DISTRIBUTION': df.sex.value_counts().tolist()},\n                  index=['Male','Female'])\nplot = dat.plot.pie(y='PERCENTAGE OF SEX DISTRIBUTION', figsize=(5, 5))","a1ddf40b":"dat = pd.DataFrame({'PERCENTAGE OF BMI DISTRIBUTIONS': data.BMI_Category.value_counts().tolist()},\n                  index=['Overweight', 'Obesity', 'Normal weight', 'Underweight'])\nplot = dat.plot.pie(y='PERCENTAGE OF BMI DISTRIBUTIONS', figsize=(5, 5))","9cd1540d":"                                                     INFERENCE\n\n1. So the dataframe has **1338** instances or entries (**rows**) of patient details indexed from 0 to 1337 and has **7** attributes (**columns**) for each patient, namely, 'age', 'sex', 'bmi', 'children', 'smoker', 'region' and finally 'charges'.\n\n2. Each attribute has a full of 1338 non-null entries, hence the dataset has **no missing values**.\n\n3. The dataset has **4 numeric attributes** and **3 non-numeric attributes**.\n\n4. The total memory usage of the DataFrame elements is 73.3+ KB.\n","39ab981a":"\n<h1 style = \"background:black;color:white;border:0;border-radius:3px;font-family:Comic Sans MS\">\ud83d\udccb Content :<\/h1>\n\n<ul>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#1\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> INTRODUCTION <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#2\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> DATA SAMPLE <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#3\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> DATA SUMMARY <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#4\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> DATASET DESCRIPTION <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#5\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> UNIQUE VALUES: CATEGORICAL VARIABLES <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#6\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> CHECKING FOR DUPLICATE ROWS <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#7\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> VISUALIZING FREQUENCY DISTRIBUTIONS <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#8\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> CHECKING FOR DEPENDENCIES <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#9\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> THE EFFECTS OF SMOKING <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#10\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> THE EFFECTS OF BMI <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#11\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> CATEGORIZING BMI <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#12\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> PIE CHART REPRESENTATIONS <\/a> <\/li>\n    <li style = \"color:darkgray;font-size:15px\"> <a href = \"#13\" style = \"color:black;font-weight:bold;font-family:Comic Sans MS\"> CONCLUSION <\/a> <\/li>\n \n<\/ul>","6be89002":"The charges tend to increase with age specially for non-smokers.\n\n-----------------------------------\n\n\n\n","29ed1daa":"                                                     INFERENCE\n\n1. No column as null values.\n2. We have **3 continuous variables**['age', 'bmi', 'charges'] and **4 categorical variables**['sex', 'children', 'smoker', 'region'].\n    NOTE: Since minimum value and maximum value for the int variable \"children\" is 0  and 5 respectively, it can be treated as     both categorical or continuous variable according to the need of the model.\n3. The mean and the standard deviations of the continuous variables belong to quite different ranges. So we need to scale the data before if we train a regressor on this data.\n\nThere are many other proerties of the data described in the above output but the three most important points are covered for now. ","b98f3cc7":"**CHECKING FOR DUPLICATE ROWS**<a id='6'><\/a>","db8cffb9":"<a id ='1' ><\/a>\n**INTRODUCTION**\n\nThe dataset here describes the health charges and few other particular details for various patients that may effect the charges. In this notebook, we will explore the data to understand it's significance and properties.","1f9672c5":"The patients with higher costs are from southeast region.","e61d2048":"*CONTINUOUS VARIABLES*","25a7f375":"For non-smoking patients, the medical charges are significantly higher for women. For smokers, the difference hardly exists. ","2a74641f":"Smoking effects medical charges more for young men compared to young women.","64ed09f1":"                                                     INFERENCE\n1. The sex distribution is even between the patients.\n2. The frequency for increasing number of children in monotone decreasing. \n3. The number of non-smokers are higher than the number of smokers.\n4. The patients are evenly distributed among all regions.","1fc15504":"Women with no children hit the highest charge.","caf043af":"**CHECKING FOR DEPENDENCIES**<a id='8'><\/a>","a9b5478f":"**DESCRIPTION OF THE DATASET**<a id='4'><\/a>","39a00d1e":"**PIE CHART REPRESENTATIONS**<a id='12'><\/a>","c6c82aa1":"The highest number of both smokers and non-smokers are in their 20s. ","df608cb6":"So we can say that bmi has a linear effect on the charges for smokers and non-smokers separately.","161ca8bf":"**SUMMARY OF THE DATASET**<a id='3'><\/a>","7345f188":"Here we notice that with increase in number of children, the fraction of smokers decreases alarmingly.\n\nAlso, the charges are significantly lesser for patients with higher number of children.","effb0bd2":"Patients with BMI above 30 spend more on treatment!","b5220f1b":"The number of smokers are higher for men than women.\n\nThe number of non-smokers are higher in women than men.\n\nHence, more men tend to be addicted to smoking when compared to the strength of women.","07bd1377":"Clearly, charges are high for patients with obesity.","22ce4717":"So the patients who smoke, occupy the region of higher medical costs compared to those who are non-smokers. ","61892ad8":"<a id='13'><\/a>**CONCLUSION**\n\nSo this is how we can continue to find the effect of the feature values on each other.\n\nWhile building a charge predictor, we cannot just build a simple linear regression for this data.\n\nIn the next notebooks, we will try to make this data useful for building ML models.","119d1e0f":"<a id='2'><\/a>\n**DATA SAMPLE**","bc1848c6":"**\"SMOKING IS INJURIOUS TO HEALTH!\"**<a id='9'><\/a>\n\nNow since we know by heart that \"smoking is injurious to health\", we try to determine a relation between smoking and various other features of the patients. \n\nWe also try understanding the effect of smoking on the medical charges.\n\nWe infer some other correlations with respect to \"charges\".","1d93edf4":"Charges are recorded to be least in case of young, non-smoking patients.","8499f8b0":"                                                     INFERENCE\nThe above pairplot shows how the numeric variables effect each other.\n\n______________________________________________________","722d510d":"**UNIQUE VALUES: CATEGORICAL VARIABLES**<a id='5'><\/a>","c7e1fbfb":"                                                     INFERENCE\n1. The highest number of patients are in their 20s.\n2. The \"bmi\" follows a perfect normal distribution while the \"charges\" follows positive-skewness(right-skewed), i.e, most data falls to the right, or positive side, of the graph's peak.\n\nNOTE: distplot can be replaced with histplot or displot with kde=True for similar results","7c43bad2":"Also the patients from southeast region have higher body mass index indicating obesity. \n\nHence from the last two inferences, we can say that charges have some correlation with bmi.","34e698ab":"The effects of smoking tend to be similar for both men and women at older age.\n\nBut for non smokers, women tend to need more medical expenses than men.","d9ab3066":"**\"BMI\": Body Mass Index**<a id='10'><\/a>\n\nBody mass index (BMI) is a measure of body fat based on height and weight.\n\n\nNow we visualize some more dependencies with the point of view of \"bmi\".","bc4c302c":"*CATEGORICAL VARIABLES*","d6ee72c8":"<a id='7'><\/a>**VISUALIZING FREQUENCY DISTRIBUTIONS**","f409714e":"**CATEGORIZING BMIs**<a id='11'><\/a>\n\nBMI CATEGORIES\n\n* Underweight = <18.5\n* Normal weight = 18.5\u201325\n* Overweight = 25\u201330\n* Obesity = BMI of 30 or greater.\n"}}