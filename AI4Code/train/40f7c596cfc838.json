{"cell_type":{"a06e7f5a":"code","613292ac":"code","1d132ce5":"code","71756499":"code","ffb7e4e1":"code","d9b99eba":"code","4cde6a65":"code","0b6f1f59":"code","c1910096":"code","66d19202":"code","4cc94fcc":"code","315d6c78":"code","9566c841":"code","42d75931":"code","b47e1eab":"code","56069679":"code","a5ae6ab2":"code","06a5b13f":"code","0d8eed2f":"code","8da645d1":"code","c9f20806":"code","9beff29e":"code","95765a75":"code","142c608a":"code","84ee409e":"code","0cb383bc":"code","7dfc95f9":"code","aa300bb8":"code","0ea59028":"code","d5ef6637":"code","99b41a0e":"code","03d3af84":"code","69ebec10":"code","e77e841b":"code","0197cdaa":"code","1877100d":"code","e50b1b2e":"code","63135bc4":"code","8e4bc1dd":"code","470cc25b":"code","936e0833":"code","45cff7a1":"code","27237c8a":"code","a3f4451f":"code","9ed9df9e":"code","beb188aa":"code","78031cf2":"code","8ba2055d":"code","cc0b5620":"code","760e2af1":"code","9ce0aa7d":"code","79d78bf4":"code","9494374c":"code","0e086a62":"code","ec31f1ef":"code","5ee4196d":"code","0d032990":"code","bd840183":"markdown","4f4c105c":"markdown","d39c4b30":"markdown","841f7078":"markdown","b20f2fe3":"markdown","a9e4b949":"markdown","70b4fcbb":"markdown","5e4d4d0e":"markdown","f5aaf40e":"markdown","6bf682cf":"markdown"},"source":{"a06e7f5a":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom collections import Counter\n%matplotlib inline\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n        \nfrom subprocess import check_output             # utf-8 e uygun olup olmadigini arastirmak icin bunu aratiyoruz\nprint(check_output([\"ls\",\"..\/input\"]).decode(\"utf8\"))\n\n# Any results you write to the current directory are saved as output.","613292ac":"data = pd.read_csv('..\/input\/titanic-cleaned-data\/train_clean.csv')\ndata.info()\n                ","1d132ce5":"data.head()","71756499":"data.Age.value_counts()","ffb7e4e1":"data.PassengerId.unique()","d9b99eba":"PassengerId_list = list(data['PassengerId'].head(30).unique())\n# print(PassengerId_list)\n\nAge_ratio = []\nfor i in PassengerId_list:\n    x = data[data['PassengerId']==i]\n    Age_rate = sum(x.Age)\/len(x)\n    Age_ratio.append(Age_rate)\ndata2 = pd.DataFrame({'PassengerId_list': PassengerId_list,'Age_ratio':Age_ratio})\n\n\n# Duzenlenen datayi yeniden index lememiz gerekiyor ki duzenli gorunsun!!! Bunun icin:\n\nnew_index = (data2['Age_ratio'].sort_values(ascending=False)).index.values\nsorted_data = data2.reindex(new_index)\n","4cde6a65":"\n# visualization\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data['PassengerId_list'], y=sorted_data['Age_ratio'])\nplt.xticks(rotation= 45)\nplt.xlabel('PassengerId')\nplt.ylabel('Ages')\nplt.title('Age Given PassengerId_list')","0b6f1f59":"data.head()","c1910096":"data.Name.value_counts()","66d19202":"separate = data.Name[data.Name != 'TK TK'].str.split() \na,b,c = zip(*separate)\n# print(separate)\nname_list = a+b+c \nprint(name_list)","4cc94fcc":"name_count = Counter(name_list)\nprint(name_count)\nmost_common_names = name_count.most_common(15)  \nx,y = zip(*most_common_names)\nx,y = list(x),list(y)","315d6c78":"# PLOT unu cizelim\n\nplt.figure(figsize=(15,10))\nax= sns.barplot(x=x, y=y,palette = sns.cubehelix_palette(len(x)))\nplt.xlabel('Name or Surname of Titanic people')\nplt.ylabel('Frequency')\nplt.title('Most common 15 Name or Surname of Titanic people')\nprint(most_common_names)","9566c841":"# PassengerId_list = list(data['PassengerId'].head(30).unique())\n# print(PassengerId_list)\n\nFare_ratio = []\nfor i in PassengerId_list:\n    x = data[data['PassengerId']==i]\n    Fare_rate = sum(x.Fare)\/len(x)\n    Fare_ratio.append(Fare_rate)\ndata3 = pd.DataFrame({'PassengerId_list': PassengerId_list,'Fare_ratio':Fare_ratio})\n\n\n# Duzenlenen datayi yeniden index lememiz gerekiyor ki duzenli gorunsun!!! Bunun icin:\n\nnew_index = (data3['Fare_ratio'].sort_values(ascending=False)).index.values\nsorted_data2 = data3.reindex(new_index)","42d75931":"# visualization\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data2['PassengerId_list'], y=sorted_data2['Fare_ratio'])\nplt.xticks(rotation= 45)\nplt.xlabel('PassengerId')\nplt.ylabel('Fare')\nplt.title('Fare Given PassengerId_list')","b47e1eab":"data.head()","56069679":"PassengerId_list = list(data['PassengerId'].unique())\nAge = []\nFare = []\nPclass = []\nFamily_Size = []\n\nfor i in PassengerId_list:\n    x = data[data['PassengerId']==i]\n    Age.append(sum(x.Age)\/len(x))\n    Fare.append(sum(x.Fare) \/ len(x))\n    Pclass.append(sum(x.Pclass) \/ len(x))\n    Family_Size.append(sum(x.Family_Size) \/ len(x))\n   ","a5ae6ab2":"# visualization\nf,ax = plt.subplots(figsize = (9,15))\nsns.barplot(x=Age,y=PassengerId_list,color='green',alpha = 0.5,label='Age' )\nsns.barplot(x=Fare,y=PassengerId_list,color='blue',alpha = 0.7,label='Fare')\nsns.barplot(x=Pclass,y=PassengerId_list,color='cyan',alpha = 0.6,label='Passenger class')\nsns.barplot(x=Family_Size,y=PassengerId_list,color='red',alpha = 0.6,label='Family_Size')\n\nax.legend(loc='lower right',frameon = True)     # legendlarin gorunurlugu\nax.set(xlabel='Percentage of Passengers', ylabel='Passengers',title = \"Percentage of Passengers According to Fare,Class \")","06a5b13f":"sorted_data['Age_ratio'] = sorted_data['Age_ratio']\/max( sorted_data['Age_ratio'])\nsorted_data2['Fare_ratio'] = sorted_data2['Fare_ratio']\/max( sorted_data2['Fare_ratio'])\ndata4 = pd.concat([sorted_data,sorted_data2['Fare_ratio']],axis=1)\ndata4.sort_values('Age_ratio',inplace=True)","0d8eed2f":"# visualize\nf,ax1 = plt.subplots(figsize =(20,10))\nsns.pointplot(x='PassengerId_list',y='Fare_ratio',data=data4,color='lime',alpha=0.8)\nsns.pointplot(x='PassengerId_list',y='Age_ratio',data=data4,color='red',alpha=0.8)\nplt.text(25,1,'PassengerId_list',color='red',fontsize = 17,style = 'italic')   # burdaki degerler yazilarin konumlari istedigimiz gibi degistirebiliriz\nplt.text(25,0.95,'Fare_ratio',color='lime',fontsize = 18,style = 'italic')\nplt.xlabel('States',fontsize = 15,color='blue')\nplt.ylabel('Values',fontsize = 15,color='blue')\nplt.title('Age_ratio  VS  Fare_ratio',fontsize = 20,color='blue')\nplt.grid()","8da645d1":"g = sns.jointplot(data4.Fare_ratio, data4.Age_ratio, kind=\"kde\", size=7)\nplt.savefig('graph.png')                          # bu bize sekilleri kaydetmemizi saglar\nplt.show()","c9f20806":"# you can change parameters of joint plot\n# kind : { \u201cscatter\u201d | \u201creg\u201d | \u201cresid\u201d | \u201ckde\u201d | \u201chex\u201d }\n# Different usage of parameters but same plot with previous one\n\ng = sns.jointplot(\"Fare_ratio\", \"Age_ratio\", data=data4,size=5, ratio=3, color=\"r\")","9beff29e":"data.head()","95765a75":"data.Pclass.dropna(inplace = True)\nlabels = data.Pclass.value_counts().index\ncolors = ['grey','blue','red','yellow','green','brown']\nexplode = [0,0,0,0,0,0]\nsizes = data.Pclass.value_counts().values","142c608a":"# visual\nplt.figure(figsize = (7,7))\nplt.pie(sizes, explode=None, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Titanic People According to Class',color = 'blue',fontsize = 15)","84ee409e":"data4.head()","0cb383bc":"sns.lmplot(x=\"Fare_ratio\", y=\"Age_ratio\", data=data4)\nplt.show()","7dfc95f9":"sns.kdeplot(data4.Fare_ratio, data4.Age_ratio, shade=True, cut=3)      # burada 'cut' sekil arasi genisligi verir\nplt.show()","aa300bb8":"pal = sns.cubehelix_palette(2, rot=-.5, dark=.3)\nsns.violinplot(data=data, palette=pal, inner=\"points\")\nplt.show()","0ea59028":"data4.corr()","d5ef6637":"f,ax = plt.subplots(figsize=(10,10))\nsns.heatmap(data4.corr(), annot=True, linewidths=.5, fmt='.1f', ax=ax)\nplt.show()                   \n#annot kutu icindeki rakamlari gosterip gostermemeyi soyluyor\n#fmt . dan sonra degerleri verir","99b41a0e":"data.Sex.unique()","03d3af84":"data.head()","69ebec10":"# Plot the orbital period with horizontal boxes\n\nsns.boxplot(x=\"old_situation\", y=\"Fare\", hue=\"Sex\", data=data, palette=\"PRGn\")\nplt.show()","e77e841b":"sns.swarmplot(x=\"old_situation\", y=\"Fare\",hue=\"Sex\", data=data)\nplt.show()","0197cdaa":"# pair plot\nsns.pairplot(data4)\nplt.show()","1877100d":"sns.countplot(data.Age.head())\n#sns.countplot(kill.manner_of_death)                 # istersek bunuda ayri ayri cizdirebiliriz\nplt.title(\"Fare according to Age\",color = 'blue',fontsize=15)","e50b1b2e":"# ilk siralari gostermek istiyoruz\ndata.head(10)","63135bc4":"# data columns lara bakalim\ndata.columns","8e4bc1dd":"data.Age.plot(kind= 'line', color= 'b', label= 'Age', linewidth= 2, alpha= 0.5, grid= True, linestyle= '-')\ndata.Fare.plot(color= 'r', label= 'Fare', linewidth= 2, alpha= 0.5, grid= True, linestyle= '-.')\nplt.legend(loc= 'upper right')          #legend= puts label into plot\nplt.xlabel('x axis')                    #label= name of label\nplt.ylabel('y axis')                    #label= name of label\nplt.title('Line Plot')                  #title= title of plot\nplt.show()","470cc25b":"data.plot(kind = 'scatter', x = 'Age', y= 'Fare', alpha = 0.5, color = 'red')\nplt.xlabel('Age')\nplt.ylabel('Fare')\nplt.title('Age & Fare Scatter Plot')\nplt.show()","936e0833":"data.Age.plot(kind = 'hist',bins = 70, figsize = (12,12))\nplt.show()","45cff7a1":"data.Age.plot(kind = 'hist',bins = 50)\nplt.clf()  ","27237c8a":"data = pd.read_csv('..\/input\/titanic-cleaned-data\/test_clean.csv')\nseries = data['Age']                           \nprint(type(series))     \ndata_frame = data[['Fare']]  \nprint(type(data_frame))","a3f4451f":"x = data['Age'] < 20                      # Defans de\u011feri 200'den b\u00fcy\u00fck olan verileri x de\u011fi\u015fkenine at\u0131yoruz.\nprint(x)                                       # bu sekilde true false olanlarin hepsini gosterir\ndata[x]                                        # sinirlama yapilan hangi pokemonlar ve ozelliklerini verir","9ed9df9e":"data[np.logical_and(data['Age'] < 20, data['Fare'] > 100.000 )] \n\n# logical and fonksiyonu iki ko\u015fulunda sa\u011flanmas\u0131 istenildi\u011fi ko\u015fullarda kullan\u0131l\u0131r.\n# burada defense de\u011feri 200'den b\u00fcy\u00fck olsun ayn\u0131 zamanda attack de\u011feride 100'den b\u00fcy\u00fck olsun diyoruz.","beb188aa":"# logical and fonksiyonuna alternatif olarak a\u015fa\u011f\u0131daki yap\u0131 kullan\u0131labilir.\n\ndata[(data['Age'] < 20) & (data['Fare'] > 100.000 )]","78031cf2":"threshold = sum(data.Age)\/len(data.Age)\ndata[\"old_situation\"] = [\"old\" if i > threshold else \"young\" for i in data.Age]\ndata.loc[:10,[\"old_situation\",\"Age\"]]","8ba2055d":"data.info()","cc0b5620":"data.describe()","760e2af1":"# data.dropna(inplace = True)  \n# data.describe()\n\n# Burada bos yer olmadigi icin boslara gore describe si ici bos cikar","9ce0aa7d":"# For example: compare Family_Size with fare are high or not\n# Black line at top is max\n# Blue line at top is 75%\n# Red line is median (50%)\n# Blue line at bottom is 25%\n# Black line at bottom is min\n# There are no outliers\ndata.boxplot(column='Fare',by = 'Family_Size')","79d78bf4":"data_new = data.head()    # I only take 5 rows into new data\ndata_new","9494374c":"# lets melt\n# id_vars = what we do not wish to melt\n# value_vars = what we want to melt\nmelted = pd.melt(frame=data_new,id_vars = 'Name', value_vars= ['Sex','Title'])\nmelted","0e086a62":"# Index is name\n# I want to make that columns are variable\n# Finally values in columns are value\nmelted.pivot(index = 'Name', columns = 'variable',values='value')","ec31f1ef":"# Firstly lets create 2 data frame\ndata1 = data.head()\ndata2= data.tail()\nconc_data_row = pd.concat([data1,data2],axis =0,ignore_index =True) # axis = 0 : adds dataframes in row\nconc_data_row","5ee4196d":"data3 = data['Name'].head()\ndata1 = data['Sex'].head()\ndata2= data['Title'].head()\nconc_data_col = pd.concat([data3,data1,data2],axis =1) # axis = 0 : adds dataframes in row\nconc_data_col","0d032990":"data.dtypes","bd840183":"# Pair Plot","4f4c105c":"# Swarm Plot","d39c4b30":"# Count Plot","841f7078":"# Heatmap","b20f2fe3":" # Pie Chart (Pasta dilimi)","a9e4b949":"# Lm Plot cizim","70b4fcbb":"# Violin Plot cizimi","5e4d4d0e":"# Kde Plot cizimi","f5aaf40e":"pandas'da 3 adet veritipi var. \n1) series \n2) Data_Frame\nseries vekt\u00f6r \u015feklinde uzan\u0131r. tek boyutlu yap\u0131lard\u0131r.","6bf682cf":"# Box Plot cizimi"}}