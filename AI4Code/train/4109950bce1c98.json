{"cell_type":{"75cde771":"code","922fe4de":"code","9d1a6d56":"code","469aa5ad":"code","4967b3a3":"code","90db5680":"code","cbf5bc52":"code","ce5eeeff":"code","8eb55364":"code","24110799":"code","3bda81f2":"code","fbb5344f":"code","f2c8f651":"code","f75d3957":"code","a951b348":"code","4cbe0f44":"code","fc881595":"code","7982a29b":"code","cacdd93e":"code","c5102394":"code","72e70e5b":"code","58861ac8":"code","2fb39fe5":"code","e8e464f1":"code","1f103965":"code","16ea510c":"code","03db91ef":"code","5fb12fe5":"code","f42797b1":"code","546efc6c":"code","4ca6508c":"code","5c518b95":"code","ee1a0c48":"code","cb0f868d":"code","fe561058":"code","fc636e6c":"code","44c79610":"code","9109ec7e":"markdown"},"source":{"75cde771":"from fancyimpute import KNN\nimport pandas as pd\nimport numpy as np\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.tools as tls","922fe4de":"df = pd.read_excel('..\/input\/Absenteeism_at_work_Project.xls')\ndf.shape","9d1a6d56":"df.head()","469aa5ad":"columns = df.columns","4967b3a3":"df['Body mass index'].head()","90db5680":"df['Body mass index'].isna().sum()","cbf5bc52":"df['Body mass index']","ce5eeeff":"df['Body mass index'].iloc[12]","8eb55364":"df['Body mass index'].iloc[12] = np.nan","24110799":"df['Body mass index']","3bda81f2":"np.asarray(df['Body mass index'].dropna(),dtype=float).mean()","fbb5344f":"mean = 26.69","f2c8f651":"from scipy import stats\nstats.mode(np.asarray(df['Body mass index'].dropna(),dtype=float))","f75d3957":"mode = 31","a951b348":"np.median(np.asarray(df['Body mass index'].dropna(),dtype=float))","4cbe0f44":"median = 25","fc881595":"knn = KNN(k=3)\ndf = knn.fit_transform(df)","7982a29b":"type(df)","cacdd93e":"df = pd.DataFrame(df,columns=columns)","c5102394":"type(df)","72e70e5b":"df['Body mass index'].isna().sum()","58861ac8":"round(df['Body mass index'].iloc[12])","2fb39fe5":"df['Body mass index']","e8e464f1":"trace0 = go.Box(\n    y=df['Transportation expense']\n)\ndata = [trace0]\npy.iplot(data)","1f103965":"trace0 = go.Box(\n    y = df['Height'],\n    name = \"All Points\",\n    jitter = 0.3,\n    pointpos = -1.8,\n    boxpoints = 'all',\n    marker = dict(\n        color = 'rgb(7,40,89)'),\n    line = dict(\n        color = 'rgb(7,40,89)')\n)\n\ntrace1 = go.Box(\n    y = df['Height'],\n    name = \"Only Whiskers\",\n    boxpoints = False,\n    marker = dict(\n        color = 'rgb(9,56,125)'),\n    line = dict(\n        color = 'rgb(9,56,125)')\n)\n\ntrace2 = go.Box(\n    y = df['Height'],\n    name = \"Suspected Outliers\",\n    boxpoints = 'suspectedoutliers',\n    marker = dict(\n        color = 'rgb(8,81,156)',\n        outliercolor = 'rgba(219, 64, 82, 0.6)',\n        line = dict(\n            outliercolor = 'rgba(219, 64, 82, 0.6)',\n            outlierwidth = 2)),\n    line = dict(\n        color = 'rgb(8,81,156)')\n)\n\ntrace3 = go.Box(\n    y = df['Height'],\n    name = \"Whiskers and Outliers\",\n    boxpoints = 'outliers',\n    marker = dict(\n        color = 'rgb(107,174,214)'),\n    line = dict(\n        color = 'rgb(107,174,214)')\n)\n\ndata = [trace0,trace1,trace2,trace3]\n\nlayout = go.Layout(\n    title = \"Box Plot Styling Outliers\"\n)\n\nfig = go.Figure(data=data,layout=layout)\npy.iplot(fig, filename = \"Box Plot Styling Outliers\")","16ea510c":"def calculate_outliers(column):\n    \n    # Calculating 25th and 75th percentile.\n    percentile25 = np.percentile(column,25)\n    print(\"perctile 25\",percentile25)\n    percentile75 = np.percentile(column,75)\n    print(\"percentile 75\",percentile75)\n    \n    diff = percentile75 - percentile25\n    \n    lowerlimit = percentile25 - diff * 1.5\n    upperlimit = percentile75 + diff * 1.5\n    \n    column[column<lowerlimit] = np.nan\n    column[column>upperlimit] = np.nan\n    \n    return column","03db91ef":"import matplotlib.pyplot as plt","5fb12fe5":"plt.boxplot(df['Body mass index'])","f42797b1":"columns","546efc6c":"plt.boxplot(df['Height'])","4ca6508c":"plt.boxplot(df['Work load Average\/day '])","5c518b95":"plt.boxplot(df['Transportation expense'])","ee1a0c48":"import plotly.plotly as py\nimport plotly.graph_objs as go","cb0f868d":"df['Transportation expense'] = calculate_outliers(df['Transportation expense'])","fe561058":"df['Transportation expense'].isna().sum()","fc636e6c":"knn = KNN(k=3)\ndf = knn.fit_transform(df)\ndf = pd.DataFrame(df,columns=columns)","44c79610":"df.describe()","9109ec7e":"# Outlier analysis"}}