{"cell_type":{"7e1a60ac":"code","284affc3":"code","2aa35e68":"code","99adf850":"code","c73d376c":"code","e9c45153":"code","0e6b1a4f":"code","8bf5480b":"code","30e28479":"code","ffb4d409":"code","fcac4a66":"code","b34377a5":"code","f74915aa":"code","e5448cc8":"code","ed183fd0":"code","5ed540bd":"code","78ce7305":"code","c67f4a17":"code","9efc2867":"code","2dd94d9c":"code","59ab57f7":"code","759dddfa":"code","ec573af4":"code","93aeccd2":"code","440d100a":"code","e12cd9c8":"code","5b10ee7f":"code","80f4c1c1":"code","c5422f70":"code","9d1ac481":"code","2df7d2b4":"code","474a41c5":"code","d1b029a3":"code","7a2d3fa7":"code","c9327ee0":"markdown","8b24cf20":"markdown","680af3c2":"markdown","c16ca3e9":"markdown","a7a308fb":"markdown","94808c21":"markdown","97af7ec3":"markdown","ec921e6f":"markdown","041ec4b2":"markdown","f039ecdf":"markdown","d9128302":"markdown","589da1d9":"markdown","745ce3ef":"markdown","b79b4f5b":"markdown","f0313b7a":"markdown","83d54312":"markdown","94c5e68e":"markdown","6c6602be":"markdown","c6e0adfb":"markdown","50306fdf":"markdown","2cd9ca45":"markdown","ebffee00":"markdown","f4cc56c3":"markdown","0dd9eb17":"markdown","286949ba":"markdown","b39645c1":"markdown","c6d6f569":"markdown","3382905c":"markdown","6c3378cf":"markdown"},"source":{"7e1a60ac":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","284affc3":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","2aa35e68":"# reading in GlobalLandTemperaturesByCountry.csv\n\ngltc = pd.read_csv('..\/input\/climate-change-earth-surface-temperature-data\/GlobalLandTemperaturesByCountry.csv')","99adf850":"gltc.head(2)","c73d376c":"#separating zimbabwe data\ndf = gltc[gltc['Country']=='Zimbabwe']\n\n#dropping rows with NaN values\ndf.dropna(inplace=True)\n\n# first lets bifurcate the months and year data for the dt\ndf.loc[:,'dt'] = pd.to_datetime(df['dt'])\n\ndf.loc[:,'month'] = [x.month for x in list(df['dt'])]\ndf.loc[:,'year'] = [x.year for x in list(df['dt'])]","e9c45153":"plt.plot(df['dt'], df['AverageTemperature'])\nplt.show()","0e6b1a4f":"fig = plt.figure(figsize=(10,5))\nplt.plot(df.loc[df['year']==2012, 'dt'], df.loc[df['year']==2012,'AverageTemperature'])\nplt.title('Temperature at Zimbabwe in 2012')\nplt.xlabel('Months')\nplt.ylabel('Average Temperature')\nplt.show()","8bf5480b":"#checking highest temperature\n\ngltc[gltc['AverageTemperature']==gltc['AverageTemperature'].max()]","30e28479":"#lets analyse Kuwait daa throughout 2012\n\ndf = gltc[gltc['Country']=='Kuwait']\ndf.dropna(inplace=True)\ndf.loc[:,'dt'] = pd.to_datetime(df['dt'])\ndf.loc[:,'month'] = [x.month for x in list(df['dt'])]\ndf.loc[:,'year'] = [x.year for x in list(df['dt'])]\nfig = plt.figure(figsize=(10,5))\nplt.plot(df.loc[df['year']==2012, 'dt'], df.loc[df['year']==2012,'AverageTemperature'])\nplt.show()","ffb4d409":"mean_temp = gltc['AverageTemperature'].mean()","fcac4a66":"#lets plot again\nfig = plt.figure(figsize=(10,5))\nplt.plot(df.loc[df['year']==2012, 'dt'], df.loc[df['year']==2012,'AverageTemperature'])\nplt.axhline(mean_temp)\nplt.show()","b34377a5":"fig = plt.figure(figsize=(10,5))\nyears = [2008,2009,2010,2011,2012]\nfor year in years:\n    plt.plot(df.loc[df['year']==year, 'month'], df.loc[df['year']==year,'AverageTemperature'], label=year)\nplt.title('Temperature variation in Kuwait in last 5 years')\nplt.xlabel('Months')\nplt.ylabel('Average Temperature')\nplt.legend(loc='upper left')\nplt.axhline(mean_temp)\nplt.show()","f74915aa":"df['year'].unique()","e5448cc8":"mean_by_year = []\nfor year in list(df['year'].unique()):\n    df1 = df[df['year']==year]\n    mean_by_year.append(df1['AverageTemperature'].mean())\n    \nfig = plt.figure(figsize=(15,10))\nplt.bar(list(df['year'].unique()), mean_by_year)\nplt.show()","ed183fd0":"mean_by_year = []\nyears = list(df['year'].unique()[-10:])\nfor year in years:\n    df1 = df[df['year']==year]\n    mean_by_year.append(df1['AverageTemperature'].mean())\n    \nfig = plt.figure(figsize=(10,5))\nbarlist = plt.bar(years, mean_by_year)\nbarlist[0].set_color('r')\nbarlist[1].set_color('b')\nbarlist[2].set_color('g')\nbarlist[3].set_color('r')\nbarlist[4].set_color('y')\nbarlist[5].set_color('m')\nbarlist[6].set_color('c')\nbarlist[7].set_color('k')\nbarlist[8].set_color('g')\nbarlist[9].set_color('y')\nplt.xticks(np.arange(2004,2014),labels=years)\nplt.title('Temperature in Kuwait in last decade')\nplt.show()","5ed540bd":"gltc['dt'] = pd.to_datetime(gltc['dt'])\ndf = gltc[gltc['dt'].dt.year==2012]\ndf = df.sort_values('AverageTemperature', ascending=False)\ndf.head()","78ce7305":"df = gltc[(gltc['dt'].dt.year==2012) & (gltc['dt'].dt.month==7)]\ndf = df.sort_values('AverageTemperature', ascending=False)\ntop_countries = list(df['Country'].head())\ndf.head()","c67f4a17":"gltc['month'] = gltc['dt'].dt.month\ngltc['year'] = gltc['dt'].dt.year","9efc2867":"fig = plt.figure(figsize=(10,5))\nfor country in top_countries:\n    plt.plot(gltc.loc[(gltc['year']==2012)&(gltc['Country']==country), 'month'], gltc.loc[(gltc['year']==2012)&(gltc['Country']==country),'AverageTemperature'], label=country)\nplt.legend(loc=\"upper left\")\nplt.title('Top 5 countries with highest Average Soil Temperature for 2012')\nplt.xlabel('Months')\nplt.ylabel('Average Temperature')\nplt.show()","2dd94d9c":"data = pd.read_csv('..\/input\/climate-change-earth-surface-temperature-data\/GlobalLandTemperaturesByCity.csv')","59ab57f7":"data.tail(10)","759dddfa":"data[data['AverageTemperature']==data['AverageTemperature'].max()]","ec573af4":"data['dt'] = pd.to_datetime(data['dt'])\ndata['year'] = data['dt'].dt.year\ndata['month'] = data['dt'].dt.month","93aeccd2":"df = data[data['year']==2013]\ndf.sort_values('AverageTemperature', ascending=False, inplace=True)\ndf = df.reset_index()\ndf.head()","440d100a":"cities = df['City'][:5].tolist()\nfig = plt.figure(figsize=(10,5))\nfor city in cities:\n    df1 = df[df['City']==city]\n    df1.sort_values('month', inplace=True)\n    plt.plot(df1['month'], df1['AverageTemperature'], label=city)\nplt.legend(loc='upper left')\nplt.title('Top 5 cities having highest temperature in 2013')\nplt.show()","e12cd9c8":"data['City'].nunique()","5b10ee7f":"def clean_lat_data(lat):\n    lat1 = lat.replace('N','')\n    lat1 = float(lat1.replace('S',''))\n    if lat[-1] == 'S':\n        lat1 *= (-1)\n    return lat1\n\ndef clean_lon_data(lon):\n    lon1 = lon.replace('E','')\n    lon1 = float(lon1.replace('W',''))\n    if lon[-1] == 'W':\n        lon1 *= (-1)\n    return lon1","80f4c1c1":"df = data[['AverageTemperature','City','Latitude','Longitude']]\ncities = list(df['City'].unique())\nlatitudes = []\nlongitudes = []\ntemp = []\nfor city in cities:\n    df1 = df[df['City']==city]\n    df1.dropna(inplace=True)\n    temp.append(df1['AverageTemperature'].mean())\n    lats = df1['Latitude'].tolist()\n    lons = df1['Longitude'].tolist()\n    lat = clean_lat_data(lats[0])\n    lon = clean_lon_data(lons[0])\n    latitudes.append(lat)\n    longitudes.append(lon)","c5422f70":"len(cities), len(latitudes), len(longitudes), len(temp)","9d1ac481":"df = data[['AverageTemperature','Country','Latitude','Longitude']]\ncountries = list(df['Country'].unique())\nlatitudes = []\nlongitudes = []\ntemp = []\nfor country in countries:\n    df1 = df[df['Country']==country]\n    df1.dropna(inplace=True)\n    temp.append(df1['AverageTemperature'].mean())\n    lats = df1['Latitude'].tolist()\n    lons = df1['Longitude'].tolist()\n    lat = clean_lat_data(lats[0])\n    lon = clean_lon_data(lons[0])\n    latitudes.append(lat)\n    longitudes.append(lon)","2df7d2b4":"len(countries), len(latitudes), len(longitudes), len(temp)","474a41c5":"new_df = pd.DataFrame({'Country':countries, 'Latitude': latitudes, 'Longitude':longitudes, 'AverageTemperature': temp})\nnew_df.head()","d1b029a3":"#summoning the libraries needed\nfrom mpl_toolkits.basemap import Basemap\n\nm = Basemap(projection=\"merc\", llcrnrlat=-40, urcrnrlat=60, llcrnrlon=-50, urcrnrlon=150)\n\n#creating instances\nx , y = m(new_df[\"Longitude\"].tolist(),new_df[\"Latitude\"].tolist())","7a2d3fa7":"fig = plt.figure(figsize=(10,7))\nplt.title(\"Temperature of Countries\")\nm.scatter(x, y, s=1, c='red')\nm.drawcoastlines()\nplt.show()","c9327ee0":"Okay so now I got my top 5 countries from the filtering. I will store them in a list and then check their temperature variation","8b24cf20":"Let's see the city that reached the highest temperature in the dataset.","680af3c2":"This does not look good so let's the data for last 10 years","c16ca3e9":"Not much sense can be made out of this plot so it's better to analyse one year data at a time\n\nLet's then analyze the data for 2012 year(because it contains all the months)","a7a308fb":"Looking at the plot it seems obvious that the temperature of Kuwait remains that way throughout every year\n\nLets check the mean for each years","94808c21":"Let's first check the land temperatures based on Countries.","97af7ec3":"With that I will end my today's data story. Today most time I spent in figuring out the structure.\n\nDidn't really do much analysis.","ec921e6f":"# Data Story 4","041ec4b2":"Let's first randomly pick up one country and check it's data over the years. I am picking up the country Zimbabwe","f039ecdf":"Creating new dataframe with the mean values","d9128302":"Since I see that most countries reached their highest values at around the month of July, so let's consider only that month so that I get unique countries","589da1d9":"Lets see what the mean temperature is and then we can compare Kuwait temperature to it","745ce3ef":"From the above plot w can deduce that the temperature in Zimbabwe reaches it's lowest point in the month of July but again starts rising after that which seems pretty odd because being an Indian I expect the least value to be around the months of Dec-Feb","b79b4f5b":"Now we can see that the data ranges from the year 1743 to 2013(not in all cases though) for each of the months.","f0313b7a":"So I tried to separate the data for each cities but it took to long and crashed the notebook thrice. \n\nSo now I shifted to the thought of using unique countries to decrease the variability.","83d54312":"So now the top 5 cities with the highest temperature are revealed.","94c5e68e":"Okay so the city name is Warqla and it is in the country Algeria.\n\nThe highest temperature reached in the year 1761\n\nLet's now check the highest temperature reached in 2013(the last recorded year in the dataset)","6c6602be":"# Data Story 5","c6e0adfb":"Okay so this is where I end today's analysis. There is a lot more to explore in this data and it is fun as well. So I will continue again tomorrow.","50306fdf":"Okay so I found the top 5 cities with the highest temperature.\n\nLets see their variation","2cd9ca45":"Okay now I thought of checking the top 5 countries who are having the highest average tempeartures in the year 2012","ebffee00":"This is the day 4 of telling stories with data. \n\nIn this data I will try to analyse which countries and cities contribute the most to the world temperature","f4cc56c3":"So we have 3448 unique countries. Since we have geographic data. LEt's try and visualize that.\n\nA lot of things come up from a geographic data analysis.\n\nI will take mean of average temperature for each countries","0dd9eb17":"Let's now check how many unique countries data do we have in the dataset","286949ba":"# See you in next data story. Bye.","b39645c1":"Now let's check the couuntry that shows the highest temperature value in all these years.\n\nThen I will analyse that country's data and maybe find out the top 10 contributors","c6d6f569":"Woh te situation doesn't seem too favourable for Kuwait.\n\nLets compare its performance for the last 5 years.","3382905c":"Okay so yesterday I ended till the analysis of top 5 countries with the highest average temperature. \n\nToday I am thinking of analyzzing the cities. This may provide some useful information.","6c3378cf":"Okay so the highest temperature reach was by the country Kuwait with an AverageTemperature of 38.842. It reached the highest temperature on July,2012"}}