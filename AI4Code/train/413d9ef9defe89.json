{"cell_type":{"dd94762e":"code","5d18a031":"code","ad05723c":"code","d4a7cef7":"code","2e4d75ae":"code","e639de6a":"code","3aed2205":"code","725d481d":"code","eab4241f":"code","522424ac":"code","85ee00f8":"code","af988ad8":"code","af87098c":"code","f9159375":"code","1b5d4f31":"code","8edb176b":"code","187fde6e":"code","3a6beb43":"code","2bb47788":"code","c0e0340e":"code","30c3a466":"code","998b9a1d":"code","359b6a4e":"code","d6c3efba":"code","9ea7b474":"code","919a9944":"code","61e23f2a":"markdown","7dea8eb4":"markdown","aa549436":"markdown","fe37101e":"markdown","524b0690":"markdown","66f9a67e":"markdown","98b64749":"markdown","50fb7d95":"markdown","f7218d25":"markdown","25b96a27":"markdown","36eebd05":"markdown","fd0c74f9":"markdown","162e0d3d":"markdown","8b11ae4c":"markdown","47446319":"markdown","007884fe":"markdown","1d2711a0":"markdown","f98b5de5":"markdown","148641e0":"markdown","7d203662":"markdown","a57cacb8":"markdown","c2d0dff1":"markdown","266c8b5d":"markdown","5bfa289d":"markdown","a1669c71":"markdown","5efe79ca":"markdown"},"source":{"dd94762e":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O\nimport seaborn as sns # plotting\nimport matplotlib.pyplot as plt # plotting\n\n# read csv\ndf = pd.read_csv('..\/input\/independence-and-interdependence-in-sports\/sport_e2.csv', index_col=0)","5d18a031":"df.head()","ad05723c":"df.info()","d4a7cef7":"df.describe()","2e4d75ae":"# show all types of sports\nsp_list=df['sport'].unique()\nprint(sp_list)","e639de6a":"len(sp_list)","3aed2205":"# uncomment following line to\n# force showing everything\n#pd.set_option('display.max_rows', None)\n\npd.set_option('display.max_rows', 10)\n\n# show all values for 'sport' with numbers\nsports_cnt=df['sport'].value_counts()\nprint(sports_cnt)","725d481d":"# Bar chart showing sports (only the 20 most named)\nplt.figure(figsize=(20,6))\nsns.barplot(x=sports_cnt[:20].index, y=sports_cnt[:20])","eab4241f":"# little script if you want to create your own dictionary\n#sport_cat={}\n#for sport in sp_list:\n#    print('Which Category: '+ sport)\n#    cat=input()\n#    sport_cat[sport] = cat\n\n# proposed categories    \nsport_cat={'Martial Arts Tricking': 'trend', 'Basketball': 'team', 'Parkour': 'trend', 'Freerunning': 'trend', \n           'Soccer': 'team', 'Dance': 'individual', 'Yoga': 'individual', 'Football': 'team', 'Swimming': 'individual', \n           'Track and Field': 'individual', 'Handball': 'team', 'Tennis': 'individual', 'Fitness Sport': 'individual', \n           'Gymnastics': 'individual', 'Snowboarding': 'trend', 'Roller Blading': 'trend', 'Hockey': 'team', \n           'Volleyball': 'team', 'Cycling': 'individual', 'Badminton': 'individual', 'Skiing': 'individual', \n           'Aerobics': 'individual', 'Wing Chun': 'combat', 'Karate': 'combat', 'Combat Sport': 'combat', \n           'Boxing': 'combat', 'Table Tennis': 'individual', 'Kapap': 'combat', 'MMA': 'combat', 'Judo': 'combat', \n           'Fencing': 'combat', 'Capoeira': 'trend', 'Mountainbiking': 'individual', 'Alpha Combat System': 'combat', \n           'Equestrianism': 'individual', 'Taekwondo': 'combat', 'Power Sport': 'individual', 'Kickboxing': 'combat', \n           'Ninjutsu': 'combat', 'Escrima': 'combat', 'Muay Thai': 'combat', 'Bodybuilding': 'individual', \n           'BJJ': 'combat', 'Kung Fu': 'combat', 'Jeet kune do': 'combat', 'Calisthenics': 'individual', \n           'Kenjutsu': 'combat', 'Running': 'individual', 'Lacrosse': 'team', 'Chinese Martial Arts': 'combat', \n           'Ice-Skating': 'individual', 'Triathlon': 'individual', 'Climbing': 'individual', \n           'Slacklining': 'trend', 'Rowing': 'individual', 'Rugby': 'team', 'Beach Volleyball': 'trend', \n           'Trampoline': 'individual', 'Acrobatics': 'individual'}\n","522424ac":"# create new column for category\ndf['sport_cat']=df['sport'].map(sport_cat)","85ee00f8":"# show number of values for each category\ndf['sport_cat'].value_counts()","af988ad8":"# create correlations heatmap\nsns.heatmap(df.corr(), annot=True) ","af87098c":"# draw a scatterplot\nsns.jointplot(x=\"independence\", y=\"interdependence\", hue='sport_cat', data = df)","f9159375":"fig, axes = plt.subplots(1, 2, figsize=(10, 5), sharey=True)\n\nsns.boxplot(x='sport_cat', y='independence', data=df, ax=axes[0])\nsns.boxplot(x='sport_cat', y='interdependence', data=df, ax=axes[1])","1b5d4f31":"# draw bar plots\nfig, axes = plt.subplots(1, 2, figsize=(10, 5), sharey=True)\nsns.histplot(df, ax=axes[0], x='independence', kde=True)\nsns.histplot(df, ax=axes[1], x='interdependence', kde=True)","8edb176b":"# visualize skewedness\nfrom scipy import stats\n\nf, axs = plt.subplots(1,2,figsize=(10,10))\nax1 = plt.subplot(221)\nstats.probplot(df['independence'], plot=plt)\nax1.set_xlabel('independence')\n\nax2 = plt.subplot(222)\nstats.probplot(df['interdependence'], plot=plt)\nax2.set_xlabel('interdependence')\n\nplt.show()","187fde6e":"from scipy import stats\n\n# create groups with only 2 columns\nan=df.loc[df['sport_cat'] == 'trend', 'independence']\nbn=df.loc[df['sport_cat'] == 'team', 'independence']\ncn=df.loc[df['sport_cat'] == 'individual', 'independence']\ndn=df.loc[df['sport_cat'] == 'combat', 'independence']\n\n# run ANOVA\nfvalue, pvalue = stats.f_oneway(an,bn,cn,dn)\nprint(fvalue, pvalue)","3a6beb43":"# create groups with only 2 columns\nat=df.loc[df['sport_cat'] == 'trend', 'interdependence']\nbt=df.loc[df['sport_cat'] == 'team', 'interdependence']\nct=df.loc[df['sport_cat'] == 'individual', 'interdependence']\ndt=df.loc[df['sport_cat'] == 'combat', 'interdependence']\n\n# run ANOVA\nfvalue, pvalue = stats.f_oneway(at,bt,ct,dt)\nprint(fvalue, pvalue)","2bb47788":"from statsmodels.stats.multicomp import pairwise_tukeyhsd\n\ntukey_ind = pairwise_tukeyhsd(endog=df['independence'],\n                          groups=df['sport_cat'],\n                          alpha=0.05)\nprint(tukey_ind)","c0e0340e":"tukey_int = pairwise_tukeyhsd(endog=df['interdependence'],\n                          groups=df['sport_cat'], \n                          alpha=0.05)\nprint(tukey_int)","30c3a466":"from sklearn.cluster import KMeans\n\ndistortions = []\nnum_clusters = range(1, 20)\n\n# Create a list of distortions from the kmeans function\nfor i in num_clusters:\n    k = KMeans(n_clusters= i)\n    k.fit(df[['independence','interdependence']])\n    distortions.append(k.inertia_)\n\n# Create a data frame with two lists, num_clusters and distortions\nelbow_plot = pd.DataFrame({'num_clusters':num_clusters,'distortions':distortions})\n\n# Create a line plot of num_clusters and distortions\nplt.figure(dpi=100)\nsns.lineplot(x='num_clusters', y='distortions', data = elbow_plot)\nplt.xticks(num_clusters)\nplt.title('Elbow Plot')\nplt.xlabel('Number of Clusters')\nplt.ylabel(\"Distortions\")\nplt.show()","998b9a1d":"# number of clusters to use\nnum_cl=4\n\n#Initialize the class object\nk = KMeans(n_clusters= num_cl)\n \n#predict the labels of clusters.\nlabel = k.fit_predict(df[['independence','interdependence']])","359b6a4e":"# show a scatter plot\nsns.jointplot(x=\"independence\", y=\"interdependence\", hue=label, data = df)","d6c3efba":"# create a new column with the labels\ndf_label = df.copy()\ndf_label['label'] = label\ndf_label['label'].value_counts()","9ea7b474":"# sort the sports into the groups according to label\ngroups = df_label.groupby(\"label\")[\"sport\"].value_counts()","919a9944":"# print bar plots for all labels\nfig, axes = plt.subplots(num_cl, 1, figsize=(15, 15), sharey=True)\nfor i in range(num_cl):\n    sns.barplot(x=groups[i][:15].index, y=groups[i][:15], ax=axes[i])","61e23f2a":"# Clustering with K-means\n\nMaybe our classification of the sports in team, trend, combat and individual wasn't the most sensible. With K-means clustering, we are trying to find a better classification.","7dea8eb4":"There is a very uneven distribution of sports athletes. We can try grouping them into team, individual, combat and trend sport athletes.","aa549436":"Now we are plotting the sports that are dominant in each label.","fe37101e":"We that combat sport athletes differ from all other athletes regarding independence. They are less independent.","524b0690":"# Find differences between groups\n\nPerform an ANOVA to find if there ary any difference between the groups.","66f9a67e":"We can find some very interesting correlations here. \nFor example: \n- The older you get, the less important sport gets.\n- With increasing age, people become less independent.\n- The more frequent you perform sport, the interdependent you are (?????)","98b64749":"On the box plots you can see some differences. We have to investigate it in-depth with statistical tests.","50fb7d95":"Uff, we have 59 different sports","f7218d25":"# Data loading","25b96a27":"## Running clustering","36eebd05":"Hm, you can't really see a difference between the athletes of different sports. We'll try box plots.","fd0c74f9":"Well, the distribution is not ideal, but we can start working with it.","162e0d3d":"# Checking for Normal distribution\nBefore doing any statistical tests, it is always important to check for normal distribution. We will just do this graphically because N is too small to get good results from statistical tests for normal distribution.","8b11ae4c":"# Correlations\nWe are trying to find any correlations in the data.","47446319":"# Data Analysis and Clustering\nIn this notebook we are investigating the data, trying to find any correlations between sports and self-construal. Later, we also run K-means clustering.","007884fe":"First of all, we are trying to get an overview of the different kinds of sports that are in the data.","1d2711a0":"This doesn't help too much since there isn't really an 'elbow' visible. We will just go with 4 groups as before.","f98b5de5":"# 2. Analyse sports","148641e0":"# Differences between independence and interdependence?\nWe have just seen in the correlation analysis that age, frequency and importance of sport are linked with independence and interdependence. We will nevertheless try to find out if the self-construal has anything to do with the sport you perform.","7d203662":"So, apart from some outliers, the data is pretty well normal distributed.","a57cacb8":"Only finding: Team athletes are less interdependent than trend sport athletes. ","c2d0dff1":"Hmm, I can't really find too much structure here. Maybe the sports you perform hasn't too high a relation to your self-construal. Maybe it would be more sensible investigate more into the correlations we found in the heatmap.","266c8b5d":"Regarding both independence and interdependence we find differences with alpha<0.01.","5bfa289d":"## Post-hoc test\n\nNow we have to run some post-hoc tests to find out where these differences are. We're using Tukey's HSD.","a1669c71":"Scatter plot looks fine. Now we are trying to find out which sports are where.","5efe79ca":"## Elbow plot\nFirst of all, we are using the elbow plot to find a good number of clusters. "}}