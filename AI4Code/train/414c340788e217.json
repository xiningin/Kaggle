{"cell_type":{"e9c60ff1":"code","ac83ce80":"code","7fa7d8d8":"code","62da719b":"code","626f0e0a":"code","44f3c1a2":"code","6ae4782b":"code","3a7e7644":"code","5dddc0b3":"code","56270c2d":"code","b2a58ed6":"code","a08f138b":"code","c225deab":"code","cd2d4ff8":"code","a8f7c279":"code","1bc6319f":"code","ab905973":"markdown","6b98415c":"markdown","2157b45c":"markdown","c57de31d":"markdown"},"source":{"e9c60ff1":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport warnings","ac83ce80":"url = 'https:\/\/raw.githubusercontent.com\/nytimes\/covid-19-data\/master\/us-states.csv'\ndf= pd.read_csv(url)\ndf.head()","7fa7d8d8":"df.tail()","62da719b":"df.shape","626f0e0a":"df.isnull().sum()","44f3c1a2":"df_cases_deaths = df.drop(columns = ['fips'])\ndf_cases_deaths.describe()","6ae4782b":"#Converting date to datetime object\ndf['date'] = pd.to_datetime(df['date'])\n\n#Top 10 cases by state\ngrouped_state = df.groupby(\"state\")\ngrouped_state = grouped_state.agg({\"cases\": \"max\"})\ngrouped_state = grouped_state.sort_values(by='cases', ascending=False)\ngrouped_state = grouped_state.reset_index(drop=False)\ngrouped_state.head(10)","3a7e7644":"#Top 10 deaths by state\ngrouped_death = df.groupby(\"state\")\ngrouped_death = grouped_death.agg({\"deaths\": \"max\"})\ngrouped_death = grouped_death.sort_values(by='deaths', ascending=False)\ngrouped_death = grouped_death.reset_index(drop=False)\ngrouped_death.head(10)","5dddc0b3":"import plotly.graph_objects as go\n\n#Creating labels\/size list for pie chart\nstatelist = grouped_state['state'].tolist()\ncaseslist = grouped_state['cases'].tolist()\n\nlabels = statelist\nsizes = caseslist\n\n#Plotting percentage of cases by state\nfig = go.Figure(data=[go.Pie(labels=labels, values=sizes, hole=.5)])\nfig.update_layout(\n    title='Percentage of Total Cases Reported by State',\n    margin=dict(l=20, r=20, t=30, b=125),\n    paper_bgcolor=\"White\",\n)\nfig.show()\n","56270c2d":"#Creating labels\/size list for pie chart\nstatelist = grouped_death['state'].tolist()\ncaseslist = grouped_death['deaths'].tolist()\n\nlabels = statelist\nsizes = caseslist\n\n#Plotting percentage of deaths by state\nfig = go.Figure(data=[go.Pie(labels=labels, values=sizes, hole=.5)])\nfig.update_layout(\n    title='Percentage of Total Deaths Reported by State',\n    margin=dict(l=20, r=20, t=40, b=120),\n    paper_bgcolor=\"White\",\n)\nfig.show()","b2a58ed6":"#Plotting top 10 reported cases by states as timeseries\nwarnings.filterwarnings('ignore')\ntopstates = df.loc[df['state'].isin(['New York', 'New Jersey', 'California', 'Washington', 'Michigan', 'Massachusetts', 'Florida', 'Illinois', 'Louisiana', 'Pennsylvania'])]\nplt.subplots(figsize=(15,8))\nsns.lineplot(data = topstates, x='date', y='cases', hue='state').set_title(\"Timeline of Reported Cases in Top 10 Affected States\")","a08f138b":"#Plotting top 10 reported cases by states as timeseries\nwarnings.filterwarnings('ignore')\ntopstates = df.loc[df['state'].isin(['New York', 'New Jersey', 'California', 'Washington', 'Michigan', 'Massachusetts', 'Florida', 'Illinois', 'Louisiana', 'Pennsylvania'])]\nplt.subplots(figsize=(15,8))\nsns.lineplot(data = topstates, x='date', y='deaths', hue='state').set_title(\"Timeline of Reported Deaths in Top 10 Affected States\")","c225deab":"#merge dataframe\ncasesdeaths = pd.merge(grouped_state, grouped_death, on='state')\n\n#Viewing cases and deaths on barplot\nsns.set(style=\"whitegrid\")\n\n# Initialize the matplotlib figure\nf, ax = plt.subplots(figsize=(10, 30))\n\n# Plot the total cases\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=\"cases\", y=\"state\", data=casesdeaths,\n            label=\"Cases\", color=\"b\")\n\n# Plot the cases where death was involved\nsns.set_color_codes(\"muted\")\nsns.barplot(x=\"deaths\", y=\"state\", data=casesdeaths,\n            label=\"Deaths\", color=\"b\")\n\n# Add a legend and informative axis label\nax.legend(ncol=2, loc=\"lower right\", frameon=True)\nax.set(xlim=(0, 100000), ylabel=\"\",\n       xlabel=\"Deaths per Cases\",\n      title='Visualizing deaths per cases'\n      )\nsns.despine(left=True, bottom=True)\n","cd2d4ff8":"url = 'https:\/\/raw.githubusercontent.com\/nytimes\/covid-19-data\/master\/us-counties.csv'\ncountiesdf = pd.read_csv(url, dtype={\"fips\": str})\ncountiesdf.head()","a8f7c279":"from urllib.request import urlopen\nimport json\nwith urlopen('https:\/\/raw.githubusercontent.com\/plotly\/datasets\/master\/geojson-counties-fips.json') as response:\n    counties = json.load(response)\n\n#Plotting confirmed cases on US map\nfig = px.choropleth(countiesdf, geojson=counties, locations='fips', color='cases',\n                           color_continuous_scale=\"Viridis\",\n                           range_color=(0, 500),\n                           scope=\"usa\",\n                           labels={'cases':'confirmed cases'}\n                          )\nfig.update_layout(margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})\nfig.show()","1bc6319f":"print('Summary: \\n')\nprint(\"There are currently \" + str(casesdeaths['cases'].sum()) + \" cases of coronavirus in the US and \" + str(casesdeaths['deaths'].sum()) + \" deaths.\\n\")\nprint(\"The states with the most amount of cases are: \\n\" + str(grouped_state['state'].iloc[:10].to_string()) + \"\\n\\nand they have the following number of cases, respectively:\\n\\n\" + str(grouped_state['cases'].iloc[:10].to_string()))","ab905973":"![covidimage2.jpg](attachment:covidimage2.jpg)","6b98415c":"### **What is a Coronavirus?**\n    Coronaviruses are a group of pathogenic viruses that cause illness in mammals and birds. Human coronaviruses were first discovered in the 1960s; these viruses are a class of enveloped, single stranded-RNA viruses with the ability to cause respiratory tract infections in their host. Notable outbreaks include the severe acute respiratory syndrome coronavirus (SARS-CoV) in 2003 and Middle East respiratory syndrome-related coronavirus (MERS-CoV) in 2012. Coronoaviruses are primarily transmit from human to human through contact with respiratory droplets.\n    \n**What is COVID-19?**\n    COVID-19 is the popular term to refer to the ongoing pandemic of the severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2). SARS-CoV-2 is a bat-borne virus that was discovered in Wuhan, China in December of 2019. This virus causes respiratory illness and flu-like symptoms including cough, fever, and difficulty breathing in severe cases. Since its discovery, the virus spread throughout China and on to more than one hundred other countries across the globe. The World Health Organization (WHO) declared the outbreak a Public Health Emergency of International Concern on January 30th, 2020 and a pandemic on March 11th, 2020.\n\n**Analysis**\n    The goal of this analysis is to visualize the cases reported in the US since the first identified case in Washington on January 21st, 2020. The data in this dataset includes information on the state, fips(county data), cases, and deaths on every day since the outbreak. It is important to note that the number of cases\/deaths in this dataset is the cumulative number of cases\/deaths on that given date. The dataset was supplied by the New York Times public list of reported cases.\n\n**Updated for 8\/3\/2020 Data**","2157b45c":"The lineplot shows us that the number of reported **deaths** increased dramatically in just the past two weeks. The states with the **highest** number of reported deaths are **New York**.","c57de31d":"The lineplot shows us that the number of reported **cases** increased dramatically in just the past two weeks. The state with the **highest** number of reported cases is **New York**."}}