{"cell_type":{"20755506":"code","da58ce81":"code","c01d9cfe":"code","3997c977":"code","b6fc619a":"code","387873a1":"code","18aeccb6":"code","3b91297c":"code","e4aa87da":"code","512c9a4c":"code","0eb758ca":"code","7e27cf51":"code","c968bb34":"code","8c91f73e":"code","a4177f21":"code","795bbbc2":"code","0785fb3c":"code","b35638fd":"code","97b8ee23":"code","3c44276b":"code","1f1541e4":"code","a7e2bdf9":"code","bab6c451":"code","5764bf87":"code","792f2ca9":"code","c53110be":"code","5ffdb9eb":"code","68c718b5":"code","e20e164b":"code","8066d758":"code","3dd190c4":"code","69174990":"code","ccd26f67":"code","67b12228":"code","ee3fcc3a":"code","6c0dc8d0":"code","e62e076d":"code","0bf54512":"code","d480a77b":"code","e5fbf2da":"code","a82e283e":"code","8706f69f":"code","0e31a794":"code","e014c2af":"code","58abd28f":"markdown","a033fa51":"markdown","ec0a9f7c":"markdown"},"source":{"20755506":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","da58ce81":"population=pd.read_csv('..\/input\/barcelona-data-sets\/population.csv')\npopulation","c01d9cfe":"population.info()","3997c977":"population.describe()","b6fc619a":"population.isna().any().sum()","387873a1":"pd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","18aeccb6":" sns.pairplot(population)","3b91297c":"years=population.Year.unique()\npopulation_year={}\nfor year in years:\n    population_year[year]=population.Number.loc[population.Year==year].sum()\n   \nprint('population = {}'.format(population_year))\n    ","e4aa87da":"plt.figure(figsize=(10,6))\nplt.title('Population in Barcelona from 2013 to 2017')\n\nplt.plot(list(population_year.keys()), list(population_year.values()))\n\nplt.show()","512c9a4c":"years=population.Year.unique()\npopulation_year={}\nfor year in years:\n    population_year[year]=population.Number.loc[population.Year==year].sum()\n\n\npopulation_year=pd.Series(population_year) \nprint(population_year)\n\n\nplt.figure(figsize=(10,6))\nplt.title('Population in Barcelona from 2013 to 2017')\nsns.barplot(x=population_year.index, y=population_year.values)    ","0eb758ca":"population_in_2017=population.Number.loc[population.Year==2017].sum()\nprint('population in 2017= {}'.format(population_in_2017))\npopulation_in_2016=population.Number.loc[population.Year==2016].sum()\nprint('population in 2016= {}'.format(population_in_2016))\n\npopulation_in_2015=population.Number.loc[population.Year==2015].sum()\nprint('population in 2015= {}'.format(population_in_2015))\n\npopulation_in_2014=population.Number.loc[population.Year==2014].sum()\nprint('population in 2014= {}'.format(population_in_2014))\n\npopulation_in_2013=population.Number.loc[population.Year==2013].sum()\nprint('population in 2013= {}'.format(population_in_2013))\n","7e27cf51":"population.groupby(['Year', 'Gender'])['Number'].sum().unstack().plot.bar(title='Population per year and gender')\nfig=plt.gcf()\nfig.set_size_inches(18,6)","c968bb34":"population_by_District_Name=population.groupby(['Year', 'District.Name'])['Number'].sum()\nprint(population_by_District_Name)\npopulation_by_District_Name.unstack().plot.bar(title='Population per year and District')\nfig=plt.gcf()\nfig.set_size_inches(18,6)","8c91f73e":"population_by_District_Name_2017=population.loc[population.Year==2017].groupby(['District.Name' ])['Number'].sum()\nprint(population_by_District_Name_2017)\npopulation_by_District_Name_2017.sort_values().plot.bar(title='Population in 2017 by District')\nfig=plt.gcf()\nfig.set_size_inches(18,6)","a4177f21":"population_by_District_Name=population_by_District_Name.reset_index()\npopulation_by_District_Name.sort_values(by=['Number', 'District.Name'])","795bbbc2":"population.Age.unique()","0785fb3c":"population.Age.dtype","b35638fd":"for year in population.Year.unique():\n    population_age=population.loc[population.Year==year].groupby(['Age','Year'])['Number'].sum().unstack().plot.bar(title='Population per year and ages')\n    fig=plt.gcf()\n    fig.set_size_inches(18,6)\n    population_age","97b8ee23":"age=population.Age.unique()\npopulation_age={}\nfor ag in age:\n    population_age[ag]=population.Number.loc[population.Age==ag].sum()\n   \nprint('population = {}'.format(population_age))","3c44276b":"def get_child_No(year_no):\n    n0_chil=population.Number.loc[(population.Age<'20-24')&(population.Year==year_no)].sum()\n    return n0_chil","1f1541e4":"print(get_child_No(2017))","a7e2bdf9":"def get_Elderly_No(year_no):\n    n0_Elderly=population.Number.loc[(population.Age>'55-59')&(population.Year==year_no)].sum()\n    return n0_Elderly","bab6c451":"get_Elderly_No(2017)","5764bf87":"n0_chilf=population.Number.loc[(population.Age<'20-24')& (population.Gender==\"Female\")&(population.Year==2017)].sum()\nn0_chilf","792f2ca9":"n0_chilm=population.Number.loc[(population.Age<'20-24')& (population.Gender==\"Male\")&(population.Year==2017)].sum()\nn0_chilm","c53110be":"percentage_of_child_in2017=(get_child_No(2017)\/population_in_2017)*100\nprint('percentage of child in 2017 = {}  %'.format(percentage_of_child_in2017))","5ffdb9eb":"percentage_of_Elderly_in2017=(get_Elderly_No(2017)\/population_in_2017)*100\nprint('percentage of Elderly in 2017 = {}  %'.format(percentage_of_Elderly_in2017))","68c718b5":"Elderly_Nom=population.Number.loc[(population.Age>'55-59')&(population.Gender==\"Male\")&(population.Year==2017)].sum()\nElderly_Nom","e20e164b":"Elderly_Nof=population.Number.loc[(population.Age>'55-59')&(population.Gender==\"Female\")&(population.Year==2017)].sum()\nElderly_Nof","8066d758":"for year in population.Year.unique():\n    population_age=population.loc[population.Year==year].groupby(['Age','Year','Gender'])['Number'].sum().unstack().plot.bar(title='Population per year and ages')\n    fig=plt.gcf()\n    fig.set_size_inches(18,6)\n    population_age","3dd190c4":"birth_df=pd.read_csv('..\/input\/barcelona-data-sets\/births.csv')\nbirth_df.info()","69174990":"birth_df.describe()","ccd26f67":"birth_df","67b12228":"birth_df.groupby(['Year' ,'Gender'])['Number'].sum().unstack().plot.bar()\nfig=plt.gcf()\nfig.set_size_inches(18,6)","ee3fcc3a":"years=birth_df.Year.unique()\nbirth_year={}\nfor year in years:\n    birth_year[year]=birth_df.Number.loc[birth_df.Year==year].sum()\n   \nprint('population = {}'.format(birth_year))","6c0dc8d0":"plt.figure(figsize=(10,6))\nplt.title('Birth in Barcelona from 2013 to 2017')\nplt.plot(list(birth_year.keys()),list(birth_year.values()))","e62e076d":"death_df=pd.read_csv('..\/input\/barcelona-data-sets\/deaths.csv')\ndeath_df.head()","0bf54512":"years=death_df.Year.unique()\nbirth_year={}\nfor year in years:\n    birth_year[year]=death_df.Number.loc[death_df.Year==year].sum()\n   \nprint('population = {}'.format(birth_year))\nplt.figure(figsize=(10,6))\nplt.title('Death in Barcelona from 2013 to 2017')\nplt.plot(list(birth_year.keys()),list(birth_year.values()))","d480a77b":"plt.figure(figsize=(20,10))\nsns.scatterplot(x=death_df['Age'], y=death_df['Number'],hue=death_df['Year'])","e5fbf2da":"death_df.groupby(['Year' ,'Age'])['Number'].sum().unstack().plot.bar()\nfig=plt.gcf()\nfig.set_size_inches(18,6)","a82e283e":"death_df.loc[death_df.Year==2017].groupby(['Year' ,'Age'])['Number'].sum().unstack().plot.bar()\nfig=plt.gcf()\nfig.set_size_inches(10,10)","8706f69f":"r={}\n\nfor age in death_df.Age.unique():\n    r[age]=death_df.Number.loc[(death_df.Age==age)&(death_df.Year==2017)].sum()\nr\n","0e31a794":"plt.figure(figsize=(15,6))\nplt.title('Death in Barcelona in 2017')\nplt.plot(list(r.keys()),list(r.values()))","e014c2af":"death=pd.DataFrame(death_df.groupby(['Age'])['Number'].sum())\ndeath","58abd28f":"# **population over years 2013-2017**","a033fa51":"#  no.of childern","ec0a9f7c":"#  overview\n\n* During the five years, there has been no significant change in the population of the city\n* Women are more numerous than men\n* The most populated district is  Eixample and the most densely populated district is Les Corts"}}