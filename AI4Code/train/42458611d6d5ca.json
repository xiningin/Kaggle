{"cell_type":{"4d95d4ca":"code","727fc352":"code","924edf36":"code","a4f03792":"code","477aa3a9":"code","9b709137":"code","3645c0c8":"code","11cba329":"code","fe668a9b":"code","79b20602":"markdown","96dfd2c8":"markdown","2cb86b36":"markdown","0931a05e":"markdown","73c14afc":"markdown","1c15689a":"markdown"},"source":{"4d95d4ca":"!pip install tweepy\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport tweepy as tw # To extarct the twitter data\nfrom tqdm import tqdm","727fc352":"consumer_api_key = 'Type your API KEY here '\nconsumer_api_secret = 'Type your API KEY SECRET here'","924edf36":"auth = tw.OAuthHandler(consumer_api_key, consumer_api_secret)\napi = tw.API(auth, wait_on_rate_limit=True)","a4f03792":"search_words = \"#CovidVaccine -filter:retweets\" #Type you keywork here instead of #covidvaccine\n#You can fix a time frame with the date since and date until parameters\ndate_since = \"2020-08-17\"\ndate_until=\"2020-08-20\"\n# Collect tweets\ntweets = tw.Cursor(api.search,\n              q=search_words,\n              lang=\"en\",\n              since=date_since,\n              until=date_until,\n              tweet_mode='extended' #make sure provide as extended, else you woul only get half tweets\n              ).items(7500) #We instruct the cursor to return maximum of 7500 tweets","477aa3a9":"tweets_copy = []\nfor tweet in tqdm(tweets):\n    tweets_copy.append(tweet)","9b709137":"print(f\"New tweets retrieved: {len(tweets_copy)}\")","3645c0c8":"tweets_df = pd.DataFrame()\nfor tweet in tqdm(tweets_copy):\n    hashtags = []\n    try:\n        for hashtag in tweet.entities[\"hashtags\"]:\n            hashtags.append(hashtag[\"text\"])\n    except:\n        pass\n    tweets_df = tweets_df.append(pd.DataFrame({'user_name': tweet.user.name, \n                                               'user_location': tweet.user.location,\n                                               'user_description': tweet.user.description,\n                                               'user_created': tweet.user.created_at,\n                                               'user_followers': tweet.user.followers_count,\n                                               'user_friends': tweet.user.friends_count,\n                                               'user_favourites': tweet.user.favourites_count,\n                                               'user_verified': tweet.user.verified,\n                                               'date': tweet.created_at,\n                                               'text': tweet.text, \n                                               'hashtags': [hashtags if hashtags else None],\n                                               'source': tweet.source,\n                                               'is_retweet': tweet.retweeted}, index=[0]))","11cba329":"tweets_df","fe668a9b":"tweets_df.to_csv('covid_vaccine.csv',index=False)","79b20602":"### We are trying to extract all the tweets made with the #covidvaccine hashtag","96dfd2c8":"### Let's retrieve the tweets \n","2cb86b36":"#### Lets extarct the necessary features for each tweet\n#### A standard set of features are been extracted here in this notebook!\n#### But still there are many features you can extract for an tweet. please refer this article to know about them(https:\/\/developer.twitter.com\/en\/docs\/twitter-api\/v1\/data-dictionary\/overview\/tweet-object)","0931a05e":"### **Requirements: You must have a twitter account**\n### STEP 1: Create a twitter app using this link (https:\/\/apps.twitter.com\/app\/new)\n### STEP 2: Once u create ur own app using step 1, You will get 2 keys which is unique to your account API KEY and API KEY SECRET\n### STEP 3: Run the below sections of code to extarct the twitter data!    ","73c14afc":"## And Voila! You now have the tweets you required for the given time frame! Kindly upvote the kernel if you find it useful!","1c15689a":"![](https:\/\/miro.medium.com\/fit\/c\/1838\/551\/1*EVJyTyvcx_puOVJSscJveg.jpeg)"}}