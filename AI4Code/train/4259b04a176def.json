{"cell_type":{"803ab7c5":"code","0686b8b9":"code","a0c405d9":"code","be13f087":"code","0a319132":"code","e3e9b338":"code","a61115b0":"code","f16428c4":"code","df3d80ba":"code","959071d3":"code","53ddbe35":"code","c2b57b31":"code","2ca32caf":"code","92679269":"code","ca3660af":"code","6effc362":"code","c3214a1b":"code","cca5b6ae":"code","74a6920c":"code","dc3c5de0":"code","12138446":"code","3fddc953":"code","c5c527f4":"code","111726c7":"code","db5bc9b8":"code","4dafe1a2":"code","b5465de8":"code","f179e51b":"code","0a62c091":"code","388f2563":"code","a9c7dc59":"code","11cd7d14":"code","969c098b":"code","2ecd2c3d":"code","48511974":"code","b11a0dbb":"code","5023a507":"code","0c4cbad4":"code","a815c462":"code","fde23106":"code","94e2d5ea":"code","149a9d23":"code","be99bcec":"code","c2e9a784":"code","194e3746":"code","7e69dd5d":"code","ce9d0d73":"code","cc37ef88":"code","62ba3368":"code","5fefe60a":"code","c2b5f02d":"code","20a7aea6":"code","3ada6751":"code","7508be8e":"code","0f36bb4f":"code","4e5e4d3f":"code","cba224f7":"code","c20a0242":"code","4916bf34":"code","25dc7c4c":"code","69a0ddca":"code","79c23c5b":"code","d65a2975":"code","8638c8e1":"code","62781427":"code","63200595":"code","ca04e2f3":"code","3f24ac40":"code","bce4e7a2":"code","2e35b07d":"code","d051d1fc":"code","808a363a":"code","ab5a1de6":"code","58793c78":"code","27f4e321":"code","6a75ddef":"code","08b3f410":"code","72f7168e":"code","610e2106":"code","f29a9c36":"code","0d568e52":"code","212f198a":"code","aa452313":"code","87407d3c":"markdown","4f40846f":"markdown","b9ff1741":"markdown","cc51792e":"markdown","16172182":"markdown","0ed3d875":"markdown","30accedb":"markdown","8a0d7cb8":"markdown","2afe1766":"markdown","c64916ce":"markdown","b1006c8e":"markdown","fb6c8e7e":"markdown","376cbc66":"markdown","2f304ee9":"markdown","c38ad720":"markdown","f8682b7f":"markdown","685eb777":"markdown","449d8e2f":"markdown","f1cd5e70":"markdown","1081ec2e":"markdown","720e9091":"markdown","22f05429":"markdown"},"source":{"803ab7c5":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport missingno as msno","0686b8b9":"autos = pd.read_csv(\"..\/input\/used-cars-database\/autos.csv\", sep=',', encoding='latin-1')\ndf = autos.copy()\ndf","a0c405d9":"df.info()","be13f087":"df.describe().T","0a319132":"df.isnull().sum()","e3e9b338":"df.abtest.value_counts()","a61115b0":"df.vehicleType.value_counts()","f16428c4":"df.gearbox.value_counts()","df3d80ba":"df.model.value_counts()","959071d3":"df.fuelType.value_counts()","53ddbe35":"df.brand.value_counts()","c2b57b31":"df.notRepairedDamage.value_counts()","2ca32caf":"df.describe().T","92679269":"df = df.drop(columns=['dateCrawled', 'postalCode', 'name', 'monthOfRegistration', 'dateCreated', 'lastSeen', 'nrOfPictures', 'offerType'])","ca3660af":"df.seller.value_counts()","6effc362":"df = df.drop(columns=['seller'])","c3214a1b":"df","cca5b6ae":"df[\"abtest\"].value_counts().plot.barh()","74a6920c":"df[\"vehicleType\"].value_counts().plot.barh()","dc3c5de0":"df[\"gearbox\"].value_counts().plot.barh()","12138446":"df[\"fuelType\"].value_counts().plot.barh()","3fddc953":"plt.figure(figsize=(7,12))\ndf[\"brand\"].value_counts().plot.barh()","c5c527f4":"df[\"notRepairedDamage\"].value_counts().plot.barh()","111726c7":"import missingno as msno","db5bc9b8":"msno.bar(df) ","4dafe1a2":"msno.heatmap(df)","b5465de8":"msno.matrix(df)","f179e51b":"df","0a62c091":"Q1 = df.quantile(0.25)\nQ3 = df.quantile(0.75)\nIQR = Q3 - Q1\nalt_sinir = Q1 - 1.5 * IQR\nust_sinir = Q3 + 1.5 * IQR","388f2563":"alt_sinir","a9c7dc59":"ust_sinir","11cd7d14":"sns.boxplot(df.price)","969c098b":"df = df[(df[\"price\"] < 200000) & (df[\"price\"] > 100)]","2ecd2c3d":"sns.boxplot(df.price)","48511974":"sns.boxplot(df.yearOfRegistration)","b11a0dbb":"df = df[(df.yearOfRegistration <= 2020)  & (df.yearOfRegistration > 1950)]","5023a507":"sns.boxplot(df.yearOfRegistration)","0c4cbad4":"sns.boxplot(df.powerPS)","a815c462":"df = df[(df[\"powerPS\"] <= 270) & (df[\"powerPS\"] >= 50)]","fde23106":"sns.boxplot(df.powerPS)","94e2d5ea":"sns.boxplot(df.kilometer)","149a9d23":"df['kilometer'].describe()","be99bcec":"df['kilometer'].max()","c2e9a784":"df.corr()","194e3746":"df.isnull().sum()","7e69dd5d":"df[\"gearbox\"].value_counts()","ce9d0d73":"gearbox = df[\"gearbox\"].unique()\nbrand = df[\"brand\"].unique()\nd = {}\n\nfor i in brand :\n    m = 0\n    for j in gearbox :\n        if df[(df.gearbox == j) & (df.brand == i)].shape[0] > m :\n            m = df[(df.gearbox == j) & (df.brand == i)].shape[0]\n            d[i] = j","cc37ef88":"for i in brand :\n    df.loc[(df.brand == i) & (df.gearbox.isnull()) ,\"gearbox\" ] = d[i]","62ba3368":"df[\"gearbox\"].isnull().sum()","5fefe60a":"df[\"model\"].value_counts()","c2b5f02d":"df[\"model\"].fillna(\"golf\",inplace =True)","20a7aea6":"df[\"model\"].isnull().sum()","3ada6751":"df[\"fuelType\"].value_counts()","7508be8e":"df[\"fuelType\"].fillna(\"benzin\",inplace = True)","0f36bb4f":"df[\"fuelType\"].isnull().sum()","4e5e4d3f":"df[\"notRepairedDamage\"].value_counts()","cba224f7":"df[\"notRepairedDamage\"].fillna(\"nein\",inplace = True)","c20a0242":"df[\"notRepairedDamage\"].isnull().sum()","4916bf34":"df[\"vehicleType\"].value_counts()","25dc7c4c":"vehicleType = df[\"vehicleType\"].unique()\nfuelType = df[\"fuelType\"].unique()\nprint(fuelType)\nprint(vehicleType)","69a0ddca":"vehicleType = np.delete(vehicleType,0)","79c23c5b":"df[\"vehicleType\"].isnull().sum()","d65a2975":"d = {}\nfor i in fuelType :\n    m = 0\n    for j in vehicleType :\n        if df[(df.vehicleType == j) & (df.fuelType == i)].shape[0] > m :\n            m = df[(df.vehicleType == j) & (df.fuelType == i)].shape[0]\n            d[i] = j","8638c8e1":"for i in fuelType :\n    df.loc[(df.fuelType == i) & (df.vehicleType.isnull()) ,\"vehicleType\" ] = d[i]","62781427":"df[\"vehicleType\"].isnull().sum()","63200595":"df.isnull().sum()","ca04e2f3":"import statsmodels.api as sm\nfrom sklearn import preprocessing\nfrom sklearn import linear_model\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error, r2_score\nfrom sklearn.model_selection import train_test_split, cross_val_score, cross_val_predict","3f24ac40":"df","bce4e7a2":"df_fit = df.apply(preprocessing.LabelEncoder().fit_transform)","2e35b07d":"df_fit","d051d1fc":"X = df_fit.drop('price', axis=1)\ny = df_fit[\"price\"]\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, \n                                                    test_size=0.20)","808a363a":"lm = sm.OLS(y_train, X_train)","ab5a1de6":"model = lm.fit()\nmodel.summary()","58793c78":"rmse = np.sqrt(mean_squared_error(y_train, model.predict(X_train)))\nrmse","27f4e321":"rmse = np.sqrt(mean_squared_error(y_test, model.predict(X_test)))\nrmse","6a75ddef":"model.mse_model","08b3f410":"X = df_fit.drop(columns = ['price', 'abtest'], axis=1)\ny = df_fit[\"price\"]\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, \n                                                    test_size=0.20)","72f7168e":"lm = sm.OLS(y_train, X_train)","610e2106":"model = lm.fit()\nmodel.summary()","f29a9c36":"pd.DataFrame({\"gercek_test\":y_test,\"tahmin_test\":model.predict(X_test)})","0d568e52":"rmse = np.sqrt(mean_squared_error(y_train, model.predict(X_train)))\nrmse","212f198a":"rmse = np.sqrt(mean_squared_error(y_test, model.predict(X_test)))\nrmse","aa452313":"np.sqrt(np.mean((y_test - model.predict(X_test))**2))","87407d3c":"# 3) Ayk\u0131r\u0131 De\u011fer Temizleme(Outlier Cleaning)","4f40846f":"## 1.2) Say\u0131sal De\u011fi\u015fkenler","b9ff1741":"## 3.4) kilometer","cc51792e":"## abtest Kald\u0131r\u0131l\u0131nca","16172182":"# 4) Eksik Veri Doldurma","0ed3d875":"# 1) Verinin Ke\u015ffi (EDA)","30accedb":"# Araba Fiyat\u0131 Tahmini - Linner Regresyon","8a0d7cb8":"## 4.1) gearbox","2afe1766":"## 2.1) De\u011fi\u015fkenlerin G\u00f6rselle\u015ftirilmesi","c64916ce":"## 1.3) Gereksiz Kolonlar\u0131n Silinmesi","b1006c8e":"## 4.3) fuelType","fb6c8e7e":"## 3.1) Price","376cbc66":"## 4.5) vehicleType","2f304ee9":"## 3.3) powerPS","c38ad720":"# 5) Model","f8682b7f":"## Statsmodels","685eb777":"# 2) G\u00f6rselle\u015ftirme","449d8e2f":"## 4.2) model","f1cd5e70":"## 4.5) notRepairedDamage","1081ec2e":"## 3.2) yearOfRegistration","720e9091":"## 1.1)  Kategorik De\u011fi\u015fkenler","22f05429":"## 2.2) Missing Value "}}