{"cell_type":{"8407c2f2":"code","689d0e2a":"code","ac7f129a":"code","18e8297f":"code","b3ca146a":"code","48686403":"code","4b77d040":"code","16e1d546":"code","88fe7ee9":"code","5401da80":"code","28b21ce5":"code","1be4c3cb":"code","c51b3311":"code","28a49ce6":"code","8607a0cd":"code","b051c919":"code","9adcbc26":"code","2a2c99fa":"code","9ed512f2":"code","58dc000d":"code","007d2173":"code","cc4152a6":"code","82f55b3f":"code","97bb6f1c":"code","a5970139":"code","baeac06a":"code","1e4bd17e":"code","29974eeb":"code","3982d2b0":"code","9e239a58":"code","76fe2157":"code","ebfc6a65":"code","ec75ea1a":"code","cd35d508":"code","0accd829":"code","4d8e1015":"code","48834e7f":"markdown","750cadde":"markdown","a0f3fd40":"markdown","e3f66deb":"markdown","d02749ee":"markdown","9379a691":"markdown","b8191ee2":"markdown","e47c810a":"markdown","69671cdd":"markdown","ea08e072":"markdown","435b56d5":"markdown","2b49bce9":"markdown","996f0407":"markdown"},"source":{"8407c2f2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","689d0e2a":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nsns.set_style('darkgrid')","ac7f129a":"athletes_data = pd.read_csv('..\/input\/120-years-of-olympic-history\/athlete_events.csv');\ncountries_data = pd.read_csv('..\/input\/120-years-of-olympic-history\/country_definitions.csv');\nword_cities = pd.read_csv('..\/input\/world-cities-datasets\/worldcities.csv');\ngdp_data = pd.read_csv('..\/input\/global-gdp-per-capita-ppp-from-1800-to-2040\/Global GDP per capita PPP from 1800 to 2018 with projections to 2040.csv');","18e8297f":"df = athletes_data.merge(countries_data, how = 'left', on = 'NOC')","b3ca146a":"countries_data.duplicated().sum()","48686403":"#make column names consistent\ndf.rename(columns = {'region': 'Region', 'notes' : 'Notes'}, inplace = True)\ndf.head()\n#https:\/\/jman4190.medium.com\/explaining-the-inplace-parameter-for-beginners-5de7ffa18d2e#:~:text=When%20inplace%20%3D%20True%20%2C%20the%20data,to%20save%20it%20to%20something.","4b77d040":"#TOP 10 COUNTRIES BY PARTICIPATION.\n\ntop_10_countries = df.Team.value_counts().sort_values(ascending=False).head(10)\n#top_10_countries\nplt.figure(figsize = (12,6))\nplt.title('Top 10 Countries By Participation Global')\nsns.barplot(x=top_10_countries.index, y=top_10_countries, palette = 'Set2');","16e1d546":"# AGE DISTRIBUTION OF PARTICIPANTS.\nplt.figure(figsize=(12,6))\nplt.title('Partcipants Age Distribution')\nplt.xlabel('Age')\nplt.ylabel('Number of Participants')\nplt.hist(df.Age, bins = np.arange(10, 80, 5), color = 'SkyBlue', edgecolor = 'white');","88fe7ee9":"age_data = df.groupby(['Region','Age'], as_index = False).agg(\n                                                counts = pd.NamedAgg(column = 'ID', aggfunc = 'count'))\nage_data.sort_values(by = 'Age', ascending=True) ","5401da80":"# Pie Plot for Male and Female Participants\ngender_counts = df.Sex.value_counts()\n#gender_counts\nplt.figure(figsize=(12,6))\nplt.title('Partcipants By Gender')\nplt.pie(gender_counts, labels =  gender_counts.index, autopct = '%1.1f%%', explode=[0.05]*2, \n                                        startangle = 150,pctdistance=0.5, shadow = True);","28b21ce5":"# Participations Trend By Gender for Winter Olympics\n#women_athletes = df[(df.Sex == 'F') & (df.Season == 'Winter')]\ngender_participants = df[df.Season == 'Winter']\npart = gender_participants.groupby('Year')['Sex'].value_counts()\n\nplt.figure(figsize=(20,10))\npart.loc[:, 'M'].plot(label = 'Male')\npart.loc[:, 'F'].plot(label = 'Female')\nplt.legend(loc=\"upper left\")\nplt.title('Male and Female Participants Count Trend For Winter Olympics');","1be4c3cb":"# Participations Trend By Gender for Summer Olympics\n\ngender_participants = df[df.Season == 'Summer']\npart = gender_participants.groupby('Year')['Sex'].value_counts()\n\nplt.figure(figsize=(20,10))\npart.loc[:, 'M'].plot(label = 'Male')\npart.loc[:, 'F'].plot(label = 'Female')\nplt.legend(loc=\"upper left\")\nplt.title('Male and Female Participants Count Trend For Summer Olympics');","c51b3311":"#Weight Vs Height of Olympics Participants By Gender\n\nplt.figure(figsize = (12,10))\naxis = sns.scatterplot(x='Height', y = 'Weight', data = df, hue = 'Sex')\nplt.title('Weight Vs Height of Olympics Participants By Gender')","28a49ce6":"#https:\/\/www.youtube.com\/watch?v=q1FttL_G1G4\n#https:\/\/towardsdatascience.com\/visual-analysis-of-olympics-data-16273f7c6cf2\n#https:\/\/www.youtube.com\/watch?v=5X5LWcLtkzg\n\nword_cities.rename(columns = {'city':'City', 'country': 'Host_Country'}, inplace=True)\nct = word_cities[['Host_Country', 'City']]\n#ct.duplicated().sum()\nx = ct.drop_duplicates()\n#x.duplicated().sum()\ny = x.drop_duplicates(subset=['Host_Country'])\n\ndata = df.merge(y, how = 'inner', on = 'City')\ndata.head()","8607a0cd":"plt.figure(figsize=(10,5))\nplt.tight_layout()\n#sns.countplot(data['Host_Country'])\ndata['Host_Country'].value_counts().plot(kind=\"bar\")\nplt.title('Participation Per Host Country')\nplt.xticks(rotation=45)","b051c919":"has_medals = data[data.Medal.isin (['Gold', 'Bronze', 'Silver'])]\nmedals = has_medals.Host_Country.value_counts().reset_index(name = 'Medal')\n\ng = sns.catplot(x = 'index', y = 'Medal', data = medals, height = 10, \n                                            kind = 'bar', palette = 'rocket' )\ng.despine(left = True)\ng.set_xlabels('Host Country')\ng.set_ylabels('Medals Won')\nplt.title('Medals Won Per Host Country')\ng.set_xticklabels(rotation=60)\n#plt.xticks(rotation=45)","9adcbc26":"#https:\/\/www.shanelynn.ie\/summarising-aggregation-and-grouping-data-in-python-pandas\/\n\nmd = has_medals[['Year', 'Host_Country', 'Medal']]\n#m = md.groupby(['Year', 'Host_Country'])['Medal'].count().reset_index(name = 'Medals_Count')\n#m = md.groupby('Host_Country', as_index = False).agg({'Medal':\"count\",    'Year': \"nunique\" })\n\nm = md.groupby('Host_Country', as_index = False).agg(\n                                                No_Medals = pd.NamedAgg(column = 'Medal', aggfunc ='count'),\n                                                No_Hosts = pd.NamedAgg(column = 'Year',  aggfunc = 'nunique')\n)\nm = m.sort_values(by = 'No_Medals', ascending = False)\n                            ","2a2c99fa":"fig = plt.figure(figsize = (20,10))\nax1 = plt.subplot(1,1,1)\nax1.bar(m['Host_Country'], m['No_Medals'])\nax1.set_ylim(0, m['No_Medals'].max()*1.25)\nax1.yaxis.grid(linestyle = '-', linewidth = 0.5)\nax1.set_axisbelow(True)\n#ax1.spines['top'].set_linewidth(0)\nax2 = ax1.twinx()\nax2.plot(m['Host_Country'], m['No_Hosts'], 'o-', color = '#cf6a63', linewidth = 3)\nax2.set_ylim(0, m['No_Hosts'].max()*1.25)\nplt.title('Corelation Between Medals Winning and Number of Hosts', fontsize = 18, weight = 'bold')\n#plt.xlabel(\"Host Country\", size = 15)\nplt.show()","9ed512f2":"md = has_medals[['Year', 'Region', 'Medal', 'Season']].sort_values(by = 'Year', ascending=True) \nmd = md.query('Region == \"France\" and Season == \"Summer\"')\nmd = md[['Year', 'Region']]\nxt = md.groupby('Year')['Year'].count()\n\n\nplt.figure(figsize=(20,10))\nxt.plot()\nplt.title('Medals Won By France Summer Season');\n#https:\/\/towardsdatascience.com\/data-grouping-in-python-d64f1203f8d3\n#https:\/\/www.geeksforgeeks.org\/python-filtering-data-with-pandas-query-method\/","58dc000d":"md = has_medals[['Year', 'Region', 'Medal', 'Season']].sort_values(by = 'Year', ascending=True) \nmd.rename(columns = {'Region': 'Country', 'GDP per capita PPP' : 'GDP'}, inplace = True)\ngxt = md.groupby(['Year','Country'])['Year'].count().reset_index(name = 'Medals_Count')","007d2173":"gdp = gdp_data[['Year', 'Country', 'GDP per capita PPP']]","cc4152a6":"gdp.rename(columns = {'GDP per capita PPP' : 'GDP'}, inplace = True)","82f55b3f":"has_medals_with_gdp = gxt.merge(gdp, how = 'inner', on = ['Country', 'Year'])\nhas_medals_with_gdp","97bb6f1c":"plt.figure(figsize = (12,10))\n\naxis = sns.scatterplot(x='GDP', y = 'Medals_Count', data = has_medals_with_gdp)\nplt.title('Relationship Between Medals Winning and GDP')","a5970139":"plt.figure(figsize = (18,12))\nsns.heatmap(has_medals_with_gdp[['Medals_Count', 'GDP']].corr(),annot = True,cmap = 'Greens')\nplt.title(\"Corelation Between Medals Winning and GDP\")","baeac06a":"#Corelation For Medals won by Kenyans and Kenya GDP.\nkenya = has_medals_with_gdp.query('Year > 1960 and Country == \"Kenya\" ').reset_index()","1e4bd17e":"fig = plt.figure(figsize = (16,10))\nax1 = plt.subplot(1,1,1)\nax1.bar(kenya['Year'][kenya['Medals_Count'] > 0], kenya['Medals_Count'])\nax1.set_ylim(0, kenya['Medals_Count'].max()*1.25)\nax1.yaxis.grid(linestyle = '-', linewidth = 0.5)\nax1.set_axisbelow(True)\n#ax1.spines['top'].set_linewidth(0)\nax2 = ax1.twinx()\nax2.plot(kenya['Year'], kenya['GDP'], 'o-', color = '#cf6a63', linewidth = 3)\nax2.set_ylim(0, kenya['GDP'].max()*1.25)\nplt.title('Corelation Between Medals Winning and GDP Kenya', fontsize = 18, weight = 'bold')\nplt.show()","29974eeb":"age_medals_winning = has_medals.groupby(['Year', 'Sex'])['Age'].mean().reset_index(name = 'Mean_Age')\n\nmale_age_medals = age_medals_winning[['Year', 'Mean_Age']][age_medals_winning['Sex'] == 'M']\nfemale_age_medals = age_medals_winning[['Year', 'Mean_Age']][age_medals_winning['Sex'] == 'F']","3982d2b0":"fig = plt.figure(figsize = (16,10))\nax = plt.axes()\nax.plot(male_age_medals['Year'],male_age_medals['Mean_Age'], label = 'Male', color = '#99011F')\nax.plot(female_age_medals['Year'],female_age_medals['Mean_Age'], label = 'Female', color = 'orange')\nax.set_ylim(20, 38)\nplt.axis('tight')\nplt.xlabel('Olympics Year')\nplt.ylabel('Mean Age')\nplt.title('Male and Female Mean Age of Winning Olympics Medals')\nplt.legend();","9e239a58":"kenya = data[['Name','Sex','Year', 'Season', 'Sport', 'Medal', 'Team']].query('Team ==\"Kenya\" ')","76fe2157":"kenya_participants = kenya.groupby(['Year', 'Sex', 'Medal'])['Name'].count().reset_index()\nkenya_participants","ebfc6a65":"part = kenya.groupby('Year')['Sex'].value_counts()\nplt.figure(figsize=(20,10))\npart.loc[:, 'M'].plot(label = 'Male')\npart.loc[:, 'F'].plot(label = 'Female')\nplt.legend(loc=\"upper left\")\nplt.title('Male and Female Participants Count Trend For Summer Olympics');","ec75ea1a":"kenya = data[['Name','Sex','Year', 'Season', 'Sport', 'Medal', 'Team']].query('Team ==\"Kenya\" and Medal in (\"Bronze\", \"Silver\", \"Gold\")')","cd35d508":"ax = sns.histplot(\n    kenya_participants,\n    x='Year',\n    weights='Name',\n    hue='Medal',\n    multiple='stack',\n    palette=['#00a4ccff', '#d34f73ff', '#006747ff'],\n    edgecolor='white',\n    shrink=0.8\n)\n\nax.set_title('Medals Won By Year')\nsns.set(rc={'figure.figsize':(15,10)})\nax.set_ylabel('Number of Medals')","0accd829":"ax = sns.histplot(\n    kenya_participants,\n    x='Year',\n    weights='Name',\n    hue='Sex',\n    multiple='stack',\n    palette=['#006747ff', '#d34f73ff'],\n    edgecolor='white',\n    shrink=0.8\n)\n\nax.set_title('Medals Won By Year By Gender')\nsns.set(rc={'figure.figsize':(15,10)})\nax.set_ylabel('Number of Medals')","4d8e1015":"# output = []\n# for x in data['Region']:\n#     if x not in output:\n#         output.append(x)\n# print(output)","48834e7f":"* There do exist corelation between medal winning and GDP  0.1","750cadde":"* In case of france above the years when France hosted Summer olympics 1900 and 1924 respectively medals won tremendsouly increased in those areas","a0f3fd40":"* Since 1964 to date Kenya has only participated on Olympics Summer games.\n* At 1964 had male representation only (41) in number, thats immedetialy after independence, and **Wilson Arap Chuma Kiprugut, Athletee** won a Bronze Medal.\n* First Female participation was in 1968, 3 female respensentatives all athletees and no one of them won a Medal.\n* First Kenyan Female **(Joyce Chepchumba Koech, Athletee)** won a Bronze Medal on 2000 Summer Olympics.","e3f66deb":"* The average medal winning mean age has been changing from olympics year to another, lowest mean age for females was 21 years in 1924 and highest 32 years in 1904.\n \n* Average Min medal winning age for males was 25 years in 1984 and highest was 35.8 years in 1954.\n\n* The average medal winning age stabilized from 2000 onwards at 25.7 years and 26.3 years for females and males respectively.","d02749ee":"# Thematic Question 2:\n\n**Does the GDP of a country affect Medal wining?**","9379a691":"* Its obvious that hosting has a huge contribution to medals won, without going to the nitty grittys of it.United Kingdom, followed by Australia had the highest numbers of participants and medals won consecutively.\n\n* United Kingdom as per the data had the highest hosts followed by France, this insight is erronoues factually but hypothetically from data is right.","b8191ee2":"# Thematic Question 1\n\nWhat effect does the host country has on the medals won.","e47c810a":"# Kenya Contribution to Olympics","69671cdd":"* Mean age of participants is 25 years of age, \n\n* Youngest participnt was a ten year old from Greece:  Name:Dimitrios Loundras    Country: Greece    Year: 1896 Sport: Gymnastics.\n \n* The oldest participants were 96 and 97 from USA both Male doing art competitions.","ea08e072":"Generally male participants are taller and heavy compared to female counter parts shorter and lighter alluled by Scatter Plot above.","435b56d5":"# Thematic Question 3: Is the Age of winnning Olympics Medals Changing?","2b49bce9":"**# Analyis On the Olympics Data, on Four Thematic Questions.**\n\n* What effect does the host country has on the medals won.\n* Is the economic factors GDP of countries affect the medal winning.\n* Is the age of winning olympics changing.\n* Review of Kenya contrbution to Olympics.\n\n","996f0407":"* There exist Corelation between GDP and Medal winning for Kenya"}}