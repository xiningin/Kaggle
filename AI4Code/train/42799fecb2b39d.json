{"cell_type":{"9b3a2d59":"code","8e3510ac":"code","68da0972":"code","f57d07ff":"code","7bd40080":"code","f0dd274a":"code","d1d26b93":"code","fd6eae32":"code","874f5be0":"code","bce3f8cc":"code","e345a3fc":"code","cfdde562":"code","ca86f636":"code","a7f71d26":"code","0077528a":"code","f2e915a4":"code","c3799133":"code","5d994ac0":"code","888d9e3d":"code","ba80c7a6":"code","a03d19c6":"code","2c388d4f":"code","36b878a6":"code","221ea278":"code","8019df33":"code","47c76d66":"code","61c3bd32":"code","9621a323":"code","0e7d209b":"code","86335b26":"code","0601ab17":"code","1a5eb2a6":"code","461b8aa0":"code","8b21132e":"code","f37b4c82":"markdown","eee96f90":"markdown","a58b86a7":"markdown","665253be":"markdown","eb853fb2":"markdown","e605cfa5":"markdown","ef0b9e68":"markdown","efef9c90":"markdown","879acd75":"markdown","b4ba55be":"markdown","e0f93557":"markdown","f3bdaa71":"markdown","68064858":"markdown","2ba58570":"markdown","3980ddd0":"markdown","907806a2":"markdown","6497d061":"markdown","82d6048e":"markdown","a8129472":"markdown","160d0e01":"markdown","80ee69fd":"markdown","8e6d3d29":"markdown","cfde2111":"markdown","e9986473":"markdown","26946b4a":"markdown","c456aae7":"markdown","009958f8":"markdown","c8cd5ba0":"markdown","1acc1f19":"markdown","d6b25e02":"markdown"},"source":{"9b3a2d59":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline","8e3510ac":"\ndf_co2 = pd.read_csv(\"..\/input\/co2-emissions\/co2.csv\",index_col='country' ).transpose()\ndf_income = pd.read_csv('..\/input\/co2-emissions\/income.csv',index_col='country').transpose()\ndf_forcest_land= pd.read_csv(\"..\/input\/co2-emissions\/forest_land_total_area_ha.csv\",index_col='country' ).transpose()\ndf_land_area = pd.read_csv(\"..\/input\/co2-emissions\/surface_area_sq_km.csv\",index_col='country' ).transpose()\ndf_litracy_rate = pd.read_csv(\"..\/input\/co2-emissions\/literacy_rate_adult_total_percent_of_people_ages_15_and_above.csv\",index_col='country' ).transpose()\ndf_co2.shape , df_income.shape ","68da0972":"df_co2.sample(5)","f57d07ff":"df_income.head()","7bd40080":"# 1 - using diffrence method for set operation in numpy , will get not included countries then drop form DF's\nn1=np.setdiff1d(df_co2.columns,df_income.columns) \nn2=np.setdiff1d(df_income.columns,df_co2.columns)\n\ndf_co2.drop(n1 ,axis =1,inplace =True)\ndf_income.drop(n2 ,axis =1,inplace =True)\ndf_co2.shape , df_income.shape \n","f0dd274a":"# removing nulls years\ndf_co2.dropna(axis=0,inplace=True)\n#remove extra rows form income dataset\ndf_income=df_income.loc[df_co2.index] \ndf_income.shape,df_co2.shape","d1d26b93":"#put data in approprite data type 'conver from string to int '\ndf_income=df_income.apply(lambda x:x.str.replace(\"k\",\"000\").str.replace(\".\",\"\"))\ndf_income=df_income.astype(int)\n#check \ndf_income.describe()","fd6eae32":"df_com = pd.DataFrame([df_co2.mean(),df_income.mean()],index = [\"co2\",\"income\"])","874f5be0":"n_com1= np.setdiff1d(df_com.columns,df_forcest_land.columns)\n\n# remove extra cunrty form forcesed and land dataset\nn3 = np.setdiff1d(df_forcest_land.columns,df_com.columns)\nn4 = np.setdiff1d(df_land_area.columns,df_com.columns)\nn5 = np.setdiff1d(df_land_area.columns,df_forcest_land.columns)\ndf_com[n_com1]","bce3f8cc":"df_com.drop(n_com1 ,axis =1,inplace =True)\ndf_forcest_land.drop(n3 ,axis =1,inplace =True)\ndf_land_area.drop(np.append(n4,n5) ,axis =1,inplace =True)\n","e345a3fc":"#check country numbers\ndf_forcest_land.shape,df_land_area.shape,df_com.shape","cfdde562":"df_forcest_land.sample(5)","ca86f636":"df_land_area.sample(5)","a7f71d26":"#change string to numeric value to convert its data type to float\n\ndf_forcest_land=df_forcest_land.apply(lambda x:x.str.replace(\"k\",\"000\").str.replace(\".\",\"\").str.replace(\"M\",\"000000\"))\ndf_land_area=df_land_area.apply(lambda x:x.str.replace(\"k\",\"000\").str.replace(\".\",\"\").str.replace(\"M\",\"000000\"))\n\n#change value to float data type\ndf_land_area.astype(float)\ndf_forcest_land.astype(float);","0077528a":"df_forcest_land.sample(5)","f2e915a4":"df_land_area.sample(5)","c3799133":"df_land_area = df_land_area.loc[df_co2.index]\ndf_forcest_land = df_forcest_land.loc[df_co2.index[:-3]]\n","5d994ac0":"df_land_area.mode().iloc[0]","888d9e3d":"df_forcest_land.isnull().sum().sort_values()","ba80c7a6":"#to fill null values which effect on mode calculation \ndf_forcest_land.fillna(method='backfill',axis=0,inplace=True)","a03d19c6":"df_forcest_land.mode().iloc[0]","2c388d4f":"#finally , append mode of these DF to df_com\ndf_com=df_com.append(pd.DataFrame([df_forcest_land.mode().iloc[0],df_land_area.mode().iloc[0]],index = [\"forcest_land_area\",\"total_land_area\"]))","36b878a6":"df_com","221ea278":"#step 1\ndf_litracy_rate = df_litracy_rate.loc['2002':]\ndf_litracy_rate \n","8019df33":"#step 2\ndf_litracy_rate.count().sort_values()\n","47c76d66":"#step 2\ndf_litracy_rate=df_litracy_rate.fillna(method='backfill',axis=0).fillna(method='ffill',axis=0).dropna(axis=1)\n\n#drop countries that not include in combied datset\nn6 = np.setdiff1d(df_litracy_rate.columns,df_com.columns)\ndf_litracy_rate.drop(n6,axis =1,inplace =True)\n\n#appending\ndf_com=df_com.append(df_litracy_rate.mode().iloc[0])\ndf_com.rename(index={0:\"literacy_rate\"},inplace=True )","61c3bd32":"df_com","9621a323":"top_country = df_com.loc[\"co2\"].sort_values(ascending = False)[:10]\ntop_country.plot(kind = \"bar\",figsize=(8,8));\nplt.ylabel(\"ton per person\");\nplt.title(\"Top country with highest CO2 emissions\");","0e7d209b":"less_country = df_com.loc[\"co2\"].sort_values()[:10]\nless_country.plot(kind = \"bar\",figsize=(8,8));\nplt.ylabel(\"ton per person\");\nplt.title(\"lower country with lowest CO2 emissions\");","86335b26":"def scatter_plots(df,x_ax,y_ax,xlab,ylab,title):\n    '''this function used to plot scatter garph with labaling axes of plot \n       ---------------------------------------------------------------\n       paramters\n       ---------\n       df : DataFarme that have Attrbuts needs to visualized\n       x_ax : string -- name of column that used in x axis in dataFrame\n       y_ax : string -- name of column that used in y axis in dataFrame\n       xlab : string -- label of x axis \n       ylab : string -- label of y axis\n       title: string -- title of plot\n\n'''\n    df.transpose().plot(kind = \"scatter\", x = x_ax , y = y_ax , figsize=(8,8))\n    plt.xlabel(xlab)\n    plt.ylabel(ylab)\n    plt.title(title);","0601ab17":"#answring qusetion now \nscatter_plots(df_com,'income','co2',\"income\",'co2 emissison',\"relation between incom and co2 emission\")\n","1a5eb2a6":"scatter_plots(df_com,'total_land_area','co2',\"total_land_area\",'co2 emissison',\"relation between total_land_area and co2 emission\")","461b8aa0":"scatter_plots(df_com,'forcest_land_area','co2',\"forcest_land_area\",'co2 emissison',\"relation between forcest_land_area and co2 emission\")","8b21132e":"new_df = df_com.dropna(axis = 1)#exctract country that have literacy_rate\nscatter_plots(new_df,'literacy_rate','co2',\"literacy_rate\",'co2 emissison',\"relation between literacy_rate and co2 emission\")","f37b4c82":"forcest land area not effect on CO2 emission !","eee96f90":"before answering this question let me to define this function which will be used for the following questions , this function used to draw scattar plot with option of title and label axis , which will used with the following questions  ","a58b86a7":"mmmm.., the data at df_income have string datatype , so ,will treat this later","665253be":"Now, We want to exclude extra years from these datasets and represent country value by one number to append it to df_com\n\nand due to rarely changing in lands area , so approparate number that represent these values are mode of these values","eb853fb2":"##### step 3 : add literacy rate to combined data frame\n> I make this step to be last one due to literacy rate have missimg countries\n\nmanipulation for this table :\n* 1- extract country between 2002 to 2018 or less which have litracy information during this period\n* 2- if country have at lest one recored information,will included in dataset , then , take mode value to combine to main dataset","e605cfa5":"check data type of data","ef0b9e68":"so, removing these country from df_com will not effect in our analysis","efef9c90":"So , as income table , these table have string data needed to change to numeric values , we need to replace 'k' and 'M' and '.' with '000' and '000000' and ' ' respectivly","879acd75":"<a id='conclusions'><\/a>\n## Conclusions\n\nThere have been some surprising outcomes from this analysis. Let's talk about it!\n\n* 1- the highest co2 emission recorded in **Qatar** \n* 2- the lowest co2 emission recorded in **Congo,Dem.Rep.**\n* 3- there is a correlation between income of country and amount of co2 emission which lead to **rech country have high effect on green house gas phonomena **\n* 4- there are no relation between forcest area , total land area with amount of emission \n* 5- at certain literacy_rate , Co2 emission be lowest as possible , after this level , co2 emission has independent behavior with respect to literacy_rate \n\n##### there is many factor could effect co2 emission and durig our analysis we find that there is a correlation between co2 emission and income which lead us to explore more about this relation and ask more questions about behavior of people in the countries that lead to these amount of emissions and reduce attitude Associated with high income to reduce amount of co2 emissions\n\n\n### Limitations\n* for instance , there may be a triky for relation between income and co2 emission , this due to peopulation of countrise effect on co2 emission per person , this may make order of highest country for emission totally different which lead us to different analysis of this problem and ask other question about whether peopulation may effect on emission or not or like this qusetion. So,there many detials needed to analyzed for this case .\n \n\n","b4ba55be":"### Data Accessing and cleaning\n* 1- chcek number of country for each dataset and drop countries not include in co2 and income DF\n* 2- drop rows that have nulls in co2 dataset ,years that have missing data of countries","e0f93557":"Now , we finish wrangling steps and make data trim ,clean and Ready to explored","f3bdaa71":"##### step 2 : add forcest and land area to combined data frame\n> we will make same process to reshape and elimination to append into df_com ","68064858":"converted correctly !\n\nnow , combine them into one data Frame","2ba58570":">so , the highest on is *Congo,Dem.Rep.* with less than 0.04 ton per person","3980ddd0":"### Q4 : are bigger country have lower emissions ?","907806a2":"### Q2 : what are the lower 10 country with lowest CO2 emissions? which lewest one?","6497d061":"So , now we have 2 DF with same shape to combine them together but wrong dtype \n\ntreating this as following","82d6048e":"### Q5 : are forcest land area effects on emissions ?","a8129472":"remove country that don't have any information during period ","160d0e01":"# Project: Investigate a Dataset - Gapminder (CO2 emissions analysis)\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","80ee69fd":"total land area of country has no relation with CO2 emission !","8e6d3d29":"<a id='intro'><\/a>\n## Introduction\n\n### Dataset Description \n\n> this dataset handles with collected data about CO2 emissions per person and other factors for each country like (income , land area , forcest area and literacy rate ) , throght this analysis we will show if these factors have correlation with CO2 emission or not . So, let's starting to explore these dataset \n\n\n### Question(s) for Analysis\n#### descriptive Questions about CO2 emissions:\n> Q1 : what are the top 10 country with highest CO2 emissions? which highest one? \n\n> Q2 : what are the lower 10 country with lowest CO2 emissions? which lewest one?\n\n#### relation Questions:\n> Q3 : are higher income country have higher emissions ?\n\n> Q4 : are bigger country have lower emissions ?\n\n> Q5 : are forcest land area effects on emissions ?\n\n> Q6 : finally , there is a relalationship bettween literacy rate and emissisons ?\n\n","cfde2111":"### Q3 : are higher income country have higher emissions ?","e9986473":">so , the highest on is *Qatar* with 46 ton per person ","26946b4a":"there is no relation between both !","c456aae7":"### Q6 : finally , there is a relalationship bettween literacy rate and emissisons ?","009958f8":"ohhh, there is a postive correlation between income and co2 emission !","c8cd5ba0":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n> dataset downloaded separetly from Gapminder site , so,frist step is to combine all table into on data frame\n\n","1acc1f19":"#### loading data to separated dataFrame to explore each on then combine them in 3 steps:\n* 1- combine co2 and income dfn\n* 2- combine forcest land and land eara with combined data\n* 3- finally , combine literacy rate to them \n\nthrough working will explain details for each step\n\n\n","d6b25e02":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\nNow , we will explore and answer some question about this dataset that will help us to draw conclusion about this data check if our expectations are correct or not. So, let's we start ...\n\n\n### Q1 : what are the top 10 country with highest CO2 emissions? which highest one? "}}