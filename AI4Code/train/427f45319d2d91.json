{"cell_type":{"68afff43":"code","b08f9df7":"code","398aafce":"code","78235b7a":"code","961c24c8":"code","01829ca3":"code","70b4a8d3":"code","21483156":"code","7870975d":"code","bc15b12e":"code","7a95373a":"code","db27e37c":"code","076e2bd3":"code","5e80a9c8":"code","e04547b6":"code","11ea4289":"code","98fdc5c5":"code","ba9e484c":"code","1d52fc90":"code","e765fb48":"code","a25e561e":"code","7d1bb539":"code","0fb12a3c":"code","f7d67268":"code","5e740d35":"markdown","2c3a50f3":"markdown","e887d49d":"markdown","d44c3575":"markdown","db5670d1":"markdown"},"source":{"68afff43":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pickle\n","b08f9df7":"ipl_data=pd.read_csv('..\/input\/ipl-dataset\/ipl.csv')\nipl_data.shape","398aafce":"ipl_data.head(5)","78235b7a":"#removing unwanted columns\ncolumn_delete=['mid','venue','batsman','bowler','striker','non-striker']\nipl_data.drop(labels=column_delete,axis=1,inplace=True)","961c24c8":"ipl_data.head(5)","01829ca3":"[ipl_data['bat_team'].unique()]","70b4a8d3":"current_team=['Kolkata Knight Riders', 'Chennai Super Kings', 'Rajasthan Royals',\n        'Mumbai Indians', 'Kings XI Punjab',\n        'Royal Challengers Bangalore', 'Delhi Daredevils','Sunrisers Hyderabad']\n","21483156":"ipl_data=ipl_data[(ipl_data['bat_team'].isin(current_team))&(ipl_data['bowl_team'].isin(current_team))]","7870975d":"ipl_data.shape","bc15b12e":"#Removing First 6 over i.e Powerplay to that we have atleast 6 over data to predict\nipl_data=ipl_data[ipl_data['overs']>=6.0]","7a95373a":"ipl_data.head(5)","db27e37c":"#Convert Data string to datetime object\nfrom datetime import datetime\nipl_data['date']=ipl_data['date'].apply(lambda x: datetime.strptime(x,'%Y-%m-%d'))\n","076e2bd3":"#Data Preprocessing : One Hot Encoding\nencoded_ipl=pd.get_dummies(data=ipl_data,columns=['bat_team','bowl_team'])","5e80a9c8":"encoded_ipl.head(5)","e04547b6":"#Rearranging Dataset\nencoded_ipl.columns","11ea4289":"encoded_ipl=encoded_ipl[['date', 'runs', 'wickets', 'overs', 'runs_last_5', 'wickets_last_5',\n        'bat_team_Chennai Super Kings', 'bat_team_Delhi Daredevils',\n       'bat_team_Kings XI Punjab', 'bat_team_Kolkata Knight Riders',\n       'bat_team_Mumbai Indians', 'bat_team_Rajasthan Royals',\n       'bat_team_Royal Challengers Bangalore', 'bat_team_Sunrisers Hyderabad',\n       'bowl_team_Chennai Super Kings', 'bowl_team_Delhi Daredevils',\n       'bowl_team_Kings XI Punjab', 'bowl_team_Kolkata Knight Riders',\n       'bowl_team_Mumbai Indians', 'bowl_team_Rajasthan Royals',\n       'bowl_team_Royal Challengers Bangalore',\n       'bowl_team_Sunrisers Hyderabad','total']]","98fdc5c5":"x_train=encoded_ipl.drop(labels='total',axis=1)[encoded_ipl['date'].dt.year<=2016]\nx_test=encoded_ipl.drop(labels='total',axis=1)[encoded_ipl['date'].dt.year>2016]\n","ba9e484c":"y_train=encoded_ipl[encoded_ipl['date'].dt.year<=2016]['total'].values\ny_test=encoded_ipl[encoded_ipl['date'].dt.year>2016]['total'].values","1d52fc90":"#remove date column\nx_train.drop(labels='date',axis=True,inplace=True)\nx_test.drop(labels='date',axis=True,inplace=True)","e765fb48":"from sklearn.linear_model import LinearRegression\n\nlr=LinearRegression()\nlr.fit(x_train,y_train)\n","a25e561e":"y_pred=lr.predict(x_test)","7d1bb539":"import seaborn as sns\nsns.distplot(y_test-y_pred)","0fb12a3c":"# Creating a pickle file for the classifier\nfilename = 'first-innings-score-lr-model.pkl'\npickle.dump(regressor, open(filename, 'wb'))\n\n","f7d67268":"from sklearn import metrics\nprint('Mean Absolute Error :',(metrics.mean_absolute_error(y_test,y_pred)))","5e740d35":"# **Import Ipl Dataset**","2c3a50f3":"# Model Building\n ","e887d49d":"# Train Test Split","d44c3575":"Linear Regression","db5670d1":"# Data Cleaning Process"}}