{"cell_type":{"78f40c45":"code","32b8b884":"code","9a585675":"code","7d21660a":"code","3aa91ec9":"code","d40b241c":"code","0d5f4ef3":"code","01d1944c":"code","b70c5f6f":"code","7103667e":"markdown"},"source":{"78f40c45":"import os\nimport numpy as np\nimport pandas as pd\nfrom itertools import cycle, chain\naminer_dir = '..\/input\/'","32b8b884":"with open(os.path.join(aminer_dir, 'AMiner-Author.txt'), 'r') as f:\n    dict_list = []\n    c_dict = {}\n    for i, line in enumerate(f):\n        c_line = line.strip()[1:].strip()\n        if len(c_line)<1:\n            if len(c_dict)>0:\n                dict_list += [c_dict]\n            c_dict = {}\n        else:\n            c_frag = c_line.split(' ')\n            c_dict[c_frag[0]] = ' '.join(c_frag[1:])","9a585675":"author_df = pd.DataFrame(dict_list)\nauthor_df.rename({'a': 'Affiliation',\n                 'n': 'Author', \n                 'pc': 'Papers',\n                 'cn': 'Citations',\n                  'hi': 'H-index',\n                  't': 'research interests'\n                 }, axis=1, inplace=True)\nauthor_df.to_csv('author_combined.csv')\nauthor_df.sample(3)","7d21660a":"print(author_df.shape[0], 'authors')\nzrh_match = author_df['Affiliation'].map(lambda x: 'ZURICH' in x.upper())\nuzh_match = author_df['Affiliation'].map(lambda x: 'UNIVERSITY OF ZURICH' in x.upper())\nprint(zrh_match.sum(), 'in zurich')\nprint(uzh_match.sum(), 'at uzh')","3aa91ec9":"author_df[uzh_match].sample(3)","d40b241c":"major_keywords = author_df[uzh_match]['research interests'].\\\n    map(lambda x: x.split(';')).\\\n    values.tolist()\nmajor_keywords = pd.DataFrame({'keyword': list(chain(*major_keywords))})\nmajor_keywords.\\\n    groupby('keyword').\\\n    size().\\\n    reset_index(name='count').\\\n    sort_values('count', ascending=False).\\\n    head(12).\\\n    plot.bar(x='keyword', y='count')","0d5f4ef3":"author_df[uzh_match].sample(5)['Affiliation'].values","01d1944c":"author_df[uzh_match].head(10)","b70c5f6f":"author_df[zrh_match & author_df['Author'].map(lambda x: 'KEVIN' in x.upper())]","7103667e":"# Process Author Data\nHere we read in the author table as described here\n```\n#index ---- index id of this author\n#n ---- name  (separated by semicolons)\n#a ---- affiliations  (separated by semicolons)\n#pc ---- the count of published papers of this author\n#cn ---- the total number of citations of this author\n#hi ---- the H-index of this author\n#pi ---- the P-index with equal A-index of this author\n#upi ---- the P-index with unequal A-index of this author\n#t ---- research interests of this author  (separated by semicolons)\n```"}}