{"cell_type":{"b720c61b":"code","c9ea7cfd":"code","c567c473":"code","88c3c4ad":"code","533f21bd":"code","d52a12c8":"code","119c7815":"code","390b79ae":"code","dae5e2f8":"code","8db3f048":"code","4e5c1a03":"code","3841cb5a":"code","2cc5fe55":"code","e604f8a5":"code","08658db3":"code","7754e847":"code","ac207efb":"code","a27597d7":"code","ee7a84f9":"code","db9a0d62":"code","117c8ce3":"code","fd60503c":"code","a573abf5":"code","88b91b8a":"code","adad327c":"code","e48e25cc":"code","2f6ac797":"code","ee0f6e89":"code","2e284f9d":"code","d60374c1":"code","5db04095":"code","a050d936":"code","3037a81c":"code","3bd9227c":"code","5b59c82a":"code","297cb34a":"code","93df7fb7":"code","4aeb1ccd":"code","0b7448a1":"markdown","5f47c6d4":"markdown","ba913a0f":"markdown","b1edcf6b":"markdown","29d8a237":"markdown","cb0bc45a":"markdown","66347ccf":"markdown","71f42bfb":"markdown","29796a37":"markdown","4409418e":"markdown","a0036d4e":"markdown","6b0eb78e":"markdown","33155d33":"markdown","4124a300":"markdown","fad15c21":"markdown","1f4bfebd":"markdown","19a52f7b":"markdown","72752da4":"markdown","21bf7e8d":"markdown","0a88496b":"markdown","e7154e96":"markdown","3003e0a9":"markdown","367ab300":"markdown","06d86f12":"markdown"},"source":{"b720c61b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c9ea7cfd":"#import the relevant librarires\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set()","c567c473":"#load the data\ndata= pd.read_csv('\/kaggle\/input\/netflix-shows\/netflix_titles.csv')\ndata","88c3c4ad":"#copy the data in the variable called netflix\nnetflix= data.copy()","533f21bd":"#extract the year and month from the \"date_added\" column\nnetflix[\"date_added\"]=pd.to_datetime(netflix[\"date_added\"])\nnetflix[\"year_added\"]=netflix[\"date_added\"].dt.year\nnetflix[\"month_added\"]=netflix[\"date_added\"].dt.month","d52a12c8":"#bar chart showing the count of TV Shows and Movies on netflix platform\nsns.countplot(x=netflix['type'], data= netflix,palette=[\"#000000\",'#E50914']).set(title='COUNT OF TV SHOWS AND MOVIES ON NETFLIX')","119c7815":"#create a data frame having years in chronological order\ntype_trend= pd.DataFrame({'Year':np.sort(netflix['year_added'].unique())})","390b79ae":"#create separate list for movies and tv shows containing their frequencies according to years. \nmovie_count=[]\nfor i in np.sort(netflix['year_added'].unique()):\n    movie_count.append(np.argwhere((netflix['year_added'].to_numpy()==i)&(netflix['type'].to_numpy()=='Movie')).shape[0])\n    \n    \ntvshow_count=[]\nfor i in np.sort(netflix['year_added'].unique()):\n    tvshow_count.append(np.argwhere((netflix['year_added'].to_numpy()==i)&(netflix['type'].to_numpy()=='TV Show')).shape[0])","dae5e2f8":"#add the newly made columns to the dataframe\ntype_trend['Tv show']= tvshow_count\ntype_trend['movie']= movie_count\nplot=type_trend\nplot","8db3f048":"#create a stacked area chart depicting the yearly trend of Movies and TV Shows on netflix.\nplt.stackplot(plot['Year'],plot['Tv show'],plot['movie'], colors =[\"#000000\",'#E50914'])\nplt.legend(labels=['TV Show','Movies'], loc=\"upper left\")\nplt.title(\"YEARLY TREND OF MOVIES AND TV SHOWS ON NETFLIX\",FONTSIZE=15)\nplt.xlabel(\"YEARS\")\nplt.ylabel(\"FREQUENCY\")","4e5c1a03":"#top 5 TV Shows genres on netflix on the basis of their appearance\ntv_genre=[]\nfor i in range(netflix[\"listed_in\"].shape[0]):\n    if netflix[\"type\"][i]==\"TV Show\":\n        a=str(netflix[\"listed_in\"][i]).split(\",\")\n        for j in range(len(a)):\n            a[j]=a[j].lstrip()\n        tv_genre+=a\ntop_tv_genre=pd.Series(tv_genre)\ntop_tv_genre.value_counts().head(5)","3841cb5a":"#top 5 Movies genres on netflix on the basis of their appearance\nmovie_genre=[]\nfor i in range(netflix[\"listed_in\"].shape[0]):\n    if netflix[\"type\"][i]==\"Movie\":\n        b=str(netflix[\"listed_in\"][i]).split(\",\")\n        for j in range(len(b)):\n            b[j]=b[j].lstrip()\n        movie_genre+=b\ntop_movie_genre=pd.Series(movie_genre)\ntop_movie_genre.value_counts().head(5)\n","2cc5fe55":"#top 10 actors on netflix on the basis of their appearance\nactors=[]\nfor i in range(netflix[\"cast\"].shape[0]):\n    c=str(netflix[\"cast\"][i]).split(\",\")\n    actors+=c\ntop_actors=pd.Series(actors)\ntop_actors.value_counts().head(11)","e604f8a5":"#top 10 directors on netflix on the basis of their appearances\ndirectors=[]\nfor i in range(netflix[\"director\"].shape[0]):\n    d=str(netflix[\"director\"][i]).split(\",\")\n    directors+=d\ntop_directors=pd.Series(directors)\ntop_directors.value_counts().head(11)\n","08658db3":"#evaluating the difference between release of content and its inclusion on netflix platform\nnetflix[\"difference\"]=netflix[\"year_added\"]-netflix[\"release_year\"]","7754e847":"#curve showing the frequency of difference between release of content and its inclusion on netflix platform\nsns.distplot(netflix[\"difference\"].dropna(), color='#E50914').set(title=\"DIFFERENCE BETWEEN CONTENT RELEASE AND INCLUSION ON NETFLIX\",xlabel='DIFFERENCE',ylabel='DENSITY')\n","ac207efb":"netflix_color=[\"#000000\",\"#161A1D\",\"#261C21\",\"#2B2D42\",\"#5F181B\",\"#86090B\",\"#D91C1F\",\"#E5383B\",\"#B1A7A6\",\"#D3D3D3\",\"#8D99AE\",'#F5F3F4','#FFFFFF']","a27597d7":"#bar chart showing frequency of content rating\nplt.grid(False)\nplt.barh(netflix[\"rating\"].value_counts().index,netflix[\"rating\"].value_counts().values, color=netflix_color)\nplt.title(\"DISTRIBUTION OF RATINGS\",fontsize=15)\nplt.xlabel(\"COUNT\")\nplt.ylabel(\"RATING\")","ee7a84f9":"#create a list showing duration of each movie on netflix platform\nduration_movie=[]\nfor i in range(netflix[\"duration\"].shape[0]):\n    if netflix[\"type\"][i]==\"Movie\":\n        duration_movie.append(netflix['duration'][i])\n\nduration_movie_num=[]\nfor j in range(len(duration_movie)):\n    duration_movie_num.append(int(duration_movie[j].split(\" \")[0]))","db9a0d62":"#curve showing the distribution of movie duration on netflix \nsns.distplot(duration_movie_num, color='#E50914').set(title=\"DISTRIBUTION OF MOVIE DURATION ON NETFLIX\",xlabel='DURATION',ylabel='DENSITY')","117c8ce3":"#create a list showing duration of each TV Show on netflix platform\nduration_tv=[]\nfor i in range(netflix[\"duration\"].shape[0]):\n    if netflix[\"type\"][i]==\"TV Show\":\n        duration_tv.append(netflix['duration'][i])\n\nduration_tv_num=[]\nfor j in range(len(duration_tv)):\n    duration_tv_num.append(int(duration_tv[j].split(\" \")[0]))\n#bar plot showing the distribution of TV Show duration on netflix\nsns.countplot(duration_tv_num, palette=[\"#161A1D\",\"#5F181B\",\"#86090B\",\"#D91C1F\",\"#E5383B\",\"#B1A7A6\",\"#D3D3D3\",\"#8D99AE\",'#F5F3F4','#FFFFFF']).set(title=\"DISTRIBUTION OF TV SHOW DURATION ON NETFLIX\",xlabel='DURATION',ylabel='COUNT')","fd60503c":"# to check how frequent a country's content gets added on netflix.\ncountry=[]\nfor i in range(netflix[\"country\"].shape[0]):\n    e=str(netflix[\"country\"][i]).split(\",\")\n    for j in range(len(e)):\n        e[j]=e[j].lstrip()\n    country+=e\ncountry_final=pd.Series(country)\ncountry_final.value_counts()","a573abf5":"#laod the file containing the country codes which will later be used to create map.\ncountry_codes= pd.read_csv('..\/input\/iso-country-codes-global\/wikipedia-iso-country-codes.csv')\ncountry_codes=country_codes.rename({'English short name lower case':'Country'},axis='columns')\ncountry_codes","88b91b8a":"#create a dataframe containing country columns and their corresponding frequencies.\ncountry= pd.DataFrame({'Country':country_final.value_counts().index, 'Frequency':country_final.value_counts().values })\n#add corresponding country codes \nlocation= pd.merge(country, country_codes[country_codes['Country'].isin(country['Country'])], how='left', on=['Country'])","adad327c":"#import relevant libraries for creating world map \nimport plotly.express as px\nimport plotly.graph_objects as go","e48e25cc":"#create a world map showing the contribution of countries towards content on netflix. \nfig = px.choropleth(location, locations=\"Alpha-3 code\",\n                    color=\"Frequency\",\n                    hover_name=\"Country\",\n                    title=\"Production Location Frequency of the Netflix Contents\",\n                    color_continuous_scale=px.colors.sequential.amp)\nfig.show()","2f6ac797":"#import relevant library for wordcloud\nfrom wordcloud import WordCloud, STOPWORDS","ee0f6e89":"#create a single string of all descriptions.\ntext=''\nfor i in range(netflix['description'].shape[0]):\n    text= text + netflix['description'][i]","2e284f9d":"#create wordcloud of description\nwordcloud = WordCloud(background_color=\"black\",\n                      width=1600, height=800, stopwords= set(STOPWORDS),colormap='inferno').generate(text)\nplt.figure( figsize=(10,10) );\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()","d60374c1":"#heatmap showing the correlation between different genres. \nfrom sklearn.preprocessing import MultiLabelBinarizer\ndf= pd.DataFrame()\ndf['genre'] = netflix['listed_in'].apply(lambda x :  x.replace(' ,',',').replace(', ',',').split(',')) \ntest = df['genre']\nmlb = MultiLabelBinarizer()\nres = pd.DataFrame(mlb.fit_transform(test), columns=mlb.classes_, index=test.index)\ncorr = res.corr()\nmask = np.zeros_like(corr, dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\nplt.figure(figsize=(16,14))\nsns.heatmap(corr, mask=mask, cmap= \"Reds\", vmax=.5, vmin=-.5, center=0, square=True, linewidths=.7, cbar_kws={\"shrink\": 0.7})\nplt.title(\"CORRELATION BETWEEN DIFFERENT GENRE\", fontsize=16)\nplt.show()\n","5db04095":"#create a dataframe with \"year\" and \"release_year\" column\ncontent= pd.DataFrame({'Type': netflix['type'],'Year': netflix['release_year']})\ncontent","a050d936":"#boxplot showing how old\/new the content is on netflix platform\nfig = px.violin(content, y=\"Year\", x=\"Type\", color=\"Type\", box=True, points=\"all\",\n          hover_data=content.columns,title='FRESHNESS OF CONTENT ON NETFLIX', color_discrete_map={'TV Show':\"#000000\",'Movie':'#E50914'})\nfig.show()","3037a81c":"#map the rating from 0-7 going from premature to mature audience. \nnetflix[\"rating_score\"]=netflix[\"rating\"].map({\"TV-Y\":0,\"UR\":0,\"NR\":0,\"TV-Y7\":1,\"TV-Y7-FV\":2,\"TV-G\":3,\"G\":3,\"TV-PG\":4,\"PG\":4,\"TV-14\":5,\"PG-13\":5,\"R\":6,\"TV-MA\":7,\"NC-17\":7})","3bd9227c":"#taking a random sample of 100 units from the ratings column.\nrandom_sample=netflix['rating_score'].sample(n=100,random_state=1)\n","5b59c82a":"#import relevants library for z test\nimport statsmodels.stats.weightstats","297cb34a":"#Performing the z test\nstatsmodels.stats.weightstats.ztest(random_sample,value=2,alternative =\"larger\")","93df7fb7":"#create dataframe called rating_trend having years in a column and corresponding frequencies of kids and movies ratings\nnetflix[\"ratings_sensitivity\"]=np.where(np.isin(netflix[\"rating_score\"],[0,1,2]),\"kids\",\"adults\")\nrating_trend= pd.DataFrame({'Year':np.sort(netflix['year_added'].unique())})\nkids_count=[]\nfor i in np.sort(netflix['year_added'].unique()):\n    kids_count.append(np.argwhere((netflix['year_added'].to_numpy()==i)&(netflix['ratings_sensitivity'].to_numpy()=='kids')).shape[0])\n    \n    \nadult_count=[]\nfor i in np.sort(netflix['year_added'].unique()):\n    adult_count.append(np.argwhere((netflix['year_added'].to_numpy()==i)&(netflix['ratings_sensitivity'].to_numpy()=='adults')).shape[0])\n    \n    \nrating_trend['Kids']= kids_count\nrating_trend['Adults']= adult_count\nplot=rating_trend.dropna()","4aeb1ccd":"#line chart showing the distribution of ratings over the years.\nplt.plot(plot['Year'],plot['Kids'], color='k')\nplt.plot(plot['Year'],plot['Adults'], color='r')\nplt.legend(labels=[\"Kids\",\"Adults\"],loc=\"upper left\")\nplt.title(\"DISTRIBUTION OF RATINGS OVER THE YEAR\")\nplt.xlabel(\"YEARS\")\nplt.ylabel(\"FREQUENCY\")","0b7448a1":"### GETTING STARTED\n","5f47c6d4":"Most of the TV shows have either 1 or 2 seasons. Although there are shows with even more than 10 seasons but there number is almost inconsiderable.","ba913a0f":"The graph shows that Netflix released a lot of Movies between the year 2017-2020 on its platform. The number of TV shows also increased for Netflix users. However, 2018 onwards, the growth in number of TV Shows is more when compared to Movies, showing an increasing trend of binge watching.","b1edcf6b":"The volume of Kids and Adult rated content remained almost same before year 2015. However after that, there is an increasing trend of Adult content being made avaliable on Netflix platform.","29d8a237":"International movies, Drama, Comedy, Documentaries are among the most popular genre on Netflix for Movies","cb0bc45a":"The above heatmap shows correlation between different categories of Genre. The dark cells shows that the corresponding Genres are highly positively correlated and vice versa, for example Documentaries and Science & Nature TV are highly positively correlated indicating that most Documentaries also belong to the Genre of Science & Nature.","66347ccf":"**Drama & Comedy** remains among the top Genre on Netflix in terms of volume of content.","71f42bfb":"Null Hypotheses(H_0): Mean sample ratings is 2 i.e. $$ \\mu = 2$$<br>\nAlternative Hypootheses(H_1): Mean sample ratings is greater than 2 which means the content is directed towards the mature audience i.e. $$\\mu >2$$","29796a37":"Netflix released most of the content on it's platform within 4 years of their release, which indicates that the majority of the content is fresh. Although there is some content which is even around 50 years old too.","4409418e":"Most of the content available on Netflis is produced by United States, India & United Kingdom, followed by Canada.","a0036d4e":"Since the p value is very small which is lower than alpha(0.05), H_0 may be rejected.<br>\nThere is enough statistical evidence to conclude that content on netflix is directed towards mature audience. ","6b0eb78e":"The graph shows that Netflix offers more options for Movies as comapred to TV Shows.\nThe number of Movies are almost as twice as the number of TV Shows on Netflix.\n","33155d33":"### EXPLORATORY DATA ANALYSIS","4124a300":"**Jan Suter and Ra\u00fal Campos** are the top 2 Directors who have directed the most number of content available on Netflix.","fad15c21":"Since the sample size is large(>30) z test for single mean needs to be applied.","1f4bfebd":"**Anupam Kher** is the most popular actor in terms of volume of content on Netflix. \nAlso, 6 out of Top 10 actors belong to *India*, including actors like Shah Rukh Khan and Akshay Kumar.","19a52f7b":"Through the description of content, we see some words\/describing words being most popular about Netflix's content.","72752da4":"### PREPROCESSING","21bf7e8d":"### HYPOTHESES TESTING","0a88496b":"International shows, Drama, Comedy, Crime are among the most popular genre on Netflix for TV shows.","e7154e96":"The tail of the graph is at 100 which shows that mean duration of a movie on Netflix is approximately 100 minutes.","3003e0a9":"Most of the TV shows belongs to 21st century and are fresh, however there are some outiers showing that there are a few shows of mid 20th century too. In case of Movies, the content mostly belongs to 1980-2020 and a few outliers showing movies released in mid 20th century. The number of outliers are more in case of Movies but outliers are more widely spread in case of TV Shows.","367ab300":"To test whether the content on netflix is directed towards mature audience or not.<br>\nLevel of significance(alpha)= 0.05","06d86f12":"The graph shows that majority of the content on Netflis is Adult rated only, which shows that Netflix content is Kids sensitive."}}