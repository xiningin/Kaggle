{"cell_type":{"54d6469a":"code","d0ca3b72":"code","d504ed0b":"code","2052af5f":"code","4f5dec11":"code","0ff5a4f6":"code","16dac076":"code","b8589c59":"code","dc8a0d6c":"code","7f163e36":"code","0f933702":"code","140fc073":"code","aee09242":"code","1cd0f59c":"code","bf5f768d":"code","e998504f":"code","82150d1a":"code","bdfc8ccb":"code","ee54a6d2":"code","eae5346d":"code","7830ccaa":"code","17842984":"code","c761f418":"code","17c89f18":"code","89790de6":"code","cb5e495a":"code","d2b76835":"code","016e253f":"code","443c01e9":"code","82120b9b":"code","33634f12":"code","4978f8c2":"code","553856d8":"code","d3e21e29":"code","c4ecf0c1":"code","ace9e6e0":"code","c808f521":"code","215628d4":"code","55214b03":"code","b2470d63":"code","556366b4":"code","25a16816":"code","011c6984":"code","0979a7b3":"code","f32afc94":"code","02ed1488":"code","c96fd4e1":"code","bddccb1f":"markdown","d0b7e115":"markdown","0795dfaf":"markdown","8aafafbf":"markdown","ae8be3e1":"markdown","34c36773":"markdown","07d5d60f":"markdown","5d2c36ec":"markdown","27266a42":"markdown","cb0aff5a":"markdown","70b4bb5d":"markdown"},"source":{"54d6469a":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","d0ca3b72":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport re\nimport seaborn as sns\nfrom collections import Counter","d504ed0b":"from sklearn.linear_model import LinearRegression,LogisticRegression\nfrom sklearn.tree import DecisionTreeRegressor\nimport warnings\nwarnings.filterwarnings('ignore')","2052af5f":"agegrp=pd.read_csv('..\/input\/covid19-in-india\/AgeGroupDetails.csv')\ncovidindia=pd.read_csv('..\/input\/covid19-in-india\/covid_19_india.csv')\nhospitalbeds=pd.read_csv('..\/input\/covid19-in-india\/HospitalBedsIndia.csv')\nindividualdetails=pd.read_csv('..\/input\/covid19-in-india\/IndividualDetails.csv')","4f5dec11":"agegrp.head()","0ff5a4f6":"agegrp.info()","16dac076":"hospitalbeds=hospitalbeds[:-2]\nhospitalbeds.fillna(0,inplace=True)\nhospitalbeds","b8589c59":"hospitalbeds.info()","dc8a0d6c":"for col in hospitalbeds.columns[2:]:\n    if hospitalbeds[col].dtype=='object':\n        hospitalbeds[col]=hospitalbeds[col].astype('int64')","7f163e36":"covidindia['Date']=pd.to_datetime(covidindia['Date'])","0f933702":"gender=individualdetails.gender\ngender.dropna(inplace=True)\ngender=gender.value_counts()\nper=[]\nfor i in gender:\n    perc=i\/gender.sum()\n    per.append(format(perc,'.2f'))\nplt.figure(figsize=(10,6))    \nplt.title('Case comparison according to gender',fontsize=20)\nplt.pie(per,autopct='%1.1f%%')\nplt.legend(gender.index,loc='best',title='Gender',fontsize=15)","140fc073":"perc=[]\nfor i in agegrp['Percentage']:\n    per=float(re.findall(\"\\d+\\.\\d+\",i)[0])\n    perc.append(per)\nagegrp['Percentage']=perc\nplt.figure(figsize=(20,10))\nplt.title('Case percentage in the age group',fontsize=20)\nplt.pie(agegrp['Percentage'],autopct='%1.1f%%')\nplt.legend(agegrp['AgeGroup'],loc='best',title='Age Group')","aee09242":"plt.figure(figsize=(20,10))\nplt.style.use('ggplot')\nplt.title('Case comparison in different age group',fontsize=30)\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.xlabel('Age Group',fontsize=20)\nplt.ylabel('Confirmed Cases',fontsize=20)\nplt.bar(agegrp['AgeGroup'],agegrp['TotalCases'],color=['Red','green','skyblue','orange','hotpink'],linewidth=3)\nfor i, j in enumerate(agegrp['TotalCases']):\n    plt.text(i-.25, j,\n              agegrp['TotalCases'][i], \n              fontsize=20 )","1cd0f59c":"top=hospitalbeds.nlargest(20,'NumPrimaryHealthCenters_HMIS')\n\nplt.figure(figsize=(20,20))\nplt.title('Top States with number of Primary health centres',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Number of Primary Health centers',fontsize=25)\nplt.ylabel('States',fontsize=25)\nplt.barh(top['State\/UT'],top['NumPrimaryHealthCenters_HMIS'],color='blue',linewidth=1)","bf5f768d":"top=hospitalbeds.nlargest(20,'NumDistrictHospitals_HMIS')\n\nplt.figure(figsize=(20,20))\nplt.title('Top States with number of District Hospitals',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Number of District Hospitals',fontsize=25)\nplt.ylabel('States',fontsize=25)\nplt.barh(top['State\/UT'],top['NumDistrictHospitals_HMIS'],color='yellow',linewidth=3)","e998504f":"top=hospitalbeds.nlargest(20,'NumCommunityHealthCenters_HMIS')\n\nplt.figure(figsize=(20,20))\nplt.title('Top States with number of Community health centres',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Number of Community Health centers',fontsize=25)\nplt.ylabel('States',fontsize=25)\nplt.barh(top['State\/UT'],top['NumCommunityHealthCenters_HMIS'],color='green',linewidth=3)","82150d1a":"top=hospitalbeds.nlargest(20,'NumRuralHospitals_NHP18')\n\nplt.figure(figsize=(20,20))\nplt.title('Top States with total number of Rural Hospitals',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Number of Rural Hospitals',fontsize=25)\nplt.ylabel('States',fontsize=25)\nplt.barh(top['State\/UT'],top['NumRuralHospitals_NHP18'],color='skyblue',linewidth=3)","bdfc8ccb":"top=hospitalbeds.nlargest(20,'NumUrbanHospitals_NHP18')\n\nplt.figure(figsize=(20,20))\nplt.title('Top States with total number of Urban Hospitals',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Number of Urban Hospitals',fontsize=25)\nplt.ylabel('States',fontsize=25)\nplt.barh(top['State\/UT'],top['NumUrbanHospitals_NHP18'],color='hotpink',linewidth=3)","ee54a6d2":"df1=covidindia.groupby('Date')[['Cured','Deaths','Confirmed']].sum()","eae5346d":"plt.figure(figsize=(20,10))\nplt.style.use('ggplot')\nplt.title('Observed Cases',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Date',fontsize=20)\nplt.ylabel('Number of cases',fontsize=20)\nplt.plot(df1.index,df1['Confirmed'],linewidth=3,label='Confirmed',color='blue')\nplt.plot(df1.index,df1['Cured'],linewidth=3,label='Cured',color='green')\nplt.plot(df1.index,df1['Deaths'],linewidth=3,label='Deceased',color='red')\nplt.legend(fontsize=20)","7830ccaa":"df2=covidindia.groupby('State\/UnionTerritory')[['Cured','Deaths','Confirmed']].sum()","17842984":"df2=df2.nlargest(20,'Confirmed')\nplt.figure(figsize=(20,10))\nplt.title('top states with confirmed cases',fontsize=30)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('State',fontsize=20)\nplt.ylabel('Cases',fontsize=20)\nplt.plot(df2.index,df2.Confirmed,marker='o',mfc='black',label='Confirmed',markersize=10,linewidth=1,color='blue')\nplt.plot(df2.index,df2.Deaths,marker='o',mfc='black',label='Deaths',markersize=10,linewidth=1,color='red')\nplt.plot(df2.index,df2.Cured,marker='o',mfc='black',label='Cured',markersize=10,linewidth=1,color='green')\nplt.legend(fontsize=20)","c761f418":"perc=[]\nfor i in df2.Confirmed:\n    per=i\/len(df2)\n    perc.append(i)\nplt.figure(figsize=(25,10))    \nplt.title('Top states with confirmed cases with Percentage distribution ',fontsize=20)\nplt.pie(perc,autopct='%1.1f%%')\nplt.legend(df2.index,loc='upper right')","17c89f18":"covidindia.isnull().sum()","89790de6":"covidindia[\"ConfirmedForeignNational\"]=covidindia['ConfirmedForeignNational'].replace('-',0,inplace=True)\ncovidindia[\"ConfirmedIndianNational\"]=covidindia['ConfirmedIndianNational'].replace('-',0,inplace=True)","cb5e495a":"covidindia.isnull().sum()","d2b76835":"covidindia['ConfirmedIndianNational']=covidindia['ConfirmedIndianNational'].astype('float64')\ncovidindia['ConfirmedForeignNational']=covidindia['ConfirmedForeignNational'].astype('float64')","016e253f":"df3=covidindia.groupby('State\/UnionTerritory')[['ConfirmedIndianNational','ConfirmedForeignNational']].sum()","443c01e9":"df4=df3.nlargest(20,'ConfirmedIndianNational')\ndf5=df3.nlargest(20,'ConfirmedForeignNational')","82120b9b":"plt.figure(figsize=(30,15))\nplt.suptitle('Case comparison of indian national and foreign national',fontsize=40)\nplt.subplot(121)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.barh(df4.index,df4.ConfirmedIndianNational,color='hotpink',linewidth=3)\nplt.subplot(122)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.barh(df5.index,df5.ConfirmedForeignNational,color='cyan',linewidth=3)","33634f12":"plt.figure(figsize=(30,50))\nplt.subplot(311)\nplt.title('Confirmed Cases',fontsize=28)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=25)\nplt.bar(df2.index,df2.Confirmed,color='red',linewidth=5)\nplt.subplot(312)\nplt.title('Cured Cases',fontsize=28)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=25)\nplt.bar(df2.index,df2.Cured,color='green',linewidth=5)\nplt.subplot(313)\nplt.title('Deaths Cases',fontsize=28)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=25)\nplt.bar(df2.index,df2.Deaths,color='blue',linewidth=5)","4978f8c2":"el=sns.catplot(x='State\/UnionTerritory',y='Confirmed',kind='boxen',data=covidindia)\nel.fig.set_figwidth(20)\nel.fig.set_figheight(8)\nel.set_xticklabels(rotation=90,fontsize=15)","553856d8":"el=sns.catplot(x='State\/UnionTerritory',y='Cured',kind='boxen',data=covidindia)\nel.fig.set_figwidth(20)\nel.fig.set_figheight(8)\nel.set_xticklabels(rotation=90,fontsize=15)","d3e21e29":"el=sns.catplot(x='State\/UnionTerritory',y='Deaths',kind='boxen',data=covidindia)\nel.fig.set_figwidth(20)\nel.fig.set_figheight(8)\nel.set_xticklabels(rotation=90,fontsize=15)","c4ecf0c1":"from sklearn.preprocessing import LabelEncoder\nlbl=LabelEncoder()\ncovidindia['State\/UnionTerritory']=lbl.fit_transform(covidindia['State\/UnionTerritory'])","ace9e6e0":"covidindia[\"ConfirmedForeignNational\"]=covidindia['ConfirmedForeignNational'].fillna(0,inplace=False)\ncovidindia[\"ConfirmedIndianNational\"]=covidindia['ConfirmedIndianNational'].fillna(0,inplace=False)","c808f521":"covidindia.isnull().sum()","215628d4":"covidindia['Date']=covidindia['Date'].astype('datetime64[ns]')","55214b03":"covidindia['date']=covidindia['Date'].dt.day\ncovidindia['month']=covidindia['Date'].dt.month","b2470d63":"covidindia","556366b4":"linear=LinearRegression()\nlogistic=LogisticRegression()\ntree=DecisionTreeRegressor()","25a16816":"from sklearn.model_selection import train_test_split\nx=covidindia[['State\/UnionTerritory','date','month','Cured','Deaths','ConfirmedIndianNational','ConfirmedForeignNational']]\ny=covidindia['Confirmed']\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2,random_state=0)","011c6984":"linear.fit(x_train,y_train)\nlogistic.fit(x_train,y_train)\ntree.fit(x_train,y_train)","0979a7b3":"from sklearn.metrics import r2_score\nprediction=logistic.predict(x_test)\nscore1=r2_score(y_test,prediction)","f32afc94":"prediction=linear.predict(x_test)\nscore2=r2_score(y_test,prediction)","02ed1488":"prediction=tree.predict(x_test)\nscore3=r2_score(y_test,prediction)","c96fd4e1":"scores=[score1,score2,score3]\nmodels=['LogisticRegression','LinearRegression','DecisionTreeRegressor']\nplt.figure(figsize=(10,10))\nplt.title('Accuracy comparison of Logistic Regression vs Linear Regression vs Decision tree models',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('models',fontsize=30)\nplt.ylabel('Accuracy',fontsize=30)\nplt.bar(models,scores,color=['blue','cyan','hotpink'],alpha=0.5,linewidth=4,edgecolor='black')\nfor i,v in enumerate(scores):\n    plt.text(i-.15,v+.03,format(scores[i],'.2f'),fontsize=20)","bddccb1f":"# Date coverted to Datetime attributes","d0b7e115":"# Prediction","0795dfaf":"# Model selection","8aafafbf":"# Accuracy Comparison","ae8be3e1":"# Loading COVID-IN-INDIA dataset files","34c36773":"# Label Encoding","07d5d60f":"# Visualizations","5d2c36ec":"# Fitting models","27266a42":"# Filling  missing values","cb0aff5a":"#  **Importing Libraries**","70b4bb5d":"# Splitting traing and testing data (80:20)"}}