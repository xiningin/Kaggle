{"cell_type":{"091ff290":"code","61b1cddf":"code","189f4002":"code","6990b244":"code","eefaa3f3":"code","db7a878f":"code","fb317f87":"code","a0e4e677":"code","ed80ce67":"code","ee5ffcec":"code","85bdbe22":"code","cef79a98":"code","d5afa20d":"code","df7dd131":"code","7a4f9ae7":"code","7a4d136b":"code","b10df58a":"code","9807e92d":"code","7872a579":"code","26baf0e2":"code","677f8402":"code","f52bfa0b":"code","8e4af8e4":"code","0996a21b":"markdown","f66eac06":"markdown","78254adf":"markdown","a9f7e6c2":"markdown","1cd50729":"markdown","2f6ced50":"markdown","7b9ba9d8":"markdown","d9d8cad0":"markdown","be56b1fa":"markdown","01d0f1a3":"markdown","c4197cd1":"markdown","7a5219c9":"markdown","49a8d42a":"markdown","674fb71e":"markdown","1258b0d1":"markdown","7a228d60":"markdown","bc205dce":"markdown","4039e869":"markdown","66917029":"markdown","688d960a":"markdown","43123751":"markdown","44ad5ba9":"markdown","4547cc2c":"markdown","0cbd7c0d":"markdown","220bfc91":"markdown","1ac212ac":"markdown"},"source":{"091ff290":"# First, we'll import pandas, a data processing and CSV file I\/O library\nimport pandas as pd\n\n# We'll also import seaborn, a Python graphing library\nimport warnings # current version of seaborn generates a bunch of warnings that we'll ignore\nwarnings.filterwarnings(\"ignore\")\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nsns.set(style=\"white\", color_codes=True)\nimport plotly.express as px","61b1cddf":"# importing raw data\n# ..\/input\/fabfinancialdata\/FAB_financial_data.xls\nquar_data = pd.read_excel('..\/input\/FAB_financial_data.xls', sheet_name='FAB Quarterly Financial Data')\nannual_data = pd.read_excel('..\/input\/FAB_financial_data.xls', sheet_name='FAB Annual Financial Data')","189f4002":"# visualizing top 5 observations\nquar_data.head()","6990b244":"# dropping the unit column\nquar_data.drop('Unit', axis=1, inplace=True)\n# Transposing the dataframe\nquar_data_T = quar_data.T\nnew_header = quar_data_T.iloc[0] #grab the first row for the header\nquar_data_T = quar_data_T[1:] #take the data less the header row\nquar_data_T.columns = new_header #set the header row as the df header\nquar_data_T.reset_index(inplace=True)\n","eefaa3f3":"# Renaming Columns\nquar_data_T.columns = ['Quarter', 'Net interest Income', 'Non-interest income',\n       'Operating income', 'Operating expenses', 'Net impairment charges',\n       'Net profit for the period', 'Cash and balances with central banks',\n       'Due from banks and financial institutions',\n       'Reverse repurchase agreements', 'Loans and advances',\n       'Investments (Trading + Non-trading)', 'Investment properties',\n       'Intangibles', 'Total Assets',\n       'Due to banks and financial institutions', 'Repurchase Agreements',\n       'Commercial paper', 'Customers\u2019 deposits', 'Term borrowings',\n       'Total liabilities', 'Share capital (net of treasury shares)',\n       'Share Premium', 'Tier 1 capital notes', 'Total equity',\n       'Cost to income ratio (ex-integration cost)', 'Loans to Assets',\n       'Loans to Deposits', 'Capital Adequacy Ratio', 'Tier -I Ratio',\n       'Leverage ratio (Assets\/Equity)']","db7a878f":"quar_data_T['Net Profit Growth Rate'] = quar_data_T['Net profit for the period'].pct_change()\nquar_data_T['Operating Income Growth Rate'] = quar_data_T['Operating income'].pct_change()\nquar_data_T['Customers\u2019 deposits Growth Rate'] = quar_data_T['Customers\u2019 deposits'].pct_change()\nquar_data_T['Loan Growth Rate'] = quar_data_T['Loans and advances'].pct_change()","fb317f87":"# Vizualising Transposed dataframe\nquar_data_T.head()","a0e4e677":"import plotly.graph_objects as go\n\nyears = quar_data_T['Quarter']\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Net interest Income'],\n                name='Net interest Income',\n                marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Non-interest income'],\n                name='Non-interest income',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Operating income'],\n                name='Operating income',\n                marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Operating expenses'],\n                name='Operating expenses',\n#                 marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Net impairment charges'],\n                name='Net impairment charges',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\n\nfig.update_layout(\n    title='Income and Expenses',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"AED '000\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    ),\n    barmode='group',\n    bargap=0.15, # gap between bars of adjacent location coordinates.\n    bargroupgap=0.1 # gap between bars of the same location coordinate.\n)\nfig.show()","ed80ce67":"# Income Breakdown For the latest Quarter Q1\/20\nlabels = ['Net interest Income', 'Non-interest income']\nvalues = [3061,1505]\n\nfig = go.Figure(data=[go.Pie(labels=labels, values=values)])\nfig.update_layout(\n    title='Income Breakdown For the latest Quarter Q1\/20')\nfig.show()","ee5ffcec":"years = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Net profit for the period'],\n                    mode='lines+markers',\n                         marker_color='rgb(55, 83, 109)',\n                    name='Net profit for the period'))\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Total Assets'],\n                    mode='lines+markers',\n                    name='Total Assets'))\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Total liabilities'],\n                    mode='lines+markers',\n                    name='Total liabilities'))\n\nfig.update_layout(\n    title='Net Profit, Total Assets & Total liabilities',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"AED '000\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","85bdbe22":"years = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Customers\u2019 deposits'],\n                    mode='lines+markers',\n                         marker_color='rgb(55, 83, 109)',\n                    name='Customers\u2019 deposits'))\n\nfig.update_layout(\n    title='Customers\u2019 deposits',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"Customers\u2019 deposits\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","cef79a98":"years = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Loans and advances'],\n                    mode='lines+markers',\n                    marker_color='rgb(55, 83, 109)',\n                    name='Loans and advances'))\n\nfig.update_layout(\n    title='Loans and advances',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"Loans and advances\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","d5afa20d":"import plotly.graph_objects as go\n\nyears = quar_data_T['Quarter']\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Cash and balances with central banks'],\n                name='Cash and balances with central banks',\n#                 marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Reverse repurchase agreements'],\n                name='Reverse repurchase agreements',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Loans and advances'],\n                name='Loans and advances',\n                marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Due from banks and financial institutions'],\n                name='Due from banks and financial institutions',\n#                 marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Investments (Trading + Non-trading)'],\n                name='Investments (Trading + Non-trading)',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Investment properties'],\n                name='Investment properties',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Intangibles'],\n                name='Intangibles',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\n\nfig.update_layout(\n    title='Asset Statement',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"AED '000\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    ),\n    barmode='group',\n    bargap=0.15, # gap between bars of adjacent location coordinates.\n    bargroupgap=0.1 # gap between bars of the same location coordinate.\n)\nfig.show()","df7dd131":"years = quar_data_T['Quarter']\n\nfig = go.Figure(data=[\n    go.Bar(name='Cash and balances with central banks', x=years, y=quar_data_T['Cash and balances with central banks']),\n    go.Bar(name='Reverse repurchase agreements', x=years, y=quar_data_T['Reverse repurchase agreements']),\n    go.Bar(name='Loans and advances', x=years, y=quar_data_T['Loans and advances']),\n    go.Bar(name='Due from banks and financial institutions', x=years, y=quar_data_T['Due from banks and financial institutions']),\n    go.Bar(name='Investments (Trading + Non-trading)', x=years, y=quar_data_T['Investments (Trading + Non-trading)']),\n    go.Bar(name='Investment properties', x=years, y=quar_data_T['Investment properties']),\n    go.Bar(name='Intangibles', x=years, y=quar_data_T['Intangibles'])\n])\n# Change the bar mode\nfig.update_layout(\n    title='Asset Statement (Stacked Representation)',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"AED '000\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    barmode='stack',\n    bargap=0.15, # gap between bars of adjacent location coordinates.\n    bargroupgap=0.1 # gap between bars of the same location coordinate.\n)\nfig.show()","7a4f9ae7":"\nlabels = ['Cash and balances with central banks',\n       'Due from banks and financial institutions',\n       'Reverse repurchase agreements', 'Loans and advances',\n       'Investments (Trading + Non-trading)', 'Investment properties',\n       'Intangibles']\nvalues = [176,35,24,382,133,9,19]\n\nfig = go.Figure(data=[go.Pie(labels=labels, values=values)])\nfig.update_layout(\n    title='Asset Breakdown For the latest Quarter Q1\/20')\nfig.show()","7a4d136b":"import plotly.graph_objects as go\n\nyears = quar_data_T['Quarter']\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Due to banks and financial institutions'],\n                name='Due to banks and financial institutions',\n#                 marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Repurchase Agreements'],\n                name='Repurchase Agreements',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Commercial paper'],\n                name='Commercial paper',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Customers\u2019 deposits'],\n                name='Customers\u2019 deposits',\n                marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Term borrowings'],\n                name='Term borrowings',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Share capital (net of treasury shares)'],\n                name='Share capital (net of treasury shares)',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Share Premium'],\n                name='Share Premium',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Tier 1 capital notes'],\n                name='Tier 1 capital notes',\n#                 marker_color='rgb(26, 118, 255)'\n                ))\n\nfig.update_layout(\n    title='Liabilities Statement',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"AED '000\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    ),\n    barmode='group',\n    bargap=0.15, # gap between bars of adjacent location coordinates.\n    bargroupgap=0.1 # gap between bars of the same location coordinate.\n)\nfig.show()","b10df58a":"\nlabels = ['Due to banks and financial institutions', 'Repurchase Agreements',\n       'Commercial paper', 'Customers\u2019 deposits', 'Term borrowings',\n        'Share capital (net of treasury shares)',\n       'Share Premium', 'Tier 1 capital notes']\nvalues = [60,48,17,497,57,11,53,11]\n\nfig = go.Figure(data=[go.Pie(labels=labels, values=values)])\nfig.update_layout(\n    title='Liabilities Breakdown For the latest Quarter Q1\/20')\nfig.show()","9807e92d":"years = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Cost to income ratio (ex-integration cost)'],\n                    mode='lines+markers',\n                    name='Cost to income ratio (ex-integration cost)'))\n\nfig.update_layout(\n    title='Efficiency',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"Cost to income ratio (ex-integration cost)\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","7872a579":"import plotly.graph_objects as go\n\nyears = quar_data_T['Quarter']\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x=years,\n                y=quar_data_T['Capital Adequacy Ratio'],\n                name='Capital Adequacy Ratio',\n                marker_color='rgb(55, 83, 109)'\n                ))\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Capital Adequacy Ratio'],\n                    mode='lines+markers',\n                    name='Capital Adequacy Ratio'))\n\nfig.update_layout(\n    title='Capital Adequacy Ratio',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"Capital Adequacy Ratio\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    ),\n    barmode='group',\n    bargap=0.15, # gap between bars of adjacent location coordinates.\n    bargroupgap=0.1 # gap between bars of the same location coordinate.\n)\nfig.show()","26baf0e2":"years = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Loans to Assets'],\n                    mode='lines+markers',\n                    name='Loans to Assets'))\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Loans to Deposits'],\n                    mode='lines+markers',\n                    marker_color='rgb(55, 83, 109)',\n                    name='Loans to Deposits'))\n\nfig.update_layout(\n    title='Liquidity',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"%\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","677f8402":"years = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Leverage ratio (Assets\/Equity)'],\n                    mode='lines+markers',\n                    name='Leverage ratio (Assets\/Equity)'))\n\nfig.update_layout(\n    title='Leverage ratio (Assets\/Equity)',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"%\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","f52bfa0b":"\nyears = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Net Profit Growth Rate'],\n                    mode='lines+markers',\n#                          marker_color='rgb(55, 83, 109)',\n                    name='Net Profit Growth Rate'))\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Operating Income Growth Rate'],\n                    mode='lines+markers',\n#                          marker_color='rgb(55, 83, 109)',\n                    name='Operating Income Growth Rate'))\n\n\nfig.update_layout(\n    title='Profit & Income Growth Rate',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"%\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","8e4af8e4":"\nyears = quar_data_T['Quarter']\n# Create traces\nfig = go.Figure()\n\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Customers\u2019 deposits Growth Rate'],\n                    mode='lines+markers',\n#                          marker_color='rgb(55, 83, 109)',\n                    name='Customers\u2019 deposits Growth Rate'))\nfig.add_trace(go.Scatter(x=years, y=quar_data_T['Loan Growth Rate'],\n                    mode='lines+markers',\n#                          marker_color='rgb(55, 83, 109)',\n                    name='Loans & Advances Growth Rate'))\n\n\nfig.update_layout(\n    title='Deposit & Loan Advances Growth Rate',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title=\"%\",\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\n\nfig.show()","0996a21b":"## 2. Breakdown of Income For the latest Quarter Q1\/20","f66eac06":"#### Asset Analysis Summary\n1. Loans and Advances, Cash and balances with Central Banks comprise of more than 70% of the total bank's assets\n2. Cash and balances with Central Banks has grown in the past 3 quarters","78254adf":"#### Analysis Summary (Profit, Assets, Liabilities)\n1. Net Profit has seen a decline since Q3\/2019 and a particularly sharp dip especially in Q1\/2020 owing to Corona Outbreak.\n2. Total Assets have seen perpetual growth.\n3. Total liabilities have also seen perpetual growth.","a9f7e6c2":"## 3. Net Profit, Total Assets & Liabilities","1cd50729":"#### Analysis Summary\n* Leverage ratio (Assets\/Equity) has seen a sharp upturn in Q1\/20","2f6ced50":"## 12. Profit and Operating Income Growth Rate","7b9ba9d8":"#### Income and Expenses (Analysis Summary)\n\n1. Operating income has grown steadily across the quarters until Q4\/19. There is dip in operating income in Q1\/20 pertaining to Corona Outbreak.\n2. Operating Expense has remained almost flat","d9d8cad0":"#### Analysis Summary\n* Both, Loan to Assets & Loan to Deposits ratio have seen a slight dip in Q1\/20.","be56b1fa":"## 7. Liabilities Breakdown For the latest Quarter of Q1\/20","01d0f1a3":"## 6. Liablilities Statement","c4197cd1":"# First Abu Dhabi Bank \n\n## Assignment: Financial Data Extraction & Analysis","7a5219c9":"## 1. Income and Expenses","49a8d42a":"# Analyzing Financial Figures\n**All Graphs are interactive","674fb71e":"## 5. Asset Breakdown For the latest Quarter of Q1\/20","1258b0d1":"## 4. Asset Statement ","7a228d60":"## 9. Capital Adequacy Ratio","bc205dce":"#### Analysis Summary\n* Bank's Efficency has seen tremendous growth across the Quarters","4039e869":"## 13. Deposits' and Loans' Growth Rate","66917029":"## 4. Customer's Deposits","688d960a":"## 10. Liquidity Ratio (Loans to Assets | Loans to Deposits)","43123751":"#### Analysis Summary\nBoth Deposits and Loans have seen growth until Q4\/19, after which there's a shrink, again owing to Lockdowns in Q1\/20.","44ad5ba9":"## 5. Loans & Advances","4547cc2c":"#### Income Breakdown (Analysis Summary)\nNet interest income holds 2\/3rd constitution of the Operating Income whereas 1\/3 income is attributable to non-interest income (e.g. Forex etc.)","0cbd7c0d":"## 11. Leverage ratio (Assets\/Equity)","220bfc91":"## 8. Efficiency - Cost to income ratio (ex-integration cost)","1ac212ac":"#### Analysis Summary\n* Bank's Capital Adequacy Ratio has taken a hit in the past 2 quarters (Q4\/19 & Q1\/20)"}}