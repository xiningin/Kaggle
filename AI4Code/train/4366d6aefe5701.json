{"cell_type":{"e4ac31ed":"code","bd59f870":"code","84e4fee1":"code","96a97b27":"code","a301dd0e":"code","d8b2f0cf":"code","77ad6307":"code","616247f1":"code","d5d33a2e":"code","5579213f":"code","2a62a763":"code","721c4196":"code","38becf3c":"code","14e1601c":"markdown","ac86793d":"markdown","3b3e8b8f":"markdown","bd43618d":"markdown","50966d6b":"markdown","cd1969e4":"markdown","370c4a08":"markdown","9cd7ba59":"markdown","4e7ecfc1":"markdown"},"source":{"e4ac31ed":"import numpy as np\nimport pandas as pd\nimport os\nimport librosa, librosa.display\nimport soundfile as sf\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport IPython.display as ipd","bd59f870":"file = '..\/input\/piano-triads-wavset\/piano_triads\/A_maj_2_1.wav'\nsignal, sr = librosa.load(file, sr=40200)\n\nlibrosa.display.waveplot(signal, sr = sr)\nplt.xlabel(\"Time\")\nplt.ylabel(\"Amplitude\")\nplt.show()\n\nn_fft = 2048\nhop_length = 512\nstft = librosa.core.stft(signal, hop_length = hop_length, n_fft = n_fft)\nspectrogram = np.abs(stft)\nlog_spectrogram  = librosa.amplitude_to_db(spectrogram)","84e4fee1":"librosa.display.specshow(spectrogram, sr = sr, hop_length = hop_length)\nplt.xlabel(\"Time\")\nplt.ylabel(\"Frequency\")\nplt.colorbar()\nplt.set_cmap(\"viridis\")\nplt.show()","96a97b27":"librosa.display.specshow(log_spectrogram, sr = sr, hop_length = hop_length)\nplt.xlabel(\"Time\")\nplt.ylabel(\"Frequency\")\nplt.set_cmap(\"viridis\")\nplt.colorbar()\nplt.show()","a301dd0e":"MFCCs = librosa.feature.mfcc(signal, n_fft = n_fft, hop_length = hop_length, n_mfcc = 13)\nlibrosa.display.specshow(MFCCs, sr = sr, hop_length = hop_length)\nplt.xlabel(\"Time\")\nplt.ylabel(\"MFCCs\")\nplt.set_cmap(\"viridis\")\nplt.colorbar()\nplt.show()","d8b2f0cf":"triad=pd.read_csv('..\/input\/piano-triads-wavset\/triads.csv')\ntriad[0:5]","77ad6307":"data_dir='..\/input\/piano-triads-wavset\/piano_triads\/'","616247f1":"#1 C\nprint(triad.iloc[2,:])\nipd.Audio(data_dir+triad.iloc[2,0]+'.wav')","d5d33a2e":"#2 Gm\nprint(triad.iloc[116,:])\nipd.Audio(data_dir+triad.iloc[116,0]+'.wav')","5579213f":"#3 D\nprint(triad.iloc[15,:])\nipd.Audio(data_dir+triad.iloc[15,0]+'.wav')","2a62a763":"file1=data_dir+triad.iloc[2,0]+'.wav'\nsignal1, sr1=librosa.load(file1, sr=40200)\n\nfile2=data_dir+triad.iloc[116,0]+'.wav'\nsignal2, sr2=librosa.load(file2, sr=40200)\n\nfile3=data_dir+triad.iloc[15,0]+'.wav'\nsignal3, sr3=librosa.load(file3, sr=40200)","721c4196":"# C9\nsf.write('C9.wav',signal1+signal2,samplerate=40200)\nipd.Audio('C9.wav')","38becf3c":"# D\/C\nsf.write('DonC.wav',signal1+signal3,samplerate=40200)\nipd.Audio('DonC.wav')","14e1601c":"The below is examples of chord C, Gm, and D. If clicking the button 1 & 2 at the same time, You can hear the sound of chord C9.  If clicking 1 & 3, the sound of chord D\/C.","ac86793d":"### librosa.amplitude_to_db(spectrogram)","3b3e8b8f":"### librosa.feature.mfcc(signal, n_fft = n_fft, hop_length = hop_length, n_mfcc = 13)","bd43618d":"# LIBROSA Audio Feature Extraction\nhttps:\/\/librosa.org\/doc\/main\/feature.html","50966d6b":"# Combine two wav files to synthesize sounds","cd1969e4":"### librosa.display.specshow(log_spectrogram, sr = sr, hop_length = hop_length)","370c4a08":"Since the two files are combined, clicking one button is enough to hear the sound.","9cd7ba59":"# Check triad notes and its sound","4e7ecfc1":"### librosa.display.specshow(spectrogram, sr = sr, hop_length = hop_length)"}}