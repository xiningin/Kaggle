{"cell_type":{"8dceb51e":"code","52907514":"code","604cadc0":"code","56a74898":"code","22d57ac0":"code","c0771881":"code","5812750c":"code","b67afd4d":"code","4c9f2200":"code","6e9484d8":"code","866aa1db":"code","8ecf7d3e":"code","684e0f8b":"code","785b3280":"code","f75d37cf":"code","5b17a9b5":"code","8fbe1928":"code","1a737e01":"markdown","558f27d4":"markdown","1c7ccfee":"markdown","2b6499a1":"markdown","398b0e5e":"markdown","e7095737":"markdown","83281ecc":"markdown","80933ae9":"markdown","1d3c3700":"markdown","e1e0d856":"markdown","421b2681":"markdown","945b45fd":"markdown"},"source":{"8dceb51e":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('whitegrid')\n%matplotlib inline\nimport os\nprint(os.listdir(\"..\/input\"))\n","52907514":"df=pd.read_csv(\"..\/input\/911.csv\")\n","604cadc0":"print(df.head(5))\nprint(df.describe())\ndel df[\"e\"]\n","56a74898":"df['timeStamp'] = pd.to_datetime(df['timeStamp'])\ndf['Hour'] = df['timeStamp'].apply(lambda t: t.hour)\ndf['Month'] = df['timeStamp'].apply(lambda t: t.month)\ndf['Day of Week'] = df['timeStamp'].apply(lambda t: t.dayofweek)\ndf['Year'] = df['timeStamp'].apply(lambda t: t.year)\ndf['Date'] = df['timeStamp'].apply(lambda t: t.date)","22d57ac0":"d = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}\ndf['Day of Week'] = df['Day of Week'].map(d)","c0771881":"df['Reason'] = df['title'].apply(lambda title: title.split(':')[0])","5812750c":"df[\"day\/night\"] = df[\"timeStamp\"].apply(lambda x : \"night\" if int(x.strftime(\"%H\")) > 19 else \"day\")","b67afd4d":"# Plot for day\/night\nsns.countplot(x='day\/night',data=df)","4c9f2200":"# Plot for Category of reasons:\nsns.countplot(x='Reason',data=df)","6e9484d8":"# Calls report Daily: \nsns.countplot(x='Day of Week',data=df,hue='Reason')","866aa1db":"# Plot for calls recieved monthly combined of all years:\nsns.countplot(x='Month',data=df)","8ecf7d3e":"# Plot for calls recieved yearly:\nsns.countplot(x= \"Year\", data= df)","684e0f8b":"# simple plot of the dataframe indicating the count of calls per month.\nd1=df.groupby(\"Year\").count()\nd1['Month'].plot()","785b3280":"dayHour = df.groupby(by=['Day of Week','Hour']).count()['Reason'].unstack()\ndayHour.head()","f75d37cf":"plt.figure(figsize=(12,6))\nsns.heatmap(dayHour,cmap='viridis')\nsns.clustermap(dayHour,cmap='viridis')","5b17a9b5":"dayMonth = df.groupby(by=['Day of Week','Month']).count()['Reason'].unstack()\ndayMonth.head()\nplt.figure(figsize=(12,6))\nsns.heatmap(dayMonth,cmap='viridis')","8fbe1928":"sns.clustermap(dayMonth,cmap='viridis')","1a737e01":"> DATA VISUALISATION ON PROCESSED DATA\n\nsee following graphs , u will get lot of insights about data","558f27d4":"**3.3>creating column based on timestamp for DAY\/NIGHT**","1c7ccfee":"**if you have any doubts comment here ,thanks**\n","2b6499a1":"**Emergency - 911 Calls**\n*Montgomery County, PA*\nlets do data for each component \n1 > load csv file into panda ,  pandas handle datatype char,int in its dataframe , and more powerful than numpy\nthis 911.csv contain dtypes: float64(3), int64(1), object(5)","398b0e5e":"**Day of Week   vs   Month**","e7095737":"**Brief Insights**\n2> check content and decsription \n*we will be analyzing some 911 call data *\nhead() is giving insights of first five rows\ndf.describe()\nthis interprets ststistics of data like mean , std deviation,etc \n* the last column is not needed 'e' so we deleting it.","83281ecc":"**3 Creating New Features by  segregating details column [timestamp,title]:**\n\n**3.1> timestamp column segregation into date \/time \/ day**\n datatype of timestamp column is string\n type(df['timeStamp'].iloc[0])\n -----> str\n i used** pd.to_datetime ** to convert str dt","80933ae9":" need to restructure the dataframe so that the columns become the Hours and the Index becomes the Day of the Week. \n     There are lot of method for pivote table search on[ Medium](http:\/\/medium.com\/) for more details","1d3c3700":"to add day we have convert df['Day of Week']  this column into meaningful way using maping\nlets create a dictionary\nd = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}\n","e1e0d856":">\n\nHEATMAP \n\n","421b2681":"**Importing the necessry libraries for processing**","945b45fd":"**3.2> Create Reason column from title column by splitting at [ : ]**\nIn the titles column there are \"Reasons\/Departments\" specified before the title code. These are EMS, Fire, and Traffic. Use .apply() with a custom lambda expression to create a new column called \"Reason\" that contains this string value."}}