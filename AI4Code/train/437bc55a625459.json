{"cell_type":{"75b3f6fb":"code","3d697270":"code","5ab634b5":"code","8bfd2491":"code","72080853":"code","6ec35210":"code","960f6446":"markdown","e92c48d6":"markdown","eac57b6b":"markdown","aa935a45":"markdown","1929862c":"markdown","c64435ce":"markdown","4defce25":"markdown","3692548e":"markdown","a7c117c9":"markdown","b99452ca":"markdown","3f11f06f":"markdown","5d415efe":"markdown"},"source":{"75b3f6fb":"import pandas as pd\ntrain = pd.read_csv('\/kaggle\/input\/titanic\/train.csv', index_col=0)\ntest = pd.read_csv('\/kaggle\/input\/titanic\/test.csv', index_col=0)","3d697270":"train.groupby(['Sex', 'Survived']).size() * 100 \/ len(train)","5ab634b5":"female = train[train.Sex=='female']\nfemale.groupby('Pclass').Survived.mean() * 100","8bfd2491":"class3_female = female[female.Pclass==3].copy()\nclass3_female['fam'] = class3_female.SibSp + class3_female.Parch\nclass3_female.groupby('fam').Survived.mean() * 100","72080853":"nonclass3_female = female[female.Pclass!=3].copy()\nnonclass3_female['fam'] = nonclass3_female.SibSp + nonclass3_female.Parch\nnonclass3_female.groupby('fam').Survived.mean() * 100","6ec35210":"test['fam'] = test.SibSp + test.Parch\ndef predict(passenger:pd.Series):\n    if passenger.Sex == 'male':\n        return 0\n    else: # female\n        if passenger.Pclass==3 and passenger.fam>3:\n            return 0\n        else:\n            return 1\nanswer = [int(predict(test.iloc[i])) for i in range(len(test))]\nanswer = pd.DataFrame(answer, index=test.index, columns=['Survived'])\nanswer.to_csv('submission.csv')\nanswer","960f6446":"The value shown above are in percentage.\nA lot of male died (52%). A lot of female survived (26%).\nHence by answering `male=died` and `female=survived` we can expect that it will be around 52+26 = 78 percent correct.\n\nTo improve our score, there are two things that need to be done:\n1. Find the survived males (12%)\n2. Find the died females (9%)","e92c48d6":"Based on the obsevations above, we'll use the following pseudocode:\n```python\nif male:\n    return 0\nif female:\n    if Pclass==3 and fam>3:\n        return 0\n    else:\n        return 1\n```","eac57b6b":"# data analysis","aa935a45":"The result is still hold. \n\nWhen female's `fam`$\\leq3$, she has greater chance of surviving (51% until 83%). But when`fam`$\\gt3$, then the chance is dropping ($\\leq37.5$%).\n\n**But**, how about different `Pclass`?","1929862c":"Females on `Pclass=3` have 50% chance of surviving. Let's dig deeper to find which one is died.","c64435ce":"- Can't find anything significant\/interesting so far.","4defce25":"# Answering","3692548e":"In [part 1 of this notebook](https:\/\/www.kaggle.com\/thariqnugrohotomo\/without-machine-learning), we use the family size (`SubSp+Parch`) feature to find out which female is died. We'll use it again here.","a7c117c9":"### 2.1. Pclass","b99452ca":"## 2. Find the died females (9%)","3f11f06f":"When `Pclass` is not `3`, then the family size doesn't matter anymore. They have a very high chance of surviving.","5d415efe":"## 1. Find the survived males (12%)"}}