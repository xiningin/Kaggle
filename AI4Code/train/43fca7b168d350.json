{"cell_type":{"c3af97d5":"code","c63bdc52":"code","686a4946":"code","d1e2d695":"code","a7b0c08a":"code","f33de08b":"code","3a688368":"code","08fb2496":"code","5f775d5b":"code","b1a2ecc3":"code","113d8fb6":"code","90461bb1":"code","2f63312e":"code","18c42177":"code","211f4014":"code","88c95e55":"code","69e24e37":"code","11ba07f8":"code","57cdf5c2":"code","575bfe34":"code","f5a3b3a2":"markdown","09f10ee8":"markdown","296e917d":"markdown","88730ab3":"markdown","6a90181a":"markdown","0b1f6fdc":"markdown","e1b3d663":"markdown","3dc07709":"markdown"},"source":{"c3af97d5":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn import preprocessing\nfrom sklearn import impute\n\nfrom scipy.stats import skew, norm, boxcox\nfrom scipy.special import boxcox1p\nfrom scipy.stats import boxcox_normmax\nfrom scipy.stats.mstats import winsorize\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","c63bdc52":"data = pd.read_csv('\/kaggle\/input\/insurance\/insurance.csv')\ndata.head(8)","686a4946":"#Null values\ndata.isna().sum()","d1e2d695":"data.info()","a7b0c08a":"#skewness in charges\nsns.distplot(data['charges'], hist = True)\nplt.title('Charges Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('Charges')","f33de08b":"# log transformation\ndata['charges'] = np.log1p(data['charges'])","3a688368":"#After log transformation \nsns.distplot(data['charges'], hist = True)\nplt.title('Charges Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('Charges')","08fb2496":"#Skewness in other variables (before transformation)\nskews = data.skew(axis = 0)\nskews","5f775d5b":"#skewness in other features\n#age\nsns.distplot(data['age'], hist = True)\nplt.title('age Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('age')","b1a2ecc3":"#transforming age\ndata['age'] = boxcox1p(data['age'], boxcox_normmax(data['age'] + 1))","113d8fb6":"#after transformation\nsns.distplot(data['age'], hist = True)\nplt.title('age Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('age')","90461bb1":"#bmi\nsns.distplot(data['bmi'], hist = True)\nplt.title('bmi Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('bmi')","2f63312e":"#skewness in other features\nsns.distplot(data['children'], hist = True)\nplt.title('children Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('childrem')","18c42177":"#transforming children\ndata['children'] = np.log1p(data['children'])","211f4014":"#after transformation\nsns.distplot(data['children'], hist = True)\nplt.title('children Frequency plot')\nplt.ylabel('Frequency')\nplt.xlabel('childrem')","88c95e55":"#Skewness after transformation\nskews = data.skew(axis = 0)\nskews","69e24e37":"f, ax = plt.subplots(figsize=(9, 8))\nsns.boxplot(data = data)","11ba07f8":"#the clip function (replaces upper outliers with 95th quantile and lower with 5th quantiles)\ndata['bmi'] = data['bmi'].clip(lower=data['bmi'].quantile(0.05), upper=data['bmi'].quantile(0.95))","57cdf5c2":"f, ax = plt.subplots(figsize=(9, 8))\nsns.boxplot(data = data)","575bfe34":"#Encoding categoricals\ndata = pd.get_dummies(data, drop_first = True)\ndata.head()","f5a3b3a2":"## Feature Scaling","09f10ee8":"Positively skewed","296e917d":"Outliers in BMI","88730ab3":"Normal","6a90181a":"## Skewness","0b1f6fdc":"## Outliers","e1b3d663":"No null values, that's good","3dc07709":"Certainly better"}}