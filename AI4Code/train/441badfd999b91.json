{"cell_type":{"a7212e2b":"code","1245f847":"code","7a2e0204":"code","a888bded":"code","c1db48b0":"code","7d506da3":"code","60666449":"code","6b961194":"code","52c10842":"code","e9ff08f8":"code","943a99f6":"code","cace9ba6":"code","f9c62a8c":"code","fe9496c3":"code","18ce25fd":"code","c5b1522a":"code","98d23a1e":"code","01e27aa1":"code","4cc26b49":"code","dca3f847":"code","9b92985b":"code","c902d4da":"code","7fa0bc76":"code","76f0f1c1":"code","d533044a":"code","d056ea98":"code","c622f10e":"markdown","5090469c":"markdown","4f3329a7":"markdown","44b68849":"markdown","d958140f":"markdown","185146f6":"markdown","bf99db02":"markdown","574532c4":"markdown","bec6a9a2":"markdown","da5a66ac":"markdown","f892b55e":"markdown","e8394469":"markdown","098ab55d":"markdown","fc98bbb6":"markdown","7f03a5fc":"markdown","af081c46":"markdown","9aaeb463":"markdown","85ada67c":"markdown"},"source":{"a7212e2b":"# import packages\nimport os\nimport joblib\nimport numpy as np\nimport pandas as pd\nimport warnings\n\nimport matplotlib\nimport matplotlib.pyplot as plt\nfrom matplotlib import ticker\nimport seaborn as sns\nfrom sklearn.model_selection import LeaveOneOut, train_test_split\n\n\n# setting up options\npd.set_option('display.max_rows', 69)\npd.set_option('display.max_columns', 40)\npd.set_option('float_format', '{:f}'.format)\nwarnings.filterwarnings('ignore')\n\n%matplotlib inline","1245f847":"df = pd.read_csv('..\/input\/latest-covid19-india-statewise-data\/Latest Covid-19 India Status.csv')\nprint('csv file loaded')","7a2e0204":"print(f'''dataframe shape: Rows: {df.shape[0]}, Columns: {df.shape[1]}\ndataframe sumed null values: {df.isnull().sum().sum()}\ndataframe columns name: \u21b4\u21b4\n                        \u21b4\u21b4\n                        \u21b4\u21b4\n{df.columns.values}\n''')","a888bded":"df.style.background_gradient(cmap=\"Wistia\",text_color_threshold=0.01)","c1db48b0":"df.describe().T.style.bar(subset=['mean'], color='#606ff2')\\\n                            .background_gradient(subset=['std'], cmap='PuBu')\\\n                            .background_gradient(subset=['50%'], cmap='PuBu')","7d506da3":"df.info()","60666449":"#unique values in dataframe\n\nfeatures = [feature for feature in df.columns if feature not in ['id','State\/UTs']]\n\nunique_values_train = np.zeros(2)\nfor feature in features:\n    temp = df[feature].unique()\n    unique_values_train = np.concatenate([unique_values_train, temp])\nunique_values_train = np.unique(unique_values_train)\n\nunique_value_feature_train = pd.DataFrame(df[features].nunique())\nunique_value_feature_train = unique_value_feature_train.reset_index(drop=False)\nunique_value_feature_train.columns = ['Features', 'Count']\n####################################################################################\n####################################################################################\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(5, 0.8), facecolor='#f6f5f5')\ngs = fig.add_gridspec(2, 1)\ngs.update(wspace=0.4, hspace=0.8)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ffd514'])\n\nax0 = fig.add_subplot(gs[0, 0])\nfor s in [\"right\", \"top\", \"left\"]:\n    ax0.spines[s].set_visible(False)\n    \nax0.set_facecolor(background_color)\nax0.tick_params(axis = \"y\", which = \"both\", left = False)\n\nax0_sns = sns.histplot(ax=ax0, x=unique_value_feature_train['Count'], zorder=2, linewidth=0, alpha=1)\nax0_sns.set_xlabel(\"Unique values\",fontsize=4, weight='bold')\nax0_sns.tick_params(labelsize=4, width=0.5, length=1.5)\nax0_sns.get_yaxis().set_visible(False)\n\nax0.text(25.2, 10.6, 'Unique Values', fontsize=6, ha='left', va='top', weight='bold')\nax0.text(25.22, 8.9, 'Unique value for train dataset', fontsize=4, ha='left', va='top')\nax0_sns.legend(['Train', 'Test'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(-0.01, 1.6), loc='upper left')\n\nplt.show()","6b961194":"#unique values in dataframe\n\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3, 6), facecolor='#f6f5f5')\ngs = fig.add_gridspec(3, 1)\ngs.update(wspace=0.4, hspace=0.1)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ffd514']*75)\n\nax0 = fig.add_subplot(gs[0, 0])\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\nax0.set_facecolor(background_color)\nax0_sns = sns.barplot(ax=ax0, y=unique_value_feature_train['Features'], x=unique_value_feature_train['Count'],\n                      zorder=2, linewidth=0, orient='h', saturation=1, alpha=1)\nax0_sns.set_xlabel(\"Unique Values\",fontsize=4, weight='bold')\nax0_sns.set_ylabel(\"Features\",fontsize=4, weight='bold')\nax0_sns.tick_params(labelsize=4, width=0.5, length=1.5)\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0.text(0, -1.9, 'Unique Values - Train Dataset', fontsize=6, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.5))\nax0.text(0, -1.2, 'Max unique values 36', fontsize=4, ha='left', va='top')\n# data label\nfor p in ax0.patches:\n    value = f'{p.get_width():.0f}'\n    x = p.get_x() + p.get_width() + 1\n    y = p.get_y() + p.get_height() \/ 2 \n    ax0.text(x, y, value, ha='left', va='center', fontsize=4, \n            bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n\nax0.set_anchor('C')  \n\nplt.show()","52c10842":"df['State\/UTs'] = df['State\/UTs'].str.replace('Dadra and Nagar Haveli and Daman and Diu','daman and diu')","e9ff08f8":"#stripplot of all  int and float features in the dataframe with respective to states\n\nplt.rcParams['figure.dpi'] = 600\n\ndf_int = [col for col in df.columns if df[col].dtypes in ['int64']]\n\nfor i in (df_int):\n    fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n    gs = fig.add_gridspec(1, 1)\n    gs.update(wspace=1.5, hspace=0.05)\n\n    background_color = \"#f6f5f5\"\n    sns.set_palette(['#ffd514']*120)\n    ax0 = fig.add_subplot(gs[0, 0])\n\n    for s in [\"right\", \"top\"]:\n        ax0.spines[s].set_visible(False)\n    ax0.set_facecolor(background_color)\n    ax0_sns = sns.stripplot(x=df[i],y=df['State\/UTs'],ax=ax0)\n    ax0_sns.set_xlabel(i,fontsize=4, weight='bold',)\n    ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n    ax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\n    ax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n    ax0.text(0, -3, f'Statewise {i} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    ax0.text(0, -1.90, f'x-axis: No of {i}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n    ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n","943a99f6":"from itertools import combinations\n\nplot = list(combinations(df_int, 2))\n\n#regplot of all  int and float features in the dataframe with respective to states\n\nplt.rcParams['figure.dpi'] = 600\n\n\nfig = plt.figure(figsize=(8,4), facecolor='#f6f5f5')\ngs = fig.add_gridspec(3, 2)\ngs.update(wspace=0.2, hspace=0.4)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ffd514']*120)\n\nax0 = fig.add_subplot(gs[0, 0])\nax1 = fig.add_subplot(gs[0, 1])\nax2 = fig.add_subplot(gs[1, 0])\nax3 = fig.add_subplot(gs[1, 1])\nax4 = fig.add_subplot(gs[2, 0])\nax5 = fig.add_subplot(gs[2, 1])\n\n\nfor indx, i in enumerate(plot):\n    x = i[0]\n    y = i[1]\n\n\n    for s in [\"right\", \"top\"]:\n        locals()['ax' + str(indx)].spines[s].set_visible(False)\n\n    ax_sns = sns.regplot(x=df[x],y=df[y],ax=locals()['ax' + str(indx)],line_kws={'color': '#ff355d','alpha':1})\n    # ax_sns.text(0,0, f'Statewise {x} No.', fontsize=4, weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    # ax_sns.text(12222, 10000, f'x-axis: No of {x}, y-axis: {y}', fontsize=2.5)\n\n\n    locals()['ax' + str(indx)].set_facecolor(background_color)\n    ax_sns.set_xlabel(x,fontsize=4, weight='bold',)\n    ax_sns.set_ylabel(y,fontsize=4, weight='bold')\n\n    ax_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\n    ax_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n    locals()['ax' + str(indx)].get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    locals()['ax' + str(indx)].get_yaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    \nax_sns.legend(['Line', 'Data Points'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=6, bbox_to_anchor=(-0.8, 4.2), loc='upper right')\nax_sns.text(-8500000, 710000, f'Regression Plot', fontsize=6, weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\nax_sns.text(-8500000, 690000, f'Total Cases and Discharged Correlation: 0.9', fontsize=4)","cace9ba6":"from itertools import combinations\n\ndf_float = [col for col in df.columns if df[col].dtypes in ['float64']]\n\nplot = list(combinations(df_float, 2))\n\n#regplot of all  int and float features in the dataframe with respective to states\n\nplt.rcParams['figure.dpi'] = 600\n\n\nfig = plt.figure(figsize=(8,4), facecolor='#f6f5f5')\ngs = fig.add_gridspec(3, 1)\ngs.update(wspace=0.2, hspace=0.4)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ffd514']*120)\n\nax0 = fig.add_subplot(gs[0, 0])\nax1 = fig.add_subplot(gs[1, 0])\nax2 = fig.add_subplot(gs[2, 0])\n\nfor indx, i in enumerate(plot):\n    x = i[0]\n    y = i[1]\n\n\n    for s in [\"right\", \"top\"]:\n        locals()['ax' + str(indx)].spines[s].set_visible(False)\n\n    ax_sns = sns.regplot(x=df[x],y=df[y],ax=locals()['ax' + str(indx)],line_kws={'color': '#ff355d','alpha':1})\n    # ax_sns.text(0,0, f'Statewise {x} No.', fontsize=4, weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    # ax_sns.text(12222, 10000, f'x-axis: No of {x}, y-axis: {y}', fontsize=2.5)\n\n\n    locals()['ax' + str(indx)].set_facecolor(background_color)\n    ax_sns.set_xlabel(x,fontsize=4, weight='bold',)\n    ax_sns.set_ylabel(y,fontsize=4, weight='bold')\n\n    ax_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\n    ax_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n    locals()['ax' + str(indx)].get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    locals()['ax' + str(indx)].get_yaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    \nax_sns.legend(['Line', 'Data Points'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=6, bbox_to_anchor=(0.19, 4.2), loc='upper right')\nax_sns.text(81.2, 35.6, f'Regression Plot', fontsize=6, weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\nax_sns.text(81.2, 34.5, f'Active & Discharge Correlation: -1.0', fontsize=4)","f9c62a8c":"#barplot of all  int and float features in the dataframe with respective to states\nplt.rcParams['figure.dpi'] = 600\n\npart1 = ['Total Cases','Discharged']\n\n\nfor col in part1:\n    fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n    gs = fig.add_gridspec(1, 1)\n    gs.update(wspace=1.5, hspace=0.05)\n\n    background_color = \"#f6f5f5\"\n    sns.set_palette(['#ff355d']*120)\n    ax0 = fig.add_subplot(gs[0, 0])\n\n    for s in [\"right\", \"top\"]:\n        ax0.spines[s].set_visible(False)\n    ax0.set_facecolor(background_color)\n\n    ax0.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax0_sns = sns.barplot(x=df[col],y=df['State\/UTs'],ax=ax0)\n    ax0_sns.set_xlabel(col,fontsize=4, weight='bold',)\n    ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n    ax0.text(0, -3, f'Statewise {col} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    ax0.text(0, -1.90, f'x-axis: No of {col}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n    ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    for p in ax0.patches:\n        value = f'{p.get_width():.0f}'\n        x = p.get_x() + p.get_width() + 70000\n        y = p.get_y() + p.get_height() \/ 2 \n        ax0.text(x, y, value, ha='left', va='center', fontsize=3, \n                bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n\npart2 = ['Active','Deaths']    \n\nfor col in part2:\n    if col != 'Deaths':\n        fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n        gs = fig.add_gridspec(1, 1)\n        gs.update(wspace=1.5, hspace=0.05)\n\n        background_color = \"#f6f5f5\"\n        sns.set_palette(['#ff355d']*120)\n        ax0 = fig.add_subplot(gs[0, 0])\n\n        for s in [\"right\", \"top\"]:\n            ax0.spines[s].set_visible(False)\n        ax0.set_facecolor(background_color)\n\n        ax0.tick_params(labelsize=3, width=0.5, length=1.5)\n        ax0_sns = sns.barplot(x=df[col],y=df['State\/UTs'],ax=ax0)\n        ax0_sns.set_xlabel(col,fontsize=4, weight='bold',)\n        ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n        ax0.text(0, -3, f'Statewise {col} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n        ax0.text(0, -1.90, f'x-axis: No of {col}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n        ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n        for p in ax0.patches:\n            value = f'{p.get_width():.0f}'\n            x = p.get_x() + p.get_width() + 3000\n            y = p.get_y() + p.get_height() \/ 2 \n            ax0.text(x, y, value, ha='left', va='center', fontsize=3, \n                    bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n    else:\n        fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n        gs = fig.add_gridspec(1, 1)\n        gs.update(wspace=1.5, hspace=0.05)\n\n        background_color = \"#f6f5f5\"\n        sns.set_palette(['#ff355d']*120)\n        ax0 = fig.add_subplot(gs[0, 0])\n\n        for s in [\"right\", \"top\"]:\n            ax0.spines[s].set_visible(False)\n        ax0.set_facecolor(background_color)\n\n        ax0.tick_params(labelsize=3, width=0.5, length=1.5)\n        ax0_sns = sns.barplot(x=df[col],y=df['State\/UTs'],ax=ax0)\n        ax0_sns.set_xlabel(col,fontsize=4, weight='bold',)\n        ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n        ax0.text(0, -3, f'Statewise {col} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n        ax0.text(0, -1.90, f'x-axis: No of {col}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n        ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n        for p in ax0.patches:\n            value = f'{p.get_width():.0f}'\n            x = p.get_x() + p.get_width() + 2000\n            y = p.get_y() + p.get_height() \/ 2 \n            ax0.text(x, y, value, ha='left', va='center', fontsize=3, \n                    bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n","fe9496c3":"#barplot of all  int and float features in the dataframe with respective to states\nplt.rcParams['figure.dpi'] = 600\n\none = ['Active Ratio (%)']\ntwo = ['Discharge Ratio (%)']\nthree = ['Death Ratio (%)']\n\nfor col in one:\n\n    fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n    gs = fig.add_gridspec(1, 1)\n    gs.update(wspace=1.5, hspace=0.05)\n\n    background_color = \"#f6f5f5\"\n    sns.set_palette(['#ff355d']*120)\n    ax0 = fig.add_subplot(gs[0, 0])\n\n    for s in [\"right\", \"top\"]:\n        ax0.spines[s].set_visible(False)\n    ax0.set_facecolor(background_color)\n\n    ax0.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax0_sns = sns.barplot(x=df[col],y=df['State\/UTs'],ax=ax0)\n    ax0_sns.set_xlabel(col,fontsize=4, weight='bold',)\n    ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n    ax0.text(0, -3, f'Statewise {col} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    ax0.text(0, -1.90, f'x-axis: No of{col}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n    ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    for p in ax0.patches:\n        value = f'{p.get_width():.0f}'\n        x = p.get_x() + p.get_width() + 0.2\n        y = p.get_y() + p.get_height() \/ 2 \n        ax0.text(x, y, value, ha='left', va='center', fontsize=3, \n                bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n\nfor col in two:\n\n    fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n    gs = fig.add_gridspec(1, 1)\n    gs.update(wspace=1.5, hspace=0.05)\n\n    background_color = \"#f6f5f5\"\n    sns.set_palette(['#ff355d']*120)\n    ax0 = fig.add_subplot(gs[0, 0])\n\n    for s in [\"right\", \"top\"]:\n        ax0.spines[s].set_visible(False)\n    ax0.set_facecolor(background_color)\n\n    ax0.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax0_sns = sns.barplot(x=df[col],y=df['State\/UTs'],ax=ax0)\n    ax0_sns.set_xlabel(col,fontsize=4, weight='bold',)\n    ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n    ax0.text(0, -3, f'Statewise {col} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    ax0.text(0, -1.90, f'x-axis: No of{col}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n    ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    for p in ax0.patches:\n        value = f'{p.get_width():.0f}'\n        x = p.get_x() + p.get_width() + 2\n        y = p.get_y() + p.get_height() \/ 2 \n        ax0.text(x, y, value, ha='left', va='center', fontsize=3, \n                bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n\nfor col in three:\n\n    fig = plt.figure(figsize=(4,4), facecolor='#f6f5f5')\n    gs = fig.add_gridspec(1, 1)\n    gs.update(wspace=1.5, hspace=0.05)\n\n    background_color = \"#f6f5f5\"\n    sns.set_palette(['#ff355d']*120)\n    ax0 = fig.add_subplot(gs[0, 0])\n\n    for s in [\"right\", \"top\"]:\n        ax0.spines[s].set_visible(False)\n    ax0.set_facecolor(background_color)\n\n    ax0.tick_params(labelsize=3, width=0.5, length=1.5)\n    ax0_sns = sns.barplot(x=df[col],y=df['State\/UTs'],ax=ax0)\n    ax0_sns.set_xlabel(col,fontsize=4, weight='bold',)\n    ax0_sns.set_ylabel(\"States\",fontsize=4, weight='bold')\n\n    ax0.text(0, -3, f'Statewise {col} No.', fontsize=4, ha='left', va='top', weight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.2))\n    ax0.text(0, -1.90, f'x-axis: No of{col}, y-axis: State\/UTs', fontsize=2.5, ha='left', va='top')\n    ax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n    for p in ax0.patches:\n        value = f'{p.get_width():.0f}'\n        x = p.get_x() + p.get_width() + 0.03\n        y = p.get_y() + p.get_height() \/ 2 \n        ax0.text(x, y, value, ha='left', va='center', fontsize=3, \n                bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=0.3))\n","18ce25fd":"#heatmap of the dataset\n\nbackground_color = \"#f6f5f5\"\n\nfig = plt.figure(figsize=(18, 8), facecolor=background_color)\ngs = fig.add_gridspec(1, 1)\nax0 = fig.add_subplot(gs[0, 0])\n\ncolors = [\"#ff355d\", \"#f6f5f5\",\"#ff355d\"]\ncolormap = matplotlib.colors.LinearSegmentedColormap.from_list(\"\", colors)\n\nax0.set_facecolor(background_color)\nax0.text(0, -0.5, 'Features Correlation on Train Dataset', fontsize=15, fontweight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=1.5))\nax0.text(0, -0.2, 'Highest correlation in the dataset is 0.9', fontsize=9, fontweight='light')\n\nsns.heatmap(df.corr(), ax=ax0, vmin=-1, vmax=1, annot=True, square=True, \n            cbar_kws={\"orientation\": \"horizontal\"}, cbar=False, cmap=colormap, fmt='.1f')\nplt.show()","c5b1522a":"df.drop(['Death Ratio (%)'],axis=1,inplace=True)","98d23a1e":"df.drop(['State\/UTs'],axis=1,inplace=True)\n\nleave_it_out = df.iloc[:1]\ndf = df.iloc[1:]\n\nDeaths = leave_it_out.Deaths\nleave_it_out.drop('Deaths',axis=1,inplace=True)","01e27aa1":"!pip install pycaret\nfrom pycaret.regression import *","4cc26b49":"env = setup(data=df,target='Deaths',train_size=0.99,normalize=True,normalize_method='robust',session_id = 69,silent=True\n           )\n\nprint('''\nSetting up the environment to start comparing models.\n\n''')","dca3f847":"models = compare_models(sort='RMSE')\n\nprint('''\nOur model evaluation metric for this dataset will be and\nthe tabel above is sorted according to RMSE score.\n\nwe got: HuberRegressor with parameters.\n\nHuberRegressor(alpha=0.0001, epsilon=1.35, fit_intercept=True, max_iter=100,\n               tol=1e-05, warm_start=False)\n\n''')","9b92985b":"tuned_model = tune_model(models,fold=10,optimize='RMSE',early_stopping=True,early_stopping_max_iters=10,choose_better = True)\n\nprint('''\ntuning the hyperparameters of the model compared above this cell.\n\n\n''')","c902d4da":"plot_model(tuned_model,plot='parameter',fold=10,use_train_data=True)\nprint('Parameters of HuberRegressor')","7fa0bc76":"plot_model(tuned_model,plot='feature',fold=10,use_train_data=True)\nprint('''Feature Importance Plot of HuberRegressor:\nAs we can see Total Cases is highly correlated with target feature from heatmap\nand feature importance plot\n\n''')","76f0f1c1":"plot_model(tuned_model,plot='error',fold=10,use_train_data=True)","d533044a":"final_model = finalize_model(tuned_model)\n\nprint(final_model)","d056ea98":"from sklearn.linear_model import HuberRegressor\n\ny_train = df.Deaths\ndf.drop(['Deaths'],axis=1,inplace=True)\n\nhuberreg = HuberRegressor(alpha=0.001, epsilon=1.7, fit_intercept=True, max_iter=100,\n               tol=1e-05, warm_start=False)\n\nhuberreg.fit(df,y_train)\nDeaths_pred = huberreg.predict(leave_it_out)\n\nprint('Prediction of One Holdout row: ',f'\\n\\nPredicted Deaths: {int(Deaths_pred[0])}\\nReal Nos.of Deaths Happend: {Deaths.values[0]}')","c622f10e":"<div style=\"color:black; display:fill; border-radius:5px;background-color:#ffd514;font-size:220%;font-family:sans-serif;letter-spacing:0.5px\">If you like the work please upvote (\u1557 \u0361\ud83d\udc41\u202f\u035c\u0296 \u0361\ud83d\udc41)\u1557<\/div>","5090469c":"# **8. Model training using pycaret**\n<a id = '8'> <\/a>\n* [Jump to top](#0)","4f3329a7":"# **2.Overview of the Dataset**\n<a id = '2'><\/a>\n* [Jump to top](#0)","44b68849":"# **6.Bar Plot of the Ratio% Columns Values**\n<a id = '6'> <\/a>\n* [Jump to top](#0)","d958140f":"# **3.Unique Values in all columns**\n<a id = '3'> <\/a>\n* [Jump to top](#0)","185146f6":"# **7. HeatMap of the Dataset**\n<a id = '7'> <\/a>\n* [Jump to top](#0)","bf99db02":"<a id=\"31\"><\/a>\n# **3.1.Regression Plot**\n\n* [Jump to top](#0)","574532c4":"[Kaggle: Data Leakage](https:\/\/www.kaggle.com\/alexisbcook\/data-leakage)\n","bec6a9a2":"<a id=\"1\"><\/a>\n# **1.Importing Important Libraries and Dataset**\n\n* [Jump to top](#0)","da5a66ac":"# **4.Strip Plot of Columns Values**\n<a id = '4'> <\/a>\n* [Jump to top](#0)","f892b55e":"<img src=\"https:\/\/images.unsplash.com\/photo-1584118624012-df056829fbd0?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=889&q=80\" alt=\"Covid-19 Image\" width=\"900\" height=\"300\" >\n","e8394469":"<a id = '10'> <\/a>\n* [Jump to top](#0)","098ab55d":"**Table of content**\n<a id=\"0\"><\/a>\n* [1.Importing Important Libraries and Dataset](#1)\n* [2. Overview of the dataset](#2)\n* [3. Unique values in all columns](#3)\n    * [Regression Plot](#31)\n* [4. StripPlot of the columns values](#4)\n* [5. BarPlot of the columns values](#5)\n* [6. BarPlot of the ratio% columns values](#6)\n* [7. HeatMap of the dataset](#7)\n* [8. Model training using pycaret](#8)\n* [9. Prediction of trained model on holdout data ](#9)\n* [10. Message for readers](#10)","fc98bbb6":"# About Dataset\n\nThis dataset contains latest **Covid-19 India state-wise data**. This dataset can be used to analyze *covid condition in India*. This dataset is great for Exploratory Data Analysis\n\n**Attribute Information**\n\n* State\/UTs - Names of Indian States and Union Territories.\n* Total Cases - Total number of confirmed cases\n* Active - Total number of active cases\n* Discharged - Total number of discharged cases\n* Deaths - Total number of deaths\n* Active Ratio (%) - Ratio of number of active cases to total cases\n* Discharge Ratio (%) - Ratio of number of discharged cases to total cases\n* Death Ratio (%) - Ratio of number of deaths to total cases","7f03a5fc":"# **9. Prediction of trained model on holdout data**\n\nYou can use pycaret to train complex models or to compare models\nor else you can import particular model and train it.\nExample given below with training and prediction on\nholdout data.\n\n<a id=9><\/a>\n* [Jump to top](#0)","af081c46":"<div style=\"color:black; display:fill; border-radius:5px;background-color:#FF5733;font-size:220%;font-family:sans-serif;letter-spacing:0.5px\"><h1>10. Important Note!!<\/h1><\/div>\n\n<h3>Why this model so accurate??<\/h3>\n\nBecause there is a data leakage, as the Deaths columns is strongly correlated with total cases,Death ratio rate, dischared ratio rate \/ Discharged. they all are calculated using the given Deaths. I used Deaths to predict because I saw many kernel on predicting the Deaths which we cant in the given dataset.\nfor more information on Data Leakage<br>","9aaeb463":"# **5.Bar Plot of the Columns Values**\n<a id = '5'> <\/a>\n* [Jump to top](#0)","85ada67c":"**1.Positive Correlation: 0.9**\n\n* **Total Cases and Deaths**\n* **Deaths and Discharged**\n* **Total Cases and Discharged**\n\n**2.Negative Correlation: -1.0**\n\n* **Discharge Ratio and Active Ratio**"}}