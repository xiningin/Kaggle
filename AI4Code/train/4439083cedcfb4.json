{"cell_type":{"60e2ef1c":"code","2f58bfbb":"code","fedf5021":"code","4b42a12a":"code","daff448b":"code","5410e859":"code","e84f48e3":"code","d1f43386":"code","90227d70":"code","82063b5d":"code","09f4d04d":"code","689216bc":"code","8456e35d":"code","5ef8a3ad":"code","f8e24770":"code","a7cd2f7d":"code","33a55e9f":"markdown","07147711":"markdown","dfa3a96d":"markdown","a3906f6d":"markdown","a756fcb9":"markdown","48e35ae1":"markdown","9fda7dd0":"markdown","8d796cb0":"markdown","5f01b941":"markdown"},"source":{"60e2ef1c":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport warnings\nwarnings.filterwarnings('ignore')\n\nfrom IPython.display import display\npd.set_option('display.max_columns', 100)","2f58bfbb":"train = pd.read_csv('..\/input\/train.csv', index_col = 0)\ntrain.head()","fedf5021":"train.shape","4b42a12a":"train.info()","daff448b":"target = train['LOAN_DEFAULT']\ntarget.value_counts().plot.bar()","5410e859":"new = []\nfor items in train['AVERAGE_ACCT_AGE'].values: \n    y = int(items[0]) * 12\n    if items[6]== 'm':\n        m = int(items[5])\n    else:\n        m = int(items[5:7])\n    total = y + m\n    new.append(total)\n\ntrain.loc[:, 'AVERAGE_ACCT_AGE'] = new\n\n\n\nnew = []\nfor items in train['CREDIT_HISTORY_LENGTH'].values: \n    y = int(items[0]) * 12\n    if items[6]== 'm':\n        m = int(items[5])\n    else:\n        m = int(items[5:7])\n    total = y + m\n    new.append(total)\n\ntrain.loc[:, 'CREDIT_HISTORY_LENGTH'] = new","e84f48e3":"train.head()","d1f43386":"train.columns","90227d70":"train['DATE_OF_BIRTH'] = pd.to_datetime(train['DATE_OF_BIRTH'])\ntrain['DISBURSAL_DATE'] = pd.to_datetime(train['DISBURSAL_DATE'])\ntrain['EMPLOYMENT_TYPE'] = train['EMPLOYMENT_TYPE'].astype('category')","82063b5d":"train.info()","09f4d04d":"train['EMPLOYMENT_TYPE'] = train['EMPLOYMENT_TYPE'].fillna(method = 'bfill')","689216bc":"train = train.replace({'PERFORM_CNS_SCORE_DESCRIPTION':{'C-Very Low Risk':'Low', 'A-Very Low Risk':'Low',\n                                                       'B-Very Low Risk':'Low', 'D-Very Low Risk':'Low',\n                                                       'F-Low Risk':'Low', 'E-Low Risk':'Low', 'G-Low Risk':'Low',\n                                                       'H-Medium Risk': 'Medium', 'I-Medium Risk': 'Medium',\n                                                       'J-High Risk':'High', 'K-High Risk':'High','L-Very High Risk':'High',\n                                                       'M-Very High Risk':'High','Not Scored: More than 50 active Accounts found':'Not Scored',\n                                                       'Not Scored: Only a Guarantor':'Not Scored','Not Scored: Not Enough Info available on the customer':'Not Scored',\n                                                        'Not Scored: No Activity seen on the customer (Inactive)':'Not Scored','Not Scored: No Updates available in last 36 months':'Not Scored',\n                                                       'Not Scored: Sufficient History Not Available':'Not Scored', 'No Bureau History Available':'Not Scored'\n                                                       }})\n                                                        ","8456e35d":"train['PERFORM_CNS_SCORE_DESCRIPTION'].value_counts()","5ef8a3ad":"corr_mat = train.corr()\nf,ax = plt.subplots(figsize = (12,12))\nsns.heatmap(corr_mat, vmax = 0.8, square= True)","f8e24770":"k = 10\ncols = corr_mat.nlargest(k, 'LOAN_DEFAULT')['LOAN_DEFAULT'].index\ncm = np.corrcoef(train[cols].values.T)\nsns.set(font_scale=1.25)\nhm = sns.heatmap(cm, cbar=True, annot=True, square=True, fmt='.2f', annot_kws={'size': 10}, yticklabels=cols.values, xticklabels=cols.values)\nplt.show()","a7cd2f7d":"corr_mat['LOAN_DEFAULT'].sort_values(ascending = False)","33a55e9f":"**convert columns having data in year and month in month only**","07147711":"***Imbalanced Target class***","dfa3a96d":"#### Hypothesis: Disbursed amount, ltv, delinquent accounts in last six months, primary current balance, credit history length, cns_score should contribute more in the loan_default.","a3906f6d":"**Convert Data Types of data columns and employment type to category**","a756fcb9":"**Check columns credit_history_length and Average_ACCT_AGE**","48e35ae1":"#### Treat Missing Values of Employment_Type","9fda7dd0":"#### No predictor has strong correlation with loan_default ","8d796cb0":"#### Only one column employment type has missing entries\n","5f01b941":"#### Disbursed amount and asset cost highly correlated, also correlated to ltv\n#### Average account age and credit history length correlated\n#### Predictors SECX also highly correlated\n#### ltv and current_pin_codeid correlated\n#### PRI. OVERDUE.ACCTS and DELINQUENT.ACCTS.IN.LAST.SIX.MONTHS highly correlated"}}