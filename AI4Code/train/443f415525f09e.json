{"cell_type":{"f99da151":"code","8470b28a":"code","b1e54257":"code","e57fb6be":"code","9f693496":"code","2c5cbaa8":"code","212d433f":"code","59752153":"code","ddbe1c4a":"code","e4d36b3e":"code","bcb1e265":"code","5662ec79":"code","728dbadb":"code","8f848a61":"code","ad1c588f":"code","408ea84b":"code","c64e74e2":"code","dd572f19":"code","9e43239a":"code","830d6052":"code","52ef6928":"code","4f1b4fd2":"code","23c41c3d":"code","1a6ed162":"code","87d3028a":"code","6430f4fc":"code","50ab22ae":"code","37a07204":"code","2ef4a309":"code","48179aba":"code","5cf82f67":"code","90c701ee":"markdown","3763a58d":"markdown","086ef5a4":"markdown","93b8e521":"markdown","37358191":"markdown","213c49b8":"markdown","dc357169":"markdown","5970292d":"markdown","ea570099":"markdown","234b346d":"markdown","f1c89080":"markdown","f80bd660":"markdown","7eabccdc":"markdown","3df3377b":"markdown","aa6d1a4c":"markdown"},"source":{"f99da151":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns #visualization\nimport matplotlib.pyplot as plt #visualization\n%matplotlib inline\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.offline as py\nimport plotly.express as px\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","8470b28a":"df = pd.read_csv('..\/input\/who-immunization-coverage\/BCG.csv', encoding='ISO-8859-2')\ndf.head()","b1e54257":"# checking dataset\n\nprint (\"Rows     : \" ,df.shape[0])\nprint (\"Columns  : \" ,df.shape[1])\nprint (\"\\nFeatures : \\n\" ,df.columns.tolist())\nprint (\"\\nMissing values :  \", df.isnull().sum().values.sum())\nprint (\"\\nUnique values :  \\n\",df.nunique())","e57fb6be":"corr = df.corr()\ncorr.style.background_gradient(cmap = 'coolwarm')","9f693496":"# Lets first handle numerical features with nan value\nnumerical_nan = [feature for feature in df.columns if df[feature].isna().sum()>1 and df[feature].dtypes!='O']\nnumerical_nan","2c5cbaa8":"df[numerical_nan].isna().sum()","212d433f":"## Replacing the numerical Missing Values\n\nfor feature in numerical_nan:\n    ## We will replace by using median since there are outliers\n    median_value=df[feature].median()\n    \n    df[feature].fillna(median_value,inplace=True)\n    \ndf[numerical_nan].isnull().sum()","59752153":"df.columns.tolist","ddbe1c4a":"ax = df.groupby('Country')[' 2018'].max().sort_values(ascending=True).plot(kind='barh', figsize=(12,8), color='g',\n                                                                                   title='Max. BCG Immunization in 2018')\nplt.xlabel('Max. BCG Immunization in 2018')\nplt.ylabel('Countries')\nplt.show()","e4d36b3e":"ax = df.groupby('Country')[' 1980'].mean().plot(kind='barh', figsize=(12,8), color = 'red',\n                                                           title='Mean BCG Immunization in 1980')\nplt.xlabel('Mean BCG Immunization in 1980')\nplt.ylabel('Countries')\nplt.show()","bcb1e265":"from category_encoders import OneHotEncoder\nfrom sklearn.linear_model import LinearRegression, Ridge\nfrom sklearn.preprocessing import StandardScaler, MinMaxScaler, MaxAbsScaler\n\ncols_selected = ['Country']\nohe = OneHotEncoder(cols=cols_selected, use_cat_names=True)\ndf_t = ohe.fit_transform(df[cols_selected+[' 1980']])\n\n#scaler = MaxAbsScaler()\nX = df_t.iloc[:,:-1]\ny = df_t.iloc[:, -1].fillna(df_t.iloc[:, -1].mean()) \/ df_t.iloc[:, -1].max()\n\nmdl = Ridge(alpha=0.1)\nmdl.fit(X,y)\n\npd.Series(mdl.coef_, index=X.columns).sort_values().head(10).plot.barh()","5662ec79":"from category_encoders import OneHotEncoder\nfrom sklearn.linear_model import LinearRegression, Ridge\nfrom sklearn.preprocessing import StandardScaler, MinMaxScaler, MaxAbsScaler\n\ncols_selected = ['Country']\nohe = OneHotEncoder(cols=cols_selected, use_cat_names=True)\ndf_t = ohe.fit_transform(df[cols_selected+[' 2018']])\n\n#scaler = MaxAbsScaler()\nX = df_t.iloc[:,:-1]\ny = df_t.iloc[:, -1].fillna(df_t.iloc[:, -1].mean()) \/ df_t.iloc[:, -1].max()\n\nmdl = Ridge(alpha=0.1)\nmdl.fit(X,y)\n\npd.Series(mdl.coef_, index=X.columns).sort_values().head(10).plot.barh()","728dbadb":"ax = df.groupby(' 2018')[' 2017', 'Country'].sum().plot(kind='bar', rot=45, figsize=(12,6), logy=True,\n                                                                 title='BCG Immunization 2018 Year')\nplt.xlabel('BCG Immunization in 2018\/2017')\nplt.ylabel('Log')\n\nplt.show()","8f848a61":"ax = df[' 2018'].value_counts().plot.barh(figsize=(10, 4))\nax.set_title('BCG Immunization Year 2018', size=18)\nax.set_ylabel('BCG Immunization 2018', size=10)\nax.set_xlabel('count', size=10)","ad1c588f":"algeria = df[(df['Country']=='Algeria')].reset_index(drop=True)\nalgeria.head()","408ea84b":"#word cloud\nfrom wordcloud import WordCloud, ImageColorGenerator\ntext = \" \".join(str(each) for each in algeria.Country)\n# Create and generate a word cloud image:\nwordcloud = WordCloud(max_words=200,colormap='Set2', background_color=\"black\").generate(text)\nplt.figure(figsize=(10,6))\nplt.figure(figsize=(15,10))\n# Display the generated image:\nplt.imshow(wordcloud, interpolation='Bilinear')\nplt.axis(\"off\")\nplt.figure(1,figsize=(12, 12))\nplt.show()","c64e74e2":"df=df.melt(id_vars=['Country'], var_name='Year', value_name='Percent')\ndf = df.sort_values(by=['Country', 'Year'], ascending=[True, False])\ndf","dd572f19":"px.choropleth(df, locations=df['Country'], locationmode='country names', color = df['Percent'], hover_name=df['Country'], animation_frame=df['Year'],\n              color_continuous_scale=px.colors.sequential.RdBu, projection='natural earth')","9e43239a":"lastyear = df.groupby('Country').head(1)\nlastyear","830d6052":"fig = go.Figure(data=go.Choropleth(\n    locations = lastyear['Country'],\n    z = lastyear['Percent'],\n    text = lastyear['Year'] + ', ' + lastyear['Country'],\n    colorscale = 'RdBu',\n    marker_line_color='darkgray',\n    marker_line_width=0.5,\n    colorbar_title = 'BCG, %',\n    locationmode='country names',\n))\n\nfig.update_layout(\n    title_text='Latest BCG reported woldwide'\n)","52ef6928":"fig.update_geos(projection_type=\"natural earth\", scope=\"africa\")\nfig.update_layout(title_text='Latest BCG reported Africa')","4f1b4fd2":"algeria = df[(df['Country']=='Algeria')].reset_index(drop=True)\nalgeria.head()","23c41c3d":"lastyear = algeria.groupby('Country').head(1)\nlastyear","1a6ed162":"algeria=algeria.melt(id_vars=['Country'], var_name='Year', value_name='Percent')\nalgeria = algeria.sort_values(by=['Country', 'Year'], ascending=[True, False])\nalgeria","87d3028a":"px.choropleth(algeria, locations=algeria['Country'], locationmode='country names', color = algeria['Percent'], hover_name=algeria['Country'], animation_frame=algeria['Year'],\n              color_continuous_scale=px.colors.sequential.RdBu, projection='natural earth')","6430f4fc":"import plotly.express as px\nalgeria = px.data.gapminder().query(\"year==2007\")\nfig = px.scatter_geo(algeria, locations=\"iso_alpha\", color=\"continent\",\n                     hover_name=\"country\", size=\"pop\",\n                     projection=\"natural earth\")\nfig.show()","50ab22ae":"df.columns.tolist","37a07204":"ls ..\/input\/hackathon\/task_1-google_search_txt_files_v2\/DZ\/","2ef4a309":"Algeria = '..\/input\/hackathon\/task_1-google_search_txt_files_v2\/DZ\/Algeria-ar-result-4.txt'","48179aba":"text = open(Algeria, 'r',encoding='utf-8',\n                 errors='ignore').read()","5cf82f67":"print(text[:2000])","90c701ee":"#Same snippet just changed the year to 2018","3763a58d":"#BCG 1950 : Le BCG en Alg\u00e9rie","086ef5a4":"#I didn't get, if I change the year the programm didn't recognize continent","93b8e521":"The coronavirus outbreak has deepened Algeria\u2019s legitimacy crisis. This could easily become a crisis between the state and Algerians, leading to a radical revolt. But it has also given Hirak the opportunity to think about new forms of peaceful struggle and the possibility of providing an alternative to the system.\n\nCOVID-19 should be seen as one last warning to Algeria about its fundamental problems that must quickly be addressed to avoid the collapse of not only the system, but also the state as a political, popular and legitimate entity.\n\n#Oil and COVID-19\n\nAmidst this political upheaval, Algeria\u2019s economic prospects have added another layer to the country\u2019s already complex challenges. Algeria has a rentier economy, so the recent fall in oil prices has constituted another threat to the economic system.\n\nThe New Year brought yet another unpleasant surprise to Algeria with the outbreak of COVID-19 and the challenges it carries as a pandemic.\n\nThis health crisis is not only an issue for the Algerian health sector, but more importantly for a delegitimised political system, a leaderless protest movement and the country\u2019s future.https:\/\/www.theafricareport.com\/25365\/coronavirus-in-algeria-a-countrys-last-warning","37358191":"<iframe width=\"717\" height=\"538\" src=\"https:\/\/www.youtube.com\/embed\/-vJ9Uy7tFrw\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen><\/iframe>","213c49b8":"#Thank you Daria Chemkaeva for the Dataset and mostly your Maps https:\/\/www.kaggle.com\/lsind18\/immunization-starter-bcg-vaccine","dc357169":"#Dealing with Numerical features(handling missing data)","5970292d":"#Codes from Daria Chemkaeva  https:\/\/www.kaggle.com\/lsind18\/immunization-starter-bcg-vaccine","ea570099":"Das War's, Kaggle Notebook Runner: Mar\u00edlia Prata  @mpwolke","234b346d":"#Years have a space only after the 1st tick. Only with tolist we can find how it works.","f1c89080":"![](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn%3AANd9GcQdM4SODRgkcwkL-ZuCaMBoWTSzTR79Gb2Zng&usqp=CAU)poste.dz","f80bd660":"#Algeria's Curfews.\n\nAs of August 10 Algeria confirmed 35,712 cases of COVID-19 and 1,312 COVID-19 related deaths in its borders.\n The Algerian government has started to ease the measures it had undertaken to limit the spread of COVID-19 by allowing more businesses to reopen and allowing public transportation in cities to resume, but the lifting of restrictions will be gradual and dependent on the evolution of COVID-19 cases in Algeria.  \n People are required to wear a protective mask when in public.  All land borders remain closed and the suspension of non-cargo domestic and international air and maritime travel remains in place.  All vehicle travel between the 29 provinces listed below as being impacted by a curfew has been prohibited for one week as of July 10.  The governor of Algiers prohibited all public transportation on Fridays and Saturdays until further notice.  Public transportation (and depending on the province, private transportation) may be suspended in the other 28 provinces affected by a curfew on Fridays and Saturdays. \n \n A curfew is in effect in 29 of Algeria\u2019s 48 provinces, including in Algiers, where the curfew is from 8pm to 5am.  The other provinces covered by the curfew are:  Boumerdes, Souk Ahras, Tissemsilt, Djelfa, Mascara, Oum El Bouaghi, Batna, Bouira, Relizane, Biskra, Khenchela, M\u2019sila, Chlef, Sidi Bel Abbes, M\u00e9d\u00e9a, Blida, Bordj Bou Arreridj, Tipaza, Ouargla, Bechar, Constantine, Oran, S\u00e9tif, Annaba, Bejaia, Adrar, Laghouat, El Oued.  Curfews are constantly being reviewed and revised and the curfew may be more restrictive in certain provinces or in certain areas of the provinces above for short periods of time as the health situation develops. \nhttps:\/\/dz.usembassy.gov\/covid-19-information\/","7eabccdc":"#Coronavirus : le vaccin BCG contre la tuberculose, serait-il efficace contre le Covid-19 ?\n\nLe vaccin BCG indiqu\u00e9 pour pr\u00e9venir la tuberculose, et qui montre un effet protecteur non sp\u00e9cifique contre les infections, en particulier respiratoires, notamment chez les enfants, pourrait-il \u00eatre une protection contre les cas graves de Covid-19 ?\nDes \u00e9tudes sont en cours pour v\u00e9rifier les \u00e9ventuels effets de protection de ce vaccin contre le coronavirus, indique le journal La D\u00e9peche.fr. En effet, des recherches \u00e9pid\u00e9miologiques ont montr\u00e9 \u00ab une corr\u00e9lation entre taux de vaccination au BCG et taux de mortalit\u00e9 face au Covid-19 \u00bb.\n\nLe BCG qui a d\u00e9j\u00e0 d\u00e9montr\u00e9, notamment chez les enfants, un effet protecteur non sp\u00e9cifique contre les infections, en particulier respiratoires, est en cours d\u2019\u00e9tudes concernant sa capacit\u00e9 diminuer le risque d\u2019\u00eatre infect\u00e9 par le coronavirus ou limiter la gravit\u00e9 des sympt\u00f4mes.\n\nL\u2019institut de recherche m\u00e9dicale fran\u00e7aise Inserm, indique que \u00ab le BCG pourrait ainsi permettre de diminuer l\u2019importance de l\u2019infection au coronavirus en stimulant la m\u00e9moire de l\u2019immunit\u00e9 inn\u00e9e, premi\u00e8re immunit\u00e9 \u00e0 entrer en jeu face \u00e0 une infection, et en induisant ainsi une immunit\u00e9 inn\u00e9e entra\u00een\u00e9e \u00bb.\n\nSelon une \u00e9tude scientifique pas encore officiellement publi\u00e9e, cit\u00e9e par le journal, \u00ab les pays qui ont une politique de vaccination obligatoire contre la tuberculose via le BCG, comme le Japon ou la Cor\u00e9e du sud, ont enregistr\u00e9 moins de d\u00e9c\u00e8s du Covid-19 que ceux o\u00f9 le vaccin n\u2019est pas obligatoire pour tout le monde comme la France, l\u2019Italie ou les Etats-Unis \u00bb.\n\nCependant, selon l\u2019Institut Inserm, les r\u00e9sultats des essais r\u00e9alis\u00e9s \u00e0 ce jour ne permettent pas \u00ab de conclure \u00e0 une relation de causalit\u00e9 car elles restent soumises \u00e0 d\u2019importants biais, en particulier sur la diff\u00e9rence de niveau de vie et de politique de sant\u00e9 entre les pays \u00e0 fort et \u00e0 faible taux de vaccination \u00bb.\n\nPar ailleurs, il est \u00e0 noter que malgr\u00e9 le lancement de plusieurs essais cliniques de grande ampleur \u00e0 travers le monde, aucune donn\u00e9e ne permet, pour le moment, de recommander une vaccination au BCG pour contre le Covid-19.https:\/\/www.algerie360.com\/coronavirus-le-vaccin-bcg-contre-la-tuberculose-serait-il-efficace-contre-le-covid-19\/","3df3377b":"#The only words that I understood above were BCG Bacillus Calmette-Gu\u00e9rin, mycobacterium bovis.","aa6d1a4c":"#Only with tolist we can read that there is a space after the 1st tick."}}