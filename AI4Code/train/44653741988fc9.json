{"cell_type":{"5df65006":"code","2bc4ab1f":"code","c6aa4a7a":"code","7bd9db00":"code","acd7066b":"code","673e75c1":"code","369e2676":"code","6cdef4f1":"code","a45490be":"code","fbe88700":"code","b0c1d718":"code","013242d8":"code","a725fa5d":"code","22bc7d6f":"code","39ac3438":"code","ffab4cad":"code","2c46838b":"code","372787ec":"code","4cc5c6fa":"code","2427ace5":"markdown","223cdc3a":"markdown","5ee28540":"markdown","5df538a0":"markdown","479b7813":"markdown","071cc1ab":"markdown","d05aae8f":"markdown","9ec2032a":"markdown","d7a3bd8e":"markdown","51b090b9":"markdown","a283325b":"markdown"},"source":{"5df65006":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt","2bc4ab1f":"#browse the folder to see what CSV files are available\n!ls ..\/input\/wbdevelopmentindicator","c6aa4a7a":"#Loading WDIData assuming all indicators data shall be in this file\nwdi_df = pd.read_csv(r\"..\/input\/wbdevelopmentindicator\/WDIData.csv\")","7bd9db00":"wdi_df.shape","acd7066b":"#Quick check of the data and columns\nwdi_df.head()","673e75c1":"#remove spaces from column names\nwdi_df.columns = wdi_df.columns.str.replace(' ', '')\n#list(wdi_df.columns)","369e2676":"#check aggregates\nwdi_df.agg( {'CountryCode' : ['nunique'], 'IndicatorCode' : ['nunique']} )","6cdef4f1":"#define a list of filter for adult female mortality and health expenditure per capita\nfilters_list = ['SP.DYN.AMRT.FE', 'SH.XPD.CHEX.PC.CD']","a45490be":"#Get filtered data frame of female mortality and health expenditure per capita in south asia\nraw_mor_epc_df = wdi_df[(wdi_df['IndicatorCode'].isin(filters_list)) & (wdi_df['CountryCode']=='SAS')]\nraw_mor_epc_df","fbe88700":"#drop year columns with no data \nmor_epc_df = raw_mor_epc_df.dropna(axis='columns')\nmor_epc_df","b0c1d718":"#reshape data from wide format to long format\nmor_epc_final_df = mor_epc_df .melt(id_vars=['CountryName', 'CountryCode','IndicatorName', 'IndicatorCode'],\n                  var_name='Year',\n                  value_name='Value'\n                 )\n\n#delete all initial dataframes and release memory\ndel mor_epc_df\ndel raw_mor_epc_df\ndel wdi_df\n\n#peak into final df i.e\n# Female Mortality and health expenditure per capita in South Asia\nmor_epc_final_df.head()","013242d8":"#Verify agreegates and get year range\nmor_epc_final_df.agg( {'CountryCode' : ['nunique'], 'IndicatorCode' : ['nunique'], 'Year' : ['min', 'max']} )","a725fa5d":"#get sub indicator specific dataframes\n\n#Mortality dataframe\nmort_df = mor_epc_final_df[(mor_epc_final_df['IndicatorCode']=='SP.DYN.AMRT.FE')]\n\n#Expenditure dataframe\nepc_df = mor_epc_final_df[(mor_epc_final_df['IndicatorCode']=='SH.XPD.CHEX.PC.CD')]","22bc7d6f":"#get ndarry from dataframe for plotting\nyears = mort_df['Year'].values\nmrate = mort_df['Value'].values\nepc = epc_df['Value'].values","39ac3438":"#Quick plot - Mortality\nplt.plot(years,mrate)\nplt.show()","ffab4cad":"#Quick plot - Expenditure\nplt.plot(years,epc)\nplt.show()","2c46838b":"fig, ax = plt.subplots()\n\n#plot mortality\nax.plot(years, mrate, color='blue', marker='o')\nax.set_xlabel('Year')\nax.set_ylabel('Mortality Rate')\nax.set_ylim([0, 250])\nax.grid(True, ls=':')\n\n#get twin object for two different y-axis on the same plot\nax2 = ax.twinx()\n\n#plot health expenditure\nax2.plot(years,epc, color='orange', marker='o')\nax2.set_ylabel('Expenditure in USD')\nax2.set_ylim([0, 100])\nax2.grid(True, ls=':')\n\n#set legend and fig size\nfig.set_figheight(6)\nfig.set_figwidth(12)\nfig.tight_layout()\nfig.legend([mort_df['IndicatorName'].iloc[0], epc_df['IndicatorName'].iloc[0]], \n           loc=\"upper right\",\n           bbox_to_anchor=(1,1), \n           bbox_transform=ax.transAxes)\n\nplt.title('Female Mortality Vs Health Expenditure in South Asia')\nplt.show()","372787ec":"#Visualizing relation through a scatter plot\n\nfig, ax = plt.subplots()\nax.scatter(x=mrate, y=epc, alpha=0.7, color='b')\n\nax.set_xlabel(mort_df['IndicatorName'].iloc[0], fontsize=12)\nax.set_ylabel(epc_df['IndicatorName'].iloc[0], fontsize=12)\nax.set_title('Female Mortality & Health Expenditure in South Asia', fontsize=15)\n\n# Add correlation line\naxs = plt.gca()\nm, b = np.polyfit(mrate, epc, 1)\nX_plot = np.linspace(axs.get_xlim()[0],axs.get_xlim()[1],100)\nplt.plot(X_plot, m*X_plot + b, alpha=0.5, ls='--')\n\n#set grid and fig size\nax.grid(True, ls=':')\nfig.set_figheight(6)\nfig.set_figwidth(10)\nfig.tight_layout()\n\nplt.show()","4cc5c6fa":"#Calculating corelation coefficient\nnp.corrcoef(x=mrate, y=epc )","2427ace5":"# Analysing Selected Indicators","223cdc3a":"# Visualizations","5ee28540":"**Evaluating the co-relation between the two indicators**","5df538a0":"# Exploratory Analysis","479b7813":"**Plotting the two Indicators**","071cc1ab":"# Loading Data\nData Source: http:\/\/databank.worldbank.org\/data\/download\/WDI_csv.zip","d05aae8f":"**Data Observation**\n\n* Data has got 377784 rows and 65 columns\n* All year data is in columns\n* Year range is from 1960 to 2019\n* There is unnamed last column\n* Column names have space","9ec2032a":"**Explore indicators realted to Female Mortality & Health System Expenditure**\n\nFollowing indicators have been searched from https:\/\/data.worldbank.org\/\n1. Mortality rate, adult, female (per 1,000 female adults) - SP.DYN.AMRT.FE\n2. Current health expenditure per capita (current US$) - SH.XPD.CHEX.PC.CD\n\nAlso, South Asian countries agregates exist with country code as SAS","d7a3bd8e":"**Combine the two plots to analyze the relation**","51b090b9":"# Female Mortality Vs Health System\n\n**Research Question**\n* Do health system improvements by making more expediture affects mortality (of females in particular) in South Asian countries","a283325b":"Above plot showing that expenditure is increasing over a period of 17 years,\nwhereas mortality rate is decreasing"}}