{"cell_type":{"8cc0c578":"code","871c142e":"code","a4ee8adc":"code","5be613da":"code","af1bfb37":"code","d216c20e":"code","34dfcfc1":"code","ca92d226":"code","5bbd17da":"code","27e58918":"code","d72d9a03":"code","b7fb208e":"code","ca6c9c39":"code","ea917643":"markdown","2aa96379":"markdown","d694342e":"markdown","1d38dd16":"markdown","00acbc22":"markdown","26af1d29":"markdown","e7af65e7":"markdown","bf49afbd":"markdown","1cc3467f":"markdown","e4dc374d":"markdown","19327b5e":"markdown","670ad56d":"markdown","6a3d824e":"markdown","956d2f7f":"markdown","561fb31a":"markdown","92e70bc2":"markdown","54e7c0fb":"markdown","b3fa3db4":"markdown","37397d0b":"markdown","3cbf5fcd":"markdown","e8029656":"markdown","e10dec6b":"markdown","ccd23d42":"markdown","1c9c094d":"markdown","3f50d68d":"markdown","8a94dfde":"markdown","8643ecdd":"markdown","df7c2444":"markdown"},"source":{"8cc0c578":"# importing libraries\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.pylab import rcParams\nrcParams['figure.figsize'] = 12,6\nplt.style.use('ggplot')","871c142e":"df = pd.read_csv('..\/input\/titanic\/train.csv') # reading data into dataframe\ndf.head() # displaying first five values","a4ee8adc":"df.drop(['PassengerId','Ticket','Name'],axis=1,inplace=True)\ndf.head()","5be613da":"table1 = pd.pivot_table(data=df,index=['Sex'])\ntable1","af1bfb37":"table1.plot(kind='bar')","d216c20e":"# multiple indexes\n\ntable2 = pd.pivot_table(df,index=['Sex','Pclass'])\ntable2","34dfcfc1":"# different aggregate functions\n\ntable3 = pd.pivot_table(df,index=['Sex','Pclass'],\n                        aggfunc={'Age':np.mean,'Survived':np.sum})\ntable3","ca92d226":"table4 = pd.pivot_table(df,index=['Sex','Pclass'],\n                        values=['Survived'],\n                        aggfunc=np.mean)\ntable4","5bbd17da":"table4.plot(kind='bar');","27e58918":"#columns\n\ntable5 = pd.pivot_table(df,index=['Sex'],\n                        columns=['Pclass'],\n                        values=['Survived'],\n                        aggfunc=np.sum)\ntable5","d72d9a03":"table5.plot(kind='bar');","b7fb208e":"# display null values\n\ntable6 = pd.pivot_table(df,index=['Sex','Survived','Pclass'],\n                        columns=['Embarked'],\n                        values=['Age'],\n                        aggfunc=np.mean)\ntable6","ca6c9c39":"#handling null values\n\ntable7 = pd.pivot_table(df,index=['Sex','Survived','Pclass'],\n                        columns=['Embarked'],\n                        values=['Age'],\n                        aggfunc=np.mean,\n                        fill_value=np.mean(df['Age']))\ntable7","ea917643":"# Building a Pivot Table using Pandas in Python","2aa96379":"Let's import titanic dataset","d694342e":"Using multiple indexes on the dataset enables us to concur that the disparity in ticket fare for female and male passengers was valid across every Pclass on Titanic.","1d38dd16":"### 2.4 Find the relationship between features with columns parameter","00acbc22":"- **Multiple index index**","26af1d29":"## 2. Building a Pivot Table using Pandas","e7af65e7":"*columns* parameter is optional and displays the values horizontally on the top of the resultant table.","bf49afbd":"The values in each cell is the mean value of respective category.<br>For example, 27.915709 is the mean age of females.","1cc3467f":"Using multiple indexes on the dataset enables us to concur that the disparity in ticket fare for female and male passengers was valid across every Pclass on Titanic.","e4dc374d":"- **A single index**","19327b5e":"We can instantly compare all the feature values for both the genders.<br> Visualizing the findings:","670ad56d":"pivot_table even allows you to deal with the missing values through the parameters dropna and fill_value:","6a3d824e":"## 1. Exploring the Titanic Dataset using Pandas in Python","956d2f7f":"Using np.mean() for the \u2018Age\u2019 feature and np.sum() for the \u2018Survived\u2019 feature;","561fb31a":"This is just an introduction in using pivot table for data analysis.<br> Feel free to upvote if you find this notebook useful.<p> THANK YOU","92e70bc2":"### 2.5 Handling missing data","54e7c0fb":"### 2.3 Aggregate on specific features with values parameter","b3fa3db4":"Pivot tables are important because they allow anyone to filter and extract significance about the data set they are working with. Pivot tables allow anyone to look at their data in a number of ways and perspectives.<p>Pandas library offers a function called **pivot_table** that summarized a feature\u2019s values in a neat two-dimensional table.","37397d0b":"values parameter is where you tell the function which features to aggregate on. It is an optional field and if you don\u2019t specify this value, then the function will aggregate on all the numerical features of the dataset:","3cbf5fcd":"### 2.2 Different aggregation function for different features","e8029656":"**pandas.pivot_table(data, values=None, index=None, columns=None, aggfunc=\u2019mean\u2019, fill_value=None, margins=False, dropna=True, margins_name=\u2019All\u2019)** <p>\n\n**Parameters:**\n\n- **data** : DataFrame<p>\n- **values** : column to aggregate, optional<p>\n- **index**: column, Grouper, array, or list of the previous<p>\n- **columns**: column, Grouper, array, or list of the previous<p>\n\n- **aggfunc**: function, list of functions, dict, default numpy.mean (If list of functions passed, the resulting pivot table will have hierarchical columns whose top level are the function names. If dict is passed, the key is column to aggregate and value is function or list of function)\n    \n<p>\n    \n- **fill_value[scalar, default None]** : Value to replace missing values with<p>\n- **margins[boolean, default False]** : Add all row \/ columns (e.g. for subtotal \/ grand totals)<p>\n- **dropna[boolean, default True]** : Do not include columns whose entries are all NaN<p>\n- **margins_name[string, default \u2018All\u2019]** : Name of the row \/ column that will contain the totals when margins is True.<p>\n\n- **Returns**: DataFrame","e10dec6b":"Replacing the NaN values with the mean value from the \u2018Age\u2019 column:","ccd23d42":"Dropping a few features to make it easier to analyze the data using pivot_table function","1c9c094d":"Hello all, in this notebook I will be exploring the Titanic Dataset with pivot tables using Pandas in Python","3f50d68d":"### 2.1 Group data using index in a pivot table","8a94dfde":"Using the \u2018Sex\u2019 column as the index for now:","8643ecdd":"You can even use more than one feature as an index to group your data. This increases the level of granularity in the resultant table and you can get more specific with your findings:","df7c2444":"Findings: The survival rate of passengers aboard the Titanic decreased with a degrading Pclass among both the genders. Moreover, the survival rate of male passengers was lower than the female passengers in any given Pclass."}}