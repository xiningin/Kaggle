{"cell_type":{"dd584d48":"code","c02e399e":"code","a2db063f":"code","a3dbb7a9":"code","b0a36a85":"code","a0e1ae79":"code","a65d2ec4":"code","45369557":"code","39b6c527":"code","444c2c1e":"code","23cc6cec":"code","1a512b05":"code","5e8ad7ba":"code","480e1df9":"code","610216a1":"code","06afcd05":"code","2d99910b":"code","dbfdcfed":"code","a72a6d95":"code","018990f6":"code","36ab0c0e":"code","c24d70ef":"code","b204a4f1":"code","6fa25657":"code","e1d8d97c":"code","18af866e":"code","018aea80":"code","63c619c9":"code","5ca618bc":"code","fda2695e":"code","316da811":"code","253cf4ef":"code","9eeadd23":"markdown","34c5f373":"markdown","b5ad0e79":"markdown","2a5969bb":"markdown","072ab403":"markdown","9bb63bf1":"markdown","5c7bd452":"markdown","97bfd98a":"markdown","81a6c72b":"markdown","5ae3c2d8":"markdown","703ae778":"markdown"},"source":{"dd584d48":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c02e399e":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","a2db063f":"data=pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/train.csv\")\ndata_test=pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/test.csv\")\ndata","a3dbb7a9":"data.isnull().sum().sort_values(ascending=False)[:10] #\u67e5\u770b\u7f3a\u5931\u503c\u6700\u591a\u7684\u5341\u4e2a\u7279\u5f81","b0a36a85":"data.drop(labels=['PoolQC','MiscFeature','Alley','Fence','FireplaceQu','MoSold','YrSold'],axis=1,inplace=True)","a0e1ae79":"data.shape","a65d2ec4":"data.info()","45369557":"num_col=[]\nfor col in data.columns:\n    if data[col].dtype!='O':\n        num_col.append(col)\nnum_col","39b6c527":"data.isnull().sum().sort_values(ascending=False).head(15)","444c2c1e":"val={}\nfor col in data.isnull().sum().sort_values(ascending=False).head(14).index:\n    if col in num_col:\n        val[col]=data[col].mode()[0] #\u5efa\u7acb\u6709\u7a7a\u503c\u7684\u5217\u540d\uff1a\u4f17\u6570 \u5bf9\u5e94\u7684\u5b57\u5178\ndata.fillna(value=val,inplace=True) \ndata.isnull().sum().sort_values(ascending=False).head(14)","23cc6cec":"val_cat={}\nfor col in data.isnull().sum().sort_values(ascending=False).head(11).index:\n    mode=data[col].value_counts().index[0]\n    val_cat[col]=mode\ndata.fillna(value=val_cat,inplace=True)\ndata.isnull().sum().sort_values(ascending=False)","1a512b05":"data.corr()","5e8ad7ba":"corr_price=data.corr()['SalePrice']\nplt.bar(abs(corr_price).index,abs(corr_price).values)","480e1df9":"c=abs(corr_price)\nc\ndel_cols=list(c[c<0.3].index)\ndel_cols.remove('Id')\ndel_cols\ndata=data.drop(labels=del_cols,axis=1)\ndata","610216a1":"from sklearn.preprocessing import OneHotEncoder\ncat_col=[]\nfor col in data.columns:\n    if data[col].dtype=='O':\n        cat_col.append(col)\nohe=OneHotEncoder()\noh_cat=ohe.fit_transform(data[cat_col])\ndata_cat=pd.DataFrame(data=oh_cat.toarray(),columns=ohe.get_feature_names(cat_col))\ndata=pd.concat([data.drop(labels=cat_col,axis=1),data_cat],axis=1)\ndata","06afcd05":"data.info()","2d99910b":"x=data.drop('SalePrice',axis=1)\ny=data['SalePrice']","dbfdcfed":"from sklearn.preprocessing import StandardScaler\nsta=StandardScaler()\nx_s=sta.fit_transform(x) #\u5728\u8bad\u7ec3\u96c6\u4e0a\u62df\u5408\u6807\u51c6\u5316\u5e76\u5e94\u7528","a72a6d95":"from sklearn.linear_model import Ridge\nfrom sklearn.linear_model import Lasso\nfrom sklearn.linear_model import ElasticNet\nfrom sklearn.linear_model import LinearRegression\nr1=ElasticNet()\nr2=ElasticNet()\nr3=ElasticNet()\nr4=ElasticNet()\nr5=ElasticNet()\nr6=ElasticNet()\nr7=ElasticNet()\nr8=ElasticNet()\nlasso=Lasso()\nela=ElasticNet()\nlinr=LinearRegression()\nn=np.random.randint(0,583)\nr1.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr2.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr3.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr4.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr5.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr6.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr7.fit(x_s[n:n+876],y[n:n+876])\nn=np.random.randint(0,583)\nr8.fit(x_s[n:n+876],y[n:n+876])","018990f6":"np.random.randint(0,583)+876","36ab0c0e":"data_test=pd.read_csv('..\/input\/house-prices-advanced-regression-techniques\/test.csv')\ndata_test","c24d70ef":"data_test.isnull().sum().sort_values(ascending=False)[:10]","b204a4f1":"data_test.drop(labels=['PoolQC','MiscFeature','Alley','Fence','FireplaceQu','MoSold','YrSold'],axis=1,inplace=True)","6fa25657":"data_test.isnull().sum().sort_values(ascending=False).head(30)","e1d8d97c":"val2={}\nfor col in data_test.isnull().sum().sort_values(ascending=False).head(28).index:\n    if col in num_col:\n        val2[col]=data_test[col].mode()[0] #\u5efa\u7acb\u6709\u7a7a\u503c\u7684\u5217\u540d\uff1a\u4f17\u6570 \u5bf9\u5e94\u7684\u5b57\u5178\ndata_test.fillna(value=val2,inplace=True) \ndata_test.isnull().sum().sort_values(ascending=False).head(20)","18af866e":"val_cat2={}\nfor col in data_test.isnull().sum().sort_values(ascending=False).head(17).index:\n    mode=data_test[col].value_counts().index[0]\n    val_cat2[col]=mode\ndata_test.fillna(value=val_cat2,inplace=True)\ndata_test.isnull().sum().sort_values(ascending=False)","018aea80":"data_test=data_test.drop(labels=del_cols,axis=1)","63c619c9":"oh_cat_test=ohe.transform(data_test[cat_col])\ndata_cat_test=pd.DataFrame(data=oh_cat_test.toarray(),columns=ohe.get_feature_names(cat_col))\ndata_test=pd.concat([data_test.drop(labels=cat_col,axis=1),data_cat_test],axis=1)\ndata_test","5ca618bc":"x_test_s=sta.transform(data_test)","fda2695e":"price1=pd.DataFrame(data=r1.predict(x_test_s),columns=['SalePrice'])\nprice2=pd.DataFrame(data=r2.predict(x_test_s),columns=['SalePrice'])\nprice3=pd.DataFrame(data=r3.predict(x_test_s),columns=['SalePrice'])\nprice4=pd.DataFrame(data=r4.predict(x_test_s),columns=['SalePrice'])\nprice5=pd.DataFrame(data=r5.predict(x_test_s),columns=['SalePrice'])\nprice6=pd.DataFrame(data=r6.predict(x_test_s),columns=['SalePrice'])\nprice7=pd.DataFrame(data=r7.predict(x_test_s),columns=['SalePrice'])\nprice8=pd.DataFrame(data=r8.predict(x_test_s),columns=['SalePrice'])\nprice=(price1+price2+price3+price4+price5+price6+price7+price8)\/8\nprice","316da811":"prediction=pd.concat([data_test['Id'],price],axis=1)\nprediction","253cf4ef":"prediction.to_csv('\/kaggle\/working\/submission.csv',index=False)","9eeadd23":"\u770b\u770b\u6240\u6709\u6570\u503c\u7279\u5f81\u548c\u9884\u6d4b\u7ed3\u679c\u7684\u76f8\u5173\u6027\uff0c\u628a\u5bf9\u7ed3\u679c\u5f71\u54cd\u4e0d\u5927\u7684\u5254\u9664\u6389\uff0c\u8fd9\u91cc\u8ba4\u4e3a\u5c0f\u4e8e0.3\u5c31\u7b97\u4e0d\u76f8\u5173,\u76f4\u63a5\u8c03\u7528corr()\u65b9\u6cd5\u9ed8\u8ba4\u5bf9\u6570\u503c\u5f62\u7279\u5f81\u8fdb\u884c\u5206\u6790","34c5f373":"\u5bf9\u6570\u503c\u7c7b\u578b\u7684\u5217\u8fdb\u884c\u7a7a\u503c\u586b\u5145\uff0c\u4e0b\u9762\u7684\u7a7a\u503c\u586b\u5145\u7528\u7684\u7b56\u7565\u90fd\u662f\u4f17\u6570\u586b\u5145","b5ad0e79":"\u7edf\u8ba1\u6570\u503c\u7c7b\u578b\u7684\u5217\u540d\uff1a","2a5969bb":"\u5bf9\u7c7b\u522b\u7279\u5f81\u505aone hot\u7f16\u7801","072ab403":"\u5bf9\u6570\u636e\u8fdb\u884c\u6807\u51c6\u5316","9bb63bf1":"\u5212\u5206x\u548cy","5c7bd452":"\u5bfc\u5165\u6d4b\u8bd5\u96c6\u5e76\u5bf9\u6d4b\u8bd5\u96c6\u8fdb\u884c\u64cd\u4f5c\u5bf9\u9f50","97bfd98a":"\u5bf9\u7c7b\u522b\u7279\u5f81\u586b\u5145\u7a7a\u503c","81a6c72b":"\u8fd8\u526911\u4e2a\u7c7b\u522b\u5217\u6709\u7a7a\u503c","5ae3c2d8":"\u7f3a\u5931\u8d85\u8fc7\u4e00\u534a\u4ee5\u4e0a\u7684\u90fd\u53bb\u6389","703ae778":"\u4f7f\u7528\u591a\u4e2a\u56de\u5f52\u5668\u62df\u5408\u6570\u636e"}}