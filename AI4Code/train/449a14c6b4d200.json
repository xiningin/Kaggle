{"cell_type":{"2b7d0f17":"code","ff0d63bf":"code","32ddcd00":"code","ebb4aca7":"code","854275a7":"code","bde2efeb":"markdown","4aafc4a6":"markdown","22e03bf7":"markdown","2ec1723a":"markdown","886300b7":"markdown"},"source":{"2b7d0f17":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom IPython.display import display\n\ncovid_data = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')\n\n# List of list of vaccines\nall_vaccines = [v.split(',') for v in covid_data.vaccines]\n# Flatten list\nall_vaccines = np.concatenate(all_vaccines)\n# Trim spaces\nall_vaccines = [v.strip() for v in all_vaccines]\n\nall_unique_vaccines = np.unique(all_vaccines).tolist()\n\nmessage = 'There are {} unique vaccines being used around the world:\\n';\nfor vaccine in all_unique_vaccines:\n    message += f\" - {vaccine}\\n\"\n    \nprint(message.format(len(all_unique_vaccines)))","ff0d63bf":"vaccines_to_num_countries = {vaccine: 0 for vaccine in all_unique_vaccines}\n\nvaccines_per_country = covid_data.groupby(['country', 'vaccines']).size().reset_index()\nvaccines_per_country = vaccines_per_country.drop(columns = 0) # Drop the last column (which is named 0)\n\n# Some countries use multiple vaccine types\nfor _, row in vaccines_per_country.iterrows():\n    vaccine_list = row.vaccines.split(',')\n    \n    for vaccine in vaccine_list:\n        vaccines_to_num_countries[vaccine.strip()] += 1\n\nvaccine_usage_df = pd.DataFrame(data = {\n    'Vaccine': vaccines_to_num_countries.keys(),\n    '# Countries': vaccines_to_num_countries.values()\n})\n\nvaccine_usage_df.sort_values(by = ['# Countries'], ascending = False).reset_index(drop = True)","32ddcd00":"columns = ['total_vaccinations', 'people_fully_vaccinated']\ncleaned_covid_data = covid_data.apply(lambda row: row.fillna(0) if row.name in columns else row)\n\nvaccinations_by_country = cleaned_covid_data.groupby('country').sum().loc[:, columns]","ebb4aca7":"from IPython.core.display import HTML\n\ntop_by_total_series = vaccinations_by_country.total_vaccinations.sort_values(ascending = False).iloc[:10]\ntop_by_total_df = pd.DataFrame({ 'Total Vaccinations': top_by_total_series })\n\ntop_by_full_series = vaccinations_by_country.people_fully_vaccinated.sort_values(ascending = False).iloc[:10]\ntop_by_full_df = pd.DataFrame({ 'Total Full Vaccinations': top_by_full_series })\n\nwith pd.option_context('display.float_format', '{:,.0f}'.format):\n    display(HTML(\n        '<table><tr>'\n            f'<td>{top_by_total_df.to_html()}<\/td>'\n            '<td style=\"background-color: white\"><\/td>'\n            f'<td>{top_by_full_df.to_html()}<\/td>'\n        '<\/tr><\/table>'\n    ))\n","854275a7":"columns = ['total_vaccinations_per_hundred', 'people_fully_vaccinated_per_hundred']\ncleaned_covid_data = covid_data.apply(lambda row: row.fillna(0) if row.name in columns else row)\n\n# Get the latest date data for each country as a list of tuples.\nlatest_country_dates = cleaned_covid_data.groupby('country').max().loc[:, 'date']\nlatest_country_dates = list(latest_country_dates.items())\n\n# Get the rows at each latest date.\ncleaned_covid_data = cleaned_covid_data.set_index(['country', 'date'])\nlatest_covid_data = cleaned_covid_data.loc[latest_country_dates]\n\n# Select relevant columns and index by country.\nlatest_covid_data = latest_covid_data.reset_index().set_index('country')\nlatest_covid_data = latest_covid_data.loc[:, ['total_vaccinations_per_hundred', 'people_fully_vaccinated_per_hundred']]\n\n# Rename columns.\ntotal_column, total_full_column = '% Population Vaccinated', '% Population Fully Vaccinated'\nlatest_covid_data = latest_covid_data.rename(columns = {'total_vaccinations_per_hundred': total_column, 'people_fully_vaccinated_per_hundred': total_full_column})\n\n# Get top 10 of each category.\ntop_by_total_percent = latest_covid_data.loc[:, [total_column]].sort_values(by = total_column, ascending = False).iloc[:10]\ntop_by_full_percent = latest_covid_data.loc[:, [total_full_column]].sort_values(by = total_full_column, ascending = False).iloc[:10]\n\nwith pd.option_context('display.float_format', '{:,.0f}'.format):\n    display(HTML(\n        '<table><tr>'\n            f'<td>{top_by_total_percent.to_html()}<\/td>'\n            '<td style=\"background-color: white\"><\/td>'\n            f'<td>{top_by_full_percent.to_html()}<\/td>'\n        '<\/tr><\/table>'\n    ))","bde2efeb":"## How many countries are using each vaccine?","4aafc4a6":"# Introduction\n\nHello, I'm a complete beginner to data science and trying out my first dataset submission. Thanks Gabriel Preda for releasing this [set](https:\/\/www.kaggle.com\/gpreda\/covid-world-vaccination-progress)!\n\nInsights gathered:\n - What types of vaccines are being used around the world?\n - Which countries are using which vaccines?\n - Which countries have vaccinated the most people?\n - Which countries have vaccinated the highest percentage of their population?","22e03bf7":"# Top 10 countries by total vaccinations","2ec1723a":"# What vaccines are beings used around the world?","886300b7":"# Top 10 countries by percentage of population vaccinated"}}