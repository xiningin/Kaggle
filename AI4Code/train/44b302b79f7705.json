{"cell_type":{"9f29118c":"code","fae06a89":"code","ec79cb30":"code","640dbbd4":"code","aedff265":"code","45ef0244":"code","79b09a38":"code","c6e99143":"code","0073411b":"code","4dd0ae48":"code","4a9af7f4":"code","812f6726":"code","bf87f03e":"code","6b514795":"code","d97344e4":"code","5745f12f":"markdown","bae3f34d":"markdown","eb11cbd9":"markdown","c69a6d5e":"markdown","fb46dc95":"markdown","89739b3b":"markdown","4a18a497":"markdown","91d24ad2":"markdown","e19242d3":"markdown"},"source":{"9f29118c":"import numpy as np \nimport pandas as pd\nimport matplotlib\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline \nfrom wordcloud import WordCloud, STOPWORDS","fae06a89":"tweets_df = pd.read_csv(\"..\/input\/tweets-elections-presidentielles-2022\/Tweets_Presidentielles_2022.csv\")","ec79cb30":"print(f\"data shape: {tweets_df.shape}\")","640dbbd4":"tweets_df.info()","aedff265":"tweets_df.describe()","45ef0244":"tweets_df.head()","79b09a38":"def missing_data(data):\n    total = data.isnull().sum()\n    percent = (data.isnull().sum()\/data.isnull().count()*100)\n    tt = pd.concat([total, percent], axis=1, keys=['Total', 'Percent'])\n    types = []\n    for col in data.columns:\n        dtype = str(data[col].dtype)\n        types.append(dtype)\n    tt['Types'] = types\n    return(np.transpose(tt))","c6e99143":"missing_data(tweets_df)","0073411b":"def unique_values(data):\n    total = data.count()\n    tt = pd.DataFrame(total)\n    tt.columns = ['Total']\n    uniques = []\n    for col in data.columns:\n        unique = data[col].nunique()\n        uniques.append(unique)\n    tt['Uniques'] = uniques\n    return(np.transpose(tt))","4dd0ae48":"unique_values(tweets_df)","4a9af7f4":"def most_frequent_values(data):\n    total = data.count()\n    tt = pd.DataFrame(total)\n    tt.columns = ['Total']\n    items = []\n    vals = []\n    for col in data.columns:\n        itm = data[col].value_counts().index[0]\n        val = data[col].value_counts().values[0]\n        items.append(itm)\n        vals.append(val)\n    tt['Most frequent item'] = items\n    tt['Frequence'] = vals\n    tt['Percent from total'] = np.round(vals \/ total * 100, 3)\n    return(np.transpose(tt))","812f6726":"most_frequent_values(tweets_df)","bf87f03e":"def plot_count(feature, title, df, size=1, ordered=True):\n    f, ax = plt.subplots(1,1, figsize=(4*size,4))\n    total = float(len(df))\n    if ordered:\n        g = sns.countplot(df[feature], order = df[feature].value_counts().index[:20], palette='Set3')\n    else:\n        g = sns.countplot(df[feature], palette='Set3')\n    g.set_title(\"Number and percentage of {}\".format(title))\n    if(size > 2):\n        plt.xticks(rotation=90, size=8)\n    for p in ax.patches:\n        height = p.get_height()\n        ax.text(p.get_x()+p.get_width()\/2.,\n                height + 3,\n                '{:1.2f}%'.format(100*height\/total),\n                ha=\"center\") \n    plt.show()    ","6b514795":"stopwords = set(STOPWORDS)\n\ndef show_wordcloud(data, title = None):\n    wordcloud = WordCloud(\n        background_color='white',\n        stopwords=stopwords,\n        max_words=50,\n        max_font_size=40, \n        scale=5,\n        random_state=1\n    ).generate(str(data))\n\n    fig = plt.figure(1, figsize=(10,10))\n    plt.axis('off')\n    if title: \n        fig.suptitle(title, fontsize=20)\n        fig.subplots_adjust(top=2.3)\n\n    plt.imshow(wordcloud)\n    plt.show()","d97344e4":"candidats=tweets_df.label.unique()\nfor candidat in candidats:\n    show_wordcloud(tweets_df[tweets_df.label==candidat]['text'], title = f'Prevalent words in tweets for {candidat}')\n    print(\"\\n\\n\")\n    print(\"*\"*50)\n    print(\"\\n\\n\")","5745f12f":"<h1>Elections Fran\u00e7aises 2022 Tweets<\/h1>\n\n\n<img src=\"https:\/\/www.breuilpont.com\/wp-content\/uploads\/2017\/04\/Vote-urne-drapeau-300x265.jpeg\" width=\"600\"><\/img>\n\n\n# Introduction\n\n\nThe Dataset we are using here is collected using Twitter API, **tweepy** and Python package.\n\n### Original notebook comes from Gabriel Preda here https:\/\/www.kaggle.com\/gpreda\/coronavirus-covid-19-tweets\/notebook. Please upvote him \n","bae3f34d":"### Text wordcloauds","eb11cbd9":"# Data exploration\n\n\n## Glimpse the data","c69a6d5e":"### Most frequent values","fb46dc95":"## Visualize the data distribution","89739b3b":"### Missing data","4a18a497":"## Load data","91d24ad2":"# Data preparation\n\n## Load packages","e19242d3":"### Unique values"}}