{"cell_type":{"c7698690":"code","116ecfd4":"code","b49cf4bf":"code","366ba793":"code","6d918cee":"code","e52366fc":"code","8e4d2ec4":"code","7284b38e":"code","79af62aa":"code","c800db96":"code","cf77dafc":"code","4a286573":"code","aa9e20a0":"code","0273e269":"code","48a7ce13":"code","2f608a44":"code","57db6bee":"markdown","80c78c93":"markdown","5fa6dfc9":"markdown","24678f08":"markdown","18a4cb46":"markdown","ca73b6ec":"markdown","2cdec39e":"markdown","a22be4ed":"markdown","d79a443a":"markdown","182bb070":"markdown","f9af88b7":"markdown","fc449e6e":"markdown","cdc460c1":"markdown","1c14a583":"markdown","b1d3583b":"markdown","5aef958f":"markdown","7c9a1eca":"markdown","7685820c":"markdown","2e22fd8d":"markdown","a5c9b410":"markdown"},"source":{"c7698690":"# import pandas\nimport pandas as pd \n\n# import matplotlib\nimport matplotlib.pyplot as plt","116ecfd4":"hurn_all_data = pd.read_csv('..\/input\/metofficeweatherbymonth\/hurndata.csv')\nhurn_all_data.head()","b49cf4bf":"# create a new column that will be True or False depending on the statement: heathrow_aug_data['yyyy']>1989\nhurn_all_data['post1989'] = hurn_all_data['yyyy']>1989\n\n# check the data by displaying the first few rows\nhurn_all_data.head()","366ba793":"# check the last rows of the dataset\n","6d918cee":"# check the data types\n","e52366fc":"# search for any rows where the temperature is not a viable number\nhurn_all_data[(( hurn_all_data['tmax'].str.replace('.', '')).str.isnumeric() == False)]","8e4d2ec4":"# remove '*' signs by replacing them with an empty string\nhurn_all_data['tmax'] = hurn_all_data['tmax'].str.replace('*', '')\n\n# convert to float type\nhurn_all_data['tmax'] = hurn_all_data['tmax'].astype('float')\n\n# check the data types\nhurn_all_data['tmax'].describe()","7284b38e":"# plot a time series for the data\nhurn_all_data.plot(y='tmax', figsize=(10,5))\nplt.show()","79af62aa":"# create a new data set with just the august data\nhurn_aug_data = hurn_all_data[hurn_all_data['mm'] == 8]\n\n# check the head of the data\nhurn_aug_data.head()","c800db96":"# plot a time series for the maximum temperature for august\nhurn_aug_data.plot(x='yyyy', y='tmax', figsize=(12,5))\nplt.show()","cf77dafc":"# create a new data set with the data for a single month\n\n\n# check the head of the data\n\n","4a286573":"# plot a time series for the maximum temperature for a single month\n","aa9e20a0":"# create time series for the minimum temperature for some different months","0273e269":"# print the means\nprint(\"Mean of the maximum temperature for August\")\nprint(hurn_aug_data.groupby(['post1989'])['tmax'].mean())\n\n# print a blank line\nprint(\"\\n\")\n\n# print the standard deviation\nprint(\"Standard deviation of the maximum temperature for August\")\nprint(hurn_aug_data.groupby(['post1989'])['tmax'].std())\n\n# display the boxplot\nhurn_aug_data.boxplot(column = ['tmax'],by='post1989', vert=False,figsize=(10, 5))\nplt.title(\"Maximum temperature for August: Hurn\")\nplt.show()","48a7ce13":"# display means, standard deviations and boxplots for maximum and minimum temperature for the other months","2f608a44":"# analyse the maximum and minimum temperatures for selected months from one of the other weather stations","57db6bee":"You could also perform similar analysis on the data from other weather stations. \n* Add and run some code below to import the data from at least one of the other weather stations from the data in the metofficeweatherbymonth folder - *you might want to add additional code boxes*","80c78c93":"This output shows that one of the values has an asterisk in it. \n* Run the code below to remove the asterisk and conver to a floating point number.","5fa6dfc9":"## Communicating the result (2)\n**Checkpoint**\n> Use the results above to answer the initial problem: *Has the temperature been higher at UK locations since 1990?*","24678f08":"The output should indicate that there are values in the tmax field that are not numbers. To find these you need to search the data for any values that cannot be directly converted to numbers.\n\nThe code in the box below searches through all the `hurn_all_data['tmax']` values and then checks whether the value in the field is numeric, i.e. contains only numbers. If the value is `False` it displays the row.\n\nUnfortunately the `str.isnumeric()` does not recognise decimal points as parts of numbers so the value 9.3 would return `False` therefore the string with any decimal points removed is checked. Removing the decimal point is acheived by using `replace('.','')`.  \n* Run the code below to search for any fields with additional characters","18a4cb46":"* Run the code below to plot a time series for the data data","ca73b6ec":"This plot is difficult to interpet as the temperature varies with the month. You could filter the dataset to just look at August data.\n* Run the code in the boxes below to create a new dataset of the August readings and plot a time series.","2cdec39e":"You can repeat this analysis for the other months for which you have created datasets.\n* Add and run some code in the box below to display the means, standard deviations and boxplots for the maximum and minimum temperatures for these other months","a22be4ed":"## Exploring the data (2)\n* Add and run some code in the box below to check the data types","d79a443a":"* Run the code below to import the data for Hurn","182bb070":"## Problem (3) ...\nYou have used the data to answer two questions:\n* *Was 2015 a hotter year than 1987?*\n* *Has the temperature been higher at UK locations since 1990?*\n\nWhat other questions could you investigate to help you explore how much the temperature has changed and whether this change is similar for different parts of the UK?","f9af88b7":"**Checkpoint**\n> * Why was it valid to remove the asterisk from the temperature and not just ignore this field? *You might want to refer to the original data at:  https:\/\/www.metoffice.gov.uk\/research\/climate\/maps-and-data\/historic-station-data*\n> * Which other months have you chosen to explore the maximum temperature for? Why have you chosen these months?\n> * Which other months have you chosen to explore the minimum temperature for? Why have you chosen these months?","fc449e6e":"## Analysing the data (2)\nDisplaying the mean, standard deviation and boxplots for the years before 1990 and since 1990 will help you answer the problem.\n\n* Run the code in the boxes below to display the means, standard deviations and boxplots","cdc460c1":"**Checkpoint**\n> * Which has shown the greater change for pre and post-1989: maximum or minimum temperature? \n> * Is the change similar for different months or different weather stations?\n> * Is maximum temperature more variable pre or post-1989?  ","1c14a583":"# MEI Introduction to Data Science\n# Lesson 6 - Activity 1b\n\nIt is widely reported that the temperature has increased both worldwide and in the UK over the last 100 years (e.g. https:\/\/www.bbc.co.uk\/news\/science-environment-50976909). This activity uses the data from the Edexcel large data set and related data from the Met office website to explore how much the temperature has changed and whether this change is similar for different parts of the UK. The activity demonstrates working through at least two iterations of a data science cycle.\n\nIn activity 1a for this lesson you explored whether 2015 was a hotter year than 1987 for weather stations in the large data set. In activity 1b you will expand on this by working through another iteration of the data cycle with additional data.\n\n* Run the code below to import pandas and matplotlib","b1d3583b":"Before exploring the data it will be helpful to add an additional field that stores whether the date was before 1990.\n\nThe code below generates a new field in the dataset that is set to *True* or *False* depending on the condition: `hurn_all_data['yyyy']>1989`\n* Run the code in the boxes below to create the *post1989* field and check the head and tail of the data","5aef958f":"## Getting the data (2)\nFor this notebook the data for 5 weather stations (Bradford, Camborne, Heathrow, Hurn and Leuchars) have been stored as CSV files locally. *Note that Leeming is not available and has been replaced by Bradford.*\n\nThis dataset contains readings for:\n* Mean daily maximum temperature (tmax)\n* Mean daily minimum temperature (tmin)\n* Days of air frost (af)\n* Total rainfall (rain)\n* Total sunshine duration (sun)\n\nThese are recorded for the year (yyyy) and the month (mm)","7c9a1eca":"You could also explore the maximum temperature in other months.\n* Add and run some code in the box below to explore the maximum temperature for at least one different month.","7685820c":"You could also explore the minimum temperature for different months.\n* Add and run some code below to explore the temperature for some different months - *you might wish to add some additional code boxes*","2e22fd8d":"The first few rows should all show `False` for `post1989`.\n* Add some code in the box below to check that the last few rows display `True`","a5c9b410":"## Problem (2)\nThe analysis in activity 1a only explored the data for 2 different years from at most 5 different weather stations. There is data for more stations and more years at https:\/\/www.metoffice.gov.uk\/research\/climate\/maps-and-data\/historic-station-data. \n\nUsing this you could rephrase the initial problem as:\n> Has the temperature been higher at UK locations since 1990?\n\nTo explore this you could find the temperature for each year and compare the years before and since 1990."}}