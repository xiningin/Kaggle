{"cell_type":{"00edcb37":"code","0ad98d26":"code","1b00fd56":"code","788f3a68":"code","853a2d1d":"code","35817af8":"code","c31dce2a":"code","bc7801cd":"code","2fb50f22":"code","078bf854":"code","9e30c717":"code","2502e5af":"markdown","ed121282":"markdown"},"source":{"00edcb37":"import pandas as pd\nimport numpy as np\nfrom scipy.stats import ks_2samp, mannwhitneyu, ttest_ind\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nimport math\nimport random","0ad98d26":"data = pd.read_csv('\/kaggle\/input\/u_testl.csv', sep=';', usecols=['values', 'groups'])","1b00fd56":"#\u0418\u0441\u043f\u0440\u0430\u0432\u0438\u043b \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u0438 \u0434\u043b\u044f float\ndata['values'] = data['values'].apply(lambda x: x.replace(',', '.')).astype(float)","788f3a68":"x1 = data[data['groups'] == 0]['values'].values\nx2 = data[data['groups'] == 1]['values'].values","853a2d1d":"plt.figure(figsize=(15, 8))\nsns.distplot(x1)\nsns.distplot(x2)","35817af8":"ks_2samp(x1, x2)","c31dce2a":"plt.figure(figsize=(15, 8))\nbacket_size = 50\n#\u041f\u0435\u0440\u0435\u043c\u0435\u0448\u0430\u043b \u0432\u044b\u0431\u043e\u0440\u043a\u0438\nrandom.shuffle(x1)\nrandom.shuffle(x2)\n#\u0420\u0430\u0437\u0431\u0438\u043b \u043d\u0430 \u0431\u0430\u043a\u0435\u0442\u044b\nbackets_x1 = [np.mean(x1[i:i + backet_size]) for i in range(0, len(x1), backet_size)]\nbackets_x2 = [np.mean(x2[i:i + backet_size]) for i in range(0, len(x2), backet_size)]\nsns.distplot(backets_x1)\nsns.distplot(backets_x2)","bc7801cd":"ttest_ind(backets_x1, backets_x2)","2fb50f22":"def bootstrap(data, nboot):\n    metrics = []\n    for i in range(nboot):\n        idx = np.random.randint(len(data), size=len(data))\n        sample = data[idx]\n        metrics.append(sample.mean())\n    return metrics","078bf854":"bootx1 = bootstrap(x1, 10000)\nbootx2 = bootstrap(x2, 10000)\n\nci1 = np.percentile(bootx1, q=[1, 99])\nci2 = np.percentile(bootx2, q=[1, 99])","9e30c717":"plt.vlines(ci1, color='red', ymin=0, ymax=0.35, linestyle='--')\nplt.vlines(ci2, color='blue', ymin=0, ymax=0.35, linestyle='--')\nsns.distplot(bootx1, color='red')\nsns.distplot(bootx2, color='blue')","2502e5af":"\u0414\u043e\u0432\u0435\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u044e\u0442\u0441\u044f, \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u0442\u0432\u0435\u0440\u0433\u043d\u0443\u0442\u044c \u043d\u0443\u043b\u0435\u0432\u0443\u044e \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u0443 \u043d\u0435\u043b\u044c\u0437\u044f","ed121282":"p-value \u0431\u043e\u043b\u044c\u0448\u0435 0.05, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043e\u0442\u0432\u0435\u0440\u0433\u043d\u0443\u0442\u044c \u043d\u0443\u043b\u0435\u0432\u0443\u044e \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u0443 \u043e \u0442\u043e\u043c, \u0447\u0442\u043e \u0441\u0440\u0435\u0434\u043d\u0438\u0435 \u043d\u0430 \u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u043d\u0435 \u0440\u0430\u0437\u043b\u0438\u0447\u0430\u044e\u0442\u0441\u044f. \u041f\u0435\u0440\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u0443\u0442\u0441\u0442\u0440\u0435\u043f\u0430:"}}