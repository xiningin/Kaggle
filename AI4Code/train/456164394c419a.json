{"cell_type":{"bd84a273":"code","0612fb65":"code","02a3b7ed":"code","3c7a5326":"code","1978317b":"code","037ee063":"code","44a66818":"code","9e1f2255":"code","1890c077":"code","04bcb632":"code","c261c908":"code","3bfe68e8":"code","1eed0c1a":"code","5c565d08":"code","f53048dd":"code","8644227e":"code","ddf50267":"code","0546fc6b":"code","2cbea432":"code","55a7068d":"code","c259d448":"code","b1957afa":"code","83f94845":"code","b39130af":"code","01361b82":"code","26a09244":"code","c4f7734a":"code","52489ee1":"code","eda2c968":"code","8a866210":"code","f5c16479":"code","b0b6d1c1":"code","8007740d":"code","0be93655":"code","9b0c3563":"code","15ad1732":"code","b70a4441":"code","161a1f79":"code","55fa67c1":"code","4089f968":"code","be786133":"code","79c2726d":"code","55566a10":"code","d26fccfa":"code","8d1f47d5":"code","c6768ad2":"code","9b691b8c":"code","4e20f953":"code","9e2d0905":"code","f7bd64fe":"code","03577e21":"code","81d69d30":"code","10b0f605":"code","e8d4b502":"code","9cf7d8a8":"code","d2f47c01":"code","c334423c":"code","70347f19":"code","1d1ecbb4":"code","1f962b59":"code","872e0e2b":"code","c24317bc":"code","d8507dc5":"code","a47cc048":"code","b93d7f47":"code","45fcaf1d":"code","35b1bae5":"code","ecdf3721":"code","439fd698":"code","32772b6d":"code","0e664ea9":"code","c12f42ac":"code","49094f17":"code","606eea32":"code","93059872":"markdown","0d4b5629":"markdown","98c7a56a":"markdown","b90afb8c":"markdown","b6e044db":"markdown","ecc5f2d5":"markdown","f157ba94":"markdown","de7b26f2":"markdown","a3b79928":"markdown"},"source":{"bd84a273":"from IPython.display import Image\nImage(\"..\/input\/oulad-schema\/model.png\")","0612fb65":"#Data loading\/transformation\nimport numpy as np\nimport pandas as pd","02a3b7ed":"#visualization\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","3c7a5326":"#function to display basic info for a given dataframe\ndef show_basic_info(df):\n    print(\"========================================================================================================\")\n    print(\"HEAD:\")\n    print(df.head(3))\n    print(\"--------------------------------------------------------------------------------------------------------\")\n    print(\"SHAPE:\")\n    print(df.shape)\n    print(\"--------------------------------------------------------------------------------------------------------\")\n    print(\"INFO:\")\n    print(df.info())\n    print(\"--------------------------------------------------------------------------------------------------------\")\n    print(\"DESCRIBE:\")\n    print(df.describe())\n    print(\"--------------------------------------------------------------------------------------------------------\")\n    print(\"========================================================================================================\")\n\n    ","1978317b":"assessments_df = pd.read_csv('..\/input\/ouladdata\/assessments.csv')\n#assessments_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/assessments.csv')\nshow_basic_info(assessments_df)","037ee063":"courses_df = pd.read_csv('..\/input\/ouladdata\/courses.csv')\n#courses_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/courses.csv')\nshow_basic_info(courses_df)","44a66818":"studentAssessment_df = pd.read_csv('..\/input\/ouladdata\/studentAssessment.csv')\n#studentAssessment_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentAssessment.csv')\nshow_basic_info(studentAssessment_df)","9e1f2255":"studentInfo_df = pd.read_csv('..\/input\/ouladdata\/studentInfo.csv')\n#studentInfo_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentInfo.csv')\nshow_basic_info(studentInfo_df)","1890c077":"studentRegistration_df = pd.read_csv('..\/input\/ouladdata\/studentRegistration.csv')\n#studentRegistration_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentRegistration.csv')\nshow_basic_info(studentRegistration_df)","04bcb632":"vle_df = pd.read_csv('..\/input\/ouladdata\/vle.csv')\n#vle_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/vle.csv')\nshow_basic_info(vle_df)","c261c908":"#Checking gender distribution\nsns.countplot(studentInfo_df.gender);    #this shows that courses data is almost equally distributed on gender","3bfe68e8":"#Now let's try the same on age\nstudentInfo_df[['id_student', 'age_band']].groupby(by='age_band').count().plot.bar();    #this shows majority of students fall in age band of 0-35","1eed0c1a":"#Now let's try the same on region\nstudentInfo_df[['id_student', 'region']].groupby(by='region').count().plot.bar();","5c565d08":"# What if we want to do a multi dimensional visualization?\n# Pandas provide this using crosstab\n# crosstab: Compute a simple cross-tabulation of two (or more) factors. By default computes a frequency table of the factors \n# unless an array of values and an aggregation function are passed.","f53048dd":"pd.crosstab(studentInfo_df.region, studentInfo_df.age_band).plot.barh(stacked = True);","8644227e":"# How to visualize continous variables, ouliers?\n# Python provides us boxplot for this.\n# boxplot:  The box plot (a.k.a. box and whisker diagram) is a standardized way of displaying the \n# distribution of data based on the five number summary: \n# minimum, first quartile, median, third quartile, and maximum.","ddf50267":"studentInfo_df.drop(['id_student', 'num_of_prev_attempts'], axis=1).boxplot(by = 'region')\nplt.xticks(rotation = 90)    #without this, x-labels overlap","0546fc6b":"# plotting boxplot using seaborn\nsns.boxplot(x = 'region', y = 'studied_credits', data=studentInfo_df)\nplt.xticks(rotation = 90)","2cbea432":"# selecting a subset of cols which are of importance to us and grouping them by student id and aggregating them using median\nstudentPerformance_df = studentInfo_df[['id_student', 'num_of_prev_attempts', 'studied_credits']].groupby('id_student').median()","55a7068d":"studentPerformance_df.head()","c259d448":"# Here above if you notice, indices are random. Since we have selected it from df, we need to reset them\nstudentPerformance_df = studentPerformance_df.reset_index()","b1957afa":"studentPerformance_df.head()","83f94845":"studentPerformance_df.num_of_prev_attempts.unique()","b39130af":"sns.countplot(studentPerformance_df.num_of_prev_attempts);","01361b82":"# the above countplot shows that most of the students are giving their 1st attempt (0 prev attempts)","26a09244":"studentProfile_df = studentInfo_df[['id_student', 'gender', 'region', 'highest_education', 'imd_band', 'age_band']].drop_duplicates()\n","c4f7734a":"show_basic_info(studentProfile_df)","52489ee1":"studentAges_df = studentInfo_df[['id_student', 'age_band']].groupby(['id_student']).count()\nstudentAges_df = studentAges_df.reset_index()\nstudentAges_df.age_band.hist();","eda2c968":"# majority of the students fall in age band of 0-35","8a866210":"sns.countplot(studentInfo_df.code_module)","f5c16479":"# course BBB and FFF are very famous","b0b6d1c1":"pd.crosstab(studentInfo_df.code_module, studentInfo_df.code_presentation).plot.barh(stacked = True);","8007740d":"# 'B' is for courses offered in Feb and 'J' is for courses offered in Oct.\n# course 'CCC' is something introduced in 2014 only.\n# course 'AAA' has a very low student count as compared to other courses","0be93655":"studentInfo_df.head(2)","9b0c3563":"sns.pairplot(data=studentInfo_df[[\"code_module\",\"num_of_prev_attempts\"]],hue=\"code_module\", dropna=True, size=5);","15ad1732":"studentModuleLengths_df = studentInfo_df.merge(courses_df, on = ['code_module', 'code_presentation'], how='left')\nstudentModuleLengths_df = studentModuleLengths_df[['id_student', 'module_presentation_length']].groupby('id_student').median()\nstudentModuleLengths_df = studentModuleLengths_df.reset_index()","b70a4441":"show_basic_info(studentModuleLengths_df)","161a1f79":"sns.countplot(studentModuleLengths_df.module_presentation_length);","55fa67c1":"studentRegistration_df['unregistered'] = np.where(pd.isnull(studentRegistration_df.date_unregistration), 0, 1)\nstudentRegistration_df['registered'] = np.where(pd.isnull(studentRegistration_df.date_unregistration), 0, 1)","4089f968":"studentRegistration_df['register_days'] = (np.where(pd.isnull(studentRegistration_df.date_registration), 0, \n                                          studentRegistration_df.date_registration)).astype(int)\nstudentRegistration_df['unregister_days'] = (np.where(pd.isnull(studentRegistration_df.date_unregistration), 0, \n                                            studentRegistration_df.date_unregistration)).astype(int)\nstudentRegDays_df = studentRegistration_df[['id_student', 'register_days', \n                                   'unregister_days']].groupby(['id_student']).mean()\nstudentRegDays_df = studentRegDays_df.reset_index()\nstudentRegDays_df.head()","be786133":"studentInterest_df = studentRegistration_df[['id_student', 'registered', 'unregistered']].groupby(['id_student']).sum()\nstudentInterest_df = studentInterest_df.reset_index()","79c2726d":"show_basic_info(studentInterest_df)","55566a10":"studentInterest_df[['registered', 'unregistered']].boxplot();\n","d26fccfa":"studentInterest_df.unregistered.hist();","8d1f47d5":"studentAssessment_df['score'] = (np.where(pd.isnull(studentAssessment_df.score), 0, studentAssessment_df.score)).astype(int)","c6768ad2":"studentAssessment_df['assessment_mean'] = studentAssessment_df['score'].groupby(studentAssessment_df['id_assessment']) \\\n.transform('mean')","9b691b8c":"studentAssessment_df['score_std'] = studentAssessment_df.score\/studentAssessment_df.assessment_mean\n","4e20f953":"studentScoring_df = studentAssessment_df[['id_student', \n                                          'score_std']].groupby(['id_student']).median()\nstudentScoring_df = studentScoring_df.reset_index()\nstudentScoring_df.info()","9e2d0905":"studentScoring_df.score_std.hist();","f7bd64fe":"# splitting big file ~400+ MB into smaller chunks\n\n#for i,chunk in enumerate(pd.read_csv('..\/data\/raw\/studentVle.csv', chunksize=1500000)):\n#    chunk.to_csv('..\/data\/raw\/studentVle_{}.csv'.format(i))","03577e21":"studentVle_df1 = pd.read_csv('..\/input\/ouladdata\/studentVle_0.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_0.csv')","81d69d30":"studentVle_df2 = pd.read_csv('..\/input\/ouladdata\/studentVle_1.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_1.csv')","10b0f605":"studentVle_df3 = pd.read_csv('..\/input\/ouladdata\/studentVle_2.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_2.csv')","e8d4b502":"studentVle_df4 = pd.read_csv('..\/input\/ouladdata\/studentVle_3.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_3.csv')","9cf7d8a8":"studentVle_df5 = pd.read_csv('..\/input\/ouladdata\/studentVle_4.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_4.csv')","d2f47c01":"studentVle_df6 = pd.read_csv('..\/input\/ouladdata\/studentVle_5.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_5.csv')","c334423c":"studentVle_df7 = pd.read_csv('..\/input\/ouladdata\/studentVle_6.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_6.csv')","70347f19":"studentVle_df8 = pd.read_csv('..\/input\/ouladdata\/studentVle_7.csv')    #('https:\/\/raw.githubusercontent.com\/vjcalling\/OULAD-data-analysis-EDA-\/master\/data\/raw\/studentVle_7.csv')","1d1ecbb4":"studentVle_df = pd.concat([studentVle_df1,studentVle_df2, studentVle_df3, studentVle_df4, studentVle_df5, studentVle_df6, studentVle_df7, studentVle_df8])","1f962b59":"studentVle_df.shape","872e0e2b":"show_basic_info(studentVle_df)","c24317bc":"studentVle_df = studentVle_df.merge(vle_df, on = 'id_site', how = 'left')","d8507dc5":"sns.countplot(studentVle_df.activity_type)\nplt.xticks(rotation = 90)","a47cc048":"studentInteractivity_df = studentVle_df[['id_student', \n                                     'activity_type', 'sum_click']].groupby(['id_student', 'activity_type']).mean()\nstudentInteractivity_df = studentInteractivity_df.reset_index()\nstudentInteractivity_df.head()","b93d7f47":"# pivoting will help us reduce multiple rows per student to one single row with multiple columns \n# After this we can visualize the columns with missing data","45fcaf1d":"import missingno as msno","35b1bae5":"studentInteractivity_df = studentInteractivity_df.pivot(index='id_student', \n                                                    columns='activity_type', values='sum_click')\nstudentInteractivity_df = studentInteractivity_df.reset_index()\nmsno.matrix(studentInteractivity_df)\nstudentInteractivity_df = studentInteractivity_df.fillna(0)\nstudentInteractivity_df.info()","ecdf3721":"studentInteractivity_df = studentInteractivity_df[['id_student', 'forumng', 'homepage', 'oucollaborate',\n       'oucontent', 'ouwiki', 'page', 'questionnaire', 'quiz',\n       'resource', 'subpage', 'url']]","439fd698":"dataset = studentPerformance_df.merge(studentModuleLengths_df, \n                                    on = 'id_student', how='left')\ndataset = dataset.merge(studentInterest_df, \n                                    on = 'id_student', how='left')\ndataset = dataset.merge(studentRegistration_df[['id_student', 'register_days']], \n                                    on = 'id_student', how='left')\ndataset = dataset.merge(studentScoring_df, \n                                    on = 'id_student', how='left')\ndataset = dataset.merge(studentInteractivity_df, \n                                    on = 'id_student', how='left')\ndataset.info()","32772b6d":"msno.bar(dataset)\ndataset = dataset.fillna(0)","0e664ea9":"plt.matshow(dataset.corr());","c12f42ac":"from sklearn.preprocessing import RobustScaler\nfrom sklearn.decomposition import PCA\nfrom sklearn.cluster import k_means\nfrom sklearn.metrics import silhouette_score","49094f17":"# Scaling the data to bring into one range\nsc = RobustScaler()\n","606eea32":"dataset.score_std.plot.box()","93059872":"### b. Schema Involved","0d4b5629":"### Agenda","98c7a56a":"### c. EDA exercise on OULAD dataset","b90afb8c":"## OULAD: Open University Learning Analytics Dataset","b6e044db":"### a. More about dataset","ecc5f2d5":"A data frame with 32593 rows and 12 variables:\n\ncode_module\nName of course, for which student registered\n\ncode_presentation\nName of semester, for which student registered\n\nid_student\nUnique integer identifiing each student\n\ngender\nStudents gender\n\nregion\nUK region, in which student lives\n\nhighest_education\nHighest education student achieved before taking course\n\nimd_band\nIndex of Multiple Deprivation (see https:\/\/www.gov.uk\/government\/statistics\/english-indices-of-deprivation-2015) percentile, students with imd_band lower than 20 comes from the most deprived regions\n\nage_band\nAge band of student\n\nnum_of_prev_attempts\nNumber of student previous attempts on the selected course\n\nstudied_credits\nTotal credits student is studiing at the Open University during period of the course\n\ndisability\nStudent claims disability of any type, logical\n\nfinal_result\nStudent final result in the course\n\nRegion values\nEast Anglian Region\n\nScotland\n\nNorth Western Region\n\nSouth East Region\n\nWest Midlands Region\n\nWales\n\nNorth Region\n\nSouth Region\n\nIreland\n\nSouth West Region\n\nEast Midlands Region\n\nYorkshire Region\n\nLondon Region\n\nSee https:\/\/en.wikipedia.org\/wiki\/Regions_of_England for explanation.\n\nHighest education values\nHE Qualification - awarded after one year full-time study at the university or higher education institution\n\nA Level or Equivalent - secondary school leaving qualification\n\nLower Than A Level - did not completed secondary school\n\nPost Graduate Qualification - equal to Master degree more or less\n\nNo Formal quals - no previous formal education\n\nFinal result values\nPass - passed the course\n\nWithdrawn - whithdrawn the course before offical end\n\nFail - failed the course after taking final exam\n\nDistinction - passed course with outstanding results\n\nSource\nhttps:\/\/analyse.kmi.open.ac.uk\/open_dataset","f157ba94":"This page introduces the anonymised Open University Learning Analytics Dataset (OULAD). It contains data about courses, students and their interactions with Virtual Learning Environment (VLE) for seven selected courses (called modules). Presentations of courses start in February and October - they are marked by \u201cB\u201d and \u201cJ\u201d respectively. The dataset consists of tables connected using unique identifiers. All tables are stored in the csv format.\n\nKuzilek J., Hlosta M., Zdrahal Z. Open University Learning Analytics dataset Sci. Data 4:170171 doi: 10.1038\/sdata.2017.171 (2017).","de7b26f2":"a. More about dataset<br>\nb. Schema involved<br>\nc. EDA exercise on OULAD dataset<br>\nd. Folder structuring<br>\ne. Conclusion<br>","a3b79928":"A dataset containing demographical information about students, their courses attended and final results each of their course."}}