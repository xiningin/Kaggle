{"cell_type":{"c218a2bc":"code","42e9f734":"code","ffadc5e3":"code","5e1474f1":"code","8f3f8267":"code","d82dcb27":"code","b3382fa3":"code","cfb79219":"code","f41c0b84":"code","974fdbe2":"code","c52445a3":"code","5b7607a4":"code","e1d694da":"code","468b6d5c":"code","f4fce04a":"code","f54bc8d5":"code","3a74677e":"code","aafc58f0":"code","df38d843":"code","c54e0f24":"code","19bdeadf":"code","b427a459":"code","e176d8f3":"code","c0d00bfb":"code","101de3c2":"code","26e1aab6":"code","5666faf2":"code","6a71aa06":"code","812fac24":"code","24273517":"code","e6c6b324":"code","a74f624a":"code","117443a0":"code","5a76a088":"markdown","303252ff":"markdown","72d14c69":"markdown","158478a8":"markdown","87f97f8a":"markdown","46907020":"markdown","49dcfea7":"markdown","527d05b1":"markdown"},"source":{"c218a2bc":"import pandas as pd\nimport matplotlib.pyplot as plt \nimport numpy as np","42e9f734":"data = pd.read_csv('..\/input\/titanic\/train.csv',index_col = \"PassengerId\")\ntest = pd.read_csv('..\/input\/titanic\/test.csv',index_col = \"PassengerId\")\n\n#test_y = pd.read_csv('..\/dataset\/titanic\/gender_submission.csv',index_col = \"PassengerId\")\n","ffadc5e3":"indexs=  test.index","5e1474f1":"data.sample(2)","8f3f8267":"data.info()","d82dcb27":"data.shape","b3382fa3":"X = data.iloc[:,1:]\ny = data.iloc[:,0]","cfb79219":"X.columns","f41c0b84":"X['Ticket'].mode","974fdbe2":"y","c52445a3":"X.sample()","5b7607a4":"X =X.drop(columns =['Name'])","e1d694da":"X.info()","468b6d5c":"from sklearn.impute import SimpleImputer\nimputer_no = SimpleImputer(missing_values= np.nan ,strategy = 'mean')\nimputer_no.fit(X[['Pclass','Age','SibSp','Fare','Parch']])\nX[['Pclass','Age','SibSp','Fare','Parch']] = imputer_no.transform(X[['Pclass','Age','SibSp','Fare','Parch']])\n","f4fce04a":"imputer_cat = SimpleImputer(missing_values= np.nan ,strategy = 'most_frequent')\nimputer_cat.fit(X[['Sex','Cabin','Embarked','Ticket']])\nX[['Sex','Cabin','Embarked','Ticket']]=imputer_cat.transform(X[['Sex','Cabin','Embarked','Ticket']])","f54bc8d5":"X.info()","3a74677e":"from sklearn.compose import ColumnTransformer\nfrom sklearn.preprocessing import OneHotEncoder ","aafc58f0":"ct = ColumnTransformer(transformers= [('encoder',OneHotEncoder(handle_unknown='ignore'),[1,5,7,8])],remainder = 'passthrough')\nX=  ct.fit_transform(X)","df38d843":"from sklearn.model_selection import train_test_split \ntrain_X,test_X,train_y,test_y = train_test_split(X,y)","c54e0f24":"from sklearn.ensemble import RandomForestClassifier\nfrom sklearn.metrics import accuracy_score \nfor i in range(10,300,10):\n    classifier = RandomForestClassifier(n_estimators= i,criterion='gini' )\n    classifier.fit(train_X, train_y)\n    y_predict = classifier.predict(test_X)\n    print('for {} estimators and {}'.format({i},{accuracy_score(y_true=test_y,y_pred=y_predict)}))\n\n","19bdeadf":"test.columns","b427a459":"test.info()","e176d8f3":"test =test.drop(columns =['Name'])","c0d00bfb":"\nimputer_no.fit(test[['Pclass','Age','SibSp','Fare','Parch']])\ntest[['Pclass','Age','SibSp','Fare','Parch']] = imputer_no.transform(test[['Pclass','Age','SibSp','Fare','Parch']])\nimputer_cat.fit(test[['Sex','Cabin','Embarked','Ticket']])\ntest[['Sex','Cabin','Embarked','Ticket']]=imputer_cat.transform(test[['Sex','Cabin','Embarked','Ticket']])\ntest=  ct.transform(test)\n","101de3c2":"test","26e1aab6":"classifier = RandomForestClassifier(n_estimators= 150,criterion='gini')\nclassifier.fit(X, y)\ny_predict = classifier.predict(test)\npd.DataFrame(y_predict,index=indexs,columns=['Survived'] ).to_csv('output.csv')","5666faf2":"y_predict","6a71aa06":"#def unique_values(my_col):\n   # return my_col.nunique()","812fac24":"#train_X.apply(unique_values,axis = 0)","24273517":"#from sklearn.compose import ColumnTransformer\n#from sklearn.preprocessing import OneHotEncoder \n","e6c6b324":"#ct = ColumnTransformer(transformers= [('encoder',OneHotEncoder(),[2])],remainder = 'passthrough')\n#ct = ColumnTransformer(transformers= [('encoder',OneHotEncoder(),[9])],remainder = 'passthrough')\n#train_X = ct.fit_transform(train_X)","a74f624a":"#pd.DataFrame(train_X)","117443a0":"#train_X.describe()","5a76a088":"# train the model","303252ff":"## Encoding Categorical Data","72d14c69":"# import the data set","158478a8":"# specify the features and dependent variable","87f97f8a":"## dealing with missing values","46907020":"## Split our data ","49dcfea7":"# import the Libraries ","527d05b1":"# convert String to binary"}}