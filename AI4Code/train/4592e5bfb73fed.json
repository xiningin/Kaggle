{"cell_type":{"486e3ec9":"code","d5f4489c":"code","cdbee805":"code","b9ec9de4":"code","b85496d4":"code","bc3eb930":"code","56678e6b":"code","807368d5":"code","b6ad485c":"code","95114b70":"code","3863911b":"code","5b731b38":"code","f1f3c86c":"code","935829e9":"code","e4399dc0":"code","e1ee76f3":"code","2245e4ed":"code","32c220f7":"code","0043d3d5":"code","9ff91889":"code","920e8eb1":"code","a66a8414":"code","76d3c8ee":"code","e03539d3":"code","0654ea9f":"code","28e1f120":"code","5230d3f3":"markdown","424653b6":"markdown","1a18e216":"markdown","53be0c73":"markdown","33a4aa0d":"markdown","bde4dc93":"markdown","01da40f1":"markdown","624e84a8":"markdown","87be9d84":"markdown","beaec0f5":"markdown","4bbd1746":"markdown","6d0af93d":"markdown","e2c749b8":"markdown","78698e87":"markdown"},"source":{"486e3ec9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d5f4489c":"# Loading the dataset into notebook\n\ndata = pd.read_csv('\/kaggle\/input\/bank-telemarketing-campaign-case\/bank_marketing_updated_v1.csv')\n\ndata.head(4)","cdbee805":"# Formating the rows as there are some discrepencies in the first two rows\n\ndata = pd.read_csv('\/kaggle\/input\/bank-telemarketing-campaign-case\/bank_marketing_updated_v1.csv', skiprows = 2)\n\ndata.head(4) # this dataset looks good","b9ec9de4":"# 1. Dropping customer id column\ndata.drop('customerid', axis = 'columns', inplace = True)\n\ndata.head()","b85496d4":"# 2. Splitting 'jobedu' in two columns by using lambda function\n\n# Job column\ndata['job'] = data['jobedu'].apply(lambda x: x.split(',')[0])\n\n# Education column\ndata['education'] = data['jobedu'].apply(lambda x: x.split(',')[1])\n\n# Drop the 'jobedu' column\ndata.drop('jobedu', axis = 1, inplace = True)\n\n# Result\ndata.head()","bc3eb930":"# Checking the missing values\n\ndata.isnull().sum()","56678e6b":"# Dropping missing values in 'age' & response column\n\ndata.dropna(subset=['age'], inplace = True) # for age column\n\ndata.dropna(subset=['response'], inplace = True) # for response column\n\ndata.isnull().sum()","807368d5":"# Imputing values to the missing values for month column\n\nmonth_mode = data.month.mode()[0]\n\ndata.month.fillna(month_mode, inplace = True)\n\ndata.isnull().sum()","b6ad485c":"# 3. Splitting the month column in two\n\n# Month column\ndata['month1'] = data['month'].apply(lambda x: x.split(',')[0])\n\n# Year column\ndata['year'] = data['month'].apply(lambda x: x.split(',')[1])\n\n# Drop the 'month' column\ndata.drop('month', axis = 1, inplace = True)\n\n# Result\ndata.head()","95114b70":"# 4. Changing the datatypes of columns where necessary\n\ndata.age.astype('int32')\n\ndata.dtypes\n","3863911b":"# Job status category\n\ndata.job.value_counts()\n\ndata.job.value_counts().plot.barh()\nplt.show()\n","5b731b38":"# Percentage of each job using normalize\n\ndata.job.value_counts(normalize = True)\n\ndata.job.value_counts(normalize = True).plot.barh()\nplt.show()","f1f3c86c":"# Education variable\n\ndata.education.value_counts(normalize = True)\n\ndata.education.value_counts(normalize = True).plot.pie()\nplt.show()","935829e9":"# month variable\n\ndata.month1.value_counts()\n\ndata.month1.value_counts().plot.barh()\nplt.show()","e4399dc0":"# Age column\n\ndata.age.describe()","e1ee76f3":"# Lets take the salary, balance and age variables\n\n# 1. Age vs Salary\n\ndata.plot.scatter(x = \"age\", y = \"salary\")\nplt.show()","2245e4ed":"# 2. Age vs Balance\n\ndata.plot.scatter(x = \"age\", y = \"balance\")\nplt.show()","32c220f7":"# 2. Salary vs Balance\n\ndata.plot.scatter(x = \"salary\", y = \"balance\")\nplt.show()","0043d3d5":"# Using pair plots from seaborn library\n\nsns.pairplot(data = data, vars=['salary', 'balance', 'age'])\nplt.show()","9ff91889":"# Corr function\n\ndata[['age', 'salary', 'balance']].corr()","920e8eb1":"# Using seaborn heatmap\n\nsns.heatmap(data[['age', 'salary', 'balance']].corr(), annot= True, cmap = 'Blues')\nplt.show()","a66a8414":"# loan and balance -mean\n\ndata.groupby('loan')['balance'].mean()","76d3c8ee":"# loan and balance - median\n\ndata.groupby('loan')['balance'].median()","e03539d3":"# Plotting\n\nsns.boxplot(data.loan, data.balance)\nplt.show()","0654ea9f":"# Converting categorical variables into factors\n# 1 = yes\n# 0 = no\n\ndata['response_rate'] = np.where(data.response=='yes', 1, 0)\ndata.response_rate.value_counts()","28e1f120":"# Let\u2019s see how the response rate varies for different categories in marital status.\n\ndata.groupby('marital')['response_rate'].mean().plot.bar()\nplt.show()","5230d3f3":"3. Correlation Matrix","424653b6":"Regular function:\n\n> def square(x):\n>     return x * x\n    \nLambda function:\n\n> lambda x: x * x\n","1a18e216":"2. Pair Plot","53be0c73":"1. Scatter Plot","33a4aa0d":"### Analysis:\n\n#### 1. Univariate Analysis","bde4dc93":"1. After inspecting the dataset we can say that 'customerid' is of no importance in the analysis process, so we can drop it.\n2. The 'jobedu' column should be separeted into two different columns\n3. We can create a separate column for year\n4. We can change the datatypes of column 'age', 'month'\n","01da40f1":"**b. Categorical Ordered Univariate Analysis**","624e84a8":"### Handling Outliers:\n\nTwo types of outliers:\n1. Univariate Outlier\n2. Multivariate Outlier\n\nWe can handle outliers by either dropping them, imputing with values or leaving them as is.[](http:\/\/)","87be9d84":"**a. Numeric-Numeric Analysis**\n\nThis analysis can be perfomed by using:\n1. Scatter Plot\n2. Pair Plot\n3. Correlation Matrix","beaec0f5":"**c. Categorical-Categorical Analysis**","4bbd1746":"**a. Categorical Unordered Univariate Analysis**","6d0af93d":"**b. Numeric-Categorical Analysis**","e2c749b8":"**c . Numerical Univariate Analysis**","78698e87":"#### 2. Bivariate Analysis"}}