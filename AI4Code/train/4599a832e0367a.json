{"cell_type":{"1a6d2be4":"code","00bb165f":"code","72924bf2":"code","0eda1684":"code","b400574c":"code","b69b65ca":"code","500d6446":"code","e130fd98":"code","3dc9da46":"code","d8ebf0cb":"code","9dde8441":"code","272a54ef":"code","dcce87da":"code","de953ef1":"code","bbd30543":"code","bd28142c":"code","2f81b159":"code","f8b1d473":"code","56ed9df8":"code","dec29d65":"code","0902546b":"code","043821f3":"code","287a9ddb":"code","ec5e0e11":"code","5f2d1fa7":"code","f456b6b9":"code","eef45a12":"code","47cc5a3a":"code","b9058f8c":"code","a3143f67":"code","9b5ce0cb":"code","61e7d17c":"code","a0bb4567":"code","45f64387":"code","1f227d2c":"code","36a07e73":"code","bed012a2":"code","c8bde539":"code","991559ea":"code","aec12c27":"code","8bc71f17":"code","e47afae9":"code","bca41152":"code","09ea78a6":"code","ac5a2068":"code","067b3a28":"code","6828050a":"code","1f36f318":"code","e3d05044":"code","457d2f44":"code","9adb6e38":"code","1bd548cb":"code","aa1c4b8c":"code","e5cb7ed2":"code","fbefa5a5":"code","f7ef7bbe":"code","8739fe9f":"code","d1531744":"code","dabba0ca":"code","cdca648d":"code","f96ac044":"code","79a8dd19":"code","549048b6":"markdown","d1acadef":"markdown","2fe26c2c":"markdown","1846feb6":"markdown","b48402d9":"markdown","5fe12223":"markdown","784c91be":"markdown","369f7624":"markdown","f54ed9c7":"markdown","383f90f3":"markdown","b2f73132":"markdown","90d06652":"markdown","22dd56a8":"markdown","e72ee5ee":"markdown","dafe8c16":"markdown","ec5c5c64":"markdown","16d51f3c":"markdown","e88fb005":"markdown","729fa68f":"markdown","06af1b50":"markdown","52b45029":"markdown","6b72431e":"markdown"},"source":{"1a6d2be4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","00bb165f":"df = pd.read_csv(r'\/kaggle\/input\/top-personality-dataset\/2018-personality-data.csv')\n","72924bf2":"df.shape","0eda1684":"df.describe()","b400574c":"df.info()","b69b65ca":"#The column names have space so I will get rid of it\n\ncolumns_names = {' openness': 'openness', ' agreeableness': 'agreeableness', ' emotional_stability': 'emotional_stability',\n               ' conscientiousness': 'conscientiousness', ' extraversion': 'extraversion', ' assigned metric': 'assigned metric',\n               ' assigned condition': 'assigned condition', ' is_personalized': 'is_personalized', ' enjoy_watching ': 'enjoy_watching'}\ndf = df.rename(columns=columns_names)","500d6446":"df.shape","e130fd98":"# here I will do the same thing with the string vlues\n\ndf['assigned metric'] = df['assigned metric'].replace([' serendipity'], 'serendipity')\ndf['assigned metric'] = df['assigned metric'].replace([' popularity'], 'popularity')\ndf['assigned metric'] = df['assigned metric'].replace([' diversity'], 'diversity')\ndf['assigned condition'] = df['assigned condition'].replace([' low'], 'low')\ndf['assigned condition'] = df['assigned condition'].replace([' medium'], 'medium')\ndf['assigned condition'] = df['assigned condition'].replace([' high'], 'high')","3dc9da46":"df.head()","d8ebf0cb":"personality = ['openness', 'agreeableness', 'emotional_stability', 'conscientiousness', 'extraversion']\n\nfor i in personality:\n    plt.hist(df[i])\n    plt.title(i)\n    plt.show()\n    ","9dde8441":"sns.heatmap(df[personality].corr(), annot = True)","272a54ef":"sns.factorplot( x = 'agreeableness', y = 'enjoy_watching', data = df)","dcce87da":"sns.heatmap(df[['agreeableness','enjoy_watching']].corr(), annot = True)","de953ef1":"df","bbd30543":"df_diversity_high = df[(df['assigned metric'] == 'diversity')\n                                   & (df[ 'assigned condition'] == 'high')]\n\ndf_diversity_low = df[(df['assigned metric'] == 'diversity')\n                                  & (df[ 'assigned condition'] == 'low')]\n\ndf_popularity_high = df[(df['assigned metric'] == 'popularity')\n                                    & (df[ 'assigned condition'] == 'high')]\n\ndf_popularity_low = df[(df['assigned metric'] == 'popularity')\n                                   & (df[ 'assigned condition'] == 'low')]\n\ndf_serendipity_high = df[(df['assigned metric'] == 'serendipity')\n                                     & (df[ 'assigned condition'] == 'high')]\n\ndf_serendipity_low= df[(df['assigned metric'] == 'serendipity')\n                                   & (df[ 'assigned condition'] == 'low')]","bd28142c":"print('diversity high:', df_diversity_high.shape, 'diversity low:', df_diversity_low.shape ,'\\n popularity high:', df_popularity_high.shape,'popularity low', df_popularity_low.shape, '\\n df_serendipity high:', df_serendipity_high.shape, 'df_serendipity low:', df_serendipity_low.shape)","2f81b159":"\n\nsns.regplot(x = 'openness' , y = 'enjoy_watching', data = df_diversity_high, color = 'b', x_estimator = np.mean )\nsns.regplot(x = 'openness' , y = 'enjoy_watching', data = df_diversity_low, color = 'r' ,x_estimator = np.mean )\n\nplt.title('Openness - diversity')","f8b1d473":"sns.regplot(x = 'openness' , y = 'enjoy_watching', data = df_serendipity_high, color = 'b' , x_estimator = np.mean)\nsns.regplot(x = 'openness' , y = 'enjoy_watching', data = df_serendipity_low, color = 'r' ,  x_estimator = np.mean)\nplt.title('Openness - serendipity')","56ed9df8":"sns.regplot(x = 'openness' , y = 'enjoy_watching', data = df_popularity_high, color = 'b',  x_estimator = np.mean )\nsns.regplot(x = 'openness' , y = 'enjoy_watching', data = df_popularity_low, color = 'r',  x_estimator = np.mean )\nplt.title('Openness - popularity')","dec29d65":"\n\nsns.regplot(x = 'conscientiousness' , y = 'enjoy_watching', data = df_diversity_high, color = 'b',  x_estimator = np.mean)\nsns.regplot(x = 'conscientiousness' , y = 'enjoy_watching', data = df_diversity_low, color = 'r',  x_estimator = np.mean)\n\nplt.title('conscientiousness - diversity')","0902546b":"sns.regplot(x = 'conscientiousness' , y = 'enjoy_watching', data = df_serendipity_high , color = 'b',  x_estimator = np.mean)\nsns.regplot(x = 'conscientiousness' , y = 'enjoy_watching', data = df_serendipity_low, color = 'r',  x_estimator = np.mean )\n\nplt.title('conscientiousness - serendipity')","043821f3":"sns.regplot(x = 'conscientiousness' , y = 'enjoy_watching', data = df_popularity_high , color = 'b',  x_estimator = np.mean)\nsns.regplot(x = 'conscientiousness' , y = 'enjoy_watching', data = df_popularity_low, color = 'r',  x_estimator = np.mean )\n\nplt.title('conscientiousness - popularity')","287a9ddb":"sns.regplot(x = 'extraversion' , y = 'enjoy_watching', data = df_diversity_high, color = 'b',  x_estimator = np.mean)\nsns.regplot(x = 'extraversion' , y = 'enjoy_watching', data = df_diversity_low, color = 'r',  x_estimator = np.mean)\n\nplt.title('extraversion - diversity')","ec5e0e11":"sns.regplot(x = 'extraversion' , y = 'enjoy_watching', data = df_serendipity_high, color = 'b',  x_estimator = np.mean)\nsns.regplot(x = 'extraversion' , y = 'enjoy_watching', data = df_serendipity_low, color = 'r',  x_estimator = np.mean)\n\nplt.title('extraversion - serendipity')","5f2d1fa7":"sns.regplot(x = 'extraversion' , y = 'enjoy_watching', data = df_popularity_high, color = 'b',  x_estimator = np.mean)\nsns.regplot(x = 'extraversion' , y = 'enjoy_watching', data = df_popularity_low, color = 'r',  x_estimator = np.mean)\n\nplt.title('extraversion - popularity')","f456b6b9":"# Here the assigned conditions are replaced by numbers \n\ndf['assigned condition'] = df['assigned condition'].replace(['low'], 0.0)\ndf['assigned condition'] = df['assigned condition'].replace(['medium'], 1.0)\ndf['assigned condition'] = df['assigned condition'].replace(['high'], 2.0)","eef45a12":"df = df[df['assigned condition'] != ' default']","47cc5a3a":"\n\ndf_high_openness_diversity = df[(df['openness'] > (df['openness'].mean() + df['openness'].std())) \n                                & (df['assigned metric'] == 'diversity')]\ndf_high_openness_popularity = df[(df['openness'] > (df['openness'].mean() + df['openness'].std()))\n                                 & (df['assigned metric'] == 'popularity')]\ndf_high_openness_serendipity = df[(df['openness'] > (df['openness'].mean() + df['openness'].std())) \n                                  & (df['assigned metric'] == 'serendipity')]\ndf_low_openness_diversity = df[(df['openness'] < (df['openness'].mean() - df['openness'].std())) \n                               & (df['assigned metric'] == 'diversity')]\ndf_low_openness_popularity = df[(df['openness'] < (df['openness'].mean() - df['openness'].std())) \n                                & (df['assigned metric'] == 'popularity')]\ndf_low_openness_serendipity = df[(df['openness'] < (df['openness'].mean() - df['openness'].std())) \n                                 & (df['assigned metric'] == 'serendipity')]\n","b9058f8c":"\n\ndf_high_conscientiousness_diversity = df[(df['conscientiousness'] > (df['conscientiousness'].mean() + df['conscientiousness'].std()))\n                                         & (df['assigned metric'] == 'diversity')]\ndf_high_conscientiousness_popularity = df[(df['conscientiousness'] > (df['conscientiousness'].mean() + df['conscientiousness'].std()))\n                                          & (df['assigned metric'] == 'popularity')]\ndf_high_conscientiousness_serendipity = df[(df['conscientiousness'] > (df['conscientiousness'].mean() + df['conscientiousness'].std()))\n                                           & (df['assigned metric'] == 'serendipity')]\ndf_low_conscientiousness_diversity = df[(df['conscientiousness'] < (df['conscientiousness'].mean() - df['conscientiousness'].std()))\n                                        & (df['assigned metric'] == 'diversity')]\ndf_low_conscientiousness_popularity = df[(df['conscientiousness'] < (df['conscientiousness'].mean() - df['conscientiousness'].std()))\n                                         & (df['assigned metric'] == 'popularity')]\ndf_low_conscientiousness_serendipity = df[(df['conscientiousness'] < (df['conscientiousness'].mean() - df['conscientiousness'].std())) \n                                          & (df['assigned metric'] == 'serendipity')]\n","a3143f67":"df_high_extraversion_diversity = df[(df['extraversion'] > (df['extraversion'].mean() + df['extraversion'].std()))\n                                    & (df['assigned metric'] == 'diversity')]\ndf_high_extraversion_popularity = df[(df['extraversion'] > (df['extraversion'].mean() + df['extraversion'].std()))\n                                     & (df['assigned metric'] == 'popularity')]\ndf_high_extraversion_serendipity = df[(df['extraversion'] > (df['extraversion'].mean() + df['extraversion'].std()))\n                                      & (df['assigned metric'] == 'serendipity')]\ndf_low_extraversion_diversity = df[(df['extraversion'] < (df['extraversion'].mean() - df['extraversion'].std())) \n                                   & (df['assigned metric'] == 'diversity')]\ndf_low_extraversion_popularity = df[(df['extraversion'] < (df['extraversion'].mean() - df['extraversion'].std()))\n                                    & (df['assigned metric'] == 'popularity')]\ndf_low_extraversion_serendipity = df[(df['extraversion'] < (df['extraversion'].mean() - df['extraversion'].std())) \n                                     & (df['assigned metric'] == 'serendipity')]\n","9b5ce0cb":"new_dfs = [df_high_openness_diversity,\n           df_high_openness_popularity,\n           df_high_openness_serendipity,\n           df_low_openness_diversity,\n           df_low_openness_popularity,\n           df_low_openness_serendipity,\n          df_high_conscientiousness_diversity,\n           df_high_conscientiousness_popularity, \n           df_high_conscientiousness_serendipity,\n          df_low_conscientiousness_diversity,\n           df_low_conscientiousness_popularity, \n           df_low_conscientiousness_serendipity\n          , df_high_extraversion_diversity,\n           df_high_extraversion_popularity,\n           df_high_extraversion_serendipity\n          , df_low_extraversion_diversity,\n           df_low_extraversion_popularity, \n           df_low_extraversion_serendipity ]\n\nfor i in new_dfs:\n    print(i.shape)","61e7d17c":"\n\n\nsns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_openness_diversity )\n\n\n\nplt.title('High openness - diversity')\n\n\n\n","a0bb4567":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_openness_diversity)\nplt.title('Low openness - diversity')","45f64387":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_openness_serendipity )\nplt.title('High openness - serendipity')","1f227d2c":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_openness_serendipity )\nplt.title('Low openness - serendipity')","36a07e73":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_openness_popularity)\nplt.title('High openness - popularity')","bed012a2":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_openness_popularity)\nplt.title('Low openness - diversity')","c8bde539":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_conscientiousness_diversity)\nplt.title('High conscientiousness - diversity')","991559ea":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_conscientiousness_diversity)\nplt.title('Low conscientiousness - diversity')","aec12c27":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_conscientiousness_serendipity)\nplt.title('High conscientiousness - serendipity')","8bc71f17":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_conscientiousness_serendipity)\nplt.title('Low conscientiousness - serendipity')","e47afae9":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_conscientiousness_popularity)\nplt.title('High conscientiousness - popularity')","bca41152":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_conscientiousness_popularity)\nplt.title('Low conscientiousness - popularity')","09ea78a6":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_extraversion_diversity)\nplt.title('High extraversion - diversity')","ac5a2068":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_extraversion_diversity)\nplt.title('Low extraversion - diversity')","067b3a28":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_extraversion_serendipity)\nplt.title('High extraversion - serendipity')","6828050a":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_extraversion_serendipity)\nplt.title('Low extraversion - serendipity')","1f36f318":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_high_extraversion_popularity)\nplt.title('High extraversion - popularity')","e3d05044":"sns.factorplot(x = 'assigned condition', y = 'enjoy_watching', data = df_low_extraversion_popularity)\nplt.title('Low extraversion - popularity')","457d2f44":"df_popularity = df[df['assigned metric'] == 'popularity']","9adb6e38":"sns.factorplot(y = 'enjoy_watching', x = 'assigned condition', data = df_popularity)","1bd548cb":"features_personality = ['openness', 'agreeableness', 'emotional_stability', 'conscientiousness', 'extraversion', 'assigned condition', 'assigned metric']\n\nx_personality = df[features_personality]\ny = df['enjoy_watching']\n\nfrom sklearn.preprocessing import LabelEncoder\n\nfor i in features_personality:\n    label_encoder = LabelEncoder()\n    df[i] = label_encoder.fit_transform(df[i])","aa1c4b8c":"\nx_personality = df[features_personality]\ny = df['enjoy_watching']","e5cb7ed2":"from sklearn.model_selection import train_test_split\n\nxtrain, xvalid, ytrain, yvalid = train_test_split(x_personality, y, random_state=1)\n    ","fbefa5a5":"from sklearn.metrics import mean_absolute_error\nfrom sklearn.svm import SVC\nfrom sklearn.ensemble import RandomForestClassifier\nfrom xgboost import XGBRegressor\nfrom lightgbm import LGBMClassifier","f7ef7bbe":"x_personality.info()","8739fe9f":"error_xgb = []\nxtrain, xvalid, ytrain, yvalid = train_test_split(x_personality, y, random_state=1)\nfor i in range(1,1000,5):\n    \n\n my_model =XGBRegressor(n_estimators= i)\n my_model.fit(xtrain, ytrain)\n predict = my_model.predict(xvalid)\n error_xgb.append(mean_absolute_error(predict, yvalid))\n    \nplt.plot(range(1,1000,5), error_xgb)","d1531744":"min(error_xgb)","dabba0ca":"error_lgbm = []\nxtrain, xvalid, ytrain, yvalid = train_test_split(x_personality, y, random_state=1)\nfor i in range(1,100,5):\n    \n\n my_model2 =LGBMClassifier(n_estimators= i)\n my_model2.fit(xtrain, ytrain)\n predict = my_model2.predict(xvalid)\n error_lgbm.append(mean_absolute_error(predict, yvalid))\n    \nplt.plot(range(1,100,5), error_lgbm)","cdca648d":"min(error_lgbm)","f96ac044":"\nmy_model3 =SVC()\nmy_model3.fit(xtrain, ytrain)\npredict3 = my_model3.predict(xvalid)\nmean_absolute_error(predict3, yvalid)\n    ","79a8dd19":"my_model4 =RandomForestClassifier()\nmy_model4.fit(xtrain, ytrain)\npredict = my_model2.predict(xvalid)\nmean_absolute_error(predict, yvalid)\n    ","549048b6":"The visulization above illustrate that yes, personality has an effect on the user's taste.","d1acadef":"As shown here yes as lists become more popular users enjoy them more; however the change is  small, it is smaller than one standard deviation.\n","2fe26c2c":"This one is interesting since it showes that as consceintiousness increases people dislike lists with high serendipity and like lists with low serendipity.","1846feb6":"So from what is shown here we obsorve that as openness increases the 'enjoyed watching'  score increases as well when it comes to lists with low diversity. With lists with high diversity, openness score has almost no effect on 'enjoyed watching' score.","b48402d9":"# 3. Do people with high openness have the opposit taste of people with high conscientiousness?\n","5fe12223":"Now, I will try to answer the same question but i will use different aproach. I will create 6 new data frames each one with high\/low in openness, extraversion, and conscientiousness for every assigned metric, so in total there will be 18 data frames. The indipindant varible in the coming analysis would be the level of popularity or serendipity or the diversity and the dependant variable would be 'enjoyed watching'.\n\nThe way that I will make the new data frames and decide if certain user is high or low in a certain trait would be with using the average and standard deviation. if a certain user is one standard deviation higher than the average in a certain trait than he\/she would be included in the high data frames.","784c91be":"Here we could deduce from the graph that as people increase in consceintiousness their ratings to popular movie lists decreases.","369f7624":"# 2. Can personality affect's people's taste of the recommendation lists?\n\n","f54ed9c7":"# knowing the user's personality and the type of list that is given to him\/her how close  can our prediction of user's satisfaction be? \n\n","383f90f3":"The trend here is somewhat similar to that of conscientiousness when it comes to the diversity of the lists. As people become more extraverted they more and more like movies with low diversity and dislike movies with high diversity.","b2f73132":"Here we can see that lists with higher popularity are rated higher in 'enjoyed watching'. As openness increase, the 'enjoyed watching' score slightly increase as well.","90d06652":"The method that I will use to answer this question is to create 6 new data frames using the  three assigned metrics and the two assigned conditions. Then, I will look at the relationship between the user's score in a certain trait and his\/her 'enjoyed watching' rating.","22dd56a8":"The column names have space so I will get rid of it","e72ee5ee":"## Introduction\n\n\n\nThis notebook analyses a data frame that is composed of 1834 rows every row is about a user, and 34 columns. The data frame  contains mainly of 3 things: 1- measurements of 5 personality traits of the users 2- Information about movie lists provided to them 3- users opinion about the movie lists. The personality model that the user\u2019s personality was assessed based upon is called the big five personality scale and it is the most well researched personality model. From its name you know that it is comprised of 5 traits:\n\n1. extraversion\/introversion\n2. Agreeableness\n3. consciounsesness\n4. neuroticism\/emotional stability\n5. openness to experience\n\nFor more information visit: https:\/\/www.kaggle.com\/arslanali4343\/top-personality-dataset\/discussion\/187193\n\n# Questions & Hypothesis.\n\n\n1. Are Agreeable useres more inclinded to give higher ratings to the recomended lists?\n\nHypothesis: Yes, because they know that the recommmendator system's goal is to provide a satisfactory list and they want to fullfill the recommendator system's expectations.\n\n\n\n2. Can personality affect's people's taste of the provided movie lists?\n\nHypothesis: Yes, people with different personalities usually have different values (e.g. people in the higher end of the consciounsesness spectrum tend to value work more than those in the lower end)\n\n\n3. Do people with high openness have the opposit taste of people with high conscientiousness?\n\nHypothesis: Yes, beccause conscientiousness and openness are negatively correlated.\n\n4. Does lists with high popularity receive higher satisfaction score from the user?\n\nHypothesis: Yes, since popularity could be attributed to the high quality of the movies therefor, users are more likely to rate them with high score.\n\n\n5. knowing the user's personality and the type of list that is given to him\/her how close  can our prediction of user's satisfaction be? \n\n\n\n\n\n\n\n\n\n\n\n\n\n","dafe8c16":"You could see here there is a slight decrease in the 'enjoyed watching' score as conscientiousness inceases.","ec5c5c64":"# 4. Does lists with high popularity receive higher 'enjoy_watching' rating from the user?\n\n\n","16d51f3c":"Well, here the only thing we could deduce would be that people with higher openness on average give higher ratings to the lists , and people like lists with lower serendipity more.","e88fb005":"# 1. Are Agreeable useres more inclinded to give a high score about the recomended lists?","729fa68f":"With low diversity, as users increase in openness their 'enjoy_watching' rating increase as well and that is opposit to that of conscientiousness. However, the trends when it comes to high diversity are similar. The same patteren is repeated in other graphs, therefor the hypothesis partially holds. ","06af1b50":"The correlation is very low so the hypothesis does not hold.","52b45029":"So knowing the user's personality and the type of list we can predict how much they enjoyed the movie list with an error of 0.8402.","6b72431e":"So most of the distributions resemble kinda a normal distrubution but the opennes is more negative skewed, that might be attributed to the idea that people who score high in openness are more likely to like arts and movies are form of art."}}