{"cell_type":{"38e6dfd4":"code","0d54bbb6":"code","8d5856e3":"code","0ed67520":"code","ae795c75":"code","116a630a":"code","a9fe7554":"code","01d3d203":"code","72cbe05d":"code","f8c4ee1b":"markdown","d4286b23":"markdown","bb9cd64d":"markdown","a66ea67e":"markdown","4e620b6b":"markdown","25f9d5d5":"markdown","4c2cafdf":"markdown","102bf749":"markdown","424d202a":"markdown"},"source":{"38e6dfd4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\n\ndf = pd.read_csv('\/kaggle\/input\/uci-pro-road-cycling-dataset\/UCIRiders0519_2x.csv', delimiter=',')","0d54bbb6":"df_pcteams = df[df[\"Category\"] == \"PCT\"]\ndf_wtteams = df[(df[\"Category\"] == \"WTT\") | (df[\"Category\"] == \"PRO\")]\ndf_pro = df_pcteams.append(df_wtteams)\ndf_pro.head(10)","8d5856e3":"all_by_year = {}\nwtt_by_year = {}\npct_by_year = {}\nfor y in set(df_pro['Year']):\n    all_by_year[y] = df_pro[df_pro['Year'] == y]\n    wtt_by_year[y] = df_wtteams[df_pro['Year'] == y]\n    pct_by_year[y] = df_pcteams[df_pro['Year'] == y]\nfor y in set(df_pro['Year']):\n    print(y)\n    print(str(len(all_by_year[y]))+\"  <-  \"+str(len(wtt_by_year[y]))+\"  &  \"+str(len(pct_by_year[y])))\n    print('----------------------------------------')\n","0ed67520":"import matplotlib.pyplot as plt\nfig = plt.figure()\nfig.suptitle(\"Number of racers in top categories by year\")\nx = sorted(set(df_pro['Year']))\nnb_by_year_all = {}\nnb_by_year_wt = {}\nnb_by_year_cp = {}\nfor year in x:\n    nb_by_year_all[year] = len(all_by_year[year])\n    nb_by_year_wt[year] = len(wtt_by_year[year])\n    nb_by_year_cp[year] = len(pct_by_year[year])\nfig, ax = plt.subplots()\nax.plot(nb_by_year_all.keys(), nb_by_year_all.values(), label=\"All riders\")\nax.plot(nb_by_year_wt.keys(), nb_by_year_wt.values(), label=\"WT riders\")\nax.plot(nb_by_year_cp.keys(), nb_by_year_cp.values(), label=\"PC riders\")\nplt.legend()","ae795c75":"nb_all_team_by_year = {}\nnb_wt_team_by_year = {}\nnb_pc_team_by_year = {}\nfor year in x:\n    nb_all_team_by_year[year] = len(set(all_by_year[year]['Team Code']))\n    nb_wt_team_by_year[year] = len(set(wtt_by_year[year]['Team Code']))\n    nb_pc_team_by_year[year] = len(set(pct_by_year[year]['Team Code']))\nfig2 = plt.figure()\nfig2.suptitle(\"Number of teams in top categories by year\")\nfig2, ax2 = plt.subplots()\nax2.plot(nb_all_team_by_year.keys(), nb_all_team_by_year.values(), label=\"All teams\")\nax2.plot(nb_wt_team_by_year.keys(), nb_wt_team_by_year.values(), label=\"WT teams\")\nax2.plot(nb_pc_team_by_year.keys(), nb_pc_team_by_year.values(), label=\"PC teams\")\nplt.legend()","116a630a":"countries_by_year = {}\nfor year in x:\n    countries_by_year[year] = set(all_by_year[year]['Country'])\nriders_by_country_by_year = {}\nfor year in x:\n    riders_by_country_by_year[year] = all_by_year[year]['Country'].value_counts()\n    print(year)\n    print(riders_by_country_by_year[year].head(5))\n    print(\"**************\")","a9fe7554":"fra = {}\nbel = {}\nita = {}\nesp = {}\nger = {}\nned = {}\nfor year in x:\n    fra[year] = riders_by_country_by_year[year]['FRA']\n    bel[year] = riders_by_country_by_year[year]['BEL']\n    ita[year] = riders_by_country_by_year[year]['ITA']\n    esp[year] = riders_by_country_by_year[year]['ESP']\n    ger[year] = riders_by_country_by_year[year]['GER']\n    ned[year] = riders_by_country_by_year[year]['NED']\nfig3 = plt.figure()\nfig3.suptitle(\"Number of riders from major countries\")\nfig3, ax3 = plt.subplots()\nax3.plot(fra.keys(), fra.values(), label=\"France\")\nax3.plot(bel.keys(), bel.values(), label=\"Belgium\")\nax3.plot(ita.keys(), ita.values(), label=\"Italy\")\nax3.plot(esp.keys(), esp.values(), label=\"Spain\")\nax3.plot(ger.keys(), ger.values(), label=\"Germany\")\nax3.plot(ned.keys(), ned.values(), label=\"Netherlands\")\nplt.legend()","01d3d203":"continents_by_year = {}\nfor year in x:\n    continents_by_year[year] = set(all_by_year[year]['Continent'])\nriders_by_continent_by_year = {}\nfor year in x:\n    riders_by_continent_by_year[year] = all_by_year[year]['Continent'].value_counts()\n    print(year)\n    print(riders_by_continent_by_year[year])\n    print(\"**************\")","72cbe05d":"ame = {}\noce = {}\nasi = {}\nafr = {}\nfor year in x:\n    ame[year] = riders_by_continent_by_year[year]['AME']\n    oce[year] = riders_by_continent_by_year[year]['OCE']\n    asi[year] = riders_by_continent_by_year[year]['ASI']\n    afr[year] = riders_by_continent_by_year[year]['AFR']\nfig4 = plt.figure()\nfig4.suptitle(\"Number of extra-european riders by continent\")\nfig4, ax4 = plt.subplots()\nax4.plot(ame.keys(), ame.values(), label=\"Americas\")\nax4.plot(oce.keys(), oce.values(), label=\"Oceania\")\nax4.plot(asi.keys(), asi.values(), label=\"Asia\")\nax4.plot(afr.keys(), afr.values(), label=\"Africa\")\nplt.legend()","f8c4ee1b":"2008-2014 seemed to be a bad period for PC teams, with their number decreasing. It is on a growing tendancy since then.","d4286b23":"A hierarchy seems to appear within the presence of riders from various continents in the top divisions teams. Americas, then Oceania, and the others below. Presence of riders from Americas and Oceania is on a growing tendancy, whereas Asia is in stagnation. Africa had a peek in 2013, when MTN-Qhubeka (today Dimension Data) become a PC team, and then a WT team.","bb9cd64d":"In 2005, Italy and Spain were the most represented countries. But the number of their riders has strongly decreased since then. Meanwhile, numbers of riders from France and Belgium,who were quite fare from the lead kept constant. Thus, they now share the lead with Italy, while Spain is distanced. Behind, Netherlands, with its growing tendancy, took the 5th rank to Germany, whose tendancy is slightly decreasing.","a66ea67e":"**Internationalisation**","4e620b6b":"**Quick analysis on men top divisions teams**\n\nThis first notebook will be focused on teams from men first and second division. CTM are excluded because one year is missing, and because they are a very heterogeneous block, from full professionnal teams to full amateurs  teams. WTT and CPT are all full-professionnal teams, and run the major races of the season.","25f9d5d5":"We can notice variations each year in the number of riders from the two top divisions, but it remains in a range between 900 and 1100 riders. Number of WT riders is almost constant (let's assume slightly decreasing) while there are stronger variations in the number of riders from PC teams. Thus, the overall riders curve shapes like the PC riders curve, they are strongly correlated.","4c2cafdf":"**Number of riders and teams**","102bf749":"We can easily see that Europe provides really much more riders than any other continent in the two top divisions teams. So, we will let Europe apart and focus on these other continents.","424d202a":"The most represented countries are almost always the same: Italy, Spain, France, Belgium, Germany and Netherlands.\nLet's look how they evolved one from another."}}