{"cell_type":{"dfcd6250":"code","cc3a5ad3":"code","4292e6ed":"code","55116dbe":"code","c83e4b63":"code","54cfabbd":"code","822ea356":"code","b558ec56":"code","201d1c43":"code","e8097f55":"code","d2b5674b":"code","df22a0ba":"code","677f44fb":"markdown","4cb56699":"markdown","7200cdcf":"markdown","74bb21b1":"markdown","8e56ca9b":"markdown","5aff6b34":"markdown","cef3d87b":"markdown","05cc3bdd":"markdown","20d42597":"markdown","e813ed20":"markdown","af64de9d":"markdown","7808a3fa":"markdown","8bbe32cb":"markdown"},"source":{"dfcd6250":"# data analysis\nimport pandas as pd\nimport numpy as np\n\n# visualization\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nsns.set(style='ticks', rc={'figure.figsize': (15, 10)})","cc3a5ad3":"data = pd.read_csv(\"..\/input\/russian-demography\/russian_demography.csv\")","4292e6ed":"data.head()","55116dbe":"def detailed_analysis(df):\n  obs = df.shape[0]\n  types = df.dtypes\n  counts = df.apply(lambda x: x.count())\n  uniques = df.apply(lambda x: [x.unique()])\n  nulls = df.apply(lambda x: x.isnull().sum())\n  distincts = df.apply(lambda x: x.unique().shape[0])\n  missing_ratio = (df.isnull().sum() \/ obs) * 100\n  skewness = df.skew()\n  kurtosis = df.kurt()\n  print('Data shape:', df.shape)\n\n  cols = ['types', 'counts', 'nulls', 'distincts', 'missing ratio', 'uniques', 'skewness', 'kurtosis']\n  details = pd.concat([types, counts, nulls, distincts, missing_ratio, uniques, skewness, kurtosis], axis=1, sort=False)\n  \n  details.columns = cols\n  dtypes = details.types.value_counts()\n  print('____________________________\\nData types:\\n', dtypes)\n  print('____________________________')\n  return details","c83e4b63":"details = detailed_analysis(data)\ndetails","54cfabbd":"data.describe()","822ea356":"values = data.nlargest(70, columns='npg').drop_duplicates(subset='region')['npg']\nindexes = data.nlargest(70, columns='npg')['region']\nyears = data.nlargest(70, columns='npg').drop_duplicates(subset='region')['year']\n\nfig = plt.figure(figsize=(30, 15))\nplot = sns.barplot(indexes, values, ci=None)\n\nfor i in range(len(values)):\n    plot.text(i-0.18, 2, values.values[i], fontsize=30, rotation=15)\n    plot.text(i-0.2, 25, years.values[i], fontsize=30)","b558ec56":"fig = plt.figure(figsize=(30, 15))\nfeatures = ['npg', 'migratory_growth', 'birth_rate', 'death_rate']\ncolors = ['g', 'r', 'b', 'orange']\n\nfor x in range(len(features)):\n    fig1 = fig.add_subplot(2, 2, x + 1)\n    sns.boxenplot(data[features[x]], color=colors[x])\n    plt.axvline(data[features[x]].mean(), linestyle = \"dashed\", color =\"black\", label =\"Mean value for the data\")\n    plt.legend()","201d1c43":"correlations = data.corr()\n\nfig = plt.figure(figsize=(12, 10))\nsns.heatmap(correlations, annot=True, cmap='GnBu_r', center=1)","e8097f55":"sns.regplot(data.birth_rate, data.npg, color='red')\nplt.axvline(data.birth_rate.mean(), linestyle = \"dashed\", color =\"black\", label =\"Mean value for the birth_rate\")\nplt.axhline(data.npg.mean(), linestyle = \"dashed\", color =\"blue\", label =\"Mean value for the npg\")\n\nplt.legend()","d2b5674b":"sns.pairplot(data)","df22a0ba":"sns.jointplot(data.population, data.death_rate, kind='kde', height=10)","677f44fb":"# Introduction and uploading data","4cb56699":"**Acquire data**","7200cdcf":"# Exploratory Data Analysis (EDA)","74bb21b1":"<img src=\"https:\/\/shawglobalnews.files.wordpress.com\/2018\/09\/russia-pension-protests.jpg?quality=70&strip=all\" width=\"800\"\/>\n<br>**Hi, everyone! That's my brief analysis of Russian Demography Data (1990-2017).** Dataset contains demographic features like natural population growth, birth rate, population, etc.","8e56ca9b":"**Pair plot between all variables**","5aff6b34":"**Top biggest npg with region and year.** We use large value in nlargest since our data has a lot of duplicate values (we drop them) in \"region\" column","cef3d87b":"**Density plot between \"population\" and \"death_rate\"**","05cc3bdd":"**Correlation hearmap**","20d42597":"**Take a first look at our data**","e813ed20":"**Import packages**","af64de9d":"**Let's get detailed statistics on our data.** I created a function which shows us types, missing ratio, counts and other things","7808a3fa":"**Relationship between \"birth_rate\" and \"npg\" (nearly perfect correlation)**","8bbe32cb":"**DIstribution of some features**"}}