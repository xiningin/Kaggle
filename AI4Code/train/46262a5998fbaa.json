{"cell_type":{"09fa35fe":"code","6cef4cf3":"code","48eb9846":"code","46c581f1":"code","5d9c6171":"code","e3a7a6ec":"code","8dde4544":"code","e672384f":"code","c5d2ea9a":"code","65ceaec1":"code","09e0d09c":"markdown","34900eb3":"markdown","cddb570a":"markdown","8ad88cbf":"markdown","68b9c8ff":"markdown"},"source":{"09fa35fe":"import numpy as np\nimport pandas as pd\n\nfrom glob import glob\n\nimport spacy","6cef4cf3":"train_files = glob(\"..\/input\/feedback-prize-2021\/train\/*.txt\")\ntrain_files[:5]","48eb9846":"f = open(train_files[0], \"r\")\nprint(f.read())","46c581f1":"train = pd.read_csv(\"..\/input\/feedback-prize-2021\/train.csv\")","5d9c6171":"train[\"id\"].value_counts()","e3a7a6ec":"train[\"discourse_type\"].value_counts()","8dde4544":"sample_file_path = \"..\/input\/feedback-prize-2021\/train\/AFEC37C2D43F.txt\"\nf = open(sample_file_path, \"r\")\nprint(f.read())","e672384f":"train.query('id == \"AFEC37C2D43F\"')","c5d2ea9a":"train.query('id == \"AFEC37C2D43F\"')[\"discourse_type\"].value_counts()","65ceaec1":"sample_file_path = \"..\/input\/feedback-prize-2021\/train\/AFEC37C2D43F.txt\"\nsample_file_id = sample_file_path[35:-4] #AFEC37C2D43F\n\nents = []\nfor i, row in train[train['id'] == sample_file_id].iterrows():\n    ents.append({\n                    'start': int(row['discourse_start']), \n                     'end': int(row['discourse_end']), \n                     'label': row['discourse_type']\n                })\n\nwith open(sample_file_path, 'r') as file: data = file.read()\n\ndocData = {\n    \"text\": data,\n    \"ents\": ents,\n}\n\ncolors = {'Lead': '#EE11D0',\n          'Position': '#AB4DE1',\n          'Claim': '#1EDE71',\n          'Evidence': '#33FAFA',\n          'Counterclaim': '#4253C1',\n          'Concluding Statement': 'yellow',\n          'Rebuttal': 'red'}\noptions = {\"ents\": train.discourse_type.unique().tolist(), \"colors\": colors}\nspacy.displacy.render(docData, style=\"ent\", options=options, manual=True, jupyter=True);","09e0d09c":"# check dataframe data","34900eb3":"##### discourse_type is target ","cddb570a":"# check file contents","8ad88cbf":"# check target counts","68b9c8ff":"# colorize contents by discourse_type"}}