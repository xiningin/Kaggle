{"cell_type":{"6ba326e3":"code","87b7426e":"code","843f65a3":"code","932f7b85":"code","9151a01c":"code","e4b8cca8":"code","8a42f154":"code","3e7c0b19":"code","43cd3412":"code","99e2d627":"code","fec1a9e5":"code","c7e7fecf":"code","5c37e766":"code","80e23b0c":"code","85437346":"code","4c400849":"code","d587cded":"code","38f91164":"code","2c9cb505":"code","921caf41":"code","18590367":"code","bfbf4682":"code","2218569b":"code","a9d39b46":"code","cc5a0507":"code","941602fd":"code","baa57344":"code","fd16f723":"code","cb17bedb":"code","83ba7f0a":"code","31063caf":"code","8ee29cf0":"code","d643722c":"code","c0f64d07":"code","d3c22a12":"code","65f8421f":"code","8a035db2":"code","91313d5a":"code","168dc03b":"code","1d799ff3":"code","fe9e4cc2":"code","15a922c4":"code","0224301a":"code","7b0453e5":"code","9ebce56b":"code","ed786787":"code","216a9c07":"code","569a92ca":"code","12db6d6e":"code","b28c06dc":"code","eccc6c12":"markdown","4f6659ba":"markdown","9676b52b":"markdown","99628c46":"markdown","8d8bb301":"markdown","24093268":"markdown","cce807a3":"markdown","6e291054":"markdown","3874b2ab":"markdown","54eda426":"markdown","4837b0ef":"markdown","d696d1df":"markdown","9c03f144":"markdown","adec468d":"markdown","6a4d5935":"markdown","d31d7284":"markdown","2d8e800d":"markdown","95f8334c":"markdown","7772c902":"markdown","c3a50d2a":"markdown","cc1e9ab4":"markdown","8ea322d2":"markdown","e0db73c2":"markdown","d18db7f8":"markdown","1f5644b5":"markdown"},"source":{"6ba326e3":"!pip install seaborn --upgrade","87b7426e":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","843f65a3":"df = pd.read_csv('..\/input\/human-resources-data-set\/HRDataset_v14.csv')","932f7b85":"df.info()","9151a01c":"# Check unique values for each fields except a few ones not so relevant\nfor c in df.columns:\n    if df[c].dtype == object and (c not in ('Employee_Name', 'DOB', 'DateofHire', 'DateofTermination', 'LastPerformanceReview_Date', 'ManagerName')):\n        print(c, df[c].unique())","e4b8cca8":"df.head()","8a42f154":"df['PerformanceScore'].unique()","3e7c0b19":"sns.catplot(x='PerformanceScore', data=df, kind=\"count\",height=5, aspect=1.5)","43cd3412":"sns.catplot(y='PerformanceScore', hue='Sex', data=df, kind=\"count\", height=5, aspect=1.5)","99e2d627":"sns.catplot(y='PerformanceScore', hue='Department', data=df, kind=\"count\", height=5, aspect=1.5)","fec1a9e5":"df['Department'].unique()","c7e7fecf":"perfs = ['Exceeds', 'Needs Improvement', 'PIP', 'Fully Meets']\ndps = ['Production       ', 'IT\/IS', 'Software Engineering',\n       'Admin Offices', 'Executive Office', 'Sales']\npalette1 ={\"IT\/IS\": \"C0\", \"Production       \": \"C1\", \"Software Engineering\": \"C2\", \"Admin Offices\":\"C3\", \"Sales\": \"C4\", \"Executive Office\":\"C5\"}\npalette2 ={\"Exceeds\": \"C0\", \"Needs Improvement\": \"C1\", \"PIP\": \"C2\", \"Fully Meets\":\"C3\"}","5c37e766":"plt.figure(figsize=(15, 10))\nfor ps in perfs:\n    sns.histplot(x='PerformanceScore', hue='Department', multiple='stack', shrink=.9, stat='probability',palette=palette1, data=df[df['PerformanceScore']==ps])","80e23b0c":"plt.figure(figsize=(15, 10))\nfor dp in dps:\n    sns.histplot(x='Department', hue='PerformanceScore', multiple='stack', shrink=.9, stat='probability',palette=palette2, data=df[df['Department']==dp])","85437346":"print(len(df['ManagerName'].unique()), \"unique managers are currently working in the company :\", df['ManagerName'].unique())","4c400849":"df_copy = df.copy()\n#df_copy['PerformanceScore'].replace({'Exceeds':3, 'Fully Meets':2, 'Needs Improvement':1, 'PIP':0}, inplace=True)\n\n# convert the float ManagerID field to string and remove the .0 at the end of each value\ndf_copy['ManagerID'] = df['ManagerID'].astype(str)\ndf_copy['ManagerID'] = df_copy['ManagerID'].apply(lambda x : x.split('.')[0])","d587cded":"sns.catplot(y='ManagerID', x='PerformanceScore', kind='swarm', data=df_copy[df_copy['ManagerID']!='nan'], height=10, aspect=1)","38f91164":"# Simple method to see performance results for each manager through a dataframe\ndf_copy.groupby('ManagerID')['PerformanceScore'].value_counts()","2c9cb505":"ids = ['30', '4', '20', '16', '39', '11', '10', '19', '12', '7', '14', '18', '3', '2', '1', '17', '5', '21', '6', '15', '13', '9', '22']","921caf41":"plt.figure(figsize=(15, 10))\nfor id in ids:\n    sns.histplot(x='ManagerID', data=df_copy[df_copy['ManagerID']==id], hue='PerformanceScore', stat='probability', multiple='stack', shrink=0.8, palette=palette2)","18590367":"ManagersIds = df_copy.groupby('ManagerID')['PerformanceScore'].count().sort_values(ascending=False).index","bfbf4682":"sns.catplot(y='ManagerID', hue='PerformanceScore', kind='count', data=df_copy, order=ManagersIds, palette=palette2, height=10, aspect=1)","2218569b":"# Ordering managers by number of good results\nManagersIds = df_copy.groupby('PerformanceScore')['ManagerID'].value_counts().reset_index(name='count')['ManagerID'].unique()","a9d39b46":"sns.catplot(y='ManagerID', hue='PerformanceScore', kind='count', data=df_copy, palette=palette2, order=ManagersIds, height=10, aspect=1)","cc5a0507":"sns.catplot(x='ManagerID', y='Salary', hue='PerformanceScore', kind='box', data=df_copy, height=10, aspect=3)","941602fd":"df_copy.head()","baa57344":"sns.countplot(y=df['Sex'])","fd16f723":"sns.histplot(x='Sex', data=df, stat='probability')","cb17bedb":"sns.countplot(y=df['Department'], hue=df['Sex'])","83ba7f0a":"sns.catplot(x='MaritalDesc', hue='Department', data=df, kind=\"count\",height=7, aspect=1)","31063caf":"races = df.groupby('RaceDesc')['EmpID'].count().sort_values(ascending=False).index\ndf.groupby('RaceDesc')['EmpID'].count().sort_values(ascending=False)","8ee29cf0":"sns.catplot(y='RaceDesc', data=df, kind='count', order=races,height=8, aspect=1)","d643722c":"df['Sex'].unique()","c0f64d07":"palette3 ={\"M \": \"C0\", \"F\": \"C1\"}\nraces = ['White', 'Black or African American', 'Two or more races', 'Asian', 'Hispanic', 'American Indian or Alaska Native']\npalette4 ={'White':\"C0\", 'Black or African American':\"C1\", 'Two or more races':\"C2\", 'Asian':\"C3\", 'Hispanic':\"C4\", 'American Indian or Alaska Native':\"C5\"}","d3c22a12":"plt.figure(figsize=(15, 8))\nfor r in races:\n    sns.histplot(x='RaceDesc', hue=\"Sex\", multiple=\"stack\", data=df[df['RaceDesc']==r], palette=palette3, stat='probability', shrink=.8)","65f8421f":"plt.figure(figsize=(15, 8))\nsns.histplot(x='Department', hue='RaceDesc', multiple='stack', data=df)","8a035db2":"dps = ['Sales', 'IT\/IS', 'Software Engineering',\n       'Admin Offices', 'Executive Office','Production       ']\nplt.figure(figsize=(15, 8))\nfor d in dps:\n    sns.histplot(x='Department', hue='RaceDesc', palette=palette4, stat='probability', multiple='stack', shrink=0.9, data=df[df['Department']==d])","91313d5a":"df['RecruitmentSource'].unique()","168dc03b":"sns.catplot(y='RecruitmentSource', kind='count', order=df.groupby('RecruitmentSource')['EmpID'].count().sort_values(ascending=False).index, data=df)","1d799ff3":"sources = ['Other', 'LinkedIn', 'Google Search', 'Employee Referral','Diversity Job Fair', 'On-line Web application', 'CareerBuilder', 'Website', 'Indeed']","fe9e4cc2":"plt.figure(figsize=(20, 8))\nfor s in sources:\n    sns.histplot(x='RecruitmentSource', hue='RaceDesc', data=df[df['RecruitmentSource']==s], stat='probability', palette=palette4,shrink=0.9, multiple='stack')","15a922c4":"sns.displot(x=df['Salary'], height=6, aspect=1)","0224301a":"df['Salary'].hist(bins=50,color='darkred',alpha=0.3)","7b0453e5":"sns.displot(x=df['Salary'], kind='kde', height=6, aspect=1)","9ebce56b":"plt.figure(figsize=(10,5))\nsns.boxplot(x=df['Salary'])","ed786787":"plt.figure(figsize=(10,5))\nsns.boxplot(y=df['Sex'], x=df['Salary']\/1000)","216a9c07":"plt.figure(figsize=(10,5))\nsns.boxplot(y=df['Sex'], x=df['Salary']\/1000, hue=df['MarriedID'])","569a92ca":"sns.catplot(y='Department', x='Salary', data=df, kind=\"box\", height = 6, aspect = 1.5)","12db6d6e":"sns.catplot(y='Department', x='Salary', data=df, kind=\"violin\", height = 6, aspect = 1.5)","b28c06dc":"sns.catplot(y='Department', x='Salary', col='Sex', data=df, kind=\"box\", height = 10, aspect = 1)","eccc6c12":"Box plots give us informations about quartiles (Q1, Q2 or median, Q3) and outliers :","4f6659ba":"First, let's have a quick view on the distribution of salaries in the company. We can plot it by count :","9676b52b":"First, let's remind what are the unique values in PerformanceScore feature :","99628c46":"It's also interesting to see the distribution of salaries between individuals having different performance scores and differents managers supervising them :","8d8bb301":"How many managers are there in the company ?","24093268":"How is PerformanceScore distributed in the dataset ?","cce807a3":"### *Is the performance score unequal between different areas of the company ? Can we detect any relationship between who a person works for and their performance score ?*","6e291054":"The CSV revolves around a fictitious company and the core data set contains : **names**, **DOBs**, **age**, **gender**, **marital status**, **date of hire**, **reasons for termination**, **department**, whether they are **active or terminated**, **position title**, **pay rate**, **manager name**, **performance score**, **absences**, **most recent performance review date**, and **employee engagement score**.\n\nMany points of interest can be explored through all these variables. Because grasping relevant information is the key to set up a good management, it is important for companies to study this kind of dataset and sometimes when it's needed, make new decisions.\nThus, to help our company to evolve, a lot of questions can be addressed thanks to data analysis :\n- Is the performance score unequal between different areas of the company ?\n- Can we detect any relationship between who a person works for and their performance score ?\n- What is the overall diversity profile of the organization ?\n- What are our best recruiting sources if we want to ensure a diverse organization ?\n- Are there areas of the company where pay is not equitable ?\n- Can we predict who is going to terminate and who isn't ? What level of accuracy can we achieve on this ?\n- Which profiles tend to cumulate absences or to have a poor satisfaction working in the company ?\n","3874b2ab":"# Human Resources Study","54eda426":"Unlike a box plot, in which all of the plot components correspond to actual datapoints, the violin plot features a kernel density estimation of the underlying distribution :\n\n","4837b0ef":"Let's order them by decreasing number of good results :","d696d1df":"### About the data set","9c03f144":"Or by density :","adec468d":"# Exploratory Data Analysis","6a4d5935":"## Data visualization techniques, Exploratory Data Analysis","d31d7284":"It's also important to check the datatype of all our variables, how many observations we have and whether or not there are missing values. Here, no imputation will be needed.","2d8e800d":"The histogram below allows us to see the conditional probability of Department given Perfomance Score. It's a way to grasp the overall performance of the company but knowing the fact the production department is much bigger than other departments, we can do better taking the performance score given the department.","95f8334c":"As PerformanceScore is a categorical and ordinal feature, it is a good practice for machine learning purpose to encode it using LabelEncoder. Sklearn library contains a preprocessing method called LabelEncoder to do so but we can also do it manually to decide which numerical value we assign to each category. Later, we'll use the replace method to do the encoding. But for the moment, we can keep it like this to perform the plotting.","7772c902":"First, let's import the csv dataset.","c3a50d2a":"### *What are our best recruiting sources if we want to ensure a diverse organization ?*","cc1e9ab4":"### *Are there areas of the company where pay is not equitable ?*","8ea322d2":"The sales department needs to be watched since it's the department which requires the most performance improvement plan (PIP). These have been set to address failures to meet specific job goals or to ameliorate behavior-related concerns. ","e0db73c2":"Plotting the performance scores for each individual manager is relevant to see how they perform individually :","d18db7f8":"### *What is the overall diversity profile of the organization ?*","1f5644b5":"Which managers supervise the most in the company ?"}}