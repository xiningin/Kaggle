{"cell_type":{"2334ed6b":"code","4fcaf5fd":"code","97d83aee":"code","4bf67a6d":"code","cea7f4a0":"code","64b9d430":"code","79041142":"code","b7431f2b":"code","a3edf551":"code","e8eaf85d":"code","f1c2e676":"code","efa3c113":"code","8f0c673c":"code","a0b523aa":"code","e34a57fd":"code","aaceccae":"code","68de1905":"code","0b7db788":"code","21543845":"code","0634ea3c":"code","473b38f8":"code","d16c5496":"code","9ae613d0":"code","d666c4a6":"code","db853223":"code","974a209e":"code","9d3b1559":"code","a14eb570":"code","cbbfbcd8":"code","10721552":"code","f07f6c30":"markdown","adec5ce0":"markdown","e936d9fc":"markdown","f592c601":"markdown","58dba57c":"markdown","5a7b2c99":"markdown","dcd6e894":"markdown","e62e1f73":"markdown","37774ef7":"markdown","36897747":"markdown","c31de15e":"markdown","fd02aa35":"markdown","d4d98060":"markdown","a53869c4":"markdown","303e2276":"markdown","800db170":"markdown","1969f7d6":"markdown","9d07d0ff":"markdown","4ca4866d":"markdown","f9d2a90f":"markdown","bd450b08":"markdown","d6dcb552":"markdown","8cfce1e1":"markdown","a65e6167":"markdown","176091c5":"markdown","c82d57e0":"markdown","64c7f09c":"markdown","2adf7676":"markdown","8786dfda":"markdown","132a7a14":"markdown","47cf81f9":"markdown","02af82ee":"markdown"},"source":{"2334ed6b":"import pandas as pd\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns","4fcaf5fd":"df_fifa20 = pd.read_csv('..\/input\/fifa-20-complete-player-dataset\/players_20.csv')","97d83aee":"df_fifa20.head()","4bf67a6d":"df_fifa20.shape ","cea7f4a0":"df_fifa20.describe()","64b9d430":"df_fifa20.columns","79041142":"bundesliga = [\n  \"1. FC N\u00fcrnberg\", \"1. FSV Mainz 05\", \"Bayer 04 Leverkusen\", \"FC Bayern M\u00fcnchen\",\n  \"Borussia Dortmund\", \"Borussia M\u00f6nchengladbach\", \"Eintracht Frankfurt\",\n  \"FC Augsburg\", \"FC Schalke 04\", \"Fortuna D\u00fcsseldorf\", \"Hannover 96\",\n  \"Hertha BSC\", \"RB Leipzig\", \"SC Freiburg\", \"TSG 1899 Hoffenheim\",\n  \"VfB Stuttgart\", \"VfL Wolfsburg\", \"SV Werder Bremen\"\n]\n\npremierLeague = [\n  \"Arsenal\", \"Bournemouth\", \"Brighton & Hove Albion\", \"Burnley\",\n  \"Cardiff City\", \"Chelsea\", \"Crystal Palace\", \"Everton\", \"Fulham\",\n  \"Huddersfield Town\", \"Leicester City\", \"Liverpool\", \"Manchester City\",\n  \"Manchester United\", \"Newcastle United\", \"Southampton\", \n  \"Tottenham Hotspur\", \"Watford\", \"West Ham United\", \"Wolverhampton Wanderers\"\n]\n\nlaliga = [\n  \"Athletic Club de Bilbao\", \"Atl\u00e9tico Madrid\", \"CD Legan\u00e9s\",\n  \"Deportivo Alav\u00e9s\", \"FC Barcelona\", \"Getafe CF\", \"Girona FC\", \n  \"Levante UD\", \"Rayo Vallecano\", \"RC Celta\", \"RCD Espanyol\", \n  \"Real Betis\", \"Real Madrid\", \"Real Sociedad\", \"Real Valladolid CF\",\n  \"SD Eibar\", \"SD Huesca\", \"Sevilla FC\", \"Valencia CF\", \"Villarreal CF\"\n]\n\nseriea = [\n  \"Atalanta\",\"Bologna\",\"Cagliari\",\"Chievo Verona\",\"Empoli\", \"Fiorentina\",\"Frosinone\",\"Genoa\",\n  \"Inter\",\"Juventus\",\"Lazio\",\"Milan\",\"Napoli\",\"Parma\",\"Roma\",\"Sampdoria\",\"Sassuolo\",\"SPAL\",\n  \"Torino\",\"Udinese\"\n]\n\nsuperlig = [\n  \"Akhisar Belediyespor\",\"Alanyaspor\", \"Antalyaspor\",\"Medipol Ba\u015fak\u015fehir FK\",\"BB Erzurumspor\",\"Be\u015fikta\u015f JK\",\n  \"Bursaspor\",\"\u00c7aykur Rizespor\",\"Fenerbah\u00e7e SK\", \"Galatasaray SK\",\"G\u00f6ztepe SK\",\"Kasimpa\u015fa SK\",\n  \"Kayserispor\",\"Atiker Konyaspor\",\"MKE Ankarag\u00fcc\u00fc\", \"Sivasspor\",\"Trabzonspor\",\"Yeni Malatyaspor\"\n]\n\nligue1 = [\n  \"Amiens SC\", \"Angers SCO\", \"AS Monaco\", \"AS Saint-\u00c9tienne\", \"Dijon FCO\", \"En Avant de Guingamp\",\n  \"FC Nantes\", \"FC Girondins de Bordeaux\", \"LOSC Lille\", \"Montpellier HSC\", \"N\u00eemes Olympique\", \n  \"OGC Nice\", \"Olympique Lyonnais\",\"Olympique de Marseille\", \"Paris Saint-Germain\", \n  \"RC Strasbourg Alsace\", \"Stade Malherbe Caen\", \"Stade de Reims\", \"Stade Rennais FC\", \"Toulouse Football Club\"\n]\n\neredivisie = [\n  \"ADO Den Haag\",\"Ajax\", \"AZ Alkmaar\", \"De Graafschap\",\"Excelsior\",\"FC Emmen\",\"FC Groningen\",\n  \"FC Utrecht\", \"Feyenoord\",\"Fortuna Sittard\", \"Heracles Almelo\",\"NAC Breda\",\n  \"PEC Zwolle\", \"PSV\",\"SC Heerenveen\",\"Vitesse\",\"VVV-Venlo\",\"Willem II\"\n]\n\nliganos = [\n  \"Os Belenenses\", \"Boavista FC\", \"CD Feirense\", \"CD Tondela\", \"CD Aves\", \"FC Porto\",\n  \"CD Nacional\", \"GD Chaves\", \"Clube Sport Mar\u00edtimo\", \"Moreirense FC\", \"Portimonense SC\", \"Rio Ave FC\",\n  \"Santa Clara\", \"SC Braga\", \"SL Benfica\", \"Sporting CP\", \"Vit\u00f3ria Guimar\u00e3es\", \"Vit\u00f3ria de Set\u00fabal\"\n]","b7431f2b":"df_fifa20['league'] = df_fifa20['club'].apply(lambda row: 'bundesliga' if row in bundesliga \n                                              else ('premierLeague' if row in premierLeague else ('laliga' if row in laliga \n                                                                                                  else ('seriea' if row in seriea \n                                                                                                        else ('superlig' if row in superlig \n                                                                                                              else ('ligue1' if row in ligue1 \n                                                                                                                   else ('eredivisie' if row in eredivisie \n                                                                                                                        else ('liganos' if row in liganos\n                                                                                                                             else 'NaN'))))))))","a3edf551":"df_fifa20 = df_fifa20[df_fifa20.league != 'NaN'] #take off the Nan data from league column","e8eaf85d":"df_fifa20['value_eur'].fillna('0', inplace = True)","f1c2e676":"df_fifa20['value_eur'].isnull().sum()","efa3c113":"df_fifa20[df_fifa20['league'] == 'premierLeague'].count()","8f0c673c":"df_fifa20[['value_eur', 'league']].groupby('league').mean()","a0b523aa":"def plot_histogram(league,title,column):\n    df = df_fifa20.loc[df_fifa20['league']==league]\n    sns.distplot(df['value_eur'], bins= 30, kde=True, rug=False)\n    plt.xlabel(column)\n    plt.ylabel(\"frequency\")\n    plt.title(title)\n    return plt.show()","e34a57fd":"plot_histogram('premierLeague', 'Players values in Premier League', 'value_eur')","aaceccae":"def plot_hist_subplots(atribute, kde):\n    sns.set(style=\"white\", palette=\"muted\", color_codes=False)\n    rs = np.random.RandomState(10)\n\n    f, axes = plt.subplots(3, 3, figsize=(13, 13), sharex=True)\n    sns.despine(right=True)\n\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='bundesliga'][atribute], kde=kde, color=\"r\", ax=axes[0, 0]).set_title(\"bundesliga\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='eredivisie'][atribute], kde=kde, color=\"k\", ax=axes[0, 1]).set_title(\"eredivisie\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='laliga'][atribute], kde=kde, color=\"y\", ax=axes[0, 2]).set_title(\"laliga\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='liganos'][atribute], kde=kde, color=\"g\", ax=axes[1, 0]).set_title(\"liganos\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='ligue1'][atribute], kde=kde, color=\"m\", ax=axes[1, 1]).set_title(\"ligue1\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='premierLeague'][atribute], kde=kde, color=\"b\", ax=axes[1, 2]).set_title(\"premierLeague\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='seriea'][atribute], kde=kde, color=\"k\", ax=axes[2, 0]).set_title(\"seriea\")\n    sns.distplot(df_fifa20.loc[df_fifa20['league']=='superlig'][atribute], kde=kde, color=\"c\", ax=axes[2, 1]).set_title(\"superlig\")\n    #sns.distplot(df_fifa20.loc[df_fifa20['league']=='none'][atribute], kde=kde, color=\"k\", ax=axes[2, 2]).set_title(\"none\")\n\n\n    return plt.tight_layout()","68de1905":"plot_hist_subplots('value_eur', True)","0b7db788":"plot_hist_subplots('overall', True)","21543845":"def plot_bars(atribute):\n    df = df_fifa20[df_fifa20.league != 'NaN']\n    df = df.groupby('league', as_index=False, sort=False).sum().sort_values(by=[atribute], ascending=False)\n    return sns.barplot(x=atribute, y='league', data=df)","0634ea3c":"plot_bars('potential')","473b38f8":"sklis_vec =['pace', 'shooting', 'passing', 'dribbling', 'defending', 'physic', \n             'attacking_crossing', 'attacking_finishing', 'attacking_heading_accuracy', 'attacking_short_passing', \n             'attacking_volleys', 'skill_dribbling', 'skill_curve', 'skill_fk_accuracy', 'skill_long_passing', \n             'skill_ball_control', 'movement_acceleration', 'movement_sprint_speed', 'movement_agility', 'movement_reactions', \n             'movement_balance', 'power_shot_power', 'power_jumping', 'power_stamina', 'power_strength', 'power_long_shots', \n             'mentality_aggression', 'mentality_interceptions', 'mentality_positioning', 'mentality_vision', 'mentality_penalties', \n             'mentality_composure', 'defending_marking', 'defending_standing_tackle', 'defending_sliding_tackle', 'goalkeeping_diving', \n             'goalkeeping_handling', 'goalkeeping_kicking', 'goalkeeping_positioning', 'goalkeeping_reflexes']\n\nname_sklis_vec = ['short_name', 'pace', 'shooting', 'passing', 'dribbling', 'defending', 'physic', \n                 'attacking_crossing', 'attacking_finishing', 'attacking_heading_accuracy', 'attacking_short_passing', \n                 'attacking_volleys', 'skill_dribbling', 'skill_curve', 'skill_fk_accuracy', 'skill_long_passing', \n                 'skill_ball_control', 'movement_acceleration', 'movement_sprint_speed', 'movement_agility', 'movement_reactions', \n                 'movement_balance', 'power_shot_power', 'power_jumping', 'power_stamina', 'power_strength', 'power_long_shots', \n                 'mentality_aggression', 'mentality_interceptions', 'mentality_positioning', 'mentality_vision', 'mentality_penalties', \n                 'mentality_composure', 'defending_marking', 'defending_standing_tackle', 'defending_sliding_tackle', 'goalkeeping_diving', \n                 'goalkeeping_handling', 'goalkeeping_kicking', 'goalkeeping_positioning', 'goalkeeping_reflexes']","d16c5496":"df_fifa20_attributes_names = df_fifa20[name_sklis_vec]\ndf_fifa20_attributes_names = df_fifa20_attributes_names.dropna()\ndf_fifa20_attributes_names.head()","9ae613d0":"def plot_attributes(short_name):\n    df_fifa20_attributes_names = df_fifa20[name_sklis_vec]\n    df_fifa20_attributes_names = df_fifa20_attributes_names.dropna()\n    df_fifa20_attributes_names = df_fifa20_attributes_names.loc[df_fifa20['short_name']=='Neymar Jr'].reset_index()\n    df_fifa20_attributes_names_transpose = df_fifa20_attributes_names.T\n    y = df_fifa20_attributes_names_transpose.iloc[2:].index\n    x = df_fifa20_attributes_names_transpose[0].iloc[2:]\n    plt.figure(figsize= (10,15))\n    plt.barh(y,x)","d666c4a6":"plot_attributes('L. Messi')","db853223":"def plot_attributes(short_name1, short_name2):\n    \n    df_fifa20_attributes_names1 = df_fifa20[name_sklis_vec]\n    df_fifa20_attributes_names1 = df_fifa20_attributes_names1.dropna()\n    df_fifa20_attributes_names1 = df_fifa20_attributes_names1.loc[df_fifa20['short_name']==short_name1].reset_index()\n    df_fifa20_attributes_names_transpose1 = df_fifa20_attributes_names1.T\n    y1 = df_fifa20_attributes_names_transpose1.iloc[2:].index\n    x1 = df_fifa20_attributes_names_transpose1[0].iloc[2:]\n    \n    df_fifa20_attributes_names2 = df_fifa20[name_sklis_vec]\n    df_fifa20_attributes_names2 = df_fifa20_attributes_names2.dropna()\n    df_fifa20_attributes_names2 = df_fifa20_attributes_names2.loc[df_fifa20['short_name']==short_name2].reset_index()\n    df_fifa20_attributes_names_transpose2 = df_fifa20_attributes_names2.T\n    y2 = df_fifa20_attributes_names_transpose2.iloc[2:].index\n    x2 = df_fifa20_attributes_names_transpose2[0].iloc[2:]\n    \n    fig, axes = plt.subplots(ncols=2, sharey=True, figsize=(12,12))\n\n    axes[0].barh(y1, x1, align='center', color='red', zorder=10)\n    \n    axes[0].set(title=short_name1)\n\n    axes[1].barh(y2, x2, align='center', color='black', zorder=10)\n\n    axes[1].set(title=short_name2)\n    \n    axes[0].invert_xaxis()\n    #axes[0].set(yticks=df_male_1['age'])\n    #axes[0].yaxis.tick_right()\n    \n    plt.figure(figsize= (10,15))\n    \n    fig.tight_layout()\n    fig.subplots_adjust(wspace=0.09)\n    plt.show()","974a209e":"plot_attributes('Neymar Jr', \"L. Messi\")","9d3b1559":"plot_attributes('Cristiano Ronaldo', 'V. van Dijk')","a14eb570":"def comp_attr(club, attribute1, attribute2):\n    df_fifa20_select = df_fifa20.loc[df_fifa20['club']==club].reset_index()\n    \n    plt.figure(figsize= (10,10))\n    p1 = sns.regplot(x=attribute1, y=attribute2, data=df_fifa20_select,\n           fit_reg=True, marker = '+' # No regression line\n           )   # Color by evolution stage\n    \n    for line in range(0,df_fifa20_select.shape[0]):\n        p1.text(df_fifa20_select[attribute1][line], df_fifa20_select[attribute2][line], \n                df_fifa20_select.short_name[line], horizontalalignment='left', size='medium', color='black')\n\n    return ","cbbfbcd8":"comp_attr('Liverpool', 'pace', 'dribbling')","10721552":"comp_attr('Liverpool', 'defending_sliding_tackle', 'defending_marking')","f07f6c30":"## Analyze the attributes of each player using barplot","adec5ce0":"In this comparison we can see that Messi has higher skill values than Neymar in general terms. This comparison is more interesting when using players from totally different positions, such as Cristiano Ronaldo and V. van Dijk:","e936d9fc":"First we have to define each team within each league.","f592c601":"Function for plotting attributes of only one player.","58dba57c":"## Final Considerations\n\nIn this kernel we were able to make several comparisons between players from different leagues considering the data presented by the FIFA 20 game. The use of data in football is increasingly being used to choose teams and hire players. Right here we could see that with few lines of code some comparisons could be made.\n\nMore analysis could have been done. I look forward to adding further discussions and increasing the basis for further exploration of this dataset.\n\nThank you very much for following this development. I hope I contributed to your knowledge!\n\n\n","5a7b2c99":"# Import lybraris","dcd6e894":"We can see that Man\u00e9 and Salah have higher pace and dribblin values than defenders V. van Dijk and D. Lovren. But we can choose defensive characteristics to be analyzed also:","e62e1f73":"Create a function to plot any histogram","37774ef7":"Apply the vectors to the dataset and creat a new dataset just with the attributes about skill.","36897747":"Just to see what is in the imported data.","c31de15e":"\n# FIFA 20 Football Analysis\nIn this kernel I will perform some analysis based on FIFA 20 game data. The analyzes are intended to compare teams, players and other attributes of different footeball leagues of the world.\n\nKernel summary:\n\n* Import the data\n* View the imported data\n* Compare some players histograms between leagues\n* Analyze the attributes sum of each league\n* Analyze the attributes of each player\n* Analyse two attributes of each players in a club\n* Final Considerations","fd02aa35":"## Analyze the attributes sum of each league","d4d98060":"We can plot histograms from different leagues with this function:","a53869c4":"From the histograms presented, we see that there is an uneven distribution between the values of the players. The league with the most uniform distribution of values is the Premier League. This league also has the highest values among players. The Dutch league, on the other hand, has a less uniform distribution, with the majority of the values low compared to other leagues.","303e2276":"In this analysis we can see that the quality of the Premier League players is higher than that of the other leagues in general terms. Another interesting fact is the almost uniform distribution of overall values in Liganos.","800db170":"# Analyze the players values","1969f7d6":"We can see that the defensive attributes of V. van Dijk are much greater than those of Cristiano Ronaldo. But in comparison, the attributes of attack are greater on the side of the Portuguese player.","9d07d0ff":"# Import the data","4ca4866d":"We can also analyze the distribution of other attributes, like the players overall.","f9d2a90f":"Here we will analyze the distribution of player values among the proposed leagues.","bd450b08":"# View imported data","d6dcb552":"First create vectors with the names of each attribute that we will use in this analysis.","8cfce1e1":"First consider some statistics about the dataset.","a65e6167":"Some verification about ","176091c5":"Function to plot one attribute according to the of each player in a clue. ","c82d57e0":"We have 18278 players and 104 stats for each one","64c7f09c":"Now compare the attributes of two players.","2adf7676":"## Compare player values between leagues","8786dfda":"## Analyse two attributes of each players in a club","132a7a14":"In this case we can see that the defensive players are much superior. We can also see the high correlation between the two attributes used.","47cf81f9":"Now create a column with each player's league.","02af82ee":"\nHere we analyze the sum of some attributes of the players from each league."}}