{"cell_type":{"d96e82db":"code","02ba008e":"code","55ca9b5f":"code","b1f30b72":"code","52985d3e":"code","5b89c64a":"code","02c71dfe":"code","1068a5da":"code","5213bebb":"code","b4a08358":"code","48cf1b59":"code","956c2f08":"code","2f7328bb":"code","6391c983":"code","29a9c31e":"code","b6f17f9f":"code","ef3fb14b":"code","5db8536d":"code","e789bbe4":"code","004128c1":"code","6393d5b5":"code","315a6a97":"code","3c7b645f":"code","21519942":"code","e8212438":"code","dec0e41f":"code","fcc0e3ed":"code","19ce50c8":"markdown","745f8b45":"markdown","6f2c36f5":"markdown","3ccaee47":"markdown","891538c4":"markdown","e76bfb4e":"markdown","cb6f6740":"markdown","53e03890":"markdown","f1925f90":"markdown","e3757427":"markdown","f44cf466":"markdown","8d7c9217":"markdown","eb518163":"markdown","6a8eee55":"markdown","a287a6f9":"markdown","4af5252b":"markdown","69084551":"markdown","98f4e91b":"markdown","131e7537":"markdown","1b700f14":"markdown","4d30c09a":"markdown","cb1cba04":"markdown"},"source":{"d96e82db":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n        \nplt.style.use('fivethirtyeight')        \n%matplotlib inline","02ba008e":"!pip install openpyxl","55ca9b5f":"data=pd.read_excel('\/kaggle\/input\/2021-olympics-in-tokyo\/Medals.xlsx')\ndata.sample(6)","b1f30b72":"data.shape","52985d3e":"data.info()","5b89c64a":"data['Team\/NOC']= data['Team\/NOC'].astype(str)","02c71dfe":"top_30 = data.sort_values(by=['Total'],ascending=False)[:30]\n\nplt.rcParams['figure.figsize'] = (25, 7)\nax = sns.barplot(x = top_30['Team\/NOC'][:30], y = top_30['Total'][:30], palette = 'tab20c')\nax.bar_label(ax.containers[0])\nax.set_xlabel(xlabel = 'Countries', fontsize = 10)\nax.set_ylabel(ylabel = 'Total Medal Count', fontsize = 10)\nax.set_title(label = 'Top 30 winners', fontsize = 20)\nplt.xticks(rotation = 90)\nplt.show()","1068a5da":"plt.style.use(\"seaborn-talk\")\n\n\ndf = data\nseries_df = df.groupby('Team\/NOC')['Total'].sum().sort_values(ascending=False)\n\nlabels = []\nvalues = []\ncount = 10\nother_total = 0\nfor c in series_df.index:\n    if count > 0:\n        labels.append(c)\n        values.append(series_df[c])\n        count -= 1\n    else:\n        other_total += series_df[c]\nlabels.append(\"Other\")\nvalues.append(other_total)\n\nwedge_dict = {\n    'edgecolor': 'black',\n    'linewidth': 2        \n}\n\nexplode = (0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1)\n\nplt.title(f\"Total Share of in total medals from top 10 countries \")\nplt.pie(values, labels=labels, explode=explode, autopct='%1.1f%%', wedgeprops=wedge_dict,\n        shadow=True, startangle=90)\nplt.show()","5213bebb":"top_20 = data.sort_values(by=['Gold'],ascending=False)[:20]\nfig,axes = plt.subplots(1,1,figsize=(25,7))\nax = sns.barplot(x = top_20['Team\/NOC'][:20], y = top_20['Gold'][:20], palette = 'tab20c')\nax.bar_label(ax.containers[0])\nplt.xticks(rotation = 90)\nplt.title(f\"Top 20 countries to win most Gold medals.\")\nplt.show()","b4a08358":"series_df = df.groupby('Team\/NOC')['Gold'].sum().sort_values(ascending=False)\n\nlabels = []\nvalues = []\nother_total = 0\nfor c in series_df.index:\n    if series_df[c] >= 8:\n        labels.append(c)\n        values.append(series_df[c])\n    else:\n        other_total += series_df[c]\nlabels.append(\"Other\")\nvalues.append(other_total)\n\nexplode = (0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1 )\n\nplt.title(f\"Total Share in Gold medals of various countries\")\nplt.pie(values, labels=labels, explode=explode, autopct='%1.01f%%', wedgeprops= {'edgecolor': 'black','linewidth': 1 },\n        shadow=True, startangle=50)\nplt.show()","48cf1b59":"top_20 = data.sort_values(by=['Silver'],ascending=False)[:20]\nfig,axes = plt.subplots(1,1,figsize=(25,7))\nax = sns.barplot(x = top_20['Team\/NOC'][:20], y = top_20['Silver'][:20], palette = 'tab20c')\nax.bar_label(ax.containers[0])\nplt.xticks(rotation = 90)\nplt.title(f\"Top 20 countries to win most Silver medals.\")\nplt.show()","956c2f08":"series_df = df.groupby('Team\/NOC')['Silver'].sum().sort_values(ascending=False)\n\nlabels = []\nvalues = []\nother_total = 0\nfor c in series_df.index:\n    if series_df[c] >= 8:\n        labels.append(c)\n        values.append(series_df[c])\n    else:\n        other_total += series_df[c]\nlabels.append(\"Other\")\nvalues.append(other_total)\n\nexplode = (0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1 )\n\nplt.title(f\"Total Share in Silver medals of various countries \")\nplt.pie(values, labels=labels, explode=explode, autopct='%1.01f%%', wedgeprops= {'edgecolor': 'black','linewidth': 1 },\n        shadow=True, startangle=50)\nplt.show()","2f7328bb":"top_20 = data.sort_values(by=['Bronze'],ascending=False)[:20]\nfig,axes = plt.subplots(1,1,figsize=(25,7))\nax=sns.barplot(x = top_20['Team\/NOC'][:20], y = top_20['Bronze'][:20], palette = 'tab20c')\nax.bar_label(ax.containers[0])\nplt.xticks(rotation = 90)\nplt.title(f\"Top 20 countries to win most Bronze medals.\")\nplt.show()","6391c983":"series_df = df.groupby('Team\/NOC')['Bronze'].sum().sort_values(ascending=False)\n\nlabels = []\nvalues = []\nother_total = 0\nfor c in series_df.index:\n    if series_df[c] >= 10:\n        labels.append(c)\n        values.append(series_df[c])\n    else:\n        other_total += series_df[c]\nlabels.append(\"Other\")\nvalues.append(other_total)\n\nexplode = (0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1)\n\nplt.title(f\"Total Share in Bronze medals of various countries \")\nplt.pie(values, labels=labels, explode=explode, autopct='%1.01f%%', wedgeprops= {'edgecolor': 'black','linewidth': 2 },\n        shadow=True, startangle=50)\nplt.show()","29a9c31e":"fig = px.choropleth(data, locations=\"Team\/NOC\", \n                    locationmode='country names', color=\"Team\/NOC\", \n                    hover_name=\"Total\", range_color=[1,100], \n                    color_continuous_scale=\"blues\", \n                    title='Density of Countries in 2020')\nfig.update(layout_coloraxis_showscale=True)\nfig.show()","b6f17f9f":"athlete = pd.read_excel('\/kaggle\/input\/2021-olympics-in-tokyo\/Athletes.xlsx')\nathlete.sample(6)","ef3fb14b":"pivot_tab=pd.pivot_table(athlete,index=[\"NOC\"],values=[\"Name\"],aggfunc={\"Name\":\"count\"})\nres_tab=pivot_tab.sort_values(by=[\"Name\"],ascending=False)","5db8536d":"plt.figure(figsize=(20,6))\nsplot=sns.barplot(x=res_tab.head(20).index,y=\"Name\",data=res_tab.head(20))\nplt.xticks(rotation=\"vertical\")\nplt.bar_label(splot.containers[0])\nplt.title(\"Top 20 Countries with the most respresenting athletes\",fontweight=\"bold\",fontsize=20)","e789bbe4":"res_tab=pivot_tab.sort_values(by=[\"Name\"],ascending=True)\nplt.figure(figsize=(20,6))\nsplot=sns.barplot(x=res_tab.head(50).index,y=\"Name\",data=res_tab.head(50))\nplt.xticks(rotation=\"vertical\")\nplt.bar_label(splot.containers[0])\nplt.title(\"Countries with the least number of respresenting athletes\",fontweight=\"bold\",fontsize=20)","004128c1":"pivot_tab=pd.pivot_table(athlete,index=[\"Discipline\"],values=[\"Name\"],aggfunc={\"Name\":\"count\"})\nres_tab=pivot_tab.sort_values(by=[\"Name\"],ascending=False)","6393d5b5":"plt.figure(figsize=(20,6))\nsplot=sns.barplot(x=res_tab.head(30).index,y=\"Name\",data=res_tab.head(30))\nplt.xticks(rotation=\"vertical\")\nplt.bar_label(splot.containers[0])\nplt.title(\"Top 30 Disciplines with the most respresenting Athletes\",fontweight=\"bold\",fontsize=20)","315a6a97":"count = athlete.groupby(by = ['NOC','Discipline']).count()\ncount","3c7b645f":"grouped = athlete[:30].groupby(by = ['NOC','Discipline']).count()\ngrouped.plot.barh()\nplt.show()","21519942":"c=[]\nd=[]\nfor i in range(len(count.index)):\n    c.append(count.index[i][0])\nfor i in range(len(count.index)):\n    d.append(count.index[i][1])","e8212438":"fig = px.choropleth([count,athlete], locations=c, \n                    locationmode='country names', color=c, \n                    hover_name=c,hover_data=[count.Name,d], range_color=[1,100], \n                    color_continuous_scale=\"blues\", \n                    title='Density of Countries in 2020')\nfig.update(layout_coloraxis_showscale=True)\nfig.show()","dec0e41f":"gender = pd.read_excel('\/kaggle\/input\/2021-olympics-in-tokyo\/EntriesGender.xlsx')\ngender.head()","fcc0e3ed":"gender=gender.sort_values(by='Total',ascending=False)[:15]\n\nA = gender.plot(kind=\"bar\",x = 'Discipline',y =['Female','Male'],figsize=(18,8)).legend(loc='upper center',ncol=3);\n\nplt.title(\"Genders\",size=20,weight='bold')","19ce50c8":"<h1 id=\"1\"> 1. Medals Table <\/h1>","745f8b45":"<h4> By this graph we can see that the most played discipline is Athletics with a sum of 2068 athletes and then it is followed bt swimming which have 743 athletes.<\/h4>","6f2c36f5":"![](https:\/\/cdn.mos.cms.futurecdn.net\/6JunFB4xWYSmGsbdWLikZX-1024-80.jpg.webp)\n\n<h2> Details <\/h2>\n<h4 style=\"font-family: Arial\"> This contains the details of over 11,000 athletes, with 47 disciplines, along with 743 Teams taking part in the 2021(2020) Tokyo Olympics.<\/h4>\n<h4 style=\"font-family: Arial\"> This dataset contains the details of the Athletes, Coaches, Teams participating as well as the Entries by gender. It contains their names, countries represented, discipline, gender of competitors, name of the coaches.\n\n<h2 style=\"color:red\"> <a href=\"#2_5\">Task<\/a> <\/h2>\n    \n<h3 style=\"font-family: Arial\"> How to visualize all disciplines from same country under the plotly.choropleth graph?<\/h3>\n    \n<h2>Work Flow<\/h2>\n \n<ul>\n    <li><a href=\"#1\"><h3>Medals Table<\/h3><\/a>\n        <ul>\n            <li>Question 1: Top 30 countries by total medal count<\/li>\n            <li>Question 2: Total Share in total medals by top 10 countries.<\/li>\n            <li>Question 3: Top 20 countries Gold, Silver, Bronze medals<\/li>\n            <li>Pie Representation for Gold Medal share<\/li>\n            <li>Pie Representation for Silver Medal share<\/li>\n            <li>Pie Representation for Bronze Medal share<\/li>\n        <\/ul>\n    <\/li>\n    <li> <a href=\"#2\"><h3>Athlete Table<\/h3><\/a>\n        <ul>\n            <li>Name the top 20 countries with the most respresenting athletes. <\/li>\n            <li>Countries with the least number of respresenting athletes.<\/li>\n            <li>Name the top 30 Disciplines with the most respresenting Athletes.<\/li>\n            <li>Count of Athletes from every Country with respect to their discipline<\/li>\n        <\/ul>\n    <\/li>\n    <li><a href=\"#3\"><h3>Gender Table<\/h3><\/a><\/li>\n<\/ul>\n        ","3ccaee47":"\n<h2> Importing libraries and the data <\/h2>","891538c4":"<h1> Let's Begin: <\/h1>","e76bfb4e":"<h1>Thank You for Reading \ud83d\ude07<\/h1>","cb6f6740":"<h2> Pie Representation for Silver Medal share <\/h2>\n<h4> countries with medal count less than 8 will be displayed in others <\/h4>","53e03890":"<h5>( Thanks to @saadsikander for helping me in plotting this above grouped graph.)<\/h5>","f1925f90":"<h2> Pie Representation for Gold Medal share <\/h2>\n    <h4>Countries with medal count less than 8 will be displayed in others<\/h4>","e3757427":"<h3> Each Country with it's Total medal count <\/h3>","f44cf466":"<h2> Pie Representation for Bronze Medal share  <\/h2>\n<h4> countries with medal count less than 10 will be displayed in others<\/h4>","8d7c9217":"<h3 id=\"2_5\">World map showing countries with their respective disciplines<\/h3>","eb518163":"<h3> Name the top 20 countries with the most respresenting athletes. <\/h3>","6a8eee55":"<h1> Count of Athletes from every Country with respect to their discipline <\/h1>","a287a6f9":"<h3> Name the top 30 Disciplines with the most respresenting Athletes<\/h3>","4af5252b":"<h3> Question 3: Top 20 countries Gold, Silver, Bronze medals<\/h3> ","69084551":"<h3> Question 2: Total Share in total medals by top 10 countries. <\/h3>","98f4e91b":"<h1 id=\"2\"> 2. Athlete Table <\/h1>","131e7537":"<h1> Medals Data Analysis and Visualization<\/h1>\n<h3> Question 1: Top 30 countries by total medal count.<\/h3>","1b700f14":"<h3> Countries with the least number of respresenting athletes. <\/h3>","4d30c09a":"<h1 id=\"3\"> 3. GENDER <\/h1>","cb1cba04":"<h2>If you enjoyed reading this notebook. A \ud83d\udc4d will motivate me to do more of this type of work. <\/h2>\n<h2>Also if there is any feedback or suggestion please let me know in the comment section. <\/h2>\n\n<h1> Please Check the task above and try to help me with that problem.<\/h1>"}}