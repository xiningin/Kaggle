{"cell_type":{"36a30ee5":"code","a451259e":"code","3fe91884":"code","618b9b6e":"code","6ccfef64":"code","b47bb718":"code","1dd1de08":"code","c1aa20a3":"code","430cabe9":"code","8c31ff3a":"code","123529b5":"code","1dd8e745":"code","018549ee":"code","63120ebf":"code","36a22127":"code","27ffef2c":"code","47e39139":"code","486e6c54":"code","b2d4dc40":"markdown","3081f67a":"markdown","28bffd5a":"markdown","b66002b7":"markdown","dda66a4e":"markdown","34099961":"markdown","08b329b8":"markdown","2222d9d2":"markdown","62a33567":"markdown","c71d0fe0":"markdown","9cbfcdf8":"markdown"},"source":{"36a30ee5":"import requests\nfrom bs4 import BeautifulSoup\nimport pandas as pd\nimport matplotlib.pyplot as plt","a451259e":"page = requests.get('https:\/\/brasil.io\/covid19\/')","3fe91884":"soup = BeautifulSoup(page.content, 'html.parser')","618b9b6e":"tabela = soup.find_all(class_='table mdl-data-table')\nlen(tabela)","6ccfef64":"tabela = tabela[0]","b47bb718":"linhas = tabela.find_all('tr')\nlen(linhas)","1dd1de08":"lin = linhas[1].text\nlin = lin.strip('\\n ')\nlin = lin.replace(' \\n ', '\\t')\nlin = lin.replace('.', '')\nlin = lin.replace(',', '.')\nlin","c1aa20a3":"def prep_linha(linha):\n    linha = linha.get_text()\n    linha = linha.strip('\\n ')\n    linha = linha.replace(' \\n ', '\\t')\n    linha = linha.replace('.', '')\n    linha = linha.replace(',', '.')\n    return linha","430cabe9":"tabela_final = 'Data\\tCidade\\tUF\\tConfirmados\\tConfirmados por 100k hab\\tMortes\\tLetalidade\\tMortes por 100k hab\\n'\nfor i in range(1,len(linhas)-1):\n    linha = prep_linha(linhas[i])\n    tabela_final += linha\n    tabela_final += '\\n'","8c31ff3a":"arquivo = open('COVID por munic\u00edpio', 'w')\narquivo.write(tabela_final)\narquivo.close()","123529b5":"df = pd.read_csv('COVID por munic\u00edpio', sep = '\\t')\ndf.head()","1dd8e745":"df_estados = df.groupby('UF').sum().drop(['Confirmados por 100k hab', 'Mortes por 100k hab'], inplace = False, axis = 1).sort_values(by = 'Confirmados', ascending = False)\ndf_estados","018549ee":"plt.rcParams['figure.figsize'] = (12,10)\nplt.style.use('ggplot')\ndf_estados1 = df_estados.sort_values(by = 'Confirmados')\ndf_estados1.plot(kind = 'barh', y = 'Confirmados', legend = False)","63120ebf":"plt.rcParams['figure.figsize'] = (12,10)\nplt.style.use('ggplot')\ndf_estados1 = df_estados.sort_values(by = 'Mortes')\ndf_estados1.plot(kind = 'barh', y = 'Mortes', legend = False)","36a22127":"plt.rcParams['figure.figsize'] = (10,7)\nplt.style.use('ggplot')\ndf_sp = df.loc[df['UF'] == 'SP']\ndf_sp = df_sp.drop('Data', inplace = False, axis = 1)\ndf_sp = df_sp.loc[df_sp['Mortes'] >= 100]\ndf_sp = df_sp.sort_values(by = 'Mortes por 100k hab')\ndf_sp.plot(kind = 'barh', x = 'Cidade', y = 'Mortes por 100k hab', grid = True, title = '\u00d3bitos por 100 mil habitantes nos munic\u00edpios paulistas a partir de 100 mortes', legend = False)\nplt.show()","27ffef2c":"df_sp.sort_values(by = 'Mortes', ascending = False).drop(['UF', 'Confirmados', 'Confirmados por 100k hab'], inplace = False, axis = 1)","47e39139":"plt.rcParams['figure.figsize'] = (10,7)\nplt.style.use('ggplot')\ndf_rj = df.loc[df['UF'] == 'RJ']\ndf_rj = df_rj.loc[df_rj['Mortes'] >= 100]\ndf_rj = df_rj.sort_values(by = 'Mortes por 100k hab')\ndf_rj.plot(kind = 'barh', x = 'Cidade', y = 'Mortes por 100k hab', grid = True, title = '\u00d3bitos por 100 mil habitantes nos munic\u00edpios cariocas a partir de 100 mortes', legend = False)\nplt.show()","486e6c54":"df_rj.sort_values(by = 'Mortes', ascending = False).drop(['UF', 'Confirmados', 'Confirmados por 100k hab'], inplace = False, axis = 1)","b2d4dc40":"### Quantidade de casos em cada estado brasileiro","3081f67a":"### Tabela de confirmados e mortos por estado brasileiro","28bffd5a":"### Incid\u00eancia de \u00f3bitos nas cidades cariocas","b66002b7":"## Importa\u00e7\u00e3o de bibliotecas","dda66a4e":"### Tabela de mortes, letalidade e incid\u00eancia nas cidades cariocas com mais de 100 \u00f3bitos","34099961":"# An\u00e1lise da COVID-19 no Brasil","08b329b8":"### Quantidade de mortes em cada estado brasileiro","2222d9d2":"### Incid\u00eancia de \u00f3bitos nas cidades paulistas","62a33567":"## Raspagem dos dados provenientes de Brasil.io","c71d0fe0":"### Tabela de mortes, letalidade e incid\u00eancia nas cidades paulistas com mais de 100 \u00f3bitos","9cbfcdf8":"## Constru\u00e7\u00e3o de gr\u00e1ficos e tabelas"}}