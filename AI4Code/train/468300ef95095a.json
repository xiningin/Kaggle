{"cell_type":{"8701f960":"code","16ad0d09":"code","0637824d":"code","7b094951":"code","22861686":"code","8fc996cc":"code","6edb45cb":"code","163b6cf8":"code","129ebf06":"code","aeffdcbf":"code","529d5393":"code","115f3ab1":"code","1bf31166":"code","1412e8aa":"code","b7f56001":"code","ccc58c1f":"code","2c60ec2d":"code","72753681":"code","63f4313d":"code","dde226f2":"code","db283083":"markdown","cd0ba8ea":"markdown","7eb47964":"markdown","374f3aa3":"markdown","0d94909e":"markdown","2161f503":"markdown","ea333b80":"markdown","4a435d2f":"markdown","3ca33428":"markdown"},"source":{"8701f960":"import numpy as np \nimport pandas as pd \n\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nimport cufflinks as cf\ncf.go_offline()\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","16ad0d09":"data = pd.read_csv('\/kaggle\/input\/g-research-crypto-forecasting\/train.csv')\ndata.head(10).style.applymap(lambda x : \"background-color: #f5cb98\")","0637824d":"def EDA(df):\n    \n    print('\\033[1m' +'EXPLORATORY DATA ANALYSIS :'+ '\\033[0m\\n')\n    print('\\033[1m' + 'Shape of the data :' + '\\033[0m')\n    print(df.shape, \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'All columns from the dataframe :' + '\\033[0m')\n    print(df.columns, \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'Datatpes and Missing values:' + '\\033[0m')\n    print(df.info(), \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'Summary statistics for the data :' + '\\033[0m')\n    print(df.describe(include='all'), \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n        \n    print('\\033[1m' + 'Memory used by the data :' + '\\033[0m')\n    print(df.memory_usage(), \n          '\\n------------------------------------------------------------------------------------\\n')\n    \n    print('\\033[1m' + 'Number of duplicate values :' + '\\033[0m')\n    print(df.duplicated().sum())\n          \nEDA(data)","7b094951":"# Naming every asset\n\nasset_name = ['Binance Coin', 'Bitcoin', 'Bitcoin Cash', 'Cardano', 'Dogecoin', 'EOS.IO', 'Ethereum', \n              'Ethereum Classic', 'IOTA', 'Litecoin', 'Maker', 'Monero', 'Stellar', 'TRON']\n\nfor index in range(0,14):\n    data['Asset_ID'].replace({index : asset_name[index]}, inplace=True)\n    \nnames = data.Asset_ID.unique()\nnames","22861686":"# Making timestamp column the index \n\ndata['timestamp'] = pd.to_datetime(data['timestamp'], unit='s')\ndata.set_index('timestamp', inplace = True)\ndata.index.dtype","8fc996cc":"# Reducing memory taken by the data\n\ndef reduce_memory(df):\n    \n    before = df.memory_usage().sum()  \n    \n    for col in df.columns:        \n        dtype = df[col].dtype\n        if dtype == 'float64':\n            c_min = df[col].min()\n            c_max = df[col].max()        \n            if c_min > np.finfo(np.float32).min and c_max < np.finfo(np.float32).max:\n                df[col] = df[col].astype(np.float32)\n            else:\n                df[col] = df[col].astype(np.float64)    \n                    \n    after = df.memory_usage().sum()\n    \n    print('Memory taken before transformation : ', before)\n    print('Memory taken after transformation : ', after)\n    print('Memory taken reduced by : ',( before - after) * 100\/ before, '%')\n    \n    return df\n\ndata = reduce_memory(data)","6edb45cb":"# Making separate dataframes\n\nbitcoin_cash = data[data['Asset_ID'] == 'Bitcoin Cash']\nbinance_coin = data[data['Asset_ID'] == 'Binance Coin']\nbitcoin = data[data['Asset_ID'] == 'Bitcoin']\neos_io = data[data['Asset_ID'] == 'EOS.IO']\nethereum_classic = data[data['Asset_ID'] == 'Ethereum Classic']\nethereum = data[data['Asset_ID'] == 'Ethereum']\nlitecoin = data[data['Asset_ID'] == 'Litecoin']\nmonero = data[data['Asset_ID'] == 'Monero']\ntron = data[data['Asset_ID'] == 'TRON']\nstellar = data[data['Asset_ID'] == 'Stellar']\ncardano = data[data['Asset_ID'] == 'Cardano']\niota = data[data['Asset_ID'] == 'IOTA']\nmaker = data[data['Asset_ID'] == 'Maker']\ndogecoin = data[data['Asset_ID'] == 'Dogecoin']\n\n# Clearing memory\ndel data","163b6cf8":"# Resampling all datasets\n\nday = {\n    'Open': 'first',\n    'High': 'max',\n    'Low': 'min',\n    'Close': 'last',\n    'Volume': 'sum'\n}\n\nbitcoin_cash = bitcoin_cash.resample('D').apply(day)\nbinance_coin = binance_coin.resample('D').apply(day)\nbitcoin = bitcoin.resample('D').apply(day)\neos_io = eos_io.resample('D').apply(day)\nethereum_classic = ethereum_classic.resample('D').apply(day)\nethereum = ethereum.resample('D').apply(day)\nlitecoin = litecoin.resample('D').apply(day)\nmonero = monero.resample('D').apply(day)\ntron = tron.resample('D').apply(day)\nstellar = stellar.resample('D').apply(day)\ncardano = cardano.resample('D').apply(day)\niota = iota.resample('D').apply(day)\nmaker = maker.resample('D').apply(day)\ndogecoin = dogecoin.resample('D').apply(day)\n\ndf_list = [bitcoin_cash, binance_coin, bitcoin, eos_io, ethereum_classic, ethereum,\n           litecoin, monero, tron, stellar, cardano, iota, maker, dogecoin]","129ebf06":"date_buttons = [\n{'count':  4, 'step': \"year\", 'stepmode': \"todate\", 'label': \"Year\"},\n{'count':  6, 'step': \"month\", 'stepmode': \"todate\", 'label': \"Month\"},\n{'count': 60, 'step': \"day\", 'stepmode': \"todate\", 'label': \"Week\"},\n{'count': 20, 'step': \"day\", 'stepmode': \"todate\", 'label': \"Day\"},\n               ]\n\n\nbuttons = []\ni = 0\nvis = [False] * 14\n\nfor df in df_list:\n    vis[i] = True\n    buttons.append({ 'label' : names[i],\n                     'method' : 'update',\n                     'args'   : [{'visible' : vis},\n                                 {'title'  : names[i] + ' Chart'}] })\n    i+=1\n    vis = [False] * 14\n\nfig = go.Figure()\n\nfor df in df_list:\n    fig.add_trace(go.Candlestick(x     = df.index,\n                                 open  = df['Open'],\n                                 high  = df['High'],\n                                 low   = df['Low'],\n                                 close = df['Close'],\n                                 increasing_line_color= '#42eff5',\n                                 decreasing_line_color= '#8f4040'))\n\nfig.update_xaxes(\n        tickfont = dict(size=15, family = 'monospace', color='#B8B8B8'),\n        tickmode = 'array',\n        ticklen = 6,\n        showline = False,\n        showgrid = True,\n        gridcolor = '#595959',\n        ticks = 'outside')\n\nfig.update_yaxes(\n        tickfont = dict(size=15, family = 'monospace', color='#B8B8B8'),\n        tickmode = 'array',\n        showline = False,\n        ticksuffix = '$',\n        showgrid = True,\n        gridcolor = '#595959',\n        ticks = 'outside')    \n    \n    \nfig.update_layout(height = 650,\n                  font_family   = 'monospace',\n                  xaxis         = dict(rangeselector = dict(buttons = date_buttons)),\n                  updatemenus   = [dict(type = 'dropdown',\n                                        x = 1,\n                                        y = 1.15,\n                                        showactive = True,\n                                        active = 2,\n                                        buttons = buttons)],\n                  title         = dict(text = 'Cryptocurrency Candlestick<br>Dashboard',\n                                       font = dict(color = '#FFFFFF'), \n                                       x = 0.525),\n                  plot_bgcolor  = '#1a253d',\n                  paper_bgcolor = '#1a253d',\n                  font          = dict(color='#858585'), \n                  annotations   = [\n                                  dict( text = \"<b>Choose<br>Crypto<b> : \",\n                                        font = dict(size = 12),\n                                        showarrow=False,\n                                        x = 0.96, y = 1.25,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\")])\n    \n    \nfor i in range(0,14):\n    fig.data[i].visible = False\nfig.data[2].visible = True\n\nfig.show()","aeffdcbf":"date_buttons = [\n{'count':  4, 'step': \"year\", 'stepmode': \"backward\", 'label': \"Year\"},\n{'count':  6, 'step': \"month\", 'stepmode': \"todate\", 'label': \"Month\"},\n{'count': 60, 'step': \"day\", 'stepmode': \"todate\", 'label': \"Week\"},\n{'count': 20, 'step': \"day\", 'stepmode': \"todate\", 'label': \"Day\"},\n               ]\n\nfig = make_subplots(rows=2, cols=1, shared_xaxes=True, \n               vertical_spacing=0.3, subplot_titles=('', 'Volume'), row_width=[0.3, 0.8])\n\n\nbuttons = []\ni = 0\nvis = [False] * 14\n\nfor df in df_list:\n    vis[i] = True\n    buttons.append({ 'label' : names[i],\n                     'method' : 'update',\n                     'args'   : [{'visible' : vis},\n                                 {'title'  : names[i] + ' Linechart'}] })\n    i+=1\n    vis = [False] * 14\n\n\nfor df in df_list:\n    fig.add_trace(go.Scatter(x = df.index,\n                             y = df['Open'],\n                             mode = 'lines',\n                             marker =  dict(color = '#44eff2')), row=1, col=1)\n    \nfor df in df_list:\n    fig.add_trace(go.Bar(x = df.index,\n                         y = df['Volume'],\n                         marker =  dict(color = '#94afb0')), row=2, col=1)\n\nfig.update_xaxes(\n        tickfont = dict(size=15, family = 'monospace', color='#B8B8B8'),\n        tickmode = 'array',\n        ticklen = 6,\n        showline = False,\n        showgrid = True,\n        gridcolor = '#595959',\n        ticks = 'outside')\n\nfig.update_yaxes(\n        tickfont = dict(size=15, family = 'monospace', color='#B8B8B8'),\n        tickmode = 'array',\n        showline = False,\n        showgrid = True,\n        gridcolor = '#595959',\n        ticks = 'outside')    \n    \n    \nfig.update_layout(showlegend = False,\n                  height = 650,\n                  font_family   = 'monospace',\n                  xaxis         = dict(rangeselector = dict(buttons = date_buttons)),\n                  updatemenus   = [dict(type = 'dropdown',\n                                        x = 1,\n                                        y = 1.15,\n                                        showactive = True,\n                                        active = 0,\n                                        buttons = buttons)],\n                  title         = dict(text = 'Cryptocurrency Linechart Dashboard<br>with Volumes',\n                                       font = dict(color = '#FFFFFF'), \n                                       x = 0.5),\n                  plot_bgcolor  = '#1a253d',\n                  paper_bgcolor = '#1a253d',\n                  font          = dict(color='#858585'),\n                  annotations   = [dict(text = \"Choose Crypto :\",\n                                        font = dict(size = 10, color ='#44eff2'),\n                                        showarrow=False,\n                                        x = 1, y = 1.25,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\"),                                \n                                   dict(text = \"<----DRAG HERE TO MOVE---->\",\n                                        font = dict(size = 10, color ='#44eff2'),\n                                        showarrow=False,\n                                        x = 0.5, y = 0.45,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\")])\n\nfor i in range(1,14):\n    fig.data[i].visible = False\n\nfig.show()","529d5393":"def indicators(df=None, title='Chart', symbol = 'Candlesticks'):\n    \n    layout1 = cf.Layout(height=1250,\n                  font_family   = 'monospace',\n                  xaxis         = dict( rangeselector = dict(buttons = date_buttons),\n                                        tickfont = dict(size=12, color='#d4d4d4'),\n                                        tickmode = 'array',\n                                        ticklen = 6,\n                                        showline = False,\n                                        showgrid = True,\n                                        gridcolor = '#595959',\n                                        ticks = 'outside'),\n\n                  yaxis         = dict(\n                                       tickfont = dict(size=15, color='#d4d4d4'),\n                                        tickmode = 'array',\n                                        showline = False,\n                                        ticksuffix = '$',\n                                        showgrid = True,\n                                        gridcolor = '#595959',\n                                        ticks = 'outside'),\n\n                  title         = dict(text = '{} chart<br>with Indicators'.format(title),\n                                       font = dict(color = '#FFFFFF'), \n                                       x = 0.5),\n                    \n                  legend        = dict(orientation=\"h\",\n                                       yanchor=\"bottom\", y=0.92,\n                                       xanchor=\"center\", x=0.5),\n                                       \n                  plot_bgcolor  = '#1a253d',\n                  paper_bgcolor = '#1a253d',\n                  font          = dict(color='#858585'),\n                  annotations   = [dict(text = \" \",\n                                        font = dict(size = 1, color ='white'),\n                                        showarrow=False,\n                                        x = 1, y = 1.25,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\"),                                \n                                   dict(text = \"RSI\",\n                                        font = dict(size = 15, color ='white'),\n                                        showarrow=False,\n                                        x = 0.5, y = 0.62,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\"),\n                                   dict(text = \"Volume\",\n                                        font = dict(size = 15, color ='white'),\n                                        showarrow=False,\n                                        x = 0.5, y = 0.38,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\"),\n                                   dict(text = \"MACD\",\n                                        font = dict(size = 15, color ='white'),\n                                        showarrow=False,\n                                        x = 0.5, y = 0.14,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\"),\n                                   dict(text = \"<-----SLIDER----->\",\n                                        font = dict(size = 15, color ='white'),\n                                        showarrow=False,\n                                        x = 0.5, y = -0.06,\n                                        xref = 'paper', yref = \"paper\",\n                                        align = \"left\")]\n                       )\n    \n    qf = cf.QuantFig(df, name = symbol, down_color='red')\n\n    qf.add_sma([100], width=2, color=['white'])\n\n    qf.add_rsi(periods=14, color='#b876b3')\n\n    qf.add_volume(color='#999999')\n\n    qf.add_macd(color = ['yellow', 'blue'])\n\n    qf.add_bollinger_bands(periods=20, boll_std=2 ,colors=['orange','grey'], fill=True)\n\n    qf.iplot(layout = layout1)","115f3ab1":"indicators(bitcoin, title='Bitcoin', symbol='BTC')","1bf31166":"indicators(ethereum, title='Ethereum', symbol='ETH')","1412e8aa":"indicators(litecoin, title='Litecoin', symbol='LTC')","b7f56001":"indicators(iota, title='IOTA', symbol='IOTA')","ccc58c1f":"indicators(bitcoin_cash, title='Bitcoin Cash', symbol='BCH')","2c60ec2d":"indicators(ethereum_classic, title='Ethereum Classic', symbol='\u039e')","72753681":"indicators(monero, title='Monero', symbol='XMR')","63f4313d":"indicators(dogecoin, title='Dogecoin', symbol='\u00d0')","dde226f2":"indicators(tron, title='TRON', symbol='TRON')","db283083":"# If you want to plot other cryptocurrencies, just use the function above ^^","cd0ba8ea":"<div align=\"center\">\n  <img width=\"900\"  src=\"https:\/\/i.postimg.cc\/k51YWshq\/image.png\">\n<\/div>","7eb47964":"# Data Preprocessing\n\n<div align=\"center\">\n  <img width=\"900\"  src=\"https:\/\/i.postimg.cc\/VkmTjd4s\/2.gif\">\n<\/div>","374f3aa3":"# Importing","0d94909e":"# EDA\n<div align=\"center\">\n  <img width=\"900\"  src=\"https:\/\/i.postimg.cc\/5tG5V7jw\/g-crypto-analysis.gif\">\n<\/div>","2161f503":"<div align=\"center\">\n  <img width=\"900\"  src=\"https:\/\/i.postimg.cc\/d0MFPqjz\/g-crypto-analysis.gif\">\n<\/div>","ea333b80":"# Crypto Dashboard\n\n<div align=\"center\">\n  <img width=\"900\"  src=\"https:\/\/i.postimg.cc\/x8G5C3wv\/3.png\">\n<\/div>","4a435d2f":"# Thank you\n* Thanks for sitting through my notebook.\n* Hope you liked it.\n","3ca33428":"# Candlestick Charts with Indicators\n\n<div align=\"center\">\n  <img width=\"900\"  src=\"https:\/\/i.postimg.cc\/cJYn0LyY\/4.gif\">\n<\/div>"}}