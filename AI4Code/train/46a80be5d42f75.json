{"cell_type":{"dab77675":"code","1d578ac9":"code","f859727a":"code","48101df2":"code","34bb3233":"code","6731f511":"code","29db9d10":"code","0cdf5ea6":"code","6f495e42":"code","d7a7c2fd":"code","87b77eb7":"code","4fd7d672":"code","ad5527ec":"code","91654610":"code","e8e0cd4a":"code","134bd1d1":"code","2b962f35":"code","0cd6be2c":"code","c80817c0":"code","346e9a14":"code","d8675181":"code","3d61b5a9":"code","84762625":"code","2b024aa8":"code","24c81a7e":"code","40bc22be":"code","49f8cc8a":"code","d27a00e2":"code","4738eb60":"markdown","d27e2135":"markdown","2a44802a":"markdown","760e20ad":"markdown","9bde9e4d":"markdown","102e25de":"markdown","a9af1814":"markdown","4f9ae7ed":"markdown","3169d39d":"markdown","1ed40349":"markdown"},"source":{"dab77675":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy\nimport seaborn as sns\nimport random","1d578ac9":"df = pd.read_csv('..\/input\/ipl-data-set\/matches.csv')\ndf.head(5)","f859727a":"df.columns","48101df2":"df.city.unique()","34bb3233":"df.city.replace({\"Bangalore\":\"Bengaluru\"}, inplace = True)\ndf.city.unique()","6731f511":"df.team1.unique() ","29db9d10":"df.team1.replace({\"Rising Pune Supergiant\":\"Rising Pune Supergiants\"},inplace = True)\ndf.team2.replace({\"Rising Pune Supergiant\":\"Rising Pune Supergiants\"},inplace = True)\ndf.toss_winner.replace({\"Rising Pune Supergiant\":\"Rising Pune Supergiants\"},inplace = True)\ndf.winner.replace({\"Rising Pune Supergiant\":\"Rising Pune Supergiants\"},inplace = True)","0cdf5ea6":"df.venue.unique()","6f495e42":"df.venue.replace({'Feroz Shah Kotla Ground':'Feroz Shah Kotla',\n                    'M Chinnaswamy Stadium':'M. Chinnaswamy Stadium',\n                    'MA Chidambaram Stadium, Chepauk':'M.A. Chidambaram Stadium',\n                     'M. A. Chidambaram Stadium':'M.A. Chidambaram Stadium',\n                     'Punjab Cricket Association IS Bindra Stadium, Mohali':'Punjab Cricket Association Stadium',\n                     'Punjab Cricket Association Stadium, Mohali':'Punjab Cricket Association Stadium',\n                     'IS Bindra Stadium':'Punjab Cricket Association Stadium',\n                    'Rajiv Gandhi International Stadium, Uppal':'Rajiv Gandhi International Stadium',\n                    'Rajiv Gandhi Intl. Cricket Stadium':'Rajiv Gandhi International Stadium'},inplace=True)","d7a7c2fd":"# Handling missing values\ndf.isnull().sum()","87b77eb7":"df.city.fillna(\"unknown\")\ndf.winner.fillna(\"unknown\")\ndf.umpire3.fillna(\"unknown\")\ndf.umpire1.fillna(\"unknown\")\ndf.umpire2.fillna(\"unknown\")\ndf.result.fillna(\"unknown\")\ndf.player_of_match.fillna(\"unknown\")","4fd7d672":"df.head()","ad5527ec":"#Wins by biggest margin of runs \nbmor= df.sort_values('win_by_runs',ascending = False).reset_index(drop = True)\nbmor = bmor[:10]\nbmor = bmor[['winner','win_by_runs']]\nprint(bmor)","91654610":"df1 = pd.read_csv('..\/input\/ipl-data-set\/deliveries.csv')\ndf1.head()","e8e0cd4a":"df1.columns.unique()","134bd1d1":"df1.batting_team.unique()","2b962f35":"df1.batting_team.replace({\"Rising Pune Supergiant\":\"Rising Pune Supergiants\"},inplace = True)\ndf1.bowling_team.replace({\"Rising Pune Supergiant\":\"Rising Pune Supergiants\"},inplace = True)\n","0cd6be2c":"city_counts=df.groupby('city').apply(lambda x:x['city'].count()).reset_index(name='Match Counts')\nreq_values = city_counts.sort_values('Match Counts' , ascending = False).reset_index(drop = True)\nreq_values = req_values[:20]","c80817c0":"plt.rcParams[\"figure.figsize\"] = (20, 10)\nplt.title('Venues that hosted the most number of matches', size =30)\nplt.xlabel('Venues',size =25)\nplt.ylabel('Number of matches',size =25)\nplt.xticks(rotation=90,size = 15)\nplt.yticks(size = 15)\ncount = 0\nfor i in req_values['Match Counts']:\n    plt.text(count,i+1,str(i),color='black',size=15)\n    count+=1\nplt.bar(req_values['city'],req_values['Match Counts'])\nplt.show()","346e9a14":"a = df1.groupby(['match_id','batsman'])['batsman_runs'].sum().reset_index(name =\"Innings_Runs\")\nb = a.sort_values(by = 'Innings_Runs',ascending = False)\nc= b.reset_index(drop = True)\nc = c[:15]\nprint(\"Top 15 best innings of the IPL:\\n\")\nprint(c)\n","d8675181":"# Best Fielder\nbf = df1.groupby('fielder').apply(lambda x : x).reset_index()\nbf = df1.groupby('fielder').count() \nbf = bf.dismissal_kind.reset_index(name='Dismissals')\nbf = bf.sort_values(by='Dismissals',ascending=False)\nbf = bf[0:10]\n\nplt.title(\"Best IPL Fielders\")\nplt.bar(bf.fielder , bf.Dismissals)\nplt.xlabel(\"Best Fielders\")\nplt.ylabel(\"No of  Dismissals\")\ncount = 0\nfor i in bf.Dismissals:\n    plt.text(count-0.2,i-4,str(i))\n    count+=1\nplt.xticks(rotation = 90)\nplt.yticks()\nplt.show()","3d61b5a9":"most_no_of_wins = df.groupby('winner').apply(lambda x: x).reset_index()\nmost_no_of_wins = most_no_of_wins.groupby('winner').count()\nmost_no_of_wins = most_no_of_wins.city.reset_index(name='No_Of_Wins')\nmost_no_of_wins = most_no_of_wins.sort_values(by='No_Of_Wins',ascending=False)\n\nplt.title(\"Most Number Of Wins\")\nplt.bar(most_no_of_wins.winner , most_no_of_wins.No_Of_Wins)\nplt.xlabel(\"Teams\")\nplt.ylabel(\"No of  Wins\")\ncount = 0\nfor i in most_no_of_wins.No_Of_Wins:\n    plt.text(count-0.2,i-4,str(i))\n    count+=1\nplt.xticks(rotation = 90)\nplt.yticks()\nplt.show()\n","84762625":"mom = df.groupby('player_of_match').apply(lambda x: x).reset_index()\nmom = mom.groupby('player_of_match').count()\nmom = mom.city.reset_index(name='No_Of_Awards')\nmom = mom.sort_values(by='No_Of_Awards',ascending=False)\nmom = mom.head(10)\n\nplt.title(\"Most Number Of MOM Awards\")\nplt.bar(mom.player_of_match , mom.No_Of_Awards)\nplt.xlabel(\"Name\")\nplt.ylabel(\"No of  Awards\")\ncount = 0\nfor i in mom.No_Of_Awards:\n    plt.text(count-0.2,i,str(i))\n    count+=1\nplt.xticks(rotation = 90)\nplt.yticks()\nplt.show()","2b024aa8":"fis = df1[df1['inning'] == 1]\nfis = fis.groupby(['bowling_team','match_id']).apply(lambda x : np.sum(x['total_runs'])).reset_index(name = 'Innings_Total')\nfisa = fis.groupby(['bowling_team']).apply(lambda x : np.mean(x['Innings_Total'])).reset_index(name = 'Innings_Average')\nplt.plot(fisa.bowling_team,fisa.Innings_Average,'b')\nsis = df1[df1['inning'] == 2]\nsis = sis.groupby(['bowling_team','match_id']).apply(lambda x : np.sum(x['total_runs'])).reset_index(name = 'Innings_Total')\nsisa = sis.groupby(['bowling_team']).apply(lambda x : np.mean(x['Innings_Total'])).reset_index(name = 'Innings_Average')\nplt.plot(fisa.bowling_team,fisa.Innings_Average,'b')\nplt.plot(sisa.bowling_team,sisa.Innings_Average,'r')\nplt.title('TEAMWISE BOWLING AVERAGE')\nplt.xticks(rotation = 90)","24c81a7e":"tdc = df.groupby('toss_decision').apply(lambda x : x).reset_index()\ntdc = tdc.groupby('toss_decision').count() \ntdc = tdc.city.reset_index(name='Values')\nprint(tdc)","40bc22be":"venue = df.groupby('venue').apply(lambda x: x).reset_index()\nvenue = venue.groupby('venue').count()\nvenue = venue.city.reset_index(name='No_Of_Matches')\nvenue = venue.sort_values(by='No_Of_Matches').reset_index(drop = True)\nprint(venue)\n\nvenue = venue.sort_values('No_Of_Matches', ascending = False)\nvenue = venue[:10]\nplt.bar(venue.venue,venue.No_Of_Matches)\nplt.title(\"TOP 10 Venues\" , size = 20)\nplt.xlabel('Venues', size = 15)\nplt.ylabel('No Of Matches' , size = 15)\nplt.xticks(rotation = 90)\nplt.yticks()","49f8cc8a":"df.head()","d27a00e2":"micsk = df[np.logical_or(np.logical_and(df['team1'] == 'Mumbai Indians',df['team2'] == 'Chennai Super Kings'),np.logical_and(df['team2'] == 'Mumbai Indians',df['team1'] =='Chennai Super Kings'))]\nmicsk = micsk.groupby('winner').apply(lambda x : x)\nmicsk = micsk.groupby('winner').count()\nmicsk = micsk.city.reset_index(name = 'No Of Wins')\nmicsk.head()","4738eb60":"**Venues that hosted the most no of matches**","d27e2135":"**Top 15 IPL Innings**","2a44802a":"**Wins by biggest margin of runs** ","760e20ad":"**Most Number of Wins by a team**","9bde9e4d":"**Teamwise Bowling Average**","102e25de":"**Matches hosted in each city**","a9af1814":"**MI vs CSK head to head**","4f9ae7ed":"**Best Fielder**","3169d39d":"**Most MOM Awards**","1ed40349":"**Toss Decisions:**"}}