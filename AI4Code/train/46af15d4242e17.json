{"cell_type":{"151b9691":"code","ced4adda":"code","356352ca":"code","df4093b8":"code","67056bf3":"code","e8647a4f":"code","7114f16f":"code","d54697b5":"code","6b87bc24":"code","3a6f128e":"code","67b1fc7c":"code","d9fbde0b":"code","f450b92a":"code","2a9e20e9":"code","2a418b15":"code","77df6faa":"code","a6370247":"code","7edc19ed":"code","0b638b25":"code","de518174":"code","94476280":"code","4a5e52f1":"code","55cd2f7c":"code","c315f17f":"code","b47ecf66":"code","56eb240d":"code","2b3cf723":"code","d2565ff6":"code","1d4202bb":"code","d6fca775":"code","df376457":"code","7bcff568":"code","2961ecbd":"code","f4c78f8f":"code","5b72bf8e":"code","18d670c1":"code","1dc905c1":"code","153b7cb4":"code","946bb9fe":"code","ec19e10c":"code","5b0700e8":"code","18bf1f13":"code","724e51f7":"markdown","71350772":"markdown","ea68dc9e":"markdown","203621df":"markdown","2583f24c":"markdown","deb9d72b":"markdown","c2975194":"markdown","e1116164":"markdown","f7773c16":"markdown","ab17c643":"markdown","e7264aaf":"markdown","43631c60":"markdown","2c470ec6":"markdown","d6657006":"markdown"},"source":{"151b9691":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","ced4adda":"zomato=pd.read_csv(\"\/kaggle\/input\/zomato-bangalore-restaurants\/zomato.csv\")\nzomato.head()","356352ca":"#Importing Libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sb\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.ensemble import AdaBoostRegressor\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import classification_report\nfrom sklearn.metrics import r2_score\nimport warnings\nwarnings.filterwarnings(\"ignore\")","df4093b8":"zomato.isna().sum()","67056bf3":"zomato=zomato.drop(columns=([\"url\",\"phone\",\"reviews_list\"]))\nzomato.head()","e8647a4f":"zomato.drop_duplicates(inplace=True)","7114f16f":"zomato.isna().sum()","d54697b5":"zomato.info()","6b87bc24":"zomato.dropna(how=\"any\",inplace=True)\nzomato.isna().sum()","3a6f128e":"zomato.columns","67b1fc7c":"zomato=zomato.rename(columns={\"approx_cost(for two people)\":\"cost\",\"listed_in(type)\":\"type\",\"listed_in(city)\":\"city\"})","d9fbde0b":"zomato.head()","f450b92a":"#Removing '\/5' from Rates\nzomato = zomato.loc[zomato.rate !='NEW']\nzomato = zomato.loc[zomato.rate !='-'].reset_index(drop=True)\nremove_slash = lambda x: x.replace('\/5', '') if type(x) == np.str else x\nzomato.rate = zomato.rate.apply(remove_slash).str.strip().astype('float')\nzomato['rate'].head() # looking at the dataset after transformation","2a9e20e9":"zomato[\"rate\"].unique()","2a418b15":"# Adjust the column names\nzomato.name = zomato.name.apply(lambda x:x.title())\nzomato.online_order.replace(('Yes','No'),(1, 0),inplace=True)\nzomato.book_table.replace(('Yes','No'),(1, 0),inplace=True)\nzomato.head() # looking at the dataset after transformation","77df6faa":"#Encode the input Variables\ndef Encode(zomato):\n    for column in zomato.columns[~zomato.columns.isin(['rate', 'cost', 'votes', 'online_order', 'book_table'])]:\n        zomato[column] = zomato[column].factorize()[0]\n    return zomato\n\nzomato_en = Encode(zomato.copy())\nzomato_en.head() # looking at the dataset after transformation","a6370247":"zomato_en[\"cost\"].unique()","7edc19ed":"corr = zomato_en.corr(method='kendall')\nplt.figure(figsize=(15,8))\nsns.heatmap(corr, annot=True)","0b638b25":"sns.countplot(zomato['online_order'])\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Which type of delivery people prefer more')","de518174":"sns.countplot(zomato['book_table'])\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Restaurants table book counts')","94476280":"sns.countplot(zomato['rate'])\nfig = plt.gcf()\nfig.set_size_inches(20,20)\nplt.title('Restaurants rating visualization')","4a5e52f1":"fig=plt.gcf()\nfig.set_size_inches(10,10)\nsns.stripplot(x=zomato[\"online_order\"],y=zomato[\"rate\"])\nplt.title(\"Which type of customer giving rating\")","55cd2f7c":"fig=plt.gcf()\nfig.set_size_inches(10,10)\nsns.stripplot(x=zomato[\"book_table\"],y=zomato[\"rate\"])\nplt.title(\"book_tabel Vs rate\")","c315f17f":"sns.countplot(zomato['city']).set_xticklabels(sns.countplot(zomato['city']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(13,13)\nplt.title('Location wise count for restaurants')\nplt.show()","b47ecf66":"z=zomato[zomato[\"city\"]==\"Electronic City\"]","56eb240d":"b=zomato[zomato[\"city\"]==\"New BEL Road\"]","2b3cf723":"c=[z,b]","d2565ff6":"plt.figure(figsize=(15,10), facecolor='w')\nplotnumber = 1\n\nfor column in c:\n    if plotnumber<=4 :\n        ax = plt.subplot(2,2,plotnumber)\n        sns.stripplot(x=column[\"city\"],y=zomato[\"rate\"])\n        #plt.xlabel(column,fontsize=20)\n    plotnumber+=1\nplt.show()","1d4202bb":"sns.countplot(zomato['rest_type'])\nsns.countplot(zomato['rest_type']).set_xticklabels(sns.countplot(zomato['rest_type']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(15,15)\nplt.title('Restuarant Type')","d6fca775":"plt.figure(figsize=(15,10), facecolor='w')\nplotnumber = 1\n\nfor column in c:\n    if plotnumber<=4 :\n        ax = plt.subplot(2,2,plotnumber)\n        sns.countplot(column['rest_type']).set_xticklabels(sns.countplot(column['rest_type']).get_xticklabels(), rotation=90, ha=\"right\")\n        plt.title(column[\"city\"].unique()[0])\n    plotnumber+=1\nplt.show()","df376457":"plt.figure(figsize=(15,10), facecolor='w')\nplotnumber = 1\n\nfor column in c:\n    if plotnumber<=2 :\n        ax = plt.subplot(2,1,plotnumber)\n        sns.countplot(column['cost']).set_xticklabels(sns.countplot(column['cost']).get_xticklabels(), rotation=90, ha=\"right\")\n        plt.title(column[\"city\"].unique()[0])\n    plotnumber+=1\nplt.show()","7bcff568":"type_plt=pd.crosstab(zomato['rate'],zomato['type'])\ntype_plt.plot(kind='bar',stacked=True);\nplt.title('Type - Rating',fontsize=15,fontweight='bold')\nplt.ylabel('Type',fontsize=10,fontweight='bold')\nplt.xlabel('Rating',fontsize=10,fontweight='bold')\nplt.xticks(fontsize=10,fontweight='bold')\nplt.yticks(fontsize=10,fontweight='bold');","2961ecbd":"sns.countplot(zomato['cost'])\nsns.countplot(zomato['cost']).set_xticklabels(sns.countplot(zomato['cost']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(20,20)\nplt.title('Cost of Restuarant')","f4c78f8f":"plt.figure(figsize=(15,7))\nchains=zomato['name'].value_counts()[:20]\nsns.barplot(x=chains,y=chains.index,palette='Set1')\nplt.title(\"Most famous restaurant chains in Bangaluru\",size=20,pad=20)\nplt.xlabel(\"Number of outlets\",size=15)","5b72bf8e":"#Some Transformations\nzomato_en['cost'] = zomato_en['cost'].astype(str) #Changing the cost to string\nzomato_en['cost'] = zomato_en['cost'].apply(lambda x: x.replace(',','.')) #Using lambda function to replace ',' from cost\nzomato_en['cost'] = zomato_en['cost'].astype(float) # Changing the cost to Float\nzomato_en.info() # looking at the dataset information after transformation","18d670c1":"x=zomato_en.drop(columns=([\"rate\"]))\ny=zomato_en[\"rate\"]","1dc905c1":"x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.30,random_state=420)","153b7cb4":"from sklearn.ensemble import ExtraTreesRegressor,GradientBoostingRegressor\nfrom sklearn.tree import DecisionTreeRegressor","946bb9fe":"ada=AdaBoostRegressor(n_estimators=90)\nlin=LinearRegression()\nran=RandomForestRegressor(n_estimators=100)\ndtc=DecisionTreeRegressor(random_state=420)\netr=ExtraTreesRegressor(n_estimators=100)\ngb=GradientBoostingRegressor(n_estimators=100)\n","ec19e10c":"models = {\"Linear Regression\" : lin,\n          \"Random forest\" : ran,\n          \"AdaBoost\" : ada,\"Gradient Boost\":gb,\"Decision Tree\":dtc,\"Extra Tree\":etr}\nscores= { }\nTrain_set_scores={}","5b0700e8":"for key, value in models.items():    \n    model = value\n    model.fit(x_train, y_train)\n    scores[key] = model.score(x_test, y_test)\n    Train_set_scores[key]=model.score(x_train,y_train)","18bf1f13":"datal = {\"train\":Train_set_scores,\"test\":scores} \n  \n# Creates pandas DataFrame. \ndfl = pd.DataFrame(datal, index =scores.keys())\ndfl.sort_values(by=[\"train\",\"test\"], axis=0 ,ascending=False, inplace=True) \n# print the data \ndfl","724e51f7":"# Lets split the data for test and train","71350772":"### More people in bangalore opt for restaurants only if the average cost for 2 people is within 1,000 rupees","ea68dc9e":"# Here it can observed that we got best accuracy for Extra Tree Regressor","203621df":"### There is no much correlation between any features","2583f24c":"### Almost they are equally rated","deb9d72b":"### here we can see that the restaurants which have table booking is mostly rated above 3","c2975194":"### It can be seen that people in banglore prefers online orders more","e1116164":"### We can see that as the online orders are the table book counts is very less","f7773c16":"# Data Visualization","ab17c643":"### From the above graph we can say that the good quality and rated restaurants are more.\n### So the competition is absolutely very high","e7264aaf":"### In these two areas the restaurants are less in number and the more available types is of casual dining and quick bites \n### So if we start other types of restaurants in these areas there will not be a huge competition\n### And average cost for 2 people in these areas are between 400-700 rupees\n### So if we start a restaurant and sell the foods at cheaper rates , the restaurants can sustain well in these areas","43631c60":"## Note:\n###     So if some business people are looking to start a new restaurant they must surely tie up with some online delivery partners to make more sales.","2c470ec6":"### We can see there is less no of restaurants in electronic city and new BEL road","d6657006":"### Onesta is more famous in Bangalore"}}