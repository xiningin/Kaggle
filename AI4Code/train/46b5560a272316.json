{"cell_type":{"1b691b05":"code","fec882bc":"code","dcf8ba61":"code","cf1b99ee":"code","449da0cf":"code","12610847":"code","9a83dc71":"code","eb8c6db7":"code","99354fbd":"code","683428a8":"code","a95352e5":"code","273e4fa3":"code","8080f035":"code","9a5a5386":"code","fb91254d":"code","da20385e":"code","040866ed":"code","a1de74b9":"code","9a27bfc3":"code","f9946641":"code","0caf3b81":"code","8b4a8517":"code","1933ef59":"code","3611ab45":"code","535e2a05":"code","bb0bd11d":"code","6b8d8ee3":"code","4134f54c":"code","c1924541":"code","7717e24c":"markdown","55ee8045":"markdown","20ad4a51":"markdown","febe03ec":"markdown","25071406":"markdown","8f40f61b":"markdown","b6695d87":"markdown","e018165e":"markdown","6d47eca9":"markdown","0a86703d":"markdown","acdd3902":"markdown","8fca93de":"markdown","a27bbfe7":"markdown","b76e1533":"markdown","2dcff3f1":"markdown","17073afc":"markdown","fa4128ae":"markdown","abc113c1":"markdown","7e6e3541":"markdown"},"source":{"1b691b05":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","fec882bc":"train=pd.read_csv('..\/input\/train.csv')\ntest=pd.read_csv('..\/input\/test.csv')","dcf8ba61":"train.info()","cf1b99ee":"test.info()\n","449da0cf":"train.describe()","12610847":"test.describe()","9a83dc71":"train.head()","eb8c6db7":"test.head()","99354fbd":"%%html\n<div class='tableauPlaceholder' id='viz1536142040814' style='position: relative'><noscript><a href='#'><img alt='Sheet 1 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CorrelationInSalePrice&#47;Sheet1&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='CorrelationInSalePrice&#47;Sheet1' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Co&#47;CorrelationInSalePrice&#47;Sheet1&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536142040814');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","683428a8":"%%html\n<div class='tableauPlaceholder' id='viz1536165225900' style='position: relative'><noscript><a href='#'><img alt='Sheet 2 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice3&#47;Sheet2&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice3&#47;Sheet2' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice3&#47;Sheet2&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536165225900');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","a95352e5":"%%html\n<div class='tableauPlaceholder' id='viz1536165731844' style='position: relative'><noscript><a href='#'><img alt='Sheet 3 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice4&#47;Sheet3&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice4&#47;Sheet3' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice4&#47;Sheet3&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536165731844');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","273e4fa3":"train['totalSF']=train['1stFlrSF']+train['2ndFlrSF']+train['TotalBsmtSF']\ntest['totalSF']=test['1stFlrSF']+test['2ndFlrSF']+test['TotalBsmtSF']\n","8080f035":"%%html\n<div class='tableauPlaceholder' id='viz1536166389736' style='position: relative'><noscript><a href='#'><img alt='Sheet 6 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice5&#47;Sheet6&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice5&#47;Sheet6' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice5&#47;Sheet6&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536166389736');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","9a5a5386":"%%html\n<div class='tableauPlaceholder' id='viz1536167638697' style='position: relative'><noscript><a href='#'><img alt='Sheet 7 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice6&#47;Sheet7&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice6&#47;Sheet7' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice6&#47;Sheet7&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536167638697');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","fb91254d":"%%html\n<div class='tableauPlaceholder' id='viz1536167949327' style='position: relative'><noscript><a href='#'><img alt='Sheet 7 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice7&#47;Sheet7&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice7&#47;Sheet7' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice7&#47;Sheet7&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536167949327');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","da20385e":"%%html\n<div class='tableauPlaceholder' id='viz1536168221925' style='position: relative'><noscript><a href='#'><img alt='Sheet 7 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice8&#47;Sheet7&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice8&#47;Sheet7' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice8&#47;Sheet7&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536168221925');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","040866ed":"%%html\n<div class='tableauPlaceholder' id='viz1536168561510' style='position: relative'><noscript><a href='#'><img alt='Pool Area Distribution ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice9&#47;Sheet7&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice9&#47;Sheet7' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice9&#47;Sheet7&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536168561510');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","a1de74b9":"train=train[train['totalSF']<7000]\ntrain=train[train['BsmtFinSF1']<5000]\ntrain=train[train['1stFlrSF']<4500]\ntrain=train[train['OpenPorchSF']!=523]\ntrain=train[train['LowQualFinSF']<570]\ntrain=train[train['GrLivArea']<4600]","9a27bfc3":"test['BsmtFinSF']=test['BsmtFinSF1']+test['BsmtFinSF2']\ntrain['BsmtFinSF']=train['BsmtFinSF1']+train['BsmtFinSF2']","f9946641":"from sklearn.preprocessing import LabelEncoder,OneHotEncoder\nfor c in test.columns:\n    if test[c].dtype=='object':\n            p=LabelEncoder().fit_transform(train[c].astype(str))\n            train[c]=OneHotEncoder(sparse=False).fit_transform(p.reshape(len(p),1))\n            p=LabelEncoder().fit_transform(test[c].astype(str))\n            test[c]=OneHotEncoder(sparse=False).fit_transform(p.reshape(len(p),1))\nfrom scipy.stats import mode\nfor  c in train.columns:\n    train=train.apply(lambda g: g.fillna(g.mode()[0]))\nfor c in test.columns:\n    test=test.apply(lambda g:g.fillna(g.mode()[0]))\n","0caf3b81":"%%html\n<div class='tableauPlaceholder' id='viz1536162527220' style='position: relative'><noscript><a href='#'><img alt='Sheet 5 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice2&#47;Sheet5&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice2&#47;Sheet5' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice2&#47;Sheet5&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536162527220');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","8b4a8517":"\ntrain=train.drop(['Id','Utilities','Alley','PoolQC','MiscFeature','PoolArea'],axis=1)\ntest=test.drop(['Id','Utilities','Alley','PoolQC','MiscFeature','PoolArea'],axis=1)","1933ef59":"%%html\n<div class='tableauPlaceholder' id='viz1536162360269' style='position: relative'><noscript><a href='#'><img alt='Sheet 1 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice&#47;Sheet1&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice&#47;Sheet1' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice&#47;Sheet1&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536162360269');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","3611ab45":"target=np.log(train['SalePrice'])\ntrain=train.drop(['SalePrice'],axis=1)","535e2a05":"%%html\n<div class='tableauPlaceholder' id='viz1536162458991' style='position: relative'><noscript><a href='#'><img alt='LogTransformation of Target class ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice1&#47;Sheet4&#47;1_rss.png' style='border: none' \/><\/a><\/noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' \/> <param name='embed_code_version' value='3' \/> <param name='site_root' value='' \/><param name='name' value='salePrice1&#47;Sheet4' \/><param name='tabs' value='no' \/><param name='toolbar' value='yes' \/><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;sa&#47;salePrice1&#47;Sheet4&#47;1.png' \/> <param name='animate_transition' value='yes' \/><param name='display_static_image' value='yes' \/><param name='display_spinner' value='yes' \/><param name='display_overlay' value='yes' \/><param name='display_count' value='yes' \/><param name='filter' value='publish=yes' \/><\/object><\/div>                <script type='text\/javascript'>                    var divElement = document.getElementById('viz1536162458991');                    var vizElement = divElement.getElementsByTagName('object')[0];                    vizElement.style.width='100%';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';                    var scriptElement = document.createElement('script');                    scriptElement.src = 'https:\/\/public.tableau.com\/javascripts\/api\/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                <\/script>","bb0bd11d":"from xgboost.sklearn import XGBRegressor\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.ensemble import RandomForestRegressor as rfc","6b8d8ee3":"xgb=XGBRegressor(n_estimators=2000,max_depth=8,learning_rate=0.007,subsample=0.7,colsample_bylevel=0.18)","4134f54c":"from sklearn.model_selection import train_test_split as tts\nxtrain,xtest,ztrain,ztest=tts(train,target,train_size=0.7)\nxgb.fit(xtrain,ztrain,eval_set=[(xtest,ztest)],eval_metric='rmse',early_stopping_rounds=1000)","c1924541":"a=pd.DataFrame(np.exp(xgb.predict(test)),index=pd.read_csv('..\/input\/test.csv')['Id'],columns=['SalePrice'])\na.to_csv('result.csv')","7717e24c":"Looking at distribution of Some Features","55ee8045":"**Reading training and testing dataset using pandas**** ****","20ad4a51":"**Using LabelEncoder for converting categorical to numeric data***","febe03ec":"Setting parameters for the model","25071406":"Kindly upvote!!!!!!","8f40f61b":"Utilities distribution appears almost constant","b6695d87":"Now the distribution of TARGET class appears normal","e018165e":"Importing all required ML models ","6d47eca9":"Looking at the Distribution of PoolArea...It appears to be constant","0a86703d":"fitting data to model","acdd3902":"As Utilies has same value for most of the rows...dropping Utilies and Id from dataset","8fca93de":"> > **Taking a look of  traning  and test data using info() and describe()****","a27bbfe7":"creating new feature TotalSF using 1stFlrSF+2ndFlrSF+TotalBsmtSF and its distribution","b76e1533":"Removing outliers","2dcff3f1":"Preparing final result in csv file","17073afc":"Correlation between features of dataset**","fa4128ae":"plotting TARGET distribution","abc113c1":"As the target class is highly skewed, applying log transformation on the target ","7e6e3541":"Looking at distribution of 1stFlrSF,2ndFlrSF,TotalBsmtSF"}}