{"cell_type":{"e9ab3a77":"code","df5aa1e7":"code","a025abf5":"code","b77a4fbc":"code","920c6184":"code","a296b928":"code","6cfcc1e1":"code","51e83f83":"code","9aa873de":"code","c3a04ec4":"code","e162dcbd":"code","316df839":"code","ae5f8b8d":"code","f574ddf0":"code","2a33f712":"code","dbe7ca87":"code","c728a8dc":"code","5e7f0f02":"code","359ebb6a":"code","f1cd7466":"code","cada02fa":"code","6b5ccd71":"code","f31cc2c8":"code","6b8dfc2c":"code","13bfd9d3":"code","1701b5ec":"code","d76dc042":"code","46785b63":"code","2df1ebb8":"code","9b60ccdf":"code","0a1df7dd":"code","50faa743":"code","e94eba81":"code","a08986e5":"code","ffafccc4":"code","9a72f695":"code","8f0b6fda":"code","2a55e13a":"code","1930c953":"code","bc6b6499":"code","7992aaca":"code","b1a84851":"code","29acd638":"code","0307ea9f":"code","551b1f43":"code","64c8b363":"code","c9993eae":"markdown","f6d7d8e0":"markdown","41137ed0":"markdown","c8b1fb1b":"markdown","f6d7210c":"markdown","34d93c4d":"markdown","967ccf68":"markdown","303a782e":"markdown","e3deea22":"markdown","f29be541":"markdown","0c4ad1be":"markdown","01c207b2":"markdown","64e528e0":"markdown","8189d4dc":"markdown","16053a36":"markdown","b8b65e2c":"markdown","c4c07690":"markdown"},"source":{"e9ab3a77":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n","df5aa1e7":"df = pd.read_csv('\/kaggle\/input\/gufhtugu-publications-dataset-challenge\/GP Orders - 5.csv')","a025abf5":"df.head(3)","b77a4fbc":"df.isnull().sum()","920c6184":"#Let's find the 10 best seller book\nprint('Top 10 Best Seller book is:\\n\\n',df['Book Name'].value_counts().head(10))","a296b928":"df['City'] = df['City'].replace(['karachi'],'Karachi')\ndf['City'] = df['City'].replace(['Khi'],'Karachi')\ndf['City'] = df['City'].replace(['KARACHI'],'Karachi')\ndf['City'] = df['City'].replace(['Clifton\/Karachi'],'Karachi')\nprint('Best Seller wrt City\\n\\n', df['City'].value_counts().head(10))","6cfcc1e1":"df['City'].value_counts().head(10).plot(kind='bar')","51e83f83":"df['City'] = df['City'].replace(['karachi'],'Karachi')\ndf['City'] = df['City'].replace(['Khi'],'Karachi')\ndf['City'] = df['City'].replace(['KARACHI'],'Karachi')\ndf['City'] = df['City'].replace(['Clifton\/Karachi'],'Karachi')\nKaggle = df['Book Name'] == '\u0627\u0646\u0679\u0631\u0646\u06cc\u0679 \u0633\u06d2 \u067e\u06cc\u0633\u06c1 \u06a9\u0645\u0627\u0626\u06cc\u06ba'\nCity = df[Kaggle]\nCity['City'].value_counts()[:5]","9aa873de":"City['City'].value_counts()[:5].plot(kind='bar')","c3a04ec4":"df['Book Name'] = df['Book Name'].fillna('\u0627\u0646\u0679\u0631\u0646\u06cc\u0679 \u0633\u06d2 \u067e\u06cc\u0633\u06c1 \u06a9\u0645\u0627\u0626\u06cc\u06ba') # filling null values with most sold book\ndf['City'] = df['City'].fillna('Karachi') # filling null valuse with top city\ndf.isnull().sum()","e162dcbd":"#Top Selling Books wrt Cities\ndf[['Book Name', 'City']].value_counts().head(5)","316df839":"#Some Visualizatiom\ndf[['Book Name', 'City']].value_counts().head(5).plot(kind='barh');","ae5f8b8d":"df['Order Status'].value_counts()","f574ddf0":"#Here is the result of order status with the help of visualization\nsns.countplot(x='Order Status', data=df);","2a33f712":"#Total number of Payment Methods are\ndf['Payment Method'].unique()","dbe7ca87":"#Replacing the Cash on Delivery Values\ndf['Payment Method'] = df['Payment Method'].replace(['Cash on Delivery (COD)'],'COD')\ndf['Payment Method'] = df['Payment Method'].replace(['Cash on delivery'],'COD')","c728a8dc":"df['Payment Method'].unique()","5e7f0f02":"df.head(10)","359ebb6a":"df['Payment Method'].value_counts()","f1cd7466":"sns.countplot(x='Payment Method', data=df,palette='dark');","cada02fa":"#First Start with COD\nOrder = df['Payment Method'] == 'COD'\nPayment = df[Order]\nprint('Order Status while payment from COD\\n\\n',Payment['Order Status'].value_counts())\n\n#First Start with EasyPaisa\nOrder1 = df['Payment Method'] == 'EasyPaisa'\nPayment = df[Order1]\nprint('Order Status while payment from Easy Paisa\\n\\n',Payment['Order Status'].value_counts())\n\n#First Start with JazzCash\nOrder2 = df['Payment Method'] == 'JazzCash'\nPayment = df[Order2]\nprint('Order Status while payment from JazzCash\\n\\n',Payment['Order Status'].value_counts())\n\n#First Start with EasyPaisa\nOrder3 = df['Payment Method'] == 'BankTransfer'\nPayment = df[Order3]\nprint('Order Status while payment from BankTransfer\\n\\n',Payment['Order Status'].value_counts())\n\n","6b5ccd71":"plt.figure(figsize=(15,15))\nsns.countplot(x='Payment Method', data=df,hue='Order Status',palette='Set1');","f31cc2c8":"df['City'].value_counts()[:5]","6b8dfc2c":"#Let's clean the city only well known templates selected.\ndef new_city(city_name):\n    \n    if (\"karachi\" in city_name) or (\"KARACHI\" in city_name) or (\"Khi\" in city_name) or (\"Karachi\" in city_name) or (\"East Karachi\" in city_name):\n        return \"KHI\"\n    \n    elif (\"lahore\" in city_name) or (\"LAHORE\" in city_name) or (\"Lhr\" in city_name):\n        return \"LHR\"\n    \n    elif (\"islamabad\" in city_name) or (\"ISLAMABAD\" in city_name) or (\"Isl\" in city_name):\n        return \"ISL\"\n    \n    elif (\"rawalpindi\" in city_name) or (\"RAWALPINDI\" in city_name) or (\"Rwp\" in city_name) or (\"pindi\" in city_name):\n        return \"RWP\"\n    \n    elif (\"faisalabad\" in city_name) or (\"FAISALABAD\" in city_name) or (\"Fsd\" in city_name):\n        return \"FSD\"\n    \n    else:\n        return city_name","13bfd9d3":"df[\"New City\"]=df[\"City\"].apply(new_city)","1701b5ec":"df.head(15)","d76dc042":"#Just remove the City coulmn and go with new city coulmn\ndf.drop(['City'], axis=1)","46785b63":"Test = df['Order Status'] == 'Completed'\nCity = df[Test]\nCity['New City'].value_counts()[:5]","2df1ebb8":"City['New City'].value_counts()[:5].plot(kind='barh', title='Completed Orders wrt Cities');","9b60ccdf":"Test1 = df['Order Status'] == 'Cancelled'\nCity = df[Test1]\nCity['New City'].value_counts()[:5]","0a1df7dd":"City['New City'].value_counts()[:5].plot(kind='pie', title='Cancelled Orders wrt Cities');","50faa743":"Test1 = df['Order Status'] == 'Returned'\nCity = df[Test1]\nCity['New City'].value_counts()[:5]","e94eba81":"City['New City'].value_counts()[:5].plot(kind='line', title='Returned Orders wrt Cities');","a08986e5":"df['Order Date & Time'] = pd.to_datetime(df['Order Date & Time'])","ffafccc4":"df['Date'] = pd.to_datetime(df['Order Date & Time']).dt.date\ndf['Day'] = df['Order Date & Time'].dt.day_name()\ndf['Month'] = df['Order Date & Time'].dt.month_name()\ndf['Year'] = df['Order Date & Time'].dt.year","9a72f695":"df.head(3)","8f0b6fda":"df['Year'].value_counts()","2a55e13a":"explode = (0.2, 0, 0)  # only \"explode\" the 2nd slice (i.e. 'Hogs')\ndf['Year'].value_counts().plot(kind='pie', title='Total Number Of Orders Per Year:', autopct='%1.1f%%', explode=explode, shadow=True);","1930c953":"Completed_Orders = df['Order Status'] == 'Completed'\nOrders = df[Completed_Orders]\nprint('Number of Completed Orders in a Year\\n', Orders['Year'].value_counts())\n\n\nCancelled_Orders = df['Order Status'] == 'Cancelled'\nC_Orders = df[Cancelled_Orders]\nprint('Number of Cancelled Orders in a Year\\n', C_Orders['Year'].value_counts())\n\n\nReturned_Orders = df['Order Status'] == 'Returned'\nR_Orders = df[Returned_Orders]\nprint('Number of Returned Orders in a Year\\n', R_Orders['Year'].value_counts())","bc6b6499":"Orders['Year'].value_counts().plot(kind='bar',title='Number of Completed Orders Per Year');","7992aaca":"sns.countplot(x='Year', data=C_Orders, palette='Set2');","b1a84851":"R_Orders['Year'].value_counts().plot(kind='pie',autopct='%1.1f%%',title='%age of Returned Orders Per Year');","29acd638":"#Let's find the best Month as well wrt Completed, Cancelled and Returned\nCompleted_Orders_M = df['Order Status'] == 'Completed'\nOrders_M = df[Completed_Orders]\nprint('Number of Completed Orders wrt Month\\n', Orders_M['Month'].value_counts())\n\n\nCancelled_Orders_M = df['Order Status'] == 'Cancelled'\nC_Orders_M = df[Cancelled_Orders]\nprint('Number of Cancelled Orders in a Year\\n', C_Orders_M['Month'].value_counts())\n\n\nReturned_Orders_M = df['Order Status'] == 'Returned'\nR_Orders_M = df[Returned_Orders]\nprint('Number of Returned Orders in a Year\\n', R_Orders_M['Month'].value_counts())","0307ea9f":"explode = (0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2)\nOrders_M['Month'].value_counts().plot(kind='pie', title='%age of Completed Orders wrt Month:', autopct='%1.1f%%', explode=explode, shadow=True);","551b1f43":"explode = (0, 0, 0, 0, 0, 0, 2, 2)\nC_Orders_M['Month'].value_counts().plot(kind='pie', title='%age of Cancelled Orders wrt Month:', autopct='%1.1f%%', explode=explode, shadow=True);","64c8b363":"explode = (0, 0, 0, 0, 0, 0, 0)\nR_Orders_M['Month'].value_counts().plot(kind='pie', title='%age of Returned Orders wrt Month:', autopct='%1.1f%%', explode=explode, shadow=True);","c9993eae":"2020 was the best Year for Guftugu, In which they sold most number of Books, It might be happened because of Covid-19 but so far 2020 is the Winner.","f6d7d8e0":"Look into the number, Total Orders number of Completed Orders while payment method is COD are 17330 and also larger number of completed orders are from COD. Largest returned orders are from Jazz Cash and most number of Cancelled Orders are from COD. Let's understand these numbers with the help of some visulaization.","41137ed0":"# ORDER'S INSIGHT WRT WEEK, MONTH AND YEARS","c8b1fb1b":"# At last we fill the missing vlaues of Book Name and City with best seller and top city resp.\n","f6d7210c":"# Importing and Cleaning Of Data Set","34d93c4d":"Now we got a numbers of Completed, Cancelled and Returned Orders wrt Year. Let's do some Plotting.","967ccf68":"Basically there are 4 ways in which customer pay their bills. We replace both Cash on Delivery and Cash on Delivery (COD) with COD","303a782e":"In Process\n# If you like my work do Upvote \ud83d\udc46\u00b6****","e3deea22":"Now we got the total number of Payment methods as well as there numbers which will help a lot. Now let's correlate Payment Method with Order Status.","f29be541":"#I have found that KHI is a top city but in data set there are more variants like KARACHI, KHI, Khi, karachi so we replace all these with Karachi. Same will perform for other cities as well in upcoming tasks.","0c4ad1be":"# Order Status Insights","01c207b2":"**There is total 3 variants of Order's status, wether its Completed, Cancelled or Returned, Now let's us corelate Order Status with Payment Method.**","64e528e0":"# \u0627\u0646\u0679\u0631\u0646\u06cc\u0679 \u0633\u06d2 \u067e\u06cc\u0633\u06c1 \u06a9\u0645\u0627\u0626\u06cc\u06ba is the best seller book and most number of copies of this book are sold in Karachi.","8189d4dc":"# **Let's break down into cities as well (Top 5)******","16053a36":"#We will replace these NA values of Book name and City Col with best celler book and top city.","b8b65e2c":"January is the best Month having more Completed orders than Others, While we observed that more Cancelled Orders in July having 41% of Cacellation rate while most Returned in the Month of November followed by December.","c4c07690":"Now we got a numbers of Completed, Cancelled and Returned Orders wrt Year. Let's do some Plotting."}}