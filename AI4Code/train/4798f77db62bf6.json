{"cell_type":{"914bc06e":"code","064af9e2":"code","467913db":"code","218177cb":"code","9b0d624a":"code","3fb2d521":"code","fe82efe5":"markdown","3b91d485":"markdown","c66987d0":"markdown","1e47d7fe":"markdown","c363b8b5":"markdown","dfe1497c":"markdown","78bc7036":"markdown"},"source":{"914bc06e":"import numpy as np\nimport pandas as pd\npd.set_option('display.float_format', '{:.2f}'.format)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n#plt.style.use('fivethirtyeight')\nsns.set_theme()\nplt.rcParams.update({'font.size': 16})\nplt.rcParams[\"figure.figsize\"] = (12, 10)\n\n!pip install -q ptitprince\nimport ptitprince as pt \n\nsize = 1000\n# central peak\npeak = np.random.normal(10, 0.2, 100)\nbase = np.random.normal(10,  10, 900)\npeaked = np.concatenate([peak, base])\n\n# bimodal\nmode_1 = np.random.normal(5, 1.8 , 500)\nmode_2 = np.random.normal(15, 1.8 , 500)\nbimodal = np.concatenate([mode_1, mode_2])\n\ndistributions = pd.DataFrame(data=peaked, columns=[\"peaked\"])\ndistributions['bimodal'] = bimodal\n\ndistributions[distributions <  0] = np.nan\ndistributions[distributions > 20] = np.nan\n\n# uniform\ndistributions[\"uniform\"]=  np.arange(size)\/50","064af9e2":"distributions.describe()","467913db":"sns.boxplot(data=distributions, orient='h');","218177cb":"sns.stripplot(data=distributions, orient='h', jitter=0.25);","9b0d624a":"sns.violinplot(data=distributions, orient='h', bw=0.05, cut=0);","3fb2d521":"pt.RainCloud(data=distributions, bw=0.05, cut=0, orient='h');","fe82efe5":"### Related reading\n**Raincloud plots**\n* [Micah Allen \"*Introducing Raincloud Plots!*\", March (2018)](https:\/\/neuroconscience.wordpress.com\/2018\/03\/15\/introducing-raincloud-plots\/)\n* [Micah Allen *et al*. \"*Raincloud plots: a multi-platform tool for robust data visualization*\", Wellcome Open Research **4:63** (2021)](https:\/\/wellcomeopenresearch.org\/articles\/4-63)\n* [raincloudplots](https:\/\/github.com\/jorvlan\/raincloudplots) GitHub R package\n* [PtitPrince](https:\/\/github.com\/pog87\/PtitPrince) a python implementation of the raincloud plot by davide poggiali\n\n**Box plots**\n* [Mary Eleanor Spear \"*Charting Statistics*\", McGraw Hill (1952)](https:\/\/archive.org\/details\/ChartingStatistics_201801\/)\n\n**Violin plots**\n* [Jerry L. Hintze and Ray D. Nelson \"*Violin Plots: A Box Plot-Density Trace Synergism*\",  The American Statistician\nVol. **52**  pages 181-184 (1998)](https:\/\/www.jstor.org\/stable\/2685478 ) ([pdf](https:\/\/www.stat.cmu.edu\/~rnugent\/PCMI2016\/papers\/ViolinPlots.pdf))\n\n### Related notebooks\n* [\"Petit Prince by CurryPurin\"](https:\/\/www.kaggle.com\/mpwolke\/petit-prince-by-currypurin) written by [Mar\u00edlia Prata](https:\/\/www.kaggle.com\/mpwolke)\n* [\"Anscombe's quartet and the importance of EDA\"](https:\/\/www.kaggle.com\/carlmcbrideellis\/anscombe-s-quartet-and-the-importance-of-eda)","3b91d485":"### Strip plot","c66987d0":"### Descriptive statistics","1e47d7fe":"### Violin plot","c363b8b5":"### Box + strip + violin = raincloud plot\n\nIn this notebook we shall demonstrate raincloud plots, introduced by Micah Allen and co-workers in 2018 (see references below).\n\nWe shall start by producing three synthetic series of data. We shall then take a look at their [descriptive statistics](https:\/\/en.wikipedia.org\/wiki\/Descriptive_statistics), in particular what are known as the Tukey \"Five-Number\" summaries: the minimum, the lower-hinge (first quartile, Q1, or 25th percentile), the median, the upper-hinge (Q3, or 75th percentile), and the maximum.\n\nWe shall then proceed to draw the [box plots](https:\/\/seaborn.pydata.org\/generated\/seaborn.boxplot.html) for these series of data. Box plots were invented seventy years ago by [Mary Spear](https:\/\/en.wikipedia.org\/wiki\/Mary_Eleanor_Spear) in her 1952 book [\"Charting Statistics\"](https:\/\/archive.org\/details\/ChartingStatistics_201801) \n\n![](https:\/\/raw.githubusercontent.com\/Carl-McBride-Ellis\/images_for_kaggle\/main\/Mary_Spear_range_bar.png)\n\nThey were subsequently made famous by the celebrated statistician [John Tukey](https:\/\/en.wikipedia.org\/wiki\/John_Tukey). Box plots are essentially graphical representations of the abovementioned \"Five-Number\" summaries.\n\nWe then create [strip (or dot) plots](https:\/\/seaborn.pydata.org\/generated\/seaborn.stripplot.html) of these data, where we first see that the distributions, although having similar descriptive statistics and box plots, are really quite different, a situation somewhat reminiscent of [Anscombe's quartet](https:\/\/www.kaggle.com\/carlmcbrideellis\/anscombe-s-quartet-and-the-importance-of-eda). We then proceed to produce [violin plots](https:\/\/seaborn.pydata.org\/generated\/seaborn.violinplot.html) of the data. Violin plots include the density shape of the underlying distribution.\n\nFinally, with the help of the python [PtitPrince](https:\/\/github.com\/pog87\/PtitPrince) package, we ultimately combine all three visualizations into one, under the umbrella term of a *raincloud plot*.","dfe1497c":"### Box plot","78bc7036":"### Raincloud plot"}}