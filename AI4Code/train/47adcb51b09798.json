{"cell_type":{"346cba79":"code","9c29049e":"code","c6acfa9e":"code","96700206":"code","ab5ddb5e":"code","883ce380":"code","3b9fceb7":"code","a6056dce":"code","ac18c4e3":"code","afb2c27b":"code","4d652ac5":"code","25fa2641":"code","c71f4f52":"code","7ed1670a":"code","836f0462":"code","0b887cdc":"code","e898a334":"code","df0e70fb":"code","eb8d09f0":"code","0e040c90":"code","c06d8260":"code","0e0623ce":"code","3d9f5786":"code","88b8cfbf":"code","837f5cb1":"markdown","f9705cb1":"markdown","2c0d5422":"markdown","0442b806":"markdown","0b26b9dd":"markdown","26a26c91":"markdown","2642a794":"markdown","0dacb771":"markdown","b930bb5c":"markdown","49459fb5":"markdown","6750a311":"markdown","e9769956":"markdown","18b59f8d":"markdown","37b585bd":"markdown","cd7aa1f3":"markdown","62f34596":"markdown","795dfdcf":"markdown","d006ff4c":"markdown","414a5fa2":"markdown","0767b492":"markdown","01a04522":"markdown","ac355266":"markdown","b32f27ef":"markdown","63c293cd":"markdown","be1df82a":"markdown","7600d77f":"markdown","904274d4":"markdown","e34df01e":"markdown","dd9d1316":"markdown"},"source":{"346cba79":"!pip install calmap","9c29049e":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\nfrom collections import defaultdict \nimport calmap\nplt.rcParams['figure.figsize'] = 8, 5\nplt.style.use(\"fivethirtyeight\")\npd.options.plotting.backend = \"plotly\"\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nimport re","c6acfa9e":"data = pd.read_csv('..\/input\/covid19-clinical-trials-dataset\/COVID clinical trials.csv')\ndata.head()","96700206":"data['Start Date'] = pd.to_datetime(data['Start Date'])\ndata['Completion Date'] = pd.to_datetime(data['Completion Date'])\ndata['Primary Completion Date'] = pd.to_datetime(data['Primary Completion Date'])\ndata['Start Date'] = pd.to_datetime(data['First Posted'])\ndata['Start Date'] = pd.to_datetime(data['Results First Posted'])\ndata['Start Date'] = pd.to_datetime(data['Last Update Posted'])","ab5ddb5e":"def NullUnique(df):\n    dic = defaultdict(list)\n    for col in df.columns:\n        dic['Feature'].append(col)\n        dic['NumUnique'].append(len(df[col].unique()))\n        dic['NumNull'].append(df[col].isnull().sum())\n        dic['%Null'].append(round(df[col].isnull().sum()\/df.shape[0] * 100,2))\n    return pd.DataFrame(dict(dic)).sort_values(['%Null'],ascending=False).style.background_gradient()","883ce380":"NullUnique(data)","3b9fceb7":"# Returns list of Series index and its count where count > threshold\ndef popularity(col,threshold):\n    idx = []\n    counts = []\n    other = 0\n    for index,vcount in zip(data[col].value_counts().index,data[col].value_counts().values):\n        if vcount < threshold:\n            other+=1\n            continue\n        idx.append(index)\n        counts.append(vcount)\n    idx.append('Others')\n    counts.append(other)\n    return idx,counts","a6056dce":"fig = px.pie(data,'Study Results')\nfig.update_layout(title='Do we have any results to study?')\nfig.show()","ac18c4e3":"fig = go.Figure(go.Bar(\n    x= data.groupby('Phases').agg('count')['Rank'].sort_values(ascending=False).index, \n    y= data.groupby('Phases').agg('count')['Rank'].sort_values(ascending=False).values,  \n    text=data.groupby('Phases').agg('count')['Rank'].sort_values(ascending=False).index,\n    textposition='outside',\n    marker_color=data.groupby('Phases').agg('count')['Rank'].sort_values(ascending=False).values\n))\nfig.update_layout(title='Phases across Studies')\nfig.show()","afb2c27b":"data.Status.hist()","4d652ac5":"idx , counts = popularity('Interventions',8)\nfig = go.Figure([go.Pie(labels=idx,values=counts,textinfo='label+percent')])\nfig.update_layout(title='What are the top Interventions?')\nfig.show()","25fa2641":"conditions=list(data['Conditions'].dropna().unique())\nfig, (ax2) = plt.subplots(1,1,figsize=[17, 10])\nwordcloud2 = WordCloud(width=1000,height=400).generate(\" \".join(conditions))\nax2.imshow(wordcloud2,interpolation='bilinear')\nax2.axis('off')\nax2.set_title('What Conditions are we trying to treat',fontsize=20)","c71f4f52":"def cleanAge(age):\n    if len(re.findall(r'\\(.*\\)',age)):\n        return re.findall(r'\\(.*\\)',age)[0]\n    return '('+age+')'","7ed1670a":"ageData = data.Age.apply(lambda x : cleanAge(x))\nageData.hist()","836f0462":"data['AgeBrackets'] = ageData","0b887cdc":"i = 0\nfig = make_subplots(rows=3, cols=2, subplot_titles=list(pd.DataFrame(data.groupby(['AgeBrackets'])['Gender'].value_counts()).unstack().index))\nfor row in range(1,4):\n    for col in range(1,3):\n        dt = pd.DataFrame(data.groupby(['AgeBrackets'])['Gender'].value_counts()).unstack().iloc[i]\n        fig.add_trace(go.Bar(x=dt.Gender.index,y=dt.Gender.values),row = row, col = col)        \n        i+=1\nfig.show()","e898a334":"data.Enrollment.hist()","df0e70fb":"data['Study Type'].hist()","eb8d09f0":"def splitLoc(loc):\n    return loc.split(',')[-1].strip()","0e040c90":"data['Loc'] = data.Locations.apply(lambda x:splitLoc(str(x)))","c06d8260":"fig = go.Figure([go.Choropleth(\n    locations=data.groupby(['Loc']).agg('count')['Rank'].index,\n    z=data.groupby(['Loc']).agg('count')['Rank'].values.astype(float),\n    locationmode='country names',\n    colorscale='Blues',\n    autocolorscale=False,\n    marker_line_color='white',\n    showscale = True,\n)])\nfig.update_layout(title='Study Locations')\nfig.show()","0e0623ce":"idx , counts = popularity('Funded Bys',0)\nfig = go.Figure([go.Pie(labels=idx,values=counts,textinfo='label+percent')])\nfig.update_layout(title='Who are the top Funders?')\nfig.show()","3d9f5786":"fig,ax = calmap.calendarplot(data.groupby(['Start Date']).Rank.count(), monthticks=1, daylabels='MTWTFSS',cmap='YlGn',\n                    linewidth=0, fig_kws=dict(figsize=(20,5)))\nfig.suptitle('Start Date of Studies' )\nfig.colorbar(ax[0].get_children()[1], ax=ax.ravel().tolist())\nfig.show()","88b8cfbf":"data['Completion Date'].dt.year.hist()","837f5cb1":"# Who Funded these Studies?","f9705cb1":"**Observations**:\n- Most Studies take place in USA (517)\n- Next highest count is in France (349)","2c0d5422":"**Observations**:\n- Some studies mark their completion date in 2099, which seems to be an outlier\n- Most studies aim to complete between 2020-2025","0442b806":"**Observations**:\n- The keywords are : COVID, Coronavirus, SARS, CoV indicating major research being done to find a cure for these diseases\n- Less Common conditions are Hypoxemia, Viral Pneumonia, Pregnancy","0b26b9dd":"Intervention refers to the medicinal product (e.g drug, device, vaccine, placebo etc) given to the patients in a study<br>\n**Observations**:\n- Hydroxychloroquine is most used Intervention\n- Next common occurence is *No Intervention*\n- NOTE : Others include all interventions with less than 8 occurences","26a26c91":"**Observations**:\n- Max Funding is by Industry\n- NIH - National Institute of Health and US FED has also funded many studies","2642a794":"# What Age Bracket and Gender are these Studies considering?","0dacb771":"**Observations**:\n- Initial studies began in  early February\n- Large number of studies kicked off in May-June","b930bb5c":"**Observations**:\n- Most Studies are observational and interventional\n- Rarely do studies follow Expanded Access Methods","49459fb5":"# Number of Patients participating in studies","6750a311":"## What are the target Completion Dates for studies?","e9769956":"# Exploring Study Results","18b59f8d":"**Observations**:\n- Most relevant takes are that a high number (378) of studies are in the 2nd Phase \n- 77 Studies are in Phase 3\n- 72 Studies are in Phase 4 (Very close to reaching a solution)\n- Majority Studies have *Not Applicable* Phase","37b585bd":"# Exploring the Phases across Studies\n<img src=\"https:\/\/lupustrials.org\/wp-content\/uploads\/2019\/01\/clinical-trial-phases-graphic.jpg\" width=800>","cd7aa1f3":"# Analysing Study Type\nThe nature of a clinical study. Study types include interventional studies","62f34596":"**Observations**:\n- 0.038% studies have attained some results\n- Remaining 99.97% results have NO RESULTS","795dfdcf":"**Observations**:\n- Most Studies involve (Adult, Older Adult) Population\n- Only Child studies are very few","d006ff4c":"# Most Popular Interventions","414a5fa2":"# Exploring Null and Unique values distribution","0767b492":"**Observations**:\n- Null Observations\n    - Results First Posted has 99.9% Null values (with only 1 non Null value)\n    - Study Documents has 98.15% Null Values\n    - Acronyms has 53.1% Null Values\n    - Phases has 43.43% Null Values\n- Unique Observations\n    - URL, Rank and NCT Number have Unique values for every data point\n    - Some data points have same title and same 'Other Ids'\n    ","01a04522":"# Exploring Status","ac355266":"# What Conditions are these Studies treating?\nThe disease, disorder, syndrome, illness, or injury that is being studied","b32f27ef":"# Where are these studies taking place?","63c293cd":"**Observations**:\n- Most studies have 0-40k participants\n- Some Data Points go upto 10M participants","be1df82a":"# Exploring Studies Timelines","7600d77f":"**Observations**:\n- Most studies have taken data from All Genders\n- In (Adult) and (Child,Adult) Category there is significant number of Female patients considered for the studies","904274d4":"Status : Indicates the current recruitment status or the expanded access status<br>\n**Observations**:\n- Most studies are recruiting indicating a need of skilled individuals\n- Next highest group is Not Yet Recruiting indicating studies havent attained a stage to begin getting professionals onboard","e34df01e":"**Final Summary:**\n- Most Undergoing Studies are in Phase 2 with only 2.77% studies in Phase 4\n- Most studies are recruiting indicating a need of skilled individuals\n- Hydroxychloroquine is most used Intervention\n- Most Studies involve (Adult, Older Adult) Population with very few studies focussed on Children\n- Most studies have 0-40k participants in the clinical trials\n- Most Studies follow observational and interventional methodology\n- Most Studies take place in USA (517) and France (349)\n- Max Funding for these Clinical trials are done by 'Industries'. Some studies are funded by NIH and US-FEDs\n- Most Studies aim to be completed by 2020-2025","dd9d1316":"# COVID Vaccine : Clinical Trials and Progress EDA\n\n<img src=\"https:\/\/images.moneycontrol.com\/static-mcnews\/2020\/06\/coronavirus-vaccine-770x433.jpg?impolicy=website&width=770&height=431\" width=500><br>\n\n[Clinical Trials](ClinicalTrials.gov) is a database of privately and publicly funded clinical studies conducted around the world. It is maintained by the National Institute of Health. All data is publicly available and the site provides a direct download feature which makes it super easy to use relevant data for analysis.\n\nIn this Notebook we will analyse the studies undergoing for finding the COVID and pneaumonia related disease vaccines, their Progress and Timeline."}}