{"cell_type":{"f7e7ce20":"code","e197bf1d":"code","cf4c3f7e":"code","2924f157":"code","bde39545":"code","2cb93244":"code","cbf2a5f6":"code","0b2dd07c":"code","7054dd01":"code","52a47a0b":"code","bc12fd55":"code","07a5c49f":"code","05f1f18d":"code","1ecae72a":"code","74586611":"code","1d02e19e":"code","d0230838":"code","48728798":"code","d41be663":"code","aff96f89":"code","f90f2d54":"code","01c9e67d":"code","8fe50b8d":"code","6cac6c8e":"code","5638c0f5":"code","2dd1343b":"code","7070f3ec":"code","c9b5ea17":"code","2c1b2a5c":"code","968d380b":"code","03ca04dd":"code","6ce9073e":"code","ef1fd4b9":"code","c78ea668":"markdown","a6cba275":"markdown","45abd67b":"markdown","daf4fb81":"markdown","c5a4bfad":"markdown","9b0e4c71":"markdown","9cba7c26":"markdown","bfdbc1af":"markdown","e4a6d0b5":"markdown","0e29f2dd":"markdown","182161a4":"markdown","2456c809":"markdown","7d71e74c":"markdown","6fe512d0":"markdown","c716d75c":"markdown","29790be1":"markdown","6db3e8b3":"markdown","c6551a2c":"markdown","2ecc5c61":"markdown","3d32a983":"markdown","e6c6e03b":"markdown","595e1172":"markdown","6422d6c7":"markdown","d3635f31":"markdown","900b89fa":"markdown","9799c55f":"markdown"},"source":{"f7e7ce20":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n!pip install pywaffle --quiet\nfrom pywaffle import Waffle\nfrom wordcloud import WordCloud","e197bf1d":"df= pd.read_csv(\"..\/input\/netflix-shows\/netflix_titles.csv\")","cf4c3f7e":"df.describe()","2924f157":"## add new features in the dataset\ndf[\"date_added\"] = pd.to_datetime(df['date_added'])\ndf['year_added'] = df['date_added'].dt.year\ndf['month_added'] = df['date_added'].dt.month\n\ndf['season_count'] = df.apply(lambda x : x['duration'].split(\" \")[0] if \"Season\" in x['duration'] else \"\", axis = 1)\ndf['duration'] = df.apply(lambda x : x['duration'].split(\" \")[0] if \"Season\" not in x['duration'] else \"\", axis = 1)\ndf.head()","bde39545":"plt.figure(figsize=(15, 10))\nfig = px.pie(df[\"type\"], names='type', template='seaborn')\nfig.update_traces(rotation=90, pull=[0.2,0.1], textinfo=\"percent+label\")\nfig.show()","2cb93244":"df['rating'] = df[\"rating\"].fillna('TV-MA')","cbf2a5f6":"plt.figure(figsize=(25, 20))\nfig = px.pie(df[\"rating\"], names='rating', template='seaborn')\nfig.update_traces(rotation=90, pull=[0.2,0.1,0.2,0.1,0.1,0.1,0.1], textinfo=\"percent+label\")\nfig.show()","0b2dd07c":"plt.figure(figsize=(10,8))\nsns.countplot(x='rating',hue='type',data=df)\nplt.title('comparing frequency between type and rating')\nplt.show()","7054dd01":"from collections import Counter\ncountry_data = df['country']\ncountry_data = country_data.astype(str)\ncountry_counting = pd.Series(dict(Counter(','.join(country_data).replace(' ,',',').replace(', ',',').split(',')))).sort_values(ascending=False)\ncountry_counting.drop(['nan'], axis=0, inplace=True)\ntot = sum(country_counting)\ntop20 = sum(country_counting[:20]) # 22 is real 20% but for simple processing\n\nprint(f'total : {tot}')\nprint(f'top 20 countries : {top20}')\ntop20_country = country_counting[:20]","52a47a0b":"top_productive_countries=df[(df['country']=='United States')|(df['country']=='India')|(df['country']=='United Kingdom')|(df['country']=='Japan')|\n                             (df['country']=='Canada')|(df['country']=='Spain')]\nplt.figure(figsize=(10,8))\nsns.countplot(x='country',hue='type',data=top_productive_countries)\nplt.title('comparing between the types that the top countries produce')\nplt.show()","bc12fd55":"import seaborn as sns\nimport matplotlib.pyplot as plt\ncountries_0_7=['United States',\"United Kingdom\",'Spain','Japan','India','Canada']\ndef country_mov_dur(country):\n    netflix_country_dur=df.loc[(df.country==str(country))&(df.type=='Movie')].duration[:]\n    netflix_country_dur=netflix_country_dur.apply(lambda x : int(x.strip(' minSeaso')))\n    \n    return netflix_country_dur\n","07a5c49f":"f, axes = plt.subplots(6,1,figsize=(18,18))\nfor i in range(6):\n    for j in range(1):\n        country_mov_duration=country_mov_dur(str(countries_0_7[i]))\n        \n        sns.kdeplot(country_mov_duration,Label='Movie Duration'+' in '+str(countries_0_7[i]),color='r',ax=axes[i])","05f1f18d":"df['genre'] = df['listed_in'].apply(lambda x :  x.replace(' ,',',').replace(', ',',').split(',')) \ndf = df.applymap(lambda x: x[0] if isinstance(x, list) else x)\nplt.figure(figsize=(20,10))\nsns.countplot(y='genre',hue='type',data=df)\nplt.title('comparing frequency between type and rating')\nplt.show()","1ecae72a":"for i in top_productive_countries['country'].unique():\n    print(i)\n    print(top_productive_countries[top_productive_countries['country']==i]['rating'].value_counts(normalize=True)*100)\n    print('-'*10)","74586611":"def country_top_dir(country):\n    indian_dir=df.loc[(df.country==str(country)) & (df.type==\"Movie\")]\n    # indian_dir.director.value_counts()[:12]\n\n    col = \"director\"\n    categories = \", \".join(indian_dir[col].fillna(\"\")).split(\", \")\n\n    directors=pd.Series(categories)\n    directors=directors.value_counts()[1:16]\n\n    trace=go.Bar(x=directors.values[:10][::-1],y=directors.index[:10][::-1],orientation='h',marker=dict(color='#a678de'))\n    return trace\nfrom plotly.subplots import make_subplots\ntraces = []\ntitles = [\"United States\", \"\",\"India\",\"\", \"United Kingdom\", \"Canada\",\"\", \"Spain\",\"\", \"Japan\"]\nfor title in titles:\n    if title != \"\":\n        traces.append(country_top_dir(title))\n\nfig = make_subplots(rows=2, cols=5, subplot_titles=titles)\nfig.add_trace(traces[0], 1,1)\nfig.add_trace(traces[1], 1,3)\nfig.add_trace(traces[2], 1,5)\nfig.add_trace(traces[3], 2,1)\nfig.add_trace(traces[4], 2,3)\nfig.add_trace(traces[5], 2,5)\n\nfig.update_layout(height=1200, showlegend=False)\nfig.show()","1d02e19e":"d=df[\"country\"].astype(str)\nd=d.to_list()\nz1=[]\nfor i in d:\n    k=i.split(\", \")\n    z1.append(k)\n# print(z1)\nk=pd.DataFrame(z1,columns = ['alpha', 'beta','gamma','xerox','coxhie','ma','nj','ot','si','ng','h','yo'])\nz=k.alpha.unique()\nw=k.beta.unique()\na=k.gamma.unique()\nb=k.xerox.unique()\nc=k.coxhie.unique()\nd=k.ma.unique()\nz_new=np.concatenate((w,z,a,b,c,d), axis=0)\nfor i in range(len(z_new)):\n    if z_new[i] == None:\n        z_new[i] = \"not_app\"\n\nj=np.unique(z_new)\nlist_type=j.tolist()\nj=j.tolist()\nd=np.array(z1)\n# display(len(d),len(j))\nx=np.zeros((6234,115))\nfrom sklearn.preprocessing import LabelEncoder\nle=LabelEncoder()\nj=le.fit_transform(j)\n","d0230838":"q=[]\nfor i in range(len(d)):\n    u=d[i]\n    u=le.transform(u)\n    q.append(u)","48728798":"for i in range(len(q)):\n    oi=q[i]\n    if len(oi)==1:\n        oi2=oi[0]\n        x[i][oi2]=1\n    elif len(oi)==2:\n        oi2=oi[0]\n        oi3=oi[1]\n        x[i][oi2]=1\n        x[i][oi3]=1\nx=x.astype(int)\ncou=pd.DataFrame(x,columns=list_type)","d41be663":"cou","aff96f89":"df_new=cou.loc[0:6234, [\"United States\",\"India\", \"United Kingdom\", \"Canada\", \"Spain\", \"Japan\"]]\ndf = df.join(df_new)","f90f2d54":"df","01c9e67d":"cat=df[[\"genre\", \"United States\"]].groupby(['genre'], as_index=False).sum().sort_values(by='United States', ascending=False)[:5]\nplt.figure(figsize=(20,10))\nsns.barplot(x='United States', y='genre', data=cat, orient = 'h')\nplt.title('TTOP 5 GENRE LOVED IN UNITED STATES')","8fe50b8d":"cat=df[[\"genre\", \"United Kingdom\"]].groupby(['genre'], as_index=False).sum().sort_values(by='United Kingdom', ascending=False)[:5]\nplt.figure(figsize=(20,10))\nsns.barplot(x='United Kingdom', y='genre', data=cat, orient = 'h')\nplt.title('TTOP 5 GENRE LOVED IN United Kingdom')","6cac6c8e":"cat=df[[\"genre\", \"Japan\"]].groupby(['genre'], as_index=False).sum().sort_values(by='Japan', ascending=False)[:3]\nplt.figure(figsize=(20,10))\nsns.barplot(x='Japan', y='genre', data=cat, orient = 'h')\nplt.title('TTOP 5 GENRE LOVED IN Japan')","5638c0f5":"cat=df[[\"genre\", \"Spain\"]].groupby(['genre'], as_index=False).sum().sort_values(by='Spain', ascending=False)[:5]\nplt.figure(figsize=(20,10))\nsns.barplot(x='Spain', y='genre', data=cat, orient = 'h')\nplt.title('TTOP 5 GENRE LOVED IN Spain')","2dd1343b":"cat=df[[\"genre\", \"India\"]].groupby(['genre'], as_index=False).sum().sort_values(by='India', ascending=False)[:5]\nplt.figure(figsize=(20,10))\nsns.barplot(x='India', y='genre', data=cat, orient = 'h')\nplt.title('TTOP 5 GENRE LOVED IN India')","7070f3ec":"cat=df[[\"genre\", \"Canada\"]].groupby(['genre'], as_index=False).sum().sort_values(by='Canada', ascending=False)[:5]\nplt.figure(figsize=(20,10))\nsns.barplot(x='Canada', y='genre', data=cat, orient = 'h')\nplt.title('TTOP 5 GENRE LOVED IN Canada')","c9b5ea17":"d=df[\"cast\"].astype(str)\nd=d.to_list()\nz1=[]\nfor i in d:\n    k=i.split(\", \")\n    z1.append(k)\n# print(z1)\nk=pd.DataFrame(z1,columns = ['alpha', 'beta','gamma','xerox','coxhie','ma','nj','ot','si','ng','h','yo','xerox1','coxhie1','xerox2','coxhie2','ma1','nj1','ot1',\n                             'si1','ng1','h1','yo1','xerox3','coxhie3','ma3','nj3','ot3','si3','ng3','h3','yo3''yo4','xerox4','coxhie4','ma4','nj4','ot4',\n                             'si4','ng4','h4','yo5','xerox5','coxhie5','ma5','nj5','ot5','si5','ng5','h5','yo6'])\n\nz=k.alpha.unique()\nw=k.beta.unique()\na=k.gamma.unique()\nb=k.xerox.unique()\nc=k.coxhie.unique()\nd=k.ma.unique()\na1=k.nj.unique()\na2=k.ot.unique()\na3=k.si.unique()\na4=k.ng.unique()\na5=k.h.unique()\na6=k.yo.unique()\na7=k.xerox1.unique()\na8=k.coxhie1.unique()\na9=k.xerox2.unique()\na10=k.coxhie2.unique()\na11=k.ma1.unique()\na12=k.nj1.unique()\na13=k.ot1.unique()\na14=k.si1.unique()\na15=k.ng1.unique()\na16=k.h1.unique()\na17=k.yo1.unique()\na18=k.xerox3.unique()\na19=k.coxhie3.unique()\na20=k.ma3.unique()\na21=k.nj3.unique()\na22=k.ot3.unique()\na23=k.si3.unique()\na24=k.ng3.unique()\na25=k.h3.unique()\na26=k.yo3yo4.unique()\n# a27=k.yo4.unique()\na28=k.ma4.unique()\na29=k.xerox4.unique()\na30=k.coxhie4.unique()\na112=k.nj4.unique()\na32=k.ot4.unique()\na33=k.si4.unique()\na34=k.ng4.unique()\na35=k.h4.unique()\na36=k.yo5.unique()\na37=k.xerox5.unique()\na38=k.coxhie5.unique()\na39=k.ma5.unique()\na42=k.nj5.unique()\na43=k.ot5.unique()\na44=k.si5.unique()\na45=k.ng5.unique()\na46=k.h5.unique()\na47=k.yo6.unique()\nz_new=np.concatenate((w,z,a,b,c,d,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20,a21,a22,a23,a24,\n                      a25,a26,a28,a29,a30,a112,a32,a33,a34,a35,a36,a37,a38,a39,\n                    a42,a43,a44,a45,a46,a47), axis=0)\nfor i in range(len(z_new)):\n    if z_new[i] == None:\n        z_new[i] = \"not_app\"\n\nj=np.unique(z_new)\nlist_type=j.tolist()\nj=j.tolist()\nd=np.array(z1)\n# display(len(d),len(j))\nx=np.zeros((6234,27407))\nfrom sklearn.preprocessing import LabelEncoder\nle=LabelEncoder()\nj=le.fit_transform(j)","2c1b2a5c":"display(len(d),len(j))","968d380b":"try:\n    \n    q=[]\n    for i in range(len(d)):\n        u=d[i]\n        u=le.transform(u)\n        q.append(u)\nexcept Exception as e:\n    print(e)","03ca04dd":"for i in range(len(q)):\n    oi=q[i]\n    if len(oi)==1:\n        oi2=oi[0]\n        x[i][oi2]=1\n    elif len(oi)==2:\n        oi2=oi[0]\n        oi3=oi[1]\n        x[i][oi2]=1\n        x[i][oi3]=1\nx=x.astype(int)\nyoi=pd.DataFrame(x,columns=list_type)","6ce9073e":"for i in yoi.columns:\n    a=yoi[i].sum()\n    if a > 5:\n        print(i)\n        print(a)\n    ","ef1fd4b9":"plt.subplots(figsize=(20,35))\nwordcloud = WordCloud(\n                          background_color='Black',\n                          width=1920,\n                          height=1080\n                         ).generate(\" \".join(df.genre))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('cast.png')\nplt.show()","c78ea668":"# JAPAN \n# **Populace of Japan may prefers movies with duration of 95 minutes rated under the Category TV-14. Moreover If the movie is directed by Masahiko Murata under the genre of Action & adventure or Anime or both with the exception cast as Craig Sechler, David Attenborough, Jeff Dunham, Samuel West or Stephen Fry will be a hoot and a half.**","a6cba275":"# CANADA\n# **Populace of Canada may prefers movies with duration of 95 minutes rated under the Category TV-MA. Moreover If the movie is directed by Justin G.Dyck under the genre of Children & Family or Dramas or Comedies with the exception cast as Craig Sechler, David Attenborough, Jeff Dunham, Samuel West or Stephen Fry will be a hoot and a half.**","45abd67b":"# UNITED KINGDOM\n# **Populace of The United Kingdom may prefers movies with duration of 95 minutes rated under the Category TV-MA. Moreover If the movie is directed by edward cotterill under the genre of Documentaries or Dramas or both with the exception cast as Craig Sechler, David Attenborough, Jeff Dunham, Samuel West or Stephen Fry will be a hoot and a half.**","daf4fb81":"# ASSUMPTIONS ==>\n**1. ASSUMING THAT EVERY SINGLE PICTURE IS A HIT OR HAVE A IMDB OF 10.**","c5a4bfad":"# ***THINGS YOU HAVE TO FOLLOW WHILE WALKING THROUGH THE WHOLE REPORT***\n\n1. If you are familiar with python then only follow the code. \n2. The simple explanations about any visual or graph will be there.\n3. There will be a brief conclusion of the report.\n4. Every explanation is presented below the line of code's output.\n\n***Enjoy***","9b0e4c71":"# BEST GENRE COUNTRY-WISE","9cba7c26":"# SPAIN\n# **Populace of Spain may prefers movies with duration of 95 minutes rated under the Category TV-MA. Moreover If the movie is directed by Javier Ruiz Caldera under the genre of Comedies or Dramas or both with the exception cast as Craig Sechler, David Attenborough, Jeff Dunham, Samuel West or Stephen Fry will be a hoot and a half.**","bfdbc1af":"# BEST DIRECTOR COUNTRY-WISE","e4a6d0b5":"# UNITED KINGDM ==> TV-MA\n# UNITED STATES ==> TV-MA\n# SPAIN ==> TV-MA\n# INDIA ==> TV-14\n# CANADA ==> TV-MA\n# JAPAN ==> TV-14","0e29f2dd":"# Movie==> TV-MA,TV-14\n# T.V shows ==> TV-MA,TV_14","182161a4":"# UNITED STATES\n# Populace of The United States may prefers movies with duration of 95 minutes rated under the Category TV-MA. Moreover If the movie is directed by Jay Karas under the genre of DOCUMENTARIES, COMEDIES,DRAMAS with the exception cast as Craig Sechler, David Attenborough, Jeff Dunham, Samuel West or Stephen Fry will be a hoot and a half.","2456c809":"# THIS DATASET CONTAINS:\n* TV Shows and Movies listed on Netflix\n* This dataset consists of tv shows and movies available on Netflix as of 2019. The dataset is collected from Flixable which is a third-party Netflix search engine.\n* In 2018, they released an interesting report which shows that the number of TV shows on Netflix has nearly tripled since 2010. The streaming service\u2019s number of movies has decreased by more than 2,000 titles since 2010, while its number of TV shows has nearly tripled. It will be interesting to explore what all other insights can be obtained from the same dataset.\n* Integrating this dataset with other external datasets such as IMDB ratings, rotten tomatoes can also provide many interesting findings.","7d71e74c":"# !!!PREDICTING HIT FUTURE MOVIES!!!","6fe512d0":"# PREDICTIONS ==>","c716d75c":"# UNITED KINGDM ==> 95 MINS\n# UNITED STATES ==> 95 MINS\n# SPAIN ==> 100 MINS\n# INDIA ==> 120 MINS\n# CANADA ==> 90 MINS\n# JAPAN ==> 95 MINS","29790be1":"# UNITED KINGDM ==> EDWARD COTTERILL\n# UNITED STATES ==> JAY KARAS\n# SPAIN ==> JAVIER RUIZ CALDERA\n# INDIA ==> DAVID DHAWAN\n# CANADA ==> JUSTIN G. DYCK\n# JAPAN ==> MASAHIKO MURATA","6db3e8b3":"# THIS NOTEBOOK ANSWERS THE BELOW QUESTION:","c6551a2c":"# UNITED KINGDM ==> TV-SHOWS,MOVIES\n# UNITED STATES ==> MOVIES\n# SPAIN ==> MOVIE\n# INDIA ==> MOVIE\n# CANADA ==> MOVIE\n# JAPAN ==> TV-SHOWS","2ecc5c61":"* TV-MA:This program is specifically designed to be viewed by adults and therefore may be unsuitable for children under 17.\n* TV-14:This program contains some material that many parents would find unsuitable for children under 14 years of age.\n* TV-PG:This program contains material that parents may find unsuitable for younger children.\n* R:Under 17 requires accompanying parent or adult guardian,Parents are urged to learn more about the film before taking their young children with them.\n* PG-13:Some material may be inappropriate for children under 13. Parents are urged to be cautious. Some material may be inappropriate for pre-teenagers.\n* NR or UR:If a film has not been submitted for a rating or is an uncut version of a film that was submitted\n* PG:Some material may not be suitable for children,May contain some material parents might not like for their young children.\n* TV-Y7:This program is designed for children age 7 and above.\n* TV-G:This program is suitable for all ages.\n* TV-Y:Programs rated TV-Y are designed to be appropriate for children of all ages. The thematic elements portrayed in programs with this rating are specifically designed for a very young audience, including children ages 2-6.\n* TV-Y7-FV:is recommended for ages 7 and older, with the unique advisory that the program contains fantasy violence.\n* G:All ages admitted. Nothing that would offend parents for viewing by children.\n* NC-17:No One 17 and Under Admitted. Clearly adult. Children are not admitted.","3d32a983":"# DO UPVOTE AND FOLLOW","e6c6e03b":"# UNITED KINGDM ==> DOCUMENTARIES, DRAMAS\n# UNITED STATES ==> DOCUMENTARIES, COMEDIES,DRAMAS\n# SPAIN ==> COMEDIES,DRAMAS\n# INDIA ==> DRAMAS,COMEDIES\n# CANADA ==> CHILDREN & FAMILY MOVIES,DRAMAS, COMEDIES\n# JAPAN ==> ACTION & ADVENTURE, ANIME SERIES","595e1172":"# ACTORS\/ACTRESS WHO HAVE DONE MORE THAN 5 MOVIES","6422d6c7":"# INDIA\n# **Populace of India may prefers movies with duration of 95 minutes rated under the Category TV-14. Moreover If the movie is directed by David Dhawan under the genre of Comedies or Dramas or both with the exception cast as Craig Sechler, David Attenborough, Jeff Dunham, Samuel West or Stephen Fry will be a hoot and a half.**","d3635f31":"#  BEST RATING COUNTRY-WISE","900b89fa":"# THE END","9799c55f":"# WHICH FUTURE MOVIE SHOULD NETFLIX CREATE?"}}