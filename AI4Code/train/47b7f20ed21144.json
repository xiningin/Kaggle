{"cell_type":{"391805b5":"code","216574d3":"code","6ef999db":"code","e7d0b4d0":"code","cf99ddcd":"code","49942c50":"code","ea6031eb":"code","15ccd0f1":"code","baac9496":"code","2718df9a":"code","27892528":"code","3ae9edae":"code","79e0ea8f":"code","86037eb5":"code","ca186408":"code","af3215d4":"code","07df6a64":"code","2e6473ed":"code","309c89e2":"code","7ab9316c":"code","cbb1ec0a":"markdown","949f4199":"markdown","76d890cb":"markdown","b9d3d780":"markdown","c13d7685":"markdown"},"source":{"391805b5":"import os\nimport re\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\nimport seaborn as sns","216574d3":"df = pd.read_csv(\"\/kaggle\/input\/sri-lanka-mobile-prices-dataset\/mobile_prices.csv\")","6ef999db":"df.head()","e7d0b4d0":"# Converting Columns into numbers\n# Return nan for prices which are listed as negotiable\ndef extract_num(row):\n    try:\n        amount = row.split(\" \")[-1]\n        return int(re.sub(r\"[.,]\", \"\", amount))\n    except:\n        np.nan","cf99ddcd":"df[\"Price\"] = df[\"Price\"].apply(extract_num)","49942c50":"df[\"City\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[0])\ndf[\"District\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[-1])\ndf = df.drop(\"Location\", axis=1)","ea6031eb":"df.head()","15ccd0f1":"# check stats of dataframe\nprint(df.describe())","baac9496":"print(df.drop(\"Price\", axis=1).describe())","2718df9a":"# Checking the null values \ndf.isnull().sum()","27892528":"plt.figure(figsize=(12,6))\nsns.heatmap(df.isnull(),cbar=False,cmap=\"Set1\",yticklabels=False);","3ae9edae":"# Most popular Mobile Brand\n\ntop_10_brand = df[[\"published_date\", \"Brand\"]].groupby(\"Brand\").agg(['count'])['published_date']['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_brand.index, y = top_10_brand.values)\nfig.set_xticklabels(labels=top_10_brand.index , rotation=45)\nfig.set_ylabel(\"Number of Mobile Phones in the Dataset\")\nfig.set_xlabel(\"Mobile Brand\")\nfig.set_title(\"Most Popular Mobile Phone Brand\");","79e0ea8f":"# Most popular Mobile Model\n\ntop_10_model = df[[\"published_date\", \"Model\"]].groupby(\"Model\").agg(['count'])['published_date']['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_model.index, y = top_10_model.values)\nfig.set_xticklabels(labels=top_10_model.index , rotation=45)\nfig.set_ylabel(\"Number of Mobile Phones in the Dataset\")\nfig.set_xlabel(\"Mobile Model\")\nfig.set_title(\"Most Popular Mobile Phone Model\");","86037eb5":"# Top 10 Cities by Number of phones stold\n\ntop_10_city = df[[\"published_date\", \"City\"]].groupby(\"City\").agg(['count'])[\"published_date\"]['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_city.index, y = top_10_city.values)\nfig.set_xticklabels(labels=top_10_city.index , rotation=45)\nfig.set_ylabel(\"Number of Mobile Phones in the Dataset\")\nfig.set_xlabel(\"City Name\")\nfig.set_title(\"Top 10 Cities by Number of Phones Sold\");","ca186408":"# Top 10 Districts by Number of Mobile phones stold\n\ntop_10_dist = df[[\"published_date\", \"District\"]].groupby(\"District\").agg(['count'])[\"published_date\"]['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_dist.index, y = top_10_dist.values)\nfig.set_xticklabels(labels=top_10_dist.index , rotation=45)\nfig.set_ylabel(\"Number of Mobile Phones in the Dataset\")\nfig.set_xlabel(\"District Name\")\nfig.set_title(\"Top 10 Districts by Number of Phones Sold\");","af3215d4":"# Distibution of seller types\nfig = sns.countplot(data= df, x=\"Seller_type\")\nfig.set_ylabel(\"Number of Sellers\")\nfig.set_xlabel(\"Seller Type\")\nfig.set_title(\"Seller Type Distribution\");","07df6a64":"# Top 10 Sellers by Number of Mobile phones stold\n\ntop_10_sell = df[[\"published_date\", \"Seller_name\"]].groupby(\"Seller_name\").agg(['count'])[\"published_date\"]['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_sell.index, y = top_10_sell.values)\nfig.set_xticklabels(labels=top_10_sell.index , rotation=45)\nfig.set_ylabel(\"Number of Mobile Phones in the Dataset\")\nfig.set_xlabel(\"Selelr Name\")\nfig.set_title(\"Top 10 Sellers by Number of Phones stold\");","2e6473ed":"# Top 10 Sellers by Total Revenue of phones stold\n\ntop_10_sell = df[[\"Price\", \"Seller_name\"]].groupby(\"Seller_name\").agg(['sum'])[\"Price\"]['sum'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_sell.index, y = top_10_sell.values)\nfig.set_xticklabels(labels=top_10_sell.index , rotation=90)\nfig.set_ylabel(\"Total Revenue in rupess(lkr)\")\nfig.set_xlabel(\"Seller Name\")\nfig.set_title(\"Top 10 Sellers by Total Revenue of Phones stold\");","309c89e2":"from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","7ab9316c":"# Visualize most popular features in phones\nphone_features = \"\"\nfor idx, row in df.iterrows():\n    if isinstance(row.Features, str):\n        phone_features += \" \".join(row.Features.split(\", \"))\n        \n        \n# Create and generate a word cloud image:\nwordcloud = WordCloud(background_color='white',max_font_size = 50, collocations=False).generate(phone_features)\n\n\n# Display the generated image:\nplt.figure( figsize=(10,6) )\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()","cbb1ec0a":"### Data Cleaning","949f4199":"### Load the Data","76d890cb":"### Import Libraries","b9d3d780":"### EDA","c13d7685":"### Data Viz"}}