{"cell_type":{"d4b8cb34":"code","d3ab8baa":"code","1472ec13":"code","698d62cb":"code","65e183a8":"code","f56c1cb6":"code","33ff5238":"code","aa5315b6":"code","64643bfe":"code","0c655be4":"code","bbc6b64e":"code","5fe99e4b":"code","e52e210f":"code","56f77803":"code","5b429464":"code","ac3797e5":"code","6400ad06":"code","e6da881c":"code","ea3a181a":"code","734418db":"code","8de9f82c":"code","dc18372b":"code","21516e3e":"code","fba4cdbc":"code","9f3eb34a":"code","4253e0e0":"code","a5b51161":"code","5027e8d4":"code","6af9e9a1":"code","4b887709":"code","e3c58b7a":"code","767cbe61":"code","a8b79bb8":"code","5c7a2e42":"code","40485694":"code","f4055a54":"code","dea5e4fa":"code","7c81cfe9":"code","769eb22c":"code","aae6ecc4":"code","a4b1e9b5":"code","aa2a675d":"markdown","b4897803":"markdown","bc0f3c77":"markdown","bb6d0b59":"markdown","395a5197":"markdown","e041496b":"markdown","a2fed89c":"markdown","ba459b0b":"markdown","1dc03a32":"markdown","3510bc4e":"markdown","8acd1abc":"markdown","e7572824":"markdown","066a95ca":"markdown","9fcf0dc3":"markdown","c0f076bb":"markdown","743c4a28":"markdown","0a4bf3b0":"markdown","6da75416":"markdown","b3e5eec8":"markdown","7627f210":"markdown","ff167985":"markdown","275e1dc1":"markdown"},"source":{"d4b8cb34":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport os\nprint(os.listdir(\"..\/input\"))\n","d3ab8baa":"df = pd.read_csv('..\/input\/master.csv')","1472ec13":"df.sample(5)","698d62cb":"df.describe()","65e183a8":"df.info()","f56c1cb6":"df.isnull().sum()","33ff5238":"df.drop(['country-year', 'HDI for year'], inplace=True, axis = 1)","aa5315b6":"df = df.rename(columns={'gdp_per_capita ($)': 'gdp_per_capita', ' gdp_for_year ($) ':'gdp_for_year'})","64643bfe":"for i, x in enumerate(df['gdp_for_year']):\n    df['gdp_for_year'][i] = x.replace(',', '')\n    \ndf['gdp_for_year'] = df['gdp_for_year'].astype('int64')","0c655be4":"df['age'].unique()","bbc6b64e":"df['generation'].unique()","5fe99e4b":"Frist_world = ['United States', 'Germany', 'Japan', 'Turkey', 'United Kingdom', 'France', 'Italy', 'South Korea',\n              'Spain', 'Canada', 'Australia', 'Netherlands', 'Belgium', 'Greece', 'Portugal', \n              'Sweden', 'Austria', 'Switzerland', 'Israel', 'Singapore', 'Denmark', 'Finland', 'Norway', 'Ireland',\n              'New Zeland', 'Slovenia', 'Estonia', 'Cyprus', 'Luxembourg', 'Iceland']\n\nSecond_world = ['Russian Federation', 'Ukraine', 'Poland', 'Uzbekistan', 'Romania', 'Kazakhstan', 'Azerbaijan', 'Czech Republic',\n               'Hungary', 'Belarus', 'Tajikistan', 'Serbia', 'Bulgaria', 'Slovakia', 'Croatia', 'Maldova', 'Georgia',\n               'Bosnia And Herzegovina', 'Albania', 'Armenia', 'Lithuania', 'Latvia', 'Brazil', 'Chile', 'Argentina',\n               'China', 'India', 'Bolivia', 'Romenia']","e52e210f":"country_world = []\nfor i in range(len(df)):\n    \n    if df['country'][i] in Frist_world:\n        country_world.append(1)\n    elif df['country'][i] in Second_world:\n        country_world.append(2)\n    else:\n        country_world.append(3)\n\ndf['country_world'] = country_world","56f77803":"suicides_no_year = []\n\nfor y in df['year'].unique():\n    suicides_no_year.append(sum(df[df['year'] == y]['suicides_no']))\n\nn_suicides_year = pd.DataFrame(suicides_no_year, columns=['suicides_no_year'])\nn_suicides_year['year'] = df['year'].unique()\n\ntop_year = n_suicides_year.sort_values('suicides_no_year', ascending=False)['year']\ntop_suicides = n_suicides_year.sort_values('suicides_no_year', ascending=False)['suicides_no_year']\n\nplt.figure(figsize=(8,5))\nplt.xticks(rotation=90)\nsns.barplot(x = top_year, y = top_suicides)","5b429464":"suicides_no_age = []\n\nfor a in df['age'].unique():\n    suicides_no_age.append(sum(df[df['age'] == a]['suicides_no']))\n\nplt.xticks(rotation=30)\nsns.barplot(x = df['age'].unique(), y = suicides_no_age)","ac3797e5":"suicides_no_sex = []\n\nfor s in df['sex'].unique():\n    suicides_no_sex.append(sum(df[df['sex'] == s]['suicides_no']))\n\nsns.barplot(x = df['sex'].unique(), y = suicides_no_sex)","6400ad06":"suicides_no_pais = []\nfor c in df['country'].unique():\n    suicides_no_pais.append(sum(df[df['country'] == c]['suicides_no']))\n    \nn_suicides_pais = pd.DataFrame(suicides_no_pais, columns=['suicides_no_pais'])\nn_suicides_pais['country'] = df['country'].unique()\n\nquant = 15\ntop_paises = n_suicides_pais.sort_values('suicides_no_pais', ascending=False)['country'][:quant]\ntop_suicides = n_suicides_pais.sort_values('suicides_no_pais', ascending=False)['suicides_no_pais'][:quant]\nsns.barplot(x = top_suicides, y = top_paises)","e6da881c":"suicides_no_pais = []\nfor c in df['country'].unique():\n    suicides_no_pais.append(sum(df[df['country'] == c]['suicides\/100k pop']))\n    \nn_suicides_pais = pd.DataFrame(suicides_no_pais, columns=['suicides_no_pais'])\nn_suicides_pais['country'] = df['country'].unique()\n\nquant = 15\ntop_paises = n_suicides_pais.sort_values('suicides_no_pais', ascending=False)['country'][:quant]\ntop_suicides = n_suicides_pais.sort_values('suicides_no_pais', ascending=False)['suicides_no_pais'][:quant]\nsns.barplot(x = top_suicides, y = top_paises)","ea3a181a":"suicides_no_gen = []\nfor g in df['generation'].unique():\n    suicides_no_gen.append(sum(df[df['generation'] == g]['suicides_no']))\n\nplt.figure(figsize=(8,5))\nsns.barplot(x = df['generation'].unique(), y = suicides_no_gen)","734418db":"suicides_no_world = []\nfor w in df['country_world'].unique():\n    suicides_no_world.append(sum(df[df['country_world'] == w]['suicides_no']))\n    \nsns.barplot(x = df['country_world'].unique(), y = suicides_no_world)","8de9f82c":"suicides_no_world = []\nfor w in df['country_world'].unique():\n    suicides_no_world.append(sum(df[df['country_world'] == w]['suicides\/100k pop']))\n    \nsns.barplot(x = df['country_world'].unique(), y = suicides_no_world)","dc18372b":"sns.scatterplot(x = 'gdp_for_year', y = 'suicides_no', data = df)","21516e3e":"sns.scatterplot(x = 'gdp_per_capita', y = 'suicides_no', data = df)","fba4cdbc":"plt.figure(figsize=(8,7))\nsns.heatmap(df.corr(), cmap = 'coolwarm', annot=True)","9f3eb34a":"countries = ['Russian Federation', 'Brazil', 'Poland', 'Italy', 'United States', 'Germany', 'Japan', 'Spain', 'France']\ndf_filtred = df[[df['country'][i] in countries for i in range(len(df))]]\n\nplt.figure(figsize=(12,6))\nsns.boxplot(x = 'suicides\/100k pop', y = 'country', data = df_filtred)","4253e0e0":"import plotly.plotly as py\nimport plotly.graph_objs as go \nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot","a5b51161":"init_notebook_mode(connected=True) ","5027e8d4":"cod = pd.read_csv('https:\/\/raw.githubusercontent.com\/plotly\/datasets\/master\/2014_world_gdp_with_codes.csv')","6af9e9a1":"codes = []\nfor i in range(len(n_suicides_pais)):\n    c = n_suicides_pais['country'][i]\n    f = 0\n    for j in range(len(cod)):\n        if c == cod['COUNTRY'][j]:\n            tmp = cod['CODE'][j]\n            f = 1\n            break\n    if f == 0:\n        if c == 'Bahamas':\n            tmp  = 'BHM'\n        elif c == 'Republic of Korea':\n            tmp = 'KOR'\n        elif c == 'Russian Federation':\n            tmp = 'RUS'\n        else:\n            tmp = 'VC'\n    codes.append(tmp)","4b887709":"data = dict(\n        type = 'choropleth',\n        locations = codes,\n        z = n_suicides_pais['suicides_no_pais\/100k'],\n        text = n_suicides_pais['country'],\n        colorbar = {'title' : 'n\u00famero de suic\u00eddios'},\n      )","e3c58b7a":"layout = dict(\n    title = 'Mapa de calor de suic\u00eddios 1985-2016',\n    geo = dict(\n        showframe = False,\n        projection = {'type':'equirectangular'}\n    )\n)","767cbe61":"choromap = go.Figure(data = [data],layout = layout)\niplot(choromap)","a8b79bb8":"df_brasil = df[df['country'] == 'Brazil']","5c7a2e42":"df_brasil.drop(['country', 'country_world'], axis = 1, inplace = True)","40485694":"suicides_no_year = []\n\nfor y in df_brasil['year'].unique():\n    suicides_no_year.append(sum(df_brasil[df_brasil['year'] == y]['suicides_no']))\n\nn_suicides_year = pd.DataFrame(suicides_no_year, columns=['suicides_no_year'])\nn_suicides_year['year'] = df_brasil['year'].unique()\n\ntop_year = n_suicides_year.sort_values('suicides_no_year', ascending=False)['year']\ntop_suicides = n_suicides_year.sort_values('suicides_no_year', ascending=False)['suicides_no_year']\n\nplt.figure(figsize=(8,5))\nplt.xticks(rotation=90)\nsns.barplot(x = top_year, y = top_suicides)","f4055a54":"suicides_no_age = []\n\nfor a in df['age'].unique():\n    suicides_no_age.append(sum(df_brasil[df_brasil['age'] == a]['suicides_no']))\n\nplt.xticks(rotation=30)\nsns.barplot(x = df_brasil['age'].unique(), y = suicides_no_age)","dea5e4fa":"suicides_no_sex = []\n\nfor s in df['sex'].unique():\n    suicides_no_sex.append(sum(df_brasil[df_brasil['sex'] == s]['suicides_no']))\n\nsns.barplot(x = df_brasil['sex'].unique(), y = suicides_no_sex)","7c81cfe9":"suicides_no_gen = []\nfor g in df['generation'].unique():\n    suicides_no_gen.append(sum(df_brasil[df_brasil['generation'] == g]['suicides_no']))\n\nplt.figure(figsize=(8,5))\nsns.barplot(x = df_brasil['generation'].unique(), y = suicides_no_gen)","769eb22c":"sns.scatterplot(x = 'gdp_for_year', y = 'suicides_no', data = df_brasil)","aae6ecc4":"sns.scatterplot(x = 'gdp_per_capita', y = 'suicides_no', data = df_brasil)","a4b1e9b5":"plt.figure(figsize=(8,7))\nsns.heatmap(df_brasil.corr(), cmap = 'coolwarm', annot=True)","aa2a675d":"I'm going to repeat a lot of the graphics already done.","b4897803":"### Understanding the data","bc0f3c77":"## Adding some things\n\nAs the HDI was discarded and it is very interesting to assess whether the development of the country has an influence on the suicide rate, I have separated a list of first and second world countries from the data of the site:\n\nhttp:\/\/worldpopulationreview.com\n\nThen I categorized each country in the data set into first, second and third world.","bb6d0b59":"#### Generation","395a5197":"# Exploratory analysis\n\nI will analyze the impact of some attributes in isolation on the amount of suicides. We start this year.\n\n#### Year","e041496b":"#### Age","a2fed89c":"## Brazil Data\n\nAs a Brazilian, I have a particular interest in the suicide rate in Brazil. So I'm going to try to analyze the specific indices of this country.","ba459b0b":"Let's rename some columns simply to make it easier to access them.","1dc03a32":"# Suicide analysis","3510bc4e":"#### GDP for year","8acd1abc":"#### Reading the data","e7572824":"#### Sex","066a95ca":"## Attribute correlation","9fcf0dc3":"The country-year field displays the country name and year of the record. In this way, it is a redundant field and will be discarded. Also due to most data from the 'HDI for year' field, it will be discarded.","c0f076bb":"#### GDP per capita","743c4a28":"## Checking the suicidade\/100k distribution of some countries","0a4bf3b0":"Country and country_world fields are all the same, then discarded.","6da75416":"#### Country","b3e5eec8":"#### Country world","7627f210":"## Data Description\n\nEach data in the data set represents a year, a country, a certain age range, and a gender. For example, in the country Brazil in the year 1985, over 75 years, committed suicide 129 men.\n\nThe data set has 10 attributes. These being:\n\n- Country: country of record data;\n- Year: year of record data;\n- Sex: Sex (male or female);\n- Age: Suicide age range, ages divided into six lanes;\n- Suicides_no: number of suicides;\n- Population: population of this sex, in this age range, in this country and in this year;\n- Suicides \/ 100k pop: Reason between the amount of suicides and the population \/ 100k;\n- GDP_for_year: PIP of the country in the year who issue;\n- GDP_per_capita: ratio between the country's PIP and its population;\n- Generation: Generation of the suicides in question, being possible 6 different categories.","ff167985":"### General Plot of the World","275e1dc1":"In this case, the 'gdp_for_year' field is as a string, so let's convert this to a number."}}