{"cell_type":{"85646a3c":"code","972eba4b":"code","ae1501c8":"code","1928bda3":"code","2b68e55e":"code","1f39644b":"code","149d495b":"code","57af4a42":"code","8a4ada4d":"code","94bb5e89":"code","2a634f51":"code","9249a822":"code","14cdb668":"code","0e125a78":"code","19f74d4e":"code","fa53c1f7":"code","61db0f59":"code","0c33dab5":"code","d515a7b7":"code","2194fb5f":"code","46f1a25f":"code","d9d12a23":"code","05f110b4":"code","8066dbbd":"code","eb7afc58":"code","14e6f9a3":"code","39a06c14":"code","a7ad966d":"code","b50bedb0":"markdown","f2bf7edd":"markdown","134daadc":"markdown","47de5ea9":"markdown","ecf10811":"markdown","ba7c21e1":"markdown","934e412d":"markdown","f3c5f360":"markdown","e5a29b71":"markdown","d46589c6":"markdown","2375abf1":"markdown","58eadf41":"markdown","eea59dd7":"markdown","62a5acc0":"markdown","4cc8fa28":"markdown","212a3ee8":"markdown","b737b8b9":"markdown","6a748b66":"markdown","08d64f81":"markdown","ddfaa81c":"markdown","670c9614":"markdown","d0e620bb":"markdown","0455f981":"markdown","05864cbb":"markdown","52d1c7d0":"markdown","c22b8841":"markdown","dce6f885":"markdown","2b12431e":"markdown","7c4046e3":"markdown","0db15276":"markdown","fb69939f":"markdown","7aec7f5a":"markdown","27643474":"markdown","b8a06d76":"markdown","842d7917":"markdown"},"source":{"85646a3c":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.set(rc={'figure.figsize':(18,9), 'lines.linewidth': 5, 'lines.markersize': 5, \"axes.labelsize\":15}, style=\"whitegrid\")","972eba4b":"df = pd.read_csv('..\/input\/fa-cup-final-all-season-1872-2020\/FA emirates Cup Final.csv')","ae1501c8":"df.head()","1928bda3":"df.info()","2b68e55e":"win_team = df['Winners'].value_counts().nlargest(8)","1f39644b":"sns.barplot(x=win_team, y=win_team.index, data=df)","149d495b":"ru_team = df['Runners-up'].value_counts().nlargest(8)","57af4a42":"sns.barplot(x=ru_team, y=ru_team.index, data=df)","8a4ada4d":"app = pd.concat([df['Winners'],df['Runners-up']])\napp_team = app.value_counts().nlargest(8)","94bb5e89":"sns.barplot(x=app_team, y=app_team.index, data=df)","2a634f51":"mhwin = df['Winners'].value_counts() \/ app.value_counts()\nmhwin_team = mhwin.fillna(0).sort_values(ascending=False).nlargest(25)","9249a822":"sns.barplot(x=mhwin_team, y=mhwin_team.index, data=df)","14cdb668":"mlwin_team = mhwin.fillna(0).sort_values().head(25)\nsns.barplot(x=mlwin_team, y=mlwin_team.index, data=df)","0e125a78":"# Here we are going to perform feature engineering to create another feature that makes us easier to understand\n# First we are going to create a new column call diff, this column contain only the difference of final score\n# on every match\n\ndiff = []\n\n\nfor x in df.Score:\n    result = int(x[0]) - int(x[2])\n    diff.append(result)\n    \ndf['diff'] = diff\n\n# Now we want to make a column call match where its contain the year, winning team and the runner up.\n# Remember what type Year columns is, it is an integer, we need to convert it to string before we can proceed.\n\ndate = []\n\nfor y in df.Year:\n    result = str(y)\n    date.append(result)\n    \ndf['date'] = date\n\n# Now we need all the component we want, lets create the match column.\n\ndf['match'] = df['date'] + ' ' + df['Winners'] + ' vs ' + df['Runners-up']\n\n# lets take a quick look on our new dataset\n\nbig_win = df[['match','diff']].sort_values('diff', ascending=False).head(8)\nbig_win","19f74d4e":"sns.barplot(x='diff', y='match', data=big_win)","fa53c1f7":"# Here we are going to need a new dataframe called performance, which contain time (year in decade), \n# and best team performance (how many times they won every decade)\n\ndf_dict = {n: df.iloc[n:n+10, :] \n           for n in range(0, len(df), 10)}\n\ndates = []\n\nset = list(df_dict)\nfor x in set:\n    ds = df_dict[x].Year[x]\n    da = ds - 9\n    dt = str(da) + '-' + str(ds)\n    dates.append(dt)\n\nperformance = pd.DataFrame(dates, columns=['Time'])\nperformance.head()","61db0f59":"arsFC = []\n\nfor x in set:\n    result = df_dict[x].Winners.loc[df_dict[x]['Winners'] == 'Arsenal'].count()\n    arsFC.append(result)\n\nperformance['Arsenal'] = arsFC","0c33dab5":"sns.lineplot(x='Time', y='Arsenal', data=performance)","d515a7b7":"MUFC = []\n\nfor x in set:\n    result = df_dict[x].Winners.loc[df_dict[x]['Winners'] == 'Manchester United'].count()\n    MUFC.append(result)\n\nperformance['Manchester United'] = MUFC","2194fb5f":"sns.lineplot(x='Time', y='Manchester United', data=performance)","46f1a25f":"CheFC = []\n\nfor x in set:\n    result = df_dict[x].Winners.loc[df_dict[x]['Winners'] == 'Chelsea'].count()\n    CheFC.append(result)\n\nperformance['Chelsea'] = CheFC","d9d12a23":"sns.lineplot(x='Time', y='Chelsea', data=performance)","05f110b4":"totFC = []\n\nfor x in set:\n    result = df_dict[x].Winners.loc[df_dict[x]['Winners'] == 'Tottenham Hotspur'].count()\n    totFC.append(result)\n\nperformance['Tottenham Hotspur'] = totFC","8066dbbd":"sns.lineplot(x='Time', y='Tottenham Hotspur', data=performance)","eb7afc58":"AVFC = []\n\nfor x in set:\n    result = df_dict[x].Winners.loc[df_dict[x]['Winners'] == 'Aston Villa'].count()\n    AVFC.append(result)\n\nperformance['Aston Villa'] = AVFC","14e6f9a3":"sns.lineplot(x='Time', y='Aston Villa', data=performance)","39a06c14":"# lets take a look at our new dataset\n\nperformance.head()","a7ad966d":"# We are going to produce line chart contain all 5 performance\n\nAll = performance.melt('Time', var_name='cols',  value_name='vals')\nsns.lineplot(x=\"Time\", y=\"vals\", hue='cols', data=All)","b50bedb0":"Now we learn that Manchester United and Arsenal have been participated in this FA Cup and goes to Final round 20 time each.","f2bf7edd":"### Most Winning Team\n\nLeta start by sorting 8 best winning team.","134daadc":"## Aston Villa","47de5ea9":"Aston Villa on 5th best FA CUP team had their best performance at 1890 - 1909 and 1914 - 1923 by winning 2 FA Cup title each.","ecf10811":"## Biggest Win\n\nLest take a look at the most brutal final on FA CUP History.","ba7c21e1":"## Most Appearance Team\n\nLets get 8 most appearance team","934e412d":"## Quick look\n\nlet's take a look at our dataset by printing first 5 row.","f3c5f360":"And the most brutal final goes to 2019 Manchester City vs Watford and 1903 Bury vs Derby County with 6 goals difference each.","e5a29b71":"### Arsenal FC","d46589c6":"## Most Runner Up Team\n\nThe 8 best Runner Up","2375abf1":"### Best Team Performance Comparison\n\nFinnaly lets perform comparison of performance between the 5 best team history","58eadf41":"Arsenal FC performance, rarely won on few first decade, but they made a breakthrough by winning their first match in between 1924 - 1933. And got their best performance on early 2000 up until now, by winning 6 FA Cup title","eea59dd7":"Here we have quite a lot of team that has 1.0 win ratio, it is mean they have won the cup everytime they goes to final.","62a5acc0":"Here we have lowest win ratio, it is mean despite how many time they goes to final, they just never win","4cc8fa28":"## Introduction\n\nWelcome to my kernel for FA CUP Final Dataset. Here i'm going to give a short example and tutorial performing EDA to gather knowledge and information.\n\nThe first step here is we are going to import all the modules for this EDA, those modules are numpy, pandas, matplotlib and seaborn.","212a3ee8":"Here we have Arsenal as the best team with 13 time winning the FA Cup Final.","b737b8b9":"## Tottenham Hotspur","6a748b66":"Here we got four feature available, they are Year of the tournament held, the winner of the tournament, second place or runner up, and final score.","08d64f81":"Manchester United, on the second place best up until now had their best record at 1990 - 1999","ddfaa81c":"## Import Modules","670c9614":"In the second place position, we have Manchester United and Everton at the top with their record 8 time runner up.","d0e620bb":"## Best 5 Teams Performance Charts\n\nLet's dig a little bit more deeper by visualizing performance record of 5 best team","0455f981":"### Manchester United FC","05864cbb":"# FA CUP FINAL : EDA AND VISUALIZATION","52d1c7d0":"## Highest Win Ratio\n\nLets gather some more information by looking at highest win ratio for each team. This is calculated by how many time they win divide by total appearance.","c22b8841":"Tottenham hotspur had their best performance at 1960 - 1969 by winning 3 FA Cup Title","dce6f885":"We got our time ready, lets head for each team performance","2b12431e":"## Lowest Win Ratio\n\nGet 25 worst win ratio on FA Cup History","7c4046e3":"Looking Great, let's use seaborn to visualize this[](http:\/\/)","0db15276":"let's take a look at our dataset info","fb69939f":"## Gather Information\n\nIt is time to gather some usefull information, lets start by doing something basic, like get the most winning team, most second place, and most appearance team.","7aec7f5a":"## Read File\n\nNext we are going to read the csv file and open it on DataFrame.","27643474":"# Summary\n\nThat is all the EDA i can show you now, my apologies for any miss spell english.\nit is great to explore something new, if you have any suggestion or question about this kernel,\njust ask on the comment, anything would be appreciated.\n\nThank you, have a great day","b8a06d76":"### Chelsea FC","842d7917":"Chelsea is making their late breakthrough at 1970 - 1979 by winning their very first FA Cup. And on par with Arsenal, they also get 6 FA Cup title on last 2 decade"}}