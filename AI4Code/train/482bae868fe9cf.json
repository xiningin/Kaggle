{"cell_type":{"7e2b48cf":"code","eb0c8bc1":"code","8a10b7bd":"code","b51bf93e":"code","17443d22":"code","76f9fcf6":"code","10598130":"code","501f591e":"code","36bd4f26":"code","5f997b3d":"code","859eb277":"code","7c5b2416":"code","eccc24a8":"code","c746f72b":"code","dba913d4":"code","7568b977":"code","8ecbd8fb":"markdown","c296d16c":"markdown","273cf56e":"markdown","38a8f92f":"markdown","ed9292dd":"markdown","57ba1600":"markdown","2c0aed8c":"markdown","bb60dab1":"markdown","3935d4eb":"markdown","770352fa":"markdown","78417625":"markdown","3661333f":"markdown","018fec22":"markdown","a9aacd5d":"markdown","24ed411f":"markdown","8065c674":"markdown","2f3f541c":"markdown","150f7b6b":"markdown"},"source":{"7e2b48cf":"import pandas as pd\nimport numpy as np\nimport re\nimport nltk\nfrom nltk.corpus import stopwords\nimport matplotlib.pyplot as plt\nimport bokeh.io\n#from bokeh.charts import Donut, HeatMap, Histogram, Line, Scatter, show, output_notebook, output_file\nfrom bokeh.plotting import figure\nimport string\nimport gensim.models.word2vec as w2v\nimport multiprocessing\nimport os\nimport re\nimport sklearn\nimport pprint\nimport seaborn as sns\nimport wordcloud\n%matplotlib inline\nstop = stopwords.words('english')\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\ndata = pd.read_csv(\"..\/input\/billboard_lyrics_1964-2015.csv\",encoding='latin-1').dropna()","eb0c8bc1":"#Count data\nlen(data)","8a10b7bd":"#Show first line of dataset\ndata.head(1)","b51bf93e":"data['Cleaned_Lyrics'] = data['Lyrics'].str.lower().str.split()\ndata['Cleaned_Lyrics'] = data['Cleaned_Lyrics'].apply(lambda x : [item for item in x if item not in stop])\n\nfrom nltk.tag import pos_tag\ndef Getting_NN(sentence):\n   sentence=sentence.lower()\n   cleaned=' '.join([w for w in sentence.split() if not w in stop]) \n   cleaned=' '.join([w for w , pos in pos_tag(cleaned.split()) if (pos == 'NN'  )])\n   cleaned=cleaned.strip()\n   return cleaned\ndata['pos_tag_NN']= data['Lyrics'].apply(lambda x:Getting_NN(x))\n\ndef Getting_JJR(sentence):\n   sentence=sentence.lower()\n   cleaned=' '.join([w for w in sentence.split() if not w in stop]) \n   cleaned=' '.join([w for w , pos in pos_tag(cleaned.split()) if (pos == 'JJR'  )])\n   cleaned=cleaned.strip()\n   return cleaned\n\ndata['pos_tag_JJR']= data['Lyrics'].apply(lambda x:Getting_JJR(x))","17443d22":"data['ly_count'] = data['Lyrics'].str.split(\" \").str.len()\ndata['NN_count'] = data['pos_tag_NN'].str.split(\" \").str.len()\ndata['JJR_count'] = data['pos_tag_JJR'].str.split(\" \").str.len()\ndata.head(1)","76f9fcf6":"Artist_Count = data.Artist.value_counts()[:25]\nArtist_Count","10598130":"plt.figure(figsize=(13,9))\nplt.title(\"Maximum Lyrics Count By Artist\",fontsize=20)\ndata['Artist'].value_counts()[:30].plot('bar',color='purple')","501f591e":"Total_year_count = data.groupby(['Year'])['ly_count'].sum()\nplt.figure(figsize=(12,9))\nplt.title(\"Lyrics Vocabulary Count Vs Year\",fontsize=20)\nTotal_year_count.plot(kind='line',color=\"Red\")","36bd4f26":"plt.figure(figsize=(13,9))\nplt.title(\"Vocabulary Count In Lyrics vs year\",fontsize=20)\nTotal_year_count.plot(kind='bar',label=\"Lyrics count vs year\",color = 'slateblue')","5f997b3d":"Noun_year_count = data.groupby(['Year'])['NN_count'].sum()\nplt.figure(figsize=(13,9))\nplt.title(\"Artist Noun Usage In Lyrics\",fontsize=20)\nNoun_year_count.plot(label='Noun count vs year',kind='line',color = 'c')","859eb277":"Adj_year_count = data.groupby(['Year'])['JJR_count'].sum()\nplt.figure(figsize=(13,9))\nplt.title(\"Artist Adjective Usage Count In Lyrics\",fontsize=20)\nAdj_year_count.plot(label='Adjective count vs year',kind='line',color = 'r')","7c5b2416":"plt.figure(figsize=(12,5))\nplt.title(\"Max Repeated Words In Lyrics\",fontsize=20)\nwords = pd.Series(' '.join(data['Cleaned_Lyrics'].astype(str)).lower().split(\" \")).value_counts()[:500]\nwords.plot(color='darkcyan')","eccc24a8":"allwords = ' '.join(data['Song']).lower().replace('c', '')\ncloud = wordcloud.WordCloud(background_color='black',\n                            max_font_size=100,\n                            width=1000,\n                            height=500,\n                            max_words=100,\n                            relative_scaling=.5).generate(allwords)\nplt.figure(figsize=(15,5))\nplt.axis('off')\n\nplt.imshow(cloud);","c746f72b":"from sklearn.feature_extraction.text import TfidfVectorizer\ntext = data['Lyrics']\n#define vectorizer parameters\ntfidf_vectorizer = TfidfVectorizer(max_df=0.8, max_features=20000,\n                                 min_df=3, stop_words='english',\n                                 use_idf=True,ngram_range=(2,3))\ntfidf_matrix = tfidf_vectorizer.fit_transform(text) \nprint(tfidf_matrix.shape)\nterms = tfidf_vectorizer.get_feature_names()","dba913d4":"#Bigrams\n\nfrom sklearn.feature_extraction.text import CountVectorizer\nword_vectorizer = CountVectorizer(ngram_range=(2,2),max_features=25,stop_words='english',analyzer ='word',strip_accents='ascii')\nbigrams=word_vectorizer.fit(data['Lyrics']).vocabulary_\nbigrams","7568b977":"#Tigrams\n\ntri = CountVectorizer(ngram_range=(3,3),max_features=25,stop_words='english',analyzer ='word',strip_accents='ascii')\ntrigrams=tri.fit(data['Lyrics']).vocabulary_\ntrigrams","8ecbd8fb":"### <font color='gold'>**2. Data**<\/font>","c296d16c":"![image.png](attachment:image.png)","273cf56e":"### <font color='gold'>**5. Number of songs by Artist**<font>","38a8f92f":"**Love is still the great theme. **","ed9292dd":"### <font color='gold'>**6. Vocabulary in lyrics**<font>","57ba1600":"**According to CNN, what makes a listener melt away with a song can make the sound of a modem look like another. And almost any song can become a love song if it connects with an emotional memory of someone we love or have loved. That is the reason for love to be a success behind the lists.**","2c0aed8c":"### <font color='gold'>**9. The best bigram and Tigramas **<font>","bb60dab1":"**Youre gona... where??, and Yeah yeah are the most repeated bigramas in the lists.**","3935d4eb":"### <font color='gold'>**7. Nouns and Adjectives**<font>","770352fa":"**During the first decade of 2000, the greatest amount of vocabulary was used, with around 50,000 words.  year with the most vocabulary was 2003**","78417625":"### <font color='gold'>**4. vocabulary adjustments**<\/font>\n\n* Vocabulary count\n* Nouns in lyrics count\n* Adj in lyrics count\n\n","3661333f":"**Madonna is the artist with most appearances on the Billboard hot 100 according to the lyrics! To date, she has had 12 songs in No. 1 hits, 38 in the top 10 and 57 songs in the history of the ranking.**","018fec22":"### <font color='gold'>**3. Cleaning Data Set**<\/font>\n\n* Stop Words removal\n* POS tag - Lyrics only Noun and Adj","a9aacd5d":"### <font color='gold'>**8. The Love**<font>","24ed411f":"This notebook tells the most interesting things, using the NLTK library, about the lyrics songs of the Billboard Hot 100 ranking, between 1965 and 2015.\n\nBillboard has published a Year-End Hot 100 every December since 1958. Chart rankings are based on sales (physical and digital), radio play, and online streaming in the United States.\n\n**A little history...**\n\nAt the start of the rock era in 1955, three such charts existed:\n\n* **Best Sellers in Stores**, established in 1940. This chart ranked the biggest selling singles in retail stores, as reported by merchants surveyed throughout the country (20 to 50 positions).\n* **Most Played by Jockeys**, it ranked the most played songs on United States radio stations, as reported by radio disc jockeys and radio stations (20 to 25 positions).\n* **Most Played in Jukeboxes**, this was one of the main outlets of measuring song popularity with the younger generation of music listeners, as many radio stations resisted adding rock and roll music to their playlists for many years.\n\nOn the week ending November 12, 1955, Billboard published The Top 100 for the first time. The Top 100 combined all aspects of a single's performance (sales, airplay and jukebox activity), based on a point system that typically gave sales (purchases) more weight than radio airplay. The Best Sellers In Stores, Most Played by Jockeys and Most Played in Jukeboxes charts continued to be published concurrently with the new Top 100 chart.\n\nThe Billboard Hot 100 is still the standard by which a song's popularity is measured in the United States. The Hot 100 is ranked by radio airplay audience impressions as measured by Nielsen BDS, sales data compiled by Nielsen Soundscan (both at retail and digitally) and streaming activity provided by online music sources.\n\nSource: https:\/\/en.wikipedia.org\/wiki\/Billboard_Hot_100\n","8065c674":"** The use of nouns goes hand in hand with the use of vocabulary, however, the use of adjectives is fluctuating but ascending.**","2f3f541c":"### <font color='gold'>**1. Libraries and data**<\/font>","150f7b6b":"**Yeah yeah yeah and Ya Ya ya, are the most repeated tigrams. I think artists like exclamations**"}}