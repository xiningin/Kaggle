{"cell_type":{"8059d98e":"code","0ebb84c0":"code","f02fd90e":"code","2bbd9550":"code","6100369b":"code","6e009eaa":"code","2f5b4c9b":"code","d068f3ea":"code","58d159fd":"code","b8ff9c3a":"code","23c68fc1":"code","acc6cfe7":"code","78d93468":"code","b2015b0c":"code","0839785b":"markdown","e6d8344f":"markdown","47e55104":"markdown","df5fe032":"markdown","3017899a":"markdown"},"source":{"8059d98e":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use('seaborn-pastel')\n%matplotlib inline","0ebb84c0":"# The contest files are located in \/kaggle\/input. Let\u00b4s see what is there: \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","f02fd90e":"# Import train and test data as DataFrame using pandas'read_csv function\nimport pandas as pd\ntrain_data=pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest_data=pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","2bbd9550":"# View the data structure \nprint(\"Traininig data set has {} rows and {} columns\".format(train_data.shape[0],train_data.shape[1]))\nprint(train_data.columns)\nprint(\"-\"*100)\nprint(\"Test data set has {} rows and {} columns\".format(test_data.shape[0],test_data.shape[1]))\nprint(test_data.columns)\n#train_data.info()","6100369b":"# View first 5 rows of train data\ntrain_data.head()","6e009eaa":"# Check the overall survival rate\nplt.rcParams[\"figure.figsize\"] = (5,5)\ntrain_data[\"Survived\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')","2f5b4c9b":"train_data.isnull().sum()","d068f3ea":"plt.rcParams[\"figure.figsize\"] = (20,10)\n\nplt.subplot(1,3,1)\ntrain_data[\"Pclass\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')\n\nplt.subplot(1,3,2)\ntrain_data[\"Sex\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')\n\nplt.subplot(1,3,3)\ntrain_data[\"Embarked\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')\n\nplt.show()","58d159fd":"plt.rcParams[\"figure.figsize\"] = (20,10)\n\nplt.subplot(1,3,1)\ntrain_data[\"Pclass\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')\n\n\nplt.subplot(1,3,2)\ntrain_data[\"Sex\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')\n\nplt.subplot(1,3,3)\ntrain_data[\"Embarked\"].value_counts(normalize=True).plot(kind=\"pie\",autopct='%.2f')\n\nplt.show()","b8ff9c3a":"pd.crosstab(train_data.Pclass,train_data.Survived,margins=False,normalize='index')","23c68fc1":"sns.factorplot('Pclass','Survived','Sex',col='Embarked',data=train_data)\nplt.show()","acc6cfe7":"women=train_data.loc[train_data.Sex==\"female\"][\"Survived\"]\nrate_women=sum(women)\/len(women)\nprint(\"% of women survived: \",rate_women)","78d93468":"men=train_data.loc[train_data.Sex==\"male\"][\"Survived\"]\nrate_men=sum(men)\/len(men)\nprint(\"% of men survived: \",rate_men)","b2015b0c":"from sklearn.ensemble import RandomForestClassifier\ny=train_data[\"Survived\"]\nfeatures=[\"Pclass\",\"Sex\",\"SibSp\",\"Parch\"]\nX=pd.get_dummies(train_data[features])\nX_test=pd.get_dummies(test_data[features])\n\nmodel=RandomForestClassifier(n_estimators=100,max_depth=5,random_state=1)\nmodel.fit(X,y)\npredictions=model.predict(X_test)\n\noutput=pd.DataFrame({'PassengerId':test_data.PassengerId, 'Survived':predictions})\noutput.to_csv(\"my_submission.csv\",index=False)\nprint(\"output generated\")\n","0839785b":"The Age, Cabin, and Embarked have missing values. Will need to full fill them.","e6d8344f":"The columns may be grouped as following:\n\nData Type | Column name\n--- | --- \nCategorical nominal| Survived, Sex, Embarked   \nCategorical ordinal| Pclass   \nNumeric continous| Age, Fare   \nNumeric discrete| SibSp, Parch   \nMixed| Ticket, Cabin   \nOther| PassengerId, Name   ","47e55104":"# Introduction\nThis is my first python notebook on kaggle.\nI will ensemble here the best ideas I find on forums and other kagglers' notebooks. \n\nCompetition details here: https:\/\/www.kaggle.com\/c\/titanic\/overview\n\nThese are the steps used:\n1. Import data\n2. EDA\n3. Cleaning data\n4. Features engineering\n5. Model\n6. Submit\n\nReferences:\nhttps:\/\/www.kaggle.com\/ash316\/eda-to-prediction-dietanic\n","df5fe032":"38.4% of people in the train data survivied","3017899a":"The train data has 891 rows. Observed 12 columns as indicated in the contest description: \nThe test data set is missing the Survived column, as expected.\n\nColumn | Description | Notes\n--- | --- | ---\n**PassengerId** |    |  \n**Survived** | Survival<br>(0 = No, 1 = Yes)  |  \n**Pclass** | Ticket class<br>(1 = 1st, 2 = 2nd, 3 = 3rd)  |  A proxy for socio-economic status (SES)<br>  1st = Upper<br>2nd = Middle<br>3rd = Lower  \n**Name** | Sex  |  \n**Sex** | Sex  |  \n**Age** | Age in years  |  Age is fractional if less than 1.<br>If the age is estimated, is it in the form of xx.5  \n**Sibsp** | # of siblings \/ spouses aboard the Titanic  |  The dataset defines family relations in this way...<br>Sibling = brother, sister, stepbrother, stepsister<br>Spouse = husband, wife (mistresses and fianc\u00e9s were ignored)  \n**Parch** | # of parents \/ children aboard the Titanic\t  |  The dataset defines family relations in this way...<br>Parent = mother, father<br>Child = daughter, son, stepdaughter, stepson<br>Some children travelled only with a nanny, therefore parch=0 for them.\n**Ticket** | Ticket number  |  \n**Fare** | Passenger fare  |  \n**Cabin** | Cabin number  |  \n**Embarked** | Port of Embarkation<br>(C = Cherbourg, Q = Queenstown, S = Southampton)  |  "}}