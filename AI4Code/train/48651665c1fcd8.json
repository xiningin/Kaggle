{"cell_type":{"5365e61e":"code","fedc0c7d":"code","b14b4ffb":"code","788d01d4":"code","0c8351ac":"code","6fab7096":"code","875eaca3":"code","385c36b2":"code","3d84904a":"code","c6986434":"code","7bffab38":"code","ec0b1130":"code","8d2e7e59":"code","38ad6578":"code","3b10a290":"code","bd31f104":"code","fec2cec0":"code","19e4b23a":"code","338eda47":"markdown","22c23d5f":"markdown","4491d591":"markdown"},"source":{"5365e61e":"from nilearn.image import resample_img\nimport pylab as plt\nimport nibabel as nb\nimport numpy as np","fedc0c7d":"orig_nii = nb.load(\"..\/input\/ixi-example\/ixi002-guys-0828-t1.nii\/IXI002-Guys-0828-T1.nii\")","b14b4ffb":"np.round(orig_nii.affine)","788d01d4":"orig_nii.shape","0c8351ac":"orig_nii.header.get_zooms()","6fab7096":"plt.imshow(orig_nii.dataobj[:,:,80])","875eaca3":"downsampled_nii = resample_img(orig_nii, target_affine=np.eye(3)*2., interpolation='nearest')","385c36b2":"downsampled_nii.affine","3d84904a":"downsampled_nii.shape","c6986434":"plt.imshow(downsampled_nii.dataobj[:,:,50])","7bffab38":"upsampled_nii = resample_img(orig_nii, target_affine=np.eye(3)*0.5, interpolation='nearest')","ec0b1130":"upsampled_nii.affine","8d2e7e59":"upsampled_nii.shape","38ad6578":"plt.imshow(upsampled_nii.dataobj[:,:,200])","3b10a290":"target_shape = np.array((240,40,100))\nnew_resolution = [2,]*3\nnew_affine = np.zeros((4,4))\nnew_affine[:3,:3] = np.diag(new_resolution)\n# putting point 0,0,0 in the middle of the new volume - this could be refined in the future\nnew_affine[:3,3] = target_shape*new_resolution\/2.*-1\nnew_affine[3,3] = 1.\ndownsampled_and_cropped_nii = resample_img(orig_nii, target_affine=new_affine, target_shape=target_shape, interpolation='nearest')","bd31f104":"downsampled_and_cropped_nii.affine","fec2cec0":"downsampled_and_cropped_nii.shape","19e4b23a":"plt.imshow(downsampled_and_cropped_nii.dataobj[:,:,70])","338eda47":"# Downsampling","22c23d5f":"# Upsampling","4491d591":"# Resampling with cropping\/padding"}}