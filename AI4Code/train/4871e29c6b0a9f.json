{"cell_type":{"c88a9af7":"code","4fde54ff":"code","1b8c1c9e":"code","96d9b43f":"code","297d3428":"code","c5a65688":"code","d9ffd955":"code","6fe214dc":"code","ec8a5309":"code","b2454baf":"code","047eea66":"code","216fe761":"code","2128c2e9":"code","b6a002a9":"code","700b8dab":"code","2123d692":"code","f5ce6c86":"code","b25d181b":"code","bf9b1820":"code","52b1e455":"markdown","06ef627c":"markdown","af34dcd2":"markdown","69b39553":"markdown","e59e7b62":"markdown","40414495":"markdown","2fe0be78":"markdown","e9e74db0":"markdown","0596e5b8":"markdown"},"source":{"c88a9af7":"import numpy as np  # used for multidimensional arrays and matrixes.\nimport pandas as pd  #used for data analysis\nimport matplotlib.pyplot as plt  # used for visualisation\n\nfrom PIL import Image #for collecting different images\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator   # generate word cloud","4fde54ff":"df=pd.read_csv(\"..\/input\/source-based-news-classification\/news_articles.csv\")","1b8c1c9e":"df.head()\n","96d9b43f":"df.isnull().sum()","297d3428":"df=df.dropna()","c5a65688":"text=(' '.join(df['text_without_stopwords']))","d9ffd955":"# Create and Generate a Word Cloud Image\nwordcloud = WordCloud().generate(text)\n\n#Display the generated image\nplt.figure(figsize=[5,5])\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")","6fe214dc":"#change font_size, max_word and background_color\nwordcloud = WordCloud(max_font_size=50, max_words=10, background_color=\"white\").generate(text)\n\n#Display the image\nplt.figure(figsize=[8,8])\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()","ec8a5309":"# Create stopword list:\nstopwords = set(STOPWORDS)\n\n# Generate a word cloud image\nwordcloud = WordCloud(width = 3000, height = 2000, random_state=1, background_color='black', colormap='Set2', collocations=False, stopwords = STOPWORDS).generate(text)\n\n# Display the generated image\nplt.figure(figsize=[5,5])\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","b2454baf":"mask=np.array(Image.open(\"..\/input\/input-img\/cloud1.png\"))\nmask","047eea66":"def transform_format(val):\n    if val == 0:\n        return 255\n    else:\n        return val","216fe761":"# Transform mask into a new one that will work with the function:\ntransformed_mask = np.ndarray((mask.shape[0],mask.shape[1]), np.int32)\n\nfor i in range(len(mask)):\n    transformed_mask[i] = list(map(transform_format, mask[i]))","2128c2e9":"transformed_mask","b6a002a9":"# Create a word cloud image\nwc = WordCloud(width = 3000, height = 2000,background_color=\"white\", max_words=100, mask=transformed_mask,\n               stopwords=stopwords, contour_width=1)\n\n# Generate a wordcloud\nwc.generate(text)\n\n# store to file\nplt.savefig(\"cloud.png\", format=\"png\")\n\n# show\nplt.figure( figsize=[20,10])\nplt.imshow(wc, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","700b8dab":"# Generate a word cloud image\nstopwords = set(STOPWORDS)\nmask = np.array(Image.open(\"..\/input\/input-img\/download1.png\"))\n\nwordcloud = WordCloud(stopwords=stopwords,background_color='white', max_words=1000, mask=mask,contour_color='#023075',contour_width=3,colormap='rainbow').generate(' '.join(df['text_without_stopwords']))\n\n# create image as cloud\nplt.figure(figsize=[5,10])\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\n\n# store to file\nplt.savefig(\"cloud.png\", format=\"png\")\nplt.show()","2123d692":"# Generate a word cloud image\nstopwords = set(STOPWORDS)\nmask = np.array(Image.open(\"..\/input\/input-img\/Twitter.png\"))\n\n\nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\", max_words=1000, mask=mask).generate(' '.join(df['text_without_stopwords']))\n\n# create twitter image\nplt.figure(figsize=[5,10])\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\n\n# store to file\nplt.savefig(\"twitter.png\", format=\"png\")\nplt.show()","f5ce6c86":"# Generate a word cloud image\nstopwords = set(STOPWORDS)\nmask = np.array(Image.open(\"..\/input\/input-img\/News_mask.PNG\"))\n\nwordcloud = WordCloud(width = 3000, height = 2000, random_state=1, background_color='white', colormap='Set2', collocations=False, stopwords = STOPWORDS,mask=mask).generate(' '.join(df['text_without_stopwords']))\n\n# create coloring from image\nimage_colors = ImageColorGenerator(mask)\nplt.figure(figsize=[20,20])\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\n\n# store to file\nplt.savefig(\"news.png\", format=\"png\") \nplt.show()","b25d181b":"# Generate a word cloud image\nstopwords = set(STOPWORDS)\nmask = np.array(Image.open(\"..\/input\/input-img\/News_mask.PNG\"))\n\nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\", mode=\"RGBA\", max_words=1000, mask=mask).generate(' '.join(df['text_without_stopwords']))\n\n# create coloring from image\nimage_colors = ImageColorGenerator(mask)\nplt.figure(figsize=[20,20])\nplt.imshow(wordcloud.recolor(color_func=image_colors), interpolation=\"bilinear\")\nplt.axis(\"off\")\n\n# store to file\nplt.savefig(\"news1.png\", format=\"png\") \nplt.show()","bf9b1820":"# Generate a word cloud image\nstopwords = set(STOPWORDS)\nmask = np.array(Image.open(\"..\/input\/input-img\/headerimg.PNG\"))\n\nwordcloud = WordCloud(width = 3000, height = 2000, max_words=100, random_state=1, background_color='white', contour_color='darkgreen',contour_width=1, colormap='ocean_r', collocations=False, stopwords = STOPWORDS,mask=mask).generate(' '.join(df['text_without_stopwords']))\n\n# create coloring from image\nimage_colors = ImageColorGenerator(mask)\nplt.figure(figsize=[25,25])\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\n\n# store to file\nplt.savefig(\"wordcloud.png\", format=\"png\") \nplt.show()","52b1e455":"**Let's create a various shapes of word cloud.**","06ef627c":"I am sharing detailed of the code in the article : [Creating customized word cloud](http:\/\/https:\/\/medium.com\/@parulrajput27\/create-a-customized-word-cloud-4d119df446f)\n\n\nThanks for reading. Hope you enjoy this kernel, if you like it Please hit UPVOTE!!! ","af34dcd2":"**Import libraries**","69b39553":"# Custom Word Cloud \u2601\ufe0f","e59e7b62":"**Load dataset**\n\nIn this notebook, I will use two dataset the first dataset [\"source-based-news-classification\"](http:\/\/https:\/\/www.kaggle.com\/ruchi798\/source-based-news-classification) (fake news classification) dataset is use as a source dataset (which we want to make word cloud) and another one is use for images of word cloud(collection of masked images) [\"word cloud mask image\"](http:\/\/https:\/\/www.kaggle.com\/tarzon\/input-img).\n","40414495":"In this dataset we already have preprocessed data(no missing value, without stop words, ). We can directly use the column \"text without stopwords\".","2fe0be78":"Moving froward, I will use masked images which is already transformed.","e9e74db0":"I was shared detailed of the code in article, Please visit the below link \n\n(http:\/\/https:\/\/medium.com\/@parulrajput27\/create-a-customized-word-cloud-4d119df446f)\n","0596e5b8":"In this notebook, we will create a word cloud with various colors and shapes, using this code you will generate your own design in the form of word cloud.\nLet's start the wonderful journey of creating customized word cloud images. "}}