{"cell_type":{"c3cc2944":"code","3c304467":"code","3732c3a7":"code","26858311":"code","6637b6ae":"code","4360615f":"code","17120322":"code","6f263df8":"markdown","ce99b9bc":"markdown","8223d7e7":"markdown","6a6e115f":"markdown","f449dbe7":"markdown","d71e3712":"markdown","a2342c14":"markdown","6f97c4a7":"markdown","cd53010f":"markdown","4056da74":"markdown","2cbf4f43":"markdown","bb466c3f":"markdown"},"source":{"c3cc2944":"import os\nos.system('mkdir FOLDER_NAME')\nos.system('cp -r ..\/input\/dataset-name\/FOLDER_NAME\/* FOLDER_NAME')","3c304467":"!mkdir FOLDER_NAME","3732c3a7":"os.environ['KAGGLE_CONFIG_DIR'] = '\/kaggle\/working\/FOLDER_NAME'\n\nos.system(\"chmod 600 \/kaggle\/working\/FOLDER_NAME\/kaggle.json\") \n#Without this you will get a warning like \"Warning: Your Kaggle API key is readable by other users\", but it's OK, dont worry about it.","26858311":"!export KAGGLE_CONFIG_DIR=\/kaggle\/working\/FOLDER_NAME","6637b6ae":"!kaggle competitions list","4360615f":"import json\nimport datetime\n\ndef get_time_str():    \n    curr_time = datetime.datetime.now()\n    time = datetime.datetime.strftime(curr_time,'%m_%d_%H_%M_%S')\n    return time\n\ndef sync():\n    # Initiate\n    os.system('kaggle datasets init -p FOLDER_NAME')\n    \n    # Edit the dataset-metadata.json\n    with open(\".\/FOLDER_NAME\/dataset-metadata.json\", \"r\",encoding='utf-8') as jsonFile:\n        data = json.load(jsonFile)\n    data[\"title\"] = \"DATASET_NAME\"\n    data['id'] = \"USER_NAME\/dataset-name\"\n    with open(\".\/FOLDER_NAME\/dataset-metadata.json\", \"w\") as jsonFile:\n        json.dump(data, jsonFile,ensure_ascii=False)\n    # Upload your folder as a new version of the dataset    \n    exit = os.system('kaggle datasets version -m ' + get_time_str() + ' -p FOLDER_NAME -d')\n    \n    if(exit == 0):\n        print(\"Uploaded!\")\n    else:\n        print(\"Failed to upload!, exit code \", exit)\n    \nsync()","17120322":"!kaggle datasets download -p FOLDER_NAME -d USER_NAME\/dataset-name --unzip","6f263df8":"Congratulations\uff01Now you can access to kaggle public API in your notebook. Let's try it out. Here in a public notebook I don't want to show my personal API key so there will be an error says I'm not authorized. But if you have done correctly, you can see a list of currently active competitions.","ce99b9bc":"Finally, next time you want to use your uploaded data, you can directly download it with kaggle API command instead of updating or including the dataset manually.","8223d7e7":"This notebook shows how to access kaggle public API in your notebook and use commands to save your outputs data in a kaggle dataset. This would be helpful in case you want to preserve your model's parameters after training it but find it troublesome to download a state file manually.","6a6e115f":"#  **Tutorial: Automatically upload your notebook outputs to a kaggle dataset for next use**","f449dbe7":"Next, include this dataset into your notebook, create a new folder and copy all contents from you dataset into it with command:","d71e3712":"Please notice that don\u2019t try to reset environment variable with:","a2342c14":"*If you meet with any problem, try to input command directly, and you can get error information while using os.system() can only return with an exit code.*","6f97c4a7":"Once you get the folder that contains  .json file, reset a environment variable with:","cd53010f":"Now you can save your model into the folder that contains kaggle.json, initiate it, edit its dataset-metadata.json file, and upload it as a new version of your dataset. ","4056da74":"You will want to implement this in your training function to automatically save your model after training it.","2cbf4f43":"This dosn't work properly. I guess it was banned for some security concern.","bb466c3f":"To access kaggle\u2019s API, you need to download your API key which is a .json file(See: [Kaggle public API documentation](https:\/\/www.kaggle.com\/docs\/api)), put it into a folder, and upload the folder as a PRIVATE dataset. \n* **Remember to set  this dataset as a PRIVATE one, otherwise someone else could use YOUR key  to access YOUR ACCOUNT, which is something you never want to happen. **\n* **Remember to set  this dataset as a PRIVATE one, otherwise someone else could use YOUR key  to access YOUR ACCOUNT, which is something you never want to happen. **\n* **Remember to set  this dataset as a PRIVATE one, otherwise someone else could use YOUR key  to access YOUR ACCOUNT, which is something you never want to happen. **"}}