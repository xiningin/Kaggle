{"cell_type":{"ee6d590e":"code","bb934940":"code","5f75c3b7":"code","9b1af65e":"code","d8950864":"code","f44da611":"code","5e5a8d91":"code","6ef112a9":"code","fa3ab1af":"code","3cf7aaf8":"code","60d85361":"code","5830a675":"code","a6668c78":"code","aaa8f1df":"code","1a08a553":"code","412f4b41":"code","8224b07b":"code","56fa1ec5":"code","abeadefb":"code","2f154af5":"code","2a78a843":"code","3a206afe":"code","2e4d5998":"code","5e587435":"code","047c8799":"code","2d18ce27":"code","206a42a5":"code","481dbaf8":"code","0c9d8fb9":"code","22cad337":"code","cf41ae56":"code","7421956c":"code","343f5591":"code","584fd8bb":"code","40b6f764":"code","a9d80891":"code","037cea71":"code","a344fcb9":"code","f0550a4a":"code","1c43327e":"code","cfb06b1f":"code","ee409a2b":"code","37472060":"code","b5580ad8":"code","90997d2b":"code","8a101931":"code","422cfecb":"code","41ea1d3b":"code","b172eaa8":"code","a9d5f77c":"code","3f5b70d7":"code","6ab1fc4a":"code","996a61c5":"code","b2129d40":"code","7fadbe05":"code","983a7b3a":"code","d5450640":"code","4e267591":"markdown","be150e83":"markdown","1524e67f":"markdown","151811d9":"markdown","da4f446b":"markdown","3d5eebb9":"markdown","f724daf1":"markdown","6138b65e":"markdown","6c53ed06":"markdown","5899263c":"markdown","80068cd2":"markdown","09aa88b7":"markdown","97a2d515":"markdown","0e1cf741":"markdown","775c3a4e":"markdown","cefec004":"markdown","6184d2c2":"markdown","ec110162":"markdown","d079ec53":"markdown","2b4e010d":"markdown","80be6d95":"markdown","a0852f15":"markdown","504b35cb":"markdown","4311d147":"markdown","9f32916e":"markdown","8dd58a0a":"markdown","9108c5be":"markdown","94c7dafa":"markdown","2ecd9d62":"markdown","c9d438c0":"markdown","e9ddbeef":"markdown","3cdab43e":"markdown","9b7a3db5":"markdown","5c8b734f":"markdown","820db388":"markdown","3b21460d":"markdown","83277bd7":"markdown","921abb9f":"markdown","33b3a2f8":"markdown","30857815":"markdown","1ba82eeb":"markdown","9b1c9257":"markdown","4fdfd25f":"markdown","6f00689c":"markdown","52fe05de":"markdown","6b14bdd1":"markdown","2de63270":"markdown","5b236fad":"markdown","eb681a69":"markdown","82444f0d":"markdown","1959ab0a":"markdown","91852fe3":"markdown","eddad184":"markdown","209e22be":"markdown","661299aa":"markdown"},"source":{"ee6d590e":"#importing the libraries that we use\nimport pandas as pd \nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas_profiling as pp\nfrom scipy import stats\nfrom scipy.stats import ttest_ind\nfrom statsmodels.stats.proportion import proportions_ztest\nimport statsmodels.api as sm\nfrom statsmodels.formula.api import ols\nfrom statsmodels.stats.multicomp import pairwise_tukeyhsd\nsns.set(color_codes=True) # adds a nice background to the graphs\n%matplotlib inline","bb934940":"#reading data from csv file as dataframe\ndf = pd.read_csv(\"..\/input\/insurance-dataset-for-statistical-analysis\/insurance.csv\")","5f75c3b7":"#Checking the first 5 records of loaded data \ndf.head()","9b1af65e":"df.shape #shape of the data","d8950864":"df.info() #Get the total info of the dataframe","f44da611":"df[\"children\"].value_counts() # Categorical variable","5e5a8d91":"#Datatypes of each variable\ndf.dtypes","6ef112a9":"df_num = df.loc[:,[\"age\",\"bmi\",\"charges\"]]\ndf_cat = df.loc[:,[\"sex\",\"children\",\"smoker\",\"region\"]]\ndf_num.head()","fa3ab1af":"df_cat.head()","3cf7aaf8":"#Checking the presences of missing values\ndf.isnull().sum()","60d85361":"#5 point summary of numerical attributes\ndf_num.describe()","5830a675":"#Distribution of \u2018bmi\u2019 column.\nsns.distplot(df[\"bmi\"],color=\"Green\");\nplt.show()\nsns.violinplot(df[\"bmi\"],color=\"Orange\");\nplt.show()\nsns.distplot(df[\"bmi\"], hist_kws=dict(cumulative=True), kde_kws=dict(cumulative=True),color=\"cyan\")\nplt.show()","a6668c78":"#Distribution of \u2018age\u2019 column.\nsns.distplot(df[\"age\"],color=\"Green\");\nplt.show()\nsns.violinplot(df[\"age\"],color=\"Orange\");\nplt.show()\nsns.distplot(df[\"age\"], hist_kws=dict(cumulative=True), kde_kws=dict(cumulative=True),color=\"cyan\")\nplt.show()","aaa8f1df":"#Distribution of 'charges' column.\nsns.distplot(df[\"charges\"],color=\"Green\");\nplt.show()\nsns.violinplot(df[\"charges\"],color=\"Orange\");\nplt.show()\nsns.distplot(df[\"charges\"], hist_kws=dict(cumulative=True), kde_kws=dict(cumulative=True),color=\"cyan\")\nplt.show()","1a08a553":"df_num.skew() #measures the skewness of every numerical attribute","412f4b41":"sns.boxplot(df[\"bmi\"]);\nplt.show()","8224b07b":"sns.boxplot(df[\"age\"]);\nplt.show()","56fa1ec5":"sns.boxplot(df[\"charges\"]);\nplt.show()","abeadefb":"df_cat.columns","2f154af5":"sns.countplot(df_cat[\"sex\"]);","2a78a843":"sns.countplot(df_cat[\"children\"]);\nplt.show()","3a206afe":"sns.countplot(df_cat[\"smoker\"]);","2e4d5998":"sns.countplot(df_cat[\"region\"]);","5e587435":"# Let us analyze categorical variables \"smoker\" and \"sex\" (as hue) with respect to \"charges\" as continuous variable\nsns.catplot(x=\"smoker\", y=\"charges\", hue=\"sex\", kind=\"box\", data=df);","047c8799":"# Let us analyze categorical variables \"region\" and \"smoker\" (as hue) with respect to \"charges\" as continuous variable\nsns.catplot(x=\"region\", y=\"charges\", hue=\"smoker\", kind=\"box\", data=df);","2d18ce27":"# Let us analyze categorical variables \"region\" and \"sex\" (as hue) with respect to charges as continuous variable\nsns.catplot(x=\"region\", y=\"charges\", hue=\"sex\", kind=\"box\", data=df);","206a42a5":"sns.pairplot(df);","481dbaf8":"# Pairplot with smoker as hue\nsns.pairplot(data=df, hue='smoker');","0c9d8fb9":"# Pairplot with sex as hue\nsns.pairplot(data=df, hue='sex');","22cad337":"# Pairplot with region as hue\nsns.pairplot(data=df, hue='region');","cf41ae56":"pp.ProfileReport(df)","7421956c":"df_cat[\"smoker\"].value_counts()","343f5591":"ppl_smoke_chrge = df[df[\"smoker\"]==\"yes\"][\"charges\"]","584fd8bb":"ppl_nosmoke_chrge = df[df[\"smoker\"]==\"no\"][\"charges\"]","40b6f764":"print(f\"Mean of smoker charges: {np.mean(ppl_smoke_chrge)}\")\nprint(f\"Mean of non-smoker charges: {np.mean(ppl_nosmoke_chrge)}\")","a9d80891":"print(f\"Std of smoker charges {np.std(ppl_smoke_chrge)}\")\nprint(f\"Std of non-smoker charges {np.std(ppl_nosmoke_chrge)}\")","037cea71":"t_statistic,pval = ttest_ind(ppl_smoke_chrge,ppl_nosmoke_chrge)","a344fcb9":"print('P Value ',pval)    ","f0550a4a":"if pval <0.05:\n  print(\"Since pval is very much less than significance level we tend to reject null hypothesis\")\nelse:\n  print(\"we Fail to reject null hypothesis\")","1c43327e":" df_cat[\"sex\"].value_counts()","cfb06b1f":"bmi_male = df[df[\"sex\"]==\"male\"][\"bmi\"]\nbmi_female = df[df[\"sex\"]==\"female\"][\"bmi\"]","ee409a2b":"print(f\"Mean of bmi male: {np.mean(bmi_male)}\")\nprint(f\"Mean of bmi female: {np.mean(bmi_female)}\")\nprint(f\"Std of bmi male: {np.std(bmi_male)}\")\nprint(f\"Std of bmi female: {np.std(bmi_female)}\")","37472060":"z_statistic,pval = ttest_ind(bmi_male,bmi_female)","b5580ad8":"print('P Value ',pval)","90997d2b":"if pval <0.05:\n  print(\"Since pval is very much less than significance level we tend to reject null hypothesis\")\nelse:\n  print(\"we Fail to reject null hypothesis\")","8a101931":"female_smokers = df[df['sex'] == 'female'].smoker.value_counts()[1]  # number of female smokers\nmale_smokers = df[df['sex'] == 'male'].smoker.value_counts()[1] # number of male smokers\nn_females = df.sex.value_counts()[1] # number of females in the data\nn_males = df.sex.value_counts()[0] #number of males in the data","422cfecb":"print([female_smokers, male_smokers] , [n_females, n_males])\nprint(f' Proportion of smokers in females, males = {round(115\/662,2)}%, {round(159\/676,2)}% respectively')","41ea1d3b":"stat, pval = proportions_ztest([female_smokers, male_smokers] , [n_females, n_males])\n\nif pval < 0.05:\n    print(f'With a p-value of {round(pval,4)} the difference is significant. aka |We reject the null|')\nelse:\n    print(f'With a p-value of {round(pval,4)} the difference is not significant. aka |We fail to reject the null|')","b172eaa8":"df['sex'].value_counts()","a9d5f77c":"bmi_w_noc = df[(df['sex']=='female') & (df['children']==0)].bmi\nbmi_w_1c = df[(df['sex']=='female') & (df['children']==1)].bmi\nbmi_w_2c = df[(df['sex']=='female') & (df['children']==2)].bmi","3f5b70d7":"sns.distplot(bmi_w_noc);\nplt.title(\"Distribution of BMI of women with no children\")\nplt.show()","6ab1fc4a":"sns.distplot(bmi_w_1c);\nplt.title(\"Distribution of BMI of women with One children\")\nplt.show()","996a61c5":"sns.distplot(bmi_w_2c);\nplt.title(\"Distribution of BMI of women with Two children\")\nplt.show()","b2129d40":"bmi_df = pd.DataFrame()\n\ndf1 = pd.DataFrame({'women': 'NoChild', 'bmi':bmi_w_noc})\ndf2 = pd.DataFrame({'women': 'OneChild', 'bmi':bmi_w_1c})\ndf3 = pd.DataFrame({'women': 'TwoChild', 'bmi':bmi_w_2c})\n\nbmi_df = bmi_df.append(df1) \nbmi_df = bmi_df.append(df2) \nbmi_df = bmi_df.append(df3)","7fadbe05":"sns.boxplot(x = \"women\", y = \"bmi\", data = bmi_df)\nplt.title('BMI of women with children')\nplt.show()","983a7b3a":"mod = ols('bmi ~ women', data = bmi_df).fit()\naov_table = sm.stats.anova_lm(mod, typ=2)\nprint(aov_table)","d5450640":"print(pairwise_tukeyhsd(bmi_df['bmi'], bmi_df['women']))","4e267591":"Here $\\mu1$, $\\mu2$ and $\\mu3$ are the mean of bmi of women with no children, one children and two children respectively.","be150e83":"## Statistical Learning Project","1524e67f":".","151811d9":"#### Ho = The proportions are equal\n#### Ha = The two proportions are not equal","da4f446b":"***Above changes*** plot shows Existence of outlier","3d5eebb9":"### Count plot of Sex column","f724daf1":"### Count plot of Children column","6138b65e":"### Significance Level\nHere we select $\\alpha$= 0.05","6c53ed06":"#### The boxplot shows mostly same mean but mean slightly differs at women with two children. Let check it statistically","5899263c":"### Is the proportion of smokers significantly different in different genders?","80068cd2":"***Above bmi*** plot shows the existence outliers","09aa88b7":"### Is the distribution of bmi across women with no children, one child and two children, the same?","97a2d515":"**Since the standard deviation of the population in not known we carryout independent t test**","0e1cf741":"### Describe the five point summary","775c3a4e":"### Datatypes of each column","cefec004":"## Checking the missing values in all the Columns","6184d2c2":"### Do charges of people who smoke differ significantly from the people who don't?\n","ec110162":"###  Null and alternative hypothesis\n","d079ec53":"###  Null and alternative hypothesis\n","2b4e010d":".","80be6d95":"### Count plot of region column","a0852f15":"## Shape of each column","504b35cb":".","4311d147":"## Pair plot of all the columns","9f32916e":".","8dd58a0a":"* $H_0$: $\\mu{BmiMale}$ - $\\mu{BmifeMale}$ =      0\n* $H_A$: $\\mu{BmiMale}$ - $\\mu{BmifeMale}$ $\\neq$  0","9108c5be":"##### Conclusion","94c7dafa":"Here we select $\\alpha$ = 0.05","2ecd9d62":"## Does bmi of males differ significantly from that of females?","c9d438c0":"* $H_0$: $\\mu1$ = $\\mu2$ = $\\mu3$\n* $H_A$: At least one $\\mu$ differs \n","e9ddbeef":"* $H_0$: $\\mu{SMC}$ - $\\mu{NSMC}$ =      0\n* $H_A$: $\\mu{SMC}$ - $\\mu{NSMC}$ $\\neq$  0","3cdab43e":"The proportions are different but are they statistically significant?","9b7a3db5":"## Profile report of the complete dataframe","5c8b734f":"### Boxplots\n\nThis kind of plot shows the three quartile values of the distribution along with extreme values. The \u201cwhiskers\u201d extend to points that lie within 1.5 IQRs of the lower and upper quartile, and then observations that fall outside this range are displayed independently(outliers). ","820db388":"#### Conclusion\n\n***Yes the Proportion of smokers significantly different in different genders***","3b21460d":"**Yes the charges of people who smoke differ significantly from the people who don't**","83277bd7":"***Above age*** plot shows no outlier","921abb9f":"***We are able to see the reject is false in every case so the distribution of bmi across women with 0,1,2children are same***","33b3a2f8":"# Distribution of categorical columns (include children)","30857815":"### Significance Level \nHere we select $\\alpha$ = 0.05","1ba82eeb":"**Positively skewed:** Most frequent values are low and tail is towards high values.\n\n**Negatively skewed:** Most frequent values are high and tail is towards low values.\n\nIf **Mode< Median< Mean** then the distribution is positively skewed.\n\nIf **Mode> Median> Mean** then the distribution is negatively skewed.","9b1c9257":"### Significance Level ","4fdfd25f":"### calculate p value using Anova","6f00689c":"##### P value 0.7158  is greater than 0.05. So we are unable to reject null hypothesis .\n***Hence the mean and distribution of bmi across women with no child,1child and 2 child are same***","52fe05de":"Here we have three groups. Analysis of variance can determine whether the means of three or more groups are different. ANOVA uses F-tests to statistically test the equality of means.","6b14bdd1":"## Checking the presence of outliers","2de63270":"##### Conclusion","5b236fad":"**No the bmi of males donot differ significantly from that of females**\n\n**BMI of males and female are equal**","eb681a69":"#### Significance level \n$\\alpha$ = 0.05 ","82444f0d":"<span style=\"font-family: Arial; font-weight:bold;font-size:1.5em;color:#00b3e5;\"> Checking the Skewness","1959ab0a":".","91852fe3":"## Distribution of Columns bmi,age,charges","eddad184":"### Count plot of Smoker column","209e22be":".","661299aa":"### END"}}