{"cell_type":{"f0db5ef7":"code","4c53697a":"code","57bec511":"code","8a502dfa":"code","5c3be175":"code","95901894":"code","f6944e9a":"code","144487a6":"code","2202e09b":"code","74802c1c":"code","7755b13f":"code","1a756e13":"code","9dca7132":"code","bd34f53d":"code","f64cc4ed":"code","e0a6bfa9":"code","61685b22":"code","08b5d307":"code","c6dbebae":"code","ade37ec8":"code","2ea39dc1":"code","6c003e74":"code","7e4a04d4":"code","09ff1deb":"code","a58b6d65":"code","995ac0ce":"code","9fa97e5a":"code","e15536fd":"code","300dc0e8":"code","90730bad":"code","acd4be0d":"code","544d0d01":"code","d374bef6":"code","48dca97d":"code","9542ddc7":"code","de6d560a":"code","2bcf3a5a":"code","d5e1003f":"code","b5a47d7b":"code","6c8e0e4d":"code","a07363b9":"code","9526b604":"code","7121dd76":"code","8586f382":"markdown","16f4479b":"markdown","9848f1e5":"markdown","e659f33e":"markdown","a1c6a8e8":"markdown","45f1be76":"markdown","da4c181e":"markdown","8b594e3f":"markdown","d5462fb1":"markdown","a0db4828":"markdown","c8f738ac":"markdown","3d0ba255":"markdown","357453f5":"markdown","f506c15b":"markdown","028c095f":"markdown","e7586858":"markdown","5ba23ece":"markdown","ebc0301c":"markdown","1068152d":"markdown","a246305e":"markdown","e31c62bd":"markdown","e926828e":"markdown","ffb3c146":"markdown","071cf26f":"markdown","427d6379":"markdown","c7c9e0b2":"markdown","f284254b":"markdown","41ea54cb":"markdown","885b10f8":"markdown","9369785d":"markdown","bbf69e98":"markdown","7bf82a99":"markdown","e552e28d":"markdown","4a860fec":"markdown"},"source":{"f0db5ef7":"import numpy as np\nimport pandas as pd\nfrom pandas import Series,DataFrame\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline","4c53697a":"df = pd.read_csv('..\/input\/passenger-list-for-the-estonia-ferry-disaster\/estonia-passenger-list.csv',index_col='PassengerId')\ndf.head()","57bec511":"df.info()","8a502dfa":"sns.countplot(y='Country',data=df)","5c3be175":"sns.countplot('Sex',data=df)","95901894":"sns.kdeplot(df['Age'])\nx_min = df['Age'].min()\nx_max = df['Age'].max()\nplt.xlim(x_min,x_max)","f6944e9a":"fig = sns.FacetGrid(df,hue='Sex',aspect=4)\nfig.map(sns.kdeplot,'Age',shade=True)\nx_min = df['Age'].min()\nx_max = df['Age'].max()\nfig.set(xlim=(x_min,x_max))","144487a6":"sns.countplot('Category',data=df)","2202e09b":"fig2 = sns.FacetGrid(df,hue='Category',aspect=4)\nfig2.map(sns.kdeplot,'Age')\nfig2.set(xlim=(0,x_max))","74802c1c":"sns.countplot('Survived',data=df)","7755b13f":"ax1 = sns.FacetGrid(df,hue='Survived',aspect=4)\nax1.map(sns.kdeplot,'Age')\nax1.set(xlim=(0,x_max))\nax1.add_legend()","1a756e13":"sns.countplot('Sex',hue='Survived',data=df)","9dca7132":"sns.countplot('Category',hue='Survived',data=df)","bd34f53d":"s_rate = df.groupby(['Survived','Category'])['Category'].count()\nprint(s_rate)\n\ncat = df.groupby('Category')['Category'].count()\nprint(cat)\n\nx = (s_rate[1]['C'])\/cat['C']\ny = (s_rate[1]['P'])\/cat['P']\nprint(f'Survival rate of crew is {x}')\nprint(f'Survival rate of passengers is {y}')","f64cc4ed":"df_copy = df.copy()","e0a6bfa9":"df_copy = df_copy.drop(['Firstname','Lastname'],axis=1)","61685b22":"from sklearn.preprocessing import LabelEncoder","08b5d307":"def encoder (value):\n    encode = LabelEncoder().fit(value)\n    return encode.transform(value)","c6dbebae":"df_copy['Sex'] = encoder(df_copy['Sex'])\ndf_copy['Category'] = encoder(df_copy['Category'])\ndf_copy['Country'] = encoder(df_copy['Country'])\ndf_copy.head()","ade37ec8":"\"\"\"Normalising to a range of 0=10\"\"\"\ndef normalize(values):\n    mn = values.min()\n    mx = values.max()\n    return(10.0\/(mx - mn) * (values - mx)+10)","2ea39dc1":"df_copy = normalize(df_copy)","6c003e74":"df_copy.describe()","7e4a04d4":"sns.heatmap(df_copy.corr(),annot=True)","09ff1deb":"Y = df_copy['Survived']\nX = df_copy.drop(['Survived'],axis=1)","a58b6d65":"from sklearn.model_selection import train_test_split","995ac0ce":"x_train,x_test,y_train,y_test = train_test_split(X,Y)","9fa97e5a":"from sklearn.linear_model import LogisticRegression","e15536fd":"lreg = LogisticRegression()","300dc0e8":"lreg.fit(x_train,y_train)","90730bad":"y_pred = lreg.predict(x_test)","acd4be0d":"from sklearn.metrics import accuracy_score","544d0d01":"accuracy_score(y_test,y_pred)","d374bef6":"from sklearn.model_selection import cross_val_predict","48dca97d":"lreg2 = LogisticRegression()\ncross_y_pred = cross_val_predict(lreg2,X,Y,cv=5)","9542ddc7":"accuracy_score(Y,cross_y_pred)","de6d560a":"x_train,x_test,y_train,y_test = train_test_split(X,Y)","2bcf3a5a":"from sklearn.svm import SVC","d5e1003f":"clf = SVC(random_state=1)","b5a47d7b":"clf.fit(x_train,y_train)","6c8e0e4d":"y_pred1 = clf.predict(x_test)","a07363b9":"accuracy_score(y_test,y_pred1)","9526b604":"clf2 = SVC(random_state=1)\ncross_y_pred1 = cross_val_predict(clf2,X,Y,cv=5)","7121dd76":"accuracy_score(Y,cross_y_pred1)","8586f382":"Crew Age varies between 10 yrs to 60 yrs.","16f4479b":"Let's drop columns of Firstname and Lastname as those has vety little signigicance in the study.","9848f1e5":"### Survived v\/s Category","e659f33e":"### Sex-ratio","a1c6a8e8":"## SVM","45f1be76":"### Crew vs Passenger","da4c181e":"### Survived v\/s Age","8b594e3f":"Analysis : For the two models attempted, the accuracy increases with Cross-Validation. Hence, cross-validation can be utilised for beating the baseline.","d5462fb1":"Interestingly, the correlation map implies, other than Sex all features are negatively correlated to Survival.","a0db4828":"Most of the passengers are of age 20 to 70.","c8f738ac":"No null objects means clean data!!!","3d0ba255":"### Age vs Sex ","357453f5":"Given the count ratio of passengers v\/s crew, survival rate of crew is greater than passengers.","f506c15b":"### Survived v\/s Sex","028c095f":"### Survival ","e7586858":"### Accuracy Score","5ba23ece":"### Label Encoding","ebc0301c":"Male passengers has more survival rate than female. Plot imples very low number of females survived compared to males.","1068152d":"### Accuracy Score","a246305e":"### Country ","e31c62bd":"Count of Male and Female passenger are almost same given a little edge to male passengers.","e926828e":"## SVM with Cross Validation","ffb3c146":"## Logistic Regression with Cross validation","071cf26f":"### Age Distribution","427d6379":"# Feature Engineering","c7c9e0b2":"# Model","f284254b":"Seems like people of age between 20 to 50 has more survival rate than others.","41ea54cb":"Obviously number of crews are less than passengers.","885b10f8":"More than 3\/4th of the passengers didn't survive the accident!!!!","9369785d":"Majority of the passengers are from Sweden and Estonia.","bbf69e98":"### Data Normalisation","7bf82a99":"## Logistic Regression","e552e28d":"# Data Exploration","4a860fec":"### Accuracy Score"}}