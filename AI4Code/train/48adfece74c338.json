{"cell_type":{"0ba4ea95":"code","7992d5f3":"code","caa1a8cf":"code","b225d4d2":"code","f98afd74":"code","1581462d":"code","eca7236a":"code","bb5431d5":"code","c12cd46f":"code","0a788d81":"code","9f330cbb":"code","03666111":"code","a8f11657":"code","289c80fd":"code","f46b2731":"code","e0c5d151":"code","32530207":"code","b5596597":"markdown","c4db36a7":"markdown","d1bc7121":"markdown","f9fd2f24":"markdown","886d1cab":"markdown","c826eeb5":"markdown","2997820a":"markdown","42d84853":"markdown","b5613796":"markdown","14055d62":"markdown"},"source":{"0ba4ea95":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n%matplotlib inline","7992d5f3":"movies = pd.read_csv(\"\/kaggle\/input\/bollywood-box-office-20172020\/bollywoodboxoffice_raw.csv\")\nmovies.info()","caa1a8cf":"movies.head()","b225d4d2":"movies.drop([\"movie_url\", \"movie_director_url\"], axis = 1, inplace = True)","f98afd74":"movies[[\"movie_release_date\", \"movie_runtime\"]] = movies[\"movie_movierelease\"].str.split(\"|\", expand = True)\nmovies.drop(\"movie_movierelease\", axis = 1, inplace = True)\nmovies.columns = movies.columns.str.replace(\"^movie_\", '')\nmovies.head()","1581462d":"revenues = [\"opening\", \"weekend\", \"firstweek\", \"total\", \"total_worldwide\"]\ntypes = {col: 'float' for col in revenues}\n\ndef replacer(x):\n    x = x.str.replace(\"^: \", \"\")\n    x = x.str.replace(\"cr$\", \"\")\n    x = x.str.replace('^---', \"0\")\n    return x.str.replace(\"\\* $\", \"\")\n\nmovies[revenues] = movies[revenues].apply(replacer)\nmovies[revenues] = movies[revenues].astype(types)\n\nmovies[revenues].head()","eca7236a":"movies[[\"date\", \"year\"]] = movies[\"release_date\"].str.split(\",\", expand = True)\nmovies[[\"day\", \"month\"]] = movies[\"date\"].str.split(\" \", expand = True)\n\nmovies.drop([\"release_date\", \"date\"], axis = 1, inplace = True)\n\nmovies.head()","bb5431d5":"time = movies[\"runtime\"].str.split()\n\ntime = time.apply(lambda x: [int(x1) for x1 in x if x1 != 'hrs' and x1 != 'mins'])\n\ndef calc_runtime(x):\n    if len(x) == 1:\n        return 60 * x[0]\n    else:\n        return (60 * x[0]) + x[1]\n\nmovies[\"runtime\"] = time.apply(calc_runtime)\n\nmovies.head()","c12cd46f":"movies.rename({\"total\": \"domestic\", \"total_worldwide\": \"worldwide\"}, axis = 1, inplace = True)","0a788d81":"def cat_length(x):\n    if x <= 120:\n        return \"Less than 2hrs\"\n    elif (x > 120) and (x < 180):\n        return \"Between 2 and 3 hours\"\n    elif x > 180:\n        return \"Longer than 3 hours\"\n\nmovies[\"cat_runtime\"] = movies[\"runtime\"].apply(cat_length)","9f330cbb":"months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\",\n          \"August\", \"September\", \"October\", \"November\", \"December\"]\nsns.set_style(\"darkgrid\")\nplt.style.use(\"fivethirtyeight\")\nplt.figure(figsize = (16, 8))\nsns.boxplot(x = \"month\", y = \"domestic\", data = movies, order = months)\nplt.ylabel(\"Crores INR\")\nplt.xlabel(\"Month\")\nplt.title(\"Domestic Gross of Indian Movies by Month\")","03666111":"sns.set_style(\"darkgrid\")\nplt.style.use(\"fivethirtyeight\")\nplt.figure(figsize = (16, 8))\nsns.boxplot(x = \"month\", y = \"worldwide\", data = movies, order = months)\nplt.ylabel(\"Crores INR\")\nplt.xlabel(\"Month\")\nplt.title(\"Worldwide Gross of Indian Movies by Month\")","a8f11657":"hundred = movies[movies[\"worldwide\"] >= 100]\nhundred.shape","289c80fd":"plt.figure(figsize = (7, 5))\nsns.set_style(\"darkgrid\")\nplt.style.use(\"tableau-colorblind10\")\nsns.countplot(x = \"year\", data = hundred)\nplt.ylim(0, 25)","f46b2731":"plt.figure(figsize = (7, 5))\nsns.set_style(\"darkgrid\")\nplt.style.use(\"tableau-colorblind10\")\nsns.countplot(x = \"cat_runtime\", data = movies)\nplt.ylim(0, 120)\nplt.xlabel(\"Runtime of Movie\")","e0c5d151":"opening_weekend = movies.sort_values(by = [\"weekend\"], ascending = False).head(10)\nfirst_day = movies.sort_values(by = [\"opening\"], ascending = False).head(10)","32530207":"sns.set_style(\"darkgrid\")\nplt.style.use(\"fivethirtyeight\")\nf, ax = plt.subplots(2, 1, figsize = (16, 14), squeeze = False)\n\nsns.barplot(x = 'opening', y = 'name', data = first_day, ax = ax[0][0], palette = \"inferno\")\nsns.barplot(x = 'weekend', y = 'name', data = opening_weekend, ax = ax[1][0], palette = 'inferno')\n\nax[0][0].set_ylabel('')\nax[0][0].set_xlabel('Crores INR')\nax[0][0].set_title('Biggest Opening Day')\n\nax[1][0].set_ylabel('')\nax[1][0].set_xlabel('Crores INR')\nax[1][0].set_title('Biggest Opening Weekend')","b5596597":"## Biggest Opening Day and Opening Weekend","c4db36a7":"# Introduction\nLooking for patterns in box office trends.","d1bc7121":"# Exploring the Data","f9fd2f24":"Looks like the data needs to be cleaned somewhat.\n\nI. The url columns will be dropped because they don't affect the analysis.\n\nII. Some of the columns need to be split into multiple columns.\n\nIII. Columns should be renamed for simplicity\n\nIV. Some of the text needs to be processed.","886d1cab":"\nI won't be dealing with the text data so those can stay as they are. The date data, gross amounts, and runtime data have all been cleaned up reasonably well. The gross amounts stay in crores of INR which are 10s of millions of INR.","c826eeb5":"\nJune seems to be the biggest month for movies in both Domestic and Worldwide markets. December also appears to be a decent month for movies at the theaters. Every other month had median values under 100cr intakes at the box office. June and December movies get good bumps from the worldwide box office. September is possibly the worst performing month though April and November aren't great either.","2997820a":"## 100CR Movies","42d84853":"There aren't a lot of movies that are shorter than 2hrs but there aren't any that are longer than 3hrs which is quite surprising.\nNow that I've taken a look at some of the group statistics, I'm going to take a look at some of the individual statistics. Biggest opening day and biggest opening weekend seem like a good place to start.\n","b5613796":"\nAside from Thugs of Hindustan and Bharat switching spots, the top 5 stay the same from opening day through the weekend. Padmaavat came from a 25cr or less opening day and turned into a 110+ cr opening weekend.\n","14055d62":"There was a considerable jump in 100cr movies form 2017 to 2018. There was an overall increasing trend in 100cr movies from 2017 to 2019. 2020 data is to hard to read from; it is low but it's not halfway through the year yet and Covid-19 is certainly going to cripple numbers."}}