{"cell_type":{"efbdf789":"code","392ddc36":"code","fffce4c6":"code","f9f649b1":"code","f109ab77":"code","779792b6":"code","65d45dd5":"code","49dc7068":"code","d965d00a":"code","a93e01ab":"code","d02ea01f":"code","672f4b4a":"code","ef9fe38d":"code","bab1ae40":"code","a94bd97a":"code","1422bfdf":"markdown","29db654e":"markdown","037df9e5":"markdown","f0f97a7e":"markdown","d2f5f3e5":"markdown"},"source":{"efbdf789":"import pandas as pd\n\nraw_data = pd.read_csv('\/kaggle\/input\/steam-reviews\/dataset.csv')","392ddc36":"raw_data.drop(columns=['review_votes', 'review_score', 'app_id'], inplace=True, errors='ignore')","fffce4c6":"raw_data.head(5)","f9f649b1":"raw_data.dropna(axis='index', inplace=True)","f109ab77":"import re\nimport numpy as np\ndef clean_text(text):\n    return re.sub('&.*;', '', re.sub('\/.*', '', text))\n\nraw_data['review_text'] = raw_data['review_text'].apply(clean_text)\nraw_data['review_text'].replace('', np.nan, inplace=True)\nraw_data.dropna(subset=['review_text'], inplace=True)\nraw_data = raw_data.loc[raw_data['review_text'].str.len() >= 500]","779792b6":"reorder_raw_data = raw_data.review_text.str.len().sort_values(ascending=False).index\nraw_data = raw_data.reindex(reorder_raw_data)\nraw_data.drop_duplicates(inplace=True)","65d45dd5":"from datasets import Dataset\ndata_df = Dataset.from_pandas(raw_data[1975:2000])","49dc7068":"import gc\ndel raw_data\ngc.collect()","d965d00a":"from transformers import AutoTokenizer, AutoModelForSeq2SeqLM\n\ncheckpoint = \"sshleifer\/distilbart-cnn-12-6\"\ntokenizer = AutoTokenizer.from_pretrained(checkpoint)\nmodel = AutoModelForSeq2SeqLM.from_pretrained(checkpoint).to('cuda')","a93e01ab":"batch = tokenizer(data_df['review_text'], truncation=True, padding=True, return_tensors=\"pt\").to('cuda')\ntranslated = model.generate(**batch)\ntgt_text = tokenizer.batch_decode(translated, skip_special_tokens=True)","d02ea01f":"df = pd.DataFrame(data={'review_text': data_df['review_text'], 'summarized_text': tgt_text})","672f4b4a":"df.head(5)","ef9fe38d":"import random\nrandom_num = random.randint(0, 24)","bab1ae40":"df['review_text'][random_num]","a94bd97a":"df['summarized_text'][random_num]","1422bfdf":"# Summarizing Steam Reviews","29db654e":"## Pulling in the Data","037df9e5":"Since I'm just going to be summarizing the review text the extra columns are unnecessary.","f0f97a7e":"### Cleaning the Data\n\nSome of the inputs had lots of messy text so I'm going to try and clean out the gross text.","d2f5f3e5":"## Model Time"}}