{"cell_type":{"d57cda1a":"code","5b18053d":"code","634abcf1":"code","2dc9ed0d":"code","dbccd476":"code","07255661":"code","6f085cc9":"code","b08bb9a5":"code","4be16e5b":"code","da9e860f":"code","eb8e7da5":"code","69452e1c":"code","540a0e7a":"code","4fb3bb85":"code","7b31351b":"code","18f51aa7":"code","b17b4bd4":"code","cdc58328":"code","f5210e4c":"code","3752c480":"code","42cf3f9c":"code","1ed96ced":"code","3c6a82af":"code","6918d4d6":"code","f1adc1f3":"code","986eb2a6":"code","417f96c5":"code","f233703a":"code","40f97f53":"code","8554fe6b":"code","42fb56b1":"code","c98c5bb0":"code","a698207a":"code","007f4698":"code","4abece2a":"code","d1a22fe5":"code","96c06306":"code","f3c0fd27":"code","c86e8549":"code","72849b6c":"code","b1604be3":"code","f5f54af2":"code","b8defbcf":"markdown","7070a617":"markdown","dd5d79c3":"markdown","5f1702a4":"markdown","1ee46d7f":"markdown","bf8e32ec":"markdown","dad0cc47":"markdown","828bcb02":"markdown","ce046803":"markdown","378f18ff":"markdown","be911b4a":"markdown","503ab410":"markdown","0e4789df":"markdown","0e1d6623":"markdown","13a8291b":"markdown","ff308cb2":"markdown","59b375ea":"markdown","85b7a17a":"markdown","d81b9384":"markdown","385c8e8d":"markdown","ea7a073b":"markdown","18d3845f":"markdown","29a6438c":"markdown","9684a342":"markdown","18d8edd2":"markdown","f074a191":"markdown","78351c9b":"markdown","7d83dd0f":"markdown","84c4344c":"markdown","dee2a3f8":"markdown","108f13ef":"markdown","3d831d3d":"markdown","7434e589":"markdown","9b8918dc":"markdown","1e0e56dc":"markdown","3d89f8ea":"markdown"},"source":{"d57cda1a":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly.io as pio\npio.templates.default = \"seaborn\"\nfrom plotly.subplots import make_subplots\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\n","5b18053d":"df = pd.read_csv(\"..\/input\/corona-virus-report\/covid_19_clean_complete.csv\", parse_dates = ['Date'])\ndf.head()","634abcf1":"df.info()","2dc9ed0d":"df.rename(columns={'Province\/State':'State','Country\/Region':'Country'},inplace=True)\ndf.describe(include='object')","dbccd476":"date=df.Date.value_counts().sort_index()\nprint('First date:',date.index[0])\nprint('Last date:',date.index[-1])","07255661":"df['Active'] = df['Confirmed'] - df['Deaths'] - df['Recovered']","6f085cc9":"df.describe()","b08bb9a5":"df[df['Active']==df['Active'].min()]","4be16e5b":"df.loc[(df['Active']==-6),'Recovered']=162\n# Let us once again find active cases\ndf['Active'] = df['Confirmed'] - df['Deaths'] - df['Recovered']","da9e860f":"df.describe()","eb8e7da5":"df[df['Active']==df['Active'].min()]","69452e1c":"df.loc[(df['Active']==-1),'Confirmed']=1\n# Let us once again find active cases\ndf['Active'] = df['Confirmed'] - df['Deaths'] - df['Recovered']","540a0e7a":"df.describe()","4fb3bb85":"latest=df[df['Date']==df['Date'].max()]\nactive_country=latest.groupby('Country')['Confirmed','Deaths','Recovered','Active'].sum().reset_index()\nactive_country.sort_values(by='Active',ascending=False,inplace=True)\nactive_country.head()","7b31351b":"active_top_20=active_country.head(20)","18f51aa7":"import matplotlib.pyplot as plt\nimport seaborn as sns\nplt.figure(figsize=(15,20))\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.xlabel('Active Cases',fontsize=25)\nplt.ylabel('Countries',fontsize=25)\nplt.title('Top 20 Countries with Active Cases',fontsize=50)\nax=sns.barplot(x=active_top_20['Active'],y=active_top_20['Country'])\nfor i, (value, name) in enumerate(zip(active_top_20['Active'], active_top_20['Country'])):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Active Cases',ylabel='Countries')","b17b4bd4":"active_country.sort_values('Confirmed',ascending=False,inplace=True)\ncon_top_20=active_country.head(20)\ncon_top_20.head()","cdc58328":"plt.figure(figsize= (15,10))\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Total Confirmed cases\",fontsize = 25)\nplt.ylabel('Country',fontsize = 25)\nplt.title(\"Top 20 countries with Confirmed cases\" , fontsize = 50)\nax = sns.barplot(x = con_top_20.Confirmed, y = con_top_20.Country)\nfor i, (value, name) in enumerate(zip(con_top_20.Confirmed,con_top_20.Country)):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Confirmed cases', ylabel='Country')","f5210e4c":"active_country.sort_values('Deaths',ascending=False,inplace=True)\ndeath_top_20=active_country.head(20)\ndeath_top_20.head()","3752c480":"plt.figure(figsize= (15,10))\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Total cases\",fontsize = 25)\nplt.ylabel('Country',fontsize = 25)\nplt.title(\"Top 20 countries with Deaths\" , fontsize = 50)\nax = sns.barplot(x = death_top_20.Deaths, y = death_top_20.Country)\nfor i, (value, name) in enumerate(zip(death_top_20.Deaths,death_top_20.Country)):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Total Deaths', ylabel='Country')","42cf3f9c":"active_country.sort_values('Recovered',ascending=False,inplace=True)\nrec_top_20=active_country.head(20)\nrec_top_20.head()","1ed96ced":"plt.figure(figsize= (15,10))\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Total Recovered\",fontsize = 25)\nplt.ylabel('Country',fontsize = 25)\nplt.title(\"Top 20 countries with Recoveries\" , fontsize = 50)\nax = sns.barplot(x = rec_top_20.Recovered, y = rec_top_20.Country)\nfor i, (value, name) in enumerate(zip(rec_top_20.Recovered,rec_top_20.Country)):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Total Recovered', ylabel='Country')","3c6a82af":"ch_df=df[df['Country']=='China']\nch_df.head()","6918d4d6":"plt.figure(figsize= (15,10))\nplt.xticks(rotation = 90 ,fontsize = 10)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Dates\",fontsize = 30)\nplt.ylabel('Total cases',fontsize = 30)\nplt.title(\"Confirmed Cases in China Over Time\" , fontsize = 30)\ntotal_cases_ch = ch_df.groupby('Date')['Date', 'Confirmed'].sum().reset_index()\ntotal_cases_ch['Date'] = pd.to_datetime(total_cases_ch['Date'])\n\n\nax = sns.pointplot( x = total_cases_ch.Date.dt.date ,y = total_cases_ch.Confirmed , color = 'r')\nax.set(xlabel='Dates', ylabel='Total Confirmed cases')","f1adc1f3":"it_df=df[df['Country']=='Italy']\nit_df.head()","986eb2a6":"plt.figure(figsize= (15,10))\nplt.xticks(rotation = 90 ,fontsize = 10)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Dates\",fontsize = 30)\nplt.ylabel('Total cases',fontsize = 30)\nplt.title(\"Confirmed Cases in Italy Over Time\" , fontsize = 30)\ntotal_cases_it = it_df.groupby('Date')['Date', 'Confirmed'].sum().reset_index()\ntotal_cases_it['Date'] = pd.to_datetime(total_cases_it['Date'])\n\n\nax = sns.pointplot( x = total_cases_it.Date.dt.date ,y = total_cases_it.Confirmed , color = 'b')\nax.set(xlabel='Dates', ylabel='Total Confirmed cases')","417f96c5":"us_df=df[df['Country']=='US']\nus_df.head()","f233703a":"plt.figure(figsize= (15,10))\nplt.xticks(rotation = 90 ,fontsize = 10)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Dates\",fontsize = 30)\nplt.ylabel('Total cases',fontsize = 30)\nplt.title(\"Confirmed Cases in US Over Time\" , fontsize = 30)\ntotal_cases_us = us_df.groupby('Date')['Date', 'Confirmed'].sum().reset_index()\ntotal_cases_us['Date'] = pd.to_datetime(total_cases_it['Date'])\n\n\nax = sns.pointplot( x = total_cases_us.Date.dt.date ,y = total_cases_us.Confirmed , color = 'g')\nax.set(xlabel='Dates', ylabel='Total Confirmed cases')","40f97f53":"rate_df = latest.groupby(by = 'Country')['Recovered','Confirmed','Deaths'].sum().reset_index()\nrate_df['Recovery percentage'] =  round(((rate_df['Recovered']) \/ (rate_df['Confirmed'])) * 100 , 2)\nrate_df['Death percentage'] =  round(((rate_df['Deaths']) \/ (rate_df['Confirmed'])) * 100 , 2)\nrate_df.head()","8554fe6b":"rate_df.sort_values(by='Death percentage',ascending=False,inplace=True)\nmortal_df=rate_df.head(20)\nmortal_df.head()","42fb56b1":"plt.figure(figsize= (20,20))\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Total cases\",fontsize = 30)\nplt.ylabel('Country',fontsize = 30)\nplt.title(\"Top 20 countries having highest mortality rate\" , fontsize = 30)\nax = sns.barplot(x = mortal_df['Death percentage'], y = mortal_df['Country'])\nfor i, (value, name) in enumerate(zip(mortal_df['Death percentage'], mortal_df['Country'])):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Mortality Rate in percentage', ylabel='Country')","c98c5bb0":"rate_df.sort_values(by='Recovery percentage',ascending=False,inplace=True)\nrec_df=rate_df.head(20)\nrec_df.head()","a698207a":"plt.figure(figsize= (20,20))\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Total cases\",fontsize = 30)\nplt.ylabel('Country',fontsize = 30)\nplt.title(\"Top 20 countries having highest Recovery rate\" , fontsize = 30)\nax = sns.barplot(x = rec_df['Recovery percentage'], y = rec_df['Country'])\nfor i, (value, name) in enumerate(zip(rec_df['Recovery percentage'], rec_df['Country'])):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Recovery Rate in percentage', ylabel='Country')","007f4698":"df1 = df\ndf1['Date'] = pd.to_datetime(df1['Date'])\ndf1['Date'] = df1['Date'].dt.strftime('%m\/%d\/%Y')\ndf1 = df1.fillna('-')\nfig = px.density_mapbox(df1, lat='Lat', lon='Long', z='Confirmed', radius=20,zoom=1, hover_data=[\"Country\",'State',\"Confirmed\"],\n                        mapbox_style=\"carto-positron\", animation_frame = 'Date', range_color= [0, 1000],title='Spread of Covid-19')\nfig.update_layout(margin={\"r\":0,\"t\":30,\"l\":0,\"b\":0})\nfig.show()","4abece2a":"figure = px.choropleth(active_country, locations=\"Country\", \n                    locationmode='country names', color=\"Active\", \n                    hover_name=\"Country\", range_color=[1,1000], \n                    color_continuous_scale=\"blues\", \n                    title='Countries with Active Cases')\nfigure.show()","d1a22fe5":"china=df[df['Country']=='China']\nchina.head()","96c06306":"ch=china.groupby('State')['Confirmed','Deaths','Recovered','Active'].sum().reset_index()\nch.head()","f3c0fd27":"plt.figure(figsize=(20,20))\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.xlabel('No. of Confirmed Cases in China',fontsize=30)\nplt.ylabel('States',fontsize=30)\nplt.title('States having Active Cases in China', fontsize=30)\nax=sns.barplot(x=ch['Confirmed'],y=ch['State'])\nfor i, (value, name) in enumerate(zip(ch.Confirmed, ch.State)):\n    ax.text(value, i-.05, f'{value:,.0f}',  size=10, ha='left',  va='center')\nax.set(xlabel='Total cases', ylabel='States')","c86e8549":"ind_df=df[df['Country']=='India']\nind_df.head()","72849b6c":"plt.figure(figsize= (15,10))\nplt.xticks(rotation = 90 ,fontsize = 10)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Dates\",fontsize = 30)\nplt.ylabel('Total cases',fontsize = 30)\nplt.title(\"Confirmed Cases in India Over Time\" , fontsize = 30)\ntotal_cases_ind = ind_df.groupby('Date')['Date', 'Confirmed'].sum().reset_index()\ntotal_cases_ind['Date'] = pd.to_datetime(total_cases_ind['Date'])\n\n\nax = sns.pointplot( x = total_cases_ind.Date.dt.date ,y = total_cases_ind.Confirmed , color = 'y')\nax.set(xlabel='Dates', ylabel='Total Confirmed cases')","b1604be3":"plt.figure(figsize= (15,10))\nplt.xticks(rotation = 90 ,fontsize = 10)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Dates\",fontsize = 30)\nplt.ylabel('Total deaths',fontsize = 30)\nplt.title(\"Deaths in India Over Time\" , fontsize = 30)\ntotal_deaths_ind = ind_df.groupby('Date')['Date', 'Deaths'].sum().reset_index()\ntotal_deaths_ind['Date'] = pd.to_datetime(total_deaths_ind['Date'])\n\n\nax = sns.pointplot( x = total_deaths_ind.Date.dt.date ,y = total_deaths_ind.Deaths , color = 'y')\nax.set(xlabel='Dates', ylabel='Total Deaths')","f5f54af2":"plt.figure(figsize= (15,10))\nplt.xticks(rotation = 90 ,fontsize = 10)\nplt.yticks(fontsize = 15)\nplt.xlabel(\"Dates\",fontsize = 30)\nplt.ylabel('Total Recoveries',fontsize = 30)\nplt.title(\"Recoveries in India Over Time\" , fontsize = 30)\ntotal_rec_ind = ind_df.groupby('Date')['Date', 'Recovered'].sum().reset_index()\ntotal_rec_ind['Date'] = pd.to_datetime(total_rec_ind['Date'])\n\n\nax = sns.pointplot( x = total_rec_ind.Date.dt.date ,y = total_rec_ind.Recovered , color = 'y')\nax.set(xlabel='Dates', ylabel='Total Recoveries')","b8defbcf":"1. **This plot gives interesting and questionable insight to viewers**\n2. **There can be numerous inferences from this single plot**\n3. **Within Chinese states, number of confirmed cases are highest in Hubei**\n4. **Confirmed cases in other states of China are very very less compared to Hubei**\n5. **China did excellent job of locking down the infected persons from entering other states**\n6. **Sadly, it did not succeed in preventing infected people travelling to different countries**","7070a617":"# Let us look at number of confirmed cases within China.\n# We have considered China, because it was the origin of Pandemic","dd5d79c3":"# Here are the inferences from above plots:\n1. **As known, China was the center of spread of this pandemic.**\n2. **Since, it is center, Confirmed rates were high in the initial days, and as the days passed, because of lock-downs the number of confirmed cases decreased.**\n3. **SInce the pandemic was taken lightly by other countries in the initial days, it increased at a very rapid rate in Asian, European and American countries causing thousands of death.**\n4. **It is a serious warning to other countries, if no precautions are taken, it will cause large deaths**","5f1702a4":"1. **This plot looks scary, especially you are Indian.**\n2. **Till March 23,2020, there were almost zero confirmed cases in India**\n3. **From first week of March till 3rd week of March, there was steady increase in number of confirmed cases**\n4. **From 19th march, there is rapid increase in number of confirmed cases**\n5. **Even though lock down was announced earlier, but people have not taken it seriously**\n6. **Similar pattern is being observed as European countries, if not taken seriously, India may have large number of deaths by mid-April**","1ee46d7f":"Total confirmed cases were increasing rapidly from 22nd January 2020 to 19th February 2020, now (28\/03\/2020), there are almost no new confirmed cases with respect to China","bf8e32ec":"From above plot, it is evident that as on 28th March 2020, US has highest number of cases followed by Italy, Spain, Germany and France.","dad0cc47":"* Saint Vincent and Grenadlines has recovery rate of 100% !! That's only because there was only one confirmed cases, which was recovered.\n* China has excellent recovery rate of 92% in spite of large number of confirmed cases.\n* Majority of the recovery rates are in between 30 - 20%.\n* As mentioned earlier, recovery rate is low in some African countries because of poor medical facilities.","828bcb02":"1. **Even though death number is very low, but the trend is very alarming**\n2. **First death was on 11th March, 2020**\n3. **Within next 18 days, death toll has reached 25**","ce046803":"Confirmed cases in Italy are in opposite trend to that of China, even though first case was observed somewhere between 22 feb to 27 feb 2020,there was sudden increase in number of confirmed cases on 12th March 2020, and from then on it has never showed decreasing trend","378f18ff":"**Let us visualize top 20 countries with most number of Confirmed cases**","be911b4a":"***Let us have look at top 20 countries by active cases***","503ab410":"**Spread of Covid-19 is very slow in the beginning, but as time progresses, it spreads at a rapid rate**","0e4789df":"**We can see that still minimum active cases is -1 which is of no sense, let us see the rows and change them accordingly.**","0e1d6623":"# Let us look at COVID-19 developments in India","13a8291b":"* During initial days of pandemic, there was rapid increase in China, which was center of Pandemic, but as days progressed, it was spread to other countries.\n\n* Confirmed cases in Italy, US, France, Iran and Germany gradually increased.\n\n* During late february, while confirmed cases started decreasing in China, it started to increase in other countries.","ff308cb2":"**Here, we can see that minimum of active cases is -6, which does not make any sense, let us have look at those records in our data**","59b375ea":"# Let us look at world wide spread using Dynamic Analysis.\n**World Wide Spread Analysis**\n\nWe can use plotly visualisation tool for dynamic plotting.Python visualization tool that\u2019s capable of handling geographical, scientific, statistical, and financial data. Plotly has several advantages over matplotlib. One of the main advantages is that only a few lines of codes are necessary to create aesthetically pleasing, interactive plots.\n\n* It can reduce time required for data exploration.","85b7a17a":"**China has highest recovered patients, even though Italy is second in place, there is lot of difference between Italy and China.**","d81b9384":"**Let us have a look at top 20 countries with most of number of deaths**","385c8e8d":"As per the dataset, COVID-19 pandemic has spread across 177 countries","ea7a073b":"# Data Visualization\n\nIn this section, we will try to visualize the data, we will have a look at the countries which have most number of deaths,active cases through plots, we will also look at how the pandemic spread initially by static plots and then we will plot the dynamic plot","18d3845f":"#                            COVID - 19 Pandemic\n\n**Corona virus is a new virus which is causing havoic and panic among all the nations in the world**\n\n*I have made a small attempt to bring some of the insights about the corona virus cases of some of the countries where there is huge loss of life. I have used plotly and seaborn visualisation tools for bringing out the insights in a visual way.*\n\n****The main purpose of this notebook is to visualize the trends of death, recovery in various countries.\n\nBy : [Akshay Sb](www.linkedin.com\/in\/akshay-sb-878990a0)\n\n# Please do upvote, if you find it useful\n# Please do let me know, if anything need to be updated.","29a6438c":"# Data Cleaning","9684a342":"# Now Let us look at the rate of spreading of active cases for some countries","18d8edd2":"1. **As of 28th March 2020, even though US has highest active cases, Italy has highest death tally till now, followed by Spain, China, Iran and France**\n2. **Even though China has huge number of confirmed cases, number of deaths is low compared to Italy and Spain**","f074a191":"**Let us look at recovery rate**","78351c9b":"**As of March 28th 2020, USA has highest number of active cases followed by Italy,Germany and Spain **","7d83dd0f":"# **Let us try to find the no. of active cases**","84c4344c":"**We can observe that out of 168 confirmed cases, there are 6 deaths, there might be wrong data entry in Recoverd column, let us change that and proceed**","dee2a3f8":"1. **This is some positive visuals despite lots of unrest inthe country**\n2. **There is rapid increasing trend in number of people who are recovering**","108f13ef":"There are 5 numerical variables (Lat, Long, Confirmed, Deaths,Recovered), 2 categorical variables (Province\/State and Country\/Region)","3d831d3d":"**As per 28th March, US has highest number of confirmed cases, followed by Italy, China, Spain and Germany**","7434e589":"* Even though there are less number of confirmed cases in African countries such as Gambia, Nicaragua, Cabo verde, Sudan and Zimbabwe, number of recoveries are also less resulting in higher mortality rate\n* This higher mortality rate is mainly because of poor medical facilities available in under-developed countries'\n* Even though there are deaths in thousands in countries like China, Itlay, Germany, Iran, it is very less compared to number of confirmed cases.","9b8918dc":"# Final Remarks\n\n1. **COVID-19 is a pandemic which is spreading at global level**\n2. **Even though it is spreading at alarming rate, it can be contained by few simple steps**\n\n# * Wash your hands\n\n# * Please maintain social distancing\n\n# * Contact health care officials if symptoms are observed and do not panic ","1e0e56dc":"# Let us have look at Mortality and Recovery Rate of some Countries","3d89f8ea":"This dataset has data between 22nd January, 2020 to 28th March, 2020"}}