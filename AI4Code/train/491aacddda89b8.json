{"cell_type":{"d4df7245":"code","a71f5d18":"code","41fa8a53":"code","3ec95fda":"code","69bd167f":"code","3cbbdb52":"code","0c8a04ba":"code","e4ac3878":"code","14e750aa":"code","1a44f258":"code","ef869445":"code","d6cd36fe":"code","9140f95c":"code","068b5715":"code","5c0ee74c":"code","184abdf5":"code","cd8df6d6":"code","bad66fe5":"code","26b8afcf":"code","3796a146":"code","32daa5f4":"code","f70b6441":"code","1a76661a":"code","95c4c315":"code","b7c48a95":"code","bd382115":"code","895400ee":"code","9814f5b3":"code","6d6fc15f":"code","d7316f1f":"code","1ad71e27":"code","dac04a07":"code","01e2e188":"code","787add33":"code","ddb41c7b":"code","873b26c0":"markdown","223b810c":"markdown","7e4fc5cf":"markdown","1dfdac50":"markdown","a949788e":"markdown","918c1a9a":"markdown","d8860c97":"markdown","44d92d44":"markdown"},"source":{"d4df7245":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd","a71f5d18":"data=pd.read_csv(\"..\/input\/customer-analytics\/Train.csv\")\ndata.head()","41fa8a53":"data.drop(data.columns[[0]], axis=1, inplace=True)","3ec95fda":"data.head()","69bd167f":"#data=pd.get_dummies(data,columns=['Mode_of_Shipment','Product_importance','Gender','Customer_care_calls','Customer_rating',\n                                  # 'Prior_purchases'])\ndata[\"customerscore\"]=np.nan\ndata.head()","3cbbdb52":"good_rating=data.query('Customer_rating>=3')","0c8a04ba":"good_rating","e4ac3878":"data.rename(columns={\"Reached.on.Time_Y.N\": \"Reached_on_Time\"},inplace=True)","14e750aa":"data['Reached_on_Time'].value_counts(normalize=True) * 100","1a44f258":"#import seaborn as sns\n#ax =sns.countplot(x=\"Reached_on_Time\",data=good_rating, palette=\"icefire\",hue=\"Reached_on_Time\")\n#plt.ylabel(\"No. of customers\")\n#plt.title(\"About 39.7% of the customer received their shipment on-time\")\n\n#ax.text(-0.9, 4600, 'Identified the customer who rated 3 and greater',fontsize=20,color='red')\n#count=good_rating['Reached_on_Time'].value_counts()\n#print(count)\n\n#good_rating['Reached_on_Time'].value_counts(normalize=True)*100","ef869445":"totalcost = data['Cost_of_the_Product'].sum()\nprint (totalcost)","d6cd36fe":"countorder=data['Cost_of_the_Product'].count()\nprint(countorder)","9140f95c":"avg=totalcost\/countorder\nprint(avg)","068b5715":"a=[]\nfor value in data['Prior_purchases']: \n    a.append(avg*value)\ndata['customerscore']=a\ndata.head()","5c0ee74c":"data['customerscore'].median()","184abdf5":"goodscore=data.query('customerscore>=630')","cd8df6d6":"ax = sns.countplot(x=\"Reached_on_Time\",data=goodscore, palette=\"icefire\",hue=\"Reached_on_Time\")\nplt.ylabel(\"No. of customers\")\nplt.title(\"About 41.21% of the customer received their shipment on-time\")\n\n\nax.text(-0.9, 5690, 'Identified customer who has customer score greater than and equal to 630',fontsize=12,color='red')\ncount1=goodscore['Reached_on_Time'].value_counts()\nprint(count1)\ngoodscore['Reached_on_Time'].value_counts(normalize=True)*100","bad66fe5":"recurringorder=data.query('Prior_purchases>=6')\nrecurringorder","26b8afcf":"ax = sns.countplot(x=\"Reached_on_Time\",data=recurringorder, palette=\"icefire\",hue=\"Reached_on_Time\")\nplt.ylabel(\"No. of customers\")\nplt.title(\"About 41.07% of the customer received their shipment on-time\")\n#plt.title(\"Identified the customer who rated 3\")\nax.text(-0.6, 690, 'Identified customer who made prior purchase 6 and greater',fontsize=12,color='red')\ncount2=recurringorder['Reached_on_Time'].value_counts()\nprint(count2)\nrecurringorder['Reached_on_Time'].value_counts(normalize=True)*100","3796a146":"data[\"Cost_of_the_Product\"].max()","32daa5f4":"data[\"Cost_of_the_Product\"].min()","f70b6441":"medianvalue=data[\"Cost_of_the_Product\"].median()","1a76661a":"print(medianvalue)","95c4c315":"higestpayment=data.query('Cost_of_the_Product>=214')","b7c48a95":"ax = sns.countplot(x=\"Reached_on_Time\",data=higestpayment, palette=\"icefire\",hue=\"Reached_on_Time\")\nplt.ylabel(\"No. of customers\")\nplt.title(\"About 43.43% of the customer received their shipment on-time\")\n#plt.title(\"Identified the customer who rated 3\")\nax.text(-0.6, 3600, 'Identified customer who made payment higher than $214',fontsize=13,color='red')\ncount3=higestpayment['Reached_on_Time'].value_counts()\nprint(count3)\nhigestpayment['Reached_on_Time'].value_counts(normalize=True)*100","bd382115":"mostvaluablecustomer=data[(data['Customer_rating'] >= 3)&(data['Prior_purchases']>=6)&(data['Cost_of_the_Product']>=214)&(data['customerscore']>=data['customerscore'].median())]","895400ee":"ax = sns.countplot(x=\"Reached_on_Time\",data=mostvaluablecustomer, palette=\"icefire\",hue=\"Reached_on_Time\")\nplt.ylabel(\"No. of customers\")\nplt.title(\"About 47.56% of the customer received their shipment on-time\")\n#plt.title(\"Identified the customer who rated 3\")\nax.text(-0.3, 200, 'Identified most valuable customer',fontsize=13,color='red')\ncount4=mostvaluablecustomer['Reached_on_Time'].value_counts()\nprint(count4)\nmostvaluablecustomer['Reached_on_Time'].value_counts(normalize=True)*100","9814f5b3":"import seaborn as sb\nfrom matplotlib import pyplot as plt\nsb.countplot(x = \"Prior_purchases\", data = data, palette = \"hls\",hue=\"Reached_on_Time\");\nplt.title('Prior Puchase Vs Product Reached on time')\nplt.show()","6d6fc15f":"import seaborn as sb\nfrom matplotlib import pyplot as plt\nsb.countplot(x = \"Customer_rating\", data = data, palette = \"hls\",hue=\"Reached_on_Time\");\nplt.title('Customer Rating Vs Reached on-time')\nplt.show()","d7316f1f":"import seaborn as sb\nfrom matplotlib import pyplot as plt\nsb.countplot(x = \"Product_importance\", data = data, palette = \"hls\",hue=\"Reached_on_Time\");\nplt.title('Product Importance Vs Reached on time')\nplt.show()","1ad71e27":"import seaborn as sb\nfrom matplotlib import pyplot as plt\nsb.countplot(x = \"Gender\", data = data, palette = \"hls\",hue=\"Reached_on_Time\");\nplt.title('Gender Vs Reached on-time')\nplt.show()","dac04a07":"import seaborn as sb\nfrom matplotlib import pyplot as plt\nsb.countplot(x = \"Warehouse_block\", data = data, palette = \"hls\",hue=\"Reached_on_Time\",order = data['Warehouse_block'].value_counts().index);\nplt.title('Warehouse block Vs Reached on time')\nplt.show()","01e2e188":"import seaborn as sb\nfrom matplotlib import pyplot as plt\nsb.countplot(x = \"Mode_of_Shipment\", data = data, palette = \"hls\",hue=\"Reached_on_Time\");\nplt.title('Mode of shipment Vs Reached on-time')\nplt.show()","787add33":"sb.countplot(x = \"Customer_care_calls\", data = data, palette = \"hls\",hue=\"Reached_on_Time\");\nplt.title('Customer care calls Vs Reached on-time')\nplt.show()","ddb41c7b":"import matplotlib.pyplot as plt\n\nplt.hist(data['Cost_of_the_Product'], bins = 20)\nplt.title('Histogram of Cost Of Product')\nplt.xlabel('Cost_of_the_Product')","873b26c0":"### Having good Customer Rating","223b810c":"### Highest Payment Buyers","7e4fc5cf":"### Customer Score","1dfdac50":"# Basic Visulaization","a949788e":"### Pior purchased by Customer","918c1a9a":"### Plot of good Customer rating + shipment received time ","d8860c97":"### Valuble Customer","44d92d44":"### Product Reached on Time"}}