{"cell_type":{"7910e81b":"code","a917e5a5":"code","4069c3fe":"code","df79f723":"code","6ded133e":"code","48558228":"code","e77eb2de":"code","2f65482e":"code","dc46090e":"code","e6bacff8":"code","5da81c87":"code","ff004525":"code","d0cd80a4":"code","5a292679":"code","8fc9cab3":"markdown","077a53b4":"markdown","38e59429":"markdown","aceab6f6":"markdown","27d118a8":"markdown","fb8522b7":"markdown","fe75df10":"markdown","5fd8c311":"markdown","6299d1f9":"markdown"},"source":{"7910e81b":"import matplotlib.pyplot as plt\nimport pandas as pd\nimport seaborn as sns\nimport nltk\nimport wordcloud\n%matplotlib inline\nplt.style.use(\"ggplot\")\n\ndata = pd.read_csv(\"..\/input\/globalterrorismdb_0718dist.csv\",encoding='ISO-8859-1')","a917e5a5":"data.rename(columns={'iyear':'Year','imonth':'Month','iday':'Day','country_txt':'Country',\n                       'region_txt':'Region','attacktype1_txt':'AttackType','target1':'Target',\n                       'nkill':'Killed','nwound':'Wounded','summary':'Summary','gname':'Group',\n                       'targtype1_txt':'Target_type','weaptype1_txt':'Weapon_type',\n                       'motive':'Motive'},inplace=True)\ndata=data[['Year','Month','Day','Country','Region','city'\n               ,'AttackType','Killed','Wounded','Target','Group','Target_type',\n               'Weapon_type','Motive']]\n\ndata['Casualty'] = data['Killed'] + data['Wounded']","4069c3fe":"turkey_data=data[data[\"Country\"]==\"Turkey\"]\nturkey_data.reset_index(inplace=True)\nturkey_data.tail()\n","df79f723":"text = turkey_data[\"Motive\"].dropna().str.lower().str.replace(r'\\|', ' ').str.cat(sep=' ')\nwords=nltk.tokenize.word_tokenize(text)\nstopwords = nltk.corpus.stopwords.words('english')\nwords_except_stop_dist = nltk.FreqDist(w for w in words if w not in stopwords and w!=\"unknown\") \nwordcloud = wordcloud.WordCloud().generate(\" \".join(words_except_stop_dist))\nfig = plt.subplots(figsize=(12,8))\nplt.imshow(wordcloud,interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()","6ded133e":"plt.subplots(figsize=(15,6))\nsns.countplot(\"Year\",data=turkey_data,palette=\"inferno\")\nplt.xticks(rotation=60)\nplt.title(\"Number of Terorist Activities Each Year in Turkey\")\nplt.show()","48558228":"most_citites=turkey_data.groupby(\"city\")[\"Killed\"].sum().to_frame()\nmost_citites=most_citites.sort_values(\"Killed\",ascending=False)[1:15]\nplt.subplots(figsize=(12,8))\nsns.barplot(most_citites.index,most_citites.Killed,palette=\"inferno\")\nplt.title(\"Total Terrorist Activity by Cities\")\nplt.xticks(rotation=60)\nplt.xticks(fontsize=12)\nplt.show()","e77eb2de":"print(\"City with highest terrorist atack in Turkey :\",turkey_data[\"city\"].value_counts().index[0],\"Total people died :\",\n     turkey_data[turkey_data[\"city\"]==\"Istanbul\"][\"Killed\"].sum(),\"Total casualites :\"\n      ,turkey_data[turkey_data[\"city\"]==\"Istanbul\"][\"Casualty\"].sum())","2f65482e":"istanbul_data = turkey_data[turkey_data[\"city\"]==\"Istanbul\"]\n\nplt.subplots(figsize=(12,8))\nsns.countplot(\"Year\",data=istanbul_data)\nplt.xticks(rotation=60)\nplt.title(\"Number of Terrorist Activities Each Year in Istanbul\")\nplt.show()","dc46090e":"plt.subplots(figsize=(12,8))\nsns.countplot(\"AttackType\",data=turkey_data,palette=\"RdYlGn\",order=turkey_data.AttackType.value_counts().index)\nplt.xticks(rotation=60)\nplt.xticks(fontsize=12)\nplt.show()","e6bacff8":"city = turkey_data[\"city\"].value_counts().drop(\"Unknown\")[0:10].index\ncity = turkey_data[turkey_data[\"city\"].isin(city)]\npd.crosstab(city.city,city.AttackType).plot.barh(stacked=True,width=1,color=sns.color_palette(\"RdYlGn\",9))\nfig = plt.gcf()\nfig.set_size_inches(12,8)\nplt.yticks(fontsize=12)\nplt.show()","5da81c87":"plt.subplots(figsize=(12,8))\nsns.countplot(\"Target_type\",data=turkey_data,palette=\"RdYlGn\",order=turkey_data.Target_type.value_counts().index)\nplt.title(\"Targets\")\nplt.xticks(rotation=90)\nplt.xticks(fontsize=12)\nplt.show()","ff004525":"groups = turkey_data[\"Group\"].value_counts().drop(\"Unknown\").index[:6]\ngroups = turkey_data[turkey_data[\"Group\"].isin(groups)]\nplt.subplots(figsize=(12,8))\nsns.countplot(\"Group\",data=groups,order=groups.Group.value_counts().index,palette=\"inferno\")\nplt.xticks(rotation=90)\nplt.xticks(fontsize=12)\nplt.show()","d0cd80a4":"pkk = turkey_data[turkey_data.Group == \"Kurdistan Workers' Party (PKK)\"]\nplt.subplots(figsize=(12,8))\nattack=pkk.city.value_counts().drop(\"Unknown\")[:10]\nsns.barplot(attack.index,attack.values,palette=\"inferno\")\nplt.title(\"Cities Where pkk did Most Attacks\")\nplt.xticks(rotation=45)\nplt.xticks(fontsize=12)\nplt.show()","5a292679":"weapon_type= turkey_data[\"Weapon_type\"].value_counts().index[:5]\nweapon_type = turkey_data[turkey_data[\"Weapon_type\"].isin(weapon_type)]\nplt.subplots(figsize=(12,8))\nsns.countplot(\"Weapon_type\",data=weapon_type,palette=\"inferno\")\nplt.xticks(fontsize=12)\nplt.xticks(rotation=60)\nplt.xlabel(\"Weapon_type\", fontsize=15)\nplt.ylabel(\"Count\",fontsize=15)\nplt.show()","8fc9cab3":"# Target type","077a53b4":"# Number of Terorist Activities Each Year in Turkey","38e59429":"We changed the column names to make it easier to review","aceab6f6":"# Attack Type","27d118a8":"# Used weapon types","fb8522b7":"# Wordcloud","fe75df10":"# The most notorious groups","5fd8c311":"# Most attacked cities by pkk\n","6299d1f9":"# Total Terrorist Activity by Cities"}}