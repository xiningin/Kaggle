{"cell_type":{"ede3a5ee":"code","7555f294":"code","ec868c7e":"code","4f861531":"code","b49386fa":"code","d9759d91":"code","949823a7":"code","924a96e0":"code","c2d00920":"code","b1139e01":"code","c4c90aed":"code","00081631":"code","dae6e0c4":"code","fac995d4":"code","ca3acc11":"code","f58708f7":"code","0d11bc37":"code","a793b302":"code","c5046d18":"code","9ba50bc6":"code","89ee1552":"code","bf8f8cfb":"code","a5b86729":"code","613f2b1b":"code","9f0a1b30":"code","251414c4":"code","fbbfa5e6":"code","49b96a10":"code","8658285e":"code","1bcee78f":"code","031341b0":"code","052f1c5f":"code","61ea6720":"code","027c74e6":"code","c5484774":"code","8f2f66b2":"code","212c9183":"code","e961b05f":"code","d55e5fb0":"code","00983ce8":"code","9c6aef3f":"code","1a8934b6":"code","d6f8b72c":"code","77716530":"code","0205a017":"code","fa9d77ed":"code","9d05cc33":"code","2c41b7a1":"code","06bc53ae":"code","39f327a4":"code","57857ef6":"code","10f4b42a":"code","5fe3d418":"code","3cbf192a":"code","3be05a4d":"code","01daa315":"code","7ff64882":"markdown","a0c65097":"markdown","81041025":"markdown","1a65668c":"markdown","31c909e6":"markdown","0c27a0fa":"markdown","bf10bc52":"markdown","2ef2f371":"markdown","ade74cca":"markdown","f19517d4":"markdown","ad998ef3":"markdown","ad583d70":"markdown","953f2dcb":"markdown","a2661075":"markdown","b703d245":"markdown","99fca06f":"markdown","85edffa0":"markdown","acf5b59c":"markdown","f4e0fbe9":"markdown","47b55dfe":"markdown","ce8b57a1":"markdown","fc3974b4":"markdown","8ebed57c":"markdown","8d49edd8":"markdown","3f51a70a":"markdown","6f7757b7":"markdown","ed842f68":"markdown","2f8c490c":"markdown","74cc4ac8":"markdown","82b752e7":"markdown","f261074d":"markdown","f1c95a8e":"markdown","b436e7cd":"markdown","979d96aa":"markdown"},"source":{"ede3a5ee":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7555f294":"from sklearn.compose import make_column_transformer\nfrom sklearn.pipeline import make_pipeline\nfrom sklearn import set_config\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import OneHotEncoder,LabelEncoder,StandardScaler,OrdinalEncoder\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import accuracy_score,plot_confusion_matrix,recall_score,precision_score\nimport seaborn as sns\nfrom sklearn.svm import SVC\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom imblearn.over_sampling import SMOTE\nfrom imblearn.pipeline import make_pipeline\nimport matplotlib.pyplot as plt","ec868c7e":"data = pd.read_csv('\/kaggle\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')\ndata.head()","4f861531":"data.describe()","b49386fa":"data.isnull().sum()","d9759d91":"data.shape","949823a7":"data.status.value_counts()","924a96e0":"data.salary = data.salary.fillna(0)\ndata.isnull().sum()","c2d00920":"sns.heatmap(data.corr(),annot=True)","b1139e01":"sns.distplot(data.salary)","c4c90aed":"sns.countplot(data.gender)","00081631":"sns.countplot(data.hsc_s)","dae6e0c4":"only_sci = data[data.hsc_s==\"Science\"]\nsns.countplot(only_sci.degree_t)","fac995d4":"sns.countplot(only_sci[only_sci.degree_t==\"Others\"].specialisation)","ca3acc11":"sns.pairplot(data,hue='specialisation')","f58708f7":"sns.pairplot(data=data, hue='gender')","0d11bc37":"data.groupby('status').sum()","a793b302":"data.groupby('specialisation').mean()['salary'].sort_values(ascending=False)","c5046d18":"data.groupby('hsc_s').count()['status'].sort_values(ascending=False)","9ba50bc6":"data.groupby('hsc_s').mean()['salary'].sort_values(ascending=False)","89ee1552":"sns.regplot(data.degree_p,data.salary)","bf8f8cfb":"sns.regplot(data.ssc_p,data.salary)","a5b86729":"sns.regplot(data.hsc_p,data.salary)","613f2b1b":"data.groupby('ssc_b').count()['status'].sort_values(ascending=False)","9f0a1b30":"data.groupby('ssc_b').mean()['salary'].sort_values(ascending=False)","251414c4":"data.groupby('workex').count()['status'].sort_values(ascending=False)","fbbfa5e6":"data.groupby('workex').mean()['salary'].sort_values(ascending=False)","49b96a10":"sns.boxplot(data=data)","8658285e":"data = data.drop(columns=['sl_no','salary'])\nx = data.iloc[:,:-1]\nx.head()","1bcee78f":"y=data[['status']]\ny.head()","031341b0":"y.status = LabelEncoder().fit_transform(y.status)\ny.head()","052f1c5f":"x_train,x_test,y_train,y_test = train_test_split(x,y,test_size=0.3)\n","61ea6720":"x_test.shape","027c74e6":"x_train.head()","c5484774":"trans_nom = make_column_transformer((OneHotEncoder(sparse=False),[0,5,7,10]),\n                                    (OrdinalEncoder(),[2,4,8]),\n                                    remainder=\"passthrough\")","8f2f66b2":"trans_nom.fit_transform(x_train)","212c9183":"model = LogisticRegression(solver='liblinear')","e961b05f":"set_config(display='diagram')\npipe = make_pipeline(trans_nom, model)\npipe","d55e5fb0":"data.gender.unique()","00983ce8":"pipe.fit(x_train,y_train)","9c6aef3f":"x_train.shape","1a8934b6":"pred = pipe.predict(x_test)\naccuracy_score(pred,y_test)*100","d6f8b72c":"new_data = pd.DataFrame(np.array(['M',67.00,'Central',71.0,'Central','Science',64.33,'Others','Yes',64.00,'Mkt&HR',61.26], dtype=object).reshape(1,12), columns=x.columns)\n\npipe.predict(new_data)","77716530":"model_svc = SVC()\npipe_svc = make_pipeline(trans_nom, model_svc)\npipe.fit(x_train,y_train)\npred = pipe.predict(x_test)\naccuracy_score(pred,y_test)*100","0205a017":"model_knn = KNeighborsClassifier(n_neighbors = 3)\npipe_knn = make_pipeline(trans_nom, model_knn)\npipe.fit(x_train,y_train)\npred = pipe.predict(x_test)\naccuracy_score(pred,y_test)*100","fa9d77ed":"plot_confusion_matrix(pipe, x_test, y_test)","9d05cc33":"data.status.value_counts()","2c41b7a1":"sns.countplot(data.status)","06bc53ae":"# !pip install imblearn","39f327a4":"y.status.value_counts()","57857ef6":"from imblearn.over_sampling import RandomOverSampler\n\noversamp = RandomOverSampler()\n\nx_over,y_over = oversamp.fit_resample(x,y)\n\ny_over.status.value_counts()","10f4b42a":"from imblearn.under_sampling import RandomUnderSampler\n\nundersamp = RandomUnderSampler()\n\nx_under, y_under = undersamp.fit_resample(x,y)\n\ny_under.status.value_counts()","5fe3d418":"set_config(display='diagram')\n\nsmote = SMOTE()\n\npipe_new_lr = make_pipeline(trans_nom, smote, model)\n\npipe_new_lr.fit(x_train,y_train)\npred = pipe_new_lr.predict(x_test)\nprint(\"Accuracy score for Logistic Regression : \",accuracy_score(pred,y_test)*100)\n\npipe_new_lr","3cbf192a":"smote = SMOTE()\n\npipe_new_svc = make_pipeline(trans_nom, smote, model_svc)\n\npipe_new_svc.fit(x_train,y_train)\npred = pipe_new_svc.predict(x_test)\naccuracy_score(pred,y_test)*100","3be05a4d":"smote = SMOTE()\n\npipe_new_knn = make_pipeline(trans_nom, smote, model_knn)\n\npipe_new_knn.fit(x_train,y_train)\npred = pipe_new_knn.predict(x_test)\naccuracy_score(pred,y_test)*100","01daa315":"plot_confusion_matrix(pipe_new_lr, x_test, y_test,cmap=plt.cm.Blues)","7ff64882":"**Gender Gap**","a0c65097":"This is a classic case of Imbalanced dataset.\nNow next we will move on to balance it.","81041025":"SVC model ","1a65668c":"But Science students earn more salary than anyone else according to this data.","31c909e6":"**Box plot to get the Outliers**","0c27a0fa":"**Is Central better or Others ???**","bf10bc52":"However we got around 92% accuracy. It doesnt paint a great picture abt the overall performance of this data since the number of placed students are way more than candidates who are not placed as we can see below.","2ef2f371":"We can clearly see that average salary in Finance is more than HR.\n\n\nWe will now see which stream in hsc will get you a better chance of placement as well as salary","ade74cca":"UNDER-SAMPLING","f19517d4":"But candidates with work experience earn more :D.","ad998ef3":"Detailed count of all students seperated based on placement status","ad583d70":"**Salary distribution**\n\nSalary distribution seems somewhat multimodal because one of the mode gets occupied by the mode of placed and rest by the zero salaried non placed candidates.","953f2dcb":"Central students gets placed more.","a2661075":"KNN Model","b703d245":"Secondary school percentage also related to salary but can it be attributed to better stream selection following secondary school?","99fca06f":"**Does the Accuracy Really Give a Good Picture ???**","85edffa0":"****Confusion Matrix****","acf5b59c":"Relationship between degree percentage and salary","f4e0fbe9":"Confusion matrix for best model (Logistic Regression)","47b55dfe":"KNN model","ce8b57a1":"Let us now see which specialization gets more average salary","fc3974b4":"People with work experience get placed less and vice versa .","8ebed57c":"Installing Imblearn ","8d49edd8":"**Specialization taken by Science Students**","3f51a70a":"Logistic Regression Confusion Matrix","6f7757b7":"Commerce students get placed more and next comes Science followed by Arts","ed842f68":"But Others earn more on average","2f8c490c":"**Does work Experience Matter ???**","74cc4ac8":"**Stream Selection by Candidates**","82b752e7":"OVER-SAMPLING","f261074d":"**Correlation Heatmap**","f1c95a8e":"Logistic Regression Model after balancing dataset","b436e7cd":"SVC Model","979d96aa":"As degree percentage increases salary generally increases.\nwe will see if there is any such relationship with high school and secondary school percentages."}}