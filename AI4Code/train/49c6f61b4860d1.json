{"cell_type":{"4f09db23":"code","75a3cdd5":"code","fff55bd4":"code","fa4155df":"code","1e5e0eb9":"code","3b0f9e27":"code","3e210eb0":"code","b7f0951c":"code","4507ad58":"code","fc578ddf":"code","61c55a0a":"code","382e5935":"code","6d4598ec":"code","47aabab2":"code","af9dd534":"code","43d092d3":"code","21e4451b":"code","726b7205":"code","dc4acdac":"code","86e6ab33":"code","3e647e9d":"code","1847d8b9":"code","3939e692":"markdown","3f89ef96":"markdown","623afb64":"markdown","072d9993":"markdown","b54b9eec":"markdown","0ee2dbf9":"markdown","64c424dc":"markdown"},"source":{"4f09db23":"import pandas as pd \nimport numpy as np\n\nfrom wordcloud import WordCloud # for wordclouds\nimport re\nimport sklearn\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nfrom sklearn.preprocessing import LabelEncoder\nfrom nltk.stem import PorterStemmer\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.svm import SVC\nfrom sklearn.metrics import accuracy_score,confusion_matrix\nfrom sklearn.linear_model import SGDClassifier\nfrom sklearn.ensemble import GradientBoostingClassifier\nfrom sklearn.naive_bayes import MultinomialNB\nimport pickle\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns","75a3cdd5":"data = pd.read_csv('..\/input\/data-scientist-job-market-in-the-us\/alldata.csv')\nprint(data.shape)\ndata.head()","fff55bd4":"data.isnull().sum()","fa4155df":"positions = data['position'].value_counts()\ntop = list(positions.index)[:20]\ntop","1e5e0eb9":"data['location'].nunique()","3b0f9e27":"print(data['position'].value_counts())","3e210eb0":"data['position'].value_counts().head(25).plot.bar()","b7f0951c":"positions_text = \" \".join(data['position'].dropna().to_list())\nwordcloud = WordCloud(max_font_size=50, max_words=100, background_color=\"white\").generate(positions_text)\n  \n# plot the WordCloud image                        \nplt.imshow(wordcloud) \nplt.axis(\"off\") \nplt.tight_layout(pad = 0) \n  \nplt.show() ","4507ad58":"data['company'].nunique()","fc578ddf":"data['company'].value_counts().head(30)","61c55a0a":"positions_text = \" \".join(data['company'].dropna().to_list())\nwordcloud = WordCloud(max_font_size=50, max_words=100, background_color=\"white\").generate(positions_text)\n  \n# plot the WordCloud image                        \nplt.imshow(wordcloud) \nplt.axis(\"off\") \nplt.tight_layout(pad = 0) \n  \nplt.show() ","382e5935":"data['company'].value_counts().head(15).sort_values().plot.barh(figsize = (10,6))","6d4598ec":"description = data['description']","47aabab2":"description[0]","af9dd534":"#there are so many job profiles in teh given dataset so lets Categories them into 5; Data Scientist, Machine Learning Engineer, Data Analyst, Data Science Manager and Others\n\n# Creating only 5 datascience roles among all\ndata2 = data.copy()\ndata2.dropna(subset=['position'], how='all', inplace = True)\ndata2['position']=[x.upper() for x in data2['position']]\ndata2['description']=[x.upper() for x in data2['description']]\n\ndata2.loc[data2.position.str.contains(\"SCIENTIST\"), 'position'] = 'Data Scientist'\n\ndata2.loc[data2.position.str.contains('ENGINEER'),'position']='Machine Learning Engineer'\ndata2.loc[data2.position.str.contains('PRINCIPAL STATISTICAL PROGRAMMER'),'position']='Machine Learning Engineer'\ndata2.loc[data2.position.str.contains('PROGRAMMER'),'position']='Machine Learning Engineer'\ndata2.loc[data2.position.str.contains('DEVELOPER'),'position']='Machine Learning Engineer'\n\ndata2.loc[data2.position.str.contains('ANALYST'), 'position'] = 'Data Analyst'\ndata2.loc[data2.position.str.contains('STATISTICIAN'), 'position'] = 'Data Analyst'\n\ndata2.loc[data2.position.str.contains('MANAGER'),'position']='Data Science Manager'\ndata2.loc[data2.position.str.contains('CONSULTANT'),'position']='Data Science Manager'\ndata2.loc[data2.position.str.contains('DATA SCIENCE'),'position']='Data Science Manager'\ndata2.loc[data2.position.str.contains('DIRECTOR'),'position']='Data Science Manager'\n\ndata2.position=data2[(data2.position == 'Data Scientist') | (data2.position == 'Data Analyst') | (data2.position == 'Machine Learning Engineer') | (data2.position == 'Data Science Manager')]\ndata2.position=['Others' if x is np.nan else x for x in data2.position]\n\nposition=data2.groupby(['position'])['company'].count()   \nposition=position.reset_index(name='company')\nposition=position.sort_values(['company'],ascending=False)\n\nprint('Here is  the count of each new roles we created :', '\\n\\n', position)","43d092d3":"\n\n# Next Part in ML Algorithm is Data Cleansing\nX=data2.description\nY=data2.position\n\nX=[re.sub(r\"[^a-zA-Z0-9]+\", ' ', k) for k in X]\nX=[re.sub(\"[0-9]+\",' ',k) for k in X]\n\n#applying stemmer\nps =PorterStemmer()\nX=[ps.stem(k) for k in X]\n\n#Note: I have not removed stop words because there are important key words mentioned in job description which are of length 2, I feel they have weightage while classifing\ntfidf=TfidfVectorizer()\nlabel_enc=LabelEncoder()\n\nX=tfidf.fit_transform(X)\nY=label_enc.fit_transform(Y)\n\n\n\nx_train,x_test,y_train,y_test=train_test_split(X,Y,stratify=Y,test_size=0.3)","21e4451b":"#exporting the tfidf encoder\npickle.dump(tfidf, open(\"tfidf1.pkl\", \"wb\"))\n\n\n#exporting the label encoder\npickle.dump(label_enc, open('Departure_encoder.pkl', 'wb'))","726b7205":"# #first algorithm SVM\n# #SVM classification\n# svm=SVC(kernel='rbf')\n# svm.fit(x_train,y_train)\n\n# svm_y=svm.predict(x_test)\n\n# print('Accuracy of SVM :', accuracy_score(y_test,svm_y))\n# print ('Confusion Matrix of SVM : ', '\\n\\n', confusion_matrix(y_test,svm_y))\n\n# #crossfold Validation of 7 folds for SVM\n# cross_val_SVM=sklearn.model_selection.cross_validate(svm, x_train, y=y_train,cv=7)\n\n# print ('SVM Train fit score is : ', '\\n\\n', cross_val_SVM['train_score'])\n# print ('SVM TEST score is : ', '\\n\\n', cross_val_SVM['test_score'])","dc4acdac":"#Naive Bayes classification\nNB=MultinomialNB()\nNB.fit(x_train,y_train)\nNB_y=NB.predict(x_test)\n\nprint('Accuracy of NB :', accuracy_score(y_test,NB_y))\nprint ('Confusion Matrix of NB : ', '\\n\\n', confusion_matrix(y_test,NB_y))\n\n#crossfold Validation of 7 folds for NB\ncross_val_NB=sklearn.model_selection.cross_validate(NB, x_train, y=y_train,cv=7)\n\nprint ('NB Train fit score is : ', '\\n\\n', cross_val_NB['fit_time'])\nprint ('NB TEST score is : ', '\\n\\n', cross_val_NB['test_score'])","86e6ab33":"#3rd Classifier SGDC\n#SGD classification\nsgd=SGDClassifier()\nsgd.fit(x_train,y_train)\nsgd_y=sgd.predict(x_test)\n\nprint('Accuracy of SGD :', accuracy_score(y_test,sgd_y))\nprint ('Confusion Matrix of SGD : ', '\\n\\n', confusion_matrix(y_test,sgd_y))\n\n#crossfold Validation of 7 folds for SGD\ncross_val_SGD=sklearn.model_selection.cross_validate(sgd, x_train, y=y_train,cv=7)\n\nprint ('SGD Train fit score is : ', '\\n\\n', cross_val_SGD ['fit_time'])\nprint ('SGD TEST score is : ', '\\n\\n', cross_val_SGD ['test_score'])","3e647e9d":"with open('clf.pkl', 'wb') as f:\n    pickle.dump(sgd, f)","1847d8b9":"# #4th Classifier \n# #XGBOOST classification\n# xgboost=GradientBoostingClassifier(n_estimators=90)\n# xgboost.fit(x_train,y_train)\n# xgboost_y=xgboost.predict(x_test)\n\n# print('Accuracy of XGBOOST :', accuracy_score(y_test,xgboost_y))\n# print ('Confusion Matrix of XGBOOST : ', '\\n\\n', confusion_matrix(y_test,xgboost_y))\n\n# #crossfold Validation of 7 folds for SGD\n# cross_val_xgboost=sklearn.model_selection.cross_validate(xgboost, x_train, y=y_train,cv=7)\n\n# print ('XGBOOST Train fit score is : ', '\\n\\n', cross_val_xgboost ['train_score'])\n# print ('XGBOOST TEST score is : ', '\\n\\n', cross_val_xgboost ['test_score']) ","3939e692":"\n- Who gets hired? What kind of talent do employers want when they are hiring a data scientist?\n- Which location has the most opportunities?\n- What skills, tools, degrees or majors do employers want the most for data scientists?\n- What's the difference between data scientist, data engineer and data analyst?\n- Can you develop an efficient classification algorithm to differentiate the three job types above?\n","3f89ef96":"## Company","623afb64":"# Creating job classifier","072d9993":"### What are the top positions?","b54b9eec":"## Description","0ee2dbf9":"## Exploration","64c424dc":"# Data Scientist Job Market in the United States "}}