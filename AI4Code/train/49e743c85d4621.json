{"cell_type":{"c84c083b":"code","e5eb71ed":"code","aa745821":"code","fa566e8c":"code","a73c92f4":"code","0b3b8309":"code","30fb196f":"code","521cd44b":"code","0b9f4261":"code","1cba73cf":"code","d5bba291":"code","6f06005d":"code","92f1824b":"code","13ffeeaf":"code","3662f76b":"code","e58f5528":"code","e790fcfc":"code","f7d10dc4":"code","88e5b028":"code","dd191905":"code","d6cd72ea":"code","88dea6ec":"code","c2601f5e":"code","fdd1a01a":"code","85e435f3":"code","7598a7e7":"code","72848019":"code","c441c73c":"code","3e78085e":"code","f8c8223c":"code","f65a2029":"code","47a4d7a2":"code","899e36f6":"code","589deda0":"code","a5aafa97":"code","1e8dd4bb":"code","74212432":"code","41dd883b":"code","aa6cb56d":"code","108b11f6":"code","45e5b5d7":"code","9a081df1":"code","a720cfcd":"code","1d8c89cd":"code","8e07ff16":"code","f31edb9a":"code","86a0a7f3":"code","94b43bd9":"code","d728d3d4":"code","46d10c4f":"code","ffb2cc17":"code","1562b50a":"code","15c393a7":"code","45c67017":"code","eb556f53":"code","30029847":"code","e7a901fb":"code","b85c6246":"code","5e21f05c":"code","859d8869":"code","5e3b5e36":"code","0a8db8f7":"code","fd58b045":"code","e4f081f6":"code","ad49bb37":"code","39354742":"code","88924867":"code","c672eb0c":"code","c571cf0f":"code","2adaf216":"code","d0e64405":"code","74c4886e":"code","c6037767":"code","9526aa26":"code","14510b26":"markdown","efd45b30":"markdown","ea5fdeef":"markdown","02000e76":"markdown","fe059987":"markdown","8bf6b993":"markdown","137fb675":"markdown","8d015e53":"markdown","ef41db9e":"markdown","a13dd49c":"markdown","a4236c3b":"markdown","f1e34384":"markdown","28044b60":"markdown","03d7691b":"markdown","55defd16":"markdown","95feecab":"markdown","cf2e32d7":"markdown","ea0b0745":"markdown","cdb5a51f":"markdown","927d95d4":"markdown","d01b1f76":"markdown","69699b9d":"markdown","290aa227":"markdown","2324bc70":"markdown","e6ed6800":"markdown","c1befc5f":"markdown","16b34451":"markdown","17200c95":"markdown","d0227d9b":"markdown","9461ca26":"markdown","9f3c13bb":"markdown","2942f77e":"markdown","6ad2d220":"markdown","14174f84":"markdown","77e4427b":"markdown","11dea58f":"markdown","108f371b":"markdown","baf64cac":"markdown","a5da0d5e":"markdown","129ed685":"markdown","dd9807e3":"markdown","e33ce972":"markdown","8316e61a":"markdown","a93c0475":"markdown","e5207b29":"markdown","bdf828f6":"markdown","d8b4a79a":"markdown","d8daf48d":"markdown","69465880":"markdown","4328ef50":"markdown","ef5423f5":"markdown","9460629f":"markdown","341a1348":"markdown","0d9900ea":"markdown","b642b7e9":"markdown","2a18ebee":"markdown","b29af8a5":"markdown","bca98039":"markdown","bb94e94b":"markdown","da5c4c9c":"markdown","0043dda7":"markdown","b8785068":"markdown","0d9b4453":"markdown","7ea4e531":"markdown","ed51d0d2":"markdown","82f95744":"markdown","d589337a":"markdown","453cbaa5":"markdown","171d5b13":"markdown","80766fa4":"markdown","d6463825":"markdown","8bd1971f":"markdown","5ead5e3f":"markdown","26afadaa":"markdown","1a2eb377":"markdown","1398fcff":"markdown","681da26b":"markdown","44cf1a13":"markdown","b17d5f4d":"markdown","f9110865":"markdown"},"source":{"c84c083b":"import pandas as pd\nimport numpy as np\nimport datetime\nimport matplotlib.pyplot as plt","e5eb71ed":"from pandas_datareader import data as pdr\nimport fix_yahoo_finance\n\naapl = pdr.get_data_yahoo('AAPL', \n                          start=datetime.datetime(2006, 10, 1), \n                          end=datetime.datetime(2012, 1, 1))\naapl.head()","aa745821":"import quandl \naapl = quandl.get(\"WIKI\/AAPL\", start_date=\"2006-10-01\", end_date=\"2012-01-01\")\naapl.head()","fa566e8c":"aapl = pd.read_csv(\"https:\/\/s3.amazonaws.com\/assets.datacamp.com\/blog_assets\/aapl.csv\", header=0, index_col= 0, names=['Open', 'High', 'Low', 'Close', 'Volume', 'Adj Close'], parse_dates=True)","a73c92f4":"aapl.index","0b3b8309":"aapl.columns","30fb196f":"ts = aapl['Close'][-10:]","521cd44b":"type(ts)","0b9f4261":"print(aapl.loc[pd.Timestamp('2006-11-01'):pd.Timestamp('2006-12-31')].head())","1cba73cf":"print(aapl.loc['2007'].head())","d5bba291":"print(aapl.iloc[22:43])","6f06005d":"print(aapl.iloc[[22,43], [0, 3]])","92f1824b":"sample = aapl.sample(20)\nprint(sample)","13ffeeaf":"monthly_aapl = aapl.resample('M').interpolate()\nprint(monthly_aapl.head(10))","3662f76b":"aapl['diff'] = aapl.Open - aapl.Close","e58f5528":"del aapl['diff']","e790fcfc":"import matplotlib.pyplot as plt","f7d10dc4":"aapl['Close'].plot(grid=True)\n\nplt.show()","88e5b028":"daily_close = aapl[['Adj Close']]","dd191905":"daily_close = aapl[['Adj Close']]","d6cd72ea":"daily_pct_c = daily_close.pct_change()","88dea6ec":"daily_pct_c.fillna(0, inplace=True)","c2601f5e":"print(daily_pct_c.head(10))","fdd1a01a":"daily_log_returns = np.log(daily_close.pct_change()+1)\n\nprint(daily_log_returns.head(10))","85e435f3":"monthly = aapl.resample('BM').apply(lambda x: x[-1])","7598a7e7":"monthly.pct_change().head(10)","72848019":"quarter = aapl.resample(\"4M\").mean()","c441c73c":"quarter.pct_change()","3e78085e":"daily_pct_c = daily_close \/ daily_close.shift(1) - 1\n\nprint(daily_pct_c.head(10))","f8c8223c":"import matplotlib.pyplot as plt\n\ndaily_pct_c.hist(bins=50)\nplt.show()\nprint(daily_pct_c.describe())","f65a2029":"cum_daily_return = (1 + daily_pct_c).cumprod()\nprint(cum_daily_return.tail()) ","47a4d7a2":"cum_daily_return.plot(figsize=(12,8))\nplt.show()","899e36f6":"cum_monthly_return = cum_daily_return.resample(\"M\").mean()\nprint(cum_monthly_return.tail())","589deda0":"from pandas_datareader import data as pdr\nimport fix_yahoo_finance\n\ndef get(tickers, startdate, enddate):\n    def data(ticker):\n        return (pdr.get_data_yahoo(ticker, start=startdate, end=enddate))\n    datas = map (data, tickers)\n    return(pd.concat(datas, keys=tickers, names=['Ticker', 'Date']))\n\ntickers = ['AAPL', 'MSFT', 'IBM', 'GOOG']\nall_data = get(tickers, datetime.datetime(2006, 10, 1), datetime.datetime(2012, 1, 1))\nall_data.head()","a5aafa97":"#all_data = pd.read_csv(\"https:\/\/s3.amazonaws.com\/assets.datacamp.com\/blog_assets\/all_stock_data.csv\", index_col= [0,1], header=0, parse_dates=[1])","1e8dd4bb":"daily_close_px = all_data[['Adj Close']].reset_index().pivot('Date', 'Ticker', 'Adj Close')\n\n# Calculate the daily percentage change for `daily_close_px`\ndaily_pct_change = daily_close_px.pct_change()\n\n# Plot the distributions\ndaily_pct_change.hist(bins=50, sharex=True, figsize=(12,8))\n\n# Show the resulting plot\nplt.show()","74212432":"pd.plotting.scatter_matrix(daily_pct_change, diagonal='kde', alpha=0.1,figsize=(12,12))\nplt.show()","41dd883b":"adj_close_px = aapl['Adj Close']\nmoving_avg = adj_close_px.rolling(window=40).mean()\nmoving_avg[-10:]","aa6cb56d":"aapl['42'] = adj_close_px.rolling(window=40).mean()\naapl['252'] = adj_close_px.rolling(window=252).mean()\naapl[['Adj Close', '42', '252']].plot()\n\nplt.show()","108b11f6":"min_periods = 75 \nvol = daily_pct_change.rolling(min_periods).std() * np.sqrt(min_periods) \nvol.plot(figsize=(10, 8))\nplt.show()","45e5b5d7":"import statsmodels.api as sm\nfrom pandas import tseries\nfrom pandas.core import datetools","9a081df1":"all_adj_close = all_data[['Adj Close']]","a720cfcd":"all_returns = np.log(all_adj_close \/ all_adj_close.shift(1))","1d8c89cd":"aapl_returns = all_returns.iloc[all_returns.index.get_level_values('Ticker') == 'AAPL']\naapl_returns.index = aapl_returns.index.droplevel('Ticker')","8e07ff16":"msft_returns = all_returns.iloc[all_returns.index.get_level_values('Ticker') == 'MSFT']\nmsft_returns.index = msft_returns.index.droplevel('Ticker')","f31edb9a":"return_data = pd.concat([aapl_returns, msft_returns], axis=1)[1:]\nreturn_data.columns = ['AAPL', 'MSFT']","86a0a7f3":"X = sm.add_constant(return_data['AAPL'])","94b43bd9":"model = sm.OLS(return_data['MSFT'],X).fit()\nprint(model.summary())","d728d3d4":"plt.plot(return_data['AAPL'], return_data['MSFT'], 'r.')\n\nax = plt.axis()\nx = np.linspace(ax[0], ax[1] + 0.01)\n\nplt.plot(x, model.params[0] + model.params[1] * x, 'b', lw=2)\n\nplt.grid(True)\nplt.axis('tight')\nplt.xlabel('Apple Returns')\nplt.ylabel('Microsoft returns')\n\nplt.show()","46d10c4f":"return_data['MSFT'].rolling(window=252).corr(return_data['AAPL']).plot()\nplt.show()","ffb2cc17":"short_window = 40\nlong_window = 100","1562b50a":"signals = pd.DataFrame(index=aapl.index)\nsignals['signal'] = 0.0","15c393a7":"signals['short_mavg'] = aapl['Close'].rolling(window=short_window, min_periods=1, center=False).mean()","45c67017":"signals['long_mavg'] = aapl['Close'].rolling(window=long_window, min_periods=1, center=False).mean()","eb556f53":"signals['signal'][short_window:] = np.where(signals['short_mavg'][short_window:] \n                                            > signals['long_mavg'][short_window:], 1.0, 0.0)  ","30029847":"signals['positions'] = signals['signal'].diff()","e7a901fb":"fig = plt.figure()\nax1 = fig.add_subplot(111,  ylabel='Price in $')\naapl['Close'].plot(ax=ax1, color='r', lw=2.)\nsignals[['short_mavg', 'long_mavg']].plot(ax=ax1, lw=2.)\nax1.plot(signals.loc[signals.positions == 1.0].index, \n         signals.short_mavg[signals.positions == 1.0],\n         '^', markersize=10, color='m')\nax1.plot(signals.loc[signals.positions == -1.0].index, \n         signals.short_mavg[signals.positions == -1.0],\n         'v', markersize=10, color='k')\nplt.show()","b85c6246":"initial_capital= float(100000.0)","5e21f05c":"positions = pd.DataFrame(index=signals.index).fillna(0.0)","859d8869":"positions['AAPL'] = 100*signals['signal']   ","5e3b5e36":"portfolio = positions.multiply(aapl['Adj Close'], axis=0)","0a8db8f7":"pos_diff = positions.diff()","fd58b045":"portfolio['holdings'] = (positions.multiply(aapl['Adj Close'], axis=0)).sum(axis=1)","e4f081f6":"portfolio['cash'] = initial_capital - (pos_diff.multiply(aapl['Adj Close'], axis=0)).sum(axis=1).cumsum() ","ad49bb37":"portfolio['total'] = portfolio['cash'] + portfolio['holdings']","39354742":"portfolio['returns'] = portfolio['total'].pct_change()","88924867":"fig = plt.figure()\n\nax1 = fig.add_subplot(111, ylabel='Portfolio value in $')\n\nportfolio['total'].plot(ax=ax1, lw=2.)\n\nax1.plot(portfolio.loc[signals.positions == 1.0].index, \n         portfolio.total[signals.positions == 1.0],\n         '^', markersize=10, color='m')\n\nax1.plot(portfolio.loc[signals.positions == -1.0].index, \n         portfolio.total[signals.positions == -1.0],\n         'v', markersize=10, color='k')\n\nplt.show()","c672eb0c":"returns = portfolio['returns']","c571cf0f":"sharpe_ratio = np.sqrt(252) * (returns.mean() \/ returns.std())\n\nprint(sharpe_ratio)","2adaf216":"window = 252","d0e64405":"rolling_max = aapl['Adj Close'].rolling(window, min_periods=1).max()\ndaily_drawdown = aapl['Adj Close']\/rolling_max - 1.0","74c4886e":"max_daily_drawdown = daily_drawdown.rolling(window, min_periods=1).min()","c6037767":"daily_drawdown.plot()\nmax_daily_drawdown.plot()\n\nplt.show()","9526aa26":"days = (aapl.index[-1] - aapl.index[0]).days\n\ncagr = ((((aapl['Adj Close'][-1]) \/ aapl['Adj Close'][1])) ** (365.0\/days)) - 1\n\nprint(cagr)","14510b26":"\u0412\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u043a\u0443\u043c\u0443\u043b\u044f\u0442\u0438\u0432\u043d\u0443\u044e \u0434\u043d\u0435\u0432\u043d\u0443\u044e \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","efd45b30":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0434\u043d\u0435\u0432\u043d\u0443\u044e \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","ea5fdeef":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c matplotlib, \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 `daily_pct_c` \u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u0449\u0443\u044e \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 ","02000e76":"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0435\u043d\u044b \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f, \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u0441\u043a\u043e\u043b\u044c\u0437\u044f\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u043d\u044e\u044e \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b","fe059987":"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441","8bf6b993":"- \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043a\u0440\u0438\u0432\u0443\u044e \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0430 \u0432 \u0434\u043e\u043b\u043b\u0430\u0440\u0430\u0445\n- \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \"buy\" \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044e \n- \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \"sell\" \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u044e","137fb675":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043a\u0443\u043c\u0443\u043b\u044f\u0442\u0438\u0432\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0435","8d015e53":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c `MSFT` \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","ef41db9e":"## \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \n\n### \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0435\u0440\u0430 \u0432 Pandas","a13dd49c":"### \u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0428\u0430\u0440\u043f\u043e","a4236c3b":"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e \u043f\u0440\u043e\u0441\u0430\u0434\u043a\u0443 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0434\u043d\u044f","f1e34384":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c `signals` DataFrame \u0441 \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439 `signal` ","28044b60":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c `returns` \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c","03d7691b":"### \u041c\u0435\u0442\u043e\u0434 \u043d\u0430\u0438\u043c\u0435\u043d\u044c\u0448\u0438\u0445 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043e\u0432 (OLS)","55defd16":"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c `aapl` \u043d\u0430 \u043c\u0435\u0441\u044f\u0446\u0430, \u0431\u0435\u0440\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ","95feecab":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c `holdings` \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c","cf2e32d7":"\u0420\u0430\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0437\u0430 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","ea0b0745":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u0438\u0435 \u0442\u0438\u043a\u0438","cdb5a51f":"\u041f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c `Adj Close` `daily_close`","927d95d4":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0442\u0438\u043a\u043e\u0432","d01b1f76":"\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c NA \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043d\u0430 0","69699b9d":"\u0414\u043d\u0435\u0432\u043d\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","290aa227":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 2007 \u0433\u043e\u0434\u0430","2324bc70":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432","e6ed6800":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0445 10 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u0439 `Close`","c1befc5f":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0443 \u043c\u0430\u0442\u0440\u0438\u0446\u0443 \u0440\u0430\u0441\u0441\u0435\u043c\u0432\u0430\u043d\u0438\u044f \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 `daily_pct_change`","16b34451":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c `cash` \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c","17200c95":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u043e\u044f\u0431\u0440\u044c 2006","d0227d9b":"## \u041e\u0431\u0449\u0438\u0439 \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0439 \u0430\u043d\u0430\u043b\u0438\u0437\n\n### \u0414\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","9461ca26":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c 252 \u0442\u043e\u0440\u0433\u043e\u0432\u044b\u0445 \u0434\u043d\u044f","9f3c13bb":"\u0412\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u0433\u043e\u0434\u043e\u0432\u043e\u0439 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0428\u0430\u0440\u043f\u0430","2942f77e":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0446\u0435\u043d\u044b \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f `close` \u0434\u043b\u044f `aapl` \u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a","6ad2d220":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0446\u0435\u043d\u0443 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f","14174f84":"[Sourse](https:\/\/www.datacamp.com\/community\/tutorials\/finance-python-trading\/)","77e4427b":"`pandas_datareader` \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0444\u0438\u043d\u0430\u043d\u0441\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0430\u043a\u0435\u0442, \u0432\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Quandl \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445:","11dea58f":"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043a\u0443\u043c\u0443\u043b\u044f\u0442\u0438\u0432\u043d\u044b\u0439 \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434 \u0432 \u043a\u0443\u043c\u0443\u043b\u044f\u0442\u0438\u0432\u043d\u044b\u0439 \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u0434\u043e\u0445\u043e\u0434 \u0438 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0435\u0433\u043e","108f371b":"\u0412\u044b\u0431\u043e\u0440\u043a\u0430 20 \u0441\u0442\u0440\u043e\u043a \u0438 \u0438\u0445 \u043f\u0435\u0447\u0430\u0442\u044c","baf64cac":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u0441\u043a\u043e\u043b\u044c\u0437\u044f\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u043d\u044e\u044e","a5da0d5e":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0447\u0430\u0441\u0442\u043e\u0442\u0443 \u0432\u044b\u0431\u043e\u0440\u043a\u0443 \u043d\u0430 \u043c\u0435\u0441\u044f\u0447\u043d\u044b\u0439 \u0438 \u043f\u0435\u0447\u0430\u0442\u044c","129ed685":"\u0417\u0430\u0434\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0430","dd9807e3":"\u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u0430\u0442\u044c `aapl` \u0432 \u043a\u0432\u0430\u0440\u0442\u0430\u043b\u044b, \u0431\u0435\u0440\u044f \u0441\u0440\u0435\u0434\u043d\u0435\u0435 \u043a\u0430\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u0432\u0430\u0440\u0442\u0430\u043b\u0430","e33ce972":"\u0414\u043d\u0435\u0432\u043d\u0430\u044f log \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c ","8316e61a":"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c \u0441 \u0430\u043a\u0446\u0438\u044f\u043c\u0438","a93c0475":"\u041a\u0443\u043f\u0438\u0442\u044c \u0441\u0442\u043e \u0430\u043a\u0446\u0438\u0439","e5207b29":"## \u0421\u043e\u0432\u043e\u043a\u0443\u043f\u043d\u044b\u0435 \u0433\u043e\u0434\u043e\u0432\u044b\u0435 \u0442\u0435\u043c\u043f\u044b \u0440\u043e\u0441\u0442\u0430 (CAGR)","bdf828f6":"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438","d8b4a79a":"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043a\u043e\u0440\u043e\u0442\u043a\u0443\u044e \u0438 \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u0441\u043a\u043e\u043b\u044c\u0437\u044f\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u043d\u044e\u044e, \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0433\u0440\u0430\u0444\u0438\u043a \u043f\u043e \u0446\u0435\u043d\u0430\u043c \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0438 \u043d\u0430\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u043d\u0435\u0433\u043e \u0441\u0440\u0435\u0434\u043d\u0438\u0435","d8daf48d":"\u0423\u0434\u0430\u043b\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043b\u043e\u043d\u043a\u0443 `diff`","69465880":"\u0414\u043d\u0435\u0432\u043d\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","4328ef50":"- \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0443 \u0433\u0440\u0430\u0444\u0438\u043a\u0430\n- \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0438 \u043c\u0435\u0442\u043a\u0443 \u0434\u043b\u044f \u043e\u0441\u0438 `y`\n- \u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0446\u0435\u043d\u0443 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f, \u043a\u043e\u0440\u043e\u0442\u043a\u0443\u044e \u0438 \u0434\u043b\u0438\u043d\u043d\u0443\u044e \u0441\u043a\u043e\u043b\u044c\u0437\u044f\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u043d\u044e\u044e\n- \u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0438\u0433\u043d\u0430\u043b \u043f\u043e\u043a\u0443\u043f\u043a\u0438\n- \u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0438\u0433\u043d\u0430\u043b \u043f\u0440\u043e\u0434\u0430\u0436\u0438","ef5423f5":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0438\u0433\u043d\u0430\u043b","9460629f":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c `AAPL` \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c ","341a1348":"\u0418\u043c\u043f\u043e\u0440\u0442 Matplotlib's `pyplot` \u043c\u043e\u0434\u0443\u043b\u044c \u043a\u0430\u043a `plt`","0d9900ea":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c \u0438 \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u0440\u0435\u0437\u044e\u043c\u0435","b642b7e9":" \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u044b \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440 \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u043f\u043e\u043b\u0443\u0447\u0435\u043d \u0434\u043b\u044f \u0432\u0430\u0441 \u0443\u0436\u0435 \u043d\u0430 Yahoo! Finance:","2a18ebee":"### \u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u043e\u043a\u043e\u043d","b29af8a5":"\u041f\u0440\u043e\u0432\u0432\u0435\u0440\u0438\u0442\u044c 'Open' \u0438 'Close' \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 2006-11-01 \u0438 2006-12-01","bca98039":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u0440\u0434\u0435\u0440","bb94e94b":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u0443\u044e","da5c4c9c":"## \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0434\u043b\u044f \u0442\u043e\u0440\u0433\u043e\u0432\u043b\u0438 \u043d\u0430 Python","0043dda7":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0440\u043e\u043a \u0434\u043b\u044f \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u044f \u0432\u043e\u043b\u0430\u0442\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u0438, \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u0435\u0435 \u0438 \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c","b8785068":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0440\u0430\u0437\u043d\u0438\u0446\u0443 \u0432 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0430\u0449\u0438\u0445 \u0430\u043a\u0446\u0438\u044f\u0445","0d9b4453":"## \u041e\u0441\u043d\u043e\u0432\u044b Python \u0432 \u0444\u0438\u043d\u0430\u043d\u0441\u0430\u0445: Pandas\n\n###  \u0418\u043c\u043f\u043e\u0440\u0442 \u0434\u0430\u043d\u043d\u044b\u0445\n\u0412 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432 open-source \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043c\u043d\u043e\u0433\u043e \u0432\u043e\u043b\u043d\u0435\u043d\u0438\u0439 \u0438\u0437-\u0437\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 Yahoo! Finance API. \u0412\u043e\u0442 \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0430\u043a\u0435\u0442 `pandas_datareader`, \u043d\u043e \u0438 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 `fix_yahoo_finance` \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445:","7ea4e531":"\u0412\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u043b\u043e\u0433 \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","ed51d0d2":"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0443\u044e (\u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e) \u0434\u043d\u0435\u0432\u043d\u0443\u044e \u043f\u0440\u043e\u0441\u0430\u0434\u043a\u0443","82f95744":"## \u041e\u0446\u0435\u043d\u043a\u0430 c\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u043b\u044c\u0437\u044f\u0449\u0435\u0439 \u0441\u0440\u0435\u0434\u043d\u0435\u0439","d589337a":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 DataFrame \u0441 `AAPL` \u0438 `MSFT` \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c\u044e","453cbaa5":"### \u0420\u0430\u0441\u0447\u0435\u0442 \u0412\u043e\u043b\u0430\u0442\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u0438","171d5b13":"### \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0440\u044f\u0434\u0430","80766fa4":"\u0414\u043e\u0431\u0430\u0432\u0438\u043c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 `diff` \u0432 `aapl`","d6463825":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c `total` \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u044c","8bd1971f":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c DataFrame `positions`","5ead5e3f":"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0440\u043e\u0442\u043a\u0438\u0435 \u0438 \u0434\u043b\u0438\u043d\u043d\u044b\u0435","26afadaa":"\u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c \u0432\u0430\u0448\u0435\u0439 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438","1a2eb377":"\u0414\u043d\u0435\u0432\u043d\u0430\u044f \u0434\u043e\u0445\u043e\u0434\u043d\u043e\u0441\u0442\u044c","1398fcff":"### \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0441\u0430\u0434\u043a\u0430","681da26b":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u0440\u043e\u0442\u043a\u0443\u044e \u0441\u043a\u043e\u043b\u044c\u0437\u044f\u0449\u0443\u044e \u0441\u0440\u0435\u0434\u043d\u044e\u044e","44cf1a13":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u043e\u044f\u0431\u0440\u044c-\u0434\u0435\u043a\u0430\u0431\u0440\u044c 2006 \u0433.","b17d5f4d":" \u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043c\u0435\u0441\u044f\u0447\u043d\u043e\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435","f9110865":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0442\u0438\u043f `ts`"}}