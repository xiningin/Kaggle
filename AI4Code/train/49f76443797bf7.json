{"cell_type":{"bce4f3e5":"code","a71474a8":"code","76d4c78e":"code","80375a1d":"code","0442a44d":"code","0c6184ce":"code","656f09b4":"code","c0e99555":"code","b5c1bf1a":"code","d094f908":"code","28d6199f":"code","a6336502":"code","25c24959":"code","21deaf59":"code","e24a27c0":"code","5e7534ff":"code","ad88998a":"code","13835a69":"code","c84231fc":"code","b1a3e915":"code","75089f55":"code","0bcb7732":"code","5cc68c99":"code","0d7a0fdf":"code","6bac0273":"code","2765ee99":"code","6f173b62":"code","30aa8e72":"code","6f1ba0e4":"code","5aaa4097":"code","d4fc8c79":"code","63a7f973":"code","9b58febd":"code","26fcf696":"code","e89d38fd":"code","8e2a1b17":"code","9d16ec78":"code","64302bf7":"code","af263413":"code","4ba0761a":"code","e20d4df0":"code","cf81916c":"code","20a0e975":"code","cc4d9e8f":"code","9326a9cd":"code","a0f53cb9":"code","2630834b":"code","46c4d5e9":"code","4d5262bd":"code","2c063afd":"code","1099eeac":"code","bb3b1ed4":"code","bb47c07b":"code","a7f72230":"code","e301ca74":"code","c64ad87a":"code","609bd042":"code","9fc7b164":"code","8dc19c5d":"code","b6097ca7":"code","d72d1b10":"markdown","0a357de2":"markdown","35b9307d":"markdown","6297c4c2":"markdown","b64409b2":"markdown","cc4aba0a":"markdown","618c4dbe":"markdown","21375689":"markdown","7917741c":"markdown","ae839ff0":"markdown","05ab9275":"markdown","fbf55c19":"markdown","aa5ff84e":"markdown","03e69827":"markdown","5a6632b2":"markdown","b7a31e41":"markdown","914fceef":"markdown","93681fc9":"markdown","a4c24144":"markdown","e5b643f8":"markdown","566bddd2":"markdown","f4c5c006":"markdown","e5bf0b4a":"markdown","711160de":"markdown","46215a30":"markdown","3f53ca44":"markdown","a6f99c0f":"markdown","7145ec73":"markdown","f4d57695":"markdown","b91566c5":"markdown","87faed69":"markdown","5496383c":"markdown","64d24ff6":"markdown","11451792":"markdown","f5b81b1f":"markdown","f632f0f2":"markdown","5e0b6ad2":"markdown","e99e707c":"markdown","f26686df":"markdown","bfd76bc6":"markdown","d424ec34":"markdown","a7acd46b":"markdown","f024d230":"markdown","4f589a30":"markdown","7f60c636":"markdown","7ee0f56c":"markdown","2f65293a":"markdown","c0721ab1":"markdown","addeda34":"markdown","3c1e5263":"markdown","f670d1d7":"markdown","b6f17a73":"markdown","54b414f6":"markdown","78730355":"markdown","ad6969af":"markdown","0b6ca001":"markdown","5b4c2f30":"markdown","9c19a971":"markdown","90b08a8f":"markdown","b12f162a":"markdown","c2184e08":"markdown","fd7f3410":"markdown","74375730":"markdown","8f19ba22":"markdown","34d021b7":"markdown","c9320cf1":"markdown","c8355ccb":"markdown","84e4e423":"markdown","4322baec":"markdown","b29789ce":"markdown","749c0fd0":"markdown","e7140850":"markdown","60068550":"markdown"},"source":{"bce4f3e5":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport re\nimport warnings\nwarnings.filterwarnings('ignore')","a71474a8":"df = pd.read_csv('..\/input\/zomato-bangalore-restaurants\/zomato.csv')","76d4c78e":"df.head()","80375a1d":"# Shape of dataset\n\ndf.shape ","0442a44d":"# There are some extra columns so we remove them\n\ncol = ['url', 'address', 'phone', 'dish_liked', 'menu_item']\n\ndf.drop(col, inplace=True, axis=1)","0c6184ce":"# Printing the column names\n\ndf.columns","656f09b4":"# Fixing column names \n\ndf = df.rename(columns={'approx_cost(for two people)':'approx_cost', 'listed_in(type)':'type', 'listed_in(city)':'city'})\ndf.columns","c0e99555":"# To find the datatype of each attribute\n\ndf.info()","b5c1bf1a":"df.describe() ","d094f908":"# To check whether there are duplicate records\n\nduplicate=df[df.duplicated()] \nduplicate","28d6199f":"# Remove duplicate records except the first occurence\n\ndf.drop_duplicates(inplace=True)","a6336502":"# Unique values in rate\n\ndf['rate'].unique()","25c24959":"# Removing '\/5' from rate\n\ndef filter_rate(val):\n    if (val=='-' or val=='NEW'):\n        return np.nan\n    else:\n        val=str(val).split('\/')[0] # e.g 4.3\/5 -> ['4.3', '5'] -> float(4.3) -> 4.3\n    return float(val)\n\ndf['rate']=df['rate'].apply(filter_rate)\n\ndf['rate']","21deaf59":"# Unique values in approx_cost\n\ndf['approx_cost'].unique()","e24a27c0":"# Replace , with '' and converting its datatype to float\n\ndf['approx_cost'] = df['approx_cost'].str.replace(',', '').astype(float)\ndf['approx_cost']","5e7534ff":"df.describe() ","ad88998a":"df.tail() # last 5 rows in our dataset","13835a69":"# Check for null values\n\ndf.isnull().sum()","c84231fc":"df.isnull().sum().plot(kind='bar');","b1a3e915":"df['rate'].fillna(df['rate'].mean(),inplace=True)","75089f55":"df.dropna(inplace=True)","0bcb7732":"df.isnull().sum()","5cc68c99":"df[\"cuisines\"]","0d7a0fdf":"df['Number_of_cuisines_offered'] = df['cuisines'].apply(lambda x : len(x.split(',')))","6bac0273":"df","2765ee99":"plt.style.use('seaborn') # adding some styling to our plots ","6f173b62":"df[\"location\"] ","30aa8e72":"# Countplot of location\n\nplt.figure(figsize=(20,10))\nsns.countplot(x='location', data=df)\nplt.title('Count of Restaurants at each Location', fontsize=20, fontweight='bold')\nplt.xticks(rotation=90)\nplt.show()","6f1ba0e4":"print(\"location \\t\\t count\")\ndf[\"location\"].value_counts()","5aaa4097":"df[\"rest_type\"] ","d4fc8c79":"# Bar plot of rest_type\n\nplt.figure(figsize=(20,10))\nsns.countplot(x='rest_type', data=df)\nplt.xticks(rotation=90)\nplt.title('Count of each restaurant type', fontsize=20, fontweight='bold')\nplt.show()","63a7f973":"print(\"rest_type\\t\\t\\tcount\")\ndf[\"rest_type\"].value_counts()","9b58febd":"# Grouping by number of cuisines offered and finding the mean of approx_cost for each cuisine \na = df.groupby('Number_of_cuisines_offered').agg({'approx_cost':'mean'})\nplt.rcParams[\"figure.figsize\"] = (12,8)\na.plot(kind='bar', color='#7952B3')\nplt.title('Approx cost based on Number of cuisines', fontsize=20, fontweight='bold')\nplt.ylabel('approx mean cost')\nplt.legend()\nplt.show()","26fcf696":"print(\"no\\tcount\")\n\ndf['Number_of_cuisines_offered'].value_counts()","e89d38fd":"# Grouping by number of cuisines offered and finding the mean of approx_cost for each cuisine \na = df.groupby('Number_of_cuisines_offered').agg({'rate':'mean'})\nplt.rcParams[\"figure.figsize\"] = (12,8)\na.plot(kind='bar', color='#7952B3')\nplt.title('Average ratings based on number of cuisines offered', fontsize=20, fontweight='bold')\nplt.ylabel('average ratings')\nplt.legend()\nplt.show()","8e2a1b17":"df[\"name\"] ","9d16ec78":"# 20 Most famous restaurant chains\n\nplt.figure(figsize=(15,7))\nchains = df['name'].value_counts()[:20]\nsns.barplot(x=chains, y=chains.index, palette='Set1')\nplt.xlabel(\"Number of outlets\", size=15)\nplt.ylabel(\"Name of Restaurants\", size=15)\nplt.title(\"Most famous restaurant chains\", fontsize=20, fontweight='bold')\nplt.show()","64302bf7":"df[[\"online_order\", \"book_table\"]]","af263413":"df_online_booking = df.groupby([\"online_order\", \"book_table\"]).size().reset_index(name = \"Count\")\nplt.figure(figsize = (15,7))\nsns.barplot(x=\"online_order\", y=\"Count\", hue=\"book_table\", data=df_online_booking)\nplt.title(\"Online Order - Book Table\", fontsize=20, fontweight='bold')\nplt.show()","4ba0761a":"label1 = [\"Accepted\",'Not Accepted']\nlabel2 = ['Not Accepted', \"Accepted\"]\n\ndf_online = df['online_order'].value_counts().values\ndf_table = df['book_table'].value_counts().values\n\nfig, ax1 = plt.subplots(nrows=1, ncols=2)\n\ncolor1 = ['#FA744F', '#16817A']\ncolor2 = ['#FC5050', '#FFD00C']\n\nax1[0].pie(df_online, labels=label1, autopct='%1.1f%%', startangle=90, colors=color1)\nax1[0].set_title('Online order', fontsize=20, fontweight='bold')\n\nax1[1].pie(df_table, labels=label2, autopct='%1.1f%%', startangle=90, colors=color2)\nax1[1].set_title('Book table', fontsize=20, fontweight='bold')\nplt.show()","e20d4df0":"plt.figure(figsize=(12,8))\nsns.barplot(data=df, x='online_order', y='approx_cost', hue='book_table', palette='rainbow')\nplt.show()","cf81916c":"fig, ax1 = plt.subplots(nrows=1, ncols=2)\n\nplt.figure(figsize=(8,8))\nsns.boxplot(data=df, x='online_order', y='rate', palette='GnBu', ax=ax1[0]);\nax1[0].set_title('Rate and Online Order', fontsize=20, fontweight='bold')\n\nplt.figure(figsize=(8,8))\nsns.boxplot(data=df, x='book_table', y='rate', palette='GnBu', ax=ax1[1]);\nax1[1].set_title('Rate and Book Table', fontsize=20, fontweight='bold')\nplt.show()","20a0e975":"fig = px.box(df,x='online_order',y='votes', title='Votes and Online Order')\nfig.show()","cc4d9e8f":"fig = px.box(df,x='online_order',y='approx_cost', title='Approx cost and Online Order')\nfig.show()","9326a9cd":"df[\"rate\"]","a0f53cb9":"# Density plot to visualize rate\n\nplt.figure(figsize = (10, 8))\nsns.distplot(df['rate'])\nplt.title(\"Distribution of rate\", fontsize=20, fontweight='bold')\nplt.show()","2630834b":"df[\"approx_cost\"]","46c4d5e9":"# Average cost of restaurants at each loaction\n\na = df.groupby('location').agg({'approx_cost':'mean'})\n\nplt.rcParams[\"figure.figsize\"] = (20,10)\na.plot(kind='bar', color='#FF616D')\nplt.title('Average cost of restaurants at each Location', fontsize=20, fontweight='bold')\nplt.xticks(rotation=90)\nplt.legend()\nplt.show()","4d5262bd":"a.sort_values(\"approx_cost\", ascending=False)","2c063afd":"plt.title(\"Distribution of mean avg cost at different location\")\nsns.distplot(a[\"approx_cost\"]);","1099eeac":"df['cuisines'] ","bb3b1ed4":"# 15 most popular cuisines in Bangalore\n\nplt.figure(figsize=(10,8))\ndf_cuisines = df['cuisines'].value_counts()[:15]\nsns.barplot(x = df_cuisines.values, y=df_cuisines.index)\nplt.title('Most popular cuisines in Bangalore', fontsize=20, fontweight='bold')\nplt.show()","bb47c07b":"df[\"votes\"] ","a7f72230":"# Relation of rate and votes\n\nplt.figure(figsize=(15,8))\nsns.lineplot(x='rate', y='votes', data=df)\nplt.title('Rate and Votes', fontsize=20, fontweight='bold')\nplt.show()","e301ca74":"plt.figure(figsize=(15,8))\ndf.groupby('name')['approx_cost'].max().nlargest(15).plot.bar(color='#E98580')\nplt.title('Most expensive restaurants', fontsize=20, fontweight='bold')\nplt.ylabel('approx_cost')\nplt.xticks(rotation=90)\nplt.show()","c64ad87a":"# Plot Correlation Matrix\n\ncorr = df.corr()\ncorr.style.background_gradient(cmap='plasma').set_precision(2)","609bd042":"# Making new dataframe of each rating range\n\ndf_4 = df[df['rate'] >= 4.0][:5]\ndf_1 = df[df['rate'] < 3.0][:5]","9fc7b164":"# WordCloud of reviews based on rating\n\nfrom wordcloud import WordCloud, STOPWORDS\n\ndef cloud(df, title):\n    comment_words = ''\n    \n    # cleaning reviews \n    stopwords = set(STOPWORDS)\n    stopwords.update(['html', 'alibi', 'mercurialpurple', 'blogspot', 'nhttp', 'x83', 'x82', 'x92', 'n', 'good', 'enough', \"html'\"])\n\n    # iterate through the csv file\n    for val in df.reviews_list:\n        # split the value\n        tokens = val.split()\n        tokens = tokens[3:]\n        # print(tokens\n        # Converts each token into lowercase\n        for i in range(len(tokens)):\n            tokens[i] = tokens[i].lower()\n        comment_words += \" \".join(tokens)+\" \"\n    \n    # cleaning comment words\n    comment_words = re.sub(r'(?i)rated', '', comment_words)\n    comment_words = re.sub(r\"\\(' [1-5]\\.0\", '', comment_words)\n    comment_words = re.sub(r\"\\\\'\\\\\\\\n\", '', comment_words)\n    comment_words = re.sub(r\"\u00e3\", '', comment_words)\n    comment_words = re.sub(r\"\\\\x[0-9]+\\\\\", '', comment_words)\n\n    wordcloud = WordCloud(width = 800, height = 800,\n            background_color ='white',\n            stopwords = stopwords,\n            min_font_size = 10).generate(comment_words)\n\n    # plot the WordCloud image\n    plt.figure(figsize = (8, 8), facecolor = None)\n    \n    plt.imshow(wordcloud)\n    plt.axis(\"off\")\n    plt.tight_layout(pad = 0)\n    plt.title(title, fontsize=20, fontweight='bold')\n    plt.show()\n","8dc19c5d":"# Wordcloud whe rating > 4\n\ncloud(df_4, 'Reviews of restaurants with rating > 4')","b6097ca7":"cloud(df_1, 'Reviews of restaurants with rating < 3')","d72d1b10":"**Observation:** The box plot for online_order indicates that the median rating for restaurants accepting and not accepting online order is same (above 3.5) .\n\nFor book_table, the median rating for restaurants accepting table booking is more than 4.0 whereas for restaurants not accepting table booking is above 3.5.","0a357de2":"**df.info() : shows us all the columns that are present in the dataset with the type of data they contain.**","35b9307d":"### Handling missing values","6297c4c2":"## Exploring the dataset","b64409b2":"### Let's see how big our data is ?","cc4aba0a":"**How cost differ w.r.t. different locations ?**","618c4dbe":"#### How many restaurants accept online order and table booking?","21375689":"## Loading the dataset","7917741c":"<b>Observation:-<\/b> The line plot indicates that for ratings greater than 4.0 the number of votes is more and for less ratings the number of votes are less. Hence, restaurants with high rating also have high votes.","ae839ff0":"Our data may or may not contain some missing values either due to some error or maybe the information itself is not present which can we will check in this step","05ab9275":"<b>Observation:<\/b> The restaurants which offer 7 cuisines have the highest approx_cost above Rs 800. It is followed by restaurants offering 6 cuisines with approx_cost more than Rs 800 and restaurants offering 5 cuisines with approx_cost close to Rs 800. Here, the approx_cost where number of cuisines offered is 8 is less as there might be fewer restaurants offering these many cuisines.  We can conclude that restaurants which offer more cuisines have a higher approx_cost value compared to restaurants which offer less than 5 cuisines.","fbf55c19":"#### How many restaurants are present at different locations?","aa5ff84e":"**After cleaning, the dataset has 51,077 rows and 13 columns.**","03e69827":"#### Is there any difference b\/w votes of restaurants accepting and not accepting online orders ?","5a6632b2":"**The dataset has 1 integer and 11 object columns.**\n* integer : a number which is not a fraction e.g. -2, 0, 4, etc.\n* object : word like values e.g. \"DataZen\", \"John123\", \"1,500\", \"2\/5\", etc.\n\n(Note: rate, approx_cost should have data type related to integer or float (basically a number) which is not present there.)","b7a31e41":"**Observation:** Cafe Coffee Day has maximum outlets in the city and is followed by Onesta with number of outlets little more than 80. It can be seen that most famous restaurant chains have more than 50 outlets.","914fceef":"### Adding some meaningful information \nMaking a new column for total number of cuisines offered by each restaurant\nso that in later stage we can see maybe how the restaurants have different costs w.r.t no of cuisines offered.\n","93681fc9":"**Observation:** The Leela Palace, ITC Windsor, Radisson Blu, The Ritz Carlton, The Lalit and The Gateway Hotel are some of the most expensive hotels in Bangalore.","a4c24144":"**Observations** : Restaurants offering 7 cuisines do we have higher rating of around 4.0 but there is no signficant change in the ratings given to others based on the number of cuisines offered.","e5b643f8":"#### How many restaurants provide online ordering and table booking facility individually and together?","566bddd2":"### Cuisines \ncuisines : stores the type of cuisines served by the restaurant","f4c5c006":"## Removing useless information and making data analyzable  ","e5bf0b4a":"## Problem Statement \nImagine you are someone who wants to start a restaurant but you don't know what kind of food to add in your menu, where to start your restaurant, which facilities you should include, etc. So with this analysis you can come to some conclusion which will surely help your business to grow.","711160de":"### Removing useless columns","46215a30":"**Note** : NaN (Not a Number) represents missing values","3f53ca44":"#### What's the relation of votes with rate ?","a6f99c0f":"## Importing libraries","7145ec73":"Since we know that these ratings are out of 5 so let's remove that \/5 from our data","f4d57695":"### Restaurant types\nrest_type : indicates the category of restaurant","b91566c5":"#### What are some popular cuisines?","87faed69":"### 15 Most expensive restaurants","5496383c":"**The dataset has 72 duplicate rows. So we  will remove them.**","64d24ff6":"**Observation:** There are more than 5000 restaurants in BTM. Quick Google Search shows us that BTM is posh residential area so because of that there are quite a lot of restaurants and also it is famous for cafes. JP Nagar HSR, Koramangala 5th block, Whitefield, Indiranagar have more than 2000 restaurants and Jayanagar, Marathahalli, Bannerghatta Road have more than 1000 restaurants.","11451792":"Check for null values again","f5b81b1f":"## Dataset \n\nDataset link : https:\/\/www.kaggle.com\/himanshupoddar\/zomato-bangalore-restaurants","f632f0f2":"**what kind of distribution does rate follow ?**","5e0b6ad2":"#### What are some famous and common types of restaurants that are there in Bengaluru?","e99e707c":"<b>Observation: <\/b> We observe that maximum restaurants provide online ordering but not table booking facility. The number of restaurants providing table booking facility but not online order is the least.<br>\nMore than 15000 restaurants don't provide online ordering as well as table booking facility.\n\nSo in case we are planning to start a restaurant and we want some facility to have a lower priority then we can think about this one","f26686df":"**Observation:** 59.2% of the restaurants accept online order and 40.8% don't.\nOnly 12.6% of the restaurants provide table booking facility whereas 87.4% don't.","bfd76bc6":"**Maximum null values are present in rate column.**","d424ec34":"### Attribute Description:-\n\n<ol>\n    <li>url: url of that restaurants w.r.t zomato<\/li>\n    <li>address: address of that restaurants <\/li>\n    <li>name: stores the name of restaurants<\/li> \n    <li>online_order: indicates whether online ordering is available in the restaurant or not<\/li>\n    <li>book_table: indicates whether table booking option available or not<\/li>\n    <li>rate: contains the overall rating of the restaurant out of 5<\/li>\n    <li>votes: contains total number of rating for the restaurant as of a particular date<\/li>\n    <li>phone: stores the contact number of restaurants<\/li>   \n    <li>location: contains the neighborhood in which the restaurant is located<\/li>\n    <li>rest_type: indicates the category of restaurant<\/li>\n    <li>dish_liked: dishes people liked in the restaurant<\/li> \n    <li>cuisines: stores the type of cuisines served by the restaurant<\/li>\n    <li>approx_cost(for two people): contains the cost for two people<\/li>\n    <li>reviews_list: contains different reviews given to the restaurants<\/li>\n    <li>menu_item: contains list of menus available in the restaurant<\/li>\n    <li>listed_in(type): stores the type of meal<\/li>\n    <li>listed_in(city): contains the neighborhood in which the restaurant is listed<\/li>\n<\/ol>","a7acd46b":"**Observation:** More than 50 percent of restaurants have rating between 3 and 4. Restaurants having rating more than 4.5 and less than 2.5 are very rare.","f024d230":"### Who are our competitors ?","4f589a30":"**Hence, all null values have been removed.**","7f60c636":"### World cloud \nA word cloud  is a visual representation of words and it is used to highlight popular word","7ee0f56c":"**Observation:** North Indian is the most popular cuisine with more than 2500 restaurants serving it. It is followed by North Indian, Chinese with more than 2000 restaurants and South Indian with more than 1500 restaurants.","2f65293a":"### looking at rate and approx cost ","c0721ab1":"correlation : Gives us the amount by which two variables are related to each other.","addeda34":"### Ratings given to restaurants\nrate : contains the overall rating of the restaurant out of 5","3c1e5263":"#### How online_order and book_table affects rating given to restaurants ?","f670d1d7":"### Location \nlocation contains the neighborhood in which the restaurant is located in Bengaluru","b6f17a73":"Replacing null values in rate with mean of all of the rate values as removing all of them will cause data loss ","54b414f6":"**Observation** : From this boxplot,we can observe that median number of votes for both categories vary. Restaurants accepting online orders get more votes from customers as there is a rating option poping up after each order through zomato application.\n","78730355":"#### How approx_cost is affected by online_order and book_table?","ad6969af":"## **Data Visualizations**","0b6ca001":"### Cost \napprox_cost : contains the approximate cost for two people","5b4c2f30":"**Observation:** We see in (Yes) (min=40, median=450) and in (No) (min=50,median=500) Restaurants accepting online orders are more affordable than Restaurants who are not accepting online orders","9c19a971":"**Observation:** There is moderate positive correlation of 0.43 between rate and votes which means that restaurants with high rating have more votes.","90b08a8f":"**Observation:** Quick Bites is the most popular restaurant type as its count is more than 19000. It is followed by Casual Dining which has more than 10,000 records. Cafe, Delivery, Dessert Parlor are some other common restaurant types.","b12f162a":"### Since we are removing extra information let's see whether or not some duplicate rows are present in our data","c2184e08":"### Remember that new column (Number_of_cuisines_offered) which we made earlier ?**\n\nDoes restaurants offering more number of cuisines have a higher approx_cost?","fd7f3410":"**Correlation between some features**","74375730":"**There are 51,717 rows and 17 columns.**","8f19ba22":"**Observation:** Restaurants which don't accept online orders but provide table booking have the highest approx_cost value above Rs 1500, whereas restaurants which accept online orders and provide table booking have an approx_cost near Rs 1000. Restaurants which don't provide table booking have an approx_cost of Rs 400.","34d021b7":"Remove all the other rows having null values","c9320cf1":"### Votings given to restaurants\nvotes : contains total number of rating for the restaurant as of a particular date","c8355ccb":"Since we just need a number without any \",\" so let's remove those commas","84e4e423":"#### Does restaurants offering more number of cuisines have a higher rating ?","4322baec":"null values are nothing but missing values only","b29789ce":"some statistics about numerical column which we have","749c0fd0":"name : stores name of restaurants at different locations","e7140850":"### Facilities provided by restaurants\n\nonline_order: indicates whether online ordering is available in the restaurant or not\n\nbook_table: indicates whether table booking option available or not","60068550":"**Observation:** Restaurants at Sankey Road have an approx cost of Rs. 2500 which is the highest approx avg.cost followed by some other locations having cost in the range of Rs. 1000-2000. Most of the restaurants have cost between Rs. 400 and Rs. 600. \n\nNow depending on our budget we have to choose a location in such way that we will cover customers buying food in that range"}}