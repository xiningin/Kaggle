{"cell_type":{"4dc9c23b":"code","ea107357":"code","bf765bd2":"code","5cc68e14":"code","11558e79":"code","1c1b82ea":"code","341d60b8":"code","2e672f69":"code","c5b642ac":"code","51d06fca":"code","ef41761d":"code","856c2c4c":"markdown","1c996642":"markdown","28fe4f75":"markdown","5e183ac9":"markdown","3db64a6e":"markdown","4f8e7870":"markdown","248a5452":"markdown","a8def1c8":"markdown","3f56225d":"markdown","624146a4":"markdown","c0dd77af":"markdown","733ece00":"markdown","20400e8b":"markdown","46469acd":"markdown","e7db5725":"markdown","7c598a46":"markdown","6d93a867":"markdown","f613dc51":"markdown","ceef6c9b":"markdown"},"source":{"4dc9c23b":"import time","ea107357":"%%time\n# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","bf765bd2":"from pandas_profiling import ProfileReport","5cc68e14":"%%time\nvalid_path=\"\/kaggle\/input\/jigsaw-toxic-severity-rating\/validation_data.csv\"\ncomment_path=\"\/kaggle\/input\/jigsaw-toxic-severity-rating\/comments_to_score.csv\"","11558e79":"!pwd","1c1b82ea":"%%time\nvalid_df=pd.read_csv(valid_path)\ncomment_df=pd.read_csv(comment_path)","341d60b8":"%%time\ntmp=pd.read_csv(\"..\/input\/jigsaw-toxic-severity-rating\/validation_data.csv\")","2e672f69":"tmp.head()","c5b642ac":"comment_df.head()","51d06fca":"%%time\nreport = ProfileReport(valid_df)\nreport.to_file(os.path.join(\"\", \"train_report.html\"))","ef41761d":"report = ProfileReport(comment_df)\nreport.to_file(os.path.join(\"\", \"comment_report.html\"))","856c2c4c":"## 3. \u4eca\u5f8c\u306e\u65b9\u91dd\n\n\u30e2\u30c7\u30eb\u306e\u8a73\u7d30\u3092\u7406\u89e3\u3057\u8ffd\u3063\u3066\u3044\u304f.(11\/20\u307e\u3067\u306b\u3084\u308b\u4e88\u5b9a)  \n\u81ea\u5206\u306e\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b.(11\u6708\u672b\u307e\u3067\u306bfirst sub)","1c996642":"\u3053\u306e\u30b3\u30f3\u30da\u3067\u306f\u72ec\u81ea\u306emetric\u3067\u30e2\u30c7\u30eb\u3092\u8a55\u4fa1\u3059\u308b.\u57fa\u672c\u7684\u306bAUC\u3068\u540c\u3058\u3060\u304c,\u8272\u3005\u306a\u30b1\u30fc\u30b9\u306b\u304a\u3044\u3066\u306eAUC\u3092\u8003\u3048\u3066\u3044\u308b\u3063\u307d\u3044(\u8a73\u7d30\u306f\u8ad6\u6587([Borkan, Daniel, et al. \"Nuanced metrics for measuring unintended bias with real data for text classification.\" Companion proceedings of the 2019 world wide web conference. 2019.](https:\/\/arxiv.org\/abs\/1903.04561))\u3092\u8aad\u3080\u5fc5\u8981\u304c\u3042\u308b).\n\n\u3053\u308c\u3082\u5148\u307b\u3069\u3068\u540c\u69d8\u306b\u4f7f\u3048\u305d\u3046.\n\n[Wombat Inference Kernel](https:\/\/www.kaggle.com\/iezepov\/wombat-inference-kernel)","28fe4f75":"# 1. Data\u3092\u898b\u3066\u307f\u308b\n```\nfrom pandas_profiling import ProfileReport \n```\n\u304c\u4fbf\u5229\u306a\u306e\u3067,\u305d\u308c\u3092\u4f7f\u3063\u3066\u307f\u307e\u3059.\n(\u4eca\u56de\u306f\u4f7f\u3046\u5fc5\u8981\u306a\u3044\u6c17\u3082\u3057\u307e\u3059.)","5e183ac9":"pytorch\u306e\u30e2\u30c7\u30eb\u3092bin\u306b\u62e1\u5f35\u3057\u3066\u3044\u305f\u308a\u3057\u3066\u3044\u307e\u3059.\n\n\u30e2\u30c7\u30eb\u6982\u8981\u306f\u8ffd\u3063\u3066\u307f\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059.","3db64a6e":"## b. [Jigsaw Unintended Bias in Toxicity Classification](https:\/\/www.kaggle.com\/c\/jigsaw-unintended-bias-in-toxicity-classification)\n\n","4f8e7870":"# \u65e5\u672c\u4eba_Kaggle \u521d\u5fc3\u8005\u306enotebook Part1\n\u79c1\u81ea\u8eab,\u521d\u5fc3\u8005\u306e\u305f\u3081,\u307e\u305a\u3069\u306e\u69d8\u306a\u30c7\u30fc\u30bf\u304c\u3042\u308a,\u3069\u306e\u69d8\u306a\u51e6\u7406\u3092\u3059\u308b\u3079\u304d\u306a\u306e\u304b\u3092\u898b\u3066  \n\u3069\u306e\u69d8\u306a\u65e2\u5b58\u30e2\u30c7\u30eb\u306e\u304c\u3042\u308b\u304b\u3092\u8abf\u3079\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059\u3002","248a5452":"report\u3092\u898b\u308b\u9650\u308a,\u5168\u3066distinct\u3067worker\u306f\u540c\u3058\u3082\u306e\u304c\u3044\u304f\u3064\u304b\u3042\u308a\u307e\u3059.  \nworker\u306f\u98fd\u304f\u307e\u3067\u8ab0\u304c\u305d\u306e\u5224\u65ad\u3092\u3057\u305f\u304b\u306e,id\u3067\u3042\u308a,\u3069\u306e\u3072\u3068\u304c\u3069\u306e\u6307\u6a19\u3067\u5224\u65ad\u3057\u3066\u3044\u308b\u304b\u3068\u3044\u3063\u305f\u3053\u3068\u306f\u308f\u304b\u308b\u304b\u3082\u3057\u308c\u306a\u3044\u3067\u3059\u304c, \u3053\u308c\u3092\u3069\u306e\u69d8\u306b\u30e2\u30c7\u30eb\u306b\u7d44\u307f\u8fbc\u3080\u3079\u304d\u304b\u3082\u5c11\u3057\u96e3\u3057\u3044\u3068\u611f\u3058\u307e\u3057\u305f.(\u305d\u3082\u305d\u3082valid\u306e\u305f\u3081\u4f7f\u3048\u306a\u3044\u304b\u3082\u3057\u308c\u306a\u3044\u304c,\u3053\u306evalid\u306boverfit\u3059\u308b\u5f62\u3067\u306f\u30c0\u30e1\u306a\u53ef\u80fd\u6027\u304c\u3042\u308b\u3068\u518d\u8a8d\u8b58\u3057\u305f\u3044)  \n\none-hot-vector\u3068\u3057\u3066\u7d44\u307f\u8fbc\u3093\u3067\u3082\u826f\u3044\u3067\u3059\u304c,\u4eba\u306e\u6570\u3060\u3051\u8981\u7d20\u3092\u5897\u3084\u3059\u3053\u3068\u3068\u306a\u308a\u5b89\u5b9a\u3057\u305f\u30e2\u30c7\u30eb\u3092\u4f5c\u308c\u307e\u305b\u3093.  \u3064\u307e\u308a,\u305d\u306e\u4eba\u304c\u771f\u306e\u5224\u65ad\u8005\u306b\u8fd1\u3044\u304b\u3069\u3046\u304b\u306e\u9023\u7d9a\u5024\u3092\u6301\u305f\u305b\u3089\u308c\u308c\u3070\u826f\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093.","a8def1c8":"\u3053\u306e\u30b3\u30f3\u30da\u3067\u306f,\u3042\u308bcomment\u306e\u6709\u5bb3\u5ea6\u5408\u3044\u3092\u8a55\u4fa1\u3057\u3066\u3044\u304d\u307e\u3059.  \n\u305d\u3057\u3066,\u30e9\u30f3\u30ad\u30f3\u30b0\u306e\u4e00\u81f4\u5ea6\u5408\u3044\u3067\u30e2\u30c7\u30eb\u8a55\u4fa1\u3055\u308c\u307e\u3059.\n\u305d\u306e\u305f\u3081,\u4e88\u6e2c\u5024\u81ea\u4f53\u306f\u81ea\u7531\u306b\u81ea\u5206\u3067\u8a2d\u5b9a\u3067\u304d\u307e\u3059.\u305d\u308c\u3068\u540c\u6642\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059.  \n\u307e\u305f,\u6559\u5e2b\u30c7\u30fc\u30bf\u3068\u3057\u3066less \u304b more \u306e\u4e8c\u3064\u3092\u6bd4\u3079\u3066\u3044\u308b\u3060\u3051\u306e\u305f\u3081,\u3069\u306e\u3088\u3046\u306b\u6559\u5e2b\u3042\u308a\u5b66\u7fd2(\u6559\u5e2b\u306a\u3057?)\u3092\u56de\u3059\u3079\u304d\u304b\u73fe\u72b6\u898b\u901a\u3057\u304c\u7acb\u3061\u307e\u305b\u3093.  \n\n\u305f\u3060,\u4e8c\u5024\u5206\u985e\u554f\u984c\u3068\u3057\u3066\u8003\u3048\u3066\u4f5c\u6210\u3059\u308c\u3070\u826f\u3055\u305d\u3046\u3067\u3059.\n\n\u305d\u3082\u305d\u3082\u3068\u3057\u3066,\u4e0e\u3048\u3089\u308c\u305f\u30c7\u30fc\u30bf\u306fvalid\u3068\u3042\u308b\u305f\u3081model\u3092\u4ed6\u306e\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u3067\u5b66\u7fd2\u3055\u305b\u3066,\u305d\u308c\u306e\u6307\u6a19\u3092\u898b\u308b\u305f\u3081\u3060\u3051\u306bvalid\u306edata\u3092\u4f7f\u3046\u3079\u304d\u306a\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093.\n\n\u305d\u306e\u305f\u3081,fine-tuning\u306a\u3069\u3082\u51fa\u6765\u306a\u3044\u306e\u304b\u3082\u3057\u308c\u307e\u305b\u3093.","3f56225d":"# 1. \u904e\u53bb\u306e\u30b3\u30f3\u30da\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5185\u5bb9\u3092\u8ffd\u3063\u3066\u307f\u305f\n\n\u8a73\u7d30\u306ecode\u306f\u8ffd\u3063\u3066\u8ffd\u3046\u69d8\u306b\u3059\u308b.","624146a4":"\u8907\u6570\u306e\u6307\u6a19\u306b\u304a\u3044\u3066,true_positive_rate\u3068false_positive_rate\u304b\u3089\u306a\u308bROC\u66f2\u7dda\u306eAUC\u306e\u5e73\u5747\u5024\u3067\u30e2\u30c7\u30eb\u3092\u4f5c\u6210\u3059\u308b. -> \u3053\u308c\u306e\u512a\u79c0\u306a\u30e2\u30c7\u30eb\u306f\u4f7f\u3048\u305d\u3046  \n\n\u3053\u308c\u306e\u6307\u6a19\u3060\u3068max_score\u306f1.0\u306e\u306f\u305a\u306a\u306e\u306b,\u306a\u305c\u304bover\u3057\u3066\u3044\u308bcode\u304c\u3042\u3063\u305f.\n\n[Classifying multi-label comments (0.9741 lb)](https:\/\/www.kaggle.com\/rhodiumbeng\/classifying-multi-label-comments-0-9741-lb)","c0dd77af":"\u5c11\u3057\u7591\u554f\u3067\u3059\u304c,\u4eca\u3044\u308bpath\u3068\u95a2\u4fc2\u306a\u304fimport\u3067\u304d\u3066\u3044\u308b\u306e\u4e0d\u601d\u8b70\u3067\u3059\u306d.  \n```\n..\/input\/*\n```\n\u3068\u3057\u305f\u65b9\u304c\u826f\u3044\u306e\u304b\u3068\u601d\u3044\u307e\u3057\u305f...(\u3082\u3061\u308d\u3093\u3053\u3063\u3061\u3067\u3082\u3067\u304d\u307e\u3059)  \nos.walk\u304c\u304a\u305d\u3089\u304f\u6a5f\u80fd\u3057\u3066\u3044\u308b\u3068\u601d\u3046\u306e\u3067\u3059\u304c,\u672c\u7b4b\u3067\u306a\u3044\u306e\u3067\u3042\u3068\u3067local\u3067\u5b9f\u9a13\u3092\u3057\u78ba\u8a8d\u3057\u307e\u3059.","733ece00":"# 0. \u81ea\u5206\u3067\u3067\u304d\u308b\u3053\u3068\u304c\u3042\u308b\u304b\u8003\u3048\u3066\u307f\u305f","20400e8b":"## a. [Toxic Comment Classification Challenge](https:\/\/www.kaggle.com\/c\/jigsaw-toxic-comment-classification-challenge)","46469acd":"[AutoNLP for toxic ratings ;)](https:\/\/www.kaggle.com\/abhishek\/autonlp-for-toxic-ratings) \u3067\u306f,\n[autonlp_toxic_1](https:\/\/www.kaggle.com\/abhishek\/autonlp-toxic-1)\u3068\u3044\u3046\u30e2\u30c7\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059.","e7db5725":"\u3053\u3053\u3067,Data\u3067\u7d39\u4ecb\u3055\u308c\u3066\u3044\u308b\u904e\u53bb\u306e\u30b3\u30f3\u30da\u30c6\u30a3\u30b7\u30e7\u30f3\u306e\u5185\u5bb9\u3068Hot\u306aDiscussion\u3068Code\u306e\u5185\u5bb9\u3092\u8ffd\u3063\u3066\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059.","7c598a46":"\u4eca\u56de\u306f\u4e00\u3064\u306e\u6307\u6a19\u306eROC\u3067\u6c7a\u307e\u308bmetric\u3067\u3059.\n\n[JMTC-20 lb.9508 Mono-lingual models](https:\/\/www.kaggle.com\/mint101\/jmtc-20-lb-9508-mono-lingual-models)","6d93a867":"# 2. Hot \u306aCode\u3068Discussion\n\n\u307e\u3060,\u30b3\u30f3\u30da\u304c\u958b\u59cb\u3055\u308c\u305f\u3070\u304b\u308a\u306a\u306e\u3067,\u3068\u308a\u3042\u3048\u305adiscussion\u306f\u7121\u3057\u306bcode\u3092\u307f\u308b\u3053\u3068\u306b\u3057\u307e\u3059.","f613dc51":"## c. [Jigsaw Multilingual Toxic Comment Classification](https:\/\/www.kaggle.com\/c\/jigsaw-multilingual-toxic-comment-classification)","ceef6c9b":"\u307e\u3060\u81ea\u7136\u8a00\u8a9e\u51e6\u7406\u306e\u57fa\u790e\u304c\u3042\u3084\u3075\u3084\u306a\u90e8\u5206\u304c\u3042\u308b\u306e\u3067,\u30e2\u30c7\u30eb\u306e\u8a73\u7d30\u306f\u5f8c\u306b\u307f\u3066\u3044\u304d\u305f\u3044\u3068\u601d\u3044\u307e\u3059."}}