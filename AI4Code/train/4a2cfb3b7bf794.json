{"cell_type":{"e94ef76f":"code","c139d753":"code","7fa8d971":"code","6588bff9":"code","e32e15ba":"code","2a45216e":"code","f6158957":"code","324c7355":"code","f31ef441":"code","df143f5e":"code","a733ceb9":"markdown","9922b6b8":"markdown","d00c9a0a":"markdown","2254c46f":"markdown"},"source":{"e94ef76f":"pip install finance-datareader","c139d753":"pip install plotly==4.14.3","7fa8d971":"pip install bs4","6588bff9":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport plotly.express as px\n\nimport pandas as pd\nimport numpy as np\nimport FinanceDataReader as fdr","e32e15ba":"df = pd.read_csv(\"..\/input\/krx-data-version210317\/data_0926_20210318.csv\",encoding = 'cp949')","2a45216e":"df.head()","f6158957":"kospi = df[df['\uc2dc\uc7a5\uad6c\ubd84'] =='KOSPI']\nnot_use_columns = [\"\uc18c\uc18d\ubd80\",\"\uc885\uac00\",\"\ub300\ube44\",\"\uc2dc\uac00\",\"\uace0\uac00\",\"\uc800\uac00\",\"\uac70\ub798\ub7c9\",\"\uac70\ub798\ub300\uae08\",\"\uc0c1\uc7a5\uc8fc\uc2dd\uc218\"]\nkospi = kospi.drop(not_use_columns, axis=1)\n\nkospi.head()","324c7355":"stocks = fdr.StockListing('KOSPI')\nstocks.head()","f31ef441":"sector = stocks[[\"Symbol\",\"Sector\"]]\n\nsector = sector.to_numpy()\n\ndef make_sector(code):\n  for i in range(len(sector)):\n    if code == sector[i][0]:\n      return sector[i][1]\n  return 'No'\n\nkospi[\"\uc139\ud130\"] = kospi[\"\uc885\ubaa9\ucf54\ub4dc\"].map(make_sector)\n\nkospi = kospi.fillna('\uc6b0\uc120\uc8fc')\n\nkospi.head()","df143f5e":"fig = px.treemap(kospi, path=['\uc2dc\uc7a5\uad6c\ubd84','\uc139\ud130','\uc885\ubaa9\uba85'], values='\uc2dc\uac00\ucd1d\uc561',\n                  color='\ub4f1\ub77d\ub960', hover_data=['\ub4f1\ub77d\ub960','\uc885\ubaa9\ucf54\ub4dc'],\n                 range_color=(-0.3,0.3),color_continuous_scale='balance')\nfig.update_traces(textposition='middle center',text = kospi['\ub4f1\ub77d\ub960'])\nfig.update_traces(textfont_color='white',textfont_size=25)\nfig.update_layout(height=800)\nfig.show()","a733ceb9":"### In korea, Red color means that market price is increase, and Blue means that market price is decrease. ","9922b6b8":"# Download and Import libraries","d00c9a0a":"# This is Korean notebook. Sorry :)\n----\n## I try to make treemap like finbiz's treemap.\n\n#### finbiz url : https:\/\/finviz.com\/map.ashx?t=sec\n----\n","2254c46f":"# Load Dataset\n----\n## This dataset from KRX that korea market \nurl : http:\/\/www.krx.co.kr\/main\/main.jsp"}}