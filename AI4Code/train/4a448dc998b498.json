{"cell_type":{"3daa6ff6":"code","14f6f6f8":"code","b2638f49":"code","8efd8074":"code","f97c49e6":"code","ba79e839":"code","bb24879a":"markdown"},"source":{"3daa6ff6":"import pandas as pd","14f6f6f8":"ratings= pd.read_csv(\"..\/input\/movies-and-ratings-dataset\/ratings.csv\")\nmovies= pd.read_csv(\"..\/input\/movies-and-ratings-dataset\/movies.csv\")\nratings=pd.merge(movies,ratings).drop(['genres','timestamp'],axis=1)\nratings.head()","b2638f49":"user_ratings=ratings.pivot_table(index=['userId'],columns=['title'],values='rating')\nuser_ratings.head()","8efd8074":"#REMOVE MOVIES HAS LESS THAN 10 USERS RATED IT \n#REPLACE NAN WITH 0\nuser_ratings=user_ratings.dropna(thresh=10,axis=1).fillna(0)\nuser_ratings","f97c49e6":"item_similarity_df=user_ratings.corr(method='pearson')\nitem_similarity_df.head(50)","ba79e839":"def get_similar_movies(movie_name,user_rating):\n    \n    #will keep the + values on the top of the list \n    similar_score=item_similarity_df[movie_name]*(user_rating-2.5)\n    similar_score=similar_score.sort_values(ascending=False)\n    \n    return similar_score\n\naction_lover=[('2 Fast 2 Furious (Fast and the Furious 2, The) (2003)',5),\n              ('12 Years a Slave (2013)',4),('2012 (2009)',3)\n              ,('(500) Days of Summer (2009)',2)]\n\nsimilar_movies=pd.DataFrame()\n\nfor movie,rating in action_lover:\n    similar_movies=similar_movies.append(get_similar_movies(movie,rating),ignore_index=True)\n    \nsimilar_movies.head()\nsimilar_movies.sum().sort_values(ascending=False)\n\n","bb24879a":"#### Similaroty matrix\n"}}