{"cell_type":{"a7df384b":"code","cc22470f":"code","2e84fdc8":"code","350b72c7":"code","e5392a28":"code","b71b169f":"code","9bd75b16":"code","af6cd0d6":"code","8355fd0d":"code","4a3af3d6":"code","ce3430a9":"code","ee6b0a2c":"code","452c9292":"code","0c76d976":"code","667bb5c0":"markdown","daab5ab4":"markdown","202116e7":"markdown"},"source":{"a7df384b":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\nimport os\nprint(os.listdir(\"..\/input\"))","cc22470f":"# View\nimport matplotlib.pyplot as plt\nfrom PIL import Image, ImageFilter\n%matplotlib inline","2e84fdc8":"from collections import Counter","350b72c7":"# Load tabular data\ntrain_df = pd.read_csv(\"..\/input\/train.csv\", index_col=0)\nlabels_df = pd.read_csv(\"..\/input\/labels.csv\", index_col=0)\nsample_df = pd.read_csv(\"..\/input\/sample_submission.csv\", index_col=0)","e5392a28":"train_df.describe()","b71b169f":"labels_df.describe()","9bd75b16":"sample_df.describe()","af6cd0d6":"flatten = lambda x: [z for y in x for z in (flatten(y) if hasattr(y, '__iter__') and not isinstance(y, str) else (y, ))]","8355fd0d":"attribute_dist = pd.Series(flatten(list(train_df[\"attribute_ids\"].map(lambda x: x.split(\" \"))))).value_counts()\nattribute_dist = pd.DataFrame(attribute_dist, columns=[\"Count\"])\nattribute_dist = attribute_dist.reset_index()\nattribute_dist.columns = [\"attribute_id\", \"Count\"]\nattribute_dist[\"attribute_name\"] = attribute_dist[\"attribute_id\"].map(lambda x: labels_df.loc[int(x)].values[0])\nattribute_dist[\"ratio\"] = attribute_dist[\"Count\"] \/ attribute_dist[\"Count\"].sum()\nattribute_dist[\"cumsum\"] = attribute_dist[\"ratio\"].cumsum()\nattribute_dist.columns = [\"attribute_id\", \"Count\", \"attribute_name\", \"ratio\", \"cumsum\"]\nattribute_dist = attribute_dist[[\"attribute_id\", \"attribute_name\", \"Count\", \"ratio\", \"cumsum\"]]","4a3af3d6":"\nattribute_dist","ce3430a9":"plt.figure(figsize=(16, 7))\nplt.plot(attribute_dist[\"cumsum\"])\nplt.xlabel(\"attribute_dist\")\nplt.ylabel(\"cumsum\")","ee6b0a2c":"# Rank A\nrank_A = attribute_dist[attribute_dist[\"cumsum\"] <= 0.7]\n# Rank B\nrank_B = attribute_dist[(attribute_dist[\"cumsum\"] > 0.7) & (attribute_dist[\"cumsum\"] <= 0.9)]\n# Rank C\nrank_C = attribute_dist[attribute_dist[\"cumsum\"] > 0.9]","452c9292":"len(rank_A), len(rank_B), len(rank_C)","0c76d976":"attribute_dist.to_csv(\"attribute_distribution.csv\")\nattribute_dist","667bb5c0":"# ABC analysis\nhttps:\/\/en.wikipedia.org\/wiki\/ABC_analysis\n\nToo many labels are not appropriate for kernel competition. One of the way is to classify by using only A rank.","daab5ab4":"# Describe","202116e7":"# To Be Continued"}}