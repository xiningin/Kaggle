{"cell_type":{"26ac16da":"code","1b259792":"code","28913a89":"code","867cb6d3":"code","af1354d9":"code","bc795eb3":"code","93205be3":"code","bea16a62":"code","3f32e42b":"code","7c95e883":"code","dfb41173":"code","814a1f18":"code","e1196c4b":"code","53f93c36":"code","cab42436":"code","f8094390":"code","13502849":"code","804d4358":"code","9bed83de":"code","9ad52356":"code","dec78b6c":"code","e1be9ca5":"code","69426b05":"code","94dbfe5c":"code","11d8e47b":"code","389a49cd":"code","8a8da641":"code","f5b6e245":"code","8670bca3":"code","0d9dc0bb":"code","4a7da3ec":"code","005f07f6":"code","5c853969":"code","0facebda":"code","ae1032ff":"code","538f6625":"code","f2e82c86":"code","cb17b8fa":"code","161f89ab":"code","51d13b25":"code","c50066bb":"code","98721bce":"code","60696edb":"markdown","b7dd0cc4":"markdown","24d5d885":"markdown","53343ed4":"markdown","e773f0da":"markdown","2d0cac8f":"markdown","4601c488":"markdown","49813812":"markdown","db3e0c30":"markdown","3e5b9e30":"markdown","0c452f87":"markdown","71338cf9":"markdown","5f7239ef":"markdown"},"source":{"26ac16da":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","1b259792":"train = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","28913a89":"train.head()","867cb6d3":"train.describe()","af1354d9":"train.info()","bc795eb3":"train.isnull().sum()","93205be3":"sns.countplot(train['Survived'])","bea16a62":"sns.countplot(x='Survived',data=train,hue='Sex')","3f32e42b":"sns.countplot(x='Survived',data=train,hue='Pclass')","7c95e883":"sns.distplot(train['Age'].dropna(),kde=False,bins=30)","dfb41173":"sns.countplot(x='SibSp',data=train)","814a1f18":"train.isnull().sum()","e1196c4b":"train.groupby('Pclass').mean()","53f93c36":"def calculate_age_train(cols):\n    Age = cols[0]\n    Pclass = cols[1]\n    \n    if pd.isnull(Age):\n        if Pclass == 1:\n            return 38.2\n        elif Pclass == 2:\n            return 29.8\n        else:\n            return 25.1\n    else:\n        return Age","cab42436":"test.groupby('Pclass').mean()","f8094390":"def calculate_age_test(cols):\n    Age = cols[0]\n    Pclass = cols[1]\n    \n    if pd.isnull(Age):\n        if Pclass == 1:\n            return 40.9\n        elif Pclass == 2:\n            return 28.7\n        else:\n            return 24.0\n    else:\n        return Age","13502849":"train['Age'] = train[['Age','Pclass']].apply(calculate_age_train,axis=1)\ntest['Age'] = test[['Age','Pclass']].apply(calculate_age_test,axis=1)","804d4358":"train['Sex'] = train['Sex'].map({'male':0,'female':1})\ntest['Sex'] = test['Sex'].map({'male':0,'female':1})","9bed83de":"mapping = {\"S\": 1, \"C\": 2, \"Q\": 3}\ntrain['Embarked'] = train['Embarked'].map(mapping)\ntest['Embarked'] = test['Embarked'].map(mapping)","9ad52356":"train.head()","dec78b6c":"train.isnull().sum()","e1be9ca5":"train['Embarked'].fillna(1,inplace=True)","69426b05":"test.isnull().sum()","94dbfe5c":"test.Fare.mean()","11d8e47b":"def faree(x):\n    if pd.isnull(x):\n        return 35.6\n    else:\n        return x","389a49cd":"test['Fare'] = test['Fare'].apply(lambda x:faree(x))","8a8da641":"train.dropna(axis=1,inplace=True)\ntest.dropna(axis=1,inplace=True)","f5b6e245":"train.isnull().sum()","8670bca3":"train.drop(['Name','Ticket','PassengerId'],axis=1,inplace=True)\ntest.drop(['Name','Ticket'],axis=1,inplace=True)","0d9dc0bb":"X = train.drop(['Survived'],axis=1)\ny = train['Survived']","4a7da3ec":"train.head()","005f07f6":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30)","5c853969":"from sklearn.metrics import classification_report\nfrom sklearn.linear_model import LogisticRegression\nlogmodel = LogisticRegression()","0facebda":"logmodel.fit(X_train,y_train)","ae1032ff":"pred = logmodel.predict(X_test)","538f6625":"from sklearn.metrics import accuracy_score\nacclogreg = round(accuracy_score(pred, y_test)*100, 2)\nacclogreg","f2e82c86":"from sklearn.tree import DecisionTreeClassifier","cb17b8fa":"dtree = DecisionTreeClassifier()\ndtree.fit(X_train,y_train)\npred_tree = dtree.predict(X_test)","161f89ab":"from sklearn.ensemble import RandomForestClassifier","51d13b25":"rfc = RandomForestClassifier(n_estimators=300)\nrfc.fit(X_train,y_train)\nrfc_pred = rfc.predict(X_test)","c50066bb":"print(classification_report(y_test, pred)) #Logistic Regression\nprint(classification_report(y_test, pred_tree)) #DecisionTree\nprint(classification_report(y_test, rfc_pred)) #Random Forest\n\nacclogreg = round(accuracy_score(rfc_pred, y_test)*100, 2)\nacclogreg","98721bce":"Ids = test['PassengerId']\npredictions = rfc.predict(test.drop('PassengerId',axis=1))\n\noutput = pd.DataFrame({ 'PassengerId' : Ids, 'Survived': predictions })\noutput.to_csv('submission.csv', index=False)","60696edb":"# CLEANING","b7dd0cc4":"There are more young people on titanic (20 to 35 yrs)","24d5d885":"Survived rate is less and more people die","53343ed4":"**Random Forest**","e773f0da":"More females are survived while more males did not survived","2d0cac8f":"Majority of passengers have one or none siblings or spouse","4601c488":"**Decision Tree**","49813812":"Majority of thrid class passengers did not survived","db3e0c30":"From above we have missing data in age, cabin and embarked columns","3e5b9e30":"# **Data Analysis**","0c452f87":"Age data is missing so we can calulate mean age based on their Pclass","71338cf9":"**Logistic Regression**","5f7239ef":"Explore the data"}}