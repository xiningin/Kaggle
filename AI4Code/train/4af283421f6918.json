{"cell_type":{"2aeb7a0b":"code","0b9d9d19":"code","f92f9d6b":"code","1824bb27":"code","e6780f98":"code","d4c31c1d":"code","fe6b6518":"code","35c11c2b":"code","08a2e953":"code","9e276327":"code","84b018e4":"code","972f0784":"code","6d4dc762":"code","e0bba4a5":"code","686c91ff":"code","c49d3827":"code","d55de6b0":"code","fd8a97a3":"code","2ba9a71b":"markdown","bf522af0":"markdown","4523a9e9":"markdown"},"source":{"2aeb7a0b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0b9d9d19":"import numpy as np # linear algebra\nimport pandas as pd\n#from pandasql import sqldf\nimport matplotlib.pyplot as plt\nimport seaborn as sns","f92f9d6b":"import dateutil.parser\nimport plotly.graph_objects as go\nimport plotly.express as px","1824bb27":"df=pd.read_csv('..\/input\/internet-articles-data-with-users-engagement\/articles_data.csv')","e6780f98":"df.head()","d4c31c1d":"df.info()","fe6b6518":"df.describe()","35c11c2b":"fig=px.pie(df,values='top_article',names='source_name',title='news article value',hole=0.5)\nfig.update_traces(textposition='inside',textinfo='percent+label')\nfig.show()","08a2e953":"fig=px.pie(df,values='engagement_share_count',names='source_name',title='news popularity',hole=0.5)\nfig.update_traces(textposition='inside',textinfo='percent+label')\nfig.show()","9e276327":"top=df['source_name'].value_counts().head()\ntop","84b018e4":"top_list=top.index.tolist()\ndf_sample=df[df[\"source_name\"].isin(top_list)]","972f0784":"def topList(df,n,main_field,grouping_fields,sumi=False):\n  allColumns=grouping_fields+[main_field]\n  titles=df.dropna(subset=allColumns)\n  titles=titles[allColumns]\n  if sumi:\n    titles=titles.groupby(grouping_fields).sum()\n  titles=titles.sort_values([main_field],ascending=False)\n  titles.rename(columns={main_field:main_field+'sum'},inplace=True)\n  return titles.head(n)\n","6d4dc762":"topList(df_sample,10,main_field='engagement_reaction_count',grouping_fields=['title','source_name'])","e0bba4a5":"topList(df_sample,10,main_field='top_article',grouping_fields=['author'],sumi=True)","686c91ff":"def engagement_publisher(df):\n  arr=[]\n  publishers=list(df['source_name'].unique())\n  engagement=['engagement_reaction_count','engagement_share_count','engagement_comment_count']\n  for i in engagement:\n    df_eng=df.groupby(['source_name'])[i].agg('sum')\n    arr.append((i,df_eng.tolist()))\n  return publishers,arr\npublishers,engagement_publisher=engagement_publisher(df_sample)\n\nfig=go.Figure(go.Bar(x=publishers,y=engagement_publisher[0][1],name=engagement_publisher[0][0]))\nfor engagement_name,engagement_results in engagement_publisher[1:]:\n  fig.add_trace(go.Bar(x=publishers,y=engagement_results,name=engagement_name))\nfig.update_layout(barmode='relative',xaxis={'categoryorder':'array'})\nfig.show()","c49d3827":"df_temp = df_sample \\\n    .groupby(['source_id'])['source_name','top_article', 'engagement_reaction_count', 'engagement_comment_count','engagement_share_count', 'engagement_comment_plugin_count']\\\n    .agg('sum')","d55de6b0":"df_temp=(df_temp-df_temp.min())\/(df_temp.max()-df_temp.min())\npl1=sns.heatmap(df_temp,cmap=\"YlGnBu\",robust=True)\npl1.tick_params(labelsize=14)\npl1.figure.set_size_inches((5,5))","fd8a97a3":"fig=px.pie(df,values='engagement_reaction_count',names='source_name',title='reactions',hole=0.5)\nfig.update_traces(textposition='inside',textinfo='percent+label')\nfig.show()","2ba9a71b":"**top performers**","bf522af0":"# Sources with Maximum Reaction","4523a9e9":"# **Engagement Per Publisher**"}}