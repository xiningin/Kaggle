{"cell_type":{"c4342eab":"code","dd865c9d":"code","8eb02c58":"code","650faf20":"code","482ec835":"code","167b8da9":"code","1fd07bab":"code","ff2dcb00":"code","ee87e59a":"code","5624ff36":"code","191f8ba3":"code","81a4db28":"code","7af2f712":"code","ff34f2f7":"code","f9e8b988":"code","d4cf0892":"code","c708d99a":"code","4960fe3e":"code","2763913d":"code","7a1ec557":"code","4dec5d06":"code","17e04de9":"code","e49b5e82":"markdown","e446d6c2":"markdown","8e5753ca":"markdown","34d65853":"markdown","92228059":"markdown","9db81008":"markdown","beb9fe2f":"markdown","ff7bf13e":"markdown","2aadbd59":"markdown","7058a7c5":"markdown","82745c2e":"markdown","83a6b933":"markdown","7223345b":"markdown","b7ed22e8":"markdown","45d75235":"markdown","f4d200ac":"markdown","9209805f":"markdown","31b0ebb4":"markdown"},"source":{"c4342eab":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","dd865c9d":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","8eb02c58":"import chart_studio.plotly as py\nimport plotly.express as px\nimport plotly.graph_objects as go","650faf20":"from plotly import __version__\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot","482ec835":"q1 = pd.read_csv('\/kaggle\/input\/toronto-bikeshare-data\/bikeshare2018\/bikeshare2018\/Bike Share Toronto Ridership_Q1 2018.csv')\nq2 = pd.read_csv('\/kaggle\/input\/toronto-bikeshare-data\/bikeshare2018\/bikeshare2018\/Bike Share Toronto Ridership_Q2 2018.csv')\nq3 = pd.read_csv('\/kaggle\/input\/toronto-bikeshare-data\/bikeshare2018\/bikeshare2018\/Bike Share Toronto Ridership_Q3 2018.csv')\nq4 = pd.read_csv('\/kaggle\/input\/toronto-bikeshare-data\/bikeshare2018\/bikeshare2018\/Bike Share Toronto Ridership_Q4 2018.csv')","167b8da9":"toronto = [q1, q2, q3, q4]\nbike_share = pd.concat(toronto)\nbike_share.head()","1fd07bab":"bike_share['trip_start_time'] = pd.to_datetime(bike_share['trip_start_time'])\nbike_share['trip_stop_time'] = pd.to_datetime(bike_share['trip_stop_time'])","ff2dcb00":"bike_share['hour_start'] = bike_share['trip_start_time'].apply(lambda time: time.hour)\nbike_share['month_start'] = bike_share['trip_start_time'].apply(lambda time: time.month)\nbike_share['weekday_start'] = bike_share['trip_start_time'].apply(lambda time: time.dayofweek)","ee87e59a":"bike_share['hour_stop'] = bike_share['trip_stop_time'].apply(lambda time: time.hour)\nbike_share['month_stop'] = bike_share['trip_stop_time'].apply(lambda time: time.month)\nbike_share['weekday_stop'] = bike_share['trip_stop_time'].apply(lambda time: time.dayofweek)","5624ff36":"mon = {1:'Jan',2:'Feb',3:'Mar',4:'Apr',5:'May',6:'Jun',7:'Jul',8:'Aug',9:'Sep',10:'Oct',11:'Nov',12:'Dec'}\nbike_share['month_start'] = bike_share['month_start'].map(mon)\nbike_share['month_stop'] = bike_share['month_stop'].map(mon)","191f8ba3":"day = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}\nbike_share['weekday_start'] = bike_share['weekday_start'].map(day)\nbike_share['weekday_stop'] = bike_share['weekday_stop'].map(day)","81a4db28":"bike_share.head()","7af2f712":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nsns.countplot(x='user_type',data=bike_share,palette='viridis')\nplt.title('Bike Share Toronto Membership 2018')","ff34f2f7":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nridership = sns.countplot(data=bike_share, x='month_start', hue='user_type', palette='coolwarm')\nplt.title('Bike Share Toronto Ridership 2018')\nplt.legend(bbox_to_anchor=(1.02, 1), loc=2, borderaxespad=0.)","f9e8b988":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nridership = sns.countplot(data=bike_share, x='weekday_start', hue='user_type', palette='coolwarm')\nplt.title('Bike Share Toronto Ridership 2018')\nplt.legend(bbox_to_anchor=(1.02, 1), loc=2, borderaxespad=0.)","d4cf0892":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nridership = sns.countplot(data=bike_share, x='hour_start', hue='user_type', palette='coolwarm')\nplt.title('Bike Share Toronto Ridership 2018')\nplt.legend(bbox_to_anchor=(1.02, 1), loc=2, borderaxespad=0.)","c708d99a":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nsns.countplot(y=bike_share[bike_share['user_type']=='Annual Member']['from_station_name'],data=bike_share, palette='coolwarm',order=bike_share[bike_share['user_type']=='Annual Member']['from_station_name'].value_counts().index[:5])\nplt.title('Top 5 Departing Stations (Annual Members)')","4960fe3e":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nsns.countplot(y=bike_share[bike_share['user_type']=='Annual Member']['to_station_name'],data=bike_share, palette='coolwarm',order=bike_share[bike_share['user_type']=='Annual Member']['to_station_name'].value_counts().index[:5])\nplt.title('Top 5 Arriving Stations (Annual Members)')","2763913d":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nsns.countplot(y=bike_share[bike_share['user_type']=='Casual Member']['from_station_name'],data=bike_share, palette='viridis',order=bike_share[bike_share['user_type']=='Casual Member']['from_station_name'].value_counts().index[:5])\nplt.title('Top 5 Departing Stations (Casual Members)')","7a1ec557":"plt.figure(figsize=(10,5))\nsns.set_style('darkgrid')\nsns.countplot(y=bike_share[bike_share['user_type']=='Casual Member']['to_station_name'],data=bike_share, palette='viridis',order=bike_share[bike_share['user_type']=='Casual Member']['to_station_name'].value_counts().index[:5])\nplt.title('Top 5 Arriving Stations (Casual Members)')","4dec5d06":"daily_activity = bike_share.groupby(by=['weekday_start','hour_start']).count()['user_type'].unstack()\ndaily_activity.head()","17e04de9":"plt.figure(figsize=(12,6))\nsns.heatmap(daily_activity,cmap='coolwarm')","e49b5e82":"Annual members rode mostly during the week; especially from Tuesday to Thursday. Casual members were riding mostly on weekends.","e446d6c2":"Ridership per month:","8e5753ca":"Now I'm going to extract the hour, month and day of the week from both columns:","34d65853":"82% are annual members!","92228059":"Before moving forward with the EDA, I'm going to convert the objects into DateTime format:","9db81008":"Now the top stations for casual members:","beb9fe2f":"Since I'm going to do exploratory data analysis on the 2018 data, I'll load the following datasets:","ff7bf13e":"Here's the head of the DataFrame:","2aadbd59":"The amount of rides increased as the weather got warmer. Ridership peaked during the summer months.","7058a7c5":"Ridership per day:","82745c2e":"I'm going to create a heat map to see the daily activity.\n\nBefore that happens, I'll group the DataFrame by the hour and the day of the week:","83a6b933":"Ridership per hour:","7223345b":"Annual members rode between 8am-9am and 4pm-6pm; while casual members were riding throughout the day (noon to the early evening hours).","b7ed22e8":"It's time to concatenate and see the head of the DataFrame:","45d75235":"Most of the activity occured on Wednesday, Tuesday and Thursday at 5. ","f4d200ac":"Let's first import our data visualization libraries!","9209805f":"So how did the Bike Share Toronto membership look in 2018?","31b0ebb4":"Now the top stations for annual members:"}}