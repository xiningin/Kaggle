{"cell_type":{"1e177b35":"code","f273571b":"code","1cb1f065":"code","41b76008":"code","2c9290d8":"code","e0eb1c53":"code","15f0815b":"code","07a5c2d8":"code","9b5185bd":"code","733ac924":"code","1f48da6e":"code","7e012516":"code","fdd43c04":"code","8a3c0ecb":"code","d0a866f4":"code","7c19c7a7":"code","45e2d4e9":"code","aab8a77f":"code","2607b16d":"code","26173257":"code","02f6425d":"code","e50d6dd9":"code","46ea135d":"code","b6f30df9":"code","a599b772":"code","6083bf0e":"code","8c382175":"code","5e7410fd":"code","35b5b22d":"code","aeea467d":"code","9a8bcd5e":"code","6cc852a4":"code","f94766b8":"code","eea373e4":"code","e47da3a6":"code","870f7d7a":"markdown","576edb96":"markdown","12b48e0b":"markdown","c61f3bcb":"markdown","b0740d4d":"markdown","5e221c8a":"markdown","d1f4848a":"markdown","05e3022b":"markdown","190663f4":"markdown","63cf850a":"markdown","030df60d":"markdown","ecef2fd5":"markdown","23a49668":"markdown","8a8ffa01":"markdown","d43cff7b":"markdown","519c401c":"markdown","7536cd17":"markdown","036cc9bd":"markdown","d8127b77":"markdown","6e784ef2":"markdown","7f24eaf3":"markdown","686cb944":"markdown","aea8ca0e":"markdown","38e84be5":"markdown","153c27f1":"markdown","12ae20e3":"markdown"},"source":{"1e177b35":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","f273571b":"data = pd.read_csv(\"..\/input\/gtd\/globalterrorismdb_0718dist.csv\", encoding='cp1252', low_memory=False)\ndata.head()","1cb1f065":"data.shape","41b76008":"data.isnull().any()","2c9290d8":"data.nunique()","e0eb1c53":"pd.set_option('display.max_columns', 135)\ndata.head()","15f0815b":"data.columns.values","07a5c2d8":"data.rename(columns={'iyear':'Year','imonth':'Month','iday':\"day\",'gname':'Group','country_txt':'Country','region_txt':'Region',\n                     'provstate':'State','city':'City','latitude':'latitude','longitude':'longitude','summary':'summary',\n                     'attacktype1_txt':'Attacktype','targtype1_txt':'Targettype','weaptype1_txt':'Weapon','nkill':'kill',\n                     'nwound':'Wound'},inplace=True)","9b5185bd":"data = data[['Year','Month','day','Country','State','Region','City','latitude','longitude',\"Attacktype\",'kill',\n               'Wound','target1','summary','Group','Targettype','Weapon','motive']]\ndata.head()","733ac924":"data.info()","1f48da6e":"data.describe()","7e012516":"data.corr()","fdd43c04":"plt.figure(figsize=(15,10))\nsns.heatmap(data.corr(), annot= True)\nplt.show()","8a3c0ecb":"data.isnull().sum()","d0a866f4":"\nprint(\"Country with most attacks: \",data[\"Country\"].value_counts().idxmax())\nprint(\"City with most attacks: \",data[\"City\"].value_counts().index[1])\nprint(\"Region with most attacks: \",data[\"Region\"].value_counts().idxmax())\nprint(\"Year with most attacks: \",data[\"Year\"].value_counts().idxmax())\nprint(\"Month with most attacks: \",data[\"Month\"].value_counts().idxmax())\nprint(\"Group with most attacks: \",data[\"Group\"].value_counts().index[1])\nprint(\"Most Attack Types: \",data[\"Attacktype\"].value_counts().idxmax())","7c19c7a7":"year = data['Year'].unique()\nyears_count = data['Year'].value_counts(dropna = False).sort_index()\nplt.figure(figsize = (15,10))\nsns.barplot(x = year, y = years_count)\nplt.xticks(rotation = 90)\nplt.xlabel('Attacking Year')\nplt.ylabel('Number of Attacks Each Year')\nplt.title('Attacks In Years')\nplt.show()","45e2d4e9":"plt.subplots(figsize=(20,10))\nsns.barplot(data['Country'].value_counts()[:10].index,data['Country'].value_counts()[:10].values)\nplt.title('Top Countries Affected')\nplt.xlabel('Countries')\nplt.ylabel('Count')\nplt.xticks(rotation = 90)\nplt.show()","aab8a77f":"plt.subplots(figsize=(20,10))\nsns.barplot(data['City'].value_counts()[:10].index,data['City'].value_counts()[:10].values,palette='YlOrBr_r')\nplt.title('Top Cities Affected')\nplt.xlabel('City')\nplt.ylabel('Count')\nplt.xticks(rotation = 90)\nplt.show()","2607b16d":"pd.crosstab(data.Year, data.Region).plot(kind='area',stacked=False,figsize=(20,10))\nplt.title('Terrorist Activities By Region In Each Year',fontsize=25)\nplt.ylabel('Number of Attacks',fontsize=20)\nplt.xlabel(\"Year\",fontsize=20)\nplt.show()","26173257":"# Pie Plot of AttackTypes\nplt.figure(figsize=(15,15))\ndata['Attacktype'].value_counts().plot.pie(autopct=\"%1.1f%%\")\nplt.show()","02f6425d":"# Pie Plot of TargetTypes\nplt.figure(figsize=(20,20))\ndata['Targettype'].value_counts().plot.pie(autopct=\"%1.1f%%\")\nplt.show()","e50d6dd9":"# Pie Plot of WeaponTypes\nplt.figure(figsize=(20,20))\ndata['Weapon'].value_counts().plot.pie(autopct=\"%1.1f%%\")\nplt.show()","46ea135d":"df = data[['Year','kill']].groupby(['Year']).sum()\ndf.head()","b6f30df9":"# Killed vs Year\nplt.figure(figsize = (15,7))\ndata.groupby(['Year'])['kill'].sum().sort_values(ascending = False).head(20).plot(kind = 'bar', colormap = 'PRGn')\nplt.xticks(rotation=90)\nplt.title('No. of people killed Year wise')\nplt.ylabel(\"Killed\")\nplt.show()","a599b772":"plt.figure(figsize = (15,7))\ndata.groupby(['Year'])['Wound'].sum().sort_values(ascending = False).head(20).plot(kind = 'bar', colormap = 'seismic')\nplt.xticks(rotation=90)\nplt.title('No. of people Injured\/yr')\nplt.ylabel(\"Injured\")\nplt.show()","6083bf0e":"\nplt.figure(figsize = (15,7))\ndata.groupby(['Country'])['kill'].sum().sort_values(ascending = False).head(10).plot(kind = 'bar', colormap = 'PRGn')\nplt.xticks(rotation=90)\nplt.title('No. of people killed Country wise')\nplt.ylabel(\"Killed\")\nplt.show()","8c382175":"\nplt.figure(figsize = (15,7))\ndata.groupby(['Region'])['kill'].sum().sort_values(ascending = False).head(10).plot(kind = 'bar', colormap = 'seismic')\nplt.xticks(rotation=90)\nplt.title('No. of people killed Region wise')\nplt.ylabel(\"Killed\")\nplt.show()","5e7410fd":"\nplt.figure(figsize = (15,7))\ndata.groupby(['Region'])['Wound'].sum().sort_values(ascending = False).head(10).plot(kind = 'bar', colormap = 'PRGn')\nplt.xticks(rotation=90)\nplt.title('No. of people wounded Region wise')\nplt.ylabel(\"Wounded\")\nplt.show()","35b5b22d":"\ncount_terror = data['Country'].value_counts()[:15].to_frame()\ncount_terror.columns=['Attacks']\ncount_kill=data.groupby ('Country')['kill'].sum().to_frame()\ncount_terror.merge(count_kill,left_index = True,right_index =True,how='left').plot.bar(width=0.9)\nfig=plt.gcf()\nplt.title(\"Attacks VS Killed\", fontsize=20)\nfig.set_size_inches(16,4)\nplt.show()","aeea467d":"df=data[['Group','Country','kill']]\ndf=df.groupby(['Group','Country'],axis=0).sum().sort_values('kill',ascending=False).drop('Unknown').reset_index().head(10)\ndf","9a8bcd5e":"\nplt.figure(figsize = (15,7))\nsns.barplot(x = data['Group'].value_counts()[1:11].values, y = data['Group'].value_counts()[1:11].index,palette='magma')\nplt.title('Top 10 Terrorist Organisation with Highest Terror Attacks')\nplt.ylabel('Terror Group Name')\nplt.xlabel('Number of Attacks')\nplt.xticks(rotation= 90)\nplt.show()","6cc852a4":"import folium\nfrom folium.plugins import MarkerCluster","f94766b8":"filterYr = data[\"Year\"] == 2015","eea373e4":"filterData = data[filterYr]\nreqFields = filterData.loc[:,\"City\":\"longitude\"]\nreqFields = reqFields.dropna()\nreqFieldsLst = reqFields.values.tolist()","e47da3a6":"map = folium.Map(location=[0,30],tiles=\"CartoDB positron\", zoom_start=2)\n\nmarkerCluster = folium.plugins.MarkerCluster().add_to(map)\n \nfor point in range(len(reqFieldsLst)):\n    folium.Marker(location=[reqFieldsLst[point][1],reqFieldsLst[point][2]],\n                            popup=reqFieldsLst[point][0]).add_to(markerCluster)\n    \nmap","870f7d7a":"### *Terrorist attack of a particular year*","576edb96":"# 3. Top affected Cities","12b48e0b":"# Exploratory Data Analysis - Global Terrorism","c61f3bcb":"# 12. Wounded vs Region","b0740d4d":"# 10. Killed vs Country","5e221c8a":"# 4. Activity each year","d1f4848a":"# 1. Year Vs Attacks","05e3022b":"# 5. Attack Types","190663f4":"# Correlation between the features","63cf850a":"# 2. Top Affected Countries","030df60d":"# Plotting on Map!","ecef2fd5":"# 13. Attacks VS Killed","23a49668":"# 11. Killed vs Region","8a8ffa01":"# 7. Weapon Types","d43cff7b":"### Don't forget to *upvote* if you find it useful\n### Feel free to ask in case of any queries\n## Thank You!","519c401c":"# 6. Target Types","7536cd17":"# 9. Injured vs Year","036cc9bd":"# General Analysis","d8127b77":"# Renaming important column values","6e784ef2":"# Importing libraries","7f24eaf3":"# Exploratory Data Analysis","686cb944":"# Data Analysis on Customised data","aea8ca0e":"# Terror Groups","38e84be5":"# 8. Deaths in Years","153c27f1":"# ***Conclusion and Results*** :\n\nCountry with the most attacks: **Iraq**\n\nCity with the most attacks: **Baghdad**\n\nRegion with the most attacks:**Middle East & North Africa**\n\nYear with the most attacks: **2014**\n\nMonth with the most attacks: **5**\n\nGroup with the most attacks: **Taliban**\n\nMost Attack Types: **Bombing\/Explosion**","12ae20e3":"# Importing dataset"}}