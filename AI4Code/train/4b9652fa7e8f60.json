{"cell_type":{"8e7b8f92":"code","c5913ae2":"code","86b614cb":"code","6906ba94":"code","32729eec":"code","fbf23e37":"code","2c4caa78":"code","ac42cc36":"code","f7c0dd13":"code","c2f6f613":"code","2da9aee2":"code","d30b22da":"code","af3f2685":"code","e966b5d5":"code","cadcd5ba":"code","a93cdf4a":"code","c32d94fc":"markdown","9f3db7f8":"markdown","fd1cf64c":"markdown","5b168319":"markdown","cb011149":"markdown","8acdb9a7":"markdown","17b04256":"markdown","90fe1bde":"markdown","95368250":"markdown","cdbf7a39":"markdown","efade364":"markdown","ae1a8399":"markdown","3f5fca08":"markdown","72268d49":"markdown","e18e9f71":"markdown","a4121629":"markdown","ed126986":"markdown","daf78436":"markdown","b11c2ec4":"markdown","6d71596b":"markdown","ee148a23":"markdown","520b822d":"markdown","210efecc":"markdown","19a098d0":"markdown"},"source":{"8e7b8f92":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\n\n%matplotlib inline\nsns.set_style(style=\"darkgrid\")\nplt.style.use(\"bmh\")","c5913ae2":"dataframe = pd.read_csv(\"..\/input\/statlog-heart-data-set\/statlog.csv\")\ndataframe.head()","86b614cb":"dataframe.isna().sum()","6906ba94":"dataframe.isnull().sum()","32729eec":"x = (dataframe.presence == 2)\nprint(\"No. of people with Heart Disease:\",x.sum())","fbf23e37":"y = (dataframe.presence == 1)\nprint(\"No. of people without Heart Disease:\",y.sum())","2c4caa78":"pd.set_option(\"display.float\", \"{:.2f}\".format)\ndfx = dataframe.drop(columns=[\"sex\",\"presence\"])\ndfx.describe()","ac42cc36":"dataframe.presence.value_counts().plot(kind=\"bar\",width=0.1,color=[\"lightgreen\",\"royalblue\"],legend=1,figsize=(8,5))\nplt.xticks(fontsize=12)\nplt.xlabel(\"1: Absence    2: Presence\", fontsize=12)\nplt.yticks(fontsize=12)\nplt.ylabel(\"No. of People\", fontsize=12)\nplt.legend([\"No. of people without heart disease\"],fontsize=12);\nplt.show()","f7c0dd13":"corr_matrix = dataframe.corr()\nfig, ax = plt.subplots(figsize=(22, 10))\nax = sns.heatmap(corr_matrix,annot=True,linewidths=0.5,fmt=\".2f\",cmap=\"YlGnBu\");\nbottom, top = ax.get_ylim()\nax.set_ylim(bottom + 0.5, top - 0.5);","c2f6f613":"dataframe.drop('presence', axis=1).corrwith(dataframe.presence).plot(kind='bar', grid=True, figsize=(20, 8), title=\"Correlation with target\",color=\"royalblue\");","2da9aee2":"categorical_val = []\ncontinous_val = []\nfor column in dataframe.columns:\n    print('-------------------------------')\n    print(f\"{column} : {dataframe[column].unique()}\")\n    if len(dataframe[column].unique()) <= 10:\n        categorical_val.append(column)\n    else:\n        continous_val.append(column)","d30b22da":"plt.figure(figsize=(20, 16))\nfor i, column in enumerate(categorical_val, 1):\n    plt.subplot(3, 3, i)\n    dataframe[dataframe[\"presence\"] == 2][column].hist(bins=10, color='royalblue', label='People with heart disease',alpha=0.8)\n    dataframe[dataframe[\"presence\"] == 1][column].hist(bins=10, color='green', label='People without heart disease',alpha=0.5)\n    plt.legend(fontsize=12)\n    plt.xlabel(column)\n    plt.ylabel(\"No. of People\")","af3f2685":"plt.figure(figsize=(20, 16))\nfor i, column in enumerate(continous_val, 1):\n    plt.subplot(3, 2, i)\n    dataframe[dataframe[\"presence\"] == 2][column].hist(bins=35, color='royalblue', label='People with heart disease', alpha=0.8)\n    dataframe[dataframe[\"presence\"] == 1][column].hist(bins=35, color='green', label='People without heart disease',alpha=0.5)\n    plt.legend(fontsize=12)\n    plt.xlabel(column)\n    plt.ylabel(\"No. of People\")","e966b5d5":"plt.figure(figsize=(15, 10))\nplt.scatter(dataframe.age[dataframe.presence==2],dataframe.thalach[dataframe.presence==2],c=\"royalblue\",s=75)\nplt.scatter(dataframe.age[dataframe.presence==1],dataframe.thalach[dataframe.presence==1],c=\"green\",alpha=0.5)\nplt.title(\"Heart Disease in function of Age and Max Heart Rate\",fontsize=14)\nplt.xlabel(\"Age\", fontsize=14)\nplt.ylabel(\"Max Heart Rate\", fontsize=14)\nplt.legend([\"Disease\", \"No Disease\"],fontsize=18);","cadcd5ba":"plt.figure(figsize=(15, 10))\nplt.scatter(dataframe.age[dataframe.presence==2],dataframe.chol[dataframe.presence==2],c=\"royalblue\",s=75)\nplt.scatter(dataframe.age[dataframe.presence==1],dataframe.chol[dataframe.presence==1],c=\"green\",alpha=0.5)\nplt.title(\"Heart Disease in function of Age and Serum Cholestoral(mg\/dl)\",fontsize=14)\nplt.xlabel(\"Age\", fontsize=14)\nplt.ylabel(\"Serum Cholestoral(mg\/dl)\", fontsize=14)\nplt.legend([\"Disease\", \"No Disease\"],fontsize=18);","a93cdf4a":"plt.figure(figsize=(15, 10))\nplt.scatter(dataframe.age[dataframe.presence==2],dataframe.trestbps[dataframe.presence==2],c=\"royalblue\",s=75)\nplt.scatter(dataframe.age[dataframe.presence==1],dataframe.trestbps[dataframe.presence==1],c=\"green\",alpha=0.5)\nplt.title(\"Heart Disease in function of Age and Resting Blood Pressure\",fontsize=14)\nplt.xlabel(\"Age\", fontsize=14)\nplt.ylabel(\"Resting Blood Pressure\", fontsize=14)\nplt.legend([\"Disease\", \"No Disease\"],fontsize=18);","c32d94fc":"5. Categorical Values Histogram","9f3db7f8":"---\n***Observations from the above plot:***\n- **trestbps**: *resting blood pressure anything above 120-140 is generally of concern.*\n- **chol**: *greater than 200 is of concern.*\n- **thalach**: *People with a maximum heart rate of over 120 are more likely to have heart disease.*\n- *the old peak of exercise-induced ST depression vs. rest looks at heart stress during exercise an unhealthy heart will stress more.*\n---\n\n","fd1cf64c":"---\n***Observations from correlation:***\n- *fbs and chol are the least correlated with the target variable.*\n- *All other variables have a significant correlation with the target variable.*\n---\n\n","5b168319":"\n\n---\n\n\n- *We have 120 people with heart disease and 150 people without heart disease.*\n- *We can balance our training dataset using SMOTE*\n\n\n---\n\n","cb011149":"**Loading Dataset into Dataframe:**","8acdb9a7":"Categorical and Continous Values:","17b04256":"\n\n---\n\n\n**OBSERVATION from above plots(8 & 9):**\n\nBoth Resting Blood Pressure and Serum Cholesterol shows a bit positive correlation but not that much. Also, Resting Blood Pressure and Serum Cholesterol have few Outliers which we will remove in preprocessing steps.\n\n\n---\n\n","90fe1bde":"**About Dataset:**\n\nThis dataset is a heart disease database similar to a database already present in the repository (Heart Disease databases) but in a slightly different form.*\n\nCheck UCI Machine Learning Repository for more heart Disease dataset.\n","95368250":"### **Exploratory Data Analysis:**","cdbf7a39":"2. No. of people with heart disease vs No. of people without heart disease","efade364":"1. **Checking missing and null values**","ae1a8399":"## **Statlog Heart Disease dataset (UCI Repository) \u2014 Exploratory Data Analysis**","3f5fca08":"6. **Continous Values Histogram:**","72268d49":"4. **CORRELATION WITH TARGET**","e18e9f71":"3. **CORRELAION MATRIX HEATMAP**","a4121629":"---\n\n***Observations from the above plot:***\n\n**cp {Chest pain}:** People with cp 4 are more likely to have heart disease than people with cp 1,2 and 3.\n\n**restecg {resting EKG results}:** People with a value of 2(reporting left ventricular hypertrophy, which can range from mild symptoms to severe problems) are more likely to have heart disease.\n\n**exang {exercise-induced angina}:** People with a value of 1 (Yes\u200a-\u200aangina induced by exercise) have more heart disease than people with a value of 0 (No\u200a-\u200aangina induced by exercise)\n\n**slope {the slope of the ST segment of peak exercise}:** People with a slope value of 2 (Flat) are more likely to have heart disease than people with a slope value of 1 and 3. Slope is 3(Downsloping) and 1 (Upsloping).\n\n**ca {number of major vessels (0\u20133) stained by fluoroscopy}:** The more blood movement the better, so people with ca equal to 0 are more likely to have heart disease.\n\n**thal {thalium stress result}:** People with a thal value of 7 (reversible defect) are more likely to have heart disease.\n\n---","ed126986":"\n\n---\n\n*This dataset looks perfect to use as we don\u2019t have missing as well as null values.*\n\n---\n\n","daf78436":"**Attribute Information:**\n\n1. age\n2. sex\n3. chest pain type (4 values)\n4. resting blood pressure\n5. serum cholesterol in mg\/dl\n6. fasting blood sugar > 120 mg\/dl\n7. resting electrocardiographic results (values 0,1,2)\n8. maximum heart rate achieved\n9. exercise induced angina\n10. oldpeak = ST depression induced by exercise relative to rest\n11. the slope of the peak exercise ST segment\n12. number of major vessels (0-3) colored by flourosopy\n13. thal: 3 = normal; 6 = fixed defect; 7 = reversable defect\n\n---\n\nAttributes types:\n\nReal: 1,4,5,8,10,12\n\nOrdered:11,\n\nBinary: 2,6,9\n\nNominal:7,3,13\n\n---\n\nVariable to be predicted:\n\nAbsence (1) or presence (2) of heart disease\n","b11c2ec4":"9. **SCATTER PLOT (Age Vs Resting Blood Pressure)**","6d71596b":"\n\n---\n\n\n**Observation from above plot:**\n\nThis data isn't correlated at all so it is of no use to us.\n\n\n\n---\n\n","ee148a23":"7. **SCATTER PLOT (Age Vs Max Heart Rate)**","520b822d":"\n\n---\n\n\n*Note: dataset also contains outliers*\n\n*For further use of this dataset, outliers must be removed while dealing with model to get better results*\n\n\n---\n\n","210efecc":"8. **SCATTER PLOT (Age Vs Serum Cholestoral(mg\/dl))**","19a098d0":"**Importing some necessary libraries for Data Analysis:**"}}