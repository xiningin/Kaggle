{"cell_type":{"f5ba6a78":"code","a7e0848d":"code","03da941a":"code","59c15900":"code","ce2f54b3":"code","2ae0e6df":"code","8c7f7ca2":"code","5cf5d899":"code","48aca781":"code","4f321d27":"code","2e0b625a":"code","ddb67b3c":"code","318256c3":"code","06e2cf29":"code","c0355e03":"code","1e0d5192":"code","a5326648":"code","a04bfbc6":"code","e4223f4c":"code","42d0f5fb":"code","25cb94d4":"code","e2529896":"code","3a5ea67e":"code","182fcf03":"code","9774b78f":"code","688fe68a":"code","b1d7ab58":"code","2ce56612":"code","e748302a":"code","1ca0a808":"code","5b6578d6":"code","66132bac":"code","73daec66":"code","0799596e":"markdown","9c3595c6":"markdown","62d2cb0f":"markdown","f5068355":"markdown","46284f40":"markdown","2eaa6aad":"markdown","6c084dc7":"markdown"},"source":{"f5ba6a78":"import pandas as pd\nimport numpy as np\nimport seaborn as sb\nimport matplotlib.pyplot as plt\n\n# for colab\nimport os\nos.environ['KAGGLE_CONFIG_DIR']='\/content'\n","a7e0848d":"# for colab\n#!kaggle competitions download -c nfl-big-data-bowl-2022","03da941a":"# Loading dataset games.csv\ngames = pd.read_csv('..\/input\/nfl-big-data-bowl-2022\/games.csv')","59c15900":"games.head()","ce2f54b3":"total=games['season'].value_counts().values.sum()\nseason=games['season'].value_counts().index\nNo=games['season'].value_counts().values","2ae0e6df":"plt.figure(figsize=(8,6))\nplt.pie(x=No,labels=season,colors=['gold','wheat','yellowgreen'],wedgeprops={'linewidth':2,'edgecolor':'k'},textprops={'fontweight':'bold'},autopct='%1.1f%%')\nplt.title('No of games per year',fontdict={'fontweight':'bold'})\nplt.show()","8c7f7ca2":"# Loading dataset players.csv\nplayers= pd.read_csv('..\/input\/nfl-big-data-bowl-2022\/players.csv')","5cf5d899":"players.head()","48aca781":"import missingno as msno\nfig=plt.figure(figsize=(6,5))\nmsno.bar(games)\nplt.show()","4f321d27":"def bar_plot(col,df,cond,title):\n  plt.figure(figsize=(10,8))\n  sb.countplot(y=col,data=df,order=cond,palette='coolwarm_r')\n  plt.title(title,fontsize=16)\n  plt.show()","2e0b625a":"con=players['Position'].value_counts().index\nbar_plot('Position',players,con,'No of players wrt position')","ddb67b3c":"players['birthDate']=pd.to_datetime(players['birthDate']).dt.year","318256c3":"players['height']=players['height'].str.split('-').str[0].astype(int)","06e2cf29":"con_1=players['height'].value_counts().index\nbar_plot('height',players,con_1,'No of players wrt height')","c0355e03":"#players['birthDate'].value_counts()\ncon_2=players['birthDate'].value_counts().index\nbar_plot('birthDate',players,con_2,'No of players wrt birthdate(Year)')","1e0d5192":"players.loc[players['height']>6  & (players['height']>70)]","a5326648":"birth_height=players.groupby('birthDate')['height'].mean()\nplt.figure(figsize=(20,10))\nax=sb.displot(data=players,x=\"height\",kde=True)\nplt.title('Players with heights')\nplt.show()","a04bfbc6":"birth_weight=players.groupby('birthDate')['weight'].mean()\nplt.figure(figsize=(20,10))\nax=sb.displot(data=players, x=\"weight\",kde=True)\nplt.title('Players with heights')\nplt.show()","e4223f4c":"# Loading dataset plays.csv\nplays= pd.read_csv('..\/input\/nfl-big-data-bowl-2022\/plays.csv')","42d0f5fb":"plays.head()","25cb94d4":"# for colab\n# import zipfile\n# zip_file=zipfile.ZipFile('plays.csv.zip')\n# plays=pd.read_csv(zip_file.open('plays.csv'))\n# plays.head()","e2529896":"import missingno as msno\nplt.figure(figsize=(9,6))\nmsno.bar(plays)\nplt.show()","3a5ea67e":"# percentage above the bar\ndef percent(ax,size):\n  for patch in ax.patches:\n    height = patch.get_height() # Figure height (number of data)\n    width = patch.get_width() # Figure width\n    x = patch.get_x() # The x-axis position on the left edge of the figure\n    y = patch.get_y() \n    \n    percent=(height\/size)*100\n    # Type text in the (x, y) coordinates\n    ax.text(x+width\/2,\n        y+height*1.01,\n            #s=f'{percent:1.1f}%', # Text\n            s=f'{percent:1.1f}%',\n            ha='center')\n    \n          ","182fcf03":"fig=plt.figure(figsize=(6,6))\nax=sb.countplot(x='quarter',data=plays,palette='Blues')\nax.set_title('No of plays on each quarter')\npercent(ax,plays.shape[0])\n\nplt.show()","9774b78f":"fig=plt.figure(figsize=(15,8))\nax_2=sb.countplot(x='possessionTeam',data=plays,palette='Greys')\nax_2.set_title('Teams Possessions',{'fontweight':16})\npercent(ax_2,plays.shape[0])\n\nplt.show()","688fe68a":"fig=plt.figure(figsize=(14,10))\ncorr=plays.corr('pearson')\nsb.heatmap(corr,cmap='RdBu_r',annot=True)\nplt.show()","b1d7ab58":"fig=plt.figure(figsize=(8,6))\nax_3=sb.countplot(x='down',data=plays,palette='YlOrBr_r')\npercent(ax_3,plays.shape[0])\nplt.title('Plays on each down',{'fontweight':5})\nplt.show()","2ce56612":"pass_result=plays[~plays['passResult'].isna()]\npass_result.head()","e748302a":"def pie_v(df,col,title):\n  val=df[col].value_counts().values\n  cat=df[col].value_counts().index\n  fig,ax=plt.subplots(figsize =(10, 7))\n  wedges,texts,autotexts=ax.pie(x=val,explode=[0,0.1,0.1,0],labels=cat,colors=['gold','wheat','yellowgreen','darkgoldenrod'],wedgeprops={'linewidth':2,'edgecolor':'k'},textprops={'fontweight':'bold','fontsize':17},autopct='%1.1f%%')\n  ax.legend(wedges,cat,title=\"Passes\",loc =\"center left\",bbox_to_anchor =(1, 0, 0.5, 1))\n  plt.setp(autotexts,size=10,weight='bold')\n  plt.title(title,fontdict={'fontweight':'bold'})\n  plt.show()","1ca0a808":"pie_v(pass_result,\"passResult\",'plays(in %) for eacj types of passes')","5b6578d6":"kick_length=plays[~plays['kickLength'].isna()]\nteam_kick_length=plays.groupby('possessionTeam')['kickLength'].max()\n# plt.plot(plays.possessionTeam,plays.kickLength)\n# plt.show()\nteam_kick_length_df=pd.DataFrame({'PossessionTeam':team_kick_length.index,'Max_kick_Length':team_kick_length.values})\n","66132bac":"team_kick_length_df_max=team_kick_length_df[team_kick_length_df['Max_kick_Length']>75.0]\nteam_kick_length_df_max","73daec66":"colors=['#FF00FF','#FF69B4','#CD5C5C','#4B0082','#FFFFF0','#F0E68C']\nfig=plt.figure(figsize=(7,5))\nplt.bar(x=team_kick_length_df_max.PossessionTeam,color='#CD5C5C',height=team_kick_length_df_max.Max_kick_Length)\nplt.xlabel('Teams')\nplt.ylabel('Kick Length')\nplt.title('Top 6 Teams with their Max kick lengths')\nplt.show()","0799596e":"<a href=\"https:\/\/colab.research.google.com\/github\/DeependraParichha1004\/NFL\/blob\/main\/NFL.ipynb\" target=\"_parent\"><img src=\"https:\/\/colab.research.google.com\/assets\/colab-badge.svg\" alt=\"Open In Colab\"\/><\/a>","9c3595c6":"# **Importing Libraries**","62d2cb0f":"<img alt=\"NFLSchedule1050Web\" src=\"https:\/\/www.profootballhof.com\/assets\/1\/6\/NFLSchedule1050Web.jpg\" style=\"width: 600px; height: 377px; user-select: auto;\">","f5068355":"# *Plays Dataset*","46284f40":"# *Players Dataset*","2eaa6aad":"# NFL official Site\nhttps:\/\/www.nfl.com\n","6c084dc7":"# *Games Dataset*"}}