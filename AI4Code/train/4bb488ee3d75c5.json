{"cell_type":{"e7ed4cf9":"code","768a5af9":"markdown"},"source":{"e7ed4cf9":"import numpy as np\nimport pandas as pd\nfrom IPython.core.display import HTML\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\ndata_path = \"..\/input\/\"\n\ncompetitions_df = pd.read_csv(data_path + \"Competitions.csv\")\ncomps_to_use = [\"Featured\", \"Research\", \"Recruitment\"]\ncompetitions_df = competitions_df[competitions_df[\"HostSegmentTitle\"].isin(comps_to_use)]\ncompetitions_df[\"EnabledDate\"] = pd.to_datetime(competitions_df[\"EnabledDate\"], format=\"%m\/%d\/%Y %I:%M:%S %p\")\ncompetitions_df = competitions_df.sort_values(by=\"EnabledDate\", ascending=False).reset_index(drop=True)\ncompetitions_df.head()\n\nforum_topics_df = pd.read_csv(data_path + \"ForumTopics.csv\")\n\ndef check_solution(topic):\n    is_solution = False\n    to_exclude = [\"?\", \"submit\", \"why\", \"what\", \"resolution\", \"benchmark\"]\n    if \"solution\" in topic.lower():\n        is_solution = True\n        for exc in to_exclude:\n            if exc in topic.lower():\n                is_solution = False\n    return is_solution\n\ndef get_discussion_results(forum_id, n):\n    results_df = forum_topics_df[forum_topics_df[\"ForumId\"]==forum_id]\n    results_df[\"is_solution\"] = results_df[\"Title\"].apply(lambda x: check_solution(str(x)))\n    results_df = results_df[results_df[\"is_solution\"] == 1]\n    results_df = results_df.sort_values(by=[\"Score\",\"TotalMessages\"], ascending=False).head(n).reset_index(drop=True)\n    return results_df[[\"Title\", \"Id\", \"Score\", \"TotalMessages\", \"TotalReplies\"]]\n\ndef render_html_for_comp(forum_id, comp_name, comp_slug, comp_subtitle, n):\n    results_df = get_discussion_results(forum_id, n)\n    \n    if len(results_df) < 1:\n        return\n    \n    comp_url = \"https:\/\/www.kaggle.com\/c\/\"+str(comp_slug)\n    hs = \"\"\"<style>\n                .rendered_html tr {font-size: 12px; text-align: left;}\n                th {\n                text-align: left;\n                }\n            <\/style>\n            <h3><font color=\"#1768ea\"><a href=\"\"\"+comp_url+\"\"\">\"\"\"+comp_name+\"\"\"<\/font><\/h3>\n            <p>\"\"\"+comp_subtitle+\"\"\"<\/p>\n            <table>\n            <tr>\n                <th><b>S.No<\/b><\/th>\n                <th><b>Discussion Title<\/b><\/th>\n                <th><b>Number of upvotes<\/b><\/th>\n                <th><b>Total Replies<\/b><\/th>\n            <\/tr>\"\"\"\n    \n    for i, row in results_df.iterrows():\n        url = \"https:\/\/www.kaggle.com\/c\/\"+str(comp_slug)+\"\/discussion\/\"+str(row[\"Id\"])\n        hs += \"\"\"<tr>\n                    <td>\"\"\"+str(i+1)+\"\"\"<\/td>\n                    <td><a href=\"\"\"+url+\"\"\" target=\"_blank\"><b>\"\"\"  +str(row['Title']) + \"\"\"<\/b><\/a><\/td>\n                    <td>\"\"\"+str(row['Score'])+\"\"\"<\/td>\n                    <td>\"\"\"+str(row['TotalReplies'])+\"\"\"<\/td>\n                    <\/tr>\"\"\"\n    hs += \"<\/table>\"\n    display(HTML(hs))\n\nfor ind, comp_row in competitions_df.iterrows():\n    render_html_for_comp(comp_row[\"ForumId\"], comp_row[\"Title\"], comp_row[\"Slug\"], comp_row[\"Subtitle\"], 10)","768a5af9":"### Winning solutions of kaggle competitions: ###\n\nAwesome work from [SRK](https:\/\/www.kaggle.com\/sudalairajkumar).\n\nGenerally at the end of every Kaggle competition, winners and other toppers share their solutions in the discussion forum. But it is a tedious task to search for the competitions and then for the solutions of these competitions when we need them. I always wanted to get the links to the solutions of all past Kaggle competitions at one place. I thought it would be a very good reference point many a times. Thanks to Kaggle team for the Meta Kaggle dataset, now I am able to get them in one single place through this notebook .\n\nThanks a lot to [@sban](https:\/\/www.kaggle.com\/shivamb) for this [wonderful kernel](https:\/\/www.kaggle.com\/shivamb\/data-science-glossary-on-kaggle\/notebook) without which I wouldn't have got this notebook.\n\nI have inlcuded only \"Featured\" & \"Research\" competitions and the competitions are ordered based on recency.\n\nHave fun and Happy Kaggling.! \n\nP.S : There are few outlier discussions (which are not actually solutions) too ;)\n"}}