{"cell_type":{"4f5d6972":"code","ac4ca285":"code","0bbb677c":"code","475105c5":"code","26c7614c":"code","d2a7d62f":"code","925c0378":"code","18553b77":"code","a6641785":"markdown","49deabda":"markdown"},"source":{"4f5d6972":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os","ac4ca285":"BASE_TEST_DIR = '..\/input\/birdsong-recognition' if os.path.exists('..\/input\/birdsong-recognition\/test_audio') else '..\/input\/birdcall-check'","0bbb677c":"df_test = pd.read_csv(f'{BASE_TEST_DIR}\/test.csv')\ndf_train = pd.read_csv('..\/input\/birdsong-recognition\/train.csv')\nsub_test_12 = df_test[df_test.site.isin(['site_1', 'site_2'])]\nsub_test_3 = df_test[df_test.site.isin(['site_3'])]","475105c5":"submission = {'row_id': [], 'birds': []}\n\nfor audio_id, data in sub_test_12.groupby('audio_id'):\n    submission['row_id'].extend(data['row_id'].values)\n    submission['birds'].extend(['nocall' for i in range(data.shape[0])])\nln=0\nfor _, row in sub_test_3.iterrows():\n    row_id, audio_id = row['row_id'], row['audio_id']\n    ln+=1\n    submission['row_id'].append(row_id)\n    submission['birds'].append('nocall')\n\nsubmission = pd.DataFrame(submission)\nsubmission.head()","26c7614c":"site_1=df_test[df_test.site=='site_1'].audio_id.unique().shape[0]\nsite_2=df_test[df_test.site=='site_2'].audio_id.unique().shape[0]\nsite_3=df_test[df_test.site=='site_3'].audio_id.unique().shape[0]","d2a7d62f":"if(site_1==50 and site_2==50 and site_3==50): pass\nelse : submission.birds='redhea'","925c0378":"submission.to_csv('submission.csv', index=False)","18553b77":"submission","a6641785":"### If there are exactly 50 files under each site, the score will be 0.544 otherwise 0.0\n> (Since redhea prediction alone give 0.0 score)","49deabda":"### Code for probing test set as discussed [here](https:\/\/www.kaggle.com\/c\/birdsong-recognition\/discussion\/177584)."}}