{"cell_type":{"25b390aa":"code","c1e89d7d":"code","493c33aa":"code","5ab34223":"code","5c456fdc":"code","b808327f":"code","ae835e6e":"code","5e4a612c":"code","136d3c2b":"code","5538aac0":"code","66e74379":"code","d604c915":"code","24573b7d":"code","6778c173":"code","3b282341":"code","91671421":"code","90d749f2":"code","5cec4280":"code","24ee160f":"code","b6d1a88f":"code","e819f6f9":"code","f76ffb05":"code","c5c47762":"code","3a097f85":"code","78ccadec":"code","fab40c57":"code","047f3be0":"code","6f200c03":"code","37e092e5":"code","08f150e4":"code","b1404e20":"code","3be12253":"code","178af539":"code","4b956cb3":"code","1d69de5e":"code","f30dcadb":"code","d5c54a14":"code","3975f8b3":"code","d935e61a":"code","8baa95cb":"code","b3f82166":"code","033274d1":"code","d6ac64d3":"code","f75938a0":"code","c3c97b80":"code","ddb52f0b":"code","2fc527b8":"code","4d8356a8":"code","a5b65da2":"code","db106e34":"code","e5523beb":"code","5ebd9288":"code","16a93238":"code","4ac0b91f":"code","6197eb4a":"code","4c068776":"code","9547a053":"code","afe52903":"code","acbb6b36":"code","f791db2c":"code","d9e99bbc":"code","754c74c2":"code","61f0f9f5":"code","9f8bee92":"code","afaa88e0":"code","ac137676":"code","64d6a8b3":"markdown","43cc570f":"markdown"},"source":{"25b390aa":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c1e89d7d":"import matplotlib.pyplot as plt\nimport seaborn as sns\ndf = pd.read_csv('..\/input\/wine-reviews\/winemag-data-130k-v2.csv')\n\ndf.head()","493c33aa":"df.info()","5ab34223":"df.describe()","5c456fdc":"#Plotting the null values in the dataset.\nsns.heatmap(df.isnull(), cbar=False)","b808327f":"new_df = df.drop(['region_2'],axis=1)","ae835e6e":"new_df.isna().any()","5e4a612c":"null_dict = {}\nfor i in new_df.columns:\n    null_dict[i] = (new_df[i].isnull().sum()\/len(new_df))*100","136d3c2b":"#Percentage of null values in each column.\nnull_dict","5538aac0":"new_df.drop(['Unnamed: 0'],axis=1)","66e74379":"new_df['country'].describe()","d604c915":"new_df['country'].fillna('No Country',inplace=True)","24573b7d":"new_df['designation'].describe()","6778c173":"new_df['designation'].fillna('Desig. not mentioned',inplace=True)","3b282341":"new_df.isna().any()","91671421":"new_df['price'].describe()","90d749f2":"import plotly.express as px","5cec4280":"#Distribution of price.\nfig = px.histogram(new_df['price'])\nfig.show()","24ee160f":"df.price.mean()","b6d1a88f":"new_df = new_df.drop(['Unnamed: 0'],axis=1)","e819f6f9":"new_df.columns","f76ffb05":"new_df['taster_twitter_handle'].describe()","c5c47762":"new_df['taster_name'].describe()","3a097f85":"#Almost same as taster_name-so dropping the column for better analysis.\nnew_df= new_df.drop(['taster_twitter_handle'],axis=1)","78ccadec":"new_df.columns","fab40c57":"new_df['country'].unique()","047f3be0":"sns.heatmap(new_df.corr(),annot=True)","6f200c03":"#Trend between price and points.\nfig = px.scatter(new_df,x='price',y='points',color='country')\nfig.show()","37e092e5":"new_df['country'].describe()","08f150e4":"#Occurances of countries in the dataset.\ncountry_dict = {}\nfor i in new_df.country.unique():\n    if(new_df['country'].value_counts()[i] > 1300):\n        country_dict[i] = new_df['country'].value_counts()[i]\ncountry_dict","b1404e20":"#count of each country in country columns\nfig = px.histogram(x = country_dict.keys(),y=country_dict.values())\nfig.show()","3be12253":"new_df['winery'].describe()","178af539":"fig = px.histogram(new_df,x='winery',y='price')\nfig.show()","4b956cb3":"#A look at the wine data with maximum price-The points awarded is 88(below 90)\nnew_df[new_df['price'] == new_df.price.max()]","1d69de5e":"#A look at the data of wine with minimum price\nnew_df[new_df['price'] == new_df.price.min()]","f30dcadb":"country_group = new_df.groupby('country')","d5c54a14":"#Average price of wine in each country\navg_price = {}\nfor i in new_df.country.unique():\n    avg_price[i] = country_group.get_group(i).price.mean()\navg_price","3975f8b3":"fig = px.histogram(new_df,x=avg_price.values(),y=avg_price.keys())\nfig.show()","d935e61a":"avg_points = {}\nfor i in new_df.country.unique():\n    avg_points[i] = country_group.get_group(i).points.mean()\nfig = px.histogram(new_df,x=avg_points.values(),y=avg_points.keys())\nfig.show()","8baa95cb":"new_df.columns","b3f82166":"new_df['designation']","033274d1":"new_df[new_df['points'] == new_df.points.min()]","d6ac64d3":"new_df[new_df['points'] == new_df.points.max()]","f75938a0":"#count of countries with minimum points\nnew_df[new_df['points'] == new_df.points.min()].country.value_counts()","c3c97b80":"new_df[new_df['points'] == new_df.points.max()].country.value_counts()","ddb52f0b":"value_price = new_df[new_df.price < new_df.price.mean()]","2fc527b8":"value_price = value_price[value_price.points > 95]","4d8356a8":"#Value for money wines.\nvalue_price.loc[:,['country','variety','title']].sort_values('country')","a5b65da2":"new_df.columns","db106e34":"top_rated = new_df[new_df.points > 95]\ntop_rated.shape","e5523beb":"low_rated = new_df[new_df.points < 95]\nlow_rated.shape","5ebd9288":"new_df.shape","16a93238":"desc_top = str(top_rated['description'])","4ac0b91f":"from wordcloud import WordCloud, STOPWORDS","6197eb4a":"stopwords = set(STOPWORDS)\n\nwordcloud = WordCloud(width = 800, height = 800,\n                background_color ='white',\n                stopwords = stopwords,\n                min_font_size = 10).generate(desc_top)\nplt.figure(figsize = (8, 8), facecolor = None)\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.tight_layout(pad = 0)\nplt.show()","4c068776":"desc_low = str(low_rated['description'])","9547a053":"stopwords = set(STOPWORDS)\n\nwordcloud = WordCloud(width = 800, height = 800,\n                background_color ='white',\n                stopwords = stopwords,\n                min_font_size = 10).generate(desc_low)\nplt.figure(figsize = (8, 8), facecolor = None)\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.tight_layout(pad = 0)\nplt.show()","afe52903":"#Trend of points awarded by each expert.\nfig = px.box(new_df,x='taster_name',y='points')\nfig.show()","acbb6b36":"new_df.columns","f791db2c":"variety_group = new_df.groupby('variety')","d9e99bbc":"new_df['variety'].fillna('variety not mentioned',inplace=True)","754c74c2":"avg_price_variety = {}\nfor i in new_df.variety.unique():\n    if(new_df['variety'].value_counts()[i]> 2000):\n        avg_price_variety[i] = variety_group.get_group(i).price.mean()","61f0f9f5":"avg_price_variety","9f8bee92":"fig = px.pie(names =avg_price_variety.keys(),values=avg_price_variety.values())\nfig.show()","afaa88e0":"avg_points_variety = {}\nfor i in new_df.variety.unique():\n    if(new_df['variety'].value_counts()[i]> 2000):\n        avg_points_variety[i] = variety_group.get_group(i).points.mean()","ac137676":"fig = px.pie(names =avg_points_variety.keys(),values=avg_points_variety.values())\nfig.show()","64d6a8b3":"**<h3>In summary,Important insights gathered**<\/h3><\/br><h4>\n-->Most of the data of wine recorded are produced from the following countries-**USA,Italy,france**(73% of the data).<\/br>\n-->Price and points have lesser corelation(**USA** produces wine which are cheap but have high score).<\/br>\n-->Though there is **some variance in the average price** of wine in various countries,their **average points shows much less variance**.<\/br>\n-->The words used in the description section of wine for top rated wine and low rated wine are **different**.<\/br>\n-->The price and points comparison for variey is similar to that of price and points comparison of countries.<\/br>\n-->Top value worthy wines are produced by **US,Austria,spain and italy**.<\/br>\n","43cc570f":"****"}}