{"cell_type":{"699c1c35":"code","5b37736c":"code","b2b77a37":"code","e0a23f28":"code","a6c50380":"code","0064612b":"code","1b193937":"code","8fc3d131":"code","57c97915":"code","ea466859":"code","0238374a":"code","cb889a6a":"code","5a51ea75":"code","00defc32":"code","c289815a":"code","73d34554":"code","b304fedf":"code","96a5a4e3":"code","f31b826c":"code","d13fe474":"code","c7ba30a4":"code","c3db4332":"code","9c3abd84":"code","d565d148":"code","453be7a4":"code","4e45b2d9":"markdown","dfa676ce":"markdown","12540ae1":"markdown","596346cc":"markdown","d8562edd":"markdown","7c5e525c":"markdown","679d2b6c":"markdown","ae14e97e":"markdown","8ef651b2":"markdown","f8bedaa7":"markdown"},"source":{"699c1c35":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","5b37736c":"import pandas as pd\nimport numpy as np\nimport datetime\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib.dates as mdates\nfrom matplotlib.dates import DateFormatter\nimport os\nimport glob\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline","b2b77a37":"############################ Let's pull in the data#######################\n\nCovidVacc = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')","e0a23f28":"CovidVacc.info()","a6c50380":"###################### Convert date from object to datetime format########\nCovidVacc['date'] = pd.to_datetime(CovidVacc['date'], format = '%Y-%m-%d')","0064612b":"####################### What countries are involved ? ######################\nprint(\"The Countries in the dataframe CovidVacc are\\n\")\nCovidVacc.country.unique()","1b193937":"########################To show repeated data of UK, England, Scotland, Wales and Northern Ireland########################\nprint(\"Last 2 days data of UK total_vaccinations:\\n\", \n      CovidVacc[CovidVacc['country'] == 'United Kingdom']['total_vaccinations'].tail(2))\nprint(\"\\nLast 2 days data of England total_vaccinations:\\n\", \n      CovidVacc[CovidVacc['country'] == 'England']['total_vaccinations'].tail(2))\nprint(\"\\nLast 2 days data of Scotland total_vaccinations:\\n\", \n      CovidVacc[CovidVacc['country'] == 'Scotland']['total_vaccinations'].tail(2))\nprint(\"\\nLast 2 days data of Wales total_vaccinations:\\n\", \n      CovidVacc[CovidVacc['country'] == 'Wales']['total_vaccinations'].tail(2))\nprint(\"\\nLast 2 days data of Northern Ireland total_vaccinations:\\n\", \n      CovidVacc[CovidVacc['country'] == 'Northern Ireland']['total_vaccinations'].tail(2))","8fc3d131":"print(\"Number of data \",CovidVacc.shape)","57c97915":"########################## Deleting the rows of data ######################\n\nCovidVacc = CovidVacc[~CovidVacc['country'].isin(['England', 'Scotland', 'Wales', 'Northern Ireland'])]","ea466859":"print(\"The number of rows of data \",CovidVacc.shape)","0238374a":"####################### Country leading by Total Vaccinations #################\n\nfig, ax = plt.subplots(ncols=1, nrows=2, dpi=100, figsize=(28,24))\n\nLeadTotVacc = CovidVacc.groupby(['country'])['total_vaccinations'].max().sort_values(ascending = False).head(20)\nLeadTotVacc.sort_values(ascending = True).plot(kind = 'barh',\n                                               ax=ax[0],color='dodgerblue', edgecolor='darkgrey')\nax[0].tick_params(axis='y', labelsize=22)\nax[0].set_xticklabels([0,50,100,150,200, 250], fontsize=22)\nax[0].set_ylabel(\" \")\nfor label in ax[0].yaxis.get_ticklabels():\n            label.wrap=True\n\nax[0].set_xlabel(\"In Millions\", fontsize = 26)\nYstart, Yend = ax[0].get_ylim()\nax[0].vlines(x=[50e6,100e6,150e6,200e6,250e6],\n             ymin=Ystart, ymax=Yend,  color='gray', linewidth = 0.7)\nax[0].set_title(\"Total Vaccinations By Leading Countries till date\", fontsize=28)\n\n############ Country leading by Total number of people vaccinated####################\n\n\nLeadTotPeopleVacc = CovidVacc.groupby(['country'])['people_vaccinated'].max().sort_values(ascending = False).head(20)\nLeadTotPeopleVacc.sort_values(ascending = True)\nsns.barplot(x=LeadTotPeopleVacc.values, y=LeadTotPeopleVacc.index,\n            ax=ax[1], color= 'orange', edgecolor='darkgrey')\nax[1].tick_params(axis='y', labelsize=22)\nax[1].set_xticklabels([0,20,40,60,80,100,120,140], fontsize=22)\nax[1].set_ylabel(\" \")\nax[1].set_xlabel(\"In Millions\",fontsize = 26)\nfor label in ax[1].yaxis.get_ticklabels():\n            label.wrap=True\nYstart, Yend = ax[1].get_ylim()\nax[1].vlines(x=[20e6,40e6,60e6,80e6,100e6, 120e6,140e6],\n             ymin=Ystart, ymax=Yend,  color='gray', linewidth = 0.7)\nax[1].set_title(\"Countries Leading By Total Number of People Vaccinated till date\", fontsize=28)\n\nplt.show()","cb889a6a":"print('Number of datarows of China: ',len(CovidVacc[CovidVacc['country'] == 'China']))\nprint('The number of empty rows for people vaccinated in China: ',\n      CovidVacc[CovidVacc['country'] == 'China']['people_vaccinated'].isna().sum())\nprint('No data are aviable for the Total Number of People Vaccinated in China')","5a51ea75":"CovidVacc[CovidVacc['country'] == 'China'].tail(5)","00defc32":"################# Country leading by Total number of people vaccinated###################\n\nfig, ax = plt.subplots(ncols=1, nrows=2, dpi=100, figsize=(26,22))\n\nLeadTotPeopleVacc = CovidVacc.groupby(['country'])['people_vaccinated'].max().sort_values(ascending = False).head(20)\n\nsns.barplot(x=LeadTotPeopleVacc.values, y=LeadTotPeopleVacc.index, edgecolor='navy', ax=ax[0])\nax[0].tick_params(axis='y', labelsize=22)\nax[0].set_xticklabels([0,20,40,60,80,100,120,140], fontsize=22)\nax[0].set_ylabel(\" \")\nax[0].set_xlabel(\"In Millions\",fontsize = 26)\nfor label in ax[0].yaxis.get_ticklabels():\n            label.wrap=True\nYstart, Yend = ax[0].get_ylim()\nax[0].vlines(x=[20e6,40e6,60e6,80e6,100e6, 120e6,140e6], ymin=Ystart, ymax=Yend,  color='gray', linewidth = 0.7)\nax[0].set_title(\"Countries Leading By Total Number of People Vaccinated till date\", fontsize=28)\n\n\n#############################################Total number of people FULLY vaccinated####################################\n\nLeadFulPeopleVacc = CovidVacc.groupby(['country'])['people_fully_vaccinated'].max().sort_values(ascending = False).head(20)\n\nsns.barplot(x=LeadFulPeopleVacc.values, y=LeadFulPeopleVacc.index, edgecolor='navy', ax=ax[1])\nax[1].tick_params(axis='y', labelsize=22)\nax[1].set_xticklabels([0,20,40,60,80,100], fontsize=22)\nax[1].set_ylabel(\" \")\n#for label in ax[1].yaxis.get_ticklabels():\n            #label.wrap=True\n\nax[1].set_xlabel(\"In Millions\", fontsize = 26)\nYstart, Yend = ax[1].get_ylim()\nax[1].vlines(x=[20e6,40e6,60e6,80e6,100e6], ymin=Ystart, ymax=Yend,  color='gray', linewidth = 0.7)\nax[1].set_title(\"Countries Leading By Total Number of People FULLY Vaccinated till date\", fontsize=28)\n\n\nplt.show()","c289815a":"############## Daily vaccination Trend of Top 5 Countries leading in Total Number of People Vaccinated####################\n \nprint(\"Looking at the Daily Vaccination Trend of \", *LeadTotPeopleVacc.index[0:5], sep = \", \")\ncol = ['teal', 'green', 'gold', 'tomato', 'purple']\n\nfig, ax = plt.subplots(ncols=1, nrows=5, dpi=100, figsize=(20,18))\n\nfor i in range(len(LeadTotPeopleVacc.index[0:5])):\n    DailyVacc = CovidVacc[CovidVacc['country'] == LeadTotPeopleVacc.index[i]]\n    sns.lineplot(data = DailyVacc, x='date', y='daily_vaccinations', linewidth=2.5, ax=ax[i],\n                 label=LeadTotPeopleVacc.index[i], color=col[i])\n    \n    ax[i].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\n    ax[i].xaxis.set_major_formatter(DateFormatter('%b%y'))\n    ax[i].legend(prop={'size': 20}, loc='upper left')\n    #Xstart, Xend = ax[i].get_xlim()\n    #Ystep = round((Yend-Ystart)\/5, 2)\n    #ax[i].hlines(y=[2*Ystep, 4*Ystep], xmin=Xstart, xmax=Xend,  color='gray', linewidth = 0.7)\n    ax[i].set_xlabel(' ')\n    ax[i].set_ylabel(' ')\n    ax[i].set_yticks([])\n    ax[i].tick_params(axis='x', labelsize=14)\n    \n    \nplt.show()","73d34554":"################# Total number of people vaccinated per hundred #####################\n############# Ratio (in percent) between population immunized and ###################\n##################total population up to the date in the country #####################\n####################### i.e % of population vaccinated ##############################\n\nPopVaccinated = CovidVacc.groupby(['country'])['people_vaccinated_per_hundred'].max().sort_values(ascending = False).head(10)\n\nPopFullyVaccinated = CovidVacc.groupby(['country'])['people_fully_vaccinated_per_hundred'].max().sort_values(ascending = False).head(10)\n\nfig, ax = plt.subplots(ncols=1, nrows=1, dpi=100, figsize=(16,6))\n\nsns.barplot(x=PopVaccinated.values, y=PopVaccinated.index, color='lightgreen',\n            edgecolor='darkgrey', ax=ax)\nfor p in ax.patches:\n    width = p.get_width()\n    plt.text(p.get_width()-6, p.get_y()+0.50*p.get_height(),\n            '{:1.2f}%'.format(width), fontsize=14,\n             ha='center', va='center', color='black', fontweight='bold')\nax.set_ylabel('% of Population Vaccinated', fontsize = 16)\nax.tick_params(axis='y', labelsize=18)\nax.tick_params(axis='x', labelsize=14)\n\nfig, ax = plt.subplots(ncols=1, nrows=1, dpi=100, figsize=(16,6))\nsns.barplot(x=PopFullyVaccinated.values, y=PopFullyVaccinated.index,\n            color='tan', edgecolor='darkgrey', ax=ax)\nfor p in ax.patches:\n    width = p.get_width()\n    plt.text(p.get_width()-6, p.get_y()+0.50*p.get_height(),\n            '{:1.2f}%'.format(width), fontsize=14,\n             ha='center', va='center', color='black', fontweight='bold')\nax.set_ylabel('% of Population Fully Vaccinated', fontsize = 16)\nax.tick_params(axis='both', labelsize=16)","b304fedf":"################### Studying Israel Vaccination against India and US ###############\n\nIsraelVacc = CovidVacc[CovidVacc['country'] == 'Israel']\nIndiaVacc = CovidVacc[CovidVacc['country'] == 'India']\nUSVacc = CovidVacc[CovidVacc['country'] == 'United States']\n\nfig, ax = plt.subplots(nrows=3, ncols=3, dpi=100, figsize=(22,18))\n\n########################### Daily Vaccination ####################################\n\nsns.lineplot(data = IsraelVacc, x='date', y='total_vaccinations',\n             ax=ax[0,0], color = 'teal', linewidth=2)\nsns.lineplot(data = IndiaVacc, x='date', y='total_vaccinations',\n             ax=ax[0,1], color = 'teal', linewidth=2)\nsns.lineplot(data = USVacc, x='date', y='total_vaccinations',\n             ax=ax[0,2], color = 'teal', linewidth=2)\nax[0,0].set_ylabel(\"TOTAL VACCINATIONS\", fontsize = 16)\nax[0,0].set_xlabel(\" \")\nax[0,0].set_title(\"ISRAEL\", fontsize=22)\nax[0,1].set_title(\"INDIA\", fontsize=22)\nax[0,2].set_title(\"US\", fontsize=22)\nax[0,0].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[0,0].xaxis.set_major_formatter(DateFormatter('%b%y'))\nax[0,1].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[0,1].xaxis.set_major_formatter(DateFormatter('%b%y'))\nax[0,2].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[0,2].xaxis.set_major_formatter(DateFormatter('%b%y'))\n\n############################## Daily vaccinations #############################\nsns.lineplot(data = IsraelVacc, x='date', y='daily_vaccinations',\n             ax=ax[1,0], color = 'lime', linewidth=2)\nsns.lineplot(data = IndiaVacc, x='date', y='daily_vaccinations',\n             ax=ax[1,1], color = 'lime', linewidth=2)\nsns.lineplot(data = USVacc, x='date', y='daily_vaccinations',\n             ax=ax[1,2], color = 'lime', linewidth=2)\nax[1,0].set_ylabel(\"DAILY VACCINATIONS\", fontsize = 16)\n\nax[1,0].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[1,0].xaxis.set_major_formatter(DateFormatter('%b%y'))\nax[1,1].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[1,1].xaxis.set_major_formatter(DateFormatter('%b%y'))\nax[1,2].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[1,2].xaxis.set_major_formatter(DateFormatter('%b%y'))\n\n############################## % of Population Vaccinated #######################\nsns.lineplot(data = IsraelVacc, x='date', y='people_vaccinated_per_hundred',\n             ax=ax[2,0], color = 'coral', linewidth=2)\nsns.lineplot(data = IndiaVacc, x='date', y='people_vaccinated_per_hundred',\n             ax=ax[2,1], color = 'coral', linewidth=2)\nsns.lineplot(data = USVacc, x='date', y='people_vaccinated_per_hundred',\n             ax=ax[2,2], color = 'coral', linewidth=2)\nax[2,0].set_ylabel(\"% OF POPULATION VACCINATED\", fontsize = 16)\n\nax[2,0].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[2,0].xaxis.set_major_formatter(DateFormatter('%b%y'))\nax[2,1].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[2,1].xaxis.set_major_formatter(DateFormatter('%b%y'))\nax[2,2].xaxis.set_major_locator(mdates.MonthLocator(interval=1))\nax[2,2].xaxis.set_major_formatter(DateFormatter('%b%y'))\n\nfor i in range(3):\n    for j in range(3):\n        ax[i,j].tick_params(axis='both', labelsize=16)\n        ax[i,j].set_xlabel(\" \")\n\nfor i in range(3):\n    for j in range(2):\n        ax[i,j+1].set_ylabel(\" \") \n    ","96a5a4e3":"print(\"The vaccines used in Israel :\", CovidVacc[CovidVacc['country'] == 'Israel']['vaccines'].unique())\nprint(\"\\n                   India :\", CovidVacc[CovidVacc['country'] == 'India']['vaccines'].unique())\nprint(\"\\n                   United States :\", CovidVacc[CovidVacc['country'] == 'United States']['vaccines'].unique())","f31b826c":"###################################################################################\n########  We explore country_vaccinations_by_manufacturer.csv file ################\n\nVaccMan = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations_by_manufacturer.csv')\nVaccMan.shape","d13fe474":"VaccMan.info()","c7ba30a4":"############################### What countries are there in data? ####################################\nprint(\"The Countries within the country_vaccinations_by_manufacturer file are\\n\")\nlist(VaccMan.location.unique())","c3db4332":"##################### Who are Vaccine Manufacturers? #########################################\nprint(\"Who are the Vaccine manufacturers ?\\n\")\nlist(VaccMan.vaccine.unique())","9c3abd84":"Vacc = VaccMan.groupby('vaccine').sum().sort_values(by=['total_vaccinations'], ascending=False)\n\nfig, ax = plt.subplots(nrows=1, ncols=1, dpi=100, figsize = (10,6))\n\nsns.barplot(x=Vacc.index, y=Vacc['total_vaccinations'], ax=ax)\nax.set_xlabel(\"Vaccine Manufacturers\", fontsize = 16)\nax.set_ylabel(\" \")\n\nplt.show()","d565d148":"####################### Convert date from object to datetime format#################\nVaccMan['date'] = pd.to_datetime(VaccMan['date'], format = '%Y-%m-%d')\nVaccMan.info()","453be7a4":"######################################################################################################################\n\nprint(\"Some Infomation on Vaccine Manufacturers by Countries \\n\")\nUSVaccByMan = VaccMan[VaccMan['location'] == 'United States'].groupby('vaccine').sum().sort_values(by=['vaccine'],\n                                                                                                   ascending=False)\nFranceVaccByMan = VaccMan[VaccMan['location'] == 'France'].groupby('vaccine').sum().sort_values(by=['vaccine'],\n                                                                                                   ascending=False)\nGermanyVaccByMan = VaccMan[VaccMan['location'] == 'Germany'].groupby('vaccine').sum().sort_values(by=['vaccine'],\n                                                                                                   ascending=False)\n\nfig, ax = plt.subplots(nrows=1, ncols=3, dpi=100, figsize=(24,8))\n\nsns.barplot(x=USVaccByMan.index, y=USVaccByMan['total_vaccinations'].values, ax=ax[0])\nax[0].set_title(\"UNITED STATES\", fontsize=22)\n\nsns.barplot(x=FranceVaccByMan.index, y=FranceVaccByMan['total_vaccinations'].values, ax=ax[1])\nax[1].set_title(\"FRANCE\", fontsize=22)\nsns.barplot(x=GermanyVaccByMan.index, y=GermanyVaccByMan['total_vaccinations'].values, ax=ax[2])\nax[2].set_title(\"GERMANY\", fontsize=22)\n\nfor i in range(3):\n    ax[i].tick_params(axis='both', labelsize=16)\n    ax[i].set_xlabel(\" \")\n    for label in ax[i].xaxis.get_ticklabels():\n            label.set_rotation(60)\n\n\nplt.show()","4e45b2d9":"When we add up the data of England, Scotland, Wales and Northern Ireland we get the consolidated data of United Kingdom. Hence we delete the rows of data of England, Scotland, Wales and Northern Ireland.","dfa676ce":"From the data available of country vaccinations w.r.t Covid Vaccine manufacturers, we see that Pfizer\/BioNTech is the mostly \nused vaccine in United States, France and Germany. The UK manufactured Oxford\/AstraZeneca, that is primarily used in India,\nare used in less quantity in France and Germany but not in United States.","12540ae1":"Among the countries with the highest number of people vaccinated, Israel is an interesting case study. More than 62% of the population are vaccinated and 58% have completed the vaccination program.  \nLet's look at the vaccination graph of Israel and compare it with India and United States.","596346cc":"Pfizer\/BioNTech vaccine is most widely used followed by Moderna. Sinovac, Oxford\/AstraZeneca and Johnson&Johnson vaccines are less used vaccines. From the available data of 10 countries, we explore the vaccination data w.r.t manufacturers of 3 countries --- United States, France and Germany.","d8562edd":" The \"TOTAL VACCINATIONS\" curve is steepest for Israel as compared to India and US. That is because Israel had started with an\naggressive vaccination program and also have managed to boost up vaccination further as is shown by \"DAILY VACCINATIONS\" curve. \nThe war-footing vaccination drive of Israel has resulted in vaccinating more than half of their population in a very short \ntime as is visible from \"% OF POPULATION VACCINATED\" graph.","7c5e525c":"Studying Israel's Vaccination against India and US","679d2b6c":"Without the data of China, we see that the top 5 countries leading in vaccinating its population are US, India, UK, Brazil and Germany. US leads in the number of people that received the entire set of immunization according to the immunization scheme. Below we explore the trend of Daily Vaccination of top 5 countries - US, India, UK, Brazil and Germany","ae14e97e":"China is leading by Total Number of Vaccinations done till date, as we see from the upper graph, followed closely by United States. India, United Kingdom and Brazil along with China and United States forms the leading 5 countries in vaccinations. \nBut China is missing from the lower graph that shows the countries leading by number of people vaccinated.  \nThat's beacuse the data for the same is not available for China as we can see down below.\nFrom the data that is available we can say US, India and UK are top 3 countries in getting their population vaccinated, followed by Brazil and Germany.","8ef651b2":"There are repeated data of the country of UK----- one for United Kingdom and separately of Scotland, England, Wales \nand Northern Ireland as we see below.","f8bedaa7":"From the above graph we can see that United Kingdom has started an aggressive Vaccination drive as compared to other countries,\nclosely followed by India and United States"}}