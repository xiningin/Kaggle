{"cell_type":{"73773d17":"code","5c425880":"code","d4d8d33f":"code","f48f1c6d":"code","f32c77b9":"code","e0a8190f":"code","bb5ecf2e":"code","eeec9d44":"code","2bd42329":"code","5ebebab1":"code","45a955ba":"code","39934239":"code","1e31970c":"code","a6da8959":"code","39457e47":"code","12824a60":"code","027100da":"code","effa2682":"code","68091385":"code","0447af42":"code","1fb71db2":"code","9b32e456":"markdown","8742eb6d":"markdown","6c5181a3":"markdown","9407bd83":"markdown","b4daeb6a":"markdown","2bd9d471":"markdown","3925842e":"markdown","b38291ed":"markdown","ec37aeb1":"markdown","e585e95a":"markdown","0f42e9c3":"markdown","3be50164":"markdown","9bf9410b":"markdown","a053a73e":"markdown","5f515a16":"markdown","e9655cf5":"markdown","3b4b3962":"markdown"},"source":{"73773d17":"#importing important libraries\nfrom sklearn.metrics import accuracy_score\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib\nfrom sklearn.preprocessing import StandardScaler\n\nfrom sklearn.model_selection import train_test_split\nfrom lightgbm import LGBMClassifier\nfrom xgboost import XGBClassifier\nfrom catboost import CatBoostClassifier\nimport optuna\nfrom sklearn.metrics import roc_auc_score\nfrom sklearn.model_selection import StratifiedKFold, KFold\nfrom imblearn.over_sampling import SMOTE\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nplt.rcParams['figure.dpi'] = 600\n\n%matplotlib inline","5c425880":"#importing file to get started\nheart = pd.read_csv('\/kaggle\/input\/heart-failure-clinical-data\/heart_failure_clinical_records_dataset.csv')\n\n#checking the dataset\nheart.head()\nheart.shape #(299, 13)\nheart.describe().T\nheart.info()","d4d8d33f":"conti = ['age','creatinine_phosphokinase','ejection_fraction','platelets','serum_sodium','serum_creatinine']\nconti_name = ['Age','Creatinine Phosphokinase','Ejection Fraction','Platelets','Serum Sodium','Serum Creatinine']\n\nvalue = conti[0]\nX1 = conti_name[0]\n\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3.7,2), facecolor='#f6f5f5')\ngs = fig.add_gridspec(2, 2)\ngs.update(wspace=0.5, hspace=0.5)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ff355d','#ffd514'])\n\n\n#1\nax0 = fig.add_subplot(gs[0, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\n\nax0.set_facecolor(background_color)\n\n\nax0_sns = sns.histplot(data=heart, x=value,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1)\n\nax0_sns.set_xlabel('',fontsize=4, weight='bold')\nax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 0.989), loc='upper right')\n\n\n#2\nax1 = fig.add_subplot(gs[0, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax1.spines[s].set_visible(False)\n\nax1.set_facecolor(background_color)\n\n\nax1_sns = sns.kdeplot( x=heart[value],ax=ax1,hue=heart.sex,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack')\n\nax1_sns.set_xlabel('',fontsize=4, weight='bold')\nax1_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax1_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax1_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax1_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax1_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.07, 1), loc='upper right')\n\n#3\nax3 = fig.add_subplot(gs[1, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax3.spines[s].set_visible(False)\n\nax3.set_facecolor(background_color)\n\n\nax3_sns = sns.histplot(data=heart, x=value,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'])\n\nax3_sns.set_xlabel('',fontsize=4, weight='bold')\nax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.04, 0.989), loc='upper right')\n\n#4\nax4 = fig.add_subplot(gs[1, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax4.spines[s].set_visible(False)\n\nax4.set_facecolor(background_color)\n\n\nax4_sns = sns.kdeplot( x=heart[value],ax=ax4,hue=heart.DEATH_EVENT,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack',palette=['#FE1212','#58FF0B'])\n\nax4_sns.set_xlabel('',fontsize=4, weight='bold')\nax4_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax4_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax4_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax4_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax4_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.1, 1), loc='upper right')\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xstart,Yend+16, f'{X1} Plot', fontsize=6, weight='bold',ha='left')\n#   ax0.text(Xstart,Yend+10,f'Mean: 60.83 | SD: 11.89',fontsize=3,ha='left')\nax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax1.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax4.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\nXstart, Xend = ax3.get_xlim()\nYstart, Yend = ax3.get_ylim()\n\nax3_sns.text(Xend+5,Ystart-30, f'{X1} Group', fontsize=3, weight='bold',ha='left')\n\nplt.show()\n\n#########################################################################################################\nvalue = conti[1]\nX1 = conti_name[1]\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3,2), facecolor='#f6f5f5')\ngs = fig.add_gridspec(2, 2)\ngs.update(wspace=0.5, hspace=0.5)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ff355d','#ffd514'])\n\n\n#1\nax0 = fig.add_subplot(gs[0, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\n\nax0.set_facecolor(background_color)\n\n\nax0_sns = sns.histplot(data=heart, x=value,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,bins=25)\n\nax0_sns.set_xlabel('',fontsize=4, weight='bold')\nax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 0.989), loc='upper right')\n\n\n#2\nax1 = fig.add_subplot(gs[0, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax1.spines[s].set_visible(False)\n\nax1.set_facecolor(background_color)\n\n\nax1_sns = sns.kdeplot( x=heart[value],ax=ax1,hue=heart.sex,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack')\n\nax1_sns.set_xlabel('',fontsize=4, weight='bold')\nax1_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax1_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax1_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax1_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax1_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.07, 1), loc='upper right')\n\n#3\nax3 = fig.add_subplot(gs[1, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax3.spines[s].set_visible(False)\n\nax3.set_facecolor(background_color)\n\n\nax3_sns = sns.histplot(data=heart, x=value,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'],bins=25)\n\nax3_sns.set_xlabel('',fontsize=4, weight='bold')\nax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.04, 0.989), loc='upper right')\n\n#4\nax4 = fig.add_subplot(gs[1, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax4.spines[s].set_visible(False)\n\nax4.set_facecolor(background_color)\n\n\nax4_sns = sns.kdeplot( x=heart[value],ax=ax4,hue=heart.DEATH_EVENT,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack',palette=['#FE1212','#58FF0B'])\n\nax4_sns.set_xlabel('',fontsize=4, weight='bold')\nax4_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax4_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax4_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax4_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax4_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.1, 1), loc='upper right')\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xstart,Yend+20, f'{X1} Plot', fontsize=5, weight='bold',ha='left')\n#   ax0.text(Xstart,Yend+10,f'Mean: 60.83 | SD: 11.89',fontsize=3,ha='left')\nax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax1.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax4.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\nXstart, Xend = ax3.get_xlim()\nYstart, Yend = ax3.get_ylim()\n\nax3_sns.text(Xend+5,Ystart-60, f'{X1} Group', fontsize=3, weight='bold',ha='left')\n\nplt.show()\n\n################################################################################################################\n\nvalue = conti[2]\nX1 = conti_name[2]\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3,2), facecolor='#f6f5f5')\ngs = fig.add_gridspec(2, 2)\ngs.update(wspace=0.5, hspace=0.5)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ff355d','#ffd514'])\n\n\n#1\nax0 = fig.add_subplot(gs[0, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\n\nax0.set_facecolor(background_color)\n\n\nax0_sns = sns.histplot(data=heart, x=value,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,bins=25)\n\nax0_sns.set_xlabel('',fontsize=4, weight='bold')\nax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 1.19), loc='upper right')\n\n\n#2\nax1 = fig.add_subplot(gs[0, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax1.spines[s].set_visible(False)\n\nax1.set_facecolor(background_color)\n\n\nax1_sns = sns.kdeplot( x=heart[value],ax=ax1,hue=heart.sex,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack')\n\nax1_sns.set_xlabel('',fontsize=4, weight='bold')\nax1_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax1_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax1_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax1_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax1_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.07, 1.19), loc='upper right')\n\n#3\nax3 = fig.add_subplot(gs[1, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax3.spines[s].set_visible(False)\n\nax3.set_facecolor(background_color)\n\n\nax3_sns = sns.histplot(data=heart, x=value,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'],bins=25)\n\nax3_sns.set_xlabel('',fontsize=4, weight='bold')\nax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.04, 1.19), loc='upper right')\n\n#4\nax4 = fig.add_subplot(gs[1, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax4.spines[s].set_visible(False)\n\nax4.set_facecolor(background_color)\n\n\nax4_sns = sns.kdeplot( x=heart[value],ax=ax4,hue=heart.DEATH_EVENT,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack',palette=['#FE1212','#58FF0B'])\n\nax4_sns.set_xlabel('',fontsize=4, weight='bold')\nax4_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax4_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax4_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax4_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax4_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.1, 1.19), loc='upper right')\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xstart,Yend+20, f'{X1} Plot', fontsize=5, weight='bold',ha='left')\n#   ax0.text(Xstart,Yend+10,f'Mean: 60.83 | SD: 11.89',fontsize=3,ha='left')\nax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax1.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax4.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\nXstart, Xend = ax3.get_xlim()\nYstart, Yend = ax3.get_ylim()\n\nax3_sns.text(Xend+2,Ystart-30, f'{X1} Group', fontsize=3, weight='bold',ha='left')\n\nplt.show()\n\n################################################################################################################################################\nvalue = conti[3]\nX1 = conti_name[3]\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3,1), facecolor='#f6f5f5')\ngs = fig.add_gridspec(1, 2)\ngs.update(wspace=0.5, hspace=0.5)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ff355d','#ffd514'])\n\n\n#1\nax0 = fig.add_subplot(gs[0, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\n\nax0.set_facecolor(background_color)\n\n\nax0_sns = sns.histplot(data=heart, x=value,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,bins=25)\n\nax0_sns.set_xlabel('',fontsize=4, weight='bold')\nax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 1.19), loc='upper right')\n\n#3\nax3 = fig.add_subplot(gs[0, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax3.spines[s].set_visible(False)\n\nax3.set_facecolor(background_color)\n\n\nax3_sns = sns.histplot(data=heart, x=value,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'],bins=25)\n\nax3_sns.set_xlabel('',fontsize=4, weight='bold')\nax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.04, 1.19), loc='upper right')\n\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xstart,Yend+20, f'{X1} Plot', fontsize=5, weight='bold',ha='left')\n#   ax0.text(Xstart,Yend+10,f'Mean: 60.83 | SD: 11.89',fontsize=3,ha='left')\nax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\nXstart, Xend = ax3.get_xlim()\nYstart, Yend = ax3.get_ylim()\n\nax0_sns.text(Xend+6000,Ystart-18, f'{X1} Group', fontsize=3, weight='bold',ha='left')\nplt.show()\n\n################################################################################################################################\nvalue = conti[4]\nX1 = conti_name[4]\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3,2), facecolor='#f6f5f5')\ngs = fig.add_gridspec(2, 2)\ngs.update(wspace=0.5, hspace=0.5)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ff355d','#ffd514'])\n\n\n#1\nax0 = fig.add_subplot(gs[0, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\n\nax0.set_facecolor(background_color)\n\n\nax0_sns = sns.histplot(data=heart, x=value,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,bins=25)\n\nax0_sns.set_xlabel('',fontsize=4, weight='bold')\nax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 1.19), loc='upper right')\n\n\n#2\nax1 = fig.add_subplot(gs[0, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax1.spines[s].set_visible(False)\n\nax1.set_facecolor(background_color)\n\n\nax1_sns = sns.kdeplot( x=heart[value],ax=ax1,hue=heart.sex,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack')\n\nax1_sns.set_xlabel('',fontsize=4, weight='bold')\nax1_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax1_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax1_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax1_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax1_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.07, 1.19), loc='upper right')\n\n#3\nax3 = fig.add_subplot(gs[1, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax3.spines[s].set_visible(False)\n\nax3.set_facecolor(background_color)\n\n\nax3_sns = sns.histplot(data=heart, x=value,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'],bins=25)\n\nax3_sns.set_xlabel('',fontsize=4, weight='bold')\nax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.04, 1.19), loc='upper right')\n\n#4\nax4 = fig.add_subplot(gs[1, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax4.spines[s].set_visible(False)\n\nax4.set_facecolor(background_color)\n\n\nax4_sns = sns.kdeplot( x=heart[value],ax=ax4,hue=heart.DEATH_EVENT,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack',palette=['#FE1212','#58FF0B'])\n\nax4_sns.set_xlabel('',fontsize=4, weight='bold')\nax4_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax4_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax4_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax4_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax4_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.1, 1.19), loc='upper right')\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xstart,Yend+20, f'{X1} Plot', fontsize=5, weight='bold',ha='left')\n#   ax0.text(Xstart,Yend+10,f'Mean: 60.83 | SD: 11.89',fontsize=3,ha='left')\nax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax1.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax4.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\nXstart, Xend = ax3.get_xlim()\nYstart, Yend = ax3.get_ylim()\n\nax3_sns.text(Xend+2,Ystart-30, f'{X1} Group', fontsize=3, weight='bold',ha='left')\n\nplt.show()\n\n################################################################################################################################\n\nvalue = conti[5]\nX1 = conti_name[5]\nplt.rcParams['figure.dpi'] = 600\nfig = plt.figure(figsize=(3,2), facecolor='#f6f5f5')\ngs = fig.add_gridspec(2, 2)\ngs.update(wspace=0.5, hspace=0.5)\n\nbackground_color = \"#f6f5f5\"\nsns.set_palette(['#ff355d','#ffd514'])\n\n\n#1\nax0 = fig.add_subplot(gs[0, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax0.spines[s].set_visible(False)\n\nax0.set_facecolor(background_color)\n\n\nax0_sns = sns.histplot(data=heart, x=value,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,bins=25)\n\nax0_sns.set_xlabel('',fontsize=4, weight='bold')\nax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 1.19), loc='upper right')\n\n\n#2\nax1 = fig.add_subplot(gs[0, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax1.spines[s].set_visible(False)\n\nax1.set_facecolor(background_color)\n\n\nax1_sns = sns.kdeplot( x=heart[value],ax=ax1,hue=heart.sex,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack')\n\nax1_sns.set_xlabel('',fontsize=4, weight='bold')\nax1_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax1_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax1_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax1_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax1_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.07, 1.19), loc='upper right')\n\n#3\nax3 = fig.add_subplot(gs[1, 0])\n\n\nfor s in [\"right\", \"top\"]:\n    ax3.spines[s].set_visible(False)\n\nax3.set_facecolor(background_color)\n\n\nax3_sns = sns.histplot(data=heart, x=value,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                      ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'],bins=25)\n\nax3_sns.set_xlabel('',fontsize=4, weight='bold')\nax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.04, 1.19), loc='upper right')\n\n#4\nax4 = fig.add_subplot(gs[1, 1])\n\n\nfor s in [\"right\", \"top\"]:\n    ax4.spines[s].set_visible(False)\n\nax4.set_facecolor(background_color)\n\n\nax4_sns = sns.kdeplot( x=heart[value],ax=ax4,hue=heart.DEATH_EVENT,linewidth=0.3,fill=True,cbar='g',zorder=2,alpha=1,multiple='stack',palette=['#FE1212','#58FF0B'])\n\nax4_sns.set_xlabel('',fontsize=4, weight='bold')\nax4_sns.set_ylabel('',fontsize=4, weight='bold')\n\nax4_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\nax4_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\nax4_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\nax4_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1.1, 1.19), loc='upper right')\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xstart,Yend+50, f'{X1} Plot', fontsize=5, weight='bold',ha='left')\n#   ax0.text(Xstart,Yend+10,f'Mean: 60.83 | SD: 11.89',fontsize=3,ha='left')\nax0.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax1.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\nax4.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\nXstart, Xend = ax3.get_xlim()\nYstart, Yend = ax3.get_ylim()\n\nax3_sns.text(Xend,Ystart-60, f'{X1} Group', fontsize=3, weight='bold',ha='left')\n\nplt.show()","f48f1c6d":"cat_col = ['anaemia','diabetes','high_blood_pressure','smoking','time']\ncat_name = ['Anaemia','Diabetes','High BP','Smoking','Time']\n\nfor i in range(len(cat_name)):\n\n    X = cat_col[i]\n    X1 = cat_name[i]\n\n    plt.rcParams['figure.dpi'] = 600\n\n    fig = plt.figure(figsize=(3,1), facecolor='#f6f5f5')\n    gs = fig.add_gridspec(1, 2)\n    gs.update(wspace=0.5, hspace=0.5)\n\n    background_color = \"#f6f5f5\"\n    sns.set_palette(['#ff355d','#ffd514'])\n\n\n    ax3 = fig.add_subplot(gs[0, 0])\n\n\n    for s in [\"right\", \"top\"]:\n        ax3.spines[s].set_visible(False)\n\n    ax3.set_facecolor(background_color)\n\n\n    ax3_sns = sns.histplot(data=heart, x=X,ax=ax3,zorder=2,kde=False,hue=\"DEATH_EVENT\",multiple=\"stack\", shrink=.8\n                          ,linewidth=0.3,alpha=1,palette=['#FE1212','#58FF0B'])\n\n    ax3_sns.set_xlabel(X1,fontsize=4, weight='bold')\n    ax3_sns.set_ylabel('',fontsize=4, weight='bold')\n\n    ax3_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\n    ax3_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n    ax3_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\n    ax3_sns.legend(['Alive','Deceased'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 1.1), loc='upper right')\n    # ax3.get_xaxis().set_major_formatter(matplotlib.ticker.FuncFormatter(lambda x, p: format(int(x), ',')))\n\n    ############\n    ax0 = fig.add_subplot(gs[0, 1])\n    for s in [\"right\", \"top\"]:\n        ax0.spines[s].set_visible(False)\n\n    ax0.set_facecolor(background_color)\n\n\n    ax0_sns = sns.histplot(data=heart, x=X,ax=ax0,zorder=2,kde=False,hue=\"sex\",multiple=\"stack\", shrink=.8\n                          ,linewidth=0.3,alpha=1)\n\n    ax0_sns.set_xlabel(X1,fontsize=4, weight='bold')\n    ax0_sns.set_ylabel('',fontsize=4, weight='bold')\n\n    ax0_sns.grid(which='major', axis='x', zorder=0, color='#EEEEEE', linewidth=0.4)\n    ax0_sns.grid(which='major', axis='y', zorder=0, color='#EEEEEE', linewidth=0.4)\n\n\n    ax0_sns.tick_params(labelsize=3, width=0.5, length=1.5)\n\n    ax0_sns.legend(['Male','Female'], ncol=2, facecolor='#D8D8D8', edgecolor=background_color, fontsize=3, bbox_to_anchor=(1, 1.114), loc='upper right')\n\n    Xstart, Xend = ax0.get_xlim()\n    Ystart, Yend = ax0.get_ylim()\n\n    if i != 4:\n        ax3_sns.text(Xstart, Yend+43, f'{X1} Plot', fontsize=6, weight='bold',ha='left')\n    else:\n        ax3_sns.text(Xstart, Yend+15, f'{X1} Plot', fontsize=6, weight='bold',ha='left')\n    # ax3_sns.text(Xstart, Yend+30,f'Decrease of red blood cells or hemoglobin',fontsize=3,ha='left')\n\n    plt.show()\n    \n        ","f32c77b9":"#heatmap of the dataset\nplt.rcParams['figure.dpi'] = 600\nbackground_color = \"#f6f5f5\"\n\nfig = plt.figure(figsize=(18, 8), facecolor=background_color)\ngs = fig.add_gridspec(1, 1)\nax0 = fig.add_subplot(gs[0, 0])\n\ncolors = [\"#ff355d\", \"#f6f5f5\",\"#ff355d\"]\ncolormap = matplotlib.colors.LinearSegmentedColormap.from_list(\"\", colors)\n\nax0.set_facecolor(background_color)\nax0.text(0, -1.1, 'Features Correlation on Heart Dataset', fontsize=15, fontweight='bold',bbox=dict(facecolor='none', edgecolor='black', boxstyle='round', linewidth=1.5))\nax0.text(0, -0.4, 'Scale between -1 to 1', fontsize=9, fontweight='light')\n\nax0_sns = sns.heatmap(heart.corr(), ax=ax0, vmin=-1, vmax=1, annot=True, square=True, \n            cbar_kws={\"orientation\": \"horizontal\"}, cbar=False, cmap=colormap, fmt='.1f')\n\nXstart, Xend = ax0.get_xlim()\nYstart, Yend = ax0.get_ylim()\n\nax0_sns.text(Xend+2, Ystart, f'{X1} Plot', fontsize=6, weight='bold',ha='left',alpha=0)#ignore this line if you reading\n\n\nplt.show()","e0a8190f":"!pip install pycaret","bb5ecf2e":"from pycaret.classification import *\nenv = setup(silent=True,data=heart,target='DEATH_EVENT',session_id=69,normalize=True,use_gpu=True,fix_imbalance=True)","eeec9d44":"models = compare_models(n_select=3)","2bd42329":"y = heart.DEATH_EVENT\nX = heart.drop('DEATH_EVENT',axis=1,inplace=False)\n\nsm = SMOTE(random_state=42) #balancing target count\nX, y = sm.fit_resample(X, y)","5ebebab1":"def fit_lgb(trial, x_train, y_train, x_test, y_test):\n    params = {\n        'reg_alpha' : trial.suggest_loguniform('reg_alpha' , 0.47 , 0.5),\n        'reg_lambda' : trial.suggest_loguniform('reg_lambda' , 0.32 , 0.33),\n        'num_leaves' : trial.suggest_int('num_leaves' , 50 , 70),\n        'learning_rate' : trial.suggest_uniform('learning_rate' ,0.02 , 0.04),\n        'max_depth' : trial.suggest_int('max_depth', 30 , 40),\n        'n_estimators' : trial.suggest_int('n_estimators', 100 , 6100),\n        'min_child_weight' : trial.suggest_loguniform('min_child_weight', 0.015 , 0.02),\n        'subsample' : trial.suggest_uniform('subsample' , 0.9 , 1.0), \n        'colsample_bytree' : trial.suggest_loguniform('colsample_bytree', 0.52 , 1),\n        'min_child_samples' : trial.suggest_int('min_child_samples', 76, 80),\n        'metric' : 'auc',\n        'device_type' : 'gpu',\n    }\n    \n    \n    model = LGBMClassifier(**params, random_state=69)\n    model.fit(x_train, y_train,eval_set=[(x_test,y_test)], early_stopping_rounds=150, verbose=False)\n    \n    y_train_pred = model.predict(x_train)\n    \n    y_test_pred = model.predict(x_test)\n    y_train_pred = y_train_pred\n    y_test_pred = y_test_pred\n    \n    log = {\n        \"train ACCURACY\": accuracy_score(y_train, y_train_pred),\n        \"valid ACCURACY\": accuracy_score(y_test, y_test_pred)\n    }\n    \n    return model, log","45a955ba":"def objective(trial):\n    au = 0\n    sk = KFold(n_splits=5,random_state=69,shuffle=True)\n    for fold,(train_indx,test_indx) in enumerate(sk.split(X)):\n        x_train = X.values[train_indx]\n        y_train = y.values[train_indx]\n        x_test = X.values[test_indx]\n        y_test = y.values[test_indx]\n        \n        stand = StandardScaler()\n        x_train = stand.fit_transform(x_train)\n        x_test = stand.transform(x_test)\n        \n        model, log = fit_lgb(trial, x_train, y_train, x_test, y_test)\n    au += log['valid ACCURACY']\n        \n    return au","39934239":"study = optuna.create_study(direction='maximize')\nstudy.optimize(objective, n_trials=10)\nlgbm_para = study.best_params\nprint(lgbm_para)","1e31970c":"def fit_cat(trial, x_train, y_train, x_test, y_test):\n    params = {\n        'iterations':trial.suggest_int(\"iterations\", 1000, 20000),\n        'objective': trial.suggest_categorical('objective', ['Logloss', 'CrossEntropy']),\n        'bootstrap_type': trial.suggest_categorical('bootstrap_type', ['Bayesian', 'Bernoulli', 'MVS']),\n        'od_wait':trial.suggest_int('od_wait', 500, 2000),\n        'learning_rate' : trial.suggest_uniform('learning_rate',0.02,1),\n        'reg_lambda': trial.suggest_uniform('reg_lambda',1e-5,100),\n        'random_strength': trial.suggest_uniform('random_strength',10,50),\n        'depth': trial.suggest_int('depth',1,15),\n        'min_data_in_leaf': trial.suggest_int('min_data_in_leaf',1,30),\n        'leaf_estimation_iterations': trial.suggest_int('leaf_estimation_iterations',1,15),\n        'verbose': False,\n        'task_type' : 'CPU',\n        'devices' : '0'\n    }\n    \n    if params['bootstrap_type'] == 'Bayesian':\n        params['bagging_temperature'] = trial.suggest_float('bagging_temperature', 0, 10)\n    elif params['bootstrap_type'] == 'Bernoulli':\n        params['subsample'] = trial.suggest_float('subsample', 0.1, 1)\n    \n    \n    model = CatBoostClassifier(**params)\n    model.fit(\n        x_train, y_train,\n        eval_set=[(x_test,y_test)],\n        early_stopping_rounds=100,\n        use_best_model=True\n    )\n    \n    y_train_pred = model.predict(x_train)\n    \n    y_test_pred = model.predict(x_test)\n    y_train_pred = y_train_pred\n    y_test_pred = y_test_pred\n    \n    log = {\n        \"train ACCURACY\": accuracy_score(y_train, y_train_pred),\n        \"valid ACCURACY\": accuracy_score(y_test, y_test_pred)\n    }\n    \n    return model, log","a6da8959":"def objective2(trial):\n    au = 0\n    sk = KFold(n_splits=5,random_state=69,shuffle=True)\n    for fold,(train_indx,test_indx) in enumerate(sk.split(X)):\n        x_train = X.values[train_indx]\n        y_train = y.values[train_indx]\n        x_test = X.values[test_indx]\n        y_test = y.values[test_indx]\n        \n        stand = StandardScaler()\n        x_train = stand.fit_transform(x_train)\n        x_test = stand.transform(x_test)\n        \n        model, log = fit_cat(trial, x_train, y_train, x_test, y_test)\n    au += log['valid ACCURACY']\n        \n    return au","39457e47":"study2 = optuna.create_study(direction='maximize')\nstudy2.optimize(objective2, n_trials=5,timeout=600)","12824a60":"cat_para = study2.best_params\nprint(cat_para)","027100da":"def fit_xgb(trial, x_train, y_train, x_test, y_test):\n\n    params = {\n        'tweedie_variance_power': trial.suggest_discrete_uniform('tweedie_variance_power', 1.0, 2.0, 0.1),\n        'max_depth': trial.suggest_int('max_depth', 6, 10), # Extremely prone to overfitting!\n        'n_estimators': trial.suggest_int('n_estimators', 400, 4000, 400), # Extremely prone to overfitting!\n        'eta': trial.suggest_float('eta', 0.007, 0.013), # Most important parameter.\n        'subsample': trial.suggest_discrete_uniform('subsample', 0.2, 0.9, 0.1),\n        'colsample_bytree': trial.suggest_discrete_uniform('colsample_bytree', 0.2, 0.9, 0.1),\n        'colsample_bylevel': trial.suggest_discrete_uniform('colsample_bylevel', 0.2, 0.9, 0.1),\n        'min_child_weight': trial.suggest_loguniform('min_child_weight', 1e-4, 1e4), # I've had trouble with LB score until tuning this.\n        'reg_lambda': trial.suggest_loguniform('reg_lambda', 1e-4, 1e4), # L2 regularization\n        'reg_alpha': trial.suggest_loguniform('reg_alpha', 1e-4, 1e4), # L1 regularization\n        'gamma': trial.suggest_loguniform('gamma', 1e-4, 1e4)\n    } \n    \n    model = XGBClassifier(**params,tree_method='gpu_hist', random_state=69,verbose_eval=False)\n    model.fit(\n        x_train, y_train,\n        eval_set=[(x_test,y_test)],verbose=False,\n        early_stopping_rounds=100\n    )\n    \n    y_train_pred = model.predict(x_train)\n    \n    y_test_pred = model.predict(x_test)\n    y_train_pred = y_train_pred\n    y_test_pred = y_test_pred\n    \n    log = {\n        \"train ACCURACY\": accuracy_score(y_train, y_train_pred),\n        \"valid ACCURACY\": accuracy_score(y_test, y_test_pred)\n    }\n    \n    return model, log","effa2682":"def objective3(trial):\n    au = 0\n    sk = KFold(n_splits=5,random_state=69,shuffle=True)\n    for fold,(train_indx,test_indx) in enumerate(sk.split(X)):\n        x_train = X.values[train_indx]\n        y_train = y.values[train_indx]\n        x_test = X.values[test_indx]\n        y_test = y.values[test_indx]\n        \n        stand = StandardScaler()\n        x_train = stand.fit_transform(x_train)\n        x_test = stand.transform(x_test)\n        \n        model, log = fit_xgb(trial, x_train, y_train, x_test, y_test)\n    au += log['valid ACCURACY']\n        \n    return au","68091385":"study3 = optuna.create_study(direction='maximize')\nstudy3.optimize(objective3, n_trials=5,timeout=10)","0447af42":"xgb_para = study3.best_params\nprint(xgb_para)","1fb71db2":"print(f'LGBM Best Validation Accuracy score: {round(100*study.best_value,2)}%')\n\nprint(f'CATBOOST Best Validation Accuracy score: {round(100*study2.best_value,2)}%')\n\nprint(f'XGBOOST Best Validation Accuracy score: {round(100*study3.best_value,2)}%')","9b32e456":"<h5 style=\"color:red;\">Cardiovascular diseases (CVDs) are the number 1 cause of death globally<\/h5>taking an estimated 17.9 million lives each year, which accounts for 31% of all deaths worlwide.\nHeart failure is a common event caused by CVDs and this dataset contains 12 features that can be used to predict mortality by heart failure.\n\nMost cardiovascular diseases can be prevented by addressing behavioural risk factors such as tobacco use, unhealthy diet and obesity, physical inactivity and harmful use of alcohol using population-wide strategies.\n\nPeople with cardiovascular disease or who are at high cardiovascular risk (due to the presence of one or more risk factors such as hypertension, diabetes, hyperlipidaemia or already established disease) need early detection and management wherein a machine learning model can be of great help.","8742eb6d":"# **5. Work in progress**\n\n<a id='5'><\/a>\n* [Jump top](#0)","6c5181a3":"**3.4 Optuna XGBOOST Hyperparameter tuning**\n\n<a id='3.4' ><\/a>\n* [Jump top](#0)","9407bd83":"# **4. Model Best Score**\n\n<a id='4'><\/a>\n* [Jump top](#0)","b4daeb6a":"# **1.1 How to use this dataset**\n\n<a id='1.1' ><\/a>\n* [Jump top](#0)","2bd9d471":"# **Table of Contents**\n\n* [1.About Dataset](#1)\n * [1.1 How to use this dataset](#1.1)\n* [2. Exploratory Data Analysis (EDA)](#2)\n * [HeatMap of the Dataset](#2.1)\n* [3. Model Training](#3)\n * [3.1 Pycaret Model comparision](#3.1)\n * [3.2 Optuna LGBM Hyperparameter tuning](#3.2)\n * [3.3 Optuna CATBOOST Hyperparameter tuning](#3.3)\n * [3.4 Optuna XGBOOST Hyperparameter tuning](#3.4)\n* [4. Model Best Score](#4)\n* [5. Work in Progress](#5)\n<a id='0'><\/a>","3925842e":"# **2.1 HeatMap of the Dataset**\n\n<a id='2.1' ><\/a>\n* [Jump top](#0)","b38291ed":"* Sex - Gender of patient Male = 1, Female =0\n* Age - Age of patient\n* Diabetes - 0 = No, 1 = Yes\n* Anaemia - 0 = No, 1 = Yes\n* High_blood_pressure - 0 = No, 1 = Yes\n* Smoking - 0 = No, 1 = Yes\n* DEATH_EVENT - 0 = No, 1 = Yes","ec37aeb1":"**3.2 Optuna LGBM Hyperparameter tuning**\n\n<a id='3.2' ><\/a>\n* [Jump top](#0)","e585e95a":"**3.1 Pycaret Model Comparision**\n\n<a id='3.1' ><\/a>\n* [Jump top](#0)","0f42e9c3":"> **Create a model for predicting mortality caused by Heart Failure.**","3be50164":"**3.3 Optuna CATBOOST Hyperparameter tuning**\n\n<a id='3.3' ><\/a>\n* [Jump top](#0)","9bf9410b":"<div style=\"color:black; display:fill; border-radius:5px;background-color:#ffd514;font-size:160%;font-family:sans-serif;letter-spacing:0.5px\">If you like the work please upvote (\u1557 \u0361\ud83d\udc41\u202f\u035c\u0296 \u0361\ud83d\udc41)\u1557<\/div>","a053a73e":"# **1. About Dataset**\n<a id='1' ><\/a>\n* [Jump top](#0)","5f515a16":"![olympics](https:\/\/images.unsplash.com\/photo-1588543385566-413e13a51a24?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80)","e9655cf5":"# **3. Model Training**\n\n<a id='3' ><\/a>\n* [Jump top](#0)","3b4b3962":"# **2. Exploratory Data Analysis (EDA)**\n\n<a id='2' ><\/a>\n* [Jump top](#0)"}}