{"cell_type":{"c5ec2ab7":"code","964c5035":"code","d5d6f990":"code","2004132c":"code","493ab35c":"code","d022a11d":"code","c1f33c66":"code","47a46e08":"code","9f6235e9":"code","7cef7534":"code","2e921895":"code","4e8380a1":"code","6a9fe921":"code","2aa756aa":"code","c5ff6507":"code","d5f0f5ec":"code","64c7d0ec":"code","f9191c49":"code","42a88e7e":"code","bcf99c4a":"code","f1c7f4e6":"code","94554eae":"code","0dc6e4aa":"code","8ebfa1ff":"code","0ee95c1d":"code","c52bb5d5":"code","b52b4fe1":"code","fc10203e":"markdown","e4c80c56":"markdown","db6c80f0":"markdown","be048f9f":"markdown","82820226":"markdown","f7eb5e4f":"markdown","d839869d":"markdown","5e17e29c":"markdown","7da3a773":"markdown","a48917cf":"markdown","e1f6a5cc":"markdown","dd5eaf6f":"markdown","e99f5aca":"markdown"},"source":{"c5ec2ab7":"import numpy as np\nimport seaborn as sns\nsns.set_style('darkgrid')\nimport datetime\nimport pandas as pd\npd.options.mode.chained_assignment = None\nimport matplotlib.pyplot as plt\nplt.style.use('fivethirtyeight')\nimport re\nfrom string import Template\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","964c5035":"def plot(xlabel, ylabel, title,  y_lim, y_init = 0, y_interval=10):\n    \"\"\"custom func to prevent repetition while plotting\"\"\"\n    plt.xlabel(xlabel)\n    plt.ylabel(ylabel)\n    plt.title(title)\n    plt.yticks(range(y_init, y_lim + y_interval, y_interval))\n    plt.show()\n    \ndef plot_sns(g, xlabel=\"\", ylabel=\"\", title=\"\", y = 1.07 , y_lim=100, y_init = 0, y_interval=10, rot = 90,face_grid=True):\n    if face_grid is True:\n        g.fig.suptitle(title, y = y)\n    else:\n        g.set(title = title)\n    g.set(xlabel = xlabel, ylabel = ylabel)\n    plt.yticks(range(y_init, y_lim + y_interval, y_interval))\n    plt.xticks(rotation=rot)\n    plt.show()","d5d6f990":"df = pd.read_csv('\/kaggle\/input\/indian-startups-funding-weekly-dataset-20162020\/fundingdata.csv',encoding= 'unicode_escape',parse_dates=['Start Date','End Date'])\ndf.head(10)","2004132c":"print('='*20 + 'SHAPE' + '='*20)\nprint(df.shape)\nprint('\\n\\n')\nprint('='*20 + 'INFO' + '='*20)\ndf.info()\nprint('\\n\\n')\nprint('='*20 + 'DESCRIBE' + '='*20)\nprint(df.describe())\nprint('\\n\\n')\nprint('='*20 + 'VALUE COUNTS' + '='*20)\nprint(df[\"HF-Startup name\"].value_counts())\nprint('\\n\\n')\nprint('='*20 + 'NA check' + '='*20)\nprint(df.isna().any())\nprint(df.isna().sum())\nprint('\\n\\n')\nprint('='*20 + 'UNIQUE' + '='*20)\nprint(f'Companies = {df[\"HF-Startup name\"].unique()}')\n","493ab35c":"df['Start Date'] < df['End Date']","d022a11d":"df.columns = ['start_date','end_date', 'total_funding_usd', 'Name', 'highest_funding_usd', 'total_deals','undisclosed_deals','year']\ndf = df.rename(columns = {\n    \"Start Date\": \"start_date\",\n    \"End Date\": \"end_date\",\n    \"Total Funding Amount(in USD)\": \"total_funding_usd\",\n    \"HF-Startup name\": \"Name\",\n    \"Highest Funding\": \"highest_funding_usd\",\n    \"Total Deals\": \"total_deals\",\n    \"Undisclosed Deals\": \"undisclosed_deals\",\n    \"Year\" : \"year\"\n})\ndf.columns\n","c1f33c66":"df.highest_funding_usd = df.highest_funding_usd\/1000000\ndf.total_funding_usd = df.total_funding_usd\/1000000\ndf = df.rename(columns = {\n    \"total_funding_usd\": \"total_funding_mill_usd\",\n    \"highest_funding_usd\": \"highest_funding_mill_usd\",\n})\ndf.columns","47a46e08":"df.Name = df.Name.str.strip()\ndf.Name = df.Name.str.upper()\ndf.replace({'POLICY BAZAAR':'POLICYBAZAAR'}, inplace=True)\n\nfor row in df.itertuples():\n    if row.start_date >= row.end_date:\n        temp = row.start_date\n        df.at[row.Index, 'start_date'] = row.end_date\n        df.at[row.Index, 'end_date'] = temp","9f6235e9":"df['duration'] = (df.end_date - df.start_date).dt.days\ndf.columns","7cef7534":"plt.figure(figsize=(18,5))\ninteresting_companies = ['OYO', 'BYJU\\'S', 'OLA','SWIGGY']\nyearly_funding = df[df.Name.isin(interesting_companies)].groupby(['Name','year'])[['total_funding_mill_usd']].agg(sum).reset_index()\n# print(yearly_funding)\ny_lim = int(yearly_funding.total_funding_mill_usd.max())\nplt.xticks([2016,2017,2018,2019,2020])\ng = sns.lineplot(x=\"year\", y = \"total_funding_mill_usd\", data = yearly_funding, hue='Name')\nplot_sns(g,ylabel = 'Million USD', title = 'Fundings received', y_lim = y_lim, y_interval=200,face_grid=False,rot=0)\n\n","2e921895":"plt.figure(figsize=(12,8))\ninteresting_companies = ['OYO', 'BYJU\\'S', 'OLA','SWIGGY']\nsns.heatmap(pd.crosstab( df[df.total_funding_mill_usd >= 380]['Name'], df.year, values = round(df.total_funding_mill_usd\/1000,2), aggfunc = 'mean'), annot=True,cmap='YlGnBu', linewidths=3)\nplt.title('Fundings in $Billion over the years')\nplt.ylabel('')\nplt.xlabel('')\nplt.show()\n\n","4e8380a1":"plt.figure(figsize=(18,5))\nfunding_per_year = df.groupby(['year'])[['total_funding_mill_usd']].agg(sum).reset_index()\nfunding_per_year['total_funding_bn_usd'] = round(funding_per_year['total_funding_mill_usd']\/1000 , 1)\n# print(funding_per_year)\ny_lim = int(funding_per_year.total_funding_bn_usd.max())\nplt.xticks([2016,2017,2018,2019,2020])\ng = sns.lineplot(x=\"year\", y = \"total_funding_bn_usd\", data = funding_per_year)\nplot_sns(g,ylabel = 'Billion USD', title = 'Total Fundings (Till June 2020)', y_lim = y_lim, y_interval=2,face_grid=False,rot=0)\n\n","6a9fe921":"df_highest_funding_round = df[['Name', 'highest_funding_mill_usd']].nlargest(20,'highest_funding_mill_usd').set_index('Name')\n# print(df_highest_funding_round)\ny_lim = int(df_highest_funding_round.highest_funding_mill_usd.max())\ndf_highest_funding_round.plot(kind='bar',figsize=(18,8))\nplt.legend('',frameon=False)\nplot(xlabel = '', ylabel = 'Million USD', title = 'Companies which received highest funding in a round', y_lim=y_lim, y_interval=200)\n\n","2aa756aa":"total_funding = df.groupby('Name').total_funding_mill_usd.agg(sum).nlargest(25).reset_index()\ntotal_funding['total_funding_bn_usd'] = round(total_funding.total_funding_mill_usd\/1000, 1)\ntotal_funding = total_funding.drop(columns = 'total_funding_mill_usd')\n# print(total_funding)\nplt.figure(figsize=(18,5))\n\ny_lim = int(total_funding.total_funding_bn_usd.max())\ng = sns.barplot(x = total_funding.Name, y = total_funding.total_funding_bn_usd)\nplot_sns(g,ylabel = 'Billion USD', title = 'Companies which received most funding', y_lim = y_lim, y_interval=1,face_grid=False)\n","c5ff6507":"total_deals = df.groupby('Name').total_deals.agg(sum).nlargest(20).reset_index()\nplt.figure(figsize=(18,5))\n# print(total_deals)\ny_lim = int(total_deals.total_deals.max())\ng = sns.barplot(x = total_deals.Name, y = total_deals.total_deals)\nplot_sns(g,ylabel = '', title = 'Companies with most deals', y_lim = y_lim, y_interval=20,face_grid=False)\n","d5f0f5ec":"total_undisclosed_deals = df.groupby('Name').undisclosed_deals.agg(sum).nlargest(20).reset_index()\nplt.figure(figsize=(18,5))\n# print(total_undisclosed_deals)\ny_lim = int(total_undisclosed_deals.undisclosed_deals.max())\ng = sns.barplot(x = total_undisclosed_deals.Name, y = total_undisclosed_deals.undisclosed_deals)\nplot_sns(g,ylabel = '', title = 'Companies with most undisclosed deals', y_lim = y_lim, y_interval=5,face_grid=False)\n","64c7d0ec":"df_deals_total = df.groupby(['Name']).total_deals.agg(sum).nlargest(50).reset_index()\ndf_deals_undisclosed = df.groupby(['Name']).undisclosed_deals.agg(sum).nlargest(50).reset_index()\n\ndf_deals = pd.merge(df_deals_total, df_deals_undisclosed, on=['Name'], how='inner').set_index('Name').iloc[0:15]\n# print(df_deals)\ndf_deals.plot(color=[\"SkyBlue\",\"IndianRed\"],kind='bar', grid=True, figsize=(18,5))\ny_lim = df_deals[['total_deals']].values.max()\nplot(xlabel = '', ylabel = '', title = '', y_lim = y_lim, y_interval = 15)\n\n","f9191c49":"df_duration = df[df.duration > 180][['Name','duration']].sort_values(by='duration',ascending=False).set_index('Name')\n# print(df_duration)\ndf_duration.plot(kind='bar', grid=True, figsize=(18,5))\ny_lim = df_duration.duration.values.max()\nplot(xlabel = '', ylabel = 'Days', title = 'Max duration of funding', y_lim = y_lim, y_interval = 50)","42a88e7e":"df2 = pd.read_excel('\/kaggle\/input\/indian-startups-funding-weekly-dataset-20162020\/Indian_Unicorns.xlsx')\ndf2.head(10)","bcf99c4a":"print('==========================SHAPE==========================')\nprint(df2.shape)\nprint('\\n\\n')\nprint('==========================INFO==========================')\ndf2.info()\nprint('\\n\\n')\nprint('==========================DESCRIBE==========================')\nprint(df2.describe())\nprint('\\n\\n')\nprint('==========================VALUE COUNTS==========================')\nprint(df2.Company.value_counts())\nprint(df2.Sector.value_counts())\nprint(df2.Entry.value_counts())\nprint(df2.Location.value_counts())\nprint('\\n\\n')\nprint('==========================NA check==========================')\nprint(df2.isna().any())\nprint(df2.isna().sum())\nprint('\\n\\n')\nprint('==========================UNIQUE==========================')\nprint(f'Companies = {df2.Company.unique()}')\nprint('\\n')\nprint(f'Sectors = {df2.Sector.unique()}')\nprint('\\n')\nprint(f'Valuations = {df2[\"Valuation ($B)\"].unique()}')\nprint('\\n')\nprint(f'Entry = {df2.Entry.unique()}')\nprint('\\n')\nprint(f'Locations = {df2.Location.unique()}')\n\n","f1c7f4e6":"# REMOVE SPACES FROM STRINGS\ndf2.Company = df2.Company.str.strip()\ndf2.Location = df2.Location.str.strip()\n# CONVERT TO UPPER CASE\ndf2.Company = df2.Company.str.upper()\ndf2.Location = df2.Location.str.upper()\ndf2.Sector = df2.Sector.str.upper()\n# DROP UNNECESSARY COLS\/ RENAME COLS\ndf2 = df2.drop(columns='No.')\ndf2 = df2.rename(columns = {\"Company\": \"Name\",\"Valuation ($B)\":'Valuation_in_Bn_USD'})\nprint(df2.head(5))\n","94554eae":"valuation = df2[['Name','Valuation_in_Bn_USD','Location']].nlargest(30,'Valuation_in_Bn_USD')\nplt.figure(figsize=(18,5))\n# print(valuation)\ny_lim = int(valuation.Valuation_in_Bn_USD.max())\ng = sns.barplot(x = valuation.Name, y = valuation.Valuation_in_Bn_USD,hue=valuation.Location,dodge=False)\nplot_sns(g,ylabel = '', title = 'Valuation in Billion$ of Unicorns', y_lim = y_lim, y_interval=2,face_grid=False)\n","0dc6e4aa":"valuation = df2[['Name','Valuation_in_Bn_USD','Entry']].nlargest(29,'Valuation_in_Bn_USD')\nplt.figure(figsize=(18,5))\n# print(valuation)\ny_lim = int(valuation.Valuation_in_Bn_USD.max())\ng = sns.barplot(x = valuation.Name, y = valuation.Valuation_in_Bn_USD,hue=valuation.Entry,dodge=False)\nplot_sns(g,ylabel = '', title = 'Valuation in Billion$ of Unicorns', y_lim = y_lim, y_interval=2,face_grid=False)\n","8ebfa1ff":"loc = df2.Location.value_counts()\nplt.figure(figsize=(8,5))\ng = sns.barplot(x = loc.index, y = loc)\nplot_sns(g, title = 'Cities hosting most Unicorns',y_lim = loc.max(), y_interval = 2, face_grid=False)","0ee95c1d":"year_vc = df2.Entry.value_counts()\nplt.figure(figsize=(10,5))\ng = sns.barplot(x = year_vc.index, y = year_vc)\nplot_sns(g, title = 'Year-wise distribution of when Unicorns were setup',y_lim = year_vc.max(), y_interval = 1, face_grid=False)\n","c52bb5d5":"sector = df2.Sector.value_counts()\nplt.figure(figsize=(15,5))\ng = sns.barplot(x = sector.index, y = sector)\nplot_sns(g, title = 'Sectors which Unicorns operated in',y_lim = sector.max(), y_interval = 1, face_grid=False)\n","b52b4fe1":"plt.figure(figsize=(18,5))\ndf2['Valuation_in_Mill_USD'] = df2['Valuation_in_Bn_USD']*1000\n# print(df2['Valuation_in_Mill_USD'].sort_values(ascending=False))\ng = sns.boxplot(data = df2,  x = 'Valuation_in_Mill_USD')\nplot_sns(g, xlabel='Million$',title = 'Distribution of Unicorns\\' valuation', y_lim=1,y_interval = 1, face_grid=False)\n","fc10203e":"## Before we move to data cleaning step, let's rename\/introduce some column(s). Renaming a column is done based on my preference for dot notation.","e4c80c56":"Since this involves data only till mid-2020 we see a dip in 2020 in terms of total fundings. Not to mention COVID-19 impact!","db6c80f0":"### From exploration, we notice:\n    - Some names have a trailing\/leading whitespaces e.g. Udaan, Gaana etc\n    - Some names have been repeated due to interleaving whitespaces e.g. 'PolicyBazaar' and 'Policy Bazaar'\n    - Some names have been repeated due to lower\/upper case e.g. 'Oyo' and 'OYO'\n    - Start date is greater than end date","be048f9f":"## Data Cleaning","82820226":"### Introducing a new column 'duration' which will be the difference in days between the start and end dates","f7eb5e4f":"# Indian Unicorns Dataset","d839869d":"# Data exploration:\n> 1. Check shape\n> 1. Check unique values of relevant columns\n> 1. Check value counts of relevant columns\n> 1. Check description\n> 1. Check data types\n> 1. NA checks\n\n","5e17e29c":"### Converting total and highest fundings from USD to MillionUSD","7da3a773":"### Fix for encoding error while importing: set encoding= 'unicode_escape' while reading file","a48917cf":"> *As seen from the boxplot above, most of the valuations are less than 4 billion USD. There are ofcourse some outliers like Flipkart etc which are represented by the dots.*","e1f6a5cc":"### Data Exploration","dd5eaf6f":"> What we don't know is how many years it takes for a company to turn into a unicorn :)","e99f5aca":"# Data cleaning:\n> 1. Remove any leading\/trailing\/interleaving whitespaces\n> 1. Convert all strings to upper case\n> 1. Exchanging start dates with end dates for the case where start date is greater than end date\n"}}