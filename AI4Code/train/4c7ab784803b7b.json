{"cell_type":{"af1c0ba4":"code","46ba8789":"code","916514f3":"code","f8e2a55f":"code","8b889785":"code","93e1562b":"code","95a73828":"code","7812e5c5":"code","8aa05efd":"code","25daa43c":"code","19197664":"code","fd1c5b62":"markdown","ad0e7cf1":"markdown","b7a3fa4e":"markdown","92602f72":"markdown","2f68800f":"markdown","f727310e":"markdown"},"source":{"af1c0ba4":"import pandas as pd\nimport pandas_profiling\nimport plotly.graph_objects as go\nimport plotly.express as px\nfrom plotly.subplots import make_subplots","46ba8789":"df = pd.read_csv('..\/input\/omicron-covid19-variant-daily-cases\/covid-variants.csv')\ndf","916514f3":"df.describe()","f8e2a55f":"profiling = pandas_profiling.ProfileReport(df)","8b889785":"profiling","93e1562b":"sample  = df.rename(columns={\"location\":\"Location\",\"num_sequences_total\":\"Number of Case\"})\nfig = px.treemap(sample, path=[px.Constant('Number of Case'),'Location'], values='Number of Case',\n                   hover_data=['Location'])\nfig.update_layout(title_text='Total COVID-19 Case')\nfig.show()","95a73828":"us=df.loc[df['location']=='United States'].groupby('variant').sum().reset_index()\nuk=df.loc[df['location']=='United Kingdom'].groupby('variant').sum().reset_index()\ngermany=df.loc[df['location']=='Germany'].groupby('variant').sum().reset_index()\n\n\nfig = make_subplots(rows=1, cols=3, specs=[[{'type':'domain'}, {'type':'domain'},{'type':'domain'}]])\nfig.add_trace(go.Pie(labels=us['variant'], values=us['num_sequences'], name=\"US Variants\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=uk['variant'], values=uk['num_sequences'], name=\"UK Variants\"),\n              1, 2)\nfig.add_trace(go.Pie(labels=germany['variant'], values=germany['num_sequences'], name=\"Germany Variants\"),\n              1, 3)\nfig.update_traces(textposition='inside', textinfo='percent+label',hole=.3)\nfig.update_layout(\n    title_text=\"COVID Variants in Top 3 Spread Countries\",\n    # Add annotations in the center of the donut pies.\n    annotations=[dict(text='US', x=0.13, y=0.5, font_size=20, showarrow=False),\n                 dict(text='UK', x=0.50, y=0.5, font_size=20, showarrow=False),\n                 dict(text='Germany', x=0.895, y=0.5, font_size=20, showarrow=False)])\nfig.show()","7812e5c5":"dmk=df.loc[df['location']=='Denmark'].groupby('variant').sum().reset_index()\ncda=df.loc[df['location']=='Canada'].groupby('variant').sum().reset_index()\njp=df.loc[df['location']=='Japan'].groupby('variant').sum().reset_index()\n\n\nfig = make_subplots(rows=1, cols=3, specs=[[{'type':'domain'}, {'type':'domain'},{'type':'domain'}]])\nfig.add_trace(go.Pie(labels=dmk['variant'], values=dmk['num_sequences'], name=\"Denmark Variants\"),\n              1, 1)\nfig.add_trace(go.Pie(labels=cda['variant'], values=cda['num_sequences'], name=\"Canada Variants\"),\n              1, 2)\nfig.add_trace(go.Pie(labels=jp['variant'], values=jp['num_sequences'], name=\"Japan Variants\"),\n              1, 3)\nfig.update_traces(textposition='inside', textinfo='percent+label',hole=.3)\nfig.update_layout(\n    title_text=\"COVID Variants in Top Spread Countries\",\n    # Add annotations in the center of the donut pies.\n    annotations=[dict(text='Denmark', x=0.1, y=0.5, font_size=20, showarrow=False),\n                 dict(text='Canada', x=0.50, y=0.5, font_size=20, showarrow=False),\n                 dict(text='Japan', x=0.88, y=0.5, font_size=20, showarrow=False)])\nfig.show()","8aa05efd":"for v in df.variant.unique():\n    df_a=df.loc[df['variant']==v].groupby('location').sum().reset_index()\n    df_a=df_a.sort_values('num_sequences',ascending=False).reset_index(drop=True)[:10]\n    fig=px.bar(df_a,y='num_sequences',x='location')\n    fig.update_layout(xaxis={'categoryorder':'total descending'},title_text='COVID-19 '+v+' Cases',xaxis_title='Country',yaxis_title='No. of Cases')\n    fig.show()","25daa43c":"trend=df.groupby(['date','variant']).sum().reset_index()\npivot_table=trend.pivot('date','variant','num_sequences').reset_index()","19197664":"fig = px.line(pivot_table, x=\"date\", y=pivot_table.columns,title='Variant Infection Trend')\nfig.update_layout(xaxis_title='Date',yaxis_title='No. of Cases')\nfig.show()","fd1c5b62":"We can observe that **Delta** is the most common variants among the Top Spread Countries","ad0e7cf1":"We then look into the variants to explode the distribution of specific variant in different country","b7a3fa4e":"From the graph, we can observe that **Beta** is the first variant to spike the **highest** between **March and May in 2020**.\n\nThen **Delta** creates new peak in between **July and September 2021**. \n\nThe daily infection of Delta remain **peak** in between **July 2021 and Janauary 2022**.\n\nFrom the **end of 2021 to 2022**, **Omicron** emerges quickly","92602f72":"Next we gonna look into the trend each variant change","2f68800f":"Breakdown into which Countries has the most COVID Case\n\nFrom the graph, we can see that **US, UK, Germany, Denmark, Canada, Japan** and **France** are the countries that leading in the cases.","f727310e":"Next step, we would like to look into the variants distribution among these leading countries"}}