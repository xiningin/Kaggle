{"cell_type":{"39b0d24d":"code","73bdac8d":"code","950c9595":"code","03f951ac":"code","8a1cd705":"code","28437385":"code","36bdad44":"code","9bc78956":"code","f21c00f3":"code","484b4dcd":"code","492e586c":"code","7fcb858c":"code","6d0afa09":"code","736b9390":"code","f5313887":"code","b070b064":"code","3d1867fd":"markdown","a3896e6f":"markdown"},"source":{"39b0d24d":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport json\nimport folium\nfrom folium import plugins\n\nfrom statistics import *\nfrom IPython.display import Image\n\ndata = pd.read_csv(\"..\/input\/pesquisa-data-hackers-2019\/datahackers-survey-2019-anonymous-responses.csv\", sep=\",\")\ndata.head(3)","73bdac8d":"fig, ax = plt.subplots(1,1, figsize=(20,5))\n\nsns.heatmap(data.isnull())","950c9595":"data_p = data.groupby([\"('D4', 'anonymized_market_sector')\"]).size().reset_index()\ndata_p.columns = [\"area\", \"qtd\"]\ndata_p[\"qtd_p\"] = round((data_p[\"qtd\"]*100)\/data_p[\"qtd\"].sum(),2)\ndata_p.sort_values(\"qtd_p\", ascending=True, inplace=True)\n\nfig = px.bar(data_p, y=\"area\", x=\"qtd_p\", orientation='h', text='qtd_p', title= \"DH Survey - Areas de atua\u00e7\u00e3o\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.show()","03f951ac":"#atua\u00e7\u00e3o de mercado\nImage(\"..\/input\/screenshots\/shc1.png\")","8a1cd705":"grad_sit = data.groupby([\"('D6', 'anonymized_role')\"]).size().reset_index()\ngrad_sit.columns = [\"Fun\u00e7\u00e3o\", \"qtd\"]\ngrad_sit[\"qtd_p\"] = round((grad_sit[\"qtd\"]*100)\/grad_sit[\"qtd\"].sum(),2)\ngrad_sit.sort_values(\"qtd_p\", ascending=True, inplace=True)\n\nfig = px.bar(grad_sit, y=\"Fun\u00e7\u00e3o\", x=\"qtd_p\", orientation='h', text='qtd_p', title=\"DH Survey - Levantamento de Cargos\/Fun\u00e7\u00e3o\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.update_layout(hovermode=\"x\")\nfig.show()","28437385":"#atua\u00e7\u00e3o de mercado\nImage(\"..\/input\/screenshot2\/sch2.png\")","36bdad44":"data_p = data.groupby([\"('P3', 'living_in_brasil')\", \"('D3', 'anonymized_degree_area')\"]).size().reset_index()\ndata_p.columns = [\"regiao\", \"area\", \"qtd\"]\ndata_p = data_p.replace({\"regiao\": {0:\"Exterior\", 1:\"Brasil\"}})\n\nfig = px.bar(data_p, y=\"regiao\", x=\"qtd\", color='area', orientation='h', text='qtd', title= \"Quem participou do estudo?\")\nfig.show()","9bc78956":"data.loc[(data[\"('P2', 'gender')\"].isnull()), \"('P2', 'gender')\"] = 'N\u00e3o informado'\n\ndata[\"('P1', 'age')\"] = data[\"('P1', 'age')\"].astype('category')\ndata[\"('P2', 'gender')\"] = data[\"('P2', 'gender')\"].astype('category')\n\ndata.fillna({('P2', 'gender'):\"N\u00e3o informado\"}, inplace=True)\n\nfig = px.histogram(data, x=\"('P1', 'age')\", color=\"('P2', 'gender')\", title=\"Distribui\u00e7\u00e3o de idade e g\u00eanero dos participantes\")\nfig.update_layout(hovermode=\"x\")\nfig.show()","f21c00f3":"fig = px.box(data, x=\"('P2', 'gender')\", y=\"('P1', 'age')\", title=\"Distribui\u00e7\u00e3o de G\u00eanero e idade\", boxmode=\"overlay\", color=\"('P2', 'gender')\")\nfig.update_layout(hovermode=\"x\")\nfig.show()","484b4dcd":"grad_sit = data.groupby([\"('P10', 'job_situation')\", \"('P2', 'gender')\"]).size().reset_index()\ngrad_sit.columns = [\"Situa\u00e7\u00e3o\", \"Forma\u00e7\u00e3o\", \"qtd\"]\ngrad_sit[\"qtd_p\"] = round((grad_sit[\"qtd\"]*100)\/grad_sit[\"qtd\"].sum(),2)\n\nfig = px.bar(grad_sit, y=\"Situa\u00e7\u00e3o\", x=\"qtd_p\", color='Forma\u00e7\u00e3o', orientation='h', text='qtd_p', title=\"Vinculo empregat\u00edcio\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.show()","492e586c":"grad_temp = data.groupby([\"('P17', 'time_experience_data_science')\", \"('P2', 'gender')\"]).size().reset_index()\ngrad_temp.columns = [\"Tempo de Exepriencia\", \"Sexo\", \"qtd\"]\ngrad_temp = grad_temp.replace({\"Tempo de Exepri\u00eancia\": {\"N\u00e3o tenho experi\u00eancia na \u00e1rea de dados\": \"Sem Experi\u00eancia\"}})\ngrad_temp[\"Tempo de Exepriencia\"] = grad_temp[\"Tempo de Exepriencia\"].astype(\"category\")\ngrad_temp.sort_values(by=['qtd'], inplace=True)\n\nfig = px.bar(grad_temp, y=\"Tempo de Exepriencia\", x=\"qtd\", color='Sexo', orientation='h', text='qtd', title=\"Tempo de experi\u00eancia na \u00e1rea de Data Science\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.update_layout(yaxis=dict(tickformat=\".2%\"))\nfig.show()","7fcb858c":"grad_sal = data.groupby([\"('P16', 'salary_range')\", \"('P2', 'gender')\"]).size().reset_index()\ngrad_sal.columns = [\"Salario\", \"Sexo\", \"qtd\"]\ngrad_sal = grad_sal.replace({ \"Salario\": {\"de R$ 4.001\/m\u00eas a R$ 6.000\/m\u00eas\": \"4~6 R$ mil\",\n                                          \"de R$ 8.001\/m\u00eas a R$ 12.000\/m\u00eas\": \"8~12 R$ mil\",\n                                          \"de R$ 6.001\/m\u00eas a R$ 8.000\/m\u00eas\": \"6~8 R$ mil\",\n                                          \"de R$ 3.001\/m\u00eas a R$ 4.000\/m\u00eas\": \"3~4 R$ mil\",\n                                          \"de R$ 1.001\/m\u00eas a R$ 2.000\/m\u00eas\": \"1~2 R$ mil\",\n                                          \"de R$ 2.001\/m\u00eas a R$ 3000\/m\u00eas\": \"2~3 R$ mil\",\n                                          \"de R$ 12.001\/m\u00eas a R$ 16.000\/m\u00eas\": \"12~16 R$ mil\",\n                                          \"Menos de R$ 1.000\/m\u00eas\": \"*~1 R$ mil\",\n                                          \"de R$ 16.001\/m\u00eas a R$ 20.000\/m\u00eas\": \"16~20 R$ mil\",\n                                          \"de R$ 20.001\/m\u00eas a R$ 25.000\/m\u00eas\": \"20~25 R$ mil\",\n                                          \"Acima de R$ 25.001\/m\u00eas\":  \"25~* R$ mil\"}})\n\nfig = px.bar(grad_sal, y=\"Salario\", x=\"qtd\", color='Sexo', orientation='h', text='qtd', title=\"Diferen\u00e7a salarial entre G\u00eanero\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.show()","6d0afa09":"data[\"('P1', 'age')\"] = data[\"('P1', 'age')\"].astype('category').sort_values()\ndata[\"('P2', 'gender')\"] = data[\"('P2', 'gender')\"].astype('category')\ndata[\"('P8', 'degreee_level')\"] = data[\"('P8', 'degreee_level')\"].astype('category')\ndata[\"('P16', 'salary_range')\"] = data[\"('P16', 'salary_range')\"].astype('category')\ndata[\"('P6', 'born_or_graduated')\"] = data[\"('P6', 'born_or_graduated')\"].astype('category')\ndata[\"('P19', 'is_data_science_professional')\"] = data[\"('P19', 'is_data_science_professional')\"].astype(\"object\")\n\ndata = data.replace({\"('P16', 'salary_range')\": {\"de R$ 4.001\/m\u00eas a R$ 6.000\/m\u00eas\": \"4~6 R$ mil\",\n                                          \"de R$ 8.001\/m\u00eas a R$ 12.000\/m\u00eas\": \"8~12 R$ mil\",\n                                          \"de R$ 6.001\/m\u00eas a R$ 8.000\/m\u00eas\": \"6~8 R$ mil\",\n                                          \"de R$ 3.001\/m\u00eas a R$ 4.000\/m\u00eas\": \"3~4 R$ mil\",\n                                          \"de R$ 1.001\/m\u00eas a R$ 2.000\/m\u00eas\": \"1~2 R$ mil\",\n                                          \"de R$ 2.001\/m\u00eas a R$ 3000\/m\u00eas\": \"2~3 R$ mil\",\n                                          \"de R$ 12.001\/m\u00eas a R$ 16.000\/m\u00eas\": \"12~16 R$ mil\",\n                                          \"Menos de R$ 1.000\/m\u00eas\": \"*~1 R$ mil\",\n                                          \"de R$ 16.001\/m\u00eas a R$ 20.000\/m\u00eas\": \"16~20 R$ mil\",\n                                          \"de R$ 20.001\/m\u00eas a R$ 25.000\/m\u00eas\": \"20~25 R$ mil\",\n                                          \"Acima de R$ 25.001\/m\u00eas\":  \"25~* R$ mil\"}})\n\ndata_sort = data.sort_values(by=\"('P16', 'salary_range')\", ascending=True)\n\nfig = px.parallel_categories(data_sort, \n                             color=\"('P19', 'is_data_science_professional')\",\n                             dimensions=[\"('P2', 'gender')\",\n                                        \"('D3', 'anonymized_degree_area')\",\n                                        \"('P8', 'degreee_level')\",\n                                        \"('D6', 'anonymized_role')\",\n                                        \"('P16', 'salary_range')\",\n                                        \"('P19', 'is_data_science_professional')\"],\n                             labels={\"('P2', 'gender')\": \"Sexo\",\n                                     \"('P19', 'is_data_science_professional')\": \"Se considera\\n Um DS\",\n                                     \"('P8', 'degreee_level')\": \"N\u00edvel Forma\u00e7\u00e3o\",\n                                     \"('D3', 'anonymized_degree_area')\": \"\u00c1rea Gradua\u00e7\u00e3o\",\n                                     \"('D6', 'anonymized_role')\": \"Fun\u00e7\u00e3o\", \n                                     \"('P16', 'salary_range')\": \"Sal\u00e1rio\"},\n                            title=\"Rastreamento dos Perfis dos participantes\")\n\nfig.show()","736b9390":"from plotly.subplots import make_subplots\nimport plotly.graph_objects as go\n\ngrad_languages = data.groupby([\"('P22', 'most_used_proggraming_languages')\", \"('P2', 'gender')\"]).size().reset_index()\ngrad_languages.columns = [\"Linguagem\", \"Sexo\", \"qtd\"]\ngrad_languages.sort_values(\"qtd\", inplace=True)\ngrad_languages = grad_languages.replace({\"Linguagem\": {\"N\u00e3o utilizo nenhuma das linguagens listadas\": \"Nenhuma das listada\"}})\n\nfig = px.bar(grad_languages, y=\"Linguagem\", x=\"qtd\", color='Sexo', orientation='h', text='qtd', title=\"Linguagens mais utilizadas\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.show()","f5313887":"salario = {\n    \"4~6 R$ mil\": 5000.,\n    \"8~12 R$ mil\": 10000.,\n    \"6~8 R$ mil\": 7000.,\n    \"3~4 R$ mil\": 3500.,\n    \"1~2 R$ mil\": 1500.,\n    \"2~3 R$ mil\": 2500.,\n    \"12~16 R$ mil\": 14000.,\n    \"*~1 R$ mil\": 900.,\n    \"16~20 R$ mil\": 18000.,\n    \"20~25 R$ mil\": 22500.,\n    \"25~* R$ mil\": 26000.\n}\n\ndata[\"Salario_Aproximado\"] = data[\"('P16', 'salary_range')\"].map(salario)\ngrad_pl = data.groupby([\"('P22', 'most_used_proggraming_languages')\", \"('P2', 'gender')\"])[\"Salario_Aproximado\"].mean().sort_values(ascending=False).reset_index()\ngrad_pl.columns = [\"Linguagens\", \"Sexo\", \"Salario\"]\ngrad_pl = grad_pl.replace({\"Linguagens\": {\"N\u00e3o utilizo nenhuma das linguagens listadas\": \"Nenhuma das listada\"}})\ngrad_pl[\"Salario\"] = grad_pl[\"Salario\"].round(1)\n\nfig = px.bar(grad_pl, y=\"Linguagens\", x=\"Salario\", color='Sexo', orientation='h', text=\"Salario\", title=\"Linguagens com maior m\u00e9dia salarial x Sexo\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.show()","b070b064":"grad_role = data.groupby([\"('D6', 'anonymized_role')\", \"('P2', 'gender')\"])['Salario_Aproximado'].mean().sort_values().reset_index()\ngrad_role.columns = [\"Fun\u00e7\u00e3o\/Cargo\", \"Sexo\", \"Salario\"]\ngrad_role[\"Salario\"] = grad_role[\"Salario\"].round(2)\n# grad_role\n\nfig = px.bar(grad_role, y=\"Fun\u00e7\u00e3o\/Cargo\", x=\"Salario\", color='Sexo', orientation='h', text=\"Salario\", title=\"M\u00e9dia salarial aproximada por Fun\u00e7\u00e3o\/Cargo\")\nfig.update_layout(yaxis={'categoryorder':'total ascending'})\nfig.show()","3d1867fd":"# EDA e compara\u00e7\u00e3o com mercado estrangeiro \ud83d\udcbc\n\n- Link Survey DS Brasil: https:\/\/www.kaggle.com\/datahackers\/pesquisa-data-hackers-2019\n- Link Survey AI Adoption in the Enterprise 2020: https:\/\/www.oreilly.com\/data\/free\/ai-adoption-in-the-enterprise.csp\n\n\nPT-BR: Enquanto construia uma EDA do levantamento feito pelo pessoal do Data Hackers acabei me deparando com essa pequisa feita por Roger Magoulas and Steve Swoyer o que me levou a algumas informa\u00e7\u00f5es semelhantes ao dados levantos pelo pessoa da DH, logo pensei em montar um notebook pra compartilhar com voc\u00eas. \u00c9 v\u00e1lido ressaltar que os formul\u00e1rios tem objetivos diferentes, o estrangeiro focado em IA e o do pessoal do DH focado em Data Science, por\u00e9m, alguns informa\u00e7\u00f5es s\u00e3o pertinentes para compara\u00e7\u00e3o.\n\nTamanho das amostras:\n- Survey AI Adoption in the Enterprise 2020: 1.388\n- Data Hackers pesquisa: 1.765","a3896e6f":"## As informa\u00e7\u00f5es adiante s\u00e3o um levantamento do survey da DH!"}}