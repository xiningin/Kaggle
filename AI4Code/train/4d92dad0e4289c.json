{"cell_type":{"5f0afc69":"code","ac5b7e8b":"code","36c255d0":"code","6949ed51":"code","ccbeb3f0":"code","d1994754":"code","dd493aa8":"code","a9d5e862":"code","7b2973ad":"code","86070726":"code","852b9894":"code","0ee74a83":"code","f0092c33":"code","ae445927":"code","1b6dae2c":"code","4b799b80":"code","ae735182":"code","f5fea3f9":"code","6b37fcee":"code","fa38e96d":"code","90af291b":"code","17921a67":"code","ca1dc87c":"code","339f6779":"code","b2e75be7":"code","1b8d90dd":"markdown","f87b477d":"markdown","87bb75d8":"markdown","df5e0fa9":"markdown","716c5e9a":"markdown","01c960d0":"markdown","2c1eb318":"markdown","8d46242f":"markdown","f2ce284d":"markdown","b9fcee2d":"markdown"},"source":{"5f0afc69":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","ac5b7e8b":"df=pd.read_csv('..\/input\/data.csv',encoding = \"ISO-8859-1\")\ndf.head()\n","36c255d0":"### Explore the data for understanding the information","6949ed51":"# Number of records \nprint( \"The number of records  or rows of the data is \",df.shape[0])\nprint(\"The number of fields and columns is \", df.shape[1])","ccbeb3f0":"# Unique station codes involved in collecting the data\nprint(\" Number of Unique stations across India involved in collecing the data\", df.stn_code.nunique())","d1994754":"## Number of states \nprint('Number of states ', df.state.nunique())","dd493aa8":"## Creating a new column as Year","a9d5e862":"df['date'] = df['date'].astype('str')\ndef get_year(s):\n    if s == 'nan':\n        return(0)\n    return(int(s[0:4]))\nconvert = lambda x: get_year(x)\ndf['Year'] = df['date'].apply(convert)","7b2973ad":"#### what are the top 5 highly polluted states in the country\n### make a subset of the data with states and the so2, no2, rspm, spm data values. ","86070726":"### make a subset of the data with states and the so2, no2, rspm, spm data values. \nset1 = df[['state', 'so2','no2','rspm','spm','Year']]","852b9894":"### NaN Values missing data values are replaced with the average value of the other data points\nset1 = set1.copy()\nso2_ave = round(set1['so2'].mean(), 2)\nno2_ave = round(set1['no2'].mean(),2)\nrspm_ave = round(set1['rspm'].mean(),2)\nspm_ave = round(set1['spm'].mean(),2)\nset1['so2'].fillna(so2_ave, inplace = True)\nset1['no2'].fillna(no2_ave, inplace = True)\nset1['rspm'].fillna(rspm_ave, inplace = True)\nset1['spm'].fillna(spm_ave, inplace = True)","0ee74a83":"## Group by this set  state as the pivot and the mean values of the poulltion paramenters ( All the years average data is taken)\nstate_pollution = set1[['state', 'so2']].groupby('state').mean()\nstate_pollution.reset_index(inplace = True)\nstate_pollution.sort_values('so2', ascending= False, inplace = True)\nstate_pollution.plot(kind = 'bar', figsize= (20,5), x = 'state', fontsize= 15, title = 'States & SO2 Levels')\nplt.show()","f0092c33":"state_pollution.head(5)","ae445927":"## Group by this set  state as the pivot and the mean values of the poulltion paramenters ( All the years average data is taken)\nstate_pollution = set1[['state', 'no2']].groupby('state').mean()\nstate_pollution.reset_index(inplace = True)\nstate_pollution.sort_values('no2', ascending= False, inplace = True)\nstate_pollution.plot(kind = 'bar', figsize= (20,5), x = 'state', fontsize= 15, title = 'States & NO2 Levels')\nplt.show()","1b6dae2c":"state_pollution.head()","4b799b80":"state_pollution = set1[['state', 'spm', 'rspm']].groupby('state').mean()\nstate_pollution.reset_index(inplace = True)\nstate_pollution.sort_values('spm', ascending= False, inplace = True)\nstate_pollution.plot(kind = 'bar', figsize= (20,5), x = 'state', fontsize= 15, title = 'States & spm rspm')\nplt.show()","ae735182":"state_pollution.head()","f5fea3f9":"state_pollution['Ratio'] = round((state_pollution['rspm']\/state_pollution['spm'])*100, 2)","6b37fcee":"state_pollution = state_pollution.sort_values('Ratio', ascending = False)","fa38e96d":"state_pollution.plot(kind = 'bar', figsize = (20, 5), fontsize = 15, x = 'state')\nplt.show()","90af291b":"state_pollution.head(5)","17921a67":"states = set1['state'].unique()","ca1dc87c":"for st in states:\n    state_set = set1[set1['state'] == st]\n    state_set = state_set.groupby('Year').mean()\n    state_set.reset_index(inplace = True)\n    state_set = state_set[state_set['Year'] > 0]\n    x = state_set['Year'].values\n    y1 = state_set['so2'].values\n    y2 = state_set['no2'].values\n    y3 = state_set['spm'].values\n    y4 = state_set['rspm'].values\n    plt.figure(figsize = (15,10))\n    plt.subplot(2,2,1)\n    plt.plot(x, y1, marker = \"*\", color = 'b', label='SO2')\n    plt.plot(x, y2, marker = \"<\", color = 'r', label = 'NO2')\n    plt.title(\"SO2, NO2 Emissions --- \"+str(st))\n    plt.legend()\n    plt.subplot(2,2,2)\n    plt.plot(x, y3, marker = \"*\", color = 'b', label = 'spm')\n    plt.plot(x, y4, marker = \"<\", color = 'r', label = 'rspm')\n    plt.title(\"spm, rspm Emissions --- \" + str(st))\n    plt.legend()\n    plt.show()","339f6779":"trace = set1[['Year', 'so2', 'no2']]\ntrace = trace[trace['Year'] != 0]\ngrouped = trace.groupby('Year').mean()\ngrouped.reset_index(inplace = True)\nx = grouped.Year\ny = grouped.so2\ny1 = grouped.no2\nplt.figure(figsize = (15,5))\nplt.title(\"SO2, NO2 Emissions\")\nplt.plot(x, y, marker = \"*\", color = 'b', label = 'SO2')\nplt.plot(x, y1, marker = \">\", color = 'r', label = 'NO2')\nplt.legend()\nplt.show()","b2e75be7":"trace = set1[['Year', 'spm', 'rspm']]\ntrace = trace[trace['Year'] != 0]\ngrouped = trace.groupby('Year').mean()\ngrouped.reset_index(inplace = True)\nx = grouped.Year\ny = grouped.spm\ny1 = grouped.rspm\nplt.figure(figsize = (15,5))\nplt.title(\"spm, rspm levels\")\nplt.plot(x, y, marker = \"*\", color = 'b', label = 'spm')\nplt.plot(x, y1, marker = \">\", color = 'r', label = 'rspm')\nplt.legend()\nplt.show()","1b8d90dd":"### State wise emissions trend over years","f87b477d":"###  All India SO2 and NO2 emissions year on year ","87bb75d8":"### Top 5 States that have high NO2 Emissions.","df5e0fa9":"###  States & NO2  levels","716c5e9a":"### All India spm and rspm levels","01c960d0":"###  States  where the  ratio rspm\/spm percentage is high","2c1eb318":"### Top 5 states where the  ratio is high. ","8d46242f":"### TOP 5 states that have high so2 emission","f2ce284d":"### States & SO2 Levels","b9fcee2d":"###  States & rspm, spm"}}