{"cell_type":{"ff80fc5b":"code","0db3c53b":"code","8aa783a7":"code","62dfc3d4":"code","0f0b7714":"code","ff28f8e2":"code","b6882df8":"code","f374e28f":"code","0c3f3852":"code","34a5c3ed":"code","d21560f8":"code","2ae44809":"code","02f5cbd1":"code","f321f578":"code","a22c5f50":"code","cea00687":"code","f41dc388":"code","64354f5f":"code","e0281884":"code","b47c51ec":"code","d743bf84":"code","1b2aa7a1":"code","848e457a":"code","74b1b7d1":"code","cff6b4ae":"markdown","9ba13320":"markdown","96856628":"markdown","4e5d843d":"markdown","db62a12e":"markdown","e6b990de":"markdown"},"source":{"ff80fc5b":"!pip install yfinance --upgrade --no-cache-dir\n# https:\/\/pypi.org\/project\/fix-yahoo-finance\/","0db3c53b":"import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport datetime as dt\nimport yfinance as yf\n\n# find the symbol (i.e., google the instrument + 'yahoo finance') to any data series you are interested at \n# e.g., market\/sector index ETF for your chosen country and various asset classes (e.g., Comex Gold's symbol is 'GC=F')\n# e.g., SPY (https:\/\/finance.yahoo.com\/quote\/SPY\/)\n\n#BTC-USD, ETH-USD, XRP-USD, ADA-USD, and S&P.\n\nsymbols_list = ['BTC-USD', 'ETH-USD', 'XRP-USD', 'ADA-USD', 'SPY']\nstart = dt.datetime(2016,7,15)\nend = dt.datetime(2021,7,15)\ndata = yf.download(symbols_list, start=start, end=end)","8aa783a7":"data.head()","62dfc3d4":"# filter column adjusted close\ndf = data['Adj Close']\ndf.head()\n\n#crypto assets trade at weekend, while traditional ones don't","0f0b7714":"# fix the NaN values\n\ndf = df.ffill()\nprint(df)","ff28f8e2":"# pct_change for returns\ndf['ADA-USD_ret'] =df['ADA-USD'].pct_change()[1:]\ndf['BTC-USD_ret'] =df['BTC-USD'].pct_change()[1:]\ndf['ETH-USD_ret'] =df['ETH-USD'].pct_change()[1:]\ndf['SPY_ret'] =df['SPY'].pct_change()[1:]\ndf['XRP-USD_ret'] =df['XRP-USD'].pct_change()[1:]\n\n# Calculate 1-month forward cumulative returns\ndf['one_month_forward_ADA-USD_ret'] = df['ADA-USD_ret'][::-1].rolling(window=20, min_periods=1).sum()[::-1]\ndf['one_month_forward_BTC-USD_ret'] = df['ADA-USD_ret'][::-1].rolling(window=20, min_periods=1).sum()[::-1]\ndf['one_month_forward_ETH-USD_ret'] = df['ADA-USD_ret'][::-1].rolling(window=20, min_periods=1).sum()[::-1]\ndf['one_month_forward_SPY_ret'] = df['ADA-USD_ret'][::-1].rolling(window=20, min_periods=1).sum()[::-1]\ndf['one_month_forward_XRP-USD_ret'] = df['ADA-USD_ret'][::-1].rolling(window=20, min_periods=1).sum()[::-1]\n\ndf.head()","b6882df8":"df.tail()","f374e28f":"# get the subset of all return columns\ndf_1 =  df.iloc[:,-10:]\n\n# Daily Risk Return Profile\ndf_1.describe() ","0c3f3852":"# volatility monthly\ndf_1['ADA-USD_volatility_1m'] = (df['ADA-USD_ret'].rolling(20).std())*(20)**(1\/2) # Turn daily standard deviation to monthly  * 20 trading days per year\ndf_1['BTC-USD_volatility_1m'] = (df['BTC-USD_ret'].rolling(20).std())*(20)**(1\/2)\ndf_1['ETH-USD_volatility_1m'] = (df['ETH-USD_ret'].rolling(20).std())*(20)**(1\/2)\ndf_1['SPY_volatility_1m'] = (df['SPY_ret'].rolling(20).std())*(20)**(1\/2)\ndf_1['XRP-USD_volatility_1m'] = (df['XRP-USD_ret'].rolling(20).std())*(20)**(1\/2)\n\n# volatility yearly\ndf_1['ADA-USD_volatility_1y'] = (df['ADA-USD_ret'].rolling(252).std())*(252)**(1\/2) # Annualize daily standard deviation * 252 trading days per year\ndf_1['BTC-USD_volatility_1y'] = (df['BTC-USD_ret'].rolling(252).std())*(252)**(1\/2)\ndf_1['ETH-USD_volatility_1y'] = (df['ETH-USD_ret'].rolling(252).std())*(252)**(1\/2)\ndf_1['SPY_volatility_1y'] = (df['SPY_ret'].rolling(252).std())*(252)**(1\/2)\ndf_1['XRP-USD_volatility_1y'] = (df['XRP-USD_ret'].rolling(252).std())*(252)**(1\/2)\n\ndf_1.tail()","34a5c3ed":"# Output summary statistics\ndf_1.describe()","d21560f8":"skew = df_1.skew()\nskew","2ae44809":"from pandas import DataFrame\nskew_df = DataFrame(skew, columns = ['Skewness'])\nskew_df","02f5cbd1":"def price_chart(df, asset1, asset2):\n    df[asset1].plot()\n    df[asset2].plot()\n    plt.ylabel('Price of' + 'asset1' + 'and' + 'asset2')\n    plt.show()","f321f578":"price_chart(df, 'ADA-USD', 'BTC-USD')","a22c5f50":"price_chart(df, 'ADA-USD', 'ETH-USD')","cea00687":"price_chart(df, 'ADA-USD', 'SPY')","f41dc388":"price_chart(df, 'ADA-USD', 'XRP-USD')","64354f5f":"price_chart(df, 'BTC-USD', 'ETH-USD')","e0281884":"price_chart(df, 'BTC-USD', 'SPY')","b47c51ec":"price_chart(df, 'BTC-USD', 'XRP-USD')","d743bf84":"price_chart(df, 'ETH-USD', 'SPY')","1b2aa7a1":"price_chart(df, 'ETH-USD', 'XRP-USD')","848e457a":"price_chart(df, 'SPY', 'XRP-USD')","74b1b7d1":"import seaborn as sns\n\nall_returns = df[['ADA-USD_ret', 'BTC-USD_ret', 'ETH-USD_ret', 'SPY_ret', 'XRP-USD_ret']]\n\nsns.pairplot(all_returns)","cff6b4ae":"# Set Up","9ba13320":"# Return Chart","96856628":"# Return","4e5d843d":"# Skeweness","db62a12e":"# Volatility","e6b990de":"# Charts"}}