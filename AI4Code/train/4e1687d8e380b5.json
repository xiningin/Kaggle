{"cell_type":{"df4e95c4":"code","897bdc29":"code","f878356b":"code","2b5ab402":"code","17f6bce9":"code","ee4fd67b":"code","f40181f7":"code","fa0fa552":"code","ccb5a021":"code","ac369a43":"code","c0a5f0ea":"code","9edea8bd":"code","842e9803":"code","57713eed":"code","74c6b873":"code","0473efb7":"code","8e3896a9":"code","7387c852":"code","852ad00c":"code","d6e3c43b":"code","1d6cd440":"code","2972be29":"code","7d5e9aed":"code","6a7ecdb1":"code","839b6383":"code","5e3dc4ef":"code","003b4311":"code","6a77b2c4":"code","6e7f81c8":"code","8e590366":"code","68058f27":"code","faf0fc08":"code","37bbda9a":"code","32714e79":"code","413fbea8":"code","234ea675":"code","4288b35e":"code","01f0e285":"code","b3a155b7":"code","d1fa1093":"code","1124696c":"markdown","9030416e":"markdown","cbef8541":"markdown","6a7279cb":"markdown","f7622796":"markdown","7f70839a":"markdown","38410f7d":"markdown","725180c2":"markdown","75df0517":"markdown","59978ad6":"markdown","08004602":"markdown","b690d969":"markdown","41a9957d":"markdown","82547954":"markdown","479a2076":"markdown","806b0f97":"markdown"},"source":{"df4e95c4":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns\nplt.style.use('fivethirtyeight')\n","897bdc29":"# --------------------\n# CREATING INITIAL DF\n# --------------------\ndf1 = pd.read_csv(\"\/kaggle\/input\/usa-cers-dataset\/USA_cars_datasets.csv\")\ndf1.drop(columns=['Unnamed: 0'],inplace=True,axis=1)\ndf1.isnull().sum()\ndf1.head()\n","f878356b":"# ----------\n# COLUMNS\n# ----------\ndf1.columns\n","2b5ab402":"# ------------\n# DATA TYPES\n# ------------\ndf1.dtypes\n","17f6bce9":"# ------------------\n# DATA DESCRIPTION\n# ------------------\ndf1.describe()\n","ee4fd67b":"# -------------------------------------------\n# CREATING AN AVERAGE PRICE COLUMN BY BRAND\n# -------------------------------------------\ndf1['average_price'] = df1.groupby('brand')['price'].transform('mean')\ndf1['average_price']\n","f40181f7":"# -----------------------------------------------\n# FINDING OUTLIERS THAT HAVE A PRICE BELOW 100,\n# 0 IN MANY CASES. THESE OBSERVATIONS ARE\n# SKEWING THE DATA\n# -----------------------------------------------\ndf2 = df1[df1['price'] <= 100]\ndf2\n","fa0fa552":"# ----------------------------------------------------------------\n# REPLACING THE df2 PRICES WITH THE AVERAGE PRICE FOR THAT BRAND\n# ----------------------------------------------------------------\ndf2['price'] = df2['average_price']\ndf2\n","ccb5a021":"# ---------------------------------------------------------\n# DROPPING THE ROWS FROM df1 WHERE PRICE IS LESS THAN 100\n# ---------------------------------------------------------\ndrop_index = df1[df1['price'] <= 100].index\ndf1.drop(drop_index, inplace=True)\n","ac369a43":"# ------------------------------------------------------\n# CREATING A THIRD DF. df3 = df1 + df2\n# ------------------------------------------------------\ndf3 = pd.concat([df1, df2], ignore_index=True)\ndf3\n","c0a5f0ea":"# -------------------------------------------------------------\n# CHECKING THE VALUE COUNTS BY BRAND\n# -------------------------------------------------------------\ndf3['brand'].value_counts()\n","9edea8bd":"# --------------------------------------------------\n# PLOTTING THE BREAKDOWN OF THE CARS SOLD BY BRAND\n# --------------------------------------------------\nfig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.countplot(x='brand', data=df3, ax=ax)\n\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.tight_layout()\nplt.show()\n","842e9803":"# ------------------------------\n# COUNT OF DATA POINTS BY YEAR\n# ------------------------------\n# df3.groupby('year')['year'].counts()\ndf3['year'].value_counts()\n","57713eed":"# --------------------------------------------------\n# PLOTTING THE BREAKDOWN OF THE CARS SOLD BY YEAR\n# --------------------------------------------------\nfig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.countplot(x='year', data=df3, ax=ax)\n\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.tight_layout()\nplt.show()","74c6b873":"# ---------------------------------------------\n# CREATING A NEW DF THAT ONLY CONTAINS DATA\n# FROM THE LAST 6 YEARS\n# ---------------------------------------------\ndf4 = df3[np.logical_or.reduce([\n    df3['year']==2015,\n    df3['year']==2016,\n    df3['year']==2017,\n    df3['year']==2018,\n    df3['year']==2019,\n    df3['year']==2020]\n)]\ndf4.head()\n","0473efb7":"# ------------------------------------------\n# LOOKING AT THE BREAKDOWN OF THE CAR DATA\n# IN THE NEW DF BY YEAR\n# ------------------------------------------\n# df4.groupby('year')['year'].count()\ndf4['year'].value_counts()\n","8e3896a9":"# ------------------------------------------------------\n# PLOTTING THE BREAKDOWN OF THE MORE PREVALENT YEARS\n# ------------------------------------------------------\nfig = plt.figure(figsize=(12,5))\nax = fig.add_axes([0,0,1,1])\nsns.countplot(x='year', data=df4, ax=ax)\n","7387c852":"# ---------------------------------------------------\n# LOOKING AT THE BREAKDOWN OF THE CAR DATA BY STATE\n# ---------------------------------------------------\n# df4.groupby('state')['state'].count()\ndf4['state'].value_counts()\n","852ad00c":"# ------------------------------------------------------\n# PLOTTING THE BREAKDOWN BY STATE\n# ------------------------------------------------------\nfig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.countplot(x='state', data=df4, ax=ax)\n\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.tight_layout()\nplt.show()","d6e3c43b":"# ---------------------------------------------------\n# LOOKING AT THE BREAKDOWN OF THE CAR DATA BY COLOR\n# ---------------------------------------------------\ndf4['color'].value_counts()\n","1d6cd440":"# ------------------------------------------------------\n# PLOTTING THE BREAKDOWN BY COLOR\n# ------------------------------------------------------\nfig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.countplot(x='color', data=df4, ax=ax)\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.tight_layout()\nplt.show()","2972be29":"# ---------------------------------\n# FINDING AVERAGE PRICE BY BRAND\n# ---------------------------------\ndf4.groupby('brand')['price'].mean()\n","7d5e9aed":"# -----------------------------------------------------\n# CHECKING THE MIN PRICE OF EACH BRAND\n# -----------------------------------------------------\ndf4.groupby('brand')['price'].min()\n","6a7ecdb1":"# -----------------------------------------------------\n# CHECKING THE MAX PRICE OF EACH BRAND\n# -----------------------------------------------------\ndf4.groupby('brand')['price'].max()\n","839b6383":"# -----------------------------------------------------\n# CHECKING THE MAX PRICE OF EACH BRAND\n# -----------------------------------------------------\ndf4.groupby('brand')['price'].median()\n","5e3dc4ef":"# -------------------------------------------\n# CHECKING WHICH BRANDS ARE MOST PROMINENT\n# -------------------------------------------\ndf4['brand'].value_counts()\n","003b4311":"# -------------------------------------------------\n# CREATING A NEW DF, df5, THAT ONLY HAS THE 4 MOST\n# PROMINENT BRANDS. EACH FAR MORE PROMINENT THAN\n# THE 5TH MOST\n# -------------------------------------------------\ndf5 = df4[\n    (df4['brand'] == 'ford') |\n    (df4['brand'] == 'dodge') |\n    (df4['brand'] == 'nissan') |\n    (df4['brand'] == 'chevrolet')\n]\ndf5.head()\n","6a77b2c4":"# -------------------------------------------------------\n# GETTING THE AVG PRICE OF THE 4 MOST PROMINENT BRANDS\n# -------------------------------------------------------\ncommon_means_price = df5.groupby('brand')['price'].mean()\ncommon_means_price\n","6e7f81c8":"# -------------------------------------------------------\n# PLOTTING THE AVG PRICE OF THE 4 MOST PROMINENT BRANDS\n# ------------------------------------------------------\nplt.bar(df5['brand'], df5['average_price'])\nplt.xlabel('Brand')\nplt.ylabel('Avg Price (2015 - 2020)')\nplt.tight_layout()\nplt.show()\n","8e590366":"# ------------------------------------------------------\n# CHECKING AVERAGE PRICE BY YEAR FOR df5\n# ------------------------------------------------------\ndf5.groupby('year')['price'].mean()","68058f27":"# ---------------------------------------------------------------\n# CREATING AVERAGE PRICE COLUMN CORRESPONDING WITH PRICE BY YEAR\n# ---------------------------------------------------------------\ndf5['average_year_price'] = df5.groupby('year')['price'].transform('mean')\ndf5['average_year_price'].head()","faf0fc08":"# ------------------------------------------------------\n# PLOTTING AVERAGE PRICE BY YEAR FOR df5\n# ------------------------------------------------------\nplt.bar(df5['year'], df5['average_year_price'])\nplt.xlabel('Year')\nplt.ylabel('Average Price')\nplt.tight_layout()\nplt.show()","37bbda9a":"# -----------------------------------------------\n# CHECKING AVERAGE PRICE FOR EACH STATE IN df5\n# -----------------------------------------------\ndf5.groupby('state')['price'].mean()","32714e79":"# -------------------------------------------\n# CREATING A NEW AVG PRICE BY STATE COLUMN\n# -------------------------------------------\ndf5['average_state_price'] = df5.groupby('state')['price'].transform('mean')\ndf5['average_state_price'].head()","413fbea8":"# ------------------------------------------------------\n# PLOTTING AVERAGE PRICE BY STATE FOR df5\n# ------------------------------------------------------\nfig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.barplot(x=df5['state'], y=df5['average_state_price'], ax=ax)\nplt.tight_layout()\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.show()","234ea675":"# -----------------------------------------------------\n# CHECKING TO SEE WHY KENTUCKY'S AVG PRICE IS SO HIGH\n# -----------------------------------------------------\ndf5['state'].value_counts()","4288b35e":"df6 = df5[df5['state'] != 'ontario']\ndf6.head()","01f0e285":"# ----------------------------------------\n# CHECKING AVERAGE PRICE FOR EACH COLOR\n# ----------------------------------------\ndf6.groupby('color')['price'].mean()","b3a155b7":"# -------------------------------------------\n# CREATING NEW AVG PRICE COLUMN BY COLOR\n# -------------------------------------------\ndf6['average_color_price'] = df6.groupby('color')['price'].transform('mean')\ndf6['average_color_price'].head()","d1fa1093":"# ------------------------------------------------------\n# PLOTTING AVERAGE PRICE BY COLOR FOR df6\n# ------------------------------------------------------\nfig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.barplot(x=df6['color'], y=df6['average_color_price'], ax=ax)\nplt.tight_layout()\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.show()","1124696c":"IMPORTING LIBRARIES","9030416e":"7.) FIND DISTRIBUTION OF PRICE BY STATE","cbef8541":"Ah, the average price is skewed because many of the brands\nonly have 1 or a few observations. Duh.","6a7279cb":"Something seems to be skewing the price. The Average price of\nmaserati probably shouldn't be lower than lincoln.","f7622796":"3.) FIND DISTRIBUTION OF OBSERVATIONS BY STATE","7f70839a":"4.) FIND DISTRIBUTION OF OBSERVATIONS BY COLOR","38410f7d":"2.) FIND DISTRIBUTION OF OBSERVATIONS BY YEAR","725180c2":"# TASKS:\n\n1.) Find distribution of observations by brand\n\n2.) Find distribution of observations by year\n\n3.) Find distribution of observations by state\n\n4.) Find distribution of observations by color\n\n5.) Find distribution of price by brand\n\n6.) Find distribution of price by year\n\n7.) Find distribution of price by state\n\n8.) Find distribution of price by color\n\n---","75df0517":"6.) FIND DISTRIBUTION OF PRICE BY YEAR","59978ad6":"CHECKING OUT THE INITIAL DATA","08004602":"1.) FIND DISTRIBUTION OF OBSERVATIONS BY BRAND","b690d969":"Ah, it's because many states only have a few data points. Also, Ontario is not a state in the US. Lets make a 6th DF without it","41a9957d":"DATA WRANGLING","82547954":"8.) FIND DISTRIBUTION OF PRICE BY COLOR","479a2076":"5.) FIND DISTRIBUTION OF PRICE BY BRAND","806b0f97":"NOTE: There is only 48 observations for 2020, so that average is not necessarily reliable."}}