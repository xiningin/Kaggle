{"cell_type":{"5930068b":"code","e4ccc72f":"code","5014b404":"code","8507db4e":"code","1c5c25f5":"code","af720891":"code","10eab6ef":"code","59564978":"code","8756cef3":"code","733f82a9":"markdown","a518115e":"markdown","bcd43d98":"markdown","5923a162":"markdown","61a64f09":"markdown","7686e0fb":"markdown","6f413e6c":"markdown","ee3f6bd5":"markdown","a7d565c7":"markdown","771479eb":"markdown","cec8eafa":"markdown","84909624":"markdown","f6d46519":"markdown","dca7cc37":"markdown"},"source":{"5930068b":"import os\nimport json\n\nimport pandas as pd\n\nPATH_TO_DATA = '..\/input\/'\n","e4ccc72f":"df_train_features = pd.read_csv(os.path.join(PATH_TO_DATA, 'train_features.csv'), index_col='match_id_hash')","5014b404":"df_train_features.head(2)","8507db4e":"json_list = []\nnumber_of_rows = 50 # Number of readed json rows\n\nwith open(os.path.join(PATH_TO_DATA, 'train_matches.jsonl')) as fin:\n    for i in range(number_of_rows):\n        line = fin.readline()\n        json_list.append(json.loads(line))","1c5c25f5":"json_list[0].keys()","af720891":"json_list[0]['chat']","10eab6ef":"json_list[1]['objectives']\n","59564978":"print(json.dumps(json_list[1]['teamfights'][1], indent=4, sort_keys=True))","8756cef3":"print(json.dumps(json_list[1]['players'][1], indent=4, sort_keys=True))","733f82a9":"This is just an ideas, and I didn't researched them all. It also takes a lot of time to read the full JSON and create a new features.\n","a518115e":"## Chat feature","bcd43d98":"Chat is feature which show only players chat.\n\n**Players slot** means (0, 1, 2, 3, 4) for radiant and (128, 129, 130, 131, 132) for dire.\n\n**Time** is current time of message. Negative time is time(i'm not sure), when gamers connected to the game and prepearing for match(players in game, but wave of creeps didn't start).\n\n**Text** feature is encoded and we can't extract some useful information.\n\n<br>\n*Some ideas of extracting features:*\n1. If team have a lot of messages they discussing a tactics.\n\n2. If team have a lot of messages they not focused on the game.\n\n","5923a162":"Objectives is feature which shows global activity of team.\n\n**Type** is a type of objectives(tower kill, firsblood, roshan killed and etc).\n\n**Time** is a time when it happends.\n\n**Team** is a team(2 is radiant, 3 is dire).\n\n**Slot and key** i can't understand.\n\n\n<br>\n*Some ideas of extracting features:*\n1. How many roshans killed by the team.\n\n2. How fast team destroy towers of opponent (There are exists some strategy, called \"push-strategy\". The idea of this strategy is destroy a oppent as fast as possible).\n\n\n\n","61a64f09":"Players is feature which show information about every player\n\n| Feature | Description |\n| ------------- |:-------------| \n| **ability_upgrades** | |\n|**ability** | Id of ability |\n|**level** | By which level ability was upgrade |\n|**ability** | Time of upgrade ability |\n| **ability_uses** | Name of ability which used by hero and number of using.|\n|**account_id_hash** | Hash of player account |\n|**damage** | How much damage dealt for which heroes\/creeps|\n|**damage_taken** | How much damage taken for which heroes\/creeps|\n|**damage_inflictor** | How much damage from skills dealt and for which heroes\/creeps|\n|**damage_inflictor_received** | How much damage from skills taken|\n|**death** | Number of death |\n|**denies** | Number of denies of creeps |\n|**firsblood_claimed** | Hero made firstblood?(0 or 1)|\n|**healing** | Number of restored health|\n|**hero_id** | Id of hero|\n|**hero_inventory** | Current items of hero|\n|**hero_name** | Name of hero|\n|**hero_stash** | Stash of hero(Item, which hero buy, but not brought herself|\n|**item_uses** | Item and number of it uses|\n|**kill_streaks** | Type and number of kill streaks|\n|**multi_kills** | Type and number of multi kills|\n|**pred_vict** | Predict hero his victory(true\/false). At the beginning of the match players can bet on his winning(Only on win. False means hero not bet)|\n|**purchase** | All items which bought by player|\n|**randomed** | Picked hero by random?(Player can choose hero random)|\n|**purchase** | All items which bought by player|\n|**stuns** | Number of seconds when hero stuns(disable) enemies|\n\n\n\n\n","7686e0fb":"*Some ideas of extracting features:*\n1. From one teamfight we can extract info about who winning teamfight(by xp and gold delta). From all teamfights we can see dynamics of teamfights (Maybe some team made comeback?)).","6f413e6c":"# Teamfights feature","ee3f6bd5":"Teamfights is feature which show information about teamfights(in teamfights participate all players)\n\n| Feature | Description |\n| ------------- |:-------------| \n| **Start** | Start time of fights.|\n|**End** | End time of fights.|\n|**last_death**| Time of last death in fights(after last death time players can damage each other, but nobody die).|\n|**deaths**| Number of deaths.|\n|**Players feature**| |\n|**ability_uses**| Name of ability which used by hero and number of using.|\n|**buybacks**| Buyback means that hero can return to game after die immediately, but need to pay gold. (0 not used, 1 - used) |\n|**damage**| Number of damage deal by this player.|\n|**gold_delta**| How many gold receive player in teamfight.|\n|**healing**| Number of restored health.|\n|**item_uses**| Which item used in teamfights.|\n|**killed**| Which heroes kill current hero and how many damage take in last moment.|\n|**xp_delta**| How many xp receive player in teamfight.|\n\n\n\n\n","a7d565c7":"Read some data from json","771479eb":"## In this kernel i will describe some features from json files and some ideas how use this features.","cec8eafa":"I think that this feature has a lot of useful information and this feature need more investigation.\n\n*Some ideas of extracting features:*\n1.  Number of pred_vict in a team (Maybe team sure in his victory).\n2.  OHE of hero_inventory for team (Maybe exists some items which has high rate of winrate?)\n3.  Total damage by hero (damage feature)\n4.  account_id_hash (Maybe exists players which has high rate of winrate?)","84909624":"## Objectives feature","f6d46519":"## Players feature","dca7cc37":"We can see features, which exists in json and dataframe (**'game_time', 'game_mode', 'lobby_type', 'match_id_hash', 'targets'**).\n\nLet investigate other features.\n\nI'm using different index in json list, because some features are empty for different matches.\n"}}