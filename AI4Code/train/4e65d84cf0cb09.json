{"cell_type":{"3a172944":"code","ba02cf19":"code","e7701fd3":"code","731a8d78":"code","f1f86c46":"code","56345af1":"code","daabd217":"code","f76d380e":"code","772eeb03":"code","1312e475":"code","f408e1bd":"code","18b1e907":"code","69cee841":"code","874f286e":"code","59703919":"code","c7c4a22f":"code","fc66911c":"code","b621c66c":"markdown","d74af40c":"markdown","882688c3":"markdown","9157c6e2":"markdown","b4de3cc6":"markdown","2022c2c3":"markdown","97588b50":"markdown","4388f781":"markdown","98215a45":"markdown"},"source":{"3a172944":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","ba02cf19":"# honeyCols = ['state','n_col', 'yield_per_col', 'total_prod', 'stocks', 'price_per_lb', 'prod_value', 'year']\nhoney = pd.read_csv(\"\/kaggle\/input\/honey-production\/honeyproduction.csv\")\nhoneyCols = {\"state\":\"state_code\", \"numcol\":\"n_colony\", \"yieldpercol\":\"yield_per_colony\", \"totalprod\" : \"total_production\", \"stocks\":\"stocks_in\", \"priceperlb\":\"price_per_lb\", \"prodvalue\":\"production_value\"}\nhoney.rename(columns = honeyCols, inplace = True)\nhoney.head()","e7701fd3":"honey.describe(include = \"all\")","731a8d78":"state_name_dict = {\n    'AK': 'Alaska',\n    'AL': 'Alabama',\n    'AR': 'Arkansas',\n    'AZ': 'Arizona',\n    'CA': 'California',\n    'CO': 'Colorado',\n    'CT': 'Connecticut',\n    'DC': 'District of Columbia',\n    'DE': 'Delaware',\n    'FL': 'Florida',\n    'GA': 'Georgia',\n    'HI': 'Hawaii',\n    'IA': 'Iowa',\n    'ID': 'Idaho',\n    'IL': 'Illinois',\n    'IN': 'Indiana',\n    'KS': 'Kansas',\n    'KY': 'Kentucky',\n    'LA': 'Louisiana',\n    'MA': 'Massachusetts',\n    'MD': 'Maryland',\n    'ME': 'Maine',\n    'MI': 'Michigan',\n    'MN': 'Minnesota',\n    'MO': 'Missouri',\n    'MS': 'Mississippi',\n    'MT': 'Montana',\n    'NC': 'North Carolina',\n    'ND': 'North Dakota',\n    'NE': 'Nebraska',\n    'NH': 'New Hampshire',\n    'NJ': 'New Jersey',\n    'NM': 'New Mexico',\n    'NV': 'Nevada',\n    'NY': 'New York',\n    'OH': 'Ohio',\n    'OK': 'Oklahoma',\n    'OR': 'Oregon',\n    'PA': 'Pennsylvania',\n    'PR': 'Puerto Rico',\n    'RI': 'Rhode Island',\n    'SC': 'South Carolina',\n    'SD': 'South Dakota',\n    'TN': 'Tennessee',\n    'TX': 'Texas',\n    'UT': 'Utah',\n    'VA': 'Virginia',\n    'VT': 'Vermont',\n    'WA': 'Washington',\n    'WI': 'Wisconsin',\n    'WV': 'West Virginia',\n    'WY': 'Wyoming'\n}\n\nhoney['state_name'] = honey['state_code'].apply(lambda x: state_name_dict[x])\nhoney['consumption'] = honey['total_production'] - honey['stocks_in'] \n\nhoney.head()","f1f86c46":"#Reordering the columns\nhoney = honey[[\"state_code\", \"state_name\", \"n_colony\", \"yield_per_colony\", \"total_production\", \"stocks_in\", \"consumption\", \"price_per_lb\", \"production_value\",\"year\"]]\nhoney.head()","56345af1":"#Adjusting for inflation\ninflation_rate = {\n    1998: 1.454,\n    1999: 1.423,\n    2000: 1.376,\n    2001: 1.339,\n    2002: 1.317,\n    2003: 1.288,\n    2004: 1.255,\n    2005: 1.214,\n    2006: 1.176,\n    2007: 1.143,\n    2008: 1.101,\n    2009: 1.105,\n    2010: 1.087,\n    2011: 1.054,\n    2012: 1.032\n}\n\ninflation_list = ['price_per_lb', 'production_value']\n\nfor year in set(honey['year']):\n    for item in inflation_list:\n        honey.loc[honey['year']==year, item] = inflation_rate[year]*honey.loc[honey['year']==year, item]\n        \nhoney.head()","daabd217":"#General Production trend from 1998 to 2012\nplt.figure(figsize = (12,8))\nsns.pointplot(honey[\"year\"], honey[\"total_production\"])\nplt.show()","f76d380e":"#Check the production trend using boxplots\nplt.figure(figsize=(18,8))\nsns.boxplot(\"year\", \"total_production\", data = honey)\nplt.show()","772eeb03":"#Production trend for each state\nsns.FacetGrid(honey, col = \"state_name\", col_wrap = 5, height = 3).map(plt.plot, \"year\", \"total_production\", marker = \"*\")","1312e475":"#Checking the correlation between variables\nhoney_corr = honey[['n_colony', \n              'yield_per_colony', \n              'total_production', \n              'stocks_in', \n              'price_per_lb', \n              'production_value']].corr()\n\nhoney_corr","f408e1bd":"#Visualizing the same in Heatmap()\nsns.heatmap(honey_corr, annot = True, vmin = -1, vmax = 1, cmap=\"YlGnBu\")\nplt.show()","18b1e907":"#Visualising the relationship between variables with pairplot\nsns.pairplot(honey[['n_colony', \n              'yield_per_colony', \n              'total_production', \n              'stocks_in', \n              'price_per_lb', \n              'production_value']])","69cee841":"#Plotting the relative trend graphs for Number of Colonies, Yield per colony, Total Production etc. \nhoney_prod_over_years = honey.groupby(\"year\").mean()\nhoney_prod_over_years[['n_colony','yield_per_colony','total_production','stocks_in','price_per_lb','consumption','production_value']].plot(ax=plt.subplots(figsize=(15,9))[1])\nplt.show()","874f286e":"#Grouping the dataset based on years\nhoney[[\"year\", \"yield_per_colony\"]].groupby(\"year\").mean().round().plot()\nplt.show()","59703919":"#Grouping the dataset based on states\nplt.figure(figsize=(18,8))\nhoney[[\"state_name\", \"total_production\"]].groupby(\"state_name\").mean().round().plot()\nplt.show()","c7c4a22f":"#Checking hypothesis: \"More the number of colonies, higher the production value\"\nsns.lmplot(x = \"n_colony\", y = \"production_value\", data = honey, hue = 'year')\nplt.show()","fc66911c":"# Interactive scatter plot using plotly package\nimport plotly.express as px\npx.scatter(honey, x = 'n_colony', y = 'production_value', animation_frame = 'year', size = 'total_production')","b621c66c":"**Observations from the correlation matrix:**\n1. Number of colonies has shown strong positive correlation with Total Production. \n2. Price per lb has a weak negative correlation with Stocks in hand. \n3. Yield by colony has weak positive correlation with Total Production and Production Value. ","d74af40c":"Few observations from above line chart:\n* Though the Total Production has been slightly declining\/flat, the Production Value has been uptrending (prices are inflation adjusted)\n* Also, Consumption has largely mimicked the trends in Total Production (largely)","882688c3":"> Honey production data set visualizationThis dataset provides insight into honey production supply and demand in America by state from 1998\n> to 2012.\n> Dataset -\n> The dataset contains numcol, yieldprod, totalprod, stocks , priceperlb, prodvalue, and other useful\n> information like Certain states are excluded every year (ex. CT) to avoid disclosing data for individual\n> operations.","9157c6e2":"# Beginner Python DataViz for USA Honey Production Dataset","b4de3cc6":"Observations from the describe()\n1. Count is same across all the variables. No missing values\n2. 'state_code' is a categorical variable (nominal). \n3. 'year' is our time variable.\n4. 'state_code' may not be understood by everyone. Might be good if we add 'state_name' along with it. 'KY' has the most appearances.\n5. 'yield_per_colony' looks like positively skewed.\n6. Need to check on 'price_per_lb'. Since this denotes Market Price, need to check if it needs to be inflation adjusted.","2022c2c3":"There is a clear downward trend witnessed in the Yield per year over the time period of dataset. ","97588b50":"Loading the main dataset and renaming the columns","4388f781":"## Plotting the time-series trends ","98215a45":"Few observations from the above state-wise production charts\n* Oklahoma & South Carolina - No production for the entire year range provided\n* California and Florida - Production has declined over the years. \n* Most other states - Production is flat. "}}