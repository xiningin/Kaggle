{"cell_type":{"a1577499":"code","27d4f4b6":"code","85d83bac":"code","57eb7248":"code","d043083f":"code","d41c45b9":"code","c6cfec08":"code","68f40823":"code","0fa5e147":"code","740ceefb":"code","0514ada0":"code","b412c741":"code","e61b0a80":"code","99941a57":"code","1e9a1881":"code","bce36297":"code","95e8742e":"code","0669be28":"code","9424c35f":"code","bced4360":"code","b4528d8b":"code","ae934df3":"code","00d03f86":"code","b1dcdf8d":"code","9bf5c84c":"code","ffe9508f":"code","6842d695":"code","37ef8ba4":"code","5d01ecdb":"code","60fc9044":"markdown","7322c819":"markdown","f6a5dfc2":"markdown","6f2c6c2c":"markdown","edc29818":"markdown","7cf715a5":"markdown","e62bbd42":"markdown","7639b980":"markdown","3c70e325":"markdown","a1fd3fad":"markdown","6d0b70da":"markdown","8e0514c1":"markdown","9e25f9b6":"markdown","5920077b":"markdown","ac46b4fa":"markdown","d9575262":"markdown","0c78222c":"markdown","1b059951":"markdown","849de7b0":"markdown","2535b492":"markdown","9bf4744a":"markdown","84c4302a":"markdown"},"source":{"a1577499":"from IPython.display import display, Image\ndisplay(Image(filename='..\/input\/mars-maps\/mars_map_02.PNG'))","27d4f4b6":"# standard\nimport numpy as np\nimport pandas as pd\nimport time\n\n# plots\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport seaborn as sns\n\n# statistics\nfrom statsmodels.distributions.empirical_distribution import ECDF","85d83bac":"# import data and preview\ndf = pd.read_csv('..\/input\/mars-crater-study-dataset\/Mars Crater info.csv')\ndf.head()","57eb7248":"# dimensions\ndf.shape","d043083f":"# summary stats\ndf.describe(include='all')","d41c45b9":"# plot diameter distribution\ndf.DIAM_CIRCLE_IMAGE.plot(kind='hist', bins=100)\nplt.title('DIAM_CIRCLE_IMAGE')\nplt.grid()\nplt.show()","c6cfec08":"# logarithmic plot\nnp.log10(df.DIAM_CIRCLE_IMAGE).plot(kind='hist', bins=100)\nplt.title('log10(DIAM_CIRCLE_IMAGE)')\nplt.grid()\nplt.show()","68f40823":"# empirical CDF of log10(diameter)\necdf = ECDF(np.log10(df.DIAM_CIRCLE_IMAGE))\nplt.plot(ecdf.x, ecdf.y)\nplt.title('Empirical CDF')\nplt.xlabel('log10(diameter)')\nplt.ylabel('Empirical CDF')\nplt.grid()\nplt.show()","0fa5e147":"# log-log-plot of 1-CDF\nplt.plot(ecdf.x, np.log10(1-ecdf.y))\nplt.xlabel('log10(diameter)')\nplt.ylabel('log10(excess probabilty)')\nplt.title('log10(diameter)')\nplt.grid()\nplt.show()","740ceefb":"# plot depth distribution\ndf.DEPTH_RIMFLOOR_TOPOG.plot(kind='hist', bins=100)\nplt.title('DEPTH_RIMFLOOR_TOPOG')\nplt.grid()\nplt.show()","0514ada0":"# let's get more details by looking only at the positive values\ndf[df.DEPTH_RIMFLOOR_TOPOG>0].DEPTH_RIMFLOOR_TOPOG.plot(kind='hist', bins=100)\nplt.title('DEPTH_RIMFLOOR_TOPOG - positive values only')\nplt.grid()\nplt.show()","b412c741":"# scatter plot depth vs diameter\nplt.scatter(df.DIAM_CIRCLE_IMAGE, df.DEPTH_RIMFLOOR_TOPOG, alpha=0.1)\nplt.title('Depth vs Diameter')\nplt.xlabel('Diameter')\nplt.ylabel('Depth')\nplt.grid()\nplt.show()","e61b0a80":"# scatter plot depth vs diameter - diameter in log scale\nplt.scatter(np.log10(df.DIAM_CIRCLE_IMAGE), df.DEPTH_RIMFLOOR_TOPOG, alpha=0.1)\nplt.title('Depth vs log10(Diameter)')\nplt.xlabel('log10(Diameter)')\nplt.ylabel('Depth')\nplt.grid()\nplt.show()","99941a57":"# number of layers distribution\ndf.NUMBER_LAYERS.value_counts().plot(kind='bar')\nplt.title('NUMBER_LAYERS')\nplt.grid()\nplt.show()","1e9a1881":"# plot morphologies\nmorph_list = ['MORPHOLOGY_EJECTA_1','MORPHOLOGY_EJECTA_2','MORPHOLOGY_EJECTA_3']\nfor m in morph_list:\n    df[m].value_counts()[0:20].plot(kind='bar')\n    plt.title(m + ' - Top 20')\n    plt.grid()\n    plt.show()","bce36297":"# plot morphologies again igoring the blanks\nmorph_list = ['MORPHOLOGY_EJECTA_1','MORPHOLOGY_EJECTA_2','MORPHOLOGY_EJECTA_3']\nfor m in morph_list:\n    df[m].value_counts()[1:20].plot(kind='bar')\n    plt.title(m + ' - Top 20 ignoring blanks')\n    plt.grid()\n    plt.show()","95e8742e":"# static plot of all craters\nplt.figure(figsize=(14,8))\nplt.scatter(x=df.LONGITUDE_CIRCLE_IMAGE,\n            y=df.LATITUDE_CIRCLE_IMAGE,\n            s=df.DIAM_CIRCLE_IMAGE,\n            color='red',\n            alpha=0.1)\nplt.xlabel('Longitude')\nplt.ylabel('Latitude')\nplt.grid()\nplt.title('Mars Craters')\nplt.show()","0669be28":"# plot the \"density\" (hexbin) and the marginals distributions of lat\/lon\nsns.jointplot(data=df, x='LONGITUDE_CIRCLE_IMAGE',\n              y='LATITUDE_CIRCLE_IMAGE', kind='hex', color='red',\n              height=8)\nplt.show()","9424c35f":"# static plot of craters\ndf_large = df[df.DIAM_CIRCLE_IMAGE>50]\nprint(df_large.shape[0], 'craters > 50 km.')\n\nplt.figure(figsize=(14,8))\nplt.scatter(x=df_large.LONGITUDE_CIRCLE_IMAGE,\n            y=df_large.LATITUDE_CIRCLE_IMAGE,\n            s=df_large.DIAM_CIRCLE_IMAGE,\n            edgecolors='black',\n            linewidths=1,\n            color='red',\n            alpha=0.25)\nplt.xlabel('Longitude')\nplt.ylabel('Latitude')\nplt.grid()\nplt.title('Mars Craters > 50km diameter')\nplt.show()","bced4360":"n_top = 20\ndf_top = df.sort_values(by='DIAM_CIRCLE_IMAGE', ascending=False)[0:n_top].copy()\ndf_top","b4528d8b":"# interactive plot of LARGEST craters - visualize depth using color\nfig = px.scatter(df_top, x='LONGITUDE_CIRCLE_IMAGE', y='LATITUDE_CIRCLE_IMAGE',\n                 color='DEPTH_RIMFLOOR_TOPOG', size='DIAM_CIRCLE_IMAGE', \n                 hover_name='CRATER_NAME', opacity=0.5)\nfig.update_layout(title='Largest Mars Craters',\n                  xaxis_title='Longitude',  \n                  yaxis_title='Latitude')\nfig.show()","ae934df3":"n_top = 20\ndf_top_d = df.sort_values(by='DEPTH_RIMFLOOR_TOPOG', ascending=False)[0:n_top].copy()\ndf_top_d","00d03f86":"# interactive plot of DEEPEST craters - visualize depth using color\nfig = px.scatter(df_top_d, x='LONGITUDE_CIRCLE_IMAGE', y='LATITUDE_CIRCLE_IMAGE',\n                 color='DEPTH_RIMFLOOR_TOPOG', size='DIAM_CIRCLE_IMAGE', \n                 hover_name='CRATER_NAME', opacity=0.5)\nfig.update_layout(title='Deepest Mars Craters',\n                  xaxis_title='Longitude',  \n                  yaxis_title='Latitude')\nfig.show()","b1dcdf8d":"# for the following remove craters with blank as \"name\"\ndf_named = df[df['CRATER_NAME'] != ' ']\ndf_named.shape","9bf5c84c":"# a few of the craters have one-letter names\ndf_named[df_named.CRATER_NAME.str.len() == 1]","ffe9508f":"# check frequency \/ uniqueness\ndf_named.CRATER_NAME.value_counts()","6842d695":"# static plot of NAMED craters\nplt.figure(figsize=(14,8))\nplt.scatter(x=df_named.LONGITUDE_CIRCLE_IMAGE,\n            y=df_named.LATITUDE_CIRCLE_IMAGE,\n            s=df_named.DIAM_CIRCLE_IMAGE,\n            edgecolors='black',\n            linewidths=1,\n            color='red',\n            alpha=0.5)\nplt.xlabel('Longitude')\nplt.ylabel('Latitude')\nplt.grid()\nplt.title('Named Mars Craters')\nplt.show()","37ef8ba4":"# interactive plot of NAMED craters - visualize depth using color\nfig = px.scatter(df_named, x='LONGITUDE_CIRCLE_IMAGE', y='LATITUDE_CIRCLE_IMAGE',\n                 color='DEPTH_RIMFLOOR_TOPOG', size='DIAM_CIRCLE_IMAGE', \n                 hover_name='CRATER_NAME', opacity=0.5)\nfig.update_layout(title='Named Mars Craters',\n                  xaxis_title='Longitude',\n                  yaxis_title='Latitude')\nfig.show()","5d01ecdb":"df_named.NUMBER_LAYERS.value_counts().plot(kind='bar')\nplt.title('NUMBER_LAYERS - Named Craters only')\nplt.grid()\nplt.show()\n\nmorph_list = ['MORPHOLOGY_EJECTA_1','MORPHOLOGY_EJECTA_2','MORPHOLOGY_EJECTA_3']\nfor m in morph_list:\n    plt.figure(figsize=(10,4))\n    df_named[m].value_counts().plot(kind='bar')\n    plt.title(m + ' - Named Craters only')\n    plt.grid()\n    plt.show()","60fc9044":"#### Wow, those are a lot of craters!","7322c819":"# Craters of Mars - Table of Contents\n* [Basic Explorations](#1)\n* [Geography (to be precise: Areography)](#2)\n* [Largest Craters](#3)\n* [Deepest Craters](#4)\n* [Named Craters only](#5)","f6a5dfc2":"#### Again, we do not really see much, let's filter out the blanks:","6f2c6c2c":"#### \"P\" and \"M\" occur twice each, however, the parameters are different...!","edc29818":"### Depth vs Diameter","7cf715a5":"### Diameter","e62bbd42":"<a id='4'><\/a>\n# Deepest Craters","7639b980":"#### => Luckily, \"P\" and \"M\" are the only duplicates.","3c70e325":"<a id='5'><\/a>\n# Named Craters only","a1fd3fad":"#### The nice shape of the latitude distribution is driven by the fact that latitude strips close to the equator have a much larger area than latitude strips close to the poles!\n\n#### Now let's plot only the larger craters:","6d0b70da":"<a id='1'><\/a>\n# Basic Explorations","8e0514c1":"#### Interestingly, half of the largest craters do not have a name!","9e25f9b6":"### Depth","5920077b":"#### Ok, we have almost 1000 NAMED craters.","ac46b4fa":"<a id='2'><\/a>\n# Geography (to be precise: Areography)","d9575262":"### Categorical\/integer features","0c78222c":"### Revisit categorical\/integer features again for the named craters only:","1b059951":"#### That doesn't really help, let's try a log scale analysis:","849de7b0":"#### Image created with Folium and base map from Open Planetary: https:\/\/www.openplanetary.org\/opm\/basemaps","2535b492":"#### We can observe that the frequency behaviour of the diameters is somewhat close to a linear one in this log-log plot (which would correspond to a power law for the original values).","9bf4744a":"<a id='3'><\/a>\n# Largest Craters","84c4302a":"#### Let's plot all craters first:"}}