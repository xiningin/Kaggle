{"cell_type":{"d0905b0a":"code","2b8678bd":"code","9bad39ce":"code","26facda5":"code","10e61373":"code","af3b24b0":"code","fdb96c7d":"code","22b44bf0":"code","d712dc68":"code","0ce853b2":"code","1d5529b9":"code","9fc45ae1":"code","e6964dce":"code","09281113":"code","4fd0711b":"code","d0cd8bb8":"code","3ea68162":"code","d596812a":"code","4d81b264":"code","0d559b29":"code","da3c2049":"markdown","74e8cfa9":"markdown","d33ae47e":"markdown","21f5c76f":"markdown","05a50a51":"markdown","af23eb5d":"markdown","ce085959":"markdown","5a748708":"markdown","a94f4673":"markdown","ce024535":"markdown","48a2805a":"markdown","76242511":"markdown","dbd755c1":"markdown","8d8f74ab":"markdown","03c9c2de":"markdown","b9b76754":"markdown","aa6fd420":"markdown","c30ebd32":"markdown","7703dcfa":"markdown","61b1a3eb":"markdown","c73e86d4":"markdown","a1999229":"markdown","771f344e":"markdown","c9f1fe14":"markdown","44ce6769":"markdown"},"source":{"d0905b0a":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport random\nfrom datetime import date","2b8678bd":"class Plot():\n    def __init__(self):\n        c = ['r' , 'g' , 'b' , 'y' , 'orange' , 'grey' , 'lightcoral' , 'crimson' , \n            'springgreen' , 'teal' , 'c' , 'm' , 'gold' , 'skyblue' , 'darkolivegreen',\n            'tomato']\n        self.color = c\n        \n    def regplot_one_vs_many(self , x  , y  , data , rows , cols):\n        color_used = []\n        \n        n = 0\n        for feature in y:\n            \n            for i in range(1000):\n                colour = random.choice(self.color)\n                if colour not in color_used:\n                    color_used.append(colour)\n                    break\n                    \n            n += 1 \n            plt.subplot(rows , cols , n)\n            plt.subplots_adjust(hspace = 0.5 , wspace = 0.5)\n            sns.regplot(x  = x , y = feature , data = data , \n                        color = colour)\n            \nplots = (Plot())","9bad39ce":"nba_df = pd.read_csv('\/kaggle\/input\/nba2k20-player-dataset\/nba2k20-full.csv')\nnba_df.head()","26facda5":"print(f'There are {nba_df.shape[0]} rows and {nba_df.shape[1]} columns.\\n')\nprint(f'Column names: {nba_df.columns.values}')","10e61373":"nba_df.dtypes","af3b24b0":"print(nba_df.isna().sum())","fdb96c7d":"print(\"Highest rating: \", nba_df.rating.max(), \" - \", nba_df[nba_df.rating == nba_df.rating.max()].full_name.values[0])","22b44bf0":"print(\"Lowest rating: \", nba_df.rating.min(), \" - \", nba_df[nba_df.rating == nba_df.rating.min()].full_name.values[0])","d712dc68":"average_rating = len(nba_df.rating.value_counts())\nprint('Average rating value: {}'.format(round(nba_df.rating.mean(), 1)))","0ce853b2":"fig = plt.figure(figsize = (10, 5))\nplt.hist(nba_df.rating, bins=average_rating)\nplt.xlabel('Rating')\nplt.ylabel('Players')\nplt.title('Players and ratings histogram')\nplt.show()","1d5529b9":"def age(born):\n    today = date.today()\n    return today.year - born.year - ((today.month, today.day) < (born.month, born.day))","9fc45ae1":"nba_df['b_day'] = pd.to_datetime(nba_df['b_day'])\nnba_df['age'] = nba_df['b_day'].apply(lambda row: age(row))","e6964dce":"nba_df.sort_values(by = 'age', ascending = False)[['full_name', 'rating', 'team', 'age']].head(5)","09281113":"nba_df.sort_values(by = 'age', ascending = True)[['full_name', 'rating', 'team', 'age']].head(5)","4fd0711b":"values = ['rating']\nplt.figure(1, figsize = (10, 4))\nplots.regplot_one_vs_many(x = 'age', y = values, data = nba_df, rows = 1, cols = 1)\nplt.title('Scatter Plot of Age vs Rating')\nplt.show()","d0cd8bb8":"labels = [key for key in nba_df.jersey.value_counts(dropna=False).keys()]\nvalues = [value for value in nba_df.jersey.value_counts(dropna=False).values]\n\nx = np.arange(len(labels))\nfig, ax = plt.subplots(figsize=(10,10))\nrects = ax.barh(x, values)\n\nax.set_xlabel('Players')\nax.set_ylabel('Jersey numbers')\nax.set_yticks(ticks=x)\nax.set_yticklabels(labels)\nax.set_title('Jersey numbers')\n\nplt.show()","3ea68162":"labels = [key for key in nba_df.team.value_counts(dropna=False).keys()]\nvalues = [value for value in nba_df.team.value_counts(dropna=False).values]\n\nx = np.arange(len(labels))\nfig, ax = plt.subplots()\nrects = ax.barh(x, values)\n\nax.set_xlabel('Number of players in teams')\nax.set_ylabel('Team')\nax.set_yticks(ticks=x)\nax.set_yticklabels(labels)\nax.set_title('Number of players in teams')\n\nplt.show()","d596812a":"free_agents = nba_df[nba_df['team'].isna()]\nprint(f'Total free agents: {free_agents.shape[0]}')\nfree_agents","4d81b264":"fig = plt.figure(figsize = (10, 5))\nsns.countplot('position', data = nba_df, order = nba_df['position'].value_counts().index)\nplt.xlabel('Player positions')\nplt.ylabel('Count of players')\nplt.title('Player positions')\nplt.show()","0d559b29":"position_rating = nba_df[['position','rating']].groupby('position').mean().sort_values(by='rating', ascending=False)\nfig, ax = plt.subplots(figsize=(10,5))\nsns.barplot(x=position_rating.rating, y=position_rating.index)\nplt.xticks()\nplt.xlabel('Position')\nplt.ylabel('Average rating')\nplt.title('Average ranking of players by position')\nplt.show()","da3c2049":"<h2 style='background:#AD2CDA; border:0; color:white'><center>Identifying NULL values<center><h2>","74e8cfa9":"<h3><center>The dataset is almost never clean, as such we need to identify which columns have null values. After identfying then we can move to either fix them with a suitable replacement or remove them altoghether.<h3><center>","d33ae47e":"<h2 style='background:#AD2CDA; border:0; color:white'><center>Now let's analyze each column of the table.<h2><center>","21f5c76f":"<h4><center>We see the value of \"nan\" for more than 20 players, apparently, these are free agents who are not currently part of any of the teams.<center><\/h4>","05a50a51":"<h3><center>5 youngest players.<center><\/h3>","af23eb5d":"<h1 style='background:#AD2CDA; border:0; color:white'><center>EDA for NBA 2k20 player dataset<\/center><\/h1>\n\n<center><img src=\"https:\/\/store-images.s-microsoft.com\/image\/apps.54802.14513657308079221.c5077776-1962-4ea7-a75e-ae4bfaeddc0c.f813dfc0-93f4-408f-91a4-9123fd6a9801\"><\/center>","ce085959":"<h3><center>Let's see how many players are on each team.<center><\/h3>","5a748708":"<h3><center>Let's see the information regarding the positions of the players.<center><\/h3>","a94f4673":"<h3><center>What about the average ranking of players by position?<center><\/h3>","ce024535":"<h3><center>Let's check how many rows and columns the dataset has, as well as the names of the columns.<center><\/h3>","48a2805a":"<h2 style='background:#AD2CDA; border:0; color:white'><center>Basic library<center><\/h2>","76242511":"<h4><center>You can see that the forces are distributed approximately the same for each position.<center><\/h4>","dbd755c1":"<h4><center>Wow, this is very interesting information, surprisingly so many players prefer the number \"0\" on their jersey.<center><\/h4>","8d8f74ab":"<h3><center>Let's display the exact information about free agents.<center><\/h3>","03c9c2de":"<h4><center>I am not a very strong basketball expert, but judging from a search on the Internet, position \"G\" (Guard) is any point guard, attacking defender.<center><\/h4>","b9b76754":"<h1 style='background:#AD2CDA; border:0; color:white'><center>In work ...<\/center><\/h1>","aa6fd420":"<h3><center>How does the player's age affect the rating?<center><\/h3>","c30ebd32":"<h3><center>Let's see what jersey numbers NBA players prefer to wear.<center><\/h3>","7703dcfa":"<h4><center>Here we see that 22 free agents are recorded in the jersey number \"0\" dataset, which explains why there are so many players with jersey number \"0\".<center><\/h4>","61b1a3eb":"<h2 style='background:#AD2CDA; border:0; color:white'><center>Analysis<center><\/h2>","c73e86d4":"<h3><center>Often we are needed to manipulate values in columns of the dataset. It is helpful to known what columns houses what type of data, as we may need to cast it into another data type or perform operations according to given data type in the column.<center><h3>","a1999229":"<h3><center>Let's see what is the average rating value for all players.<center><\/h3>","771f344e":"<h2 style='background:#AD2CDA; border:0; color:white'><center>Data Types of Columns<center><h2>","c9f1fe14":"<h4><center>Each row is one player, so we have 429 players in this dataset.<center><\/h4>","44ce6769":"<h3><center>5 oldest players.<center><\/h3>"}}