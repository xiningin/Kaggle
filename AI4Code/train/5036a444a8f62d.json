{"cell_type":{"1c1196f0":"code","362cfa12":"code","030e17b5":"code","0287696f":"code","e8d149c9":"code","7b7b6d9c":"code","46f0c5a2":"code","a402a6b0":"code","3a7e463e":"code","4ce43a8d":"code","d78c1998":"code","2f08c32e":"code","03e9148f":"code","47bacad0":"code","c8c76fc1":"code","11d938fb":"code","33f060d7":"markdown","f82417c5":"markdown","4800efa8":"markdown","a6f4dfa6":"markdown","31c16d13":"markdown","65015d57":"markdown","8f3f56ee":"markdown","b542269b":"markdown","d7d59efb":"markdown","ac453e75":"markdown","28c1afa3":"markdown","3b0d612e":"markdown","c613666f":"markdown","c904a111":"markdown","d1c3807f":"markdown"},"source":{"1c1196f0":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns # Visualising data\nimport matplotlib.pyplot as plt\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","362cfa12":"renfe = pd.read_csv(\"..\/input\/renfe.csv\")","030e17b5":"renfe.info()","0287696f":"renfe.isnull().sum()","e8d149c9":"renfe.train_class.value_counts()\nrenfe.fare.value_counts()","7b7b6d9c":"renfe.dropna(axis=0,subset=['price'],inplace=True)","46f0c5a2":"renfe.train_class.fillna('Turista',inplace=True)\nrenfe.fare.fillna('Promo',inplace=True)","a402a6b0":"renfe = renfe.loc[:, ~renfe.columns.str.contains('Unnamed')]\nrenfe.drop('insert_date',inplace=True,axis=1)","3a7e463e":"for i in ['start_date','end_date']:\n    renfe[i] = pd.to_datetime(renfe[i])\n\nrenfe['time_to_travel'] = renfe['end_date'] - renfe['start_date']\nrenfe['day_of_week'] = renfe['start_date'].dt.weekday_name\nrenfe['date'] = renfe['start_date'].dt.date\nrenfe['time_in_seconds'] = renfe['time_to_travel'].dt.total_seconds()","4ce43a8d":"renfe_greater_150 = renfe[(renfe['price'] > 150)]\nrenfe_between_100_150 = renfe[(renfe['price'] > 100) & (renfe['price'] < 150)]\nrenfe_between_50_100 = renfe[(renfe['price'] > 50) & (renfe['price'] < 100)]\nrenfe_less_50 = renfe[(renfe['price'] < 50)]","d78c1998":"sns.jointplot(\"time_in_seconds\",\"price\",data=renfe_greater_150)\nsns.catplot(data=renfe_greater_150,x=\"train_type\",y=\"price\")\nsns.catplot(data=renfe_greater_150,x=\"fare\",y=\"price\")","2f08c32e":"sns.catplot(data=renfe_greater_150,x=\"train_type\",y=\"price\")","03e9148f":"sns.jointplot(\"time_in_seconds\",\"price\",data=renfe_between_100_150)\nsns.catplot(data=renfe_between_100_150,x=\"train_type\",y=\"price\")\nsns.catplot(data=renfe_between_100_150,x=\"fare\",y=\"price\")\npercentage_100_150 = len(renfe_between_100_150)\/ len(renfe) * 100\nprint(percentage_100_150)","47bacad0":"sns.jointplot(\"time_in_seconds\",\"price\",data=renfe_between_50_100)\nsns.catplot(data=renfe_between_50_100,x=\"train_type\",y=\"price\")\nsns.catplot(data=renfe_between_50_100,x=\"fare\",y=\"price\")\npercentage_50_100 = len(renfe_between_50_100)\/ len(renfe) * 100\nprint(percentage_50_100)","c8c76fc1":"sns.jointplot(\"time_in_seconds\",\"price\",data=renfe_less_50)\nsns.catplot(data=renfe_less_50,x=\"train_type\",y=\"price\")\nsns.catplot(data=renfe_less_50,x=\"fare\",y=\"price\")\npercentage_lesser_50 = len(renfe_less_50)\/ len(renfe) * 100\nprint(percentage_lesser_50)","11d938fb":"sns.barplot(x=renfe.day_of_week.value_counts(),y=renfe.day_of_week.value_counts().index)","33f060d7":">** Data Preprocessing **\n\n###Drop column \"insert_date\" as it looks irrelevant.As per insert_date, i see so many prices were collected at same time##\n###Dropped first column('unnamed') as we already have index available###","f82417c5":"**Create Additional Features**\n##Covert the columns with date to dataframe##\n##Create  new features like day of week,time to travel##","4800efa8":"**Insights :** We have very less trains for the price range greater than 150 euros. Also for all trains with price more than 150, minimum travelling time is 5700 seconds. Most of the trains are of the type 'AVE' & fare is 'Flexible' in this range. ","a6f4dfa6":"**Insights :** 55% of train prices are in the range 50-100 euros. 'Promo' & 'Flexible' are the main fare's at this range. Major trian type's are AVE ","31c16d13":"**2. Data Preprocessing**","65015d57":"**Remove the rows in 'price' with null values**","8f3f56ee":"**1.1 Find out the rows with Nan Values**","b542269b":"**Insights :** Thursday have highest number of trains and Saturday with the least one. Even though thursdays have highest number of trains, we can see that all weekdays have almost same number of trains. ","d7d59efb":"**Fill Null values with mean values**","ac453e75":"**Insights :** 34% of train prices are less than 50 euros. Under 50, we have train_type as 'AVE', 'intercity','AVE-LD','MD-LD'. 'Promo' & 'Promo +' are the major train fare's under 50 euros price. ","28c1afa3":"**Day wise train numbers**","3b0d612e":"##Fill null values in train_class with Turista##\n##Fill null values in fare with Promo ##","c613666f":"**Data Preprocessing**","c904a111":"**Categorizing price in different Groups**","d1c3807f":"**Insights :** For the price range between 100 & 150, most of the fare's are 'Promo' & 'Flexible',Train_type is 'AVE' & 'AVE-TGV'. Time range is 9000-11500 seconds."}}