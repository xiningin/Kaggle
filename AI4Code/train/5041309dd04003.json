{"cell_type":{"beac5f42":"code","de0d9cac":"code","08abee9c":"code","bb359427":"code","c71bf9d8":"code","a4805019":"code","167b9ed5":"code","81428986":"code","5a0e79a8":"code","cd78af09":"code","0ec5ae4d":"code","8df460bd":"code","321d72d1":"code","81709e5d":"code","30a38a39":"code","85daff19":"code","f500144b":"code","b24ac409":"markdown","372cf609":"markdown","f3e6f6c9":"markdown","9498bbd5":"markdown","19ec8b44":"markdown","0ce73d1d":"markdown","5b4b3c71":"markdown","c5b55f7e":"markdown"},"source":{"beac5f42":"# packages\n\n# standard\nimport numpy as np\nimport pandas as pd\nimport time\n\n# plots\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport seaborn as sns","de0d9cac":"# import data\ndf = pd.read_csv('..\/input\/australia-largest-companiese\/Australia_largest_companies.csv')","08abee9c":"# dimensions of data frame\ndf.shape","bb359427":"# rename columns\ndf = df.rename(columns={'Global Rank\\t' : 'Global Rank', \n                   'Company\\t' : 'Company',\n                   'Sales ($billion)\\t' : 'Sales',\n                   'Profits ($billion)\\t' : 'Profits',\n                   'Assets ($billion)\\t' : 'Assets',\n                   'Market Value ($billion)' : 'MarketValue'})","c71bf9d8":"# show preview\ndf.head(5)","a4805019":"df['Profit_over_Sales'] = np.round(df.Profits \/ df.Sales, 4)\ndf['MVal_over_Sales'] = np.round(df.MarketValue \/ df.Sales, 2)\ndf['MVal_over_Profits'] = np.round(df.MarketValue \/ df.Profits, 2)","167b9ed5":"df.head(10)","81428986":"features = ['Sales', 'Profits', 'Assets', 'MarketValue',\n            'Profit_over_Sales', 'MVal_over_Sales',\n            'MVal_over_Profits']","5a0e79a8":"# pairwise scatter plots of main features\nsns.pairplot(data=df[['Global Rank','Sales', 'Profits', 'Assets', 'MarketValue']])\nplt.show()","cd78af09":"fig = px.scatter(df, x='Sales', y='Profits',\n                 color='Assets',\n                 size='MarketValue', \n                 hover_name='Company', opacity=0.5)\nfig.update_layout(title='Visualization of Companies by key figures',\n                  xaxis_title='Sales [$bn]',  \n                  yaxis_title='Profits [$bn]')\nfig.show()","0ec5ae4d":"for f in features:\n    print('*** Top 10 by ' + f + ':')\n    df_temp = df.nlargest(columns=[f], n=10)\n    # barplot\n    plt.figure(figsize=(12,4))\n    plt.bar(x=df_temp.Company, height=df_temp[f],\n            color='darkblue')\n    plt.xticks(rotation=90)\n    plt.title('Top 10 by ' + f)\n    plt.grid()\n    plt.show()\n    # show table\n    display(df_temp)","8df460bd":"for f in features:\n    print('*** Bottom 10 by ' + f + ':')\n    df_temp = df.nsmallest(columns=[f], n=10)\n    # barplot\n    plt.figure(figsize=(12,4))\n    plt.bar(x=df_temp.Company, height=df_temp[f],\n            color='darkblue')\n    plt.xticks(rotation=90)\n    plt.title('Bottom 10 by ' + f)\n    plt.grid()\n    plt.show()\n    # show table\n    display(df_temp)","321d72d1":"# sort data frame by sales\ndf_temp = df.nlargest(columns=['Sales'], n=42).reset_index(drop=True)","81709e5d":"# boxplot of sales\nplt.figure(figsize=(10,2))\nplt.boxplot(df_temp.Sales, vert=False)\nplt.title('Sales - Boxplot')\nplt.grid()\nplt.show()","30a38a39":"# plot histogram\ndf_temp.Sales.plot(kind='hist', color='darkblue')\nplt.title('Sales distribution')\nplt.grid()\nplt.show()","85daff19":"# plot histogram - log10 transformation\nnp.log10(df_temp.Sales).plot(kind='hist', color='darkblue')\nplt.title('Sales distribution - log10')\nplt.grid()\nplt.show()","f500144b":"# plot log10 of sales vs rank\nnp.log10(df_temp.Sales).plot()\nplt.title('log10(Sales) vs Rank')\nplt.grid()\nplt.show()","b24ac409":"### Add a few calculated metrics","372cf609":"<a id='vis'><\/a>\n# Visualizations","f3e6f6c9":"# Table of Contents\n* [Import and Data Preparation](#import)\n* [Visualizations](#vis)\n* [Top 10](#top)\n* [Bottom_10](#bottom)\n* [Sales Distribution](#sales_dist)","9498bbd5":"### Interactive Plot:","19ec8b44":"<a id='top'><\/a>\n# Top 10","0ce73d1d":"<a id='sales_dist'><\/a>\n# Sales distribution","5b4b3c71":"<a id='import'><\/a>\n# Import and Data Preparation","c5b55f7e":"<a id='bottom'><\/a>\n# Bottom 10"}}