{"cell_type":{"a9959613":"code","ed69aaf3":"code","73c90084":"code","56cde8a3":"code","71c6b324":"code","3954e77d":"code","052d8243":"code","83e07dce":"code","f16114d2":"code","f4341d2e":"code","42cb4088":"code","f0b3f72f":"code","330533de":"code","19f65d31":"code","2bfcd30b":"code","0fe3dbaf":"code","d2c35f53":"code","bb091189":"code","feb5b336":"markdown","2b303b4e":"markdown","d48f45cd":"markdown","1d0980a2":"markdown","5f757481":"markdown","d6c2bca2":"markdown","d1ae13bf":"markdown","8f74cb6b":"markdown","c3866a6f":"markdown","0d9f54c4":"markdown","3867d34c":"markdown","7d71021a":"markdown","511984bc":"markdown","1fc99382":"markdown","3fccc89a":"markdown","bb0a9d90":"markdown","f4cd6e3b":"markdown","bef8dc49":"markdown","0bdd321d":"markdown","1f2c1224":"markdown","ca447efd":"markdown","647f9738":"markdown","e63b65d7":"markdown","4969211d":"markdown","f355f778":"markdown"},"source":{"a9959613":"import pandas as pd\nimport numpy as np\n\n\n# visualization\nimport seaborn as sns           \nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n\n\n\n#baselie model libraries \nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\n\nimport tensorflow as tf \nfrom keras.models import Sequential\nfrom keras.layers import Dense,Flatten\n\n\n\n# warning ignore\nimport warnings \nwarnings.filterwarnings('ignore')","ed69aaf3":"data = pd.read_csv('\/kaggle\/input\/churn-modelling\/Churn_Modelling.csv')","73c90084":"data.head()","56cde8a3":"data.isna().sum()","71c6b324":"sum(data.duplicated())","3954e77d":"data.info()","052d8243":"f,ax=plt.subplots(1,2,figsize=(18,8))\ndata['Geography'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'],ax=ax[0])\nax[0].set_title('Number of customer by countries')\nax[0].set_ylabel('count')\nsns.countplot(data=data,x='Geography',hue='Exited',ax=ax[1])\nax[1].set_title('Countries:Exited vs Non Exited')\nax[1].set_ylabel('count');","83e07dce":"f,ax=plt.subplots(1,2,figsize=(18,8))\ndata['Gender'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'],ax=ax[0])\nax[0].set_title('Number of customer by gender')\nax[0].set_ylabel('count')\nsns.countplot(data=data,x='Gender',hue='Exited',ax=ax[1])\nax[1].set_title('Gender:Exited vs Non Exited')\nax[1].set_ylabel('count');","f16114d2":"Non_Exited = data[data['Exited']==0]\nExited = data[data['Exited']==1]","f4341d2e":"plt.subplots(figsize=(18,8))\nsns.distplot(Non_Exited['Age'])\nsns.distplot(Exited['Age'])\nplt.title('Age:Exited vs Non Exited')\nplt.legend([0,1],title='Exited')\nplt.ylabel('percentage');","42cb4088":"pd.crosstab(data.NumOfProducts,data.Exited,margins=True).style.background_gradient(cmap='OrRd')","f0b3f72f":"f,ax = plt.subplots(1,2,figsize=(18,8))\ndata['NumOfProducts'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'],ax=ax[0])\nax[0].set_title('Number of customer by Number of Product')\nax[0].set_ylabel('count')\nsns.countplot(data=data,x='NumOfProducts',hue='Exited',ax=ax[1])\nax[1].set_title('Number of Product:Exited vs Non Exited')\nax[1].set_ylabel('count');","330533de":"plt.figure(figsize=(18,8))\nplt.hist(x='CreditScore',bins=100,data=Non_Exited,edgecolor='black',color='red')\nplt.hist(x='CreditScore',bins=100,data=Exited,edgecolor='black',color='blue')\nplt.title('Credit score: Exited vs Non-Exited')\nplt.legend([0,1],title='Exited');","19f65d31":"plt.figure(figsize=(18,8))\np1=sns.kdeplot(Non_Exited['Balance'], shade=True, color=\"r\")\np1=sns.kdeplot(Exited['Balance'], shade=True, color=\"b\");\nplt.title('Account Balance: Exited vs Non-Exited')\nplt.legend([0,1],title='Exited');","2bfcd30b":"sns.factorplot('IsActiveMember','Exited',col='Tenure',col_wrap=4,data=data);","0fe3dbaf":"f,ax = plt.subplots(1,3,figsize=(18,8))\ndata['HasCrCard'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'],ax=ax[0])\nax[0].set_title('Number of customer by credit card')\nax[0].set_xlabel('Credit card')\n\nsns.countplot(data=data,x='HasCrCard',hue='Exited',ax=ax[1])\nax[1].set_title('Number of Product: Exited vs Non Exited')\nax[1].set_ylabel('count');\n\nsns.boxplot(data=data,y='CreditScore',x='HasCrCard',hue='Exited',ax=ax[2])\nax[2].set_title('Credit card & score: Exited vs Non Exited');","d2c35f53":"plt.figure(figsize=(18,8))\nplt.hist(x='EstimatedSalary',bins=100,data=Non_Exited,edgecolor='black',color='red')\nplt.hist(x='EstimatedSalary',bins=100,data=Exited,edgecolor='black',color='blue')\nplt.title('Estimated salary: Exited vs Non-Exited')\nplt.legend([0,1],title='Exited');","bb091189":"plt.title(\"features correlation matrics\".title(),\n          fontsize=20,weight=\"bold\")\n\nsns.heatmap(data.corr(),annot=True,cmap='RdYlBu',linewidths=0.2, vmin=-1, vmax=1,linecolor = 'black') \nfig=plt.gcf()\nfig.set_size_inches(10,8);","feb5b336":"Useful information to understand the table \n\n- **Tenure**: The customer's number of years in the bank \n- **Balance**: The customer's account balance (amount of money present in a financial repository)\n- **Exited**: Churned or not ? 0 = No, 1= Yes","2b303b4e":"### 3.4 If the customer has more than 1 product will they stay rather than find other providers ? ","d48f45cd":"## 3.7 Can high Tenure & active menber guarantee that the customer will not leave ?  ","1d0980a2":"Observation \n\nRatio of leaving by `Female` >> Ratio of leaving by `Male` ","5f757481":"## 3.5 If customer have higher creditscore are they willing to stay or leave ? ","d6c2bca2":"Observation \n\nHard to find any analytical insight that the estimated salary has a impact on churn customer.","d1ae13bf":"## 3.8 Which impact does Creditcard have on churn customer ? ","8f74cb6b":"Observation \n\nFocus on 2 local maximum points of both graph.\n\n- At the first local maximum (Balance = 0) ratio of `staying` is higher than `exited`.\n\n- But at the second local maximum (Balacne = about120000) ratio of `exited` is higher than `staying` \n\n->>> If the customers have a lot of money on their account they tend to become a churn customers","c3866a6f":"### Incorrect datatype","0d9f54c4":"## 2.Loading dataset","3867d34c":"Observation \n\n- Non-Exited: right skewed graph\n- Exited: normal distributed graph\n\nAge groupe over 40 is likely to leave bank. ","7d71021a":"### Duplication","511984bc":"In this kernel I'll try to find out the analytical insight about the churn prediction at the bank customers \n\n## 1.Importiing libraries","1fc99382":"### Missing values","3fccc89a":"## 3.10 Correlation  analysis ","bb0a9d90":"### 3.3 Age: which age group prefer to leave ?  ","f4cd6e3b":"## 3.9 Which impact does EstimatedSalary have on churn customer ? ","bef8dc49":"### 3.2 Gender: relationship of exited customer and sex?","0bdd321d":"**Observation**\n\n`Germany` presents the hightest ratio of leaving (Lowest percentage of Non-exited customer and Highest percentage of exited customer)","1f2c1224":"Observation \n\nThe ratio of exited cases from 3 Products definitely higher than under 2 products","ca447efd":"## 3. EDA \n\n\n### 3.1 Countries: Geographcial reason of exited customer?","647f9738":"Observation  \n\nRoughly can say that customers who have high credit score, tend to stay rather than to leave","e63b65d7":"## 3.6 Won't customer exit when they have a lot of money in the bank account ? ","4969211d":"Observation \n\nWe can clearly find 2 remerkable points \n\n- Tenure can influence on the exited but it's incomplete. For example clients who used this bank service for 7 years (Tenure) shows higher ratio to leave than 10 years client.\n  So it's hard to say that the The higher duration of service user have higher posibiities to stay.\n  \n- But the difference between acitve member and non active member is 100% clear that non active members are willing to leave double or triple times higher than active members","f355f778":"Observation \n"}}