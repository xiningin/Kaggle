{"cell_type":{"32c32a11":"code","7324fec6":"code","f95b676a":"code","dba8c89e":"code","1c138abf":"code","6e448ea9":"code","270a9d74":"code","60cb783a":"code","83c1fd4b":"markdown","88fdef66":"markdown","5d3a12be":"markdown","df37ca4c":"markdown"},"source":{"32c32a11":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom scipy.io.wavfile import read\nfrom scipy import signal\nfrom IPython.display import Audio, Image\nfrom PIL import Image, ImageDraw\nimport librosa\nimport librosa.display\nimport pylab\nfrom numpy.fft import fft, ifft\n%matplotlib inline\nimport math","7324fec6":"triads = pd.read_csv(\"\/kaggle\/input\/piano-triads-wavset\/triads.csv\")\ntriads","f95b676a":"sample_rate, wav_data = read(\"..\/input\/piano-triads-wavset\/piano_triads\/A_min_4_0.wav\")\nAudio(wav_data, rate=sample_rate)","dba8c89e":"y, sr = librosa.load(\"..\/input\/piano-triads-wavset\/piano_triads\/A_min_4_0.wav\")\n\ny_harm, y_perc = librosa.effects.hpss(wav_data)\nfig, ax = plt.subplots(nrows=1, ncols= 3, figsize=(15,5))\nlibrosa.display.waveplot(y, sr=sr, ax=ax[0])\n\nlibrosa.display.waveplot(y_harm, sr=sr, alpha=0.25, ax=ax[1])\nlibrosa.display.waveplot(y_perc, sr=sr, color='r', alpha=0.5, ax=ax[1])\n\nS = librosa.feature.melspectrogram(y=y, sr=sr, n_mels=128, fmax=8000)\nS_dB = librosa.power_to_db(S, ref=np.max)\nmel = librosa.display.specshow(S_dB, x_axis='time', y_axis='mel', sr=sr, fmax=8000, ax=ax[2])\nfig.colorbar(mel, ax=ax[2], format='%+2.0f dB')\n\nax[0].set(title='Monophonic');\nax[1].set(title='Harmonic & Percussive');\nax[2].set(title='Mel-frequency spectrogram');","1c138abf":"sample_rate, wav_data = read(\"..\/input\/piano-triads-wavset\/piano_triads\/A_min_4_0.wav\")\nAudio(wav_data, rate=sample_rate)","6e448ea9":"# Am\nC = librosa.feature.chroma_cqt(y=y_harm, sr=sr)\nplt.figure(figsize=(10,4))\nlibrosa.display.specshow(C, sr=sr, x_axis='time', y_axis='chroma', vmin=0, vmax=1)\nplt.title('Chromagram')\nplt.colorbar()\nplt.tight_layout()","270a9d74":"sample_rate2, wav_data2 = read(\"..\/input\/piano-triad-visualization-and-sound-synthesize\/DonC.wav\")\nAudio(wav_data2, rate=sample_rate2)","60cb783a":"# D\/C\nwav_data2_arr = np.array(wav_data2).astype(np.float32)    #####\ny_harm2, y_perc2 = librosa.effects.hpss(wav_data2_arr)    #####\n\ny2, sr2 = librosa.load(\"..\/input\/piano-triad-visualization-and-sound-synthesize\/DonC.wav\")\n\nC = librosa.feature.chroma_cqt(y=y_harm2, sr=sr2)\nplt.figure(figsize=(10,4))\nlibrosa.display.specshow(C, sr=sr2, x_axis='time', y_axis='chroma', vmin=0, vmax=1)\nplt.title('Chromagram')\nplt.colorbar()\nplt.tight_layout()","83c1fd4b":"## Chromagram","88fdef66":"## Monophonic, Harmonic & Percussive, Mel-frequency spectrogram ","5d3a12be":"Bright lines are seen at D, E and F#, but C and G are extremely dark. This result shows it is difficult to detect full notes of D\/C.","df37ca4c":"Bright lines are seen at C, E, and A."}}