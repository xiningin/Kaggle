{"cell_type":{"b66ade22":"code","199ccd1e":"code","57538f77":"code","fdfc4c92":"code","6abe0022":"code","0ff55e3d":"code","5335cb76":"code","2d59d598":"code","27e0eb75":"code","5b6bf095":"code","bcec92ec":"code","34ccba06":"code","69391bfa":"code","b70bac28":"code","8b2ea97a":"code","596b3b59":"code","054eb325":"code","d55a4daa":"code","bae19831":"code","f43b4f5a":"code","bc2dee81":"code","3e36da3b":"code","7f3579cc":"code","0348fd3f":"code","4ce88067":"code","59be8875":"code","191ffc1c":"code","e3a9b111":"code","81569eed":"code","d48ce849":"markdown","94ea1f10":"markdown","2e55de8c":"markdown","bb1cf6d9":"markdown","7418356e":"markdown","87ddd4ee":"markdown","d67bfb58":"markdown","d9ee35d8":"markdown","9fdc8a45":"markdown","2327a3ca":"markdown","72ab19a1":"markdown","fdc2a354":"markdown","90777700":"markdown","890ac76a":"markdown","be9aa804":"markdown","6cce7ff6":"markdown"},"source":{"b66ade22":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","199ccd1e":"file_path = \"..\/input\/us-accidents\/US_Accidents_Dec20_updated.csv\"\n\ndf = pd.read_csv(file_path)","57538f77":"print(f\"Number of columns: {df.shape[1]}\")\nprint(f\"Number of rows: {df.shape[0]}\")","fdfc4c92":"df.info()","6abe0022":"df.describe()","0ff55e3d":"df.isnull().sum()","5335cb76":"df = df[[\"Start_Time\", \"City\", \"State\", \"Temperature(F)\", \"Start_Lng\", \"Start_Lat\"]]","2d59d598":"df.head()","27e0eb75":"sns.set_style(\"darkgrid\")\nsns.scatterplot(x=\"Start_Lng\", y=\"Start_Lat\", data=df, alpha=0.4)","5b6bf095":"df[\"City\"].nunique()","bcec92ec":"df[\"State\"].nunique()","34ccba06":"count_city = df[\"City\"].value_counts()\ncount_city","69391bfa":"count_city[:20]","b70bac28":"only_ny = df.loc[df[\"City\"] == \"New York\"]\nonly_ny.head()","8b2ea97a":"only_ny.count().max()","596b3b59":"#cities with more than 1000 records\nhigh_accidents = count_city[count_city >= 1000]\nhigh_accidents.head()","054eb325":"sns.histplot(high_accidents,  log_scale=True)","d55a4daa":"new_df = df[df[\"City\"].isin(high_accidents.index)]","bae19831":"print(f\"new_df has {round(((df.shape[0]-new_df.shape[0])\/df.shape[0])*100, 4)}% less rows than the original dataframe\")\n","f43b4f5a":"accidents_by_state = new_df.groupby(\"State\").City.count().sort_values(ascending=False)\naccidents_by_state[:10]","bc2dee81":"sns.barplot(x=accidents_by_state[:10].index , y=accidents_by_state[:10])","3e36da3b":"import datetime as dt\n\nnew_df[\"Start_Time\"] = pd.to_datetime(new_df[\"Start_Time\"])\nnew_df[\"Start_Time\"].dt.year\n","7f3579cc":"sns.countplot(new_df[\"Start_Time\"].dt.year)","0348fd3f":"#wrapping the set_xticlabels stament inside a variable to hide the text objects\np = sns.countplot(new_df[\"Start_Time\"].dt.hour)\nvar = p.set_xticklabels([x for x in range(1, 25)])","4ce88067":"g = sns.countplot(new_df[\"Start_Time\"].dt.dayofweek)\nvar = g.set_xticklabels(rotation=30, labels=[\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"])","59be8875":"month_vc = new_df[\"Start_Time\"].dt.month.value_counts().sort_index()\nmonth_vc","191ffc1c":"g = sns.countplot(new_df[\"Start_Time\"].dt.month)\nvar = g.set_xticklabels(rotation=50, labels=[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"])","e3a9b111":"temp_f = new_df.groupby(new_df[\"Start_Time\"].dt.month)[\"Temperature(F)\"].mean()\ntemp_c = pd.Series([((x-32)*5\/9) for x in temp_f], index=temp_f.index)\nprint(\"Temperature in Celsius:\")\nlist(temp_c)","81569eed":"cor = month_vc.corr(temp_c)\ncor","d48ce849":"**Parsing dates**","94ea1f10":"New York city is included in the dataset but has only 4000 recorded accidents.","2e55de8c":"2020 was the year with most traffic accident records.","bb1cf6d9":"Weekdays are the most dangerous, maybe people are in a hurry to go to their jobs from monday to friday.","7418356e":"***Conclusions:***\n\n* The state of California has the highest traffic accidients(293 395) with almost 3 times the  records compared to Florida,the second place(107 215). \n\n* Not surprisingly Los angeles, miami and many other cities inside the states named beforehand have the most accident records.\n\n* Any weekday of December between 7am to 10am and 2pm to 7pm are the most dangerous times to drive, especially in the state of California.\n\n* Lastly, the dataset is missing data from many cities and\/or has gathered most of the data from a few States.","87ddd4ee":"-California far surpasses other states in terms of traffic accidents \n\n-After Florida (2nd place), states don't reach the 100 000 mark.","d67bfb58":"**Let's start with geographical data**","d9ee35d8":"Negative correlation between the amount of accidents each month and the temperature. No luck.","9fdc8a45":"\nQuantity of accidents by State\n","2327a3ca":"Much of the accidents are happening between 2pm and 7pm.","72ab19a1":"- There are cities with only 1 accident record\n- New York isn't on the top cities being the most populated in the U.S","fdc2a354":"# Exploratory Data Analysis Project: US Accidents (1.5 million records)\n##### A Countrywide Traffic Accident Dataset (2016 - 2020)\n\n<img style=\"float:center\" src=\"https:\/\/image.freepik.com\/free-vector\/traffic-accident-abstract-concept-vector-illustration-road-accident-report-traffic-laws-violation-single-car-crash-investigation-injury-statistics-multi-vehicle-collision-abstract-metaphor_335657-1800.jpg\" alt=\"image\" style=\"width:435px;height:366px;\">","90777700":"**A bit more than 40% of Cities of the original dataframe had less than 1000 records**","890ac76a":"September to December are the months with the most accidents. Maybe it's correlated to the tempature and frozen roads.","be9aa804":"## Project Goals\n* Analyze columns such as : City, State, Start time and more.\n* Answer questions like: \n\n  -Where do traffic accidents are most common?\n  \n  -At what time of the day traffic accidents are more likely?\n","6cce7ff6":"Many missing values like WindChill and precipitation which have 400k+ missing values"}}