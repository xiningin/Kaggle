{"cell_type":{"62fe12a7":"code","00b56eb6":"code","87d52b7a":"code","7b99caae":"code","df9c9bae":"code","acc34c4e":"code","0a16c426":"code","75b5b452":"code","7e10de6c":"code","01afee7a":"code","8ca777aa":"code","0a1d3014":"code","bd9b657e":"code","50c03e8b":"code","63e98d0c":"code","b5fbdaec":"code","09454660":"code","5ae201e5":"code","b37e2027":"code","f1a21ab4":"code","ca0c999c":"code","905f09e3":"code","dbb21307":"code","333374a6":"code","c2c1096e":"code","fd4eb02b":"code","c13c2c4f":"code","f8b81931":"code","3e2d6d39":"code","28743671":"code","2b68bdf5":"code","7ba0d290":"code","385a2463":"code","b2572efd":"code","7f9d67c9":"code","c5616dec":"code","d55b1c99":"code","6a1b161b":"code","56aad806":"code","4f94f0d3":"code","a68d8fcc":"code","578a3803":"markdown","3906c3e5":"markdown","e11e4922":"markdown","114fc919":"markdown","3c732b4a":"markdown","7f9edc70":"markdown","8de69414":"markdown","21eabb38":"markdown","20f5df71":"markdown","8901440c":"markdown","a7990ade":"markdown","d96f6ec2":"markdown","70256b76":"markdown","bc6e5a4b":"markdown","0dbad0e2":"markdown","fd7ebeec":"markdown","5d33cc13":"markdown","e35579e0":"markdown","0e44ab78":"markdown","ffbb0514":"markdown","0e301e3a":"markdown","248c75b3":"markdown","e3601831":"markdown","03ccfd63":"markdown","9c1cd90e":"markdown","5da4d7c0":"markdown","a700c3bb":"markdown","e94ad475":"markdown","be114ef6":"markdown","343f51d8":"markdown","d7b7b3a3":"markdown","8b0f89e8":"markdown","6073bb00":"markdown","e75606c9":"markdown","79acc44a":"markdown","7e331f4a":"markdown","70c0401b":"markdown","1f714fc2":"markdown","e9a81978":"markdown","fa2fb3b5":"markdown","b428ce43":"markdown","7ad40e98":"markdown","dbc12ebc":"markdown","ae6b947b":"markdown","6ba43fd3":"markdown","427be22d":"markdown","72205e42":"markdown","ec0719b5":"markdown"},"source":{"62fe12a7":"#Importing required libraries\nimport numpy as np\nimport pandas as pd\nfrom pandas import DataFrame,Series\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline","00b56eb6":"#Filtering warnings out\nimport warnings\nwarnings.filterwarnings(\"ignore\")","87d52b7a":"#Setting values for plots\n#plt.rcParams['figure.figsize'] = (20,10)\nplt.style.use('ggplot')","7b99caae":"#import datasets\ndata = pd.read_csv('\/kaggle\/input\/summer-products-and-sales-in-ecommerce-wish\/summer-products-with-rating-and-performance_2020-08.csv')\ncat = pd.read_csv('\/kaggle\/input\/summer-products-and-sales-in-ecommerce-wish\/unique-categories.csv')\ncat_count = pd.read_csv('\/kaggle\/input\/summer-products-and-sales-in-ecommerce-wish\/unique-categories.sorted-by-count.csv')","df9c9bae":"data.info()","acc34c4e":"sns.kdeplot(data['price'],shade=True)\nsns.kdeplot(data['retail_price'],shade=True)\nplt.title('Price vs Retail Price')","0a16c426":"data['currency_buyer'].unique()","75b5b452":"sns.countplot('uses_ad_boosts',data=data)\nplt.title('Ad-boosts')","7e10de6c":"corr = data['uses_ad_boosts'].corr(data['units_sold'])\nprint(f'The Correlation coeff between Ad-Boost and Units-Sold is {np.round(corr,4)}')","01afee7a":"fig = sns.FacetGrid(data,hue='uses_ad_boosts',aspect=4)\n\nfig.map(sns.kdeplot,'units_sold',shade=True)\nmax_units = data['units_sold'].max()\nfig.set(xlim=(0,max_units))\nfig.add_legend()\nplt.title('Ad-boosts vs Sale')","8ca777aa":"rating_df = DataFrame(data[['rating', 'rating_count',\n       'rating_five_count', 'rating_four_count', 'rating_three_count',\n       'rating_two_count', 'rating_one_count','units_sold']])\nsns.heatmap(rating_df.corr(),cmap='CMRmap_r',annot=True)\nplt.title('Rating vs Sale')","0a1d3014":"badges_df = DataFrame(data[['badges_count',\n       'badge_local_product', 'badge_product_quality', 'badge_fast_shipping','units_sold']])\nsns.heatmap(badges_df.corr(),cmap='CMRmap_r',annot=True)\nplt.title('BAdges vs Sale')","bd9b657e":"\"\"\"Creating a DF of Color vs Total-Units Sold\"\"\"\ncolor = data[['product_color','units_sold']]\ncolor_df = DataFrame(color.groupby(['product_color']).sum().sort_values('units_sold',ascending=False))\ncolor_df.plot(kind='bar',figsize=(20,10))\nplt.title('Color vs Sale')","50c03e8b":"\"\"\"Creating a DF of Size vs Total-Units Sold\"\"\"\nsize = data[['product_variation_size_id','units_sold']]\nsize_df = DataFrame(size.groupby(['product_variation_size_id']).sum().sort_values('units_sold',ascending=False))\nsize_df.plot(kind='bar',cmap='plasma',figsize=(20,10))\nplt.title('Size vs Sale')","63e98d0c":"\"\"\"Label-Encoding the color and size\"\"\"\nfrom sklearn.preprocessing import LabelEncoder","b5fbdaec":"def encoder(value):\n    encode = LabelEncoder().fit(value)\n    return (encode.transform(value))\n\ncolor_df = color_df.reset_index()\nsize_df = size_df.reset_index()\n\ncolor_df['product_color'] = encoder(color_df['product_color'])\nsize_df['product_variation_size_id'] = encoder(size_df['product_variation_size_id'])","09454660":"print('The relation btw color and units sold:')\nprint(color_df.corr(),end='\\n\\n\\n')\nprint('The relation btw size and units sold:')\nprint(size_df.corr())","5ae201e5":"sns.lmplot('units_sold','product_variation_inventory',data=data)\nplt.title('Variation Inventory vs Sale')","b37e2027":"sns.lmplot('units_sold','inventory_total',data=data)\nplt.title('Total inventory vs Sale')","f1a21ab4":"ship = data.groupby('shipping_option_name')['shipping_option_name'].count()\nplt.pie(ship,radius=2)\nplt.legend(ship.index,loc=(-0.9,0.3))\nplt.title('Shipping Name???')","ca0c999c":"ship = data.groupby('shipping_is_express')['shipping_is_express'].count()\nlables = ship.index\nplt.pie(ship,labels=lables,colors=['brown','pink'])\nplt.legend(['0:No','1:Yes'])\nplt.title('Express Shipping???')","905f09e3":"sns.violinplot('shipping_option_price',data=data)\nplt.title('Shipping Price')","dbb21307":"ship_price = data[['shipping_option_price','units_sold']]\nsns.heatmap(ship_price.corr(),annot=True)\nplt.title('Shipping price vs Sale')","333374a6":"plt.rcParams['figure.figsize'] = (20,10)\ndata['countries_shipped_to'].plot(kind='hist',color='purple')\nplt.title(' # of Destination countries')","c2c1096e":"sns.scatterplot('countries_shipped_to','units_sold',data=data)\nplt.title('Destination Countries vs Sale')","fd4eb02b":"print('A negative correlation exists between units sold and countries shipped with a value')\nprint(data['countries_shipped_to'].corr(data['units_sold']))","c13c2c4f":"urgency = data[['has_urgency_banner', 'urgency_text','units_sold']]\nurgency = urgency.replace(np.nan,0)","f8b81931":"urgency['has_urgency_banner'].count() == urgency['urgency_text'].count()","3e2d6d39":"fig = sns.FacetGrid(urgency,hue='has_urgency_banner',aspect=4)\n\nfig.map(sns.kdeplot,'units_sold')\nx_max = urgency['units_sold'].max()\nfig.set( xlim = (0,x_max))\nfig.add_legend()\nplt.title('Urgency banner vs Sale')","28743671":"c = urgency['has_urgency_banner'].corr(urgency['units_sold'])\nprint(f'The correlation between the two is {c}')","2b68bdf5":"merchant = data[['origin_country', 'merchant_title', 'merchant_name',\n       'merchant_info_subtitle', 'merchant_rating_count', 'merchant_rating',\n       'merchant_id', 'merchant_has_profile_picture',\n       'merchant_profile_picture','units_sold']]","7ba0d290":"merchant.info()","385a2463":"sns.countplot('origin_country',data=merchant)\nplt.title('Origin Country')","b2572efd":"for i in ['merchant_name','merchant_info_subtitle']:\n    y = merchant[i].isna()\n    merchant[i] = y.apply(lambda x : 0 if x else 1)","7f9d67c9":"print('Correlation btw \"Merchant name\" and \"Units Sold:\"')\nprint(merchant['merchant_name'].corr(merchant['units_sold']),end='\\n\\n')\nprint('Correlation btw \"merchant_info_subtitle\" and \"Units Sold\":')\nprint(merchant['merchant_info_subtitle'].corr(merchant['units_sold']))","c5616dec":"sns.boxplot(merchant['merchant_rating_count'],color='yellow',showmeans=True)\nplt.title('# of Merchant ratings')","d55b1c99":"merchant['merchant_rating_count'].describe().astype(int)","6a1b161b":"mean = merchant['merchant_rating_count'].mean()\nmerchant['merchant_rating_count'] = merchant['merchant_rating_count'].apply(lambda x: mean if x>24564 else x)\nsns.boxplot(merchant['merchant_rating_count'],color='yellow',showmeans=True)\nfig = plt.gcf()\nfig.set_size_inches(10,5)\nplt.title('Rating Count')","56aad806":"sns.boxplot(merchant['merchant_rating'],color='green',showmeans=True)\nfig = plt.gcf()\nfig.set_size_inches(10,5)\nplt.title('Rating')","4f94f0d3":"df1 = merchant[['merchant_rating_count','merchant_rating','units_sold']]\nsns.heatmap(df1.corr(),annot=True)\nfig = plt.gcf()\nfig.set_size_inches(10,5)\nplt.title('Rating vs Sale')","a68d8fcc":"merchant['merchant_has_profile_picture'] = merchant['merchant_has_profile_picture'].apply(lambda x : 'yes' if x==1 else 'no')\nfig = sns.FacetGrid(merchant,hue='merchant_has_profile_picture',aspect=4)\n\nfig.map(sns.kdeplot,'units_sold')\nx_max = urgency['units_sold'].mean() # Considering the Mean sales level\nfig.set( xlim = (0,x_max))\nfig.add_legend()\nplt.title('Merchant Profile pic vs Sale')","578a3803":"Most products were sold upto 41 to 42 countries.","3906c3e5":"Total Badge count has a positive correlation with the Sale of Product. \nConsidering various types of badges, 'Local_product_badge' and 'Fast_shipping_badge' has negative correlation [interesting!!!!].\nProduct quality badge has positive relation and highest impact [expected!!].","e11e4922":"As seen above, both color and size are positively correlated to Units Sold. Seems like size has more impact than color.","114fc919":"Note that, for sale of units below 2000, merchant profile picture has no impact on sales. But after the threshold, profile pic affects the sales.\nThis might indicate that, people prefer goods more structred and formal merchants when they are buying in bulk.","3c732b4a":"### Product inventory available","7f9edc70":"### Merchant Details","8de69414":"The graph shows the distribution of Units-sold density on whether the ad-boost is given or not. Seems like there is no much anticipated effect on Product sale.","21eabb38":"As obvious a correlation exists in such a way that upto 20-40 number of countries_shipped_to, more units have been sold. But sale decreases with further increase of shipping countries.","20f5df71":"Mean rating lies almost at 4.5 for the products.","8901440c":"This may also implies that there is no much difference if you buy from the store or the website if the product price is less than 50.","a7990ade":"'Merchant_name','merchant_info_subtitle' and 'merchant_profile_picture' has nan values. Merchant_id seems to be mandatory to be mandatory.","d96f6ec2":"So, every urgency banner has an urgency text followed. Seems like it is mandatory to have a text.","70256b76":"Two deductions can be made with this heatmap.\n 1. Lower the rating, lower the number of units sold.\n 2. Whatever the rating is [5,4,3,2,1] higher the number of times a product is rated, more the number of product sale.\n\n***Important thing is Number of times a Product has been rated has WAY MORE IMPACT on product sale than rating itself.","bc6e5a4b":"Conclusion:\n    1. For price range less than 50, people prefer website than a retail store. Above 50, retail store is considered.\n    2. Interestingly, Ad-boosts have no effect on Sales.[might need to check facts!!]\n    3. Expected: High rating of product high the sale is. More the number of times a product is rated, more sale.\n    4. More number of badges [irrespective of type], more the sale. Quality badge is soo much important in comparison to others.\n    5. 80% of sale happens in 20% color and 6 sizes. [Design wisely!!!] \n    6. Inventory of above 30 units of Product variation shows a sales boost. And total inventory should be above 50 for safer sales.\n    7. Bulk of shipping is done by one company. More than 90% sales don't prefer an express shipping. Preferred shipping price is in range of 4.Shipping to 20-60 countires seems safe for a good sales.\n    8. No urgency banner, lower the sales. People prefer urgency banner!!\n    9. Most product's origin country is CN.\n    10.Both volume and quality of rating has positive impact on sales. Most sales happens at 2500 rating counts and average rating of 4.\n    11.For sale of units above 2000 people prefer a merchant profile picture. Don't worry about a picture if you a intending to sale below 2000.","0dbad0e2":"Negative value also shows that, absence of an urgency banner might negatively impact [even though very slightly] the units sold.","fd7ebeec":"Bulk of the sale originates from CN. CN seems to be the majority supplier of the products in website.","5d33cc13":"### Shipping","e35579e0":"The bulk of the shipping is done by A company - Livraison Standard. Hence, it can be concluded that, it will have no effect on the sales.","0e44ab78":"### Product Characteristics","ffbb0514":"Presence of 'Merchant name' and 'merchant_info_subtitle' has very little impact but positive impact on Sales.","0e301e3a":"### Badges","248c75b3":"How much correlated is the urgency banner to units sold?????","e3601831":"This is interesting!!! Product prices sold in retail ranes upto 300, while the price in the webiste range maximum upto little above 50.\nIt should also be noted that majority of products-sold , both in stores\/other places and the website, are priced between 0 to 30.[Discern the peak in both plots].","03ccfd63":"# Data Exploration","9c1cd90e":"The graph also implies that 80% of the sale happens in colors constituting 20% of avialable shades.","5da4d7c0":"### Pricing","a700c3bb":"### Currency","e94ad475":"We have 42 features linked to a product. Our goal is to identilfy the features which can significantly affect the product sale success.","be114ef6":"#### Size","343f51d8":"I am replacing all values above 24564 with mean value 26495.","d7b7b3a3":"Figure implies that both rating count and rating are positively and heavily correlated to sale of a product.","8b0f89e8":"It can conclude that, shipping price and units_sold are actually less correlated with a negative tendency.","6073bb00":"Interestingly, product sale take place substantially, whenever the inventory range is at 50 but no below.","e75606c9":"### Urgency","79acc44a":"Whether or Not a Urgency banner is present doesn't have much impact on Units sold. See, how the graph moves similar to both the options.","7e331f4a":"Let's check if an urgency banner always has a text.","70c0401b":"There a many outliers in the data. Let's do some cleaning. \nI am imputing mean values to the outliers.","1f714fc2":"### Ad-Boosts","e9a81978":"### Rating","fa2fb3b5":"Let's see the correlation between rating_count,rating and sale.","b428ce43":"Let's check if the color and size have any impact on units sold.","7ad40e98":"Likewise color, less than 10% of size variation are sold more.","dbc12ebc":"#### Color","ae6b947b":"There is a positive relation between units_sold and product-variation inventory. \nlmplot implies, above 30 units, the sale shows a positive trend.","6ba43fd3":"We can see a range of price, where it is most preferred.\nLet's look if any relation exists btw Shipping price and Units sold.","427be22d":"So, Ad-Boost has very least effect on Product sale. Which is absolutely un-expected!!!","72205e42":"Only EUR currency has been delt in the site. Hence, currency type, more or less, have no effect on Product Sales.","ec0719b5":"For ease of analysis, [except for 'origin_country','merchant_rating_count','merchant_rating'], I am focussing on whether the presence of value has an impact on Sale."}}