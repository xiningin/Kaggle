{"cell_type":{"e785e48b":"code","86bb860d":"code","ffa02ac3":"code","ee81b777":"code","faa3dd49":"code","cba0432e":"code","b9360eec":"code","e17cf8dc":"code","343c9d7d":"code","8c424577":"code","2176d66d":"code","33e1be74":"code","02f7fb0e":"code","b6499f78":"code","04a6a159":"code","e6c35ebc":"code","1bfc6890":"code","6b43f764":"code","dba8d4f7":"code","69aa0bee":"code","64accd1e":"code","35e366ac":"code","08f03509":"code","e2137e46":"markdown","111f769c":"markdown","43107e2f":"markdown","4c0b336d":"markdown","4961d9fe":"markdown","54082c90":"markdown","8b28a0ce":"markdown","645e4478":"markdown","741ff464":"markdown","43f98001":"markdown","eb4413c4":"markdown","ef0e4146":"markdown","237b6fd0":"markdown","6dc0972f":"markdown"},"source":{"e785e48b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","86bb860d":"df_climbing = pd.read_csv(\"\/kaggle\/input\/mount-rainier-weather-and-climbing-data\/climbing_statistics.csv\")\ndf_weather = pd.read_csv(\"\/kaggle\/input\/mount-rainier-weather-and-climbing-data\/Rainier_Weather.csv\")","ffa02ac3":"df_climbing.info()","ee81b777":"df_climbing.describe()","faa3dd49":"df_climbing.head(10)","cba0432e":"df_climbing[df_climbing[\"Date\"] == \"10\/3\/2015\"]","b9360eec":"# 2 for all succeeded\n# 1 for partial success\n# 0 no one succeed\n\ndf_climbing[\"all_group_climbed\"] = df_climbing[\"Succeeded\"].apply(lambda x: 2 if x > 0 else 0)\ndf_climbing.loc[ (df_climbing[\"Attempted\"] > 0) & (df_climbing[\"Succeeded\"] > 0) , \"all_group_climbed\"] = 1","e17cf8dc":"df_climbing[\"all_group_climbed\"].unique()","343c9d7d":"df_climbing[df_climbing[\"Succeeded\"] > df_climbing[\"Attempted\"]]","8c424577":"df_climbing[\"all_group_climbed\"].value_counts().plot(kind='bar')","2176d66d":"gb = df_climbing.groupby([\"Route\"]).sum().reset_index()\n\ngb = gb[[\"Route\",\"Attempted\",\"Succeeded\"]].melt(\"Route\", var_name=\"a\", value_name=\"b\")\ngb[\"b\"] = gb[\"b\"].apply(lambda x: 600 if x > 600 else x)\nax=sns.barplot(x='Route', y='b', hue='a', data=gb)\nax.set_xticklabels(ax.get_xticklabels(), rotation=90)\nprint(\"\")","33e1be74":"df_weather.info()","02f7fb0e":"df_weather.describe()","b6499f78":"df_weather.head()","04a6a159":"no_date_weather = df_weather[[\"Battery Voltage AVG\",\"Temperature AVG\",\"Relative Humidity AVG\",\"Wind Speed Daily AVG\",\"Wind Direction AVG\",\"Solare Radiation AVG\"]]\ng = sns.pairplot(no_date_weather)","e6c35ebc":"sns.heatmap(no_date_weather.corr())","1bfc6890":"df_climbing[\"Date and Route\"] = df_climbing[\"Date\"] + \"#\" + df_climbing[\"Route\"]","6b43f764":"# Doing some processing\nnew_df_climbing = df_climbing.groupby(\"Date and Route\").mean().reset_index()\nnew_df_climbing = new_df_climbing.drop(\"all_group_climbed\", axis=1)\nnew_df_climbing[\"Success Percentage\"] = new_df_climbing[\"Succeeded\"] \/ new_df_climbing[\"Attempted\"]","dba8d4f7":"# Split the Date and Route column into the individuals Date column and Route column\nnew = new_df_climbing[\"Date and Route\"].str.split(\"#\", n = 1, expand = True) \nnew_df_climbing[\"Date\"] = new[0]\nnew_df_climbing[\"Route\"] = new[1]\nnew_df_climbing = new_df_climbing.drop(\"Date and Route\", axis=1)","69aa0bee":"df = new_df_climbing.merge(df_weather, on=\"Date\", how=\"inner\")","64accd1e":"df.head()","35e366ac":"df.corr()[\"Success Percentage\"]","08f03509":"sns.heatmap(df.corr())","e2137e46":"<h1> Comparing climbing and weather data <\/h1>\n<ol>\n  <li>Explore the data<\/li>\n    <ol>\n        <li>Climbing<\/li>\n        <li>Weather<\/li>\n    <\/ol>\n  <li>Joining and analysing tables<\/li>\n<\/ol> ","111f769c":"There are a few repeated lines for the same combination of Date and Route, I believe it means that each observation represents a \"climbing group\". From this it can be concluded that in the same climbing group some can climb the mountain and some cannot. Let's take a look at the group distribution where all people succeeded, all failed, and all the others.","43107e2f":"<h3> 1A Explore climbing data <\/h3>","4c0b336d":"Groups where some people can climb the mountain are more common than groups where everyone fails.","4961d9fe":"Just a small note: I cut values larger than 600 for better viewing. But it's easy to see that some routes are much more used than others.","54082c90":"<h3> 1B Explore Weather data <\/h3>","8b28a0ce":"ok, so we have some. In that case we have to make a decision. I believe it is safer to assume that for some reason, there is no group that everybody has succeeded in than to assume that these rows above have some kind of error. I may be wrong, but well, it's a decision.","645e4478":"Variables present in this dataset\n<ul>\n    <li>Date: Day of the record<\/li>\n    <li>Route: The route used to climb the Mt Rainier<\/li>\n    <li>Attempted: Number of people who attempted the climb<\/li>\n    <li>Succeeded: Number of people who succeeded in reaching the summit<\/li>\n    <li>Success Percentage: The ratio success<\/li>\n<\/ul>\n\nEven if it is not explicitly stated, I'll consider that \"Attempted\" means people that have tried to climb the mountain, but failed to do so. Which means that <b>Attempted<\/b> and <b>Succeeded<\/b> add up to the total number of people that climbed the mountain.","741ff464":"<h3> Joining and analysing tables <\/h3>","43f98001":"Alright so far. Let's take a look at the correlation map and see if we can draw conclusions about which variables in the weather data are most related to the success rate.","eb4413c4":"This is my first notebook. Any comments \/ suggestions please leave then below :)","ef0e4146":"I'll merge all rows with the same combination of Date and Route in the climbing table.","237b6fd0":"Looks like there is no case where everybody in the group succeeded, could it mean that <b>Attempted<\/b> actually is the total of people that tried to climb the mountain? In that case, it should not be any observation with more Succeeded than Attempted. Let's check.","6dc0972f":"Taking a look a the relation between variables. Look's like the behavior of the variables is rather independent, with the exception of <b>Temperature AVG<\/b> and <b>Solare Radiation AVG<\/b>, that have a slight linear relation. That should be seen in the heatmap following."}}