{"cell_type":{"4488eb8e":"code","0a05408f":"code","e455933b":"code","50b224e3":"code","d4dc71b5":"code","d6f5f748":"code","fc315577":"code","0b467052":"code","2a73cb30":"code","64916c67":"code","64d2a2fb":"code","c4217401":"code","abfb8d50":"code","93d67ab1":"code","df4dc2f0":"code","39ab83bf":"code","208c2777":"code","44bd31e9":"code","e990b4c8":"code","cce9a7d6":"code","54ea369f":"code","1330a9db":"code","25898827":"code","0320bcc0":"code","ba50b5d8":"code","c89a4346":"code","475640cb":"code","3dc8410a":"code","cae34965":"code","82e80057":"code","1f45c06c":"code","29a33a83":"code","61b4fb07":"code","ca20f513":"code","1747c256":"code","d26b4903":"code","15b53d76":"code","d6a79125":"code","9be8f76c":"code","2ccb6977":"code","114747e5":"code","dc814564":"code","6fb8f9bc":"code","718c4071":"code","5939cd0d":"code","7b6371f2":"code","17b60ef3":"code","db45e979":"code","d3dd2c72":"code","54211a84":"markdown","078a63a6":"markdown","5b76897c":"markdown","f0382d12":"markdown","5ced8c06":"markdown","cb85ed3f":"markdown","d171c209":"markdown","a51428f3":"markdown","169c28d9":"markdown","5b7714fe":"markdown","8a0ffef8":"markdown","1db66eae":"markdown","aa2600eb":"markdown","0d2f3d35":"markdown","78c79f5d":"markdown","fca3f301":"markdown","55210bda":"markdown","645ca778":"markdown","f6e3bca9":"markdown","a5ad66c6":"markdown","1e856ca3":"markdown","2c393b82":"markdown","cb30ecb2":"markdown","b28b0754":"markdown","dbc469f7":"markdown","a35b6128":"markdown","e42b2e7b":"markdown","a7b7e769":"markdown","bfb383fe":"markdown","0ab1a86d":"markdown","325fa9be":"markdown","7834820b":"markdown","e777f37c":"markdown","37f4cffc":"markdown","660a7979":"markdown","981bfa8e":"markdown","7a15230d":"markdown","84c2a195":"markdown","a23592db":"markdown","97d4b409":"markdown","45352408":"markdown","5e8972e3":"markdown","f9928eb6":"markdown","708ac5af":"markdown","47c08641":"markdown","94ff77ad":"markdown","21693d5e":"markdown","8580c0be":"markdown","f8c40ecc":"markdown","3a6af4be":"markdown","498359c6":"markdown","0f1bd59a":"markdown","483d246b":"markdown","319b2e83":"markdown","8d72ba8f":"markdown","6782768e":"markdown","dea31bf6":"markdown"},"source":{"4488eb8e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","0a05408f":"import math\nimport seaborn as sns\nimport xgboost as xgb\nimport plotly.express as px\nfrom xgboost import XGBRegressor\nfrom matplotlib import pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.linear_model import LinearRegression, Ridge\nfrom sklearn.model_selection import train_test_split,GridSearchCV","e455933b":"#Reading the training file\ndf_train = pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/train.csv')\ndf_train.describe()","50b224e3":"df_train.head()","d4dc71b5":"for i in df_train.columns:\n    print( i+\" \\t: \" +str(df_train[i].isnull().sum()))","d6f5f748":"max_replacements = ['MSZoning','Utilities','Exterior1st','Exterior2nd','KitchenQual',\n                    'Functional','Electrical','SaleType']\n\nzero_replacements = ['BsmtFinSF1','BsmtFinSF2','BsmtUnfSF','TotalBsmtSF',\n                     'BsmtFullBath','BsmtHalfBath','GarageCars','GarageArea',\n                     'MasVnrArea']\n\nmedian_replacements=['LotFrontage']\n\nna_replacements = ['Alley','BsmtQual','BsmtCond','BsmtExposure','BsmtFinType1',\n                   'BsmtFinType2','FireplaceQu','GarageType','GarageFinish',\n                   'GarageQual','GarageCond','PoolQC','Fence','MiscFeature',\n                   'MasVnrType']\n\nmean_replacements = ['GarageYrBlt']","fc315577":"for i in max_replacements:\n    value = df_train[i].value_counts().idxmax()\n    df_train[i] = df_train[i].fillna(value)\n    \nfor i in median_replacements:\n    value = df_train[i].median()\n    df_train[i] = df_train[i].fillna(value)\n    \nfor i in na_replacements:\n    value = 'NA'\n    df_train[i] = df_train[i].fillna(value)\n    \nfor i in mean_replacements:\n    value = df_train[i].mean()\n    df_train[i] = df_train[i].fillna(value)\n\nfor i in zero_replacements:\n    value = 0\n    df_train[i] = df_train[i].fillna(value)","0b467052":"print('Total no. of null values now are : '+ str(df_train[i].isnull().sum().sum()))","2a73cb30":"list_cat = ['MSSubClass','MSZoning','Street','Alley', 'LotShape', 'LandContour',\n            'Utilities', 'LotConfig','LandSlope', 'Neighborhood','Condition1', \n            'Condition2','BldgType','HouseStyle', 'OverallQual','OverallCond',\n            'RoofStyle', 'RoofMatl', 'Exterior1st','Exterior2nd', 'MasVnrType',\n            'ExterQual','ExterCond', 'Foundation', 'BsmtQual','BsmtCond',\n            'BsmtExposure','BsmtFinType1','BsmtFinType2','Heating','HeatingQC', \n            'CentralAir', 'Electrical','BsmtFullBath','BsmtHalfBath','FullBath',\n            'HalfBath','BedroomAbvGr', 'KitchenAbvGr','KitchenQual',\n            'TotRmsAbvGrd','Functional','Fireplaces','FireplaceQu','GarageType',\n            'GarageFinish','GarageCars','GarageQual','GarageCond', 'PavedDrive',\n            'PoolQC','Fence','MiscFeature','SaleType','SaleCondition']\n\nlist_cont = ['LotFrontage', 'LotArea', 'YearBuilt', 'YearRemodAdd','MasVnrArea',\n             'BsmtFinSF1','BsmtFinSF2','BsmtUnfSF','TotalBsmtSF','1stFlrSF',\n             '2ndFlrSF', 'LowQualFinSF', 'GrLivArea','GarageYrBlt','GarageArea',\n             'WoodDeckSF', 'OpenPorchSF','EnclosedPorch', '3SsnPorch', \n             'ScreenPorch', 'PoolArea','MiscVal', 'MoSold', 'YrSold',]\n\nprint('No. of columns with categorical data values are : '+str(len(list_cat)))\n\nprint('No. of columns with continuous data values are : '+str(len(list_cont)))","64916c67":"df_train.head(10)","64d2a2fb":"column = 'Id'\nname = 'ID'\na= []\nfor i in df_train.index:\n    a.append(name +' : '+ str(df_train[column][i]))\ndf_train[column+'_visual'] = a","c4217401":"fig = px.box(data_frame = df_train.reset_index(),hover_name = 'Id_visual',\n             y = 'SalePrice',hover_data = ['MoSold', 'YrSold'],height = 500,\n             width = 400,labels = {'SalePrice':'Sale Price in \"$\"'},\n             title = 'Box plot of the sale price(Hover for details)')\nfig.show()","abfb8d50":"removed = 0\nthreshold = 450000\nfor i in df_train.index:\n    if df_train['SalePrice'][i]>threshold:\n        df_train = df_train.drop(i)\n        removed+=1\nprint('Total data points removed till now are: '+str(removed))","93d67ab1":"display_order = {}\nfor i in list_cat :\n    a = []\n    for j in df_train.groupby(i).mean().index:\n        a.append(j)\n    display_order[i] = a\ndisplay_order['Alley'] = ['Grvl','Pave','NA']\ndisplay_order['LandContour'] = ['Lvl','Bnk', 'HLS', 'Low']\ndisplay_order['LotConfig'] = ['Inside','Corner', 'CulDSac', 'FR2', 'FR3']\ndisplay_order['ExterQual'] = ['Ex', 'Gd', 'TA', 'Fa']\ndisplay_order['ExterCond'] = ['Ex','Gd', 'TA','Fa','Po']\ndisplay_order['BsmtQual'] = ['Ex', 'Gd', 'TA', 'Fa','NA']\ndisplay_order['BsmtCond'] = ['Gd', 'TA', 'Fa','Po','NA']\ndisplay_order['BsmtExposure'] = ['Gd','Av', 'Mn', 'No','NA']\ndisplay_order['BsmtFinType1'] = ['GLQ','ALQ', 'BLQ','Rec', 'LwQ', 'Unf','NA']\ndisplay_order['BsmtFinType2'] = ['GLQ','ALQ', 'BLQ','Rec', 'LwQ', 'Unf','NA']\ndisplay_order['HeatingQC'] = ['Ex','Gd', 'TA','Fa','Po']\ndisplay_order['Electrical'] = ['SBrkr','FuseA', 'FuseF', 'FuseP', 'Mix']\ndisplay_order['KitchenQual'] = ['Ex','Gd', 'TA','Fa']\ndisplay_order['Functional']=['Typ','Min1', 'Min2','Mod','Maj1', 'Maj2','Sev']\ndisplay_order['FireplaceQu'] = ['Ex','Gd', 'TA','Fa','Po','NA']\ndisplay_order['GarageQual'] =['Ex','Gd', 'TA','Fa','Po','NA']\ndisplay_order['GarageCond'] =['Ex','Gd', 'TA','Fa','Po','NA']\ndisplay_order['GarageFinish'] = ['Fin','RFn','Unf','NA']\ndisplay_order['PoolQC'] = ['Ex','Gd','Fa','NA']\ndisplay_order['Fence'] = ['GdPrv','MnPrv','GdWo', 'MnWw','NA']\ndisplay_order['SaleType'] = ['WD','CWD','New','COD','Con','ConLw','ConLI','ConLD','Oth']\ndisplay_order['SaleCondition'] = ['Normal','Abnorml','AdjLand','Alloca','Family',\n                                  'Partial']","df4dc2f0":"y = 'SalePrice'\nn = 3\ns= 20\nf,axes = plt.subplots(19,n,figsize = (s,6*s))\ncounter = 0\nfor i in list_cat:\n    sns.barplot(x = i , y = y , data  = df_train,order= display_order[i],\n                ax = axes[counter\/\/n][counter%n],saturation = 1)\n    counter+=1","39ab83bf":"z = 1.960 #using confidence level of 95% (for 99% use 3.291)\nx = 'Neighborhood'\ndf_temp = df_train.groupby(x).mean()\nconfidences = []\nsale_visual = []\ncount = []\nfor i in df_temp.index:\n    a = []\n    counter = 0\n    for j in df_train.index:\n        if df_train[x][j] == i:\n            a.append(df_train['SalePrice'][j]-df_temp['SalePrice'][i])\n            counter+=1\n    count.append(counter)\n    std = np.std(a)\n    confidence = std\/(math.sqrt(counter))\n    confidences.append((z*confidence)\/\/1)\n    sale_visual.append('Sale Price : ' + str(df_temp['SalePrice'][i]\/\/1))\ndf_temp ['Confidence'] = confidences\ndf_temp ['sale_visual'] = sale_visual\ndf_temp ['Total Count'] = count\ncount_per = []\nfor i in df_temp.index:\n    per = df_temp['Total Count'][i]\/np.sum(count)\n    per = (per*10000)\/\/1\n    per= per\/\/100\n    count_per.append(str(per)+'%')\ndf_temp['Count Percentage'] = count_per\n\nfig = px.bar(data_frame = df_temp.reset_index(),y='SalePrice', color = x ,\n             x = x,category_orders = display_order,error_y = 'Confidence',\n             hover_name = sale_visual,opacity= 1,\n             hover_data = ['Total Count','Count Percentage'],\n             labels = {y : 'Sale Price in \"$\"', 'Grvl':'Gravel','Pave':'Paved',\n                       'NA':'Not Paved'})\nfig.show()","208c2777":"#List of features on which to apply one hot encoding before applying regression:\nlist_pure_categorical = ['MSSubClass','MSZoning','LotShape','LandContour', 'LotConfig',\n                         'Neighborhood','Condition1', 'Condition2', 'BldgType',\n                         'HouseStyle','RoofStyle','RoofMatl','Exterior1st','Exterior2nd',\n                         'Foundation','Heating','GarageType','SaleType',\n                         'SaleCondition','MiscFeature','MasVnrType']\n\n#List of categorical features that we can directly apply regression on:\ncategorical_ordered = ['Street','Alley','Utilities','LandSlope','OverallQual',\n                       'OverallCond','ExterQual', 'ExterCond','BsmtQual','BsmtCond',\n                       'BsmtExposure','BsmtFinType1','BsmtFinType2','HeatingQC',\n                       'CentralAir','Electrical','KitchenQual','BsmtFullBath', \n                       'BsmtHalfBath', 'FullBath','HalfBath','BedroomAbvGr', \n                       'KitchenAbvGr','TotRmsAbvGrd','Functional','Fireplaces',\n                       'FireplaceQu','GarageFinish', 'GarageCars','GarageQual',\n                       'GarageCond', 'PavedDrive','PoolQC','Fence']\n\n#List of continuous variables:\nlist_continuous = ['LotFrontage', 'LotArea', 'YearBuilt', 'YearRemodAdd','MasVnrArea',\n                   'BsmtFinSF1','BsmtFinSF2','TotalBsmtSF','1stFlrSF','GarageYrBlt', \n                   'GarageArea','WoodDeckSF', 'OpenPorchSF','EnclosedPorch', \n                   '3SsnPorch', 'ScreenPorch', 'PoolArea','MiscVal','MoSold', 'YrSold',\n                   'LowQualFinSF', 'GrLivArea','2ndFlrSF']","44bd31e9":"for i in categorical_ordered:\n    a = []\n    for j in df_train.index:\n        for k in range(len(display_order[i])):\n            if df_train[i][j] ==display_order[i][k]:\n                a.append(k+1)\n    df_train[i] = a\ndf_train","e990b4c8":"n = 3\ns= 20\nf,axes = plt.subplots(3*n-1,n,figsize = (s,3*s))\ncounter = 0\nfor i in list_cont:\n    sns.boxplot( y = i,data  = df_train, ax = axes[counter\/\/n][counter%n])\n    counter+=1","cce9a7d6":"outlier ={'LotFrontage':150, 'LotArea':100000,'MasVnrArea':900,'BsmtFinSF1':2000,\n          'TotalBsmtSF':2500,'1stFlrSF':2500, 'GarageArea':1130,'WoodDeckSF':600, \n          'OpenPorchSF':310,'EnclosedPorch':310,'3SsnPorch':350,'MiscVal':6000,\n          'GrLivArea':3500, 'BsmtFullBath':2.5,'2ndFlrSF':1750}\nfor j in outlier:\n    for i in df_train.index:\n        if df_train[j][i]>outlier[j]:\n            df_train = df_train.drop(i)\n            removed+=1\n    #print(j + ' : '+ str(removed))\nfor i in df_train.index:\n    if df_train['YearBuilt'][i]<1880:\n        df_train = df_train.drop(i)\n        removed+=1\n#print('YearBuilt' + ' : '+ str(removed))\nprint('Total data points removed till now are: '+str(removed))","54ea369f":"y = 'SalePrice'\nn = 3\ns= 20\nf,axes = plt.subplots(8,n,figsize = (s,3*s),sharey=True)\ncounter = 0\nfor i in list_continuous:\n    sns.lineplot(x = i , y = y , data  = df_train, ax = axes[counter\/\/n][counter%n])\n    counter+=1","1330a9db":"corr  = df_train[categorical_ordered+list_continuous + ['SalePrice']].corr()\nlabel = {'x':\"Column\", 'y': 'Row', 'color':'Correlation'}\ncolumns =categorical_ordered+list_continuous + ['SalePrice']\n'''fig = px.imshow(img = corr, x = columns,y = columns,labels = label,\n                color_continuous_scale = [[0,'white'],[0.33,'yellow'],\n                                          [0.66,'red'],[1.0,'black']],\n                height = 1100,width = 1100,color_continuous_midpoint = 0,\n                title = 'Correlation matrix for continuous and ordered categorical data fields.')\nfig.show()'''","25898827":"columns = categorical_ordered+list_continuous + ['SalePrice']\nuseful = []\nfor i in columns:\n    if (corr[i]['SalePrice'])>=.15 or (corr[i]['SalePrice'])<=-.15:\n        useful.append(i)","0320bcc0":"useful_category = []\nfor j in list_pure_categorical:\n    for i in df_train.groupby(j).count().index:\n        s = j+str(i)\n        a=[]\n        for k in df_train.index:\n            if df_train[j][k]==i:\n                a.append(1)\n            else:\n                a.append(0)\n        df_train[s]=a\n        useful_category.append(s)\nlen (useful_category)","ba50b5d8":"corr  = df_train[useful_category + ['SalePrice']].corr()\nlabel = {'x':\"Column\", 'y': 'Row', 'color':'Correlation'}\ncolumns =useful_category + ['SalePrice']\n'''fig = px.imshow(img = corr, x = columns,y = columns,labels = label,\n                color_continuous_scale = [[0,'white'],[0.42,'yellow'],\n                                          [0.58,'red'],[1.0,'black']],\n                height = 1100,width = 1100,color_continuous_midpoint = 0,\n                title = 'Correlation matrix for one hot encoded categorical data fields.')\nfig.show()'''","c89a4346":"columns = useful_category + ['SalePrice']\nfinal_useful = []\nfor i in columns:\n    if (corr[i]['SalePrice'])>=.15 or (corr[i]['SalePrice'])<=-.15:\n        final_useful.append(i)","475640cb":"useful = useful+final_useful\nuseful","3dc8410a":"df_train_x = df_train[useful].drop(['SalePrice'],axis = 1)\ndf_train_x.describe()","cae34965":"df_train_y = df_train[['SalePrice']]\ndf_train_y.describe()","82e80057":"x_train,x_test,y_train,y_test = train_test_split(df_train_x, df_train_y,test_size=0.10,\n                                                 random_state=42)","1f45c06c":"poly = PolynomialFeatures(degree=2)\npoly_x_train = poly.fit_transform(x_train)\npoly_x_test = poly.fit_transform(x_test)","29a33a83":"xg = xgb.XGBRegressor(criterion = 'mse')\nparameters = {\"max_depth\": [1,2,3,4,5,6],\n              \"eta\": [0.01,0.03,0.05],\n              \"alpha\":[0],\n              'n_estimators': [100,500,800,1000,1200,1400]}","61b4fb07":"models = ['Normal Linear Regression: ','Linear Regression over polynomial: ',\n          'Normal XGBoost: ','XGBoost over polynomial: ']\npredict = []\nreg = LinearRegression().fit(x_train, y_train)\npre_reg = reg.predict(x_test)\n\nreg_poly = LinearRegression().fit(poly_x_train, y_train)\npre_reg_poly = reg_poly.predict(poly_x_test)\n\nxgb_reg = GridSearchCV(xg, parameters, cv=5, verbose=2,n_jobs = -1)\nxgb_reg.fit(x_train, y_train)\npre_xgb_reg = xgb_reg.predict(x_test)\n\npredict.append(pre_reg)\npredict.append(pre_reg_poly)\npredict.append(pre_xgb_reg)","ca20f513":"for prediction in range(len(predict)):\n    pre = []\n    for p in predict[prediction]:\n        if p < 0:\n            pre.append(0)\n        else:\n            pre.append(p)\n    print(models[prediction]+str(np.sqrt(mean_squared_error( y_test, pre ))))","1747c256":"print(xgb_reg.best_params_)","d26b4903":"predicted_train = xgb_reg.predict(df_train_x)\ndf_train['SalePricePredicted'] = predicted_train","15b53d76":"df_train['Residuals'] = (df_train['SalePrice'] - df_train['SalePricePredicted'])\/\/1\ndf_train['mod_Residuals'] = abs(df_train['Residuals'])","d6a79125":"dic_residuals = {'SalePricePredicted':'Value predicted by the model',\n                 'Residuals':'Residual value','mod_Residuals':'Divergence'}\nfig = px.scatter(data_frame = df_train,x = 'SalePricePredicted',y = 'Residuals',\n                 hover_name ='Id_visual',hover_data = ['SalePrice'],opacity = 1,\n                 trendline = 'ols',trendline_color_override = 'darkred',\n                 color= 'mod_Residuals',marginal_y ='box',labels = dic_residuals,\n                 marginal_x ='violin',\n                 title = 'Residual value plot when using Linear Regression (Hover for more details.)')\nfig.show()","9be8f76c":"df_test = pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/test.csv')\ndf_test.describe()","2ccb6977":"for i in df_test.columns:\n    print( i+\" \\t: \" +str(df_test[i].isnull().sum()))","114747e5":"for i in max_replacements:\n    value = df_test[i].value_counts().idxmax()\n    df_test[i] = df_test[i].fillna(value)\n    \nfor i in median_replacements:\n    value = df_test[i].median()\n    df_test[i] = df_test[i].fillna(value)\n    \nfor i in na_replacements:\n    value = 'NA'\n    df_test[i] = df_test[i].fillna(value)\n    \nfor i in mean_replacements:\n    value = df_test[i].mean()\n    df_test[i] = df_test[i].fillna(value)\n    \nfor i in zero_replacements:\n    value = 0\n    df_test[i] = df_test[i].fillna(value)","dc814564":"print('Total no. of null values now are : '+ str(df_test[i].isnull().sum().sum()))","6fb8f9bc":"useful_category = []\nfor j in list_pure_categorical:\n    for i in df_train.groupby(j).count().index:\n        s = j+str(i)\n        a=[]\n        for k in df_test.index:\n            if df_test[j][k]==i:\n                a.append(1)\n            else:\n                a.append(0)\n        df_test[s]=a\n        useful_category.append(s)\nlen (useful_category)","718c4071":"encode_list = ['Street','Alley','Utilities','LandSlope','ExterQual','ExterCond',\n               'BsmtQual','BsmtCond','BsmtExposure','BsmtFinType1','BsmtFinType2',\n               'HeatingQC','CentralAir','Electrical','KitchenQual','Functional',\n               'FireplaceQu','GarageFinish','GarageQual','GarageCond','PavedDrive',\n               'PoolQC','Fence']","5939cd0d":"for i in encode_list:\n    a = []\n    for j in df_test.index:\n        for k in range(len(display_order[i])):\n            if df_test[i][j] == display_order[i][k]:\n                a.append(k+1)\n    df_test[i] = a","7b6371f2":"useful1 = []\nfor i in useful:\n    if i != 'SalePrice':\n        useful1.append(i)","17b60ef3":"pre = xgb_reg.predict(df_test[useful1])\ndf_test ['SalePrice'] = pre","db45e979":"df_test.describe()","d3dd2c72":"df_test[['Id','SalePrice']].to_csv('submission.csv',index=False)","54211a84":"## Splitting data into train test sets","078a63a6":"# Data Preprocessing:","5b76897c":"Since the distribution of points is mainly randomly around the trendline, Therefore the XGBoost Regression machine learning model is appropriate on this data set.","f0382d12":"### Verifying if all null values are removed. ","5ced8c06":"## Plotting a correlational matrix for all purely categorical fields.","cb85ed3f":"# Importing important libraries","d171c209":"## Exporting output to csv","a51428f3":"### Checking for null values ","169c28d9":"## Processing of test set","5b7714fe":"### Defining what to replace with.","8a0ffef8":"As we can see all the ordered categorical data fields in the data set have been converted into numbers. ","1db66eae":"### Converting ordered categorical fields to numbers","aa2600eb":"### Plotting the correlational matrix.","0d2f3d35":"Here in order to make the machine learning model, I have taken the threshold to be 0.15. Thus we will take any columns that have a correlation of greater than 0.15 and discard the rest.","78c79f5d":"### Box Plot of the sale price over the whole dataset.","fca3f301":"### Converting ordered categorical fields to numbers","55210bda":"## Using polynomial on the dataset","645ca778":"### One hot encoding of all purely categorical columns ","f6e3bca9":"# Prepaing training and testing sets","a5ad66c6":"Max: It is for all the categorical data where we are replacing the null with most common occuring data in that column.\n\nZero: We are replacing by zero because the value of all fields related to basement and garage have similar null counts which indicates that it is plausibe that in these houses there is no basement\/garage so we should replace it by zero.\n\nMedian: It is for all the rest of the fields where the data is numeric and has some sort of order to it but also is either categorical or has some outliers.(Although we could have used mean here, the mean is affected by alot by outliers (For decinding this, the box plots have been drawn later.))\n\nNA: It is for those data fields where NA is a separate category as mentioned in the data_description file and hence we have to consider it as an individual field.\n\nMean: It is for numeric fields that do not have many outliers. \n\nP.S: We have only defined replacements for the fields with missing values in either test or train sets.","1e856ca3":"# Data Visualisation and removing of outliers: ","2c393b82":"In order to view the detailed plot of any just replace x with the column of choice in the line 2 of box below.","cb30ecb2":"# Predicting output over the testset.","b28b0754":"### Removal of null values ","dbc469f7":"## Sale Price","a35b6128":"### Bar Plot of all categorical data fields","e42b2e7b":"# Machine Learning model","a7b7e769":"## Line Plots for all continuous data fields ","bfb383fe":"## Categorical data fields:","0ab1a86d":"As we can see there are a lot of null values so we need to replace these null values.","325fa9be":"## Separating categorical and continuous data fields","7834820b":"### Removing of outliers in Sale Price","e777f37c":"## Trying different models to see which one works best for the given data. ","37f4cffc":"## Continuous data fields","660a7979":"## Checking and removal of null values","981bfa8e":"Since we  do not want to remove too many data ponts, we will keep a track of how many data points have been removed up till any step.","7a15230d":"## Predicting over test set","84c2a195":"### One hot encoding of all purely categorical data columns","a23592db":"## Reading test file","97d4b409":"List_cate: It is the list of all the categorical data fields in the dataset.\n\nList_cont: It is the list of all the continuous data fields in the dataset.(except SalePrice)","45352408":"### Box plot of all continuous data fields","5e8972e3":"Since non-numerical categorical data in a dataset will be displayed in an alphabetical order in the graphs, we need to provide a dictionary with orders in order to override the default order.","f9928eb6":"Here in order to make the machine learning model, I have taken the threshold to be 0.15. Thus we will take any columns that have a correlation of greater than 0.15 and discard the rest.","708ac5af":"## 1. Training set","47c08641":"**If you like my notebook, please upvote my work!**\n\n**If you use parts of this notebook in your scripts\/notebooks, giving some kind of credit for instance link back to this notebook would be very much appreciated. Thanks in advance!** :) \n\n**P.S:**\n1. The scripts in lines 22 and 25 show errors when run on kaggle(And have therefore been commented) but will run perfectly fine after downloading and running the script on local machine.\n\n2. Please make sure that you have plotly installed on your local machine.\n\nLastly if anyone knows how to fix the above problem please let me know. Thankyou! :)\nHope you like my work!\n","94ff77ad":"## Plotting a correlation matrix for all ordered categorical and continuous data fields vs Sale Price.","21693d5e":"As we can see from the box plot there are a lot of outliers so we set a threshold for the price. Here I have taken it to be $450000","8580c0be":"## Plotting the residual plot for the model","f8c40ecc":"## 2. Testing set","3a6af4be":"## Checking and removal for null values","498359c6":"list_pure_categorical: This is the list of data fields which do not have any linear pattern and thus we cannot apply regression on these varibles directly in any manner and therefore these variables will go under one hot encoding.\n\ncategorical_ordered: It is the list of categorical data fields which have some king of order to it and therefore we can directly apply regression on them by converting these into numbers and do not need to apply one hot encoding on these.\n\nlist_continuous: It is the list of continuous data fields in the dataset.(except SalePrice)","0f1bd59a":"### Removing outliers from continuous data fields","483d246b":"# Loading the training dataset","319b2e83":"In this we have added an extra visual column for the box plot.","8d72ba8f":"As we can see that the XGBoost model works best in this therefore we use the XGBoost model.","6782768e":"## Retraining the model over the whole dataset. ","dea31bf6":"### Applying the replacements. "}}