{"cell_type":{"eb2eed7f":"code","00e4322b":"code","870e7f24":"code","4fb87e24":"code","4afa9fa3":"code","7012d782":"code","c66c1b1e":"code","10632bc4":"code","c567f0f3":"code","698aa9b8":"code","a6578230":"code","161b44dc":"code","8f0ecd28":"code","f8ceca4b":"code","b503a36a":"code","400d3a85":"code","5447bae1":"code","1f3e0aa8":"code","e00d0d1f":"code","18d14454":"code","3c7e1838":"code","5dcd1753":"markdown","e3d4ae94":"markdown","b127e637":"markdown","0e98e275":"markdown","67cb6ff8":"markdown","0703f97a":"markdown","3858606b":"markdown","48bcab0f":"markdown","3f97886b":"markdown","26233f3c":"markdown","9695fea6":"markdown","04302653":"markdown"},"source":{"eb2eed7f":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","00e4322b":"df = pd.read_csv('..\/input\/real-estate-price-prediction\/Real estate.csv')","870e7f24":"df.shape","4fb87e24":"df.head()","4afa9fa3":"df.info()","7012d782":"sns.displot(df['Y house price of unit area'], kde=True, aspect=2, color='purple')\nplt.show()","c66c1b1e":"fig, axes= plt.subplots(nrows=3, ncols=2, figsize=(15,15))\nfig.subplots_adjust(wspace=0.3, hspace=0.3)\n\nfor i in range(1, df.shape[1]-1):\n    axes[(i-1)\/\/2, (i+1)%2].set_title(f'chart {i}').set_size(20)\n    sns.scatterplot(data=df, x=df.iloc[:, i], y='Y house price of unit area', ax=axes[(i-1)\/\/2, (i+1)%2])","10632bc4":"fig = plt.figure(figsize=(10,5))\nsns.heatmap(df.iloc[:, 1:].corr(), annot=True, cmap='Greens')","c567f0f3":"X = df.drop(['Y house price of unit area', 'No'],axis=1)\ny = df['Y house price of unit area']","698aa9b8":"from sklearn.model_selection import train_test_split","a6578230":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=42)","161b44dc":"from sklearn.linear_model import LinearRegression","8f0ecd28":"model = LinearRegression()","f8ceca4b":"model.fit(X_train, y_train)","b503a36a":"pd.DataFrame(model.coef_, X.columns, columns=['Coeficient'])","400d3a85":"y_pred=model.predict(X_test)","5447bae1":"print(f'mean of house price is {df[\"Y house price of unit area\"].mean()}')\n\nfrom sklearn import metrics\n\nMAE= metrics.mean_absolute_error(y_test, y_pred)\nMSE= metrics.mean_squared_error(y_test, y_pred)\nRMSE=np.sqrt(MSE)\n\npd.DataFrame([MAE, MSE, RMSE], index=['MAE', 'MSE', 'RMSE'], columns=['Metrics'])","1f3e0aa8":"fig = plt.figure(figsize=(5,5))\nplt.scatter(y_test, y_pred)\nplt.xlabel('Y-Test')\nplt.ylabel('Y-Pred')","e00d0d1f":"test_residuals = y_test - y_pred","18d14454":"sns.scatterplot(x=y_test, y=test_residuals)\nplt.axhline(y=0, color='r', ls='--')","3c7e1838":"sns.displot(test_residuals, bins=25, kde=True, aspect=2, color='purple')","5dcd1753":"#### this chart shows us the coefficient of each parameters and the size of the their effect on house price.","e3d4ae94":"# Create and train the model:","b127e637":"## correlation: \n#### to check the correlation of parameters and house price, i displayed the 6 scatter plots to see is there any correlation or not.\n* chart 1: we cannot see the impressive correlation between transaction date and house price\n* chart 2:there is small negative correlation between house age and house price\n* chart 3: as you can see there is a negative corrolation between distance to the nearest MRT station and house price. this means if the 'distance to the nearest MRT station' become more, the house price become less.\n* chart 4: there is a positive correlation. it means for more number of convenience stores, the house price become more.\n* chart 5 and 6: for these charts, there is a positive correlation.","0e98e275":"# Split the dataset to train & test:\n#### for split the data to train and test, i used 'sklearn' library.","67cb6ff8":"#### as you can see, this below chart shows us the distribution of 'house price of unit area'. based on this chart, mean of 'house price of unit area' is about 40. the maximum of price is about 120.","0703f97a":"# Predict the house price:\n#### now we can predict the house price with model.","3858606b":"### What are good RMSE values?\n*  it is important to recall that RMSE has the same unit as the dependent variable (DV). It means that there is no absolute good or bad threshold, however you can define it based on your DV. For a datum which ranges from 0 to 1000, an RMSE of 0.7 is small, but if the range goes from 0 to 1, it is not that small anymore. However, although the smaller the RMSE, the better, you can make theoretical claims on levels of the RMSE by knowing what is expected from your DV in your field of research. Keep in mind that you can always normalize the RMSE.\n\n### How to compare models with different datasets using RMSE?\n* comparing two models with different datasets by using RMSE, you may do that provided that the DV is the same in both models. Here, the smaller the better but remember that small differences between those RMSE may not be relevant or even significant.","48bcab0f":"# Linear regression:\n* in this notebook i used linear regression to make a model and predict the price of house based on each parameters house.\n* the librarys that i used are numpy and pandas for work with data, matplotlib and seaborn to visualize the data, and scikit-learn for make a model. for more information about scikit-learn, you can checkout the [scikit-learn  web site](https:\/\/scikit-learn.org\/stable\/modules\/linear_model.html).","3f97886b":"# Exploratory data analysis:","26233f3c":"# The data set:\n#### dataset that i worked on, is about house prices based on these 6 parameters:\n    * 1-transaction date\n    * 2-house age\n    * 3-distance to the nearest MRT station\n    * 4-number of convenience stores\n    * 5-latitude\n    * 6-longitude\n#### in this notebook i tried to make a model that can predict the 'house price of unit area' based on these parameters.","9695fea6":"#### to better understand  the correlations you, can see the last row of this chart. as mentioned, 'house age' and 'distance to the nearest MRT station' have negative correlation with house price. but the 'number of convenience store' and 'geographical location' have positive correlation with house price.\n#### Note: Green is shown for positive correlation and white for negative correlation.","04302653":"# Evalutaing the model:\n#### in this part we will evaluate the model with MAE, MSE and RMSE.\n* Mean Absolute Error (MAE): MAE measures the average magnitude of the errors in a set of predictions, without considering their direction. It\u2019s the average over the test sample of the absolute differences between prediction and actual observation where all individual differences have equal weight.\n![title](https:\/\/miro.medium.com\/max\/591\/1*OVlFLnMwHDx08PHzqlBDag.gif)\n\n* Mean squared error (MSE): To calculate the MSE, you take the difference between your model\u2019s predictions and the ground truth, square it, and average it out across the whole dataset.\n\n![title](https:\/\/miro.medium.com\/max\/884\/1*-e1QGatrODWpJkEwqP4Jyg.png)\n\n* Root mean squared error (RMSE): RMSE is a quadratic scoring rule that also measures the average magnitude of the error. It\u2019s the square root of the average of squared differences between prediction and actual observation.\n\n![title](https:\/\/miro.medium.com\/max\/613\/1*9hQVcasuwx5ddq_s3MFCyw.gif)"}}