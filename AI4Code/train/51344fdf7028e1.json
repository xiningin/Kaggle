{"cell_type":{"3b21c8e3":"code","8e0462e0":"code","5717b4e0":"code","805361ff":"code","7ab1e2d1":"code","c44799f4":"code","9ae84e3d":"code","30e9f245":"code","2cc81257":"code","4bc8aa44":"code","377c4b12":"code","ebf5ce06":"code","f86c3d49":"code","6b41d9ad":"code","5eca00ce":"code","b0a439ad":"code","02c9889a":"code","b0089689":"code","c21faa61":"code","d95de08c":"code","e66dd4bb":"code","cded01b1":"code","26348051":"code","2f55e286":"code","fa4e14ef":"code","688e53d4":"code","9caff6e4":"code","6b4ba9f9":"code","4ffb2fab":"code","ded939b8":"code","b5c4fb43":"code","53675065":"code","c5b341a0":"code","c1bb1f76":"code","1807a65a":"code","beb8c5a6":"code","96a73e61":"code","926f4512":"code","44d53429":"code","2a317861":"code","2e8f57d9":"code","49370ee9":"code","56e8422b":"code","b9c58857":"code","6c114f29":"code","cede3cda":"code","1fddea20":"code","e8caa416":"code","5037cf62":"code","bbea43f9":"code","20e2acd6":"code","0ede1ce8":"code","252a4e38":"code","f15f3f73":"code","16616c00":"code","4d039d40":"code","981e65bd":"code","687934de":"code","dba8a383":"code","8b00f409":"code","99ad2b51":"code","e4ffd436":"markdown","34dfcf63":"markdown","a80d589c":"markdown","1487bc7c":"markdown","41913ffd":"markdown","5b97d8a7":"markdown","94c3de06":"markdown","c279034b":"markdown","b66244a0":"markdown","ab313e0f":"markdown","223dcb82":"markdown","e67224a7":"markdown","fca74684":"markdown","2b452b44":"markdown","a3da6754":"markdown","1cf73fbf":"markdown","b1c4dea1":"markdown","699b0d4c":"markdown","2ed7d24a":"markdown","f08502c2":"markdown","7db2ff32":"markdown","3b7a13f0":"markdown","46828428":"markdown","28f9e2af":"markdown","02967e78":"markdown","bfa20371":"markdown","74b4c29c":"markdown","109fb83e":"markdown","841ffdbb":"markdown","a20e88cb":"markdown","7fe284f7":"markdown","45b8ece6":"markdown","f2957f0d":"markdown","d2aa59a4":"markdown","e43b16bc":"markdown","37743594":"markdown","c86ff113":"markdown","86f69f47":"markdown","cf911f75":"markdown","bdbc06c0":"markdown"},"source":{"3b21c8e3":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt","8e0462e0":"# creating the dataframes to work with\n\ncounties = pd.read_csv('..\/input\/covid19-preexisting-conditions\/abridged_couties.csv')\nconfirmed = pd.read_csv('..\/input\/covid19-preexisting-conditions\/time_series_covid19_confirmed_US.csv')\ndeaths = pd.read_csv('..\/input\/covid19-preexisting-conditions\/time_series_covid19_deaths_US.csv')\nstates_april = pd.read_csv('..\/input\/covid19\/4.18states.csv')","5717b4e0":"#cleaning data sets\nstates_april = states_april[['Province_State', 'Confirmed', 'Deaths', 'Active','People_Tested']]\nstates_april = states_april.fillna(0)\nstates_april.head()","805361ff":"counties = counties[['CountyName', 'State', 'PopulationEstimate2018', 'DiabetesPercentage', 'HeartDiseaseMortality', 'StrokeMortality', 'Smokers_Percentage']]\ncounties = counties[counties[\"State\"].isnull() == False]\ncounties = counties.fillna(0)\ncounties.head()","7ab1e2d1":"#Cleaning confirmed dataframe and grouping by state\n\nconfirmed = confirmed.dropna()\nconfirmed = confirmed.groupby(by=\"Province_State\", as_index=False).mean()\nconfirmed = confirmed.drop(columns={\"UID\", \"code3\", \"FIPS\", \"Lat\", \"Long_\"})\nconfirmed.head()","c44799f4":"#Cleaning deaths dataframe and grouping by state\n\ndeaths = deaths.dropna()\ndeaths = deaths.groupby(by=\"Province_State\", as_index=False).mean()\ndeaths = deaths.drop(columns={\"UID\", \"code3\", \"FIPS\", \"Lat\", \"Long_\"})\ndeaths.head()","9ae84e3d":"#Finding the death rates and positive rates for each state in the US\n\nexplore = counties[[\"CountyName\", \"State\"]]\nexplore = explore.dropna()\nexplore = explore.groupby(by=\"State\", as_index=False).count()\nexplore = explore.merge(states_april, left_on='State', right_on='Province_State')\nexplore = explore[[\"State\", \"Confirmed\", \"Deaths\", \"People_Tested\"]]\nexplore[\"Death_Rate\"] = (explore[\"Deaths\"] \/ explore[\"Confirmed\"]) * 100\nexplore[\"Positive_Rate\"] = (explore[\"Confirmed\"] \/ explore[\"People_Tested\"]) * 100\nexplore = explore.drop(columns=[\"Confirmed\", \"Deaths\", \"People_Tested\"])\nexplore.head()","30e9f245":"#Let's visualize the death and positive rates according to states\n\nimport plotly.express as px\n\nfig = px.scatter(explore, x=\"Death_Rate\", y=\"Positive_Rate\", text=explore[\"State\"])\n\nfig.update_traces(textposition='top center')\n\nfig.update_layout(height=800, title_text='US States and Death\/Positive Rates')\n\nfig.show()","2cc81257":"highest_death_rate = max(explore[\"Death_Rate\"])\nhighest_death_rate_state = explore[\"State\"][explore[\"State\"].index == np.argmax(explore[\"Death_Rate\"])].to_list()\nprint(\"The highest Death Rate is\", highest_death_rate, \"in the state of\", *highest_death_rate_state)","4bc8aa44":"lowest_death_rate = min(explore[\"Death_Rate\"])\nlowest_death_rate_state = explore[\"State\"][explore[\"State\"].index == np.argmin(explore[\"Death_Rate\"])].to_list()\nprint(\"The lowest Death Rate is\", lowest_death_rate, \"in the state of\", *lowest_death_rate_state)","377c4b12":"highest_positive_rate = max(explore[\"Positive_Rate\"])\nhighest_positive_rate_state = explore[\"State\"][explore[\"State\"].index == np.argmax(explore[\"Positive_Rate\"])].to_list()\nprint(\"The highest Positive Test Rate is\", highest_positive_rate, \"in the state of\", *highest_positive_rate_state)","ebf5ce06":"lowest_positive_rate = min(explore[\"Positive_Rate\"])\nlowest_positive_rate_state = explore[\"State\"][explore[\"State\"].index == np.argmin(explore[\"Positive_Rate\"])].to_list()\nprint(\"The lowest Positive Test Rate is\", lowest_positive_rate, \"in the state of\", *lowest_positive_rate_state)","f86c3d49":"impact_smoking = counties[[\"CountyName\", \"State\", \"Smokers_Percentage\"]]\nimpact_smoking = impact_smoking.dropna()\nimpact_smoking = impact_smoking[impact_smoking[\"Smokers_Percentage\"] > 0]\nimpact_smoking.sort_values(by=[\"Smokers_Percentage\"], ascending=False).head()","6b41d9ad":"#We are grouping by state because the county data is not available in the other spreadsheet\n\nimpact_smoking = impact_smoking.groupby(by=\"State\", as_index=False).mean()\nimpact_smoking.sort_values(by=[\"Smokers_Percentage\"], ascending=False).head()","5eca00ce":"impact_smoking = impact_smoking.merge(states_april, left_on='State', right_on='Province_State')\nimpact_smoking = impact_smoking[[\"State\", \"Smokers_Percentage\", \"Confirmed\", \"Deaths\", \"People_Tested\"]]\nimpact_smoking[\"Death_Rate\"] = (impact_smoking[\"Deaths\"] \/ impact_smoking[\"Confirmed\"]) * 100\nimpact_smoking[\"Positive_Rate\"] = (impact_smoking[\"Confirmed\"] \/ impact_smoking[\"People_Tested\"]) * 100\nimpact_smoking = impact_smoking.drop(columns=[\"Confirmed\", \"Deaths\", \"People_Tested\"])\nimpact_smoking.sort_values(by=[\"Smokers_Percentage\"], ascending=False).head()","b0a439ad":"#Finding correlation between state's smoking percentage vs their death rate\n\nsmoking_correlation_death = impact_smoking[\"Smokers_Percentage\"].corr(impact_smoking[\"Death_Rate\"])\nprint(\"The correlation is\", smoking_correlation_death)","02c9889a":"plt.scatter(impact_smoking[\"Smokers_Percentage\"], impact_smoking[\"Death_Rate\"])\nplt.xlabel('Smokers Percentage')\nplt.ylabel('Death Rate')\nplt.show()","b0089689":"#Finding correlation between state's smoking percentage vs their positive rate\n\nsmoking_correlation_positve = impact_smoking[\"Smokers_Percentage\"].corr(impact_smoking[\"Positive_Rate\"])\nprint(\"The correlation is\", smoking_correlation_positve)","c21faa61":"plt.scatter(impact_smoking[\"Smokers_Percentage\"], impact_smoking[\"Positive_Rate\"])\nplt.xlabel('Smokers Percentage')\nplt.ylabel('Positive Rate')\nplt.show()","d95de08c":"impact_diabetes = counties[[\"CountyName\", \"State\", \"DiabetesPercentage\"]]\nimpact_diabetes = impact_diabetes.dropna()\nimpact_diabetes = impact_diabetes[impact_diabetes[\"DiabetesPercentage\"] > 0]\nimpact_diabetes.sort_values(by=[\"DiabetesPercentage\"], ascending=False).head()","e66dd4bb":"#We are grouping by state because the county data is not available in the other spreadsheet\n#Observe the sharp decrease in % when doing this; Tippah County of MS is 33% but the entire state averages to be <15%\n\nimpact_diabetes = impact_diabetes.groupby(by=\"State\", as_index=False).mean()\nimpact_diabetes.sort_values(by=[\"DiabetesPercentage\"], ascending=False).head()","cded01b1":"impact_diabetes = impact_diabetes.merge(states_april, left_on='State', right_on='Province_State')\nimpact_diabetes = impact_diabetes[[\"State\", \"DiabetesPercentage\", \"Confirmed\", \"Deaths\", \"People_Tested\"]]\nimpact_diabetes[\"Death_Rate\"] = (impact_diabetes[\"Deaths\"] \/ impact_diabetes[\"Confirmed\"]) * 100\nimpact_diabetes[\"Positive_Rate\"] = (impact_diabetes[\"Confirmed\"] \/ impact_diabetes[\"People_Tested\"]) * 100\nimpact_diabetes = impact_diabetes.drop(columns=[\"Confirmed\", \"Deaths\", \"People_Tested\"])\nimpact_diabetes.sort_values(by=[\"DiabetesPercentage\"], ascending=False).head()","26348051":"#Finding correlation between state's diabetes percentage vs their death rate\n\ndiabetes_correlation_death = impact_diabetes[\"DiabetesPercentage\"].corr(impact_diabetes[\"Death_Rate\"])\nprint(\"The correlation is:\", diabetes_correlation_death)","2f55e286":"plt.scatter(impact_diabetes[\"DiabetesPercentage\"], impact_diabetes[\"Death_Rate\"])\nplt.xlabel('Diabetes Percentage')\nplt.ylabel('Death Rate')\nplt.show()","fa4e14ef":"#Finding correlation between state's diabetes percentage vs their positive rate\n\nsmoking_correlation_positve = impact_diabetes[\"DiabetesPercentage\"].corr(impact_diabetes[\"Positive_Rate\"])\nprint(\"The correlation is:\", smoking_correlation_positve)","688e53d4":"plt.scatter(impact_diabetes[\"DiabetesPercentage\"], impact_diabetes[\"Positive_Rate\"])\nplt.xlabel('Diabetes Percentage')\nplt.ylabel('Positive Rate')\nplt.show()","9caff6e4":"impact_heart = counties[[\"CountyName\", \"State\", \"HeartDiseaseMortality\"]]\nimpact_heart = impact_heart.dropna()\nimpact_heart = impact_heart[impact_heart[\"HeartDiseaseMortality\"] > 0]\nimpact_heart.sort_values(by=[\"HeartDiseaseMortality\"], ascending=False).head()","6b4ba9f9":"#We are grouping by state because the county data is not available in the other spreadsheet\n\nimpact_heart = impact_heart.groupby(by=\"State\", as_index=False).mean()\nimpact_heart.sort_values(by=[\"HeartDiseaseMortality\"], ascending=False).head()","4ffb2fab":"impact_heart = impact_heart.merge(states_april, left_on='State', right_on='Province_State')\nimpact_heart = impact_heart[[\"State\", \"HeartDiseaseMortality\", \"Confirmed\", \"Deaths\", \"People_Tested\"]]\nimpact_heart[\"Death_Rate\"] = (impact_heart[\"Deaths\"] \/ impact_heart[\"Confirmed\"]) * 100\nimpact_heart[\"Positive_Rate\"] = (impact_heart[\"Confirmed\"] \/ impact_heart[\"People_Tested\"]) * 100\nimpact_heart = impact_heart.drop(columns=[\"Confirmed\", \"Deaths\", \"People_Tested\"])\nimpact_heart.sort_values(by=[\"HeartDiseaseMortality\"], ascending=False).head()","ded939b8":"#Finding correlation between state's heart disease mortality vs their death rate\n\nheart_correlation_death = impact_heart[\"HeartDiseaseMortality\"].corr(impact_heart[\"Death_Rate\"])\nprint(\"The correlation is:\", heart_correlation_death)","b5c4fb43":"plt.scatter(impact_heart[\"HeartDiseaseMortality\"], impact_heart[\"Death_Rate\"])\nplt.xlabel('Heart Disease Mortality')\nplt.ylabel('Death Rate')\nplt.show()","53675065":"#Finding correlation between state's heart rate mortality vs their positive rate\n\nheart_correlation_positve = impact_heart[\"HeartDiseaseMortality\"].corr(impact_heart[\"Positive_Rate\"])\nprint(\"The correlation is:\", heart_correlation_positve)","c5b341a0":"plt.scatter(impact_heart[\"HeartDiseaseMortality\"], impact_heart[\"Positive_Rate\"])\nplt.xlabel('Heart Disease Mortality')\nplt.ylabel('Positive Rate')\nplt.show()","c1bb1f76":"impact_stroke = counties[[\"CountyName\", \"State\", \"StrokeMortality\"]]\nimpact_stroke = impact_stroke.dropna()\nimpact_stroke = impact_stroke[impact_stroke[\"StrokeMortality\"] > 0]\nimpact_stroke.sort_values(by=[\"StrokeMortality\"], ascending=False).head()","1807a65a":"#We are grouping by state because the county data is not available in the other spreadsheet\n\nimpact_stroke = impact_stroke.groupby(by=\"State\", as_index=False).mean()\nimpact_stroke.sort_values(by=[\"StrokeMortality\"], ascending=False).head()","beb8c5a6":"impact_stroke = impact_stroke.merge(states_april, left_on='State', right_on='Province_State')\nimpact_stroke = impact_stroke[[\"State\", \"StrokeMortality\", \"Confirmed\", \"Deaths\", \"People_Tested\"]]\nimpact_stroke[\"Death_Rate\"] = (impact_stroke[\"Deaths\"] \/ impact_stroke[\"Confirmed\"]) * 100\nimpact_stroke[\"Positive_Rate\"] = (impact_stroke[\"Confirmed\"] \/ impact_stroke[\"People_Tested\"]) * 100\nimpact_stroke = impact_stroke.drop(columns=[\"Confirmed\", \"Deaths\", \"People_Tested\"])\nimpact_stroke.sort_values(by=[\"StrokeMortality\"], ascending=False).head()","96a73e61":"#Finding correlation between state's stroke mortality vs their death rate\n\nstroke_correlation_death = impact_stroke[\"StrokeMortality\"].corr(impact_stroke[\"Death_Rate\"])\nprint(\"The correlation is:\", stroke_correlation_death)","926f4512":"plt.scatter(impact_stroke[\"StrokeMortality\"], impact_stroke[\"Death_Rate\"])\nplt.xlabel('Stroke Mortality')\nplt.ylabel('Death Rate')\nplt.show()","44d53429":"#Finding correlation between state's stroke mortality vs their positive test rate\n\nstroke_correlation_positve = impact_stroke[\"StrokeMortality\"].corr(impact_stroke[\"Positive_Rate\"])\nprint(\"The correlation is:\", stroke_correlation_positve)","2a317861":"plt.scatter(impact_stroke[\"StrokeMortality\"], impact_stroke[\"Positive_Rate\"])\nplt.xlabel('Stroke Mortality')\nplt.ylabel('Positive Rate')\nplt.show()","2e8f57d9":"impact_stroke_smoking = impact_stroke.merge(impact_smoking, on='State')[['State', 'StrokeMortality', 'Smokers_Percentage', 'Positive_Rate_x']]\nimpact_stroke_smoking.head()","49370ee9":"X_positive = impact_stroke_smoking[['StrokeMortality', 'Smokers_Percentage']]\nX_positive.head()","56e8422b":"Y_positive = np.array(impact_stroke_smoking['Positive_Rate_x'])\nY_positive","b9c58857":"from sklearn.model_selection import train_test_split\n\nnp.random.seed(41)\nX_positive_train, X_positive_test, Y_positive_train, Y_positive_test = train_test_split(X_positive, Y_positive, test_size = 0.10)","6c114f29":"from sklearn import linear_model as lm\n\nlinear_model_positive = lm.LinearRegression(fit_intercept=True)\nlinear_model_positive.fit(X_positive_train, Y_positive_train)","cede3cda":"linear_model_positive.predict(X_positive_train)","1fddea20":"def rmse(predicted, actual):\n    return np.sqrt(np.mean((actual - predicted)**2))","e8caa416":"rmse(linear_model_positive.predict(X_positive_train), Y_positive_train)","5037cf62":"import seaborn as sns\n\n#We would hope to see a horizontal line of points at 0.\n\nresiduals = Y_positive_test - linear_model_positive.predict(X_positive_test)\nax = sns.regplot(Y_positive_test, residuals)\nax.set_xlabel('Death Rate (Test Data)')\nax.set_ylabel('Residuals (Actual Rate - Predicted Rate)')\nax.set_title(\"Residuals vs. Death Rate on Test Data\");","bbea43f9":"impact_stroke_heart = impact_stroke.merge(impact_heart, on='State')[['State', 'StrokeMortality', 'HeartDiseaseMortality', 'Death_Rate_x']]\nimpact_stroke_heart.head()","20e2acd6":"X_death = impact_stroke_heart[['StrokeMortality', 'HeartDiseaseMortality']]\nX_death.head()","0ede1ce8":"Y_death = np.array(impact_stroke_heart['Death_Rate_x'])\nY_death","252a4e38":"np.random.seed(41)\nX_death_train, X_death_test, Y_death_train, Y_death_test = train_test_split(X_death, Y_death, test_size = 0.10)","f15f3f73":"X_death.head()","16616c00":"def normalize(data):\n\n    output = (data - np.mean(data))\/np.std(data)\n    return output.replace(np.nan, 0)\n    \nX_normalized = normalize(X_death_train)\nX_normalized.head()","4d039d40":"linear_model_death = lm.LinearRegression(fit_intercept=True)\nlinear_model_death.fit(normalize(X_death_train), Y_death_train)","981e65bd":"linear_model_death.predict(normalize(X_death_train))","687934de":"rmse(linear_model_death.predict(normalize(X_death_train)), Y_death_train)","dba8a383":"#Ideally, we would see a horizontal line of points at 0.\n\nresiduals = Y_death_test - linear_model_death.predict(normalize(X_death_test))\nax = sns.regplot(Y_death_test, residuals)\nax.set_xlabel('Death Rate (Test Data)')\nax.set_ylabel('Residuals (Actual Rate - Predicted Rate)')\nax.set_title(\"Residuals vs. Death Rate on Test Data\");","8b00f409":"Positive_Rate_Test_RMSE = rmse(linear_model_positive.predict(X_positive_test), Y_positive_test)\nDeath_Rate_Test_RMSE = rmse(linear_model_death.predict(normalize(X_death_test)), Y_death_test)\n\nprint(\"The Positive Rate Test RMSE is {}\".format(Positive_Rate_Test_RMSE))\nprint(\"The Death Rate Test RMSE is {}\".format(Death_Rate_Test_RMSE))","99ad2b51":"#Best possible value is 1.0 as r^2 measures goodness of fit\n\nfrom sklearn.metrics import r2_score\n\nPositive_Rate_Test_R2 = r2_score(Y_positive_test, linear_model_positive.predict(X_positive_test))\nDeath_Rate_Test_R2 = r2_score(Y_death_test, linear_model_death.predict(normalize(X_death_test)))\n\nprint(\"The Positive Rate Test R^2 is {}\".format(Positive_Rate_Test_R2))\nprint(\"The Death Rate Test R^2 is {}\".format(Death_Rate_Test_R2))","e4ffd436":"## **3. The impact of heart disease on the death rate and the positive test rate.**","34dfcf63":"Below, compare the R^2 score for each model we built. This will help us observe the goodness of fit of the model on a scale from 0-1.","a80d589c":"# **Exploratory Data Analysis (EDA):**","1487bc7c":"## **1. The impact of smoking on the death rate and the positive test rate.**","41913ffd":"## **2. The impact of diabetes on the death rate and the positive test rate.**\n","5b97d8a7":"Conclusion: This model seems to demonstrate a poor prediction of correlation. Let us then observe the relationship between Heart Disease and Stroke with the chance of dying from COVID-19.","94c3de06":"Let's take another look at X_death.","c279034b":"Conclusion:\n\nThe correlation between heart rate mortality and the death rate came out to be positive, which is not surprising as people with heart disease are more suceptible to the virus.\n\nThe correlation between heart rate mortality and the positive rate came out to be positive but small and insignificant.","b66244a0":"Conclusion:\n\nThe correlation between smoking percentage and the death rate came out to be positive but the number was very small. However, the state with the lowest death rate is South Dakota, which has 2 counties in the top 4 counties with the highest smoking percentages. \n\nThe correlation between smoking percentage and the positive rate came out to be negative and small. However, this might suggest that smoking does in fact bring down the number of positive cases.\n\nThis suggests that if we had the data for the death rate according to counties, we could potentially find a negative correlation between smoking and falling sick with the coronavirus.","ab313e0f":"Observing the EDA above, we can see that there are clearly some certain health conditions that potentially demonstrate a higher likelihood of contracting COVID-19. This is demonstrated by the greater absolute value of correlation.","223dcb82":"## **4. The impact of stroke mortality on the death rate and the positive test rate.**","e67224a7":"As shown, the Death Rate RMSE on the test set of data for the two chosen health condition covariates is significantly lower than that of the Positive Rate RMSE. To observe this difference further, let's compare the R^2 scores for both models.","fca74684":"Let's then compute both the fitted and the predicted values of the training subset of data.","2b452b44":"Again, because the line is not horizontal at 0, this shows that the model does not do a great job predicting the death rate of those who have COVID-19 given the two chosen pre-existing health conditions.","a3da6754":"Below, we create a regression plot visualization using seaborn. If the result of the plot is a horizontal line of points at 0, this means that the prediction is perfectly correlated. However, the plot is clearly not close to this perfect situation.","1cf73fbf":"# What is the relationship between pre-existing health conditions and COVID-19?\n\n**Considering:** Number of positive test cases and number of deaths associated with each condition\n\n**Health Conditions:** Smoking, diabetes, cardiovascular disease, stroke","b1c4dea1":"## **Exploring death rates and positive test rates in different states.**","699b0d4c":"The RMSE value is apporixmately 8.72 which we will later interpret and compare against the RMSE value of the other model to follow.","2ed7d24a":"Compare the model with the actual data using the RMSE function.","f08502c2":"We will now build a model using the two health conditions with the most impactful correlation value to the death rate of COVID-19. These conditions are Heart Disease and Stroke. We again begin by merging the tables created in the EDA section for the Impact of Stroke and the Impact of Heart Disease, focusing now on the Death Rate instead of the Positive Test percentage.","7db2ff32":"Find more information pertaining to the counties dataframe here: https:\/\/github.com\/Yu-Group\/covid19-severity-prediction\/blob\/master\/data\/list_of_columns.md","3b7a13f0":"We then extract the two covariates we hope to use to build our model, which in this case are simply the StrokeMortality and Smokers_Percentage. We assign this reduced dataframe to the value X.\nWe then assign Y to an array representing the corresponding Positive Rate values for each state.","46828428":"## **Modeling the Relationship between Stroke and Smoking with Testing Positive for COVID-19**","28f9e2af":"# **Modeling:**","02967e78":"We then extract the two covariates we hope to use to build our model, which in this case are the StrokeMortality and HeartDiseaseMortality. We assign this reduced dataframe to the value X. We then assign Y to an array representing the corresponding Date Rate values for each state.","bfa20371":"We perform a train-test split below.","74b4c29c":"## **Modeling the Relationship between Heart Disease and Stroke with Dying from COVID-19**","109fb83e":"Conclusion:\n\nThe correlation between stroke mortality and the death rate came out to be negative surprisingly.\n\nThe correlation between stroke mortality and the positive rate came out to be negative surprisingly.\n\nThis surprise result could be because of the fact that stroke mortality rates are from 2014-2016 and not live data as young COVID-19 patients are suffering and dying from stroke.","841ffdbb":"The resulting rmse for the death rate linear model is approximately 1.33.\nThis is considerably lower than the rmse value for the positive rate linear model which is 8.71. However, note that these two models are predicting two very different things. Now, let's look at the test rmse values for each model.","a20e88cb":"Two conditions that clearly stick out considering the Positive Rate value are Stroke and Smoking. Below we construct a model to try to predict whether an individual has a higher likelihood of testing positive COVID-19. We first begin by merging the tables created in the EDA section for the Impact of Stroke and the Impact of Smoking.","7fe284f7":"Conclusion: The models we built above are far from perfect in their ability to predict whether an individual has a higher likelihood of testing positive or dying from COVID-19 given selected pre-existing health conditions. However, these models are not entirely imperfect either. For instance, the R^2 value of 0.18 demonstrates that some part of the death rate can be explained using pre-existing conditions.\n","45b8ece6":"We perform a train-test split below.","f2957f0d":"Conclusion:\n\nThe correlation between diabetes percentage and the death rate came out to be negative but the number was very small.\n\nThe correlation between diabetes percentage and the positive rate came out to be negative and small. This result is kind of surprising but at the same time not significant enough to make a conclusion.","d2aa59a4":"There is a key issue here: the range of HeartDiseaseMorality values is considerably greater than that of the StrokeMortality column. Therefore, we will normalize the data using the function written below.","e43b16bc":"Let's then compute both the fitted and the predicted values of the training subset of data.","37743594":"# **Data Setup and Cleaning:**","c86ff113":"We can now build a linear model because the values of data are continuous, not categorical.","86f69f47":"The plot aligns with the early spread of the virus and high number of cases in the tri-state area, i.e. New York, New Jersey, and Connecticut, and also in the state of Michigan.","cf911f75":"Again, we will create a seaborn regression plot visualization to analyze the relationship between the residuals and the death rate based on test data for the death rate subset.","bdbc06c0":"We can now start building our model. We use a linear model because the values of data we are using here are continuous in nature, not categorical."}}