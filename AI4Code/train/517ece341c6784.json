{"cell_type":{"16c4b845":"code","3e8299a2":"code","31bca2b1":"code","72bea8c3":"code","fb9e7200":"markdown","e40e265e":"markdown","30cacfda":"markdown","3c75e1a8":"markdown","d003b8fe":"markdown","88b3d781":"markdown"},"source":{"16c4b845":"!pip install --quiet mlflow","3e8299a2":"import warnings\n\nimport pandas as pd\nfrom sklearn import datasets\nfrom sklearn.model_selection import train_test_split\nimport lightgbm as lgb\n\nimport mlflow\nimport mlflow.lightgbm\n\nwarnings.filterwarnings(\"ignore\")","31bca2b1":"iris = datasets.load_iris()\nX = pd.DataFrame(iris.data, columns=iris.feature_names)\ny = iris.target\n\nX_train, X_val, y_train, y_val = train_test_split(X, y, test_size=0.2, random_state=42)\ntrain_set = lgb.Dataset(X_train, label=y_train)\nval_set = lgb.Dataset(X_val, label=y_val)","72bea8c3":"bst_params = {\n    'objective': 'multiclass',\n    'num_class': 3,\n    'metric': 'multi_logloss',\n    'colsample_bytree': 0.8,\n    'subsample': 0.8,\n    'seed': 42,\n}\n\ntrain_params = {\n    'num_boost_round': 30,\n    'verbose_eval': 5,\n    'early_stopping_rounds': 5,\n}\n\n\nmlflow.lightgbm.autolog()  # Enable auto logging.\n\nwith mlflow.start_run():\n    model = lgb.train(\n        bst_params,\n        train_set,\n        valid_sets=[train_set, val_set],\n        valid_names=['train', 'valid'],\n        **train_params,\n    )\n    \n    # Do something with the trained model.\n    # ...","fb9e7200":"# Prepare training and validation data","e40e265e":"# Install MLflow","30cacfda":"![demo](https:\/\/user-images.githubusercontent.com\/17039389\/77157368-8aae7c00-6ae4-11ea-8ac0-da0ce0c6ca79.gif)","3c75e1a8":"# Import libraries","d003b8fe":"Unfortunately, it's impossible to display the logging result on a notebook. The GIF attached below shows how it looks like on the MLflow UI.","88b3d781":"# Train a model"}}