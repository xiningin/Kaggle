{"cell_type":{"f0e012e7":"code","8de2c0e4":"code","a033b502":"code","fdb70be9":"code","fe7844d9":"code","b7fcc500":"code","3b6b4d9e":"code","38c38f6d":"code","96898774":"code","858f824d":"code","6fb9bd5e":"code","a86ee6e9":"code","7588ba41":"code","bf207b4c":"code","229b91b4":"code","ac0679c8":"code","a0f507c3":"code","3ebf213a":"code","20532940":"code","ae593577":"code","16a05658":"code","7079a1e9":"code","4ec3af5e":"code","e4454f0a":"code","85fe1cd7":"code","6d00dd57":"code","e75203a4":"code","e2f39576":"code","560fa0c0":"code","f0c99737":"markdown","8823ae81":"markdown","8b733a16":"markdown","9ef16463":"markdown","e2d95bdf":"markdown","500d236a":"markdown","62e7bea4":"markdown","c402744e":"markdown","dcad0862":"markdown","9d4d8b75":"markdown","e7e8cf2e":"markdown","ec220235":"markdown"},"source":{"f0e012e7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","8de2c0e4":"!pwd","a033b502":"import matplotlib.pyplot as plt\nimport plotly.graph_objs as go\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\n","fdb70be9":"df = pd.read_csv('\/kaggle\/input\/chennai-water-management\/chennai_reservoir_levels.csv',\n                parse_dates = ['Date'], dayfirst =True)\n#df['Date'] = pd.to_datetime(df['Date'], format='%d-%m-%Y')\ndf.head()","fe7844d9":"df.dtypes","b7fcc500":"df.isna().sum()","3b6b4d9e":"df.Date.dt.year.min(), df.Date.dt.year.max()","38c38f6d":"fig = make_subplots(rows=2, cols=2,\n                   subplot_titles=['Poondi Resoviour (in mcft)',\n                                  'Redhills Resoviour (in mcft)'])\n\nfig.add_trace(go.Scatter(x= df.Date, y=df.POONDI, name='Poondi'), row=1, col=1)\nfig.add_trace(go.Scatter(x= df.Date, y=df.REDHILLS, showlegend=False), row=1, col=2)\nfig.add_trace(go.Scatter(x= df.Date, y=df.CHEMBARAMBAKKAM), row=2, col=1)\nfig.add_trace(go.Scatter(x= df.Date, y=df.CHOLAVARAM), row=2, col=2)\n\nfig.update_layout(title_text = \"Water availability in Chennai's four major reserviours {}-{}\".format(df.Date.dt.year.min(), df.Date.dt.year.max()))\n\nfig.show()","96898774":"df.head()","858f824d":"df_tidy = df.melt(id_vars = ['Date'], var_name='Resoviour', value_name='Water_Level')\ndf_tidy.head()","6fb9bd5e":"\npx.line(df_tidy, \n        x=\"Date\",\n        y='Water_Level',\n        facet_col=\"Resoviour\",\n        facet_col_wrap=2,\n        color='Resoviour',\n        title=\"Water availability in Chennai's four major reserviours {}-{}\".format(df.Date.dt.year.min(), df.Date.dt.year.max()))","a86ee6e9":"fig = px.line(df.melt(id_vars=['Date'],var_name='Resoviour',value_name='Water_Level'), \n              x=\"Date\", \n              y=\"Water_Level\", \n              color=\"Resoviour\",                  \n              facet_col=\"Resoviour\",\n              facet_col_wrap=1,\n              height=1200, width=1200,\n             )\nfig.update_yaxes(matches=None)\nfig.show()","7588ba41":"df['total'] = df.drop(columns='Date').sum(axis=1)\ndf.head()","bf207b4c":"px.line(df,\n       x='Date',\n       y='total',\n       title='Total water availability from all four reserviours in mcft')","229b91b4":"rain_df = pd.read_csv('\/kaggle\/input\/chennai-water-management\/chennai_reservoir_rainfall.csv',\n                     parse_dates=['Date'], dayfirst=True)\nrain_df.head()","ac0679c8":"rain_df.dtypes","a0f507c3":"\npx.line(rain_df.melt(id_vars=['Date'], var_name='Resoviour', value_name='Rainfall'), \n        x=\"Date\",\n        y='Rainfall',\n        facet_col=\"Resoviour\",\n        facet_col_wrap=2,\n        color='Resoviour',\n        title='Daily rainfall in Chennai'\n        )","3ebf213a":"rain_df['YearMonth'] = pd.to_datetime(rain_df.Date.dt.year.astype(str) + rain_df.Date.dt.month.astype(str), format='%Y%m') \nrain_df.head()","20532940":"rain_df['total'] = rain_df.drop(columns=['Date', 'YearMonth']).sum(axis=1)\nrain_df","ae593577":"rain_df.groupby('YearMonth').total.sum().reset_index()","16a05658":"px.bar(rain_df.groupby('YearMonth').total.sum().reset_index(),\n       x='YearMonth',\n       y='total',\n       title='Monthly rainfall in Chennai'\n      )","7079a1e9":"month_to_season = {1: 'winter', 2: 'winter', 3: 'summer', 4: 'summer', 5: 'summer', 6: 'monsoon', 7: 'monsoon', 8: 'monsoon', 9: 'monsoon',\n 10: 'post-monsoon', 11: 'post-monsoon', 12: 'post-monsoon'}","4ec3af5e":"monthly_rain_df = rain_df.groupby('YearMonth').total.sum().reset_index()\nmonthly_rain_df.head()","e4454f0a":"monthly_rain_df['season'] = monthly_rain_df.YearMonth.dt.month.map(month_to_season) \nmonthly_rain_df","85fe1cd7":"px.bar(monthly_rain_df,\n       x='YearMonth',\n       y='total',\n       color='season',\n       title='Monthly rainfall in Chennai by season'\n      )","6d00dd57":"rain_df['Year'] = pd.to_datetime(rain_df.Date.dt.year.astype(str), format='%Y') \nrain_df.head()","e75203a4":"rain_df.groupby('Year').total.sum().reset_index()","e2f39576":"px.bar(rain_df.groupby('Year').total.sum().reset_index(),\n       x='Year',\n       y='total',\n       title='Year rainfall in Chennai'\n      )","560fa0c0":"px.bar(df.query(\"Date.dt.month == 3 and Date.dt.day== 1\"),\n       x='Date',\n       y='total',\n       title='Availability of water in total at the begining of summer ')","f0c99737":"- Delhi air pollution (high-- winter or monsoon ??)\n    - corelate with Beijing and Singapore\n- https:\/\/www.kaggle.com\/sobhanmoosavi\/us-accidents\n- https:\/\/www.kaggle.com\/sudalairajkumar\/covid19-in-india?select=StatewiseTestingDetails.csv\n","8823ae81":"## Activity\nCan you think of a similar urban large scale problem having a real time affect that you would like to analyze and solve with the help data? Note them, break down the possible ways and steps to solve the same","8b733a16":"## 4. Water Shortage estimation","9ef16463":"## 3. Total yearly rainfall","e2d95bdf":"## 2. Look at the overall water level","500d236a":"## 1. Compare the water levels over time","62e7bea4":"### Monthly rainfall","c402744e":"https:\/\/stackoverflow.com\/a\/51289428\/8210613","dcad0862":"## Reading the data","9d4d8b75":"## 3. Rainfall levels","e7e8cf2e":"### add a season column and use it as color in the bar plot","ec220235":"### Daily rainfall"}}