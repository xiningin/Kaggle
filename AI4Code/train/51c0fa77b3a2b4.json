{"cell_type":{"e709374b":"code","16553de1":"code","2fbcbad1":"code","6ed14f50":"code","295e5726":"markdown","1fa6983d":"markdown","2495cdec":"markdown","d45ac56c":"markdown","52eb92f4":"markdown"},"source":{"e709374b":"import pandas as pd, numpy as np\nimport matplotlib.pyplot as plt\n\np1 = pd.read_csv('..\/input\/top-ion-subs\/submission1.csv').open_channels.values\np2 = pd.read_csv('..\/input\/top-ion-subs\/submission2.csv').open_channels.values\np3 = pd.read_csv('..\/input\/top-ion-subs\/submission3.csv').open_channels.values","16553de1":"sub = pd.read_csv('..\/input\/liverpool-ion-switching\/sample_submission.csv')\nsub.open_channels = np.median( np.stack([p1,p2,p3]).T, axis=1 ).astype('int8')\nsub.to_csv('submission.csv', index=False, float_format='%.4f')","2fbcbad1":"sub.open_channels.value_counts()","6ed14f50":"res=40\nplt.figure(figsize=(20,5))\nplt.plot(sub.time[::res],sub.open_channels[::res])\nplt.show()","295e5726":"# Result\nThe individual models score Public LB 0.94682, 0.94686, 0.94695 respectively for team 3rd, 5th, 7th. It appears there is diversity as the ensemble's Public LB is higher. The Private LBs are 0.94575, 0.94555, 0.94545 respectively. The ensemble increases this also.  \n\nI believe this ensemble's Public and Private LB are close to the maximum theoritical possible without using leaks.\n![Screen%20Shot%202020-05-27%20at%208.04.59%20PM.png](attachment:Screen%20Shot%202020-05-27%20at%208.04.59%20PM.png)","1fa6983d":"# Create Submission","2495cdec":"# EDA Submission","d45ac56c":"# 3rd Place, 5th Place, 7th Place Ensemble\nThis is an experiment to see if the top Ion Comp solutions can score higher or if they are already at the theoretical ceiling.\nBelow the files are from the following notebooks:  \n* submission1.csv - Team 5th place - XGB Model built over WaveNet   \n     https:\/\/www.kaggle.com\/meminozturk\/into-the-wild-xgb-submission?scriptVersionId=34918144  \n* submission2.csv - Team 3rd place - HMM Model  \n     https:\/\/www.kaggle.com\/khahuras\/1st-place-non-leak-solution?scriptVersionId=34382899  \n* submission3.csv - Team 7th place - WaveNet Model built over RF    \n     https:\/\/www.kaggle.com\/cdeotte\/top-ion-subs?select=submission3.csv\n     \nTeam 3rd place model is described [here][4] and [here][5]  \nTeam 5th place model is described [here][3]  \nTeam 7th place model is described [here][1] and [here][2]  \n\n[1]: https:\/\/www.kaggle.com\/c\/liverpool-ion-switching\/discussion\/154011\n[2]: https:\/\/www.kaggle.com\/c\/liverpool-ion-switching\/discussion\/154253\n[3]: https:\/\/www.kaggle.com\/c\/liverpool-ion-switching\/discussion\/154220\n[4]: https:\/\/www.kaggle.com\/c\/liverpool-ion-switching\/discussion\/153734\n[5]: https:\/\/www.kaggle.com\/c\/liverpool-ion-switching\/discussion\/153955","52eb92f4":"# Load 3rd, 5th, 7th"}}