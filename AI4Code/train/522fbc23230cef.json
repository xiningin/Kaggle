{"cell_type":{"5ce68f8e":"code","ed69cd5c":"code","da7200b8":"code","7cdf8085":"code","ca9bf6f8":"code","94e7500a":"code","70fd889b":"code","7e0558da":"code","46b478ba":"code","9086413b":"code","2d6adbdb":"code","c6ab0648":"code","58b04127":"code","6bc56c2c":"code","8c16be34":"code","cc3ecdc3":"code","91f23c6a":"code","513af7f3":"code","ae0c5513":"code","aa3a1ea0":"code","7acc75ec":"code","eb040507":"code","09bc9b40":"code","636fd0a5":"code","2dbbbcdb":"code","80bfc6ec":"code","0714d7c8":"code","a0446367":"code","9286d6e9":"code","cffe738b":"code","34a351a7":"code","5b5c9310":"code","c6276b30":"code","443fd812":"code","8fcf5eb6":"code","458e3cef":"code","f034ed71":"code","9c123022":"code","61b29fce":"code","8de6eaf5":"code","babf5929":"code","ce6733a8":"code","1749f27b":"code","d7278737":"code","e9999a17":"code","bc958f02":"code","058a9a30":"code","34e26c47":"code","38404439":"code","5bb6aac3":"code","613dfdf2":"code","a4b6e5b0":"code","bf7f7603":"code","ba0d90cd":"code","24dfb26b":"markdown","24639cc9":"markdown","952fa232":"markdown","0e2bec90":"markdown","31534a72":"markdown","ebd10e87":"markdown","f1a1487d":"markdown","0c091ee8":"markdown","f5968373":"markdown","8c483321":"markdown","f5ca9bfa":"markdown","066e9aa4":"markdown","746d9cc1":"markdown","b9de021a":"markdown","c14984aa":"markdown","3a270444":"markdown","277c2bb9":"markdown","78c0e30b":"markdown","2f7c1dd6":"markdown","97e71b02":"markdown","53d52b88":"markdown","56eeeb3c":"markdown","be2e7abd":"markdown","b5cba7b8":"markdown","b64f9645":"markdown","cc586c3b":"markdown","f99e57ac":"markdown","9dc2b8ef":"markdown","fa45e476":"markdown","84fbfdf7":"markdown","cf50bcf2":"markdown","f23edad2":"markdown","adeff4c7":"markdown","aeb80671":"markdown","aa9ce2ba":"markdown","9d94e687":"markdown","7b616003":"markdown","dfba65aa":"markdown","dc12a7cd":"markdown"},"source":{"5ce68f8e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport seaborn as sns","ed69cd5c":"# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","da7200b8":"df_cases = pd.read_csv(\"\/kaggle\/input\/covid19-20200321\/ncov-Confirmed_20210907.csv\")\ndf_deaths = pd.read_csv(\"\/kaggle\/input\/covid19-20200321\/ncov-Deaths_20210907.csv\")","7cdf8085":"df_cases","ca9bf6f8":"df_deaths","94e7500a":"df_cases.drop(df_cases.head(1).index, inplace=True)\ndf_cases.rename(columns={\"Date\": \"date\", \"Value\": \"value_cases\", \"Country\/Region\": \"country\"}, inplace = True)\ndf_cases[\"value_cases\"] = df_cases[\"value_cases\"].astype(int)\n\ndf_deaths.drop(df_deaths.head(1).index, inplace=True)\ndf_deaths.rename(columns={\"Date\": \"date\", \"Value\": \"value_deaths\", \"Country\/Region\": \"country\"}, inplace = True)\ndf_deaths[\"value_deaths\"] = df_deaths[\"value_deaths\"].astype(int)","70fd889b":"df_total_cases = df_cases[[\"date\", \"value_cases\"]]\ndf_total_deaths = df_deaths[[\"date\", \"value_deaths\"]]\ndf_total_cases[\"value_cases\"]=df_total_cases[\"value_cases\"].astype(int)\ndf_total_deaths[\"value_deaths\"]=df_total_deaths[\"value_deaths\"].astype(int)","7e0558da":"df_merge = pd.concat([df_deaths, df_cases], axis=1, join='inner')\ndf_merge = df_merge.loc[:,~df_merge.columns.duplicated()]\ndf_merge.drop([\"Province\/State\",\"Lat\",\"Long\"], axis=1, inplace = True)\ndf_merge = df_merge.groupby(['country','date'])[\"value_deaths\",\"value_cases\"].sum()\ndf_merge.reset_index(inplace=True)\ndf_merge","46b478ba":"df_merge.describe()","9086413b":"df_total_cases.head()","2d6adbdb":"df_merge.to_csv(\"df_merge.csv\")","c6ab0648":"df_total_deaths.head()","58b04127":"df_total_cases = df_total_cases.groupby(['date']).sum()\ndf_total_deaths = df_total_deaths.groupby(['date']).sum()\n\ndf_total_cases.reset_index(inplace=True)\ndf_total_deaths.reset_index(inplace=True)","6bc56c2c":"df_total_con = pd.concat([df_total_cases, df_total_deaths], axis=1)\ndf_total_con = df_total_con.loc[:,~df_total_con.columns.duplicated()]\ndf_total_con.head()","8c16be34":"df_total_con","cc3ecdc3":"fig, ax = plt.subplots(figsize=(15,5))\ndf_total_con.plot(x='date', y='value_cases', ax=ax)","91f23c6a":"fig, ax = plt.subplots(figsize=(15,5))\ndf_total_con.plot(x='date', y='value_deaths', ax=ax, color='r')","513af7f3":"df_merge.country.unique()","ae0c5513":"df_merge.head()","aa3a1ea0":"country_list = ['Azerbaijan','Georgia','Iran','Russia','Germany','Italy','Turkey','Ukraine','France','Spain','US','United Kingdom']","7acc75ec":"df_selected_cases = df_merge[df_merge['country'].isin(country_list)]\ndf_selected_cases = df_selected_cases[df_selected_cases['date'] > \"2020-02-21\"]\ndf_selected_cases = df_selected_cases\n\ndf_selected_cases","eb040507":"plt.figure(figsize=(15,10))\ng = sns.lineplot(x=\"date\", y=\"value_cases\", hue=\"country\", data=df_selected_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","09bc9b40":"plt.figure(figsize=(15,10))\ng = sns.lineplot(x=\"date\", y=\"value_deaths\", hue=\"country\", data=df_selected_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","636fd0a5":"df_after_10_d = df_merge[df_merge['country'].isin(['Azerbaijan','Georgia','Iran','Russia','Germany','Italy','Turkey','Ukraine','France','Spain','US','United Kingdom'])]\ndf_after_10_d = df_after_10_d[df_after_10_d['value_deaths'] >= 10]\ndf_after_10_d.reset_index(inplace=True)\ndf_after_10_d['rn'] = df_after_10_d.groupby(['country']).cumcount()\ndf_after_10_d.head()","2dbbbcdb":"plt.figure(figsize=(15,10))\ng = sns.lineplot(x=\"rn\", y=\"value_deaths\", hue=\"country\", data=df_after_10_d, style=\"country\", dashes=False)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","80bfc6ec":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Azerbaijan'])]\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_cases\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","0714d7c8":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Azerbaijan'])]\ndf_az_cases['value_daily'] = df_az_cases['value_cases'] - df_az_cases['value_cases'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","a0446367":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Azerbaijan'])]\ndf_az_cases['value_daily_deaths'] = df_az_cases['value_deaths'] - df_az_cases['value_deaths'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily_deaths\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","9286d6e9":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Azerbaijan'])]\n\nmask = (df_az_cases['date'] > '2021-06-01') & (df_az_cases['date'] <= '2021-09-01')\ndf_az_cases = df_az_cases.loc[mask]\n\ndf_az_cases['value_daily_deaths'] = df_az_cases['value_deaths'] - df_az_cases['value_deaths'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily_deaths\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng\n","cffe738b":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Azerbaijan'])]\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_deaths\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","34a351a7":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Italy'])]\n# df_az_cases = df_az_cases.drop(df_az_cases.tail(30).index, axis=0)\n\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_cases\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","5b5c9310":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Italy'])]\ndf_az_cases['value_daily'] = df_az_cases['value_cases'] - df_az_cases['value_cases'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","c6276b30":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Italy'])]\ndf_az_cases['value_daily_deaths'] = df_az_cases['value_deaths'] - df_az_cases['value_deaths'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily_deaths\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","443fd812":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Germany'])]\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_cases\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","8fcf5eb6":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Germany'])]\ndf_az_cases['value_daily'] = df_az_cases['value_cases'] - df_az_cases['value_cases'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","458e3cef":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['Germany'])]\ndf_az_cases['value_daily_deaths'] = df_az_cases['value_deaths'] - df_az_cases['value_deaths'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily_deaths\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","f034ed71":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['United Kingdom'])]\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_cases\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","9c123022":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['United Kingdom'])]\ndf_az_cases['value_daily'] = df_az_cases['value_cases'] - df_az_cases['value_cases'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","61b29fce":"df_az_cases = df_selected_cases[df_selected_cases['country'].isin(['United Kingdom'])]\ndf_az_cases['value_daily_deaths'] = df_az_cases['value_deaths'] - df_az_cases['value_deaths'].shift(1)\n\nplt.figure(figsize=(15,8))\ng = sns.lineplot(x=\"date\", y=\"value_daily_deaths\", hue=\"country\", data=df_az_cases)\nplt.setp(g.get_xticklabels(), rotation=90)\ng","8de6eaf5":"import requests\nurl = 'https:\/\/worldometers.info\/world-population\/population-by-country'\nheader = {\n  \"User-Agent\": \"Mozilla\/5.0 (X11; Linux x86_64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/50.0.2661.75 Safari\/537.36\",\n  \"X-Requested-With\": \"XMLHttpRequest\"\n}\n\nr = requests.get(url, headers=header)\ndf_world_population = pd.read_html(r.text)[0]\ndf_world_population","babf5929":"df_world_population.rename(columns={\"Country (or dependency)\": \"country\", \"Population (2020)\": \"population\", \"Med. Age\" : \"med_age\"}, inplace = True)\ncolumns = ['country', 'population', 'med_age']\ndf_world_population.drop(df_world_population.columns[~df_world_population.columns.isin(columns)], axis=1, inplace=True)\ndf_world_population.country.replace(['United States'], ['US'], inplace=True)\ndf_world_population","ce6733a8":"df_merge","1749f27b":"df_with_pop = pd.merge(df_merge, df_world_population, on='country', how='inner')\ndf_with_pop","d7278737":"df_new = df_with_pop[df_with_pop['date'] == \"2020-03-20\"]\ndf_new = df_new[df_new['country'].isin(country_list)]\ndf_new","e9999a17":"df_new.info()","bc958f02":"df_new[\"case_per_population\"] = df_new[\"value_cases\"]\/df_new[\"population\"]*100\ndf_new[\"death_per_population\"] = round(df_new[\"value_deaths\"]\/df_new[\"population\"]*100,6)\ndf_new[\"death_per_case\"] = round(df_new[\"value_deaths\"]\/df_new[\"value_cases\"]*100,6)","058a9a30":"df_new","34e26c47":"fig, ax = plt.subplots(figsize=(15,8))\nsns.set(style=\"whitegrid\")\nsns.barplot(x=\"country\", y=\"death_per_case\", data=df_new)","38404439":"fig, ax = plt.subplots(figsize=(15,8))\nsns.set(style=\"whitegrid\")\nsns.barplot(x=\"country\", y=\"case_per_population\", data=df_new)","5bb6aac3":"fig, ax = plt.subplots(figsize=(15,8))\nsns.set(style=\"whitegrid\")\nsns.barplot(x=\"country\", y=\"death_per_population\", data=df_new)","613dfdf2":"fig, ax = plt.subplots(figsize=(15,8))\nsns.set(style=\"whitegrid\")\nsns.set_context('paper')\nsns.barplot(x=\"value_deaths\", y=\"country\", data=df_new.sort_values(by=['value_deaths'], ascending=False))\nsns.despine(left=True, bottom=True)\nplt.show()","a4b6e5b0":"df_cases.head()","bf7f7603":"temp = df_cases.groupby(['date', 'country'])['value_cases'].sum()\ntemp = temp.reset_index().sort_values(by=['date', 'country'])\nplt.style.use('seaborn')\ng = sns.FacetGrid(temp, col=\"country\", hue=\"country\",  sharey=False, col_wrap=5)\ng = g.map(plt.plot, \"date\", \"value_cases\")\ng.set_xticklabels(rotation=90)\nplt.show()","ba0d90cd":"df_cases_n = df_cases\n\ntemp = df_cases.groupby(['date', 'country'])['value_cases'].sum()\ntemp = temp.reset_index().sort_values(by=['country', 'date'])\ntemp['value_daily'] = temp['value_cases'] - temp['value_cases'].shift(1).where(temp.country.eq(temp.country.shift()))\n\nplt.style.use('seaborn')\ng = sns.FacetGrid(temp, col=\"country\", hue=\"country\",  sharey=False, col_wrap=5)\ng = g.map(plt.plot, \"date\", \"value_daily\")\ng.set_xticklabels(rotation=90)\nplt.show()","24dfb26b":"# <font color=orange>Daily Cases - Italy<\/font>","24639cc9":"# Merging Datasets","952fa232":"# Confirmed Deaths List by Country,Date","0e2bec90":"# Gets total cases and deaths by Date","31534a72":"## <font color=red>Confirmed Deaths - TOTAL<\/font>","ebd10e87":"# Calculate \"Case Per Population\", \"Death Per Population\", \"Death Per Case\"","f1a1487d":"# <font color=red>Merge \"covid dataset\" with \"population dataset\"<\/font>","0c091ee8":"# <font color=red>Loading data<\/font>","f5968373":"## <font color=E1DBF0>Confirmed Cases - TOTAL<\/font>","8c483321":"## <font color=red>Confirmed Cases - Azerbaijan,Georgia,Iran,Russia,Germany,Italy,Turkey,Ukraine,France,Spain,United Kingdom<\/font>","f5ca9bfa":"<h1><span style=\"color: #000000;\"><strong><span style=\"background-color: #ff0000;\">Death Per Case<\/span><\/strong><\/span><\/h1>","066e9aa4":"# Exponential Line","746d9cc1":"# <font color=red>Data Preparation<\/font>","b9de021a":"## <font color=red>Confirmed Deaths - Azerbaijan,Georgia,Iran,Russia,Germany,Italy,Turkey,Ukraine,France,Spain,United Kingdom<\/font>","c14984aa":"<h1><span style=\"color: #000000;\"><strong><span style=\"background-color: #ff0000;\">Case per Population<\/span><\/strong><\/span><\/h1>","3a270444":"# Confirmed Cases List by Country and Date","277c2bb9":"<h1><span style=\"color: #ff0000; background-color: #ffff00;\"><strong>Cumulative number of Deaths, by number of dates after 10th death<\/strong><\/span><\/h1>","78c0e30b":"# <font color=red>Deaths Last 3 month - Azerbaijan<\/font>","2f7c1dd6":"## <font color=9033FF>Confirmed Cases - Germany<\/font>\n","97e71b02":"<h1><span style=\"color: #ff0000; background-color: #ffff00;\"><strong>COVID-19 Spread, Exponential Line of all Countries - Daily<\/strong><\/span><\/h1>","53d52b88":"# <font color=red>Deaths - Azerbaijan<\/font>","56eeeb3c":"# <font color=red>Data Visualization<\/font>","be2e7abd":"# <font color=blue|red|green|pink|yellow>GURU<\/font>\n[aiguru.az](http:\/\/aiguru.az)\n\n## Analyze and Track COVID-19\n### Author : Ramin Hashimzade\n### Location : Azerbaijan, Baku\n### Kernel Date: 2020-03-21\n### Updated Date: 2021-09-07","b5cba7b8":"## <font color=DDF208>Daily Deaths - UK<\/font>","b64f9645":"## <font color=orange>Confirmed Cases - Italy<\/font>","cc586c3b":"<h1><span style=\"color: #ff0000; background-color: #ffff00;\"><strong>COVID-19 Spread, Exponential Line of all Countries<\/strong><\/span><\/h1>","f99e57ac":"## Load World Country Population DataSet","9dc2b8ef":"## Get last date statistics Group By Country","fa45e476":"<h2><em><strong><span style=\"color: #ff0000;\">BLESS YOU!!!<\/span><\/strong><\/em><\/h2>","84fbfdf7":"## Confirmed Cases - Azerbaijan","cf50bcf2":"# <font color=red>Daily Deaths - Azerbaijan<\/font>","f23edad2":"# <font color=orange>Daily Deaths - Italy<\/font>","adeff4c7":"# <font color=red>Daily Cases - Azerbaijan<\/font>","aeb80671":"## Merging DataSets","aa9ce2ba":"## <font color=DDF208>Confirmed Cases - UK<\/font>","9d94e687":"# Countries in list","7b616003":"## <font color=9033FF>Daily Deaths - Germany<\/font>\n","dfba65aa":"# Exponential Line","dc12a7cd":"<h1><span style=\"color: #000000;\"><strong><span style=\"background-color: #ff0000;\">Death per Population<\/span><\/strong><\/span><\/h1>"}}