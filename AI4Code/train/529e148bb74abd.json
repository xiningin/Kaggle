{"cell_type":{"5784c433":"code","797adfe5":"code","428c40e2":"code","f0455333":"code","fc40d39b":"code","2b66f3a7":"code","97149dfb":"code","e4d4d9db":"code","687b15ca":"code","f6108f77":"code","bcdbd79e":"code","cefe9028":"code","94ebebd6":"code","d93c7300":"markdown","51367049":"markdown","bf7ff2cc":"markdown","55174d84":"markdown","417e1c3a":"markdown","25ba0929":"markdown","d0387a19":"markdown","fd9c823f":"markdown"},"source":{"5784c433":"#Import libraries\nfrom IPython.display import display\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt ","797adfe5":"#Import dataset\ndt = pd.read_csv(\"..\/input\/wine-reviews\/winemag-data-130k-v2.csv\")\ndisplay(dt.head())\ndt.shape","428c40e2":"plt.figure(figsize=(20,7))\na = sns.countplot(dt[\"country\"])\na.set_xlabel(\"Country\",fontsize=20)\na.set_ylabel(\"Number of different bottles produced\",fontsize=15)\nplt.title(\"Where is wine mostly produced?\", fontsize= 25)\nplt.xticks(rotation=90)\nplt.show()","f0455333":"dt_eur = dt[(dt.country == \"Italy\") | (dt.country == \"Portugal\") | (dt.country == \"Spain\") | (dt.country == \"France\")]\ndt_usa = dt[dt.country == \"US\"]\n\ndt_eur_and_usa = pd.concat([dt_eur, dt_usa])\ndisplay(dt_eur.shape, dt_usa.shape, dt_eur_and_usa.shape)","fc40d39b":"number_of_wine_US = dt_eur_and_usa.country[dt_eur_and_usa.country == \"US\"].count()\nnumber_of_wine_eur = dt_eur_and_usa.country.count() - number_of_wine_US\nexplode = (0.05,0.05)\nsizes = [number_of_wine_US\/len(dt_eur_and_usa)*100, number_of_wine_eur\/len(dt_eur_and_usa)*100]\n\nplt.figure(figsize=(12,8))\nplt.pie(sizes, labels=[\"USA\", \"Europe (Fra, Ita, Spa, Por)\"],colors = [\"lightgreen\", \"lightblue\"], shadow=True, startangle=90,explode = explode, autopct='%1.1f%%', textprops={'fontsize': 20})\nmy_circle=plt.Circle( (0,0), 0.4, color='white')\nplt.title(\"Who produces more variety of wine?\", fontsize= 20)\nplt.suptitle(\"USA vs Europe\", fontsize= 25)\nplt.gca().add_artist(my_circle)\nplt.show()","2b66f3a7":"dt_ita = dt[dt.country == \"Italy\"]\ndt_por = dt[dt.country == \"Portugal\"]\ndt_spa = dt[dt.country == \"Spain\"]\ndt_fra = dt[dt.country == \"France\"]\n\n\ndisplay(dt_ita.shape, dt_por.shape, dt_spa.shape, dt_fra.shape, dt_eur.shape)","97149dfb":"plt.figure(figsize=(20,8))\na = sns.countplot(dt_eur.country)\na.set_xlabel(\"Country\",fontsize=30)\na.set_ylabel(\"Types of wine produced\",fontsize=25)\nplt.title(\"Italy, Portugal, Spain and France\", fontsize= 20)\nplt.suptitle(\"Wine production in Europe\", fontsize= 25)\nplt.show()","e4d4d9db":"plt.figure(figsize=(20,10))\n\na = sns.boxplot(x='country', y='price', data=dt_eur)\na.set_xlabel(\"Country\",fontsize=30)\na.set_ylabel(\"Price per bottle\",fontsize=30)\nplt.title(\"Price distribution in Europe\", fontsize= 25)\nplt.ylim(0,200)\nplt.show()","687b15ca":"dt_ita.province[dt_ita.province == \"Northeastern Italy\"] = \"Northeastern\"","f6108f77":"plt.figure(figsize=(20,15))\n\n\nplt.subplot(2,2,1)\n(dt_ita['province'].value_counts().head(5) \/ len(dt_ita)).plot.bar(color = \"blue\")\nplt.title(\"Top 5 regions in Italy\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.subplot(2,2,2)\n(dt_por['province'].value_counts().head(5) \/ len(dt_por)).plot.bar(color = \"orange\")\nplt.title(\"Top 5 regions in Portugal\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.subplot(2,2,3)\n(dt_spa['province'].value_counts().head(5) \/ len(dt_spa)).plot.bar(color = \"green\")\nplt.title(\"Top 5 regions in Spain\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.subplot(2,2,4)\n(dt_fra['province'].value_counts().head(5) \/ len(dt_fra)).plot.bar(color = \"red\")\nplt.title(\"Top 5 regions in France\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.show()","bcdbd79e":"plt.figure(figsize=(20,15))\n\n\nplt.subplot(2,2,1)\n(dt_ita['variety'].value_counts().head(5) \/ len(dt_ita)).plot.bar(color = \"blue\")\nplt.title(\"Top 5 wines produced in Italy\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.subplot(2,2,2)\n(dt_por['variety'].value_counts().head(5) \/ len(dt_por)).plot.bar(color = \"orange\")\nplt.title(\"Top 5 wines produced in Portugal\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.subplot(2,2,3)\n(dt_spa['variety'].value_counts().head(5) \/ len(dt_spa)).plot.bar(color = \"green\")\nplt.title(\"Top 5 wines produced in Spain\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.subplot(2,2,4)\n(dt_fra['variety'].value_counts().head(5) \/ len(dt_fra)).plot.bar(color = \"red\")\nplt.title(\"Top 5 wines produced in France\").set_fontsize('18')\nplt.xticks(rotation=0)\nplt.plot()\n\nplt.show()","cefe9028":"display(dt_ita.points.mean())\ndisplay(dt_por.points.mean())\ndisplay(dt_spa.points.mean())\ndisplay(dt_fra.points.mean())","94ebebd6":"plt.figure(figsize=(20,10))\n\nplt.title(\"Where is the best wine?\", fontsize= 25)\na = sns.boxplot(x='points', y='country', data=dt_eur, showmeans=True, color = \"lightgreen\")\na.set_xlabel(\"Points\",fontsize=20)\na.set_ylabel(\"Country\",fontsize=20)\nplt.show()","d93c7300":"<font size=\"4\"><b>Where is the best wine?<\/b><br><\/font><br>\nLooking at the average of the obtained points, we have the following ranking:\n1. **France** --> 88.84 points\n2. **Italy** --> 88.56 points\n3. **Portugal** --> 88.25 points\n4. **Spain** --> 87.28 points","51367049":"<center><font size=\"5.5\"><b>Wine Data Visualization for beginners \ud83c\udf77 <br><br> Focus on Italy, France, Spain and Portugal<\/b><br><\/font><\/center><br>\n<center><b>Every comment is welcome!<\/b><\/center><br>\n\n<img src=\"https:\/\/www.freedonia.it\/rescards\/wine.jpg\" width=\"500px\"\/>","bf7ff2cc":"<font size=\"5\"><b><center>Focus on Europe<\/center><\/b><br><\/font><br>\nConsidering the total boottles of wine offering by the** Big Four european wine producers (France, Italy, Spain and Portugal)**, they produce approximately the same amount of types of wine compare to USA, the gratest wine producer in the world.","55174d84":"<font size=\"4\"><b>Price distribution<\/b><br><\/font><br>\nLooking at the price distribution among the 4 different countries, we can clearly see the **presence of outliers** (in term of price) in each country. In fact, we can easily find bottles of wine sold for few dollars up to type of wine (especially in Italy and French) which are sold for more than 2000 dollars per bottle.   ","417e1c3a":"<font size=\"4\"><b>Where is wine mostly produced?<\/b><br><\/font><br>\nThe most important wine producer in the word is the **USA**, followed by a series of **european countries** such as France, Italy and Spain and two **south american countries**, Argentina and Chile. From the graph below, we can see that the **wine market is very a concentrated market** controlled by few countries. ","25ba0929":"Looking at the Big Four wine producers in Europe, they produce 56134 types of wine. In detail, **French** and **Italy** lead the ranking with 22093 and 19540 wines respectively, followed by **Spain** (6645) and **Portugal** with 5691 different bottles.","d0387a19":"<font size=\"4\"><b>Variety per contry<\/b><br><\/font>\n* **Italy**: the most popular wine in is the **Red Blend**, followed by **Nebbiolo**, produced in Piedmont, and **Sangiovese**, produced in Tuscany.\n* **Portugal** : **Portuguese red** and **Portuguese white** represent more than 60% of the total portuguese wine production.\n* **Spain** : in Spain, the most popular wine are the **Tempranillo**, typical of Rioja Alta and Alavesa, and the **Red Blend**.\n* **France** : **Bordeaux-style red blend wine** (a wine which is blended from the Cabernet Sauvignon, Merlot, Cabernet Franc, Malbec and Petite Verdot grapesis) is the most produced wine in French followed by **Chardonnay**.","fd9c823f":"<font size=\"4\"><b>The most productive areas<\/b><\/font><br>\n\n* **Italy**: **Tuscany**, **Piedmont** and **Veneto** are the top 3 regions in term of wine varieties.\n<br>\n* **Portugal**: **Douro** and **Alentejano** are the two most productive areas in Portugal. They produce about 40% of the total types of wine produced in the country. \n<br>\n* **Spain**: most of the spanish wine comes from the **north of the country** (about 58% of the total).\n<br>\n* **France**: **Bourdeaux** and **Burgundy** are the main important french regions for wine production. **Alsace** is the third region with less than 10% of the total production."}}