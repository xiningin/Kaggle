{"cell_type":{"61aa8958":"code","16b2f914":"code","7ab37804":"code","5c522cee":"code","cec5eb61":"code","044a53ad":"code","9642197b":"code","9f88a335":"code","ad879c85":"code","06ff449c":"code","a62dcbb3":"markdown","280dc546":"markdown"},"source":{"61aa8958":"#Import necessary packages\nimport numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom statsmodels.formula.api import ols\n","16b2f914":"#Read the data\ndf=pd.read_csv('..\/input\/beginners-regression-dataset\/apartment_prices.csv')\ndf.head()","7ab37804":"#Check for null values\ndf.isna().sum()","5c522cee":"#Visualize data\nsns.scatterplot(x='Squaremeter',y='Price',data=df)\nplt.title('Price vs Squaremeter')\nplt.show()","cec5eb61":"#Looks like the data is linear, except a few outliers.\n\n#Looking at the Outliers\ndf['Price_per_squaremeter']=df['Price']\/df['Squaremeter']\nprint(df.sort_values('Price_per_squaremeter'))\nq1, q3 = np.percentile(df['Price_per_squaremeter'],[25,75])\noutliers1=q1-1.5*(q3-q1)\noutliers2=q3+1.5*(q3-q1)\ndf[(df['Price_per_squaremeter']<=outliers1)|(df['Price_per_squaremeter']>=outliers2)]\n","044a53ad":"df=df.drop([1,4,32],axis=0).reset_index(drop=True)\ndf.head()","9642197b":"#Create model\nmodel = ols('Price ~ Squaremeter',data=df).fit()\nmodel.params","9f88a335":"#Create prediction data for prediction\nexplanatory_var=pd.DataFrame({'Squaremeter':np.arange(20,120,10)})\nprediction_data=explanatory_var.assign(Price=model.predict(explanatory_var))\nprediction_data","ad879c85":"#Plot the prediction\nplt.figure()\nsns.regplot(x='Squaremeter',y='Price',data=df,ci=None)\nsns.scatterplot(x='Squaremeter',y='Price',data=prediction_data,color='red')\nplt.title('Price vs Squaremeter')\nplt.show()\n","06ff449c":"#How good is the model?\n\nprint('Coefficient of Determination:', model.rsquared)\nprint('Relative Squared Error:',np.sqrt(model.mse_resid))","a62dcbb3":"There are 3 data that has an unusually low price\/squaremeter. Since the value is too extreme, it is best to drop those values.","280dc546":"The coefficient of determination shows how ideal the model is, with the value 1 as the perfect model. Our model's rsquared is 0.91, which is a good model.\n\nThe RSE shows how much the model typically differs with the actual value. Our value is 26.9, which means that our residuals is typically about 26.9"}}