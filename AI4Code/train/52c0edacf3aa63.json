{"cell_type":{"f574c73c":"code","28fd794d":"code","d677df32":"code","24737d4a":"code","6efce39b":"code","12bbf579":"code","c831efde":"code","5d323810":"code","05609907":"code","f02eff0c":"code","846868ab":"code","3636d134":"code","24aaac80":"code","2759e99c":"code","5a8f9f08":"code","179765ca":"code","e6587e4f":"markdown","10e9e125":"markdown"},"source":{"f574c73c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","28fd794d":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","d677df32":"df=pd.read_csv('..\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv')\ndf2=pd.read_csv('..\/input\/world-happiness-report-2021\/world-happiness-report.csv')","24737d4a":"df.head()","6efce39b":"regionWiseDF=pd.DataFrame(df.groupby('Regional indicator').count().sort_values(by='Country name',ascending=False)['Country name'])\nregionWiseDF.rename(columns={'Country name':'No of countries in the region'},inplace=True)\n\nfig=plt.figure(figsize=(10,6))\ngs=fig.add_gridspec(1,1)\n\nax=fig.add_subplot(gs[0,0])\nax.set_facecolor('#E6E6E6')\n\nj=0\nfor i in regionWiseDF['No of countries in the region']:\n    ax.annotate(str(i),xy=(i,j),va='center',ha='right',fontweight='light', fontfamily='monospace',fontsize=15, color='white')\n    j=j+1\n    \nax.text(0,-1,'The Regions in the World and No of Countries in each Region',fontfamily='sans-serif',fontsize=20,fontweight='bold',color='#323232')\n\nimg=sns.barplot(y=regionWiseDF.index,x='No of countries in the region',data=regionWiseDF,palette='bright',ax=ax)\nimg.set(xlabel=None,xticklabels=[],ylabel=None)\nimg.tick_params(left=False,bottom=False)\n\nfor s in ['top', 'bottom', 'right']:\n            ax.spines[s].set_visible(False)","12bbf579":"top20DF=pd.DataFrame(df.iloc[:20].groupby('Regional indicator').count().sort_values('Country name',ascending=False)['Country name'])\ntop20DF.rename(columns={'Country name':'No of countries in the region'},inplace=True)\n\nbottom20DF=pd.DataFrame(df.iloc[128:].groupby('Regional indicator').count().sort_values('Country name',ascending=False)['Country name'])\nbottom20DF.rename(columns={'Country name':'No of countries in the region'},inplace=True)\n\nfig=plt.figure(figsize=(20,6))\ngs=fig.add_gridspec(1,2)\n\nfig.set_facecolor('#E6E6E6')\n\nax0=fig.add_subplot(gs[0,0])\nax1=fig.add_subplot(gs[0,1])\n\ni=0\nfor region in top20DF.index:\n    ax0.annotate(region,xy=(i,6),va='center',ha='right',fontweight='light', fontfamily='monospace',fontsize=10, color='black',rotation=90)\n    i=i+1\n\ni=0\nfor region in bottom20DF.index:\n    ax1.annotate(region,xy=(i,6),va='center',ha='right',fontweight='light', fontfamily='monospace',fontsize=10, color='black',rotation=90)\n    i=i+1\n\nax0.text(0,15,'Regions and the no of countries in Top 20 of the report',fontfamily='sans-serif',fontsize=13,fontweight='bold',color='#323232')\nimg1=sns.barplot(x=top20DF.index,y='No of countries in the region',data=top20DF,palette='bright',ax=ax0)\nimg1.set(xlabel=None,xticklabels=[])\nimg1.tick_params(left=False,bottom=False)\n\nax1.text(0,17,'Regions and the no of countries in Bottom 20 of the report',fontfamily='sans-serif',fontsize=13,fontweight='bold',color='#323232')\nimg2=sns.barplot(x=bottom20DF.index,y='No of countries in the region',data=bottom20DF,palette='pastel',ax=ax1)\nimg2.set(xlabel=None,xticklabels=[])\nimg2.tick_params(left=False,bottom=False)\n\nax0.text(-0.5,-1,'The Western European region has the most no of countries in Top 20',fontfamily='sans-serif',fontsize=13,fontweight='bold',color='#323232')\nax1.text(-0.5,-1,'The Sub-Saharan African region has the most no of countries in Bottom 20',fontfamily='sans-serif',fontsize=13,fontweight='bold',color='#323232')\n\nax0.text(0,-3,'Its interesting to note that the Sub Saharan African region has the most countries in the list but also has major no of countries in bottom half',\n         fontfamily='sans-serif',fontsize=15,fontweight='light',color='#323232')\n\nfor s in ['top', 'bottom', 'right']:\n    ax0.spines[s].set_visible(False)\n    ax1.spines[s].set_visible(False)","c831efde":"fig=plt.figure(figsize=(20,15))\ngs=fig.add_gridspec(2,3)\n\nplt.text(0.25,1.05,'Happiness Score vs Various Related Variables',\n         fontfamily='sans-serif',fontsize=15,fontweight='bold',color='#323232')\n\nplt.text(0,-0.1,'It is pretty much evident that Happiness score has a positive correlation with all variables except corruption',\n         fontfamily='sans-serif',fontsize=15,fontweight='bold',color='#323232')\n\nax0=fig.add_subplot(gs[0,0])\nimg0=sns.scatterplot(x='Ladder score',y='Logged GDP per capita',hue='Regional indicator',data=df,ax=ax0,legend=None)\nimg0.set(xlabel='Happiness Score')\nfor s in ['top','right']:\n    ax0.spines[s].set_visible(False)\nimg0.tick_params(left=False,bottom=False)\n\nax1=fig.add_subplot(gs[0,1])\nimg1=sns.scatterplot(x='Ladder score',y='Social support',hue='Regional indicator',data=df,ax=ax1,legend=None)\nimg1.set(xlabel='Happiness Score')\nfor s in ['top','right']:\n    ax1.spines[s].set_visible(False)\nimg1.tick_params(left=False,bottom=False)\n\nax2=fig.add_subplot(gs[0,2])\nimg2=sns.scatterplot(x='Ladder score',y='Healthy life expectancy',hue='Regional indicator',data=df,ax=ax2,legend=None)\nimg2.set(xlabel='Happiness Score')\nfor s in ['top','right']:\n    ax2.spines[s].set_visible(False)\nimg2.tick_params(left=False,bottom=False)\n\nax3=fig.add_subplot(gs[1,0])\nimg3=sns.scatterplot(x='Ladder score',y='Freedom to make life choices',hue='Regional indicator',data=df,ax=ax3,legend=None)\nimg3.set(xlabel='Happiness Score')\nfor s in ['top','right']:\n    ax3.spines[s].set_visible(False)\nimg3.tick_params(left=False,bottom=False)\n\nax4=fig.add_subplot(gs[1,1])\nimg4=sns.scatterplot(x='Ladder score',y='Generosity',hue='Regional indicator',data=df,ax=ax4,legend=None)\nimg4.set(xlabel='Happiness Score')\nfor s in ['top','right']:\n    ax4.spines[s].set_visible(False)\nimg4.tick_params(left=False,bottom=False)\n\nax5=fig.add_subplot(gs[1,2])\nimg5=sns.scatterplot(x='Ladder score',y='Perceptions of corruption',hue='Regional indicator',data=df,ax=ax5,legend=None)\nimg5.set(xlabel='Happiness Score')\nfor s in ['top','right']:\n    ax5.spines[s].set_visible(False)\nimg5.tick_params(left=False,bottom=False)\n\n","5d323810":"fig=plt.figure(figsize=(20,3))\ngs=fig.add_gridspec(1,1)\n\nax0=fig.add_subplot(gs[0,0])\n\nax0.set_yticklabels('')\nax0.set_xticklabels('')\nax0.tick_params(axis='both',length=0)\nax0.set_facecolor('#F6F6F6')\n\nax0.text(0.45,0.7,'Highest',fontfamily='monospace',fontweight='bold',fontsize=20,color='blue')\n\nax0.text(0.1,0.4,'Happiness Score',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.14,0.2,'Finland',fontfamily='monospace',fontweight='bold',fontsize=18,color='yellow')\n\nax0.text(0.3,0.4,'Social Support',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.34,0.2,'Iceland',fontfamily='monospace',fontweight='bold',fontsize=18,color='yellow')\n\nax0.text(0.5,0.4,'Logged GDP per Capita',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.54,0.2,'Luxembourg',fontfamily='monospace',fontweight='bold',fontsize=18,color='yellow')\n\nax0.text(0.75,0.4,'Healthy Life Expectancy',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.8,0.2,'Singapore',fontfamily='monospace',fontweight='bold',fontsize=18,color='yellow')","05609907":"fig=plt.figure(figsize=(20,4))\ngs=fig.add_gridspec(1,1)\n\nax0=fig.add_subplot(gs[0,0])\n\nax0.set_yticklabels('')\nax0.set_xticklabels('')\nax0.tick_params(axis='both',length=0)\nax0.set_facecolor('#F6F6F6')\n\nax0.text(0.4,0.7,'Highest (Region wise)',fontfamily='monospace',fontweight='bold',fontsize=20,color='blue')\n\nax0.text(0.05,0.4,'Happiness Score',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.25,0.4,'Social Support',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.45,0.4,'Logged GDP per Capita',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.70,0.4,'Healthy Life Expectancy',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\n\nax0.text(0.4,0.2,'North America and ANZ',fontfamily='monospace',fontweight='bold',fontsize=18,color='red')\n\nax0.text(0.3,0.01,'(The dataset was grouped by regions and the mean score of that region \\n was divided by no of countries in that region for optimum results)',\n                     fontfamily='monospace',fontweight='light',fontsize=12,color='black')\n\nfor s in ['top','bottom','left','right']:\n    ax0.spines[s].set_visible(False)","f02eff0c":"bool=df['Regional indicator'].isin (['Western Europe','Central and Eastern Europe','Sub-Saharan Africa','Middle East and North Africa'])\neurAfrDF=df[bool]\n\nfig=plt.figure(figsize=(20,10))\ngs=fig.add_gridspec(1,2)\n\nfig.set_facecolor('#E6E6E6')\n\nfig.text(0.17,0.9,'We can observe that European countries are in top right corner whereas African countries are in the bottom left',\n        fontfamily='monospace',fontweight='bold',fontsize=15,color='#323232')\n\nax0=fig.add_subplot(gs[0,0])\nimg=sns.scatterplot(x='Ladder score',y='Logged GDP per capita',hue='Regional indicator',size='Ladder score',data=eurAfrDF,ax=ax0)\n\nax1=fig.add_subplot(gs[0,1])\nimg=sns.scatterplot(x='Ladder score',y='Healthy life expectancy',hue='Regional indicator',size='Ladder score',data=eurAfrDF,ax=ax1)\n\nfor s in ['top','right']:\n    ax0.spines[s].set_visible(False)\n    ax1.spines[s].set_visible(False)","846868ab":"fig=plt.figure(figsize=(10,7))\nfig.text(0.1,0.94,'Mean Happiness Score for countires in a region',fontfamily='monospace',fontsize=15,fontweight='bold')\nregionWiseDF2=df.groupby('Regional indicator').mean().sort_values(by='Ladder score',ascending=False)\nimg=sns.barplot(y=regionWiseDF2.index,x='Ladder score',data=regionWiseDF2)\nsns.despine()\nimg.tick_params(left=False,bottom=False)\nimg.set(xlabel='Happiness Score')","3636d134":"fig=plt.figure(figsize=(10,5))\ngs=fig.add_gridspec(1,1)\n\nfig.set_facecolor('#F6F6F6')\n\nax0=fig.add_subplot(gs[0,0])\nax0.text(0.3,0.7,'Highest',fontfamily='monospace',fontweight='bold',fontsize=30,color='green')\nax0.text(0.3,0.4,'Denmark has recorded the \\n highest Happiness Score in 2005',\n                   fontfamily='monospace',fontweight='bold',fontsize=23,color='#E276E5',ha='center')\nax0.text(0.3,0.2,'8.019',fontfamily='monospace',fontweight='bold',fontsize=30,color='yellow',ha='center')\nax0.set_facecolor('#E6E6E6')\nax0.text(1.1,0.7,'Lowest',fontfamily='monospace',fontweight='bold',fontsize=30,color='green')\nax0.text(1.1,0.4,'Afghanistan has recorded the \\n least Happiness Score in 2019',\n                   fontfamily='monospace',fontweight='bold',fontsize=23,color='#E276E5',ha='center')\nax0.text(1.1,0.2,'2.375',fontfamily='monospace',fontweight='bold',fontsize=30,color='yellow',ha='center')\n\nax0.set_yticklabels('')\nax0.set_xticklabels('')\nax0.tick_params(axis='both',length=0)\nax0.set_facecolor('#F6F6F6')\n\n\nfor s in ['top','bottom','left','right']:\n    ax0.spines[s].set_visible(False)","24aaac80":"fig=plt.figure(figsize=(15,6))\ngs=fig.add_gridspec(1,1)\nax0=fig.add_subplot(gs[0,0])\ntop5countries=df.head()['Country name']\nbool=df2['Country name'].isin(top5countries)\ntop5DF=df2[bool]\nax0.set(ylabel='Happiness Score',xlabel='Year')\nfor s in ['top','right']:\n    ax0.spines[s].set_visible(False)\nsns.lineplot(x='year',y='Life Ladder',data=top5DF,hue='Country name',ax=ax0)\nax0.text(2012,8.2,'How happy are the top 5 countries happy over the years',\n        fontfamily='monospace',fontweight='bold',fontsize=20,ha='center' )\nax0.text(2006,6.5,'Here we can notice that Finland has a significant uptick\\n in happiness score from 2015-2020. All these countries scores dont differ much across years',\n        fontfamily='monospace',fontweight='bold',fontsize=15)","2759e99c":"meanScores=df.agg(['mean'])\nmeanLadderScore=meanScores['Ladder score']['mean']\nmeanGDP=meanScores['Logged GDP per capita']['mean']\nmeanHealthyLife=meanScores['Healthy life expectancy']['mean']\nmeanSocialSupport=meanScores['Social support']['mean']\ndf[(df['Ladder score']>meanLadderScore) & (df['Logged GDP per capita']<meanGDP) & (df['Healthy life expectancy']<meanHealthyLife) & (df['Social support']<meanSocialSupport)]\n\nfig=plt.figure(figsize=(18,4))\ngs=fig.add_gridspec(1,1)\n\nax0=fig.add_subplot(gs[0,0])\n\nax0.set_yticklabels('')\nax0.set_xticklabels('')\nax0.tick_params(axis='both',length=0)\nax0.set_facecolor('#F6F6F6')\n\nfor s in ['top','bottom','left','right']:\n    ax0.spines[s].set_visible(False)\n\nax0.text(0.1,0.7,'Countries with above average Happiness score but \\n below average GDP per capita, Social support, Healthy life expectancy',\n        fontfamily='monospace',fontweight='bold',fontsize=20,color='blue')\nax0.text(0.4,0.5,'1) Guatemala',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')\nax0.text(0.4,0.3,'2) Bolivia',fontfamily='monospace',fontweight='bold',fontsize=18,color='green')","5a8f9f08":"max=0\ncountry=''\nfor i in df2['Country name'].unique():\n    countryDF=df2[df2['Country name']==i]\n    countryDF.reset_index(inplace=True)\n    size=len(countryDF)\n    start=countryDF.loc[0]['Life Ladder']\n    end=countryDF.loc[size-1]['Life Ladder']\n    cagrGrowth=(((end\/start)**(1\/size))-1)*100\n    if cagrGrowth>max and size>7:\n        max=cagrGrowth\n        country=i\n#print(country,' ',max)\n\nfig=plt.figure(figsize=(20,3))\ngs=fig.add_gridspec(1,1)\nax0=fig.add_subplot(gs[0,0])\nax0.set_facecolor('#F6F6F6')\nax0.set_xticklabels('')\nax0.set_yticklabels('')\nax0.tick_params(axis='both',length=0)\n\nax0.text(0.27,0.7,'Country with highest CAGR Growth of Happiness Score',fontfamily='monospace',fontweight='bold',fontsize=18,color='blue')\nax0.text(0.42,0.4,'Liberia - 3.67 % Growth',fontfamily='monospace',fontweight='bold',fontsize=15,color='green')\nax0.text(0.27,0.1,'*Only countries with data available for more than 7 years was considered*',fontfamily='monospace',fontweight='light',fontsize=12,color='black')\n\nfor s in ['top','bottom','left','right']:\n    ax0.spines[s].set_visible(False)","179765ca":"min=100\ncountry=''\nfor i in df2['Country name'].unique():\n    countryDF=df2[df2['Country name']==i]\n    countryDF.reset_index(inplace=True)\n    size=len(countryDF)\n    start=countryDF.loc[0]['Life Ladder']\n    end=countryDF.loc[size-1]['Life Ladder']\n    cagrGrowth=(((end\/start)**(1\/size))-1)*100\n    if cagrGrowth<max:\n        min=cagrGrowth\n        country=i\n#print(country,' ',min)\n\nfig=plt.figure(figsize=(20,3))\ngs=fig.add_gridspec(1,1)\nax0=fig.add_subplot(gs[0,0])\nax0.set_facecolor('#F6F6F6')\nax0.set_xticklabels('')\nax0.set_yticklabels('')\nax0.tick_params(axis='both',length=0)\n\nax0.text(0.27,0.7,'Country with lowest CAGR Growth of Happiness Score',fontfamily='monospace',fontweight='bold',fontsize=18,color='blue')\nax0.text(0.42,0.4,'Zimbabwe - (-)1.26 % Growth',fontfamily='monospace',fontweight='bold',fontsize=15,color='green')\n\nfor s in ['top','bottom','left','right']:\n    ax0.spines[s].set_visible(False)","e6587e4f":"**Finland is the Most Happiest country**\n\n**Afganisthan is the Least Happiest country**","10e9e125":"1. **Out of the 21 countries in Europe, 13 countries are in the Top 20 making it the Happiest Region in the World**\n \n2. **Eventhough African region has 36 countries, majority occupies the bottom of the report**"}}