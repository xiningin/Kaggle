{"cell_type":{"fee096c8":"code","2c7e12d6":"code","ef0f0f7c":"code","335e5821":"code","84790590":"code","9a25597b":"code","d43f5087":"code","c969a88a":"code","ec0ebd55":"code","28452149":"code","b85c8593":"code","8b6dcb72":"code","4c3b47b9":"code","c380e79d":"code","8b4b7956":"code","7652b1e7":"code","35aefee7":"markdown","5dbe4aa3":"markdown","349721c7":"markdown","1e44c572":"markdown","7038c793":"markdown","a6cee6e4":"markdown","ba8c185b":"markdown","be7ecd3f":"markdown","4499e94c":"markdown","c3935371":"markdown","724bbd8a":"markdown","ac8c21c4":"markdown","495a52eb":"markdown","c6f7e19a":"markdown","71ffd2f4":"markdown","5891b500":"markdown","86b67a78":"markdown","eb4a0513":"markdown","938f0744":"markdown","2023a446":"markdown","659f6bbc":"markdown","aa53219a":"markdown","f1878d23":"markdown","6a222732":"markdown","4d084efc":"markdown","e5000d03":"markdown","7906157b":"markdown","6751f81d":"markdown","e63d9b80":"markdown","9642fd09":"markdown","f0edab41":"markdown","9746e71e":"markdown","57212de0":"markdown","297862bc":"markdown","320d84ce":"markdown","baf3c073":"markdown","7b375b82":"markdown","f8540657":"markdown"},"source":{"fee096c8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        os.path.join(dirname, filename)\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","2c7e12d6":"import os\n\n# There are two ways to load the data from the PANDA dataset:\n# Option 1: Load images using openslide\nimport openslide\n# Option 2: Load images using skimage (requires that tifffile is installed)\nimport skimage.io\n\n# General packages\nimport pandas as pd\nimport numpy as np\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport PIL\nfrom IPython.display import Image, display\n\n# Plotly for the interactive viewer (see last section)\nimport plotly.graph_objs as go\n","ef0f0f7c":"data_dir = '\/kaggle\/input\/prostate-cancer-grade-assessment\/train_images\/'","335e5821":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '0200fa88e8c01546663b9db1726936ac.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((19357, 9075), 0, (450, 450))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","84790590":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '04201ee15d33abe4b032317792cf1040.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((2820,22398), 0, (450, 450))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","9a25597b":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '019c1b40e6ec7410e8356c5d8d487954.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((5306, 11343), 0, (1100, 1500))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","d43f5087":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '00412139e6b04d1e1cee8421f38f6e90.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((4494, 11253), 0, (700, 700))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","c969a88a":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '00412139e6b04d1e1cee8421f38f6e90.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((3204, 16449), 0, (900, 1050))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","ec0ebd55":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '019c1b40e6ec7410e8356c5d8d487954.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((8714, 33011), 0, (600, 600))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","28452149":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '060f60eeecf1ab502526a34db9caaf8e.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((5603, 3150), 0, (300, 300))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","b85c8593":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '035587e63d72f8537b3fce5067bb18df.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((2131, 24216), 0, (600, 400))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","8b6dcb72":"\n# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, 'fe2e96fbf3e76e9983d1cc4d90ef957b.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((13305, 8016), 0, (1200, 625))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()\n","4c3b47b9":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '060f60eeecf1ab502526a34db9caaf8e.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((5009, 6927), 0, (675, 500))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","c380e79d":"#RBC\n\n# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '035587e63d72f8537b3fce5067bb18df.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((2412, 21305), 0, (650, 650))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","8b4b7956":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, '033e39459301e97e457232780a314ab7.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((15584, 1210), 0, (1500, 2500))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","7652b1e7":"# Open the image (does not yet read the image into memory)\nimage = openslide.OpenSlide(os.path.join(data_dir, 'cd894e213f1522b7dfc41d457dc4899b.tiff'))\n\n# Read a specific region of the image starting at upper left coordinate (x=17800, y=19500) on level 0 and extracting a 256*256 pixel patch.\n# At this point image data is read from the file and loaded into memory.\npatch = image.read_region((13626, 4409), 0, (1500, 2000))\n\n# Display the image\ndisplay(patch)\n\n# Close the opened slide after use\nimage.close()","35aefee7":"<div class=\"alert alert-block alert-info\">\n<b>Study Tip #1:<\/b> Notice from the image the process and angle at which the biopsy is performed.  This procedure is different than how some other types of microscope slides are prepared.  Other times, tissues are removed from a human during autopsy or from an animal during a necropsy, undergoes sectioning, and is cut into thin slices using an instrument with a sharp blade called a microtome.  There are various types of histological sections and you can view them [here (IU School of Medicine).](http:\/\/medsci.indiana.edu\/histo\/docs\/stn8.htm)  Keep this in mind when you are analyzing your data and viewing histological images from online sources and textbooks.<\/div>","5dbe4aa3":"# Works Cited\n\nBoundless Anatomy and Physiology. courses.lumenlearning.com\/boundless-ap\/.\n\nFelson, Sabrina. Prostate Biopsy Procedure: Purpose, Side Effects, & Recovery. 29 Mar. 2019, www.webmd.com\/prostate-cancer\/what-is-prostate-biopsy.\n\nGartner, Leslie P. Textbook of Histology E-Book. Elsevier Health Sciences, 2015.\n\nGunasegaran, J. P. Textbook of Histology and A Practical guide, 4e-E-book. Elsevier Health Sciences, 2020.\n\nHistology of Blood Vessels, Victoria College, www2.victoriacollege.edu\/dept\/bio\/Belltutorials\/Histology%20Tutorial\/Blood%20Vessels\/Histology_of_Blood_Vessels.html.\n\nKierszenbaum, Abraham L., and Laura Tres. Histology and Cell Biology: an introduction to pathology. Elsevier Health Sciences, 2015.\n\nThe Histology Guide. histology.leeds.ac.uk\/.\n\n\u201cMale Reproductive System.\u201d Michigan Histology, histology.medicine.umich.edu\/resources\/male-reproductive-system.\n\nMinarcik, John. Shotgun Histology Prostate. 22 August 2007. https:\/\/www.youtube.com\/watch?v=9YuqsprhFm4\n\n\u201cOverview of the Male Reproductive System.\u201d Yale Histology, medcell.med.yale.edu\/histology\/male_reproductive_system_lab.php.\n\nZareba, Piotr, et al. \"Perineural invasion and risk of lethal prostate cancer.\" Cancer Epidemiology and Prevention Biomarkers 26.5 (2017): 719-726.\n","349721c7":"![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/1\/12\/Diagram_showing_a_prostate_biopsy_CRUK_472.svg\/563px-Diagram_showing_a_prostate_biopsy_CRUK_472.svg.png)","1e44c572":"### Exploring Histological Structures on Prostate Biopsy Samples\n\n#### Stroma\n\nAs explained above, the stroma is composed of connective tissue with smooth muscle fibers.  It surrounds the glands of the prostate (Gartner, 2015).  The function of the connective tissue is to provide structure and support to the prostate gland (Boundless Anatomy and Physiology).  The smooth muscle fibers aids in the contraction of the prostate during ejaculation to empty the contents of the glands (Michigan Histology).","7038c793":"# Prostate Gland\n\n## About This Notebook\n\nIn this notebook, I am going to concentrate on the histology of the healthy prostate. All of the images from the data are from non-cancerous prostate biopsies unless stated otherwise.  I hope this helps you through your journey in this competition.","a6cee6e4":"This is adipose tissue from 019c1b40e6ec7410e8356c5d8d487954.tiff.  Notice the empty appearance of where the lipid droplet was located before tissue staining.","ba8c185b":"<div class=\"alert alert-block alert-info\">\n<b>Study Tip #3:<\/b> Because of slight preparation differences between samples, the same structures on different slides may have slight differences in color as seen below with the stroma images.  Keep this in mind when analyzing the different biopsy samples in the study. <\/div>","be7ecd3f":"#### Outer Connective Tissue\n\nThis is the outer connective tissue in the capsule.  This connective tissue is similar to the connective tissue in the stroma of the prostate but has thicker fiber bundles, and its bundles are arranged differently.  It is highly vascularized with blood vessels and contains nerves.  Muscle fibers may also be located in the outer connective tissue (Gartner, 2015). Glands can be located within the capsule in healthy tissue (Minarcik, 2007).","4499e94c":"## What is the Prostate Gland?\n\nThe prostate is part of the male reproductive system.  It is located between the bladder and the penis.  It surrounds the urethra and secretes substances into the lumen of the urethra.  The function of the secrections of the prostate is to nourish and transport sperm (Gartner, 2015; Kierszenbaum and Tres, 2015).","c3935371":"Code was used from [Getting Started with the Panda Dataset](https:\/\/www.kaggle.com\/wouterbulten\/getting-started-with-the-panda-dataset).","724bbd8a":"#### Prostatic Glands\n\nThe lining of the prostatic glands are simple columnar epithelium with a few basal cells (Michigan Histology).  These glands secrete proteolytic enzymes and citric acid that prevents the coagulation of semen (Yale Histology).  Below are healthy glands in the prostate.  The glands are seperated by connective tissue and the nuclei have no nucleoli (Minarcik, 2007).  ","ac8c21c4":"<div class=\"alert alert-block alert-info\">\n<b>Study Tip #4:<\/b> Below are two different nerves from two different prostate samples.  The top nerve image has connective tissue ripped away from it while the bottom nerve image still has some connective tissue around it.  Although the outer connective tissue appears to be ripped apart at the ends of the prostate tissue, connective tissue may completely surround the nerve. Keep this in mind when analyzing the different biopsy samples in the study.<\/div>[](http:\/\/) ","495a52eb":"This is a concretion from 00412139e6b04d1e1cee8421f38f6e90.tiff.","c6f7e19a":"**Clinical Correlation #1**: It is abnormal to see the nucleoli in the nucleus in a high amounts of cells in the glands.  When high amounts of cells have nucleoli along with glands that grow with no connective tissue between them, cancer is suspected (Minarcik, 2007).  Below is a slide of prostate cancer.  Notice the prominent nucleoli at the arrows and the lack of connective tissue between the glands.\n  \n![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/8\/8f\/Micrograph_of_acinar_adenocarcinoma_of_the_prostate_with_double_and_marginated_nucleoli.jpg\/239px-Micrograph_of_acinar_adenocarcinoma_of_the_prostate_with_double_and_marginated_nucleoli.jpg)\n\n    \n\u00a9 Cruz et al.,  Creative Commons Attribution 4.0 International License, Wikimedia\n\n\n","71ffd2f4":"This is part of the large intestine from cd894e213f1522b7dfc41d457dc4899b.tiff.","5891b500":"## What is a Prostate Biopsy?\n\nWhen a physician performs a prostate biopsy, he or she will insert an ultrasound probe or instrument along with a needle through the rectum and into the prostate.  Samples are taken from multiple parts of the prostate with the guidance of the ultrasound probe (Felson, 2019).","86b67a78":"This is an artery and vein from 060f60eeecf1ab502526a34db9caaf8e.tiff.  Notice the thicker wall and circular shape of the artery.  Notice the thinner wall and irregular and floppy shape of the vein.","eb4a0513":"\u00a9 NIH, Public Domain, Wikimedia","938f0744":"This is part of the stroma from 0200fa88e8c01546663b9db1726936ac.tiff. Notice the light thin pink fibers which is connective tissue and the dark pink thick fibers which are muscle fibers.","2023a446":"<div class=\"alert alert-block alert-info\">\n<b>Study Tip #2:<\/b> When viewing histological slides, it is sometimes better to view slides from both animal models and human slides.  Histological slides from animal models are not significantly anatomically different from human histological slides and may have better preparation than human slides.  Therefore, slides from animal models have clearer anatomical structures than human slides. <\/div>[](http:\/\/)","659f6bbc":"#### Adipocytes\n\nThese are white fat cells.  They have a single large lipid droplet with a thin rim around the cytoplasm.  The nucleus is pushed out to the side (The Histology Guide).  Below is an image of a white adipocyte, beige adipocyte, and brown adipocyte.  The white adipocyte is what is present in the biopsy samples. \n\n![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/3\/38\/Adipocyte_types.jpg)\n\n\u00a9 Ktoike, Creative Commons Attribution-Share Alike 4.0 International License, Wikimedia\n\nWhen tissues undergo the staining process, the lipid droplet in the cell is extracted.  This is why the cells appear empty in the biopsy samples (The Histology Guide).","aa53219a":"This is part of the stroma from 04201ee15d33abe4b032317792cf1040.tiff. Notice on this slide it is more difficult to distinguish between the connective tissue and the muscle fibers within the sample.","f1878d23":"#### Nerve\n\nThis is a nerve from the outer connective tissue.  Nerves are located in the capsule, appear in a bundle, and have a generally wavy appearance.  Nerves in the prostate hold clinical significance because cancerous prostatic glands grow around them (Minarcik, 2007).  \n\n","6a222732":"This is a cluster of concretions from 00412139e6b04d1e1cee8421f38f6e90.tiff.  ","4d084efc":"# Histology of the Prostate\n\n## Prostate Capsule and Prostate Stroma\n\nThe outer part of the prostate is considered the capsule while the inner part of the prostate surrounding the glands is considered the stroma.  The capsule is composed of connective tissue and contains smooth muscle cells and nerves.  It is also richly vascularized with blood vessels.  The stroma is also composed of connective tissue with smooth muscle fibers and surrounds the glands of the prostate (Gartner, 2015). \n\nThe capsule of the prostate can be observed [here (Prostate Cross Section, Oklahoma State University).](https:\/\/instruction.cvhs.okstate.edu\/Histology\/mr\/himrp6.htm)\n\nBelow is the image of the stroma of the prostate.  The stroma of the prostate surrounds the glands of the prostate as seen in this picture.\n\n![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/8\/81\/Prostatehistology.jpg)\n\n","e5000d03":"This is prostatic glands are from 019c1b40e6ec7410e8356c5d8d487954.tiff.  Notice that the glands are lined with columnar epithelium and that the glands are seperated by connective tissue.","7906157b":"\n**Clinical Correlation #2**: It is abnormal to see glands, even healthy glands, around the nerves of the prostate.  If there are glands around the nerves around the prostate, it is considered cancer (Minarcik, 2007).  This is called perineural invasion.  This occurs because prostate cancer has a tendency to invade and grow along the nerves of the prostate (Zareba et al. 2017).  Below is an image of prostatic adenocarcinoma with perineural invasion.  Notice the glands around the nerve of the prostate.\n  \n![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/4\/4c\/Prostatic_adenocarcinoma_with_perineural_invasion.JPG\/640px-Prostatic_adenocarcinoma_with_perineural_invasion.JPG)\n\n    \n\u00a9 Nephron, Creative Commons Attribution-Share Alike 3.0 Unported license, Wikimedia","6751f81d":"After the procedure, the specimens are prepared and stained.  Since most cells are transparent, special dyes are used to visualize cells and their unique properties.  The type of staining used with the specimens is H&E (Haematoxylin & Eosin) staining.  This staining is what gives your biopsies their purple\/pink appearance (The Histology Guide).\n\nEosin is an acidic dye which stains basic cellular structures red\/pink.  Haematoxylin is a basic dye that dyes acidic cellular structures purplish blue (The Histology Guide).","e63d9b80":"This is a nerve from fe2e96fbf3e76e9983d1cc4d90ef957b.tiff. Notice the connective tissue and muscle fibers surrounding the nerve.","9642fd09":"#### Arteries and Veins\n\nArteries and veins have different structural differences because of differences in pressure from blood flow.  Arteries have thicker walls than veins and are more circular than veins.  The walls of veins are thinner than arteries and appear irregular and floppy in shape (Victoria College).\n\nThere may be red blood cells in the lumen of the blood vessels.","f0edab41":"\u00a9 Cancer Research UK uploader, Creative Commons Attribution-ShareAlike 4.0 International, Wikipedia","9746e71e":"#### Concretions\n\nConcretions, which are also called corpora amylacea, may look alarming but are benign in nature.  They are formed by condensation of prostatic secretions (Gunasegaran, 2020).  The number of concretions increase as the patient ages (Gunasegaran, 2020).  They may also be seen in clusters.","57212de0":"## Importing Packages","297862bc":"It is also possible for part of the large intestine to be visible on the biopsy sample.  This is a section from cd894e213f1522b7dfc41d457dc4899b.tiff.  This section is from a non-cancerous prostate sample.  Notice the intestinal glands are visible.  This may have been caused by extra tissue being extracted during the tissue biopsy.","320d84ce":"This is a nerve from 019c1b40e6ec7410e8356c5d8d487954.tiff.  Notice the connective tissue ripped away from the nerve.","baf3c073":"# Other Histological Features\n\nThis is the slide 033e39459301e97e457232780a314ab7.tiff.  This slide is a non-cancerous prostate sample.  Notice that the sample appears to be mostly connective tissue, muscle, and nerves.  Keep this in mind when analyzing different biopsy samples in the study.","7b375b82":"This is outer connective tissue from 060f60eeecf1ab502526a34db9caaf8e.tiff.","f8540657":"This is an artery from 035587e63d72f8537b3fce5067bb18df.tiff.  Notice the red blood cells in the artery."}}