{"cell_type":{"b9fd25b4":"code","ad679200":"code","68d2799e":"code","efc6f143":"code","79050ace":"code","fcf6ef5b":"code","3ebd4346":"code","a5827132":"code","904b3fe5":"code","6defd405":"code","f655fc51":"code","1268ecad":"code","a467fd17":"code","c6bdeaf6":"code","b912fa57":"code","14a1d703":"code","48cb0243":"code","bd687e6e":"code","6dca009c":"code","7406df20":"code","e0029ca5":"code","70ae31fa":"code","cbb752da":"code","be27f757":"code","2a07749b":"code","66ba6ccd":"code","4898c5d4":"code","22f6cab2":"code","63f6e750":"code","a884db8a":"code","afb63a40":"code","3ad3f42b":"code","1326cb64":"code","2d709a31":"code","bb8d636d":"markdown","dbaad2c7":"markdown","04a7e35e":"markdown","bd3f36ce":"markdown","217496a8":"markdown","b4277c58":"markdown","495de995":"markdown","673fd50e":"markdown","5de25f75":"markdown","32f6dac6":"markdown","64b26b60":"markdown","e8ffa856":"markdown","24bda51a":"markdown","bb8c66c8":"markdown","0db8b05b":"markdown","9afbc219":"markdown","c022d0b1":"markdown","c827a641":"markdown","1712a38f":"markdown","65747030":"markdown"},"source":{"b9fd25b4":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","ad679200":"ieq_data = pd.read_csv(\"..\/input\/ashrae-global-thermal-comfort-database-ii\/ashrae_db2.01.csv\", low_memory=False)","68d2799e":"ieq_data.head()","efc6f143":"ieq_data.info()","79050ace":"personal_factors_data = ieq_data[[\"Climate\",\"City\",\"Country\",\"Age\",\"Sex\",\"Thermal sensation\",\"Thermal preference\",\"Thermal comfort\",\"Clo\",\"Met\",\"Subject\u00abs height (cm)\",\"Subject\u00abs weight (kg)\",\"Air temperature (C)\",\"Relative humidity (%)\"]]","fcf6ef5b":"personal_factors_data.head()","3ebd4346":"cleaned_personal_factors_data = personal_factors_data.dropna()\ncleaned_personal_factors_data","a5827132":"cleaned_personal_factors_data.rename(columns={'Subject\u00abs height (cm)':'Height','Subject\u00abs weight (kg)':'Weight'},inplace=True)\ncleaned_personal_factors_data","904b3fe5":"cleaned_personal_factors_data.eval('Height2=(Height\/100)**2',inplace=True)\ncleaned_personal_factors_data.eval('Bmi=Weight\/Height2',inplace=True)\ncleaned_personal_factors_data","6defd405":"# cleaned_personal_factors_data[\"bmi\"] = ( cleaned_personal_factors_data[\"Subject\u00abs weight (kg)\"] \/ ((cleaned_personal_factors_data[\"Subject\u00abs height (cm)\"]\/100)**2))","f655fc51":"cleaned_personal_factors_data.head()","1268ecad":"def fit(row):\n    if row['Bmi'] <= 18.5:\n        return \"1\"\n    elif row['Bmi'] >= 25:\n        return \"2\"\n    else:\n        return \"3\"\n#\"1\"refers to underweight; \"2\"refers to overweight; \"3\" refers to fit.","a467fd17":"cleaned_personal_factors_data[\"Fitness_state\"] = cleaned_personal_factors_data.apply(fit, axis=1)\ncleaned_personal_factors_data","c6bdeaf6":"cleaned_personal_factors_data['Fitness_state'].value_counts()","b912fa57":"ieq_data[\"Met_rounded\"]= ieq_data[\"Met\"].round(0)\nieq_data[\"Clo_rounded\"]= ieq_data[\"Clo\"].round(0)\n\n","14a1d703":"ieq_data[\"ThermalSensationRounded\"] = ieq_data[\"Thermal sensation\"].round()","48cb0243":"ieq_data.info()","bd687e6e":"ieq_data.info()","6dca009c":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"ThermalSensationRounded\", y=\"Air temperature (C)\", hue=\"Clo_rounded\", palette=\"coolwarm\", data=ieq_data)","7406df20":"ieq_data.info()","e0029ca5":"ieq_data.info()","70ae31fa":"sns.set(color_codes=True)\nimport matplotlib.pyplot as pl\nfig, ax = plt.subplots()\nfig.set_size_inches(10,10)\nsns.distplot(cleaned_personal_factors_data['Age'])","cbb752da":"#\"1\"refers to underweight; \"2\"refers to overweight; \"3\" refers to fit.\nax=sns.distplot(cleaned_personal_factors_data['Fitness_state'],color='r')\n ","be27f757":"sns.displot(\n  data=cleaned_personal_factors_data,\n  x=\"Fitness_state\",\n  col=\"Sex\",\n  kind=\"hist\",\ncolor='g',\n  height=5,\n  aspect=1.2,\n  bins=20\n)","2a07749b":"def group(row):\n    if  row['Age'] <= 18:\n        return \"children\"\n    elif row['Age'] > 30:\n        return \"middleage\"\n    else:\n        return \"teens\"\n   # cleaned_personal_factors_data[\"Age Group\"] = cleaned_personal_factors_data.apply(group, axis=1)\n#cleaned_personal_factors_data","66ba6ccd":"cleaned_personal_factors_data[\"Age Group\"] = cleaned_personal_factors_data.apply(group, axis=1)\ncleaned_personal_factors_data","4898c5d4":"fig,ax = plt.subplots()\nfig.set_size_inches(15,15)\nsns.boxplot(x=\"Fitness_state\", y=\"Thermal sensation\",hue=\"Age Group\",palette=\"coolwarm\", data=cleaned_personal_factors_data)","22f6cab2":"Group1 = cleaned_personal_factors_data[cleaned_personal_factors_data['Age']>30]\nGroup2 = cleaned_personal_factors_data[cleaned_personal_factors_data['Age']<=18]\nGroup4 = cleaned_personal_factors_data[cleaned_personal_factors_data['Age']>18]\nGroup3 = Group4[Group4['Age']<=30]\n#Group1 refers to middle age, Group2 refers to children, Group3 refers to teens","63f6e750":"Group1","a884db8a":"fig, ax = plt.subplots()\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"Thermal comfort\", y=\"Air temperature (C)\", hue=\"Fitness_state\", data=Group1)\n","afb63a40":"fig, ax = plt.subplots()\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"Thermal comfort\", y=\"Air temperature (C)\", hue=\"Fitness_state\", data=Group2)","3ad3f42b":"fig, ax = plt.subplots()\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"Thermal comfort\", y=\"Air temperature (C)\", hue=\"Fitness_state\", data=Group3)","1326cb64":"fig, ax = plt.subplots()\nfig.set_size_inches(10,10)\nsns.violinplot(x=\"Thermal comfort\", y=\"Relative humidity (%)\", hue=\"Fitness_state\", data=Group1,palette=\"coolwarm\")","2d709a31":"\ng = sns.jointplot(\n    data=Group2,\n    x=\"Thermal sensation\", y=\"Relative humidity (%)\", hue=\"Fitness_state\",\n    kind=\"kde\",\n)","bb8d636d":"# What conditions are comfortable for people?\n\nThis notebook is designed to be a practical investigation of the what conditions influence the comfort of occupants in the various contexts that were tested in the ASHRAE Thermal Comfort Database II studies.\n\nWe will go through and investigate how temperature, humidity, air movement, and other factors influence comfort. In this analysis, we will use a subset of the larger data set that can be found on the project website: http:\/\/www.comfortdatabase.com\/\n\nWe will use the **Seaborn** library for this task: https:\/\/seaborn.pydata.org\/\n","dbaad2c7":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(y=\"Season\", x=\"Thermal sensation\",\n             palette=\"RdBu_r\",\n            data=ieq_data[[\"Season\",\"Thermal sensation\"]].dropna())\n\nsns.despine(offset=10, trim=True)","04a7e35e":"# Are the conditions that influence people's comfort?\n\nIs it air temperature, humidity, air movement? Other stuff?\n\nLet's use box plots to investigate!","bd3f36ce":"# How about personal attributes? Do they have an impact?\n\nLet's use box plots, but use the `hue=` attribute to add another dimension to the analysis.","217496a8":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"ThermalSensationRounded\", y=\"Air temperature (C)\", hue=\"Met_rounded\", data=ieq_data)","b4277c58":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(15,20)\nsns.boxplot(y=\"Climate\", x=\"Air temperature (C)\",\n            hue=\"ThermalSensationRounded\", palette=\"RdBu_r\",\n            data=ieq_data[[\"Climate\",\"Air temperature (C)\",\"ThermalSensationRounded\"]].dropna())\nplt.title(\"Thermal Sensation\")\nsns.despine(offset=10, trim=True)","495de995":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nplt.title(\"ABC\")\nsns.boxplot(x=\"ThermalSensationRounded\", y=\"Air temperature (C)\", data=ieq_data)","673fd50e":"# How does the country someone is from influence how they perceive comfort?\n\nLet's use some more advanced box plot techniques to compare the different countries, climates, and other geographical or cultural aspects","5de25f75":"## Using the `.round()` function\n\nLet's use the `.round()` function to create a more categorical set of options for metabolism and clothing levels","32f6dac6":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(y=\"Building type\", x=\"Thermal sensation\",\n             palette=\"RdBu_r\",\n            data=ieq_data[[\"Building type\",\"Thermal sensation\",\"Sex\"]].dropna())\n\nsns.despine(offset=10, trim=True)","64b26b60":"# Using other distribution-based visualizations from Seaborn\n\nThere are several other graphics that can be used to show distributions using seaborn: https:\/\/seaborn.pydata.org\/examples\/index.html","e8ffa856":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(12,15)\nsns.boxplot(y=\"Climate\", x=\"Air temperature (C)\",\n            hue=\"ThermalSensationRounded\", palette=\"RdBu_r\",\n            data=ieq_data[[\"Climate\",\"Air temperature (C)\",\"ThermalSensationRounded\"]].dropna())\n\nsns.despine(offset=10, trim=True)","24bda51a":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(15,20)\nsns.boxplot(y=\"Country\", x=\"Air temperature (C)\",\n            hue=\"ThermalSensationRounded\", palette=\"RdBu_r\",\n            data=ieq_data[[\"Country\",\"Air temperature (C)\",\"ThermalSensationRounded\"]].dropna())\nplt.title(\"Thermal Sensation\")\nsns.despine(offset=10, trim=True)","bb8c66c8":"fig, ax = plt.subplots()\nfig.set_size_inches(20,12)\nsns.barplot(data=Group1,x=\"Thermal comfort\", y=\"Air temperature (C)\",hue='Fitness_state',palette=\"husl\")    \n  ","0db8b05b":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(y=\"Cooling startegy_building level\", x=\"Thermal sensation\",\n             palette=\"RdBu_r\",\n            data=ieq_data[[\"Cooling startegy_building level\",\"Thermal sensation\"]].dropna())\n\nsns.despine(offset=10, trim=True)","9afbc219":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"ThermalSensationRounded\", y=\"Air velocity (m\/s)\", data=ieq_data)","c022d0b1":"# How does the type of building or its systems influence people's comfort?\n\nLet's use horizontal box plots to get a sense of the attributes of the built environment and how they influence comfort.","c827a641":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"ThermalSensationRounded\", y=\"Air temperature (C)\", hue=\"Sex\", data=ieq_data)","1712a38f":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(15,40)\nsns.boxplot(y=\"City\", x=\"Air temperature (C)\",\n            hue=\"ThermalSensationRounded\", palette=\"RdBu_r\",\n            data=ieq_data[[\"City\",\"Air temperature (C)\",\"ThermalSensationRounded\"]].dropna())\nplt.title(\"Thermal Sensation\")\nsns.despine(offset=10, trim=True)","65747030":"fig, ax = plt.subplots()\n# the size of A4 paper\nfig.set_size_inches(10,10)\nsns.boxplot(x=\"ThermalSensationRounded\", y=\"Relative humidity (%)\", data=ieq_data)"}}