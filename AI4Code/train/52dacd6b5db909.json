{"cell_type":{"1e60c3d4":"code","64d4dda3":"code","9c3fd6af":"code","8e4fe1cb":"code","85d18bb7":"code","94cb6065":"code","71f31dde":"code","85d8c0ac":"code","a351f665":"code","af0995de":"code","24e7f7fa":"code","d0a1f59f":"code","550c3157":"code","646b6656":"code","2fa7425f":"code","451f9b0f":"code","901dd07e":"code","a092c9dc":"code","8fe91164":"code","6b28956b":"code","f19634a3":"code","39c3a9e9":"code","3571f98b":"code","3cc4d326":"code","04cbcbd2":"code","3cb174c1":"code","3304055a":"code","5d0434b1":"code","029986aa":"code","ca217c35":"code","8339f229":"code","9c4bdae2":"code","cdfea3e9":"code","f03d65db":"code","276e9cf3":"code","c2732725":"code","ab01cf22":"code","27ba949b":"code","12f26de6":"code","0b2a603c":"code","74cf363a":"markdown","b7638fd5":"markdown","1c85ee13":"markdown","a7d17af3":"markdown","38e2c675":"markdown","4eb17825":"markdown","139d47e7":"markdown","7db7ca4d":"markdown","9aad8ce8":"markdown","57678424":"markdown","83ba2c45":"markdown","43de1172":"markdown","3130e9fb":"markdown","b9614034":"markdown","5e2f211a":"markdown"},"source":{"1e60c3d4":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","64d4dda3":"import plotly as py\nfrom plotly.graph_objs import graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, iplot, plot\nimport cufflinks as cf","9c3fd6af":"init_notebook_mode(connected = True)\ncf.go_offline(connected = True)","8e4fe1cb":"tweet_data = pd.read_csv(\"\/kaggle\/input\/twitter-airline-sentiment\/Tweets.csv\")","85d18bb7":"tweet_data.info()","94cb6065":"tweet_data.drop(['airline_sentiment_gold', 'negativereason_gold', 'tweet_coord'], axis = 1, inplace = True)","71f31dde":"tweet_data.info()","85d8c0ac":"data = go.Pie(values = tweet_data['airline'].value_counts().values, \n              labels = tweet_data['airline'].value_counts().index.values, hole = 0.3)\n\nmap_airlinecount = go.Figure(data = data)","a351f665":"map_airlinecount","af0995de":"tweet_data['airline_sentiment'].iplot(kind = 'histogram')","24e7f7fa":"data1 = go.Bar(x = tweet_data['negativereason'].value_counts().index.values, \n               y = tweet_data['negativereason'].value_counts().values,)\n\nmap_negativereason1 = go.Figure(data = data1)","d0a1f59f":"map_negativereason1","550c3157":"data2 = go.Pie(values = tweet_data['negativereason'].value_counts().values,\n               labels = tweet_data['negativereason'].value_counts().index.values,\n               hole = 0.3)\n\nmap_negativereason2 = go.Figure(data = data2)","646b6656":"map_negativereason2","2fa7425f":"def negative_sentiment_plot(airline) :\n    df = tweet_data[tweet_data['airline'] == airline]\n    count = dict(df['negativereason'].value_counts())\n    count1 = list(df['negativereason'].value_counts())\n    reasons = list(df['negativereason'].unique())\n    reasons = [x for x in reasons if str(x) != 'nan']\n    df_reason = pd.DataFrame({'Reasons' : reasons})\n    df_reason['count']=df_reason['Reasons'].apply(lambda x: count[x])\n    return df_reason\n    #plt.figure(figsize = (30,12))\n    #plt.bar(reasons, count1)","451f9b0f":"negative_sentiment_plot('United')","901dd07e":"import nltk\nimport re\nfrom nltk.corpus import stopwords\nimport string","a092c9dc":"def clean_tweet(raw_tweet) :\n    clean_tweet = re.sub('[^a-zA-Z]', ' ', raw_tweet)\n    clean_tweet = clean_tweet.lower().split()\n    clean_tweet = [x for x in clean_tweet if x not in stopwords.words('english')]\n    clean_tweet = ' '.join(clean_tweet)\n    return clean_tweet","8fe91164":"tweet_data['clean_tweet'] = tweet_data['text'].apply(lambda x : clean_tweet(x))","6b28956b":"tweet_data['rating'] = tweet_data['airline_sentiment'].apply(lambda x : 0 if x == 'negative' else 1)","f19634a3":"tweet_ML_data = tweet_data[['clean_tweet', 'rating']]","39c3a9e9":"tweet_ML_data.info()","3571f98b":"from sklearn.naive_bayes import MultinomialNB","3cc4d326":"from sklearn.model_selection import train_test_split\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.feature_extraction.text import TfidfTransformer","04cbcbd2":"x = tweet_ML_data['clean_tweet']\ny = tweet_ML_data['rating']","3cb174c1":"countvectorizer = CountVectorizer()","3304055a":"countvectorizermatrix = countvectorizer.fit_transform(x)","5d0434b1":"tfidf = TfidfTransformer()","029986aa":"tfidfmatrix = tfidf.fit_transform(countvectorizermatrix)","ca217c35":"x_train, x_test, y_train, y_test = train_test_split(tfidfmatrix, y, test_size = 0.3, random_state = 101)","8339f229":"model = MultinomialNB()","9c4bdae2":"model.fit(x_train, y_train)","cdfea3e9":"predictions = model.predict(x_test)","f03d65db":"from sklearn.metrics import classification_report, confusion_matrix","276e9cf3":"print(classification_report(y_test, predictions))\nprint(confusion_matrix(y_test, predictions))","c2732725":"from sklearn.ensemble import RandomForestClassifier","ab01cf22":"model1 = RandomForestClassifier(n_estimators = 200)","27ba949b":"model1.fit(x_train, y_train)","12f26de6":"predictions1 = model1.predict(x_test)","0b2a603c":"print(classification_report(y_test, predictions1))\nprint(confusion_matrix(y_test, predictions1))","74cf363a":"Applying the Function to DataSet","b7638fd5":"Importing the Random Forrest Classifier for Classification","1c85ee13":"Plotting the count of Sentiments { Positive, Negative, Neutral}","a7d17af3":"Finding and Plotting the count of various Airlines","38e2c675":"Importing the required libraries","4eb17825":"Function to find the negative sentiment reasons by AIRLINES","139d47e7":"Creating a New Column and marking Negative Sentiments as 0 and Positive Sentiments as 1","7db7ca4d":"Importing the Multinomial Naive Bayes for Classification of Tweets ","9aad8ce8":"Dividing the Dataset into Training and Testing Data","57678424":"Dropping the Columns with NULL values","83ba2c45":"Importing the DATA","43de1172":"Plotting the reasons for Negative Sentiments","3130e9fb":"Importing the Libraries for NLP","b9614034":"Measuring the Accuracy of the Model","5e2f211a":"Removing the Stopwords and cleaning the messages"}}