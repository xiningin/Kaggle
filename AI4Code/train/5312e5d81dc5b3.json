{"cell_type":{"04b19724":"code","d2bed964":"code","a605d33a":"code","7b32018e":"code","30288a6d":"code","ed0b2509":"code","8003f394":"code","32299ed2":"code","1a87ebc7":"code","058f8cb4":"code","ac7f4621":"code","50c7ca8a":"code","b9145300":"code","0d580a67":"code","1aab5b01":"code","49deb53e":"code","c5f71901":"code","17be9512":"code","11565bb5":"code","e8ec702e":"code","59ab447d":"code","8380974c":"code","70fc8e27":"code","f78d7b54":"code","371aa579":"code","873b4050":"code","dfebe2aa":"code","10ac1b24":"code","101ee417":"code","4861002f":"code","7e18dfd1":"code","d8940b20":"code","e4b91b66":"code","2c7455fb":"code","47304a16":"code","cdba4a03":"code","c8aa2cf6":"code","5e52d162":"code","ab34982e":"code","ba99cd49":"code","b92bc011":"code","ba66c140":"code","8ce97f5d":"code","e4357fba":"code","c96153ff":"code","2e714127":"code","306c7ec7":"code","31265377":"code","d9f9eb6e":"code","f5c1d4ff":"code","32752029":"markdown","f17f746c":"markdown","cbd37551":"markdown","d0e3ba7a":"markdown","ea6f75e3":"markdown","aeabcd5b":"markdown","2e21ff27":"markdown","5d18dbac":"markdown","e9a2b267":"markdown","b8185d81":"markdown","6f43bf9d":"markdown","3de70d2c":"markdown","528bc9e1":"markdown","41af686a":"markdown","97d6973f":"markdown","868afdf1":"markdown","5592f08c":"markdown","5b59df49":"markdown","3305f291":"markdown","ca1b136a":"markdown","613e10dd":"markdown","53cb1e6d":"markdown","af18c28a":"markdown","dba7a824":"markdown","1b6fee11":"markdown","ac2b9935":"markdown","aa2761df":"markdown","80eb4ebf":"markdown","3efbac60":"markdown","8aee06ee":"markdown","8d77bf05":"markdown","e7a95c7a":"markdown","2d34df11":"markdown","375a88c0":"markdown","e17a7f38":"markdown","6b7a0c94":"markdown","8561bbf4":"markdown"},"source":{"04b19724":"import numpy as np\nimport pandas as pd\nfrom pandas import Series, DataFrame\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport scipy.stats as stats\n","d2bed964":"df1=pd.read_csv('\/kaggle\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')","a605d33a":"df1.head()","7b32018e":"Missing_values=df1.isnull().sum()","30288a6d":"Missing_values","ed0b2509":"df1.isnull()","8003f394":"df1.dtypes","32299ed2":"sns.heatmap(df1.isnull(), cbar=False, cmap='nipy_spectral_r')\nplt.title('Missing values')","1a87ebc7":"df_clean=df1[df1['people_fully_vaccinated_per_hundred'].notna()]\ndf_cleaned=df_clean[df_clean['daily_vaccinations_raw'].notna()]","058f8cb4":"df_cleaned.isnull().sum()","ac7f4621":"display(pd.DataFrame([df1['vaccines'].unique()], index=['Vaccine']).T.sort_values('Vaccine')\\\n          .style.set_caption('Vaccine names')\n          )","50c7ca8a":"vaccines = df1.groupby(['country', 'vaccines']).count().reset_index()[['country', 'vaccines']]\\\n                  .groupby('vaccines').count()['country'].reset_index().sort_values('country', ascending=False)\nvaccines.columns = ['Vaccines', 'Number of countries used']\ndisplay(vaccines.style.set_caption('Number of countries used vaccine'))\n","b9145300":"daily_total_vaccinations = df1.groupby(['date', 'vaccines'])['total_vaccinations'].sum().reset_index()\ndaily_total_vaccinations\n","0d580a67":"vaccine = df_cleaned.groupby(\"country\", as_index=False)[\"vaccines\"].max()\n\nvaccine","1aab5b01":"sns.set_style('darkgrid')\nplt.figure(figsize=(90,10))\n\nsns.countplot(\"vaccines\", data=vaccine, order=vaccine[\"vaccines\"].value_counts().index)\n\nplt.tight_layout()\nplt.ylabel(\"# of Countries\", fontsize=12)\nplt.xlabel(\"Vaccine\/Combination of Vaccines\", fontsize=12)","49deb53e":"df1[\"iso_code\"].unique()","c5f71901":"df1[\"country\"].unique()","17be9512":"df2 = df_cleaned.groupby([\"country\",'iso_code','vaccines'])['total_vaccinations','people_vaccinated','people_fully_vaccinated',\n                                           'daily_vaccinations','total_vaccinations_per_hundred','people_vaccinated_per_hundred',\n                                           \"people_fully_vaccinated_per_hundred\",'daily_vaccinations_per_million'].max().reset_index()\ndf2.head(10)","11565bb5":"plt.figure(figsize=(20, 6))\ndf2.groupby('country')['total_vaccinations'].max().sort_values(ascending=False)[:50].plot(kind='bar');\nplt.title('Country vs Total Vaccination', fontsize=24, fontweight='bold')\nplt.ylabel('Total Vaccinations');","e8ec702e":"plt.figure(figsize=(20, 6))\ndata = df2.groupby('country')['people_vaccinated'].max().sort_values(ascending=False)\nplt.bar(data.index, data);\nplt.xticks(rotation='90')\nplt.yticks()\nplt.title('Country vs People Vaccinated', fontsize=24, fontweight='bold')\nplt.ylabel('people vaccinated');","59ab447d":"plt.figure(figsize=(20, 6))\ndf2.groupby('country')['daily_vaccinations_per_million'].max().sort_values(ascending=False)[:50].plot(kind='bar')\nplt.ylabel('daily vaccinations per million')\nplt.title('Daily Vaccination in Country per million', fontsize=24, fontweight='bold');","8380974c":"plt.figure(figsize=(20, 6))\ndf2.groupby('country')['people_fully_vaccinated'].max().sort_values(ascending=False)[:50].plot(kind='bar')\nplt.ylabel('People fully vaccinated')\nplt.title('People fully vaccinated in Country', fontsize=24, fontweight='bold');","70fc8e27":"df3 = df_cleaned.loc[:,['country', 'date', 'vaccines', 'daily_vaccinations']].dropna(subset=['daily_vaccinations'])\ndf3[\"date\"] = pd.to_datetime(df3[\"date\"], format = '%Y-%m-%d')\n\ndf3_agg = df3.groupby('country').daily_vaccinations.agg(\n    sum_vaccination  = 'sum',\n    mean_vaccination = 'mean')\n\n\nfinal_df1 = df3.merge(df3_agg, on = 'country')\nfinal_df1","f78d7b54":"total_vaccinations = df1.groupby('country')['total_vaccinations'].max().sort_values(ascending=False)\ntotal_vaccinations1 = pd.DataFrame(total_vaccinations).reset_index()\ntotal_vaccinations2 = total_vaccinations1.iloc[:15, :]\ntotal_vaccinations2","371aa579":"size_label=12\nsize_ticks = 10\nsize_title= 20\n\nplt.figure(figsize=(12,10))\nsns.barplot('total_vaccinations','country', data=total_vaccinations2, orient='h', palette=\"rocket\")\n\nplt.title('Top 15 countries that have given most vaccinations on {13th April 2021}', size=size_title)\nplt.xlabel('Country', size=size_label)\nplt.ylabel('Number of vaccinations', size=size_label)\nplt.xticks(size=size_ticks)\nplt.yticks(size=size_ticks)\n\nplt.show()","873b4050":"df_cleaned.groupby(['country']).agg({'daily_vaccinations':'mean'}).sort_values(by='daily_vaccinations', ascending=False)[:10].plot.barh(color=\"blue\", figsize=(15,5))\nplt.title('Average daily vaccinations by country - Top 10')\nplt.legend('')\nplt.xlabel('average daily vaccinations')\nplt.show()","dfebe2aa":"sort = df3_agg.sort_values(by = 'mean_vaccination', ascending = False).reset_index()\ncountries = sort.country.to_list()\n\ngraphing_mean = final_df1.sort_values(by = 'mean_vaccination', ascending = False)\ntop10_mean = graphing_mean[graphing_mean['country'].isin(countries[:10])]\n\nfig = plt.figure(figsize = (12,8))\nax = fig.add_subplot()\nsns.lineplot( x = 'date', y = 'daily_vaccinations', hue = 'country', \n    data = top10_mean)\nplt.legend(ncol = 3, frameon = False, title = '')\nplt.xticks(rotation=45) \nplt.title('Top 10 countries vaccinations (sorted by mean values)')","10ac1b24":"selected_countries = ['India', 'Germany', 'United States', 'United Arab Emirates']\ndata_countries = df_cleaned[df_cleaned['country'].isin(selected_countries)].sort_values(by='date', ascending=True)\n\n\nplt.figure(1, figsize=(20,10))\nsns.lineplot(x='date',y='daily_vaccinations', hue='country', data = data_countries)\nplt.xticks(rotation=70)\nplt.title('Timeline of vaccinations for selected countries', size=20)\nplt.legend()\nplt.show()","101ee417":"sort_sum = df3_agg.sort_values(by = 'sum_vaccination', ascending = False).reset_index()\ncountries_sum = sort_sum.country.to_list()\n\ngraphing_sum = final_df1.sort_values(by = 'sum_vaccination', ascending = False)\ntop10_sum = graphing_sum[graphing_sum['country'].isin(countries_sum[:10])]\ntop40_sum = graphing_sum[graphing_sum['country'].isin(countries_sum[:40])]\n\nfig = plt.figure(figsize = (12,8))\nax = fig.add_subplot()\nsns.lineplot( x = 'date', y = 'daily_vaccinations', hue = 'country', \n    data = top10_sum)\nplt.legend(ncol = 3, frameon = False, title = '')\nplt.xticks(rotation=45) \nplt.title('Top 10 countries vaccinations (sorted by total amount of vaccinations)')","4861002f":"plt.figure(figsize=(8,14))\nsns.barplot(x=top40_sum['sum_vaccination'], y=top40_sum['country'], palette=\"RdBu\")\nplt.xlabel(\"Sum of Vaccination\")\nplt.ylabel(\"Country\")\nplt.title(\"Total vaccinations per country, top 40\")\nplt.show()","7e18dfd1":"vaccines = final_df1.loc[:,['country', 'vaccines']]\nvaccines = vaccines.groupby('vaccines')['country'].unique()\nvaccines = pd.DataFrame(vaccines).reset_index()\nvaccines","d8940b20":"def plot_trend(df_cleaned,feature,title,country):\n    plt.style.use('ggplot')\n    plt.figure(figsize=(20,25))\n    \n    for i,country in enumerate(country):\n        plt.subplot(8,4,i+1)\n        data = df_cleaned[df_cleaned['country'] == country]\n        sns.lineplot(x=df_cleaned['date'] ,y=df_cleaned[feature],label = feature)\n        plt.xlabel('')\n        plt.tick_params(axis='x',which='both',top=False,bottom=False,labelbottom=False)\n        plt.title(country)\n        \n    plt.suptitle(title,y=1.05)\n    plt.tight_layout()\n    plt.show()","e4b91b66":"country = ['Argentina', 'Austria', 'Belgium', 'Brazil','Canada','China','Czechia', 'Denmark', 'England','Finland', 'France',\n       'Germany','India','Ireland', 'Israel', 'Italy', 'Kuwait','Mexico', 'Netherlands','Norway', 'Poland','Russia',\n        'Saudi Arabia', 'Scotland','Singapore','Spain', 'Sweden', 'Switzerland', 'Turkey',\n        'United Arab Emirates', 'United Kingdom', 'United States']\nplot_trend(df_cleaned,'total_vaccinations','Trend of total vaccination',country)","2c7455fb":"df_in = df1[ df1['country'] == 'India' ]","47304a16":"df_in.head()","cdba4a03":"df_in.isnull().sum()","c8aa2cf6":"df_in = df_in[df_in['people_fully_vaccinated_per_hundred'].notna()]\n","5e52d162":"df_in.isnull().sum()","ab34982e":"df_in.head()","ba99cd49":"total_vaccination_data_india = df_in.groupby([\"country\",'iso_code','vaccines'])['total_vaccinations','people_vaccinated','people_fully_vaccinated',\n                                           'daily_vaccinations','total_vaccinations_per_hundred','people_vaccinated_per_hundred',\n                                           \"people_fully_vaccinated_per_hundred\",'daily_vaccinations_per_million'].max().reset_index()\ntotal_vaccination_data_india ","b92bc011":"df_in[['people_vaccinated_per_hundred', 'people_fully_vaccinated_per_hundred']].plot(ylabel = '% vaccinated', linewidth = 3)\nplt.grid()","ba66c140":"df_in[['people_vaccinated', 'people_fully_vaccinated']].plot(ylabel = '(in 1000) vaccinated', linewidth = 3)\nplt.grid()","8ce97f5d":"pd.DataFrame([df_in['vaccines'].unique()],columns=['Vaccine'],index=['India'])","e4357fba":"fig, ax = plt.subplots(1,1, figsize=(40,6))\n\ng1 = sns.lineplot(x=df_in['date'],y=df_in['total_vaccinations'])\n\nfig.text(0.3, 0.9, 'Number of total Vaccinations in India w.r.t Date', \n       fontsize=25, fontweight='bold',color='black')\nfig.text(0.265, 0.33, 'India', \n        fontsize=25, fontweight='bold')\nax.yaxis.tick_right()\nax.tick_params(length=1)\nplt.xlabel('DATE')\nplt.xticks(rotation=45) \nplt.ylabel('Total Vaccinations')","c96153ff":"y = [df_in['people_vaccinated_per_hundred'].max()]\nx = ['India']\ng=sns.barplot(x,y)\ng.text(-0.5, 3.5, 'Max percentage of people vaccinated in India', \n       fontsize=14, fontweight='bold', fontfamily='Arial',color='black')\nplt.show()","2e714127":"y = [df_in['people_fully_vaccinated_per_hundred'].max()]\nx = ['India']\ng=sns.barplot(x,y)\ng.text(-0.5, 0.7, 'Max percentage of people fully vaccinated in India', \n       fontsize=14, fontweight='bold', fontfamily='Arial',color='black')\nplt.show()","306c7ec7":"fig, ax = plt.subplots(1,1, figsize=(40,6))\n\ng1 = sns.lineplot(x=df_in['date'],y=df_in['daily_vaccinations_per_million'])\n\nfig.text(0.3, 0.9, 'Vaccination per million in India', \n       fontsize=25, fontweight='bold',color='black')\nfig.text(0.265, 0.33, 'India', \n        fontsize=25, fontweight='bold')\nplt.xticks()\nax.yaxis.tick_right()\nax.tick_params(length=1)\nplt.xlabel('DATE')\nplt.ylabel('Daily Vaccinations per Million')","31265377":"plt.bar(df_in['date'][1:], df_in['daily_vaccinations_raw'][1:], label = 'daily vaccinations')\nplt.xlabel('Date')\nplt.ylabel('(in 1000)daily vaccination numbers')\nplt.axhline(y = np.mean(df_in['daily_vaccinations_raw']), color = 'blue', ls = '--', linewidth = 9, label = 'population mean')\nplt.legend(loc = 9)\nplt.xticks(rotation = 90)\nplt.grid()","d9f9eb6e":"def EvalCdf(sample, x):\n    count = 0\n    for i in sample:\n        if i <= x:\n            count += 1\n    return count \/ len(sample)","f5c1d4ff":"vaccinated = sorted(df_in['people_vaccinated'].values)\ncdf = [EvalCdf(vaccinated, x) for x in vaccinated]\n\nplt.plot(vaccinated, cdf, linewidth = 3)\nplt.grid()","32752029":"# Visualisation for Top 10 countries vaccinations (sorted by total amount of vaccinations)","f17f746c":"# Displaying all the names of vaccines used .","cbd37551":"# Reading the Data","d0e3ba7a":"# Visualisation of Max percentage of people vaccinated in India","ea6f75e3":"# Timeline of vaccinations for selected countries","aeabcd5b":"# What vaccines are used and in which countries?","2e21ff27":"# Trend of total vaccination according to countries","5d18dbac":"# Grouping data by vaccines","e9a2b267":"i.e approx 3%","b8185d81":"# Visualisation for daily vaccination per million in countries ","6f43bf9d":"# Visualisation of 'Max percentage of people fully vaccinated in India","3de70d2c":"# which country has vaccinated more people","528bc9e1":"# Finding out the integer and float features from data.","41af686a":"# Finding out which vaccine or combination of vaccines are being used the most in the world currently","97d6973f":"# distribution of number of people vaccinated","868afdf1":"#  Daily vaccinations by the type of vaccines","5592f08c":"# Analysis of the number of people being vaccinated daily","5b59df49":"# Average daily vaccinations by country - Top 10","3305f291":"# Viewing missing values within the data.","ca1b136a":"#  Plotting missing values of vaccination.","613e10dd":"# Visualisation of 'total Vaccinations' on a particular 'Date'","53cb1e6d":"i.e approx 1%","af18c28a":"# Visualisation of Country VS Total Vaccination","dba7a824":"# Since the data contains multiple null entries which are not in use for analysing the data so we just take the data which is important ","1b6fee11":"# Loading the data","ac2b9935":"# Visualisation of Country VS People Vaccinated","aa2761df":"# Visualisation for Top 10 countries vaccinations (sorted by mean values)","80eb4ebf":"# Visualisation of Total vaccinations per country, top 40","3efbac60":"# Visualisation for no. of people fully vaccinated in countries ","8aee06ee":"#  Sorting the information given according to the iso code and countries ","8d77bf05":"# Droping null values from the dataset","e7a95c7a":"In USA, maximum people got fully vaccinated all over the world. ","2d34df11":"# Importing Libraries\n","375a88c0":"# Sorting out India's Data from the complete dataset","e17a7f38":"# Visualisation of daily vaccinations per million in India","6b7a0c94":"# Finding if there's any missing values in our data set.","8561bbf4":"# Names of vaccines used in INDIA"}}