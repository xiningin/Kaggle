{"cell_type":{"1024e291":"code","f029bc09":"code","0b34abed":"code","a0d5a427":"code","dc61ea6c":"code","d5c89701":"code","efda828e":"code","8e066a12":"code","5f2772a7":"code","6527ea50":"code","4d345349":"code","1412669d":"code","1c9ccd1e":"code","c08a2f58":"code","b1967312":"code","72028492":"code","433c34ef":"code","3a1f0499":"code","40f68ed3":"code","5d365cca":"code","07ab2923":"code","64953082":"code","681662c0":"code","24c17762":"code","e73fd089":"code","eb6c75cf":"code","53e243c0":"code","3dececea":"code","a3cba0dd":"code","6ab5ec8f":"code","88dbe6d9":"code","bd7de643":"code","85fe995c":"markdown","89cf74a6":"markdown","1082e83e":"markdown","c69c59ad":"markdown","d7944cef":"markdown","0bd597cd":"markdown","3de77623":"markdown","dcf51c94":"markdown","71bf9e74":"markdown","0a4d1b06":"markdown","4bd990cb":"markdown","40478079":"markdown","6118fd27":"markdown","2f35ecac":"markdown","f30f3c56":"markdown","6c35f2a9":"markdown","f17058dc":"markdown"},"source":{"1024e291":"# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f029bc09":"!pip install -q sweetviz\n!pip install -q klib","0b34abed":"import os\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport klib\n\n## Data Vizualisation library\nimport plotly as py\nimport plotly.graph_objs as go\nimport plotly.figure_factory as ff\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\nfrom plotly.offline import iplot\nfrom plotly.offline import iplot\n\n\nimport seaborn as sns #for making plots\nimport matplotlib.pyplot as plt # for plotting\nimport os  # for os commands\nplt.rcParams['figure.figsize'] = [16, 10]\n%matplotlib inline","a0d5a427":"df_details = pd.read_csv('\/kaggle\/input\/d\/praveengovi\/tamil-nadu-2021-state-elections\/Tamil_Nadu_State_Elections_2021_Details.csv')\ndf_cons = pd.read_csv('\/kaggle\/input\/d\/praveengovi\/tamil-nadu-2021-state-elections\/Tamil_Nadu_State_Elections_2021_Constituency_Metadata.csv')\ndf_alliance = pd.read_csv('\/kaggle\/input\/d\/praveengovi\/tamil-nadu-2021-state-elections\/Tamil_Nadu_State_Elections_2021_Alliance.csv')","dc61ea6c":"df_details.head()","d5c89701":"df_details[['Party','Total_Votes']].drop_duplicates(keep='first').sort_values('Total_Votes',ascending=False)","efda828e":"votes_by_parties =df_details.groupby(['Party']).agg({'Total_Votes':'sum'}).reset_index().sort_values('Total_Votes',ascending=False).head(40)\ndf_alliance.rename(columns={'PARTY_FULL_NAME':'Party'},inplace=True)\nvotes_by_parties1 = votes_by_parties.merge(df_alliance,on='Party',how='left')\nvotes_by_parties1['ALLIANCE_NAME'] = votes_by_parties1['ALLIANCE_NAME'].fillna('No Alliance')\nvotes_by_parties1['PARTY_ABBR'] = votes_by_parties1['PARTY_ABBR'].fillna('NA')\nvotes_by_parties1 = votes_by_parties1.replace('Non-aligned parties','No Alliance')\nvotes_by_parties1_with_alliance = votes_by_parties1[votes_by_parties1['ALLIANCE_NAME']!='No Alliance'].sort_values(by=['Total_Votes'],ascending=False)\nvotes_by_parties1_without_alliance = votes_by_parties1[votes_by_parties1['ALLIANCE_NAME']=='No Alliance'].sort_values(by=['Total_Votes'],ascending=False)\nvotes_by_parties1_without_alliance_head4 =  votes_by_parties1_without_alliance.head(4)\nvotes_by_parties1_without_alliance_remains = votes_by_parties1_without_alliance[~votes_by_parties1_without_alliance['Party'].isin(votes_by_parties1_without_alliance_head4['Party'])]\nvotes_by_parties1_without_alliance_remains1=votes_by_parties1_without_alliance_remains.groupby(['ALLIANCE_NAME']).agg({'Total_Votes':'sum'}).reset_index()\nvotes_by_parties1_without_alliance_remains1['Party']='NA'\nvotes_by_parties1_without_alliance_remains1['PARTY_ABBR']='NA'\nvotes_by_parties1_without_alliance_remains1['Total_Constituency']=np.nan\nvotes_by_parties1_without_alliance_fnl =  pd.concat([votes_by_parties1_without_alliance_head4,votes_by_parties1_without_alliance_remains1[votes_by_parties1_without_alliance_head4.columns]])","8e066a12":"votes_by_parties1_without_alliance_fnl.head()","5f2772a7":"df_party_alliance = pd.concat([votes_by_parties1_with_alliance,votes_by_parties1_without_alliance_fnl])\ndf_party_alliance","6527ea50":"df_details_fnl = df_details.merge(df_party_alliance[['Party', 'ALLIANCE_NAME', 'PARTY_ABBR',\n       'Total_Constituency']],on='Party',how='inner')","4d345349":"df_details_fnl['Win_Lost_Flag1']='N'\ndf_details_fnl.loc[df_details_fnl['Win_Lost_Flag'],'Win_Lost_Flag1']='Y'\ndf_details_fnl = df_details_fnl[[ x for x in df_details_fnl.columns if x not in 'Win_Lost_Flag']]","1412669d":"klib.cat_plot(df_details_fnl) # returns a visualization of the number and frequency of categorical features","1c9ccd1e":"df_details_fnl[['Constituency','Party','Total_Votes']]","c08a2f58":"party_list = df_details_fnl['Party'].unique().tolist()","b1967312":"df_prty_det = df_details_fnl[['Constituency','Party','Total_Votes']].drop_duplicates(keep='first')","72028492":"def plot_party_level_votes_distribution(lists,df,field_name):\n    for l in lists:\n        print(\"Party Name =>\",l)\n        klib.dist_plot(df[df[field_name]==l])\n    return None","433c34ef":"plot_party_level_votes_distribution(party_list,df_prty_det,'Party')","3a1f0499":"df_alliance_det = df_details_fnl.groupby(['Constituency','ALLIANCE_NAME']).agg({'Total_Votes':'sum'}).reset_index()","40f68ed3":"alliance_list=df_alliance_det['ALLIANCE_NAME'].unique().tolist()","5d365cca":"plot_party_level_votes_distribution(alliance_list,df_alliance_det,'ALLIANCE_NAME')","07ab2923":"import sweetviz as sv\n#analyzing the dataset\ntrain_report = sv.analyze(df_details_fnl)\n#display the report\ntrain_report.show_html()","64953082":"train_report.show_notebook()","681662c0":"No_of_candidates_by_cons = df_details_fnl.groupby(['Constituency']).agg({'Candidate':'count'}).reset_index().rename(columns={'Candidate':'No_of_Candidates'})","24c17762":"klib.dist_plot(No_of_candidates_by_cons)","e73fd089":"fig, ax = plt.subplots(1, figsize=(30, 10))\nsns.boxplot(No_of_candidates_by_cons['No_of_Candidates'])","eb6c75cf":"fig, ax = plt.subplots(1, figsize=(30, 10))\nsns.violinplot(No_of_candidates_by_cons['No_of_Candidates'])","53e243c0":"df_details_fnl","3dececea":"plt.rcParams['figure.figsize'] = (18.0, 6.0)\nbins = 80\nplt.hist(df_details_fnl[df_details_fnl['PARTY_ABBR'] == 'DMK']['Total_Votes'], alpha = 0.6, bins=bins, label='DMK')\nplt.hist(df_details_fnl[df_details_fnl['PARTY_ABBR'] == 'AIADMK']['Total_Votes'], alpha = 0.8, bins=bins, label='AIADMK')\nplt.hist(df_details_fnl[df_details_fnl['PARTY_ABBR'] == 'NTK']['Total_Votes'], alpha = 0.4, bins=bins, label='NTK')\nplt.xlabel('length')\nplt.ylabel('Total_Votes')\nplt.legend(loc='upper right')\n#plt.xlim(0,150)\nplt.grid()\nplt.show()","a3cba0dd":"df_details_fnl_corr = df_details_fnl[['ALLIANCE_NAME','%_of_Votes','Total_Votes','Postal_Votes','Win_Lost_Flag1']].drop_duplicates(keep='first')","6ab5ec8f":"sns.pairplot(df_details_fnl_corr,hue='ALLIANCE_NAME')","88dbe6d9":"sns.heatmap(df_details_fnl_corr.corr())","bd7de643":"fig, ax = plt.subplots(1, figsize=(30, 10))\nsns.lineplot(df_details_fnl['Constituency'],df_details_fnl['Total_Votes'],hue=df_details_fnl['ALLIANCE_NAME'])\nplt.xlabel('Constituency')\nplt.ylabel('Total_Votes')\nplt.legend(loc='upper right')\n#plt.xlim(0,150)\nplt.show()","85fe995c":"## Total Votes landscapre across Constituency","89cf74a6":"# Sweetviz - Glimpse of Account","1082e83e":"<br>\n<h1 style = \"font-size:60px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Tamil Nadu - Elections 2021  <br> Data Analysis & Trends <\/h1>\n<br>","c69c59ad":"# Contents\n\n* [<font size=4>EDA<\/font>](#1)\n    * [Data Preperation](#1.1)\n    * [Univariate Analysis](#1.2)\n    * [Bivariate Analysis](#1.3)\n","d7944cef":"####  PairPlot of Total votes and Percentage of Votes","0bd597cd":"# Data Processing","3de77623":"# Contesting Candidates at Constituency ","dcf51c94":"# Univariate Analysis of Total votes at Alliance level","71bf9e74":"#### Observation :- \n  We can clearly see that no. of cadidates in 4 constituencies is abnormal","0a4d1b06":"# Univariate Analysis","4bd990cb":"# Univariate Analysis of Total votes at Party level","40478079":"## Unified view of Top 3 parties which got maximum votes","6118fd27":"#### Observation :- \n","2f35ecac":"# A visualization of the number and frequency of categorical features","f30f3c56":"### Context\n\nTamil Nadu 2021 State Assembly Elections - Dataset contains Constituency wise contestant, polling details & Winning details \n\n### Content\n\nTamil Nadu 2021 State Assembly Elections - Event date       -6-April-2021\n                                                                           Results out on - 2 May-2021\n\nData File - Tamil_Nadu_State_Elections_2021_Constituency_Metadata.csv\n\n* Constituency - Demographic location name in Tamil Nadu ( India )\n* District           - District on which Constituency belongs to ( Probably District may contain 6-8 Constituency )\n* Reserved.      -  Holds it belongs to SC\/ST or General \n* Lok_sabha_constituency - Lok Sabha is a national election constituency ( Probably each Lok Sabha constituency have 6 State Constituency )\n* State_Name    - State Name in India - \"Tamil Nadu\"\n\nData File - Tamil_Nadu_State_Elections_2021_Details.csv\n\n* Constituency\t- Demographic location name in Tamil Nadu ( India )\n* Candidate\t        -  Name of the Candidate who contested in the Constituency \n* Party\t                - Name of the party the Candidate belongs to \n* EVM_Votes\t        - No. of Electoral Voting Machine Votes \n* Postal_Votes\t- No. of Votes from Postal\n* Total_Votes\t        - Total Votes for the candidate \n* %_of_Votes\t        - Percentage of votes the candidate get in his constituency \n* Tot_Constituency_votes_polled\t- Total no. of votes polled in the constituency \n* Tot_votes_by_parties\t                - Total votes the party got in all the constituency \n* Winning_votes\t  - Total votes declated as win \n* Win_Lost_Flag  \ud83c\udf8a - True or False \n\nGeneral Information \ud83d\udc4d -\n\nTotal State Election Constituency in Tamil Nadu          - 234 \nTotal Lok Sabha Election Constituency in Tamil Nadu - 39 ","6c35f2a9":"# Let Start EDA","f17058dc":"# Bivariate Analysis"}}