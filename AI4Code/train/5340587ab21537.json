{"cell_type":{"f986d39f":"code","3bedb2bf":"code","26a9897f":"code","b4efba03":"code","afbbd796":"code","cf02abb5":"code","c357219d":"code","aa236c70":"code","9f660048":"code","97a63113":"code","d542d513":"code","df553f6e":"code","f09d3463":"code","e65fe6b1":"code","660f0ce7":"code","ca1af141":"code","956f341f":"code","da2c60cd":"code","af92a531":"code","bc534952":"code","2c29793a":"code","f926fe95":"markdown","925bd845":"markdown","bdcbdb68":"markdown","a37302e6":"markdown"},"source":{"f986d39f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","3bedb2bf":"#menginput library \nimport numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport os\nprint(os.listdir(\"..\/\/input\"))\n","26a9897f":"\ncustomers = pd.read_csv('..\/\/input\/\/Mall_Customers.csv')\n#input data ke dalam notebook\n\ncustomers.head()\n#melihat data","b4efba03":"customers.describe()\n#Kita melihat penjelasan data secara statistik deskriptif ","afbbd796":"customers.shape\n#melihat bentuk dari data yang terdiri dari 200 baris dan 5 kolom","cf02abb5":"customers.dtypes\n#melihat tipe dari data tersebut","c357219d":"customers.isnull().sum()\n#melihat apakah terdapat null atau tidak","aa236c70":"sns.countplot(x='Gender', data=customers)\nplt.style.use('Solarize_Light2') #memilih style plot\nplt.title('Distribusi Gender')\n#visualisasi data dengan melihat distribusi gender\n#dapat terlihat bahwa gender female atau perempuan lebih mendominasi dalam pengunjung mall","9f660048":"customers.hist('Age', bins=35, color = 'darkolivegreen')\nplt.title('Distribusi Umur')\nplt.xlabel('Age')\n\n#Visualisasi data untuk distribusi umur dengan bins 35 dikarenakan mengambil nilai tengah 0-70\n#berdasarkan grafik dapat kita lihat bahwa pengunjung mall terbanyak berumur diantara 30 - 33","97a63113":"\nplt.hist('Age', data=customers[customers['Gender'] == 'Male'], alpha=0.5, label='Laki-Laki', color = 'blue')\nplt.hist('Age', data=customers[customers['Gender'] == 'Female'], alpha=0.5, label='Perempuan', color ='red')\nplt.title('Distribusi Umur oleh Gender')\nplt.xlabel('Umur')\nplt.legend()\n\n#Visualisasi data dengan histogram melihat distribusi umur pengunjung mall berdasarkan gendernya\n#dapat dilihat bahwa perempuan dengan umur diatas 30 mendominasi sebagai pengunjung terbanyak\n#sedangkan pengunjung yang sedikit adalah laki-laki dan perempuan berumur diantara 59-65 tahun","d542d513":"\ncustomers.hist('Annual Income (k$)')\nplt.title('Distribusi Pendapatan Tahunan dalam Ribu Dollars')\nplt.xlabel('Ribu Dollar')\n\n#visualisasi data untuk distribusi pendapatan tahunan\n#distribusi pendapatan terbesar berada di kisaran 60 hingga 80 ribu dollar","df553f6e":"plt.hist('Annual Income (k$)', data=customers[customers['Gender'] == 'Male'], alpha=0.5, label='Laki-laki', color = 'green')\nplt.hist('Annual Income (k$)', data=customers[customers['Gender'] == 'Female'], alpha=0.5, label='Perempuan', color = 'red')\nplt.title('Distribusi Pendapatan berdasarkan Gender')\nplt.xlabel('Pendapatan (Ribu Dollars)')\nplt.legend()\n\n#apakah gender mempengaruhi pendapatan? maka dari itu kita mencari distribusinya\n#berdasarkan tabel di bawah dapat terlihat bahwa pendapatan lebih banyak oleh laki-laki dibandingkan perempuan\n#Pendapatan perempuan terbesar berada di kisaran 60-80 ribu dollar","f09d3463":"\ncustomers.hist('Spending Score (1-100)', color = 'darkgreen')\nplt.title('Distribusi Pengeluaran dalam Skor 1-100')\nplt.xlabel('Skor')\n\n#visualisasi data untuk distribusi pengeluaran dalam skor 1 sampai 100\n#distribusi pendapatan terbesar berada di kisaran skor 40-60","e65fe6b1":"plt.hist('Spending Score (1-100)', data=customers[customers['Gender'] == 'Male'], alpha=0.5, label='Laki-laki', color = 'orange')\nplt.hist('Spending Score (1-100)', data=customers[customers['Gender'] == 'Female'], alpha=0.5, label='Perempuan', color = 'brown')\nplt.title('Distribusi Pengeluaran berdasarkan Gender')\nplt.xlabel('Pengeluaran (Skor 1-100)')\nplt.legend()\n\n#apakah gender mempengaruhi pengeluaran? maka dari itu kita mencari distribusinya\n#berdasarkan tabel di bawah dapat terlihat bahwa pengeluaran lebih banyak oleh perempuan dibandingkan laki-laki\n#Pendapatan perempuan terbesar berada di kisaran skor 60-80 ","660f0ce7":"#kita memisahkan customer perempuan dan laki-laki\nmale_customers = customers[customers['Gender'] == 'Male']\nfemale_customers = customers[customers['Gender'] == 'Female']\n\n#selanjutnya kita mencari rata-rata pengeluaran dari keduanya\nprint(male_customers['Spending Score (1-100)'].mean())\nprint(female_customers['Spending Score (1-100)'].mean())\n\n#dapat dilihat bahwa rata-rata pengeluaran perempuan yang terbesar dibandingkan laki-laki","ca1af141":"Seg = customers.iloc[:, [3,4]].values\n\n#untuk melihat segmentasi, kita memisahkan data yang akan di segmenkan\n#kita menggunakan data pendapatan dan pengeluaran\n\nprint(Seg)","956f341f":"from sklearn.cluster import KMeans\nwcss = [] #menentukan nilai wcss\nfor n in range(1, 11): #range dengan looping 10 kali, jika 20 kali dengan range 22\n    kmeans = KMeans(n_clusters = n, init = 'k-means++', random_state = 0) \n    #n_cluster adalah jumlah cluster, init adalah jumlah K yang dipilih.\n    #kita menggunakan k-means++ karena menghindari jebakan centroid\n    #random state adalah jika kita memilih 0 di kesempatan berbeda maka bilangan random akan sama\n    kmeans.fit(Seg)\n    wcss.append(kmeans.inertia_)\nplt.plot(range(1, 11), wcss, 'o')\nplt.plot(range(1, 11), wcss, '-')\nplt.title('Metode Elbow')\nplt.xlabel('Jumlah cluster')\nplt.ylabel('WCSS')\nplt.show()","da2c60cd":"#membuat model K-Means\nkmeans = KMeans(n_clusters = 5, init = 'k-means++', random_state = 0)\ny_kmeans = kmeans.fit_predict(Seg)\n#untuk unsupervised learning kita gunakan \"fit_predict()\" sedangkan untuk supervised learning menggunakan \"fit_tranform()","af92a531":"print(y_kmeans)\n#untuk lebih simpel kita convert ke bentuk data frame atau tabel\ndf_kmeans = pd.DataFrame(y_kmeans)\ndf_kmeans.head(10)\n\n#array\/data frame di bawah memiliki arti yaitu pengunjung 1 masuk ke cluster 5 (karena 0 adalah 1 dan 4 adalah 5) dst","bc534952":"# Visualisasi hasil clusters\nplt.figure(1 , figsize = (17 , 8))\nplt.scatter(Seg[y_kmeans == 0, 0], #sumbu x atau 0 dengan kluster 0 atau 1\n            Seg[y_kmeans == 0, 1], #sumbu y atau 1 dengan kluster 0 atau 1\n            s = 100, #size adalah 100\n            c = 'maroon', #warna pola plot\n            label = 'Kluster 1') #nama dari plot\nplt.scatter(Seg[y_kmeans == 1, 0], Seg[y_kmeans == 1, 1], s = 100, c = 'blue', label = 'Kluster 2')\nplt.scatter(Seg[y_kmeans == 2, 0], Seg[y_kmeans == 2, 1], s = 100, c = 'green', label = 'Kluster 3')\nplt.scatter(Seg[y_kmeans == 3, 0], Seg[y_kmeans == 3, 1], s = 100, c = 'cyan', label = 'Kluster 4')\nplt.scatter(Seg[y_kmeans == 4, 0], Seg[y_kmeans == 4, 1], s = 100, c = 'orange', label = 'Kluster 5')\nplt.scatter(kmeans.cluster_centers_[:, 0], kmeans.cluster_centers_[:, 1], s = 300, c = 'black', label = 'Centroids')\nplt.title('Kluster pengunjung')\nplt.xlabel('Pendapatan tahunan (Ribu Dollar)')\nplt.ylabel('Skor pengeluaran (1-100)')\nplt.legend()\nplt.show()\n\n","2c29793a":"#visualisasi dengan lebih simpel\nplt.figure(1 , figsize = (17 , 8))\nplt.scatter(Seg[y_kmeans == 0, 0], Seg[y_kmeans == 0, 1], s = 100, c = 'maroon', label = 'Kaya dan Hemat')\nplt.scatter(Seg[y_kmeans == 1, 0], Seg[y_kmeans == 1, 1], s = 100, c = 'blue', label = 'Seimbang')\nplt.scatter(Seg[y_kmeans == 2, 0], Seg[y_kmeans == 2, 1], s = 100, c = 'green', label = 'Kaya dan Boros')\nplt.scatter(Seg[y_kmeans == 3, 0], Seg[y_kmeans == 3, 1], s = 100, c = 'cyan', label = 'Sederhana dan Boros')\nplt.scatter(Seg[y_kmeans == 4, 0], Seg[y_kmeans == 4, 1], s = 100, c = 'orange', label = 'Sederhana dan Hemat')\nplt.scatter(kmeans.cluster_centers_[:, 0], kmeans.cluster_centers_[:, 1], s = 300, c = 'black', label = 'Centroids')\nplt.title('Kluster pengunjung')\nplt.xlabel('Pendapatan tahunan (Ribu Dollar)')\nplt.ylabel('Skor pengeluaran (1-100)')\nplt.legend()\nplt.show()","f926fe95":"# Segmentasi Pengunjung dengan metode K-Means","925bd845":"### dapat dilihat pada grafik di atas  bahwa bentuk siku terlihat pada K=3 dan K=5. Dalam kondisi seperti ini, di mana K=3 dan K=5 menunjukkan bentuk siku, kita pilih yang nilai K nya lebih besar, dalam hal ini K=5. Jika kita memilih K=3 diperbolehkan juga.","bdcbdb68":"# Kesimpulan\n## segmentasi pengunjung dari mall yang akan dijadikan target marketing yaitu kluster 3 adalah orang yang kaya dengan pendapatan tinggi dan pengeluaran yang tinggi atau boros dan juga kluster 4 adalah orang yang sederhana dengan pendapatan yang rendah dan pengeluaran yang tinggi atau boros.","a37302e6":"### Kluster 1 -> Pendapatan tinggi tetapi pengeluaran rendah\n### Kluster 2 -> Pendapatan menengah dan pengeluaran menengah\n### Kluster 3 -> Pendapatan tinggi dan pengeluaran tinggi => Tipe pengunjung untuk Target dari mall\n### Kluster 4 -> Pendapatan rendah tetapi pengeluaran tinggi => Tipe pengunjung untuk Target dari mall\n### Kluster 5 -> Pendapatan rendah dan pengeluaran rendah\n### Centroids adalah titik yang berwarna hitam"}}