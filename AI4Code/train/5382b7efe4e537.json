{"cell_type":{"a0496141":"code","aade6133":"code","cda988bc":"code","a2cff8eb":"code","fe70177a":"code","24bfc7b4":"code","cd8d92f6":"code","cb49c470":"code","763b6195":"code","45b79690":"code","5be0ab65":"code","ea897574":"code","a10a86b2":"code","be4c1645":"code","a90cb151":"code","7c9b5bc5":"code","a42b7bfb":"code","05106309":"code","c2792f85":"code","611bb3f6":"code","87e3982d":"code","063f7582":"code","957728d7":"code","c5148f73":"code","2fd52d65":"code","2e8230ef":"code","2f0272e0":"code","53ab7d10":"code","5c160f90":"code","29e153cc":"code","91f44179":"code","eaccef34":"code","cb732dea":"code","147e33db":"code","6ad578bb":"code","2c6385a3":"code","ce11479d":"code","7549a965":"code","3d5b49d5":"code","e77af8d5":"code","4ff3503a":"code","3fb9e8ee":"code","ae1bfd4e":"code","e48a5206":"markdown","26f9a88e":"markdown","247e718b":"markdown","9df5ad11":"markdown","fabc6bb8":"markdown","abeb5de1":"markdown","daf9c4ae":"markdown","241b5327":"markdown","1459db34":"markdown","c78c5b35":"markdown","7f30a450":"markdown","3a9a4df2":"markdown","d25b1e33":"markdown","b6fd601c":"markdown","8fa20d9f":"markdown","e3e6226e":"markdown","37c6630d":"markdown","7ac23511":"markdown","3ec50c38":"markdown","918d93ed":"markdown","7c07d760":"markdown","fc887d2e":"markdown","d8d7d177":"markdown","a7467852":"markdown"},"source":{"a0496141":"import warnings\nwarnings.filterwarnings('ignore')\n\nimport numpy as np  # I may not be using it\n\n# For EDA and cleaning the data\nimport pandas as pd\n\n# For visualizations\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\n# For building a model\nfrom sklearn.ensemble import GradientBoostingClassifier\nfrom sklearn import metrics\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import OneHotEncoder","aade6133":"income_df = pd.read_csv('..\/input\/adult.csv', names=['age', 'workclass', 'fnlwgt', 'education', 'education-num',\n                                           'marital-status', 'occupation', 'relationship', 'race',\n                                           'sex', 'capital-gain', 'capital-loss', 'hours-per-week',\n                                           'native-country', 'salary'])","cda988bc":"income_df.head()","a2cff8eb":"income_df.shape","fe70177a":"income_df.info()","24bfc7b4":"income_df.describe()","cd8d92f6":"income_df.columns","cb49c470":"income_df.head()","763b6195":"sns.distplot(income_df.age)","45b79690":"sns.countplot(income_df.salary)","5be0ab65":"sns.countplot(income_df.salary, hue=income_df.sex, palette='rainbow')","ea897574":"sns.barplot(income_df.salary, income_df['capital-gain'])","a10a86b2":"income_df.occupation.unique()","be4c1645":"plt.xticks(rotation=90)\nsns.countplot(income_df.occupation, hue=income_df.salary, palette='Blues_r')","a90cb151":"income_df.relationship.unique()","7c9b5bc5":"plt.xticks(rotation=90)\n\nsns.countplot(income_df.relationship, hue=income_df.salary, palette='Accent')","a42b7bfb":"income_df.workclass.value_counts()","05106309":"plt.xticks(rotation=90)\nsns.countplot(income_df.workclass, hue=income_df.salary)","c2792f85":"income_df.race.unique()","611bb3f6":"plt.xticks(rotation=90)\nsns.barplot(income_df.workclass, income_df['hours-per-week'], hue=income_df.salary, palette='cool')\nsns.set()\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)","87e3982d":"plt.xticks(rotation=90)\nsns.countplot(income_df.race, hue=income_df.salary)","063f7582":"income_df.head()","957728d7":"income_df.drop(['fnlwgt', 'education-num'], axis=1, inplace=True)","c5148f73":"income_df.head()","2fd52d65":"dummies = pd.get_dummies(income_df.drop(['salary', 'age', 'capital-gain', 'capital-loss',\n                                        'hours-per-week'], axis=1))","2e8230ef":"dummies.shape","2f0272e0":"dummies.head()","53ab7d10":"merged = pd.concat([income_df, dummies], axis=1)","5c160f90":"merged.shape","29e153cc":"merged.head()","91f44179":"merged.columns[:100]","eaccef34":"final_df = merged.drop(['workclass', 'education', 'marital-status', 'occupation', 'relationship',\n                       'race', 'sex', 'native-country'], axis=1)","cb732dea":"final_df.head()","147e33db":"final_df.shape","6ad578bb":"X_train, X_test, y_train, y_test = train_test_split(final_df.drop('salary', axis=1), final_df.salary, \n                                                   test_size=0.30, random_state=4)","2c6385a3":"X_train.shape","ce11479d":"X_test.shape","7549a965":"gbm = GradientBoostingClassifier()","3d5b49d5":"gbm.fit(X_train, y_train)","e77af8d5":"predictions = gbm.predict(X_test)","4ff3503a":"predictions","3fb9e8ee":"print(metrics.classification_report(y_test, predictions))","ae1bfd4e":"metrics.accuracy_score(y_test, predictions)","e48a5206":"Some statistics about the numerical columns in the data","26f9a88e":"## Removing unnecessary columns","247e718b":"## Importing Libraries","9df5ad11":"## Training the model","fabc6bb8":"## Evaluation","abeb5de1":"<b>Males have more salary than females<\/b>","daf9c4ae":"<b>Husbands are earning more than 50k<\/b><br>\n<b>Not-in Family relationship people are earning less than 50k<\/b>","241b5327":"## Converting categorical columns to numerical columns","1459db34":"### Miscellaneous","c78c5b35":"# Problem statement","7f30a450":"There are <b>no null<\/b> values in the dataset<br>\nThere are <b>six numerical<\/b> columns<br>\nThere are <b>nine text<\/b> columns","3a9a4df2":"<b>Private employees are earning more than any other type of employee<\/b>","d25b1e33":"<b>Age column is normally distributed<\/b>","b6fd601c":"<b>White people are earning more<\/b>","8fa20d9f":"There are <b>32561<\/b> rows and <b>15<\/b> columns in the data","e3e6226e":"- We need to predict whether a person has a salary above 50k or less than 50k\n- This is a <b>Classification<\/b> problem\n- URL of the dataset https:\/\/archive.ics.uci.edu\/ml\/machine-learning-databases\/adult\/adult.data","37c6630d":"## EDA","7ac23511":"<b>Exec-managerical have highest salary above 50k<\/b>","3ec50c38":"### Loading the data","918d93ed":"Removing below columns from data\n- fnlwgt\n- education-num","7c07d760":"## Splitting the data","fc887d2e":"<b>People who have a salary above 50k have higher capital-gain<\/b>","d8d7d177":"Categorical columns\n- workclass\n- education\n- marital-status\n- occupation\n- relationship\n- race\n- sex\n- native-country<br>\n\nWe'll use one-hot encoding to convert categorical columns to numerical columns.","a7467852":"<b>There are about 24000 people who have a salary less than 50k and remaining have above 50k<\/b>"}}