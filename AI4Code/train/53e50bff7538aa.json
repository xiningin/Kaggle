{"cell_type":{"953fb37a":"code","2a961eff":"code","0b13bf21":"code","a00820f4":"code","9451d8b4":"code","7a42f43d":"code","fb34ae4e":"code","cbb8b100":"code","f5bcd850":"code","77642c91":"code","58cf41b0":"code","746d33b0":"code","0cebb0f6":"code","5ea0f579":"code","dcf957dc":"code","b381e942":"code","090962a5":"code","562cd5ed":"code","969ec3b7":"code","5292ddd0":"code","1b8f7597":"code","bc59c5d9":"code","51925f51":"code","0ee9d988":"code","60e4d87b":"code","99b8aaf2":"code","2320629b":"code","459f3feb":"code","8b2cb805":"code","68cb500b":"code","1bfa96ee":"code","478b7b33":"code","e0885598":"code","cad2e846":"markdown","dd11ef8f":"markdown","6521f993":"markdown","390491c6":"markdown","864785c8":"markdown","f3dfb8be":"markdown","160b5197":"markdown","ffe21023":"markdown","ffad3f08":"markdown","4be63328":"markdown","23a05a64":"markdown","d7717564":"markdown","a2e75723":"markdown","2fb20cf3":"markdown"},"source":{"953fb37a":"import numpy as np\nimport pandas as pd","2a961eff":"from subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))","0b13bf21":"#Loading Data\ndf = pd.read_csv(\"..\/input\/IndiaAffectedWaterQualityAreas.csv\",encoding='latin1')\ndf.head()","a00820f4":"df.columns","9451d8b4":"df.shape","7a42f43d":"df.dtypes","fb34ae4e":"df.isnull().sum()","cbb8b100":"#Checking for Duplicates\nDuplicates=df[df.duplicated(keep=False)]\nDuplicates.shape","f5bcd850":"#Dropping Duplicates\ndf1=df.drop_duplicates(subset=['State Name', 'District Name', 'Block Name', 'Panchayat Name',\n       'Village Name', 'Habitation Name', 'Quality Parameter', 'Year'], keep=False)\ndf1.shape","77642c91":"df1.describe()","58cf41b0":"df1['Quality Parameter'].value_counts()","746d33b0":"import seaborn as sns\nsns.countplot(df1['Quality Parameter'])","0cebb0f6":"df1['State Name'].value_counts()\n#This may be because area wise Rajasthan is ranked highest in India","5ea0f579":"df1['Quality Parameter'].groupby(df1['State Name']).describe()","dcf957dc":"#Splitting the Year column to retain just the year\ndf1['year'] = pd.DatetimeIndex(df1['Year']).year\ndf1=df1.drop(columns='Year')","b381e942":"#Subsetting the data\ndf1_new=df1.loc[df['State Name'].isin(['RAJASTHAN','BIHAR','ASSAM','ORISSA'])] \nSubset_Data = df1_new[['State Name', 'Quality Parameter', 'year']]","090962a5":"#Assigning a numerical value to all the Quality Parameters\nimport sklearn\nfrom sklearn.preprocessing import LabelEncoder\nnumbers = LabelEncoder()\nSubset_Data['Quality'] = numbers.fit_transform(Subset_Data['Quality Parameter'].astype('str'))","562cd5ed":"State_Quality_Count = pd.DataFrame({'count' : Subset_Data.groupby( [ \"State Name\", \"Quality\",\"Quality Parameter\"] ).size()}).reset_index()\nState_Quality_Count.head()","969ec3b7":"High_Quality_count = State_Quality_Count.sort_values(['count'], ascending=[False])\nHigh_Quality_count.head()","5292ddd0":"State_Quality_Count_year = pd.DataFrame({'count' : Subset_Data.groupby( [ \"State Name\", \"Quality\",\"Quality Parameter\",\"year\"] ).size()}).reset_index()\nState_Quality_Count_year","1b8f7597":"State_Quality_Count_year['rank']=State_Quality_Count_year.groupby(['State Name','Quality'])['count'].rank(\"dense\", ascending=False)\nState_Quality_Count_year.head()","bc59c5d9":"Top_count=State_Quality_Count_year[State_Quality_Count_year['rank']==1]","51925f51":"import matplotlib.pyplot as plt\nfreq_plot = Top_count['year'].value_counts().plot(kind='bar',figsize=(9,5),title=\"Year with highest water degradation\")\nfreq_plot.set_xlabel(\"Year\")\nfreq_plot.set_ylabel(\"Frequency\")\nplt.show()","0ee9d988":"Subset_Data2 = df1[['State Name', 'Quality Parameter', 'year']]\nSubset_Data2['Quality'] = numbers.fit_transform(Subset_Data2['Quality Parameter'].astype('str'))\nSQT = pd.DataFrame({'count' : Subset_Data2.groupby( [ \"State Name\", \"Quality\",\"Quality Parameter\",\"year\"] ).size()}).reset_index()\nSQT['rank']=SQT.groupby(['State Name','Quality'])['count'].rank(\"dense\", ascending=False)\nTop_count2=SQT[SQT['rank']==1]","60e4d87b":"freq_plot = Top_count2['year'].value_counts().plot(kind='bar',figsize=(9,5),title=\"Year with highest water degradation\")\nfreq_plot.set_xlabel(\"Year\")\nfreq_plot.set_ylabel(\"Frequency\")\nplt.show()","99b8aaf2":"Quality = pd.DataFrame({'count' : Subset_Data2.groupby( [ \"Quality\",\"year\"] ).size()}).reset_index()\nQuality.head()","2320629b":"Arsenic=Quality[Quality['Quality']==0]\nArsenic.plot('year','count',kind='scatter', layout=(5,5),title= \"Arsenic distribution\")\nplt.show()","459f3feb":"Fluoride=Quality[Quality['Quality']==1]\nFluoride.plot(\"year\",'count',kind='scatter', layout=(5,5),title= \"Fluoride distribution\")\nplt.show()","8b2cb805":"Iron=Quality[Quality['Quality']==2]\nIron.plot('year','count',kind='scatter', layout=(5,5),title= \"Iron distribution\")\nplt.show()","68cb500b":"Nitrate=Quality[Quality['Quality']==3]\nNitrate.plot('year','count',kind='scatter', layout=(5,5),title= \"Nitrate distribution\")\nplt.show()","1bfa96ee":"Salinity=Quality[Quality['Quality']==4]\nSalinity.plot('year','count',kind='scatter', layout=(5,5),title= \"Salinity distribution\")\nplt.show()","478b7b33":"State_Quality = pd.DataFrame({'count' : Subset_Data2.groupby( [ \"State Name\",\"Quality\",\"year\"] ).size()}).reset_index()\nState_Nitrate_Quality=State_Quality[(State_Quality['year']==2011) & (State_Quality['Quality']==3)]\nState_Nitrate_Quality.sort_values(['count'], ascending=[False])","e0885598":"State_Nitrate_Quality1=State_Quality[(State_Quality['year']==2010) & (State_Quality['Quality']==3)]\nState_Nitrate_Quality1.sort_values(['count'], ascending=[False])","cad2e846":"#### Digging deep to know the reasons why Nitrate peaked its value in 2011 and in which states","dd11ef8f":"#### Applying this concept to the entire data to see the worst and best year for water quality\n2009 remained to be the year with highest degration where as 2011 has shifted to last position when plotted on entire data.","6521f993":"In 2011","390491c6":"## Data Description","864785c8":"In 2010","f3dfb8be":"#### Trend of Quality Parameters over the years\nExcept Nitrate, all the Quality Parameters followed a similar pattern through out the years. The amount of all the elements resuced significantly over years.","160b5197":"#### The top 5 states considered have encountered the highest water degradtion in the year of 2009 ","ffe21023":"## Rajasthan is recorded in the first place to face water degaradation problems","ffad3f08":"#### Karnataka and Rajasthan has high amounts of Nitrate in 2011 accounting approximately 47% and 29% of the total .\n#### Also from 2010 to 2011, the amount of Nitrate got tripled in Karnataka and halved in Maharashtra.This might be numerous reasons for this increase like high use of inorganic fertilizers, pipeline leakages, Industrial pollution etc.","4be63328":"#### Further drilldown with year","23a05a64":"## Iron is the most frequent element that causes water degradation in the country","d7717564":"#### Shows the top 5 water degrading Quality parameters and their corresponding state","a2e75723":"## Considering the top 4 affected states RAJASTHAN,BIHAR,ASSAM & ORISSA ","2fb20cf3":"## Insights from the Data:\n1-Rajasthan is the most affected state in the Country and Bihar,Assam, Orissa bags the immediate next position to Rajasthan.\n2-In most of the places in Rajasthan water quality is affected by Salinity content in water.\n3-Water treatment plans in the states JAMMU AND KASHMIR,UTTARAKHAND,PUDUCHERRY & MANIPUR are effective\n4-It can be understood that from the year 2009 to 2012 there is significant improvement in water quality overall\n5-Water treatment plans followed in 2011 seems to have postive impact \n6-Apart from Nitrate, all the Quality Parameters followed a similar pattern through out the years. The presence of all these elements in water reduced significantly over years\n7-Nitrate has a peak in 2011\n8-It is found that Karnataka and Rajasthan states accounted more than 75% of total Nitrate content in 2011.\n9-From 2010 to 2011, the amount of Nitrate got tripled in Karnataka and halved in Maharashtra.This might be because of numerous reasons like high use of inorganic fertilizers, pipeline leakages, Industrial pollution etc."}}