{"cell_type":{"63197c38":"code","36ec246d":"code","50c1169b":"code","9ffe95b5":"code","cb8d603e":"code","81f480c9":"code","4ddaa1db":"code","42b04824":"code","846b8343":"code","38aac975":"code","6f57445d":"code","068dd8b6":"code","8e600699":"code","4a33e970":"code","ef3e1bec":"code","b5b1efd2":"code","96171701":"markdown","4b1b2798":"markdown","51a00aff":"markdown","82c0b989":"markdown","29e9a15d":"markdown","eae516d5":"markdown","c481f52b":"markdown","ddee6e66":"markdown","7610352e":"markdown","01bc5280":"markdown","3eb72892":"markdown","796f00d3":"markdown","f4991240":"markdown","b38ece42":"markdown","1cc378cf":"markdown","ef898b24":"markdown","42b5f41c":"markdown"},"source":{"63197c38":"#regular chore\nimport pandas as pd\nimport numpy as np\nimport datetime\nimport matplotlib \nfrom matplotlib import pyplot\n%matplotlib inline","36ec246d":"stock_info = pd.read_pickle('..\/input\/all_banks')","50c1169b":"#The tickers here is simply used to indicate the data values pertaining to each bank\ntickers = ['BAC', 'C', 'GS', 'JPM', 'MS', 'WFC']","9ffe95b5":"stock_info.head()","cb8d603e":"stock_info.xs('Close', level=1, axis=1).max()","81f480c9":"returns = pd.DataFrame()","4ddaa1db":"for x in tickers:\n    returns[x + ' Return'] = stock_info.xs('Close',axis=1,level=1)[x].pct_change()\nreturns.head()","42b04824":"import seaborn as sns\nsns.set(style=\"ticks\", color_codes=True)","846b8343":"sns.pairplot(returns)","38aac975":"stock_info.xs('Close',axis=1,level=1).plot(figsize=(20,10))","6f57445d":"stock_info.xs('Volume',axis=1,level=1).plot(figsize=(20,10))","068dd8b6":"returns.std() ","8e600699":"returns.loc['2007-01-01':'2009-12-31'].std()","4a33e970":"fig, ax = pyplot.subplots(figsize=(15,8))\n\nsns.distplot(returns.loc['2007-01-01':'2009-12-31']['C Return'],color='red',ax=ax)\n","ef3e1bec":"fig, ax = pyplot.subplots(figsize=(15,8))\n\nsns.heatmap(stock_info.xs('Close',axis=1,level=1).corr(),annot=True,cmap='Reds',ax=ax)","b5b1efd2":"sns.clustermap(stock_info.xs('Close',axis=1,level=1).corr(),annot=True,cmap='Blues')","96171701":"# Maiden Project \n\nThis is my maiden attempt in working with data analysis tools. To consolidate my interest in stock markets, I've taken the idea of financial crisis 2007\/08 and worked upon the stocks of some major banks to generate insights. A starter pack in simple words.\n\nMy data set covers the data from January 2006 to January 2016. The 10 year range is chosen to generate insights which touches upon the post recession period as well.","4b1b2798":"# Inference- A late 2007 plummet\nOn analyzing the graph above, it is quite evident that CITI had the best closing prices until late 2007 when the financial crisis blew up. Post that, it's a different story altogether. CITI could not fight back and retain its previous position. ","51a00aff":"# The showdown!","82c0b989":"# Inference- Bank of America Soared\nThe stocks of Bank of America stocks have been traded at massive levels in comparison to other banks, meaning that the investor confidence wtih the stock was solid.","29e9a15d":"# Seaborn Tidbits\nBeing a beginner, it's always wise to start off with handy packages. And there we go Seaborn. This's the goto package for data visualization in Python and simplifies several lines of code into a single statement (Ex: KDE plot). We'll be using 'sns.pairplot' function which will create a grid of Axes such that each numeric variable in data will be shared in the y-axis across a single row and in the x-axis across a single column. Universally, these are commonly used for stock market analysis.","eae516d5":"# Cluster map\nAlmost the same as a heat map, but with an extrapolated feature of 'hierarchial' display of the heatmaps. One of the myriad reasons why Seaborn is wonderful","c481f52b":"# The 'Close'\nIn an investor's point of view, the most vital aspect of our stock data is the closing value. This determines the fate of the stock on a particular day. So, let's plot them to realize how the closing price has varied throughout the years.","ddee6e66":"# Volume traded\nLet's take a quick gander at the trends in volume traded over the years. Higher volume simply indicates that the investors are optimistic regarding the future of the stock. The volume in the x-axis is measured in 10^9 units ","7610352e":"# Inference- Touchdown\nSpecifically analyzing the data between January, 2007 to December 2009 shows us that Citi Bank has been the most riskiest stocks amongst the 6 with the highest standard deviation. Let's graph it and see how it looks.","01bc5280":"___\n\n<a href='http:\/\/www.pieriandata.com'> <img src='..\/Pierian_Data_Logo.png' \/><\/a>\n___","3eb72892":"### Heatmap\n\nAs the name suggests, heat maps gives us idea of the variation of a selected attribute. As I already mentioned, an investor will look for the closing price more intuitively. Therefore, a heatmap construction of 'Close' price is shown below.","796f00d3":"# A look further\nTo give more meaning to our analysis, let us take a look at the standard deviation of our interested stocks. ","f4991240":"# Inference- Risky business\nDue to the greater deviation of Citi Bank's return, it can be double checked that it was the riskiest stock amongst the selected stocks. ","b38ece42":"# Inference- Odd Man out!\n\nIf you take a gander at the visualization above, it is quite evident that Citi Bank has been showing unique characteristics in term of less scattering. This can be attributed to the massive stock crash of CITI stocks during various timelines between 2007 to 2016 mainly due subprime mortgage crisis. \nFor more intel, refer to this link : https:\/\/en.wikipedia.org\/wiki\/Citigroup#Subprime_mortgage_crisis_(2007)\n\n","1cc378cf":"Time to create an empty DataFrame called returns. As the name suggests, this dataframe consists of individual bank's return. They are given by:\n\n$$r_t = \\frac{p_t - p_{t-1}}{p_{t-1}} = \\frac{p_t}{p_{t-1}} - 1$$","ef898b24":"# Questions to be answered\n\nFirstly, let's play with the data and realize these bank's maximum closing price throughout the timeline","42b5f41c":"## Data\n\nThe data set explicitly contains the stock details of these 6 major investment banks\n1. Bank of America\n2. Citi Bank\n3. Goldman Sachs\n4. JP Morgan\n5. Morgan Stanley\n6. Wells Fargo\n\nAs I mentioned earlier, for extensive visualization I'll be using 10 years' data of these stocks."}}