{"cell_type":{"c3518ede":"code","a28c334c":"code","15930622":"code","988293bf":"code","bd3fcd05":"code","bd030919":"code","c96cb1d0":"code","1a2e313f":"code","ef4fdc02":"code","9866d247":"code","31e7d3ac":"markdown","4104f275":"markdown","426ad71b":"markdown"},"source":{"c3518ede":"import numpy as np\nimport pandas as pd\nimport os\nimport folium\nimport matplotlib.pyplot as plt\nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\n\n\ndef plotPointsOnMap(dataframe,beginIndex,endIndex,latitudeColumn,latitudeValue,longitudeColumn,longitudeValue,zoom):\n    df = dataframe[beginIndex:endIndex]\n    location = [latitudeValue,longitudeValue]\n    plot = folium.Map(location=location,zoom_start=zoom)\n    for i in range(0,len(df)):\n        popup = folium.Popup(str(df.name[i:i+1]))\n        folium.Marker([df[latitudeColumn].iloc[i],df[longitudeColumn].iloc[i]],popup=popup).add_to(plot)\n    return(plot)\n\ndef color_coded_map(df, center_lat, center_lon, zoom,bubbleSize,latitudeColumn,longitudeColumn,coloredColumn,labeledColumn,fillBool,opacityValue):  \n    # Adapted from  https:\/\/www.kaggle.com\/dejavu23\/openaq-from-queries-to-world-maps\n    m = folium.Map(location=[center_lat, center_lon],\n                   zoom_start = zoom)\n    for index, row in df.iterrows():\n        folium.CircleMarker([row[[latitudeColumn]], row[[longitudeColumn]]],radius=bubbleSize, \n                             color=custom_colormap(row[coloredColumn]), #\n                             fill_color=custom_colormap(row[coloredColumn]), #\n                             fill=fillBool, fill_opacity=opacityValue,             \n                             popup=row[[labeledColumn]]).add_to(m) \n    custom_colormap.add_to(m)\n    folium.TileLayer(tiles='Stamen Toner',name=\"Stamen Toner\").add_to(m)\n    folium.TileLayer(tiles='Stamen Terrain',name=\"Stamen Terrain\").add_to(m)\n    folium.TileLayer(tiles='cartodbpositron',name=\"cartodbpositron\").add_to(m)\n    folium.LayerControl().add_to(m)       \n    return m\n\ndef plotMultipleChoice(selectedColumn,data,title,yAxisTitle):\n    counts = data[selectedColumn].value_counts()\n    countsDf = pd.DataFrame(counts)\n    trace1 = go.Bar(\n                    x = countsDf.index,\n                    y = countsDf[selectedColumn],\n                    name = \"Kaggle\",\n                    marker = dict(color = 'rgba(0, 0, 255, 0.8)',\n                                 line=dict(color='rgb(0,0,0)',width=1.5)),\n                    text = countsDf.index)\n    data = [trace1]\n    layout = go.Layout(barmode = \"group\",title=title, yaxis= dict(title=yAxisTitle),showlegend=False)\n    fig = go.Figure(data = data, layout = layout)\n    iplot(fig)\n\nOSMP_Trails = pd.read_csv('..\/input\/OSMP_Trails.csv')\nOSMP_Trails=OSMP_Trails[['TRAILNAME','TRAILTYPE','BICYCLES','HORSES','MILEAGE']]\nOSMP_Trailheads = pd.read_csv('..\/input\/OSMP_Trailheads.csv')\nOSMP_Trailheads=OSMP_Trailheads[['OSMPTrailheadsOSMPTHNAME','OSMPTrailheadsOSMPADDRESS','OSMPTrailheadsOSMPELEVATION','OSMPTrailheadsOSMPPARKSPACES',\n                                 'OSMPTrailheadsOSMPRESTROOMS','OSMPTrailheadsOSMPBIKERACK','OSMPTrailheadsOSMPBIKETRAIL','X','Y']]\nOSMP_Climbing_Formations = pd.read_csv('..\/input\/OSMP_Climbing_Formations.csv')\nOSMP_Climbing_Formations=OSMP_Climbing_Formations[['FEATURE','AreaAccess','ROUTES','UseRating','FormationType','X','Y']]","a28c334c":"custom_colormap = folium.StepColormap(['yellow','orange','red','black'], \n                         vmin=0, vmax=4,\n                         index=[0,1,2,3],\n                        caption='User Rating')\nOSMP_Climbing_Formations = OSMP_Climbing_Formations.sort_values(by='UseRating', ascending=0)\nOSMP_Climbing_Formations.head(60)","15930622":"temperature_map = color_coded_map(OSMP_Climbing_Formations, 39.965411,-105.293598,12,5,'Y','X','UseRating','FEATURE',True,1,)\ntemperature_map","988293bf":"data= OSMP_Climbing_Formations\nselectedColumn = 'FormationType'\ntitle='Types of Climbing Formations near Boulder'\nyAxisTitle = title\nplotMultipleChoice(selectedColumn,data,title,yAxisTitle)","bd3fcd05":"data= OSMP_Climbing_Formations\nselectedColumn = 'AreaAccess'\ntitle='Number of Climbing Formations at Each Location'\nyAxisTitle = title\nplotMultipleChoice(selectedColumn,data,title,yAxisTitle)","bd030919":"custom_colormap = folium.StepColormap( ['purple','blue','green','yellow','orange','red'], \n                         vmin=5000, vmax=10000,\n                         index=[5000,6000,7000,8000,9000,10000],\n                        caption='Elevation')\nOSMP_Trailheads = OSMP_Trailheads.sort_values(by='OSMPTrailheadsOSMPELEVATION', ascending=0)\nOSMP_Trailheads.head(20)","c96cb1d0":"temperature_map = color_coded_map(OSMP_Trailheads, 39.997336,-105.294556, 12,5,'Y','X','OSMPTrailheadsOSMPELEVATION','OSMPTrailheadsOSMPTHNAME',True,1,)\ntemperature_map","1a2e313f":"data= OSMP_Trails\nselectedColumn = 'TRAILTYPE'\ntitle='Types of Hiking Trails near Boulder'\nyAxisTitle = title\nplotMultipleChoice(selectedColumn,data,title,yAxisTitle)","ef4fdc02":"data= OSMP_Trails\nselectedColumn = 'HORSES'\ntitle='Are Horses Allowed?'\nyAxisTitle = title\nplotMultipleChoice(selectedColumn,data,title,yAxisTitle)","9866d247":"data= OSMP_Trails\nselectedColumn = 'BICYCLES'\ntitle='Are Bicycles Allowed?'\nyAxisTitle = title\nplotMultipleChoice(selectedColumn,data,title,yAxisTitle)","31e7d3ac":"**Map of Trailsheads in Boulder, Colorado** ","4104f275":"**Map of Outdoor Climbing Formations near Boulder, Colorado** ","426ad71b":"**Map of Outdoor Recreation Areas near Boulder, Colorado**\n\n* Data from https:\/\/bouldercolorado.gov\/open-data"}}