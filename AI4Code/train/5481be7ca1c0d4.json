{"cell_type":{"9f9bca8d":"code","b0cd3207":"code","cfb67750":"code","7b483e7a":"code","b35dc2b4":"code","6ec861e9":"code","6ad0e763":"code","a9ec522d":"code","8e93f74b":"code","07a596bd":"code","ea62b708":"code","351d26e1":"code","fbdb84a2":"code","d6561213":"code","dd2d208a":"code","46c25eda":"code","bc64eaa1":"code","0e0c3647":"code","7cddb1f6":"code","3fabfde7":"code","f87915e9":"code","a445af5c":"code","78127c9e":"code","eaf1c2ae":"code","67ebc209":"code","5a9fc771":"code","19c60e65":"code","b30f5957":"code","b67ece78":"code","445414df":"code","87a38911":"code","6b7a6621":"code","2334c4a6":"code","39c4c815":"code","c2122d42":"code","c0552244":"code","8e7381f0":"code","94fd531d":"code","c418a3d0":"code","f42e03e5":"code","9eb0f362":"code","e1c81aec":"code","110341ed":"code","cd87686d":"code","dc23550f":"code","b24e67a8":"code","e4fdb233":"code","aa4ca98c":"code","243cbad0":"markdown","4cbeb70c":"markdown","690b4c5d":"markdown","ee2096cd":"markdown","2b3f8031":"markdown","588c2487":"markdown","d82e2034":"markdown","97579631":"markdown","a0a34a02":"markdown","9e129836":"markdown","2796d1b0":"markdown","d7aa73c5":"markdown","cb16f817":"markdown","3067a336":"markdown","e72d7e33":"markdown","1f6562fa":"markdown","dfdf56aa":"markdown","4180e7ac":"markdown","d5fcd231":"markdown","cce138c4":"markdown","6c560372":"markdown","57176f41":"markdown","8394dd64":"markdown","6b0008e0":"markdown","d5c80dcd":"markdown","6a0c34a4":"markdown","5e5632b7":"markdown","30abf265":"markdown","a6eff74f":"markdown","2312d813":"markdown","507ced1b":"markdown","0885a3cd":"markdown","97f38efa":"markdown","89bfe90a":"markdown","06397529":"markdown","2d000756":"markdown","065f7ea1":"markdown"},"source":{"9f9bca8d":"#import libraries\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport os\nprint(os.listdir(\"..\/input\"))","b0cd3207":"#load data\ndata = pd.read_csv('..\/input\/google-play-store-apps\/googleplaystore.csv')","cfb67750":"#show data first 5 record\ndata.head()","7b483e7a":"#show data last 5 record\ndata.tail()","b35dc2b4":"#get information about data\ndata.info()","6ec861e9":"data = data.drop([\"App\",\"Current Ver\",\"Android Ver\"],1)","6ad0e763":"#detect null cols and null rate\nnulls = [i for i in data.isna().any().index if data.isna().any()[i]==True]\nrates = []\ncounts = []\nfor i in nulls:    \n    rates.append((data[i].isna().sum()\/data.shape[0])*100)\n    counts.append(data[i].isna().sum())\nnull_df = pd.DataFrame.from_dict({\"Col\":nulls,\"Count\":counts,\"Null_Rates\":rates})\nnull_df","a9ec522d":"#delete Type,Content Rating, Current Ver, Android Ver null values row\ndf_train = data.copy()\nfor i in ['Type','Content Rating']:\n    df_train = df_train.drop(df_train.loc[df_train[i].isnull()].index,0)\ndf_train.info()","8e93f74b":"df_train.Rating.describe()","07a596bd":"#fill rating null values with mean quartiles\nx = sum(df_train.Rating.describe()[4:8])\/4\ndf_train.Rating = df_train.Rating.fillna(x)\nprint(\"Dataset contains \",df_train.isna().any().sum(),\" Nan values.\")","ea62b708":"df_train = df_train[df_train[\"Rating\"]<=5]","351d26e1":"#get unique values in Catagory feature \ndf_train.Category.unique()","fbdb84a2":"# convert to categorical Categority by using one hot tecnique \ndf_dummy = df_train.copy()\ndf_dummy.Category = pd.Categorical(df_dummy.Category)\n\nx = df_dummy[['Category']]\ndel df_dummy['Category']\n\ndummies = pd.get_dummies(x, prefix = 'Category')\ndf_dummy = pd.concat([df_dummy,dummies], axis=1)\ndf_dummy.head()","d6561213":"#Genres unique val\ndf_dummy[\"Genres\"].unique()","dd2d208a":"plt.figure(figsize=(25,6))\nsns.barplot(x=df_dummy.Genres.value_counts().index,y=df_dummy.Genres.value_counts())\nplt.xticks(rotation=80)\nplt.title(\"Genres and their counts\")\nplt.show()","46c25eda":"np.sort(df_dummy.Genres.value_counts())","bc64eaa1":"lists = []\nfor i in df_dummy.Genres.value_counts().index:\n    if df_dummy.Genres.value_counts()[i]<20:\n        lists.append(i)\n\nprint(len(lists),\" genres contains too few (<20) sample\")\ndf_dummy.Genres = ['Other' if i in lists else i for i in df_dummy.Genres] ","0e0c3647":"df_dummy.Genres = pd.Categorical(df_dummy['Genres'])\nx = df_dummy[[\"Genres\"]]\ndel df_dummy['Genres']\ndummies = pd.get_dummies(x, prefix = 'Genres')\ndf_dummy = pd.concat([df_dummy,dummies], axis=1)","7cddb1f6":"df_dummy.shape","3fabfde7":"#get unique values in Contant Rating feature \ndf_dummy['Content Rating'].value_counts(dropna=False)","f87915e9":"#object(string) values transform to ordinal in Content Rating Feature without nan\ndf = df_dummy.copy()\ndf['Content Rating'] = df['Content Rating'].map({'Unrated':0.0,\n                                                 'Everyone':1.0,\n                                                 'Everyone 10+':2.0,\n                                                 'Teen':3.0,\n                                                 'Adults only 18+':4.0,\n                                                 'Mature 17+':5.0})\ndf['Content Rating'] = df['Content Rating'].astype(float)\ndf.head()","a445af5c":"#change type to float\ndf2 = df.copy()\ndf2['Reviews'] = df2['Reviews'].astype(float)","78127c9e":"df2[\"Size\"].value_counts()","eaf1c2ae":"#clean 'M','k', fill 'Varies with device' with median and transform to float \nlists = []\nfor i in df2[\"Size\"]:\n    if 'M' in i:\n        i = float(i.replace('M',''))\n        i = i*1000000\n        lists.append(i)\n    elif 'k' in i:\n        i = float(i.replace('k',''))\n        i = i*1000\n        lists.append(i)\n    else:\n        lists.append(\"Unknown\")\n    \nk = pd.Series(lists)\nmedian = k[k!=\"Unknown\"].median()\nk = [median if i==\"Unknown\" else i for i in k]\ndf2[\"Size\"] = k\n\ndel k,median,lists","67ebc209":"#clean 'M'and transform to float \nprint(\"old: \",df['Size'][10],\" new: \",df2['Size'][10])","5a9fc771":"#clean '$' and transform to float \ndf2['Price'] = [ float(i.split('$')[1]) if '$' in i else float(0) for i in df2['Price'] ] ","19c60e65":"print(\"old: \",df['Price'][9054],\" new: \",df2['Price'][9054])","b30f5957":"df2.Installs.unique()","b67ece78":"df2[\"Installs\"] = [ float(i.replace('+','').replace(',', '')) if '+' in i or ',' in i else float(0) for i in df2[\"Installs\"] ]","445414df":"print(\"old: \",df['Installs'][0],\" new: \",df2['Installs'][0])","87a38911":"df2[\"Type\"].unique()","6b7a6621":"df2.Type = df2.Type.map({'Free':0,\"Paid\":1})","2334c4a6":"df2[\"Last Updated\"][:3]","39c4c815":"from datetime import datetime\ndf3 = df2.copy()\ndf3[\"Last Updated\"] = [datetime.strptime(i, '%B %d, %Y') for i in df3[\"Last Updated\"]]","c2122d42":"df3 = df3.set_index(\"Last Updated\")\ndf4 = df3.sort_index()\ndf4.head()","c0552244":"df4.isna().any().sum()","8e7381f0":"data = df4.copy()\ndata.shape","94fd531d":"data.info()","c418a3d0":"#additional libraries\nfrom scipy.stats import norm\nfrom scipy import stats\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline\n\nstyle = sns.color_palette(\"ch:2.5,-.2,dark=.3\")","f42e03e5":"#histogram\nplt.figure(figsize=(10,5))\nsns.distplot(data['Rating'],color='g');\nplt.title(\"Rating Distrubition\")\nplt.show()","9eb0f362":"#skewness and kurtosis\nprint(\"Skewness: %f\" % data['Rating'].skew())\nprint(\"Kurtosis: %f\" % data['Rating'].kurt())","e1c81aec":"#histogram\nplt.figure(figsize=(10,5))\nsns.countplot(data['Type'],color='red',palette=style);\nplt.title(\"Type Distrubition\")\nplt.show()","110341ed":"#histogram\nplt.figure(figsize=(8,6))\nsns.barplot(x=data['Installs'],y=data.Reviews,color='b',palette=sns.color_palette(\"ch:2.5,-.2,dark=.3\"));\nplt.title(\"Installs Distrubition\")\nplt.xticks(rotation=80)\nplt.show()","cd87686d":"#boxplot plot installs\/rates\nax = plt.figure(figsize=(10,5))\nsns.set()\nsns.boxplot(x=\"Installs\", y=\"Rating\", data=data)\nplt.title(\"Installs\/Rating\")\nplt.xticks(rotation=80)\nplt.show()","dc23550f":"chart_data = data.loc[:,\"Category_ART_AND_DESIGN\":\"Category_WEATHER\"]\nchart_data[\"Rating\"] = data[\"Rating\"]\nfor i in range(0, len(chart_data.columns), 5):\n    sns.pairplot(data=chart_data,\n                x_vars=chart_data.columns[i:i+5],\n                y_vars=['Rating'])","b24e67a8":"import math\n#del chart_data[\"Rating\"]\nl = len(chart_data.columns.values)\nr = math.ceil(l\/5)\n\nchart_data[\"Type\"] = data[\"Type\"]\nj=1\nplt.subplots(figsize=(15,10),tight_layout=True)\nfor i in chart_data.columns.values:\n    if i==\"Type\":\n        continue\n    d = chart_data[chart_data[i]==1]\n    plt.subplot(r, 5, j)\n    plt.hist(d[\"Type\"])\n    plt.title(i)\n    j +=1\n    \nplt.show()","e4fdb233":"chart_data = data[data[\"Price\"]>0]\nchart_data = chart_data.sort_values(by=['Price'],ascending=False)\nchart_data = chart_data.head(100)\n#chart_data\ndic = {}\ncols = chart_data.loc[:,\"Category_ART_AND_DESIGN\":\"Category_WEATHER\"].columns.values\nfor i in cols:\n    dic[i]=0\n    \nfor i in range(100):\n    x = chart_data.iloc[[i]]\n    x = x.loc[:,\"Category_ART_AND_DESIGN\":\"Category_WEATHER\"]\n    for j in x.columns.values:\n        if (x[j][0] == 1):\n            dic[j]= dic[j] + 1\n\nplt.figure(figsize=(12,5))\nplt.bar(dic.keys(), dic.values(), color='g')\nplt.xticks(rotation=85)\nplt.title(\"Categories of the 100 most expensive applications\")\nplt.show()\n    ","aa4ca98c":"fig,ax = plt.subplots(figsize=(8,7))\nax = sns.heatmap(data[[\"Reviews\",\"Price\",\"Rating\",\"Installs\",\"Size\"]].corr(), annot=True,linewidths=.5,fmt='.1f')\nplt.show()","243cbad0":"For machine learning, we need to convert objects to numbers.","4cbeb70c":"<h3> 3. Contant Rating <\/h3> ","690b4c5d":"Missing rates are very low. I think, We can delete specially Type,Content Rating easly. \n\nBut, we need check Rating.","ee2096cd":"Rating should **not** to be up to 5 ","2b3f8031":"<h3> Finish Tranformation <\/h3>","588c2487":"There are NaN values in Rating, Type, Content Rating. We must handle them. \n","d82e2034":"<h2>Missing Values<\/h2>","97579631":"* **Medical, Finance, Family and Lifestyle applications are the most valuable applications. They must be giving information worth spending money for people.**\n* **I think the places where people spend the most money can be the places they care about the most. Apparently Finance, Family and Madicine are very important to people.**","a0a34a02":"* **The majority of apps in the market are free.**","9e129836":"* **We see that there are too many comments in applications that are downloaded too much.**\n\nWe've already been waiting for this.","2796d1b0":"Clean '+' and ',' char. And transform object(string) to float.","d7aa73c5":"finally, lets check Nan","cb16f817":"### Author : Sanjoy Biswas\n### Project : Google Playstore Data Visualization & EDA\n### Email : sanjoy.eee32@gmail.com","3067a336":"75 percet of rating between 4 and 5.","e72d7e33":"<h3>4. Reviews<\/h3>","1f6562fa":"**Thank you for reading. if you like, Don't forget to vote.**\n\n**See you ..**","dfdf56aa":"Apps generally have good rates.","4180e7ac":"<h3> 7. Installs <\/h3>","d5fcd231":"\nAs Installs increases, we can see that Rating gets higher values.\n\n* **This means that many downloaded applications have higher ratings.**","cce138c4":"<h1> Let's do real EDA on our data :) <\/h1>","6c560372":"* **On the one hand, beauty, education, events, weather caught my attention. Because no application in these categories has a rating below 3.**\n\n* **On the one hand, Finance, Tools, Family caught my attention. Because the applications in these categories are both very bad and very good rating. So users of applications in these categories can be more relevant and more selective. Perhaps people may expect an application from these categories.**","57176f41":"\n\nWelcome to my kernel.\n\nIn this kernel, I will try to discovering Android Market with EDA.\n\nYour feedback is very important to me. If you like this kernel, please vote :)\n\nLet's start.","8394dd64":"This variable is ordinal.","6b0008e0":"Let's look corelation.","d5c80dcd":"* **Medical, Personalization, Game are the categories with the most paid applications.**","6a0c34a4":"<h3> 6. Price <\/h3>","5e5632b7":"<H3>GREAT !!!<\/H3>","30abf265":"<h3> 2. Genres <\/h3> ","a6eff74f":"<h3> 9. Last Updated <\/h3>","2312d813":"<h3> 5. Size <\/h3>","507ced1b":"Some subcategories have very few examples. Therefore, I will classify those who do not have a significant number of examples as others.","0885a3cd":"* **There is a clearly relationship between Installs and Reviews. It like that in real life.**","97f38efa":"If We try to predict Rating, I think App, Current ver, Android Ver are unnecessery cols. So I will delete them.","89bfe90a":"Let's see what happened to the data. :)","06397529":"<h3>8. Type<\/h3>","2d000756":"<h3> 1. Category <\/h3> ","065f7ea1":"<h2>Data Transformation<\/h2>"}}