{"cell_type":{"7c23d04c":"code","89841b8e":"code","c97586e9":"code","bdc95db9":"code","c07d4868":"code","d07a692d":"code","1b0026e0":"code","bdd85d96":"code","106050c5":"code","2a5c82f3":"code","3a8dda46":"code","81a5215d":"code","3f104b90":"code","dc9af80a":"code","b8083e68":"code","cb8a2dd0":"code","313772fd":"code","1a8a3c92":"code","735842d3":"code","17533f81":"code","c0ebb975":"code","da81c4b0":"code","dba8f3f7":"code","02458ba1":"code","0eed3a7a":"markdown","da99fb85":"markdown","6c046c19":"markdown","d117c51e":"markdown","cc3b6959":"markdown","577d7f47":"markdown","0d427c26":"markdown","9b141299":"markdown","642f3500":"markdown","4e2f6b47":"markdown","6cdc6ded":"markdown","c5cf9a4e":"markdown"},"source":{"7c23d04c":"#Importo las librerias que voy a utilizar para EDA\n\nimport numpy as np \nimport pandas as pd \nimport cv2\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport random\nimport seaborn as sns\nimport os\n%matplotlib inline","89841b8e":"path = '\/kaggle\/input\/vinbigdata-chest-xray-abnormalities-detection\/'\nos.listdir(path)","c97586e9":"#Realizo la lectura del dataset\n\ndf = pd.read_csv(path+\"train.csv\")","bdc95db9":"#Observo las primeras filas del DataFrame\n\ndf.head()","c07d4868":"#Observo los tipos de datos por columna\n\ndf.dtypes","d07a692d":"#Observo el tama\u00f1o del dataframe\n\ndf.shape","1b0026e0":"#Listo las columnas del dataframe\n\ndf.columns","bdd85d96":"#Observo la cantidad de registros para la columna 'class_name', la cual corresponde al nombre de la clase del objeto detectado\n\ncantidad_por_clase = df['class_name'].value_counts()\ncantidad_por_clase","106050c5":"#Realizo el grafico correspondiente\n\nplt.figure(figsize = (8,6))\n\nplt.barh(cantidad_por_clase.index,cantidad_por_clase.values)\nplt.title(\"Cantidad de observaciones por tipo\", fontsize=16)\nplt.xlabel(\"Cantidad\", fontsize=12)\nplt.ylabel(\"Tipo\", fontsize=12)","2a5c82f3":"#Para ver los valores en % normalizo los datos y multiplico por 100\n\ncantidad_por_clase_normalizado = df['class_name'].value_counts(normalize=True)*100\ncantidad_por_clase_normalizado","3a8dda46":"#A continuacion analizo los NaN por columna\n\ndf.isnull().sum()","81a5215d":"#Verifico si los NaN corresponden a la Id de la Clase 14, que segun vimos corresponde a la ausencia de observaciones\n\n#Los valores coinciden\n\ndf[df['class_id']==14].isnull().sum()","3f104b90":"#Observo la cantidad de registros para la columna 'rad_id', la cual corresponde al id del readiologo que realizo el diagnostico\n\ncantidad_por_radiologo = df['rad_id'].value_counts()\ncantidad_por_radiologo","dc9af80a":"plt.figure(figsize = (8,6))\n\nplt.barh(cantidad_por_radiologo.index,cantidad_por_radiologo.values,color='r')\n\nplt.title(\"Cantidad de observaciones por radiologo\", fontsize=16)\nplt.xlabel(\"Cantidad\", fontsize=12)\nplt.ylabel(\"Radiologo\", fontsize=12)","b8083e68":"#Defino una funcion para realizar diferentes pairplot de las clases\n\ndef plot_pairplot(i):\n    plt.figure(figsize=(10, 10))\n    sns.pairplot(df[df['class_id']==i],hue='class_id',dropna=True,corner=True)\n    plt.show()","cb8a2dd0":"#Pairplot para la clase 0\n\nplot_pairplot(0)","313772fd":"#Pairplot para la clase 1\n\nplot_pairplot(3)","1a8a3c92":"#Pairplot para la clase 2\n\nplot_pairplot(11)","735842d3":"#Importo los modulos que voy a utilizar\n\nimport pydicom as dicom #pydicom para la lectura de las imagenes DICOM\nimport cv2","17533f81":"idnum = 3 #Indice del array que voy a utilizar para seleccionar la imagen\n \nimage_id = df.loc[idnum, 'image_id'] #Selecciono el id de la imagen correspondiente a esa posicion en el DataFrame\n\ndata_file = dicom.dcmread(path+'train\/'+image_id+'.dicom') #Realizo la lectura de la imagen\n","c0ebb975":"#Obtengo el array de esa imagen\n\nimg = data_file.pixel_array\nimg","da81c4b0":"#Observo la metadata de la imagen\n\nprint(data_file)","dba8f3f7":"#Observo el tama\u00f1o de la imagen. El mismo tambien se observa en la metadatada\n\nprint('Image shape:', img.shape)","02458ba1":"#Realizo la impresion de la imagen con un rectangulo se\u00f1alando la zona donde se encuentra la patologia\n\nbbox = [df.loc[idnum, 'x_min'],\n        df.loc[idnum, 'y_min'],\n        df.loc[idnum, 'x_max'],\n        df.loc[idnum, 'y_max']]\nfig, ax = plt.subplots(1, 1, figsize=(20, 4))\nax.imshow(img, cmap='gray')\np = matplotlib.patches.Rectangle((bbox[0], bbox[1]),\n                                 bbox[2]-bbox[0],\n                                 bbox[3]-bbox[1],\n                                 ec='r', fc='none', lw=2.)\nax.add_patch(p)\nplt.show()","0eed3a7a":"## Visualizacion de Imagenes DICOM","da99fb85":"Segun se indica en la descripcion de los datos la relacion entre el nombre de la clase y el id de la clase es la siguiente:\n\n0 - Aortic enlargement\n\n1 - Atelectasis\n\n2 - Calcification\n\n3 - Cardiomegaly\n\n4 - Consolidation\n\n5 - ILD\n\n6 - Infiltration\n\n7 - Lung Opacity\n\n8 - Nodule\/Mass\n\n9 - Other lesion\n\n10 - Pleural effusion\n\n11 - Pleural thickening\n\n12 - Pneumothorax\n\n13 - Pulmonary fibrosis\n\n\nEs importante destacar que el valor 14 corresponde a la ausencia de las observaciones enumeradas anteriormente","6c046c19":"## **Lectura del CSV**","d117c51e":"Se observa que en el 46% de las observaciones no se encuentran anomalias","cc3b6959":"## Librerias","577d7f47":"A continuacion realizo el pairplot para las 3 clases con mayores observaciones:\n\n    * Aortic enlargement (clas_id=0)\n\n    * Cardiomegaly (clas_id=3)\n\n    * Pleural thickening (clas_id=11)","0d427c26":"Segun se observa el formato de las imagenes que se utilizaran para el entranamiento del modelo tienen formato DICOM (Digital Imaging and Communication On Medicine), el cual es un est\u00e1ndar de transmisi\u00f3n de im\u00e1genes m\u00e9dicas y datos entre hardware de prop\u00f3sito m\u00e9dico","9b141299":"## Caracteristicas generales","642f3500":"A continuacion realizo la lectura de una imagen del dataset de entrenamiento","4e2f6b47":"## Caracteristicas de las Clases","6cdc6ded":"Segun se observa los valores nulos se presentan en las columnas donde se incluyen los valores de las coordenadas.\n","c5cf9a4e":"## Directorio"}}