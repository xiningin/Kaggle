{"cell_type":{"b1db679d":"code","acef0127":"code","b9106c0b":"code","dfe2cbfb":"code","f1eb1f1d":"code","f27f2a72":"code","9b1ea899":"code","9aa5d3da":"code","3dde3665":"code","e422489e":"code","680e88e3":"code","ed5287b9":"code","b9c6e2c0":"code","fe210b44":"code","ff83b520":"code","9b7540df":"markdown","c1bb0890":"markdown","9d4f59c8":"markdown","01b11b7c":"markdown","254b2574":"markdown","b9c5c01b":"markdown"},"source":{"b1db679d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","acef0127":"############################################\n# SORTING REVIEWS\n############################################\nimport pandas as pd\nimport math\nimport scipy.stats as st\npd.set_option('display.max_columns', None)\npd.set_option('display.expand_frame_repr', False)\npd.set_option('display.float_format', lambda x: '%.5f' % x)","b9106c0b":"###################################################\n# Score = (up ratings) \u2212 (down ratings)\n###################################################\n# nas\u0131l olunmaz. Yanl\u0131\u015flar\n\ndef score_up_down_diff(up, down):\n    return up - down","dfe2cbfb":"# Review 1: 600 up 400 down total 1000\n# Review 2: 5500 up 4500 down total 10000\n\n# Review 1 Score:\nscore_up_down_diff(600, 400)","f1eb1f1d":"# Review 2 Score\nscore_up_down_diff(5500, 4500)","f27f2a72":"###################################################\n# Score = Average rating = (up ratings) \/ (all ratings)\n###################################################\n# \ndef score_average_rating(up, down):\n    if up + down == 0:\n        return 0\n    return up \/ (up + down)\n\n\nscore_average_rating(600, 400)","9b1ea899":"score_average_rating(5500, 4500)","9aa5d3da":"# Review 1: 2 up 0 down total 2\n# Review 2: 100 up 1 down total 101\n\n# Review 1 Average Rating Score: 2\/2 = 1\n# Review 2 Average Rating Score: 100\/101 = 0.99\n\nscore_average_rating(2, 0)\n# burad da hatal\u0131 var.","3dde3665":"score_average_rating(100, 1)","e422489e":"###################################################\n# Wilson Lower Bound Score\n###################################################\n#\n\ndef wilson_lower_bound(up, down, confidence=0.95):\n    \"\"\"\n    Wilson Lower Bound Score hesapla\n\n    - Bernoulli parametresi p i\u00e7in hesaplanacak g\u00fcven aral\u0131\u011f\u0131n\u0131n alt s\u0131n\u0131r\u0131 WLB skoru olarak kabul edilir.\n    - Hesaplanacak skor \u00fcr\u00fcn s\u0131ralamas\u0131 i\u00e7in kullan\u0131l\u0131r.\n    - Not:\n    E\u011fer skorlar 1-5 aras\u0131daysa 1-3 negatif, 4-5 pozitif olarak i\u015faretlenir ve bernoulli'ye uygun hale getirilebilir.\n    Bu beraberinde baz\u0131 problemleri de getirir. Bu sebeple bayesian average rating yapmak gerekir.\n\n    Parameters\n    ----------\n    up: int\n        up count\n    down: int\n        down count\n    confidence: float\n        confidence\n\n    Returns\n    -------\n    wilson score: float\n\n    \"\"\"\n    n = up + down\n    if n == 0:\n        return 0\n    z = st.norm.ppf(1 - (1 - confidence) \/ 2)\n    phat = 1.0 * up \/ n\n    return (phat + z * z \/ (2 * n) - z * math.sqrt((phat * (1 - phat) + z * z \/ (4 * n)) \/ n)) \/ (1 + z * z \/ n)\n\n\n\n\nwilson_lower_bound(600, 400)\n# bu bilimsel y\u00f6ntem. yoruma a\u00e7\u0131k ve sa\u011flam ","680e88e3":"wilson_lower_bound(5500, 4500)","ed5287b9":"wilson_lower_bound(2, 0)","b9c6e2c0":"wilson_lower_bound(100, 1)","fe210b44":"###################################################\n# Case Study:\n###################################################\n\nup = [1115, 454, 258, 253, 220, 227, 127, 75, 60, 67, 38, 11, 26, 44, 1, 0, 6, 15, 20]\ndown = [43, 35, 26, 19, 9, 16, 8, 8, 4, 9, 1, 0, 0, 5, 0, 0, 0, 0, 3]\ncomments = pd.DataFrame({\"up\": up, \"down\": down})\n\n# score_pos_neg_diff\ncomments[\"score_up_down_diff\"] = comments.apply(lambda x: score_up_down_diff(x[\"up\"],\n                                                                             x[\"down\"]),axis=1)\n\n\n# score_average_rating\ncomments[\"score_average_rating\"] = comments.apply(lambda x: score_average_rating(x[\"up\"],\n                                                                                 x[\"down\"]),axis=1)\n\n# wilson_lower_bound\ncomments[\"wilson_lower_bound\"] = comments.apply(lambda x: wilson_lower_bound(x[\"up\"],\n                                                                             x[\"down\"]),axis=1)\ncomments","ff83b520":"comments.sort_values(\"wilson_lower_bound\", ascending=False)","9b7540df":"1. [Customer Segmentation with RFM](https:\/\/www.kaggle.com\/sezginildes\/rfm-ile-segmentasyonu-customer-segmentation-rfm)\n2. [Customer Lifetime Value Cltv](https:\/\/www.kaggle.com\/sezginildes\/customer-lifetime-value-cltv)\n3. [ASSOCIATION RULE LEARNING](https:\/\/www.kaggle.com\/sezginildes\/association-rule-learning)\n4. [BG-NBD ve Gamma-Gamma ile CLTV Prediction](https:\/\/www.kaggle.com\/sezginildes\/bg-nbd-ve-gamma-gamma-ile-cltv-prediction)\n5. [Content Based Recommendation](https:\/\/www.kaggle.com\/sezginildes\/content-based-recommendation)\n6. [Item-Based Collaborative Filtering](https:\/\/www.kaggle.com\/sezginildes\/item-based-collaborative-filtering)\n7. [User-Based Collaborative Filtering](https:\/\/www.kaggle.com\/sezginildes\/user-based-recommendation)\n8. [Model Based Collaborative Filtering: Matrix Factorization](https:\/\/www.kaggle.com\/sezginildes\/model-based-collaborative-filtering-matrix-factor)\n9. [Hybrid Recommender System](https:\/\/www.kaggle.com\/sezginildes\/hybrid-recommender-system)\n10. [Sorting Products](https:\/\/www.kaggle.com\/sezginildes\/sorting-products\/)\n11. [IMDB Movie Scoring & Sorting](https:\/\/www.kaggle.com\/sezginildes\/imdb-movie-scoring-sorting\/)\n12. [Sorting Reviews](https:\/\/www.kaggle.com\/sezginildes\/sorting-reviews)","c1bb0890":"###################################################\n# Score = Average rating = (up ratings) \/ (down ratings)\n###################################################","9d4f59c8":"###################################################\n# Wilson Lower Bound Score\n###################################################\n1. Bernolli da\u011f\u0131l\u0131m\np: up oran\u0131\n\n1. \u00f6rne\u011fin 60 up, 40 down interaction varsa up oran\u0131 nedir?\n2. 600\/1000= 0.6 up oran\u0131d\u0131r. yani p \u015fa\u011fa de\u011feridir\n3. 0.5-0.7 %95 g\u00fcven arl\u0131\u011f\u0131 bu aral\u0131\u011f\u0131ndad\u0131r.","01b11b7c":"###################################################\n# Score = (up ratings) \u2212 (down ratings)\n###################################################","254b2574":"###################################################\n# Case Study:\n###################################################","b9c5c01b":"############################################\n# SORTING REVIEWS\n############################################\n"}}