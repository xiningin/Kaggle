{"cell_type":{"63884912":"code","814767c6":"code","9a015664":"code","0a54f419":"code","86df553b":"code","680341a0":"code","7a734097":"code","36faf510":"code","aae3e8e6":"code","ce6c4720":"code","eedd2dd6":"code","77e5bb93":"code","ed6ba914":"code","c3843918":"code","21a17253":"code","3e144add":"markdown","af0d49b1":"markdown","740ad6f5":"markdown","0e9dd09a":"markdown","e056104d":"markdown","21aec56c":"markdown","4fd2fdd2":"markdown","d3dc6611":"markdown","bcea7faa":"markdown"},"source":{"63884912":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n\nimport csv\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","814767c6":"school = pd.read_csv(\"..\/input\/2016 School Explorer.csv\")\nschool.head()","9a015664":"import matplotlib.pyplot as plt\nimport matplotlib\nimport plotly.plotly as py\nimport seaborn as sns ","0a54f419":"sns.set(style=\"darkgrid\")\nplt.figure(figsize=(15,10))\ndescending_order = school[\"City\"].value_counts().sort_values(ascending=False).index\ngraph = sns.countplot(x=\"City\",data=school,order=descending_order)\n\ngraph.set_xticklabels(graph.get_xticklabels(),fontsize=15,rotation=60, ha=\"right\")\nplt.tight_layout()\nplt.show()","86df553b":"from scipy import stats\nsns.set(color_codes=True)\n\n#plt.figure(figsize=(15,5)\n\nschool.hist(column =\"Percent Asian\",by = \"Community School?\",bins=20)\nplt.show()","680341a0":"\nschool = school.replace('N\/A', np.nan)\nschool.iloc[50:64,10:26]\n#Replacing NA values with NaN\n\n\n#Dropping the NaN value rows as there are only few\nschool.dropna(subset=['Percent of Students Chronically Absent'],inplace=True)\nschool.iloc[50:64,10:26]","7a734097":"#Spliitig %age\nschool['Percent of Students Chronically Absent'] = school['Percent of Students Chronically Absent'].apply(lambda x: x.split('%')[0])\n\n#Changing datatype of column from object to float\nschool['Percent of Students Chronically Absent'] = school['Percent of Students Chronically Absent'].astype(float)\n\n#Converting it into percentage format\nschool['Percent of Students Chronically Absent'] = school['Percent of Students Chronically Absent']\/100\n\n#Creating new column with conditions and changing 'Percent of Students Chronically Absent' to categorical column\nschool['students_absent']= np.where(school['Percent of Students Chronically Absent']<=0.25,'1st Quratile',np.where(school['Percent of Students Chronically Absent']<=0.50,'2nd Quratile',np.where(school['Percent of Students Chronically Absent']<=0.75,'3rd Quratile','4th quartile')))\n\n# #school\nschool['students_absent'].head()","36faf510":"new_df = school.filter(['students_absent','Supportive Environment Rating'],axis=1)\nnew_df.head()\n#new_df['Percent of Students Chronically Absent'] = new_df['Percent of Students Chronically Absent'].str.rstrip('%').astype('float') \/ 100.0\nnew_df=new_df.dropna()\nnew_df.head(6)","aae3e8e6":"my_tab2= pd.crosstab(school['students_absent'],school['Supportive Environment Rating'])\nmy_tab2","ce6c4720":"import scipy.stats as scs\nfrom scipy import stats\nimport operator\nfrom scipy.stats import chi2_contingency\n\n#Applying contingency test to check the association\nstats.chi2_contingency(my_tab2)","eedd2dd6":"school = school.replace('N\/A', np.nan)\nschool['School Income Estimate']\n#Cleaning ['School Income Estimate'] columns data\n\n\n\nschool['School Income Estimate']=school['School Income Estimate'].str.replace('$','')\nschool['School Income Estimate']=school['School Income Estimate'].str.replace(',','')\n# school['School Income Estimate']=school['School Income Estimate'].str.split('$').str[1]\n#print(school['School Income Estimate'])\n# school['School Income Estimate'].str.split(',').str.join(''))\nschool['School Income Estimate']","77e5bb93":"\nschool['School Income Estimate']=school['School Income Estimate'].astype(float)\nschool['School Income Estimate'].dtype\n\n#Replacing NAN values with mean\nschool['School Income Estimate'].fillna(school['School Income Estimate'].mean(), inplace=True)\nschool['School Income Estimate']\n","ed6ba914":"district_income_estimate = school.groupby('District')['School Income Estimate'].mean()\n#district_income_estimate = pd.DataFrame(district_income_estimate)\n\n#list(district_income_estimate)","c3843918":"sns.set(style=\"darkgrid\")\n#district_income_estimate = district_income_estimate[\"School Income Estimate\"].value_counts().sort_values(ascending=False).index\nplt.figure(figsize=(15,5))\n# a = sns.barplot(x=\"District\",y=\"School Income Estimate\",data=school)\n\ndistrict_income_estimate.plot(kind=\"bar\")\n","21a17253":"plt.figure(figsize=(20, 10))\n\nimport seaborn as sns\n\n\n# school[\"Community School?\"].dtype\nschool[\"Percent of Students Chronically Absent\"]\na = sns.boxplot(x=\"Community School?\", y=\"Percent of Students Chronically Absent\",data=school)\na.set_xticklabels(a.get_xticklabels(),fontsize=25,rotation=20, ha=\"right\")\n\ntitle = \"Percentage of Students Chronically Absent in comparison with community and non-community schools\"\n","3e144add":"**#Ques5 Chronic Absent Rate - Community vs Normal School**","af0d49b1":"#Suitable null and alternative hypotheses might be:\n\nH0: students_absent is not associated withSupportive Environment Rating, and\nH1: students_absent is  associated with Supportive Environment Rating\n    \n    \nThe first value (361.27) is the Chi-square value, followed by the p-value (2.462e-72), \nthen comes the degrees of freedom (9), and lastly it outputs the expected frequencies\nas an array.  We can reject the null hypothesis as the p-value is less than 0.05. \n Thus, the results indicate that there is a relationship between students_absent and \n> Supportive Environment Rating","740ad6f5":"**Ques:1 Number of schools in a city in the descending order**","0e9dd09a":"**#Ques:2 What is the distribution of Asians in community schools in NYC**","e056104d":"**Plotting the **","21aec56c":"*We can see that brooklyn city has highest number of schools and douglaston has the lowest*","4fd2fdd2":"**Ques3 \nwhat is the association between students chronically \nmissing schools (being absent) and supportive environment rating.**","d3dc6611":"*District 2 and District 26th has highest Average School income estimate*","bcea7faa":"In community school the Average value of Percentage of Students Chronically Absent is more than non community school"}}