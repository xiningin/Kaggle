{"cell_type":{"4d7e54cc":"code","404a1ed1":"code","eaf90e45":"code","a3d0f0c3":"code","0e9e09e1":"code","a55a5fb2":"code","86000758":"code","befa5c90":"code","101b2aac":"code","97aec635":"code","b1e9a020":"code","c7f562e3":"code","89392a64":"code","d6089f81":"code","e5793a41":"code","3fcd53c4":"code","2f77c180":"code","3251e8f5":"code","071210e3":"code","0ca5b166":"code","843705b4":"code","68d67a04":"code","f75b5869":"code","f6c80e08":"code","64d39332":"code","566fd45b":"code","b96ae160":"code","1a30df4a":"code","4a347c7b":"code","ed85d244":"code","85460392":"code","ce233c1f":"code","1b29fdeb":"code","e44648d5":"code","986aaedc":"code","c49bde8a":"code","0ba62550":"code","5e77e7ac":"code","4c7b4bb5":"code","a319593e":"code","a66bfd34":"code","83e82abd":"code","60bd4051":"code","84d98fa0":"code","7c8aa4d3":"code","05f6cbbc":"code","1b8e57b5":"code","471594a5":"code","8a2163df":"code","9965b09a":"code","ce4b8867":"code","b04ebb5f":"code","c5447f11":"code","56c181e9":"code","ef3e99e9":"code","9ec9c2c3":"code","c3069e21":"code","3822616a":"code","8662f2d7":"code","edde0e15":"code","c7f8108a":"code","0b89b66d":"code","569d85c1":"code","8d8ef402":"markdown","99f0e9b9":"markdown","08313b59":"markdown","974be7e3":"markdown","833094eb":"markdown","bad9a2fe":"markdown","739e819f":"markdown","5e11c6d2":"markdown","670d8232":"markdown","2d42f8aa":"markdown","078ff07d":"markdown","b6519e22":"markdown","eb6a196c":"markdown","87d118fd":"markdown","f2913ab8":"markdown","f405b137":"markdown","06f5eafd":"markdown","9bd21680":"markdown","821dba10":"markdown","ac8933ce":"markdown","b7d9c3f8":"markdown","5f2e7739":"markdown","d5d8914e":"markdown","ac2288e3":"markdown","6a6865cc":"markdown","49563310":"markdown","33fa0360":"markdown","1307aaf7":"markdown","dbe2107e":"markdown","3571991c":"markdown","f964d4fb":"markdown","487c4322":"markdown","300f24ae":"markdown","affc27be":"markdown","a2e8339b":"markdown","c73f9c25":"markdown","9b76ddc3":"markdown","c61daa3c":"markdown","a258c2fc":"markdown","e52e0655":"markdown","fffd3714":"markdown","8e6a44ce":"markdown","f1f944de":"markdown","01645757":"markdown","2369be55":"markdown","46886aef":"markdown","b878a93f":"markdown","47b00fac":"markdown"},"source":{"4d7e54cc":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport datetime\nimport copy\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport cufflinks\ncufflinks.go_offline()\ncufflinks.set_config_file(world_readable = True, theme = 'pearl', offline = True)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","404a1ed1":"data = pd.read_csv('..\/\/input\/how-to-do-product-analytics\/product.csv')","eaf90e45":"data.head()","a3d0f0c3":"data.info()","0e9e09e1":"data.info(memory_usage = 'deep')","a55a5fb2":"data = data.drop(['order_id', 'page_id'], axis = 1)\ndata.info(memory_usage = 'deep')","86000758":"print('target column unique values: ', data.target.unique())\nprint('-----------------------------------------------------')\nprint('target column in the dataframe = 0')\nprint(data[data.target == 0])\nprint('-----------------------------------------------------')\nprint('target column in the dataframe = 1')\nprint(data[data.target == 1])","befa5c90":"print('Is there target is 1 for banner_show and banner_click in title column')\nif data[(data.target == 1)&((data.title == 'banner_show')|(data.title == 'banner_click'))].empty == True:\n    print('There are not such rows in the dataframe')\nelse:\n    data[(data.target == 1)&((data.title == 'banner_show')|(data.title == 'banner_click'))]\nprint('Is there target is 0 for order in title column')\nif data[(data.target == 0)&(data.title == 'order')].empty == True:\n    print('There are not such rows in the dataframe')\nelse:\n    data[(data.target == 0)&(data.title == 'order')]","101b2aac":"data = data.drop('target', axis = 1)\ndata.info(memory_usage = 'deep')","97aec635":"data.select_dtypes('object').nunique()","b1e9a020":"for col in ['product', 'site_version', 'title']:\n    data[col] = data[col].astype('category')\nprint(data.info(memory_usage = 'deep'))\ndata.head()","c7f562e3":"for dtype in ['int','object']:\n    selected_dtype = data.select_dtypes(include=[dtype])\n    mean_usage_b = selected_dtype.memory_usage(deep=True).mean()\n    mean_usage_mb = mean_usage_b \/ 1024 ** 2\n    print(\"Average memory usage for {} columns: {:03.2f} MB\".format(dtype,mean_usage_mb))","89392a64":"data['time'] = pd.to_datetime(data['time'])\ndata['date'] = data['time'].dt.date\ndata['hour'] = data['time'].dt.hour\ndata = data.drop('time', axis = 1)\ndata['hour'] = pd.to_numeric(data['hour'])","d6089f81":"data.info()","e5793a41":"data.isnull().sum()","3fcd53c4":"data.shape","2f77c180":"data2 = copy.deepcopy(data)","3251e8f5":"print('Products on banners: ', data2['product'].unique())\nprint('Site versions: ', data2.site_version.unique())\nprint('Page events: ', data2.title.unique())","071210e3":"fig = go.Figure(go.Funnel(x = data2.groupby('title').user_id.nunique().reset_index().sort_values('user_id', ascending = False)['user_id'],\n                          y = data2.groupby('title').user_id.nunique().reset_index().sort_values('user_id', ascending = False)['title'],\n                           textinfo = \"value+percent initial\"))\nfig.show()","0ca5b166":"px.funnel(data2.groupby('product').title.value_counts(), x='title', y = data2.groupby('product').title.value_counts().index.get_level_values('title'), \n          color = data2.groupby('product').title.value_counts().index.get_level_values('product'), title = 'Product funnel')","843705b4":"fig = go.Figure(go.Funnel(x = data2[data2.site_version == 'mobile'].title.value_counts().reset_index()['title'],\n                          y = data2[data2.site_version == 'mobile'].title.value_counts().reset_index()['index'],\n                           textinfo = \"value+percent initial\"))\nfig.show()","68d67a04":"mobile = data2[data2.site_version == 'mobile']\nmobile['date'] = pd.to_datetime(mobile['date'])\nmobile","f75b5869":"px.line(mobile.groupby('date').title.value_counts(), x = mobile.groupby('date').title.value_counts().index.get_level_values(0),\n       y = 'title', color = mobile.groupby('date').title.value_counts().index.get_level_values(1))","f6c80e08":"mobile['weekday'] = mobile['date'].dt.weekday\nmobile","64d39332":"px.line(pd.DataFrame(mobile.groupby('hour').title.value_counts()), x = pd.DataFrame(mobile.groupby('hour').title.value_counts()).index.get_level_values(0),\n        y = pd.DataFrame(mobile.groupby('hour').title.value_counts()).title, color = pd.DataFrame(mobile.groupby('hour').title.value_counts()).index.get_level_values(1),\n       title = 'Mobile users actions through the day')","566fd45b":"data[data.site_version == 'mobile'].groupby('product').title.value_counts()","b96ae160":"fig = go.Figure()\n\nfig.add_trace(go.Funnel(\n    name = 'Accessories',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    x = [1030951,117723,22430],\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Clothes',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [1035058,187814,45738],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Company',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [ 1102861,116357, 0],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Sneakers',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [1041430,161177,35154],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Sports_nutrition',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [1048375,131048,12219],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.show()","1a30df4a":"clicks = mobile[mobile.user_id.isin(mobile[mobile.title == 'banner_click'].user_id.unique())]\nclicks.sort_values(['user_id', 'date'])\norders = mobile[mobile.user_id.isin(mobile[mobile.title == 'order'].user_id.unique())]\norders.sort_values(['user_id', 'date'])","4a347c7b":"orders['step'] = orders['product'].astype('object')+'_'+orders['title'].astype('object')\norders = orders.sort_values(['user_id', 'date', 'hour'])","ed85d244":"px.scatter(orders.groupby(['hour', 'weekday']).step.value_counts(), x = orders.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(0),\n           y = orders.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(1), size = 'step', \n           color = orders.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(2), title = 'Lead actions')\n        ","85460392":"a = orders.groupby('user_id').step.unique().reset_index()\na = a.merge(pd.DataFrame(a['step'].values.tolist()), left_on = pd.DataFrame(a['step'].values.tolist()).index, right_on = a.index)\na = a.drop(['key_0','step'], axis = 1)\na = a.fillna('No action')","ce233c1f":"px.parallel_categories(a, dimensions = a.columns[1:], title = 'Full customer map journey')","1b29fdeb":"after_1 = a[(a[1] == 'clothes_order')|(a[1] == 'accessories_order')|(a[1] == 'sports_nutrition_order')|(a[1] == 'sneakers_order')]\npx.parallel_categories(after_1, dimensions = after_1.columns[1:])","e44648d5":"after_1 = a[(((a[1] == 'clothes_banner_click')|(a[1] == 'accessories_banner_click')|(a[1] == 'sports_nutrition_banner_click')|(a[1] == 'sneakers_banner_click')|(a[1] == 'company_banner_click'))&\n             ((a[2] == 'clothes_order')|(a[2] == 'accessories_order')|(a[2] == 'sports_nutrition_order')|(a[2] == 'sneakers_order')))]\npx.parallel_categories(after_1, dimensions = after_1.columns[1:])","986aaedc":"a[(((a[1] == 'clothes_banner_click')|(a[1] == 'accessories_banner_click')|(a[1] == 'sports_nutrition_banner_click')|(a[1] == 'sneakers_banner_click')|(a[1] == 'company_banner_click'))&\n             ((a[2] == 'clothes_order')|(a[2] == 'accessories_order')|(a[2] == 'sports_nutrition_order')|(a[2] == 'sneakers_order')))].groupby(2)[1].value_counts()","c49bde8a":"after_1_2 = a[((a[1] == 'clothes_order')|(a[1] == 'accessories_order')|(a[1] == 'sports_nutrition_order')|(a[1] == 'sneakers_order'))\n              &((a[3] == 'clothes_banner_click')|(a[3] == 'accessories_banner_click')|(a[3] == 'sports_nutrition_banner_click')|(a[3] == 'sneakers_banner_click')|\n               (a[3] == 'clothes_order')|(a[3] == 'accessories_order')|(a[3] == 'sports_nutrition_order')|(a[3] == 'sneakers_order'))]\npx.parallel_categories(after_1_2, dimensions = after_1_2.columns[3:])","0ba62550":"px.line(mobile[mobile.title == 'banner_click'].groupby('date')['product'].value_counts(), \n        x = mobile[mobile.title == 'banner_click'].groupby('date')['product'].value_counts().index.get_level_values(0),\n        y = 'product',\n        color = mobile[mobile.title == 'banner_click'].groupby('date')['product'].value_counts().index.get_level_values(1), title = 'Microconversion from mobile users dynamics')","5e77e7ac":"px.line(mobile[mobile.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts(), \n        x = mobile[mobile.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts().index.get_level_values(0),\n        y = 'product',\n        color = mobile[mobile.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts().index.get_level_values(2), \n        hover_data = [mobile[mobile.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts().index.get_level_values(1)], \n        title = 'Macroconversion dynamics from mobile users')","4c7b4bb5":"px.bar(pd.DataFrame(mobile.groupby('weekday').title.value_counts()), x = pd.DataFrame(mobile.groupby('weekday').title.value_counts()).index.get_level_values(0),\n       y = pd.DataFrame(mobile.groupby('weekday').title.value_counts()).title, \n      color = pd.DataFrame(mobile.groupby('weekday').title.value_counts()).index.get_level_values(1))","a319593e":"desktop = data2[data2.site_version == 'desktop']\ndesktop['date'] = pd.to_datetime(desktop['date'])\ndesktop","a66bfd34":"fig = go.Figure(go.Funnel(x = data2[data2.site_version == 'desktop'].title.value_counts().reset_index()['title'],\n                          y = data2[data2.site_version == 'desktop'].title.value_counts().reset_index()['index'],\n                           textinfo = \"value+percent initial\"))\nfig.show()","83e82abd":"px.line(desktop.groupby('date').title.value_counts(), x = desktop.groupby('date').title.value_counts().index.get_level_values(0),\n       y = 'title', color = desktop.groupby('date').title.value_counts().index.get_level_values(1), title = 'Desktop users activity')","60bd4051":"px.line(pd.DataFrame(desktop.groupby('hour').title.value_counts()), x = pd.DataFrame(desktop.groupby('hour').title.value_counts()).index.get_level_values(0),\n        y = pd.DataFrame(desktop.groupby('hour').title.value_counts()).title, color = pd.DataFrame(desktop.groupby('hour').title.value_counts()).index.get_level_values(1),\n       title = 'Desktop users actions through the day')","84d98fa0":"data2[data2.site_version == 'desktop'].groupby('product').title.value_counts()","7c8aa4d3":"fig = go.Figure()\n\nfig.add_trace(go.Funnel(\n    name = 'Accessories',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    x = [410003, 18531, 22121],\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Clothes',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [418070, 32781, 66977],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Company',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [477374,28464,0],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Sneakers',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [ 411597, 21419, 32565],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.add_trace(go.Funnel(\n    name = 'Sports_nutrition',\n    y = [\"banner_show\", \"banner_click\", \"order\"],\n    orientation = \"h\",\n    x = [417595,13870,11518],\n    textposition = \"inside\",\n    textinfo = \"value+percent initial\"))\n\nfig.show()","05f6cbbc":"desktop['weekday'] = desktop['date'].dt.weekday\ndesktop","1b8e57b5":"clicks_desk = desktop[desktop.user_id.isin(desktop[desktop.title == 'banner_click'].user_id.unique())]\nclicks_desk.sort_values(['user_id', 'date'])\norders_desk = desktop[desktop.user_id.isin(desktop[desktop.title == 'order'].user_id.unique())]\norders_desk.sort_values(['user_id', 'date'])","471594a5":"orders_desk['step'] = orders_desk['product'].astype('object')+'_'+orders_desk['title'].astype('object')\norders_desk = orders_desk.sort_values(['user_id', 'date', 'hour'])","8a2163df":"px.scatter(orders_desk.groupby(['hour', 'weekday']).step.value_counts(), x = orders_desk.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(0),\n           y = orders_desk.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(1), size = 'step', \n           color = orders_desk.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(2), title = 'Lead actions')","9965b09a":"px.bar(desktop[desktop.title == 'banner_click']['product'].value_counts(), title = 'Microconversion of desktop users')","ce4b8867":"px.line(desktop[desktop.title == 'banner_click'].groupby('date')['product'].value_counts(), \n        x = desktop[desktop.title == 'banner_click'].groupby('date')['product'].value_counts().index.get_level_values(0),\n        y = 'product',\n        color = desktop[desktop.title == 'banner_click'].groupby('date')['product'].value_counts().index.get_level_values(1), title = 'Microconversion from desktop users')","b04ebb5f":"px.line(desktop[desktop.title == 'order'].groupby('date')['product'].value_counts(), \n        x = desktop[desktop.title == 'order'].groupby('date')['product'].value_counts().index.get_level_values(0),\n        y = 'product',\n        color = desktop[desktop.title == 'order'].groupby('date')['product'].value_counts().index.get_level_values(1), title = 'Macroconversion from mobile users')","c5447f11":"desktop[desktop.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts()","56c181e9":"px.line(desktop[desktop.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts(), \n        x = desktop[desktop.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts().index.get_level_values(0),\n        y = 'product',\n        color = desktop[desktop.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts().index.get_level_values(2), title = 'Macroconversion from mobile users',\n       hover_data = [desktop[desktop.title == 'order'].groupby(['date', 'weekday'])['product'].value_counts().index.get_level_values(1)])","ef3e99e9":"clicks = desktop[desktop.user_id.isin(desktop[desktop.title == 'banner_click'].user_id.unique())]\nclicks.sort_values(['user_id', 'date'])\norders = desktop[desktop.user_id.isin(desktop[desktop.title == 'order'].user_id.unique())]\norders.sort_values(['user_id', 'date'])","9ec9c2c3":"orders['step'] = orders['product'].astype('object')+'_'+orders['title'].astype('object')\norders = orders.sort_values(['user_id', 'date', 'hour'])","c3069e21":"px.scatter(orders.groupby(['hour', 'weekday']).step.value_counts(), x = orders.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(0),\n           y = orders.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(1), size = 'step', \n           color = orders.groupby(['hour', 'weekday']).step.value_counts().index.get_level_values(2), title = 'Lead actions')\n","3822616a":"a = orders.groupby('user_id').step.unique().reset_index()\na = a.merge(pd.DataFrame(a['step'].values.tolist()), left_on = pd.DataFrame(a['step'].values.tolist()).index, right_on = a.index)\na = a.drop(['key_0','step'], axis = 1)\na = a.fillna('No action')","8662f2d7":"px.parallel_categories(a, dimensions = a.columns[1:], title = 'Full customer map journey')","edde0e15":"after_1 = a[(a[1] == 'clothes_order')|(a[1] == 'accessories_order')|(a[1] == 'sports_nutrition_order')|(a[1] == 'sneakers_order')]\npx.parallel_categories(after_1, dimensions = after_1.columns[1:])","c7f8108a":"after_1 = a[(((a[1] == 'clothes_banner_click')|(a[1] == 'accessories_banner_click')|(a[1] == 'sports_nutrition_banner_click')|(a[1] == 'sneakers_banner_click')|(a[1] == 'company_banner_click'))&\n             ((a[2] == 'clothes_order')|(a[2] == 'accessories_order')|(a[2] == 'sports_nutrition_order')|(a[2] == 'sneakers_order')))]\npx.parallel_categories(after_1, dimensions = after_1.columns[1:])","0b89b66d":"a[(((a[1] == 'clothes_banner_click')|(a[1] == 'accessories_banner_click')|(a[1] == 'sports_nutrition_banner_click')|(a[1] == 'sneakers_banner_click')|(a[1] == 'company_banner_click'))&\n             ((a[2] == 'clothes_order')|(a[2] == 'accessories_order')|(a[2] == 'sports_nutrition_order')|(a[2] == 'sneakers_order')))].groupby(2)[1].value_counts()","569d85c1":"after_1_2 = a[((a[1] == 'clothes_order')|(a[1] == 'accessories_order')|(a[1] == 'sports_nutrition_order')|(a[1] == 'sneakers_order'))\n              &((a[3] == 'clothes_banner_click')|(a[3] == 'accessories_banner_click')|(a[3] == 'sports_nutrition_banner_click')|(a[3] == 'sneakers_banner_click')|\n               (a[3] == 'clothes_order')|(a[3] == 'accessories_order')|(a[3] == 'sports_nutrition_order')|(a[3] == 'sneakers_order'))]\npx.parallel_categories(after_1_2, dimensions = after_1_2.columns[3:])","8d8ef402":"#### Funnel above shows us:\n* #### the most clickable banners for mobile users are with clothes, also these banners have the highest conversion from click to order (24.4%). It means that clothes has a great demand and banners look attractive and informative (when going to the site, the future client sees the product that he expected to see, with the necessary characteristics);\n* #### banners with sneakers are quite worse than clothes, but although they are clickable and have a 2.8% conversion to order (from click to order 21.8%);\n* #### banners with ports_nutrition have macroconversion 13%, but from click to order it is only 9.3%. Possible problems:\n    * #### there is broken links from banner;\n    * #### banner attract not target audience (when people go to the site they see not what they want, not what they expect from banner);\n    * #### there is not enough informantion about goods on the site, so client stay 'cold' and leave;\n    * #### conpetitors give much more cooler than ours (price, quality, assortment etc.)\n* #### banners with accessories are not so clickable (11%), but have a good conversion from the click to order (19.1%). We can make a banner more attractive and increase sales of accessories.\n* #### banners about company are not so clickable for mobile users.","99f0e9b9":"### For desktop users the highest number of ad showings was between 8 a.m. and 10 a.m. and 4 p.m. and 6 p.m., there is the same statistics for clicks. But orders show another dynamics: the highest number of orders was from 2 p.m. to 5 p.m.","08313b59":"### Also there is a target column in the dataframe and I need to understand what information it gives.","974be7e3":"### I deleted all unuseful columns, so now I should to manipulate data types in dataframe.","833094eb":"## Mobile users analytics","bad9a2fe":"### This is a line through the all time, there are some repeating ups and downs for banner_click and order (it becomes visible when you look at the lines of each action separately, for it you should click the legend)","739e819f":"### We can change object types to category if there are less than 50% percent of unique values. Here I see how much unique values has every column.","5e11c6d2":"### We should consider behaviour of desktop and moblie users separately","670d8232":"### The dataframe has too high memory usage, so here I get more detailed information about it:","2d42f8aa":"### My hypothesis was right: target column shows a good is ordered or not. We can get this information from the title column ('order' value), so I can delete this column too.","078ff07d":"### This funnel shows that desktop banners have very low clickability, but a very high conversion from click to order. It means that it attracts only 'hot' leads who are ready to buy and who find in assortment exatly what they need. But for 'warm' and 'cold' leads this banner is not so good.","b6519e22":"### There is a sharp increasing of clicking on company banners from January, 20 to February, 17. Then it started changing in the same way with onther banners. Also there is regular increasings and decreasing for each product (it is seasonal weekly trend (in the start of week there is a increase, in the middle - a decrease, then on thursday we have an increase again, and a decrease on holidays again.","eb6a196c":"#### See what products, site versions and page events we have","87d118fd":"### There is the same trend for macroconversion of mobile users as for microconversion","f2913ab8":"### Check what banners were clicked and then orders were made","f405b137":"### The majority of them clicked different banners but after that there was no action. But about 160 people made a second purchase (they came from different banners)","06f5eafd":"### Check macroconversion dynamics for mobile users","9bd21680":"#### See site funnel. It has 17% conversion from show to click, 32% conversion from click to order and 5.6% conversion from show to order.","821dba10":"### Check macroconversion dynamics from the destop users","ac8933ce":"### Check what was going on with people who made first orders after first banner seeing","b7d9c3f8":"### From graphics above we can see that majority of first orders are clothes orders, the second one by amount of orders is sneakers. The majority of first orders were made after company banner seeing.","5f2e7739":"### The chart above shows that from january, 20 to March, 3 there were increasing of clicking a company banner and desreasing of clicking all other banners, but from middle of March they started mving in the same directions.","d5d8914e":"#### From chart above I got an information (click the legend to get actions statistics separately:\n* #### all of banners were shown at about the same time\n* #### the most clickable time for clothes banners is 7-9 a.m., but orders are made throughout the day: from 10 a.m. to 11 p.m.;\n* #### for sneakers it is the same;\n* #### there is no so much clicks for accessories banners, the highest number of it is 7-9 a.m. too., the majority of accessorires are ordered at the daytime (11 a.m.- 8 p.m.)\n* #### there is no so much clicks for sport nutrion banners, the highest number of it is 7-9 a.m. too., the majority of sport nutrition are ordered at the daytime (11 a.m.- 8 p.m.)\n","ac2288e3":"### Check what banners were clicked before first order was made","6a6865cc":"## Desktop users analytics","49563310":"### Dataframe uses 4.3 GB of memory, so the first step to decrease this value is deletting columns which I will not use. These are order_id and page_id.","33fa0360":"### Check missing values","1307aaf7":"* #### The least clickable banner for accessories orderer is accessories banner (651 clicks) and company banner (689 clicks) and the most clickable is clothes (1145 clicks). Also making a decision to buy accessories were made after clicking the sneakers banner (967 clicks) and sport_nutrition banner (792 clicks).\n* #### For clothes orders the most clickable baneer is with sneakers (2164 clicks). Slightly less conversion to buying clothing from banners with clothes (1697 clicks), sports nutrition (1692 clicks), accessories (1506 clicks) and company (1493 clicks).\n* #### For sneakers orders the most clickable banner is with clothes (1841 clicks). Slightly less conversion to buying sneakers from banners with sports nutrition (1234 clicks), sneakers (1225 clicks), company (1215 clicks) and accessories (1138 clicks).\n* #### For sport nutrition orders the most clickable banner is clothes (632 clicks). Slightly less conversion to buying sport nutrition from sneakers banner (504 clicks), accessories banners (401 clicks), sport nutrons banner (384 banners) and company banner (374 clicks)","dbe2107e":"### They saw different banners, clicked them, but then there was no action anymore. There is only 13 new orders of accessorires after sneakers, nutrion and company banner show and 17 clothes orders after accessories, sneakers and company banner show.","3571991c":"#### From chart above I got an information (click the legend to get actions statistics separately:\n* #### if we consider amount of clicks and orders, we can see that amount of clicks is much less than amount of orders. It makes me think that pe\n* #### all of banners were shown at about the same time (the highest amount of showings was from 7 to 9 a.m. and from 4 to 6 p.m.\n* #### the most clickable time for clothes banners is 7-9 a.m., but orders are made throughout the day: from 10 a.m. to midnight;\n* #### for sneakers it is the same;\n* #### there is no so much clicks for accessories banners, the highest number of it is 7-9 a.m. too., the majority of accessorires are ordered at the daytime (11 a.m.- 8 p.m.)\n* #### there is no so much clicks for sport nutrion banners, the highest number of it is 7-9 a.m. too., the majority of sport nutrition are ordered at the daytime (11 a.m.- 8 p.m.)","f964d4fb":"#### From chart above I got an information (click the legend to get actions statistics separately:\n* #### all of banners were shown at about the same time\n* #### the most clickable time for clothes banners is 7-9 a.m., but orders are made throughout the day: from 10 a.m. to midnight;\n* #### for sneakers it is the same;\n* #### there is no so much clicks for accessories banners, the highest number of it is 7-9 a.m. too., the majority of accessorires are ordered at the daytime (11 a.m.- 8 p.m.)\n* #### there is no so much clicks for sport nutrion banners, the highest number of it is 7-9 a.m. too., the majority of sport nutrition are ordered at the daytime (11 a.m.- 8 p.m.)\n","487c4322":"### Check what banners made clients order something after first banner seeing.","300f24ae":"### Funnel above shows that all desktop banners have a lov clickability for all products, but we have a good conversion from click to order. It means that all clients who saw banners made several orders (it does not refer to company banners as it has not conversion to order)","affc27be":"### Check what was going on with people who made first orders after first banner seeing.","a2e8339b":"#### Now I have a dataframe with 8 471 220 rows and 6 columns and I am ready to analyse it.","c73f9c25":"### These increasings and decreasings are weekly seasonality: there is high amount of orders on Monday, then it decreases to the middle of the week, on ","9b76ddc3":"* #### The majority of clothes orders were made after company banner clicks (2011 clicks) and clothes banner clicks (1133 clicks). Much less conversion from sneakers banner clicks (533 clicks), accessroies banner clicks (511 clicks) and sports nutrition banners (329 clicks)\n* #### The majority of sneakers orders were made after clothes banner clicks (556) and company banner clicks (503). Slightly less conversion  from sneakers banners (393), accessorires (332) and sport nutrition banners (243)\n* #### The majority of accessories orders were made after clothes banner clicks (405) and company banner clicks (334). Slightly less conversion from sneakers banner clicks (261), accessories banner clicks (257)\n* #### The majority of sports nutrition orders were made after clothes banner clicks (203). Less conversion from company banner clicks (161), sneakers banner clisks (123), accessories banner clicks (111), sports nutrition banner clicks (102)","c61daa3c":"#### Making a copy of the dataframe","a258c2fc":"### On the chart below we can see that in the start of marketing company clickicking and ordering moved in opposite directions: clicking decreased, but ordering decreased, after 3 months they started moving in the same directions, but ordering line was higher. ","e52e0655":"### As we can see, the majority of first orders (lot's of them are clothes order, then sneakers and accessories) were made after company banner seeing. After this order the majority of people didn't do anything.","fffd3714":"### Check seasonal trends","8e6a44ce":"### We have 14% conversion from show to click, 16.2% conversion from click to order and 2.2% from show to order.","f1f944de":"### There is the highest amount of clicks of desktop users on clothes banners (32K), then company banners (28.5K), sneakers (21.5K), accessories (18.5K) and the least amount on sports nutrition banners (13K)","01645757":"### It looks like target is 0 for banner_show and banner_click and target is 1 for order in title columns. Checking hypothesis.","2369be55":"### Check clicking dynamics for mobile users","46886aef":"### The product, site_version and title columns have only 5, 2 and 3 unique values, so it is a good opportunity to change them to the category type.","b878a93f":"### For mobile users the highest number of ad showings was between 8 a.m. and 10 a.m. and 4 p.m. and 6 p.m., there is the same statistics for clicks. But orders show another dynamics: the highest number of orders was from 2 p.m. to 5 p.m.","47b00fac":"### We can see that clothes macroconversion is much higher, than others. Also there is regular increasings and decreasings for each product."}}