{"cell_type":{"ae320c70":"code","5b53cd93":"code","e065444b":"code","7d4352c3":"code","d69ad6d5":"code","21938037":"code","8d15cd28":"code","7e70d0e1":"code","89b205a9":"code","f8844387":"code","d29e6040":"markdown","c04bad30":"markdown","5649e8fa":"markdown","f56b7f68":"markdown","cf3fe0f0":"markdown","3ccb0a38":"markdown","68ef8448":"markdown","2f8123ee":"markdown","a8ad4e3f":"markdown","01b9c15e":"markdown","b76dae60":"markdown"},"source":{"ae320c70":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\nfrom kaggle.competitions import twosigmanews","5b53cd93":"env = twosigmanews.make_env()\n(market_train_df, news_train_df) = env.get_training_data()","e065444b":"print('length of market_train_df: {}'.format(len(market_train_df)))\nprint('how many assetCode in training set: {}'.format(market_train_df['assetCode'].nunique()))\nprint('length of news_train_df: {}'.format(len(news_train_df)))","7d4352c3":"print(market_train_df.columns)\nmarket_train_df.head(2)","d69ad6d5":"print(market_train_df.columns)\nmarket_train_df.head(2)","21938037":"for i in [0.05, 0.1, 0.25, 0.5, 0.75, 0.9, 0.95]:\n    market_train_df.groupby('time')['close'].quantile(i).plot(figsize=(10,6))","8d15cd28":"market_train_df['close_to_open_abs'] = (market_train_df['close'] \/ market_train_df['open']).abs()","7e70d0e1":"print('price increased by 100% or more: {}'.format(len(market_train_df[market_train_df['close_to_open_abs'] >= 2])))\nprint('price decreased by 100% or more: {}'.format(len(market_train_df[market_train_df['close_to_open_abs'] <= 0.5])))","89b205a9":"# \uc598\ub124\ub97c \uc5b4\ub5a4 \uac12\uc73c\ub85c \ub300\uccb4\ub97c \ud574\uc918\uc57c \uc88b\uc744\uae4c?\nmarket_train_df[(market_train_df['close_to_open_abs'] >= 2) | (market_train_df['close_to_open_abs'] <= 0.5)]","f8844387":"print(news_train_df.columns)\nnews_train_df.head(2)","d29e6040":"### Anomaly\n* Check close and open price have right value.\n* Close, Open \ub370\uc774\ud130\uc5d0 \ubb38\uc81c\uac00 \uc5c6\ub294\uc9c0 \uccb4\ud06c\ud55c\ub2e4. \uadf8\ub0a0\uc758 \uc2dc\uac00\uc640 \uc885\uac00\uac00 \uc0c1\uc2dd \uc774\uc0c1\uc73c\ub85c \ub9ce\uc774 \ucc28\uc774\ub098\ub294 (100% \uc774\uc0c1) \uacbd\uc6b0\ub294 \ub370\uc774\ud130\uc5d0 \ubb38\uc81c\uac00 \uc788\ub2e4\uace0 \ubcf4\uc558\ub2e4. References\uc5d0 EDA feature engineering and everything \ucee4\ub110\uc744 \ucc38\uc870\ud588\ub2e4.","c04bad30":"## About market price","5649e8fa":"* time: \ud604\uc7ac \uc2dc\uac04 \/ the current time (in marketdata, all rows are taken at 22:00 UTC)\n* assetCode: \uc790\uc0b0\uc758 ID, \uc8fc\uc2dd\uc758 \uace0\uc720\ub118\ubc84. \ud55c \ud68c\uc0ac\uac00 \uc5ec\ub7ec assetCode\ub97c \uac00\uc9c8 \uc218 \uc788\ub2e4. (\uc5ed\uc790 \uc8fc. \uc544\ub9c8 \uc6b0\uc120\uc8fc, \ubcf4\ud1b5\uc8fc \ub4f1 \ub2e4\uc591\ud55c type\uc758 \uc8fc\uc2dd\uc774 \uc788\uae30 \ub54c\ubb38\uc778 \uac83 \uac19\uc2b5\ub2c8\ub2e4.) \/ a unique id of an asset. a single company may have multiple assetCodes\n* assetName: \uc790\uc0b0\uc758 \uc774\ub984, \ubc95\uc778\uba85. \uad00\ub828 \ub274\uc2a4 \ub370\uc774\ud130\uac00 \ud558\ub098\ub3c4 \uc5c6\ub2e4\uba74 'Unknown' \ud45c\uc2dc\ub41c\ub2e4. \/ the name that corresponds to a group of assetCodes. These may be \"Unknown\" if the corresponding assetCode does not have any rows in the news data.\n* volume: \ub2f9\uc77c \uac70\ub798 \ubb3c\ub7c9 \/ trading volume in shares for the day\n* close: \ub2f9\uc77c \uc885\uac00 (\uc8fc\uc2dd \ubd84\ud560, \ubc30\ub2f9\uae08 \uc870\uc815\uc774 \ubc18\uc601\ub418\uc9c0 \uc54a\uc74c) \/ the close price for the day (not adjusted for splits or dividends)\n* open: \ub2f9\uc77c \uc2dc\uac00 (\uc8fc\uc2dd \ubd84\ud560, \ubc30\ub2f9\uae08 \uc870\uc815\uc774 \ubc18\uc601\ub418\uc9c0 \uc54a\uc74c) (\uc5ed\uc790 \uc8fc. \uc804\uc77c \uc885\uac00\uc640 \uac19\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.) \/ the open price for the day (not adjusted for splits or dividends)\n* returnsClosePrevRaw1\n* returnsOpenPrevRaw1\n* returnsClosePrevRaw10\n* returnsOpenPrevRaw10\n* returnsClosePrevMktres10\n* returnsOpenPrevMktres10\n* returnsOpenNextPrevMktres10\n* universe: a boolean indicating whether or not the instrument on that day will be included in scoring. This value is not provided outside of the training data time period. The trading universe on a given date is the set of instruments that are avilable for trading (the scoring function will not consider instruments that are not in the trading universe). The trading universe changes daily.","f56b7f68":"## About news","cf3fe0f0":"# References\n* https:\/\/www.kaggle.com\/artgor\/eda-feature-engineering-and-everything","3ccb0a38":"# Read data","68ef8448":"# EDA","2f8123ee":"# feature translation in Korean","a8ad4e3f":"## Hi all,\n\nI'm a data analyst in Coupang which is the fastest growing e-commerce company in South Korea. I got a master degree of management engineering. Main research topic was empirical finance, which analyzes financial data with various econometrics methods. I'm familiar with cross-sectional and panel regression with fixed effects. My last project is Sales forecast with Prophet, ARIMA, and RNN. Recently, I'm interested in Deep learning, Machine learning techniques to define and solve problems in transportation systems. If you have any questions, please leave a comment or send me an e-mail. This document is still working version.\n\n\uc548\ub155\ud558\uc138\uc694. \ucfe0\ud321\uc5d0 Junior Software Engineer\ub85c \uc7ac\uc9c1\uc911\uc778 \uc724\uc120\ubbf8\uc785\ub2c8\ub2e4. \ub370\uc774\ud130 \ubd84\uc11d\ud558\ub294 \uc77c\uc744 \ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. UNIST \uc5d0\uc11c \uacbd\uc601\uacf5\ud559\uc73c\ub85c \uc11d\uc0ac\ud559\uc704\ub97c \ubc1b\uc558\uace0 \uc138\ubd80\uc804\uacf5\uc740 \uacc4\ub7c9\uae08\uc735\uc785\ub2c8\ub2e4. Empirical finance \ub77c\uace0 \ubd88\ub9ac\ub294 \uc774 \ubd84\uc57c\ub294 \uae08\uc735 \ub370\uc774\ud130\ub97c \uc5ec\ub7ec\uac00\uc9c0 \ud1b5\uacc4\ud559\uc801 \ubc29\ubc95\ub860\uc73c\ub85c \ubd84\uc11d, \ud574\uc11d\ud569\ub2c8\ub2e4. \ud6a1\ub2e8\uba74 \uc790\ub8cc\ubd84\uc11d, \ud328\ub110 \uc790\ub8cc\ubd84\uc11d (Cross-sectional regression and panel regression) \uc5d0 \uc775\uc219\ud569\ub2c8\ub2e4. \ucd5c\uadfc\uc5d0\ub294 Prophet, ARIMA, RNN\uc744 ensemble\ud558\uc5ec \uc608\uce21 \ubb38\uc81c\ub97c \ud478\ub294 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c4\ud589\ud588\uc2b5\ub2c8\ub2e4. \ub525\ub7ec\ub2dd, \uba38\uc2e0\ub7ec\ub2dd \ubc29\ubc95\ub860\ub4e4\uc744 \uc0ac\uc6a9\ud558\uc5ec \ubc30\uc1a1 \uc2dc\uc2a4\ud15c \ub0b4\uc758 \ub2e4\uc591\ud55c \ubb38\uc81c\ub4e4\uc744 \uc815\uc758\ud558\uace0 \ud478\ub294 \uac83\uc5d0 \uad00\uc2ec\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \ucf54\uba58\ud2b8, \uba54\uc77c\uc744 \ud1b5\ud55c \uc5b4\ub5a4 \uc9c8\ubb38\uc774\ub77c\ub3c4 \ud658\uc601\ud569\ub2c8\ub2e4. \uac10\uc0ac\ud569\ub2c8\ub2e4. \uc774 \ubb38\uc11c\ub294 working \uc785\ub2c8\ub2e4. \n\nysunmi0427@gmail.com, Software Engineer in Coupang, Sunmi Yoon\n","01b9c15e":"### General trends of prices\n* It is cool to be able to see how markets fall and rise again through a decade. There are serious stock price drops on the market. That serious price drops were coming from collapse of Lehman Brothers during subprime mortgage crisis, Black Monday, Oil prices crash and et cetera. Should we include these big crisis in our data for forecast? Should we exclude all the big crisis for training our model?\n* 10\ub144 \ub3d9\uc548 \uc8fc\uc2dd \uac00\uaca9\uc758 \uc6c0\uc9c1\uc784\uc744 \ubcfc \uc218 \uc788\ub2e4. \uc544\ub798 figure\ub294 \uac01\uac01 quantile 0.05, 0.1, 0.25, 0.5, 0.75, 0.9, 0.95 \uc9c0\uc810\uc758 \uc885\uac00\ub97c \ub0a0\uc9dc\ubcc4\ub85c \ubcf4\uc5ec\uc900\ub2e4. \uc2ec\uac01\ud55c \uc8fc\uc2dd\uac00\uaca9 \ud558\ub77d\ub3c4 \uad00\ucc30\ud560 \uc218 \uc788\ub2e4. \ud2b9\ud788 2008\ub144 ~ 2009\ub144\uc5d0\ub294 \uc11c\ube0c \ud504\ub77c\uc784 \ubaa8\uae30\uc9c0 \uc0ac\uac74, \ub974\ub9cc \ube0c\ub77c\ub354\uc2a4\uc758 \ud30c\uc0b0 \ub4f1\uc758 \uad75\uc9c1\ud55c \uc0ac\uac74\ub4e4\uc774 \uc788\uc5c8\ub2e4. \uc774\ub7f0 \ud070 \uc0ac\uac74\ub4e4\uc744 \ub370\uc774\ud130\uc5d0 \ud3ec\ud568\uc2dc\ud0a4\ub294 \uac83\uc774 forecast\uc5d0 \ub3c4\uc6c0\uc774 \ub420\uae4c? \ud070 \uc0ac\uac74\ub4e4\uc744 \ub370\uc774\ud130\uc5d0\uc11c \ubb34\uc870\uac74 \uc81c\uc678\uc2dc\ud0a4\ub294 \uac83\uc740 \uacfc\uc5f0 \ubaa8\ub378 \ud2b8\ub808\uc774\ub2dd\uc5d0 \ub3c4\uc6c0\uc774 \ub420\uae4c?","b76dae60":"### Market data\n\uc774 \ub370\uc774\ud130\ub294 \ubbf8\uad6d \uc8fc\uc2dd\uc2dc\uc7a5\uc5d0 \uc0c1\uc7a5 \ub41c \uc8fc\uc2dd\uc758 \uc77c\ubd80\ub97c \ub2e4\ub8f9\ub2c8\ub2e4. \ub370\uc774\ud130\uac00 \ud3ec\ud568\ud558\ub294 \uc8fc\uc2dd\uc740 \uac70\ub798\ub7c9\uacfc, \uc815\ubcf4\uc758 \uc0ac\uc6a9\uac00\ub2a5 \uc5ec\ubd80\ub97c \uae30\uc900\uc73c\ub85c \uc77c \ub2e8\uc704\ub85c \ubc14\ub014 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Returns(\uc218\uc775\ub960)\uc740 open-to-open(\uc2dc\uac00\uae30\uc900), close-to-close(\uc885\uac00\uae30\uc900)\uc73c\ub85c \uacc4\uc0b0\ub429\ub2c8\ub2e4. \uc218\uc775\ub960\uc5d0\ub294 raw \ud0c0\uc785\uacfc Mktres \ud0c0\uc785\uc774 \uc788\uc2b5\ub2c8\ub2e4. raw \ud0c0\uc785\uc740 \uc5b4\ub5a4 \uc870\uc815\ub3c4 \ub418\uc9c0 \uc54a\uc740 \uc218\uc775\ub960\uc744 \ub73b\ud558\uace0, Mktres \ud0c0\uc785\uc740 \ub9c8\ucf13 \uc804\ubc18\uc758 \uc6c0\uc9c1\uc784\uc744 \uc81c\uc678\ud558\uace0 \ud574\ub2f9\ud558\ub294 \uc8fc\uc2dd\uc758 \uace0\uc720\ud55c \uc6c0\uc9c1\uc784\ub9cc\uc744 \ud3ec\ud568\ud558\ub294 \uc218\uc775\ub960\uc744 \uc758\ubbf8\ud569\ub2c8\ub2e4. (\uc5ed\uc790 \uc8fc. market-residualized return = market adjusted stock return. CAPM, capital asset pricing model\uc744 \ucc38\uace0\ud558\uc138\uc694.) \uc774 \ubb38\uc81c\uc5d0\uc11c \uc218\uc775\ub960\uc740 1\uc77c \ub610\ub294 10\uc77c \uae30\uc900\uc73c\ub85c \uacc4\uc0b0\ub429\ub2c8\ub2e4. Returns are tagged with 'Prev' if they are backwards looking in time, or 'Next' if forwards looking.\n\nThe data includes a subset of US-listed instruments. The set of included instruments changes daily and is determined based on the amount traded and the availability of information. This means that there may be instruments that enter and leave this subset of data. There may therefore be gaps in the data provided, and this does not necessarily imply that that data does not exist (those rows are likely not included due to the selection criteria).\n\nThe marketdata contains a variety of returns calculated over different timespans. All of the returns in this set of marketdata have these properties:\n\nReturns are always calculated either open-to-open (from the opening time of one trading day to the open of another) or close-to-close (from the closing time of one trading day to the open of another).\nReturns are either raw, meaning that the data is not adjusted against any benchmark, or market-residualized (Mktres), meaning that the movement of the market as a whole has been accounted for, leaving only movements inherent to the instrument.\nReturns can be calculated over any arbitrary interval. Provided here are 1 day and 10 day horizons.\nReturns are tagged with 'Prev' if they are backwards looking in time, or 'Next' if forwards looking."}}