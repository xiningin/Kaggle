{"cell_type":{"0fb26c00":"code","36bfaf02":"code","a19aef78":"code","d73a9909":"code","a36deb27":"code","5526fb87":"code","490163f2":"code","d995ed2d":"code","b32ae777":"code","9f3b99f1":"code","594ade44":"code","27778642":"code","ef3ccaa3":"code","3086b41f":"code","17c58bb4":"code","16341ced":"markdown","bb131fe6":"markdown","92e02bca":"markdown","50080fcb":"markdown","afbc9cf0":"markdown","0923f188":"markdown","47eb1796":"markdown","1d4edffa":"markdown"},"source":{"0fb26c00":"import numpy as np #linear algebra\nimport pandas as pd #data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt #visualization library\nimport seaborn as sns #visualization library\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","36bfaf02":"df_train = pd.read_csv('..\/input\/titanic\/train.csv')","a19aef78":"df_train.head()","d73a9909":"usecols = ['Cabin', 'Survived']\ndf_SurvivedTwo = df_train.loc[ :, ['Cabin', 'Survived']]","a36deb27":"df_SurvivedTwo.head()","5526fb87":"#Replace missing values\ndf_SurvivedTwo['Cabin'].fillna(\"Missing\", inplace=True)\ndf_SurvivedTwo.head(n=20)","490163f2":"df_SurvivedTwo['Cabin'].unique()","d995ed2d":"df_SurvivedTwo['Cabin'] = df_SurvivedTwo['Cabin'].astype(str).str[0]\ndf_SurvivedTwo.head()","b32ae777":"series = df_SurvivedTwo.groupby(['Cabin'])['Survived'].mean()","9f3b99f1":"new_catDataFrame = pd.DataFrame(series)\nnew_catDataFrame.reset_index().head()","594ade44":"new_catDataFrame['Died'] = 1 - new_catDataFrame['Survived']\nnew_catDataFrame.head(n=10)","27778642":"new_catDataFrame['probability'] = new_catDataFrame['Survived'] \/ new_catDataFrame['Died']\nnew_catDataFrame.head()","ef3ccaa3":"proba_encode = new_catDataFrame['probability'].to_dict()\nproba_encode","3086b41f":"df_SurvivedTwo['Cabin_Encode'] = df_SurvivedTwo['Cabin'].map(proba_encode)\ndf_SurvivedTwo.head(n=20)","17c58bb4":"df_SurvivedTwo.head(n=20)","16341ced":"We observe that all Cabin names are composed of a 3-letter word. The digits won't help us much but the class such as \n'M', 'C', etc. may contribute as an important feature.","bb131fe6":"Probability ratio encoding is a great tool if you want to estimate the importance of each value in a class label in determining the final prediction or classification value.","92e02bca":"We will only be imputing the data in Cabin column for now.","50080fcb":"Calculating the mean of the 'Cabin' column WRT to the no. of output label.","afbc9cf0":"ProbabilityEncoding\n1. Probabilty of Survived based on Cabin - Categorical Features\n2. Calculate probability of Not Survived\n3. Calculate probability of (Survived\/Not Survived)\n4. Map this feature to dataframe and drop the corresponding categorical column.","0923f188":"Reading and analysing the dataset","47eb1796":"**A great way to encode categorical feature which may have a strong correlation with the data label**","1d4edffa":"When it comes to filling missing values in categorical features, I prefer to fill it with a 'Missing' value and then imputing it accordingly into a numerical feature."}}