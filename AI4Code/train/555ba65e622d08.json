{"cell_type":{"11eb7263":"code","ef2a9c10":"code","0c85b257":"code","88705985":"code","119dc0d7":"code","68d6dc84":"code","a6a6a346":"code","8c88c7e2":"code","ad59983d":"code","857a816f":"code","86345386":"code","f1fc263a":"code","36f42b74":"code","fce2637a":"code","46a39b89":"code","e83d58c3":"code","fc507198":"code","da8ba8d7":"code","350bd747":"code","e9e54bdc":"code","9ae9655d":"markdown","9b11ac3b":"markdown","5534f4cb":"markdown","20baf2c0":"markdown","2c503c46":"markdown","c6d8c8f0":"markdown","3438588c":"markdown","36e67318":"markdown","7ed22a98":"markdown","1143beac":"markdown","166ebb19":"markdown","2b1748c4":"markdown","51bdf602":"markdown","cb07e95a":"markdown","d96c8c54":"markdown","634df2d4":"markdown","29f1a7ce":"markdown","d1e91eb4":"markdown","75fdd9b9":"markdown","129b5f48":"markdown","16d9e80c":"markdown","fe98a551":"markdown","46980cad":"markdown","b425919d":"markdown","d305a484":"markdown","30d4b4f9":"markdown","2f9342c3":"markdown","e15d65df":"markdown","91ba9c00":"markdown","ebaa2dc6":"markdown","fbeae1e2":"markdown","2f8695d4":"markdown","1ce839fa":"markdown","0405ccea":"markdown","792ce64f":"markdown","65180efd":"markdown","304a4017":"markdown","0d16c4c2":"markdown","7100c49d":"markdown","3e835105":"markdown","13e8d19a":"markdown","43784e96":"markdown"},"source":{"11eb7263":"import pandas as pd \r\nimport numpy as np  \r\nimport matplotlib.pyplot as plt  \r\nplt.rcParams.update({'figure.max_open_warning': 0})\r\nplt.style.use('ggplot')\r\nimport seaborn as sns\r\nimport warnings\r\nimport matplotlib.font_manager as fm\r\nfrom matplotlib.offsetbox import TextArea, DrawingArea, OffsetImage, AnnotationBbox\r\nimport matplotlib.image as mpimg\r\nfont = fm.FontProperties(fname=r\"C:\\Users\\YahyaRashwan\\OneDrive\\Desktop\\xxii_arabian_onenightstand\\XXII ARABIAN-ONENIGHTSTAND.ttf\")","ef2a9c10":"df = pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv')\r\ndf.head()","0c85b257":"df.info()","88705985":"df.shape","119dc0d7":"df.columns","68d6dc84":"df.nunique()","a6a6a346":"df.select_dtypes(include='float').describe().T","8c88c7e2":"df.select_dtypes(include='int64').describe().T.style.background_gradient(subset=['mean','std','50%','count'], cmap='flare')","ad59983d":"df.select_dtypes(include='object').describe().T.style.background_gradient(cmap='PuBu')","857a816f":"df.corr()","86345386":"df.duplicated().sum()","f1fc263a":"df.isnull().sum()","36f42b74":"df.loc[df.Perc_Passes_Completed==-1]","fce2637a":"df['Position'].unique()","46a39b89":"df['Name'].value_counts().nlargest(8)","e83d58c3":"df['Position'].replace(['FW,DF','MF,DF','FW,MF'],['DF,FW','DF,MF','MF,FW'],inplace=True)","fc507198":"print(df['Position'].unique())","da8ba8d7":"x= df['Name'].value_counts().sort_values(ascending=False).nlargest(8).index.tolist()\r\nprint('Transfers: ',x)\r\nfor player in x:\r\n    display(pd.DataFrame(df.loc[df.Name==player].reset_index(drop=True)))","350bd747":"v = ['Goals','Assists','Passes_Attempted','Penalty_Goals','Penalty_Attempted','Yellow_Cards','Red_Cards']\r\nfor colname in v:\r\n    x = x=pd.DataFrame(df.groupby(['Club'])[colname].sum().reset_index(drop=False).sort_values(by=colname,ascending=True).reset_index(drop=True))\r\n    display(x.style.background_gradient( cmap='flare'))\r\n    sns.set(rc={'figure.figsize':(20,7.5)})\r\n    sns.barplot(x='Club',y=colname,data=x,palette=\"flare\")\r\n    plt.title('The most {} in the EPL 2020 - 2021'.format(colname),fontsize=20)\r\n    plt.xlabel(' ')\r\n    plt.ylabel('count of {}'.format(colname),fontsize=18)\r\n    plt.xlabel(' ')\r\n    plt.xticks(ticks=np.arange(0,20,1),labels=x['Club'],fontsize=18,style='oblique',rotation=90)\r\n    plt.yticks(fontsize=18)\r\n    plt.show()","e9e54bdc":"v = ['Goals','Assists','Passes_Attempted','Penalty_Goals','Penalty_Attempted','Yellow_Cards','Red_Cards']\r\nfor colname in v:\r\n    x = x=pd.DataFrame(df.groupby(['Name','Club'])[colname].sum().reset_index(drop=False).sort_values(by=colname,ascending=True).tail(20).reset_index(drop=True))\r\n    display(x.style.background_gradient( cmap='ocean'))\r\n    sns.set(rc={'figure.figsize':(20,7.5)})\r\n    sns.barplot(x='Name',y=colname,data=x,palette=\"ocean\",order=x['Name'].tail(20))\r\n    plt.title('The most {} in the EPL 2020 - 2021'.format(colname),fontsize=20)\r\n    plt.ylabel('count of {}'.format(colname),fontsize=18)\r\n    plt.xlabel(' ')\r\n    plt.xticks(ticks=np.arange(0,20,1),labels=x['Name'],fontsize=18,style='oblique',rotation=90)\r\n    plt.yticks(fontsize=18)\r\n    plt.show()\r\n","9ae9655d":"<div style=\"color:white;\r\n           display:fill;\r\n           border-radius:5px;\r\n           background-color:red;\r\n           font-size:110%;\r\n           font-family:Verdana;\r\n           letter-spacing:0.5px\">\r\n<h1 style=\"text-align: center;\r\n           padding: 10px;\r\n              color:white\">\r\nFinal Conclusion\r\n<\/h1>\r\n<\/div>","9b11ac3b":"> `Position` column:","5534f4cb":"* **Number of NaN values in each column**","20baf2c0":"> **Columns names**","2c503c46":"* `Position` column: There are some values with the same positions, but in different order. These values need to be normalized.","c6d8c8f0":"## The most goals scored:","3438588c":"## League stats","36e67318":"<center><img src=\"https:\/\/e0.365dm.com\/21\/06\/2048x1152\/skysports-grpahic-graphic-premier-league_5415970.png\"\/><\/center>","7ed22a98":"## Special moments","1143beac":"* `Name` column: Some players appeared 2 time in the dataset","166ebb19":"> **Number of rows and columns in the dataset**","2b1748c4":"* **Correlation**","51bdf602":"## The most number of passes attempted","cb07e95a":"<center><img src=\"https:\/\/www.thisisanfield.com\/wp-content\/uploads\/P2020-09-12-Liverpool_Leeds-97.jpg\"\/><\/center>","d96c8c54":"<center><img src=\"https:\/\/i2-prod.sussexlive.co.uk\/sport\/football\/football-news\/article4618415.ece\/ALTERNATES\/s1200c\/0_GettyImages-1280910682jpgs.jpg\"\/><\/center>","634df2d4":"**Data Entry Errors** :\r\n\r\n* `Perc_Passes_Completed` column : There are some values with -1 % , which is not reasonable value.","29f1a7ce":"<center><img src=\"https:\/\/footballbh.net\/wp-content\/uploads\/2021\/01\/premier-league.png\"\/><\/center>","d1e91eb4":"<div style=\"color:white;\r\n           display:fill;\r\n           border-radius:5px;\r\n           background-color:purple;\r\n           font-size:110%;\r\n           font-family:Verdana;\r\n           letter-spacing:0.5px\">\r\n<h1 style=\"text-align: center;\r\n           padding: 10px;\r\n              color:black\">\r\nStage 4: Exploratory Data Analysis \r\n<\/h1>\r\n<\/div>","75fdd9b9":"<center><img src=\"https:\/\/www.nottheoldfirm.com\/static\/uploads\/15\/2021\/01\/GettyImages-1294045073-1440x1030.jpg\"\/><\/center>","129b5f48":"> `Perc_Passes_Completed` column :","16d9e80c":"## The most number of penalties","fe98a551":"## Transfers","46980cad":"<div style=\"color:white;\r\n           display:fill;\r\n           border-radius:5px;\r\n           background-color:black;\r\n           font-size:110%;\r\n           font-family:Verdana;\r\n           letter-spacing:0.5px\">\r\n<h1 style=\"text-align: center;\r\n           padding: 10px;\r\n              color:white\">\r\nStage 3: Data Manipulation\r\n<\/h1>\r\n<\/div>","b425919d":"<center><img src=\"https:\/\/www.sportco.io\/images\/post\/GC_1607678890.jpeg\"\/><\/center>","d305a484":"<center><img src=\"https:\/\/resources.premierleague.com\/photos\/2020\/03\/11\/dccc9141-4639-4f1c-941c-14dbea298bf1\/ePL_TheFinals-Editorial-Lead.png?width=930&height=620\"\/><\/center>","30d4b4f9":"<center><img src=\"https:\/\/imgresizer.eurosport.com\/unsafe\/1200x0\/filters:format(jpeg):focal(1286x246:1288x244)\/origin-imgresizer.eurosport.com\/2020\/11\/23\/2941943-60394828-2560-1440.jpg\"\/><\/center>","2f9342c3":"<center><img src=\"https:\/\/www.belfasttelegraph.co.uk\/sport\/football\/premier-league\/93d88\/39883576.ece\/AUTOCROP\/w1240h700\/bpanews_8f64ec44-1daf-4c0f-b828-c47bf3b584eb_1\"\/><\/center>","e15d65df":"> * **Number of rows and columns in the dataset**","91ba9c00":"<div style=\"color:white;\r\n           display:fit;\r\n           border-radius:5px;\r\n           background-color:green;\r\n           font-size:110%;\r\n           font-family:Verdana;\r\n           letter-spacing:0.5px\">\r\n<h1 style=\"text-align: center;\r\n           padding: 10px;\r\n              color:white\">\r\n Stage 1: Data exploration<\/h1>\r\n<\/div>","ebaa2dc6":"<center><img src=\"https:\/\/cf-images.eu-west-1.prod.boltdns.net\/v1\/static\/2508689025001\/4073be07-47cc-470d-9f16-085810b1f3e0\/13284235-78ca-4c20-b9f1-67e28f225812\/1280x720\/match\/image.jpg\"\/><\/center>","fbeae1e2":"## Player Stats","2f8695d4":"> **Import the required libraries**","1ce839fa":"> `Name` column:","0405ccea":"> * **Content issues detected**","792ce64f":"<div style=\"color:white;\r\n           display:fill;\r\n           border-radius:5px;\r\n           background-color:blue;\r\n           font-size:110%;\r\n           font-family:Verdana;\r\n           letter-spacing:0.5px\">\r\n<h1 style=\"text-align: center;\r\n           padding: 10px;\r\n              color:white\">\r\nStage 2: Data Assessing\r\n<\/h1>\r\n<\/div>","65180efd":"<center><img src=\"https:\/\/ftw.usatoday.com\/wp-content\/uploads\/sites\/90\/2021\/05\/AFP_9A467P.jpg?w=1000&h=600&crop=1\"\/><\/center>","304a4017":"<center><img src=\"https:\/\/images.daznservices.com\/di\/library\/GOAL\/ec\/c0\/ruben-dias-manchester-city-2020-21_1try2ga4ablvt1hfyvcv2e4hec.png?t=-622001657&quality=100\"\/><\/center>","0d16c4c2":"## The most aggresive","7100c49d":"> * **Show the first 5 rows**","3e835105":"> **Descriptive statistics about the dataset**","13e8d19a":"* **Number of duplicated values**","43784e96":"> **Summary of the dataset**"}}