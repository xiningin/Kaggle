{"cell_type":{"6a0d0d7d":"code","e65335e7":"code","4b5bb934":"code","13481c73":"code","f63690a1":"code","64548aaf":"code","e410fe8b":"code","66742252":"code","47177ac1":"code","d2d624b3":"code","2d24cd1d":"code","b5c76ac3":"code","5d94b4ee":"code","2087ff4d":"code","4dfd9dfc":"code","ac662fee":"code","d774de64":"code","5411be08":"code","830a7168":"markdown","b39eea7d":"markdown","4a327567":"markdown","a6b798d7":"markdown","078ee6b3":"markdown","0295f699":"markdown","b6948bf4":"markdown","80da20c4":"markdown"},"source":{"6a0d0d7d":"\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","e65335e7":"import pandas as pd\nimport numpy as np  \nimport matplotlib.pyplot as plt\nimport seaborn as sns\n","4b5bb934":"df=pd.read_csv('\/kaggle\/input\/crop-damage-information-in-india\/Crop_Agriculture_Data_2.csv')","13481c73":"df.head(5)\n","f63690a1":"df.info()","64548aaf":"df=df.drop(columns=['ID'],axis=1)","e410fe8b":"df.select_dtypes(include='object')\n","66742252":"from sklearn.preprocessing import OrdinalEncoder\noe=OrdinalEncoder()\ndf=pd.DataFrame(oe.fit_transform(df),columns=list(df))","47177ac1":"x=df.drop(columns=['Crop_Damage'],axis=1)\ny=df['Crop_Damage']","d2d624b3":"x.head(20)\n","2d24cd1d":"print(y.value_counts())\n#The data seems quite skewed\ny.value_counts()\nratio_target=pd.DataFrame([y.value_counts(),y.value_counts()\/y.shape[0]*100])\nprint(ratio_target)\n#skewed data","b5c76ac3":"\nratio_target.plot(kind='hist')","5d94b4ee":"from imblearn.over_sampling import SMOTE\nsmt=SMOTE()\nx,y=smt.fit_resample(x,y)","2087ff4d":"from sklearn.model_selection import train_test_split\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.3)\n","4dfd9dfc":"import lightgbm\nlgbm=lightgbm.LGBMClassifier()\nlgbm.fit(x_train,y_train)\ny_pred=lgbm.predict(x_test)\n","ac662fee":"from sklearn.metrics import accuracy_score,f1_score\nprint('Accuracy score :',accuracy_score(y_test,y_pred))\nprint('f1 score :',f1_score(y_test,y_pred,average='weighted'))\n","d774de64":"import xgboost \nxgb=xgboost.XGBClassifier()\nxgb.fit(x_train,y_train)\ny_pred=xgb.predict(x_test)","5411be08":"\nprint('Accuracy score :',accuracy_score(y_test,y_pred))\nprint('f1 score :',f1_score(y_test,y_pred,average='weighted'))","830a7168":"The accuracy with XGBoost is quite considerable for this unequally distributed data.","b39eea7d":"## XGBoost","4a327567":"However, the target feature is still quite biased. I will be using SMOTE to balance them out.","a6b798d7":"## LightGBM","078ee6b3":"I will be using OrdinalEncoder to encode the categorical attributes present in the data.","0295f699":"Please leave a comment for suggestions.","b6948bf4":"Let's separate the target features out.","80da20c4":"Now the data seems fine."}}