{"cell_type":{"76e2d9a7":"code","9e06341a":"code","786a0338":"markdown","8f34b060":"markdown","c95a697f":"markdown","aa2cd7a3":"markdown","365cd94d":"markdown","73c88723":"markdown"},"source":{"76e2d9a7":"#Dash has to be installed before executing this code.\n#pip install dash","9e06341a":"import dash\nimport dash_core_components as dcc\nimport dash_html_components as html\nimport dash_bootstrap_components as dbc\nfrom dash.dependencies import Input, Output\nimport plotly\n\n\nimport pandas as pd\nimport numpy as np\nfrom scipy.interpolate import interp1d\n\nimport plotly.graph_objects as go\nimport plotly.express as px\n\napp = dash.Dash(__name__)\n\ndeath =  pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_global.csv')\nconfirmed = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_confirmed_global.csv')\nrecovered = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_recovered_global.csv')\ncountry = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/web-data\/data\/cases_country.csv')\n\ndeath.rename(columns={'Country\/Region': 'Country'}, inplace=True)\nconfirmed.rename(columns={'Country\/Region': 'Country'}, inplace=True)\nrecovered.rename(columns={'Country\/Region': 'Country'}, inplace=True)\ncountry.rename(columns={'Country_Region': 'Country', 'Long_': 'Long'}, inplace=True)\n\ndeath.drop('Province\/State', axis=1, inplace=True)\nconfirmed.drop('Province\/State', axis=1, inplace=True)\nrecovered.drop('Province\/State', axis=1, inplace=True)\ncountry.drop(['People_Tested','People_Hospitalized'],axis=1, inplace=True)\n\ncountry['Confirmed']=country['Confirmed'].astype(int)\ncountry['Deaths']=country['Deaths'].astype(int)\ncountry['Active']=country['Active'].astype(int)\n\n\n# fixing the size of circle to plot in the map\n\nmargin = country['Confirmed'].values.tolist()\ncircel_range = interp1d([1, max(margin)], [0.2,12])\ncircle_radius = circel_range(margin)\n \n\nmap_heading = html.H2(children='Global Covid19 Overview', className='mt-5 py-4 pb-3 text-center')\n\n# ploting the map\n\nmap_fig = px.scatter_mapbox(country, lat=\"Lat\", lon=\"Long\", hover_name=\"Country\", hover_data=[\"Confirmed\", \"Deaths\",\"Recovered\"],\n                        color_discrete_sequence=[\"#e60039\"], zoom=2, height=500, size_max=50, size=circle_radius)\n\nmap_fig.update_layout(mapbox_style=\"open-street-map\", margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0}, height=520)\n\napp.layout =  html.Div(children = [map_heading,\n         dcc.Graph(\n             id='global_graph',\n             figure=map_fig\n         )\n        ]\n      )    \n     \n\n# start the server for Dash\n\nserver = app.server\n\nif __name__ == '__main__':\n    app.run_server()\n","786a0338":"**Dash is a Python framework for building web applications. Written on top of Flask, Plotly.js, and React.js, Dash is ideal for building data visualization apps and dashboards in Python. It's particularly suited for anyone who works with data in Python.\nCheckout **[Dash Tutorial](https:\/\/dash.plotly.com\/introduction#:~:text=Dash%20is%20a%20productive%20Python,user%20interfaces%20in%20pure%20Python.&text=You%20can%20deploy%20your%20apps,then%20share%20them%20through%20URLs.) for learning how to work with Dash.","8f34b060":"**> Save the below code as a python file in your local system with .py extention. ** **Python and all the packages used in this code such as pandas has to be present in your system before executing this code.**","c95a697f":"**Now to deploy this dashboard in Heroku you have to first create a account in Heroku and GitHub. Heroku is a cloud platform as a service supporting several programming languages. You can build and deploy applications easily on the Heroku platform.\nGet all the information about working with Heroku at https:\/\/devcenter.heroku.com\/. ** **GitHub is a version control tool, which is required to push your code to the heroku platform from your local system.\n\nOnce you create your accounts in Heroku and GitHub download Heroku CLI and GIT to your system. Now follow the steps given below to deploy the code to Heroku. **","aa2cd7a3":"**Open command prompt, navigate to your project folder location, and type the following commands:**\n\n* heroku login (login to your heroku account)\n* heroku create \"app name\" (provide a name for your app, which will be used during deployment)\n\n**Create Procfile by typing the following command:**\n\n* echo web: run this thing >Procfile \n\nProcfile is a mechanism for declaring what commands are run by your application's dynos on the Heroku platform.\nLearn more about Procfile at https:\/\/devcenter.heroku.com\/articles\/procfile\n\nOpen the Procfile created from the above command and enter the following line:\n\n* web: gunicorn 'your python file name':server \n(Enter the file name without the file extension)\n\n**Create the Requirements file using the following command:**\n\n* pip freeze > requirements.txt\n\nThe requirements.txt file is used for specifying what python packages are required to run the project you are deploying. It is located in the root directory of your project. \n\n**Enter the follwing commands to initialize git and push your code file to Heroku:**\n\n* git init\n* git add .\n* git commit -am \"first commit\"\n* heroku git:remote -a yourappname\n* git push heroku master\n* heroku ps:scale web=1\n* heroku open\n\n**That's it! Your dashboard is now deployed to Heroku with a custom URL like** https:\/\/covid2020global.herokuapp.com\/\n\n\nThis is just a simple dashboard with only the global map showing the Covid19 spread. I will be adding more features to this dashboard and make it interactive. You can add whatever elements suitable like drop-down menu, list, table, grid, navigation bar, etc. Also, the plotly interactive graphs can be included in the dashboard to make it rich and attractive.\n\nHere is the link for this code in GitHub, https:\/\/github.com\/RajiRai\/Covid19","365cd94d":"**In the command prompt navigate to the folder where this code file is saved and execute it. The output dashboard will be displayed in the default Dash url** http:\/\/127.0.0.1:8050\/. **In the browser open this url, and voila your dashboard is displayed. **\n","73c88723":"# Learn to create and deploy a simple covid19 dashboard using Dash and Heroku.\n"}}