{"cell_type":{"54e801fe":"code","9837c410":"code","db52ad99":"code","32fa3b68":"code","4250a726":"code","84de0362":"code","f113c638":"code","3b422efd":"code","ccab2e4e":"code","96fff06a":"code","528eaf41":"code","fb1038c0":"code","7341319f":"code","6b3e0ea7":"code","670cae0b":"code","211d11b7":"code","554e5304":"code","f9b6f154":"code","e0f9e343":"markdown","bee6f9c0":"markdown","a73e60cf":"markdown","ff367a42":"markdown","425d3438":"markdown"},"source":{"54e801fe":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9837c410":"import pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nbasket = pd.read_csv('\/kaggle\/input\/ecommerce-sales-dataset\/basket_details.csv')\ncustomer = pd.read_csv('\/kaggle\/input\/ecommerce-sales-dataset\/customer_details.csv')","db52ad99":"#based on the info given, we can see there is no null entries so proceed\nbasket.info()","32fa3b68":"##grouping basket date so we can count number of sales according to date \nsales = basket.groupby('basket_date').count()\nsales","4250a726":"##visualize the sales data so we can see the trend \ng= sns.relplot(x=\"basket_date\", y=\"product_id\", kind='line', data=sales)\ng.fig.autofmt_xdate()","84de0362":"##Here the data is grouped by their product id so we can see which product is in demand \ndf = basket.groupby('product_id').count()\ndf1 = df.sort_values([\"customer_id\"], ascending=False)\ndf2=df1.head(10)\ndf2","f113c638":"##We can also see the product_id which did not sell well \ndf1.tail(10)","3b422efd":"##read customer csv file and looked if there is null entries,there is no missing value, so proceed\n\ncustomer.info()","ccab2e4e":"customer.head()","96fff06a":"##As sex is an object datatype, so we check into their categories\ncustomer.sex.unique()","528eaf41":"customer.index[customer['sex']=='UNKNOWN'].tolist()","fb1038c0":"customer.index[customer['sex']=='kvkktalepsilindi'].tolist()","7341319f":"customer1= customer.drop([customer.index[1201], customer.index[6133],customer.index[6443], customer.index[8481],customer.index[9283], customer.index[10035],customer.index[11102], customer.index[19785],customer.index[3597]])\ncustomer1\n","6b3e0ea7":"##Here sex category is checked and it is confirmed that the unknown and kvkktalepsilindi category are dropped\ncustomer1.sex.unique()","670cae0b":"##Here the sales contribution is visualised \ncustomer1.sex.value_counts().plot.pie(autopct='%1.1f%%',\n                                     title = \"Sales Contribution By Sex\")\nplt.axis('equal')\nplt.show()  ","211d11b7":"#Here the data is grouped by customer age to see the distribution of sales according to thei ages \noutput = pd.pivot_table(data=customer, index=['customer_age'],\n                        values='customer_id',\n                        aggfunc=['count'])\noutput","554e5304":"##Removing outliers\nfrom scipy import stats\nimport numpy as np\nz_scores = stats.zscore(output)\n#calculate z-scores of `df`\n\nabs_z_scores = np.abs(z_scores)\nfiltered_entries = (abs_z_scores < 3).all(axis=1)\nnew_df = output[filtered_entries]\n\nprint(new_df)","f9b6f154":"##Here I plot the customer age without outlier to see their contribution\nnew_df.plot()","e0f9e343":"We can see the biggest contribution is coming from customer with the age of 5 and customer in the group of 25 to 50.\nNow the owner know their market target which is male and customer in the age of 5 and 25 to 50 years old. ","bee6f9c0":"According to pie chart, we can see males contribute the biggest portion of sales by 76.6%.","a73e60cf":"There are outliers in customer ages, the outliers are dropped using z_scores","ff367a42":"Base on the line graph, we can see a large increment in sales during end of may from 24 of may to 28 of may ","425d3438":"Based on data analysis using basket file, we can see that sales are increasing in the end of may, so owner can actually increase the stock of \ntheir most demanded products during the period to gain more sales.However, there is no enough data that can interpret why the other product is not in demand. \nBut now the owner can do a better marketing campaign as the most and least demanded products are known."}}