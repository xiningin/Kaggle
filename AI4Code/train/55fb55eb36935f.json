{"cell_type":{"2d6dedb4":"code","f6d52614":"code","326c69fe":"code","241b75a2":"code","86e92c35":"code","73de4d88":"code","a0901f9f":"code","ad26b534":"code","cd69e908":"code","6b1c8fa7":"markdown","339aefb1":"markdown","4fd261f1":"markdown","9def8242":"markdown","62dad110":"markdown"},"source":{"2d6dedb4":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nfrom statsmodels.tsa.arima_model import ARIMA\nfrom dateutil.relativedelta import relativedelta\nimport matplotlib.pyplot as plt\nplt.style.use('fivethirtyeight')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","f6d52614":"df = pd.read_csv('..\/input\/forest-fires-in-brazil\/amazon.csv', encoding='latin1')\ndf = df[['date', 'month','year', 'state', 'number']]\ndf.head()","326c69fe":"df1 = df.groupby(by = ['year']).sum()['number']\ndf1.head()","241b75a2":"plt.figure(figsize=(14,6))\nax = plt.plot(df1)\nplt.title('Total fires in Brazil')\nplt.xlabel('Year', fontsize = 14)\nplt.ylabel('Number of Fires', fontsize = 14)\n# ax.set_xlim(1998,2017)\nfrom matplotlib.ticker import StrMethodFormatter\nplt.gca().xaxis.set_major_formatter(StrMethodFormatter('{x:.0f}'))\n","86e92c35":"model_obj =ARIMA(df1, order=(1,2,1)).fit(disp = -1)\nmodel_obj.summary()","73de4d88":"fc, se, conf = model_obj.forecast(5, alpha=0.1)  # 90% conf\n\n# Make as pandas series\nfc_series = pd.Series(fc, index=np.arange(2018, 2018+5))\nlower_series = pd.Series(conf[:, 0], index=fc_series.index)\nupper_series = pd.Series(conf[:, 1], index=fc_series.index)\n\n# Plot\nplt.figure(figsize=(14, 6), dpi=100)\nplt.plot(df1, label='training')\nplt.plot(fc_series, label='forecast')\nplt.fill_between(lower_series.index, lower_series, upper_series, \n                 color='k', alpha=.15)\nplt.title('Forecast vs Actuals')\nplt.legend(loc='upper left', fontsize=8)\nplt.show()","a0901f9f":"df2 = df.groupby(by = ['month']).sum()['number'].reset_index()\ndf2","ad26b534":"m = df2.number.idxmax()\nmi = df2.number.idxmin()","cd69e908":"plt.figure(figsize = (14,6))\nb = plt.bar(x = df2.month, height = df2.number, width = 0.4)\nb[m].set_color('red') \nb[mi].set_color('green')\nplt.show()","6b1c8fa7":"## From the above graph, one can infer that Brazil has maximum fires in July and minimum in the month of April shown in red and green, respectively.","339aefb1":"#### Let's forecast the total fire count for 5 years ahead using time series forecast methods (ARIMA).","4fd261f1":"### The following graphs show the fire occurences month-wise","9def8242":"## The above forecast graph shows that there's a decline in forest fires. There's a 90% chance that the mean values will lie within the range as shown in the graph","62dad110":"#### The following plot shows the total number of forest fires occuring between 1998 and 2017"}}