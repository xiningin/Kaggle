{"cell_type":{"64e1e319":"code","7ebc710e":"code","484cf075":"code","2889e172":"markdown"},"source":{"64e1e319":"import numpy as np  # linear algebra\n%matplotlib inline\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport cv2\nimport random\nimport os\nimport numpy as np","7ebc710e":"\nanno_path_box = \"..\/input\/sample-dayClip6\/sample-dayClip6\/frameAnnotationsBOX.csv\"\nanno_path_bulb = \"..\/input\/sample-dayClip6\/sample-dayClip6\/frameAnnotationsBULB.csv\"\nframes_path = \"..\/input\/sample-dayClip6\/sample-dayClip6\/frames\/\"\n\nframe_id = random.choice(os.listdir(frames_path))\nframe_path = os.path.join(os.path.join(frames_path,frame_id))\nprint(\"Found image:\\t'{}'\\nLocation:\\t'{}'\".format(frame_id, frame_path))\n\nannotations = []\nwith open(anno_path_box) as fp:  \n    line = fp.readline()\n    line = fp.readline() # Skip header line with descriptions\n    #cnt = 1\n    while line:\n        anno_file_path = (line.strip()).split(\";\")\n        anno_file_id = anno_file_path[0].split(\"\/\")[1]\n        if anno_file_id == frame_id:\n            annotations.append(anno_file_path)\n            #print(\"\\t{}\".format(anno_file_id))\n        line = fp.readline()","484cf075":"# Plot annotations on image\ncolor_space = [(0,255,0),(255,0,0),(255,0,0)]\nimg = cv2.imread(frame_path)\nimg = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)\nprint(\"Found {} annotations:\".format(len(annotations)))\n\nfor anno in annotations:\n    anno_class = anno[1]\n    anno_left = int(anno[2])\n    anno_top = int(anno[3])\n    anno_right = int(anno[4])\n    anno_bot = int(anno[5])\n    print(\"\\tClass: '{}' at [{},{},{},{}]\".format(anno_class, anno_left, anno_top, anno_right, anno_bot))\n    if anno_class == \"go\" or anno_class == \"goLeft\" or anno_class == \"goForward\":\n        color_class = color_space[0]\n    elif anno_class == \"warning\" or anno_class == \"warningLeft\":\n        color_class = (255,255,0)\n    elif anno_class == \"stop\" or anno_class == \"stopLeft\":\n        color_class = (255,0,0)\n    cv2.rectangle(img, (anno_left, anno_top), (anno_right, anno_bot), color_class, 5)\n\n    plt.rcParams['figure.figsize'] = [32, 16]\nplt.imshow(img)\nplt.show()\n","2889e172":"# Sample DayClip6"}}