{"cell_type":{"3c608c38":"code","319b8a54":"code","9d77672b":"code","524b6a19":"code","2d95a9ae":"code","08262761":"code","6c6ce5bb":"code","ae5d8577":"code","838672c8":"code","fab4a17c":"code","0d11e94d":"code","606390a4":"code","2b774f24":"code","4aa45f58":"code","1e0d7dee":"code","6f4af91a":"code","e4a93e90":"code","9ec69568":"code","ad9ee91f":"code","6a6e6e22":"code","5d54e5b4":"code","4d310fc2":"code","3da913af":"code","072b310d":"code","93fe3c42":"code","7b01c617":"code","079970a0":"code","543f40ab":"code","174221ec":"code","e677c5f7":"code","e2197a76":"code","4ae8f2e8":"code","55ecf48b":"code","518b73de":"code","19edaca0":"markdown","1091a211":"markdown","ae29c4e4":"markdown","9241f6fe":"markdown","177683cd":"markdown","b10747be":"markdown","3cfbeef1":"markdown","bede4ac5":"markdown"},"source":{"3c608c38":"pip install Augmentor","319b8a54":"import numpy as np # linear algebra\nimport os # accessing directory structure\nimport fastai\nfrom fastai.vision import *\nimport Augmentor","9d77672b":"def augmente(path,nbSample=1) :\n    p = Augmentor.Pipeline(path,path)\n    p.flip_left_right(0.5) \n    p.rotate(0.3, 25, 25) \n    p.skew(0.1, 0.1) \n    p.skew_tilt(0.1, 0.1) \n    p.shear(0.1,10,10)\n    p.invert(0.333333)\n    p.random_distortion(probability=0.7, grid_width=4, grid_height=4, magnitude=12)\n    for i in range(nbSample) :\n        p.process()","524b6a19":"cd \/kaggle\/usr\/lib\/outcode\/","2d95a9ae":"from outcode import *","08262761":"!git clone https:\/\/github.com\/taki0112\/UGATIT.git \/kaggle\/UGATIT\/","6c6ce5bb":"!mkdir \/kaggle\/UGATIT\/dataset\n!mkdir \/kaggle\/UGATIT\/dataset\/selfie2anime\n!mkdir \/kaggle\/UGATIT\/dataset\/selfie2anime\/trainA\n!mkdir \/kaggle\/UGATIT\/dataset\/selfie2anime\/trainB\n!mkdir \/kaggle\/UGATIT\/dataset\/selfie2anime\/testA\n!mkdir \/kaggle\/UGATIT\/dataset\/selfie2anime\/testB\n!mkdir \/kaggle\/UGATIT\/checkpoint","ae5d8577":"path = Path('\/kaggle\/input')\npathUGATIT = Path('\/kaggle\/UGATIT')","838672c8":"ls \/kaggle\/input","fab4a17c":"ls \/kaggle\/input\/cs-170-save\/","0d11e94d":"#resize(path\/\"celeba-dataset\/img_align_celeba\/img_align_celeba\/\",pathUGATIT\/'dataset\/selfie2anime\/trainA',limit=10000,begin_file=70000)\n#resize(path\/\"flickrfaceshq-dataset-ffhq\/\",pathUGATIT\/'dataset\/selfie2anime\/trainA',limit=12000, begin_file=20000)\nresize(path\/\"selfie2anime\/trainA\", pathUGATIT\/'dataset\/selfie2anime\/trainA',limit=5000)\nresize(path\/'cultist-faces\/blackandwhite\/',pathUGATIT\/'dataset\/selfie2anime\/trainB')\n#resize(path\/\"celeba-dataset\/img_align_celeba\/img_align_celeba\/\",pathUGATIT\/'dataset\/selfie2anime\/testA',limit=50,begin_file=10000)\nresize(path\/\"flickrfaceshq-dataset-ffhq\/\",pathUGATIT\/'dataset\/selfie2anime\/testA',limit=50)\nresize(path\/'cultist-faces\/blackandwhite\/',pathUGATIT\/'dataset\/selfie2anime\/testB',limit=50)","606390a4":"augmente(pathUGATIT\/'dataset\/selfie2anime\/trainB',2)","2b774f24":"ls -1 \/kaggle\/UGATIT\/dataset\/selfie2anime\/trainB | wc -l","4aa45f58":"cd \/kaggle\/UGATIT","1e0d7dee":"rm -fr .git","6f4af91a":"ls ","e4a93e90":"nbEpoch = 138\nnbIter = 10000","9ec69568":"#cp -r \/kaggle\/input\/ugatit-selfie2anime-pretrained\/checkpoint\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/ \/kaggle\/UGATIT\/checkpoint\/","ad9ee91f":"cp -r \/kaggle\/input\/ugatit-test-pytorch-git\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/ \/kaggle\/UGATIT\/checkpoint\/","6a6e6e22":"# cp -r \/kaggle\/input\/cs-170-save\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/ \/kaggle\/UGATIT\/checkpoint\/","5d54e5b4":"!rm -fr \/kaggle\/UGATIT\/checkpoint\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/*1340000*\n!rm -fr \/kaggle\/UGATIT\/checkpoint\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/*1350000*","4d310fc2":"ls \/kaggle\/input\/ugatit-test-pytorch-git\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/","3da913af":"ls \/kaggle\/UGATIT\/checkpoint\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/","072b310d":"!python main.py --dataset selfie2anime --light True --iteration {nbIter} --save_freq 10000 --print_freq {nbIter} --epoch {nbEpoch}","93fe3c42":"cp -r \/kaggle\/UGATIT\/checkpoint\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/ \/kaggle\/working","7b01c617":"ls \/kaggle\/working\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/","079970a0":"!python main.py --dataset selfie2anime --light True --phase test","543f40ab":"cp -r \/kaggle\/UGATIT\/results\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing \/kaggle\/working\/img","174221ec":"ls -1 \/kaggle\/UGATIT\/results\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing | wc -l","e677c5f7":"open_image(\"\/kaggle\/input\/flickrfaceshq-dataset-ffhq\/01522.png\")","e2197a76":"open_image(\"\/kaggle\/UGATIT\/results\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/01522.png\")","4ae8f2e8":"open_image(\"\/kaggle\/UGATIT\/results\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\/BWci.jpg\")","55ecf48b":"pathRes = \"\/kaggle\/UGATIT\/results\/UGATIT_light_selfie2anime_lsgan_4resblock_6dis_1_1_10_10_1000_sn_smoothing\"\n\nsrc = ImageImageList.from_folder(pathRes).split_by_rand_pct(0.1, seed=50)\ndata_init = (src.label_from_func(lambda x: Path(pathRes)\/x.name)\n           .databunch(bs=8))\n\ndata_init.show_batch(8)","518b73de":"from pynvml import *\nnvmlInit()\nhandle = nvmlDeviceGetHandleByIndex(0)\ninfo = nvmlDeviceGetMemoryInfo(handle)\nprint(\"Total memory:\", info.total)\nprint(\"Free memory:\", info.free)\nprint(\"Used memory:\", info.used)","19edaca0":"# Test checkpoints","1091a211":"create directories for data and copy it into them","ae29c4e4":"# Copy checkpoints","9241f6fe":"# Train Cs Face","177683cd":"## Data","b10747be":"# Memory","3cfbeef1":"outcode contain the resize function of pictures","bede4ac5":"clone the repo"}}