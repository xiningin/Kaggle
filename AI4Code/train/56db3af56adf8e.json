{"cell_type":{"add6b004":"code","002df586":"code","58b63a2b":"code","5587b17d":"code","2cc7a33c":"code","ce3c4860":"code","c7ba5bc1":"code","aebf4a35":"code","cf5b63bd":"code","cafa6714":"code","a6b2c9f7":"code","705ce6a6":"code","8dfe8a08":"code","5b2394d1":"code","16950242":"code","eabd74b3":"code","327777e2":"code","7d44d7d6":"code","bfca3f98":"code","dcb8b087":"code","d1ccd944":"code","925e147d":"code","8be10f49":"code","017f6575":"code","58bd3255":"code","14a05445":"code","3310634f":"code","e63dcf91":"code","81aa1ece":"code","7d5ad992":"code","4ec11473":"code","6dd1b435":"code","eb951425":"code","f8c8bf0c":"code","4bab57d9":"markdown","b34677cf":"markdown","1fc03da5":"markdown","008a77f3":"markdown","b1597a2b":"markdown","e58cff1d":"markdown","ac757c28":"markdown","ad5a3119":"markdown","2d27761b":"markdown","33ccf104":"markdown","6154bba1":"markdown","a2c51acc":"markdown","7e8201e6":"markdown","07f14d12":"markdown","3efe40f2":"markdown","bb1ea405":"markdown","3e4ba33b":"markdown","6f6d1b43":"markdown","2ac20362":"markdown","ca59922e":"markdown","5ca16c7f":"markdown","429fffc7":"markdown","e937e48a":"markdown","9f0e9195":"markdown"},"source":{"add6b004":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","002df586":"df_train = pd.read_csv('..\/input\/bcc-2021-datathon1\/train_data.csv')\ndf_test = pd.read_csv('..\/input\/bcc-2021-datathon1\/test_data.csv')","58b63a2b":"df_train","5587b17d":"df_test","2cc7a33c":"df_train.info()","ce3c4860":"df_train.isnull().sum() \/ df_train.shape[0] * 100.00","c7ba5bc1":"df_train","aebf4a35":"df_train['Tipe_Kendaraan'].value_counts()","cf5b63bd":"df_train['Tipe_Kendaraan'] = df_train['Tipe_Kendaraan'].str.upper()\ndf_test['Tipe_Kendaraan'] = df_test['Tipe_Kendaraan'].str.upper()","cafa6714":"df_train['Tipe_Kendaraan'].value_counts()","a6b2c9f7":"sns.countplot(df_train['Tipe_Kendaraan'], hue=df_train['Target']);","705ce6a6":"df_train['Pelanggan_Sejak_Bulan'].value_counts()","8dfe8a08":"sns.countplot(df_train['Pelanggan_Sejak_Bulan'], hue=df_train['Target']);","5b2394d1":"df_train['Indeks_Gaya_Hidup'].describe()","16950242":"sns.distplot(df_train['Indeks_Gaya_Hidup']);","eabd74b3":"df_train['Tipe_Tujuan'].value_counts()","327777e2":"df_train['Tipe_Tujuan'] = df_train['Tipe_Tujuan'].replace(['-', ' '], np.nan)\ndf_test['Tipe_Tujuan'] = df_test['Tipe_Tujuan'].replace(['-', ' '], np.nan)","7d44d7d6":"df_train['Tipe_Tujuan'].value_counts()","bfca3f98":"sns.distplot(df_train['Jarak_Perjalanan']);","dcb8b087":"from sklearn.impute import SimpleImputer\nimp_cat = SimpleImputer(missing_values=np.nan, strategy='most_frequent')\nimp_num = SimpleImputer(missing_values=np.nan, strategy='mean')\n\n#Tipe Kendaraan\ndf_train['Tipe_Kendaraan'] = imp_cat.fit_transform(np.array(df_train['Tipe_Kendaraan']).reshape(-1, 1))\ndf_test['Tipe_Kendaraan'] = imp_cat.fit_transform(np.array(df_test['Tipe_Kendaraan']).reshape(-1, 1))\n\n#Tipe Tujuan\ndf_train['Tipe_Tujuan'] = imp_cat.fit_transform(np.array(df_train['Tipe_Tujuan']).reshape(-1, 1))\ndf_test['Tipe_Tujuan'] = imp_cat.fit_transform(np.array(df_test['Tipe_Tujuan']).reshape(-1, 1))\n\n#Indeks_Gaya_Hidup\ndf_train['Indeks_Gaya_Hidup'].fillna(df_train['Indeks_Gaya_Hidup'].mean(), inplace = True)\ndf_test['Indeks_Gaya_Hidup'].fillna(df_test['Indeks_Gaya_Hidup'].mean(), inplace = True)\n\n#Jarak_Perjalanan\ndf_train['Jarak_Perjalanan'].fillna(df_train['Jarak_Perjalanan'].mean(), inplace = True)\ndf_test['Jarak_Perjalanan'].fillna(df_test['Jarak_Perjalanan'].mean(), inplace = True)","d1ccd944":"df_train['Tipe_Kendaraan'].value_counts()","925e147d":"df_train","8be10f49":"df_train['Tipe_Kendaraan'].unique()","017f6575":"df_train['Tipe_Tujuan'].unique()","58bd3255":"from sklearn.preprocessing import OneHotEncoder\nenc = OneHotEncoder(handle_unknown='ignore')\n\nenc_df_train = pd.DataFrame(enc.fit_transform(df_train[['Tipe_Kendaraan', 'Tipe_Tujuan']]).toarray())\nenc_df_test = pd.DataFrame(enc.transform(df_test[['Tipe_Kendaraan', 'Tipe_Tujuan']]).toarray())","14a05445":"enc_df_train","3310634f":"X = df_train[['Indeks_Gaya_Hidup', 'Jarak_Perjalanan']].join(enc_df_train)\ny = df_train['Target']\n\nX_test = df_test[['Indeks_Gaya_Hidup', 'Jarak_Perjalanan']].join(enc_df_test)\n\nX","e63dcf91":"from sklearn.model_selection import train_test_split\n\nX_train, X_val, y_train, y_val = train_test_split(X, y, test_size=0.3, random_state=42, stratify=y)","81aa1ece":"from sklearn.metrics import accuracy_score, classification_report\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.neighbors import KNeighborsClassifier\n\nmodel = KNeighborsClassifier(n_neighbors=7)\nmodel.fit(X_train, y_train)\ny_pred = model.predict(X_val)\n\nprint(classification_report(y_val, y_pred))","7d5ad992":"model.fit(X, y)","4ec11473":"y_output = model.predict(X_test)","6dd1b435":"contoh = pd.read_csv('\/content\/sample_submission.csv')\ncontoh","eb951425":"hasil = pd.DataFrame({'ID':df_test['ID'], 'Target':y_output})\nhasil","f8c8bf0c":"hasil.to_csv('first submission.csv', index=False)","4bab57d9":"Terdapat 2 nilai aneh yaitu strip dan spasi. Nilai ini akan diubah menjadi NA","b34677cf":"# EDA","1fc03da5":"## Indeks_Gaya_Hidup","008a77f3":"## Jarak_Perjalanan","b1597a2b":"Terdapat hubungan antara Tipe_Kendaraan dengan Target. Jika tipe A maka dominan target 1, jika tipe C dan B maka dominan target 2, jika tipe D dan E dominan target 3","e58cff1d":"## Penanganan Missing Value","ac757c28":"## Pembagian data","ad5a3119":"# Export Jawaban","2d27761b":"## missing value","33ccf104":"Terdiri dari 69124 baris dan 13 kolom","6154bba1":"# Import Library dan persiapan data","a2c51acc":"## Tipe_Tujuan\t","7e8201e6":"Semua fitur memiliki missing value diatas 13%. Hmmmm sulit nihh","07f14d12":"# Preprocessing","3efe40f2":"Distribusi sangat tidak normal seperti hidupmu","bb1ea405":"##Uji model","3e4ba33b":"## Prediksi","6f6d1b43":"Distribusi normal dengan rata-rata 2.797981","2ac20362":"## Tipe_Kendaraan","ca59922e":"## One Hot Encoding","5ca16c7f":"Ada yang huruf besar dan huruf kecil, kemungkinan artinya sama","429fffc7":"Menggunakan seluruh data training bukan yg dibagi","e937e48a":"## Pelanggan_Sejak_Bulan","9f0e9195":"# MODELING"}}