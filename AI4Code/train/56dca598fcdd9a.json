{"cell_type":{"ec604e53":"code","b4315dd4":"code","41bad350":"code","5bc68afc":"code","99ec95d3":"code","765140b9":"code","8c6031c0":"code","380f5614":"code","21cb90a6":"code","5ef92714":"code","c46052d3":"code","4f41a035":"code","54ae9713":"markdown","d90151b6":"markdown","edd5d2b0":"markdown","30e4478f":"markdown","3769219a":"markdown","c70acf31":"markdown","05e4e2ed":"markdown","7c982be4":"markdown","960fedf2":"markdown","ac1ec64d":"markdown"},"source":{"ec604e53":"import pandas as pd\ndf_train = pd.read_csv(\"..\/input\/train.csv\")\ndf_test = pd.read_csv(\"..\/input\/test.csv\")\ndf_train.head()","b4315dd4":"df = df_train[['qid', 'question_text']].append(df_test)","41bad350":"df[df.duplicated(['qid'], keep=False)]","5bc68afc":"for i in range(1, 21):\n    df_train['first_' + str(i)] = df_train['qid'].apply(lambda x: x[:i])\n    \ndf_train.head()","99ec95d3":"df_train.groupby('first_1')['target'].agg(['count', 'mean']).reset_index().sort_values('mean', ascending=False)","765140b9":"df_train.groupby('first_2')['target'].agg(['count', 'mean']).reset_index().sort_values('mean', ascending=False)","8c6031c0":"df_train.groupby('first_3')['target'].agg(['count', 'mean']).reset_index().sort_values('mean', ascending=False)","380f5614":"df_train.groupby('first_4')['target'].agg(['count', 'mean']).reset_index().sort_values('mean', ascending=False)","21cb90a6":"df_train.groupby('first_5')['target'].agg(['count', 'mean']).reset_index().sort_values('mean', ascending=False)","5ef92714":"df_2122 = df_train[df_train.first_4 == '2122']\nfor index, row in df_2122.iterrows():\n    print(row['target'], ': ',row['question_text'])","c46052d3":"df_623a = df_train[df_train.first_4 == '623a']\nfor index, row in df_623a.iterrows():\n    print(row['target'], ': ',row['question_text'])","4f41a035":"df_test['first_4'] = df_test['qid'].apply(lambda x: x[:4])\nstat = df_train.groupby('first_4')['target'].agg(['mean']).reset_index()\nresult = pd.merge(df_test, stat, how='left', on=['first_4'])\nresult.head(n=100)","54ae9713":"**First 4 chars**","d90151b6":"Do some prediction:","edd5d2b0":"**Frist 3 chars**","30e4478f":"**Check the raw data**","3769219a":"**Thoughts:**\n\n* Distributed evenly in first 1-2 chars\n\n* First 3 or 4 chars of qid seems interesting (some id gives super high probability for prediction)... \n\n* Larger than 4 seems to be unique which is useless\n\n* If I print out some raw data, there is not nothing really interesting. The question is how qid was generated: related to topic or time or just randomly\n\n* Just to have some fun with qid. Be careful before using first 3 or 4 chars as feature ...","c70acf31":"**First char**","05e4e2ed":"**Frist 2 chars**","7c982be4":"**Check the 20th row:**\n\nIs a decision tree better than logistic regres...  and 0.000000","960fedf2":"**First 5 chars**","ac1ec64d":"**I don't have courage to play with it further :)**"}}