{"cell_type":{"baabeceb":"code","8f5b339d":"code","0decadb0":"code","b969f3ea":"code","61b4407d":"code","2cd1bb00":"code","97f0771c":"code","e0849e63":"code","22221218":"code","8eb9f673":"code","fa9b3054":"markdown"},"source":{"baabeceb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport sklearn as sklearn\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\n\n# Any results you write to the current directory are saved as output.","8f5b339d":"# Load data from source\nplayers = pd.read_csv(\"..\/input\/dota-2-matches\/players.csv\")\nplayers.columns","0decadb0":"#set column of data clustering\nplayersClustering = players[['hero_id', 'gold',\n       'gold_per_min', 'xp_per_min', 'kills', 'deaths',\n       'assists', 'hero_damage',\n       'hero_healing', 'tower_damage', 'level', 'leaver_status']]","b969f3ea":"heroes = pd.read_csv('..\/input\/dota-2-matches\/hero_names.csv')\nhero_lookup = dict(zip(heroes['hero_id'],heroes['localized_name']))\nhero_lookup[0] = 'unknown'\nplayersClustering['hero'] = playersClustering['hero_id'].apply(lambda _id : hero_lookup[_id])","61b4407d":"heroes_stats = playersClustering.groupby(['hero']).mean()\nheroes_stats.drop('unknown',inplace=True)\nprint(heroes_stats)","2cd1bb00":"heroes_clustering = heroes_stats[['gold_per_min','kills','deaths','assists','hero_damage','hero_healing','tower_damage']]\nfrom sklearn.cluster import KMeans\nn_clusters = 7\nheroes_kmeans = KMeans(n_clusters=n_clusters,random_state=1000).fit(heroes_clustering)\n# you need to set the random_State, otherwise the clustering numbering will keep changing","97f0771c":"heroes_clustering['kmeans'] = heroes_kmeans.labels_","e0849e63":"# generate group by stats that we set\nkmeans_stats = heroes_clustering.groupby(['kmeans']).mean()\nkmeans_stats['count'] = heroes_clustering.groupby(['kmeans'])['kills'].count()\n\n# normalize\nkmeans_statmeans = kmeans_stats.mean(axis=0)\nkmeans_range = kmeans_stats.max(axis=0) - kmeans_stats.min(axis=0)\nkmeans_statnorm = (kmeans_stats - kmeans_statmeans) \/ kmeans_range\nkmeans_statnorm = kmeans_statnorm\n\n# make plot\nfig, (axis1, axis2) = plt.subplots(2,1,figsize=(14,14))\nkmeans_stats['count'].plot.bar(ax=axis1)\nkmeans_statnorm.iloc[:,:7].plot.bar(ax=axis2).legend(loc='lower left')\n","22221218":"heroes_clustering['heroclass'] = 'na'\nheroes_clustering.loc[(heroes_clustering['kmeans']==0),'heroclass8'] = 'Support'\nheroes_clustering.loc[(heroes_clustering['kmeans']==1),'heroclass8'] = 'Any role'\nheroes_clustering.loc[(heroes_clustering['kmeans']==2),'heroclass8'] = 'Powerful with hero'\nheroes_clustering.loc[(heroes_clustering['kmeans']==3),'heroclass8'] = 'Ganker'\nheroes_clustering.loc[(heroes_clustering['kmeans']==4),'heroclass8'] = 'Midlaner'\nheroes_clustering.loc[(heroes_clustering['kmeans']==5),'heroclass8'] = 'Hard Support, Healer'\nheroes_clustering.loc[(heroes_clustering['kmeans']==6),'heroclass8'] = 'Pusher'","8eb9f673":"heroes_clusteringSorted = heroes_clustering[['heroclass8','gold_per_min','kills','deaths','assists','hero_damage','hero_healing','tower_damage']].sort_values(['heroclass8'])\nheroes_clusteringSorted.to_csv('heroCluster.csv',index=True)\nheroes_clusteringSorted","fa9b3054":"Some guesses on the class types:\n* 0: (Support)death most \/ high assist \/ gold less\n* 1: (Any role)Average\n* 2: (Powerful with hero)high damage hero \/ high assist \/ high kill\n* 3: (Ganker)death a bit \/ assist a bit\n* 4: (Midlaner)gold highest \/ kill high \/ tower high\n* 5: (Hard Support, Healer)Healer \/ gold less\n* 6: (Pusher)gold high \/ tower highest \/ death less\n\nWe got the cases now, let put it to the label classes"}}