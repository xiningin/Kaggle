{"cell_type":{"b77909ca":"code","a10f1831":"code","d467589c":"code","31eae52c":"code","387a40e4":"code","53e9f22d":"code","98d0c7bb":"code","2365329e":"code","ae0a516b":"markdown","78e41ad6":"markdown","3d82d6a4":"markdown","2045168b":"markdown","2177808e":"markdown","caf99f27":"markdown","f3b3de13":"markdown","c137df21":"markdown","dda593d5":"markdown","904fcc4b":"markdown","770b809e":"markdown","222f4dc3":"markdown","dbba76bd":"markdown","6c0b283b":"markdown","d0f39756":"markdown","fd534d25":"markdown","dcb1a5e6":"markdown","51e88db5":"markdown","e5a7f978":"markdown","96703f2f":"markdown","3a10c29f":"markdown"},"source":{"b77909ca":"from IPython.core.display import display, HTML, Javascript\n\ntable_of_contents =\"\"\"\n<!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n    <style>\n    .toc h2{\n        color: #3f4d63;\n        font-weight: 600;\n        font-family: 'Times New Roman', serif;\n        font-size: 28px;\n        margin-bottom: 4px;\n    }\n    \n    .toc ol li{\n        list-style:none;\n        line-height:normal;\n        }\n     \n    .toc li{\n        color: #080808;\n        font-weight: 600;\n        font-family: 'Times New Roman', serif;\n        font-size: 17px;\n        margin-bottom: 2px;\n    }\n\n    .toc ol ol li{\n        color: #4d4d4d;\n        font-weight: 400;\n        font-size: 15px;\n        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n        margin-top: 0px;\n        margin-bottom: 0px;\n    } \n    \n    .section_title{\n        background-color: #c22d2d;\n        color: white;\n        font-family: Helvetica;\n        font-size: 25px;\n        padding: 6px 12px;\n        margin-bottom: 5px;\n    }\n    .subsection_title{\n        background: #0f0f0f;\n        color: white;\n        font-family: Helvetica;\n        font-size: 21px;\n        padding: 6px 12px;\n        margin-bottom: 0px;\n    }\n    .subsubsection_title{\n        background: #609c8d;\n        color: white;\n        font-family: Helvetica;\n        font-size: 17px;\n        padding: 6px 12px;\n        margin-bottom: 0px;\n    }\n    .subsubsubsection_title{\n        background: #235f83;\n        color: white;\n        font-family: Helvetica;\n        font-size: 15px;\n        padding: 6px 12px;\n        margin-bottom: 0px;\n    }\n    <\/style>\n    <\/head>\n    <body>\n    <\/body>\n<\/html>\n\"\"\"\n\nHTML(table_of_contents)","a10f1831":"from hashlib import sha256\nprint(sha256 (\"XYZ\".encode(\"ascii\")).hexdigest())","d467589c":"def SHA256(text):\n    return sha256(text.encode(\"ascii\")).hexdigest()\n","31eae52c":"if __name__=='__main__':\n    transactions='''\n    Zeus->Utkarsh->20,\n    Batman->Superman->45\n    '''\n    ","387a40e4":"'''def mine(block_number, transactions, previous_hash, prefix_zeros):\n    nonce = 1\n    text = str(block_number) + transactions + previous_hash + str(nonce)\n    new_hash = SHA256(text)\n    return new_hash'''\n\n\n\"Same for nonce =2, nonce =3,nonce =4 and so onn\"","53e9f22d":"def mine(block_number, transactions, previous_hash, prefix_zeros):\n    prefix_str = '0'*prefix_zeros\n    for nonce in range(MAX_NONCE):\n        text = str(block_number) + transactions + previous_hash + str(nonce)\n        new_hash = SHA256(text)\n        if new_hash.startswith(prefix_str):\n            print(f\"Yay! Successfully mined bitcoins with nonce value:{nonce}\")\n            return new_hash","98d0c7bb":"if __name__=='__main__':\n    transactions='''\n    Zeus->Utkarsh->20,\n    Batman->Superman->45\n    '''\n    difficulty=4 # (no of zeros) try changing this to higher number and you will see it will take more time for mining as difficulty increases\n    import time\n    start = time.time()\n    print(\"start mining\")\n    new_hash = mine(5,transactions,'0000000xa036944e29568d0cff17edbe038f81208fecf9a66be9a2b8321c6ec7', difficulty) #\n    total_time = str((time.time() - start))\n    print(f\"end mining. Mining took: {total_time} seconds\")\n    print(new_hash)","2365329e":"from hashlib import sha256\nMAX_NONCE = 100000000000\n\ndef SHA256(text):\n    return sha256(text.encode(\"ascii\")).hexdigest()\n\ndef mine(block_number, transactions, previous_hash, prefix_zeros):\n    prefix_str = '0'*prefix_zeros\n    for nonce in range(MAX_NONCE):\n        text = str(block_number) + transactions + previous_hash + str(nonce)\n        new_hash = SHA256(text)\n        if new_hash.startswith(prefix_str):\n            print(f\"Yay! Successfully mined bitcoins with nonce value:{nonce}\")\n            return new_hash\n\n    raise BaseException(f\"Couldn't find correct has after trying {MAX_NONCE} times\")\n\nif __name__=='__main__':\n    transactions='''\n    Zeus->Utkarsh->20,\n    Batman->Superman->45\n    '''\n    difficulty=4 # try changing this to higher number and you will see it will take more time for mining as difficulty increases\n    import time\n    start = time.time()\n    print(\"start mining\")\n    new_hash = mine(5,transactions,'0000000xa036944e29568d0cff17edbe038f81208fecf9a66be9a2b8321c6ec7', difficulty) #previous hash of already mined bitcoin\n    total_time = str((time.time() - start))\n    print(f\"end mining. Mining took: {total_time} seconds\")\n    print(new_hash)\n\n\n","ae0a516b":"<a id = \"q1\"><\/a>\n# <div class=\"section_title\">What is Bitcoin | It's Working\nHonestly, it took me days cause there was absolutely no article until a while back that could explain it to me like they would to a  6 year old kid, because thats how my mind works when people talk about working of cryptocurrency :)\n\nBut I will try my best....\n\n**Let's take an imaginary scenario** where you and I go to the park and we just sit, I have a peach and I decided to give it to you. Now, you are the owner of that peach and I have no control over it, You can give it to your friend or maybe just throw it, **what i mean to say is that, It is you who has the control over it** , Just like your Dollar bill, You use it buy Sodas, the shopkeeper takes the Dollar bill and gives you soda, Now you have no control over that bill, cause you dont have it anymore.\n\nNow, In the above scenario, the exchange was between two people and there was no requirement for a third person whatsoever. Correct? Now, what-if I tell you that i want to send you this peach... but digitally?\nOkay Cool, i send it.. Now what-if i made digital copies of the same peach and to impress more friends trying to send it to them too. Now that you have the peach i sent, How will you come to know if i sent the orignal one or the copied one or how many people i sent that single peach to?\n\nDigitally there are a lot of problems that need to dealt with unlike physical transfers, So the one thing that us as normal people think is that cool tracking's the issue then we can make an **Accounting Book** also know as **Ledger** and we can track where that peach goes and who gives it to whom and when. Solved... But is it? Let us look at some problems below....\n\n## <div class=\"subsubsection_title\">Problem 1- What if the person who is responsible of the ledgers decides to increase the number of peaches itself?! That would be awful. One peach should be one peach.\n## <div class=\"subsubsection_title\">Problem- But shouldnt these transfers be easier, every time I want to exchange a single peach, I will have to go trough this accounts guy with bulky book. Not cool right? \n\n## <div class=\"subsubsection_title\">Solution- We make this **Ledger** public, That's right completely public, all the transactions are our there, everyone's knows how many peaches are getting used and given and when. Perfect!, Now no one can just increases the number of peaches as this system came with defined number of peaches which will be circulated. The best part this is open source so a few honest workers, like me and you :) will report if there's something wrong.\n\nNow the best part is that you can participate in this public ledger too and get peaches as rewards just for checking the system, updating the ledger and checking if everything checks up. The peaches you get as reward is the only existing way to increase the number of peaches in the system. **(This is Bitcoin Mining)** We will come to this part in the next section.\n\n\n### <div class=\"subsection_title\">Gosh! That was a bit long and I tried to simply it as much I can, But that system I explained exists. It\u2019s called the \"Bitcoin protocol\". And those digital peaches are the \"Bitcoins\" within the system. Fancy right!? Easy but Fancy.\n\n\n\n\n","78e41ad6":"\n<div style=\"text-align:center\"> <span style=\"color:black; font-size:2.4em;\"> Let's begin .....<span><\/div>","3d82d6a4":"## <div class=\"subsubsection_title\">That's it. Now all we have to do is call our functions from the main, and to make it a little more understandable let's add time function which tells us how much time it takes to mine our block\/bitcoin.","2045168b":"Great so now lets put our print into a fuction that will do  it for any text.","2177808e":"<a id = \"q8\"><\/a>\n# <div class=\"subsection_title\">Compiled Code | Final","caf99f27":"**We can keep trying this ^, its going to take so long. Let's put for loop.**","f3b3de13":"<a id = \"q2\"><\/a>\n# <div class=\"section_title\">What is Bitcoin Mining?\n\n![Alt Text](https:\/\/media.giphy.com\/media\/6fDQ3k4IOqnEA\/giphy.gif)\n\n**To explain it in the simplest terms**\n    \n## <div class=\"subsubsection_title\">Miners are getting paid for their work as auditors. They are doing the work of verifying the legitimacy of Bitcoin transactions. This convention is meant to keep Bitcoin users honest and was conceived by bitcoin's founder, Satoshi Nakamoto. By verifying transactions, miners are helping to prevent the \"double-spending problem. What a Bitcoin miners in simpler terms does, is that\u2014they check transactions to make sure that users have not illegitimately tried to spend the same bitcoin twice.\n(Not the most perfect analogy but we'll get there).\n    \nNow to understand the code of mining bitcoin which is seriously very easy, trust me :)), Let us first understand how a normal botcoin is structured \/ How a bitcoin looks digitally \/ What exactly does it look like (Cause it surely does not look like any coin.)\n\n\n    \n","c137df21":"Easy right, Now lets create a main function which will be the main hub for our coding.\n\nWe also create dummy transactions for our mining, When actually mining you'll have access to transactions. You are a part of the system remember? Transactions are open source.","dda593d5":"<a id = \"q6\"><\/a>\n# <div class=\"section_title\">Key Takeaways \n\n#### <div class=\"subsection_title\"> Mining is nothing but guessing the correct \"Nonce\" which generates your hash number with first X number of zeros.\n    \nX_no of zeros is like a difficulty level the more the number of zeros more the difficulty. \nCurrently the difficulty (No. of zeros > 30).\n    ","904fcc4b":"_______________________________________________________________________________________________","770b809e":"<a id = \"q3\"><\/a>\n# <div class=\"section_title\">Structure of Bitcoin AND what exactly are we mining?\n    \n**So for start let's say this is our Bitcoin->**\n## <div class=\"subsubsection_title\">0000000000000000057fcc708cf0130d95e27c5819203e9f967ac56e4df598ee    \nThe above number is a 64 Bit hexadecimal number.\n    \nNow, if you mine Bitcoin, you dont need to mine the whole number, just first few numbers. What miners are doing with those huge computers and dozens of cooling fans is guessing at the target hash. Miners make these guesses by randomly generating as many \"nonces\" as possible, as fast as possible.\n\n<a id = \"q4\"><\/a>\n## <div class=\"subsubsection_title\">What Is Nonce?\nA nonce is an abbreviation for \"number only used once,\" which is a number added to a hashed\u2014or encrypted\u2014block in a blockchain that, when rehashed, meets the difficulty level restrictions. The nonce is the number that blockchain miners are solving for. When the solution is found, the blockchain miners are offered cryptocurrency in exchange.\n\n\n![x1-min.png](attachment:x1-min.png)\n\nThe above image is also a bitcoin as a whole. This will get too complicated. There is  a article that i would suggest you read, if you want to understand this completely, which gives a much detailed explanation for everything i mentioned.\n[Article 1](http:\/\/https:\/\/www.investopedia.com\/tech\/how-does-bitcoin-mining-work\/#:~:text=By%20mining%2C%20you%20can%20earn,are%20added%20to%20the%20blockchain.) ","222f4dc3":"![final13-min.png](attachment:final13-min.png)\n\n\n**Apart from the articles I have mentioned in this kernel, I request you to do a little reseach yourself for better understanding. It's a vast topic and has tons of free resources to learn from if you want to become a Bitcoin Miner, or even if not, It's still better to have a little knowledge on Bitoin and It's working.** \n\n## <div style=\"text-align:center\"><div class=\"subsection_title\">End ","dbba76bd":"![Alt Text](https:\/\/media.giphy.com\/media\/4KFvuA2LmYYVv46CNN\/giphy.gif)","6c0b283b":"## <div class=\"subsection_title\">Disclaimer\n### <span style=\"color:orange\"> Before we start, The various expressions and explanations listed below are my own, Information provided for Bitcoin and It's regulations for mining depends on the geographic location. This is just a simple code which explains how it is done and also a simple guide for everyone who just wants to learn what this is about, because just entering 2021 bitcoin has become the most valued cryptocurrency ever created! \n### This notebook will be enough to make you understand\/ give you an idea, even if you have no clue about \"Bitcoin\", \"mining\" and it's working, Trust me I had hard time understanding much of it too, until I decided to give this project a go. So, 10 mins of your time is all I want, so read along. Thanks.\ud83d\ude04 \ud83d\ude4f\n\n\n\n## <div class=\"subsection_title\">Acknowledgements\n### <span style=\"color:orange\"> Codebasic's youtube channel for source code which i made certain alterations on and their illustration(single). Giphy's page for gifs. Other sources mentioned with the relevent block.","d0f39756":"**Now we define a new function mine, where we pass all the parameters for which we mine our bitcoin.\nClick [here](#q4) and refer the picture and check out the parameters required.**\n\nThis is getting long i know, Lets try to finish it faster and in an easier way.\nLet's code the whole def mine function in two blocks.\n\nHere you can se we you the number of block, transaction, no of zeros and previous hash.\nSo lets guess for which nonce we get first values as zeros. ","fd534d25":"<a id = \"q5\"><\/a>\n# <div class=\"section_title\">Example of a mined block\n    \nSource :Blockchain.info | Investopedia\n    \n**The screenshot below, taken from the site Blockchain.info, might help you put all this information together at a glance. You are looking at a summary of everything that happened when block #490163 was mined. The nonce that generated the \"winning\" hash was 731511405. The target hash is shown on top. The term \"Relayed by Antpool\" refers to the fact that this particular block was completed by AntPool, one of the more successful mining pools (more about mining pools below). As you see here, their contribution to the Bitcoin community is that they confirmed 1768 transactions for this block. If you really want to see all 1768 of those transactions for this block, go to this page and scroll down to the heading \"Transactions.\"**\n![Bitcoin.png](attachment:Bitcoin.png)\n\n\"So how do I guess at the target hash?\"\nAll target hashes begin with zeros\u2014at least eight zeros and up to 63 zeros. \n\nThere is no minimum target, but there is a maximum target set by the Bitcoin Protocol. No target can be greater than this number:\n\n00000000ffff0000000000000000000000000000000000000000000000000000","dcb1a5e6":"# <div class=\"section_title\">Table of contents\n\n* [What is Bitcoin? How does it work ? (Quick Intro) ](#q1)\n* [What is Bitcoing Mining ?](#q2)\n* [Bitcoin Structure](#q3)\n  * [What is nonce?](#q4)\n* [Example of complete mined block](#q5)    \n* [Key Takeaways](#q6)\n* [Coding with lil exlanation](#q7)\n* [Final code](#q8)","51e88db5":"<div style=\"text-align:center\"> <span style=\"color:Black; font-size:3.4em;\"> \u20bf \u26cf\ufe0f | Bitcoin Mining \n    = 13 LOC! <span><\/div>","e5a7f978":"<div style=\"text-align:center\"> <span style=\"color:orange; font-size:1.2em;\"> Thanks a lot if you have read this far. Do support my work if you liked it \ud83d\ude04 \ud83d\ude4f.<span><\/div>","96703f2f":"<a id = \"q7\"><\/a>\n# <div class=\"section_title\"> Coding\n    First let's try to get a simple Hex Value for any string. Remeber all bitcoins-Blocks are stored in the form of strings, just like liked lists.\nNow coming to our code below ->\n* sha256 gives us our Hash value for the string (Needed for coverting into Hexadecimal form)\n* if we write just sha256 and not encode our value it will show an error, so we encode ascii.\n* hexdigest gives the hex form for the whole value ie. gives us 256 bit or 64bit Hexadecimal value for our string.  (1 Hex bit is 4bit so 64bit hex X 4 =256)","3a10c29f":"_____________________________________________________________________________________________"}}