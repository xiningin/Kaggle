{"cell_type":{"5715d54c":"code","3da55f11":"code","e8e073db":"code","7862ab2b":"code","b1f529ea":"code","cf83eeae":"code","41329897":"code","c2c96410":"code","99d1845f":"code","ed16e2e8":"code","939e57bf":"code","d6b2fa98":"code","20eb9299":"code","ea1ce096":"code","61b7f8a2":"code","7e82e952":"code","16e30ae8":"code","533e5e31":"code","efc89551":"code","961b2c71":"code","680770a0":"code","50b83acb":"code","636f71a5":"code","bc52359f":"code","1566fdbf":"code","653d2001":"code","6e3a461d":"code","09a397b2":"code","782a0f66":"code","2a7c44db":"code","bce5ff02":"markdown","a1c546b7":"markdown","8d19dfd7":"markdown","d44b1716":"markdown","b2cd2062":"markdown","cf42161f":"markdown","e5f226cf":"markdown","8a7fbab7":"markdown","118e8830":"markdown","a1dea471":"markdown","746ee283":"markdown","fa3c4e4f":"markdown","45a72133":"markdown","2e2fb6c2":"markdown"},"source":{"5715d54c":"import numpy as np\nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nplt.style.use('fivethirtyeight')\nsns.set_style('white')","3da55f11":"# Colors:\ncolors1 = ['#e6ccb2','#b08968','#7f5539'] \ncolors2 = ['#ede0d4','#e6ccb2','#ddb892','#b08968','#7f5539','#9c6644','#dda15e']","e8e073db":"# Path\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","7862ab2b":"data = pd.read_csv('\/kaggle\/input\/students-performance-in-exams\/StudentsPerformance.csv')\ndata.shape","b1f529ea":"data.head()","cf83eeae":"# Checking any null values in the dataset\ndata.isnull().sum()","41329897":"data.describe().T","c2c96410":"def cat_univariate_analysis(feature):\n    \n    data_ = data[feature].value_counts().sort_values(ascending=True)\n    plt.figure(figsize=(20,5), facecolor='white')\n    plt.subplot(1,2,1)\n    plt.barh(y=data_.index, width=data_.values, \n             height=0.7, color=colors2, edgecolor='k',linewidth=1)\n    sns.despine()\n    \n    ax = plt.subplot(1,2,2)\n    ax.pie(x=data_.values, \n           labels=data_.index, \n           colors=colors2, \n           radius=1.2, \n           autopct=\"%1.1f%%\", \n           shadow=True, \n           explode=[0.04 for i in range(data[feature].nunique())])\n    ax.add_artist(plt.Circle((0,0), 0.4, fc='white'))\n    plt.suptitle(t=feature, x=0.5, y=1.1, fontfamily='serif', fontsize=20, color='k', fontweight='bold',alpha=0.8)\n    plt.show()","99d1845f":"cat_univariate_analysis('gender')","ed16e2e8":"cat_univariate_analysis('race\/ethnicity')","939e57bf":"cat_univariate_analysis('parental level of education')","d6b2fa98":"cat_univariate_analysis('lunch')","20eb9299":"cat_univariate_analysis('test preparation course')","ea1ce096":"fig = plt.figure(figsize=(16,12), facecolor='white')\ngs = fig.add_gridspec(3, 4)\ngs.update(wspace=0.25, hspace=0.8)\n\nax1 = fig.add_subplot(gs[0,0:3])\nax1.hist(data=data, x='math score', bins=25, color='#e6ccb2',edgecolor='k',alpha=.8)\nax1.axvline(x=data['math score'].mean(), color='#7f5539', linestyle='--', label='Mean')\nax1.text(x=115, y=40, s='Distribution of maths score \\n in examination',fontfamily='serif', fontsize=14, color='k', alpha=1, linespacing=1.8)\nax1.legend(loc='upper left', shadow=True)\n\nax2 = fig.add_subplot(gs[1,0:3])\nax2.hist(data=data, x='reading score', bins=25, color='#e6ccb2',edgecolor='k',alpha=.8)\nax2.text(x=115, y=40, s='Distribution of reading score \\n in examination',fontfamily='serif', fontsize=14, color='k', alpha=1, linespacing=1.8)\nax2.axvline(x=data['reading score'].mean(), color='#7f5539', linestyle='--', label='Mean')\nax2.legend(loc='upper left', shadow=True)\n\nax3 = fig.add_subplot(gs[2,0:3])\nax3.hist(data=data, x='writing score', bins=25, color='#e6ccb2',edgecolor='k',alpha=.8)\nax3.text(x=115, y=40, s='Distribution of writing score \\n in examination',fontfamily='serif', fontsize=14, color='k', alpha=1, linespacing=1.8)\nax3.axvline(x=data['writing score'].mean(), color='#7f5539', linestyle='--', label='Mean')\nax3.legend(loc='upper left', shadow=True)\n\nfig.suptitle('Distribution of Numerical Features',fontfamily='serif', fontsize=20, color='k', fontweight='bold',alpha=0.8)\nsns.despine()\nplt.show()","61b7f8a2":"plt.figure(figsize=(7,5))\nplt.suptitle('Correlation matrix for numerical features', x=0.5, y=1.1, fontfamily='serif', fontsize=20, color='k', fontweight='bold')\nsns.heatmap(data.corr(), cmap='rocket', linewidth=0.5, annot=True)\nplt.text(s='''\n                           * Student who performs better at one subject, generally perfroms \n                             better at other subjects \n                             \n                           * Especially if student performs better at writing, they are also \n                             more likely to perform better at reading. \n                             There is 95% correlation for this relationship\n                    ''',\n                    x=4, y=2.5,\n                    fontfamily='serif', fontsize=14, color='k', alpha=0.8, linespacing=1.8)\n\nplt.yticks(rotation=0)\nplt.xticks(rotation=90)\nplt.show()","7e82e952":"plt.figure(figsize=(10,8))\nboxdata = data[['math score', 'reading score', 'writing score']]\n\nplt.boxplot(boxdata, showmeans=True, widths=0.4, patch_artist=True,\n            flierprops=dict(markerfacecolor='#7f5539', marker='o', markersize=10),\n            boxprops=dict(linewidth=2,facecolor='#e6ccb2', color='k', alpha=0.8),\n            whiskerprops=dict(linewidth=2),\n            capprops=dict(linewidth=2), \n            medianprops=dict(linewidth=1, color='k'))\n\nplt.xticks(ticks=[1,2,3], labels=boxdata.columns, fontsize=14)\n\nplt.suptitle('Outliers in numerical features', x=0.5, y=1, fontfamily='serif', fontsize=20, color='k', fontweight='bold',alpha=0.8)\n\nplt.text(s='''\n                           * Students avarage score in reading and writing are similar to each \n                             other, whereas average score in math is sightly less compared to \n                             reading and writing.\n                             \n                           * Math score having more outliers, which means few students didn't \n                             performed well in math exam. And also the least score is in math.\n                    ''',\n                    x=3.5, y=25,\n                    fontfamily='serif', fontsize=14, color='k', alpha=0.8, linespacing=1.8)\nsns.despine()\nplt.yticks(rotation=0)\nplt.xticks(rotation=90)\nplt.show()","16e30ae8":"def scatter_with_hue(hue, palette):\n    \n    fig = plt.figure(figsize=(18,20))\n    gs = fig.add_gridspec(3, 4)\n    gs.update(wspace=0.5, hspace=0.3)\n\n    ax0 = fig.add_subplot(gs[0,0:2])\n    sns.scatterplot(data=data, x='reading score', y='math score', hue=hue, s=100, palette=palette, alpha=0.7, ax=ax0)\n    ax01 = fig.add_subplot(gs[0,2:4])\n    sns.scatterplot(data=data, x='writing score', y='math score', hue=hue, s=100, palette=palette, alpha=0.7, ax=ax01)\n    plt.ylabel(ylabel=None)\n\n    ax1 = fig.add_subplot(gs[1,0:2])\n    sns.scatterplot(data=data, x='writing score', y='reading score', hue=hue, s=100, palette=palette, alpha=0.7, ax=ax1)\n    ax11 = fig.add_subplot(gs[1,2:4])\n    sns.scatterplot(data=data, x='math score', y='reading score', hue=hue, s=100, palette=palette, alpha=0.7, ax=ax11)\n    plt.ylabel(ylabel=None)\n\n    ax2 = fig.add_subplot(gs[2,0:2])\n    sns.scatterplot(data=data, x='math score', y='writing score', hue=hue, s=100, palette=palette, alpha=0.7, ax=ax2)\n    ax21 = fig.add_subplot(gs[2,2:4])\n    sns.scatterplot(data=data, x='reading score', y='writing score', hue=hue, s=100, palette=palette, alpha=0.7, ax=ax21)\n    plt.ylabel(ylabel=None)\n\n    sns.despine()\n    plt.show()","533e5e31":"def kde_with_hue(hue, palette, text1, text2, text3):\n    \n    fig = plt.figure(figsize=(20,18))\n    gs = fig.add_gridspec(3, 4)\n    gs.update(wspace=0.5, hspace=0.3)\n\n    ax0 = fig.add_subplot(gs[0,0:2])\n    sns.kdeplot(data=data, x='math score', hue=hue, shade=True, palette=palette, ax=ax0, alpha=0.5, edgecolor='k')\n    ax01 = fig.add_subplot(gs[0,2])\n    sns.stripplot(x=hue, y='math score', data=data, palette=palette, ax=ax01)\n    if data[hue].nunique() < 3 :\n        plt.xticks(fontsize=12)\n    else: \n        ax01.set_xticks([])\n    plt.text(s=text1, x=data[hue].nunique()+0.5, y=35, fontfamily='serif', fontsize=14, color='k', alpha=0.8, linespacing=1.8)\n\n    ax1 = fig.add_subplot(gs[1,0:2])\n    sns.kdeplot(data=data, x='reading score', hue=hue, shade=True, palette=palette, ax=ax1, alpha=0.5, edgecolor='k')\n    ax11 = fig.add_subplot(gs[1,2])\n    sns.stripplot(x=hue, y='reading score', data=data ,palette=palette, ax=ax11)\n    if data[hue].nunique() < 3 :\n        plt.xticks(fontsize=12)\n    else: \n        ax11.set_xticks([])\n    plt.text(s=text2, x=data[hue].nunique()+0.5, y=35, fontfamily='serif', fontsize=14, color='k', alpha=0.8, linespacing=1.8)\n\n    ax2 = fig.add_subplot(gs[2,0:2])\n    sns.kdeplot(data=data, x='writing score', hue=hue, shade=True, palette=palette, ax=ax2, alpha=0.5, edgecolor='k')\n    ax21 = fig.add_subplot(gs[2,2])\n    sns.stripplot(x=hue, y='writing score', data=data,palette=palette, ax=ax21)\n    if data[hue].nunique() < 3 :\n        plt.xticks(fontsize=12)\n    else: \n        ax21.set_xticks([])\n    plt.text(s=text3, x=data[hue].nunique()+0.5, y=35, fontfamily='serif', fontsize=14, color='k', alpha=0.8, linespacing=1.8)\n    \n    sns.despine()\n    plt.show()","efc89551":"palette1 = sns.set_palette(sns.color_palette(colors1))\nscatter_with_hue('gender', palette1)","961b2c71":"text1='''\n* Male students tends to perform better \n  at math than female students\n* Female student has the least score \n  in math\n'''\ntext2='''\n* Female students tends to perform better \n  at reading than male students\n* Female student has the least score \n  in reading\n'''\ntext3='''\n* Female students tends to perform better \n  at writing than male students\n* Female student has the least score \n  in writing\n'''\n\npalette1 = sns.set_palette(sns.color_palette(colors1))\nkde_with_hue('gender', palette1, text1, text2, text3)","680770a0":"palette1 = sns.set_palette(sns.color_palette(colors1))\nscatter_with_hue('lunch', palette1)","50b83acb":"text1='''\n* Students with standard lunch done\n  exceptionally good in math\n* Students with free\/reduced lunch\n  has the least score in math\n'''\ntext2='''\n* Students with standard lunch tends to \n  perform better the free\/reduced lunch\n  in reading\n* Students with free\/reduced lunch\n  has the least score in reading\n'''\ntext3='''\n* Students with standard lunch tends to \n  perform better the free\/reduced lunch\n  in writing\n* Students with free\/reduced lunch\n  has the least score in writing\n'''\n\npalette1 = sns.set_palette(sns.color_palette(colors1))\nkde_with_hue('lunch', palette1, text1, text2, text3)","636f71a5":"palette1 = sns.set_palette(sns.color_palette(colors1))\nscatter_with_hue('test preparation course', palette1)","bc52359f":"text1='''\n* Students who completed the course\n  got better score in math\n* Student with None has the least score \n  in math\n'''\ntext2='''\n* Students who completed the course\n  got better score in reading\n* Student with None has the least score \n  in reading\n'''\ntext3='''\n* Students who completed the course\n  got better score in writing\n* Student with None has the least score \n  in writing\n'''\n\npalette1 = sns.set_palette(sns.color_palette(colors1))\nkde_with_hue('test preparation course', palette1, text1, text2, text3)","1566fdbf":"scatter_with_hue('race\/ethnicity', 'OrRd')","653d2001":"text1='''\n* Group E students sightly performs better \n  than other groups in maths\n* Group C student has the least score\n  in math\n'''\ntext2='''\n* The reading score is similar for each\n  groups\n* Group C student has the least score\n  in reading\n'''\ntext3='''\n* The writing score is similar for each\n  groups\n* Group C student has the least score\n  in writing\n'''\n\nkde_with_hue('race\/ethnicity', 'OrRd', text1, text2, text3)","6e3a461d":"scatter_with_hue('parental level of education', 'OrRd')","09a397b2":"text1='''\n* Students whose parent having masters or \n  bachelors tends to perform well in math \n* Parental level of education with some\n  high school has the least score in math\n'''\ntext2='''\n* Students whose parent having masters or \n  bachelors tends to perform well in reading\n* Parental level of education with some\n  high school has the least score in reading\n'''\ntext3='''\n* Students whose parent having masters or \n  bachelors tends to perform well in writing\n* Parental level of education with some\n  high school has the least score in writing\n'''\n\nkde_with_hue('parental level of education', 'OrRd', text1, text2, text3)","782a0f66":"# Adding a feature -- average scores\ndata['avg score'] = round((data['math score'] + data['reading score'] + data['writing score'])\/3,1)","2a7c44db":"fig1 = plt.figure(figsize=(18,5))\ngs1 = fig1.add_gridspec(1,3)\ngs1.update(wspace=0.5, hspace=0.3)\nfig2 = plt.figure(figsize=(18,4))\ngs2 = fig2.add_gridspec(1,4)\ngs2.update(wspace=0.5, hspace=0.3)\n\nax0 = fig1.add_subplot(gs1[0,0])\ndata.groupby('gender')['avg score'].mean().sort_values(ascending=False).plot(kind='bar', color=colors2, width=0.8, edgecolor='k',ax=ax0)\n\nax1 = fig1.add_subplot(gs1[0,1])\ndata.groupby('lunch')['avg score'].mean().sort_values(ascending=False).plot(kind='bar', color=colors2, width=0.8, edgecolor='k',ax=ax1)\n\nax2 = fig1.add_subplot(gs1[0,2])\ndata.groupby('test preparation course')['avg score'].mean().sort_values(ascending=False).plot(kind='bar', color=colors2, width=0.8, edgecolor='k',ax=ax2)\n\nax3 = fig2.add_subplot(gs2[0,0:2])\ndata.groupby('parental level of education')['avg score'].mean().plot(kind='bar',color=colors2,width=0.8,edgecolor='k',ax=ax3)\nplt.text(s='''\n                         On average:  \n                           * Female students performed better compared to male students.\n                           * Students with standard lunch also performed better compared to \n                             students with free\/reduced lunch\n                           * Students who enrolled in test preparation course perfomed well \n                             in exam.\n                           * Parental level of education plays an important role in children's \n                             academic performance. Student score increase as parental level of \n                             education increases.\n                    ''',\n                    x=5.5, y=-5,\n                    fontfamily='serif', fontsize=14, color='k', alpha=0.8, linespacing=1.8)\n\nsns.despine(fig1)\nsns.despine(fig2)\nplt.show()   ","bce5ff02":"### <span style=\"font-family:cursive;\"><b> Importing the required libraries: <\/b><\/span>","a1c546b7":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           background-color:#dda15e;\n           font-size:110%;\n           font-family:cursive;\n           letter-spacing:0.5px\">\n\n<h3 style=\"padding: 20px; color:white; text-align:center\"><b>Univariate analysis in categorical feature<\/b><\/h3>\n<\/div>","8d19dfd7":"## <center><span style=\"font-family:serif;\"><b>Standard VS Free\/Reduced score in math, reading and writing<\/b><\/span><\/center>","d44b1716":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           background-color:#dda15e;\n           font-size:110%;\n           font-family:cursive;\n           letter-spacing:0.5px\">\n\n<h3 style=\"padding: 20px; color:white; text-align:center\"><b>Univariate analysis in numerical feature<\/b><\/h3>\n<\/div>","b2cd2062":"# <center><span style=\"font-family:cursive;\"><b>Students Performance EDA \ud83d\udcca<\/b><\/span><\/center>","cf42161f":"<div class=\"alert alert-block alert-success\" style=\"margin-left: 80px; margin-right: 80px\"> <h3 style='text-align:center;font-family:cursive'> If you found this interesting please don't forget to upvote \ud83d\udc4d<\/h3>\n      \n<\/div>","e5f226cf":"## <center><span style=\"font-family:serif;\"><b>Group \"A\" vs \"B\" vs \"C\" vs \"D\" vs \"E\" score in math, reading and writing<\/b><\/span><\/center>","8a7fbab7":"## <center><span style=\"font-family:serif;\"><b>Master's vs Bachelor's vs highschool score in math, reading and writing<\/b><\/span><\/center>","118e8830":"![](https:\/\/surrey-content.surrey.ac.uk\/sites\/default\/files\/styles\/hero_large\/public\/2019-01\/exams-on-the-day.jpg?itok=Dp-JzrH_)","a1dea471":"## <center><span style=\"font-family:serif;\"><b>Categorical feature VS average score<\/b><\/span><\/center>","746ee283":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           background-color:#dda15e;\n           font-size:110%;\n           font-family:cursive;\n           letter-spacing:0.5px\">\n\n<h3 style=\"padding: 20px; color:white; text-align:center\"><b>Multivariate analysis<\/b><\/h3>\n<\/div>","fa3c4e4f":"## <center><span style=\"font-family:serif;\"><b>Adding a new feature ( average score )<\/b><\/span><\/center>","45a72133":"## <center><span style=\"font-family:serif;\"><b>Test preparation course VS None score in math, reading and writing<\/b><\/span><\/center>","2e2fb6c2":"## <center><span style=\"font-family:serif;\"><b>Male VS Female score in math, reading and writing<\/b><\/span><\/center>"}}