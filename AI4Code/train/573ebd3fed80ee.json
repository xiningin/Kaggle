{"cell_type":{"85a0ba08":"code","b3215636":"code","52b760c6":"code","ee057bdf":"code","a10a7244":"code","8e5ef568":"code","6e1ee8fc":"code","daceed33":"code","7871989f":"code","fef58b5c":"code","af3f5a26":"code","10bfbbf0":"code","fcac905f":"code","8d782d87":"code","dbfab61d":"code","2af72a5a":"code","d2a668c9":"code","2cc34b22":"code","66e69f2b":"code","ec5bb2ad":"code","97eedfd5":"code","2aa6e603":"code","76510667":"code","ead3645f":"markdown","aba375ed":"markdown","ff62aca3":"markdown","250dba59":"markdown","04d95dcc":"markdown"},"source":{"85a0ba08":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport cv2\nimport os","b3215636":"def backread(im):\n    return cv2.imread(im)[:,:,::-1]\n\nedf = pd.read_pickle(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/assignment_1\/assignment_0\/edf.pkl\")\npic = backread(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/assignment_1\/assignment_0\/connect4.png\")\nred = backread(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/assignment_1\/assignment_0\/red.png\")\nyellow = backread(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/assignment_1\/assignment_0\/yellow.png\")\nwhite = backread(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/assignment_1\/assignment_0\/white.png\")\nData = pd.read_csv(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/assignment_1\/assignment_0\/Examples.csv\")\n\ndef synthetic(mat):\n    mpic = pic.copy()\n    for i in edf.index:\n        w = edf.loc[i]\n        x1,y1 = w['left']\n        f = w['f']\n        if mat[w['x'],w['y']] == 0:    \n            mpic[y1:y1+f,x1:x1+f] = white\n        elif mat[w['x'],w['y']] == 1:\n            mpic[y1:y1+f,x1:x1+f] = red\n        elif mat[w['x'],w['y']]== 2:\n            mpic[y1:y1+f,x1:x1+f] = yellow\n        else:\n            mpic[y1:y1+f,x1:x1+f] = 0\n    return mpic\n\ndef print_board(board):\n    f,ax = plt.subplots(figsize = (6,6))\n    plt.imshow(synthetic(board))\n    plt.show()\n    \ndef loadfromarray(ar):\n    ar = ar.values\n    ar = ar[0][1:43]\n    try:\n        ar = ar.reshape(6,7).astype('float')\n        return ar\n    except:\n        ar = ar.reshape(6,7)\n        return ar","52b760c6":"redwins = loadfromarray(Data[Data.file_names == 'redwins'])\nyellowwins = loadfromarray(Data[Data.file_names == 'yellowwins'])\nrednext = loadfromarray(Data[Data.file_names == 'redisnext'])\nyellownext = loadfromarray(Data[Data.file_names == 'yellownext'])\nfloating_piece = loadfromarray(Data[Data.file_names == 'floating_piece'])\nproportion = loadfromarray(Data[Data.file_names == 'invalid_proportion'])\noutof = loadfromarray(Data[Data.file_names == 'corrupt_'])\nnonnum = loadfromarray(Data[Data.file_names == 'corrupt'])","ee057bdf":"\"\"\"\nCreate a function isCorrupt that classifies any board that has non \nnumeric values or values that are not in range as Corrupt\n[valid board: numeric(0,1,2), function output:String & value:Corrupt]\n\"\"\"\ndef isCorrupt(board):\n    pass","a10a7244":"isCorrupt(nonnum)","8e5ef568":"isCorrupt(outof)","6e1ee8fc":"isCorrupt(yellowwins)","daceed33":"def Isfloating(board):\n    board = np.flip(board)\n    for i in range(len(board)):\n        if i < len(board)-1:\n            for j in np.where(board[i] == 0)[0]:\n                #-------------------------------------------------------------------------------------\n                \"\"\"\n                Complete the code below\n                The Function should return True if such a condition exists refer to part 1 \n                [Floating pieces cannot exist]\n                \"\"\"\n                #-------------------------------------------------------------------------------------\n    return False","7871989f":"Isfloating(floating_piece)","fef58b5c":"Isfloating(proportion)","af3f5a26":"def IsProportional(board):\n    red_pieces = len(board[np.where(board == 1)])\n    #-------------------------------------------------------------------------------------\n    \"\"\"\n    Insert code that counts the number of Yellow pieces\n    \"\"\"\n    # Your Code Goes Here\n    #yellow_pieces = \n    \n    \n    #-------------------------------------------------------------------------------------\n    \n    #Condition: if the difference between the counts is more than 1, return false\n    \"\"\"\n    Write code to check 1st condition\n    \"\"\"\n    # Your Code Goes Here\n    #if \n        #return False\n        \n    #-------------------------------------------------------------------------------------\n    \n    \n    \n    \"\"\"\n    Remove the comments from the code below once you complete the part above\n    \"\"\"\n    #Condition: As red always starts, yellow count can never exceeed red count\n    #elif yellow_pieces > red_pieces:\n    #    return False","10bfbbf0":"IsProportional(proportion)","fcac905f":"def WhosTurn(board):\n    \"\"\"\n    Write code to output whos turn it is based on the board\n    \n    Logic: If there are equal pieces, than its reds turn, if red has more pieces its yellows turn\n    \n    Also if the board is empty its Reds turn\n    \n    \"\"\"\n    red_pieces = len(board[np.where(board == 1)])\n    \"\"\"\n    Insert code that counts the number of Yellow pieces\n    \"\"\"\n    # Your Code Goes Here\n    #yellow_pieces = \n    \n    \n    #-------------------------------------------------------------------------------------\n    \n    \"\"\"\n    Write code that executes the logic described above\n    \n    \"\"\"\n    \n    # Your Code Goes Here\n    ","8d782d87":"WhosTurn(rednext)","dbfab61d":"WhosTurn(yellownext)","2af72a5a":"def check_win(board, piece):\n    \n    board = np.flip(board)\n    ROW_COUNT = 6\n    COLUMN_COUNT = 7\n    \n    #-------------------------------------------------------------------------------------\n    # Check horizontal locations for win\n    for c in range(COLUMN_COUNT-3):\n        for r in range(ROW_COUNT):\n            if board[r][c] == piece and board[r][c+1] == piece and board[r][c+2] == piece and board[r][c+3] == piece:\n                return True\n     \n    \n    \n    \n    #-------------------------------------------------------------------------------------\n    \"\"\"\n    Write the code to see if any game was won, with respect to each column\n    \"\"\"\n    # Check vertical locations for win\n            \n     \n    #Your Code Goes Here\n    \n    \n            \n    #-------------------------------------------------------------------------------------\n    \"\"\"\n    Remove the comments once you have finished the code above. The code below returns true if the game is won\n    by a player ['piece' = (1 or 2)]; with 4 in a row connected diaganolly. Use the same method to complete the \n    functions that are above.\n    \n    # Check positively sloped diaganols\n    for c in range(COLUMN_COUNT-3):\n        for r in range(ROW_COUNT-3):\n            if board[r][c] == piece and board[r+1][c+1] == piece and board[r+2][c+2] == piece and board[r+3][c+3] == piece:\n                return True\n                \n                \n    # Check negatively sloped diaganols\n    for c in range(COLUMN_COUNT-3):\n        for r in range(3, ROW_COUNT):\n            if board[r][c] == piece and board[r-1][c+1] == piece and board[r-2][c+2] == piece and board[r-3][c+3] == piece:\n                return True\n    \"\"\"\n            ","d2a668c9":"check_win(redwins,1)","2cc34b22":"check_win(yellowwins,2)","66e69f2b":"valid = pd.read_csv(\"..\/input\/applied-ai-assignment-1-connect-4-level-1-2021\/Validation.csv\")","ec5bb2ad":"#This classifier function needs to return the class in order for the testinbg code below to work.\n\ndef classifier(B):\n    \"\"\"\n    Build a classifier\n    \n    If B is invalid return(1)\n    \n    \"\"\"\n    return(1)","97eedfd5":"#Test you code with the validation set, this function will test all of your code to see how well it does against the \n#validation set, if you get \"100% correct\".  all of your functions worked correctly.  If not it will show the \n#ones you got wrong.  \nwcount = 0\nfor i in valid.file_names:\n    board = loadfromarray(valid[valid.file_names == i])\n    if valid[valid.file_names == i].state.values[0] != classifier(board):\n        print('You scored '+valid[valid.file_names == i].file_names.values[0]+' as '+str(classifier(board))+' the ground truth is '+ str(valid[valid.file_names == i].state.values[0]))     \n        wcount += 1\nif wcount == 0:\n    print('100% correct')","2aa6e603":"#insert a board you got wrong below to print the board\n# example board = loadfromarray(valid[valid.file_names == 'board_7'])\nboard = loadfromarray(valid[valid.file_names == 'board_7'])\nprint_board(board)","76510667":"Name = None # Replace None with your name","ead3645f":"<span style=\"font-family:Georgia; font-size:1.2em;\">\nHint: use the functions above and if then conditions to sequentialy check what 'state' it falls in and output the corresponding numeric value from the table above. <b> The Order of the if then conditions matter, so be careful<\/b>\n<\/span>","aba375ed":"<span style=\"font-family:Georgia; font-size:1.2em;\">\nExpected results, when you run isCorrupt on nonum and outof, it should return Corrupt, but it shouldn't when you enter yellow wins.\n<\/span>","ff62aca3":"<span style=\"font-family:Georgia; font-size:1.2em;\">\nYour End Goals is too classify  all files that are in the \"Data\" folder. To help you build a Classifier, we have created some helper functions. You can make your own, but if you want to use our you will have to complete the functions and create an aggregate classifier at the end.\n<\/span>","250dba59":"<span style=\"font-family:Georgia; font-size:1.2em;\">\nExpected results, when you run isfloating on floating piece, it should return True, but it shouldn't when you enter proportion.\n<\/span>","04d95dcc":"<span style=\"font-family:Georgia; font-size:1.2em;\">\nQ) Complete the function Classifier.\n<br\/>\nYour Goals is to read all board matrices in the validation set. A file called Validation.csv is also present, make sure when you read each file from your directory, it is read in the order of the csv file. Then use the classifier to classify each loaded file into the following states.  There is a fuinction below that will automatically test this function for you.  \n<br\/>\n\n\n|   |   |\n|---|---|\n|Description  |   State|\n|Invalid  |   1|\n|Reds Turn  |   2|\n|Yellows Turn  |   3|\n|Red Wins  |   4|\n|Yellow Wins  |   5|\n|Corrupt Data |   6|\n\n<br\/>\n<br\/>\nPlease refer to the examples provided in part 1 of the notebook to understand the classification process. <b>Warning! The Numeric state values may not match, please use the numeric values provided in the table above<\/b>\n<br\/>\n<br\/>\n<\/span>"}}