{"cell_type":{"04ac5484":"code","e33861b4":"code","86c19f90":"code","44f816d6":"code","76299595":"code","1b8f3ab7":"code","8befb263":"code","8beab62b":"code","95a3bd4f":"code","6b616b94":"code","cb2838c4":"code","1e9cfab8":"code","36895603":"markdown","6cdc0011":"markdown","0c224976":"markdown","e05fcd86":"markdown","81a7ec8c":"markdown","2621edad":"markdown","a3ff3f51":"markdown","ebad5517":"markdown","08faa760":"markdown","84406371":"markdown","4dfef55a":"markdown","d28ee9f3":"markdown","98dc6711":"markdown","63ff9e86":"markdown","2de81dc3":"markdown","238841d1":"markdown","8b47143d":"markdown","8386baf0":"markdown"},"source":{"04ac5484":"import numpy as npdddd\nimport pandas as pdddd\nimport matplotlib.pyplot as plt\nfrom collections import Counter\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.figure_factory as ff\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import train_test_split\nfrom imblearn.over_sampling import SMOTE\nimport warnings\nwarnings.filterwarnings(\"ignore\")","e33861b4":"data=pd.read_csv(\"..\/input\/heart-attack-analysis-prediction-dataset\/heart.csv\")\ndata","86c19f90":"heart=Counter(data['output'])\nclasses=[]\ncount=[]   #list to store no of laels of each class\nfor i in heart.keys():\n    classes.append(i)\n    count.append(heart[i])\ncolors = [\"#E13F29\", \"#D69A80\"]\n\nplt.pie(\n    count,\n    labels = classes,\n    shadow = True,\n    colors = colors,\n    startangle=80,\n    autopct='%1.1f%%'\n)\nplt.axis('equal')\nplt.tight_layout()\nplt.title(\"Percentage of person with heart disease attack in the dataset\", fontsize=15)\nplt.show()\n# fig = px.pie(df, names='output', title='Percentage of person with heart disease present in the dataset')\n# fig.show()","44f816d6":"fig=plt.figure(figsize=(16, 16))\nfig = plt.subplot(431)\nsns.kdeplot(data['age'],shade=True,label=' Age')\n# plt.title ('Distribution of Age')\nplt.legend()\nfig = plt.subplot(432)\ndata['sex'].value_counts().plot(kind='bar',label=' sex', color=\"lightpink\")\nplt.xlabel('sex')\n# plt.title ('Distribution of sex')\nplt.legend()\nfig = plt.subplot(433)\ndata['cp'].value_counts().plot(kind='bar',label='pain')\nplt.xlabel('cp')\n# plt.title ('Distribution of chest pain')\nplt.legend()\nfig = plt.subplot(434)\n# sns.kdeplot(data['trtbps'],shade=True,label='blood pressure')\nsns.distplot(data['trtbps'], color=\"red\",  kde= True,label='Blood Pressure')\n# plt.title ('Distribution of blood pressure')\nplt.legend()\nfig = plt.subplot(435)\nsns.kdeplot(data['chol'],shade=True,label='cholestrol')\n# plt.title ('Distribution of cholestrol')\nplt.legend()\nfig = plt.subplot(436)\ndata['fbs'].value_counts().plot(kind='bar',label='Blood sugar', color=\"lightblue\")\nplt.xlabel('fbs')\n# plt.title ('Distribution of blood sugar')\nplt.legend()\nfig = plt.subplot(437)\ndata['restecg'].value_counts().plot(kind='bar',label='Electrocardiographic result')\nplt.xlabel('restecg')\n# plt.title ('Distribution of electrocardiographic result')\nplt.legend()\nfig = plt.subplot(438)\n# sns.kdeplot(data['thalachh'],shade=True,label='Maximum heart rate')\nsns.distplot(data['thalachh'], color=\"red\",  kde= True,label='Maximum heart rate')\n# plt.title ('Distribution of maximum heart rate')\nplt.legend()\nfig = plt.subplot(439)\ndata['exng'].value_counts().plot(kind='bar',label='Induced engina', color=\"grey\")\nplt.xlabel('exng')\n# plt.title ('Distribution of induced engina')\nplt.legend()\nfig = plt.subplot(4,3,10)\nsns.kdeplot(data['oldpeak'],shade=True,label='Old peak')\nplt.xlabel('oldpeak')\n# plt.title ('Distribution of old peak')\nplt.legend()\nfig = plt.subplot(4,3,11)\ndata['slp'].value_counts().plot(kind='bar',label='Slope', color=\"brown\")\nplt.xlabel('slp')\n# plt.title ('Distribution of slope')\nplt.legend()\nfig = plt.subplot(4,3,12)\ndata['caa'].value_counts().plot(kind='bar',label='Major vessels')\nplt.xlabel('caa')\n# plt.title ('Distribution of no. of major vessels')\nplt.legend()\nplt.show()","76299595":"heart = data[data['output']==1]['age'].fillna(0.0).astype(float)\nheart_no = data[data['output']==0]['age'].fillna(0.0).astype(float)\nfi = ff.create_distplot([heart, heart_no], ['Hear Disease','No Heart Disease'], bin_size=0.65, curve_type='normal'\n                        ,colors =  ['#E50914','#221F1F'])\nfi.update_layout(\n    title=\"Heart Attack distibution over age\",\n    xaxis_title=\"Age\",\n)\nfi.show()\nheart = data[data['output']==1]['thalachh'].fillna(0.0).astype(float)\nheart_no = data[data['output']==0]['thalachh'].fillna(0.0).astype(float)\nfi = ff.create_distplot([heart, heart_no], ['Hear Disease','No Heart Disease'], bin_size=0.65, curve_type='normal'\n                        ,colors =  ['#E50914','green'])\nfi.update_layout(\n    title=\"Heart Attack distibution over Heart rate\",\n    xaxis_title=\"Heart Rate\",\n)\nfi.show()","1b8f3ab7":"fig=plt.figure(figsize=(14, 6))\nfig = plt.subplot(121)\nsns.distplot(data[data['output'] == 0][\"chol\"], color='green',label='No heart Disease') \nsns.distplot(data[data['output'] == 1][\"chol\"], color='red',label='Heart Disease') #Red for heart disease\nplt.title('Heart Attack distibution over Cholestrol ', fontsize=15)\nplt.legend()\n# plt.show()\nfig = plt.subplot(122)\nsns.distplot(data[data['output'] == 0][\"trtbps\"], color='green',label='No heart Disease') \nsns.distplot(data[data['output'] == 1][\"trtbps\"], color='red',label='Heart Disease') #Red for heart disease\nplt.title('Heart Attack distibution over Blood pressure ', fontsize=15)\nplt.legend()","8befb263":"fig=plt.figure(figsize=(16, 16))\nfig = plt.subplot(331)\ndf=data\nname='sex'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"male\",\"female\"]\nplt.bar(x,l,label=name )\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\nfig = plt.subplot(332)\ndf=data\nname='cp'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n    (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n    (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"0\",\"1\",'2','3']\nplt.bar(x,l,label='chest pain' , color=\"pink\")\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\n\nfig = plt.subplot(333)\nname='fbs'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"0\",\"1\"]\nplt.bar(x,l,label='Blood sugar', color=\"grey\" )\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\nfig = plt.subplot(334)\nname='restecg'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"0\",\"1\"]\nplt.bar(x,l,label='electrocardiographic' , color=\"grey\")\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\n\nfig = plt.subplot(335)\nname='exng'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"0\",\"1\"]\nplt.bar(x,l,label='exercise induced angina' )\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\nfig = plt.subplot(336)\nname='slp'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n     (100)*df[df[name]==2]['output'].sum()\/len(df[df[name]==2]['output'])]\nx=[\"0\",\"1\",'2']\nplt.bar(x,l,label='Slope' , color=\"brown\")\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\n\nfig = plt.subplot(337)\ndf=data\nname='caa'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n    (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n    (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"0\",\"1\",'2','3']\nplt.bar(x,l,label='number of major vessels' )\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart Attack')\nplt.legend()\n\nfig = plt.subplot(338)\ndf=data\nname='thall'\nl = [(100)*df[df[name]==0]['output'].sum()\/len(df[df[name]==0]['output']),\n     (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n    (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output']),\n    (100)*df[df[name]==1]['output'].sum()\/len(df[df[name]==1]['output'])]\nx=[\"0\",\"1\",'2','3']\nplt.bar(x,l,label='Thal rate', color=\"pink\" )\nplt.xlabel(name)\nplt.ylabel('Percentage of Heart v')\nplt.legend()","8beab62b":"from mpl_toolkits.mplot3d import Axes3D\nfig = plt.figure(figsize=(10,10))\nax = Axes3D(fig)\nax.scatter(data[\"output\"], data[\"thalachh\"],data[\"age\"],  c=\"red\", s=20, alpha=0.5)\nplt.xlabel('Heart Attack')\nplt.ylabel('Heart Rate')\nplt.show()","95a3bd4f":"sns.catplot(x=\"cp\", y=\"thalachh\",hue='output' ,kind=\"box\", data=data)","6b616b94":"sns.catplot(data=data, x=\"exng\", y=\"age\", hue='output',aspect=1.7,kind=\"swarm\")","cb2838c4":"plt.figure(figsize=(15,8))\nsns.heatmap(data.corr(),cmap=\"Blues\")\n","1e9cfab8":"data.corr()","36895603":"# **Distribution of Features w.r.t Heart Disease**","6cdc0011":"Most of the people have age between 50-60,less chest pain,blood pressure between 120 to 140,cholestrol between 200-300,blodd sugar less than 120 and are mail whereas heart rate between 150-175.","0c224976":"People having cholestrol 120-250 and blood between 110 to 140 are more likely to have heart attack.","e05fcd86":"Peoplle having higher heart rate are highly likely to suffer from heart attack though age desnot contributes.","81a7ec8c":"Some Important Insights :\n\n1.Person having high chest pain are more probable to suffer from Heart Attack.\n\n2.Person having higher heart rate are more probable to suffer from Heart Attack.\n\n3.Males are more probable to suffer from heart attack as compare to Females.\n\n4.Person doesnot have exercied indeced enginal are higly probable to suffer from heart attack.","2621edad":"# **Distribution of Data**","a3ff3f51":"# **Dataset Description** \n\nage : Age of the patient\n\nsex : Sex of the patient\n\ncp : Chest Pain \n\ntrtbps : resting blood pressure (in mm Hg)\n\nchol : cholestoral in mg\/dl \n\nfbs : fasting blood sugar\n\nrestecg : resting electrocardiographic results\n\nthalachh : Maximum heart rate\n\nexang: exercise induced angina\n\nold peak : Previous peak\n\nslp : Slope\n\ncaa: number of major vessels\n\noutput : 0= less chance of heart attack 1= more chance of heart attack","ebad5517":"As 54% of the person have heart attack so data is almost balanced so no need to balance the data.","08faa760":"73% of male suffers from heart attack whereas only 45% of female suffer from heart attack so males are more likely to suffer from it.\n\nPeople having chest pain are highly probably to suffer from heart attack.\n\nBlood sugar doesnot have that much impact on heart attack i.e. person having heart attack is independent of whether person have blood sugar or not.\n\nPerson doesnot having exercied indeced enginal are higly probable to suffer from heart attack.","84406371":"Higher the chest pain and higher the heart, very likely is person to suffer from heart attack.","4dfef55a":"As we can see from the above graph and table, heart attack have positive correlation with chest pain,heart rateand slope whereas have negative correlation age, induced engina and major vessels.","d28ee9f3":"People having low exercise induced angina are more probable to suffer from heart disease although age doesnot contribute as much to heart attack.","98dc6711":" People having age 40-60 are more likely to have heart disease whereas people having higher heart rate are very much probable to suffer from heart attack.","63ff9e86":"# **Importing Libraries**","2de81dc3":"# **Reading Data**","238841d1":"# **Correlation among attributes**","8b47143d":"# **Distribution of attribute w.r.t other attribute having hue=Heart Attack**","8386baf0":"# **Distribution of Features**"}}