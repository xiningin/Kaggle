{"cell_type":{"c2c84662":"code","fce1470c":"code","acd745b0":"code","92a721e7":"code","0cd52122":"code","5c14a36a":"code","5584d8fa":"code","933312fe":"code","cadedd53":"code","66223a12":"code","e2ff90e3":"code","29d6040b":"code","911ac68c":"code","9bcbbe41":"code","da27a4b8":"code","d65e7e31":"code","194fef67":"code","4980185e":"code","275da201":"code","2d346243":"code","c1ec78f7":"markdown","0c0f1074":"markdown","e00bc80d":"markdown","2d2737f8":"markdown","bd7bda26":"markdown","9714449b":"markdown","6e4aa05d":"markdown","75723010":"markdown","a96de37b":"markdown","d180e92d":"markdown","7ad2806e":"markdown","2e3886c0":"markdown","f52249f6":"markdown","c2e8f82d":"markdown","956271d6":"markdown","278dc006":"markdown","0ca3634a":"markdown","8353e982":"markdown","1946444c":"markdown","63732447":"markdown","83842e5f":"markdown","4f19fdf8":"markdown"},"source":{"c2c84662":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport plotly as py\nimport cufflinks as cf\ncf.go_offline()\npd.set_option('display.max_columns', 30)","fce1470c":"data = pd.read_csv(\"..\/input\/honey-with-neonic-pesticide\/vHoneyNeonic_v03.csv\")","acd745b0":"data.head()","92a721e7":"data.shape","0cd52122":"data.columns","5c14a36a":"data.insert(loc=3, column='yieldpercol_kg', value=data[\"yieldpercol\"]*0.45359237)\ndata.insert(loc=5, column='totalprod_kg', value=data[\"totalprod\"]*0.45359237)\ndata.insert(loc=6, column='totalprod_to', value=data[\"totalprod\"]*0.00045359237)\ndata.insert(loc=8, column='stocks_to', value=data[\"stocks\"]*0.00045359237)\ndata.insert(loc=10, column='priceperkg', value=data[\"priceperlb\"]\/0.45359237)\ndata.insert(loc=11, column='pricepertonne', value=data[\"priceperlb\"]\/0.00045359237)\ndata.head()","5584d8fa":"data = data.rename(columns={\"nCLOTHIANIDIN\": \"CLOTHIANIDIN\", \"nIMIDACLOPRID\": \"IMIDACLOPRID\",\n                     \"nTHIAMETHOXAM\": \"THIAMETHOXAM\", \"nACETAMIPRID\": \"ACETAMIPRID\",\n                    \"nTHIACLOPRID\": \"THIACLOPRID\",\"nAllNeonic\":\"AllNeonic\"})\ndata.to_csv('vHoneyNeonic_v04.csv')","933312fe":"data.isnull().sum()","cadedd53":"data = data.dropna()","66223a12":"data.shape","e2ff90e3":"data.groupby(\"StateName\")['totalprod_to'].sum().sort_values(ascending=False)[:10]","29d6040b":"data.groupby(\"Region\")['totalprod_kg'].sum().sort_values(ascending=False)","911ac68c":"evo_price = data.groupby(\"year\", as_index=False).agg({'priceperkg':'mean'})\nevo_price.iplot(kind='line', x='year', xTitle='Year', color='orange',\n           yTitle='Price of honey (dollars)', title='Evolution of the price of honey')","9bcbbe41":"prod_by_year = data.groupby(\"year\", as_index=False).agg({'totalprod_to':'mean'})\nprod_by_year.iplot(kind='bar', x='year', xTitle='Year', color='red',\n           yTitle='Production of honey (Tonne)', title='Evolution of the production of honey')","da27a4b8":"data['priceperkg'].corr(data['totalprod_kg'])","d65e7e31":"data.groupby(\"StateName\")['AllNeonic'].sum().sort_values(ascending=False)","194fef67":"evo_neonic = data.groupby(\"year\", as_index=False).agg({'AllNeonic':'mean'})\nevo_neonic.iplot(kind='bar', x='year', xTitle='Year', color='green',\n           yTitle='Use of Neonic pesticides (kg)', title='Evolution of the use of Neonic pesticides')","4980185e":"data['totalprod_kg'].corr(data['AllNeonic'])","275da201":"evo_col = data.groupby(\"year\", as_index=False).agg({'numcol':'count'})\nevo_col.iplot(x='year', xTitle='Year', color='purple',\n           yTitle='Number of colonies', title='Evolution of the number of colonies')","2d346243":"data['numcol'].corr(data['AllNeonic'])","c1ec78f7":"### Production by year ","0c0f1074":"## Data Analyse","e00bc80d":"### I convert the columns using pounds to kg ","2d2737f8":"There is an 4460% increase of use of Neonic between 1995 and 2014 !","bd7bda26":"### Is there a correlation between the price and the production ? ","9714449b":"### Deleting rows with missing values because they concern Neonic pesticides features and I want to analyze their effects on the honey production. We already know that 237 honey producers that were'nt analyze or did'nt want to display this information","6e4aa05d":"### Importing dataset","75723010":"The correlation is low between the number of colonies and the use of Neonic pesticides (19%)","a96de37b":"### Is there a correlation between the production and the use of Neonic ?","d180e92d":"### Evolution of the use of Neonic pesticides ","7ad2806e":"### Use of Neonic by state","2e3886c0":"### Is there a correlation between the number of colonies and the use of Neonic pesticides ?","f52249f6":"The data come from Kevin Zmith on [Kaggle](https:\/\/www.kaggle.com\/kevinzmith\/honey-with-neonic-pesticide), inspired by the dataset Honey Production in the USA, extended to the period 1998-2017. Additionnaly, the data from USGS's Pesticide National Synthesis Project has been agregated, allowing evaluation of the statistical connections between Honey Production and the use of Neonicotinoid (neonic) pesticides.","c2e8f82d":"The price of honey has seen a five-fold increase in 12 years !","956271d6":"# <center>Honeybees and Neonic Pesticides<\/center>\n## <center>Are Neonic pesticides connected to the decline of bees colonies?<\/center>","278dc006":"The production only has a 23% impact on the price of honey ! Other features should enter into account... The market ?","0ca3634a":"### Evolution of the price of honey","8353e982":"The correlation is low between the production of honey and the use of Neonic pesticides (11%)","1946444c":"<img src='https:\/\/images.newscientist.com\/wp-content\/uploads\/2017\/07\/25204611\/p8401619.jpg'>","63732447":"## Data cleaning","83842e5f":"### Libraries","4f19fdf8":"### Top 10 of States producing honey"}}