{"cell_type":{"da3e3565":"code","21893df4":"code","e700c5c2":"code","e18b855e":"code","69256357":"code","0159789f":"code","8819edd2":"code","05e08c79":"code","198e6e1b":"code","452bbc50":"code","232ff82d":"code","158508ae":"code","4f1feed4":"code","b02ab602":"code","f2ca3061":"code","da6ae4f7":"code","7fb0e46a":"code","a35dc2e0":"code","cd15c227":"code","5692901d":"code","4ea7e3b7":"code","b91c7307":"code","58775e54":"code","9148d28b":"code","ed685855":"code","9140fd27":"code","9613261b":"code","18cdc178":"code","c63448ae":"code","fda64b0b":"code","a0a3143e":"code","18d42725":"code","ddc3e630":"code","b8ac8c55":"code","faf840e1":"code","a49d357a":"code","430c713f":"code","c3f3d569":"code","ca4700f7":"code","fa85aaf9":"code","169650a2":"markdown","9a6ac141":"markdown","c95d6780":"markdown","811fd73d":"markdown","b837c0b7":"markdown","76642a7f":"markdown","1088db94":"markdown","e185f66f":"markdown","6c5ddf1c":"markdown"},"source":{"da3e3565":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","21893df4":"rain_fall_df=pd.read_csv('\/kaggle\/input\/weather-dataset-rattle-package\/weatherAUS.csv')","e700c5c2":"rain_fall_df.RainTomorrow.value_counts()","e18b855e":"rain_fall_df.info()","69256357":"for col in rain_fall_df.columns:\n    print(round((1-rain_fall_df[col].count()\/len(rain_fall_df.index)),2)*100,col)","0159789f":"rain_fall_df.Sunshine=rain_fall_df.Sunshine.fillna(rain_fall_df.Sunshine.mean())\nrain_fall_df.Cloud9am=rain_fall_df.Cloud9am.fillna(rain_fall_df.Cloud9am.mean())\nrain_fall_df.Cloud3pm=rain_fall_df.Cloud3pm.fillna(rain_fall_df.Cloud3pm.mean())\nrain_fall_df.Evaporation=rain_fall_df.Evaporation.fillna(rain_fall_df.Evaporation.mean())","8819edd2":"rain_fall_df","05e08c79":"rain_fall_df.info()","198e6e1b":"for col in rain_fall_df.columns:\n    if str(rain_fall_df[col].dtype)==\"object\":\n        print(\"yes\")\n        rain_fall_df[col]=rain_fall_df[col].fillna(rain_fall_df[col].mode()[0])\n    else:\n        rain_fall_df[col]=rain_fall_df[col].fillna(rain_fall_df[col].mean())\n        ","452bbc50":"rain_fall_df.info()","232ff82d":"plt.figure(figsize=(10,50))\nsns.boxplot(data=rain_fall_df,x='RainTomorrow',y='Rainfall')\nplt.show()","158508ae":"rain_fall_df[rain_fall_df['Rainfall']>150]","4f1feed4":"rain_fall_df=rain_fall_df[rain_fall_df['Rainfall']<150]","b02ab602":"plt.figure(figsize=(10,50))\nsns.boxplot(data=rain_fall_df,x='RainTomorrow',y='Rainfall')\nplt.show()","f2ca3061":"#### outliers WindGustSpeed\n","da6ae4f7":"sns.boxplot(data=rain_fall_df,x='RainTomorrow',y='WindGustSpeed')","7fb0e46a":"sns.boxplot(data=rain_fall_df,x='RainTomorrow',y='WindSpeed9am')","a35dc2e0":"rain_fall_df=rain_fall_df[rain_fall_df['WindSpeed9am']<70]","cd15c227":"rain_fall_df","5692901d":"sns.boxplot(data=rain_fall_df,x='RainTomorrow',y='WindSpeed3pm')","4ea7e3b7":"rain_fall_df=rain_fall_df[rain_fall_df['WindSpeed3pm']<70]","b91c7307":"rain_fall_df","58775e54":"rain_fall_df.RainToday=rain_fall_df.RainToday.apply(lambda x: 1 if x=='Yes' else 0)","9148d28b":"rain_fall_df.RainTomorrow=rain_fall_df.RainTomorrow.apply(lambda x: 1 if x.strip()=='Yes' else 0)","ed685855":"from sklearn import preprocessing\nlabel_encoder = preprocessing.LabelEncoder()\n# Encode labels in column 'Country'. \nrain_fall_df['Location']= label_encoder.fit_transform(rain_fall_df['Location']) \nrain_fall_df['WindGustDir']= label_encoder.fit_transform(rain_fall_df['WindGustDir']) \nrain_fall_df['WindDir9am']= label_encoder.fit_transform(rain_fall_df['WindDir9am']) \nrain_fall_df['WindDir3pm']= label_encoder.fit_transform(rain_fall_df['WindDir3pm']) \nprint(rain_fall_df)","9140fd27":"rain_fall_df['year']=pd.DatetimeIndex(rain_fall_df['Date']).year\nrain_fall_df['month']=pd.DatetimeIndex(rain_fall_df['Date']).month\nrain_fall_df['day']=pd.DatetimeIndex(rain_fall_df['Date']).day","9613261b":"rain_fall_df","18cdc178":"rain_fall_df.drop('Date',axis=1,inplace=True)","c63448ae":"rain_fall_df['RainToday'].value_counts()","fda64b0b":"rain_fall_df","a0a3143e":"plt.figure(figsize=(15,15))\nsns.heatmap(rain_fall_df.corr(),annot=True)\nplt.show()","18d42725":"rain_fall_df=rain_fall_df.drop(['Pressure9am','Temp9am','MinTemp','MaxTemp'],axis=1)","ddc3e630":"rain_fall_df","b8ac8c55":"from sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import GridSearchCV\nfrom xgboost import XGBClassifier\nfrom sklearn.model_selection import train_test_split","faf840e1":"Y=rain_fall_df.pop('RainTomorrow')\nX=rain_fall_df","a49d357a":"X_train,X_test,Y_train,Y_test=train_test_split(X,Y,test_size=0.3,random_state=42)","430c713f":"X_train","c3f3d569":"model=XGBClassifier(random_state=42,verbosity = 0,n_jobs=-1)\nmodel.fit(X_train, Y_train)","ca4700f7":"y_pred = model.predict(X_test)","fa85aaf9":"print(accuracy_score(y_pred,Y_test))","169650a2":"### Check missing values","9a6ac141":"#### Convert RainToday,RainTomorrow categorical into numerical\n","c95d6780":"### Check for outliers","811fd73d":"#### fill missing values for other variables","b837c0b7":"Check missing values percentages","76642a7f":"Looks like there are outliers in below varaibles\n- Rainfall\n- WindGustSpeed\n- Windspeed9am\n- WindSpeed3pm\n","1088db94":"#### WindSpeed3pm","e185f66f":"There is high correlation between\n - Pressure9am and Presure3pm\n - Temp9am and temp3pm\n - Mintemp and temp3pm\n - Maxtemp and temp3pm\n \nSo i am going to drop below columns\n  Pressure9am,Temp9am,Mintemp,Maxtemp","6c5ddf1c":"#### Windspeed9am"}}