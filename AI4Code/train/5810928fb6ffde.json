{"cell_type":{"aee728db":"code","a9377dfd":"code","f2c5d648":"code","2fd00a19":"code","2e34c3b4":"code","4c8e8751":"code","8fe2eb98":"code","8d896060":"code","1d41fb84":"markdown","02020549":"markdown","f10a629e":"markdown"},"source":{"aee728db":"from sklearn import tree\nfrom sklearn.datasets import load_wine\nfrom sklearn.model_selection import train_test_split\nimport pandas as pd\nimport numpy as np","a9377dfd":"wine = load_wine()\nwine.keys()","f2c5d648":"#\u770b\u4e0bdata\u548ctarget\npd.concat([pd.DataFrame(wine.data),pd.DataFrame(wine.target)],axis=1)","2fd00a19":"wine.feature_names","2e34c3b4":"Xtrain, Xtest, Ytrain, Ytest = train_test_split(wine.data,wine.target,test_size=0.3,random_state=3)\nXtrain.shape, Xtest.shape","4c8e8751":"clf = tree.DecisionTreeClassifier(criterion=\"entropy\",random_state=3) # criterion\u53ef\u9009entropy\u548cgini\uff0c\u516c\u5f0f\u4e0a\u9762\u5df2\u7ed9\u51fa\u7ed9\u51fa\nclf = clf.fit(Xtrain, Ytrain)\nscore = clf.score(Xtest, Ytest) #\u8fd4\u56de\u9884\u6d4b\u7684\u51c6\u786e\u5ea6\nscore","8fe2eb98":"feature_name = ['\u9152\u7cbe','\u82f9\u679c\u9178','\u7070','\u7070\u7684\u78b1\u6027','\u9541','\u603b\u915a','\u7c7b\u9ec4\u916e','\u975e\u9ec4\u70f7\u7c7b\u915a\u7c7b','\u82b1\u9752\u7d20','\u989c\u8272\u5f3a\u5ea6','\u8272\u8c03','od280\/od315\u7a00\u91ca\u8461\u8404\u9152','\u812f\u6c28\u9178']\nimport graphviz\ndot_data = tree.export_graphviz(clf, out_file=None, feature_names=feature_name, class_names = [\"\u7434\u9152\", \"\u96ea\u8389\", \"\u8d1d\u5c14\u6469\u5fb7\"], filled = True, rounded = True)\ngraph = graphviz.Source(dot_data)\ngraph","8d896060":"# \u7279\u5f81\u91cd\u8981\u6027\nclf.feature_importances_","1d41fb84":"\u6ce8\u610f\uff1asklearn\u6bcf\u6b21\u5206\u679d\u65f6\u4e0d\u4f7f\u7528\u5168\u90e8\u7279\u5f81\uff0c\u968f\u673a\u9009\u53d6\u4e00\u90e8\u5206\u7279\u5f81\uff0c\u4ece\u4e2d\u9009\u53d6\u4e0d\u7eaf\u5ea6\u76f8\u5173\u6307\u6807\u6700\u4f18\u7684\u4f5c\u4e3a\u5206\u679d\u7528\u7684\u8282\u70b9\uff0c\u8fd9\u6837\u6bcf\u6b21\u751f\u6210\u7684\u6811\u4e5f\u5c31\u4e0d\u540c\u4e86\uff0c\u6240\u4ee5\u7528random_state\u6765\u4fdd\u8bc1\u6bcf\u6b21\u8f93\u51fa\u7ed3\u679c\u90fd\u4e00\u6837","02020549":"\u71b5\u548cgini\u7cfb\u6570\u7684\u8ba1\u7b97\u516c\u5f0f, p(i|t)\u6307\u5728t\u6761\u4ef6\u4e0bi\u53d1\u751f\u7684\u6982\u7387\uff1a\n\n<!--  Entropy(t) = -\\sum_{i=0}^{c-1}p_{(i|t)}*log_2p_{(i|t)}  -->\n![loading...](https:\/\/latex.codecogs.com\/svg.image?Entropy%28t%29%20=%20-%5Csum_%7Bi=0%7D%5E%7Bc-1%7Dp_%7B%28i%7Ct%29%7D*log_2p_%7B%28i%7Ct%29%7D)\n\n<!--  Gini(t) = \\sum_{i=0}^{c-1}p_{(i|t)}*(1-p_{(i|t)})=1-\\sum_{i=0}^{c-1}p_{(i|t)}^2  -->\n![loading...](https:\/\/latex.codecogs.com\/svg.image?Gini%28t%29%20=%20%5Csum_%7Bi=0%7D%5E%7Bc-1%7Dp_%7B%28i%7Ct%29%7D*%281-p_%7B%28i%7Ct%29%7D%29=1-%5Csum_%7Bi=0%7D%5E%7Bc-1%7Dp_%7B\\%28i%7Ct\\%29%7D%5E2)","f10a629e":"\u4ee5\u4e0b\u662f\u7528sklearn\u81ea\u5e26\u7684\u7ea2\u9152\u6570\u636e\u96c6\u6765\u4e3e\u4f8b"}}