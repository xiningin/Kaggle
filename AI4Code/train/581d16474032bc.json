{"cell_type":{"733e66d7":"code","401dbef0":"code","74222b44":"code","ff6856df":"code","9be046a1":"code","83f2f828":"code","0a640fb4":"code","44b1bc74":"code","aa8034bc":"markdown","3ae9b165":"markdown","14e42822":"markdown","be289ff4":"markdown","98e9afd7":"markdown","e7a6f290":"markdown"},"source":{"733e66d7":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport os\ndataset = pd.read_csv('..\/input\/who_suicide_statistics.csv')\n","401dbef0":"# Change country into category\ndataset['country'].astype('category')\n\n# Change sex to isMale and isFemale and remove sex column\ndataset['isMale'] = dataset['sex'] == 'male'\ndataset['isFemale'] = dataset['sex'] == 'female'\ndataset.drop('sex', axis = 1, inplace = True)\n\n# Drop rows with no suicides numbers or population. (nan)\ndataset.dropna(subset=['suicides_no'], inplace = True)\ndataset.dropna(subset=['population'], inplace = True)\n\ndataset['age'].astype('category', inplace = True)\n\ndataset['population_suicide_ratio'] = dataset['suicides_no']\/dataset['population']* 100\n\nage_int = {'5-14 years':0,\n            '15-24 years':1,\n            '25-34 years':2,\n            '35-54 years':3,\n            '55-74 years':4,\n            '75+ years':5}\n\ndataset['age_int_type'] = dataset['age'].map(age_int)\n\ndataset.head()","74222b44":"sns.heatmap(dataset.corr(),linewidths=.5,cmap=\"YlGnBu\")\nplt.show()","ff6856df":"minAgeGroupby = dataset.groupby('country')['suicides_no'].sum().sort_values(ascending = False)\nminAgeGroupby.head(10).plot.bar(title = \"Country With must suicides count\", rot=100,figsize=(10, 5))\nplt.ylabel('suicides count')\nplt.show()\nminAgeGroupby = dataset.groupby('country')['population_suicide_ratio'].mean().sort_values(ascending = False)\nminAgeGroupby.head(10).plot.bar(title = \"Country With must suicides ratio in population\", rot=100,figsize=(10, 5))\nplt.ylabel('population suicide ratio mean')\nplt.show()","9be046a1":"maxSuicides = dataset.loc[dataset['suicides_no'].idxmax()]\nprint(\"The most suicides was in\",maxSuicides.country)\nprint(\"In year\",maxSuicides.year)\nprint(\"Percent of population was suicides:\",maxSuicides.population_suicide_ratio*100)\nprint()\n\nprint(\"Probably because of the black tuesday in russian, When the ruble collapsed dramatically against the dollar\")\nprint(\"for more info look at: http:\/\/www.pravdareport.com\/business\/122425-black_tuesday\")","83f2f828":"yearGroupby = dataset.groupby('year')\nyearGroupby['suicides_no'].sum().plot(title = \"Suicides by year\",grid=True)\nplt.show()\n\nyearGroupby['population_suicide_ratio'].mean().plot(title = \"Suicides population ratio by year\",grid=True)\nplt.show()\n\n# year with the most suicides in the wolrd\nsuicidesMaxYear = yearGroupby['suicides_no'].sum().idxmax()\nsuicidesMaxYearCount = yearGroupby['suicides_no'].sum().max()\nprint(\"year with the most suicides in the world\",suicidesMaxYear,\"with:\",suicidesMaxYearCount,\"suicides\")\nsuicidesMinYear = yearGroupby['suicides_no'].sum().idxmin()\nsuicidesMinYearCount = yearGroupby['suicides_no'].sum().min()\nprint(\"year with the less suicides in the world\",suicidesMinYear,\"with:\",suicidesMinYearCount,\"suicides\")\n\ndataset['year'].plot.box()\nplt.show()","0a640fb4":"dic = {0:'5-14 years',\n      1:'15-24 years',\n      2:'25-34 years',\n      3:'35-54 years',\n      4:'55-74 years',\n      5:'75+ years'}\n\nsuicide = dataset.groupby('age_int_type')[['suicides_no']]\nplt.figure(figsize=(10,5))\nsuicide.sum().plot(color = 'blue',figsize=(10, 5), grid = True)\nsns.barplot(x=suicide.sum().index.map(dic.get),y=suicide.sum().suicides_no, alpha=0.7)\nplt.show()","44b1bc74":"fig, axes = plt.subplots(nrows=1, ncols=2)\nfig.tight_layout()\n\ndataset.groupby('isMale').sum()['suicides_no'].plot.bar(ax=axes[0],figsize=(13, 3),rot=100,title = \"Male suicides\")\ndataset.groupby('isFemale').sum()['suicides_no'].plot.bar(ax=axes[1],figsize=(13, 3),rot=100,title = \"Female suicides\")\nplt.show()","aa8034bc":"## Cleaning the data","3ae9b165":"## Countrys suicides","14e42822":"The suicides numbers was increase until ~2000 and start to dicrise until 2016 (when we have large slop in 2015-2016 - what look like lack of information)\n\nWhen we look at the reaio between the population to suicides we can see thw slop down, but in 2016 we see start of increasing\n","be289ff4":"We can see the ages suicides has more or less Normal distribution. and the main suicides is in age 35-54 years","98e9afd7":"The countrys with the must suicides - Russian and USA, \nBut when we look at the ratio of population we can see Hungary and Lithuania at the top. (russian is still and the top 10) ","e7a6f290":"## Male Vs Female"}}