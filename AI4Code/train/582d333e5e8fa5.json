{"cell_type":{"3e353a1f":"code","fabffa96":"code","66529b72":"code","20ee05f8":"code","f9ea7e1f":"code","7557a4b0":"code","989704dd":"code","18f8de67":"code","e557a340":"markdown","f6d6b01d":"markdown","6015df73":"markdown","69dba815":"markdown","ea7cfbcb":"markdown","3a9c682b":"markdown","ecd47c08":"markdown"},"source":{"3e353a1f":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy.stats import ttest_ind\nimport scipy.stats as stats\n\n","fabffa96":"raw_data = pd.read_csv('..\/input\/Family Income and Expenditure.csv')\nprint('Shape: ', raw_data.shape)\n#print('Columns: ', raw_data.columns)\nprint('Household Head Sex (HHS): ', raw_data['Household Head Sex'].unique())\nprint('Number of rows per HHS: ', raw_data.groupby('Household Head Sex')['Household Head Sex'].count())\n\n","66529b72":"female = raw_data[raw_data['Household Head Sex'] == 'Female']\nfemale_rowcount = len(female.index)\nmale = raw_data[raw_data['Household Head Sex'] == 'Male']\nmale_rowcount = len(male.index)\nprint('HOUSEHOLD HEAD SEX (HHS)')\nprint ('Number of rows where HHS is Female: ', female_rowcount, 'Percentage: ', \"{:.2%}\".format(female_rowcount\/(female_rowcount+male_rowcount)))\nprint ('Number of rows where HHS is Male: ', male_rowcount, 'Percentage: ', \"{:.2%}\".format(male_rowcount\/(female_rowcount+male_rowcount)))\nprint('TOTAL HOUSEHOLD INCOME (THI)')\nprint ('Mean THI where HHS is Female: ', \"{:,.2f}\".format(female['Total Household Income'].mean()))\nprint ('Mean THI where HHS is Male: ', \"{:,.2f}\".format(male['Total Household Income'].mean()))\n","20ee05f8":"plt.figure(figsize=(10,10))\n#plt.ylim(0, 5000000)\nplt.xticks(rotation=30)\n#plt.axes.ticklabel_format(axis='y', style='plain')\n#graph = sns.scatterplot(x=raw_data['Region'], y=raw_data['Total Household Income'], hue=raw_data['Household Head Sex'], hue_order=['Male', 'Female'])\ngraph = sns.scatterplot(x=raw_data['Household Head Sex'], y=raw_data['Total Household Income'], hue=raw_data['Household Head Sex'], hue_order=['Male', 'Female'])\nylabels = ['{:,}'.format(y) for y in graph.get_yticks()]\ngraph.set_yticklabels(ylabels)\n","f9ea7e1f":"print('Region: ', raw_data['Household Head Sex'].unique())\nprint('Number of rows per Region: ', raw_data.groupby('Region')['Region'].count())\n\nfemalebyreg = female.groupby('Region')['Household Head Sex'].count().to_frame()\nfemalebyreg.rename(columns={'Household Head Sex': 'Female HHS Count'}, inplace=True)\n#print(femalebyreg)\nmalebyreg = male.groupby('Region')['Household Head Sex'].count().to_frame()\nmalebyreg.rename(columns={'Household Head Sex': 'Male HHS Count'}, inplace=True)\n#print(malebyreg)\nfemalebyregincome = female.groupby('Region')['Total Household Income'].mean().to_frame()\nfemalebyregincome.rename(columns={'Total Household Income': 'Female THI Mean'}, inplace=True)\n#print(femalebyregincome)\nmalebyregincome = male.groupby('Region')['Total Household Income'].mean().to_frame()\nmalebyregincome.rename(columns={'Total Household Income': 'Male THI Mean'}, inplace=True)\n#print(malebyregincome)\nhhsbyreg = pd.concat([femalebyreg, malebyreg, femalebyregincome, malebyregincome], axis=1)\n#print(hhsbyreg.columns)\nhhsbyreg['Diff in THI Mean'] = hhsbyreg['Female THI Mean'] - hhsbyreg['Male THI Mean'] \nprint(hhsbyreg[['Female THI Mean', 'Male THI Mean']])","7557a4b0":"hhsbyreg['Female THI Mean'] - hhsbyreg['Male THI Mean'] ","989704dd":"# Both datasets do not follow normal distribution\n\n#income = male['Total Household Income'].tolist()\nincome = female['Total Household Income'].tolist()\nincome.sort()\nincomemean = np.mean(income)\nincomestd = np.std(income)\nprint(incomemean, incomestd)\nfit = stats.norm.pdf(income, incomemean, incomestd)\nplt.plot(income, fit)\nplt.show()","18f8de67":"t, p = ttest_ind(female['Total Household Income'], male['Total Household Income'])\ndifferent = \"Reject NULL Hypothesis\" if p < 0.01 else \"NULL Hypothesis can't be rejected\"\nprint(\"t test results, p is compared to 0.01\")\nprint (\"t = \", t)\nprint (\"p = \", p)\nprint(\"Conclusion: \", different)","e557a340":"**Hypothesis**  \nThere's a significant difference in Total Household Income between households with male head and households with female head","f6d6b01d":"**Comparing Data by Household Head Sex (HHS)**","6015df73":"**Introduction**\n\nThis is an exercise on pandas, graphs and a little statistics.  The main goal is to get an insight on the difference on Filipino Household Total Income based on who is the head of the family - male or female. ","69dba815":"It is important to note that t test result does not prove that the alternate hypothesis is true. It is showing evidence that NULL hypothesis is false.  ","ea7cfbcb":"Note:  A hypothesis is a statement that can be tested. Hypothesis testing is the use of methods in statistics to determine the probability that a given hypothesis is true. There are two types of hypothesis:\n1.  Alternative \u2013 the hypothesis we hold from the statement we want to be tested\n2.  Null \u2013 the hypothesis that proposes that no statistical relationship and significance exists in the set of given observations\n\nThe method used to test the hypothesis is t test. T test is one type of inferential statistics used to determine whether there is a significance difference between the means of two groups. Alpha is set to 0.01","3a9c682b":"This aggregation by Region is just to inspect the data","ecd47c08":"**Loading and Inspecting the Data**"}}