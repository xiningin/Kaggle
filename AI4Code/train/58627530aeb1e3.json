{"cell_type":{"ac88c253":"code","b31406bb":"code","f4b13998":"code","688627d2":"code","b41ef3d8":"code","62b5bcde":"code","19d5442e":"code","47fc546a":"code","c45deb1a":"code","6abbec43":"code","2ee139df":"code","6e21b17e":"code","5a49cd90":"code","c46e98f1":"code","08b9431c":"code","bbcc2636":"code","fd41e8ee":"code","8128a0ea":"code","d463807a":"code","82ccb785":"code","03dead02":"code","8203ddae":"code","3aaee1a2":"code","768fbe71":"code","364758ae":"code","2ccd7d77":"code","534542ae":"code","7137136a":"code","c53ce3f4":"markdown","4691b8dc":"markdown","cba00f11":"markdown","5768da70":"markdown","330d3388":"markdown","2ca81ef1":"markdown"},"source":{"ac88c253":"#import library\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression, Ridge, Lasso\nfrom sklearn import metrics","b31406bb":"point = pd.read_csv('..\/input\/college-basketball-players-20092021\/CollegeBasketballPlayers2009-2021.csv')","f4b13998":"point.shape","688627d2":"point.head()","b41ef3d8":"#rename attribute \npoint = point.rename(columns = {'Unnamed: 64' : 'role_position'})\npoint.head()","62b5bcde":"#drop attribute \npoint = point.drop('Unnamed: 65', 1)\npoint.head()","19d5442e":"point.describe()","47fc546a":"point.info()","c45deb1a":"#handling missing value\npoint.dropna(inplace = True)","6abbec43":"#heatmap correlation\nplt.figure(figsize = (12,9))\nsns.heatmap(point.corr(), vmax = 0.9, square = True)\nplt.title(\"Pearson Correlation\")\nplt.show()","2ee139df":"#handling categorical data\ndf = pd.get_dummies(point, drop_first = True)\ndf.head()","6e21b17e":"#split data\nX = df.drop('pts', axis = 1)\ny = df['pts']\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.3, random_state = 0)\nprint(X_train.shape)\nprint(y_train.shape)\nprint(X_test.shape)\nprint(y_test.shape)","5a49cd90":"#Linear Regression\nlr = LinearRegression()\n%time lr.fit(X_train, y_train)\nlr.score(X_test, y_test)","c46e98f1":"#Ridge Regression\nridge = Ridge(alpha = 0.5)\n%time ridge.fit(X_train, y_train)\nridge.score(X_test, y_test)","08b9431c":"#Lasso Regression\nlasso = Lasso(alpha = 0.5)\n%time lasso.fit(X_train, y_train)\nlasso.score(X_test, y_test)","bbcc2636":"#prediction\ny_pred = ridge.predict(X_test)\nprint(y_pred)","fd41e8ee":"#check MAE, MSE & RMSE\nprint('Mean Absolute Error : ', metrics.mean_absolute_error(y_test, y_pred).round(2))\nprint('Mean Squared Error : ', metrics.mean_squared_error(y_test, y_pred).round(2))\nprint('Root Mean Squared Error : ', np.sqrt(metrics.mean_absolute_error(y_test, y_pred).round(2)))","8128a0ea":"#distribution\nplt.figure(figsize = (10,6))\nsns.distplot(df['pts'], color = 'r')\nplt.title(\"Distribution of Points\")\nplt.show()","d463807a":"#defining feature\ncoef = pd.Series(ridge.coef_, index = X.columns)\n\nimp_coef = pd.concat([coef.sort_values().head(10),\n                     coef.sort_values().tail(10)])","82ccb785":"#visualize feature\nplt.figure(figsize = (10,6))\nimp_coef.plot(kind = 'barh', color = 'darkorange')\nplt.title(\"Feature Importance\")\nplt.xlabel('Score')\nplt.ylabel('Features')\nplt.show()","03dead02":"#visualize conference\nplt.figure(figsize = (10,6))\nchart = sns.countplot(point['conf'], palette = 'Set1')\nchart.set_xticklabels(chart.get_xticklabels(), rotation = 45)\nplt.title(\"Conference\")\nplt.show()","8203ddae":"#visualize conference ~ points\nplt.figure(figsize = (10,6))\nchart = sns.boxplot(data = point, x = 'conf', y = 'pts', palette = 'Set2')\nchart.set_xticklabels(chart.get_xticklabels(), rotation = 45)\nplt.title(\"Conference ~ Points\")\nplt.show()","3aaee1a2":"#visualize year of college\nplt.figure(figsize = (8,6))\nsns.countplot(point['yr'])\nplt.title(\"Year of College\")\nplt.show()","768fbe71":"#visualize year of college ~ point\nplt.figure(figsize = (8,6))\nsns.boxplot(data = point, x = 'yr', y = 'pts', palette = 'Set1')\nplt.title(\"Year of College\")\nplt.show()","364758ae":"#visualize role position\nplt.figure(figsize = (10,6))\nsns.countplot(point['role_position'], palette = 'Set2')\nplt.title(\"Role Position\")\nplt.show()","2ccd7d77":"#visualize role position ~ point\nplt.figure(figsize = (10,6))\nsns.boxplot(data = point, x = 'role_position', y = 'pts')\nplt.title(\"Role Position ~ Points\")\nplt.show()","534542ae":"#group role position & year of college\nrole_year = point.groupby(['role_position', 'yr']).size().reset_index(name = 'Count')\nprint(role_year)","7137136a":"#visualize role position ~ Year of College\nplt.figure(figsize = (12,6))\nsns.barplot(x = 'role_position', y = 'Count', hue = 'yr', data = role_year, palette = 'Set1')\nplt.title(\"Role Position ~ Year of College\")\nplt.legend(bbox_to_anchor = (1.08, 1), borderaxespad = 0)\nplt.show()","c53ce3f4":"## Regression Model","4691b8dc":"## Data Extraction","cba00f11":"## Visualization","5768da70":"## Check Feature Importance","330d3388":"### Ridge Regression Model is the best score result","2ca81ef1":"# Points Prediction College Basketball 2009-2021 + NBA Advanced Stats "}}