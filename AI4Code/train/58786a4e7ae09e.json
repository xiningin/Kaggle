{"cell_type":{"b482a591":"code","1ddd0d0b":"code","8754f90d":"code","6d4e25b9":"code","a8d89604":"code","fd8f547f":"code","635f827f":"code","97b3147e":"code","9e1c6c7b":"code","1e89bbbd":"code","e5dfdfee":"code","4279f923":"code","4b4ce2d9":"code","981c350d":"code","c7b39a76":"markdown","75833344":"markdown","c8b49e50":"markdown","546e3aa4":"markdown","bd5b97c7":"markdown","f7641868":"markdown","0a592416":"markdown","42b4c6a3":"markdown","6e15b0ae":"markdown","475696db":"markdown","9b69d254":"markdown","df6c232b":"markdown","ba473831":"markdown"},"source":{"b482a591":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","1ddd0d0b":"import pandas as pd\nimport matplotlib.pyplot as plt\nplt.style.use('fivethirtyeight')\nplt.style.use('dark_background')\nimport numpy as np\nimport seaborn as sns\n\nfrom ipywidgets import interact, interactive, fixed\nimport ipywidgets as widgets\nfrom IPython.display import display\n\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots\n\nimport warnings\nwarnings.filterwarnings('ignore')","8754f90d":"data=pd.read_csv(\"\/kaggle\/input\/500-richest-people-2021\/500 richest people 2021.csv\",delimiter=\";\")\ndisplay(data.head())\ndisplay(data.info())","6d4e25b9":"data.drop([\"Unnamed: 7\",\"Unnamed: 8\",\"Unnamed: 9\",\"Unnamed: 10\"],inplace=True,axis=1) #Drop unname columns at the end.\ndata.drop([499,500,501,502],inplace=True,axis=0) #Drop null rows at the end.\ndata.fillna(0,inplace=True,axis=1) #Replace null values with 0.\ndata=data.replace(['\\$',\" \"],'',regex=True) #Remove special characters and unwanted spaces.\ndata=data.replace(\"Canda\",\"Canada\",regex=True) #In some rows, the country \"Canada\" was wrongly mentioned as \"canda\", so had to change that.\ndata[\"Total Net Worth\"]=data[\"Total Net Worth\"].replace(\"B\",\"\",regex=True) #Remove the billion symbol \"B\".\ndata[\"Total Net Worth\"]=pd.to_numeric(data[\"Total Net Worth\"],errors=\"coerce\") #Convert the net worth column from string to float.\ndisplay(data.head())","a8d89604":"#Total Net Worth\nTNW = go.Figure(make_subplots(rows=1, cols=2,column_widths=[0.75, 0.25],horizontal_spacing=0.1,specs=[[{}, {}]],\n                      subplot_titles=(\"Line Plot\", \"Violin Plot\",\"Dist Plot\"))\n                 )\nTNW.add_trace(\n    go.Scatter(x=data[\"Rank\"],y=data[\"Total Net Worth\"],\n               mode=\"lines\",\n               name=\"Line Plot\",\n               marker = dict(color = 'cyan')),\n    row=1,col=1\n)\nTNW.add_trace(\n    go.Violin(y=data['Total Net Worth'], box_visible=True, line_color='black',meanline_visible=True, fillcolor='cyan', opacity=0.6,name=\" \"),\n    row=1,col=2\n)\nTNW.update_xaxes(title_text=\"Rank\", row=1, col=1)\nTNW.update_xaxes(title_text=\"Rank\", row=1, col=2)\nTNW.update_yaxes(title_text=\"Net Worth ($B)\", row=1, col=1)\nTNW.update_yaxes(title_text=\"Net Worth ($B)\", row=1, col=2)\n\nTNW.update_layout(\n    title_text=\"Total Net Worth Of Billionaires\",\n    paper_bgcolor='grey',\n    margin=dict(l=20,r=10,b=50,t=50),\n    height=500,\n    width=1200,\n)\nTNW.show()\n\n#Distplot\nplt.figure(figsize=(20,6))\nsns.distplot(data[\"Total Net Worth\"],color=\"cyan\")\nplt.title(\"Distribution Plot\")\nplt.show()\n\nprint(\"Percentage of people having net worth below $50B: {}%\".format(round(((len(data[data[\"Total Net Worth\"] < 50]) \/ len(data))*100),2)))","fd8f547f":"display(data[data[\"Total Net Worth\"]>=50])","635f827f":"#15 richest people in the world\nprint(\"This barplot shows the top 15 richest people in the world\\n\")\nX=data[\"Total Net Worth\"].head(15)\nY=data[\"Name\"].head(15)\nZ=data[\"Country\"].head(15)\nplt.figure(figsize=(20,8))\nA=sns.barplot(data=data,x=Y,y=X,color=\"red\",palette=\"Wistia_r\",saturation=0.7)\nplt.plot(Y,X,color=\"lightyellow\")\nplt.ylabel(\"Net worth in ($Billion)\")\nplt.xticks(rotation=30)\nplt.title(\"15 richest people in 2021\")\nplt.tight_layout()\nplt.show()","97b3147e":"#Industry Wise\ndisplay(data[\"Industry\"].value_counts())\nprint(\"\\n\\nClassifying billionaires on the basis of the Industry they work in: \\n\\n\")\nInd=data[\"Industry\"].value_counts()\nplt.figure(figsize=(20,7))\nB=sns.barplot(data=data,x=Ind.index,y=Ind,palette=\"flare_r\",saturation=1)\nB.spines['bottom'].set_linewidth(1.5)\nfor w in ['right', 'top', 'left']:\n    B.spines[w].set_visible(False)\nplt.xlabel(\"Industry\")\nplt.xticks(rotation=10)\nplt.ylabel(\"Count\")\nplt.title(\"Richest people Industry Wise\")\n\nk=0\nfor p in B.patches:\n    height = p.get_height()\n    plt.text((p.get_x() + (p.get_width()\/2-0.2)),height+2, \"{}%\".format(round((Ind[k]\/5),2)),fontname = 'monospace', fontsize = 18, color = 'violet') \n    k+=1\nplt.show()\n\n#Joint Plot\nprint(\"                                        Joint Plot: \\n\")\nsns.jointplot(data=data,y=\"Industry\",x=\"Total Net Worth\",color=\"red\",height=8,ratio=3)\nplt.show()","9e1c6c7b":"#Country Wise\ndisplay(data[\"Country\"].value_counts().head(10))\n\ncountry=data[\"Country\"].value_counts().head(10)\nplt.figure(figsize=(20,7))\nC=sns.barplot(data=data,x=country.index,y=country,color=\"#00FFFF\")\nC.spines['bottom'].set_linewidth(1.5)\nfor w in ['right', 'top', 'left']:\n    C.spines[w].set_visible(False)\nplt.xlabel(\"Country\")\nplt.ylabel(\"Count\")\nplt.title(\"Countries with most billionaires\")\n#Text on bars\nk=0\nfor p in C.patches:\n    height = p.get_height()\n    plt.text((p.get_x() + (p.get_width()\/2-0.1)),height+2, country[k],fontname = 'monospace', fontsize = 18, color = '#98FB98') \n    k+=1\nplt.show()\n\ncountry=data[\"Country\"].value_counts().head(10).values\nname=data[\"Country\"].value_counts().head(10).index\nplt.pie(country,radius=2,labels=name,rotatelabels=True,shadow=True,autopct='%1.1f%%',pctdistance=0.8,explode=[0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05,0.05])\nplt.title(\"Top 10 countries\",color=\"black\",fontweight=\"bold\")\nplt.legend(bbox_to_anchor=(1.5, 1.5))\nplt.show()","1e89bbbd":"def f(x):\n    display(x)\n    return x\n\nC = data[\"Country\"].unique()\nP = interactive(f, x=widgets.Dropdown(options=C,value='India',description='Country: ',disabled=False))\nprint(\"Select a country to view data:\")\ndisplay(P)","e5dfdfee":"nation=P.result\nprint(\"Richest people in {}\".format(nation))\ndisplay(data[data[\"Country\"]==nation].reset_index())\nX=data[data[\"Country\"]==nation].head(20).reset_index()\nplt.figure(figsize=(15,7))\nb = sns.barplot(data = X, y = 'Name', x = 'Total Net Worth', color = '#088F8F')\nplt.xticks(rotation=45)\nplt.xlabel(\"Net worth in $B\")\nplt.suptitle(\"Richest people in {}\".format(nation))\n\nb.spines['left'].set_linewidth(3)\nfor w in ['right', 'top', 'bottom']:\n    b.spines[w].set_visible(False)\n\n#Write text on barplots\nk=0\nfor p in b.patches:\n    width = p.get_width()\n    plt.text(width+1, (p.get_y() + p.get_height()-0.2), X[X.index==k][\"Industry\"].item(),fontname = 'monospace', fontsize = 14, color = '#088F8F') \n    plt.text(0.5, (p.get_y() + p.get_height()-0.1), \"WR:{}\".format(X[X.index==k][\"Rank\"].item()),fontname = 'monospace', fontsize = 14, color = 'black') \n    k+=1\nplt.show()\n\nplt.figure(figsize=(18,7))\nsns.lineplot(data=X,y=\"Rank\",x=\"Name\",color=\"#088F8F\")\nplt.scatter(X[\"Name\"],X[\"Rank\"],lw=5,color=\"red\",label=\"World Ranking\")\nplt.suptitle(\"Richest people in {}\".format(nation))\nplt.xticks(rotation=90)\nplt.ylabel(\"World Ranking\")\nplt.legend()\nplt.show()\n\nX=data[data[\"Country\"]==nation]\nsns.catplot(kind=\"violin\", data=X, y = \"Total Net Worth\",palette=\"flare_r\")\nplt.title(\"Violin Plot for {}\".format(nation))\nplt.show()\n\nprint(\"Average Net worth ($B) of {}: {}\".format(nation,round(data[data[\"Country\"]==nation][\"Total Net Worth\"].mean())))","4279f923":"def f(x):\n    display(x)\n    return x\n\nC = [\"Industry\",\"Country\"]\nP = interactive(f, x=widgets.Dropdown(options=C,value=\"Industry\",description='Basis: ',disabled=False))\nprint(\"Select a basis for classification:\")\ndisplay(P)","4b4ce2d9":"choice=P.result\n#Swarm Plot for each country\/industry\nsns.catplot(kind=\"swarm\", data=data, y = \"Total Net Worth\",x = choice,height=5,aspect=4)\nsns.catplot(kind=\"point\", data=data, y = \"Total Net Worth\",x = choice,height=5,aspect=4)\nplt.xticks(rotation=45)\nplt.grid(True)\nplt.show()\n\n#Average Net Worth for each country\/industry\navg_rank={}\nfor sel in data[choice].unique():\n    avg=round(data[data[choice]==sel][\"Total Net Worth\"].mean())\n    avg_rank.update({sel:avg})\n    \nhighest=max(avg_rank.values())\nres = [key for key in avg_rank if avg_rank[key] == highest]\n\nlowest=min(avg_rank.values())\nres1 = [key for key in avg_rank if avg_rank[key] == lowest]\n\nIavg_rank=avg_rank.items()\nk,v = zip(*Iavg_rank)\nprint(\"The average net worth of each {} is: \\n\".format(choice))\n\n#Plot the stats\nplt.figure(figsize=(18,6))\nplt.plot(k,v,color=\"#088F8F\")\nplt.scatter(res,highest,color=\"red\",lw=5,label=\"Highest: {}\".format(res))\nplt.title(\"Average Net Worth {} Wise\".format(choice))\nplt.xticks(rotation=90)\nplt.xlabel(\"{}\".format(choice))\nplt.ylabel(\"Average Net Worth ($B) \")\n\nplt.gca().spines['bottom'].set_linewidth(3)\nfor w in ['right', 'top', 'left']:\n    plt.gca().spines[w].set_visible(False)\nplt.legend()\nplt.grid(True)\nplt.show()","981c350d":"#Create new dataframe for top countries\nI=data[data[\"Country\"]==\"India\"]\nU=data[data[\"Country\"]==\"UnitedStates\"]\nC=data[data[\"Country\"]==\"Chile\"]\nF=data[data[\"Country\"]==\"France\"]\nS=data[data[\"Country\"]==\"Spain\"]\nM=data[data[\"Country\"]==\"Mexico\"]\nJ=data[data[\"Country\"]==\"Japan\"]\nCH=data[data[\"Country\"]==\"China\"]\nnew_df1=pd.concat([S,F,U,I,M,J])\n\n#Create new dataframe for top industries\nT=data[data[\"Industry\"]==\"Technology\"]\nC=data[data[\"Industry\"]==\"Consumer\"]\nR=data[data[\"Industry\"]==\"Retail\"]\nD=data[data[\"Industry\"]==\"Diversified\"]\nI=data[data[\"Industry\"]==\"Industrial\"]\nnew_df2=pd.concat([T,C,R,D,I])\n\nprint(\"\\n\\nTOP COUNTRIES: \\n\\n\")\n#Visualize data for top countries\nsns.catplot(kind=\"swarm\", data=new_df1, y = \"Total Net Worth\",x = \"Country\",height=5,aspect=4,palette=\"terrain\",hue=\"Industry\")\nplt.suptitle(\"TOP 6 COUNTRIES\")\nsns.catplot(kind=\"violin\", data=new_df1, y = \"Total Net Worth\",x = \"Country\",height=5,aspect=4,palette=\"gist_earth_r\")\nsns.pairplot(data=new_df1, hue=\"Country\" ,height=6,aspect=2,palette=\"twilight_r\")\nplt.xticks(rotation=45)\nplt.grid(True)\nplt.show()\n\nprint(\"\\n\\nTOP INDUSTRIES: \\n\\n\")\n#Visualize data for top Industries\nsns.catplot(kind=\"swarm\", data=new_df2, y = \"Total Net Worth\",x = \"Industry\",height=5,aspect=4,palette=\"terrain\",hue=\"Country\")\nplt.suptitle(\"TOP 5 INDUSTRIES\")\nsns.catplot(kind=\"violin\", data=new_df2, y = \"Total Net Worth\",x = \"Industry\",height=5,aspect=4,palette=\"gist_earth_r\")\nsns.pairplot(data=new_df2, hue=\"Industry\" ,height=6,aspect=2,palette=\"twilight_r\")\nplt.xticks(rotation=45)\nplt.grid(True)\nplt.show()","c7b39a76":"**1. The first plot shows the scatter plot of the net worth for each industry\/country.**\n\n**2. The second plot displays the average net worth of each country\/industry along with the highest point marked in red.**","75833344":"**Which industry has the most Billionaires??**\n\n1. The bar plot tells us that working in the **Technology** industry has the most chance of making you rich. Upto **16.6%** of the people in the top 500 list work in the Technology industry followed by **11.2%** in the Industrial industry. \n\n2. The joint plot can be used to quickly visualize and analyze the relationship between two variables and describe their individual distributions on the same plot. Along with the scatter plot of the industry wise net worth, this plot also displays the bar plot for the same on the right, along with the distribution plot of the net worths on the top.","c8b49e50":"As we can see, this data need a lot of cleaning, there are null values, null rows, and more importantly special characters present in the column \"Total Net Worth\" which will cause problems when we are trying to plot the values.\n\n__Data Cleaning__","546e3aa4":"# **Country Wise Analysis**\n\nI have made a interactive function widget to view the overall statistics of any country, just choose the country you wish from the dropdown menu and the data will appear. \n\n> **NOTE: Because Kaggle does not support realtime updates in it's notebooks, you will have to use the \"Copy and edit Notebook\" option and run the nootebook for yourself in your own kernel for the Interactive widget to work. Or you can just download the code and run it.**","bd5b97c7":"**Which country has the most billionaires??**\n\n1. The bar plot displays the top 10 countries with most billionaires. Not surprised to see the Unites States on top with 157 among the 500, followed by China with 77 billionaires.\n\n2. The pie plot clearly shows that USA has dominated most of the list with 41% American people in the top 10 country billionaires.","f7641868":"**Now we will plot the data for only the top countries and industries for better understanding.**","0a592416":"**1. The bar plot will display the 20 richest people from the selected country along with their world rank and industry they work in.**\n\n**2. The line plot displays the trend of the world rank for the billionares of that respective country.**\n\n**3. The violin plot displays the overall spread of the net worth for the billionaires of that country.**","42b4c6a3":"**Let's plot more specific data now**\n\nFirst we will plot the 15 richest people in the world with their total net worth and country:","6e15b0ae":"**Import Data**","475696db":"# Conclusion\n1. To have the highest chance of you being a billionaire, you have to be an American individual working in the Technology industry xD\n\n-----------------------------------------------------------------------------------------------------------\n\n**This notebook was basically to show different kinds of visualizations and plots using Seaborn, matplotlib, and Plotly libraries.**\n\n**If you liked the notebook or found it useful, please do upvote.**\n\n**If you have any suggestions or doubts, feel free to comment below.**\n\n# Thank You!","9b69d254":"# EDA\n\nNow that we have cleaned the data, let's plot the generalised **Total Net Worth** for all the people on the list.","df6c232b":"The three plots tell us the same story, that most people on the list (94.59%) have a net worth less than $50B.\n\nWhich means that out of the 500 people on the list, 474 have a net worth below $50B. So it takes a lot of hard-work to get over that mark and only a few (26 people) have been able to do it.\n\n**Namely, only the following people have a net worth above $50B:** \n\n**How cool is it to be among the richest 5% in the world\ud83e\udd11\ud83e\udd2f**\n\n","ba473831":"# Classification based on **Country** and **Industry**\n\nHere, i have made another interactive widget what will enable the user to classify the data based on \"Country\" or \"Industry\"."}}