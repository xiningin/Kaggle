{"cell_type":{"3642849f":"code","db8e5ba3":"code","57967d99":"code","82307ae1":"code","52599337":"code","c3d63a7c":"code","f1d4f255":"code","79de3d28":"code","1e3697b3":"code","d151b3fa":"code","985000d8":"code","1cb0ae8a":"code","621f7980":"code","73a9000b":"code","f999d317":"code","0415a35c":"code","24377d31":"code","e501ef6e":"code","34780d5c":"code","c9827db3":"code","babdb52c":"code","e2711e74":"code","a05e5926":"code","0d605995":"code","1ecb690d":"code","fd04380c":"markdown","aafd4ca8":"markdown","be67e9c3":"markdown","febfd23a":"markdown","0f4ec73c":"markdown","f9fa3b08":"markdown","6cc8e0eb":"markdown","fe9526f5":"markdown","f52f47cc":"markdown","0fe50761":"markdown","cafaa03e":"markdown","8131ea0e":"markdown"},"source":{"3642849f":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","db8e5ba3":"!pip install bar_chart_race\nimport numpy as np\nimport pandas as pd\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom IPython.display import HTML,display\nimport bar_chart_race as bcr","57967d99":"jp_prefecture = pd.read_csv('..\/input\/covid19-dataset-in-japan\/covid_jpn_prefecture.csv')\ntotal = pd.read_csv('..\/input\/covid19-dataset-in-japan\/covid_jpn_total.csv')\nmetadata = pd.read_csv('..\/input\/covid19-dataset-in-japan\/covid_jpn_metadata.csv')","82307ae1":"total","52599337":"total = total[total[\"Location\"] == \"Domestic\"]\ntotal.columns=[\"Date\",\"Location\",\"Positive\",\"Tested\",\"Symptomatic\",\"Asymptomatic\",\"Sym-unknown\",\n               \"Active\",\"Hosp_mild\",\"Severe\",\"Hosp_unknown\",\"Hosp_waiting\",\"Cured\",\"Death\"]","c3d63a7c":"cols = [\"Positive\",\"Active\",\"Severe\",\"Death\"]\ncurrent = total.tail(1)[cols]\ncurrent.columns = [\"Discharged\",\"Active\",\"Severe\",\"Death\"]\ncurrent_df = pd.DataFrame(current.T.values,columns=[\"Cases\"],index=[\"Cured\",\"Active\",\"Severe\",\"Death\"])","f1d4f255":"fig = px.pie(current_df, values='Cases',names=current_df.index,\n             title='Current Situation in Japan (As of February 4th)',color_discrete_sequence=px.colors.sequential.Rainbow)\nfig.show()","79de3d28":"df_cols = [\"Date\",\"Positive\",\"Active\",\"Severe\",\"Cured\",\"Death\"]\ndf_anim = total[df_cols]\ndf_anim = df_anim.set_index('Date')\nbcr.bar_chart_race(df=df_anim, n_bars=6,figsize=(5,2))","1e3697b3":"fig = px.bar(total,x='Date',y='Tested',labels={\"index\":\"Number of Tests\",\"value\":\"Date\"},title=\"Total Tests in Japan (As of Feb 4th)\") \nfig.show()","d151b3fa":"fig = px.bar(total,x='Date',y='Positive',labels={\"index\":\"Number of cases\",\"value\":\"Date\"},title=\"Total Cases in Japan (As of Feb 4th)\") \nfig.show()","985000d8":"fig = px.bar(total,x='Date',y='Active',labels={\"index\":\"Number of cases\",\"value\":\"Date\"},title=\"Active Cases in Japan (As of Feb 4th)\") \nfig.show()","1cb0ae8a":"fig = px.bar(total,x='Date',y='Severe',labels={\"index\":\"Number of cases\",\"value\":\"Date\"},title=\"Severe Cases in Japan (As of Feb 4th)\") \nfig.show()","621f7980":"fig = px.bar(total,x='Date',y='Death',labels={\"index\":\"Number of cases\",\"value\":\"Date\"},title=\"Death Cases in Japan (As of Feb 4th)\") \nfig.show()","73a9000b":"latest_data = jp_prefecture.tail(47) #Latest Data by Prefecture","f999d317":"per_hunthousand = []\nfor i,j in zip(latest_data[\"Positive\"],metadata[\"Value\"]):\n    per_hunthousand.append((i\/int(j))*100)\nlatest_data[\"Cases Per 100000 Population\"] = per_hunthousand","0415a35c":"death_rates = []\nfor i,j in zip(latest_data[\"Positive\"],latest_data[\"Fatal\"]):\n    death_rates.append((j\/i)*100)","24377d31":"latest_data[\"Mortality Rates\"] = death_rates","e501ef6e":"latest_data = latest_data.sort_values(by='Positive',ascending=False)\nlatest_cols = [\"Prefecture\",\"Positive\",\"Discharged\",\"Fatal\",\"Hosp_require\",\"Hosp_severe\",\"Cases Per 100000 Population\",\"Mortality Rates\"]\nlatest_data = latest_data[latest_cols]\nlatest_data = latest_data.rename(columns={\"Prefecture\":\"Prefecture\",\"Positive\":\"Positive\",\"Discharged\":\"Cured\",\"Fatal\":\"Death\",\"Hosp_require\":\"Active\",\"Hosp_severe\":\"Severe\"\n                                          ,\"Cases Per 100000 Population\":\"Cases Per 100000 Population\",\"Mortality Rates\":\"Mortality Rates\"})\nlatest_data.style.background_gradient(cmap='plasma_r')","34780d5c":"bcr.bar_chart_race(df=jp_prefecture.pivot_table(index=['Date'],columns=['Prefecture'])['Positive'], n_bars=10,figsize=(5,2),\n                  title='Animation (Total Cases by Prefecture)')","c9827db3":"fig = px.bar(latest_data,x='Positive',y='Prefecture',labels={\"index\":\"Prefectures\",\"Positive\":\"Number of Cases\"},title=\"Total Cases by Prefecture\") \nfig.show()","babdb52c":"fig = px.bar(latest_data,x='Cases Per 100000 Population',y='Prefecture',labels={\"index\":\"Prefectures\",\"Cases Per 100000 Population\":\"Number of Cases Per 100000 Population\"},title=\"Total Cases by Prefecture (Per 100000 Population)\") \nfig.show()","e2711e74":"fig = px.bar(latest_data,x='Severe',y='Prefecture',labels={\"index\":\"Prefectures\",\"Severe\":\"Number of Severe Cases\"},title=\"Severe Cases by Prefecture\") \nfig.show()","a05e5926":"fig = px.bar(latest_data,x='Death',y='Prefecture',labels={\"index\":\"Prefectures\",\"Death\":\"Number of Cases\"},title=\"Total Death Cases by Prefecture\")\nfig.show()","0d605995":"fig = px.bar(latest_data,x='Active',y='Prefecture',labels={\"index\":\"Prefectures\",\"Active\":\"Number of Cases\"},title=\"Active Cases by Prefecture\") \nfig.show()","1ecb690d":"fig = px.bar(latest_data,x='Mortality Rates',y='Prefecture',labels={\"index\":\"Prefectures\"},title=\"Mortality Rates by Prefecture\") \nfig.show()","fd04380c":"* \"bar_chart_race\" allows us to make animated bar chart easily.","aafd4ca8":"# Active Cases","be67e9c3":"* Only 1 Prefecture (Shimane) has no death.","febfd23a":"* In Japan, there are 47 Prefectures.\n* We classify data by Prefecture and analyze them.","0f4ec73c":"# EDA:COVID-19 Pandemic in Japan\n\n* Data Source: [\"COVID-19 dataset in Japan\"](https:\/\/www.kaggle.com\/lisphilar\/covid19-dataset-in-japan).\n\n* Japanese government declared <span style=\"color:red\">state of emergency<\/span> for some areas such as  Tokyo metropolitan, Kansai,Chukyo,and Fukuoka (from January 8th 2021).\n\nOther reliable sources of information about COVID-19 in Japan (Some websites are written in Japanese)\n* [Japanese Ministry of Health,Labor,and Wealth office website](https:\/\/www.mhlw.go.jp\/stf\/covid-19\/kokunainohasseijoukyou.html)\n* NHK (NIPPON HOSOU KYOKAI, Japan Broadcasting Corporation) [dedicated website about COVID-19](https:\/\/www3.nhk.or.jp\/news\/special\/coronavirus\/)\n* [NHK WORLD-JAPAN: Coronavirus Outbreak](https:\/\/www3.nhk.or.jp\/nhkworld\/en\/news\/tags\/82\/)\n* [Coronavirus Situation Report in Japan (TOYO KEIZAI ONLINE)](https:\/\/toyokeizai.net\/sp\/visual\/tko\/covid19\/en.html) \n* [Tokyo Metropolitan Website (Updates on COVID-19 in Tokyo)](https:\/\/stopcovid19.metro.tokyo.lg.jp\/en)\n* [Osaka Prefecture Website (Latest updates on COVID-19 in Osaka)](https:\/\/covid19-osaka.info\/en)\n* [Japan COVID-19 Public Forecasts (Google)](https:\/\/datastudio.google.com\/u\/0\/reporting\/8224d512-a76e-4d38-91c1-935ba119eb8f\/page\/GfZpB?s=nXbF2P6La2M)\n* This notebook will be updated regularly or added more elements.\n* If you like, please feel free to upvote.","f9fa3b08":"# COVID-19 Data by Prefecture","6cc8e0eb":"# Total Death Cases","fe9526f5":"# Animation","f52f47cc":"# Total Cases","0fe50761":"# Current Situation in Japan","cafaa03e":"# Severe Cases","8131ea0e":"# Total Tests"}}