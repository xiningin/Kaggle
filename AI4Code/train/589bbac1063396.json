{"cell_type":{"35e18648":"code","95ef21cf":"code","cb872c57":"code","fdade479":"code","2759fa82":"code","ad1de41f":"code","5c025661":"code","1501a740":"code","d047bbe8":"code","6b0b76e7":"code","b073c87f":"code","7232931a":"code","9d303823":"code","00837dd2":"code","22e80847":"code","de70d073":"code","996129cc":"code","45289b97":"markdown"},"source":{"35e18648":"import numpy as np\nimport pandas as pd","95ef21cf":"class Interest:\n    name = 'unnamed'\n    tags = []\n    sub_interests = []\n\n    def __init__(self, name, tags, sub_interests):\n        self.name = name\n        self.tags = tags\n        self.sub_interests = sub_interests\n\n#Create some interests\n\ninterests_list = [\n    #Interest(name, tags, sub_interests)\n    Interest('space', ['science', 'space'], ['stars', 'planets']),\n    Interest('biology', ['science', 'biology'], ['humans', 'animals', 'plants', 'insects']),\n    Interest('braingames', ['math', 'braingames'], ['maths', 'physics', 'chemistry', 'chess']),\n    Interest('art', ['art', 'creativity'], ['drawing', 'handcrafts', 'sculpture', 'music']),\n    Interest('music', ['creativity', 'art'], ['playingmusic', 'musictheory'])\n]","cb872c57":"credits = pd.read_csv('..\/input\/tmdb-movie-metadata\/tmdb_5000_credits.csv')\nmovies_df = pd.read_csv('..\/input\/tmdb-movie-metadata\/tmdb_5000_movies.csv')","fdade479":"credits.head()","2759fa82":"movies_df.head()","ad1de41f":"credits_column_renamed = credits.rename(index=str, columns={\"movie_id\" : 'id'})\nmovies_df_merge = movies_df.merge(credits_column_renamed, on = 'id')\nmovies_df_merge.head()","5c025661":"movies_cleaned_df = movies_df_merge.drop(columns=['homepage', 'title_x', 'title_y', 'status', 'production_countries'])\nmovies_cleaned_df.head()","1501a740":"movies_cleaned_df.head(2)['overview']","d047bbe8":"from sklearn.feature_extraction.text import TfidfVectorizer\n\ntfv = TfidfVectorizer(min_df=3, max_features=None, strip_accents='unicode',\n                     analyzer='word', token_pattern=r'\\w{1,}', ngram_range=(1, 3),\n                     stop_words='english')\n\nmovies_cleaned_df['overview'] = movies_cleaned_df['overview'].fillna('')","6b0b76e7":"tfv_matrix = tfv.fit_transform(movies_cleaned_df['overview'])","b073c87f":"tfv_matrix","7232931a":"from sklearn.metrics.pairwise import sigmoid_kernel\n\nsig = sigmoid_kernel(tfv_matrix, tfv_matrix)","9d303823":"sig[0]","00837dd2":"indices = pd.Series(movies_cleaned_df.index, index=movies_cleaned_df['original_title']).drop_duplicates()","22e80847":"indices","de70d073":"def give_rec(title, sig=sig):\n    idx = indices[title]\n    sig_scores = list(enumerate(sig[idx]))\n    \n    sig_scores = sorted(sig_scores, key=lambda x:x[1], reverse=True)\n    \n    sig_scores = sig_scores[1:11]\n    \n    movie_indices = [i[0] for i in sig_scores]\n    \n    return movies_cleaned_df['original_title'].iloc[movie_indices]","996129cc":"give_rec('Spy Kids')","45289b97":"## movies_cleaned_df.info()"}}