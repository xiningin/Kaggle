{"cell_type":{"2bbf05f9":"code","f2ad91f1":"code","9405a619":"code","5704fa30":"code","38e07ffc":"code","70730376":"code","fe2754c2":"code","db2d870e":"code","8753a6ce":"code","c067632b":"code","0998d1d4":"code","f72e2615":"code","86fa8d01":"code","e753ff33":"code","19213609":"code","4f81030d":"code","febe76e5":"code","a74f9bb4":"code","df08abe2":"code","be911486":"code","b66321d3":"code","00c61998":"code","a9b472f7":"code","436e1268":"code","8a69b539":"code","c040e034":"code","0eacf6be":"code","d4025c9d":"code","01c343be":"code","a596bbb2":"code","26876445":"code","e2f49ad0":"code","683b400c":"code","1d21d0b3":"code","65d84954":"code","4a54095d":"code","103202ff":"code","197c2d87":"code","d0e8a7b4":"code","0e9c05d2":"code","9ac01b96":"code","8554549c":"code","bf376ba0":"code","b315ebea":"code","2520acf5":"code","bf5f61fe":"code","859a4fba":"code","7664d10c":"code","39b499e1":"code","1c4b0654":"code","cb190a23":"code","9ae938f7":"code","ba2c69a9":"code","57628712":"code","465ef4e5":"code","62ea0853":"code","6d2dd977":"code","c3235334":"code","57b4f524":"code","32fc4e7f":"markdown","479b6f59":"markdown","90d47b06":"markdown","3c29aba0":"markdown","f50c4c6b":"markdown","87d887c3":"markdown","fa2961bb":"markdown","c7d11436":"markdown","386c491e":"markdown","566c308c":"markdown","86741c69":"markdown","cd633e6c":"markdown","0e825689":"markdown","94b4cd5d":"markdown","e62e524d":"markdown","f3d209ba":"markdown","4656d7ba":"markdown","ea92d224":"markdown","81a1aeca":"markdown","8c59c4f9":"markdown","f2522ffe":"markdown","c29a164e":"markdown","1acf5a21":"markdown","eb8647a6":"markdown","03a827b6":"markdown","c4f96799":"markdown","9c9ed826":"markdown","1b362f85":"markdown","0ebacdd4":"markdown","9804d619":"markdown","04c956ac":"markdown","d75344f2":"markdown","37034e30":"markdown"},"source":{"2bbf05f9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f2ad91f1":"# Data is loaded\ndata = pd.read_csv('\/kaggle\/input\/tmdb-movies-dataset\/tmdb_movies_data.csv')\ndata.head(3)","9405a619":"data.tail(3)","5704fa30":"data.info()","38e07ffc":"data.isnull().sum()","70730376":"data.shape","fe2754c2":"data.dtypes","db2d870e":"data.describe()","8753a6ce":"data_duplicate = data[data.duplicated()]\nprint(data_duplicate)","c067632b":"#drop duplicates values\ndata.drop_duplicates(keep='first',inplace = True)\ndata.shape","0998d1d4":"data.drop(['id','imdb_id','homepage','tagline','keywords','overview','release_date','vote_count','budget','revenue'],axis=1, inplace = True)","f72e2615":"data.head(3)","86fa8d01":"data.info()","e753ff33":"data.isnull().sum()","19213609":"data.describe()","4f81030d":"data.dropna(inplace = True)\nprint(data.shape)","febe76e5":"data.isnull().sum()","a74f9bb4":"data.describe()","df08abe2":"data['budget_adj'] = data['budget_adj'].replace(0,np.NaN)\ndata['revenue_adj'] = data['revenue_adj'].replace(0,np.NaN)\ndata['runtime'] = data['runtime'].replace(0,np.NaN)","be911486":"data.isnull().sum()","b66321d3":"data.dropna(inplace = True)# dropped all the columns with zero values, this might be a limitation of this project as it has dropped many rows","00c61998":"data.info()","a9b472f7":"data.describe()","436e1268":"data.head(3)","8a69b539":"data.runtime.unique()","c040e034":"data['revenue_adj'].unique","0eacf6be":"change_coltype = ['budget_adj', 'revenue_adj', 'runtime']","d4025c9d":"data[change_coltype] = data[change_coltype].applymap(np.int64)","01c343be":"data.info()","a596bbb2":"data.head()","26876445":"data['profit'] = data['revenue_adj'] - data['budget_adj']","e2f49ad0":"data.head(3)","683b400c":"def min_max(column_name):\n    \n    max_value = data[column_name].idxmax()\n    max_details = pd.DataFrame(data.loc[max_value])\n    \n    min_value = data[column_name].idxmin()\n    min_details = pd.DataFrame(data.loc[min_value])\n    \n    both_values = pd.concat([max_details, min_details],axis=1)\n    \n    return(both_values)","1d21d0b3":"min_max('popularity')","65d84954":"min_max('budget_adj')","4a54095d":"min_max('revenue_adj')","103202ff":"min_max('runtime')","197c2d87":"min_max('release_year')","d0e8a7b4":"min_max('vote_average')","0e9c05d2":"min_max('profit')","9ac01b96":"pro_year = data.groupby('release_year')['profit'].sum()","8554549c":"plt.figure(figsize=(12,3),dpi=120)\nplt.xlabel('Release Year of Movies in the data set', fontsize = 12)\nplt.ylabel('Profit earned by Movies', fontsize = 12)\nplt.title('Profit of all movies Vs Year of their release.')\nplt.plot(pro_year)","bf376ba0":"pro_year = data.groupby('release_year')['profit'].mean()\n\nplt.figure(figsize=(12,3),dpi=120)\nplt.xlabel('Release Year of Movies in the data set', fontsize = 12)\nplt.ylabel('Profit earned by Movies', fontsize = 12)\nplt.title('Profit of all movies Vs Year of their release.')\nplt.plot(pro_year)","b315ebea":"plt.figure(figsize = (8,3))\nplt.hist(data['release_year'])\nplt.xlabel('Years')\nplt.ylabel('Number of movies')\nplt.title('Movies with years')\nplt.show()","2520acf5":"rev_data = data.describe().revenue_adj\nrev_data","bf5f61fe":"bin_edges = [rev_data[3], rev_data[4], rev_data[5], rev_data[6], rev_data[7]]\nbin_edges","859a4fba":"bin_names = ['High','Mod_high','Medium','Low']","7664d10c":"data['new_popular'] = pd.cut(data['revenue_adj'], bin_edges, labels=bin_names)","39b499e1":"pop_plot = data.groupby('new_popular')['popularity'].mean()\n\npop_plot.plot.bar()\nplt.xlabel('Revenue')\nplt.ylabel('Popularity')\nplt.title('Popularity vs Revenue')","1c4b0654":"plt.scatter(x= data['revenue_adj'], y= data['popularity'])\nplt.xlabel('Revenue')\nplt.ylabel('Popularity')\nplt.title('Revenue vs popularity over the years')","cb190a23":"actor = data['cast'].str.cat(sep=\"|\").split(\"|\")\nactors_list = pd.Series(actor).value_counts()[:10]\nprint(actors_list)\ngraph = actors_list.plot.bar()\ngraph.set(title = \"List of top 10 actors\",ylabel = \"Number of time casted\")","9ae938f7":"genres = data['genres'].str.cat(sep=\"|\").split(\"|\")\ngenres_list = pd.Series(genres).value_counts()[:10]\nprint(genres_list)\ngraph = genres_list.plot.barh()\ngraph.set(title = \"List of top 10 Genres\",xlabel = \"Number of time movies made\")","ba2c69a9":"director = data['director'].str.cat(sep=\"|\").split(\"|\")\ndirector_list = pd.Series(director).value_counts()[:10]\nprint(director_list)\ngraph = director_list.plot.bar()\ngraph.set(title = \"List of top 10 directors\",ylabel = \"Number of movies directed\")","57628712":"Avg_runtime = data['runtime'].mean()\nprint('Average runtime of movies is %.2f'%Avg_runtime)","465ef4e5":"plt.hist(data['runtime'], rwidth =.9, bins=30)\nplt.xlabel('Runtime')\nplt.ylabel('Number of movies')\nplt.title('Runtime of all movies')","62ea0853":"sns.boxplot(data['runtime'])\nplt.xlabel('Runtime')","6d2dd977":"avg_budget = data['budget_adj'].mean()\navg_revenue = data['revenue_adj'].mean()\nprint('The average Budget of movies %.2f'%avg_budget)\nprint('The average revenue of movies %.2f'%avg_revenue)","c3235334":"data.groupby('runtime')['profit'].mean().plot()\n\nplt.xlabel('Runtime')\nplt.ylabel('Average Profit')\nplt.title('Runtime vs Profit')","57b4f524":"data.groupby('release_year').mean()['runtime'].plot(xticks = np.arange(1960,2016,5))\n\nsns.set(rc={'figure.figsize':(20,3)})\nplt.xlabel('Release Year')\nplt.ylabel('Runtime')\nplt.title('Release_year vs Runtime')","32fc4e7f":"**Change the column DataTypes :**","479b6f59":"# After Analysing the Data ,following questions could be answered:\n\n1. List of movies with maximum and minimum value for each attribute - Budget,Revenue,Runtime,Popularity...\n2. Year of release vs Profitability.\n3. Visualization of Popularity vs Revenue ('high', 'mod_high', 'medium', 'low')\n4. Top 10 popular Cast,Genres and Directors\n5. Average runtime of the movies","90d47b06":"# Question 5 : Average runtime of the movies","3c29aba0":"According to the plot runtime between 150-200 had the most profit.\n\n**Plot between Release_Year and Runtime**","f50c4c6b":"The above graph shows that profit of movies is increased with years.","87d887c3":"# Project: The Movie DataBase -TMDB\n\n**Table of Contents**\n\n* Introduction\n* Data Wrangling\n* Exploratory Data Analysis\n* Conclusions","fa2961bb":"**Plot between Runtime and Profit**","c7d11436":"**budget_adj,revenue_adj and Runtime should not have zero values...Hence dropping the NA values first and then will check for zero values**","386c491e":"According to the plot year 1960-1970 the most profitable years And the profit was very low between the years 2000-2010","566c308c":"Latest movie : Jurassic World\n\nOldest Movie : Psycho\n\nvi) Minimum and Maximum vote_average","86741c69":"**Importing required packages- pandas,numpy,matplotlib and seaborn**","cd633e6c":"This shows that movies with low Revenue has high popularity\n\n# Question 4 : Top 10 popular Cast,Genres and Directors","0e825689":"Maximum profit earned by 'Star Wars'\n\nMinimum profit earned by 'The Warrior's Way'","94b4cd5d":"# Data Wrangling\n\n**General Properties of Dataframe**","e62e524d":"**Highest Budget Movie : The Warrior's Way**\n\n**Lowest Budget Movie : Love, Wedding, Marriage**\n\n**iii) Details of movie with maximum and minimum Revenue**","f3d209ba":"**i) Details of movie with maximum and minimum Popularity**","4656d7ba":"**I have dropped the above listed columns and have mentioned reasons for each below:**\n\n1. 'id','imdb_id','homepage','tagline','keywords','overview - I will not be using these columns for analysing the questions i have mentioned above.\n2. 'release_date'- I have planned to analyse it yearly. So Date is not required , I have kept 'release_year' column for this purpose.\n3. 'vote_count'- I will be considerig vote_average , so dropping the 'vote_count'.\n4. 'budget','revenue'- Since it will be better to consider 'budget_adj' and 'revenue_adj' instead of budget and revenue.","ea92d224":"# Introduction\n\nInitially this Dataset includes - 10866 rows and 21 columns -['id', 'imdb_id', 'popularity', 'budget', 'revenue', 'original_title','cast', 'homepage', 'director', 'tagline', 'keywords', 'overview','runtime', 'genres', 'production_companies','release_date','vote_count', 'vote_average', 'release_year', 'budget_adj','revenue_adj']\n\nI will be working on this data and will remove the unwanted columns and then drop the redudant and zero values data.","81a1aeca":"# Question 2 : Year of Release vs Profitability.","8c59c4f9":"**Insert a new column -Profit, which calculated profit of movie(revenue-budget)**","f2522ffe":"**'budget_adj' ,'revenue_adj' , 'runtime' of a movie cannot not be zero so in order to fix that issue, we will replace 0 with NaN and then drop those values.**\n\n**[https:\/\/stackoverflow.com\/questions\/22649693\/drop-rows-with-all-zeros-in-pandas-data-frame] Used this link to understand how to replace 0 with NaN**\n\n**Dropping zero values -as they might effect the analysis**","c29a164e":"**Highest Revenue Movie : Avatar**\n\n**Lowest Budget Movie : Shattered Glass**\n\n**iv) Details of movie with maximum and minimum Runtime**","1acf5a21":"# Conclusions\n\n**Interesting facts about this Data**\n\n1. Average runtime of movie is 109.35\n2. Top four Genres for movies are - Drama,Comdedy,Thriller,Action.\n3. Top four movie Directors are : Steven Spielberg,Clint Eastwood,Ridley Scott,Woody Allen\n4. Top 5 Cast: Robert De Niro,Bruce Willis,Samuel L. Jackson, Matt Damon,Nicolas Cage\n5. The number of movie released are increasing year by year.\n6. Runtime between 150-200 had the most profit.\n7. Low revenue movies are more popular.\n\n**Having an Average Budget of 44719764.83 , runtime 109 mins, and above listed genres,caste and director, Revenue of 138715933.89 could be generated**\n\nLimitations\ni) The Data had lot of zero values and Null values and we have deleted that columns which might have resulted in loosing valuable data.\n\nii) Also,budget and revenue column do not have currency unit, it might be possible different movies have budget in different currency.","eb8647a6":"This also proves the average runtime is approx 109\n\n","03a827b6":"# Exploratory Data Analysis","c4f96799":"**Most popular movie is : 'Jurassic World' and Least popular is : '\u00d0\u00a1\u00d1\u201a\u00d0\u00b0\u00d0\u00bb\u00d0\u00b8\u00d0\u00bd\u00d0\u00b3\u00d1\u20ac\u00d0\u00b0\u00d0\u00b4'**\n\n**ii) Details of movie with maximum and minimum Budget**","9c9ed826":"The above graph shows the earlier runtime of movies was more and has been decreased recently.","1b362f85":"# Data Cleaning\n\n**Dropping the columns which I am not considering for Data Analysis. Also, removed duplicates from the Dataframe**","0ebacdd4":"Maximum Runtime movie : Carlos\n\nMinimum Runtime Movie : Kid's Story\n\nv) Most latest and oldest movie in this Dataframe","9804d619":"# Question 1 : List of movies with maximum and minimum value for each attribute - Budget,Revenue,Runtime,Popularity\n\n**Build a function to find max and minimum values for all the columns : This function will return the entire row with the max and min vallues of the column passed in the function.**","04c956ac":"**This graph shows that number of movies in Dataframe also increased with years..**\n\n# Question 3 : Visualization of Popularity vs Revenue ('high', 'mod_high', 'medium', 'low')","d75344f2":"The above graph also confirms the average runtime. Lets make another box plot for the same using seaborn","37034e30":"The Shawshank Redemption got the maximum vote_average and Foodfight!! got the minimum"}}