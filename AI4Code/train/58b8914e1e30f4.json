{"cell_type":{"c6c1a398":"code","fac8ae80":"code","819c7dad":"code","629bf0ec":"code","1ab0a7c3":"code","398c92b6":"code","d903d123":"code","b315ef80":"code","bf0d9d3d":"code","f53b6312":"code","9b5e8324":"code","23e34770":"markdown","4628c262":"markdown","29a98a59":"markdown","6369af72":"markdown","4a11a816":"markdown","8477a291":"markdown","0cb41bd8":"markdown","9fe1d1d3":"markdown","aeef0888":"markdown","75abab6e":"markdown"},"source":{"c6c1a398":"import plotly.graph_objects as go\nimport pandas as pd\ndf = pd.read_csv('\/kaggle\/input\/forbes-2020-global-2000-largest-public-companies\/forbes_top_2000_world_largest_public_companies.csv')","fac8ae80":"df.head()","819c7dad":"df.info()","629bf0ec":"m = {'K': 1000, 'M': 1000000, 'B': 1000000000, 'T': 1000000000000}\ncolumns = ['sales', 'profits', 'assets', 'market_value']\ndef convert_value(row):\n    values = []\n    for column in columns:\n        value = str(row[column]).replace(',', '').replace('$', '').split()\n        values.append(float(float(value[0]) * m[value[-1]]))\n    return values","1ab0a7c3":"df['sales'], df['profits'], df['assets'], df['market_value'] = zip(*df.apply(convert_value, axis=1))","398c92b6":"df.info()","d903d123":"temp = df.groupby('contry\/territory', as_index=False).count().sort_values(by=['company'], ascending=False)\ntemp.head()","b315ef80":"fig = go.Figure()\n\nfig.add_trace(go.Bar(x=temp['contry\/territory'][:10], y=temp['company'][:10], text=temp['company'][:10], textposition='auto'))\n\nfig.show()","bf0d9d3d":"temp = df.groupby('contry\/territory', as_index=False).sum().sort_values(by=['market_value'], ascending=False)\ntemp.head()","f53b6312":"def human_format(num):\n    value = 0\n    while abs(num) >= 1000:\n        value += 1\n        num \/= 1000.0\n    return '%.2f%s' % (num, ['', 'K', 'M', 'G', 'T'][value])","9b5e8324":"fig = go.Figure()\n\nfig.add_trace(go.Bar(x=temp['contry\/territory'][:10], y=temp['market_value'][:10], text=temp['market_value'].apply(human_format)[:10], textposition='auto'))\n\nfig.show()","23e34770":"Let's start converting the fourthy columns that represent integer values, they are: Sales, profits, assets and market value.\nFor reasech this objective, we will create a map and convert the values to the correct.","4628c262":"Check the DataFrame's head to understand how are the data.","29a98a59":"Then we fill the columns with converted values. We can see dtype was changed from object to float, now we have numbers to work.","6369af72":"To answer the first question: **Q01 Which countries\/territories have more companies in this dataset?**, we will group the rows by column **contry\/territory** using **df.groupby()** method. We want figure out how many companies exist by column. \n\nThis context shows us to use the **count()** method to count how many rows exist by countries\/territories.\nWe will sort values from descending to ascending to highest country is on top, using **sort_values(by=['company'], ascending=False)**.","4a11a816":"Let's plot the top 10 companies in this dataset.","8477a291":"### Let's grouping some values to plot graphs","0cb41bd8":"We can check if any column there are some missing values using the **df.info()**. In this case, there aren't missing values, but if there are missing values we can use **df.isna().sum()** to see how many values are missing by columns.","9fe1d1d3":"# Exploratory Data Analysis\n\n## Forbes\u2019 18th annual ranking of the world\u2019s 2,000 largest public companies\n\nWe will anwser some questions, as:\n\n1. Q01 Which countries\/territories have more companies in this dataset?\n1. Q02 Which are the top 10 countries\/territories with more companies in this dataset?","aeef0888":"This graph shows us UK and CA lost their positions, that's mean there are other countries with companies' values and the how many didn't important in this case.","75abab6e":"### Basic methods to transform Data"}}