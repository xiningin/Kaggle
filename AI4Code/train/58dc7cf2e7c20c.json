{"cell_type":{"290c978d":"code","a02f2836":"code","8a8bd9ee":"code","50200d23":"code","699846ba":"code","b5e19ff4":"code","9a8dab1c":"code","63d218e5":"code","494ccd95":"code","bcca1885":"code","f6145399":"code","e1ab2f40":"code","0d38818e":"code","9be9110a":"code","267e66b4":"code","fb7b5dd3":"code","23664c97":"code","4f6525ea":"code","c02f1419":"code","9f5fadde":"code","43cb4828":"code","415086b5":"code","543b3e61":"code","ebcdb80d":"code","fde5b0eb":"code","116179da":"code","7dae97a5":"code","ddc76212":"code","9da74129":"code","cf89e462":"code","414e7b65":"code","666d5afb":"code","09c8b94b":"code","c641047d":"code","8ec9a5dc":"code","b09aaed3":"code","8074169d":"code","a3f4e831":"code","c23c1acf":"code","b4fcd00e":"code","2ec633a8":"code","3b665094":"code","ca89e4e1":"code","e13da549":"code","65df0a00":"code","01b2c554":"markdown","c976b81f":"markdown","225f4009":"markdown","3164c79d":"markdown","2c9b878d":"markdown","45758a34":"markdown","b147f2a6":"markdown","9cab340b":"markdown","8cf6e0ef":"markdown","ff20e604":"markdown","0a424f5b":"markdown","e7db20fb":"markdown","d9982c83":"markdown","46296b5a":"markdown","83348696":"markdown","dfc413c8":"markdown","e90101da":"markdown","5fe81159":"markdown","3c60daec":"markdown","47ce7c48":"markdown","c8efda66":"markdown","9f15678b":"markdown","f816046e":"markdown","72e9e8a2":"markdown"},"source":{"290c978d":"from numpy import * \nfrom pandas import *\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","a02f2836":"df = read_csv ('..\/input\/noshowappointments\/KaggleV2-May-2016.csv')","8a8bd9ee":"df.head()","50200d23":"df.describe()","699846ba":"df.rename(columns={'No-show':'show'}, inplace=True)","b5e19ff4":"df.rename(columns={'Hipertension': 'Hypertension',\n                     'Handcap': 'Handicap'}, inplace=True)","9a8dab1c":"df.info()","63d218e5":"sum(df.isnull())","494ccd95":"sum(df.duplicated())","bcca1885":"df.drop_duplicates(inplace =True)","f6145399":"sum(df.duplicated())","e1ab2f40":"df['show'].replace(\"Yes\" , 0 , inplace = True)\ndf['show'].replace(\"No\" , 1 , inplace = True)","0d38818e":"df.drop(df[df['Age']< 0].index, inplace = True)","9be9110a":"(df.Age<0).any()","267e66b4":"df.drop(['PatientId', 'AppointmentID','ScheduledDay','AppointmentDay'], axis=1, inplace=True)","fb7b5dd3":"#sns.displot(df['show'],label='show vs no-show');\nimport cufflinks as cf\ncf.go_offline()\ncf.set_config_file(offline=False, world_readable=True)\ndf.show.value_counts().iplot(kind='bar',text=['No-Show', 'Show'], title='Show vs No-Show',color=['blue'])","23664c97":"df.shape","4f6525ea":"df.hist(figsize=(10,10));","c02f1419":"df.columns","9f5fadde":"def countplotting(A,B,C):\n    \"\"\"function to plot the count of features \"\"\"\n    sns.catplot(x=A, hue =B,col=C, data = df,kind='count',height=4, aspect=.7)","43cb4828":"Categories = ['Gender','Hypertension','Alcoholism','Diabetes','SMS_received','Scholarship','Handicap']\nfor r in Categories :\n    print(df.groupby(r)['show'].mean())","415086b5":"df.groupby(['show','Gender'], as_index=False).size()","543b3e61":"labels = ['No-Show - Female', 'Show - Female', 'Show - Male', 'No-Show - Male']\nsizes = [len(df[(df['show'] == 0) & (df['Gender'] == 'F')]),\n         len(df[(df['show'] == 1) & (df['Gender'] == 'F')]),        \n         len(df[(df['show'] == 1) & (df['Gender'] == 'M')]),\n         len(df[(df['show'] == 0) & (df['Gender'] == 'M')])]\n\nplt.pie(sizes, labels=labels, autopct='%1.1f%%', shadow=True, startangle=140)\nplt.show()","ebcdb80d":"df.groupby(['show','SMS_received'], as_index=False).size()","fde5b0eb":"X=df[df.show==0]\nY=df[df.show==1]","116179da":"X.SMS_received.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","7dae97a5":"Y.SMS_received.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","ddc76212":"df.groupby(['show','Scholarship'], as_index=False).size()","9da74129":"X.Scholarship.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","cf89e462":"Y.Scholarship.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","414e7b65":"df.groupby(['show','Diabetes'], as_index=False).size()","666d5afb":"X.Diabetes.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","09c8b94b":"Y.Diabetes.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","c641047d":"df.groupby(['show','Alcoholism'], as_index=False).size()","8ec9a5dc":"X.Alcoholism.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","b09aaed3":"Y.Alcoholism.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","8074169d":"df.groupby(['show','Hypertension'], as_index=False).size()","a3f4e831":"X.Hypertension.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","c23c1acf":"Y.Hypertension.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","b4fcd00e":"plt.figure(figsize=(16,4))\nplt.xticks(rotation=90)\nax = sns.countplot(x=df[\"Neighbourhood\"] , hue = df[\"show\"] , order =df[\"Neighbourhood\"].value_counts().index)\nax.set_title(\"Show\/NoShow of Appointments by Age\")\nplt.show()","2ec633a8":"df.groupby(['show','Handicap'], as_index=False).size()","3b665094":"X.Handicap.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","ca89e4e1":"Y.Handicap.value_counts().iplot(kind='bar',text=['0', '1'], title='Show = 0',color=['blue'])","e13da549":"df_ha_ratio = df[df.show == 1].groupby(['Handicap']).size()\/df.groupby(['Handicap']).size()\nax = sns.barplot(x=df_ha_ratio.index, y=df_ha_ratio, palette=\"RdBu_r\")\nax.set_title(\"Show Percentage for Handicap\")\nplt.show()","65df0a00":"plt.figure(figsize=(16,2))\nplt.xticks(rotation=90)\ndata = sns.boxplot(x=df.Age)","01b2c554":"# Medical Show No-Show Appointment\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","c976b81f":"As we can see there's no missing values now we check if there are duplicated values ","225f4009":"From the above visualization we can see that there are around 70,000 patients without Hypertension and out of them around 78% have come for the visit.\nOut of the 19,000 patients with Hypertension around 85% of them have come for the visit.\nSo, Hypertension feature could help us in determining if a patient will turn up for the visit after an appointment.","3164c79d":"From the above visualization we can see that there are around 80,000 patients without Scholarship and out of them around 80% have come for the visit.\nOut of the 10,000 patients with Scholarship around 75% of them have come for the visit.\nSo, Scholarship feature could help us in determining if a patient will turn up for the visit after an appointment.","2c9b878d":"<a id='intro'><\/a>\n## Introduction\n\n>We have a dataset for 11.5k patients. We are going to analyse these data according to their Gender, Age, Neighbhourhood, Scholarship, Diabetes, Alcoholism, Handcap, SMS_received and Hypertension.","45758a34":"<a id='conclusions'><\/a>\n## Conclusions\nFrom the above feature importance, we could see that Gender, Age, Neighbourhood, Scholarship and Hypertension are some of the top features that would help us determine if the patient who has taken an appointment will Show\/NoShow.\n> ##### The limitations associated with the conclusions are:\n\n> The conclusion is not full proof that given the above requirement the movie will be a big hit but it can be.\n\n> Also, we also lost some of the data in the data cleaning steps where we dont know the revenue and budget of the movie, which has affected our analysis.\n\n> This conclusion is not error proof.","b147f2a6":"Then we check if there are missing values in the data ","9cab340b":"We confirm that age column doesn't contain negative values ","8cf6e0ef":"As we can see the percentage of females that don't show up are higher than the males. on the other hand, the percentage of females that show up is higher \nwe can conclude that number of females that come to the clinic is higher than males  ","ff20e604":"presenting the distribution of average ages that shows up","0a424f5b":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n> After cleaning our data let's answer the questions we had earlier using statistics and visualizations.","e7db20fb":"We've removed the duplicated values","d9982c83":"From the above visualization we can see that there are around 90,000 patients without Alcoholism and out of them around 80% have come for the visit.\nOut of the 5,000 patients with Alcoholism around 80% of them have come for the visit.\nAs the percentage of visits for patients with and without Alcoholism is the same it may not help us in determining if a patient will come for a visit.","46296b5a":"From the above BoxPlot we can see that the Median Age is around 30 and the IQR is between 18 and 55. Though the BoxPlot shows few datapoints as outliers we will not consider them as true outliers for this case.","83348696":"#### Questions and Considerations: \n> - Depending on a patient's characteristics, will he or she show up or not?\n> - What factors impact the most to whether or not a patient shows up? \n","dfc413c8":"From the above visualization we can see that there are around 80,000 patients without Diabetes and out of them around 80% have come for the visit.\nOut of the 8,000 patients with Diabetes around 83% of them have come for the visit.\nSo, Diabetes feature could help us in determining if a patient will turn up for the visit after an appointment.","e90101da":"From the above visualization looks like the ratio of Show to NoShow is almost the same for all Neighbourhood's.\nAnd most patients come from JARDIM CAMBURI ","5fe81159":"We drop the unused features","3c60daec":"The final shape of the data is as below ","47ce7c48":"From the above visualization we can see that there are more than 60,000 patients who have not received SMS and out of them around 84% have come for the visit.\nOut of the 25,000 patients who have received SMS around 72% of them have come for the visit.\nwe can conclude that recieving SMS have no correlation with the visit probability.","c8efda66":"From the above visualization we can see that there are around ,000 patients without Handicap and out of them around 80% have come for the visit.\nAs we can see a clear distinction between different Handicap levels this feature will help us in determining if a patient will turn up for the visit after taking an appointment.","9f15678b":"<a id='wrangling'><\/a>\n## Data Wrangling\n>Here in this section we will see how the data is represented, what will we use in the data analysis process and what we won't.\n### General Properties","f816046e":"we rename the columns with its correct name","72e9e8a2":"As we can see 20% of patients don't show up"}}