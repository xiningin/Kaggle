{"cell_type":{"92453aff":"code","69759251":"code","08289dc3":"code","012e4e85":"code","a710c03c":"code","4dd546f6":"code","ae130f38":"code","2d28cb5e":"code","57fb650e":"code","5d3f4184":"code","23825423":"code","af7202b2":"code","9f6899df":"code","bd365c81":"code","e6b3ac8f":"code","630a0630":"code","3022cb23":"code","7b2bdb05":"code","7a383a8f":"markdown","bcff2fdd":"markdown","6de2ef5e":"markdown","7204e3a6":"markdown","40575925":"markdown","cc283cf3":"markdown","d24c553d":"markdown","a8098fcd":"markdown","59fb5b65":"markdown","c9cb9594":"markdown","7d438ab8":"markdown","d39283c3":"markdown","809eb35b":"markdown","32dd76ef":"markdown"},"source":{"92453aff":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nimport plotly.express as px\nimport cufflinks as cf\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport os\nfrom datetime import datetime\ninit_notebook_mode(connected=True)\ncf.go_offline()\nimport json\nfrom plotly import graph_objects as go\nfrom plotly.subplots import make_subplots\n\n%matplotlib inline","69759251":"# Reading in csv file into dataframe\n\ncanada_data_filepath = '..\/input\/youtube-new\/CAvideos.csv'\ndf = pd.read_csv(canada_data_filepath)\n\n#Formatting datetime into correct data type\ndf.trending_date = pd.to_datetime(df.trending_date, format='%y.%d.%m')\n","08289dc3":"# Checking for na values\ndf.isna().any()","012e4e85":"#Checking the amount of na values in description column\n\ndf.description.isna().sum()","a710c03c":"#Retrieving category_id and category data from json\n\ncategory_id_filepath = '..\/input\/youtube-new\/US_category_id.json'\ncategory_id_json = open(category_id_filepath)\n\nraw_category_data = json.load(category_id_json)\n\ncategory_data = {}\n\nfor item in raw_category_data['items']:\n    category_data[int(item['id'])] = item['snippet']['title']\n\n# Mapping category data into the dataframe\n\ndf['category'] = df['category_id'].apply(lambda x: category_data.get(x, 'N\/A'))","4dd546f6":"numerical_cols = ['views','likes','dislikes','comment_count']\n\nsns.heatmap(df[numerical_cols].corr(),square=True, annot=True)","ae130f38":"px.histogram(df, x=numerical_cols, log_y=True)","2d28cb5e":"df.var()","57fb650e":"#Preparing data\nnumerical_cols = ['views','likes', 'dislikes', 'comment_count']\nlog_numerical_cols = []\n\nfor col in numerical_cols:\n    df[col+'_log'] = np.log(df[col] + 1)\n    log_numerical_cols.append(col+'_log')\n\nfig_distribution = px.histogram(df, x=log_numerical_cols)\n\nfig_distribution","5d3f4184":"sum_list = {}\n\nfor col in numerical_cols:\n    sum_list[col] = df[col].sum()\n\n    \nsum_array = np.array(sum_list)\npx.pie(values=sum_list, names=numerical_cols,title='Sum of attributes')","23825423":"px.histogram(df, x='category', color_discrete_sequence=['#369aff'], title='No. of videos in each category')","af7202b2":"px.pie(df, names='category', values='views', title='Total Views in each category')\n","9f6899df":"summary_df = df.groupby(by='category',).sum()\ncols_to_keep = ['views', 'likes', 'dislikes', 'comment_count',\n       'comments_disabled', 'ratings_disabled', 'video_error_or_removed']\nsummary_df = summary_df[cols_to_keep]\n\nfig = px.bar(summary_df,\n       x=summary_df.index, \n       y=numerical_cols, \n       barmode='group',\n       log_y=True,title='Total Value by Video Category')\n\nfig.update_layout(yaxis={'exponentformat': 'E'})","bd365c81":"print(summary_df.sort_values(by='views',ascending=False).head(3).index)\nprint(summary_df.sort_values(by='likes',ascending=False).head(3).index)\nprint(summary_df.sort_values(by='comment_count',ascending=False).head(3).index)","e6b3ac8f":"#Adding some calculated columns\n\nsummary_df['L\/V_ratio'] = summary_df['likes']\/summary_df['views']\nsummary_df['D\/V_ratio'] = summary_df['dislikes']\/summary_df['views']\nsummary_df['C\/V_ratio'] = summary_df['comment_count']\/summary_df['views']\nsummary_df['L\/D_ratio'] = summary_df['likes']\/summary_df['dislikes']","630a0630":"fig = px.bar(summary_df, y=['L\/V_ratio', 'D\/V_ratio','C\/V_ratio'], \n             barmode='group', \n             hover_data={'views':True},\n             title='Like, Dislike and Comments over Views Ratio')\nfig","3022cb23":"px.bar(summary_df, y=['L\/D_ratio','views'], title='Like Dislike Ratio',barmode='group',log_y=True)","7b2bdb05":"plt.figure(figsize=(12,12))\nsns.heatmap(summary_df.corr(),square=True,annot=True)","7a383a8f":"There are a few observations that we can draw from the initial explore:\n1.  There are 1296 NaN values in the description column. However, in this notebook the description data will not be utilized. This will not affect the analysis. If space complexity is a concern, we could remove the column from analyis as well.\n\n\n2. Some of the videos appear more than once, this can be seen that there are only 24104 unique values as compared to 40881 total rows. However, it is not cleaned as it doesn't affect the objectives, such as distribution data, or categorical data\n\n\n3. From the dataset, it seems that the category_id will be useful for analysis, but there is no reference as to which id represents what category. However, with the dataset there is a json file that contains exactly this information. The information is extracted out and added into the dataframe","bcff2fdd":"From the plots, it seems that the ratios does not have very strong correlation to the total views. Let's verify this with a correlation heatmap","6de2ef5e":"From the bar chart above, it can be seen that the general pattern is Views having the largest value, followed by likes, then comment and lastly dislikes. However, the differences between the attributes are not the same in each category. Some calculated columns, such as like\/dislike ratio, can be prepared to analyze this further. \n\nFrom the sorted data, it can be seen that the 3 most popular category are the Entertainemnt, Music and Comedy category.","7204e3a6":"# Introduction\n##### prepared by [Edward Goh](https:\/\/www.linkedin.com\/in\/edward-goh-b98b55126\/)\n\n\nThis is a Exploratory data analysis report of the Youtube Trending Video dataset. This [dataset](https:\/\/www.kaggle.com\/datasnaek\/youtube-new) contains trending youtube video statistics data from 10 countries.\n\nLicense: CC0 Public Domain\n\nThe data is extracted through a script via youtube api. More info can be found in the [dataset landing page](https:\/\/www.kaggle.com\/datasnaek\/youtube-new)\n\n\n# Objectives\n\nThe objective of this case study is to (adopted from tasks in the dataset [tasks](https:\/\/www.kaggle.com\/datasnaek\/youtube-new\/tasks) page):\n\n1. Find out correlation between views and likes\n2. Visualize distribution of the available attributes(likes, dislikes, views, comments)\n\n\nThe data that is used will be the Canada Youtube data for now. This is to keep to project simple. \n\nIn future, a pipeline might be prepared to go through all 10 datasets for comparisons between different countries.\n\n","40575925":"Now the histogram is normalized and easier to understand. ","cc283cf3":"Checking the top 3 video category, by views, likes, and comment_count.","d24c553d":"Through the interactive plot, we can see that for all of the 4 attributes that are of interest, the views, likes, dislikes and comment count, the distribution is left skewed. Let's take a look at the variance.","a8098fcd":"Now that we understand the landscape of our data, we can start visualizing the data to help us understand it even more. \n\n\nLet's take a look at the correlation, and then the distribution of the attributes as a whole.","59fb5b65":"From the pie chart, it can be seen that there are almost the same amount of total views for the Music and Entertainment category. However, from the bar chart showing the no. of videos, there are a lot less music videos. This implies that people usually watch\/listen to music videos multiple times, which makes sense.\n\nLet's explore the distribution of each attribute within it's own category. We will create a summary dataset that is grouped by the category.","c9cb9594":"# Author's Note\n\nThis is an EDA notebook that I have prepared to be part of my portfolio. It showcases that I am able to perform junior level data analysis, and also able to use the relevant data manipulation and visualization libraries.\n\nPlease comment and help to suggests areas where I can study more and improve myself. Thank you!","7d438ab8":"Let us not forget that the histogram is normalized, here is a pie chart to show the actual sum of views, likes, dislikes, comments.\n\n\nNow let's take a look at the data when we separate them by categories. The views count is exponentially more than other attributes.\n\nLet's explore \n1. Which categories have more entries,\n2. The distribution of the attributes in each of the category","d39283c3":"Let's take a look at the dataset, get to know the data, check for any NaN values, unique values etc.","809eb35b":"The variance for these 4 columns are in powers > 8 -  13, hence, using log distribution to normalize the plots should be a better way for us to understand and represent the distribution.\n\nFor more info on when and why to use log distributions, please read [this](https:\/\/stats.stackexchange.com\/questions\/107610\/what-is-the-reason-the-log-transformation-is-used-with-right-skewed-distribution).","32dd76ef":"# Summary\n\nIn this EDA, there are some findings that are obtained through this data analysis.\n\nFirstly, the correlation heatmap showed that the strongest correlation was between Likes and Views , **corr = 0.83 and between Likes and Comment Count, corr = 0.84**.\n\nAfter that, the distribution for all of the attributes were visualized. The log distibution was used to normalize the values as there were attributes that had high variance and exponential values. **Generally, there was always more no. of views, then followed in order with the no. of likes, no. of comments, and no. of dislikes.** This is probably because most people only view the videos without any interaction.\n\nFollowing that, the total no. of videos and total no. of views were visualized and analysed. **The analysis showed that the for the Music videos category, the no. of videos were less by 3.5 times but the total no. of views were similar with the Entertainment videos category.** This is most likely because music videos are much more repeated compared to other video categories.\n\nBy checking the top 3 video categories by sorting the dataset with views, likes and comments, it is safe to say that in Canada, the **top 3 video categories are the Entertainment, Music and Comedy** categories.\n\nLastly, the Like\/Views, Dislike\/Views, Comment_count\/Views, and Like\/Dislike ratio were computed and added into the dataset. **It showed that the ratio does not have a huge correlation as to how good the category is performing.**"}}