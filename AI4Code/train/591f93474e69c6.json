{"cell_type":{"18b2e2c1":"code","73e5378e":"code","5a03de47":"code","de7e2fca":"code","b8f62fb2":"code","12a6e2b8":"code","75880442":"code","99de9a70":"code","c3999178":"code","c6e84147":"code","b1e5798e":"code","a30a0e98":"code","d11ce139":"code","1a92220c":"code","5deda932":"code","aea1d6e9":"code","7e00a5dd":"code","8e3bb776":"code","4d15cec0":"code","c029e990":"code","290b8c5b":"code","e6c3dc73":"code","dc2c3b7a":"code","bde89939":"code","16caf5e3":"code","12d99ae5":"code","859102a4":"code","b39c0111":"code","fbbbbd28":"code","275dda74":"code","61691699":"code","20c92924":"code","bc8f29ca":"code","4643dd9d":"code","cb6271c9":"code","c83c4117":"code","cfd9f72c":"code","83357d69":"code","107ebb5f":"code","5b5bc6ed":"code","4f220436":"code","c17c326f":"code","d1ef0a96":"code","4650be1a":"code","6746c9ec":"code","606c3d74":"code","a8ef4f94":"code","14158439":"code","d2e66694":"code","6f9c485e":"code","f5b64f35":"code","743aca62":"code","147ed0d6":"code","43497e2b":"code","f1b3ed4e":"code","79854dd6":"code","99f3bfc7":"code","d0dbd309":"markdown","596fb0e7":"markdown","6ba0e4f2":"markdown","9d1d0db5":"markdown","ff93499f":"markdown","5053389e":"markdown","fa21c69e":"markdown","b6afe163":"markdown","6ae5cb8d":"markdown","b843a5ea":"markdown","9c919697":"markdown","d8183a92":"markdown","83db2e17":"markdown","5c411ac9":"markdown","36eeccc4":"markdown","0c199742":"markdown","777244d7":"markdown","d41eea35":"markdown"},"source":{"18b2e2c1":"import numpy as np\nimport pandas as pd\nimport statsmodels.api as sm\nimport matplotlib.pyplot as plt\nimport time\nfrom statsmodels.stats.outliers_influence import variance_inflation_factor\nfrom sklearn.preprocessing import MinMaxScaler\n\nparams = {'legend.fontsize': 'xx-large',\n         'axes.labelsize': 'xx-large',\n         'axes.titlesize':'xx-large',\n         'xtick.labelsize':'xx-large',\n         'ytick.labelsize':'xx-large'}\nplt.rcParams.update(params)","73e5378e":"train_df = pd.read_csv(\"\/kaggle\/input\/covid19-global-forecasting-week-3\/train.csv\")\ntrain_df.set_index(\"Id\", inplace=True)\n\ntrain_df['Date'] =  pd.to_datetime(train_df['Date'])\ntrain_df =  train_df.loc[train_df[\"Date\"] <= \"2020-04-02\", :]\nlast_date = train_df[\"Date\"].max()\nprint(\"Data from {} to {}.\\n\".format(train_df[\"Date\"].min(), last_date))\n\ncategorical_cols = [\"Province_State\", \"Country_Region\"]\ntrain_df.loc[:, categorical_cols] = train_df.loc[:, categorical_cols].astype(\"category\")\n\ntrain_df[\"CaseFatalityRate\"] = train_df[\"Fatalities\"] \/ train_df[\"ConfirmedCases\"]\n\nint_cols = [\"ConfirmedCases\", \"Fatalities\"]\ntrain_df.loc[:, int_cols] = train_df.loc[:, int_cols].astype(\"int\")\n\nprint(train_df.info())\ntrain_df","5a03de47":"train_df.loc[(train_df[\"Country_Region\"] == \"China\") & (train_df[\"Date\"] == last_date), :]","de7e2fca":"train_df.loc[(train_df[\"Country_Region\"] == \"France\") & (train_df[\"Date\"] == last_date), :]","b8f62fb2":"train_df.loc[(train_df[\"Country_Region\"] == \"Italy\") & (train_df[\"Date\"] == last_date), :]","12a6e2b8":"train_df.loc[(train_df[\"Country_Region\"] == \"Spain\") & (train_df[\"Date\"] == last_date), :]","75880442":"countries = [\"Italy\", \"China\", \"Spain\", \"France\", \"Korea, South\", \"Japan\", \"Germany\", \"US\", \n             \"Switzerland\", \"Iran\", \"United Kingdom\", \"Netherlands\", \"Austria\", \"Belgium\", \n             \"Norway\", \"Portugal\", \"Canada\", \"Brazil\", \"Israel\"]","99de9a70":"features = [\"Province_State\", \"Country_Region\", \"Date\", \"ConfirmedCases\", \"Fatalities\"]\n\ndf = train_df.loc[train_df[\"Country_Region\"].isin(countries), [xx for xx in features]]\ndf[\"Country_Region\"] = df[\"Country_Region\"].cat.remove_unused_categories()\ndf = df.groupby([\"Country_Region\", \"Date\"])[\"ConfirmedCases\", \"Fatalities\"].sum()\ndf[\"CaseFatalityRate\"] = df[\"Fatalities\"] \/ df[\"ConfirmedCases\"]\n\nprint(df.info())\ndf","c3999178":"import warnings\nwarnings.filterwarnings(\"ignore\")\n\nt0 = time.time()\n\ndf[\"NewConfirmedCases\"] = df[\"ConfirmedCases\"].diff()\ndf[\"NewConfirmedCases\"].fillna(0, inplace=True)\ndf.loc[df[\"NewConfirmedCases\"] < 0, \"NewConfirmedCases\"] = 0\ndf[\"NewFatalities\"] = df[\"Fatalities\"].diff()\ndf[\"NewFatalities\"].fillna(0, inplace=True)\ndf.loc[df[\"NewFatalities\"] < 0, \"NewFatalities\"] = 0\n\nfig, axes = plt.subplots(nrows=len(countries)*2, ncols=2, figsize=(18, len(countries) * 6 * 2))\nfor i, c in enumerate(countries):\n    df.loc[c, [\"ConfirmedCases\", \"Fatalities\"]].plot(ax=axes[2*i, 0], grid=True)\n    axes[2*i, 0].set_title(c)\n    df.loc[c, [\"CaseFatalityRate\"]].plot(ax=axes[2*i, 1], grid=True, color=\"red\")\n    axes[2*i, 1].set_title(c)\n    axes[2*i, 1].set_yticklabels(['{:,.2%}'.format(x) for x in axes[2*i, 1].get_yticks()]) #y axis with percentage\n    df.loc[c, [\"NewConfirmedCases\"]].plot(ax=axes[2*i+1, 0], grid=True, color=\"purple\")\n    axes[2*i+1, 0].set_title(c)\n    df.loc[c, [\"NewFatalities\"]].plot(ax=axes[2*i+1, 1], grid=True, color=\"green\")\n    axes[2*i+1, 1].set_title(c)\nplt.tight_layout()\nplt.show()\n\ndf.drop([\"NewConfirmedCases\", \"NewFatalities\"], axis=1, inplace=True)\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","c6e84147":"t0 = time.time()\nfor feature in [\"ConfirmedCases\", \"Fatalities\", \"CaseFatalityRate\"]:\n    plt.figure(figsize=(14, 6))\n    for c in [\"Italy\", \"China\", \"Spain\", \"France\"]:\n        df.loc[c, feature].plot(label=c, grid=True)\n    plt.title(feature)\n    if feature == \"CaseFatalityRate\":\n        plt.gca().set_yticklabels(['{:,.2%}'.format(x) for x in plt.gca().get_yticks()])\n    plt.legend()\n    plt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","b1e5798e":"values = [3.4, 4.2, 3.0, 6.5, 11.5, 13.4, 8.3, 2.9, 4.7, \n          1.5, 2.8, 4.7, 7.6, 6.2, 3.9, 3.4, 2.7, 2.2, 3.1]\nhospital_beds = pd.DataFrame(values, index=countries, columns=[\"hospital_beds_per_1k\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\nhospital_beds.sort_values(\"hospital_beds_per_1k\", ascending=True).plot(kind=\"barh\", rot=0, \n                                                                       grid=True, ax=axes[0])\nhospital_beds.plot(y=\"hospital_beds_per_1k\", kind=\"pie\", legend=False, \n                   fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","a30a0e98":"values = [45.1, 37.1, 42.3, 41.2, 41.2, 46.9, 46.8, 37.9, 42.2, \n          29.4, 40.5, 42.5, 43.8, 41.4, 39.1, 41.8, 42.0, 31.6, 29.7]\nmedian_age = pd.DataFrame(values, index=countries, columns=[\"MedianAge\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\nmedian_age.sort_values(\"MedianAge\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\nmedian_age.plot(y=\"MedianAge\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","d11ce139":"values = [83.5, 76.9, 83.6, 82.7, 83.0, 84.6, 81.3, 78.9, 83.8, 76.7, \n          81.3, 82.3, 81.5, 81.6, 82.4, 82.0, 82.4, 75.9, 83.0]\nlife_expectancy = pd.DataFrame(values, index=countries, columns=[\"LifeExpectancy\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\nlife_expectancy.sort_values(\"LifeExpectancy\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\nlife_expectancy.plot(y=\"LifeExpectancy\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","1a92220c":"values = [66.56, 64.18, 78.42, 78.34, 83.59, 80.48, 73.58, 69.23, 73.23, 51.86, \n          74.88, 75.63, 79.46, 78.3, 74.36, 71.64, 71.27, 55.59, 72.97]\nhealth_care_index = pd.DataFrame(values, index=countries, columns=[\"HealthCareIndex\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\nhealth_care_index.sort_values(\"HealthCareIndex\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\nhealth_care_index.plot(y=\"HealthCareIndex\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","5deda932":"values = [54.97, 81.24, 39.16, 42.91, 54.8, 36.78, 28.42, 35.74, 21.31, \n          78.03, 40.63, 27.34, 21.78, 50.48, 20.29, 30.65, 27.66, 56.1, 56.93]\npollution_index = pd.DataFrame(values, index=countries, columns=[\"PollutionIndex\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\npollution_index.sort_values(\"PollutionIndex\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\npollution_index.plot(y=\"PollutionIndex\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","aea1d6e9":"values = [1493.3, 2043.0, 1499.0, 1089.9, 1667.4, 1583.2, 1599.5, 1016.6, 1489.8, 936.5, 827.7, \n          1459.9, 1927.0, 2440.9, 552.8, 1133.4, 1021.3, 333.5, 1280.7]\ncigarette_consumption = pd.DataFrame(values, index=countries, columns=[\"CigaretteConsumption\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\ncigarette_consumption.sort_values(\"CigaretteConsumption\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\ncigarette_consumption.plot(y=\"CigaretteConsumption\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","7e00a5dd":"values = [24.98, 78.92, 21.99, 22.21, 24.94, 29.36, 14.60, 25.69, 10.52, \n          64.41, 22.23, 8.63, 15.33, 12.07, 7.82, 12.63, 15.69, 32.79, 30.80]\npress_freedom_index = pd.DataFrame(values, index=countries, columns=[\"PressFreedomIndex\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\npress_freedom_index.sort_values(\"PressFreedomIndex\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\npress_freedom_index.plot(y=\"PressFreedomIndex\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","8e3bb776":"values = [7.52, 2.26, 8.29, 8.12, 8.00, 7.99, 8.68, 7.96, 9.03, 2.38, \n          8.52, 9.01, 8.29, 7.64, 9.87, 8.03, 9.22, 6.86, 7.86]\ndemocracy_index = pd.DataFrame(values, index=countries, columns=[\"DemocracyIndex\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\ndemocracy_index.sort_values(\"DemocracyIndex\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\ndemocracy_index.plot(y=\"DemocracyIndex\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","4d15cec0":"values = [205, 148, 94, 122, 530, 347, 237, 36, 216, 50, \n          275, 511, 107, 377, 15, 112, 4, 25, 411]\npopulation_density = pd.DataFrame(values, index=countries, columns=[\"PopulationDensity\"])\n\nt0 = time.time()\nfig, axes = plt.subplots(nrows=1, ncols=2, figsize=(16, 7.5))\npopulation_density.sort_values(\"PopulationDensity\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes[0])\npopulation_density.plot(y=\"PopulationDensity\", kind=\"pie\", legend=False, fontsize=12, ax=axes[1])\nplt.show()\nprint(\"Done in {:.4f} s.\".format(time.time() - t0))","c029e990":"values = [0, 1, 0, 0, 1, 1, 0, 0, 0, 0.5, 0, 0, 0, 0, 0, 0, 0, 0, 0]\nwearing_masks = pd.DataFrame(values, index=countries, columns=[\"WearingMasks\"], dtype=float)\n\nwearing_masks","290b8c5b":"df1 = df.reset_index(level=[0]).loc[last_date, :].set_index(\"Country_Region\")\n\ndf1 = df1.merge(hospital_beds, left_index=True, right_index=True)\ndf1 = df1.merge(median_age, left_index=True, right_index=True)\ndf1 = df1.merge(life_expectancy, left_index=True, right_index=True)\ndf1 = df1.merge(health_care_index, left_index=True, right_index=True)\ndf1 = df1.merge(pollution_index, left_index=True, right_index=True)\ndf1 = df1.merge(cigarette_consumption, left_index=True, right_index=True)\ndf1 = df1.merge(press_freedom_index, left_index=True, right_index=True)\ndf1 = df1.merge(democracy_index, left_index=True, right_index=True)\ndf1 = df1.merge(population_density, left_index=True, right_index=True)\ndf1 = df1.merge(wearing_masks, left_index=True, right_index=True)\n\ndf1","e6c3dc73":"# the first date when at least 100 confirmed cases are announced \ndate_exceed_100_confirmed_cases = df.loc[df.loc[:, \"ConfirmedCases\"] >= 100, :]\\\n                                  .reset_index(\"Date\").groupby(\"Country_Region\")[\"Date\"].min()\\\n                                  .rename(\"DateExceed100ConfirmedCases\")\n# the first date when at least 5 fatalities are announced \ndate_exceed_5_fatalities = df.loc[df.loc[:, \"Fatalities\"] >= 5, :]\\\n                             .reset_index(\"Date\").groupby(\"Country_Region\")[\"Date\"].min()\\\n                             .rename(\"DateExceed5Fatalities\") \n\ntmp = pd.merge(date_exceed_100_confirmed_cases, date_exceed_5_fatalities, \n               left_index=True, right_index=True, how=\"outer\")\ntmp[\"ConfirmedCasesGrowthRate\"] = df1[\"ConfirmedCases\"] \/ \\\n((last_date - tmp[\"DateExceed100ConfirmedCases\"]) \/ np.timedelta64(1, 'D'))\ntmp[\"FatalitiesGrowthRate\"] = df1[\"Fatalities\"] \/ \\\n((last_date - tmp[\"DateExceed5Fatalities\"]) \/ np.timedelta64(1, 'D'))\n\ntmp[\"FatalitiesGrowthRate\"].fillna(0, inplace=True)\ntmp","dc2c3b7a":"fig, axes = plt.subplots(nrows=1, ncols=1, figsize=(12, 7.5))\ntmp[[\"ConfirmedCasesGrowthRate\"]].sort_values(\"ConfirmedCasesGrowthRate\", ascending=True).plot(kind=\"barh\", rot=0, \n                                                                       grid=True, ax=axes)\nplt.show()\nfig, axes = plt.subplots(nrows=1, ncols=1, figsize=(12, 7.5))\ntmp[[\"FatalitiesGrowthRate\"]].sort_values(\"FatalitiesGrowthRate\", ascending=True).plot(kind=\"barh\", rot=0, \n                                                                       grid=True, ax=axes)\nplt.show()","bde89939":"df1 = df1.merge(tmp.loc[:, [\"ConfirmedCasesGrowthRate\", \"FatalitiesGrowthRate\"]] , left_index=True, right_index=True)\ndf1","16caf5e3":"cases = df1[\"ConfirmedCases\"]\nfatalities = df1[\"Fatalities\"]\ncase_fatality_rate = df1[\"CaseFatalityRate\"]\ncases_growth_rate = df1[\"ConfirmedCasesGrowthRate\"]\nfatalities_growth_rate = df1[\"FatalitiesGrowthRate\"]\ndf1.drop([\"ConfirmedCases\", \"Fatalities\", \"CaseFatalityRate\", \n          \"ConfirmedCasesGrowthRate\", \"FatalitiesGrowthRate\"], axis=1, inplace=True)\ndf1","12d99ae5":"scaler = MinMaxScaler() \ndf1 = pd.DataFrame(scaler.fit_transform(df1), columns=df1.columns, index=df1.index)\ndf1","859102a4":"def build_vif(df):\n    vif = pd.DataFrame()\n    vif[\"feature\"] = df.columns\n    vif[\"vif\"] = [variance_inflation_factor(df.values, i) for i in range(df.shape[1])]\n    vif.set_index(\"feature\", inplace=True)\n    return vif\n\ndef build_leverage(df, visualize=True, xticks_labels=None, rotation=85, \n                   title=None, augment_const=True):\n    \"\"\"\n    If constant columns has not already been augmented, use augment_const=True, \n    otherwise use augment_const=False. \n    \"\"\"\n    if augment_const:\n        X = df.assign(const=1)\n    else:\n        X = df\n    regression_results = sm.OLS(pd.DataFrame([[1]], index=X.index), X).fit()\n    leverage = regression_results.get_influence().hat_matrix_diag\n    if visualize:\n        plt.plot(leverage)\n        plt.grid()\n        if title is not None:\n            plt.title(\"leverage - \" + title)\n        if xticks_labels is not None:\n            plt.xticks(range(len(countries)), countries, rotation=rotation)\n        plt.show()\n    return leverage","b39c0111":"build_vif(df1)","fbbbbd28":"title = \"df1\"\nleverage = build_leverage(df1, xticks_labels=countries, title=title)\n\nleverage = pd.DataFrame(leverage, columns=[\"leverage\"], index=countries)\nfig, axes = plt.subplots(nrows=1, ncols=1, figsize=(8, 7.5))\nleverage.sort_values(\"leverage\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes)\nplt.title(\"leverage - \" + title)\nplt.show()","275dda74":"build_vif(df1.loc[:, [\"MedianAge\", \"LifeExpectancy\"]])","61691699":"df2 = df1.drop([\"HealthCareIndex\", \"LifeExpectancy\", \"DemocracyIndex\", \"PollutionIndex\"], axis=1)\nbuild_vif(df2)","20c92924":"title = \"df2\"\nleverage = build_leverage(df2, xticks_labels=countries, title=title)\n\nleverage = pd.DataFrame(leverage, columns=[\"leverage\"], index=countries)\nfig, axes = plt.subplots(nrows=1, ncols=1, figsize=(8, 7.5))\nleverage.sort_values(\"leverage\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes)\nplt.title(\"leverage - \" + title)\nplt.show()","bc8f29ca":"df3 = df1.loc[:, [\"hospital_beds_per_1k\", \"MedianAge\", \"WearingMasks\"]]\nbuild_vif(df3)","4643dd9d":"title = \"df3\"\nleverage = build_leverage(df3, xticks_labels=countries, title=title)\n\nleverage = pd.DataFrame(leverage, columns=[\"leverage\"], index=countries)\nfig, axes = plt.subplots(nrows=1, ncols=1, figsize=(8, 7.5))\nleverage.sort_values(\"leverage\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes)\nplt.title(\"leverage - \" + title)\nplt.show()","cb6271c9":"# control group \nnp.random.seed(42)\ndf4 = pd.DataFrame({\"random_col_1\": np.random.rand(df1.shape[0]), \n                    \"random_col_2\": np.random.rand(df1.shape[0]),\n                    \"random_col_3\": np.random.rand(df1.shape[0])}, index=df2.index) \nscaler = MinMaxScaler() \ndf4 = pd.DataFrame(scaler.fit_transform(df4), columns=df4.columns, index=df4.index)\n\nbuild_vif(df4)","c83c4117":"title = \"df4\"\nleverage = build_leverage(df4, xticks_labels=countries, title=title)\n\nleverage = pd.DataFrame(leverage, columns=[\"leverage\"], index=countries)\nfig, axes = plt.subplots(nrows=1, ncols=1, figsize=(8, 7.5))\nleverage.sort_values(\"leverage\", ascending=True).plot(kind=\"barh\", grid=True, ax=axes)\nplt.title(\"leverage - \" + title)\nplt.show()","cfd9f72c":"def do_regression(df, y):\n    title_ = \"leverage - \" + y\n    if y == \"ConfirmedCases\":\n        y = cases\n    elif y == \"Fatalities\":\n        y = fatalities\n    elif y == \"CaseFatalityRate\":\n        y = case_fatality_rate\n    elif y == \"ConfirmedCasesGrowthRate\":\n        y = cases_growth_rate\n    elif y == \"FatalitiesGrowthRate\":\n        y = fatalities_growth_rate\n    else:\n        raise NotImplementedError\n    regression_results = sm.OLS(y, df.assign(const=1)).fit()\n    print(regression_results.summary())","83357d69":"do_regression(df1, \"ConfirmedCases\")","107ebb5f":"do_regression(df2, \"ConfirmedCases\")","5b5bc6ed":"do_regression(df3, \"ConfirmedCases\")","4f220436":"do_regression(df4, \"ConfirmedCases\")","c17c326f":"do_regression(df1, \"Fatalities\")","d1ef0a96":"do_regression(df2, \"Fatalities\")","4650be1a":"do_regression(df3, \"Fatalities\")","6746c9ec":"do_regression(df4, \"Fatalities\")","606c3d74":"do_regression(df1, \"CaseFatalityRate\")","a8ef4f94":"do_regression(df2, \"CaseFatalityRate\")","14158439":"do_regression(df3, \"CaseFatalityRate\")","d2e66694":"do_regression(df4, \"CaseFatalityRate\")","6f9c485e":"do_regression(df1, \"ConfirmedCasesGrowthRate\")","f5b64f35":"do_regression(df2, \"ConfirmedCasesGrowthRate\")","743aca62":"do_regression(df3, \"ConfirmedCasesGrowthRate\")","147ed0d6":"do_regression(df4, \"ConfirmedCasesGrowthRate\")","43497e2b":"do_regression(df1, \"FatalitiesGrowthRate\")","f1b3ed4e":"do_regression(df2, \"FatalitiesGrowthRate\")","79854dd6":"do_regression(df3, \"FatalitiesGrowthRate\")","99f3bfc7":"do_regression(df4, \"FatalitiesGrowthRate\")","d0dbd309":"***Confirmed cases***","596fb0e7":"***Press freedom index by country***\n\nSource: https:\/\/rsf.org\/en\/ranking","6ba0e4f2":"***Democracy index by country***\n\nSource: https:\/\/en.wikipedia.org\/wiki\/Democracy_Index","9d1d0db5":"***Hospital beds by country (per 1,000 people)***\n\nSource: https:\/\/www.indexmundi.com\/facts\/indicators\/SH.MED.BEDS.ZS","ff93499f":"# Covid19 global forecasting week 3\n\n### Visualization and trials \n\n***Haozhe Sun***\n\n***2020.04.03***","5053389e":"***Case fatality rate***","fa21c69e":"***Fatalities***","b6afe163":"***Life expectancy by country***\n\nSource: https:\/\/ourworldindata.org\/life-expectancy","6ae5cb8d":"***Whether the public wears masks***\n\nSource: my knowledge","b843a5ea":"***Fatalities growth rate***","9c919697":"***Cigarette consumption per year per person by country***\n\nNumber of cigarettes smoked per person per year: age \u2265 15\n\nSource: https:\/\/en.wikipedia.org\/wiki\/List_of_countries_by_cigarette_consumption_per_capita","d8183a92":"***Health care index by country***\n\nSource: https:\/\/www.numbeo.com\/health-care\/rankings_by_country.jsp?title=2019-mid","83db2e17":"***Confirmed cases growth rate***","5c411ac9":"***Pollution index by country***\n\nSource: https:\/\/www.numbeo.com\/pollution\/rankings_by_country.jsp","36eeccc4":"***Population density by country***\n\nPeople per square kilometre of land area\n\nSource: https:\/\/data.worldbank.org\/indicator\/en.pop.dnst?end=2018&start=2018&view=map","0c199742":"***Median age by country***\n\nSource: http:\/\/world.bymap.org\/MedianAge.html","777244d7":"### Add additional features","d41eea35":"### Let's focus on some of the countries"}}