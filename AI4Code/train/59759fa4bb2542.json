{"cell_type":{"f6ee60d5":"code","71759969":"code","dca18d4e":"code","8a4869c7":"code","cc50f565":"code","6b16859a":"code","63563a4a":"code","c2999d3a":"code","a79e9db2":"code","b16e7bf9":"code","a01827cd":"code","91ea5e8e":"code","0e2da88e":"code","549cb99e":"code","0f233653":"code","5b6ccbae":"code","d3b37331":"code","59b3dc84":"code","f53c5957":"code","ab678806":"code","e8c46845":"code","6aecebb8":"code","4944eb46":"code","0046c6be":"code","406a8179":"code","c30d158f":"code","3fbe269c":"code","cfd1b66c":"code","6f4aaa3c":"code","e27347e9":"code","249a68a0":"code","38d2707c":"code","4f0cfd71":"code","5e11997f":"code","b8d7da1e":"code","f37245b3":"code","ba66a3c1":"code","24b29bf7":"code","922f7a02":"code","b2e8a481":"code","98a796d9":"code","b1fbd275":"code","0347096e":"code","05285536":"code","732b1fe0":"code","bff906ec":"code","248d31e9":"code","9ed08e52":"markdown","1e876495":"markdown","2c222bae":"markdown","36303ddf":"markdown","167e0b13":"markdown","1ba0605a":"markdown","675358b8":"markdown","a049b2b5":"markdown","f672076c":"markdown","5d5cbf1e":"markdown","968a0cd2":"markdown","89580d53":"markdown","6d6f11ad":"markdown","4ac0201a":"markdown","889594a3":"markdown","f447b6a5":"markdown","4dd14bc7":"markdown","82144c3b":"markdown","378ad0f4":"markdown","4b735010":"markdown","5a476fd3":"markdown","7ce39258":"markdown","fd53cf81":"markdown","bec89133":"markdown","5d26b5b7":"markdown","e1372c44":"markdown","10da961b":"markdown","dca3f270":"markdown","b05148f6":"markdown","b44b5b01":"markdown","423c376e":"markdown","0b5888a1":"markdown","8345db20":"markdown","82d1e92d":"markdown","3cfd4a4f":"markdown"},"source":{"f6ee60d5":"#importando as bibliotecas\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.font_manager\n%matplotlib inline","71759969":"#importando os dados\ntrain = pd.read_csv('..\/input\/titanic\/train.csv')\ntest=pd.read_csv('..\/input\/titanic\/test.csv')","dca18d4e":"train.head()","8a4869c7":"test.head()","cc50f565":"print(train.shape)\nprint(test.shape)","6b16859a":"train.info()","63563a4a":"train.isna().sum() #vemos que qa colunas Age, Cabin e Embarked possuem dados faltantes, mas o quanto isso representa do total?","c2999d3a":"# Em porcentagem\n((train.isna().sum()\/train.shape[0]).sort_values(ascending=False)) *100","a79e9db2":"train.describe()","b16e7bf9":"#histograma das vari\u00e1veis num\u00e9ricas\ntrain.hist(figsize=(20,16))","a01827cd":"#definindo os dados que aparecer\u00e3o no gr\u00e1fico\n\nlabels = ['N\u00e3o Sobreviventes', \"Sobreviventes\"] \n\ncontagem = pd.cut(x=train.Survived, bins=2,labels= labels, include_lowest=True).value_counts() #n\u00ba de sobreviventes\n\ntaxa_de_sobreviventes = (pd.value_counts(pd.cut(x=train.Survived, bins=2,labels= labels, \n                                                include_lowest=True),normalize=True) * 100).round(1) #taxa de Sobreviventes\nquant_sobrevi = pd.DataFrame({\"Contagem\":contagem, \n                              'Taxa de Sobreviv\u00eancia(%)':taxa_de_sobreviventes}) #criando um DataFrame para facilitar a visualiza\u00e7\u00e3o dos dados\n                              \nquant_sobrevi","91ea5e8e":"plt.figure(figsize=(10,8))\n\nplt.rcParams['font.sans-serif'] = 'Arial'\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['text.color'] = 'gray'\nplt.rcParams['axes.labelcolor']= 'gray'\nplt.rcParams['xtick.color'] = 'gray'\nplt.rcParams['ytick.color'] = 'gray'\nplt.rcParams['font.size']=15\n\n\ncores= ['#009ACD', '#ADD8E6']\npercentages = list(quant_sobrevi['Taxa de Sobreviv\u00eancia(%)'])\nexplode=(0.1,0)\n\nplt.pie(percentages, explode=explode, \n       labels=labels,\n       colors = cores,\n       autopct='%1.0f%%',\n       shadow=True, startangle=0,   \n       pctdistance=0.5,labeldistance=1.1)\nplt.title(\"Taxa de Sobreviventes do Titanic\", fontsize=20, pad=20)","0e2da88e":"#Quantidade de pessoas por sexo\nquant_sex=pd.DataFrame(train['Sex'].value_counts())\nquant_sex['Sex em %'] = (quant_sex\/(quant_sex.Sex.sum()) *100).round(2)\nquant_sex['N\u00ba Sobreviventes por Sexo']= train.groupby('Sex')['Survived'].sum()\nquant_sex['Taxa de Sobreviventes por Sexo em %'] = (quant_sex['N\u00ba Sobreviventes por Sexo']\/quant_sex['Sex'] *100).round(2)\n\nquant_sex","549cb99e":"fig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.rcParams['font.sans-serif'] = 'Arial'\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['text.color'] = 'black'\nplt.rcParams['axes.labelcolor']= 'black'\nplt.rcParams['xtick.color'] = 'black'\nplt.rcParams['ytick.color'] = 'black'\nplt.rcParams['font.size']=15\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_sex.index, y=\"Sex em %\", data=quant_sex, ax=axis1, palette = 'Blues_r')\nax.set_title(\"Percentual de Passageiros a Bordo por Sexo\", fontsize=20,pad=20)\nax.set_xlabel('Sexo', fontsize=15)\nax.set_ylabel('Percentual de Passageiros', fontsize=15)\nax.set_xticklabels(labels=['Masculino', 'Feminino'])\nplt.tight_layout()\n\n\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_sex.index, y='Taxa de Sobreviventes por Sexo em %', data=quant_sex, ax=axis2, palette = 'Blues_r')\nax.set_title(\"Percentual de Sobreviventes por Sexo\", fontsize=20,pad=20)\nax.set_xlabel('Sexo', fontsize=15)\nax.set_ylabel('Taxa de Sobreviventes em %', fontsize=15)\nax.set_xticklabels(labels=['Masculino', 'Feminino'])\nplt.tight_layout()\n","0f233653":"quant_class = pd.DataFrame(train.Pclass.value_counts()) #Quantidade por Classe\n\nquant_class['% de passageiros por Classe']= np.round(((quant_class['Pclass']\/train.shape[0])*100),2)\n\nquant_class['N\u00ba de sobreviventes por Classe'] = train.groupby('Pclass')['Survived'].sum()\n\nquant_class['Taxa de Sobreviventes por Classe em %'] = (quant_class['N\u00ba de sobreviventes por Classe']\/quant_class['Pclass'] *100).round(2)\n\nquant_class","5b6ccbae":"fig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_class.index, y='% de passageiros por Classe', data=quant_class,\n                 ax= axis1, palette='Greys')\nax.set_xlabel('Classe', fontsize=15)\nax.set_ylabel('Passageiros por Classe em %', fontsize=15)\nax.set_title('Percentual de Passageiros por Classe', fontsize=20, pad=20 )\nplt.tight_layout()\n\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_class.index, y='Taxa de Sobreviventes por Classe em %', data=quant_class,\n                 ax= axis2, palette='Greys')\nax.set_xlabel('Classe', fontsize=15)\nax.set_ylabel('Taxa de Sobreviventes em %', fontsize=15)\nax.set_title('Rela\u00e7\u00e3o de Sobreviventes por Classe', fontsize=20, pad=20 )\nplt.tight_layout()","d3b37331":"quant_emb = pd.DataFrame(train.Embarked.value_counts()) #quantidade de pessoas que embarcaram em cada porto\n\nquant_emb['% passageiros por local de Embarque'] = (train.Embarked.value_counts()*100\/train.shape[0]).round(2)\n\nquant_emb['N\u00ba de Sobreviventes por Local de Embarque'] = train.groupby('Embarked')['Survived'].sum()\n\nquant_emb['Taxa de Sobreviventes por Local em %'] = (quant_emb['N\u00ba de Sobreviventes por Local de Embarque']\/quant_emb['Embarked'] *100).round(2).round(2)\n\nquant_emb","59b3dc84":"fig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_emb.index,y='% passageiros por local de Embarque',data=quant_emb, \n                 ax=axis1, palette='Greys_r' )\n\nax.set_title(\"Percentual de passageiros por Local de Embarque\", fontsize=20,pad=20,)\nax.set_xlabel('Local de Embarque', fontsize=15)\nax.set_ylabel('Passageiros (%)', fontsize=15)\nplt.tight_layout()\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_emb.index, y='Taxa de Sobreviventes por Local em %', data=quant_emb,\n                 ax= axis2, palette='Greys_r')\nax.set_xlabel('Local de Embarque', fontsize=15)\nax.set_ylabel('Taxa de Sobreviventes (%)', fontsize=15)\nax.set_title('Rela\u00e7\u00e3o de Sobreviventes por Local de Embarque', fontsize=20, pad=20 )\nplt.tight_layout()","f53c5957":"sus_1 = pd.DataFrame(train.groupby('Embarked')['Pclass'].value_counts()).T #susspeita 1\nsus_1","ab678806":"embar_s\n\n","e8c46845":"embar_s = pd.DataFrame(train.query('Embarked == \"S\"')['Pclass'].value_counts()\/ train.shape[0] *100)\n\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=embar_s.index, y='Pclass', data=embar_s,\n                  palette='Blues_r')\nax.set_xlabel('Classe', fontsize=15)\nax.set_ylabel('Passageiros(%)', fontsize=15)\nax.set_title('Embarques em Southpton por Classe', fontsize=20, pad=20 )\nplt.tight_layout()\n\n","6aecebb8":"sus_2 = pd.DataFrame(train.groupby('Embarked')['Sex'].value_counts()).T #suspeita 2\nsus_2","4944eb46":"train.Sex.value_counts()","0046c6be":"embar_s = pd.DataFrame(train.query('Embarked == \"S\"')['Sex'].value_counts())\nembar_s['H e M'] = train.Sex.value_counts()\nembar_s['% H e M']= embar_s['Sex']\/embar_s['H e M'] *100\nembar_s","406a8179":"plt.figure(figsize=(10,8))\nax = sns.barplot(x=embar_s.index, y='% H e M', data=embar_s,\n                  palette='Blues_r')\nax.set_xlabel('Sexo', fontsize=15)\nax.set_ylabel('Passageiros por Sexo (%)', fontsize=15)\nax.set_title('Embarques em Southpton por Sexo', fontsize=20, pad=20 )\nax.set_xticklabels(labels=['Masculino', 'Feminino'])\nplt.tight_layout()","c30d158f":"quant_sibsp = pd.DataFrame(train.SibSp.value_counts())\nquant_sibsp['% Percentual'] = (quant_sibsp\/train.shape[0] *100).round(2)\nquant_sibsp['N\u00ba de sobreviventes por SibSp'] = train.groupby('SibSp')['Survived'].sum()\nquant_sibsp['Taxa de Sobreviventes por SibSp em %'] = (quant_sibsp['N\u00ba de sobreviventes por SibSp']\/quant_sibsp['SibSp'] *100).round(2)\n\nquant_sibsp","3fbe269c":"fig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_sibsp.index,y='SibSp',data=quant_sibsp, \n                 ax=axis1, palette='Greens_r' )\n\nax.set_title(\"Quantidade de pessoas com c\u00f4njuge e\/ou irm\u00e3os\", fontsize=20,pad=20,)\nax.set_xlabel('Quantidade de conj\/irm', fontsize=15)\nax.set_ylabel('Quantidade de passageiros', fontsize=15)\nplt.tight_layout()\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_sibsp.index, y=\"Taxa de Sobreviventes por SibSp em %\", data=quant_sibsp,\n                 ax= axis2, palette='Greens_r')\nax.set_xlabel('Classe', fontsize=15)\nax.set_ylabel('Taxa de Sobreviventes em %', fontsize=15)\nax.set_title('Rela\u00e7\u00e3o de Sobreviventes por quantidade de conj\/irm', fontsize=20, pad=20 )\nplt.tight_layout()","cfd1b66c":"quant_parch = pd.DataFrame(train.Parch.value_counts())\nquant_parch['% Percentual'] = (quant_parch\/train.shape[0] *100).round(2)\nquant_parch['N\u00ba de sobreviventes por Parch'] = train.groupby('SibSp')['Survived'].sum()\nquant_parch['Taxa de Sobreviventes por Parch em %'] = (quant_parch['N\u00ba de sobreviventes por Parch']\/quant_parch['Parch'] *100).round(2)\n\nquant_parch","6f4aaa3c":"fig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_parch.index,y='Parch',data=quant_parch, \n                 ax=axis1, palette='Oranges_r' )\n\nax.set_title(\"Quantidade de pessoas como Pais &Filhos\", fontsize=20,pad=20,)\nax.set_xlabel('Quantidade de Pai\/Filhos', fontsize=15)\nax.set_ylabel('Quantidade de passageiros', fontsize=15)\nplt.tight_layout()\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(x=quant_parch.index, y='Taxa de Sobreviventes por Parch em %', data=quant_parch,\n                 ax= axis2, palette='Oranges_r')\nax.set_xlabel('Quantidade de Pais\/Filhos', fontsize=15)\nax.set_ylabel('Taxa de Sobreviventes em %', fontsize=15)\nax.set_title('Rela\u00e7\u00e3o de Sobreviventes por quantidade de Pais & Filhos', fontsize=20, pad=20 )\nplt.tight_layout()","e27347e9":"pd.DataFrame(train.Age.describe())","249a68a0":"train.Age.isna().sum() ","38d2707c":"train_1 = train.dropna() #eliminando e verificando os dados faltantes\ntrain_1.Age.isna().sum()","4f0cfd71":"pd.DataFrame(train_1.Age.describe()) ","5e11997f":"train_2 = train.copy()\ntrain_2.Age.fillna(train_2.Age.median(), inplace=True)  #preenchendo os dados faltantes com a mediana.\ntrain_2.Age.describe()","b8d7da1e":"fig, (axis1, axis2, axis3) = plt.subplots(1,3, figsize=(20,8))\n\n#box plot com os dados faltantes influenciando\nplt.figure(figsize=(10,8))\nax = sns.boxplot(x='Age', data=train,palette='Greys', ax=axis1)\nax.set_xlabel('Idade', fontsize=15)\nax.set_title('Com todos os dados', fontsize=15)\n\n#com a remo\u00e7\u00e3o dos dados faltantes\nplt.figure(figsize=(10,8))\nax = sns.boxplot(x='Age', data=train_1, palette='Greens', ax=axis2)\nax.set_xlabel('Idade', fontsize=15)\nax.set_title('Com os dados faltantes removidos', fontsize=15)\n\n#com a remo\u00e7\u00e3o dos dados faltantes\nplt.figure(figsize=(10,8))\nax = sns.boxplot(x='Age', data=train_2, palette='Greens_r', ax=axis3)\nax.set_xlabel('Idade', fontsize=15)\nax.set_title('Com os dados faltantes completados pela mediana', fontsize=15)","f37245b3":"pd.DataFrame(train_2.query('Age > 55')[\"Survived\"].value_counts())","ba66a3c1":"pd.DataFrame(train_2.query('Age < 2')[\"Survived\"].value_counts())\n","24b29bf7":"#Tra\u00e7ando a distribui\u00e7\u00e3o de idades\nfig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.figure(figsize=(10,8))\nax = sns.histplot(data=train_2, x='Age', palette='Blues', ax= axis1)\nax.set_title('Distribui\u00e7\u00e3o de Passageiros por Idade', fontsize=20, pad=15)\nax.set_xlabel('Idade', fontsize=15)\nax.set_ylabel('Quantidade', fontsize=15)\n            \n\nplt.figure(figsize=(10,8))\nax = sns.histplot(data=train_2, x='Age', hue='Survived',stat='density',palette='Greys', ax= axis2)\nax.set_title('Distribui\u00e7\u00e3o de Sobreviventes por Idade', fontsize=20, pad=15)\nax.set_xlabel('Idade', fontsize=15)\nax.set_ylabel('Densidade', fontsize=15)\n\n","922f7a02":"#definindo as classes pelo inicio de cada idade\nclasses = [0,12,18,60,81]\n\n#definindo os nomes das classes que aparecer\u00e3o no gr\u00e1fico\nlabels = ['Infantil','Adolescentes',\" Adultos\", '3\u00aa Idade']","b2e8a481":"pd.cut(x=train_2.Age, bins=classes, labels= labels, include_lowest=True)","98a796d9":"#Construindo a coluna frequ\u00eancia\nfrequencia_idade = pd.value_counts(pd.cut(x=train_2.Age, bins=classes, labels= labels, include_lowest=True))\nfrequencia_idade","b1fbd275":"#Construindo a coluna percentual\npercentual_idades = (pd.cut(x=train_2.Age, bins=classes, labels= labels, include_lowest=True)).value_counts(normalize=True)\n\npercentual_idades = percentual_idades * 100 #para ficar no formato de %\n\npercentual_idades","0347096e":"freq_perc= pd.DataFrame({'Frequ\u00eancia':frequencia_idade, 'Percentual(%)':percentual_idades})\nfreq_perc","05285536":"fig, (axis1, axis2) = plt.subplots(1,2, figsize=(20,8))\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(data=freq_perc,x=freq_perc.index, y='Frequ\u00eancia', palette='Greens', ax = axis1)\nax.set_title('Quantidade de Pessoas por Grupo Et\u00e1rio', fontsize=20, pad=20)\nax.set_ylabel('Frequ\u00eancia', fontsize=15)\nax.set_xlabel('Grupo Et\u00e1rio', fontsize=15)\n\nplt.figure(figsize=(10,8))\nax = sns.barplot(data=freq_perc,x=freq_perc.index, y='Percentual(%)', palette='Greens', ax = axis2)\nax.set_title('Percentual por Grupo Et\u00e1rio (%)', fontsize=20, pad=20)\nax.set_ylabel('Percentual', fontsize=15)\nax.set_xlabel('Grupo Et\u00e1rio', fontsize=15)","732b1fe0":"plt.figure(figsize=(30,15))\nsns.pairplot(train, x_vars=['Parch', 'SibSp', 'Age', 'Pclass'], y_vars=['Parch', 'SibSp', 'Age', 'Pclass'])","bff906ec":"train.corr()","248d31e9":"plt.figure(figsize=(15,15))\nsns.heatmap(train.corr(), annot=True, cmap='Oranges', fmt='.2f')","9ed08e52":"### **2.4.2 - Sobreviv\u00eancia por Sexo**\n\nVimos na se\u00e7\u00e3o anterior que no geral a taxa de sobreviv\u00eancia est\u00e1 em torno de 40%. \nSer\u00e1 que esse valor foi o mesmo tanto para  o sexo masculino quanto para o sexo feminino? ","1e876495":"**Como suspeit\u00e1vamos, em Southpton houve um embarque da maior parte da passageiros da classe 3, equivalente a 39% de todos os passageiros do navio**","2c222bae":"A vantagem desse tipo de gr\u00e1fico \u00e9 que a diagonal dele traz informa\u00e7\u00e3o \u00fatil, exibindo um histograma de cada atributo (outras op\u00e7\u00f5es est\u00e3o dispon\u00edveis). Rapidamente a gente consegue ver coisas como \u2013 por exemplo \u2013 o fato de que pessoas mais velhas est\u00e3o mais concentradas na 1\u00aa Classe e pessoas mais jovens na 3\u00aa classe. Por fim, finalizando a etapa de an\u00e1lise explorat\u00f3ria, vamos dar uma olhada no heatmap para entender como as vari\u00e1veis est\u00e3o correlacionadas, positiva ou negativamente.","36303ddf":"Pela tabela e pelos gr\u00e1ficos observamos que as vari\u00e1veis que mais se correlacionam s\u00e3o:\n- Pclass &  Fare, com valor de -0.55, o que significa que quanto maior o valor de uma menor o da outra e vice versa, o que faz muito sentido, pois a Classe 3 deveria ter o menor valor em rela\u00e7\u00e3o a outras classes. *Aqui consideramos o valor ordinal das clase com 3>2>1, e n\u00e3o o valor social.\n- SibSp & Parch - S\u00e3o vari\u00e1veis que tratam de graus de parentesco e tem uma correla\u00e7\u00e3o positiva de 0.41. \n\nNo entanto tais correla\u00e7\u00f5es s\u00e3o fracas, isto \u00e9, elas por si s\u00f3 n\u00e3o s\u00e3o capazes de explicar o desempenho da outra vari\u00e1vel. S\u00e3o consideradas correla\u00e7\u00f5es fortes valores acima de 0.75, mas isso depende da aplica\u00e7\u00e3o.\n\nCom base nisso as manteremos as vari\u00e1veis para a modelagem. \nAqui finalizamos a Parte 1. Sugest\u00f5es e corre\u00e7\u00f5es s\u00e3o sempre bem-vindas!\n\nVamos para a [Parte 2](https:\/\/www.kaggle.com\/samuelsferreira\/desafio-do-titanic-passo-a-passo-parte-2-2)!\n\n","167e0b13":"Infelizmente a maioria dos passageiros n\u00e3o sobreviveram.\nSe voc\u00ea estivesse l\u00e1 a chance de ter sobrevivido seria de aproximadamente de 38%. \n\n**Mas ser\u00e1 que essa chance foi a mesma para todos a bordo?** \n\n**Algum grupo foi privilegiado?**  \u00c9 o que vamos investigar nas pr\u00f3ximas se\u00e7\u00f5es!","1ba0605a":"## **2.2 - Entendendo os dados faltantes**","675358b8":"A maioria dos passageiros (68%) viajou sem o conjuge ou irm\u00e3os, mas os sobreviventes que foram nessas condi\u00e7\u00f5es \u00e9 de 34%, enquanto dos que viajavam apenas com um irm\u00e3o ou o c\u00f4njuge  sobreviveram em 53%.\n\nViajar sem companhia s\u00f3 foi  melhor do que viajar com 3 ou mais pessoas-irm\u00e3os ou c\u00f4njuge.","a049b2b5":"**A vari\u00e1vel Cabin tem 77% dos dados faltando, a Age 19,86% e a Embarked apenas 0,22%. Na Se\u00e7\u00e3o 3 trataremos esses dados faltantes.**","f672076c":"# **1 - Importando as Bibliotecas e Dados**","5d5cbf1e":"### **Entendendo os tipos de Vari\u00e1veis de cada coluna**\n\n**Vari\u00e1veis categ\u00f3ricas:** Name, Sex, Ticket, Cabin, Embarked\n\n**Vari\u00e1veis num\u00e9ricas:** PassengerId, Survived, PClass, Age, SibSp, Parch, Fare\n\nO dataset de treino possui 12 colunas e 891 linhas, enquanto o dataset de teste possui 11 colunas e 418 linhas. A coluna a menos \u00e9 a coluna alvo, Survived, que \u00e9 o o bjetivo da competi\u00e7\u00e3o: prever a sobreviv\u00eancia dos passageiros do dataset test.\n\nNotamos que a quantidade de dados n\u00e3o-nulos nas colunas s\u00e3o diferentes, isso significa que futuramente precisaremos tomar uma decis\u00e3o em rela\u00e7\u00e3o a eles.","968a0cd2":"### **2.4.3 - Sobreviventes por Classe**\n\nO Navio estava dividido em 3 Classes que provavelmente est\u00e3o relacionadas o poder aquisitivo dos passageiros. \nIsso tamb\u00e9m influ\u00eanciou na arquitetura e layout do navio pois as classes tinham localiza\u00e7\u00f5es diferentes como pode ser visto neste artigo: [Titanic a fundo.](https:\/\/https:\/\/titanicosemacao.wordpress.com\/2012\/03\/10\/titanic-a-fundo\/)\n\nAlguma classe teria tido maiores chances de sobreviv\u00eancia?","89580d53":"## **2.3 - Entendendo a Distribui\u00e7\u00e3o dos dados**\n\nIremos agora ter uma ideia de m\u00e9dia, mediana, quartis das vari\u00e1veis num\u00e9ricas do dataset train.\n\n    \n","6d6f11ad":"Com base na tabela describe e nos gr\u00e1ficcos acima, observamos que a m\u00e9dia de idades \u00e9 os outliers s\u00e3o alterados. \n\nNotamos que quando exclu\u00edmos os dados faltantes os dados passam a impress\u00e3o de que n\u00e3o h\u00e1 outliers, mas isso pode ser interpretado como perda de informa\u00e7\u00e3o, que prejudicaria o a constru\u00e7\u00e3o dos modelos, an\u00e1lises e\/ou levar a conclus\u00f5es erradas.\n\nIntuitivamente, os outliers esperados num navio com as condi\u00e7\u00f5es do Titanic s\u00e3o beb\u00eas, crian\u00e7as e idosos, que aparecem no terceiro boxplot onde os dados faltantes foram preenchidos com a moda.\n\nQuantos idosos e quantos beb\u00eas estavam presentes no Titanic?","4ac0201a":"## **2.5 Correla\u00e7\u00e3o dos dados**\nNesta se\u00e7\u00e3o vamos investigar o qu\u00e3o relacionados est\u00e3o as nossas vari\u00e1veis, por exemplo, o pre\u00e7o da passagem (Fare) com a Classe (P-Class); as vari\u00e1veis SibSp e ParCh. \nEsta etapa \u00e9 importante porqu\u00ea se as vari\u00e1veis tiverem alta correla\u00e7\u00e3o, elas podem ser exlu\u00eddas do modelo sem afetar o desempenho dele. Diminuir as vari\u00e1veis de um modelo \u00e9 conhecido como redu\u00e7\u00e3o de dimensionalidade.","889594a3":"76% dos passageiros viajaram sem filhos e aproximadamente 20% tinham entre um e 2 filhos. \n\nInteressante notar que 94% dos que tinham 1 filho ou 1 dos pais a bordo sobreviveram. \n\nDefinitivamente viajar com os pais e filhos aumentaram as chances de sobreviver. :D ","f447b6a5":"No navio 65% dos passageiros eram  do sexo masculino e 35%  do sexo feminino, uma rela\u00e7\u00e3o de aproximadamente 2 para 1.\n\nNo entanto a taxa de sobreviventes no Sexo Feminino foi pr\u00f3xima dos 75% enquanto do Sexo Masculino foi de 20%.\n\nIsso sugere que as mulheres tiveram 2,5 vezes mais chances de sobreviverem ao desastre do Titanic do que os homens.","4dd14bc7":"Conforme as duas \u00faltimas tabelas acima: sim, faz diferen\u00e7a! A m\u00e9dia era de 29 anos e com a remo\u00e7\u00e3o dos dados incompletos a m\u00e9dia de idade subiu para 35 anos. \n\nComo 177 dados \u00e9 um quantidade representativa do nosso dataset e exclu\u00ed-los prejudicaria nossas an\u00e1lises, pois, excluir\u00edamos outros dados tamb\u00e9m. Uma op\u00e7\u00e3o \u00e9 preench\u00ea-los com a m\u00e9dia das idades ou moda. Na pr\u00f3cxima se\u00e7\u00e3o faremos esse tratamento de dados faltantes.","82144c3b":"#### **2.4.5.1 SibSp - Irm\u00e3os e Esposas a bordo do Titanic**","378ad0f4":"#### **2.4.5.2 Parch - Pais e filhos a bordo do Titanic**","4b735010":"A quantidade de passageiros da classe 3 \u00e9 maior do que as classes 1 e 2 somadas, n\u00e3o obstante, estar na classe 1 teria 2,5 vezes mais chances de sobreviver do que quem estva alojado na classe 3.\n\nJ\u00e1 os passageiros da classe 2 tem 2 x mais chances de sobreviver aos da classe 1.\n\nParece que ter viajado na classe 3 foi uma 'desvantagem' na hora de se salvar.\n\nSer\u00e1 que a distribui\u00e7\u00e3o de equipamentos de seguran\u00e7a levavam em conta, por algum motivo, a classe do passageiro? Ou talvez tais equipamentos estavam alojados nas proximidades das classes 1 e 2?\n","5a476fd3":"### **2.4.4 - Sobreviventes por Local de Embarque**\n\nOs passageiros e tripulantes do Titanic embarcaram em 3 portos diferentes, onde, **C \u00e9 Cherbourg, Q \u00e9 Queenstown, S \u00e9 Southampton**.\n\nHouve alguma influ\u00eancia nas chances de sobreviv\u00eancia de acordo com o local de embarque?","7ce39258":"### **2.4.1 - Sobreviventes**\n\nQual o n\u00famero de sobreviventes do Titanic? Qual a taxa de sobreviventes sem levar em conta outros fatores?\n\nSe voc\u00ea tivesse feito a viagem do Titanic qual seria sua chance de sobreviver?\n\u00c9 o que vamos descobrir baseado-se nos dados do dataset train.","fd53cf81":"A m\u00e9dia de idade foi de de 29,6 anos com 20% dos passageiros abaixo dos 21 anos e 25 %acima dos 38 anos. O passageiro com  mais idade na viagem tinha 80 anos!\n\nSobre o valor monet\u00e1rio das passagens: variaram entre 0 e 512, talvez o 0 seja referente aos tripulantes; 75% dos passageiros pagaram valor igual ou menor a 31 e os outros 25% pagaram entre 31 e 512. Valores provavelmente relacionados as classes.\n\nMais de 75% n\u00e3o viajaram como pais e filhos e mais da metade do passageiros n\u00e3o tinham parentes ou c\u00f4njuge a bordo.\n\nMenos de 25% dos passageiros viajaram na 1\u00aaClasse e mais de 50% dos passageiros viajaram na 3\u00aaclasse.","bec89133":"Temos 177 dados faltantes na coluna idade Ser\u00e1 que isso faz a diferen\u00e7a no calculo das m\u00e9dias? Vamos Checar.","5d26b5b7":"### **2.4.6 - Sobreviventes por idade**","e1372c44":"# **2 - Explorando os Dados**\nNesta se\u00e7\u00e3o vamos conhecer como os dados se apresentam e buscar informa\u00e7\u00f5es por meio da visualiza\u00e7\u00e3o de dados e a correla\u00e7\u00e3o entre eles.","10da961b":"### **2.4.5 - C\u00f4njuge e parentes**\n\nViajar acompanhado de parentes influ\u00eancia nas chances de sobreviv\u00eancia?\nIntuitivamente acreditamos que sim, j\u00e1 que pode ter ajuda principalmente na hora de compartilhar os equipamentos de salva-vidas. Nossa intui\u00e7\u00e3o est\u00e1 correta?","dca3f270":"## **2.4 - Visualiza\u00e7\u00e3o dos Dados**","b05148f6":"Majoritariamente o embarque foi realizado em Southampton e \u00e9 onde a taxa de sobreviv\u00eancia \u00e9 menor. Particularmente n\u00e3o acredito que o local de embarque esteja relacionado diretamente a taxa de mortes, isto \u00e9, suspeito que outros fatores j\u00e1 investigados anteriormente, possam te correla\u00e7\u00e3o como:\n- um maior n\u00famero da Classe 3 embarcou em Southampton\n- os embarque dos tripulantes pode ter acontecido em Southpton\n- maior n\u00famero de homens embarcado em Southpton.\n\n**Vamos investigar outros fatores em conjunto com o local de embarque para ver se minha desconfian\u00e7a faz sentido e poser\u00e1 ser explicada**.\n","b44b5b01":"Pela r\u00e1pida busca acima, vimos que haviam 40 passageiros acima dos 55 anos dos quais 12 sobreviveram. \n\nTamb\u00e9m haviam 14 crian\u00e7as abaixo de 2 anos das quais 12 sobreviveram. Considerando qua as crian\u00e7as estavam acompanhadas dos pais, esse dado corrobora a an\u00e1lise feita com a vari\u00e1vel Parch anteriormente.","423c376e":"* **Outra Suspeita confirmada, aproximadamente 75% dos homens e 65% das mulheres a bordo embarcaram em Southpton.**","0b5888a1":"Nos gr\u00e1fico a esquerda acima vimos a distribui\u00e7\u00e3o da idade dos passageiros  e no gr\u00e1fico \u00e0 direita a distribui\u00e7\u00e3o em % de sobreviventes por idade.\n\nUm outro modo de classificar o grupo de passageiros em rela\u00e7\u00e3o a idade seria por classes, vejamos:\n- 0-12 anos - **Infantil**\n- 13-18 anos - **Adolescente**\n- 19 -60 anos - **Adulto**\n- 61 anos ou mais - **3\u00aa idade.**","8345db20":"## **2.1 - Entendendo as colunas**\n- **PassengerId** - \u00e9 o n\u00famero de identifica\u00e7\u00e3o do passageiro\n- **Survived** - informa se o passageiro sobreviveu (1) ou n\u00e3o (0).\n- **Pclass** - Classe em que o passageiro embarcou: 1 \u00e9 a 1\u00aa classe, 2 \u00e9 a 2\u00aa classe e 3 \u00e9 a 3\u00aa classe.\n- **Name** - Nome do Passageiro\n- **Sex** - M para Masculino e F para Feminino\n- **Age** - Idade do Passageiro.\n- **SibSp** - quantidade de c\u00f4njuge e irm\u00e3os a bordo\n- **Parch** - Quantidade de Pais e Filhos a bordo.\n- **Ticket** - N\u00famero da passagem\n- **Fare** - Valor pago pela passagem\n- **Cabin** - Cabine que o passageiro estava alojado\n- **Embarked** - porto que o passageiro embarcou: C \u00e9 Cherbourg, Q \u00e9 Queenstown, S \u00e9 Southampton","82d1e92d":"Podemos concluir ao analisar os gr\u00e1ficos que:\n- Visualmente a chance de n\u00e3o sobreviver \u00e9 maior do que a de sobreviver.\n- H\u00e1 mais pessoas na 3\u00aa classe que nas demais juntas, talvez nesse n\u00famero deva estar incluso os tripulantes.\n- H\u00e1 bastante passageiros entre 20 e 50 anos. Ser\u00e1 que isso influ\u00eancia na taxa de sobreviv\u00eancia?\n- A maioria das pessoas est\u00e3o viajando sozinhas, ou seja, sem parentes ou conjuge. Ser\u00e1 que estar acompanhados parentes ou conjuge aumenta a chance de sobreviv\u00eancia.\n-Como a maioria \u00e9 de 3\u00aaClasse \u00e9 esperado um pagamento menor no valor da passagem, assim como os membros da tripula\u00e7\u00e3o devem ter pago $0.\n\nA seguir iremos detalhar os dados dos gr\u00e1ficos acima e responder essas quest\u00f5es visualmente.","3cfd4a4f":"# Introdu\u00e7\u00e3o\nNeste notebook resolvemos o desafio do Titanic no qual o objetivo \u00e9 prever se os passageiros teriam sobrevivido ou n\u00e3o.\nAo desenvolver o projeto, foram indicados links para consulta de bibliotecas ou artigos que foram de grande utilidade na aprendizagem. Sugest\u00f5es de melhorias s\u00e3o sempre bem-vindas!\n\nEst\u00e1 dividido do seguinte modo:\n\n* Parte 1 - Foi onde conhecemos os dados, fazemos algumas infer\u00eancias para chegar a conclus\u00f5es com a visualiza\u00e7\u00e3o dos dados.\n\n* [Parte 2 -](https:\/\/www.kaggle.com\/samuelsferreira\/desafio-do-titanic-passo-a-passo-parte-2-2) Manipulamos, preparamos os dados de entrada, aplicamos os modelos, comparamos os resultados, escolhemos os 3  com melhores desempenhos para a etapa de valida\u00e7\u00e3o. Por fim, foram submetidos \u00e0 competi\u00e7\u00e3o do Kaggle e comparados os resultados da competi\u00e7\u00e3o com o nosso.\n\n## **Parte 1**\n### 1. Importando as Bibliotecas e Dados\n\n### 2. Explorando os Dados\n   #### 2.1 Entendendo as colunas\n   #### 2.2 Entendendo os dados faltantes\n   #### 2.3 Entendendo a distribui\u00e7\u00e3o dos dados   \n   #### 2.4 Visualiza\u00e7\u00e3o dos dados\n       2.4.1 Sobreviventes\n       2.4.2 Sobreviventes por sexo\n       2.4.3 Sobreviventes por classe\n       2.4.4 Sobreviventes por local de embarque\n       2.4.5 Sobreviventes por c\u00f4njuge e parentes\n       2.4.6 Sobreviventes por idade\n   #### 2.5 Correla\u00e7\u00e3o dos dados\n   \n   \n\n## **Parte 2**\n### 3. Prepara\u00e7\u00e3o dos dados\n#### 3.1 Juntando os datasets train e test\n#### 3.2 Selecionando as features\n#### 3.3 Tratando os valores faltantes\n#### 3.4 Preparando as vari\u00e1veis para os modelos\n#### 3.5 Separando os datasets de treino e teste\n\n### 4. Constru\u00e7\u00e3o dos Modelos e Avalia\u00e7\u00e3o \n#### 4.1 Dummy Classifier\n#### 4.2 Regress\u00e3o Log\u00edstica\n#### 4.3 Decision Tree\n#### 4.4 Regress\u00e3o Linear\n#### 4.5 Gradient Boosting Classifier\n#### 4.6 Random Forest Classifier\n#### 4.7 XGB Classifier\n#### 4.8 SVC\n#### 4.9 KNeighbors Classifier\n#### 4.10 Comparando os Modelos\n\n\n### 5. Matriz de Confus\u00e3o, Precis\u00e3o, Recall, e F1-Score \n#### 5.1 Matriz de Confus\u00e3o\n#### 5.2 Precis\u00e3o\n#### 5.3 Recall\n#### 5.4 F1-Score\n#### 5.5 Classification Report\n#### 5.6 ROC Curve (Receiver Operating Characteristic Curve)\n\n### 6. Valida\u00e7\u00e3o cruzada \n#### 6.1 Cross Validation para os modelos\n#### 6.2 Comparando com os resultados obtido no Kaggle\n\n### 7. Conclus\u00e3o - Voc\u00ea teria sobrevivido ao Titanic?\n"}}