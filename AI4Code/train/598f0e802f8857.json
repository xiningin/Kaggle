{"cell_type":{"3b98679f":"code","fafb8fcd":"code","7027a831":"code","b2079318":"code","0a81c778":"code","edb04f80":"code","564df8a9":"code","c6f01ca2":"code","2063c7d7":"code","17783dfd":"code","42d58b95":"markdown","e801dc2e":"markdown","a96aa284":"markdown","32e4a115":"markdown","ecbd8d84":"markdown","f7557dc0":"markdown"},"source":{"3b98679f":"import pandas as pd \nfrom matplotlib import pyplot as plt\nfrom matplotlib.pyplot import figure as fig\nimport seaborn as sns\nimport numpy as np\n","fafb8fcd":"performance = pd.read_csv(\"..\/input\/students-performance-in-exams\/StudentsPerformance.csv\")\nperformance.head()","7027a831":"#completed prep\ndef prep_score_completed(score):\n     result = performance[performance[\"test preparation course\"]!='none'][score].mean()\n     return(result)\nprepm=prep_score_completed(\"math score\")\nprepr=prep_score_completed(\"reading score\")\nprepw=prep_score_completed(\"writing score\")\nmean_prep= np.array([prepm,prepr,prepw])\n#none prep\ndef prep_score_none(score):\n     result = performance[performance[\"test preparation course\"]=='none'][score].mean()\n     return(result)\nprepm_non=prep_score_none(\"math score\")\nprepr_non=prep_score_none(\"reading score\")\nprepw_non=prep_score_none(\"writing score\")\nmean_non_prep= np.array([prepm_non,prepr_non,prepw_non])\nmean_non_prep\ndf_prep= {'non_prep':mean_non_prep,\n          'prep':mean_prep}\nprepp=pd.DataFrame(df_prep,columns=[\"non_prep\",\"prep\"],index=['math_prep','read_prep','write_prep'])\nclr_prepz=[\"#D1F6C1\",\"#155E63\"]\nprepp.plot.barh(color=clr_prepz)\nplt.title(\"Average of score based on test preparation completion course\",color=\"#155E63\",fontsize=15)","b2079318":"#female average performance\nfmath=performance[performance.gender=='female'][\"math score\"].mean()\nfread=performance[performance.gender=='female'][\"reading score\"].mean()\nfwrite=performance[performance.gender=='female'][\"writing score\"].mean()\n#male average performance \nmmath=performance[performance.gender=='male'][\"math score\"].mean()\nmread=performance[performance.gender=='male'][\"reading score\"].mean()\nmwrite=performance[performance.gender=='male'][\"writing score\"].mean()\n#data frame for male and female \ndata = {'male':[mmath,mread,mwrite],\n     'female':[fmath,fread,fwrite]}\nsum1=pd.DataFrame(data,columns = ['male','female'],index = ['math_score','reading_score','writing_score'])\n#ploting the graph\ncolor={'male':\"#D1F6C1\",\n      'female':\"#155E63\"}\nsum1.plot.barh(color=color)\nplt.title(\"Average school performance grouped by gender\",color=\"#155E63\",fontsize=15)\nplt.show()\n\n#which gender took the most test preparation course?\nfprep=performance.loc[(performance[\"gender\"]=='female')&(performance[\"test preparation course\"]!='none'),\n                      [\"test preparation course\"]].count()\nmprep=performance.loc[(performance[\"gender\"]=='male')&(performance[\"test preparation course\"]!='none'),\n                      [\"test preparation course\"]].count()\ntotal=fprep+mprep\nperc_fprep=fprep\/total\nperc_mprep=mprep\/total\nlab=['male','female']\nper=[0.486034,0.51396]\nclr=[\"#D1F6C1\",\"#155E63\"]\nfig(figsize=(6,6))\nplt.pie(per,labels=lab,colors= clr,autopct='%1.0f%%')\nplt.legend()\nplt.title('test preparation course completion by gender',color=\"#155E63\",fontsize=15)\nplt.show()","0a81c778":"#see unique values on parental level of education \ndf_unique_parentedu=pd.DataFrame(performance[\"parental level of education\"].unique())\ndf_unique_parentedu\n","edb04f80":"def mean (degree,score):\n    x=performance[performance[\"parental level of education\"]==degree][score].mean()\n    return(x);\n#bachelor's degree\nbd_math = mean(\"bachelor's degree\",\"math score\")\nbd_read = mean(\"bachelor's degree\",\"reading score\")\nbd_write= mean(\"bachelor's degree\",\"writing score\")\n#some college\nsc_math = mean(\"some college\",\"math score\")\nsc_read = mean(\"some college\",\"reading score\")\nsc_write= mean(\"some college\",\"writing score\")\n#master's degree\nmd_math = mean(\"master's degree\",\"math score\")\nmd_read = mean(\"master's degree\",\"reading score\")\nmd_write= mean(\"master's degree\",\"writing score\")\n#associate's degree\nad_math = mean(\"associate's degree\",\"math score\")\nad_read = mean(\"associate's degree\",\"reading score\")\nad_write= mean(\"associate's degree\",\"writing score\")\n#some high school \nshs_math = mean(\"some high school\",\"math score\")\nshs_read = mean(\"some high school\",\"reading score\")\nshs_write= mean(\"some high school\",\"writing score\")\n#high school\nhs_math = mean(\"high school\",\"math score\")\nhs_read = mean(\"high school\",\"reading score\")\nhs_write= mean(\"high school\",\"writing score\")\n#create new dataframe \nedu_df= {\"bachelor's degree\":[bd_math,bd_read,bd_write],\n        \"some college\":[sc_math,sc_read,sc_write],\n        \"master's degree\":[md_math,md_read,md_write],\n        \"associate's degree\":[ad_math,ad_read,ad_write],\n        \"high school\":[hs_math,hs_read,hs_write],\n        \"some high shcool\":[shs_math,shs_read,shs_write]}\n\nfin_df =pd.DataFrame(edu_df,\n                    columns=[\"master's degree\",\"bachelor's degree\",\"some college\",\"associate's degree\",\"high school\",\"some high shcool\"],\n                    index=['math score','reading score','writing score'])\nclr_green= {\"bachelor's degree\":\"#5C8D89\",\n        \"some college\":\"#74B49B\",\n        \"master's degree\":\"#155E63\",\n        \"associate's degree\":\"#8FC0A9\",\n        \"high school\":\"#ACC6AA\",\n        \"some high shcool\":\"#D1F6C1\"}\n#countplot \nlabel=[\"bach\",\"some_col\",\"master\",\"assoc\",\"highschool\",\"some_hs\"]\npalettesns=[\"#5C8D89\",\"#74B49B\",\"#155E63\",\"#8FC0A9\",\"#ACC6AA\",\"#D1F6C1\"]\nnew_pal=sns.set_palette(sns.color_palette(palettesns))\nsns.countplot(performance[\"parental level of education\"],palette=new_pal)\nplt.title(\"Number of parent with different education level\",color=\"#155E63\",fontsize=15)\n\n#bar plot\nfin_df.plot.barh(color=clr_green)\nplt.title(\"Average score based on parent education\",color=\"#155E63\",fontsize=20)\nplt.show()\n\n#parent education on test prep \ndef edu_prep(degree):\n    edu= performance.loc[(performance[\"parental level of education\"]==degree)&(performance[\"test preparation course\"]!='none'),\n                      [\"test preparation course\"]].count()\n    total=performance[performance[\"test preparation course\"]!='none'][\"test preparation course\"].count()\n    perc=edu\/total\n    return(perc)\n\n#pie\narray=np.array([edu_prep(\"master's degree\"),edu_prep(\"bachelor's degree\"),edu_prep(\"some college\"),edu_prep(\"associate's degree\"),edu_prep(\"high school\"),edu_prep(\"some high school\")])\nfin_pie = array.ravel()\npie_color=[\"#155E63\",\"#5C8D89\",\"#74B49B\",\"#8FC0A9\",\"#ACC6AA\",\"#D1F6C1\"]\npie_label=[\"master's degree\",\"bachelor's degree\",\"some college\",\"associate's degree\",\"high school\",\"some high school\"]\nfig= fig(figsize=(8,8))\nplt.pie(fin_pie,colors=pie_color,labels=pie_label,autopct='%1.0f%%')\nplt.legend()\nplt.title(\"test preparation course based on parent education\",color=\"#155E63\",fontsize=20)\nplt.show()\n","564df8a9":"def edu_perc(degree):\n    edu = performance.loc[(performance[\"parental level of education\"]==degree)&(performance[\"test preparation course\"]!='none'),\n                      [\"test preparation course\"]]\n    count_edu=edu.count().item()\n    total = performance[performance[\"parental level of education\"]==degree][\"test preparation course\"].count()\n    perc=count_edu\/total\n    return(perc)\nm_pct=edu_perc(\"master's degree\")\nb_pct=edu_perc(\"bachelor's degree\")\nsc_pct=edu_perc(\"some college\")\na_pct=edu_perc(\"associate's degree\")\nhs_pct=edu_perc(\"high school\")\nshs_pct=edu_perc(\"some high school\")\npct=[m_pct,b_pct,sc_pct,a_pct,hs_pct,shs_pct]\na={\"percentage\":pct}\npct_df=pd.DataFrame(a,columns=[\"percentage\"],index=[\"mstr\",\"bach\",\"some_col\",\"assoc\",\"high school\",\"some high school\"])\nsorted_df=pct_df.sort_values(by=[\"percentage\"],)\nclr_array=[\"#155E63\",\"#5C8D89\",\"#74B49B\",\"#8FC0A9\",\"#ACC6AA\",\"#D1F6C1\"]\nclr_green2={'percentage':clr_array}\nsorted_df.plot.barh(color=clr_green2)\nplt.title(\"Percentage of parent who send their children to test preparation course based on their education level\",color=\"#155E63\",fontsize=9,loc='right')\nplt.legend()\nplt.show()","c6f01ca2":"performance.head()","2063c7d7":"performance[\"race\/ethnicity\"].unique()","17783dfd":"def race(group):\n    m= performance[performance[\"race\/ethnicity\"]==group][\"math score\"].mean()\n    r= performance[performance[\"race\/ethnicity\"]==group][\"reading score\"].mean()\n    w= performance[performance[\"race\/ethnicity\"]==group][\"writing score\"].mean()\n    array=[m,r,w]\n    return array\nA=race(\"group A\")\nB=race(\"group B\")\nC=race(\"group C\")\nD=race(\"group D\")\nE=race(\"group E\")\ndict_race= {\"Group A\": A,\n        \"Group B\": B,\n        \"Group C\": C,\n        \"Group D\": D,\n        \"Group E\": E}\ndict_color={\"Group A\": \"#155E63\",\n        \"Group B\": \"#5C8D89\",\n        \"Group C\": \"#74B49B\",\n        \"Group D\":\"#8FC0A9\",\n        \"Group E\": \"#ACC6AA\"}\ndf_race=pd.DataFrame(dict_race,columns=[\"Group A\",\"Group B\",\"Group C\",\"Group D\",\"Group E\"],index=[\"math\",\"read\",\"write\"])\n#plotting horizontal bar \ndf_race.plot.barh(color=dict_color)\nplt.title(\"Average score test based on race\/ethnicity\",color=\"#155E63\",fontsize=15)\n","42d58b95":"the visualization helps us to know that after comparing the average score of those who took the test preparation course and those who didn't. I we see at a glimpse that, yes there is a quite significant average difference between our two observation. ","e801dc2e":"To see if parent education background affect their children school performance, we want to see at the surface by comparing the average of their children scores grouped by their education level. As we can see in the horizontal bar, that there is siginificant difference of average between parent with the highest education level ( master degree ) and the lowest education level ( some high school ). \n\nWhich lead to another question \"are parents with a higher education level tend to send their children to took test preparation course so that their children scores are higher than those with lower education level?\" this question will be answered by our pie chart which in fact tell us another story. the pie chart shows us that the highest portion of those who send their children to took the test preparation course is those who are from the some high school and the lowest portion of the pie chart goes to the those who are from master degree. \n\nI was suspicious that this pie chart proportion might give us some bias because as we can see the number of the children whose their parents' education level are master is the lowest compared to those whose parents' education level are some high school and it is logical that the pie chart proportion of those whose parent educational level are some high school is higher than the master because children whose parent educational level is some high school is a lot more in the number than those whose parent education level is master.","a96aa284":"**test preparation completion vs. score**\n\nFirst thing first, we want to know what is the main factor that affect the exam score. I think test preparation course have the biggest impact to the exam score, so we need to compare the average scores of those who took the test preparation course and those who didn't take it. ","32e4a115":"**gender**","ecbd8d84":"**parental education continue**\n","f7557dc0":"**Parent education level on test preparation course and school performance**\n\nMoving on to the next question, is parent education level affect the school performance, but first we need to see what are the parent education levels?\n"}}