{"cell_type":{"2ef63e6f":"code","d8fa3c77":"code","cec1b3da":"code","5e0ebbaa":"code","bd892466":"code","1dd571da":"code","46bca5ec":"code","3a66ee9b":"code","b7397994":"code","eda7739d":"code","e6647b45":"code","9efb096d":"code","8ae55789":"code","d4d26357":"code","dc511aa3":"code","52e55ccb":"code","c4e4d75b":"code","760b1003":"code","6dcefbc0":"code","9cbde1ee":"code","7b6b64eb":"code","14f4f367":"code","d10a9a67":"code","7c942549":"code","ad6085ad":"code","622bacba":"code","5fbb41de":"code","7511c0ba":"code","22e1fba0":"code","2b8bb18d":"code","d9fd0151":"code","435298b9":"markdown","87634515":"markdown","9d9624f5":"markdown","fa520608":"markdown","7b084d0a":"markdown","d2dc5ac0":"markdown","9912b79e":"markdown","53740882":"markdown","89293d35":"markdown","468ca85d":"markdown"},"source":{"2ef63e6f":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nchurn = pd.read_csv(\"..\/input\/churn-predictions-personal\/Churn_Predictions.csv\")\ndf=churn.copy()\ndf.head(3)","d8fa3c77":"df.describe().T","cec1b3da":"df.info()","5e0ebbaa":"# En belirgin olarak,\n# Balance ile Number of Product aras\u0131nda negatif y\u00f6nl\u00fc 0.3, \n# Germany ve Balance aras\u0131nda ise pozitif y\u00f6nl\u00fc 0.4 l\u00fck korelasyon var.\n# 0.5'ten y\u00fcksek olmad\u0131\u011f\u0131 i\u00e7in bu korelasyonlar\u0131 dikkate almad\u0131m.\n\nplt.figure(figsize=(12,10))\ncor = df.corr()\nsns.heatmap(cor, annot=True, cmap=plt.cm.Reds)\nplt.show()","bd892466":"# y ba\u011f\u0131ml\u0131 de\u011fi\u015fkeni(\"Exited\") inceledim.\ndf[\"Exited\"].value_counts()","1dd571da":"# Veri setinde 0-1 dengesi: %20-80\nprint(2037\/9999)\nsns.countplot(df['Exited'],label=\"Count\");","46bca5ec":"# Dummy de\u011fi\u015fkenleri olu\u015fturdum, sat\u0131r say\u0131s\u0131n\u0131 g\u00f6steren row number de\u011fi\u015fkenini att\u0131m.\ndf=pd.get_dummies(df,columns=[\"Geography\",\"Gender\"], drop_first=True)\ndf=df.drop(\"RowNumber\", axis=1)\ndf=df.reset_index(drop=True)\ndf.head(2)","3a66ee9b":"df[\"CreditScore\"].describe().T","b7397994":"sns.boxplot(df[\"CreditScore\"])","eda7739d":"# Kredi skoru 400'\u00fcn alt\u0131nda olanlar\u0131n hepsi churn olmu\u015f\ndf[df[\"CreditScore\"]<405].apply({\"Exited\": \"value_counts\"})","e6647b45":"import seaborn as sns\nsns.distplot(df[\"CreditScore\"], kde=False)","9efb096d":"df[\"Age\"].describe()","8ae55789":"# Outlier lar var gibi g\u00f6r\u00fcn\u00fcyor ancak \u00f6rne\u011fin 90 ya\u015f\u0131nda bir m\u00fc\u015fteri olabilir, bunlar\u0131 atmak istemedim.\nsns.boxplot(df[\"Age\"]);","d4d26357":"sns.distplot(df[\"Age\"], kde=False)","dc511aa3":"df[\"Tenure\"].value_counts()","52e55ccb":"sns.countplot(df['Tenure'],label=\"Count\");","c4e4d75b":"df[\"Balance\"].describe()","760b1003":"sns.boxplot(df[\"Balance\"])","6dcefbc0":"# Balance durumlar\u0131na g\u00f6re Exit olma ortalamalar\u0131na bakt\u0131m.\nprint(df[df[\"Balance\"]>185967][\"Exited\"].mean())\nprint(df[df[\"Balance\"]>76485][\"Exited\"].mean())\nprint(df[df[\"Balance\"]>97198][\"Exited\"].mean())\nprint(df[df[\"Balance\"]>100000][\"Exited\"].mean())\nprint(df[df[\"Balance\"]>200000][\"Exited\"].mean())","9cbde1ee":"sns.distplot(df[\"Balance\"], kde=False)","7b6b64eb":"print(df[df[\"Balance\"]==0].shape)\nprint(df[df[\"Balance\"]<125000].shape)\nprint(df[df[\"Balance\"]<250000].shape)","14f4f367":"# Balance de\u011ferleri 0 olmayanlar\u0131n, 0 olanlara oranla churn olma olas\u0131l\u0131klar\u0131 daha y\u00fcksek.\n# Preprocessing'te bununla ilgili bir de\u011fi\u015fken olu\u015fturdum.\nprint(df[df[\"Balance\"]==0][\"Exited\"].mean())\nprint(df[df[\"Balance\"]!=0][\"Exited\"].mean())","d10a9a67":"df[\"NumOfProducts\"].value_counts()","7c942549":"df.groupby(\"NumOfProducts\").agg({\"Exited\":\"count\"})","ad6085ad":"# Number of Products 4'se'kesin churn, 3'se %82 olas\u0131l\u0131kla churn, 2 ise y\u00fcksek ihtimal churn de\u011fil, 1 ise %27 ihtimal churn.\n# Preprocessing'te bu s\u0131ralamaya g\u00f6re yeni bir de\u011fi\u015fken olu\u015fturdum. (NOP* isminde)\nprint(df[(df[\"NumOfProducts\"]==1)][\"Exited\"].mean())\nprint(df[(df[\"NumOfProducts\"]==2)][\"Exited\"].mean())\nprint(df[(df[\"NumOfProducts\"]==3)][\"Exited\"].mean())\nprint(df[(df[\"NumOfProducts\"]==4)][\"Exited\"].mean())\n","622bacba":"#^M\u00fc\u015fterilerin %70'inin kredi kart\u0131 var. \nprint(df[\"HasCrCard\"].value_counts())\nprint(\"0-1 proportion:\",7055\/9999)\nsns.countplot(df['HasCrCard'],label=\"Count\");","5fbb41de":"# Kredi kart\u0131 olup olmamas\u0131 ile churn olmas\u0131 aras\u0131nda ili\u015fki vard\u0131r diye d\u00fc\u015f\u00fcnd\u00fcm ama yokmu\u015f.\ndf['HasCrCard'].corr(df['Exited'])","7511c0ba":"# Almanlar\u0131n terk olas\u0131l\u0131\u011f\u0131, di\u011fer milletlere g\u00f6re daha y\u00fcksek\n# Almanlarda %32 terk- %68 kal\u0131yor\nprint(df[df[\"Geography_Germany\"]==1].shape)\nprint(df[(df[\"Geography_Germany\"]==1) & (df[\"Exited\"]==1)].shape)\nprint(df[(df[\"Geography_Germany\"]==1) & (df[\"Exited\"]==0)].shape)\nprint(1695\/2509)\nprint(814\/2509)","22e1fba0":"# \u0130spanyollarda %17 terk- %83 kal\u0131yor\nprint(df[df[\"Geography_Spain\"]==1].shape)\nprint(df[(df[\"Geography_Spain\"]==1) & (df[\"Exited\"]==1)].shape)\nprint(df[(df[\"Geography_Spain\"]==1) & (df[\"Exited\"]==0)].shape)\nprint(413\/2477)\nprint(2064\/2477)","2b8bb18d":"# Frans\u0131zlarda %16 terk- %83 kal\u0131yor\nprint(df[(df[\"Geography_Spain\"]==0) & (df[\"Geography_Germany\"]==0)].shape)\nprint(df[(df[\"Geography_Spain\"]==0) & (df[\"Geography_Germany\"]==0)& (df[\"Exited\"]==1)].shape)\nprint(df[(df[\"Geography_Spain\"]==0) & (df[\"Geography_Germany\"]==0)& (df[\"Exited\"]==0)].shape)\nprint(810\/5014)\nprint(4204\/5014)","d9fd0151":"#M\u00fc\u015fterilerin %55'i erkek, %45'i kad\u0131n\nprint(df[\"Gender_Male\"].value_counts())\nprint(5457\/9999)\nsns.countplot(df[\"Gender_Male\"],label=\"Count\");","435298b9":"# CreditScore\n#### Preprocessing k\u0131sm\u0131nda internette belirtilen kredi skorlama tablosuna g\u00f6re bu de\u011ferleri gruplad\u0131m.","87634515":"# Age\n#### Preprocessing k\u0131sm\u0131nda age de\u011fi\u015fkenindeki de\u011ferleri gruplad\u0131m.","9d9624f5":"# Tenure\n#### 10 adet \u00fcr\u00fcne sahip olanlar ve hi\u00e7 \u00fcr\u00fcne sahip olmayanlar\u0131n say\u0131s\u0131 di\u011fer m\u00fc\u015fterilere g\u00f6re daha az.","fa520608":"# Balance","7b084d0a":"# DATA UNDESRTANDING\n\n#### Churn veri seti i\u00e7in ML algoritmalar\u0131 uygulad\u0131m, veriyi anlama k\u0131sm\u0131na ise bu notebookta yer verdim.\n\n#### Churn ML Algoritmalar\u0131: https:\/\/www.kaggle.com\/nguncedasci\/churn-dataset-ml-algorithms-accuracy-0-9","d2dc5ac0":"# EXITED","9912b79e":"# Geography","53740882":"# Gender","89293d35":"# NumOfProducts","468ca85d":"# HasCrCard"}}