{"cell_type":{"0e4c4aa3":"code","b5f82aca":"code","571e3d08":"code","05f362df":"code","6adc12c7":"code","ce992774":"code","ff199272":"code","b7dc7ad3":"code","dbb9eb49":"code","52b3d6cd":"code","c7f31723":"code","3fd3f980":"code","186ffb97":"code","070e26a5":"code","6722e2f8":"code","72eb6eab":"code","e0eea3f8":"code","e1c555dc":"code","1cdd6aa2":"code","1243c960":"code","1082be55":"code","31d5400a":"code","8a908de7":"code","ae925469":"code","0dd3c226":"code","2249f2ec":"code","7ea2090f":"code","fa75f8a0":"code","092496f6":"code","56b83365":"code","5698537f":"code","4347f27c":"code","0226bcdd":"code","879b9c64":"code","a89b4eb3":"code","80e04c25":"code","e342bd57":"code","9e71415a":"markdown","c2f38e9c":"markdown","b8f141aa":"markdown","0003481f":"markdown","61a70f30":"markdown","9823f53a":"markdown","20498204":"markdown","2c30a2ef":"markdown","c18439fb":"markdown","7f3a7157":"markdown","2837ca03":"markdown","a241c36e":"markdown","1ce6af09":"markdown","1e10a4d6":"markdown","68767af5":"markdown","c3105f2b":"markdown","5dafdb46":"markdown","5ab02322":"markdown","dbe40c75":"markdown","5328b495":"markdown","05970543":"markdown","86b93fe6":"markdown","ec0db4f3":"markdown","722de14d":"markdown"},"source":{"0e4c4aa3":"!pip install pycountry-convert","b5f82aca":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\n\ndata = pd.read_csv(\"\/kaggle\/input\/suicide-rates-overview-1985-to-2016\/master.csv\", index_col = \"country\")\n\ndata","571e3d08":"data.dtypes","05f362df":"country_to_drop = [\"Mongolia\", \"Macau\", \"Cabo Verde\", \"Dominica\", \"Bosnia and Herzegovina\", \"San Marino\", \"Saint Kitts and Nevis\"]\n\ndata = data.drop(country_to_drop, axis=0)\n","6adc12c7":"data = data.reset_index()","ce992774":"data = data[data[\"year\"] != 2016]\ndata[\"country\"]=data[\"country\"].replace('Republic of Korea', 'Korea, Republic of')\ndata[\"country\"] = data[\"country\"].replace('Saint Vincent and Grenadines', 'Saint Vincent and the Grenadines')\ndata[\"country\"].unique()","ff199272":"import pycountry_convert as pc\ndata['continent'] = [pc.country_alpha2_to_continent_code(pc.country_name_to_country_alpha2(country, cn_name_format=\"default\")) for country in data['country']]\ndata.head()\n","b7dc7ad3":"sns.set(rc={'figure.figsize':(30,30)}) # fonctionne pas \n# fig.set_size_inches(20, 20)\n\nax = sns.relplot(x=\"year\", y=\"suicides\/100k pop\",ci=None,kind=\"line\", data=data, height = 10).set(title = \"Taux de suicide par an dans le monde\")\n\n# g.fig.autofmt_xdate()","dbb9eb49":"sns.set_style()\nsns.set_context('paper') \nax = sns.barplot(x=\"year\", y=\"suicides\/100k pop\", data=data)","52b3d6cd":"sns.relplot(x=\"year\", y=\"suicides\/100k pop\", hue=\"sex\", ci=None, kind=\"line\", data=data, height = 10).set(title = \"Taux de suicide par an dans le monde par sexe\")","c7f31723":"plt.figure(figsize=(20,5))\nsns.set_style()\nsns.set_context('paper') \nax = sns.barplot(y=\"suicides\/100k pop\", x=\"sex\", data=data)","3fd3f980":"sns.relplot(x=\"year\", y=\"suicides\/100k pop\", hue=\"age\", ci=None, kind=\"line\", data=data, height = 10).set(title = \"Taux de suicide par an dans le monde en fonction de l'\u00e2ge\")","186ffb97":"plt.figure(figsize=(20,8))\nsns.set_style()\nsns.set_context('talk') \nax = sns.barplot(y=\"suicides\/100k pop\", x=\"age\", order = ['75+ years','55-74 years','35-54 years','25-34 years','15-24 years','5-14 years'],data=data)","070e26a5":"byAge = data.groupby(['sex', 'age']).agg(sum)\nbyAge = byAge.reset_index().sort_values(by = 'age', ascending=True)\nfig = plt.figure(figsize=(15,4))\nplt.title('Suicides by age and sex')\nsns.barplot(y='suicides\/100k pop', x='age', hue='sex', data=byAge, palette={'male': 'g', 'female': 'm'})","6722e2f8":"\nconcap = pd.read_csv('..\/input\/world-capitals-gps\/concap.csv')\nfrom mpl_toolkits.basemap import Basemap\n\nby_country = data.groupby(['country']).agg(sum)\n\ndata_full = pd.merge(concap[['CountryName', 'CapitalName', 'CapitalLatitude', 'CapitalLongitude']], by_country, left_on='CountryName', right_on='country')\ndef mapWorld(col,size,title,label,metr=100,colmap='hot'):\n    m = Basemap(projection='mill', llcrnrlat=-60, urcrnrlat=80, llcrnrlon=-130, urcrnrlon=190)\n    m.drawcoastlines()\n    m.drawcountries()\n    \n\n    lat = data_full['CapitalLatitude'].values\n    lon = data_full['CapitalLongitude'].values\n    a_1 = data_full[col].values\n    if size:\n        a_2 = data_full[size].values\n    else: a_2 = 1\n\n    m.scatter(lon, lat, latlon=True ,c=a_1, s=metr*a_2, linewidth=1, edgecolors='black', cmap=colmap)\n    \n    cbar = m.colorbar()\n    cbar.set_label(label,fontsize=30)\n    plt.title(title, fontsize=30)\n    plt.show()\n    \nplt.figure(figsize=(20,10))\nmapWorld(col='suicides_no', size=False, title='Suicides by countries', label='Nombres de suicides', metr=300, colmap='viridis')","72eb6eab":"# Remplacement du code continent par le nom\nContinent_dict={'AF':'Africa', 'AS':'Asia', 'EU':'Europe', 'NA':'North America', 'OC':'Oceania', 'SA':'South America'}\ndata=data.replace(Continent_dict)\n\ncontinent_group=data.groupby(['continent']).sum().reset_index()\ncontinent_group.sort_values('suicides\/100k pop', ascending=False)","e0eea3f8":"fig, ax = plt.subplots(figsize=(15,7))\npalette = sns.color_palette(\"Paired\")\nax = sns.barplot(data=continent_group.sort_values('suicides\/100k pop', ascending=False), x='continent', y='suicides\/100k pop', ci=None, palette=palette)\nax.set_title('Suicides by continent (1985-2015)')","e1c555dc":"continent_time=data.groupby(['year','continent']).agg({'suicides\/100k pop':sum}).reset_index()\ncontinent_time\nplt.figure(figsize=(20,10))\nax = sns.relplot(data=continent_time, x='year', y='suicides\/100k pop', hue='continent',s=50)\nax.fig.suptitle('Suicide trends over time by continents (1985-2015)')","1cdd6aa2":"continent_time_wo_europe = continent_time[continent_time[\"continent\"] != 'Europe']\ncontinent_time_wo_europe","1243c960":"continent_time\n#plt.figure(figsize=(20,20))\nax = sns.relplot(data=continent_time_wo_europe, x='year', y='suicides\/100k pop', hue='continent',s=50)\nax.fig.suptitle('Suicide trends over time by continents excepting Europe (1985-2015)')","1082be55":"continent_sex=data.groupby(['sex','continent']).agg({'suicides\/100k pop':sum}).reset_index()\ncontinent_sex","31d5400a":"\n# Set your custom color palette\ncolors = [\"skyblue\", \"salmon\"]\n# Set your custom color palette\nsns.set_palette(sns.color_palette(colors))\nfig, ax = plt.subplots(figsize=(15,7))\nax = sns.barplot(data=continent_sex.sort_values('suicides\/100k pop', ascending=False), x='continent', y='suicides\/100k pop', hue='sex',palette=sns.set_palette(sns.color_palette(colors)))\nax.set_title('Suicides by continent and gender (1985-2015)')","8a908de7":"continent_age=data.groupby(['age','continent']).agg({'suicides\/100k pop':sum}).reset_index()\ncontinent_age\npalette=sns.color_palette(\"Paired\", 9)\nfig, ax = plt.subplots(figsize=(15,7))\nax = sns.barplot(data=continent_age.sort_values('suicides\/100k pop', ascending=False), x='continent', y='suicides\/100k pop', hue='age',palette=palette)\nax.set_title('Suicides by continent and age (1985-2015)')","ae925469":"top20=data.groupby(['country']).agg({'suicides\/100k pop':sum}).reset_index().sort_values('suicides\/100k pop', ascending=False)[0:20]\ntop20_list=[country for country in top20['country'].unique()]\n\n \n\ndata_top20=data[data['country'].isin(top20_list)]\n\n \n\ndata_top20_group_year=data_top20.groupby(['country','year']).agg({'suicides\/100k pop':sum})\n\n \n\nheatmap_data_year=data_top20_group_year.reset_index().pivot('country','year','suicides\/100k pop')\n#####\n\n \n\ndata_top20_group_age=data_top20.groupby(['country','age']).agg({'suicides\/100k pop':sum})\n\n \n\nheatmap_data_age=data_top20_group_age.reset_index().pivot('country','age','suicides\/100k pop')\n\n \n\n\nheatmap_data_age=heatmap_data_age.reindex(['5-14 years','15-24 years', '25-34 years', '35-54 years','55-74 years', '75+ years'], axis=1)\nheatmap_data_age\n\n \n\nfig, axes = plt.subplots(nrows=1, ncols=2,figsize=(18, 7))\nsns.heatmap(heatmap_data_year,cmap=\"YlGnBu\", ax=axes[0])\nsns.heatmap(heatmap_data_age,cmap=\"YlGnBu\", ax=axes[1])\nfig.suptitle('Top 20 countries based on suicide rates (suicides\/100K) (1985-2015)', fontsize=16)","0dd3c226":"pd.isnull(data[\"HDI for year\"]).value_counts()","2249f2ec":"data_hdi = data[~data[\"HDI for year\"].isna()]","7ea2090f":"data_hdi","fa75f8a0":"data_hdi = data_hdi.reset_index()\ndata_hdi","092496f6":"data_hdi_group = data_hdi.groupby([\"country\",\"year\"])[[\"HDI for year\",\"suicides\/100k pop\"]].mean().reset_index()","56b83365":"data_hdi_group","5698537f":"plt.figure(figsize=(20,10))\nax = sns.scatterplot(x=\"HDI for year\", y=\"suicides\/100k pop\", data=data_hdi_group, hue = \"year\")\nplt.axhline(data_hdi_group[\"suicides\/100k pop\"].mean(), label = \"Moyenne\")\nplt.legend(loc='upper left')","4347f27c":"g = sns.FacetGrid(data_hdi_group, col = \"year\", col_wrap=3)\ng.map(plt.scatter, \"HDI for year\", \"suicides\/100k pop\", alpha=.7)\ng.add_legend()","0226bcdd":"pd.isnull(data[\"gdp_per_capita ($)\"]).value_counts()","879b9c64":"data_gdp = data\ndata_gdp","a89b4eb3":"data_gdp_group = data_gdp.groupby([\"country\",\"year\"])[[\"gdp_per_capita ($)\",\"suicides\/100k pop\"]].mean().reset_index()\ndata_gdp_group","80e04c25":"plt.figure(figsize=(20,10))\nax = sns.scatterplot(x=\"gdp_per_capita ($)\", y=\"suicides\/100k pop\", data=data_gdp_group, hue = \"gdp_per_capita ($)\", legend = False)\nplt.axhline(data_gdp_group[\"suicides\/100k pop\"].mean(), label = \"Moyenne\")\nplt.legend(loc='upper left')","e342bd57":"g = sns.FacetGrid(data_gdp_group, col = \"year\", col_wrap=5)\ng.map(plt.scatter, \"gdp_per_capita ($)\", \"suicides\/100k pop\", alpha=.7)\ng.add_legend()","9e71415a":"# World Map\n\nGr\u00e2ce \u00e0 cette map, on peut avoir un aper\u00e7u sur les suicides par pays","c2f38e9c":"# Suicide vs HDI\n\nL'indice de d\u00e9veloppement humain ou IDH (en anglais, human development index ou HDI) est un indice statistique composite pour \u00e9valuer le taux de d\u00e9veloppement humain des pays du monde. L'IDH se fondait alors sur trois crit\u00e8res :\n* le PIB par habitant\n* l'esp\u00e9rance de vie \u00e0 la naissance\n* le niveau d'\u00e9ducation des enfants de 17 ans et plus\n\nNous pouvons penser qu'un pays plus d\u00e9velopp\u00e9 a un taux de suicide inf\u00e9rieur aux pays moins d\u00e9velopp\u00e9s.","b8f141aa":"Ce graphe reprend tous les points de moyenne de suicide par 100k habitants pour chaque pays tous les ans.\n\nCe graphe nous montre que la situation varie grandement en fonction du niveau de d\u00e9veloppement du pays.\n\nDeux \u00e9l\u00e9ments :\n- Les pays les plus d\u00e9velopp\u00e9s poss\u00e8dent un nombre moyen de suicide qui se rapproche de la moyenne mondiale mais ne tend pas vers 0.\n- Il est possible que certains comptages soient \u00e9rron\u00e9s pour les pays les moins d\u00e9velopp\u00e9s du fait d'une d\u00e9ficience possible du syst\u00e8me qui potentiellement sous-estime ou surestime le nombre de suicides.\n\nNous pouvons regarder l'\u00e9volution au cours du temps pour observer l'impact du d\u00e9veloppement des pays sur le taux de suicide.","0003481f":"Que ce soit sur ces graphes ou les pr\u00e9c\u00e9dents nous observons de hauts taux de suicides dans les ann\u00e9es 90 qui ont tendance \u00e0 dispara\u00eetre par la suite.\n\nAu fur et a mesure que les pays se d\u00e9veloppent, il semble que le taux de suicide se concentre autour de la moyenne mondiale, et des valeurs extr\u00eamement hautes sont de moins en moins observ\u00e9es.","61a70f30":"# Taux de suicide par an dans le monde en fonction de la tranche d'\u00e2ge","9823f53a":"# Taux de suicide par an r\u00e9parti par sexe","20498204":"* Le taux europ\u00e9en est globalement le plus \u00e9lev\u00e9, mais a r\u00e9guli\u00e8rement diminu\u00e9 ~ 40% depuis 1995\n* La tendance pour l'Afrique est due \u00e0 la mauvaise qualit\u00e9 des donn\u00e9es - seulement 3 pays ont fourni des donn\u00e9es","2c30a2ef":"Le graphique suivant montre le nombre de mort chez les hommes et femmes. \nOn observe une nette diff\u00e9rence entre le taux de suicide chez entre les hommes et les femmes.","c18439fb":"Dans l'ensemble, les suicides ont nettement diminu\u00e9 dans la plupart des pays. La Hongrie, la Lituanie et la Russie ont enregistr\u00e9 le nombre maximal de suicides, mais m\u00eame ces pays ont connu une baisse des taux de suicide au cours des ann\u00e9es 2000. Cependant, il existe des pays comme le Suriname, la Cor\u00e9e et la Guyane o\u00f9 les taux de suicide ont augment\u00e9. La Cor\u00e9e n'avait enregistr\u00e9 que 65 cas de suicides en 1995, apr\u00e8s 2000, le taux de suicide est pass\u00e9 \u00e0 600 avant de redescendre l\u00e8gerement apr\u00e8s 2010 (raisons : pression scolaire insoutenable pour les jeunes et dans le cas des persones ag\u00e8s : sentiment d\u2019ostracisme social croissant ressenti par les personnes \u00e2g\u00e9es et la perte de respect de la part des jeunes populations.","7f3a7157":"# Taux de suicide par an dans le monde","2837ca03":"Dans ce graphe, on remarque qu'il y a beaucoup de suicide masculin.\n\nOn peut voir que le taux de suicide chez les femmes repr\u00e9sente presque un quart de celui des hommes.","a241c36e":"On remarque que le taux de suicide augmente \u00e0 partir de 1988 et atteint son maximum en 1995 avant de commencer \u00e0 retomber en 1997 et ce jusqu'en 2015.","1ce6af09":"# Evolution en fonction du temps ","1e10a4d6":"# Comparaison par age et par continent","68767af5":"# Taux de suicides dans le monde par \u00e2ge et sexe\n\nIci nous remarquons que dans toutes les tranches d'\u00e2ge, les hommes se suicident beaucoup plus que les femmes.","c3105f2b":"# Analyses by continent ","5dafdb46":"Le graphique suivant montre le taux de suicide dans les diff\u00e9rents groupes d'\u00e2ge.\nOn peut observer que les plus de 75 sont les plus concern\u00e9s par le suicide.\n\nOn remarque que le taux de suicide augmente en fonction de l'\u00e2ge.\nOn peut poser comme hypoth\u00e9se que l'\u00e2ge et la maladie ( et la solitude) peuvent avoir un rapport avec le suicide .","5ab02322":"Le graphique suivant montre le nombre de mort chez les hommes et femmes. \nOn observe une nette diff\u00e9rence entre le taux de suicide chez entre les hommes et les femmes.","dbe40c75":"A l'aide de ce graphe nous pouvons penser que plus un pays est riche moins son taux de suicide est \u00e9lev\u00e9. Simplement ce taux ne varie pas vers 0 mais vers la moyenne. ","5328b495":"Le nombre de donn\u00e9es est faible mais suffisant pour avoir une id\u00e9e.","05970543":"# Comparaison par sexe et par continent","86b93fe6":"De la m\u00eame mani\u00e8re que pour l'IDH, on observe que l'enrichissement des pays entraine une diminution du taux de suicide vers la moyenne mondiale.","ec0db4f3":"# Suicide vs GDP : l'argent fait-il le bonheur ?\n\nIl est int\u00e9ressant de s'int\u00e9resser \u00e0 l'influence de la richesse dans le taux de suicide d'un pays. Cette richesse peut \u00eatre mesur\u00e9e par le GDP par habitant (PIB en fran\u00e7ais).\n\nLe produit int\u00e9rieur brut (PIB) est l'indicateur \u00e9conomique qui permet de quantifier la valeur totale de la \u00ab production de richesse \u00bb annuelle effectu\u00e9e par les agents \u00e9conomiques (m\u00e9nages, entreprises, administrations publiques) r\u00e9sidant \u00e0 l'int\u00e9rieur d'un territoire.\n\nNous pouvons penser qu'un pays riche a un taux de suicide plus faible.","722de14d":"Nous allons utiliser les colonnes suivantes :\n- country\n- year\n- sex\n- age\n- suicides\/100k pop\n- HDI for year\n- gdp_per_capita ($)\n- continent\n\nCes colonnes sont int\u00e9ressantes pour observer l'\u00e9volution des taux de suicide dans le monde en fonction des pays, \u00e2ges, sexe, niveau de d\u00e9veloppement et richesses. L'utilisation des valeurs de gdp_per_capita est plus pertinente que gdp_per_year par exemple.\n\nLes autres colonnes ne seront pas utilis\u00e9s car non utiles."}}