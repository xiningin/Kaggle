{"cell_type":{"ce570869":"code","5d05bfe7":"code","d2810c17":"code","ac12706d":"code","4737d7a4":"code","e5e289d8":"code","8f8a65fd":"code","176da69a":"code","edc72eca":"code","3eac6c93":"code","f45fd92e":"code","cd0cd542":"code","f0d13b85":"code","a3e8383b":"code","49ce6e31":"code","888d941c":"code","9a5e98a3":"code","0d34e149":"code","b8f0767e":"code","60cb19e3":"code","c8955a57":"code","d23756cc":"code","4e1820ca":"code","53eb6e0b":"code","36d41f3b":"code","f9660cb0":"code","9df68bbd":"code","9249d881":"code","d889c181":"code","00d2b419":"code","0084c197":"code","b57493c6":"code","ab4ee70e":"code","7abc697a":"code","26ab6109":"code","b8bad9d0":"markdown","a30ba4b7":"markdown","cac738cf":"markdown","87087f48":"markdown","dfaa4dec":"markdown","4d4cc7b6":"markdown","efb31e27":"markdown","f3234e24":"markdown","0209c9ad":"markdown","5faed2a2":"markdown","be92c01f":"markdown","c0252eb0":"markdown","70d0a99d":"markdown","b6c4f773":"markdown","1d1ad0e3":"markdown","2f9e7db3":"markdown","794a711b":"markdown","6b87c0f7":"markdown","08559697":"markdown","fed367b1":"markdown","f4bc739f":"markdown"},"source":{"ce570869":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","5d05bfe7":"import numpy as np\nimport pandas as pd\nimport missingno as msno\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go","d2810c17":"df = pd.read_csv('..\/input\/tamilnadu-cropproduction\/Tamilnadu agriculture yield data.csv')\ndf.sample(10)","ac12706d":"df.shape","4737d7a4":"df.info()","e5e289d8":"df.describe()","8f8a65fd":"df.isnull().sum()","176da69a":"msno.matrix(df)\nplt.show()","edc72eca":"df['State_Name'].value_counts()","3eac6c93":"df.drop('State_Name', axis=1, inplace=True)","f45fd92e":"df.dropna(how='any', inplace=True)","cd0cd542":"print(\"Duplicates:\", len(df[df.duplicated()]))","f0d13b85":"df.District_Name = df.District_Name.apply(lambda x: x.capitalize())","a3e8383b":"grp = df.groupby(\"Crop_Year\")[\"Area\"].sum().sort_index(ascending=True)","49ce6e31":"ag_area = pd.DataFrame({'Year': grp.index,\n                        'Agricultural Area': grp.values})\nag_area.head()","888d941c":"fig = go.Figure(data=go.Scatter(x = ag_area['Year'], y = ag_area['Agricultural Area'], marker_color = ag_area['Agricultural Area']))\nfig.update_layout(title='Agricultural Area over the years',  xaxis = dict(tickmode = 'linear', dtick = 1))\nfig.show()","9a5e98a3":"grp_dist = df[df.Crop_Year == 1998].groupby(\"District_Name\")[\"Area\"].sum().sort_values(ascending = False)","0d34e149":"dist_df = pd.DataFrame({'District': grp_dist.index, 'Agricultural Area': grp_dist.values})\ndist_df.head()","b8f0767e":"fig = px.bar(dist_df, x='District', y='Agricultural Area', color='Agricultural Area', height=600, width=1000, text='Agricultural Area', title='Agricultural Area in 1998')\nfig.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","60cb19e3":"df.Season.value_counts()","c8955a57":"df.Crop.value_counts()","d23756cc":"se_crop = df.groupby(['Season', 'Crop'])[\"Production\"].sum()","4e1820ca":"seas_crops = pd.DataFrame({\"Production\": se_crop}).reset_index()\nseas_crops.head()","53eb6e0b":"seas_crops.Season.value_counts()","36d41f3b":"wy = seas_crops[seas_crops['Season'] == 'Whole Year']\nnwy = seas_crops[seas_crops['Season'] != 'Whole Year']\nnwy.head()","f9660cb0":"fig = px.sunburst(nwy, path=['Season', 'Crop'], values='Production')\nfig.show()","9df68bbd":"crop_df = pd.concat([wy.sample(frac=0.4), nwy])","9249d881":"fig = px.sunburst(crop_df, path=['Season', 'Crop'], values='Production')\nfig.show()","d889c181":"fig = px.scatter(df, x=\"Production\", y=\"Area\",size=\"Crop_Year\", color=\"Season\", log_x=True, size_max=15, title = \"Area and Production in each season\")\nfig.show()","00d2b419":"dist_s = df.groupby([\"District_Name\", \"Season\"])[\"Production\"].sum()","0084c197":"kr = pd.DataFrame({\"Production\": dist_s}).reset_index()\nkr = kr.sort_values(\"Production\", ascending=False)\nkr = kr[kr.Season != 'Whole Year']\nkr.Season.value_counts()","b57493c6":"fig = px.bar(kr, \"District_Name\", y=\"Production\", color=\"Season\", title=\"Kharif vs Rabi in each District\")\nfig.show()","ab4ee70e":"fin = df.groupby([\"Season\",\"District_Name\",\"Crop\"])[\"Production\"].sum()","7abc697a":"final_df = pd.DataFrame({\"Production\": fin}).reset_index()\nfinal_df.sort_values(\"Production\", ascending=False, inplace=True)","26ab6109":"fig = go.Figure(data=[go.Table( header=dict(values=list(final_df.columns),\n                fill_color='lightblue',\n                align='left'),\n    cells=dict(values=[final_df.Season, final_df.District_Name, final_df.Crop, final_df.Production],\n               fill_color='pink',\n               align='left'))\n])\nfig.show()","b8bad9d0":"**Season based counts**","a30ba4b7":"Saddened to see this going from a peak of around 12M to just above 4M . Hopefully there is something that can be done","cac738cf":"**Types of crops grown through the year**","87087f48":"# Final Table\n\nWe've seen all the possible things that have happened in agriculture. Hope you liked it :)\n\nI will leave you with one final table before closing.\n\nThis will consist of:\n\n* Season \n\n* District\n\n* Crop","dfaa4dec":"What once was  : _ (","4d4cc7b6":"## Welcome\n\nThis notebook covers EDA and visualisation and analysis of them in the state of Tamil Nadu in India.\n\nThe history of agriculture in India dates back to Indus Valley Civilization.India ranks second worldwide in farm outputs. As per 2018, agriculture employed more than 50\u2105 of the Indian work force and contributed 17\u201318% to country's GDP. According to latest report, agriculture is primary source of livelihood for 58% population in India\n\nIn 2016, agriculture and allied sectors like animal husbandry, forestry and fisheries accounted for 15.4% of the GDP (gross domestic product) with about 31% of the workforce in 2014. India ranks first in the world with highest net cropped area followed by US and China. The economic contribution of agriculture to India's GDP is steadily declining with the country's broad-based economic growth. Still, agriculture is demographically the broadest economic sector and plays a significant role in the overall socio-economic fabric of India. India exported $ 38 billion worth of agricultural products in 2013, making it the seventh largest agricultural exporter worldwide and the sixth largest net exporter. Most of its agriculture exports serve developing and least developed nations. Indian agricultural\/horticultural and processed foods are exported to more than 120 countries, primarily to the Japan, Southeast Asia, SAARC countries, the European Union and the United States.\n\n**Source:**[Wikipedia](https:\/\/en.wikipedia.org\/wiki\/Agriculture_in_India)","efb31e27":"Let's compare the two types of crops(Kharif and Rabi) now because combining them with the Whole Year crops makes them hard to view","f3234e24":"# Kharif Production vs Rabi Production \n\nHow does the production vary in the two types of crops? \n\nLet's find out","0209c9ad":"# DataFrame Analysis","5faed2a2":"# Packages Required","be92c01f":"Null values handled. Are there any duplicates?","c0252eb0":"Only Production has null values. We will drop those for now. \n\nSince this data consists of only Agriculture in Tamil Nadu in particular we can drop State Name.","70d0a99d":"# Analysis based on Season\n\nThe agricultural season consists of two types of crops:\n\n* [Kharif Crops](https:\/\/en.wikipedia.org\/wiki\/Kharif_crop)\n\n* [Rabi Crops](https:\/\/en.wikipedia.org\/wiki\/Rabi_crop)\n\nAnd there's crops that can be grown any time of year","b6c4f773":"## Area and Production in each Season","1d1ad0e3":"# Agricultural Area in each District for a certain Year\n\nSince 1998 was a pretty big peak let's see how the land was in each district for that particular year.","2f9e7db3":"Present. We need a visual of those","794a711b":"# Area for Agriculture over the years\n\nAgricultural land has sadly seen a decrease over the years due to the modernization of the state as a whole and buildings replacing what once was great soil. Let's see how much was affected from 1997-2013 ","6b87c0f7":"## Missing values","08559697":"Good. We don't want those in our visuals\n\nAnother thing that is noticeable is the all caps of the district name. We can easily capitalise them.","fed367b1":"Click on each type to know more about those type of crops :)\n\nNow let's look at adding in Whole Year. \n\nThing is that it really messed up the viewing of Rabi Crops so I had to take a sample of it","f4bc739f":"# That's all folks\n\nThat's it for the analysis and EDA. Hope you liked it. Make sure to check out the dataset [here ](https:\/\/www.kaggle.com\/aishu200023\/tamilnadu-cropproduction) if you are also interested in doing analysis on it as well. Anything to say about the data or the notebook, let me know in the comments below :)"}}