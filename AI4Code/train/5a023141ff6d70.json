{"cell_type":{"86ae0f2c":"code","c72643b5":"code","d6473e74":"code","a542f4e0":"code","a49b6b89":"code","ee4c7dc7":"code","849f38db":"code","21d5e6c2":"code","9649c332":"code","d6070ed6":"code","f84d7574":"code","002b46a0":"code","1c4a654c":"code","b22747cf":"code","2e572789":"code","08ea5520":"code","66bfb938":"code","eca49641":"code","5f5f202d":"code","5752ed4d":"code","2845302f":"code","f6ee94b9":"code","08888b0f":"code","fb2dee8e":"code","9094f8af":"code","626fa980":"code","45d2fac6":"code","4d92e90c":"code","602f713c":"code","1e585749":"code","3a64d5b3":"code","d2637a01":"code","1ee1ccdd":"code","89f18c19":"markdown","1b92ad8a":"markdown","647212c0":"markdown","70fc655a":"markdown","e6ee1161":"markdown","26ccb1a5":"markdown","cd85302c":"markdown","cc951748":"markdown","ee8c3c0f":"markdown","d8782eda":"markdown","3b37576b":"markdown","f3931080":"markdown"},"source":{"86ae0f2c":"#import the numpy and pandas library\nimport numpy as np\nimport pandas as pd","c72643b5":"#import the data visualization libraries\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","d6473e74":"sns.set_style(\"darkgrid\", {'xtick.bottom': True, 'ytick.left': True})\nsns.set_context(\"paper\", font_scale=1.4) #for increasing text size in plots   ","a542f4e0":"#read the dataset\nreport = pd.read_csv(\"..\/input\/students-performance-in-exams\/StudentsPerformance.csv\")","a49b6b89":"report.head()","ee4c7dc7":"report.info()","849f38db":"#removing spaces for ease\nreport.columns = report.columns.str.replace(\" \",\"_\")","21d5e6c2":"report.isna().sum()","9649c332":"#let's do some statistical analysis.\nreport.describe()","d6070ed6":"#Let's see the distribution of scores\nfig, ax = plt.subplots(4,1, figsize=(10,20))#, gridspec_kw={'width_ratios': [3, 2]})\nsns.distplot(report[\"math_score\"], ax = ax[0], color = 'r', kde = False)\nsns.kdeplot(report[\"math_score\"], ax = ax[3], color = 'r', shade= True)\nsns.distplot(report[\"reading_score\"], ax = ax[1], color = 'g', kde = False)\nsns.kdeplot(report[\"reading_score\"], ax = ax[3], color = 'g', shade= True)\nsns.distplot(report[\"writing_score\"], ax = ax[2], color = 'b', kde = False)\nsns.kdeplot(report[\"writing_score\"], ax = ax[3], color = 'b', shade= True)","f84d7574":"#creating a heatmap of correlation among various scores.\nsns.heatmap(report.corr(), cmap=\"Reds\")","002b46a0":"#let's create a column for percentage\nreport[\"percentage\"] = round((report.math_score+report.reading_score+report.writing_score)\/3,2)","1c4a654c":"def grade_it(score):          #grading criteria: \n    x = int(10 - score\/10)  #100-91 - A, 90-81 - B, 80-71 - C, 70-61 - D, 60-51 - E, 50-41 - F, less than or equal to 40 - Fail\n    if x >= 6:\n        x = 6\n    return ['A', 'B', 'C', 'D', 'E', 'F', 'Fail'][x]","b22747cf":"#let's add a column of grades of students\nreport[\"grades\"] = report.percentage.apply(grade_it)\nreport.head() #final dataframe","2e572789":"def custom_alpha(x,alph): #function to add transparency to colors(change alpha value)\n    x = list(x)\n    x[-1] = alph\n    return x\n\ndef my_plot(col,alph = 0.6, cmap=\"Set1\", ptype = None, fsize = (10,5), order = True): # function for custom hist\/countplot or donut pie chart\n    \n    fig, ax = plt.subplots(1, figsize=fsize)\n    fig.patch.set_facecolor('#EAEAF2')\n    \n    theme = plt.get_cmap(cmap) #get required cmap\n    colors = [theme(i) for i in np.linspace(0, 1, col.nunique())] #get colors from cmap\n    \n    if alph != 1: #if aplha not 1 then change value of alpha\n        colors = list(map(custom_alpha,colors,[alph]*col.nunique()))\n        \n    col_sorted = col.value_counts().sort_index() #column.value_counts sorted according to index\n    \n    if ptype in [\"count\",\"hist\"]: #if ptype is given count or hist\n        if order: #if we want to sort the bars\n            order=col.value_counts().index.sort_values()\n        sns.countplot(col, order=order, palette=cmap) #plot a countplot\n        ax.tick_params(labelrotation=90) #rotate xtick labels for better readability\n        \n    else: #plot a donut pie chart        \n        arg = ax.pie(col_sorted,colors = colors, startangle=90, autopct='%1.1f%%',explode= [0.025]*col.nunique(),\n                       pctdistance=0.7, wedgeprops={\"width\":0.6,\"edgecolor\":\"0\",'linewidth': 1}) #plot function\n        \n        #next part of the code is for labels in boxes\n        wedges, text = arg[0:2]\n        \n        bbox_props = dict(boxstyle=\"square,pad=0.3\", fc=\"w\", ec=\"k\", lw=0.72)\n        kw = dict(arrowprops=dict(arrowstyle=\"-\", color='black', lw=1.5),\n                  bbox=bbox_props, zorder=0, va=\"center\")\n\n        for i, p in enumerate(wedges):\n            ang = (p.theta2 - p.theta1)\/2. + p.theta1\n            y = np.sin(np.deg2rad(ang))\n            x = np.cos(np.deg2rad(ang))\n            horizontalalignment = {-1: \"right\", 1: \"left\"}[int(np.sign(x))]\n            connectionstyle = \"angle,angleA=0,angleB={}\".format(ang)\n            kw[\"arrowprops\"].update({\"connectionstyle\": connectionstyle})\n            ax.annotate(col_sorted.index[i], xy=(x, y), xytext=(1.35*np.sign(x), 1.4*y),\n                       horizontalalignment=horizontalalignment, **kw)\n        \n    plt.suptitle(\"Distribution of \"+col.name, size=\"x-large\", weight=\"semibold\")\n    plt.show()","08ea5520":"#function to plot the scores\ndef plot_score(df,col,hue=None, fsize = (16,6), pal = \"muted\", sort_order = True, ptype = None):\n    \n    fig, ax = plt.subplots(1,3, figsize=fsize)\n    \n    fig.suptitle('Scores according to '+col, weight=\"semibold\") #adding a title to the plots\n    \n    score_cols = report.select_dtypes(\"number\").columns #getting all the scores columns(dtype == \"number\")\n    \n    order = df[col].value_counts().index.sort_values() if sort_order else None #if order is provided\n    \n    sns.set_palette(pal) #setting a color pallete\n    \n    #next part is the plotting functions based on type\n    for i in range(3):\n        if ptype == \"boxen\":\n            sns.boxenplot(x=col, y=score_cols[i],hue=hue,data = df, ax= ax[i], order=order) #seaborm boxenplot\n        elif ptype == \"swarm\":\n            sns.swarmplot(x=col, y=score_cols[i],hue=hue,data = df, ax= ax[i], order=order) #seaborm swarmplot\n        elif ptype == \"violin\":\n            sns.violinplot(x=col, y=score_cols[i],hue=hue,data = df, ax= ax[i], order=order) #seaborm violinplot\n        else:\n             sns.boxplot(x=col, y=score_cols[i],hue=hue,data = df, ax= ax[i], order=order) #seaborm boxplot\n                \n        ax[i].tick_params(labelrotation=90) #rotate the labels\n        ax[i].set_title(score_cols[i], weight=\"medium\") #add title to each plot","66bfb938":"#function to plot countplot for grades\ndef cplot(df,hue, pal=\"tab10\"):\n    plt.figure(figsize=(12,6))\n    order = report.grades.value_counts().index.sort_values()\n    sns.countplot(x= \"grades\", hue=hue, data=df, order=order, palette=pal)","eca49641":"# To get some idea about object data types.\nreport.select_dtypes(\"object\").describe()","5f5f202d":"report.percentage.describe()","5752ed4d":"plt.figure(figsize=(6,6)).patch.set_facecolor('#EAEAF2')\ngrade_sorted = report[\"grades\"].value_counts().sort_index()\nplt.pie(grade_sorted, explode= [0.1]*report[\"grades\"].nunique(),\n        labels = grade_sorted.index, autopct='%1.1f%%', pctdistance=0.7,\n           wedgeprops={\"width\":0.6,\"edgecolor\":\"0\",'linewidth': 1}, shadow=True)\n\nmy_plot(report[\"grades\"], 0.6, cmap=\"Set2\", ptype= \"count\", order=None)","2845302f":"my_plot(report[\"gender\"],0.5, \"Wistia\")\nplot_score(report,\"gender\", pal= \"pastel\" )","f6ee94b9":"cplot(report,\"gender\")","08888b0f":"my_plot(report[\"race\/ethnicity\"],cmap = \"coolwarm\", ptype= \"count\", fsize=(6,5))","fb2dee8e":"plot_score(report,\"race\/ethnicity\", pal = \"muted\", ptype=\"boxen\")","9094f8af":"cplot(report,hue=\"race\/ethnicity\", pal=\"Spectral\")","626fa980":"my_plot(report[\"parental_level_of_education\"], 0.6, \"Purples\", ptype= \"pie\", order=None)\nmy_plot(report[\"parental_level_of_education\"], 0.6, \"Purples\", ptype= \"count\", order=None)","45d2fac6":"plot_score(report, \"parental_level_of_education\", sort_order=0, pal = \"muted\")","4d92e90c":"cplot(report, hue=\"parental_level_of_education\", pal=\"muted\")","602f713c":"my_plot(report[\"lunch\"],0.8,\"Set3\")\nplot_score(report,\"lunch\",fsize=(14,6), pal = \"Set2\")","1e585749":"cplot(report, hue=\"lunch\", pal=\"muted\")","3a64d5b3":"my_plot(report[\"test_preparation_course\"],0.4,\"prism\")","d2637a01":"plot_score(report,\"test_preparation_course\", fsize=(14,6), pal = \"Accent\")","1ee1ccdd":"cplot(report,\"test_preparation_course\", pal = \"deep\")","89f18c19":"### 8. Distribution of Scores based on Lunch:\n- We can see that almost `two-thirds` of students have `standard lunch`.\n- The scores show that students with `standard lunch` have performed better. This is visible in all the `three scores`.\n- The no. of students with `free\/reduced lunch` are high among the `least` scorers.\n- These observations can also be seen from the `grades` visualization.","1b92ad8a":"### 6. Distribution of Scores based on race\/ethnicity:\n- The distribution shows that highest no of students belong to `group C` followed by `group D` and `group B`.\n- From the graphs plotted, we can observe that in all the 3 scores `group E` performed the best whereas `group A` scored the least.\n- In math scores there is a trend of increase in scores from `group A` followed by `group B`, `group C`, `group D` and `group E`(highest scorer).\n- While in reading and writing exam, `group B`, `group C` and `group D` had similar scores.","647212c0":"#### Let's start exploring the data.","70fc655a":"### 7. Distribution of Scores based on Parental Level of Education:\n- We can observe that highest no of students have parents with a `associate's degree` or have attended `some college`.\n- The number of number of students with parents having a `master's degree` is the least.\n- `Highest` marks are scored by students with parents having a `master's degree` followed by students with parents having a `bachelors's degree`.\n- The students whose parents with `high school` education only scored the `least` marks.\n- These trends can be observed in all the `three scores`.\n\n***Note:*** *Assumption has been made that some high school \/ college means they did not finish it. So, some high school or college is different from high school or a degree respectively.*","e6ee1161":"### 4. Distribution of grades:\n- From the statistical description of `percentage`, we can see that the `average marks` scored by students in all the three exams is around `68`.\n- Highest no. of students have a `C grade` followed by `D grade`. This accounts for more than `50%` of students.","26ccb1a5":"### 9. Distribution of Scores based on Test Preparation Course:\n- Here, we can see that `one thirds` of students `completed` the test preparation course.\n- The effect of `test preparation` is evident in the scores of students. They have `performed better` in all the `three` exams than the students who `didn't complete` any test preparation.\n- No. of students who had `none` of the test preparation courses were `significantly high` among the least scorers.\n- Students who `completed` test preparation are more having a `A grade` whereas the students who did `none` are more having a `D, E, F grade and Fail`.","cd85302c":"### 2. Scores Distribution:\n- We can see that the `scores` have high frequency around 50 - 80 with `math scores` being slightly less than the other two.\n- This can also be obeserved from the `statistical description` of the scores.\n- The `mean` of the scores is between `66 - 69` and `standard deviation` is around `15` marks","cc951748":"### 5. Distribution of Scores and Grades based on Gender:\n- The ratio of  `male` and `female` seem to be almost 1:1 with slightly more no of `females`.\n- From the graphs above, we can observe that `male` students performed better in `math` as compared to `feamle`. Whereas `female` students performed better in `reading` and `writing` as compared to `male`.\n- From the outliers in boxplot, we can observe that few `female` students scored very low as compared to `boys`. This observation was significant in `math scores`.\n- We can see that on an average `female` students performed better than `male`.\n- The observation is evident from the `countplot` as we can see that more `female` students got `A, B and C grade` than `male` students. Whereas more `male` students got `D, E and F grade` than `female` students. ","ee8c3c0f":"#### Let's check the categorical columns.","d8782eda":"### 1. Null Values:\n- We can observe that the data does not contain any `null values` which is good.","3b37576b":"To explore and understand how the student's performance (test scores) is affected by the other variables (Gender, Ethnicity, Parental level of education, Lunch, Test preparation course) from [Students Performance in Exams](https:\/\/www.kaggle.com\/spscientist\/students-performance-in-exams) dataset","f3931080":"### 3. Scores Correlation:\n- From the `kdeplot`, we can see the similarity in the distribution of `scores`. The correlation `heatmap` confirms it as we can observe the `high correlation` of the `reading` and `writing` scores. The correlation of `math score` is also significantly high with other scores."}}