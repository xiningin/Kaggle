{"cell_type":{"1900f410":"code","8ff91ea2":"code","95d4d9d9":"code","c49caed0":"code","67b02d76":"code","e2bbaefa":"code","dc5539a6":"code","961ea0ad":"code","5d78646b":"code","f9bf7ea5":"code","90b06125":"code","30219943":"code","077241ef":"code","d11b7204":"code","69f02e12":"code","1f16d055":"code","a96c2def":"code","0601a6dc":"code","b6c7a020":"code","c6013325":"code","1fd2d423":"markdown","f51308cb":"markdown","5552649f":"markdown","f62e7745":"markdown","b08ef516":"markdown","24c76819":"markdown","0a02b85c":"markdown","009b2977":"markdown","8a46d9ad":"markdown","0b563899":"markdown","aba6b885":"markdown","dbc5efde":"markdown","4c9d1c00":"markdown","f45e9e8f":"markdown","4cb75660":"markdown","8ef7ddac":"markdown","cfcdd25b":"markdown","08e00dcf":"markdown","819ffefb":"markdown","7b5985fd":"markdown","e8ba5cd2":"markdown","99f27bf0":"markdown","61246313":"markdown","45c2786b":"markdown","1f647704":"markdown","5a95400c":"markdown","5378075b":"markdown","8c30e9d1":"markdown","ab4fa733":"markdown","2a2c0a27":"markdown"},"source":{"1900f410":"import numpy as np\nimport pandas as pd\nimport os\nimport sys\nimport matplotlib.pyplot as plt\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.offline as py\nimport math\nimport itertools\npy.init_notebook_mode(connected=True)","8ff91ea2":"LOOK_AT = 10","95d4d9d9":"df = pd.read_csv(\"..\/input\/political-donations-by-american-sports-owners\/sports-political-donations.csv\")\ndf","c49caed0":"if df['Amount'].dtype != 'int64':\n    df['Amount'] = (df['Amount'].str.replace('$', '', regex=False)).str.replace(',', '', regex=False).astype('int64')\n\ndf","67b02d76":"amount = df['Amount']\nfig = px.histogram(amount)\nfig.update_layout(barmode='group', title={'text': f\"Distribution of Donation Values\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, xaxis_title=\"Amount, in USD\", yaxis_title=\"Count\", showlegend=False)\nfig.show()\nprint(\"Number of Donations: %d\\nMean Donation Value: $%.2f\\nMedian Donation Value: $%.2f\" % (len(amount), amount.mean(), amount.median()))\nprint(\"\\nAdditional Statistical Measures:\\nStandard Deviation: $%.3f\\nSkew: %.3f\\nKurtosis: %.3f\\n95%% of Data is Between $%.3f and $%.3f\" % (amount.std(), amount.skew(),\n                                                                                                        amount.kurtosis(), np.quantile(amount, 0.025), np.quantile(amount, 0.975)))","e2bbaefa":"donations = df.sort_values('Amount', ascending=False)\nfig = px.bar(donations[:LOOK_AT], x=\"Owner\", y=\"Amount\")\nfig.update_layout(barmode='group', title={'text': f\"Top {LOOK_AT} Individual Donations\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Amount, in USD\", showlegend=False)\nfig.show()","dc5539a6":"sum_df = df.groupby('Owner').sum().sort_values('Amount', ascending=False)\nsum_donated = sum_df['Amount']\nfig = px.bar(sum_donated[:LOOK_AT])\nfig.update_layout(barmode='group', title={'text': f\"Top {LOOK_AT} Individual Donators, Gross Value\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Amount, in USD\", showlegend=False)\nfig.show()","961ea0ad":"pie_df = sum_df.reset_index()\nfig = px.pie(pie_df, values=\"Amount\", names=\"Owner\")\nfig.update_traces(textposition='inside')\nfig.update_layout(uniformtext_minsize=12, uniformtext_mode='hide', title={'text': f\"Pie Chart of Individual Donators (Total Donated: ${sum_donated.sum()})\", 'x': 0.4,\n                             'xanchor': 'center', 'font': {'size': 20}})\nfig.show()","5d78646b":"amount = df.groupby('Owner').sum()['Amount']\nfig = px.histogram(amount)\nfig.update_layout(barmode='group', title={'text': f\"Distribution of Donators\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, xaxis_title=\"Amount, in USD\", yaxis_title=\"Count\", showlegend=False)\nfig.show()\nprint(\"Number of Unique Donators: %d\\nMean Donator: $%.2f\\nMedian Donator: $%.2f\" % (len(amount), amount.mean(), amount.median()))\nprint(\"\\nAdditional Statistical Measures:\\nStandard Deviation: $%.3f\\nSkew: %.3f\\nKurtosis: %.3f\\n95%% of Data is Between $%.3f and $%.3f\" % (amount.std(), amount.skew(),\n                                                                                                        amount.kurtosis(), np.quantile(amount, 0.025), np.quantile(amount, 0.975)))","f9bf7ea5":"cj_donations = df.loc[df['Owner'] == 'Charles Johnson']\ncj_donations","90b06125":"fig = px.histogram(cj_donations['Amount'])\nfig.update_layout(barmode='group', title={'text': f\"Charles Johnson's Donations\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, xaxis_title=\"Amount, in USD\", yaxis_title=\"Count\", showlegend=False)\nfig.show()","30219943":"count_donated = df.groupby('Owner').size().sort_values(ascending=False)\nfig = px.bar(count_donated[:LOOK_AT])\nfig.update_layout(barmode='group', title={'text': f\"Top {LOOK_AT} Donators by Number of Donations\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Count\", showlegend=False)\nfig.show()","077241ef":"fig = px.histogram(count_donated, nbins=200)\nfig.update_layout(barmode='group', title={'text': f\"Distribution of Number of Donations Per Donator\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, xaxis_title=\"Donated Count\", yaxis_title=\"Count\", showlegend=False)\nfig.show()\n\nprint(\"Mean Donations per Donator: %.3f\\nMedian Donations per Donator: %.1f\" % (count_donated.mean(), count_donated.median()))\nprint(\"\\nAdditional Statistical Measures:\\nStandard Deviation: %.3f\\nSkew: %.3f\\nKurtosis: %.3f\\n95%% of Data is Between %d Donation(s) and %d Donation(s)\" % (count_donated.std(), \n                                            count_donated.skew(), count_donated.kurtosis(), np.quantile(count_donated, 0.025), np.quantile(count_donated, 0.975)))","d11b7204":"avg_donated = df.groupby('Owner').mean()['Amount'].sort_values(ascending=False)\nfig = px.bar(avg_donated[:LOOK_AT])\nfig.update_layout(barmode='group', title={'text': f\"Top {LOOK_AT} Donators by Average Donation\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Count\", showlegend=False)\nfig.show()","69f02e12":"df['Party'].unique()","1f16d055":"COLOR_MAP = {'Democrat': 'blue', 'Bipartisan': 'yellow', 'Republican': 'red', 'Bipartisan, but mostly Republican': 'orange', 'Bipartisan, but mostly Democratic': 'cyan',\n            'Independent': 'green'}\nparty_df = pd.DataFrame(df.groupby('Party').size().sort_values(ascending=False), columns=[\"Count\"]).reset_index()\nfig = px.bar(party_df, x=\"Party\", y=\"Count\", color=\"Party\", color_discrete_map=COLOR_MAP)\nfig.update_layout(title={'text': f\"Political Parties Which Receive the Most Donations\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Count\", showlegend=False)\nfig.show()","a96c2def":"COLOR_MAP = {'Democrat': 'blue', 'Bipartisan': 'yellow', 'Republican': 'red', 'Bipartisan, but mostly Republican': 'orange', 'Bipartisan, but mostly Democratic': 'cyan',\n            'Independent': 'green'}\nparty_sum_df = df.groupby('Party').sum().sort_values('Amount', ascending=False).reset_index()\nfig = px.bar(party_sum_df, x=\"Party\", y=\"Amount\", color=\"Party\", color_discrete_map=COLOR_MAP)\nfig.update_layout(title={'text': f\"Political Parties Which Receive the Most Money\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Amount, in USD\", showlegend=False)\nfig.show()","0601a6dc":"polar_df = df.groupby(['Owner', 'Party']).size()\nmcc_owner = {}\nfor owner in df['Owner'].unique():\n    mcc = polar_df[owner].sum()-max(polar_df[owner])\n    mcc_owner[owner] = mcc\n        \nmcc_df = pd.DataFrame.from_dict(mcc_owner, orient='index', columns=[\"Value\"]).sort_values(\"Value\", ascending=False)\nmcc_df","b6c7a020":"fig = px.bar(mcc_df[:LOOK_AT])\nfig.update_layout(title={'text': f\"Which Donators Have the Most Polar Donations\", 'x': 0.5,\n                             'xanchor': 'center', 'font': {'size': 20}}, yaxis_title=\"Value\", showlegend=False)\nfig.show()","c6013325":"polar_df['Micky Arison']","1fd2d423":"It looks like most of his donations are comparatively small, but he has a couple of extremely large donations.","f51308cb":"\"A general guideline for skewness is that if the number is greater than +1 or lower than \u20131, this is an indication of a substantially skewed distribution. For kurtosis, the general guideline is that if the number is greater than +1, the distribution is too peaked\" (<a href=\"https:\/\/www.smartpls.com\/documentation\/functionalities\/excess-kurtosis-and-skewness\">Source<\/a>). \n\nClearly, this distribution has many outliers, and that's confirmed by visual analysis of the plot above. Since we are not necessarily doing predictions with this data, removing these outliers is not necessary, but it is still good to note that **the top donators in this dataset are statistical outliers.**","5552649f":"<h3> Distribution of Donation Values <\/h3>","f62e7745":"Most sports team owners in this dataset donate less than 5 times, but there are still quite a lot of statistical outliers (I'm looking at you, Charles Johnson).","b08ef516":"Yep, you read that right. San Fransisco Giants owner Charles Johnson holds the top 3 donations and accounts for 5 out of the top 10 donations in terms of numerical value (amount donated). He is clearly an outlier in this analysis (If you want to look at more\/other owners in your own analysis, feel free to fork the notebook and increase the value of ```LOOK_AT``` and\/or drop Charles Johnson from the data entirely).","24c76819":"<h3> Which Party Receives the Most Money? <\/h3>","0a02b85c":"<h3> Polarity of Donations <\/h3>\n\nWe calculate polarity as ```sum - max(donations)```. This will take into consideration all donations that are NOT the donator's primary party they donated to.","009b2977":"<h3> Number of Donations per Donator <\/h3>","8a46d9ad":"# Analysis of Individual Donations\n\n<h3> Primary Questions <\/h3>\n\n* What is the distribution of donation values?\n* What are the largest individual donations in terms of amount donated?","0b563899":"One of the most important steps is here to convert each of the columns in the dataset to its appropriate type. Here, we want to convert the column \"Amount\" to a float so we can utilize the vectorized implementations Pandas DataFrames offer. We do so with the simple one-liner shown below.","aba6b885":"Let's take a look at the person with the most polar donations, Micky Arison.","dbc5efde":"And that's all for this notebook right now! There's definitely some other stuff you could probably do with this data and\/or you could extend this data beyond donations by only American sports owners. Once again, if you liked this notebook, please give it an upvote! It would be greatly appreciated.","4c9d1c00":"No Charles Johnson, very cool.","f45e9e8f":"# Political Donations EDA \ud83d\udcb8\n\nThis is a quick starter Exploratory Data Analysis (EDA) of the Political Donations by American Sports Owners Dataset. Although I do use quite a lot of one-liners in this EDA, I think there is enough commenting and analysis for anyone to follow along and understand the code.\n\n<h3> Table of Contents <\/h3>\n\n<ol>\n    <li> <a href=\"https:\/\/www.kaggle.com\/ironicninja\/political-donations-eda#Essential-Imports\"> Essential Imports <\/a> <\/li>\n    <li> <a href=\"https:\/\/www.kaggle.com\/ironicninja\/political-donations-eda#Data-Preprocessing\"> Data Preprocessing <\/a> <\/li>\n    <li> <a href=\"https:\/\/www.kaggle.com\/ironicninja\/political-donations-eda#Analysis-of-Individual-Donations\"> Analysis of Individual Donations <\/a> <\/li>\n    <li> <a href=\"https:\/\/www.kaggle.com\/ironicninja\/political-donations-eda#Analysis-of-Individual-Donators\"> Analysis of Individual Donators <\/a> <\/li>\n    <li> <a href=\"https:\/\/www.kaggle.com\/ironicninja\/political-donations-eda#Analysis-of-Donations-to-Specific-Political-Parties\"> Analysis of Donations to Specific Political Parties <\/a> <\/li>\n<\/ol>\n\n<p style=\"font-size: 16px\"> If you like this notebook, please give it an <span style=\"color: green; font-weight: bold\"> upvote!<\/span> Let's jump right into the analysis. <\/p>","4cb75660":"Charles Johnson accounts for almost a quarter of all donations! Now, let's take a look at the distribution of individual donators.","8ef7ddac":"Interestingly, Micky Arison donates to both Democrat AND Republican groups.","cfcdd25b":"<h3> Highest Average Donator <\/h3>","08e00dcf":"<h3> Top 10 Individual Donations <\/h3>","819ffefb":"The Republican party also receives the most money by sports owners.","7b5985fd":"# Data Preprocessing","e8ba5cd2":"What a surprise, it's Charles Johnson at the top AGAIN. It seems like he really loves to donate to political groups, huh.","99f27bf0":"# Analysis of Individual Donators\n\n<h3> Primary Questions: <\/h3>\n\n* Which owner has donated the most TOTAL money?\n* Which owner has donated the most times?\n* Which owner donates, ON AVERAGE, the most money?","61246313":"# Analysis of Donations to Specific Political Parties\n\nLet's add the feature \"Party\" to the mix.\n\n<h3> Primary Questions <\/h3>\n\n* Which party receives the most donations?\n* Which party receives the most money?\n* Are there any owners that donate to multiple parties?","45c2786b":"The variable below, ```LOOK_AT```, controls the visualizations done below. If you fork this notebook and would like to visualize more\/less per graph, the easiest way to do so is by changing the value of ```LOOK_AT``` below.","1f647704":"# Essential Imports","5a95400c":"<h3> Top Donators by Gross Value Donated <\/h3>","5378075b":"Unsurprisingly, Charles Johnson tops the list again with a whopping **$11.03 MILLION** donated. Let's see what percentage of donated money he claims.","8c30e9d1":"Ok, Charles Johnson is quite obviously an outlier. Let's take a closer look at his donations.","ab4fa733":"<h3> Which Party Receives the Most Donations? <\/h3>","2a2c0a27":"Republicans receive the most donations by a decent margin."}}