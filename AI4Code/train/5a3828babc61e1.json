{"cell_type":{"3fddb1bf":"code","b01c7f47":"code","6bec9eb0":"code","1674583f":"code","a13329ae":"code","98bf36d3":"code","28391470":"code","2a0b85f9":"code","24da1ef7":"code","27e92a44":"code","df8e9df2":"code","bd208e9c":"markdown","7144386b":"markdown","a6acdfd7":"markdown"},"source":{"3fddb1bf":"from fastai.vision import *\nfrom fastai.basic_data import *","b01c7f47":"folder='BoJo'; file='..\/input\/BoJo.csv'\n\npath = Path('..\/pics')\ndest = path\/folder\ndest.mkdir(parents=True, exist_ok=True)\n\ndownload_images('..\/input\/BoJo.csv', dest, max_pics=120, max_workers=0)\nverify_images(path, delete=True, max_size=120)","6bec9eb0":"folder='JeremyC'; file='..\/input\/JeremyC.csv'\n\npath = Path('..\/pics')\ndest = path\/folder\ndest.mkdir(parents=True, exist_ok=True)\n\ndownload_images('..\/input\/JeremyC.csv', dest, max_pics=120, max_workers=0)\n\nverify_images(path, delete=True, max_size=120)","1674583f":"folder='JoSwinson'; file='..\/input\/JoSwinson.csv'\n\npath = Path('..\/pics')\ndest = path\/folder\ndest.mkdir(parents=True, exist_ok=True)\n\ndownload_images('..\/input\/JoSwinson.csv', dest, max_pics=120, max_workers=0)\n\nverify_images(path, delete=True, max_size=120)","a13329ae":"folder='NicolaSturgeon'; file='..\/input\/NicolaSturgeon.csv'\n\npath = Path('NicolaSturgeon_pics')\ndest = path\/folder\ndest.mkdir(parents=True, exist_ok=True)\n\ndownload_images('..\/input\/NicolaSturgeon.csv', dest, max_pics=120, max_workers=0)\n\nverify_images(path, delete=True, max_size=500)","98bf36d3":"classes = ['BoJo', 'JeremyC', 'JoSwinson', 'NicolaSturgeon']","28391470":"cnt=0\ndirname = '..\/pics'\nfor filename in dirname:\n    try:\n        img=Image.open(dirname+\"\/\"+filename)\n    except OSError:\n        print(\"FILE: \", filename, \"is corrupt!\")\n        cnt+=1\n        print(dirname+\"\/\"+filename)\n        #os.remove(dirname+\"\/\"+filename)\nprint(\"Successfully Completed Operation! Files Courrupted are \", cnt)","2a0b85f9":"import os\nfor dirname, _, filenames in os.walk('..\/pics'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","24da1ef7":"np.random.seed(42)\n\nsrc = ImageDataBunch.from_folder('..\/pics',train='.', valid_pct=0.2, ds_tfms=get_transforms(), size=224, num_workers=0).normalize(imagenet_stats)","27e92a44":"data.classes","df8e9df2":"data.show_batch(rows=3, figsize=(7,8))","bd208e9c":"# View data","7144386b":"# Download pictures","a6acdfd7":"I'm going to train a classifier to distinguish photos of the four UK party leaders (Boris Johnson, Jeremy Corbyn, Jo Swinson and Nicola Sturgon)."}}