{"cell_type":{"cda45838":"code","c4141c04":"code","158f0251":"code","43ee04d1":"code","1b44d4ad":"code","5940698d":"code","a09bff25":"code","f2848efa":"code","4033c216":"code","7138ddab":"code","1d762eb4":"code","128962fb":"code","50ffec4f":"code","c2cd011c":"code","3c1392f2":"code","9f8adc78":"code","e4ea4ef5":"code","9720169b":"code","4eac9b39":"code","0c71325b":"code","afc5e249":"code","b00bcd94":"code","56337576":"code","fa6bff5b":"code","cba188de":"code","1c4cad47":"code","4ad5addf":"code","55399e9c":"code","9404c9c0":"code","b515f055":"code","a1574231":"code","b04efe69":"code","9e4687ca":"code","535ce89b":"code","f5ab63df":"code","39784c98":"code","f76e0907":"code","975522a3":"code","6702af98":"code","a46ff07f":"code","7c70b4f3":"code","20e57c7e":"code","0b88e2de":"code","2667d56f":"code","ca352544":"code","671c7688":"code","13e3e974":"code","87f0f987":"code","5ed3265e":"code","a1120e51":"code","56dd03f0":"code","44c48d72":"code","07169a55":"code","35e0d4a9":"code","766a253c":"code","75b8af15":"code","7b93f6a0":"code","8d253816":"code","9feb284f":"code","c57d60e5":"code","285b2540":"code","68e93ed6":"code","ec9b7f54":"code","f7caf4d3":"code","ced560de":"code","58d0b4a5":"markdown","1fb9eeab":"markdown","7113ee27":"markdown"},"source":{"cda45838":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom mpl_toolkits.basemap import Basemap\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\n\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","c4141c04":"#pip install plotly==3.10.0","158f0251":"df=pd.read_csv(\"..\/input\/suicide-rates-overview-1985-to-2016\/master.csv\")","43ee04d1":"df.head()","1b44d4ad":"df.columns=[\"country\",\"year\",\"gender\",\"age_group\",\"suicide_number\",\"population\",\"sui_pop\",\"country_year\",\"hdi\",\"gdp_for_year\",\"gdp_per_capita\",\"generation\"]","5940698d":"df.drop([\"country_year\",\"gdp_for_year\",\"gdp_per_capita\"],axis=1,inplace=True)\ndf.head()","a09bff25":"df.age_group.unique()","f2848efa":"df[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('5-14 years','child') if '5-14 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('15-24 years','youth') if '15-24 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('25-34 years','young adult') if '25-34 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('35-54 years','early adult') if '35-54 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('55-74 years','adult') if '55-74 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('75+ years','senior') if '75+ years' in str(x) else str(x))","4033c216":"df.head()","7138ddab":"df.tail()","1d762eb4":"df.info()","128962fb":"df.shape","50ffec4f":"df.describe()","c2cd011c":"df.isnull().sum()","3c1392f2":"def impute_median(series):\n    return series.fillna(series.median())","9f8adc78":"df.hdi =df[\"hdi\"].transform(impute_median)","e4ea4ef5":"df.isnull().sum()","9720169b":"df.head()","4eac9b39":"df = df.sort_values(by=[\"suicide_number\",\"age_group\"], ascending=False)\ndf['rank']=tuple(zip(df.suicide_number,df.age_group))\ndf['rank']=df.groupby('suicide_number',sort=False)['rank'].apply(lambda x : pd.Series(pd.factorize(x)[0])).values\ndf.head()","0c71325b":"df.reset_index(inplace=True,drop=True)\ndf.head()","afc5e249":"df[\"gender\"].value_counts()","b00bcd94":"#Gender show bar plot\nsns.set(style='whitegrid')\nax=sns.barplot(x=df['gender'].value_counts().index,y=df['gender'].value_counts().values,palette=\"Blues_d\",hue=['female','male'])\nplt.legend(loc=8)\nplt.xlabel('Gender')\nplt.ylabel('Frequency')\nplt.title('Show of Gender Bar Plot')\nplt.show()","56337576":"df[\"age_group\"].value_counts()","fa6bff5b":"plt.figure(figsize=(7,7))\nsns.barplot(x=df['age_group'].value_counts().index,\n              y=df['age_group'].value_counts().values)\nplt.xlabel('age_group')\nplt.ylabel('Frequency')\nplt.title('Show of age_group Bar Plot')\nplt.show()","cba188de":"df[\"generation\"].value_counts()","1c4cad47":"plt.figure(figsize=(15,7))\nsns.barplot(x=df['generation'].value_counts().index,\n              y=df['generation'].value_counts().values)\nplt.xlabel('generation')\nplt.ylabel('Frequency')\nplt.title('Show of generation Bar Plot')\nplt.show()","4ad5addf":"df.nunique()","55399e9c":"plt.figure(figsize=(10,7))\nsns.barplot(x = \"generation\", y = \"suicide_number\", hue = \"gender\", data = df)\nplt.xticks(rotation=45)\nplt.show()","9404c9c0":"plt.figure(figsize=(10,7))\nsns.barplot(x = \"age_group\", y = \"suicide_number\", hue = \"gender\", data = df)\nplt.xticks(rotation=45)\nplt.show()","b515f055":"plt.figure(figsize=(12,7))\nsns.catplot(y=\"gender\", x=\"suicide_number\",\n                 hue=\"age_group\",\n                 data=df, kind=\"bar\")\nplt.title('for age group & suicide_number')\nplt.show()","a1574231":"plt.figure(figsize=(10,10))\nsns.catplot(x=\"gender\", y=\"suicide_number\",\n                 hue=\"generation\",\n                 data=df, kind=\"bar\")\nplt.title('for generation & suicide number')\nplt.show()","b04efe69":"f,ax=plt.subplots(figsize=(9,10))\nsns.barplot(x=df['gender'].value_counts().values,y=df['gender'].value_counts().index,alpha=0.5,color='red',label='Gender')\nsns.barplot(x=df['age_group'].value_counts().values,y=df['age_group'].value_counts().index,color='blue',alpha=0.7,label='Age Group')\nax.legend(loc='upper right',frameon=True)\nax.set(xlabel='Gender , Age Group',ylabel='Groups',title=\"Gender vs Age Group \")\nplt.show()","9e4687ca":"plt.figure(figsize=(15,7))\nax = sns.pointplot(x=\"suicide_number\", y=\"hdi\", hue=\"gender\",data=df)\nplt.xticks(rotation=90)\nplt.show()","535ce89b":"plt.figure(figsize=(10,10))\nsns.jointplot(x=np.arange(1,4991),y=df[(df['generation']=='Boomers')].hdi,color='lime',alpha=0.8)\nplt.xlabel('Boomers index State')\nplt.ylabel('Frequency')\nplt.title('Boomers Frequency Suicide Number')\nplt.xticks(rotation=90)\nplt.tight_layout()\nplt.show()","f5ab63df":"plt.figure(figsize=(10,10))\nsns.jointplot(x=np.arange(1,4991),y=df[(df['generation']=='Boomers')].hdi,color='lime',kind='hex',alpha=0.8)\nplt.xlabel('Boomers index State')\nplt.ylabel('Frequency')\nplt.title('Boomers  Frequency Hdi')\nplt.xticks(rotation=90)\nplt.tight_layout()\nplt.show()","39784c98":"plt.figure(figsize=(10,5))\nsns.barplot(df.suicide_number[:600],df.country[:600])\nplt.show()","f76e0907":"g = sns.jointplot(\"population\", \"suicide_number\", data=df, kind=\"reg\",\n                  xlim=(260, 43805220), ylim=(0, 22340), color=\"m\", height=7)","975522a3":"sns.lmplot(x=\"suicide_number\", y=\"hdi\", data=df,\n           logistic=True, y_jitter=.03);","6702af98":"plt.figure(figsize=(15,7))\nsns.lmplot(x='suicide_number',y='hdi',hue='gender',data=df,markers=['x','o'])\nplt.xlabel('suicide')\nplt.ylabel('hdi')\nplt.title('suicide number vs hdi')\nplt.show()","a46ff07f":"sns.kdeplot(df['suicide_number'])\nplt.xlabel('Values')\nplt.ylabel('Frequency')\nplt.title('Suicide Number Kde Plot System Analysis')\nplt.show()","7c70b4f3":"sns.violinplot(df['suicide_number'])\nplt.xlabel('suicide_number')\nplt.ylabel('Frequency')\nplt.title('Violin suicide_number Show')\nplt.show()","20e57c7e":"sns.violinplot(x=df['age_group'],y=df['hdi'])\nplt.show()","0b88e2de":"sns.heatmap(df.corr())\nplt.show()","2667d56f":"sns.boxenplot(x=\"age_group\", y=\"suicide_number\",\n              color=\"b\",\n              scale=\"linear\", data=df)\nplt.show()","ca352544":"sns.boxenplot(x=\"age_group\", y=\"hdi\",\n              color=\"b\",\n              scale=\"linear\", data=df)\nplt.show()","671c7688":"plt.figure(figsize=(16,5))\nsns.barplot(df.suicide_number,df.gender)\nplt.show()","13e3e974":"plt.figure(figsize=(16,5))\nsns.barplot(df.suicide_number,df.age_group)\nplt.show()","87f0f987":"df.age_group.dropna(inplace = True)\nlabels = df.age_group.value_counts().index\ncolors = ['b','r','g','orange','pink','y']\nexplode = [0,0,0,0,0,0]\nsizes = df.age_group.value_counts().values\n\n# visual \nplt.figure(0,figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Suicide According to Age Group',color = 'blue',fontsize = 15)\nplt.show()","5ed3265e":"plt.figure(figsize=(16,5))\nsns.barplot(df.suicide_number,df.generation)\nplt.show()","a1120e51":"df.generation.dropna(inplace = True)\nlabels = df.generation.value_counts().index\ncolors = ['b','r','g','orange','pink','y']\nexplode = [0,0,0,0,0,0]\nsizes = df.generation.value_counts().values\n\n# visual \nplt.figure(0,figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Suicide According to Generation',color = 'blue',fontsize = 15)\nplt.show()","56dd03f0":"f,ax1 = plt.subplots(figsize =(20,10))\nsns.pointplot(x='year',y='suicide_number',data=df,color='lime',alpha=0.8)\nplt.xlabel('year',fontsize = 15,color='blue')\nplt.ylabel('values',fontsize = 15,color='blue')\nplt.title('year - suicide number',fontsize = 20,color='blue')\nplt.grid()","44c48d72":"f,ax1 = plt.subplots(figsize =(20,10))\nsns.pointplot(x=df.hdi[:50],y=df.suicide_number[:50],data=df,color='lime',alpha=0.8)\nplt.xlabel('hdi',fontsize = 15,color='blue')\nplt.ylabel('values',fontsize = 15,color='blue')\nplt.title('hdi - suicide number',fontsize = 20,color='blue')\nplt.xticks(rotation=90)\nplt.grid()","07169a55":"x1985 = df.country[df.year == 1985]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x1985))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","35e0d4a9":"x1995 = df.country[df.year == 1995]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x1995))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","766a253c":"x2005 = df.country[df.year == 2005]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x2005))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","75b8af15":"x2015 = df.country[df.year == 2015]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x2015))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","7b93f6a0":"df.columns","8d253816":"df.corr()","9feb284f":"#create a new data frame\ndata=pd.DataFrame(df.iloc[:,4:6])\n\ndata.head(3)","c57d60e5":"plt.figure(figsize=(20,5))\nplt.scatter(data.population*0.1,data.suicide_number)\nplt.xlabel(\"Population\")\nplt.ylabel(\"Suicide Number\")\nplt.show()","285b2540":"from sklearn.linear_model import LinearRegression\n\nlinear_reg=LinearRegression()\n\nx=data.population.values.reshape(-1,1)\ny=data.suicide_number.values.reshape(-1,1)\n\nlinear_reg.fit(x,y)\n\nb0 =linear_reg.intercept_\nb1=linear_reg.coef_\nprint(\"b0:\",b0)\nprint(\"b1:\",b1)\nprint(\"Prediction 5M:\",linear_reg.predict([[5000000]]))\nprint(\"Prediction 10M:\",linear_reg.predict([[10000000]]))\nprint(\"Prediction 15M:\",linear_reg.predict([[15000000]]))\n","68e93ed6":"df.population.min()","ec9b7f54":"df.population.max()","f7caf4d3":"array=np.array([278,5000000,10000000,15000000,20000000,45000000,80000000]).reshape(-1,1)\ny_head=linear_reg.predict(array)\nprint(\"y_head:\",y_head)","ced560de":"plt.figure(figsize=(20,5))\nplt.scatter(x,y)\nplt.plot(array,y_head,color='r')\nplt.show()","58d0b4a5":"<h1>Linear Regression<\/h1>","1fb9eeab":"<h1>**Prediction**<\/h1>","7113ee27":"to be continued..."}}