{"cell_type":{"8edbb9d4":"code","1829e405":"code","3d0daa50":"code","a42740d2":"code","c04c2b1f":"code","ab2de349":"code","f30d6431":"code","0986156e":"code","b52f2b1b":"code","e5d61eda":"code","bb03cd80":"code","70f5b242":"code","c686ad51":"code","0da438af":"code","c7f902bf":"code","e7e430a6":"code","515b02d3":"code","1f2d9608":"code","0ad761f2":"code","ed14dac5":"code","ef243fa1":"code","12f4e30d":"markdown","c8195419":"markdown","43af1fbf":"markdown","a0a1a147":"markdown","78199077":"markdown","4ef7fd3a":"markdown","4a694c87":"markdown","08997d52":"markdown","02171d22":"markdown","752726a5":"markdown","8e890a35":"markdown","90571412":"markdown","28108ddc":"markdown","34971979":"markdown"},"source":{"8edbb9d4":"import pandas as pd\nimport numpy as np\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nprint(\"Setup Complete\")","1829e405":"df = pd.read_csv('..\/input\/fifa19\/data.csv', index_col='ID')\ndf.head()","3d0daa50":"brazilian_players = df.loc[df['Nationality']=='Brazil']\nbrazilian_players.head(10)","a42740d2":"sns.kdeplot(data=brazilian_players['Age'],shade=True)\nplt.title('Distribui\u00e7\u00e3o das idades dos jogadores brasileiros')\nplt.show()","c04c2b1f":"plt.figure(figsize=(12,6))\nplt.subplot(1,2,1)\nplt.title('Comportamento do potencial em fun\u00e7\u00e3o da idade')\nsns.regplot(x=brazilian_players['Age'],y=brazilian_players['Potential'])\nplt.subplot(1,2,2)\nplt.title('Comportamento do overall em fun\u00e7\u00e3o da idade')\nsns.regplot(x=brazilian_players['Age'],y=brazilian_players['Overall'])\n\nplt.show()","ab2de349":"mask = brazilian_players['Age'] < 22\nunder22 = brazilian_players.loc[mask]","f30d6431":"plt.figure(figsize=(10,6))\nplt.title('Distribui\u00e7\u00e3o das idades dos jogadores brasileiros com idade ol\u00edmpica em 2021')\nsns.kdeplot(data=under22['Age'],shade=True)\nplt.show()","0986156e":"plt.figure(figsize=(10,6))\nplt.title('Distribui\u00e7\u00e3o do potencial e overall dos jogadores brasileiros com idade ol\u00edmpica em 2021')\nsns.kdeplot(data=under22['Potential'], label='Potential', shade=True)\nsns.kdeplot(data=under22['Overall'], label='Overall', shade=True)\nplt.show()","b52f2b1b":"def area(df):\n    ans = []\n    gk = ['GK']\n    dff = ['RB','RCB','LB','LCB','CB']\n    mid = ['CDM','CM','CAM','LM','RM','RCM','LCM']\n    atk = ['CF','ST','RS','LS','RW','LW']\n    for index, row in df.iterrows():\n        if gk.count(row['Position']) > 0:\n            ans.append('GK')\n        elif dff.count(row['Position']) > 0:\n            ans.append('DFF')\n        elif mid.count(row['Position']) > 0:\n            ans.append('MID')\n        elif atk.count(row['Position']) > 0:\n            ans.append('ATK')\n        else:\n            ans.append('None')\n            \n    return ans\n    ","e5d61eda":"under22['Area'] = area(under22)","bb03cd80":"under22p = under22.sort_values(['Potential'], ascending=False)\nlist_gk_p = under22p.loc[under22p['Area']=='GK']\nlist_dff_p = under22p.loc[under22p['Area']=='DFF']\nlist_mid_p = under22p.loc[under22p['Area']=='MID']\nlist_atk_p = under22p.loc[under22p['Area']=='ATK']","70f5b242":"under22o = under22.sort_values(['Overall'], ascending=False)\nlist_gk_o = under22o.loc[under22p['Area']=='GK']\nlist_dff_o = under22o.loc[under22p['Area']=='DFF']\nlist_mid_o = under22o.loc[under22p['Area']=='MID']\nlist_atk_o = under22o.loc[under22p['Area']=='ATK']","c686ad51":"#Desenho do campo de futebol\n#fonte: http:\/\/petermckeever.com\/2019\/01\/plotting-pitches-in-python\/\n\ndef draw_pitch(pitch, line, orientation,view):\n    fig,ax = plt.subplots(figsize=(20.8,13.6))\n    plt.xlim(-1,105)\n    plt.ylim(-1,69)\n    ax.axis('off') # this hides the x and y ticks\n    \n    # side and goal lines #\n    ly1 = [0,0,68,68,0]\n    lx1 = [0,104,104,0,0]\n\n    plt.plot(lx1,ly1,color=line,zorder=5)\n\n    # boxes, 6 yard box and goals\n\n    #outer boxes#\n    ly2 = [13.84,13.84,54.16,54.16] \n    lx2 = [104,87.5,87.5,104]\n    plt.plot(lx2,ly2,color=line,zorder=5)\n\n    ly3 = [13.84,13.84,54.16,54.16] \n    lx3 = [0,16.5,16.5,0]\n    plt.plot(lx3,ly3,color=line,zorder=5)\n\n            #goals#\n    ly4 = [30.34,30.34,37.66,37.66]\n    lx4 = [104,104.2,104.2,104]\n    plt.plot(lx4,ly4,color=line,zorder=5)\n\n    ly5 = [30.34,30.34,37.66,37.66]\n    lx5 = [0,-0.2,-0.2,0]\n    plt.plot(lx5,ly5,color=line,zorder=5)\n\n\n           #6 yard boxes#\n    ly6 = [24.84,24.84,43.16,43.16]\n    lx6 = [104,99.5,99.5,104]\n    plt.plot(lx6,ly6,color=line,zorder=5)\n\n    ly7 = [24.84,24.84,43.16,43.16]\n    lx7 = [0,4.5,4.5,0]\n    plt.plot(lx7,ly7,color=line,zorder=5)\n\n        #Halfway line, penalty spots, and kickoff spot\n    ly8 = [0,68] \n    lx8 = [52,52]\n    plt.plot(lx8,ly8,color=line,zorder=5)\n\n\n    plt.scatter(93,34,color=line,zorder=5)\n    plt.scatter(11,34,color=line,zorder=5)\n    plt.scatter(52,34,color=line,zorder=5)\n\n    circle1 = plt.Circle((93.5,34), 9.15,ls='solid',lw=1.5,color=line, fill=False, zorder=1,alpha=1)\n    circle2 = plt.Circle((10.5,34), 9.15,ls='solid',lw=1.5,color=line, fill=False, zorder=1,alpha=1)\n    circle3 = plt.Circle((52, 34), 9.15,ls='solid',lw=1.5,color=line, fill=False, zorder=2,alpha=1)\n\n        ## Rectangles in boxes\n    rec1 = plt.Rectangle((87.5,20), 16,30,ls='-',color=pitch, zorder=1,alpha=1)\n    rec2 = plt.Rectangle((0, 20), 16.5,30,ls='-',color=pitch, zorder=1,alpha=1)\n\n        ## Pitch rectangle\n    rec3 = plt.Rectangle((-1, -1), 106,70,ls='-',color=pitch, zorder=1,alpha=1)\n\n    ax.add_artist(rec3)\n    ax.add_artist(circle1)\n    ax.add_artist(circle2)\n    ax.add_artist(rec1)\n    ax.add_artist(rec2)\n    ax.add_artist(circle3)\n        \n    ","0da438af":"def sel_best(n,lst,p):\n    ans = []\n    for index,row in lst.iterrows():\n        if (p=='p'):\n            ans.append(row['Name'] + '(' + str(row['Potential']) + ')')\n        else:\n            ans.append(row['Name'] + '(' + str(row['Overall']) + ')')\n            \n        n = n-1\n        if (n==0):    \n            return ans","c7f902bf":"#Selecionando os melhores por potencial\nbest_gk_p = sel_best(2,list_gk_p,'p')\nbest_dff_p = sel_best(6,list_dff_p,'p')\nbest_mid_p = sel_best(5,list_mid_p,'p')\nbest_atk_p = sel_best(5,list_atk_p,'p')\n\n#Selecionando os melhores por overall\nbest_gk_o = sel_best(2,list_gk_o,'o')\nbest_dff_o = sel_best(6,list_dff_o,'o')\nbest_mid_o = sel_best(5,list_mid_o,'o')\nbest_atk_o = sel_best(5,list_atk_o,'o')","e7e430a6":"def add_jogadores(lst,x,y):\n    for i, type in enumerate(lst):\n        x_c = x[i]\n        y_c = y[i]\n        plt.scatter(x_c, y_c, marker='o', color='red', edgecolors=\"black\", zorder=10)\n        plt.text(x_c, y_c+1, type, fontsize=16, fontweight='bold')","515b02d3":"x_gk = [5,5]\ny_gk = [26,42]\n\nx_dff = [30,30,30,30,30,30]\ny_dff = [4,16,28,40,52,64]\n\nx_mid = [55,55,55,55,55]\ny_mid = [4,16,34,52,64]\n\nx_atk = [80,80,80,80,80]\ny_atk = [4,16,34,52,64]","1f2d9608":"draw_pitch(\"#195905\",\"#faf0e6\",\"v\",\"full\")\nplt.title('Sele\u00e7\u00e3o Ol\u00edmpica brasileira por potencial no Fifa19', fontsize=40)\nadd_jogadores(best_gk_p,x_gk,y_gk)\nadd_jogadores(best_dff_p,x_dff,y_dff)\nadd_jogadores(best_mid_p,x_mid,y_mid)\nadd_jogadores(best_atk_p,x_atk,y_atk)","0ad761f2":"ind = np.arange(4)\n\npotential_means_1 = (list_gk_p[0:2]['Potential'].mean(),\n                  list_dff_p[0:6]['Potential'].mean(),\n                  list_mid_p[0:5]['Potential'].mean(),\n                  list_atk_p[0:5]['Potential'].mean())\n\noverall_means_1 = (list_gk_p[0:2]['Overall'].mean(),\n                  list_dff_p[0:6]['Overall'].mean(),\n                  list_mid_p[0:5]['Overall'].mean(),\n                  list_atk_p[0:5]['Overall'].mean())\n\npotential_std_1 = (list_gk_p[0:2]['Potential'].std(),\n                  list_dff_p[0:6]['Potential'].std(),\n                  list_mid_p[0:5]['Potential'].std(),\n                  list_atk_p[0:5]['Potential'].std())\n\noverall_std_1 = (list_gk_p[0:2]['Overall'].std(),\n                  list_dff_p[0:6]['Overall'].std(),\n                  list_mid_p[0:5]['Overall'].std(),\n                  list_atk_p[0:5]['Overall'].std())\n\nplt.bar(ind,potential_means_1,yerr=potential_std_1,label='Potenciall')\nplt.bar(ind,overall_means_1,yerr=overall_std_1,label='Overall')\nplt.xticks(ind, ('GK','DFF','MID','ATK'))\nplt.legend()\nplt.show()","ed14dac5":"draw_pitch(\"#195905\",\"#faf0e6\",\"v\",\"full\")\nplt.title('Sele\u00e7\u00e3o Ol\u00edmpica brasileira por overall no Fifa19', fontsize=40)\nadd_jogadores(best_gk_o,x_gk,y_gk)\nadd_jogadores(best_dff_o,x_dff,y_dff)\nadd_jogadores(best_mid_o,x_mid,y_mid)\nadd_jogadores(best_atk_o,x_atk,y_atk)","ef243fa1":"ind = np.arange(4)\n\npotential_means_2 = (list_gk_o[0:2]['Potential'].mean(),\n                  list_dff_o[0:6]['Potential'].mean(),\n                  list_mid_o[0:5]['Potential'].mean(),\n                  list_atk_o[0:5]['Potential'].mean())\n\noverall_means_2 = (list_gk_o[0:2]['Overall'].mean(),\n                  list_dff_o[0:6]['Overall'].mean(),\n                  list_mid_o[0:5]['Overall'].mean(),\n                  list_atk_o[0:5]['Overall'].mean())\n\npotential_std_2 = (list_gk_o[0:2]['Potential'].std(),\n                  list_dff_o[0:6]['Potential'].std(),\n                  list_mid_o[0:5]['Potential'].std(),\n                  list_atk_o[0:5]['Potential'].std())\n\noverall_std_2 = (list_gk_o[0:2]['Overall'].std(),\n                  list_dff_o[0:6]['Overall'].std(),\n                  list_mid_o[0:5]['Overall'].std(),\n                  list_atk_o[0:5]['Overall'].std())\n\nplt.bar(ind,potential_means_2,yerr=potential_std_2,label='Potenciall')\nplt.bar(ind,overall_means_2,yerr=overall_std_2,label='Overall')\nplt.xticks(ind, ('GK','DFF','MID','ATK'))\nplt.legend()\nplt.show()","12f4e30d":"Para uma poss\u00edvel escala\u00e7\u00e3o da sele\u00e7\u00e3o brasileira, vamos selecionar os melhores jogadores de cada \u00e1rea baseado no potencial e overral. Para isso, iremos classificar as posi\u00e7\u00f5es dos jogadores em 'GK', 'DFF', 'MID' e 'ATK'. ","c8195419":"Considerando que a convoca\u00e7\u00e3o inclui 18 jogadores, iremos selecionar 2 GK, 6 DFF, 5 MID e 5 ATK.","43af1fbf":"Vamos observar o comportamento da idade dos jogadores brasileiros.","a0a1a147":"# Jogadores brasileiros\nAgora, vamos selecionar apenas os jogadores com nacionalidade brasileira.","78199077":"Essas seriam duas poss\u00edveis sele\u00e7\u00f5es brasileiras de acordo com o potencial e o overall no Fifa 19. O Brasil teria chance de ser campe\u00e3o ol\u00edmpico? Quais modifica\u00e7\u00f5es voc\u00ea faria? ","4ef7fd3a":"Como seria a escala\u00e7\u00e3o ol\u00edmpica da sele\u00e7\u00e3o brasileira se fossem levados em conta o potencial e overall dos jogadores no jogo Fifa 19? ","4a694c87":"Agora, vamos observar o comportamento do Potencial e Overal dos jogadores com idade ol\u00edmpica em 2021.","08997d52":"Podemos observar que o potencial e a idade possuem uma correla\u00e7\u00e3o negativa, ou seja, quanto mais velho for um jogador menor o potencial. Por outro lado, o overall e a idade possuem uma correla\u00e7\u00e3o positiva, o que significa que quanto mais velho o jogador maior ser\u00e1 o overall. Sendo assim, ser\u00e1 sugerida uma sele\u00e7\u00e3o com base no potencial do Fifa 19 e outra com base no overall, visto que em 2021 os jogadores ser\u00e3o mais velhos do que em 2019. ","02171d22":"Podemos observar para esses jogadores que os valores de potencial (no geral) s\u00e3o maiores que os valores de overall.","752726a5":"# Jogadores com idade ol\u00edmpica em 2021\nConsiderando que os jogos ol\u00edmpicos foram adiados por conta da pandemia, os jogadores com idade ol\u00edmpica em 2021 tinham 22 anos at\u00e9 o ano de 2019. Portanto, iremos selecionar os jogadores com idade igual ou inferior a 22 anos.","8e890a35":"A seguir vemos a compara\u00e7\u00e3o da m\u00e9dia do potencial e overall da sele\u00e7\u00e3o selecionada pelos melhores overalls.","90571412":"Para isso, vamos come\u00e7ar lendo os dados do dataset.","28108ddc":"# Escala\u00e7\u00e3o Ol\u00edmpica brasileira 2021","34971979":"A seguir vemos a compara\u00e7\u00e3o da m\u00e9dia do potencial e overall da sele\u00e7\u00e3o selecionada pelos melhores potenciais."}}