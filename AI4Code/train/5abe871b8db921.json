{"cell_type":{"2f0a8106":"code","55b7ffa4":"code","a2997240":"code","8f4a5ec3":"code","d81fe2eb":"code","5f123471":"code","5d5cbd8c":"code","8e14ea05":"code","0ecd9051":"code","730577e9":"code","47b10107":"code","b2658989":"code","e84b3fe3":"code","539ac68b":"code","9bfe5472":"code","97c7656d":"code","f1a9dd85":"code","ef6d00c7":"code","b9f6c93b":"code","f929ca6c":"code","7f9478d5":"code","12eac9b1":"code","fd1e20b6":"code","2fa4f6a6":"code","ee2d2647":"code","cab0ecf3":"code","0bc5d18e":"code","a111c0a5":"markdown","f64d5493":"markdown","b5d7862b":"markdown","bc023c0a":"markdown","b3dc62d7":"markdown","05ad803c":"markdown","1bd93208":"markdown","8d167634":"markdown","33f071e8":"markdown","8c2858ac":"markdown","c0d21649":"markdown","728f5f3b":"markdown","1a8a5043":"markdown","28a8f962":"markdown"},"source":{"2f0a8106":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","55b7ffa4":"df=pd.read_csv(\"..\/input\/insurance\/insurance3r2.csv\")\ndf.head(10)","a2997240":"df.shape","8f4a5ec3":"df.describe()","d81fe2eb":"df.isnull().sum()","5f123471":"L=['sex','region','children','smoker']\nfor i in L:\n    print(\"{} has {} unique values\".format(i,df[i].unique()))","5d5cbd8c":"sns.distplot(df[\"bmi\"])","8e14ea05":"sns.distplot(df[\"age\"])","0ecd9051":"sns.distplot(df[\"charges\"])","730577e9":"sns.distplot(df['steps'])","47b10107":"sns.countplot(x='insuranceclaim',data=df)","b2658989":"corr=df.corr()\nsns.heatmap(corr,annot=True,cmap='Blues')","e84b3fe3":"sns.boxplot(y=df['bmi'])","539ac68b":"sns.boxplot(y=df['age'])","9bfe5472":"sns.boxplot(y=df['charges'])","97c7656d":"lower_limit=df['bmi'].mean()- 3* df['bmi'].std()\nupper_limit=df['bmi'].mean()+ 3* df['bmi'].std()","f1a9dd85":"print(upper_limit), print(lower_limit)","ef6d00c7":"df.loc[df['bmi']>=48,'bmi']=48","b9f6c93b":"sns.boxplot(y=df['bmi'])","f929ca6c":"IQR=df.charges.quantile(0.75)-df.charges.quantile(0.25)\nIQR","7f9478d5":"df['charges'].describe()","12eac9b1":"lower_limit=df['charges'].quantile(0.25)-(IQR*3)\nupper_limit=df['charges'].quantile(0.75)+(IQR*3)\nprint(lower_limit), print(upper_limit)","fd1e20b6":"df.loc[df['charges']>=52338,'charges']=52338","2fa4f6a6":"sns.distplot(df['charges'])","ee2d2647":"from sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import accuracy_score,roc_auc_score\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import classification_report","cab0ecf3":"X_train,x_test,Y_train,y_test=train_test_split(df.iloc[:, :8],df.iloc[:,-1],test_size=0.3)","0bc5d18e":"classifier=LogisticRegression()\nclassifier.fit(X_train,Y_train)\ny_pred=classifier.predict(x_test)\ny_pred1=classifier.predict_proba(x_test)\n\naccuracy = accuracy_score(y_test,y_pred)\nclassreport = classification_report(y_test,y_pred)\nconfusnMatrix = confusion_matrix(y_test,y_pred)\nprint('The accuracy: {}'.format(accuracy))\nprint('The Classification Report:\\n {}'.format(classreport))\nprint('The Confusion Matrix:\\n {}'.format(confusnMatrix))","a111c0a5":"###### Checking for missing values","f64d5493":"## We can try with decison tree and random forest as well as they have no much impact due to outliers","b5d7862b":"# EDA","bc023c0a":"#### Since, charges is right skewed so we will do some normalization technique to make it a gaussian distribution","b3dc62d7":"### checking number of unique values, there is any cardinality in categorical features","05ad803c":"##### Since cardinality is fine so checking with data distribution of continous variables","1bd93208":"### Checkling if dataset is imbalanced","8d167634":"#### Checking for Outliers","33f071e8":"## Feature Engineering","8c2858ac":"#### Since, age is not normally distributed, so we will do some transformation to make it a gaussian distribution","c0d21649":"#### Bmi was having a gaussian distribution and was having outliers in order to handle that we replaced the values after the 3rd standard mean with the upper limit as calculated in order to overcome the impcat of outliers","728f5f3b":"# Model Built","1a8a5043":"#### 'Charges' was having a skewed00000 distribution and was having outliers in order to handle that we replaced the values after 523338 with the upper limit as calculated in order to overcome the impact of outliers.","28a8f962":"#### Checking for any correlation"}}