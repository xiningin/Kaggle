{"cell_type":{"6dd407fa":"code","20813828":"code","3bd548c2":"code","ec953b05":"code","c5f8d9c1":"code","21928c25":"code","47d2c6dd":"code","e17eb415":"code","763e3eeb":"code","21deb0a2":"code","55e2c0f9":"code","3134cf16":"code","60ad7ec6":"code","69991dd0":"code","efd40088":"code","a2f31de5":"code","baf5033d":"code","a76ba429":"code","b0cec50c":"code","5b92e32c":"code","a204465d":"code","e26220ff":"code","18e6f2a1":"code","e9e2c3f6":"code","a19c16f7":"code","4791d8d3":"code","9fb56916":"code","4ffc45bf":"code","81e200c4":"code","12c24c11":"code","c1920e30":"code","e6b9fe34":"code","8649c6bb":"code","45671786":"code","6a3910bd":"code","74ea6837":"code","98f9790a":"code","74a0420f":"code","3217b3ae":"code","1172e8e7":"code","97e3a40b":"code","cea63ad1":"code","643b6741":"code","99fafbd8":"code","b2e10d15":"code","d98bc6a3":"code","b59fb36e":"code","44a547bb":"code","a7d39019":"code","a8dedc8b":"markdown","a72bc40e":"markdown","21a84b04":"markdown","72a450a7":"markdown","3ffa9ed0":"markdown","5870c784":"markdown","69918678":"markdown","62436ec4":"markdown","b8356152":"markdown","55e88ad1":"markdown","1746192b":"markdown","d0d33ffc":"markdown","63d0aff6":"markdown","cb8cd603":"markdown","5a786ed8":"markdown","09ac2b3c":"markdown","10504538":"markdown","d49f6799":"markdown","5283ef59":"markdown","bab2b771":"markdown","2dc4168a":"markdown","aa2ad572":"markdown","1e09512c":"markdown","7b323687":"markdown","9e2869aa":"markdown"},"source":{"6dd407fa":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","20813828":"import seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","3bd548c2":"df = pd.read_csv('..\/input\/passenger-list-for-the-estonia-ferry-disaster\/estonia-passenger-list.csv')","ec953b05":"df.head()","c5f8d9c1":"df.describe()","21928c25":"plt.figure(figsize=(10,6))\nsns.heatmap(df.isnull(),yticklabels=False,cbar=False,cmap='viridis')","47d2c6dd":"df.isnull().sum()","e17eb415":"df['Sex'].replace('M',1,inplace=True)\ndf['Sex'].replace('F',0,inplace=True)\ndf['Category'].replace('P',1,inplace=True)\ndf['Category'].replace('C',0,inplace=True)","763e3eeb":"df.corr()","21deb0a2":"plt.figure(figsize=(10,6))\nsns.heatmap(df.corr(),annot=True)","55e2c0f9":"plt.figure(figsize=(10,6))\nsns.barplot(x='Survived',y='Age',data=df)","3134cf16":"plt.figure(figsize=(10,6))\nsns.barplot(x='Category',y='Age',data=df,hue='Survived')","60ad7ec6":"df['Country'].unique()","69991dd0":"plt.figure(figsize=(10,6))\nsns.boxplot(x='Survived',y='Age',data=df,hue='Sex')","efd40088":"df[(df['Survived']==0)&(df['Category']==1)]['Country'].value_counts().head(5)","a2f31de5":"df[(df['Survived']==0)&(df['Category']==1)&(df['Age']>=18)]['Country'].value_counts().head(5)","baf5033d":"df[(df['Survived']==0)&(df['Category']==1)&(df['Age']<18)]['Country'].value_counts().head(5)","a76ba429":"df[(df['Survived']==1)&(df['Category']==1)]['Country'].value_counts().head(5)","b0cec50c":"df[(df['Survived']==1)&(df['Category']==1)&(df['Age']>=18)]['Country'].value_counts().head(5)","5b92e32c":"df[(df['Survived']==1)&(df['Category']==1)&(df['Age']<18)]['Country'].value_counts().head(5)","a204465d":"df[(df['Category']==0)&(df['Survived']==0)]['Country'].value_counts()","e26220ff":"from sklearn.model_selection import train_test_split","18e6f2a1":"X = df[['Sex','Age','Category']]\ny = df['Survived']","e9e2c3f6":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=101)","a19c16f7":"from sklearn.tree import DecisionTreeClassifier","4791d8d3":"dtree = DecisionTreeClassifier()","9fb56916":"dtree.fit(X_train,y_train)","4ffc45bf":"predictions_dtree = dtree.predict(X_test)","81e200c4":"from sklearn.metrics import classification_report, confusion_matrix,accuracy_score","12c24c11":"print(confusion_matrix(y_test,predictions_dtree))\nprint(classification_report(y_test,predictions_dtree))\nprint('\\n')\nprint('Acur\u00e1cia:',np.round(accuracy_score(y_test,predictions_dtree),3)*100,'%')","c1920e30":"from sklearn.ensemble import RandomForestClassifier","e6b9fe34":"rfc = RandomForestClassifier(n_estimators=200)","8649c6bb":"rfc.fit(X_train,y_train)","45671786":"rfc_predict = rfc.predict(X_test)","6a3910bd":"print(confusion_matrix(y_test,rfc_predict))\nprint(classification_report(y_test,rfc_predict))\nprint('\\n')\nprint('Acur\u00e1cia:',np.round(accuracy_score(y_test,rfc_predict),3)*100,'%')","74ea6837":"from sklearn.linear_model import LogisticRegression","98f9790a":"logmodel = LogisticRegression()","74a0420f":"logmodel.fit(X_train,y_train)","3217b3ae":"predict_LR = logmodel.predict(X_test)","1172e8e7":"from sklearn.metrics import classification_report,confusion_matrix,accuracy_score","97e3a40b":"print(classification_report(y_test,predict_LR))\nprint(confusion_matrix(y_test,predict_LR))\nprint('\\n')\nprint('Acur\u00e1cia:',np.round(accuracy_score(y_test,predict_LR),3)*100,'%')","cea63ad1":"from sklearn.svm import SVC","643b6741":"model = SVC()","99fafbd8":"model.fit(X_train,y_train)","b2e10d15":"predict_svc = model.predict(X_test)","d98bc6a3":"from sklearn.metrics import accuracy_score,confusion_matrix,classification_report","b59fb36e":"print(classification_report(y_test,predict_svc))\nprint(confusion_matrix(y_test,predict_svc))\nprint('\\n')\nprint('Acur\u00e1cia:',np.round(accuracy_score(y_test,predict_svc),3)*100,'%')","44a547bb":"accuracy_dtree = np.round(accuracy_score(y_test,predictions_dtree),4)*100\naccuracy_rfc = np.round(accuracy_score(y_test,rfc_predict),4)*100\naccuracy_LR = np.round(accuracy_score(y_test,predict_LR),4)*100\naccuracy_svc = np.round(accuracy_score(y_test,predict_svc),4)*100\n","a7d39019":"print('Accuracy_Decision_tree: ',accuracy_dtree,'%')\nprint('Accuracy_Random_Forest: ', accuracy_rfc,'%')\nprint('Accuracy_LR: ', accuracy_LR,'%')\nprint('Accuracy_SVC: ', accuracy_svc,'%')","a8dedc8b":"![Estonia-ferry-1280x720.jpg](attachment:Estonia-ferry-1280x720.jpg)","a72bc40e":"# **Lets check if there is some null data**","21a84b04":"# How many people survived according to nationality?","72a450a7":"**MS Estonia Disaster:**\n\nThe MS Estonia sinking occurred in the year 1994 in the month of September as the vessel was passing through the Baltic Sea from the Estonian province of Tallinn to her intended destination of Stockholm. At the time of the MS Estonia disaster nearly 1,000 people were aboard it, both voyagers and crewing personnel included and only a minuscule proportion of people were managed to be successfully saved from the wreckage of the unfortunate vessel.\n\nThe timing of the voyage was such that turbulent climatic conditions plagued the transiting through the Baltic Sea. Heavy gales lashed the vessel, making steerage difficult whilst trying to maintain the speed of the vessel. Thus though a common thread about the actual causation of the disaster remains that the weather played a major role in destabilising the ship, sources vary in their account of how the vessel started to heel in the Baltic Sea.","3ffa9ed0":"# * Unfortunatly the most of people that dead was about 0 and 40 years old (mean), and the few ones who survived was between 0 and 30 years old.","5870c784":"# **A brief story**","69918678":"# How many people were adults?","62436ec4":"# Let's check it if realy theres no null data:","b8356152":"# That's the answer. The Age of survivors beetween passengers and crew is almost the same with the exception of  survivors passengers.","55e88ad1":"# * Holly sh ...., this is almost the same score as Decision Tree. I think paradise could be a good place, after all I am already 40 years old.\n\n\n# * Let's test one more predictor","1746192b":"* I know that Proofling is an excellent tool but I prefer to dissect the data manually.","d0d33ffc":"# As you guys can see above, I replaced the 'Sex' and 'Category' in a binary numbers.Now, lets check the correlated sets.","63d0aff6":"# How many children survived?","cb8cd603":"# Hummm, the best correlated are Age and Category. Let's keep digging...","5a786ed8":"# * Well, it's quite certain we're all goin' to die. But don't worry, maybe the Random Forrest could save us.","09ac2b3c":"# None, cool, lets go on.","10504538":"# * There's a great variety of people from many countries","d49f6799":"# Our predictions worked very similarly and as we could see earlier and below, the number of people who survived were very few.\n# The accuracy score worked differently for all predictors, being better ranked in SVC. Unfortunately, I think we will not survive unless we are of a nationality other than Scottish or Lithuanian.\n# That's it for today guys. Don't forget to vote positive if you liked it, if you didn't like it please comment. Thank you!","5283ef59":"# How many passengers died according to nationality?\n\n# A top five countries","bab2b771":"# **Importing the libraries**","2dc4168a":"# Well, let's check out our chances of survival. Cross your fingers.","aa2ad572":"# How many crew members perish?","1e09512c":"# How many were children?","7b323687":"# * Above we can see more clearly than the average of deaths, both male and female is over 40 years old. The survivors, on the other hand, are under 40 years old.\n","9e2869aa":"# Of these, how many were adults?"}}