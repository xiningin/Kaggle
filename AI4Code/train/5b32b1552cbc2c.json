{"cell_type":{"e00277e1":"code","18b83a31":"code","4bab73c0":"code","2dae1b70":"code","41d89caa":"code","eb40ad60":"code","0c0885ba":"code","904bca0b":"code","1c2cfc1d":"code","3f0f447b":"code","2585c576":"code","9f7cd138":"code","ab1d0ac8":"code","1e8dfae5":"code","086322ec":"markdown"},"source":{"e00277e1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom matplotlib import pyplot\nimport seaborn as sns\n\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","18b83a31":"train = pd.read_csv('..\/input\/train.csv')\ntest = pd.read_csv('..\/input\/test.csv')","4bab73c0":"train.head()","2dae1b70":"test.head()","41d89caa":"print(train.shape)\nprint(test.shape)","eb40ad60":"train['comment_text'].value_counts().head()","0c0885ba":"train[train['target'] >= 0.5]['comment_text'].value_counts().head()","904bca0b":"train_size = train.shape[0]\nprint(f'Above zero rate: {(train[\"target\"] > 0).sum() \/ train_size:.2%}')\nprint(f'Toxic rate: {(train[\"target\"] >= 0.5).sum() \/ train_size:.2%}')\nprint(f'100% Toxic rate: {(train[\"target\"] == 1.0).sum() \/ train_size:.2%}')","1c2cfc1d":"num_bins = 20\na4_dims = (11.7, 8.27)\nfig, ax = pyplot.subplots(figsize=a4_dims)\nax.set_xticks(np.linspace(0,1,num_bins+1))\n\nsns.distplot(train['target'], kde=False, ax=ax, bins=num_bins)","3f0f447b":"train['toxic'] = train['target'] >= 0.5","2585c576":"train['date'] = pd.to_datetime(train['created_date']).dt.date","9f7cd138":"plot_data = train.groupby('date')['toxic'].agg(['mean', 'count'])\nplot_data = plot_data \/ plot_data.sum()","ab1d0ac8":"plot_data.columns","1e8dfae5":"a4_dims = (11.7, 8.27)\nfig, ax = pyplot.subplots(figsize=a4_dims)\nsns.lineplot(data=plot_data, ax=ax)","086322ec":"**Summary 1:**\n\nTrain set: ~1.8M rows  \nTest set: ~100k rows  \n\n* ~30% have target > 0\n* ~8% are toxic (>= 0.5)\n* ~0.24% are super-toxic (== 1.0)"}}