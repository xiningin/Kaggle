{"cell_type":{"a0a44657":"code","09ccf662":"code","363e02f1":"code","e3609854":"code","803dabff":"code","dc862ffe":"code","8f1f595f":"code","fda2832f":"code","ca3d5bdd":"code","dda14176":"code","a321afeb":"code","03e5fb24":"code","c8453da7":"code","f9046d37":"code","242cb02d":"code","a8156d14":"code","9f2988f1":"code","684c3421":"code","06c99170":"code","13a6de91":"code","014ef910":"code","99b90808":"code","17e1d4d1":"code","db181531":"code","237b2c3e":"markdown","5307b44b":"markdown","0cd7cab7":"markdown","3976b4e7":"markdown","9f9b3f12":"markdown","a005cb95":"markdown","08e2f498":"markdown","ed97b88f":"markdown","4a5e6f77":"markdown","de51eeda":"markdown","c541d53a":"markdown","552a1097":"markdown","b94c0e79":"markdown","4abf47fc":"markdown","ac7f5d14":"markdown","f3de4652":"markdown","133fa756":"markdown","2a530fca":"markdown","3bd8ceec":"markdown","803c1fa8":"markdown","d55d87f0":"markdown"},"source":{"a0a44657":"# Data Source: https:\/\/www.kaggle.com\/worldbank\/world-development-indicators\n# Folder: 'world-development-indicators'","09ccf662":"import pandas as pd\nimport numpy as np\nimport random\nimport matplotlib.pyplot as plt","363e02f1":"data = pd.read_csv('..\/input\/Indicators.csv')\ndata.shape","e3609854":"# How many unique country codes and indicator names are there ? \ncountries = data['CountryCode'].unique().tolist()\nindicators = data['IndicatorName'].unique().tolist()\nprint('How many unique country codes and indicator names are there?')\nprint('Contries size: %d' % len(countries))\nprint('Indicators size: %d' % len(indicators))","803dabff":"mask = data['IndicatorName'].str.contains('Health|Hospital|Physician|Population ages')\nindicatorsFilter = data[mask]['IndicatorName'].unique().tolist()\n#indicatorsFilter","dc862ffe":"indicatorsFilter = ['Health expenditure per capita (current US$)',\n                    'Hospital beds (per 1,000 people)', \n                    'Physicians (per 1,000 people)'\n                    ]","8f1f595f":"countriesFilter = ['CAN', 'FRA', 'DEU', 'IT', 'JPN', 'GBR', 'USA', \n                  'CHE', 'DNK', 'NLD', 'BEL', 'SWE', 'NOR', 'FIN']","fda2832f":"yearsFilter = [2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010]","ca3d5bdd":"print ('No data available for the following Countries-Indicator:')\nfor country in countriesFilter:\n    for indicator in indicatorsFilter:\n        df = data[(data['CountryCode'] == country) &  (data['IndicatorName'] == indicator)]\n        size = df.size\n        if size == 0:\n            print('Country %s, Indicator %s, size %d'% (country, indicator, size))","dda14176":"# Let's remove China and Italy from the countriesFilter\ncountriesFilter = ['CAN', 'FRA', 'DEU', 'JPN', 'GBR', 'USA', \n                  'CHE', 'DNK', 'NLD', 'BEL', 'SWE', 'NOR', 'FIN']","a321afeb":"# Let's reduce the dataset extracting data by CountryCode and IndicatorName corresponding to our choice\nfilterFull = (data['CountryCode'].isin(countriesFilter)) & (data['IndicatorName'].isin(indicatorsFilter)) & (data['Year'].isin(yearsFilter))\ndata = data.loc[filterFull]\nhealth_exp_df = data[data['IndicatorName'] == 'Health expenditure per capita (current US$)']\nhosp_bed_df = data[data['IndicatorName'] == 'Hospital beds (per 1,000 people)']\nphys_df = data[data['IndicatorName'] == 'Physicians (per 1,000 people)']","03e5fb24":"# Dataset size for each country and each indicator\n# We accept maximum 3 years of missing data\nprint(health_exp_df['IndicatorName'].iloc[0])\nfor country in countriesFilter:\n    df = health_exp_df[health_exp_df['CountryCode'] == country]\n    if df.shape[0] < 8:\n        print(country + ': ' + 'has more that 3 years of missing data')\n\nprint(hosp_bed_df['IndicatorName'].iloc[0])\nfor country in countriesFilter:\n    df = hosp_bed_df[hosp_bed_df['CountryCode'] == country]\n    if df.shape[0] < 8:\n        print(country + ': ' + 'has more that 3 years of missing data')\n        \nprint(phys_df['IndicatorName'].iloc[0])    \nfor country in countriesFilter:\n    df = phys_df[phys_df['CountryCode'] == country]\n    if df.shape[0] < 8:\n        print(country + ': ' + 'has more that 3 years of missing data')","c8453da7":"# dataframe with only the Year column\ndate_df = pd.DataFrame({'Year' : [2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009,2010]})","f9046d37":"hosp_bed_FRA_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'FRA'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_DEU_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'DEU'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_GBR_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'GBR'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_DNK_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'DNK'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_BEL_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'BEL'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_NOR_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'NOR'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_FIN_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'FIN'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_CAN_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'CAN'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_USA_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'USA'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nhosp_bed_JPN_merged = hosp_bed_df[hosp_bed_df['CountryCode'] == 'JPN'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')","242cb02d":"phys_FRA_merged = phys_df[phys_df['CountryCode'] == 'FRA'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nphys_DEU_merged = phys_df[phys_df['CountryCode'] == 'DEU'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nphys_DNK_merged = phys_df[phys_df['CountryCode'] == 'DNK'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nphys_NLD_merged = phys_df[phys_df['CountryCode'] == 'NLD'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nphys_SWE_merged = phys_df[phys_df['CountryCode'] == 'SWE'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nphys_FIN_merged = phys_df[phys_df['CountryCode'] == 'FIN'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')\nphys_NOR_merged = phys_df[phys_df['CountryCode'] == 'NOR'].merge(date_df, on='Year', how='outer').sort_values(by='Year', ascending=True).fillna(method='ffill')","a8156d14":"# Extract a list ov values per Country\nhealth_exp_FRA = health_exp_df[health_exp_df['CountryCode'] == 'FRA']['Value'].values\nhealth_exp_DEU = health_exp_df[health_exp_df['CountryCode'] == 'DEU']['Value'].values\nhealth_exp_GBR = health_exp_df[health_exp_df['CountryCode'] == 'GBR']['Value'].values\nhealth_exp_CHE = health_exp_df[health_exp_df['CountryCode'] == 'CHE']['Value'].values\nhealth_exp_DNK = health_exp_df[health_exp_df['CountryCode'] == 'DNK']['Value'].values\nhealth_exp_NLD = health_exp_df[health_exp_df['CountryCode'] == 'NLD']['Value'].values\nhealth_exp_BEL = health_exp_df[health_exp_df['CountryCode'] == 'BEL']['Value'].values\nhealth_exp_SWE = health_exp_df[health_exp_df['CountryCode'] == 'SWE']['Value'].values\nhealth_exp_NOR = health_exp_df[health_exp_df['CountryCode'] == 'NOR']['Value'].values\nhealth_exp_FIN = health_exp_df[health_exp_df['CountryCode'] == 'FIN']['Value'].values\nhealth_exp_CAN = health_exp_df[health_exp_df['CountryCode'] == 'CAN']['Value'].values\nhealth_exp_USA = health_exp_df[health_exp_df['CountryCode'] == 'NLD']['Value'].values\nhealth_exp_JPN = health_exp_df[health_exp_df['CountryCode'] == 'JPN']['Value'].values","9f2988f1":"# Bar Chart\nyears = np.array(yearsFilter)\nwidth = 0.05\n\nfig, ax = plt.subplots(figsize=(15, 8))\n\n# create\nplt_FRA = ax.bar(years,health_exp_FRA, width)\nplt_DEU = ax.bar(years + width,health_exp_DEU, width)\nplt_GBR = ax.bar(years + 2*width,health_exp_GBR, width)\nplt_CHE = ax.bar(years + 3*width,health_exp_CHE, width)\nplt_DNK = ax.bar(years + 4*width,health_exp_DNK, width)\nplt_NLD = ax.bar(years + 5*width,health_exp_NLD, width)\n\nplt_BEL = ax.bar(years + 6*width,health_exp_BEL, width)\nplt_SWE = ax.bar(years + 7*width,health_exp_SWE, width)\nplt_NOR = ax.bar(years + 8*width,health_exp_NOR, width)\nplt_FIN = ax.bar(years + 9*width,health_exp_FIN, width)\nplt_CAN = ax.bar(years + 10*width,health_exp_CAN, width)\nplt_USA = ax.bar(years + 11*width,health_exp_USA, width)\nplt_JPN = ax.bar(years + 12*width,health_exp_JPN, width)\n\n# Axes and Labels\nax.set_xlim(years[0]-3*width, years[len(years)-1]+10*width)\nax.set_xlabel('Year')\nax.set_xticks(years+2*width)\nxtickNames = ax.set_xticklabels(years)\nplt.setp(xtickNames, rotation=45, fontsize=10)\n\nax.set_ylabel(health_exp_df['IndicatorName'].iloc[0])\n#label the figure\nax.set_title(health_exp_df['IndicatorName'].iloc[0])\nax.legend( (plt_FRA[0], plt_DEU[0], plt_GBR[0], plt_CHE[0], plt_DNK[0], plt_NLD[0], \n          plt_BEL[0], plt_SWE[0], plt_NOR[0], plt_FIN[0], plt_CAN[0], plt_USA[0], plt_JPN[0]),\n          ('FRA', 'DEU', 'GBR', 'CHE', 'DNK', 'NLD', 'BEL', 'SWE', 'NOR', 'FIN', 'CAN', 'USA', 'JPN') )\n\nplt.show()","684c3421":"# Extract a list ov values per Country\nhosp_bed_FRA = hosp_bed_FRA_merged[hosp_bed_FRA_merged['CountryCode'] == 'FRA']['Value'].values\nhosp_bed_DEU = hosp_bed_DEU_merged[hosp_bed_DEU_merged['CountryCode'] == 'DEU']['Value'].values\nhosp_bed_GBR = hosp_bed_GBR_merged[hosp_bed_GBR_merged['CountryCode'] == 'GBR']['Value'].values\nhosp_bed_DNK = hosp_bed_DNK_merged[hosp_bed_DNK_merged['CountryCode'] == 'DNK']['Value'].values\nhosp_bed_BEL = hosp_bed_BEL_merged[hosp_bed_BEL_merged['CountryCode'] == 'BEL']['Value'].values\nhosp_bed_NOR = hosp_bed_NOR_merged[hosp_bed_NOR_merged['CountryCode'] == 'NOR']['Value'].values\nhosp_bed_FIN = hosp_bed_FIN_merged[hosp_bed_FIN_merged['CountryCode'] == 'FIN']['Value'].values\nhosp_bed_CAN = hosp_bed_CAN_merged[hosp_bed_CAN_merged['CountryCode'] == 'CAN']['Value'].values\nhosp_bed_USA = hosp_bed_USA_merged[hosp_bed_USA_merged['CountryCode'] == 'USA']['Value'].values\nhosp_bed_JPN = hosp_bed_JPN_merged[hosp_bed_JPN_merged['CountryCode'] == 'JPN']['Value'].values","06c99170":"years = np.array(yearsFilter)\nwidth = 0.05\n\nfig, ax = plt.subplots(figsize=(12, 8))\n\n# create\nplt_FRA = ax.bar(years,hosp_bed_FRA, width)\nplt_DEU = ax.bar(years + width,hosp_bed_DEU, width)\nplt_GBR = ax.bar(years + 2*width,hosp_bed_GBR, width)\nplt_DNK = ax.bar(years + 3*width,hosp_bed_DNK, width)\nplt_BEL = ax.bar(years + 4*width,hosp_bed_BEL, width)\nplt_NOR = ax.bar(years + 5*width,hosp_bed_NOR, width)\nplt_FIN = ax.bar(years + 6*width,hosp_bed_FIN, width)\nplt_CAN = ax.bar(years + 7*width,hosp_bed_CAN, width)\nplt_USA = ax.bar(years + 8*width,hosp_bed_USA, width)\nplt_JPN = ax.bar(years + 9*width,hosp_bed_JPN, width)\n\n# Axes and Labels\nax.set_xlim(years[0]-3*width, years[len(years)-1]+10*width)\nax.set_xlabel('Year')\nax.set_xticks(years+2*width)\nxtickNames = ax.set_xticklabels(years)\nplt.setp(xtickNames, rotation=45, fontsize=10)\n\nax.set_ylabel(hosp_bed_df['IndicatorName'].iloc[0])\n#label the figure\nax.set_title(hosp_bed_df['IndicatorName'].iloc[0])\nax.legend( (plt_FRA[0], plt_DEU[0], plt_GBR[0], plt_DNK[0],\n          plt_BEL[0], plt_NOR[0], plt_FIN[0], plt_CAN[0], plt_USA[0], plt_JPN[0]),\n          ('FRA', 'DEU', 'GBR', 'DNK', 'BEL', 'NOR', 'FIN', 'CAN', 'USA', 'JPN') )\n\nplt.show()","13a6de91":"# Extract a list ov values per Country\nphys_FRA = phys_DEU_merged[phys_FRA_merged['CountryCode'] == 'FRA']['Value'].values\nphys_DEU = phys_DEU_merged[phys_DEU_merged['CountryCode'] == 'DEU']['Value'].values\nphys_DNK = phys_DNK_merged[phys_DNK_merged['CountryCode'] == 'DNK']['Value'].values\nphys_NLD = phys_NLD_merged[phys_NLD_merged['CountryCode'] == 'NLD']['Value'].values\nphys_SWE = phys_SWE_merged[phys_SWE_merged['CountryCode'] == 'SWE']['Value'].values\nphys_FIN = phys_FIN_merged[phys_FIN_merged['CountryCode'] == 'FIN']['Value'].values\nphys_NOR = phys_NOR_merged[phys_NOR_merged['CountryCode'] == 'NOR']['Value'].values","014ef910":"years = np.array(yearsFilter)\nwidth = 0.1\n\nfig, ax = plt.subplots(figsize=(15, 5))\n\n# create\nplt_FRA = ax.bar(years,hosp_bed_FRA, width)\nplt_DEU = ax.bar(years + width,hosp_bed_DEU, width)\nplt_DNK = ax.bar(years + 2*width,phys_DNK, width)\nplt_NLD = ax.bar(years + 3*width,phys_NLD, width)\nplt_SWE = ax.bar(years + 4*width,phys_SWE, width)\nplt_FIN = ax.bar(years + 5*width,phys_FIN, width)\nplt_NOR = ax.bar(years + 6*width,phys_NOR, width)\n\n# Axes and Labels\nax.set_xlim(years[0]-3*width, years[len(years)-1]+10*width)\nax.set_xlabel('Year')\nax.set_xticks(years+2*width)\nxtickNames = ax.set_xticklabels(years)\nplt.setp(xtickNames, rotation=45, fontsize=10)\n\nax.set_ylabel(phys_df['IndicatorName'].iloc[0])\n#label the figure\nax.set_title(phys_df['IndicatorName'].iloc[0])\nax.legend( (plt_FRA[0], plt_DEU[0], plt_DNK[0],\n          plt_NLD[0], plt_SWE[0], plt_FIN[0], plt_NOR[0]),\n          ('FRA', 'DEU', 'DNK', 'NLD', 'SWE', 'FIN', 'NOR') )\n\nplt.show()","99b90808":"# Reset Contry filter to have all data available for both indicators\ncountriesFilter = ['CAN', 'FRA', 'DEU', 'JPN', 'GBR', 'USA', \n                   'DNK', 'BEL', 'FIN']\nfilterCorr = (data['CountryCode'].isin(countriesFilter)) & (data['IndicatorName'] == 'Health expenditure per capita (current US$)') & (data['Year'].isin(yearsFilter))\n\n# Extract the two datasets\nhealth_exp_df = data[filterCorr]\nhosp_bed_df = pd.concat([hosp_bed_FRA_merged,hosp_bed_CAN_merged,hosp_bed_DEU_merged,\n                    hosp_bed_JPN_merged,hosp_bed_GBR_merged,hosp_bed_USA_merged,\n                    hosp_bed_DNK_merged,hosp_bed_BEL_merged,hosp_bed_FIN_merged])","17e1d4d1":"%matplotlib inline\nimport matplotlib.pyplot as plt\n\nfig, axis = plt.subplots()\n# Grid lines, Xticks, Xlabel, Ylabel\n\naxis.yaxis.grid(True)\naxis.set_title('Health expenditure per capita vs. Hospital beds (per 1,000 people)',fontsize=10)\naxis.set_xlabel(health_exp_df['IndicatorName'].iloc[0],fontsize=10)\naxis.set_ylabel(hosp_bed_df['IndicatorName'].iloc[0],fontsize=10)\n\nX = health_exp_df['Value']\nY = hosp_bed_df['Value']\n\naxis.scatter(X, Y)\nplt.show()","db181531":"np.corrcoef(health_exp_df['Value'],hosp_bed_df['Value'])","237b2c3e":"### Correlation between \"Health expenditure per capita\" and \"Hospital beds (per 1,000 people)\"","5307b44b":"Scatterplot of the 2 Indicators","0cd7cab7":"### Filling","3976b4e7":"In this case it is remarkable the number of physician provided by Germany and France compared to the other European Countries included in the study.\nAlso in this case the indicator remain constant in the interval 2000-2010","9f9b3f12":"### Investigation on the Indicator 'Hospital beds (per 1,000 people)'\n                   ","a005cb95":"## Visualization\n### Investigation on the Indicator 'Health expenditure per capita (current USD)'","08e2f498":"Refinement the indicatorsFilter to the following indicators:\n- Health expenditure per capita (current US$)\n- Hospital beds (per 1,000 people)\n- Physicians (per 1,000 people)","ed97b88f":"### Years of interest\nChoice of a time-span from 2000 to 2010 included","4a5e6f77":"Switzerland and Norway have the highest Health Expenditure per capita. \nAs expected the Health Expenditure per capita has been continuously increasing during the time-span","de51eeda":"### Indicators selection\nChoice of a set of Indicatiors related to the Healthcare domain.\nIndicatorName tha maches:\n- Health\n- Hospital\n- Physicians","c541d53a":"### Investigation on the Indicator 'Physicians (per 1,000 people)'\n                   ","552a1097":"A correlation of 0.14 is very weak","b94c0e79":"## Acknowledgements\nFor the analysis only the dataset World Development Indicators has been used. \nIt has been necessary to perform some data cleaning. Unfortunately there was no data for Italy (at least for the Health expenditure indicator), so they have been removed form the dataset.\nWhere possible data has been filled keeping the indicator constant from the previous year.","4abf47fc":"## Data Cleaning\n### Checking missing data","ac7f5d14":"Surprisingly there seems to be no correlation between the two indicators.\nLet's calculate the correlation matrix","f3de4652":"There is a remarkable difference (more than double) in the number of hospital beds provided by Japan compared to the other Countries.\nThis indicator remains constant during the interval 2000-2010","133fa756":"### Cleaning\nUnfortunately we do not have any data for Italy (at least for the Health expenditure indicator)","2a530fca":"We will then remove: CHE, NLD, SWE, NOR for 'Hospital beds' analysis and CAN, JPN, GBR, USA, CHE, BEL for 'Physicians (per 1,000 people)' analysis","3bd8ceec":"# Analysis of Healthcare Indicators of the most developed Countries\n\n[Sauro Grandi \u2013 July 14, 2018]\n\nThe analysis of healthcare indicators of the most developed countries has been conducted on the dataset:\nWorld Development Indicators Dataset (https:\/\/www.kaggle.com\/worldbank\/world-development-indicators)\n\nFor most of the countries, it contains many indicators on different topics, including healthcare, such as data related to annual expenses, age of the population over 65, number of hospital beds per 1000 people, etc.\n\n## Motivation\nThis analysis wants to compare the most developed countries on indicators related to their Healthcare system. \nAfter identifying significant indicators of the healthcare status, the study wants to point out which country performs better than others, whether there are trends in the time frame analyzed and find out hidden correlation between the indicators.\nThis analysis is important to understand which healthcare systems are more efficient than others and gives the elements to identify ways of improving them.  \n\n## Research Questions\nThis study considers the countries: France, Germany, Italy, UK, Japan, USA, Canada, Switzerland, Denmark, Netherlands, Belgium, Finland, Sweden, Norway, China, in a time interval from 2000 to 2010. The analysis wants to answer to the following questions:\n- Which countries have the highest Health expenditure per capita? Is there a trend over the considered yeas?\n- Which countries have more Hospital beds per 1000 people? Is there a trend over the considered yeas?\n- Which countries have more physicians per 1000 people? Is there a trend over the considered yeas?\n- Is there a correlation between \u201cHealth expenditure per capita\u201d and \u201cHospital beds per 1000 people\u201d ?\n\n## Exploration of the dataset world-development-indicators","803c1fa8":"Performing an outer join with date_df it will fill the missing rows with NaN values. Then we can apply fillna function to the dataset","d55d87f0":"### Countries selection\nChoice of a set representing the most developed Countries. It must include: \n- G7 members + Switzerland, Denmark, Netherlands, Belgium, Finland, Sweden, Norway\n- North America\n- China and Japan"}}