{"cell_type":{"a2e70ce6":"code","8b732abf":"code","e507bd28":"markdown","55d01281":"markdown"},"source":{"a2e70ce6":"import csv\nimport pandas\nimport numpy as np\nfrom sklearn.linear_model import LinearRegression\n\ndef main():\n    dtypes = {\n        'rating': float,\n        'bayes_rating': float\n    }\n    headers = []\n    with open('..\/input\/bgggamesdata\/bgg_games_data\/mechanics_data.csv') as data:\n        csvreader = csv.reader(data)\n        for row in csvreader:\n            header = row\n            for entry in header:\n                if entry not in dtypes:\n                    dtypes[entry] = bool\n                    headers.append(entry)\n            break\n    data = pandas.read_csv('..\/input\/bgggamesdata\/bgg_games_data\/mechanics_data.csv', dtype=dtypes)\n    columns = []\n    for i in range(182):\n        columns.append('bayes_rating')\n    Y = data[columns].values.reshape(-1, 182)\n    data = data.drop(columns=['bayes_rating', 'rating'])\n    X = data.values.reshape(-1,182)\n    linear_regressor = LinearRegression()\n    linear_regressor.fit(X, Y)\n    coefs = linear_regressor.coef_[0]\n    highest_coefs = [-1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000, -1000]\n    best_coefs = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1]\n    for repeat in range(20):\n        for i in range(182):\n            for j in range(10):\n                if coefs[i] > highest_coefs[j] and i not in best_coefs:\n                    highest_coefs[j] = coefs[i]\n                    best_coefs[j] = i\n    output = {}\n    for j in range(10):\n        output[headers[best_coefs[j]]] = highest_coefs[j]\n    for key in output:\n        print(f'{key}: {output[key]}')\n        \nif __name__=='__main__':\n    main()","8b732abf":"import csv\nimport pandas\nimport numpy as np\nfrom sklearn.linear_model import LinearRegression\nimport matplotlib.pyplot as plt\n\ndef main():\n    dtypes = {\n        'rating': float,\n        'bayes_rating': float\n    }\n    headers = []\n    with open('..\/input\/bgggamesdata\/bgg_games_data\/mechanics_data.csv') as data:\n        csvreader = csv.reader(data)\n        for row in csvreader:\n            header = row\n            for entry in header:\n                if entry not in dtypes:\n                    dtypes[entry] = bool\n                    headers.append(entry)\n            break\n    data = pandas.read_csv('..\/input\/bgggamesdata\/bgg_games_data\/mechanics_data.csv', dtype=dtypes)\n    columns = []\n    for i in range(182):\n        columns.append('bayes_rating')\n    Y = data[columns].values.reshape(-1, 182)\n    data = data.drop(columns=['bayes_rating', 'rating'])\n    X = data.values.reshape(-1,182)\n    linear_regressor = LinearRegression()\n    linear_regressor.fit(X, Y)\n    Y_pred = linear_regressor.predict(X)\n    plt.scatter(X, Y)\n    plt.plot(X, Y_pred, color='red')\n    plt.show()\n    \nif __name__=='__main__':\n    main()","e507bd28":"# Plot All Mechanics\n\nPlots all mechanics on a graph showing how they seem to impact BGG user score. Note that this is just for the code example -- you would actually want to plot one or two at a time, as this graph is a mess.","55d01281":"# Most Influential Mechanics on BGG User Score\n\nFind the 10 highest regression coefficients for the correlation between various mechanics and BGG user score."}}