{"cell_type":{"dfa56c49":"code","45eefb84":"code","df03aed1":"code","8935ec29":"code","1638c9f5":"code","b0a2ba99":"code","a1f12986":"code","24d09056":"code","2e69f053":"code","d56e209b":"code","3795c292":"code","a97600e2":"code","e12bc6af":"code","106a5bfd":"code","56633b48":"code","a7d3a4f2":"code","37e756ef":"code","69fc1cd9":"code","46cfa680":"code","ff613d30":"code","b08e7c32":"code","06a47510":"markdown","fccbe9b1":"markdown","d893d56b":"markdown","37bd8881":"markdown","240e7d99":"markdown","dd706b8b":"markdown","fb06007f":"markdown","2fa13419":"markdown","11a8926a":"markdown","315038f2":"markdown","0ef970b1":"markdown","c9117a05":"markdown","fc9f9aef":"markdown","95f5ddb0":"markdown","e21a099c":"markdown","b0a35228":"markdown","70f2fbee":"markdown","27bc1cf5":"markdown","6b039613":"markdown","7515c72c":"markdown","5ce0ef30":"markdown","9e519a53":"markdown","dabda936":"markdown","e391e060":"markdown","5a213cd1":"markdown","a22366f6":"markdown","b0c99b24":"markdown","dd1a9138":"markdown","2ae36115":"markdown","3750f94b":"markdown","3e82cb00":"markdown"},"source":{"dfa56c49":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \nplt.rcParams['font.sans-serif'] = ['SimHei']\nwarnings.filterwarnings('ignore')      ","45eefb84":"df = pd.read_csv('..\/input\/superstore-data\/superstore_dataset2011-2015.csv', encoding='ISO-8859-1')\n\ndf.rename(columns=lambda x: x.replace(' ', '_').replace('-', '_'), inplace=True)\ndf.head()","df03aed1":"df.dtypes","8935ec29":"df[\"Order_Date\"] = pd.to_datetime(df[\"Order_Date\"])\ndf[\"Ship_Date\"] = pd.to_datetime(df[\"Ship_Date\"])\ndf['Year'] = df[\"Order_Date\"].dt.year\ndf['Month'] = df['Order_Date'].values.astype('datetime64[M]')\ndf.head()","1638c9f5":"df.isnull().sum()","b0a2ba99":"df.drop([\"Postal_Code\"], axis=1, inplace=True)","a1f12986":"df.describe()","24d09056":"df.duplicated().sum()","2e69f053":"df1=df[['Order_Date','Sales','Profit','Year','Month']]\ndf1","d56e209b":"df1.groupby('Year')['Month'].value_counts()","3795c292":"sales=df1.groupby(['Year','Month']).sum()\nsales","a97600e2":"year_2011 = sales.loc[(2011,slice(None)),:].reset_index()\nyear_2012 = sales.loc[(2013,slice(None)),:].reset_index()\nyear_2013 = sales.loc[(2013,slice(None)),:].reset_index()\nyear_2014 = sales.loc[(2014,slice(None)),:].reset_index()\nyear_2011","e12bc6af":"Profit=pd.concat([year_2011['Profit'],year_2012['Profit'],year_2013['Profit'],year_2014['Profit']],axis=1)\nProfit","106a5bfd":"Profit.columns=['2011','2012','2013','2014']\nProfit.index=['Jau','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\nProfit","56633b48":"Sum=Profit.sum()\nSum.plot(kind='barh')","a7d3a4f2":"Market_Year_Sales = df.groupby(['Market', 'Year']).agg({'Sales':'sum'}).reset_index()\nMarket_Year_Sales.head()","37e756ef":"sns.barplot(x='Market',y='Sales',hue='Year',data=Market_Year_Sales)\nplt.title('Market_Sales')","69fc1cd9":"productId_count = df.groupby('Product_ID').count()['Customer_ID'].sort_values(ascending=False)\nproductId_count.head(10)","46cfa680":"productId_amount = df.groupby('Product_ID').sum()['Sales'].sort_values(ascending=False)\nproductId_amount.head(10)","ff613d30":"productId_Profit= df.groupby('Product_ID').sum()['Profit'].sort_values(ascending=False)\nproductId_Profit.head(10)","b08e7c32":"df[\"Segment\"].value_counts().plot(kind='pie',shadow=True)","06a47510":"<font size=3> Check for rows or columns with more missing values. <\/font>\n\n<font size=3> \u67e5\u770b\u6709\u6ca1\u6709\u7f3a\u5931\u503c\u8f83\u591a\u7684\u884c\u6216\u5217\u3002<\/font>","fccbe9b1":"## \uff081\uff09Import libraries\n\n## \uff08\u4e00\uff09\u5bfc\u5165\u6570\u636e\u5206\u6790\u5e93","d893d56b":"### Show different types of customer percentages in pie charts\n\n### \u7528\u997c\u72b6\u56fe\u5c55\u793a\u51fa\u4e0d\u540c\u7c7b\u578b\u7684\u5ba2\u6237\u5360\u6bd4","37bd8881":"> Note: the English sentences in this article are not completely corresponding to Chinese\n\n> \u6ce8\uff1a\u672c\u6587\u4e2d\u7684\u82f1\u8bed\u8bed\u53e5\u5e76\u4e0d\u4e0e\u4e2d\u6587\u5b8c\u5168\u5bf9\u5e94","240e7d99":"### Print \u2018Order_date' , 'Sales' , 'Profit' , 'Year' , 'Month' information\n\n### \u53d6\u6574\u4f53\u9500\u552e\u60c5\u51b5\u7684\u90e8\u5206\u6570\u636e\uff0c\u5305\u542b\u4e0b\u5355\u65e5\u671f\u3001\u9500\u552e\u989d\u3001\u5229\u6da6\u3001\u5e74\u4efd\u3001\u6708\u4efd\u4fe1\u606f\uff0c\u5e76\u6253\u5370","dd706b8b":"<font size=3> As we can see from the above, most of them are of type object,'Sales','Profit'and so on are float type and do not require processing.\n\nHowever, the order date should be of type datetime and format conversion is required.\n\nTo facilitate categorical search, add'Year'and'Month'columns after the data. <\/font>\n\n<font size=3> \u4ece\u4e0a\u9762\u770b\u5230\uff0c\u5927\u90e8\u5206\u4e3aobject\u7c7b\u578b\uff0c\u9500\u91cf\u3001\u9500\u552e\u989d\u3001\u5229\u6da6\u7b49\u4e3a\u6570\u503c\u578b\uff0c\u4e0d\u9700\u8981\u8fdb\u884c\u6570\u636e\u7c7b\u578b\u5904\u7406\u3002\u4f46\u4e0b\u5355\u65e5\u671f\u5e94\u4e3adatetime\u7c7b\u578b\uff0c\u9700\u8981\u8fdb\u884c\u683c\u5f0f\u8f6c\u6362\u3002\n\n\u4e3a\u4e86\u4fbf\u4e8e\u5206\u7c7b\u67e5\u627e\uff0c\u5728\u6570\u636e\u540e\u589e\u52a0\u2018Year\u2019\u548c\u2018Month\u2019\u4e24\u5217\u3002<\/font>","fb06007f":"<font size=3> Check for duplicate values and outliers. <\/font>\n\n<font size=3> \u67e5\u770b\u6709\u6ca1\u6709\u91cd\u590d\u503c\u548c\u5f02\u5e38\u503c\u8f83\u591a\u7684\u884c\u6216\u5217\u3002<\/font>","2fa13419":"## (4) Conclusion \n\n## (\u56db) \u5f97\u51fa\u7ed3\u8bba","11a8926a":"<font size=3> Here we do not find duplicate values and obvious outliers, so we do not need to process the data. <\/font>\n\n<font size=3> \u8fd9\u91cc\u6211\u4eec\u6ca1\u6709\u53d1\u73b0\u91cd\u590d\u503c\u548c\u660e\u663e\u7684\u5f02\u5e38\u503c\uff0c\u4e0d\u9700\u8981\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\u3002 <\/font>","315038f2":"<font size=4>3.Check for the analysis of commodities, we can easily find that:\n>Most of the sales were office supplies.\n    \n>Most of the highest sales are electronics and furniture, which are more expensive.\n    \n>Half of the top 10 profitable items are electronics products, so you can focus on increasing sales of these products to increase overall profits. <\/font>\n\n<font size=4> 3.\u89c2\u5bdf\u5bf9\u5546\u54c1\u7684\u5206\u6790\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff1a\n>\u9500\u91cf\u6700\u9ad8\u7684\u5927\u90e8\u5206\u662f\u529e\u516c\u7528\u54c1\u3002\n    \n>\u9500\u552e\u989d\u6700\u9ad8\u7684\u5927\u90e8\u5206\u662f\u7535\u5b50\u4ea7\u54c1\u3001\u5bb6\u5177\u8fd9\u4e9b\u5355\u4ef7\u8f83\u9ad8\u7684\u5546\u54c1\u3002\n    \n>\u5229\u6da6\u524d10\u7684\u5546\u54c1\u6709\u4e00\u534a\u662f\u7535\u5b50\u4ea7\u54c1\uff0c\u53ef\u4ee5\u91cd\u70b9\u8003\u8651\u63d0\u5347\u8fd9\u90e8\u5206\u4ea7\u54c1\u7684\u9500\u91cf\uff0c\u6765\u589e\u52a0\u6574\u4f53\u7684\u5229\u6da6\u3002 <\/font>","0ef970b1":"<font size=3> When loading the dataset, we use the'ISO-8859-1'encoding method to make it easier to adapt the Chinese encoding method in future data display.\n    \nAt the same time, we rename some column names that do not conform to the Python naming conventions and use the underline naming method uniformly.<\/font>\n\n<font size=3> \u5728\u52a0\u8f7d\u6570\u636e\u96c6\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f7f\u7528'ISO-8859-1'\u7f16\u7801\u65b9\u5f0f\uff0c\u4fbf\u4e8e\u4ee5\u540e\u7684\u6570\u636e\u5c55\u793a\u4e2d\u9002\u5e94\u4e2d\u6587\u7f16\u7801\u65b9\u5f0f\u3002\n    \n\u540c\u65f6\uff0c\u6211\u4eec\u5bf9\u4e00\u4e9b\u4e0d\u7b26\u5408Python\u7684\u547d\u540d\u89c4\u8303\u7684\u5217\u540d\u8fdb\u884c\u4e00\u4e0b\u91cd\u547d\u540d\uff0c\u7edf\u4e00\u91c7\u7528\u4e0b\u5212\u7ebf\u547d\u540d\u6cd5\u3002<\/font>","c9117a05":"## (3) Data analysing\n\n## (\u4e09) \u6570\u636e\u5206\u6790","fc9f9aef":"### Use a bar chart to show the annual sales by region\n\n### \u7528\u67f1\u72b6\u56fe\u8868\u663e\u793a\u5404\u4e2a\u5730\u533a\u6bcf\u5e74\u7684\u9500\u552e\u60c5\u51b5","95f5ddb0":"<font size=3> Here we print the form for 2011 to show the effect. <\/font>\n\n<font size=3> \u8fd9\u91cc\u6253\u5370\u51fa2011\u5e74\u7684\u8868\u683c\u6765\u5c55\u793a\u6548\u679c\u3002 <\/font>","e21a099c":"<font size=4> 2.Analysis of regional sales shows that Asia-Pacific is the region with the highest sales volume, while Canada is the region with the lowest sales volume.Our Canadian friends seems to be very reluctant to spend in this supermarket. <\/font>\n\n<font size=4> 2.\u5bf9\u5730\u533a\u9500\u552e\u989d\u7684\u5206\u6790\u53ef\u77e5,\u9500\u552e\u91cf\u6700\u9ad8\u7684\u5730\u533a\u662f\u4e9a\u592a\u5730\u533a\uff0c\u800c\u9500\u552e\u91cf\u6700\u4f4e\u7684\u5730\u533a\u662f\u52a0\u62ff\u5927\u3002\u770b\u6765\u6211\u4eec\u7684\u52a0\u62ff\u5927\u8001\u5144\u5728\u8fd9\u5bb6\u8d85\u5e02\u6d88\u8d39\u7684\u610f\u613f\u4e0d\u662f\u5f88\u5f3a\u3002<\/font>\n\n<font size=3> There are two possibilities for this:\n\n>Firstly,the supermarket doesn't have enough branches in Canada.The solution is to open a few more stores, perhaps to increase sales a little in this area.\n    \n>Secondly,the localization of this supermarket is not enough, and the local publicity is not complete.The solution is to further promote the localization process and increase local consumer appetite, which can also drive sales growth. <\/font>\n\n<font size=3> \u5bf9\u4e8e\u6b64\u79cd\u60c5\u51b5\u53ef\u80fd\u6709\u4e24\u79cd\u53ef\u80fd\uff1a\n> \u4e00\u662f\u8fd9\u5bb6\u8d85\u5e02\u5728\u52a0\u62ff\u5927\u5730\u533a\u5f00\u7684\u5206\u5e97\u8fd8\u4e0d\u591f\u591a\u3002\u89e3\u51b3\u63aa\u65bd\u5c31\u662f\u591a\u5f00\u51e0\u5bb6\u5e97\uff0c\u6216\u8bb8\u53ef\u4ee5\u63d0\u5347\u4e00\u70b9\u6b64\u5730\u533a\u7684\u9500\u552e\u91cf\u3002\n \n> \u4e8c\u662f\u8fd9\u5bb6\u8d85\u5e02\u7684\u672c\u571f\u5316\u8fd8\u505a\u7684\u4e0d\u591f\u5230\u4f4d\uff0c\u5728\u5f53\u5730\u7684\u5ba3\u4f20\u4e5f\u4e0d\u662f\u5f88\u5b8c\u5907\u3002\u89e3\u51b3\u63aa\u65bd\u65e2\u662f\u8fdb\u4e00\u6b65\u63a8\u8fdb\u672c\u571f\u5316\u8fdb\u7a0b\uff0c\u8ba9\u5f53\u5730\u4eba\u7684\u6d88\u8d39\u610f\u613f\u66f4\u52a0\u5f3a\u70c8\uff0c\u8fd9\u6837\u4e5f\u53ef\u5e26\u52a8\u9500\u552e\u91cf\u7684\u589e\u957f\u3002 <\/font>","b0a35228":"<font size=3> In addition to importing some commonly used libraries, we also import a warming library to close some messy and annoying messages. (almost useless) <\/font>\n\n<font size=3> \u9664\u4e86\u5bfc\u5165\u4e00\u4e9b\u5e38\u7528\u7684\u5e93\u4ee5\u5916\uff0c\u6211\u4eec\u53e6\u5916\u5bfc\u5165\u4e00\u4e2awarnings\u5e93\u6765\u5173\u95ed\u4e00\u4e9b\u4e71\u7cdf\u7cdf\u770b\u7740\u70e6\u4eba\u7684\u63d0\u793a\u4fe1\u606f\u3002(\u57fa\u672c\u4e0a\u5c31\u662f\u6ca1\u4ec0\u4e48\u7528)<\/font>","70f2fbee":"<font size=3> We can see that the missing part is 'Postal_Code',this column represents the postcode information, which does not have much effect on our analysis and can be deleted directly. <\/font>\n\n<font size=3> \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7f3a\u5931\u8fc7\u591a\u7684\u662f'Postal_Code'\uff0c\u6b64\u5217\u8868\u793a\u90ae\u7f16\u4fe1\u606f\uff0c\u5bf9\u6211\u4eec\u7684\u5206\u6790\u6ca1\u6709\u592a\u591a\u4f5c\u7528\uff0c\u53ef\u4ee5\u76f4\u63a5\u5220\u9664\u3002 <\/font>","27bc1cf5":"# SuperStore Dataset Analysis\n# Re:\u4ece\u96f6\u5f00\u59cb\u7684Python\u6570\u636e\u5206\u6790(\u5b9e\u6218\u7bc7\uff09","6b039613":"### Split the above data into one table each year\n\n### \u5bf9\u4ee5\u4e0a\u6570\u636e\u8fdb\u884c\u62c6\u5206\uff0c\u6bcf\u5e74\u5207\u5206\u4e3a\u4e00\u5f20\u8868\u683c","7515c72c":"<font size=3> Because this is a global supermarket and there are markets in different regions, take a look at sales between regions.The X-axis represents 'Market' , the y-axis represents 'Sales' , and the legend is 'Year' . <\/font>\n\n<font size=3> \u56e0\u4e3a\u8fd9\u662f\u4e00\u5bb6\u5168\u7403\u8d85\u5e02\uff0c\u5728\u4e0d\u540c\u5730\u533a\u90fd\u4f1a\u6709\u5e02\u573a\uff0c\u6240\u4ee5\u770b\u4e00\u4e0b\u4e0d\u540c\u5730\u533a\u4e4b\u95f4\u7684\u9500\u552e\u60c5\u51b5\u3002x\u8f74\u8868\u793a\u2018Market\u2019\uff0cy\u8f74\u8868\u793a\u9500\u552e\u989d\uff0c\u56fe\u4f8b\u4e3a\u5e74\u4efd\u3002 <\/font>","5ce0ef30":"### Analyze commodities to identify the top 10 items according to 'Product_ID' , \"Sales' and 'Profits'\n\n### \u5bf9\u5546\u54c1\u8fdb\u884c\u5206\u6790\uff0c\u5206\u522b\u627e\u51fa\u5e76\u5206\u6790\u9500\u91cf\u3001\u9500\u552e\u989d\u3001\u5229\u6da6\u524d10\u7684\u5546\u54c1","9e519a53":"<font size=4> 4.Customer type analysis shows that in the past four years, ordinary consumers account for the largest proportion of customers.It can increase the amount of commodities imported.You can also focus on this type of audience when you do your publicity. <\/font>\n\n<font size=4> 4.\u5ba2\u6237\u7c7b\u578b\u5206\u6790\u663e\u793a\u8fd9\u56db\u5e74\u6765\uff0c\u666e\u901a\u6d88\u8d39\u8005\u7684\u5ba2\u6237\u5360\u6bd4\u6700\u591a\u3002\u53ef\u4ee5\u589e\u52a0\u5bf9\u65e5\u7528\u54c1\u7684\u8fdb\u8d27\u91cf\u3002\u5728\u505a\u5ba3\u4f20\u65f6\u4e5f\u53ef\u7740\u91cd\u5728\u6b64\u7c7b\u53d7\u4f17\u8eab\u4e0a\u4e0b\u529f\u592b <\/font>","dabda936":"### According to the 'Year', 'Month' to group statistics and sum\n\n### \u6309\u7167\u5e74\u4efd\u3001\u6708\u4efd\u5bf9\u6570\u636e\u8fdb\u884c\u5206\u7ec4\u7edf\u8ba1\u4e0e\u6c42\u548c","e391e060":"### Build a profit statement(take the annual profit data from the overall data)\n\n### \u6784\u5efa\u5229\u6da6\u8868(\u53d6\u603b\u4f53\u6570\u636e\u4e2d\u7684\u6bcf\u5e74\u5229\u6da6\u6570\u636e)","5a213cd1":"<font size=3> Check the data types for each column. <\/font>\n\n<font size=3> \u67e5\u770b\u5404\u5217\u7684\u6570\u636e\u7c7b\u578b\u3002 <\/font>","a22366f6":"## So that's the all for this article. Of course, I believe that this is enough for your reference to make your own data feature analysis. \n\n\n## \u90a3\u4e48\u8fd9\u7bc7\u6587\u7ae0\u5c31\u5199\u5230\u8fd9\u91cc\u4e86\u3002\u5f53\u7136\u6211\u76f8\u4fe1\u8fd9\u8db3\u591f\u4f9b\u4f60\u53c2\u8003\u540e\u53bb\u4f5c\u51fa\u5c5e\u4e8e\u4f60\u81ea\u5df1\u7684\u6570\u636e\u7279\u5f81\u5206\u6790\uff0c\u5e76\u4eab\u53d7\u6570\u636e\u5206\u6790\u7ed9\u4f60\u5e26\u6765\u7684\u4e50\u8da3.\n\n## Enjoy it!","b0c99b24":"<font size=3> In this notebook, we'll see if we can use Python to analyse some Supermarket marketing data,using datas from our dataset.<\/font>\n\n<font size=3> \u5728\u8fd9\u7bc7\u6587\u7ae0\u4e2d\uff0c\u6211\u4eec\u5c06\u8981\u5229\u7528Python\u5bf9\u4e00\u4e2a\u8d85\u5e02\u4ece2011\u5e74\u52302015\u5e74\u7684\u9500\u552e\u6570\u636e\u8fdb\u884c\u4e00\u4e9b\u5206\u6790\uff0c\u770b\u770b\u6211\u4eec\u662f\u5426\u80fd\u4ece\u5e9e\u5927\u7684\u6570\u636e\u4e2d\u53d1\u6398\u51fa\u4e00\u4e9b\u6709\u7528\u7684\u4fe1\u606f\u3002<\/font>\n\n<font size=3> Along the way, we'll analyze the overall sales volume and profit, display the list of regional sales, find out the top ten commodities in sales volume, sales volume and profit, and draw the proportion chart of different types of customers. <\/font>\n\n<font size=3> \u4e0b\u6587\u4e2d\uff0c\u6211\u4eec\u5c06\u4f1a\u8fdb\u884c\u5bf9\u6574\u4f53\u9500\u552e\u989d\u548c\u5229\u6da6\u7684\u5206\u6790\uff0c\u5bf9\u5730\u533a\u9500\u552e\u989d\u7684\u5217\u8868\u5c55\u793a\uff0c\u627e\u51fa\u9500\u91cf\u3001\u9500\u552e\u989d\u3001\u5229\u6da6\u524d\u5341\u7684\u5546\u54c1\u4ee5\u53ca\u753b\u51fa\u4e0d\u540c\u7c7b\u578b\u5ba2\u6237\u7684\u5360\u6bd4\u56fe\u3002 <\/font>\n\n<font size=4> Ready? Let's get started. <\/font>\n\n<font size=4> \u51c6\u5907\u597d\u4e86\u5417\uff1f\u8ba9\u6211\u4eec\u5f00\u59cb\u5427\uff01 <\/font>","dd1a9138":"## (2) Data Preprocessing\n\n## (\u4e8c) \u6570\u636e\u9884\u5904\u7406","2ae36115":"### Rename the row and column names of the profit statement\n\n### \u5bf9\u5229\u6da6\u8868\u7684\u884c\u540d\u548c\u5217\u540d\u91cd\u547d\u540d","3750f94b":"### Calculate annual profit and chart display\n\n### \u8ba1\u7b97\u5e74\u5ea6\u5229\u6da6\uff0c\u5e76\u7528\u56fe\u8868\u5c55\u793a","3e82cb00":"<font size=4> 1.The overall annual profit of this supermarket is increasing year by year, and its business seems to be going well.Meanwhile, profits in the second half of the year will generally be higher than those in the first half.Was it due to Black Friday?(LOL) <\/font>\n\n<font size=4> 1.\u8fd9\u5bb6\u8d85\u5e02\u7684\u603b\u4f53\u5e74\u5229\u6da6\u9010\u5e74\u9012\u589e\uff0c\u770b\u8d77\u6765\u4ed6\u7684\u65e5\u5b50\u8fc7\u7684\u4e0d\u9519\u3002\u540c\u65f6\uff0c\u4e0b\u534a\u5e74\u7684\u5229\u6da6\u603b\u4f53\u4e0a\u4f1a\u9ad8\u4e8e\u4e0a\u534a\u5e74\u7684\u5229\u6da6\u3002\u83ab\u975e\u662f\u53cc\u5341\u4e00\u6216\u9ed1\u4e94\uff1f(\u5927\u96fe\uff09 <\/font>"}}