{"cell_type":{"cd06defc":"code","918e61ab":"code","53e1cca8":"code","a0e4fc5e":"code","57290d8b":"code","62cffd81":"code","e3f5e7de":"code","fc0d59ba":"code","520cf0a0":"code","69e395c9":"code","b8933a67":"code","cc9dfad0":"code","4978a2d5":"code","d93406b5":"code","a1f328bb":"code","60e76cec":"code","fb6151f0":"code","fb5d9327":"code","91b78819":"code","186b3631":"code","fadcd102":"code","71aae2f1":"code","7d676d3f":"code","b43b74e3":"code","c82a1ec0":"code","e7d662b9":"code","f8712e88":"code","9cac3f19":"code","ec7b439c":"code","72d9e988":"code","731ea451":"code","9bf4784c":"code","5d2a180f":"code","465cba2c":"code","cbd1cf5c":"code","0f90717b":"code","a68f6909":"code","d362252f":"code","41132d9a":"code","f1569dd9":"code","84d425e3":"code","ea018ac8":"code","c147fa3c":"code","e57c20c4":"code","5686d1b1":"code","7b332d9e":"code","3333d695":"code","a2ecac68":"code","8d5ab98d":"code","5e958881":"code","c5d4c182":"code","02985ecc":"markdown","17a5ac42":"markdown","5b0ce0ea":"markdown","c2a72e31":"markdown","b63e6c7c":"markdown","003e5e5e":"markdown","05cb37ca":"markdown","4e6bd2bb":"markdown","07bfb96c":"markdown","2f1431be":"markdown","44ce484f":"markdown","ecf15d19":"markdown","cec9713d":"markdown","35b08f9a":"markdown","8c532311":"markdown","8447b2f4":"markdown","3c2b935d":"markdown","7d284d23":"markdown","14f179cf":"markdown","d15a76d4":"markdown","8365cad1":"markdown","ef7ded4c":"markdown","80245e5f":"markdown","d2102669":"markdown","c5304a95":"markdown","09f07ab7":"markdown","4ca5801a":"markdown","68df6461":"markdown","07578497":"markdown","cf8c14f9":"markdown","b45d7c18":"markdown","13101a63":"markdown","6904a0b7":"markdown","355f2c70":"markdown","3ec03aa5":"markdown","2dad97ed":"markdown","6a4e8871":"markdown","c4f8b447":"markdown","6cf234c1":"markdown","091840c1":"markdown","a2890fed":"markdown","a47602ed":"markdown","1e5a61d5":"markdown","66d1a5be":"markdown","0ec5e916":"markdown","b4b2ef41":"markdown","1fa4f3a5":"markdown","c3684bf0":"markdown","370390b5":"markdown","14d35ff0":"markdown","d2ace969":"markdown","b32edbd8":"markdown","bd5d14c3":"markdown","86a8a22c":"markdown","b91394d0":"markdown","314e6afb":"markdown","5453c5cb":"markdown","1e45aecd":"markdown","5b859942":"markdown","74ab815f":"markdown","d918a8d2":"markdown","fb3d8669":"markdown","2acaee0d":"markdown","ddd657dd":"markdown","648cf555":"markdown","0cf1ab15":"markdown","68e91747":"markdown","d2878842":"markdown","045ef3e5":"markdown","5a083ee4":"markdown","7a3591ca":"markdown","64ee3c1e":"markdown","e7feded8":"markdown","c1575bd8":"markdown","96fd47c0":"markdown","6b87db45":"markdown"},"source":{"cd06defc":"#importing the libraries we need \nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","918e61ab":"#load our dataset\ndf=pd.read_csv('..\/input\/tmdb-movies-dataset\/tmdb_movies_data.csv')\n#getting a closer look on the data\ndf.head(5)","53e1cca8":"df.describe()","a0e4fc5e":"df.shape","57290d8b":"df.info()","62cffd81":"#droping the columns\ncolumns_drop=['id','imdb_id','popularity','homepage','director' , 'tagline','vote_count', 'keywords', 'overview', 'production_companies', 'budget_adj', 'revenue_adj']\ndf.drop(columns_drop, axis =1 , inplace = True)","e3f5e7de":"#our new dataset\ndf.head(5)","fc0d59ba":"df.shape","520cf0a0":"df.describe()","69e395c9":"df.info()","b8933a67":"df[df.duplicated()]","cc9dfad0":"df.drop_duplicates(keep='first',inplace=True)","4978a2d5":"df[df.duplicated()]","d93406b5":"df.isnull().sum()","a1f328bb":"df[df.genres.isnull()]","60e76cec":"#removing the rows which have the null values\ndf.dropna(subset = [\"genres\"], inplace=True)\ndf[df.genres.isnull()]","fb6151f0":"df[df.cast.isnull()]","fb5d9327":"#droping the NaN's\ndf.dropna(subset=['cast'],inplace=True)\ndf[df.cast.isnull()]","91b78819":"df.query('runtime<=0')","186b3631":"df.drop(df[df['runtime']<= 0].index, inplace = True)\ndf.query('runtime<=0')","fadcd102":"df.runtime","71aae2f1":"#using lambda to convert the time into more familiar formula\ndf.runtime = df.runtime.apply(lambda x: '{:02d}:{:02d}'.format(*divmod(x, 60)))\ndf.runtime","7d676d3f":"df.release_date = pd.to_datetime(df['release_date'])\ndf.release_date.head(5)","b43b74e3":"#profit = revenue - budget\ndf['profit']=df.revenue-df.budget\ndf.profit.head(10)","c82a1ec0":"df.head(5)","e7d662b9":"#last checking\ndf.info()","f8712e88":"df.shape","9cac3f19":"#getting the highest profit\ndf_HighestSorted_profit=df.sort_values(by='profit' , ascending = False)\ndf_HighestSorted_profit[['original_title','profit']].head(1)\n","ec7b439c":"#getting the lowest profit\ndf_LowSorted_profit=df.sort_values(by='profit' , ascending = True)\ndf_LowSorted_profit[['original_title','profit']].head(1)\n","72d9e988":"#getting the longest runtime\ndf_Longest=df.sort_values(by='runtime',ascending = False)\ndf_Longest[['original_title','runtime']].head(1)\n","731ea451":"#getting the lowest runtime\ndf_lowest=df.sort_values(by='runtime',ascending = True)\ndf_lowest[['original_title','runtime']].head(1)\n","9bf4784c":"#getting the highest budget\ndf_HighestBudget=df.sort_values(by='budget',ascending = False)\ndf_HighestBudget[['original_title','budget']].head(1)","5d2a180f":"#getting the lowest budget\ndf_lowestBudget=df.sort_values(by='budget',ascending = True)\ndf_lowestBudget[['original_title','budget']].head(1)","465cba2c":"sns.scatterplot(data=df, x=\"budget\", y=\"revenue\");\n","cbd1cf5c":"#getting the highest revenue\ndf_Highestrevenue=df.sort_values(by='revenue',ascending = False)\ndf_Highestrevenue[['original_title','revenue']].head(1)","0f90717b":"#getting the lowest budget\ndf_lowestrevenue=df.sort_values(by='revenue',ascending = True)\ndf_lowestrevenue[['original_title','revenue']].head(1)","a68f6909":"sns.scatterplot(data=df, x=\"revenue\", y=\"profit\");\n","d362252f":"sns.scatterplot(data=df, x=\"budget\", y=\"revenue\");\n","41132d9a":"#Getting the most frequent actor\ncast_count = pd.Series(df['cast'].str.cat(sep = '|').split('|')).value_counts(ascending = False)\ncast_count.head(20)","f1569dd9":"#for the color variety\ncmap = plt.cm.tab10\ncolors = cmap(np.arange(len(df)) % cmap.N)\n# Initialize the plot\ndiagram = cast_count.head(20).plot.barh(fontsize = 8,color=colors)\n# Set a title\ndiagram.set(title = 'Cast')\n# x-label and y-label\ndiagram.set_xlabel('Number of Movies')\ndiagram.set_ylabel('List of Cast')\n# Show the plot\nplt.show()","84d425e3":"df100R=df.sort_values(by='vote_average',ascending=False)\ndf100R=df100R[['original_title','vote_average']].head(100)\n#dataframe that includes the top 100 movies\ndf100R.head(10)","ea018ac8":"df100R.head(1)","c147fa3c":"sns.histplot(data=df100R);\nplt.xlabel(\"Number of Votes\", size=10)\nplt.ylabel(\"Counts\", size=10)\nplt.title(\"Average Votes\", size=15);","e57c20c4":"#creating a dataframe first\ndf100=df.sort_values(by='vote_average',ascending=False)\ndf100=df100[['original_title','vote_average','budget','revenue','profit','genres','cast']].head(100)\n#visualizing the data\ndf100.hist(figsize=(15,8));\n","5686d1b1":"df100['budget'].mean()","7b332d9e":"df100['revenue'].mean()","3333d695":"df['runtime'] = pd.to_datetime(df['runtime'], infer_datetime_format=True)\ndf['runtime'].mean()","a2ecac68":"genres_count = pd.Series(df100['genres'].str.cat(sep = '|').split('|')).value_counts(ascending = False)\ngenres_count","8d5ab98d":"#for the color variety\ncmap = plt.cm.tab10\ncolors = cmap(np.arange(len(df)) % cmap.N)\n# Initialize the plot\ndiagram = genres_count.plot.bar(fontsize = 12,color=colors)\n# Set a title\nplt.title('Top Genres')\n# x-label and y-label\nplt.xlabel('Type')\nplt.ylabel('Number of Movies')\n# Show the plot\nplt.show();","5e958881":"actor_count = pd.Series(df100['cast'].str.cat(sep = '|').split('|')).value_counts(ascending = False)\nactor_count.head(20)","c5d4c182":"# Initialize the plot\ncmap = plt.cm.tab10\ncolors = cmap(np.arange(len(df)) % cmap.N)\ndiagram = actor_count.head(20).plot.barh(fontsize = 8,color=colors)\n# Set a title\ndiagram.set(title = 'Actors')\n# x-label and y-label\ndiagram.set_xlabel('Number of Movies')\ndiagram.set_ylabel('List of Actors')\n# Show the plot\nplt.show()","02985ecc":">The movie that has the longest runtime is The Story of Film: An Odyssey with 15 hours runtime !","17a5ac42":"Let's see how this will look as a plot","5b0ce0ea":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n> After cleaning our data let's answer the questions we had earlier using statistics and visualizations.\n\n### Research Question 1.1 (Which movie has the highest profit & which has the lowest ?)","c2a72e31":"Let's see some statistical values for these dataset","b63e6c7c":"Let's check for the null values","003e5e5e":">The Warrior's Way is the lowest profit with total loss of -413,912,431 Dollas.","05cb37ca":">Avatar is on top of the profits with 2,544,505,847 Dollars.","4e6bd2bb":">Salvando al Soldado Perez has the lowest budget with value of zero.","07bfb96c":"I'm going to drop all the rows having zero or less as their runtime","2f1431be":"### Research Question 2.3  (What is the average revenue of the movies?)","44ce484f":"### Research Question 1.2 (Which movie has the longest runtime & which has the shortest ?)","ecf15d19":"Before analyzing the top 100 movies we should get a dataframe for the movies","cec9713d":"The same process will happen here","35b08f9a":">The Warrior's Way lead the way with 425,000,000 Dollas.","8c532311":"The Story of Film: An Odyssey is the highest rated movie.","8447b2f4":"### Research Question 1.4 (Which movie had the highest and lowest revenue?)","3c2b935d":"Seems here that most of the 8.0 rated films did not spend too much compared to the higher rated movies","7d284d23":"> Fans seem to appreciate the Drama genre more than the others. Surprisingly for me Documentary is the second in the list with only one movie less than Drama.","14f179cf":">The average budget of the movies is 81,859,012.63 Dollars","d15a76d4":"Let's have a look at the runtime column","8365cad1":"Getting the average value for the runtime","ef7ded4c":"### Let's make the dataset more useable for the analysis","80245e5f":"Seems like there are too many null values that we might need to deal with","d2102669":"The top six actors here are :\n>Louis Tomlinson\n>Niall Horan          \n>Liam Payne           \n>Bill Burr            \n>David Tennant        \n>Harry Styles         \n\nwith all of them having 3 movies in the list","c5304a95":">I found that the relation between revenue and profit is linear","09f07ab7":"I think that making the runtime in hours will be more useful in the analysis","4ca5801a":"The best thing to do with these null values is to remove them. Removing them won't affect the data analysis process","68df6461":">The columns are reduced to 9 columns now","07578497":"Let's take a look on how our data looks like now","cf8c14f9":"# TMDB Movies Analysis\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","b45d7c18":">Our final dataset after cleaning have 10737 rows and 9 columns","13101a63":"The graph between budget and revenue is like the following : ","6904a0b7":"Now we will check for duplicated values and null values","355f2c70":"First I will get the total count for every actor","3ec03aa5":">As we can see Drama is leading the way followed by Documentary and Music. Comedy and Crime in fourth and fifth place. History and TV Movie are the least two liked genres","2dad97ed":"We have only one duplicated value. I'm going to remove one of them and keep the other.","6a4e8871":"Let's see some visualization of the top 100 movies","c4f8b447":">Looks like we have 23 missing values in the genres column and 76 in the cast column","6cf234c1":"Let's visualize the actors","091840c1":"### Research Question 2.4  (What is the average runtime of the movies?)","a2890fed":"### Research Question 1.5 (Which are the most frequent actor involved?)\n","a47602ed":"Now we have our final dataset ready to analyse","1e5a61d5":"Getting the average value for the budget","66d1a5be":"### Research Question 2.2  (What is the average budget of the movies?)","0ec5e916":"### Research Question 1.3 (Which movie had the highest and lowest budget?)","b4b2ef41":"<a id='intro'><\/a>\n## Introduction\n\n>Here we have a dataset for the selected 10k movies in TMDB. We are going to analyse these data according to their budget,revenue,ratings and their profits.\n\n#### Questions that can be answered by looking at the datasets are:\n> - Which movie has the highest profit & which has the lowest ? \n> - Which movie has the longest runtime & which has the lowest ? \n> - Which movie had the highest and lowest budget?\n> - Which movie had the highest and lowest revenue?\n> - Which are the most frequent actor involved?\n\n#### Questions that will be answered based on the 100 rated movies: \n> - What is the highest rated movie?\n> - What is the average budget of the movies?\n> - What is the average revenue of the movies?\n> - What is the average runtime of the movies?\n> - Which are the successfull genres?\n> - Which are the most frequent actor involved?","1fa4f3a5":"We will do the same thing for the cast column","c3684bf0":"Again, the same process","370390b5":"Now we have no duplicated values","14d35ff0":"### Research Question 2.6  (Which are the most frequent actor involved?)","d2ace969":">The relation between revenue and profit is directly proportional so hen the budget increases the revenue increases as well ","b32edbd8":"> The average runtime for the 100 rated movies is 1 hour and 42 minutes and 41 seconds.","bd5d14c3":">Manos: The Hands of Fate has 0 as total revenue.","86a8a22c":">First of all let's get rid of the columns that we won't use as they won't affect the analysis. \nI don't think we need : (id, imdb_id , homepage , director , tagline, keywords, overview, production_companies, budget_adj, revenue_adj , vote_count , popularity)        ","b91394d0":">Of course it's Avatar, Avatar has 2,781,505,847 Dollars as total revenue.","314e6afb":"Let's visualize the genres","5453c5cb":"<a id='conclusions'><\/a>\n## Conclusions\n\n\n> ##### So the conclusion is, that if we want to create movies which can be in the top 100 highest rated movies then\n> The average budget of the movies can be arround 14,185,571.58 Dollars\n>\n> The average runtime of the movies can be arround 1 hour and 42 minutes and 41 seconds.\n>\n> The Top 10 Genres we should focus on should be Drama, Documentary, Music, Comedy, Crime, Thriller, Animation, Science Fiction, Family and Adventure.\n>\n> The Top 6 cast we should focus on should be : Louis Tomlinson Niall Horan, Liam Payne, Bill Burr, David Tennant and Harry Styles\n>\n> The average revenue of the movies will be arround 81,859,012.63 Dollars \n>\n> ##### The limitations associated with the conclusions are:\n>We have used TMBD Movies dataset for our analysis and worked with popularity, revenue and runtime. Our analysis is limited to only the provided dataset. For example, the dataset does not confirm that every release of every director is listed.\n>\n>There is no normalization or exchange rate or currency conversion is considered during this analysis and our analysis is limited to the numerical values of revenue.\n>\n>Dropping missing or Null values from variables of our interest might skew our analysis and could show unintentional bias towards the relationship being analyzed. etc.","1e45aecd":"I don't think it's a right idea to have a 0 runtime in the dataset","5b859942":"### Research Question 2.1  (What is the highest rated movie?)","74ab815f":">We have here 10866 rows and 21 columns.","d918a8d2":"First I will get the total count for every genre","fb3d8669":"Now let's convert the release date into more proper formula","2acaee0d":"<a id='wrangling'><\/a>\n## Data Wrangling\n>Here in this section we will see how the data is represented, what will we use in the data analysis process and what we won't.\n### General Properties","ddd657dd":">So the average budget of the movies is 14,185,571.58 Dollars","648cf555":"### Research Question 2.5  (Which are the successfull genres?)","0cf1ab15":"As you can see the more the movie's budget is, the more profit it achieves","68e91747":"Loading the dataset and representing the first five rows","d2878842":"### Research Question 2  (Questions that will be answered based on the 100 rated movies)","045ef3e5":"Getting the average value for the revenue","5a083ee4":"Now let's visualize the relation between budget and profit ","7a3591ca":"Over 50% of the top 100 movies are rated with 8.0","64ee3c1e":"I will just add a profits column for the data set","e7feded8":">Robert De Niro lead the way here.","c1575bd8":"We will get the highest profit by sorting the profit descendingly and the opposite to get the lowest","96fd47c0":"I will plot the same graph as the last one but now with revenue and profit","6b87db45":">The movie that has the shortest runtime is Batman: Strange Days with only 3 minutes runtime !"}}