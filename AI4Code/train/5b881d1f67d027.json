{"cell_type":{"7ed21e9f":"code","25cecf1a":"code","70d1843d":"code","9dd2b33b":"code","313160dc":"code","f3eb68ec":"code","d4bb27b5":"code","674e365b":"markdown","6fc47d2d":"markdown","12546c53":"markdown","2d518b62":"markdown"},"source":{"7ed21e9f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","25cecf1a":"import  tarfile\ntar = tarfile.open(\"..\/input\/catfacesdatasetfferlito\/dataset-part1.tar\")\ntar.getmembers()","70d1843d":"#Code by StackOverflow Answered by ThorSummoner - answered Apr 26 '14 at 7:35\n#https:\/\/stackoverflow.com\/questions\/2018512\/reading-tar-file-contents-without-untarring-it-in-python-script\n\n#!\/usr\/bin\/env python3\n\nimport tarfile\nimport base64\nimport textwrap\nimport random\n\n# note, indexing a tar file requires reading it completely once\n# if we want to do anything after indexing it, it must be a file\n# that can be seeked (not a stream), so here we open a file we\n# can seek\nmy_tarfile = tarfile.open('..\/input\/catfacesdatasetfferlito\/dataset-part3.tar')\n\n\n# tarfile.getmembers is similar to os.stat kind of, it will\n# give you the member names (i.name) as well as TarInfo attributes:\n#\n# chksum,devmajor,devminor,gid,gname,linkname,linkpath,\n# mode,mtime,name,offset,offset_data,path,pax_headers,\n# size,sparse,tarfile,type,uid,uname\n#\n# here we use a dictionary comprehension to index all TarInfo\n# members by the member name\nindex = {i.name: i for i in my_tarfile.getmembers()}\n\nprint(index.keys())\n\n# pick your member\n# note: if you can pick your member before indexing the tar file,\n# you don't need to index it to read that file, you can directly\n# my_tarfile.extractfile(name)\n# or my_tarfile.getmember(name)\n\n# pick your filename from the index dynamically\nmy_file_name = random.choice(index.keys())\n\nmy_file_tarinfo = index[my_file_name]\nmy_file_size = my_file_tarinfo.size\nmy_file_buf = my_tarfile.extractfile( \n    my_file_name\n    # or my_file_tarinfo\n)\n\nprint('file_name: {}'.format(my_file_name))\nprint('file_size: {}'.format(my_file_size))\nprint('----- BEGIN FILE BASE64 -----')\nprint(\n    textwrap.fill(\n        base64.b64encode(\n            my_file_buf.read()\n        ).decode(),\n        72\n    )\n)\nprint('----- END FILE BASE64 -----')","9dd2b33b":"import tarfile\nimport os\nimport glob\n\npath = glob.glob(\"..\/input\/catfacesdatasetfferlito\/dataset-part3.tar\")\n\nfor file in path:\n    t = tarfile.open(file, 'r')\n    for member in t.getmembers():\n        if \".jpg\" in member.name:\n            t.extract(member, \"dataset-part3\/cat_23313.png\")\n        elif \".png\" in member.name:\n            t.extract(member, \"dataset-part3\/cat_23313.png\")","313160dc":"from PIL import Image","f3eb68ec":"#Code by Ritwek Khosla https:\/\/www.kaggle.com\/vanvalkenberg\/hubble-telescope-images\/comments\n\ndef display_Image(path, save):\n    img1 = Image.open(path)\n    display(img1)\n    if save == True:\n        img1.save('cat.png')","d4bb27b5":"Image.open(\"..\/input\/catfacesdatasetfferlito\/dataset-part3\/cat_26051.png\")","674e365b":"#Errno 2 No such file or directory: '..\/input\/catfacesdatasetfferlito\/dataset-part3\/cat_26051.png'\n\nI'm not able to see\/display the images. I could only extract them from the tar files.","6fc47d2d":"![](https:\/\/static.thegeekstuff.com\/wp-content\/uploads\/2010\/04\/tar-command-examples-300x257.png)thegeekstuff.com","12546c53":"#Index, read, dynamic extra a tar file","2d518b62":"#Nothing happened after the snippet above."}}