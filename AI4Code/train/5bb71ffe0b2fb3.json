{"cell_type":{"f667f1d5":"code","7db28784":"code","75835a29":"code","56a98250":"code","91082532":"code","1f77437d":"code","1a25cc43":"code","7101670e":"code","8e42ac6f":"code","800efc00":"code","939bc6e2":"code","a04a863c":"code","081239b6":"code","2c95068f":"code","688cd44a":"code","48dfd61e":"code","ffd1a0c7":"code","cbd6842d":"code","2ed219ba":"code","0df04d10":"code","306c24b3":"code","e62f9192":"code","35e386a8":"code","84c54319":"code","cc9708ae":"code","7d9dfaa4":"code","7f19646d":"code","f61f66bf":"code","0f284b07":"code","e700c487":"code","38537bab":"code","d19e4f50":"code","9340a932":"code","da783694":"code","611d0ce2":"code","63211675":"code","1bedc59f":"code","7922da1f":"code","0535c8be":"code","673422f8":"code","36e000ef":"code","a97bed3d":"code","792aa9ac":"code","6d4dad45":"code","3bad7154":"code","0cf9a2b7":"code","22ab01be":"code","a7b808ef":"code","e66af1e8":"code","bd3a35c6":"code","4d948f8d":"code","1761e5ba":"code","e7979294":"code","10346935":"code","532c66d1":"code","674f31eb":"code","2e4ac379":"code","a0b85804":"code","22d3cad3":"code","ffb7db95":"code","f49515ee":"code","c5f23c50":"code","8f9c4498":"code","06cd7300":"code","243f1509":"code","1420a009":"code","1f5496b1":"code","454cb51a":"code","11e4bbc0":"code","ac589ad2":"code","f529ae48":"code","4db5f27e":"code","b8d6c777":"code","e3626bda":"code","6c272eb6":"code","59ca9783":"code","f43bd06a":"code","a3c9bc7d":"code","2a57da32":"code","f04af39f":"code","72157eaa":"code","b071c075":"code","e5a602ec":"code","6da0a019":"code","2d2d7b1f":"markdown","42ca3e74":"markdown","a9e77482":"markdown","142824b5":"markdown","254c01ec":"markdown","edde4762":"markdown","3fff3e0e":"markdown","af91097d":"markdown","742760d6":"markdown","72e5f40f":"markdown","a9b5154d":"markdown","ced67124":"markdown","31c3978d":"markdown","119f7efe":"markdown","0447cbcc":"markdown","05c6d644":"markdown","97670c70":"markdown","242e4235":"markdown","986fa04b":"markdown","a340cb96":"markdown","980eae83":"markdown","08eed4aa":"markdown","50778b2c":"markdown","c5be7ed3":"markdown","ea44cc78":"markdown","f3185034":"markdown","fa1a56c6":"markdown","3fb83a91":"markdown","0a00c66f":"markdown","15137564":"markdown","87c3296e":"markdown","68790700":"markdown","a875e135":"markdown","61358181":"markdown","5d13abab":"markdown","a78f6fe9":"markdown","3791e98c":"markdown","c8aa1a00":"markdown","05cb6650":"markdown","045d7763":"markdown","f9f780b4":"markdown","9bba8432":"markdown","290c3269":"markdown","1ca78e0b":"markdown","72abaad3":"markdown","fd41e26a":"markdown","350e20fe":"markdown","bb2170f0":"markdown","8e9d406d":"markdown","1ad94eab":"markdown","ff532594":"markdown","02bb431b":"markdown","03a1e4bf":"markdown","4e4c5587":"markdown","b0cd9105":"markdown","5a37db4d":"markdown","36633646":"markdown","ec8b36f8":"markdown","6095c747":"markdown","4839311a":"markdown","820b44e3":"markdown","27f27834":"markdown","7b73a9a7":"markdown","f70d0c54":"markdown","d10147ea":"markdown","83482e69":"markdown","df7c8133":"markdown","e57f4e32":"markdown","4e45b1b4":"markdown","d7f8da66":"markdown","d04c89bf":"markdown","6128a1a0":"markdown","c3a4b338":"markdown"},"source":{"f667f1d5":"%%javascript\nIPython.OutputArea.prototype._should_scroll = function(lines) {\n    return false;\n}\n","7db28784":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt \n\nimport seaborn as sns \nsns.set_style('whitegrid') \n\nfrom sklearn.cluster import KMeans\nfrom scipy.cluster.hierarchy import linkage\nfrom scipy.cluster.hierarchy import dendrogram\nfrom scipy.cluster.hierarchy import cut_tree\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\n!pip install tabulate\n!jt -f roboto -fs 12 -cellw 100%\n\nfrom tabulate import tabulate\n\nfrom bokeh.models import ColumnDataSource, HoverTool\nfrom bokeh.plotting import figure,show,output_notebook,reset_output\nfrom bokeh.transform import factor_cmap\nfrom bokeh.layouts import row\noutput_notebook()","75835a29":"# to table print  a dataframe \ndef tab(ser) : \n    print(tabulate(pd.DataFrame(ser), headers='keys', tablefmt='psql'))","56a98250":"countries = pd.read_csv('..\/input\/country-data-test-2020\/Country-data.csv')\ntab(countries.head())","91082532":"# conversion to actual values\ncountries['exports'] = 0.01 * countries['exports'] * countries['gdpp']\ncountries['imports'] = 0.01 * countries['imports'] * countries['gdpp']\ncountries['health'] = 0.01 * countries['health'] * countries['gdpp']","1f77437d":"tab(countries.info())","1a25cc43":"# taking a closer look to see if any country is duplicated \ncountries[countries.duplicated(subset=['country'])].index.values","7101670e":"# exports, health, imports are a percentage of GDPP . Checking if there are any anomalies\ncondition1 = countries['health'] < countries['gdpp']\ncondition2 = countries['imports'] < countries['gdpp']\ncondition3 = countries['exports'] < countries['gdpp']\n\n# countries which don't satisfy the above conditions\nindex = countries[~(condition1 & condition2 & condition3)].index.values\ncountries.loc[index]","8e42ac6f":"# child mortality rate is calculated for 1000 live births. Let's check if its above 1000 \ncountries[countries['child_mort'] > 1000].index.values","800efc00":"# summary statistics\ntab(countries.describe())","939bc6e2":"# let's look at quantiles are to take a closer look at outliers \ntab(countries.quantile(np.linspace(0.75,1,25)).reset_index())","a04a863c":"# function to perform outlier analysis \ndef outlier_analysis(column) : \n    '''\n    This function prints a violin plot and box plot of the column provided.\n    It also prints the five major quantiles, lower oultier threshold value, upper outlier threshold value, tables of countries which are outliers \n    Output : lower outlier threshold condition, upper outlier threshold condition\n    Input : column name \n    Side effects : Violin plot, box plot, outlier tables\n    '''\n    plt.figure(figsize=[12,6])\n    plt.subplot(121)\n    plt.title('Violin Plot of '+column)\n    sns.violinplot(countries[column])\n\n    plt.subplot(122)\n    plt.title('Box Plot of '+column)\n    sns.boxplot(countries[column])\n\n    print('Quantiles\\n')\n    print(tab(countries[column].quantile([.1,0.25,.50,0.75,0.99])))\n\n    lower_outlier_threshold = countries[column].quantile(0.01)\n    upper_outlier_threshold = countries[column].quantile(0.99)\n\n    print('\\n\\nLOWER OUTLIER THRESHOLD [1st PERCENTILE] FOR' ,column,': ',lower_outlier_threshold)\n    l_condition = countries[column] < lower_outlier_threshold \n    l_outliers = countries[l_condition][['country',column]].sort_values(by=column)\n   \n    if l_outliers.shape[0] : \n        print('\\n\\nLower Outliers : ')\n        tab(l_outliers)\n    else : \n        print('No lower outliers found in ' + column)\n\n    print('\\n\\nUPPER OUTLIER THRESHOLD [99th PERCENTILE] FOR' ,column,': ',upper_outlier_threshold)\n    u_condition = countries[column] > upper_outlier_threshold \n    u_outliers = countries[u_condition][['country',column]].sort_values(by=column)\n\n    if u_outliers.shape[0] : \n        print('\\n\\nUpper Outliers : ')\n        tab(u_outliers)\n        print('\\n\\n')\n\n    return l_condition, u_condition\n","081239b6":"# Countries with oultiers in child mortality \ncolumn = 'child_mort'\nl_condition, u_condition = outlier_analysis(column)","2c95068f":"# Removing countries with lower outliers in `child_mort` \ncountries.loc[l_condition, column] = countries[column].quantile(0.01)","688cd44a":"# LIFE EXPECTANCY \ncolumn = 'life_expec'\nl_condition, u_condition = outlier_analysis(column)\n","48dfd61e":"# Capping upper outliers in life expectancy \ncountries.loc[u_condition, column] = countries[column].quantile(0.99)","ffd1a0c7":"column = 'total_fer'\nl_condition, u_condition = outlier_analysis(column)","cbd6842d":"# capping lower outliers in fertility \ncountries.loc[l_condition,column] = countries[column].quantile(.1)","2ed219ba":"# health spending per capita \ncolumn = 'health'\nl_condition, u_condition = outlier_analysis(column)","0df04d10":"# removing upper outliers in health spending \ncountries.loc[u_condition,column] = countries[column].quantile(0.99)","306c24b3":"# GDP per capita \ncolumn = 'gdpp'\nl_condition, u_condition = outlier_analysis(column)","e62f9192":"# capping upper outliers in gdpp\ncountries.loc[u_condition, column] = countries[column].quantile(.99)","35e386a8":"column = 'inflation'\nl_condition, u_condition = outlier_analysis(column)","84c54319":"# capping lower outliers in inflation\ncountries.loc[l_condition, column] = countries[column].quantile(0.01)","cc9708ae":"# income \ncolumn = 'income'\nl_condition, u_condition = outlier_analysis(column)","7d9dfaa4":"column = 'imports'\nl_condition, u_condition = outlier_analysis(column)","7f19646d":"column = 'exports'\nl_condition, u_condition = outlier_analysis(column)","f61f66bf":"# trade deficit\ncountries['trade_deficit'] = countries['imports'] - countries['exports']\ncolumn = 'trade_deficit'\nl_condition, u_condition = outlier_analysis(column)","0f284b07":"# capping lower outliers of trade_deficit\ncountries.loc[l_condition,column] = countries[column].quantile(0.01)","e700c487":"# Pair Plots of all variables \nsns.pairplot(countries[['child_mort', 'exports', 'health', 'imports', 'income',\n       'inflation', 'life_expec', 'total_fer', 'gdpp']]);","38537bab":"## bivariate analysis boken function\ndef bivariate_analysis(x_var,y_var,dataframe=countries) : \n    # Bivariate Plots with tooltips : country,x,y \n\n    dataframe = dataframe.copy()\n    source =ColumnDataSource(dataframe)\n\n    # pallete = [\"rgba(38, 70, 83, 1)\", 'rgba(42, 157, 143, 1)', \"rgba(233, 196, 106, 1)\", \"rgba(244, 162, 97, 1)\", \"rgba(231, 111, 81, 1)\", '#009cc7']\n    pallete = [\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\",\"#38895e\",'rgba(42, 157, 143, 1)']\n\n    # tooltips\n    tooltips1 = [\n    (\"Country\", \"@country\"),\n    (x_var,'@'+x_var),\n    (y_var,'@'+y_var)\n    ]\n\n    p = figure(plot_width=420, plot_height=400,title='Scatter Plot : '+ x_var+' vs '+y_var, tooltips=tooltips1)\n\n    p.scatter(x=x_var,y=y_var, fill_alpha=0.6, size=8, source=source, fill_color = \"#3498db\")\n    p.xaxis.axis_label = x_var\n    p.yaxis.axis_label = y_var\n    reset_output()\n    output_notebook()\n    show(p)","d19e4f50":"# CHILD MORTALITY vs LIFE EXPECTANCY \n\nx='child_mort'\ny = 'life_expec'\nbivariate_analysis(x,y)","9340a932":"# Countries with high child mortality and low life expectancy \nlife_expect_cond = countries['life_expec'] < 60 \nchild_mort_cond = countries['child_mort'] > 100\n\nprint('Countries with low life expectancy and low Child Mortality Rate')\ntab(countries[life_expect_cond & child_mort_cond][['country','child_mort','life_expec']].sort_values(by=['child_mort','life_expec'], ascending=[False,True])[:10])","da783694":"# CHILD MORTALITY vs TOTAL FERTILITY \n\nx='child_mort'\ny = 'total_fer'\nbivariate_analysis(x,y)","611d0ce2":"# countries with high fertility and child mortality rate \ntotal_fer_cond = countries['total_fer'] > 6 \nchild_mort_cond = countries['child_mort'] > 100\n\nprint('Countries with High Total Fertility and Child Mortality Rate')\ntab(countries[total_fer_cond & child_mort_cond][['country','total_fer','child_mort']].sort_values(by=['child_mort','total_fer'], ascending=[False,False]))","63211675":"# Fertility in countries with extremely high mortality rate\nchild_mort_cond = countries['child_mort'] > 150\n\nprint('Countries with High Total Fertility and Child Mortality Rate')\ntab(countries[child_mort_cond][['country','total_fer','child_mort']].sort_values(by=['child_mort','total_fer'], ascending=[False,False]))","1bedc59f":"# GDP per capita vs Health Spending \ny='health'\nx= 'gdpp'\nbivariate_analysis(x,y)","7922da1f":"# Countries with Low GDPP and health spending might need aid \nhealth_cond = countries['health'] < 200\ngdpp_cond = countries['gdpp'] < 2500\nprint('Countries with Low GDP and low Health Spending')\ntab(countries[health_cond & gdpp_cond][['country','health','gdpp']].sort_values(by=['health','gdpp'], ascending=[True,True])[:10])\n","0535c8be":"# IMPORTS vs GDPP\ny='imports'\nx= 'gdpp'\nbivariate_analysis(x,y)","673422f8":"# Exports vs GDPP\ny='exports'\nx= 'gdpp'\nbivariate_analysis(x,y)","36e000ef":"y='trade_deficit'\nx= 'gdpp'\nbivariate_analysis(x,y)","a97bed3d":"# Countries with positive high trade deficit and low GDP per capita\ntr_deficit_cond = countries['trade_deficit'] > 1000\ngdpp_cond = countries['gdpp'] < 10000\nprint('Countries with high Trade Deficit and Low GDP')\ntab(countries[tr_deficit_cond & gdpp_cond][['country','gdpp','trade_deficit']].sort_values(by=['trade_deficit','gdpp'], ascending=[True,False])[:10])","792aa9ac":"# Income vs Inflation\nx = 'inflation'\ny = 'income'\nbivariate_analysis(x,y)","6d4dad45":"# Low Income - High inflation countries might require aid \ninflation_cond = countries['inflation'] > 20\nincome_condition = countries['income'] < 10000\nprint('Countries with high inflation and low income')\ntab(countries[inflation_cond & income_condition][['country','inflation','income']].sort_values(by=['inflation','income'], ascending=[False, True]))","3bad7154":"x = 'gdpp'\ny = 'inflation'\nbivariate_analysis(x,y)","0cf9a2b7":"plt.figure(figsize=[12,12])\nsns.heatmap(countries.corr(),annot=True,cmap='YlGnBu', center=0)","22ab01be":"# hopkins test function\nfrom sklearn.neighbors import NearestNeighbors\nfrom random import sample \nfrom numpy.random import uniform\nfrom math import isnan \n\ndef hopkins(X):\n    d = X.shape[1]\n    #d = len(vars) # columns\n    n = len(X) # rows\n    m = int(0.1 * n) \n    nbrs = NearestNeighbors(n_neighbors=1).fit(X.values)\n \n    rand_X = sample(range(0, n, 1), m)\n \n    ujd = []\n    wjd = []\n    for j in range(0, m):\n        u_dist, _ = nbrs.kneighbors(uniform(np.amin(X,axis=0),np.amax(X,axis=0),d).reshape(1, -1), 2, return_distance=True)\n        ujd.append(u_dist[0][1])\n        w_dist, _ = nbrs.kneighbors(X.iloc[rand_X[j]].values.reshape(1, -1), 2, return_distance=True)\n        wjd.append(w_dist[0][1])\n \n    H = sum(ujd) \/ (sum(ujd) + sum(wjd))\n    if isnan(H):\n        print(ujd, wjd)\n        H = 0\n \n    return H\n","a7b808ef":"## Data used for Clustering \ncolumns_for_clustering = ['child_mort', 'exports', 'health', 'imports', 'income',\n       'inflation', 'life_expec', 'total_fer', 'gdpp', 'trade_deficit']\nclustering_data = countries[columns_for_clustering].copy()","e66af1e8":"# Hopkin's test \nn = 10\nhopkins_statistic = []\nfor i in range(n) : \n    hopkins_statistic.append(hopkins(clustering_data))\nprint('Min Hopkin\\'s Statistic in ',n,'iterations :', min(hopkins_statistic))\nprint('Max Hopkin\\'s Statistic in ',n,'iterations :', max(hopkins_statistic))\nprint('Mean Hopkin\\'s Statistic in ',n,'iterations :', np.mean(hopkins_statistic))\nprint('Std deviation of Hopkin\\'s Statistic in ',n,'iterations :', np.std(hopkins_statistic))","bd3a35c6":"from sklearn.preprocessing import StandardScaler \nscaler = StandardScaler()\nclustering_data[columns_for_clustering] = scaler.fit_transform(clustering_data[columns_for_clustering])\n\ntab(clustering_data.describe())\n\n\n","4d948f8d":"# Plotting Elbow curve of Sum of Squared distances of points in each cluster from the centroid of the nearest cluster.\nssd = []\nrange_n_clusters = np.arange(2,9)\nfor num_clusters in range_n_clusters : \n    kmeans = KMeans(n_clusters=num_clusters)\n    kmeans.fit(clustering_data)\n    ssd.append(kmeans.inertia_)\nplt.plot(range_n_clusters,ssd)\nplt.title('Elbow Curve');\nplt.xlabel('No of clusters');\nplt.ylabel('SSD');","1761e5ba":"from sklearn.metrics import silhouette_score \n\nno_of_clusters = np.arange(2,10)\nscore = [] \n\nfor n_cluster in no_of_clusters : \n    kmeans = KMeans(n_clusters=n_cluster, init='k-means++')\n    kmeans = kmeans.fit(clustering_data)\n    labels = kmeans.labels_\n    score.append(silhouette_score(clustering_data,labels))\n    \n\nplt.title('Silhouette Analysis Plot')\nplt.xlabel('No of Clusters')\nplt.ylabel('Silhouette Score') \nplt.plot(no_of_clusters, score);\nprint(score)\n","e7979294":"# k - means clustering algo with k = 4\nn_cluster = 4\nkmeans = KMeans(n_clusters=n_cluster, init='k-means++', random_state = 100)\nkmeans = kmeans.fit(clustering_data)\nlabels = kmeans.labels_\ncountries['k_means_cluster_id'] = labels","10346935":"# Countries in each Cluster - k means \nfor cluster_no in range(n_cluster) : \n    condition = countries['k_means_cluster_id'] == cluster_no \n    print( 'CLUSTER #',cluster_no,'\\n',countries.loc[condition,'country'].values,'\\n\\n')","532c66d1":"# Agglomerative Single Linkage \nmergings = linkage(clustering_data,method='single',metric='euclidean')\nplt.figure(figsize=[16,10])\nplt.title('Single Linkage - Hierarchical Clustering')\ndendrogram(mergings);","674f31eb":"# Complete Linkage \nmergings = linkage(clustering_data,method='complete',metric='euclidean')\nplt.figure(figsize=[16,10])\nplt.title('Complete Linkage - Hierarchical Clustering')\ndendrogram(mergings);","2e4ac379":"# Using Complete Linkage, cutting the tree for 6 clusters \nn_clusters = 6\ncluster_labels = cut_tree(mergings, n_clusters=n_clusters)\ncountries['hac_complete_cluster_id'] = cluster_labels","a0b85804":"# Countries in each Cluster - Hierarchical - Complete Linkage\nfor cluster_no in range(n_clusters) : \n    condition = countries['hac_complete_cluster_id'] == cluster_no \n    print( 'CLUSTER #',cluster_no,'\\n',countries.loc[condition,'country'].values,'\\n\\n')","22d3cad3":"# Average Linkage \nmergings = linkage(clustering_data,method='average',metric='euclidean')\nplt.figure(figsize=[16,10])\nplt.title('Average Linkage - Hierarchical Clustering')\ndendrogram(mergings);","ffb7db95":"# Using Average Linkage, cutting the tree for 6 clusters \nn_clusters = 6\ncluster_labels = cut_tree(mergings, n_clusters=n_clusters)\ncountries['hac_average_cluster_id'] = cluster_labels","f49515ee":"# Countries in each Cluster - Hierarchical - average Linkage\nfor cluster_no in range(n_clusters) : \n    condition = countries['hac_average_cluster_id'] == cluster_no \n    print( 'CLUSTER #',cluster_no,'\\n',countries.loc[condition,'country'].values,'\\n\\n')","c5f23c50":"## HAC Clustering : Dissimilarity Measure : Correlation\nhac_correlation_mergings = linkage(clustering_data,method='complete', metric='correlation')\nplt.figure(figsize=[12,12])\nplt.title('Hierarchical Clustering : Complete Linkage, Correlation Measure')\ndendrogram(hac_correlation_mergings);","8f9c4498":"n_clusters = 6\nlabels = cut_tree(hac_correlation_mergings, n_clusters=n_clusters)\ncountries['hac_correlation_cluster_id'] = labels","06cd7300":"# HAC clustering : Correlation measure : complete distance : Countries in each cluster \n\nfor cluster_no in range(n_clusters) : \n    condition = countries['hac_correlation_cluster_id'] == cluster_no \n    print( 'CLUSTER #',cluster_no,'\\n',countries.loc[condition,'country'].values,'\\n\\n')","243f1509":"# Performing k-means using results of Hierarchical clustering\n# 1. No of clusters of Hierarchical Clustering\n# 2. Centroids obtainded from Hierarchical Clustering as the initialization points. \nclustering_data['k_means_cluster_id'] = countries['k_means_cluster_id']\nclustering_data['hac_correlation_cluster_id'] = countries['hac_correlation_cluster_id']\ncolumns = columns_for_clustering.copy()\ncolumns.extend(['hac_correlation_cluster_id'])\ncentroids = clustering_data[columns].groupby(['hac_correlation_cluster_id']).mean()\nn_clusters = 6\nmixed_kmeans = KMeans(n_clusters=6 , init = centroids.values, random_state=100)\nresults = mixed_kmeans.fit(clustering_data[columns_for_clustering])","1420a009":"countries['mixed_cluster_id'] = results.labels_","1f5496b1":"# Mixed clustering : Euclidean measure : k-means : Countries in each cluster \n\nfor cluster_no in range(n_clusters) : \n    condition = countries['mixed_cluster_id'] == cluster_no \n    print( 'CLUSTER #',cluster_no,'\\n',countries.loc[condition,'country'].values,'\\n\\n')","454cb51a":"# silhouette scores of all the methods\nprint('Mixed Clustering',silhouette_score(clustering_data[columns_for_clustering],countries['mixed_cluster_id']))\nprint('K-means Clustering',silhouette_score(clustering_data[columns_for_clustering],countries['k_means_cluster_id']))\nprint('Hierarchical Correlation Clustering',silhouette_score(clustering_data[columns_for_clustering],countries['hac_correlation_cluster_id']))\n\n","11e4bbc0":"# Clustering Profling -  Plots using Bokeh\n\ncluster_id_column = 'hierarchical-c-link-cluster-id'\ntitle=\"Hierarchical Clustering\"\n\ndef cluster_analysis_plot(cluster_id_column,title,x_var='income',y_var='child_mort',z_var='gdpp',dataframe=countries) : \n    # Plots \n    # works upto 6 clusters \n\n    dataframe = dataframe.copy()\n    dataframe[cluster_id_column] = dataframe[cluster_id_column].astype('str')\n    source =ColumnDataSource(dataframe)\n\n    cluster_ids = sorted(dataframe[cluster_id_column].unique())\n\n    # pallete = [\"rgba(38, 70, 83, 1)\", 'rgba(42, 157, 143, 1)', \"rgba(233, 196, 106, 1)\", \"rgba(244, 162, 97, 1)\", \"rgba(231, 111, 81, 1)\", '#009cc7']\n    pallete = [\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\",\"#38895e\",'rgba(42, 157, 143, 1)']\n\n    mapper = factor_cmap(cluster_id_column,palette=pallete[:len(cluster_ids)], factors = cluster_ids)\n\n    # plot 1\n    tooltips1 = [\n    (\"Country\", \"@country\"),\n    (z_var,'@'+z_var),\n    (x_var,'@'+x_var), \n    ('Cluster', '@'+cluster_id_column)\n    ]\n\n    p = figure(plot_width=420, plot_height=400,title=title+ ' : '+ z_var+' vs '+x_var, tooltips=tooltips1, toolbar_location=None)\n    for num,index in enumerate(cluster_ids) : \n        condition = dataframe[cluster_id_column] == index\n        source = dataframe[condition]\n        p.scatter(x=z_var,y=x_var, fill_alpha=0.6, size=8, source=source, fill_color = pallete[num] , muted_alpha=0.1, legend_label=index)\n    p.xaxis.axis_label = z_var\n    p.yaxis.axis_label = x_var\n    p.legend.click_policy=\"mute\"\n    # ----------------------------\n    #Plot 2\n\n    tooltips2 = [\n    (\"Country\", \"@country\"),\n    (z_var,'@'+z_var),\n    (y_var,'@'+y_var), \n    ('Cluster', '@'+cluster_id_column)\n    ]\n\n    \n    q = figure(plot_width=420, plot_height=400,title=title+ ' : '+ z_var+' vs '+y_var, tooltips=tooltips2, toolbar_location=None)\n\n    for num,index in enumerate(cluster_ids) : \n        condition = dataframe[cluster_id_column] == index\n        source = dataframe[condition]\n        q.scatter(x=z_var,y=y_var, fill_alpha=0.6, size=8, source=source, fill_color = pallete[num] , muted_alpha=0.1,  legend_label=index)\n    q.xaxis.axis_label = z_var\n    q.yaxis.axis_label = y_var\n    q.legend.click_policy=\"mute\"\n\n    # ----------------------------\n    #Plot 3\n\n    tooltips3 = [\n    (\"Country\", \"@country\"),\n    (x_var,'@'+x_var),\n    (y_var,'@'+y_var), \n    ('Cluster', '@'+cluster_id_column)\n    ]\n\n    r = figure(plot_width=420, plot_height=400,title=title+ ' : '+ x_var+' vs '+y_var, tooltips=tooltips3, toolbar_location=None)\n\n    for num,index in enumerate(cluster_ids) : \n        condition = dataframe[cluster_id_column] == index\n        source = dataframe[condition]\n        r.scatter(x=x_var,y=y_var, fill_alpha=0.6, size=8, source=source, fill_color = pallete[num] , legend_label=index, muted_alpha=0.1 )\n\n    r.xaxis.axis_label = x_var\n    r.yaxis.axis_label = y_var\n    r.legend.click_policy=\"mute\"\n\n\n    show(row(p,q,r))","ac589ad2":"# Cluster Profiling for k-means with 4 clusters \n# hover for country names and x, y values , cluster no \n# Click on legend to selectively view clusters\ncluster_analysis_plot('k_means_cluster_id','k-means clusters')","f529ae48":"# Comparing k-means Clusters using mean values of features \nclustering_data[['child_mort','income','gdpp','k_means_cluster_id']].groupby('k_means_cluster_id').mean().plot(kind='barh')\nplt.title('Comparison of Cluster Means for K-means results');","4db5f27e":"plot_columns = ['child_mort','income','gdpp']\n\nfor idx,column in enumerate(plot_columns) : \n    plt.suptitle('Comparison of Clusters Characteristics for K-means');\n    plt.subplot('13'+str(idx+1))\n    sns.boxplot(y=column, x='k_means_cluster_id',data=clustering_data)\n","b8d6c777":"plt.figure(figsize=[8,8])\npd.plotting.parallel_coordinates(clustering_data, 'k_means_cluster_id', color=[\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\"]);\nplt.title('Parallel Coordinate Plot for K-means')\nplt.xticks(rotation=45);","e3626bda":"# Countries in cluster with area of interest \ncondition = countries['k_means_cluster_id'] == 1\ncountries.loc[condition,['country','child_mort','income','gdpp']].sort_values(by=['child_mort','income','gdpp'], ascending=[False,True,True])[:5]","6c272eb6":"# HAC : Complete linkage, Correlation based distance :  cluster analysis plot\n# hover for country names and x, y values , cluster no \n# Click on legend to selectively view clusters \ncluster_analysis_plot('hac_correlation_cluster_id','HAC CORRELATION CLUSTERS')","59ca9783":"# Comparing Hierarchical Clusters using mean values of features \nclustering_data['hac_correlation_cluster_id'] = countries['hac_correlation_cluster_id']\nclustering_data[['child_mort','income','gdpp','hac_correlation_cluster_id']].groupby('hac_correlation_cluster_id').mean().plot(kind='barh');\nplt.title('Comparison of Cluster Means for Hierarchical Clustering');","f43bd06a":"# box plots\nplot_columns = ['child_mort','income','gdpp']\n\nfor idx,column in enumerate(plot_columns) : \n    plt.suptitle('Comparison of Clusters Characteristics for Hierarchical Clustering');\n    plt.subplot('13'+str(idx+1))\n    sns.boxplot(y=column, x='hac_correlation_cluster_id',data=clustering_data)","a3c9bc7d":"# Parallel Coordinates plot for Hierarchical clustering with correlation measure and complet linkage\nplt.figure(figsize=[8,8])\npd.plotting.parallel_coordinates(clustering_data, 'hac_correlation_cluster_id', color=[\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\",\"#38895e\",'rgba(42, 157, 143, 1)']);\nplt.title('Parallel Coordinate Plot for HAC with Correlation Measure and Complete Linkage')\nplt.xticks(rotation=45);","2a57da32":"# Countries in cluster with area of interest \ncondition = countries['hac_correlation_cluster_id'] == 0\ncountries.loc[condition,['country','child_mort','income','gdpp']].sort_values(by=['child_mort','income','gdpp'], ascending=[False,True,True])[:5]","f04af39f":"cluster_analysis_plot('mixed_cluster_id','MIXED K-MEANS CLUSTERS')","72157eaa":"# Comparing MIXED k-means Clusters using mean values of features \nclustering_data['mixed_cluster_id'] = countries['mixed_cluster_id']\nclustering_data[['child_mort','income','gdpp','mixed_cluster_id']].groupby('mixed_cluster_id').mean().plot(kind='barh')\nplt.title('Comparison of cluster means for Mixed Clustering');","b071c075":"# box plots\nplot_columns = ['child_mort','income','gdpp']\n\nfor idx,column in enumerate(plot_columns) : \n    plt.suptitle('Comparison of Clusters Characteristics for Mixed Clustering');\n    plt.subplot('13'+str(idx+1))\n    sns.boxplot(y=column, x='mixed_cluster_id',data=clustering_data)","e5a602ec":"# parallel coordinate plot\nplt.figure(figsize=[8,8])\npd.plotting.parallel_coordinates(clustering_data, 'mixed_cluster_id', color=[\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#e74c3c\", \"#34495e\",\"#38895e\",'rgba(42, 157, 143, 1)']);\nplt.title('Parallel Coordinate Plot for Mixed Clustering');\nplt.xticks(rotation=45);","6da0a019":"# Countries in cluster with area of interest \ncondition = countries['mixed_cluster_id'] == 0\ncountries.loc[condition,['country','child_mort','income','gdpp']].sort_values(by=['child_mort','income','gdpp'], ascending=[False,True,True])[:5]","2d2d7b1f":"#### Health Spending","42ca3e74":"<h1>Table of Contents<span class=\"tocSkip\"><\/span><\/h1>\n<div class=\"toc\"><ul class=\"toc-item\"><li><span><a href=\"#Problem-Statement\" data-toc-modified-id=\"Problem-Statement-1\"><span class=\"toc-item-num\">1&nbsp;&nbsp;<\/span>Problem Statement<\/a><\/span><\/li><li><span><a href=\"#Analysis-Approach-&amp;-Conclusions\" data-toc-modified-id=\"Analysis-Approach-&amp;-Conclusions-2\"><span class=\"toc-item-num\">2&nbsp;&nbsp;<\/span>Analysis Approach &amp; Conclusions<\/a><\/span><\/li><li><span><a href=\"#Importing-data\" data-toc-modified-id=\"Importing-data-3\"><span class=\"toc-item-num\">3&nbsp;&nbsp;<\/span>Importing data<\/a><\/span><\/li><li><span><a href=\"#Data-Quality-Checks\" data-toc-modified-id=\"Data-Quality-Checks-4\"><span class=\"toc-item-num\">4&nbsp;&nbsp;<\/span>Data Quality Checks<\/a><\/span><\/li><li><span><a href=\"#Exploratory-Data-Analysis\" data-toc-modified-id=\"Exploratory-Data-Analysis-5\"><span class=\"toc-item-num\">5&nbsp;&nbsp;<\/span>Exploratory Data Analysis<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Univariate-Analysis-\/-Outlier-Treatment\" data-toc-modified-id=\"Univariate-Analysis-\/-Outlier-Treatment-5.1\"><span class=\"toc-item-num\">5.1&nbsp;&nbsp;<\/span>Univariate Analysis \/ Outlier Treatment<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Child-Mortality\" data-toc-modified-id=\"Child-Mortality-5.1.1\"><span class=\"toc-item-num\">5.1.1&nbsp;&nbsp;<\/span>Child Mortality<\/a><\/span><\/li><li><span><a href=\"#Life-Expectancy\" data-toc-modified-id=\"Life-Expectancy-5.1.2\"><span class=\"toc-item-num\">5.1.2&nbsp;&nbsp;<\/span>Life Expectancy<\/a><\/span><\/li><li><span><a href=\"#Fertility\" data-toc-modified-id=\"Fertility-5.1.3\"><span class=\"toc-item-num\">5.1.3&nbsp;&nbsp;<\/span>Fertility<\/a><\/span><\/li><li><span><a href=\"#Health-Spending\" data-toc-modified-id=\"Health-Spending-5.1.4\"><span class=\"toc-item-num\">5.1.4&nbsp;&nbsp;<\/span>Health Spending<\/a><\/span><\/li><li><span><a href=\"#GDP-per-capita\" data-toc-modified-id=\"GDP-per-capita-5.1.5\"><span class=\"toc-item-num\">5.1.5&nbsp;&nbsp;<\/span>GDP per capita<\/a><\/span><\/li><li><span><a href=\"#Inflation-Index\" data-toc-modified-id=\"Inflation-Index-5.1.6\"><span class=\"toc-item-num\">5.1.6&nbsp;&nbsp;<\/span>Inflation Index<\/a><\/span><\/li><li><span><a href=\"#Net-Income-per-person\" data-toc-modified-id=\"Net-Income-per-person-5.1.7\"><span class=\"toc-item-num\">5.1.7&nbsp;&nbsp;<\/span>Net Income per person<\/a><\/span><\/li><li><span><a href=\"#Imports-per-capita\" data-toc-modified-id=\"Imports-per-capita-5.1.8\"><span class=\"toc-item-num\">5.1.8&nbsp;&nbsp;<\/span>Imports per capita<\/a><\/span><\/li><li><span><a href=\"#Exports-per-capita\" data-toc-modified-id=\"Exports-per-capita-5.1.9\"><span class=\"toc-item-num\">5.1.9&nbsp;&nbsp;<\/span>Exports per capita<\/a><\/span><\/li><li><span><a href=\"#Trade-Deficit-per-capita\" data-toc-modified-id=\"Trade-Deficit-per-capita-5.1.10\"><span class=\"toc-item-num\">5.1.10&nbsp;&nbsp;<\/span>Trade Deficit per capita<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Bivariate-Analysis\" data-toc-modified-id=\"Bivariate-Analysis-5.2\"><span class=\"toc-item-num\">5.2&nbsp;&nbsp;<\/span>Bivariate Analysis<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Pairplot\" data-toc-modified-id=\"Pairplot-5.2.1\"><span class=\"toc-item-num\">5.2.1&nbsp;&nbsp;<\/span>Pairplot<\/a><\/span><\/li><li><span><a href=\"#Child-Mortality-vs-Life-Expectancy\" data-toc-modified-id=\"Child-Mortality-vs-Life-Expectancy-5.2.2\"><span class=\"toc-item-num\">5.2.2&nbsp;&nbsp;<\/span>Child Mortality vs Life Expectancy<\/a><\/span><\/li><li><span><a href=\"#Child-Mortality-vs-Total-Fertility\" data-toc-modified-id=\"Child-Mortality-vs-Total-Fertility-5.2.3\"><span class=\"toc-item-num\">5.2.3&nbsp;&nbsp;<\/span>Child Mortality vs Total Fertility<\/a><\/span><\/li><li><span><a href=\"#GDP-per-capita-vs-Health-Spending\" data-toc-modified-id=\"GDP-per-capita-vs-Health-Spending-5.2.4\"><span class=\"toc-item-num\">5.2.4&nbsp;&nbsp;<\/span>GDP per capita vs Health Spending<\/a><\/span><\/li><li><span><a href=\"#Imports-vs-GDP-per-capita\" data-toc-modified-id=\"Imports-vs-GDP-per-capita-5.2.5\"><span class=\"toc-item-num\">5.2.5&nbsp;&nbsp;<\/span>Imports vs GDP per capita<\/a><\/span><\/li><li><span><a href=\"#Exports-vs-GDP-per-capita\" data-toc-modified-id=\"Exports-vs-GDP-per-capita-5.2.6\"><span class=\"toc-item-num\">5.2.6&nbsp;&nbsp;<\/span>Exports vs GDP per capita<\/a><\/span><\/li><li><span><a href=\"#GDP-per-capita-vs-Trade-Deficit\" data-toc-modified-id=\"GDP-per-capita-vs-Trade-Deficit-5.2.7\"><span class=\"toc-item-num\">5.2.7&nbsp;&nbsp;<\/span>GDP per capita vs Trade Deficit<\/a><\/span><\/li><li><span><a href=\"#Net-Income-per-person-vs-Inflation\" data-toc-modified-id=\"Net-Income-per-person-vs-Inflation-5.2.8\"><span class=\"toc-item-num\">5.2.8&nbsp;&nbsp;<\/span>Net Income per person vs Inflation<\/a><\/span><\/li><li><span><a href=\"#GDP-per-capita-vs-Inflation\" data-toc-modified-id=\"GDP-per-capita-vs-Inflation-5.2.9\"><span class=\"toc-item-num\">5.2.9&nbsp;&nbsp;<\/span>GDP per capita vs Inflation<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Correlation-Analysis\" data-toc-modified-id=\"Correlation-Analysis-5.3\"><span class=\"toc-item-num\">5.3&nbsp;&nbsp;<\/span>Correlation Analysis<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Hopkin's-Statistic\" data-toc-modified-id=\"Hopkin's-Statistic-6\"><span class=\"toc-item-num\">6&nbsp;&nbsp;<\/span>Hopkin's Statistic<\/a><\/span><\/li><li><span><a href=\"#Standardizing-Values\" data-toc-modified-id=\"Standardizing-Values-7\"><span class=\"toc-item-num\">7&nbsp;&nbsp;<\/span>Standardizing Values<\/a><\/span><\/li><li><span><a href=\"#K-Means-Clustering\" data-toc-modified-id=\"K-Means-Clustering-8\"><span class=\"toc-item-num\">8&nbsp;&nbsp;<\/span>K-Means Clustering<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Finding-Optimal-Number-of-Clusters\" data-toc-modified-id=\"Finding-Optimal-Number-of-Clusters-8.1\"><span class=\"toc-item-num\">8.1&nbsp;&nbsp;<\/span>Finding Optimal Number of Clusters<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#Elbow-curve\" data-toc-modified-id=\"Elbow-curve-8.1.1\"><span class=\"toc-item-num\">8.1.1&nbsp;&nbsp;<\/span>Elbow curve<\/a><\/span><\/li><li><span><a href=\"#Sihoutte-Analysis\" data-toc-modified-id=\"Sihoutte-Analysis-8.1.2\"><span class=\"toc-item-num\">8.1.2&nbsp;&nbsp;<\/span>Sihoutte Analysis<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Final-k---Means-Clustering\" data-toc-modified-id=\"Final-k---Means-Clustering-8.2\"><span class=\"toc-item-num\">8.2&nbsp;&nbsp;<\/span>Final k - Means Clustering<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Hierarchical-Clustering\" data-toc-modified-id=\"Hierarchical-Clustering-9\"><span class=\"toc-item-num\">9&nbsp;&nbsp;<\/span>Hierarchical Clustering<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#HAC-:-Single-Linkage,-Euclidean-Measure\" data-toc-modified-id=\"HAC-:-Single-Linkage,-Euclidean-Measure-9.1\"><span class=\"toc-item-num\">9.1&nbsp;&nbsp;<\/span>HAC : Single Linkage, Euclidean Measure<\/a><\/span><\/li><li><span><a href=\"#HAC-:-Complete-Linkage,-Euclidean-Measure\" data-toc-modified-id=\"HAC-:-Complete-Linkage,-Euclidean-Measure-9.2\"><span class=\"toc-item-num\">9.2&nbsp;&nbsp;<\/span>HAC : Complete Linkage, Euclidean Measure<\/a><\/span><\/li><li><span><a href=\"#HAC-:-Average-Linkage,-Euclidean-Measure\" data-toc-modified-id=\"HAC-:-Average-Linkage,-Euclidean-Measure-9.3\"><span class=\"toc-item-num\">9.3&nbsp;&nbsp;<\/span>HAC : Average Linkage, Euclidean Measure<\/a><\/span><\/li><li><span><a href=\"#HAC-:-Complete-Linkage-,-Correlation-Measure\" data-toc-modified-id=\"HAC-:-Complete-Linkage-,-Correlation-Measure-9.4\"><span class=\"toc-item-num\">9.4&nbsp;&nbsp;<\/span>HAC : Complete Linkage , Correlation Measure<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Mixed-K-Means-Clustering\" data-toc-modified-id=\"Mixed-K-Means-Clustering-10\"><span class=\"toc-item-num\">10&nbsp;&nbsp;<\/span>Mixed K-Means Clustering<\/a><\/span><\/li><li><span><a href=\"#Cluster-Profiling\" data-toc-modified-id=\"Cluster-Profiling-11\"><span class=\"toc-item-num\">11&nbsp;&nbsp;<\/span>Cluster Profiling<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#K-Means\" data-toc-modified-id=\"K-Means-11.1\"><span class=\"toc-item-num\">11.1&nbsp;&nbsp;<\/span>K-Means<\/a><\/span><\/li><li><span><a href=\"#Hierarchical-Clustering---Complete-Linkage,-Correlation-based-distance\" data-toc-modified-id=\"Hierarchical-Clustering---Complete-Linkage,-Correlation-based-distance-11.2\"><span class=\"toc-item-num\">11.2&nbsp;&nbsp;<\/span>Hierarchical Clustering - Complete Linkage, Correlation based distance<\/a><\/span><\/li><li><span><a href=\"#Mixed-Clustering-:-K-means-initialized-with-Hierarchical-Cluster-Centroids\" data-toc-modified-id=\"Mixed-Clustering-:-K-means-initialized-with-Hierarchical-Cluster-Centroids-11.3\"><span class=\"toc-item-num\">11.3&nbsp;&nbsp;<\/span>Mixed Clustering : K-means initialized with Hierarchical Cluster Centroids<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Conclusion\" data-toc-modified-id=\"Conclusion-12\"><span class=\"toc-item-num\">12&nbsp;&nbsp;<\/span>Conclusion<\/a><\/span><\/li><\/ul><\/div>","a9e77482":"- From the above plots, Cluster 0 has the very low income and gdpp and very high child mortality. Hence, Cluster 0 is the area of interest. ","142824b5":"### Final k - Means Clustering","254c01ec":"#### Imports per capita","edde4762":"#### Child Mortality vs Life Expectancy","3fff3e0e":"### Univariate Analysis \/ Outlier Treatment","af91097d":"#### Trade Deficit per capita","742760d6":"### Bivariate Analysis\n#### Pairplot ","72e5f40f":"**Top Correlations**\n- Negative Correlation between `life_expec` and `child_mort`\n- Positive Correlation between `total_fer` and `child_mort`\n\nAlthough clustering analysis is not affected by multicollinearity, this plot shows us the possible linear relationships between different features to help with results obtained from cluster analysis. \n","a9b5154d":"#### Child Mortality","ced67124":"# HELP - Countries to Aid \n**Jayanth Boddu**   \nClustering","31c3978d":"### Finding Optimal Number of Clusters\n#### Elbow curve ","119f7efe":"#### Life Expectancy ","0447cbcc":"### K-Means","05c6d644":"### HAC : Average Linkage, Euclidean Measure","97670c70":"## Exploratory Data Analysis ","242e4235":"- looks like `child_mort` and `life_expec` are almost linearly related.\n- Life expectancy decreases as child mortality increases. \n- One of these features is enough for analysis.   \n","986fa04b":"- `exports`,`child_mort`, `imports`, `income`, `inflation`, `life_expec`, `total_fer` and `gdpp` have outliers.  \n- These outliers shall be treated in Univariate analysis \n","a340cb96":"- Some countries have greater imports than GDP per capita ","980eae83":"- From the above plots, we could characterize features of each cluster as within the following levels. \n    - Levels : Very low , low, Moderate, High , very high    \n  \n- Characteristics of each cluster   \n\n| Cluster | GDP | Income | Child Mortality |\n|---|---|---|---|\n| 0 | Very low | Very Low | Very High |\n| 1 | low | low | low |\n| 2 | Moderate | Moderate | Moderate |\n| 3 | High | High | Low | \n| 4 | Very High | Very High | Low | \n| 5 | Very Low | Very Low | Low | \n\nFrom the characteristics , we see that the Cluster 0 is our area of interest. Lets look at the countries in Cluster 0. \n","08eed4aa":"#### Imports vs GDP per capita","50778b2c":"- No duplicate countries ","c5be7ed3":"- The Maximum values of all the attributes are much higher than their 75% values. ","ea44cc78":"- Sanity checks completed. \n- No Data Quality issues found. ","f3185034":"#### Inflation Index ","fa1a56c6":"- Hierarchical clustering with complete linkage has a more discriminative dendrogram","3fb83a91":"## Problem Statement\n\nAn NGO wants to use their funding strategically so that they could aid five countries in dire need of help. The analyst's objective is to use clustering algorithms to group countries based on socio-economic and health factors to judge the overall development of countries. Further,the final deliverable is - suggesting 5 countries that need the aid the most. \n","0a00c66f":"## Conclusion ","15137564":"- Countries with High inflation and low income are possible candidates for aid requirement.","87c3296e":"## Data Quality Checks ","68790700":"- Trade deficit is a country's net imports minus exports. \n- It indicates the dependence of a country on imports \n- Countries with low GDP per capita and positive trade deficit are likely to require aid \n- From the above plot, one can see that there are many such countries","a875e135":"#### Net Income per person vs Inflation ","61358181":"### Correlation Analysis ","5d13abab":"- Columns : 'child_mort', 'exports', 'health', 'imports', 'income','inflation', 'life_expec', 'total_fer', 'gdpp','trade_deficit' were used for clustering. \n\n- Hopkin's Statistic was calculated which showed a very high mean clustering tendency of 96% with a standard deviation of 4%\n- The dataset was standardized with mean = 0 , standard deviation = 1 before clustering. \n- Optimum no of clusters for k-means was found to be 4 , both from Elbow curve and Silhoeutte Analysis curve. \n- Clustering with k-means was performed (Cluster centers initialized with k-means++) \n- Hierarchical Clustering with Single, Complete and Average linkages and Euclidean , correlation based distances were explored. \n- Mixed k-means clustering - K-means initialized with centroids of hierarchical clustering - was also explored. \n- Due to more interpretable results, Hierarchical Clustering with Complete linkage and correlation based distance measure was chosen to arrive at the results.\n\n- Characteristics of Clusters obtained :   \n\n| Cluster | GDP | Income | Child Mortality |\n|---|---|---|---|\n| 0 | Very low | Very Low | Very High |\n| 1 | low | low | low |\n| 2 | Moderate | Moderate | Moderate |\n| 3 | High | High | Low | \n| 4 | Very High | Very High | Low | \n| 5 | Very Low | Very Low | Low | \n\n- From the characteristics , we see that the Cluster 0 is our area of interest.\n- According to the UN goals of 2030, the top priority is health and then poverty. \n- Hence countries in cluster 0 were ranked based on Child Mortality followed by income and GDP per capita. \n- By that criteria, the following are the five countries HELP should consider extending their aid. \n    - Haiti\n    - Sierra Leone\n    - Chad \n    - Central African Republic \n    - Mali","a78f6fe9":"- From the above Elbow curve, one can clearly see that there is a high gradient descent from k=2 to k=4 and then the curve tapers (Change in slope is not as SIGNIFICANT as earlier)\n- Hence, k=4 is optimum no of clusters, statistically.  ","3791e98c":"#### GDP per capita","c8aa1a00":"#### GDP per capita vs Trade Deficit ","05cb6650":"- 167 countries \n- No apparent missing values\n- No incorrect data types  ","045d7763":"### HAC : Complete Linkage , Correlation Measure","f9f780b4":"- Some of the lowest life expectancy is seen in Haiti and Lesoto.\n- About 50% of the countries have a life expectany of 73 or below and the other 50% have above 73.\n- Countries like Singapore and Japan have the highest life expective, better than 99% of the countries.\n- Countries with very low life expectancy are possible candidates for aid. \n- Hence, let's keep the lower outliers. \n- One the other hand, countries like Singapore and Japan might not need aid but these values would skew our analysis. Let's cap these outliers. ","9bba8432":"#### Child Mortality vs Total Fertility","290c3269":"- High net income per person is an indicator of general prosperity of a country. Such countries do not need aid. \n- Hence, we shall cap the upper outliers i,e net incomes greater than 99% of that of the other countries. \n- Lower outliers, countries with net incomes less than 1% of that of the other countries is our area of interest. Lets leave these values as they are for further analysis.","1ca78e0b":"- Hence , the top five countries to extend aid are\n    - Haiti\n    - Sierra Leone\n    - Chad \n    - Central African Republic \n    - Mali","72abaad3":"#### Exports per capita","fd41e26a":"### Hierarchical Clustering - Complete Linkage, Correlation based distance","350e20fe":"- Notice that half of the countries have a child mortality below 20. \n- Further,countries with child mortality less than 1st percentile might not need aid at all. We shall cap their child mortalities to 1st percentile values. \n- Countries with extremely high child mortality rate - upper outliers (> 99th percentile) are the perfect candidates for aid. Let's keep them as they are for further analysis. ","bb2170f0":"- GDP per capita is a very good indicator of a country's prosperity\n- Notice that there are three peaks in the violin plot of GDP. These might indicate the three clusters - under developed, developing and developed nations. \n- Under developed nations are the most in need of aid. Countries like Burundi and Libera have GDPs less than 99% of the countries. Even though they are outliers, let's keep them for further analysis.\n- But, we could cap GDPs which are greater than GDPs of 99% of the countries (Luxembourg & Norway)","8e9d406d":"## Hopkin's Statistic ","1ad94eab":"#### GDP per capita vs Inflation ","ff532594":"- Higher the silhouette score the better\n- However , from the above plot, we see silhouette score is the highest for k = 2, sharply falls at 3 and there's a local maximum at k=4\n- k = 4 seems to be the optimum no of clusters","02bb431b":"## Hierarchical Clustering \n### HAC : Single Linkage, Euclidean Measure","03a1e4bf":"### Mixed Clustering : K-means initialized with Hierarchical Cluster Centroids","4e4c5587":"## Cluster Profiling","b0cd9105":"- From the above plots, we could characterize features of each cluster as within the following levels. \n    - Levels : Low, Moderate, High , very high    \n  \n- Characteristics of each cluster   \n\n| Cluster | GDP | Income | Child Mortality |\n|---|---|---|---|\n| 0 | High | High to Very High | Low |\n| 1 | Low | Low | High to Very High|\n| 2 | Low to Moderate | Low to Moderate | Low to Moderate |\n| 3 | Very High | Very High | Low | \n\nFrom the characteristics , we see that the Cluster 1 is our area of interest. Lets look at the countries in Cluster 1. ","5a37db4d":"### HAC : Complete Linkage, Euclidean Measure","36633646":"## K-Means Clustering ","ec8b36f8":"## Mixed K-Means Clustering ","6095c747":"- Countries with low GDP percapita and high Inflation are in dire need of support. \n- For example, Nigeria has an inflation > 100 while its GDP is 2330.","4839311a":"- Very high inflation indicates a bad economic state. \n- The violinplot again indicates three peaks - indicating three possible clusters of inflation - each with progressively less countries.\n- Countries with very high inflation are might need aid. Since this is our area of interest, let's keep the upper outliers in inflation as they are for further analysis. \n- Let's cap lower outliers since these look like good economies with no need of aid. ","820b44e3":"## Importing data","27f27834":"- The countries with more health spending are less in need of aid. \n- Like Switzerland and United States, whose health spending is higher than 99% of the countries. But values like these would skew the entire analysis for aid needing countries. Hence, we'd cap these values with the 99th percentile value. \n- The countries with less health spending might have variety of reasons like - optimum general health , or bad economic conditions. Let's keep these values for further analysis. ","7b73a9a7":"## Analysis Approach & Conclusions\n- The objective of the analysis is to recommend 05 countries in dire need of aid of help. \n- The achieve this, the following features of 167 countries have been analyzed. \n    - GDP per capita\n    - Child mortality per 1000 live births\n    - Net Income per person\n    - Fertility rates at the current previaling age\/fertility rate\n    - Inflation index\n    - Life Expectancy \n    - Imports per capita\n    - Exports per capita\n    - Total Health Spending per capita\n- The above features are further grouped into health, economic and policy indicators \n    - Health Indicators \n        - Child mortality per 1000 births\n        - Fertility rates at the current previaling age\/fertility index\n        - Life Expectancy\n    - Economic Indicators \n        - Net Income per person\n        - Imports per capita\n        - Exports per capita\n        - Inflation Index \n    - Policy Indicators \n        - Total Health Spending per capita\n- From the above, countries deduced to be in dire need of aid are countries with bad economic indicators and bad health indicators having low health spending\n- Further on the feature level, the following are general indicators of need of aid. \n \n| Feature  | High \/ Low   |\n|---|---|\n| Child Mortality  |  High |\n|  Life Expectancy |  Low |\n| Fertility | High |\n|  Health Spending | Low  |\n|  GDP per capita |  Low |\n| Inflation Index  | High  |\n|  Income per Person |  Low |\n| Imports  |  High |\n| Exports | Low | \n\n- Data has been check for quality.No Data Quality Issues have been found - No missing values, No duplicates , No incorrect data types \n- A new feature 'Trade Deficit' has been derived.\n    - Trade Deficit = Imports - Exports\n    - Trade Deficit or Trade balance is a good indicator of economic health of countries with low GDP per capita\n    - Lower or negative is better than higher and positive. \n\n- Univariate analysis revealed the following information  \n\n| Feature  | Highest | Lowest |\n|---|---|---|\n| Child Mortality | Haiti,Sierra Leone | Iceland |\n| Life Expectancy | Japan , Singapore | Haiti, Lesotho | \n| Total fertility | Chad, Niger | Singapore, South Korea | \n| Health Spending | Switzerland, US | Madagascar, Eritrea | \n| GDP per capita | Luxemborg , Norway | Burundi , Liberia | \n| Inflation Index | Nigeria, Venezuela |Seycelles, Ireland |\n| Net Income per person | Qatar, Luxemborg | Liberia, Congo Dem. Rep. | \n| Imports per capita | Luxemborg, Singapore | Myanmar, Burundi | \n| Exports per capita | Luxemborg, Singapore | Myanmar, Burundi | \n| Trade Deficit per capita | Bahamas, Greece | Luxemborg, Qatar |  \n\n- Since there's less data per cluster, soft range of 1st percentile - 99th perentile has been used to classify and cap outliers. Only those outliers which do not skew the areas of interest have been capped.\n- Outlier Treatment Summary   \n\n| Feature  | Upper Outliers | Lower Outliers |\n|---|---|---|\n| Child Mortality  |  Not Changed | Capped |\n| Life Expectancy |  Capped | Not Changed |\n| Fertility |  Not Changed | Capped |\n|  Health Spending |  Capped | Not Capped |\n|  GDP per capita |  Capped | Not Changed |\n| Inflation Index  |  Not Changed | Capped |\n|  Income per Person |  Capped | Not Changed |\n| Imports  |  Capped | Not Changed |\n| Exports |  Capped | Not Changed |   \n\n\n- Bivariate Analysis revealed the following insights \n    - There is a negative relationship between Child Mortality and Life expectancy. As child mortality increases, Life Expectancy decreases. Haiti and Sierra Leone have the highest child mortality and lowest life expectancy. \n    - There is positive relationship between child mortality and total fertility. Ex : Chad and Mali \n    - Health Spending has a positive relationship with GDP per capita , but the situation is dire in case of low GDP countries like  Eritrea & Madagascar. \n    - There's very high correlation between child mortality and life expectancy , child mortality and total fertility.   \n\n\n- Columns : 'child_mort', 'exports', 'health', 'imports', 'income','inflation', 'life_expec', 'total_fer', 'gdpp','trade_deficit' were used for clustering. \n\n- Hopkin's Statistic was calculated which showed a very high mean clustering tendency of 96% with a standard deviation of 4%\n- The dataset was standardized with mean = 0 , standard deviation = 1 before clustering. \n- Optimum no of clusters for k-means was found to be 4 , both from Elbow curve and Silhoeutte Analysis curve. \n- Clustering with k-means was performed (Cluster centers initialized with k-means++) \n- Hierarchical Clustering with Single, Complete and Average linkages and Euclidean , correlation based distances were explored. \n- Mixed Clustering - K-Means clustering initialised with centroids of Hierarchical clusters , 6 no of clusters - was carried out.\n- Finally, Hierarchical Clustering with Complete linkage and correlation based distance measure was chosen to arrive at the results. Choice was made based on interpretability of results. \n- Characteristics of Clusters obtained :   \n\n| Cluster | GDP | Income | Child Mortality |\n|---|---|---|---|\n| 0 | Very low | Very Low | Very High |\n| 1 | low | low | low |\n| 2 | Moderate | Moderate | Moderate |\n| 3 | High | High | Low | \n| 4 | Very High | Very High | Low | \n| 5 | Very Low | Very Low | Low | \n\n- From the characteristics , we see that the Cluster 0 is our area of interest.\n- According to the UN goals of 2030, the top priority is health and then poverty. \n- Hence countries in cluster 0 were ranked based on Child Mortality followed by income and GDP per capita. \n- By that criteria, the following are the five countries HELP should consider extending their aid. \n    - Haiti\n    - Sierra Leone\n    - Chad \n    - Central African Republic \n    - Mali\n","f70d0c54":"#### Exports vs GDP per capita","d10147ea":"#### GDP per capita vs Health Spending ","83482e69":" **Since hopkin's statistic is greater than 80% , the data shows good clustering tendency**","df7c8133":"- About 50% of the countries have a fertility of 2.41 or less. \n- Lower fertility is seen in developed nations like Singapore and South Korea, where the fertility is less than 99% countries. \n- Countries with higher total fertility might need the aid more since this mean more health risk.\n- Fertility in Chad and Niger is higher than 99 percent of the countries. \n- Since these countries might need the aid, let's leave these values for further analysis. \n- Countries with fertility rates less than 1 perecent of the population look like they are developed nations. Let's cap these outlier so that they don't skew our analysis.  \n- Further, from the violin plot, notice that fertility has two peaks - 2 and 5. This indicates that fertility rate could be used to effectively segregate countries. More analysis is needed here. ","e57f4e32":"#### Net Income per person","4e45b1b4":"## Standardizing Values ","d7f8da66":"- Trade deficit indicates the balance between exports and imports. Negative trade deficit is favourable indicator of economic health. It means that the country has higher exports compared to imports. \n- When the trade deficit is negative, it means that the country is import predominant. \n- From the above plot, Greece and Bahamas have a trade deficit higher than 99% of the countries. This could mean a bad economic state. Since this is our key area of interest, we could leave these outliers as they are. \n- Countries with negative trade deficit , i.e export predominant countries could be capped to 1st percentile values. \n","d04c89bf":"#### Fertility ","6128a1a0":"- The dataset contains `exports`, `imports`,`health` as a proportion of GDP per capita\n- Let's convert them to actual values ","c3a4b338":"#### Sihoutte Analysis \n"}}