{"cell_type":{"d6d7b954":"code","28d5a1c0":"code","fe61e75f":"code","d9de63dd":"code","14774eba":"code","4587274d":"code","8f357edd":"code","9243b039":"code","f6cf3670":"code","d7113336":"code","95aeef98":"code","e3bb86f3":"code","e8f4d19b":"code","09911ec7":"code","ceb16c02":"code","e96b5d0c":"code","03109790":"code","665e68a0":"code","7ce416bb":"code","1e9d05d5":"code","7cfd784e":"code","3b722d0b":"code","4e7c9e9c":"code","5b0f7dcd":"code","ca50ac56":"code","846728f4":"code","3fdcf4e4":"code","1924cc8c":"code","70245c62":"code","da8cb082":"code","2acb16ff":"code","11af9ad7":"code","76a3b3de":"code","4d59d639":"code","5215cbb5":"code","28cdc7b6":"code","254e72c6":"code","53f9240f":"code","c0a645d9":"code","568c1a0c":"code","dc213e00":"code","3dda25cc":"code","18e496a7":"code","3b6df0c5":"code","b313c77d":"code","9bd17609":"code","a2c13588":"code","9a04d605":"code","d7df34c1":"code","3d765f06":"code","c9cce9f2":"code","dfc5abd0":"code","32d9b2aa":"code","427fd51a":"code","1260732b":"code","9a6f5759":"code","5e5e6071":"code","c5187786":"code","f41f5e55":"code","4c390dc3":"code","dd2cd24f":"code","0b60b27d":"code","da053076":"code","ddbcf546":"code","6ea03fb8":"code","84e3a6c2":"code","c4821101":"code","9b68049b":"code","c8d4ea7d":"code","bbbb62e1":"code","1a074e61":"code","2cb8ff02":"code","e718ce98":"code","a39dce8c":"code","074e3268":"code","17ea3141":"code","968caf4c":"code","f42db159":"code","3cdef839":"code","e13d89de":"code","3aef8691":"code","b328aeda":"code","248a7739":"code","b9bc9c34":"code","49ba720c":"code","184c2ecc":"code","b9693a68":"code","c00ccb1d":"code","584cc09f":"code","4111a558":"code","cfef4955":"code","d49df14d":"code","41926176":"code","37076f54":"code","b9e5ec87":"code","c43a84d2":"code","68ba9c8f":"code","c224ed33":"code","4c4f8ea4":"code","c4228cf6":"code","f0f6bbb8":"code","ece1743e":"code","4bd61243":"code","f6ec2718":"code","daf4dead":"code","a4ca9e6a":"code","811aa18c":"code","52a5f9df":"code","0a4a8925":"markdown","9d3ee197":"markdown","0c3a3bb3":"markdown","028c3062":"markdown","38dafe00":"markdown","8a058e2c":"markdown","56e77b61":"markdown","4002728b":"markdown","3e5d8df1":"markdown","3910a07f":"markdown","f9a89ba1":"markdown","4e3ce2ff":"markdown","84a0567b":"markdown","f1d0538b":"markdown","f6ab615e":"markdown","60f7d53a":"markdown","0d29a95b":"markdown","62d5f456":"markdown","89e251ee":"markdown","dbbd5cec":"markdown","ae6a4804":"markdown","33a04b8f":"markdown","1996d0b6":"markdown","a544b597":"markdown","9293caca":"markdown","f2414586":"markdown","fef0bf0d":"markdown","5b7649ba":"markdown","12cef1b5":"markdown","090ab8bd":"markdown","73542a8e":"markdown","d3468752":"markdown","ef4247f1":"markdown","dd34b468":"markdown","e4c9ffd4":"markdown","5c565d3c":"markdown","194ac674":"markdown","348fe826":"markdown","8d505caa":"markdown","997e6eca":"markdown","54d9aed8":"markdown","7e365c9b":"markdown","f9d552e7":"markdown","3d9aa944":"markdown","51ccf2f3":"markdown","1c87b6fe":"markdown","a42901e0":"markdown","b6aaddab":"markdown","b5b73fe1":"markdown","632b4a41":"markdown","96e9de41":"markdown","a76c67e6":"markdown","927a0e3b":"markdown","1fbbf270":"markdown","d89e9b2c":"markdown","5887c404":"markdown","dfbf5d0e":"markdown","8f8ef377":"markdown","f925bd81":"markdown","1f9e5981":"markdown","dc7d0e0f":"markdown","4f934ebd":"markdown","f1783423":"markdown","2981b55a":"markdown","747041db":"markdown","bc250f4c":"markdown","6853d19a":"markdown","4a1e927d":"markdown","af51770b":"markdown","806c7ecd":"markdown"},"source":{"d6d7b954":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","28d5a1c0":"loan_data = data = pd.read_excel('..\/input\/bank-loan-modelling\/Bank_Personal_Loan_Modelling.xlsx','Data')","fe61e75f":"loan_data.head()","d9de63dd":"loan_data.shape","14774eba":"loan_data.info()","4587274d":"loan_data.isnull().sum()","8f357edd":"loan_data.describe()","9243b039":"edu_exp = loan_data.groupby(\"Education\").Experience.mean().sort_values(ascending=True)\nedu_exp","f6cf3670":"age_exp = loan_data.groupby('Age')['Experience'].mean().sort_values(ascending=False).reset_index()\nage_exp","d7113336":"plt.figure(figsize=(10,7))\nsns.lmplot(x=\"Age\", y=\"Experience\", data=age_exp)\nplt.ylabel(\"Experience (Average)\")\nplt.title(\"Average of Experience by Age\")","95aeef98":"loan_data.Experience.unique()","e3bb86f3":"loan_data[loan_data[\"Experience\"]<0][[\"Age\",\"Experience\"]]","e8f4d19b":"neg_age_exp = loan_data[loan_data[\"Experience\"]<0][[\"Age\",\"Experience\"]]\nneg_age_exp.Age.unique()","09911ec7":"loan_data[\"Experience\"] = loan_data[\"Experience\"].abs()\nloan_data[loan_data[\"Experience\"]<0][[\"Age\",\"Experience\"]]","ceb16c02":"summ = loan_data.describe()\npd.DataFrame(summ, columns=summ.columns).transpose()","e96b5d0c":"corr = loan_data.corr()\nplt.subplots(figsize=(10,10));\nsns.heatmap(corr, annot=True, cmap=\"RdBu\", square=True)\nplt.title(\"Correlation Matrix\")\nplt.tight_layout()","03109790":"plt.figure(figsize=(16,5))\ncorr[\"Personal Loan\"].sort_values(ascending=True)[:-1].plot(kind=\"barh\")\nplt.title(\"Correlation of features to Personal Loan\\n\", fontsize=15)\nplt.xlabel(\"\\nCorrelation to Personal Loan\")\nplt.tight_layout()\nplt.show()","665e68a0":"sns.distplot(loan_data[\"Mortgage\"])\nplt.title(\"Mortgage Distribution with KDE\")","7ce416bb":"SingleLog_y = np.log1p(loan_data[\"Mortgage\"])\nsns.distplot(SingleLog_y, color =\"r\")\nplt.title(\"Mortgage Distribution after First Log Transformation\")","1e9d05d5":"DoubleLog_y = np.log1p(SingleLog_y)\nsns.distplot(DoubleLog_y, color =\"g\")\nplt.title(\"Mortgage Distribution after Second Transformation\")","7cfd784e":"loan_data[\"Mortgage\"] = DoubleLog_y","3b722d0b":"sns.distplot(loan_data['Experience'])\nplt.title(\"Distribution of Experience\")","4e7c9e9c":"fig, axes = plt.subplots(1, 2, figsize=(10,5))\nsns.distplot(loan_data['Income'], ax=axes[0])\nsns.boxplot(loan_data['Income'], orient=\"v\", palette=\"Set2\", ax=axes[1])\nplt.tight_layout()","5b0f7dcd":"income_log = np.log(loan_data[\"Income\"])\nsns.distplot(income_log, color =\"g\")\nplt.title(\"Income Distribution after Log Transformation\")","ca50ac56":"income_2nd_log = np.log(income_log)\nsns.distplot(income_2nd_log, color =\"g\")\nplt.title(\"Income Distribution after Second Log Transformation\")","846728f4":"from sklearn.preprocessing import PowerTransformer\npt = PowerTransformer(method=\"yeo-johnson\", standardize=False)\npt.fit(loan_data[\"Income\"].values.reshape(-1, 1))\n\ntemp_income = pt.transform(loan_data[\"Income\"].values.reshape(-1, 1))\n\nfig, axes = plt.subplots(1, 2, figsize=(10,5))\nsns.distplot(temp_income, ax=axes[0])\nsns.boxplot(temp_income, orient=\"v\", palette=\"Set2\", ax=axes[1])\nplt.tight_layout()","3fdcf4e4":"loan_data['Income'] = temp_income","1924cc8c":"fig, axes = plt.subplots(1, 2, figsize=(10,5))\nsns.distplot(loan_data['CCAvg'], ax=axes[0])\nsns.boxplot(loan_data['CCAvg'], orient=\"v\", palette=\"Set2\", ax=axes[1])\nplt.tight_layout()","70245c62":"from sklearn.preprocessing import PowerTransformer\npt = PowerTransformer(method=\"yeo-johnson\", standardize=False)\npt.fit(loan_data[\"CCAvg\"].values.reshape(-1, 1))\n\ntemp_ccavg = pt.transform(loan_data[\"CCAvg\"].values.reshape(-1, 1))\n\nfig, axes = plt.subplots(1, 2, figsize=(10,5))\nsns.distplot(temp_ccavg, ax=axes[0])\nsns.boxplot(temp_ccavg, orient=\"v\", palette=\"Set2\", ax=axes[1])\nplt.tight_layout()","da8cb082":"loan_data['CCAvg'] = temp_ccavg","2acb16ff":"sns.distplot(loan_data['Education'])\nplt.title(\"Distribution of Education\")","11af9ad7":"loan_data[\"Personal Loan\"].value_counts()","76a3b3de":"fig1, ax1 = plt.subplots()\nexplode = (0, 0.10, 0.10)\nax1.pie(loan_data[\"Education\"].value_counts(), explode=explode, labels=[\"1 : Advanced\/Professional\", \"2 : Graduate\", \"3: Undergrad\"], autopct='%1.1f%%',\n        shadow=True, startangle=70)\nax1.axis('equal')\nplt.title(\"Education Level Percentage\")\nplt.show()","4d59d639":"fig1, ax1 = plt.subplots()\nexplode = (0.10, 0.10, 0.10, 0.10)\nax1.pie(loan_data[\"Family\"].value_counts(), explode=explode, labels=[\"1 : Family of 1\", \"2 : Family of 2\", \"3 : Family of 3\", \"4 : Family of 4\"], autopct='%1.1f%%',\n        shadow=True, startangle=70)\nax1.axis('equal')\nplt.title(\"Education Level Percentage\")\nplt.show()","5215cbb5":"fig1, ax1 = plt.subplots()\nexplode = (0, 0.15)\nax1.pie(loan_data[\"Personal Loan\"].value_counts(), explode=explode, labels=[\"0 : Didn't Bought\", \"1 : Bought\"], autopct='%1.1f%%',\n        shadow=True, startangle=70)\nax1.axis('equal')\nplt.title(\"Personal Loan Percentage\")\nplt.show()","28cdc7b6":"plt.figure(figsize=(10,6))\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 0]['Income'], color = 'r',label='Personal Loan=0',kde=True)\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 1]['Income'], color = 'b',label='Personal Loan=1',kde=True)\nplt.legend()\nplt.title(\"Income Distribution\", fontsize=15)","254e72c6":"plt.figure(figsize=(10,6))\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 0]['CCAvg'], color = 'r',label='Personal Loan=0',kde=True)\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 1]['CCAvg'], color = 'b',label='Personal Loan=1',kde=True)\nplt.legend()\nplt.title(\"CCAvg Distribution\")","53f9240f":"plt.figure(figsize=(10,6))\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 0]['Age'], color = 'r',label='Personal Loan=0',kde=True)\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 1]['Age'], color = 'b',label='Personal Loan=1',kde=True)\nplt.legend()\nplt.title(\"Age Distribution\")","c0a645d9":"plt.figure(figsize=(10,6))\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 0]['Experience'], color = 'r',label='Personal Loan=0',kde=True)\nsns.distplot(loan_data[loan_data[\"Personal Loan\"] == 1]['Experience'], color = 'b',label='Personal Loan=1',kde=True)\nplt.legend()\nplt.title(\"Experience Distribution\")","568c1a0c":"plt.figure(figsize=(9,6))\nsns.countplot(x=\"Securities Account\", hue=\"Personal Loan\", data=loan_data)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.title('Securities Account Countplot', fontsize=15)\nplt.xlabel('Securities Account', fontsize=15)\nplt.ylabel('Count', fontsize=15)","dc213e00":"plt.figure(figsize=(9,6))\nsns.countplot(x=\"Family\", hue=\"Personal Loan\", data=loan_data)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.title('Family Countplot', fontsize=15)\nplt.xlabel('Family', fontsize=15)\nplt.ylabel('Count', fontsize=15)","3dda25cc":"plt.figure(figsize=(9,6))\nsns.countplot(x=\"Education\", hue=\"Personal Loan\", data=loan_data)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.title('Education Countplot', fontsize=15)\nplt.xlabel('Education', fontsize=15)\nplt.ylabel('Count', fontsize=15)","18e496a7":"plt.figure(figsize=(9,6))\nsns.countplot(x=\"Online\", hue=\"Personal Loan\", data=loan_data)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.title('Online Countplot', fontsize=15)\nplt.xlabel('Online', fontsize=15)\nplt.ylabel('Count', fontsize=15)","3b6df0c5":"plt.figure(figsize=(9,6))\nsns.countplot(x=\"CreditCard\", hue=\"Personal Loan\", data=loan_data)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.title('CreditCard Countplot', fontsize=15)\nplt.xlabel('CreditCard', fontsize=15)\nplt.ylabel('Count', fontsize=15)","b313c77d":"plt.figure(figsize=(9,6))\nsns.countplot(x=\"CD Account\", hue=\"Personal Loan\", data=loan_data)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.title('CD Account Countplot', fontsize=15)\nplt.xlabel('CD Account', fontsize=15)\nplt.ylabel('Count', fontsize=15)","9bd17609":"plt.figure(figsize=(9,6))\nplt.scatter(x=loan_data[\"Age\"], y=loan_data[\"Income\"])\nplt.title(\"Scatter Plot between Age and Income\", fontsize=20)\nplt.xlabel(\"Age\", fontsize=15)\nplt.ylabel(\"Income\", fontsize=15)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.tight_layout()","a2c13588":"plt.figure(figsize=(9,6))\nplt.scatter(x=loan_data[\"Experience\"], y=loan_data[\"Income\"])\nplt.title(\"Scatter Plot between Experience and Income\", fontsize=20)\nplt.xlabel(\"Experience\", fontsize=15)\nplt.ylabel(\"Income\", fontsize=15)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.tight_layout()","9a04d605":"plt.figure(figsize=(9,6))\nplt.scatter(x=loan_data[\"Income\"], y=loan_data[\"Mortgage\"])\nplt.title(\"Scatter Plot between Income and Mortgage\", fontsize=20)\nplt.xlabel(\"Income\", fontsize=15)\nplt.ylabel(\"Mortgage\", fontsize=15)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.tight_layout()","d7df34c1":"plt.figure(figsize=(9,6))\nplt.scatter(x=loan_data[\"Age\"], y=loan_data[\"CCAvg\"])\nplt.title(\"Scatter Plot between Age and CCAvg\", fontsize=20)\nplt.xlabel(\"Age\", fontsize=15)\nplt.ylabel(\"CCAvg\", fontsize=15)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.tight_layout()","3d765f06":"plt.figure(figsize=(9,6))\nplt.scatter(x=loan_data[\"Income\"], y=loan_data[\"CCAvg\"])\nplt.title(\"Scatter Plot between Income and CCAvg\", fontsize=20)\nplt.xlabel(\"Income\", fontsize=15)\nplt.ylabel(\"CCAvg\", fontsize=15)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.tight_layout()","c9cce9f2":"plt.figure(figsize=(9,6))\nplt.scatter(x=loan_data[\"CCAvg\"], y=loan_data[\"Mortgage\"])\nplt.title(\"Scatter Plot between CCAvg and Mortgage\", fontsize=20)\nplt.xlabel(\"CCAvg\", fontsize=15)\nplt.ylabel(\"Mortgage\", fontsize=15)\nplt.xticks(horizontalalignment='center')\nplt.yticks(horizontalalignment='right')\nplt.tight_layout()","dfc5abd0":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Education',  y='Income', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Education and Income Boxplot\", fontsize=20)\nax.set_xlabel(\"Education\", fontsize=15)\nax.set_ylabel(\"Income\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Education',  y='Income', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Education and Income Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Education\", fontsize=15)\nax1.set_ylabel(\"Income\", fontsize=15)","32d9b2aa":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Family',  y='Income', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Family and Income Boxplot\", fontsize=20)\nax.set_xlabel(\"Family\", fontsize=15)\nax.set_ylabel(\"Income\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Family',  y='Income', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Family and Income Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Family\", fontsize=15)\nax1.set_ylabel(\"Income\", fontsize=15)","427fd51a":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Securities Account',  y='Income', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Securities Account and Income Boxplot\", fontsize=15)\nax.set_xlabel(\"Securities Account\", fontsize=15)\nax.set_ylabel(\"Income\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Securities Account',  y='Income', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Securities Account and Income Boxplot w.r.t Personal Loan\", fontsize=15)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Securities Account\", fontsize=15)\nax1.set_ylabel(\"Income\", fontsize=15)","1260732b":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='CD Account',  y='Income', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"CD Account and Income Boxplot\", fontsize=20)\nax.set_xlabel(\"CD Account\", fontsize=15)\nax.set_ylabel(\"Income\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='CD Account',  y='Income', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"CD Account and Income Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"CD Account\", fontsize=15)\nax1.set_ylabel(\"Income\", fontsize=15)","9a6f5759":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Online',  y='Income', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Online and Income Boxplot\", fontsize=20)\nax.set_xlabel(\"Online\", fontsize=15)\nax.set_ylabel(\"Income\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Online',  y='Income', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Online and Income Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Online\", fontsize=15)\nax1.set_ylabel(\"Income\", fontsize=15)","5e5e6071":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='CreditCard',  y='Income', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"CreditCard and Income Boxplot\", fontsize=20)\nax.set_xlabel(\"CreditCard\", fontsize=15)\nax.set_ylabel(\"Income\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='CreditCard',  y='Income', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"CreditCard and Income Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"CreditCard\", fontsize=15)\nax1.set_ylabel(\"Income\", fontsize=15)","c5187786":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Family',  y='CCAvg', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Family and CCAvg Boxplot\", fontsize=20)\nax.set_xlabel(\"Family\", fontsize=15)\nax.set_ylabel(\"CCAvg\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Family',  y='CCAvg', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Family and CCAvg Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Family\", fontsize=15)\nax1.set_ylabel(\"CCAvg\", fontsize=15)","f41f5e55":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='CreditCard',  y='CCAvg', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"CreditCard and CCAvg Boxplot\", fontsize=20)\nax.set_xlabel(\"CreditCard\", fontsize=15)\nax.set_ylabel(\"CCAvg\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='CreditCard',  y='CCAvg', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"CreditCard and CCAvg Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"CreditCard\", fontsize=15)\nax1.set_ylabel(\"CCAvg\", fontsize=15)","4c390dc3":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='CD Account',  y='CCAvg', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"CD Account and CCAvg Boxplot\", fontsize=20)\nax.set_xlabel(\"CD Account\", fontsize=15)\nax.set_ylabel(\"CCAvg\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='CD Account',  y='CCAvg', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"CD Account and CCAvg Boxplot w.r.t Personal Loan\", fontsize=20)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"CD Account\", fontsize=15)\nax1.set_ylabel(\"CCAvg\", fontsize=15)","dd2cd24f":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Securities Account',  y='CCAvg', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Securities Account and CCAvg Boxplot\", fontsize=15)\nax.set_xlabel(\"Securities Account\", fontsize=15)\nax.set_ylabel(\"CCAvg\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Securities Account',  y='CCAvg', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Securities Account and CCAvg Boxplot w.r.t Personal Loan\", fontsize=15)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Securities Account\", fontsize=15)\nax1.set_ylabel(\"CCAvg\", fontsize=15)","0b60b27d":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Online',  y='CCAvg', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Online and CCAvg Boxplot\", fontsize=15)\nax.set_xlabel(\"Online\", fontsize=15)\nax.set_ylabel(\"CCAvg\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Online',  y='CCAvg', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Online and CCAvg Boxplot w.r.t Personal Loan\", fontsize=15)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Online\", fontsize=15)\nax1.set_ylabel(\"CCAvg\", fontsize=15)","da053076":"plt.figure(figsize=(15,7))\nplt.subplot(1,2,1)\nax = sns.boxplot(x='Education',  y='CCAvg', data=loan_data, palette=\"coolwarm\")\nax.set_title(\"Education and CCAvg Boxplot\", fontsize=15)\nax.set_xlabel(\"Education\", fontsize=15)\nax.set_ylabel(\"CCAvg\", fontsize=15)\n\nplt.subplot(1,2,2)\nax1 = sns.boxplot(x='Education',  y='CCAvg', hue='Personal Loan', data=loan_data, palette=\"Greens\")\nax1.set_title(\"Education and CCAvg Boxplot w.r.t Personal Loan\", fontsize=15)\nplt.legend(loc='upper center', ncol=2)\nax1.set_xlabel(\"Education\", fontsize=15)\nax1.set_ylabel(\"CCAvg\", fontsize=15)","ddbcf546":"loan_data.head()","6ea03fb8":"loan_sel = loan_data.drop(['ID', 'Age', 'ZIP Code'], axis=1)","84e3a6c2":"col_names = ['Experience', 'Income', 'Family', 'CCAvg', 'Education', 'Mortgage', 'Securities Account', 'CD Account', 'Online', 'CreditCard', 'Personal Loan']","c4821101":"loan_sel = loan_sel.loc[:,col_names]","9b68049b":"loan_sel.head()","c8d4ea7d":"X = loan_sel.iloc[:, :-1].values\ny = loan_sel.iloc[:, -1].values","bbbb62e1":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 1)","1a074e61":"from sklearn.preprocessing import StandardScaler\nsc = StandardScaler()\nX_train[:, [0,1,2,3,4,5]] = sc.fit_transform(X_train[:, [0,1,2,3,4,5]])\nX_test[:, [0,1,2,3,4,5]] = sc.transform(X_test[:, [0,1,2,3,4,5]])","2cb8ff02":"from sklearn.linear_model import LogisticRegression\nclassifier_logis = LogisticRegression(random_state = 0, solver='lbfgs')\nclassifier_logis.fit(X_train, y_train)","e718ce98":"y_pred_logis = classifier_logis.predict(X_test)","a39dce8c":"from sklearn.metrics import confusion_matrix, accuracy_score, classification_report, roc_curve, roc_auc_score\n\ncm = confusion_matrix(y_test, y_pred_logis)\nlabels_1 = ['Predicted NO', 'Predicted YES']\nlabels_2 = ['Actual NO', 'Actual YES']\nwith sns.axes_style('white'):\n    plt.figure()\n    ax = sns.heatmap(cm, square=True, xticklabels=labels_1, yticklabels=labels_2, annot=True, cmap=plt.cm.jet, fmt='.00f')\n    plt.title(\"Confusion Matrix for Customer will buy Personal Loan or not\")  ","074e3268":"from sklearn.metrics import precision_score, recall_score\nprint (classification_report(y_test, y_pred_logis))\nprint(\"Accuracy Score : \", accuracy_score(y_test, y_pred_logis))","17ea3141":"l_probs = [0 for _ in range(len(y_test))]\nlogis_probs = classifier_logis.predict_proba(X_test)\nlogis_probs = logis_probs[:, 1]\nl_auc = roc_auc_score(y_test, l_probs)\nlogis_auc = roc_auc_score(y_test, logis_probs)\nprint('Logistic Regression: AUROC = %.3f' % (logis_auc))","968caf4c":"l_fpr, l_tpr, _ = roc_curve(y_test, l_probs)\nlogis_fpr, logis_tpr, _ = roc_curve(y_test, logis_probs)\nplt.plot(l_fpr, l_tpr, linestyle='--', label='Random prediction (AUROC = %0.3f)' % l_auc)\nplt.plot(logis_fpr, logis_tpr, marker='.', label='Logistic Regression (AUROC = %0.3f)' % logis_auc)\nplt.title('ROC Plot')\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.legend()\nplt.show()","f42db159":"from sklearn.metrics import cohen_kappa_score\n\nkappa = cohen_kappa_score(y_pred_logis,y_test)\nprint('Random Forest: Kappa Score = %.3f' % (kappa))","3cdef839":"from sklearn.metrics import matthews_corrcoef\nmatthews_corrcoef(y_test, y_pred_logis)","e13d89de":"print(\"Label 1, Before using SMOTE: {} \".format(sum(y_train==1)))\nprint(\"Label 0, Before using SMOTE: {} \".format(sum(y_train==0)))","3aef8691":"from imblearn.over_sampling import SMOTE\nos = SMOTE(random_state=12)\nX_train_os, y_train_os = os.fit_sample(X_train, y_train)","b328aeda":"print(\"Label 1, After using SMOTE: {}\".format(sum(y_train_os==1)))\nprint(\"Label 0, After using SMOTE: {}\".format(sum(y_train_os==0)))","248a7739":"classifier_logis_sm = LogisticRegression(random_state = 0, solver='lbfgs')\nclassifier_logis_sm.fit(X_train_os, y_train_os)","b9bc9c34":"y_pred_logis = classifier_logis_sm.predict(X_test)","49ba720c":"cm = confusion_matrix(y_test, y_pred_logis)\nlabels_1 = ['Predicted NO', 'Predicted YES']\nlabels_2 = ['Actual NO', 'Actual YES']\nwith sns.axes_style('white'):\n    plt.figure()\n    ax = sns.heatmap(cm, square=True, xticklabels=labels_1, yticklabels=labels_2, annot=True, cmap=plt.cm.jet, fmt='.00f')\n    plt.title(\"Confusion Matrix for Customer will buy Personal Loan or not\")","184c2ecc":"print (classification_report(y_test, y_pred_logis))\nprint(\"Accuracy Score : \", accuracy_score(y_test, y_pred_logis))","b9693a68":"l_probs = [0 for _ in range(len(y_test))]\nlogis_probs = classifier_logis_sm.predict_proba(X_test)\nlogis_probs = logis_probs[:, 1]\nl_auc = roc_auc_score(y_test, l_probs)\nlogis_auc = roc_auc_score(y_test, logis_probs)\nprint('Logistic Regression: AUROC = %.3f' % (logis_auc))","c00ccb1d":"l_fpr, l_tpr, _ = roc_curve(y_test, l_probs)\nlogis_fpr, logis_tpr, _ = roc_curve(y_test, logis_probs)\nplt.plot(l_fpr, l_tpr, linestyle='--', label='Random prediction (AUROC = %0.3f)' % l_auc)\nplt.plot(logis_fpr, logis_tpr, marker='.', label='Logistic Regression (AUROC = %0.3f)' % logis_auc)\nplt.title('ROC Plot')\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.legend()\nplt.show()","584cc09f":"kappa = cohen_kappa_score(y_pred_logis,y_test)\nprint('Random Forest: Kappa Score = %.3f' % (kappa))","4111a558":"matthews_corrcoef(y_test, y_pred_logis)","cfef4955":"param_grid = [{'max_depth': [10,20,30,40,50,80,100], 'max_features' : ['Auto', 'sqrt', '0.2'], 'min_samples_leaf' : [5,10,15,20,30,40,50,60],\n               'n_estimators': [10,20,30,50,70,80,100]}]\nprint(\"List of grids: \\n{}\" . format(param_grid))","d49df14d":"from sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import GridSearchCV\n\nclassifier_rf = RandomForestClassifier(random_state = 100)\ngrid_search = GridSearchCV(classifier_rf, param_grid, cv=5, n_jobs=-1)\ngrid_search.fit(X, y)\nprint(\"Best parameters: {}\" . format(grid_search. best_params_))\nprint(\"Best cross-validation score: {:.2f}\" . format(grid_search. best_score_))","41926176":"classifier_rf = RandomForestClassifier(n_estimators = 30, max_depth = 20, max_features = 'sqrt', min_samples_leaf = 5, random_state = 100)\nclassifier_rf.fit(X_train, y_train)","37076f54":"y_pred_rf = classifier_rf.predict(X_test)","b9e5ec87":"cm = confusion_matrix(y_test, y_pred_rf)\nlabels_1 = ['Predicted NO', 'Predicted YES']\nlabels_2 = ['Actual NO', 'Actual YES']\nwith sns.axes_style('white'):\n    plt.figure()\n    ax = sns.heatmap(cm, square=True, xticklabels=labels_1, yticklabels=labels_2, annot=True, cmap=plt.cm.jet, fmt='.00f')\n    plt.title(\"Confusion Matrix for Customer will buy Personal Loan or not\")    ","c43a84d2":"print (classification_report(y_test, y_pred_rf))\nprint(\"Accuracy Score : \", accuracy_score(y_test, y_pred_rf))","68ba9c8f":"r_probs = [0 for _ in range(len(y_test))]\nrf_probs = classifier_rf.predict_proba(X_test)\nrf_probs = rf_probs[:, 1]\nr_auc = roc_auc_score(y_test, r_probs)\nrf_auc = roc_auc_score(y_test, rf_probs)\nprint('Random Forest: AUROC = %.3f' % (rf_auc))","c224ed33":"r_fpr, r_tpr, _ = roc_curve(y_test, r_probs)\nrf_fpr, rf_tpr, _ = roc_curve(y_test, rf_probs)\nplt.plot(r_fpr, r_tpr, linestyle='--', label='Random prediction (AUROC = %0.3f)' % r_auc)\nplt.plot(rf_fpr, rf_tpr, marker='.', label='Random Forest (AUROC = %0.3f)' % rf_auc)\nplt.title('ROC Plot')\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.legend()\nplt.show()","4c4f8ea4":"kappa = cohen_kappa_score(y_pred_rf,y_test)\nprint('Random Forest: Kappa Score = %.3f' % (kappa))","c4228cf6":"matthews_corrcoef(y_test, y_pred_rf)","f0f6bbb8":"classifier_rf_os = RandomForestClassifier(n_estimators = 30, max_depth = 20, max_features = 'sqrt', min_samples_leaf = 5, random_state = 100)\nclassifier_rf_os.fit(X_train_os, y_train_os)","ece1743e":"y_pred_rf = classifier_rf_os.predict(X_test)","4bd61243":"cm = confusion_matrix(y_test, y_pred_rf)\nlabels_1 = ['Predicted NO', 'Predicted YES']\nlabels_2 = ['Actual NO', 'Actual YES']\nwith sns.axes_style('white'):\n    plt.figure()\n    ax = sns.heatmap(cm, square=True, xticklabels=labels_1, yticklabels=labels_2, annot=True, cmap=plt.cm.jet, fmt='.00f')\n    plt.title(\"Confusion Matrix for Customer will buy Personal Loan or not\")    ","f6ec2718":"print (classification_report(y_test, y_pred_rf))\nprint(\"Accuracy Score : \", accuracy_score(y_test, y_pred_rf))","daf4dead":"r_probs = [0 for _ in range(len(y_test))]\nrf_probs = classifier_rf_os.predict_proba(X_test)\nrf_probs = rf_probs[:, 1]\nr_auc = roc_auc_score(y_test, r_probs)\nrf_auc = roc_auc_score(y_test, rf_probs)\nprint('Random Forest: AUROC = %.3f' % (rf_auc))","a4ca9e6a":"r_fpr, r_tpr, _ = roc_curve(y_test, r_probs)\nrf_fpr, rf_tpr, _ = roc_curve(y_test, rf_probs)\nplt.plot(r_fpr, r_tpr, linestyle='--', label='Random prediction (AUROC = %0.3f)' % r_auc)\nplt.plot(rf_fpr, rf_tpr, marker='.', label='Random Forest (AUROC = %0.3f)' % rf_auc)\nplt.title('ROC Plot')\nplt.xlabel('False Positive Rate')\nplt.ylabel('True Positive Rate')\nplt.legend()\nplt.show()","811aa18c":"kappa = cohen_kappa_score(y_pred_rf,y_test)\nprint('Random Forest: Kappa Score = %.3f' % (kappa))","52a5f9df":"matthews_corrcoef(y_test, y_pred_rf)","0a4a8925":"***ANALYSIS***\n\nThe person who have opted for the personal loan belongs to the higher income bracket, whereas most of the customers who didn't bought the loan earns less.","9d3ee197":"***ANALYSIS***\n\nMaximum customers belongs to the family size of 1. And the persons who didn't accepted the Personal Loan offer belongs to family size of 1 followed by 2. The reason might be that, their expense is less than other categories of customers. Whereas out of the customers who have bought the personal loan, maximum have a family of size 3 and 4.","0c3a3bb3":"***ANALYSIS***\n\nFrom the boxplot it is clear that the customers with higher qualification earns more. The median income is also more for the highly educated customers. But the people who bought personal loan from all the three qualification category, has high salary compared to the oneswho didn't bought. Since, the one who earns more might spend more. And to upkeep their life style they are more inclined towards taking personal loan.","028c3062":"### **SMOTE Technique (Synthetic Minority Oversampling Technique)**","38dafe00":"# Please upvote the notebook if you find it useful and comment if you have any suggestion\n\n\n# -------------------------------THANKYOU------------------------------\n","8a058e2c":"# **Feature Engineering**","56e77b61":"## **Checking for Missing Value**","4002728b":"# **Exploratory Data Analysis**","3e5d8df1":"***ANALYSIS***\n\nAfter the first Log transformation, further improvement can be seen in the second Log transformation. So, second Log transformation can be considered for further analysis.","3910a07f":"***ANALYSIS***\n\nThe customers who have CD account have high income and also have high credit card spending.\n\nThe customers who have CD Acoount as well as bought personal loan, their minimum and median CCAvg is higher than the one who don't have a CD Account.","f9a89ba1":"## **TRAIN TEST SPLITTING**","4e3ce2ff":"***ANALYSIS***\n\nSince Age and Experience is highly correlated with each other, so their scatter plot with income is also almost identical. There is no pattern as such in the scatter plot.","84a0567b":"***ANALYSIS***\n\nCustomers with high income owns CD Account i.e. Certificate of Deposit. Also the median income for the persons who opted for Personal Loan is high for the customers who have CD Account with the bank.","f1d0538b":"**Removing Data Inconsistency in Experience Variable**","f6ab615e":"***ANALYSIS***\n\nFrom the distribution we can see that the customers who bought personal loan spents more in credit card. While the spread is almost same for both the classes of customers.","60f7d53a":"## **Detailed Information of the Dataset**","0d29a95b":"## **UNIVARIATE ANALYSIS**","62d5f456":"# **DATASET**\n\nWe have 13 independent variables and 1 dependent variable i.e. \u2018Personal Loan\u2019 in the data set. Last year campaign was conducted on 5000 liability customers. So, there are 5000 rows which can be split into test & train datasets.\n\n\nDescription of the variables\n\n\n\u00b7 ID: Customer ID\n\n\n\u00b7 Age: Customer\u2019s age in completed years\n\n\n\u00b7 Experience: #years of professional experience\n\n\n\u00b7 Income: Annual income of the customer ($000)\n\n\n\u00b7 ZIP Code: Home Address ZIP code.\n\n\n\u00b7 Family: the Family size of the customer\n\n\n\u00b7 CCAvg: Avg. spending on credit cards per month ($000)\n\n\n\u00b7 Education: Education Level. 1: Advanced\/Professional, 2: Graduate, 3: Undergrad\n\n\u00b7 Mortgage: Value of house mortgage if any. ($000)\n\n\n\u00b7 Personal Loan: Did this customer accept the personal loan offered in the last campaign?\n\n\n\u00b7 Securities Account: Does the customer have securities account with the bank?\n\n\n\u00b7 CD Account: Does the customer have a certificate of deposit (CD) account with the bank?\n\n\n\u00b7 Online: Do customers use internet banking facilities?\n\n\n\u00b7 Credit card: Does the customer use a credit card issued by UniversalBank?","89e251ee":"## **MULTIVARIATE ANALYSIS**","dbbd5cec":"## **BIVARIATE ANALYSIS**","ae6a4804":"**CONFUSION MATRIX**","33a04b8f":"***ANALYSIS***\n\n1. The feature Income and CCAvg (Average Credit Card Spending) is the most correlated feature with the dependent variable Personal Loan.\n2. ZIP Code has no correlation with the dependent variable, and Credit Card and Online feature also has very less correlation with the Personal Loan.\n3. Age and Experience feature has extremely high correlation of 0.99 with each other. Since with it is inevitable, that with age, experience also increases and vice-versa. So if we take both the variables we will get high Multicollinearity. Hence we can drop any one of them.\n4. Income and CCAvg also have moderately high correlation of 0.65.","1996d0b6":"***ANALYSIS***\n\nThe customers with high eduction qualification has high CCAvg value than the other two groups. The distribution for the customers who are highly qualified and have bought personal loan is a bit negatively skewed.","a544b597":"***ANALYSIS***\n\nThere is no specific pattern in the scatter plot between Age and Average Credit Card spending. CCAvg doesnot depend on the age of a customer.","9293caca":"### **Feature Distribution Analysis**","f2414586":"**CONFUSION MATRIX**","fef0bf0d":"### **RANDOM FOREST CLASSIFIER with SMOTE ANALYSIS (Synthetic Minority Oversampling Technique)**","5b7649ba":"***ANALYSIS***\n\nIncome doesnot vary with the factor of having a Credit Card or a Online Banking facility.","12cef1b5":"**MODEL EVALUATION**","090ab8bd":"***ANALYSIS***\n\nUsing Logistic Regression, got a AUROC (Area Under ROC curve) score of 0.952 and a Cohen Kappa score of 0.692. In this case recall is more important as false negatives are more important to minimize, but false positives are still important. The precision for class 1 is 0.82 and recall is 0.64. Here Cohen Kappa score has been used since, it is a imbalanced data, so it is better to evaluate the accuracy of the confusion matrix with Cohen Kappa score. Since Cohen Kappa score takes into account the possibility of giving a good score by chance or the model really has any merit. The Matthews Correlation Coefficient (MCC) also gave an accuracy of 0.698. So there is scope of further improvement. \n\nTo improve the output of Logistic Regression further, SMOTE analysis can be used to make the dataset balanced one by oversampling it.","73542a8e":"***ANALYSIS***\n\nCustomers with family size of 1 and 2 earns much more than the other two category. As seen earlier also, all the customers who bought personal loan belongs to high income groups.","d3468752":"Based on the heatmap we can drop the Age variable as it is highly correlated with Experience. Also the dependent variable does not depend on ZIP Code and ID. So we can drop these variables also.","ef4247f1":"# **TECHNIQUES\/MODELS USED**\n\n\n1.   Logistic Regression\n2.   Random Forest Classifier\n3.   SMOTE Technique\n\n","dd34b468":"### **Feature Correlation Analysis**\n\n**Heatmap correlation**","e4c9ffd4":"**FIRST LOG TRANFORMATION OF MORTGAGE**","5c565d3c":"## **SUMMARY**","194ac674":"**MODEL EVALUATION**","348fe826":"**MODEL EVALUATION**","8d505caa":"# **Building Machine Learning Model**","997e6eca":"***ANALYSIS***\n\nThe customers with family size of 2 has the highest CCAvg followed by family size of 1. Their liability might be less than the customers with bigger family size, for which they might spend more in credit card. But the median spending of family size 4 is quite high and the maximum and minimum spending for family with size 3 is higher than all the other groups.\n\nThe CCAvg value is high for all the customers who bought personal loan belonging to all the four categories. The median credit card spending is high for family of size 3. So, the customers who already have high credit card spending is more likely to buy personal loan to meet their needs.","54d9aed8":"***ANALYSIS***\n\nMaximum of the customers don't own a credit card. And the maximum number of customers who bought personal loan falls in this category, as they don't have the privilage to buy anything on credit using credit card. So they are more likely to buy things with personal loan.","7e365c9b":"The feature Mortgage is extremely positive skewed data. Since maximum number of customers have no or very little mortgage. So we can see a huge spike around zero mortgage value. The distribution need to be log transformed to make it more like a normal distribution, to avoid any type of distortion in the output.","f9d552e7":"***ANALYSIS***\n\nThe distribution of age and experience is same for both the class 0 and 1. So, we can infer that age or experience might not have that much effect on the decision of buying a personal loan.","3d9aa944":"**CONFUSION MATRIX**","51ccf2f3":"***ANALYSIS***\n\nOwning a Security Account has almost no effect on Income of that customer.","1c87b6fe":"***ANALYSIS***\n\nThe distribution of Income feature is also right skewed. So, at first tried to normalize the distribution with Log transformation. But didn't got satisfactory result and the data got negatively skewed. To obtain a normal distribution for the given variable, Power Transformation has been implemented, and we got a better result. We can also observe that in the box plot distribution that before there was some outliers present, but after Power Transformation there are no outliers present in the distribution.","a42901e0":"## **Feature Selection**\n","b6aaddab":"***ANALYSIS***\n\nAlmost 4500 of the customers don't have any security account. And both the case of Personal Loan is high for the customers with no security account.","b5b73fe1":"# **PROBLEM STATEMENT**\n\nTo predict the likelihood of a liability customer buying\n personal loans (while retaining them as depositors).\n\n\n# **CONTEXT**\n\n\n\n*   Last year a campaign ran by the bank for the liability customers to convert them to personal loan holders, showed a healthy conversion rate of over 9.6% success.\n\n*   Analysis done on previous year\u2019s campaign data to devise a campaign model to target customers in a better way to increase the success ratio with a minimal budget.\n\n","632b4a41":"## **Data Analysis**","96e9de41":"***ANALYSIS***\n\nAll the accuracy score has improved. The recall score has jumped to 0.79 and precision became 0.99 and f1 score 0.88. Even AUCROC score also increased to 0.996. Also Kappa Score and matthews score both increased significantly. Further using SMOTE technique just to check whether there is any improvement.","a76c67e6":"***ANALYSIS***\n\nMost of the customers has internet banking facity and the ones who have the facility have bought more number of personal loans.","927a0e3b":"***ANALYSIS***\n\nWe can see a clear increasing trend in the average credit card spending with the income of the customer. Customers with high income are more likely to have high credit card spending and more likely to buy Personal Loan as seen earlier.","1fbbf270":"***ANALYSIS***\n\nMany of the customers don't have any mortgage in their name. So we can observe a line along the mortgage value zero. And the mortgage value for the customers increases with increase in their income.","d89e9b2c":"# ***---------------THERA BANK - Personal Loans Conversion Analysis-----------------***","5887c404":"***ANALYSIS***\n\nGot the best result out of all the model. recall = precision = f1_score =0.92. Overall model accuracy also increased to 0.984 and AUCROC is same as that of the previous model. The Kappa score and matthews score we got is the best till now. So this model can be used to get the best result out of all the model.","dfbf5d0e":"***ANALYSIS***\n\n42% of the candidates are Graduate, while 30% are professional and 28% are Undergraduate. Customers with high educational qualification are less likely to buy personal loan. As they should have a high income. But customers who are not that highly qualified are more prone to buy personal loan.","8f8ef377":"# **Loading the Dataset**","f925bd81":"***ANALYSIS***\n\nOn doing GridSearchCV we got the best parameters that can be used to train the model, out of the parameters that has been passed as argument.\nThe best parameters are :\n\n1. n_estimators = 30 (Total 30 decision trees will be used in the forest)\n\n2. max_depth = 20 (The longest path between the root node and the leaf node is 20)\n\n3. max_features = 'sqrt' (The number of maximum features provided to each tree in the random forest is the square root of the total number of features)\n\n4. min_samples_leaf = 5 (The minimum number of samples that should be present in a node to be considered as a leaf node)","1f9e5981":"***ANALYSIS***\n\nThe range of mortgage value is almost same for all the CCAvg value. But frequency of people having mortgage along with high CCAvg is more.","dc7d0e0f":"## **LOGISTIC REGRESSION**\n\n","4f934ebd":"**SECOND LOG TRANFORMATION OF MORTGAGE**","f1783423":"**CONFUSION MATRIX**","2981b55a":"**MODEL EVALUATION**","747041db":"***ANALYSIS***\n\nSimilarly, the CCAvg attribute also has a right skewed distribution. So, to make it like a normal distribution, Power Transformation has been implemented on the values. After transformation we got rid of the outliers from the distribution. ","bc250f4c":"## **RANDOM FOREST CLASSIFIER**","6853d19a":"***ANALYSIS***\n\nOut of the 5000 customers only 480 customers bought the personal loan in the last campaign i.e. 9.6% which has been plotted in the pie chart. So we have a imbalanced data in our hand. If required we can apply SMOTE analysis on the dataset to make it balanced data.","4a1e927d":"***ANALYSIS***\n\nThough the Recall has improved than before as it became 0.83, but the performance of the overall model didn't improved after using SMOTE technique on Logestic Regression. It rather degraded for Logistic Regression with SMOTE. The precision decreased to 0.5 and f1 score also decreased. So ensemble techniques can be used on the dataset. Random Forest Classifier model can be implemented with GridSearch to improve the model performance and if required SMOTE technique can be used.","af51770b":"## **STANDARDIZATION**","806c7ecd":"**GRID SEARCH**"}}