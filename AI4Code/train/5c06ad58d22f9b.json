{"cell_type":{"259698dd":"code","af19d117":"code","cef33eb9":"code","4b7f7260":"code","f48f4e2b":"code","2b4696f9":"code","fa6bb9f1":"code","b5649db2":"code","2b934e6b":"code","c9287896":"code","ebb28bce":"code","94a8c018":"code","da820318":"code","c0174b91":"code","12a7bfd7":"code","2233c448":"code","1f1bdfdd":"code","47cd3e19":"code","1bff9d72":"code","69923b8a":"code","94a554c7":"code","fdb3d47c":"code","877502dc":"code","e6ae91bb":"code","729840e7":"code","306fb2b4":"code","d274dbaa":"code","b3fab1ba":"code","3087d7fd":"code","99b663af":"code","890fe013":"code","190d9a63":"code","a7b4528b":"code","d169c847":"code","fd537fe3":"code","74b977bc":"code","ba906470":"code","58693cd5":"markdown","4b828b9d":"markdown","72973636":"markdown","c583aaf3":"markdown","2abc8e3b":"markdown","8b07b6b2":"markdown","f45ede3e":"markdown","37da05df":"markdown","edbb9439":"markdown","b7a7d6f7":"markdown","eb89411a":"markdown","885f61c4":"markdown","6fbcbb30":"markdown","c1a3f149":"markdown","1f62acc9":"markdown","51ab01b8":"markdown","384f9c56":"markdown","92f41f19":"markdown","1e0942c2":"markdown","0a14d44d":"markdown","14328f82":"markdown","cdaf9634":"markdown","fd9ee338":"markdown","f6cc1dd6":"markdown","61b7acd0":"markdown","98236681":"markdown","a966ab3d":"markdown","724e0972":"markdown","53e87127":"markdown"},"source":{"259698dd":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt                   # For graphics\nfrom matplotlib import animation\nimport matplotlib.animation as animation\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","af19d117":"g = '\/kaggle\/input\/gold-reserves-by-country-quarterly\/gold_quarterly_reserves_ounces.csv'\ngold = pd.read_csv(g, index_col='Country Name')","cef33eb9":"gold.info()","4b7f7260":"gold.head()","f48f4e2b":"time = gold['Time Period'].str.split('Q', 1).str\ngold['Year'] = time[0]\ngold['Quarter'] = time[1]\ngold = gold.drop('Time Period',axis=1)\n\ngold.head()","2b4696f9":"gold['Value'] = gold['Value']\/32000","fa6bb9f1":"gold['Year'] = gold['Year'].astype(int)\ngold['Value'] = round(gold['Value'],0)","b5649db2":"gold['Year']","2b934e6b":"gold2 = gold.drop(['Advanced Economies','Sub-Saharan Africa','Central African Economic and Monetary Community','CIS','Emerging and Developing Asia','Emerging and Developing Europe','Emerging and Developing Countries', 'Europe', 'Euro Area','Middle East, North Africa, Afghanistan, and Pakistan','World','Western Hemisphere','West African Economic and Monetary Union (WAEMU)'])","c9287896":"gold2.index.unique()","ebb28bce":"gold2 = gold2.loc[gold2['Quarter']=='4']","94a8c018":"gold2['Country Name'] = gold2.index\ngold2.reset_index(drop=True, inplace=True)","da820318":"country = gold2['Country Name'].unique()","c0174b91":"temp = {i: j for j, i in enumerate(set(gold2['Country Name']))} \ngold2['Color'] = [temp[i] for i in gold2['Country Name']] ","12a7bfd7":"gold2.sort_values(['Year','Value'], ascending=[True,False], inplace=True)","2233c448":"gold2['Country Name'] = gold2['Country Name'].replace(['Venezuela, Republica Bolivariana de', 'China, P.R.: Mainland', 'Taiwan Province of China', 'Russian Federation', 'Iran, Islamic Republic of'],['Venezuela', 'China', 'Taiwan', 'Russia', 'Iran'])","1f1bdfdd":"gold3 = pd.concat(gold2[gold2['Year']==i][:20] for i in gold2['Year'].unique())","47cd3e19":"gold3.sort_values(['Year', 'Value'], ascending=True, inplace=True)","1bff9d72":"fig = px.bar(gold3, x='Value', y='Country Name', title='Gold', animation_frame='Year', orientation='h', text='Value', width=1100, height=800, color='Color', color_continuous_scale=px.colors.qualitative.Alphabet)\n\nfig.update_layout(xaxis=dict(title='Tonnes of gold', showgrid=True, gridcolor='grey'), yaxis=dict(title=''), paper_bgcolor='white', plot_bgcolor='white', coloraxis=dict(showscale=False))\nfig.show()","69923b8a":"topgold2 = gold2.loc[gold2['Country Name'].isin(['United States','United Kingdom', 'Switzerland', 'Germany', 'France', 'Italy', 'Russian Federation', 'China, P.R.: Mainland', 'Taiwan province of China'])].sort_values('Year')","94a554c7":"fig = px.line(topgold2, x='Year', y='Value', title='Top Gold Reserves', color='Country Name')\n\nfig.update_layout(xaxis=dict(title='Year', showgrid=False), yaxis=dict(title='Tonnes of Gold', showgrid=True, gridcolor='grey'), paper_bgcolor='white', plot_bgcolor='white', legend=dict(xanchor='right', yanchor='top'))\nfig.show()","fdb3d47c":"names2018 = gold2.loc[gold2['Year']==2018][:20]","877502dc":"names2018 = names2018['Country Name'].values","e6ae91bb":"names2018","729840e7":"top2018 = gold2.loc[gold2['Country Name'].isin(names2018)]","306fb2b4":"top2018_x = top2018.sort_values(['Country Name', 'Year'], ascending=True)\ntop2018_x['Variation'] = top2018_x['Value'] - top2018_x['Value'].shift(1)\ntop2018_x = top2018_x[top2018_x['Country Name'].duplicated(keep='first')]","d274dbaa":"top2018_x['Variation']","b3fab1ba":"fig = px.bar(top2018_x, x='Year', y='Variation', title='Top Gold Reserves variations', color='Country Name')\n\nfig.update_layout(xaxis=dict(title='Year', showgrid=False), yaxis=dict(title='Tonnes of Gold', showgrid=True, gridcolor='grey'), paper_bgcolor='white', plot_bgcolor='white', legend=dict(orientation='h'))\nfig.show()","3087d7fd":"var_til1972 = top2018_x.loc[(top2018_x['Year']<1972)].groupby('Country Name').sum().sort_values('Variation', ascending=False)","99b663af":"var_til1972['Country Name'] = var_til1972.index\nvar_til1972.reset_index(drop=True, inplace=True)","890fe013":"fig = px.bar(var_til1972, x='Country Name', y='Variation', title='Total Gold reserves variation 1950-1972', color='Variation')\n\nfig.update_layout(xaxis=dict(title='Country', showgrid=False), yaxis=dict(title='Tonnes of Gold', showgrid=True, gridcolor='grey'), paper_bgcolor='white', plot_bgcolor='white')\nfig.show()","190d9a63":"diffplus = var_til1972.loc[var_til1972['Country Name'].isin(['Germany', 'France', 'Italy', 'Netherlands', 'Switzerland', 'Portugal', 'Austria', 'Japan', 'Spain', 'Lebanon', 'Saudi Arabia', 'Taiwan Province of China'])]\ndiffplus = diffplus.sum()","a7b4528b":"diffUKUS = var_til1972.loc[var_til1972['Country Name'].isin(['United Kingdom', 'United States'])]\ndiffUKUS = diffUKUS.sum()\ndiffUKUS = diffUKUS * (-1) #multiply by -1 to convert value to positive to have a better visualization in the plot","d169c847":"diffcomp = pd.DataFrame([diffplus.Variation, diffUKUS.Variation])","fd537fe3":"diffcomp = diffcomp.rename({0:'Variation'}, axis='columns')\ndiffcomp['Groups'] = ['Rest','UK US']","74b977bc":"diffcomp","ba906470":"fig = px.bar(diffcomp, x='Groups', y='Variation', title='Comparation of increasing and decreasing countries from 1950 to 1972', color='Groups')\n\nfig.update_layout(xaxis=dict(title='Group of countries', showgrid=False), yaxis=dict(title='Tonnes of Gold', showgrid=True, gridcolor='grey'), paper_bgcolor='white', plot_bgcolor='white')\nfig.show()","58693cd5":"### Provided and updated by the IMF data portal (https:\/\/data.imf.org\/?sk=388DFA60-1D26-4ADE-B505-A05A558D9A42).","4b828b9d":"### Removing \"Country Names\" that refers to more than one real country or specific regions","72973636":"### (Click on the Country Names at the right side to filter them)","c583aaf3":"Second: 1979. A big drop down for many of top countries (France, Italy, Germany, Netherlands, UK and US)","2abc8e3b":"We can see that UK and US where the countries that lost big amounts of gold, since some european countries, Japan, Lebanon and Saudi Arabia, obtained significant gold increases between 1950 and 1972.","8b07b6b2":"## Variation from previous year","f45ede3e":"### Variation between 1950-1972 sum","37da05df":"### (Click PLAY button)","edbb9439":"### Dividing the value by 32000, we switch values from ounces to tonnes","b7a7d6f7":"Third: 1998. Big increase for some EU countries (Spain, UK, Portugal, Germany, France and Italy)","eb89411a":"### Evolution of top20 countries' gold reserves from 1950 to 2018","885f61c4":"We can highlight 4 top activity timeframes regarding this graph.","6fbcbb30":"### Animation to see the evolution of top20 countries' gold reserves from 1950 to 2018","c1a3f149":"Fourth: 2000 to 2018. We notice a increase from Russia and China, but also a decrease in Switzerland. Also notice for top countries (US, Germany, France and Italy) there was no variation in their gold reserves.","1f62acc9":"### Visualize the variation's sum between 1950 and 1972 for each country","51ab01b8":"### Difference between increasing and decreasing countries from 1950 to 1972","384f9c56":"### (Click on the Country Names at the right side to filter them)","92f41f19":"Notice the big US gold reserves decrease until 1972 and the increase of Russia and China in the last 20 years.","1e0942c2":"### We analyse the top20 countries of 2018","0a14d44d":"First: 1950 to 1972. It seems there was a lot of variations during those years, most of this activity came from occidental countries (EU and US)","14328f82":"### We want to visualize total variation from one year to the next one for each country","cdaf9634":"### Gold is an important asset and considered by many to be the only real money. This dataset contains quarterly reserves by country since 1950.","fd9ee338":"# (STILL IN PROGRESS. THERE ARE MORE PLOTS, CONCLUSIONS AND IDEAS COMMING. I WOULD APPRECIATE ANY KIND OF COLABORATION TO EXTEND THIS ANALYSIS)","f6cc1dd6":"# Countries' Declared Gold Reserves from 1950 to 2018","61b7acd0":"It's clear after 1972 the gold reserves fluctuation had become more quiet than the previous 20 years. Especially for US, who felt a big decrease of more than 50% of the initial gold reserves in 1950.","98236681":"### Countries' gold reserve variation year by year","a966ab3d":"The sum of the increasing countries (13873 tonnes) and the UK US decrease (13125 tonnes) is pretty similar between 1950 and 1972. Could that be related?","724e0972":"### (Notice that the 'UK US' value was converted to positive to have an easier overview in the plot)","53e87127":"UNDERSTANDING THE GRAPH"}}