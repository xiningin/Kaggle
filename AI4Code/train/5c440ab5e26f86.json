{"cell_type":{"67481340":"code","cf93b847":"code","6d44f640":"code","f7a5a40c":"code","c61055c4":"code","e27880b8":"code","233359d9":"code","0d7dc796":"code","ceb0bfbe":"code","4a0ad6be":"code","3bd4f6fb":"code","c5d158b8":"code","70772127":"code","0e33311a":"code","512b5162":"code","47ff6551":"code","5528115a":"code","3d1ef86e":"code","1763714b":"code","93f31339":"code","1a142776":"code","bc02d45e":"code","ca645b14":"code","d8f68e64":"code","52de7068":"code","41f72242":"code","fef64d37":"code","96083878":"code","c31b571a":"code","acfcb6ae":"code","ce4a2602":"code","bb8cbb96":"code","b26a687a":"code","92578e91":"code","442e3ecc":"code","205006ee":"code","0a05010a":"code","efab4445":"code","0caafc5f":"code","e321c78b":"code","b5ffc560":"code","9be95ca0":"code","3ce4ee8f":"code","525dce21":"code","9d19dd2c":"code","61d4220f":"code","30f7d4db":"code","8a13aab5":"code","b34a71a5":"code","63aa49ee":"code","e8888f08":"code","79e37604":"code","a5a1280c":"code","e9a23bc4":"code","19725bf2":"code","46c55611":"code","0cccee74":"code","fd5c819d":"markdown","1b8ecac1":"markdown"},"source":{"67481340":"import pandas as pd\r\nimport numpy as np\r\nimport seaborn as sns\r\nimport matplotlib.pyplot as plt","cf93b847":"df=pd.read_csv(\"..\/input\/titanic\/train.csv\")","6d44f640":"df.head()","f7a5a40c":"df.shape","c61055c4":"df.drop(labels=\"PassengerId\",axis=1,inplace=True)","e27880b8":"df.dtypes","233359d9":"Ss=df.groupby(['Sex', 'Survived'] )['Survived'].count()\r\nSs","0d7dc796":"Ss.plot.bar(xlabel='Survived: Survival (0 = no; 1 = yes)',ylabel='Total',title='Survived Count',\r\n            colormap='magma',figsize=(8,4))","ceb0bfbe":"Ss.plot.pie(figsize=(6,6))","4a0ad6be":"embarked=df.groupby(['Embarked','Survived'])['Survived'].count()\r\nembarked","3bd4f6fb":"embarked.plot.bar(xlabel='Survived: Survival (0 = no; 1 = yes)',ylabel='Total',title='Survived Count',\r\n            colormap='magma',figsize=(8,4))","c5d158b8":"data=[df]\r\nfor dataset in data:\r\n    dataset['FamilySize'] = dataset['SibSp'] + dataset['Parch'] + 1","70772127":"for dataset in data:\r\n    dataset['IsAlone'] = 0\r\n    dataset.loc[dataset['FamilySize'] == 1, 'IsAlone'] = 1","0e33311a":"df.describe().T","512b5162":"df.isnull().sum()","47ff6551":"value=df['Age'].median()\r\nvalue","5528115a":"df['Age']=df['Age'].fillna(value)","3d1ef86e":"df['age_class'] = pd.cut(df['Age'], 5)\r\n\r\nprint (df[['age_class', 'Survived']].groupby(['age_class'], as_index=False).mean())\r\n","1763714b":"df['Age_Group']=0\r\ndata=[df]\r\nfor dataset in data:\r\n    \r\n    dataset.loc[ dataset['Age'] <= 16, 'Age_Group'] = 0\r\n    dataset.loc[(dataset['Age'] > 16) & (dataset['Age'] <= 32), 'Age_Group'] = 1\r\n    dataset.loc[(dataset['Age'] > 32) & (dataset['Age'] <= 48), 'Age_Group'] = 2\r\n    dataset.loc[(dataset['Age'] > 48) & (dataset['Age'] <= 64), 'Age_Group'] = 3\r\n    dataset.loc[ dataset['Age'] > 64, 'Age_Group'] = 4","93f31339":"sns.barplot(x='Age_Group',y='Survived',data=df)","1a142776":"df","bc02d45e":"df['Embarked']=df['Embarked'].fillna('S')","ca645b14":"df.isnull().sum()","d8f68e64":"df['Embarked']=df['Embarked'].map({'S':0,'C':1,'Q':2}).astype(int)","52de7068":"df['Sex'].replace(['female','male'],[0,1],inplace=True)\r\ndf.head()","41f72242":"df.groupby(['Fare'])['Survived'].count()","fef64d37":"df['Fare_Type'] = pd.cut(df['Fare'], 10)\r\n\r\nprint (df[['Fare_Type', 'Survived']].groupby(['Fare_Type'], as_index=False).mean())","96083878":"df['Fare_Group']=0\r\ndata=[df]\r\nfor dataset in data:\r\n    dataset.loc[ dataset['Fare'] <= 51, 'Fare_Group'] = 0\r\n    dataset.loc[(dataset['Fare'] > 51) & (dataset['Fare'] <= 102), 'Fare_Group'] = 1\r\n    dataset.loc[(dataset['Fare'] > 102) & (dataset['Fare'] <= 153), 'Fare_Group'] = 2\r\n    dataset.loc[(dataset['Fare'] > 153) & (dataset['Fare'] <= 204), 'Fare_Group'] = 3\r\n    dataset.loc[(dataset['Fare'] > 204) & (dataset['Fare'] <= 256), 'Fare_Group'] = 4\r\n    dataset.loc[(dataset['Fare'] > 256) & (dataset['Fare'] <= 307), 'Fare_Group'] = 5\r\n    dataset.loc[(dataset['Fare'] > 307) & (dataset['Fare'] <= 358), 'Fare_Group'] = 6\r\n    dataset.loc[(dataset['Fare'] > 358) & (dataset['Fare'] <= 409), 'Fare_Group'] = 7\r\n    dataset.loc[(dataset['Fare'] > 409) & (dataset['Fare'] <= 461), 'Fare_Group'] = 8\r\n    dataset.loc[ dataset['Fare'] > 461, 'Fare_Group'] = 9","c31b571a":"df.head()","acfcb6ae":"columns=['Sex','Embarked','FamilySize','IsAlone','Age_Group','Fare_Group']\r\ntrain_df=df[columns]\r\ntrain_df.head()","ce4a2602":"y=df['Survived']","bb8cbb96":"test=pd.read_csv(\"..\/input\/titanic\/test.csv\")\r\ntest.head()","b26a687a":"test.dtypes","92578e91":"test.isnull().sum()","442e3ecc":"value_test_age=test['Age'].median()\r\nvalue_test_age","205006ee":"test['Age']=test['Age'].fillna(value_test_age)\r\n","0a05010a":"value_test_fare=test['Fare'].median()\r\ntest['Fare']=test['Fare'].fillna(value_test_fare)","efab4445":"test.isnull().sum()","0caafc5f":"test['Embarked']=test['Embarked'].map({'S':0,'C':1,'Q':2}).astype(int)","e321c78b":"test['Sex'].replace(['female','male'],[0,1],inplace=True)\r\ntest.head()","b5ffc560":"test['Age_Group']=0\r\ndata=[test]\r\nfor dataset in data:\r\n    \r\n    dataset.loc[ dataset['Age'] <= 16, 'Age_Group'] = 0\r\n    dataset.loc[(dataset['Age'] > 16) & (dataset['Age'] <= 32), 'Age_Group'] = 1\r\n    dataset.loc[(dataset['Age'] > 32) & (dataset['Age'] <= 48), 'Age_Group'] = 2\r\n    dataset.loc[(dataset['Age'] > 48) & (dataset['Age'] <= 64), 'Age_Group'] = 3\r\n    dataset.loc[ dataset['Age'] > 64, 'Age_Group'] = 4","9be95ca0":"test.dtypes","3ce4ee8f":"test['Fare_Group']=0\r\ndata_test=[test]\r\nfor dataset in data_test:\r\n    dataset.loc[ dataset['Fare'] <= 51, 'Fare_Group'] = 0\r\n    dataset.loc[(dataset['Fare'] > 51) & (dataset['Fare'] <= 102), 'Fare_Group'] = 1\r\n    dataset.loc[(dataset['Fare'] > 102) & (dataset['Fare'] <= 153), 'Fare_Group'] = 2\r\n    dataset.loc[(dataset['Fare'] > 153) & (dataset['Fare'] <= 204), 'Fare_Group'] = 3\r\n    dataset.loc[(dataset['Fare'] > 204) & (dataset['Fare'] <= 256), 'Fare_Group'] = 4\r\n    dataset.loc[(dataset['Fare'] > 256) & (dataset['Fare'] <= 307), 'Fare_Group'] = 5\r\n    dataset.loc[(dataset['Fare'] > 307) & (dataset['Fare'] <= 358), 'Fare_Group'] = 6\r\n    dataset.loc[(dataset['Fare'] > 358) & (dataset['Fare'] <= 409), 'Fare_Group'] = 7\r\n    dataset.loc[(dataset['Fare'] > 409) & (dataset['Fare'] <= 461), 'Fare_Group'] = 8\r\n    dataset.loc[ dataset['Fare'] > 461, 'Fare_Group'] = 9","525dce21":"for dataset in data_test:\r\n    dataset['FamilySize']=dataset['SibSp']+dataset['Parch']+1","9d19dd2c":"test['IsAlone']=1\r\nfor dataset in data_test:\r\n\r\n    dataset.loc[ dataset['FamilySize'] > 1, 'IsAlone'] = 0","61d4220f":"test.head()","30f7d4db":"test_df=test[columns]\r\ntest_df.head()","8a13aab5":"submission=pd.read_csv('..\/input\/titanic\/gender_submission.csv')\r\n\r\nreal_submission=submission['Survived']\r\nreal_submission","b34a71a5":"from sklearn.model_selection import train_test_split\r\nX_train, X_test, y_train, y_test=train_test_split(train_df,y,test_size=0.3,random_state=42)","63aa49ee":"from sklearn.linear_model import LogisticRegression\r\nmodel_Lr=LogisticRegression(C=0.1)","e8888f08":"model_Lr.fit(X_train,y_train)","79e37604":"model_Lr.score(X_test,y_test)","a5a1280c":"from sklearn.metrics import confusion_matrix\r\n\r\nLr_train_pred=model_Lr.predict(X_test)\r\n\r\ncm=confusion_matrix(y_test, Lr_train_pred)\r\n\r\nsns.heatmap(cm,annot=True,fmt='2.0f').set_title(\"Logistic Regression For Train Data\")\r\n","e9a23bc4":"Lr_test_pred=model_Lr.predict(test_df)\r\ncm=confusion_matrix(real_submission,Lr_test_pred)\r\nsns.heatmap(cm,annot=True,fmt='2.0f').set_title('Logistic Regression For Test Data')","19725bf2":"predictions = model_Lr.predict(test_df)\n\n\npredictions","46c55611":"submission = pd.DataFrame({'PassengerId':test['PassengerId'],'Survived':predictions})\n\n\nsubmission.head()","0cccee74":"filename = 'Titanic Predictions .csv'\n\nsubmission.to_csv(filename,index=False)\n\nprint('Saved file: ' + filename)","fd5c819d":"Female = 0, Male = 1","1b8ecac1":"0=\u00c7ocuk,1=Yeti\u015fkin,2=Orta ya\u015fl\u0131,3=ya\u015fl\u0131"}}