{"cell_type":{"8f60b535":"code","0dc7fb0d":"code","ebea941f":"code","5df39219":"code","c8425f47":"code","1558b847":"code","a42b5e68":"code","dbb5072e":"code","e8e9bc5b":"code","70cf3ac2":"code","ef4125eb":"code","1e92a2e4":"code","df1ce613":"code","7651ef04":"code","a356ddc1":"code","8d9268fc":"code","518b8640":"code","7ec8df80":"code","0077cc49":"code","a77630c6":"code","f28b37a5":"code","7dbb9b54":"markdown","69b5bdb7":"markdown","98f0c656":"markdown","6c612e3c":"markdown","2c94ddb2":"markdown","6385b8a5":"markdown","7767ac60":"markdown","becf3c32":"markdown","01ac54bb":"markdown","81956812":"markdown","f2a65173":"markdown","b8b5d240":"markdown","961a2961":"markdown","a4cd49a6":"markdown","779036ed":"markdown","8651ff25":"markdown","33a08cc9":"markdown","987c0220":"markdown","c21bdf1f":"markdown"},"source":{"8f60b535":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0dc7fb0d":"import matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use('seaborn')","ebea941f":"COLtop10_minutos = pd.read_csv('\/kaggle\/input\/colombian-players-data\/COLtop10_minutos.csv')\nCOLtop10_partidos = pd.read_csv('\/kaggle\/input\/colombian-players-data\/COLtop10_partidos.csv')\ndataset_15 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_15.csv')\ndataset_16 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_16.csv')\ndataset_17 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_17.csv')\ndataset_18 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_18.csv')\ndataset_19 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_19.csv')\ndataset_20 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_20.csv')\ncolumns_to_keep = ['sofifa_id', 'short_name','age','height_cm','weight_kg','nationality','overall','potential','player_positions','pace','shooting','passing','dribbling','defending','physic','gk_diving','gk_handling','gk_kicking','gk_reflexes','gk_speed','gk_positioning','player_traits','attacking_crossing','attacking_finishing','attacking_heading_accuracy','attacking_short_passing','attacking_volleys','skill_dribbling','skill_curve','skill_fk_accuracy','skill_long_passing','skill_ball_control','movement_acceleration','movement_sprint_speed','movement_agility','movement_reactions','movement_balance','power_shot_power','power_jumping','power_stamina','power_strength','power_long_shots','mentality_aggression','mentality_interceptions','mentality_positioning','mentality_vision','mentality_penalties','mentality_composure','defending_marking','defending_standing_tackle','defending_sliding_tackle','goalkeeping_diving','goalkeeping_handling','goalkeeping_kicking','goalkeeping_positioning','goalkeeping_reflexes','ls','st','rs','lw','lf','cf','rf','rw','lam','cam','ram','lm','lcm','cm','rcm','rm','lwb','ldm','cdm','rdm','rwb','lb','lcb','cb','rcb','rb']\n#eliminar columnas innecesarias\ndataset_15 = dataset_15[columns_to_keep]\ndataset_16 = dataset_16[columns_to_keep]\ndataset_17 = dataset_17[columns_to_keep]\ndataset_18 = dataset_18[columns_to_keep]\ndataset_19 = dataset_19[columns_to_keep]\ndataset_20 = dataset_20[columns_to_keep]\ntopCOL_id = list(dataset_20.where((dataset_20['nationality'] == 'Colombia')).dropna(how='all')['sofifa_id'][:200])","5df39219":"dataset_20.set_index('sofifa_id').loc[topCOL_id[:10]][['short_name']]","c8425f47":"columns_to_keep2 = ['sofifa_id','overall','potential']\ndfColtop5 = pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_15.csv')[columns_to_keep2].set_index('sofifa_id').loc[topCOL_id[:5]].rename(columns={'overall':'Overall_15','potential':'potential_15'})\nfor i in range(16,21):\n    t= pd.read_csv('\/kaggle\/input\/fifa-20-complete-player-dataset\/players_{}.csv'.format(i))[['sofifa_id','overall','potential']].set_index('sofifa_id')\n    dfColtop5['overall_{}'.format(i)] = t.loc[t.index.intersection(topCOL_id[:5])]['overall']\n    dfColtop5['potential_{}'.format(i)] = t.loc[t.index.intersection(topCOL_id[:5])]['potential']\ndfColtop5['overall_16'].iloc[1] = 59\ndfColtop5['potential_16'].iloc[1] = 71;\nfig, (ax1,ax2) = plt.subplots(2,1,figsize=(15, 6))\nax1.plot(dfColtop5.T[::2])\nplt.sca(ax1)\nplt.xticks(list(dfColtop5.T[::2].index),[\"\"])\nplt.title('Overall score')\nplt.ylabel('score')\nax2.plot(dfColtop5.T[1::2])\nplt.sca(ax2)\nplt.xticks(list(dfColtop5.T[1::2].index),range(2015,2021))\nplt.title('Potential score')\nplt.xlabel('years 2015 - 2020')\nplt.ylabel('score')\nfig.legend(dataset_20.set_index('sofifa_id').loc[topCOL_id[:5]]['short_name'],loc='lower right')\nfig.suptitle('overall and potential score top 5 players Colombian team (2015\/20)');\n","1558b847":"seasons = list()\nfor line in COLtop10_partidos[:5].set_index('sofifa_id').fillna(0).T.index:\n    seasons.append(line.split(\"_\")[1])\nfig, (ax1,ax2) = plt.subplots(2,1,figsize=(10, 6))\nax1.plot(COLtop10_minutos[:5].set_index('sofifa_id').fillna(0).T)\nplt.sca(ax1)\nplt.xticks(list(COLtop10_minutos[:5].set_index('sofifa_id').fillna(0).T.index),[\"\"])\nplt.ylabel('minutes played')\nax2.plot(COLtop10_partidos[:5].set_index('sofifa_id').fillna(0).T)\nplt.sca(ax2)\nplt.xticks(list(COLtop10_partidos[:5].set_index('sofifa_id').fillna(0).T.index),seasons,rotation=30)\nplt.xlabel('seasons 2008 - 2020')\nplt.ylabel('appearances')\nfig.legend(dataset_20.set_index('sofifa_id').loc[topCOL_id[:5]]['short_name'],loc='lower right')\nfig.suptitle('Minutes played and appearances top 5 players Colombian team seasons 2008\/20)');","a42b5e68":"topCOL_df = dataset_20.set_index('sofifa_id').loc[topCOL_id]\ntopCOL_df['best_pos'] = topCOL_df['player_positions'].str.split(',').str[0]\n\ndct_pos = {\n    'ST': 'Fwd_Centre',\n    'CF': 'Fwd_Centre',\n    'LW': 'Fwd_Winger',\n    'RW': 'Fwd_Winger',\n    'CM': 'Mid_Centre',\n    'CAM': 'Mid_Centre',\n    'CDM': 'Mid_Centre',\n    'LM': 'Mid_Side',\n    'RM': 'Mid_Side',\n    'CB': 'Back_Centre',\n    'LB': 'Back_Side',\n    'RB': 'Back_Side',\n    'LWB': 'Back_Winger',\n    'RWB': 'Back_Winger',\n    'GK': 'Goal_Keeper'}\ns = {'Back_Centre':['physic','defending','pace'],\n     'Back_Side':['pace','physic','defending','dribbling'],\n     'Back_Winger':['pace','physic','dribbling','defending'],\n     'Mid_Centre':['pace','dribbling','physic'],\n     'Mid_Side':['pace','passing','shooting','physic'],\n     'Fwd_Centre':['pace','shooting','physic','dribbling'],\n     'Fwd_Winger':['pace','shooting','passing'],\n     'Goal_Keeper': ['overall','potential']}\ntopCOL_df['best_pos'] = topCOL_df['best_pos'].map(dct_pos)","dbb5072e":"plt.figure(figsize=(10,6))\nsns.swarmplot('best_pos', 'overall', data=topCOL_df,\n              order=['Goal_Keeper','Back_Winger','Back_Side','Back_Centre','Mid_Side',\n                     'Mid_Centre','Fwd_Winger','Fwd_Centre']);","e8e9bc5b":"temp = list()\nfor id in topCOL_df.index:\n    dataplayer = topCOL_df.loc[id]\n    temp.append(dataplayer[s[dataplayer['best_pos']]].mean())\ntopCOL_df['best_stat'] = temp\nplt.figure(figsize=(10,6))\nsns.swarmplot('best_pos', 'best_stat', data=topCOL_df,\n              order=['Goal_Keeper','Back_Winger','Back_Side','Back_Centre','Mid_Side',\n                     'Mid_Centre','Fwd_Winger','Fwd_Centre']);","70cf3ac2":"topCOL_df = topCOL_df.reset_index()[['best_pos','short_name','best_stat']]\ntopCOL_df.groupby('best_pos')[['short_name']].count()","ef4125eb":"numberplayers = 5\ntopCOL_pos_df = list()\nfor pos in s:\n    lista = topCOL_df[topCOL_df['best_pos'] == pos].sort_values(by=['best_stat'], ascending=False)\n    if len(lista) == 1:\n        topCOL_pos_df.append(list(lista.iloc[0]))\n    else:\n        for i in range(min(len(lista),numberplayers)):\n            topCOL_pos_df.append(list(lista.iloc[i]))\ntopCOL_pos_df = pd.DataFrame(data=topCOL_pos_df,columns=['best_pos','short_name','best_stat'])\ntopCOL_pos_df = topCOL_pos_df.set_index(['best_pos','best_stat'])\ntopCOL_pos_df","1e92a2e4":"topCOL_id = list(dataset_20.where((dataset_20['nationality'] == 'Colombia')).dropna(how='all')['sofifa_id'][:200])\ntopARG_id = list(dataset_20.where((dataset_20['nationality'] == 'Argentina')).dropna(how='all')['sofifa_id'][:200])\ntopBRZL_id = list(dataset_20.where((dataset_20['nationality'] == 'Brazil')).dropna(how='all')['sofifa_id'][:200])\ntopMEX_id = list(dataset_20.where((dataset_20['nationality'] == 'Mexico')).dropna(how='all')['sofifa_id'][:200])\ntopBEL_id = list(dataset_20.where((dataset_20['nationality'] == 'Belgium')).dropna(how='all')['sofifa_id'][:200])\ntopFRA_id = list(dataset_20.where((dataset_20['nationality'] == 'France')).dropna(how='all')['sofifa_id'][:200])\ntopENG_id = list(dataset_20.where((dataset_20['nationality'] == 'England')).dropna(how='all')['sofifa_id'][:200])\ntop_id = np.array([topBRZL_id,topARG_id,topCOL_id]).flat[0:]","df1ce613":"top_stats_df1 = dataset_20.set_index('sofifa_id')[['short_name','age','height_cm','weight_kg','nationality']].loc[top_id]\ntop_stats_df2 = dataset_20.set_index('sofifa_id')[['overall','potential','nationality']].loc[top_id]\ntop_stats_df3 = dataset_20.set_index('sofifa_id')[['pace','shooting','passing','dribbling','defending','physic','nationality']].loc[top_id]","7651ef04":"sns.pairplot(top_stats_df1 , hue='nationality', diag_kind='kde', height=3);","a356ddc1":"sns.pairplot(top_stats_df2 , hue='nationality', diag_kind='kde', height=3);","8d9268fc":"sns.pairplot(top_stats_df3 , hue='nationality', diag_kind='kde', height=2);","518b8640":"sns.violinplot('nationality', 'overall', data=top_stats_df2,inner=None);\nsns.swarmplot('nationality', 'overall', data=top_stats_df2,color=\"gray\",\n              edgecolor=\"black\");","7ec8df80":"top_id = np.array([topCOL_id, topMEX_id]).flat[0:]\n\n#dataset estad\u00edsticas top jugadores\ntop_stats_df1 = dataset_20.set_index('sofifa_id')[['short_name','age','height_cm','weight_kg','nationality']].loc[top_id]\ntop_stats_df2 = dataset_20.set_index('sofifa_id')[['overall','potential','nationality']].loc[top_id]\ntop_stats_df3 = dataset_20.set_index('sofifa_id')[['pace','shooting','passing','dribbling','defending','physic','nationality']].loc[top_id]\nsns.pairplot(top_stats_df1 , hue='nationality', diag_kind='kde', height=3);","0077cc49":"sns.pairplot(top_stats_df2 , hue='nationality', diag_kind='kde', height=3);","a77630c6":"sns.pairplot(top_stats_df3 , hue='nationality', diag_kind='kde', height=2);","f28b37a5":"sns.violinplot('nationality', 'overall', data=top_stats_df2,inner=None);\nsns.swarmplot('nationality', 'overall', data=top_stats_df2,color=\"gray\",\n              edgecolor=\"black\");","7dbb9b54":"So, according to @ okai999:\nThe heatmap tells the requirement of each position:\n- Centre Defeners: Good Physic, such that you won't get crushed by the strikers\n- Side (Wing) Defenders: Good defending skills and dribbling skills. You are the one to stop the counterparts and start your attack.\n- Centre Midfielders: Good dribbling and passing skills is a must! You are connecting everyone in your team.\n- Side Midfielders: Good passing skills and shooting skills would be useful. You are a great assistant to the strikers.\n- Forward Wingers: Good shooting skills with fast pace are the definition of wingers. You are the attacker from the side.\n- Centre Forward: Good dribbling and shooting skills is a must. Sometimes good physic can give you extra advantage to crush the defenders in the air!","69b5bdb7":"*(sorry James we know you deserve more)*","98f0c656":"Choose the top 200 players of some countries","6c612e3c":"Now, our prediction is not far to the actual data (https:\/\/en.wikipedia.org\/wiki\/Colombia_national_football_team), not too shabby.","2c94ddb2":"A summary of the positions of the 200 players","6385b8a5":"Here is a chart showing the positions of the 200 best Colombian players. It seems that we are stronger in Midfielder \/ offensive than in defense","7767ac60":"Import some useful libraries","becf3c32":"Clean the data, add some columns","01ac54bb":"# Payer analysis\nFor this part I base my analysis on this work (https:\/\/www.kaggle.com\/hokai999\/fifa20-predict-the-best-position), here, @okai999 answered the question 'Given the 6 basic attributes, can we derive the best player position?'","81956812":"## Colombian players compared to other players","f2a65173":"This are the top 10 colombian players of FIFA 20","b8b5d240":"So compared to Brazil and Argentina (better teams?), The Colombian team is below its statistics. How about comparing Colombia to Mexico (tenth and eleventh place in the FIFA ranking)","961a2961":"Let's make some useful charts, first, overall score and potential top 10 (2015\/20)","a4cd49a6":"So, let's see how our players 'fit' into those requirements, here, I choose the best attributes 2\/3 and calculate the mean","779036ed":"Again, seems that we are stronger in Midfielder \/ offensive","8651ff25":"Rearange an clean the data","33a08cc9":"*I am learning data science (and python), this is my final project for a MOOC, so be nice to me.\nAny suggestion is highly appreciated*.\n\nEnjoy","987c0220":"Who are the best players of each position?, let's see","c21bdf1f":"Now, let's look at the real life data, what about the minutes and the appearances in 2008\/20?"}}