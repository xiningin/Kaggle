{"cell_type":{"e79d4a29":"code","97f9718e":"code","9c3bb43b":"code","007b136c":"code","039b5410":"code","2d443f3f":"code","fc7a1414":"code","44e531c3":"code","a6662f08":"code","bab73087":"code","92f5e394":"code","86e7d63e":"code","e288d568":"code","7a83d8a0":"code","fa39da16":"code","b6e4017a":"code","bdee3c69":"code","96d4132e":"code","6ed1db90":"code","bda36710":"code","1b7cfe96":"code","61345034":"markdown","a5702633":"markdown","220a9f73":"markdown","2ed51cbb":"markdown","f80f43bd":"markdown","3f79a9fb":"markdown","c103bce9":"markdown","574a05c0":"markdown","528b6a84":"markdown","b9f567ad":"markdown","70ab9c27":"markdown","5bc67aab":"markdown","c3877d40":"markdown","b75ed7ff":"markdown","a52c2036":"markdown","f851a938":"markdown","fc647787":"markdown","9d3095a5":"markdown","7097eb98":"markdown","d1655ce4":"markdown","efe58d44":"markdown","727ba354":"markdown","28decdf4":"markdown","b2665120":"markdown","ffac712a":"markdown"},"source":{"e79d4a29":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.svm import SVC\nfrom sklearn.metrics import classification_report,f1_score,confusion_matrix\nfrom sklearn.ensemble import RandomForestClassifier","97f9718e":"fig_X = 10\nfig_y = 8\nbins = 25\ntitle_size = 20\ncolor = 'b'","9c3bb43b":"score_df = pd.read_csv('..\/input\/patient-health-scores-for-ehr-data\/Patient Severity Score for Electronic Health Records.csv')\nscore_df.head()","007b136c":"score_df.shape","039b5410":"score_df.columns","2d443f3f":"score_df = score_df.rename(columns={'SCORE ':'SCORE'})\nscore_df.columns","fc7a1414":"score_df.isnull().sum()","44e531c3":"plt.figure(figsize=(fig_X,fig_y))\nsns.histplot(x='TEMPF',data=score_df,color=color,bins=bins);\nplt.title(\"Distribution of feature temp\",{'fontsize':title_size});","a6662f08":"plt.figure(figsize=(fig_X,fig_y))\nsns.histplot(x='PULSE',data=score_df,bins=bins,color=color);\nplt.title(\"Distribution of feature PULSE\",{'fontsize':title_size})","bab73087":"plt.figure(figsize=(fig_X,fig_y))\nsns.histplot(x='RESPR',data=score_df,bins=bins+30,color=color);\nplt.title(\"Distribution of feature RESPR(Respiration)\",{'fontsize':title_size});","92f5e394":"fig, axes = plt.subplots(1, 2, figsize=(fig_X, fig_y), sharey=True);\nfig.suptitle('Distribution of features BPSYS and BPDIAS');\nsns.histplot(ax=axes[0],x='BPSYS',data=score_df,bins=bins,color=color);\nsns.histplot(ax=axes[1],x='BPDIAS',data=score_df,bins=bins,color=color);","86e7d63e":"plt.figure(figsize=(fig_X,fig_y))\nsns.histplot(x='POPCT',data=score_df,color=color,bins=bins);\nplt.title(\"Distribution of POPCT feature\",{'fontsize':title_size});","e288d568":"fig, axes = plt.subplots(3, 3, figsize=(fig_X, fig_y+15), sharey=True);\nsns.violinplot(ax=axes[0][0],x='TEMPF',data=score_df,color=color);\naxes[0][0].set_title('TEMPF');\nsns.violinplot(ax=axes[0][1],x='PULSE',data=score_df,color=color);\naxes[0][1].set_title('PULSE');\nsns.violinplot(ax=axes[0][2],x='PULSE',data=score_df,color=color);\naxes[0][2].set_title('PULSE');\nsns.violinplot(ax=axes[1][0],x='RESPR',data=score_df,color=color);\naxes[1][0].set_title('RESPR');\nsns.violinplot(ax=axes[1][1],x='BPSYS',data=score_df,color=color);\naxes[1][1].set_title('BPSYS');\nsns.violinplot(ax=axes[1][2],x='BPDIAS',data=score_df,color=color);\naxes[1][2].set_title('BPDIAS');\nsns.violinplot(ax=axes[2][0],x='POPCT',data=score_df,color=color);\naxes[2][0].set_title('POPCT');\nfig.delaxes(axes[2][1])\nfig.delaxes(axes[2][2])","7a83d8a0":"X = score_df.drop('SCORE',axis=1)\ny = score_df.SCORE","fa39da16":"X_train,X_test,y_train,y_test = train_test_split(X,y,test_size=0.2,random_state=11)","b6e4017a":"scalar = StandardScaler()\nX_train = scalar.fit_transform(X_train)\nX_test = scalar.transform(X_test)","bdee3c69":"import pickle\nwith open('scalar.pkl','wb') as f:\n    pickle.dump(scalar,f)","96d4132e":"model_name = list()\naccuracy = list()\nmodels = {\n    LogisticRegression(max_iter=500):'Logistic Regression',\n    SVC():\"Support Vector Machine\",\n    RandomForestClassifier():'Random Forest'\n}\nfor m in models.keys():\n    m.fit(X_train,y_train)\nfor model,name in models.items():\n     print(f\"Accuracy Score for {name} is : \",model.score(X_test,y_test)*100,\"%\")\n     model_name.append(name)\n     accuracy.append(model.score(X_test,y_test)*100)","6ed1db90":"for model,name in models.items():\n    y_pred = model.predict(X_test)\n    print(f\"Classification Report for {name}\")  \n    print(\"----------------------------------------------------------\")\n    print(classification_report(y_test,y_pred))\n    print(\"----------------------------------------------------------\")","bda36710":"for model,name in models.items():\n    y_pred = model.predict(X_test)\n    class_names = [0,1]\n    fig,ax = plt.subplots()\n    tick_marks = np.arange(len(class_names))\n    plt.xticks(tick_marks,class_names)\n    plt.yticks(tick_marks,class_names)\n\n    cnf_matrix = confusion_matrix(y_test,y_pred)\n    sns.heatmap(pd.DataFrame(cnf_matrix), annot = True, cmap = 'YlGnBu',\n                fmt = 'g')\n    ax.xaxis.set_label_position('top')\n    plt.tight_layout()\n    plt.title(f'Confusion Matrix for {name}', {'fontsize':20})\n    plt.ylabel('Actual label')\n    plt.xlabel('Predicted label')\n    plt.show()","1b7cfe96":"plt.figure(figsize=(fig_X,fig_y))\nplt.bar(model_name,accuracy,color=color);\nplt.title(\"Accuracy of each model\",{'fontsize':title_size});","61345034":"## **Model Creation**","a5702633":"## **Split Data into Training and Testing**","220a9f73":"### Check for null values","2ed51cbb":"### **Inference :** There are no null values present in our dataset.","f80f43bd":"## **Some usefull parameters**","3f79a9fb":"### **Some facts about BPSYS(Systolic Blood Pressure) and BPDIAS(Diastolic Blood Pressure) \ud83d\udc47\ud83d\udc47\ud83d\udc47**\n### Systolic blood pressure means maximum pressure attend by human body.\n### Diastolic blood pressure means minimum level it reaches between breaths.\n### Normal BPSYS is 120 to 129 mmHg and BPDIAS is 80 to 84 mmHg.\n### High blood pressure is anything above 140\/90 mmHg(here 140 is BPSYS & 90 is BPDIAS).A blood pressure reading over 180\/120 is dangerous high. Its also called **Hypertensive Crisis**.","c103bce9":"## **Data Cleaning**","574a05c0":"### **Some facts about POPCT(Oxygen Saturation) \ud83d\udc47\ud83d\udc47\ud83d\udc47**\n### POPCT means how much oxygen the haemoglobin in your body is carrying.\n### Normal saturation is 75 to 100 mmHg.","528b6a84":"### **Some Facts about TEMPF Feature \ud83d\udc47**\n### The ideal temperature of human body is 98.6F(37C).\n### For adults body temp can be between 97F to 99F and for chidrens\/babies have higher range between 97.9 to 100F\n### Looking after data most of the patients have ideal(healthy) body temperature.","b9f567ad":"## **Import Libraries**","70ab9c27":"### Split data into dependent and independent variable","5bc67aab":"### **Classification Report**","c3877d40":"### **Some facts about RESPR feature \ud83d\udc47**\n### Respiration means breaths per minutes.\n### The rate measures when a person rest by counting no of breaths per minutes by counting how many times the chest rises.","b75ed7ff":"## **Accuracy of Each model**","a52c2036":"### 4]Systolic BP and Diastolic BP","f851a938":"### Respiration","fc647787":"### 2]Pulse Rate","9d3095a5":"### **Some Facts about PULSE feature \ud83d\udc47**\n### The feature pulse is all about pulse rate of human body or it also called as heart rate. It is basically no of times your heart\n### beats per minutes.\n### Pulse rate for healthy person is 60 to 100 beats\/min.\n### Pulse rate normal when you are at rest and increases when you exercise(more oxygen rich blood is needed by the body)\n### Ideal pulse rate for children is 70 to 100 beats\/min and for adults 60 to 100 beats\/min.\n### The highest pulse rate achieved during maximal exercise.\n### **Formula to calculate maximum pulse rate :**\n### maximum heart rate = 200 - your age\n### **Looking towards our dataset most of patients are healthy** \ud83d\ude00\ud83d\ude00","7097eb98":"### 5]Oxygen Saturation","d1655ce4":"### Some other plots","efe58d44":"### 1]Temperature","727ba354":"## **Read Data**","28decdf4":"### **Confusion Matrix**","b2665120":"## **Data Normalization**","ffac712a":"## **Data Visualization**"}}