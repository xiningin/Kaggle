{"cell_type":{"90fcff52":"code","e75359c1":"code","f0de3794":"code","b66b5e99":"code","f92a5963":"code","644a9ef4":"code","8f743987":"code","139c5273":"code","8280bdc5":"code","1e6cbc39":"code","2908f883":"markdown","fe54b940":"markdown","1a7678ca":"markdown","5fb755fc":"markdown"},"source":{"90fcff52":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \n%config InlineBackend.figure_format = 'retina'\nplt.style.use('ggplot')","e75359c1":"# load on data set\ndf_stc = pd.read_csv('\/kaggle\/input\/saudi-daily-stocks-history-test\/STC_7010.csv')","f0de3794":"# look at shape\ndf_stc.shape","b66b5e99":"df_stc.dtypes","f92a5963":"# convert date to datetime\ndf_stc.date = pd.to_datetime(df_stc.date)","644a9ef4":"# plot closing prices\nplt.figure(figsize=(8,6))\nplt.plot(df_stc.date, df_stc.close)\nplt.xlabel(\"Year\")\nplt.ylabel('Price (SAR)');\nplt.title(\"STC Stock Price\");\n","8f743987":"# plot moving-average\nplt.figure(figsize=(8,6))\nplt.plot(df_stc.date, df_stc.close.rolling(window=30).mean())\nplt.xlabel(\"Year\")\nplt.ylabel('Price (SAR)');\nplt.title(\"STC Stock Price with 30-day Moving-average\");","139c5273":"df_stc.value_traded_SAR = df_stc.value_traded_SAR.str.replace(',','').astype(float)","8280bdc5":"# plot closing prices\nplt.figure(figsize=(8,6))\nplt.plot(df_stc.date, df_stc.value_traded_SAR)\nplt.xlabel(\"Year\")\nplt.ylabel('Value Traded (SAR)');\nplt.title(\"STC Stock Value Traded\");\n\n","1e6cbc39":"# plot moving-average\nplt.figure(figsize=(8,6))\nplt.plot(df_stc.date, df_stc.value_traded_SAR.rolling(window=30).mean())\nplt.xlabel(\"Year\")\nplt.ylabel('Value Traded (SAR)');\nplt.title(\"STC Stock Value Traded with 30-day Moving-average\");","2908f883":"We can see that from the plot, STC was very popular company at the begining. However, after the Saudi stock downturn in 2006, it became not very popular compnay.","fe54b940":"We can see much smoother trends, allowing us to decide better about the popularity of STC trading value.\n\nAt the end, I hope you find this dataset useful for your analysis.","1a7678ca":"Notice that having a moving-average with 30-window is significantly smoothening the dataset","5fb755fc":"Notice that for STC, the stock was going up initially (with some unexpected downwards spike at 2005). The Saudi stock market had a steep downturn in 2006, which is reflected in the figure. Also, notice the recent coronavirus (COVID-19) outbreak effected the prices negatively. Now, let's deal with the downwards spike. There are two ways to handle it:\n- Clean up this point\n- A better way in my opinion is to use 5-window moving average to handle such fluctuation.\n\nGenerally, in stocks prediction, using moving-average (rolling-average or running-average) can gives more realistic visualization of the data as it cleans up the noise and emphasize the general trends more."}}