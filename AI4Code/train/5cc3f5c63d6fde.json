{"cell_type":{"b9168465":"code","6728ea5e":"code","cf824f3a":"code","9098cdfa":"code","40d431f9":"code","d7f3e8c7":"code","85ef6e4d":"code","ba57e3c6":"code","cacc9a21":"code","e88dec42":"code","2f61b788":"markdown","543ed592":"markdown","352564e1":"markdown","01d847f0":"markdown","54347063":"markdown","90582f63":"markdown","f24c2c84":"markdown","6343dc05":"markdown","b99a4b0c":"markdown","f810245e":"markdown","425b4e19":"markdown","b196ea8f":"markdown","d00ccd43":"markdown","0dbe42fe":"markdown"},"source":{"b9168465":"import pandas as pd\nimport numpy as np\nfrom pandas import DataFrame\nimport sqlite3\nconn = sqlite3.connect('..\/input\/bellabeatfitnessdata\/BellabeatFitnessData.db')\ncur = conn.cursor()","6728ea5e":"# Finding duplicate Dates from same IDs\ncur.execute('drop table if exists temp.dup_check')\ncur.execute('create temp table dup_check as select Id, ActivityDate, count(*) from daily_activity group by Id, ActivityDate having count(*) > 1')\ncur.execute('select count(*) from dup_check')\nfor row in cur:\n    count = row[0]\nprint('There are ', count,' duplicates of individuals and dates.')","cf824f3a":"# Creating a summary statistics table of averages of the variables of each individual.\ncur.executescript('''\ndrop table if exists temp.summary;\ncreate temp table summary\nas\nselect \n\tId,\n\tcount(ActivityDate) as num_days,\n\tavg(TotalSteps) as avg_steps,\n\tavg(TotalDistance) as avg_dist,\n    avg(VeryActiveDistance) as avg_very_dist,\n    avg(ModeratelyActiveDistance) as avg_mod_dist,\n    avg(LightActiveDistance) as avg_light_dist,\n    avg(SedentaryActiveDistance) as avg_sed_dist,\n    avg(VeryActiveMinutes) as avg_very_min,\n    avg(FairlyActiveMinutes) as avg_mod_min,\n    avg(LightlyActiveMinutes) as avg_light_min,\n    avg(SedentaryMinutes) as avg_sed_min,\n    avg(Calories) as avg_cal\nfrom\n\tdaily_activity\ngroup by\n\tId\n''')\ncur.execute('select * from summary')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\navg_sum= pd.DataFrame(data)\navg_sum.columns = header\navg_sum.head()","9098cdfa":"# Check if the dataset contains any null or missing values.\ncur.executescript('''\ndrop table if exists temp.null_check;\ncreate temp table null_check \nas \nselect \n    TotalSteps,\n    TotalDistance,\n    VeryActiveDistance,\n    ModeratelyActiveDistance,\n    LightActiveDistance,\n    SedentaryActiveDistance,\n    VeryActiveMinutes,\n    FairlyActiveMinutes,\n    LightlyActiveMinutes,\n    SedentaryMinutes,\n    Calories\nfrom \n    daily_activity;\n''')\ncur.execute('select * from null_check')\ndata = cur.fetchall()\ndaily = pd.DataFrame(data)\nif daily.isnull().any().any() == False:\n    print('There are 0 entries with null or missing data.')\nelse:\n    print('There are entries with null or missing data.')\n\n# Check if the dataset contains any negative values.\ncur.executescript('''\ndrop table if exists temp.min_check;\ncreate temp table min_check\nas\nselect \n\tId,\n\tmin(TotalSteps) as min_steps,\n\tmin(TotalDistance) as min_dist,\n    min(VeryActiveDistance) as min_very_dist,\n    min(ModeratelyActiveDistance) as min_mod_dist,\n    min(LightActiveDistance) as min_light_dist,\n    min(SedentaryActiveDistance) as min_sed_dist,\n    min(VeryActiveMinutes) as min_very_min,\n    min(FairlyActiveMinutes) as min_mod_min,\n    min(LightlyActiveMinutes) as min_light_min,\n    min(SedentaryMinutes) as min_sed_min,\n    min(Calories) as min_cal\nfrom\n\tdaily_activity\ngroup by\n\tId\nhaving\n\tmin_steps < 0 or min_dist < 0 or min_very_dist < 0 or min_mod_dist < 0 or min_light_dist < 0 or min_sed_dist < 0 or min_very_min < 0 or min_mod_min < 0 or  min_light_min < 0 or min_sed_min < 0 or min_cal < 0   \n''')\ncur.execute('select count(*) from min_check')\nfor row in cur:\n    count = row[0]\nprint('There are', count,'entries with negative values.')\n\n# Check if there are any inconsistencies in the minutes data where the sum of minutes exceeds 1440.\ncur.executescript('''\ndrop table if exists temp.total_min_check;\ncreate temp table total_min_check\nas\nselect\n    Id,\n    ActivityDate,\n    (VeryActiveMinutes + FairlyActiveMinutes + LightlyActiveMinutes + SedentaryMinutes) as total_min\nfrom\n    daily_activity\nwhere\n    total_min > 1440\n''')\ncur.execute('select count(*) from total_min_check')\nfor row in cur:\n    count = row[0]\nprint('There are', count,'entries with total minutes greater than 1440.')","40d431f9":"# Create a table of high distance individuals and order by highest very active distances.\ncur.executescript('''\ndrop table if exists temp.high_dist;\ncreate temp table high_dist\nas\nselect daily_activity.*, summary.avg_dist\nfrom\n\tdaily_activity\nleft join \n\tsummary on daily_activity.Id = summary.Id\nwhere\n\tavg_dist > 10;\n''')\ncur.execute('select Id, ActivityDate, TotalSteps, TotalDistance, VeryActiveDistance, VeryActiveMinutes from high_dist order by VeryActiveDistance desc')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\ndf_high_dist = pd.DataFrame(data)\ndf_high_dist.columns = header\ndf_high_dist.head()","d7f3e8c7":"# Create a table of high distance individuals and order by highest very active minutes.\ncur.executescript('''\ndrop table if exists temp.low_dist;\ncreate temp table low_dist\nas\nselect daily_activity.*, summary.avg_dist\nfrom\n\tdaily_activity\nleft join \n\tsummary on daily_activity.Id = summary.Id\nwhere\n\tavg_dist < 2;\n''')\ncur.execute('select Id, ActivityDate, TotalSteps, TotalDistance, VeryActiveDistance, VeryActiveMinutes from low_dist order by VeryActiveMinutes desc')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\ndf_low_dist = pd.DataFrame(data)\ndf_low_dist.columns = header\ndf_low_dist.head()","85ef6e4d":"cur.execute('''select (case when avg_dist > 6 then 'High' else 'Low' end) as moderate_distance, avg(avg_dist) as average_moderate_distance, avg(avg_very_dist) as average_high_mod_distance, avg(avg_very_min + avg_mod_min) as avg_int_min, avg(avg_very_min) as average_high_mod_min FROM summary WHERE avg_dist < 8.5 and avg_dist > 3 and num_days > 25 group by moderate_distance''')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\ndf_moderate_average = pd.DataFrame(data)\ndf_moderate_average.columns = header\ndf_moderate_average","ba57e3c6":"cur.execute('''\nselect \n    (case when num_days > 17 then '18 to 20 days' else '4 days' end) as outliers, \n    avg(avg_dist) as average_distance,\n    avg(avg_very_dist) as average_very_distance, \n    avg(avg_very_min + avg_mod_min) as avg_int_min, \n    avg(avg_very_min) as average_very_min, \n    count(*) as count \nFROM\n    summary \nWHERE \n    num_days < 21 \ngroup by \n    outliers\n''')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\ndf_moderate_average = pd.DataFrame(data)\ndf_moderate_average.columns = header\ndf_moderate_average","cacc9a21":"cur.executescript('''\ndrop table if exists temp.sleep_sum;\ncreate temp table sleep_sum\nas\nselect\n\tId,\n\tavg(TotalSleepRecords) as avg_sleep,\n\tavg(TotalMinutesAsleep\/60) as avg_hour,\n\tavg(TotalTimeInBed\/60) as avg_hour_in_bed,\n\tcount(*) as count\nfrom \n\tdaily_sleep\ngroup by\n\tId;\n''')\ncur.execute('''\nselect \n    (case when count > 14 then 'More than 15 days' else 'Less than 15 days' end) as number_of_days, \n    count(*) \nfrom \n    sleep_sum \ngroup by \n    number_of_days\n''')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\ndf_sleep = pd.DataFrame(data)\ndf_sleep.columns = header\ndf_sleep","e88dec42":"import matplotlib.pyplot as plt\ncur.execute('''\nselect TotalDistance, VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes from daily_activity\n''')\ndata = cur.fetchall()\nheader = [i[0] for i in cur.description]\ndf_corr = pd.DataFrame(data)\ndf_corr.columns = header\nx = df_corr['TotalDistance'].tolist()\ny1 = df_corr['VeryActiveMinutes'].tolist()\ny2 = df_corr['FairlyActiveMinutes'].tolist()\ny3 = df_corr['LightlyActiveMinutes'].tolist()\n\nplt.scatter(x,y1,label='High Intensity')\nplt.scatter(x,y2,label='Moderate Intensity')\nplt.legend(loc='upper left')\nplt.xlabel('Total Distance Travelled (daily)')\nplt.ylabel('Total Minutes (by intensity)')\nplt.show()","2f61b788":"The following provides daily descriptive statistics by individuals. Using the following tables, we can determine if any abnomalies in the data exist (i.e., negative values, conflicting information, etc.).\n\nThe variables in the dataset include,\n- Id number\n- number of days recorded\n- daily steps\n- daily distance travelled\n- daily distance breakdown (Very active distance, Moderate active distance, Light active distance, and Sedentary active distance)\n- daily minutes spent at each distance category (Very active minutes, Moderate active minutes, Light active minutes, and Sedentary minutes)\n- calories burned\n\nThe first table (preview, first four indivuduals) provides averages of the variables in the data for each individual.  We can determine if the data is consistent. For example, there should be a positive correlation between average daily calories burned, total distance travelled, and total steps. ([Calories Burned vs. Distance Travelled and Steps](https:\/\/public.tableau.com\/views\/BellabeatsAverageSummary\/CaloriesBurnedvs_DistanceTravelledandSteps?:language=en-US&:display_count=n&:origin=viz_share_link))\n\nThe positive correlation between average calories burned, average total distance, and average total steps shows the data collected from each individual is consistent. ","543ed592":"# Appendix\n\nThe data suggests that the individuals are not performing intense activities in a stationary location (i.e., gym, home, etc.)\n\nLooking at the daily data of individuals, we can determine that there is a correlation between the distance travelled each day and the number of minutes spent in high or moderate intensity activities.\n\nAs the graph shows, there is positive correlation between distance travelled and minutes. Individuals are performing high to moderate intensity activities and recording distance.\n\nIf individuals were working out in a stationary position, we should see data points in the top left section of the graph where travelled distance is short, indicating high or moderate intensity activities that does not have distance.\n\nThis conclusion is also supported by using daily averages of individuals. We see a similar trend in average distance vs average minutes performing activities in each intensity level.","352564e1":"The following code detects any inconsistencies in the data by highlighting any individuals with the following,\n\n- any null or missing values\n- negative values for any variables\n- sum of minutes in a single day greater than 1440 (maximum number of minutes in a day)\n\nThe conclusion of the analysis is that the dataset is complete and consistent to perform an analysis.","01d847f0":"## Analyze and Share\n\nThe following illustrates an individual's average daily distance travelled and average time spent performing different levels of intensive activities.\n\n[Average Distance Travelled & Average Activity Minutes](https:\/\/public.tableau.com\/views\/BellabeatsAverageSummary\/AverageDistanceandMinutes?:language=en-US&:display_count=n&:origin=viz_share_link)\n\nThe top bar chart highlights each individual's average daily distance travelled separated by distance travelled performing activities under different intensity levels. The intensity level of an activity is measured by the MET (metabolic equivalent of task) score. For example, the person that averaged the farthest distance spent approximately half their distance doing high intensity activities and the other half doing light intensity activities (a small portion spent doing moderate intensity activities).\n\nFrom the distance bar chart, we can separate individuals into 3 categories; High, Medium, and Low distance (Highlighters provided on the right hand side of the chart).\n\nFor individuals with high levels of distance per day,\n1. Large percentage of distance travelled are spent performing high intensity activities.\n2. Highest levels of time spent performing intense activities.\n3. **Far distances coupled with long time in high intensity activities suggest activities such as long distance running.** (Step counts potentially eliminate biking.)\n\nThe distance of a half marathon is approximately 21 kilometers and on average is comepleted in 90 minutes. (We can assume the distance statistic is tracking in kilometers because if it was tracked in miles, individual 8877689391 completed a full marathon distance on 4\/30\/2016 with significant recorded steps in just over two hours, which is Olympic champion level times.)","54347063":"## Ask\n\n**Bellabeat** is a high-tech manufacturer of health-focused products for women. They are a successful small company but have the potential to become a larger player in the global smart device market. \n\nAs part of the **marketing analyst team**, we are asked to analyze smart device data to gain insight into how consumers are using their smart devices and use the insight to focus on one of Bellabeat's products. \n\n- The analysis will look at the trend of how people are using non-Bellabeat devices.\n- The findings can be applied to marketing strategies for a Bellabeat product to target specific groups of consumers.","90582f63":"Individuals within this sample do not use their devices as a sleep tracker. Of the 33 individuals in the dataset, only 24 individuals recorded sleep data. Furthermore, of the 24 individuals, only 15 individuals recorded sleep data for more than half the days of the month. This indicates that most individuals probably remove their smart devices during sleep hours.","f24c2c84":"### Importing Data and SQL Packages\n\nThe data was first downloaded from the open source database as .csv files. The .csv files were uploaded to DB Browser to create a SQL database. The SQL database was then uploaded onto Kaggle.\n\nTo run SQL queries in Python, the sqlite3 package was imported.","6343dc05":"## Prepare\n\nThe data is from a public data set that looks at smart device users' daily habits. The specific dataset used for this analysis is the [FitBit Fitness Tracker Data](https:\/\/www.kaggle.com\/arashnic\/fitbit). This Kaggle open source data set contains personal fitness tracker from **33 eligible** FitBit users that **consented** to the submission of personal tracker data. It includes information about daily activity, steps, and heart rate that can be used to explore users' habits.\n\nThe data is organized in long and wide format depending on the table in the dataset, however, when the data is sorted and filtered for use in this analysis, it will be mostly in long format.\n\n**Potential problems with the data:**\n- Due to privacy concerns, there is no information regarding gender of the individual.\n- There is no information about the type of FitBit device used for data collection (Assumption: Given FitBits product line up, it can be assumed to be a watch.)\n- There is no information about the types of activity the individual participated in.\n- Unclear about the units of measure of some variables (however, this information could be inferred).\n","b99a4b0c":"### Daily Fitness Tracker Data\n\nThe daily fitness tracker data has been merged together and includes daily steps, distance (and breakdown of distance), minutes (and breakdown of minutes), and calories burned.\n\nThe following code highlights any duplicates in the data. The code searches the data for any data points that contain the same Id number and date. If there are entries that meet this criteria, the data contains a duplicate entry.","f810245e":"Third, the largest group in this sample are individuals in the medium distance category. Their average daily distances range from approximately 3 to 8 kilometers.\n\nWithin this category, there are 19 individuals. There is a pattern amongst the top 10 individuals by distance compared to the bottom 12 individuals (approximately half the category). We notice that the top half of individuals in the medium distance category spend more of their daily distance and minutes performing high intensity activities as compared to the bottom half of individuals.\n\nThe table on the bottom breaks down the differences between the two groups. \n\nThe top 10 in distance (high moderate distance),\n\n1. Averages approximately 7.29 daily kilometers. \n2. Of the total average, this group averages approximately 2.15 daily kilometers of high intensity distance. This is approximately 30% of their distance travelled is high intensity (as compared to 11% for the bottom half individuals).\n3. The top 10 in average distance average more time spent (approximately 61 minutes) performing moderate to high intensity activities compared to the bottom half of the group (approximately 16 minutes). \n4. The top 10 also spend more of their time, on average, performing high intensity activities (approximately 36.5 minutes) compared to the bottom half (approximately 7.65 minutes).","425b4e19":"# Bellabeats Fitness Analysis (Google Data Analytics Professional Certificate Case Study)","b196ea8f":"Second, we will focus on the individuals in the category of Low distance. \n\n1. The majority of the distance travelled, on average, is light intensity.\n2. This is also reflected in the average intensity minutes per day with very little in moderate or high intensity activity. \n3. Short distances and mainly light intensity activities reflects individuals that mostly spend their time at home performing chores and running near by errands.\n\nThere are individuals within this category that spend some of their distance travelled and time during the day performing high intensity activities. This data suggests the person might be exercising at home or running\/biking short distances. But, given the low overall averages, they are not performing these activities often.\n\nFor example, \n\n1. Individual 6775888955  on 4\/20\/2016spent approximately an hour travelling 4 km performing a high intensity activity and took a significant level of steps. (i.e., short run)\n2. Individual 4020332650 on 4\/16\/2016 spent an hour performing high intensity activities but did not travel very much high intensity kilometers. This is evidence the person was working out in a fixed location (i.e. home workout). ","d00ccd43":"## Act\n\nBellabeats has asked for an analysis of the smart device usage data in order to gain insights into how consumers use non-Bellabeat smart devices (more specifically, FitBit devices). The results are then used to provide insights into one of Bellabeats products.\n\nThe trends we discovered about individuals that consistently use their smart devices are,\n\n1. There is a small percentage of individuals that use their device to track their high intensity workout over long distances. Best assumption is long distance running (i.e., full\/half marathon, etc.)\n2. There is a small group of individuals that mainly perform low intensity activities and they do not travel long distances (i.e., household chores, running near by errands, etc.). However, a small portion of this group does perform high intensity activities. Combined with the short distances travelled, they are most likely doing high intensity exercises in a stationary point (i.e., home\/gym workout).\n3. The largest group are individuals that travel distances between 3 to 8 kilometers on average per day. Further separated into individuals that travel more or less than 6 kilometers, the group that travels further on average also spend more them performing high intensity activities (i.e., short runs or bikes, etc.). The lower half of the medium distance individuals tend to perform less intense activities (i.e, short walks, etc.).\n4. There is a small group of individuals that do not wear their devices everyday but still show signs of performing high intensity activites. This could suggest the individuals use the devices to track workouts and only wear their devices if they plan to workout at home or in a gym.\n\nBellabeats has 4 products,\n1. Bellabeat app\n2. Leaf\n3. Time\n4. Spring\n\nThis analysis would be best used by the marketing team responsible for the Time product. The Bellabeat Time is a smartwatch that can track user activity, sleep, and stress. \n\n1. From our analysis, we found that over half the sample are wearing their smart device while performing high intensity activities such as working out. More specifically, they are travelling, on average, more than 6 kilometers per day at a high intensity.\n    1. It can be assumed they are running at a higher than regular pace.\n2. The other half mainly wear there device while performing low intensity activities (i.e., walking, chores, working, etc.) while travelling less than 6 kilometers per day. They are interested in their biometrics (since they wear them regularly) but they maintain shorter distances and less intense activities. The ability to display the time is an additional benefit to these individuals. \n3. There is a small percentage of individuals that use smart devices for stationary intense activities (i.e., gym or home workouts).","0dbe42fe":"Lastly, there is a small group of individuals within this sample (4 individuals) that are considered outliers. These individuals have data recorded on 20 or less days of the month, indicating they are not consistently wearing their devices. These individuals were left out of the above analysis, however we will discuss them here. \n\nAdjusting the slider to 18 to 20 days, we notice 3 of the individuals have data recorded.\n\n1. These individuals do not wear their devices everyday. \n2. They fall mainly into the low medium distance category (average distance of 5.24 per day with 1 individual averaging slightly above 6), however, their average minutes performing high intensity activities is higher compared to their respective category with individuals that wear their devices consistently (14.39 vs. 7.64 high intensity minutes). 3. This can suggest that these 3 individuals only wear their devices on days they will be performing certain activities (i.e., wear on days they workout at home or gym).\n\nThere is one final individual that has only recorded data on 4 days in a month. This suggest the individual does not wear their smart device at all and therefore they were not included in any of the analysis.\n"}}