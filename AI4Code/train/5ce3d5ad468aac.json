{"cell_type":{"61bcd0d4":"code","340e72d2":"code","ff6cf0f9":"code","d4f7ef8f":"code","1322486f":"code","b370a5a3":"code","f56246aa":"code","6cff5beb":"code","23aa8af8":"code","78e92319":"code","39dbd321":"code","6b686c0f":"code","345e3914":"code","dcb40e8d":"code","675123eb":"code","383f6505":"code","fa7217c8":"code","262ce4c8":"code","bb54bd2b":"code","8014552e":"code","9c3cb0a1":"code","774a5058":"code","057b724e":"code","30ce7dce":"code","667e0a6e":"code","1e8d7fbb":"code","f2167dee":"code","1eac0964":"code","02f7b564":"code","c37de168":"code","93ab9dec":"code","ca05d2e9":"code","4017a7c6":"markdown","125ca774":"markdown","d6fd41e6":"markdown","c73ab39e":"markdown","3cb81d6f":"markdown","7dfe87e9":"markdown","21f4fbb5":"markdown","63e1a897":"markdown","db4e5353":"markdown","f0b7af8f":"markdown","b5e5779f":"markdown","e8bc6723":"markdown","df9ae49b":"markdown","cab5521d":"markdown","e3f72dfb":"markdown","d133d009":"markdown","63929a23":"markdown","b6b32086":"markdown","7ada06da":"markdown","e288b00f":"markdown","a11d228c":"markdown"},"source":{"61bcd0d4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom sklearn.model_selection import train_test_split\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","340e72d2":"import warnings  \nwarnings.filterwarnings('ignore')\nimport matplotlib.pyplot as plt\nimport seaborn as sn","ff6cf0f9":"data = pd.read_csv('..\/input\/stroke-prediction-dataset\/healthcare-dataset-stroke-data.csv')\ndata","d4f7ef8f":"data.isnull().sum()","1322486f":"avg = data['bmi'].mean()\navg","b370a5a3":"data.bmi=(data.bmi.fillna(28.90))","f56246aa":"data.describe()","6cff5beb":"sn.countplot(data['work_type'])","23aa8af8":"sn.countplot(data['smoking_status'])","78e92319":"sn.countplot(data['stroke'])","39dbd321":"sn.countplot(data['ever_married'])","6b686c0f":"min_avg_glucose_level = min(data.avg_glucose_level)\nmax_avg_glucose_level = max(data.avg_glucose_level)\nprint(min_avg_glucose_level)\nprint(max_avg_glucose_level)","345e3914":"sn.distplot(data['age'])","dcb40e8d":"data['work_type'] = data['work_type'].map({'Private':0, 'Self-employed': 1, 'Govt_job':2, 'children':3, 'Never_worked':4})","675123eb":"data['gender'] = data['gender'].map({'Male':0, 'Female':1})\ndata['Residence_type'] = data['Residence_type'].map({'Urban':0, 'Rural':1})\ndata['smoking_status'] = data['smoking_status'].map({'formerly smoked':0, 'never smoked':1, 'smokes':2, 'Unknown':3})\ndata['ever_married'] = data['ever_married'].map({'Yes':0, 'No':1})","383f6505":"data","fa7217c8":"sn.scatterplot(x=data['age'], y=data['avg_glucose_level'])","262ce4c8":"sn.catplot(x='heart_disease',y='age', hue=\"work_type\", kind=\"bar\", data=data)","bb54bd2b":"sn.catplot(x=\"smoking_status\", y=\"stroke\", hue=\"work_type\", kind=\"bar\", data=data)","8014552e":"sn.catplot(x='stroke', y=\"avg_glucose_level\", kind=\"box\", data=data)","9c3cb0a1":"features = ['id','age',\n 'hypertension',\n 'heart_disease',\n 'ever_married',\n 'Residence_type',\n 'avg_glucose_level',\n 'bmi',\n 'gender',\n 'work_type',\n 'smoking_status']\n\ntarget = ['stroke']\n\nX = data[features]\ny = data[target]","774a5058":"X.isnull().sum()","057b724e":"X.gender=(X.gender.fillna(1))","30ce7dce":"X.isnull().sum()","667e0a6e":"from imblearn.over_sampling import SMOTE\n\nsmote = SMOTE()\nx_smote, y_smote = smote.fit_resample(X, y)","1e8d7fbb":"X_train,X_test, y_train,y_test=train_test_split(x_smote,y_smote,test_size=0.33,random_state=42)\nX_valid, X_test, y_valid, y_test = train_test_split(X_test, y_test, test_size=0.5, random_state=42)","f2167dee":"X_train = X_train.drop(columns=['id'])\nX_test = X_test.drop(columns=['id'])","1eac0964":"from sklearn.preprocessing import StandardScaler\nsc=StandardScaler()\n\nX_train = sc.fit_transform(X_train)\nX_test = sc.transform(X_test)","02f7b564":"from sklearn.linear_model import LogisticRegression\nmd = LogisticRegression()\nmd.fit(X_train,y_train)","c37de168":"y_pred = md.predict(X_test)\ny_pred","93ab9dec":"from sklearn.metrics import f1_score, roc_auc_score,accuracy_score,confusion_matrix, precision_recall_curve, auc, roc_curve, recall_score, classification_report \nclassification_report = classification_report(y_test, y_pred)\nprint(classification_report)","ca05d2e9":"auc = roc_auc_score(y_test, y_pred)\nauc","4017a7c6":"Damage to the brain from interruption of its blood supply.\nA stroke is a medical emergency.\nSymptoms of stroke include trouble walking, speaking and understanding, as well as paralysis or numbness of the face, arm or leg","125ca774":"People who are self employed have more risk of Stroke and are vulnerable to other diseases as they are more stressed and have lot of tension.","d6fd41e6":"People who are self employed tends to have heart disease","c73ab39e":"There is a huge difference in between which needs to be resolved","3cb81d6f":"It shows most of the people in the dataset are around 43 years of Age","7dfe87e9":"This column need to be standardized","21f4fbb5":"So the most number of people work in private sector","63e1a897":"# Stroke\n**Also called: CVA, cerebrovascular accident**\n","db4e5353":"## Now using Machine Learning Algorithm For Prediction","f0b7af8f":"High gulucose level increases chances of stroke. As high gulucose level can damage blood vessels and nerves.","b5e5779f":"We can clearly see that as age increases the gulucose levels tends to increase","e8bc6723":"## There are categorical values which need to be mapped ","df9ae49b":"**Now we will use Linear regression**","cab5521d":"Standardization of Data is required as data are in different scales","e3f72dfb":"We don't require Id column so deleting it","d133d009":"Now there are no Null values in our Data","63929a23":"It Shows that the most number of people has never smoked.","b6b32086":"#### Importing Data","7ada06da":"## Our AUC Score is around 81%, Which is meant to be good.","e288b00f":"Bmi has null values, so filling it with mean values","a11d228c":"**Now as we seen earlier our target it highly imbalanced. So we'll be using SMOTE to fix it**\nThe SMOTE function oversamples your rare event by using bootstrapping and k-nearest neighbor to synthetically create additional observations of that event. The definition of rare event is usually attributed to any outcome\/dependent\/target\/response variable that happens less than 15% of the time.\n"}}