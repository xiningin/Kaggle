{"cell_type":{"510c3c45":"code","4cba88df":"code","6446c2d6":"code","380b87e0":"code","dcd43b4b":"code","b4fe5736":"code","50007660":"code","9d031d5d":"code","48152579":"code","b0d2314f":"code","46769860":"code","46b28c25":"code","bd242f1f":"code","08d1a5f7":"code","042fe98c":"code","9e2deff3":"code","fc605caa":"code","fe87fe5d":"code","8d9d417c":"code","13892f22":"code","2a0d4a06":"code","da336f9e":"code","e56a6e45":"code","7dc3cc90":"markdown","ae3f7f4d":"markdown","ad701f0f":"markdown","575ea917":"markdown","2dc57786":"markdown","4ad4ad0b":"markdown","f97216df":"markdown","ea5bfbdd":"markdown","6f35dcff":"markdown","13b557db":"markdown","f2f307c3":"markdown","d7b91230":"markdown","d3eafda1":"markdown","51f80f7a":"markdown","0cd5508a":"markdown","1431b7c7":"markdown","0cb30802":"markdown","9a3e5119":"markdown","6d69ead6":"markdown"},"source":{"510c3c45":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom datetime import datetime\n\n#Visualisation libraries\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set()\nfrom plotly.offline import init_notebook_mode, iplot \nimport plotly.graph_objs as go\nimport plotly.offline as py\nimport pycountry\npy.init_notebook_mode(connected=True)\nimport folium \nfrom folium import plugins\n\n# Image\nimport numpy as np\nfrom PIL import Image\n\n# Animation\nimport matplotlib.ticker as ticker\nimport matplotlib.animation as animation\nfrom IPython.display import HTML\n\n# Graphics in retina format \n%config InlineBackend.figure_format = 'retina' \n\n# Increase the default plot size and set the color scheme\nplt.rcParams['figure.figsize'] = 8, 5\n\n\n# Disable warnings in Anaconda\nimport warnings\nwarnings.filterwarnings('ignore')\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","4cba88df":"# List files available\nprint(os.listdir(\"..\/input\"))","6446c2d6":"df = pd.read_csv('..\/input\/forbes-highest-paid-athletes-19902019\/Forbes Richest Atheletes (Forbes Richest Athletes 1990-2020).csv')\ndf.head()","380b87e0":"\n# Creating a copy of the original dataframe- df\ndf1 = df.copy()\ndf1.drop('S.NO',axis=1,inplace=True)\ndf1.info()","dcd43b4b":"\n# Convert string to datetime64\ndf1['Year'] = df1['Year'].apply(pd.to_datetime,format='%Y')\n\n#Set Date column as the index column.\ndf1['year'] = pd.DatetimeIndex(df1['Year']).year  \ndf1.set_index('year', inplace=True)\ndf1.drop('Year',axis=1,inplace=True)\n\n# Converting the sport column to uppercase\ndf1['Sport'] = df1['Sport'].str.upper()\ndf1.head()\n\n# df is the original dataframe while df1 is a copy where the Date has been set as an index column","b4fe5736":"data_2020 = df1[df1.index == 2020]\n\ntrace = go.Bar(\n                    x = data_2020[\"earnings ($ million)\"],\n                    y = data_2020['Name'] ,\n                    orientation='h',\n                    marker = dict(color='pink',\n                                 line=dict(color='black',width=1)),\n                    )\ndata = [trace]\nlayout = go.Layout(barmode = \"group\",title=\"World's Highest-Paid Athletes in 2020\",width=800, height=500, \n                       #xaxis= dict(title='No of times ranked higest'),\n                       yaxis=dict(autorange=\"reversed\"),\n                       showlegend=False)\nfig = go.Figure(data = data, layout = layout)\niplot(fig)\n\n","50007660":"# Top Paid Athlete for Each Year\nTop_paid_each_year = df1[df1['Current Rank'] == 1].sort_values(by='year',ascending=False)\n\nz = Top_paid_each_year[['Name','Sport','Nationality','earnings ($ million)']]\n\n#z.style.set_properties(**{'background-color': 'pink',\n                           # 'color': 'black',\n                            #'border-color': 'white'})\nz.style.background_gradient(cmap='Reds')  ","9d031d5d":"counts_top = Top_paid_each_year['Name'].value_counts().to_frame()\n\n\ntrace = go.Bar(\n                    y = counts_top.index,\n                    x = counts_top['Name'] ,\n                    orientation='h',\n                    marker = dict(color='pink',\n                                 line=dict(color='black',width=1)),\n                    )\ndata = [trace]\nlayout = go.Layout(barmode = \"group\",title='Athlete earning the most,maximum number of times',width=800, height=500, \n                       xaxis= dict(title='No of times ranked higest'),\n                       yaxis=dict(autorange=\"reversed\"),\n                       showlegend=False)\nfig = go.Figure(data = data, layout = layout)\niplot(fig)\n","48152579":"total_earnings = Top_paid_each_year.groupby('Name')['earnings ($ million)'].sum().to_frame().reset_index()\ntop_ranks = Top_paid_each_year['Name'].value_counts().to_frame().reset_index()\ntop_ranks.rename(columns={'index':'Name',\n                          'Name':'Rank_counts'}, inplace=True)\ndf_compare = total_earnings.merge(top_ranks, on='Name')\n","b0d2314f":"#source: https:\/\/www.kaggle.com\/kanncaa1\/plotly-tutorial-for-beginners#Bar-Charts\n\nimport plotly.graph_objs as go\nfrom plotly import tools\ntrace0 = go.Bar(\n                y=df_compare['Name'],\n                x=df_compare['Rank_counts'],\n                marker=dict(color='rgba(171, 50, 96, 0.6)',line=dict(color='rgba(171, 50, 96, 1.0)',width=1)),\n                name='Top Ranks',\n                orientation='h',\n)\n\ntrace1 = go.Scatter(\n                y=df_compare['Name'],\n                x=df_compare['earnings ($ million)'],\n                mode='lines+markers',\n                line=dict(color='rgb(63, 72, 204)'),\n                name='income',\n)\n\nlayout = dict(\n                title='Income and Top Ranks',\n                yaxis=dict(showticklabels=True,domain=[0, 0.85]),\n                yaxis2=dict(showline=True,showticklabels=False,linecolor='rgba(102, 102, 102, 0.8)',linewidth=2,domain=[0, 0.85]),\n                xaxis=dict(zeroline=False,showline=False,showticklabels=True,showgrid=True,domain=[0, 0.42]),\n                xaxis2=dict(zeroline=False,showline=False,showticklabels=False,showgrid=True,domain=[0.47, 1],side='top',dtick=25),\n                legend=dict(x=0.029,y=1.038,font=dict(size=10) ),\n                margin=dict(l=200, r=20,t=70,b=70),\n                paper_bgcolor='rgb(248, 248, 255)',\n                plot_bgcolor='rgb(248, 248, 255)',\n)\n\nannotations = []\ny_s = df_compare['Rank_counts']\ny_nw = np.rint(df_compare['earnings ($ million)'])\n# Adding labels\nfor ydn, yd, xd in zip(y_nw, y_s, df_compare['Name']):\n    # labeling the scatter savings\n    annotations.append(dict(xref='x2', yref='y2', y=xd, x=ydn-1,text='{:,}'.format(ydn),font=dict(family='Arial', size=12,color='rgb(63, 72, 204)'),showarrow=False))\n    # labeling the bar net worth\n    annotations.append(dict(xref='x1', yref='y1', y=xd, x=yd+1,text=str(yd),font=dict(family='Arial', size=12,color='rgb(171, 50, 96)'),showarrow=False))\n\nlayout['annotations'] = annotations\n\n\n# Creating two subplots\nfig = tools.make_subplots(rows=1, cols=2, specs=[[{}, {}]], shared_xaxes=True,\n                          shared_yaxes=False, vertical_spacing=0.001)\n\nfig.append_trace(trace0, 1, 1)\nfig.append_trace(trace1, 1, 2)\n\nfig['layout'].update(layout)\nfig.show()","46769860":"counts_top = Top_paid_each_year['Nationality'].value_counts().to_frame()\n\n\ntrace = go.Bar(\n                    x = counts_top.index,\n                    y = counts_top['Nationality'] ,\n                    orientation='v',\n                    marker = dict(color='pink',\n                                 line=dict(color='black',width=1)),\n                    )\ndata = [trace]\nlayout = go.Layout(barmode = \"group\",title='Country which produces the maximum earners in Sports',width=800, height=500, \n                       xaxis= dict(title='No of times ranked higest'),\n                       #yaxis=dict(autorange=\"reversed\"),\n                       showlegend=False)\nfig = go.Figure(data = data, layout = layout)\niplot(fig)","46b28c25":"\n\ntrace = go.Scatter(\n                    x = Top_paid_each_year.index,\n                    y = Top_paid_each_year['earnings ($ million)'] ,\n                    orientation='v',\n                    marker = dict(color='red',\n                                 line=dict(color='royalblue',width=2)),\n                    )\ndata = [trace]\nlayout = go.Layout(title='How much did the Top Paid Athlete for Each Year, earn? ',width=800, height=500, \n                       xaxis= dict(title='Years'),\n                       yaxis=dict(title=\"Earning in US Dollars(million)\"),\n                       showlegend=False)\nfig = go.Figure(data = data, layout = layout)\niplot(fig)","bd242f1f":"df['Sport'] = df['Sport'].str.upper() # Converting the text to uppercase\nmax_sport = df['Sport'].value_counts().to_frame()\n\ntrace = go.Bar(\n                    y = max_sport.index,\n                    x = max_sport['Sport'] ,\n                    orientation='h',\n                    marker = dict(color='pink',\n                                 line=dict(color='black',width=1)),\n                    )\ndata = [trace]\nlayout = go.Layout(barmode = \"group\",title='Sport which dominates in earnings',width=800, height=500, \n                       xaxis= dict(title='No of times ranked highest'),\n                       yaxis=dict(autorange=\"reversed\"),\n                       showlegend=False)\nfig = go.Figure(data = data, layout = layout)\niplot(fig)","08d1a5f7":"\nmax_sport = df['Nationality'].value_counts().to_frame()\n\n\ntrace = go.Bar(\n                    y = max_sport.index,\n                    x = max_sport['Nationality'] ,\n                    orientation='h',\n                    marker = dict(color='pink',\n                                 line=dict(color='black',width=1)),\n                    )\ndata = [trace]\nlayout = go.Layout(barmode = \"group\",title='Country which dominates in Sports earningss',width=800, height=500, \n                       xaxis= dict(title='No of times ranked highest'),\n                       yaxis=dict(autorange=\"reversed\"),\n                       showlegend=False)\nfig = go.Figure(data = data, layout = layout)\niplot(fig)","042fe98c":"\ns = df['Name'].value_counts().to_frame()[:5]\ns.style.background_gradient(cmap='Reds')  \n","9e2deff3":"# People who have appeared once on the list.\nnames = df['Name'].value_counts().to_frame()\nnames[names['Name']==1].index\n\n# On scanning the list, we find the name of a sole women athlete- monica seles\nmonica = df[df['Name'] == 'Monica Seles']\nmonica.style.set_properties(**{'background-color': 'pink',\n                            'color': 'black',\n                            'border-color': 'black'})","fc605caa":"top_earners_alltime = pd.pivot_table(df, index='Name',values=\"earnings ($ million)\", aggfunc='sum')\ntop3_earners_all = top_earners_alltime.sort_values(by=\"earnings ($ million)\",ascending=False)[:3]\n\ntop3_earners_all.style.background_gradient(cmap='Reds')  ","fe87fe5d":"\ndef earnings_plot(dataframe,athlete,image_path,opacity):\n    \"\"\"\n    function that creates a plotly line chart with image of the athlete in the background\n    \n    \n    \"\"\"\n    athlete_df = df1[df1['Name'] == athlete]\n\n    trace = go.Scatter(\n                    x = athlete_df.index,\n                    y = athlete_df['earnings ($ million)'] ,\n                    orientation='v',\n                    marker = dict(color='red',\n                                 line=dict(color='red',width=6)),\n                    )\n    data = [trace]\n    layout= go.Layout(title= f'{athlete}' +\"'s earnings over the Years\",\n                  xaxis=dict(title='Year'),\n                  yaxis=dict(title=\"Earnings in US$ (millions)\"),\n                  images= [dict(\n                          source=Image.open(image_path),\n                          xref= \"paper\",\n                          yref= \"paper\",\n                          x= 0.5,\n                          y= 0.5,\n                          sizex= 1,\n                          sizey= 1,\n                          sizing= \"stretch\",\n                          opacity= opacity,\n                          xanchor= \"center\", \n                          yanchor=\"middle\",\n                          layer= \"below\")])\n    fig = go.Figure(data = data, layout = layout)\n    iplot(fig)\n","8d9d417c":"image_path = \"\/kaggle\/input\/profile-pics\/tiger_woods.jpeg\"\nearnings_plot(df1,'Tiger Woods',image_path,opacity=0.3)","13892f22":"image_path = \"\/kaggle\/input\/profile-pics\/Floyd.jpeg\"\nearnings_plot(df1,'Floyd Mayweather',image_path,opacity=0.2)","2a0d4a06":"image_path = \"\/kaggle\/input\/profile-pics\/LeBron.jpeg\"\nearnings_plot(df1,'LeBron James',image_path,opacity=0.2)","da336f9e":"\nimport matplotlib.ticker as ticker\nimport matplotlib.animation as animation\nfrom IPython.display import HTML\n\ndata = df[['Name','Nationality','Year','earnings ($ million)']]\ndata.rename(columns={'earnings ($ million)':'value'},inplace=True)\n\ngroup_lk = df.set_index('Name')['Nationality'].to_dict()\n\ncolors = [\"#adb0ff\", \"#ffb3ff\", \"#90d595\", \"#e48381\", \"#aafbff\", \"#f7bb5f\", \"#eafb50\"]\n\n\n\nfig, ax = plt.subplots(figsize=(15, 8))\n\ndef draw_barchart(current_year):\n    dff = data[data['Year'].eq(current_year)].sort_values(by='value', ascending=True).tail(10)\n    ax.clear()\n    ax.barh(dff['Name'], dff['value'],color=colors)\n    dx = dff['value'].max() \/ 200\n    for i, (value, name) in enumerate(zip(dff['value'], dff['Name'])):\n        ax.text(value-dx, i,     name,           size=14, weight=600, ha='right', va='bottom')\n        ax.text(value-dx, i-.25, group_lk[name], size=10, color='#444444', ha='right', va='baseline')\n        ax.text(value+dx, i,     f'{value:,.0f}',  size=14, ha='left',  va='center')\n    ax.text(1, 0.4, current_year, transform=ax.transAxes, color='#777777', size=46, ha='right', weight=800)\n    ax.text(0, 1.06, 'Earnings (Million $)', transform=ax.transAxes, size=12, color='#777777')\n    ax.xaxis.set_major_formatter(ticker.StrMethodFormatter('{x:,.0f}'))\n    ax.xaxis.set_ticks_position('top')\n    ax.tick_params(axis='x', colors='#777777', labelsize=12)\n    ax.set_yticks([])\n    ax.margins(0, 0.01)\n    ax.grid(which='major', axis='x', linestyle='-')\n    ax.set_axisbelow(True)\n    ax.text(0, 1.15, \"The World's Highest-Paid Athletes from 1990 to 2020\",\n            transform=ax.transAxes, size=24, weight=600, ha='left', va='top')\n    \n    bbox=dict(facecolor='white', alpha=0.8, edgecolor='white')\n    plt.box(False)\n    \ndraw_barchart(2020)\n\n","e56a6e45":"fig, ax = plt.subplots(figsize=(15, 8))\nanimator = animation.FuncAnimation(fig, draw_barchart, frames=range(1990, 2020))\nHTML(animator.to_jshtml())\n","7dc3cc90":"# Analysis of the highest paid athletes in the world\n\n\n**Here is an analysis of the world's Top 10 highest paid athelets from 1990 to 2020. The analysis brings out some interesting facts:**\n\n- Tiger Woods dominates the list of Top ranked recently while earlier it was Michael Jordan\n- USA dominates the world when it comes to earnings\n- Monica Seles is the only women to make the top-10 highest paid athlete list from 1990 to 2020\n- Top 3 earners in 2020 are soccer players\n- Basketball players earn the most followed by Boxing and Golf.\n\n","ae3f7f4d":"### Analysing Floyd Mayweather earnings over the years","ad701f0f":"### Analysing Tiger Woods earnings over the years\n\n","575ea917":"\n# 2. World's Highest-Paid Athletes in 2020\n","2dc57786":"# Objective\n\nThis notebook is targetted towards beginners in Data Analysis. We begin by analysing the data and then we use plotly for visualisation to get better insights. Also, we plot a racing bar graph with only matplotlib to help the effects come out.","4ad4ad0b":"# 5. Where are the Women?\n---\n\n\n\n[Monica Seles](https:\/\/en.wikipedia.org\/wiki\/Monica_Seles) is the only female to make the list of top-10 highest paid athlete list so far. She did so in 1992.\n![](https:\/\/i.pinimg.com\/originals\/61\/37\/6b\/61376b658905c296da43839a74fc5f56.jpg)\nPC: [Pinterest](https:\/\/in.pinterest.com\/pin\/360006563933324090\/?lp=true)","f97216df":"### Analysing LeBron James earnings over the years","ea5bfbdd":"## Updated for year 2020","6f35dcff":"# 6. Analysis Top three earning players of all time\n---\n\n","13b557db":"## Athlete earning the most,maximum number of times","f2f307c3":" # 3. Analysis of Higest paid Athlete each year from 1990 to 2020\n---","d7b91230":"## Sport which dominates in earnings","d3eafda1":"## Athletes appearing maximum time on the list","51f80f7a":"\n# 4. Analysis of the Top Ten Higest paid Athletes each year from 1990 to 2010\n---\n\n","0cd5508a":"\n# 1. Reading and Preprocessing the data\n\n\n### Steps :\n* Read in the data using pandas\n* Convert Year column to datetime\n* Convert the text in the Sport column to either upper or lower case","1431b7c7":"\n# 7. Racing Bar chart\n---\n\n\nCredit for the code : @pratapvardhan; credit @jburnmurdoch. Also refer to this article [Bar Chart Race in Python with Matplotlib](https:\/\/towardsdatascience.com\/bar-chart-race-in-python-with-matplotlib-8e687a5c8a41) by **Pratap Vardhan**\n for a step by step process to recreate it.","0cb30802":"## Country which produces the maximum earners in Sports","9a3e5119":"## How much the Top Paid Athlete for Each Year, earn? ","6d69ead6":"## Country which dominates in Sports earnings"}}