{"cell_type":{"8b33d58d":"code","67d94e8c":"code","94557b5f":"code","75bae114":"code","fb121545":"code","18cf93ff":"code","8991483a":"code","7c7e89bd":"code","9a96cfd0":"code","a44228de":"code","fd6022da":"code","857cee82":"code","cc681a5c":"code","25d14cd2":"code","27da9a00":"code","f62df8fa":"code","9e896eb4":"code","32e4c0e4":"code","e2b784bb":"code","61508fbe":"code","916fb27d":"code","54d0ad22":"code","cc20332e":"code","80620cde":"code","f00db1e6":"code","e457429d":"code","c8609a61":"code","f538c9da":"code","eb55c260":"code","8f86319c":"code","70980725":"code","884961bb":"code","52d99e00":"code","c616f7ed":"code","7e0cdea1":"code","4b19f335":"code","06310550":"code","a60290a8":"code","0fe87d39":"code","bab203dc":"code","c86407b4":"code","f3c5f505":"code","5299abf4":"code","374946bc":"markdown","7a9fdf0c":"markdown","941890c4":"markdown","2555ce13":"markdown","f89fc1ed":"markdown","0330596b":"markdown","595a5af5":"markdown","f66f50e3":"markdown","fbb4dbe6":"markdown"},"source":{"8b33d58d":"import json\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport os\nimport pandas as pd\nimport regex as re\nimport seaborn as sns\nfrom IPython.display import Image as im\nfrom math import pi\nfrom matplotlib.sankey import Sankey\nfrom PIL import Image\nimport math","67d94e8c":"#importamos los datos\ndf = pd.read_csv('..\/input\/premier-league-player-statistics-updated-daily\/dataset - 2020-09-24.csv', sep= ',')","94557b5f":"#notamos que tiene muchas columnas por lo que este codigo nos permitira verlas todas\npd.set_option(\"display.max_columns\", None)\npd.set_option(\"display.max_rows\", None)","75bae114":"df.head()","fb121545":"df.describe(include=\"all\")","18cf93ff":"#En esta grfica podemos ver que hay muchos outliers ya que hay jugadores con goles por partido demasiado altos, imposible para un jugador de f\u00fatbol \nplt.figure(figsize =(12, 8))\nsns.countplot(\"Goals per match\", data=df)\nplt.xticks(rotation=60)\ndisplay()","8991483a":"#utilizaremos como maximo 3,5 goles por partido\ndf_goals_p_match=df[df[\"Goals per match\"] > 3.5]\nprint(df_goals_p_match.index)","7c7e89bd":"#las filas con goles por partido mayores a 3,5 las eliminaremos\ndf=df.drop(df.index[[16,  18,  22,  46,  48,  52,  55,  74,  79, 106, 136, 164, 189,\n            193, 194, 203, 218, 220, 221, 223, 240, 274, 275, 279, 285, 306,\n            309, 315, 318, 326, 332, 426, 430, 454, 482, 485, 507, 531]])","9a96cfd0":"#notamos que muchas columnas cuando estan vacias dice Nan, esto nos dificulta trabajar por lo que lo cambiaremos por 0\ndf[\"Goals\"].fillna(0, inplace = True)\ndf[\"Goals with right foot\"].fillna(0, inplace = True)\ndf[\"Goals per match\"].fillna(0, inplace = True)\ndf[\"Goals with left foot\"].fillna(0, inplace = True)\ndf[\"Shots\"].fillna(0, inplace = True)\ndf[\"Shots on target\"].fillna(0, inplace = True)\ndf[\"Hit woodwork\"].fillna(0, inplace = True)\ndf[\"Big chances missed\"].fillna(0, inplace = True)\ndf[\"Clean sheets\"].fillna(0, inplace = True)\ndf[\"Goals conceded\"].fillna(0, inplace = True)\ndf[\"Freekicks scored\"].fillna(0,inplace= True)","a44228de":"#observamos la edad de los jugadores y vemos que no hay nada fuera de lo normal\nplt.figure(figsize =(10, 6))\nsns.countplot(\"Age\", data=df)\nplt.xticks(rotation=60)\ndisplay()","fd6022da":"#los numeros mas populares son el 7, 9 y 10\nplt.figure(figsize =(15, 10))\nsns.countplot(x = \"Jersey Number\", data=df)\nplt.xticks(rotation=90)\ndisplay()","857cee82":"#defensor es la posicion mas frecuente\nplt.figure(figsize =(15, 10))\nsns.countplot(x = \"Position\", data=df)\nplt.xticks(rotation=90)\ndisplay()","cc681a5c":"df.describe(include=\"all\")","25d14cd2":"plt.figure(figsize =(12, 8))\nsns.countplot(x = \"Freekicks scored\", data=df)\nplt.xticks(rotation=90)\ndisplay()","27da9a00":"#En el describe pudimos ver que la columna nationality tiene un missing value, por lo que eliminaremos esa fila\na=df[\"Nationality\"].isna()== True\ndf[a]","f62df8fa":"#eliminamos la fila\ndf=df.drop([241],axis=0)","9e896eb4":"df[\"Wins\"].hist()","32e4c0e4":"df[\"Appearances\"].hist()","e2b784bb":"df[\"Losses\"].hist()","61508fbe":"plt.subplots(figsize=(20,20))\nsns.heatmap(df.corr(), annot=True)","916fb27d":"#creamos porcentaje de partidos ganados ya que puede sernos util\ndf[\"%wins\"]= df[\"Wins\"] \/ df[\"Appearances\"]","54d0ad22":"df.head()","cc20332e":"disp= df.plot(kind='scatter', x='Jersey Number', y='Goals')","80620cde":"df_jnumber=df.groupby(\"Jersey Number\")","f00db1e6":"df_jnumber.describe()","e457429d":"#aca vemos los goles de cada numero la primera fila son los numeros de remera, la segunda la cantidad de goles y la tercera cuantos jugadores tienen esa cantidad de goles\ndf_jnumber[\"Goals\"].value_counts()","c8609a61":"df_jnumber[\"Goals\"].mean()","f538c9da":" df_jnumber[\"Goals per match\"].mean()\n","eb55c260":"df[df[\"Goals\"]==180]","8f86319c":"df[\"Fouls per match\"] = df[\"Fouls\"]\/df[\"Appearances\"]","70980725":"df[\"High Claims per match\"] = df[\"High Claims\"]\/df[\"Appearances\"]","884961bb":"df[\"Yellow cards per match\"] = df[\"Yellow cards\"]\/df[\"Appearances\"]","52d99e00":"df[\"Red cards per match\"] = df[\"Red cards\"]\/df[\"Appearances\"]","c616f7ed":"df_pais =df.groupby(\"Nationality\")","7e0cdea1":"df_pais.describe()","4b19f335":"\nplt.figure(figsize =(15, 10))\nplt.xticks(rotation=90)\nax = sns.barplot(x=\"Nationality\", y=\"Yellow cards per match\", data=df)\n","06310550":"plt.figure(figsize =(15, 10))\nplt.xticks(rotation=90)\nax = sns.barplot(x=\"Nationality\", y=\"Red cards per match\", data=df)","a60290a8":"plt.figure(figsize =(15, 10))\nplt.xticks(rotation=90)\nax = sns.barplot(x=\"Nationality\", y=\"Fouls per match\", data=df)","0fe87d39":"plt.figure(figsize =(15, 10))\nplt.xticks(rotation=90)\nax = sns.barplot(x=\"Nationality\", y=\"High Claims per match\", data=df)","bab203dc":"df[\"Yellow cards per match\"].fillna(0, inplace = True)\ndf[\"High Claims per match\"].fillna(0, inplace = True)\ndf[\"Red cards per match\"].fillna(0,inplace= True)\ndf[\"Fouls per match\"].fillna(0,inplace= True)","c86407b4":"df[\"puntaje antideportivo\"]=df[\"Yellow cards per match\"]*1.5 + df[\"High Claims per match\"]*1.5 + df[\"Red cards per match\"]*2.5 +df[\"Fouls per match\"]","f3c5f505":"df.head()","5299abf4":"plt.figure(figsize =(15, 10))\nplt.xticks(rotation=90)\nax = sns.barplot(x=\"Nationality\", y=\"puntaje antideportivo\", data=df)","374946bc":"### como dato extra vemos que Aguero es el m\u00e1ximo goleador y utiliza  el n\u00famero 10","7a9fdf0c":"#### Los jugadores con mas goles en promedio son el 10 (37.88), despues el 9(30.21), luego el 7(20,47) y por ultimo el 11(17.83)\n#### Un dato a destacar es que el jugador con mas goles por partido entre los que tienen mas goles en promedio es el numero 11 (0.4622) y despues el 9 con (0.2768)\n","941890c4":"### creamos una metrica para determinarlo\n\n#### puntaje antideportivo = Yellow cards per match * 1,5 +  High Claims per match *1,5 + Red cards per match * 2,5 + Fouls per match\n\n#### El que cuente con un numero mayor ser\u00e1 considerado el m\u00e1s antideportivo","2555ce13":"\n\n\n\n# Premier League Player Statistics ","f89fc1ed":"## \u00bfSon los numero 9 y 10 en promedio los m\u00e1s goleadores?","0330596b":"### Como tenemos en cuenta si un jugador es mas antideportivo que otro \n\n#### High Claims per match.\n#### Yellow cards per match.\n#### Red cards per match.\n#### Fouls per match.","595a5af5":"### A trav\u00e9s de la grafica podemos ver que los n\u00fameros al rededor del 10 son los que m\u00e1s goles hacen","f66f50e3":"## podemos notar en esta grafica que wales tiene un puntaje de antideportividad mayor, por lo que respondemos que no a nuestra pregunta planteada anteriormente","fbb4dbe6":"## Son los alemanes mas antideportivos que los galeses ?"}}