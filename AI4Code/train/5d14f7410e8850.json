{"cell_type":{"1a13bfa7":"code","9504c2c2":"code","9e61e287":"code","8fe047b2":"code","5c38e05f":"code","8992040c":"code","fb982ba9":"code","c0fb5842":"code","ecab6ea1":"code","b6dc2f7a":"code","cc0b4cfa":"code","260ad479":"code","056b3683":"code","b259fc9e":"code","9acc39f5":"code","96d173bf":"code","66ad38b0":"code","3c46ea20":"code","cfa2fb3a":"code","5a93f1b2":"code","098845d9":"code","b3528c1d":"code","dea5b600":"markdown","ab10c5de":"markdown","aeb66231":"markdown","1f17d4e4":"markdown","026ade94":"markdown","efaad2f5":"markdown","a783a6bc":"markdown","3e4a91af":"markdown","41740b30":"markdown"},"source":{"1a13bfa7":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt","9504c2c2":"data = pd.read_csv('https:\/\/raw.githubusercontent.com\/justmarkham\/pycon-2018-tutorial\/master\/police.csv')","9e61e287":"data.head()","8fe047b2":"data.shape","5c38e05f":"data.dtypes","8992040c":"data.isna().sum()","fb982ba9":"data.dropna(how = 'all', axis = 1, inplace = True)\ndata.shape","c0fb5842":"data[data.violation == 'Speeding'].driver_gender.value_counts(normalize = True)","ecab6ea1":"data.groupby('driver_gender').search_conducted.mean()","b6dc2f7a":"data.search_type.isna().sum()","cc0b4cfa":"data.search_conducted.value_counts()\n\n# Search type is missing anytime search conducted is not done","260ad479":"\ndata['search_type'].str.contains('Frisk').value_counts(normalize = True)","056b3683":"data.stop_date.str.slice(0,4).value_counts()","b259fc9e":"# Alternative method\ncombined = data.stop_date.str.cat(data.stop_time, sep = ' ')\ndata['stop_datetime'] = pd.to_datetime(combined)\ndata.stop_datetime.dt.year.value_counts()[-1:]","9acc39f5":"data.groupby(data.stop_datetime.dt.hour).\\\ndrugs_related_stop.mean().plot(color = 'red')","96d173bf":"data.stop_datetime.dt.hour.value_counts().sort_index().plot()","66ad38b0":"# Alternative way\ndef get_part_of_day(h):\n    return (\n        \"morning\"\n        if 5 <= h <= 11\n        else \"afternoon\"\n        if 12 <= h <= 17\n        else \"evening\"\n        if 18 <= h <= 22\n        else \"night\"\n    )\n\ndata['day_part'] = data.stop_datetime.dt.hour.apply(get_part_of_day)","3c46ea20":"data.day_part.value_counts().plot()","cfa2fb3a":"data.stop_duration.value_counts()","5a93f1b2":"data.loc[(data.stop_duration == '1') | (data.stop_duration =='2'),\\\n         'stop_duration'] ='NaN'","098845d9":"data.loc[data.stop_duration =='NaN', 'stop_duration'] = np.nan","b3528c1d":"data.stop_duration.value_counts(dropna = False)","dea5b600":"Task 1: Remove the column that only contains missing values","ab10c5de":"Task 4: Why is search type missing so often?","aeb66231":"Task 9: Find bad data in stop_duration and fix it","1f17d4e4":"Task 8: Do most stops occur at night?","026ade94":"Task 6: Which year had the least number of stops?","efaad2f5":"Task 7: How does drug activity change by time of day?","a783a6bc":"Task 2: Do men or women speed more often?\u00b6","3e4a91af":"Task 5: During a search, how often is the driver frisked?\u00b6","41740b30":"Task 3: Does gender affect who gets searched during a stop?"}}