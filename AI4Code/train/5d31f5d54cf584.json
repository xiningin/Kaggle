{"cell_type":{"6e0a98bf":"code","22a284dd":"code","129aaeaf":"code","a3457b10":"code","5823d3e6":"code","8393da4d":"code","269f4fae":"code","6d06f289":"code","960c1add":"code","06d6493e":"code","1c6e88c2":"code","1e5cb8c3":"code","ee8cd2bd":"code","258aabfb":"code","901359f2":"code","26540755":"code","603594e6":"code","f92d2b04":"code","e95bd85d":"code","c4f00f37":"code","c603744d":"code","4f3b0412":"code","13b31dfa":"code","6485cf66":"code","c310c53b":"code","12ebaf9f":"code","620ed79a":"code","00727f44":"code","b93db136":"code","efbfc65f":"code","9467da3c":"code","4b893ef6":"code","eb562eb3":"markdown","ca11091b":"markdown","5d1941a1":"markdown"},"source":{"6e0a98bf":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n","22a284dd":"# import data from CSV file\ndf = pd.read_csv(\"..\/input\/Canada_PermanentResidents.csv\")","129aaeaf":"df.head()","a3457b10":"# update 3 row index as country\ndf.iloc[3,0] = 'Country'","5823d3e6":"# take column names from row 3\ndf.columns = df.iloc[3,:]","8393da4d":"# remove first 3 rows \ndf = df.drop([0,1,2,3],axis =0)","269f4fae":"# set country name as index\ndf = df.set_index(\"Country\")","6d06f289":"# tail records are having invalid data\ndf.tail(8)","960c1add":"# removing tail records including totals for each column\ndf = df.iloc[:-8,]","06d6493e":"df.head()","1c6e88c2":"# created method for update column names to fetch monthly data, quarterly data and yearly data\ndef coll(s):\n    dt = []\n    year = '2015'\n    for a in s:\n        if str(a) == 'nan':\n            dt.append(year)\n            year = str(int(year)+1)\n        else:\n            if \"Total\" in a:\n                dt.append(a[:2]+'_'+year)\n            else:\n                dt.append(a+'_'+year)\n    return dt","1e5cb8c3":"# update column names\ndf.columns = coll(df.columns)","ee8cd2bd":"df.head()","258aabfb":"# few data elements are '--' for 0 values and have ',' for thousends, change data valuce to numaric\ndef fill(col):\n    for cl in col:\n        df[cl] = df[cl].apply(lambda x: '0' if x == '--' else x)\n        df[cl] = df[cl].apply(lambda x: str(x).replace(',', ''))\n        df[cl] = pd.to_numeric(df[cl], errors='ignore')","901359f2":"fill(df.columns)","26540755":"df.head()","603594e6":"# data frame for quarterly data\ndf_Q = df[['Q1_2015','Q2_2015','Q3_2015','Q4_2015','Q1_2016','Q2_2016','Q3_2016','Q4_2016',\n           'Q1_2017','Q2_2017','Q3_2017','Q4_2017','Q1_2018','Q2_2018','Q3_2018','Q4_2018','Q1_2019']]","f92d2b04":"# data frame for Year data\ndf_Y = df[['2015','2016','2017','2018','2019']]","e95bd85d":"# data frame for monthly data\ndf_M = df.drop(['Q1_2015','Q2_2015','Q3_2015','Q4_2015','Q1_2016','Q2_2016','Q3_2016','Q4_2016',\n           'Q1_2017','Q2_2017','Q3_2017','Q4_2017','Q1_2018','Q2_2018','Q3_2018','Q4_2018','Q1_2019',\n                   '2015','2016','2017','2018','2019'], axis =1)","c4f00f37":"df_Q.head()","c603744d":"df_Y.head()","4f3b0412":"df_M.head()","13b31dfa":"# Sorting data by first calumn descending order\ndf_M.sort_values(by = df_M.columns[0],ascending = False,inplace=True)","6485cf66":"# taking only top 5 counntry data to plot, change data from rows to columns to plot line plot\ndata_M = df_M.head().T\ndata_M.head()","c310c53b":"cl = ['b','g','r','c','m','y','k','orange','gray','pink']\nmk = ['.','o','v','^','<','>','1','2','3',','] \nplt.figure(figsize=(25, 20))\nplt.grid()\nn = 0\nfor col in data_M.columns:\n    plt.plot(col,data=data_M, color=cl[n], marker=mk[n], linestyle='dashed',linewidth=2, markersize=12,label= col)\n    n=n+1\nplt.xlabel(\"Month\")\nplt.ylabel(\"No. of applications\")\nplt.title(\"Permanent Residents landed in Canada per month\")\nplt.xticks( rotation = 45, ha=\"right\")\nplt.legend() ","12ebaf9f":"# Sorting data by first calumn descending order\ndf_Q.sort_values(by = df_Q.columns[0],ascending = False,inplace=True)","620ed79a":"df_Q.head()","00727f44":"# taking only top 5 counntry data to plot, change data from rows to columns to plot line plot\ndata_Q = df_Q.head().T\ndata_Q.head()","b93db136":"cl = ['b','g','r','c','m','y','k','orange','gray','pink']\nmk = ['.','o','v','^','<','>','1','2','3',','] \nplt.figure(figsize=(25, 20))\nplt.grid()\nn = 0\nfor col in data_Q.columns:\n    plt.plot(col,data=data_Q, color=cl[n], marker=mk[n], linestyle='dashed',linewidth=2, markersize=12,label= col)\n    n=n+1\nplt.xlabel(\"Quarter\")\nplt.ylabel(\"No. of applications\")\nplt.title(\"Permanent Residents landed in Canada per quarter\")\nplt.xticks( rotation = 45, ha=\"right\")\nplt.legend() ","efbfc65f":"# Sorting data by first calumn descending order\ndf_Y.sort_values(by = df_Y.columns[0],ascending = False,inplace=True)","9467da3c":"# taking only top 5 counntry data to plot, change data from rows to column to plot line plot\ndata_Y = df_Y.head().T\ndata_Y.head()","4b893ef6":"cl = ['b','g','r','c','m','y','k','orange','gray','pink']\nmk = ['.','o','v','^','<','>','1','2','3',','] \nplt.figure(figsize=(15, 10))\nplt.grid()\nn = 0\nfor col in data_Y.columns:\n    plt.plot(col,data=data_Y, color=cl[n], marker=mk[n], linestyle='dashed',linewidth=2, markersize=12,label= col)\n    n=n+1\nplt.xlabel(\"Year\")\nplt.ylabel(\"No. of applications\")\nplt.title(\"Permanent Residents landed in Canada per Year\")\nplt.xticks( rotation = 45, ha=\"right\")\nplt.legend() ","eb562eb3":"Working on Quaterly data","ca11091b":"* Working on monthly data","5d1941a1":"Yearly data for 2015 to Feb 2019"}}