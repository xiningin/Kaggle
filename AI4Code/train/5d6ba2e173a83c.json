{"cell_type":{"5f6117e3":"code","7f4d1245":"code","b76cee4d":"code","1943e9c1":"code","4b89be8e":"code","3ad97bfa":"code","551cb253":"code","fdf001de":"code","c1f3f56c":"code","18eb2680":"markdown","84a0b783":"markdown","71be8230":"markdown","e791b581":"markdown","b95aa815":"markdown","662b143e":"markdown"},"source":{"5f6117e3":"# CUDA\n!nvcc --version","7f4d1245":"# CuPy\nimport cupy\ncupy.show_config()","b76cee4d":"!pip install --upgrade --quiet spacy[cuda101]","1943e9c1":"!pip install --quiet https:\/\/s3-us-west-2.amazonaws.com\/ai2-s2-scispacy\/releases\/v0.2.4\/en_core_sci_lg-0.2.4.tar.gz","4b89be8e":"from pathlib import Path\n\nDIR_DATA_INPUT = Path(\"..\/input\/githubcord19\/data\/raw\/\")\nFILE_RF_SENTENCES = DIR_DATA_INPUT \/ \"cord_19_rf_sentences.jsonl\"\nFILE_ABSTRACTS_FILTERED = DIR_DATA_INPUT \/ \"cord_19_abstracts_filtered.jsonl\"\nFILE_ABSTRACTS = DIR_DATA_INPUT \/ \"cord_19_abstracts.jsonl\"\n\nDIR_MODELS = Path(\"\/kaggle\/working\/models\")\nDIR_MODELS_RF_SENT = DIR_MODELS \/ \"tok2vec_rf_sent_sci\"\nDIR_MODELS_ABS_FIL = DIR_MODELS \/ \"tok2vec_abs_fil_sci\"\nDIR_MODELS_ABS = DIR_MODELS \/ \"tok2vec_abs_sci\"","3ad97bfa":"!rm -rf $DIR_MODELS\n!mkdir $DIR_MODELS","551cb253":"# RF sentences\n!spacy pretrain $FILE_RF_SENTENCES en_core_sci_lg $DIR_MODELS_RF_SENT --use-vectors --n-iter 300","fdf001de":"# filtered abstracts\n!spacy pretrain $FILE_ABSTRACTS_FILTERED en_core_sci_lg $DIR_MODELS_ABS_FIL --use-vectors --n-iter 300","c1f3f56c":"# all abstracts\n!spacy pretrain $FILE_ABSTRACTS en_core_sci_lg $DIR_MODELS_ABS --use-vectors --n-iter 300","18eb2680":"**Run pretraining**","84a0b783":"**Define paths for data and models**","71be8230":"# Pretraining `tok2vec` model using GPU accelerator\n\nSee https:\/\/github.com\/explosion\/projects\/tree\/master\/ner-fashion-brands#-results for an explanation of the pretraining idea.\n\nPrerequisites:\n1. Make sure to enable the GPU accelerator in notebook settings\n2. Check the version of CUDA, so that later you can specify it when installing the spaCy package\n3. Verify if CuPy is available","e791b581":"**Delete old models**","b95aa815":"**Install spaCy with GPU support**\n\nhttps:\/\/spacy.io\/usage#gpu","662b143e":"**Download spaCy models**"}}