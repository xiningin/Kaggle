{"cell_type":{"6125cc40":"code","21c0f039":"code","684841e2":"code","057823b1":"code","ae5044e7":"code","bbbc2321":"code","917fd7ff":"code","aaa9d695":"code","df10a9da":"code","09ace47e":"code","37a0cf4c":"code","9a22b892":"code","81ce0a54":"code","2a184a11":"code","b3b3f71d":"code","2a8a8997":"code","dd708f52":"code","f9129123":"code","165003e6":"code","187dfc83":"code","7c374ddd":"code","76cc6e79":"code","ac5624f4":"code","3e5adb46":"markdown","81ba61be":"markdown","8faedb0b":"markdown","b0d6652e":"markdown","b2cbf9ea":"markdown","1f1e6414":"markdown","94fee0ae":"markdown","8cf35fc7":"markdown","f90d1691":"markdown","67548158":"markdown","bf40eb84":"markdown","df200533":"markdown","1eaa445d":"markdown","5f6dc8a1":"markdown","6ca0431e":"markdown","e25fc35e":"markdown","b5489142":"markdown","dce57b18":"markdown","f3bb225e":"markdown","59ba6713":"markdown","ff3aa1fc":"markdown","2fd1f872":"markdown"},"source":{"6125cc40":"import numpy as np\nimport pandas as pd\nimport math\nimport seaborn as sns\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nsns.set_theme(style='darkgrid')\nimport datetime\nfrom collections import defaultdict\n\n# for geospatial analysis\nimport geopandas as gpd\nworld = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))\n\n\ndataset = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')\n\n# dataset overview\ndataset.head()","21c0f039":"dataset.info()","684841e2":"dataset.describe()","057823b1":"\nvaccine_groups = dataset['vaccines']\nvaccine_combinations = vaccine_groups.unique()\nvaccine_sep = []\nfor item in vaccine_combinations:\n    if(item.find(',')==False):\n        vaccine_sep.append(item.replace(' ', ''))\n    else:\n        sep = item.replace(' ', '').split(',')\n        vaccine_sep.extend(sep)\n\nvaccines_used = pd.Series(vaccine_sep).unique()","ae5044e7":"\nvaccines_used = pd.Series(vaccines_used)\nvaccines_used","bbbc2321":"vaccines_used_by_countries = dataset.groupby('country').last()[['vaccines','iso_code']]\nvaccines_used_by_countries.reset_index().set_index('country')\nvaccines_used_by_countries.head()","917fd7ff":"vaccines_used_by_countries.vaccines.value_counts().head()","aaa9d695":"chart_data = world.merge(vaccines_used_by_countries,  how='outer', left_on='iso_a3', right_on='iso_code')\nchart_data.fillna({'vaccines': 'Data N\/A'}, inplace=True)\nchart_data.info()","df10a9da":"\ndef checkVaccineType(x):\n    if(x.find('Pfizer\/BioNTech')!=-1 or x.find('Moderna')!=-1):\n        return 'Pfizer\/BioNTech or Moderna'\n    elif(x.find('Oxford\/AstraZeneca')!=-1):\n        return 'Oxford\/AstraZeneca'\n    elif(x.find('Sputnik V')!=-1):\n        return 'Sputnik V'\n    elif(x.find('Sinopharm')!=-1):\n        return 'Sinopharm'\n    elif(x == 'Data N\/A'):\n        return 'Data N\/A'\n    else:\n        return 'Other'\n\ntop_5_vaccine_types = vaccines_used_by_countries.vaccines.value_counts().head().index\n\nchart_data['Pfizer\/Moderna'] = chart_data.apply(lambda x: checkVaccineType(x['vaccines']), axis = 1,)\n\nax = chart_data.plot(column='Pfizer\/Moderna',legend=True, cmap='Paired', alpha=0.5, figsize=(15,9))\nax.set_title('Primary COVID-19 Vaccine being used by countries', fontdict= \n            {'fontsize':18})\nax.set_axis_off()","09ace47e":"vaccines_used_by_countries.loc['India']['vaccines']","37a0cf4c":"vaccines_used_by_countries.loc['United States']['vaccines']","9a22b892":"vaccine_doses_administered = dataset.groupby('country').last()['total_vaccinations']\nvaccine_doses_administered.head()","81ce0a54":"vaccine_doses_administered['United States']","2a184a11":"vaccine_doses_administered['India']","b3b3f71d":"top_countries_doses = vaccine_doses_administered.sort_values(ascending=False)\ntop_countries_doses.head()","2a8a8997":"top_countries_doses_new = top_countries_doses.drop(labels=['England', 'Wales', 'Scotland'])\ntop_countries_doses_new.head()","dd708f52":"top_10_countries_fully_vaccinated = dataset.groupby('country').last()['people_fully_vaccinated']\ntop_10_countries_fully_vaccinated = top_10_countries_fully_vaccinated.sort_values(ascending=False)\ntop_10_countries_fully_vaccinated.head(10)","f9129123":"px.bar(top_10_countries_fully_vaccinated.head(10), y='people_fully_vaccinated', title='Top 10 countries by population fully vaccinated')","165003e6":"vaccinations_per_100_people = dataset.groupby('country').last()[['people_vaccinated_per_hundred', 'total_vaccinations', 'iso_code']].drop(labels=['England', 'Wales', 'Scotland'])\n\ntop_10_total_vaccinations = vaccinations_per_100_people.sort_values(ascending=False,by='total_vaccinations').dropna().head(10)\n\ntop_10_per_hundred_vaccinations = top_10_total_vaccinations.sort_values(ascending=False, by='people_vaccinated_per_hundred')\n\ntop_10_per_hundred_vaccinations['people_vaccinated_per_hundred']","187dfc83":"chart_data_per_hundred_vaccinations = top_10_per_hundred_vaccinations['people_vaccinated_per_hundred']\n\npx.bar(chart_data_per_hundred_vaccinations, y='people_vaccinated_per_hundred', title='Population fully vaccinated per 100 people')","7c374ddd":"map_data_per_hundred_vaccinations = world.merge(vaccinations_per_100_people, how='outer', left_on='iso_a3', right_on='iso_code')\n\nax = map_data_per_hundred_vaccinations.plot(column='people_vaccinated_per_hundred',legend=True, cmap='YlGn', figsize=(15,9), scheme='quantiles', alpha=0.7, missing_kwds={'color': 'lightgrey', 'label':'Data N\/A'})\n\nax.set_title('Population fully vaccinated per hundred people', fontdict= \n            {'fontsize':18})\nax.set_axis_off()","76cc6e79":"usa_data = dataset[dataset['country'] == 'United States'][['daily_vaccinations', 'date']].reset_index().set_index('date').dropna().drop(columns = ['index'])\n\n\nusa_data['Date'] = pd.to_datetime(usa_data.index, utc=True)\nusa_data.set_index('Date', inplace=True)\n\npx.line(usa_data, y='daily_vaccinations', title='Trend of vaccinations in the US')","ac5624f4":" \nindia_data = dataset[dataset['country'] == 'India'][['daily_vaccinations', 'date']].reset_index().set_index('date').dropna().drop(columns = ['index'])\n\nindia_data['Date'] = pd.to_datetime(india_data.index, utc=True)\nindia_data.set_index('Date', inplace=True)\n\npx.line(india_data, y='daily_vaccinations', title='Trend of vaccinations in India')","3e5adb46":"Data from the 'vaccines' column is collected and unique entries are stored in a variable","81ba61be":"The time series data of daily vaccinations in the US and India is found from the 'daily_vaccinations' column. Line plots for these countries are shown below","8faedb0b":"The top 10 countries by vaccine doses administered are now found from the dataset","b0d6652e":"The list of vaccines being used by countries is now found","b2cbf9ea":"The US has administered more than 100M vaccine doses as of March 11, 2021.","1f1e6414":"import libraries needed in this notebook","94fee0ae":"Remove 'England', 'Wales' and 'Scotland' from the index column as they are redundant when their data is a part of 'United Kingdom'\n\nWe now find the top 10 countries by most doses administered","8cf35fc7":"Merge the vaccinations dataset with the geopandas one to be create choropleth maps\n\nMissing data in this merged dataset is handled by replacing NaN with 'Data N\/A'","f90d1691":"We can infer from this map that the availabilty of these vaccines(Pfizer and Moderna) is limited to first world countries\n\n1. Most Asian and South American countries are using Oxford\/AZ\n\n2. Russia is using its homegrown Sputnik-V vaccine while China is using Sinopharm.\n\n3. India is using Oxford\/Astrazeneca and its homegrown Covaxin\n\n4. The US is primarily using Pfizer\/BioNTech and Moderna. Doses of Johnson&Johnson are also being distributed","67548158":"General overview of the dataset","bf40eb84":"India has administered around 28M vaccine doses as of March 11, 2021","df200533":"Map showing population fully vaccinated per hundred people","1eaa445d":"Around 2.3M people were vaccinated in the US on Thursday, March 12. We can notice a steady positive trend in daily vaccinations\n\nIndia vaccinated about 1.2M people on the same day. ","5f6dc8a1":"A bar chart showing data of these countries","6ca0431e":"The two most clinically effective vaccines against COVID-19 are the m-RNA, Pfizer\/BioNTech and Moderna.\n \nThis is based on their published efficacy rates of around 90-95%\n\nThis map shows the primary vaccine being used by countries to innoculate their population.","e25fc35e":"The most common sets of vaccines being used by countries are found","b5489142":"Summary of the dataset with attributes like sum, mean, count, etc","dce57b18":"The top ten countries by population vaccinated per hundred people is found from the 'people_vaccinated_per_hundred' column. It makes more sense to arrange the top 10 countries by fully vaccinated population found in the previous cell, by vaccinations per hundred people.","f3bb225e":"Data of vaccine doses administered by country is now found from the dataset","59ba6713":"The top 10 countries by population fully vaccinated are:","ff3aa1fc":" The different vaccines being used by countries are analyzed","2fd1f872":"This bar chart shows the top 10 countries by population fully vaccinated"}}