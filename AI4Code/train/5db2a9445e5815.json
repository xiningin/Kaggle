{"cell_type":{"28e2b2fe":"code","d78071d5":"code","fa27dbcd":"code","0c46ed10":"code","4e0f9595":"code","8ee75101":"code","e5deea08":"code","ccb86971":"code","d983630b":"code","95bea8cd":"code","e576e5cf":"code","bbd90a9b":"code","72e44306":"code","7419f39c":"code","225bc8a5":"code","8648446f":"code","30a5bbc2":"code","c1a04b3d":"code","605a2283":"code","7b38b252":"code","ce2ef93c":"code","41d16494":"markdown","354b5e02":"markdown","b873300a":"markdown","b5c8784d":"markdown","214324a3":"markdown","29794ea8":"markdown","dc4bf7b6":"markdown","8b9488bf":"markdown","76385a51":"markdown","0287321f":"markdown","7b3e37d6":"markdown"},"source":{"28e2b2fe":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d78071d5":"#Imports\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set_style('whitegrid')\nimport plotly\nimport plotly.graph_objs as go\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom collections import Counter\nfrom plotly.offline import init_notebook_mode, iplot, plot","fa27dbcd":"heart_df=pd.read_csv(\"..\/input\/heart-attack-analysis-prediction-dataset\/heart.csv\")\no2_df=pd.read_csv(\"..\/input\/heart-attack-analysis-prediction-dataset\/o2Saturation.csv\")\nprint(heart_df.info())","0c46ed10":"heart_df.shape","4e0f9595":"heart_df.describe()","8ee75101":"heart_df.head()","e5deea08":"heart_df.isnull().any()\n#no miss values","ccb86971":"def outlier(df,features):\n    outlier_indices=[]\n    \n    for i in features:\n        q1=np.percentile(df[i],25)\n        q3=np.percentile(df[i],75)\n        \u0131qr_step=1.5*(q3-q1)\n        outlier_list=df[(df[i] < q1-\u0131qr_step) | (df[i] > q3+\u0131qr_step)].index\n        outlier_indices.extend(outlier_list)\n         \n    outlier_indices = Counter(outlier_indices)\n    return outlier_indices","d983630b":"heart_df.loc[outlier(heart_df,[\"age\",\"trtbps\",\"chol\",\"thalachh\",\"oldpeak\"])]","95bea8cd":"heart_df = heart_df.drop(outlier(heart_df,[\"age\",\"trtbps\",\"chol\",\"thalachh\",\"oldpeak\"]),axis = 0).reset_index(drop = True)\nheart_df.loc[outlier(heart_df,[\"age\",\"trtbps\",\"chol\",\"thalachh\",\"oldpeak\"])]","e576e5cf":"c_list=[\"sex\",\"cp\",\"fbs\",\"restecg\",\"exng\",\"slp\",\"caa\",\"thall\",\"output\"]\nn_list=[\"age\",\"trtbps\",\"chol\",\"thalachh\",\"oldpeak\"]","bbd90a9b":"def cateplot(fea):\n\n    for i in fea:\n        sns.countplot(heart_df[i])\n        plt.show()\n        \ncateplot(c_list)","72e44306":"def numplot(fea):\n    for i in fea:\n        trace1 = go.Histogram(\n            x=heart_df[i],\n            opacity=0.75,\n            name = i,\n            marker=dict(color='lime'))\n        layout = go.Layout(barmode='overlay',title=i + \" Count Plot\",autosize=True,\n                   xaxis=dict(title=i),\n                   yaxis=dict( title='Count'),bargap=0.1)\n        fig = go.Figure(data=trace1, layout=layout)\n        fig.update_traces(xbins=dict( # bins used for histogram\n        start=0.0,\n        size=1)\n         \n                         )\n        \n        iplot(fig)\nnumplot(n_list)\n","7419f39c":"plt.figure(figsize=(18,20))\nsns.pairplot(heart_df, hue = \"output\")","225bc8a5":"plt.figure(figsize=(16,10))\nsns.heatmap(heart_df.corr(),annot=True,fmt = \".2f\")","8648446f":"trace_1=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.oldpeak,\n    #mode=\"markers\",\n    name=\"Output-oldpeak\",\n    marker=dict(color='purple'),\n    text=heart_df.oldpeak\n)\ntrace_2=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.exng,\n    #mode=\"markers\",\n    xaxis='x2',\n    yaxis='y2',\n    name=\"Output-Exng\",\n    marker=dict(color='blue'),\n    text=heart_df.exng\n)\ntrace_3=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.cp,\n    xaxis='x3',\n    yaxis='y3',\n    #mode=\"markers\",\n    name=\"Output-Cp\",\n    marker=dict(color='yellow'),\n    text=heart_df.cp\n)\ntrace_4=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.thalachh,\n    xaxis='x4',\n    yaxis='y4',\n    #mode=\"markers\",\n    name=\"Output-thalachh\",\n    marker=dict(color='green'),\n    text=heart_df.thalachh\n)\n\n\n#,\n#layout=dict(title='Output-(exng,cp,thalachh,caa,thall,slp,sex)',\n#           xaxis=dict(title=\"Numbers\",ticklen=5,zeroline=False),\n#           yaxis=dict(title=\"Output \",ticklen=5,zeroline=False) )\nlayout = go.Layout(\n    xaxis=dict(\n        domain=[0, 0.45]\n    ),\n    yaxis=dict(\n        domain=[0, 0.45]\n    ),\n    xaxis2=dict(\n        domain=[0.55, 1],\n        anchor='y2'\n    ),\n    yaxis2=dict(\n        domain=[0, 0.45],\n        anchor='x2'\n    ),\n    xaxis3=dict(\n        domain=[0, 0.45],\n        anchor='y3'\n    ),\n    yaxis3=dict(\n        domain=[0.55, 1],\n        anchor='x3'\n    ),\n    xaxis4=dict(\n        domain=[0.55, 1],\n        anchor='y4'\n    ),\n    yaxis4=dict(\n        domain=[0.55, 1],\n        anchor='x4'\n    ))\n   \n    \n    \ndata=[trace_1,trace_2,trace_3,trace_4]\nfig = go.Figure(data=data, layout=layout)\niplot(fig)","30a5bbc2":"trace_5=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.caa,\n    xaxis='x1',\n    yaxis='y1',\n    #mode=\"markers\",\n    name=\"Output-Caa\",\n    marker=dict(color='orange'),\n    text=heart_df.caa\n)\ntrace_6=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.thall,\n    xaxis='x2',\n    yaxis='y2',\n    #mode=\"markers\",\n    name=\"Output-Thall\",\n    marker=dict(color='red'),\n    text=heart_df.thall\n)\ntrace_7=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.slp,\n    xaxis='x3',\n    yaxis='y3',\n    #mode=\"markers\",\n    name=\"Output-Slp\",\n    marker=dict(color='black'),\n    text=heart_df.slp\n)\ntrace_8=go.Scatter(\n    y=heart_df.output,\n    x=heart_df.sex,\n    xaxis='x4',\n    yaxis='y4',\n    #mode=\"markers\",\n    name=\"Output-Sex\",\n    marker=dict(color='purple'),\n    text=heart_df.sex)\nlayout = go.Layout(\n    xaxis=dict(\n        domain=[0, 0.45]\n    ),\n    yaxis=dict(\n        domain=[0, 0.45]\n    ),\n    xaxis2=dict(\n        domain=[0.55, 1],\n        anchor='y2'\n    ),\n    yaxis2=dict(\n        domain=[0, 0.45],\n        anchor='x2'\n    ),\n    xaxis3=dict(\n        domain=[0, 0.45],\n        anchor='y3'\n    ),\n    yaxis3=dict(\n        domain=[0.55, 1],\n        anchor='x3'\n    ),\n    xaxis4=dict(\n        domain=[0.55, 1],\n        anchor='y4'\n    ),\n    yaxis4=dict(\n        domain=[0.55, 1],\n        anchor='x4'\n    ))\ndata=[trace_5,trace_6,trace_7,trace_8]\nfig = go.Figure(data=data, layout=layout)\niplot(fig)","c1a04b3d":"#slp-oldpeak\ntrace_1=go.Scatter(\n    x=heart_df.slp,\n    y=heart_df.oldpeak,\n    mode=\"markers\",\n    marker = dict(color = 'rgba(16, 112, 2, 0.8)'),\n    text=heart_df.oldpeak\n    )\n\n   \ndata=[trace_1]   \nlayout = dict(title = 'Slp-Oldpeak plot',\n              xaxis= dict(title= 'Slp',ticklen= 5,zeroline= False),\n              yaxis=dict(title=\"Oldpeak\"))\nfig = dict(data = data, layout = layout)\niplot(fig)","605a2283":"#oldpeak-exng\ntrace_1=go.Scatter(\n    x=heart_df.exng,\n    y=heart_df.oldpeak,\n    mode=\"markers\",\n    marker = dict(color = 'rgba(16, 112, 2, 0.8)'),\n    text=(heart_df.oldpeak,\" \",heart_df.exng)\n    )\n\n   \ndata=[trace_1]   \nlayout = dict(title = 'Exng-Oldpeak plot',\n              xaxis= dict(title= 'Exng',ticklen= 5,zeroline= False),\n              yaxis=dict(title=\"Oldpeak\"))\nfig = dict(data = data, layout = layout)\niplot(fig)","7b38b252":"\n#exng-cp<br>\n#exng-thalachh<br>\ndef plotexng(fea):\n    trace_1=go.Scatter(\n        x=heart_df.exng,\n        y=heart_df[fea],\n        mode=\"markers\",\n        marker = dict(color = 'rgba(16, 112, 2, 0.8)'),\n        text=(heart_df[fea],\" \",heart_df.exng)\n    )\n    data=[trace_1]   \n    layout = dict(title = \"Exng-\"+fea +\" plot\",\n                  xaxis= dict(title= 'Exng',ticklen= 5,zeroline= False),\n                  yaxis=dict(title=fea))\n    fig = dict(data = data, layout = layout)\n    iplot(fig)\nplotexng(\"cp\")\nplotexng(\"thalachh\")","ce2ef93c":"#thalachh-age\n#thalachh-oldpeak\n#thalachh-slp\ndef plotthalachh(fea):\n    trace_1=go.Scatter(\n        x=heart_df.thalachh,\n        y=heart_df[fea],\n        mode=\"markers\",\n        marker = dict(color = 'rgba(16, 112, 2, 0.8)'),\n        text=(heart_df[fea],\" \",heart_df.thalachh)\n    )\n    data=[trace_1]   \n    layout = dict(title = \"thalachh-\"+fea +\" plot\",\n                  xaxis= dict(title= 'thalachh',ticklen= 5,zeroline= False),\n                  yaxis=dict(title=fea))\n    fig = dict(data = data, layout = layout)\n    iplot(fig)\nplotthalachh(\"age\")\nplotthalachh(\"oldpeak\")\nplotthalachh(\"slp\")","41d16494":"<a id=\"3\"><\/a>\n## Basic Data Analysis","354b5e02":"<a id=\"5\"><\/a>\n#### Numerical Variable Analysis","b873300a":"<a id=\"2\"><\/a>\n## Load and Check Data","b5c8784d":"#### Categorical Variable\nSEX<br>CP<br>FBS<br>RESTECG<br>EXNG<br>SLP<br>CAA<br>THALL<br>OUTPUT \n#### Numerical Variable\nAGE<br>TRTBPS<br>CHOL<br>THALACHH<br>OLDPEAK","214324a3":"# Content\n1. [Information](#1)\n1. [Load and Check Data](#2)\n1. [Basic Data Analysis](#3)\n    * [Categorical Variable Analysis](#4)\n    * [Numerical Variable Analysis](#5)\n    * [Basic Data Correlation Analysis ](#6)","29794ea8":"<a id=\"6\"><\/a>\n# Basic Data Correlation Analysis\nAge-Chol <br>\nAge-Output <br>\nAge-Trtbps<br>\nAge-Exng<br>\nAge-Fbs<br>\nAge_Thalachh","dc4bf7b6":"<a id=\"4\"><\/a>\n#### Categorical Variable Analysis","8b9488bf":"<a id=\"1\"><\/a>\n## Information\nAbout this dataset<br>\nAge : Age of the patient<br>\nSex : Sex of the patient<br>\nexang: exercise induced angina (1 = yes; 0 = no)<br>\nca: number of major vessels (0-3)<br>\ncp : Chest Pain type chest pain type<br>\n<br>\nValue 1: typical angina<br>\nValue 2: atypical angina<br>\nValue 3: non-anginal pain<br>\nValue 4: asymptomatic<br>\n\ntrtbps : resting blood pressure (in mm Hg)<br>\n<br>\nchol : cholestoral in mg\/dl fetched via BMI sensor<br>\n<br>\nfbs : (fasting blood sugar > 120 mg\/dl) (1 = true; 0 = false)<br>\n<br>\nrest_ecg : resting electrocardiographic results<br>\n<br>\nValue 0: normal<br>\nValue 1: having ST-T wave abnormality (T wave inversions and\/or ST elevation or depression of > 0.05 mV)<br>\nValue 2: showing probable or definite left ventricular hypertrophy by Estes' criteria<br>\nthalach : maximum heart rate achieved<br>\n<br>\ntarget : 0= less chance of heart attack 1= more chance of heart attack<br>","76385a51":"Now we can understand that ther is a relation between:<br>\noutput-oldpeak<br>\noutput-exng<br>\noutput-cp<br>\noutput-thalachh<br>\noutput-caa<br>\noutput-thall<br>\noutput-slp<br>\noutput-sex<br>\n<br>\nslp-oldpeak<br>\n<br>\nexng-oldpeak<br>\nexng-cp<br>\nexng-thalachh<br>\n<br>\n<br>\nthalachh-age<br>\nthalachh-oldpeak<br>\nthalachh-slp<br>\n\n","0287321f":" ***Outlier detection***","7b3e37d6":"When slp increases oldpeak starts to decline"}}