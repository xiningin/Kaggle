{"cell_type":{"832d1588":"code","032e9bef":"code","1581605c":"code","b629d862":"code","dbf6ba55":"code","538e02c0":"code","89b4ee29":"code","39a6a099":"code","bb7c37e2":"code","4f53984c":"code","c1984524":"code","71d33113":"code","4d916657":"code","307f11a7":"code","fac2e3db":"code","45a48046":"code","b15e548b":"code","8c59b797":"code","efc1474d":"code","8fe76491":"code","d3632190":"code","d2b59dcc":"code","b6b26c5b":"code","26003cec":"code","3c168da5":"code","4a704e37":"code","6a15e7c4":"markdown"},"source":{"832d1588":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom mlxtend.frequent_patterns import apriori, association_rules\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime as dt\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\npd.options.display.max_columns\npd.options.display.max_rows = 100\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","032e9bef":"satislar = pd.read_csv('\/kaggle\/input\/satislar.csv',sep=';',low_memory=False, header=None)","1581605c":"satislar.head()","b629d862":"satislar.columns = ['BranchId', 'PosId', 'InvoiceDate', 'InvoiceNo','StockCode','Line','Quantity','CategoryCode','CategoryName']","dbf6ba55":"satislar.head(20)","538e02c0":"df = satislar.copy()","89b4ee29":"df.drop(columns= ['PosId', \"BranchId\", \"StockCode\", \"Line\"], inplace=True) # i\u015fimize yaramayan column'lar\u0131 att\u0131k.\ndf.head()","39a6a099":"df.isna().sum()","bb7c37e2":"df.dropna(inplace=True) # nan olan verileri att\u0131k \ndf.shape","4f53984c":"df.tail(20)","c1984524":"df['CategoryName'] = df['CategoryName'].apply(lambda x: x.strip(\",\")) # CategoryName sonundaki virg\u00fclleri att\u0131k","71d33113":"df","4d916657":"df[\"InvoiceNo\"].nunique() # toplam ka\u00e7 fatura kesilmi\u015f","307f11a7":"df['CategoryName'].value_counts().head(10)","fac2e3db":"df.groupby([\"InvoiceNo\", 'CategoryName'])['CategoryName'].count() # Hangi faturada, neler al\u0131nm\u0131\u015f","45a48046":"items = (df['CategoryName'].unique())\nitems[:10]","b15e548b":"branch_order = (df\n          .groupby(['InvoiceNo', 'CategoryName'])['Quantity'] \n          .sum().unstack().reset_index().fillna(0) \n          .set_index('InvoiceNo'))","8c59b797":"branch_order.head(10)","efc1474d":"branch_order.isna().sum()","8fe76491":"encoded = branch_order.applymap(lambda x: 1 if x != 0 else 0)","d3632190":"freq_items = apriori(encoded, min_support=0.00, use_colnames=True, verbose=1)","d2b59dcc":"freq_items.sort_values('support', ascending=False)","b6b26c5b":"association_rules(freq_items, metric = 'confidence', min_threshold=0.4).sort_values(['support','confidence'], ascending=[False,False])","26003cec":"satislar[\"BranchId\"].nunique() # \u015eubeymi\u015f","3c168da5":"satislar[\"InvoiceNo\"].nunique()","4a704e37":"satislar.groupby(['BranchId'])['InvoiceNo'].count()[:10] # Hangi \u015fubede ka\u00e7 fatura kesildi?","6a15e7c4":"* Meyve ve Sebze t\u00fcm al\u0131\u015fveri\u015flerin %5'inde birlikte bulunuyor. (support = 0.047) \n* Meyve alanlar\u0131n %50'si Sebze de al\u0131yor. (confidence = 0.508) \n* Meyve al\u0131m\u0131 Sebze al\u0131m\u0131n\u0131 1.6 kat art\u0131r\u0131yor. (lift = 1.667)\n\n* Kraker ve Bisk\u00fcvi \u00c7e\u015fitleri t\u00fcm al\u0131\u015fveri\u015fin %1'inde birlikte al\u0131n\u0131yor\n* Kraker alanlar\u0131n %53'\u00fc Bisk\u00fcvi \u00c7e\u015fitleri de al\u0131yor. (confidence =0.532)\n* Kraker al\u0131m\u0131 Bisk\u00fcvi \u00c7e\u015fitleri al\u0131m\u0131n\u0131 7.9 kat art\u0131r\u0131yor. (lift = 7.9)"}}