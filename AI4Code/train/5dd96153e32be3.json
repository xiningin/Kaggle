{"cell_type":{"a9b22dd5":"code","c92b63a3":"code","c1ca36ef":"code","2c326dfb":"code","b514b7e8":"code","6dd88944":"code","a9f19183":"code","df9f12b6":"code","05fb4dc6":"code","11552a58":"code","c4bcd3e9":"code","f188bd1d":"code","33b468ca":"code","573a4ad4":"code","e8755c65":"code","6656ac12":"code","2a048311":"code","d0618a84":"code","332ba093":"code","760b56a3":"code","e61848da":"code","cc18499d":"code","96145e6d":"markdown"},"source":{"a9b22dd5":"%matplotlib inline\nimport pandas as pd\nfrom sklearn.tree import DecisionTreeRegressor\nimport numpy as np\nfrom sklearn.tree import DecisionTreeRegressor \nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_squared_error\nfrom math import sqrt\nfrom sklearn import tree\nfrom sklearn.ensemble import RandomForestRegressor","c92b63a3":"df_train = pd.read_csv(\"..\/input\/socc-ai-competition-1\/train.csv\")\ndf_test = pd.read_csv(\"..\/input\/socc-ai-competition-1\/test.csv\")","c1ca36ef":"df_train.head()","2c326dfb":"df_train.shape","b514b7e8":"print(df_train.info())\n","6dd88944":"print(df_train.isnull().sum())\n","a9f19183":"print(df_train.isnull().any())","df9f12b6":"print(df_train.describe())\n","05fb4dc6":"y = df_train['shares']\ndf_train.drop(['shares', 'url'], axis=1, inplace=True)\n","11552a58":"df_train.head()","c4bcd3e9":"'''\ndf_train.replace(0,df_train['abs_title_sentiment_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['global_rate_negative_words'].mean(), inplace=True)\ndf_train.replace(0,df_train['rate_positive_words'].mean(), inplace=True)\ndf_train.replace(0,df_train['abs_title_subjectivity'].mean(), inplace=True)\ndf_train.replace(0,df_train['title_sentiment_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['title_subjectivity'].mean(), inplace=True)\ndf_train.replace(0,df_train['max_negative_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['min_negative_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['avg_negative_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['max_positive_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['min_positive_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['avg_positive_polarity'].mean(), inplace=True)\ndf_train.replace(0,df_train['rate_negative_words'].mean(), inplace=True)\n'''","f188bd1d":"'''\ndf_test.replace(0,df_test['abs_title_sentiment_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['global_rate_negative_words'].mean(), inplace=True)\ndf_test.replace(0,df_test['rate_positive_words'].mean(), inplace=True)\ndf_test.replace(0,df_test['abs_title_subjectivity'].mean(), inplace=True)\ndf_test.replace(0,df_test['title_sentiment_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['title_subjectivity'].mean(), inplace=True)\ndf_test.replace(0,df_test['max_negative_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['min_negative_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['avg_negative_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['max_positive_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['min_positive_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['avg_positive_polarity'].mean(), inplace=True)\ndf_test.replace(0,df_test['rate_negative_words'].mean(), inplace=True)\n'''","33b468ca":"'''\ndf_train['abs_title_sentiment_polarity']=df_train['abs_title_sentiment_polarity'].replace(['0'],np.nan)\ndf_train['global_rate_negative_words']=df_train['global_rate_negative_words'].replace(['0'],np.nan)\ndf_train['rate_positive_words']=df_train['rate_positive_words'].replace(['0'],np.nan)\ndf_train['abs_title_subjectivity']=df_train['abs_title_subjectivity'].replace(['0'],np.nan)\ndf_train['title_sentiment_polarity']=df_train['title_sentiment_polarity'].replace(['0'],np.nan)\ndf_train['title_subjectivity']=df_train['title_subjectivity'].replace(['0'],np.nan)\ndf_train['max_negative_polarity']=df_train['max_negative_polarity'].replace(['0'],np.nan)\ndf_train['min_negative_polarity']=df_train['min_negative_polarity'].replace(['0'],np.nan)\ndf_train['avg_negative_polarity']=df_train['avg_negative_polarity'].replace(['0'],np.nan)\ndf_train['max_positive_polarity']=df_train['max_positive_polarity'].replace(['0'],np.nan)\ndf_train['min_positive_polarity']=df_train['min_positive_polarity'].replace(['0'],np.nan)\ndf_train['avg_positive_polarity']=df_train['avg_positive_polarity'].replace(['0'],np.nan)\ndf_train['rate_negative_words']=df_train['rate_negative_words'].replace(['0'],np.nan)\n'''","573a4ad4":"#df_train = df_train.dropna(how='any',axis=0)","e8755c65":"model = RandomForestRegressor(n_estimators=100, max_features='auto', bootstrap=True, max_depth=10, min_samples_leaf=2)","6656ac12":"%time model.fit(df_train, y)","2a048311":"model.score(df_train,y)","d0618a84":"df_test.drop('url', axis=1, inplace=True)\ntest_preds = model.predict(df_test)","332ba093":"#y_valid = df_test['shares']\n#rms = sqrt(mean_squared_error(y_valid,model.predict(df_test)))","760b56a3":"df_train.head()","e61848da":"df_test.head()","cc18499d":"submit = pd.DataFrame()\nsubmit['Id'] = np.arange(0,len(test_preds))\nsubmit['Expected'] = test_preds\nsubmit.to_csv(\"sample2.csv\", index=False)","96145e6d":"# Model"}}