{"cell_type":{"9882d9c5":"code","48d81a05":"code","36c5eaa3":"code","70b71c01":"code","a47efdb0":"code","e84c9ae5":"code","009423d5":"code","f515531f":"code","dbbaec65":"code","4b828844":"code","50d51b74":"code","8a794b55":"code","4e922ca0":"code","6705667a":"code","7c3f67b0":"code","c803f14e":"code","d3576383":"code","b0e3bfc0":"code","859dbaee":"code","06eb15ae":"code","671e11ca":"code","714f827d":"code","04c978fa":"code","c77a054b":"code","82060855":"code","774ac5ee":"code","280a1b29":"code","72d377c9":"code","ef5c8e8f":"code","52be41ca":"code","7665896e":"code","49e6427a":"code","9370bb00":"code","868249e0":"code","8498dbb9":"code","93c1be28":"code","0240a7bc":"code","f7182b42":"code","e9b7bfb5":"code","7f5deaea":"code","a047c190":"code","a0e0e528":"code","d5036007":"code","8e8a50a0":"code","c22203fe":"code","a5e9835b":"code","095218e7":"code","318035f6":"code","da9dceb7":"code","ec79b519":"code","b9aac31c":"code","0b189f49":"code","aadee60c":"code","1936a9dd":"code","11a0d975":"code","987f10ae":"code","f7dc99fd":"markdown","b8590f3e":"markdown","e627d4cf":"markdown","8393bca8":"markdown","b6bfa7ae":"markdown","028e8ad3":"markdown","e7a95521":"markdown","a9c62028":"markdown","abddc568":"markdown","01625c67":"markdown","95bdf6ab":"markdown","af534bbf":"markdown","7205d3c9":"markdown","4ea72858":"markdown","0cfe5291":"markdown","089b952b":"markdown","2be20bc3":"markdown","70d509bf":"markdown","a2a3618f":"markdown","d2b04350":"markdown","a498e2cc":"markdown","0d3a2609":"markdown","71101f6c":"markdown","4d6568f2":"markdown","d97e216a":"markdown","eb04edc9":"markdown","6fe24507":"markdown","4ba557e1":"markdown","41228abf":"markdown","ab019cb8":"markdown"},"source":{"9882d9c5":"import os\nos.getcwd()","48d81a05":"# Ignore harmless warnings\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n#Importing libraries for data analysis and cleaning\nimport numpy as np\nimport pandas as pd\n\n#importing visualisation libraries for data visualisation\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport cufflinks as cf\ncf.go_offline()\ncf.set_config_file(offline=False, world_readable=True)\ninit_notebook_mode(connected=True)\n\n#load datasets\ntiers = pd.read_csv('..\/input\/health-facilities-gh\/health-facility-tiers.csv')\nfacilities = pd.read_csv('..\/input\/health-facilities-gh\/health-facilities-gh.csv')","36c5eaa3":"#checking dataset 1\ntiers.head()","70b71c01":"#checking the general summary of the dataset\ntiers.info()","a47efdb0":"#checking for duplicated data\ntiers.duplicated().sum()","e84c9ae5":"#examining the 20 rows that are duplicated\ntiers.loc[tiers.duplicated(keep=False),:]","009423d5":"#removing duplicated data\ntiers = tiers.drop_duplicates()\n\n#confirming \ntiers.duplicated().sum()","f515531f":"#checking dataset 2\nfacilities.head()","dbbaec65":"#general info of dataset 2\nfacilities.info()","4b828844":"facilities.isnull().sum()","50d51b74":"#Investigating missing rows in the town column\nfacilities[facilities['Town'].isnull()]","8a794b55":"#checking for duplicated data\nfacilities.duplicated().sum()","4e922ca0":"#examing those 30 duplicated rows\nfacilities.loc[facilities.duplicated(),:]","6705667a":"#removing duplicated rows\nfacilities = facilities.drop_duplicates()","7c3f67b0":"#Investigating categorical data. This is to identify any duplicates resulting from many possible factors\nno_regions = facilities['Region'].unique()\n\nfor x in no_regions:\n    print(x)","c803f14e":"#Identifying the available facility types accross the nation and cross-checking for errors\nno_types = facilities['Type'].unique()\n\nfor x in no_types:\n    print(x)","d3576383":"#investigating category clinic under 'Type'\nfacilities[facilities['Type'] == 'clinic']","b0e3bfc0":"#fixing error. Adding 'clinc' to 'Clinc'.\nfacilities['Type'].loc[[2010,2056]] = 'Clinic'","859dbaee":"#Investigating the misspelled 'CPHS'\nfacilities[facilities['Type'] == 'CPHS']","06eb15ae":"#correcting that error\nfacilities['Type'].loc[646] = 'CHPS'","671e11ca":"facilities[facilities['Type'] == 'DHD']\nfacilities['Type'].loc[1250] = 'Municipal Health Directorate'","714f827d":"#investigating all misclassifed CHPS types and ownerships\npd.set_option('display.max_rows', None)\nfacilities[facilities['FacilityName'].str.contains('CHPS')]","04c978fa":"#duplicated data. One is classified as Clinic and the other CHPS with the same Lat and Long.\nfacilities.loc[[2183,2187]]","c77a054b":"#dropping the category type 'clinic'\nfacilities = facilities.drop([2183])\n\n#misclassified 'CHPS' under type\nfacilities.loc[[953,1008,1163,1166,2516,3103,3265]]","82060855":"#correcting the wrongly classified 'Clinic' to the right category 'CHPS'\nfacilities['Type'].loc[[953,1008,1163,1166,2516,3103,3265]] = 'CHPS'","774ac5ee":"#duplicated. The spelling of it was spaced out\nfacilities[facilities['Type'] == 'Municipal  Health Directorate']","280a1b29":"#compiling it into one\nfacilities['Type'].loc[1134] = 'Municipal Health Directorate'","72d377c9":"#Investigating category 'Centre'\nfacilities[facilities['Type'] == 'Centre']","ef5c8e8f":"#reassigning to its correct category 'Health Centre'\nfacilities['Type'].loc[[99,667]] = 'Health Centre'","52be41ca":"#Identifying the types of ownerships for these facilities accross the nation\nno_ownship = facilities['Ownership'].unique()\n\nfor x in no_ownship:\n    print(x)","7665896e":"#Investigating category 'Muslim'\nfacilities[facilities['Ownership'] == 'Muslim']\n\n#Adding it to category 'Islamic'\nfacilities['Ownership'].loc[930] = 'Islamic'","49e6427a":"#Investigating 'Clinic'\nfacilities[facilities['Ownership'] == 'Clinic']\n\n#Since the clinic is a rural clinic ('Adadiem Rural Clinic'), it is reasonable to assign the ownership as 'Government'\n\n#reassigning to 'Government'\nfacilities['Ownership'].loc[971] = 'Government'","9370bb00":"#Investigating 'Maternity Home'\nfacilities[facilities['Ownership'] == 'Maternity Home']","868249e0":"#checking the most owned facilities\nfacilities['Ownership'].value_counts().head()","8498dbb9":"#reassigning to 'Government'\nfacilities['Ownership'].loc[[969,970]] = 'Government'","93c1be28":"#investigating government\nfacilities[facilities['Ownership'] == 'government']","0240a7bc":"#fixing the error\nfacilities['Ownership'].loc[[2127, 3209, 3226, 3228, 3229, 3230]] = 'Government'","f7182b42":"#investigating private\nfacilities[facilities['Ownership'] == 'private']","e9b7bfb5":"#fixing the error\nfacilities['Ownership'].loc[[1413,1608]] = 'Private'","7f5deaea":"#Investigating 'missions'\nfacilities[facilities['Ownership'] == 'Mission']\n\n#reassigning to NGO\nfacilities['Ownership'].loc[3398] = 'NGO'","a047c190":"#wrongly classified Ownerships\nfacilities.loc[[704,2463,3265,3312]]","a0e0e528":"#correcting these to their right category 'Government'\nfacilities['Ownership'].loc[[704,2463,3265,3312]] = 'Government'","d5036007":"print('Two types of health facility tiers. Tier 2 and Tier 3:',tiers['Tier'].unique())\nprint('\\n')\nprint('Tier 3 coverage percentage in Ghana:',round(100* len(tiers[tiers['Tier'] == 3])\/len(tiers['Tier'])),'%')\nprint('With a total number of',tiers[tiers['Tier'] == 3]['Tier'].count())\n\nprint('\\n')\nprint('Tier 2 coverage percentage in Ghana:',round(100* len(tiers[tiers['Tier'] == 2])\/len(tiers['Tier'])),'%')\nprint('With a total number of',tiers[tiers['Tier'] == 2]['Tier'].count())\n\nprint('\\n')\nylabel='Count'\nxlabel='Types of Health Facility Tiers'\nax = tiers['Tier'].value_counts().plot(kind='bar',figsize=(12,5),title='Number of health facilty Tiers in Ghana',color='red');\nax.autoscale(axis='x',tight=True)\nax.set(xlabel=xlabel, ylabel=ylabel);","8e8a50a0":"tiers_per_region = tiers.groupby(['Region','Tier']).count()\ntiers_per_region","c22203fe":"plt.figure(figsize=(15,5));\nplt.title('Count of Health facility Tiers per Region');\nsns.countplot(data=tiers,x = 'Region',hue='Tier');","a5e9835b":"max_long = facilities['Longitude'].max()\nmin_long = facilities['Longitude'].min()\nmax_lat = facilities['Latitude'].max()\nmin_lat = facilities['Latitude'].min()","095218e7":"facilities['FacilityName'] = facilities['FacilityName'].str.lower()\ntiers['Facility'] = tiers['Facility'].str.lower()\nmerged = pd.merge(facilities, tiers, left_on=['FacilityName'], right_on=['Facility'])","318035f6":"data = []\nfor index, tier in enumerate(merged['Tier'].unique()):\n    facils = merged[merged['Tier'] == tier]\n    data.append(\n        go.Scattergeo(\n        lon = facils['Longitude'],\n        lat = facils['Latitude'],\n        text = facils['FacilityName'],\n        mode = 'markers',\n        marker_color = index,\n        name = \"Tier \" + str(tier)\n        )\n    )\n\nlayout = dict(\n        title = 'Health facilities in Ghana based on Tier',\n        geo = dict(\n        scope = 'africa',\n        landcolor = \"rgb(212, 212, 212)\",\n        subunitcolor = \"rgb(255, 255, 255)\",\n        lonaxis = dict(\n            showgrid = True,\n            gridwidth = 0.5,\n            range= [ min_long - 5, max_long + 5 ],\n            dtick = 5\n        ),\n        lataxis = dict (\n            showgrid = True,\n            gridwidth = 0.5,\n            range= [ min_lat - 1, max_lat + 1 ],\n            dtick = 5\n        )\n    )\n)\nfig = dict(data = data, layout = layout)\ngo.Figure(fig)","da9dceb7":"#Examining the overall count of the Health Facilities in Ghana\nylabel='Count'\nxlabel='Types of Health Facilities'\nax1 = facilities['Type'].value_counts().plot(kind='bar',figsize=(11,5),title='The most common health facilities in Ghana');\nax1.autoscale(axis='x',tight=True)\nax1.set(xlabel=xlabel, ylabel=ylabel);","ec79b519":"#Investigating the 5 most common health facilities and their total counts\nfacilities['Type'].value_counts().head()","b9aac31c":"df2 = facilities[facilities['Type'].str.contains('Clinic')]\ndf2 =df2['Region'].value_counts()\n\ndf3 = facilities[facilities['Type'].str.contains('Health Centre')]\ndf3=df3['Region'].value_counts()\n\ndf4 = facilities[facilities['Type'].str.contains('CHPS')]\ndf4=df4['Region'].value_counts()\n\ndf5 = facilities[facilities['Type'].str.contains('Maternity Home')]\ndf5 = df5['Region'].value_counts()\n\ndf6 = facilities[facilities['Type'].str.contains('Hospital')]\ndf6 = df6['Region'].value_counts()\n\nper_reg = pd.concat([df2, df3,df4,df5,df6], axis=1).reset_index()\nper_reg.columns = ['Region','Clinic','Health Centre','CHPS','Maternity Home','Hospital']\nper_reg = per_reg.set_index('Region')\nper_reg","0b189f49":"#Analysing the highest count per each health facility\nper_reg.describe().loc['max']","aadee60c":"per_reg.iplot(kind='bar',barmode='stack',title='Distribution of the five most common health facilities per regional area',xTitle='Regions',yTitle='Count')","1936a9dd":"data = []\nfor index, region in enumerate(facilities['Region'].unique()):\n    selected_facilities = facilities[facilities['Region'] == region]\n    data.append(\n        go.Scattergeo(\n        lon = selected_facilities['Longitude'],\n        lat = selected_facilities['Latitude'],\n        text = selected_facilities['FacilityName'],\n        mode = 'markers',\n        marker_color = index,\n        name = region\n        )\n    )\n\nlayout = dict(\n        title = 'Health facilities in Ghana based on Region',\n        geo = dict(\n        scope = 'africa',\n        landcolor = \"rgb(212, 212, 212)\",\n        subunitcolor = \"rgb(255, 255, 255)\",\n        lonaxis = dict(\n            showgrid = True,\n            gridwidth = 0.5,\n            range= [ min_long - 5, max_long + 5 ],\n            dtick = 5\n        ),\n        lataxis = dict (\n            showgrid = True,\n            gridwidth = 0.5,\n            range= [ min_lat - 1, max_lat + 1 ],\n            dtick = 5\n        )\n    )\n)\nfig = dict(data = data, layout = layout)\ngo.Figure(fig)\n\n\n","11a0d975":"#Structuring into a dataframe\ngrp_ownships = pd.DataFrame(facilities['Ownership'].value_counts())\ngrp_ownships['Percentage Ownerships'] = round(100 * (grp_ownships['Ownership']\/grp_ownships['Ownership'].sum()),1)\ngrp_ownships = pd.DataFrame(grp_ownships).reset_index()\ngrp_ownships.columns = ['Type','Ownership','Percentage Ownerships']\n\n#Pie chart \nfig = px.pie(grp_ownships, values='Ownership', names='Type',\n             title='Ownership Percentages', labels=dict(grp_ownships['Ownership']))\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","987f10ae":"#Complete list of ownerships\ngrp_ownships","f7dc99fd":"The facility is Taifa CHPS, this means its under category 'CHPS'. Lets address this in the code below","b8590f3e":"From the data above, 'CPHS' is a misspelled version of the actual '**CHPS**' and this must be addressed","e627d4cf":"## **Objective**\n\nThe general objective of this exploratory data analysis is to understand the health infratructure of Ghana.\n\nSpecific Objectives\n\n1. To examine the types of facility tiers in the nation.\n\n\n2. To analyse the distribution of these health facility tiers accross the nation per regions.\n\n\n3. To examine the type of facilities widespread accross nation.      eg (Hospitals,clinics etc)\n\n\n4. To analyse and determine whether most health facilites are state-owned or private.","8393bca8":"Lets analyse the distribution of the five most common health facilities in the regions of Ghana","b6bfa7ae":"## **PART 2 : DATA ANALYSIS**###","028e8ad3":"# **EXPLORATORY DATA ANALYSIS ON GHANA'S HEALTH INFRASTRUCTURE**","e7a95521":"**No 2 : The category of 'Clinic'**","a9c62028":"## OBJECTIVE 4\n\n*To analyse and determine whether most health facilites are state-owned or private.*\n\nFrom the analysis below, the pie chart shows that the *Government* owns **59.1%** of the health facilites whiles *Private ownerships* cover **31.4%**. This indicates that most health facilities in Ghana are **State-owned (Government)** having a total of **2202** Health facilities.","abddc568":"Since i wont be working with specific townships, i would leave the data as it is to avoid losing information when we drop the rows with these missing towns.\n\nThis is applicable on the longitude and latitude columns which both have 24 missing values. ","01625c67":"Seems there are some null(missing values). lets explore this further","95bdf6ab":"#### The categories above have a few errors that must be addressed to make it meaningful.\n\nNo 1: The category 'Islamic' and 'Muslim' are the same and it must be addressed.\n\nNo 2 : 'Clinic' under this dataset is a type of facility is not an ownership\n\nNo 3: 'Maternity Home' under this dataset is a type of facility not an ownership\n\nNo 4 : 'Private' and 'Government' have been created twice. Both have same issue of the first letter capitalisation. 'G'\/'g' and 'P'\/'p'.\n\nNo 5: 'NGO' and 'Mission' are theoretically the same","af534bbf":"### **OBJECTIVE 1**\n\n*Examining the types of facility tiers in the nation*.\n\nThere are two types of facility tiers in Ghana. **Tier 2 and Tier 3** as identified from the code below.\nFrom the analysis, there are *264* health facilities under Tier 2 which covers **18%** of the total health facilities accross the nation of Ghana whiles Tier 3, which is the largest, covering **82%** with a total number of *1,191* accross the country.","7205d3c9":"## **PART 1 : DATA PREPROCESSING**\n\n#### **Dataset 1**\n\nHere, i will check for any null values or duplicates to shape the data into a meaningful one for exploration.","4ea72858":"## **Description**\n\nThis dataset contains information about the total number of health facilites in Ghana by regions and districts and also it provides information about the type of facilities available (source:Ghana Open Data Initiative, https:\/\/data.gov.gh\/dataset\/health-facilities) published by the Health Sector and released as at **2016-02-05**","0cfe5291":"#### **Dataset 2**","089b952b":"The category 'Centre' belongs to category 'Health Centres'. Lets address this.","2be20bc3":"There isnt much information on correcting this error('maternity home'). I will reassign it to 'Government' since is the most common","70d509bf":"From the data above, it is clearly identified that 'CHPS' are government owned. There are 4 misclassified ones that must be corrected.","a2a3618f":"It can also be identified that the Municipal Health Directorate has been created twice.\nLets investigate and address this.","d2b04350":"**A visual representation of the five most common health facilities in Ghana per region**","a498e2cc":"## **CONCLUSIONS**\n\nThe analysis conducted above gives a clear understanding of Ghana's Health Infrastruture.\n\n1. There are more Tier 3 health facilities in the country as compared to Tier 2 with Tier 3 covering 82% and Tier 2 covering 18%.\n2. Tier 3 is more dominated in the capital of Ghana (Greater Accra).\n3. There are 5 most common health facilities in Ghana and Clinics are the most popular. There are 1151 total counts of them\n4. Finally, most of the health facilities in Ghana are state-owned(Government).","0d3a2609":"## **OBJECTIVE 2**\n\n*Analysing the distribution of these health facility tiers accross the nation per regions*.\n\n\nThe barplot shows that Tier 3 is the most common accross the nation.\nTier 3 happens to be the most common facility type in the urban cities, that is 'Greater Accra' and the 'Ashanti region'.\nGreater Accra has total of 448 tier 3 facilties and 79 tier 2 facilities and the Ashanti region has 223 Tier 3 facilites and 86 tier 2 facilites.\n\nFrom the data visualised below, the northern parts of Ghana which includes the Northern, UpperWest and UpperEast regions have a low count of health facilites in general (both tier 2 and 3) as compared to the urban regions with a total count,*12* tier 2 facilities and *106* tier 3 facilities in all for the three regions.","71101f6c":"**No 1 : The category 'Islamic' and 'Muslim'**","4d6568f2":"**No 4 : The category of government and private**","d97e216a":"## **OBJECTIVE 3**\n\n*Examining the five most common type of Health facilities in the Ghana and their spread per each Region*\n\nFrom the analysis, it is clear that the most common health facilities(5) in Ghana are Clinics, Health Centres, CHPS,Maternity Homes and Hospitals.\n\nThe analysis shows that *Greater Accra* has the highest count of available **Clinics** with a total of **281** and the *Ashanti region* comming up at second place with a count of **268** Clinics.\n\nThe second most common health facility among the regions is the **Health Centre** which is greatly dominated by the *Volta region* of a total count of **201** and the Ashanti having a count of **132**.\n\n**CHPS** is greatly dominated in the *Western Region* of Ghana (**126**) and a count of **101** for the Central Region.\n\n**Maternity Homes** are mostly populated in the Ashanti region with a count of **112**.\n\n**Hospitals** are less found in the *Upper west* and *East* of Ghana with *Ashanti Region* and *Greater Accra* having the majority count of hospitals at **105** and **101** respectively.\n\n\n","eb04edc9":"No duplication or errors from the category 'Region' above. Lets procced to category 'Type' ","6fe24507":"It can be identified that Clinic is has been created twice. One with a capital 'C' and the other in a lower-case 'c' . \nThis must be addressed since it will create duplication.","4ba557e1":"There are no null values in the tiers dataset. A total of 1475 rows for the 3 columns (region,facility and tier)","41228abf":"**No 5: The category of Missions and NGO**","ab019cb8":"**No : 3 The category of 'Maternity Home'**"}}