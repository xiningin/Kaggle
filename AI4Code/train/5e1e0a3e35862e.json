{"cell_type":{"094c9faa":"code","13f5944a":"code","bd3aacf6":"code","8d2df6e2":"code","fc779dcc":"code","ea2c7c47":"code","c951e91c":"code","8b0b96b3":"code","496870c3":"code","cd6a0fc6":"code","385b74a5":"code","1d44b8c5":"code","f5ce76e6":"code","50fd369b":"code","aac0f45b":"code","44513729":"code","d13e16d0":"code","c330c2ad":"code","6380a429":"code","ef5e4ab7":"code","87fc9b2d":"code","6715f1a0":"code","89e4d6be":"code","2db56032":"code","cb2762a7":"code","c3ac816e":"code","5130e18c":"code","c8a6d0ff":"code","a0fe676c":"code","13ca4606":"code","718d2f9a":"code","48e70f70":"code","fb84555f":"code","ba309f61":"code","5a628fb1":"code","68ab21d8":"code","2ed9106a":"code","8dacd9dc":"code","1eb399be":"code","f194d64f":"code","b9f86422":"code","556b4322":"code","8180df1c":"code","8d3bb9eb":"code","9031daf8":"code","bff82ab8":"code","245655cd":"code","8e063c8a":"code","841cdb68":"code","acffddf2":"code","87e1df0d":"code","7c205fa4":"code","d74791e5":"code","61075000":"code","50a8cf0e":"code","620ea768":"code","518d722b":"code","0f6bd6ea":"code","6986277f":"code","4355ecca":"code","1187edb1":"code","e50cf7a6":"code","e41f8733":"code","351249c5":"markdown","c600f5de":"markdown","0ce35e6b":"markdown","0e411e0e":"markdown","1f7bd68a":"markdown","c36de0d4":"markdown","c02368ad":"markdown","e3e446f5":"markdown","0ea77285":"markdown","5785681b":"markdown","94102451":"markdown","4f605338":"markdown","61669278":"markdown","355b35dc":"markdown","f22995d5":"markdown","76792017":"markdown","64ebf2a1":"markdown","bc41513f":"markdown","c7638b8c":"markdown","a23458ad":"markdown","2dc2b13e":"markdown","3e80e2e3":"markdown","94c1c92c":"markdown","46de1bd2":"markdown","0937a51c":"markdown","d77167c6":"markdown","1dc44694":"markdown","0ea0b6bf":"markdown","ecad28cf":"markdown","d1d6cecf":"markdown","bf2b59ae":"markdown","ac6423c1":"markdown","7282a67a":"markdown","fe9d2e77":"markdown","4dd78718":"markdown","e7ccb3b8":"markdown","a3cbf327":"markdown","ebfe482a":"markdown","9469fe17":"markdown","2f425ca7":"markdown","2fdb31ad":"markdown","071b256c":"markdown","012bb590":"markdown","0936c51b":"markdown","c30c40bb":"markdown","7ff77ec8":"markdown","bacdcd03":"markdown","90b43beb":"markdown","e543799e":"markdown","44d232c7":"markdown","dba5f4a6":"markdown","9a6da3a5":"markdown","92f0659f":"markdown","14069700":"markdown","10bfae67":"markdown","3211ac2f":"markdown","3f7e0b52":"markdown","85410feb":"markdown","49f4f5f1":"markdown","65f632cc":"markdown","eaac9d56":"markdown","1d582818":"markdown","5e2cb71e":"markdown","00e3d82f":"markdown","be16a941":"markdown","3250e68a":"markdown","e725558c":"markdown","ff84eda6":"markdown","5686c910":"markdown","8f078dc4":"markdown","c445e348":"markdown","3170394c":"markdown","d9855e16":"markdown","aa5de1a6":"markdown","969c32de":"markdown","b75c299e":"markdown","adaec74a":"markdown","fc3782f1":"markdown","792a38ed":"markdown","fe12a777":"markdown","53750779":"markdown","dba56307":"markdown","aefe4d6e":"markdown","fd0e1a21":"markdown","1bd41c4f":"markdown","66ffd18e":"markdown","8150a2a1":"markdown","3e69dd4e":"markdown","02cdb05a":"markdown","e3664841":"markdown","63fab559":"markdown","4216fdb3":"markdown","2598689c":"markdown"},"source":{"094c9faa":"pip install openpyxl","13f5944a":"pip install xlrd","bd3aacf6":"import numpy as np\nimport pandas as pd","8d2df6e2":"whr2021_report_raw = pd.read_excel('..\/input\/world-happiness-report-2021\/DataForFigure2.1WHR2021C2.xls')\nwhr_data_raw = pd.read_excel('..\/input\/world-happiness-report-2021\/DataPanelWHR2021C2.xls')\nmortality_data_raw = pd.read_excel('..\/input\/world-happiness-report-2021\/MortalityDataWHR2021C2.xlsx')","fc779dcc":"whr2021_report_raw.info()","ea2c7c47":"whr2021_report_raw.sample()","c951e91c":"ladder_score_dystopia = whr2021_report_raw['Ladder score in Dystopia'][0]\nwhr2021_report = whr2021_report_raw.copy()\nwhr2021_report = whr2021_report.loc[:,:'Perceptions of corruption']\nwhr2021_report.drop(columns=['Standard error of ladder score','upperwhisker','lowerwhisker'],inplace=True)\nwhr2021_report.set_index('Country name',inplace=True)\nrank = np.arange(1,len(whr2021_report)+1)\nwhr2021_report.insert(0,'Rank',rank)\nwhr2021_report.sample(3)","8b0b96b3":"whr_data_raw.info()","496870c3":"whr_data_raw.loc[whr_data_raw.isna().any(axis=1)]","cd6a0fc6":"whr_data = whr_data_raw.copy()\nwhr_data.rename(columns={'Life Ladder':'Ladder score','Log GDP per capita':'Logged GDP per capita',\n                         'Healthy life expectancy at birth':'Healthy life expectancy'},inplace=True)","385b74a5":"whr_data_year_country = whr_data.groupby(['year','Country name'])[['Ladder score', 'Logged GDP per capita',\n       'Social support', 'Healthy life expectancy',\n       'Freedom to make life choices', 'Generosity',\n       'Perceptions of corruption', 'Positive affect', 'Negative affect']].mean()","1d44b8c5":"mortality_data_raw.info()","f5ce76e6":"mortality_data = mortality_data_raw.copy()\nmortality_data.set_index('Country name',inplace=True)\ndeaths_count = mortality_data.loc[:,'All-cause death count, 2017':]\ndeaths_count = deaths_count.loc[deaths_count.notna().any(axis=1),:]\nmortality_data = mortality_data.loc[:,:'Gini coefficient of income']\nmortality_data.sample(3)","50fd369b":"deaths_count.sample(3)","aac0f45b":"print('\"deaths2020\" DataFrame shape : ',deaths_count.shape)\nprint('\"mortality_data\" DataFrame shape : ',mortality_data.shape)","44513729":"deaths_count[deaths_count.isna().any(axis =1)]","d13e16d0":"deaths_count.loc['Ireland','All-cause death count, 2017']=np.mean(deaths_count.loc['Ireland',:'All-cause death count, 2019'])\ndeaths_count.dropna(inplace=True)\ndeaths_count.rename(columns={'All-cause death count, 2017':'Death 2017','All-cause death count, 2018':'Death 2018',\n                             'All-cause death count, 2019':'Death 2019','All-cause death count, 2020':'Death 2020',\n                             'Excess deaths in 2020 per 100,000 population, relative to 2017-2019 average':'Excess Death 2020'},\n                   inplace=True)","c330c2ad":"mortality_data[mortality_data.isna().any(axis =1)]","6380a429":"mortality_data.dropna(inplace=True)","ef5e4ab7":"import seaborn as sns\nimport matplotlib\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nsns.set_style('darkgrid')","87fc9b2d":"whr2021_report.sample(3)","6715f1a0":"whr2021_report.describe()","89e4d6be":"fig, ax = plt.subplots(1,5,figsize=(18,7))\ngs = ax[0].get_gridspec()\nfor axes in ax[:-2]:\n    axes.remove()\naxbig = fig.add_subplot(gs[:-2])\n\nsns.violinplot(data=whr2021_report.loc[:,['Social support', 'Freedom to make life choices', 'Generosity',\n       'Perceptions of corruption']],orient='v',cut=0,ax=axbig)\nsns.violinplot(data=whr2021_report.loc[:,['Logged GDP per capita']],orient='v',cut=0,ax=ax[-2], color = 'orange')\nsns.violinplot(data=whr2021_report.loc[:,['Healthy life expectancy']],orient='v',cut=0,ax=ax[-1],color = 'teal')\nfig.tight_layout()\nplt.show()\n","2db56032":"country_regions = whr2021_report.groupby('Regional indicator')[['Ladder score']].count().reset_index()\ncountry_regions.rename(columns={'Ladder score':'No. of Countries'},inplace=True)\nfig=plt.figure(figsize=(10,7))\nax = sns.barplot(data=country_regions,hue='Regional indicator',x='Regional indicator',y='No. of Countries',dodge=False,ec='k',lw=2)\nax.set_xlabel(None)\nax.xaxis.set_ticklabels([])\nax.legend(bbox_to_anchor=(1.05, 1), loc='upper left')\nax.set_title('Countries in Each Region',fontsize=25,pad=20)\nplt.show()","cb2762a7":"fig, ax = plt.subplots(3,2,figsize=(16,32),sharey=True)\nfor i,criteria in enumerate(['Social support', 'Freedom to make life choices', 'Generosity',\n       'Perceptions of corruption','Logged GDP per capita','Healthy life expectancy']):\n    \n    p1 = sns.violinplot(data=whr2021_report,x=criteria,orient='h',cut=0,y='Regional indicator',ax=ax.flatten()[i])\n    p1.set_ylabel(None)\n    fig.tight_layout(w_pad=8,h_pad=5)","c3ac816e":"corr_2021 = whr2021_report.iloc[1:,1:].corr()\nfig,ax = plt.subplots(figsize=(10,7))\nsns.heatmap(corr_2021,annot=True,square=False,ax=ax)\nplt.show()","5130e18c":"def barplot_top_bottom(data,y,c,n,shared_axis=True):\n    \n    \"\"\"\n    The function is to have a barplot with 'n' highsest and lowest ranked countries in terms of 'y' parameter, \n    segregated categorically with respect to 'c' categorical parameter.\n    \n    data        : The dataframe to work with\n    y           : The column name with which to rank\/order\n    c           : The categorical column name with which color code the barplots\n    n           : The number of top entries to show\n    shared_axis : If both the top ranked and least ranked entries need to have any shared axis value. TRUE by default\n    \n    \"\"\"\n    \n    data = data[data[y].notna()].loc[:,[y,c]]\n    data.sort_values(y,ascending=False,inplace=True)\n    x1,y1,z1=data.index[:n],data[y].head(n),data[c].head(n)\n    x2,y2,z2 =data.index[:-(n+1):-1],data[y][:-(n+1):-1].head(n),data[c][:-(n+1):-1].head(n)\n    rot=75\n    if n>10:\n        x1,y1=y1,x1\n        x2,y2=y2,x2\n        rot=0\n    \n    if(shared_axis):\n        fig,ax = plt.subplots(1,2,figsize=(10,7),sharey=(lambda : True if n<=10 else False)(),sharex=(lambda : True if n>10 else False)())\n        fig.suptitle(y,fontsize = 25)\n    else:\n        fig,ax = plt.subplots(1,2,figsize=(10,7))\n        fig.suptitle(f\"{y} : {c}\",fontsize = 25)\n    \n    cmap = plt.get_cmap('tab20')\n    names = data[c].unique()\n    colors = cmap(np.linspace(0, 1, len(names)))\n    palette =dict(zip(names,colors))\n    \n    p1=sns.barplot(x=x1,y=y1,data=data,hue=z1,dodge=False,palette=palette,ax=ax[0],ec='k',lw=2)\n    p1.xaxis.set_tick_params(rotation=rot)\n    p1.set(xlabel=None,ylabel=None,title=f'Highest {n}')\n    p1.legend([])    \n    \n    p2=sns.barplot(x=x2,y=y2,data=data,hue=z2,dodge=False,palette=palette,ax=ax[1],ec='k',lw=2)\n    p2.xaxis.set_tick_params(rotation=rot)\n    p2.set(xlabel=None,ylabel=None,title=f'Lowest {n}')\n    p2.legend([])\n    \n    labels_handles = {label: handle for ax in fig.axes for handle, label in zip(*ax.get_legend_handles_labels())}\n    fig.legend(labels_handles.values(), labels_handles.keys(), bbox_to_anchor=(1.05, 1), loc='upper left',title=c)\n    fig.tight_layout()","c8a6d0ff":"barplot_top_bottom(whr2021_report,'Ladder score','Regional indicator',20)","a0fe676c":"for feature in ['Social support', 'Freedom to make life choices', 'Generosity',\n       'Perceptions of corruption','Logged GDP per capita','Healthy life expectancy']:\n    barplot_top_bottom(whr2021_report,feature,'Regional indicator',10)","13ca4606":"# We have created a 'region_table' indicating the region of the countries for any future reference if any.\nregion_table = whr2021_report.loc[:,'Regional indicator']","718d2f9a":"from collections import Counter","48e70f70":"top5_counter = Counter()\nbottom5_counter = Counter()\n\nfor feature in ['Logged GDP per capita','Social support', 'Healthy life expectancy','Freedom to make life choices', \n                'Generosity','Perceptions of corruption']:\n    feature_sorted = whr2021_report.sort_values(feature, ascending=False)\n    if feature in ['Perceptions of corruption']:\n        bottom5_counter.update(feature_sorted.index[:5])\n        top5_counter.update(feature_sorted.index[-5:])\n    top5_counter.update(feature_sorted.index[:5])\n    bottom5_counter.update(feature_sorted.index[-5:])\n    \ntop5 = top5_counter.most_common(10)\nbottom5 = bottom5_counter.most_common(10)\n\nx1,y1 = zip(*top5)\nx2,y2 = zip(*bottom5)\nfig,ax = plt.subplots(1,2,sharex=True,figsize=(10,6),)\nfig.suptitle(\"Most Recurring Top & Bottom Countries in the 6 Key Variables\",fontsize=25)\np1 = sns.barplot(y=list(x1),x=list(y1),ax=ax[0],ec='k',lw=2)\nfor i,p in enumerate(p1.patches):\n    p1.annotate(f\" Rank {whr2021_report.loc[list(x1),'Rank'][i]}\", xy=(0.1, p.get_y()+p.get_height()\/2),\n            xytext=(5, 0), textcoords='offset points', ha=\"left\", va=\"center\")\np1.set(title='Top 10')\np2 = sns.barplot(y=list(x2),x=list(y2),ax=ax[1],ec='k',lw=2)\np2.set(title='Bottom 10')\nfor i,p in enumerate(p2.patches):\n    p2.annotate(f\" Rank {whr2021_report.loc[list(x2),'Rank'][i]}\", xy=(0.1, p.get_y()+p.get_height()\/2),\n                ha=\"left\", va=\"center\")\nplt.tight_layout()","fb84555f":"fig,ax = plt.subplots(1,3,figsize=(16,6))\nfig.suptitle('Finland vs Singapore',fontsize=25)\ngs = ax[0].get_gridspec()\nfor axes in ax[:-1]:\n    axes.remove()\naxbig = fig.add_subplot(gs[:-1])\n\npd.plotting.parallel_coordinates(whr2021_report.loc[['Singapore','Finland'],:].reset_index(),'Country name',\n                                 cols=['Social support',\n                                       'Freedom to make life choices','Generosity','Perceptions of corruption'],\n                                colormap='Accent', ax=axbig,lw=3)\naxbig.legend([])\npd.plotting.parallel_coordinates(whr2021_report.loc[['Singapore','Finland'],['Logged GDP per capita','Healthy life expectancy']].reset_index(),'Country name',\n            colormap='Accent', ax=ax[-1],lw=3)\nax[-1].legend([])\n\nlabels_handles = {label: handle for ax in fig.axes for handle, label in zip(*ax.get_legend_handles_labels())}\nfig.legend(labels_handles.values(), labels_handles.keys(), bbox_to_anchor=(0.61, 0.8), loc='upper left')\nfig.tight_layout()","ba309f61":"whr_data_year_country","5a628fb1":"whr_data_year_country.describe()","68ab21d8":"min_score_variables = whr_data_year_country.describe().loc['min','Logged GDP per capita':]\nmax_score_variables = whr_data_year_country.describe().loc['max','Logged GDP per capita':]\n\nprint(\"\\tThe lowest scores were : \\n\")\nfor i in min_score_variables.index:\n    result_low=whr_data_year_country.loc[whr_data_year_country[i]==min_score_variables.loc[i],:].index\n    print(f\"{i} : {list(result_low)[0][1]} in {list(result_low)[0][0]}\")\n    \nprint(\"\\n\\n\\tThe highest scores were : \\n\")\nfor i in max_score_variables.index:\n    result_high=whr_data_year_country.loc[whr_data_year_country[i]==max_score_variables.loc[i],:].index\n    print(f\"{i} : {list(result_high)[0][1]} in {list(result_high)[0][0]}\")","2ed9106a":"whr_data_year_country = whr_data_year_country.groupby(level=0,group_keys=False). \\\n                                    apply(lambda x: x.sort_values('Ladder score',ascending=False))\nrank=whr_data_year_country.groupby(level=0,group_keys=False). \\\n                                    transform(lambda x: range(1,len(x)+1))['Ladder score']\ntotal_countries = whr_data_year_country.groupby('year').transform(lambda x: len(x))['Ladder score']\nwhr_data_year_country.insert(0,'Rank',rank)\nwhr_data_year_country.insert(1,'Total Countries',total_countries)\nwhr_data_year_country","8dacd9dc":"rankings_over_years = whr_data_year_country.loc[whr_data_year_country['Rank']==1,:].reset_index(). \\\n                            set_index('year')[['Country name']].T\nrankings_over_years","1eb399be":"rank1_count = Counter()\nrank1_count.update(rankings_over_years.iloc[0])\nrank1_count.most_common()\n\ncountry,count = zip(*rank1_count.most_common())\nplt.figure(figsize=(7,6))\nax = sns.barplot(x=list(country),y=list(count),lw=2,ec='k')\nax.set_title('No. of times a Country was chosen as the Happiest over the Years', fontsize=25,pad=20,)\nplt.tight_layout()","f194d64f":"india_over_the_years = whr_data_year_country.xs('India',level=1)\n\nindia_over_the_years21 = india_over_the_years.append(whr2021_report.loc['India',:])\nindia_over_the_years21.rename(index={'India':'2021'},inplace=True)\nindia_over_the_years21.index = india_over_the_years21.index.astype('int32')\nindia_over_the_years21.drop(columns='Regional indicator',inplace=True)\nindia_over_the_years21.loc[[2021],'Total Countries'] = india_over_the_years21.loc[[2021],'Total Countries'].fillna(149)\nindia_over_the_years21['Total Countries'] = india_over_the_years21['Total Countries'].astype(int)\nindia_over_the_years21","b9f86422":"fig,ax = plt.subplots(figsize=(14,7))\np1=sns.lineplot(y=(india_over_the_years21['Rank']*100\/india_over_the_years21['Total Countries']),\n                x=india_over_the_years21.index, ax = ax,color='orange',label='Rank (on 100)',marker='o',lw=3,ms=10)\nax.set_ylabel('Rank (on 100)')\nax.set_xlabel(None)\np1.set_xticks(india_over_the_years21.index)\nax.legend([])\nax.invert_yaxis()\nax2=ax.twinx()\np2=sns.lineplot(y=india_over_the_years21['Ladder score'],x=india_over_the_years21.index,\n                ax=ax2,color='teal',label='Ladder score',marker='o',lw=3,ms=10)\nax2.set_ylabel('Ladder Score')\nax2.legend([])\nfig.legend(bbox_to_anchor=(1.01, 1), loc='upper left')\nfig.tight_layout()\nplt.title('India: Ladder Score & Ranking (Scaled to 100)',pad=20,fontsize=25)\nplt.show()","556b4322":"fig,(ax0,ax) = plt.subplots(2,1,figsize=(16,10))\n\nax0.set_title('India: Variable Scores over the Years',pad=20,fontsize=22)\n\ncmap = plt.get_cmap('tab20')\ncolors = cmap(np.linspace(0, .6, 10))\n\nfor i,variable in enumerate(['Social support','Freedom to make life choices','Generosity',\n                             'Perceptions of corruption','Positive affect','Negative affect']):\n    ax0.plot(india_over_the_years21.index,india_over_the_years21[variable],color=colors[i],\n             marker='o',label=variable,lw=3,ms=8)\nax0.set_ylabel('Score')\n\nax.plot(india_over_the_years21.index,india_over_the_years21['Logged GDP per capita'],\n        color=colors[6],marker='o',label='Logged GDP per capita',lw=3,ms=8)\nax.set_ylabel('Logged GDP per capita')\nax2=ax.twinx()\nax2.plot(india_over_the_years21.index,india_over_the_years21['Healthy life expectancy'],\n         color=colors[9],marker='o',label='Healthy life expectancy',lw=3,ms=8)\nax2.set_ylabel('Healthy life expectancy')\nlabels_handles = {label: handle for ax in fig.axes for handle, label in zip(*ax.get_legend_handles_labels())}\nfig.legend(labels_handles.values(), labels_handles.keys(), bbox_to_anchor=(1.01, .6), loc='upper left')\nfig.tight_layout()\nplt.show()","8180df1c":"neighbours_india = ['Afghanistan', 'Bangladesh', 'Bhutan', 'China', 'Maldives', 'Myanmar', 'Nepal', 'Pakistan', 'Sri Lanka']\nfig, ax = plt.subplots(figsize=(16,7))\nfor i,country in enumerate(neighbours_india):\n    score = whr_data_year_country.xs(country,level=1)['Ladder score']\n    ax.plot(score.index,score,\n                 marker='o',label=country,lw=3,ms=8)\nax.plot(whr_data_year_country.xs('India',level=1)['Ladder score'].index,\n        whr_data_year_country.xs('India',level=1)['Ladder score'], color='k', marker='s', label='India', lw=3, ms=9)\nax.set_ylabel('Ladder Score')\nax.set_xticks(whr_data_year_country.xs('India',level=1)['Ladder score'].index)\nfig.legend(bbox_to_anchor=(1.01, 1), loc='upper left')\nfig.suptitle(\"Happiness Score: India & its Neighbouring Countries\",fontsize=23)\nfig.tight_layout()\nplt.show()","8d3bb9eb":"deaths_count.sort_values('Excess Death 2020',ascending=False,inplace=True)\ndeaths_count","9031daf8":"deaths_count.describe()","bff82ab8":"deaths_count.insert(0,'Region',region_table)\ndeaths_count[deaths_count['Region'].isna()]","245655cd":"deaths_count['Region'].fillna('Middle East and North Africa',inplace=True)","8e063c8a":"excess_death_region = deaths_count.groupby('Region')['Excess Death 2020'].mean()\n\nfig, ax = plt.subplots(figsize=(12,6))\nax.pie(excess_death_region, labels=excess_death_region.index, autopct='%1.1f%%',\n        shadow=True, startangle=90)\nax.axis('equal')\nfig.tight_layout(h_pad=30)\nplt.plot()\n\n\nbarplot_top_bottom(deaths_count,'Excess Death 2020','Region',10,False)","841cdb68":"mortality_data.info()","acffddf2":"mortality_data.describe()","87e1df0d":"cmap = plt.get_cmap('tab20')\ncolors = cmap(np.linspace(0, 1, 16))\n\nfig, ax = plt.subplots(2,4,figsize=(16,10))\nfor i,criteria in enumerate(['Population 2020','Population 2019',\"COVID-19 deaths per 100,000 population in 2020\",\n                             'Median age','Log of average distance to SARS countries','Index of institutional trust',\n                             'Gini coefficient of income',]):\n    axes=ax.flatten()\n    sns.violinplot(data=mortality_data[criteria],orient='v',cut=0,ax=axes[i],color=colors[i*2])\n    axes[i].set_title(criteria)\nsns.violinplot(data=mortality_data[mortality_data.columns[6]],orient='v',cut=0,ax=ax[1,3],color=colors[15])\nax[1,3].set_title(mortality_data.columns[6])\nfig.tight_layout()","7c205fa4":"mortality_data.rename(columns={'COVID-19 deaths per 100,000 population in 2020':'COVID-19 Deaths per 100K',\n                              'Index of exposure to COVID-19  infections in other countries as of March 31':'COVID-19 Exposure Index',\n                              'Log of average distance to SARS countries':'SARS Countries: Distance',\n                              'Island':'Island or Mainland',\n                              'WHO Western Pacific Region':'WHO Region',\n                              'Female head of government':'Government Head',\n                              'Index of institutional trust':'Institutional Trust Index',\n                              'Gini coefficient of income':'Gini Coefficient of Income'},inplace=True)","d74791e5":"covid_death_corr = mortality_data.corr()\nplt.subplots(figsize=(10,7))\nsns.heatmap(covid_death_corr,annot=True,cmap=\"YlGnBu\")\nplt.tight_layout()\nplt.show()","61075000":"mortality_data['Death Count 2020'] = ((mortality_data['Population 2019']\/100000)*mortality_data['COVID-19 Deaths per 100K']). \\\n                                            astype('int')\nmortality_data = mortality_data.loc[:,['Population 2019', 'Population 2020',\n       'Median age', 'Island or Mainland', 'COVID-19 Exposure Index',\n       'SARS Countries: Distance', 'WHO Region', 'Government Head',\n       'Institutional Trust Index', 'Gini Coefficient of Income', 'Death Count 2020', 'COVID-19 Deaths per 100K']]\nmortality_data.sort_values('COVID-19 Deaths per 100K',ascending=False,inplace=True)\nmortality_data.insert(0,'Region',region_table)\nmortality_data[mortality_data['Region'].isna()]","50a8cf0e":"LatinAmericaandCaribbean = ['Belize','Guyana','Suriname','Trinidad and Tobago','Cuba']\nMiddleEastandNorthAfrica = ['Oman','Qatar','Djibouti','Syria','Sudan','Central African Republic','Angola','Somalia','Congo (Kinshasa)','South Sudan']\nSub_SaharanAfrica = ['Eswatini']\nSouthAsia = ['Bhutan']\n\ndef missing_region(x):\n    if x in LatinAmericaandCaribbean:\n        return 'Latin America and Caribbean'\n    elif x in MiddleEastandNorthAfrica:\n        return 'Middle East and North Africa'\n    elif x in Sub_SaharanAfrica:\n        return 'Sub-Saharan Africa'\n    elif x in SouthAsia:\n        return 'South Asia'\n    \nmortality_data.loc[mortality_data['Region'].isna(),['Region']] = pd.Series(mortality_data[mortality_data['Region'].isna()]. \\\n                                                                           index).transform(missing_region).to_numpy()\nmortality_data[mortality_data['Region'].isna()].shape","620ea768":"mortality_data.loc[:,'WHO Region'].replace(to_replace={0:'WHO, Rest of the World',1:'WHO, Western Pacific'},inplace=True)\nmortality_data.loc[:,'Government Head'].replace(to_replace={0:'Male Government Head',1:'Female Government Head'},inplace=True)\nmortality_data.loc[:,'Island or Mainland'].replace(to_replace={0:'Mainland Country',1:'Island Country'},inplace=True)\nfor variable in ['Region','WHO Region','Government Head','Island or Mainland']: \n    mortality_data.loc[:,variable] = pd.Categorical(mortality_data.loc[:,variable])\nmortality_data.head()","518d722b":"covid_deaths_region = mortality_data.groupby('Region')['Death Count 2020'].mean()\nfig,ax = plt.subplots(figsize=(10,7))\nax.set_title('Average Deaths : Region-wise',fontsize=20)\nax.pie(covid_deaths_region, labels=covid_deaths_region.index, autopct='%1.1f%%',\n        shadow=True, startangle=90,labeldistance=None)\nax.legend(bbox_to_anchor=(1.01, 1), loc='upper left')\nfig.tight_layout(h_pad=10)\nbarplot_top_bottom(mortality_data,'Death Count 2020','Region',10,False)","0f6bd6ea":"sns.pairplot(mortality_data,\n    x_vars=mortality_data.describe().columns[1:,],\n    y_vars=mortality_data.describe().columns[1:,],height=3,corner=True,kind='reg',plot_kws={})\nplt.show()","6986277f":"for i,variable in enumerate(['Island or Mainland','WHO Region','Government Head']):\n    sns.lmplot(x='COVID-19 Exposure Index',y='COVID-19 Deaths per 100K',hue=variable,data=mortality_data,)","4355ecca":"covid_deaths_region = mortality_data.groupby('Region')['COVID-19 Deaths per 100K'].mean()\nfig,ax = plt.subplots(figsize=(10,7))\nax.set_title('Average Deaths per 100K of Population: Region-wise',fontsize=20)\nax.pie(covid_deaths_region, labels=covid_deaths_region.index, autopct=lambda x: '{:.0f}'.format(x * sum(covid_deaths_region)\/100),\n        shadow=True, startangle=90,labeldistance=None)\nax.legend(bbox_to_anchor=(1.01, 1), loc='upper left')\nfig.tight_layout(h_pad=10)\nbarplot_top_bottom(mortality_data,'COVID-19 Deaths per 100K','Region',10,False)","1187edb1":"population_region = mortality_data.groupby('Region')['Population 2020'].mean()\nfig,(ax1,ax2) = plt.subplots(1,2,figsize=(10,7))\nfig.suptitle('Comparison : Population vs Deaths per 100K people',fontsize=25)\nax1.set_title('Average Population',fontsize=20)\nax1.pie(population_region, labels=covid_deaths_region.index, autopct=lambda x: '{:.1f}M'.format(x * (sum(population_region)\/100)\/1000000),\n        shadow=True, startangle=90,labeldistance=None)\n\nax2.set_title('Average Deaths per 100K of Population',fontsize=20)\nax2.pie(covid_deaths_region, labels=covid_deaths_region.index, autopct=lambda x: '{:.0f}'.format(x * sum(covid_deaths_region)\/100),\n        shadow=True, startangle=90,labeldistance=None)\n\n\nlabels_handles = {label: handle for ax in fig.axes for handle, label in zip(*ax.get_legend_handles_labels())}\nfig.legend(labels_handles.values(), labels_handles.keys(), bbox_to_anchor=(1.05, 1), loc='upper left')\nfig.tight_layout(h_pad=10)","e50cf7a6":"mortality_data[f'Covid-19 Deaths'] =pd.cut(mortality_data['COVID-19 Deaths per 100K'], bins=3, \n                            labels=['Low Covid Death Countries','Medium Covid Death Countries','High Covid Death Countries'])\n\nfor variable in ['Island or Mainland','WHO Region','Government Head']:\n    data = mortality_data.groupby([variable,'Covid-19 Deaths'])[variable].apply(len)\n    data.fillna(0,inplace=True)\n    covid_deaths = mortality_data[variable].unique()\n    fig,ax = plt.subplots(1,2,figsize=(16,7))\n    fig.suptitle(f'Number of Countries in each of COVID-19 Death Category :{variable}',fontsize=25)\n    ax[0].set_title(covid_deaths[0])\n    ax[0].pie(x = data.xs(covid_deaths[0]), labels = data.xs(covid_deaths[0]).index,\n             autopct = lambda x: '{:.0f}'.format(x * sum(data.xs(covid_deaths[0]))\/100),\n             shadow = True, startangle = 90, labeldistance = None)\n    ax[1].set_title(covid_deaths[1])\n    ax[1].pie(x=data.xs(covid_deaths[1]),labels=data.xs(covid_deaths[1]).index,\n             autopct = lambda x: '{:.0f}'.format(x * sum(data.xs(covid_deaths[1]))\/100),\n             shadow = True, startangle = 90, labeldistance = None)\n    \n    ax[1].legend(bbox_to_anchor=(-1, 1), loc='lower center')\n    fig.tight_layout()\n    plt.plot()","e41f8733":"island_femaleGovt = mortality_data.loc[(mortality_data['Island or Mainland']=='Island Country') & \\\n                                       (mortality_data['Government Head']=='Female Government Head'),:].index.values\nisland_who = mortality_data.loc[(mortality_data['Island or Mainland']=='Island Country') & \\\n                                (mortality_data['WHO Region']=='WHO, Western Pacific'),:].index.values\nwho_femaleGovt =mortality_data.loc[(mortality_data['WHO Region']=='WHO, Western Pacific') & \\\n                                   (mortality_data['Government Head']=='Female Government Head'),:].index.values\n\nfrom collections import Counter\ncountries = Counter()\ncountries.update(island_femaleGovt)\ncountries.update(island_who)\ncountries.update(who_femaleGovt)\n\nprint(*countries.most_common())","351249c5":"- From the heatmap its very evident that the Ladder Score is heavily correlated with the 3 parameters : Log GDP per capita, Social support, & Healthy life expectancy. They have a strong positive Correlation with the Ladder Score. It can be assumed that these variable have a higher weightage on the final Ladder Score. 'Freedom to make life choices' has a moderate correlation, 'Perceptions of corruption' has a weak correlation and 'Generosity' has almost no correlation with the Ladder Score.\n- Ladder Score is positively correlated with 'Log GDP per capita', 'Social support', 'Healthy life expectancy' & 'Freedom to make life choices'; and negatively correlated with 'Perceptions of corruption'.\n- We could say that the Ladder Score is heavily weighted on Log GDP per capita, Social support, & Healthy life expectancy.And the scores on these parameters ends up playing a crucial role on the ranking of a Country.","c600f5de":"- We shall create a dataframe to group the data according to Year-Country for analysis.","0ce35e6b":"- We shall sort countries in a year from highest to lowest according to their Ladder Score. And also add a Rank Column and a total countries column for easy analysis.","0e411e0e":"- The data consists of the 'Ladder Score' and the parameters used for evaluation of various countries over the years.\n- Apart from the Country name, all are numerical data and there are some missing values.","1f7bd68a":"- Out of curiosity, we will try to find which countries has made to the top 5 and bottom 5 ranks in the individual key rankings, the most number of time.","c36de0d4":"- We shall try to compare India with its neighbours intetms of ladder score over the years","c02368ad":"**Positive affect :** Indicative of positive emotions. Negative affect, for each person, is given by the average of their yes or no answers to questions like whether they smiled or laughed a lot yesterday and whether they experienced enjoyment during a lot of yesterday. When needed, we use weighted averages across all individuals surveyed within a country to give national averages for positive affect.\n\n**Negative affect :** Indicative of negative emotions. Negative affect, for each person, is given by the average of their yes or no answers about three emotions: worry, sadness, and anger. National averages are created in the same way as for positive affect.","e3e446f5":"- Even with the proximity to COVID affected countries in the early stages, same category of countries seem to have handled\/fared better to the pandemic. \n- Island Countries seemed to have an advantage over the mainland countries when the Exposure Index was low, but as the proximity to Covid countries reduced, there was no difference. WHO Western Pacific Countries & countries with a female head in the Government had a distinctively lower death rates with similar levels of Index of exposure to COVID-19 as of March 31.","0ea77285":"- The column names are too long, we will shorten it for better readability.","5785681b":"- Finland tops the Ladder Score and ranks first in the 2021 World Happiness Report(WHR), whereas Afghanisthan has ranked the least among 149 countries.\n- 9 of top 10 ranked countries according to WHR 2021 are from Western Europe. And 15 of bottom 20 ranked countries are from the Sub-Saharan African region. According to the WHR 2021, Western European region is the happiest and the Sub-Saharan African region is the least happiest region in the world.","94102451":"## World Happiness Report Over the Years","4f605338":"- We will now see how the key variables were scored over the years.","61669278":"- We will now try to find the correlation between all the data available.","355b35dc":"- We will now try to see the relationship between the various numerical variables. ","f22995d5":"- This clearly shows that Island Countries, the countries under WHO: Western Pacific Region and the countries Governed by a female has handled this pandemic far better than their counterparts. None of the countries in WHO: Western Pacific had a covid death per 100K population greater than 56.","76792017":"The World Happiness Report is a publication of the Sustainable Development Solutions Network, powered by data from the Gallup World Poll and Lloyd\u2019s Register Foundation, who provided access to the World Risk Poll. The life evaluations from the Gallup World Poll provide the basis for the annual happiness rankings and they are based on answers to the main life evaluation questions asked in the poll.\nThe objective of this project is to try to understand and also gain some insights using the data available at the [World Happiness Report](https:\/\/worldhappiness.report\/ed\/2021\/) website.\n\nThis is my first Real world project and all kinds of criticism, advice or suggestions are welcome. Thanks !!","64ebf2a1":"- For analysis, we will add a region column & a death count column.","bc41513f":"- We can find the average deaths in each region and also the country with the highest COVID-19 deaths in 2020. ","c7638b8c":"- Overall, people in the 'North America and ANZ' & 'Western Europe' tend to have a better score in the happiness measuring criterias according to WHR 2021 data and 'Southeast Asia' has some of the highest ratings.","a23458ad":" - We will now focus on one Country: India and how it has fared in the Ladder Score over the years.","2dc2b13e":"- To have a region-wise analysis, we will add a region column too.","3e80e2e3":"- Since the 3 datasets serves and explores a different idea - World Happiness Index 2021, World Happiness Index over the years & Handling of Covid-19 in 2020, merging is not ideal and hence we will explore them seperately.","94c1c92c":"- \"North America and ANZ\" region has the least number of countries, whereas \"Sub-Saharan Africa\" region has the highest numer of countries, almost twice as many as the region with the 2nd most number of countries,Western Europe.","46de1bd2":"- Not surprisingly, most of the top 5 scoring countries are from the 'Western Europe'.Countries from 'Southeast Asia' also takes several spots in the list. 'Sub-Saharan African' countries seems to occupy most of the bottom 5 scoring countries in almost all criterias.\n- Note : Perception of Corruption has a negative correlation with the ladder score, i.e, the lower the 'Perception of Corruption' score, the higher the ladder score and therby the ranking of a country.","0937a51c":"- Region data for some countries arent available. We will impute these.","d77167c6":"### Summary","1dc44694":"- The data seems to be an attempt to explain COVID-19 deaths. \n- Apart from country names, all the features are represented numirically. There are some boolean data too among them. \n- There seems to be a lot of missing data. 'All-cause death count' datas seems to be available only for about 63-65 countries. Splitting these 'All-cause death count' related datas to a new dataframe for seperate analysis seems to be a better solution than dropping entries with null values.","0ea0b6bf":"- In 'mortality_data' dataframe only 3 entries has null values. These can be dropped","ecad28cf":"- Both India's Ladder Score & Ranking has been falling since 2006. But a very visible continuous drop can be observed from 2013-2014. For the 2021 WHR, the Ladder score dipped again after it showed improvement in the 2020 report. The WHR 2021 have attributed the low ladder score and the ranking to the Modi govt and policies.","d1d6cecf":"- Now we will try to find which regions the highly and lowly ranked countries belong to, and if there is any correlation with the region and the ranking.","bf2b59ae":"## COVID-19 Mortality Data","ac6423c1":"The basic inferances from each section have already been provided. But my key takeaways from this project are :\n- The GDP per capita distribution has a wide disparity in the world and also the life expectancy ranges from as low as under 50 years to over 75 years of age. This puts a light on the disparity of life & lifestyle across the world.\n- European Countries and in particular, Western European countries seems to lead a happier life in overall wheras the countries in Sub-Saharan African countries are having it the worse. Finland has been the happiest country consecutively for the past 7 years. The WHR is primarily based on the 6 key variable which are weighted unequally and i couldnt get a clear grasp on how they are weighted. For, Singapore had scored higher than Finland in 4 of these 6 varibles but had the rankings of 31 and 1 respectively.\n- India has been consistently performing low in the Ladder score and in WHR over the years. All of India's neighbouring countries outscore India with Afghanistan which has been ranked at the bottom in 2021, being the only exception.\n- Covid-19 had an adverse affect allover the world and many countries still are fighting a war against this pandemic. By the end of 2020, the United States had the most number of deaths in the world and more than 50% of the world covid deaths occuring in the North America & ANZ region. At the same time, few countries like Laos, Bhutan, Cambodia and Mongolia had 0 Covid deaths. Belgium had the highest covid deaths per 100K of its population.\n- The covid deaths per 100K of its population or the death rate in country was positively correlated with the exposure index, which was a measure of the proximity of countries which had reported covid by March. Which means that the pandemic might spread from the origin to the rest of the world in a wave-like manner and the countries further had more time to prepare. The younger countries with a lower median age had lower death rate by which means that the elderly people are more prone to serious life threatening situation when infected with the virus. The countries with lower trust of the institutions and the ones with higher disparity of wealth & resources ended up having more death per 100K of the population, hinting at poor or average governance by the government or country head.\n- The countries under WHO: Western Pacific Region, which had prior experience in handling SARS pandemic had fared better along with the Island countries which dont share direct borders with any other country. Also,  the countries headed by a female had also fared better interms of handling the pandemic and controlling the death rate. Again hinting that Females are better than men in governance.","7282a67a":"- We can also try to understand how the scores of the variables are distributed across various regions.","fe9d2e77":"- Covid-19 Exposure Index seems to has the highest correlation with the number of deaths per 100K in 2020 due to COVID-19.\nWe shall see how ","4dd78718":"- We shall check the distribution of the data","e7ccb3b8":"To summerize, in the World Happiness Report 2021, Finland was ranked First whereas Afganisthan was at the bottom. The countries in the Western European region seems to be the happiest in the world with 13 of the top 20 happiest country being from there.Whereas the Sub-Saharan region is the least happiest region in the world. Though Western Europe dominate in terms of GDP per capita, Social Support, Life Expectancy and Freedom to make life decisions, interms of Generosity and Perception of Corruption, Southeast Asia and other regions fare better than Western Europe. We also noticed that the 6 key variables mentioned are unequally weighted and mere correlation of these variables with the ladder score isnt an indicative of the variable weights, as we understood from Finland & Singapore. There may possibly be other indicators too for the Ladder Score calculation.","a3cbf327":"- The violinplots gives us an idea of the distribution of the various Ladder Score variables across countries. \n- In general, \"Social Support\" & \"Freedom to make life choices\" have a higher score, which is actually great. But, \"Generosity\" is fairly low in most countries and the \"perception of corrruption\" is on the higher side. The \"life expectancy\" ranges from about 48 to 77 years and the \"GDP per capita\" has a huge Disparity across various countries.","ebfe482a":"## World Happiness Report 2021","9469fe17":"- We see that both New Zealand and Singapore are an Island Country, falls under WHO: Western Pacific and run by a female head.\n- 'Trinidad and Tobago', 'Iceland', 'Philippines', 'Australia', 'Japan' & 'Taiwan Province of China' falls under two of the mentioned criterias.\n    ","2f425ca7":"The year 2020 will be known for concepts such as \u201clockdowns,\u201d \u201cmask mandates\u201d, \u201csocial distancing\u201d & such all brought together by the COVID-19 pandemic, which continues to impact all aspects of our lives even in 2021. The WHR 2021's focus for this year as no surprise was the COVID-19 pandemic.","2fdb31ad":"This is my first real world project and I have tried to answer questions(with the limited knowledge I have) that I had encountered while working on the data. I feel like I could improve alot on Visualizations and also I havent used any statistical tools for deeper analysis, which I would like to get back to at a later stage. \n\nI have used to [World Happiness Report](https:\/\/worldhappiness.report\/) and [Google](google.com) for reference.\n\nAs always, [Stackoverflow](stackoverflow.com) was of big help, along with [Pandas](https:\/\/pandas.pydata.org\/), [Matplotlib](https:\/\/matplotlib.org\/) and [Seaborn](https:\/\/seaborn.pydata.org\/index.html) whenever i was stuck.","071b256c":"- We had lost an overwhelmingly lot of lifes in 2020, attributed by the pandemic. We will try to look into the excess overall deaths that happened in 2020.","012bb590":"- We shall further try to explore the relation between the death rates and the other categorical values.\n- We will now try to compare the COVID-19 deaths per 100,000 population of various countries interms of whether it is an island country, if the country head is a female and if the governing WHO is Western Pacific or not. WHO Western Pacific had experiences a prior pandemic in 2002, so they might be having an advantage of experience.\n- For easy comparison, we will segregate the countries into 3 categories interms of COVID-19 deaths: \n  - Low Covid Death Countries(upto 56 deaths per 100K), \n  - Medium Covid Death Countries(between 56-112 deaths per 100,000K population), \n  - High Covid Death Countries(over 112 deaths per 100,000K population).","0936c51b":"- We need to handle the missing data in these dataframes.","c30c40bb":"- We can see that some countries have a very large population compared to the rest of the rest of the world, more than 120x of most countries. The median age in various countries ranges from 15 to 48, and almost have a uniform distribution. This suggests that a lot of the countries have a very young population with the world median being 30.\n- We could also infer that most of the countries are far off from the countries that were affected by the SARS pandemic in 2002-04.\n- The Index of Institutional Trust seems to be low across a majority of the countries with the median rating falling around 0.3. Similar is the case with the Gini Coefficient of Income with the median around 37.\n- Index of exposure to COVID-19 infections in other countries as of March 31 were low for most of the countries with a little over 2 for about 75% of the countries. And the COVID-19 deaths per 100,000 population in 2020 for most countris were comparitively low with about 75% of the countries having less than 50 deaths per 100,000 population, when at the same time some countris were affected much worse to the scale of more than 150 deaths per 100,000 population.","7ff77ec8":"- Out of curiosity, we shall try to find if there are countries that fall in two or more of the criterias, Island,WHO Western Pacific and a Female head.","bacdcd03":"## World Happiness Report 2021","90b43beb":"- In 'deaths_count' dataframe South Africa & Ireland have null values. These can be dropped. The data for Ireland can be imputed by mean, but South Africa has to be dropped since not much information is available.","e543799e":"- We shall convert the categorical columns accordingly.","44d232c7":"- We will now try to find which countries has the highest and lowest scores interms of the 6 key variables.","dba5f4a6":"We have seen that over the years, Denmark & Finland have been dominating the Happiness Chart(Ladder score) since 2005 with Finland winning the last 6 years consequtively. Interstingly, Canada (2013) was the only country outside Europe to have ever topped the Ladder Score. We had also observed the highs & lows of the variable scores over the years.\nInterms of India, the path have been an almost steady downfall with respect to the World Happiness Report & Ladder Score. Also, India has been performing averagely and even poorly over the last many years compared to its neighbours.","9a6da3a5":"### Summary","92f0659f":"## World Happiness Report 2021 : COVID-19 2020","14069700":"- We include the 2021 data also..","10bfae67":"- The Ranking consists of 149 countries and there are no null values.","3211ac2f":"- As we can see, the average population seems to be negatively correlated with the death rate in most regions. Most regions with high population have a lower death per 100K population. Which make sense because, for the same number of deaths, if the country has a high population, the deaths per 100K population would be proportionally lower. This means that the death rate is not proportional to the population within a region. This also means that Deaths per 100K population isnt by itself an indicative of the actual number of deaths and the actual number of deaths doesnt increase proportionally with the population.","3f7e0b52":"- As we can see, India has been performing poorly interms of the Happiness Index as set by WHR compared to all its neighbours over the last many years, with Afganisthan being the only exception.Also, India was the least performing among all its neighbours in 2016.","85410feb":"- This is an interesting find which helps us gain insights regarding when and which country excelled or was at the worst in terms of the respective criterias. We could try to find the reason for the same by trying to correlate with what was happening in the country at that time.\n  - For example, Perceptions of corruption in 2010 represents the data of the previous year 2019. In Hungary,2010, Fidesz party had regained power in the 2010 general elections in a landslide, winning two-thirds of the seats in Parliament and a lot of prominent changes were brought in including a new Constitution. With this we could infer that people of Hungary were highly dissatisfied with the previous Govt. and hence the high score. ","49f4f5f1":"- Index of exposure to COVID-19 infections in other countries(as of March 31) is correlated the most with the Covid-19 deaths in 2020. It has a strong positive correlation which means that the greater the exposure index, higher the covid deaths. We could assume that the pandemic spread faster to neighbouring countries than the others and these countries had far shorter time to prepare & tackle the virus, which explains the high death toll. The average distance to SARS countries is also mildly correlated positively with the death count. This makes sense because both the SARS pandemic in 2002 and COVID-19 originated around the same region. \n- The median age of countries is also strongly correlated to the death count, which means that countries with younger population suffered less interms of death. \n- Institutional trust & Gini Coefficient of income has a moderatly negative correlation with the COVID deaths. Which means that the countries which have a low trust in their country's governance and the countries with high income inequality(low income equality) had more deaths. Possibly due to poor governance & handling of the situation and the disparity in wealth & resources within the population. ","65f632cc":"# Data Preparation and Cleaning","eaac9d56":"- All the countries in 'North America and ANZ' region has a similar `Social Support` score and is above 0.9 . 'South Asia' countries have the widest distribution of scores ranging from just over 0.4 to 0.9.\n- 'North America and ANZ' & 'Southeast Asia' regions have a narrow disribution of `Freedom to make Life Choices` scores with all of it rating falling above 0.8. Whereas 'Middle East and North Africa' region has the widest distribution of the score from less than 0.3 to over 0.9\n- 'North America and ANZ' is the only region with all the countries having a positive `Generosity` score. 'Southeast Asia' countries has the most varying scores across countries and also the highest scores across the world.\n- 'Western Europe' and 'North America and ANZ' regions has the two most widest distribution of `Perception of Corruption` scores, and also have a lower score compared to other regions. All other regions tend to have a high score.\n- 'Western Europe' and 'North America and ANZ' has all its countries with a `Logged GDP per capita` of more than 10. Most of the countries of 'Sub-Saharan Africa' has the least Logged GDP per capita.\n- All the countries in 'Europe' has a `life expectancy` of above 70. Most countries in 'Sub Saharan Africa' has a life expectancy below 60.Countries in 'South Asia' has a life expectancy in the range of near 52 to 71.","1d582818":"- We will now try to segregate the number of countries in each region.","5e2cb71e":"To summarize, the United States had the most number of deaths due to COVID and also the America & ANZ region had the most number of deaths in the world. But, Belgium had the highest Death per 100K of its population, in the world. Countries in Europe have suffered the most interms of deaths per 100K of their population.\nAlso, the death rate in a population was higher for countires which were closer to countries which were already infected by March'20. The countries further away from the source had more time to prepare & take action.  And younger countries with a lower median age had lower death rate by which we could assume that the elderly people are more prone to serious life threatening illness.\nThe countries with lower trust of the institutions and the ones with higher disparity of wealth & resources ended up having more death per 100K of the population, hinting at poor or average governance by the government or country head.\nWe also learned that the Island Countries, the countries under WHO: Western Pacific Region and the countries Governed by a female had lower death rate due to their geographical advantage & their handling of the pandemic.","00e3d82f":"# Exploratory Analysis and Visualization","be16a941":"The rankings(Ladder Score) of World Happiness Report 2021 use data that come from the Gallup World Poll surveys from 2018 to 2020. They are based on answers to the main life evaluation question asked in the poll. This is called the Cantril ladder: it asks respondents to think of a ladder, with the best possible life for them being a 10, and the worst possible life being a 0. They are then asked to rate their own current lives on that 0 to 10 scale. The rankings are from nationally representative samples, for the years 2018-2020. They are based entirely on the survey scores, using the Gallup weights to make the estimates representative.","3250e68a":"![](https:\/\/images.unsplash.com\/photo-1529739195191-4246f11b3382?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80)","e725558c":"- As we can see, Peru had suffered the highest [excess deaths](https:\/\/www.bmj.com\/content\/372\/bmj.n611) per 100,000 population in the world, attributed to the Pandemic. Whereas [Mongolia](https:\/\/en.wikipedia.org\/wiki\/COVID-19_pandemic_in_Mongolia), New Zealand & Taiwan had less overall deaths compared to their previous years.\n- Countries in the 'Latin America & Caribbean','Commonwealth of Independent States' & 'Central & Eastern Europe' recorded the highest excess death in 2020 in the world. East Asian countries had the least excess deaths.","ff84eda6":"- Though Singapore scored better than Finland in 'Logged GDP per capita','Healthy life expectancy','Generosity' & 'Perception of corruption', it is ranked way lower than Finland interms of Ladder Score. This goes to show that, even though 'Logged GDP per capita' & 'Healthy life expectancy' was the most highly correlated with with Ladder score, these dont exclusively decide the 'Ladder score', and calculation of the ladder score isnt so straight forward.","5686c910":"- With an exception in this year's score, the Life Expectancy has been increasing over the years, indicating the improvement in health systems and medical researches.  The drop in score this year is possibly due to the Covid-19 pandemic. The GDP per capita also had a gradual growth over the years, but in 2020 it decreased for the first time since 2016. According to [BusinessToday](https:\/\/www.businesstoday.in\/current\/economy-politics\/gdp-slowdown-longest-india-2019\/story\/391754.html), the 2019 slowdown of Indian economy has been triggered by a mix of both internal as well as external factors such as synchronised global slowdown, demonetisation, poor implementation of GST, plummeting domestic automobile sales, flattening of core sector growth and declining investment in construction and infrastructure. ","8f078dc4":"**Median age :** The median age of the country's population.\n\n**Island :** Whether the country is an island.\n\n**Index of exposure to COVID-19 infections in other countries as of March 31 :** An exposure index measuring how close a\ncountry was, in the early stages of the pandemic (March 31), to infections in other countries. For example, the observation for India is the sum across all other countries of their cumulative national infections by March 31 divided by the distance between that country and India. The exposure index ranges from a low of 0.4 to a high of almost 8, with an average value of 5.1\n\n**Log of average distance to SARS countries :** geographical proximity to countries with SARS experience.\n\n**WHO Western Pacific Region :** Whether the country comes under WHO Western Pacific Region.\n\n**Female head of government :** Whether the country has a female head of government.\n\n**Index of institutional trust :** The level of institutional trust, on a scale from 0 to 1.\n\n**Gini coefficient of income :** The Gini coefficient measuring the country\u2019s degree of income inequality, on a scale from 0 to 100, with 0 representing complete equality.\n","c445e348":"- For the covid mortality data table, we will sort it in the decreasing order of deaths and also add a column specifying the region of the country","3170394c":"### Summary","d9855e16":"# References and Future Work","aa5de1a6":"## World Happiness Report over the Years","969c32de":"- We will now try to find the corelation between the various variables with each other. But our primary focus will be on the correlation between the 6 key variables to the ladder score .","b75c299e":"- Considering the last 16 years, i.e, from 2005, Denmark had topped the Ladder Score 7 times. But with this year's report, Finland have equalled Denmark's feat. having topped the Ladder Score 7 times. Canada is the only country outside Europe to have topped the Ladder Score.","adaec74a":"- Apart from 'Logged GDP per capita' and 'Healthy life expectancy', all are within a scale of 0 to 1 or -1 to 1. We shall try to understand the distribution of the data available.","fc3782f1":"- We know that Oman & Qatar falls in the region of 'Middle East and North Africa', so we will directly impute these","792a38ed":"- As inferred before, we can see that the median age, Covid-19 exposure index & closeness to SARS countries of a particular country is positively correlated with the Covid-19 death rate within a country. Institutional Trust & Gini Coefficient of Income have a negative correlation.","fe12a777":"- 241 entries has missing values. That is over 12% of the total data. We may loose some important insights if we drop all entries with a missing value or impact the insights if we impute them without much domain knowledge. We still can do some EDA before removing\/imputing these.We will handle the missing values as and when required.","53750779":"# Inferences and Conclusion","dba56307":"Dystopia is an imaginary country that has the world\u2019s least-happy people. The purpose in establishing Dystopia is to have a benchmark against which all countries can be favorably compared (no country performs more poorly than Dystopia) in terms of each of the six key variables - levels of GDP, life expectancy, generosity, social support, freedom, and corruption (includes other criterias\/variables too), thus allowing each of them to be of positive (or zero, in six instances).\n\nThe \"Explained by: \" columns represents the estimated extent to which each of these six factors are estimated to contribute to making life evaluations higher in each country than they are in Dystopia, a hypothetical country that has values equal to the world\u2019s lowest national averages for each of the six factors. These have no direct impact on the total score reported for each country, but instead are just a way of explaining for each country the implications\/contribution of these variables to the Ladder Score.\n\nThe residuals, or unexplained components, differ for each country, reflecting the extent to which the six variables either over- or under-explain average 2018-2020 life evaluations. ","aefe4d6e":"- Singapore has been among the top 5 rated countries with respect to the six key variables thrice, same as Finland. But Finland had topped the WHR 2021 list whereas Singapore was placed at 32. This seems like an anomaly and will try to investigate further. Whereas, Afghanistan has been featured the most, thrice in the bottom 5 rankings, and explains the ladder score and ranking.\n- We will try to compare the 6 key variable scores of Singapore and Finland.","fd0e1a21":"- Before moving ahead, we shall also try to compare the average deaths per 100K population in a region with average population of the region in order to see if there is any relation between population and death rate.","1bd41c4f":"- As we can see, the average deaths per 100K population was the highest in the European countries and, followed by Latin American & Caribbean countries by the end of 2020. East Asia had the lowest death rate among the regions. \n- Belgium had the highest COVID-19 deaths per 100,000 population by the end of 2020 whereas Laos had the least. Its interesting to note that though the pandemic originated from China, they still had one of the lowest death per 100K population according to record.","66ffd18e":"- As we can see, interms of COVID-19 deaths in 2020, North America and ANZ region accounted for over 51% of all COVID death with United States having the highest death count. Laos, Bhutan, Cambodia and Mongolia reported 0 deaths due to COVID in 2020. Among regions, the Sub-Saharan Africa had the least death count.\n\n- We have to note that, for Country wise Analysis, COVID-19 Deaths per 100K population of a country is a better parameter than just the COVID-19 death counts of a country. ","8150a2a1":"- We will try to find which Country and Year was each of the Ladder Score variables was the highest and the lowest.","3e69dd4e":"- We shall compare the death rates interms of the various regions, to understand which part of the world or region was affected the most.","02cdb05a":"The first World Happiness Report was released on April 1, 2012. But we have a consolidated data from previous years too by which the Ladder Score was calculated for countries with the available data.","e3664841":"- Over the years, 'Social Support haven't improved much. Moreover, it has been almost the same over the last 7 years. 'Freedom to make life Choices' have improved over the years, wheras 'Perception of Corruption have reduced which is a good sign. 'Generosity' though had its ups and downs, seem to be improving. Another point of concern with regards to Happiness index is that the Negative affects have been gradually increasing over the years when the Positive affects havnt any improvement in the average score over the years.\n","63fab559":"- We will drop the statistical columns and the \"Explained by: \" columns since these have no direct impact on the total score reported for each country, but instead are just a way of explaining for each country the implications\/contribution of these variables to the Ladder Score.\n- We will create a copy, so that we dont messup the original dataframe.","4216fdb3":"- We shall find the countries ranked as the best according to the World Happiness Report\/Ladder Score over the years.","2598689c":"- As we can see, Finland has been dominating the top position in Happiness Report for the past 5 years and has also topped this year. "}}