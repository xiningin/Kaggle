{"cell_type":{"252b47c9":"code","83a5d7fc":"code","6431ee41":"code","eee7052e":"code","ac893c32":"code","b12da027":"code","17abf209":"code","e3f752ae":"code","53b87bec":"code","08bab6c2":"code","952753a2":"code","7deb8341":"code","18f70173":"code","2299eb91":"code","152c9126":"code","ebcc258f":"code","211ef66c":"code","2bbc2603":"code","50db5138":"code","da8895ed":"code","9f73f52e":"code","10b94041":"code","408fc36d":"code","6e0d573a":"code","1cd51080":"code","c1a3e2f6":"code","ed34482a":"code","c8cbf095":"code","13fe0aca":"code","d00a2bd7":"code","817baf33":"code","089937bb":"code","ef007b0f":"code","4925eb9f":"code","977ba63d":"code","104ca5b6":"code","7b22d2c6":"code","33a37421":"code","93b8fb62":"code","76321688":"code","1211d7d6":"code","c18911d5":"markdown","fe76769f":"markdown","0a84d556":"markdown","166d1be1":"markdown","f2a06f11":"markdown","e2453c64":"markdown","bf90851a":"markdown","778ea598":"markdown","e1b8f082":"markdown","240bf545":"markdown","59fed7e6":"markdown","ddd350bb":"markdown"},"source":{"252b47c9":"#Import Statements\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","83a5d7fc":"!pip install xlrd","6431ee41":"#Import the dataset\ndata = pd.read_excel('..\/input\/shark-attack-dataset\/GSAF5-1.xls')\npd.set_option('display.max_columns', 999)","eee7052e":"#Displaying all the columns in the dataset\ndata.columns","ac893c32":"#Have renamed the column 'Sex' by eliminating the space at the end of the column\ndata.rename(columns ={'Sex ':'Sex'},inplace=True)\ndata","b12da027":"#Deleted the column 'Unnanmed: 23' as it was empty\ndel(data['Unnamed: 23'])\n\n#Deleted the column 'Unnanmed: 22' as it was empty\ndel(data['Unnamed: 22'])","17abf209":"#Removed the empty cells after the cell 6451\ndata = data.drop(data.index[6451:])\ndata","e3f752ae":"#Creating a new dataset which contains only the data related to USA\ndata = data[data.Country == \"USA\"]\ndata","53b87bec":"#Showing the data description\ndata.describe()","08bab6c2":"data.info()","952753a2":"data.head()","7deb8341":"#Checking whether any data contains NULL value and printing the sum of the null values\ndata.isnull().sum()","18f70173":"#Replacing all null values at sex column with M (Male)\ndata[\"Sex\"].fillna(\"M\", inplace = True)","2299eb91":"# Finding unique values from Sex column\ndata['Sex'].unique()","152c9126":"# Cleaning the Sex Column by replacing the missing values and unrelated values by \"M\"\ndata[data['Sex'] == 'M '] = 'M'\ndata[data['Sex'] == 'M x 2'] = 'M'\ndata[data[\"Sex\"]=='lli'] = 'M'\ndata['Sex'].unique()","ebcc258f":"data['Age'] = pd.to_numeric(data['Age'],errors='coerce')","211ef66c":"#Calculating mean value of the age column\ndata['Age'].mean()","2bbc2603":"#Replacing all null values at age column with 27 (Mean value of the age column)\ndata['Age'] = data['Age'].fillna(27)\ndata['Age']","50db5138":"#Removing row with age = young\ndata = data[data.Age != 'young']","da8895ed":"#Plotting the Sex column in Countplot for knowing the Male and Female dispersement\nsns.countplot(x='Sex',data=data)","9f73f52e":"#Age distribution graph\nfig,ax = plt.subplots(figsize=(8,6))\nax = sns.distplot(data['Age'],\n             ax=ax,\n             hist_kws={\"alpha\": 0.6, \"color\": \"#00c2c7\"},\n             kde=False,bins=15)\nplt.xlabel('Age')\nplt.ylabel('Count')\nplt.title('Age Distribution')","10b94041":"# Grouping the data based on Age and Area columns\nage_data = pd.DataFrame(data['Age'].groupby(data['Area']).mean())\nage_data.Age","408fc36d":"#Plotting the Age distribution based on the State\nage_data.plot.bar(figsize=(20,8))","6e0d573a":"data[data['Area'] == 'M']","1cd51080":"data = data[data['Area'] != 'M']","c1a3e2f6":"data[data['Area'] == 'M']","ed34482a":"age_data = pd.DataFrame(data['Age'].groupby(data['Area']).mean())\nage_data","c8cbf095":"#Plotting the gender of victims \ndata[data['Sex'].isin(['M','F'])][\"Sex\"].value_counts().plot(kind='pie',title= \"Gender of victims\",colors= ['yellow','orange'], table =True)","13fe0aca":"area_gender = data.groupby(['Sex','Area']).size().to_frame('count').reset_index()\narea_gender","d00a2bd7":"pivot_df = area_gender.pivot(index='Area', columns='Sex', values='count')","817baf33":"#Displaying the Gender distribution based on State\npivot_df.loc[:,['M','F']].plot.bar(stacked=True, color=[\"#fe5e51\", \"#31A354\",\"#74C476\"], figsize=(20,8))","089937bb":"age_data = data['Age'].groupby(data['Area']).mean()\nage_data","ef007b0f":"#Importing data set-2 containing state and region\ndata_set = pd.read_csv('..\/input\/country-state-code-region-dataset\/data_2.csv')\ndata_set","4925eb9f":"#Merging two datasets \nmerge_data = pd.merge(left=data, right=data_set, on=None, left_on='Area', right_on='State')\nmerge_data","977ba63d":"#Checking for NULL values\nmerge_data.isnull().sum()","104ca5b6":"#Displaying the columns in the second dataset\nmerge_data.columns","7b22d2c6":"#Displaying the Gender distribution based on the region\nregion_gender = merge_data.groupby(['Sex','Region']).size().to_frame('count').reset_index()\nregion_gender","33a37421":"pivot_df_region = region_gender.pivot(index='Region', columns='Sex', values='count')","93b8fb62":"#Visualizing the Gender distribution based on region\npivot_df_region.loc[:,['M','F']].plot.bar(stacked=True, color=[\"#ed5565\", \"#23c6c8\",\"#f8ac59\"], figsize=(15,10))","76321688":"#Displaying the Gender distribution based on the region\nregion_age = merge_data.groupby(['Age','Region']).size().to_frame('count')\nregion_age","1211d7d6":"region_age.plot.bar(figsize=(80,30))","c18911d5":"# Data Analysis\nBased on all the above outputs we can visualize that Florida witnessed more Shark attacks which is in the southern region of USA.","fe76769f":"# Output-5\nDisplaying the Age distribution based on Regions","0a84d556":"# Output-2\nVisualizing Age distribution based on State in USA","166d1be1":"# Output-3\nDisplaying the Gender distribution based on the States in USA","f2a06f11":"# Introduction to Data\nThis dataset is about Shark attacks at various countries all over the world for the past 20 years. This dataset contains information on the attacks like location of the attack, time of attack, gender, age, etc., \n\nAnalyzing this dataset based on \"Age, Gender involved in USA attacks (by state, region, overall) (binning needed for age, decisions on nulls)\" gives us the following visualizations.","e2453c64":"## Reading the data\nTo read the data from the Comma seperated value file, we need to import the file, read and then display the details of the dataset.","bf90851a":"# Output-1\nPlotting age distribution through binning of the age column","778ea598":"# Data Preprocessing and Data Cleaning","e1b8f082":"# Output-4\nDisplaying the Gender distribution based on the Regions","240bf545":"# Data Visualization","59fed7e6":"# Data Cleaning and Preprocessing Assignment","ddd350bb":"## Data Cleaning\nData Cleaning is the first and foremost step in handling a dataset. This step is more important because the quality of the dataset is acquired here. \n\nIn the process of cleaning the dataset, we will encounter some missing values, categorical values, unwanted information, etc., We need to overcome these obstacles inorder to get a better quality dataset."}}