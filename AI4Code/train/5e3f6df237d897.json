{"cell_type":{"0603ba5f":"code","036fa65f":"code","579542e2":"code","6349f270":"code","b4e564c8":"code","2f0f4515":"code","05a3916f":"code","962d3e1c":"code","0b6c3e8c":"code","9358349b":"code","83405af0":"code","6db6a45a":"code","0ffac404":"code","d34c9b78":"code","76289d60":"code","2cfac8eb":"code","66c7fae6":"code","99ae7002":"code","3296b8bc":"code","f08aa11c":"code","a686a8f9":"code","3aeb0a17":"code","79419393":"code","fede20b1":"code","5ef4d8b6":"code","bbf8d6c6":"code","c50b6062":"code","239c83df":"code","943b5b25":"code","180babd1":"code","8d1b8408":"code","eafc840c":"code","42a9aebb":"code","bab8dbc7":"code","a85357ef":"code","8fcb0264":"code","861f7007":"code","13fa0523":"code","6e287bda":"code","8aae18f4":"code","aaa3bb87":"markdown","9dbbbb39":"markdown","9fd0ac07":"markdown","0f18f950":"markdown","34c54935":"markdown","208a5936":"markdown","3342909d":"markdown","979f16e7":"markdown","5c363500":"markdown","0a5af43b":"markdown","6df64983":"markdown","569eed98":"markdown","d16d5d1c":"markdown","51134dc5":"markdown","b484ed24":"markdown","52a1a984":"markdown","98b2fe37":"markdown","597c4909":"markdown","6ccf2a8f":"markdown"},"source":{"0603ba5f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')","036fa65f":"from sklearn.preprocessing import StandardScaler\n\nfrom sklearn.linear_model import LogisticRegression\n\nfrom sklearn.metrics import accuracy_score, confusion_matrix, classification_report, plot_confusion_matrix, precision_score, recall_score\n\nfrom sklearn.metrics import precision_recall_curve, plot_precision_recall_curve, plot_roc_curve\n\n%matplotlib inline","579542e2":"titanic = pd.read_csv(\"..\/input\/titanic\/train.csv\")\ntitanic_test = pd.read_csv(\"..\/input\/titanic\/test.csv\")","6349f270":"pd.DataFrame([titanic.corr()['Survived'].sort_values()])","b4e564c8":"font = {'family': 'serif',\n        'color':  'white',\n        'weight': 'normal',\n        'size': 11,\n        }\n\nplt.style.use('default')\n\nfig, ax = plt.subplots()\n\nX=titanic['Fare']\ny=titanic['Survived']\n\n\nax.set_xlabel('Fare', fontdict=font)\nax.set_ylabel('Survived', fontdict=font)\n\n  \nplt.plot(X,y, 'ro', alpha=0.5)","2f0f4515":"combined = [titanic, titanic_test]","05a3916f":"titanic.head()","962d3e1c":"titanic.describe()","0b6c3e8c":"titanic_test.head()","9358349b":"## Removing unuseful columns","83405af0":"titanic[\"Cabin\"].value_counts()","6db6a45a":"titanic[\"Fare\"].value_counts()","0ffac404":"len(titanic[titanic['Sex'].isnull()])","d34c9b78":"titanic[\"Fare\"].describe()","76289d60":"sns.distplot(titanic[\"Fare\"])","2cfac8eb":"titanic['Sex'].unique()","66c7fae6":"titanic[['Survived', 'Sex']].groupby('Sex').mean()","99ae7002":"combined=[titanic,titanic_test]","3296b8bc":"rep = {\"male\":0,\"female\":1}\nfor x in combined:\n    x['Sex']=x['Sex'].map(rep)","f08aa11c":"titanic.head()\n#look at sex column","a686a8f9":"len(titanic[titanic['Embarked'].isnull()])","3aeb0a17":"titanic[titanic['Embarked'].isnull()]","79419393":"titanic[(titanic['Pclass']==1)&\n                                (titanic['Survived']==1)&\n                                                        (titanic['Sex']==1)].groupby('Embarked').sum()","fede20b1":"sns.countplot(x='Pclass',hue='Embarked', data=titanic)","5ef4d8b6":"titanic['Embarked']=titanic['Embarked'].fillna(\"S\")","bbf8d6c6":"len(titanic[titanic['Embarked'].isnull()])","c50b6062":"rep_embarked={\"S\":0,\"C\":1,\"Q\":2}\nfor i in combined:\n    i['Embarked']=i['Embarked'].map(rep_embarked)","239c83df":"survived = titanic[titanic['Survived']==1]['Sex'].value_counts()\nsurvived","943b5b25":"dead = titanic[titanic['Survived']==0]['Sex'].value_counts()\ndead","180babd1":"len(titanic[titanic['Age'].isnull()])","8d1b8408":"titanic[titanic['Age'].isnull()].head()","eafc840c":"combined_df = pd.concat([titanic, titanic_test], axis = 0)","42a9aebb":"combined_df[['Age','Pclass']].groupby('Pclass').mean()","bab8dbc7":"combined_df.hist(figsize=(20,20))","a85357ef":"data = [titanic, titanic_test]\nfor d in data:\n    d['with_family'] = d['SibSp'] + d['Parch']\n    d.loc[d['with_family'] > 0, 'not_alone'] = 0\n    d.loc[d['with_family'] == 0, 'not_alone'] = 1\n    d['not_alone'] = d['not_alone'].astype(int)\n  \n    \ntitanic['not_alone'].value_counts()","8fcb0264":"my_dataset = sns.factorplot('with_family','Survived', data=titanic, aspect = 2.5,cpalette='Blues_d')","861f7007":"sns.countplot(x='Sex',data=combined_df,hue='Pclass')","13fa0523":"plt.figure(figsize=(10,7))\nsns.heatmap(titanic.corr(), annot=True, cmap='inferno')\nplt.show()","6e287bda":"sns.boxplot(x = 'Pclass', y = 'Fare', hue = 'Survived', data = titanic)","8aae18f4":"grid = sns.FacetGrid(titanic, col='Survived', row='Embarked', size=3.2, aspect=2.3)\ngrid.map(plt.hist, 'Age', alpha=.5, bins=20, )\ngrid.add_legend();","aaa3bb87":"# **importing necessary libaries**","9dbbbb39":"Here we can see, at all classes most of people embarked on \"S\"","9fd0ac07":"# looking for null values at Age.","0f18f950":"**Extract how many peoples for each sex survived\nseperrated by sex: male= 0, female= 1\n**","34c54935":"* connecting all common variables of these people to predict where they embarked\n\n**pclass**: Refers to passenger class (1st, 2nd, 3rd)\n\nThere are three possible values for Embark \n1-Southampton\n2-Cherbourg, and \n3-Queenstown.","208a5936":"# Nacessary Information\nSurvival: Survival (0 = No; 1 = Yes)\n\nPclass: Passenger Class (1 = 1st; 2 = 2nd; 3 = 3rd)\n\nName : Name\n\nSex : Sex\n\nAge : Age\n\nSibsp : Number of Siblings\/Spouses Aboard\n\nParch : Number of Parents\/Children Aboard\n\nTicket : Ticket Number\n\nFare : Passenger Fare\n\nCabin : Cabin\n\nEmbarked : Port of Embarkation (C = Cherbourg; Q = Queenstown; S = Southampton)","3342909d":"we analyse Age, Gender,and Embarked of passengers","979f16e7":"# Replace Sex --> male= 0, female= 1\n* for making the coding easier and generally faster\n* Creating a list with two files, more accuracy for to the math to fill NaN values","5c363500":"# Read Dataset","0a5af43b":"# How many unique enters this array have","6df64983":"As we find: Fare\" Distplot is pretty much skewed, maybe it's better to use the log form.\nAnd clearly we don't have to remove \"Fare\" column.","569eed98":"* Checking if exist some NaN value","d16d5d1c":"### Removing unuseful columns","51134dc5":"# Working with embarked type","b484ed24":"Checking which gender have more survivers","52a1a984":"check titanic[Embarked] has empty field","98b2fe37":"\n### As we found:\n###     About 38% of the passengers survived.\n###     Mean age was around 30 years.\n###     Passengers paid something around 32.\n###     Half of the passengers travelled with siblings or spouse.\n\n","597c4909":"** Lets see how is the distribuition by gender for people who survived**\n male= 0, female= 1","6ccf2a8f":"\n\n   It looks like that cabin number is to spreaded to be used in the model but let's visualise it and then make the decision.\n   \n   At most 4 rows share the same cabin so it doens't help much and it's better to drop it.\n\n"}}