{"cell_type":{"025bb304":"code","a0aa2ead":"code","36c933b3":"code","41749bcd":"code","4e407a01":"code","454ab5ca":"code","88f57181":"code","b64f3cd5":"code","a7dbec4a":"code","1163fd9f":"code","c2325248":"code","f5518e1a":"code","ca022e2f":"code","7612d627":"markdown"},"source":{"025bb304":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","a0aa2ead":"import seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nplt.style.use('fivethirtyeight')\nimport warnings\nwarnings.filterwarnings('ignore')","36c933b3":"bulletin_dir = \"..\/input\/cityofla\/CityofLA\/Job Bulletins\"\ndata_list = []\nfor filename in os.listdir(bulletin_dir):\n    with open(bulletin_dir + \"\/\" + filename, 'r', errors='ignore') as f:\n        for line in f.readlines():\n            #Insert code to parse job bulletins\n            if \"Open Date:\" in line:\n                job_bulletin_date = line.split(\"Open Date:\")[1].split(\"(\")[0].strip()\n        data_list.append([filename, job_bulletin_date])","41749bcd":"df = pd.DataFrame(data_list)\ndf.columns = [\"FILE_NAME\", \"OPEN_DATE\"]\ndf[\"OPEN_DATE\"] = df[\"OPEN_DATE\"].astype('datetime64[ns]')\ndf.info()\n","4e407a01":"data = df.groupby('OPEN_DATE').count()","454ab5ca":"from fbprophet import Prophet","88f57181":"data.index","b64f3cd5":"data['FILE_NAME'].values.astype(int)","a7dbec4a":"df = pd.DataFrame()\ndf['ds'] = data.index\ndf['y'] = data['FILE_NAME'].values.astype(int)\ndf = df.dropna()","1163fd9f":"m = Prophet(changepoint_prior_scale=0.01).fit(df)\nfuture = m.make_future_dataframe(periods=300, freq='H')\nfcst = m.predict(future)\nfig = m.plot(fcst)","c2325248":"fig = m.plot_components(fcst)","f5518e1a":"m = Prophet(seasonality_mode='multiplicative').fit(df)\nfuture = m.make_future_dataframe(periods=3652)\nfcst = m.predict(future)\nfig = m.plot(fcst)","ca022e2f":"m = Prophet(seasonality_mode='multiplicative', mcmc_samples=300).fit(df)\nfcst = m.predict(future)\nfig = m.plot_components(fcst)","7612d627":"\nBased on BrendanGallegoBailey Data Science for Good City of LA Starter Kernel: \nhttps:\/\/www.kaggle.com\/bbailey\/data-science-for-good-city-of-la-starter-kernel\n\nProphet link: \nhttps:\/\/github.com\/facebook\/prophet\/blob\/master\/notebooks\/non-daily_data.ipynb\n"}}