{"cell_type":{"6351d6a8":"code","b8c2a777":"code","e9c3812f":"code","440fe58c":"code","418c6599":"code","aded6010":"code","7f054be8":"code","9a951835":"code","814b7697":"code","827e6af3":"code","c57ee80a":"code","8fb1e2a7":"code","b9357059":"code","4e2d2e4b":"code","e2f7fefd":"code","a2b1b2f1":"code","bf5c2563":"code","7ee850fe":"code","27c139e4":"code","8d66f212":"code","ff7b813b":"code","0c2d8c78":"markdown","337ac825":"markdown","325913e5":"markdown","ff0408e0":"markdown","c664770c":"markdown","286cc459":"markdown","80d6651c":"markdown","326488e1":"markdown","256c6616":"markdown","86aa30d7":"markdown"},"source":{"6351d6a8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","b8c2a777":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport json","e9c3812f":"data_kbp = pd.read_csv('..\/input\/individuals-killed-by-the-police\/Police Fatalities.csv')","440fe58c":"data_kbp.head(5)","418c6599":"data_kbp.shape","aded6010":"data_kbp.isnull().sum()","7f054be8":"data_kbp['year'] = pd.DatetimeIndex(data_kbp['Date']).year\ndata_kbp.head()","9a951835":"states = pd.DataFrame(data_kbp['State'])\nstates['year'] = pd.DataFrame(data_kbp['year'])\nstates","814b7697":"state2 = states.groupby(['year', 'State'],as_index=False).size()\nstate2.rename(columns={'size':'number_of_cases'}, inplace=True)\nstate2.columns","827e6af3":"state2","c57ee80a":"import plotly.express as px","8fb1e2a7":"px.choropleth(state2, \n              locations = 'State',\n              color=\"number_of_cases\", \n              color_continuous_scale=\"Turbo\",\n              animation_frame='year',\n              locationmode='USA-states',\n              scope=\"usa\",\n              range_color=(0, 250),\n              title='Crime by State per Year',\n              height=600\n             )","b9357059":"data_kbp=data_kbp.drop([\"Armed\"],axis=1)","4e2d2e4b":"data_kbp=data_kbp.dropna()","e2f7fefd":"data_kbp.isnull().sum()","a2b1b2f1":"data_kbp.columns","bf5c2563":"sns.countplot(x='Gender',data=data_kbp)","7ee850fe":"sns.countplot(x='Mental_illness',data=data_kbp)","27c139e4":"sns.stripplot(x=\"Race\",y=\"Age\",data=data_kbp,dodge=True,jitter=True,hue=\"Gender\")","8d66f212":"top10State = data_kbp.State.value_counts().reset_index(name='Number of deaths per state')\ntop10State = top10State[:10]\nplt.figure(figsize=(10,8))\nsns.set_style('darkgrid')\nsns.barplot(x='index',y='Number of deaths per state',data=top10State)","ff7b813b":"top10City = data_kbp.City.value_counts().reset_index(name='Number of deaths per City')\ntop10City = top10City[:10]\nplt.figure(figsize=(10,8))\nsns.set_style('darkgrid')\nsns.barplot(x='index',y='Number of deaths per City',data=top10City)","0c2d8c78":"# Let's go back to cleaning our data\n**I deleted the Armed column and then deleted all empty records**","337ac825":"# Importing libraries ","325913e5":"# Grupby state and year to get the homicide rate for each state by year","ff0408e0":"# We create a dataframe containing only year and state(only these columns are needed for our choropleth map)\nIf you don't know what it is:\n* https:\/\/en.wikipedia.org\/wiki\/Choropleth_map\n* https:\/\/plotly.com\/python\/choropleth-maps\/","c664770c":"# 10 states with the most cases","286cc459":"# As you can see there are a lot of empty records but we'll deal with that later","80d6651c":"# As you can see most of the cases are men","326488e1":"# I have created a new column that only contains the year","256c6616":"# Let's take a look at our data","86aa30d7":"# 10 cities with the most cases"}}