{"cell_type":{"0113abdd":"code","f3c8ae7f":"code","c132c889":"code","68a6f47a":"code","a1473c81":"code","e0937ae3":"code","7b36001f":"code","ae464fed":"code","1750e18b":"code","71b3e919":"code","1104dda6":"code","a612f123":"code","4e68580c":"code","920b20b7":"code","8f5adc52":"code","91c3f8f7":"code","4d912c59":"code","0a1faff2":"code","09d1cd3b":"code","981863c2":"code","1fc7ee56":"code","0e5467fa":"code","3ecbef05":"code","6541b112":"code","01e506e0":"code","ecc24599":"code","ed9360f5":"code","885d4863":"code","15b18dc4":"code","c9ed8d65":"code","1c16b310":"code","ddea92dc":"code","4155bc57":"code","a672f2fa":"code","95337489":"code","ae44d96b":"code","6276be32":"code","32a01572":"code","35e91dbb":"code","4c610cd4":"code","2d37dac7":"code","21aee463":"code","510e3ffc":"code","3e8423dc":"code","85ef5f67":"code","8e6992ba":"markdown","e03a7733":"markdown","dec88c3c":"markdown","041c95c0":"markdown","75d1b37b":"markdown","9fcc33ed":"markdown","bb0d0725":"markdown","38bec01b":"markdown","fd41e2b1":"markdown","1145ab2e":"markdown","a2e43fb9":"markdown","60ab9b54":"markdown","9097ee61":"markdown","a683d460":"markdown","882730fb":"markdown","d89ab44b":"markdown","5d8c13b9":"markdown","26241793":"markdown","9762a86a":"markdown"},"source":{"0113abdd":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport warnings\nimport seaborn as sns\nwarnings.filterwarnings('ignore')\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f3c8ae7f":"Original_Salaries_dataset = pd.read_csv('..\/input\/sf-salaries\/Salaries.csv')\nSalaries_dataset = Original_Salaries_dataset.copy()\nSalaries_dataset.head()","c132c889":"Salaries_dataset.isnull().sum()","68a6f47a":"BasePay_NaNs = (Salaries_dataset.BasePay.isnull().sum() \/ len(Salaries_dataset.BasePay))*100\nBenefits_NaNs = (Salaries_dataset.Benefits.isnull().sum() \/ len(Salaries_dataset.Benefits))*100\nNotes_NaNs = (Salaries_dataset.Notes.isnull().sum() \/ len(Salaries_dataset.Notes))*100\nStatus_NaNs = (Salaries_dataset.Status.isnull().sum() \/ len(Salaries_dataset.Status))*100\n\nprint(\"volume of NaNs of BasePay is \" + str(round(BasePay_NaNs,2))+\"%\")\nprint(\"volume of NaNs of Benefits is \" + str(round(Benefits_NaNs,2))+\"%\")\nprint(\"volume of NaNs of Notes is \" + str(round(Notes_NaNs,2))+\"%\")\nprint(\"volume of NaNs of Status is \" + str(round(Status_NaNs,2))+\"%\")","a1473c81":"Salaries_dataset = Salaries_dataset.drop([\"Notes\", \"Status\"], axis = 1)\nSalaries_dataset.head()","e0937ae3":"Salaries_dataset.EmployeeName.str.upper().value_counts().head(10)","7b36001f":"Salaries_dataset.JobTitle","ae464fed":"sns.set(rc = {'figure.figsize':(15,8)})\nsns.countplot(y=\"JobTitle\", \n              data=Salaries_dataset, \n              order=Salaries_dataset.JobTitle.value_counts().iloc[:20].index).set_title('Top 20 JobTitle')","1750e18b":"def label_graph(ax):\n    for p in ax.patches:\n        height = p.get_height()\n        ax.text(p.get_x() + p.get_width() \/ 2., height + 3, height, ha = 'center', size = 15)","71b3e919":"sns.set(rc = {'figure.figsize':(15,8)})\nax = sns.countplot(x = 'Year', data = Salaries_dataset)\nax.set_title('Number of Employee over Year', size=15)\nlabel_graph(ax)\nplt.show()","1104dda6":"Salaries_dataset.groupby(\"Year\").mean()[\"TotalPay\"]","a612f123":"sns.lineplot(data=Salaries_dataset, x=\"Year\", y=\"TotalPay\").set_title('TotalPay over Year(2011-2014)', size=15)","4e68580c":"g = sns.FacetGrid(Salaries_dataset, hue='Year', size=8).map(sns.distplot, 'TotalPayBenefits').add_legend()\ng.fig.suptitle('TotalPayBenefits Distribution over Year(2011-2014)')\nplt.show();","920b20b7":"Salaries_dataset_Gender = Salaries_dataset.copy()\nSalaries_dataset_Gender.head()","8f5adc52":"Salaries_dataset_Gender[\"EmployeeName\"].isnull().sum()","91c3f8f7":"i = Salaries_dataset_Gender[(Salaries_dataset_Gender.EmployeeName == 'Not provided')].index\nSalaries_dataset_Gender_clean = Salaries_dataset_Gender.drop(i)\nSalaries_dataset_Gender_clean.head()","4d912c59":"Salaries_dataset_Gender_clean[\"FirstName\"] = Salaries_dataset_Gender_clean[\"EmployeeName\"].apply(lambda x: x[0:x.find(\" \")])\nSalaries_dataset_Gender_clean.head()","0a1faff2":"Salaries_dataset_Gender_clean['FirstName'] = Salaries_dataset_Gender_clean['FirstName'].str.capitalize()\nSalaries_dataset_Gender_clean.head()","09d1cd3b":"pip install gender-guesser\n","981863c2":"import gender_guesser.detector as gender\nd = gender.Detector()","1fc7ee56":"Salaries_dataset_Gender_clean['Gender'] = Salaries_dataset_Gender_clean['FirstName'].map(lambda x: d.get_gender(x, 'usa'))\nSalaries_dataset_Gender_clean.head()","0e5467fa":"#Salaries_dataset_Gender_clean['Gender']\nsns.countplot(x = 'Gender', data = Salaries_dataset_Gender_clean)","3ecbef05":"Salaries_dataset_Gender_clean['Gender'] = Salaries_dataset_Gender_clean['Gender'].replace(['mostly_male'],'male')\nSalaries_dataset_Gender_clean['Gender'] = Salaries_dataset_Gender_clean['Gender'].replace(['mostly_female'],'female')","6541b112":"G = Salaries_dataset_Gender_clean[(Salaries_dataset_Gender_clean.Gender == 'unknown')].index\nSalaries_dataset_GenderV2 = Salaries_dataset_Gender_clean.drop(G)","01e506e0":"G_andy = Salaries_dataset_Gender_clean[(Salaries_dataset_Gender_clean.Gender == 'andy')].index\nSalaries_dataset_by_Gender = Salaries_dataset_GenderV2.drop(G_andy)","ecc24599":"gender_size_data = [len(Salaries_dataset_by_Gender[Salaries_dataset_by_Gender['Gender']=='male']),\n                    len(Salaries_dataset_by_Gender[Salaries_dataset_by_Gender['Gender']=='female'])]\ngender_labels = ['Male', 'Female']\nplt.title('Gender Percentage')\nplt.pie(gender_size_data, labels = gender_labels, autopct='%.0f%%')\nplt.show()","ed9360f5":"Salaries_dataset_by_Gender.head()","885d4863":"print(\"Length of Column: \" +str(len(Salaries_dataset_by_Gender.columns)))\nprint(\"Length of Rows: \" +str(len(Salaries_dataset_by_Gender.index)))","15b18dc4":"Salaries_dataset_by_Gender.groupby(\"Gender\").mean()[\"TotalPay\"]","c9ed8d65":"(85217.581298 \/ 67458.455331)*100","1c16b310":"sns.lineplot(data=Salaries_dataset_by_Gender, x=\"Year\", y=\"TotalPay\", hue=\"Gender\").set_title('TotalPay over Year by Gender (2011-2014)')","ddea92dc":"sns.countplot(y=\"JobTitle\", \n              data=Salaries_dataset_by_Gender, \n              hue=\"Gender\",\n              order=Salaries_dataset_by_Gender.JobTitle.value_counts().iloc[:20].index).set_title('Top 20 JobTitle')","4155bc57":"Salaries_dataset_Male= Salaries_dataset_by_Gender.copy()\nSalaries_dataset_OnlyMale = Salaries_dataset_Male.loc[Salaries_dataset_Male['Gender']=='male']\nSalaries_dataset_Female= Salaries_dataset_by_Gender.copy()\nSalaries_dataset_OnlyFemale = Salaries_dataset_Female.loc[Salaries_dataset_Female['Gender']=='female']","a672f2fa":"fig, axs = plt.subplots(nrows=2)\nsns.countplot(y=\"JobTitle\", \n              data=Salaries_dataset_OnlyMale,\n              order=Salaries_dataset_OnlyMale.JobTitle.value_counts().iloc[:10].index,ax=axs[0]).set_title('Top 10 Male JobTitle')\nsns.countplot(y=\"JobTitle\", \n              data=Salaries_dataset_OnlyFemale,\n              order=Salaries_dataset_OnlyFemale.JobTitle.value_counts().iloc[:10].index, ax=axs[1]).set_title('Top 10 Female JobTitle')\nfig.tight_layout(pad=3.0)","95337489":"ax2 = sns.barplot(data =Salaries_dataset_by_Gender[Salaries_dataset_by_Gender['JobTitle']=='Transit Operator'],\n                  x = \"Gender\",\n                  y = \"TotalPay\")\nax2.set_title('Salaries Difference by Gender for Transit Operator', size=15)\nlabel_graph(ax2)\nplt.show()","ae44d96b":"ax3 = sns.barplot(data =Salaries_dataset_by_Gender[Salaries_dataset_by_Gender['JobTitle']=='Special Nurse'],\n                  x = \"Gender\",\n                  y = \"TotalPay\")\nax3.set_title('Salaries Difference by Gender for Speical Nurse', size=15)\nlabel_graph(ax3)\nplt.show()","6276be32":"Salaries_dataset_by_Gender['JobTitle'].values","32a01572":"len(Salaries_dataset_by_Gender['JobTitle'].values)","35e91dbb":"Male_Salaries = []\nfor i in range(0, len(Salaries_dataset_by_Gender['JobTitle'].values[:3001])-1):\n    Male_Salaries.append(Salaries_dataset_by_Gender[Salaries_dataset_by_Gender['JobTitle']==Salaries_dataset_by_Gender['JobTitle'].values[i]][Salaries_dataset_by_Gender['Gender']=='male']['TotalPay'].mean())","4c610cd4":"Female_Salaries = []\nfor i in range(0, len(Salaries_dataset_by_Gender['JobTitle'].values[:3001])-1):\n    Female_Salaries.append(Salaries_dataset_by_Gender[Salaries_dataset_by_Gender['JobTitle']==Salaries_dataset_by_Gender['JobTitle'].values[i]][Salaries_dataset_by_Gender['Gender']=='female']['TotalPay'].mean())","2d37dac7":"Gender_Salaries_data = {'JobTitle': Salaries_dataset_by_Gender['JobTitle'].values[:3000], \n                       'Male_Salaries':Male_Salaries, \n                       'Female_Salaries':Female_Salaries}\nGender_Salaries = pd.DataFrame(Gender_Salaries_data)\nGender_Salaries","21aee463":"Gender_Salaries_dataset = Gender_Salaries.dropna()","510e3ffc":"Gender_Salaries_dataset","3e8423dc":"Higher_female_salaries =[]\nfor i in range(0, len(Gender_Salaries_dataset)-1):\n    if Gender_Salaries_dataset['Female_Salaries'].values[i] > Gender_Salaries_dataset['Male_Salaries'].values[i]:\n        Higher_female_salaries.append(Gender_Salaries_dataset['JobTitle'].values[i])\nlen(Higher_female_salaries)","85ef5f67":"Higher_female_salaries_Job = []\nfor i in Higher_female_salaries:\n    if i not in Higher_female_salaries_Job:\n        Higher_female_salaries_Job.append(i)\nprint(len(Higher_female_salaries_Job))\nHigher_female_salaries_Job","8e6992ba":"### Total pay over year (2011-2014)","e03a7733":"### Top 20 Job Title","dec88c3c":"### Number of Emloyee over Year (2011-2014)","041c95c0":"### Jobs where women's salaries are higher than men's salaries.","75d1b37b":"### Check null values in the dataset","9fcc33ed":"### Total Pay Benefits Distribution over Year(2011-2014)","bb0d0725":"### Total Pay over Year by Gender (2011-2014)\nAccording to the graph, the average salary of men is 26% higher than that of females. But, this graph doesn't show the difference in salaries for the same job. The salaries range depends on the type of job, and the position of the job. So, We can't be sure there is a wage gap between males and females. ","38bec01b":"In the Gender-guesser library, the result shows the unknown (name not found), andy (androgynous), male, female, mostly_male, or mostly_female. To make it clear, I decided to drop unknown and andy names. And, I put mostly_male into male and put mostly female into the female.","fd41e2b1":"We have the top 3000 salaries difference by gender. In the \"GENERAL MANAGER-METROPOLITAN TRANSIT AUTHORITY\" job, it shows NaNs in the female section because there is no female data of \"GENERAL MANAGER-METROPOLITAN TRANSIT AUTHORITY\" job. To compare the salaries difference, I will just remove NaNs value in the data. ","1145ab2e":"### Top 10 Job Title by Gender\nBased on this graph, men usually do traffic drivers, police officers, firefighters, etc. In addition, women's jobs are nurses, transfer companies, recreation leaders, and patient assistance.","a2e43fb9":"### Salaries Difference by Gender for Speical Nurse\nSo, we know there is a difference in wages between men and women in transfer drivers. Let's check out other jobs with a large proportion of women. Looking at the graph above, which shows the top 10 male and female jobs, we can see that Special Nurse is a job that women usually do.","60ab9b54":"### Salaries Difference by Gender for Transit Operator\nSince the transit operator is the job that both men and women are in the top 10 jobs, let's check the difference in salary.","9097ee61":"### In sf-salaries.csv data, it has 110071 rows of data with 2103 unique task titles. It took too long to test only the top 3,000 data among the 110071 datasets. Of the total 3,000 job datasets (198 unique jobs), there are 444 jobs (50 unique jobs), where women's salaries are higher than men's. So there are about 15% of jobs where women are paid more than men.\n\n### Since I tested only 2.7% of the total dataset, I'm not sure if there's a wage gap between men and women. Although this dataset shows that there is a slight wage gap between men and women, there are also jobs where women are paid higher.\n\n### In order to accurately compare the salaries difference between the male and the female, I think we have to consider job title, levels, year of experience, location, etc. \n","a683d460":"So we know that there is a wage difference between men and women. Is there any job that the female get more salaries than the male?","882730fb":"### Since the volume of NaNs of \"Notes\" and \"Status\" exceeds more than 60-70% of feature size, I decided to drop NaNs in the dataset.","d89ab44b":"### Using gender-guesser library to check who is male or female based on First Name","5d8c13b9":"### Get First Name from Employee Name","26241793":"### Test Top 3000 data from 110071 dataset","9762a86a":"To determine the exact difference in salary between men and women, you need to check the difference in salary between the same position and the same occupation.This above graph shows which occupation has a large proportion of women and which occupation has a large proportion of men."}}