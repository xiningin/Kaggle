{"cell_type":{"1c256fdf":"code","59217121":"code","1d1fa60b":"code","d7f54537":"code","931d8e2f":"markdown","239aa3b3":"markdown","66fb4b90":"markdown","c61c664f":"markdown","05d6cfa3":"markdown"},"source":{"1c256fdf":"%%time\n!apt-get install -y -qq libboost-all-dev","59217121":"%%time\n%%bash\n\ncd \/tmp\nif [ -d \"LightGBM\" ];then rm -r LightGBM; fi;\ngit clone --recursive https:\/\/github.com\/Microsoft\/LightGBM\n\ncd .\/LightGBM\nif [ -d \".\/build\" ];then rm -r build; fi;\nmkdir build\n\ncd build\ncmake -DUSE_GPU=1 -DOpenCL_LIBRARY=\/usr\/local\/cuda\/lib64\/libOpenCL.so -DOpenCL_INCLUDE_DIR=\/usr\/local\/cuda\/include\/ ..\nmake -j$(nproc)","1d1fa60b":"!cd \/tmp\/LightGBM\/python-package\/;python3 setup.py install --precompile\n\n!mkdir -p \/etc\/OpenCL\/vendors && echo \"libnvidia-opencl.so.1\" > \/etc\/OpenCL\/vendors\/nvidia.icd\n# !rm -r LightGBM\n\n# Latest Pandas version\n!pip install -q 'pandas==0.25' --force-reinstall","d7f54537":"import tarfile\n\nwith tarfile.open('.\/LightGBM.tar', 'w') as tar:\n    tar.add('\/tmp\/LightGBM', arcname='LightGBM')\n\n!du -sh .\/*","931d8e2f":"# Pre-compile LightGBM GPU version to save GPU quota\nwhy create this kernel?\nwhen you want use LigthGMB GPU version, as this thread(https:\/\/www.kaggle.com\/kirankunapuli\/ieee-fraud-lightgbm-with-gpu\/comments#LightGBM-GPU-Installation) posted. you have to download and compile LightGBM every time when you started the kernel. comiling is time-wasting operation, so we can compile it well in one kernel and use it directly in other kernels without compiling it again.\nhow to use it:\n* add this kernel's output to your data source;\n* do the following codes in your kernel:\n\n> !rm -r \/opt\/conda\/lib\/python3.6\/site-packages\/lightgbm\n> \n> !apt-get install -y -qq libboost-all-dev\n\n> %%bash\n> \n> cd \/tmp\n> \n> tar -xvf \/kaggle\/input\/compile-lgbm\/LightGBM.tar > \/dev\/null\n\n> !cd \/tmp\/LightGBM\/python-package\/;python3 setup.py install --precompile\n> \n> !mkdir -p \/etc\/OpenCL\/vendors && echo \"libnvidia-opencl.so.1\" > \/etc\/OpenCL\/vendors\/nvidia.icd\n> \n> !pip install -q 'pandas==0.25' --force-reinstall\n\nthere'a another time-wasting step: install libboost-all-dev (in your kernel.). but it seems no way to save time in this step, coz installation alone cost about 40s. if anyone have some idea about this please let me know.\n\nUpvote if you like it, thank you!","239aa3b3":"# install LightGBM (optional here) to test if compiling is OK.","66fb4b90":"# compile LightGBM","c61c664f":"# install libboost, compiling depends on it.","05d6cfa3":"# tar the LightGBM folder as kernel output."}}