{"cell_type":{"92149b88":"code","d2f2d730":"code","8f33d9f2":"code","04e7842d":"code","466bd8ba":"code","a729fc36":"code","19325de5":"code","b17367ec":"code","21eecf46":"code","ca0fcdcc":"code","043dce09":"code","535e6e22":"code","c07006c8":"code","4c779254":"code","2d353d13":"code","5c112767":"code","60978ffd":"code","b6bdb958":"code","0edd1e90":"code","2f818f83":"code","b063006f":"code","353cd7e5":"code","e2f58fd2":"code","0d6a0efb":"code","4ba35122":"markdown","15783f3a":"markdown","5c55a53f":"markdown","dad29039":"markdown","746684a9":"markdown","85935387":"markdown","478fd829":"markdown","27b54741":"markdown","b74627fe":"markdown","e7c73496":"markdown","5e9c646e":"markdown","06f41d7b":"markdown","28334ba1":"markdown","6834376a":"markdown","5823daca":"markdown","f5a5f6f2":"markdown","a9945841":"markdown","9b8daaee":"markdown","ab721950":"markdown","95c97334":"markdown","467d7b2f":"markdown","50f8d4cf":"markdown","4682f19f":"markdown","3b52f0e4":"markdown","b5748542":"markdown","434382c2":"markdown","d82969da":"markdown","30c7d4b8":"markdown"},"source":{"92149b88":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","d2f2d730":"import pandas as pd\nimport numpy as np\nimport gc\nimport plotly.graph_objects as go\nimport riiideducation","8f33d9f2":"%%time\ncols_to_load = ['row_id', 'user_id', 'answered_correctly', 'content_id', 'prior_question_had_explanation', 'prior_question_elapsed_time','content_type_id']\ntrain = pd.read_pickle(\"..\/input\/riiid-train-data-multiple-formats\/riiid_train.pkl.gzip\")[cols_to_load]\ntrain['prior_question_had_explanation'] = train['prior_question_had_explanation'].astype('boolean')","04e7842d":"question = pd.read_csv('..\/input\/riiid-test-answer-prediction\/questions.csv')\nlecture = pd.read_csv('..\/input\/riiid-test-answer-prediction\/lectures.csv')","466bd8ba":"train_small = train.head(10000000)","a729fc36":"train_small.head()","19325de5":"question","b17367ec":"lecture","21eecf46":"keys = question[\"question_id\"]\nvalues = question[\"part\"]\ntoeic_questions_parts = {key:value for key, value in zip(keys, values)}","ca0fcdcc":"keys = lecture[\"lecture_id\"]\nvalues = lecture[\"part\"]\ntoeic_lectures_parts = {key:value for key, value in zip(keys, values)}","043dce09":"print(list(toeic_questions_parts.items())[0:10])\nprint(\"The length is \" + str(len(toeic_questions_parts)))","535e6e22":"print(list(toeic_lectures_parts.items())[0:10])\nprint(\"The length is \" + str(len(toeic_lectures_parts)))","c07006c8":"%%time\n#firstly, associating content_id with question.csv\n#\"content_type_id\" == True \u2192 lecture\n#\"content_type_id\" == False \u2192 question\nparts = []\nfor i,k in zip(train_small[\"content_id\"],train_small[\"content_type_id\"]):\n    #if k != True and i in toeic_questions_parts.keys():\n    if k != True: #question\n        parts.append(toeic_questions_parts[i])\n    elif k == True: #lecture\n        parts.append(0) ","4c779254":"train_small[\"part\"] = parts #making a new feature \"part\"\ntrain_small.head()","2d353d13":"train_small[\"part\"].value_counts()","5c112767":"%%time\n#Next, associate content_id with lecture.csv\nfor index,(i,k) in enumerate(zip(train_small[\"content_id\"],train_small[\"part\"])):\n    if k == 0 and i in toeic_lectures_parts.keys():\n        train_small[\"part\"][index] = toeic_lectures_parts[i]","60978ffd":"train_small","b6bdb958":"train_small[\"part\"].value_counts()","0edd1e90":"parts = [\"Part1\",\"Part2\",\"Part3\",\"Part4\",\"Part5\",\"Part6\",\"Part7\"]\nquestion_number = [755467,1899847,859404,808760,4098861,1070802,506859]\nfig = go.Figure([go.Bar(x=parts, y=question_number)])\nfig.update_layout(title_text='The Number of Questions')\nfig.show()","2f818f83":"correct = [0,0,0,0,0,0,0]\nincorrect = [0,0,0,0,0,0,0]\nfor i,j in zip(train_small[\"answered_correctly\"],train_small[\"part\"]):\n    if j == 1 and i == 1:\n        correct[0] += 1\n    elif j == 1 and i == 0:\n        incorrect[0] += 1\n    elif j == 2 and i == 1:\n        correct[1] += 1\n    elif j == 2 and i == 0:\n        incorrect[1] += 1\n    elif j == 3 and i == 1:\n        correct[2] += 1\n    elif j == 3 and i == 0:\n        incorrect[2] += 1\n    elif j == 4 and i == 1:\n        correct[3] += 1\n    elif j == 4 and i == 0:\n        incorrect[3] += 1\n    elif j == 5 and i == 1:\n        correct[4] += 1\n    elif j == 5 and i == 0:\n        incorrect[4] += 1\n    elif j == 6 and i == 1:\n        correct[5] += 1\n    elif j == 6 and i == 0:\n        incorrect[5] += 1\n    elif j == 7 and i == 1:\n        correct[6] += 1\n    elif j == 7 and i == 0:\n        incorrect[6] += 1\npart_ = 1\nfor i, j in zip(correct,incorrect):\n    print(\"Part\" + str(part_) + \": \" + \" Correct Answer \" + str(i) + \" Uncorrect Answer \" + str(j))\n    part_ += 1","b063006f":"fig = go.Figure([go.Bar(x=parts, y=correct)])\nfig.update_layout(title_text='The Number of Correct Answer')\nfig.show()","353cd7e5":"fig = go.Figure([go.Bar(x=parts, y=incorrect)])\nfig.update_layout(title_text='The Number of Incorrect Answer')\nfig.show()","e2f58fd2":"correct_rates = []\nfor i,j in zip(correct,incorrect):\n    correct_rates.append(100*i\/(i+j))\nfor i,j in enumerate(correct_rates):\n    print(\"Correct Answer Rate of Part\" + str(i+1) + \" is \" + str(j) + \"%\")","0d6a0efb":"fig = go.Figure([go.Bar(x=parts, y=correct_rates)])\nfig.update_layout(title_text='Correct Answer Rate (%)')\nfig.show()","4ba35122":"* Then, we clarify relationships between part of TOEIC and each content_id.","15783f3a":"# Merge train data and part of TOEIC","5c55a53f":"# Part5: Incomplete Sentences","dad29039":"# Part7: Single,Multiple Passeges","746684a9":"# Part3: Conversations","85935387":"> A range of different texts will be printed in the test book. Read the questions, select the best answer of the four choices, and mark your answer on the answer sheet. Some questions may require you to select the best place to insert a sentence within a text. There are multiple questions for each text.","478fd829":"* According to the above, only about 2%(part=0) elements are about lectures.","27b54741":"# Difficulties by TOEIC part","b74627fe":"# Part4: Talks","e7c73496":"> Short talks such as announcements or narrations will be spoken only one time. They will not be printed. Listen to each talk and read the questions printed in the test book (the questions will also be spoken), select the best response for the question, and mark your answer on the answer sheet. Some questions may require responses related to information found in diagrams, etc. printed on the test book as well as what you heard in the talks. There are three questions for each talk.","5e9c646e":"* TOEIC is one of the most popular test of English.\n* Listening part (100 questions): Part1~Part4\n* Reading Part (100 questions): Part5~Part7","06f41d7b":"> Three responses to one question or statement will be spoken only one time. They will not be printed. Select the best response for the question, and mark your answer on the answer sheet.","28334ba1":"* There are much more questions\/lectures about Part5 or Part2!","6834376a":"* According to the above, correct answer rates of 7 parts are in the range of 60% to 74%.","5823daca":"> Select the best answer of the four choices (words, phrases, or a sentence) to complete the text, and mark your answer on the answer sheet. There are four questions for each text.","f5a5f6f2":"# Part1: Photographs\n","a9945841":"# Associating content_id with part of TOEIC","9b8daaee":"* As you can see from above,each part of TOEIC has own characteristics and the skills required to answer correctly are also diffrent by part.\n* That's why I am wondering if part of TOEIC can be used as a feature.\n* In this notebook, we merge train data with part of TOEIC.\n* By doing this,we can easily grasp the relationship between content_id and part.\n* This way may be useless on the entire train data because the size is very large.\n* I am a beginner and strugging with understanding data on this comp.\n* If I make a mistake, please let me know.","ab721950":"# Part6: Text Completion","95c97334":"> Select the best answer of the four choices to complete the sentence, and mark your answer on the answer sheet.","467d7b2f":"# Extracting only a part of entire train","50f8d4cf":"> Four short statements regarding a photograph will be spoken only one time. The statements will not be printed. Of these four statements, select the one that best describes the photograph and mark your answer on the answer sheet.","4682f19f":"# About TOEIC test","3b52f0e4":"# Making dictionaries contain question\/lecture id and part","b5748542":"# Part2: Question-response","434382c2":"# Test Content\n* Following explanations are quoted from [IIBC official website](https:\/\/www.iibc-global.org\/english\/toeic\/test\/lr\/about\/format.html)","d82969da":"* In this competiton, we predict student's performance.\n* Students answer the questions or take lectures about TOEIC test.\n* In this notebook, you can learn about TOEIC test.\n* If you like, feel free to upvote.","30c7d4b8":"> Conversations between two or three people will be spoken only one time. They will not be printed. Listen to each conversation and read the questions printed in the test book (the questions will also be spoken), select the best response for the question, and mark your answer on the answer sheet. Some questions may require responses related to information found in diagrams,etc. printed on the test book as well as what you heard in the conversations. There are three questions for each conversation."}}