{"cell_type":{"30f82231":"code","c4a0d370":"code","c028a09c":"code","c9e99695":"code","058d6428":"code","a81aca6b":"code","29bb8c85":"code","29724a1f":"code","11ffd44c":"code","e214b770":"code","b7d5737f":"code","422e70a2":"code","e2fe7675":"code","b6e17eab":"code","2aba5592":"code","9aa1658b":"code","b5a869af":"code","abe5aa66":"code","fa0a816d":"code","1e98963e":"code","2d32d97f":"code","e49c23a5":"code","f1c6a795":"code","b69cf590":"code","db3b7bef":"code","8e34358e":"code","cacd1ee7":"code","2963f2b0":"code","fdbd38c0":"code","6511f5b7":"code","f124b5e4":"code","c4a9540c":"code","265e02b2":"code","8f55e81e":"code","39cc04fa":"code","57e8dde7":"markdown"},"source":{"30f82231":"#Loading all libs\n# Importing the libraries\nimport sys\nimport os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nplt.style.use('fivethirtyeight')","c4a0d370":"df=pd.read_csv('..\/input\/diabetes.csv')","c028a09c":"df.info()","c9e99695":"df.describe()","058d6428":"#Finding and visualizing the corelation of features\ndf_cr=df.corr()\nplt.figure(figsize=(10,6))\nsns.heatmap(df_cr,annot=True,cbar=False)\nplt.show()","a81aca6b":"df_n2=df[['Pregnancies','Glucose','Insulin','BMI','DiabetesPedigreeFunction','Age','Outcome']]\n#df_n2=pd.DataFrame(df.iloc[:,0:8])","29bb8c85":"#Finding and visualizing the corelation of featuresdf_cr=df.corr()\ndf_corelation=df_n2.corr()","29724a1f":"plt.figure(figsize=(10,6))\nsns.heatmap(df_corelation,annot=True,cbar=False)","11ffd44c":"#Elimanting Outliers using ZScore\nfrom scipy import stats\ndf_new=df_n2[(np.abs(stats.zscore(df)) < 3).all(axis=1)]\n# Comparing the two dataframes\ndf_new.describe()","e214b770":"df_n2.describe()","b7d5737f":"x1=df_new.iloc[:,0:6].values  #Independent features\ny1=df_new.iloc[:,-1].values  #Output variables\n#x1=df.iloc[:,0:6].values  #Independent features\n#y1=df.iloc[:,-1].values  #Output variables\nx1.shape,y1.shape\nplt.boxplot(x1,vert=False,labels=['Pregnancies', 'Glucose','Insulin','BMI', 'DiabetesPedigreeFunction', 'Age'],patch_artist=True)\nplt.show()","422e70a2":"# Importing libraries\nfrom sklearn.cross_validation import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import confusion_matrix,classification_report\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.preprocessing import StandardScaler,MinMaxScaler\nfrom sklearn.svm import SVC\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.decomposition import PCA\nnp.random.seed(101)","e2fe7675":"#Splitting the dataset in train and test\nx_train,x_test,y_train,y_test=train_test_split(x1,y1,test_size=0.30)","b6e17eab":"mms=MinMaxScaler()\nsc=StandardScaler()","2aba5592":"# Standardizing the data\nx_train_mms=mms.fit_transform(x_train)\nx_test_mms=mms.fit_transform(x_test)\nx_train_sc=sc.fit_transform(x_train)\nx_test_sc=sc.fit_transform(x_test)\nplt.boxplot(x_train_mms,vert=False,labels=['Pregnancies', 'Glucose', 'Insulin','BMI', 'DiabetesPedigreeFunction', 'Age'], \n            patch_artist=True)\nplt.show()\nplt.boxplot(x_test_mms,vert=False,labels=['Pregnancies', 'Glucose', 'Insulin','BMI', 'DiabetesPedigreeFunction', 'Age'], \n            patch_artist=True)\nplt.show()\nplt.boxplot(x_train_sc,vert=False,labels=['Pregnancies', 'Glucose', 'Insulin','BMI', 'DiabetesPedigreeFunction', 'Age'], \n            patch_artist=True)\nplt.show()\nplt.boxplot(x_test_sc,vert=False,labels=['Pregnancies', 'Glucose', 'Insulin','BMI', 'DiabetesPedigreeFunction', 'Age'], \n            patch_artist=True)\nplt.show()","9aa1658b":"model_logistic_mms=LogisticRegression(C=10)\nmodel_knn_mms=KNeighborsClassifier(n_neighbors=5)\nmodel_svc_mms= SVC(C=10,kernel='rbf',probability=True)\nmodel_dt_mms=DecisionTreeClassifier()\nmodel_rf_mms=RandomForestClassifier(n_estimators=100)\nmodel_logistic_sc=LogisticRegression(C=10)\nmodel_knn_sc=KNeighborsClassifier(n_neighbors=5)\nmodel_svc_sc= SVC(C=10,kernel='rbf',probability=True)\nmodel_dt_sc=DecisionTreeClassifier()\nmodel_rf_sc=RandomForestClassifier(n_estimators=100)\nmodel_pca=PCA()","b5a869af":"model_logistic_mms.fit(x_train_mms,y_train)\nmodel_knn_mms.fit(x_train_mms,y_train)\nmodel_svc_mms.fit(x_train_mms,y_train)\nmodel_dt_mms.fit(x_train_mms,y_train)\nmodel_rf_mms.fit(x_train_mms,y_train)","abe5aa66":"model_logistic_sc.fit(x_train_sc,y_train)\nmodel_knn_sc.fit(x_train_sc,y_train)\nmodel_svc_sc.fit(x_train_sc,y_train)\nmodel_dt_sc.fit(x_train_sc,y_train)\nmodel_rf_sc.fit(x_train_sc,y_train)\nmodel_pca.fit(x_train_sc)","fa0a816d":"variance=model_pca.explained_variance_","1e98963e":"prob_score=model_pca.explained_variance_ratio_","2d32d97f":"x_pca=model_pca.fit_transform(x_train_sc)","e49c23a5":"x_pca.shape","f1c6a795":"plt.bar(range(0,6),prob_score)","b69cf590":"prob_score","db3b7bef":"#Cumulutative plot\nplt.plot(np.cumsum(prob_score))    \nplt.show()","8e34358e":"pca_1=PCA(0.5)\npca_1.fit(x_train_sc)\nnum_com=pca_1.n_components_\nnum_com","cacd1ee7":"x_train_pca=pca_1.fit_transform(x_train_sc)\nx_test_pca=pca_1.fit_transform(x_test_sc)","2963f2b0":"model_pca_log=LogisticRegression(C=10)\nmodel_pca_log.fit(x_train_pca,y_train)","fdbd38c0":"y_pred_log=model_logistic_mms.predict(x_test_mms)\ny_pred_knn=model_knn_mms.predict(x_test_mms)\ny_pred_svc=model_svc_mms.predict(x_test_mms)\ny_pred_dt=model_dt_mms.predict(x_test_mms)\ny_pred_rf=model_rf_mms.predict(x_test_mms)\ny_pred_pca_log=model_pca_log.predict(x_test_pca)","6511f5b7":"y_pred_log_sc=model_logistic_sc.predict(x_test_sc)\ny_pred_knn_sc=model_knn_sc.predict(x_test_sc)\ny_pred_svc_sc=model_svc_sc.predict(x_test_sc)\ny_pred_dt_sc=model_dt_sc.predict(x_test_sc)\ny_pred_rf_sc=model_rf_sc.predict(x_test_sc)","f124b5e4":"cm_log=confusion_matrix(y_test,y_pred_log)\ncr_log=classification_report(y_test,y_pred_log)\ncm_knn=confusion_matrix(y_test,y_pred_knn)\ncr_knn=classification_report(y_test,y_pred_knn)\ncm_svc=confusion_matrix(y_test,y_pred_svc)\ncr_svc=classification_report(y_test,y_pred_svc)\ncm_dt=confusion_matrix(y_test,y_pred_dt)\ncr_dt=classification_report(y_test,y_pred_dt)\ncm_rf=confusion_matrix(y_test,y_pred_rf)\ncr_rf=classification_report(y_test,y_pred_rf)\ncm_pca=confusion_matrix(y_test,y_pred_pca_log)\ncr_pca=classification_report(y_test,y_pred_pca_log)","c4a9540c":"cm_log_sc=confusion_matrix(y_test,y_pred_log_sc)\ncr_log_sc=classification_report(y_test,y_pred_log_sc)\ncm_knn_sc=confusion_matrix(y_test,y_pred_knn_sc)\ncr_knn_sc=classification_report(y_test,y_pred_knn_sc)\ncm_svc_sc=confusion_matrix(y_test,y_pred_svc_sc)\ncr_svc_sc=classification_report(y_test,y_pred_svc_sc)\ncm_dt_sc=confusion_matrix(y_test,y_pred_dt_sc)\ncr_dt_sc=classification_report(y_test,y_pred_dt_sc)\ncm_rf_sc=confusion_matrix(y_test,y_pred_rf_sc)\ncr_rf_sc=classification_report(y_test,y_pred_rf_sc)","265e02b2":"print('=====Log Reg========')\nplt.figure(figsize=(8,4))\nsns.heatmap(cm_log,annot=True,cbar=False)\nplt.show()\nprint('=====KNN========')\nplt.figure(figsize=(8,4))\nsns.heatmap(cm_knn,annot=True,cbar=False)\nplt.show()\nprint('=====SVC========')\nplt.figure(figsize=(8,4))\nsns.heatmap(cm_svc,annot=True,cbar=False)\nplt.show()\nprint('=====Discreet Tree Class========')\nplt.figure(figsize=(8,4))\nsns.heatmap(cm_dt,annot=True,cbar=False)\nplt.show()\nprint('=====Random Forest========')\nplt.figure(figsize=(8,4))\nsns.heatmap(cm_rf,annot=True,cbar=False)\nplt.show()\nprint('=====PCA LOG========')\nplt.figure(figsize=(8,4))\nsns.heatmap(cm_pca,annot=True,cbar=False)\nplt.show()","8f55e81e":"print('=====cr_log========')\nprint(cr_log)\nprint('=====cr_knn=========')\nprint(cr_knn)\nprint('=====cr_svc========')\nprint(cr_svc)\nprint('=====cr_dt=========')\nprint(cr_dt)\nprint('=====cr_rf========')\nprint(cr_rf)\nprint('=====cr_pca_log========')\nprint(cr_pca)","39cc04fa":"print('=====cr_log========')\nprint(cr_log_sc)\nprint('=====cr_knn=========')\nprint(cr_knn_sc)\nprint('=====cr_svc========')\nprint(cr_svc_sc)\nprint('=====cr_dt=========')\nprint(cr_dt_sc)\nprint('=====cr_rf========')\nprint(cr_rf_sc)","57e8dde7":"Pima Diabetes Analysis"}}