{"cell_type":{"f5a3f668":"code","1a2a25ec":"code","744ef750":"code","f871895f":"code","18a0b275":"code","78314f6a":"code","5ff690be":"code","8128e33c":"code","105dc46d":"code","49a56687":"code","1b570e3f":"code","e143c680":"code","85115460":"code","f556abb3":"code","460f9a86":"code","ee22071e":"code","18afbd81":"markdown","b2a48b43":"markdown","3478e609":"markdown","e5670c58":"markdown","0175b7fa":"markdown","50c14c0d":"markdown","fcab1a10":"markdown","381c00c2":"markdown","c4a267c2":"markdown","9c55eeca":"markdown","c6299524":"markdown","d6f451d6":"markdown","6c99bda3":"markdown","690af62d":"markdown","563fda9c":"markdown","dd244c70":"markdown","71a02da6":"markdown","55244e21":"markdown","40f7f790":"markdown","85e8a4cc":"markdown","bf96970a":"markdown","77bfc5a9":"markdown","6cac2758":"markdown"},"source":{"f5a3f668":"#importing libraries and dataset\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_theme(style=\"whitegrid\")\nimport warnings\nwarnings.filterwarnings(\"ignore\")\ndf = pd.read_csv('..\/input\/placecom-challenge-btds\/train_data.csv')","1a2a25ec":"df[\"previous_year_rating\"] = df[\"previous_year_rating\"].fillna(0)\ndf['Employee_type'] = df['previous_year_rating'].apply(lambda x: 'New_employee' if x ==0 else 'Senior')\ndf[\"education\"] = df[\"education\"].ffill(axis = 0)\ndf[\"education\"] = df[\"education\"].bfill(axis = 0)","744ef750":"df[\"join_age\"] = df[\"age\"]-df[\"length_of_service\"]","f871895f":"def age_bin(row):\n    if row['age'] >= 20 and row['age'] <= 30:\n        return '20-30'\n    elif row['age']  >= 31 and row['age'] <= 40:\n        return '31-40'\n    elif row['age'] >= 41 and row['age'] <= 50:\n        return '41-50'\n    elif row['age'] >= 51 and row['age'] <= 60:\n        return '51-60'\n    \ndf['age_cat'] = df.apply(lambda row: age_bin(row), axis=1)","18a0b275":"df.head()","78314f6a":"categorical = [\"education\",\"gender\",\"recruitment_channel\",\"previous_year_rating\"]\n\nfig, ax = plt.subplots(1, 4, figsize=(20, 7))\nfor variable, subplot in zip(categorical, ax.flatten()):\n    sns.countplot(df[variable], ax=subplot)\n    for label in subplot.get_xticklabels():\n        label.set_rotation(90)","5ff690be":"fig_dims = (10, 5)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.countplot(y =df.department,order=df['department'].value_counts().index).set_title(\"Department Count\")\nax.set(xlabel='Employee Count', ylabel='Department ')","8128e33c":"\nfiltered = df.loc[(df.Employee_type == \"New_employee\")]\nfig_dims = (10, 5)\nsns.displot(data=filtered, x=\"age\", kde=\"true\")","105dc46d":"fig_dims = (15, 10)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.barplot(x=df[\"department\"],y=df[\"is_promoted\"]).set_title(\"Department wise Promotions\")\nax.set(xlabel='Department', ylabel='Chance of Promotion')","49a56687":"fig_dims = (10, 5)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.barplot(x=df[\"recruitment_channel\"],y=df[\"is_promoted\"]).set_title(\"Recruitment channel wise Promotions\")\nax.set(xlabel='Recruitment Channel', ylabel='Chance of Promotion')","1b570e3f":"fig_dims = (10, 5)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.barplot(x=df[\"education\"],y=df[\"is_promoted\"]).set_title(\"Education wise Promotions\")\nax.set(xlabel='Education Level', ylabel='Chances of Promotion')","e143c680":"fig_dims = (35, 10)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.barplot(x=df[\"region\"],y=df[\"is_promoted\"]).set_title(\"Region wise Promotions\")\nax.set(xlabel='Region', ylabel='Chances of Promotion')","85115460":"categorical = [\"gender\",\"previous_year_rating\",\"awards_won?\",\"Employee_type\"]\nfig, ax = plt.subplots(1, 4, figsize=(20,7))\nfor variable, subplot in zip(categorical, ax.flatten()):\n    sns.barplot(x = df[variable], y= df[\"is_promoted\"], ax=subplot)\n    for label in subplot.get_xticklabels():\n        label.set_rotation(90)","f556abb3":"df.no_of_trainings.value_counts()","460f9a86":"fig_dims = (15, 10)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.boxplot(x='department',y='avg_training_score',data=df).set_title(\"Department wise Training Scores\")\nax.set(xlabel='Department', ylabel='Average Training Score')","ee22071e":"fig_dims = (10, 5)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.barplot(data=df, x=\"no_of_trainings\", y = \"is_promoted\", ci=None).set_title(\"No. of trainings vs chances of getting promoted\")\nax.set(xlabel='Number of Trainings', ylabel='Chances of Promotion')","18afbd81":"A very general and obvious trend is seen in these factors: \n* Gender plays very little role in terms of promotion, however females do tend to have a slight upper hand which could be due less competition between female employees due to their smaller number.\n* Your previous year rating is of high importance if you wish to be promoted\n* Having an award puts you very much ahead of the competition.\n* Interesting enough, It doesnt matter if you are a Fresher or Senior, your chances of getting promoted are almost equal","b2a48b43":"# What Really gets you a Promotion?\nNow starts the interesting part, lets find out what really helps you get a promotion, which factors affect the most and which do not matter as much as they seem.","3478e609":"**Region 4** and **Region 17** employees tend to have a much higher chance of promotion than for example a **Region 9** employee","e5670c58":"**Other Factors**","0175b7fa":"Interesting enough we can see that the education plays little to no role in choosing which employee to promote, although having a Masters Degree puts u slightly above the competition","50c14c0d":"# Conclusion\n\nWe did spot many interesting and many obvious insights from this data, we got to know a few things about the trainings at the firm.\n\nFinally, if I may, in very simple terms:\n\nA **referred** employee in the **tech department** from **Region 17** with a **good previous year rating** and an **award** is most likely to be promoted. Being **female** and a **Master's degree** may put them slightly above the rest","fcab1a10":"General Observations Seen:\n* Sales and Marketing is the department with the Highest number of employees (32%) while Legal and R&D are on the lower end in terms of employee strength.\n* Majority of Employees have Finished their Bachleor's.\n* There are twice as many males as females.\n* Very few employees are recruited based on referral .\n* Ratings are positively skewed.","381c00c2":"I created a new field that calculates the age at which the employee was hired this makes more sense since an older employee obviously has more training sessions and length of service.","c4a267c2":"We see a very interesting result here too since a very few employees were recruited based on referrals yet most of them were chosen for promotion.\nA theory could be that, since referrals and promotions both go through the HR, its logical that a person referred would also be chosen to be promoted.","9c55eeca":"# Countplots\nBefore starting any proper analysis, lets try to figure out the counts of various categorical variables present in the database. This will help us understand the data from a bird-eyes perspective, as in how many records are present per category.","c6299524":"Department wise, **Analytics** and **R&D** department employees have the highest training scores, while **HR** and **Sales & Marketing** are on the lower end.","d6f451d6":"Surprisingly, the more number of trainings an employee goes through the lesser his\/her chances are to be promoted, it is observed that no employees with greater than 6 training sessions has been promoted.","6c99bda3":"This function helps convert the age coloumn into a categorical variable for better vizualization.","690af62d":"**Or your job region?**","563fda9c":"**Is it your Department?**","dd244c70":"# Introduction\nPicture this, you work at a large firm in the HR department and your job is to choose which employees are eligible for a promotion this year. You must look at a wide range of factors and also compare the employees amongnst one another before making a final decision. Or even as an employee, you wonder how exactly would you climb the corporate ladder and rise over the competition.\n\nHere, I have tried to vizualize past employee data to answer these exact questions by the means of Data Vizualization.","71a02da6":"**Employee trainings**\n\nOne factor we haven't yet considered is the Trainings the employees go through, lets see how these affect your chances of getting promoted","55244e21":"\n**Is it your Recruitment channel?**\n","40f7f790":"As we can see, very clearly even though R&D and Legal were least populated departments, the highest density of promotion were given to the **Technology Department** followed by **Procurement**. \nWhile Legal has least number of promotions, which is surprising since it isn't a very competitive department in terms of employee number.","85e8a4cc":"# Filling NA values and Creating New Fields","bf96970a":"**When Do Most Employees Join?**","77bfc5a9":"As observed, the previous_year_rating as well as the education coloumns had NA values. Upon further looking at the dataset, I realised that only employees with zero years of services have no previous year ratings. This does make sense since you cant rate previous year performance of a New employee.\nTo tackle this:\n* I added 0s in place of the NA values \n* And created a new coloumn, Employee_type which helps distinguish if an employee is New or a Senior\nNA values in Education coloumn were filled with the help of forward and backward fill functions.","6cac2758":"**Or its your Education?**"}}