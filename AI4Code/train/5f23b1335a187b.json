{"cell_type":{"2419c073":"code","31e97014":"code","0c7497c5":"code","fe291df3":"code","701ea3a1":"code","d19489f1":"code","4b9e016c":"code","7d9b3971":"code","db534402":"code","a8fbcd20":"code","ddc7af86":"code","439324ed":"code","f71cd912":"code","fc24eaf9":"code","ef293274":"code","ca939598":"code","20ca7663":"code","f584699c":"code","a0e8b75a":"code","70e49531":"code","80dd95e6":"code","f6f90755":"code","8a3bfa7e":"code","723e506c":"code","febfbf08":"code","ded109fc":"code","d468ba07":"code","e93aa7f3":"code","3291ca90":"code","08d342ff":"code","15aa12fe":"code","1dd33e62":"code","bc077af3":"code","700e604c":"code","7f7ca051":"code","5ec95cdf":"code","adf682e9":"code","b486e39a":"code","013cf526":"code","08829732":"code","a4ae5ee1":"code","28f95998":"code","32cc465a":"code","1c1bd39b":"code","4632ab19":"code","539e465f":"code","e4871bb1":"code","70079a47":"code","a59bf5c0":"code","8089a497":"code","5406ac44":"code","32f4415c":"code","6d2aa157":"code","4bb890c4":"code","1bd34b70":"markdown","44723d32":"markdown","09bf9552":"markdown","6322af0d":"markdown","5df73675":"markdown","e13e3f47":"markdown","fe8565ed":"markdown","a0b4b719":"markdown","bbc8a43c":"markdown","1687a403":"markdown","ea2dea67":"markdown","ee0390d0":"markdown","8fb82624":"markdown","af7d4ecf":"markdown","851d4835":"markdown","f9fa3971":"markdown","a455952b":"markdown","4128b3ad":"markdown","1fb25eaf":"markdown","ffcc2b13":"markdown","bf873e7d":"markdown","33ded9b6":"markdown","27266379":"markdown","251fba78":"markdown","e24b39d4":"markdown","b1243911":"markdown","666848ac":"markdown","99229d4c":"markdown","8fd0a489":"markdown","9382fd56":"markdown","1e8cb641":"markdown","d9a70525":"markdown","79ab0e12":"markdown"},"source":{"2419c073":"#### This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport missingno as msno\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots\n\nfrom subprocess import check_output\nfrom wordcloud import WordCloud, STOPWORDS\n\n!conda install -c conda-forge geopy --yes \nfrom geopy.geocoders import Nominatim # module to convert an address into latitude and longitude values\n\n# libraries for displaying images\nfrom IPython.display import Image \nfrom IPython.core.display import HTML \n    \n# tranforming json file into a pandas dataframe library\nfrom pandas.io.json import json_normalize\n\n!conda install -c conda-forge folium=0.5.0 --yes\nimport folium # plotting library\n\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","31e97014":"df = pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\ndf.head()","0c7497c5":"df.columns","fe291df3":"df.info()","701ea3a1":"df.describe()","d19489f1":"print(df['room_type'].value_counts())\nprint('')\nprint(df['neighbourhood_group'].value_counts())\nprint('')\nprint(df['neighbourhood'].value_counts())\n\n    ","4b9e016c":"missing = df.notnull()\nfor col in missing.columns:\n    print(col)\n    print(missing[col].value_counts())\n    print('')","7d9b3971":"for i in df['number_of_reviews']: \n    if i == 0:\n        df['reviews_per_month'].fillna(0, inplace=True)","db534402":"fig = px.box(df,x=\"price\")\nfig.update_layout(width=1000, height=300)\nfig.show()","a8fbcd20":"fig = px.box(df,x=\"minimum_nights\")\nfig.update_layout(width=1000, height=300)\nfig.show()","ddc7af86":"fig = px.box(df,x=\"number_of_reviews\")\nfig.update_layout(width=1000, height=300)\nfig.show()","439324ed":"fig = px.box(df,x=\"reviews_per_month\")\nfig.update_layout(width=1000, height=300)\nfig.show()","f71cd912":"df.rename(columns={'neighbourhood_group':'borough',\n                   'neighbourhood':'neighborhood'}, inplace=True)","fc24eaf9":"df.drop(df[df['price'] >= 400].index, inplace = True) \ndf.drop(df[df['minimum_nights'] >= 12].index, inplace = True) \ndf.drop(df[df['number_of_reviews'] >= 69].index, inplace = True) \ndf.drop(df[df['reviews_per_month'] >= 4.64].index, inplace = True) ","ef293274":"print('Min Price: ', df['price'].min(), '| Max Price: ', df['price'].max())","ca939598":"# CREATE A NEW COLUMN BY CATEGORIZING THE PRICES INTO FOUR DISTINCT GROUPS\n\ndf['price_range'] = np.nan\n\nfor col in [df]:\n    col.loc[(col['price'] >= 0) & (col['price'] <= 99), 'price_range'] = '0 to 99'\n    col.loc[(col['price'] >= 100) & (col['price'] <= 199), 'price_range'] = '100 to 199'\n    col.loc[(col['price'] >= 200) & (col['price'] <= 299), 'price_range'] = '200 to 299'\n    col.loc[(col['price'] >= 300) & (col['price'] <= 399), 'price_range'] = '300 to 399'\n\n# REORDER COLUMNS\ncols = ['id', 'name', 'host_id', 'host_name', 'borough', 'neighborhood',\n       'latitude', 'longitude', 'room_type', 'price', 'price_range',\n       'minimum_nights', 'number_of_reviews', 'last_review', 'reviews_per_month',\n        'calculated_host_listings_count', 'availability_365']  \ndf = df[cols]","20ca7663":"df.shape","f584699c":"plt.figure(figsize=(10,10))\nsns.heatmap(df.corr(), cbar = True,  square = True, annot=True, cmap= 'YlGnBu')\nplt.title('VARIABLE CORRELATION MATRIX')","a0e8b75a":"\nplt.figure(figsize=(16, 4))\nsns.set_style(\"darkgrid\")\nax = sns.boxplot(x=\"price\", data=df, showmeans=True, palette='rocket')\nplt.title('PRICE')\nplt.show()","70e49531":"#CREATE A DATAFRAME WITH A COUNT OF EACH BOROUGH\nboroughs = df.groupby(['borough'])[['id']].count()\nboroughs.reset_index(inplace=True)\nboroughs.rename(columns={'id':'count'}, inplace=True)\nboroughs.sort_values(by='count', ascending=False, inplace=True)\n\n#CREATE BARCHART AND PIE CHART FOR BOUROUGH VALUES\nplt.style.use('fivethirtyeight')\n\nplt.figure(figsize=(15,6))\n\nplt.subplot(1,2,1)\nsns.barplot(x='borough',y='count', data=boroughs, palette='viridis')\n\n\nplt.subplot(1,2,2)\nplt.pie(boroughs['count'], explode=[0.05,0.05,0,0.05,0.25], labels=boroughs['borough'], shadow=True, startangle=90)\n\nplt.show()","80dd95e6":"room_type = df.groupby(['borough', 'room_type'])[['id']].count()\nroom_type.reset_index(inplace=True)\nroom_type.rename(columns={'id':'count'}, inplace=True)\nroom_type = room_type.sort_values(by='count', ascending=False)[:10]\n\nroom_totals = room_type.groupby(['room_type'])[['count']].sum()\n\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(15,6))\n\nplt.subplot(1,2,1)\nsns.barplot(x='count',y='room_type', hue='borough', data=room_type, palette='rocket')\nplt.legend(loc='lower right')\nplt.title('ROOM TYPE COUNT')\n\nplt.subplot(1,2,2)\nplt.pie(room_totals['count'], explode=[0.05,0.05,0], labels=room_totals.index, shadow=True, startangle=90)\n\nplt.title('ROOM TYPE PERCENTAGE')\nplt.show()","f6f90755":"host_most = df.groupby(['host_name'])[['host_id']].count()\nhost_most.reset_index(inplace=True)\nhost_most.rename(columns={'host_id':'count'}, inplace=True)\nhost_most = host_most.sort_values(by=['count'], ascending=False)[:10]\n\nplt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='count',y='host_name', data=host_most, palette='YlGnBu_r')\nfor i, v in enumerate(host_most['count']):\n    ax.text(v + 3, i + .25, str(v), color='blue', fontsize=12, fontweight='bold')\nplt.title('10 hosts with most listings')\nplt.show()","8a3bfa7e":"sns.set_style(\"darkgrid\")\nplt.figure(figsize=(15,6))\n\nplt.subplot(1,2,1)\nax = sns.boxplot(x=\"price\", y=\"borough\", data=df, showmeans=True, palette='rocket')\nplt.title('PRICE x BOROUGH')\n\nplt.subplot(1,2,2)\nsns.distplot(df[df.borough=='Manhattan'].price,color='maroon',hist=False,label='Manhattan')\nsns.distplot(df[df.borough=='Brooklyn'].price,color='black',hist=False,label='Brooklyn')\nsns.distplot(df[df.borough=='Queens'].price,color='green',hist=False,label='Queens')\nsns.distplot(df[df.borough=='Staten Island'].price,color='blue',hist=False,label='Staten Island')\nsns.distplot(df[df.borough=='Bronx'].price,color='orange',hist=False,label='Bronx')\nplt.title('BOROUGH-WISE PRICE DISTRIBUTION ')\nplt.xlim(0,500)\n\nplt.show()","723e506c":"plt.style.use('fivethirtyeight')\nfig,ax=plt.subplots(1,2,figsize=(15,8))\n\nclr = (\"mediumorchid\", \"forestgreen\", \"gold\", \"red\", \"purple\",'cadetblue','hotpink','orange','darksalmon','brown')\ndf.neighborhood.value_counts().sort_values(ascending=False)[:10].sort_values().plot(kind='barh',color=clr,ax=ax[0])\nax[0].set_title(\"TOP 10 MOST LISTED NEIGHBORHOODS\",size=20)\nax[0].set_xlabel('rooms',size=18)\n\n\nneigh_count=df['neighborhood'].value_counts()\nneigh_names=list(df['neighborhood'].value_counts().index)[:10]\ncounts=list(neigh_count[:10])\ncounts.append(neigh_count.agg(sum)-neigh_count[:10].agg('sum'))\nneigh_names.append('Other')\n\ntype_dict=pd.DataFrame({\"group\":neigh_names,\"counts\":counts})\nclr1=('brown','indianred','orange','darkcyan','cadetblue','purple','red','gold','forestgreen','blue','lightskyblue')\nqx = type_dict.plot(kind='pie', y='counts', labels=neigh_names,colors=clr1,autopct='%1.1f%%', pctdistance=0.9, radius=1.2,ax=ax[1])\n\nplt.legend(loc=0, bbox_to_anchor=(1.15,0.4)) \nplt.subplots_adjust(wspace =0.5, hspace =0)\nplt.ioff()\nplt.ylabel('')\npass","febfbf08":"borough_neigh = df.groupby(['borough','neighborhood'])[['id']].count()\nborough_neigh.reset_index(inplace=True)\nborough_neigh.rename(columns={'id':'count'}, inplace=True)\nborough_neigh = borough_neigh.sort_values(by=['count'], ascending=False)\n\ntop_10_man = borough_neigh.loc[borough_neigh['borough'] == 'Manhattan'].sort_values(by='count', ascending=False)[:10]\ntop_10_bklyn = borough_neigh.loc[borough_neigh['borough'] == 'Brooklyn'].sort_values(by='count', ascending=False)[:10]\ntop_10_queens = borough_neigh.loc[borough_neigh['borough'] == 'Queens'].sort_values(by='count', ascending=False)[:10]\ntop_10_bronx = borough_neigh.loc[borough_neigh['borough'] == 'Bronx'].sort_values(by='count', ascending=False)[:10]\ntop_10_si = borough_neigh.loc[borough_neigh['borough'] == 'Staten Island'].sort_values(by='count', ascending=False)[:10]\n","ded109fc":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='count',y='neighborhood', hue='borough', data=top_10_man, palette='rocket')\nplt.title('TOP NEIGHBORHOODS IN MANHATTAN')\nplt.show()","d468ba07":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='count',y='neighborhood', hue='borough', data=top_10_bklyn, palette='mako')\nplt.title('TOP NEIGHBORHOODS IN BROOKLYN')\nplt.show()","e93aa7f3":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='count',y='neighborhood', hue='borough', data=top_10_queens, palette='copper')\nplt.title('TOP NEIGHBORHOODS IN QUEENS')\nplt.show()","3291ca90":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='count',y='neighborhood', hue='borough', data=top_10_si, palette='prism')\nplt.title('TOP NEIGHBORHOODS IN STATEN ISLAND')\nplt.show()","08d342ff":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='count',y='neighborhood', hue='borough', data=top_10_bronx, palette='magma')\nplt.title('TOP NEIGHBORHOODS IN BRONX')\nplt.show()","15aa12fe":"neigh_price = df.groupby(['borough','neighborhood'])[['price']].mean()\nneigh_price.reset_index(inplace=True)\nneigh_price.rename(columns={'price':'avg_price'}, inplace=True)\nneigh_price = neigh_price.sort_values(by=['avg_price'], ascending=False)\nneigh_price = neigh_price.round(2)\n\nprice_man = neigh_price.loc[neigh_price['borough'] == 'Manhattan'].sort_values(by='avg_price', ascending=False)[:10]\nprice_bklyn = neigh_price.loc[neigh_price['borough'] == 'Brooklyn'].sort_values(by='avg_price', ascending=False)[:10]\nprice_queens = neigh_price.loc[neigh_price['borough'] == 'Queens'].sort_values(by='avg_price', ascending=False)[:10]\nprice_bronx = neigh_price.loc[neigh_price['borough'] == 'Bronx'].sort_values(by='avg_price', ascending=False)[:10]\nprice_si = neigh_price.loc[neigh_price['borough'] == 'Staten Island'].sort_values(by='avg_price', ascending=False)[:10]\n","1dd33e62":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='avg_price',y='neighborhood', data=price_man, palette='rocket')\nplt.title('TOP NEIGHBORHOODS IN MANHATTAN BY AVG PRICE')\nfor i, v in enumerate(price_man['avg_price']):\n    ax.text(v + 3, i + .25, ('$'+str(v)), color='blue', fontsize=12, fontweight='bold')\nplt.show()","bc077af3":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='avg_price',y='neighborhood', data=price_bklyn, palette='mako')\nplt.title('TOP NEIGHBORHOODS IN BROOKLYN BY AVG PRICE')\nfor i, v in enumerate(price_bklyn['avg_price']):\n    ax.text(v+3, i, ('$'+str(v)), color='blue', va='center', fontsize=12, fontweight='bold')\nplt.show()","700e604c":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='avg_price',y='neighborhood', data=price_queens, palette='copper')\nplt.title('TOP NEIGHBORHOODS IN QUEENS BY AVG PRICE')\nfor i, v in enumerate(price_queens['avg_price']):\n    ax.text(v+3, i, ('$'+str(v)), color='blue', va='center', fontsize=12, fontweight='bold')\nplt.show()","7f7ca051":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='avg_price',y='neighborhood', data=price_si, palette='prism')\nplt.title('TOP NEIGHBORHOODS IN STATEN ISLAND BY AVG PRICE')\nfor i, v in enumerate(price_si['avg_price']):\n    ax.text(v+3, i, ('$'+str(v)), color='blue', va='center', fontsize=12, fontweight='bold')\nplt.show()","5ec95cdf":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='avg_price',y='neighborhood', data=price_bronx, palette='magma')\nplt.title('TOP NEIGHBORHOODS IN BRONX BY AVG PRICE')\nfor i, v in enumerate(price_bronx['avg_price']):\n    ax.text(v+3, i, ('$'+str(v)), color='blue', va='center', fontsize=12, fontweight='bold')\nplt.show()","adf682e9":"room_price = df.groupby(['borough', 'room_type'])[['price']].mean()\nroom_price.reset_index(inplace=True)\nroom_price.rename(columns={'price':'avg_price'}, inplace=True)\nroom_price = room_price.sort_values(by=['avg_price'], ascending=False)\nroom_price = room_price.round(2)","b486e39a":"plt.figure(figsize=(12, 8))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x='avg_price',y='room_type', hue='borough', data=room_price, palette='viridis')\nplt.title('AVG PRICE OF ROOM TYPE x BOROUGH')\nplt.show()","013cf526":"plt.figure(figsize=(8, 5))\nsns.set_style(\"darkgrid\")\nsns.scatterplot(data=df, x=\"minimum_nights\", y=\"price\")\nplt.title('PRICE x MINIMUM NIGHTS')\nplt.show()","08829732":"plt.figure(figsize=(8, 5))\nsns.set_style(\"darkgrid\")\nsns.scatterplot(data=df, x=\"number_of_reviews\", y=\"price\")\nplt.title('PRICE x NUMBER OF REVIEWS')\nplt.show()","a4ae5ee1":"plt.figure(figsize=(8, 5))\nsns.set_style(\"darkgrid\")\nsns.scatterplot(data=df, x=\"reviews_per_month\", y=\"price\")\nplt.title('PRICE x REVIEWS PER MONTH')\nplt.show()","28f95998":"name_price0 = df[['name','price_range']].loc[df['price_range'] == '0 to 99']\nname_price1 = df[['name','price_range']].loc[df['price_range'] == '100 to 199']\nname_price2 = df[['name','price_range']].loc[df['price_range'] == '200 to 299']\nname_price3 = df[['name','price_range']].loc[df['price_range'] == '300 to 399']","32cc465a":"#let's comeback now to the 'name' column as it will require litte bit more coding and continue to analyze it!\n\n#initializing empty list where we are going to put our name strings\nnames0 = []\nnames1 = []\nnames2 = []\nnames3 = []\n\n#getting name strings from the column and appending it to the list\nfor name in name_price0.name:\n    names0.append(name)\n    \nfor name in name_price1.name:\n    names1.append(name)\n\nfor name in name_price2.name:\n    names2.append(name)\n\nfor name in name_price3.name:\n    names3.append(name)\n    \n#setting a function that will split those name strings into separate words   \ndef split_name(name):\n    spl=str(name).split()\n    return spl\n\n#initializing empty list where we are going to have words counted\nword_count0=[]\nword_count1=[]\nword_count2=[]\nword_count3=[]\n\n#getting name string from our list and using split function, later appending to list above\nfor x in names0:\n    for word in split_name(x):\n        word=word.lower()\n        if word not in ['in','a','of','and','the','with','to','&','for','from','-']: # remove inconsequential words\n            word_count0.append(word)\n            \nfor x in names1:\n    for word in split_name(x):\n        word=word.lower()\n        if word not in ['in','a','of','and','the','with','to','&','for','from','-']: # remove inconsequential words\n            word_count1.append(word)\n            \nfor x in names2:\n    for word in split_name(x):\n        word=word.lower()\n        if word not in ['in','a','of','and','the','with','to','&','for','from','-']: # remove inconsequential words\n            word_count2.append(word)\n            \nfor x in names3:\n    for word in split_name(x):\n        word=word.lower()\n        if word not in ['in','a','of','and','the','with','to','&','for','from','-']: # remove inconsequential words\n            word_count3.append(word)","1c1bd39b":"from collections import Counter\n#let's see top 25 used words by host to name their listing\ntop_25_w0=Counter(word_count0).most_common()\ntop_25_w0=top_25_w0[0:25]\ndf_top25_w0=pd.DataFrame(top_25_w0)\ndf_top25_w0.rename(columns={0:'words', 1:'count'}, inplace=True)\n\ntop_25_w1=Counter(word_count1).most_common()\ntop_25_w1=top_25_w1[0:25]\ndf_top25_w1=pd.DataFrame(top_25_w1)\ndf_top25_w1.rename(columns={0:'words', 1:'count'}, inplace=True)\n\ntop_25_w2=Counter(word_count2).most_common()\ntop_25_w2=top_25_w2[0:25]\ndf_top25_w2=pd.DataFrame(top_25_w2)\ndf_top25_w2.rename(columns={0:'words', 1:'count'}, inplace=True)\n\ntop_25_w3=Counter(word_count3).most_common()\ntop_25_w3=top_25_w3[0:25]\ndf_top25_w3=pd.DataFrame(top_25_w3)\ndf_top25_w3.rename(columns={0:'words', 1:'count'}, inplace=True)","4632ab19":"plt.rcParams['figure.figsize']=(12,12)    #(6.0,4.0)\nplt.rcParams['font.size']=12                #10 \nplt.rcParams['savefig.dpi']=100             #72 \nplt.rcParams['figure.subplot.bottom']=.1 \n\nstopwords = set(STOPWORDS)\n# stop_words = [\"new york\"] + list(STOPWORDS)\n\nwordcloud0 = WordCloud(background_color='white',\n                       stopwords=stopwords,\n                       max_words=200,\n                       max_font_size=40, \n                       random_state=42).generate(str(name_price0['name']))\n\nplt.style.use('fivethirtyeight')\nfig, (ax1, ax2) = plt.subplots(1,2,figsize=(16,6))\n\nax1.imshow(wordcloud0)\nax1.set_title('WORD CLOUD for $0-99 PRICE RANGE')\nax1.axis('off')\n\nsns.barplot(x='words', y='count', data=df_top25_w0, ax=ax2)\nax2.set_title('WORD COUNT FOR $0-99 LISTINGS')\nax2.set_xticklabels(ax2.get_xticklabels(), rotation=80)\n\nplt.show()\nfig.savefig(\"word0.png\", dpi=900)","539e465f":"plt.rcParams['figure.figsize']=(12,12)    #(6.0,4.0)\nplt.rcParams['font.size']=12                #10 \nplt.rcParams['savefig.dpi']=100             #72 \nplt.rcParams['figure.subplot.bottom']=.1 \n\nstopwords = set(STOPWORDS)\n\nwordcloud1 = WordCloud(background_color='white',\n                      stopwords=stopwords,\n                      max_words=200,\n                      max_font_size=40, \n                      random_state=42).generate(str(name_price1['name']))\n\nplt.style.use('fivethirtyeight')\nfig, (ax1, ax2) = plt.subplots(1,2,figsize=(16,6))\n\nax1.imshow(wordcloud1)\nax1.set_title('WORD CLOUD for $100-199 PRICE RANGE')\nax1.axis('off')\n\nsns.barplot(x='words', y='count', data=df_top25_w1, ax=ax2)\nax2.set_title('WORD COUNT FOR $100-199 LISTINGS')\nax2.set_xticklabels(ax2.get_xticklabels(), rotation=80)\n\nplt.show()\nfig.savefig(\"word1.png\", dpi=900)","e4871bb1":"plt.rcParams['figure.figsize']=(12,12)    #(6.0,4.0)\nplt.rcParams['font.size']=12                #10 \nplt.rcParams['savefig.dpi']=100             #72 \nplt.rcParams['figure.subplot.bottom']=.1 \n\nstopwords = set(STOPWORDS)\n\nwordcloud2 = WordCloud(background_color='white',\n                      stopwords=stopwords,\n                      max_words=200,\n                      max_font_size=40, \n                      random_state=42).generate(str(name_price2['name']))\n\nplt.style.use('fivethirtyeight')\nfig, (ax1, ax2) = plt.subplots(1,2,figsize=(16,6))\n\nax1.imshow(wordcloud2)\nax1.set_title('WORD CLOUD for $200-299 PRICE RANGE')\nax1.axis('off')\n\nsns.barplot(x='words', y='count', data=df_top25_w2, ax=ax2)\nax2.set_title('WORD COUNT FOR $200-299 LISTINGS')\nax2.set_xticklabels(ax2.get_xticklabels(), rotation=80)\n\nplt.show()\nfig.savefig(\"word2.png\", dpi=900)","70079a47":"plt.rcParams['figure.figsize']=(12,12)    #(6.0,4.0)\nplt.rcParams['font.size']=12                #10 \nplt.rcParams['savefig.dpi']=100             #72 \nplt.rcParams['figure.subplot.bottom']=.1 \n\nstopwords = set(STOPWORDS)\n\nwordcloud3 = WordCloud(background_color='white',\n                      stopwords=stopwords,\n                      max_words=200,\n                      max_font_size=40, \n                      random_state=42).generate(str(name_price3['name']))\n\nplt.style.use('fivethirtyeight')\nfig, (ax1, ax2) = plt.subplots(1,2,figsize=(16,6))\n\nax1.imshow(wordcloud3)\nax1.set_title('WORD CLOUD for $300-399 PRICE RANGE')\nax1.axis('off')\n\nsns.barplot(x='words', y='count', data=df_top25_w3, ax=ax2)\nax2.set_title('WORD COUNT FOR $300-399 LISTINGS')\nax2.set_xticklabels(ax2.get_xticklabels(), rotation=80)\n\nplt.show()\nfig.savefig(\"word3.png\", dpi=900)","a59bf5c0":"# MANHATTAN MAP SPECS\ndf_manhattan0 = df.loc[(df['borough'] == 'Manhattan') & (df['price_range'] == '0 to 99')]\ndf_manhattan1 = df.loc[(df['borough'] == 'Manhattan') & (df['price_range'] == '100 to 199')]\ndf_manhattan2 = df.loc[(df['borough'] == 'Manhattan') & (df['price_range'] == '200 to 299')]\ndf_manhattan3 = df.loc[(df['borough'] == 'Manhattan') & (df['price_range'] == '300 to 399')]\n\navg_man_lat = df['latitude'].loc[df['borough'] == 'Manhattan'].mean()\navg_man_long = df['longitude'].loc[df['borough'] == 'Manhattan'].mean()\n\ndf_manhattan0['label'] = df_manhattan0['room_type']+(': $')+df_manhattan0['price'].astype(str)\ndf_manhattan1['label'] = df_manhattan1['room_type']+(': $')+df_manhattan1['price'].astype(str)\ndf_manhattan2['label'] = df_manhattan2['room_type']+(': $')+df_manhattan2['price'].astype(str)\ndf_manhattan3['label'] = df_manhattan3['room_type']+(': $')+df_manhattan3['price'].astype(str)\n\n#BROOKLYN MAP SPECS\ndf_brooklyn0 = df.loc[(df['borough'] == 'Brooklyn') & (df['price_range'] == '0 to 99')]\ndf_brooklyn1 = df.loc[(df['borough'] == 'Brooklyn') & (df['price_range'] == '100 to 199')]\ndf_brooklyn2 = df.loc[(df['borough'] == 'Brooklyn') & (df['price_range'] == '200 to 299')]\ndf_brooklyn3= df.loc[(df['borough'] == 'Brooklyn') & (df['price_range'] == '300 to 399')]\n\navg_bk_lat = df['latitude'].loc[df['borough'] == 'Brooklyn'].mean()\navg_bk_long = df['longitude'].loc[df['borough'] == 'Brooklyn'].mean()\n\ndf_brooklyn0['label'] = df_brooklyn0['room_type']+(': $')+df_brooklyn0['price'].astype(str)\ndf_brooklyn1['label'] = df_brooklyn1['room_type']+(': $')+df_brooklyn1['price'].astype(str)\ndf_brooklyn2['label'] = df_brooklyn2['room_type']+(': $')+df_brooklyn2['price'].astype(str)\ndf_brooklyn3['label'] = df_brooklyn3['room_type']+(': $')+df_brooklyn3['price'].astype(str)\n\n#QUEENS MAP SPECS\ndf_queens0 = df.loc[(df['borough'] == 'Queens') & (df['price_range'] == '0 to 99')]\ndf_queens1 = df.loc[(df['borough'] == 'Queens') & (df['price_range'] == '100 to 199')]\ndf_queens2 = df.loc[(df['borough'] == 'Queens') & (df['price_range'] == '200 to 299')]\ndf_queens3 = df.loc[(df['borough'] == 'Queens') & (df['price_range'] == '300 to 399')]\n\navg_queens_lat = df['latitude'].loc[df['borough'] == 'Queens'].mean()\navg_queens_long = df['longitude'].loc[df['borough'] == 'Queens'].mean()\n\ndf_queens0['label'] = df_queens0['room_type']+(': $')+df_queens0['price'].astype(str)\ndf_queens1['label'] = df_queens1['room_type']+(': $')+df_queens1['price'].astype(str)\ndf_queens2['label'] = df_queens2['room_type']+(': $')+df_queens2['price'].astype(str)\ndf_queens3['label'] = df_queens3['room_type']+(': $')+df_queens3['price'].astype(str)\n\n# STATEN ISLAND SPECS\ndf_si0 = df.loc[(df['borough'] == 'Staten Island') & (df['price_range'] == '0 to 99')]\ndf_si1 = df.loc[(df['borough'] == 'Staten Island') & (df['price_range'] == '100 to 199')]\ndf_si2 = df.loc[(df['borough'] == 'Staten Island') & (df['price_range'] == '200 to 299')]\ndf_si3 = df.loc[(df['borough'] == 'Staten Island') & (df['price_range'] == '300 to 399')]\n\navg_si_lat = df['latitude'].loc[df['borough'] == 'Staten Island'].mean()\navg_si_long = df['longitude'].loc[df['borough'] == 'Staten Island'].mean()\n\ndf_si0['label'] = df_si0['room_type']+(': $')+df_si0['price'].astype(str)\ndf_si1['label'] = df_si1['room_type']+(': $')+df_si1['price'].astype(str)\ndf_si2['label'] = df_si2['room_type']+(': $')+df_si2['price'].astype(str)\ndf_si3['label'] = df_si3['room_type']+(': $')+df_si3['price'].astype(str)\n\n#BRONX SPECS\ndf_bronx0 = df.loc[(df['borough'] == 'Bronx') & (df['price_range'] == '0 to 99')]\ndf_bronx1 = df.loc[(df['borough'] == 'Bronx') & (df['price_range'] == '100 to 199')]\ndf_bronx2 = df.loc[(df['borough'] == 'Bronx') & (df['price_range'] == '200 to 299')]\ndf_bronx3 = df.loc[(df['borough'] == 'Bronx') & (df['price_range'] == '300 to 399')]\n\navg_bronx_lat = df['latitude'].loc[df['borough'] == 'Bronx'].mean()\navg_bronx_long = df['longitude'].loc[df['borough'] == 'Bronx'].mean()\n\ndf_bronx0['label'] = df_bronx0['room_type']+(': $')+df_bronx0['price'].astype(str)\ndf_bronx1['label'] = df_bronx1['room_type']+(': $')+df_bronx1['price'].astype(str)\ndf_bronx2['label'] = df_bronx2['room_type']+(': $')+df_bronx2['price'].astype(str)\ndf_bronx3['label'] = df_bronx3['room_type']+(': $')+df_bronx3['price'].astype(str)","8089a497":"manhattan_map = folium.Map(location=[avg_man_lat, avg_man_long], width='100%', height='100%', zoom_start=13)\n\n\nfor lat, lng, label in zip(df_manhattan0.latitude, df_manhattan0.longitude, df_manhattan0.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#9795cf', \n                                 fill_color='#9795cf').add_to(manhattan_map)\n\nfor lat, lng, label in zip(df_manhattan1.latitude, df_manhattan1.longitude, df_manhattan1.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#6b67d6', \n                                 fill_color='#6b67d6').add_to(manhattan_map)\n\nfor lat, lng, label in zip(df_manhattan2.latitude, df_manhattan2.longitude, df_manhattan2.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#342ded', \n                                 fill_color='#342ded').add_to(manhattan_map)\n\nfor lat, lng, label in zip(df_manhattan3.latitude, df_manhattan3.longitude, df_manhattan3.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#0600a6', \n                                 fill_color='#0600a6').add_to(manhattan_map)\n\nmanhattan_map","5406ac44":"brooklyn_map = folium.Map(location=[avg_bk_lat, avg_bk_long], width='100%', height='100%', zoom_start=13)\n\n\nfor lat, lng, label in zip(df_brooklyn0.latitude, df_brooklyn0.longitude, df_brooklyn0.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#9795cf', \n                                 fill_color='#9795cf').add_to(brooklyn_map)\n\nfor lat, lng, label in zip(df_brooklyn1.latitude, df_brooklyn1.longitude, df_brooklyn1.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#6b67d6', \n                                 fill_color='#6b67d6').add_to(brooklyn_map)\n\nfor lat, lng, label in zip(df_brooklyn2.latitude, df_brooklyn2.longitude, df_brooklyn2.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#342ded', \n                                 fill_color='#342ded').add_to(brooklyn_map)\n\nfor lat, lng, label in zip(df_brooklyn3.latitude, df_brooklyn3.longitude, df_brooklyn3.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#0600a6', \n                                 fill_color='#0600a6').add_to(brooklyn_map)\n\nbrooklyn_map","32f4415c":"queens_map = folium.Map(location=[avg_queens_lat, avg_queens_long], width='100%', height='100%', zoom_start=13)\n\n\nfor lat, lng, label in zip(df_queens0.latitude, df_queens0.longitude, df_queens0.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#9795cf', \n                                 fill_color='#9795cf').add_to(queens_map)\n\nfor lat, lng, label in zip(df_queens1.latitude, df_queens1.longitude, df_queens1.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#6b67d6', \n                                 fill_color='#6b67d6').add_to(queens_map)\n\nfor lat, lng, label in zip(df_queens2.latitude, df_queens2.longitude, df_queens2.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#342ded', \n                                 fill_color='#342ded').add_to(queens_map)\n\nfor lat, lng, label in zip(df_queens3.latitude, df_queens3.longitude, df_queens3.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#0600a6', \n                                 fill_color='#0600a6').add_to(queens_map)\n\nqueens_map","6d2aa157":"si_map = folium.Map(location=[avg_si_lat, avg_si_long], width='100%', height='100%', zoom_start=13)\n\n\nfor lat, lng, label in zip(df_si0.latitude, df_si0.longitude, df_si0.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#9795cf', \n                                 fill_color='#9795cf').add_to(si_map)\n\nfor lat, lng, label in zip(df_si1.latitude, df_si1.longitude, df_si1.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#6b67d6', \n                                 fill_color='#6b67d6').add_to(si_map)\n\nfor lat, lng, label in zip(df_si2.latitude, df_si2.longitude, df_si2.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#342ded', \n                                 fill_color='#342ded').add_to(si_map)\n\nfor lat, lng, label in zip(df_si3.latitude, df_si3.longitude, df_si3.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#0600a6', \n                                 fill_color='#0600a6').add_to(si_map)\n\nsi_map","4bb890c4":"bronx_map = folium.Map(location=[avg_bronx_lat, avg_bronx_long], width='100%', height='100%', zoom_start=13)\n\n\nfor lat, lng, label in zip(df_bronx0.latitude, df_bronx0.longitude, df_bronx0.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#9795cf', \n                                 fill_color='#9795cf').add_to(bronx_map)\n\nfor lat, lng, label in zip(df_bronx1.latitude, df_bronx1.longitude, df_bronx1.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#6b67d6', \n                                 fill_color='#6b67d6').add_to(bronx_map)\n\nfor lat, lng, label in zip(df_bronx2.latitude, df_bronx2.longitude, df_bronx2.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#342ded', \n                                 fill_color='#342ded').add_to(bronx_map)\n\nfor lat, lng, label in zip(df_bronx3.latitude, df_bronx3.longitude, df_bronx3.label):\n    folium.features.CircleMarker([lat, lng],\n                                 popup=label,\n                                 radius=5, \n                                 fill=True, \n                                 color='#0600a6', \n                                 fill_color='#0600a6').add_to(bronx_map)\n\nbronx_map","1bd34b70":"## <a id=\"6C\">VIc. WORD ANALYSIS<\/a>","44723d32":"### TOP NEIGHBORHOODS IN EACH BOROUGH\n\nA visualization of the 10 neighborhoods with the most listings in each borough","09bf9552":"### BOROUGH COUNT & PERCENTAGE","6322af0d":"### AVERAGE PRICE OF EACH ROOM TYPE","5df73675":"## <a id=\"6d\">VId. MAP VISUALIZATIONS<\/a>","e13e3f47":"# <a id=\"7\">VII. MODEL DEVELOPMENT<\/a>\n\nCOMING SOON...","fe8565ed":"## <a id=\"6a\">VIb. BIVARIATE ANALYSIS<\/a>","a0b4b719":"# <a id='1'>IV. OUTLIERS<\/a>\n\nLet's take a look at our target variable, 'price', and some of our key feature variables and plot the outliers. ","bbc8a43c":"### TOP 10 NEIGHBORHOODS ACROSS ALL BOROUGHS","1687a403":"# <a id='2'>II. DATA OVERVIEW & INSIGHTS<\/a>","ea2dea67":"### PRICE x MINIMUM NIGHTS","ee0390d0":"We can see that deleting many of our outlier rows our dataset has been reduced by about 14,000 rows. However, this will increase accuracy in our models. Besides, how many people are really going to rent a place for $10,000?","8fb82624":"# <a id='V'>V. FEATURE ENGINEERING, PART 1<\/a>\n\nIts a minor issue, but let's remove the 'u' and change neighbourhood to neighborhood. Also, in NYC neighborhood groups are called boroughs, so lets make that adjustment. There will be some additional feature engineering needed before we develop any predictive models, so we'll label this section part 1. ","af7d4ecf":"<h3 class=\"list-group-item list-group-item-action active\" data-toggle=\"list\"  role=\"tab\" aria-controls=\"home\">Table of Contents<\/h3>\n\n* <a href=\"1\">I. LOAD LIBRARIES AND PACKAGES<\/a>  \n* <a href=\"2\">II. DATA OVERVIEW AND INSIGHTS<\/a>  \n* <a href=\"3\">III. MISSING VALUES<\/a>  \n* <a href=\"4\">IV. OUTLIERS<\/a>  \n* <a href=\"5\">V. FEATURE ENGINEERING, PART 1<\/a>  \n* <a href=\"6\">VI. EXPLORATORY DATA ANALYSIS<\/a>  \n    * <a href=\"6a\">VIa. UNIVARIATE ANALYSIS<\/a>\n    * <a href=\"6b\">VIb. BIVARIATE ANALYSIS<\/a>\n    * <a href=\"6c\">VIc. WORD ANALYSIS<\/a>\n    * <a href=\"6d\">VId. MAP VISUALIZATION<\/a>  \n* <a href=\"7\">VII. MODEL DEVELOPMENT<\/a>","851d4835":"### MANHATTAN PRICE MAP","f9fa3971":"## <a id=\"6a\">VIa. UNIVARIATE ANALYSIS<\/a>","a455952b":"### PRICE x BOROUGH","4128b3ad":"\n\n<a id=\"6\"><p  style=\"text-align: center;\"><font size=\"6\"><b>VI. EXPLORATORY DATA ANALYSIS<\/b><\/font><\/p><\/a>","1fb25eaf":"# <a id='3'>III. MISSING VALUES<\/a>","ffcc2b13":"### HOSTS WITH THE MOST","bf873e7d":"### STATEN ISLAND PRICE MAP","33ded9b6":"### PRICE x REVIEWS PER MONTH ","27266379":"### BRONX PRICE MAP","251fba78":"### BROOKLYN PRICE MAP","e24b39d4":"The \"reviews_per_month\" column has a lot of missing values. However this is most likely because many listings have recieved no reviews at all, but instead of a '0', it is marked as a 'nan' value. Lets correct this by changing 'NaN' to 0 when the 'number_of_reviews' is 0. ","b1243911":"### QUEENS PRICE MAP","666848ac":"### PRICE x NUMBER OF REVIEWS","99229d4c":"# <a id='1'>I. LOAD LIBRARIES AND PACKAGES<\/a>","8fd0a489":"We need to drop some of the rows that contain extreme outliers and bring our dataset into a more managable range of values. This will help us later on when its time to do predictive modeling. ","9382fd56":"<p  style=\"text-align: center;\"><font size=\"12\"><b>NEW YORK CITY AIR BnB DATA<\/b><\/font><\/p>\n<p  style=\"text-align: center;\"><font size=\"4\"><b>EXPLORATORY DATA ANALYSIS & REGRESSION MODELS (COMING SOON)<\/b><\/font><\/p>\n\n\n<img src=\"https:\/\/www.esquireme.com\/public\/images\/2019\/11\/03\/airbnb-678x381.jpg\" alt=\"NYC\">  \n\nSince 2008, guests and hosts have used Airbnb to expand on traveling possibilities and present more unique, personalized way of experiencing the world. This dataset describes the listing activity and metrics in NYC, NY for 2019.\n\nA thorough analysis of this data will provide valueable insights that may be used by the company for marketing and advertising initiatives or any number of business decisions by AirBnB. It may also be of interest to potential clients, investors, or people with a general interest. \n\nContaining about 49,000 rows, the dataset is divided into 16 columns containing both numeric and categorical values.","1e8cb641":"### ROOM TYPES","d9a70525":"Manhattan has the most entire home\/apt listings while Brooklyn has the most private room listings. Staten Island doesn't show up in the visualization at all. ","79ab0e12":"### AVERAGE PRICE IN EACH BOROUGH'S NEIGHBORHOOD"}}