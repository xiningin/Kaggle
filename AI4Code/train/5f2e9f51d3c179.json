{"cell_type":{"9dd69ffc":"code","d1d53c3a":"code","ff50419a":"code","3de15562":"code","6a5e56bc":"code","72c60bd8":"code","5c954a25":"code","8d7fbf2b":"code","1e6415b4":"code","662edba4":"code","bd35f457":"code","59c144fd":"code","2843255f":"markdown","473805d8":"markdown","bba729a6":"markdown","caead740":"markdown","d8da308e":"markdown","f00230d8":"markdown","2801edb8":"markdown","0237fc9b":"markdown","018657fb":"markdown"},"source":{"9dd69ffc":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","d1d53c3a":"# Criando o DataFrame\ndf = pd.read_csv('\/kaggle\/input\/gas-prices-in-brazil\/2004-2019.tsv', sep='\\t')\n\n# Filtrando apenas dados relativos ao produto \"GASOLINA COMUM\"\ndf_gas = df[df['PRODUTO'] == 'GASOLINA COMUM']\n\n# Excluindo colunas desnecess\u00e1rias para an\u00e1lise\ndf_gas = df_gas.drop(columns=['Unnamed: 0', 'DATA INICIAL', 'DATA FINAL', 'PRODUTO', 'N\u00daMERO DE POSTOS PESQUISADOS',\n                     'UNIDADE DE MEDIDA', 'DESVIO PADR\u00c3O REVENDA', 'PRE\u00c7O M\u00cdNIMO REVENDA', 'PRE\u00c7O M\u00c1XIMO REVENDA',\n                     'COEF DE VARIA\u00c7\u00c3O REVENDA', 'DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O', 'PRE\u00c7O M\u00cdNIMO DISTRIBUI\u00c7\u00c3O',\n                     'PRE\u00c7O M\u00c1XIMO DISTRIBUI\u00c7\u00c3O','COEF DE VARIA\u00c7\u00c3O DISTRIBUI\u00c7\u00c3O', 'M\u00caS'])\n\n#Imprimindo um resumo para an\u00e1lise geral da situa\u00e7\u00e3o dos dados.\ndf_gas.info()","ff50419a":"# Ajustando os tipos de dados\ndf_gas['MARGEM M\u00c9DIA REVENDA'] = df_gas['MARGEM M\u00c9DIA REVENDA'].str.replace('-','0')\ndf_gas['MARGEM M\u00c9DIA REVENDA'] = pd.to_numeric(df_gas['MARGEM M\u00c9DIA REVENDA'])\n\ndf_gas['PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O'] = df_gas['PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O'].str.replace('-','0')\ndf_gas['PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O'] = pd.to_numeric(df_gas['PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O'])\n\n# Criando coluna de percentual de lucro\nperc_lucro = []\n\n#Percorrer a coluna do dataframe e determinar as categorias\nfor valor in df_gas['PRE\u00c7O M\u00c9DIO REVENDA']:\n    perc_lucro = (df_gas['MARGEM M\u00c9DIA REVENDA']\/valor)\ndf_gas['perc_lucro'] = perc_lucro\n\ndf_gas.info()","3de15562":"# Importando bibliotecas gr\u00e1ficas\nimport matplotlib.pyplot as plt\nimport seaborn as sns","6a5e56bc":"# Realizando an\u00e1lise de distribui\u00e7\u00e3o\ndf_gas.drop(columns = ['ANO', 'perc_lucro']).describe()","72c60bd8":"# Gerando gr\u00e1fico para an\u00e1lise de distribui\u00e7\u00e3o das vari\u00e1veis\nf, ax = plt.subplots(figsize=(15,6))\nsns.distplot(df_gas['PRE\u00c7O M\u00c9DIO REVENDA'], hist = True, kde = True, label='Pre\u00e7o M\u00e9dio Revenda')\nsns.distplot(df_gas['PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O'], hist = True, kde = True, label='Pre\u00e7o M\u00e9dio Distribui\u00e7\u00e3o')\nsns.distplot(df_gas['MARGEM M\u00c9DIA REVENDA'], hist = True, kde = True, label='Margem M\u00e9dia Revenda')\n\n# Plot formatting\nplt.legend(prop={'size': 12})\nplt.title('Distribui\u00e7\u00e3o de Vari\u00e1veis')\nplt.xlabel('Valor em R$')\nplt.ylabel('Frequ\u00eancia X 10%')  \n","5c954a25":"# Gerando histograma de margem m\u00e9dia por regi\u00e3o\nf, ax = plt.subplots(figsize=(15,6))\nsns.boxplot(x=\"REGI\u00c3O\", y=\"perc_lucro\", data=df_gas)","8d7fbf2b":"#Identificando os estados com maior margem de m\u00e9dia na revenda.\ndf_gas.drop(columns = ['ANO']).groupby('ESTADO').mean().nlargest(5, 'MARGEM M\u00c9DIA REVENDA')","1e6415b4":"# Explorando a correla\u00e7\u00e3o entre as vari\u00e1veis\n\nf, ax = plt.subplots(figsize=(15,6))\nsns.heatmap(df_gas.corr(), annot=True, fmt='.2f', linecolor='white', ax=ax, lw=.7)","662edba4":"#Gr\u00e1fico de correla\u00e7\u00e3o 1\nf, ax = plt.subplots(figsize=(15,6))\nsns.regplot(data=df_gas,y='MARGEM M\u00c9DIA REVENDA',x='PRE\u00c7O M\u00c9DIO REVENDA', color='b')","bd35f457":"#Gr\u00e1fico de correla\u00e7\u00e3o 2\nf, ax = plt.subplots(figsize=(15,6))\nsns.regplot(data=df_gas,y='PRE\u00c7O M\u00c9DIO REVENDA',x='ANO', color='b')","59c144fd":"#Gr\u00e1fico de correla\u00e7\u00e3o 3\nf, ax = plt.subplots(figsize=(15,6))\nsns.barplot(data=df_gas,y='perc_lucro',x='ANO', color='b')","2843255f":"O gr\u00e1fico acima evidencia que o percentual de lucro obtido na venda da gasolina varia conforme a regi\u00e3o avaliada. A regi\u00e3o Norte possui a maior m\u00e9dia de percentual de lucro. A regi\u00e3o Sudeste possui a menor m\u00e9dia entre os estados.","473805d8":"5. **Conclus\u00e3o**\n\nO pre\u00e7o da gasolina mudou bastante no decorrer dos anos, tornando-se mais cara. Em cada estado \u00e9 praticado um pre\u00e7o diferente. H\u00e1 uma t\u00eand\u00eancia de nos estados da regi\u00e3o norte terem o combust\u00edvel mais caro e tamb\u00e9m obterem a maior margem de lucro.\n\nFicou tamb\u00e9m evidente que o percentual de lucro na venda da gasolina vem aumentando no decorrer dos anos, afetando o pre\u00e7o final.","bba729a6":"# Softwares para Ci\u00eancias de Dados II\n## Trabalho de Final de Disciplina\n### An\u00e1lise de margem de lucro de postos de combust\u00edvel na venda de gasolina nos estados brasileiros entre 2004 e 2019\n1. **Introdu\u00e7\u00e3o**\n\nO pre\u00e7o da gasolina \u00e9 constantemente tema de an\u00e1lises das mais diversas, haja vista o pre\u00e7o pago pelo consumidor final na bomba de combust\u00edvel muda conforme diversas vari\u00e1veis tais como pre\u00e7o do d\u00f3lar, pre\u00e7o do petr\u00f3leo, pureza do combust\u00edvel, impostos dentre outros al\u00e9m de ter impacto direto na economia.\n\nNeste estudo buscou-se avaliar o comportamento da margem de lucro dos postos de combust\u00edveis no decorrer dos anos.\n    \n\n2. **Dicion\u00e1rio de Dados**\n\n    **REGI\u00c3O**: *Regi\u00f5es do Brasil*\n    \n    **ESTADOS**: *Estados do Brasil*\n    \n    **PRE\u00c7O M\u00c9DIO REVENDA**: Pre\u00e7o m\u00e9dio em Reais de venda do litro de gasolina.\n    \n    **PRE\u00c7O M\u00c9DIO DISTRIBUI\u00c7\u00c3O**: Pre\u00e7o m\u00e9dio em Reais de compra do litro de gasolina.\n    \n    **MARGEM M\u00c9DIA REVENDA**: Margem m\u00e9dia de lucro em Reais por litro de gasolina.\n    \n    **perc_lucro**: percentual de lucro sobre a venda do litro de gasolina.\n    \n    \n3. **Tratamento de dados**\n\n    Abaixo seguem procedimentos de prepara\u00e7\u00e3o dos dados para posterio an\u00e1lise:","caead740":"A distribui\u00e7\u00e3o da margem de lucro \u00e9 bem uniforme e a maioria dos postos de combust\u00edvel obt\u00e9m R$0,40 por litro de combust\u00edvel vendido.\n\n\nJ\u00e1 os pre\u00e7os m\u00e9dios de distribui\u00e7\u00e3o e revenda possuem uma distribui\u00e7\u00e3o assim\u00e9trica \u00e0 esquerda, evidenciando que h\u00e1 muitas ocasi\u00f5es em que o valor cobrado pela gasolina \u00e9 acima da m\u00e9dia.","d8da308e":"Acima, a tabela apresenta os 5 estados com maior margem de lucro m\u00e9dia na venda da gasolina.","f00230d8":"4. **An\u00e1lises**","2801edb8":"O gr\u00e1fico acima mostra tamb\u00e9m que h\u00e1 uma tend\u00eancia de aumento do percentual de lucro dos postos de combust\u00edveis na venda de gasolina com o passar dos anos. Em 2004 o lucro m\u00e9dio era de pouco mais de 7%, sendo que em 2013 este percentual passou para 9% e em 2019 o lucro pela venda de 1 litro de gasolina ultrapassa os 10%.","0237fc9b":"J\u00e1 no gr\u00e1fico acima, fica claro a correla\u00e7\u00e3o entre os anos e o pre\u00e7o da gasolina. A cada ano a gasolina torna-se mais cara com exce\u00e7\u00e3o para os anos de 2012 e 2013 em que houve uma leve baixa no pre\u00e7o de revenda.","018657fb":"O Heatmap acima demonstra haver uma forte correla\u00e7\u00e3o entre o Ano e o percentual de lucro obtido. Entretanto, a correla\u00e7\u00e3o entre o pre\u00e7o de compra do combust\u00edvel e a margem de revenda t\u00eam uma rela\u00e7\u00e3o m\u00e9dia. Ou seja, o pre\u00e7o de custo do combust\u00edvel n\u00e3o tem um impacto t\u00e3o significativo no valor de venda."}}