{"cell_type":{"07571a52":"code","46dae8de":"code","8853444f":"code","29de0d1d":"code","e38483a6":"code","013fb165":"code","017aa3ef":"code","3c7154ea":"code","8c4f21ad":"code","9a131e31":"code","d5f45794":"code","26a1ceed":"code","55f339c8":"code","1d67a018":"code","9107b4b3":"code","1ce5a2d8":"code","51895fda":"code","c5b846cb":"markdown","a9fcb98d":"markdown","df364b25":"markdown","0ba29927":"markdown","d0f16c95":"markdown","72d05aa3":"markdown","f1d6fb1e":"markdown","bf145c78":"markdown","635207d0":"markdown","6ffc7e41":"markdown","b2965499":"markdown","89b68ddd":"markdown","a7fc9f47":"markdown","720d7b1c":"markdown","fb15f955":"markdown","2e6fd918":"markdown","ee5d98c3":"markdown","056ae19f":"markdown","61cc21b6":"markdown"},"source":{"07571a52":"import pandas as pd\nresposta = [[\"idade\", \"Quantitativa Discreta\"],[\"sexo\",\"Qualitativa Nominal\"]] #vari\u00e1veis relacionadas a tempo s\u00e3o cont\u00ednuas, mas podem ser discretas pois n\u00e3o h\u00e1 perdas -- (discretiza\u00e7\u00e3o)\nresposta = pd.DataFrame(resposta, columns=[\"Variavel\", \"Classifica\u00e7\u00e3o\"])\nresposta","46dae8de":"df = pd.read_csv('..\/input\/anv.csv', delimiter=',')\ndf.head(1)","8853444f":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport warnings\nimport matplotlib.cbook\nwarnings.filterwarnings(\"ignore\",category=matplotlib.cbook.mplDeprecation)\n%matplotlib inline","29de0d1d":"anv = pd.read_csv('..\/input\/anv.csv', delimiter=',')\nvar = anv[['aeronave_operador_categoria','aeronave_tipo_veiculo','aeronave_fabricante','aeronave_modelo','aeronave_ano_fabricacao','aeronave_pais_fabricante','aeronave_fase_operacao','aeronave_nivel_dano','total_fatalidades']]\nvar.head()","e38483a6":"cls_anv = [['aeronave_operador_categoria','Qualitativa Nominal'],['aeronave_tipo_veiculo','Qualitativa Nominal'],['aeronave_fabricante','Qualitativa Nominal'],['aeronave_modelo','Qualitativa Nominal'],['aeronave_ano_fabricacao','Quantitativa Discreta'],['aeronave_pais_fabricante','Qualitativa Nominal'],['aeronave_fase_operacao','Qualitativa Nominal'],['aeronave_nivel_dano','Qualitativa Nominal'],['total_fatalidades','Quantitativa Discreta']]\nclassificar = pd.DataFrame(cls_anv,columns=['Vari\u00e1vel','Classifica\u00e7\u00e3o'])\nclassificar","013fb165":"categoria = var['aeronave_operador_categoria'].value_counts()\ntipo = var['aeronave_tipo_veiculo'].value_counts()\npais = var['aeronave_pais_fabricante'].value_counts()\nmodelo = var['aeronave_modelo'].value_counts()\nfabricante = var['aeronave_fabricante'].value_counts()\nfase = var['aeronave_fase_operacao'].value_counts()\ndano = var['aeronave_nivel_dano'].value_counts()\ntipo","017aa3ef":"ax = categoria.plot(kind='bar',rot=90, figsize=(10,7),color='coral',fontsize=13,label='Categoria')\nax.set_title('Porcentagem de acidentes por categoria\\n', fontsize=18, color='black')\nax.set_ylabel('N\u00famero de Acidentes', fontsize=18)\nax.set_yticks([0,400,800,1200,1600,2000,2400])\nax.set_ylim((0,2500))\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_height())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_x(), i.get_height()+25, \\\n          str(round((i.get_height()\/total)*100, 2))+'%', fontsize=15,\n             color='dimgrey')\nplt.style.use('ggplot')\nplt.legend()\nplt.show()","3c7154ea":"princ = tipo[[1,2,3]]\noutros = tipo[[4,5,6,7,8,9]]\nax = tipo.plot(kind='barh',rot=0, figsize=(10,7),color='dodgerblue',fontsize=13,label='Tipos')\nax.set_title('Porcentagem de acidentes por tipo de aeronave\\n', fontsize=18, color='black')\nax.set_xlabel('N\u00famero de Acidentes', fontsize=18)\nax.set_xticks([0,500,1000,1500,2000,2500,3000,3500,4000,4500])\nax.set_xlim((0,5000))\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_width())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_width()+15, i.get_y()+.15,\n          str(round((i.get_width()\/total)*100, 2))+'%', fontsize=15,\n             color='dimgrey')\nplt.style.use('ggplot')\nplt.legend()\nplt.show()","8c4f21ad":"ax = tipo.plot(kind='barh',rot=0, figsize=(10,7),color='dodgerblue',fontsize=13,label='Tipos')\n#delete labelbottom\nplt.tick_params(axis='x',which='both',bottom=False,top='False',labelbottom='False')\nax.set_title('Quantidade de acidentes por tipo de aeronave\\n', fontsize=20, color='black')\nax.set_xlabel('N\u00famero de Acidentes', fontsize=18)\nax.set_xlim((0,4700))\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_width())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_width()+15, i.get_y()+.15,i.get_width(),fontsize=15,color='black')\nplt.style.use('ggplot')\nplt.legend()\nplt.show()\n#b","9a131e31":"danos = pd.DataFrame(dano).reset_index()\nfat = danos['aeronave_nivel_dano']\nlab = danos['index']\ncolor = [\"#2ca02c\", \"#ff7f0e\", \"#1f77b4\", \"#d62728\", \"#8c564b\"]\nexplode = (0.1, 0, 0, 0, 0) \nplt.pie(fat,labels=lab,explode=explode,colors=color,autopct='%1.1f%%',shadow=True,startangle=140)\nplt.title('Porcentagem de danos dos acidentes\\n',fontsize=25,color='black')\n#move legend to right\nleg = plt.legend(loc='upper right')\nbb = leg.get_bbox_to_anchor().inverse_transformed(ax.transAxes)\nxoffset = 0.4\nbb.x0 += xoffset\nbb.x1 += xoffset\nleg.set_bbox_to_anchor(bb, transform = ax.transAxes)\nplt.show()","d5f45794":"ax = pais.plot(kind='bar',rot=90, figsize=(10,7),color='g',fontsize=13,label='Pa\u00eds')\nax.set_title('Quantidade de acidentes por pa\u00eds\\n', fontsize=22, color='black')\nax.set_ylabel('N\u00famero de Acidentes', fontsize=20)\nax.set_yticks([0,400,800,1200,1600,2000,2400])\nax.set_ylim((0,2500))\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_height())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_x(), i.get_height()+25,i.get_height(), color='black')\nplt.style.use('ggplot')\nplt.legend()\nplt.show()","26a1ceed":"modelos = modelo.head(20)\nax = modelos.plot(kind='bar',rot=90, figsize=(10,7),color='brown',fontsize=13,label='Modelo')\n#a.set_alpha(0.8)\nax.set_title('Os 20 modelos de aeronave que mais sofreram acidente\\n', fontsize=20, color='black')\nax.set_ylabel('N\u00famero de Acidentes', fontsize=18, color='brown')\nax.set_xlabel('Modelos', fontsize=18, color='brown')\nax.set_yticks([0,50,100,150,200,250,300])\nax.set_ylim((0,250))\nax.set_facecolor('xkcd:grey')\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_height())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_x(), i.get_height()+5,i.get_height(),color='black',fontsize=13)\nplt.style.use('classic')\nplt.legend()\nplt.show()","55f339c8":"ano = pd.DataFrame({'qtd':var.groupby(['aeronave_ano_fabricacao']).size()}).reset_index().drop([0])","1d67a018":"def scatterplot(x_data, y_data, x_label, y_label, title):\n\n    # Create the plot object\n    _, ax = plt.subplots()\n\n    # Plot the data, set the size (s), color and transparency (alpha)\n    # of the points\n    ax.scatter(x_data, y_data, s = 30, color = '#539caf', alpha = 0.75)\n    \n    # Label the axes and provide a title\n    ax.set_title(title,fontsize=20)\n    ax.set_xlabel(x_label,fontsize=18)\n    ax.set_ylabel(y_label,fontsize=18)\n    ax.set_xticks([0,25,50,75,100,125,150,175,200,225])\n    ax.set_xlim((-5,250))\nplt.style.use('ggplot')\n\n# Call the function to create plot\nscatterplot(x_data = ano['qtd']\n            , y_data = ano['aeronave_ano_fabricacao']\n            , x_label = 'N\u00famero de Acidentes'\n            , y_label = 'Ano de Fabrica\u00e7\u00e3o'\n            , title = 'Gr\u00e1fico de Dispers\u00e3o\\n' + 'Ano de Fabrica\u00e7\u00e3o VS N\u00famero de Acidentes\\n')","9107b4b3":"fases = fase.head(10)\nax = fases.plot(kind='bar',rot=90, figsize=(10,7),color='b',fontsize=13,label='Fase de opera\u00e7\u00e3o')\n#a.set_alpha(0.8)\nax.set_title('As 10 fases de opera\u00e7\u00e3o com maior n\u00famero de acidentes\\n', fontsize=20, color='black')\nax.set_ylabel('N\u00famero de Acidentes', fontsize=18, color='black')\nax.set_yticks([0,200,400,600,800,1000])\nax.set_ylim((0,1000))\nax.set_facecolor('xkcd:grey')\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_height())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_x(), i.get_height()+5,i.get_height(),color='black',fontsize=13)\nplt.style.use('ggplot')\nplt.legend()\nplt.show()","1ce5a2d8":"fabr_fatal = var[(var.total_fatalidades>0)].aeronave_fabricante.value_counts().nlargest(21).drop(['***'])","51895fda":"ax = fabr_fatal.plot(kind='bar',rot=90, figsize=(15,10),color='g',fontsize=13,label='Fabricante')\nax.set_title('20 maiores fabricantes com acidentes fatais\\n', fontsize=30, color='black')\nax.set_ylabel('Quantidade de acidentes com fatalidades', fontsize=20)\nax.set_yticks([0,10,20,30,40,50,60,70,80])\nax.set_ylim((0,80))\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_height())\ntotal = sum(totals)\nfor i in ax.patches:\n    ax.text(i.get_x()+0.1, i.get_height()+1,i.get_height(), color='black',fontsize=13)\nplt.style.use('ggplot')\nplt.legend()\nplt.show()","c5b846cb":"# Gr\u00e1fico de porcentagem de acidentes por categoria","a9fcb98d":"# Cria\u00e7\u00e3o de vari\u00e1veis com as colunas escolhidas","df364b25":"# Gr\u00e1fico das 10 fases de opera\u00e7\u00e3o com maior n\u00famero de acidentes","0ba29927":"# Cria\u00e7\u00e3o da tabela de classifica\u00e7\u00e3o das vari\u00e1veis","d0f16c95":"### Quest\u00e3o 1 - Item B - Tabela de frequ\u00eancia\n\nConstrua uma tabela de frequ\u00eancia para cada uma das **vari\u00e1veis qualitativas** que voc\u00ea escolheu (caso n\u00e3o tenha escolhido nenhuma, deixe esta quest\u00e3o em branco). Uma dica: a fun\u00e7\u00e3o *value_counts()* do Pandas pode ser muito \u00fatil. =)\n","72d05aa3":"# Gr\u00e1fico de dispers\u00e3o Ano de Fabrica\u00e7\u00e3o vs N\u00famero de Acidentes","f1d6fb1e":"# Gr\u00e1fico de quantidade de acidentes por tipo de aeronave","bf145c78":"# Gr\u00e1fico dos 20 maiores fabricantes com acidentes fatais","635207d0":"# Gr\u00e1fico de porcentagem de danos dos acidentes","6ffc7e41":"### Quest\u00e3o 1 - Item C - Representa\u00e7\u00e3o Gr\u00e1fica\nPara cada uma das vari\u00e1veis, produza um ou mais gr\u00e1ficos, usando matplotlib, que descreva seu comportamento \/ caracteristica. Lembre-se que estes gr\u00e1ficos precisam ser compat\u00edveis com a classifica\u00e7\u00e3o da vari\u00e1vel. ","b2965499":"# Especializa\u00e7\u00e3o em Ci\u00eancia de Dados - Turma 2018.1 - Facens\n## Aula1 | Exerc\u00edcio 1 (valendo nota)\n\n* **Data de entrega:** 06\/out\/2018 07:59\n* **Professor:**  Matheus Mota\n* **Aluno:**  Jos\u00e9 Diniz Junior\n* **RA:** 183134","89b68ddd":"# Leitura do arquivo e cria\u00e7\u00e3o do Dataset com as vari\u00e1veis","a7fc9f47":"### Sepera\u00e7\u00e3o das 20 maiores empresas com acidentes fatais","720d7b1c":"# Dicas\n\n- Exemplo de acesso aos CSVs dispon\u00edveis no dataset\n> df = pd.read_csv('..\/input\/anv.csv', delimiter=',')","fb15f955":"# Gr\u00e1fico de porcentagem de acidentes por tipo de aeronave","2e6fd918":"# Gr\u00e1fico dos 20 modelos de aeronave que mais sofreram acidente","ee5d98c3":"# Gr\u00e1fico de quantidade de acidentes por pa\u00eds","056ae19f":"## Quest\u00e3o 1\n**Enunciado:**  Este notebook est\u00e1 associado ao *Kaggle Dataset* chamado \"Aula1 | Exerc\u00edcio1\". Este *Kaggle Dataset* possui dois arquivos em formato CSV (anv.csv e BR_eleitorado_2016_municipio ). Escolha um dos datasets dispon\u00edveis e j\u00e1 conhecidos, a seu crit\u00e9rio. Uma vez definido o csv, escolha no m\u00ednimo 7 e no m\u00e1ximo 12 vari\u00e1veis (colunas) que voc\u00ea avalia como sendo relevantes. Para cada uma das suas vari\u00e1veis escolhidas, forne\u00e7a:\n\n\n### Quest\u00e3o 1 - Item A - Classifica\u00e7\u00e3o das vari\u00e1veis\n\nClassifique todas as vari\u00e1veis escolhidas, e construa um dataframe com sua resposta.\nExemplo:","61cc21b6":"### Cria\u00e7\u00e3o do Dataframe agupados por ano e apagado os anos com valor 0"}}