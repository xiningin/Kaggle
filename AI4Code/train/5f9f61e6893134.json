{"cell_type":{"bf9a42db":"code","0450aed6":"code","f92bb2f6":"code","824eb456":"code","961e6914":"code","12857ea3":"code","a2c0a03d":"code","d51ac753":"code","e46d56c6":"code","59a24fcc":"code","99f679a8":"code","7c11656f":"code","7e1f46dc":"code","ed73c32a":"code","19ad6a0f":"code","ebcba70d":"code","d98b7259":"code","7b749f2b":"code","cc81ca23":"code","10c0443f":"code","b8eca4e4":"code","0cdb73a3":"code","07d1fec4":"code","6f89392f":"code","fd30555e":"code","9a562c50":"code","3758c12a":"markdown","251f863b":"markdown","0c100ce0":"markdown","f29e1238":"markdown","caad7883":"markdown","eaedbf48":"markdown","885bcc51":"markdown","e9e60def":"markdown","972b6df6":"markdown","96e6fa74":"markdown","fde4d883":"markdown","25b5f1ad":"markdown","74ae0b8b":"markdown","89a9d677":"markdown","b0ba86bb":"markdown","7998b8ca":"markdown"},"source":{"bf9a42db":"import pandas as pd\nimport seaborn as sns\nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode,iplot\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\nfrom folium.plugins import FastMarkerCluster\nimport folium.plugins as plugins","0450aed6":"data = pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\ndata","f92bb2f6":"data['last_review'] = pd.to_datetime(data['last_review'], errors='coerce')","824eb456":"data['Years'] = data['last_review'].dt.year  \ndata['Month'], data['Days'] = (data['last_review'].dt.month, data['last_review'].dt.day)\ndata['last_review'] = pd.to_datetime(data['last_review']).dt.date","961e6914":"sns.heatmap(data.isnull());","12857ea3":"data.isnull().sum()","a2c0a03d":"data.fillna(0, inplace=True)\n","d51ac753":"sns.heatmap(data.isnull());","e46d56c6":"data.describe()","59a24fcc":"correlations = data.corr()\nf, ax = plt.subplots(figsize = (10,10))\nsns.heatmap(correlations, annot=True)\ncorrelations.round(2);","99f679a8":"g1 = [go.Box(y=data.number_of_reviews,name=\"Number of Reviews\",marker=dict(color=\"rgba(51,0,0,0.9)\"),hoverinfo=\"name+y\")]\ng2 = [go.Box(y=data.reviews_per_month,name=\"Reviews per Month\",marker=dict(color=\"rgba(0,102,102,0.9)\"),hoverinfo=\"name+y\")]\ng3 = [go.Box(y=data.availability_365,name=\"Availability 365\",marker=dict(color=\"rgba(9,80,58,12.2)\"),hoverinfo=\"name+y\")]\nlayout2 = go.Layout(title=\"Occupation Days\",yaxis=dict(range=[0,13])) \nfig2 = go.Figure(data=g1+g2+g3,layout=layout2)\niplot(fig2)","7c11656f":"g1 = [go.Box(y=data.price,name=\"Price\",marker=dict(color=\"rgba(51,0,0,0.9)\"),hoverinfo=\"name+y\")]\ng2 = [go.Box(y=data.minimum_nights,name=\"Minimum Nigths\",marker=dict(color=\"rgba(0,102,102,0.9)\"),hoverinfo=\"name+y\")]\ng3 = [go.Box(y=data.calculated_host_listings_count,name=\"Calculated Host Listings Count\",marker=dict(color=\"rgba(9,80,58,12.2)\"),hoverinfo=\"name+y\")]\nlayout2 = go.Layout(title=\"Values\",yaxis=dict(range=[0,13])) \nfig2 = go.Figure(data=g1+g2+g3,layout=layout2)\niplot(fig2)","7e1f46dc":"available_365 = data.query(\"availability_365 >= 365 \")\navailable_365","ed73c32a":"available_365.describe()","19ad6a0f":"Frequency_of_items = data.groupby(pd.Grouper(key='price')).size().reset_index(name='availability_365')\nfig = px.treemap(Frequency_of_items, path=['price'], values='availability_365')\nfig.update_layout(title_text='Availability 365 x Price',\n                  title_x=0.5, title_font=dict(size=18)\n                  )\nfig.update_traces(textinfo=\"label+value\")\nfig.show()","ebcba70d":"Frequency_of_items = data.groupby(pd.Grouper(key='neighbourhood')).size().reset_index(name='price')\nfig = px.treemap(Frequency_of_items, path=['neighbourhood'], values='price')\nfig.update_layout(title_text='neighbourhood x Price',\n                  title_x=0.5, title_font=dict(size=18)\n                  )\nfig.update_traces(textinfo=\"label+value\")\nfig.show()","d98b7259":"fig = px.histogram(data, x='Days', opacity=0.85, marginal='box')\nfig.update_traces(marker=dict(line=dict(color='#000000', width=1)))\nfig.update_layout(title_text='Number of guests days of the month',\n                  title_x=0.5, title_font=dict(size=20))\nfig.show()","7b749f2b":"fig = px.histogram(data, x='Month', opacity=0.85, marginal='box')\nfig.update_traces(marker=dict(line=dict(color='#000000', width=1)))\nfig.update_layout(title_text='Number of guests per month',\n                  title_x=0.5, title_font=dict(size=20))\nfig.show()","cc81ca23":"fig1 = px.histogram(data,x='neighbourhood_group',color='neighbourhood_group',template='plotly_dark')\nfig1.show()","10c0443f":"fig1 = px.histogram(data,x='room_type',color='room_type',template='plotly_dark')\nfig1.show()","b8eca4e4":"from wordcloud import WordCloud","0cdb73a3":"plt.rcParams['figure.figsize'] = (10, 10)\nplt.style.use('fast')\n\nwc = WordCloud(background_color = 'orange', width = 2000, height = 2000).generate(str(data['name']))\nplt.title('Property Description', fontsize = 8)\n\nplt.imshow(wc)\nplt.axis('off')\nplt.show()","07d1fec4":"plt.figure(figsize=(20,6))\ntop_10 = data.groupby('neighbourhood')['neighbourhood'].count() \\\n.sort_values(ascending = False).head(10)\nsns.barplot(x=top_10.index, y = top_10.values)\nplt.title('Top 10 Words')\nplt.show()","6f89392f":"map_1 = folium.Map(location=[40.76586, -73.98436], tiles='cartodbpositron', zoom_start=11)\nHeatMap(data=data[['latitude', 'longitude']], radius=10).add_to(map_1)\nmap_1","fd30555e":"data[\"All\"] = 'Room type: '+ data['room_type'].astype(str) + ', ' + 'availability in 365: ' + data[\"availability_365\"].astype(str) + ', '+ 'Price: ' + data[\"price\"].astype(str)","9a562c50":"f = folium.Figure(width=1200, height=750)\nmap = folium.Map(location = [40.76586, -73.98436], \n                      zoom_start = 11).add_to(f)\nprice=folium.map.FeatureGroup()\nprice=plugins.MarkerCluster().add_to(map)\nfor latitude,longitude,label in zip(data.latitude,data.longitude,data.All):\n    folium.Marker(location=[latitude,longitude],icon=None,popup=label).add_to(price)\nmap.add_child(price)\nmap","3758c12a":"**Between the months of the year, the vacation periods are also less busy.**","251f863b":"* **The graphs are unbalanced, but the interesting thing is to put the course above them to have a summarized value and get a better idea of these properties and their occupation, which ends up being very interesting, as there are several properties that remain unoccupied throughout the year.**\n\n* **The disproportionality between the graphics is quite large.**","0c100ce0":"# ** ConClusion**\n\n* As described at the beginning of the data set, its focus is on analysis, exploring all available data.\n\n* I could try to perform a regression analysis for value predictions, but it certainly wouldn't match the reality, as there are few qualifying attributes for qualifying a property in New York.\n\n* We would need, the footage, bathrooms, bedrooms, garage and especially the age of the property.\n\n* In New York, one of the biggest factors that influence a lot when renting a property is its age and not necessarily its size.\n\n* t is interesting to note that in the region at the tip of central park, there are properties with a high availability rate, and they are still close to one of the most expensive addresses in the world with values \u200b\u200bthat have not been so high, but certainly its structural conditions may not be very high. cool.\n\n* In order to have a better analysis regarding the quality of the properties, it would be interesting if we had an analysis of sentiments with property valuations.\n\n* We could use time series to make predictions related to occupancy rate.\n\n* One conclusion we reached is that the location of the property and its lease value are not always guarantees of occupancy return.","f29e1238":"**We can see that there is greater movement in buildings at the end and beginning of the month.**","caad7883":"# **If you find this notebook useful, support with an upvote** \ud83d\udc4d","eaedbf48":"* **We verified that in the names, last_review and reviews per month there are null data, but we will not delete or fill them with the average, as it is possible that these properties did not have any search in this period, so we will assign it the value 0 to not exclude these lines and not even discard this data.**\n\n* **If we delete it, it will affect the dataframe too much, as it represents almost 25% of this data.**","885bcc51":"* one of the lowest data and availability within the year in relation to the price, that is, it ends up being cheap, as there is no demand;\n* the highest index certainly has to do with the law of demand and supply which reaches 0.59;\n* there are few attributes in this database to better define the characteristics of the property type to establish the profile of each one;","e9e60def":"**I could have used a 'for' to scroll through the rows when filling the poup up, I tried, but it overloads the memory too much, being much faster and lighter for the machine to create an occasional variable with a column with the values that are interesting to display.**","972b6df6":"# **Words**","96e6fa74":"**These would be the words most used in the description of properties that are found for lease.**","fde4d883":"* **We could face them as outliers, but we do not have a notion of the adopted value parameters, which makes it difficult to establish a limit.**\n\n* **On the other hand, we are talking about new york, we know that there is no established standard in relation to the square meter and the value of the leased property.**\n\n* **But placing the cursor above we can get a notion of the average values between the minimum and the maximum.**","25b5f1ad":"**Context**\n\nSince 2008, guests and hosts have used Airbnb to expand on traveling possibilities and present more unique, personalized way of experiencing the world. This dataset describes the listing activity and metrics in NYC, NY for 2019.\n\n**Content**\n\nThis data file includes all needed information to find out more about hosts, geographical availability, necessary metrics to make predictions and draw conclusions.\n\n**Acknowledgements**\n\nThis public dataset is part of Airbnb, and the original source can be found on this website.\n\n**Inspiration**\n\nWhat can we learn about different hosts and areas?\nWhat can we learn from predictions? (ex: locations, prices, reviews, etc)\nWhich hosts are the busiest and why?\nIs there any noticeable difference of traffic among different areas and what could be the reason for it?\n\nhttps:\/\/www.kaggle.com\/dgomonov\/new-york-city-airbnb-open-data","74ae0b8b":"# **Property Mapping**","89a9d677":"* **Just the fact of being in NY does not mean that you will be able to maintain a high occupancy rate of your property, as there is certainly competition with the hotel chains that in many cases end up having a better cost benefit due to location and services cleaning.**\n\n* **There are approximately 1.295 properties that are available 365 days a year, as described in this data set, and it is not the question of the lease value.**","b0ba86bb":"**A note for those who don't know New York yet, it only has 5 neighborhoods.**","7998b8ca":"**Noting that the availability periods are with the total of the entire database of each id, not specifically 365 days.**"}}