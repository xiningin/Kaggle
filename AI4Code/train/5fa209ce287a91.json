{"cell_type":{"0233d4d7":"code","00a0c0d0":"code","dca6e981":"code","8ad85f1f":"code","1ef00ee0":"code","6d030afe":"code","89268190":"code","418fb10f":"code","6d8c94cd":"code","2a220cec":"code","3192df5e":"code","ae606169":"code","70aaf6f2":"code","30a75e81":"code","01a77289":"code","42e9b040":"markdown","e2bade57":"markdown","0e8b553f":"markdown","bd2f5ea7":"markdown","0cac0756":"markdown","aca547e0":"markdown","3252141b":"markdown","cebf69a0":"markdown","89b9d929":"markdown","c03a740d":"markdown","908e2d77":"markdown","db708e1e":"markdown","4c3b49cc":"markdown","85975775":"markdown"},"source":{"0233d4d7":"#packages\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport random\nimport matplotlib.patches as patches\nfrom matplotlib_venn import venn3","00a0c0d0":"data = pd.read_csv('\/kaggle\/input\/students-performance-in-exams\/StudentsPerformance.csv')","dca6e981":"data.head()","8ad85f1f":"#seaborn\nplt.figure(figsize=(16,9), dpi= 80)\nsns.set_color_codes()\nsns.distplot(data['math score'],color = 'slateblue')\nplt.show()","1ef00ee0":"#matplotlib\nplt.figure(figsize=(16,9), dpi= 80)\nn, bins, patches = plt.hist(x=data['reading score'], bins='auto',\n                            color='y',\n                            alpha=0.7, rwidth=0.85)\nplt.grid(axis='y', alpha=0.75)\nplt.xlabel('Reading Score')\nplt.ylabel('Frequency')\nplt.title('Reading Score Histogram')\nmaxfreq = n.max()\n# Set a clean upper y-axis limit.\nplt.ylim(ymax=np.ceil(maxfreq \/ 10) * 10 if maxfreq % 10 else maxfreq + 10)","6d030afe":"sns.set_style(\"white\")\n\nx1 = data.loc[data.gender=='female', 'writing score']\nx2 = data.loc[data.gender=='male', 'writing score']\n\n# Plot\nkwargs = dict(hist_kws={'alpha':.6}, kde_kws={'linewidth':2})\n\nplt.figure(figsize=(16,9), dpi= 80)\nsns.distplot(x1, color=\"plum\", label=\"female\", **kwargs)\nsns.distplot(x2, color=\"cornflowerblue\", label=\"male\", **kwargs)\nplt.legend()","89268190":"# Prepare data\nx_var = 'math score'\ngroupby_var = 'race\/ethnicity'\ndf_agg = data.loc[:, [x_var, groupby_var]].groupby(groupby_var)\nvals = [data[x_var].values.tolist() for i, df in df_agg]\n\n# Draw\nplt.figure(figsize=(16,9), dpi= 80)\ncolors = [plt.cm.Spectral(i\/float(len(vals)-1)) for i in range(len(vals))]\nn, bins, patches = plt.hist(vals, stacked=True, density=False, color=colors[:len(vals)])\n\n# Decoration\nplt.legend({group:col for group, col in zip(np.unique(data[groupby_var]).tolist(), colors[:len(vals)])})\nplt.title(f\"Stacked Histogram of ${x_var}$ colored by ${groupby_var}$\", fontsize=22)\nplt.xlabel(x_var)\nplt.ylabel(\"Frequency\")\nplt.xticks(ticks=bins[::1], labels=[round(b,1) for b in bins[::1]])\nplt.show()","418fb10f":"graph = data.groupby([\"parental level of education\"],as_index = False)['reading score'].mean()\nplt.figure(figsize = (20,10))\nsns.set(style=\"whitegrid\")\nax = sns.barplot(x=\"parental level of education\", y=\"reading score\", data=graph,palette = 'Set1')\nfor i, val in enumerate(graph['reading score'].values):\n    plt.text(i, val, float(val), horizontalalignment='center', verticalalignment='bottom', fontdict={'fontweight':500, 'size':12})\n\nax.set_xticklabels(ax.get_xticklabels(), rotation=0)\nplt.show()","6d8c94cd":"df = data[['writing score', 'race\/ethnicity']].groupby('race\/ethnicity').apply(lambda x: x.mean())\ndf.sort_values('writing score', inplace=True)\ndf.reset_index(inplace=True)\n\nfig, ax = plt.subplots(figsize=(20,10), facecolor='white', dpi= 80)\nax.vlines(x=df.index, ymin=0, ymax=df['writing score'], color='firebrick', alpha=0.7, linewidth=100)\n\n# Annotate Text\nfor i, score in enumerate(df['writing score']):\n    ax.text(i, score, round(score, 1), horizontalalignment='center', fontdict={'fontweight':500, 'size':22})\n\n\n# Title, Label, Ticks and Ylim\nax.set_title('Avg writing score for different races\/ethnicity', fontdict={'size':22})\nax.set(ylabel='writing score', ylim=(0, 100))\nplt.xticks(df.index, df['race\/ethnicity'].str.upper(), rotation=60, horizontalalignment='right', fontsize=12)\n","2a220cec":"df = data[['math score', 'race\/ethnicity']].groupby('race\/ethnicity').apply(lambda x: x.mean())\ndf.sort_values('math score', inplace=True)\ndf.reset_index(inplace=True)\n\n# Draw plot\nfig, ax = plt.subplots(figsize=(10,8), dpi= 80)\nax.vlines(x=df.index, ymin=0, ymax=df['math score'], color='lime', alpha=0.7, linewidth=2)\nax.scatter(x=df.index, y=df['math score'], s=75, color='lime', alpha=0.7)\n\n# Title, Label, Ticks and Ylim\nax.set_title('Lollipop Chart for average math score', fontdict={'size':22})\nax.set_ylabel('race\/ethnicity')\nax.set_xticks(df.index)\nax.set_xticklabels(df['race\/ethnicity'].str.upper(), rotation=60, fontdict={'horizontalalignment': 'right', 'size':12})\nax.set_ylim(0,100)","3192df5e":"# Pie chart\ndf = pd.DataFrame(data['parental level of education'].value_counts(normalize=True) * 100)\nlabels = df.index\nsizes = df.values\n#colors\ncolors = ['#ff9999','#66b3ff','#99ff99','#ffcc99','#fff533','#64f9e6']\n \nfig1, ax1 = plt.subplots()\nax1.pie(sizes, colors = colors, labels=labels, autopct='%1.1f%%', startangle=90)\n#draw circle\ncentre_circle = plt.Circle((0,0),0.70,fc='white')\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)\n# Equal aspect ratio ensures that pie is drawn as a circle\nax1.axis('equal')  \nplt.tight_layout()\nplt.show()","ae606169":"df = pd.DataFrame(data['parental level of education'].value_counts(normalize=True) * 100)\nlabels = df.index\nsizes = df.values\n# only \"explode\" the 2nd slice (i.e. 'Hogs')\nexplode = (0, 0.1, 0, 0,0,0)\n#add colors\ncolors = ['#ff9999','#66b3ff','#99ff99','#ffcc99','#fff533','#64f9e6']\nfig1, ax1 = plt.subplots()\nax1.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%',\n        shadow=True, startangle=90)\n# Equal aspect ratio ensures that pie is drawn as a circle\nax1.axis('equal')\nplt.tight_layout()\nplt.show()","70aaf6f2":"sns.jointplot(x=data[\"math score\"], y=data[\"reading score\"], kind='scatter', s=200, color='m', edgecolor=\"skyblue\", linewidth=2)","30a75e81":"sns.jointplot(x=data[\"math score\"], y=data[\"reading score\"], kind='hex',color='peru')","01a77289":"def heatmap(x, y, size):\n    fig, ax = plt.subplots()\n    \n    # Mapping from column names to integer coordinates\n    x_labels = [v for v in sorted(x.unique())]\n    y_labels = [v for v in sorted(y.unique())]\n    x_to_num = {p[1]:p[0] for p in enumerate(x_labels)} \n    y_to_num = {p[1]:p[0] for p in enumerate(y_labels)} \n    \n    size_scale = 500\n    ax.scatter(\n        x=x.map(x_to_num), # Use mapping for x\n        y=y.map(y_to_num), # Use mapping for y\n        s=size * size_scale, # Vector of square sizes, proportional to size parameter\n        marker='8',\n        color = 'darkorange'\n    )\n    \n    # Show column labels on the axes\n    ax.set_xticks([x_to_num[v] for v in x_labels])\n    ax.set_xticklabels(x_labels, rotation=45, horizontalalignment='right')\n    ax.set_yticks([y_to_num[v] for v in y_labels])\n    ax.set_yticklabels(y_labels)\n    \ncorr = data.corr()\ncorr = pd.melt(corr.reset_index(), id_vars='index')\ncorr.columns = ['x', 'y', 'value']\nheatmap(\n    x=corr['x'],\n    y=corr['y'],\n    size=corr['value'].abs()\n)","42e9b040":"# Heat Map","e2bade57":"# Histogram","0e8b553f":"In the below map the correlation is defined by the size of the hexagon. You can change the shape by changing the marker in the code","bd2f5ea7":"Recently I was working on a notebook when I started to realize that these are the same graphs I have been making in my career till now. Never do we pay much focus on good, attractive graphs. At first, I changed the color palette in all the graphs but still they did not seem attractive. Hence I decided to make this notebook to have a better version of the common graphs that we make. ","0cac0756":"Another variation can be done by adding explode to piecharts when you try to focus on some particular category. Let us try that","aca547e0":"Scatter Plots are widely used by everyone. Let us try making a little different versions for the same purpose.","3252141b":"# Scatter Plot","cebf69a0":"A different version for bar plot is lollipop chart. Let us try it.","89b9d929":"Pie charts can be made more attractive by making it like a donut. The logic is simple, we make pie chart and then make a circle in the middle. Let us see how","c03a740d":"I have tried to use different versions of matplotlib and seaborn from various sources. You can use according to your wish.\nThis notebook will keep on growing.\nDont forget to give your suggestions.","908e2d77":"We will use [students performance in exams dataset](https:\/\/www.kaggle.com\/spscientist\/students-performance-in-exams)","db708e1e":"![](https:\/\/images.fastcompany.net\/image\/upload\/w_1280,f_auto,q_auto,fl_lossy\/wp-cms\/uploads\/2019\/06\/p-2-90369607-see-googleand8217s-six-rules-for-great-data-design.jpg)","4c3b49cc":"# Pie Chart","85975775":"# Bar Plot"}}