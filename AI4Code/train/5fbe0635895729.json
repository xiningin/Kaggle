{"cell_type":{"dd69f440":"code","f24f50ef":"code","4a81ecbb":"code","1f1ef033":"code","4c35dd55":"code","151caccf":"code","6c712122":"code","c095f6a1":"code","4691a4e7":"code","ae66999b":"code","bb57a39a":"code","80a9c993":"code","d837eb1f":"code","7290d824":"code","48c9862d":"code","e4256fcb":"code","2617d624":"code","d3b8009d":"code","744df612":"code","eb7045ed":"code","570968fe":"code","0a2dff9e":"code","5cd0facc":"code","0e86b42d":"code","e8f55b46":"code","3dc47d66":"code","2749eaab":"code","7b120cc4":"code","0b4134fc":"code","56e5fc74":"code","13c8ba0f":"code","974e49c3":"markdown","ac69ed03":"markdown","51e9aa26":"markdown","69733179":"markdown","d7f8ce6a":"markdown","bf337aec":"markdown","12aac160":"markdown","2b11b3a1":"markdown","3c40831a":"markdown","156afb78":"markdown","86ea8795":"markdown","b909e68f":"markdown","f012d4e1":"markdown","32c5f331":"markdown","9d3a0156":"markdown","6b4eb939":"markdown"},"source":{"dd69f440":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f24f50ef":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly\nimport plotly.express as px","4a81ecbb":"movies=pd.read_csv('..\/input\/imdb-data\/IMDB-Movie-Data.csv')","1f1ef033":"movies.head(2)","4c35dd55":"movies.info()\nmovies.describe()","151caccf":"df=movies[~movies['Revenue (Millions)'].isnull()].copy()\ndf.info()","6c712122":"max_metascore =df['Metascore'].mean()\ndf.Metascore.fillna(max_metascore,inplace=True)","c095f6a1":"sns.boxplot(data=df,x='Year', y='Revenue (Millions)')\nplt.show()","4691a4e7":"df['cnt']=1","ae66999b":"sns.pairplot(data=df, vars=[\"Votes\", \"Revenue (Millions)\",\"Rating\",\n                            \"Runtime (Minutes)\",\"Metascore\"])\nplt.show()","bb57a39a":"px.scatter(df,x='Revenue (Millions)',y='Votes',size='Votes', \n           color = 'Rating',hover_name='Title',animation_frame='Year',\n           title=\"Distribution of Revenue and Votes\")","80a9c993":"df[['Genre1', 'Genre2','Genre3']] = df['Genre'].str.split(',', 3, expand=True).fillna(value=\"\")\ndf[['Actor1', 'Actor2','Actor3']] = df['Actors'].str.split(',', 2,expand=True).fillna(value=\"\")","d837eb1f":"df['Genre2']=df['Genre2'].fillna(df.Genre1, inplace=True)\ndf['Genre3']=df['Genre3'].fillna(df.Genre1,inplace=True)","7290d824":"df_by_genre1 = df.groupby('Genre1')\ndf_by_genre2 = df.groupby('Genre2')\ndf_by_genre3 = df.groupby('Genre3')\nagg_genre1=df_by_genre1.sum()\nagg_genre2=df_by_genre2.sum()\nagg_genre3=df_by_genre3.sum()\nge1_ge2 = agg_genre1.add(agg_genre2, fill_value=0.0)\nfinal_genre = ge1_ge2.add(agg_genre3, fill_value=0.0)\ngenre_temp=final_genre.reset_index().head(10)\ngenre_temp","48c9862d":"sns.set(style=\"darkgrid\")","e4256fcb":"fig, ax1 = plt.subplots(figsize = (14,6))\n\nax2 = ax1.twinx()\nax1.bar(genre_temp['Genre1'],genre_temp['Revenue (Millions)'])\nax2.plot(genre_temp['Genre1'],genre_temp['cnt'], 'o-', color=\"red\" )\nax1.set_xlabel('Genre')\nax1.set_ylabel('Revenue', color='b')\nax2.set_ylabel('No of Movies', color='r')\nplt.show()","2617d624":"df_year = df.groupby('Year')['cnt'].count().reset_index()\npx.line(df_year, x='Year',y='cnt',template='plotly_dark',text='cnt',\n        title=\"No of releases in Year\")","d3b8009d":"df_Rev = df.groupby('Year')['Revenue (Millions)'].sum().round(1).reset_index()\npx.line(df_Rev, x='Year',y='Revenue (Millions)',template='plotly_dark',text='Revenue (Millions)',\n        title=\"Revenue in Years\")","744df612":"df_2016 = df[df['Year']==2016].copy()\ndf_temp=df_2016.sort_values(by='Revenue (Millions)',ascending = False).head(10)\npx.bar(df_temp,y='Revenue (Millions)',x='Title',color='Genre1',text='Rating',\n       title='Most successful Movies\/Genre of Year:2016')","eb7045ed":"plt.figure(figsize=(10,7),facecolor='white')\nsns.distplot(df['Runtime (Minutes)'],bins=10,kde=True)\nplt.suptitle(\"Distribution of Movie by RunTime\", fontsize=20)\nplt.show()","570968fe":"movies_Rev=df.sort_values(by='Revenue (Millions)',ascending = False)[0:10]\npx.pie(movies_Rev, values='Revenue (Millions)', names='Actor1',title='Actors vs Revenue Distribution')","0a2dff9e":"px.pie(movies_Rev, values='Revenue (Millions)', names='Title', title='Movies vs Revenue Distribution')","5cd0facc":"px.bar(movies_Rev,x='Actor1',y='Revenue (Millions)',color='Votes',\n       hover_name='Title', text='Rating',template='plotly_dark')","0e86b42d":"top_director= df.groupby('Director')['Revenue (Millions)'].sum().reset_index()\ntop_director.sort_values('Revenue (Millions)',ascending =False)[0:5]","e8f55b46":"px.bar(movies_Rev,x='Director',y='Revenue (Millions)',\n       color='Metascore',hover_name='Title',\n       template='plotly_dark',text='Revenue (Millions)', title='Top Directors and Revenue Distribution by Metascore')","3dc47d66":"movies_Votes=df.sort_values(by='Votes',ascending = False)[0:20]\n\npx.bar(movies_Votes,x='Actor1',y='Votes',color='Revenue (Millions)',\n       hover_name='Title',text='Rating',template='plotly_dark',\n      title='Most Popular\/Voted Actors')","2749eaab":"px.bar(movies_Votes,x='Title',y='Votes',color='Revenue (Millions)',\n       hover_name='Title',text='Metascore',template='plotly_dark',\n      title='Most Popular\/Voted Movies')","7b120cc4":"top_Actor = pd.pivot_table(df,index=['Actor1'],\n                           values=['Revenue (Millions)','Metascore','Votes','Rating','cnt'],\n                           aggfunc={'Revenue (Millions)':np.sum,'Metascore':np.mean,\n                                    'Votes':np.mean,'Rating':np.mean,'cnt':np.sum})","0b4134fc":"actor = top_Actor.sort_values(by='Revenue (Millions)',\n                              ascending = False).reset_index()[0:20]\nactor","56e5fc74":"\npx.scatter(actor,y= 'Revenue (Millions)',x= 'Rating', \n           color= 'cnt',size='Rating',text='Actor1',\n           title='Revenue Vs Rating of most Popular Actor and No of Movies')","13c8ba0f":"px.histogram(df, x='Metascore',y='Revenue (Millions)',title='Impact of Metascore on Revenue')","974e49c3":"If We consider the Primary actor of the Movies and and Revenue Generated by respective movie is Robert Downey Jr.\n\nBut that is not the case, chances are on the above plot we distribution of Revenue is additing of one or more movies done by respective Actor.\n\nWe will further analyse on this part !!","ac69ed03":"let's extarct the IMDB Movie Data","51e9aa26":"We will now drill down within year 2016 - released movies..... !!\n\nTop Revenue generating movies in year 2016 and their Ratings !\n\nCaptain America and Rouge One is most Revenue generating movies of Year 2016 being below 8 Rating.\nand on the other hand Deadpool and Zootopia having Rating above 8 still the revenue Ranks at 4th and 5th. \n\n***One point to observe here Zootopia belongs to Genre - Animation and that can be one of reason of lagging behine in Revenue but still high in Rating.***","69733179":"Since Metascore still has few null records left whcih can be replaced using mean value treatment.","d7f8ce6a":"Genre - Action has maximum numbers of movies and which generates maximum Revenue compared to other Genre.\nBut if we look at Drama and Comedy has on an average 150 nos of movies but generates very less revenue in comparision with other category of Genre and respective Revenues.\n\nNow we will look at the number of (movies) released in year.....\nYOY no of releases increaing linearly and year 2016 seems to have spike in no of relases. But Same growth is not observed for Revenue !","bf337aec":"Now from above Plot, it is clear that why Revenue generated by the Movies of Robert Downey Jr. is Highest amon the all because it has more then one movie.\n\nAlso, a intresting point to observe from above plot -> Movie - The Dark Knight got the Highest Rating of 9 and Highest Votes above 1.6M still below average Revenue generated by Movie copare to other Movie and actor! \n\n*Let us now look at the list of Top Directors and their critic score !*","12aac160":"We can observe from the above plot - Metascore from 55 to 70 seems to have highest Revenue ! ","2b11b3a1":"From the above plot we observe that their are movies which has Higher Rating along with Higher Votes still Revenue is not up to the Mark.\nYear - 2012 (Django Unchained)\nYear - 2014 (Interstellar)\nYear - 2006 (The Prestige,The Departed)\n\nLet us extract more insights from the Table....\nFirst split the Genre and Actor Table for more understandig !","3c40831a":"We can extract list of Top Actors by Revenue generated in Movies.\nAnd Let us look at the distribution of Revenue and Rating for Top Actors.","156afb78":"The above Pairplot gives us the basic understanding on distribution of all the numerical column.\n\nIf we look at the Relationship of Revenue and Votes- YOY","86ea8795":"**Most of Movies Belongs to Runtime Range - 90 to 130 Minutes !**","b909e68f":"From the above table it is clearly visible that Revenue has some of the movies which gained very high Revenue their is huge gap beetween 50% -75% - max value.\n\nAlso, from the above data colum it is understood, Revenue and Metascore column has missing values which needs to be treated.\nBut Revenue of the movie is very sensitive and which we can not relace by Mean, Median or Mode filling.\n\nWe can go ahead and drop those rows from our EDA process. ","f012d4e1":"Let us look at the Columns and Data Type.","32c5f331":"Now we can go ahead with analyzing our Table.\n\nLet us first look at the Revenue of all the movies over period of time.\n","9d3a0156":"After grouping and adding all the Genre we observe that Adventure has the maximum Revenue and followed by Action.","6b4eb939":"We can observe from above plot, Year 2015 and 2009 clearly has datapoint with highest Revenue generating movie.\n\nWhich we will observe in our further analysis.\n\nI will be adding a column with 1 in all the rows which will be usefull in our further analysis we wil do. Also, for now we will keep our original Table Sorted by Revenue."}}