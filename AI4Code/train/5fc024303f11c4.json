{"cell_type":{"17e5b61a":"code","aad66530":"code","cfa02d5e":"code","18c75613":"code","48eb2626":"code","138d82f0":"code","6ab9f39d":"code","2188fdb3":"code","dd485bfb":"code","a33b801b":"code","609df09f":"code","b9fff21d":"code","8a113301":"code","6b3f670f":"code","af1bf0d2":"code","4ee66249":"code","40997bde":"code","cdb1633a":"code","c0b95a80":"code","98b3727c":"code","89140bbb":"code","e40e2d6d":"code","a5fd659e":"code","36ff91f2":"code","2a9d56fc":"code","af40b15e":"code","e4704b40":"code","5cd0750b":"code","8962d3b8":"code","2c0c546f":"code","7c03a94a":"markdown","d98aae9a":"markdown","1335f9b8":"markdown","2d6afcd5":"markdown","0172b165":"markdown"},"source":{"17e5b61a":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n\npd.options.display.max_rows = 4000\npd.options.display.max_columns = 51\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","aad66530":"country_book=pd.read_csv(\"\/kaggle\/input\/what-a-waste\/country_level_codebook1.csv\")\ncountry_df=pd.read_csv(\"\/kaggle\/input\/what-a-waste\/country_level_data_01.csv\")\ncity_book=pd.read_csv(\"\/kaggle\/input\/what-a-waste\/city_level_codebook_01.csv\")\ncity_df=pd.read_csv(\"\/kaggle\/input\/what-a-waste\/city_level_data_0_01.csv\")","cfa02d5e":"country_book.head()","18c75613":"city_book.head()","48eb2626":"country_df.head()","138d82f0":"city_df.head()","6ab9f39d":"measurements=country_book.measurement.unique()\nsorted(measurements)","2188fdb3":"special_waste_gen=[x for x in country_book.measurement.unique().tolist() if x.startswith(\"special_waste\")]\nwaste_composition=[x for x in country_book.measurement.unique().tolist() if x.startswith(\"composition\")]\nwaste_treatment=[x for x in country_book.measurement.unique().tolist() if x.startswith(\"waste_treatment\")]","dd485bfb":"waste_composition + [\"    \"] + waste_treatment + [\"    \"] + special_waste_gen","a33b801b":"country_df.info()","609df09f":"b=plt.boxplot(country_df.gdp.dropna())\nplt.title('GDP')","b9fff21d":"[item.get_ydata() for item in b['whiskers']]","8a113301":"country_df=country_df[country_df['gdp']<=5e+11].reset_index()\ncountry_df","6b3f670f":"country_df=country_df.dropna(subset=['gdp'])","af1bf0d2":"composition_country=country_df[['region_id', 'country_name','gdp']+waste_composition].dropna(thresh=9)\ncomposition_country","4ee66249":"melt=pd.melt(composition_country, value_vars=waste_composition)\ngrid=sns.FacetGrid(melt, col='variable',col_wrap=3, sharex=False, sharey=False, height=4, aspect=1)\ngrid.map(sns.distplot, 'value')","40997bde":"print(\"Missing value percent:\")\nprint((composition_country.isnull().sum()*100\/len(composition_country)).sort_values(ascending=False))","cdb1633a":"waste_composition=[col for col in waste_composition if col not in (\"composition_yard_garden_green_waste_percent\",\"composition_rubber_leather_percent\", \"composition_wood_percent\")]\n","c0b95a80":"waste_composition+['regionID']","98b3727c":"melt=pd.melt(composition_country, id_vars='gdp', value_vars=waste_composition)\ngrid=sns.FacetGrid(melt, col='variable',col_wrap=3, sharex=False, sharey=False, height=4.5, aspect=1)\ngrid.map(sns.regplot, 'value', 'gdp')\nplt.suptitle('Waste Composition versus GDP for Countries')\nplt.tight_layout(rect=[0, 0.03, 1, 0.95])","89140bbb":"correlation=composition_country.corr().abs()\nfig=plt.figure(figsize=(15,12))\nax=plt.gca()\nsns.heatmap(correlation, annot=True, cmap='RdYlBu', mask=np.triu(correlation, k=0), ax=ax)","e40e2d6d":"special_waste_gen","a5fd659e":"generation_country=country_df[['region_id', 'country_name','gdp']+special_waste_gen].dropna(thresh=6)\ngeneration_country","36ff91f2":"print(\"Missing value percent:\\n\")\nprint((generation_country.isnull().sum()*100\/len(generation_country)).sort_values(ascending=False))","2a9d56fc":"sns.lmplot(x=\"special_waste_e_waste_tons_year\", y=\"gdp\", data=generation_country)\nplt.xlabel(\"Special Waste\")\nplt.ylabel(\"GDP (*1e11)\")\nplt.title(\"Special Waste versus GDP\")","af40b15e":"correlation=generation_country.corr().abs()\nfig=plt.figure(figsize=(15,12))\nax=plt.gca()\nsns.heatmap(correlation, annot=True, cmap='RdYlBu', mask=np.triu(correlation, k=0), ax=ax)","e4704b40":"correlation.nlargest(n=3, columns=special_waste_gen)","5cd0750b":"waste_treatment","8962d3b8":"city1=city_df[['country_name', 'city_name', 'region_id'] + waste_treatment].dropna(thresh=4)\ncity2=city_df[['country_name', 'city_name', 'region_id'] + waste_composition].dropna(thresh=4)\ncity=pd.merge(city1,city2, on=['country_name', 'city_name', 'region_id'])\ncity.head()","2c0c546f":"melt=pd.melt(city, id_vars=['waste_treatment_recycling_percent', 'region_id'], value_vars=waste_composition)\ngrid=sns.FacetGrid(melt, col='variable',col_wrap=3, hue='region_id', sharex=False, sharey=False, height=4.5, aspect=1)\nplots=grid.map(sns.scatterplot, 'value', 'waste_treatment_recycling_percent')\nplots.add_legend()\nplt.suptitle('Waste Composition versus Recycling Percent for Cities')\nplt.tight_layout(rect=[0, 0.03, 0.95, 0.95])","7c03a94a":"## correlation","d98aae9a":"# 3- waste composition and waste treatment methods","1335f9b8":"# 2- income and special waste generation","2d6afcd5":"- income and waste composition\n- income and special waste generation\n- waste composition and waste treatment methods","0172b165":"# 1- income and waste composition"}}