{"cell_type":{"304362f7":"code","4e6d91d5":"code","ec318470":"code","7cd3bfe4":"code","b7af4838":"code","30b6422a":"code","ceb162fb":"code","287952e8":"code","1a8ee328":"code","a02ccd4d":"code","21a5a91e":"code","bfe40097":"code","bcaac56e":"code","8801e65b":"code","077f943c":"code","61731f2a":"code","0d9db2db":"code","b8db9b76":"code","d6d83c4e":"code","55078412":"code","217eabc0":"code","ea261980":"code","8f41dbfb":"code","67bddfd6":"code","eb4c3fbc":"code","b1b552de":"code","440f5450":"code","e08c3b2d":"code","2d10cabe":"code","930e60b0":"code","c4cb8775":"code","ecca37e3":"code","40497af8":"code","f04c464f":"code","6f14922a":"code","8c745e21":"markdown","2842161e":"markdown","f2e1a66e":"markdown","09c63544":"markdown","67799684":"markdown","799d7012":"markdown","993b6665":"markdown","45f11baa":"markdown"},"source":{"304362f7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom matplotlib import pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nfrom pandas.plotting import lag_plot\nfrom pandas.plotting import autocorrelation_plot\nfrom statsmodels.tsa import stattools\nfrom statsmodels.tsa.seasonal import seasonal_decompose\nfrom statsmodels.graphics.tsaplots import plot_acf, plot_pacf\nimport random\nimport re\nimport copy\n\npd.set_option('display.max_colwidth', None)\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', 2000)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4e6d91d5":"from sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.decomposition import LatentDirichletAllocation\n ","ec318470":"#\ndf_tech = pd.read_csv('\/kaggle\/input\/2020-udemy-courses-dataset\/udemy_tech.csv')\ndf_tech['Summary'] = df_tech['Summary'].fillna('')\nprint(df_tech.shape)\ndf_tech.info()\n","7cd3bfe4":"df_tech.sample(1)\n","b7af4838":"def get_topic_list(_df, n_components, stop_word_list):\n    #\n    df = _df.copy()\n    #\n    LDA = LatentDirichletAllocation(n_components=20,random_state=42)\n    cv = CountVectorizer(max_df=0.6, min_df=3, stop_words='english')\n    dtm_tech = cv.fit_transform(df[ 'Title']  + df[ 'Summary'] )\n    LDA.fit(dtm_tech)\n    print(len(cv.get_feature_names()), len(LDA.components_))\n    #\n    all_topic = []\n    for index,topic in enumerate(LDA.components_):\n        #print(f'TOP 15 WORDS FOR TOPIC #{index}')\n        list = ([cv.get_feature_names()[i] for i in topic.argsort()[-5:]] )\n        filtered_list = [x for x in list if x not in tech_stop_word_list]\n        print('topic found: ', filtered_list)\n        if filtered_list != None:\n            all_topic.append(filtered_list)\n            \n    return all_topic\n\n\ndef get_topic_index(row, all_topic):\n     \n    wordlist_count = []\n    for wordlist in all_topic:\n        wordlist_re = r'\\W(' + '|'.join(wordlist) + r')(s?)\\W'\n        matches = re.findall(wordlist_re, row , re.I)\n        matched_words = [ match[0].lower() for match in matches]\n        #print(matched_words, len(matched_words))\n        wordlist_count.append(len(matched_words))\n     \n    max_index = wordlist_count.index(max(wordlist_count))\n    return max_index\n","30b6422a":"tech_stop_word_list = ['course','know','visual','services', 'start', 'project','basics', 'beginners', 'scratch','application', 'building','projects', 'world', 'real','learn','apps', 'app', 'getting', 'driven', 'development', 'started', 'need', 'code', 'coding', 'zero', 'using', 'time', 'step', 'real', 'learn','programming','easy','build', 'world', 'tool']\nall_tech_topic = get_topic_list(df_tech, n_components=20, stop_word_list=tech_stop_word_list)\n","ceb162fb":"all_tech_topic  ","287952e8":"df_tech['topic_group_index'] = (df_tech['Title'] + df_tech['Summary']).apply(get_topic_index, all_topic=all_tech_topic)\ndf_tech['topic_group'] = df_tech['topic_group_index'].map(lambda x : all_tech_topic[x])\ndf_tech['topic_group'] = df_tech['topic_group'].apply(lambda l : ', '.join(l)) \n \ndf_sum_tech_topic_group = df_tech['topic_group'].value_counts().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_sum_tech_topic_group.plot.barh(ax=ax).invert_yaxis()\n    ","1a8ee328":"df_tech_sum_enrollment = df_tech.groupby('topic_group').Enrollment.sum().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_tech_sum_enrollment.plot.barh(ax=ax).invert_yaxis()\n    ","a02ccd4d":"plt.ax = plt.figure(figsize=(10,10))\nsns.jointplot(x='Rating',y='Enrollment', data=df_tech.loc[(df_tech['Rating'] < 100000),:].sample(5000), kind='reg',ax=ax)\n","21a5a91e":"plt.ax = plt.figure(figsize=(10,20))\nsns.jointplot(x='Stars',y='Enrollment', data=df_tech.loc[(df_tech['Enrollment'] < 100000),:], kind='reg',ax=ax)\n","bfe40097":"plt.ax = plt.figure(figsize=(10,20))\nsns.jointplot(x='Rating',y='Stars', data=df_tech, kind='reg',ax=ax)\n","bcaac56e":"df_tech[['Title','Enrollment']].sort_values(by='Enrollment', ascending=False).head(10)\n","8801e65b":"df_tech[['Title','Rating']].sort_values(by='Rating', ascending=False).head(10)\n","077f943c":"df_tech[['Title','Stars']].sort_values(by='Stars', ascending=False).head(10)","61731f2a":"#\ndf_business = pd.read_csv('\/kaggle\/input\/2020-udemy-courses-dataset\/udemy_business.csv')\ndf_business['Summary'] = df_business['Summary'].fillna('')\nprint(df_business.shape)\ndf_business.info()\n","0d9db2db":"df_business.sample(1)\n#df_business.isnull().sum()","b8db9b76":"business_stop_word_list = ['course','know','visual','services', 'start', 'project','basics', 'beginners', 'scratch','application', 'building','projects', 'world', 'real','learn','apps', 'app', 'getting', 'driven', 'development', 'started', 'need', 'code', 'coding', 'zero', 'using', 'time', 'step', 'real', 'learn','programming','easy','build', 'world', 'tool']\nall_business_topic = get_topic_list(df_business, n_components=20, stop_word_list=business_stop_word_list)\n    ","d6d83c4e":"df_business['topic_group_index'] = (df_business['Title'] + df_business['Summary']).apply(get_topic_index, all_topic=all_business_topic)\ndf_business['topic_group'] = df_business['topic_group_index'].map(lambda x : all_business_topic[x])\ndf_business['topic_group'] = df_business['topic_group'].apply(lambda l : ', '.join(l)) \n \ndf_sum_business_topic_group = df_business['topic_group'].value_counts().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_sum_business_topic_group.plot.barh(ax=ax).invert_yaxis()\n\n\n    ","55078412":"df_business_sum_enrollment = df_business.groupby('topic_group').Enrollment.sum().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_business_sum_enrollment.plot.barh(ax=ax).invert_yaxis()\n    \n","217eabc0":"#\ndf_design = pd.read_csv('\/kaggle\/input\/2020-udemy-courses-dataset\/udemy_design.csv')\ndf_design['Summary'] = df_design['Summary'].fillna('')\nprint(df_design.shape)\ndf_design.info()\n","ea261980":"df_design.sample(1)\n ","8f41dbfb":"design_stop_word_list = ['course','know','visual','services', 'start', 'project','basics', 'beginners', 'scratch','application', 'building','projects', 'world', 'real','learn','apps', 'app', 'getting', 'driven', 'development', 'started', 'need', 'code', 'coding', 'zero', 'using', 'time', 'step', 'real', 'learn','programming','easy','build', 'world', 'tool']\nall_design_topic = get_topic_list(df_design, n_components=20, stop_word_list=design_stop_word_list)\n   ","67bddfd6":"df_design['topic_group_index'] = (df_design['Title'] + df_design['Summary']).apply(get_topic_index, all_topic=all_design_topic)\ndf_design['topic_group'] = df_design['topic_group_index'].map(lambda x : all_design_topic[x])\ndf_design['topic_group'] = df_design['topic_group'].apply(lambda l : ', '.join(l)) \n \ndf_sum_design_topic_group = df_design['topic_group'].value_counts().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_sum_design_topic_group.plot.barh(ax=ax).invert_yaxis()\n","eb4c3fbc":"df_design_sum_enrollment = df_design.groupby('topic_group').Enrollment.sum().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_design_sum_enrollment.plot.barh(ax=ax).invert_yaxis()\n    \n    ","b1b552de":"#\ndf_marketing = pd.read_csv('\/kaggle\/input\/2020-udemy-courses-dataset\/udemy_marketing.csv')\ndf_marketing['Summary'] = df_marketing['Summary'].fillna('')\nprint(df_marketing.shape)\ndf_marketing.info()\n","440f5450":"df_marketing.sample(1)\n","e08c3b2d":"marketing_stop_word_list = ['course','know','visual','services', 'start', 'project','basics', 'beginners', 'scratch','application', 'building','projects', 'world', 'real','learn','apps', 'app', 'getting', 'driven', 'development', 'started', 'need', 'code', 'coding', 'zero', 'using', 'time', 'step', 'real', 'learn','programming','easy','build', 'world', 'tool']\nall_marketing_topic = get_topic_list(df_marketing, n_components=20, stop_word_list=marketing_stop_word_list)\n  ","2d10cabe":"df_marketing['topic_group_index'] = (df_marketing['Title'] + df_marketing['Summary']).apply(get_topic_index, all_topic=all_marketing_topic)\ndf_marketing['topic_group'] = df_marketing['topic_group_index'].map(lambda x : all_marketing_topic[x])\ndf_marketing['topic_group'] = df_marketing['topic_group'].apply(lambda l : ', '.join(l)) \n \ndf_sum_marketing_topic_group = df_marketing['topic_group'].value_counts().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_sum_marketing_topic_group.plot.barh(ax=ax).invert_yaxis()\n","930e60b0":"df_marketing_sum_enrollment = df_marketing.groupby('topic_group').Enrollment.sum().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_marketing_sum_enrollment.plot.barh(ax=ax).invert_yaxis()\n","c4cb8775":"#\ndf_finance = pd.read_csv('\/kaggle\/input\/2020-udemy-courses-dataset\/udemy_finance.csv')\ndf_finance['Summary'] = df_finance['Summary'].fillna('')\nprint(df_finance.shape)\ndf_finance.info()\n","ecca37e3":"df_finance.sample(1)\n","40497af8":"finance_stop_word_list = ['course','know','visual','services', 'start', 'project','basics', 'beginners', 'scratch','application', 'building','projects', 'world', 'real','learn','apps', 'app', 'getting', 'driven', 'development', 'started', 'need', 'code', 'coding', 'zero', 'using', 'time', 'step', 'real', 'learn','programming','easy','build', 'world', 'tool']\nall_finance_topic = get_topic_list(df_finance, n_components=20, stop_word_list=finance_stop_word_list)\n  ","f04c464f":"df_finance['topic_group_index'] = (df_finance['Title'] + df_finance['Summary']).apply(get_topic_index, all_topic=all_finance_topic)\ndf_finance['topic_group'] = df_finance['topic_group_index'].map(lambda x : all_finance_topic[x])\ndf_finance['topic_group'] = df_finance['topic_group'].apply(lambda l : ', '.join(l)) \n \ndf_sum_finance_topic_group = df_finance['topic_group'].value_counts().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_sum_finance_topic_group.plot.barh(ax=ax).invert_yaxis()\n","6f14922a":"df_finance_sum_enrollment = df_finance.groupby('topic_group').Enrollment.sum().sort_values(ascending=False)\n\nfig = plt.figure(figsize=(10,10))  \nax = fig.add_subplot(111)\ndf_finance_sum_enrollment.plot.barh(ax=ax).invert_yaxis()\n","8c745e21":"NLP group courses into topics:","2842161e":"By Topic Group: sum of enrollment per topic group","f2e1a66e":"Design Section","09c63544":"By Topic Group: num of courses per topic group","67799684":"Tech section","799d7012":"Business Section","993b6665":"marketing section","45f11baa":"Finance Section"}}