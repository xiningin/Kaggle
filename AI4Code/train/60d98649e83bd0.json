{"cell_type":{"50cfe86a":"code","a09cefe7":"code","748d53f0":"code","c33113e4":"code","7cac4172":"code","d9fd3ac3":"code","bffe0c16":"code","c4f2da32":"code","df3ccee5":"code","8d547e65":"code","fa19ec97":"code","5d85ec51":"code","8f047050":"code","9c52b53e":"code","49e03685":"code","28a35af9":"code","004df4a5":"code","27b9800b":"code","f1e8e67f":"code","b765b47c":"code","0c00d3b7":"code","4b73762c":"code","e50ca1ae":"code","2f1efdf7":"code","aecab4fd":"code","e4ea2610":"code","b45e47f0":"code","a97cf870":"code","4fe9824d":"code","a5726782":"code","27b6b169":"markdown","cf059a72":"markdown","54b4082c":"markdown","674dabce":"markdown","a08ae3b2":"markdown","7468145d":"markdown","492be50c":"markdown","a023b641":"markdown","94ac116f":"markdown","8ecb59ac":"markdown","4129fecb":"markdown","f7cdd513":"markdown","01d5e293":"markdown","d1e6840f":"markdown","90b4594e":"markdown","23d81eff":"markdown","3b4bd1e7":"markdown","8cba5d7a":"markdown","b06e873b":"markdown","0a1defcd":"markdown","027b32c4":"markdown","40c09b2a":"markdown","7de59f5b":"markdown","db805d0f":"markdown","50a712d6":"markdown","bbffe74c":"markdown","563bde14":"markdown","b2040581":"markdown","3444aead":"markdown","470ddb1d":"markdown","3798bb20":"markdown","8fb49a3b":"markdown","11a84610":"markdown","2f9559df":"markdown","c15ac2e7":"markdown","c264ca75":"markdown","52a7a892":"markdown"},"source":{"50cfe86a":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport scipy as stats\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LinearRegression","a09cefe7":"data = pd.read_csv('..\/input\/world-happiness\/2019.csv')\nprint(data.info())\n","748d53f0":"data.head(10)","c33113e4":"data.describe()","7cac4172":"data.rename(columns={'Country or region':'Country'}, inplace=True)\ndata.info()","d9fd3ac3":"if(data.isnull().values.any()):\n    data.dropna(subset = [\n        'Overall rank',\n        'Country',\n        'Score',\n        'GDP per capita',\n        'Social support',\n        'Healthy life expectancy',\n        'Freedom to make life choices',\n        'Generosity',\n        'Perceptions of corruption'\n        \n    ], inplace=True)\nelse:\n    print('Tidak terdapat missing values')","bffe0c16":"#Menampilkan daftar benua dari dataset Country Mapping - ISO, Continent, Region\nworld_df = pd.read_csv('..\/input\/country-mapping-iso-continent-region\/continents2.csv')\nworld_df['region'].value_counts()","c4f2da32":"#Membuat list negara dari tiap-tiap benua\nafrica = world_df.loc[world_df['region'] == 'Africa', 'name'].tolist()\namerica = world_df.loc[world_df['region'] == 'Americas', 'name'].tolist()\nasia = world_df.loc[world_df['region'] == 'Asia', 'name'].tolist()\neurope = world_df.loc[world_df['region'] == 'Europe', 'name'].tolist()\noceania = world_df.loc[world_df['region'] == 'Oceania', 'name'].tolist()\n\n#fungsi mendapatkan nama benua berdasarkan nama negara\ndef get_continent(country):\n    if country in africa:\n        return 'Africa'\n    elif country in america:\n        return 'Americas'\n    elif country in asia:\n        return 'Asia'\n    elif country in europe:\n        return 'Europe'\n    elif country in oceania:\n        return \"Oceania\"\n\ncontinent = [get_continent(country) for country in data['Country']]\ndata['Region'] = continent\ndata['Region'].value_counts()","df3ccee5":"income_group_df = pd.read_csv('..\/input\/world-bank-country-and-lending-groups\/worldbank_classification.csv')\nincome_group_df['Income group'].value_counts()","8d547e65":"high = income_group_df.loc[income_group_df['Income group'] == 'High income', 'Economy'].tolist()\nupper_middle = income_group_df.loc[income_group_df['Income group'] == 'Upper middle income', 'Economy'].tolist()\nlower_middle = income_group_df.loc[income_group_df['Income group'] == 'Lower middle income', 'Economy'].tolist()\nlower = income_group_df.loc[income_group_df['Income group'] == 'Low income', 'Economy'].tolist()\n\ndef get_income_category(country):\n    if country in high:\n        return 'High income'\n    elif country in upper_middle:\n        return 'Upper middle income'\n    elif country in lower_middle:\n        return 'Lower middle income'\n    else:\n        return 'Low income'\n\nincome_list = [get_income_category(country) for country in data['Country']]\ndata['Income group'] = income_list\ndata['Income group'].value_counts()","fa19ec97":"fig, axes = plt.subplots(2, 3, figsize=(20,10))\nsns.regplot(x='GDP per capita', y='Score', data=data, ax=axes[0][0], color='blue')\nsns.regplot(x='Social support', y='Score', data=data, ax=axes[0][1], color='red')\nsns.regplot(x='Healthy life expectancy', y='Score', data=data, ax=axes[0][2], color='green')\nsns.regplot(x='Freedom to make life choices', y='Score', data=data, ax=axes[1][0], color='purple')\nsns.regplot(x='Generosity', y='Score', data=data, ax=axes[1][1], color='crimson')\nsns.regplot(x='Perceptions of corruption', y='Score', data=data, ax=axes[1][2], color='orange')\nplt.show()\n","5d85ec51":"plt.subplots(figsize=(10, 10))\nsns.heatmap(data.corr(), annot=True)\nplt.show()","8f047050":"africa = data['Region'] == 'Africa'\nafrica_df = data[africa]\n\namerica = data['Region'] == 'Americas'\namerica_df = data[america]\n\nasia = data['Region'] == 'Asia'\nasia_df = data[asia]\n\neurope = data['Region'] == 'Europe'\neurope_df = data[europe]\n\noceania = data['Region'] == 'Oceania'\noceania_df = data[oceania]\n\n\nfig, axes = plt.subplots(2, 3, figsize=(20, 13))\nsns.barplot(x='Region', y='Score', data=data, ax=axes[0][0])\nsns.barplot(x='Region', y='GDP per capita', data=data, ax=axes[0][1])\nsns.barplot(x='Region', y='Social support', data=data, ax=axes[0][2])\nsns.barplot(x='Region', y='Healthy life expectancy', data=data, ax=axes[1][0])\nsns.barplot(x='Region', y='Generosity', data=data, ax=axes[1][1])\nsns.barplot(x='Region', y='Perceptions of corruption', data=data, ax=axes[1][2])\nplt.show()\n","9c52b53e":"def generate_linreg_plot(variable):\n    fig, axes = plt.subplots(2, 2, figsize=(20,10))\n    sns.regplot(x=variable, y='Score', data=africa_df, ax=axes[0][0], color='blue')\n    sns.regplot(x=variable, y='Score', data=america_df, ax=axes[0][1], color='red')\n    sns.regplot(x=variable, y='Score', data=asia_df, ax=axes[1][0], color='green')\n    sns.regplot(x=variable, y='Score', data=europe_df, ax=axes[1][1], color='purple')\n    axes[0][0].set_title('Africa')\n    axes[0][1].set_title('America')\n    axes[1][0].set_title('Asia')\n    axes[1][1].set_title('Europe')\n    plt.show()","49e03685":"generate_linreg_plot('GDP per capita')","28a35af9":"generate_linreg_plot('Social support')","004df4a5":"generate_linreg_plot('Healthy life expectancy')","27b9800b":"generate_linreg_plot('Freedom to make life choices')","f1e8e67f":"generate_linreg_plot('Generosity')","b765b47c":"generate_linreg_plot('Perceptions of corruption')","0c00d3b7":"continent_corrval_dict = {\n    'Region':['Africa', 'America', 'Asia', 'Europe'],\n    'GDP per capita': [\n        africa_df['Score'].corr(africa_df['GDP per capita']),\n        america_df['Score'].corr(america_df['GDP per capita']),\n        asia_df['Score'].corr(asia_df['GDP per capita']),\n        europe_df['Score'].corr(europe_df['GDP per capita']),    \n    ],\n    'Social support':[\n        africa_df['Score'].corr(africa_df['Social support']),\n        america_df['Score'].corr(america_df['Social support']),\n        asia_df['Score'].corr(asia_df['Social support']),\n        europe_df['Score'].corr(europe_df['Social support']),        \n    ],\n    'Healthy life expectancy':[\n        africa_df['Score'].corr(africa_df['Healthy life expectancy']),\n        america_df['Score'].corr(america_df['Healthy life expectancy']),\n        asia_df['Score'].corr(asia_df['Healthy life expectancy']),\n        europe_df['Score'].corr(europe_df['Healthy life expectancy']),        \n    ],\n    'Freedom to make life choices':[\n        africa_df['Score'].corr(africa_df['Freedom to make life choices']),\n        america_df['Score'].corr(america_df['Freedom to make life choices']),\n        asia_df['Score'].corr(asia_df['Freedom to make life choices']),\n        europe_df['Score'].corr(europe_df['Freedom to make life choices'])          \n    ],\n    'Generosity':[\n        africa_df['Score'].corr(africa_df['Generosity']),\n        america_df['Score'].corr(america_df['Generosity']),\n        asia_df['Score'].corr(asia_df['Generosity']),\n        europe_df['Score'].corr(europe_df['Generosity'])        \n    ],\n    'Perceptions of corruption':[\n        africa_df['Score'].corr(africa_df['Perceptions of corruption']),\n        america_df['Score'].corr(america_df['Perceptions of corruption']),\n        asia_df['Score'].corr(asia_df['Perceptions of corruption']),\n        europe_df['Score'].corr(europe_df['Perceptions of corruption'])                  \n    ],\n}\n\ncontinent_corrval_df = pd.DataFrame.from_dict(continent_corrval_dict)\n\nfig, axes = plt.subplots(2, 3, figsize=(20,10))\nsns.barplot(x='Region', y='GDP per capita', data=continent_corrval_df, ax=axes[0][0])\nsns.barplot(x='Region', y='Social support', data=continent_corrval_df, ax=axes[0][1])\nsns.barplot(x='Region', y='Healthy life expectancy', data=continent_corrval_df, ax=axes[0][2])\nsns.barplot(x='Region', y='Generosity', data=continent_corrval_df, ax=axes[1][0])\nsns.barplot(x='Region', y='Perceptions of corruption', data=continent_corrval_df, ax=axes[1][1])\nplt.show()\n","4b73762c":"high_income = data['Income group'] == 'High income'\nhigh_income_df = data[high_income]\n\nupper_middle_income = data['Income group'] == 'Upper middle income'\nupper_middle_income_df = data[upper_middle_income]\n\nlower_middle_income = data['Income group'] == 'Lower middle income'\nlower_middle_income_df = data[lower_middle_income]\n\nlow_income = data['Income group'] == 'Low income'\nlow_income_df = data[low_income]","e50ca1ae":"def generate_income_linreg_plot(variable):\n    fig, axes = plt.subplots(2, 2, figsize=(20,13))\n    sns.regplot(x=variable, y='Score', data=high_income_df, ax=axes[0][0], color='blue')\n    sns.regplot(x=variable, y='Score', data=upper_middle_income_df, ax=axes[0][1], color='red')\n    sns.regplot(x=variable, y='Score', data=lower_middle_income_df, ax=axes[1][0], color='green')\n    sns.regplot(x=variable, y='Score', data=low_income_df, ax=axes[1][1], color='purple')\n    axes[0][0].set_title('High income')\n    axes[0][1].set_title('Upper middle income')\n    axes[1][0].set_title('Lower middle income')\n    axes[1][1].set_title('Low income')\n    plt.show()","2f1efdf7":"generate_income_linreg_plot('GDP per capita')","aecab4fd":"generate_income_linreg_plot('Social support')","e4ea2610":"generate_income_linreg_plot('Healthy life expectancy')","b45e47f0":"generate_income_linreg_plot('Freedom to make life choices')","a97cf870":"generate_income_linreg_plot('Generosity')","4fe9824d":"generate_income_linreg_plot('Perceptions of corruption')","a5726782":"income_corrval_dict = {\n    'Income group':['High income', 'Upper middle income', 'Lower middle income', 'Low income'],\n    'GDP per capita': [\n        high_income_df['Score'].corr(high_income_df['GDP per capita']),\n        upper_middle_income_df['Score'].corr(upper_middle_income_df['GDP per capita']),\n        lower_middle_income_df['Score'].corr(lower_middle_income_df['GDP per capita']),\n        low_income_df['Score'].corr(low_income_df['GDP per capita']),    \n    ],\n    'Social support':[\n        high_income_df['Score'].corr(high_income_df['Social support']),\n        upper_middle_income_df['Score'].corr(upper_middle_income_df['Social support']),\n        lower_middle_income_df['Score'].corr(lower_middle_income_df['Social support']),\n        low_income_df['Score'].corr(low_income_df['Social support']),        \n    ],\n    'Healthy life expectancy':[\n        high_income_df['Score'].corr(high_income_df['Healthy life expectancy']),\n        upper_middle_income_df['Score'].corr(upper_middle_income_df['Healthy life expectancy']),\n        lower_middle_income_df['Score'].corr(lower_middle_income_df['Healthy life expectancy']),\n        low_income_df['Score'].corr(low_income_df['Healthy life expectancy']),        \n    ],\n    'Freedom to make life choices':[\n        high_income_df['Score'].corr(high_income_df['Freedom to make life choices']),\n        upper_middle_income_df['Score'].corr(upper_middle_income_df['Freedom to make life choices']),\n        lower_middle_income_df['Score'].corr(lower_middle_income_df['Freedom to make life choices']),\n        low_income_df['Score'].corr(low_income_df['Freedom to make life choices'])          \n    ],\n    'Generosity':[\n        high_income_df['Score'].corr(high_income_df['Generosity']),\n        upper_middle_income_df['Score'].corr(upper_middle_income_df['Generosity']),\n        lower_middle_income_df['Score'].corr(lower_middle_income_df['Generosity']),\n        low_income_df['Score'].corr(low_income_df['Generosity'])        \n    ],\n    'Perceptions of corruption':[\n        high_income_df['Score'].corr(high_income_df['Perceptions of corruption']),\n        upper_middle_income_df['Score'].corr(upper_middle_income_df['Perceptions of corruption']),\n        lower_middle_income_df['Score'].corr(lower_middle_income_df['Perceptions of corruption']),\n        low_income_df['Score'].corr(low_income_df['Perceptions of corruption'])                  \n    ],\n}\n\nincome_corrval_df = pd.DataFrame.from_dict(income_corrval_dict)\n\n\nfig, axes = plt.subplots(3, 2, figsize=(20,15))\nsns.barplot(x='Income group', y='GDP per capita', data=income_corrval_df, ax=axes[0][0])\nsns.barplot(x='Income group', y='Social support', data=income_corrval_df, ax=axes[0][1])\nsns.barplot(x='Income group', y='Healthy life expectancy', data=income_corrval_df, ax=axes[1][0])\nsns.barplot(x='Income group', y='Generosity', data=income_corrval_df, ax=axes[1][1])\nsns.barplot(x='Income group', y='Perceptions of corruption', data=income_corrval_df, ax=axes[2][0])\nplt.show()\n\n","27b6b169":"Pada skor kebahagiaan negara kelompok *High income* mendapatkan nilai tertinggi, disusul oleh kelompok *upper middle income*, *lower middle income*, dan *low income* hal ini memperjelas bahwa pendapatan per kapita suatu negara berpengaruh terhadap kebahagiaan warganya.","cf059a72":"### *Healthy life expectancy*","54b4082c":"*GDP per capita* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan pada setiap kelompok pendapatan.","674dabce":"Dari grafik dapat dilihat bahwa di setiap benua *GDP per capita* dan *social support*  memiliki nilai koefisian korelasi diatas 0.5 atau 50% yang berarti kedua variabel tersebut memiliki hubungan sebanding dengan signifikansi yang kuat . \n\nUntuk variabel *Healthy life expectancy*, di benua Afrika memiliki nilai korelasi 0.35 atau 35% yang dapat diintepretasikan bahwa terdapat hubungan berbanding lurus dengan signifikansi moderat dengan skor kebahagiaan, sementara di benua lainya terdapat hubungan berbanding lurus antara *Healthy life expectancy* dengan skor kebahagiaan dengan signifikansi yang kuat.\n\nPada variabel *Generosity* terdapat perbedaan pengaruh yang signifikan di setiap benua. Di benua Afrika dan Amerika, terdapat hubungan berbanding terbalik antara variabel *Generosity* dengan skor kebahagiaan, di benua Eropa hubunganya berbanding lurus, sementara di benua Asia hubungan berbanding lurus tetapi signifikansinya lemah.\n\nSementara untuk variabel *Perception of corruption* terdapat hubungan berbanding terbalik di benua Afrika, sementara di benua Amerika, Asia dan Eropa variabel *Perception of corruption* memiliki hubungan berbanding lurus dengan skor kebahagiaan.\n\n","a08ae3b2":"Variabel *Freedom to make life choices* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan di setiap benua.","7468145d":"Dilihat dari kemiringan garis regresi setiap variabel, setiap variabel memiliki pengaruh berbanding lurus terhadap skor kebahagiaan yang berarti semakin tinggi skor suatu variabel maka semakin tinggi skor kebahagiaan.\n### *Correlation Matrix Plot*","492be50c":"### *Freedom to make life choices*","a023b641":"Variabel *Healthy life expectancy* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan di setiap benua.","94ac116f":"Variabel *Perceptions of corruption* memiliki pengaruh positif terhadap skor kebahagiaan di benua Amerika, Asia, dan Eropa. Sementara di benua Afrika variabel *Perceptions of corruption* memiliki hubungan negatif terhadap skor kebahagiaan.\n\n### Membandingkan Koefisien Korelasi dari setiap benua","8ecb59ac":"### *Perceptions of corruption*","4129fecb":"Variabel *Social support* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan di setiap benua.","f7cdd513":"*Correlation Plot* diatas dapat mengukur kekuatan hubungan antar variabel, apabila skor korelasi bernilai positif berarti terdapat hubungan berbanding lurus, dan semakin tinggi skor korelasi semakin kuat hubungan antar variabel, lalu apabila skor korelasi bernilai negatif berarti terdapat hubungan berbanding terbalik antar variabel.  \n\nDilihat dari *Correlation Plot* dapat disimpulkan bahwa *GDP per capita* memiliki korelasi paling kuat dengan skor kebahagian, disusul oleh variabel *social support* dan *healthy life expectancy* kedua variabel ini memiliki nilai korelasi yang sama, sementara variabel *Generosity* memiliki korelasi paling lemah.","01d5e293":"Variabel *Perceptions of corruption* memiliki pengaruh positif terhadap skor kebahagian pada kelompok *High income* dan *Lower middle income*, sementara pada kelompok *Upper middle income* dan *Low income* variabel *Perceptions of corruption* berpengaruh negatif terhadap skor keebahagiaan.\n\n","d1e6840f":"### *Cleaning dataset*\nMengganti nama kolom '*Country or region*\" menjadi kolom \"*Country*\" karena nantinya dataset ini akan ditambah kolom baru yaitu kolom \"*Region*\" yang merupakan kolom benua dimana negara tempat survey diadakan berada, sehingga bisa mencari faktor yang berperan signifikan terhadap indeks kebahagiaan di tiap benua.\n","90b4594e":"### *Generosity*","23d81eff":"### **Keterangan setiap kolom:**\n* *Overall rank*: Peringkat suatu negara berdasarkan skor kebahagiaan\n* *Country or region*: Nama negara\n* *Score*: Skor kebahagiaan \n* *GDP per capita*: Skor kebahagiaan \n* *Social support*: Skor kebahagiaan \n* *Healthy life expectancy*: Skor kebahagiaan \n* *Score*: Skor kebahagiaan \n* *Score*: Skor kebahagiaan ","3b4bd1e7":"Dapat dilihat bahwa benua *Oceania* memiliki skor kebahagiaan tertinggi, selain itu benua *Oceania* juga mendapatkan skor tertinggi di 5 variabel pendukung, disusul Benua Eropa yang memiliki keunggulan pada skor kebahagian dan 4 variabel pendukung, sementara benua Afrika mendapatkan skor yang paling rendah pada setiap kategori.","8cba5d7a":"## Membandingkan Data setiap Kelompok Pendapatan Negara\n### Membandingkan skor setiap variabel dari tiap-tiap kelompok","b06e873b":"*Generosity* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan pada setiap kelompok pendapatan, kecuali kelompok pendapatan *Low income*.","0a1defcd":"*GDP per capita* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan di setiap benua.","027b32c4":"## Tentang *World Happiness Report*\n\n*World Happiness Report* merupakan sebuah survey yang memeringkat 156 negara untuk mengetahui kondisi kebahagian masyarakat di tiap-tiap negara. Laporan tahun ini berfokus pada Kebahagian dan Komunitas dan bagaimana kebahagian telah berkembang selama beberapa dekade terakhir dengan fokus utama: perkembangan teknologi, norma sosial, konflik, dan kebijakan pemerintah yang telah mendorong perkembangan dan perubahan kebahagian masyarakat.\n","40c09b2a":"*Social support* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan pada setiap kelompok pendapatan.","7de59f5b":"Di benua Afrika dan Amerika variabel *Generosity* memiliki pengaruh berbanding terbalik terhadap skor kebahagiaan, di benua Eropa variabel *Generosity* memiliki pengaruh berbanding lurus terhadapap skor kebahagian. Sementara di benua Asia variabel *Generosity* memiliki pengaruh berbanding lurus terhadap skor kebahagian, tetapi pengaruhnya lemah.","db805d0f":"### Mencari *missing values* lalu menghapusnya dari dataset","50a712d6":"*Healthy life expectancy* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan pada setiap kelompok pendapatan.","bbffe74c":"### Menambah kolom \"*Region*\" kedalam dataset","563bde14":"# Insight dari *World Happiness Report* 2019","b2040581":"### *Import libraries* ","3444aead":"### Menambah kolom *Income group* kedalam dataset","470ddb1d":"*Freedom to make life choices* memiliki pengaruh berbanding lurus terhadap skor kebahagiaan pada setiap kelompok pendapatan.","3798bb20":"### Membandingkan Regression Plot setiap variabel dari benua terkait\n**Catatan benua Oceania tidak dilakukan analisa regressi karena hanya terdapat 2 negara karena tidak akan menghasilkan insight apapun. \n### GDP per Capita","8fb49a3b":"### Membuka Dataset dan Melihat Struktur Dataset","11a84610":"# Visualisasi\n## Analisa Keseluruhan Data\n### *Regression Plot*\n","2f9559df":"Klasifikasi kelompok pendapatan negara dilakukan oleh Bank Dunia berdasarkan *GNI per capita* dengan klasifikasi sebagai berikut:\n* *High income country*: *GNI per capita* >= USD12,376\n* *Upper middle income country*: USD3,996 <= *GNI per capita* < USD12,375\n* *Lower middle income country*: USD1,026  <= *GNI per capita* < USD3,995\n* *High income country*: *GNI per capita* <= USD1,025","c15ac2e7":"## Membandingkan Data setiap Benua\n### Membandingkan skor setiap variabel dari tiap-tiap benua","c264ca75":"Pada variabel *GDP per capita* terdapat hal menarik pada negara kelompok *upper middle income* hubungan variabel *GDP per capita* dengan skor kebahagian memiliki hubungan berbanding lurus dengan signifikansi yang rendah sementara di kelompok lain memiliki hubungan berbanding lurus dengan signifikansi yang kuat.\n\n## Kesimpulan.\nKesejahteraan berperan penting terhadap kebahagiaan warga suatu negara hal ini dapat dilihat dari hubungan *GDP per capita* dengan skor kebahagian memiliki pengaruh yang signifikan, selain itu negara yang termasuk kelompok *High income* memiliki nilai tertinggi pada skor kebahagiaan dan seluruh variabel pendukungnya.","52a7a892":"### *Social support*"}}