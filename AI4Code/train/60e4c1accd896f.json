{"cell_type":{"c808fd1f":"code","a2f838a3":"code","6f9684bd":"code","a75f7bd4":"code","f430320f":"code","06b617b9":"code","a78530b5":"code","76b34dfe":"code","00a98332":"code","c7f0ce95":"code","ab5813d0":"code","5fd3f7f9":"code","006b13c5":"code","9a2a6ff4":"code","fff4ca87":"code","69f17343":"code","f500a215":"code","0f4cb768":"code","f4f92c8f":"code","447d23bd":"code","6235b6c5":"code","2ec13c6d":"code","913f9ff8":"code","c3edc061":"code","e2ad0dd3":"code","b57028ca":"code","13a5ee2a":"code","c25fbaca":"code","114939f2":"code","54750e4d":"code","0ed5d634":"code","21bb4482":"code","0736ee92":"code","f6e92190":"markdown","206eca97":"markdown","7cdded33":"markdown","8751a211":"markdown","2aecc285":"markdown","e3cd9e49":"markdown","10b110f1":"markdown","f5e1f3f5":"markdown","14a90dee":"markdown","cd83b604":"markdown","3053ba39":"markdown","19ceb7ed":"markdown","767019f3":"markdown","68a5ab48":"markdown","7be15107":"markdown"},"source":{"c808fd1f":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","a2f838a3":"# Load data from tmdb-movies csv file\ndf = pd.read_csv(\"\/kaggle\/input\/tmdb-movies-dataset\/tmdb-movies.csv\")\ndf.head()","6f9684bd":"# get the shape of the data frame\ndf.shape","a75f7bd4":"# get the basic info about the data frame\ndf.info()","f430320f":"# get statistical information\ndf.describe()","06b617b9":"#check for null values\ndf.isnull().sum()","a78530b5":"# check for duplicates\nsum(df.duplicated())","76b34dfe":"# print data frame columns\ndf.columns","00a98332":"# drop not needed columns\ndf.drop(['id', 'imdb_id', 'budget', 'overview', 'revenue', 'original_title',\n       'homepage', 'tagline', 'keywords',\n       'runtime','release_date','vote_count'],axis=1, inplace=True)\ndf.head()","c7f0ce95":"# rename columns\ndf.rename(columns=lambda x: x.strip().lower(), inplace=True)\ndf.head()","ab5813d0":"# drop null rows\ndf.dropna(inplace=True)","5fd3f7f9":"# check for missing\/zero data in the revenue_adj column\ndf[df['revenue_adj'] == 0].count().any()","006b13c5":"# check for missing\/zero data in the budget_adj column\ndf[df['budget_adj'] == 0].count().any()","9a2a6ff4":"# drop missing\/zero data in revenue_adj column\ndf.drop(df[df['revenue_adj'] == 0].index,inplace=True)","fff4ca87":"# drop missing\/zero data in budget_adj column\ndf.drop(df[df['budget_adj'] == 0].index,inplace=True)","69f17343":"# drop duplicates\ndf.drop_duplicates(inplace=True)","f500a215":"# confirm that there is no null values\ndf.isnull().sum()","0f4cb768":"# fixing release_year data type to be string\ndf.release_year=df.release_year.astype(str)","f4f92c8f":"#get the 10th highest revenue\nmax_revenue = df.nlargest(10, 'revenue_adj').min()\nmax_revenue['revenue_adj']","447d23bd":"# get movies that have at least 1443191435 revenue\nhighest_revenue = df[df['revenue_adj'] >= max_revenue['revenue_adj']].sort_values(by='revenue_adj', ascending=False)\nhighest_revenue.head()","6235b6c5":"#splitting multiple items in cell into sperated rows\ndef split_into_rows(item , col,revenue):\n    df_item=pd.DataFrame(data=item.str.split('|').tolist(),index=[revenue]).stack() \n    df_item=df_item.reset_index([0])\n    df_item.rename(mapper={0:col},axis=1,inplace=True) \n    df_item.rename(columns=lambda x: x.strip().lower().replace(\"_adj\", \"\"), inplace=True)\n    return df_item","2ec13c6d":"#splitting cast items into rows in a separate data frame\ndf_cast = split_into_rows(highest_revenue.cast ,'cast', highest_revenue.revenue_adj)\ndf_cast.head()","913f9ff8":"#splitting production_companies items into rows in a separate data frame\ndf_production_companies = split_into_rows(highest_revenue.production_companies ,'production_companies', highest_revenue.revenue_adj)\ndf_production_companies.head()","c3edc061":"#splitting genres items into rows in a separate data frame\ndf_genres = split_into_rows(highest_revenue.genres ,'genres', highest_revenue.revenue_adj)\ndf_genres.head()","e2ad0dd3":"#splitting director items into rows in a separate data frame\ndf_director = split_into_rows(highest_revenue.director ,'director', highest_revenue.revenue_adj)\ndf_director.head()","b57028ca":"sns.factorplot(x='budget_adj', y='revenue_adj', data= highest_revenue,height=7,aspect=3, kind='point');","13a5ee2a":"df_director['director'].value_counts().plot(title= 'plot director with revenue',x='director', y='revenue_adj', kind='bar', legend=True,figsize=(20, 5));","c25fbaca":"df_genres['genres'].value_counts().plot(title= 'plot genres with revenue',x='genres', y='revenue_adj', legend=True,kind='bar', figsize=(20, 5));","114939f2":"df_cast['cast'].value_counts().plot(title= 'plot cast with revenue',x='cast', y='revenue_adj', legend=True,kind='bar', figsize=(20, 5));","54750e4d":"df_production_companies['production_companies'].value_counts().plot(title= 'plot production companies with revenue',x='production_companies', y='revenue_adj', legend=True,kind='bar', figsize=(20, 5));","0ed5d634":"highest_revenue['vote_average'].value_counts().plot(title= 'plot vote average with revenue',x='vote_average', y='revenue_adj', legend=True,kind='bar', figsize=(20, 5));","21bb4482":"highest_revenue['release_year'].value_counts().plot(title= 'plot release year with revenue',x='release_year', y='revenue_adj', legend=True,kind='bar', figsize=(20, 5));","0736ee92":"#highest_revenue['popularity'].hist(figsize=(30, 5));\nplt.hist(highest_revenue['popularity'], label= 'popularity');\nplt.xlabel('movies');\nplt.ylabel('popularity');\nplt.title('Histogram');","f6e92190":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n### General Properties","206eca97":"### Data Cleaning (Fixing missing data, null, duplicates and not appropriate data types )\n\n1- The columns we need in our investigation are: popularity, genres, original_title, vote_average, director, cast, release_year, budget_adj and revenue_adj, so we are going to drop the rest columns.\n\n2- There are missing data on genres, director, cast, production_companise. we are going to drop these missing data.\n\n3- Modify release_year column to it's appropriate data type.\n\n4- one row is duplicated so we will drop it as well.","7cdded33":"The following plot illustrates that the highest-grossing movies were newly released after 1995.","8751a211":"<a id='eda'><\/a>\n### What kinds of properties are associated with movies that have high revenues?","2aecc285":"As shown in the following plot, genres of the film play a major role in the high revenue of the film, as  adventure and science fiction followed by action movies . films have the highest revenues.","e3cd9e49":"The relationship between director and revenue illustrates that the highest grossing movies were directed by James Cameron and Steven Spielberg.","10b110f1":"- There are missing\/zero data in budget_adj and revenue_adj columns which will affect our analysis result so it have to be dropped.","f5e1f3f5":"<a id='intro'><\/a>\n## Introduction\n\nThe \"tmdb-movies\" data set contains information about 10,000 movies collected from The Movie Database (TMDb), including user ratings, revenue, genres, budget, and more. It also has two columns for budget and revenue in terms of 2010 dollars accounting for inflation over time.\nI'll be looking to answer an interesting question which is,\nWhat kinds of properties are associated with movies that have high revenues?\n","14a90dee":"From the popularity histogram we can say that, the movies popularity in general is increasing over time.","cd83b604":"## Conclusions\n\nThe common properties among movies with at least revenue of 1443191435 (10th max revenue) which affect the increase movie revenue:-\n\n- Movies revenues have a strong correlation with movies budgets.\n\n- The highest grossing movies were newly released after 1995.\n\n- The most common genres among highest grossing  movies are Adventure and Science Fiction followed by Action.\n\n- the highest grossing movies are popular as most of the movies with high revenue have more than 7 average vote.\n\n- The companies that produce the films with the highest revenues are considered Twentieth Century Fox Film Corporation, Lightstorm Entertainment, Universal Pictures and Lucasfilm.\n\n- Steven Spielberg and James Cameron are the directors of most of the highest-grossing films.\n\n- Movies popularity is increasing over time.\n\n- The high-grossing movies are associated with the names of these actors Harrison Ford, Carrie Fisher and Mark Hamill.\n\n## Limitations\n\n- Seperate data by '|' into seperated rows during cleaning process this consumes time to get the result.\n\n- The data provided by the dataset was sufficient to answer my question \"What kinds of properties are associated with movies that have high revenues?\".\n","3053ba39":"Movies with high revenue have more than 7 average vote, this seems clear from The relationship between vote average and revenue.","19ceb7ed":"## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","767019f3":"The companies that dominate the production of high-grossing movies are considered Twentieth Century Fox Film Corporation, Lightstorm Entertainment, Universal Pictures, and Lucasfilm as that shown here.","68a5ab48":"The movie revenue is related to the names of the cast, with Harrison Ford, Carrie Fisher, and Mark Hamill. making the highest-grossing movies.","7be15107":"We can conclude that there is a strong correlation between movies budget and movies revenue from the following plot."}}