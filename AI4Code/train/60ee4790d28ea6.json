{"cell_type":{"dbbeaccf":"code","38832d8f":"code","791d16ee":"code","11450218":"code","8f96445a":"code","0b1051bb":"code","d6933cf1":"code","6630c2ff":"code","fd9f5688":"code","9d787531":"code","66c6b23c":"code","60bd0af3":"code","6bc5ffa4":"code","ba9baf2e":"code","7dee224f":"code","78c7cdce":"code","435f0670":"code","ec714ae5":"code","fa92108c":"code","4c9e7d98":"markdown","5baba5f8":"markdown","c00f5fb3":"markdown","206e72ea":"markdown","ced3c6c3":"markdown","02deb0a7":"markdown","efe7c42e":"markdown","1304291a":"markdown","9f51f251":"markdown"},"source":{"dbbeaccf":"import os\nimport pandas as pd\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport seaborn as sns\n\nfrom sklearn.preprocessing import MinMaxScaler","38832d8f":"df = pd.read_csv('\/kaggle\/input\/impact-of-covid19-pandemic-on-the-global-economy\/transformed_data.csv')\ndf.head()","791d16ee":"df.info()","11450218":"df[df.HDI.isna()]","8f96445a":"df.COUNTRY[df.HDI.isna()].unique()","0b1051bb":"df.fillna(0, inplace=True)","d6933cf1":"fig = px.choropleth(df, locationmode='ISO-3', locations='CODE',\n                   color='GDPCAP',\n                   hover_name='COUNTRY',hover_data=['TC','TD','STI','POP'],\n                   animation_frame='DATE', projection= 'natural earth',\n                   title='GDP by date')\nfig.show()","6630c2ff":"fig = px.choropleth(df, locationmode='ISO-3', locations='CODE',\n                   color='TD',\n                   hover_name='COUNTRY',hover_data=['TC','GDPCAP','STI','POP'],\n                   animation_frame='DATE',projection='natural earth',\n                   title='Total Deaths by date')\nfig.show()","fd9f5688":"fig = px.choropleth(df, locationmode='ISO-3', locations='CODE',\n                   color='TC',\n                   hover_name='COUNTRY',hover_data=['TD','GDPCAP','STI','POP'],\n                   animation_frame='DATE',projection='natural earth',\n                   title='Total Cases by date')\nfig.show()","9d787531":"fig = px.choropleth(df, locationmode='ISO-3', locations='CODE',\n                   color='POP',\n                   hover_name='COUNTRY',hover_data=['TD','TC','GDPCAP','STI'],\n                   animation_frame='DATE',projection='natural earth',\n                   title='Population by date')\nfig.show()","66c6b23c":"plt.figure(figsize=(10,6))\n\nheatmap = sns.heatmap(df.corr(), vmin=-1,vmax=1, annot=True, cmap='viridis')\n\nheatmap.set_title('Correlation Heatmap', fontdict={'fontsize':12}, pad=12)\nplt.show()","60bd0af3":"TC_w = []\nTD_w = []\nSTI = []\nHDI = []\nGDPCAP = []\n\nfor Date in df.DATE.unique():\n    TC_w.append( np.sum(df['TC'][df.DATE.isin([Date])]))\n    TD_w.append(np.sum(df['TD'][df.DATE.isin([Date])]))\n    STI.append(np.mean(df['STI'][df.DATE.isin([Date])]))\n    HDI.append(np.mean(df['HDI'][df.DATE.isin([Date])]))\n    GDPCAP.append(np.mean(df['GDPCAP'][df.DATE.isin([Date])]))\n    \ndf_W = pd.DataFrame(data=zip(df.DATE.unique(),TC_w,TD_w,STI,HDI,GDPCAP), columns=['DATE','TD','TC','STI','HDI','GDPCAP'])\ndf_W.DATE=pd.to_datetime(df_W.DATE, format='%Y %m %d')","6bc5ffa4":"fig, ax =plt.subplots(2,1,figsize=(14,16))\n\nsns.lineplot(ax=ax[0],x=df_W.DATE,y=df_W['GDPCAP'],label='GDP per capita')\nsns.lineplot(ax=ax[0],x=df_W.DATE,y=df_W['HDI'], label='Stringency Index')\nsns.lineplot(ax=ax[0],x=df_W.DATE,y=df_W['STI'], label='Human Developement Index')\n\nax[0].set_title('Mean GDP CAP, HDI, STI')\n\nsns.lineplot(ax=ax[1],x=df_W.DATE,y=df_W['TC'], label='Total Cases')\nsns.lineplot(ax=ax[1],x=df_W.DATE,y=df_W['TD'], label='Total Deaths')\nplt.title('World values')\nplt.show()","ba9baf2e":"perc=(np.sum((df['GDPCAP']==0.).astype('int32'))\/len(df))\nprint('Percentaje of GDP missing values = 0: {:.3f}%'.format(perc*100))","7dee224f":"plt.subplots(figsize=(14,9))\n\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['GDPCAP']).reshape(-1,1)).ravel(), label='GDP Mean')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['TD']).reshape(-1,1)).ravel(), label='Total Deaths')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['TC']).reshape(-1,1)).ravel(), label='Total Cases')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['STI']).reshape(-1,1)).ravel(), label='Stringency Index Mean')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['HDI']).reshape(-1,1)).ravel(), label='Human Developement Index Mean')\nplt.title('Scaled World values')\nplt.show()","78c7cdce":"df_er = df.drop(index=df[df.GDPCAP==0.].index)\ndf_er.drop(index=df_er[df_er.HDI==0.].index, inplace=True)\ndf_er.drop(index=df_er[df_er.STI==0.].index, inplace=True)","435f0670":"TC_w = []\nTD_w = []\nSTI = []\nHDI = []\nGDPCAP = []\n\nfor Date in df_er.DATE.unique():\n    TC_w.append( np.sum(df_er['TC'][df_er.DATE.isin([Date])]))\n    TD_w.append(np.sum(df_er['TD'][df_er.DATE.isin([Date])]))\n    STI.append(np.mean(df_er['STI'][df_er.DATE.isin([Date])]))\n    HDI.append(np.mean(df_er['HDI'][df_er.DATE.isin([Date])]))\n    GDPCAP.append(np.mean(df_er['GDPCAP'][df_er.DATE.isin([Date])]))\n    \ndf_W = pd.DataFrame(data=zip(df_er.DATE.unique(),TC_w,TD_w,STI,HDI,GDPCAP), columns=['DATE','TD','TC','STI','HDI','GDPCAP'])\ndf_W.DATE=pd.to_datetime(df_W.DATE, format='%Y %m %d')","ec714ae5":"fig, ax =plt.subplots(2,1,figsize=(14,16))\n\nsns.lineplot(ax=ax[0],x=df_W.DATE,y=df_W['GDPCAP'], label='GDP per capita')\nsns.lineplot(ax=ax[0],x=df_W.DATE,y=df_W['HDI'], label='Stringency Index')\nsns.lineplot(ax=ax[0],x=df_W.DATE,y=df_W['STI'], label='Human Developement Index')\n\nax[0].set_title('Mean GDP CAP, HDI, STI')\n\nsns.lineplot(ax=ax[1],x=df_W.DATE,y=df_W['TC'], label='Total Cases')\nsns.lineplot(ax=ax[1],x=df_W.DATE,y=df_W['TD'], label='Total Deaths')\nplt.title('World values')\nplt.show()","fa92108c":"plt.subplots(figsize=(14,9))\n\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['GDPCAP']).reshape(-1,1)).ravel(), label='GDP Mean')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['TD']).reshape(-1,1)).ravel(), label='Total Deaths')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['TC']).reshape(-1,1)).ravel(), label='Total Cases')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['STI']).reshape(-1,1)).ravel(), label='Stringency Index Mean')\nsns.lineplot(x=df_W.DATE,y=MinMaxScaler().fit_transform(np.array(df_W['HDI']).reshape(-1,1)).ravel(), label='Human Developement Index Mean')\nplt.title('Scaled World values')\nplt.show()","4c9e7d98":"## Data","5baba5f8":"GDP per capita has a strong correlation with Human Developement Index and Population which is more or less obvious. Then it has a moderate correlation with Total cases, total deaths and Stringency Index.","c00f5fb3":"* CODE = ISO code of the country\n* COUNTRY = country name\n* DATE = Date of the values\n* HDI = Human developement index\n* TC = Total cases\n* TD = Total deaths\n* STI = Stringency Index\n* POP = Population\n* GDPCAP = Gross domestic product per capita","206e72ea":"### Erasing missing data","ced3c6c3":"It's visible that most values change drastically from March. This is due to some of the contries don't have all the information from previous months.","02deb0a7":"There are null values for *HDI*, Human Development Index, for this countries. We can assume that this values are 0 due to that countries are small.","efe7c42e":"### Final result:\n\nAs eyes can see, the trend is similar to the previous one but now is much clear the **real** impact on GDP and Human developement of Covid 19. As Total Cases and Total Deaths rise GDP and HDI decreases and STI rises. \n\nSomething nice to realize is that the GDP, HDI and STI changes are previous to the total cases and total deaths changes. This is a 'We saw that coming and even with that we could not prepared well'. \n\nIn the last month the TC and TD decreased so much and GDP, HDI increased less than correlatively. STI should decreased given the previous information but it increased. This is may due to global fear of keep taking bad decisions making its appearence.","1304291a":"## Visualization","9f51f251":"# COVID 19 Economic impact"}}