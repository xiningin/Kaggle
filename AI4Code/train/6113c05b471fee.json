{"cell_type":{"5c337bb6":"code","6c49ea3f":"code","09e90265":"code","b334d5d9":"code","ac80ca01":"code","a194e397":"code","5c52e26f":"code","178571e3":"code","91d7c6fb":"code","0ab78aeb":"code","c6b94bf7":"code","0f6c63ab":"code","22af133b":"code","5a0adf2c":"code","82c47efe":"code","d25c2f4d":"code","c94b4806":"code","da47ada4":"markdown","d503d4c7":"markdown","6d6fab44":"markdown"},"source":{"5c337bb6":"!pip3 install arch","6c49ea3f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom math import sqrt\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nsns.set()\n\n## For statistical insights\nimport statsmodels.graphics.tsaplots as sgt\nimport statsmodels.tsa.stattools as sts\nfrom statsmodels.tsa.arima_model import ARIMA\nfrom scipy.stats.distributions import chi2 \n\n## For ARCH Modelling\nfrom arch import arch_model\nprint(\"Necessary packages imported successfully!\")","09e90265":"url = '..\/input\/lstm-datasets-multivariate-univariate\/LSTM-Multivariate_pollution.csv'\nraw_csv_data = pd.read_csv(url,error_bad_lines=False)\nraw_csv_data.head(10)","b334d5d9":"df_comp=raw_csv_data.copy()\ndf_comp.date = pd.to_datetime(df_comp.date, dayfirst = True)\ndf_comp.set_index(\"date\", inplace=True)\ndf_comp=df_comp.asfreq('b')\ndf_comp=df_comp.fillna(method='ffill')\n\ndel df_comp['dew']\ndel df_comp['temp']\ndel df_comp['press']\ndel df_comp['wnd_spd']\nsize = int(len(df_comp)*0.8)\ndf, df_test = df_comp.iloc[:size], df_comp.iloc[size:]","ac80ca01":"def LLR_test(mod_1, mod_2, DF = 1):\n    L1 = mod_1.fit(start_ar_lags = 11).llf\n    L2 = mod_2.fit(start_ar_lags = 11).llf\n    LR = (2*(L2-L1))    \n    p = chi2.sf(LR, DF).round(3)\n    return p","a194e397":"df['press'] = df.pollution.pct_change(1)*100","5c52e26f":"df['wnd_spd'] = df.pollution.mul(df.pollution)","178571e3":"df.pollution.plot(figsize=(20,5))\nplt.title(\"Pollution Data\", size = 24)\nplt.show()","91d7c6fb":"df.wnd_spd.plot(figsize=(20,5))\nplt.title(\"Wind Speed\", size = 24)\nplt.show()","0ab78aeb":"sgt.plot_pacf(df.pollution[1:], lags = 40, alpha = 0.05, zero = False , method = ('ols'))\nplt.title(\"PACF of Pollution\", size = 20)\nplt.show()","c6b94bf7":"sgt.plot_pacf(df.wnd_spd[1:], lags = 40, alpha = 0.05, zero = False , method = ('ols'))\nplt.title(\"PACF of Wind Speed\", size = 20)\nplt.show()","0f6c63ab":"model_arch_1 = arch_model(df.pollution[1:])\nresults_arch_1 = model_arch_1.fit(update_freq = 5)\nresults_arch_1.summary()","22af133b":"model_arch_1 = arch_model(df.pollution[1:], mean = \"Constant\", vol = \"ARCH\", p = 1)\nresults_arch_1 = model_arch_1.fit(update_freq = 5)\nresults_arch_1.summary()","5a0adf2c":"model_arch_1 = arch_model(df.pollution[1:], mean = \"AR\", lags = [2, 3, 6], vol = \"ARCH\", p = 1, dist = \"ged\")\nresults_arch_1 = model_arch_1.fit(update_freq = 5)\nresults_arch_1.summary()","82c47efe":"model_arch_2 = arch_model(df.pollution[1:], mean = \"Constant\", vol = \"ARCH\", p = 2)\nresults_arch_2 = model_arch_2.fit(update_freq = 5)\nresults_arch_2.summary()","d25c2f4d":"model_arch_3 = arch_model(df.pollution[1:], mean = \"Constant\", vol = \"ARCH\", p = 3)\nresults_arch_3 = model_arch_3.fit(update_freq = 5)\nresults_arch_3.summary()","c94b4806":"model_arch_13 = arch_model(df.pollution[1:], mean = \"Constant\", vol = \"ARCH\", p = 13)\nresults_arch_13 = model_arch_13.fit(update_freq = 5)\nresults_arch_13.summary()","da47ada4":"### **Higher Lag ARCH (with different p values)**","d503d4c7":"### **ARCH Modelling**","6d6fab44":"### **Simple ARCH(1)**"}}