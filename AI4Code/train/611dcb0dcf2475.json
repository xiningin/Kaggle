{"cell_type":{"1b237b86":"code","dded933a":"code","b9150328":"code","fd801c9a":"code","c8a7cbfd":"code","efad5b43":"code","7faba71e":"code","399048d3":"code","0f35df71":"markdown","d7997270":"markdown","f049ee3b":"markdown","2c1ed061":"markdown","88bf3983":"markdown"},"source":{"1b237b86":"import warnings\nwarnings.filterwarnings('ignore')","dded933a":"import pandas as pd\nimport numpy as np\n\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\n\n# Read in data from file\nseattle_weather_df = pd.read_csv('\/kaggle\/input\/did-it-rain-in-seattle-19482017\/seattleWeather_1948-2017.csv')","b9150328":"# Prepare data for processing by adding DECADE, YEAR, DATE, and TAVG columns to data frame\nseattle_weather_df['DECADE'] = seattle_weather_df['DATE'].apply(lambda x: int(x[0:3] + '0'))\nseattle_weather_df['YEAR'] = seattle_weather_df['DATE'].apply(lambda x: int(x[0:4]))\nseattle_weather_df['DAY'] = seattle_weather_df['DATE'].apply(lambda x: x[-4:])\nseattle_weather_df['RAIN'] = seattle_weather_df['RAIN'].apply(lambda d: 'Yes' if d else 'No' )\nseattle_weather_df['TAVG'] = np.divide(np.add(seattle_weather_df['TMAX'], seattle_weather_df['TMIN']), 2)\nseattle_weather_df['PRCP'] = seattle_weather_df['PRCP'].apply(lambda p: round(p*100,2))\n\n# Show seattle_weather_df data\nseattle_weather_df.head()","fd801c9a":"# Get yearly averages of weather data\nyearly_weather_df = seattle_weather_df.groupby('YEAR').mean()\nyearly_weather_df = yearly_weather_df.round(2)\nyearly_weather_df['DECADE'] = yearly_weather_df['DECADE'].astype('int')\n\n# Show yearly_weather_df data\nyearly_weather_df.head()","c8a7cbfd":"# Plot bubble chart\nfig = px.scatter(yearly_weather_df, x='TMIN', y=\"TMAX\", \n            title=\"Seattle Average Temperature v. Precipitation by Year, 1948-2017\", size='PRCP', color=yearly_weather_df.index)\n\nfig.update_layout(\n    xaxis=dict(title='Min. Temperature (F)'),\n    yaxis=dict(title='Max. Temperature (F)')\n)\n\nfig.show()","efad5b43":"# Plot strip chart\nfig2 = px.strip(seattle_weather_df, x='YEAR', y='TAVG', color='RAIN')\n\nfig2.update_layout(\n    title=\"Seattle Daily Average Temperatures, 1948-2017\",\n    xaxis=dict(title='Year',),\n    yaxis=dict(title='Temperature (F)',)\n)\n\nfig2.show()","7faba71e":"# Create bar chart \nfig3 = px.bar(seattle_weather_df, x='YEAR', y='PRCP')\n\nfig3.update_layout(\n    title=\"Seattle Precipitation by Year, 1948-2017\",\n    xaxis=dict(title='Year'),\n    yaxis=dict(title='Precipitation %'),\n    )\n\nfig3.show()","399048d3":"# Create a figure with subplots\nfig4 = make_subplots(specs=[[{\"secondary_y\": True}]])\n\n# Get data for each axis\nX = yearly_weather_df.index\nY = yearly_weather_df['PRCP']\nY2 = yearly_weather_df['TMIN']\nY3 = yearly_weather_df['TMAX']\n\n# Add traces and specify secondary axis\nfig4.add_trace(go.Scatter(x=X, y=Y, name=\"Precip. %\", line_color='indigo'), secondary_y=True)\nfig4.add_trace(go.Scatter(x=X, y=Y2, name=\"Min Temp F\", fill='tonexty', mode='lines', line=dict(color='paleturquoise')), secondary_y=False)\nfig4.add_trace(go.Scatter(x=X, y=Y3, name=\"Max Temp F\", fill='tonexty', mode='lines', line=dict(color='teal')), secondary_y=False)\n\n# Update chart labels\nfig4.update_layout(title_text=\"Seattle Average Precipitation & Temperature by Year, 1948-2017\")\nfig4.update_xaxes(title_text=\"Year\")\nfig4.update_yaxes(title_text=\"Precipitation %\", secondary_y=True)\nfig4.update_yaxes(title_text=\"Temperature (F)\", secondary_y=False)\n\nfig4.show()","0f35df71":"### Figure 3: Bar Chart examining precipitation over time\nThis chart allows the user to dig in and look at specific precipitation data points by year. In this chart:\n<ul>\n    <li>The year with the most precipitation is 1950<\/li>\n    <li>The year with the least precipitation is 1952<\/li>\n<\/ul>","d7997270":"Data source: [Did it Rain in Seattle? (1948-2017)](https:\/\/www.kaggle.com\/rtatman\/did-it-rain-in-seattle-19482017) \n<br><br>\nThe dataset I am using is from Kaggle.com, called, \u201cDid it rain in Seattle? (1948-2017)\u201d This simple dataset was aggregated from publicly available data on the NOAA (National Oceanic and Atmospheric Administration) website, and contains few columns: the date, whether it rained, min temperature, max temperature, and precipitation. The dataset was prepped in the following manner so that weather, and precipitation trends can be best represented over time.  This notebook focuses on higher-level views of 60+ years of data<br>\n\nTo prepare this dataset for analysis, you will need to add additional columns for year and decade (derived from the DATE column), as well as average daily temperature (the average of TMIN and TMAX columns). If preferred, column names can also be changed for use on the x and y axes of the charts below. For these visualizations, new columns are created such that data can be further sliced by year and decade as well as show averages of numerical variables over the dataset\u2019s 1948-2017 time period.\n<br>\n\nI have downloaded the dataset to a csv file along with the notebook submission.","f049ee3b":"### Figure 2: Strip Chart examining average temperature over time, with respect to whether it rained\nThis strip chart focuses on the distrubution of data, and in this chart:\n<ul>\n    <li>There's not too much variation over the years in the precipitation distribution<\/li>\n    <li>Rainy days are colder on average, non-rain are generally hotter<\/li>\n    <li>Rainy days generally have a less wide spread\/variance<\/li>\n    <li>Non-rainy days are hotter have more variance, and temperature extremes<\/li>\n    <li>The hottest day was in 2009, and the coldest was in 1950<\/li>\n<\/ul>","2c1ed061":"### Figure 1: Bubble Chart examining relationships between temperature, precipitation and year<br>\nIn this chart:\n<ul>\n    <li>There's a generally positive trend with temperature in regards to time<\/li>\n    <li>Earlier years are colder on average, and later years are hotter on average<\/li>\n    <li>1955 is the coldest year on average, and 2015 was the hottest<\/li>\n    <li>There are a couple of outlier years that don't seem to match the trend: 1985 (colder than expected), and 1958\/1967 (hotter than expected)<\/li>\n    <li>According to the size of bubbles, precipitation doesn't vary too widely<\/li>\n<\/ul>","88bf3983":"### Figure 4: Area\/Line Chart examining min and max temperature, and precipitation over time\nThis chart shows an example of using graph_object traces to plot multiple chart types of the same figure (subplots). It also shows the use of two y-axes. In this chart:\n<ul>\n    <li>Yearly precipitation varies wildly from year to year, and there doesn't appear to be a trend<\/li>\n    <li>From 1948 to 2017, highest temperature average has increased by about 4.7%<\/li>\n    <li>From 1948 to 2017, lowest temperature average has increased by about 2.6%<\/li>\n<\/ul>"}}