{"cell_type":{"5aca5f15":"code","6d19d83c":"code","85a5c4ac":"code","4a7c1d6f":"code","3b3f4539":"code","ea997efa":"code","461b4926":"code","98c1779a":"code","43ecac16":"code","da3b29ab":"code","6e0b38b0":"code","5fbfc04e":"markdown","9190bb68":"markdown","8685fd4b":"markdown","dd58ad77":"markdown","cd49ec0f":"markdown"},"source":{"5aca5f15":"SNIPPETS_DB = \"\/kaggle\/input\/github-code-snippets-development-sample\/snippets-dev\/snippets-dev.db\"","6d19d83c":"import random\nimport sqlite3","85a5c4ac":"conn = sqlite3.connect(SNIPPETS_DB)","4a7c1d6f":"cur = conn.cursor()","3b3f4539":"programming_languages = cur.execute(\"SELECT DISTINCT(language) FROM snippets;\").fetchall()","ea997efa":"programming_languages","461b4926":"num_snippets = cur.execute(\"SELECT COUNT(id) FROM snippets;\").fetchone()[0]\nprint(num_snippets)","98c1779a":"approximate_sample_size = 50\nsample_probability = approximate_sample_size\/num_snippets\nprint(f\"Sample probability: {sample_probability}\")","43ecac16":"python_and_java_snippets = cur.execute(\"SELECT github_repo_url, repo_file_name, commit_hash, language, starting_line_number, snippet FROM snippets WHERE language='Python' OR language='Java';\")","da3b29ab":"current_sample = 1\nfor repo, filename, commit, language, lineno, snippet in python_and_java_snippets:\n    selector = random.random()\n    if selector <= sample_probability:\n        print(f\"{current_sample}. {language} snippet from {repo}:\")\n        print(f\"\\tCommit hash: {commit.strip()}\")\n        print(f\"\\tFile: {filename}\")\n        print(f\"\\tLine: {lineno}\")\n        print(f\"```\\n{snippet}\\n```\")\n        current_sample += 1","6e0b38b0":"conn.close()","5fbfc04e":"This notebook loads the development version of the GitHub Code Snippets dataset and prints a sample of Java and Python snippets.","9190bb68":"We can see that Java is represented as `Java` and Python as `Python`. We will use these values in our SQL query to filter out all non-Java and non-Python snippets.","8685fd4b":"First, let us get a list of programming languages available in this dataset:","dd58ad77":"As you can see, the dataset is too large to print all the snippets out in this notebook. Instead, let us randomly choose a small number of snippets to print out:","cd49ec0f":"We printed the snippets in a format that was easy to view in the notebook. You can replace the logic inside the loop for your own purposes, e.g. creating a CSV file of samples."}}