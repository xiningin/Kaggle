{"cell_type":{"d5740336":"code","05be8319":"code","793e185a":"code","8f873d35":"code","5130bf21":"code","07e0f43b":"code","10982d0f":"code","3411ac12":"code","6658bd31":"code","50f83a96":"code","afe868bb":"code","f219cf3a":"code","28a6db18":"code","2a98034d":"code","8a1d7083":"code","5a1aa201":"code","03b9e66e":"code","8e9bb6db":"code","e535408a":"code","06ba9417":"code","736a3ed5":"code","bb2ca880":"code","8549512f":"code","41aae4e1":"code","3e750136":"code","8be0d2f2":"code","8af618aa":"markdown","addd0138":"markdown","e04de516":"markdown","a0b604e2":"markdown","11a16b13":"markdown","afe518c8":"markdown","409f49d4":"markdown","1818091f":"markdown","5a990954":"markdown","53aef8cb":"markdown","80c61998":"markdown","9a8827b4":"markdown","abb79299":"markdown","cccc9285":"markdown","07d3b64c":"markdown","233e209a":"markdown","c7d304ec":"markdown"},"source":{"d5740336":"import pandas as pd \nimport numpy as np \nimport matplotlib.pyplot as plt\nimport seaborn as sns \n%matplotlib inline","05be8319":"\n#we will load the data and check for cleanliness\nraw_df = pd.read_csv(r'..\/input\/medical-appointment-no-shows\/KaggleV2-May-2016.csv')\nraw_df.head()","793e185a":"df = raw_df.copy()\ndf.shape","8f873d35":"#No of missing value\ndf.info()","5130bf21":"df.duplicated().sum()","07e0f43b":"df['PatientId'].nunique()","10982d0f":"\ndf['PatientId'].duplicated().sum()\n","3411ac12":"df.describe()","6658bd31":"df.query('Age==-1')","50f83a96":"df.drop(index=99832,inplace=True)\ndf.describe()\n","afe868bb":"df.rename(columns={'Hipertension': 'Hypertension','Handcap': 'Handicap','No-show' : 'show'},inplace=\tTrue)\n\ndf.head()","f219cf3a":"df['show']=df['show'].replace({'No':1,'Yes':0 })\ndf['show']=df['show'].astype('int')\ndf.head()\n","28a6db18":"#check number of PatientId and show duplicated \ndf.duplicated(['PatientId','show']).sum()","2a98034d":"df.drop_duplicates(['PatientId','show'],inplace=True)\ndf.shape","8a1d7083":"#remove un importatnt data \ndf.drop(['PatientId','AppointmentID','ScheduledDay','AppointmentDay'],axis= 1,inplace=True )\ndf.head()","5a1aa201":"df.hist(figsize=(12,10));","03b9e66e":"show_data = df.show == 1\nnoshow_data = df.show == 0\ndf[show_data].count(), df[noshow_data].count()","8e9bb6db":"df[show_data].mean(),df[noshow_data].mean()","e535408a":"# does Age affect the scheduled appointment?\ndef  appointment(df,col_name,attendance,absence):\n    plt.figure(figsize=[12,6])\n    df[col_name][show_data].hist(color= 'blue',label='show')\n    df[col_name][noshow_data].hist(color='orange',label='noshow')\n    plt.legend();\n    plt.title('The relation between Age & scheduled Appointments');\n    plt.xlabel('Age');\n    plt.ylabel('No of Appointments');\nappointment(df,'Age',show_data,noshow_data)","06ba9417":"# does the Age and chronic diseases affect the scheduled appointment?\n\nplt.figure(figsize=[12,6])\ndf[show_data].groupby(['Diabetes','Hypertension']).mean()['Age'].plot(kind= 'bar',color= 'blue', label= 'show')\ndf[noshow_data].groupby(['Diabetes','Hypertension']).mean()['Age'].plot(kind= 'bar',color= 'orange', label= 'noshow')\nplt.title('The relation between chronic diseases & scheduled Appointments')\nplt.legend();\nplt.xlabel('chronic diseases')\nplt.ylabel('average age');\n","736a3ed5":"df[show_data].groupby(['Diabetes','Hypertension']).mean()['Age'],df[noshow_data].groupby(['Diabetes','Hypertension']).mean()['Age']","bb2ca880":"# Percentage of people who show-up ?\n\ndef  appointment(df,col_name,attendance,absence):\n    plt.figure(figsize=[12,6])\n    df[col_name][show_data].value_counts(normalize=True).plot(kind='pie',label='show',explode=[0.05,0],shadow=True,autopct='%1.2f%%')\n    plt.legend();\n    plt.title('The relation between Gender & No of patients');\n    plt.xlabel('Gender');\n    plt.ylabel('No of patients');\nappointment(df,'Gender',show_data,noshow_data)","8549512f":"# Percentage of people who show-up ?\n\ndef  appointment(df,col_name,attendance,absence):\n    plt.figure(figsize=[12,6])\n    df[col_name][noshow_data].value_counts(normalize=True).plot(kind='pie',label='noshow',explode=[0.05,0],shadow=True,autopct='%1.2f%%')\n    plt.legend();\n    plt.title('The relation between Gender & No of patients');\n    plt.xlabel('Gender');\n    plt.ylabel('No of patients');\nappointment(df,'Gender',show_data,noshow_data)","41aae4e1":"df[show_data].groupby(['Gender']).mean()['Age'],df[noshow_data].groupby(['Gender']).mean()['Age']\n","3e750136":"# Correlation of values with each other\ncorrelation = df.corr()\nfig, axes = plt.subplots(figsize=(7,7))\nsns.heatmap(correlation, vmax=.8, cbar=True, annot=True, square=True, fmt='.2f', annot_kws={'size': 10});\n","8be0d2f2":"# does the Neighbourhood affects the Neighbourhood\nplt.figure(figsize=[24,6])\ndf[show_data]['Neighbourhood'].value_counts().plot(kind= 'bar',color= 'blue', label= 'show')\ndf[noshow_data]['Neighbourhood'].value_counts().plot(kind= 'bar',color= 'orange', label= 'noshow')\nplt.title('The relation between Neighbourhood & scheduled Appointments')\nplt.legend();\nplt.xlabel('Neighbourhood')\nplt.ylabel('no of patients');","8af618aa":"There is no correlation between mean Age of chronic diseases & scheduled Appointments","addd0138":"* Limitations\n\nThere is no a clear correlation between Age & Choronic diseases and showing appointment\n","e04de516":" # Data Wrangling\n\nwe will load the data and check for cleanliness.\n","a0b604e2":"showed patient recieved sms less than unshowed ones that means we have to check sms campaign ","11a16b13":"there is no correlation between the Gender & scheduled Appointments","afe518c8":"there is a correlation between the Neighbourhood & scheduled Appointments","409f49d4":"Fortunately, there is no missing values in dataset.\n\n","1818091f":"# Conclusions\n\nAfter making some questions on the dataset , we figured out some information about the patients and their behavior through questions as in the last question we found out that JARDIM CAMBURI seems to has most attending patients , in first  question we found out Ages from 0 ~ 9 are the most attending that means parents take care of their kids then  Ages from 45 ~ 55 and people > 65 years old are the least attending.\nfor a nother question There is no correlation between mean Age of chronic diseases & scheduled Appointments.\n\n","5a990954":"Ages from 0 ~ 9 are the most attending that means parents take care of their kids then  Ages from 45 ~ 55 and people > 65 years old are the least attending.","53aef8cb":"\n\n\n* Data Cleaning\n\n\nThere is -1 years old in  an age column, which is impossible,so we will dorp it.\n\nNo-show column is confusing. Inorder to make it more clear, we can change the column name to 'Show', and change the object in this column. Some mistake in label name such as'Handcap' and 'Hipertension' should also be corrected.\n\nIf two rows has absolutely same information regardless of AppointmentID, we can treat them as duplicated information.\nThe data types of scheduled day and appointment day are str, which need to be transfered to datatime, in order to be analyzed easily.\n\nIn order to make in-depth analysis of relationship between appointment time and presence, some new columns show be added.\n","80c61998":"# Exploratory Data Analysis\n\nNow we ready to move on exploration \n","9a8827b4":"* introduction\n\ni used this dataset that collects information from 100k medical appointments in Brazil ","abb79299":"There is 48228 duplicated PatientId ","cccc9285":" there is no correlation between the average Age of Gender & scheduled Appointments\n","07d3b64c":"Number of showed patient(54153) is 3 times more than Non showed (17663)","233e209a":"* Heatmap shows three correlations:\n\nHypertension-Age\n\nHypertension-Diabetes\n\nDiabetes-Age\n\nThese are medically expected results.\n\nThere is no strong correlation between any feature with no-show.","c7d304ec":"* Question\n\nWhat factors are important for us to know in order to predict if a patient will show up for their scheduled appointment?"}}