{"cell_type":{"1e5d56a3":"code","25880abd":"code","15fae16a":"code","8522f645":"code","9c7d4582":"code","2334db63":"code","a011586b":"code","ed8a89a1":"code","d0503e35":"code","167af3e0":"code","e446a6ea":"code","6d710c15":"code","91774ba1":"code","34cbda73":"code","7df008a0":"code","db6ea60e":"code","62ebf95b":"code","8d1ea315":"code","fee547ae":"code","422c1c5b":"code","3597aab6":"code","2caa63fa":"code","14ea9b0c":"code","e2c7bcf9":"code","e8592879":"code","730019b3":"code","e78132b2":"code","c7969e9b":"code","721ba43c":"code","8afcfbb9":"code","002c2d83":"code","9cd9b9f9":"code","428d6a50":"code","e317c3b2":"code","a6aa5df0":"code","3f2a7818":"code","00514c1e":"code","5cd00236":"code","9760d2af":"code","6bf693f4":"code","627d6905":"code","57605bc0":"code","1bacf4a4":"code","936c30aa":"code","aa2329b1":"code","2acfedf7":"code","82bacd7e":"code","639498d3":"code","1a3d30c4":"code","a0d3a954":"code","a91083f3":"code","28f0998a":"code","212d82a9":"code","f399fc4d":"code","83c11a09":"code","3afc60ff":"code","8fe3c51b":"code","f3a1a81e":"code","0ab00581":"code","4f581fe0":"code","6f6393e4":"code","af5e384f":"code","e4cd42e4":"code","4bb74be1":"code","5fe4d807":"code","ab1a08cf":"code","b7f29216":"code","059145dd":"code","3c82dd04":"code","9a1eacb1":"code","730b6677":"code","f51bf155":"code","a189aa58":"code","ccb78eaf":"code","6d37a141":"code","b7a22f73":"code","798402ad":"code","8ce27cd9":"code","45ace3b4":"code","57b7810a":"code","6bbbb83a":"code","0188b12e":"code","19da76e1":"code","df8dff38":"code","4a3c6208":"code","0f591a0f":"code","18b3acc9":"code","2c8a29ef":"code","f9777995":"code","85e7bd8d":"code","ffa8f0d9":"code","3b50a322":"code","36300480":"markdown","33181d24":"markdown","35fe0ef8":"markdown","d2f835e3":"markdown","25a21fe9":"markdown","7e3523c7":"markdown","548d4c5e":"markdown","41c4d5d0":"markdown","42a0d7f5":"markdown","cae7b7d0":"markdown","977dc9ef":"markdown","2e7b3088":"markdown","e695cbbd":"markdown","03d07a2e":"markdown"},"source":{"1e5d56a3":"# from IPython.core.display import HTML\n# HTML('''<div class=\"flourish-embed flourish-cards\" data-src=\"visualisation\/1786965\" data-url=\"https:\/\/flo.uri.sh\/visualisation\/1786965\/embed\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","25880abd":"# # utility libraries\n# import json\n# from datetime import timedelta\n# from urllib.request import urlopen\n\n# # converter\n# from pandas.plotting import register_matplotlib_converters\n# register_matplotlib_converters()\n\n# # hide warnings\n# # import warnings\n# # warnings.filterwarnings('ignore')","15fae16a":"# storing and anaysis\nimport numpy as np\nimport pandas as pd\n\n# visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# interactive plots\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\n# geographical ploting\n# import folium\n# import geopandas as gpd","8522f645":"# offline plotly\nfrom plotly.offline import plot, iplot, init_notebook_mode\ninit_notebook_mode(connected=True)","9c7d4582":"# color pallette\ncnf = '#393e46' # confirmed - grey\ndth = '#ff2e63' # death - red\nrec = '#21bf73' # recovered - cyan\nact = '#fe9801' # active case - yellow","2334db63":"! ls ..\/input\/covid19-corona-virus-india-dataset","a011586b":"# MoHFW data\n# ==========\n\n# read data\ndf = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/complete.csv')\n\n# convert datetime datatype\ndf['Date'] = pd.to_datetime(df['Date'])\n\n# rename columns\ndf.columns = ['Date', 'State', 'Latitude', 'Longitude', 'Confirmed', 'Deaths', 'Recovered', 'New cases', 'New deaths', 'New recovered']\n\n# active cases\ndf['Active'] = df['Confirmed'] - df['Deaths'] - df['Recovered']\n\n# first few rows\ndf.head()","ed8a89a1":"# daily\n# =====\n\n# read data\ndaily = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/nation_level_daily.csv')\n\n# convert datetime datatype\ndaily['Date'] = pd.to_datetime(daily['Date'] + ' 2020')\n\n# get no. of active cases\ndaily['Total Active'] = daily['Total Confirmed'] - daily['Total Deceased'] - daily['Total Recovered']\n\n# Deaths \/ 100 cases\ndaily['Deaths \/ 100 Cases'] = round((daily['Total Deceased'] \/ daily['Total Confirmed'])*100, 2)\n# Recovered \/ 100 cases\ndaily['Recovered \/ 100 Cases'] = round((daily['Total Recovered'] \/ daily['Total Confirmed'])*100, 2)\n# Deaths \/ 100 recovered\ndaily['Deaths \/ 100 Recovered'] = round((daily['Total Deceased'] \/ daily['Total Recovered'])*100, 2)\n\n# first few rows\ndaily.head()","d0503e35":"# global latest\n# =============\n\n# read data\nworld = pd.read_csv('..\/input\/corona-virus-report\/country_wise_latest.csv')\n\n# create a new column wether the country is 'India'\nworld['Is India?'] = world['Country\/Region']=='India'\n\n# first few rows\nworld.head()","167af3e0":"# states_latest\n# =============\n\n# read data\nstates_latest = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/state_level_latest.csv')\n\n# remove the row containing 'Total'\nstates_latest = states_latest[states_latest['State']!='Total']\n\n# mortality rate\nstates_latest['Mortality Rate'] = round((states_latest['Deaths'] \/ states_latest['Confirmed'])*100, 2)\n\n# recovery rate\nstates_latest['Recovery Rate'] = round((states_latest['Recovered'] \/ states_latest['Confirmed'])*100, 2)\n\n# first few rows\nstates_latest.head()","e446a6ea":"# district level latest\n# =====================\n\n# read data\ndist_latest = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/district_level_latest.csv')\n\n# remove the column containing unassigned state values\ndist_latest = dist_latest[dist_latest['State'] != 'State Unassigned']\n\n# mortality rate\ndist_latest['Mortality Rate'] = round((dist_latest['Deceased'] \/ dist_latest['Confirmed'])*100, 2)\n# recovery rate\ndist_latest['Recovery Rate'] = round((dist_latest['Recovered'] \/ dist_latest['Confirmed'])*100, 2)\n\n# first few rows\ndist_latest.head()","6d710c15":"# tests day by day\n# ================\n\n# read data\ntests_dbd = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/tests_day_wise.csv')\n\n# to datetime datatype\ntests_dbd['Update Time Stamp'] = tests_dbd['Update Time Stamp'].str.extract('(\\d{1,2}\/\\d{1,2}\/\\d{4})')\ntests_dbd['Update Time Stamp'] = pd.to_datetime(tests_dbd['Update Time Stamp'], format='%d\/%m\/%Y')\n\n# first few rwos\ntests_dbd.head()","91774ba1":"# state wise tests statistics\n# ===========================\n\n# read data\nstate_tests = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/tests_state_wise.csv')\n\n# to datetime datatype\n# tests_dbd['Update Time Stamp'] = pd.to_datetime(tests_dbd['Update Time Stamp'])\n\n# first few rwos\nstate_tests.head()","34cbda73":"# Patient level data\n# ==================\n\n# importing dataset\np_df = pd.read_csv('..\/input\/covid19-corona-virus-india-dataset\/patients_data.csv')\n# p_df.head(5)\n\n# fixing date format\nfor col in ['Date Announced', 'Estimated Onset Date', 'Status Change Date']:\n    p_df[col] = pd.to_datetime(p_df[col], format='%d\/%m\/%Y')\n\n# fix nationality values\np_df['Nationality'] = p_df['Nationality'].replace('Indian', 'India')\n\n# first few rows\np_df.head(3)","7df008a0":"# # District level shape file\n# # =========================\n\n# # district level shape file\n# dist_shape = gpd.read_file('..\/input\/india-district-wise-shape-files\/output.shp')\n# # subset columns\n# dist_shape = dist_shape[['objectid', 'statecode', 'statename', 'state_ut', \n#                          'distcode', 'distname', 'geometry']]\n# # rename states\n# dist_shape['statename'] = dist_shape['statename'].str.replace('&', 'and')\n# dist_shape['statename'] = dist_shape['statename'].str.replace('NCT of ', '')\n# dist_shape['statename'] = dist_shape['statename'].str.replace('Chhatisgarh', 'Chhattisgarh')\n# dist_shape['statename'] = dist_shape['statename'].str.replace('Orissa', 'Odisha')\n# dist_shape['statename'] = dist_shape['statename'].str.replace('Pondicherry', 'Puducherry')\n# # dist_shape.head()\n\n\n# # State level shape file\n# # ======================\n\n# # groupby state to get state level shape file\n# states_shape = dist_shape.dissolve(by='statename').reset_index()\n# # states_shape.head()","db6ea60e":"# # grouped district file\n# # =====================\n\n# dist_count = p_df.groupby(['detected_district'])['patient_number'].count().reset_index()\n# dist_count.columns = ['district', 'count']\n# # dist_count.head()\n\n\n# # grouped state file\n# # ==================\n\n# state_count = p_df.groupby(['detected_state'])['patient_number'].count().reset_index()\n# state_count.columns = ['state', 'count']\n# # state_count.head()","62ebf95b":"# # District map\n# # ============\n\n# # merge shape file with count file\n# dist_map = pd.merge(dist_shape, dist_count, left_on='distname', right_on='district', how='left')\n# # droping missing values\n# dist_map = dist_map[~dist_map['count'].isna()]\n# # fixing datatype\n# dist_map['count'] = dist_map['count'].astype('int')\n# # dist_map.head(3)\n\n\n# # States map\n# # ==========\n\n# # merge shape file with count file\n# state_map = pd.merge(states_shape, state_count, left_on='statename', right_on='state', how='right')\n# # fill na with 0\n# state_map['count'] = state_map['count'].fillna(0)\n# # state_map.head(3)","8d1ea315":"# Latest Data\n# ===========\n\n# sort based on confirmed cases\nlatest = states_latest.sort_values('Confirmed', ascending=False).reset_index(drop=True)\n\n# remove 'State Unassigned' row\nlatest = latest[latest['State']!='State Unassigned']\n\n# rearrange columns\nlatest = latest.loc[:, ['State', 'Confirmed', 'Active', 'Deaths', 'Mortality Rate', \n                        'Recovered', 'Recovery Rate']]\n\n# background color\nlatest.style\\\n    .background_gradient(cmap=\"Blues\", subset=['Confirmed', 'Active'])\\\n    .background_gradient(cmap=\"Greens\", subset=['Deaths', 'Mortality Rate'])\\\n    .background_gradient(cmap=\"Reds\", subset=['Recovered', 'Recovery Rate'])","fee547ae":"# subset columns\ntemp = latest[['Active', 'Deaths', 'Recovered']]\n\n# rename columns\ntemp.columns = ['Active', 'Deaths', 'Cured']\n\n# melt into longer format\ntm = temp.melt(value_vars=['Active', 'Deaths', 'Cured'])\n\n# plot\nfig_1 = px.treemap(tm, path=[\"variable\"], values=\"value\", height=250, \n                 color_discrete_sequence=[act, rec, dth], title='Latest stats')\nfig_1.data[0].textinfo = 'label+text+value'\nfig_1.show()","422c1c5b":"def plot_daily(col, hue):\n    fig = px.bar(daily, x=\"Date\", y=col, title=col, \n                 color_discrete_sequence=[hue])\n    fig.update_layout(title=col, xaxis_title=\"\", yaxis_title=\"\")\n    fig.show()","3597aab6":"plot_daily('Total Confirmed', '#000000')","2caa63fa":"plot_daily('Daily Confirmed', '#000000')","14ea9b0c":"plot_daily('Total Active', '#000000')","e2c7bcf9":"plot_daily('Total Deceased', dth)","e8592879":"plot_daily('Daily Deceased', dth)","730019b3":"plot_daily('Total Recovered', rec)","e78132b2":"plot_daily('Daily Recovered', rec)","c7969e9b":"def plot_daily(col, hue):\n    temp = tests_dbd.copy()\n    # temp = temp[~temp[col].isna()]\n    fig = px.scatter(temp, x=\"Update Time Stamp\", \n                 y=col, title=col, \n                 color_discrete_sequence=[hue])\n    fig.update_layout(title=col, xaxis_title=\"\", yaxis_title=\"\")\n    fig.show()","721ba43c":"plot_daily('Total Samples Tested', dth)","8afcfbb9":"# stacked bar chart\n\n# subset columns\ntemp = daily[['Date', 'Total Active', 'Total Deceased', 'Total Recovered']]\n\n# melt data\ntemp = temp.melt(value_vars=['Total Recovered', 'Total Deceased', 'Total Active'],\n                 id_vars=\"Date\", var_name='Case', value_name='Count')\ntemp.head()\n\n# plot\nfig_2 = px.bar(temp, x=\"Date\", y=\"Count\", color='Case', \n               title='Cases over time', color_discrete_sequence = [rec, dth, act])\nfig_2.show()","002c2d83":"# stacked bar chart\n\n# subset columns\ntemp = daily[['Date', 'Daily Confirmed', 'Daily Deceased', 'Daily Recovered']]\n\n# melt data\ntemp = temp.melt(value_vars=['Daily Recovered', 'Daily Deceased', 'Daily Confirmed'],\n                 id_vars=\"Date\", var_name='Case', value_name='Count')\ntemp.head()\n\n# plot\nfig_2 = px.bar(temp, x=\"Date\", y=\"Count\", color='Case', \n               title='Daily cases over time', color_discrete_sequence = [rec, dth, act])\nfig_2.show()","9cd9b9f9":"def plot_stacked(col):\n    temp = df.sort_values(col, ascending=False)\n    fig = px.bar(df, x=\"Date\", y=col, color='State', \n                 color_discrete_sequence = px.colors.qualitative.Vivid)\n    fig.update_layout(title='State wise '+ col, xaxis_title=\"\", yaxis_title=\"\", \n                      showlegend=False)\n    fig.show()","428d6a50":"plot_stacked('Confirmed')","e317c3b2":"plot_stacked('Deaths')","a6aa5df0":"plot_stacked('Recovered')","3f2a7818":"plot_stacked('New cases')","00514c1e":"plot_stacked('New deaths')","5cd00236":"plot_stacked('New recovered')","9760d2af":"# Daily statistics\n# ================\n\ntemp = daily[daily['Total Confirmed'] > 100]\n\nfig_c = px.line(temp, x=\"Date\", y=\"Deaths \/ 100 Cases\", color_discrete_sequence=['#000000'])\nfig_d = px.line(temp, x=\"Date\", y=\"Recovered \/ 100 Cases\", color_discrete_sequence=['#649d66'])\nfig_r = px.line(temp, x=\"Date\", y=\"Deaths \/ 100 Recovered\", color_discrete_sequence=['#ff677d'])\n\nfig = make_subplots(rows=1, cols=3, shared_xaxes=False, \n                    subplot_titles=('No. of Deaths to 100 Cases', \n                                    'No. of Recovered to 100 Cases', \n                                    'No. of Deaths to 100 Recovered'))\n\nfig.add_trace(fig_c['data'][0], row=1, col=1)\nfig.add_trace(fig_d['data'][0], row=1, col=2)\nfig.add_trace(fig_r['data'][0], row=1, col=3)","6bf693f4":"temp = pd.DataFrame(df.groupby('Date').apply(len), columns=['No. of states affected']).reset_index()\ntemp['Total no. of States\/UT'] = 36\ntemp = temp.melt(id_vars='Date', value_vars=['No. of states affected', 'Total no. of States\/UT'])\ntemp.head()\n\nfig_s = px.line(temp, x=\"Date\", y=\"value\", color='variable', line_dash='variable', \n                color_discrete_sequence=['#000000', '#ef1223'])\nfig_s.update_layout(title='No. of States\/UT affected', \n                  xaxis_title='', yaxis_title='')\nfig_s.show()","627d6905":"temp = daily.loc[:, ['Date', 'Total Active', 'Total Recovered']]\ntemp = temp.melt(id_vars='Date', value_vars=['Total Active', 'Total Recovered'])\ntemp.head()\n\nfig_c = px.line(temp, x=\"Date\", y=\"value\", color='variable', line_dash='variable', \n                color_discrete_sequence=[dth, rec])\nfig_c.update_layout(title='Active vs Recovered cases', \n                  xaxis_title='', yaxis_title='')\nfig_c.show()","57605bc0":"def plot_topn(col, n):\n    df = world.sort_values(col, ascending=False).head(n)\n    fig = px.bar(df, x=col, y='Country\/Region', color='Is India?', text=col, \n                 orientation='h', color_discrete_sequence=['#393e46', '#d92027'])\n    fig.update_layout(title=col, xaxis_title=\"\", yaxis_title=\"\", \n                      yaxis_categoryorder = 'total ascending',\n                      showlegend=False)\n    fig.show()","1bacf4a4":"plot_topn('Confirmed', 10)","936c30aa":"plot_topn('1 week change', 10) ","aa2329b1":"plot_topn('Deaths', 15)","2acfedf7":"plot_topn('Recovered', 10)","82bacd7e":"wm = pd.read_csv('..\/input\/corona-virus-report\/worldometer_data.csv')\nwm['Is India?'] = wm['Country\/Region']=='India'","639498d3":"px.scatter(wm, x='TotalCases', y='TotalDeaths', color='Is India?', hover_data=['Country\/Region'],\n           log_x=True, log_y=True, title='Confirmed vs Deaths',\n           color_discrete_sequence=['#393e46', '#d92027'])","1a3d30c4":"px.scatter(wm, x='Tot Cases\/1M pop', y='Tests\/1M pop', color='Is India?', \n           log_x=True, log_y=True, hover_data=['Country\/Region'], title='Tot Cases\/1M pop vs Tests\/1M pop',\n           color_discrete_sequence=['#393e46', '#d92027'])","a0d3a954":"def plot_topn_states(col, color, n):\n    df = states_latest.sort_values(col, ascending=False).head(n)\n    fig = px.bar(df, x=col, y='State', text=col, \n                 orientation='h', \n                 color_discrete_sequence=[color])\n    fig.update_layout(title=col, xaxis_title=\"\", yaxis_title=\"\", \n                      yaxis_categoryorder = 'total ascending',\n                      showlegend=False)\n    fig.show()","a91083f3":"plot_topn_states('Confirmed', '#333333', 10)","28f0998a":"plot_topn_states('Active', '#333333', 10)","212d82a9":"plot_topn_states('Deaths', dth, 10)","f399fc4d":"plot_topn_states('Mortality Rate', dth, 10)","83c11a09":"plot_topn_states('Recovered', rec, 10)","3afc60ff":"plot_topn_states('Recovery Rate', rec, 10)","8fe3c51b":"px.scatter(states_latest[states_latest['Confirmed']>10000], x='Confirmed', y='Deaths', \n           color='State', size='Confirmed', text='State', \n           log_x =True, log_y=True, title='Confirmed vs Death (Only States with more thatn 10000 cases)')","f3a1a81e":"# fig = px.scatter(df.sort_values('State', ascending=False), \n#                  x='Date', y='State', size='New cases', color='New cases', \n#                  color_continuous_scale=px.colors.sequential.Aggrnyl)\n# fig.update_layout(yaxis = dict(dtick = 1))\n# fig.update_layout(title='No. of new cases in each state', xaxis_title=\"\", yaxis_title=\"\")\n# fig.update_layout(height=900)\n# fig.update_layout(coloraxis_showscale=False)\n# fig.show()","0ab00581":"fig = px.scatter(df.sort_values('State', ascending=False), \n                 x='Date', y='State', size='Active', color='Active', \n                 color_continuous_scale=px.colors.sequential.thermal)\nfig.update_layout(yaxis = dict(dtick = 1))\nfig.update_layout(title='No. of active cases in each state', xaxis_title=\"\", yaxis_title=\"\")\nfig.update_layout(height=900)\nfig.update_layout(coloraxis_showscale=False)\nfig.show()","4f581fe0":"plt.style.use('seaborn')\ng = sns.FacetGrid(df.sort_values(['State', 'Date']), \n                  col=\"State\", hue=\"State\", \n                  sharey=False, col_wrap=7)\ng = g.map(plt.plot, \"Date\", \"Active\")\ng.set_xticklabels(rotation=90)\ng.fig.subplots_adjust(top=.9)\ng.fig.suptitle('Active case in each state over time', \n               fontsize=20)\nplt.show()","6f6393e4":"def plot_topn_dist(x, th, n):\n    \n    df = dist_latest[dist_latest['Confirmed']>th]\n    df = df[df['District']!='Unknown']\n    df = df[df['District']!='Other State']\n    df = df.sort_values(x, ascending=False).head(n)\n    \n    title = str(x) +'(Only districts with more than ' + str(th) +' cases)'\n    \n    fig = px.bar(df, x=x, y='District', color='State', \n                 text=x, orientation='h', \n                 color_discrete_sequence = px.colors.qualitative.Dark2)\n    fig.update_layout(title=title, xaxis_title=\"\", yaxis_title=\"\", \n                      yaxis_categoryorder = 'total ascending')\n    fig.show()","af5e384f":"plot_topn_dist('Confirmed', 100, 10)","e4cd42e4":"plot_topn_dist('Active', 100, 10)","4bb74be1":"plot_topn_dist('Deceased', 100, 10)","5fe4d807":"plot_topn_dist('Mortality Rate', 100, 10)","ab1a08cf":"plot_topn_dist('Recovered', 100, 10)","b7f29216":"plot_topn_dist('Recovery Rate', 100, 10)","059145dd":"temp = dist_latest.groupby(['State', 'District'])['Confirmed'].sum().reset_index()\ntemp.head()\nfig = px.treemap(temp, path=[\"State\", \"District\"], values=\"Confirmed\", \n                 height=700, title='Number of Confirmed Cases', \n                 color_discrete_sequence = px.colors.qualitative.Vivid)\nfig.data[0].textinfo = 'label+text+value'\nfig.show()","3c82dd04":"# leg_kwds={'title':'No. of case',\n#           'loc': 'upper right',\n#           'ncol':1}\n\n# fig, ax = plt.subplots(figsize=(10, 10))\n# dist_shape.plot(ax=ax, color='whitesmoke')\n# dist_map.plot(column='count', cmap='GnBu', ax=ax, legend=True, \n#               k=5, scheme='Quantiles', legend_kwds=leg_kwds)\n# plt.title('District level')\n# ax.set_axis_off()\n# plt.show()","9a1eacb1":"def print_missing(col):\n    print('Total no. of values :', p_df.shape[0], \\\n          '\\nNo. of missing values :', p_df.shape[0]-p_df[[col]].dropna().shape[0], \\\n          '\\nNo. of available values :', p_df.shape[0]-(p_df.shape[0]-p_df[[col]].dropna().shape[0]))","730b6677":"print_missing('Age Bracket')\n\npx.histogram(p_df, x='Age Bracket', color_discrete_sequence = ['#35495e'], \n             nbins=50, title='Distribution of ages of confirmed patients')","f51bf155":"def print_missing_vals():\n    print('Total no. of values :', p_df.shape[0], \n          '\\nNo. of missing values :', p_df.shape[0]-temp.shape[0], \n          '\\nNo. of available values :', p_df.shape[0]-(p_df.shape[0]-temp.shape[0]))","a189aa58":"fig = make_subplots(\n    rows=1, cols=2, column_widths=[0.8, 0.2],\n    subplot_titles = ['Gender vs Age', ''],\n    specs=[[{\"type\": \"histogram\"}, {\"type\": \"pie\"}]]\n)\n\ntemp = p_df[['Age Bracket', 'Gender']].dropna()\n\nprint_missing_vals()\n\ngen_grp = temp.groupby('Gender').count()\n\nfig.add_trace(go.Histogram(x=temp[temp['Gender']=='F']['Age Bracket'], nbinsx=50, name='Female', marker_color='#6a0572'), 1, 1)\nfig.add_trace(go.Histogram(x=temp[temp['Gender']=='M']['Age Bracket'], nbinsx=50, name='Male', marker_color='#39065a'), 1, 1)\n\nfig.add_trace(go.Pie(values=gen_grp.values.reshape(-1).tolist(), labels=['Female', 'Male'], marker_colors = ['#6a0572', '#39065a']),1, 2)\n\nfig.update_layout(showlegend=False)\nfig.update_layout(barmode='stack')\nfig.data[2].textinfo = 'label+text+value+percent'\n\nfig.show()","ccb78eaf":"fig = make_subplots(\n    rows=1, cols=2, column_widths=[0.8, 0.2],\n    subplot_titles = ['Cases vs Age', ''],\n    specs=[[{\"type\": \"histogram\"}, {\"type\": \"pie\"}]]\n)\n\ntemp = p_df[['Age Bracket', 'Current Status']].dropna()\n\nprint_missing_vals()\n\ngen_grp = temp.groupby('Current Status').count()\n\nfig.add_trace(go.Pie(values=gen_grp.values.reshape(-1).tolist(), labels=['Deceased', 'Hospitalized', 'Recovered'], \n                     marker_colors = ['#fd0054', '#393e46', '#40a798'], hole=.3),1, 2)\n\nfig.add_trace(go.Histogram(x=temp[temp['Current Status']=='Deceased']['Age Bracket'], nbinsx=50, name='Deceased', marker_color='#fd0054'), 1, 1)\nfig.add_trace(go.Histogram(x=temp[temp['Current Status']=='Recovered']['Age Bracket'], nbinsx=50, name='Recovered', marker_color='#40a798'), 1, 1)\nfig.add_trace(go.Histogram(x=temp[temp['Current Status']=='Hospitalized']['Age Bracket'], nbinsx=50, name='Hospitalized', marker_color='#393e46'), 1, 1)\n\nfig.update_layout(showlegend=False)\nfig.update_layout(barmode='stack')\nfig.data[0].textinfo = 'label+text+value+percent'\n\nfig.show()","6d37a141":"p_df['Type of transmission'] = p_df['Type of transmission'].replace('Imported ', 'Imported')\np_df['Type of transmission'] = p_df['Type of transmission'].replace('Unknown', 'TBD')\n\ntemp = pd.DataFrame(p_df[['Type of transmission']].groupby('Type of transmission')['Type of transmission'].count())\ntemp = temp.dropna()\ntemp.columns = ['count']\ntemp = temp.reset_index().sort_values(by='count')\n\nprint('Total no. of values :', p_df.shape[0], '\\nNo. of missing values :', p_df.shape[0]-temp['count'].sum(), '\\nNo. of available values :', temp['count'].sum())\n\nfig = px.bar(temp, x='count', y='Type of transmission', orientation='h', text='count', width=600, height=300,\n       color_discrete_sequence = ['#35495e'], title='Type of transmission')\nfig.update_xaxes(title='')\nfig.update_yaxes(title='')\nfig.show()","b7a22f73":"daily['Month'] = pd.DatetimeIndex(daily['Date']).month\ndaily['Week No.'] = daily['Date'].dt.strftime('%U')\ndaily.head()","798402ad":"week_wise = daily.groupby('Week No.')['Daily Confirmed', 'Total Confirmed', 'Daily Recovered', \n                                      'Total Recovered', 'Daily Deceased', 'Total Deceased'].sum().reset_index()\nweek_wise.columns = ['Week No.', 'New Confirmed', 'Total Confirmed', 'New Recovered', \n                      'Total Recovered', 'New Deceased', 'Total Deceased']\nweek_wise.head()","8ce27cd9":"def plot_weekly(col, hue):\n    fig = px.bar(week_wise, x=\"Week No.\", y=col, title=col, \n                 width=700, color_discrete_sequence=[hue])\n    fig.update_layout(title=col, xaxis_title=\"\", yaxis_title=\"\")\n    fig.show()","45ace3b4":"plot_weekly('Total Confirmed', 'black')","57b7810a":"plot_weekly('New Confirmed', 'black')","6bbbb83a":"plot_weekly('Total Deceased', 'crimson')","0188b12e":"plot_weekly('New Deceased', 'crimson')","19da76e1":"plot_weekly('Total Recovered', 'green')","df8dff38":"plot_weekly('New Recovered', 'green')","4a3c6208":"month_wise = daily.groupby('Month')['Daily Confirmed', 'Total Confirmed', 'Daily Recovered', \n                                    'Total Recovered', 'Daily Deceased', 'Total Deceased'].sum().reset_index()\nmonth_wise.columns = ['Month', 'New Confirmed', 'Total Confirmed', 'New Recovered', \n                      'Total Recovered', 'New Deceased', 'Total Deceased']\nmonth_wise.head()","0f591a0f":"def plot_monthly(col, hue):\n    fig = px.bar(month_wise, x=\"Month\", y=col, title=col, \n                 width=600, color_discrete_sequence=[hue])\n    fig.update_layout(title=col, xaxis_title=\"\", yaxis_title=\"\")\n    fig.show()","18b3acc9":"plot_monthly('Total Confirmed', 'black')","2c8a29ef":"plot_monthly('New Confirmed', 'black')","f9777995":"plot_monthly('Total Deceased', 'crimson')","85e7bd8d":"plot_monthly('New Deceased', 'crimson')","ffa8f0d9":"plot_monthly('Total Recovered', 'Green')","3b50a322":"plot_monthly('New Recovered', 'green')","36300480":"# Week wise","33181d24":"# Data","35fe0ef8":"# Timeline","d2f835e3":"# Over Time","25a21fe9":"# Declaration\n\n* According to MoHFW https:\/\/www.mohfw.gov.in\/ some new cases have been reassigned states as per latest information\n* Confirmed cases includes both Indian and Foriegn citizen\n* Cured cases includes cured, discharged and migrated patients ","7e3523c7":"# Latest Data","548d4c5e":"### 2. Map data","41c4d5d0":"# Library","42a0d7f5":"# District level","cae7b7d0":"# Where does India Stands","977dc9ef":"# Patient wise Data","2e7b3088":"# Leading States","e695cbbd":"# Month wise","03d07a2e":"### 1. API Data"}}