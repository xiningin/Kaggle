{"cell_type":{"4e1017d7":"code","b5962623":"code","314d4e28":"code","684e802d":"code","d47e65d4":"code","fa4b595a":"code","67714d6c":"code","0860b4f1":"code","448481cb":"code","b2366162":"code","dcb9708d":"code","9754213e":"code","37b5b596":"code","3bc37011":"code","947ba918":"code","ede84648":"code","119feab5":"code","eccaf66e":"code","da7fc933":"code","3eebc577":"code","caf68242":"code","8ce15b8f":"code","f5fb4b18":"code","baf17f35":"markdown","b59ec07d":"markdown","a5a8a4da":"markdown","079c69d9":"markdown","9d92ed68":"markdown","68511878":"markdown","a3805588":"markdown","951ad090":"markdown"},"source":{"4e1017d7":"#Importing required packges\nimport pandas as pd\nimport numpy as np","b5962623":"#Installing pycaret library for \n!pip install pycaret\nimport pycaret as pc","314d4e28":"#Checking version of PyCaret\nprint('PyCaret: %s' % pc.__version__)","684e802d":"#Reading the Dataset\ndf_train=pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_train.csv')","d47e65d4":"df_train.shape","fa4b595a":"#Checking for top 10 rows\ndf_train.head()","67714d6c":"#Checking for column info\ndf_train.info()","0860b4f1":"import plotly.express as px\ndf_gender = df_train.groupby(['target', 'gender']).size().reset_index()\ndf_gender['percentage'] = df_train.groupby(['target', 'gender']).size().groupby(level=1).apply(lambda x: 100 * x \/ float(x.sum())).values\ndf_gender.columns = ['target', 'gender', 'Counts', 'Percentage']\ndf_gender\npx.bar(df_gender, x='gender', y=['Counts'], color='target', text=df_gender['Percentage'].apply(lambda x: '{0:1.2f}%'.format(x)))","448481cb":"import plotly.express as px\ndf_exp = df_train.groupby(['target', 'relevent_experience']).size().reset_index()\ndf_exp['percentage'] = df_train.groupby(['target', 'relevent_experience']).size().groupby(level=1).apply(lambda x: 100 * x \/ float(x.sum())).values\ndf_exp.columns = ['target', 'relevent_experience', 'Counts', 'Percentage']\ndf_exp\npx.bar(df_exp, x='relevent_experience', y=['Counts'], color='target', text=df_exp['Percentage'].apply(lambda x: '{0:1.2f}%'.format(x)))","b2366162":"#Checking Count of Nulls across columns\ndf_train.isna().sum()","dcb9708d":"import numpy as np\nfrom sklearn.impute import SimpleImputer","9754213e":"#Imputing Null values with mean value\ndf_train['gender'].fillna(value=df_train['gender'].mode(dropna=True)[0],inplace=True)\ndf_train['enrolled_university'].fillna(value=df_train['enrolled_university'].mode(dropna=True)[0],inplace=True)\ndf_train['education_level'].fillna(value=df_train['education_level'].mode(dropna=True)[0],inplace=True)\ndf_train['major_discipline'].fillna(value=df_train['major_discipline'].mode(dropna=True)[0],inplace=True)\ndf_train['experience'].fillna(value=df_train['experience'].mode(dropna=True)[0],inplace=True)\ndf_train['company_size'].fillna(value=df_train['company_size'].mode(dropna=True)[0],inplace=True)\ndf_train['company_type'].fillna(value=df_train['company_type'].mode(dropna=True)[0],inplace=True)\ndf_train['last_new_job'].fillna(value=df_train['last_new_job'].mode(dropna=True)[0],inplace=True)","37b5b596":"#Checking Count of Nulls across columns\ndf_train.isna().sum()","3bc37011":"#Building PyCaret model with defualt hyperparameters\nfrom pycaret.classification import *\npycar = setup(df_train, target = 'target',silent=True)#,train_size = 0.6,categorical_features = ['gender'],\n#ignore_features = ['company_size'],ordinal_features = {'experience' : ['low', 'medium', 'high']},high_cardinality_features = ['city'],normalize = True,normalize_method = 'minmax',\n#transformation = True,feature_interaction = True, feature_ratio = True,polynomial_features = True)","947ba918":"#Comparing different model performance\ncompare_models()","ede84648":"gbc=create_model('gbc')","119feab5":"#Plotting model Output\nplot_model(gbc, plot = 'boundary')","eccaf66e":"#Calibrate the model\ncalib_lgbm = calibrate_model(gbc)","da7fc933":"#Evaluate Model\nevaluate_model(gbc)","3eebc577":"# read the test data\ntest_data_classification = pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_test.csv')\n# make predictions\npredictions = predict_model(gbc, data=test_data_classification)\n# view the predictions\nfinal_sub=predictions[['enrollee_id','Score']]\nfinal_sub.rename(columns={'enrollee_id': 'enrollee_id', 'Score': 'target'}, inplace=True)\nfinal_sub.to_csv('final_submission.csv')","caf68242":"#interpret_model(gbc)","8ce15b8f":"gbc_holdout_pred = predict_model(gbc)","f5fb4b18":"#Credits: https:\/\/towardsdatascience.com\/machine-learning-made-easier-with-pycaret-907e7124efe6","baf17f35":"# **HR Analytics : Predict probabilty of Data Scientist leaving the Job and understand feature impacting this**","b59ec07d":"**Interpreting the Impact of features on Output probability**","a5a8a4da":"# **Visualization to Understand the data**","079c69d9":"**Missing Values Imputation**","9d92ed68":"**We can see lightgbm has best performance hence choosing this model**","68511878":"**Preparing the model output on test population**","a3805588":"**Female Data Scientists have higher chances of leaving a Job compared to other Genders**","951ad090":"**Data Scientist with no relevant experience finds it difficult to continue in the Job**"}}