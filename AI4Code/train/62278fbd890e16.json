{"cell_type":{"f02dea35":"code","02cefca6":"code","6cd8c0a6":"code","9f87347c":"code","232c4837":"code","203b2698":"code","bc482b83":"code","7de77da2":"code","9f8014a7":"code","e8772cdf":"code","e169b923":"code","724b6921":"code","a36f2c30":"code","93554766":"code","4c907718":"code","cb16bbed":"code","791bca33":"code","5be9cd76":"code","3236fff2":"code","a0b1d127":"code","283dc3ad":"code","b304016a":"code","4d20dde3":"code","ee97dcfa":"code","164c1daa":"code","6f61c121":"code","7361d7c0":"code","82476262":"code","85f26081":"code","432d527a":"code","2de866f2":"code","135e5061":"code","16148c4f":"code","f6f0e682":"code","593b14a6":"code","de859180":"code","dbaf3e29":"code","d12ffddb":"code","8e05b4b3":"code","0cc3c181":"code","fef73fa1":"code","a342a2e7":"code","9a801d1e":"code","42b8c081":"code","21f2f810":"code","8c602161":"code","0fc9ef7b":"markdown","371ef468":"markdown","1ebb3aa7":"markdown","98cb76b2":"markdown","8c1ffedc":"markdown","345cf753":"markdown","2aff5222":"markdown","43860264":"markdown"},"source":{"f02dea35":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport plotly.graph_objs as go\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom IPython.core.display import display, HTML\ndisplay(HTML(\"<style>.container {width:100% !important;}<\/style>\"))","02cefca6":"df=pd.read_csv('..\/input\/botdetection\/ibm_data.csv',index_col=0)","6cd8c0a6":"df.head(10)","9f87347c":"# Let's bring some statistical insights fro data\ndf.describe()","232c4837":"# Let's check the inforamtion and type\ndf.info()","203b2698":"# check fro null values\ndf.isnull().sum()","bc482b83":"import datetime\ndf['page_vw_ts']=pd.to_datetime(df['page_vw_ts'])","7de77da2":"df.page_vw_ts.dt.dayofyear.head()","9f8014a7":"df['ip_addr']= df['ip_addr'].astype(str)\ndf['VISIT']= df['VISIT'].astype(int)\ndf['ENGD_VISIT']= df['ENGD_VISIT'].astype(int)\ndf['VIEWS']= df['VIEWS'].astype(int)\ndf['wk']= df['wk'].astype(int)","e8772cdf":"df['day']=df['page_vw_ts'].dt.weekday","e169b923":"df.head()","724b6921":"#Let's see the trend of year,month and day\ndf['year']=df.page_vw_ts.dt.year","a36f2c30":"df.head()","93554766":"df['month']=df.page_vw_ts.dt.month","4c907718":"df.head()","cb16bbed":"df.year.value_counts().sort_index().plot()","791bca33":"df.month.value_counts().sort_index().plot()","5be9cd76":"df.day.value_counts().sort_index().plot()","3236fff2":"df.head()","a0b1d127":"df.corr()","283dc3ad":"# lets's drop wk,mth,yr as it contins most of the null values and does not play any important role\ndf.drop('wk',axis=1,inplace=True)","b304016a":"df.drop('mth',axis=1,inplace=True)\ndf.drop('yr',axis=1,inplace=True)","4d20dde3":"df.head()","ee97dcfa":"# lets's drop some more columns that are irrelevant to our data means if they dont be in data set it will not affect our analysis.\ndf.drop('intgrtd_mngmt_name',axis=1,inplace=True)\ndf.drop('intgrtd_operating_team_name',axis=1,inplace=True)\ndf.drop('st',axis=1,inplace=True)\ndf.drop('sec_lvl_domn',axis=1,inplace=True)\ndf.drop('device_type',axis=1,inplace=True)","164c1daa":"df.head()","6f61c121":"df.isnull().sum()","7361d7c0":"df['city'].fillna((df['city'].mode()[0]),inplace=True)","82476262":"df=df.dropna()","85f26081":"df.isnull().sum()","432d527a":"sns.pairplot(df)","2de866f2":"plt.figure(figsize=[10,5])\nplt.subplot(1,2,1)\nsns.scatterplot(df.VIEWS,df.day,color='r')\nsns.scatterplot(df.VIEWS,df.VISIT,color='g')\nsns.scatterplot(df.VISIT,df.ENGD_VISIT,color='b')\n\nplt.subplot(1,2,2)\nsns.scatterplot(df.VIEWS,df.month,color='r')\nsns.scatterplot(df.VIEWS,df.VISIT,color='g')\nsns.scatterplot(df.VISIT,df.ENGD_VISIT,color='b')","135e5061":"df.pivot_table(['VISIT','VIEWS','ENGD_VISIT'],('day')).plot(kind='bar')","16148c4f":"df.pivot_table(['VISIT','VIEWS','ENGD_VISIT'],('month')).plot(kind='bar')","f6f0e682":"data=df.pivot_table(['VISIT','VIEWS','ENGD_VISIT','day','month'],('ip_addr'),aggfunc='sum')","593b14a6":"data","de859180":"columns=['VISIT','VIEWS','ENGD_VISIT','day','month']\ndf1=pd.DataFrame(data[columns])\ndf1.dropna(inplace=True)","dbaf3e29":"df1","d12ffddb":"# Let's scale the data fisrt\nfrom sklearn.preprocessing import MinMaxScaler\nscaler=MinMaxScaler()\ndf1.VIEWS=scaler.fit_transform(df1[['VIEWS']])\ndf1.VISIT=scaler.fit_transform(df1[['VISIT']])\ndf1.ENGD_VISIT=scaler.fit_transform(df1[['ENGD_VISIT']])\ndf1.day=scaler.fit_transform(df1[['day']])\ndf1.month=scaler.fit_transform(df1[['month']])","8e05b4b3":"# using k-means to make 2 cluster groups\nfrom sklearn.cluster import KMeans\nkm=KMeans(n_clusters=2)","0cc3c181":"y_pred=km.fit_predict(df1)","fef73fa1":"df1['cluster']=y_pred","a342a2e7":"# For plotting the graph of cluster\np=df1[df1.cluster==0]\nq=df1[df1.cluster==1]","9a801d1e":"plt.scatter(p.VISIT,p.day,color='g')\nplt.scatter(p.VISIT,p.VIEWS,color='g')\nplt.scatter(p.VISIT,p.ENGD_VISIT,color='g')\n\nplt.scatter(q.VISIT,q.day,color='b')\nplt.scatter(q.VISIT,q.VIEWS,color='b')\nplt.scatter(q.VISIT,q.ENGD_VISIT,color='b')\n\nplt.scatter(km.cluster_centers_[:,0],km.cluster_centers_[:,1],color='red')","42b8c081":"plt.scatter(p.VISIT,p.month,color='g')\nplt.scatter(p.VISIT,p.VIEWS,color='g')\nplt.scatter(p.VISIT,p.ENGD_VISIT,color='g')\n\nplt.scatter(q.VISIT,q.month,color='b')\nplt.scatter(q.VISIT,q.VIEWS,color='b')\nplt.scatter(q.VISIT,q.ENGD_VISIT,color='b')\n\nplt.scatter(km.cluster_centers_[:,0],km.cluster_centers_[:,1],color='red')","21f2f810":"data['BOT']=y_pred","8c602161":"data[data.BOT==1]","0fc9ef7b":"### BOT Detection using Unsupervised Algorithm\n\n### Problem Statement:- Determine the unique IP which is suspected to be BOT.","371ef468":"#### 449283 Unique ip_addr with data","1ebb3aa7":"#### Load the important Libraries to perform task","98cb76b2":"### Thank YOU.","8c1ffedc":"* as shown in above we can see the value of most of the year counts are 2019.\n* the most of the month counts are  6.\n* the most of the day counts are 1.","345cf753":"### Overall 814 ip detected as a BOT.","2aff5222":"* Reds are the Center point for K\n* Blues are the BOTS\n* Greens are the Humans","43860264":"* from above we can say that the VIEWS and VISITS have the linear Relationship.\n* in months most of the values are at 6.\n* in day the values are at 1."}}