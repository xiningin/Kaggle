{"cell_type":{"9a4efbd0":"code","fcfa8dbb":"code","ecf38676":"code","33462a1e":"code","8148ac2c":"code","ae681df9":"code","c13e0a8d":"code","2004f600":"markdown","654c47a1":"markdown","c0e90978":"markdown","49510635":"markdown","5ccff7c3":"markdown","d9194d36":"markdown","ef12e10d":"markdown","30354852":"markdown"},"source":{"9a4efbd0":"import numpy as np\nimport scipy.stats as stats\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as patches\nimport matplotlib.path as path\nfrom matplotlib import animation, rc\nfrom IPython.display import HTML\n\nrc('animation', html='html5')\n%matplotlib inline","fcfa8dbb":"SIZE = 100\nUs = []\n\nfor ii in range(1000):\n    a = stats.expon.rvs(scale=3, size=SIZE)\n    b = stats.expon.rvs(scale=3, size=SIZE)\n\n    # \u0414\u0435\u043b\u0430\u0435\u043c \u0434\u0432\u0430 \u0434\u0430\u0442\u0430\u0444\u0440\u0435\u0439\u043c\u0430, \u0432 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u044b\u0431\u043e\u0440\u043a\u0438, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0435\u0440\u0443\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.\n    # \u042d\u0442\u043e \u043d\u0443\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043b\u0435 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0438 \u0440\u0430\u043d\u0436\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u043d\u0438\u043c\u0430\u0442\u044c, \u043a\u0430\u043a\u0438\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0438\u0437 \u043a\u0430\u043a\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438.\n    a_df = pd.DataFrame(list(zip(a, ['a'] * len(a))), columns=['val', 'label'])\n    b_df = pd.DataFrame(list(zip(b, ['b'] * len(b))), columns=['val', 'label'])\n\n    # \u041e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u043c \u0434\u0430\u0442\u0430\u0444\u0440\u0435\u0439\u043c\u044b, \u0440\u0430\u043d\u0436\u0438\u0440\u0443\u0435\u043c.\n    stacked = a_df.append(b_df).reset_index(drop=True)\n    stacked['rank'] = stacked.val.rank(ascending=False, numeric_only=True)\n\n    # \u041d\u0430\u0445\u043e\u0434\u0438\u043c \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u044b\u0439 \u0440\u0430\u043d\u0433 \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438.\n    R_a = stacked[stacked.label == 'a']['rank'].sum()\n    R_b = stacked[stacked.label == 'b']['rank'].sum()\n\n    # \u0421\u0447\u0438\u0442\u0430\u0435\u043c U...\n    U = min(R_a, R_b) - SIZE * (SIZE + 1) \/ 2\n\n    # ... \u0438 \u0437\u0430\u043f\u0438\u0445\u0438\u0432\u0430\u0435\u043c \u0446\u0435\u043d\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043d\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\n    Us.append((U - SIZE ** 2 \/ 2) \/ (SIZE * np.sqrt((2 * SIZE + 1) \/ 12)))\n\n# \u0421\u0442\u0440\u043e\u0438\u043c \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u0443\nplt.hist(Us, bins=50, density=True)\n\n# \u0421\u0442\u0440\u043e\u0438\u043c \u043f\u043b\u043e\u0442\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f\nx = np.arange(min(Us), max(Us)+0.01, 0.01)\ny = stats.norm.pdf(x)\nplt.plot(x, y, linewidth=4)\n\nplt.show()","ecf38676":"number_of_frames = 21\n\nfig = plt.figure(figsize=(8, 8))\n\ndef init():\n    return\n\ndef update_hist(num):\n    plt.clf()\n\n    plt.axes().set_ylim([0, 0.7])\n    x = np.arange(-4, 4.01, 0.01)\n    y = stats.norm.pdf(x)\n    plt.plot(x, y, linewidth=4, color='darkorange')\n\n    n = (num + 1) * 3\n    Us = []\n\n    for ii in range(2500):\n        a = stats.expon.rvs(scale=3, size=n)\n        b = stats.expon.rvs(scale=3, size=n)\n\n        a_df = pd.DataFrame(list(zip(a, ['a'] * len(a))), columns=['val', 'label'])\n        b_df = pd.DataFrame(list(zip(b, ['b'] * len(b))), columns=['val', 'label'])\n\n        stacked = a_df.append(b_df).reset_index(drop=True)\n        stacked['rank'] = stacked.val.rank(ascending=False, numeric_only=True)\n\n        R_a = stacked[stacked.label == 'a']['rank'].sum()\n        R_b = stacked[stacked.label == 'b']['rank'].sum()\n\n        U = min(R_a, R_b) - n * (n + 1) \/ 2\n\n        Us.append((U - n ** 2 \/ 2) \/ (n * np.sqrt((2 * n + 1) \/ 12)))\n    mirrored_Us = [-i for i in Us]\n    symm_Us = Us + mirrored_Us\n    _, p_val = stats.shapiro(symm_Us)\n    plt.hist(symm_Us, bins=50, density=True, color='blue', label=f'size = {n}\\nshapiro p-value = {p_val}')\n    plt.legend()\n\nanimation.FuncAnimation(fig, update_hist, number_of_frames, init_func=init, interval=1000, repeat=True, repeat_delay=10000)","33462a1e":"alpha = 0.05\n_, p_value = stats.shapiro(Us + [-i for i in Us])\nif p_value > alpha:\n    print(f'Is normal, p_value = {p_value}')\nelse:\n    print(f'Not normal, p_value = {p_value}')","8148ac2c":"from statsmodels.stats.proportion import proportions_ztest","ae681df9":"def my_proportion_ztest(count, nobs, value=None, alternative='two-sided', prop_var=False):\n    count = np.asarray(count)\n    nobs = np.asarray(nobs)\n    num_s = nobs.size\n\n    if count.size != num_s:\n        raise Exception('\u0414\u043b\u0438\u043d\u044b count \u0438 nobs \u043d\u0435 \u0440\u0430\u0432\u043d\u044b')\n    if num_s > 2:\n        raise Exception('\u041d\u0435\u043b\u044c\u0437\u044f \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0432\u0443\u0445 \u0432\u044b\u0431\u043e\u0440\u043e\u043a')\n    if (num_s == 1) and (value is None):\n        raise Exception('\u0414\u043b\u044f \u043e\u0434\u043d\u043e\u0432\u044b\u0431\u043e\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 value \u043d\u0430\u0434\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u044f\u0432\u043d\u043e')\n\n    prop = count \/ nobs\n    if value is None:\n        value = 0\n\n    if num_s == 1:\n        diff = prop - value\n    else:\n        diff = (prop[0] - prop[1]) - value\n    \n    common_p = count.sum() \/ nobs.sum() if prop_var == False else prop_var\n    std = np.sqrt(common_p * (1 - common_p) * np.sum(1 \/ nobs))\n    \n    stat = diff \/ std\n    \n    if alternative == 'two-sided':\n        p_val = (1 - stats.norm.cdf(np.abs(stat))) * 2\n    elif alternative == 'smaller':\n        p_val = stats.norm.cdf(stat)\n    elif alternative == 'larger':\n        p_val = 1 - stats.norm.cdf(stat)\n    else:\n        raise Exception('\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c. \u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 [\"two-sided\", \"smaller\", \"larger\"]')\n    \n    return stat, p_val","c13e0a8d":"count = 82\nnobs = 100\nvalue = 0.9\n\nmy_proportion_ztest(count, nobs, value, alternative='two-sided', prop_var=0.9), \\\nproportions_ztest(count, nobs, value, alternative='two-sided', prop_var=0.9)","2004f600":"## \u0410\u0441\u0438\u043c\u043f\u0442\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c U","654c47a1":"\u0418\u0442\u0430\u043a:\n* \u0413\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u043c \u0434\u0432\u0435 \u0432\u044b\u0431\u043e\u0440\u043a\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e 100 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u043a\u0430\u0436\u0434\u043e\u0439. \u0423\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u043b\u043e\u0441\u044c, \u0447\u0442\u043e \u043f\u0440\u0438 $n > 60$ \u0443\u0436\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u0438\u0434\u043d\u0430 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c. \u0415\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u0440\u0430\u0432\u0434\u0430, \u0442\u043e \u043f\u0440\u0438 $n = 100$ --- \u0442\u0435\u043c \u0431\u043e\u043b\u0435\u0435.\n* \u041e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u043c, \u0440\u0430\u043d\u0436\u0438\u0440\u0443\u0435\u043c, \u0441\u0447\u0438\u0442\u0430\u0435\u043c \u0441\u0443\u043c\u043c\u044b \u0440\u0430\u043d\u0433\u043e\u0432 \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435.\n* \u0421\u0447\u0438\u0442\u0430\u0435\u043c U \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u043c\u0430\u0441\u0441\u0438\u0432 Us \u0446\u0435\u043d\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043d\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 U.\n* \u041f\u043e\u0432\u0442\u043e\u0440\u044f\u0435\u043c \u0442\u0440\u0438 \u0448\u0430\u0433\u0430 \u0432\u044b\u0448\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u0430\u0437 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 1000), \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 U.","c0e90978":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e, $U = \\min(U_1, U_2)$, \u0430 $U_1 + U_2 = n^2$, \u0442\u043e \u0435\u0441\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 $U - \\frac{n^2}{2}$ \u0431\u0443\u0434\u0435\u0442 \u0432\u0441\u0435\u0433\u0434\u0430 \u043d\u0435\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u0435\u043d. \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043d\u0430\u0434\u0435\u044f\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043b\u0435\u0432\u0443\u044e \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0443 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f. \u0411\u043e\u043b\u0435\u0435 \u0442\u043e\u0433\u043e, density=True \u043d\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442 \u043d\u0430 \u043e\u0431\u0449\u0443\u044e \u0441\u0443\u043c\u043c\u0443, \u0442\u043e \u0435\u0441\u0442\u044c \u0441\u0443\u043c\u043c\u0430 \u0432\u0441\u0435\u0445 \u0441\u0442\u043e\u043b\u0431\u0438\u043a\u043e\u0432 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u0440\u0430\u0432\u043d\u0430 1. \u041e\u0434\u043d\u0430\u043a\u043e, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0435\u0432\u0430\u044f \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u0430 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f, \u0442\u0430\u043a\u0430\u044f \u043d\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u043d\u044b\u0435 \u0432\u0434\u0432\u043e\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b. \u041c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0431\u044b \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u043d\u0430 \u0434\u0432\u0430, \u043e\u0434\u043d\u0430\u043a\u043e \u043c\u044b \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u043f\u043e-\u0434\u0440\u0443\u0433\u043e\u043c\u0443: \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u043a Us \u043c\u0430\u0441\u0441\u0438\u0432 -Us \u0438 \u0431\u0443\u0434\u0435\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u0443 \u043d\u043e\u0432\u043e\u0433\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430. \u041e\u0436\u0438\u0434\u0430\u0435\u043c \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435. \u0414\u043e\u0431\u0430\u0432\u0438\u043c \u0435\u0449\u0451 \u043f\u043e\u0441\u0442\u0440\u043e\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u043e\u0431\u043d\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0432\u044b\u0431\u043e\u0440\u043e\u043a $n$, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438 \u0447\u0438\u0441\u0442\u043e \u0434\u043b\u044f \u043a\u0440\u0430\u0441\u043e\u0442\u044b. \u0418 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0435\u0449\u0451 \u0431\u043e\u043b\u0435\u0435 \u0433\u043b\u0430\u0434\u043a\u0438\u0445 \u0433\u0438\u0441\u0442\u043e\u0433\u0440\u0430\u043c\u043c.","49510635":"\u0413\u0438\u043f\u043e\u0442\u0435\u0437\u0430 $H_0$:\n* \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u044f \u0440\u0430\u0432\u043d\u0430 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0447\u0438\u0441\u043b\u0443 (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0434\u043d\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438)\n* \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u0439 \u0440\u0430\u0432\u043d\u0430 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0447\u0438\u0441\u043b\u0443 (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0434\u0432\u0443\u0445 \u0432\u044b\u0431\u043e\u0440\u043e\u043a)\n\n\u041a\u0430\u0436\u0434\u0430\u044f \u0432\u044b\u0431\u043e\u0440\u043a\u0430 \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0435\u0434\u0438\u043d\u0438\u0446 \u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432. \u041f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u044f $prop = \\frac{count}{nobs}$. \u0418\u0434\u0435\u044f \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043a\u0430\u0436\u0434\u043e\u0435 \u0431\u0438\u043d\u043e\u043c\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0435\u0441\u0442\u044c \u0441\u0443\u043c\u043c\u0430 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0439 \u0411\u0435\u0440\u043d\u0443\u043b\u043b\u0438. \u0417\u043d\u0430\u0447\u0438\u0442, \u0435\u0441\u043b\u0438 \u0432\u0437\u044f\u0442\u044c \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u043f\u043e\u0440\u0446\u0438\u0439 \u0438 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0435, \u0442\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u044b $H_0$.\n\n\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430:\n* \u0414\u043b\u044f \u043e\u0434\u043d\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438: $$z = \\frac{prop - value}{\\sqrt{\\frac{p(1 - p)}{n}}}$$\n* \u0414\u043b\u044f \u0434\u0432\u0443\u0445 \u0432\u044b\u0431\u043e\u0440\u043e\u043a: $$z = \\frac{(prop_1 - prop_2) - value}{\\sqrt{p(1 - p) \\left( \\frac{1}{n_1} + \\frac{1}{n_2} \\right)} }.$$\n\n\u0412 \u0437\u043d\u0430\u043c\u0435\u043d\u0430\u0442\u0435\u043b\u0435 \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u0443\u0441\u043f\u0435\u0445\u0430 $p$, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0432\u044b\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0434\u0438\u0441\u043f\u0435\u0440\u0441\u0438\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0411\u0435\u0440\u043d\u0443\u043b\u043b\u0438. \u042d\u0442\u0430 $p$ \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u0441\u0447\u0438\u0442\u0430\u043d\u0430 \u043f\u043e \u0432\u044b\u0431\u043e\u0440\u043a\u0430\u043c (\u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0434\u043e \u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0435\u0434\u0438\u043d\u0438\u0446 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u043e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u043e\u0432) \u043b\u0438\u0431\u043e \u0437\u0430\u0434\u0430\u043d\u0430 \u0430\u043f\u0440\u0438\u043e\u0440\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 prop_val \u043d\u0430\u0448\u0435\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438.","5ccff7c3":"\u0410\u0441\u0438\u043c\u043f\u0442\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430, \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c, \u044d\u043c\u043f\u0438\u0440\u0438\u0447\u0435\u0441\u043a\u0438. \u041a\u0430\u043a \u044f \u043f\u043e\u043d\u044f\u043b, \u0441\u0442\u0440\u043e\u0433\u043e\u0435 \u0434\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0441\u043b\u043e\u0436\u043d\u043e\u0435.","d9194d36":"\u0414\u043e \u0441\u0442\u0440\u043e\u0433\u043e\u0433\u043e \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0434\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u044f \u0442\u0430\u043a \u0438 \u043d\u0435 \u0434\u043e\u0448\u0451\u043b, \u043d\u043e \u0432\u0435\u0437\u0434\u0435 \u043f\u0438\u0448\u0443\u0442, \u0447\u0442\u043e, \u043f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438 \u0438\u0441\u0442\u0438\u043d\u043d\u043e\u0441\u0442\u0438 \u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u044b, \u0430\u0441\u0438\u043c\u043f\u0442\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 U \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 $$\\mu = \\frac{n_1n_2}{2},$$ $$\\sigma = \\sqrt{\\frac{n_1n_2(n_1 + n_2 + 1)}{12}}.$$ \u0415\u0441\u0442\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e, \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u043c \u044d\u0442\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u043f\u044b\u0442\u043d\u044b\u043c \u043f\u0443\u0442\u0451\u043c, \u043f\u0440\u0438\u0447\u0451\u043c \u043d\u0435 \u043f\u0440\u043e\u0432\u043e\u0434\u044f \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0441\u0435\u0440\u044c\u0451\u0437\u043d\u044b\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a \u0433\u0438\u043f\u043e\u0442\u0435\u0437, \u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0432 \u043a\u0430\u043a\u043e\u0435-\u0442\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u043e\u0441\u044c. \u042f \u0432\u0437\u044f\u043b \u044d\u043a\u0441\u043f\u043e\u043d\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u0441 $\\lambda = 3$. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e \u043f\u043e\u043b\u043e\u0436\u0438\u043c $n_1 = n_2 = n$ (\u044d\u0442\u043e \u0442\u043e\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043e\u0441\u043d\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u043f\u0430\u043b\u044c\u0446\u0430\u0445, \u0433\u043b\u044f\u0434\u044f \u043d\u0430 \u0444\u043e\u0440\u043c\u0443\u043b\u044b \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0451\u0442\u0430 U). \u0422\u043e\u0433\u0434\u0430 \u0444\u043e\u0440\u043c\u0443\u043b\u0430 \u0434\u043b\u044f \u0440\u0430\u0441\u0447\u0451\u0442\u0430 $U$ \u0443\u043f\u0440\u043e\u0449\u0430\u0435\u0442\u0441\u044f \u0434\u043e $$U = \\min(R_1, R_2) - \\frac{n(n + 1)}{2},$$ \u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0440\u0430\u0432\u043d\u044b\u043c\u0438 $$\\mu = \\frac{n^2}{2},$$ $$\\sigma = n\\sqrt{\\frac{2n + 1}{12}}.$$ \u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u043c\u0443\u0447\u0430\u0442\u044c\u0441\u044f \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0430\u043c\u0438 \u0433\u0440\u0430\u0444\u0438\u043a\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 $n$ (\u0438\u0437-\u0437\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0445 $\\mu$), \u0431\u0443\u0434\u0435\u043c \u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 $\\frac{U - \\mu}{\\sigma}$. \u041e\u0447\u0435\u0432\u0438\u0434\u043d\u043e, \u0447\u0442\u043e \u0442\u0430\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u043c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u043c.","ef12e10d":"## Proportion z-test","30354852":"\u0424\u0438\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0428\u0430\u043f\u0438\u0440\u043e-\u0423\u0438\u043b\u043a\u0430."}}