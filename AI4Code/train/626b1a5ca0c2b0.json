{"cell_type":{"5037066e":"code","6635f0bc":"code","6c180a00":"code","e414fca2":"code","ff5261d7":"code","51daaa50":"code","bd79d740":"code","2d3c0a6d":"code","81e88771":"code","71c05f45":"code","659e5365":"code","5f80d7dd":"code","b24c30a3":"code","d7d9ac85":"code","51ac3aad":"code","74781b0d":"code","3f91c26f":"code","c8a97875":"code","ebbf4e18":"code","86d96c10":"code","f99e17bc":"code","7d254e40":"code","cb3e2d71":"code","f2cee09a":"code","5aded3bb":"code","f31b8012":"code","76c4dd8c":"code","6edd6729":"code","aad19cf6":"code","5011b792":"code","1010d90c":"code","d73a5e92":"code","0734fea1":"code","fa265ffc":"code","a3bfc776":"code","b4a1a830":"code","3184add3":"code","6540a9a9":"code","04993f9f":"code","cc09cfe7":"markdown","bcb1597b":"markdown","ab3fc880":"markdown","947ae92f":"markdown","0f34d5cf":"markdown","47ad00a6":"markdown","6bf3adce":"markdown","26c3131d":"markdown","0c7842e0":"markdown","f81ab7d3":"markdown","bf06914c":"markdown","41c34337":"markdown","90606240":"markdown","ed674161":"markdown","2b8827ad":"markdown","2b5613c4":"markdown","7ccd21e6":"markdown"},"source":{"5037066e":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os","6635f0bc":"df = pd.read_csv(\"..\/input\/forbes-billionaires-of-2021\/Billionaire.csv\")\ndf","6c180a00":"# delete \"$\" and \"B\" in NetWorth columns\n\ndf_NetWorth = df['NetWorth'].str.strip(\"$, B\")\ndf_NetWorth = df_NetWorth.to_frame()\n\n# NetWorth dtype is object. # Change the dtype to use as int values\ndf_NetWorth = pd.to_numeric(df_NetWorth.NetWorth).astype(int) \ndf_NetWorth","e414fca2":"NetWorth = df.drop([\"NetWorth\"], axis = 1)\nNetWorth[\"df_NetWorth\"] = \"df_NetWorth\"","ff5261d7":"all_NetWorth = pd.concat([df_NetWorth, NetWorth], axis = 1)\nall_NetWorth = all_NetWorth[[\"Name\", \"NetWorth\", \"Country\", \"Source\", \"Rank\"]]\nall_NetWorth","51daaa50":"print(all_NetWorth.dtypes)","bd79d740":"Name_sum = all_NetWorth[[\"Name\", \"NetWorth\"]].sort_values(\"NetWorth\", ascending = False).head(15)\nName_sum ","2d3c0a6d":"# lollipop plot\nfig, ax = plt.subplots(figsize=(16,8))\nax.vlines(x = Name_sum.index, \n          ymin = 0, ymax = Name_sum.NetWorth, \n          color = 'tomato', linewidth=5, alpha = 0.5)\nax.scatter(x = Name_sum.index, y = Name_sum.NetWorth, \n           s=200, color='red')\nax.set_xticks(Name_sum.index)\nax.set_xticklabels(Name_sum.Name.str.upper(), rotation=90, fontsize = 15)\nplt.grid(color = \"grey\", alpha = 0.3)\nplt.title(\"The highest NetWorth by Name\", fontsize = 30, color = \"blue\")\nplt.show()","81e88771":"NetWorth_sum = all_NetWorth.groupby([\"Country\"]).sum()\nNetWorth_sum = NetWorth_sum[[\"NetWorth\"]].sort_values(\"NetWorth\", ascending = False).head(15)\nNetWorth_sum = NetWorth_sum.reset_index()\nNetWorth_sum","71c05f45":"fig, ax = plt.subplots(figsize=(16,8))\nax.vlines(x = NetWorth_sum.index, \n          ymin = 0, ymax = NetWorth_sum.NetWorth, \n          color = 'orange', linewidth=5, alpha = 0.5)\nax.scatter(x=NetWorth_sum.index, y=NetWorth_sum.NetWorth, \n           s=200, color='darkorange')\nax.set_xticks(NetWorth_sum.index)\nax.set_xticklabels(NetWorth_sum.Country.str.upper(), rotation=90, fontsize = 15)\nplt.grid(color = \"grey\", alpha = 0.3)\nplt.title(\"The highest NetWorth by Country\", fontsize = 30, color = \"indigo\")\nplt.show()","659e5365":"Source_sum = all_NetWorth.groupby([\"Source\"]).sum()\nSource_sum = Source_sum[[\"NetWorth\"]].sort_values(\"NetWorth\", ascending = False).head(15)\nSource_sum = Source_sum.reset_index()\nSource_sum","5f80d7dd":"fig, ax = plt.subplots(figsize=(16,8))\nax.vlines(x = Source_sum.index, \n          ymin = 0, ymax = Source_sum.NetWorth, \n          color = 'violet', linewidth=5, alpha = 0.5)\nax.scatter(x=Source_sum.index, y=Source_sum.NetWorth, \n           s=200, color='magenta')\nax.set_xticks(Source_sum.index)\nax.set_xticklabels(Source_sum.Source.str.upper(), rotation=90, fontsize = 15)\nplt.grid(color = \"grey\", alpha = 0.3)\nplt.title(\"The highest NetWorth by Source\", fontsize = 30, color = \"darkgreen\")\nplt.show()","b24c30a3":"df[\"Country\"].unique()","d7d9ac85":"# horizontal barplot \nplt.figure(figsize=(10,23))\nsns.countplot(y='Country',data=df, palette = \"cool\")\nplt.title('Country Distribution',size = 25, color = \"indigo\")\nax = plt.gca() \nax.set_facecolor('seashell')\nplt.show()","51ac3aad":"#The list of names including \"family\"\ndf_family = df[df[\"Name\"].str.contains(\"family\")]\ndf_family","74781b0d":"plt.figure(figsize=(10,15))\nsns.countplot(y='Country',data=df_family, palette = \"winter\")\nplt.title('The Country Distribution on Family',size = 25, color = \"purple\")\nplt.yticks(fontsize = 12)\nax = plt.gca() \nax.set_facecolor('lavenderblush')\nplt.show()","3f91c26f":"Fam = df[df[\"Name\"].str.contains(\"family\")]\nFam = Fam[[\"Country\"]].value_counts()\nFam = Fam.reset_index(name=\"Fam_count\")\nFam","c8a97875":"Indiv = df[~df[\"Name\"].str.contains(\"family\")]\nIndiv = Indiv[[\"Country\"]].value_counts()\nIndiv = Indiv.reset_index(name=\"Indiv_count\")\nIndiv","ebbf4e18":"Indiv_Fam = pd.merge(Indiv, Fam, on = \"Country\", how = \"outer\").fillna(0)\nIndiv_Fam = Indiv_Fam.set_index(\"Country\").head(15)\nIndiv_Fam ","86d96c10":"# stacked barplot\nIndiv_Fam.plot.bar(stacked=True, figsize=(15,7), color = ['lime', 'yellow'])\nplt.yticks(fontsize = 13)\nplt.xticks(fontsize = 15, rotation = 45)\nplt.xlabel(\"Country\", fontsize = 15)\nplt.title(\"The number of billionaires: Individual vs Family\", \n          fontsize = 25, color = 'darkblue')\nplt.grid(color = \"grey\", alpha = 0.3)\nplt.legend(fontsize = 15)\nplt.show()","f99e17bc":"# use the dateframe \"all_NetWorth\" which has int dtype in NetWorth\nFam2 = all_NetWorth[all_NetWorth[\"Name\"].str.contains(\"family\")]\nFam2 = Fam2.groupby(\"Country\").sum()\nFam2 = Fam2[[\"NetWorth\"]].sort_values(\"NetWorth\", ascending = False).reset_index()\nFam2 ","7d254e40":"Indiv2 = all_NetWorth[~all_NetWorth[\"Name\"].str.contains(\"family\")]\nIndiv2 = Indiv2.groupby(\"Country\").sum()\nIndiv2 = Indiv2[[\"NetWorth\"]].sort_values(\"NetWorth\", ascending = False).reset_index()\nIndiv2","cb3e2d71":"Indiv2_Fam2 = pd.merge(Indiv2, Fam2, on = \"Country\", how = \"outer\").fillna(0)\nIndiv2_Fam2 = Indiv2_Fam2.set_index(\"Country\").astype(int).head(15)\nIndiv2_Fam2.columns = [\"NetWorth_Indiv\", \"NetWorth_Fam\"]\nIndiv2_Fam2","f2cee09a":"Indiv2_Fam2.plot.bar(stacked=True, figsize=(15,7), color = ['dodgerblue', 'aqua'])\nplt.yticks(fontsize = 13)\nplt.xticks(fontsize = 15, rotation = 45)\nplt.xlabel(\"Country\", fontsize = 15)\nplt.title(\"The Sum of NetWorth: Individual vs Family\", \n          fontsize = 25, color = 'red')\nplt.grid(color = \"grey\", alpha = 0.3)\nplt.legend(fontsize = 15)\nplt.show()","5aded3bb":"df_TopSource = df[['Source']].value_counts().head(15)\ndf_TopSource = df_TopSource.reset_index(name = \"Source_count\")\ndf_TopSource","f31b8012":"# treemap chart\nimport matplotlib\nimport squarify \nfig = plt.figure(figsize=(14,8)) \ncolors = [plt.cm.gist_rainbow(i\/float(len(df_TopSource[\"Source\"]))) \n          for i in range(len(df_TopSource[\"Source\"]))]\nsquarify.plot(sizes=df_TopSource[\"Source_count\"], label=df_TopSource[\"Source\"], \n             alpha=0.4, color=colors, text_kwargs={'fontsize':10}, \n              value = df_TopSource[\"Source_count\"])\nplt.title(\"The number of the most featured 15 Sources\", fontsize = 25, color = \"darkblue\")\nplt.axis('off')\nplt.show()","76c4dd8c":"df_TopCountry = df[['Country']].value_counts().head(15)\ndf_TopCountry = df_TopCountry.reset_index(name = \"Country_count\")\ndf_TopCountry","6edd6729":"fig = plt.figure(figsize=(14,8)) \ncolors = [plt.cm.rainbow(i\/float(len(df_TopCountry[\"Country\"]))) \n          for i in range(len(df_TopCountry[\"Country\"]))]\nsquarify.plot(sizes=df_TopCountry[\"Country_count\"], label=df_TopCountry[\"Country\"], \n             alpha=0.6, color=colors, text_kwargs={'fontsize':10}, \n              value = df_TopCountry[\"Country_count\"])\n\nplt.title(\"The number of the most featured 15 Countries\", \n          fontsize = 25, color = \"darkblue\")\nplt.axis('off')\nplt.show()","aad19cf6":"df[\"Country\"].value_counts().head(4)","5011b792":"df_USA = df[df[\"Country\"]==\"United States\"]\ndf_USA =  df_USA[\"Source\"].value_counts().head()\n\ndf_China = df[df[\"Country\"]==\"China\"]\ndf_China = df_China[\"Source\"].value_counts().head()\n\ndf_India = df[df[\"Country\"]==\"India\"]\ndf_India = df_India[\"Source\"].value_counts().head()\n\ndf_Germany = df[df[\"Country\"]==\"Germany\"]\ndf_Germany = df_Germany[\"Source\"].value_counts().head()","1010d90c":"# donut chart\nfig = plt.figure(figsize=(14,14)) \nfig.set_facecolor('lightcyan') \n\n# colors\ncolors1 = [\"red\", \"violet\", \"yellow\", \"greenyellow\", \"skyblue\"]\ncolors2 = [\"violet\", \"blue\", \"orange\", \"skyblue\", \"lime\"]\ncolors3 = [\"blue\", \"salmon\", \"palegreen\", \"violet\", \"lightgrey\"]\ncolors4 = [\"salmon\", \"aqua\", \"darkgreen\", \"gold\", \"wheat\"]\n\n# 4 pie charts\nax1 = fig.add_subplot(221) \npie1 = ax1.pie(labels = df_USA.index, x=df_USA, colors = colors1,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\nax2 = fig.add_subplot(222) \npie2 = ax2.pie(labels = df_China.index, x=df_China, colors = colors2,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\nax3 = fig.add_subplot(223) \npie3 = ax3.pie(labels = df_India.index, x=df_India, colors = colors3,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\nax4 = fig.add_subplot(224) \npie4 = ax4.pie(labels = df_Germany.index, x=df_Germany, colors = colors4,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\n\n# subtitles\nax1.set_title(\"USA\", fontsize = 20)\nax2.set_title(\"China\", fontsize = 20)\nax3.set_title(\"India\", fontsize = 20)\nax4.set_title(\"Germany\", fontsize = 20)\n\nplt.show()","d73a5e92":"df[\"Source\"].value_counts().head(4)","0734fea1":"real_estate = df[df[\"Source\"]==\"real estate\"]\nreal_estate =  real_estate[\"Country\"].value_counts().head()\n\npharmaceuticals = df[df[\"Source\"]==\"pharmaceuticals\"]\npharmaceuticals = pharmaceuticals[\"Country\"].value_counts().head()\n\ninvestments = df[df[\"Source\"]==\"investments\"]\ninvestments = investments[\"Country\"].value_counts().head()\n\ndiversified = df[df[\"Source\"]==\"diversified\"]\ndiversified = diversified[\"Country\"].value_counts().head()","fa265ffc":"fig = plt.figure(figsize=(14,14)) \nfig.set_facecolor('lavenderblush') \n\ncolors1 = [\"purple\", \"darkviolet\", \"mediumorchid\", \"plum\", \"thistle\"]\ncolors2 = [\"darkblue\", \"mediumblue\", \"royalblue\", \"cornflowerblue\", \"lightsteelblue\"]\ncolors3 = [\"goldenrod\", \"gold\", \"yellow\", \"khaki\", \"lightyellow\"]\ncolors4 = [\"limegreen\", \"lime\", \"greenyellow\", \"lightgreen\", \"honeydew\"]\n\nax1 = fig.add_subplot(221) \npie1 = ax1.pie(labels = real_estate.index, x=real_estate, colors = colors1,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\nax2 = fig.add_subplot(222) \npie2 = ax2.pie(labels = pharmaceuticals.index, x=pharmaceuticals, colors = colors2,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\nax3 = fig.add_subplot(223) \npie3 = ax3.pie(labels = investments.index, x=investments, colors = colors3,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\nax4 = fig.add_subplot(224) \npie4 = ax4.pie(labels = diversified.index, x=diversified, colors = colors4,\n       autopct=lambda p : '{:.2f}%'.format(p),wedgeprops=dict(width=0.5))\n\n# subtitles\nax1.set_title(\"Real estate\", fontsize = 20)\nax2.set_title(\"Pharmaceuticals\", fontsize = 20)\nax3.set_title(\"Investments\", fontsize = 20)\nax4.set_title(\"Diversified\", fontsize = 20)\nplt.show()","a3bfc776":"df_unique = df[\"Source\"].nunique()\ndf_unique","b4a1a830":"# top 40 sources\nunique_Source = all_NetWorth.groupby(\"Source\").max(\"NetWorth\")\nunique_Source = unique_Source.reset_index().drop([\"Rank\"], axis = 1)\nunique_Source = unique_Source.sort_values(\"NetWorth\", ascending = False).head(40)","3184add3":"# circular barplot\nplt.figure(figsize = (20,14))\nax = plt.subplot(111, polar = True)\nplt.axis('off')\n\nupperLimit = 100\nlowerLimit = 30\nlabelPadding = 4\nmax = unique_Source['NetWorth'].max()\nslope = (max - lowerLimit) \/ max\nheights = slope * unique_Source.NetWorth + lowerLimit\nwidth = 2*np.pi \/ len(unique_Source.index)\nindexes = list(range(1, len(unique_Source.index)+1))\nangles = [element * width for element in indexes]\nangles\n\nbars = ax.bar(x = angles, height = heights, width = width, bottom = lowerLimit,\n    linewidth = 2, edgecolor = \"white\", color = \"lightskyblue\")\n\nfor bar, angle, height, label in zip(bars,angles, heights, unique_Source[\"Source\"]):\n\n    rotation = np.rad2deg(angle)\n    alignment = \"\"\n    if angle >= np.pi\/2 and angle < 3*np.pi\/2:\n        alignment = \"right\"\n        rotation = rotation + 180\n    else: \n        alignment = \"left\"\n\n    ax.text(\n        x = angle, y = lowerLimit + bar.get_height()+labelPadding, \n        s = label, ha = alignment, va = 'center', \n        rotation = rotation, rotation_mode=\"anchor\") \nplt.title(\"The highest NetWorth on Unique Sources\", fontsize = 25, color = \"blue\")\nplt.show()","6540a9a9":"Source_name = all_NetWorth.groupby([\"Source\", \"Name\"]).max(\"NetWorth\")\nSource_name = Source_name.reset_index().drop([\"Rank\"], axis = 1)\nSource_name = Source_name.sort_values(\"NetWorth\", ascending = False).head(40)","04993f9f":"plt.figure(figsize = (20,14))\nax = plt.subplot(111, polar = True)\nplt.axis('off')\n\nupperLimit = 100\nlowerLimit = 30\nlabelPadding = 4\nmax = Source_name['NetWorth'].max()\nslope = (max - lowerLimit) \/ max\nheights = slope * Source_name.NetWorth + lowerLimit\nwidth = 2*np.pi \/ len(Source_name.index)\nindexes = list(range(1, len(Source_name.index)+1))\nangles = [element * width for element in indexes]\nangles\n\nbars = ax.bar(x = angles, height = heights, width = width, bottom = lowerLimit,\n    linewidth = 2, edgecolor = \"white\", color = \"greenyellow\")\n\nfor bar, angle, height, label in zip(bars,angles, heights, Source_name[\"Name\"]):\n\n    rotation = np.rad2deg(angle)\n    alignment = \"\"\n    if angle >= np.pi\/2 and angle < 3*np.pi\/2:\n        alignment = \"right\"\n        rotation = rotation + 180\n    else: \n        alignment = \"left\"\n\n    ax.text(\n        x = angle, y = lowerLimit + bar.get_height()+labelPadding, \n        s = label, ha = alignment, va = 'center', \n        rotation = rotation, rotation_mode=\"anchor\") \nplt.title(\"The highest NetWorth on Unique Sources by Name\", fontsize = 25, \n          color = \"royalblue\")\nplt.show()","cc09cfe7":"> # <font color=\"midnightblue\"> The highest NetWorth by Name","bcb1597b":"> # <font color=\"midnightblue\"> The Sum of NetWorth: Individual vs Family","ab3fc880":"# <font color=\"deepskyblue\"> Thank <font color=\"blue\">you!\n\nI refered to the site \"Python graph gallery\" when I made this notebook.\nThis site helped me a lot and that I WANNA share the site.\nhttps:\/\/www.python-graph-gallery.com\/","947ae92f":"> # <font color=\"midnightblue\"> The most featured Source distributions of top 4 Countries","0f34d5cf":"> # <font color=\"midnightblue\"> The highest NetWorth by Source","47ad00a6":"> # <font color=\"midnightblue\"> The number of the most featured 15 Sources","6bf3adce":"# <font color=\"orange\"> ***\ud83c\udf88 Forbes billionaires of <font color=\"crimson\"> 2021***","26c3131d":"> # <font color=\"midnightblue\"> The number of the most featured 15 Sources","0c7842e0":"> # <font color=\"midnightblue\"> The highest NetWorth on Unique Sources","f81ab7d3":"> # <font color=\"midnightblue\"> The highest NetWorth on Unique Sources by Name","bf06914c":"> # <font color=\"midnightblue\"> The most featured Country distributions of top 4 Sources","41c34337":"> # <font color=\"midnightblue\"> The Country Distribution","90606240":"> # <font color=\"midnightblue\"> The highest NetWorth by Country","ed674161":"# *Data Exploration*","2b8827ad":"> # <font color=\"midnightblue\"> The Country Distribution on Family","2b5613c4":"# *Imports and Loading dataset*","7ccd21e6":"> # <font color=\"midnightblue\"> The number of billionaires: Individual vs Family"}}