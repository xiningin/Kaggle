{"cell_type":{"90260c30":"code","95d15a22":"code","0e49a72c":"code","9f4fc958":"code","cd3b4fa4":"code","0d72530b":"code","e63a5836":"code","30b2cc50":"code","a2a119ce":"code","587565c8":"code","3c7040d0":"code","91258d69":"code","604981ed":"code","5c676884":"code","6d595055":"code","4f0214eb":"code","8f056514":"code","b2fb7f55":"code","b6f2ec6c":"code","765ec1e6":"code","c53958ff":"code","45baeef7":"code","361984c9":"code","3d42e2f1":"code","b4b8c7a0":"code","2b7bbdee":"code","78aad090":"code","febe565c":"code","5cde5c5d":"code","17a0074a":"code","6137b51c":"code","c4d7694b":"code","e5965912":"code","b16a9445":"code","d7a81601":"code","49b9e427":"code","c15a2bdb":"code","f4d9c8b3":"code","20bac2fb":"code","f942c90c":"code","3668e49e":"code","80fedbd5":"code","2306d4b9":"code","ce9417f7":"code","c49f45f3":"code","36acaaa6":"code","8c4c29bf":"code","82c1ba4e":"code","72ea8979":"code","fde6d82f":"code","805d9883":"markdown","dcb3c7d1":"markdown","564e02bf":"markdown","2ad00c47":"markdown","6be8a2e6":"markdown","2e7a6d6e":"markdown"},"source":{"90260c30":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","95d15a22":"# K\u00fct\u00fcphanelerimizi import ediyoruz.\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport re\nimport seaborn as sns\nfrom collections import Counter\nimport matplotlib.pyplot as plt; plt.rcdefaults()","0e49a72c":"# Sklearn i\u00e7erisindeki modellerimizden Linear Regression, Logistic Regression\n# ve Decision Tree K\u00fct\u00fcphanelerini Projemize dahil ediyoruz\nfrom sklearn.linear_model import LinearRegression,LogisticRegression\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn import svm\nimport warnings\nwarnings.filterwarnings('ignore')","9f4fc958":"agegrp=pd.read_csv('..\/input\/covid19-in-india\/AgeGroupDetails.csv')\ncovidindia=pd.read_csv('..\/input\/covid19-in-india\/covid_19_india.csv')\nhospitalbeds=pd.read_csv('..\/input\/covid19-in-india\/HospitalBedsIndia.csv')\nindividualdetails=pd.read_csv('..\/input\/covid19-in-india\/IndividualDetails.csv')","cd3b4fa4":"agegrp.head()","0d72530b":"agegrp.info()","e63a5836":"hospitalbeds=hospitalbeds[:-2]\nhospitalbeds.fillna(0,inplace=True)\nhospitalbeds","30b2cc50":"hospitalbeds.info()","a2a119ce":"for col in hospitalbeds.columns[2:]:\n    if hospitalbeds[col].dtype=='object':\n        hospitalbeds[col]=hospitalbeds[col].astype('int64')","587565c8":"hospitalbeds.info()","3c7040d0":"covidindia.head()","91258d69":"covidindia['Date']=pd.to_datetime(covidindia['Date'])","604981ed":"covidindia.Date","5c676884":"gender=individualdetails.gender\ngender.dropna(inplace=True)\ngender=gender.value_counts()\nper=[]\nfor i in gender:\n    perc=i\/gender.sum()\n    per.append(format(perc,'.2f'))\nplt.figure(figsize=(10,6))    \nplt.title('Cinsiyete g\u00f6re vaka kar\u015f\u0131la\u015ft\u0131rmas\u0131',fontsize=20)\nplt.pie(per,autopct='%1.1f%%')\nplt.legend(gender.index,loc='best',title='Cinsiyet',fontsize=15)","6d595055":"perc=[]\nfor i in agegrp['Percentage']:\n    per=float(re.findall(\"\\d+\\.\\d+\",i)[0])\n    perc.append(per)\nagegrp['Percentage']=perc\nplt.figure(figsize=(20,10))\nplt.title('Ya\u015f grubunda vaka y\u00fczdesi',fontsize=20)\nplt.pie(agegrp['Percentage'],autopct='%1.1f%%')\nplt.legend(agegrp['AgeGroup'],loc='best',title='Ya\u015f Grubu')","4f0214eb":"plt.figure(figsize=(20,10))\nplt.style.use('ggplot')\nplt.title('Farkl\u0131 ya\u015f gruplar\u0131nda vaka kar\u015f\u0131la\u015ft\u0131rmas\u0131',fontsize=30)\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.xlabel('Age Group',fontsize=20)\nplt.ylabel('Confirmed Cases',fontsize=20)\nplt.bar(agegrp['AgeGroup'],agegrp['TotalCases'],color=['Red','green','skyblue','orange','hotpink'],linewidth=3)\nfor i, j in enumerate(agegrp['TotalCases']):\n    plt.text(i-.25, j,\n              agegrp['TotalCases'][i], \n              fontsize=20 )","8f056514":"top=hospitalbeds.nlargest(20,'NumPrimaryHealthCenters_HMIS')\n\nplt.figure(figsize=(15,10))\nplt.title('Eyaletlere g\u00f6re sa\u011fl\u0131k merkezi say\u0131s\u0131',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('birinci basamak sa\u011fl\u0131k merkezi say\u0131s\u0131',fontsize=25)\nplt.ylabel('States',fontsize=25)\nplt.barh(top['State\/UT'],top['NumPrimaryHealthCenters_HMIS'],color='Purple',linewidth=1)","b2fb7f55":"df1=covidindia.groupby('Date')[['Cured','Deaths','Confirmed']].sum()","b6f2ec6c":"plt.figure(figsize=(20,10))\nplt.style.use('ggplot')\nplt.title('G\u00f6zlemlenen Vaka',fontsize=30)\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.xlabel('Tarih',fontsize=20)\nplt.ylabel('Vaka Say\u0131s\u0131',fontsize=20)\nplt.plot(df1.index,df1['Confirmed'],linewidth=3,label='Onaylanm\u0131\u015f',color='blue')\nplt.plot(df1.index,df1['Cured'],linewidth=3,label='Tedavi Edilmi\u015f',color='green')\nplt.plot(df1.index,df1['Deaths'],linewidth=3,label='\u00d6l\u00fcm',color='red')\nplt.legend(fontsize=20)","765ec1e6":"df2=covidindia.groupby('State\/UnionTerritory')[['Cured','Deaths','Confirmed']].sum()","c53958ff":"df2=df2.nlargest(20,'Confirmed')\nplt.figure(figsize=(20,6))\nplt.title('Do\u011frulanm\u0131\u015f Vakalar',fontsize=20)\nplt.xticks(rotation=90,fontsize=10)\nplt.yticks(fontsize=15)\nplt.xlabel('Eyalet',fontsize=15)\nplt.ylabel('Vaka',fontsize=15)\nplt.plot(df2.index,df2.Confirmed,marker='o',mfc='black',label='Onaylanm\u0131\u015f',markersize=10,linewidth=1,color='blue')\nplt.plot(df2.index,df2.Deaths,marker='o',mfc='black',label='\u00d6l\u00fcm',markersize=10,linewidth=1,color='red')\nplt.plot(df2.index,df2.Cured,marker='o',mfc='black',label='Tedavi Edilmi\u015f',markersize=10,linewidth=1,color='green')\nplt.legend(fontsize=20)","45baeef7":"perc=[]\nfor i in df2.Confirmed:\n    per=i\/len(df2)\n    perc.append(i)\nplt.figure(figsize=(25,10))    \nplt.title('Y\u00fczde Da\u011f\u0131l\u0131m\u0131 ile Onaylanm\u0131\u015f Vakalar\u0131 Olan Eyaletler ',fontsize=20)\nplt.pie(perc,autopct='%1.1f%%')\nplt.legend(df2.index,loc='upper right')","361984c9":"covidindia.isnull().sum()","3d42e2f1":"covidindia[\"ConfirmedForeignNational\"]=covidindia['ConfirmedForeignNational'].replace('-',0,inplace=True)\ncovidindia[\"ConfirmedIndianNational\"]=covidindia['ConfirmedIndianNational'].replace('-',0,inplace=True)","b4b8c7a0":"covidindia['ConfirmedIndianNational']=covidindia['ConfirmedIndianNational'].astype('float64')\ncovidindia['ConfirmedForeignNational']=covidindia['ConfirmedForeignNational'].astype('float64')","2b7bbdee":"df3=covidindia.groupby('State\/UnionTerritory')[['ConfirmedIndianNational','ConfirmedForeignNational']].sum()","78aad090":"df4=df3.nlargest(20,'ConfirmedIndianNational')\ndf5=df3.nlargest(20,'ConfirmedForeignNational')","febe565c":"plt.figure(figsize=(30,25))\nplt.subplot(311)\nplt.title('Tedavi Edilmi\u015f Vaka Say\u0131s\u0131',fontsize=28)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=25)\nplt.bar(df2.index,df2.Cured,color='green',linewidth=5)\n","5cde5c5d":"plt.figure(figsize=(30,25))\nplt.subplot(311)\nplt.title('Vefat Eden Vaka Say\u0131s\u0131',fontsize=28)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=25)\nplt.bar(df2.index,df2.Deaths,color='blue',linewidth=5)","17a0074a":"plt.figure(figsize=(30,25))\nplt.subplot(311)\nplt.title('Onaylanm\u0131\u015f Vakalar',fontsize=28)\nplt.xticks(rotation=90,fontsize=20)\nplt.yticks(fontsize=25)\nplt.bar(df2.index,df2.Confirmed,color='red',linewidth=5)\n\n\n","6137b51c":"el=sns.catplot(x='State\/UnionTerritory',y='Confirmed',kind='boxen',data=covidindia)\nel.fig.set_figwidth(20)\nel.fig.set_figheight(5)\nel.set_xticklabels(rotation=90,fontsize=15)","c4d7694b":"el=sns.catplot(x='State\/UnionTerritory',y='Cured',kind='boxen',data=covidindia)\nel.fig.set_figwidth(20)\nel.fig.set_figheight(5)\nel.set_xticklabels(rotation=90,fontsize=15)","e5965912":"el=sns.catplot(x='State\/UnionTerritory',y='Deaths',kind='boxen',data=covidindia)\nel.fig.set_figwidth(20)\nel.fig.set_figheight(5)\nel.set_xticklabels(rotation=90,fontsize=15)","b16a9445":"# Veriyi birebir say\u0131salla\u015ft\u0131rabilmek i\u00e7in label encoder kulland\u0131m. Kategorik her veriye say\u0131sal de\u011fer atad\u0131k.\nfrom sklearn.preprocessing import LabelEncoder\nlbl=LabelEncoder()\ncovidindia['State\/UnionTerritory']=lbl.fit_transform(covidindia['State\/UnionTerritory'])","d7a81601":"covidindia[\"ConfirmedForeignNational\"]=covidindia['ConfirmedForeignNational'].fillna(0,inplace=False)\ncovidindia[\"ConfirmedIndianNational\"]=covidindia['ConfirmedIndianNational'].fillna(0,inplace=False)","49b9e427":"covidindia.isnull().sum()","c15a2bdb":"covidindia['Date']=covidindia['Date'].astype('datetime64[ns]')","f4d9c8b3":"covidindia['date']=covidindia['Date'].dt.day\ncovidindia['month']=covidindia['Date'].dt.month","20bac2fb":"covidindia","f942c90c":"linear=LinearRegression()\nlogistic=LogisticRegression(C=0.05, solver='liblinear')\ntree=DecisionTreeRegressor()\nneigh = KNeighborsClassifier(n_neighbors=3)\ngnb = GaussianNB()\nsvm = svm.SVC(kernel='rbf')","3668e49e":"from sklearn.model_selection import train_test_split\nx=covidindia[['State\/UnionTerritory','date','month','Cured','Deaths','ConfirmedIndianNational','ConfirmedForeignNational']]\ny=covidindia['Confirmed']\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.2,random_state=0)","80fedbd5":"\nlinear.fit(x_train,y_train)\nlogistic.fit(x_train,y_train)\ntree.fit(x_train,y_train)\nneigh.fit(x_train,y_train)\ngnb.fit(x_train, y_train)\nsvm.fit(x_train, y_train) \n\n\n","2306d4b9":"from sklearn.metrics import r2_score","ce9417f7":"\npredictionLin=linear.predict(x_test)\nscore1=r2_score(y_test,predictionLin)\nprint(score1)\n","c49f45f3":"\npredictionTree=tree.predict(x_test)\nscore2=r2_score(y_test,predictionTree)\nprint(score2)\n","36acaaa6":"\npredictionLog = logistic.predict(x_test)\nscore3 = r2_score(y_test,predictionLog)\nprint(score3)\n","8c4c29bf":"\npredictionNeigh = neigh.predict(x_test)\nscore4 = r2_score(y_test,predictionNeigh)\nprint(score4)\n\n","82c1ba4e":"\npredictionGnb = gnb.predict(x_test)\nscore5 = r2_score(y_test,predictionGnb)\nprint(score5)\n","72ea8979":"\npredictionSvm = svm.predict(x_test)\nscore6 = r2_score(y_test,predictionSvm)\nprint(score6)","fde6d82f":"models = ['LinearRegression','DecisionTreeRegressor','LogisticRegression','KNeighboursClassifier',\"GNB\",\"SVM\"]\ny_pos = np.arange(len(models))\nperformance = [score1,score2,score3,score4,score5,score6]\n\nplt.barh(y_pos, performance, align='center', alpha=0.5)\nplt.yticks(y_pos, models)\nplt.xlabel('Tahmin')\nplt.title('Model Do\u011fruluk Oran\u0131')\n\nplt.show()","805d9883":"Ya\u015f grupland\u0131rmas\u0131nda ki \u0130lk 5 Data A\u015f\u015fa\u011f\u0131daki gibidir.Burada dikkatimizi \u00e7eken durumlara \ng\u00f6z att\u0131\u011f\u0131m\u0131zda Feature Name' ler bize Ya\u015f aral\u0131klar\u0131n\u0131 Toplam vaka say\u0131lar\u0131n\u0131 ve y\u00fczdelik oranlar\u0131n\u0131 vermektedir.","dcb3c7d1":"Datam\u0131z\u0131 Pandas k\u00fct\u00fcphanesi ile read ediyoruz.\n* Burada agegrp de\u011ferimiz Covid-19 hasta - Ya\u015f da\u011f\u0131l\u0131m\u0131n\u0131 bizlere veriyor.\n* covidindia de\u011ferimiz hindistandaki covid-19 vaka \u00f6l\u00fcm oranlar\u0131n\u0131 bizlere veriyor.\n* hospitalbeds ise bizlere hastanelerdeki yatak say\u0131s\u0131n\u0131 bizlere veriyor.\n* individualdetails ise Bireysel detaylar veriyor.","564e02bf":"Hastane yatak say\u0131m\u0131zda e\u011fer ki bo\u015f de\u011ferlerimiz varsa onlar\u0131 \"0\" ile dolduruyoruz","2ad00c47":"Yatak say\u0131s\u0131 hakk\u0131nda info de\u011ferlerini elde ediyoruz ve burada dikkatimizi datatype i\u00e7erisinde 2. index numaral\u0131 feature datatype. de\u011ferimiz object olarak g\u00f6steriliyor fakat datam\u0131zda say\u0131sal veri olarak g\u00f6z\u00fckmektedir bunun data type de\u011ferini int64 olarak de\u011fi\u015ftiriyoruz\n","6be8a2e6":"Ya\u015f gruplar\u0131 datam\u0131zdan \u00f6n bilgi ald\u0131k.","2e7a6d6e":"Datam\u0131za tekrar bakt\u0131\u011f\u0131m\u0131zda herhangi bir Dtype de\u011feri s\u0131k\u0131nt\u0131l\u0131 g\u00f6z\u00fckm\u00fcyor \u015fuanda veri setimiz haz\u0131r hale gelmi\u015f bulunmaktad\u0131r."}}