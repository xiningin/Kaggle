{"cell_type":{"b0a6a660":"code","12037b5b":"code","c56439da":"code","ea02e20e":"code","cf754941":"code","f7d4aaa8":"code","2d412bed":"code","971d60f6":"code","fa923619":"code","453f109e":"code","634db56f":"code","278e4dd0":"code","b6bd26e7":"code","f797370f":"code","66e4e58c":"markdown","8ae0434e":"markdown"},"source":{"b0a6a660":"#Gerekli import i\u015flemleri ger\u00e7ekle\u015ftirilmi\u015ftir. \n\nimport pandas as pd\nimport numpy as np\nfrom mlxtend.frequent_patterns import apriori, association_rules","12037b5b":"#Veri seti okunmu\u015ftur.Veri setinde kolon (de\u011fi\u015fken) bulunmamaktayd\u0131. Buraya names arg\u00fcman\u0131 ile bir isim ekleyebiliriz. Products olarak. \ndf = pd.read_csv(\"..\/input\/association-rules-analysis\/datasets_344_727_GroceryStoreDataSet.csv\", names = [\"products\"], header = None)","c56439da":"#Veri Setine ait ilk 5 de\u011fer g\u00f6zlemlenmi\u015ftir.\ndf.head()","ea02e20e":"#Dataframe'in boyutu incelendi.\ndf.shape","cf754941":"#Birliktelik analizi i\u00e7in gerekli olan k\u00fct\u00fcphane kurulumu ger\u00e7ekle\u015ftirilmi\u015ftir.\n!pip install mlxtend","f7d4aaa8":"#df i\u00e7erisinden products de\u011fi\u015fkeni se\u00e7ilip burada products de\u011fi\u015fkeninde yer alan \u00fcr\u00fcnler bir arada iken isimsiz fonskiyon ile birbirlerinden ayr\u0131lm\u0131\u015ft\u0131r. \nitems = list(df[\"products\"].apply(lambda x:x.split(',')))\nitems ","2d412bed":"#Birliktelik analizinde dataframe ya 1 ve 0'lardan ya da True False \u015feklinde Boolen veri yap\u0131s\u0131 tipinde olmak zorundad\u0131r. Bunu yapabilmek i\u00e7in mlxtend i\u00e7inden TransactionEncoder fonk. aktif edilmi\u015ftir.\nfrom mlxtend.preprocessing import TransactionEncoder","971d60f6":"#TransactionEncoder fonk fit_transfor edilerek verilerimiz art\u0131k True ve False olarak d\u00f6n\u00fc\u015ft\u00fcr\u00fclm\u00fc\u015ft\u00fcr. \nx = TransactionEncoder()\nz = x.fit_transform(items)","fa923619":"x.columns_","453f109e":"#D\u00f6n\u00fc\u015ft\u00fcr\u00fclen veri seti datafarme olarak kaydedildi ve de\u011fi\u015fken ad\u0131na \u00fcr\u00fcnlerin isimleri verilmi\u015ftir. \ndf = pd.DataFrame(z,columns=x.columns_)","634db56f":"#Dataframe art\u0131k birliktelik analizi i\u00e7in uygun hale gelmi\u015ftir. Bir sonraki ad\u0131m olan support ve confidence de\u011ferlerini hesaplay\u0131p yorumlamak olacakt\u0131r.\ndf","278e4dd0":"#Apriori en yayg\u0131n kullan\u0131lan fonk olarak da bilinmektedir. Support de\u011feri i\u00e7in bir e\u015fik de\u011feri se\u00e7ilir ve support de\u011feri hesaplan\u0131r.\nfreq_items = apriori(df, min_support = 0.2, use_colnames = True, verbose = 1)","b6bd26e7":"#\u00dcr\u00fcnlerimizin support de\u011ferine ula\u015ft\u0131k. Support \nfreq_items.head()","f797370f":"#association_rules fonk kullan\u0131larak \"confidence ve lift\" de\u011ferlerimize eri\u015fmi\u015f olduk. Peki bu de\u011ferler neyi ifade etmektedir.\n#Support: \u00d6rne\u011fin X ve Y \u00fcr\u00fcnleim olsun. Bu ikisinin birlikte g\u00f6r\u00fclme olas\u0131l\u0131\u011f\u0131n\u0131 ifade etmektedir.\n#Confidence: \u00d6rne\u011fin X ve Y \u00fcr\u00fcnleim olsun. X'i alanlar\u0131n % \u015fu kadar\u0131 Y'yide alacaklar. Bu bize confidence de\u011ferini verecektir.\n#Lift: Bir \u00fcr\u00fcn\u00fcn al\u0131nmas\u0131 di\u011fer \u00fcr\u00fcn\u00fcn al\u0131nmas\u0131n\u0131 % ka\u00e7 artt\u0131rmaktad\u0131r. Bizlere bu bilgiyi vermektedir. \n#Bu bizim i\u00e7in ayn\u0131 zamanda final tablosudur.\n\nassociation_rules(freq_items, metric = \"confidence\", min_threshold = 0.5)","66e4e58c":"# YORUMLAR\n**Birliktelik analizi i\u00e7in gerekli olan de\u011ferlerimizi (support, confidence, lift) hesaplad\u0131k ve buradan 3 \u00e7ift se\u00e7ilerek yorumlar yap\u0131lacakt\u0131r. Bu yorumlar i\u00e7in \u00e7iftler a\u015fa\u011f\u0131da yer almaktad\u0131r.**\n- \u0130lk olarak BISCUIT ve BREAD  ele al\u0131nacakt\u0131r. \n\n- Daha sonra COCK ve BISCUIT ele al\u0131nacakt\u0131r. \n\n- Son olarak (MILK, CORNFLAKES) ve (COFFEE, TEA) ele al\u0131nacakt\u0131r. \n\n**1)     BISCUIT ve BREAD ele al\u0131nd\u0131\u011f\u0131nda;**\n   - BISCUIT ve BREAD t\u00fcm al\u0131\u015fveri\u015flerin %20'sinde birlikte g\u00f6zlenmektedir. Yani 100 al\u0131\u015fveri\u015fin 20'sinde BISCUIT ve BREAD beraber al\u0131nmaktad\u0131r.\n\n   - BISCUIT alan m\u00fc\u015fterilerin %57'si BREAD'da almaktad\u0131r. Yani 100 ki\u015fi BISCUIT al\u0131yorsa 57 ki\u015fi BISCUIT'in yan\u0131na BREAD'de almaktad\u0131r. \n\n   - BISCUIT olan al\u0131\u015fveri\u015flerde BREAD \u00fcr\u00fcn\u00fcn sat\u0131\u015f\u0131 0,87 kat artmaktad\u0131r. \n\n**2)     MAGGI ve TEA ele al\u0131nd\u0131\u011f\u0131nda;**\n   - MAGGI ve TEA t\u00fcm al\u0131\u015fveri\u015flerin %20'sinde birlilkte g\u00f6zlenmektedir. Yani 100 al\u0131\u015fveri\u015fin 20'sinde MAGGI ve TEA beraber al\u0131nmaktad\u0131r. \n\n   - MAGGI alan m\u00fc\u015fterilerin %80'i de TEA'de almaktad\u0131r. Yani 100 ki\u015fi MAGGI al\u0131yorsa 80 ki\u015fi MAGGI'nin yan\u0131na TEA'de almaktad\u0131r. \n\n   - MAGGI olan al\u0131\u015fveri\u015flerde TEA \u00fcr\u00fcn\u00fcn sat\u0131\u015f\u0131 2,28 kat artmaktad\u0131r. \n  \n**3)     SUGER ve COFFEE ele al\u0131nd\u0131\u011f\u0131nda;**\n   - SUGER ve COFFEE t\u00fcm al\u0131\u015fveri\u015flerin %20'sinde birlilkte g\u00f6zlenmektedir. Yani 100 al\u0131\u015fveri\u015fin 20'sinde SUGER ve COFFEE beraber al\u0131nmaktad\u0131r.\n\n   - SUGER alan m\u00fc\u015fterilerin %66's\u0131 COFFEE'de almaktad\u0131r. Yani 100 ki\u015fi SUGER al\u0131yorsa 66 ki\u015fi SUGER'\u0131n yan\u0131na COFFEE'de almaktad\u0131r. \n\n   - SUGER olan al\u0131\u015fveri\u015flerde COFFEE \u00fcr\u00fcn\u00fcn sat\u0131\u015f\u0131 1,66 kat artmaktad\u0131r.\n   \n**AKS\u0130YON**\n\nMAGGI alan m\u00fc\u015fterilerin TEA alma olas\u0131l\u0131\u011f\u0131 %80'dir bu de\u011fer olduk\u00e7a y\u00fcksektir. Bu demek oluyor ki; MAGGI alan m\u00fc\u015fteriler genelde TEA de almaktad\u0131r ve muhtemelen MAGGI ald\u0131ktan sonra TEA reyonunun yolunu tutacakt\u0131r. MAGGI ve TEA reyonlar\u0131 market i\u00e7erisinde birbirinden uzak reyonlara konumland\u0131r\u0131larak, MAGGI alan m\u00fc\u015fterinin TEA reyonuna giderken, pek \u00e7ok reyon ge\u00e7mesi zorunlu k\u0131l\u0131nabilir. B\u00f6ylece m\u00fc\u015fterinin yolculu\u011fu s\u0131ras\u0131nda herhangi bir \u00fcr\u00fcn sat\u0131n alma olas\u0131l\u0131\u011f\u0131 artt\u0131r\u0131labilir.\n\nBISCUIT alan m\u00fc\u015fterilerin BREAD alma olas\u0131l\u0131\u011f\u0131 % 57'dir bu de\u011fer biraz d\u00fc\u015f\u00fck g\u00f6r\u00fcn\u00fcyor. BISCUIT'in tek ba\u015f\u0131na al\u0131nma olas\u0131l\u0131\u011f\u0131 da %35'dir bu de\u011ferde d\u00fc\u015f\u00fck g\u00f6r\u00fcn\u00fcyor. BISCUIT sat\u0131\u015f\u0131n\u0131 artt\u0131rmak i\u00e7in, BREAD raf\u0131n\u0131n hemen yan\u0131na BISCUIT stand\u0131 konularak farkl\u0131 markalara ait BISCUIT'lere yer verilebilir, \u00e7\u00fcnk\u00fc BREAD'\u0131n tek ba\u015f\u0131na al\u0131nma olasal\u0131\u011f\u0131 %65'dir BISCUIT'e oranla olduk\u00e7a y\u00fcksek bir rakamd\u0131r. Bu nedenle BREAD raf\u0131n\u0131n hemen yan\u0131na BISCUIT stand\u0131 konulursa ve fiyatlar koyu etiketle dikkat \u00e7ekebilecek \u015fekilde bas\u0131l\u0131r ise sat\u0131\u015flar\u0131n artmas\u0131 sa\u011flanabilir.","8ae0434e":"# B\u0130RL\u0130KTEL\u0130K ANAL\u0130Z\u0130 (APR\u0130OR\u0130 ASSOC\u0130AT\u0130ON RULES)\n**Birliktelik Kurallar\u0131 Nedir?**\n\nVeri i\u00e7erisindeki pattern'leri (ili\u015fkileri, yap\u0131lar\u0131) bulmak i\u00e7in kullan\u0131lan kural tabanl\u0131 bir makine \u00f6\u011frenmesi tekni\u011fidir.\n\n\nBirliktelik analizi uygulamalar\u0131 veri biliminde en \u00e7ok kar\u015f\u0131m\u0131za \u00e7\u0131kan uygulamalardand\u0131r. Tavsiye sistemleri olarak da denk gelmi\u015f olacakt\u0131r.\n\n\nBu uygulamalar kar\u015f\u0131n\u0131za \u015fu \u015fekillerde gelmi\u015f olabilir \"o \u00fcr\u00fcn\u00fc alan bu \u00fcr\u00fcn\u00fc de ald\u0131\" ya da \"o ilana bakanlar bu ilanlara da bakt\u0131\" ya da \"senin i\u00e7in \u00e7alma listesi olu\u015fturduk\" ya da \"s\u0131radaki video i\u00e7in \u00f6nerilen video\" gibi.\n\nBu senaryolar e-ticaret veri bilimi veri madencili\u011fi \u00e7al\u0131\u015fmalar\u0131 kapsam\u0131nda en s\u0131k kar\u015f\u0131m\u0131za \u00e7\u0131kacak olan senaryolar.\n\nT\u00fcrkiye'deki ve d\u00fcnyadaki b\u00fcy\u00fck e-ticaret \u015firketleri, spotify, amazon, netflix gibi biraz daha yak\u0131ndan bilebilece\u011fimiz bir\u00e7ok platform tavsiye sistemlerini kullanmaktad\u0131r.\n\nPeki \u00f6zetle ne yapmaktad\u0131r bu birliktelik analizleri?\n\n\n**Apriori Algoritmas\u0131**\n\nBu alanda en \u00e7ok kullan\u0131lan y\u00f6ntemdir. \n\nBirliktelik kural\u0131 analizi baz\u0131 metrikler incelenerek ger\u00e7ekle\u015ftirilir:\n\n- Destek (Support)\n\nSupport(X, Y) = Freq(X,Y)\/N\n\nX: \u00fcr\u00fcn\nY: \u00fcr\u00fcn\nN: toplam al\u0131\u015fveri\u015f\n\n- G\u00fcven (Confidence)\n\nConfidence(X, Y) = Freq(X,Y) \/ Freq(X)\n\n- Lift\n\nLift = Support (X, Y) \/ ( Support(X) * Support(Y) ) \n\nBu projede kullan\u0131lacak olan veri seti: https:\/\/www.kaggle.com\/shazadudwadia\/supermarket\nReferans al\u0131nan notebook: "}}