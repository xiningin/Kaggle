{"cell_type":{"2584a5fb":"code","17ded5fd":"code","c80c9846":"code","c02d30d9":"code","ba68137b":"code","cac569b2":"code","bf152bde":"code","744530fd":"code","ec10ea5a":"code","8b59c588":"code","ef349f98":"code","07a0d532":"code","34276753":"code","b0359afd":"code","af07f9ef":"code","ed141939":"code","a1143e3c":"code","9a479519":"code","38046b9e":"code","bbd8f4a6":"code","64e53edf":"code","ae949828":"markdown","7174caa2":"markdown","eb66fcb5":"markdown","eec653d4":"markdown","160b0af3":"markdown","94b927b7":"markdown","ad699b7d":"markdown","5fddde22":"markdown","1d2c87bb":"markdown","808622a1":"markdown","a5f5654d":"markdown","2c8051a3":"markdown","9fc29baf":"markdown","a99d3b4f":"markdown","a82f9d7d":"markdown","9ed68380":"markdown","adf7e816":"markdown","1c56cfe6":"markdown","cb9ebd4c":"markdown","e5abaefd":"markdown"},"source":{"2584a5fb":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\n\ndf = pd.read_csv(\"..\/input\/salaries-of-magistrates-brasil\/contracheque.csv\")","17ded5fd":"df.info()","c80c9846":"df.head()","c02d30d9":"print(f\"total linhas: {df.shape[0]}, total NaNs CPF: {df['cpf'].isnull().sum()}\")","ba68137b":"df = df.drop(labels=[\"cpf\", \"url\"], axis=1)","cac569b2":"df.describe()","bf152bde":"print(list(df.rendimento_liquido.sort_values(ascending=False).head(20)))\ndf.rendimento_liquido.sort_values(ascending=False).head(20).plot.bar();","744530fd":"df_idx_nomes = df.set_index(\"cargo\", drop=True)\nmaiores_rendimentos = df_idx_nomes.rendimento_liquido.sort_values(ascending=False)[2:12]\nmaiores_rendimentos = maiores_rendimentos.append(pd.Series(1000.00, index=[\"Sal\u00e1rio M\u00ednimo\"]))\nax = maiores_rendimentos.plot.bar(figsize=(20, 12), rot=30, title=\"Maiores rendimentos de magistrados x Sal\u00e1rio m\u00ednimo - em R$ - nov\/17 a abr\/18\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","ec10ea5a":"df_maiores = df[df[\"rendimento_liquido\"].isin(maiores_rendimentos)].sort_values(by=\"rendimento_liquido\", ascending=False)\ndf_maiores = df_maiores[[\"nome\", \"cargo\", \"subsidio\", \"direitos_pessoais\", \"indenizacoes\", \"direitos_eventuais\", \"total_de_rendimentos\", \"previdencia_publica\", \"imposto_de_renda\", \"total_de_descontos\", \"rendimento_liquido\", \"tribunal\", \"mesano_de_referencia\"]]\ndf_stacked = df_maiores[[\"cargo\", \"subsidio\", \"direitos_pessoais\", \"indenizacoes\", \"direitos_eventuais\"]]\ndf_stacked = df_stacked.set_index(\"cargo\", drop=True)\nax = df_stacked.plot.bar(figsize=(20, 8), stacked=True, title=\"Composi\u00e7\u00e3o dos maiores rendimentos de magistrados antes dos descontos - nov\/17 a abr\/18\", rot=30)\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","8b59c588":"df_maior_cem_mil = df[df.rendimento_liquido > 100000]\ndf_menor_zero = df[df.rendimento_liquido < 0]\nprint(f\"maiores cem mil: {len(df_maior_cem_mil) \/ len(df):.5f}\")\nprint(f\"menores zero: {len(df_menor_zero) \/ len(df):.5f}\")","ef349f98":"df_nomes = df[(df.rendimento_liquido > 0) & (df.rendimento_liquido < 100000)]","07a0d532":"df_max_nomes = df_nomes[\"rendimento_liquido\"].groupby(df_nomes.nome).max()\nax = df_max_nomes.plot.box(figsize=(10, 5), title=\"Box plot do maior rendimento de cada magistrado entre nov\/17 e abr\/18\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","34276753":"df_medias_nomes = df_nomes[\"rendimento_liquido\"].groupby(df_nomes.nome).mean()\nax = df_medias_nomes.plot.box(figsize=(10, 5), title=\"Box plot da m\u00e9dia de rendimentos de cada magistrado entre nov\/17 e abr\/18\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","b0359afd":"media_magistrados = df[\"rendimento_liquido\"].groupby(df.nome).mean().mean()\nsalario_minimo = 1000.00\nmedia_nacional = 2100.00\nseries_salarios = pd.Series([media_magistrados, media_nacional, salario_minimo], index=[\"M\u00e9dia magistrados\", \"M\u00e9dia Nacional\", \"Sal\u00e1rio M\u00ednimo\"])\nax = series_salarios.plot.bar(figsize=(8,6), rot=0, title=\"M\u00e9dia salarial em R$\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","af07f9ef":"maiores_diarias = df.diarias.sort_values(ascending=False)[:10]\n\nprint(list(maiores_diarias))\nax = maiores_diarias.plot.bar(figsize=(8,6), title=\"Maiores valores recebidos a t\u00edtulo de di\u00e1rias por magistrado - nov\/17 a abr\/18\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","ed141939":"df_diarias = df[[\"diarias\", \"mesano_de_referencia\"]].groupby(\"mesano_de_referencia\").sum()\nax = df_diarias.plot(figsize=(8, 6), rot=30, legend=False, title=\"Valor total de di\u00e1rias pagas a magistrados em R$ - nov\/17 a abr\/18\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","a1143e3c":"regioes = {\n    \"sudeste\": (\"Minas Gerais\", \"S\u00e3o Paulo\", \"Rio de Janeiro\", \"Esp\u00edrito Santo\"),\n    \"sul\": (\"Rio Grande do Sul\", \"Paran\u00e1\", \"Santa Catarina\"),\n    \"centro_oeste\": (\"Goi\u00e1s\", \"Mato Grosso\", \"Mato Grosso do Sul\", \"Distrito Federal\"),\n    \"nordeste\": (\"Alagoas\", \"Bahia\", \"Cear\u00e1\", \"Maranh\u00e3o\", \"Para\u00edba\", \"Pernambuco\", \"Piau\u00ed\", \"Rio Grande do Norte\", \"Sergipe\"),\n    \"norte\": (\"Acre\", \"Amap\u00e1\", \"Amazonas\", \"Par\u00e1\", \"Rond\u00f4nia\", \"Roraima\", \"Tocantins\")  \n}\n\ndf_tjs = df[df.tribunal.str.startswith(\"Tribunal de Justi\u00e7a\")]\ndf_trfs = df[df.tribunal.str.startswith(\"Tribunal Regional Federal\")]\ndf_trts = df[df.tribunal.str.startswith(\"Tribunal Regional do Trabalho\")]\ndf_tres = df[df.tribunal.str.startswith(\"Tribunal Regional Eleitoral\")]","9a479519":"series_regioes = {}\nfor regiao in regioes:\n    _df = df_tjs[df_tjs.tribunal.str.endswith(regioes[regiao])].groupby(df_tjs.tribunal).mean()\n    series_regioes[regiao] = _df[[\"rendimento_liquido\"]].mean().sort_values()\ndf_regioes = pd.DataFrame.from_dict(series_regioes, orient=\"index\").sort_values(by=\"rendimento_liquido\", ascending=False)\nax = df_regioes.plot.bar(figsize=(10, 6), rot=0, title=\"M\u00e9dia de rendimento dos magistrados de Tribunais de Justi\u00e7a entre nov\/17 e abr\/18 por regi\u00e3o\", legend=False)\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","38046b9e":"reg = \"centro_oeste\"\ntjs_sudeste = df_tjs[df_tjs.tribunal.str.endswith(regioes[reg])].groupby(df_tjs.tribunal).mean()\ntjs_sudeste = tjs_sudeste[[\"rendimento_liquido\"]].sort_values(by=\"rendimento_liquido\", ascending=False)\nax = tjs_sudeste.plot.bar(figsize=(12,6), title=f\"M\u00e9dia de rendimentos dos magistrados da regi\u00e3o {reg} entre nov\/17 e abr\/18 em R$\", rot=30, legend=False)\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","bbd8f4a6":"trfs_data = df_trfs.groupby(df_trfs.tribunal).mean()\ntrfs_data = trfs_data[[\"rendimento_liquido\"]].sort_values(by=\"rendimento_liquido\", ascending=False)\nax = trfs_data.plot.bar(figsize=(12,6), title=\"M\u00e9dia de rendimentos dos magistrados de TRFs entre nov\/17 e abr\/18 em R$\", rot=30)\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","64e53edf":"media_tjs = df_regioes.values.mean()\nmedia_trfs = trfs_data.values.mean()\n\ndf_stj = df[df.tribunal == \"Superior Tribunal de Justi\u00e7a\"]\nmedia_stj = df_stj.rendimento_liquido.values.mean()\n\nseries_medias = pd.Series([media_tjs, media_trfs, media_stj], index=[\"TJs\", \"TRFs\", \"STJ\"])\nax = series_medias.plot.bar(figsize=(8,6), rot=0, title=\"M\u00e9dia de rendimentos dos magistrados em R$\")\nax.set_yticklabels(['{:,}'.format(int(x)) for x in ax.get_yticks().tolist()]);","ae949828":"Como o n\u00famero do CPF do magistrado n\u00e3o interfere na an\u00e1lise a ser realizada, essa coluna ser\u00e1 descartada.\nA coluna url tamb\u00e9m parece n\u00e3o produzir efeitos na an\u00e1lise e tamb\u00e9m ser\u00e1 descartada.","7174caa2":"Importando bibliotecas e lendo csv.","eb66fcb5":"Analisando colunas e seus tipos.","eec653d4":"Outra coluna que podemos analisar \u00e9 a de di\u00e1rias. Vamos listar os dez maiores valores pagos a t\u00edtulo de di\u00e1rias para magistrados em um m\u00eas no per\u00edodo disponibilizado:","160b0af3":"Chama a aten\u00e7\u00e3o o valor m\u00e1ximo de rendimento l\u00edquido da tabela: **7.26 milh\u00f5es de reais em um m\u00eas**. Vamos investigar um pouco mais e listar os vinte maiores rendimentos de nosso universo:","94b927b7":"A coluna CPF parece possuir apenas NaNs:","ad699b7d":"Podemos tamb\u00e9m acessar cada regi\u00e3o e visualizar a m\u00e9dia em cada Estado, por exemplo:","5fddde22":"Os dois maiores rendimentos no per\u00edodo s\u00e3o exorbitantes: **7.26 e 2.87 milh\u00f5es de reais em um \u00fanico m\u00eas**. S\u00e3o valores t\u00e3o fora da realidade que os retiraremos de parte da an\u00e1lise para facilitar a visualiza\u00e7\u00e3o dos demais dados. Um sal\u00e1rio de cem mil reais \u00e9 extremamente alto para a realidade brasileira, mas, quando comparado aos milh\u00f5es de reais auferidos por esses magistrados, torna-se relativamente pequeno.\n\nAgora, ignorando os dois primeiros rendimentos, vamos comparar os pr\u00f3ximos 10 maiores com uma aproxima\u00e7\u00e3o do sal\u00e1rio m\u00ednimo vigente \u00e0 \u00e9poca:","1d2c87bb":"Podemos tamb\u00e9m exibir o sal\u00e1rio m\u00e9dio de um magistrado brasileiro no per\u00edodo disponibilizado, comparando-o com uma aproxima\u00e7\u00e3o do sal\u00e1rio m\u00ednimo vigente \u00e0 \u00e9poca e com uma aproxima\u00e7\u00e3o da renda m\u00e9dia nacional \u00e0 \u00e9poca[0]:","808622a1":"Come\u00e7ando pelos Tribunais de Justi\u00e7a, podemos agrupar nosso dataframe entre as regi\u00f5es pol\u00edtico-geogr\u00e1ficas do Brasil e exibir a m\u00e9dia de rendimento dos magistrados em cada regi\u00e3o:","a5f5654d":"# Analisando o dataset de sal\u00e1rios de magistrados brasileiros.","2c8051a3":"E a compara\u00e7\u00e3o entre a m\u00e9dia geral dos Tribunais de Justi\u00e7a, dos TRFs e do STJ:","9fc29baf":"Descri\u00e7\u00e3o dos dados:","a99d3b4f":"Por fim, vamos analisar as m\u00e9dias salariais de magistrados em Tribunais de Justi\u00e7a, TRFs e no STJ, agrupados por suas regi\u00f5es.","a82f9d7d":"E visualizar a m\u00e9dia em cada TRF:","9ed68380":"Visualizando as primeiras linhas.","adf7e816":"Vamos nos concentrar agora na m\u00e9dia de rendimentos obtidos. Para isso vamos eliminar alguns casos das extremidades.\n\nPodemos contabilizar a quantidade de rendimentos acima dos cem mil reais no per\u00edodo e verificar que se tratar de uma parcela muito pequena do universo (abaixo de 1%). Tamb\u00e9m \u00e9 \u00ednfima a quantidade de rendimentos negativos.\n\nPor essa raz\u00e3o, vamos retir\u00e1-los temporariamente de nossa visualiza\u00e7\u00e3o, para nos concentrar nas m\u00e9dias e nos quartis, tanto do maior valor recebido por cada juiz, quando da m\u00e9dia dos valores recebidos por cada juiz no per\u00edodo disponibilizado.","1c56cfe6":"Refer\u00eancias:\n* [0]: https:\/\/epocanegocios.globo.com\/Brasil\/noticia\/2018\/01\/renda-media-do-trabalhador-brasileiro-sobe-para-r-21-mil-diz-ibge.html\nhttps:\/\/noticias.r7.com\/economia\/salario-medio-do-brasileiro-cai-em-2017-e-fica-em-r-2112-11042018\n","cb9ebd4c":"Alguns valores tamb\u00e9m parecem exagerados. 63 mil reais pagos em di\u00e1rias em um \u00fanico m\u00eas significam um gasto de mais de dois mil reais por dia. O equivalente a gastar, em um dia, a m\u00e9dia salarial do brasileiro \u00e0 \u00e9poca.\n\nO Brasil gastou mensalmente, no per\u00edodo disponibilizado, entre dois e sete milh\u00f5es de reais apenas com di\u00e1rias pagas a magistrados:","e5abaefd":"Podemos tamb\u00e9m visualizar como s\u00e3o compostos os rendimentos auferidos por esses magistrados. Fazendo isso, visualizamos que, nesses casos, o subs\u00eddio (sal\u00e1rio) \u00e9 uma parte \u00ednfima de sua renda naquele per\u00edodo, sendo a maior parte composta por indeniza\u00e7\u00f5es ou direitos eventuais.\n\nIsso indica que esses rendimentos s\u00e3o espor\u00e1dicos e n\u00e3o constituem o sal\u00e1rio mensal real desses ju\u00edzes. Para confirmar essa possibilidade, seria preciso analisar dados sobre um per\u00edodo de tempo maior, os quais n\u00e3o dispomos. \u00c9, portanto, preciso levar essas considera\u00e7\u00f5es adiante."}}