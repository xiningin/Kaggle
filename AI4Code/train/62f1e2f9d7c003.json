{"cell_type":{"676f0d16":"code","e71a19c8":"code","febd922c":"code","5eb99f74":"code","fb78994b":"code","271385e2":"code","86532fcd":"code","5445dfbf":"code","b6cd6115":"code","8ab1b36b":"code","bea42528":"code","0b89d03a":"code","91da5754":"code","fa629d24":"code","f81e9a8c":"code","6aa8b88c":"code","79e6a771":"markdown","7ee133ee":"markdown","66cbaae7":"markdown","30f9620a":"markdown","1c13d3a8":"markdown","68cd8ba8":"markdown","d103bce6":"markdown","d9ba1aef":"markdown","869467b0":"markdown","3b9be2ea":"markdown","9999897b":"markdown","9a0568ab":"markdown","0c230a44":"markdown","60a4270a":"markdown"},"source":{"676f0d16":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","e71a19c8":"from sklearn.linear_model import LinearRegression\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.metrics import r2_score\nimport numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\nimport plotly.graph_objects as go\nimport seaborn as sns","febd922c":"#df = pd.read_csv('\/kaggle\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv')\ndf = pd.read_csv('..\/input\/coronavirus-2019ncov\/covid-19-all.csv')\ndf['Date'] = pd.to_datetime(df['Date'])\ndf[['Confirmed','Recovered','Deaths']] = df[['Confirmed','Recovered','Deaths']].fillna(0).astype(int)","5eb99f74":"df_china = df[:][df['Country\/Region']=='Mainland China']\ndf_china['Day Number'] = range(1,df_china.shape[0]+1)\n\nplt.style.use('fivethirtyeight')\nplt.plot(df_china['Day Number'], df_china['Confirmed'],color='b',marker='.', label=\"Number of cases\")\nplt.plot(df_china['Day Number'], df_china['Recovered'],color='g',marker='.', label=\"Recovered\",linestyle='--')\nplt.plot(df_china['Day Number'], df_china['Deaths'],color='r',marker='.', label=\"Death\",linestyle='--')\nplt.xlabel(\"Day Number\")\nplt.xticks(rotation=45)\nplt.ylabel(\"Cases\")\nplt.title(\"Corona virus in China\")\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","fb78994b":"df_italy = df[:][df['Country\/Region']=='Italy']\ndf_italy['Day Number'] = range(1,df_italy.shape[0]+1)\ndf_italy.tail()","271385e2":"df_italy['Active'] = df_italy['Confirmed'] - df_italy['Recovered'] - df_italy['Deaths']\nlabels = ['Active','Recovered','Deaths']\nvalues = [df_italy['Active'][-1:].iloc[-1], df_italy['Recovered'][-1:].iloc[-1], df_italy['Deaths'][-1:].iloc[-1]]\nfig = go.Figure(data=[go.Pie(labels=labels, values=values)],layout=go.Layout(title='Italy Corona Virus Cases'))\nfig.show()","86532fcd":"plt.style.use('fivethirtyeight')\nplt.plot(df_italy['Day Number'], df_italy['Confirmed'],color='b',marker='D', label=\"Number of cases\")\nplt.plot(df_italy['Day Number'], df_italy['Recovered'],color='g',marker='.', label=\"Recovered\",linestyle='--')\nplt.plot(df_italy['Day Number'], df_italy['Deaths'],color='r',marker='.', label=\"Death\",linestyle='--')\nplt.xlabel(\"Day Number\")\n#plt.xticks(rotation=45)\nplt.ylabel(\"Cases\")\nplt.title(\"Corona virus in Italy\",)\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","5445dfbf":"plt.style.use('fivethirtyeight')\n#plt.plot(df_italy['Day Number'], df_italy['Confirmed'],color='b',marker='D', label=\"Number of cases\")\nplt.plot(df_italy['Day Number'], df_italy['Recovered'],color='g',marker='.', label=\"Recovered\",linestyle='--')\nplt.plot(df_italy['Day Number'], df_italy['Deaths'],color='r',marker='.', label=\"Death\",linestyle='--')\nplt.xlabel(\"Day Number\")\n#plt.xticks(rotation=45)\nplt.ylabel(\"Cases\")\nplt.title(\"Corona virus in Italy\",)\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()\n","b6cd6115":"modal_italy = LinearRegression(fit_intercept=True)\npoly = PolynomialFeatures(degree=8)\nnum_days_poly = poly.fit_transform(df_italy['Day Number'].as_matrix().reshape(-1,1))\npoly_reg = modal_italy.fit(num_days_poly, df_italy['Confirmed'].as_matrix().reshape(-1,1))\npredictions_for_given_days = modal_italy.predict(num_days_poly)\nprint(\"modal_italy.coef_ :\",modal_italy.coef_,\"modal_italy.intercept_:\",modal_italy.intercept_)","8ab1b36b":"plt.style.use('fivethirtyeight')\nplt.plot(df_italy['Day Number'], df_italy['Confirmed'],color='b',marker='D', label=\"Number of cases\")\nplt.plot(df_italy['Day Number'], predictions_for_given_days,color='k',marker='o', label=\"Prediction\",linestyle='--')\n\nplt.plot(df_italy['Day Number'], df_italy['Recovered'],color='g',marker='.', label=\"Recovered\",linestyle='--')\nplt.plot(df_italy['Day Number'], df_italy['Deaths'],color='r',marker='.', label=\"Death\",linestyle='--')\nplt.xlabel(\"Day Number\")\nplt.ylabel(\"Cases\")\nplt.title(\"Corona virus in Italy\",)\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","bea42528":"tomorrow_value = df_italy[\"Day Number\"].iloc[-1] + 1 \nvalue_prediction = poly.fit_transform(np.array([[tomorrow_value]]))\nprediction = modal_italy.predict(value_prediction)\nprint(f'Prediction for tomorrow (for day number {tomorrow_value}) : {prediction} cases ')","0b89d03a":"modal_italy = LinearRegression(fit_intercept=True)\npoly = PolynomialFeatures(degree=8)\nnum_days_poly = poly.fit_transform(df_italy['Day Number'].as_matrix().reshape(-1,1))\npoly_reg = modal_italy.fit(num_days_poly, df_italy['Deaths'].as_matrix().reshape(-1,1))\npredictions_for_given_days = modal_italy.predict(num_days_poly)\nprint(\"modal_italy.coef_ :\",modal_italy.coef_,\"modal_italy.intercept_:\",modal_italy.intercept_)","91da5754":"tomorrow_value = df_italy[\"Day Number\"].iloc[-1] + 1 \nvalue_prediction = poly.fit_transform(np.array([[tomorrow_value]]))\nprediction = modal_italy.predict(value_prediction)\nprint(f'Prediction for tomorrow (for day number {tomorrow_value}) : {prediction} deaths ')","fa629d24":"confirmed_cases = df_italy['Confirmed'].as_matrix()\nadded_cases = np.diff(confirmed_cases)\nadded_cases_no_day = range(1,added_cases.shape[0]+1)\n\nplt.style.use('fivethirtyeight')\nplt.plot(added_cases_no_day, added_cases,color='b',marker='o', label=\"New Added Cases\")\nplt.xlabel(\"Day Number\")\nplt.ylabel(\"New Added Cases\")\nplt.title(\"Corona virus in Italy\",)\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","f81e9a8c":"df_italy['Added Cases'] = 0\ndf_italy['Added Cases'][1:] = added_cases\nadded_cases_prediction = prediction[0][0] - df_italy['Confirmed'][-1:]\nprint(f'Hospitals should be ready with {round(added_cases_prediction[:1].iloc[-1])} new beds.')\ndf_italy[['Date','Added Cases']].tail()\n","6aa8b88c":"df_temp2=pd.DataFrame(df_italy[\"Date\"])\ndf_temp2['Confirmed'] = df_italy['Confirmed']\ndf_temp2['Deaths'] = df_italy['Deaths']\ndf_temp2['Recovered'] = df_italy['Recovered']\nsns.pairplot(df_temp2)","79e6a771":"Corona virus is spreading exponentially just like china.Nevertheless, Italy can take China as an example and should take similar steps to control.","7ee133ee":"# Acceleration of Corona cases in Italy :\n","66cbaae7":"# Prediction for tomorrow:\n**This model is efficient for short term prediction because growth rate won't change much for short term. Hopefully in long term growth rate will reduce.**","30f9620a":"**The figure above shows the acceleration of Corona cases.**\n\n\n**The table bellow shows the ADDED CASES on each day**","1c13d3a8":"In order to train our model, polynomial regration would be better choice. Linear regration won't provide accurate result.\n\nTo compute the better approximation 8 degree of polynomial equation is used.\n\n","68cd8ba8":"# How much many will die?","d103bce6":"**Here, We can observe that the recover rate is very slow as compare to growth rate**","d9ba1aef":"# Corona virus in Italy","869467b0":"Inspiration from https:\/\/www.kaggle.com\/kirtipandya1\/germany-corona-virus-predictor","3b9be2ea":"**till now less than 1% people could recover from the virus which is very less. However, it is too early to judge because recovery may take few weeks**","9999897b":"# Polynomial Regression model\u00b6\n","9a0568ab":"Now, We will read the data for **Italy**.\n\n","0c230a44":"Reading the Dataset:","60a4270a":"Here, we can observe how Corona virus spread in china and how active cases are reducing. steps taken by China is really showing positive result.\u00b6"}}