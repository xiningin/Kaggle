{"cell_type":{"cf4996ba":"code","66f0db05":"code","e65a49e6":"code","068ff01b":"code","9572ad92":"code","37ea42ec":"code","cb4f3076":"markdown","a14caa8e":"markdown","773c3d2d":"markdown","b99aa0c1":"markdown","9956d9ad":"markdown","3f143ef4":"markdown","5d0fd211":"markdown","54caa8f7":"markdown"},"source":{"cf4996ba":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","66f0db05":"# Using pandas library we load each CSV file separately and assign it a name\n\nSurvey_Discr = pd.read_csv('\/kaggle\/input\/lgbt-survey-discrimination\/LGBT_Survey_Discrimination.csv')\n\nHS_EU = pd.read_csv('\/kaggle\/input\/hs-eu-happiness\/HS_EU (2).csv')\n\nRainbow_Score = pd.read_csv('\/kaggle\/input\/ilga-rainbow-score\/ILGA_Rainbow_Score.csv')\n\nViolence_Harassment = pd.read_csv('\/kaggle\/input\/lgbtviolence-harassment\/LGBT_Survey_ViolenceAndHarassment.csv')\n\nMarriage_Legalization = pd.read_csv('\/kaggle\/input\/marriage-legalization\/Marriage_Legalization.csv')\n\nPopulism_Votes = pd.read_csv('\/kaggle\/input\/populism-vote-share\/Populism_Vote_Share.csv')\n\ndf_lgbtqi = pd.read_csv('\/kaggle\/input\/combined-df-eu\/Combined_DF_EU-Index-LGBTQI (3).csv')\n\ndf_lgbtqi_edit = pd.read_csv('\/kaggle\/input\/combined-df-eu-edit\/Combined_DF_EU-Index-LGBTQI EDITED.csv')\n\ndf_lgbtqi_2012 = pd.read_csv('\/kaggle\/input\/combined-df-eu-ilga-2012\/Combined_DF_EU-Index-LGBTQI ILGA 2012.csv')","e65a49e6":"import geopandas as gpd\nimport scipy.stats as stats \nimport plotly.express as px\nfrom plotly.offline import init_notebook_mode,iplot\n#init_notebook_mode(connected=True)\nimport plotly.offline as pyo\npyo.init_notebook_mode()\ninit_notebook_mode(connected=True)\nimport plotly.graph_objects as go\nfrom sklearn.svm import SVR\nfrom sklearn.metrics import r2_score,mean_squared_error\nfrom mpl_toolkits import mplot3d\nimport numpy as np\nimport matplotlib.pyplot as plt","068ff01b":"fig = px.scatter(df_lgbtqi_edit, x=\"Happiness.Score\", y=\"GTI.Index\", trendline=\"ols\", hover_data=['Country', 'Year'])\nfig.update_layout(title='Gay Travel Index - Happiness Score 2017-2020')\nfig.show()","9572ad92":"fig = px.scatter(df_lgbtqi_edit, x=\"Happiness.Score\", y=\"ILGA\", trendline=\"ols\", hover_data=['Country', 'Year'])\nfig.update_layout(title='ILGA Index - Happiness Score 2017-2020')\nfig.show()","37ea42ec":"mesh_size = .02\nmargin = 0\n\nX = df_lgbtqi_edit[['GTI.Index', 'ILGA']]\ny = df_lgbtqi_edit['Happiness.Score']\n\n# Condition the model on GTI and ILGA index, predict TIMBRO\nmodel = SVR(C=1.)\nmodel.fit(X, y)\n\n# Create a mesh grid on which we will run our model\nx_min, x_max = X['GTI.Index'].min() - margin, X['GTI.Index'].max() + margin\ny_min, y_max = X['ILGA'].min() - margin, X['ILGA'].max() + margin\nxrange = np.arange(x_min, x_max, mesh_size)\nyrange = np.arange(y_min, y_max, mesh_size)\nxx, yy = np.meshgrid(xrange, yrange)\n# Run model\npred = model.predict(np.c_[xx.ravel(), yy.ravel()])\npred = pred.reshape(xx.shape)\n# Generate the plot\nfig = px.scatter_3d(df_lgbtqi_edit, x=df_lgbtqi_edit['GTI.Index'], y=df_lgbtqi_edit['ILGA'], z=df_lgbtqi_edit['Happiness.Score'], hover_data=['Country'])\nfig.update_layout(title='Gay Travel Index - ILGA Score - Happiness Score (2017-2020')\nfig.update_traces(marker=dict(size=5))\nfig.add_traces(go.Surface(x=xrange, y=yrange, z=pred, name='pred_surface'))\nfig.show()","cb4f3076":"### Our 3D model confirms that high GTI indices lead to higher Happiness Scores. The same is true for ILGA but in lower rates.","a14caa8e":"## Happiness vs ILGA Index","773c3d2d":"### From the comparison between Happiness Score and the Gay Travel Index it is obvious that countries that are more LGBT-friendly have higher happiness scores.\n\n### R-Squared = 0.534023","b99aa0c1":"### Again it is seen that high ILGA indices may lead to higher Happiness Scores.\n### R-Squared = 0.217036","9956d9ad":"## Happiness vs Gay Travel Index\n\n### We will plot a scatter plot GTI vs Happiness Score and fit an Ordinary Least Square Regression Trendline to see any correlation.","3f143ef4":"# Load Data","5d0fd211":"# Happiness and Gay Tolerance","54caa8f7":"# LGBT Survey - Happiness and Gay Tolerance\n\n\n<b>Tasks:<\/b>\n   <li><b>Exploratory Data Analysis\n   <li><b>Graph and Analyze<\/b>\n<p style=\"text-indent: 5px;\"> \n<p style=\"text-indent: 5px;\"> \n    \n<b>The project has the following DataSets, related to LGBTQI:<\/b>\n   <li><b>Kaggle Set - LGBTQI Violence and Harassment\n   <li><b>ILGA Europe Index<\/b>\n   <li><b>GTI Index<\/b>\n   <li><b>HDI\n   <li><b>Happiness Score<\/b>\n   <li><b>Populism Index in EU<\/b>      \n<p style=\"text-indent: 5px;\"> \n<p style=\"text-indent: 5px;\"> \n\n<b>Scope:<\/b>\n   <li><b>Compare the sets against different variables to find correlations.   \n<p style=\"text-indent: 5px;\"> \n<p style=\"text-indent: 5px;\">    \n    \n<b>Hypothesis Definition:<\/b>\n   <li><b>Countries with a higher Happiness Score have a higher ILGA Score, more tolerant.\n<p style=\"text-indent: 5px;\"> \n<p style=\"text-indent: 5px;\">       \n    \n       \n<b>CONTENTS:<\/b>\n   <li><b>1. Load Data\n   <li><b>2. Happiness and Gay Tolerance<\/b>\n<p style=\"text-indent: 5px;\">  \n<p style=\"text-indent: 5px;\">\n    \n<\/span>\n"}}