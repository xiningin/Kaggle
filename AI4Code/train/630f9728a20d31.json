{"cell_type":{"5dd82649":"code","6494daf0":"code","a29167a2":"code","e2cabce8":"code","4dd9b21a":"code","5a411963":"code","2b327846":"code","29349879":"code","05428570":"code","90860f6e":"markdown","fd62dded":"markdown"},"source":{"5dd82649":"import pandas as pd","6494daf0":"sub = pd.read_csv('\/kaggle\/input\/tweet-sentiment-extraction\/sample_submission.csv')\ntest = pd.read_csv('\/kaggle\/input\/tweet-sentiment-extraction\/test.csv')\ntrain = pd.read_csv('\/kaggle\/input\/tweet-sentiment-extraction\/train.csv')","a29167a2":"train['text_lower'] = train.text.apply(lambda x: str(x).lower().strip())\ntrain['selected_text_lower'] = train.selected_text.apply(lambda x: str(x).lower().strip())\ntrain['in_out_is_same'] = train.text_lower == train.selected_text_lower","e2cabce8":"train['text_len'] = train.text_lower.apply(lambda x: len(x))\ntrain['selected_text_len'] = train.selected_text_lower.apply(lambda x: len(x))\n\ntrain['len_diff'] = train.text_len - train.selected_text_len","4dd9b21a":"train.groupby(by=['sentiment', 'in_out_is_same']).textID.count()","5a411963":"positive_phrases = list(set(train[train.sentiment == 'positive'].selected_text.values))\nnegative_phrases = list(set(train[train.sentiment == 'negative'].selected_text.values))\n\nlen(positive_phrases), len(negative_phrases)","2b327846":"def simple_model(text, sentiment):\n    if sentiment == 'neutral':\n        selected_text = text\n    elif sentiment == 'positive':\n        selected_text = ' '.join([w for w in text.lower().split() if w in positive_phrases])\n        if len(selected_text.strip()) < 1:\n            selected_text = text\n    elif sentiment == 'negative':\n        selected_text = ' '.join([w for w in text.lower().split() if w in negative_phrases])\n        if len(selected_text.strip()) < 1:\n            selected_text = text\n    return selected_text","29349879":"sub.selected_text = test.apply(lambda x: simple_model(x.text, x.sentiment), axis=1)\nsub.head()","05428570":"sub.to_csv('submission.csv', index=False)","90860f6e":"Let's have a look how often the text is returned groupedby the sentiment","fd62dded":"**Simple string manipulation model **\n\nThis gives a slightly better performance than *always returning text*."}}