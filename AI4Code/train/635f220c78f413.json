{"cell_type":{"da77d7e9":"code","992b3b15":"code","009ce5bb":"code","553632a4":"code","ee461443":"code","6b6c1947":"code","37836a9b":"code","99c63a8c":"code","cf0fa6dc":"code","2a3f1894":"code","28049b47":"code","bd467db8":"code","942824f5":"code","1415180b":"code","733560ef":"code","4abb6b52":"code","e499bbcd":"markdown","95a1b716":"markdown","b23f1557":"markdown","a89a854e":"markdown","cfb17517":"markdown","291a15d0":"markdown","90b72556":"markdown","b0ae50c8":"markdown","e2e72789":"markdown"},"source":{"da77d7e9":"!pip install numpy==1.20.0\n!pip install scipy==1.6.3\n!pip install researchpy","992b3b15":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np \nimport pandas as pd \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","009ce5bb":"data = pd.read_csv(\"\/kaggle\/input\/premier-league-player-statistics-updated-daily\/dataset - 2020-09-24.csv\")\ndata.replace('NaN',0, inplace=True)\ndata.fillna(value=0.0, inplace=True)\ndata.head()","553632a4":"# Graph 1) HISTOGRAM\nplt.figure(figsize=(6,3))\ndata['Age'].plot(kind='hist')\nplt.xlabel(\"Age\")\nplt.title(\"Age histogram\");","ee461443":"# Graph 2) BOXPLOT\ndata['Shooting accuracy %'] = data['Shooting accuracy %'].str[:-1].astype('float64')\nsns.boxplot(data=data, y='Shooting accuracy %');\n# data['Shooting accuracy %'].plot(kind='box') will do the same","6b6c1947":"sample = np.random.normal(size=(1000),loc=3.0, scale=1.0)\n\n# Null: pop mean equal to 0\nfrom scipy.stats import ttest_1samp\n\nt, p = ttest_1samp(sample, 0)\nprint(f'p_val = {p}')   # Reject Null","37836a9b":"a = np.random.normal(size=(1000),loc=3.0, scale=1.0)\nb = np.random.normal(size=(900),loc=10.0, scale=1.0)\n\n# Null: a and b have the same pop mean\nfrom scipy.stats import ttest_ind\nt, p = ttest_ind(a, b, equal_var=True)\nprint(f'p_val = {p}')   # Reject Null","99c63a8c":"before = np.random.normal(size=(1000),loc=3.0, scale=1.0)\nafter = np.random.normal(size=(1000),loc=10.0, scale=1.0)\n\n# Null: after has greater pop mean.\nfrom scipy.stats import ttest_rel\nt, p = ttest_rel(before, after, alternative='less')\nprint(f'p_val = {p}')   # Reject Null","cf0fa6dc":"nat_appear = data[['Nationality','Appearances']]\nnat_appear.head()","2a3f1894":"import statsmodels.api as sm\nfrom statsmodels.formula.api import ols\n\n# Null: All nationality have the same pop mean of appearences\nmodel = ols('Appearances ~ Nationality', data=nat_appear).fit()\ntable = sm.stats.anova_lm(model)\n\nprint(table)   # P_val = 0.99, we can't reject the Null","28049b47":"plt.figure(figsize=(12,5))\nsns.boxplot(data=nat_appear, y='Appearances', x='Nationality')\nplt.xticks(rotation=90);","bd467db8":"data[['Age','Wins']].corr(method='pearson')","942824f5":"from scipy.stats import pearsonr\n\n# Null: Age and wins have no correlation to each other (r=0)\nr, p = pearsonr(data['Age'], data['Wins'])\nprint(f'p_val = {p}\\ncorr = {r}')   # Reject null : We have a great confidence to say r is not 0","1415180b":"import researchpy as rp\n\n# Null: Nationality and Club are not related\ndf = data[['Nationality','Club']]\ntable, result = rp.crosstab(df['Nationality'], df['Club'], prop= 'col', test= 'chi-square')\n\nresult","733560ef":"x, y = data[['Age', 'Goals', 'Offsides']], data[['Wins']]\n\nfrom sklearn.linear_model import LinearRegression\n\nlr = LinearRegression().fit(x,y)","4abb6b52":"#score(X, y) : Return R2\nlr.score(x,y)","e499bbcd":"3. Chi-Square : category ~ category vars are related\n\n$H_0$ : `x` and `y` are not associated (r=0)\n\nassociate means if the distribution of one variable changes the value of the other changes. If there is no association, the distribution of first variable is still unchanged regardless of the change of the other.","95a1b716":"2. Correlation : continuous ~ continuous vars are related\n\n$H_0$ : `x` and `y` are not correlated (r=0)","b23f1557":"3.  Interential statistic\n**Hypothesis testing**<br>\n- $H_0$ : no difference from before\n- $H_1$ : difference from before\n\n*p value* = probability that we will mistakenly reject the $H_0$. p value, aka. acceptable mistake rate, have to less than some threshold $\\alpha$ so that we can reject the $H_0$.\n\n- Test for **Mean**:\n    - Is $\\mu = \\mu_{0}$ given this data -> *one sample t-test* (`scipy.stats.ttest_1samp`)\n    - Is $\\mu_{a} = \\mu_{b}$ -> *two sample t-test* (`scipy.stats.ttest_ind`) \\**$a$ and $b$ are independent\n        - If a, b, c -> *ANOVA*\n    - Is $\\mu_{\\text{before}} = \\mu_{\\text{after}}$ -> *paired t-test* (`scipy.stats.ttest_rel`)","a89a854e":"___\n# Stats 1\n1. Introduction\n2. Descriptive statistics\n","cfb17517":"$R^{2} = 1 - \\frac{SSE}{SST} = 1 - \\frac{\\text{SS of predicted error}}{\\text{SS of baseline model error}}$\n\nIf $SSE < SST$, our model is better than an avg model. Model with **higher** $R^2$ is a better model.","291a15d0":"4. Regression tests : test cause-and-effect relationships\n\nLinear regression, Logistic regression","90b72556":"___\n# Stats2\n1. ANOVA : test if 3+ pop means are all equal. <br>\n\nIf #indep. vars == 1 : *One-way ANOVA* (`scipy.stats.f_oneway` , `statsmodels.api.stats.anova_lm`)<br>\nelse : *Two-way ANOVA* (`statsmodels.api.stats.anova_lm`)","b0ae50c8":"Adjusted $R^2$ = $1 - \\frac{(N-1)(1-R^2)}{N-p-1}$\n\nWhere `p` = number of predictors, `N` = sample size","e2e72789":"![](https:\/\/i.pinimg.com\/originals\/43\/8e\/75\/438e752694f5738971efb00f595c344c.png)"}}