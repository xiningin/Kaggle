{"cell_type":{"005234ec":"code","8e2ad80a":"code","8e264ffb":"code","3a4ac87e":"code","91afb253":"code","89c47387":"code","ee2c9c35":"code","55199708":"code","800214ba":"code","8109a103":"code","ac3bc7df":"markdown","081bde52":"markdown","14485b6c":"markdown","b80f8420":"markdown","e77c5f5d":"markdown","f66d4c67":"markdown","94b00c43":"markdown","1b990e5b":"markdown","7dfd5645":"markdown"},"source":{"005234ec":"# Import libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n# Data Import\ndata = pd.read_csv('..\/input\/forest-fires-in-brazil\/amazon.csv', encoding='latin1')\ndata.head(5)","8e2ad80a":"statistics = data['number'].describe().reset_index()\n\nstatistics.style.format({\"number\": \"{:20,.0f}\"}).hide_index().highlight_max(color='#FFB27A')","8e264ffb":"# Recode months into english\ndata['month'].replace(to_replace = 'Janeiro', value = 'Jan', inplace = True)\ndata['month'].replace(to_replace = 'Fevereiro', value = 'Feb', inplace = True)\ndata['month'].replace(to_replace = 'Mar\u00e7o', value = 'Mar', inplace = True)\ndata['month'].replace(to_replace = 'Abril', value = 'Apr', inplace = True)\ndata['month'].replace(to_replace = 'Maio', value = 'May', inplace = True)\ndata['month'].replace(to_replace = 'Junho', value = 'Jun', inplace = True)\ndata['month'].replace(to_replace = 'Julho', value = 'Jul', inplace = True)\ndata['month'].replace(to_replace = 'Agosto', value = 'Aug', inplace = True)\ndata['month'].replace(to_replace = 'Setembro', value = 'Sep', inplace = True)\ndata['month'].replace(to_replace = 'Outubro', value = 'Oct', inplace = True)\ndata['month'].replace(to_replace = 'Novembro', value = 'Nov', inplace = True)\ndata['month'].replace(to_replace = 'Dezembro', value = 'Dec', inplace = True)","3a4ac87e":"# Group data by year, state, month\nyear_mo_state = data.groupby(by = ['year','state', 'month']).sum().reset_index()\n\nyear_mo_state.head()","91afb253":"# Set up the defaults\nsns.set_style('whitegrid')\nfrom matplotlib.pyplot import MaxNLocator, FuncFormatter\n\nplt.figure(figsize=(16,9))\n\n# Make the plot\nax = sns.lineplot(x = 'year', y = 'number', data = year_mo_state, estimator = 'sum', color = '#FF5555', \n                  lw = 3.5, err_style = None , alpha = 0.85)\n# Create a line\nimport pylab as p\np.arrow( 1998, 25000, 19, 15000, facecolor=\"#FFB27A\", edgecolor=\"#FFB27A\", head_width=0, head_length=0, length_includes_head = False,\n       width = 0.15, alpha = 0.7, shape = \"full\")\n\n# Make pretty\nplt.title('Total Fires in Brazil : 1998 - 2017', fontsize = 25)\nplt.xlabel('Year', fontsize = 20)\nplt.ylabel('Number of Fires', fontsize = 20)\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\n\nax.xaxis.set_major_locator(plt.MaxNLocator(19))\nax.set_xlim(1998, 2017)\n\nax.get_yaxis().set_major_formatter(plt.FuncFormatter(lambda x, p: format(int(x), ',')))","89c47387":"# Figure size\nplt.figure(figsize=(16,12))\n\n# The plot\nsns.boxplot(x = 'month', order = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep','Oct', 'Nov', 'Dec'], \n            y = 'number', data = year_mo_state, palette = \"coolwarm\", saturation = 1, width = 0.9, fliersize=4, linewidth=2)\n\n# Make pretty\nplt.title('Fires in Brazil by Month', fontsize = 25)\nplt.xlabel('Month', fontsize = 20)\nplt.ylabel('Number of Fires', fontsize = 20)\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)","ee2c9c35":"# First create the data\nyear_mo_state_Amazon = data[data['state'] == 'Amazonas'].groupby(by = ['year','state', 'month']).sum().reset_index()\n\n# Set up the figure size\nplt.figure(figsize=(16,9))\n\n# CReate the plot\nax = sns.lineplot(x = 'year', y = 'number', data = year_mo_state_Amazon, estimator = 'sum', color = '#FF2323', lw = 3.5, \n                  err_style = None, alpha = 0.85)\n\n# Add line\np.arrow( 1998, 1500, 19, 0, facecolor=\"#FFB27A\", edgecolor=\"#FFB27A\", head_width=0, head_length=0, length_includes_head = False,\n       width = 20, alpha = 0.7, shape = \"full\")\n\n# Make pretty\nplt.title('Total Fires in Amazon : 1998 - 2017', fontsize = 25)\nplt.xlabel('Year', fontsize = 20)\nplt.ylabel('Number of Fires', fontsize = 20)\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\n\nax.xaxis.set_major_locator(plt.MaxNLocator(19))\nax.set_xlim(1998, 2017)\n\nax.get_yaxis().set_major_formatter(plt.FuncFormatter(lambda x, p: format(int(x), ',')))","55199708":"# Creating the top 10 dataframe\nstates_fires = data.groupby(by = 'state')['number'].sum().sort_values(ascending = False).head(10).reset_index()\nstates_fires = states_fires.sort_values(by = 'number', ascending = True)\n\nstates_fires","800214ba":"# Set figure size\nplt.figure(figsize = (16, 9))\n\n# plot\nax = sns.barplot(x = states_fires['state'], y = states_fires['number'], palette = \"Reds\", alpha = 0.85)\n\n# Make pretty\nplt.title(\"Top 10 most affected states\", fontsize = 25)\nplt.xlabel(\"State\", fontsize = 20)\nplt.ylabel(\"Sum of Wildfires\", fontsize = 20)\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\nplt.legend(fontsize = 15)","8109a103":"# Prepare the data\nyear_mo_state_top_states = data[data['state'].isin(['Amazonas','Mato Grosso','Paraiba','Sao Paulo','Rio'])].groupby(by = ['year','state', 'month']).sum().reset_index()\n\n# The plot\nplt.figure(figsize=(16,9))\nax = sns.lineplot(x = 'year', y = 'number', data = year_mo_state_top_states, hue = 'state', estimator = 'sum', lw = 3.5, \n                  err_style = None, palette = [\"#FF2323\", \"#FFA653\", \"#FF6E6E\", \"#FF8411\", \"#FFDA11\"])\n\n# Make pretty\nplt.title('Total Fires in Amazon : 1998 - 2017', fontsize = 25)\nplt.xlabel('Year', fontsize = 20)\nplt.ylabel('Number of Fires', fontsize = 20)\nplt.xticks(fontsize = 15)\nplt.yticks(fontsize = 15)\n\nax.xaxis.set_major_locator(plt.MaxNLocator(19))\nax.set_xlim(1998, 2017)\n\nax.get_yaxis().set_major_formatter(plt.FuncFormatter(lambda x, p: format(int(x), ',')))\nax.legend(loc='center left', bbox_to_anchor=(1, 0.5), prop={'size': 14})","ac3bc7df":"View by months doesn't bring anything unexpected. There are many more fires occuring in the second half of the year than the first one, especially in the late summer to beginning of autumn.","081bde52":"# III. Some additional information for the curious\n\n### Mato Grosso\n\nMato Grosso is Brazil\u2019s third largest state. This state has a small weight of people from total population of Brazil, about 1.5%, but a very strong agricultural industry.\n\nIn the past, the state of Mato Grosso has been one of Brazil\u2019s largest emitters of CO\u00b2, due to forest fires and deforestation, driven by its strong agriculture based economy.\n\nHowever, they reduced the massive deforestation starting 2004. \nFor more info on the matter, here's a link you may find interesting: [link here](http:\/\/financingsustainablelandscapes.org\/pilot-projects\/agriculture-tackle-deforestation-mato-grosso-brazil)\n\n\n### End Note:\nAs an end note, it's always good to be more *mindful of the environment*. It doesn't require big efforts, just a pinch of added attention when you buy something *(look on the label and ask yourself: is it recyclable? is it made sustainably? is it harming the environment?)*. You can also start turning off the the water more, or keep the lights on only in the room you stay in. Be more minimalist (do you really need that? :) ).\n\nHey, it's duable! :) *Be better!*\n\nCheers\n\n\n<div class=\"alert alert-block alert-info\">\n<p><p>\n<p>If you liked this, don't be shy, upvote! \ud83d\ude01<p>\n<b>Cheers!<b>\n<p><p>\n<\/div>","14485b6c":"In the graph below you can see how far Mato Grosso is from the other states in terms of wildfires. It looks like it is also the only one increasing, while the others have a ~ \"white noise\" distribution, like we saw for Amazon.","b80f8420":"![forestfire_1280p.jpg](https:\/\/i.imgur.com\/O268I6T.jpg)\n\n## Context\n\nIn the light of the recent startling events of the wildfires in the Amazon, I decided to run a **short descriptive analysis for Brazil fires** in the last ~ 20 years. Media gave me some curiosities and questions that I wanted to check with real data and unbiased mindset.\n\nThe dataset I worked on has data starting 1998 to 2017, on months, for every state in Brazil\n\n# I. Data Imports\nFirst, importing and preparing the data","e77c5f5d":"### The Amazon State\nAfter this, I wanted to check **especially the Amazon State**, as it is the most discussed in the media.\n\nI can say I was surprised of the results: Distribution throughout the years for Amazon looks more like a **random walk**, with many high and low peaks, but with no increasing trend whatsoever.","f66d4c67":"# II. Visuals and understanding\nNow, let's start building some visuals :)\n\nFires **increased dramatically** in the last 20 years, from 20,000 in 1998 to almost **double in 2017**. What's also alarming is that there is also an increasing trend in the data, so **we can expect even more** wildfires in the years to follow.\n\n2003 and 2016 had the most wildfires throughout Brazil.","94b00c43":"There are 6454 variables, with the first registration being in 1998, and the last in 2017.","1b990e5b":"But, if we look more closely to the dataset, Amazon State **isn't by far the place where most of the fires in Brazil occure**.\n\nTop 3 states are:\n1. **Mato Grosso** (an outlier, with a total sum of wildfires in the analysed period of 96k)\n2. **Paraiba** (52k)\n3. **Sao Paulo** (51k)\n...\n4. **Amazon** has the 10th place in this ranking.\n\n*Update: As somebody wise said in the comments, the Amazon forest spread on multiple states, not only the Amazonian State. :)*","7dfd5645":"* I will also drop a map of Brazil here, just for you to refference if you are not familiar with their geography.\n\n### States in Brazil\n![Brazil%20Google%20Maps.PNG](attachment:Brazil%20Google%20Maps.PNG)\n\n\n### Amazonian Rainforest spread\n![Amazon](https:\/\/i.imgur.com\/uc9oGxP.jpg)\n"}}