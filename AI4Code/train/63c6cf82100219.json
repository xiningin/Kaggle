{"cell_type":{"d6ec3b19":"code","c8f0ac88":"code","194d51c9":"code","7086758b":"code","05ca1ec2":"code","b3c39c8c":"code","e6a898fe":"code","eb885e7e":"code","eaefda94":"code","5ef78de4":"code","d5c4b17b":"code","e18d229c":"code","2562afa5":"code","62c84fe7":"code","919202e7":"code","2d6d369b":"code","243e5d83":"code","7da660eb":"code","dce3cfd6":"code","44695a01":"code","24358ac2":"markdown","d2f05722":"markdown","5413e8cc":"markdown","611fdeca":"markdown","0803dbd0":"markdown","5c0dc80c":"markdown","73613d0c":"markdown","abc07c63":"markdown","bd23c8c7":"markdown","a43b7906":"markdown","723d5687":"markdown","8aeff9c3":"markdown","ed6a7e2b":"markdown"},"source":{"d6ec3b19":"#importing python packages\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport folium as fm\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport cufflinks as cf\nimport json \n\n%matplotlib inline\n\nprint('packages imported')","c8f0ac88":"#to is the name of the dataframe for Toronto.\nto = pd.read_csv('..\/input\/covid19-toronto\/COVID19 cases.csv')\n\n#printing the first five rows of the dataset.\nto.head()","194d51c9":"#Information on dataset\nto.info()","7086758b":"# Converted date columns to date datatypes. They were previously objects. \nto['Reported Date']= pd.to_datetime(to['Reported Date'])\nto['Episode Date'] = pd.to_datetime(to['Episode Date'])\nto['FSA'] = to['FSA'].astype('str')\nto.dtypes.reset_index()","05ca1ec2":"# Added a column for month and day. \nto['Month'] = to['Reported Date'].apply(lambda time: time.month)\nto['Day'] = to['Reported Date'].apply(lambda time: time.dayofweek)\nto","b3c39c8c":"#Checking the quantity of null values.\nto.isnull().sum()","e6a898fe":"# the two columns are missning values and both rely on postal codes.\n# filling null values with 'mpc' which means missing postal codes.\nto.fillna({'Neighbourhood Name':'mpc', 'FSA': 'mpc'})","eb885e7e":"# Number of rows and columns. \nto.shape","eaefda94":"to['Source of Infection'].value_counts()","5ef78de4":"to['Age Group'].value_counts()","d5c4b17b":"# Generated bar graph based on the outcome of patient. \nplt.style.use('seaborn')\n\ncolor = plt.cm.winter(np.linspace(0, 10, 20))\nto['Outcome'].value_counts().plot.bar(color = color, figsize = (15, 8))\n\nplt.title('Outcome of each patient',fontsize = 20)\nplt.xticks(rotation = 90)\nplt.show()","e18d229c":"plt.figure(figsize = (15, 10))\nax = sb.countplot(x=\"Source of Infection\", data=to, palette=\"viridis\")","2562afa5":"plt.figure(figsize = (15, 10))\nsb.countplot(y= 'Neighbourhood Name', data = to, order = to['Neighbourhood Name'].value_counts().iloc[:10].index)","62c84fe7":"Month_count = []\n\nfor i in to.Month.unique():\n    Month_count.append(len(to[to['Month']==i]))\n\nplt.figure(figsize=(10,5))\nsb.pointplot(x=to.Month.unique(),y=Month_count,color='red',alpha=0.8)\nplt.xlabel('Month',fontsize = 15,color='blue')\nplt.xticks(rotation=45)\nplt.ylabel('Values',fontsize = 15,color='blue')\nplt.title('Coronavirus Progress',fontsize = 15,color='blue')\nplt.grid()\nplt.show()","919202e7":"#plotly chart which is interactive. \nto1 = to.groupby([\"Age Group\"]).count().reset_index()\n\nfig = px.bar(to1,\n             y=to.groupby([\"Age Group\"]).size(),\n             x=\"Age Group\",\n             color='Age Group')\nfig.show()","2d6d369b":"to2 = to.groupby([\"Currently Hospitalized\"]).count().reset_index()\n\nfig = px.bar(to2,\n             y=to.groupby([\"Currently Hospitalized\"]).size(),\n             x=\"Currently Hospitalized\",\n             color=\"Currently Hospitalized\")\nfig.show()","243e5d83":"to3 = to.groupby([\"Ever in ICU\"]).count().reset_index()\n\nfig = px.bar(to3,\n             y=to.groupby([\"Ever in ICU\"]).size(),\n             x=\"Ever in ICU\",\n             color=\"Ever in ICU\")\nfig.show()","7da660eb":"# Interactive pie chart showing the percentages of genders who are infected. \nlabels=to['Client Gender'].unique()\nvalues=to['Client Gender'].value_counts()\nfig = go.Figure(data=[go.Pie(labels=labels, values=values)])\nfig.show()","dce3cfd6":"\nt = to.FSA.value_counts()\n\ntable = pd.DataFrame(data=t.values, index=t.index, columns=['Count'])\ntable = table.reindex(['M2N','M3A','M4W','M2R','M1V','M2J','M4R',\n'M2L','M5A','M6G','M4G','M2P','M1B','M5N','M6P','M5V','M8Y','M4J','M9B','M6R',\n'M8W','M6H','M4S','M6E','M6K','M5R','M4N','M4P','M4K','M9C','M5M','M1C','M1S','M6B',\n'M8V','M9W','M5P','M6S','M3L','M5T','M6J','M1K','M4A','M4E','M4C','M2M','M1W',\n'M3B','M9R','M4V','M2K','M4B','M5S','M5H','M3K','M3C','M4L','M1E','M1P','M6A',\n'M9A','M5J','M4Y','M6C','M5G','M1L','M1M','M3H','M3N','M1H','M1J','M4M','M5E',\n'M8Z','M9V','M1R','M5B','M4X','M9L','M1N','M1T','M6N','M8X','M3J','M2H','M6L',\n'M9M','M6M','M9N','M4H','M3M','M9P','M1G','M1X','M4T','M5C'])\n\ntable = table.reset_index()\ntable.rename({'index': 'FSA'}, axis='columns', inplace=True)\n\ntable\n","44695a01":"gjson = r'..\/input\/toronto-map\/torontomap.geojson'\nto_map = fm.Map(location = [43.6532, -79.3832], zoom_start = 10)\n\nto_map.choropleth(\n    geo_data=gjson,\n    data=table,\n    columns=['FSA','Count'],\n    key_on='feature.properties.CFSAUID',\n    fill_color='YlOrRd', \n    fill_opacity=0.7, \n    line_opacity=0.2,\n    legend_name='Rate of virus'\n)\n\n\nto_map","24358ac2":"# Index table and mapping developed. ","d2f05722":"Top 10 neighbourhoods that has the most people with the virus.","5413e8cc":"It appears the conditions of coronavirus were mild cases since less people were in ICU and hospitalized. ","611fdeca":"Coronavirus is a disease that has spread all over the world resulting into a global pandemic. Different regions vary in the number of cases. In this analysis I will be showing you the overall status on how Toronto is performing in this situation. \n\nToronto Public Health is responding to an ongoing COVID-19 outbreak, in the context of an evolving global pandemic. This data set contains demographic, geographic, and severity information for all confirmed and probable cases reported to and managed by Toronto Public Health since the first case was reported in January 2020. This includes cases that are sporadic (occurring in the community) and outbreak-associated. The data are extracted from the provincial communicable disease reporting system (iPHIS) and Toronto's custom COVID-19 case management system (CORES) and combined for reporting. Each line summarizes information for an individual case.","0803dbd0":"Created a map of Toronto displaying what areas have the most infected and the least infected. ","5c0dc80c":"Developed an index table and used the Forward Sortation Area (FSA) code to provide mapping information. FSA is a postal code which is affiliated with the neighbourhoods in Toronto. The numbers (Count column) represents the population in each FSA code. \n","73613d0c":" Thank you for viewing my notebook! \n \n Feedback is welcomed. ","abc07c63":"As you see the number of cases peaked at the month of April. After April it began to decline due the precautions and safety protocals implemented by the government. ","bd23c8c7":"## Data Visualizations","a43b7906":"## COVID - 19 analysis Toronto, Canada","723d5687":"Dataset : https:\/\/open.toronto.ca\/dataset\/covid-19-cases-in-toronto\/\n\nFolium Maps: https:\/\/medium.com\/dataexplorations\/generating-geojson-file-for-toronto-fsas-9b478a059f04\n","8aeff9c3":"# Sources","ed6a7e2b":"## Data Cleaning"}}