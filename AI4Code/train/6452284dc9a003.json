{"cell_type":{"ec4206ac":"code","35c9b9cb":"code","65287218":"code","ac24e6ae":"code","b4116ae8":"code","0d65e679":"code","72fde0bc":"code","0f665a59":"code","dd183864":"code","6bddcde2":"code","1873a4fd":"code","d82eb134":"code","ffb8c363":"code","e1ff6e3e":"code","188afbe3":"code","71b1bfef":"markdown","2d9b9179":"markdown","2e82dacf":"markdown","10180f5f":"markdown","c228df21":"markdown","0ec8724f":"markdown","e630dc42":"markdown","9755d9b3":"markdown","1a21211b":"markdown","58307ac4":"markdown"},"source":{"ec4206ac":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","35c9b9cb":"data = pd.read_csv(\"\/kaggle\/input\/crime-in-ireland\/IRELAND_CRIME_GARDA_DIVISION_wise_2003-2019.csv\")","65287218":"def line_plot(*args, **kwargs):\n    plt.plot(args[0], args[1])\n    plt.title(kwargs['title'])\n    plt.xlabel(kwargs['xlabel'])\n    plt.ylabel(kwargs['ylabel'])\n    plt.show()","ac24e6ae":"import matplotlib.pyplot as plt\nimport seaborn as sns\n\nquarterly_crimes = data[data.columns[5:]].sum()\nline_plot(quarterly_crimes.index, quarterly_crimes.tolist(), title = 'Crimes per quarter', xlabel = 'quarter', ylabel = 'no. crimes')","b4116ae8":"no_crimes_yearly = [sum(quarterly_crimes[i:i+4]) for i in range(0, len(quarterly_crimes), 4)] \nyears = range(2003, 2020)\n\nline_plot(years[0:len(years)-1], no_crimes_yearly[0:len(no_crimes_yearly)-1], title = 'Crimes per year', xlabel = 'year', ylabel = 'no. crimes')  # skip 2019 because in this set 2019 does not have its 4th quarter yet","0d65e679":"quarterly_differences = [quarterly_crimes[i-1] - quarterly_crimes[i] for i in range(1, len(quarterly_crimes))] \navg_quarterly_differences = [sum(quarterly_differences[i::4]) \/ len(quarterly_differences[i::4]) for i in range(0,4)]\n\ninterquarters = ['Q1-Q2', 'Q2-Q3', 'Q3-Q4', 'Q4-Q1']\nline_plot(interquarters, avg_quarterly_differences, title='Average quarterly differences', xlabel='Quarters', ylabel='Difference')","72fde0bc":"print(sum(quarterly_crimes[0::4]) \/ len(quarterly_crimes[0::4]))\nprint(sum(quarterly_crimes[1::4]) \/ len(quarterly_crimes[1::4]))\nprint(sum(quarterly_crimes[2::4]) \/ len(quarterly_crimes[2::4]))\nprint(sum(quarterly_crimes[3::4]) \/ len(quarterly_crimes[3::4]))","0f665a59":"regional_crimes = data.groupby(['REGION']).sum()\nregional_crimes.drop('OFFENCE CODE', axis=1, inplace=True)\nregional_crimes.sum(axis=1)","dd183864":"divisional_crimes = data.groupby(['GARDA DIVISION']).sum()\ndivisional_crimes.drop('OFFENCE CODE', axis=1, inplace=True)\ndivisional_crimes.sum(axis=1) \/ len(divisional_crimes.columns)","6bddcde2":"divisional_crime_ranking = divisional_crimes.sum(axis=1) \/ divisional_crimes.sum(axis=1).sum()\ndivisional_crime_ranking.sort_values(ascending=False)","1873a4fd":"divisional_crime_ranking.sort_values(ascending=False).plot.bar()","d82eb134":"national_offence_counts = data.groupby('OFFENCE').sum().drop('OFFENCE CODE', axis=1).sum(axis=1)\nnational_offence_counts.sort_values(ascending=False)[:25].plot.barh()\nplt.show()","ffb8c363":"national_offence_counts[:10]","e1ff6e3e":"data[data.columns[5:]].sum(axis=1)","188afbe3":"crime_no_per_county = data[data.columns[5:]].sum(axis=1)\ncrime_no_per_county = crime_no_per_county.rename('COUNT')\ncrime_no_per_county = crime_no_per_county.to_frame()\ncrime_no_per_county['OFFENCE'] = data['OFFENCE']\ncrime_no_per_county['GARDA DIVISION'] = data['GARDA DIVISION']\nidx = crime_no_per_county.groupby('GARDA DIVISION')['COUNT'].transform(max) == crime_no_per_county['COUNT']\ncrime_no_per_county[idx]","71b1bfef":"# Which counties have the most crime?","2d9b9179":"# Crimes in Ireland each quarter","2e82dacf":"**I guess living in Longford has its perks...**","10180f5f":"# 25 Most common recorded crimes in Ireland 2003-2019","c228df21":"# Average change in crime between quarters\nWe see overall crime in Ireland drops in Q1-Q2, and Q2-Q3, but generally increases from there on, with the biggest rise occuring between Q4-Q1.","0ec8724f":"# Each county's proportion of national crime between 2003-2019","e630dc42":"# Most common offences by County\/Area 2003-2019","9755d9b3":"![image.png](attachment:image.png)","1a21211b":"# Average quarterly no. crimes per county","58307ac4":"# Analysing crime in Ireland 2003-2019\n## Observations\n1. In general, reported crime drops between Q1-Q2, and Q2-Q3, but increases between Q3-Q4, and Q4-Q1.\n2. Reported crime has generally been on the decrease, but since 2016 has slightly increased.\n3. County Louth is the only county where the most reported offence is criminal damage.\n4. North Dublin Metropolitan Region is the only area where the most reported offences are Offences while in custody or breach of court orders.\n5. The county\/region with the least reported crime is Longford\/Roscommon."}}