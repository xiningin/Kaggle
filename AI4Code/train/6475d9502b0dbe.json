{"cell_type":{"11d3cfc5":"code","10374980":"code","4fc0b731":"code","fe226391":"code","5a80de83":"code","162c5f58":"code","ba415f07":"code","15fc518c":"code","4f1aec6a":"code","d878aece":"code","f5f7f56d":"code","403fb7e5":"code","7b59b2f4":"code","68ca7089":"code","50dba100":"code","4a57e8b3":"code","7fc2d04e":"code","ce49d892":"code","7979404e":"code","c313ae5d":"code","cdc1a891":"code","12e9dcbc":"code","60baaf3a":"code","f185754d":"code","e9e2c152":"code","7bf1da57":"code","76adf87b":"code","d4a8cd02":"code","27ec1c45":"code","951cb98e":"code","d4eae698":"code","42412045":"code","b2d7ddb3":"code","8295be12":"code","7c9f7ba6":"code","2213cd3b":"code","25aa16a1":"code","2028ef72":"code","495269e0":"code","aa9f8f9a":"code","96e36014":"code","6165e060":"code","1b5c5684":"code","b784a222":"code","87d3d744":"code","51dead74":"code","b196e1ae":"code","0987b501":"code","12869b04":"code","800e2c7a":"code","9c1ff024":"code","5109e248":"code","bd9b4b9d":"code","ce8e8438":"markdown","3379086b":"markdown","4247d058":"markdown","982a396c":"markdown","8850f060":"markdown","228195da":"markdown","0de7205e":"markdown","e05bfe12":"markdown","ae0fbd2c":"markdown","ceafb325":"markdown","9785efd9":"markdown","7216f751":"markdown","33f7d38b":"markdown","ccc84754":"markdown","9bcfd8d4":"markdown","79f09924":"markdown","2cea41cf":"markdown","728b1f9e":"markdown","3e30f995":"markdown","c6cc291f":"markdown","936623b5":"markdown","b2cb7a3c":"markdown","e66e8f95":"markdown","6c33010d":"markdown","46435cfb":"markdown","296f7caa":"markdown","57e69a6b":"markdown","5e197910":"markdown","0527030a":"markdown","27f6117d":"markdown","18c7b171":"markdown","e2725584":"markdown","a32e1a38":"markdown","d90cdcab":"markdown","3772f58f":"markdown","cd8a1268":"markdown","e8d748ab":"markdown","efb0ff4e":"markdown","eec2cf50":"markdown","3dfd796a":"markdown","5be3e666":"markdown","121ee6c3":"markdown","3814e5da":"markdown","9d1068e6":"markdown","01cd215e":"markdown","d9b72c59":"markdown","3bc7f696":"markdown","d64dcbb4":"markdown","51827ef5":"markdown","821e877a":"markdown","8521a968":"markdown","cfdcff6a":"markdown","df30c071":"markdown","d0cf8c1b":"markdown","0e70f7e7":"markdown","c311b410":"markdown"},"source":{"11d3cfc5":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\npd.set_option('display.max_columns', None)\npd.set_option(\"display.max_rows\", None)","10374980":"import warnings\nwarnings.filterwarnings('ignore')","4fc0b731":"df = pd.read_csv('..\/input\/terrorism\/globalterrorismdb_0718dist.csv')","fe226391":"df.head()","5a80de83":"df.tail()","162c5f58":"df.shape","ba415f07":"df = df[['eventid','iyear', 'imonth', 'iday', 'region_txt', 'country_txt', 'provstate', 'city', 'latitude', 'longitude', 'weaptype1_txt', 'targtype1_txt']]","15fc518c":"df.head()","4f1aec6a":"df.rename(columns={'region_txt':'region', 'country_txt': 'country', 'provstate':'state', 'weaptype1_txt':'weapon', 'targtype1_txt':'target'}, inplace = True)","d878aece":"df.drop_duplicates(keep=False,inplace=True)","f5f7f56d":"df.head()","403fb7e5":"df.describe()","7b59b2f4":"df.isna().sum()","68ca7089":"df = df.dropna(subset=['longitude'])","50dba100":"df.state.replace(to_replace='Unknown', value=np.nan,inplace=True)\ndf.city.replace(to_replace='Unknown', value=np.nan,inplace=True)","4a57e8b3":"df.state.fillna(df['country'], inplace=True)","7fc2d04e":"df.city.fillna(df['state'],inplace=True)","ce49d892":"df.region.unique()","7979404e":"df.region.replace(['Central America & Caribbean'],'North America',inplace=True)\ndf.region.replace(['Southeast Asia','East Asia','South Asia', 'Central Asia'],'Asia',inplace=True)\ndf.region.replace(['Western Europe', 'Eastern Europe'],'Europe',inplace=True)\ndf.region.replace(['Middle East & North Africa', 'Sub-Saharan Africa'],'Africa',inplace=True)\ndf.region.replace(['Australasia & Oceania'],'Australia',inplace=True)","c313ae5d":"df.region.unique()","cdc1a891":"year_count  = df['iyear'].value_counts()\nyear_count.head()","12e9dcbc":"plt.figure(figsize = (25,8))\nsns.lineplot(year_count.index, year_count.values, alpha=0.9)\nplt.xlabel('Years')\nplt.ylabel('Number of Terrorism activities')\nplt.title('Rise and Fall of Terrorism in Whole World in Recent Years')\nplt.suptitle('Line Plot for Terrorism')\nplt.show()","60baaf3a":"plt.figure(figsize = (25,8))\nsns.barplot(year_count.index, year_count.values, alpha=0.9)\nplt.xlabel('Years')\nplt.ylabel('Number of Terrorism activities')\nplt.title('Rise and Fall of Terrorism in Whole World in Recent Years')\nplt.suptitle('Bar Plot for Terrorism')\nplt.show()","f185754d":"ucontinent = df.iyear.groupby(df.region).count()\nucontinent.sort_values(ascending=True,inplace=True)\nucontinent","e9e2c152":"fig = plt.figure(figsize=(10,6))\nsns.barplot(ucontinent.index, ucontinent.values)\nplt.title('Total terrorism activites per Continents')\nplt.show()","7bf1da57":"a = 6  # number of rows\nb = 2  # number of columns\nc = 1  # initialize plot counter\n\nfig = plt.figure(figsize=(24,42))\n\nfor i in df['region'].unique():\n    plt.suptitle('Rise and Fall of Terrorism Around various Continents',fontsize=24,y=.92)\n\n    plt.subplot(a, b, c)\n    year_count  = df[df['region']==i]['iyear'].value_counts()\n    sns.lineplot(year_count.index, year_count.values, alpha=0.9)\n    plt.xlabel('Years',fontsize=14)\n    plt.ylabel('Number of Terrorism activities',fontsize=14)\n    plt.title('{}'.format(i),fontsize=16)\n    c = c + 1\n    \n    plt.subplot(a, b, c)\n    sns.barplot(year_count.index, year_count.values, alpha=0.9)\n    plt.xlabel('Years',fontsize=14)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of Terrorism activities',fontsize=14)\n    plt.title('{}'.format(i),fontsize=16)\n    c = c + 1\n    \nplt.subplots_adjust(wspace=0.2,hspace=0.4)\nplt.show()","76adf87b":"df.head()","d4a8cd02":"df.weapon.replace(to_replace='Unknown', value=np.nan, inplace=True)","27ec1c45":"df['weapon'].isna().value_counts()","951cb98e":"df['weapon'] = df.groupby(['iyear'], sort=False)['weapon'].apply(lambda x: x.fillna(x.mode().iloc[0]))","d4eae698":"df.head(3)","42412045":"df['weapon'].isna().value_counts()","b2d7ddb3":"df.weapon.replace(to_replace='Vehicle (not to include vehicle-borne explosives, i.e., car or truck bombs)', value='Vechile Exluding Explosions', inplace=True)","8295be12":"nweapon = df.weapon.value_counts().sort_values(ascending=False)\nnweapon","7c9f7ba6":"a = 11  # number of rows\nb = 2  # number of columns\nc = 1  # initialize plot counter\n\nfig = plt.figure(figsize=(24,50))\n\nfor i in nweapon.index:\n    plt.suptitle('Use of weapons throughout 1970 - 2017',fontsize=24,y=.9)\n\n    plt.subplot(a, b, c)\n    year_count  = df[df['weapon']==i]['iyear'].value_counts()\n    sns.lineplot(year_count.index, year_count.values, alpha=0.9)\n    plt.xlabel('Years',fontsize=14)\n    plt.ylabel('Number of {} used'.format(i),fontsize=13)\n    plt.title('{} (Total Count - {})'.format(i,nweapon[i]),fontsize=16)\n    c = c + 1\n    \n    plt.subplot(a, b, c)\n    sns.barplot(year_count.index, year_count.values, alpha=0.9)\n    plt.xlabel('Years',fontsize=14)\n    plt.xticks(rotation=90)\n    plt.ylabel('Number of {} used'.format(i),fontsize=13)\n    plt.title('{} (Total Count - {})'.format(i,nweapon[i]),fontsize=16)\n    c = c + 1\n    \n    \nplt.subplots_adjust(wspace=0.2,hspace=0.5)\nplt.show()\n","2213cd3b":"df.head()","25aa16a1":"ntarget = df.target.value_counts()\nntarget","2028ef72":"df.target.replace(to_replace='Unknown', value=np.nan, inplace=True)","495269e0":"df['target'] = df.groupby(['weapon'], sort=False)['target'].apply(lambda x: x.fillna(x.mode().iloc[0]))","aa9f8f9a":"df.target.unique()","96e36014":"df.target.count()","6165e060":"ntarget = df.target.value_counts()\nntarget","1b5c5684":"plt.figure(figsize = (25,8))\nsns.barplot(ntarget.index, ntarget.values)\nplt.xticks(rotation=90,fontsize=14)\nplt.show()","b784a222":"utarget = []\nutarget.append(df[df.target == 'Private Citizens & Property']['target'].count())\nutarget.append(df[df.target == 'Military']['target'].count())\nutarget.append(df[df.target == 'Police']['target'].count())\nutarget.append(df[df.target == 'Business']['target'].count())\nutarget.append(18192+3114)\nutarget.append(df.target.count()-sum(utarget))\nutarget","87d3d744":"labels = ['Private', 'Military', 'Police', 'Business','Government','Others']\nexplode = (0.07, 0, 0, 0,0,0)\nfig1, ax1 = plt.subplots()\nax1.pie(utarget, explode=explode, labels=labels, autopct='%1.1f%%',\n        shadow=True, startangle=90)\n# Equal aspect ratio ensures that pie is drawn as a circle\nax1.axis('equal')  \nplt.tight_layout()\nplt.title('Total number of terrorist attack on different sectors')\nplt.show()","51dead74":"df.head(10)","b196e1ae":"ncountry = df.eventid.groupby(df.country).count()\nnother = ncountry.values.sum()\nucountry = ncountry.sort_values(ascending=False).head(10)\nuother = ucountry.values.sum()\nucountry","0987b501":"ucountry['Others'] = nother-uother\nucountry","12869b04":"fig, ax = plt.subplots(figsize=(15,6))\nsns.barplot(ucountry.index,ucountry.values)\nplt.title('Top 10 countries with maximum number of terrorism activities from 1970 - 2017')\nplt.xticks(rotation=90)\nplt.ylabel('Number of Terrorism activitis')\nplt.show()","800e2c7a":"labels = ucountry.index\nexplode = (0, 0, 0, 0,0,0,0,0,0,0,0.04)\nfig1, ax1 = plt.subplots(figsize=(20,10))\nax1.pie(ucountry.values, explode=explode, labels=labels, autopct='%1.1f%%',\n        shadow=True, startangle=200,textprops={'fontsize': 14})\n# Equal aspect ratio ensures that pie is drawn as a circle\nax1.axis('equal')  \nplt.tight_layout()\nplt.title('Total Percentage of terrorist attack on different Countries')\nplt.show()","9c1ff024":"import folium\nfrom folium.plugins import FastMarkerCluster, Fullscreen, MiniMap, HeatMap, HeatMapWithTime","5109e248":"year_list = []\nfor year in df['iyear'].sort_values().unique():\n    data = df.query('iyear == @year')\n    data = data.groupby(by=['latitude', 'longitude'], \n                        as_index=False).count().sort_values(by='eventid', ascending=False).iloc[:, :3]\n    year_list.append(data.values.tolist())\n\nm = folium.Map(\n    location=[0, 0], \n    zoom_start=2, \n    width='100%',\n    height='80%',\n)\n\nHeatMapWithTime(\n    name='Terrorism Heatmap',\n    data=year_list,\n    radius=3,\n    auto_play=True,\n    index=list(df['iyear'].sort_values().unique())\n).add_to(m)\n\nm","bd9b4b9d":"year_list = []\nfor year in df['iyear'].sort_values().unique():\n    data = df.query('iyear == @year')\n    data = data.groupby(by=['latitude', 'longitude','country'], \n                        as_index=False).count().sort_values(by='eventid', ascending=False).iloc[:, :3]\n    year_list.append(data[data.country=='India'].values.tolist())\n\nm = folium.Map(\n    location=[20.5937, 78.9629], \n    zoom_start=4,\n    tiles='StamenToner',\n    width='90%',\n    height='90%',\n    max_zoom=4,\n    min_zoom=4,\n)\n\nHeatMapWithTime(\n    name='Terrorism Heatmap in India',\n    data=year_list,\n    radius=5,\n    auto_play=True,\n    index=list(df['iyear'].sort_values().unique())\n).add_to(m)\n\nm","ce8e8438":"**BAR plot for the top 10 countries with maximum number of terrorism activities.**","3379086b":"**Creating a series containg year and count of terrorism activities per year**","4247d058":"**Creating a series containing count of terrorism activities per continents**","982a396c":"**Thank You for the walkthrough to this notebook.**","8850f060":"**Plotting a line plot**","228195da":"**Line and Bar plot for the use of weapon types from 1970 to 2017**","0de7205e":"**Removing unwanted columns, just keeping required and important columns**","e05bfe12":"**Dropping duplicate rows from the dataset**","ae0fbd2c":"**Bar plot for the rise of terrorism activites**","ceafb325":"# **Exploratory Data Analysis - Terrorism**","9785efd9":"**Filling missing value in *weapon* column section from the mode of weapons in that year.**","7216f751":"**Counting Missing values in Weapon Column**","33f7d38b":"This notebook is about the analysis of rise and fall of terrorism activities around the world.","ccc84754":"**Importing required Libraries**","9bcfd8d4":"From the above plot it is clear that Iraq has largest number of terrorism activities followed by Pakistan.\n\nWe can also conclude that top 4 countries for the number of terrorism activities are Asian countries.","79f09924":"Terrorism activites in **Europe** is moderate throught the period from 1970 to 2013, but we can see a spike in terrorism activites in 2014 onwards.","2cea41cf":"**Bar graph for the Terrorism activites in continents**","728b1f9e":"**Time series heatmap of the India from 1970 -2017 for the rise of terrorism activities**","3e30f995":"**Renaming one of the Weapon value**","c6cc291f":"Exploratory data Analysis of Terrorism dataset using python and its libraries.","936623b5":"**Last five rows of the dataset**","b2cb7a3c":"**Checking for null\/ missing values in each columns**","e66e8f95":"Ignoring warnings","6c33010d":"**Creating a list containing count of common tagets by terrorists**","46435cfb":"**Dropping Missing values from longitude columns**","296f7caa":"**Checking all the Unique regions in the dataset**","57e69a6b":"From the above plot's we can conclude that **Explosives**, **Firearms**, **Incendiary** are the choice of weapons commonly used by terrorist from **2010**.","5e197910":"**Pie Chart  for the most common target by terrorists**","0527030a":"**Plotting the barplot for the count of the target by the terrorists.**","27f6117d":"The above line plot gives the information of the rise and fall of the terrorism activities from 1970 to 2017. We can see that there is a exponential rise in terrorism activites from 2011.","18c7b171":"**Creating series for the target of terrorism**","e2725584":"**Renaming the columns names for easy understanding and retrieval**","a32e1a38":"**Checking the shape of the dataset**","d90cdcab":"**First five rows of the dataset**","3772f58f":"**Summarizing all the regions in seven continents based on their locations**","cd8a1268":"In oppose to this the terrorism activites in **Asia** and **Africa** are increasing exponently in recents years, which is not a very good sign.","e8d748ab":"**Line Plot and Bar Graph for the rise and fall of terrorism activites in different continents over a period of time**","efb0ff4e":"**Filling the NAN\/ Missing values in city from state column**","eec2cf50":"**Time series heatmap of the world from 1970 -2017 for the rise of terrorism activities**","3dfd796a":"**Importing Folium and its plugins**","5be3e666":"**Filling the NAN\/ Missing values in state from country column**","121ee6c3":"**Summarize the numerical columns**","3814e5da":"From the above Barplot we can conclude that Africa has largest number of terrorism activities around 60000+ followed by Asia with over 55000+ terrorism activities.\n\nAustralia has the lowest number of terrorism activites ranges from 200-300.","9d1068e6":"From the above plot's we can conclude that **North Ameraica** and **South America** had rise in terrorism activities from 1980 to 2000. But in recents years the terrorism activities in those regions are quite low.","01cd215e":"From the data and visualization, it is concluded that Aisan and African Countries had largest number of terrorism activites. The number of terrorism activites are exponently increasing in Asian and African countries in recent years. The top 4 countries leading with total number of terrorism activites are Asian Countries. The type of weapon used commonly by terrorists recently are explosives and firearms. The main target of the terrorists are Private citizens business and property, Military, police and goverments residences.\n\nAround 25% of terrorism activites are taking place in 4 countries (**Iraq, Pakistan, Afganistan and India**).\n\nTop 10 Countries consisting of around 56% of total terrorism activities around the world.","d9b72c59":"#### **By - Pranjal Rawat**","3bc7f696":"**Creating series of weapon and number of times these weapons types are used**","d64dcbb4":"**Checking the head of the dataset after the changes**","51827ef5":"**Filling missing value in Target from target from other rows using same weapons**","821e877a":"**Pie Chart for the top 10 countries with maximum number of terrorism activities.**","8521a968":"**Replacing the 'Unknown' value to NAN from city and state columns**","cfdcff6a":"**Replacing 'Unknown' values in Target column from NAN value.**","df30c071":"From all the regions **Australia** has the lowest terrorism activites in range of (200-300) from 1970 - 2017. This can be considered as a good sign.","d0cf8c1b":"**Creating the series for the total no of terrorism activities in countires**","0e70f7e7":"**Loading and reading Terrorism Dataset**","c311b410":"**Replacing 'Unknown' value in weapon column from NAN.**"}}