{"cell_type":{"5200efc6":"code","07dcabfc":"code","6c621331":"code","d384bb9a":"code","25cd75c9":"code","4737a5fd":"code","a032d4ee":"code","2b9ffade":"code","9671c1ca":"code","325da741":"code","0792e52b":"code","75052ce7":"code","1616f4c0":"code","094343dd":"code","95373ce9":"code","c3566f42":"code","d8369464":"code","376fcb71":"code","281fd987":"markdown","b837c328":"markdown","7dbe7820":"markdown","bfb2583e":"markdown","6496ef79":"markdown","18991ad8":"markdown","4d761931":"markdown","4a5f3357":"markdown","38fc31a8":"markdown","cb719541":"markdown","1acbe358":"markdown","0c21432b":"markdown","2654be38":"markdown","fcd13d51":"markdown","9699e613":"markdown","baefaa4e":"markdown","d588cb5d":"markdown","2b1a155a":"markdown","990d9408":"markdown","a815cb6b":"markdown","3c8bdefb":"markdown","13d1aa12":"markdown","e98d40dd":"markdown","c0520cdc":"markdown","83d87a33":"markdown","9d2ff4c1":"markdown"},"source":{"5200efc6":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_absolute_error\nimport xgboost as XGB\nfrom sklearn.model_selection import train_test_split\nfrom scipy import stats\nfrom scipy.stats import norm, skew\nimport warnings\nwarnings.filterwarnings(\"ignore\")","07dcabfc":"%%bash\npip install openpyxl","6c621331":"gender=pd.read_excel('..\/input\/2021-olympics-in-tokyo\/EntriesGender.xlsx')","d384bb9a":"gender.info()\nprint('-'*100)\ngender.head()","25cd75c9":"p=gender.sort_values([\"Total\"], ascending=False)\ndata = [p[\"Discipline\"],p[\"Female\"],p[\"Male\"]]\n\nheaders = [\"Discipline\",\"Female\", \"Male\"]\n\ndf3 = pd.concat(data, axis=1, keys=headers)\n\nc=df3.head(15)\nfig, ax = plt.subplots(figsize=(12,10))\nc.plot(\n  x = 'Discipline', \n  kind = 'barh', \n  stacked = True, \n  title = 'Stacked Bar Graph', \n  mark_right = True,ax=ax\n)\ntotal = c[\"Female\"] + c[\"Male\"]\nrel = c[c.columns[1:]].div(total, 0)*100 \nfor n in rel:\n    for i, (s, b, p) in enumerate(zip(c.iloc[:, 1:].cumsum(1)[n], \n                                         c[n], rel[n])):\n        plt.text(s - b \/ 2, i, str(np.round(p, 1)) + '%', \n                 va = 'center', ha = 'center',fontsize = 10)","4737a5fd":"female = gender[\"Female\"].sum()\nmale = gender[\"Male\"].sum()\nm=gender['Total'].sum()\nd = {'Gender': ['Male', 'Female'],\n        'Total' : [male,female]}\nval = pd.DataFrame(d)\nprint(val)\nprint('*'*60)\nsns.set()\nval.set_index('Gender').T.plot(kind='bar', stacked=True)","a032d4ee":"sns.barplot(y =val['Total'],x=val['Gender'])","2b9ffade":"female = gender[\"Female\"].sum()\nmale = gender[\"Male\"].sum()\nm=gender['Total'].sum()\nd =pd.DataFrame({'total': [male,female]},\n     index=['Male', 'Female'])\n\ndef label_function(v):\n    return f'{v:.0f}%'\n     \nd.plot.pie(y='total', figsize=(5, 5),colors=['#8B008B','#9932CC'],autopct=label_function,textprops={'fontsize': 20})","9671c1ca":"p=gender.sort_values([\"Total\"], ascending=False)\na=p.head(10)\nd=a['Discipline']\nm=a['Male']\nf=a['Female']\n\nx = np.arange(len(d)) \nwidth = 0.35 \n\nfig, ax = plt.subplots(figsize=(15,5))\nrects1 = ax.bar(x - width\/2, m, width, label='Men')\nrects2 = ax.bar(x + width\/2, f, width, label='Female')\n\nax.set_ylabel('count')\nax.set_title('count by group and gender')\nax.set_xticks(x)\nax.set_xticklabels(d)\nax.legend()\n\nax.bar_label(rects1, padding=3)\nax.bar_label(rects2, padding=3)\n\nfig.tight_layout()\n\nplt.show()","325da741":"athlet=pd.read_excel('..\/input\/2021-olympics-in-tokyo\/Athletes.xlsx')","0792e52b":"athlet.info()\nprint('-'*100)\nathlet.head(5)","75052ce7":"from wordcloud import WordCloud, STOPWORDS\ncomment_words = ''\nstopwords = set(STOPWORDS)\nfor val in athlet.Discipline:\n    val = str(val)\n    tokens = val.split()\n     \n    for i in range(len(tokens)):\n        tokens[i] = tokens[i].lower()\n     \n    comment_words += \" \".join(tokens)+\" \"\n \nwordcloud = WordCloud(width = 800, height = 500,\n                background_color ='black',\n                stopwords = stopwords,\n                min_font_size = 10).generate(comment_words)\n                     \nplt.figure(figsize = (7, 10), facecolor = None)\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.tight_layout(pad = 0) \nplt.show()","1616f4c0":"\ncount = athlet[\"Discipline\"].value_counts().sort_values(ascending = False).reset_index()\nf=count.head(20)\nf.columns = ['count','athlet_type']\nat_top_country=f\nclrs = ['#FF4500' if (x < max(at_top_country['athlet_type'])) else 'black' for x in at_top_country['athlet_type'] ]\nplt.figure(figsize = (10, 8))\nsns.barplot(y =at_top_country['count'],x=at_top_country['athlet_type'], palette = clrs)\nplt.show()\n","094343dd":"counts = athlet[\"NOC\"].value_counts().sort_values(ascending = False).reset_index()\ncounts.columns = ['country','count']\natlet_top_country=counts.head(20)\n#clrs = ['#FF4500' if (x < max(atlet_top_country['count'])) else 'black' for x in atlet_top_country['count'] ]\nplt.figure(figsize = (10,8))\nsns.barplot(x =atlet_top_country['count'],y=atlet_top_country['country'], palette = \"vlag\")\n","95373ce9":"medal=pd.read_excel('..\/input\/2021-olympics-in-tokyo\/Medals.xlsx')","c3566f42":"medal.info()\nprint('-'*100)\nmedal.head()","d8369464":"g = medal[\"Gold\"].sum()\ns = medal[\"Silver\"].sum()\nb = medal['Bronze'].sum()\nd =pd.DataFrame({'total': [g,s,b]},\n     index=['gold', 'silver','bronze'])\n\ndef label_function(v):\n    return f'{v:.0f}%'\nprint(d)\n     \nd.plot.pie(y='total', figsize=(5, 5),colors=['#FFD700','#C0C0C0','#CD7F32'],autopct=label_function,textprops={'fontsize': 20})","376fcb71":"data = [medal[\"Team\/NOC\"],medal[\"Gold\"], medal[\"Silver\"],medal['Bronze']]\n\nheaders = [\"Team\/NOC\",\"Gold\", \"Silver\",\"Bronze\"]\n\ndf3 = pd.concat(data, axis=1, keys=headers)\n\nc=df3.head(15)\nfig, ax = plt.subplots(figsize=(12,10))\nc.plot(\n  x = 'Team\/NOC', \n  kind = 'barh', \n  stacked = True, \n  title = 'Stacked Bar Graph', \n  mark_right = True,ax=ax\n)\ntotal = c[\"Gold\"] + c[\"Silver\"] + c[\"Bronze\"]\nrel = c[c.columns[1:]].div(total, 0)*100 \nfor n in rel:\n    for i, (s, b, p) in enumerate(zip(c.iloc[:, 1:].cumsum(1)[n], \n                                         c[n], rel[n])):\n        plt.text(s - b \/ 2, i, str(np.round(p, 1)) + '%', \n                 va = 'center', ha = 'center',fontsize = 10)","281fd987":"# 3.5 Top 20 Country","b837c328":"# 2.6 Pie chart","7dbe7820":"# 1.1 Install Openpyxl For xlsx File","bfb2583e":"<h1 style=\"font-family: Arials; line-height: 3; font-size: 40px; font-weight: bold; letter-spacing: 3px; text-align: center; color:black\">Tokyo Olympics 2021<\/h1>\n\n<p style=\"font-family: Arials; line-height: 1; font-size: 20px; font-weight: bold; letter-spacing: 1px; text-align: center\">Any kind of comment would be very gratefull to me.<\/p>\n\n","6496ef79":"# 4.2 Initail Idea about Medals Data","18991ad8":"# 2.1 Load Data\n\n","4d761931":"# 4.1 Load Data","4a5f3357":"<p id=\"3\"><\/p>\n<p style=\"font-family: Arials; font-size: 40px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: gray; line-height:1.3;text-align:center\">3. Athletes Data Visualization and Analysis<\/p>\n<a href=\"#10\" style=\"color:tomato;background-color:black\">Back to content click here<\/a>\n<hr style=\"height: 0.5px; border: 0; background-color: #808080\">","38fc31a8":"# 3.1 Load Data","cb719541":"# 2.5 Barplot","1acbe358":"# 3.4 Top 20 Discipline","0c21432b":"# 2.2 Initial Idea About EntriesGender Data","2654be38":"<p id=\"2\"><\/p>\n<p style=\"font-family: Arials; font-size: 40px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: gray; line-height:1.3;text-align:center\">2.EntriesGennder Data Visualization and Analysis<\/p>\n\n\n<a href=\"#10\" style=\"color:tomato;background-color:black\">Back to content click here<\/a>\n\n<hr style=\"height: 0.5px; border: 0; background-color: #808080\">","fcd13d51":"# 2.3 Stack Bar Plot  ","9699e613":"# If you like this please give a upvote.","baefaa4e":"<p id=\"10\"><\/p>\n<p style=\"font-family: Arials; font-size: 30px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: violet; line-height:1.0\"><a href=\"#10\" style=\"color:gray\">TABLE OF CONTENT<\/a><\/p>\n\n<hr style=\"height: 0.5px; border: 0; background-color: #808080\">\n\n\n<p style=\"font-family: Arials; font-size: 25px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: mediumseagreen; line-height:1.3\"><a href=\"#1\" style=\"color:gray\">1. Import Necessary Tools<\/a><\/p>\n\n\n<p style=\"font-family: Arials; font-size: 25px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: mediumseagreen; line-height:1.3\"><a href=\"#2\" style=\"color:gray\">2. EntriesGender Data Visualization and Analysis<\/a><\/p>\n\n\n\n<p style=\"text-indent: 1vw; font-family: Arials; font-size: 25px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: mediumseagreen; line-height:1.3\"> \n<a href=\"#3\" style=\"color:gray\">3. Athletes Data Visualization and Analysis <\/a><\/p>\n\n\n\n<p style=\"text-indent: 1vw; font-family: Arials; font-size: 25px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: mediumseagreen; line-height:1.3\"> \n<a href=\"#4\" style=\"color:gray\">4. Medals Data Visualization and Analysis<\/a><\/p>\n\n\n","d588cb5d":"<p style=\"font-family: Arials; font-size: 18px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3\">The following libraries are used here:<\/p>\n\n<p style=\"font-family: Arials; font-size: 14px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3\"><bold>pandas:<\/bold> The Python Data Analysis Library is used for storing the data in dataframes and manipulation.<\/p>\n\n\n<p style=\"font-family: Arials; font-size: 14px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3\">numpy: Python scientific computing library.<\/p>\n\n<p style=\"font-family: Arials; font-size: 14px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3\"><a href=\"#\"><\/a><strong>matplotlib:<\/strong> Python plotting library.<\/p>\n\n<p style=\"font-family: Arials; font-size: 14px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3\"><a href=\"#\"><\/a>seaborn: Statistical data visualization based on matplotlib.<\/p>\n\n<p style=\"font-family: Arials; font-size: 14px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3;\">scikit-learn: Sklearn is a machine learning library for Python.<\/p>\n\n<p style=\"font-family: Arials; font-size: 14px; font-style: normal; font-weight: bold; letter-spacing: 2px; line-height:1.3\">scipy.stats: Provides a number of probability distributions and statistical functions.<\/p>\n\n","2b1a155a":"# 3.2 Initial Idea about Athletes Data","990d9408":"# 3.3 Word Cloud","a815cb6b":"# 4.3 Pie Chart","3c8bdefb":"<p id=\"1\"><\/p>\n<p style=\"font-family: Arials; font-size: 40px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: mediumseagreen; line-height:1.3;text-align:center\"><a href=\"#1\" style=\"color:gray\">1. Import Necessary Tools<\/a><\/p>\n\n\n\n<a href=\"#10\" style=\"color:tomato;background-color:black\">Back to content click here<\/a>\n\n\n<hr style=\"height: 0.5px; border: 0; background-color: #808080\">","13d1aa12":"<p id=\"4\"><\/p>\n<p style=\"font-family: Arials; font-size: 40px; font-style: normal; font-weight: bold; letter-spacing: 2px; color: gray; line-height:1.3;text-align:center\">4. Medals Data Visualization and Analysis<\/p>\n<a href=\"#10\" style=\"color:tomato;background-color:black\">Back to content click here<\/a>\n<hr style=\"height: 0.5px; border: 0; background-color: #808080\">","e98d40dd":"# 3.4 Stacked Bar Graph","c0520cdc":"# 2.4 Count Male and Female Individually","83d87a33":"# 2.7 Group Bar Plot","9d2ff4c1":"\n<img src= \"https:\/\/images.thequint.com\/thequint%2F2021-07%2F92e18ce7-8141-4c1a-a5be-3eb78bcc3120%2Fimgonline_com_ua_resize_1hihwyhP3Pa5jPw3.jpg\" alt =\"Titanic\" style=\" border-radius: 50%\">"}}