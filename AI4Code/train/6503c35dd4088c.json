{"cell_type":{"531efde9":"code","0dab2982":"code","fa4b989d":"code","dadfd5f0":"code","65b9b185":"code","ea0df415":"code","693b78ac":"markdown","6b26780f":"markdown","4d4cc1c4":"markdown","e7655904":"markdown"},"source":{"531efde9":"import SimpleITK as sitk\nimport os\nimport pandas as pd","0dab2982":"# Create list of test patients\npatients = sorted(os.listdir('..\/input\/rsna-miccai-brain-tumor-radiogenomic-classification\/test\/'))\nprint(patients)","fa4b989d":"# Function to load DICOM Series\n\nreader = sitk.ImageSeriesReader()\nreader.LoadPrivateTagsOn()\n\ndef load(path):\n    \n    filenamesDICOM = reader.GetGDCMSeriesFileNames(path)\n    reader.SetFileNames(filenamesDICOM)\n    loadedImage = reader.Execute()\n    \n    return loadedImage","dadfd5f0":"sequences = [('FLAIR', 0), ('T1w', 1), ('T2w', 3)]\n\nfor p in patients:\n    \n    try:\n    \n        print(f'Processing {p}')\n        print('T1wCE')\n\n        T1Norm = load(f'\/kaggle\/input\/rsna-miccai-brain-tumor-radiogenomic-classification\/test\/{p}\/T1wCE')\n        sitk.WriteImage(T1Norm, f'\/kaggle\/working\/{p}_RES_0002.nii.gz')\n\n        for s, i in sequences:\n\n            print(s)\n            \n            Img = load(f'\/kaggle\/input\/rsna-miccai-brain-tumor-radiogenomic-classification\/test\/{p}\/{s}')\n            sitk.WriteImage(Img, f'\/kaggle\/working\/{p}_RES_000{i}.nii.gz')\n        \n    except Exception as e:\n        \n        print(f'could not process {p}')\n        print(e)","65b9b185":"# Placeholder Code\npredictions = [0.5]*len(patients)\nprint(predictions)","ea0df415":"submission = pd.DataFrame({'BraTS21ID' : patients,'MGMT_value' : predictions})\nsubmission = submission.reset_index(drop=True)\nsubmission.to_csv('submission.csv', index = False)\nsubmission","693b78ac":"# Submission","6b26780f":"# Prerequisites","4d4cc1c4":"# Preprocessing","e7655904":"# Inference"}}