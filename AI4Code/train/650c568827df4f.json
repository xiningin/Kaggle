{"cell_type":{"20a709a3":"code","35711172":"code","267418a9":"code","36512cfd":"code","20823e27":"code","6077ad4f":"code","664a215b":"code","3a06967d":"code","da4a7f92":"code","4ec558df":"code","587d103f":"code","3f8c834d":"code","1e46a77b":"code","e70bdd4e":"code","372351c4":"code","1aa54fe1":"code","7980ea8d":"code","03f1bd48":"code","dc059ab1":"markdown","7d015c3c":"markdown","98dbd476":"markdown","ddddd40b":"markdown","778b01c5":"markdown","89cebfcb":"markdown","ccc1fcbc":"markdown","0910fb3b":"markdown","f306de9e":"markdown","f4f2c3dd":"markdown","d5229415":"markdown","7258563c":"markdown","7bd2d75a":"markdown"},"source":{"20a709a3":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","35711172":"import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport plotly.figure_factory as ff\nimport plotly\nfrom plotly.offline import plot, iplot, init_notebook_mode\ninit_notebook_mode(connected=True)\nimport warnings\nwarnings.filterwarnings('ignore')","267418a9":"dataset = pd.read_csv(\"\/kaggle\/input\/countries-life-expectancy\/Life expectancy.csv\")\ndataset.head()","36512cfd":"dataset.info()","20823e27":"dataset.describe(include = 'all')","6077ad4f":"dataset.isnull().sum()","664a215b":"dataset.Entity.unique()","3a06967d":"dataset.Entity.value_counts()","da4a7f92":"dataset.Entity.unique()","4ec558df":"dataset['Year'].unique()","587d103f":"print(\"Life Expectancy Analysis:\")\nprint(\"------------------------------\")\nprint(dataset['Life expectancy'].describe())\nprint()\nhist_data = [dataset['Life expectancy']]\ngroup_labels = ['Life expectancy']\nfig = ff.create_distplot(hist_data, group_labels)\nfig.update_layout(title_text='Distribution of Life Expectancy')\nfig.show()","3f8c834d":"entity = dataset.groupby('Entity')['Life expectancy'].mean()\nfig = go.Figure(data = [go.Pie(labels = entity.index, values = entity.values, pull=[0, 0, 0.2, 0])])\nfig.update_traces(hoverinfo = 'label+percent', textinfo = 'label+value', textfont_size=15, hole = 0.4,\n                  marker=dict(line = dict(color = '#000000', width = 2)))\nfig.update_layout( title_text=\"Average Life Expectancy 1800-2016\", \n                  annotations = [dict(text = 'Life Expectancy', x = 0.50, y = 0.5, font_size = 12, showarrow = False)])\nfig.show()","1e46a77b":"countries = dataset['Entity'].unique()\nfor country in countries:\n    data = dataset[['Life expectancy','Year']][dataset['Entity'] == country ]\n    fig = px.line(data, x = 'Year', y = 'Life expectancy', title = f\"{country}'s Life Expectancy\",\n                 labels = {'Life expectancy': 'Life Expectancy'})\n    fig.show()","e70bdd4e":"fig = make_subplots(rows = 1, cols = 1)\nfor country in countries:\n    data = dataset[['Life expectancy','Year']][dataset['Entity'] == country]\n    fig.add_trace(go.Scatter(x = data['Year'], y = data['Life expectancy'], name = country))\nfig.update_layout(title_text = \"Overall comparision of different countries life expectancy\")\nfig.show()","372351c4":"scl = [[0.0, '#ffffff'],[0.2, '#b4a8ce'],[0.4, '#8573a9'],\n       [0.6, '#7159a3'],[0.8, '#5732a1'],[1.0, '#2c0579']]\n\ndata_slider = []\nfor year in dataset['Year'].unique():\n    segmented =  dataset[(dataset['Year']== year)]\n\n    for col in segmented.columns:\n        segmented[col] = segmented[col].astype(str)\n\n    data_each_yr = dict(\n                        type='choropleth',\n                        locations = segmented['Entity'],\n                        z = segmented['Life expectancy'].astype(float),\n                        locationmode = 'country names',\n                        colorscale = scl,\n                        colorbar= {'title':'Life Expectancy'})\n\n    data_slider.append(data_each_yr)\n\nsteps = []\nfor i in range(len(data_slider)):\n    step = dict(method = 'restyle',\n                args = ['visible', [False] * len(data_slider)],\n                label = 'Year {}'.format(i + 1800))\n    step['args'][1][i] = True\n    steps.append(step)\n\nsliders = [dict(active=0, pad={\"t\": 1}, steps=steps)]\n\nlayout = dict(title ='Overall Life Expectancy per country', geo=dict(scope = 'world', projection = {'type': 'equirectangular'}),\n              sliders = sliders)\n\nfig = dict(data=data_slider, layout = layout)\nplotly.offline.iplot(fig, show_link = True)","1aa54fe1":"data_America = dataset[dataset['Entity'].isin(['Brazil', 'Canada', 'United States'])]\npx.scatter(data_America, x = \"Year\", y = \"Life expectancy\", animation_frame = \"Year\", animation_group = \"Entity\",\n           size = \"Life expectancy\", color = \"Entity\", hover_name = \"Entity\", size_max = 45, range_x=[1790, 2020], range_y=[0,90])","7980ea8d":"data_Asia = dataset[dataset['Entity'].isin(['China', 'India', 'Japan','Russia'])]\npx.scatter(data_Asia, x = \"Year\", y = \"Life expectancy\", animation_frame = \"Year\", animation_group = \"Entity\",\n           size = \"Life expectancy\", color = \"Entity\", hover_name = \"Entity\", size_max = 45, range_x=[1790, 2020], range_y=[0,90])","03f1bd48":"data_Europe = dataset[dataset['Entity'].isin(['France', 'Germany','Italy','Spain','Switzerland', 'United Kingdom'])]\npx.scatter(data_Europe, x = \"Year\", y = \"Life expectancy\", animation_frame = \"Year\", animation_group = \"Entity\",\n           size = \"Life expectancy\", color = \"Entity\", hover_name = \"Entity\", size_max = 45, range_x=[1790, 2020], range_y=[0,90])","dc059ab1":"## Exploratory Data Analysis","7d015c3c":"Overall there are 15 countries for analysis","98dbd476":"**Basic Analysis of the 'Life expectancy column'**","ddddd40b":"**Line chart for comaprision of Life Expectancy of various countries**","778b01c5":"**Life Expectancy of the Americas**","89cebfcb":"## Basic Data Wrangling ","ccc1fcbc":"**Life Expeactancy per country**","0910fb3b":"**Life Expectancy of Asian countires**","f306de9e":"- The average life expectancy of all the countires considered together is around 49 years.\n- The highest life expectancy was found to be 83.9 years in the United States of America in the year 2016.\n- The lowest recorded life expectency was found to be around 8 in Australia, in the year 1800.","f4f2c3dd":"### Thank you for your time.","d5229415":"**Overall Life Expectancy of The Entire World**","7258563c":"**Life Expectancy of European Union**","7bd2d75a":"'Year' column ranges from 1800-2016"}}