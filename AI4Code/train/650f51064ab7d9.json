{"cell_type":{"8ec99651":"code","943ab86e":"code","b482b47f":"code","32566c42":"code","8979ab63":"code","a63996f2":"code","57d75b0b":"code","7ff22469":"code","dc9b7271":"code","123f3464":"code","971722b6":"code","8bb4d7be":"code","900334e7":"code","eb6984fd":"code","78d6898a":"code","491aee7e":"code","7475a16a":"code","f60eddb9":"code","4cce4da8":"code","bf86000d":"code","0724b89e":"code","bee70be1":"code","78964bd5":"code","6650eba5":"code","744e94ec":"code","3b5f9260":"code","105783ca":"markdown","343f5d72":"markdown","a8d3608b":"markdown","5ce5ee2f":"markdown","7328ecf1":"markdown","cf45f291":"markdown","dae44a77":"markdown","7500c546":"markdown","538716c2":"markdown","4cc1e141":"markdown","e739ecda":"markdown","3821119c":"markdown","16bb17d8":"markdown","6afffd3e":"markdown","9a2a3acd":"markdown","3787be3e":"markdown","18948439":"markdown","24942af4":"markdown","647f3515":"markdown"},"source":{"8ec99651":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go","943ab86e":"deliveries = pd.read_csv(\"..\/input\/ipldata\/deliveries.csv\")\nmatches= pd.read_csv(\"..\/input\/ipldata\/matches.csv\")\ndeliveries.head()","b482b47f":"matches.head()","32566c42":"batting_tot=deliveries.groupby('batsman').apply(lambda x:np.sum(x['batsman_runs'])).reset_index(name='Runs')\nbatting_sorted=batting_tot.sort_values(by='Runs',ascending=False)\ntop_batsmen=batting_sorted[:10] \nprint('The Top 10 Batsmen in thr Tournament are:\\n',top_batsmen)\nfig = px.bar(top_batsmen, x='batsman', y='Runs',\n             hover_data=['batsman'], color='Runs',title='Top 10 Batsmen in IPL- Seasons 2008-2019')\nfig.show()","8979ab63":"batting_ings=deliveries.groupby(['match_id','batsman']).apply(lambda x:np.sum(x['batsman_runs'])).reset_index(name='Innings Runs')\nbatting_ings_sorted=batting_ings.sort_values(by='Innings Runs',ascending=False)\ntop_batsmen_scores=batting_ings_sorted[:10] \nbatsman_ball_faced=deliveries.groupby(['match_id','batsman']).apply(lambda x:x['batsman_runs'].count()).reset_index(name='Balls Faced')\nbatsmen_performance=pd.merge(top_batsmen_scores,batsman_ball_faced,how='inner',left_on=['match_id','batsman'],right_on=['match_id','batsman'])\nbatsmen_performance['Strike Rate for Match']=batsmen_performance['Innings Runs']*100\/batsmen_performance['Balls Faced']\nbatsmen_innings=pd.merge(batsmen_performance,deliveries,how='inner',left_on=['match_id','batsman'],right_on=['match_id','batsman'])\nbatsmen_innings_req=batsmen_innings.iloc[:,1:8]\nbatsmen_innings_req_2=batsmen_innings_req.drop_duplicates()\nprint('The Top 10 Batting Performances in the IPL History are:\\n',batsmen_innings_req_2)\nx=batsmen_innings_req_2['batsman']\ny1=batsmen_innings_req_2['Strike Rate for Match']\ny2=batsmen_innings_req_2['Innings Runs']\nplt.figure(figsize=(10,5))\nplt.scatter(x,y1)\nplt.scatter(x,y2)\nplt.xlabel('Batsmen',size=15)\nplt.ylabel('Strike Rate\/Innings Score',size=15)\nplt.title('IPL Best batting performances in a Match',size=20)\nplt.xticks(rotation=60)\nplt.legend(['Strike Rate','Runs'],prop={'size':20})","a63996f2":"bowling_wickets=deliveries[deliveries['dismissal_kind']!='run out']\nbowling_tot=bowling_wickets.groupby('bowler').apply(lambda x:x['dismissal_kind'].dropna()).reset_index(name='Wickets')\nbowling_wick_count=bowling_tot.groupby('bowler').count().reset_index()\nbowling_top=bowling_wick_count.sort_values(by='Wickets',ascending=False)\ntop_bowlers=bowling_top.loc[:,['bowler','Wickets']][0:10] \nprint('The Top Wicket Takers in the Tournament are:\\n',top_bowlers)\nfig = px.bar(top_bowlers, x='bowler', y='Wickets',\n             hover_data=['bowler'], color='Wickets',title='Top 10 Bowlers in IPL- Seasons 2008-2019')\nfig.show()","57d75b0b":"match_bowling_tot=bowling_wickets.groupby(['match_id','bowler']).apply(lambda x:x['dismissal_kind'].dropna()).reset_index(name='Wickets')\nmatch_bowling_wick_count=match_bowling_tot.groupby(['match_id','bowler']).count().reset_index()\nmatch_bowling_top=match_bowling_wick_count.sort_values(by='Wickets',ascending=False)\nmatch_top_bowlers=match_bowling_top.loc[:,['match_id','bowler','Wickets']][0:10] \nmatch_bowling_runs=deliveries.groupby(['match_id','bowler']).apply(lambda x:np.sum(x['total_runs'])).reset_index(name='Runs Conceeded')\nmatch_bowler_performance=pd.merge(match_top_bowlers,match_bowling_runs,how='inner',left_on=['match_id','bowler'],right_on=['match_id','bowler'])\nmatch_bowler_performance['Runs per Wicket']=match_bowler_performance['Runs Conceeded']\/match_bowler_performance['Wickets']\nbowler_innings=pd.merge(match_bowler_performance,deliveries,how='inner',left_on=['match_id','bowler'],right_on=['match_id','bowler'])\nbowler_innings_req=bowler_innings.iloc[:,1:8]\nbowler_innings_req_2=bowler_innings_req.drop_duplicates()\nprint('The Top 10 Batting Performances in the IPL History are:\\n',bowler_innings_req_2)\nx=bowler_innings_req_2['bowler']\ny1=bowler_innings_req_2['Wickets']\ny2=bowler_innings_req_2['Runs per Wicket']\nplt.figure(figsize=(10,5))\nplt.scatter(x,y1)\nplt.plot(x,y2,'r')\nplt.xlabel('Bowlers',size=15)\nplt.ylabel('Runs per Wicket\/Wickets',size=15)\nplt.title('IPL Best bowling performances in a Match',size=20)\nplt.xticks(rotation=60)\nplt.legend(['Runs per Wicket','Wickets'],prop={'size':15})","7ff22469":"fielder_list=deliveries.groupby('fielder').apply(lambda x:x).dropna().reset_index()\nfielder_list_count=fielder_list.groupby('fielder').count()\nfielder_list_counts=fielder_list_count['dismissal_kind'].reset_index(name='Dismissals')\nfielder_list_max=fielder_list_counts.sort_values(by='Dismissals',ascending=False)\ntop_fielders=fielder_list_max[0:10]\nprint('The Best Fielders(and WicketKeepers) in the Torunament are:\\n',top_fielders)\n\nfig = px.bar(top_fielders, x='fielder', y='Dismissals',\n             hover_data=['fielder'], color='Dismissals',title='Top 10 Fielders in IPL- Seasons 2008-2019')\nfig.show()","dc9b7271":"df = deliveries['dismissal_kind'].value_counts().reset_index()\ndf.columns = ['Dismissal Kind', 'Count']\nfig = px.pie(df, values='Count', names='Dismissal Kind',title='Most common ways of dismissal in IPL 2019')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","123f3464":"df = deliveries.loc[deliveries['is_super_over']==1, ['bowler','is_super_over']].copy()\ndf['total_balls'] = df.groupby('bowler')['is_super_over'].transform('count')\ndf = df.drop('is_super_over',axis=1).drop_duplicates().reset_index(drop=True).sort_values('total_balls', ascending=False).head(15)\nfig = df.plot(kind='bar', x='bowler', y='total_balls',title='Bowlers who bowled most balls in super overs')","971722b6":"MSD_matches = deliveries[deliveries[\"batsman\"] == \"MS Dhoni\"]\nMSD_matches.head()","8bb4d7be":"unique_list = MSD_matches[\"match_id\"].unique().tolist()","900334e7":"len(unique_list)","eb6984fd":"MSD = []\nfor i in unique_list:\n    MSD_df = matches[matches[\"id\"]==i]\n    MSD.append(MSD_df.iloc[0])","78d6898a":"df = pd.DataFrame(MSD)","491aee7e":"df[\"date\"] = pd.to_datetime(df[\"date\"])","7475a16a":"df = df.sort_values(by = \"date\")","f60eddb9":"runs = []\nballs = []\nsr = []\nten = []\nten_30 = []\nthirty_plus = []\nfor index,row in df.iterrows():\n    match_id = row[\"id\"]\n    temp = deliveries[(deliveries[\"match_id\"]== match_id) & (deliveries[\"batsman\"] == \"MS Dhoni\")]\n    temp2 = temp[temp[\"wide_runs\"]==0]\n    runs.append(temp[\"batsman_runs\"].sum())\n    msd_balls = len(temp[temp[\"wide_runs\"]==0])\n    balls.append(msd_balls)\n    if(msd_balls <=10):\n        ten.append(temp[\"batsman_runs\"].sum())\n        ten_30.append(0)\n        thirty_plus.append(0)\n    elif((msd_balls >10) & (msd_balls <=30)):\n        ten.append(temp2.iloc[0:10][\"batsman_runs\"].sum())\n        ten_30.append(temp2.iloc[10:][\"batsman_runs\"].sum())\n        thirty_plus.append(0)\n    else:\n        ten.append(temp2.iloc[0:10][\"batsman_runs\"].sum())\n        ten_30.append(temp2.iloc[10:30][\"batsman_runs\"].sum())\n        thirty_plus.append(temp2.iloc[30:][\"batsman_runs\"].sum())","4cce4da8":"df[\"runs\"] = runs\ndf[\"balls\"] = balls\ndf[\"ten\"] = ten\ndf[\"ten_30\"] = ten_30\ndf[\"thirty_plus\"] = thirty_plus\ndf[\"sr\"] = (df[\"runs\"]\/df[\"balls\"])*100","bf86000d":"season = df.groupby([\"season\"])\nseason","0724b89e":"df1 = season.mean()","bee70be1":"x_axis = df1.index.tolist()","78964bd5":"y_axis = df1[\"runs\"]","6650eba5":"plt.style.use('dark_background')\nplt.bar(x_axis,y_axis)","744e94ec":"plt.style.use('dark_background')\nplt.bar(x_axis,df1[\"thirty_plus\"])","3b5f9260":"plt.style.use('dark_background')\nplt.bar(x_axis,df1[\"sr\"])","105783ca":"# Reading Data","343f5d72":"# Ways of dismissal","a8d3608b":"# Creating the list of the Top 10 highest scorers in a match","5ce5ee2f":"We can see from the graph that runs scored after 30+ delivers have increased very much in season 2019","7328ecf1":"# Grouping the Data Season wise","cf45f291":"# Creating a list of the top 10 fielders (including Wicket Keepers)","dae44a77":"**Observation**: Wicketkeepers have a better dismissal record. Out of the top 10, 4 have been regular keepers while 2 have been part-time keepers. One of the primary reason is stumpings are credited only to wicketkeepers. Although it is actually unfair to map the fielders and Wicket keeprs- but since in the data there is no distinction available based on the position of the players- and many Wicket Keepers have also played matches- as normal fielders, we go ahead with the given explanation","7500c546":"# Calculating Runs, Balls, Strike Rate, Runs in first 10 balls , Runs in 10-30 balls and Runs after 30+balls","538716c2":"# Creating the list of Top 10 Scoring Batsman","4cc1e141":"# Importing Libraries","e739ecda":"Run Out is not considered as a wicket in the Bowler's account- hence we shall be removing them first","3821119c":"# Creating a list of the Top 10 Wicket Takers in a match of IPL","16bb17d8":"Indian Premier League (better known as IPL) is a short format (T-20) Mens Cricket tournament that is hosted in India. It is currently presided over by the Board of Cricket Control of India (BCCI). The Tournament comprises of 8 teams who complete with each other in a league format, which is followed by a knockout Stage. Some of the Teams who Played previously are no more in action (For e.g. Deccan Chargers, Kochi Tuskers, Gujrat Lions, Pune Warriors etc). Two teams have been banned for two seasons, but have been a part of the tournament for the rest. Lets check upon our analysis furthur. Just a note, the data available over her is from 2008-2019, and all the data findings have been as per the data.","6afffd3e":"# Creating a list of the top 10 Bowlers with highest number of wickets","9a2a3acd":"# Matches in which MSD came to bat","3787be3e":"# 30+ v\/s Year","18948439":"# Runs v\/s Year","24942af4":"# Strike Rate v\/s Year","647f3515":"# Interesting statistics related to bowlers"}}