{"cell_type":{"cac09a1a":"code","590e1805":"code","4348f20e":"code","c65c65db":"code","77d73a44":"code","6ffbdd3c":"code","810ee946":"code","380dda97":"code","85474a16":"code","a1ca5360":"code","c6bdc205":"code","ffd31456":"code","3f076a78":"code","2146d056":"code","af687222":"code","fff0a447":"code","8e431dcd":"code","befa2800":"code","0266ae9f":"code","b31a3275":"code","d5d541b5":"code","6f82c3cb":"code","9f16477f":"code","d4351f6e":"code","d291c403":"code","7205764e":"code","26ba8a34":"code","c1ea56e1":"code","4896b0e3":"code","3811f411":"code","d3adccb4":"code","d5b48b81":"code","bd100c17":"code","a96b562f":"markdown","fa69b6bb":"markdown","b5228b9d":"markdown","31c69e3b":"markdown","f3a2a708":"markdown","bd76ae14":"markdown","11562a3e":"markdown","81e06963":"markdown","32c16480":"markdown","91ac8f98":"markdown","0fca32d7":"markdown","303f7493":"markdown","eb254af3":"markdown","f661d1f9":"markdown","1a2b2e6c":"markdown","49129582":"markdown","e08dab47":"markdown","aa7dfabc":"markdown","c146a6bb":"markdown","17af5c56":"markdown","340446e2":"markdown","ece56959":"markdown","090ad008":"markdown","3e1f3e5a":"markdown","dccb8738":"markdown"},"source":{"cac09a1a":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","590e1805":"df = pd.read_csv('..\/input\/pokemon\/pokemon_alopez247.csv')","4348f20e":"df.info()","c65c65db":"df.describe()","77d73a44":"sns.heatmap(df.isnull(),yticklabels=False,cbar=False,cmap='viridis')","6ffbdd3c":"def impute_Type_2(cols):\n    Type_2 = cols[0]\n    \n    if pd.isnull(Type_2):\n        return \"None\"\n\n\n    else:\n        return Type_2","810ee946":"df['Type_2'] = df[['Type_2']].apply(impute_Type_2,axis=1)","380dda97":"def impute1(cols):\n    Name = cols[0]\n    return 1","85474a16":"df['Unic'] = df.apply(impute1,axis=1)","a1ca5360":"sns.heatmap(df.isnull(),yticklabels=False,cbar=False,cmap='viridis')","c6bdc205":"pt_df = df.pivot_table(values='Unic',index='Type_1',columns='Type_2',aggfunc=np.sum)\nplt.figure(figsize=(12,8))\nsns.heatmap(pt_df,cmap='coolwarm',annot=True)","ffd31456":"plt.figure(figsize = (20,8))\nsns.boxplot(data = df)","3f076a78":"plt.figure(figsize=(12,8))\nsns.axes_style(\"white\")\nsns.boxplot(x='Generation',y='Total',data=df,palette='rainbow')\n","2146d056":"plt.figure(figsize=(12,8))\nsns.swarmplot(x='Generation',y='Total',data=df,palette='rainbow')","af687222":"plt.figure(figsize=(12,8))\nax=sns.countplot(y='Body_Style',data=df)\nfor p in ax.patches:\n    ax.annotate(int(p.get_width()),((p.get_x() + p.get_width()), p.get_y()), xytext=(15, -18),fontsize=9,color='#004d00',textcoords='offset points', horizontalalignment='right')\n","fff0a447":"plt.figure(figsize=(12,8))\nsplot = sns.countplot(x='isLegendary',data=df, hue=\"hasGender\")\nfor p in splot.patches:\n    splot.annotate(format(p.get_height(), '.2f'), (p.get_x() + p.get_width() \/ 2., p.get_height()), ha = 'center', va = 'center', xytext = (0, 10), textcoords = 'offset points')","8e431dcd":"plt.figure(figsize=(12,8))\nsns.scatterplot(x='Weight_kg',y='Height_m',data=df,hue='Body_Style')","befa2800":"plt.figure(figsize=(12,8))\nsns.scatterplot(x='Speed',y='Height_m',data=df,hue='Body_Style')","0266ae9f":"sns.set_style('white')\nplt.figure(figsize=(12,8))\nsns.scatterplot(x='Speed',y='Weight_kg',data=df,hue='Body_Style')","b31a3275":"sns.set_style(\"darkgrid\")\nsns.lmplot(x='Weight_kg',y='Height_m',data=df,row='Body_Style',height=10)","d5d541b5":"sns.set_style('white')\nsns.jointplot(x='Catch_Rate',y='Total',data=df,kind='scatter')","6f82c3cb":"df.drop(['Number','Name','Type_1','Type_2','Color','Generation','Pr_Male','Egg_Group_1','Egg_Group_2','hasMegaEvolution','Body_Style','Unic'],axis=1,inplace=True)\n\n","9f16477f":"df.info()","d4351f6e":"sns.pairplot(df,hue='isLegendary',palette='bwr',diag_kws={'bw': 0.2})\n","d291c403":"from sklearn.model_selection import train_test_split","7205764e":"X = df.drop('isLegendary',axis=1)\ny = df['isLegendary']\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30)","26ba8a34":"from sklearn.ensemble import RandomForestClassifier","c1ea56e1":"rfc = RandomForestClassifier(n_estimators=600)","4896b0e3":"rfc.fit(X_train,y_train)","3811f411":"predictions = rfc.predict(X_test)","d3adccb4":"from sklearn.metrics import classification_report,confusion_matrix","d5b48b81":"print(classification_report(y_test,predictions))","bd100c17":"print(confusion_matrix(y_test,predictions))","a96b562f":"Let's check how the data looks.\n\nVamos verificar como ficaram os dados.","fa69b6bb":"## About the data frame\nSource:https:\/\/www.kaggle.com\/alopez247\/pokemon\n\n\"Context\n\nWith the rise of the popularity of machine learning, this is a good opportunity to share a wide database of the even more popular video-game Pok\u00e9mon by Nintendo, Game freak, and Creatures, originally released in 1996.\n\nPok\u00e9mon started as a Role Playing Game (RPG), but due to its increasing popularity, its owners ended up producing many TV series, manga comics, and so on, as well as other types of video-games (like the famous Pok\u00e9mon Go!).\n\nThis dataset is focused on the stats and features of the Pok\u00e9mon in the RPGs. Until now (08\/01\/2017) seven generations of Pok\u00e9mon have been published. All in all, this dataset does not include the data corresponding to the last generation, since 1) I created the databased when the seventh generation was not released yet, and 2) this database is a modification+extension of the database \"721 Pokemon with stats\" by Alberto Barradas (https:\/\/www.kaggle.com\/abcsds\/pokemon), which does not include (of course) the latest generation either.\n\nContent\n\nThis database includes 21 variables per each of the 721 Pok\u00e9mon of the first six generations, plus the Pok\u00e9mon ID and its name. These variables are briefly described next:\n\n- Number. Pok\u00e9mon ID in the Pok\u00e9dex.\n- Name. Name of the Pok\u00e9mon.\n- Type_1. Primary type.\n- Type_2. Second type, in case the Pok\u00e9mon has it.\n- Total. Sum of all the base stats (Health Points, Attack, Defense, Special Attack, Special Defense, and Speed).\n- HP. Base Health Points.\n- Attack. Base Attack.\n- Defense. Base Defense.\n- Sp_Atk. Base Special Attack.\n- Sp_Def. Base Special Defense.\n- Speed. Base Speed.\n- Generation. Number of the generation when the Pok\u00e9mon was introduced.\n- isLegendary. Boolean that indicates whether the Pok\u00e9mon is Legendary or not.\n- Color. Color of the Pok\u00e9mon according to the Pok\u00e9dex.\n- hasGender. Boolean that indicates if the Pok\u00e9mon can be classified as female or male.\n- Pr_male. In case the Pok\u00e9mon has Gender, the probability of its being male. The probability of being female is, of course, 1 -minus this value.\n- EggGroup1. Egg Group of the Pok\u00e9mon.\n- EggGroup2. Second Egg Group of the Pok\u00e9mon, in case it has two.\n- hasMegaEvolution. Boolean that indicates whether the Pok\u00e9mon is able to Mega-evolve or not.\n- Height_m. Height of the Pok\u00e9mon, in meters.\n- Weight_kg. Weight of the Pok\u00e9mon, in kilograms.\n- Catch_Rate. Catch Rate.\n- Body_Style. Body Style of the Pok\u00e9mon according to the Pok\u00e9dex.\n\nNotes\n\nPlease note that many Pok\u00e9mon are multi-form, and also some of them can Mega-evolve. I wanted to keep the structure of the dataset as simple and general as possible, as well as the Number variable (the ID of the Pok\u00e9mon) unique. Hence, in the cases of the multi-form Pok\u00e9mon, or the ones capable of Mega-evolve, I just chose one of the forms, the one I (and my brother) considered the standard and\/or the most common. The specific choice for each of this Pok\u00e9mon are shown below:\n\n- Mega-Evolutions are not considered as Pok\u00e9mon.\n- Kyogre, Groudon. Primal forms not considered.\n- Deoxis. Only normal form considered.\n- Wormadam. Only plant form considered.\n- Rotom. Only normal form considered, the one with types Electric and Ghost.\n- Giratina. Origin form considered.\n- Shaymin. Land form considered.\n- Darmanitan. Standard mode considered.\n- Tornadus, Thundurus, Landorus. Incarnate form considered.\n- Kyurem. Normal form considered, not white or black forms.\n- Meloetta. Aria form considered.\n- Mewstic. Both female and male forms are equal in the considered variables.\n- Aegislash. Shield form considered.\n- Pumpkaboo, Gourgeist. Average size considered.\n- Zygarde. 50% form considered.\n- Hoopa. Confined form considered.\n\nAcknowledgements\n\nAs said at the beginning, this database was based on the Kaggle database \"721 Pokemon with stats\" by Alberto Barradas (https:\/\/www.kaggle.com\/abcsds\/pokemon). The other resources I mainly used are listed below:\n\n- WikiDex (http:\/\/es.pokemon.wikia.com\/wiki\/WikiDex).\n- Bulbapedia, the community driven Pok\u00e9mon encyclopedia (http:\/\/bulbapedia.bulbagarden.net\/wiki\/Main_Page).\n- Smogon University (http:\/\/www.smogon.com\/).\n\nPossible future work\n\nThis dataset can be used with different objectives, such as, Pok\u00e9mon clustering, trying to find relations or dependencies between the variables, and also for supervised classification purposes, where the class could be the Primary Type, but also many of the other variables.\"\n\nAuthor\n\nAsier L\u00f3pez Zorrilla\n\n## Sobre a base de dados\n\nFonte:https:\/\/www.kaggle.com\/alopez247\/pokemon\n\n\"Com o aumento da popularidade do aprendizado de m\u00e1quina, esta \u00e9 uma boa oportunidade para compartilhar um amplo banco de dados do ainda mais popular videogame Pok\u00e9mon da Nintendo, Game freak e Creatures, originalmente lan\u00e7ado em 1996.\n\nPok\u00e9mon come\u00e7ou como um RPG (RPG), mas devido \u00e0 sua crescente popularidade, seus propriet\u00e1rios acabaram produzindo muitas s\u00e9ries de TV, mang\u00e1s e assim por diante, al\u00e9m de outros tipos de videogame (como o famoso Pok\u00e9mon Go! )\n\nEste conjunto de dados se concentra nas estat\u00edsticas e recursos do Pok\u00e9mon nos RPGs. At\u00e9 agora (01\/08\/2017) sete gera\u00e7\u00f5es de Pok\u00e9mon foram publicadas. Em suma, este conjunto de dados n\u00e3o inclui os dados correspondentes \u00e0 \u00faltima gera\u00e7\u00e3o, pois 1) criei o banco de dados quando a s\u00e9tima gera\u00e7\u00e3o ainda n\u00e3o havia sido lan\u00e7ada, e 2) este banco de dados \u00e9 uma modifica\u00e7\u00e3o + extens\u00e3o do banco de dados \"721 Pok\u00e9mon com stats \"de Alberto Barradas ( https:\/\/www.kaggle.com\/abcsds\/pokemon), que tamb\u00e9m n\u00e3o inclui (\u00e9 claro) a \u00faltima gera\u00e7\u00e3o.\n\nConte\u00fado\n\nEste banco de dados inclui 21 vari\u00e1veis \u200b\u200bpara cada um dos 721 Pok\u00e9mon das primeiras seis gera\u00e7\u00f5es, mais o ID do Pok\u00e9mon e seu nome. Essas vari\u00e1veis \u200b\u200bs\u00e3o brevemente descritas a seguir:\n\n- N\u00famero. ID Pok\u00e9mon na Pok\u00e9dex.\n- Nome. Nome do Pok\u00e9mon.\n- Tipo 1. Tipo prim\u00e1rio.\n- Tipo 2. Segundo tipo, caso o Pok\u00e9mon o tenha.\n- Total. Soma de todas as estat\u00edsticas b\u00e1sicas (pontos de sa\u00fade, ataque, defesa, ataque especial, defesa especial e velocidade).\n- HP. Pontos de sa\u00fade b\u00e1sicos.\n- Ataque. Ataque b\u00e1sico.\n- Defesa. Defesa de base.\n- Sp_Atk. Ataque especial b\u00e1sico.\n- Sp_Def. Defesa especial da base.\n- Rapidez. Velocidade base.\n- Gera\u00e7\u00e3o. N\u00famero da gera\u00e7\u00e3o quando o Pok\u00e9mon foi introduzido.\n- isLegendary. Booleano que indica se o Pok\u00e9mon \u00e9 Lend\u00e1rio ou n\u00e3o.\n- Cor. Cor do Pok\u00e9mon de acordo com o Pok\u00e9dex.\n- hasGender. Booleano que indica se o Pok\u00e9mon pode ser classificado como feminino ou masculino.\n- Pr_male. Caso o Pok\u00e9mon tenha Sexo, a probabilidade de ser do sexo masculino. A probabilidade de ser mulher \u00e9, obviamente, 1 menos esse valor.\n- Grupo de Ovos 1. Grupo de Ovos do Pok\u00e9mon.\n- Grupo de Ovos 2. Segundo Grupo de Ovos do Pok\u00e9mon, caso ele tenha dois.\n- hasMegaEvolution. Booleano que indica se o Pok\u00e9mon \u00e9 capaz de Megaevoluir ou n\u00e3o.\n- Height_m. Altura do Pok\u00e9mon, em metros.\n- Peso_kg. Peso do Pok\u00e9mon, em quilogramas.\n- Catch_Rate. Taxa de captura.\n- Body_Style. Estilo corporal do Pok\u00e9mon de acordo com o Pok\u00e9dex.\n\nNotas\n\nObserve que muitos Pok\u00e9mon t\u00eam v\u00e1rias formas e tamb\u00e9m alguns deles podem evoluir para Mega. Eu queria manter a estrutura do conjunto de dados o mais simples e geral poss\u00edvel, bem como a vari\u00e1vel Number (o ID do Pok\u00e9mon) \u00fanica. Assim, no caso do Pok\u00e9mon multiforma, ou capaz de Megaevoluir, escolhi apenas uma das formas, aquela que eu (e meu irm\u00e3o) considerava padr\u00e3o e \/ ou mais comum. A escolha espec\u00edfica para cada um deste Pok\u00e9mon \u00e9 mostrada abaixo:\n\n- Mega-Evolu\u00e7\u00f5es n\u00e3o s\u00e3o consideradas Pok\u00e9mon.\n- Kyogre, Groudon. Formas prim\u00e1rias n\u00e3o consideradas.\n- Deoxis. Apenas a forma normal considerada.\n- Wormadam. Apenas a forma da planta considerada.\n- Rotom. Apenas a forma normal considerada, aquela com os tipos El\u00e9trico e Fantasma .\n- Giratina. Forma de origem considerada.\n- Shaymin. Forma de terra considerada.\n- Darmanitan. Modo padr\u00e3o considerado.\n- Tornadus, Thundurus, Landorus. Considerada a forma encarnada.\n- Kyurem. Forma normal considerada, n\u00e3o formas brancas ou pretas.\n- Meloetta. Forma de Aria considerada.\n- Mewstic. As formas feminina e masculina s\u00e3o iguais nas vari\u00e1veis \u200b\u200bconsideradas.\n- Aegislash. Forma de escudo considerada.\n- Pumpkaboo, Gourgeist. Tamanho m\u00e9dio considerado.\n- Zygarde. 50% da forma considerada.\n- Hoopa. Forma confinada considerada.\"","b5228b9d":"\n### Global analysis of data variation\n\n### An\u00e1lise global da varia\u00e7\u00e3o dos dados","31c69e3b":"## Data analysis\nNext, we will do some demonstrative analysis of the database.\n\n## An\u00e1lise dos dados\nA seguir, faremos algumas an\u00e1lises demonstrativas dos dados.\n","f3a2a708":"### Step 4: Import the method to be used\n### Etapa 4: Importar o m\u00e9todo a ser utilizado","bd76ae14":"## Data frame\n\n## Importa\u00e7\u00e3o da base de dados","11562a3e":"### Variation from the sum of status by generation.\n\n### Varia\u00e7\u00e3o da somat\u00f3ria dos status por gera\u00e7\u00e3o.","81e06963":"### Step 1: filter the columns to be used\n### Etapa 1: filtrar as colunas a serem utilizados","32c16480":"### Difference between normal and legendary Pok\u00e9mons\n\n### Diferen\u00e7a entre as quantidades de pokemons normais e lend\u00e1dios ","91ac8f98":"## Machine learning (Random Forest method)","0fca32d7":"### Correlation between weight, height, speed and body type\n### Corela\u00e7\u00e3o entre peso, altura, velocidade e tipo de corpo","303f7493":"## Import libraries\n\n## Importar bibliotecas\n","eb254af3":"We will complete the missing data for \"Type_2\" with \"None\".\n\nVamos completar os dados faltantes de \"Type_2\" com \"None\".","f661d1f9":"We will insert a column of data \"1\" that will help us later. We'll call it \"Unic\".\n\nVamos inserir uma coluna de dados \"1\" que ir\u00e1 nos auxiliar posteriormente.A chamaremos de \"Unic\".","1a2b2e6c":"## Through\n\nThe status characteristics, create an algorithm that predicts whether the pokemon is legendary or not.\n\n## Desafio\n\nAtr\u00e1vez das caracteristicas de status criar um algoritmo que preveja se o pokemon \u00e9 ou n\u00e3o lend\u00e1rio.","49129582":"# Pok\u00e9mon Analysis and Legendary Prediction [PT-BR\/EN-US]\nTags: Machine learning, Pok\u00e9mon, Data Science, Random Forest, Python, Seaborn, Pandas\n\nAuthor: Raphael Spinelli","e08dab47":"### Step 5: Apply the training method\n### Etapa 5: Aplicar o m\u00e9todo de treino","aa7dfabc":"### Amount of Pok\u00e9mon by \"Type_1\" and \"Type_2\"\n### Quantidade de pokemons por \"Type_1\" e \"Type_2\"","c146a6bb":"## Database information\n\n## Informa\u00e7\u00f5es da base de dados\n","17af5c56":"### Number of pokemon by body type (\"Body_Style\")\n\n### N\u00famero de pokemons por tipo de corpo (\"Body_Style\")","340446e2":"### Step 6: Test and verify the result\n### Etapa 6: Testar e verificar o resultado","ece56959":"### Step 2: Analyze the correlation between columns\n### Etapa 2: Analisar a correla\u00e7\u00e3o entre as colunas","090ad008":"## Checking for missing data \n\nIn yellow, the missing data from the database will be shown.\n\n## Verifica\u00e7\u00e3o de dados ausentes\n\nEm amarelo, estar\u00e3o mostrados os dados ausentes da base de dados","3e1f3e5a":"\n### Correlation between sum of status and chance of capture\n### Corela\u00e7\u00e3o entre somat\u00f3rio dos status e chance de capitura","dccb8738":"### Step 3: Separate the data between testing and training\n### Etapa 3: Separar os dados de teste e treino"}}