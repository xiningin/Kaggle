{"cell_type":{"afc92d3c":"code","03468c0f":"code","c8f2ed78":"code","1e341ba4":"code","999f80ce":"code","cb05a6ae":"code","2b277345":"code","12d9f8f3":"code","607a7726":"code","ebbf9630":"markdown","e204cc21":"markdown","2028db60":"markdown","80b7df92":"markdown","95774989":"markdown","aa486124":"markdown","5ed1ada5":"markdown","b2714eca":"markdown"},"source":{"afc92d3c":"# import libraries\n\nimport numpy as np\nimport pandas as pd\nimport gc\nimport os\nimport json\nfrom collections import Counter, defaultdict\nfrom tqdm.notebook import tqdm\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport plotly.express as px\nimport re\nyear_pattern = r'([1-2][0-9]{3})'","03468c0f":"with open('\/kaggle\/input\/arxiv\/authors-parsed.json', 'r') as f:\n    authors = json.load(f)\n# with open('\/kaggle\/input\/arxiv\/internal-citations.json', 'r') as f:\n#     citations = json.load(f)","c8f2ed78":"\"\"\"\nJson files in the dataset are huge. Sadly, python has certain memory problems when loading huge json files.\nAs a result, I read this file using `yield` and get necessary information from in in the loop.\n\"\"\"\n\ndef get_metadata():\n    with open('\/kaggle\/input\/arxiv\/arxiv-metadata-oai-snapshot.json', 'r') as f:\n        for line in f:\n            yield line","1e341ba4":"metadata = get_metadata()\nfor paper in metadata:\n    for k, v in json.loads(paper).items():\n        print(f'{k}: {v}')\n    break","999f80ce":"# https:\/\/arxiv.org\/help\/api\/user-manual\ncategory_map = {'astro-ph': 'Astrophysics',\n'astro-ph.CO': 'Cosmology and Nongalactic Astrophysics',\n'astro-ph.EP': 'Earth and Planetary Astrophysics',\n'astro-ph.GA': 'Astrophysics of Galaxies',\n'astro-ph.HE': 'High Energy Astrophysical Phenomena',\n'astro-ph.IM': 'Instrumentation and Methods for Astrophysics',\n'astro-ph.SR': 'Solar and Stellar Astrophysics',\n'cond-mat.dis-nn': 'Disordered Systems and Neural Networks',\n'cond-mat.mes-hall': 'Mesoscale and Nanoscale Physics',\n'cond-mat.mtrl-sci': 'Materials Science',\n'cond-mat.other': 'Other Condensed Matter',\n'cond-mat.quant-gas': 'Quantum Gases',\n'cond-mat.soft': 'Soft Condensed Matter',\n'cond-mat.stat-mech': 'Statistical Mechanics',\n'cond-mat.str-el': 'Strongly Correlated Electrons',\n'cond-mat.supr-con': 'Superconductivity',\n'cs.AI': 'Artificial Intelligence',\n'cs.AR': 'Hardware Architecture',\n'cs.CC': 'Computational Complexity',\n'cs.CE': 'Computational Engineering, Finance, and Science',\n'cs.CG': 'Computational Geometry',\n'cs.CL': 'Computation and Language',\n'cs.CR': 'Cryptography and Security',\n'cs.CV': 'Computer Vision and Pattern Recognition',\n'cs.CY': 'Computers and Society',\n'cs.DB': 'Databases',\n'cs.DC': 'Distributed, Parallel, and Cluster Computing',\n'cs.DL': 'Digital Libraries',\n'cs.DM': 'Discrete Mathematics',\n'cs.DS': 'Data Structures and Algorithms',\n'cs.ET': 'Emerging Technologies',\n'cs.FL': 'Formal Languages and Automata Theory',\n'cs.GL': 'General Literature',\n'cs.GR': 'Graphics',\n'cs.GT': 'Computer Science and Game Theory',\n'cs.HC': 'Human-Computer Interaction',\n'cs.IR': 'Information Retrieval',\n'cs.IT': 'Information Theory',\n'cs.LG': 'Machine Learning',\n'cs.LO': 'Logic in Computer Science',\n'cs.MA': 'Multiagent Systems',\n'cs.MM': 'Multimedia',\n'cs.MS': 'Mathematical Software',\n'cs.NA': 'Numerical Analysis',\n'cs.NE': 'Neural and Evolutionary Computing',\n'cs.NI': 'Networking and Internet Architecture',\n'cs.OH': 'Other Computer Science',\n'cs.OS': 'Operating Systems',\n'cs.PF': 'Performance',\n'cs.PL': 'Programming Languages',\n'cs.RO': 'Robotics',\n'cs.SC': 'Symbolic Computation',\n'cs.SD': 'Sound',\n'cs.SE': 'Software Engineering',\n'cs.SI': 'Social and Information Networks',\n'cs.SY': 'Systems and Control',\n'econ.EM': 'Econometrics',\n'eess.AS': 'Audio and Speech Processing',\n'eess.IV': 'Image and Video Processing',\n'eess.SP': 'Signal Processing',\n'gr-qc': 'General Relativity and Quantum Cosmology',\n'hep-ex': 'High Energy Physics - Experiment',\n'hep-lat': 'High Energy Physics - Lattice',\n'hep-ph': 'High Energy Physics - Phenomenology',\n'hep-th': 'High Energy Physics - Theory',\n'math.AC': 'Commutative Algebra',\n'math.AG': 'Algebraic Geometry',\n'math.AP': 'Analysis of PDEs',\n'math.AT': 'Algebraic Topology',\n'math.CA': 'Classical Analysis and ODEs',\n'math.CO': 'Combinatorics',\n'math.CT': 'Category Theory',\n'math.CV': 'Complex Variables',\n'math.DG': 'Differential Geometry',\n'math.DS': 'Dynamical Systems',\n'math.FA': 'Functional Analysis',\n'math.GM': 'General Mathematics',\n'math.GN': 'General Topology',\n'math.GR': 'Group Theory',\n'math.GT': 'Geometric Topology',\n'math.HO': 'History and Overview',\n'math.IT': 'Information Theory',\n'math.KT': 'K-Theory and Homology',\n'math.LO': 'Logic',\n'math.MG': 'Metric Geometry',\n'math.MP': 'Mathematical Physics',\n'math.NA': 'Numerical Analysis',\n'math.NT': 'Number Theory',\n'math.OA': 'Operator Algebras',\n'math.OC': 'Optimization and Control',\n'math.PR': 'Probability',\n'math.QA': 'Quantum Algebra',\n'math.RA': 'Rings and Algebras',\n'math.RT': 'Representation Theory',\n'math.SG': 'Symplectic Geometry',\n'math.SP': 'Spectral Theory',\n'math.ST': 'Statistics Theory',\n'math-ph': 'Mathematical Physics',\n'nlin.AO': 'Adaptation and Self-Organizing Systems',\n'nlin.CD': 'Chaotic Dynamics',\n'nlin.CG': 'Cellular Automata and Lattice Gases',\n'nlin.PS': 'Pattern Formation and Solitons',\n'nlin.SI': 'Exactly Solvable and Integrable Systems',\n'nucl-ex': 'Nuclear Experiment',\n'nucl-th': 'Nuclear Theory',\n'physics.acc-ph': 'Accelerator Physics',\n'physics.ao-ph': 'Atmospheric and Oceanic Physics',\n'physics.app-ph': 'Applied Physics',\n'physics.atm-clus': 'Atomic and Molecular Clusters',\n'physics.atom-ph': 'Atomic Physics',\n'physics.bio-ph': 'Biological Physics',\n'physics.chem-ph': 'Chemical Physics',\n'physics.class-ph': 'Classical Physics',\n'physics.comp-ph': 'Computational Physics',\n'physics.data-an': 'Data Analysis, Statistics and Probability',\n'physics.ed-ph': 'Physics Education',\n'physics.flu-dyn': 'Fluid Dynamics',\n'physics.gen-ph': 'General Physics',\n'physics.geo-ph': 'Geophysics',\n'physics.hist-ph': 'History and Philosophy of Physics',\n'physics.ins-det': 'Instrumentation and Detectors',\n'physics.med-ph': 'Medical Physics',\n'physics.optics': 'Optics',\n'physics.plasm-ph': 'Plasma Physics',\n'physics.pop-ph': 'Popular Physics',\n'physics.soc-ph': 'Physics and Society',\n'physics.space-ph': 'Space Physics',\n'q-bio.BM': 'Biomolecules',\n'q-bio.CB': 'Cell Behavior',\n'q-bio.GN': 'Genomics',\n'q-bio.MN': 'Molecular Networks',\n'q-bio.NC': 'Neurons and Cognition',\n'q-bio.OT': 'Other Quantitative Biology',\n'q-bio.PE': 'Populations and Evolution',\n'q-bio.QM': 'Quantitative Methods',\n'q-bio.SC': 'Subcellular Processes',\n'q-bio.TO': 'Tissues and Organs',\n'q-fin.CP': 'Computational Finance',\n'q-fin.EC': 'Economics',\n'q-fin.GN': 'General Finance',\n'q-fin.MF': 'Mathematical Finance',\n'q-fin.PM': 'Portfolio Management',\n'q-fin.PR': 'Pricing of Securities',\n'q-fin.RM': 'Risk Management',\n'q-fin.ST': 'Statistical Finance',\n'q-fin.TR': 'Trading and Market Microstructure',\n'quant-ph': 'Quantum Physics',\n'stat.AP': 'Applications',\n'stat.CO': 'Computation',\n'stat.ME': 'Methodology',\n'stat.ML': 'Machine Learning',\n'stat.OT': 'Other Statistics',\n'stat.TH': 'Statistics Theory'}","cb05a6ae":"year_categories = {}\nyear_abstract_words = {}\nyear_authors = {}\nmetadata = get_metadata()\nfor ind, paper in tqdm(enumerate(metadata)):\n    paper = json.loads(paper)\n    \n    # try to extract year\n    if paper['journal-ref']:\n        year = re.match(year_pattern, paper['journal-ref']).groups() if re.match(year_pattern, paper['journal-ref']) else None\n        if year:\n            year = [int(i) for i in year if int(i) < 2020 and int(i) >= 1991]\n            if year == []:\n                year = None\n            else:\n                year = min(year)\n    else:\n        year = None\n                    \n    if year:   \n        if year not in year_categories.keys():\n            year_categories[year] = defaultdict(int)\n            year_abstract_words[year] = defaultdict(int)\n            year_authors[year] = defaultdict(int)\n    # collect counts of various things over years\n    for cat in paper['categories']:\n        for c in cat.split():\n            if year:\n                year_categories[year][c] += 1\n    for word in paper['abstract'].replace('\\n', ' ').split():\n        if year:\n            year_abstract_words[year][word] += 1\n    paper_authors = authors.get(paper['id'])\n    if paper_authors:\n        if year:\n            for author in paper_authors:\n                year_authors[year][' '.join(author)] += 1","2b277345":"df = pd.DataFrame(year_categories)\ncats = []\nfor col in df.columns:\n    top_cats = [i for i in df[col].fillna(0).sort_values().index][-10:]\n    cats.extend(top_cats)\ncats = list(set(cats))\n\ndf1 = df.T[cats]\ndf1 = df1.sort_index()\ndf2 = df1.reset_index().melt(id_vars=['index'])\ndf2.columns = ['year', 'category', 'count']\nfig = px.line(df2, x=\"year\", y=\"count\", color='category')\nfig.show()","12d9f8f3":"for c in sorted(cats):\n    if c in category_map:\n        print(f\"{c}: {category_map[c]}\")","607a7726":"df = pd.DataFrame(year_authors)\nauthors = []\nfor col in df.columns:\n    top_authors = [i for i in df[col].fillna(0).sort_values().index][-10:]\n    authors.extend(top_authors)\nauthors = list(set(authors))\n\ndf1 = df.T[authors]\ndf1 = df1.sort_index()\ndf2 = df1.reset_index().melt(id_vars=['index'])\ndf2.columns = ['year', 'author', 'count']\nfig = px.line(df2, x=\"year\", y=\"count\", color='author', width=1600, height=600)\nfig.show()","ebbf9630":"We can see some prominent authors from many fields on study!","e204cc21":"## Number of papers by authors over years","2028db60":"I don't think I'll use all the information, which is available, but there are several interesting fields:\n* the authors of the paper\n* the title and the abstract\n* categories (in the cell below I made a dictionary to help understand abbreviations)\n* jornal-ref - this field should contain year.","80b7df92":"## Number of papers by categories over years\n\nI'll take top 10 most popular categories from each year and plot all of them.\n\n**A warning beforehand**! There is no field with data of the paper, so I extracted it from `journal-ref` with regex. There could be some errors in regex, also some papers don't have `journal-ref`.","95774989":"### preparing data","aa486124":"There are so many different and interesting trends!\n* for example, there are some fluctuations due to terminology - at first there were a lot of papers in `astro-ph` category, but later it was split in multiple categories\n* there was a surge in papers on astrophysics since 2010, but since 2014 `Cosmology and Nongalactic Astrophysics` became less popular than `Astrophysics of Galaxies`\n* of course, in the last several years there are many papers about `Machine Learning`","5ed1ada5":"Arxiv has more than 1.5m articles in many fields of study. It was founded by Paul Ginsparg in 1991 and maintained and operated by Cornell University.\n\nIn this kernel I work with metadata information from this dataset: https:\/\/www.kaggle.com\/Cornell-University\/arxiv\n\nIt contains metadata of papers and information about citations.\n\nLet's see what interesting insights can be extracted form this data!\n\n*Work is still in progress*\n\n![](https:\/\/storage.googleapis.com\/kaggle-public-downloads\/arXiv.JPG)","b2714eca":"## Looking at the available data"}}