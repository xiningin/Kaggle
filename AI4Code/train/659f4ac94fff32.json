{"cell_type":{"fe23e434":"code","278d0de1":"code","2061b308":"code","f3cb793e":"code","871e707d":"code","13f9a6c5":"code","799ac9b4":"code","17531184":"code","50c4cff5":"code","ca36bfda":"code","c5ee2f48":"code","433b8c17":"code","b1f6a3b2":"code","af031c98":"code","0dc8610f":"code","0e18f256":"code","2e7dcbaf":"code","72b820d3":"code","02ea7115":"code","b1aa3f33":"code","eab058b6":"code","1d24c7ed":"code","e3a34ab1":"code","d21d4426":"code","192d3776":"code","0c7d1bb9":"code","8af2509b":"code","efa03bf9":"code","e0d1754e":"markdown","2cff5d09":"markdown","862b0d50":"markdown","3c9dc1d7":"markdown","002b3b28":"markdown","a5e139f4":"markdown","db61c3c6":"markdown","08976176":"markdown","d36fc3df":"markdown"},"source":{"fe23e434":"#import library\nimport pandas as pd\nimport seaborn as sns\n%matplotlib inline","278d0de1":"#import data\n#https:\/\/archive.ics.uci.edu\/ml\/datasets\/Heart+failure+clinical+records\ndata = pd.read_csv(\"..\/input\/heart-failure-clinical\/heart_failure_clinical_records_dataset.csv\")\ndata.head(5)","2061b308":"data.shape","f3cb793e":"# print data\ndata","871e707d":"\n#import seaborn as sns\n#sns.pairplot(data)\n","13f9a6c5":"#cek data ada yang kosong atau tidak\ndata.isna().values.any()","799ac9b4":"#hapus jika ada data yang kosong\ndata.dropna(inplace=True)","17531184":"#cetak info colom\ndata.columns","50c4cff5":"#cetak info data\ndata.info()","ca36bfda":"#cetak data diskripsi\ndata.describe()","c5ee2f48":"#memasukan data ke featurure variable ke variable x\n#dan target variable ke variable y\n\nimport numpy as np\n\n\n\nx=np.array(data[['age','anaemia', 'creatinine_phosphokinase','diabetes', 'ejection_fraction', 'high_blood_pressure', 'platelets',\n       'serum_creatinine', 'serum_sodium','sex', 'smoking',\n       'time']])\ny=np.array(data['DEATH_EVENT'])","433b8c17":"x.shape\nx","b1f6a3b2":"y.shape\ny","af031c98":"#import library \nfrom sklearn.model_selection import train_test_split\nx_train,x_test,y_train,y_test = train_test_split(x, y,test_size=0.33, random_state=1)\n\n","0dc8610f":"#x_test","0e18f256":"#import library\n#from sklearn.naive_bayes import GaussianNB\n#from sklearn.neighbors import KNeighborsClassifier\n#from sklearn.svm import SVC\n#lr = GaussianNB()\n# lr = KNeighborsClassifier(n_neighbors=3)\n# lr = SVC()\n\nfrom sklearn.linear_model import LogisticRegression\nlr= LogisticRegression(solver='lbfgs',max_iter=10000)\n\n\n","2e7dcbaf":"lr.fit(x_train,y_train)","72b820d3":"pred=lr.predict(x_test)\n#cetak hasil prediksi\npred","02ea7115":"#import library\nfrom sklearn.metrics import accuracy_score\nfinal_model = LogisticRegression(solver='lbfgs',max_iter=10000)\nfinal_model.fit(x,y)\nprint('Final Model Acuracy : %s' %accuracy_score(y_test,final_model.predict(x_test)))\n","b1aa3f33":"#import library matric convusion\nfrom sklearn.metrics import classification_report,confusion_matrix\nprint(classification_report(y_test,pred))","eab058b6":"#cetak matrix convusion\nprint(confusion_matrix(y_test,pred))","1d24c7ed":"import joblib","e3a34ab1":"#Dump model sebagai joblib file\njoblib.dump(lr, 'deployed_model.joblib')","d21d4426":"#Load model dari joblib file\nproduction_model = joblib.load('deployed_model.joblib')","192d3776":"import numpy as np","0c7d1bb9":"#75.0,0,582,0,20,1,265000.00,1.9,130,1,0,4 ==>1\n#62.0,0,61,1,38,1,155000.00,1.1,143,1,1,270 ==>0\nnew_cases = np.array([[75.0,0,582,0,20,1,265000.00,1.9,130,1,0,4],\n                     [62.0,0,61,1,38,1,155000.00,1.1,143,1,1,270],\n                     ])\nnew_cases.reshape(1, -1)","8af2509b":"preds = production_model.predict(new_cases)\npreds","efa03bf9":"#for item in preds:\n #   print(data.DEATH_EVENT[item])","e0d1754e":"# 1. Load Data","2cff5d09":"## Classification Report","862b0d50":"# Explanatory & Response Variables (Feature & Target)","3c9dc1d7":"##  ACCURACY SCORE","002b3b28":"# Visualisasi Data","a5e139f4":"# > ******Evaluasi Model Machine Learning","db61c3c6":"# Training & Testing  split Dataset ","08976176":"# > Deploy Model Machine Learning******","d36fc3df":"# Training Model"}}