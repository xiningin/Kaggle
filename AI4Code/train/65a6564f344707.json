{"cell_type":{"383d1085":"code","3810d721":"code","b8f64d92":"code","e0e2fb4a":"code","85a6fef2":"code","b5737c9d":"code","1b3f4e55":"code","3061ad55":"code","42c61ee8":"code","41e0ba47":"code","86f57268":"code","53769f21":"code","5bcbd7d5":"code","330adb3a":"code","daa75c8f":"code","c9b7f3e3":"code","26e7e3e6":"code","ba15882b":"code","739242bd":"code","b8e8ad99":"code","581e8a54":"code","e8536448":"code","d18b996d":"code","438d05f4":"code","ba8291c8":"code","fbaead0f":"markdown","d5f0a053":"markdown","35438f56":"markdown","ce51cfbe":"markdown","66c24d72":"markdown","70fb9299":"markdown","c8baf14b":"markdown","98659f60":"markdown"},"source":{"383d1085":"import numpy as np\nimport pandas as pd\nimport math\nimport matplotlib\nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","3810d721":"data=pd.read_csv('..\/input\/covid19-vaccine-adverse-reactions-vaers-dataset\/vaers_jan_nov_2021.csv')\ndata[0:2].T\n","b8f64d92":"print(data.columns.tolist())\nprint(len(data))\nprint(data['RECVDATE'].min())\nprint(data['RECVDATE'].max())","e0e2fb4a":"swords=[]\nfor i in range(len(data)):\n    swords+=[data.iloc[i,1]]\n    swords+=[data.iloc[i,3]]   \n    swords+=[data.iloc[i,5]]\n    swords+=[data.iloc[i,7]]\n    swords+=[data.iloc[i,9]]","85a6fef2":"swords2=list(set(swords)) \nprint(len(swords2))\nprint(swords2[1:100])","b5737c9d":"print(data['VAX_MANU'].unique())\nprint(data['VAX_MANU'].value_counts()[0:3])","1b3f4e55":"pfizer=data[data['VAX_MANU']=='PFIZER\\BIONTECH'].reset_index(drop=True)\npfizers=[]\nfor i in range(len(pfizer)):\n    pfizers+=[pfizer.iloc[i,1]]\n    pfizers+=[pfizer.iloc[i,3]]   \n    pfizers+=[pfizer.iloc[i,5]]\n    pfizers+=[pfizer.iloc[i,7]]\n    pfizers+=[pfizer.iloc[i,9]]\n    \nprint(pd.DataFrame(pfizers).value_counts()[0:30])","3061ad55":"moderna=data[data['VAX_MANU']=='MODERNA'].reset_index(drop=True)\nmodernas=[]\nfor i in range(len(moderna)):\n    modernas+=[moderna.iloc[i,1]]\n    modernas+=[moderna.iloc[i,3]]   \n    modernas+=[moderna.iloc[i,5]]\n    modernas+=[moderna.iloc[i,7]]\n    modernas+=[moderna.iloc[i,9]]\n    \nprint(pd.DataFrame(modernas).value_counts()[0:30])","42c61ee8":"janssen=data[data['VAX_MANU']=='JANSSEN'].reset_index(drop=True)\njanssens=[]\nfor i in range(len(janssen)):\n    janssens+=[janssen.iloc[i,1]]\n    janssens+=[janssen.iloc[i,3]]   \n    janssens+=[janssen.iloc[i,5]]\n    janssens+=[janssen.iloc[i,7]]\n    janssens+=[janssen.iloc[i,9]]\n    \nprint(pd.DataFrame(janssens).value_counts()[0:30])","41e0ba47":"age_band=[]\nfor item in data['AGE_YRS']:\n    if math.isnan(item):\n        age_band+=[-1]\n    else:\n        age_band+=[int(item\/10)]\ndata['AGE_BAND']=age_band","86f57268":"MORT0=[]\nfor i in range(11):\n    total=data[data['AGE_BAND']==i].shape[0]\n    died=data[data['AGE_BAND']==i][data['DIED']=='Y'].shape[0]\n    MORT0+=[[i,total,died,died*100\/total]]       \nmort_df0=pd.DataFrame(MORT0)\nmort_df0.columns=['AGE_BAND','TOTAL','DEATH','% RATIO']\nmort_df0","53769f21":"plt.style.use('ggplot') \nfont = {'family':'meiryo'}\nmatplotlib.rc('font', **font)","5bcbd7d5":"print(mort_df0.shape)\nprint(mort_df0[0:3])","330adb3a":"mort_df0.plot.bar(y=['% RATIO'], alpha=0.8, figsize=(12,6))\nplt.title('Case Fatality Ratios by Age Band', size=24)\nplt.ylabel('% ratio')","daa75c8f":"# AGEBAND 0: AGE 0-9\n# AGEBAND 1: AGE 10-19\n# AGEBAND 2: AGE 20-29\n# AGEBAND 3: AGE 30-39\n# AGEBAND 4: AGE 40-49\n# AGEBAND 5: AGE 50-59\n# AGEBAND 6: AGE 60-69\n# AGEBAND 7: AGE 70-79\n# AGEBAND 8: AGE 80-89\n# AGEBAND 9: AGE 90-99\n# AGEBAND 10: AGE 100-109  ","c9b7f3e3":"MORT1=data[['SEX','DIED','AGE_BAND']].copy()\nprint(MORT1)\nMORT2=MORT1[MORT1['DIED']=='Y'].groupby(['AGE_BAND']).sum()","26e7e3e6":"died_m=[]\ndied_f=[]\nfor item in MORT2['SEX']:\n    died_m+=[item.count('M')]\n    died_f+=[item.count('F')]\nMORT2['DIED_MALE']=died_m\nMORT2['DIED_FEMALE']=died_f\nMORT3=MORT2.drop(['SEX','DIED'],axis=1)\nMORT3","ba15882b":"MORT3.plot.bar(y=['DIED_MALE','DIED_FEMALE'], alpha=0.8, figsize=(12,6))\nplt.title('Case Fatality Number by Age Band and Sex', size=24)\nplt.ylabel('Number')","739242bd":"Y_histories=data[data['DIED']=='Y'][data['AGE_YRS']>59]['HISTORY']\nN_histories=data[data['DIED']!='Y'][data['AGE_YRS']>59]['HISTORY']\nprint(len(Y_histories))\nprint(len(N_histories))","b8e8ad99":"#data['DIED']=='Y'\nitem2=[]\nfor item in Y_histories:\n    if type(item)==str:\n        item2+=item.split(', ')\n\n(pd.DataFrame(item2)).value_counts()[0:30]","581e8a54":"#data['DIED']!='Y'\nitem3=[]\nfor item in N_histories:\n    if type(item)==str:\n        item3+=item.split(', ')\n\n(pd.DataFrame(item3)).value_counts()[0:30]","e8536448":"print(len(data))\nprint(len(pfizer))\nprint(len(moderna))","d18b996d":"focus2=data[['VAX_DATE','DATEDIED','DIED']].copy()\n#focus2=pfizer[['VAX_DATE','DATEDIED','DIED']].copy()\n#focus2=moderna[['VAX_DATE','DATEDIED','DIED']].copy()\n#focus2=janssen[['VAX_DATE','DATEDIED','DIED']].copy()\nfocus2['VAX_DATE2']=pd.to_datetime(focus2['VAX_DATE'])\nfocus2['DATEDIED2']=pd.to_datetime(focus2['DATEDIED'])\nfocus2['DAYS']=focus2['DATEDIED2']-focus2['VAX_DATE2']\ndays_df0=focus2[focus2['DIED']=='Y']['DAYS'].value_counts()","438d05f4":"days_df0=pd.DataFrame(days_df0)\ndays_df0[1]=days_df0.index.days\ndays_df0.columns=['n','days']\ndays_df1=days_df0[days_df0['days']<=21][0<=days_df0['days']]\ndays_df2=days_df1.sort_values(['days'])\ndays_df3=days_df2.set_index('days')","ba8291c8":"days_df3.plot.bar(y=['n'], alpha=0.8, figsize=(12,6))\nplt.title('Days after vaccination in case fatality', size=24)\nplt.ylabel('cases')","fbaead0f":"\"No medical history\" seems to be very rare in dead cases compared to alive cases. Risk factors for covid19 could be risks also for vaccination.","d5f0a053":"# Post-dose Symptoms","35438f56":"Number of fetal cases was high during 10 days after vaccination, which might indicate that these fetalities were related to vaccination.","ce51cfbe":"# Days after vaccination in case fatality","66c24d72":"# Case Fatality Ratios by Age Band ","70fb9299":"* https:\/\/www.kaggle.com\/stpeteishii\/covid19-vaccination-risk (RECVDATE: 01\/01\/2021-03\/19\/2021)","c8baf14b":"# History Comparison between Alive and Dead","98659f60":"The Vaccine Adverse Event Reporting System (VAERS) is a national early warning system to detect possible safety problems in U.S.-licensed vaccines. <br\/>\nhttps:\/\/vaers.hhs.gov\/about.html"}}