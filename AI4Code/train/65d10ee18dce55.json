{"cell_type":{"a3f958f6":"code","5147268a":"code","a30ea55b":"code","188e82ea":"code","fd213d21":"code","57677b57":"code","f37c7ec6":"code","19c12039":"code","fbd62140":"code","368b783f":"code","2acad508":"code","34edf222":"code","3f3d41bb":"code","428c0667":"code","eb551953":"code","b80fa9de":"code","e0c18e25":"code","4d9ba302":"code","fe3e0965":"code","c135e925":"code","6843f17c":"code","c9c74672":"code","574b7f0a":"code","bca8fc8e":"code","e7a3a37e":"code","5e47f63a":"code","c288277e":"code","2f843a2c":"code","4744d913":"code","06388d44":"code","763698a3":"code","8da79243":"code","33eefaa5":"code","3d466d49":"code","319e9cd2":"code","23df7057":"code","f6410721":"code","54125adc":"code","dde47638":"code","011f6b44":"code","0fb1b2d3":"code","52ea55b0":"code","c6f8d399":"code","1d2bbe31":"code","4aade393":"code","9aa160a8":"code","5e87b391":"code","4ff7215b":"code","6f54d2ad":"code","34665afc":"code","dbbd1d1c":"code","ba4f6a42":"code","15b98141":"code","ed50188b":"code","a5aefa94":"code","3b2f21c3":"code","a972f282":"code","dd889ec1":"code","4ce9b4f3":"code","437c72ef":"code","2f8205f8":"code","aa168e33":"code","b82758bc":"code","38ccd1ea":"code","2e406450":"code","076a86e4":"code","5ec434c7":"code","8b98f75e":"code","a6cab9ea":"code","9d216fd3":"code","f3ca1e1b":"code","45293d9a":"code","6cb0438a":"code","f29e9fb2":"code","21855507":"code","e92a065f":"code","b757d607":"code","66fb620c":"code","4fc2db1a":"code","67dfd1b6":"code","9b7b2e09":"code","1299befd":"code","4456805e":"code","ce97a1e9":"code","a71d6098":"markdown","9117ea7c":"markdown","f4a47282":"markdown","889167f4":"markdown","d55bd6c3":"markdown","340a8d40":"markdown","4f3cfec1":"markdown","8ef414c8":"markdown","b538c487":"markdown","0d0a2f33":"markdown","03946b46":"markdown","73caf3d9":"markdown","f14d2597":"markdown","dea15b3a":"markdown","bb9803d0":"markdown","646be9fa":"markdown","915cd6bd":"markdown","793dc718":"markdown","8f3b2075":"markdown","c6372e45":"markdown","e575412e":"markdown","a7209fd1":"markdown","5e5335d6":"markdown","1030d414":"markdown","d09164eb":"markdown","862ecba6":"markdown","ef0f6356":"markdown","12f63bac":"markdown","a1e423e1":"markdown","01c34c72":"markdown","314c70be":"markdown","f57cd8e6":"markdown","03b077e3":"markdown","bbd35404":"markdown","38617cb2":"markdown","f2c06c8c":"markdown","df24ab2b":"markdown","561e8644":"markdown","7ec48bd6":"markdown","c36ecab2":"markdown","250cfc69":"markdown","a6a6bf64":"markdown","cc963084":"markdown","31801c7d":"markdown","f1d709ee":"markdown","ebf0a06c":"markdown","3a84557b":"markdown","69faaa7c":"markdown","cb46d53e":"markdown","5ceb4881":"markdown","d32981bc":"markdown","2ae1e241":"markdown","55586896":"markdown","7d93214a":"markdown"},"source":{"a3f958f6":"import numpy as np # linear algebra\nimport pandas as pd # data processing\n","5147268a":"import matplotlib.pyplot as plt\ndata = pd.read_csv(\"..\/input\/Pokemon.csv\") # Import dataset\ndata.head(5)","a30ea55b":"data.HP.plot(kind='line',grid=True,label='HP',color=\"red\",linestyle='-',alpha=0.5,linewidth=1) # Hp\ndata.Attack.plot(kind='line',color='green',grid=True,label='Attack',linestyle='-',alpha=0.5,linewidth=1) # Attack\nplt.legend(loc='upper left') # We use this function for distinguish lines.\nplt.xlabel('HP')\nplt.ylabel('Attack')\nplt.show()","188e82ea":"data.plot(kind='scatter',x = 'HP',y = 'Attack',alpha = 0.7,color = 'red')\nplt.xlabel(\"HP\")\nplt.ylabel('Attack')\nplt.title(\"Hp Attack Scatter Plot\")\nplt.show()","fd213d21":"data.Defense.plot(kind='hist',bins=100,figsize=(8,5))\nplt.show()","57677b57":"dictionary = {\"Key1\":\"Value1\", \"Key2\":\"Value2\", \"Key3\":\"Value3\"}\nprint(dictionary.keys())\nprint(dictionary.values())","f37c7ec6":"print(dictionary[\"Key1\"])\n\ndictionary[\"Key2\"] = \"none\"\nprint(dictionary[\"Key2\"])\n\ndictionary[\"Key4\"] = \"Value4\"\nprint(dictionary[\"Key4\"])\n\ndictionary.clear()\nprint(dictionary)","19c12039":"series = data[\"Attack\"] # data[\"Attack\"] = Series\ndata_frame = data[[\"Attack\"]] # data[[\"Attack\"]] = Data_Frame\nprint(type(series),\"\\n\",type(data_frame))","fbd62140":"data.head(5)","368b783f":"filtering = data[\"Attack\"]>170\ndata[filtering]","2acad508":"data[(data[\"Attack\"]>150) & (data[\"HP\"]>100)]\ndata[np.logical_and(data[\"Attack\"]>150, data[\"HP\"]>100)] # Both are same thing","34edf222":"list = [1,2,3,4,5]\nfor i in list:\n    print(i)","3f3d41bb":"for index,value in enumerate(list): # We use enumerate method for print both index and value\n    print(index,\":\",value)","428c0667":"dictionary = {\"Key1\":\"Value1\",\"Key2\":\"Value2\",\"Key3\":\"Value3\"}\nfor key,value in dictionary.items():\n    print(key,\":\",value)","eb551953":"for index,value in data[[\"Attack\"]][0:3].iterrows():\n    print(index, \" : \",value)","b80fa9de":"def udf():\n    t = (1,2,3) # We defined a tuple named t\n    return t # We return 3 values through tuple\na,b,c = udf()\nprint(a,b,c)","e0c18e25":"x = 3 # Global variable\ndef scope():\n    x = 1 # Local variable\n    return x\nprint(x)\nprint(scope())\nprint(\"\")\n# Global variables can access by everywhere but Local variables can only accessible from local\n\n# If there is no local variable you will access to global variable. for example:\ny = 3\ndef scope2():\n    z = 3*y # y variable is global variable\n    return z\nprint(scope2())\n\n# Extra Information: You can't use built in scope names and Python's preset method names as variable names.\n# To see built in scopes:\nimport builtins\ndir(builtins) ","4d9ba302":"def sqrt():\n    def total():\n        a = 10\n        b = 6\n        c = a+b\n        return c\n    return total()**0.5 # We take the sqrt of the value returned from the total function\n\nprint(sqrt())","fe3e0965":"# Default Arguments:\ndef f(x,y = 2):\n    return x+y\nprint(f(1)) # I didn't assign a value to variable y\nprint(f(1,4)) # We can change the default value of variable y","c135e925":"# Flexible Arguments\n# We use flexible arguments for send as many values as we want to a function. For example:\ndef f(*args):\n    for i in args:\n        print(i)\nf(1)\nf(1,2,3)\nprint(\"\")\n\n# Also We use flexible arguments for send as many dictionary items as we want to a function. For example:\ndef g(**kwargs):\n    for key, value in kwargs.items():\n        print(key,\":\",value)\ng(key1 = \"value1\",key2 = \"value2\",key3 = \"value3\")","6843f17c":"# We use Lambda Function for define a function easily. For example:\nf = lambda x : x**2 # First, We defined x variable and this function will return square of x\nprint(f(3))\n\ng = lambda x,y : x+y # First, We defined x, y variable and this function will return sum of x and y\nprint(g(1,3))","c9c74672":"# map(function, values) # If you want to send multiple values. You must send them in the list\ny = list(map(lambda x:x**2,[1,2,3])) # We must convert map function to list format. Because it will return multiple values\nprint(y)\n# If you get an error in this code, don't mind because the error may be caused by kaggle","574b7f0a":"x = [1,2,3,4,5,6]\nit = iter(x)\nprint(next(it)) # Print next iteration\nprint(next(it))\nprint(*it) # Print remaining iteration\nprint(\"\")\n\nstring = \"asdfg\"\nit2 = iter(string)\nprint(next(it2)) # Print next iteration\nprint(*it2) # Print remaining iteration\n\n# All objects that we can use with loops are iterable objects","bca8fc8e":"# Zip\nlist1 = [1,2,3,4]\nlist2 = [5,6,7,8] # the length of the first list must be equal to the length of the second list\nf = list(zip(list1,list2)) # We must convert zip function to list format.\n\n# Unzip\nunzip = zip(*f)\nunlist1,unlist2 = list(unzip) # Unzip returns tuple\nprint(unlist1)\nprint(unlist2)\n# If you get an error in this code, don't mind because the error may be caused by kaggle","e7a3a37e":"list1 = [1,2,3,4] # Lists are iterable object\nf = [i**2 for i in list1]\nprint(f)\nprint(\"\")\n\n# Conditional List Comprehension\nlist2 = [10,15,20,25]\ng = [i if i%10==0 else i**2 if i==15 else i+3 for i in list2]\nprint(g)\n# Both is same\n# def g(*args):\n#     for i in args:\n#         if(i % 10 == 0):\n#             print(i)\n#         elif(i == 15):\n#             print(i**2)\n#         else:\n#             print(i+3)\n# g(10,20,36,64)","5e47f63a":"avg = sum(data.Attack)\/len(data.Attack) # We found the average attack\ndata[\"Avg_Attack\"] = [\"High\" if i > avg else \"Low\" for i in data.Attack] # If pokemon's attack is higher than average, Avg_Attack will be High. If not Avg_Attack will be Low\nprint(avg)\ndata.head(5)","c288277e":"# For example lets look frequency of pokemom types\nprint(data['Type 1'].value_counts(dropna =False))  # if there are nan values that also be counted\n# As it can be seen below there are 112 water pokemon or 70 grass pokemon","2f843a2c":"data.describe() # ignore null entries","4744d913":"# For example: compare attack of pokemons that are legendary  or not\n# Black line at top is max\n# Blue line at top is 75%\n# Red line is median (50%)\n# Blue line at bottom is 25%\n# Black line at bottom is min\n# There are no outliers\ndata.boxplot(column='Attack',by = 'Legendary')\nplt.show()","06388d44":"# Firstly I create new data from pokemons data to explain melt nore easily.\ndata_new = data.head(5) # I only take 5 rows into new data\nmelted = pd.melt(frame = data_new,id_vars = 'Name',value_vars= ['Attack','Defense'])\nmelted","763698a3":"melted.pivot(index = 'Name', columns = 'variable',values='value')","8da79243":"data1 = data.head()\ndata2 = data.tail()\nconc_data_row = pd.concat([data1,data2],axis = 0,ignore_index = True)\nconc_data_row","33eefaa5":"data1 = data['Attack'].head()\ndata2= data['Defense'].head()\nconc_data_col = pd.concat([data1,data2],axis =1) # axis = 0 : adds dataframes in row\nconc_data_col","3d466d49":"data.dtypes","319e9cd2":"# lets convert object(str) to categorical and int to float.\ndata[\"Type 1\"] = data[\"Type 1\"].astype('category')\ndata['Speed'] = data['Speed'].astype('float')\ndata.dtypes","23df7057":"data.info()","f6410721":"# Lets check Type 2\ndata[\"Type 2\"].value_counts(dropna =False)\n# As you can see, there are 386 NAN value","54125adc":"# Lets drop nan values\ndata1=data   # also we will use data to fill missing value so I assign it to data1 variable\ndata1[\"Type 2\"].dropna(inplace = True)  # inplace = True means we do not assign it to new variable. Changes automatically assigned to data\n# So does it work ?","dde47638":"#  Lets check with assert statement\n# Assert statement:\nassert 1==1 # return nothing because it is true","011f6b44":"assert  data['Type 2'].notnull().all() # returns nothing because we drop nan values","0fb1b2d3":"data[\"Type 2\"].fillna('empty',inplace = True)","52ea55b0":"assert  data['Type 2'].notnull().all() # returns nothing because we do not have nan values","c6f8d399":"# # With assert statement we can check a lot of thing. For example\n# assert data.columns[1] == 'Name'\n# assert data.Speed.dtypes == np.int","1d2bbe31":"# data frames from dictionary\ncountry = [\"Spain\",\"France\"]\npopulation = [\"11\",\"12\"]\nlist_label = [\"country\",\"population\"]\nlist_col = [country,population]\nzipped = list(zip(list_label,list_col))\ndata_dict = dict(zipped)\ndf = pd.DataFrame(data_dict)\ndf","4aade393":"df[\"income\"] = 0","9aa160a8":"data1 = data.loc[:,[\"Attack\",\"Defense\",\"Speed\"]]\ndata1.plot()\nplt.show()","5e87b391":"data1.plot(subplots = True)\nplt.show()","4ff7215b":"data1.plot(kind = \"scatter\",x=\"Attack\",y=\"Defense\")\nplt.show()","6f54d2ad":"data1.plot(kind=\"hist\",y=\"Defense\",bins = 50,range=(0,250),normed = True)\nplt.show()","34665afc":"# histogram subplot with non cumulative and cumulative\nfig, axes = plt.subplots(nrows=2,ncols=1)\ndata1.plot(kind = \"hist\",y = \"Defense\",bins = 50,range= (0,250),normed = True,ax = axes[0])\ndata1.plot(kind = \"hist\",y = \"Defense\",bins = 50,range= (0,250),normed = True,ax = axes[1],cumulative = True)\nplt.savefig('graph.png')\nplt","dbbd1d1c":"data.head()","ba4f6a42":"time_list = [\"1992-03-08\",\"1992-04-12\"]\ndatetime_object = pd.to_datetime(time_list)\nprint(type(datetime_object))","15b98141":"# close warning\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n# In order to practice lets take head of pokemon data and add it a time list\ndata2 = data.head()\ndate_list = [\"1992-01-10\",\"1992-02-10\",\"1992-03-10\",\"1993-03-15\",\"1993-03-16\"]\ndatetime_object = pd.to_datetime(date_list)\ndata2[\"date\"] = datetime_object\n# lets make date as index\ndata2= data2.set_index(\"date\")\ndata2","ed50188b":"print(data2.loc[\"1993-03-16\"])\nprint(data2.loc[\"1992-03-10\":\"1993-03-16\"])","a5aefa94":"data2.resample(\"A\").mean()","3b2f21c3":"data2.resample(\"M\").mean()","a972f282":"# In real life (data is real. Not created from us like data2) we can solve this problem with interpolate\n# We can interpolate from first value\ndata2.resample(\"M\").first().interpolate(\"linear\")","dd889ec1":"data2.resample(\"M\").mean().interpolate(\"linear\")","4ce9b4f3":"data = pd.read_csv('..\/input\/Pokemon.csv')\ndata = data.set_index(\"#\")\ndata.head()","437c72ef":"data[\"HP\"][1]","2f8205f8":"data.loc[1,[\"HP\"]]","aa168e33":"data[[\"HP\",\"Attack\"]]","b82758bc":"print(type(data[\"HP\"]))\nprint(type(data[[\"HP\"]]))","38ccd1ea":"data.loc[1:5,[\"HP\",\"Defense\"]]","2e406450":"# From something to end\ndata.loc[1:10,\"Speed\":]","076a86e4":"data[\"HP\"][data[\"Speed\"]<15]","5ec434c7":"# Plain python functions\ndef div(n):\n    return n\/2\ndata[\"HP\"].apply(div)","8b98f75e":"data[\"HP\"].apply(lambda n : n\/2)","a6cab9ea":"data[\"total_power\"] = data.Attack + data.Defense\ndata.head()","9d216fd3":"print(data.index.name)\n# Let's change it\ndata.index.name = \"index_name\"\nprint(data.index.name)","f3ca1e1b":"data.head()\ndata3 = data.copy()\ndata3.index = range(100,900)\ndata3.head()","45293d9a":"# We can make one of the column as index. I actually did it at the beginning of manipulating data frames with pandas section\n# It was like this\n# data= data.set_index(\"#\")\n# also you can use \n# data.index = data[\"#\"]","6cb0438a":"# lets read data frame one more time to start from beginning\ndata = pd.read_csv('..\/input\/Pokemon.csv')\ndata.head()\n# As you can see there is index. However we want to set one or more column to be index","f29e9fb2":"data1 = data.set_index([\"Type 1\",\"Type 2\"])\ndata1.head(20)","21855507":"dic = {\"treatment\":[\"A\",\"A\",\"B\",\"B\"],\"gender\":[\"F\",\"M\",\"F\",\"M\"],\"response\":[10,45,5,9],\"age\":[15,4,72,65]}\ndf = pd.DataFrame(dic)\ndf","e92a065f":"df.pivot(index=\"treatment\",columns = \"gender\",values=\"response\")","b757d607":"df1 = df.set_index([\"treatment\",\"gender\"])\ndf1","66fb620c":"# levels determines indexes\ndf1.unstack(level=0)","4fc2db1a":"df2 = df1.swaplevel(0,1)\ndf2","67dfd1b6":"df","9b7b2e09":"pd.melt(df,id_vars = \"treatment\",value_vars = [\"age\",\"response\"])","1299befd":"df","4456805e":"df.groupby(\"treatment\").mean()","ce97a1e9":"df.groupby(\"treatment\")[\"age\",\"response\"].mean()","a71d6098":"* We use this function for send multiple values \u200b\u200bto a function that takes one value.","9117ea7c":"### Index'ng Pandas Time Series\n* datetime = object\n* parse_dates(boolean): Transform date to ISO 8601 (yyyy-mm-dd hh:mm:ss ) format","f4a47282":"# **Python Data Science Toolbox**","889167f4":"### Privoting Data\nReverse of melting.","d55bd6c3":"**Iterators**","340a8d40":"**Series and Data Frames**","4f3cfec1":"### Slicing Data Frame\n* Difference between selecting columns\n    * Series and data frames\n* Slicing and indexing series\n* Reverse slicing \n* From something to end","8ef414c8":"Let's plot the graph showing the relationship between Hp and Attack with Line Plot, Histogram and Scatter Plot","b538c487":"### Pivoting Data Frames\n* pivoting: reshape tool","0d0a2f33":"### Review of Pandas\nAs you notice, I do not give all idea in a same time. Although, we learn some basics of pandas, we will go deeper in pandas.\n* single column = series\n* NaN = not a number\n* dataframe.values = numpy","03946b46":"* Sometimes functions can return more than one value. For example:","73caf3d9":"**Histogram Plot**","f14d2597":"### Melting Data Frames\n* Reverse of pivoting","dea15b3a":"### Data Types\nThere are 5 basic data types: object(string),booleab,  integer, float and categorical.\n<br> We can make conversion data types like from str to categorical or from int to float\n<br> Why is category important: \n* make dataframe smaller in memory \n* can be utilized for analysis especially for sklearn(we will learn later)","bb9803d0":"**Nested Function**","646be9fa":"* The data we obtain may not always be clean. In these cases, we need to pre-process the data","915cd6bd":"**There are 3 plot type in Matplotlib**\n* Line Plot\n* Histogram\n* Scatter Plot","793dc718":"# **Cleaning Data**","8f3b2075":"* It mean function inside function","c6372e45":"**Filtering Dataset with Pandas**","e575412e":"### Hierarchical Indexing\n* Setting indexing","a7209fd1":"# **Matplotlib**","5e5335d6":"### Resampling Pandas Time Series\n* Resampling: statistical method over different time intervals\n    * Needs string to specify frequency like \"M\" = month or \"A\" = year\n* Downsampling: reduce date time rows to slower frequency like from daily to weekly\n* Upsampling: increase date time rows to faster frequency like from daily to hourly\n* Interpolate: Interpolate values according to different methods like \u2018linear\u2019, \u2018time\u2019 or index\u2019 \n    * https:\/\/pandas.pydata.org\/pandas-docs\/stable\/generated\/pandas.Series.interpolate.html","1030d414":"### Visual Exploratory Data Analysis\n* Box plots: visualize basic statistics like outliers, min\/max or quantiles","d09164eb":"# **Pandas Foundation**","862ecba6":"# Manipulating Data Frames With Pandas","ef0f6356":"**Default And Flexible Arguments**","12f63bac":"### Visual Exploratory Data Analysis\n* Plot\n* Subplot\n* Histogram:\n    * bins: number of bins\n    * range(tuble): min and max values of bins\n    * normed(boolean): normalize or not\n    * cumulative(boolean): compute cumulative distribution","a1e423e1":"**Lambda Function**","01c34c72":"# **Loops**","314c70be":"**List Comprehension**","f57cd8e6":"* List comprehensions are used for creating new lists from other iterables. For example:","03b077e3":"* We can define a default value for the parameter that the function takes. For example:","bbd35404":"### Filtering Data Frames\nCreating boolean series\nCombining filters\nFiltering column based others","38617cb2":"### Concatenating Data\nWe can concatenate two dataframe **","f2c06c8c":"**User Defined Function**","df24ab2b":"**Scatter Plot**","561e8644":"### Indexing Data Frames\n* Indexing using square brackets\n* Using column attribute and row label\n* Using loc accessor\n* Selecting only some columns","7ec48bd6":"**Anonymous Function**","c36ecab2":"**Scope**","250cfc69":"### Index Object And Labeled Data\nindex: sequence of label","a6a6bf64":"### Categoricals and Groupby","cc963084":"* Iterable are an objects. For example lists and dictionaries are iterable objects\n* Iterator: produce next value with next() method.","31801c7d":"### Stacking and Unstacking DataFrame\n* deal with multi label indexes\n* level: position of unstacked index\n* swaplevel: change inner and outer level index position","f1d709ee":"# **Pandas**","ebf0a06c":"### Transforming Data\n* Plain python functions\n* Lambda function: to apply arbitrary python function to every element\n* Defining column using other columns","3a84557b":"* We use this method to map two lists. For example:","69faaa7c":"**Zip**","cb46d53e":"### Explotary Data Analysis\nvalue_counts(): Frequency counts\n<br>outliers: the value that is considerably higher or lower from rest of the data\n* Lets say value at 75% is Q3 and value at 25% is Q1. \n* Outlier are smaller than Q1 - 1.5(Q3-Q1) and bigger than Q3 + 1.5(Q3-Q1). (Q3-Q1) = IQR\n<br>We will use describe() method. Describe method includes:\n* count: number of entries\n* mean: average of entries\n* std: standart deviation\n* min: minimum entry\n* 25%: first quantile\n* 50%: median or second quantile\n* 75%: third quantile\n* max: maximum entry\n\n<br> What is quantile?\n\n* 1,4,5,6,8,9,11,12,13,14,15,16,17\n* The median is the number that is in **middle** of the sequence. In this case it would be 11.\n\n* The lower quartile is the median in between the smallest number and the median i.e. in between 1 and 11, which is 6.\n* The upper quartile, you find the median between the median and the largest number i.e. between 11 and 17, which will be 14 according to the question above.","5ceb4881":"**Dictionary**","d32981bc":"### Tidy Data\nWe tidy data with melt().\nDescribing melt is confusing. Therefore lets make example to understand it.","2ae1e241":"### Missing Data And Testing With Assert\nIf we encounter with missing data, what we can do:\n* leave as is\n* drop them with dropna()\n* fill missing value with fillna()\n* fill missing values with test statistics like mean\n<br>Assert statement: check that you can turn on or turn off when you are done with your testing of the program","55586896":"### Building Data Frames From Scratch\n* We can build data frames from csv as we did earlier.\n* Also we can build dataframe from dictionaries\n    * zip() method: This function returns a list of tuples, where the i-th tuple contains the i-th element from each of the argument sequences or iterables.\n* Adding new column\n* Broadcasting: Create new column and assign a value to entire column","7d93214a":"Let's try to use List Comprehension with Pandas"}}