{"cell_type":{"b09895c6":"code","fbb9890e":"markdown","44de69f9":"markdown","25929a28":"markdown","896a1d42":"markdown","cb85db9f":"markdown"},"source":{"b09895c6":"import numpy as np\nimport matplotlib.pyplot as plt\n\nplt.style.use('ggplot')\n\nl = 0.0229      #Inductance (H)\nr = 3.34        #Resistance (Ohm)\nv = 5           #Voltage (V) DC\ni = v\/r         #Peak current (A)\ntau = l\/r       #Tau time constant\na = tau * 5   #critical time value at which current is switched (switching occurs every a seconds)\n\nt = np.linspace(0,2*a,2000) #Time vector\n\n#1st on-cycle current\n\ndef initialCurrent():\n    current = []\n    for i in t:\n        if i <= a:\n            current.append((v\/r)*(1-np.exp((-r\/l)*i)))          #I(t) = v\/r*[1-exp((-r\/l)*t)]\n        else:\n            current.append(0)\n    return np.array(current)\n\n#Plot Icurrent\nIcurrent = initialCurrent()\nplt.plot(t,Icurrent,label='current',color='blue')\n\n#1st off-cycle current\n\ndef laterCurrent():\n    current = []\n    for i in t:\n        if i >= a:\n            current.append(Icurrent[-1001]*np.exp((-r\/l)*(i-a)))  #I(t) = Ir * exp((-r\/l)*(t-t0))\n        else:\n            current.append(0)\n    return np.array(current)\n\n#Plot current after switch off\ncurrent_off = laterCurrent()\nplt.plot(t,current_off,color='blue')\n\n\n#Current on and off cycle: on and off at the zeros of the it function\nf = 1\/(2*a)                 #frequency f = 1\/T\nw = np.pi\/a                 #w = 2pi * f\nit = i*np.sin(w*t)\nplt.plot(t,it,label='On\/off cycle',color='green')\n\n#Plot zeros (switching points)\nzeros = np.array([0,a,2*a])\nzeros_i = i*np.sin(w*zeros)\nplt.plot(zeros,zeros_i,marker='x',markersize=10,label='On and off',color='red')\nplt.annotate('On',xy=(zeros[0]+0.0005,zeros_i[0]))\nplt.annotate('Off',xy=(zeros[1]+0.0005,zeros_i[1]))\nplt.annotate('On',xy=(zeros[2]+0.0005,zeros_i[2]))\n\n#Critical value plot\nplt.plot((a,a+0.00001),(max(it),min(it)),'r',alpha=0.9,label='Critical value')\n\n#Print some data\nprint('Inductance (H):','\\t'+str(l))\nprint('Resistance (Ohm):','\\t'+str(r))\nprint('DC voltage (V):','\\t'+str(v))\nprint('Current (A):','\\t\\t'+str(i))\nprint('Tau:','\\t\\t\\t'+str(tau))\nprint('Critical time (s):','\\t'+str(a))\nprint('\\n')\nprint('Switch frequency (Hz):','\\t'+str(f))\nprint('w coefficient (2*pi*f)','\\t'+str(w))\n\n#Plot settings\n\n#x axis line\nplt.plot((0,2*a+0.0005),(0,0),'k',alpha=0.9,markersize=10)\n\n#Axis labels\nplt.xlabel('time (s)')\nplt.ylabel('current (A)')\n\n#Legend and limits\nplt.legend(loc=3,fancybox=True,shadow=True)\nplt.xlim(-0.002,2*a+0.003)\nplt.ylim(min(it)-0.05,max(it)+0.05)\n\nplt.show()","fbb9890e":"The components used in an RL circuit are a **DC voltage source (V1)** a **resistor (R1)** and an **inductor (L1)**. The inductor in the schematics is used to represent a physical characteristic of the circuit.\n\nAs current flows into the circuit, it generates a magnetic field, that change in the magnetic field causes a change in the flux of the field concatenated to the circuit, this in turn, by the **Faraday-Neumann-Lenz law** generates a voltage in the circuit that is **opposite to the voltage that is generating the magnetic field (V1)**. This is the reason because the current in the circuit will not jump immediately to its full value of V\/R given by Ohm\u2019s law. \n\nThe current will eventually reach the value **V\/R** after an infinite amount of time, but for practical purposes, we can consider it at that level after some time has passed (namely 4 times tau = L\/R should be sufficient).","44de69f9":"## Calculation\nWhat we would expect is that the current will obey the following differential equation given by **Ohm\u2019s law** at each point in time:\n\n$$ V_{1}-L\\frac{dI(t)}{dt}-R_{1}I(t)=0 $$\n\nThe equation above yields the following solution\n\n$$ I(t)=\\frac{V_{1}}{R_{1}}(1-e^{-\\frac{R}{L}t}) $$","25929a28":"Now, the same phenomenon (reversed) happens when you **open the circuit**, the inductor **opposes the change in flux** by generating a voltage that tries to keep up the shrinking flux of the magnetic field through the circuit. That means that, if you were to switch on and off the current at particular intervals you would obtain this behavior:\n\n* As you can see, **at time 0** the circuit is closed and the current is reaching its theoretical value, **after 5 times tau** (time constant of the circuit).\n* The circuit is opened again and the current **exponentially** decays to zero. By knowing tau, one could find the frequency at which the switch should click in order to maintain this behavior. \n* This process yields the **on and off-cycle** (in green). Where the green function hits the x-axis the switch clicks and opens\/closes the circuit.","896a1d42":"## Source code","cb85db9f":"## Schematics\nHere is the schematics of an RL circuit\n\n![alt text](https:\/\/yaser-rahmati.gitbook.io\/~\/files\/v0\/b\/gitbook-x-prod.appspot.com\/o\/spaces%2F-M2g31CUvdCruJm660Ot%2Fuploads%2FHvvqdwAWeFsdL2JewHQL%2F953.jpg?alt=media&token=e88b5033-7ee9-49c5-93f3-6c46511b47af \"RL circuits\")\n"}}