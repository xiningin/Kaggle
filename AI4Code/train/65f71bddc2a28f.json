{"cell_type":{"88ff4f38":"code","2f9e95fa":"code","877e9ce8":"code","a1341268":"code","7c667a8b":"code","b3809263":"code","2eb02c32":"code","c41b08fe":"code","61c456fa":"code","9200e91d":"code","8b1bb4cc":"code","32d0475d":"code","57456c4f":"code","c5c9490b":"code","0790d64e":"code","34f403be":"code","fec5a357":"code","a539a9fa":"code","c9722750":"code","8914ed04":"code","e0f8b7ff":"code","c88e8011":"code","4c00d543":"code","f7cb2fe4":"code","3a0080cf":"code","6d166aea":"code","9d4021cd":"code","9bef6b02":"code","7aa2a29b":"code","91d5d490":"code","f724dce8":"code","4b417f78":"code","b459a933":"code","0a4aa3cd":"code","3cfeebbd":"code","309e76c5":"code","38e86c61":"code","99c99bf3":"code","092e58ec":"code","bc1b4214":"code","655ba9b0":"code","0cc74469":"code","be76f1cf":"code","febd3ff2":"code","20d3302b":"code","dd259cdc":"code","949e3e66":"code","a9e9e817":"code","d51f28f7":"code","02694719":"code","7bc023df":"code","794be2c0":"code","d1a871ae":"code","acd9a196":"code","a0b2fcb0":"code","1957b6d4":"code","b647d09a":"code","f15a17a4":"code","a53e0b20":"code","8d4db53a":"code","7358a173":"code","bacd33f1":"markdown","00ab9fe7":"markdown","dc4709b9":"markdown","3d0edb9d":"markdown","820a758d":"markdown","0440f1db":"markdown","04c756d2":"markdown","7644c1ae":"markdown","d58c2301":"markdown","bf151e5a":"markdown","830baa15":"markdown","b98c6e9d":"markdown","1bc51f9a":"markdown","ff58310b":"markdown","2014ddcd":"markdown","4b865af0":"markdown","1f526aaf":"markdown","7aeae1c5":"markdown","bc6a0442":"markdown","443aa841":"markdown","f7b20dba":"markdown","a6f68ed7":"markdown","a4ab320d":"markdown","f20caa8b":"markdown","db1ed712":"markdown","d7dac298":"markdown","6b94dc12":"markdown","b32780ae":"markdown","4443099e":"markdown","1ac21a89":"markdown","d1fd09a1":"markdown","d5a40762":"markdown","0eb7363e":"markdown","774ed013":"markdown","e50344e0":"markdown","9332a3c5":"markdown","c2aa6391":"markdown","6a500b90":"markdown"},"source":{"88ff4f38":"import pandas as pd \r\nimport matplotlib.pyplot as plt \r\nimport seaborn as sns \r\nimport numpy as np \r\nimport seaborn as sns ","2f9e95fa":"df= pd.read_csv('..\/input\/top-250-football-transfers-from-2000-to-2018\/top250-00-19.csv')\r\ndf.head()","877e9ce8":"df.describe()","a1341268":"df.info()","7c667a8b":"df.isnull().sum()","b3809263":"df.duplicated().sum()","2eb02c32":"df.corr()","c41b08fe":"Defender=['Centre-Back','Right-Back','Left-Back','Defender']\r\nForward = ['Right Winger','Centre-Forward','Left Winger','Forward','Sweeper','Second Striker']\r\nMidfielder = ['Central Midfield', 'Attacking Midfield', 'Defensive Midfield', 'Left Midfield','Right Midfield', 'Midfielder']\r\nconditions = [\r\n    df['Position'].isin(Defender),\r\n    df['Position'].isin(Forward),\r\n    df['Position'].isin(Midfielder),\r\n    df['Position']=='Goalkeeper']\r\n \r\nvalues = ['Defender', 'Forward','Midfielder','Goalkeeper']\r\n\r\ndf['Position'] = np.select(conditions, values)","61c456fa":"df.head()","9200e91d":"top5 = ['Premier League', 'Serie A', 'LaLiga', 'Ligue 1', '1.Bundesliga']\r\ndf_top5 = df.loc[ (df['League_to'].isin(top5))]","8b1bb4cc":"df_top5['Position'].value_counts().sort_values(ascending=False)","32d0475d":"sns.countplot(x='Position',data=df_top5,order=df_top5['Position'].value_counts().sort_values(ascending=False).index)\r\n#plt.xticks(rotation=90,fontsize='12')\r\nplt.title('The Most Requested Position in Top 5 Leagues',ha='center',fontsize=15,style='oblique')\r\nplt.show()","57456c4f":"df_top5['Position'].value_counts().plot(kind='pie',figsize=(20,10),autopct = '%1.1f%%',shadow = True)\r\nplt.ylabel('')\r\nplt.title('The Positions Requested in Top 5 Leagues ( % ) ',ha='center',fontsize=15,style='oblique')\r\nplt.show()","c5c9490b":"sns.countplot(x='Position',hue='League_to',data=df_top5)\r\nplt.title('Players Positions in Top 5 Leagues',fontsize=15,style='oblique')\r\nplt.legend(title='League')\r\nplt.show()","0790d64e":"df_top5.groupby(['Season'])['Season'].count()","34f403be":"sns.countplot(x='Season',data=df_top5)\r\nplt.xticks(rotation=90)\r\nplt.title('Transfers For Every Season in Top 5 Leagues (2000-2018)',fontsize=15,style='oblique')\r\nplt.show()","fec5a357":"df_top5.groupby(['League_to','Season'])['Season'].count()","a539a9fa":"sns.countplot(x='Season',hue='League_to',data=df_top5)\r\nsns.set(rc={'figure.figsize':(20,5)})\r\nplt.xticks(rotation=90)\r\nplt.ylabel('')\r\nplt.xlabel('')\r\nplt.title('Transfers For Every Season in Top 5 Leagues (2000-2018) ',fontsize=15,style='oblique')\r\nplt.legend(title='League', bbox_to_anchor=(1,1), loc='upper left')\r\nplt.show()","c9722750":"League_buy = df_top5.groupby(['League_to'])['Transfer_fee'].sum().sort_values(ascending=False)\r\nLeague_buy","8914ed04":"League_buy = df_top5.groupby(['League_to'])['Transfer_fee'].sum().sort_values(ascending=False)\r\nLeague_buy.plot(kind='bar',lw=2,edgecolor='black',width=0.2)\r\nplt.xlabel('League',fontsize=12)\r\nyticks = list(np.arange(0,18000000000,2000000000))\r\nplt.yticks(ticks=yticks, labels =[f\"{round(int(y)\/1000000000)} Billion $ \" if y > 0 else \"0\" for y in yticks] )\r\nplt.title('Which League Pays The Most Money in Transfer Market? ',fontsize=15)\r\nplt.show()","e0f8b7ff":"League_buy.plot(kind='pie',figsize=(20,10),autopct = '%1.1f%%',shadow = True)\r\nplt.title('Which League Pays The Most Money in Transfer Market? ( % ) ',fontsize=15)\r\nplt.ylabel('')\r\nplt.show()","c88e8011":"League_sell = df_top5.groupby(['League_from'])['Transfer_fee'].sum().sort_values(ascending=False)\r\nLeague_sell","4c00d543":"League_sell.head().plot(kind='bar',lw=2,edgecolor='black',width=0.2)\r\nyticks = list(np.arange(0,9000000000,1000000000))\r\nplt.xlabel('League')\r\nplt.title('Which League Gains The Most Money From Selling Players? ',fontsize = 15)\r\nplt.yticks(ticks=yticks, labels =[f\"{round(int(y)\/1000000000)} Billion $ \" if y > 0 else \"0\" for y in yticks] )\r\nplt.show()","f7cb2fe4":"profits = League_sell - League_buy\r\nprofits.sort_values(inplace=True)\r\nprofits.head()\/1000000000","3a0080cf":"sns.barplot(x=profits.head().index,y=profits.head().values,data=profits.head())\r\nplt.xticks(ticks=np.arange(0,5,1),labels=profits.head().index)\r\nplt.title('Do Top 5 leagues make profits or losses from buying and selling players?',style='oblique',fontsize=15)\r\nplt.xlabel('League')\r\nplt.show()","6d166aea":"df_top5['League_to'].value_counts()","9d4021cd":"sns.countplot(x='League_to',data=df_top5,order=df_top5['League_to'].value_counts().index)\r\nplt.xticks(rotation=90)\r\nplt.xlabel('League')\r\nplt.title('Which League Had the Most Transfers In?',fontsize=15,style='oblique')\r\nplt.show()","9bef6b02":"df_top5['League_to'].value_counts().plot(kind='pie',figsize=(12.5,20),autopct = '%1.1f%%',shadow = True)\r\nplt.title('Which League Had The Most Transfers In? ( % )',fontsize=15)\r\nplt.ylabel('')\r\nplt.show()","7aa2a29b":"df_top5.groupby(['League_to','League_from'])['League_to'].count().sort_values(ascending=False).head()","91d5d490":"top_buyers=df_top5.groupby(['Team_to','League_to'])['Transfer_fee'].sum().sort_values(ascending=False)\r\ntop_buyers.head(10)","f724dce8":"(top_buyers.head(10)\/1000000000).plot(kind='bar',lw=2,edgecolor='black')\r\nplt.xlabel(' ')\r\nplt.ylabel('Billion $')\r\nplt.show()","4b417f78":"top_sellers= df_top5.groupby(['Team_from','League_from'])['Transfer_fee'].sum().sort_values(ascending=False)\r\ntop_sellers.head(10)","b459a933":"top_sellers= df_top5.groupby(['Team_from','League_from'])['Transfer_fee'].sum().sort_values(ascending=False)\r\ntop_sellers.head(10).plot(kind='bar',lw=2,edgecolor='black')\r\nyticks = list(np.arange(0,1000000000,100000000))\r\nplt.yticks(ticks=yticks, labels =[f\"{round(int(y)\/1000000)} Million $ \" if y > 0 else \"0\" for y in yticks] )\r\nplt.title('Which Team Gained The Most Money From Selling His Players? ',fontsize=15,style='oblique')\r\nplt.xlabel(' ')\r\nplt.show()","0a4aa3cd":"df_top5['Team_to'].value_counts()[0:10]","3cfeebbd":"sns.countplot(x=\"Team_to\", data=df_top5,order=df_top5['Team_to'].value_counts()[0:75].index)\r\nsns.set(rc={'figure.figsize':(20,5)})\r\nplt.xticks(rotation=90,fontsize='12')\r\nplt.title('Which Team Made The Most Number of Transfers In? ',fontsize=15)\r\nplt.show()","309e76c5":"v=df.loc[df.League_to=='1.Bundesliga']\r\nsns.countplot(x=\"Team_to\", data=v,order=v['Team_to'].value_counts().index)\r\nplt.xlabel(' ')\r\nplt.xticks(rotation=90,fontsize='12')\r\nplt.title('1.Bundesliga Transfers in (2000-2018)',fontsize=15,style='oblique')\r\nplt.show()","38e86c61":"v=df.loc[df.League_to=='LaLiga']\r\nsns.countplot(x=\"Team_to\", data=v,order=v['Team_to'].value_counts()[0:28].index)\r\nsns.set(rc={'figure.figsize':(20,5)})\r\nplt.xlabel(' ')\r\nplt.xticks(rotation=90,fontsize='12')\r\nplt.title('LaLiga Transfers (2000-2018)',fontsize=15,style='oblique')\r\nplt.show()","99c99bf3":"v=df.loc[df.League_to=='Ligue 1']\r\nsns.countplot(x=\"Team_to\", data=v,order=v['Team_to'].value_counts().index)\r\nsns.set(rc={'figure.figsize':(20,5)})\r\nplt.xlabel(' ')\r\nplt.xticks(rotation=90,fontsize='12')\r\nplt.title('Ligue 1 Transfers (2000-2018)',fontsize=15,style='oblique')\r\nplt.show()","092e58ec":"v=df.loc[df.League_to=='Premier League']\r\nsns.color_palette(\"rocket\", as_cmap=True)\r\nsns.countplot(x=\"Team_to\", data=v,order=v['Team_to'].value_counts().index)\r\nsns.set(rc={'figure.figsize':(20,5)})\r\nplt.xlabel(' ')\r\nplt.xticks(rotation=90,fontsize='12')\r\nplt.title('Premier League Transfers (2000-2018)',fontsize=15,style='oblique')\r\nplt.show()","bc1b4214":"v=df.loc[df.League_to=='Serie A']\r\nsns.countplot(x=\"Team_to\", data=v,order=v['Team_to'].value_counts().index)\r\nsns.set(rc={'figure.figsize':(20,5)})\r\nplt.xticks(rotation=90,fontsize='12')\r\nplt.xlabel(' ')\r\nplt.title('Serie A Transfers (2000-2018)',fontsize=15,style='oblique')\r\nplt.show()","655ba9b0":"sns.countplot(x='Age',data=df_top5)\r\nplt.title('Players Age Distribution',fontsize=15,style='oblique')\r\nplt.show()","0cc74469":"df_top5.groupby(['Age'])['Transfer_fee'].agg(['count','min','max'])","be76f1cf":"df_top5.groupby(['League_to'])['Age'].agg(['min','max','mean'])","febd3ff2":"df_top5.groupby(['Position'])['Age'].agg(['min','max','mean'])","20d3302b":"df_top5.groupby(['Position'])['Transfer_fee'].agg(['min','max','mean'])","dd259cdc":"df_top5.loc[df_top5['Age'].idxmin()]","949e3e66":"df_top5.loc[df_top5['Age'].idxmax()]","a9e9e817":"df_top5.loc[df_top5['Transfer_fee'].idxmax()]","d51f28f7":"df_top5.loc[df_top5['Market_value'].idxmax()]","02694719":"df_top5.sort_values('Transfer_fee',ascending=False)[0:10].reset_index(drop=True)","7bc023df":"df_top5.sort_values('Market_value',ascending=False)[0:10].reset_index(drop=True)","794be2c0":"spain = df_top5.loc[df_top5.League_to=='LaLiga'].sort_values('Transfer_fee',ascending=False).reset_index(drop=True)\r\nspain.head(10)","d1a871ae":"spain.head(10)['Team_to'].value_counts()","acd9a196":"france = df_top5.loc[df_top5.League_to=='Ligue 1'].sort_values('Transfer_fee',ascending=False).reset_index(drop=True)\r\nfrance.head(10)","a0b2fcb0":"france.head(10)['Team_to'].value_counts()","1957b6d4":"Germany = df_top5.loc[df_top5.League_to=='1.Bundesliga'].sort_values('Transfer_fee',ascending=False).reset_index(drop=True)\r\nGermany.head(10)","b647d09a":"Germany.head(10)['Team_to'].value_counts()","f15a17a4":"Italy = df_top5.loc[df_top5.League_to=='Serie A'].sort_values('Transfer_fee',ascending=False).reset_index(drop=True)\r\nItaly.head(10)","a53e0b20":"Italy.head(10)['Team_to'].value_counts()","8d4db53a":"England = df_top5.loc[df_top5.League_to=='Premier League'].sort_values('Transfer_fee',ascending=False).reset_index(drop=True)\r\nEngland.head(10)","7358a173":"England.head(10)['Team_to'].value_counts()","bacd33f1":"###  Do Top 5 leagues make profits or losses from buying and selling players?","00ab9fe7":"### The team with the most transfers in the top 5 Leagues","dc4709b9":"### Players' Age distribution","3d0edb9d":"### The teams with the most gained money","820a758d":"### The teams with the largest transfer fee","0440f1db":"### LaLiga - Top 10 Players (Transfer Fee)","04c756d2":"### Age VS League Stats","7644c1ae":"# Stage 3: Exploratory Data Analysis (EDA)","d58c2301":"### The Most Requested Position in Top 5 Leagues","bf151e5a":"### Serie A - Top 10 Players (Transfer Fee)","830baa15":"## A. General Stats","b98c6e9d":"### Top 5 Leagues - The Youngest Player","1bc51f9a":"## C. Players stats","ff58310b":"### Top 5 Leagues - The Oldest Player","2014ddcd":"### Which League Gains The Most Money From Selling Players? ","4b865af0":"### 1.Bundesliga - Top 10 Players (Transfer Fee)","1f526aaf":"### The team with the most transfers in Serie A","7aeae1c5":"### Which League Pays The Most Money in Transfer Market? ","bc6a0442":"### Ligue 1 - Top 10 Players (Transfer Fee)","443aa841":"# footballl transfers between 2000 - 2018 [EDE] ","f7b20dba":"### Age VS Position Stats","a6f68ed7":"### Top 5 Leagues - The Highest Transfer fee","a4ab320d":"## B. Team Stats","f20caa8b":"### The team with the most transfers in Premier League","db1ed712":"# Stage 1 : Data Exploration","d7dac298":"### How many transfers are made each season ?","6b94dc12":"### The team with the most transfers in LaLiga","b32780ae":"###  Which League made the most transfers in? ","4443099e":"### Top 5 Leagues - The Highest Market Value","1ac21a89":"### Preimer League - Top 10 Players (Transfer Fee)","d1fd09a1":"### Top 10 Players ( Transfer Fee )","d5a40762":"### The team with the most transfers in Ligue 1","0eb7363e":"### The team with the most transfers in 1.Bundesliga","774ed013":"# Stage 2: Data Manipulation","e50344e0":"### Top 10 Players ( Market Value )","9332a3c5":"### Age VS Transfer fee stats","c2aa6391":"### The most number of transfers between leagues","6a500b90":"### Position VS Transfer fee Stats"}}