{"cell_type":{"b6fa6936":"code","64c9ebe3":"code","60e076a7":"code","86f7507a":"code","6fdcfc29":"code","08176399":"code","750b2ffa":"code","b3fdfc63":"code","5e8882ac":"code","8898eb49":"code","44752400":"code","a950753c":"code","7fc9b800":"code","b6cecc57":"code","1191beb1":"code","a4d13118":"code","bb8b36c3":"code","8ecdb1b8":"code","6fcf93be":"code","c4bb549f":"code","d6e27378":"code","c379a629":"code","896e188e":"code","959780b8":"code","974d510a":"code","f7e83675":"code","e7c6db7b":"code","49c8e955":"code","83f267c9":"code","7db7b6b8":"code","235126d7":"code","2340317a":"code","430b7f8c":"code","f4ec4184":"code","f39876ce":"code","841b096e":"code","9a3c60d9":"code","e394d7e1":"code","9d694bf8":"code","d6cb7159":"code","4d5afae3":"code","060fdd64":"code","1e46b141":"code","ee80d5f7":"code","c041eb61":"code","db4ad065":"code","5528c8fe":"code","723cf5e1":"code","d2c5ac29":"code","0db5eaa4":"code","25543b59":"code","998b72dc":"code","b2f199ab":"code","dd765e92":"code","9b223c5e":"code","43d30b0d":"code","49a8a34d":"markdown","9815ed6a":"markdown","989c40cd":"markdown","b2180b61":"markdown","aa5d3629":"markdown","70419a4e":"markdown","38d07313":"markdown","bb17ec8c":"markdown","03467a4e":"markdown","8a3bdacd":"markdown","490d1e54":"markdown","69a7e139":"markdown","2c9f719d":"markdown","ddb0ca7b":"markdown","6097af27":"markdown","c3f84d29":"markdown","1e5efc40":"markdown","5bd1c948":"markdown","9f6e2d8b":"markdown","e53a65e4":"markdown","6377a461":"markdown","3d539e5a":"markdown","8cdeb9e4":"markdown","827f3558":"markdown","fd7473f5":"markdown","b80891b0":"markdown","cd5399f9":"markdown","c2f15d43":"markdown","6f7311cc":"markdown","580dc82a":"markdown","49f6af23":"markdown","90b01b8a":"markdown","27fb0799":"markdown","197a1f8a":"markdown","9470def8":"markdown","03eb9a2d":"markdown","b029ca1e":"markdown","b1f0dd16":"markdown","3704c31d":"markdown","afaa4794":"markdown","2ec4ace7":"markdown","edc2fad2":"markdown","cbe33c9a":"markdown","26eada0e":"markdown","426087ab":"markdown","2cd64129":"markdown","a12a2dcc":"markdown","5aa75ff6":"markdown","71312542":"markdown","a8534ee1":"markdown","648a5dc7":"markdown","7a00a814":"markdown","7dd6516c":"markdown","e2c3288d":"markdown","142fbef6":"markdown","6669f4e1":"markdown","88a82edb":"markdown","5eafdb0b":"markdown","103b4a28":"markdown","85baf3d7":"markdown","e2e020a7":"markdown","61c99dc0":"markdown","57329b98":"markdown","69e5578f":"markdown","205f2fda":"markdown","211fb48b":"markdown","3f9dabe8":"markdown","266a7fcb":"markdown","6d9a5fdf":"markdown","1ce72b9f":"markdown","232778b5":"markdown","5479e2eb":"markdown","4cffeff5":"markdown","2babb6f3":"markdown","81852710":"markdown","3c8e5db0":"markdown","3ea9323f":"markdown","8bfc1bed":"markdown","f0ac11a1":"markdown","150184c4":"markdown","d2d77ef9":"markdown","d9f3f05a":"markdown"},"source":{"b6fa6936":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nimport math\nfrom sklearn.preprocessing import LabelEncoder\nwarnings.filterwarnings('ignore')\nplt.style.use('classic')\n%matplotlib inline","64c9ebe3":"# read in datasets\napp = pd.read_csv('..\/input\/google-play-store-apps\/googleplaystore.csv')\nreview = pd.read_csv('..\/input\/google-play-store-apps\/googleplaystore_user_reviews.csv')","60e076a7":"# clean data (only for further analysis purposes, complete code and comments please refer to EDA)\napp = app.drop_duplicates(subset=['App'], keep='first')\napp = app[(app.Price != 'Everyone' )]\napp.Price = app.dropna().Price.apply(lambda x: x.replace('$',''))\napp['Price'] = app['Price'].astype(float)\napp['Last Updated'] = pd.to_datetime(app['Last Updated'] )\napp.Installs = app.dropna().Installs.apply(lambda x: x.replace('+','').replace(',',''))\napp['Installs'] = app['Installs'].dropna().astype(int)\napp['Reviews'] = app['Reviews'].astype(float)\napp.loc[app.Type == 'Free', 'Price'] = 0\napp.Rating = app.Rating.fillna(app.Rating.mean())\nreview = review.dropna(axis = 'rows') ","86f7507a":"app1 = app[app['Price']<=40].dropna() # most apps are under 40 dollars, filter to make it easier to see the trend\nplt.rcParams['figure.figsize'] = (8, 4)\nratings = app1['Rating']\nprices = app1['Price'] \nins = app1['Installs']\nplt.scatter(ratings, prices, c= np.log(ins),alpha = 0.3,label = None) # installs is very large, so I log them\nplt.xlabel('ratings')\nplt.ylabel('prices')\nplt.colorbar(label = 'log$_{10}$(installs)')\nplt.clim(3,6)\nplt.title('Ratings,installs and Prices ')\nplt.show;","6fdcfc29":"df = app.groupby(['Category'])[['Rating', 'Installs', 'Price']].mean()","08176399":"# scale\nfrom sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\nscaler.fit(df)\ndf_scaled=scaler.transform(df)","750b2ffa":"from sklearn.decomposition import PCA\npca = PCA(n_components=2) \npca.fit(df_scaled)\npca_loadings = pca.components_","b3fdfc63":"plt.figure()\nfor i in range(2):\n    plt.subplot(1,2,i+1)\n    heights = np.squeeze(pca_loadings[i,:])\n    bars = ['Rating', 'Installs', 'Price']\n    x_pos = np.arange(len(bars))\n    plt.bar(x_pos, heights)\n    plt.xticks(x_pos, bars)\n    plt.title(\"Loadings PC \"+str(i+1))\n    plt.ylim(-1,1)\nprint(i);","5e8882ac":"pca_scores = pca.fit_transform(df_scaled)\nplt.rcParams['figure.figsize'] = (17, 8)\n# Reference: https:\/\/github.com\/teddyroland\/python-biplot\/blob\/master\/biplot.py\nxvector = pca.components_[0] \nyvector = pca.components_[1]\nxs = pca_scores[:,0]\nys = pca_scores[:,1]\nfor i in range(len(xvector)):\n# arrows project features (ie columns from csv) as vectors onto PC axes\n    plt.arrow(0, 0, xvector[i]*max(xs), yvector[i]*max(ys),\n              color='r', width=0.0005, head_width=0.0025)\n    plt.text(xvector[i]*max(xs)*1.2, yvector[i]*max(ys)*1.2,\n             list(df.columns.values)[i], color='r')\n\nfor i in range(len(xs)):\n# circles project documents (ie rows from csv) as points onto PC axes\n    plt.plot(xs[i], ys[i], 'bo')\n    plt.text(xs[i]*1.2, ys[i]*1.2, list(df.index)[i], color='b')\nplt.xlabel('First Principal Component')\nplt.ylabel('Second Principal Component')\nplt.show();","8898eb49":"plt.rcParams['figure.figsize'] = (8, 4)\nplt.scatter(x=np.log(app.Reviews), y=app.Rating,alpha=0.1)\nplt.ylabel('ratings')\nplt.xlabel('log(reviews)')\nplt.title('reviews and rating');","44752400":"plt.rcParams['figure.figsize'] = (8, 4)\nplt.scatter(x=np.log(app.Installs), y=app.Rating,alpha=0.1)\nplt.ylabel('ratings')\nplt.xlabel('log(Installs)')\nplt.title('Installs and rating');","a950753c":"plt.rcParams['figure.figsize'] = (8, 4)\nplt.scatter(x=app.Price, y=app.Rating,alpha=0.1)\nplt.ylabel('ratings')\nplt.xlabel('prices')\nplt.xlim(-1,40)\nplt.title('price and rating');","7fc9b800":"corr=app[['Rating','Installs','Price','Reviews']].corr()\nax = sns.heatmap(\n    corr, \n    vmin=-1, vmax=1, center=0,\n    cmap=sns.diverging_palette(20, 220, n=200),\n    square=True\n)\nax.set_yticklabels(\n    ax.get_yticklabels(),\n    rotation=0,\n);","b6cecc57":"plt.rcParams['figure.figsize'] = (8, 4)\nsns.boxplot(y = app['Rating'], x = app['Content Rating'],width=0.5, linewidth=0.8,fliersize=1)\nplt.xticks(rotation=90)\nplt.ylim(0,6)\nplt.title('Ratings in Different Content Rating Categories',fontsize = 20)\nplt.ylabel('Ratings',fontsize = 15)\nplt.xlabel('Content Rating',fontsize = 15)\nplt.show();","1191beb1":"plt.rcParams['figure.figsize'] = (15, 6)\nsns.boxplot(y = app['Rating'], x = app['Genres'],width=0.5, linewidth=0.8,fliersize=1)\nplt.xticks(rotation=90)\nplt.ylim(0,6)\nplt.title('Ratings in Different Genres',fontsize = 20)\nplt.ylabel('Ratings',fontsize = 15)\nplt.xlabel('Genres',fontsize = 15)\nplt.show();","a4d13118":"plt.rcParams['figure.figsize'] = (15, 6)\nsns.boxplot(y = app['Rating'], x = app['Category'],width=0.5, linewidth=0.8,fliersize=1)\nplt.xticks(rotation=90)\nplt.ylim(0,8)\nplt.title('Ratings in Different Categories',fontsize = 20)\nplt.ylabel('ratings',fontsize = 15)\nplt.xlabel('category',fontsize = 15)\nplt.show();","bb8b36c3":"combine = pd.merge(app,review,on='App',how='left')","8ecdb1b8":"combine.head(5)","6fcf93be":"#calculate the proportion of neutral,positive,negative reviews\nsentiment_count = combine.groupby(['App','Sentiment']).count()\nproportion = sentiment_count['Category']\nproportion = proportion.groupby(level=0).apply(lambda x:\n                             x \/ float(x.sum()))","c4bb549f":"p = proportion.to_frame()\np = p.reset_index(level=['App', 'Sentiment']) \n# select neutral,positive,negative reviews separately\npropor_po = p[p['Sentiment'].isin(['Positive'])][['App','Category']]\npropor_ne = p[p['Sentiment'].isin(['Negative'])][['App','Category']]\npropor_neu = p[p['Sentiment'].isin(['Neutral'])][['App','Category']]\n# change column names\npropor_po.columns = ['App', 'positive_proportion']\npropor_ne.columns = ['App','negative_proportion']\npropor_neu.columns = ['App','neutral_proportion']\n# calculate average sentiment polarity and subjectivity\nsentiment_polar = pd.DataFrame(combine.dropna().groupby(['App'])['Sentiment_Polarity'].mean()).reset_index()\nsentiment_sub = pd.DataFrame(combine.dropna().groupby(['App'])['Sentiment_Subjectivity'].mean()).reset_index()\n# merge all these data frames at the same time\nfrom functools import reduce\ndata_frames = [app,propor_po, propor_ne, propor_neu,sentiment_polar,sentiment_sub]\nsentiment3 = reduce(lambda  left,right: pd.merge(left,right,on=['App'],\n                                            how='outer'), data_frames)\nsentiment3.head(3)","d6e27378":"features = ['Rating','Reviews','Installs','Price','positive_proportion','negative_proportion','neutral_proportion','Sentiment_Polarity','Sentiment_Subjectivity']\n# Separating out the features\nx = sentiment3[features].dropna()\ncorr = x.corr()\ncorr","c379a629":"ax = sns.heatmap(\n    corr, \n    vmin=-1, vmax=1, center=0,\n    cmap=sns.diverging_palette(20, 220, n=200),\n    square=True\n)\nax.set_xticklabels(\n    ax.get_xticklabels(),\n    rotation=45,\n    horizontalalignment='right'\n);","896e188e":"scaler = StandardScaler()\nscaler.fit(x)\nx_scaled=scaler.transform(x)\npca = PCA() \npca.fit(x_scaled)\nprint('The variance explained by the components is \\n' + str(pca.explained_variance_ratio_))","959780b8":"plt.rcParams['figure.figsize'] = (8, 4)\nplt.plot(np.arange(1,10) , np.cumsum(pca.explained_variance_ratio_))\nplt.axvline(5,color='black', linestyle='--')\nplt.xlabel('Number of Components')\nplt.ylabel('Cummulative Explained Variance')\nplt.title('Scree Plot')\nplt.show();","974d510a":"pca = PCA(n_components=5)\npca.fit(x_scaled)\npca_loadings = pca.components_\nplt.rcParams['figure.figsize'] = (8, 4)\nplt.figure()\nfor i in range(2):\n    plt.subplot(1,2,i+1)\n    heights = np.squeeze(pca_loadings[i,:])\n    bars = ['Rating','Reviews','Installs','Price','positive_proportion','negative_proportion','neutral_proportion','Sentiment_Polarity','Sentiment_Subjectivity']\n    x_pos = np.arange(len(bars))\n    plt.bar(x_pos, heights)\n    plt.xticks(x_pos, bars,rotation=90)\n    plt.title(\"Loadings PC \"+str(i+1))\n    plt.ylim(-1,1)\nprint(i)","f7e83675":"from kmodes.kprototypes import KPrototypes\npca_scores = pca.fit_transform(x_scaled)\nsentiment3[['PCA1','PCA2','PCA3','PCA4','PCA5']] = pd.DataFrame(pca_scores[:,0:5])\ncluster_df = sentiment3[['PCA1','PCA2','PCA3','PCA4','PCA5','Category','Content Rating']].dropna()\nkproto = KPrototypes(n_clusters=10, init='Cao')\nclusters = kproto.fit_predict(cluster_df, categorical=[5, 6])\ncluster_df['kmodes'] = clusters","e7c6db7b":"g = sns.lmplot(\"PCA1\", \"PCA2\", data=cluster_df,  \n           hue='kmodes', fit_reg=False)\ng.set(xlabel = 'First Principle Component',ylabel='Second Principle Component',title='Clustering of All Apps')\ng._legend.set_title('Cluster')\nnew_labels = ['cluster 1', 'cluster 2','cluster 3','cluster 4','cluster 5','cluster 6','cluster 7','cluster 8','cluster 9','cluster 10']\nfor t, l in zip(g._legend.texts, new_labels): t.set_text(l);","49c8e955":"syms = sentiment3[['App','PCA1','PCA2','PCA3','PCA4','PCA5','Category','Content Rating']].dropna().App\nfor s, c in zip(syms[5:15], clusters[5:15]):\n    print(\"App: {}, cluster:{}\".format(s, c))","83f267c9":"app = pd.read_csv('..\/input\/google-play-store-apps\/googleplaystore.csv')\nreview = pd.read_csv('..\/input\/google-play-store-apps\/googleplaystore_user_reviews.csv')\napp.head(3)","7db7b6b8":"print (\"The shape of the app dataset is \" + str(app.shape))","235126d7":"print (\"The data type of the app dataset is:\\n\" + str(app.dtypes))","2340317a":"review.head(3)","430b7f8c":"print (\"The shape of the review dataset is \" + str(review.shape))","f4ec4184":"print (\"The data type of the review dataset is:\\n\" + str(review.dtypes))","f39876ce":"print (\"The unique number of observations of apps in app dataset is:\" + str(app.App.nunique()))","841b096e":"app = app.drop_duplicates(subset=['App'], keep='first')","9a3c60d9":"app = app[(app.Price != 'Everyone' )]\napp.Price = app.dropna().Price.apply(lambda x: x.replace('$',''))\napp['Price'] = app['Price'].astype(float)","e394d7e1":"app['Last Updated'] = pd.to_datetime(app['Last Updated'] )","9d694bf8":"app.Installs = app.dropna().Installs.apply(lambda x: x.replace('+','').replace(',',''))\napp['Installs'] = app['Installs'].dropna().astype(int)","d6cb7159":"app['Reviews'] = app['Reviews'].astype(float)","4d5afae3":"app.isna().sum()","060fdd64":"app.loc[app.Type == 'Free', 'Price'] = 0\napp.Rating = app.Rating.fillna(app.Rating.mean())","1e46b141":"review.isna().sum()","ee80d5f7":"review = review.dropna(axis = 'rows') ","c041eb61":"app.head(3)","db4ad065":"paid = app[app['Type'].isin(['Paid'])] \nplt.rcParams['figure.figsize'] = (8, 4)\nplt.hist(paid.Price,bins=500,color = \"skyblue\")\nplt.xlim(0,40) # remove outliers\nplt.xlabel('prices')\nplt.ylabel('frequency')\nplt.title('Distribution of prices for paid apps')\nplt.show();","5528c8fe":"plt.rcParams['figure.figsize'] = (8, 4)\nrat = app.Rating\nplt.hist(rat,bins=60,color = \"skyblue\")\nplt.xlabel('ratings')\nplt.ylabel('frequency')\nplt.title('Distribution of ratings')\nplt.show();","723cf5e1":"plt.rcParams['figure.figsize'] = (8, 4)\nrat = np.log(app.Installs)\nplt.hist(rat,bins=60,color = \"skyblue\")\nplt.xlabel('log(installs)')\nplt.ylabel('frequency')\nplt.title('Distribution of installs')\nplt.show();","d2c5ac29":"plt.rcParams['figure.figsize'] = (8, 4)\nrew = app.Reviews.dropna()\nplt.hist(np.log(rew+1),bins=60,color = \"skyblue\")\nplt.xlabel('log(reviews)')\nplt.ylabel('frequency')\nplt.title('Distribution of reviews')\nplt.show();","0db5eaa4":"plt.rcParams['figure.figsize'] = (15, 6)\ncount_category = app.dropna().groupby(['Category']).count() \ncount_category.App.plot(kind='bar', fontsize = 7, rot=0,title=\"Number of Apps in each category\",color = \"skyblue\",alpha=0.5)\nplt.ylabel('Count')\nplt.xlabel('Category')\nplt.xticks(rotation=90); # prevent x axis overlap","25543b59":"plt.rcParams['figure.figsize'] = (15, 6)\nsns.boxplot(y = np.log(app['Installs']), x = app['Category'],width=0.5, linewidth=0.8,fliersize=1)\nplt.xticks(rotation=90)\n#plt.ylim(0,8)\nplt.title('Installs in Different Categories',fontsize = 20)\nplt.ylabel('Installs',fontsize = 15)\nplt.xlabel('category',fontsize = 15)\nplt.show();","998b72dc":"plt.rcParams['figure.figsize'] = (8, 5)\napp.groupby(['Category'])['Rating'].mean().sort_values(ascending=False).head(10).plot(kind='bar')\nplt.title('Top 10 categories in rating')\nplt.ylabel('average rating');","b2f199ab":"plt.rcParams['figure.figsize'] = (8, 5)\napp.groupby(['Category'])['Installs'].mean().sort_values(ascending=False).head(10).plot(kind='bar')\nplt.title('Top 10 categories in installs')\nplt.ylabel('average installs');","dd765e92":"plt.rcParams['figure.figsize'] = (8, 5)\napp.groupby(['Category'])['Price'].mean().sort_values(ascending=False).head(10).plot(kind='bar')\nplt.title('Top 10 categories in prices')\nplt.ylabel('average price');","9b223c5e":"plt.rcParams['figure.figsize'] = (8, 5)\napp.groupby(['App'])['Rating'].mean().sort_values(ascending=False).head(10).plot(kind='bar')\nplt.title('Top 10 apps in rating')\nplt.ylabel('average rating');","43d30b0d":"plt.rcParams['figure.figsize'] = (8, 5)\napp.groupby(['Genres'])['Rating'].mean().sort_values(ascending=False).head(10).plot(kind='bar')\nplt.title('Top 10 genres in rating')\nplt.ylabel('average rating');","49a8a34d":"Q2: How do different variables influence the rating of apps? ","9815ed6a":"## <center> Introduction and Background<\/center>","989c40cd":"From the scree plot I decided to keep 5 components in order to explain approximately 90% variance.","b2180b61":"### Question 1","aa5d3629":"In this part, I collect data and look at its content, shape and data types.","70419a4e":"I drop all rows with missing values in review dataset.","38d07313":"### EDA","bb17ec8c":"<br>&emsp;The blue category names represent the scores for the first two principal components. The red arrows indicate the first two principal component loading vectors. All three PCAs are similarly correlated with the others. \n<br>&emsp;Categories with large positive scores on the first component, such as Communication, Video_players and Travel_and_local, have high installations, while categories like Education,Events and Art & Design, with negative scores on the first component, have high ratings. Categories close to zero on both components, such as Health & Fitness, have approximately average levels of both installs and ratings. Lifestyle and Finance categories have high positive scores on the second component, indicating that they have relatively high prices.\n<br>&emsp;Therefore, developers can look at this biplot to evaluate overall performances of apps in different categories.","03467a4e":"# <center> Mobile Apps Analysis<\/center>","8a3bdacd":"This is the final project for the course Data Science I in Weill Cornell Medicine.","490d1e54":"For example,in cluster 3, App Paper flowers instructions, Garden Coloring Book, and Name Art Photo Editor all belongs to ART_AND_DESIGN category and they all have a relatively high rating or installs. Whereas other apps like smoke Effect Photo Maker and Text on Photo, they are also in ART_AND_DESIGN category but they have a relatively lower rating and installs, so they are clustered into other groups. Therefore, when we analyze apps we are interested in, we can ignore apps in the same category but in the different cluster, since they perform relatively worse and do not have much value for analysis.","69a7e139":"Installs:\n<br>1. Remove '+' and ','  e.g. change 1,000+ to 1000\n<br>2. Change data type to int.","2c9f719d":"The dataset ready for analysis is as follows:","ddb0ca7b":"Content Rating does not effect too much to rating, but in Mature applications, it looks like they get a lower median rating than others.","6097af27":"Date:\n<br> Change data type to datatime","c3f84d29":"Most popular apps have around 20k installs.","1e5efc40":"## <center> Results<\/center>","5bd1c948":"<br>&emsp;(1) Data cleaning:\n<br>&emsp;The data was cleaned through removing duplicate records and errors in the data like redundant symbols, transforming the data type and dealing with missing values.\n<br>&emsp;(2) Libraries used:\n<br>&emsp;The libraries pandas, numpy, matplotlib, seaborn, kmodes and sklearn were used.\n<br>&emsp;(3) Questions:\n<br>&emsp;For question one, I focused on three variables, namely ratings, installs and prices since they are the most important indicators for developers. We desire a better rating, the most installs and a relatively better price to earn money. I dismissed reviews and other variables since they are not the top priorities for consideration when developing an app. Therefore I calculated the average ratings, installs and prices for each category of apps and then I extracted two principle components using PCA in order to better visualize them. Finally, I drew a biplot and we can evaluate performances of apps in different categories. \n<br>&emsp;For question two, I visualized the relationships between prices, installs, reviews, content ratings and ratings separately. Then we can analyzed their inner associations.\n<br>&emsp;For question three, in order to cluster the apps into smaller groups, I considered as many variables as possible, that are ratings, reviews, installs, prices, category and content rating. I merged the external data with main dataset in order to take reviews into consideration since the number of reviews alone doesn't tell the story. We also need to know the sentiment of the comments. Considering the inner correlation within review-related variables, I first performed PCA on all the continuous variables. Then considering we have both continuous and categorical variables at the same time, I used k-prototypes clustering<sup>[2][3][4]<\/sup>.Finally I visualized each app stratified by its cluster and we can obtain the cluster for each app. ","9f6e2d8b":"The types of 'price','Reviews' and 'Last Updated' in app dataset deserve attention.","e53a65e4":"<br>&emsp;Then I scaled these variables and determined k number.","6377a461":"For this question, I drew figures to visualize the relationship between variables.","3d539e5a":"It makes sense that finance apps are expensive.","8cdeb9e4":"It seems like well-known applications will get a good rating.","827f3558":"(2) Cope with errors and change data type in each variable volumn in app dataset\n<br> Prices:\n<br>1. Remove dollar sign  e.g. change $0.99 to 0.99\n<br>2. There are wrong values like 'Everyone', not a price\n<br>3. Change data type to float","fd7473f5":"Q3: How to cluster apps into specific number of clusters?","b80891b0":"In summary so far we cluster all apps into 10 clusters and we can get the cluster each app belongs to. In each cluster, the apps belongs to similar categories and have similar content rating, also, they perform similarly in installs, ratings and so on.Therefore when we determine to develop apps in a certain category, we can further explore similar apps in the same cluster to learn more about their pattern of success.","cd5399f9":"The number of installs will affect ratings but they are not a simple positive correlation. Generally, more installs indicate the app is relatively well-known and this confirms the value of the app, which will be reflected on rating. However, more users will also bring more negative feedback.","c2f15d43":"Q1: How about the performances of apps in different categories regarding ratings, prices and installs?","6f7311cc":"For every cell, row variable correlation with the column variable is the value of the cell. Higher absolute values indicate stronger relationship.","580dc82a":"app dataset:","49f6af23":"I fill the missing value in column Rating with mean rating value, just leave NaN for columns Installs and Type. For column Price, if Type equals Free, then it should be zero.If the app requires payment,considering the huge differences between prices, I just leave NaN for that price.","90b01b8a":"There are many categories, let's look at them.","27fb0799":"There are not very obvious differences in ratings between different categories.It seems that Dating apps have a relative lower rating.","197a1f8a":"<br>&emsp;In summary, regarding performances in different categories, app in Communication, Video_players and Travel_and_local have high installations, while categories like Education,Events and Art & Design have high ratings. Categories such as Health & Fitness, have approximately average levels of both installs and ratings. Lifestyle and Finance categories have relatively higher prices. In order to make a high rating app, we had better make it free if we are not so confident about its performance. Inspiration for installation and writing a review is also a good strategy. We can cluster all different apps into 10 clusters and in each cluster, the apps have similar content or category, and perform similarly in rating, install and reviews.","9470def8":"#### Data Visualisation and Exploration","03eb9a2d":"Missing values in the review dataset:","b029ca1e":"## <center> Abstract<\/center>","b1f0dd16":"Higher price application may make customer disappointed, if they are not good enough. However, if they are good enough, they will have a good rating even with a price.","3704c31d":"<br> ","afaa4794":"[4] Z.Huang (1998): Extensions to the k-Means Algorithm for Clustering Large Data Sets with Categorical Variables, Data Mining <br>&emsp;and Knowledge Discovery 2, 283-304.","2ec4ace7":"<br> (3) Missing values\n<br> Missing values in the app dataset:","edc2fad2":"Creativity, pretend play and health, fitness and education apps rank higher in rating.","cbe33c9a":"In this part, I cleaned the data by changing wrong data types, removing errors and duplicate records,as well as dealing with missing values.","26eada0e":"Let us look at the first two PCAs' loadings and then get PCA scores.","426087ab":"The first loading vector places most weight on review-related variables, with much less weight on others. The second loading vector places most of its weight on prices, rating and installs.","2cd64129":"## <center> Methods<\/center>","a12a2dcc":"From the heatmap, we can see that reviews and installs, sentiment_polarity and positive_proportion,sentiment_polarity and negative_proportion, as well as negative_proportion and positive_proportion have a stronger inner relationship among themselves.","5aa75ff6":"Then I considered these variables together with content rating and category at the same time since content rating and category are definitely evidence of cluster. Considering we have both continuous and categorical variables at the same time, I used k-prototypes clustering. I clustered all apps into 10 clusters as follows:","71312542":"From all above results, we find that in order to make a high rating app, we had better make it free if we are not so confident in its appealing. Making policies to attract more users and inspire old users to write a review might help improve rating. Generally speaking, rating is influenced by many factors. To be specific, apps whose content rating is adults over 18+ and genre in Art & Design might be a good start.","a8534ee1":"[1] Google Play Store Apps, Web scraped data of 10k Play Store apps for analysing the Android market.     <br>&emsp;https:\/\/www.kaggle.com\/lava18\/google-play-store-apps","648a5dc7":"#### Data Collection","7a00a814":"<br>&emsp;We can roughly conclude that as the rating increases, the number of installs does not necessarily increase. Prices are not effect much to rating ,but if the app is very expensive, it might get low ratings. \n<br>&emsp;Then PCA was performed to reduce dimension so we can better visualize them. In PCA I scaled the variables, then looked at the loadings of each principle component and drew a biplot. Since PCA was used for visualization, the number of components was supposed to be two. The result is as following:","7dd6516c":"All these top rating categories are similar in rating.It makes sense since education, beauty,social and game are all major parts of our daily life.","e2c3288d":"### Question 2","142fbef6":"review dataset:","6669f4e1":"Entertainment apps have many more installs while business and medical apps have fewer installs.This makes sense since everyone needs entertainment while business and medical apps are more open to people in business or caring more about health.","88a82edb":"The top three categories that have most apps are Family,Game and Tools.","5eafdb0b":"<br>&emsp;Mobile applications have been a part of smartphones for over a decade. Mobile App Market is the fastest growing segment in the mobile industry. Customers, developers and distribution platforms all benefit from mobile app industry. Therefore, it is very meaningful to analyze mobile app market in order to track for the success of apps. Google Play and the Apple App Store are the leading distribution platforms for mobile applications, and our data<sup>[1]<\/sup> derives from Google Play Store. In the main dataset, over 10,000 apps are included and each app has values for its own category, rating, size, price, content rating, number of installs, number of ratings and genres. To further explore the reviews, I had external dataset containing sentiment (positive or negative), polarity and subjectivity grade of sentiment in each review for all the apps. These data were scraped from Google Play Store 10 months ago.\n<br>&emsp; In this study, I mainly focused on three questions:(1) How about the performances of apps in different categories regarding ratings, prices and installs? (2) How do different variables influence the rating of apps? (3) How to cluster apps into a specific number of clusters? By answering these questions, from a developer's perspective, we can better decide which category of apps should we develop and have a clear idea of how to make a high rating app, and we can further explore similar apps in the same cluster as the apps we are interested in.","103b4a28":"Most apps have a low price.","85baf3d7":"For most apps, the ratings are around 4.3 to 4.7.","e2e020a7":"From this heatmap, we can have an overall idea of the association among all these continuous variables. We can find that reviews and installs have a relatively stronger relationship among these variables. However, rating does not show a very strong relationship with others.","61c99dc0":"Not so many apps have over 20k reviews.","57329b98":"Considering the inner correlation within review-related variables, I performed PCA on all the continuous variables. First let's look at their inner correlation after removing missing values:","69e5578f":"## <center> Appendix<\/center>","205f2fda":"These apps are not so popular, it is possible that they have a high rating only due to few users placing ratings.","211fb48b":"First let's have a simple look at the relationship between ratings, prices and installs.","3f9dabe8":"## <center> Conclusion<\/center>","266a7fcb":"I merged external dataset with original dataset and I calculated the proportion of neutral, positive and negative reviews, as well as the mean value of sentiment polarity and subjectivity for each app.The original merged dataset is:","6d9a5fdf":"### References","1ce72b9f":"[3] Huang, Z.: Clustering large data sets with mixed numeric and categorical values, Proceedings of the First Pacific Asia <br>&emsp;Knowledge Discovery and Data Mining Conference, Singapore, pp. 21-34, 1997.","232778b5":"<br>&emsp;Considering the fastest growing of mobile app market, the app data has enormous potential to drive app-making businesses to success. In this study, I explored the performances of apps to provide a guidance for app development. To be specific, biplot was used to evaluate performances of apps in different categories in price, rating and installs, the factors related to rating were shown in visualization and finally all apps were clustered into 10 smaller groups through k-prototypes clustering after dimensionality reduction by PCA.\n<br>&emsp;Key words: Clustering, PCA, k-prototypes, biplot, Visualization","5479e2eb":"Reviews:\n<br> change data type to float","4cffeff5":"Genres like Art & Design have a relatively higher rating.","2babb6f3":"The first loading vector places most weight on installs and ratings, with much less weight on Prices. The second loading vector places most of its weight on prices and much less weight on the other two features.","81852710":"[2] Python implementations of the k-modes and k-prototypes clustering algorithms, for clustering categorical data.\n<br>&emsp;https:\/\/github.com\/nicodv\/kmodes","3c8e5db0":"#### Data Cleaning","3ea9323f":"Some categories do a good job both in installs and ratings like social and game.The most popular apps are about communication, social and video players.","8bfc1bed":"We can have a rough look at some of the apps and the cluster it belongs to. ","f0ac11a1":"Have a look at the finally cleaned app dataset.","150184c4":"### Question 3","d2d77ef9":"(1) Duplicate records:","d9f3f05a":"This means there are duplicate records for the same app.\nRemove duplicate apps and keep the first record:"}}