{"cell_type":{"40aaf420":"code","31c24ca4":"code","0062ef18":"code","4b2d5869":"code","f9a11dcc":"code","31b5a7d3":"code","01ee3a21":"code","a96d6bc3":"code","51cbedea":"code","9decdec4":"code","ffafe468":"code","1116ed57":"code","dbc6a008":"code","6a79a12a":"code","232feff8":"code","c6c62d3d":"code","898ecedf":"markdown","74803fdb":"markdown","f084989b":"markdown","2df83612":"markdown","208fa8af":"markdown","9a95b889":"markdown"},"source":{"40aaf420":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","31c24ca4":"data=pd.read_csv('\/kaggle\/input\/hr-analytics\/HR_comma_sep.csv')\ndata.head()","0062ef18":"data.columns","4b2d5869":"# Delete number_project,promotion_last_5year and Work_accident\n# label encode last two columns\nfrom sklearn.preprocessing import LabelEncoder as LE\nle=LE()\ndata=data.drop(['number_project','promotion_last_5years', 'Work_accident'],axis=1)\ndata['Department']=le.fit_transform(data['Department'])\ndata['salary']=le.fit_transform(data['salary'])\n","f9a11dcc":"data.head()","31b5a7d3":"data.corr()","01ee3a21":"# check how satisfied is people who left and don't left\nimport seaborn as sbn\nimport matplotlib.pyplot as plt\nsbn.histplot(x=data[data.left==1].satisfaction_level,kde=False,color='red')\nsbn.histplot(x=data[data.left==0].satisfaction_level,kde=False)\nplt.legend()","a96d6bc3":"# make a contengency table of left and salary\ncttable = pd.crosstab(data['left'],\n                            data['salary'], \n                               margins = False)\n\ncttable.loc[len(cttable.index)] = [sum(cttable[0]),sum(cttable[1]),sum(cttable[2])] \ncttable","51cbedea":"# make the contengency table column frequency contengency talble\n# here 0=left,1=not left and 0=high 1=low 2=medium\ncttable.loc[0] = cttable.loc[0]\/cttable.loc[2]\ncttable.loc[1] = cttable.loc[1]\/cttable.loc[2]\ncttable.iloc[:2]","9decdec4":"# plot it in a heatmap to see how leaving the job is related with salary \nsbn.heatmap(cttable.iloc[:2])\nplt.text(0.2, 0.5, 'high')#'0= high 1= low 2=med')\nplt.text(1.5, 0.5, 'low')\nplt.text(2.3, 0.5, 'med')","ffafe468":"cttable2 = pd.crosstab(data['left'],\n                            data['Department'], \n                               margins = False)\n\ncttable2.loc[2] = [sum(cttable2[0]),sum(cttable2[1]),sum(cttable2[2]),\n                                    sum(cttable2[3]),sum(cttable2[4]),sum(cttable2[5]),\n                   sum(cttable2[6]),sum(cttable2[7]),sum(cttable2[8]),sum(cttable2[9])] \nfor i in range(2):\n    \n    cttable2.loc[i] = cttable2.loc[i]\/cttable2.loc[2]\n\ncttable2.iloc[:2]","1116ed57":"sbn.heatmap(cttable2.iloc[:2])","dbc6a008":"from sklearn.model_selection import train_test_split as tts\n#ft=data.drop(['left'],axis=1)\nft=data[['Department','satisfaction_level','salary']]\nlabel=data.left\nX,x,Y,y=tts(ft,label)","6a79a12a":"# simple model\nfrom sklearn.linear_model import LogisticRegression as lr\n","232feff8":"# model training and find accuracy\nmodel=lr()\nmodel.fit(X,Y)\nmodel.score(x,y)\n","c6c62d3d":"print(y[200:201])\nmodel.predict(x[200:201])\n#it seems working ","898ecedf":"It seems people with high icome tends to leave their job than low income,what a contradiction!","74803fdb":"Taking some features is better than taking all","f084989b":"conclusion:satisfaction is one of the main reason for people leaving the job","2df83612":"It looks like satisfaction is one of the reasons why people are leaving","208fa8af":"* Do some analysis to find wich variable has clear impact on emply retentation\n* chart of employ salary and retentation\n* chart of department and retentation\n* Simple sklearn model to find do employ stay or not\n","9a95b889":"Department numbered 1 and 4 seems boring, which are management and RandD(research and development)"}}