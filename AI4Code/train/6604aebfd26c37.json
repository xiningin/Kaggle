{"cell_type":{"f14d45f0":"code","53e37e71":"code","0a87ff11":"code","09586cbf":"code","2969423e":"code","c6c89f9b":"code","a84ebf38":"markdown","ddc4db7b":"markdown","2e3dfebe":"markdown"},"source":{"f14d45f0":"# Load libraries and import data\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n\ndf = pd.read_csv('..\/input\/crisis-data.csv')","53e37e71":"print('Dimensions: ', df.shape)\nprint('Unique IDs: ', df['Template ID'].nunique())\nprint('Data from ', min(df['Reported Date']), ' to ', max(df['Reported Date']))\ndf.head()","0a87ff11":"# Delete rows with bad date data\ndf = df.loc[df['Reported Date'] != '1900-01-01',:]","09586cbf":"# Set column types\ndf['Reported Date'] = pd.to_datetime(df['Reported Date'])\ndf['Precinct'] = pd.Categorical(df['Precinct'])","2969423e":"df['Date'] = pd.to_datetime(df['Reported Date']) - pd.to_timedelta(7, unit='d')\nfig, ax = plt.subplots(figsize=(14, 8))\ndf.groupby([pd.Grouper(key='Date', freq='W-MON'), 'Precinct'])['Template ID'].nunique().reset_index(level=1).last(\"5M\").reset_index().pivot(index='Date', columns='Precinct', values= 'Template ID').plot(ax=ax)\nplt.title('Events by week by precinct')\nplt.show()","c6c89f9b":"fig, ax = plt.subplots(figsize=(14, 10))\n(df[['Template ID', 'Disposition']].groupby(['Disposition'])['Template ID'].nunique().sort_values()).plot.barh(ax=ax)\nplt.title('Events by Disposition')\nplt.show()","a84ebf38":"### By Precinct","ddc4db7b":"# Dashboarding: Seattle Crisis Data","2e3dfebe":"### By  Disposition"}}