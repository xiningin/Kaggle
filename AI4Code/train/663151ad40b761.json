{"cell_type":{"bf5d8b7b":"code","74670302":"code","28d63e04":"code","3e0bd2b3":"code","be808f15":"code","9237e4aa":"code","32d21075":"code","bf9cd69e":"code","6456db81":"code","bb1c763c":"code","87521694":"code","c2361c25":"code","9d7a26fd":"code","91779db6":"code","82174540":"code","8267ebc8":"code","54279011":"markdown","a9582f43":"markdown","1379986f":"markdown"},"source":{"bf5d8b7b":"import numpy as np\nimport pandas as pd\nimport os\n\nimport matplotlib.pyplot as plt\nimport folium\n\n# for dirname, _, filenames in os.walk('\/kaggle\/input\/uncover\/hifld'):\nfor dirname, _, filenames in os.walk('\/kaggle\/input\/uncover\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","74670302":"df = pd.read_csv('..\/input\/uncover\/hifld\/hifld\/hospitals.csv')","28d63e04":"df.head()","3e0bd2b3":"df.describe(include='all')","be808f15":"# replace missing indicator -999 by 0\ndf.beds[df.beds==-999] = 0\ndf.beds.describe()","9237e4aa":"# count hospitals and beds by state\ndf_state_stats = df.groupby('state').agg(\n                    n = pd.NamedAgg(column='id', aggfunc='count'),\n                    beds = pd.NamedAgg(column='beds', aggfunc='sum'))\ndf_state_stats['average_beds'] = df_state_stats.beds \/ df_state_stats.n\ndf_state_stats","32d21075":"n = df.shape[0]\nprint('Number of hospitals: ', n)","bf9cd69e":"lat = 37\nlon = -90\nm = folium.Map([lat, lon], zoom_start=4)\n\nfor i in range(0,n):\n   folium.Circle(\n      location=[df.latitude.iloc[i], df.longitude.iloc[i]],\n      popup=df.name.iloc[i] + \" - number of beds:\" + str(df.beds.iloc[i]),\n      radius=250.0*np.sqrt(df.beds.iloc[i]),\n      color='red',\n      fill=True,\n      fill_color='red'\n   ).add_to(m)\n\n# show map\nm","6456db81":"df_NY = df[df.state=='NY']","bb1c763c":"df_NY.describe()","87521694":"n_NY = df_NY.shape[0]\nprint(n_NY)","c2361c25":"lat = 42\nlon = -72\nm = folium.Map([lat, lon], zoom_start=7)\n\nfor i in range(0,n_NY):\n   folium.Circle(\n      location=[df_NY.latitude.iloc[i], df_NY.longitude.iloc[i]],\n      popup=df_NY.name.iloc[i] + \" - number of beds:\" + str(df_NY.beds.iloc[i]),\n      radius=100.0*np.sqrt(df_NY.beds.iloc[i]),\n      color='red',\n      fill=True,\n      fill_color='red'\n   ).add_to(m)\n\n# show map\nm","9d7a26fd":"df_NYC = df[df.city=='NEW YORK']","91779db6":"df_NYC.describe()","82174540":"n_NYC = df_NYC.shape[0]\nprint(n_NYC)","8267ebc8":"lat = 40.8\nlon = -74\nm = folium.Map([lat, lon], zoom_start=11)\n\nfor i in range(0,n_NYC):\n   folium.Circle(\n      location=[df_NYC.latitude.iloc[i], df_NYC.longitude.iloc[i]],\n      popup=df_NYC.name.iloc[i] + \" - number of beds:\" + str(df_NYC.beds.iloc[i]),\n      radius=10.0*np.sqrt(df_NYC.beds.iloc[i]),\n      color='red',\n      fill=True,\n      fill_color='red'\n   ).add_to(m)\n\n# show map\nm","54279011":"### Look at state New York","a9582f43":"### Display all hospitals on map; bubble size ~ number of beds","1379986f":"### Look at city New York"}}