{"cell_type":{"7cdf9700":"code","f4011fc1":"code","c4d0ce15":"code","11cb604c":"code","e4b079e2":"code","76b12aab":"code","c313639d":"code","b07d8ee4":"code","04e2e721":"code","d6d9fbbf":"code","3e987bee":"code","b354d058":"code","a9afc165":"code","e388702f":"code","84835875":"code","268e085f":"code","8a41588d":"code","a566cb9b":"code","4660094c":"code","aea0fd2e":"code","6968d368":"code","001df383":"code","f8cd830d":"code","9448a8f6":"code","d8fb4fc8":"code","f111ecf6":"code","d1d91bd1":"code","e0a1f9e1":"code","78db549c":"code","bca7480f":"code","19cd1bd6":"code","c11ed9d6":"code","edf0a1c1":"code","14bb596d":"code","2e87bd97":"code","0a96da88":"code","c2592020":"code","7c7f9b5f":"code","91267707":"code","9d2efe2a":"markdown","f2ae9c7e":"markdown","4fba37db":"markdown","96287497":"markdown","310478e1":"markdown","1c3dec90":"markdown","0bc1e03d":"markdown","60fb9e01":"markdown","2a5ae4ba":"markdown","657ebafe":"markdown","22791f98":"markdown","d1ae9fd6":"markdown","ab733999":"markdown","861ce4d7":"markdown","54a71be6":"markdown","8f4a73d2":"markdown","0ae9d691":"markdown","41c4e0c2":"markdown","99a55057":"markdown","553ed1b1":"markdown","78c2f44c":"markdown","30d2a3a3":"markdown","7d0cdd57":"markdown","c79f5647":"markdown","24d993d9":"markdown","568a72cb":"markdown","8dc85f79":"markdown","2384221b":"markdown","c33d5487":"markdown","267e2e76":"markdown","fa9d1594":"markdown","de7c9fff":"markdown","6a6ec343":"markdown","7f00fd6a":"markdown","972405d9":"markdown","0043af55":"markdown","382f3f45":"markdown","23ac0bfb":"markdown","3e2d89f4":"markdown","15ab213a":"markdown","acb9ab50":"markdown","c095e329":"markdown","f2a079b0":"markdown","c4ec16ca":"markdown","0816bd4b":"markdown"},"source":{"7cdf9700":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt \nimport seaborn as sns","f4011fc1":"startups= pd.read_csv(\"..\/input\/50_Startups.csv\",sep=\",\")\ndf=startups.copy()\n","c4d0ce15":"df.head()","11cb604c":"df.info()","e4b079e2":"df.shape","76b12aab":"df.isnull().sum()","c313639d":"df.corr()","b07d8ee4":"f,ax=plt.subplots(figsize=(10,10))\nsns.heatmap(df.corr(),annot=True,linewidths=5,fmt='.0%',ax=ax)\nplt.show()","04e2e721":"plt.figure(figsize=(20,5))\nsns.scatterplot( x='R&D Spend', y='Profit',color='red',data=df)\nplt.title('R&D Spend- Profit')\nplt.show()","d6d9fbbf":"plt.figure(figsize=(20,5))\nsns.regplot( x='Marketing Spend', y='Profit',color='blue',data=df)\nplt.title('R&D Spend- Profit')\nplt.show()","3e987bee":"df.hist(figsize = (10,10))\nplt.show()","b354d058":"df.describe().T","a9afc165":"df[\"State\"].unique()","e388702f":"df['State'] = pd.Categorical(df['State'])\ndfDummies = pd.get_dummies(df['State'], prefix = 'State')\ndfDummies","84835875":"df = pd.concat([df, dfDummies], axis=1)\ndf.head()","268e085f":"df=df.drop([\"State\"],axis=1)","8a41588d":"df.head()","a566cb9b":"X = df.drop(\"Profit\", axis = 1)\ny = df[\"Profit\"]","4660094c":"X","aea0fd2e":"y","6968d368":"from sklearn.model_selection import train_test_split\nx_train, x_test ,y_train, y_test = train_test_split(X,y,test_size=0.2,random_state=0)","001df383":"x_train","f8cd830d":"y_train","9448a8f6":"x_test","d8fb4fc8":"y_test","f111ecf6":"from sklearn.linear_model import LinearRegression\n\nlinear_regresyon = LinearRegression()","d1d91bd1":"linear_regresyon.fit(X, y)","e0a1f9e1":"y_pred=linear_regresyon.predict(X)","78db549c":"df[\"y_pred\"]=y_pred","bca7480f":"df","19cd1bd6":"df[\"Fark\"]=df[\"Profit\"]-df[\"y_pred\"]","c11ed9d6":"df","edf0a1c1":"from sklearn.metrics import mean_squared_error\n\nMSE = mean_squared_error(df[\"Profit\"], df[\"y_pred\"])\nMSE","14bb596d":"from sklearn.metrics import mean_absolute_error\nMAE = mean_absolute_error(df[\"Profit\"], df[\"y_pred\"])\nMAE","2e87bd97":"import math\n\nRMSE = math.sqrt(MSE)\nRMSE","0a96da88":"linear_regresyon.score(X,y)","c2592020":"import statsmodels.api as sm","7c7f9b5f":"stmodel = sm.OLS(y, X).fit()","91267707":"stmodel.summary()","9d2efe2a":"Seaborn ile korelasyon matrisinin \u0131s\u0131 haritas\u0131n\u0131 \u00e7izdirelim.","f2ae9c7e":"Veri \u00e7er\u00e7evesinin temel istatistik de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","4fba37db":"\u00d6zniteliklerimizin Administration d\u0131\u015f\u0131nda \u00e7ok y\u00fcksek seviyede ba\u015far\u0131 oran\u0131m\u0131z\u0131 etkiledi\u011fini g\u00f6r\u00fcnt\u00fcledik. \n","96287497":"State \u00f6zniteli\u011fini silip dummy olarak yarat\u0131lan State'lardan da birisini hari\u00e7 tutarak veri \u00e7er\u00e7evemizi g\u00fcncelleyelim.","310478e1":"get_dummies yard\u0131m\u0131yla State'a dair kategorik \u00f6znitelik \u00e7\u0131kar\u0131mlar\u0131nda bulunal\u0131m. \u00c7\u00fcnk\u00fc State'lar\u0131n birbirine \u00fcst\u00fcnl\u00fc\u011f\u00fc yok, nominaller. Ordinal de\u011fil.","1c3dec90":"\u00c7izdirdi\u011fimiz histogramlar ile say\u0131sal de\u011fi\u015fkenlerin da\u011f\u0131l\u0131m\u0131 daha iyi g\u00f6zlenmektedir.","0bc1e03d":"State'a ait benzersiz de\u011ferleri g\u00f6r\u00fcnt\u00fcleyelim.","60fb9e01":"Marketing Spend ve Profit aras\u0131ndaki korelasyonu daha iyi g\u00f6rebilmek i\u00e7in regplot \u00e7izdirelim.","2a5ae4ba":"Korelasyon matrisi \u00e7izdirelim.","657ebafe":"LinearRegression'u \u00e7ekirde\u011fe dahil edip modeli in\u015fa edelim.","22791f98":"Baz\u0131 de\u011ferler aras\u0131nda b\u00fcy\u00fck farklar olsa da genel olarak yakla\u015f\u0131k de\u011ferler elde ettik.","d1ae9fd6":"\u0130nceledi\u011finiz i\u00e7in te\u015fekk\u00fcrler :)","ab733999":"Modeli e\u011fitmek i\u00e7in ba\u011f\u0131ml\u0131 ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden olu\u015fturulan e\u011fitim verilerini verelim.","861ce4d7":"Yukar\u0131da temel istatistik bilgilerini g\u00f6r\u00fcnt\u00fclemekteyiz. R&D Spend ve Marketing Spend'in da\u011f\u0131l\u0131m\u0131n\u0131n d\u00fczg\u00fcn olmad\u0131\u011f\u0131 g\u00f6r\u00fclmektedir. Bu sonucu orlamalara ve standart sapmalar\u0131na bakarak elde ediyoruz. Standart sapmalar\u0131n\u0131n d\u00fc\u015f\u00fck olmas\u0131n\u0131 istiyoruz fakat bu \u00f6zniteliklerde standart sapmalar olduk\u00e7a y\u00fcksek. Administration ve Profit'in daha d\u00fczg\u00fcn da\u011f\u0131ld\u0131\u011f\u0131 g\u00f6zlenmektedir.","54a71be6":"R&D Spend ve Profit aras\u0131ndaki korelasyonu daha iyi g\u00f6rebilmek i\u00e7in scatterplot \u00e7izdirelim.","8f4a73d2":"50 adet Startup'\u0131n ara\u015ft\u0131rma ve geli\u015ftirmeye y\u00f6nelik harcamas\u0131, y\u00f6netime y\u00f6nelik harcamas\u0131, pazarlama harcamas\u0131, kazand\u0131klar\u0131 kar miktar\u0131 ve kurulduklar\u0131 lokasyon bilgisi bulunmaktad\u0131r. Ama\u00e7 kar miktar\u0131n\u0131 tahmin etmektir. Bu bir say\u0131sal tahmin problemidir ve ba\u011f\u0131ml\u0131 de\u011fi\u015fkenimiz \"Profit\".","0ae9d691":"Grafikten de anlad\u0131\u011f\u0131m\u0131z gibi aralar\u0131nda pozitif g\u00fc\u00e7l\u00fc bir ili\u015fki vard\u0131r. R&D Spend artt\u0131k\u00e7a Profit de\u011ferimiz artm\u0131\u015ft\u0131r.","41c4e0c2":"5 adet \u00f6zniteli\u011fimiz bulunmaktad\u0131r. Bu \u00f6zniteliklere ait 50'\u015fer adet g\u00f6zlem bulunmaktad\u0131r.","99a55057":"Veri \u00e7er\u00e7evemizin hedef de\u011fi\u015fkeni Profit'tir. Profit ba\u011f\u0131ms\u0131z de\u011fi\u015fkendir . Geri kalan \u00f6znitelikler ba\u011f\u0131ml\u0131 de\u011fi\u015fkendir.","553ed1b1":"Dizinde bulunan veri \u00e7er\u00e7evemizi startups de\u011fi\u015fkenine atayal\u0131m. startups de\u011fi\u015fkenini df de\u011fi\u015fkenine kopyalayarak kullanmaya ba\u015flayal\u0131m.","78c2f44c":"\u0130lk 5 g\u00f6zlemini yazd\u0131ral\u0131m.","30d2a3a3":"Aradaki fark\u0131 daha iyi anlayabilmek i\u00e7in fark de\u011fi\u015feni olu\u015ftural\u0131m ve Profit de\u011feriyle y_pred de\u011ferinin fark\u0131n\u0131 bu de\u011fere atayal\u0131m.","7d0cdd57":"Modelin R Squared de\u011ferini e\u011fitim verileri \u00fczerinden yazd\u0131ral\u0131m.","c79f5647":"Profit ve R&D Spend aras\u0131nda g\u00fc\u00e7l\u00fc bir pozitif ili\u015fki g\u00f6zlenmektedir. Marketing Spend ve Profit aras\u0131nda da g\u00fc\u00e7l\u00fc bir pozitif ili\u015fki bulunmaktad\u0131r.Marketing Spend ve Administration aras\u0131nda g\u00fc\u00e7s\u00fcz negatif ili\u015fki oldu\u011fu g\u00f6zlenmektedir.","24d993d9":"Veri \u00e7er\u00e7evesinin bilgilerini g\u00f6r\u00fcnt\u00fcleyelim.","568a72cb":"# Do\u011frusal Regresyon Egzersizleri","8dc85f79":"Veri \u00e7er\u00e7evemizi ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenler olmak \u00fczere b\u00f6l\u00fctleyelim.","2384221b":"Yakla\u015f\u0131k olarak %95 oran\u0131nda ba\u015far\u0131l\u0131 bir regresyon olu\u015fturduk.","c33d5487":"Veri setimizde eksik veri g\u00f6zlenmektedir.","267e2e76":"Ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenleri kontrol edelim.","fa9d1594":"Statsmodel olu\u015fturarak %95 ba\u015far\u0131 oran\u0131n\u0131 etkileyen de\u011ferleri g\u00f6r\u00fcnt\u00fcleyelim","de7c9fff":"Bu ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden train ve test olmak \u00fczere 4 par\u00e7a olu\u015ftural\u0131m. Bunu yapmak i\u00e7in train_test_split kullanal\u0131m.","6a6ec343":"Numpy, matplotlib.pyplot, pandas ve seaborn k\u00fct\u00fcphanelerini \u00e7ekirde\u011fe dahil edelim.","7f00fd6a":"Eksik verileri kontrol edelim.","972405d9":"Say\u0131sal de\u011fi\u015fkenlerin da\u011f\u0131l\u0131m\u0131n\u0131 g\u00f6rmek i\u00e7in df \u00fczerinden histogram \u00e7izdirelim.","0043af55":"Grafikten anlad\u0131\u011f\u0131m\u0131z gibi aralar\u0131nda g\u00fc\u00e7l\u00fc bir ili\u015fki g\u00f6zlenmektedir.","382f3f45":"Veri setimizin %80'i e\u011fitim amac\u0131yla geri kalan\u0131 test amac\u0131yla kullan\u0131lacakt\u0131r. Bu iste\u011fimizi \"test_size\" parametresiyle methodumuza ekledik.","23ac0bfb":"Korelasyon matrisinden elde etti\u011fimiz sonu\u00e7lar\u0131 \u0131s\u0131 haritas\u0131nda g\u00f6r\u00fcnt\u00fcledik. \u015eimdi de en g\u00fc\u00e7l\u00fc ili\u015fkiye sahip \u00f6z nitelikleri daha iyi g\u00f6rebilmek i\u00e7in g\u00f6rselle\u015ftirelim.","3e2d89f4":"sklearn b\u00fcnyesinde bar\u0131nan metrics'i \u00e7ekirde\u011fe dahil edelim ve MAE, MSE, RMSE de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","15ab213a":"Ka\u00e7 g\u00f6zlem ve \u00f6znitelikten olu\u015ftu\u011funu g\u00f6r\u00fcnt\u00fcleyelim.","acb9ab50":"Veri \u00e7er\u00e7evemizin \u00f6zniteliklerinin 4 adet float ve 1 adet object t\u00fcr\u00fcnden olu\u015ftu\u011fu g\u00f6zlenmektedir.","c095e329":"![Train-Test-Data-Split.png](attachment:Train-Test-Data-Split.png)","f2a079b0":"Tahminleri ve ger\u00e7ek de\u011ferleri bir veri \u00e7er\u00e7evesinde toplay\u0131p \u00fczerinde g\u00f6z gezdirelim.","c4ec16ca":"4 par\u00e7a de\u011fi\u015fkeni kontrol edelim.","0816bd4b":"Modele daha \u00f6nce g\u00f6rmedi\u011fi ba\u011f\u0131ml\u0131 test de\u011fi\u015fkenini tahmin ettirelim. Bu tahmin de\u011ferlerimizi y_pred de\u011fi\u015fkenine atayal\u0131m."}}