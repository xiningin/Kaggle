{"cell_type":{"edf4f8e4":"code","4653952c":"code","33871184":"code","d409cd83":"code","b009f848":"code","761074be":"code","8f74ac54":"code","28e7882a":"code","51666e94":"code","0e101a50":"code","28246432":"code","29d02781":"code","81757773":"code","9f870aec":"code","04fe6318":"code","3f211fe0":"code","0b4eb982":"code","8e74bb88":"code","d539d803":"code","a71d4934":"code","3d8d54b9":"code","a1c61d5d":"code","a966f855":"code","48f8eb71":"code","41e42a9f":"code","2715ab3c":"code","91fe7177":"markdown","0fc90ff0":"markdown","c051222f":"markdown","1a1bb8c5":"markdown","a0ed3db8":"markdown","8fbf58c7":"markdown","728cd301":"markdown","6dbfa30a":"markdown","ee2a6b11":"markdown","2fee2e9d":"markdown","f0186fe3":"markdown","635a87a7":"markdown","513e2799":"markdown"},"source":{"edf4f8e4":"#  all of the packages i plan to use\nimport pandas as pd\nimport numpy as nb\nimport matplotlib.pyplot as plt\n\nfrom pandas import Series, DataFrame\n\n","4653952c":"# Load your data and print out a few lines. Perform operations to inspect data\ndf=pd.read_csv('..\/input\/tmdb-movies-dataset\/tmdb_movies_data.csv')\ndf.head(3)\n#   number of rows and columns\ndf.shape","33871184":"df.describe()","d409cd83":"df.head()","b009f848":"# missing data\ndf.isnull().sum()","761074be":"#  explore data types\ndf.dtypes","8f74ac54":"# convert release date from string ro date\ndf.release_date=pd.to_datetime(df.release_date) \ndf.dtypes","28e7882a":"#Datafram df_Q1 for Question 1\ndf_Q1=df \n#Datafram  df_Q2 for Question2 \ndf_Q2=df","51666e94":"df_Q2.shape","0e101a50":"# drop null values in genres \ndf_Q1.genres.dropna(inplace=True)\n","28246432":"## delete rows with 0 \ndf_Q1.query('popularity==0').size ","29d02781":"#  duplicated movie titles\ndf_Q1.original_title.duplicated().sum()","81757773":"# delete duplicated movie titles\ndf_Q1.original_title.drop_duplicates(keep='first',inplace=True)\ndf_Q1.original_title.duplicated().sum()","9f870aec":"s = df_Q1['genres'].str.split('|').apply(Series, 1).stack()\ns.index = s.index.droplevel(-1)\ns.name = 'genres'\ndel df_Q1['genres']\ndt=df_Q1.join(s)\ndt.head(20)\n ","04fe6318":"df_Q2.shape","3f211fe0":"# explor movies without revenue\ndf_Q2[df_Q2['revenue']==0].shape","0b4eb982":"# for qustion 2 i have to delete All Rows with revenue =0 \ndf_Q2.drop(df_Q2[df_Q2['revenue']==0].index,inplace=True)\ndf_Q2.query('revenue ==0').size","8e74bb88":"# explor movie without Budjet\ndf_Q2.query('budget_adj==0').size","d539d803":"# delete all rows with budget 0\ndf_Q2.drop(df_Q2[df_Q2['budget_adj']==0].index,inplace=True)\ndf_Q2.shape # my sample is 3855 from 10866","a71d4934":"# Divid years to decade to facilitate data analysing\n#   \ndef decade(x):\n    if ((x>= 1960) and (x<1970)): x= \"Decade 60_70\"\n    elif((x>=1970) and (x<1980)): x=\"Decade 70_80\"\n    elif((x>=1980) and (x<1990)): x=\"Decade 80_90\"\n    elif((x>=1990) and (x<2000)): x=\"Decade 90_2000\"\n    elif((x>=2000) and (x<2010)): x=\"Decade 2000_2010\"\n    else: x=\"from 2010 until 2014\"\n    return x;\n        \ndt['Decade']=dt['release_year'].apply(lambda x : decade(x))\ndt.head(5)\n","3d8d54b9":"# calculate the average of popularity for each movie kindes and Decades\ndf_Q1_EX=dt.groupby(['Decade','genres'],as_index=False).popularity.mean()\ndf_Q1_EX.shape","a1c61d5d":"##divide date fram to slices each of them represent specific decade\ndf_Q1_EX_decade1=df_Q1_EX.query('Decade==\"Decade 60_70\"')\ndf_Q1_EX_decade2=df_Q1_EX.query('Decade==\"Decade 70_80\"')\ndf_Q1_EX_decade3=df_Q1_EX.query('Decade==\"Decade 80_90\"')\ndf_Q1_EX_decade4=df_Q1_EX.query('Decade==\"Decade 90_2000\"')\ndf_Q1_EX_decade5=df_Q1_EX.query('Decade==\"Decade 2000_2010\"')\ndf_Q1_EX_decade6=df_Q1_EX.query('Decade==\"from 2010 until 2014\"')\n\ndf_Q1_EX_decade6.head()","a966f855":"#drowing plot represents genres which are  the most popular from year to year using dataframe slices\n%matplotlib inline\nlabels =df_Q1_EX_decade1['genres'].values\nx=nb.arange(len(labels))\nwidth = 0.15\ny=df_Q1_EX_decade1['popularity'].values\nfig, ax = plt.subplots(figsize=(12, 12))\ndecade1=ax.barh(x-(2*width),y,width,label='Decade 60_70')\n############################################################################################\ny2=df_Q1_EX_decade2['popularity'].values\ndecade2=ax.barh(x-width,y2,width,label='Decade 70_80')\n############################################################################################\ny3=df_Q1_EX_decade3['popularity'].values\ndecade3=ax.barh(x,y3,width,label='Decade 80_90')\n###########################################################################################\ny4=df_Q1_EX_decade4['popularity'].values\ndecade4=ax.barh(x+width,y4,width,label='Decade 90_2000')\n######################################################\ny5=df_Q1_EX_decade5['popularity'].values\ndecade4=ax.barh(x+(2*width),y5,width,label='Decade 2000_2010')\n###########################################################\ny6=df_Q1_EX_decade6['popularity'].values\ndecade6=ax.barh(x+(3*width),y6,width,label='from 2010 until 2014')\nax.set_xlabel('popularity')\nax.set_title('popularity and genres')\nax.set_yticks(x)\nax.set_yticklabels(labels)\nax.legend(loc='best', fontsize=10)\nax.xaxis.grid(True, linestyle='--', which='major',\n                   color='grey', alpha=.25)\n\n\n\n\n","48f8eb71":"# To get movies with highest revenues i took highest 300 Revenues\n# df_Q2R data frame relate to question 2\ndf_Q2R=df_Q2[['revenue','budget_adj','original_title','vote_average']]\ndf_Q2R=df_Q2R.nlargest(200,['revenue'])\ndf_Q2R.head(20)","41e42a9f":"df_Q2R.plot.line(x='budget_adj',y='revenue',figsize=(12, 10), linewidth=2.5, color='maroon')\nplt.ylabel(\"Revenue\", labelpad=15)\nplt.xlabel(\"Budget\")\nplt.title(\"Relation between Revenue and Budget associated with movies that have high Revenues (highest 300)\", y=1.02,fontsize=15)","2715ab3c":"# The graph to vote on the top 300 films in terms of revenue\ndf_Q2R.hist(column='vote_average')","91fe7177":"<a id='intro'><\/a>\n## Introduction\n\n> This data set contains information about 10,000 movies collected from The Movie Database (TMDb), including user ratings and revenue.\n\n> **Questions**\n>><ul> \n    <li>Q1:Which genres are most popular from year to year<\/li>\n    <li>Q2:What kinds of properties are associated with movies that have high revenues(prperties:Budget,Voting)<\/li>\n    <\/ul>\n ","0fc90ff0":"<font color='green'>My observation form Bar chart :\n     that some genres their popularity is increasing significantly over years like science fiction and other with less rate like crime <\/font>\n             ","c051222f":"# Project: Investigate a Dataset (TMDB 5000 Movie Dataset)\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","1a1bb8c5":"  >><font color='green'> There is no Correlation between Budget und Revenue<\/font>","a0ed3db8":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n> **Q1**: I have to divide years to Decades and make slice for each Decade to analyse big data \n> **Q2**: To analyse movies with highest popularity i took  most 300 popular movie\n\n### Research Question 1 (Q1:Which genres are most popular from year to year)","8fbf58c7":"<font color=red size=5>Data cleaning relevant to Question 2<\/font>\n","728cd301":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n> Load Movie Database (TMDb)\n\n> Assess Data(data types,null values)\n\n### General Properties","6dbfa30a":"><font color='green'> most of highest movie revenue have rate 7.5<\/font>","ee2a6b11":"<font color=red size=3>split genres to multi columns <font>","2fee2e9d":"> we emphasis on genre and popularity,budget,revenue which are relevant to questions","f0186fe3":"<a id='conclusions'><\/a>\n## Conclusions\n\n> **Q1**: \n>I used Decades to represent years because it is difficult to visualize 20 genres over 54 year This is in addition to the inflated data size after separating genre column becuse it should that each genere represent isolate from anther to test the change in popularty of this genre over years .\n\n> I think I believe that the number of films produced and the budget allocated to each type annually can contribute to reaching more solid conclusions about the change in popularity.\n\n>** Observation**\n>> <ul> \n    <li>Adventure and Sci fiction are the most genres of movie which their popularity increasing from decade to decade<\/li>\n    <li>western movies have wobbling popularity but from 2010 to 2014 thier popularity Is increasing significantly<\/li> \n    <li>Documentary films are of low and semi-fixed popularit<\/li>\n    <\/ul>\n\n> **Q2**: \n>I did analysis process on sample of 3855 from 10866 of dataset because I drop all rows without revenue and budget and it is difficult to guess the missing data because for example each movie belong to multi genres so that i cant fill missing data with data from similar genre .so if there are more values in revenue and budget columns i will get better conclusions which result that our visualisations  are restrictive\n\n> Director would be useful in the correlation with higher revenue which result more observation to come to a solid conclusion\n\n>** Observation**\n>><ul>\n    <li>There are no constant relation between budget and revenue .higher budget doesn't mean necessarily higher revenue<\/li>\n    <li>Most popular films have a majority vote from 7 to 7.5<\/li>\n    <\/ul>","635a87a7":"### Research Question 2  (Q2:What kinds of properties are associated with movies that have high revenues?)","513e2799":"### Data Cleaning ( )"}}