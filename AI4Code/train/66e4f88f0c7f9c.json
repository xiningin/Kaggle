{"cell_type":{"2fffdd77":"code","f7d8d833":"code","8579c85c":"code","05ce9933":"code","5a4463d3":"code","efe7637a":"code","9a1d2b8e":"code","6ef45b9b":"code","0f067c0b":"code","c2cb4d59":"code","5912f8d1":"code","11e20ded":"code","6c34cde8":"code","de2aa4c8":"code","61c99433":"code","ec0bce58":"markdown","c5e8055b":"markdown","0497c8f1":"markdown","0984df10":"markdown","cbe17933":"markdown","dc45fffe":"markdown","d89ba6b4":"markdown","6b471a45":"markdown","c1e89b09":"markdown"},"source":{"2fffdd77":"import numpy as np\nimport pandas as pd \nimport os\nimport math\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nimport json\nimport glob\nimport wordcloud\nimport string","f7d8d833":"train = pd.read_csv('..\/input\/coleridgeinitiative-show-us-the-data\/train.csv')\ntrain.head()","8579c85c":"#force lower case and remove punctuation\ntrain.pub_title = train.pub_title.str.lower()\ntrain.pub_title = train.pub_title.str.translate(str.maketrans(\"\", \"\", string.punctuation+'\u2019'))","05ce9933":"title_words = train.pub_title.str.lower().str.split(expand=True).stack().value_counts()\ntitle_words.sort_values(ascending=False,inplace=True)\ntitle_words = pd.DataFrame(title_words).reset_index()\ntitle_words.columns=['word','count']\ntitle_words","5a4463d3":"title_words['word_length']=title_words.word.str.len()\n\nall_top_words = title_words.iloc[:10]\n\nthree_letters_top_words = title_words[title_words['word_length']==3].iloc[:10]\nfour_letters_top_words = title_words[title_words['word_length']==4].iloc[:10]\nfive_letters_top_words = title_words[title_words['word_length']==5].iloc[:10]\nsix_letters_top_words = title_words[title_words['word_length']==6].iloc[:10]\nseven_letters_top_words = title_words[title_words['word_length']==7].iloc[:10]\neight_letters_top_words = title_words[title_words['word_length']==8].iloc[:10]\nnine_letters_top_words = title_words[title_words['word_length']==9].iloc[:10]\nten_letters_top_words = title_words[title_words['word_length']>=10].iloc[:10]","efe7637a":"palette = sns.color_palette(\"rocket\",10)","9a1d2b8e":"plt.figure(figsize=(10,8))\nsns.barplot(x='count',y='word',data=all_top_words,palette=palette)\nplt.title('Top 10 Words in Publication Titles',fontsize=20)","6ef45b9b":"top_word_dfs = [three_letters_top_words,four_letters_top_words, five_letters_top_words,\n                six_letters_top_words, seven_letters_top_words, eight_letters_top_words,\n               nine_letters_top_words,ten_letters_top_words]\nn=2\n\nfor i in top_word_dfs:\n    plt.figure(figsize=(10,8))\n    n += 1\n    sns.barplot(x='count',y='word',data=i,palette=palette)\n    title = ('Top 10 Words in Publication Titles, of length ' + str(n))\n    if n==10: title = title + ' or more'\n    plt.title(title,fontsize=20)\n    plt.show()","0f067c0b":"# Create bi-grams\nbigrams = [a[0] + \"-\" + a[1] for b in train.pub_title for a in zip(b.split(\" \")[:-1], b.split(\" \")[1:])]\nbigrams = pd.DataFrame(bigrams,columns=['bigrams'])\nbigrams = bigrams.value_counts()\nbigrams.sort_values(ascending=False,inplace=True)\nbigrams = pd.DataFrame(bigrams).reset_index()\nbigrams.columns=['bigram','count']\nbigrams.sort_values(by='count',ascending=False,inplace=True)","c2cb4d59":"# Create tri-grams\ntrigrams = [a[0] + \"-\" + a[1] + \"-\" + a[2] for b in train.pub_title for a in zip(b.split(\" \")[:-1],b.split(\" \")[1:], b.split(\" \")[2:])]\ntrigrams = pd.DataFrame(trigrams,columns=['trigrams'])\ntrigrams = trigrams.value_counts()\ntrigrams.sort_values(ascending=False,inplace=True)\ntrigrams = pd.DataFrame(trigrams).reset_index()\ntrigrams.columns=['trigram','count']\ntrigrams.sort_values(by='count',ascending=False,inplace=True)","5912f8d1":"# Create quad-grams\nquadgrams = [a[0] + \"-\" + a[1] + \"-\" + a[2] + \"-\" + a[3] for b in train.pub_title for a in zip(b.split(\" \")[:-1],b.split(\" \")[1:],b.split(\" \")[2:],b.split(\" \")[3:])]\nquadgrams = pd.DataFrame(quadgrams,columns=['quadgrams'])\nquadgrams = quadgrams.value_counts()\nquadgrams.sort_values(ascending=False,inplace=True)\nquadgrams = pd.DataFrame(quadgrams).reset_index()\nquadgrams.columns=['quadgram','count']\nquadgrams.sort_values(by='count',ascending=False,inplace=True)","11e20ded":"palette = sns.color_palette(\"mako\",10)","6c34cde8":"plt.figure(figsize=(10,8))\nsns.barplot(x='count',y='bigram',data=bigrams.iloc[:10],palette=palette)\nplt.title('Top 10 Bi-Grams in Publication Titles',fontsize=20)","de2aa4c8":"plt.figure(figsize=(10,8))\nsns.barplot(x='count',y='trigram',data=trigrams.iloc[:10],palette=palette)\nplt.title('Top 10 Tri-Grams in Publication Titles',fontsize=20)","61c99433":"plt.figure(figsize=(10,8))\nsns.barplot(x='count',y='quadgram',data=quadgrams.iloc[:10],palette=palette)\nplt.title('Top 10 Quad-Grams in Publication Titles',fontsize=20)","ec0bce58":"## Process data for n-grams","c5e8055b":"# Visuals - top n-grams","0497c8f1":"## Find common words in the titles","0984df10":"## Load the data","cbe17933":"# Coleridge Initiative EDA\n### Analysis of publication titles, including: \n1. Most frequent words in the dataset publication titles of lengths 3-10\n2. Bi, tri and quad-grams \n","dc45fffe":"## Create the word length datasets","d89ba6b4":"# Visuals - top words of n length","6b471a45":"## WIP\n","c1e89b09":"### Please upvote if you enjoyed or want more..."}}