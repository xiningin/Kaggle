{"cell_type":{"acabbf82":"code","e128143b":"code","ea1bf83c":"code","7b9b7c29":"code","08703af6":"code","3d7c5b5c":"code","28bdc032":"code","2ea35485":"code","f6275ec9":"code","2dbd32e2":"code","23f53973":"code","de062c29":"code","6a75513f":"code","f9c01145":"code","df38da00":"code","eef33003":"code","bc0114e8":"code","18b0ee64":"markdown","87eee0c6":"markdown","598926b7":"markdown","354e2a1e":"markdown","ea01f18e":"markdown","b32e99c5":"markdown","1de7a13d":"markdown","bc55fdbc":"markdown","de308ccc":"markdown","97a9a8f7":"markdown","fbf5fda2":"markdown","04063d76":"markdown","a2786b61":"markdown","ad776222":"markdown","058026fa":"markdown","b0b52539":"markdown"},"source":{"acabbf82":"!pip install covid19dh --upgrade > nul","e128143b":"from covid19dh import covid19\nx,src = covid19(verbose = False)\nx","ea1bf83c":"src","7b9b7c29":"import pandas as pd # data lib\n\nimport matplotlib # visualization lib\nimport matplotlib.pyplot as plt\nmatplotlib.rc('figure', figsize=(12, 5))","08703af6":"usa,usa_src = covid19(\"USA\") # read US data","3d7c5b5c":"usa","28bdc032":"# plot confirmed\nplt.plot(usa[\"date\"], usa[\"confirmed\"], \"r\")\n# format plot\nplt.gcf().autofmt_xdate()\nplt.suptitle(\"Confirmed cases of Covid-19 in USA\", size=16)\nplt.box(on=None)\nplt.show()","2ea35485":"# plots\nplt.plot(usa[\"date\"], usa[\"deaths\"], \"k\")\nplt.plot(usa[\"date\"], usa[\"recovered\"], \"y\")\n# format plot\nplt.gcf().autofmt_xdate()\nplt.suptitle(\"Recovered and deaths of Covid-19 in USA\", size=16)\nplt.box(on=None)\nplt.show()","f6275ec9":"usa2,usa2_src = covid19(\"USA\", level = 2, verbose = False) # fetch US states data","2dbd32e2":"usa2","23f53973":"fig = plt.figure()\nax = fig.add_subplot(111)\n# plot each state separately\nfor state, data in usa2.groupby(\"administrative_area_level_2\"):\n    data = usa2[usa2[\"administrative_area_level_2\"] == state]\n    ax.plot(data[\"date\"], data[\"confirmed\"], label = state)\n    ax.text(data[\"date\"].iloc[-1], data[\"confirmed\"].iloc[-1], state, fontsize=7)\n# format plot\nfig.suptitle(\"Confirmed cases of Covid-19 in US States\", size = 16)\n#plt.legend(loc='upper center', bbox_to_anchor=(0.5, -0.25), fancybox = False, ncol = 8, prop={'size': 9})\nplt.gcf().autofmt_xdate()\nplt.box(on=None)\nfig.show()","de062c29":"# get maximal record\nusa2[ usa2[\"confirmed\"] == max(usa2[\"confirmed\"]) ]","6a75513f":"x,src = covid19([\"ES\",\"italy\"], start=\"2020-03-01\", end=\"2020-04-30\", verbose=False)","f9c01145":"x","df38da00":"# plot each state separately\nfor country in x.groupby(\"administrative_area_level_1\").groups:\n    data = x[x[\"administrative_area_level_1\"] == country]\n    plt.plot(data[\"date\"], data[\"confirmed\"], label = country)\n# format plot\nplt.gcf().autofmt_xdate()\nplt.suptitle(\"Confirmed cases of Covid-19 in Italy and Spain\", size = 16)\nplt.legend(loc='upper center', bbox_to_anchor=(0.5, -0.25), fancybox = False, ncol = 8, prop={'size': 9})\nplt.box(on=None)\nplt.show()","eef33003":"x, src = covid19(\"USA\", end = \"2020-04-22\", vintage = True, verbose = False)","bc0114e8":"x, src = covid19(\"USA\", vintage = True) # too early to get today's vintage\nprint(x, src)","18b0ee64":"The parameter `verbose` controls the message output.","87eee0c6":"# Covid-19 Data Hub\n\nAuthor: Martin Bene\u0161\n\n[![](https:\/\/img.shields.io\/pypi\/v\/covid19dh.svg?color=brightgreen)](https:\/\/pypi.org\/pypi\/covid19dh\/) [![](https:\/\/img.shields.io\/pypi\/dm\/covid19dh.svg?color=blue)](https:\/\/pypi.org\/pypi\/covid19dh\/) [![DOI](https:\/\/joss.theoj.org\/papers\/10.21105\/joss.02376\/status.svg)](https:\/\/doi.org\/10.21105\/joss.02376) [![](https:\/\/github.com\/covid19datahub\/Python\/workflows\/utests_on_commit\/badge.svg)](https:\/\/github.com\/covid19datahub\/Python)","598926b7":"## Contribution\n\nDeveloped by [Martin Benes](https:\/\/github.com\/martinbenes1996).\n\nCite when using it:\n\n`Guidotti, E., Ardia, D., (2020), \"COVID-19 Data Hub\", Journal of Open Source Software 5(51):2376, doi: 10.21105\/joss.02376.`","354e2a1e":"## Filtering\n\nExcept for country, the function also filters by start date and end date.","ea01f18e":"You receive a Pandas dataframe of data. ","b32e99c5":"Acquiring the data is as simple as","1de7a13d":"## Installation\n\nInstalling is as easy as\n\n```bash\n$ pip install covid19dh\n```\n\nThe package is regularly updated. Get the newest version with\n\n```bash\n$ pip install --upgrade covid19dh\n```","bc55fdbc":"The goal of [COVID-19 Data Hub](https:\/\/covid19datahub.io\/) is to provide the research community with a unified data hub by collecting worldwide fine-grained case data, merged with exogenous variables helpful for a better understanding of COVID-19.\n\nPython package `covid19dh` brings the simple access to COVID-19 Data Hub.","de308ccc":"## Data acquiral\n\nThe main motivation to use COVID-19 Data Hub: `COVID19` (R) or `covid19dh` (Python) is the simplicity of data acquiral.\n\nWith a single call you can receive national statistics of COVID-19. The function lists the sources of the data on stdout.","97a9a8f7":"## Vintage\n\nThe datahub generates daily snapshots of the datasets. Fetch the version from given day by setting `vintage` to `True` and `end` to the desired date.","fbf5fda2":"The second returned values are data sources to the data.","04063d76":"Previous query shows only data between `2020-03-01` to `2020-03-31` from Spain and Italy.","a2786b61":"Acquired data and sources are in `pandas.DataFrame` format.","ad776222":"We have invested a lot of time and effort in creating COVID-19 Data Hub, please cite the following when using it:\n\n`Guidotti, E., Ardia, D., (2020), \"COVID-19 Data Hub\", Journal of Open Source Software 5(51):2376, doi: 10.21105\/joss.02376.`","058026fa":"Level sets the unit:\n\n1. Country (default)\n2. State | Region | Canton\n3. City | Municipality | District\n\nIn the case of USA, level 1 stands for country (federation) and level 2 stands for states.","b0b52539":"The vintage data are collected at the end of the day, but published with approximately 48 hour delay, once the day is completed in all the timezones.\n\nHence if `vintage = True`, but `end` is not set, warning is raised and `None` is returned."}}