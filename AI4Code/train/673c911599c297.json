{"cell_type":{"e18313ee":"code","4382a6ba":"code","c6396509":"code","242ec859":"code","647a3cc6":"code","a045aa17":"code","15a50892":"code","1b868476":"code","cb9d7a07":"code","c0cb0ab5":"markdown","8b5e6bfa":"markdown","cde8bd91":"markdown","6ed6f549":"markdown","c63e252f":"markdown"},"source":{"e18313ee":"# Libraries Needed\nimport pandas as pd\nimport os\nfrom glob import glob\nfrom collections import namedtuple\nfrom pathlib import Path\nfrom pandas_profiling import ProfileReport\n\n\n# Some display options to easily eyeball the dataframes and their contents\npd.set_option('display.max_columns', 200)\npd.set_option('display.max_colwidth', -1)\npd.set_option('display.max_rows', 1000)","4382a6ba":"Dataset = namedtuple('Dataset', ['df', 'source'])\ndatasets = {}\n\n# Reading all csv files as Datasets\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for csv_path in glob(os.path.join(dirname, \"*.csv\")):\n        file_name = os.path.basename(csv_path)\n        name = os.path.splitext(file_name)[0]\n        source = os.path.basename(Path(csv_path).parent)\n        datasets[name] = Dataset(pd.read_csv(csv_path, low_memory=False), source)\n\nprint(\"Read a total of {} datasets\".format(len(datasets)))","c6396509":"for name, dataset in datasets.items():\n    print(name, \"columns: \", len(dataset.df.columns))","242ec859":"profile = ProfileReport(datasets['crowd-sourced-covid-19-testing-locations'].df, title='Pandas Profiling Report', html={'style':{'full_width':True}})","647a3cc6":"profile","a045aa17":"if os.path.isdir(\".\/Uncover COVID Reports\"):\n    print(\"Directory already exists\")\nelse:\n    Path(\".\/Uncover COVID Reports\").mkdir(parents=True, exist_ok=False)\n    print(\"created Folder 'Uncover COVID Reports'.\")","15a50892":"print(os.getcwd())\nmin_threshold = 100\n\nfor name, dataset in datasets.items():\n    if not os.path.isfile('.\/Uncover COVID Reports\/'+ name +'.html'):\n        reduce = True if len(dataset.df.columns) > min_threshold else False\n        profile = ProfileReport(dataset.df, title='Pandas Profiling Report', html={'style':{'full_width':True}}, minimal=reduce)\n        profile.to_file(output_file=\".\/Uncover COVID Reports\/\"+name+\".html\")\n        print(\"Created report for dataset: \", name)","1b868476":"os.chdir(\".\/Uncover COVID Reports\")\nprint(os.getcwd())","cb9d7a07":"os.chdir(\"..\/\")\nprint(os.getcwd())","c0cb0ab5":"The reports for EDA can be found here:","8b5e6bfa":"# Introduction\n\nAll the datasets an be quite overwhelming, so let's use pandas-profiling to get some automatically generated insights from all datasets as a starting point for EDA. Have fun with it and feedback is always appreciated! ","cde8bd91":"Now generate pandas-profiling reports if they have not been created yet. Render in minimal-mode if DataFrame has more than 'min_threshold' columns.","6ed6f549":"Generate a sample report:","c63e252f":"Go back to the working directory:"}}