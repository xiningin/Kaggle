{"cell_type":{"d3fe36d9":"code","2d1f2d3b":"code","517e4899":"code","d2c589cd":"code","ce09c98a":"code","d993e807":"code","d0fc1827":"code","8d06bb69":"code","429403f1":"code","b64282ed":"code","de6971ea":"code","f1aa1b03":"code","476d43dc":"code","6cb3fe2b":"code","07184661":"code","de74ea99":"code","e0071dad":"code","810084fa":"code","b9123318":"code","de702d5f":"code","f45a43fc":"code","323b6a16":"code","9296151c":"code","e51a4639":"code","bf35937c":"code","4b621272":"code","4437e7d5":"markdown","bd6e1b4f":"markdown","c42e32a7":"markdown","b2f00795":"markdown","b6ec16a3":"markdown","54c1112a":"markdown","861eec62":"markdown","88df8f04":"markdown","8944f133":"markdown","f03dcd61":"markdown","f13c89a4":"markdown","48050635":"markdown","e05f5008":"markdown","ee77d330":"markdown","9001ac09":"markdown","070f175d":"markdown","1976ec70":"markdown","0b4cea5b":"markdown","8636d3b7":"markdown","dde839b3":"markdown"},"source":{"d3fe36d9":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport datetime\nimport re\nimport os\nfrom mpl_toolkits.basemap import Basemap\n\nprint('*'*50)\n#print('Python Version    : ', sys.version)\nprint('Pandas Version    : ', pd.__version__)\nprint('Numpy Version     : ', np.__version__)\nprint('Matplotlib Version: ', mpl.__version__)\nprint('Seaborn Version   : ', sns.__version__)\nprint('*'*50)\n\nsns.set_style('white')\n\npd.options.display.max_rows = 100\npd.options.display.max_columns = 100","2d1f2d3b":"def missingData(data):\n    total = data.isnull().sum().sort_values(ascending = False)\n    percent = (data.isnull().sum()\/data.isnull().count()*100).sort_values(ascending = False)\n    #print(total)\n    #print(percent)\n    md = pd.concat([total, percent], axis=1, keys=['Total', 'Percent'])\n    print(md)\n    md = md[md[\"Percent\"] > 0]\n    print(md)\n    plt.figure(figsize = (8, 4))\n    plt.xticks(rotation='90')\n    sns.barplot(md.index, md[\"Percent\"],color=\"g\",alpha=0.8)\n    plt.xlabel('Features', fontsize=15)\n    plt.ylabel('Percent of missing values', fontsize=15)\n    plt.title('Percent missing data by feature', fontsize=15)\n    return md\n\ndef valueCounts(dataset, features):\n    \"\"\"Display the features value counts \"\"\"\n    for feature in features:\n        vc = dataset[feature].value_counts()\n        print(vc)\n        print('-'*30)","517e4899":"inp_data = pd.read_csv('..\/input\/MissingMigrants-Global-2019-03-29T18-36-07.csv')\ninp_data.head()","d2c589cd":"missingData(inp_data)","ce09c98a":"f = ['Cause of Death']\nvalueCounts(inp_data, f)\n","d993e807":"data=inp_data","d0fc1827":"data['Lat'], data['Lon'] = data['Location Coordinates'].str.split(', ').str\ndata.Lat=data.Lat.astype(float)\ndata.Lon=data.Lon.astype(float)\n#print(data['Lat'])\n#print(data['Lon'])","8d06bb69":"def convert_date(s):\n    new_s = datetime.datetime.strptime(s, '%B %d, %Y')\n    return new_s","429403f1":"data['Date'] = data['Reported Date'].apply(convert_date)","b64282ed":"#print(data['Number Dead'])\ndata['Number Dead'].fillna(0, inplace=True)\n#print(data['Number Dead'])","de6971ea":"data['Minimum Estimated Number of Missing'].fillna(0, inplace=True)","f1aa1b03":"data['Total Dead and Missing'] = data['Total Dead and Missing'].astype(float)","476d43dc":"toDrop = [\n    'Reported Date',\n    'Web ID',\n    'Number of Survivors',\n    'Location Coordinates',\n    'URL',\n    'UNSD Geographical Grouping'\n]\ndata.drop(toDrop, axis=1, inplace=True)\ndata.shape\n","6cb3fe2b":"data.head()","07184661":"def deathCauseReplacement(data):\n    #HEALTH CONDITION\n    data.loc[data['Cause of Death'].str.contains('Sickness|sickness'), 'Cause of Death'] = 'Health Condition'\n    data.loc[data['Cause of Death'].str.contains('diabetic|heart attack|meningitis|virus|cancer|bleeding|insuline|inhalation'), 'Cause of Death'] = 'Health Condition'\n    data.loc[data['Cause of Death'].str.contains('Organ|Coronary|Envenomation|Post-partum|Respiratory|Hypoglycemia'), 'Cause of Death'] = 'Health Condition'\n    #HARSH CONDITIONS\n    data.loc[data['Cause of Death'].str.contains('harsh weather|Harsh weather'), 'Cause of Death'] = 'Harsh conditions'\n    data.loc[data['Cause of Death'].str.contains('Harsh conditions|harsh conditions'), 'Cause of Death'] = 'Harsh conditions'\n    data.loc[data['Cause of Death'].str.contains('Exhaustion|Heat stroke'), 'Cause of Death'] = 'Harsh conditions'\n    #UNKNOWN\n    data.loc[data['Cause of Death'].str.contains('Unknown|unknown'), 'Cause of Death'] = 'Unknown'\n    #STARVATION\n    data.loc[data['Cause of Death'].str.contains('Starvation|starvation'), 'Cause of Death'] = 'Starvation'\n    #DEHYDRATION\n    data.loc[data['Cause of Death'].str.contains('dehydration|Dehydration'), 'Cause of Death'] = 'Dehydration'\n    #DROWNING\n    data.loc[data['Cause of Death'].str.contains('Drowning|drowning|Pulmonary|respiratory|lung|bronchial|pneumonia|Pneumonia'), 'Cause of Death'] = 'Drowning'\n    #HYPERTHERMIA\n    data.loc[data['Cause of Death'].str.contains('hyperthermia|Hyperthermia'), 'Cause of Death'] = 'Hyperthermia'\n    #HYPOTHERMIA\n    data.loc[data['Cause of Death'].str.contains('hypothermia|Hypothermia'), 'Cause of Death'] = 'Hypothermia'\n    #ASPHYXIATION\n    data.loc[data['Cause of Death'].str.contains('asphyxiation|suffocation'), 'Cause of Death'] = 'Asphyxiation'\n    #VEHICLE ACCIDENT\n    data.loc[data['Cause of Death'].str.contains('train|bus|vehicle|truck|boat|car|road|van|plane'), 'Cause of Death'] = 'Vehicle Accident'\n    data.loc[data['Cause of Death'].str.contains('Train|Bus|Vehicle|Truck|Boat|Car|Road|Van|Plane'), 'Cause of Death'] = 'Vehicle Accident'\n    #MURDER\n    data.loc[data['Cause of Death'].str.contains('murder|stab|shot|violent|blunt force|violence|beat-up|fight|murdered|death'), 'Cause of Death'] = 'Murder'\n    data.loc[data['Cause of Death'].str.contains('Murder|Stab|Shot|Violent|Blunt force|Violence|Beat-up|Fight|Murdered|Death'), 'Cause of Death'] = 'Murder'\n    data.loc[data['Cause of Death'].str.contains('Hanging|Apache|mortar|landmine|Rape|Gassed'), 'Cause of Death'] = 'Murder'\n    #CRUSHED\n    data.loc[data['Cause of Death'].str.contains('crushed to death|crush|Crush|Rockslide'), 'Cause of Death'] = 'Crushed'\n    #BURNED\n    data.loc[data['Cause of Death'].str.contains('burn|burns|burned|fire'), 'Cause of Death'] = 'Burned'\n    data.loc[data['Cause of Death'].str.contains('Burn|Burns|Burned|Fire'), 'Cause of Death'] = 'Burned'\n    #ELECTROCUTION\n    data.loc[data['Cause of Death'].str.contains('electrocution|Electrocution'), 'Cause of Death'] = 'Electrocution' #folgorazione\n    #FALLEN\n    data.loc[data['Cause of Death'].str.contains('Fall|fall'), 'Cause of Death'] = 'Fallen' \n    #KILLED BY ANIMALS\n    data.loc[data['Cause of Death'].str.contains('crocodile|hippopotamus|hippoptamus'), 'Cause of Death'] = 'Killed by animals'\n    #EXPOSURE\n    data.loc[data['Cause of Death'].str.contains('exposure|Exposure'), 'Cause of Death'] = 'Exposure'","de74ea99":"deathCauseReplacement(data)","e0071dad":"valueCounts(data,['Cause of Death'])","810084fa":"fig = plt.figure(figsize=(20, 14)) \ndata['Cause of Death'].value_counts().plot(kind='bar', \n                                   color='b',\n                                   align='center')\nplt.title('Cause of Death', fontsize=20)\nplt.show()","b9123318":"fig = plt.figure(figsize=(20, 14)) \ndata['Region of Incident'].value_counts().plot(kind='bar', \n                                   color='y',\n                                   align='center')\nplt.title('Region Of Incident', fontsize=20)\nplt.show()","de702d5f":"lat = data['Lat'][:]\nlon = data['Lon'][:]\nlat = lat.dropna()\nlon = lon.dropna()\nlat = np.array(lat)\nlon = np.array(lon)\n\nfig=plt.figure()\nax=fig.add_axes([1.0,1.0,2.8,2.8])\nmapp = Basemap(llcrnrlon=-180.,llcrnrlat=-60.,urcrnrlon=180.,urcrnrlat=80.,\n            rsphere=(6378137.00,6356752.3142),\n            resolution='l',projection='merc',\n            lat_0=40.,lon_0=-20.,lat_ts=20.)\nmapp.drawcoastlines()\nmapp.drawparallels(np.arange(-90,90,30),labels=[1,0,0,0])\nmapp.drawmeridians(np.arange(mapp.lonmin,mapp.lonmax+30,60),labels=[0,0,0,1])\nx, y = mapp(lon,lat)\nmapp.scatter(x,y,3,marker='o',color='r')\nax.set_title('Refugee deaths across the world', fontsize=20)\nplt.show()","f45a43fc":"data.pivot_table('Total Dead and Missing', index='Migration Route', columns='Reported Year', aggfunc='sum')","323b6a16":"data.pivot_table(['Number of Males','Number of Females','Number of Children'], \n                 index='Reported Year',\n                 aggfunc={'Number of Males': np.sum,'Number of Females': np.sum,'Number of Children': np.sum}).plot(figsize=(20, 10), kind='bar')\nplt.ylabel('Count')\nplt.title('Total Dead and Missing by Sex and Age', fontsize=20)\nplt.show()","9296151c":"data.pivot_table('Number of Children', \n                 index='Cause of Death',\n                 aggfunc=np.sum).plot(figsize=(20, 10), kind='bar')\nplt.ylabel('Count')\nplt.title('Total Children Deaths and thier causes', fontsize=20)\nplt.show()","e51a4639":"#def deathChildrenDrowning(data):\n    #DROWNING\n #   data.loc[data['Cause of Death'].str.contains('Drowning'), 'Cause of Death'] = 'Health Condition'\n    ","bf35937c":"cdr=data[data['Cause of Death'].str.contains('Drowning')]\n#cdr\ncdr.pivot_table('Number of Children', \n                 index='Region of Incident',\n                 aggfunc=np.sum).plot(figsize=(20, 10), kind='bar')\nplt.ylabel('Count')\nplt.title('Total Children Deaths due to drowning in different regions', fontsize=20)\nplt.show()","4b621272":"datachild=data[data['Number of Children']>0]\nlat = datachild['Lat'][:]\nlon = datachild['Lon'][:]\nlat = lat.dropna()\nlon = lon.dropna()\nlat = np.array(lat)\nlon = np.array(lon)\n\nfig=plt.figure()\nax=fig.add_axes([1.0,1.0,2.8,2.8])\nmapp = Basemap(llcrnrlon=-180.,llcrnrlat=-60.,urcrnrlon=180.,urcrnrlat=80.,\n            rsphere=(6378137.00,6356752.3142),\n            resolution='l',projection='merc',\n            lat_0=40.,lon_0=-20.,lat_ts=20.)\nmapp.drawcoastlines()\nmapp.drawparallels(np.arange(-90,90,30),labels=[1,0,0,0])\nmapp.drawmeridians(np.arange(mapp.lonmin,mapp.lonmax+30,60),labels=[0,0,0,1])\nx, y = mapp(lon,lat)\nmapp.scatter(x,y,3,marker='o',color='b')\nax.set_title('Children deaths across the world', fontsize=20)\nplt.show()","4437e7d5":"Let us begin by defining missing fuctions. We need to get an idea of missing migrants based on various features to start evaluating stuff.","bd6e1b4f":"Lets split the coordinates properly in latitude and longitude so that we can show it on map later.","c42e32a7":"Causes for Children Death","b2f00795":"For the next analysis, I am not gonna focus on following coulumns and hence removing them.","b6ec16a3":"We can see these stats, thus we can focus our efforts on preventing the causes and hence saving much more lives.","54c1112a":"## **From here on I will focus on Children**","861eec62":"## Setting Up","88df8f04":"**PREPROCESSING DATA**","8944f133":"Missing Stats","f03dcd61":"Refugee deaths across globe.","f13c89a4":"Inorder to plot we must convert it to float ","48050635":"**Let's start visualizing Data. **","e05f5008":"## Map showing reported Death of children across globe","ee77d330":"Total Dead By Sex And Age.","9001ac09":"## Attaching data ## \nReading the Missing Migrant Project dataset.","070f175d":"Let's look at causes","1976ec70":"## **The Missing Migrant Project** ##\nMissing Migrants Project which tracks deaths of migrants, including refugees , who have gone missing along mixed migration routes worldwide. The research behind this project began with the October 2013 tragedies, when at least 368 individuals died in two shipwrecks near the Italian island of Lampedusa. Since then, Missing Migrants Project has developed into an important hub and advocacy source of information that media, researchers, and the general public access for the latest information.\n","0b4cea5b":"As the causes contains multiple causes, we would like to focus on them in a comprehensive manner, grouping similar causes at same place.","8636d3b7":"Drowning is the cause for highest deaths of children. The next section reflects region with thier deaths of children due to drowning.","dde839b3":"Converting Date to Date-time"}}