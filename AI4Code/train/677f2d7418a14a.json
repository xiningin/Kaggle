{"cell_type":{"7df40901":"code","dfd5166e":"code","74a86409":"code","fc4d0521":"code","9d4d1eee":"code","98d29dd1":"code","0ce3f27c":"code","ca642887":"code","9091d3dc":"code","80d7529b":"code","74a0e022":"code","bf695243":"code","7a40583d":"code","40d3b803":"code","edd33292":"code","2f20ccb9":"code","4545a704":"code","3dcf8612":"code","9c1bf808":"code","2804b1a5":"code","e2cb03a1":"code","fccdf821":"code","6d534357":"code","83091f1e":"code","ce0c96c8":"code","73a9cd7f":"code","feddec0b":"code","15d3c3d4":"code","5ef8f0c9":"code","84909346":"code","73ae8443":"code","009a1cdb":"code","6da551e1":"code","229d6e74":"code","91f9f8cc":"code","f008212a":"code","3bfbaece":"markdown","0743f63b":"markdown","5fd21b84":"markdown","a126492e":"markdown","9f5f65be":"markdown","5b5f92be":"markdown","7264464d":"markdown","709cf933":"markdown","b5a1054c":"markdown","17d78b2d":"markdown","bd857533":"markdown","ba982b4e":"markdown","60734569":"markdown","1e3e1ecf":"markdown","d7482180":"markdown","7bfa072d":"markdown","891d20b0":"markdown","aca7f1b4":"markdown","e9c10b8d":"markdown","c9922fe4":"markdown","ceb0d0d5":"markdown","9e5b715d":"markdown","6a38523e":"markdown","fc810929":"markdown","6a8c35b2":"markdown","21d2e9d8":"markdown","0158177b":"markdown","5019c04b":"markdown","adcd1026":"markdown","bfdebdc3":"markdown","264466bb":"markdown","e1358cf1":"markdown","950275bd":"markdown","fd33d05e":"markdown","04d61b30":"markdown","2bdf2429":"markdown","55a9e6a7":"markdown","5419bc74":"markdown","ff5da8d0":"markdown","fdbdd1d6":"markdown","3c134f6e":"markdown","9679d07a":"markdown","86a474e4":"markdown","3e679cf1":"markdown","b02cbfe2":"markdown","8b2a1356":"markdown","30ed3f50":"markdown","adac5d34":"markdown","19816860":"markdown","8859f7ed":"markdown","fe5c4f44":"markdown","112d765c":"markdown","f5f63cb4":"markdown","9aa6b2a4":"markdown","cea424f2":"markdown","2987d64d":"markdown","a11cf3ca":"markdown","bce2fea9":"markdown","46284c9d":"markdown","ad09d80d":"markdown","1844a337":"markdown","78498ebb":"markdown","61c44efc":"markdown","bf149f94":"markdown","ca430809":"markdown","d81e3f7f":"markdown","e382c54b":"markdown","1b87aa55":"markdown","9cfb5854":"markdown","03bb1a79":"markdown","36ef7396":"markdown","2c30c40b":"markdown","9fae238b":"markdown","7c8198b4":"markdown","ca9bab9a":"markdown","143e5851":"markdown"},"source":{"7df40901":"import pandas as pd\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport missingno as msno\n\nfrom sklearn.preprocessing import MinMaxScaler, StandardScaler\nfrom sklearn.model_selection import train_test_split\n\nfrom sklearn import svm\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.ensemble import GradientBoostingClassifier\nfrom sklearn.neural_network import MLPClassifier\nfrom xgboost.sklearn import XGBClassifier\n\nfrom sklearn.metrics import precision_score, plot_confusion_matrix\n\nfrom sklearn.model_selection import GridSearchCV, StratifiedKFold\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","dfd5166e":"df = pd.read_csv('..\/input\/heart-failure-clinical-data\/heart_failure_clinical_records_dataset.csv')\ndf.head()","74a86409":"df.info()","fc4d0521":"df['age'] = df['age'].astype(int)","9d4d1eee":"msno.matrix(df)","98d29dd1":"df[df.duplicated()]","0ce3f27c":"df.describe()","ca642887":"plt.figure(figsize=(10,6))\nsns.distplot(df.age)\nplt.title(\"Patient's Age Distribution\", size=20)\nplt.show()","9091d3dc":"from scipy.stats import normaltest\n\nnormaltest(df.age)","80d7529b":"dp_statisstic, dp_pvalue = normaltest(df.age)\n\nif dp_pvalue > 0.05:\n    print(f'P-value: {dp_pvalue}. So, we assume a normal distribution')\nelse:\n    print(f'P-value: {dp_pvalue}. So, we do not assume a normal distribution')","74a0e022":"plt.figure(figsize=(8,6))\nsns.boxplot(x=df.sex, y=df.age)\nplt.title('age vs sex', size=20)\nplt.grid()\nplt.show()","bf695243":"age_death = df[['age', 'DEATH_EVENT']]\nplt.figure(figsize=(10,6))\nsns.kdeplot(age_death[age_death['DEATH_EVENT'] == 0].age)\nsns.kdeplot(age_death[age_death['DEATH_EVENT'] == 1].age)\nplt.legend(['Survived', 'Not Survived'])\nplt.xticks(np.arange(min(age_death.age), max(age_death.age), 5))\nplt.title('age vs death', size=20)\nplt.grid()\nplt.show()","7a40583d":"male = df[df['sex'] == 1]\nfemale = df[df['sex'] == 0]\n\nmale_death_count = male.groupby('DEATH_EVENT')['sex'].count().reset_index()\nfemale_death_count = female.groupby('DEATH_EVENT')['sex'].count().reset_index()\n\nplt.figure(figsize=(10,6))\nplt.subplot(1,2,1)\nplt.pie(labels=male_death_count['DEATH_EVENT'], x=male_death_count['sex'], autopct='%.2f')\nplt.title('Male')\n\nplt.subplot(1,2,2)\nplt.pie(labels=female_death_count['DEATH_EVENT'], x=female_death_count['sex'], autopct='%.2f')\nplt.title('Female')\n\nplt.suptitle('Gender on Death Event', size=20)\nplt.figlegend(['Survived', 'Not Survived'])\nplt.show()","40d3b803":"plt.figure(figsize=(12,8))\nsns.violinplot(x='sex', y='age', hue='DEATH_EVENT', data=df)\nplt.grid()\nplt.show()","edd33292":"smoker = df[df['smoking'] == 1]\nplt.figure(figsize=(10,6))\nsns.kdeplot(smoker[smoker['DEATH_EVENT'] == 0].age)\nsns.kdeplot(smoker[smoker['DEATH_EVENT'] == 1].age)\nplt.legend(['Survived', 'Not Survived'])\nplt.xticks(np.arange(min(smoker.age), max(smoker.age), 5))\nplt.title('Smoking on Death Event', size=20)\nplt.grid()\nplt.show()","2f20ccb9":"diabetes = df[df['diabetes'] == 1]\nplt.figure(figsize=(10,6))\nsns.kdeplot(diabetes[diabetes['DEATH_EVENT'] == 0].age)\nsns.kdeplot(diabetes[diabetes['DEATH_EVENT'] == 1].age)\nplt.legend(['Survived', 'Not Survived'])\nplt.xticks(np.arange(min(diabetes.age), max(diabetes.age), 5))\nplt.title('Diabetes on Death Event', size=20)\nplt.grid()\nplt.show()","4545a704":"anaemia = df[df['anaemia'] == 1]\nplt.figure(figsize=(10,6))\nsns.kdeplot(anaemia[anaemia['DEATH_EVENT'] == 0].age)\nsns.kdeplot(anaemia[anaemia['DEATH_EVENT'] == 1].age)\nplt.legend(['Survived', 'Not Survived'])\nplt.xticks(np.arange(min(anaemia.age), max(anaemia.age), 5))\nplt.title('Anaemia on Death Event', size=20)\nplt.grid()\nplt.show()","3dcf8612":"high_blood_pressure = df[df['high_blood_pressure'] == 1]\nplt.figure(figsize=(10,6))\nsns.kdeplot(high_blood_pressure[high_blood_pressure['DEATH_EVENT'] == 0].age)\nsns.kdeplot(high_blood_pressure[high_blood_pressure['DEATH_EVENT'] == 1].age)\nplt.legend(['Survived', 'Not Survived'])\nplt.xticks(np.arange(min(high_blood_pressure.age), max(high_blood_pressure.age), 5))\nplt.title('High Blood Pressure on Death Event', size=20)\nplt.grid()\nplt.show()","9c1bf808":"plt.figure(figsize=(10,8))\nsns.boxplot(y=df.creatinine_phosphokinase, x=df.DEATH_EVENT)\nplt.title('Createnine Phosphokinase on Death Event', size=20)\nplt.grid()\nplt.show()","2804b1a5":"plt.figure(figsize=(10,8))\nsns.boxplot(y=df.ejection_fraction, x=df.DEATH_EVENT)\nplt.title('Ejection Fraction on Death Event', size=20)\nplt.grid()\nplt.show()","e2cb03a1":"plt.figure(figsize=(10,8))\nsns.boxplot(y=df.platelets, x=df.DEATH_EVENT)\nplt.title('Platelets on Death Event', size=20)\nplt.grid()\nplt.show()","fccdf821":"plt.figure(figsize=(10,8))\nsns.boxplot(y=df.serum_creatinine, x=df.DEATH_EVENT)\nplt.title('Serum Creatinine on Death Event', size=20)\nplt.grid()\nplt.show()","6d534357":"plt.figure(figsize=(10,8))\nsns.boxplot(y=df.serum_sodium, x=df.DEATH_EVENT)\nplt.title('Serum Sodium on Death Event', size=20)\nplt.grid()\nplt.show()","83091f1e":"plt.figure(figsize=(10,6))\nsns.histplot(x=df.time, hue=df.DEATH_EVENT, kde=True)\nplt.title('Time on Death Event', size=20)\nplt.show()","ce0c96c8":"plt.figure(figsize=(20,8))\nsns.heatmap(df.corr(), annot=True)\nplt.title('Correlation Matrix between Variables', size=20)\nplt.show()","73a9cd7f":"minmax_scaler = MinMaxScaler()\ndf_minmax_scale = minmax_scaler.fit_transform(df.drop(columns='DEATH_EVENT'))\ndf_minmax_scaled = pd.DataFrame(data=df_minmax_scale, columns=df.columns[0:-1])\ndf_minmax_scaled.head()","feddec0b":"X = df_minmax_scaled\ny = df['DEATH_EVENT'].astype(int)\n\nX_train, X_test, y_train, y_test = train_test_split(\n    X,\n    y,\n    stratify=y,\n    test_size=0.3,\n    random_state=2021\n)","15d3c3d4":"classifiers = ['SVM', 'Logistic',  'RandomForest', \n               'KNeighbors', 'DecisionTree', \n               'GradientBoosting', 'MLPClassifier',\n               'XGBoost'\n               ]\n\nmodels = [svm.SVC(random_state=2021),\n          LogisticRegression(random_state=2021),\n          RandomForestClassifier(random_state=2021),\n          DecisionTreeClassifier(random_state=2021),\n          KNeighborsClassifier(),\n          GradientBoostingClassifier(random_state=2021),\n          MLPClassifier(random_state=2021),\n          XGBClassifier(random_state=2021)\n          ]","5ef8f0c9":"Score = pd.DataFrame({\"Classifier\":classifiers})\nj = 0\nprecision = []\nfor i in models:\n    model = i\n    model.fit(X_train,y_train)\n    predictions = model.predict(X_test)\n    precision.append(precision_score(y_test,predictions))\n    j = j+1     \n\nScore[\"Precision_Score\"] = precision\nScore.sort_values(by=\"Precision_Score\", ascending=False,inplace = True)\nScore.reset_index(drop=True, inplace=True)\nScore","84909346":"model_bench = MLPClassifier(random_state=2021)\nmodel_bench.fit(X_train, y_train)\ny_pred_bench = model_bench.predict(X_test)","73ae8443":"print('Precision_score:', precision_score(y_test, y_pred_bench))\n\nplot_confusion_matrix(model_bench, X_test, y_test, values_format='0.7g')\nplt.title('Confusion Matrix Model Benchmark')\nplt.show()","009a1cdb":"params = {\n    'hidden_layer_sizes':[(25,),(50,),(75,),(50,100,10)],\n    'max_iter':[50,100,200,500],\n}\n\nskfold = StratifiedKFold(n_splits=5)\n\ngrid_search = GridSearchCV(\n    estimator=model_bench,\n    param_grid=params,\n    cv=skfold,\n    scoring='precision',\n    verbose=1,\n    n_jobs=None,\n)","6da551e1":"grid_search.fit(X_train, y_train)","229d6e74":"print('Precision_score:', grid_search.best_score_)\nprint('Best Parameters:', grid_search.best_params_)","91f9f8cc":"model_end = grid_search.best_estimator_\nmodel_end.fit(X_train, y_train)\ny_pred_end = model_end.predict(X_test)","f008212a":"print('Precision_score:', precision_score(y_test, y_pred_end))\nplot_confusion_matrix(model_end, X_test, y_test, values_format='0.7g')\nplt.title('Confusion Matrix Model with Hyperparameter Tuning')\nplt.show()","3bfbaece":"According to CDC, diabetes is a chronic (long-lasting) health condition that affects how your body turns food into energy.\n\nMost of the food you eat is broken down into sugar (also called glucose) and released into your bloodstream. When your blood sugar goes up, it signals your pancreas to release insulin. Insulin acts like a key to let the blood sugar into your body\u2019s cells for use as energy.\n\nIf you have diabetes, your body either doesn\u2019t make enough insulin or can\u2019t use the insulin it makes as well as it should. When there isn\u2019t enough insulin or cells stop responding to insulin, too much blood sugar stays in your bloodstream. Over time, that can cause serious health problems, such as heart disease, vision loss, and kidney disease.[[2]](https:\/\/www.cdc.gov\/diabetes\/basics\/diabetes.html)\n\nFrom the graph below, the person with diabetes have higher risk of heart failure from the age of 65.","0743f63b":"# Heart Failure Prediction","5fd21b84":"The result of the final model have decreased the False Positive from 3 people to just 1 people. The precision score is 0.8889 or 88,89%, this means the model is not overfit. Therefore, the model can be used to predict wether the patient will have heart failure or not.","a126492e":"## Preprocessing","9f5f65be":"### Smoking","5b5f92be":"### Anaemia","7264464d":"From the table above, we can see that the correlation between variables are low, with the exception of variable sex and smoking which have moderate correlation with each other.","709cf933":"Now, we come to the process that will tune the machine learning model to have the better output and better score that the model benchmark. In this step, we will tune 2 parameters of MLP Classifier, which is hidden layer size and maximum iteration. The process start with making the variable for grid search to find the best estimators for the model and then fit to the data.","b5a1054c":"We come to second part in the machine learning process. We will selecting the model as model benchmark. The models that included in the selecting process is the model which have characteristic of supervised learning classification, especially for binary classification, because the variable traget only have value of 0 and 1. \nThese models are:\n1. SVC, \n2. Logistic Regression, \n3. Decision Tree Classifier, \n4. KNeighbors Classifier, \n5. Random Forest Classifier, \n6. Gradient Boosting Classifier, \n7. MLP Classifier, and XGB Classifier.\n\nSelection process of these models will be based on precision score. This is because the target that we have is wether the patient will have heart failure or not. So, it's better to reduce the False Positive as low as possible. Thus, the people who have high risk of heart failure but mistakenly do not have high risk of heart failure will be low.","17d78b2d":"From the graph below, we can see that the patient have more risk for not survived after age 70.","bd857533":"Creatinine is a waste product that forms when creatine, which is found in your muscle, breaks down. Creatinine levels in the blood can provide your doctor with information about how well your kidneys are working.[[9]](https:\/\/www.healthline.com\/health\/creatinine-blood) Even tough creatinine have always been associated with how well yout kidney are working, elevated serum creatinine has been associated with increased mortality in hypertensive persons, the elderly, and patients with myocardial infarction or stroke in whom cardiovascular disease is the major cause of death.[[10]](https:\/\/pubmed.ncbi.nlm.nih.gov\/9056611\/)\n\nFrom the graph below, we can see that the person who not survived have higher serum creatinine than the person who survived. This confirm that elevated serum createnine as one of the indicator of heart failure.","ba982b4e":"To make sure, we check on each columns if there's a missing value or not.","60734569":"## Data Splitting","1e3e1ecf":"Next step, we want to split the data with 70% training data for learning process and 30% test data for validation of the model.","d7482180":"## Final Model","7bfa072d":"## Health Factors","891d20b0":"Because the age should be an integer number, then we will change data type of the column age from float to integer.","aca7f1b4":"## Gender versus Death Event","e9c10b8d":"## Age, Gender and Death Event","c9922fe4":"Tabel above is the descriptive statistics of the data. We can see thef maximum value that each columns are in the different number. The biggest number is in columns platelets which is hundred thousands compare to serum creatinine which no more than 10. This could be a problem in machine learning process because the larger number will be dominated or have greatest influence to the results which probably not the case. So, to tackle this problem, we could use scaler for each columns to standarized the number.","ceb0d0d5":"### Platelets","9e5b715d":"We import the library which will use in this notebook.","6a38523e":"Hyponatremia is the most common electrolyte disorder and is frequently encountered in patients with advanced heart failure. Hypotonic or dilutional hyponatremia, usually simply called hyponatremia, is defined as a reduction in the serum sodium concentration to a level below 136 mEq\/L. This condition represents an excess of water in relation to existing sodium and potassium stores, since the sodium concentration is determined by Edelman's Equation\u2014the ratio of the \u201cexchangeable\u201d (i.e., osmotically active) portions of the body's sodium and potassium content to total body water. The development of hyponatremia in patients with heart failure increases morbidity and predisposes to falls, hip fractures, and other complications as well as hospital admissions.[[11]](https:\/\/www.ncbi.nlm.nih.gov\/pmc\/articles\/PMC5385798\/)\n\nFrom the graph below, we can see that the median of serum sodium are 136 mEq\/L in the person who not survived. While the median of serum sodium for the person who survived are higher than 136 mEq\/L. It confirm, as explainded above, that the person who survive would have serum sodium above 136 mEq\/L.","fc810929":"## Patient's Age Distribution","6a8c35b2":"Finally, we check the performance and the result of the final model that have been tuned in the previous step. This step also will evaluate the model wether it's overfit or not.","21d2e9d8":"Creatine phosphokinase (a.k.a., creatine kinase, CPK, or CK) is an enzyme (a protein that helps to elicit chemical changes in your body) found in your heart, brain, and skeletal muscles. When muscle tissue is damaged, CPK leaks into your blood. Therefore, high levels of CPK usually indicate some sort of stress or injury to your heart or other muscles. To test CPK, blood is drawn from a vein in your arm. In the hospital, a person\u2019s CK-MB level is often checked when they exhibit signs of heart attack.[[5]](https:\/\/www.hopkinslupus.org\/lupus-tests\/clinical-tests\/creatine-phosphokinase-cpk\/)\n\nFrom the boxplot below, median of CPK of the person who survived are similar to the person who not survived. It means that high CPK is not the main factor that cause heart failure.","0158177b":"From the graph below, both sex have median of 60 years old.","5019c04b":"From hyperparameter tuning, we have the best estimator model with hidden layer sized (50,) and max iteration 100. The precision score of this model is 87,99%, increased 6,68% from the model benchmark. This means the tuning for this model is success to increase the performance of the model.","adcd1026":"### Diabetes","bfdebdc3":"We present 5 other factors that might have contributed to heart failure. These factors will be plotted in histogram. The factors are Createnine Phosphokinase, Ejection Fraction, Platelets, Serum Creatinine, and Serum Sodium. We will compared these 5 factors with death event to know how these factors contributed to heart failure.","264466bb":"We will take a look on descriptive statistics on this data. Thankfully, the data are all numerical, so, it's easier to do the statistics.","e1358cf1":"We will take a look at the data.","950275bd":"## Other Factors","fd33d05e":"Next we will take a look at the info of the data. We can see below that mostly for each columns have integer type of data, but column age, platelets and serum_creatinine. We also have a glance at missing values which we don't have in this data because we have 299 entries on each columns.","04d61b30":"# Library","2bdf2429":"## Age versus Death Event","55a9e6a7":"## Descriptive Statistics","5419bc74":"### Createnine Phosphokinase","ff5da8d0":"## Data at a glance","fdbdd1d6":"# Hyperparameter Tuning","3c134f6e":"## Time on Death Event","9679d07a":"We have 13 columns which are:\n1. <b>age<\/b>: age\n2. <b>anaemia<\/b>: Decrease of red blood cells or hemoglobin (boolean)\n3. <b>creatinine_phosphokinase<\/b>: Level of the CPK enzyme in the blood (mcg\/L)\n4. <b>diabetes<\/b>: If the patient has diabetes (boolean)\n5. <b>ejection_fraction<\/b>: Percentage of blood leaving the heart at each contraction (percentage)\n6. <b>high_blood_pressure<\/b>: if the patient has hypertension (boolean)\n7. <b>platelets<\/b>: Platelets in the blood (kiloplatelets\/mL)\n8. <b>serum_creatinine<\/b>: Level of serum creatinine in the blood (mg\/dL)\n9. <b>serum_sodium<\/b>: Level of serum sodium in the blood (mEq\/L)\n10. <b>sex<\/b>: Woman or man (binary)\n11. <b>smoking<\/b>: If the patient smokes or not (boolean)\n12. <b>time<\/b>: Follow-up period (days)\n13. <b>DEATH_EVENT<\/b>: If the patient deceased during the follow-up period (boolean)\n\n<b><i>Note<\/i><\/b>:\nFor boolean:\n* 0: no\n* 1: yes","86a474e4":"Smokers, according to CDC, are at greater risk for diseases that affect the heart and blood vessels (cardiovascular disease).\n* Smoking causes stroke and coronary heart disease, which are among the leading causes of death in the United States.\n* Even people who smoke fewer than five cigarettes a day can have early signs of cardiovascular disease.\n* Smoking damages blood vessels and can make them thicken and grow narrower. This makes your heart beat faster and your blood pressure go up. Clots can also form.\n* A stroke occurs when:\n    * A clot blocks the blood flow to part of your brain;\n    * A blood vessel in or around your brain bursts.\n* Blockages caused by smoking can also reduce blood flow to your legs and skin.[[1]](https:\/\/www.cdc.gov\/tobacco\/data_statistics\/fact_sheets\/health_effects\/effects_cig_smoking\/index.htm)\n\nFrom the graph below, we can see that the smoking person is highly risk for heart failure from the age of 60.","3e679cf1":"Next, we check the correlation between variables.","b02cbfe2":"# Conclusion & Recommendation","8b2a1356":"# Data","30ed3f50":"## Missing Values and Duplicates","adac5d34":"If we include age to the gender and death event, survivability of 50-60 years old male and 60-70 years old female would be higher than other age range. Also, with the median of the box plot for male not survived are higher than female. It means that the risk for male for not survived is in the higher age than female. ","19816860":"From the pie chart below, for gender perspective we can see that male are more likely to survive than female.","8859f7ed":"High blood pressure, also called hypertension, is blood pressure that is higher than normal. Health care professionals diagnose patients with high blood pressure if their blood pressure is consistently 130\/80 mm Hg or higher.\n\nHigh blood pressure can damage your arteries by making them less elastic, which decreases the flow of blood and oxygen to your heart and leads to heart disease. In addition, decreased blood flow to the heart can cause:\n* Chest pain, also called angina.\n* Heart attack, which happens when the blood supply to your heart is blocked and heart muscle begins to die without enough oxygen. The longer the blood flow is blocked, the greater the damage to the heart.\n* Heart failure, a condition that means your heart can\u2019t pump enough blood and oxygen to your other organs.[[4]](https:\/\/www.cdc.gov\/bloodpressure\/about.htm)\n\nFrom the graph below, the person with high blood pressure have high risk to heart failure from the age of 70. It's similar with anaemia, high blood pressure also have lower effect of heart failure compared to smoking and diabetes.","fe5c4f44":"# Model Benchmark","112d765c":"### Serum Sodium","f5f63cb4":"We 4 health factors that might have contributed to heart failure. These factors will be plotted in Kernel Denisty Plot. The factors are Smoking, Diabetes, Anaemia, and High Blood Pressure. We will compared the person who have these 4 factors with age and death event. So then we will know the effect of those 4 factors and age to death event.","9aa6b2a4":"We will take a look at age distribution in this data. On previous table, we have column age range from 40 to 95 years old which match the graph below. We can see that the distribution have a skewed right shape distribution, which indicates that the column age did not have a normal distribution. ","cea424f2":"Finally, as a conclusion, this machine learning model can predict 88,89% of the patient who will have a heart failure. This model can be applied to day-to-day monitoring of the patient who have the indication of heart failure which have been tested within the included variable on this data. ","2987d64d":"To make sure we have normal distribution on the column age, we check with pearson's test.","a11cf3ca":"## Distribution of Age based on Sex","bce2fea9":"Ejection fraction (EF) is a measurement, expressed as a percentage, of how much blood the left ventricle pumps out with each contraction. An ejection fraction of 60 percent means that 60 percent of the total amount of blood in the left ventricle is pushed out with each heartbeat. This indication of how well your heart is pumping out blood can help to diagnose and track heart failure. A normal heart\u2019s ejection fraction may be between 50 and 70 percent. A ejection fraction measurement under 40 percent may be evidence of heart failure.[[6]](https:\/\/www.heart.org\/en\/health-topics\/heart-failure\/diagnosing-heart-failure\/ejection-fraction-heart-failure-measurement)\n\nFrom the graph below, we can see that the median of ejection fraction of the person who not survived are lower than the person who survived. This seems right as explained above that the ejection fraction lower than 40 percent is the indication of heart failure. What's interesting though, both median are below 40, it means that most of the patient have a heart disease. ","46284c9d":"# Machine Learning Model","ad09d80d":"Model benchmark is the initial model without any tuning in the parameter of the model. In this step, we will check the performance of MLP Classifier model.","1844a337":"We begin the first part of machine learning process with Preprocessing. In this step, we want to standarized the numerical value. It means we will change all numerical value into range of 0 to 1. This process will eliminate bias from feature which have large range of number. \n\nWe use MinMaxScaler from sklearn library to change the numerical value into range of 0 to 1.","78498ebb":"### Serum Creatinine","61c44efc":"Platelets are tiny blood cells that help your body form clots to stop bleeding. If one of your blood vessels gets damaged, it sends out signals to the platelets. The platelets then rush to the site of damage and form a plug (clot) to fix the damage.[[7]](https:\/\/www.urmc.rochester.edu\/encyclopedia\/content.aspx?ContentTypeID=160&ContentID=36)\n\nIf you have too many platelets, it can increase your risk for clotting. But often your cardiovascular risk has more to do with platelet function than platelet number. For example, you could have a healthy number of platelets, but if they\u2019re sticking together too much it can increase your chance of having a heart attack or stroke.[[8]](https:\/\/www.hopkinsmedicine.org\/health\/conditions-and-diseases\/what-are-platelets-and-why-are-they-important)\n\nFrom the graph below, we can see that the number of platelets are similar between the person who survived and not survived. This confirm that the effect of platelet number are not important compared to the effect of platelet function as explained above.","bf149f94":"### Citation\nDavide Chicco, Giuseppe Jurman: Machine learning can predict survival of patients with heart failure from serum creatinine and ejection fraction alone. BMC Medical Informatics and Decision Making 20, 16 (2020). ([link](https:\/\/bmcmedinformdecismak.biomedcentral.com\/articles\/10.1186\/s12911-020-1023-5))\n\n### License\nCC BY 4.0","ca430809":"### High Blood Pressure","d81e3f7f":"Same goes with duplicates, the data didn't have duplicate entries.","e382c54b":"## Correlation","1b87aa55":"Cardiovascular diseases (CVDs) are the number 1 cause of death globally, taking an estimated 17.9 million lives each year, which accounts for 31% of all deaths worlwide.\nHeart failure is a common event caused by CVDs and this dataset contains 12 features that can be used to predict mortality by heart failure.\n\nMost cardiovascular diseases can be prevented by addressing behavioural risk factors such as tobacco use, unhealthy diet and obesity, physical inactivity and harmful use of alcohol using population-wide strategies.\n\nPeople with cardiovascular disease or who are at high cardiovascular risk (due to the presence of one or more risk factors such as hypertension, diabetes, hyperlipidaemia or already established disease) need early detection and management wherein a machine learning model can be of great help.\n\nSource: [kaggle](https:\/\/www.kaggle.com\/andrewmvd\/heart-failure-clinical-data)","9cfb5854":"# Exploratory Data Analysis","03bb1a79":"Anaemia is a deficiency in the number or quality of red blood cells in your body. Red blood cells carry oxygen around your body using a particular protein called haemoglobin. Anaemia means that either the level of red blood cells or the level of haemoglobin is lower than normal. When a person has anaemia, their heart has to work harder to pump the quantity of blood needed to get enough oxygen around their body. During heavy exercise, the cells may not be able to carry enough oxygen to meet the body\u2019s needs and the person can become exhausted and feel unwell. Anaemia isn\u2019t a disease in itself, but a result of a malfunction somewhere in the body. This blood condition is common, particularly in females. Some estimates suggest that around one in five menstruating women and half of all pregnant women are anaemic.[[3]](https:\/\/www.betterhealth.vic.gov.au\/health\/conditionsandtreatments\/anaemia)\n\nFrom graph below, the person who have anaemia have higher risk to heart failure from the age of 70. Although, the effect of anaemia itself are lower compared to smoking and diabetes. ","36ef7396":"From the table above, we can see that the winner is MLP Classifier based on precission score. So, we will use it as the model benchmark.","2c30c40b":"From the graph below, we can see that the survivability is increasing when the time gets longer. Probably the graph shows that the patient with better condition would not need a treatment immediately, so the graph shows the longer time for the patient who survived. Meanwhile, for the patient with bad condition probably need treatment immediately. That's why the graph shows that the patient who did not survived have shorter time compared to the patient with good condition.","9fae238b":"From confusion matrix above, we can see that we only have 3 people that categorized as false positive with the precision score of 0.8235 or 82.35%.","7c8198b4":"### Ejection Fraction","ca9bab9a":"## Data info","143e5851":"# Model Selection"}}