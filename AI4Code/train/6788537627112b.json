{"cell_type":{"aeb93517":"code","15982bf0":"code","8bc52769":"code","66230b49":"code","18704178":"code","11c0fa9e":"code","6781b9fe":"code","8148a280":"code","e0ec5154":"code","ddfa205b":"code","2564c162":"code","164b7eba":"code","1543d9bc":"code","d8d96953":"code","38376150":"code","cfab141d":"code","42308f3c":"code","330745b7":"markdown","1d479b21":"markdown","9f9df7b6":"markdown","3b450212":"markdown","9546f35c":"markdown","46471d34":"markdown","16daeaba":"markdown","5aa7e44c":"markdown","61848d1d":"markdown","b89d7a8b":"markdown","a5d0f3bb":"markdown","2f167cc2":"markdown","d691b149":"markdown","323170aa":"markdown"},"source":{"aeb93517":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns \nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.offline import iplot\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","15982bf0":"data = pd.read_csv('..\/input\/covid19-world-testing-progress\/covid-testing.csv')\ndata.head()","8bc52769":"print(\"Number of columns:\", len(data),\"\\nNumber of rows:\",len(data['Entity']))","66230b49":"data.info()","18704178":"data['Date']=pd.to_datetime(data['Date'])\ndata['Country'] = data['Entity'].apply(lambda x:x.split(' - ')[0].rstrip().lstrip())\ndata['Mode'] = data['Entity'].apply(lambda x:x.split(' - ')[1].rstrip().lstrip())\ndata[data['Mode'] == 'people tested']\ndata[['Country','Date']].groupby('Country').min().sort_values(by='Date', ascending=False)","11c0fa9e":"print('Modes of Testing:', data['Mode'].unique())","6781b9fe":"tp_data = data[data['Mode'] == 'tests performed'] \nm_tp=tp_data[['Country','Date']].groupby('Country').agg(['min', 'max'])\n\npt_data = data[data['Mode'] == 'people tested'] \nm_pt=pt_data[['Country','Date']].groupby('Country').agg(['min', 'max'])\n\nuu_data = data[data['Mode'] == 'units unclear'] \nm_uu=uu_data[['Country','Date']].groupby('Country').agg(['min', 'max'])\n\nst_data = data[data['Mode'] == 'samples tested'] \nm_st=st_data[['Country','Date']].groupby('Country').agg(['min', 'max'])","8148a280":"result = pd.concat([m_pt, m_tp], axis=1)\nresult = result.dropna()\nprint(\"people tested & tests performed\\n\",result)\nresult = pd.concat([m_pt, m_uu], axis=1)\nresult = result.dropna()\nprint(\"\\n\\npeople tested & units unclear\\n\",result)\nresult = pd.concat([m_pt, m_st], axis=1)\nresult = result.dropna()\nprint(\"\\n\\npeople tested & samples tested\\n\",result)\nresult = pd.concat([m_tp, m_uu], axis=1)\nresult = result.dropna()\nprint(\"\\n\\ntests performed & units unclear\\n\",result)\nresult = pd.concat([m_tp, m_st], axis=1)\nresult = result.dropna()\nprint(\"\\n\\ntests performed & samples.tested\\n\",result)\nresult = pd.concat([m_uu, m_st], axis=1)\nresult = result.dropna()\nprint(\"\\n\\nunits unclear & samples tested\\n\",result)","e0ec5154":"df = data[['Country', 'Mode']].groupby('Country').max().reset_index()\nfig= px.choropleth(df, locations=\"Country\", locationmode='country names', \n                   color='Mode', hover_name=\"Country\", \n                   title='Testing Modes used by Countries', hover_data=['Mode'], color_continuous_scale='matter')\nfig.show()","ddfa205b":"df = tp_data[['Country', 'Cumulative total per thousand']].groupby('Country').max().reset_index().sort_values(ascending=False, by='Cumulative total per thousand')[:15]\nfig = px.bar(df, y='Country', x='Cumulative total per thousand', text='Cumulative total per thousand', \n      color_discrete_sequence = px.colors.qualitative.Dark2, title='Tests Performed')\nfig.show()\n\ndf = pt_data[['Country', 'Cumulative total per thousand']].groupby('Country').max().reset_index().sort_values(ascending=False, by='Cumulative total per thousand')[:15]\nfig = px.bar(df, y='Country', x='Cumulative total per thousand', text='Cumulative total per thousand', \n      color_discrete_sequence = px.colors.qualitative.Dark2, title='People Tested')\nfig.show()\n\ndf = uu_data[['Country', 'Cumulative total per thousand']].groupby('Country').max().reset_index().reset_index().sort_values(ascending=False, by='Cumulative total per thousand')[:15]\nfig = px.bar(df, y='Country', x='Cumulative total per thousand', text='Cumulative total per thousand',\n      color_discrete_sequence = px.colors.qualitative.Dark2, title='Units uncleared')\nfig.show()\n\ndf = st_data[['Country', 'Cumulative total per thousand']].groupby('Country').max().reset_index().reset_index().sort_values(ascending=False, by='Cumulative total per thousand')[:15]\nfig = px.bar(df, y='Country', x='Cumulative total per thousand', text='Cumulative total per thousand',\n      color_discrete_sequence = px.colors.qualitative.Dark2, title='Samples Tested')\nfig.show()\n","2564c162":"fig = px.pie(data.groupby('Mode').size().reset_index(), values=0, names='Mode',\n             template=\"plotly_dark\",hole=0.3,)\nfig.show()","164b7eba":"df = data.groupby(['Country']).agg({'Daily change in cumulative total':'mean'}).reset_index().sort_values(by='Daily change in cumulative total', ascending=False)[:10]\nfig = px.scatter(df, y=\"Country\", x=\"Daily change in cumulative total\", title='Top 10 - Avg Daily change in cumulative total')\nfig.show()\n\ndf = data.groupby(['Country']).agg({'Daily change in cumulative total per thousand':'mean'}).reset_index().sort_values(by='Daily change in cumulative total per thousand', ascending=False)[:10]\nfig = px.scatter(df, y=\"Country\", x=\"Daily change in cumulative total per thousand\", title='Top 10 - Avg Daily change in cumulative total per thousand')\nfig.show()\n\ndf = data.groupby(['Country']).agg({'Cumulative total':'max'}).reset_index().sort_values(by='Cumulative total', ascending=False)[:10]\nfig = px.scatter(df, y=\"Country\", x=\"Cumulative total\", title='Top 10 - Cumulative total')\nfig.show()\n\ndf = data.groupby(['Country']).agg({'Cumulative total per thousand':'max'}).reset_index().sort_values(by='Cumulative total per thousand', ascending=False)[:10]\nfig = px.scatter(df, y=\"Country\", x=\"Cumulative total per thousand\", title='Top 10 - Cumulative total per thousand')\nfig.show()","1543d9bc":"fig = px.density_heatmap(data.corr())\nfig.show()","d8d96953":"def positivityRate(country):\n    df = data[data['Country'] == country]\n    title = 'Positive rate for '+country\n    fig = px.line(df, x=\"Date\", y=\"Short-term positive rate\", title= title, color='Country')\n    fig.show()\n    fig=px.line(df ,x=\"Date\",y=\"Daily change in cumulative total\",title=\"Covid cases w.r.t. date - \"+country,template=\"plotly_dark\")\n    fig.show()","38376150":"positivityRate('India')","cfab141d":"positivityRate('United States')","42308f3c":"positivityRate('Cuba')","330745b7":"<h2>Notebooks used as Inspiration:<\/h2>\n<div>\n    1. https:\/\/www.kaggle.com\/gpreda\/covid-19-testing-evolution<br>\n    2. https:\/\/www.kaggle.com\/imdevskp\/covid-19-analysis-visualization-comparisons<br>\n    3. https:\/\/www.kaggle.com\/shrutidandagi\/covid-19-analysis-plotly<br>\n<\/div>    ","1d479b21":"<a id=\"2\"><\/a><h2>Distributuion of Modes Country Wise<\/h2>","9f9df7b6":"<a id='4'><\/a><h2>Positivity Rates in different Countries<\/h2>\n<h4>The percent positive is exactly what it sounds like: the percentage of all coronavirus tests performed that are actually positive, or: (positive tests)\/(total tests) x 100%. <\/h4>","3b450212":"<center><h1>Importing the Libraries \ud83d\ude0e<\/h1><\/center> ","9546f35c":"<h2>Top 10 countries testing in each mode<\/h2>","46471d34":"<h2>So there are 4 modes of testing<\/h2>\n1. Tests Performed<br>\n2. People Tested<br>\n3. Units unclear<br>\n4. Samples Tested<br>","16daeaba":"<a id=\"3\"><\/a><h2>Sort countries wrt number of daily\/cumulative tests<\/h2>\n<h4>In which country are more people vaccinated per day?<\/h4>","5aa7e44c":"<h2>Introduction<\/h2>\n<p>In this kernel we are going to analyse country level testing for Covid19. Different countries use different modes for testing.<p>\n<a href='#1'>1. Find different modes of testing<\/a><br>\n<a href='#2'>2. Distributuion of Modes Country Wise<\/a><br>\n<a href='#3'>3. Sort countries wrt number of daily\/cumulative tests<\/a><br>    \n<a href='#4'>4. Positivity Rates in different Countries<\/a>","61848d1d":"<h3>Positive Rate in India<\/h3>\n","b89d7a8b":"<center><h1>Loading Data \ud83d\udce5<\/h1><\/center>\n","a5d0f3bb":"<center><h1>Data Analysis \ud83d\udcca<\/h1><\/center>","2f167cc2":"<h4>Only Poland overlaps for People tested and samples tested, <br>\nCanada and Italy overlap in people tested & tests performed<\/h4>","d691b149":"<a id=\"1\"><\/a><h2>Finding different modes of testing<\/h2>\nSplitting the Entity column into two - Country and the mode of Testing.\nHere there are some countries which use two or more modes of testing. Majority of the countries use a single mode.","323170aa":"<h4>In most countries the Daily Tests increase around the same time the positivity graph reaches its peak.<\/h4>"}}