{"cell_type":{"debc2a7f":"code","9cf78bf4":"code","a97b4738":"code","53812ff8":"code","7c9bd031":"code","b0950a61":"code","89a1c9fc":"code","90229e09":"code","5fe91e90":"markdown","a2d37d32":"markdown","d5eca708":"markdown"},"source":{"debc2a7f":"# \u30e9\u30a4\u30d6\u30e9\u30ea\u3092import\nfrom pathlib import Path\nimport numpy as np\nimport pandas as pd\nfrom sklearn.model_selection import KFold\n\nfrom category_encoders import OrdinalEncoder, CountEncoder, OneHotEncoder","9cf78bf4":"# \u30d5\u30a1\u30a4\u30eb\u3092\u8aad\u307f\u8fbcm\u3080\nFILE_PATH = '..\/input\/data-science-winter-osaka2'\n\ndf_train = pd.read_csv(Path(FILE_PATH)\/'train.csv', index_col=0)\ndf_test = pd.read_csv(Path(FILE_PATH)\/'test.csv', index_col=0)","a97b4738":"y_train = df_train.user_reviews\nX_train = df_train.drop(['user_reviews'], axis=1)\nX_test = df_test.copy()","53812ff8":"# \u6570\u5024\u3068\u3057\u3066\u6271\u3048\u306a\u3044\u3082\u306e\u3092\u3056\u3063\u3068\u898b\u3066\u307f\u307e\u3059\ncat_col = []\n\nfor col in X_train.columns:\n    if X_train[col].dtype=='object':\n        cat_col.append(col)\n        print('%s \u306e\u30e6\u30cb\u30fc\u30af\u6570\u306f%d\u3067\u3059\u3002\u3053\u308c\u306f\u5168\u884c\u6570\u306e%1.2f \uff05\u3067\u3059'%(col, X_train[col].nunique(), 100*X_train[col].nunique()\/len(X_train)))","7c9bd031":"# developer\u306b\u3064\u3044\u3066\u3067\u3059\u304c\u3001Ubisoft - San Francisco \u304c\u4e00\u756a\u591a\u3044\u3067\u3059\u306d\uff01\nX_train.developer.value_counts()","b0950a61":"# category_encoders\u306b\u3066CountEncoder\uff08\u767b\u5834\u56de\u6570\u306b\u7f6e\u63db\uff09\ncol = 'developer' #\u3053\u3053\u3092\u5909\u66f4\u3057\u3066\u307f\u3066\u4e0b\u3055\u3044\u3002 \nencoder = CountEncoder()\nencoder.fit(X_train[col])\nX_train['%s_count'%col] = encoder.transform(X_train[col])\nX_test['%s_count'%col] = encoder.transform(X_test[col])","89a1c9fc":"# \u7d50\u679c\u306e\u78ba\u8a8d\nX_train.developer_count.head()","90229e09":"# \u7d50\u679c\u306e\u78ba\u8a8d\nX_test.developer_count.head()","5fe91e90":"\n\n### \u521d\u53c2\u52a0\u306e\u65b9\u5411\u3051\u306b\u300cCount Encoding\u300d\u3092\u7d39\u4ecb\u3057\u307e\u3059\u3002\u53c2\u8003\u306b\u3057\u3066\u3001\u8272\u3005\u3068\u8a66\u3057\u3066\u304f\u3060\u3055\u3044\u3002","a2d37d32":"## Count Encoding","d5eca708":"## \u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u3068\u78ba\u8a8d"}}