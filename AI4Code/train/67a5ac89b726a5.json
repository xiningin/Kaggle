{"cell_type":{"2f0d2ae6":"code","cb5296d3":"code","ecb782d1":"code","a539fc32":"code","638320e1":"code","5b87c87e":"code","81bcc394":"code","c0c6afff":"code","ce558209":"code","46dcf1eb":"code","467ef6f2":"code","0532d78a":"code","a7762120":"code","c95ceb56":"code","7673b0fd":"code","2acb639c":"code","f0f20721":"code","59e0d88f":"code","2cf92143":"code","5fbc5c47":"code","5ce736b2":"code","9bc7af0c":"code","32680dae":"code","28f543d1":"code","47b669a6":"code","f208b2b3":"code","7b28d1a0":"code","076a2279":"code","42146b17":"code","cf190ad8":"code","ab510098":"code","3ec8d243":"code","e6507d53":"markdown","de41bf8a":"markdown","302d89db":"markdown","6fd95477":"markdown","59f1e145":"markdown","058aea56":"markdown","b1c3212e":"markdown","813ddacc":"markdown","8f3f9ce4":"markdown","595d1c3a":"markdown"},"source":{"2f0d2ae6":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","cb5296d3":"train = pd.read_csv('..\/input\/train.csv')\ntest = pd.read_csv('..\/input\/test.csv')\ntrain.head()","ecb782d1":"train.info()","a539fc32":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False)","638320e1":"sns.set_style('whitegrid')","5b87c87e":"sns.countplot(x='Survived', hue='Pclass', data=train)","81bcc394":"sns.countplot(x='Survived', hue='Sex', data=train)","c0c6afff":"sns.distplot(train['Age'].dropna(), bins=30)","ce558209":"sns.countplot(x='SibSp', data=train)","46dcf1eb":"sns.distplot(train['Fare'])","467ef6f2":"sns.boxplot(x='Pclass', y='Age', data=train)","0532d78a":"def fillage(cols):\n    Age = cols[0]\n    Pclass = cols[1]\n    \n    if pd.isnull(Age):\n        if Pclass == 1:\n            return 37\n        elif Pclass == 2:\n            return 29\n        else:\n            return 24\n    else:\n        return Age","a7762120":"train['Age'] = train[['Age', 'Pclass']].apply(fillage, axis=1)\ntest['Age'] = test[['Age', 'Pclass']].apply(fillage, axis=1)","c95ceb56":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False)","7673b0fd":"train.drop('Cabin', axis=1, inplace=True)\ntest.drop('Cabin', axis=1, inplace=True)","2acb639c":"train.dropna(inplace=True)","f0f20721":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False)","59e0d88f":"test.iloc[152,8] = np.mean(test['Fare'])","2cf92143":"sex = pd.get_dummies(train['Sex'], drop_first=True)\nembarked = pd.get_dummies(train['Embarked'], drop_first=True)\nsex_test = pd.get_dummies(test['Sex'], drop_first=True)\nembarked_test = pd.get_dummies(test['Embarked'], drop_first=True)","5fbc5c47":"train.drop(['Name', 'Ticket','Sex','Embarked'], inplace=True, axis=1)\ntest.drop(['Name', 'Ticket','Sex','Embarked'], inplace=True, axis=1)","5ce736b2":"train = pd.concat([train, sex, embarked], axis=1)\ntest = pd.concat([test, sex_test, embarked_test], axis=1)","9bc7af0c":"train.head()","32680dae":"from sklearn.linear_model import LogisticRegression","28f543d1":"X_train = train.drop('Survived', axis=1)\nX_test = test","47b669a6":"y_train = train['Survived']","f208b2b3":"logmodel = LogisticRegression(solver='lbfgs', max_iter=500)","7b28d1a0":"logmodel.fit(X_train, y_train)","076a2279":"predictions = logmodel.predict(X_test)","42146b17":"test.head()","cf190ad8":"predictions = pd.DataFrame(predictions, columns=['Survived'])\nsubmission = pd.concat([test['PassengerId'], predictions], axis=1)","ab510098":"submission.head()","3ec8d243":"submission.to_csv('submission.csv', index=False)","e6507d53":"**Step 1**: read the raw data","de41bf8a":"**Step 2**: data proprecessing for missing data    \nthe missing data is Age and Cabin and Embarked \nI drop the variable Cabin because it has a large number of missing data    \nFor Age, it relates with the variable Pclass, so I replaced the missing values with the average Age of each Pclass. ","302d89db":"I built the logistic regression to predict if a passenger survived the sinking of the Titanic or not based on the features I selected above.","6fd95477":"From the count plot I plotted above, it shows that people in the first Class survived more and people in the third Class unsurvived most. Female survived more than the Male. The people on the Tatanic are mostly between the age 20-40. Most of the people had zero or one sibling. ","59f1e145":"**Step 4**: Logistic Model","058aea56":"**Goal**: predict if a passenger survived the sinking of the Titanic or not. ","b1c3212e":"Now I obtained the train data without missing values. This step is for converting the categorical features such as Sex to dummy variables.","813ddacc":"I planed to replace the missing age with the average age of each Pclass. Below is the relationship between Age and Pclass.","8f3f9ce4":"# Titanic Data Analysis","595d1c3a":"**Step 3**: Converting the categorical features"}}