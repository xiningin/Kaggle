{"cell_type":{"dcf48f5f":"code","10acb786":"code","cb7c6a62":"code","9864b7e9":"code","42e0427f":"code","f475cff6":"code","87bbf4a9":"code","00233acc":"code","be68bc39":"code","23990695":"code","c0a25f2f":"code","43d7e246":"code","64963d47":"code","e6331efc":"code","baf2c8d9":"code","e2ce28de":"code","10206bc8":"code","13fb55f5":"code","834094e1":"code","05ecddba":"code","3ade97a5":"code","c0f4a063":"code","0a10ecf5":"code","18c1e28a":"code","4eccf90a":"code","6757b531":"code","c8cdb786":"markdown","bf383966":"markdown","a1e60e62":"markdown","c0672801":"markdown","14c569c9":"markdown"},"source":{"dcf48f5f":"import pandas as pd\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.cluster import KMeans\ncolor = sns.color_palette()\nfrom IPython.core.display import display, HTML\ndisplay(HTML(\"<style>.container { width:100% !important; }<\/style>\"))\n%matplotlib inline","10acb786":"salary_df = pd.read_csv(\"..\/input\/nba_2017_salary.csv\");salary_df.head()\n","cb7c6a62":"pie_df = pd.read_csv(\"..\/input\/nba_2017_pie.csv\");pie_df.head()","9864b7e9":"plus_minus_df = pd.read_csv(\"..\/input\/nba_2017_real_plus_minus.csv\");plus_minus_df.head()","42e0427f":"br_stats_df = pd.read_csv(\"..\/input\/nba_2017_br.csv\");br_stats_df.head()","f475cff6":"\nplus_minus_df.rename(columns={\"NAME\":\"PLAYER\", \"WINS\": \"WINS_RPM\"}, inplace=True)\nplayers = []\nfor player in plus_minus_df[\"PLAYER\"]:\n    plyr, _ = player.split(\",\")\n    players.append(plyr)\nplus_minus_df.drop([\"PLAYER\"], inplace=True, axis=1)\nplus_minus_df[\"PLAYER\"] = players\nplus_minus_df.head(10)","87bbf4a9":"nba_players_df = br_stats_df.copy()\nnba_players_df.rename(columns={'Player': 'PLAYER','Pos':'POSITION', 'Tm': \"TEAM\", 'Age': 'AGE', \"PS\/G\": \"POINTS\"}, inplace=True)\nnba_players_df.drop([\"G\", \"GS\", \"TEAM\"], inplace=True, axis=1)\nnba_players_df = nba_players_df.merge(plus_minus_df, how=\"inner\", on=\"PLAYER\")\nnba_players_df.head(10)","00233acc":"pie_df_subset = pie_df[[\"PLAYER\", \"PIE\", \"PACE\", \"W\"]].copy()\nnba_players_df = nba_players_df.merge(pie_df_subset, how=\"inner\", on=\"PLAYER\")\nnba_players_df.head(10)","be68bc39":"salary_df.rename(columns={'NAME': 'PLAYER'}, inplace=True)\nsalary_df[\"SALARY_MILLIONS\"] = round(salary_df[\"SALARY\"]\/1000000, 2)\nsalary_df.drop([\"POSITION\",\"TEAM\", \"SALARY\"], inplace=True, axis=1)\nsalary_df.head(10)","23990695":"nba_players_with_salary_df = nba_players_df.merge(salary_df); \nnba_players_with_salary_df.head(10)","c0a25f2f":"wiki_df = pd.read_csv(\"..\/input\/nba_2017_player_wikipedia.csv\");wiki_df.head()\n","43d7e246":"wiki_df.rename(columns={'names': 'PLAYER', \"pageviews\": \"PAGEVIEWS\"}, inplace=True)\nwiki_df.head(10)","64963d47":"median_wiki_df = wiki_df.groupby(\"PLAYER\").median()\nmedian_wiki_df.head(10)","e6331efc":"median_wiki_df_small = median_wiki_df[[\"PAGEVIEWS\"]]","baf2c8d9":"median_wiki_df_small = median_wiki_df_small.reset_index()\n","e2ce28de":"nba_players_with_salary_wiki_df = nba_players_with_salary_df.merge(median_wiki_df_small)\nnba_players_with_salary_wiki_df.head(10)","10206bc8":"twitter_df = pd.read_csv(\"..\/input\/nba_2017_twitter_players.csv\");twitter_df.head(10)\n","13fb55f5":"nba_players_with_salary_wiki_twitter_df = nba_players_with_salary_wiki_df.merge(twitter_df)\n","834094e1":"nba_players_with_salary_wiki_twitter_df.head(10)","05ecddba":"plt.subplots(figsize=(20,15))\nax = plt.axes()\nax.set_title(\"NBA Player Correlation Heatmap:  2016-2017 Season (STATS & SALARY & TWITTER & WIKIPEDIA)\")\ncorr = nba_players_with_salary_wiki_twitter_df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values,\n           cmap = \"PuBu\")","3ade97a5":"results = smf.ols('PIE ~ PAGEVIEWS+TWITTER_FAVORITE_COUNT+TWITTER_RETWEET_COUNT', data = nba_players_with_salary_wiki_twitter_df).fit()","c0f4a063":"print(results.summary())","0a10ecf5":"results = smf.ols('PIE ~ SALARY_MILLIONS', data = nba_players_with_salary_wiki_twitter_df).fit()","18c1e28a":"print(results.summary())","4eccf90a":"sns.heatmap(nba_players_with_salary_wiki_twitter_df[[\"SALARY_MILLIONS\", \"PAGEVIEWS\", \"TWITTER_FAVORITE_COUNT\", \"TWITTER_RETWEET_COUNT\", \"PIE\"]].corr(), annot= True, cmap= \"YlOrRd\")","6757b531":"sns.lmplot(x= \"SALARY_MILLIONS\", y= \"PIE\", data= nba_players_with_salary_wiki_twitter_df, size= 10)","c8cdb786":"**Linear regression**","bf383966":"**Correlation matrix**","a1e60e62":"**Importing packagaes**","c0672801":"Exploration of the stronger predictor for player impact estimate (PIE) between Salary and Social Media","14c569c9":"**Exploratory data analysis**"}}