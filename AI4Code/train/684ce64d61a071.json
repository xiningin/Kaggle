{"cell_type":{"a352f4c2":"code","9eba0337":"code","4c5169e9":"code","09d059ce":"code","96fc2601":"code","aafe214b":"code","089c964b":"code","1f5b1fc0":"code","03318811":"code","2e0f26a0":"code","75022f48":"code","95c9ec80":"code","fb6b6dfe":"code","dec11374":"code","ba65c1c7":"code","e337fe13":"code","4d02669c":"code","98a8c3e7":"code","c776c6f5":"code","5fe1b80f":"code","a60ecd51":"code","8ab3fe8e":"code","39b9c068":"code","409c103d":"code","e69f0d08":"code","3defb80b":"code","2a4a9713":"code","a817be80":"code","c1059592":"code","8cbbf524":"code","59dd857d":"code","389ae7ee":"markdown","5d229aa6":"markdown","bb52215a":"markdown","7c3171ec":"markdown","0ea77057":"markdown","550d0857":"markdown","08da4c7f":"markdown","9a8eb218":"markdown","ee7966ce":"markdown","63655669":"markdown","727b7472":"markdown","3d06ff01":"markdown","f4db17b3":"markdown","8e77c500":"markdown","348cbb9f":"markdown","844ead1e":"markdown","136065c6":"markdown","5dba2127":"markdown","32519edb":"markdown","b3ae5f81":"markdown","d957910a":"markdown","990ffcbb":"markdown","16abc4ac":"markdown","60a0f16e":"markdown"},"source":{"a352f4c2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9eba0337":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nfrom sklearn.preprocessing import MinMaxScaler\nimport statsmodels.api as sm\nfrom statsmodels.stats.outliers_influence import variance_inflation_factor \nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.metrics import r2_score\nfrom sklearn.linear_model import LinearRegression","4c5169e9":"pd.set_option(\"display.max_columns\",None)\npd.set_option(\"display.max_rows\",None)","09d059ce":"df_train=pd.read_csv(\"\/kaggle\/input\/house-prices-advanced-regression-techniques\/train.csv\")\ndf_train.head()","96fc2601":"df_test=pd.read_csv(\"\/kaggle\/input\/house-prices-advanced-regression-techniques\/test.csv\")\ndf_test.head()","aafe214b":"y_train=df_train[\"SalePrice\"]","089c964b":"print(\"size of train data\",df_train.shape)\nprint(\"size of test data\",df_test.shape)\nprint(\"size of target variable\",y_train.shape)","1f5b1fc0":"df_train.isnull().sum()","03318811":"df_train.drop([\"LotFrontage\",\"Alley\",\"BsmtQual\",\n              \"BsmtCond\",\"BsmtExposure\",\"BsmtFinType1\",\"BsmtFinType2\",\"FireplaceQu\",\n              \"GarageType\",\"GarageYrBlt\",\"GarageFinish\",\"GarageQual\",\"GarageCond\",\"PoolQC\",\n              \"Fence\",\"MiscFeature\"],axis=1,inplace=True)","2e0f26a0":"df_train.shape","75022f48":"df_test.drop([\"LotFrontage\",\"Alley\",\"BsmtQual\",\n              \"BsmtCond\",\"BsmtExposure\",\"BsmtFinType1\",\"BsmtFinType2\",\"FireplaceQu\",\n              \"GarageType\",\"GarageYrBlt\",\"GarageFinish\",\"GarageQual\",\"GarageCond\",\"PoolQC\",\n              \"Fence\",\"MiscFeature\"],axis=1, inplace=True)","95c9ec80":"df_test.shape","fb6b6dfe":"corr=df_train.select_dtypes(include=[np.number]).corr()\nprint(corr[\"SalePrice\"].sort_values(ascending=False))","dec11374":"fig=plt.subplots(figsize=(14,14))\nsb.heatmap(corr, vmax=1.0,cmap=\"coolwarm\",linewidths=0.1)","ba65c1c7":"zoom_corr=corr.loc[[\"SalePrice\",\"OverallQual\",\"YearBuilt\",\"YearRemodAdd\",\"MasVnrArea\",\"TotalBsmtSF\",\"1stFlrSF\",\"GrLivArea\",\"FullBath\",\"TotRmsAbvGrd\",\"GarageCars\",\"GarageArea\"],\n                  [\"SalePrice\",\"OverallQual\",\"YearBuilt\",\"YearRemodAdd\",\"MasVnrArea\",\"TotalBsmtSF\",\"1stFlrSF\",\"GrLivArea\",\"FullBath\",\"TotRmsAbvGrd\",\"GarageCars\",\"GarageArea\"]]\nfig=plt.subplots(figsize=(15,15))\nsb.heatmap(zoom_corr,vmax=1.0,cmap=\"coolwarm\",annot=True,linewidths=0.01)","e337fe13":"scaler=MinMaxScaler()","4d02669c":"# create list of numeric variables because we perform model on numeeric vars\nnum_vars=[\"GarageCars\",\"GarageArea\",\"TotRmsAbvGrd\",\"GrLivArea\",\"TotalBsmtSF\",\"1stFlrSF\",\"OverallQual\"]","98a8c3e7":"df_train[num_vars]=scaler.fit_transform(df_train[num_vars])\ndf_train.head()","c776c6f5":"df_train_sm=sm.add_constant(df_train[\"GarageCars\"])","5fe1b80f":"lr=sm.OLS(y_train,df_train_sm)","a60ecd51":"lr_model=lr.fit()","8ab3fe8e":"lr_model.summary()","39b9c068":"df_train_sm=sm.add_constant(df_train[[\"GarageCars\",\"GarageArea\"]])\nlr=sm.OLS(y_train,df_train_sm)\nlr_model=lr.fit()\nlr_model.summary()","409c103d":"df_train_sm=sm.add_constant(df_train[[\"GarageCars\",\"GarageArea\",\"TotRmsAbvGrd\"]])\nlr=sm.OLS(y_train,df_train_sm)\nlr_model=lr.fit()\nlr_model.summary()","e69f0d08":"y_train_pre=lr_model.predict(df_train_sm)\ny_train_pre.head()","3defb80b":"res_train=y_train-y_train_pre\nres_train.head()","2a4a9713":"plt.figure()\nsb.distplot(res_train)\nplt.title(\"Residuals\")\nplt.show()","a817be80":"scaler=MinMaxScaler()\n# create list of numeric variables because we perform model on numeeric vars\nnum_vars=[\"GarageCars\",\"GarageArea\",\"TotRmsAbvGrd\",\"GrLivArea\",\"TotalBsmtSF\",\"1stFlrSF\",\"OverallQual\"]\ndf_test[num_vars]=scaler.fit_transform(df_test[num_vars])\ndf_test.head()","c1059592":"df_test_sm=sm.add_constant(df_test[[\"GarageCars\",\"GarageArea\",\"TotRmsAbvGrd\"]]).fillna(0)\ny_test_pre=lr_model.predict(df_test_sm)\ny_test_pre.head()","8cbbf524":"res_test=y_train-y_test_pre\nres_test.head()","59dd857d":"plt.figure()\nsb.distplot(res_test)\nplt.title(\"Residuals\")\nplt.show()","389ae7ee":"GarageCars,GarageArea,TotRmsAbvGrd(Total rooms above grade) this three variables show 50% of variance.\nThis three variables may affect the salePrice.","5d229aa6":"## Droping Missing Values from train dataset","bb52215a":"As R-square shows 0.425 value i.e 42% of variance is explained by this two  variables [GarageCars,GarageArea]","7c3171ec":"As R-squared shows 0.410 value i.e 41% of variance is explained by GarageCars variable","0ea77057":"### Applying Min Max scaler on test data set","550d0857":"### using stats model for building model","08da4c7f":"### Fit Model","9a8eb218":"## Prediction on test data","ee7966ce":"## Finding Correlation ","63655669":"## Residuals (Train dataset)","727b7472":"## Plotting Heatmap ","3d06ff01":"## Importing dataset\n    -Train data\n    -Test data","f4db17b3":"## Residuals (Test dataset)","8e77c500":"### Creating Model","348cbb9f":"As R-squared shows 0.527 value i.e 52% of variance is explained by this three variables [GarageCars,GarageArea,TotRmsAbvGrd]\n","844ead1e":"### Lokking for summary of model","136065c6":"## Applying Min Max Scaler on train dataset\n    We will perform modelling on numeric variables,so we make all numeric variables of one type","5dba2127":"## Looking for null values","32519edb":"## Prediction on train data","b3ae5f81":"## Droping Missing values from test dataset","d957910a":"## Size of train , test and target variable","990ffcbb":"## Simplifing heatmap with proper correlation values\nWe took an closer look at the correlations part and found the following variables are having good correlation with eachother.\nSalePrice,OverallQual,YearBuilt,YearRemodAdd,MasVnrArea,TotalBsmtSF,1stFlrSF,GrLivArea,FullBath,TotRmsAbvGrd,GarageCars,GarageArea","16abc4ac":"We found that:\n    - GarageCars and GarageArea are strongly correlated by 0.88\n    - TotRmsAbvGrd and GrLivArea are strongly correlated by 0.83\n    - TotalBsmtSF and 1stFlrSF are strongly correlated by 0.82\n    - OverallQual and SalePrice are strongly correlated by 0.79\n    - GrLivArea and SalePrice are strongly correlated by 0.71\n    ","60a0f16e":"## Target variable"}}