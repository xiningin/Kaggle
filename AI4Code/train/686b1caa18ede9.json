{"cell_type":{"1316a00b":"code","5737b67c":"code","28aee6bc":"code","5062b57e":"code","0d34b3c6":"code","2b295567":"code","e8791ea9":"code","8bb295ce":"code","41405022":"code","f98a5d5e":"code","eca08cdd":"code","de0f7765":"code","6ed3a03d":"code","f9db86b3":"code","8e120b1a":"markdown","130b0abc":"markdown","8b7a6888":"markdown","f42dcf15":"markdown","7bf9b39e":"markdown","e56b59ae":"markdown","8a07b509":"markdown","6d4ccd86":"markdown","61cac05c":"markdown","debe940e":"markdown","a379d3f8":"markdown","6d4dd0e6":"markdown"},"source":{"1316a00b":"#Imporation of usefull libraries\n\nimport numpy as np \nimport pandas as pd #data structure\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport folium #maps\nfrom folium.plugins import HeatMap\nimport os","5737b67c":"dataCrime=pd.read_csv('..\/input\/crime.csv', encoding=\"latin-1\")\ncrime=dataCrime.loc[dataCrime['YEAR'].isin([2016,2017])] #Remove years 2015 and 2018\ncrime.head() #Quick glance to the data","28aee6bc":"Boston=folium.Map(location=[42.340,-71.05], #Initialization of the map\n               zoom_start=4\n)\n\nfolium.CircleMarker([42.340,-71.05],\n                        radius=20,\n                        fill_color=\"#b22222\"\n                       ).add_to(Boston)\n\nBoston","5062b57e":"#Quick coordonates cleaning\ncrime.Lat.replace(-1, None, inplace=True)\ncrime.Long.replace(-1, None, inplace=True)\n","0d34b3c6":"f1=plt.figure(1) #Figure of all different crimes\ncrime.plot(kind=\"scatter\", x=\"Long\", y=\"Lat\", alpha=0.01, s=1)\nplt.title('Representation of crimes in Boston between 2016 and 2017')\n\nf2=plt.figure(2) #Figure of ballistic crimes\nballistic_crimes=crime.loc[crime.OFFENSE_CODE_GROUP=='Ballistics']\nballistic_crimes=ballistic_crimes[['Lat','Long']]\nballistic_crimes.plot(kind=\"scatter\", x=\"Long\", y=\"Lat\", s=1)\nplt.title('Reprensation of ballistic crimes in Boston from 2015 to 2018')\nplt.show()\n","2b295567":"ballistic_crimes.Lat.fillna(0, inplace = True) #Remove NaN coordonate values\nballistic_crimes.Long.fillna(0, inplace = True) \n\nmap=folium.Map(location=[42.320,-71.05], #Initiate map on Boston city\n               zoom_start=12\n)\n\nHeatMap(data=ballistic_crimes, radius=16).add_to(map)\n\n\nmap","e8791ea9":"data_district=crime.copy() \ndata_district.DISTRICT.value_counts() #Observation of the number of crimes per district","8bb295ce":"\ndata_district=data_district.replace(['D14','A15','A7','E13','E18','E5'],'Other Districts') #Regroup the districts in which there is the less crimes\ncrime_per_district=data_district.DISTRICT.value_counts()\n\n\nplt.figure(figsize=(8,8))\ncolors=['cornflowerblue','lightcoral','orange','gold','peachpuff','lightgreen','skyblue']\nplt.pie(crime_per_district.values, labels=crime_per_district.index, autopct='%1.1f%%', startangle=90, colors=colors)\nplt.title('Repartition of crimes by Districts')\nplt.show()","41405022":"sns.scatterplot(data=data_district, x='Long', y='Lat', hue='DISTRICT', alpha=0.003, palette=colors, hue_order=['Other Districts','B2','C11','D4','B3','A1','C6'])","f98a5d5e":"sns.countplot(x='HOUR', data=crime)","eca08cdd":"labels=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday']\ncount_days=crime.DAY_OF_WEEK.value_counts()\nplt.figure(figsize=(8,4))\nax=sns.barplot(count_days.index, count_days.values, palette=colors)\nax.set_xlabel('Day of Week')\nax.set_xticklabels(labels, rotation=50)\nax.set_ylabel('Number of crimes')\nplt.tight_layout()","de0f7765":"labels_months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec']\ncount_months=crime.MONTH.value_counts()\nplt.figure(figsize=(8,4))\nax=sns.barplot(count_months.index, count_months.values)\nax.set_xlabel('Months')\nax.set_xticklabels(labels_months)\nplt.tight_layout()","6ed3a03d":"crime_type=crime.OFFENSE_CODE_GROUP.value_counts()\ncrime_type ","f9db86b3":"labels_months=crime_type.index\ncount_type=crime.OFFENSE_CODE_GROUP.value_counts()\nplt.figure(figsize=(10,10))\nax=sns.barplot(count_type.index, count_type.values)\nax.set_xlabel('Offense code group')\nax.set_xticklabels(labels_months, rotation=90)\nplt.tight_layout()","8e120b1a":"Let's see where the ballistic crimes are located on a map.","130b0abc":"What are the most sensitive discrits ?","8b7a6888":"Now we can wonder what are the hours during which there is the most and the less crimes.","f42dcf15":"\n\nWe can also wonder what could be the evolution of number of crimes over the years, but 2 years of data is too few to observe a real trend.\n\n","7bf9b39e":"**II) Temporal analysis**","e56b59ae":"**I. Geographical analysis**","8a07b509":"#Loading data\n\nThe database of crimes goes from june 2015 to september 2018. We will focus on the entiere years, that is to say 2016 and 2017. ","6d4ccd86":"So we got a database of crimes in Boston which contains in particulary for every crime : Offense Description, Date and Hour,Disctrict and Coordonates. We will make an analysis based on those data. First of all, let's have a view on Boston. ","61cac05c":"**III) Types of crimes in Boston**","debe940e":"\n\nThank you for reading me, it was my first Kernel so don't hesitate to tell me your advices ! \n\n","a379d3f8":"Note : The majority of crimes is realised at the beginning of the night and the minority between 2AM and 6AM. Same for the days of the week and the months.","6d4dd0e6":"I will analyze the crimes in Boston during the last 3 years.\nMy analysis is divided in three parts :\n\nI) Geographical analysis \nII) Temporal analysis  \nIII) Presentation of different types of crimes"}}