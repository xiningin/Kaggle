{"cell_type":{"4a76d3c5":"code","aeac8134":"code","3deb3972":"code","84c53389":"code","9485ca4f":"code","31bf129b":"code","97b8e3b3":"code","71dc2a50":"code","d9a36e82":"code","6f328c38":"code","1216269a":"code","4ba95413":"code","0e83cf50":"code","9028b4ce":"code","0968ad34":"markdown","d262460e":"markdown","6018ad52":"markdown","11ff8423":"markdown","78b9e705":"markdown","efcf6be5":"markdown","6f1e7ec5":"markdown","7565763f":"markdown","d90f7e8c":"markdown","d8e31b5e":"markdown","3f2a44a3":"markdown","18136cd9":"markdown","533f2e9d":"markdown","9eaba6ee":"markdown","5865a17c":"markdown"},"source":{"4a76d3c5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","aeac8134":"# Import training data - review shape and columns\nimport pandas as pd\ntrain = pd.read_csv('\/kaggle\/input\/learn-together\/train.csv')\ntrain.shape\ntrain.columns","3deb3972":"# Reverse the one hot encoding for Wilderness Area and Soil Type to create one column each for Wilderness Areas and Soil Types which contain all all possible category values\ntrain_1 = train.copy()\ntrain_1['Wild_Area'] = train_1.iloc[:,11:15].idxmax(axis=1)\ntrain_1['Soil_Type'] = train_1.iloc[:,16:55].idxmax(axis=1)\n\n# Drop the one hot encoded columns to a get a data frame only with numeric and the categorical columns\ncol_to_drop = np.arange(11,55)\ncol_to_drop\ntrain_1.drop(train_1.columns[col_to_drop], axis = 1, inplace = True)\ntrain_1.columns\ntrain_1.head()","84c53389":"# check the distribution of Wild Area\ntrain_1.Wild_Area.value_counts()","9485ca4f":"# check the distribution of Forest Cover Types\ntrain_1.Cover_Type.value_counts()","31bf129b":"# check the distribution of Soil Types\ntrain_1.Soil_Type.value_counts()","97b8e3b3":"# check the avail_soil types which have counts less than 100. \nless_100 = train_1.Soil_Type.value_counts() < 100\nless_100_soil = train_1.Soil_Type.value_counts()[less_100].index\nless_100_soil\n","71dc2a50":"# list of non zero soil types available in training data\navail_soil = train_1.Soil_Type.value_counts().index\navail_soil\n\n# Get all possible Soil Types available as features in the training data as columns\nall_soil = train.columns[15:55]\nall_soil\n# Check the missing soil types from training data by comparing all_soil and avail_soil\nmiss_soil = np.setdiff1d(all_soil,avail_soil)\nmiss_soil","d9a36e82":"# Create list of Soil type columns to be removed - missing soil types + less than 50 counts soil types\nremove_soil = list(miss_soil) + list(less_100_soil)\nremove_soil","6f328c38":"# Create box plots for all numeric variables - Elevation, Aspect, Slope, Horizontal Distance to Hydrology\n#import seaborn as sns\n#import matplotlib.pyplot as plt\n#sns.set(rc={'figure.figsize':(15,15)})\n#fig,ax = plt.subplots(5,2)\n#sns.boxplot(x = 'Cover_Type', y = 'Elevation', data = train_1, ax = ax[0,0])\n#sns.boxplot(x = 'Cover_Type', y = 'Aspect', data = train_1, ax = ax[0,1])\n#sns.boxplot(x = 'Cover_Type', y = 'Slope', data = train_1,ax = ax[1,0])\n#sns.boxplot(x = 'Cover_Type', y = 'Horizontal_Distance_To_Hydrology', data = train_1,ax = ax[1,1])\n#sns.boxplot(x = 'Cover_Type', y = 'Vertical_Distance_To_Hydrology', data = train_1,ax = ax[2,0])\n#sns.boxplot(x = 'Cover_Type', y = 'Horizontal_Distance_To_Roadways', data = train_1,ax = ax[2,1])\n#sns.boxplot(x = 'Cover_Type', y = 'Horizontal_Distance_To_Fire_Points', data = train_1,ax = ax[3,0])\n#sns.boxplot(x = 'Cover_Type', y = 'Hillshade_9am', data = train_1,ax = ax[3,1])\n#sns.boxplot(x = 'Cover_Type', y = 'Hillshade_Noon', data = train_1,ax = ax[4,0])\n#sns.boxplot(x = 'Cover_Type', y = 'Hillshade_3pm', data = train_1,ax = ax[4,1])\n#plt.close(4,1)\n#plt.close(3)\n#plt.close(4)\n#plt.close(5)\n#plt.yticks(rotation = 90)\n","1216269a":"# Plot box plots of all numeric variables by Cover Type\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nsns.set(rc={'figure.figsize':(10,5)})\nfor column in train_1.columns[1:10]:\n    sns.boxplot(x = 'Cover_Type', y = column, data = train_1)\n    plt.show()","4ba95413":"# Plot Hillshade variables\nimport seaborn as sns\n#train_1['Cover_Type'] = train_1['Cover_Type'].astype('object')\nsns.scatterplot(x='Hillshade_9am', y = 'Hillshade_3pm', data = train_1, hue = 'Cover_Type', palette=sns.color_palette(\"Set1\", 7))\nplt.show()\nsns.scatterplot(x='Hillshade_9am', y = 'Hillshade_Noon', data = train_1, hue = 'Cover_Type', palette=sns.color_palette(\"Set1\", 7))\nplt.show()\nsns.scatterplot(x='Hillshade_Noon', y = 'Hillshade_3pm', data = train_1, hue = 'Cover_Type', palette=sns.color_palette(\"Set1\", 7))\nplt.show()\n#train_1.plot(x='Hillshade_3pm', y = 'Hillshade_Noon', kind = 'scatter', c = 'Cover_Type')","0e83cf50":"# construct scatter plots to check for 2 variable combinations that can separate the classes\nsns.pairplot(train_1, hue = 'Cover_Type')","9028b4ce":"#sns.scatterplot(x='Aspect', y = 'Horizontal_Distance_To_Fire_Points', data = train_1, hue = 'Cover_Type', palette=sns.color_palette(\"Set1\", 7))\n#sns.scatterplot(x='Hillshade_Noon', y = 'Elevation', data = train_1, hue = 'Cover_Type', palette=sns.color_palette(\"Set1\", 7))","0968ad34":"# Conclusions\nAs a first trial, we will remove the below features for initial modeling\n1. Hillshade_9 am\n2. Hillshade_Noon\n3. Vertical_Distance_To_Hydrology\n4. Soil_Type1\n5. Soil_Type15\n6. Soil_Type7\n7. Soil_Type18\n8. Soil_Type26\n9. Soil_Type19\n10. Soil_Type37\n11. Soil_Type34\n12. Soil_Type21\n13. Soil_Type27\n14. Soil_Type36\n15. Soil_Type9\n16. Soil_Type28\n17. Soil_Type25\n18. Soil_Type8","d262460e":"# Analyze numerical features \nBox plots can help understand the distribution of data at each level of cover type. With this we can see if the specific variable values are good enough to linearly separate the classes - atleast some if not all.","6018ad52":"Note that starting from the bottom of the list, there are many soil type columns which appear in very few rows of the training data. Having ver few entries like even 100 in a training data size of 15000, may mean they might not influence the prediction in a major way. however if we do remove them, there is likely less chance of overfitting based on the these columns.\nwhat is a good threshold count to remove the columns from feature space is a tricky question. we will address this later when we get to fit models.\n\nLets start with 100 as a threshold to weed out potentially non impactful features.","11ff8423":"# Reshape data frame for analysis\nThe binary columns for Wild Area, Soil Type are not easy to analyse. It is better to convert them into categorical values for a more general Variable - Wild Area and Soil Type","78b9e705":"It is pretty clear that Elevation has a big impact on cover type but other variables do not have a obvious single impact on the classification, but the interactions between the variables will probably lead to the classification\n\nHillside 3 pm has a strong positive correlation with Hillside_Noon and a strong negative correlation with Hillside_9am. we could probably choose to incorporate only Hillside_3pm leaving out the other 2 variables.\nVertical distance to hydrology is also strongly correlated with horizontal distance to hydrology. but horizontal distance to hydrology shows more variation across cover types and hence may be a better indicator. so we will choose only horizontal distance to hydrology.\nSlope seems to have strong negative correlation with both hillshade 9 am and hill shade noon. so we can choose only slope instead of other two. this is also consistent with leaving out them due to strong correlation with hillshade 3 pm.\n\n","efcf6be5":"Hillshade_3pm is correlated with both the other two hill shade variables. But the classes are not clearly separated by any of the individual hill shade variables itself.","6f1e7ec5":"Now let us look at all the Soil Type binary columns that can be removed - zero count columns plus lesser count columns","7565763f":"# Import and Review Data","d90f7e8c":"By looking at the distribution of values for each of the numeric variables with the box plot, we can see that Elevation is able to find different range of values for different cover types and is more able to linearly separate some of the classes","d8e31b5e":"The training data classes are quite evenly spread.","3f2a44a3":"Note that when we remove these columns from training data, same needs to be done for the test data as well before predicting the test set cover type labels.","18136cd9":"# Summary Pair Plots\nplotting all pair plots gives us a little more understanding of how each of the numerical variable is related to the other. we can place them in the context of each cover type to see if the cover types are separated by any pair of variables.","533f2e9d":"For Soil Type binary columns, not that the number of Soil types that are listed above are only 37\/40. hence 3 of the columns are only filled with 0. Hence they do not effectively particpate in predicting the cover type.\n\nlets find out which of the 3 soil types are missing","9eaba6ee":"These 3 columns can certainly be removed from our list of feature columns for prediction","5865a17c":"To be continued. will update the kernel with model results based on the feature reduction."}}