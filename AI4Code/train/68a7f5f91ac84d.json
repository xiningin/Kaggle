{"cell_type":{"2c681980":"code","bab85900":"code","b819960d":"code","f1b9bc5d":"code","f4dd9c49":"code","46383ae7":"code","b873c287":"code","7a24322a":"code","3301bc32":"code","a30cb7b6":"code","e911a00f":"code","8d9b775d":"code","8f3ed161":"code","ee894310":"code","b76941c2":"code","9f700996":"code","b28f7fd7":"code","7d8a091d":"code","f64b540f":"code","3fd4cf8c":"code","90c1aa52":"code","570ec2de":"code","de369dd8":"code","d7cbd499":"code","c68bbf87":"code","d64c3d48":"code","9dc3b745":"code","b42f30aa":"code","bbfa7c4d":"code","dea1560a":"code","b26c1535":"code","17b1b06e":"code","442b9556":"code","77900963":"code","4ff5048d":"code","3c962199":"code","afcd8999":"code","1d03ca0f":"code","6106bc50":"code","272a0fdc":"code","f30d5fd3":"code","1363a39a":"code","706215d5":"code","fc8a4223":"code","1246f24c":"code","2d3f578f":"code","1f6a35f4":"code","db78da5e":"code","75976637":"code","43f8b9a7":"code","8fad1583":"code","4a28a9ba":"code","41d15e04":"code","1d220114":"code","89a9173e":"code","32fa18cc":"code","b6b548e1":"code","5ec8dacd":"code","33d446d5":"code","0eddc061":"code","c83b6e52":"code","d61d3a81":"code","0a3ec0b2":"code","ada8802e":"markdown","62bf0a5c":"markdown","d77c93ae":"markdown","392ad097":"markdown","8fbd1f5b":"markdown","830108af":"markdown","39a1153a":"markdown","a38209be":"markdown","7e16e98c":"markdown","d3c96668":"markdown","fe66de38":"markdown","7efecd58":"markdown","f8770bf1":"markdown","456d271c":"markdown","2e988688":"markdown","dd4898a6":"markdown","3e7bc561":"markdown","8095a303":"markdown","a8130b72":"markdown","19868b8f":"markdown","241a32cb":"markdown","494dd73e":"markdown"},"source":{"2c681980":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score, accuracy_score\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.svm import SVC\nimport math\nimport numpy as np\nfrom statsmodels.stats.weightstats import DescrStatsW\nfrom scipy.stats import t as t_student","bab85900":"tabela = pd.read_csv('..\/input\/campeonato-braileiro-20092018\/tabelas\/Tabela_Clubes.csv')","b819960d":"tabela.head()","f1b9bc5d":"tabela.drop(['Unnamed: 13', 'Unnamed: 14', 'Unnamed: 15', 'Unnamed: 16'], axis=1, inplace=True)","f4dd9c49":"tabela.shape","46383ae7":"tabela.dtypes","b873c287":"tabela.describe().transpose()","7a24322a":"tabela.isnull().sum()","3301bc32":"# Algumas colunas estavam com o nome errado, por exemplo a coluna de empates estava como derrota e vice versa. Por isso na linha abaixo estou renomeando as colunas com o nome correto.\ntabela.columns = ['Ano', 'Posi\u00e7\u00e3o', 'Clubes', 'Vitorias', 'Empates', 'Derrotas','GolsF\/S', 'Saldo', 'Qtd_Jogadores','Idade_Media', 'Estrangeiros', 'Valor_total', 'Media_Valor']","a30cb7b6":"# O ano dos campeonatos esta errado, por isso vou adicionar 1 aos anos.\ntabela['Ano'] = tabela['Ano']+1","e911a00f":"tabela.Clubes.value_counts()","8d9b775d":"#transformando a vari\u00e1vel Idade_Media em um float\ntabela.Idade_Media = tabela.Idade_Media.apply(lambda x: x.replace(',', '.'))\ntabela.Idade_Media = tabela.Idade_Media.astype(float)","8f3ed161":"# Agora estou criando uma coluna com os pontos dos times\ntabela[\"Pontos\"] = (tabela['Vitorias']*3)+(tabela[\"Empates\"])","ee894310":"tabela.head()","b76941c2":"#Um filtro com apenas os campe\u00f5es.\ncampeoes = tabela.query('Posi\u00e7\u00e3o == 1').sort_values('Pontos', ascending=False)","9f700996":"#Para efeito gr\u00e1fico, vou colocar o ano junto ao nome do Clube.\nnew_campeao = campeoes[\"Ano\"].copy()\nnew_campeao = new_campeao.astype(str)\ncampeoes[\"Clubes\"]= campeoes[\"Clubes\"].str.cat(new_campeao, sep =\" - \") ","b28f7fd7":"# Estat\u00edstica de Pontos dos campe\u00f5es\ncampeoes['Pontos'].describe()","7d8a091d":"plt.figure(figsize=(18,8))\nsns.barplot(x=\"Clubes\", y=\"Pontos\", data=campeoes)","f64b540f":"campeoes","3fd4cf8c":"sns.distplot(campeoes['Pontos'], bins=5)","90c1aa52":"campeoes.shape","570ec2de":"print (campeoes[\"Pontos\"].mean())\nprint (campeoes[\"Pontos\"].std())","de369dd8":"sign = 0.05\nconf = 1 - sign\nn =10\nliber = n - 1","d7cbd499":"t_alpha = t_student.ppf(conf, liber)\nt_alpha *(-1)","c68bbf87":"t = (75.5-67) \/ (4.927248499698161 \/ np.sqrt(10))\nt","d64c3d48":"p_valor = t_student.sf(5.4552475104671165, df = 9)\np_valor","9dc3b745":"test=DescrStatsW(campeoes[\"Pontos\"])","b42f30aa":"test.ttest_mean(value=67, alternative=\"smaller\")\n","bbfa7c4d":"p_valor >=sign","dea1560a":"desc = DescrStatsW(campeoes[\"Pontos\"])\ndesc.tconfint_mean()","b26c1535":"# Estat\u00edstica de Vit\u00f3rias dos campe\u00f5es\ncampeoes['Vitorias'].describe()","17b1b06e":"plt.figure(figsize=(18,6))\nsns.barplot(x=\"Clubes\", y=\"Vitorias\", data=campeoes)","442b9556":"# Estat\u00edstica de Derrotas dos campe\u00f5es\ncampeoes['Derrotas'].describe()","77900963":"plt.figure(figsize=(18,8))\nsns.barplot(x=\"Clubes\", y=\"Derrotas\", data=campeoes)","4ff5048d":"vice_campeoes = tabela.query('Posi\u00e7\u00e3o == 2')","3c962199":"vice_campeoes = vice_campeoes.sort_values('Pontos', ascending=False)","afcd8999":"#Para efeito gr\u00e1fico, vou colocar o ano junto ao nome do Clube.\nnew = vice_campeoes[\"Ano\"].copy()\nnew = new.astype(str)\nvice_campeoes[\"Clubes\"]= vice_campeoes[\"Clubes\"].str.cat(new, sep =\" - \") ","1d03ca0f":"# Estat\u00edstica de pontos dos Vice-campe\u00f5es\nvice_campeoes['Pontos'].describe()","6106bc50":"plt.figure(figsize=(18,8))\nsns.barplot(x=\"Clubes\", y=\"Pontos\", data=vice_campeoes)","272a0fdc":"# Estat\u00edstica de vit\u00f3rias dos vice_campe\u00f5es\nvice_campeoes['Vitorias'].describe()","f30d5fd3":"# Estat\u00edstica de Derrotas dos Vice_campe\u00f5es\nvice_campeoes['Derrotas'].describe()","1363a39a":"plt.figure(figsize=(18,8))\nsns.barplot(x=\"Clubes\", y=\"Derrotas\", data=vice_campeoes)","706215d5":"libertadores = tabela.query('Posi\u00e7\u00e3o == 4').sort_values('Pontos', ascending=False)","fc8a4223":"#Para efeito gr\u00e1fico, vou colocar o ano junto ao nome do Clube.\nnew_liberta = libertadores[\"Ano\"].copy()\nnew_liberta = new_liberta.astype(str)\nlibertadores[\"Clubes\"]= libertadores[\"Clubes\"].str.cat(new_liberta, sep =\" - \") ","1246f24c":"# Estat\u00edstica de pontos Libertadores\nlibertadores['Pontos'].describe()","2d3f578f":"plt.figure(figsize=(16,6))\nsns.barplot(x=\"Clubes\", y=\"Pontos\", data=libertadores)","1f6a35f4":"pre_libertadores = tabela.query('Posi\u00e7\u00e3o in [5,6]').sort_values('Pontos', ascending=False)","db78da5e":"pre_libertadores['Pontos'].describe()","75976637":"X = tabela.drop(['Ano', 'Posi\u00e7\u00e3o', 'Clubes', 'Vitorias', 'Derrotas', 'Empates', 'GolsF\/S', 'Saldo', 'Pontos'], axis=1)\ny= tabela['Posi\u00e7\u00e3o']","43f8b9a7":"X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.3)","8fad1583":"modelo_regressao = LinearRegression()","4a28a9ba":"modelo_arvore= DecisionTreeClassifier()","41d15e04":"modelo_svc = SVC()","1d220114":"modelo_regressao.fit(X_train,y_train)","89a9173e":"modelo_arvore.fit(X_train,y_train)","32fa18cc":"modelo_svc.fit(X_train,y_train)","b6b548e1":"predict_regressao = modelo_regressao.predict(X_test)","5ec8dacd":"predict_arvore = modelo_arvore.predict(X_test)","33d446d5":"predict_svc= modelo_svc.predict(X_test)","0eddc061":"regressao = r2_score(y_test,predict_regressao)*100\nregressao = round(regressao, 2)","c83b6e52":"decision_tree = accuracy_score(y_test,predict_arvore)*100\ndecision_tree = round(decision_tree, 2)","d61d3a81":"svc = accuracy_score(y_test,predict_svc)*100\nsvc = round(svc, 2)","0a3ec0b2":"print('Usando regress\u00e3o linear as minhas previs\u00f5es acertaram', regressao, '%')\nprint('Usando arvore de decis\u00e3o as minhas previs\u00f5es acertaram', decision_tree, '%')\nprint('Usando SVC as minhas previs\u00f5es acertaram', svc, '%')","ada8802e":"O Corinthians em 2011 e o Flamengo em 2009 foram os campe\u00f5es com o maior n\u00famero de derrotas, sendo 9 no total.","62bf0a5c":"Os meus acertos n\u00e3o foram grandes para que eu possa definir quem ser\u00e1 o campe\u00e3o apenas com essas vari\u00e1veis.","d77c93ae":"Podemos dizer com 95% de seguran\u00e7a que os campe\u00f5es ter\u00e3o entre 72 e 79 Pontos.<br \/>\nObs: Ter entre 72 e 79 pontos n\u00e3o garante ser campe\u00e3o.\n","392ad097":"# Pr\u00e9-Libertadores","8fbd1f5b":"# Intervalo de Confian\u00e7a dos Campe\u00f5es ","830108af":"Plotando um gr\u00e1fico em barra do n\u00famero de derrotas dos campe\u00f5es.","39a1153a":"Plotando um gr\u00e1fico em barra das vit\u00f3rias dos Campe\u00f5es.","a38209be":"<p>Agora quero saber se \u00e9 poss\u00edvel fazer previs\u00f5es com variav\u00e9is de antes de iniciar o campeonato, como:<p\/>\n\nQtd_Jogadores.<br \/> Idade_Media.<br \/> Estrangeiros.<br \/> Valor_total.<br \/> \tMedia_Valor.<br \/>","7e16e98c":"H0 = 67 <br \/>\nH1 < 67 ","d3c96668":"<p>Algumas condi\u00e7\u00f5es:<p\/>\nTer pelo menos 75 Pontos.<br \/> \nAlcan\u00e7ar 23 vit\u00f3rias.<br \/>\nPerder no m\u00e1ximo 5 vezes.<br \/>","fe66de38":"o n\u00famero max\u00edmo de vit\u00f3rias de um Vice-Campe\u00e3o foi 22.","7efecd58":"Plotando um gr\u00e1fico em barra da Pontua\u00e7\u00e3o dos Campe\u00f5es.","f8770bf1":"O Campe\u00e3o com a maior pontua\u00e7\u00e3o foi o Corinthians com 81 pontos em 2015. A M\u00e9dia de pontos dos ultimos campe\u00f5es foi de cerca de 76 Pontos e o desvio padr\u00e3o 4,9 que \u00e9 um valor relativamente baixo.","456d271c":"Pontua\u00e7\u00e3o m\u00e1xima de um Vice-Campe\u00e3o foi de 72 Pontos. A M\u00e9dia de pontua\u00e7\u00e3o dos Vice-Campe\u00f5es foi de 69 Pontos. ","2e988688":"Plotando um gr\u00e1fico de derrotas dos vice-campe\u00f5es","dd4898a6":"O Vice-Campe\u00e3o com menor n\u00famero de derrotas foi o Atletico-MG em 2012 com 6 derrotas.","3e7bc561":"# Campe\u00f5es ","8095a303":"Plotando um gr\u00e1fico de pontos dos vice-campe\u00f5es","a8130b72":"# Libertadores da Am\u00e9rica ","19868b8f":"O Vice-Campe\u00e3o com maior pontua\u00e7\u00e3o foi o Flamengo em 2018 com 72 Pontos.","241a32cb":"# Vice-Campe\u00f5es","494dd73e":"A M\u00e9dia de pontos para ir a libertadores direto (chegar entre os 4 primeiros sem ter que ir a pr\u00e9-libertadores) \u00e9 de cerca de 63 Pontos. O Desvio padr\u00e3o \u00e9 de cerca de 2,6. Por\u00e9m em 2018 o S\u00e3o Paulo chegou em quinto lugar com 63 pontos, o que me fez d\u00favidar deste n\u00famero, ent\u00e3o decidi vericar o n\u00famero de vit\u00f3rias.\n"}}