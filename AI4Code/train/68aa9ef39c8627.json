{"cell_type":{"2f138a16":"code","71100a9b":"code","3bc8cfcf":"code","0972286e":"code","a7611c02":"code","4acaf759":"code","2cde5f47":"code","e3ac5cc8":"code","1b16afa2":"code","d3f64f25":"code","d8fec6d5":"code","040539ea":"code","ec46636b":"code","d878d43a":"code","f1e619ee":"code","0983481a":"code","d36e9643":"code","4958c42e":"code","c2d51152":"code","9b844d5c":"code","d8f7fbb7":"code","efe1948d":"code","64ab55f4":"code","bf57e27c":"code","7b5f158a":"code","d2b57166":"code","2b6bbc6d":"code","41e84b0f":"code","43426479":"code","47f20d1c":"code","bc30fbc4":"code","dc44497e":"code","6f9da347":"code","8eb060af":"code","a96a463b":"code","44ffab26":"code","e6df5d4a":"code","605360d7":"code","a3d3fb60":"code","87d0e016":"code","dd02af66":"code","740769cf":"code","c2144732":"code","0ac5c3a8":"code","a43beb8d":"code","6e78f392":"code","15016517":"code","a82384e8":"code","dc9455c3":"code","ab54e992":"code","6d324884":"code","0030b060":"code","fa599cb4":"markdown","6a438918":"markdown","f10bd829":"markdown","18e8a42e":"markdown","c04c5910":"markdown","9e79a195":"markdown","cc211dcd":"markdown","c23c7e7f":"markdown","484ae80a":"markdown"},"source":{"2f138a16":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt \n%matplotlib inline\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import LabelEncoder\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nimport seaborn as sns\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","71100a9b":"df = pd.read_csv('..\/input\/titanic\/train.csv')\ndf_test = pd.read_csv('..\/input\/titanic\/test.csv')\ndf","3bc8cfcf":"df.head()\n","0972286e":"df.describe()","a7611c02":"df.corr()","4acaf759":"df.isna().sum()","2cde5f47":"df = df.drop('Cabin',axis = 1)\ndf_test = df_test.drop('Cabin',axis = 1)","e3ac5cc8":"df.columns","1b16afa2":"df.dtypes","d3f64f25":"plt.figure(figsize=(30,10))\nplt.subplots_adjust(left=0.125, bottom=0.1, right=0.9, top=0.9,\n                      wspace=0.5, hspace=0.2)\nplt.subplot(141)\nplt.title('Embarked!',fontsize = 30)\ndf['Embarked'].value_counts().plot.pie(autopct=\"%1.1f%%\")","d8fec6d5":"plt.figure(figsize=(30,10))\nplt.subplots_adjust(left=0.125, bottom=0.1, right=0.9, top=0.9,\n                      wspace=0.5, hspace=0.2)\nplt.subplot(141)\nplt.title('Embarked!',fontsize = 30)\ndf['Embarked'].value_counts().plot.pie(autopct=\"%1.1f%%\")","040539ea":"plt.figure(figsize=(30,10))\nplt.subplots_adjust(left=0.125, bottom=0.1, right=0.9, top=0.9,\n                      wspace=0.5, hspace=0.2)\nplt.subplot(141)\nplt.title('Gender!',fontsize = 30)\ndf['Sex'].value_counts().plot.pie(autopct=\"%1.1f%%\")","ec46636b":"plt.figure(figsize=(30,10))\nplt.subplots_adjust(left=0.125, bottom=0.1, right=0.9, top=0.9,\n                      wspace=0.5, hspace=0.2)\nplt.subplot(141)\nplt.title('Parch!',fontsize = 30)\ndf['Parch'].value_counts().plot.pie(autopct=\"%1.1f%%\")","d878d43a":"\nplt.figure(figsize=(30,10))\nplt.subplots_adjust(left=0.125, bottom=0.1, right=0.9, top=0.9,\n                      wspace=0.5, hspace=0.2)\nplt.subplot(141)\nplt.title('Pclass!',fontsize = 30)\ndf['Pclass'].value_counts().plot.pie(autopct=\"%1.1f%%\")","f1e619ee":"sns.catplot(x = 'Sex', hue = 'Survived',data = df, kind = 'count')","0983481a":"plt.figure(figsize=(10,6))\nsns.countplot(y=\"Sex\",hue ='Embarked',data=df)","d36e9643":"plt.figure(figsize=(10,6))\nsns.countplot(y=\"Embarked\",hue ='Survived',data=df)","4958c42e":"Female = df[df['Sex'] == 'female']\nMale = df[df['Sex'] == 'male']","c2d51152":"Female['Age'].unique()","9b844d5c":"Female['Age'].mean()","d8f7fbb7":"sns.distplot(Female.Age.value_counts())","efe1948d":"Male['Age'].unique()","64ab55f4":"sns.distplot(Male.Age.value_counts())","bf57e27c":"Male['Age'].mean()","7b5f158a":"df.Age.fillna(df.Age.mean(),inplace=True)\ndf.Embarked.fillna(df.Embarked.mode,inplace=True)","d2b57166":"df.isnull().sum()\n","2b6bbc6d":"df.drop(['Name','PassengerId'],axis = 1,inplace=True)\n","41e84b0f":"df.drop(['Embarked'],axis= 1,inplace = True)\ndf.drop('Ticket',axis = 1,inplace = True)\ndf['Sex']=pd.get_dummies(df[['Sex']],drop_first=True)\n","43426479":"df.head()","47f20d1c":"df.columns","bc30fbc4":"X = df.drop('Survived',axis = 1)\ny = df['Survived']","dc44497e":"X_train, X_test, y_train, y_test = train_test_split(  X, y, test_size=0.20, random_state=42)","6f9da347":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\nX_train= scaler.fit_transform(X_train)\nX_test = scaler.transform(X_test)","8eb060af":"from sklearn.linear_model import LogisticRegression\nLogR = LogisticRegression()\nLogR.fit(X_train,y_train)","a96a463b":"y_pred = LogR.predict(X_test)\nLogR.score(X_train,y_train)","44ffab26":"LogR.score(X_test,y_test)","e6df5d4a":"from xgboost import XGBClassifier\nfrom matplotlib import pyplot\nmodel = XGBClassifier()\nmodel.fit(X_train, y_train)\n","605360d7":"xbg_pred = model.predict(X_test)\nmodel.score(X_train,y_train)","a3d3fb60":"model.score(X_test,y_test)","87d0e016":"print(model.feature_importances_)","dd02af66":"features = X.columns\nimportances = model.feature_importances_","740769cf":"pyplot.bar(features,importances)\npyplot.show()","c2144732":"df_test.head()","0ac5c3a8":"df_test.Age.fillna(df_test.Age.mean(),inplace=True)\ndf_test.Embarked.fillna(df_test.Embarked.mode,inplace=True)\ndf_test.Fare.fillna(df_test.Fare.mean(), inplace = True)","a43beb8d":"df_test.drop(['Embarked'],axis= 1,inplace = True)\ndf_test.drop('Ticket',axis = 1,inplace = True)\ndf_test['Sex']=pd.get_dummies(df[['Sex']],drop_first=True)\n","6e78f392":"df_test.isnull().sum()\n","15016517":"df_name = df_test['PassengerId']","a82384e8":"df_test.drop(['Name','PassengerId'],axis = 1,inplace=True)","dc9455c3":"X_df_test= scaler.fit_transform(df_test)","ab54e992":"xgb_predictions = model.predict(X_df_test)","6d324884":"#Create a  DataFrame\nsubmission = pd.DataFrame({'PassengerId':df_name,'Survived':xgb_predictions})\n                        \n\n#Visualize the first 10 rows\nsubmission.head(10)","0030b060":"##% Submit Predictions \nsubmission.to_csv('submission.csv',index=False)","fa599cb4":"## Some Visuals: To get more Insights","6a438918":"### Distibution of female-age plot","f10bd829":"## Filling the missing values","18e8a42e":"### Distibution of male-age plot","c04c5910":"## Modelling with Logistic Regression","9e79a195":"## Feature Importance Plotting","cc211dcd":"## Predictions on Test_Data","c23c7e7f":"### Splitting of data into train and test","484ae80a":"## Modelling with XGBClassifier"}}