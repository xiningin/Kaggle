{"cell_type":{"786d3e86":"code","56f875fb":"code","94d0cec4":"code","a0812b50":"code","ea5de0ef":"code","dbd4deeb":"code","c449780c":"code","b08ec758":"code","b4f73f9a":"code","3245990a":"code","2655a959":"code","593de907":"code","82d1a338":"code","5d34e640":"code","682e7e1f":"code","ffc9b41b":"code","1fbd0f1f":"code","d5cc7b6f":"code","4826c7eb":"code","c8495f66":"code","995aa24a":"code","bdeae606":"code","476f0fae":"code","56b20a0c":"code","81741760":"code","f36b6231":"code","056bdb01":"code","25ebe43e":"code","f905758a":"code","a874e271":"code","bf48b6cd":"code","8592c073":"code","232fa973":"code","3a1eeb42":"code","c40befbb":"markdown"},"source":{"786d3e86":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.metrics import accuracy_score,r2_score\nimport statsmodels.api as sm\nfrom sklearn.linear_model import LinearRegression\nimport datetime as dt\nfrom sklearn.model_selection import train_test_split\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","56f875fb":"df=pd.read_csv('\/kaggle\/input\/ipl-dataset\/ipl.csv')","94d0cec4":"df.shape","a0812b50":"df.head()","ea5de0ef":"plt.figure(figsize=(55,8))\ndf['batsman'].value_counts().plot(kind='bar')","dbd4deeb":"batsman_rating=df['batsman'].value_counts().to_dict()\ndf['batsman_rating']=df['batsman'].map(batsman_rating)","c449780c":"plt.figure(figsize=(55,8))\ndf['bowler'].value_counts().plot(kind='bar')","b08ec758":"bowler_rating=df['bowler'].value_counts().to_dict()\ndf['bowler_rating']=df['bowler'].map(bowler_rating)","b4f73f9a":"df['date']=df['date'].apply(lambda x:dt.datetime.strptime(x,'%Y-%m-%d'))","3245990a":"df.head()","2655a959":"df['bat_team'].unique()","593de907":"consitent_teams=['Kolkata Knight Riders','Chennai Super Kings','Rajasthan Royals','Mumbai Indians','Kings XI Punjab',\n       'Royal Challengers Bangalore', 'Delhi Daredevils','Sunrisers Hyderabad']","82d1a338":"df=df[df['bat_team'].isin(consitent_teams) & df['bowl_team'].isin(consitent_teams)]","5d34e640":"df=pd.get_dummies(data=df,columns=['bat_team','bowl_team'])","682e7e1f":"df.head()","ffc9b41b":"df=df[df['overs']>=5.0]","1fbd0f1f":"df.head()","d5cc7b6f":"stadium=df['venue'].value_counts().to_dict()\nstadium","4826c7eb":"df['venue']=df['venue'].map(stadium)","c8495f66":"df['date'].dt.year.unique()","995aa24a":"df['date'].dt.year.value_counts()","bdeae606":"X=df.drop(['total','mid','date','striker','non-striker','batsman','bowler','batsman_rating','bowler_rating'],axis=1)\ny=df['total']","476f0fae":"X.head()","56b20a0c":"plt.figure(figsize=(10,5))\nsns.heatmap(X.corr())\nplt.show()","81741760":"X_train=X[df['date'].dt.year<=2016]\nX_test=X[df['date'].dt.year>=2017]","f36b6231":"y_train=y[df['date'].dt.year<=2016]\ny_test=y[df['date'].dt.year>=2017]","056bdb01":"print(X_train.shape,y_train.shape)\nprint(X_test.shape,y_test.shape)","25ebe43e":"model=LinearRegression()","f905758a":"model.fit(X_train,y_train)","a874e271":"y_pred=model.predict(X_test)","bf48b6cd":"result=sm.OLS(y,X).fit()","8592c073":"result.summary()","232fa973":"np.mean(y_pred-y_test)**2","3a1eeb42":"model.score(X_test,y_test)","c40befbb":"# Multicollinearity"}}