{"cell_type":{"ec66349b":"code","3196aa12":"code","9da18cbe":"code","3921ff16":"code","80bba4b2":"code","8a2db511":"code","7d05358c":"code","5470bfd4":"code","410238d0":"code","dea426ee":"code","3e93cfc2":"code","7b56b930":"code","8fc68540":"code","2ab90706":"code","20bfd1e8":"code","59d9e0d7":"code","dc56641a":"code","9f12308f":"code","8ae07c06":"code","eabf273a":"code","a934279e":"code","61e4c1b0":"code","1c342c0c":"code","a00bffb3":"code","9d484adf":"code","fafb259e":"code","31e73da9":"code","989902df":"code","51f9d736":"markdown"},"source":{"ec66349b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","3196aa12":"data=pd.read_csv(\"\/kaggle\/input\/restaurant-revenue-prediction\/train.csv.zip\")\ndata.head()","9da18cbe":"import matplotlib.pyplot as plt\nplt.figure(figsize=(15,15))\nimport seaborn as sns\nsns.heatmap(data.corr(),annot=True,cmap=\"Blues\")","3921ff16":"data.info()","80bba4b2":"data.Type.value_counts()","8a2db511":"data['City Group'].value_counts()","7d05358c":"from sklearn.preprocessing import LabelEncoder,OneHotEncoder\nle=LabelEncoder()\none=OneHotEncoder()\ndata.City=le.fit_transform(data.City)\na=pd.DataFrame(one.fit_transform(data[['City Group']]).toarray())\nb=pd.DataFrame(one.fit_transform(data[['Type']]).toarray())\ndata=pd.concat([data,a,b],axis=1)\ndata.drop(['Type','City Group'],axis=1,inplace=True)","5470bfd4":"data.head()","410238d0":"def year(x):\n    o=int(x[6:])\n    return o\ndef month(x):\n    o=int(x[3:5])\n    return o\ndef day(x):\n    o=int(x[0:2])\n    return o\ndata['year']=data['Open Date'].apply(year)\ndata['month']=data['Open Date'].apply(month)\ndata['day']=data['Open Date'].apply(day)\ndata.drop(\"Open Date\",axis=1,inplace=True)","dea426ee":"data.head()","3e93cfc2":"data.columns=[     'Id',    'City',      'P1',      'P2',      'P3',      'P4',\n            'P5',      'P6',      'P7',      'P8',      'P9',     'P10',\n           'P11',     'P12',     'P13',     'P14',     'P15',     'P16',\n           'P17',     'P18',     'P19',     'P20',     'P21',     'P22',\n           'P23',     'P24',     'P25',     'P26',     'P27',     'P28',\n           'P29',     'P30',     'P31',     'P32',     'P33',     'P34',\n           'P35',     'P36',     'P37', 'revenue',         0,         1,\n               2,         3,         4,    'year',   'month',     'day']","7b56b930":"x=data.drop([\"Id\",\"revenue\"],axis=1)\ny=data[\"revenue\"]","8fc68540":"from sklearn.model_selection import train_test_split,KFold,cross_val_score\nxr,xt,yr,yt=train_test_split(x,y)","2ab90706":"from sklearn.ensemble import GradientBoostingClassifier,RandomForestClassifier,RandomForestRegressor,GradientBoostingRegressor\nfrom xgboost import XGBClassifier,XGBRFRegressor,XGBRegressor\nfrom sklearn.tree import DecisionTreeClassifier,DecisionTreeRegressor\nfrom sklearn.linear_model import LogisticRegression,LinearRegression,SGDRegressor\nfrom sklearn.svm import SVC,SVR\nfrom sklearn.neighbors import KNeighborsClassifier,KNeighborsRegressor\nfrom sklearn.naive_bayes import GaussianNB\nfrom lightgbm import LGBMRegressor","20bfd1e8":"model=XGBRegressor(n_estimators=1000)\nmodel.fit(x,y)\nkfold=KFold(n_splits=10)\nres=cross_val_score(model,x,y,cv=kfold)\nres.mean()*100","59d9e0d7":"yp=model.predict(xt)","dc56641a":"from sklearn.metrics import mean_squared_error,mean_absolute_error,r2_score\nprint(r2_score(yt,yp))\nprint(mean_absolute_error(yt,yp))\nprint(mean_squared_error(yt,yp))","9f12308f":"test=pd.read_csv(\"\/kaggle\/input\/restaurant-revenue-prediction\/test.csv.zip\")\ntest.head()","8ae07c06":"test.City=le.fit_transform(test.City)\na=pd.DataFrame(one.fit_transform(test[['City Group']]).toarray())\nb=pd.DataFrame(one.fit_transform(test[['Type']]).toarray())\ntest=pd.concat([test,a,b],axis=1)\ntest.drop(['Type','City Group'],axis=1,inplace=True)","eabf273a":"test['year']=test['Open Date'].apply(year)\ntest['month']=test['Open Date'].apply(month)\ntest['day']=test['Open Date'].apply(day)\ntest.drop(\"Open Date\",axis=1,inplace=True)","a934279e":"test.head()","61e4c1b0":"test.columns=[     'Id',    'City',      'P1',      'P2',      'P3',      'P4',\n            'P5',      'P6',      'P7',      'P8',      'P9',     'P10',\n           'P11',     'P12',     'P13',     'P14',     'P15',     'P16',\n           'P17',     'P18',     'P19',     'P20',     'P21',     'P22',\n           'P23',     'P24',     'P25',     'P26',     'P27',     'P28',\n           'P29',     'P30',     'P31',     'P32',     'P33',     'P34',\n           'P35',     'P36',     'P37', 'revenue',         0,         1,\n               2,         3,         4,    'year',   'month',     'day']","1c342c0c":"pred=test.drop('Id',axis=1)\nyp=model.predict(x)\ny1=pd.DataFrame(yp)","a00bffb3":"test=pd.concat([test,y1],axis=1)","9d484adf":"test.columns=[     'Id',    'City',      'P1',      'P2',      'P3',      'P4',\n            'P5',      'P6',      'P7',      'P8',      'P9',     'P10',\n           'P11',     'P12',     'P13',     'P14',     'P15',     'P16',\n           'P17',     'P18',     'P19',     'P20',     'P21',     'P22',\n           'P23',     'P24',     'P25',     'P26',     'P27',     'P28',\n           'P29',     'P30',     'P31',     'P32',     'P33',     'P34',\n           'P35',     'P36',     'P37', 'revenue',         0,         1,\n               2,         3,         4,    'year',   'month',     'day',\n               'Prediction']","fafb259e":"test.to_csv('sub.csv',columns=[\"Id\",\"Prediction\"],index=False)","31e73da9":"sample=pd.read_csv(\"\/kaggle\/input\/restaurant-revenue-prediction\/sampleSubmission.csv\")\nsample.head()","989902df":"sample1=pd.read_csv(\"sub.csv\")\nsample1.head()","51f9d736":"# TEST"}}