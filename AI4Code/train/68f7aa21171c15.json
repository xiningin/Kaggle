{"cell_type":{"d6235e4e":"code","7b4fb776":"code","29da43a6":"code","a1167144":"code","d92b5aef":"code","6a029f17":"code","1fd2344b":"code","11a704c3":"code","fb5e3eea":"code","b487fb64":"code","01f71410":"code","c0761fc0":"code","85d33c06":"code","29a977db":"code","d2deeb9a":"code","33119c3d":"code","2da53b1b":"code","455695f0":"code","7228742c":"code","5dbe8ee4":"code","0d7ac7d2":"code","221ad2de":"code","6a615fcd":"code","93ef8e7c":"code","6d81ad82":"code","30ca702b":"code","14e9db26":"code","7355dc97":"code","b0bad72c":"code","c657aed4":"code","801e563b":"code","a00bca97":"code","9dee235c":"code","4f645392":"code","e3ec4daa":"code","7dc4d93a":"code","9c812cfa":"code","74b9626b":"code","91ee5c67":"code","ff5c15fe":"code","38d05c06":"code","863fe4ca":"code","ca2a7ba8":"code","3d075fbb":"code","b4be0c03":"code","76c63b20":"code","22b203b7":"code","8f3dd770":"code","fac6a200":"code","649df9d9":"code","42c3051b":"code","ed177169":"code","a5cce03c":"code","73e9f790":"code","ab0549b0":"code","42dc9878":"code","8ef9e725":"code","0969a9b2":"code","841daf88":"code","61b273dd":"code","9f66a61f":"code","57e498b8":"code","d5e31af7":"code","2f5df384":"code","6dccc38e":"code","4d33ff3c":"code","dba7503c":"code","8518e14e":"code","aec8dc4c":"code","45567aab":"code","f821a092":"code","833eb05f":"code","e6c91909":"code","d8c1e023":"code","2e864050":"code","5f67027f":"code","c9386da5":"code","f53880a0":"markdown","a1337829":"markdown","e4176644":"markdown","5b132744":"markdown","86c42b54":"markdown","5cc575f2":"markdown","fb9087f8":"markdown","aff3a13d":"markdown","6a15b37f":"markdown","9f391017":"markdown","c0d66065":"markdown","60d884bb":"markdown","b49a0c5b":"markdown","dd2f007b":"markdown","f3ef5aed":"markdown","f22886a0":"markdown","72280a35":"markdown","29b81c64":"markdown","d68249c2":"markdown","8b48434d":"markdown","b0828e9a":"markdown","0c8f5ab8":"markdown","05fea8cc":"markdown","748ba6d0":"markdown","ebbf4309":"markdown","a4cea9ef":"markdown","20a430b4":"markdown","2189eef7":"markdown","dec67d25":"markdown","53d76dc9":"markdown","b81858ee":"markdown","6ddb939d":"markdown","93fc19cf":"markdown","c6544ad1":"markdown","ea7cf02d":"markdown","a9dcb62b":"markdown","ca54b878":"markdown","63961e8f":"markdown","0954f62a":"markdown","8999f77f":"markdown","3046b52b":"markdown","bd18fc42":"markdown","897e51a5":"markdown","1a439afd":"markdown","9847ceca":"markdown","df1b9722":"markdown","81a32733":"markdown","febb8c17":"markdown","2552c583":"markdown","686b3531":"markdown","8e8c03a1":"markdown","7e052c3b":"markdown","71146d82":"markdown","8f06dbc7":"markdown","7d1eef09":"markdown","986817ac":"markdown","950a4470":"markdown","2b309b4a":"markdown","4a2dca5b":"markdown","c6737d94":"markdown","53152385":"markdown","6838fae6":"markdown","66b57bda":"markdown"},"source":{"d6235e4e":"import numpy as np \nimport pandas as pd \nimport os\nfrom tqdm import tqdm\nimport matplotlib.pyplot as plt\nimport pydicom","7b4fb776":"train_st = pd.read_csv(\"..\/input\/siim-covid19-detection\/train_study_level.csv\")\ntrain_st.head(3)\n","29da43a6":"train_im = pd.read_csv(\"..\/input\/siim-covid19-detection\/train_image_level.csv\")\ntrain_im.head(3)","a1167144":"sample = pd.read_csv(\"..\/input\/siim-covid19-detection\/sample_submission.csv\")\nsample.head(3)","d92b5aef":"train_path = \"..\/input\/siim-covid19-detection\/train\"\ntest_path = \"..\/input\/siim-covid19-detection\/test\"","6a029f17":"trainimlist = []\n\nfor dirname, _, filenames in os.walk(train_path):\n    for filename in filenames:\n        trainimlist.append(os.path.join(dirname, filename))","1fd2344b":"testimlist = []\n\nfor dirname, _, filenames in os.walk(test_path):\n    for filename in filenames:\n        testimlist.append(os.path.join(dirname, filename))","11a704c3":"trainimlist[:3]","fb5e3eea":"pathlist = []\nfor a in tqdm(train_im[\"id\"]):\n    for b in trainimlist:\n        if a.replace(\"_image\",\"\") in b:\n            pathlist.append(b)\n            break\n            ","b487fb64":"train_im[\"path\"] = pathlist\ntrain_im.head(3)","01f71410":"tmppath = train_im[\"path\"].iloc[0]\ntmppath","c0761fc0":"dataset = pydicom.filereader.dcmread(tmppath)\nimg = dataset.pixel_array","85d33c06":"plt.imshow(img)","29a977db":"img.shape","d2deeb9a":"train_st.head(3)","33119c3d":"for col in train_st.columns:\n    print(str(col) + \":\" + str(len(train_st[col].unique())))","2da53b1b":"len(train_st)","455695f0":"train_im.head(3)","7228742c":"for col in train_im.columns:\n    print(str(col) + \":\" + str(len(train_im[col].unique())))","5dbe8ee4":"len(train_im)","0d7ac7d2":"train_im.head(3)","221ad2de":"uidgroup = train_im.groupby(\"StudyInstanceUID\").count().reset_index()\nuidgroup","6a615fcd":"uidgroup = uidgroup.sort_values(\"id\")\nuidgroup","93ef8e7c":"uidgroup.columns = [\"StudyInstanceUID\",\"id_count\",\"boxes_count\",\"label_count\",\"path_count\"]\nuidgroup","6d81ad82":"uidgroup # this dataframe is count table made by groupby function.","30ca702b":"nodup_count = uidgroup[uidgroup[\"id_count\"]==1] # this dataframe is count table\nnodup_count","14e9db26":"train_im.head(3)","7355dc97":"train_im_no_dup = pd.merge(train_im,nodup_count,on=\"StudyInstanceUID\")\ntrain_im_no_dup","b0bad72c":"train_im_no_dup = train_im_no_dup[[\"boxes\",\"label\",\"StudyInstanceUID\",\"path\",\"boxes_count\"]]\ntrain_im_no_dup.columns = [\"boxes\",\"label\",\"id\",\"path\",\"box_count\"]","c657aed4":"train_im_no_dup.head(3)","801e563b":"train_im_no_dup[\"id\"] = [s + str(\"_study\") for s in train_im_no_dup[\"id\"]]","a00bca97":"train_im_no_dup","9dee235c":"train_st.head(3)","4f645392":"train_st_no_dup = pd.merge(train_st,train_im_no_dup,on=\"id\")","e3ec4daa":"train_st_no_dup.head(3)","7dc4d93a":"bc0 = train_st_no_dup[train_st_no_dup[\"box_count\"]==0]\nbc0","9c812cfa":"bc0.iloc[:,1:5].sum()","74b9626b":"bc0.iloc[:,1:5].sum().sum()","91ee5c67":"bc1 = train_st_no_dup[train_st_no_dup[\"box_count\"]==1]\nbc1","ff5c15fe":"bc1.iloc[:,1:5].sum()","38d05c06":"bc1.iloc[:,1:5].sum().sum()","863fe4ca":"uidgroup","ca2a7ba8":"uidgroup_dup = uidgroup[uidgroup[\"id_count\"]>=2]\nuidgroup_dup","3d075fbb":"train_im.head(3)","b4be0c03":"uidgroup_dup","76c63b20":"train_im[train_im[\"StudyInstanceUID\"]==uidgroup[\"StudyInstanceUID\"].iloc[-5]]","22b203b7":"train_im[train_im[\"StudyInstanceUID\"]==uidgroup[\"StudyInstanceUID\"].iloc[-1]]","8f3dd770":"train_im[train_im[\"StudyInstanceUID\"]==uidgroup[\"StudyInstanceUID\"].iloc[-2]]","fac6a200":"uidgroup_dup","649df9d9":"uidgroup_dup.boxes_count.max()","42c3051b":"train_im","ed177169":"uidgroup_dup.head(3)","a5cce03c":"uidgroup_dup","73e9f790":"train_im_dup = pd.merge(train_im,uidgroup_dup,on=\"StudyInstanceUID\")\ntrain_im_dup","ab0549b0":"tmp1 = train_im_dup[\"boxes\"].isna()\ntmp2 = train_im_dup[\"boxes_count\"]==1","42dc9878":"temp_train_im_dup = train_im_dup[tmp1*tmp2]\ntemp_train_im_dup","8ef9e725":"train_im_dup = train_im_dup.drop(temp_train_im_dup.index) ","0969a9b2":"train_im_dup = train_im_dup.reset_index(drop=True)\ntrain_im_dup","841daf88":"train_im_dup = train_im_dup.drop_duplicates([\"boxes\",\"StudyInstanceUID\"])\ntrain_im_dup","61b273dd":"train_im_dup = train_im_dup[[\"boxes\",\"label\",\"StudyInstanceUID\",\"path\",\"boxes_count\"]]\ntrain_im_dup","9f66a61f":"train_im_dup.columns = [\"boxes\",\"label\",\"id\",\"path\",\"box_count\"]","57e498b8":"train_st.head(3)","d5e31af7":"train_im_dup[\"id\"] = [s + str(\"_study\") for s in train_im_dup[\"id\"]]\ntrain_im_dup.head(3)","2f5df384":"train_st_dup = pd.merge(train_st,train_im_dup,on=\"id\")\ntrain_st_dup","6dccc38e":"bc0_dup = train_st_dup[train_st_dup[\"box_count\"]==0]\nbc0_dup","4d33ff3c":"bc0_dup.iloc[:,1:5].sum()","dba7503c":"bc0_dup.iloc[:,1:5].sum().sum()","8518e14e":"bc1_dup = train_st_dup[train_st_dup[\"box_count\"]==1]\nbc1_dup\n","aec8dc4c":"bc1.iloc[:,1:5].sum()","45567aab":"bc1.iloc[:,1:5].sum().sum()","f821a092":"cleandf = pd.concat([bc0,bc1,bc0_dup,bc1_dup])","833eb05f":"cleandf","e6c91909":"len(train_st)","d8c1e023":"tmptrain_st = train_st[[\"id\"]]\ntmptrain_st","2e864050":"cleandf2 = pd.merge(tmptrain_st,cleandf,on=\"id\",how=\"left\")\ncleandf2","5f67027f":"cleandf2.to_csv(\"cleandf.csv\",index=False)","c9386da5":"cleandf2.info()","f53880a0":"#### Although the bounding box value = nan, 2 out of 55 are Atypical Apperance. And others are Negative for Pneumonia.(96.4% : Negative for Pneumonia, 3.6% : other)\n#### You have to think about how to handle this.","a1337829":"## 4.3 Merge and analysis","e4176644":"## 3.1.1 Bounding Box with nan","5b132744":"#### There is no duplication of boxes, that is, there is only one type bounding box values in multiple ids. \n#### If there is a bounding box in multiple images, try adopting that image","86c42b54":"# 2. Analyzing the train data","5cc575f2":"#### Secondly, pull out the others","fb9087f8":"# 5. Merge All data(Making cleaning data with train_st + train_im)\n\n![image.png](https:\/\/storage.googleapis.com\/kagglesdsdata\/datasets\/1348626\/2246563\/chapter5.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcp-kaggle-com%40kaggle-161607.iam.gserviceaccount.com%2F20210518%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20210518T151353Z&X-Goog-Expires=259199&X-Goog-SignedHeaders=host&X-Goog-Signature=57f5ec2aa47081cd7c2164c928784ddc347fefd6197f9fe163e2b81ded7fcb576f0fb4d8da0e92b0a7cb93b69c5fabb28fe776b090608fb75cadc58d75bb4c6c3d4c0d8afa1429e0d6d69fbb8e45c143e8be63e7cac4d843d6022cf63481aee92cc6c012f8c86f01cc8b5be30203f6e8b4f545c0c804094f2982a7b874dfbbd5a0d0140b775f093b4cd8d27efcc3c4b8c73a61d87bc2187f0ab6d0056865530be04ab816ec22867e8183859910331c6ad01019e42946b43c78ba2883ef846d3b66be29eef91fecea778d6bc2da0e5e90689bbd074791c821f6081450bf3912600ee9326b3a2bcd921b908e022aaa160aa3b08eb27594f507032e4624777562c7)","aff3a13d":"#### OK","6a15b37f":"## 4.2 Adopt and extraction","9f391017":"#### Firstly, extract where box is none and the box count is 1.","c0d66065":"#### Exclude places where box is none and the box count is 1.","60d884bb":"# 6.Summary\n\n## There was duplication of \"StudyInstanceUID\" in the train_image_level.csv.\n## I analyzed for that duplicates and cleanly merge with train_study_level.csv.\n ","b49a0c5b":"#### Extraction is done.","dd2f007b":"# From now on, I will check if this data is correct.\n# Thank you for reading this far. \n# I hope you find it useful, I'm grad to upvoting this notebook !  ","f3ef5aed":"## I think the StudyInstanceUID is like a patient ID","f22886a0":"#### next, I make the id order the same as train_st","72280a35":"#### Compare in cases where box_count is 0 and 1","29b81c64":"## 4.3.2 Analyzing for duplicates and box_count = 1","d68249c2":"#### Those with a bounding box and label are not \"Negative for Pneumonia\". This is as expected.","8b48434d":"## 4.1 Analyzing for duplicates","b0828e9a":"#### Lastly, drop_duplicates are carried out because boxes are nan and there are still duplicates where boxes_count is 0.\n#### It's like the 2nd to 4th of the above results.","0c8f5ab8":"#### Those with a bounding box and label are not \"Negative for Pneumonia\". This is as expected.","05fea8cc":"#### Add _study to id to merge with train_st","748ba6d0":"# Summary image : \n### In short words, I analyzed the duplicates in train data. By using that results, clearly I merge with train_study_level.csv and train_image_level.csv.\n### You can use the merged result, if you like.\n\n\n-------------Attention-----------\n##### If the description image is hard to see, push the copy and edit. And it makes easier to see(It doesn't take much time to run all.)\n##### Futhermore, you can see it more by expanding in the browser. Alternatively, you can download it from input. \n##### I'm sorry it's difficult to attach clear images, due to the capacity limit of the notebook.\n\n","ebbf4309":"#### -----Summary so far------\n\nSome patients have multiple images\n\nIn the case of no duplicates, the bounding box is classified into two types, one with nan and the other without.\n\n    #### 1. case 1 : the bounding box value is nan\n    \n        81 out of 1705 are Atypical Apperance, 1 is Typical Apperance, and others are Negative for Pneumonia.\n        That is, all data is not always \"Negative for Pneumonia\" !   (95% : Negative for Pneumonia, 5 % : other. )\n        \n        You have to think about how to handle this.\n\n        \n    #### 2. case 2 : the bounding box value has a value\n    \n    \u3000\u3000Those with a bounding box and label are not \"Negative for Pneumonia\". This is as expected.\n        \n","a4cea9ef":"![image.png](https:\/\/storage.googleapis.com\/kagglesdsdata\/datasets\/1348626\/2246563\/Clipboard03.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcp-kaggle-com%40kaggle-161607.iam.gserviceaccount.com%2F20210518%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20210518T151418Z&X-Goog-Expires=259199&X-Goog-SignedHeaders=host&X-Goog-Signature=455667d938b8141daa7efd5f86916776e36a5cbd40875133a1ec3768f7f51c708076555ebe14f66bdcb2ab9d7193f1a9bcd13a334303aca79c758757ce2d9b6901ac907fd5cc7fecd8a1d7f68862fa5bfa7acc8f3eaaee08aaac1d41e2002f7109a095e1d2fb3675659555e10126c73720700871138d601ddb3debd5f3000dde1ffeadbb3160fe05f89e6bd30f135f3dd1f73aa1f121cf2a7c9f2b3bf5c7b68be7276c752fb566ef992098ce8bb2f73830fb00dd8dd8275d9af5b006971b213e2ec49f63abcd5d7510bd27b7ba42dd38ce56164702d92cc6d9c05fd81c9d3f3621d1f147fb515422298f9c4ea6110f180dc1ce8e299bf24c58e7fc95a1964259)","20a430b4":"The duplicates id can be extracted.","2189eef7":"#### Some of the same StudyInstanceUID(patients) have several images(ids).\n#### Firstly I think about things that are not duplicated(Chapter3). After that, I think about things that are duplicated(Chapter4).","dec67d25":"#### Show 1 image","53d76dc9":"# 1. Get image path and show image","b81858ee":"#### In this case, there is a value in one boxex and label among multiple ids","6ddb939d":"## 4.3.1 Analyzing for duplicates and box_count = 0(box is nan)","93fc19cf":"#### In order to extract, firstly merge with count data.","c6544ad1":"# 4. For duplicates in StudyInstanceUID\n\n![image.png](https:\/\/storage.googleapis.com\/kagglesdsdata\/datasets\/1348626\/2246563\/chapter4.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcp-kaggle-com%40kaggle-161607.iam.gserviceaccount.com%2F20210518%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20210518T151316Z&X-Goog-Expires=259199&X-Goog-SignedHeaders=host&X-Goog-Signature=8bede9b403bf05c95d8286c76dbd107e652b1beba222c5c5f333d750a550cbcdc744ccdedd947585a8c09f87fabee40565b9d1aac37612b65f01e124ac911455159a6462e25ea5e071282203d8cee5bd1db969ded59e98396458b6488b2d5d0c0d91dfdf72f0052e7180ab926ba08ea92f1c0e1d1904b698d50a43c290135d139e72f90b1cf73cd0c7983a307f9aedb99acd2d26253eb5285b30fd0934a611ff1e4642e46c65d7714c9a9adcea0444690529de9fa0f4a0379565004fc7450c5e49bf95ce979c515a5ad1c58c7db1df50a148479dee46b4647ece58f719cbb60e2611071a2e518af96f6658305ecc43750ab5a83c57af3bdedd21294d02e628ee)","ea7cf02d":"# About this notebook\n\n* ## EDA especially for duplicates in train data\n \n* ## Making clean data","a9dcb62b":"#### Next, showing boxes_count = 0","ca54b878":"# 3 For no duplicates in StudyInstanceUID\n\n![image.png](https:\/\/storage.googleapis.com\/kagglesdsdata\/datasets\/1348626\/2246563\/chapter3.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcp-kaggle-com%40kaggle-161607.iam.gserviceaccount.com%2F20210518%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20210518T151228Z&X-Goog-Expires=259199&X-Goog-SignedHeaders=host&X-Goog-Signature=7781313233a1002919a6eb2a5915b453239a36b4ac313080f1a607f9b165d49cc598f6a2b485e9e36bd5ca69c1ffdaa48f8d57f3d40ed1fc0515987bb712b027a9511a5de5338a51a817addd1572095f58a82b5f05a58c82962eebc87a188784e4e9714d832dd4570891b78dc4eae07822c03a4b133819a665fd1b0b58ca57aa49b0507f9af0e1284895ec5b0887663fedb9860271e388d1eaf9ae9a0e59d787413c768d4ac10002b5ebb5452ce00332ed317c926621000621749df81490e8a4f2ebf13f084c31015784e3eb5b9a88e60d76c154f39abc8bf559edf2946d85d4749d58be28152609eb233a395ad72dabde52530f17912972f65c6044bae84999)\n","63961e8f":"#### Count the unique number for each column","0954f62a":"#### confirming whether the number of concated dataframe is same as the train_study_level.csv","8999f77f":"#### 81 out of 1705 are Atypical Apperance, 1 is Typical Apperance, and others are Negative for Pneumonia.\n#### You have to think about how to handle this.","3046b52b":"\n\n![](https:\/\/storage.googleapis.com\/kagglesdsdata\/datasets\/1348626\/2244049\/Clipboard03.jpg?X-Goog-Algorithm=GOOG4-RSA-SHA256&X-Goog-Credential=gcp-kaggle-com%40kaggle-161607.iam.gserviceaccount.com%2F20210518%2Fauto%2Fstorage%2Fgoog4_request&X-Goog-Date=20210518T125153Z&X-Goog-Expires=259199&X-Goog-SignedHeaders=host&X-Goog-Signature=a7c756a071e71861961ce79bfe12971a93f4bb5c49ecc5254a0d40aca20b36b17d0022697eaa758f2b3e63e88727696b3fdc6cb05275ebec619af849927a3b5ff835aaaa66c4eede73e3030d7098c0dc68176f13a61519300c99169bf9a6ec6b45ae2e676ca9c075ce52f49ab9658537d7abb7dbaef73dfbcba51d8563be89b0c0376a00114901c6a09baa6daf3ab60a729217d351e886f31f68f5cf3143906bdb7875aeada7d7359231128937e567a7b671b4341718aba077d2f47a58a7c833da6df15a208b9298949f5b452356365c577748fef5fa431c602fcce2d6bd104bc5a67368878aeb3a373a19cbf147bc13438338feb575b59860efa3e229f66452)\n","bd18fc42":"* id - including image file name\n* boxes - bounding boxes in easily-readable dictionary format\n* label - the correct prediction label for the provided bounding boxes","897e51a5":"#### Extract duplicates id","1a439afd":"#### It is the same as above. If there are multiple ids, is there one box and one label?","9847ceca":"# 0. Confirmation of files","df1b9722":"## 2.1 Separating from duplicates","81a32733":"## 3.1 Analyzing for no duplicates by the number of bounding box values.\n\n\n\n\n","febb8c17":"#### All images are labeled by none in this StudyInstanceUID.","2552c583":"## 3.1.2  Bounding Box with a value","686b3531":"* id - unique study identifier\n\n----classification for predict----\n\n* Negative for Pneumonia \n* Typical Appearance \n* Indeterminate Appearance  \n* Atypical Appearance  ","8e8c03a1":"#### Save","7e052c3b":"#### Showing boxes_count = 0","71146d82":"# Summary of this competition\n\n\n\n#### We predict the abnormalities in COVIS-19 by chest radiographs.\n\n#### In particular, radiographs are classified as negative for pneumonia or typical, uncertain, or atypical of COVID-19.\n\n\n\n\n\n\n","8f06dbc7":"#### extract no duplicates id","7d1eef09":"#### Clean the column names after extracting only the necessary parts","986817ac":"#### Clean as well as the study for no duplication case(Chapter3)\n\n","950a4470":"### Adding image_path to train_im","2b309b4a":"#### The number of ids in train_st and the number of ids in train_im are not equal\n#### The train_im may have some duplicates in StudyInstanceUID","4a2dca5b":"# I'm looking forward to helping you even a little. please upvote\/follow, thank you!\n# Also, thank you for those who always upvote.","c6737d94":"#### Since box0 has no bounding boxes and label is none 1 0 0 1 1, I thought it was all \"Negative for Pneumonia\", but different cases were also confirmed.","53152385":"#### merge with train_st","6838fae6":"#### Rules\n* If Boxes are all nan, drop_duplicate and extract.\n\n\n* If Boxes has a value, the imageid with the value is extracted.","66b57bda":"### -----summary of this part------\n ### Group2. Duplicates of StudyInstanceUID\n   \n   In duplicate ids, the box values is divided into two categories.\n       \n   One is the case of all nan like this.\n           \n  ![image.png](attachment:34e05c27-0b12-4fa8-ba7b-8de8744f9a1a.png)\n           \n           \n           \n       \n   The other is the case that it consists of the ids with one type of bounding box value and nan like this.\n           \n           \n           \n   ![image.png](attachment:ec24a17a-773e-4d97-996d-653a1d4f3575.png)\n           \n           \n           \n       \n   For making clean data and analyzing, the one image id is determined as follows.\n       \n       \n   #### Rules\n   * If Boxes are all nan, drop_duplicate and extract.\n\n\n   * If Boxes has a value, the imageid with the value is extracted.\n   \n       After that, the analysis was performed in the same way as no duplication.\n   \n   \n a) The case that the box is nan in group1.\n\n  2 out of 55 are Atypical Apperance, and others are Negative for Pneumonia.\n  You have to think about how to handle this.\n\n  All are not always Negative for Pneumonia.\n\n b)  The case that there is some value in the box\n\n  All are not \"Negative for Pneumonia\". This is as expected."}}