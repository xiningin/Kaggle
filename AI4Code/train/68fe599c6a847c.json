{"cell_type":{"21f41ea0":"code","4ea8d548":"code","1ebb78b5":"code","627f96d9":"code","f389b78e":"markdown","ecaf70e5":"markdown","f529bd76":"markdown"},"source":{"21f41ea0":"# I'll ude bokeh for data visualisation\nimport pandas as pd\nimport pyproj\nfrom bokeh.plotting import figure, show\nfrom bokeh.tile_providers import get_provider, Vendors\nfrom bokeh.io import output_notebook\nfrom bokeh.models import ColumnDataSource\n\n# Make bokeh show plot in jupyter notebook\noutput_notebook() ","4ea8d548":"# Reading our data\ndata = pd.read_csv('..\/input\/Rus_prisons_coords.csv', encoding = 'windows-1251')\ndata.drop('Unnamed: 0', inplace = True, axis = 1)","1ebb78b5":"# Preparing coordinates\nlat = data['lat'].values\nlon = data['lon'].values","627f96d9":"# Transforming coordinates\nproject_projection = pyproj.Proj(\"+init=EPSG:4326\")  # wgs84\ngoogle_projection = pyproj.Proj(\"+init=EPSG:3857\")  # default google projection\nx, y = pyproj.transform(project_projection, google_projection, lon, lat)\n\n# Plotting data\np = figure(x_range=(2000000, 18000000), y_range=(6000000, 11000000),\n            plot_width=800, plot_height=500, x_axis_type=\"mercator\", y_axis_type=\"mercator\")\np.add_tile(get_provider(Vendors.CARTODBPOSITRON_RETINA))\np.circle(x=x, y=y, size=3, fill_color=\"blue\")\nshow(p)","f389b78e":"I can see very familiar things here - the picture is very similar to what I saw, when plotted 1k (100M of ~146M of people) of biggest cities in Russia (maybe I'll publish it sometime). The main part of prisons located in south-west part of Russia. It's a little bit surprising for me, because I expected to see a lot of such facilities in northern part of Russia.\nWe also can see a couple of prisons in occupied by Russia Crimea.","ecaf70e5":"What associations appear in your mind when you hear word Russia? Maybe bears, or borscht, or rough men with balalaikas? I don't know what about you, but in my case Russia associated with prison - this is the country where the freedom is not exists. So, in this short kernel I want to fulfill my curiosity and plot prisons on Russia map.\n\nLess talk, more actions.","f529bd76":"Before we start to plot our data, we need to do some preparations. I scraped coordinates from google maps, but bokeh uses different projection - UTM, so we need to transform our coordinates from google projection to UTM. "}}