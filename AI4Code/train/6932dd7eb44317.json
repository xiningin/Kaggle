{"cell_type":{"8217ad1d":"code","3c0e422c":"code","5dd67ee3":"code","f1fd6a7b":"code","97ae4c42":"code","287aa35f":"code","2a4f88df":"code","728615a1":"code","6bbd9b18":"code","100f0db3":"code","32a7dd8a":"code","7099b808":"code","48bba9c4":"code","663b0460":"code","7ae76d7d":"code","7ae31dcc":"code","4d737238":"code","ee93ed27":"code","74cbf702":"code","878d1fe2":"code","1a3dcd66":"code","0dc3f4ff":"code","ca9093e2":"code","d46c5fa5":"code","0533378a":"code","24f26f5c":"code","ab0276a2":"code","82a71304":"code","19a9e133":"code","94383fbb":"code","187d1669":"code","68f32875":"code","13b417db":"code","7989bad2":"code","b1c9917c":"code","8ea14e2e":"code","ca63730e":"code","59d0e6b8":"code","d15f465c":"code","97159346":"code","61d7a21f":"code","37286252":"code","af84a9c5":"code","bbb8b6ec":"code","423d8079":"code","435874f2":"code","dc92a195":"code","8c7b8118":"code","f83eb305":"code","8e8d959a":"markdown","b5bb75b3":"markdown","ce2098c4":"markdown","d59c2c22":"markdown","a6e72212":"markdown","3d5614b6":"markdown","0531f617":"markdown","c75fe05b":"markdown","ca95eca9":"markdown","6a31481b":"markdown","6e54047c":"markdown","8b697f1a":"markdown","71dba9fb":"markdown","a6acc3a0":"markdown","a2bc218a":"markdown","fa31ac35":"markdown","08552855":"markdown","c238605f":"markdown","42b1ba25":"markdown","40651d8a":"markdown","b01f02eb":"markdown","e6f4c0cc":"markdown","a4c41938":"markdown","3aaa7bc7":"markdown","bb0cb000":"markdown","6f4079ef":"markdown","deea7dec":"markdown","e15a5947":"markdown","cc30af28":"markdown","91edac71":"markdown"},"source":{"8217ad1d":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","3c0e422c":"ecommerce = pd.read_csv(\"\/kaggle\/input\/pakistans-largest-ecommerce-dataset\/Pakistan Largest Ecommerce Dataset.csv\" , parse_dates = ([\"created_at\", \"Working Date\"]))","5dd67ee3":"ecommerce.shape","f1fd6a7b":"ecommerce.info()","97ae4c42":"ecommerce.isnull().sum()","287aa35f":"ecommerce.drop([\"Unnamed: 21\" , \"Unnamed: 22\" , \"Unnamed: 23\" , \"Unnamed: 24\" , \"Unnamed: 25\"] , axis = 1, inplace = True)#1st method\n# ecommerce.iloc[: , :-5] 2nd method","2a4f88df":"ecommerce.columns","728615a1":"ecommerce.tail(5)","6bbd9b18":"ecommerce = ecommerce.dropna(how = \"all\")","100f0db3":"ecommerce.tail(5)","32a7dd8a":"ecommerce.isnull().sum()","7099b808":"ecommerce[\"status\"].mode()","48bba9c4":"ecommerce[\"status\"].fillna(\"complete\" , inplace=True)","663b0460":"ecommerce[\"category_name_1\"].mode()","7ae76d7d":"ecommerce[\"category_name_1\"].fillna(\"Mobiles & Tablets\" , inplace = True)","7ae31dcc":"ecommerce.columns = ecommerce.columns.str.replace(\" MV \" , \"MV\").str.replace('created_at' , 'order_date') #1st method\n# ecommerce.rename(columns = {' MV ':'MV'}, inplace = True) 2nd method","4d737238":"ecommerce.dtypes","ee93ed27":"ecommerce['Customer ID'] = ecommerce['Customer ID'].astype(str)\necommerce['item_id'] = ecommerce['item_id'].astype(str)\necommerce['qty_ordered'] = ecommerce['qty_ordered'].astype(int)  \necommerce[\"Month\"] = ecommerce[\"Month\"].astype(int)\necommerce[\"Year\"] = ecommerce[\"Year\"].astype(int)","74cbf702":"ecommerce.dtypes","878d1fe2":"pd.options.display.max_rows = None","1a3dcd66":"ecommerce[\"category_name_1\"].head(10)","0dc3f4ff":"ecommerce[\"category_name_1\"].value_counts()","ca9093e2":"ecommerce[\"category_name_1\"].value_counts().plot.bar(figsize = (12,6) , title = \"Best Selling categories\")\nplt.ylabel(\"Total Order\")\nplt.show()","d46c5fa5":"ecommerce.head()","0533378a":"ecommerce[\"status\"].value_counts()","24f26f5c":"ecommerce[\"status\"].value_counts().plot.bar(figsize = (12,6) , title = \"Order Status Frequency\" , color = 'red')\nplt.xlabel(\"status category\")\nplt.ylabel(\"total counts\")\nplt.show()","ab0276a2":"ecommerce[\"Year\"].unique()","82a71304":"stats_2016 = ecommerce[ecommerce[\"Year\"]== 2016].status           \nstats_2017 = ecommerce[ecommerce[\"Year\"]== 2017].status \nstats_2018 = ecommerce[ecommerce[\"Year\"]== 2018].status \n\nplt.figure(figsize=(24 , 10))\n\n#histogram for 2019\nplt.subplot(1,3,1)\nplt.title('Order Status in 2016')\nplt.xlabel('Order status')\nplt.ylabel('Total no of orders')\nplt.xticks(rotation = 90)\nplt.hist(stats_2016)\n\n#histogram for 2017\nplt.subplot(1,3,2)\nplt.title('Order Status in 2017')\nplt.xlabel('Order status')\nplt.ylabel('Total no of orders')\nplt.xticks(rotation = 90)\nplt.hist(stats_2017)\n\n#histogram for 2018\nplt.subplot(1,3,3)\nplt.title('Order Status in 2018')\nplt.xlabel('Order status')\nplt.ylabel('Total no of orders')\nplt.xticks(rotation = 90)\nplt.hist(stats_2018)\nplt.show()\n","19a9e133":"ecommerce[\"payment_method\"].value_counts()","94383fbb":"ecommerce[\"payment_method\"] = ecommerce[\"payment_method\"].str.replace(\"cod\" , \"cash_on_delivery\") ","187d1669":"ecommerce[\"payment_method\"].value_counts().plot.bar(figsize = (14,6) ,color = 'orange' , title = \"Payment method vs order status\")\nplt.xlabel(\"payment category\")\nplt.ylabel(\"total counts\")\nplt.show()","68f32875":"corr_comp = ecommerce.loc[ecommerce[\"status\"] == \"complete\"][\"payment_method\"].value_counts().to_frame(\"payment_method\")\ncorr_comp","13b417db":"corr_comp.plot.bar(figsize = (12,6) , title = \"Payment Methods vs. Completed Order\" , color = 'brown')\nplt.xlabel(\"Payment Methods\")\nplt.ylabel(\"Number of Completed Orders\")\nplt.show()\n","7989bad2":"corr_can = ecommerce.loc[ecommerce[\"status\"] == \"canceled\"][\"payment_method\"].value_counts().to_frame(\"payment_method\")\ncorr_can","b1c9917c":"corr_can.plot.bar(figsize = (12,6) , title = \"Payment Methods vs. Canceled Order\" , color='blue')\nplt.xlabel(\"Payment Methods\")\nplt.ylabel(\"Number of Canceled Orders\")\nplt.show()\n","8ea14e2e":"corr_ord_ref = ecommerce.loc[ecommerce[\"status\"] == \"order_refunded\"][\"payment_method\"].value_counts().to_frame(\"payment_method\")\ncorr_ord_ref","ca63730e":"corr_ord_ref.plot.bar(figsize = (12,6) , title = \"Payment Methods vs. Refunded Order\")\nplt.xlabel(\"Payment Methods\")\nplt.ylabel(\"Number of Refunded Orders\")\nplt.show()","59d0e6b8":"corr_received = ecommerce.loc[ecommerce[\"status\"] == \"received\"][\"payment_method\"].value_counts().to_frame(\"payment_method\")\ncorr_received","d15f465c":"corr_received.plot.bar(figsize = (12,6) , title = \"Payment Methods vs Received Orders\" , color = 'Green')\nplt.xlabel(\"Payment Methods\")\nplt.ylabel(\"Number of Received Orders\")\nplt.show()","97159346":"corr_refund = ecommerce.loc[ecommerce[\"status\"] == \"refund\"][\"payment_method\"].value_counts().to_frame(\"payment_method\")\ncorr_refund","61d7a21f":"corr_refund.plot.bar(figsize = (12,6) , title = \"Payment Methods vs Order Refund\")\nplt.xlabel(\"Payment Methods\")\nplt.ylabel(\"Number of Refund Orders\")\nplt.show()","37286252":"ecommerce[\"payment_method_correlation\"] = ecommerce[\"payment_method\"].astype(\"category\").cat.codes\necommerce[\"status_correlation\"] = ecommerce[\"status\"].astype(\"category\").cat.codes","af84a9c5":"plt.figure(figsize = (16,8))\nsns.heatmap(ecommerce.corr() ,annot = True)\nplt.show()","bbb8b6ec":"plt.figure(figsize = (18 , 10))\ncorr = ecommerce.corr()\nmask = np.triu(np.ones_like(corr,dtype = bool))\nplt.title('Correlation Analysis')\nsns.heatmap(ecommerce.corr(),mask=mask,annot=True,lw=1,linecolor='white')\nplt.xticks()\nplt.yticks()\nplt.show()","423d8079":"fig = plt.figure(figsize = (10 , 6))\nplt.scatter(ecommerce[\"payment_method_correlation\"] , ecommerce[\"status_correlation\"])\nplt.xticks(rotation = 60)\nplt.show()","435874f2":"ecommerce[\"order_date_corr\"] = ecommerce[\"order_date\"].astype(\"category\").cat.codes\necommerce[\"category_name_1_corr\"] = ecommerce[\"category_name_1\"].astype(\"category\").cat.codes","dc92a195":"plt.figure(figsize = (16 , 8))\nsns.heatmap(ecommerce.corr() ,annot = True ,cmap='viridis')\nplt.show()","8c7b8118":"plt.figure(figsize = (18 , 10))\ncorr = ecommerce.corr()\nmask = np.triu(np.ones_like(corr,dtype = bool))\nplt.title('Correlation Analysis')\nsns.heatmap(ecommerce.corr(),mask=mask,annot=True,lw=1,linecolor='white',cmap='viridis')\nplt.xticks()\nplt.yticks()\nplt.show()","f83eb305":"plt.figure(figsize = (16 , 8))\nplt.scatter(ecommerce[\"order_date_corr\"] , ecommerce[\"category_name_1_corr\"])","8e8d959a":"### Now see completely empty unnamed columns are dropped.","b5bb75b3":"## Task 4","ce2098c4":"### .cat.codes converts your category from a string representation into an integer representation. For example, cod would be replaced with 0, complete would be replaced with 1, payaxis would be replaced with 2. In the other column, cancelled would be replaced with 0 and easypay would be replaced with 1 ","d59c2c22":"### cod replace with his full name cash_on_Delivery","a6e72212":"### Data contains 1048574 rows but maximum columns contain 584524 records.","3d5614b6":"\n## Working on further more analysis.","0531f617":"## see there is no correlation in these columns.","c75fe05b":"## Task 2 \n\n# Visualize Payment Methods versus Order Status","ca95eca9":"# Order Status per Year","6a31481b":"### Now, Plot corelation between Recieved orders and Payment Methods\u00b6","6e54047c":"### In the year 2016 completed order quantity is 74610 its a good sign for ecommerce .but from other site 39624 order is cancell also. and 14034 order refunded also.\n### In the year 2017 maximum orders are completed comapred to other year about 123489.2017 94781 order are cancell aslo.34119 order recieved.3370 orders are refund in the year 2017 is the highest refund order year.\n### In the year 2018 minimum orders are completed about 35601.but received order is maximum 40286 from other year.cancellled order is  maximum in the this year about 67004 order are cancelled.1285 orders are refund in the 2018 year.\n","8b697f1a":"## We need to perform casting.for seeing these object columns correlation.","71dba9fb":"### Now, Plot corelation between order refund and Payment Methods\u00b6","a6acc3a0":"## correlation between order_date and category_name is 'negative strong'.clearly shown in heatmap.","a2bc218a":"### As we can see above, few columns are not in correct data type. We need to perform casting and change his data type.","fa31ac35":"## Mobiles & Tablets are Best Selling category in Ecommerce.\n#### these seven categories , Mobiles & Tablets  ,  Men's Fashion ,  Women's Fashion , Appliances  , Superstore  , Beauty & Grooming  , soghaat  contributed 70% in the best selling category . these items are most sells compared to other categories.","08552855":"### check that half of the rows are completely emplty.and there are 5 totally null columns also dropping these column.The tricky part is we can't drop all na rows as actual data set also contain few NA entries. We need to keep them. We will drop NA values where all entries are Null.\n","c238605f":"### Now, Plot corelation between refunded orders and Payment Methods\u00b6","42b1ba25":"### fill some null rows with mode value of a column.","40651d8a":"# Find a correlation between order date and item category","b01f02eb":"### drop all empty rows.","e6f4c0cc":"## Task 3\n\n# Payment Method and Status Co-relation","a4c41938":"### There is extra space in MV column remove spaces from column.","3aaa7bc7":"### Now, Plot corelation between cancelled orders and Payment Methods","bb0cb000":"## Task 1\n\n# Best Selling category\n","6f4079ef":"### Now, Plot corelation between completed orders and Payment Methods","deea7dec":"##  We can say that there is 'no or weak' correlation  between Payment method and Status columns.","e15a5947":"## Let us remove some unnecessary information by creating a good representative correlation map.","cc30af28":"## We will drop those NA values where all entries are Null.","91edac71":"## Let us remove some unnecessary information by creating a good representative correlation map."}}