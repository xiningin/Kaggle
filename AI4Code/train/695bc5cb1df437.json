{"cell_type":{"d81e50ed":"code","74bdca6e":"code","6033fa26":"code","61b54529":"code","adf296a0":"code","bc0157ce":"code","aa8adf98":"code","ce9e4b65":"code","88449987":"code","c68b06df":"code","a2082c62":"code","537591d4":"code","b8a48281":"code","e23ea193":"markdown","4f3329fa":"markdown","9f944f24":"markdown","3127d754":"markdown","eb77a5e2":"markdown","e4fe1545":"markdown","bf62b697":"markdown","787957e7":"markdown","52633572":"markdown","2143b132":"markdown","4f4d336a":"markdown","ffae2d33":"markdown","13b69925":"markdown","440e9764":"markdown","ca0856f0":"markdown"},"source":{"d81e50ed":"from random import randint # import a package to generate random number","74bdca6e":"class company:\n    \"\"\"A simple attempt to model a company\"\"\"\n    \n    def __init__(self, com_name, num_employee):\n        \"\"\"Initialize company name and number of employee in the company\"\"\"\n        self.com_name = com_name\n        self.num_employee = num_employee\n        \n    def com_sta(self):\n        \"\"\"Introduce the basic status of the company\"\"\"\n        print(f\"The company name is {self.com_name}\")\n    \n    def employee_issue(self, monetary_policy):\n        \"\"\"This function would change the number of employees within company\"\"\"\n        if monetary_policy == 'contractionary monetary policy':\n            rand_var = randint(1000,5000) # a random variable\n            temp = self.num_employee\n            self.num_employee = self.num_employee - rand_var\n            print(f\"The number of employees in {self.com_name} decreases from {temp} to {self.num_employee}, {rand_var} person left the company\")\n        else:\n            rand_var = randint(1000,5000)\n            temp = self.num_employee\n            self.num_employee = self.num_employee + rand_var\n            print(f\"The number of employee in {self.com_name} increases from {temp} to {self.num_employee}, {rand_var} person joined the company\")","6033fa26":"com_a = company('Apple',10000)\ncom_a_employee_trend = [com_a.num_employee]# to store the number of employee for company Apple","61b54529":"print(f\"The name of the company is {com_a.com_name}, the company has {com_a.num_employee} employees.\")","adf296a0":"com_m = company('Microsoft',11000)\ncom_m_employee_trend = [com_m.num_employee]# to store the number of employee for company Microsoft","bc0157ce":"print(f\"The name of the company is {com_m.com_name}, the company has {com_m.num_employee} employees.\")","aa8adf98":"cb_on_rate_pre = 0.045 # The central bank overnight rate that was set in the last anouncement\ncb_on_rate = 0.05 # Current central bank overnight rate\nmonetary_policy = 'TBD' # An indicator of fiscal policy changing\n\nif cb_on_rate>cb_on_rate_pre:\n    monetary_policy = 'contractionary monetary policy'\nelse:\n    monetary_policy = 'easy monetary policy'\n\nprint(f\"Now the monetary policy is changed to {monetary_policy}\")","ce9e4b65":"com_a.employee_issue(monetary_policy)\ncom_m.employee_issue(monetary_policy)","88449987":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ncom_a_employee_trend.append(com_a.num_employee)\ncom_m_employee_trend.append(com_m.num_employee)\n\ncom_a_employee_tab = pd.DataFrame({com_a.com_name:com_a_employee_trend})\ncom_m_employee_tab = pd.DataFrame({com_m.com_name:com_m_employee_trend})\n\ncombined = pd.concat([com_a_employee_tab,com_m_employee_tab])\nprint(combined)\ncombined.plot()","c68b06df":"import numpy as np # import linear algebra package\n\nterm_list = [cb_on_rate]\nfor i in range(60):\n    term_list.append((cb_on_rate)*(1+i))\n    \npd.Series(term_list).plot()","a2082c62":"term_list[59]","537591d4":"import pandas as pd \nledger_amount = [30,20,10]\nledger_type = ['Asset','Liability','Liability']\nledger_sub_type = ['RBMS','Overnight','Term']\n\nbs_firma = {'ledger_amount':ledger_amount,'ledger_type':ledger_type,'ledger_sub_type':ledger_sub_type}\nbs_firma = pd.DataFrame(bs_firma)\nbs_firma.pivot_table(index=['ledger_sub_type'],columns = 'ledger_type')","b8a48281":"ir_22_25 = (1+0.1)\/(1+0.05)-1\nir_22_25","e23ea193":"# I. Enviroment configuration\n#### a. Players\nFirst, let's starting with building 2 companies.","4f3329fa":"# V. Foward interest parity\nForward interest parity is a way that foward speculator can use to lock the future interest today.<br>\nThey can achieve that through as formula said:<br><br>\n(1 + r(0,T)) X (1 +r (T,N)) = 1 + r(0,N)<br><br>\nr(x,y) represents the interest rate requested for a loan from time x to time y.<br>\nAbove equation illustrates a fact that people can use to lock a forward interest rate at today,as below:<br><br>\n1 +r (T,N) = (1 + r(0,N)) \/ (1 + r(0,T))<br>\nThe interest of time T to N is equal to the interest of time 0 to time N divided by interest of time 0 to time T<br><br>\nFor example, if the interest rate from 2021 to 2022 is 0.05(denoted as loan A), the interest rate from 2021 to 2025 is 0.1(denoted as loan B)<br>\nThen we will be able to get a loan with interest of 2022-2025 by borrowing loan B, and lending loan A.<br>\nAnd the interest rate of 2022-2025 we locked is: 4.8%<br>","9f944f24":"I am trying to build a simulation to mimic what would happen in an macro economic world, it would be interesting.<br>\nAnd 80% of browser size might be friendly for reading : )<br><br>\nHere is short introduction of each topic, to save your time, you can read below words and feel free to jump to the topic that you are interested with. <br>\n* I. Enviroment configuration: <br>\n * Create some main actors in this show.2 companies at the moment, Apple and Microsoft <br>\n* II.Monetary policy <br>\n * a. Overnight loan rate: Trying to introduce how the overnight loan rate set by central bank would impact the economy <br>\n* III.Term rate vs. overnight rate\n* IV.Balance sheet of a bank\n * What is the asset & liability of a bank\n* V.Foward interest parity\n * How to lock a interest rate in the future at today","3127d754":"Oops, it seems in my little code world, monetary policy changing made things bad, let's visualize this result!","eb77a5e2":"As currently the overnight rate that the central bank set is 5%(Really high comparing with the real world...)<br>\nSo the rate changes over time is like below","e4fe1545":"As you can see above, theoritically the term rate would increase as above curve shows.<br>\nIn this case, the 60 days overnight rate is about 295%, as below<br>\nWhich is really high, so there is a room for bank to provide a cheap long term money, so in real like, the rate curve is more like a parabola","bf62b697":"Let's see how this monetary policy changing would affect both companies","787957e7":"![loading.jpg](https:\/\/images.mubicdn.net\/images\/film\/86759\/cache-49023-1445917651\/image-w1280.jpg?size=800x)","52633572":"# II. Monetary policy\n#### a. Overnight loan rate\nNow I am going to setup the new central bank overnight rate, and everyone knows it would influence a lot of things","2143b132":"# IV. Balance sheet of a bank","4f4d336a":"Obviously, number of employees from both companies droped a lot!","ffae2d33":"But why we do this?<br>\nWe did this is sort of because we guess the interest rate of 3 year loan in 2022 will be bigger than 4.8%, so through this way, we got a cheaper loan, then we can offer it to someone else in 2022, to make money!","13b69925":"Terminology explaination:\n* Asset: For a bank, normally asset is a type of loan offered by the bank\n* Liability: The way of funding money, it can be a short term of loan -> overnight loan, or long term loan\n* RMBS: Residential mortgage backed security\n* Overnight: Normally it refers to the loan offered by central bank, it is overnight loan\n* Term: Loan that is longer than 30 days? I forget the details...","440e9764":"# III. Term rate vs. overnight rate\nTheoritically, term rate equals rolling over of overnight rate, as formula set below<br>\n* term rate= (1+over night rate)<sup>n<\/sup>","ca0856f0":"Till here I create 2 companies, Apple and Microsoft, their status are as above.<\/br>\nIt would be fun if I set an central bank overnight loan rate"}}