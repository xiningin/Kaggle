{"cell_type":{"a30640cb":"code","5f872aeb":"code","b3b26351":"code","e3e0f8a1":"code","02b57360":"code","41387a4b":"code","9b66c568":"code","d6ca1505":"code","d0a88a97":"code","0bc16724":"code","5dc463c9":"code","375ff771":"code","b5ca798e":"code","3ac81ef2":"code","d066f558":"code","451b1ec2":"code","403583cb":"code","574c4f93":"code","ebefcd9f":"code","a3aeb5d8":"code","59a7260e":"code","4d560e47":"code","3b2ad3d5":"markdown"},"source":{"a30640cb":"import pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn import metrics","5f872aeb":"data = \"..\/input\/early-diabetes-classification\/diabetes_data.csv\"","b3b26351":"df = pd.read_csv(data, sep = \";\")\ndisplay(df)","e3e0f8a1":"ndf = df","02b57360":"ndf = ndf.drop('class', axis = 1)","41387a4b":"ndf['male'] = ndf['gender']\nndf['female'] = ndf['gender']","9b66c568":"def male(x):\n    return 1 if x == \"Male\" else 0\n\ndef female(x):\n    return 1 if x == \"Female\" else 0\n\nmale_list = list(ndf['male'])\nfemale_list = list(ndf['female'])","d6ca1505":"nmale_list = [male(g) for g in male_list]\nnfemale_list = [female(g) for g in female_list]","d0a88a97":"ndf['male'] = nmale_list\nndf['female'] = nfemale_list","0bc16724":"ndf = ndf.drop('gender', axis = 1)","5dc463c9":"ndf['class'] = df['class']\ndisplay(ndf)","375ff771":"ndf.info()","b5ca798e":"plt.subplots(figsize = (15, 5))\nsns.heatmap(ndf.corr(), cmap = \"Wistia\", annot = True, lw = 0.2)\nplt.show()","3ac81ef2":"drops = [\"itching\", \"delayed_healing\", \"obesity\"]\nfor item in drops:\n    ndf = ndf.drop(f\"{item}\", axis = 1)\n    \ndisplay(df)","d066f558":"plt.title(\"Number of cases of diabetes\")\nsns.countplot(data = ndf, y = \"class\")\nplt.show()","451b1ec2":"x = ndf.drop(\"class\", axis = 1)\ny = ndf[\"class\"]\n\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size = 0.2)","403583cb":"randomforest = RandomForestClassifier()\nrandomforest.fit(x_train, y_train)","574c4f93":"randomforest_test = randomforest.predict(x_test)","ebefcd9f":"randomforest_r2 = metrics.r2_score(y_test, randomforest_test)\nrandomforest_error = metrics.mean_squared_error(y_test, randomforest_test)\n\nprint(randomforest_r2)\nprint(randomforest_error)","a3aeb5d8":"comparison_df = pd.DataFrame()\ncomparison_df[\"Confirmed Diabetes\"] = y_test\ncomparison_df[\"Predicted Diabetes\"] = randomforest_test\ncomparison_df = comparison_df.reset_index(drop = True)\ncomparison_df.head()","59a7260e":"plt.title(\"Number of cases of diabetes\")\nsns.countplot(data = comparison_df, y = y_test)\nplt.show()","4d560e47":"plt.title(\"Number of cases of diabetes\")\nsns.countplot(data = comparison_df, y = randomforest_test)\nplt.show()","3b2ad3d5":"# **Final Considerations**\n- There is a correlation between diabetes, age and gender.\n- Polyuria, polydipsia, quick weight loss and partial paresis are the are the strongest symptoms related to diabetes.\n- Polyphagia, weakness, genital thrush, visual blurring, irritability, muscle stiffness and alopecia are symptoms that must also be taken into account to identify diabetes.\n- This type of diabetes should probably be type 1, as obesity is not a very important factor in identifying.\n\n- **This model have an accuracy of 80%+, pretty stable at 90%+.**"}}