{"cell_type":{"fb3951cb":"code","ef221370":"code","305b1e3f":"code","c1bca18c":"code","f595ee76":"code","fe787191":"code","eabd9d71":"code","4cfb4d4c":"code","193e2918":"code","86cfcba5":"code","3c06eecd":"code","84f1aa67":"code","48ab08a0":"code","4a097c41":"code","5c378f48":"code","eb05d8d4":"code","05580c1c":"code","22e6b5ca":"code","6a31d8e0":"code","fe127214":"code","b2b07bc8":"markdown","01daec82":"markdown","86ab536a":"markdown","42bd9f05":"markdown","9488c523":"markdown","8181b148":"markdown","f730e05d":"markdown","5aae121f":"markdown","d2ea5db5":"markdown","bdc22567":"markdown","6832977e":"markdown","bcc0d942":"markdown","112cdcc6":"markdown","6b6ccbf7":"markdown","3f0a55ab":"markdown","c34934b3":"markdown"},"source":{"fb3951cb":"import pandas as pd\nimport numpy as np\nfrom scipy import stats\nfrom matplotlib import pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n# Set theme\nsns.set_style('darkgrid') # 'whitegrid'","ef221370":"fd = pd.read_csv('..\/input\/falldeteciton.csv')","305b1e3f":"fd.head()","c1bca18c":"fd = fd.replace({'ACTIVITY':{0:'Standing',1:'Walking',2:'Sitting',3:'Falling',4:'Cramps',5:'Running'}})\nfd.head()","f595ee76":"fd.shape","fe787191":"fd.describe()","eabd9d71":"fd.isna().sum()","4cfb4d4c":"cols=['TIME','SL','EEG','BP','HR','CIRCLUATION']\n#Distribution\nfig = plt.figure(figsize=(10, 20)) # (Breite,L\u00e4nge)\nfor i in range (0,len(cols)):\n    fig.add_subplot(len(cols),1,i+1)\n    sns.distplot(fd[cols[i]]);","193e2918":"sns.boxplot(data=fd)","86cfcba5":"fd = fd[(fd['EEG']< fd['EEG'].quantile(0.999) ) & (fd['EEG']> fd['EEG'].quantile(0.001))]","3c06eecd":"fd = fd[(fd['SL']< fd['SL'].quantile(0.99) ) & (fd['SL']> fd['SL'].quantile(0.01))]","84f1aa67":"sns.boxplot(data=fd)","48ab08a0":"sns.pairplot(fd, hue='ACTIVITY', h=2.5);","4a097c41":"from sklearn.model_selection import train_test_split\n# Classifiier\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.svm import SVC\n\n# Metrics\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import confusion_matrix","5c378f48":"Target = fd['ACTIVITY']\nFeatures = fd[['TIME','SL','EEG','BP','HR','CIRCLUATION']]\n\n# Create training and test sets\nX_train, X_test, y_train, y_test = train_test_split(Features, Target, test_size = 0.3)","eb05d8d4":"lr = LogisticRegression()\nlr.fit(X_train, y_train)\npredictions = lr.predict(X_test)\naccuracy = accuracy_score(y_test, predictions)\naccuracy","05580c1c":"dtc = DecisionTreeClassifier()\ndtc.fit(X_train, y_train)\npredictions = dtc.predict(X_test)\naccuracy = accuracy_score(y_test, predictions)\naccuracy","22e6b5ca":"rfc = RandomForestClassifier(\n    n_estimators = 50,\n    #min_samples_leaf=10,\n    #min_samples_split=10\n)\nrfc.fit(X_train, y_train)\npredictions = rfc.predict(X_test)\naccuracy = accuracy_score(y_test, predictions)\naccuracy","6a31d8e0":"knn = KNeighborsClassifier()\nknn.fit(X_train,y_train)\npredictions = knn.predict(X_test)\naccuracy = accuracy_score(y_test, predictions)\naccuracy","fe127214":"svc = SVC(gamma='auto')\nsvc.fit(X_train,y_train)\npredictions = svc.predict(X_test)\naccuracy = accuracy_score(y_test, predictions)\naccuracy","b2b07bc8":"The challange of this dataset is to classify different movements in order to detect, when someone is falling. This should help to prevent especially older people from falling over. \nThe data was collected by volunteers performing various movements while wearing body sensors.\n\nI downloades the data from here:\n[https:\/\/www.kaggle.com\/pitasr\/falldata\/version\/1#](https:\/\/www.kaggle.com\/pitasr\/falldata\/version\/1#)\n\nThe authors published their results here:\n\n> ***\u00d6zdemir, Ahmet Turan, and Billur Barshan. \u201cDetecting Falls with Wearable Sensors Using Machine Learning Techniques.\u201d Sensors (Basel, Switzerland) 14.6 (2014): 10691\u201310708. PMC. Web. 23 Apr. 2017.***\n\nThe authors tried several machine learning techniques and reached an accuracy of 95%. Let's see, if we can keep up with that.\n\n","01daec82":"As you can see the Random Forest Classifier performs best in this setting. Out of the box it had the best accuracy score. So tried a few variations and finally came out with this score. It's by far not the 95% that the authors reached. I guess this is an acceptable result, if you keep in mind that I did not take great efforts in the data cleansing and almost only used default settings.","86ab536a":"# Fall Detection","42bd9f05":"Extreme Ausreisser bei EEG. Schneide unterstes und oberstes Promille von Verteilung ab\nLooks like we have some heavy outliers in the EEG column. But it's only a few values, so we can cut small parts of the distribution to remove them.","9488c523":"## Descriptive statistics","8181b148":"Splitting the data in Features and Target and create training and test sets.","f730e05d":"## Machine Learning","5aae121f":"General information about the dataset, what the columns contain, and what the codes in the ACTIVITY column mean:\n\nFall detection data set of Chinese hospitals of old age patients.\n\nColumns\n- ACTIVITY: activity classification\n- TIME: monitoring time\n- SL: sugar level\n- EEG: EEG monitoring rate\n- BP: Blood pressure\n- HR: Heart beat rate\n- CIRCLUATION: Blood circulation\n\nACTIVITY\n- 0- Standing \n- 1- Walking \n- 2- Sitting \n- 3- Falling \n- 4- Cramps \n- 5- Running\n\n","d2ea5db5":"After taking a first look at the data I decided to replace the numbers in the ACTIVITY column with the corresponding strings. This was purely aesthetic decision and has no analytical impact. This was it's easier for me to see right away what kind of movement there is in each line. Furthermore, some of the diagrams that follow later are easier to read.","bdc22567":"OK, let's draw some charts.","6832977e":"The scatterplots look very nice and promising. I guess, we can start some modeling.","bcc0d942":"Test some classifiers:","112cdcc6":"Let's get started. First, we import some libraries, we might need an then load the dataset.","6b6ccbf7":"Take a futher look at the data and inspecting distributions and looking for missings.","3f0a55ab":"No Missing Values, so nothing to do here, yay!","c34934b3":"SL also has outliers, so we cut the lowest and highest percent of the distribution"}}