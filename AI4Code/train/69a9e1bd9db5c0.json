{"cell_type":{"95b2ca09":"code","febc2fa8":"code","a82edb3c":"code","b72fb420":"code","4a6f9161":"code","371e4977":"code","3e47b536":"code","23d0d73a":"code","45cf3351":"code","e0ffa426":"code","b8161551":"code","3a6e2888":"code","339875d8":"code","921ba285":"code","f5e8a280":"code","6aa5d4d0":"code","e2ba319a":"markdown","d04415dd":"markdown","1ea66d1c":"markdown","a0685c52":"markdown","0be2cd72":"markdown","b1d3167e":"markdown","7a0202ff":"markdown","fc4c9d78":"markdown","e4a884a4":"markdown","0e282e25":"markdown"},"source":{"95b2ca09":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","febc2fa8":"dt_store = pd.read_csv(\"..\/input\/googleplaystore.csv\")\ndt_store.head()","a82edb3c":"dt_store.info()","b72fb420":"print(dt_store.shape)","4a6f9161":"#data type cleaning\n#clean reviews data\n#We find one record containing 3.0M that leads us not being able to convert it right to numeric\ndt_store.loc[dt_store.Reviews == '3.0M', 'Reviews'] = \"3000000\"\ndt_store['Reviews'] = pd.to_numeric(dt_store['Reviews'])\n#Besides, we find some price value is recorded as 'Everyone', I'm not sure what does it mean, here I simply convert all of them to 0\ndt_store.loc[dt_store.Price == 'Everyone', 'Price'] = \"0\"\ndt_store['Price'] = pd.to_numeric(dt_store['Price'].apply(lambda x: x.strip(\"$\")))\ndt_store.info()","371e4977":"dt_store.head()","3e47b536":"#create a whole list of genres\nnew_genre = dt_store[\"Genres\"].str.split(\";\", n = 1, expand = True) \nnew_genre.head(100)\n#create a full unique list of genres\nfirst_list = list(new_genre[0].unique())\nsecond_list = list(new_genre[1].unique())\nin_first = set(new_genre[0].unique())\nin_second = set(new_genre[1].unique())\nin_second_but_not_in_first = in_second - in_first\nfull_genre_list = list(first_list) + list(in_second_but_not_in_first)\n\n#for each genres, we create a dummy columns for them\nfor g in full_genre_list:\n    dt_store[str(g)] = dt_store[\"Genres\"].apply(lambda x: 1 if str(g) in x else 0)\ndt_store.head(30)","23d0d73a":"#make a plot about the distribution of genre categories\nimport matplotlib.pyplot as plt\nlist(dt_store.columns)[13:]\ng_dic = {}\nfor g in full_genre_list:\n    a = {str(g): dt_store[str(g)].sum()}\n    g_dic.update(a)\nlists = sorted(g_dic.items(), key=lambda x: x[1])\n# equiv# sorted by key, return a list of tuples\nx, y = zip(*lists) # unpack a list of pairs into two tuples\nplt.rcParams[\"figure.figsize\"] = (10,16)\nplt.barh(x, y)\nplt.title(\"Number of Apps Distribution across Genres\",fontsize=15)\nplt.show()","45cf3351":"#free\/paid distribution\ntype_c = dt_store.groupby([\"Type\"]).size()\/dt_store.shape[0]\nplt.rcParams[\"figure.figsize\"] = (10,5)\ntype_c[1:].plot(kind='barh')\nplt.title(\"Proportion of Paid\/Free Apps\",fontsize=15)\nplt.show()","e0ffa426":"#Review Distribution\nplt.hist(dt_store['Rating'],bins=20)","b8161551":"dt_store.loc[dt_store['Rating'] > 5.0, 'Rating'] = 5\nplt.hist(dt_store['Rating'],bins=20)\nprint(dt_store['Rating'].describe())","3a6e2888":"#paid apps distribution\npaid_app = dt_store.loc[dt_store['Type'] == 'Paid']\n\nimport matplotlib.pyplot as plt\nlist(dt_store.columns)[13:]\ng_dic = {}\nfor g in full_genre_list:\n    a = {str(g): paid_app[str(g)].sum()}\n    g_dic.update(a)\nlists = sorted(g_dic.items(), key=lambda x: x[1])\n# equiv# sorted by key, return a list of tuples\nx, y = zip(*lists) # unpack a list of pairs into two tuples\nplt.rcParams[\"figure.figsize\"] = (10,16)\nplt.barh(x, y)\nplt.title(\"Number of Apps Distribution across Genres for Paid Apps\",fontsize=15)\nplt.show()","339875d8":"plt.rcParams[\"figure.figsize\"] = (16,10)\nplt.hist(paid_app.Price, bins=40)","921ba285":"paid_app.loc[paid_app['Price'] > 350].head()","f5e8a280":"#rate and review\nplt.scatter(dt_store['Reviews'],dt_store['Rating'])\nplt.ylim(top=5.5, bottom =0.5)\n#plt.xlim(right=3000000, left=-1)\nplt.rcParams[\"figure.figsize\"] = (10,10)\nplt.show()","6aa5d4d0":"#rate and review\nplt.scatter(np.log(dt_store['Reviews']),dt_store['Rating'])\nplt.ylim(top=5.5, bottom =0.5)\n#plt.xlim(right=3000000, left=-1)\nplt.rcParams[\"figure.figsize\"] = (10,10)\nplt.show()","e2ba319a":"This kernal shares with some data cleaning and prosessing problem I encountered when I was exploring the Google Play Store Apps datasets. It is hoped that it would be helpful if someone just begin to look through the data had the same problems as I did. All feedback and improvement are welcome as well.\n\n*Lasted Updated: May 18th 2018*\n\n**Cleaning and Preprocessing**\n* Data Exploration\n* Convert and clean data types\n\n**Univariate Exploration**\n* Genre Distribution (How to split and calculate apps with multiple genres?)\n* Rating Distribution\n* Paid Apps Deep Dive\n\n**Bivariate Exploration and Analysis**\n* Rate vs. Review\n\n(More works will be done)","d04415dd":"After a sneak peek into our store data, we have a few findings:\n* Altogether there are 10.8k apps records. And there are 13 varaibles describing the apps.\n* There are some missing values in **Rating** variables. Besides, other varaibles have missing variables as well on different levels but it not a huge concerning number.\n* There are a variables needed to convert its data type. They are supposed to be numeric however they are string type right now. Example: **Reveiws** (Integer), **Price **(Float), **Last Updated** (Datestamp)","1ea66d1c":"More work will be done and updated! Feel free to leave any comments :) Thanks!","a0685c52":"**Bivariate Exploration and Analysis**\n* **Rating vs. Review**: It is hard to conclude that more review would lead to higher rating. However, after we take a log transoformation of review. The patterns seems more dicernable. For those that got very low rating, all of them seems to have small number of review. Higher review to some extent would correlate with higher rating, but there is the diminishing return effect here.","0be2cd72":"**Univariate Exploration**\n* Genre Distribution (How to split and calculate apps with multiple genres?)\n* Free and Priced Apps Distribution\n* Review Distribution","b1d3167e":"**Free\/Paid Distribution:** About 92.6% of the apps on Google Play Stores are free. Only 7.4% of them are paid.\n\nSomeone may wonder if so many of them are free, how are those apps getting profit? It turned out to be a strategy that the developer set the apps free to entice download. If the users would like to use some premium service, they need to pay or subscribe for it. The other way is that the apps sell ads in it to turn profitable.","7a0202ff":"In order to get the distribution of genres, we realized that we needed to first clean the genre columns as we realized. There are some apps possessing more than one genres and they are currently stored in the same columns. \n* First split the genres by ';' and get a full unique list of them\n* Create a dummy columns for each genres\n* Caculate the sum of each columns and append them into a dictionary\n* Sorted by their number and plot as a horizontal histogram\n\n**Finding**: the top 5 largest categories are Tools (843), Education (782), Entertaiment (667), Action (503) and Medical (463)","fc4c9d78":"**Rating Distribution**: with the first histogram of rating, we find that there are a few outliers in it, given app store usually only use scale of 0-5 to rate their apps. Therefore, we set a cap at 5. Within the 9.3k records that has rating value, the mean is about 4.3. And it is highly left skewed.","e4a884a4":"**Paid Apps Deep Dive**\nEven though paid apps are only a small fraction of it. We would like to see how they distribute across genres and categories and how they set their price. We find that:\n* Medical, Personalize, Tools, Education and Action are at the top 5\n* For most of the apps, even though they set the price, they are only 0.99 dollar or below.\n* We do see a small spike between the price of 350 and 400. After digging in a bit, we found that those are just 'I am rich' apps people downloaded to show off LOL.","0e282e25":"**Cleaning and Preprocessing**\n* Data Exploration\n* Convert and clean data types"}}