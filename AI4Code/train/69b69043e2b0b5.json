{"cell_type":{"bc9cd936":"code","786adb4f":"code","cc2b6b6f":"code","470a6b16":"code","a3e2f8ec":"code","c3464530":"code","f5fbaa66":"code","67fec07c":"code","35b68680":"code","88b20786":"code","cfa84ecb":"markdown","b3fb8141":"markdown","c426f6c4":"markdown"},"source":{"bc9cd936":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom sklearn.ensemble import RandomForestClassifier\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","786adb4f":"train_df = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntrain_df.head()","cc2b6b6f":"test_df = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")\ntest_df.head()","470a6b16":"women = train_df.loc[train_df.Sex =='female'][\"Survived\"]\nrate_women = sum(women)\/len(women)\nprint(\"%s of women who survived\"% rate_women)","a3e2f8ec":"man = train_df.loc[train_df.Sex =='male'][\"Survived\"]\nrate_man = sum(man)\/len(man)\nprint(\"%s of men who survived\"% rate_man)","c3464530":"traget_data = train_df[\"Survived\"]\ntraget_data","f5fbaa66":"features = [\"Pclass\",\"Sex\",\"SibSp\",\"Parch\"]\nX = pd.get_dummies(train_df[features]) # \u5c06\u6027\u522b\u8f6c\u4e3a one-hot \u7f16\u7801\nX_test = pd.get_dummies(test_df[features])","67fec07c":"model = RandomForestClassifier(n_estimators=200,max_depth=7,random_state=1)\nmodel.fit(X,traget_data)\npredictions = model.predict(X_test)\noutputs = pd.DataFrame({'PassengerId':test_df.PassengerId,'Survived':predictions})\noutputs.to_csv(\"my_submission.csv\",index=False)\nprint(\"ok\")","35b68680":"predictions","88b20786":"outputs.head()","cfa84ecb":"## \u5c06\u5b57\u7b26\u4e32\u8f6c\u4e3a\u6570\u5b57","b3fb8141":"![image.png](attachment:bb6a939f-abeb-4a40-a57f-5586358bc20e.png)","c426f6c4":"# \u968f\u673a\u68ee\u6797"}}