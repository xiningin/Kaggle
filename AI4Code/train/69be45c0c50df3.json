{"cell_type":{"f8f28b52":"code","a5b0340f":"code","6bdd6396":"code","39f2dc97":"code","6427235f":"code","264072b1":"code","d330964a":"code","e2325c81":"code","f4ccc678":"code","156a5bf5":"code","91a90919":"code","6e409d10":"code","67ee46f6":"code","b3486e2c":"code","3e3ebdd0":"code","5a4455d9":"code","5ace23d6":"code","4a39e9dc":"code","3dd68572":"code","9caa607d":"code","569c814c":"code","da0cf971":"code","a1e0a45c":"code","2ef3d91a":"code","ec4be74b":"code","6ed94469":"code","0b52d4a6":"code","1f9a81e7":"markdown","7e211842":"markdown","ac4b731f":"markdown","e2f1feca":"markdown","8b706c51":"markdown","886aca36":"markdown"},"source":{"f8f28b52":"#Import libs\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt","a5b0340f":"#Main dataframe\ndf = pd.read_csv('..\/input\/forbes-high-paid-athletes-19902021\/forbesathletes.csv')","6bdd6396":"df.info() #Get the general information about the dataframe","39f2dc97":"df.describe() #Get the general information about the data values","6427235f":"df.Year.unique() #Get all the unique years","264072b1":"df.Sport.unique() #Get all the unique sports","d330964a":"#Create a variable to group the data based on the year\nyear_group = df.sort_values(by='Year', ascending=False).groupby('Year')","e2325c81":"each_year = year_group['Earnings'].sum() #Count the sum of each year's total income\nlist_year = df.Year.unique() #Create a year list\nlist_year = sorted(list_year, reverse=False) #Sort the list to make it corresponds to the each_year list","f4ccc678":"#Create a visualization of the data\nplt.figure(figsize=(13,6))\nplt.bar(list_year, each_year, color='lightblue')\n\nplt.title('Total Athletes Income per Year', fontsize=18)\nplt.ylabel('Million USD', fontsize=16, color='green')\nplt.yticks(fontsize=14)\nplt.xticks(fontsize=14)\n\nplt.grid(linestyle='--', axis='y')","156a5bf5":"name_group = df.groupby('Name') #Count the total earnings of every athlete\ntotal_earning = [i for i in name_group['Earnings'].sum()]\n\nnames = df.Name.unique() #Create a list of names\nnames.sort() #Sort it to make it corresponds to the total_earning list\n\nall_data = {'Name':names, 'TotalEarnings':total_earning}","91a90919":"#Create new data frame\ndf2 = pd.DataFrame(all_data)\ndf2.sort_values('TotalEarnings', ascending=False, inplace=True)","6e409d10":"df2.head()","67ee46f6":"#Create new variables for another plot\ntop10_names = df2['Name'].head(10)\ntop10_TEs = df2['TotalEarnings'].head(10)","b3486e2c":"plt.figure(figsize=(13,6))\nplt.barh(top10_names, top10_TEs, edgecolor='black', color='lightgreen')\n\nplt.title('Total Income', fontsize=18)\nplt.xlabel('Million USD', color='green', fontsize=18)\nplt.yticks(fontsize=14)\nplt.xticks(fontsize=14)\n\nplt.grid(linestyle='--', axis='x')\nplt.gca().invert_yaxis()","3e3ebdd0":"#Group by sport\nsport_group = df.groupby('Sport')","5a4455d9":"#Fix the typo\nfilt = (df['Sport'] == 'Basketbal')\ndf.loc[filt, 'Sport'] = 'Basketball'","5ace23d6":"#Variables for the new dataframe\nsport_earnings = [i for i in sport_group['Earnings'].sum()]\nsports = df.Sport.unique()\nsports.sort()\ngathered_data = {'Sport':sports, 'Worth':sport_earnings}","4a39e9dc":"#Create a new dataframe\ndf3 = pd.DataFrame(gathered_data)","3dd68572":"#Sort the data\ndf3.sort_values('Worth', ascending=False, inplace=True)","9caa607d":"#Determine what color (If the sport's worth > average return green and return pink otherwise)\navg_worth = df3['Worth'].median()\ndf3['Color'] = ['lightgreen' if (x > avg_worth) else 'pink' for x in df3['Worth']]","569c814c":"#Create the plot\nplt.figure(figsize=(13,7))\nplt.hlines(y=df3['Sport'], xmin=avg_worth, xmax=df3['Worth'], color=df3['Color'], linewidth=15)\n\nplt.title('Total Worth', fontsize=18)\nplt.xlabel('Million USD', fontsize=16, color='green')\nplt.yticks(fontsize=14)\nplt.xticks(fontsize=14)\n\nplt.grid(linestyle='--')\nplt.gca().invert_yaxis()","da0cf971":"#New dataframe\ndf4 = df3.drop(['Worth', 'Color'], axis=1)[:3]","a1e0a45c":"list_year = df.Year.unique()\nlist_year.sort()","2ef3d91a":"#Add new columns\nfor i in list_year:\n    basketball_f = df[(df['Year'] == i) & (df['Sport'] == 'Basketball')]['Earnings'].sum()\n    football_f = df[(df['Year'] == i) & (df['Sport'] == 'Football')]['Earnings'].sum()\n    baseball_f = df[(df['Year'] == i) & (df['Sport'] == 'Baseball')]['Earnings'].sum()\n    df4[i] = [basketball_f, football_f, baseball_f]","ec4be74b":"df4","6ed94469":"#Variables for the plot\naa = [i for i in df4.loc[2]]\naa.remove('Basketball')\n\nbb = [i for i in df4.loc[6]]\nbb.remove('Football')\n\ncc = [i for i in df4.loc[1]]\ncc.remove('Baseball')","0b52d4a6":"#Create plot\nfig, ax = plt.subplots(figsize=(14,6))\n\nax.plot(list_year, aa, label='Basketball')\nax.plot(list_year, bb, label='Football')\nax.plot(list_year, cc, label='Baseball')\n\nax.set_title('Basketball vs Football vs Baseball', fontsize=16)\nax.tick_params(axis='both', labelsize=14) \n\nplt.legend()\nplt.grid()","1f9a81e7":"# Top 10 athletes total income","7e211842":"# Sports total worth","ac4b731f":"# Count the total earnings of all athletes per year","e2f1feca":"# Basketball vs football vs baseball","8b706c51":"**Dataframe general information**","886aca36":"# **Table of Contents**\n1. **Count the total earnings of all athletes per year**\n1. **Top 10 athletes total income**\n1. **Total earnings grouped by sport**\n1. **Basketball vs baseball vs football**"}}