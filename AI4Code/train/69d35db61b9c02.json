{"cell_type":{"4ea2817c":"code","6313d8e6":"code","a560ec6e":"code","911f7c44":"code","2e989b1d":"code","df883f90":"code","181d7298":"code","26d87f46":"code","963dcb63":"code","36a76936":"code","248ce74f":"code","f4d2fafe":"code","a161aadd":"code","f9be62bb":"code","5a142de0":"code","c2b463da":"code","f5a98fc0":"code","4ae26075":"code","5800d0fa":"markdown","a88cdb83":"markdown","492afc3b":"markdown","f339aeb2":"markdown","bfe046c5":"markdown","6a832efa":"markdown","6d7299c5":"markdown"},"source":{"4ea2817c":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","6313d8e6":"df = pd.read_csv(\"..\/input\/tabular-playground-series-jan-2022\/train.csv\", parse_dates=['date'])\ndf.head()","a560ec6e":"test_df = pd.read_csv(\"..\/input\/tabular-playground-series-jan-2022\/test.csv\",parse_dates=['date'])\ntest_df.head()","911f7c44":"submission = pd.read_csv(\n    '\/kaggle\/input\/tabular-playground-series-jan-2022\/sample_submission.csv',\n    index_col='row_id')","2e989b1d":"df.shape","df883f90":"df.info()","181d7298":"df.describe()","26d87f46":"sns.set()\nplt.figure(figsize=(12,5))\ng = sns.barplot(x='store', y = 'num_sold', data=df, ci=None)\ng.bar_label(g.containers[0],fmt=\"%.0f\", padding=2)\nplt.show()","963dcb63":"plt.figure(figsize=(12,5))\ng = sns.barplot(x='country', y = 'num_sold', data=df, ci=None)\ng.bar_label(g.containers[0],fmt=\"%.0f\", padding=2)\nplt.show()","36a76936":"plt.figure(figsize=(12,5))\ng=sns.barplot(x='product', y = 'num_sold', data=df, ci=None)\ng.bar_label(g.containers[0],fmt=\"%.0f\", padding=2)\nplt.show()","248ce74f":"plt.figure(figsize=(12,5))\ng=sns.barplot(x='product', y = 'num_sold', hue='store', data=df, ci=None)\ng.bar_label(g.containers[0],fmt=\"%.0f\", padding=2)\ng.bar_label(g.containers[1],fmt=\"%.0f\", padding=2)\nplt.show()","f4d2fafe":"plt.figure(figsize=(12,5))\ng = sns.barplot(x='country', y = 'num_sold', hue='store', data=df, ci=None)\ng.bar_label(g.containers[0],fmt=\"%.0f\", padding=2)\ng.bar_label(g.containers[1],fmt=\"%.0f\", padding=2)\nplt.show()","a161aadd":"import xgboost as xgb\nfrom sklearn.model_selection import train_test_split","f9be62bb":"y = df.pop('num_sold')\ndf['year'] = df['date'].dt.year\ndf['month'] = df['date'].dt.month\ndf['day'] = df['date'].dt.day\ndf['dayofweek'] = df['date'].dt.dayofweek\n\n\ndf = df.drop('date', axis='columns')","5a142de0":"\ntest_df['year'] = test_df['date'].dt.year\ntest_df['month'] = test_df['date'].dt.month\ntest_df['day'] = test_df['date'].dt.day\ntest_df['dayofweek'] = test_df['date'].dt.dayofweek\n\ntest_df = test_df.drop('date', axis='columns')","c2b463da":"country_map = {'Finland': 0, 'Sweden': 1, 'Norway': 2}\nstore_map = {'KaggleMart': 0, 'KaggleRama': 1}\nproduct_map = {'Kaggle Mug': 0, 'Kaggle Hat': 1, 'Kaggle Sticker': 2}\n\ndf['country'] = df['country'].map(country_map)\ndf['store'] = df['store'].map(store_map)\ndf['product'] = df['product'].map(product_map)","f5a98fc0":"test_df['country'] = test_df['country'].map(country_map)\ntest_df['store'] = test_df['store'].map(store_map)\ntest_df['product'] = test_df['product'].map(product_map)","4ae26075":"xg_reg = xgb.XGBRegressor(objective=\"reg:linear\", n_estimators=10, seed=123)\nxg_reg.fit(df, y)\nbenchmark = submission.copy()\nbenchmark['num_sold'] = xg_reg.predict(test_df)\nbenchmark.to_csv('submission.csv')","5800d0fa":"Norway is having the highest no.s sold","a88cdb83":"KaggleRama is outdoing the KaggleMart","492afc3b":"Kaggle Hat is the best selling item","f339aeb2":"## Using XGBoost","bfe046c5":"## EDA","6a832efa":"from the above 3 plots we can see that KaggleRama is doing way better than KaggleMart.","6d7299c5":"Encoding the data to fit it into the model"}}