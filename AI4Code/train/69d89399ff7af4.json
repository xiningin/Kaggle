{"cell_type":{"7f07f4d9":"code","a4823372":"code","a7da0b70":"code","276a1b83":"markdown"},"source":{"7f07f4d9":"# Import Python Modules\nimport numpy as np\nimport pandas as pd\nimport plotly.express as px\n# Read election data\nresults = pd.read_csv('\/kaggle\/input\/open-elections-data-usa\/openelections-data-us-master\/openelections-data-us-master\/2016\/20161108__us__general__president__county.csv')\n# Sum election data for each candidate\nresults = results.groupby(\"candidate\").sum().sort_values('votes',ascending=False).drop('district',axis=1)\n# Combine duplicate results\nresults.loc['Donald J. Trump'] += results.loc['TRUMP, DONALD J '] \nresults.loc['Hillary Clinton'] += results.loc['Hillary Rodham Clinton'] \nresults.loc['Hillary Clinton'] += results.loc['Hillary Clinton \/ Tim Kaine']\nresults.loc['Hillary Clinton'] += results.loc['Hillary Clinton and Tim Kaine']\nresults.loc['Hillary Clinton'] += results.loc['Hillary Clinton - Tim Kaine']\nresults.loc['Hillary Clinton'] += results.loc['HILLARY CLINTON'] \nresults.loc['Hillary Clinton'] += results.loc['HILLARY RODHAM CLINTON']\nresults.loc['Hillary Clinton'] += results.loc['HILLARY CLINTON | TIM KAINE']\nresults.loc['Gary Johnson'] += results.loc['GARY JOHNSON']\nresults.loc['Gary Johnson'] += results.loc['Gary Johnson \/ Bill Weld']\nresults.loc['Gary Johnson'] += results.loc['JOHNSON, GARY E ']\nresults.loc['Gary Johnson'] += results.loc['Gary Johnson and William Weld']\nresults.loc['Gary Johnson'] += results.loc['GARY JOHNSON | BILL WELD']\nresults.loc['Gary Johnson'] += results.loc['Gary Johnson - Bill Weld']\nresults.loc['Gary Johnson'] += results.loc['Gary  Johnson']\nresults.loc['Jill Stein'] += results.loc['Jill Stein \/ Ajamu Baraka']\nresults.loc['Jill Stein'] += results.loc['JILL STEIN']\nresults.loc['Jill Stein'] += results.loc['Jill  Stein']\nresults.loc['Jill Stein'] += results.loc['STEIN, JILL ']\nresults.loc['Jill Stein and Howie Hawkins'] += results.loc['Jill Stein and Howie Hawkins']\nresults.loc['Jill Stein and Howie Hawkins'] += results.loc['Jill Stein - Ajamu Baraka']\nresults = results.drop(['Total','Totals','Hillary Rodham Clinton',\n                        'HILLARY CLINTON','Hillary Clinton \/ Tim Kaine',\n                        'HILLARY RODHAM CLINTON','TRUMP, DONALD J ',\n                        'HILLARY CLINTON | TIM KAINE','Hillary Clinton - Tim Kaine',\n                       'Hillary Clinton and Tim Kaine','GARY JOHNSON',\n                       'Gary Johnson \/ Bill Weld', 'JOHNSON, GARY E ',\n                        'Gary Johnson - Bill Weld','Gary  Johnson',\n                        'Gary Johnson and William Weld','GARY JOHNSON | BILL WELD',\n                       'Jill Stein \/ Ajamu Baraka','JILL STEIN','Jill  Stein',\n                       'STEIN, JILL ','Jill Stein and Howie Hawkins',\n                       'Jill Stein - Ajamu Baraka'])\n# Combine all candidates that were not in the top 4\nresults['Candidate'] = results.index\nother_candidates = results[4:].sum().values[0]\nresults.loc['Other'] = [other_candidates, 'Other'] \nlist_of_candidates = ['Donald J. Trump','Hillary Clinton','Gary Johnson','Jill Stein','Other']\nresults = results.loc[results['Candidate'].isin(list_of_candidates)]\nresults = results.sort_values('votes',ascending='True')\n# Preview results\nresults.head()","a4823372":"# Percentages are good but raw numbers are too large -- revisit this another time\n\n# fig = px.bar(results, x=results.Candidate, y=results.votes,title='Count of Votes in the 2016 Presidential Election (USA)')\n# fig.show()","a7da0b70":"percentages = results\npercentages['votes'] = percentages['votes']\/percentages['votes'].sum()*100\nfig = px.bar(percentages, x=percentages.Candidate, y=percentages.votes,title='Percentage of Votes in the 2016 Presidential Election (USA)')\nfig.show()","276a1b83":"**Counting Votes for 2016 Presidential Election: USA**\n\nMost US states give 100% of their votes to whichever candidate gets the largest number of votes in that state.  Winner-take-all voting is one of the main factors that allows candidates to be elected President despite receiving fewer votes as compared to their opponents."}}