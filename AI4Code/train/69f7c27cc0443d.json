{"cell_type":{"92d74b4d":"code","542de47c":"code","d96d1ad0":"code","77a04962":"code","07b1f8a9":"code","bec2dad6":"code","f2ecec4d":"code","b47eb542":"code","39c7920a":"code","ef266009":"code","6cf177a9":"markdown","1e61d9af":"markdown","3ce1375f":"markdown","563651fb":"markdown","dcaa2274":"markdown"},"source":{"92d74b4d":"import numpy as np\nimport pandas as pd\n\nfrom glob import glob\n\nimport spacy","542de47c":"train_files = glob(\"..\/input\/feedback-prize-2021\/train\/*.txt\")\ntrain_files[:5]","d96d1ad0":"f = open(train_files[0], \"r\")\nprint(f.read())","77a04962":"train = pd.read_csv(\"..\/input\/feedback-prize-2021\/train.csv\")","07b1f8a9":"train[\"id\"].value_counts()","bec2dad6":"train[\"discourse_type\"].value_counts()","f2ecec4d":"sample_file_path = \"..\/input\/feedback-prize-2021\/train\/AFEC37C2D43F.txt\"\nf = open(sample_file_path, \"r\")\nprint(f.read())","b47eb542":"train.query('id == \"AFEC37C2D43F\"')","39c7920a":"train.query('id == \"AFEC37C2D43F\"')[\"discourse_type\"].value_counts()","ef266009":"sample_file_path = \"..\/input\/feedback-prize-2021\/train\/AFEC37C2D43F.txt\"\nsample_file_id = sample_file_path[35:-4] #AFEC37C2D43F\n\nents = []\nfor i, row in train[train['id'] == sample_file_id].iterrows():\n    ents.append({\n                    'start': int(row['discourse_start']), \n                     'end': int(row['discourse_end']), \n                     'label': row['discourse_type']\n                })\n\nwith open(sample_file_path, 'r') as file: data = file.read()\n\ndocData = {\n    \"text\": data,\n    \"ents\": ents,\n}\n\ncolors = {'Lead': '#EE11D0',\n          'Position': '#AB4DE1',\n          'Claim': '#1EDE71',\n          'Evidence': '#33FAFA',\n          'Counterclaim': '#4253C1',\n          'Concluding Statement': 'yellow',\n          'Rebuttal': 'red'}\noptions = {\"ents\": train.discourse_type.unique().tolist(), \"colors\": colors}\nspacy.displacy.render(docData, style=\"ent\", options=options, manual=True, jupyter=True);","6cf177a9":"# colorize contents by discourse_type","1e61d9af":"# check dataframe data","3ce1375f":"# check target counts","563651fb":"##### discourse_type is target ","dcaa2274":"# check file contents"}}