{"cell_type":{"64aae73d":"code","b1e52660":"code","2474ee13":"code","d510f8d6":"code","d8937eac":"code","c36b2362":"code","0c2fa984":"code","3b4a8329":"code","2c74d9b9":"code","39ebd04c":"code","3bbb96e3":"code","b8901f2f":"code","b727a1b8":"code","bc6693dc":"code","31834456":"code","daba8b6b":"code","c017e913":"code","b1ddc333":"code","397af8aa":"code","bf995ebb":"code","d2592277":"code","84a81018":"code","d500a980":"code","319b2f82":"code","927c2035":"markdown","990f490e":"markdown","800aa26b":"markdown","6e79168e":"markdown","fb572b2b":"markdown","15f66061":"markdown","889d4d74":"markdown","8373c1ec":"markdown","a0258632":"markdown","ae4fb230":"markdown","7b55beb2":"markdown","a440018a":"markdown","cf5a78fa":"markdown","d6e429f4":"markdown","f9272d5f":"markdown","feeba612":"markdown"},"source":{"64aae73d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\nimport matplotlib.pyplot as plt \nimport seaborn as sns\n\nfrom subprocess import check_output\nfrom wordcloud import WordCloud, STOPWORDS\nstopwords = set(STOPWORDS)\n\nimport codecs\n\nfrom PIL import Image\nfrom termcolor import colored\n\n#to supress Warnings \nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\n#plotly\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode()\nimport plotly.graph_objs as py\n\n# Any results you write to the current directory are saved as output.","b1e52660":"#using all the required files from the datasets \nbeer = pd.read_csv(\"..\/input\/craft-cans\/beers.csv\")\nbrewery = pd.read_csv(\"..\/input\/craft-cans\/breweries.csv\")\nwith codecs.open(\"..\/input\/beer-recipes\/recipeData.csv\", \"r\",encoding='utf-8', errors='ignore') as fdata:\n    brrecipe = pd.read_csv(fdata)\nGlobalBeer = pd.read_csv(\"..\/input\/beer-beer-beer\/open-beer-database.csv\")","2474ee13":"beer.describe()\nbeer.head(10)\nbrewery.describe()\nbrewery.head(10)","d510f8d6":"print(colored(beer.groupby('name')[\"name\"].count().sort_values(ascending=False).head(10),'green'))","d8937eac":"#word cloud - Visualizing  Craft Beers\nwave_mask = np.array(Image.open( \"..\/input\/beerimage\/images.jpg\")) \n\nwordcloud = (WordCloud(width=1440, height=1080, relative_scaling=0.5, mask=wave_mask,background_color='white').generate_from_frequencies(beer['name'].value_counts()))\n\nfig = plt.figure(1,figsize=(15, 15))\nplt.imshow(wordcloud,interpolation=\"hanning\")\nplt.axis('off')\nplt.show()","c36b2362":"print(colored(brewery.groupby('name')[\"name\"].count().sort_values(ascending=False).head(10),'blue'))","0c2fa984":"#word cloud - Visualizing  Breweries  \nmask_glass = np.array(Image.open( \"..\/input\/beerimage\/english-brown-porter.jpg\"))\nwordcloud = (WordCloud(width=1440, height=1080, mask = mask_glass, relative_scaling=0.5, background_color='#fbf7ed',stopwords=stopwords).generate_from_frequencies(brewery['name'].value_counts()))\n\nfig = plt.figure(1,figsize=(15, 15))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.show()","3b4a8329":"print(colored(beer.groupby('style')[\"name\"].count().sort_values(ascending=False).head(10),'green'))","2c74d9b9":"#word cloud - Visualizing  Beer Style  \nwave_masknew = np.array(Image.open( \"..\/input\/beerimage\/carlsberg-beer-650ml-mynepshopcom.jpg\"))\nwordcloud = (WordCloud( max_font_size=100, min_font_size=8,mask = wave_masknew, stopwords=stopwords,background_color='#E6BE8A').generate(str(beer['style'])))\nfig = plt.figure(1,figsize=(15, 15))\nplt.imshow(wordcloud,interpolation='bilinear')\nplt.axis('off')\nplt.show()","39ebd04c":"print(colored(brewery.groupby('city')[\"city\"].count().sort_values(ascending=False).head(10),'blue'))","3bbb96e3":"#word cloud - Popular Cities (top 50)\nwave_mask3 = np.array(Image.open( \"..\/input\/beerimage\/tulip-beer-glass.jpg\"))\nwordcloud = (WordCloud( max_words = 200,stopwords=stopwords, mask = wave_mask3, background_color='#361F1B',margin=10).generate_from_frequencies(brewery['city'].value_counts()))\nfig = plt.figure(1,figsize=(15, 15))\nplt.imshow(wordcloud,interpolation='bilinear')\nplt.axis('off')\nplt.show()","b8901f2f":"brewery.groupby('state')['state'].count().sort_values(ascending=False).head(3)\nprint(colored(\"Top 3 States with Maximum Breweries for Craft Canned Beers:\",'blue'))\n#Manually converting state initials to names\nprint(colored(\"1. Colorado\",'green'))\nprint(colored(\"2. California\",'green'))\nprint(colored(\"3. Michigan\",'green'))","b727a1b8":"temp = beer.groupby('abv')[\"name\"].count().sort_values(ascending=False).head(50)\n\n#Craft Beers Alcohol content\nx = list(temp.index.values)\nfor i in range(len(x)):\n    x[i] = np.format_float_positional(np.float16(x[i]*100))\ny = temp.values\n\nfig_size = plt.rcParams[\"figure.figsize\"]\n# Set figure width to 12 and height to 9\nfig_size[0] = 27\nfig_size[1] = 9\nplt.rcParams[\"figure.figsize\"] = fig_size\nsns.barplot(x,y)\nplt.xlabel(\"Alcohol Volume (%)\",color='green')\nplt.ylabel(\"Number of Beers\",color='green')\nplt.title(\"Craft Beer by Alcohol content\", color='blue')\nplt.show()\n#np.format_float_positional(np.float16(np.pi))","bc6693dc":"beertemp = beer\nbeertemp.dropna(inplace=True)\nsns.lmplot(\"ibu\",\"abv\", data=beertemp,markers=\"x\")\nplt.xlabel(\"Bitterness (ibu)\",color='blue')\nplt.ylabel(\"Absolute Volume (abv) - Alcohol Content\",color='blue')\nplt.title(\"Craft Beers -- Bitterness vs Alcohol Content \", color='#BE823A')","31834456":"fig = plt.figure()\n\nplt.subplot(1, 2, 1)\nsns.boxplot(beertemp[\"ibu\"],color='#361F1B')\nplt.xlabel(\"International Bitterness Units (ibu)\")\n\nplt.subplot(1, 2, 2)\nsns.boxplot(beertemp[\"abv\"],color='#fbf7ed')\nplt.xlabel(\"Alcohol By Volume\")\n\nplt.show()\n","daba8b6b":"HighBeer = beertemp.sort_values(\"abv\",ascending=False)\nAvgBitterness = beertemp[\"ibu\"].mean()\nHighBeer = HighBeer[HighBeer[\"ibu\"]<=AvgBitterness].reset_index().head(1)\nHighBeer[[\"name\",\"style\"]]","c017e913":"#Most Popular Brew Method -- using the New Dataset of Beer Recipes\nbrtemp[\"BrewMethod\"].value_counts()\n#Its description\nbrrecipe[brrecipe[\"BrewMethod\"]==\"All Grain\"].describe()","b1ddc333":"brtemp = brrecipe.fillna(0)\nbrtemp[\"IBU\"]=brtemp[\"IBU\"]\/10\nplt.figure(figsize=(30 ,30))\nsns.lmplot( x=\"ABV\",y=\"IBU\",  data=brtemp, fit_reg=False, hue='BrewMethod', legend=False)\nplt.legend(loc='upper left')\n\nplt.show()","397af8aa":"#how does different factor in Beer Production correlate with each other \n# Compute the correlation matrix\ncorr = brrecipe.corr()\n\n# Generate a mask for the upper triangle\nmask = np.zeros_like(corr, dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\n\n# Set up the matplotlib figure\nf, ax = plt.subplots(figsize=(11, 9))\n\n# Generate a custom diverging colormap\ncmap = sns.diverging_palette(220, 10, as_cmap=True)\n\n# Draw the heatmap with the mask and correct aspect ratio\nsns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","bf995ebb":"#Data Prep for PairPlot\nbrr = brrecipe.iloc[:,5:10]\nbrr[\"Boil Time\"] = brrecipe[\"BoilTime\"]\nbrr = brr.rename(columns={\"OG\": \"Original Gravity\", \"FG\": \"Final Gravity\", \"ABV\":\"Alcohol By Volume\", \"IBU\":\"Bitterness (IBU)\"})\nbrr.fillna(0,inplace=True)\n\n#plot Prep \nsns.set(style=\"ticks\", color_codes=True)\nsns.pairplot(brr)","d2592277":"#word cloud - Countries for Beer\nwordcloudC = (WordCloud( background_color='black').generate_from_frequencies(GlobalBeer['Country'].value_counts()))\n\nfig = plt.figure(1,figsize=(15, 15))\nplt.imshow(wordcloudC,interpolation=\"bilinear\")\nplt.axis('off')\nplt.show()","84a81018":"#DataPrep\nbC = GlobalBeer\nbC = bC.dropna(subset=['Coordinates', 'Country'])\ncoords = bC[\"Coordinates\"]\nLongLat = coords.str.split(',').values.tolist()\nbC[\"Latitude\"] = pd.Series()\nbC[\"Longitude\"] = pd.Series()\n\nj = 0 \nfor i in LongLat:\n    bC['Latitude'][j] = i[0]\n    bC['Longitude'][j] = i[1]\n    j = j + 1 ","d500a980":"data1 = [dict(\n    type='scattergeo',\n    lon = bC['Longitude'],\n    lat = bC['Latitude'],\n    text = bC['Name'],\n    mode = 'markers',\n    marker = dict(\n    color = '#aa7700',\n    )\n    \n)]\nlayout = dict(\n    title = 'Popular Beer Countries',titlefont=dict(color='#887700'), \n    hovermode='closest',\n    geo = dict(showframe=False, countrywidth=1, showcountries=True,showocean=True,showland=True,countrycolor='green', \n               showcoastlines=True, projection=dict(type='natural earth')),\n    \n)\nfig = py.Figure(data=data1, layout=layout)\niplot(fig)","319b2f82":"sns.distplot(brrecipe[\"ABV\"])\nplt.xlabel(\"Alcohol By Volume\")\nplt.show()","927c2035":"***It is a nice Normal Distribution (a single Bell Curve)***","990f490e":"**<font size=\"5\" color=\"#D4AF37\">How do they Brew It!<\/font><font size=\"3\" color=\"green\"> Brew Method by IBU & ABV Plot<\/font>**","800aa26b":"**<font size=\"5\" color=\"#D4AF37\">Number of Beers by Alcohol Content <\/font><font size=\"5\" color=\"green\">(top 50)<\/font>**","6e79168e":"**<font size=\"5\" color=\"#D4AF37\">Can I get a Craft Beer with high Alcohol Content and Average Bitterness?<\/font>**","fb572b2b":"**<i><font size=\"4\" color='#3F1F0F'>Welcome On Board Craft Beer Lovers :) <\/font><\/i>**\n\n![](https:\/\/static1.squarespace.com\/static\/573b564945bf21707e4a1108\/573b5b5c60b5e90d555b40e2\/576b4120440243decaa2db34\/1466647077750\/033BWO-7295a.jpg)","15f66061":"***<font size=\"5\" color=\"#D4AF37\">Popular Beer Styles <\/font>***","889d4d74":"**<font size=\"5\" color=\"#D4AF37\">\"Does some Beer are highly Bitter & some have high Alcohol Content?\"<\/font>**","8373c1ec":"**<font size=\"4\" color=\"#D4AF37\"> How does different factors in Beer Production correlate with each other!<\/font>**","a0258632":"***<font size=\"5\" color=\"#D4AF37\">Cities for Beer Lovers<\/font>***","ae4fb230":"***<font size=\"5\" color=\"#D4AF37\">Popular Breweries in United States<\/font>***","7b55beb2":"***<font size=\"5\" color=\"#D4AF37\">Popular Beers<\/font>***","a440018a":"**<font size=\"5\" color=\"#D4AF37\"><i>Distribution of Alcohol Content in Beers'<\/i><\/font>**","cf5a78fa":"**<font size=\"5\" color=\"#D4AF37\">Top 3 States for Beer Lovers <\/font>**","d6e429f4":"**<font size=\"5\" color=\"#D4AF37\">Look at Some Major Factors in Beer Preparation <font size=\"5\" color=\"green\">using Seaborn Pair-Plot<\/font>**","f9272d5f":"**<font size=\"5\" color=\"#D4AF37\"><i>Popular Beer Countries<\/i><\/font>**","feeba612":"**<font size=\"5\" color=\"#D4AF37\"><i>Bitterness<\/i> vs <i>Alcohol By Volume<\/i> of Craft Beers<\/font>**"}}