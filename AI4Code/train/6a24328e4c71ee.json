{"cell_type":{"622a6b5e":"code","7869e828":"code","562da1e7":"code","f7b53059":"code","0d6e94ab":"code","1705213e":"code","c460f141":"code","ee6011c9":"code","55823bf1":"code","eae27dbc":"code","66ae7d7f":"code","621069dc":"code","b89d556b":"code","ead49091":"code","433560f2":"code","09b3b206":"code","c57dfb87":"code","9a88fa58":"code","2735f356":"code","f49d87b8":"code","68fdb48b":"code","868462a3":"code","775033cb":"code","ee88d959":"code","21a1c804":"code","6e1e303a":"code","e498bd92":"code","6f8384b4":"code","565a76a9":"code","bca1e95a":"code","8d882652":"code","30fc0d81":"code","86369971":"code","8a765ddb":"code","7ee1c7a4":"code","6645ed24":"code","12c658ba":"code","47ab648c":"code","1d07ce4f":"code","0726ba51":"code","bcbc1c4d":"code","c54e8531":"code","1e3aef0a":"code","db6b9cd8":"code","36378b99":"code","9c26bb5f":"code","e5dd9f77":"code","a3b50ff9":"code","46826f34":"code","8772230e":"code","f9844f24":"code","2cb87147":"code","c09eebc3":"code","8ab47e87":"code","c37c9fa6":"code","998f0933":"code","3204f2b9":"code","0693cbab":"code","f7034b67":"code","6a140dd1":"code","f96f03cf":"code","dfed94fb":"code","009e5613":"code","f0b999e9":"code","9fa80703":"code","09abfc80":"code","f6165aec":"code","e586c837":"code","8cfc891e":"code","120933ac":"code","2d4bb839":"code","67ed422c":"code","197a4d19":"markdown","fd32abeb":"markdown","47bd5d89":"markdown","5cd960c6":"markdown","7c3bf6e6":"markdown","a44ea279":"markdown","7c8b5c3a":"markdown","7df6a8be":"markdown","472d17fd":"markdown","d319fc1c":"markdown","a45dc35f":"markdown","f69cccea":"markdown","021e382d":"markdown","d7770eae":"markdown","95f05639":"markdown","8d9aa0e8":"markdown","c7d08610":"markdown","6d1e9e55":"markdown","5f59aaba":"markdown","9ede7a91":"markdown","5e7bdf8b":"markdown","48bb179b":"markdown","7a11b52d":"markdown","50b9bf98":"markdown","d4e801dc":"markdown","2d4ad74c":"markdown","1773ba91":"markdown","365b0f1c":"markdown","bcc7b683":"markdown","98e5b4d9":"markdown","29d838a6":"markdown","68c61cc1":"markdown","ed600d58":"markdown","61c1b80c":"markdown","03c2f2d7":"markdown","cc458bfa":"markdown","aafe4ca5":"markdown","51412eba":"markdown","898d9d8d":"markdown","17f5d2d7":"markdown","821dc9f7":"markdown","8ea463d8":"markdown","d75a12cc":"markdown","700d8dfd":"markdown","cd2b4095":"markdown","1b8e8bb5":"markdown","d2a1d941":"markdown","73aa410f":"markdown","0708425a":"markdown","92a6b651":"markdown"},"source":{"622a6b5e":"!pip install jovian opendatasets --upgrade --quiet","7869e828":"# getting the URL of the dataset to download the same\ndataset_url = 'https:\/\/www.kaggle.com\/bravehart101\/sample-supermarket-dataset' ","562da1e7":"import opendatasets as od\nod.download(dataset_url)","f7b53059":"data_dir='.\/sample-supermarket-dataset'","0d6e94ab":"import os\nos.listdir(data_dir)","1705213e":"project_name = \"superstore-data-analysis\"","c460f141":"!pip install jovian --upgrade -q","ee6011c9":"import jovian","55823bf1":"jovian.commit(project=project_name)","eae27dbc":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","66ae7d7f":"#loading the dataset\ndf= pd.read_csv(data_dir+\"\/SampleSuperstore.csv\")\ndf.head()","621069dc":"#checking the shape of the dataset\ndf.shape","b89d556b":"#Checking the column names\ndf.columns","ead49091":"#Let's get the total view of the data we have\ndf.describe()","433560f2":"#checking the null values or missing items\ndf.isnull().sum()","09b3b206":"#Checking the continuos and the Categorical Columns\ndf.dtypes","c57dfb87":"#Checking if any duplicate row is there in the dataset\ndf.duplicated().sum()","9a88fa58":"#Removing 17 duplicated rows to avoid faults in further calculation\ndf.drop_duplicates(inplace=True)","2735f356":"#After removing duplicate entries\ndf.shape","f49d87b8":"#removing the unimportant columns\ndata=df.drop(['Country', 'Postal Code'], axis=1)\ndata.shape","68fdb48b":"#Checking the corelations between numeric columns\ndf_con=data.select_dtypes(include=[np.number]) #getting the numeracal features\nf,ax = plt.subplots(figsize=(12, 8))\nsns.heatmap(df_con.corr(method='pearson'), annot=True, fmt= '.1f',ax=ax, cmap=\"Blues\") #plotting a heatmap","868462a3":"#BoxPlot to see the outliers clearly\nplt.figure(figsize=[12,8])\nsns.set(style=\"whitegrid\")\nsns.boxplot(x=\"variable\", y=\"value\", data=pd.melt(df_con), width=1)\n\nplt.show()\n","775033cb":"#Removal of Outliers\ndef remove_outlier(dataset,k=3.33):\n    for col in dataset.columns:\n            if (dataset[col].dtype==\"int64\" or dataset[col].dtype==\"float64\"):\n                mean = dataset[col].mean()\n                global ds      \n                std = dataset[col].std()    \n                outlier = [i for i in dataset[col] if (i > mean - k * std)]\n                outlier = [i for i in outlier if (i < mean + k * std)]       \n                ds = dataset.loc[dataset[col].isin(outlier)]","ee88d959":"remove_outlier(data,k=3.33)","21a1c804":"#Let's see the outliers are removed or not\nds_con=ds.select_dtypes(include=[np.number])\nplt.figure(figsize=[12,8])\nsns.set(style=\"whitegrid\")\nsns.boxplot(x=\"variable\", y=\"value\", data=pd.melt(ds_con), width=1)\n\nplt.show()","6e1e303a":"import jovian","e498bd92":"jovian.commit(project=project_name)","6f8384b4":"#Let's describe our data once again to get the useful values for each feature\nds.describe()","565a76a9":"#What are the numbers of unique entries in the Categorical columns\nfor col in ds.columns:\n    if ds[col].dtype=='object':\n        print(\"Number of unique entries in\",col + \" are\",ds[col].nunique())\n        print(\"=================================================\")","bca1e95a":"#Region wise sales plot\nfig = plt.figure()\nax = fig.add_axes([0,0,1,1])\nax.bar(ds['Region'],ds['Sales'])\nplt.title(\"Region VS Sales\")\nplt.xlabel(\"Regions\")\nplt.ylabel(\"Sales\")\nplt.show()","8d882652":"#Category wise sales in Each region\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Region\", y=\"Sales\", hue=\"Category\", data=ds, palette=\"Blues\")","30fc0d81":"#Segment wise count of the ship modes\nplt.figure(figsize=[15,8])\nsns.catplot(\"Ship Mode\", hue=\"Segment\", data=ds, kind=\"count\", aspect=1.5, palette=\"Blues\")","86369971":"#Segment wise sales in Each region\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Region\", y=\"Sales\", hue=\"Segment\", data=ds, palette=\"Blues\")","8a765ddb":"#Sales vs Subcategory\nplt.figure(figsize=[20,10])\nplt.bar(\"Sub-Category\",\"Sales\",data=ds)\nplt.title(\"Sub_Category VS Sales\",fontsize=18)\nplt.xlabel(\"Subcategory\", fontsize=16)\nplt.ylabel(\"Sales\",fontsize=16)\nplt.show()","7ee1c7a4":"#Let's get some aggregated views from pairplot\nsns.pairplot(ds)","6645ed24":"#Let's get some insights based on Cities\ngrouped= ds.groupby(\"City\")\n#Aggregated Sales per city\nagg_sales=grouped['Sales'].agg(np.sum).sort_values(ascending=False).reset_index()\n#Cities with highest total sales\nagg_sales.head()","12c658ba":"#Aggregated Profit per city\nagg_profit=grouped['Profit'].agg(np.sum).sort_values(ascending=False).reset_index()\n#Cities with Highest total Profit\nagg_profit.head()","47ab648c":"#Aggregate Discount per city\nagg_dist=grouped['Discount'].agg(np.sum).sort_values(ascending=False).reset_index()\n\n#Cities with highest aggregated Discount\nagg_dist.head()","1d07ce4f":"\n#Average Sales per city\navg_sales=grouped['Sales'].agg(np.mean).sort_values(ascending=False).reset_index()\n#Cities with highest Average sales\navg_sales.head()","0726ba51":"#Cities with lowest Average sales\navg_sales.tail()\n#Average Profit per city\navg_profit=grouped['Profit'].agg(np.mean).sort_values(ascending=False).reset_index()\n#Cities with highest Average profit\navg_profit.head()","bcbc1c4d":"#Cities with lowest Average profit\navg_profit.tail()","c54e8531":"#Average Discount per city\navg_dist=grouped['Discount'].agg(np.mean).sort_values(ascending=False).reset_index()\n#Cities with highest Average discount\navg_dist.head()","1e3aef0a":"#Cities with lowest Average Discount\navg_dist.tail()","db6b9cd8":"import jovian","36378b99":"jovian.commit(project=project_name)","9c26bb5f":"#Cities having High Average Discounts\nhigh_dist=avg_dist[avg_dist['Discount'] >=0.7]","e5dd9f77":"#Cities having low Average Discounts\nlow_dist=avg_dist[avg_dist['Discount']==0]","a3b50ff9":"#Cities having High Average Sales\nhigh_sales=avg_sales[avg_sales['Sales']>500]","46826f34":"#Cities having low Average Sales\nlow_sales=avg_sales[avg_sales['Sales']<50]","8772230e":"#Cities having High Average Profit\nhigh_profit=avg_profit[avg_profit['Profit']>100]","f9844f24":"#Cities having low Average profit\nlow_profit=avg_profit[avg_profit['Profit']<0]","2cb87147":"#Cities with High-Average-Discounts but Low-Average-Sales\nmerged= pd.merge(high_dist,low_sales, on=['City'],how='inner')\nmerged","c09eebc3":"#Cities with high Average Sales as well as Average Profit\nmerged2= pd.merge(high_sales,high_profit, on=['City'], how='inner')\nmerged2","8ab47e87":"#Cities where Average Discount is less but Average Sales is High\nmerged3= pd.merge(low_dist,high_sales, on='City', how='inner')\nmerged3","c37c9fa6":"#Cities with high Average sales but low Average profit\nmerged4= pd.merge(high_sales,low_profit, on='City', how='inner')\nmerged4","998f0933":"\n#Cities with high Average discount but low Average profit\nmerged5= pd.merge(high_dist,low_profit, on='City', how='inner')\nmerged5","3204f2b9":"#Cities with low Average discount but High Average profit\nmerged6= pd.merge(low_dist, high_profit, on='City', how='inner')\nmerged6","0693cbab":"plt.figure(figsize=[24,15])\nax = sns.barplot(x=\"State\", y=\"Profit\", data=ds, palette=\"Blues\",)\nplt.xticks(rotation=90, fontsize=16)\nplt.yticks(fontsize=15)\nplt.title(\"States VS Profit\",fontsize=24)\nplt.xlabel(\"States\",fontsize=20)\nplt.ylabel(\"Profit\",fontsize=20)\nplt.tight_layout()","f7034b67":"#Category Wise profit in the whole country\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Category\", y=\"Profit\", data=ds, palette=\"Blues\")\n","6a140dd1":"#Category wise Profit in Each Region\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Region\", y=\"Profit\", hue=\"Category\", data=ds, palette=\"Blues\")","f96f03cf":"#Subcategory wise profit\nplt.figure(figsize=[15,10])\nax = sns.barplot(x=\"Sub-Category\", y=\"Profit\", data=ds, palette=\"Blues\")\nplt.xlabel(\"Subcategory\", fontsize=15)\nplt.ylabel(\"Profit\",fontsize=15)\nplt.xticks(rotation=90)\nplt.show()\n","dfed94fb":"#Entries with Category=Technology\nds_tech=ds[(ds['Category']==\"Technology\")]\nds_tech.head()","009e5613":"#Let's get the Sales of each Subcategory under Technology\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Sub-Category\", y=\"Sales\", data=ds_tech, palette=\"Blues\")\nplt.xlabel(\"Subcategories\",fontsize=15)\nplt.ylabel(\"Sales\",fontsize=15)","f0b999e9":"#Let's get the Profit of each Subcategory under Technology\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Sub-Category\", y=\"Profit\", data=ds_tech, palette=\"Blues\")\nplt.xlabel(\"Subcategories\",fontsize=15)\nplt.ylabel(\"Profit\",fontsize=15)","9fa80703":"#Let's get the Profit of each Subcategory under Technology for each Region\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Sub-Category\", y=\"Profit\",hue=\"Region\", data=ds_tech, palette=\"Blues\")\nplt.xlabel(\"Subcategories\",fontsize=15)\nplt.ylabel(\"Profit\",fontsize=15)","09abfc80":"#Let's get the Profit of each Subcategory under Technology for each Region\nplt.figure(figsize=[12,8])\nax = sns.barplot(x=\"Sub-Category\", y=\"Profit\",hue=\"Region\", data=ds_tech, palette=\"Blues\")\nplt.xlabel(\"Subcategories\",fontsize=15)\nplt.ylabel(\"Profit\",fontsize=15)","f6165aec":"import jovian","e586c837":"jovian.commit(project=project_name)","8cfc891e":"import jovian","120933ac":"jovian.commit(project=project_name)","2d4bb839":"import jovian","67ed422c":"jovian.commit(project=project_name)","197a4d19":"# Superstore-Data-Analysis\n\nToday I am going to work on a Super store dataset to analyse to data and get some useful insights about the features available, which in-turn will help the organisation to improve their business and increase their profit. I found this dataset an ideal real-life dataset to implement all I have learnt from the Zero to Pandas workshop arranged by Jovian.ml.\nSo, without wasting any more time we will jump straight to Data Cleaning or Pre-processing after downloading the dataset into the environment.","fd32abeb":"**Observation:- It's clear from the picture that 'Copiers' is generating the highest profit as mentioned earlier, but 'Machines' are lagging in this case in spite of generating good amount of sales, as shown previously.**","47bd5d89":"Let's begin by downloading the data, and listing the files within the dataset.","5cd960c6":"**Ans 3. These 10 cities are generating high average sales in spite of '0' discount! Hence if our investments can be increased in these cities, then huge sales as well as huge profits can be driven from these Cities. These can be termed as the Dark-Horses.**","7c3bf6e6":"**Observation:- New York City has the most amount of sales followed by Los Angeles and San Fracisco.**","a44ea279":"# Outlier Detection and removal accordingly:-","7c8b5c3a":"**So, now we are ready with our useful data. Let us use it to answer the most relevant questions!**","7df6a8be":"**Observation:- Highest profit is generated from Category='Technology'. 'Furniture' is lagging the list.**","472d17fd":"From the above plot, the outliers im Sales and Profit are clearly seen. As it's a large data set, we can remove those rows containing outliers to improve our results.","d319fc1c":"**So, no null values or missing values are there in the dataset.**","a45dc35f":"**Observation:- Interestingly highest total discount is for Philadelphia followed by Houston and Chicago. Shouldn't they lead the Sales and Profit table as well!**","f69cccea":"## Downloading the Dataset\n\nI have collected the dataset from Kaggle itself. We are having a Zip file within which the .csv file is present. So, we will go step by step to download the dataset, unzip it and import it to proceed further in our project.","021e382d":"**Visualization to Explore and get insights=>**","d7770eae":"**Q1. Which are the cities where discount is maximum but sales are nominal?**","95f05639":"The dataset has been downloaded and extracted.","8d9aa0e8":"# Let's See If we can get interesting insights using Stats!","c7d08610":"**Q4. Is there any cities where sales is good but generating loss?**","6d1e9e55":"**Observation:- As we can see, 'Copiers' are gaining huge profit. 'Accessories' are also doing good. But 'Tables' and 'Bookcases' are going with loss. Respective steps are to be taken to improve the business in these Subcategories.**\n\n**As we can see, the Profit is maximum in case of Category= Technology, So we should explore that more!**","5f59aaba":"## References and Future Work\n\n**During this projects I got help from various websites, blogs and obviously the video lectures of the Zero to Pandas workshop. Here are some of them,**\n\n**1. https:\/\/stackoverflow.com\/questions\/40885318\/create-a-new-dataframe-from-selecting-specific-rows-from-existing-dataframe-pyth**\n\n**2. https:\/\/www.geeksforgeeks.org\/python-pandas-dataframe-groupby\/**\n\n**3. https:\/\/stackoverflow.com\/questions\/20763012\/creating-a-pandas-dataframe-from-a-numpy-array-how-do-i-specify-the-index-colum**\n\n**This dataset is so far a gem to me. It has produced some awesome insights and hidden facts. All credits to different statitical calculations and visualisations. In future many such new facts can also be genarated and if we apply some Machine Lerning Models then future profits can also be derived. Depending upon such incredible findings the Organization can be more focused and specific towards it's journey ahead.**","9ede7a91":"**Observation:- Something new, in all these average calculations, the Cities which topped the total Sales, total Profit or total Discount, are not leading here. But the overall scinerio can be obtained from these average values.**","5e7bdf8b":"**Q5. Are there cities with high discounts yet very low profit margin\/LOSS?**","48bb179b":"Observation:- No such strong linear relations are found here between columns of the Dataset, irregularity is seen allover.","7a11b52d":"**Observations:- Here also, same picture can be seen. 'Copiers' is well ahead of others, while 'Machines' is not at all performing well, especially in the 'Second Class', where Consumers are large in Count, as seen earlier. So, further steps are to be talken accordingly!**","50b9bf98":"# Now Some more visuals with profit:-","d4e801dc":"**Observation:- The plot shows, 'District of Columbia', 'Vermont','Wyoming' states are generating highest profits. And States like 'Texas', 'Pennsylvania','Illinois','Arizona','Oregon','Colorado','Ohio' are generating losses. Hence focus has to be given in such States.**","2d4ad74c":"## Asking and Answering Questions\n\n**In this section, I shall ask the dataset some question and will try to get those answers.**\n\n","1773ba91":"**Observation:- In category 'Technology', subcategory 'Copiers' is having the highest sales, where 'Accessories' is having lowest amount of sales. 'Machines' subcategory is also performing good.**","365b0f1c":"**Ans 5. The 8 cities above gets highest average Discount, but here the business is generating loss! Either strong focus is to be given in these cities to find out the faults or Discounts are to withdrawn to make up the loss.**","bcc7b683":"**Q2. What are the cities having high sales as well as high profit?**","98e5b4d9":"## Inferences and Conclusion\n\n**We are at the end of the project. We have downloaded the dataset, explored it, cleaned it and analysed it at every possible way. In between all these we have encountered some awesome facts about the data. So, after this exploratory analysis we can conclude our observations and insights in some simple points as follows....**\n\n**1. Large cities, like New York, Los Angeles, Seatle, San Francisco are generating highest amount of Sales as well as Profit.**\n\n**2. In case of Categories, Technology is always leading in terms of Sales and Profit.**\n\n**3. Some cities are there, where company is giving huge discounts but very less sales and profit is generating.**\n\n**4. Also there are cities, where discounts are totaly '0', but they are generating high profits.**\n\n**5. Maximum corporates as well as consumers prefer the Standard class of ship-mode.**\n\n**6. There are cities where sales as well as profit is very low, infact company is going with a loss there.**\n\n\n**Above insights are just few such key points where the organization should focus more to enhance their business and reduce the loss as much as possible. Company campaigns can be well directed with help of these key notes. Hopefully the whole analysis will help the company to grow in upcoming days. That's all.**\n\n\n# Thank you!\n\n","29d838a6":"**Observation:- Similarly most profit is earned from New York City followed by Los Angeles and Seattle.**","68c61cc1":"**Ans 2. The stats above are very pleasing. In all these 15 Cities the sales as well as profit is quite good. Hence if we can invest in these cities (in terms of Discount and other aspects), business can increase more. These can be termed as the Hot-Spots.**","ed600d58":"**That's interesting! There are total 17 duplicate entries in our dataset! So, let's remove those to avoid any inconvenience.**","61c1b80c":"**Observation:- Simply 'Technology' generates highest profit in every region. And 'Furniture' is lagging in all the regions except South region. Most importantly, at Central region, 'Furniture' is experiencing loss. These points are to be noted and taken care of.**","03c2f2d7":"**Q3. Are there any city, where sales is high in spite of 0 discount?**","cc458bfa":"**No such strong co-relations are found!**","aafe4ca5":"## Data Preparation and Cleaning\n\n**In this step we will observe our dataset and will clean it as much as possible to avoid any issues during analysis. We will treat the missing values, duplicate entries and also the outliers. All these steps will in turn make our data ready to Explore and get insights accurately.**\n\n","51412eba":"## Exploratory Analysis and Visualization\n\n**Now,as our dataset is clean and ready to perform the analysis, we will visualise the relationships of different features and will try to get some insights to answer the most relevant questions. Not only visualisation, we will go with some imporatant statistical calculations also to enhance the chances of exploring our data efficiently.**\n\n","898d9d8d":"**Observation:- No much surprises here. Consumer count is highest in each case and they generally prefer 'Standard Class'.**","17f5d2d7":"**Ans 1. Here we can see 7 Cities where the Company is giving high discounts but Sales very very low. As already Discounts are high, no question of increasing discount further. Hence here our investment is not fruitful.**","821dc9f7":"**Observation:- The West region is leading the sales followed by the East, South and North.**","8ea463d8":"**Some Feature Engineering to ask some interesting questions to the dataset and get corresponding outputs!!**","d75a12cc":"**Q6. Which are the cities with very low discount but high profit?**","700d8dfd":"**Observation:- As we can see, the 'Supplies' sub-category produces maximum sales followed by the 'Machines' sub-category. 'Fasteners' are lagging behind of all.**","cd2b4095":"**Observation:- In case of sales not much difference is seen based on the Segments for any region. Overall 'Corporate' is leading a bit.**","1b8e8bb5":"**Ans4. Here are the 18 cities, where the company is not at all providing any discount, yet these cities are genetating good amount of profit. Hence more and more care is to be taken and investments are to be made in these kinds of Hot-Spots!**","d2a1d941":"**So now we have 9977 rows and 13 columns!**","73aa410f":"**We have 9994 rows and 13 columns in our dataset.**","0708425a":"**Ans 4.  In Richardson city, good amount of sales are there but the company is going with loss here. Hence focus can be shifted from here or the reasons are to be found!**","92a6b651":"**Observation:- In each and every every region, sales for 'Office Supplies' are very poor. Furniture and Technology are well ahead.**"}}