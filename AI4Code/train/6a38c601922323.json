{"cell_type":{"18e62c3d":"code","9acb215e":"code","bfb5bf88":"code","0eac55ad":"code","88b0d6cf":"code","56029214":"code","1196155c":"code","ffeb551d":"code","6a2c8fdf":"code","ca93b280":"code","2c41d6c8":"markdown","39f14771":"markdown"},"source":{"18e62c3d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9acb215e":"TRAIN_FILEPATH = '\/kaggle\/input\/melbourne-housing-train-test\/melbourne_housing_train.csv'","bfb5bf88":"import pandas as pd\nimport numpy as np\ndf = pd.read_csv(TRAIN_FILEPATH)\nprint(df.shape)\ndf.head(1)","0eac55ad":"TEST_FILEPATH = '\/kaggle\/input\/melbourne-housing-train-test\/melbourne_housing_test.csv'\ndf = pd.read_csv(TEST_FILEPATH)\nprint(df.shape)\ndf.head(1)","88b0d6cf":"####  ENVIRONMENT VARIABLES FOR GCP HERE !!!###################\n# don't change this value! \nREGION = 'us-central1' # don't change: this is the only region that works currently\n\n# these you'll change based on your GCP project\/data\n## But project_ID can be changed to whatever project u are working on\nPROJECT_ID = 'ram-kaggle' ### create a project name that is unique to GCP - remember that\nBUCKET_NAME = 'ram-data' ### You must have already created this bucket in project above\nDATASET_DISPLAY_NAME = 'housing2' # name of your uploaded dataset (from GCP console)\nTARGET_COLUMN = 'Price' # column with feature you're trying to predict\nID_COLUMN = 'ID'  ## unfortunately every row must have a unique ID in your data set so keep in mind\n\n# these can be whatever you like\nMODEL_DISPLAY_NAME = 'kaggle_model3' # what you want to call your new model that you will build\nTRAIN_BUDGET = 1000 # max time to train model in milli-hours, from 1000-72000\n","56029214":"# Set your own project id here\nfrom google.cloud import automl_v1beta1 as automl\ntables_client = automl.AutoMlClient()\nfrom google.cloud import storage\nstorage_client = storage.Client(project=PROJECT_ID)\nfrom google.cloud import bigquery\nbigquery_client = bigquery.Client(project=PROJECT_ID)","1196155c":"\n# Import the class defining the wrapper\nfrom automl_tables_wrapper import AutoMLTablesWrapper","ffeb551d":"# Create an instance of the wrapper\namw = AutoMLTablesWrapper(project_id=PROJECT_ID,\n                          bucket_name=BUCKET_NAME,\n                          dataset_display_name=DATASET_DISPLAY_NAME,\n                          train_filepath=TRAIN_FILEPATH,\n                          test_filepath=TEST_FILEPATH,\n                          target_column=TARGET_COLUMN,\n                          id_column=ID_COLUMN,\n                          model_display_name=MODEL_DISPLAY_NAME,\n                          train_budget=TRAIN_BUDGET)","6a2c8fdf":"# Create and train the model - this does not tell u how many hours it took to train major miss!\namw.train_model()","ca93b280":"# Get predictionsj - the problem is  that if you restart the notebook the model is lost\n### This needs to be changed to re-use an existing model that is deplyed to make predictions\namw.get_predictions()","2c41d6c8":"# How to use GCP AutoML Tables with just 3 lines of code","39f14771":"This notebook uses the amazing AutoML Tables Wrapper built by Alexis B Cook (https:\/\/www.kaggle.com\/alexisbcook)\nhttps:\/\/www.kaggle.com\/alexisbcook\/automl-tables-wrapper\n    "}}