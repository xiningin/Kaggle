{"cell_type":{"5a728319":"code","fa010a59":"code","0606ddb3":"code","cb8114c6":"code","a1ae5b32":"code","d7970a5b":"code","12b669a7":"code","1d8db2fd":"code","ee043fde":"code","6b5f92bd":"code","08d8188a":"code","9af2c658":"code","b85c6901":"code","54fd7bee":"code","927ef6da":"code","9a2af4f4":"code","152182f7":"code","dfacd29f":"code","fdca85cf":"code","6f5540df":"code","0e6e6a34":"code","8ab558b7":"code","0aa791a9":"code","1c74602f":"code","381ccf7e":"code","e9fe24e1":"code","d91c10f4":"code","9e93a97d":"code","05c98778":"code","68a0c576":"code","fb82abba":"markdown","af5766f1":"markdown","1c73478c":"markdown","0aa11e38":"markdown","532edbdd":"markdown","bc25c879":"markdown","8956ee52":"markdown","8b2c8bbd":"markdown","8146c109":"markdown","f14dae43":"markdown","30a1a486":"markdown","2b119cdd":"markdown","e8e9973a":"markdown","3e0a9b78":"markdown","4a7ee6fc":"markdown","02aaba43":"markdown","7a09ed74":"markdown","a0f12792":"markdown","b59d0deb":"markdown","711c8a8d":"markdown","c0be95fe":"markdown","67d67370":"markdown"},"source":{"5a728319":"import os\nimport numpy as np \nimport pandas as pd \nimport os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport cv2","fa010a59":"# seed\u5024\nSEED = 20211105\n# train\u753b\u50cf\u306e\u30d5\u30a9\u30eb\u30c0\nTRAIN_IMG_PASS = '..\/input\/petfinder-pawpularity-score\/train'","0606ddb3":"def plot_img(min, max):\n    less10 = train.query(f'{min} <= Pawpularity < {max}')\n    sample_less10 = less10.sample(n=5, random_state=SEED).reset_index()\n\n    fig = plt.figure(figsize=(30,30))\n    for index, row in sample_less10.iterrows():\n        title = str(row['Pawpularity'])\n        img = plt.imread(os.path.join(TRAIN_IMG_PASS, row['Id'] + '.jpg'))\n        plt.subplot(1,5,index+1)\n        plt.title(f'Pawpularity:{title}', fontsize=18)\n        plt.imshow(img)\n    plt.show()\n\ndef plot_box_hist(target, base):\n    fig, ax = plt.subplots(1,2)\n    sns.boxplot(data=train, x=target, y=base, ax=ax[0])\n    sns.histplot(train, x=base, hue=target, kde=True, ax=ax[1])\n    plt.suptitle(target, fontsize=20, fontweight='bold')\n    fig.show()\n\ndef plot_category_img(item):\n    item_df = train.query(f'{item} == 1')\n    sample_item_df = item_df.sample(n=5, random_state=SEED).reset_index()\n\n    fig = plt.figure(figsize=(30,30))\n    for index, row in sample_item_df.iterrows():\n        title = str(row['Pawpularity'])\n        img = plt.imread(os.path.join(TRAIN_IMG_PASS, row['Id'] + '.jpg'))\n        plt.subplot(1,5,index+1)\n        plt.title(f'Pawpularity:{title}', fontsize=18)\n        plt.imshow(img)\n\n    fig.show()","cb8114c6":"sample = pd.read_csv(\"..\/input\/petfinder-pawpularity-score\/sample_submission.csv\")\nsample","a1ae5b32":"test = pd.read_csv(\"..\/input\/petfinder-pawpularity-score\/test.csv\")\ntest","d7970a5b":"train = pd.read_csv(\"..\/input\/petfinder-pawpularity-score\/train.csv\")\ntrain","12b669a7":"# neko.jpg\u3092\u8aad\u307f\u8fbc\u3093\u3067\u3001img\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5165\u308c\u308b\nimg = cv2.imread(os.path.join(TRAIN_IMG_PASS, train['Id'][0] + '.jpg'))\n\n#img\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092matlotlib\u3092\u7528\u3044\u3066\u8868\u793a\u3059\u308b\nplt.imshow(img)\nplt.show()","1d8db2fd":"sns.set(rc={'figure.figsize':(15,5)})\nfig = plt.figure()\nsns.histplot(data=train, x='Pawpularity', bins=100)\nplt.axvline(train['Pawpularity'].mean(), ls='--', c='red', lw=3, label='Mean')\nplt.axvline(train['Pawpularity'].median(), ls='--', c='blue',lw=3, label='Median')\nplt.title('Pawpularity Scores', fontstyle='italic', fontsize=20, fontweight='bold')\nplt.legend()\nplt.show()","ee043fde":"plot_box_hist('Eyes', 'Pawpularity')\nplot_category_img('Eyes')","6b5f92bd":"plot_box_hist('Subject Focus', 'Pawpularity')\n# plot_category_img('Subject Focus')","08d8188a":"plot_box_hist('Face', 'Pawpularity')\nplot_category_img('Face')","9af2c658":"plot_box_hist('Near', 'Pawpularity')\nplot_category_img('Near')","b85c6901":"plot_box_hist('Action', 'Pawpularity')\nplot_category_img('Action')","54fd7bee":"plot_box_hist('Accessory', 'Pawpularity')\nplot_category_img('Accessory')","927ef6da":"plot_box_hist('Group', 'Pawpularity')\nplot_category_img('Group')","9a2af4f4":"plot_box_hist('Collage', 'Pawpularity')\nplot_category_img('Collage')","152182f7":"plot_box_hist('Human', 'Pawpularity')\nplot_category_img('Human')","dfacd29f":"plot_box_hist('Occlusion', 'Pawpularity')\nplot_category_img('Occlusion')","fdca85cf":"plot_box_hist('Info', 'Pawpularity')\nplot_category_img('Info')","6f5540df":"plot_box_hist('Blur', 'Pawpularity')\nplot_category_img('Blur')","0e6e6a34":"plot_img(0, 10)","8ab558b7":"plot_img(10, 20)","0aa791a9":"plot_img(20, 30)","1c74602f":"plot_img(30, 40)","381ccf7e":"plot_img(40, 50)","e9fe24e1":"plot_img(50, 60)","d91c10f4":"plot_img(60, 70)","9e93a97d":"plot_img(70, 80)","05c98778":"plot_img(80, 90)","68a0c576":"plot_img(90, 100)","fb82abba":"### \u9b45\u529b\u5ea6\u304c0\u4ee5\u4e0a10\u672a\u6e80\u3092\u8868\u793a","af5766f1":"### \u9b45\u529b\u5ea6\u304c50\u4ee5\u4e0a60\u672a\u6e80\u3092\u8868\u793a","1c73478c":"# \u5b66\u7fd2\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d","0aa11e38":"## \u30da\u30c3\u30c8\u306e\u4eba\u6c17(\u9b45\u529b)\u5ea6\u3092\u30d2\u30b9\u30c8\u30b0\u30e9\u30e0\u3067\u53ef\u8996\u5316","532edbdd":"# \u5404\u9805\u76ee\u3054\u3068\u306b\u5206\u6790","bc25c879":"### \u9b45\u529b\u5ea6\u304c60\u4ee5\u4e0a70\u672a\u6e80\u3092\u8868\u793a","8956ee52":"# import","8b2c8bbd":"## train\u306eCSV\u3092\u8aad\u307f\u8fbc\u307f","8146c109":"### \u9b45\u529b\u5ea6\u304c80\u4ee5\u4e0a90\u672a\u6e80\u3092\u8868\u793a","f14dae43":"### \u9b45\u529b\u5ea6\u304c20\u4ee5\u4e0a30\u672a\u6e80\u3092\u8868\u793a","30a1a486":"### \u9b45\u529b\u5ea6\u304c40\u4ee5\u4e0a50\u672a\u6e80\u3092\u8868\u793a","2b119cdd":"### \u9b45\u529b\u5ea6\u304c10\u4ee5\u4e0a20\u672a\u6e80\u3092\u8868\u793a","e8e9973a":"## \u5148\u982d\u306e\u753b\u50cf\u3092\u8868\u793a\u3057\u3066\u307f\u308b","3e0a9b78":"# config","4a7ee6fc":"### \u9b45\u529b\u5ea6\u304c90\u4ee5\u4e0a100\u672a\u6e80\u3092\u8868\u793a","02aaba43":"### \u9b45\u529b\u5ea6\u304c30\u4ee5\u4e0a40\u672a\u6e80\u3092\u8868\u793a","7a09ed74":"Id\u306e\u5199\u771f\u304b\u3089\u30da\u30c3\u30c8\u306e\u4eba\u6c17(Pawpularity)\u3092\u4e88\u6e2c\u3059\u308b\u3002\n\n\u306a\u304a\u3001Pawpularity\u30b9\u30b3\u30a2\u306f\u69d8\u3005\u306a\u30da\u30fc\u30b8\u304b\u3089\u7d71\u8a08\u91cf\u3092\u6b63\u898f\u5316\u3059\u308b\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3092\u4f7f\u3063\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u30da\u30c3\u30c8\u306e\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u30da\u30fc\u30b8\u306e\u7d71\u8a08\u304b\u3089\u8a08\u7b97\u3055\u308c\u308b\u3088\u3046\u3067\u3059\u3002","a0f12792":"# \u4e88\u6e2c\u3059\u308b\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u3002","b59d0deb":"# fanctions","711c8a8d":"* Id:\u753b\u50cf\u30d5\u30a1\u30a4\u30eb\u540d,\n* Subject Focus:\u30da\u30c3\u30c8\u306f\u6574\u9813\u3055\u308c\u305f\u80cc\u666f\u306b\u5bfe\u3057\u3066\u969b\u7acb\u3063\u3066\u304a\u308a\u3001\u8fd1\u3059\u304e\u305f\u308a\u9060\u3059\u304e\u305f\u308a\u3059\u308b\u3053\u3068\u306f\u3042\u308a\u307e\u305b\u3093\u3002\n* Eyes:\u4e21\u65b9\u306e\u76ee\u304c\u6b63\u9762\u307e\u305f\u306f\u6b63\u9762\u8fd1\u304f\u3092\u5411\u3044\u3066\u304a\u308a\u3001\u5c11\u306a\u304f\u3068\u30821\u3064\u306e\u76ee\/\u77b3\u5b54\u304c\u9069\u5207\u306b\u30af\u30ea\u30a2\u3055\u308c\u3066\u3044\u307e\u3059\u3002\n* Face:\u6b63\u9762\u307e\u305f\u306f\u6b63\u9762\u8fd1\u304f\u3092\u5411\u3044\u305f\u3001\u304d\u3061\u3093\u3068\u30af\u30ea\u30a2\u306a\u9854\u3002\n* Near:\u5199\u771f\u306e\u304b\u306a\u308a\u306e\u90e8\u5206\u3092\u5360\u3081\u308b1\u5339\u306e\u30da\u30c3\u30c8\uff08\u5199\u771f\u306e\u5e45\u307e\u305f\u306f\u9ad8\u3055\u306e\u7d0450\uff05\u4ee5\u4e0a\uff09\u3002\n* Action:\u30a2\u30af\u30b7\u30e7\u30f3\uff08\u30b8\u30e3\u30f3\u30d7\u306a\u3069\uff09\u306e\u9014\u4e2d\u3067\u30da\u30c3\u30c8\u3092\u98fc\u3046\u3002\n* Accessory:\u4ed8\u5c5e\u306e\u7269\u7406\u7684\u307e\u305f\u306f\u30c7\u30b8\u30bf\u30eb\u306e\u4ed8\u5c5e\u54c1\/\u652f\u67f1\uff08\u304a\u3082\u3061\u3083\u3001\u30c7\u30b8\u30bf\u30eb\u30b9\u30c6\u30c3\u30ab\u30fc\u306a\u3069\uff09\u3001\u9996\u8f2a\u3068\u9396\u3092\u9664\u304f\u3002\n* Group:\u5199\u771f\u306b\u5199\u3063\u3066\u3044\u308b\u30da\u30c3\u30c8\u304c1\u5339\u4ee5\u4e0a\u3002\n* Collage:\u30c7\u30b8\u30bf\u30eb\u30ec\u30bf\u30c3\u30c1\u3055\u308c\u305f\u5199\u771f\uff08\u3064\u307e\u308a\u3001\u30c7\u30b8\u30bf\u30eb\u30d5\u30a9\u30c8\u30d5\u30ec\u30fc\u30e0\u3001\u8907\u6570\u306e\u5199\u771f\u306e\u7d44\u307f\u5408\u308f\u305b\uff09\u3002\n* Human:\u5199\u771f\u306e\u4e2d\u306e\u4eba\u9593\u3002\n* Occlusion:\u30da\u30c3\u30c8\u306e\u4e00\u90e8\u3092\u30d6\u30ed\u30c3\u30af\u3059\u308b\u7279\u5b9a\u306e\u671b\u307e\u3057\u304f\u306a\u3044\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff08\u3064\u307e\u308a\u3001\u4eba\u9593\u3001\u30b1\u30fc\u30b8\u3001\u307e\u305f\u306f\u67f5\uff09\u3002\u3059\u3079\u3066\u306e\u30d6\u30ed\u30c3\u30ad\u30f3\u30b0\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u30aa\u30af\u30eb\u30fc\u30b8\u30e7\u30f3\u3068\u898b\u306a\u3055\u308c\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3053\u3068\u306b\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002\n* Info:\u30ab\u30b9\u30bf\u30e0\u8ffd\u52a0\u3055\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u307e\u305f\u306f\u30e9\u30d9\u30eb\uff08\u3064\u307e\u308a\u3001\u30da\u30c3\u30c8\u306e\u540d\u524d\u3001\u8aac\u660e\uff09\u3002\n* Blur:\u7279\u306b\u30da\u30c3\u30c8\u306e\u76ee\u3084\u9854\u306e\u7126\u70b9\u304c\u306f\u3063\u304d\u308a\u3057\u3066\u3044\u306a\u3044\u304b\u3001\u30ce\u30a4\u30ba\u304c\u591a\u3044\u3002\u307c\u304b\u3057\u30a8\u30f3\u30c8\u30ea\u306e\u5834\u5408\u3001\u300c\u76ee\u300d\u5217\u306f\u5e38\u306b0\u306b\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\n* Pawpularity:\u30da\u30c3\u30c8\u306e\u4eba\u6c17(\u9b45\u529b)\u5ea6","c0be95fe":"## \u9b45\u529b\u5ea6\u3054\u3068\u306b\u30b5\u30f3\u30d7\u30eb\u3092\u8868\u793a\u3057\u3066\u307f\u308b","67d67370":"### \u9b45\u529b\u5ea6\u304c70\u4ee5\u4e0a80\u672a\u6e80\u3092\u8868\u793a"}}