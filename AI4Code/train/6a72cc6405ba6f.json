{"cell_type":{"38ad66b0":"code","7f5543d4":"code","b525958b":"code","52f89b9e":"code","e5825248":"code","9d6233f9":"code","bdf2073b":"code","b9c13587":"code","8ed99418":"code","c7f18eb4":"code","52bb8f0c":"code","74a70bde":"code","9040ced6":"code","cb7df15e":"code","0ffb369b":"code","42a49fe7":"code","a4fb1fa2":"code","ddd61d5c":"code","d83059d2":"code","9712661f":"code","a0e9c59c":"code","a434afcc":"code","5840fecd":"code","54152e48":"code","b57f2d95":"code","655f9193":"code","6cdb16be":"code","201c30ea":"code","544da391":"code","9242d7ec":"code","35954b55":"code","6b78d443":"code","792a2466":"code","012c74f3":"code","3541a0f6":"code","cf7cb417":"code","90185581":"code","01105686":"code","ec48145c":"code","549eeac3":"code","a6c5e06f":"code","5824cbc4":"code","f10e187f":"code","4ede3746":"code","a4f383f5":"code","c716637e":"code","75e20773":"code","2333a50e":"code","78760f80":"code","00e59de7":"code","88486658":"code","9be3babc":"code","5d2b7159":"code","34fba30d":"code","4be85cb7":"code","7b611d95":"code","818aa1c1":"code","ac7fe25c":"code","15b35e59":"code","6d41db5d":"code","f26e91f3":"code","6a0b5eb2":"code","b8905bc2":"code","35dc961d":"code","bf8cc340":"code","434515ef":"code","0e09de6c":"markdown"},"source":{"38ad66b0":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","7f5543d4":"quran_original = pd.read_csv('..\/input\/the-holy-quran\/Arabic-Original.csv',header=None)","b525958b":"quran_original.head()","52f89b9e":"quran = quran_original[0].str.split('|', expand = True)","e5825248":"quran.columns = ['surah','ayah','text']","9d6233f9":"from nltk.tokenize import RegexpTokenizer","bdf2073b":"def tashkeel_remover(word) :\n    \"\"\"\n    Function to remove tshkeel from a word.\n    The input is a single word with tshkeel, and \n    the output is a single word without tashkeel.\n    \"\"\"\n    tokenizer = RegexpTokenizer('[\u0621-\u064a]')\n    tokens = tokenizer.tokenize(word)\n    word_no_tashkeel = ''.join(tokens)\n    return(word_no_tashkeel) ","b9c13587":"quran['tokinized_text'] = [ i.split(' ') for i in quran['text']]\nquran['text_no_tashkeel'] = [[tashkeel_remover(word) for word in ayah]for ayah in quran['tokinized_text']]\nquran['clean_text'] = quran['text_no_tashkeel'].apply(lambda i : ' '.join(i))","8ed99418":"quran.head()","c7f18eb4":"quran['ayah_words'] = quran['text_no_tashkeel'].apply(lambda i : len(i))\nquran['ayah_letters_with_tashkeel'] = quran['text'].apply(lambda i : len(i))\nquran['ayah_letters'] = quran['clean_text'].apply(lambda i : len(i))\nquran['ayah_letters_no_spaces'] = quran['ayah_letters'] - (quran['ayah_words'] - 1)\nquran['mean_letters\/word'] = quran['ayah_letters_no_spaces'] \/ quran['ayah_words']","52bb8f0c":"quran.head()","74a70bde":"quran[quran['surah']=='2']['text'][4:5]","9040ced6":"words_by_surah = quran.groupby('surah').agg({'ayah_words':'sum'}).reset_index()","cb7df15e":"words_by_surah.columns = ['surah', 'surah_words']","0ffb369b":"words_by_surah","42a49fe7":"quran.describe()","a4fb1fa2":"quran_by_surah = quran[['surah','clean_text']]","ddd61d5c":"quran_by_surah.head()","d83059d2":"surah_list = []\nfor i in quran_by_surah['surah'].unique():\n    surah_list.append(list(quran_by_surah[quran_by_surah['surah'] == i]['clean_text']))","9712661f":"quran_df = pd.DataFrame()\nquran_df['surah'] = quran_by_surah['surah'].unique()\nquran_df['text'] = surah_list","a0e9c59c":"quran_df['clean_text'] = quran_df['text'].apply(lambda i : ' '.join(i))","a434afcc":"#fetched from https:\/\/en.wikipedia.org\/wiki\/Meccan_surah\nmakki_surah_list = [96, 68, 73, 74, 1, 111, 81, 87, 92, 89, 93, 94, 103, 100, 108, 102, 107, 109, 105, 113, 114,\n                  112, 53, 80, 97, 91, 85, 95, 106, 101,75, 104, 77, 50, 90, 86, 54, 38, 7, 72, 36, 25, 35, 19,\n                  20, 56, 26, 27, 28, 17, 10, 11, 12, 15, 6, 37, 31, 34, 39, 40, 41, 42, 43, 44, 45, 46, 51, 88,\n                  18, 16, 71, 14, 21, 23, 32, 52, 67, 69, 70, 78, 79, 82, 84, 30, 29, 83]","5840fecd":"quran_df['makki'] = [1 if int(i) in makki_surah_list else 0 for i in quran_df['surah']]","54152e48":"quran_df['ayahs'] = quran_df['text'].apply(lambda i : len(i))","b57f2d95":"quran_df['suras_letters'] = quran_df['clean_text'].apply(lambda i : len(i))","655f9193":"quran_df","6cdb16be":"df_quran = quran_df.merge(words_by_surah)","201c30ea":"df_quran","544da391":"df_quran['surah_letters_no_spaces'] = df_quran['suras_letters'] - (df_quran['surah_words'] - 1)","9242d7ec":"df_quran","35954b55":"df_quran['mean_letters\/word'] = df_quran['surah_letters_no_spaces'] \/ df_quran['surah_words']","6b78d443":"df_quran","792a2466":"df_quran.index","012c74f3":"# fig = plt.figure(figsize=(10,10))\nsns.pairplot(df_quran,hue='makki')","3541a0f6":"df_quran.describe()","cf7cb417":"quran.describe()","90185581":"quran.corr()","01105686":"df_quran.corr()","ec48145c":"quran_to_word = []\nfor i in quran['text_no_tashkeel']:\n    for c in i:\n        quran_to_word.append(c)\n        ","549eeac3":"len(quran_to_word)","a6c5e06f":"quran_to_word.count('')","5824cbc4":"countofwords = {i: quran_to_word.count(i) for i in quran_to_word}","f10e187f":"del countofwords['']","4ede3746":"word_count = pd.DataFrame()\nword_count['word'] = countofwords.keys()\nword_count['freq'] = countofwords.values()","a4f383f5":"word_count.sort_values('freq',ascending=False, inplace=True)","c716637e":"word_count.head(20)","75e20773":"# stopwords","2333a50e":"pip install tashaphyne\n","78760f80":"pip install Arabic-Stopwords","00e59de7":"from tashaphyne import stopwords as tashstopwords\nfrom nltk.corpus import stopwords as nltkstopwords\nimport arabicstopwords.arabicstopwords as stp","88486658":"#https:\/\/github.com\/mohataher\/arabic-stop-words\nstopWords = open(\"..\/input\/aranizi-dailect-training-data\/arabicstopwords.txt\").read().splitlines()","9be3babc":"print('Number of Arabic stopwords in NLTK package:            ',len(nltkstopwords.words('arabic')))\nprint('Number of Arabic stopwords from github.com\/mohataher:  ',len(stopWords))\nprint('Number of Arabic stopwords in Tashphyne package:       ',len(tashstopwords.STOPWORDS.keys()))\nprint('Number of Arabic stopwords in arabicstopwords package: ',len(stp.STOPWORDS.keys()))","5d2b7159":"def stopword_remover(text_list ,stopword_lib):\n    text_no_stop = [word for word in text_list if not word in stopword_lib]\n    print('Original word count: ',len(text_list))\n    print('No stopwords count: ' ,len(text_no_stop))","34fba30d":"stopwords_list = [('NLTK', nltkstopwords.words('arabic')),\n                  ('mohataher', stopWords),\n                  ('tash', tashstopwords.STOPWORDS.keys()),\n                  ('stp', stp.STOPWORDS.keys())]","4be85cb7":"for name, stop in stopwords_list:\n    print(name)\n    stopword_remover(quran_to_word,stop)","7b611d95":"text_no_stop_NLTK = [word for word in quran_to_word if not word in nltkstopwords.words('arabic')]\ntext_no_stop_mohataher = [word for word in quran_to_word if not word in stopWords]\ntext_no_stop_tash = [word for word in quran_to_word if not word in tashstopwords.STOPWORDS.keys()]\ntext_no_stop_stp = [word for word in quran_to_word if not word in stp.STOPWORDS.keys()]","818aa1c1":"from tashaphyne.stemming import ArabicLightStemmer\nimport pyarabic.arabrepr\narepr = pyarabic.arabrepr.ArabicRepr() \nrepr = arepr.repr\nArListem = ArabicLightStemmer()","ac7fe25c":"from nltk.stem.isri import ISRIStemmer\nisrst = ISRIStemmer()","15b35e59":"pip install snowballstemmer","6d41db5d":"from snowballstemmer import stemmer\nar_stemmer = stemmer(\"arabic\")","f26e91f3":"len(text_no_stop_stp)","6a0b5eb2":"len(np.unique(text_no_stop_stp))","b8905bc2":"stemmed_words_tash = [ArListem.light_stem(i) for i in np.unique(text_no_stop_stp)]\nstemmed_words_nltk_isrst = [isrst.stem(i) for i in np.unique(text_no_stop_stp)]\n# stemmed_words_nltk_arlstem = [arlstem.stem(i) for i in np.unique(text_no_stop_stp)]\nstemmed_words_ar_stemmer = [ar_stemmer.stemWord(i) for i in np.unique(text_no_stop_stp)]","35dc961d":"stemmed_text = pd.DataFrame()\nstemmed_text['original'] = np.unique(text_no_stop_stp)\nstemmed_text['tash'] = stemmed_words_tash\nstemmed_text['nltk_isrst'] = stemmed_words_nltk_isrst\n# stemmed_text['nltk_arlstem'] = stemmed_words_nltk_arlstem\nstemmed_text['ar_stemmer'] = stemmed_words_ar_stemmer","bf8cc340":"stemmed_text.iloc[0:50]","434515ef":"word_counts_with_stem = {i:len(stemmed_text[i].unique()) for i in stemmed_text.columns}\nword_counts_with_stem","0e09de6c":"# The Holy Quran ( Arabic ), Tashkeel Removal, word count, and comparing  different  Stopwords and Stemmers.\n"}}