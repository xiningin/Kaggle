{"cell_type":{"07188dc8":"code","4457a7c3":"code","7e75d161":"code","77de5678":"code","804b6b75":"code","72c6dfd5":"code","1adefc28":"code","8c8d4bcc":"code","3b618f3a":"code","d7480448":"code","b88d59cb":"code","ea0f4b25":"code","21fad2f9":"code","d87130dc":"code","4390d384":"code","792edb0a":"code","2f8ff226":"code","47e229a6":"code","930ccd14":"code","a458815d":"code","71ec0d6e":"code","58154a75":"code","c79e0e51":"code","8683fc9a":"code","a903e553":"markdown","1e97b539":"markdown","11b4306f":"markdown","ce7032e0":"markdown","dc576951":"markdown","c594270d":"markdown","dcf915ac":"markdown","4b264b40":"markdown","b82c11d4":"markdown","93a9dd7d":"markdown","a2ea9078":"markdown","d27ce3ed":"markdown","b6322323":"markdown","ebf9ae10":"markdown","ffd8ab18":"markdown","77f38527":"markdown","5fcb502b":"markdown","f382e7c5":"markdown","4f5bb737":"markdown","4cc2c601":"markdown","6f92dc8a":"markdown","1d3b7c50":"markdown","64f62871":"markdown","fb0a8324":"markdown","c16ad34f":"markdown","15fa0cda":"markdown","7b7750a1":"markdown","0c45fd0a":"markdown","983f4c41":"markdown","34406761":"markdown","4a31a204":"markdown","0c599694":"markdown","480fc5a2":"markdown","f20bcd78":"markdown","a8c3cd2f":"markdown","1ac6c643":"markdown"},"source":{"07188dc8":"#Basic libraries\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pydicom","4457a7c3":"df_train = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/train.csv')\ndf_train.head()","7e75d161":"df_test = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/test.csv')\ndf_test.head()","77de5678":"df_train.info()","804b6b75":"df_train.describe().style.background_gradient(cmap='Blues')","72c6dfd5":"df_train.Patient.nunique(), df_test.Patient.nunique()","1adefc28":"plt.figure(figsize=(15,8))\n\nsns.countplot(x='Age',data=df_train,palette='gist_rainbow')\n\nplt.title('Age Distribution')\n\nplt.show()","8c8d4bcc":"plt.figure(figsize=(8,6))\nsns.distplot(a=df_train['FVC'],color='r')\n\nplt.grid()\n\nplt.title('FVC Distribution')\n\nplt.show()","3b618f3a":"plt.figure(figsize=(18,8))\nsns.countplot(x='Weeks',data=df_train, palette='hsv_r')\nplt.title('Weeks Distribution')\nplt.show()","d7480448":"plt.figure(figsize=(8,6))\nsns.countplot(x='SmokingStatus',data=df_train, palette='plasma',hue='SmokingStatus')\nplt.title('Smoking Status Distribution')\nplt.show()","b88d59cb":"plt.figure(figsize=(8,6))\nsns.distplot(a= df_train['Percent'], color='purple')\nplt.grid()\nplt.title('Percent Distribution')\nplt.show()","ea0f4b25":"plt.figure(figsize=(8,6))\nsns.countplot(x='Sex',data=df_train, palette='hsv',hue='SmokingStatus')\nplt.grid()\nplt.show()","21fad2f9":"plt.figure(figsize=(15,8))\n\nsns.scatterplot(x='FVC',y='Percent',data=df_train,palette='seismic_r',hue='Sex',style='Sex')\nplt.show()","d87130dc":"a= df_train.groupby(['SmokingStatus','Age','Percent'])['FVC'].mean().reset_index().sort_values(by='FVC',ascending = False)\na.head(20).style.background_gradient(cmap='Purples')","4390d384":"plt.figure(figsize=(15,15))\n\nsns.pairplot(data=a, hue='SmokingStatus',palette='hsv',height=3,aspect=1)\nplt.show()","792edb0a":"b= df_train.groupby(['Sex','SmokingStatus'])['FVC'].mean().reset_index().sort_values(by='FVC',ascending = False)\nb.style.background_gradient(cmap='winter_r')","2f8ff226":"plt.figure(figsize=(10,6))\n\nsns.barplot(x='SmokingStatus',y='FVC',data=b,hue='Sex',palette='gist_rainbow_r')\nplt.grid()\nplt.title('FVC Vs Smoking Status')\nplt.show()","47e229a6":"week= df_train.groupby(['SmokingStatus','Weeks'])['FVC'].mean().reset_index().sort_values(by='FVC',ascending = False)\nweek.head(20).style.background_gradient(cmap='Oranges')","930ccd14":"plt.figure(figsize=(15,10))\n\nsns.lineplot(x='Weeks',y='FVC',data=week,hue='SmokingStatus',style='SmokingStatus',markers=['*','o','^'])\nplt.grid()\nplt.title('Weekly Distribution Of FVC')\nplt.show()","a458815d":"plt.figure(figsize=(15,9))\n\nsns.scatterplot(x='Age',y='FVC',data=df_train,palette='seismic_r',hue='Sex',style='Sex')\nplt.title('Age-wise Distribution Of FVC')\nplt.show()","71ec0d6e":"plt.figure(figsize=(15,9))\nsns.scatterplot(x='Age',y='Percent',data=df_train,palette='hsv',hue='Sex',style='Sex')\nplt.title('Age-wise Distribution Of Percent')\nplt.show()","58154a75":"plt.figure(figsize=(15,9))\nsns.violinplot(x='SmokingStatus',y='Age',data=df_train,palette='gist_rainbow_r',hue='Sex',split=True,saturation=1)\nplt.title('Age vs Smoking Status')\nplt.show()","c79e0e51":"\npath = '..\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00007637202177411956430\/10.dcm'\nimg = pydicom.dcmread(path)\nplt.figure(figsize=(6,6))\nplt.imshow(img.pixel_array,cmap='Greys_r')\nimg\n\n","8683fc9a":"path = '..\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00025637202179541264076\/'\n\nplt.figure(figsize=(15,15))\nfor i in range(1,21):\n    file = path + str(i) + '.dcm'\n    plt.subplot(5,4,i)\n    img = pydicom.dcmread(file)\n    plt.imshow(img.pixel_array,cmap='Greys_r')\n    \n\n","a903e553":"## 13. Age Vs Smoking Status:","1e97b539":"## 9. FVC Vs Smoking Status:","11b4306f":"## 5. Percent Column:","ce7032e0":"# IMAGE ANALYSIS:\n\nLets analysis some of the given images of CT scans.","dc576951":"Nice! The **PERCENT** and **FVC** columns have a linear relationship because percent column is a computed field which approximates the patient's FVC as a percent of the typical FVC for a person of similar characteristics.","c594270d":"## 10. Weekly Distribution Of FVC:","dcf915ac":"Most of the people have FVC between 2000 ml to 3500 ml.","4b264b40":"## 1. Age Column:","b82c11d4":"More CT scans are held in between week 5 to week 58 and very less number of cases of this disease after that.","93a9dd7d":"## Images For A Particular Patient:","a2ea9078":"## 11. Age-wise Distribution Of FVC:","d27ce3ed":"Great!! we haven't any null values in the dataset.Also the data types are corrrect.","b6322323":"### Hello Kagglers!\n\nIn this kernel i cover the domain knowledge about this disease, Exploratory data analysis and Images visualisation which are given in .dcm format. The background knowledge plays an important role in data understanding, in analysis & in model building. Here i describe all the basic concepts about **Pulmonary Fibrosis** disease.\n\n### If you like this notebook PLEASE UPVOTE!!\n\n","ebf9ae10":"## 7. FVC Vs Percent:","ffd8ab18":"OKK!! Lets now check the uniqueness of the patients in the given dataset.","77f38527":"## 2. FVC Column:","5fcb502b":"**WOW!** Guys be ready for the **SHAKE-UPS**...we have provided the data for 176 unique patients and only 5 patients data for testing purpose.","f382e7c5":"### Observations:\n\n* There is a variation in the images of CT scans for a particular patient.\n* Image augmentation can be applied for better results of the model.\n* It may be difficult to make model on only image basis.\n\nThese are only mey guesses and you are feel free to give suggestions.\n","4f5bb737":"## 3. Weeks Distribution:","4cc2c601":"The percent column may be varies with FVC column.We will see it later.","6f92dc8a":"## Single Image:","1d3b7c50":"### 2. How it can be detected?\n\nThis disease can be detected by following tests:\n\n**Chest X-ray:** A chest X-ray shows images of your chest. This may show the scar tissue typical of pulmonary fibrosis, and it may be useful for monitoring the course of the illness and treatment. However, sometimes the chest X-ray may be normal, and further tests may be required to explain your shortness of breath.\n\n**Computerized tomography (CT) scan:**. CT scanners use a computer to combine X-ray images taken from many different angles to produce cross-sectional images of internal structures in the body. A high-resolution CT scan can be particularly helpful in determining the extent of lung damage caused by pulmonary fibrosis. Also, some kinds of fibrosis have characteristic patterns.\n\n![image.png](attachment:image.png)\n\n**Echocardiogram:** An echocardiogram uses sound waves to visualize the heart. It can produce still images of your heart's structures, as well as videos that show how your heart is functioning. This test can evaluate the amount of pressure occurring in the right side of your heart.\n\nThere are many other tests for the detection but i'm not going to write them all.","64f62871":"## BACKGROUND KNOWLEDGE:-\nOk, lets starts with some questions...\n\n\n### 1. What is Pulmonary Fibrosis?\n\nPulmonary fibrosis is a lung disease that occurs when lung tissue becomes damaged and scarred. This thickened, stiff tissue makes it more difficult for your lungs to work properly. As pulmonary fibrosis worsens, you become progressively more short of breath.\n\nThe lung damage caused by pulmonary fibrosis can't be repaired, but medications and therapies can sometimes help ease symptoms and improve quality of life. For some people, a lung transplant might be appropriate.\n\n![image.png](attachment:image.png)\n\nPulmonary fibrosis scars and thickens the tissue around and between the air sacs (alveoli) in your lungs. This makes it more difficult for oxygen to pass into your bloodstream.\n\n\n","fb0a8324":"#### NOTE: The values of FVC is in mililitres(ml) and the negative values of weeks may be indicating the previous images from week=0.","c16ad34f":"I think the Percent and FVC column is strongly corelated and more useful the for model.","15fa0cda":"# WHAT'S NEXT:\n\nI will try to update this kernel as soon as i got some new infromation and in future i'll surely do these things:\n\n* Improved Visualizations\n* Build the model\n* Image augmentation\n\nAs i am a beginner too in this feild and tried to learn somthing new daily. I make this kernel beginner friendly and update it as i get some new info.\n\nI hpoe you like my work. **PLEASE UPVOTE** to keep me motivated to write more.\n\n**Thank You**","7b7750a1":"As expected the Males are ahead in smoking status wheather they are ex-smoker or current.","0c45fd0a":"## 8. The Pair Plots Relations:","983f4c41":"# Exploratory Data Analysis:\n\nLets do some EDA stuff on the dataset for better understanding.","34406761":"#### Now we have the basic understanding of the given disease and its related terms. Also we have provided the CT scan images of chest in .dcm format and other data in csv files.In the dataset, we are provided with a baseline chest CT scan and associated clinical information for a set of patients. A patient has an image acquired at time Week = 0 and has numerous follow up visits over the course of approximately 1-2 years, at which time their FVC is measured.We are asked to predict the final three FVC measurements for each patient, as well as a confidence value in your prediction.","4a31a204":"## Preliminaries\nNow Let's start digging into the data...","0c599694":"The age range of 60 to 75 have more number of cases or they have more number of weekly tests.","480fc5a2":"## 12. Age-wise Distribution Of Percent:","f20bcd78":"Alright, we now know that what the disease is and how it can be treated. But what is **FVC** now? Lets find out...\n\n### 3. What is FVC?\n\nForced vital capacity (FVC) is the amount of air that can be forcibly exhaled from your lungs after taking the deepest breath possible, as measured by spirometry.\n\nTraditional staging for pulmonary fibrosis is determined by how a patient scores on a forced vital capacity (FVC) test.  The test is a simple one that takes only about three minutes to complete. Patients inhale and then exhale for a sustained period of time into a spirometry device that measures maximal expiration and maximal inspiration (sustained breathing out followed by inhalation).\n\nIPF severity is determined based on spirometry scores. A predicted FVC value of greater than 75% is considered mild, 50% to 75% is considered moderate, 25% to 49% is severe, and less than 25% is deemed very severe.\n","a8c3cd2f":"## 6. Sex Vs Smoking Status:","1ac6c643":"## 4. Smoking Status Column:"}}