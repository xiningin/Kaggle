{"cell_type":{"e00b315b":"code","64926e91":"code","a40c9c49":"code","e149ae28":"code","4711ee8e":"code","4aa7e969":"markdown","4f5eeb88":"markdown","5072c5d9":"markdown"},"source":{"e00b315b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\n# bokeh packages\nfrom bokeh.io import output_file,show,output_notebook,push_notebook\nfrom bokeh.plotting import *\nfrom bokeh.models import ColumnDataSource,HoverTool,CategoricalColorMapper\nfrom bokeh.layouts import row,column,gridplot,widgetbox\nfrom bokeh.models.widgets import Tabs,Panel\noutput_notebook()\n# Any results you write to the current directory are saved as output.","64926e91":"# As you can see from info method. There are 16598.\n# However, Year has 16327 entries. That means Year has NAN value.\n# Also Year should be integer but it is given as float. Therefore we will convert it.\n# In addition, publisher has NAN values.\ndata = pd.read_csv(\"..\/input\/vgsales.csv\")\ndata.info()\n# Lets start with dropping nan values\ndata.dropna(how=\"any\",inplace = True)\ndata.info()\n# Then convert data from float to int\ndata.Year = data.Year.astype(int)\ndata.head()     # head method always gives you overview of data.","a40c9c49":"# bokeh packages\n# I make year as index\n# Video game sales start from 1980 to 2020.\nfrom IPython.html.widgets import interact\ndata = data.set_index(\"Year\")\nx = data.loc[1980].EU_Sales\ny = data.loc[1980].Global_Sales\noutput_notebook()","e149ae28":"# initial source\nsource = ColumnDataSource(data={\n    \"x\": data.loc[1980].EU_Sales,\n    \"y\": data.loc[1980].Global_Sales,\n    \"Genre\" : data.loc[1980].Genre,\n    \"Publisher\" : data.loc[1980].Publisher,\n        \"Platform\" : data.loc[1980].Platform\n})\n# color map\nfactors = data.Genre.unique().tolist()\ncolors = [\"red\",\"green\",\"blue\",\"black\",\"orange\",\"brown\",\"grey\",\"purple\",\"yellow\",\"cyan\",\"pink\",\"peru\"]\ncolor_mapper = CategoricalColorMapper(factors=factors,palette=colors)\n\n# hover tool\nhover = HoverTool(tooltips = [(\"Genre of game\",\"@Genre\"),(\"Publisher of game\",\"@Publisher\"),(\"Platform of game\",\"@Platform\")])\n\n# plotting\nplot=figure(title =\"Video Game Sales\",tools=[hover,\"crosshair\",\"pan\",\"box_zoom\"])\nplot.circle(\"x\",\"y\",source=source,color=dict(field=\"Genre\", transform=color_mapper), legend='Genre',hover_color =\"red\")\n\n# this is different from what we learn up to now.\n# update method: When slider is changed or when different value from drop down tool is chosen this method is called.\n# In this method x and y axis are updated from drop dawn value and year is updated from slider value.\ndef update(x_axis ,y_axis,year=1980):\n    c1 = x_axis\n    c2 = y_axis\n    new_data = {\n        'x'       : data.loc[year,c1],\n        'y'       : data.loc[year,c2],\n        \"Genre\" : data.loc[year].Genre,\n        \"Publisher\" : data.loc[year].Publisher,\n        \"Platform\" : data.loc[year].Platform\n    }\n    source.data = new_data\n    plot.xaxis.axis_label = c1\n    plot.yaxis.axis_label = c2\n    push_notebook()  # this push method is vital for this update method\n    \nshow(plot,notebook_handle=True) \n","4711ee8e":"# interact with update method\ninteract(update,x_axis=[\"EU_Sales\", \"JP_Sales\", \"Global_Sales\",\"Other_Sales\"], y_axis=[\"EU_Sales\", \"JP_Sales\", \"Global_Sales\",\"Other_Sales\"],year = (1980,2020))","4aa7e969":"## Callbacks\n* I use slider to adjust year\n* There are sales in dropdown tool box.\n* Slider\n* Dropdown","4f5eeb88":"# INTRODUCTION\nIn this tutorial, we are going to learn basics of bokeh library. Bokeh is interactive visualization library. \n<br> I divide bokeh tutorial into 2 parts. Because kaggle has problem while running bokeh that cause crash in browser.\n1. PART 1: https:\/\/www.kaggle.com\/kanncaa1\/interactive-bokeh-tutorial-part-1\/editnb\n    1. Basic Data Exploration with Pandas\n    1. Explanation of Bokeh Packages\n    1. Plotting with Glyphs\n    1. Additional Glyps\n    1. Data Formats\n    1. Customizing Glyphs\n    1. Layouts\n    1. Linking Plots\n1. PART 2: \n    1. Callbacks  \n        * Slider\n        * dropdowns","5072c5d9":"# CONCLUSION\nIf you like the bokeh library, I am going to dive deep into bokeh.\n<br> I divide bokeh tutorial into 2 parts. Because kaggle has problem while running bokeh that cause crash in browser.\n<br> Also look at Part 1: https:\/\/www.kaggle.com\/kanncaa1\/interactive-bokeh-tutorial-part-1\/editnb\n\n### If you have any question, I am happy to hear it. I thank Bryan Van de Ven who is developer of Bokeh for this useful visualization library."}}