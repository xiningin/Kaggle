{"cell_type":{"db6d5a7a":"code","39afbd28":"code","a2967365":"code","39bfea19":"code","89b188f7":"code","29f5f1ec":"code","d6b76eb3":"code","d49f1dfc":"code","88e03c45":"code","16a5744c":"code","73938c4e":"code","f0829bea":"code","acc9cd99":"code","9299214b":"code","e754ead2":"code","1553759d":"code","62809f2c":"code","328fa5ab":"code","c3667ae8":"code","2d4cd50a":"code","b5663f6f":"code","5f8a7204":"code","7f0706a9":"code","0fab614b":"code","d4d68071":"code","06f052d4":"code","3237f9b9":"code","2b979294":"code","cc943192":"code","6aedcc0a":"code","48a6922d":"code","3a6af152":"code","3f25f5f5":"code","55a60242":"code","38c4f506":"code","d260fd30":"code","8fb97cc5":"code","1159899e":"code","ab45d6fc":"code","41ba95a3":"code","0134d000":"code","53a871e7":"code","90b11671":"code","4246d0c2":"code","a7c85ddf":"code","7fefa743":"code","f94b9569":"code","c07121b4":"code","fff11f2d":"markdown","a31f837c":"markdown","bd998ca4":"markdown","7eaf12fc":"markdown","cb7d6404":"markdown","1800b1d0":"markdown","1d681c6c":"markdown","5bdd93a6":"markdown","e320b559":"markdown","3a9811d9":"markdown","5b8f7ae3":"markdown","fad386a0":"markdown","0dda454b":"markdown","0525b864":"markdown","f2e6a091":"markdown","9227466b":"markdown","03431c89":"markdown","e070320e":"markdown","42c0f7a4":"markdown","116a711d":"markdown","710bcdad":"markdown","4e898717":"markdown","9fb4ba99":"markdown","dae63ec7":"markdown","c81088bd":"markdown","4e2ec921":"markdown","ae2853d5":"markdown","a7663635":"markdown","204c16fe":"markdown","dc1071fb":"markdown","4c558ad0":"markdown","ead25abf":"markdown","9c59e411":"markdown","c9c01462":"markdown","a47f0f7b":"markdown","579eb90c":"markdown","41d7bb0a":"markdown","e79e24c7":"markdown","98b26062":"markdown","e088146a":"markdown","ad7dcbdc":"markdown","3c1555b9":"markdown"},"source":{"db6d5a7a":"#Importing the Libraries\nimport numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n#Turning off the warnings\nimport warnings\nwarnings.filterwarnings('ignore')","39afbd28":"#To display all the columns of the dataframe\npd.set_option('display.max_columns',70)","a2967365":"#Reading the FIFA20 dataset\nfifa = pd.read_csv(\"\/kaggle\/input\/fifa-player-stats-database\/FIFA20_official_data.csv\")","39bfea19":"#Dimension of the dataset\nfifa.shape","89b188f7":"#head of the dataset\nfifa.head()","29f5f1ec":"#columns of the dataframe\nfifa.columns","d6b76eb3":"#INFO() function\nfifa.info()","d49f1dfc":"#Some initial stats for the df\nfifa.describe()","88e03c45":"#Copy of our pulled in df\nfifa_copy = fifa.copy()","16a5744c":"fifa.head()","73938c4e":"#Dropping some of the columns - ID, Photo, Flag, Club Logo\nfifa.drop(['ID','Photo','Flag','Club Logo'],axis=1,inplace=True)","f0829bea":"#Dropping Real Face column\nfifa.drop(['Real Face'],axis=1,inplace=True)","acc9cd99":"#Filtering for rows which have Loaned From column not NULL \nfifa.loc[~fifa['Loaned From'].isnull()][:5]","9299214b":"#Checking whether all values are defined in Euros or not\nfifa.loc[fifa['Value'].str.startswith('\u20ac')].shape[0]","e754ead2":"#Checking the same for Wages.\nfifa.loc[fifa['Wage'].str.startswith('\u20ac')].shape[0]","1553759d":"#Splitting the value column to get just the numeric\nfifa['Value'] = fifa['Value'].str.split('\u20ac')\nfifa['Value'] = fifa['Value'].apply(lambda x:x[1])","62809f2c":"#Splitting the wage column to get just the numeric\nfifa['Wage'] = fifa['Wage'].str.split('\u20ac')\nfifa['Wage'] = fifa['Wage'].apply(lambda x:x[1])","328fa5ab":"#Converting the player value in thousand Euros to Million Euros and then stripping the end denote.\nfifa_value_K = fifa.loc[fifa['Value'].str.endswith('K')]\nfifa_value_K['Value'] = fifa_value_K['Value'].apply(lambda x: x[:-1])\nfifa_value_K['Value'] = fifa_value_K['Value'].astype('float64')\nfifa_value_K['Value'] = fifa_value_K['Value'] \/ 1000","c3667ae8":"#Stripping the end denote for Million Euros Player value\nfifa_value_M = fifa.loc[fifa['Value'].str.endswith('M')]\nfifa_value_M['Value'] = fifa_value_M['Value'].apply(lambda x: x[:-1])\nfifa_value_M['Value'] = fifa_value_M['Value'].astype('float64')","2d4cd50a":"#Converting the player wage in thousand Euros to Million Euros and then stripping the end denote.\nfifa_value_K['Wage'] = fifa_value_K['Wage'].apply(lambda x: x[:-1] if x.endswith('K') else x)\nfifa_value_K['Wage'] = fifa_value_K['Wage'].astype('float64')\nfifa_value_K['Wage'] = fifa_value_K['Wage'] \/ 1000","b5663f6f":"fifa_value_M.loc[fifa_value_M['Wage'].str.endswith(\"M\")]","5f8a7204":"#Converting the player wage in thousand Euros to Million Euros and then stripping the end denote.\nfifa_value_M['Wage'] = fifa_value_M['Wage'].apply(lambda x: x[:-1] if x.endswith('K') else x)\nfifa_value_M['Wage'] = fifa_value_M['Wage'].astype('float64')\nfifa_value_M['Wage'] = fifa_value_M['Wage'] \/ 1000","7f0706a9":"#Concatenating both the splitted up dataframes\nfifa2 = pd.concat([fifa_value_M,fifa_value_K])","0fab614b":"fifa2.shape","d4d68071":"fifa2['Position'] = fifa2['Position'].str.split(\">\")\nfifa2['Position'] = fifa2['Position'].apply(lambda x:x[1])","06f052d4":"fifa2['Weight'] = fifa2['Weight'].apply(lambda x : x[:-3])\nfifa2['Weight'] = fifa2['Weight'].astype('int64')","3237f9b9":"foot = fifa2['Preferred Foot'].value_counts()\nfoot","2b979294":"foot_right = foot[0]\/fifa2['Preferred Foot'].count()*100\nfoot_left = foot[1]\/fifa2['Preferred Foot'].count()*100\nfoot_df = pd.DataFrame({'Percentage':[foot_right,foot_left]},index=['Right Foot','Left Foot'])\nfoot_df.style.background_gradient(cmap='Purples')","cc943192":"#Barplot for the classes\nplt.title(\"Foot Preference\")\nsns.barplot(x=foot_df.index,y=foot_df['Percentage'],palette='Blues')\nplt.show()","6aedcc0a":"fifa2.Age.mean()","48a6922d":"fifa2.head()","3a6af152":"fifa_overall = fifa2.sort_values(['Overall'],ascending=False)[:10]\nfifa_overall[['Name','Overall','Potential','Club','Preferred Foot','Position']].style.background_gradient(cmap='Greens')","3f25f5f5":"fifa_potential = fifa2.sort_values(['Potential'],ascending=False)[:10]\nfifa_potential[['Name','Overall','Potential','Club','Preferred Foot','Position']].style.background_gradient(cmap='Reds')","55a60242":"fifa2.sort_values(['Overall'],ascending=True)[:10]","38c4f506":"fifa2.sort_values(['Potential'],ascending=True)[:10]","d260fd30":"fifa2_germany = fifa2.loc[fifa2.Nationality=='Germany']\nfifa2_germany.sort_values(['Overall'],ascending=False)[:5]","8fb97cc5":"fifa2.loc[fifa2.Age >40]","1159899e":"plt.figure(figsize=(10,30))\nsns.barplot(y=fifa2['Nationality'],x=fifa2['Age'])\nplt.plot()","ab45d6fc":"fifa2.sort_values(['Value'],ascending=False)[:5]","41ba95a3":"#To find the range of values for Weak Foot\nprint(fifa2['Weak Foot'].min())\nprint(fifa2['Weak Foot'].max())","0134d000":"#To find the range of values for Skill Moves\nprint(fifa2['Skill Moves'].min())\nprint(fifa2['Skill Moves'].max())","53a871e7":"fifa2.loc[((fifa2['Weak Foot']==fifa2['Weak Foot'].max()) &(fifa2['Skill Moves']==fifa2['Skill Moves'].max()))]","90b11671":"fifa_pos = fifa2['Position'].value_counts()\nplt.figure(figsize=(15,5))\nsns.barplot(fifa_pos.index,fifa_pos.values)\nplt.show()","4246d0c2":"fifa2.loc[fifa2['Position']=='CF'].count()[0]","a7c85ddf":"fifa2.sort_values(['Weight'],ascending=False)[:1][['Name','Weight']]","7fefa743":"plt.figure(figsize=(15,8))\nsns.boxplot(y=fifa2['Value'],x=fifa2['Position'])\nplt.plot()","f94b9569":"fifa3 = fifa2[['Crossing', 'Finishing', 'HeadingAccuracy',\n       'ShortPassing', 'Volleys', 'Dribbling', 'Curve', 'FKAccuracy',\n       'LongPassing', 'BallControl', 'Acceleration', 'SprintSpeed', 'Agility',\n       'Reactions', 'Balance', 'ShotPower', 'Jumping', 'Stamina', 'Strength',\n       'LongShots', 'Aggression', 'Interceptions', 'Positioning', 'Vision']]","c07121b4":"plt.figure(figsize=(20,7))\nsns.heatmap(round(fifa3.corr(),2),annot=True,cmap='Blues')\nplt.show()","fff11f2d":"No of centre forwards in the player set is the least. We can see how many of them are there in this dataset","a31f837c":"So the Value and Wage of all the players are defined in Euros and also object type, which we can try converting accordingly and try making it as a numeric column. ","bd998ca4":"We can find some HTML code getting in(probably when the data is scrapped) with the Position column. We will clean those.","7eaf12fc":"### Average Age of an International Team in FIFA20","cb7d6404":"`Weak Foot` and `Skill Moves` - NEYMAR, DEMBELE, NANI, VITINHO, RIBERY","1800b1d0":"## BOTTOM 10 IN POTENTIAL AND OVERALL","1d681c6c":"These are the top 10 -> <br>\n`K. Mbapp\u00e9`,`J. Sancho`,`L. Messi`,`Cristiano Ronaldo`,`K. Havertz`,`Jo\u00e3o F\u00e9lix`,`J. Oblak`,`M. ter Stegen`,`Vin\u00edcius Jr.`,`Neymar Jr`<Br>\nOK. Now i got why Chelsea is behind Kai Havertz!!!! GO CHELSEA GO! GO AND GET HIM IN THIS TRANSFER WINDOW.<br>\nSancho probably reached Manchester United as well.","5bdd93a6":"## MAYBE AGE IS JUST A NUMBER FOR BUFFON AND SOME OTHERS!","e320b559":"## WEAK FOOT AND SKILL MOVES","3a9811d9":"Average age of players from Oman team is greater than 35, while that of Singapore is less than 20!!!!!","5b8f7ae3":"All the player weights are mentioned in lbs and is object type. We will remove the postfix and convert it into int column.","fad386a0":"## HEAVIEST PLAYER","0dda454b":"I am going to delete some rows right away, which might not be adding any value adds to our analysis going forward. We would be concentrating around players and their corresponding skills,their respective clubs and countries only. All the url columns and index columns we will try removing right now.","0525b864":"## TOP 10 PLAYERS WITH HIGHEST OVERALL","f2e6a091":"## ANALYSIS ON THE PREFERED FOOT","9227466b":"I can find there are some missing values for columns such as `Club,Joined`, and many missing values for these columns - `LoanedFrom` and `Marking`.","03431c89":"I guess it would be better in this case not to handle the missing values for the columns, because we might end up missing out so many players in that case.<br>\nFor columns such as `Loaned From` might be many for many players as well, since it would be a direct contract with the player.","e070320e":"You can find some of the Loaned players in the list above.<br>\nOhh Perisic was on loan from Inter to Bayern. I was not aware of that! :p","42c0f7a4":"## TOP 5 HIGHEST VALUED PLAYERS","116a711d":"## DATA UNDERSTANDING","710bcdad":"What is the fun in always viewing the top guys! We will see the bottom ones now.","4e898717":"I can find that the resultant dataframe after our preprocess is having less no of records than our initial dataframe. These are records that would be having player Values provided as 0 or any other number which is not in thousands or Millions. We will proceed with this dataset as of now.","9fb4ba99":"These are the top 10 -> <br>\n`L. Messi`,`Cristiano Ronaldo`,`Neymar Jr`,`J. Oblak`,`R. Lewandowski`,`K. De Bruyne`,`E. Hazard`,`V. van Dijk`,`M. ter Stegen`,`S. Man\u00e9`<Br>\nInteresting FACT -> 2 Belgium players in the top10 list.<Br>\nAnd also <B>NO WONDER HOW LIVERPOOL WERE ABLE TO WIN THE PL -> 2 OF THEIR BEST ARE IN THE TOP10 TOO <\/B>","dae63ec7":"Some of the best german players are already listed here! :)","c81088bd":"## PLAYER POSITION","4e2ec921":"## AVERAGE AGE OF ALL THE PLAYERS IN FIFA20 DATASET","ae2853d5":"This clearly indicates the dominance of Right footers in the Football. There are just a small percentage of Left Footers, hence their importance.","a7663635":"#### PLAYER VALUE AND WAGE - DATA CLEANING","204c16fe":"As we expected, the Left Footers are RARE!! there are only 4000 left footers in our player list.","dc1071fb":"Some highly correlated features in the dataset - `Positioning` and `Finishing` ; `Positioning` and `Dribbling`. Infact positioning is a highly correlated feature with many other features as well like - Longshots <br>\nAgility is one other feature we would be interested in. We can see that `Agility` is highly correlated with Balance, Sprintspeed and Acceleration. So you have got an important tip to be a better footballer - <B> BE AGILE!! <\/B>","4c558ad0":"## PREPROCESS AND SOME CLEANING","ead25abf":"## TOP 10 PLAYERS WITH HIGHEST POTENTIAL","9c59e411":"17104 datapoints or player details and 65 features\/columns","c9c01462":"### CLEANING THE POSITION FEATURE ","a47f0f7b":"## GERMAN PLAYERS ","579eb90c":"We can find that there are no players who are having player values in Million euros having wages also in Millions. So we will go with thousand converted to millions","41d7bb0a":"## POSITION VS PLAYER VALUE","e79e24c7":"## AGILITY, AGGRESSION AND THEIR CORRELATIONS","98b26062":"OK WAIT!!! DE BRUYNE!!!!!!. YOU ARE ALREADY MENTIONED IN THE FIRST FEW ROWS!!","e088146a":"Ofcourse there are exceptions for each position. But what we can see from this one is that Right and Left forwards mean values are actually at the top compared to all other positions.","ad7dcbdc":"`Aggression` only helps in `interceptions`. This is what data is saying","3c1555b9":"### CLEANING THE WEIGHT COLUMN"}}