{"cell_type":{"6196a074":"code","64e560f1":"code","11e37b44":"code","f8d1ef2e":"code","c8a29722":"code","0c9adced":"code","1963ee3f":"code","796f6585":"code","5e5cdd94":"code","cc122313":"code","baed76c2":"code","5b51dc14":"code","437809d4":"code","91bdac02":"code","2065856b":"code","3fe61abe":"code","58481fc5":"markdown","fbff12a0":"markdown","2a77151d":"markdown","a9bf0f36":"markdown","6262d73c":"markdown","0cc3405d":"markdown","33882879":"markdown","cb29d76f":"markdown","8376689d":"markdown","f9ca82d0":"markdown","882bc40a":"markdown","79ebdb6c":"markdown","4b9ce62d":"markdown","c6947435":"markdown","ddab724c":"markdown","e6db6c79":"markdown","47b47759":"markdown","97cbab30":"markdown","fa4337ea":"markdown","c627f17d":"markdown","60bc44a6":"markdown","d91fdcb5":"markdown","d178c439":"markdown","8b2f9010":"markdown"},"source":{"6196a074":"!pip install squarify\n!pip install bubbly","64e560f1":"import numpy as np \nimport pandas as pd \n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport folium\nfrom folium.plugins import FastMarkerCluster\nfrom wordcloud import WordCloud\nfrom nltk.corpus import stopwords\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nfrom bubbly.bubbly import bubbleplot\nimport squarify\n\nimport os\nprint(os.listdir(\"..\/input\"))","11e37b44":"df = pd.read_csv('..\/input\/nyc-jobs.csv')\ndf.head()","f8d1ef2e":"print(\"There are {} rows and {} columns in our data\".format(df.shape[0], df.shape[1]))","c8a29722":"df.info()","0c9adced":"def pie_plot(cnts, colors, title):\n    labels = cnts.index\n    values = cnts.values\n    \n    trace = go.Pie(labels=labels,\n                   values=values,\n                   title=title,\n                   textinfo='value',\n                   hoverinfo='label+percent',\n                   hole=.77,\n                   textposition='inside',\n                   marker=dict(colors=colors,\n                               line=dict(color='#000000', width=2)\n                              )\n                  )\n    return trace","1963ee3f":"py.iplot([pie_plot(df['Posting Type'].value_counts(), ['gold', 'cyan'], 'Posting Types')])","796f6585":"plt.style.use('dark_background')\nplt.figure(figsize=(20,20))\n\nvacancies = df.groupby(by='Civil Service Title')['# Of Positions'].sum().sort_values(ascending=False).head(15)\nplt.subplot(211)\ncolor = plt.cm.spring(np.linspace(0, 1, 40))\nvacancies.plot.bar(color=color)\nplt.xticks(rotation=60)\n\nvacancies = df.groupby(by='Business Title')['# Of Positions'].sum().sort_values(ascending=False).head(15)\nplt.subplot(212)\ncolor = plt.cm.autumn_r(np.linspace(0, 1, 40))\nvacancies.plot.bar(color=color)\nplt.xticks(rotation=60)\n\nplt.subplots_adjust(hspace=0.4, wspace=0.4)\nplt.tight_layout()\nplt.show()","5e5cdd94":"def createhmap(keys, vals):\n    x = 0.\n    y = 0.\n    width = 100.\n    height = 100.\n    colcnt = 0\n    values = vals\n\n    normed = squarify.normalize_sizes(values, width, height)\n    rects = squarify.squarify(normed, x, y, width, height)\n\n    color_brewer = ['#f4c242']\n    shapes = []\n    annotations = []\n    counter = 0\n\n    for r in rects:\n        shapes.append( \n            dict(\n                type = 'rect', \n                x0 = r['x'], \n                y0 = r['y'], \n                x1 = r['x']+r['dx'], \n                y1 = r['y']+r['dy'],\n                line = dict( width = 5, color=\"#fff\" ),\n                fillcolor = '#f4c242'\n            ) \n        )\n        annotations.append(\n            dict(\n                x = r['x']+(r['dx']\/2),\n                y = r['y']+(r['dy']\/2),\n                text = str(list(keys)[counter]) +\" (\"+ str(values[counter]) + \")\",\n                showarrow = False\n            )\n        )\n        counter = counter + 1\n        colcnt+=1\n        if colcnt >= len(color_brewer):\n            colcnt = 0\n\n    # For hover text\n    trace0 = go.Scatter(\n        x = [ r['x']+(r['dx']\/2) for r in rects ], \n        y = [ r['y']+(r['dy']\/2) for r in rects ],\n        text = [ str(v)+\" (\"+str(values[k])+\" )\" for k,v in enumerate(keys) ], \n        mode = 'text',\n    )\n\n    layout = dict(\n        height=500, width=900,\n        margin = dict(l=100),\n        xaxis=dict(\n                autorange=True,\n                showgrid=False,\n                zeroline=False,\n                showline=False,\n                ticks='',\n                showticklabels=False\n            ),\n        yaxis=dict(\n                autorange=True,\n                showgrid=False,\n                zeroline=False,\n                showline=False,\n                ticks='',\n                showticklabels=False\n            ),\n        shapes=shapes,\n        annotations=annotations,\n        title=\"Top Job Categories\"\n    )\n    \n    figure = dict(data=[trace0], layout=layout)\n    py.iplot(figure)\n\ncategories = df['Job Category'].value_counts().sort_values(ascending=False).head(5)\ncreatehmap(list(categories.index), list(categories.values))","cc122313":"salaries = df.groupby('Civil Service Title')['Salary Range From'].sum().sort_values(ascending=False).head(15)\n\ntrace1 = go.Bar(x=salaries.values, \n                y=salaries.index, \n                width=0.6,\n                marker=dict(\n                    color='#54d1f7', \n                    line=dict(\n                        color='#54d1f7', \n                        width=1.5)\n                ),\n                orientation='h', name='Highest Average Starting Salary')\n\nlayout = dict(showlegend=False,\n              title='Highest Average Starting Salaries',\n              yaxis=dict(\n                  showgrid=False,\n                  showline=False,\n                  showticklabels=True,\n              ),\n             xaxis=dict(\n                  title='Salaries',\n                  zeroline=False,\n                  showline=False,\n                  showticklabels=True,\n                  showgrid=False,\n             ),\n             margin = dict(l=300, r=20, t=50, b=50),\n            )\nfig = go.Figure(data=[trace1], layout=layout)\npy.iplot(fig)","baed76c2":"salaries = df.groupby('Civil Service Title')['Salary Range To'].mean().sort_values(ascending=False).head(15)\n\ntrace1 = go.Bar(y=salaries.index, x=salaries.values, width=0.6, \n                marker=dict(color='red',\n                            opacity=0.6,\n                            line=dict(color='red',\n                                      width=1.5)\n                           ),\n               orientation='h', name='Highest Salary Jobs')\n\nlayout = dict(showlegend=False,\n             title='Highest Salary Jobs',\n             yaxis=dict(\n                 showgrid=False,\n                 showline=False,\n                 showticklabels=True,\n             ),\n             xaxis=dict(\n                 title='Salaries',\n                 showgrid=False,\n                 showline=False,\n                 showticklabels=True\n             ),\n             margin=dict(l=300, r=20, t=50, b=50),\n            )\n\nfig = go.Figure(data=[trace1], layout=layout)\npy.iplot(fig)","5b51dc14":"freq = df['Salary Frequency'].value_counts()\npy.iplot([pie_plot(freq, colors=['#E1396C', '#96D38C', '#D0F9B1'], title='Salary Frequency')])","437809d4":"py.iplot([pie_plot(df['Full-Time\/Part-Time indicator'].value_counts(), ['orange', 'purple'], 'Job Type')])","91bdac02":"df['start'] = round(df['Salary Range From'])\ndf['start'] = df['start'].astype('int')\n\ndf['end'] = round(df['Salary Range To'])\ndf['end'] = df['end'].astype('int')\n\n\nfig = bubbleplot(df, x_column='start', y_column='end', bubble_column='Agency', size_column='# Of Positions', x_title='Starting Salary', color_column='Agency', \n                 y_title='Salary Range till', title='Finding the right job', x_logscale=False, scale_bubble=3, height=650)\n\npy.iplot(fig)","2065856b":"locations = df['Work Location'].value_counts().sort_values(ascending=False).head(15)\n\ntrace1 = go.Bar(x=locations.values, \n                y=locations.index, \n                width=0.6,\n                marker=dict(\n                    color='#8ddcf4', \n                    line=dict(\n                        color='#54d1f7', \n                        width=1.5)\n                ),\n                orientation='h', name='Job Locations')\n\nlayout = dict(showlegend=False,\n              title='Most Busy Locations',\n              yaxis=dict(\n                  showgrid=False,\n                  showline=False,\n                  showticklabels=True,\n              ),\n             xaxis=dict(\n                  title='Jobs',\n                  zeroline=False,\n                  showline=False,\n                  showticklabels=True,\n                  showgrid=False,\n             ),\n             margin = dict(l=300, r=20, t=50, b=50),\n            )\nfig = go.Figure(data=[trace1], layout=layout)\npy.iplot(fig)","3fe61abe":"from nltk.corpus import stopwords\nplt.style.use('ggplot')\nplt.figure(figsize=(15, 15))\n\nplt.subplot(211)\nwc = WordCloud(background_color='white', max_words=100, stopwords=stopwords.words('english'))\nplt.imshow(wc.generate_from_text(str(df['Minimum Qual Requirements'])), interpolation='bilinear')\ntitle = plt.title('Minimum Qualification', fontsize=20)\nplt.setp(title, color='black')\nplt.axis(\"off\")\n\nplt.subplot(212)\nstopwords = list(stopwords.words('english'))\nstopwords.extend(['NaN', 'Candidate'])\nwc = WordCloud(background_color='white', max_words=100, stopwords=stopwords, colormap='rainbow')\nplt.imshow(wc.generate_from_text(str(df['Preferred Skills'])), interpolation='bilinear')\ntitle = plt.title('Preferred Skills', fontsize=20)\nplt.setp(title, color='black')\nplt.axis(\"off\")\n\nplt.show()","58481fc5":">* Senior General Deputy Manager, Executive Deputy Commissioner, Deputy Commissioner are highest paying jobs ","fbff12a0":">* We can makeout that degree is minimum qualification required in most of the jobs\n>* Preferred Skills include experience, Microsoft office, communication skills etc","2a77151d":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Find the best job for you<\/font><\/div>","a9bf0f36":"* References :- \n>* https:\/\/www.kaggle.com\/shivamb\/2-encourage-diversity-reduce-bias-cola","6262d73c":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Which type of position has most vacancies?<\/font><\/div>","0cc3405d":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Highest Average Starting Salary Job?<\/font><\/div>","33882879":"<div align='center'><font size=\"5\" color=\"#ff3fb5\">Posting Types<\/font><\/div>","cb29d76f":"<div align='left'><font size=\"6\" color=\"#ff3fb5\">Data Description<\/font><\/div>\n&nbsp;\n\n![image.png](attachment:image.png)","8376689d":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Salary Frequency<\/font><\/div>","f9ca82d0":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Highest Salary Job?<\/font><\/div>","882bc40a":">* Engineering Architecture & Planning, Technology Data & Innovation, Public Safety, Inspection & Enforcement have most number of job opportunities","79ebdb6c":"> * Posting Types are mostly internal \n> * Companies prefer city employees than an external employee","4b9ce62d":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Job Categories<\/font><\/div>","c6947435":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Getting Started<\/font><\/div>","ddab724c":"<img src=\"https:\/\/kuwaitjobvacancy.com\/wp-content\/uploads\/2017\/07\/New-York-JOBS.png\" width=\"640\" height=\"426\">","e6db6c79":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Full Time or Part Time Jobs?<\/font><\/div>","47b47759":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">UpVote If this was helpful<\/font><\/div>","97cbab30":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Most Busy Locations<\/font><\/div>","fa4337ea":">* City Park Worker, City Seasonal Aide, Assistant Coorporation Counsel have the most vacancies","c627f17d":">* Used Civil Service titles as they are well organized\n>* Community Coordinator, Civil Engineer, Agency Attorney are highest average starting salary jobs","60bc44a6":">* 94.6% of the Jobs are Full Time\n>* There are more chances to get a job if you are willing to work full time","d91fdcb5":"<div align='center'><font size=\"6\" color=\"#ff3fb5\">Minimum Qualification And Preferred Skills<\/font><\/div>","d178c439":">* 2873 jobs are based on annual salary frequency","8b2f9010":">* 96-05 Horace Harding Expway, 30-30 Thomson Ave L I City Qns etc are the places with most job opportunities"}}