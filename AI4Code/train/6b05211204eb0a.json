{"cell_type":{"1f877bcc":"code","c50e2230":"code","d9499cf5":"code","97d4856d":"code","5d5e579b":"markdown","95c2f02e":"markdown","305003c9":"markdown"},"source":{"1f877bcc":"import numpy as np \nimport pandas as pd\nimport warnings\nwarnings.simplefilter(\"ignore\")\nfrom scipy.special import boxcox\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport plotly\nimport plotly.plotly as py\nimport plotly.offline as offline\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nimport cufflinks as cf\nfrom plotly.graph_objs import Scatter, Figure, Layout\ncf.set_config_file(offline=True)\n# begin secret_token\nfrom shutil import copyfile\ncopyfile(src = \"..\/input\/private-mapbox-access-token\/private_mapbox_access_token.py\", dst = \"..\/working\/private_mapbox_access_token.py\")\nfrom private_mapbox_access_token import *\nprivate_mapbox_access_token = private_mapbox_access_token()\n# end secret_token\ntrain = pd.read_csv('..\/input\/sf-restaurant-scores-lives-standard\/restaurant-scores-lives-standard.csv')\ntrain2 = train[train.risk_category == 'High Risk']","c50e2230":"data = [go.Scattermapbox(\n            lat= train['business_latitude'] ,\n            lon= train['business_longitude'],\n            mode='markers',\n            text=train['business_name'],\n            marker=dict(\n                size= 10,\n                color = 'black',\n                opacity = .8,\n            ),\n          )]\nlayout = go.Layout(autosize=False,\n                   mapbox= dict(accesstoken=private_mapbox_access_token,\n                                bearing=0,\n                                pitch=0,\n                                zoom=12,\n                                center= dict(\n                                         lat=37.782852,\n                                         lon=-122.388405),\n                               ),\n                    width=1800,\n                    height=1200, title = \"Restaurants in San Francisco\")\nfig = dict(data=data, layout=layout)\niplot(fig)","d9499cf5":"# Adapted from https:\/\/www.kaggle.com\/shaz13\/simple-exploration-notebook-map-plots-v2\/\ndata = [go.Scattermapbox(\n            lat= train['business_latitude'] ,\n            lon= train['business_longitude'],\n            mode='markers',\n            text=train['violation_description'],\n            marker=dict(\n                size= 10,\n                color = 'red',\n                opacity = .8,\n            ),\n          )]\nlayout = go.Layout(autosize=False,\n                   mapbox= dict(accesstoken=private_mapbox_access_token,\n                                bearing=0,\n                                pitch=0,\n                                zoom=12,\n                                center= dict(\n                                         lat=37.782852,\n                                         lon=-122.388405),\n                               ),\n                    width=1800,\n                    height=1200, title = \"Health Code Violations at Restaurants in San Francisco\")\nfig = dict(data=data, layout=layout)\niplot(fig)","97d4856d":"# delete secret token\nfrom IPython.display import clear_output; clear_output(wait=True)\n!rm -rf \"..\/working\/\"","5d5e579b":"**Health Code Violations:**","95c2f02e":"**Restaurants:**","305003c9":"**Map of Restaurants in San Francisco**"}}