{"cell_type":{"5231302f":"code","a75682db":"code","69fe8ede":"code","1de3d582":"code","6c6d8252":"code","8e2c4c5e":"code","bdc591a0":"code","805fb152":"code","f28d091e":"code","6ad867d2":"code","05bdcfe6":"code","c2e188f2":"code","a769fc33":"code","92f0514d":"code","366649b8":"code","19c43900":"code","f3ee595d":"code","13853030":"code","1a40d600":"code","9fdcc065":"code","43ea2098":"code","cd199632":"code","a225aeb2":"code","e792fb83":"code","ce353b62":"markdown","3f260934":"markdown","c06f396b":"markdown","da11b705":"markdown"},"source":{"5231302f":"#import libraries\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt #data visualization\nimport seaborn as sns\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \nfrom sklearn.linear_model import LinearRegression\n","a75682db":"#data read\ndf=pd.read_csv(\"..\/input\/fifa-21-age-overall-and-value-of-200-players\/Fifa21ageoverallvalue.csv\")","69fe8ede":"#Show Top Five Rows\ndf.head()","1de3d582":"#Show Last Five Rows\ndf.tail()","6c6d8252":"#Count Rows and Columns\ndf.shape","8e2c4c5e":"#Statistical Informations About Data\ndf.describe()","bdc591a0":"#Dependent and Independent Variables\n#Dependent Variable: Value\n#Independent Variables : Age and Overall\nx=df[['age','overall']]\ny=df['value']","805fb152":"#scatter graphic\nplt.scatter(x['age'],y)\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('Value',fontsize=15)\nplt.show()\n","f28d091e":"plt.scatter(x['overall'],y)\nplt.xlabel('Overall',fontsize=15)\nplt.ylabel('Value',fontsize=15)\nplt.show()\n","6ad867d2":"#Create a regression\nmlr=LinearRegression()\n#Fit\nmlr.fit(x,y)","05bdcfe6":"#interception of regression\nmlr.intercept_","c2e188f2":"#coefficitions of regression\nmlr.coef_","a769fc33":"#find r square \nmlr.score(x,y)","92f0514d":"x.shape","366649b8":"#for find a corrected r square,we must know r suare,number of observations and number of features\nr2=mlr.score(x,y)\n#number of observations (n),shape along axis 0\nn=x.shape[0]\n#number of features (predictors,p) shape alond axis 1\np=x.shape[1]\n#We find the corrected r square with this equation\ncorrected_r2=1-(1-r2)*(n-1)\/(n-p-1)\ncorrected_r2","19c43900":"#I want to see my first 20 players\ndf.head(20)","f3ee595d":"#Let's try prediction.We want to see prediction \/\/ Age:27 Overall:85\nmlr.predict([[27,85]]).round(1)","13853030":"#we can predict a data frame instead of a single data\ndf1=pd.DataFrame({'age':[19,22,25],'overall':[80,80,80]})\ndf1","1a40d600":"#we can predict as multiple\n#But don't forget about output is an array,for this time size is 3\nmlr.predict(df1).round(1)","9fdcc065":"#Let's see it on DataFrame\ndf1['value']=mlr.predict(df1)\ndf1","43ea2098":"#Calculate the p values of variables\n#This module allows us to choose the most suitable models for our regression.\n#import sklearn library\nfrom sklearn.feature_selection import f_regression ","cd199632":"# We'll look at f_regression\n# The f_regression gives the F statistics of simple regressions created with each of the independent variables. It also gives the p-values.\nf_regression(x,y)\n#First array is f stats\n#Second array is p values","a225aeb2":"p_values=f_regression(x,y)[1]\np_values","e792fb83":"p_values.round(3)","ce353b62":"* Let's try Age:27 Overall 85\n* We expect a value close to 62 m","3f260934":"* Value Prediction According To Age and Overall of Players\n* MULTIPLE LINEAR REGRESSION","c06f396b":"* Prediction results\n1. Age : 19 Overall : 80 Value : 48.5\n2. Age : 22 Overall : 80 Value : 43.9\n3. Age : 25 Overall : 80 Value : 39.2 \n\n* We can say about for players of the same overall, the younger one is more expensive.","da11b705":"* Our Value  : 62 m \n* Prediction : 60.7 m"}}