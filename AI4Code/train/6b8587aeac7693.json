{"cell_type":{"642e9f92":"code","2262c240":"markdown","5fda447e":"markdown"},"source":{"642e9f92":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use('fivethirtyeight')\nplt.rcParams.update({'font.size': 16})\n\n# read in the data\nnotebooks = pd.read_csv(\"..\/input\/meta-kaggle\/Kernels.csv\")\n\nnotebooks['Medal'] = notebooks['Medal'].replace(np.nan, 0)\nnotebooks = notebooks.dropna(how='any',subset=['Medal'])[[\"Medal\",\"TotalVotes\"]]\nnotebooks = pd.get_dummies(notebooks, columns=['Medal'])\nnotebooks.rename(columns = {'Medal_0.0':'None', 'Medal_1.0':'Gold', 'Medal_2.0':'Silver', 'Medal_3.0':'Bronze'}, inplace = True)\n\n# pivot\nnotebooks_pivot = notebooks.pivot_table(index=[\"TotalVotes\"], columns=[\"Gold\",\"Silver\",\"Bronze\",\"None\"], aggfunc=len)\nnotebooks_pivot = notebooks_pivot.fillna(0)\n\n# calculate ratios\nnotebooks_pivot[\"Bronze_ratio\"] = notebooks_pivot.iloc[:,1] \/ (notebooks_pivot.iloc[:,0]+notebooks_pivot.iloc[:,1]+notebooks_pivot.iloc[:,2]+notebooks_pivot.iloc[:,3])\nnotebooks_pivot[\"Silver_ratio\"] = notebooks_pivot.iloc[:,2] \/ (notebooks_pivot.iloc[:,0]+notebooks_pivot.iloc[:,1]+notebooks_pivot.iloc[:,2]+notebooks_pivot.iloc[:,3])\nnotebooks_pivot[\"Gold_ratio\"]   = notebooks_pivot.iloc[:,3] \/ (notebooks_pivot.iloc[:,0]+notebooks_pivot.iloc[:,1]+notebooks_pivot.iloc[:,2]+notebooks_pivot.iloc[:,3])\n\n# set the cut-off for the plot\nnotebooks_head = notebooks_pivot.head(120)\n\n# plot\nplt.figure(figsize=(20, 6))\n# stack the bar plot\nplt.bar(notebooks_head.index, notebooks_head[\"Gold_ratio\"], color='gold')\nplt.bar(notebooks_head.index, notebooks_head[\"Silver_ratio\"], bottom=notebooks_head[\"Gold_ratio\"], color='silver')\nplt.bar(notebooks_head.index, notebooks_head[\"Bronze_ratio\"], bottom=notebooks_head[\"Gold_ratio\"]+notebooks_head[\"Silver_ratio\"], color='sienna')\nplt.ylabel(\"Medal ratio\", size=16)\nplt.xlabel(\"Number of votes\", size=16)\nplt.show();","2262c240":"### When will my notebook get its medal?\nGiven that kaggle has a progression system based on votes and medals, on occasions the award of such medals naturally becomes the focus of attention.\nIndeed it is not unusual to see users inquiring on the forums as to when their cherished notebook will get its well deserved medal.\n\nThe following is the [kaggle medal system](https:\/\/www.kaggle.com\/progression) for notebooks:\n\n![](https:\/\/raw.githubusercontent.com\/Carl-McBride-Ellis\/images_for_kaggle\/main\/kaggle_Notebooks_medal_system.png)\n\nHowever, \"*...not all upvotes count towards medals: self-votes, votes by novices, and votes on old posts are excluded from medal calculation*\". Furthermore, if one user votes for multiple notebooks of another user, it is entirely possible that the internal kaggle \"anti-cheating\" system will nullify these upvotes, so as to prevent any potential gaming of the system.\n\nThat is all well and good, but when *exactly* can one expect to receive their medal? Being a site dedicated data science and analytics one would expect little else than to try to answer this question with some actual numbers. Thankfully kaggle kindly provides data on kaggle itself in the form of the [Meta Kaggle](https:\/\/www.kaggle.com\/kaggle\/meta-kaggle) dataset; over 17GB of data covering multiple facets of the site, updated on an almost daily basis. \n\nThanks to the aforementioned dataset here is a plot of the ratio of medals (Bronze, Silver or Gold) with respect to the number of upvotes, calculated for the over 600,000 public notebooks. It is worth noting that only 51,000 of these notebooks actually have medals, the remaining 91% of published notebooks have yet to win their medal.","5fda447e":"### Observations\n* 50% of notebooks have a Bronze medal after 7 upvotes, and 80% have a Bronze medal after 11 upvotes.\n* 50% of notebooks have a Silver medal after 27 upvotes, and 80% have a Silver medal after 36 upvotes.\n* 50% of notebooks have a Gold medal after 65 upvotes, and 80% have a Gold medal after 87 upvotes.\n\n\n### Curiosities\n* There are currently five notebooks that have a Bronze medal, but have zero votes(!)\n* The notebook [\"Credit Card Fraud Detection using Python\"](https:\/\/www.kaggle.com\/renjithmadhavan\/credit-card-fraud-detection-using-python) by Renjith Madhavan has no medal, even after 76 upvotes, and 490 forks.\n* The notebook [\"CNN simples com Keras para Iniciantes\"](https:\/\/www.kaggle.com\/mauriciofigueiredo\/cnn-simples-com-keras-para-iniciantes) by Maur\u00edcio Figueiredo is still Bronze after receiving 186 upvotes and 370 forks."}}