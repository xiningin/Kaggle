{"cell_type":{"711521da":"code","f905828b":"code","9425b9cc":"code","58fe4211":"code","f4fd575c":"code","d256fe48":"code","ba8e8a6c":"code","ccdc8dea":"code","37f9ff67":"code","c299d32e":"code","6cb9d169":"code","15251337":"code","86854541":"code","7e7626a5":"code","a802b28f":"code","2cb88d15":"code","8a305a88":"code","28d7cbb8":"code","0abc73c2":"code","6b63157c":"code","c69c8021":"code","a4f4dd36":"code","bafbf73e":"code","6b054e09":"code","b33be4e9":"code","dbe07edf":"markdown","11bfb839":"markdown","a831dcc7":"markdown","aa868b8f":"markdown","cc391ecf":"markdown","0d22dacf":"markdown","67c117b0":"markdown","29670f86":"markdown","99a4b0c5":"markdown","7b0d3a55":"markdown","3b8b3b75":"markdown","4f8646e2":"markdown","cc065e1a":"markdown","0b3fe61f":"markdown","d12cde4b":"markdown","c462a19c":"markdown","b4e26371":"markdown","43ad0cbb":"markdown","359f040a":"markdown","1ea2d6ab":"markdown","f68cea18":"markdown","080a89ce":"markdown","f7a1648f":"markdown","c1c7a558":"markdown","2bddd98c":"markdown","142d58de":"markdown","854dffaf":"markdown","a1852622":"markdown","26f79512":"markdown","32b46c1d":"markdown","e9feb454":"markdown"},"source":{"711521da":"import pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nfrom pandas.plotting import scatter_matrix\n\ncols = [\"patologie\",\"Length_medicalvisit\",\"F1\",\"Fecha\",\"Geopoint corregido\",\"LOS\",\"Numero di record\",\"Age\",\"Closed\",\"Cp\",\"Created\",\"Id Personal\",\"Id Poblacion\",\"Id Tipo\",\"Latitude\",\"Less18\",\"Longitud_Corregida\",\"Nasistencias\",\"Pathology\",\"Poblacion\",\"State\"]\n\n\nhlt = pd.read_excel('..\/input\/home-medical-visits-healthcare\/Hack18.xlsx')","f905828b":"#Let's see the information about the index dtype and columns, non-null values\nprint(hlt.info())","9425b9cc":"#Before starting to work on the datafrane, let's translate the columns \n#estado : state\n#tiempo_demora : LOS, Length of Stay\n#poblacion : city, checked the dataset and content match with city\n#id_poblacion : internal id given to each city, is not that much useful if we have city name\n#edad_valor : age\n#latitude_corregida : latitude\n#longitude_corregida : longitude\n#patologia : pathology, here the hardest past was to clean this columns that did contain more than pathologies\n#created : created, when registered home visit event was created\n#fecha   : opened, when registed home visit EHR was opened to insert information\n#closed  : closed, when the medic \/ nurse closed the event\n#id_tipo : will leave it like it was, it has only one value (1), so that's not much useful\n#id_personal : will leave it like this...data should be anonymized\n#nasistencias : will leave it like this, it has only one value, should be translated as assistence, asked to a friend expert in this domain\n#               spanish mother tongue, but no translation was found\n#menor : minor, values are 1 or 2, 1 is true(patient is not adult), 2 is False (patient is adult)\n#               just look at 2-3 rows with value 1 and age is <18, 2-3 rows with value 2 and age is >18\nhlt.rename(columns={'Age':'age','fecha':'fetched','menor':'less18','patologia':'pathology','estado':'state','tiempo_demora':'LOS','edad_valor':'age','latitude_corregida':'latitude','longitude_corregida':'longitude'}, inplace=True)","58fe4211":"hlt.loc[hlt['age'] < 0].count()","f4fd575c":"hlt.loc[hlt['age'] > 122].count()","d256fe48":"round(hlt['less18'].value_counts(normalize=True) * 100,1)","ba8e8a6c":"hlt['closed'].isna().sum()","ccdc8dea":"hlt['created'].isna().sum()","37f9ff67":"hlt['created'] = pd.to_datetime(hlt['created'],errors='coerce')\nhlt['closed'] = pd.to_datetime(hlt['closed'],errors='coerce')\n#all wrong datetime are set to NaN\nhlt = hlt[hlt['closed'].notna()]\nhlt = hlt[hlt['created'].notna()]\n","c299d32e":"import numpy as np\nhlt['length_medicalvisit'] = (hlt.closed - hlt.created)\/ np.timedelta64(1, 'h')\n\n#I want to see which visits lasted more than 3 hours.\n#Normally a visit lasts from 30 minutes to 3 hours (https:\/\/www.dailymail.co.uk\/health\/article-7714657\/NHS-doctors-vote-scrap-home-visits-modern-GPs-dont-time.html)\n#if there are visits that last more than 3 hours, is more an input error and when calculating KPI, I will have to consider it\n(hlt['length_medicalvisit']>3).count()\n","6cb9d169":"hlt.groupby('pathology').nunique()","15251337":"hlt.hist(figsize = (16,18))","86854541":"hlt","7e7626a5":"#let's see if there are correlations between numerical columns\nimport matplotlib.pyplot as plt \nfeatures = ['less18','age','LOS','state','cp']\n\naxes = scatter_matrix(hlt[features], alpha=0.5, figsize =(16,16), diagonal='kde')\nplt.show()","a802b28f":"corr = hlt[features].corr()\ncorr","2cb88d15":"hlt['less18'].value_counts(normalize=False) ","8a305a88":"from sklearn.utils import resample\n\nhlt_adult = hlt[hlt.less18==2]\nhlt_less18 =hlt[hlt.less18==1]\n \n# Downsample majority class\nhlt_adult_downsampled = resample(hlt_adult, \n                                 replace=False,    # sample without replacement\n                                 n_samples=14061,     # to match minority class\n                                 random_state=13) # reproducible results\n \n# Combine minority class with downsampled majority class\nhlt_downsampled = pd.concat([hlt_adult_downsampled, hlt_less18])\n \n# Display new class counts\nhlt_downsampled['less18'].value_counts(normalize= True)","28d7cbb8":"import matplotlib.pyplot as plt \nfeatures = ['less18','age','LOS','state','cp']\n\naxes = scatter_matrix(hlt_downsampled[features], alpha=0.5, figsize =(16,16), diagonal='kde')\nplt.show()","0abc73c2":"corr_downsampled = hlt_downsampled[features].corr()\ncorr_downsampled","6b63157c":"hlt_downsampled","c69c8021":"hlt_downsampled['closed'].isna().sum()","a4f4dd36":"hlt_wo_outliers = hlt_downsampled[hlt_downsampled['length_medicalvisit']<3]\nhlt_wo_outliers.groupby('less18')['length_medicalvisit'].mean()","bafbf73e":"#or If you want to do it with python3 and pandas, use this command\nhlt_downsampled.groupby('poblacion')['poblacion'].count().nlargest()","6b054e09":"import pandas as pd\nhlt_downsampled_eng = pd.read_csv('..\/input\/eng-pathologies\/dataset_eng_patholgies.csv',encoding='utf-8',sep=';')\nhlt_downsampled_eng.columns","b33be4e9":"(hlt_downsampled_eng.groupby('Poblacion')['patologie'].value_counts()\n                    .groupby('Poblacion').head(6)                # head(6) should also work\n)","dbe07edf":"Correlation between balanced and unbalanced dataset does not change too much, however the balancing of dataset is a must in order to avoid overfitting or undersampling problems in ML problems other than avoiding penalization on ROC score.<br>Since I'm gonna use the columns **created** and **closed** for creating the KPI for length of medical visits, I would like to see how much NaN I have in closed column.","11bfb839":"# Extracting KPI and insights\nTo extract KPI and insights I will use the downsampled dataset for adult and less than 18 category, in order to give an unbiased insight.<br>From This dataset, the questions that raise are :\n* How the age is distributed in this dataset?\n* What is the pathology that has the highest LOS for both categories ?\n* Which pathologies have highest LOS for Adult ? and for Less than 18?\n* What are the top 5 most frequent pathologies for each place ?\n* Which city have most home medical visits ? and which less? ","a831dcc7":"# Does Correlation change if I balance the dataset?\nThere are several way to handle unbalance in dataset :\n1. Up-sampling Minority Class with sklearn\n2. Down-sampling Majority Class \n3. Change Performance Metric\n4. Penalize Algorithms (Cost-Sensitive Training)\n\nIn this notebook I will use the **2)** method using Sklearn resample and Tomek links","aa868b8f":"**38483** on **40111**, this means that for 95% of input, the date has been inserted wrongly.","cc391ecf":"> This notebook is not affiliated with SEMCAT service !","0d22dacf":"# What are the top 5 most frequent pathologies for each place ?","67c117b0":"Most patients lives in Spain(Specially Andorra and Catalunya) and we can see no outlier (for now...)\n![map%20of%20patients.jpg](attachment:map%20of%20patients.jpg)\n\nBut as soon as I zoom out of map three outliers are visualized in map chart(the third is in Argentina)![outliergeographical.PNG](attachment:outliergeographical.PNG)\n\nUntil now, 4 outliers have been found (1 from age column, 3 from geographical map)","29670f86":"* In people less than 18, the average is 85 minutes (1,43 hours)\n* In adults, the average is 87 minutes (1,45 hours)\n","99a4b0c5":"# **Geographical Outliers**\nWe have seen the age outliers, now we can look at geographical outliers.<br> Since we know that the dataset contains data about home medical visits in Spain, every geoprahical point that is out of spain we will remove it, but with code is not easy to delimit the exact floating values to filter Spain.<br>To understand better the geographical outliers I choose Tableau to use map chart","7b0d3a55":"Correlations table highlights some points :\n* Where r is near 0, we cannot tell if there is a linear relation between the variables, surely a non linear relations exists\n* Only strong correlation is between less18 and age that is foregone\n* Most of these variables have negative correlation","3b8b3b75":"**Or better, how non linear functions describe the correlations shown before?**","4f8646e2":"This is the dataset unbalanced :\n![pie-chart.png](attachment:pie-chart.png)\n\n","cc065e1a":"<h2>The correct KPI would be to take all the length_medicalvisit less than 3 hours<\/h2>","0b3fe61f":"# Date Outliers\nIn this dataset we have 3 columns that contains a datetime:\n* created : when medical event is created\n* fetched : when medical electronic record is created\n* closed  : when medical event is closed\n\nSince we have to calculate the KPI by doing the difference between created and closed columns.\nLet's start by looking at how many NaN there are in these columns","d12cde4b":"<h2>To respond to which city has more visits,we can groupby and count in tableau, obtaining the following chart : <\/h2>\n","c462a19c":"For both categories, the most frequent diseases for both categories are :<br>\n![MostFrequentdiseases.png](attachment:MostFrequentdiseases.png)\n\n1. Hematemesis\n2. Respiratory tract compression\n3. Upper Gastrointestinal bleeding\n4. Acute Anemia\n5. Adenopathies\n\nHematemesis source comes from upper gastrointestinal tract, Acute Anemia is a disease that involves blood cells being attacked from immune system (Also adenopathies).","b4e26371":"In Adult the most common pathologies with highest LOS are :\n![losAdultPerPathology.PNG](attachment:losAdultPerPathology.PNG)\n\nMeanwhile by filtering only for less18 == 1 this are the most common pathologies :\n![LOSperpathologyLESS18.jpg](attachment:LOSperpathologyLESS18.jpg)","43ad0cbb":"# Undersampling Majority class using Sklearn Resample ","359f040a":"We can see the distribution for age by using a normal chart\n\n![distributionofAge.png](attachment:distributionofAge.png)","1ea2d6ab":"#                        **Road to SEMCAT**\n\n![](data:image\/jpeg;base64,\/9j\/4AAQSkZJRgABAQAAAQABAAD\/2wCEAAkGBxITDxIRERAVEBIVGBcSFRcVFRAVEhUWFRcWFhYVFxUYICggGRolHBoTITEhJSkuLi4vFx8\/ODMsNygtLisBCgoKDg0OFxAQFTcdHx03LSsrLzcrMCs3KzctKy0rLS03NzctKzYvLTctKysrLSstLTUtKy0tLS4tKzcrNysrK\/\/AABEIAOAA4AMBIgACEQEDEQH\/xAAbAAEAAgMBAQAAAAAAAAAAAAAABQYDBAcCAf\/EAEcQAAIBAgMFBQQFBwkJAAAAAAABAgMRBBIhBQYTMVEiQWFxgQcUkaEyNYKxskJScnSzwdEXM1Ric5KT0uEjJTRDU2OiwvD\/xAAaAQEBAQADAQAAAAAAAAAAAAAAAQUDBAYC\/8QAJREBAAICAQMDBQEAAAAAAAAAAAECAxEEBSExEkFRExRCYZEy\/9oADAMBAAIRAxEAPwDsoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD5KVlduyRBVNuylUUKEE7uycr6+Nl3HBm5OPDqLT58OTHitk\/z7J4GPDqdu24t\/wBVNL5syHLWdxt8TGpAAfSAAAA+nwAAAAAAAAAAAAAAAAAAAAAAAACM3im1h5W72k\/JsrGzsTw6sZ2ulz8mu4umNw6qU5QfJr4dGUvGYGdJtSjp+cvov1PN9Yx5a5q5a94hrcC1LY7Y591xwmPp1F2JpvpfX4Gyc8T70b+G2xWhynmXSWvz5n3g67HjLX+d0ydNmO9JXQEPs7bsZtRmsknyfOL9e4mDawcjHnr6qTtnZMVsc6tAQO8m9NHCWi06lVq6hFpWXWUnyJ44zvlm9\/xOa989l+jZZbfZynO41h\/lJq3\/AOGhbpnnf42\/cWvdneKGMjJxpyhKFs17ON3ytJc+XLxNfZex9m1qCdGjSqQtq7Xqfal9JP4EtsrZlLD0+FRjljdy1bbu+rer7l6F2K1t7fj3fE1KHu+fJbXPa90nyy+Jofykv+ir\/Ef+Ur2\/f1hX+z+CJ0bCbtYN04N4Wm24xb7PN5U2Nj7utt73ulOpw+HllktmzX0T52XUgcd7QHTr1KTwykoTlC\/E1eWTV7ZfAt+C2dSopxo040k3dqKsm+v3HGdvq+MxCX\/WqfjkQdqwmIjUpwqQeaE4qUX4NaHnaGLjRozqzdowTk\/3JeLdl6lI9mu2dJYSb1V50r\/+Uf8A2+J49pm2buOEg+VqlW3e39CP7\/VAbeyt\/nWr0qXu2XiTjC\/EvbM7XtYuzZxXdeNsfhl\/3YfKSL57R9qypYeNKDyyrNpvvUFbN8W0viUNs7+0KUnClF15LRtPLTuuaUtW\/RERD2k1L9rDQt4Tkn9xrbibsQxClXrq9OLyRhqszSTd2u5XS82y7YjdbBTjleGpxXWMcsl9pa\/ED7u\/vFRxcXw24zWsoS+ml1VtGuWqJcht3N3KWEUsjc5yes5WzZfyY+nzN7a2NVGhVrPlCLl5tLsr1dl6kFW2zv4qOIqUY0OIoPLmz27S5q1uunoWnZGPjXoU60dFOKlbo\/yo+jTON4TA1K8cRV58OPGm+rckn9836F29l+0c1Orh5PWD4kP0ZfSXo7P7QEhvPve8JWVLg8S8FO+dx5tq1reBEfykv+ir\/Ef+UuWN2Nh60s9ahCpK1k5K7t0+bOQVaEff5U8qyLEOCjbTLxctvgWB0Tdfe\/3uvKlwOHaDqXz5voygrWsvzi0mlgdj4ejPPRoQpytlvFWdm02vkjdII3eKo1h5W72k\/Jsgdn7YnBqMnnp8mnZu3gy1Y3DKpTlB8n8ilYzAzpu0ovz1yv1PPdW+vjyxlp4avB+lek0t5WN4PC11eDSl\/Vdn6xI7F7uzjdwamunKRDRdtVp5dxv4XbVaH5WddJa\/M6P3fGzxrNj9M\/MOz9vmxd8d9x8Sj3p4P96L1syo5UYSfNpX9CAp1MPiHaUeDUf5Stlb\/j5lloUlGKiuSSS9FY0ekYPRa1q23WXT5+X1RWJjUvZW96t06eL7alwqyVs1m4yS7pR8OpZCg7f31rUcbKEKdqUOy41E4ub\/AD0+aXcmbzNVjaWxcXgp8RqUO6NSnJ2v3LMtV5MvG4m8k8Sp0azUqsFmUkks8L21XVNr0aIHbu\/Sr4adGOHyOaSblNNJXT0VuZn9l+z5cSriGmoZHSi3yk3KLdvJJL1KILfv6wr\/AGfwRM9PdTaEkmk7NJr\/AGseTV+V9NDDv39Y1\/s\/giT9H2i5YRj7s3lSj\/Oc7JLp4AWfc7AVaOEjTrq1RSk32lLRvTVHMNo\/WNT9Yl+1Z0vdTeP3xVXwuHkyr6Wa+a\/guhzTaT\/3jU\/WJftSCX3x2fLB46OIo9mM5cWD7ozTvKPk+nRnvcrZ8sXjpYqrrGEuJK\/J1G+xH05+iL9vBsiGKoypTeXXNGSteMl3\/C69T1u\/siGFoxow7Vndysk5N820vQo5Nu59Y4f+2j+NFk9qsHxMPLuyzXzjf5Fa3c+sMP8A20fxf6HTd79h+9YZwjpUg89N8ruzWXyd38gNT2c1E9nxSesZzjLwd833NFnOO7E23XwFWccnPSpTneOq7\/B+PLzLFX9pPZtTw1pd2aacV6JK5NDoBSfahtHLRpYdOznLPL9GPL4yt\/dG4W3cVXqVY1U6tN9riclCXLIvDw\/iVTe3GvE4+pl1WZUKf2Xl085NsDZ3X3hoYahWpVKM6jqt5msqWRxyqOrv3y+Jobp7R4GNpTv2G+HK\/wCbPS78tH6HQqG42CUYqVJykkk3xKqu0tXZPrco2\/GxYYbEqNOOWlOKlFNt2adpK7+PqEdfOK1\/rKX60\/2zOp7p7R4+DpVG7ytkn1zQ0d\/Oyfqcsr\/WUv1p\/tmWFdqZ8PrPhAPkopqzSaPoGt9hG4rYdGd7RyPrHT5ciGxm79SKbg1NdOUv9S1mKviYQTcpJJeKM7k9O4+SszNdft2sXLzUmIidqD8rF62bVcqMJPm0r+feyp0sNKvVlkVouTd+6KbLlRpqMVFckrL0M\/ouG9bXt+PiHa6hkraKx7vZqbQ2bQrLLWpQqdMyV15PmjbK1iMtHGObjTryqyahqveKUlSfZtq3BpeFsz6noWW2KW5+BTv7un+k5SXwbJulTUUoxSilokkkkvBIqlHa+JdB1FKLzU4STboPLOVSEbKMJZstm12tU0tTfx2NrUqioupnlWUY0ZuMV286jUulppCUZpf1ZAbWN2BhKk5VKtCEpPWUpX7l368rIxLdXA\/0Wm\/j\/EjY7VryjVk8rjbERlCTw9ocNSyrKnnbVkpKSs7vRG\/s3HT95VOpNWlBOlGPDcbKEXLPbtQkm\/0bNF2JDZ2y6NDMqFKNLNbNlvra9r\/E1au72Dc3UlQp5nLO5O98zd7t353InEYpUMbiMS75FKFKotbWlQpypvzzq32zWjKpSjWhJZpVqtGNa+RqLq0nOduI8q7Voq+l3yAux4hVi+Uk+\/Rp6df\/ALxK5T2hWzU6dStGgstWXEfBlnVOUVGLs3FOzbaXTS3M0dn7RlToU3FwjelQTqOKtBVK1SLk30SXJ8m9SCfo7uYSE4zjh4RnF5lLW6fO\/PmSlyCljpwxFGMq\/EpTtCMo8HNKo5SVqiWqjayTjys7mvt3ByrYt0404Tk8PZSnKUeG5TaVSNk3mXRW5cwJnaGyaFf+eowqPkm0sy8FLmiOp7nYFO\/u6fg5Ta+DZrYXaGI42TNmVOoqMk3QScVFXnZviOb+krK2tupjltKvHC0cRUrLLNZ6mSNFTjBLTJGX0tbOXf07i7FmoUIQgoQioQXKMUoxXkkR1HdrBwnGccNBTi1JOzumtU+fU0pbUqXlPixTVdUVQtG7i5qN7\/SzNPPflY80dp1oxpVqtVShUqVaUoqC7MYRrSUk12pStT9b9zILHKaSu2ktFq7c3ZL42Rp4\/ZeHxGV1acauW+VvW17Xs14pfArc9pTqJwlLPF+61Y34OZZq8V\/y20k1aybujZwdaTrYZurw4t4qOVKEYNwq2Sa721m8dHYCf2fs+lQi40aapxbu0r2v11NR7uYRz4nu8M+bPms75r3vz6kbT2rJQq1feHOl2adJ2o8SUnJRdS2iUbvKs2nfytfB77VqcPNXcMmK4MpLgargyks7XZbTeXp4XQFuPhD7Jxs5V61OpPNJXnBR4bp8PO1Fpx1UtLNS707aEwAAAA81KUZfSipeaT+89AkxvyPkYpKyVl4cj6AIiI8AY1QgpOahFTfOSjFSf2ufT4GQFGJYWCbahFOWsuzHtd+umuupkcU2m0m1yulpfmfQBj93hmcskczVm8sczXRvm0fYUYpuShFN2TaUU2l3N87HsAeXSjr2VrZvRatWs315ITpRd04pqWkk0nm8+p6AGL3aGVR4cMq1Syxyp9UrWR6VKOvZWqs9FqtdH1WrPYAxQwtOLTjTjFrRNRimk+dnbTmzJlV72V+V++3S59AGN0IOSm4Rc1opZY5kuifNISw8GknCLUeScY2Xl0MgA8OjHNnyxz8s1lm\/vcz6qcdFlWmq0Wj6rp3\/ABPQAxRw0FyhFd+kYrvv99j06MWknGLSd1otHzuuj56+J7AGGODpq9qUFdWdoQV10enI9e7wtlyRy9MsbactLGQAeKdGMW3GMYtu7aSTb6u3M9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB\/\/9k=)\n\n**Semcat** was born in 2012 to respond to the lack of specialized teams in all fields of home health care. Formed by a medical and nursing team capable of attending from infancy to the end of life, in situations that include from immediate emergencies to the control of chronic patients.\n\n# **How do you activate a visit?**<br>\nIf you require an urgent service, once the doctor is activated, you will receive an SMS on your mobile with the confirmation of the visit and the expected time of the visit. The data you provide us will be used solely for our medical care and will not be transferred to a third party\n\nIf your case is complex or you have other needs such as having a family doctor at home for you or yours, in \"Contact us\" you can briefly explain your case and one of our coordinators will contact you to explain in detail the services that we can offer you. If you wish, in our offices we will assess your case in detail and we will offer you the best solution for you.","f68cea18":"# Pathologies outliers\n\"Patologia\" or \"patology\" is a column represented by strings instead of numbers, outliers for this columns are the values that are not present in the healthcare domain of pathologies or in a dictionary containing the pathologies.<br>Since it wasn't available a dictionary with all pathologies, the best thiing to do was a count words frequency looking for unique values of this column.  ","080a89ce":"If I hadn't removed from my calculations the length_medicalvisit that takes more than 3 hours, the wrong KPI would have been :\n![KPI_Length_medical_visit.png](attachment:KPI_Length_medical_visit.png)\n ","f7a1648f":"Note : The whole dataset is in spanish, to be understandable and in order to convert pathologies in ICD-10,the next steps will cover about the translation of columns and content from spanish to english other than removing sensible informations(Sigh).\nIt's 2020 and I still find a dataset with name,surname of patient,geographical position of event and his pathology (shocking). All hail Cambridge Analytical...","c1c7a558":"Now we are going to look how much the dataset is divided into adults and not : \nThis dataset is unbalanced and further analysis could be biased against adults class in case of a machine learning.","2bddd98c":"As we can see, this method would be good in case our dataset is cleansed, but helps us to understand how much must be cleansed and which values interfere with the unique values.<br> On 40111 entries, only **2762** are duplicates.<br><br>The unique functions doesn't work in case of **\"DOLOR ABDOMINAL\"** and **\"X DOLOR ABDOMINAL\"** that are the same but not semantically, for example.<br><br>Using Open Refine and some regex plus stop words from **40111** it has been found **6811** duplicates,removed from stop words and names\/surname, **2762** duplicates has been found and at least it was reduced to **282** unique values.<br><br>Translating the names and removing names,surname etc, only 15 rows will be dropped because they don't contain a description or a pathology<br>**To recap : 83% of records have been cleaned from duplicates,name and surnames**","142d58de":"**If you would like to have the pseudocode to translate most of pathologies,** use this <br><br> <code>if CONTAINS([Pathology],\"605724904\") then \"0\" \nELSEIF CONTAINS([Pathology],\"ACCIDENTE VASCULAR CEREBRAL\") then \"CEREBRAL VASCULAR INCIDENT\"\nELSEIF CONTAINS([Pathology],\"ACUFENOSTINNITUS\") then \"ACUFENOSTINNITUS\"\nELSEIF CONTAINS([Pathology],\"ADENOPATIAS\") then \"ADENOPATHIES\"\nELSEIF CONTAINS([Pathology],\"AFTAS\") then \"AFTAS\"\nELSEIF CONTAINS([Pathology],\"AFTAS ADENOPATIA SUBMAXILAR\") then \"AFTAS SUBMAXILAR ADENOPATHY\"\nELSEIF CONTAINS([Pathology],\"AGITADO NO AGRESIVO NAUSEAS INTENSAS\") then \"AGITATED NON-AGGRESSIVE INTENSE NAUSEA\"\nELSEIF CONTAINS([Pathology],\"AMENAZA ABORTO\") then \"THREAT ABORTION\"\nELSEIF CONTAINS([Pathology],\"AMIGDALITIS\") then \"TONSILLITIS\"\nELSEIF CONTAINS([Pathology],\"AMIGDALITIS AGUDA\") then \"ACUTE TONSILITIS\"\nELSEIF CONTAINS([Pathology],\"AMIGDALITIS YA DIAGNOSTICADA\") then \"ALREADY DIAGNOSED TONSILITIS\"\nELSEIF CONTAINS([Pathology],\"ANEMIA AGUDA\") then \"ACUTE ANEMIA\"\nELSEIF CONTAINS([Pathology],\"ANGINAS\") then \"ANGINAS\"\nELSEIF CONTAINS([Pathology],\"ANOREXIA\") then \"ANOREXY\"\nELSEIF CONTAINS([Pathology],\"ANSIEDAD GENERALIZADA\") then \"GENERALIZED ANXIETY\"\nELSEIF CONTAINS([Pathology],\"ARTRITIS\") then \"ARTHRITIS\"\nELSEIF CONTAINS([Pathology],\"ARTROPATIA TEMPORO\") then \"TEMPORARY ARTHROPATHY\"\nELSEIF CONTAINS([Pathology],\"ARTROSIS\") then \"ARTHROSIS\"\nELSEIF CONTAINS([Pathology],\"ASMA BRONQUIAL\") then \"BRONCHIAL ASTHMA\"\nELSEIF CONTAINS([Pathology],\"ASTENIA\") then \"ASTHENIA\"\nELSEIF CONTAINS([Pathology],\"ASTENIA MAL ESTADO GENERAL\") then \"ASTENIA GENERAL MALAISE\"\nELSEIF CONTAINS([Pathology],\"ASTENIA MAL ESTADO GENERAL RONQUITIS\") then \"ASTENIA GENERAL MALAISE RONCHITIS\"\nELSEIF CONTAINS([Pathology],\"BRADICARDIA\") then \"BRADICARDIA\"\nELSEIF CONTAINS([Pathology],\"BRONCOASPIRACION\") then \"BRONCOASPIRATION\"\nELSEIF CONTAINS([Pathology],\"BRONCOPAT\u00cdA CR\u00d3NICA\") then \"CHRONIC BRONCOPATHY\"\nELSEIF CONTAINS([Pathology],\"BRONCOPAT\u00cdA CR\u00d3NICA CON EXACERBACION\") then \"CHRONIC BRONCOPATHY WITH EXACERBATION\"\nELSEIF CONTAINS([Pathology],\"BRONQUIECTASIAS\") then \"BRONCHIECTASIAS\"\nELSEIF CONTAINS([Pathology],\"BRONQUIECTASIAS EXACERBACION\") then \"BRONCHIECTASIAS EXACERBATION\"\nELSEIF CONTAINS([Pathology],\"BRONQUIOLITIS\") then \"BRONCHIOLITIS\"\nELSEIF CONTAINS([Pathology],\"BRONQUITIS\") then \"BRONCHITIS\"\nELSEIF CONTAINS([Pathology],\"BRONQUITIS AGUDA\") then \"ACUTE BRONCHITIS\"\nELSEIF CONTAINS([Pathology],\"BRONQUITIS AGUDA EMPEORAMIENTO\") then \"ACUTE BRONCHITIS WORSE\"\nELSEIF CONTAINS([Pathology],\"BRONQUITIS AGUDA TRIPLE\") then \"ACUTE TRIPLE BRONCHITIS\"\nELSEIF CONTAINS([Pathology],\"BRONQUITIS CON TOS Y MUSCOSIDAD\") then \"BRONCHITIS WITH COUGH AND MUSCOSITY\"\nELSEIF CONTAINS([Pathology],\"BURSITIS\") then \"BURSITIS\"\nELSEIF CONTAINS([Pathology],\"CAIDA CON CONTUSION HEMITORAX\") then \"FALL WITH HEMITORAX CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CAIDA CON CONTUSIONES Y  HEMATOMA. HOY NUEVA CAIDA CON CONTUSION CABEZA\") then \"FALL WITH CONTUSIONS AND HEMATOMA.\u00a0TODAY NEW FALL WITH HEAD CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CAMBIO DE SONDA VESICAL\") then \"CHANGE OF Bladder Probe\"\nELSEIF CONTAINS([Pathology],\"CATARRO\") then \"COLD\"\nELSEIF CONTAINS([Pathology],\"CATARRO RESFRIADO\") then \"COLD CATARRUS\"\nELSEIF CONTAINS([Pathology],\"CEFALEA\") then \"Headache\"\nELSEIF CONTAINS([Pathology],\"CEFALEA NO MIGRA\u00d1OSA\") then \"NON-MIGRAINE HEADACHE\"\nELSEIF CONTAINS([Pathology],\"CEFALEA OTALGIA\") then \"HEADACHE OTALGIA\"\nELSEIF CONTAINS([Pathology],\"CELULITIS\") then \"CELLULITIS\"\nELSEIF CONTAINS([Pathology],\"CELULITIS ABCESOS\") then \"ABCESS CELLULITE\"\nELSEIF CONTAINS([Pathology],\"CERVICALGIA\") then \"CERVICALGIA\"\nELSEIF CONTAINS([Pathology],\"CIATALGIA\") then \"CIATALGIA\"\nELSEIF CONTAINS([Pathology],\"CISTITIS\") then \"CYSTITIS\"\nELSEIF CONTAINS([Pathology],\"COLECISTITIS\") then \"CHOLECCISTITIS\"\nELSEIF CONTAINS([Pathology],\"COLICO\") then \"COLIC\"\nELSEIF CONTAINS([Pathology],\"COLICO HEPATICO\") then \"HEPATIC COLIC\"\nELSEIF CONTAINS([Pathology],\"COLICO NEFRITICO\") then \"RENAL COLIC\"\nELSEIF CONTAINS([Pathology],\"COMA ESTUPOR\") then \"COMA, STUPOR\"\nELSEIF CONTAINS([Pathology],\"COMPRESION VIAS RESPIRATORIAS\") then \"RESPIRATORY TRACT COMPRESSION\"\nELSEIF CONTAINS([Pathology],\"CONJUNTIVITIS\") then \"CONJUNCTIVITIS\"\nELSEIF CONTAINS([Pathology],\"CONSEJO DIET\u00c9TICO\") then \"DIETARY ADVICE\"\nELSEIF CONTAINS([Pathology],\"CONSEJO M\u00c9DICO EMBARAZO FERTILIDAD\") then \"MEDICAL ADVICE PREGNANCY FERTILITY\"\nELSEIF CONTAINS([Pathology],\"CONSEJO SALUD\") then \"HEALTH COUNCIL\"\nELSEIF CONTAINS([Pathology],\"CONTRACTURA\") then \"CONTRACTURE\"\nELSEIF CONTAINS([Pathology],\"CONTRACTURA MUSCULAR\") then \"MUSCLE CONTRACTURE\"\nELSEIF CONTAINS([Pathology],\"CONTUSION\") then \"CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CONTUSION CABEZA\") then \"HEAD CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CONTUSION EXTREMIDAD INFERIORES\") then \"LOWER EXTREMITY CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CONTUSION OJOS\") then \"EYE CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CONTUSION TORAX\") then \"THORAX CONTUSION\"\nELSEIF CONTAINS([Pathology],\"CONVULSIONES\") then \"Seizures\"\nELSEIF CONTAINS([Pathology],\"CRISIS ANSIEDAD\") then \"ANXIETY CRISIS\"\nELSEIF CONTAINS([Pathology],\"CRISIS HIPERTENSIVA\") then \"HYPERTENSIVE CRISIS\"\nELSEIF CONTAINS([Pathology],\"CUIDADOS PALIATIVOS\") then \"PALLIATIVE CARE\"\nELSEIF CONTAINS([Pathology],\"CUIDADOS PALIATIVOS FIEBRE\") then \"PALLIATIVE CARE FEVER\"\nELSEIF CONTAINS([Pathology],\"CURAS CADA HORA\") then \"CURES EVERY HOUR\"\nELSEIF CONTAINS([Pathology],\"CURAS EN CADERA CADA HORA\") then \"HIP CURES EVERY HOUR\"\nELSEIF CONTAINS([Pathology],\"CURAS EN EL PIE CADA HORA\") then \"CURES ON THE FOOT EVERY HOUR\"\nELSEIF CONTAINS([Pathology],\"CURAS EN GENERAL\") then \"CURES IN GENERAL\"\nELSEIF CONTAINS([Pathology],\"CURAS ULCERA EN LA ESPALDA CADA HORA\") then \"CURES ULCER ON THE BACK EVERY HOUR\"\nELSEIF CONTAINS([Pathology],\"DEFICIT NEUROLOGICO\") then \"NEUROLOGICAL DEFICIT\"\nELSEIF CONTAINS([Pathology],\"DELIRIO AGUDO Y CONFUSION\") then \"ACUTE DELUSION AND CONFUSION\"\nELSEIF CONTAINS([Pathology],\"DEMENCIA SENIL\") then \"SENILE DEMENTIA\"\nELSEIF CONTAINS([Pathology],\"DEPRESION\") then \"DEPRESSION\"\nELSEIF CONTAINS([Pathology],\"DERMATITIS\") then \"DERMATITIS\"\nELSEIF CONTAINS([Pathology],\"DERMATITIS DEL PA\u00d1AL\") then \"DIAPER RASH\"\nELSEIF CONTAINS([Pathology],\"DESCARTAR PNEUMONIA\") then \"DISCARD PNEUMONIA\"\nELSEIF CONTAINS([Pathology],\"DESHIDRATACION\") then \"DEHYDRATION\"\nELSEIF CONTAINS([Pathology],\"DIARREA\") then \"DIARRHEA\"\nELSEIF CONTAINS([Pathology],\"DISMENORREA\") then \"Dysmenorrhea\"\nELSEIF CONTAINS([Pathology],\"DISNEA\") then \"DYSPNOEA\"\nELSEIF CONTAINS([Pathology],\"DISPEPSIA\") then \"DYSPEPSIA\"\nELSEIF CONTAINS([Pathology],\"DISTENSION ABDOMINAL\") then \"ABDOMINAL DISTENSION\"\nELSEIF CONTAINS([Pathology],\"DOLOR ABDOMINAL\") then \"ABDOMINAL PAIN\"\nELSEIF CONTAINS([Pathology],\"DOLOR ARTICULAR\") then \"JOINT PAIN\"\nELSEIF CONTAINS([Pathology],\"DOLOR BOCA\") then \"MOUTH PAIN\"\nELSEIF CONTAINS([Pathology],\"DOLOR COSTAL\") then \"COSTAL PAIN\"\nELSEIF CONTAINS([Pathology],\"DOLOR EN BRAZO IZQUIERDO ERUPCION EN ANTEBRAZO\") then \"PAIN IN LEFT ARM ERUPTION IN FOREARM\"\nELSEIF CONTAINS([Pathology],\"DOLOR EN EL ESTOMAGO\") then \"PAIN IN THE STOMACH\"\nELSEIF CONTAINS([Pathology],\"DOLOR LUMBAR CRONICO EFECTO ADVERSO A FARMACO AGITACION VISIONES\") then \"CHRONIC LOW PAIN ADVERSE EFFECT TO DRUG AGITATION VISIONS\"\nELSEIF CONTAINS([Pathology],\"DOLOR OVARICO\") then \"OVARIAN PAIN\"\nELSEIF CONTAINS([Pathology],\"DOLOR TORACICO\") then \"CHEST PAIN\"\nELSEIF CONTAINS([Pathology],\"DORSALGIA\") then \"BACKACHE\"\nELSEIF CONTAINS([Pathology],\"EDEMA\") then \"EDEMA\"\nELSEIF CONTAINS([Pathology],\"EFECTO ADVERSO A ENANPLUS\") then \"ADVERSE EFFECT TO ENANPLUS\"\nELSEIF CONTAINS([Pathology],\"EFECTO ADVERSO A FARMACO\") then \"ADVERSE EFFECT TO A DRUG\"\nELSEIF CONTAINS([Pathology],\"ENFERMEDAD INFLAMATORIA INTESTINAL\") then \"INFLAMMATORY INTESTINAL DISEASE\"\nELSEIF CONTAINS([Pathology],\"EPIGASTRALGIA\") then \"EPIGASTRALGIA\"\nELSEIF CONTAINS([Pathology],\"EPIGASTRALGIA GASTRITIS\") then \"EPIGASTRALGIA GASTRITIS\"\nELSEIF CONTAINS([Pathology],\"EPISTAXIS\") then \"EPISTAXIS\"\nELSEIF CONTAINS([Pathology],\"ERUPCION CUTANEA\") then \"ACNE\"\nELSEIF CONTAINS([Pathology],\"ESGUINCE CADERA Y MUSLO\") then \"SPRAIN HIP AND THIGH\"\nELSEIF CONTAINS([Pathology],\"ESGUINCE MU\u00d1ECA Y MANO\") then \"SPRAIN WRIST AND HAND\"\nELSEIF CONTAINS([Pathology],\"ESGUINCE RODILLA Y PIERNA\") then \"KNEE AND LEG SPRAIN\"\nELSEIF CONTAINS([Pathology],\"ESGUINCE TOBILLO Y PI\u00c9\") then \"SPRAIN ANKLE AND FOOT\"\nELSEIF CONTAINS([Pathology],\"ESOFAGITIS\") then \"ESOPHAGITIS\"\nELSEIF CONTAINS([Pathology],\"ESTRE\u00d1IMIENTO\") then \"CONSTIPATION\"\nELSEIF CONTAINS([Pathology],\"EXANTEMA VIRICO\") then \"VIRAL RASH\"\nELSEIF CONTAINS([Pathology],\"FARINGITIS\") then \"PHARYNGITIS\"\nELSEIF CONTAINS([Pathology],\"FIEBRE\") then \"FEVER\"\nELSEIF CONTAINS([Pathology],\"FIEBRE ALTA, ODINOFAGIA Y OTALGIA, PUNTOS BLANCOS EN LA GARGANTA, MAREO Y P\u00c9RDIDA DE CONOCIMIENTO YA RECUPERADA\") then \"HIGH FEVER, ODINOFAGIA AND OTALGIA, WHITE SPOTS IN THE THROAT, DIZZINESS AND LOSS OF CONSCIOUSNESS ALREADY RECOVERED\"\nELSEIF CONTAINS([Pathology],\"FIEBRE DMANGANO TARDIA CON\") then \"LATE DMANGAN FEVER WITH\"\nELSEIF CONTAINS([Pathology],\"FISURA ANAL\") then \"ANAL FISSURE\"\nELSEIF CONTAINS([Pathology],\"FLEBITIS TROMBOFLEBITIS\") then \"THROMBOPHLEBITIS PHLEBITIS\"\nELSEIF CONTAINS([Pathology],\"FLEMON DENTARIO\") then \"FLEMON DENTARY\"\nELSEIF CONTAINS([Pathology],\"FRACTURA COLUMNA VERTEBRAL SIN LESION MEDULAR\") then \"SPINAL COLUMN FRACTURE WITHOUT MEDULAR INJURY\"\nELSEIF CONTAINS([Pathology],\"FRACTURA COSTILLAS medicacion iniectada Esta muy nerviosa\") then \"FRACTURE RIBS Injected medication She's very nervous\"\nELSEIF CONTAINS([Pathology],\"FRACTURA COSTILLAS SIN ESPECIFICAR\") then \"RIB FRACTURE, UNSPECIFIED\"\nELSEIF CONTAINS([Pathology],\"FRACTURA COSTILLAS Y O ESTERNON\") then \"FRACTURE RIBS I STERNUM\"\nELSEIF CONTAINS([Pathology],\"FRACTURA CUELLO F\u00c9MUR\") then \"FEMUR NECK FRACTURE\"\nELSEIF CONTAINS([Pathology],\"FRACTURA DORSAL CERRADA\") then \"CLOSED DORSAL FRACTURE\"\nELSEIF CONTAINS([Pathology],\"FRACTURA FALANGES PI\u00c9 DOLOR INTENSO POR FRACTURA\") then \"FALANGES FOOT FRACTURE INTENSE PAIN FROM FRACTURE\"\nELSEIF CONTAINS([Pathology],\"FRACTURA HUMERO\") then \"HUMERAL FRACTURE\"\nELSEIF CONTAINS([Pathology],\"FRACTURA PELVIS\") then \"PELVIS FRACTURE\"\nELSEIF CONTAINS([Pathology],\"FRACTURA TIBIA\") then \"TIBIA FRACTURE\"\nELSEIF CONTAINS([Pathology],\"FURUNCULO EN LA ESPALDA\") then \"FURUNCULO ON THE BACK\"\nELSEIF CONTAINS([Pathology],\"GASTROENTERITIS\") then \"STOMACH FLU\"\nELSEIF CONTAINS([Pathology],\"GASTROENTERITIS AGUDA\") then \"ACUTE GASTROENTERITIS\"\nELSEIF CONTAINS([Pathology],\"GASTROENTERITIS AGUDA CON MIGRA\u00d1A\") then \"ACUTE GASTROENTERITIS WITH MIGRAINE\"\nELSEIF CONTAINS([Pathology],\"GASTROENTERITIS AGUDA SEVERA\") then \"SEVERE ACUTE GASTROENTERITIS\"\nELSEIF CONTAINS([Pathology],\"GINGIVORRAGIA\") then \"GINGIVORRAGIA\"\nELSEIF CONTAINS([Pathology],\"GOLPE DE CALOR\") then \"HEATSTROKE\"\nELSEIF CONTAINS([Pathology],\"GOTA\") then \"GOUT\"\nELSEIF CONTAINS([Pathology],\"GRIPE\") then \"FLU\"\nELSEIF CONTAINS([Pathology],\"HEMATEMESIS\") then \"HEMATEMESIS\"\nELSEIF CONTAINS([Pathology],\"HEMATURIA\") then \"HEMATURIA\"\nELSEIF CONTAINS([Pathology],\"HEMOPTISIS\") then \"HEMOPTISIS\"\nELSEIF CONTAINS([Pathology],\"HEMORRAGIA CONJUNTIVAL\") then \"CONJUNCTIONAL HEMORRHAGE\"\nELSEIF CONTAINS([Pathology],\"HEMORRAGIA DIGESTIVA ALTA\") then \"UPPER GASTROINTESTINAL BLEEDING\"\nELSEIF CONTAINS([Pathology],\"HEMORROIDE\") then \"HEMORROID\"\nELSEIF CONTAINS([Pathology],\"HEMORROIDES DOLOROSAS\") then \"PAINFUL HEMORRHOIDS\"\nELSEIF CONTAINS([Pathology],\"HEPATOPATIA CRONICA\") then \"CHRONIC HEPATOPATIA\"\nELSEIF CONTAINS([Pathology],\"HERIDA ABIERTA\") then \"OPEN WOUND\"\nELSEIF CONTAINS([Pathology],\"HERIDA ABIERTAEROSION\") then \"OPEN WOUND EROSION\"\nELSEIF CONTAINS([Pathology],\"HERNIA DISCAL\") then \"DISC HERNIA\"\nELSEIF CONTAINS([Pathology],\"HERNIA INGUINAL\") then \"INGUINAL HERNIA\"\nELSEIF CONTAINS([Pathology],\"HERPES SIMPLE\") then \"SIMPLE HERPES\"\nELSEIF CONTAINS([Pathology],\"HERPES ZOSTER\") then \"HERPES ZOSTER\"\nELSEIF CONTAINS([Pathology],\"HIPERGLICEMIA\") then \"HYPERGLYCEMIA\"\nELSEIF CONTAINS([Pathology],\"HIPERTENSION ARTERIAL\") then \"ARTERIAL HYPERTENSION\"\nELSEIF CONTAINS([Pathology],\"HIPERTROFIA BENIGNA DE PROSTATA\") then \"BENIGN PROSTATE HYPERTROPHY\"\nELSEIF CONTAINS([Pathology],\"HIPOGLICEMIA\") then \"HYPOGLYCEMIA\"\nELSEIF CONTAINS([Pathology],\"HIPOTENSION ARTERIAL\") then \"ARTERIAL HYPOTENSION\"\nELSEIF CONTAINS([Pathology],\"HIPOTENSION DOLOR ZONA COSTAL\") then \"HYPOTENSION PAIN COSTAL AREA\"\nELSEIF CONTAINS([Pathology],\"ICTERICIA\") then \"JAUNDICE\"\nELSEIF CONTAINS([Pathology],\"IMP\u00c9TIGO\") then \"IMPETIGO\"\nELSEIF CONTAINS([Pathology],\"IMPLANTE DENTAL\") then \"DENTAL IMPLANT\"\nELSEIF CONTAINS([Pathology],\"INCONTINENCIA URINARIA\") then \"URINARY INCONTINENCE\"\nELSEIF CONTAINS([Pathology],\"INFECCION RESPIRATORIA\") then \"RESPIRATORY INFECTION\"\nELSEIF CONTAINS([Pathology],\"INFECCION URINARIA\") then \"URINARY INFECTION\"\nELSEIF CONTAINS([Pathology],\"INFECCIONES\") then \"INFECTIONS\"\nELSEIF CONTAINS([Pathology],\"INSOMNIO\") then \"INSOMNIA\"\nELSEIF CONTAINS([Pathology],\"INSUFICIENCIA CARDIACA\") then \"HEART FAILURE\"\nELSEIF CONTAINS([Pathology],\"INSUFICIENCIA RENAL\") then \"RENAL INSUFFICIENCY\"\nELSEIF CONTAINS([Pathology],\"INSUFICIENCIA RESPIRATORIA AGUDA\") then \"SEVERE RESPIRATORY INSUFFICIENCY\"\nELSEIF CONTAINS([Pathology],\"INTOXICACION ALCOHOLICA\") then \"ALCOHOL INTOXICATION\"\nELSEIF CONTAINS([Pathology],\"INTOXICACION ALIMENTARIA\") then \"FOOD POISONING\"\nELSEIF CONTAINS([Pathology],\"INTOXICACION POR FARMACOS\") then \"DRUG POISONING\"\nELSEIF CONTAINS([Pathology],\"INYECCION\") then \"INJECTION\"\nELSEIF CONTAINS([Pathology],\"INYECCION DE CORTICORTEN\") then \"CORTICORTEN INJECTION\"\nELSEIF CONTAINS([Pathology],\"INYECCION DE GRANOCYTE\") then \"GRANOCYTE INJECTION\"\nELSEIF CONTAINS([Pathology],\"INYECCION DE INZITAN\") then \"INZITAN INJECTION\"\nELSEIF CONTAINS([Pathology],\"INYECCION DE TRIGON\") then \"TRIGON INJECTION\"\nELSEIF CONTAINS([Pathology],\"LARINGITIS\") then \"LARYNGITIS\"\nELSEIF CONTAINS([Pathology],\"LARINGITIS AGUDA\") then \"ACUTE LARYNGITIS\"\nELSEIF CONTAINS([Pathology],\"LATIGAZO CERVICAL\") then \"CERVICAL WHIP\"\nELSEIF CONTAINS([Pathology],\"LIPOMA\") then \"LIPOMA\"\nELSEIF CONTAINS([Pathology],\"LUMBALGIA\") then \"LUMBALGIA\"\nELSEIF CONTAINS([Pathology],\"LUMBALGIA AGUDA\") then \"ACUTE LUMBALGIA\"\nELSEIF CONTAINS([Pathology],\"LUMBALGIA POR CAIDA\") then \"LUMBALGIA DUE TO FALL\"\nELSEIF CONTAINS([Pathology],\"LUXACION DE CADERA\") then \"HIP DISLOCATION\"\nELSEIF CONTAINS([Pathology],\"MAL CONTROL DEL DOLOR\") then \"POOR PAIN CONTROL\"\nELSEIF CONTAINS([Pathology],\"MAREO\") then \"DIZZINESS\"\nELSEIF CONTAINS([Pathology],\"MAREO Y VOMITOS\") then \"DIZZINESS AND VOMITING\"\nELSEIF CONTAINS([Pathology],\"MASTITIS\") then \"MASTITIS\"\nELSEIF CONTAINS([Pathology],\"MEDICACION\") then \"MEDICATION\"\nELSEIF CONTAINS([Pathology],\"METASTASIS OSEAS\") then \"BONE METASTASIS\"\nELSEIF CONTAINS([Pathology],\"METRORRAGIA\") then \"METRORRAGY\"\nELSEIF CONTAINS([Pathology],\"MICOSIS CUTANEA\") then \"CUTANEOUS MYCOSIS\"\nELSEIF CONTAINS([Pathology],\"MIGRA\u00d1A\") then \"MIGRAINE\"\nELSEIF CONTAINS([Pathology],\"MIGRA\u00d1A Y VOMITOS\") then \"MIGRAINE AND VOMITING\"\nELSEIF CONTAINS([Pathology],\"MIOSITIS FIBROMIALGIA\") then \"MYOSITIS FIBROMYALGIA\"\nELSEIF CONTAINS([Pathology],\"MORDEDURA ANIMAL\") then \"ANIMAL BITE\"\nELSEIF CONTAINS([Pathology],\"MUCHA TOS Y EXPECTORACION AHOGOS\") then \"A LOT OF COUGH AND DROWNING EXPECTORATION\"\nELSEIF CONTAINS([Pathology],\"MUCOSITIS\") then \"Mucositis\"\nELSEIF CONTAINS([Pathology],\"MUERTE\") then \"DEATH\"\nELSEIF CONTAINS([Pathology],\"NEOPLASIA\") then \"NEOPLASIA\"\nELSEIF CONTAINS([Pathology],\"NEUMONITIS\") then \"Pneumonitis\"\nELSEIF CONTAINS([Pathology],\"NEUROPATIA\") then \"NEUROPATHY\"\nELSEIF CONTAINS([Pathology],\"NO BRONQUITIS AGUDA\") then \"NO ACUTE BRONCHITIS\"\nELSEIF CONTAINS([Pathology],\"ODINOFAGIA\") then \"ODINOFAGIA\"\nELSEIF CONTAINS([Pathology],\"ODONTALGIA\") then \"ODONTALGIA\"\nELSEIF CONTAINS([Pathology],\"ODONTALGIA Y EDEMA DE MEJILLA\") then \"DENTALGIA AND CHEEK EDEMA\"\nELSEIF CONTAINS([Pathology],\"OLIGURIA\") then \"OLIGURIA\"\nELSEIF CONTAINS([Pathology],\"ORQUITIS\") then \"Orchitis\"\nELSEIF CONTAINS([Pathology],\"ORZUELO\") then \"STYE\"\nELSEIF CONTAINS([Pathology],\"OTALGIA\") then \"OTALGIA\"\nELSEIF CONTAINS([Pathology],\"OTITIS AGUDA\") then \"ACUTE OTITIS\"\nELSEIF CONTAINS([Pathology],\"OTITIS AGUDA Y FIEBRE\") then \"ACUTE OTITIS AND FEVER\"\nELSEIF CONTAINS([Pathology],\"PALPITACIONES\") then \"PALPITATIONS\"\nELSEIF CONTAINS([Pathology],\"PARALISIS FACIAL\") then \"FACIAL PARALYSIS\"\nELSEIF CONTAINS([Pathology],\"PARKINSON\") then \"PARKINSON\"\nELSEIF CONTAINS([Pathology],\"PEDICULOSIS\") then \"PEDICULOSIS\"\nELSEIF CONTAINS([Pathology],\"PERIODONTITIS\") then \"PERIODONTITIS\"\nELSEIF CONTAINS([Pathology],\"PICADURA DE INSECTO\") then \"INSECT BITE\"\nELSEIF CONTAINS([Pathology],\"PIELONEFRITIS AGUDA\") then \"ACUTE SKYLONEFRITIS\"\nELSEIF CONTAINS([Pathology],\"PNEUMONIA\") then \"PNEUMONIA\"\nELSEIF CONTAINS([Pathology],\"PNEUMONIA CARDIOPATA\") then \"CARDIOPATH PNEUMONIA\"\nELSEIF CONTAINS([Pathology],\"PNEUMONIA TRIPLE\") then \"TRIPLE PNEUMONIA\"\nELSEIF CONTAINS([Pathology],\"PNEUMOTORAX ESPONTANEO\") then \"SPONTANEOUS PNEUMOTORAX\"\nELSEIF CONTAINS([Pathology],\"POLICONTUSIONES\") then \"POLYCONTUSIONS\"\nELSEIF CONTAINS([Pathology],\"POSIBLE EXITUS AUSENCIA DE SIGNOS VITALES\") then \"POSSIBLE EXITUS ABSENCE OF VITAL SIGNS\"\nELSEIF CONTAINS([Pathology],\"POSIBLE TROMBOSIS\") then \"POSSIBLE THROMBOSIS\"\nELSEIF CONTAINS([Pathology],\"PROCTALGIA\") then \"PROCTALGIA\"\nELSEIF CONTAINS([Pathology],\"PROSTATITIS\") then \"PROSTATITIS\"\nELSEIF CONTAINS([Pathology],\"PRURITO\") then \"PRURITUS\"\nELSEIF CONTAINS([Pathology],\"PSICOSIS\") then \"PSYCHOSIS\"\nELSEIF CONTAINS([Pathology],\"QUEMADURA\") then \"BURN\"\nELSEIF CONTAINS([Pathology],\"RECTORRAGIAS\") then \"RECTORRAGIES\"\nELSEIF CONTAINS([Pathology],\"REFIEREN POSIBLE CRISIS CONVULSIVANO RELAJACION ESFINTERES NO CUADRO INFECCIOSO RECIENTE\") then \"REFER POSSIBLE SEIZURE CRISIS RELAXATION SPHINTERS NO RECENT INFECTIOUS TABLE\"\nELSEIF CONTAINS([Pathology],\"RETENCION AGUDA ORINA\") then \"ACUTE URINE RETENTION\"\nELSEIF CONTAINS([Pathology],\"RINITIS\") then \"RHINITIS\"\nELSEIF CONTAINS([Pathology],\"RINORREA\") then \"Rhinorrhea\"\nELSEIF CONTAINS([Pathology],\"SIALOADENITIS\") then \"SIALOADENITIS\"\nELSEIF CONTAINS([Pathology],\"SINCOPE\") then \"SYNCOPE\"\nELSEIF CONTAINS([Pathology],\"SINCOPE GASTROENTIRITIS AGUDA\") then \"ACUTE GASTROENTIRITIS SYNCOPE\"\nELSEIF CONTAINS([Pathology],\"SINCOPE LIPOTIMIA\") then \"SYNCOPE LIPOTIMIA\"\nELSEIF CONTAINS([Pathology],\"SINDROME ABSTINENCIA DROGAS\") then \"DRUG ABSTINENCE SYNDROME\"\nELSEIF CONTAINS([Pathology],\"SINDROME CONFUSIONAL\") then \"CONFUSIONAL SYNDROME\"\nELSEIF CONTAINS([Pathology],\"SINDROME GRIPAL\") then \"FLU SYNDROME\"\nELSEIF CONTAINS([Pathology],\"SINDROME VERTIGINOSO\") then \"VERTIGINOUS SYNDROME\"\nELSEIF CONTAINS([Pathology],\"SINDROME VERTIGINOSO ALERGICA TRAMADOL\") then \"TRAMADOL ALLERGIC SYNDROME VERTIGINOUS\"\nELSEIF CONTAINS([Pathology],\"SINUSITIS\") then \"SINUSITIS\"\nELSEIF CONTAINS([Pathology],\"SINUSITIS AGUDA\") then \"ACUTE SINUSITIS\"\nELSEIF CONTAINS([Pathology],\"SINUSITIS ALERGIA AL AUGMENTINE\") then \"SINUSITIS ALLERGY TO AUGMENTINE\"\nELSEIF CONTAINS([Pathology],\"SINUSITIS CRONICA\") then \"CHRONIC SINUSITIS\"\nELSEIF CONTAINS([Pathology],\"SORDERA\") then \"DEAFNESS\"\nELSEIF CONTAINS([Pathology],\"TAQUIARRITMIA\") then \"TACHYARRHYTHMIA\"\nELSEIF CONTAINS([Pathology],\"TAQUICARDIA\") then \"TACHYCARDIA\"\nELSEIF CONTAINS([Pathology],\"TEMBLOR\") then \"TREMOR\"\nELSEIF CONTAINS([Pathology],\"TENESMO RECTAL\") then \"RECTAL TENESM\"\nELSEIF CONTAINS([Pathology],\"TENOSINOVITIS\") then \"TENOSINOVITIS\"\nELSEIF CONTAINS([Pathology],\"TENSI\u00d3N ARTERIAL\") then \"BLOOD PRESSURE\"\nELSEIF CONTAINS([Pathology],\"TOS\") then \"COUGH\"\nELSEIF CONTAINS([Pathology],\"TRAMITE DE BAJA POR AMENAZA ABORTO DISPONE DE TALONARIO\") then \"LEAVING PROCEDURE DUE TO ABORTION THREAT HAS A RECEIPT\"\nELSEIF CONTAINS([Pathology],\"TRANS CONDUCTA AGITACION\") then \"TRANS CONDUCT AGITATION\"\nELSEIF CONTAINS([Pathology],\"TRANSTORNO COAGULACION\") then \"COAGULATION DISORDER\"\nELSEIF CONTAINS([Pathology],\"TRANSTORNO SUE\u00d1O\") then \"SLEEP DISORDER\"\nELSEIF CONTAINS([Pathology],\"TRASTORNOS NO ESPECIFICADOS DE LOS TEJIDOS BLANDOS\") then \"UNSPECIFIED SOFT TISSUE DISORDERS\"\nELSEIF CONTAINS([Pathology],\"TRAUMATISMO CREANDO ENCEF\u00c1LICO\") then \"TRAUMA CREATING ENCEPHALIC\"\nELSEIF CONTAINS([Pathology],\"TRAUMATISMO CREANDO ENCEF\u00c1LICO sin p\u00e9rdida de conciencia\") then \"TRAUMA CREATING BRAIN without loss of consciousness\"\nELSEIF CONTAINS([Pathology],\"TROMBOSIS VENOSA PROFUNDA\") then \"DEEP VENOUS THROMBOSIS\"\nELSEIF CONTAINS([Pathology],\"ULCERA CORNEAL\") then \"CORNEAL ULCER\"\nELSEIF CONTAINS([Pathology],\"ULCERA DECUBITO\") then \"DECUBITE ULCER\"\nELSEIF CONTAINS([Pathology],\"ULCERAS\") then \"ULCERS\"\nELSEIF CONTAINS([Pathology],\"U\u00d1A INCARNATA\") then \"INCARNATE NAIL\"\nELSEIF CONTAINS([Pathology],\"URTICARIA\") then \"URTICARIA\"\nELSEIF CONTAINS([Pathology],\"URTICARIA REACCION AL\u00c9RGICA\") then \"URTICARIA ALLERGIC REACTION\"\nELSEIF CONTAINS([Pathology],\"VAGINITIS\") then \"VAGINITIS\"\nELSEIF CONTAINS([Pathology],\"VARICELA\") then \"CHICKENPOX\"\nELSEIF CONTAINS([Pathology],\"VARICES\") then \"VARICOSE VEINS\"\nELSEIF CONTAINS([Pathology],\"VARICES COMPLICADAS VARICORRAGIA\") then \"COMPLICATED VARICES VARICORRHAGE\"\nELSEIF CONTAINS([Pathology],\"VERTIGOS\") then \"VERTIGOS\"\nELSEIF CONTAINS([Pathology],\"VIRIASIS\") then \"VIRIASIS\"\nELSEIF CONTAINS([Pathology],\"VIRIASIS S ROVEEDOR\") then \"VIRIASIS S ROVEEDOR\"\nELSEIF CONTAINS([Pathology],\"VOMITOS\") then \"PUKE\"\nELSEIF CONTAINS([Pathology],\"BNCO\/EPOC CON EXACERBACION\") then \"Chronic obstructive pulmonary disease\"\nELSEIF CONTAINS([Pathology],\"BNCOEPOC CON EXACERBACION\") THEN \"Chronic obstructive pulmonary disease\"\nELSEIF CONTAINS([Pathology],\"V\u00d3MITOS Y MAREO POSIBLE INTOXICACI\u00d3N ET\u00cdLICA\") then \"VOMITING AND DIZZINESS POSSIBLE ETHYL POISONING\"\nELSEIF CONTAINS([Pathology],\"FLEBITISTROMBOFLEBITIS\") THEN \"Flebitae TROMBOFLEBITIS\"\nELSEIF CONTAINS([Pathology],\"DELIRIO AGUDOCONFUSION\") THEN \"ACUTE DELUSION CONFUSION\"\nELSEIF CONTAINS([Pathology],\"TCE\") THEN \"head trauma\"\nELSEIF CONTAINS([Pathology],\"\/MIOSITIS\/ FIBROMIALGIA\") then \"MIOSITIS Fibromialgia\"\nEND<\/code>","854dffaf":"# If you reached until here reading, please upvote notebook !\n![](https:\/\/cdn4.iconfinder.com\/data\/icons\/web-icons-19\/711\/upvote-like-icon-tm-512.png)\n","a1852622":"![mostcityVIsits.png](attachment:mostcityVIsits.png)","26f79512":"![](https:\/\/miro.medium.com\/max\/4800\/1*gHW_PLz7kWrhdl5t1sJRRA.png)\n<br>knowing the advantage of balancing classes, these techniques also have some drawbacks:\n* If you duplicate random records from the minority class to do oversampling, this will cause overfitting.\n* By undersampling and removing random records from the majority class, you risk losing some important information for the machine learning algorithm to use while training and predicting.","32b46c1d":"# **Outliers**\n# Age Outliers\nThe only column in which we can set some intervals is the age (edad_valor). I will set only a control for lower outlier but none on upper outlier.<br>The max of age column is 106 in this dataset,currently the oldest person in world died at 122 and 164 days old.<br>Our interval for age is then set at [0 - age] (upper and lower extremes included).<br>","e9feb454":"**It is widely known that doing correlation studies on an unbalanced dataset, the r values are not faithful and can put accuracy out of bussiness.<br>Imbalanced classes appear in many domains, including :**<br>\n* Fraud detection\n* Spam filtering\n* Disease screening\n* SaaS subscription churn\n* Advertising click-throughs \n\nAs a curiosity I will look for correlation before and after balancing the dataset.\n"}}