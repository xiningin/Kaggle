{"cell_type":{"9c21d876":"code","87e1b017":"code","d46a103f":"code","b545de3f":"code","20924187":"code","80889e58":"code","ba02d536":"code","de296dd6":"code","d17ed125":"code","82f9d7f0":"code","86c529e5":"code","58437845":"code","7a6bc0eb":"code","46d905fa":"code","9f4c30b2":"code","fe5cf7fa":"code","5fea9e62":"code","ff649fec":"code","d7c88aa9":"code","ce1b8cd2":"code","017444cf":"code","f9a1b0db":"code","1c5384d1":"markdown","d0a88f26":"markdown","aa571bc8":"markdown","6bce1c63":"markdown","4cebf12b":"markdown","c898ebde":"markdown","32202c8f":"markdown","dbd33353":"markdown","c6876832":"markdown","9a033189":"markdown","ceda0879":"markdown","71679112":"markdown","1e0c4d49":"markdown","e377aed1":"markdown","5514bd28":"markdown","9d3d1a09":"markdown","3f3b2e96":"markdown","23198242":"markdown","74647faa":"markdown"},"source":{"9c21d876":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport datetime as dt\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","87e1b017":"data = pd.read_csv('\/kaggle\/input\/photovideofixationtransportsystemmoscow\/data-400-2019-12-16.csv',sep = ';')","d46a103f":"data.info()","b545de3f":"data = data.drop(['Unnamed: 13'],axis =1)","20924187":"data.columns","80889e58":"data.head(10)","ba02d536":"data['ReportDate'] = pd.to_datetime(data['ReportDate'] ,format='%d.%m.%Y', errors='coerce')\n\nfor columnname in data.columns:\n    if columnname!= 'ReportDate':\n        data[columnname]  = pd.to_numeric(data[columnname],downcast='integer', errors = 'coerce')\n        data[columnname] = data[columnname].fillna(0)\n        data[columnname] = data[columnname].astype('int')","de296dd6":"data['month']  = data['ReportDate'].dt.month\ndata['weekday']  = data['ReportDate'].dt.weekday\ndata['year']= data['ReportDate'].dt.year\ndata['year'] =data['year'].fillna(0)\ndata['year'] = data['year'].astype('int')","d17ed125":"data = data.loc[(data['year']<=2020)&(data['year']>2012)]","82f9d7f0":"data.boxplot(['TotalInfringementsAmount',\n              'SpeedLimitInfringementsAmount',\n              'BusLaneOffenceAmount',\n            ],figsize = [10,4])","86c529e5":"data.boxplot(['TTKOffenceAmount',\n             'ParkingOffenceAmount'],figsize = [10,4])","58437845":"data.boxplot(['FormalizedTotalInfringements',\n       'FormalizedSpeedLimitInfringementsAmount'],figsize = [10,4]\n            )","7a6bc0eb":"data.boxplot(['FormalizedBusLaneOffenceAmount', 'FormalizedTTKOffenceAmount',\n       'FormalizedParkingOffenceAmount'],figsize=[10,4])","46d905fa":"data.pivot_table(index = 'year', values = ['TotalInfringementsAmount','SpeedLimitInfringementsAmount', \n                                      'BusLaneOffenceAmount','TTKOffenceAmount', 'ParkingOffenceAmount']).plot(figsize = [13,7],grid = True)","9f4c30b2":"data.pivot_table(index = 'month', values = ['TotalInfringementsAmount','SpeedLimitInfringementsAmount', \n                                      'BusLaneOffenceAmount','TTKOffenceAmount', 'ParkingOffenceAmount']).plot(figsize = [13,7],grid = True)","fe5cf7fa":"data.pivot_table(index = 'weekday', values = ['TotalInfringementsAmount','SpeedLimitInfringementsAmount', \n                                      'BusLaneOffenceAmount','TTKOffenceAmount', 'ParkingOffenceAmount']).plot(figsize = [13,7],grid = True)","5fea9e62":"data.pivot_table(index = 'year', values = ['FormalizedTotalInfringements',\n       'FormalizedSpeedLimitInfringementsAmount',\n       'FormalizedBusLaneOffenceAmount', 'FormalizedTTKOffenceAmount',\n       'FormalizedParkingOffenceAmount']).plot(figsize = [13,7],grid = True)","ff649fec":"data.pivot_table(index = 'month', values = ['FormalizedTotalInfringements',\n       'FormalizedSpeedLimitInfringementsAmount',\n       'FormalizedBusLaneOffenceAmount', 'FormalizedTTKOffenceAmount',\n       'FormalizedParkingOffenceAmount']).plot(figsize = [13,7],grid = True)","d7c88aa9":"data.pivot_table(index = 'weekday', values = ['FormalizedTotalInfringements',\n       'FormalizedSpeedLimitInfringementsAmount',\n       'FormalizedBusLaneOffenceAmount', 'FormalizedTTKOffenceAmount',\n       'FormalizedParkingOffenceAmount']).plot(figsize = [13,7],grid = True)","ce1b8cd2":"sns.set(style=\"white\", palette=\"muted\", color_codes=True)\nf, axes = plt.subplots(1, 3, figsize=(15, 4), sharex=True)\nsns.despine(left=True)\nsns.distplot(data['TotalInfringementsAmount'], hist=False, color=\"g\", kde_kws={\"shade\": True},ax = axes[0])\nsns.distplot(data['SpeedLimitInfringementsAmount'], hist=False, color=\"r\", kde_kws={\"shade\": True},ax = axes[1])\nsns.distplot(data['BusLaneOffenceAmount'], hist=False, color=\"b\", kde_kws={\"shade\": True})\nplt.setp(axes, yticks=[])\nplt.tight_layout()","017444cf":"sns.set(style=\"white\", palette=\"muted\", color_codes=True)\nf, axes = plt.subplots(1, 2, figsize=(10, 4), sharex=True)\nsns.despine(left=True)\nsns.distplot(data['TTKOffenceAmount'], hist=False, color=\"g\", kde_kws={\"shade\": True},ax = axes[0])\nsns.distplot(data['ParkingOffenceAmount'], hist=False, color=\"r\", kde_kws={\"shade\": True},ax = axes[1])\nplt.setp(axes, yticks=[])\nplt.tight_layout()","f9a1b0db":"data.head(30)","1c5384d1":"You can move on to data replacement and cleansing.","d0a88f26":"ID = ID                                \nReport Date = \u0414\u0430\u0442\u0430 \u0434\u043e\u043a\u043b\u0430\u0434\u0430                         \nTotal Infringements Amount = \u0418\u0442\u043e\u0433\u043e \u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f \u0421\u0443\u043c\u043c\u0430          \nglobal id = \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440                            \nSpeed Limit Infringements Amount  = \u041f\u0440\u0435\u0434\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f \u0421\u0443\u043c\u043c\u0430          \nBus Lane Offence Amount = \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0439 \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u043d\u043e\u0439 \u043f\u043e\u043b\u043e\u0441\u044b                  \nTTK Offence Amount = \u0421\u0443\u043c\u043c\u0430 \u043f\u0440\u0430\u0432\u043e\u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f TTK                     \nParking Offence Amount  = \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0440\u043a\u043e\u0432\u043e\u0447\u043d\u044b\u0445 \u043c\u0435\u0441\u0442                   \nFormalized Total Infringements = \u0424\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0438\u0442\u043e\u0433 \u0418\u0442\u043e\u0433\u043e \u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f        \nFormalized Speed Limit Infringements Amount = \u0424\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0439 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0421\u0443\u043c\u043c\u0430    \nFormalized Bus Lane Offence Amount = \u0424\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043e\u0441\u044b \u0434\u0432\u0438\u0436\u0435\u043d\u0438\u044f \u0430\u0432\u0442\u043e\u0431\u0443\u0441\u0430             \nFormalized TTK Offence Amount = \u0424\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0439 TTK                 \nFormalized Parking Offence Amount = \u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u043f\u0430\u0440\u043a\u043e\u0432\u043a\u0438","aa571bc8":"By days of the week you can see a trend of increasing violations on weekends. This can be easily explained by the same traffic and ride quality.","6bce1c63":"Now we are drop unnecessary column name 'Unnamed: 13'","4cebf12b":"Look at full data info","c898ebde":"Add new columns with month and year for better analysis.","32202c8f":"Look at the names of all the columns and see if they've been removed.","dbd33353":"Let's look at the table itself. Let's call the first 10 lines of the table.","c6876832":"We can see the trend of increasing total violations in the middle of the year when Moscow has more light days and drier weather, we can see that the same trend of increasing is able to maintain speed limits and exit the bus lane. People are starting to drive a little faster. Traffic on the roads is getting more and more.","9a033189":"We convert the data format of the column with the dates into a convenient form, and convert the rest of the value into integer format.","ceda0879":"Read the data.","71679112":"We'll replace the data type we don't need. The data itself is clean enough.","1e0c4d49":"Delete incorrectly written data.","e377aed1":"The total number of violations on the histogram shows the abnormal distribution. Two peaks with a large number of violations are visible, this is due to the gradual introduction of bus lines on different road sections by time and geographic location.","5514bd28":"See the distribution of average number of violations by year from 2013-2019.","9d3d1a09":"It is seen that the total number of violations goes up sharply from 2017, it is also seen that this trend is due to the same trend upward on violations on the bus lane, it is associated with the introduction of the relevant law from 2017 and the possibility of fixing this violation, as well as increasing the number of bus lanes.","3f3b2e96":"When all three columns are analysed, it is clear that the average number of offences is higher, which is natural. But for example violations for the bus lane rule are higher and the spread on them is greater than violations in speed mode. The emissions in the bus lane are higher and more than in speed mode as well.","23198242":"Very low variation of TTKO values and a large number of upward emissions, per parking violation is more variable and fewer emissions.","74647faa":"### Visualization"}}