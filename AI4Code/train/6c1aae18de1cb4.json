{"cell_type":{"1abf1eb9":"code","38a1bedf":"code","85b5b4bb":"code","f3d5defa":"code","6ed19914":"code","b9f5350d":"markdown","fd99101e":"markdown","726324c8":"markdown","1e26aa28":"markdown","f052c1f5":"markdown","7bfe7c5c":"markdown","f53ce27e":"markdown"},"source":{"1abf1eb9":"import cv2\nimport json\nimport os\nimport csv\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom PIL import Image, ImageDraw","38a1bedf":"json_filename = '..\/input\/hubmap-kidney-segmentation\/train\/0486052bb.json'\nread_file = open(json_filename, \"r\") \ndata = json.load(read_file)\ndata[0]\n\npolys = []\nfor index in range(data.__len__()):\n    geom = np.array(data[index]['geometry']['coordinates'])\n    polys.append(geom)","85b5b4bb":"shape = (25784, 34937)\n","f3d5defa":"mask_1 = np.zeros(shape)\nfor i in range(len(polys)):\n    cv2.fillPoly(mask_1, polys[i], i+1)\n\nplt.imshow(mask_1)","6ed19914":"Image.MAX_IMAGE_PIXELS = None\nimg = Image.new('L', (shape[1], shape[0]), 0)  # (w, h)\nfor i in range(len(polys)):\n    poly = polys[i]\n    ImageDraw.Draw(img).polygon(tuple(map(tuple, poly[0])), outline=i + 1, fill=i + 1) \n\nmask_2 = np.array(img)\nplt.imshow(mask_2)","b9f5350d":"### Method 1","fd99101e":"## Import packages","726324c8":"## Load polygon mask","1e26aa28":"### Method 2","f052c1f5":"## Reference code for converting polygon vector into pixel masks","7bfe7c5c":"### The shape of the image, h * w","f53ce27e":"# Converting Polygon Masks to Pixel Masks\nBy Leah Scherschel and Yingnan Ju - Indiana University"}}