{"cell_type":{"2e7bec4e":"code","0ceb0ab6":"code","14cb984a":"code","a5d5b3ee":"code","e28fd617":"code","9e8d81c7":"code","64e8f7b0":"code","d2375d66":"code","37319b7a":"code","2025e66b":"code","23263dae":"code","1b8f781c":"code","c8c6be9b":"code","a3a89ef2":"code","7d6c1b70":"code","00fb3871":"code","32c759f4":"code","4be16f70":"code","a5cdb494":"code","342b56e5":"code","60f03fa7":"markdown","77ed4dfd":"markdown","303a796f":"markdown","b68e371c":"markdown","3722b0cf":"markdown","b6b55c7f":"markdown","9194c165":"markdown"},"source":{"2e7bec4e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0ceb0ab6":"df = pd.read_csv(\"\/kaggle\/input\/us-police-shootings\/shootings.csv\")\ndf10 = pd.read_excel(\"\/kaggle\/input\/populous\/population1.xlsx\")","14cb984a":"df","a5d5b3ee":"df10","e28fd617":"df['Year'] = df['date'].apply(lambda x:x[0:4])\ndf['Month'] = df['date'].apply(lambda x :x[5:7])\ndf","9e8d81c7":"sns.countplot(x='manner_of_death',data = df)","64e8f7b0":"sns.countplot(x='signs_of_mental_illness',data = df)","d2375d66":"df1 = pd.DataFrame(df['gender'].value_counts(normalize=True),\n                   index=['M','F'])\nplot = df1.plot.pie(subplots=True, autopct='%1.1f%%', figsize=(5,5))\nplt.xlabel(\"Gender distribution(shot)\")\n","37319b7a":"my_colors = 'yellow'\ndf['flee'].value_counts().plot(kind='barh', figsize=(10,5) , color=my_colors)\nplt.xlabel(\"Count\")\nplt.ylabel(\"Method of fleeing\")\n","2025e66b":"sns.countplot(x='body_camera',data = df)","23263dae":"plt.figure(figsize=(18,4))\nsns.countplot(x='arms_category',data = df)","1b8f781c":"sns.countplot(x='Month',data = df)\nplt.xlabel(\"Deaths every month\")","c8c6be9b":"sns.countplot(x='Year',data = df)\nplt.xlabel(\"Deaths every year\")\n","a3a89ef2":"sns.distplot(df['age'], hist=True, kde=True,bins=int(180\/5), color = 'darkblue')","7d6c1b70":"plt.figure(figsize=(15,4))\nsns.countplot(x='state',data = df)\nplt.xlabel(\"Deaths grouped by states\")","00fb3871":"df['city'].value_counts().nlargest(10)","32c759f4":"df9 = pd.DataFrame(df['city'].value_counts(normalize=True).nlargest(10))\nplot = df9.plot(subplots=True,kind ='bar', figsize=(5,5))\nplot\nplt.xlabel(\"Top 10 cities\")","4be16f70":"df1 = df.pivot_table(values = 'age', index=['state'], columns='manner_of_death',aggfunc='count')\ndf1 = df1.fillna(0)\ndf2 = df.pivot_table( values = 'age',index=['state'],aggfunc=np.mean)\ndf2 = df2.fillna(0)\ndf3 = df.pivot_table( values = 'Year',index=['state'], columns='race',aggfunc='count')\ndf3 = df3.fillna(0)\n\nall_data = pd.merge(df1, df3, 'left', on = [\"state\"] ) \nall1_data = pd.merge(all_data, df2, 'left', on = [\"state\"] ) ","a5cdb494":"cm = sns.light_palette(\"green\", as_cmap=True)\ncm1 = sns.light_palette(\"purple\", as_cmap=True)\ncm2 = sns.light_palette(\"blue\", as_cmap=True)\ncm3 = sns.light_palette(\"m\", as_cmap=True)\ncm4 = sns.light_palette(\"orange\", as_cmap=True)\ncm5 = sns.light_palette(\"gold\", as_cmap=True)\ncm6 = sns.light_palette(\"peru\", as_cmap=True)\n\n\n\n\ncm = (all1_data.style\n  .background_gradient(cmap=cm, subset=['age']) \n  .background_gradient(cmap=cm1, subset=['White']) \n  .background_gradient(cmap=cm2, subset=['Hispanic']) \n  .background_gradient(cmap=cm3, subset=['Native']) \n  .background_gradient(cmap=cm4, subset=['shot']) \n  .background_gradient(cmap=cm5, subset=['Asian']) \n  .background_gradient(cmap=cm6, subset=['Black']) \n  .highlight_max(subset=['age','White','Other','Native','Hispanic','Black','Asian','shot'])\n  .set_caption('This is a custom caption.')\n  .format({'total_amt_usd_pct_diff': \"{:.2%}\"}))\ncm","342b56e5":"df10[['state','People shot per million']].sort_values(['People shot per million'], ascending=False).head(10).style.background_gradient(subset='People shot per million', cmap='BuGn')","60f03fa7":"Top 3 states with most number of crimes\n1. California \n2. Texas\n3. Florida","77ed4dfd":"Most number of people being shot per thousand\n* Alaska\n* New Mexico\n* Oklahoma","303a796f":"Top 10 cities with the most deaths","b68e371c":"Created a dataframe with population in the states","3722b0cf":"Insights\n* It can be seen that most number of people are being killed in CA","b6b55c7f":"Gender\n* Male - 95 % \n* Female - 4.5 %","9194c165":"Extracting year and month from date"}}