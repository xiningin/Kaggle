{"cell_type":{"daa84fbb":"code","90fa6560":"code","8df77266":"code","c4b18afd":"code","9e51ffeb":"code","9b745d03":"code","54af36a3":"code","8cff246d":"code","2ac2bffa":"code","2e875820":"code","7933277c":"code","1c63382f":"code","f1a0eb5a":"code","3a4342d5":"code","f135f9cb":"code","21e35ccb":"code","5791cc97":"code","d437d045":"code","b0d33b97":"code","0cfd6b76":"code","590a07da":"code","91810160":"code","3d4dc03f":"code","31095499":"code","37dc5a0f":"code","41c3545b":"code","9848ae2b":"markdown","84149b1d":"markdown","a606a777":"markdown","34ed39b2":"markdown","feb8bb0e":"markdown","521d2bb2":"markdown","ccbd6d8a":"markdown"},"source":{"daa84fbb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","90fa6560":"import matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","8df77266":"data_path = '..\/input\/customer-personality-analysis\/marketing_campaign.csv'\n\ndata_df = pd.read_csv(data_path, sep='\\t')\ndata_df.head(10)","c4b18afd":"people_df = pd.DataFrame(data_df, columns=['ID', 'Year_Birth', 'Education', 'Marital_Status', 'Income', 'Kidhome',\n                         'Teenhome', 'Dt_customer', 'Recency', 'Complain'])\n\n\nproduct_df = pd.DataFrame(data_df, columns=['ID','MntWines', 'MntFruits', 'MntMeatProducts',\n                                           'MntFishProducts', 'MntSweetProducts', 'MntGoldPods'])\n\npromotions_df = pd.DataFrame(data_df, columns=['ID','NumDealsPurchases', 'AcceptedCmp1', 'AcceptedCmp2',\n                                              'AcceptedCmp3', 'AcceptedCmp4', 'AcceptedCmp5', \n                                              'Response'])\n\nplace_df = pd.DataFrame(data_df, columns=['ID','NumWebPurchases', 'NumCatalogPurchases', 'NumStorePurchases', \n                                          'NumWebVisitsMonth'])","9e51ffeb":"marital_stat = people_df.Marital_Status.value_counts()\nmarital_stat","9b745d03":"people_df['Kids'] = people_df.Teenhome + people_df.Kidhome\n\n\npeople_df['Marital_Status'] = people_df['Marital_Status'].replace(['Married', 'Together'], 'Relationship')\npeople_df['Marital_Status'] = people_df['Marital_Status'].replace(['Single', 'Divorced', 'Widow', 'Alone', 'YOLO', 'Absurd'],'Single')\n","54af36a3":"people_df['Education'] = people_df.Education.replace(['Graduation','PhD','Master','2n Cycle'], 'PostGrad')\npeople_df.Education = people_df.Education.replace(['Basic'], 'UnderGrad')\npeople_df","8cff246d":"people_df['Age'] = 2015 - people_df.Year_Birth\npeople_df","2ac2bffa":"people_df.drop(['Year_Birth', 'Kidhome', 'Teenhome'], axis=1)\npeople_df","2e875820":"people_df.rename(columns={'Recency':'Last_Purchase'}, inplace=True)\npeople_df","7933277c":"people_new = people_df[['ID', 'Education', 'Marital_Status', 'Income', 'Last_Purchase', 'Complain', 'Kids', 'Age']]\npeople_new","1c63382f":"plt.figure(figsize=(12,8))\nsns.countplot(x=people_new.Marital_Status, hue=people_new.Education, data=people_new)\nplt.xlabel('Marital Status')\nplt.ylabel('Count of people in DB')\nplt.title('Marital Status vs Education')","f1a0eb5a":"sns.heatmap(people_new.corr(), cmap='RdBu', linewidth=1, vmin=-1, vmax=1,\n           square=True, annot=True, fmt='.2f', linecolor='black')","3a4342d5":"sns.barplot(x=people_new.Marital_Status, y=people_new.Age, data=people_new,\n           estimator=np.mean)","f135f9cb":"sns.heatmap(product_df.corr(), annot=True, cmap='RdBu', linewidth=1,\n           vmin=-1, vmax=1, center=0)","21e35ccb":"from functools import reduce\n\nnew_df = reduce(lambda  left,right: pd.merge(left,right,on=['ID'],\n                                            how='outer'), [product_df.fillna(0),promotions_df,place_df])\nnew_df","5791cc97":"final_df= pd.merge(people_new,new_df, on='ID', how='outer')\nfinal_df.head()","d437d045":"plt.figure(figsize=(15,12))\nsns.heatmap(final_df.corr(), annot=True, vmin=-1, vmax=1,\n           linewidth=1, cmap='RdBu',fmt='.2f')","b0d33b97":"last_df = final_df.drop(['ID', 'NumWebVisitsMonth','MntGoldPods','Complain', 'Last_Purchase',\n                        'AcceptedCmp2', 'AcceptedCmp3', 'AcceptedCmp4' ], axis=1)\n\nlast_df.head()","0cfd6b76":"last_df.shape","590a07da":"sns.barplot(x=last_df.Marital_Status, y=last_df.MntWines, data=last_df,\n           estimator=np.sum)","91810160":"sns.barplot(x=last_df.Marital_Status, y=last_df.MntFruits, data=last_df,\n           estimator=np.sum)","3d4dc03f":"sns.barplot(x=last_df.Marital_Status, y=last_df.MntMeatProducts, data=last_df,\n           estimator=np.sum)","31095499":"sns.barplot(x=last_df.Marital_Status, y=last_df.MntSweetProducts, data=last_df,\n           estimator=np.sum)","37dc5a0f":"sns.barplot(x=last_df.Marital_Status, y=last_df.MntFishProducts, data=last_df,\n           estimator=np.sum)","41c3545b":"sns.pairplot(last_df, vars=['MntFruits', 'MntMeatProducts', 'MntWines', 'MntFishProducts', 'MntSweetProducts'],\n            hue='Marital_Status', kind='reg', plot_kws={'ci':None})","9848ae2b":"**PERFORM EDA ON THE DATA**","84149b1d":"**MERGING ALL THE DATAFRAMES TO FORM ONE NEW DATAFRAME**","a606a777":"**CLUSTER THE ATTRIBUTES WITH SIMILAR ATTIRIBUTES IN ORDER TO PERFORM FEATURE ENGINEERING**","34ed39b2":"**COMBING THE DATAFRAMES RELATED TO PRODUCTS**","feb8bb0e":"**PEOPLE IN RELATIONSHIPS TEND TO SPEND MORE THAN PEOPLE WHO ARE SINGLE**","521d2bb2":"**DROPPING COLUMNS THAT HAVE RELATIVELY LOW CORRELATION**","ccbd6d8a":"**DATA VISUALIZATION LIBRARIES**"}}