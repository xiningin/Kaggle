{"cell_type":{"54ce2d50":"code","eff725d3":"code","d5d45d91":"code","b4be66fd":"code","020e0e06":"code","3078f9fd":"code","87a724cb":"code","2c0c7def":"code","6814a211":"code","66d8a54a":"code","352c29a9":"code","c87596dc":"code","57ab9661":"code","3a5148f2":"code","167a46cc":"code","865e551e":"code","85315576":"code","e24effc8":"code","88db0040":"code","7b74f4f3":"code","b2cb2995":"code","14e084f3":"code","00ec0b56":"code","ebf10b8c":"code","89c69193":"markdown","e043a400":"markdown","4de045fc":"markdown","dca0e47e":"markdown","cfd9d038":"markdown","f5b82037":"markdown","e62a7f21":"markdown","cebfe8d6":"markdown","19e5f19c":"markdown","bf6aaf6b":"markdown","a54a3039":"markdown","5e5c00f6":"markdown","b530dd70":"markdown","fd205ac8":"markdown","cab09073":"markdown","0879db3d":"markdown","cef93466":"markdown","3d17f3f5":"markdown","d5dc6dcf":"markdown","7d9f8293":"markdown"},"source":{"54ce2d50":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport datetime as dt\nimport matplotlib.pyplot as plt\nimport plotly.express as px\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","eff725d3":"df = pd.read_csv('\/kaggle\/input\/world-marathons-majors\/world_marathon_majors.csv', encoding= 'unicode_escape')\ndf.tail()","d5d45d91":"df.isnull().sum()","b4be66fd":"df.info()","020e0e06":"df['time'] = pd.to_datetime(df['time'], format='%H:%M:%S')","3078f9fd":"#pd.set_option('display.max_rows', None) #to display everything#\nyear_freq = df.groupby(['year'])['year'].count()\nprint(year_freq)","87a724cb":"df[df['year'].between(1897, 1965)]","2c0c7def":"seventy = df[df['year'].between(1970, 1971)].reset_index()\nseventy.set_index('year').sort_index()","6814a211":"df[df['year'] == 1972]","66d8a54a":"df[df['year'].between(1970, 1981)]['marathon'].unique()","352c29a9":"df[df['year'] == 1981].reset_index()\n","c87596dc":"df[df['year'] == 1987]['marathon'].unique()","57ab9661":"df[df['year'] == 2014]","3a5148f2":"df.drop(df[(df['winner'] == 'Rita Jeptoo') & (df['year'] == 2014)].index, inplace=True)\ndf[df['winner'] == 'Rita Jeptoo']","167a46cc":"df.drop(df[df['year'] == 2018].index, inplace=True)","865e551e":"df.year.max()","85315576":"df.info","e24effc8":"x = df['country'].value_counts()\nx = pd.DataFrame(x).reset_index()\nx.columns = ['country', 'winners freq']\nx.set_index('country')\nx.sort_values('country')\nx\n","88db0040":"fig, ax = plt.subplots(figsize=(20, 10))\nax = sns.barplot(x=\"winners freq\", y=\"country\", data=x)\nax.set_title('COUNTRIES WITH THE MOST WINS')\nplt.show()","7b74f4f3":"goat = df.value_counts('winner')[:10] \ngoat = pd.DataFrame(goat).reset_index()\ngoat.columns = ['Name', 'Winners Frequencies']\n\nfig, ax = plt.subplots(figsize=(20, 10))\nax = sns.barplot(x=\"Name\", y=\"Winners Frequencies\", data=goat)\nax.set_title(\"MARATHON GOAT's\", pad=20, fontdict={'fontsize':24})\nplt.show()","b2cb2995":"#pd.to_timedelta(df['time'])","14e084f3":"male_won = df[df['gender'] == 'Male']\nmale_won.set_index('year')","00ec0b56":"px.scatter(data_frame=male_won.sort_values('time'), y='time', x='year', color='marathon', hover_data=['winner'],title=\"Male Winners Time\")","ebf10b8c":"female_won = df[df['gender'] == 'Female'].reset_index(drop=True)\nfemale_won.set_index(['year'])\npx.scatter(data_frame=female_won, y='time', x='year', color='marathon', hover_data=['winner'], title=\"Female Winners Time\")","89c69193":"I decided to not create a graph because it's much easier eye balling it. \n\nHere are years that caught my attention:\n* 1966 - 1969: There are more than 1 winner for the first time on the dataset\n* 1970 - 1971: There are 3 winners on these years\n* 1972 - 1973: There are 4 winners on these years\n* 1974 - 1976: There are 6 winners on these years\n* 1977 - 1980: There are 8 winners on these years\n* 1981: There are 11 winners this year\n* 1987: There are 8 winners this year\n* 2012: There are only 10 winners this year after 12 winners the past 5 years\n* 2014: There are 13 winners that year\n* 2018: There are only 6 winners that year (incomplete dataset?)\n\nLet's take a look...","e043a400":"# 1974, 1977 and 1981\n\nA new city was added in 1974, 1977 and 1981. By 1981, World Marathon Majors are in 5 cities: Berlin, Boston, NYC, London and Chicago.\n\nFive Marathon Majors mean there should be 10 winners every year. However, in 1981 there is an abnomality, there an extra winner that year. \n","4de045fc":"Running 26.2 Miles are not the same everywhere. Let me explain: a Marathon runner would finish a Marathon much slower in a city where there are many hills. Let's find out if the winners'time have improved  ","dca0e47e":"Looks like when NYC Marathon started in 1970 and only open to Men runners, until 1972 when Women event was added to NYC Marathon. ","cfd9d038":"# World Marathon Majors \nBefore the COVID-19 lockdown, I had the chance to participate in LA Marathon 2020, on March 8th 2020. LA Marathon usually happens on the third Sunday of March, but for some reason in 2020, it was scheduled on the first Sunday of the month. Marathon races are 26.2 miles. LA Marathon starts from LA Dodgers Stadium and it ends in Santa Monica Pier. Elite runners get to go first (by gender, depending on the organizer), then casual runners like myself follow. From my understanding, there should be one winner from each gender every year.","f5b82037":"Looks like from 1897 to 1965, World Marathon Majors happened once a year in Boston. Also, only Men competed (and won) between those years. ","e62a7f21":"# LETS DO SOME VISUALIZATIONS","cebfe8d6":"# 1987\n\nThere are 8 winners in 1987, which means one of the Marathons did not happen. \n\n","19e5f19c":"# 2014\n\n2014 is an interesting year because there are 13 winners. \n\nLet's take a quick look before we move on to charts and graphs.","bf6aaf6b":"# 1897 - 1965\nFirst, I want to confirm the Marathons from 1897 to 1965 are happening in the same city.","a54a3039":"# WHO ARE THE GOATs?","5e5c00f6":"Interesting! The London race has two Male winners. ","b530dd70":"# 1970 - 1971\n\nThese two years caught my attention because there are odd numbers of winners. I am assuming World Marathon Majors added a city besides Boston. However, if my assumption is true, there should be 4 winners, instead of 3 winners. \n\nLet's investigate..","fd205ac8":"In 2014 Boston Marathon have 3 winners, and from a quick Google research, I found Rita Jeptoo was disqualified for doping. \nWe are going to go ahead and delete Rita Jeptoo's row![Screen%20Shot%202020-12-29%20at%206.02.29%20PM.png](attachment:Screen%20Shot%202020-12-29%20at%206.02.29%20PM.png)","cab09073":"Looks like Marathon runners' running time has been consistently decreasing since the first event started. ","0879db3d":"Lastly, since 2018 data is incomplete, we are going to drop 2018 rows. ","cef93466":"I did further research on the Marathon data and I found the following:\n> The Abbott World Marathon Majors (AbbottWMM) is a series of six of the largest and most renowned marathons in the world - Tokyo Marathon, B.A.A. Boston Marathon, Virgin Money London Marathon, BMW BERLIN-MARATHON, Bank of America Chicago Marathon and TCS New York City Marathon. \n\n","3d17f3f5":"I did a little searching on the web and found 2019 Bank of America Chicago Marathon Media Guide PDF. Apparently, due to loss of sponsorship,Chicago Marathon was cancelled. \n\n![Screen%20Shot%202020-12-29%20at%208.09.48%20AM.png](attachment:Screen%20Shot%202020-12-29%20at%208.09.48%20AM.png)\n\n","d5dc6dcf":"# 2012\n\nIn 2012, New York City Marathon was cancelled due to Hurricane Sandy. Therefore it makes sense there are 10 winners ","7d9f8293":"# NOT ALL 26.2 MILES ARE THE SAME"}}