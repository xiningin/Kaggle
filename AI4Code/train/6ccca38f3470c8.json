{"cell_type":{"9d9f709e":"code","0c7ba0d8":"code","1674095c":"code","af1ac208":"code","19dcf4bc":"code","06279a20":"code","476983fc":"code","b6d090cf":"code","c00783aa":"code","f6ecc142":"code","7d23a84f":"code","75c01120":"code","ff1c99e0":"code","0bf79c68":"code","7debcb5c":"code","41ac3202":"code","caa3acfc":"code","be370794":"code","9658417b":"code","05cd77e5":"code","efc28361":"code","b40c0171":"code","2b6711ed":"code","640d5e21":"code","94b4e3d3":"code","d470e790":"code","8286e297":"code","a7eaa71d":"code","e7046b3c":"code","423c71ac":"code","d4e945f3":"code","e01fd514":"code","7fd0f89a":"code","b50d35a9":"code","be0bf8e1":"code","cd53e9e7":"code","521d6d61":"code","476969ed":"code","0fcd21d7":"code","8c2099d6":"code","6537accc":"code","9d6ef6c0":"code","94bfc1a7":"code","e345974d":"code","48401711":"code","0b2e880a":"markdown"},"source":{"9d9f709e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0c7ba0d8":"data = pd.read_csv(\"..\/input\/us-minimum-wage-1938-2020\/MinimumWage.csv\")","1674095c":"data.head()","af1ac208":"data.describe()","19dcf4bc":"data.isna().sum()","06279a20":"data[\"MinWageIndexedLastRaiseYear\"]","476983fc":"data.dtypes","b6d090cf":"import locale\nlocale.setlocale(locale.LC_ALL,\"\")\ndata[\"FederalMinimumWage\"]  = data.FederalMinimumWage.map(lambda x: locale.atof(x.strip('$')))\ndata[\"MeanAnnualInflation\"]  = data.MeanAnnualInflation.map(lambda x: locale.atof(x.strip('%')))\n#data[\"MinWageIndexedLastRaiseYear\"]  = data.MinWageIndexedLastRaiseYear.map(lambda x: locale.atof(x.strip('$')))\ndata[\"UnemploymentRateDecember\"]  = data.UnemploymentRateDecember.map(lambda x: locale.atof(x.strip('%')))\ndata[\"GDP_AnnualGrowth\"]  = data.GDP_AnnualGrowth.map(lambda x: locale.atof(x.strip('%')))","c00783aa":"data.head()","f6ecc142":"data[\"MinWageIndexedLastRaiseYear\"] = data[\"MinWageIndexedLastRaiseYear\"].replace(np.nan, \"$0\")","7d23a84f":"data.head()","75c01120":"data[\"MinWageIndexedLastRaiseYear\"]  = data.MinWageIndexedLastRaiseYear.map(lambda x: locale.atof(x.strip('$')))","ff1c99e0":"data.dtypes","0bf79c68":"data.isna().sum()","7debcb5c":"data.head()","41ac3202":"data.describe()","caa3acfc":"import matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set_style('darkgrid')","be370794":"data.hist(figsize=(14,14), xrot=45)\nplt.show()","9658417b":"data.UnemploymentRateDecember.describe()","05cd77e5":"\"\"\"\"def normalize(column):\n    upper = column.max()\n    lower = column.min()\n    y = (column - lower)\/(upper-lower)\n    return y\nhelpful_normalized = normalize(data.UnemploymentRateDecember)\nhelpful_normalized.describe()\"\"\"","efc28361":"\"\"\"\"def sigmoid(x):\n    e = np.exp(1)\n    y = 1\/(1+e**(-x))\n    return y\nhelpful_sigmoid = sigmoid(data.UnemploymentRateDecember)\nhelpful_sigmoid.describe()\"\"\"","b40c0171":"\"\"\"\"np.log(data.UnemploymentRateDecember)\nUnemploymentRateDecember.describe()\"\"\"","2b6711ed":"def plot(df,col):\n    fig,(ax1,ax2) = plt.subplots(2,1)\n    sns.distplot(df[col], ax = ax1)\n    sns.boxplot(df[col], ax = ax2)","640d5e21":"plot(data,\"UnemploymentRateDecember\")","94b4e3d3":"#Replacing outliers with Median\n\ndata[\"UnemploymentRateDecember\"]= np.where(data['UnemploymentRateDecember'] >= 14, data['UnemploymentRateDecember'].median(), data[\"UnemploymentRateDecember\"])","d470e790":"plot(data,\"UnemploymentRateDecember\")","8286e297":"data.hist(figsize=(14,14), xrot=45)\nplt.show()","a7eaa71d":"corrs = data.corr()\ncorrs","e7046b3c":"plt.figure(figsize=(10,8))\nsns.heatmap(corrs, cmap='RdBu_r', annot=True)\nplt.show()","423c71ac":"data.head()","d4e945f3":"plot(data,\"FederalMinimumWage\")","e01fd514":"X = data.drop(\"FederalMinimumWage\", axis =1)\nX.head()","7fd0f89a":"y = data[\"FederalMinimumWage\"]","b50d35a9":"sns.lineplot(x='Year',y='FederalMinimumWage',data=data)\nplt.show()","be0bf8e1":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X,y,train_size=0.8,random_state=100)","cd53e9e7":"X_train.head()","521d6d61":"y_train.head()","476969ed":"from sklearn.ensemble import RandomForestRegressor\nfrom sklearn.model_selection import GridSearchCV","0fcd21d7":"Model = RandomForestRegressor(random_state=100,n_jobs=-1)\n\nparams = {'n_estimators':[100],\n          'min_samples_leaf':[10,30,50,100],\n          'max_depth':[5,10,20,40,60],\n          'max_features':[0.3,0.4,0.5,0.6,0.7]}\n\ngrid_search = GridSearchCV(estimator=Model,param_grid=params,n_jobs=-1,verbose=1,scoring='r2')\ngrid_search.fit(X_train,y_train)","8c2099d6":"Model_best = grid_search.best_estimator_","6537accc":"from sklearn.metrics import r2_score","9d6ef6c0":"print(r2_score(y_train,Model_best.predict(X_train)))","94bfc1a7":"print(r2_score(y_test,Model_best.predict(X_test)))","e345974d":"Feature_importance = pd.DataFrame({'Features': X_train.columns,'Importance':Model_best.feature_importances_})","48401711":"Feature_importance = Feature_importance.sort_values(by='Importance',ascending=False)\nFeature_importance","0b2e880a":"As we can see from above observation  ubemployment rate december is left skewed."}}