{"cell_type":{"b6a8318e":"code","69d4d770":"code","f220058d":"code","2803cc5b":"code","ad137997":"code","7a12e775":"code","2555a377":"code","099e3db0":"code","9aa99a97":"code","24be836c":"code","4a762f12":"code","b4432da7":"code","3f0b6cd7":"code","5593a367":"code","8c44b937":"code","ac5a7a7e":"code","3044a255":"code","1b7d023a":"code","b003da77":"code","1cda0bf4":"code","589f3ad3":"code","56d8a930":"code","f4dac8b6":"code","90e82fdc":"code","c344e654":"code","37a05f2a":"code","4f9223e0":"code","312f69a9":"code","af1ef6e5":"code","83581867":"code","933b4529":"code","83344869":"code","5d40ba32":"code","21663a52":"code","ddb1bb03":"code","d445a7ec":"code","c298f3fb":"code","e6db1d6f":"code","0f94b632":"code","1474120c":"code","d34cb815":"code","a5d790f8":"code","f2a12ffe":"code","902eae2d":"code","b00e5c48":"code","b3337151":"code","fe35cd65":"code","9d29f235":"code","3fbd8c4c":"markdown","ec607ebd":"markdown","94528028":"markdown","e5721fe5":"markdown","07a97277":"markdown","956e1a37":"markdown","05e3f20f":"markdown","322c0858":"markdown","f7476c5e":"markdown","5735b198":"markdown","8b8929f1":"markdown","dec8dba5":"markdown","4db0885d":"markdown"},"source":{"b6a8318e":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","69d4d770":"import os\nprint(os.listdir(\"..\/input\"))","f220058d":"train = pd.read_csv('..\/input\/house-prices-advanced-regression-techniques\/train.csv')\ntest = pd.read_csv('..\/input\/house-prices-advanced-regression-techniques\/test.csv')\nprint(train.shape)\nprint(test.shape)","2803cc5b":"train.head()","ad137997":"pd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)","7a12e775":"df = pd.concat((train,test))\ntemp_df = df\nprint(df.shape)","2555a377":"df.tail()","099e3db0":"df = df.set_index('Id')\ndf.shape","9aa99a97":"df.info()","24be836c":"plt.figure(figsize=(16,9))\nsns.heatmap(df.isnull())","4a762f12":"missing_value_percent = df.isnull().sum()\/df.shape[0] * 100\nmissing_value_percent","b4432da7":"null_value_clm_greater_20 = missing_value_percent[missing_value_percent > 20].keys()\nnull_value_clm_greater_20","3f0b6cd7":"df = df.drop(null_value_clm_greater_20, axis =1)\ndf.shape\n#80-6=74","5593a367":"num_var = df.select_dtypes(include=['int64','float64']).columns\nnum_var","8c44b937":"cat_var = df.select_dtypes(include=['object']).columns\ncat_var","ac5a7a7e":"missing_col = df.columns[df.isnull().any()]\nmissing_col","3044a255":"isnull_per = df.select_dtypes(include=['object']).isnull().mean()*100\nmiss_vars = isnull_per[isnull_per >0].keys()\nmiss_vars","1b7d023a":"df.select_dtypes(include=['object']).isnull().sum()","b003da77":"for var in miss_vars:\n    df[var].fillna(df[var].mode()[0],inplace=True)\n    print(var,\"=\",df[var].mode()[0])","1cda0bf4":"df.select_dtypes(include=['object']).isnull().sum().sum()","589f3ad3":"df.select_dtypes(include=['int64','float64']).isnull().sum()","56d8a930":"less_null_col = ['BsmtFinSF1','BsmtFinSF2','BsmtUnfSF','TotalBsmtSF','BsmtFullBath','BsmtHalfBath'\n                ,'GarageCars','GarageArea']","f4dac8b6":"plt.figure(figsize=(15,15))\nsns.set()\nfor i,var in enumerate(less_null_col):\n    plt.subplot(4,4,i+1)\n    sns.distplot(df[var], bins=20, kde_kws={'linewidth':8, 'color':'red'}, label=\"Original\")","90e82fdc":"df['BsmtFinSF1'] = df['BsmtFinSF1'].fillna(df['BsmtFinSF1'].median())\ndf['BsmtUnfSF'] = df['BsmtUnfSF'].fillna(df['BsmtUnfSF'].median())\ndf['TotalBsmtSF'] = df['TotalBsmtSF'].fillna(df['TotalBsmtSF'].median())\ndf['GarageArea'] = df['GarageArea'].fillna(df['GarageArea'].median())\nfor var in ['BsmtFinSF2','BsmtFullBath','BsmtHalfBath','GarageCars']:\n    df[var].fillna(df[var].mode()[0],inplace=True)","c344e654":"df.select_dtypes(include=['int64','float64']).isnull().sum().sum()\n#486+23+159","37a05f2a":"num_vars_miss = ['LotFrontage', 'MasVnrArea', 'GarageYrBlt']\ncat_vars = ['LotConfig','MasVnrType','GarageType']\nfor cat_var, num_var_miss in zip(cat_vars,num_vars_miss):\n    for var_class in df[cat_var].unique():\n        df.update(df[df.loc[:,cat_var] == var_class][num_var_miss].replace(np.nan,df[df.loc[:,cat_var] == var_class][num_var_miss].mean()))","4f9223e0":"df.select_dtypes(include=['int64','float64']).isnull().sum().sum()","312f69a9":"df.shape","af1ef6e5":"df.isnull().sum().sum()","83581867":"df.to_csv('hpp_missing_values_done_dataframe.csv')","933b4529":"df_categ = df.select_dtypes(include=['object'])\ndf_categ.shape","83344869":"df_dummies = df.loc[:,('MSZoning', 'Street', 'LotConfig','Neighborhood', 'Condition1', 'Condition2',\n                          'RoofStyle', 'RoofMatl', 'Exterior1st','Exterior2nd', 'MasVnrType', 'Foundation',\n                          'Heating', 'CentralAir', 'Electrical', 'GarageType', 'PavedDrive', 'SaleType', 'SaleCondition','BldgType')]\ndf_dummies.shape","5d40ba32":"dummy_df = pd.get_dummies(df_dummies, drop_first=True)\ndummy_df.shape","21663a52":"dummy_df.head(2)","ddb1bb03":"df_categ_dummies = pd.merge(df, dummy_df, on = 'Id')\ndf_categ_dummies.shape","d445a7ec":"df_ohe = df_categ_dummies.drop(['MSZoning', 'Street', 'LotConfig','Neighborhood', 'Condition1', 'Condition2',\n                          'RoofStyle', 'RoofMatl', 'Exterior1st','Exterior2nd', 'MasVnrType', 'Foundation',\n                          'Heating', 'CentralAir', 'Electrical', 'GarageType', 'PavedDrive', 'SaleType', 'SaleCondition', 'BldgType'],\n                          axis = 1)\ndf_ohe.shape\n#205-20","c298f3fb":"df_ohe.isnull().sum().sum()","e6db1d6f":"enc_df = df.loc[:,['LotShape', 'LandContour', 'Utilities', 'LandSlope', 'ExterQual', 'ExterCond','BsmtQual',\n                   'BsmtCond', 'BsmtExposure','BsmtFinType1', 'BsmtFinType2', 'HeatingQC', 'KitchenQual',\n                   'Functional', 'GarageFinish', 'GarageQual', 'GarageCond','HouseStyle']]\nenc_df.shape","0f94b632":"enc_df.isnull().sum().sum()","1474120c":"order_Label1 = {'Reg':4, 'IR1':3, 'IR2':2,'IR3':1}\norder_Label2 = {'Lvl':4, 'Bnk' :3,'HLS':2,'Low':1}\norder_Label3 = {'AllPub':4,'NoSewr':3,'NoSeWa':2,'ELO':1}\norder_Label4 = {'Gtl' :3,'Mod':2,'Sev':1}\norder_Label56 = {\"Ex\":4,\"Gd\":3,\"TA\":2,\"Fa\":1, \"Po\":0.5}\norder_Label78 = {\"Ex\":4,\"Gd\":3,\"TA\":2,\"Fa\":1,\"Po\":0.5, \"NA\":0}\norder_Label9 = {\"Gd\":4,\"Av\":3,\"Mn\":2,\"No\":1, \"NA\":0.5}\norder_Label1011 = {\"GLQ\":4,\"ALQ\":3,\"BLQ\":2,\"Rec\":1,\"LwQ\":0.5,\"Unf\":0.3,\"NA\":0}\norder_Label1213 = {\"Ex\":4,\"Gd\":3,\"TA\":2,\"Fa\":1, \"Po\":0.5}\norder_Label14 = {\"Typ\":5,\"Min1\":4,\"Min2\":3,\"Mod\":2,\"Maj1\":1,\"Maj2\":0.5,\"Sev\":0.3,\"Sal\":0}\norder_Label15 = {'Fin':4, 'RFn' :3,'Unf':2,'NA':1}\norder_Label1617 = {\"Ex\":4,\"Gd\":3,\"TA\":2,\"Fa\":1,\"Po\":0.5, \"NA\":0}\norder_Label19 = {\"SLvl\":5,\"SFoyer\":4,\"2.5Fin\":3,\"2.5Unf\":2,\"2Story\":1,\"1.5Fin\":0.5,\"1.5Unf\":0.3,\"1Story\":0}\n\nenc_df[\"LotShape_org_enc\"] = enc_df['LotShape'].map(order_Label1)","d34cb815":"enc_df[\"LandContour_org_enc\"] = enc_df['LandContour'].map(order_Label2)\nenc_df[\"Utilities_org_enc\"] = enc_df['Utilities'].map(order_Label3)\nenc_df[\"LandSlope_org_enc\"] = enc_df['LandSlope'].map(order_Label4)\nenc_df[\"ExterQual_org_enc\"] = enc_df['ExterQual'].map(order_Label56)\nenc_df[\"ExterCond_org_enc\"] = enc_df['ExterCond'].map(order_Label56)\nenc_df[\"BsmtQual_org_enc\"] = enc_df['BsmtQual'].map(order_Label78)\nenc_df[\"BsmtCond_org_enc\"] = enc_df['BsmtCond'].map(order_Label78)\nenc_df[\"BsmtExposure_org_enc\"] = enc_df['BsmtExposure'].map(order_Label9)\nenc_df[\"BsmtFinType1_org_enc\"] = enc_df['BsmtFinType1'].map(order_Label1011)\nenc_df[\"BsmtFinType2_org_enc\"] = enc_df['BsmtFinType2'].map(order_Label1011)\nenc_df[\"HeatingQC_org_enc\"] = enc_df['HeatingQC'].map(order_Label1213)\nenc_df[\"KitchenQual_org_enc\"] = enc_df['KitchenQual'].map(order_Label1213)\nenc_df[\"Functional_org_enc\"] = enc_df['Functional'].map(order_Label14)\nenc_df[\"GarageFinish_org_enc\"] = enc_df['GarageFinish'].map(order_Label15)\nenc_df[\"GarageQual_org_enc\"] = enc_df['GarageQual'].map(order_Label1617)\nenc_df[\"GarageCond_org_enc\"] = enc_df['GarageCond'].map(order_Label1617)\nenc_df[\"HouseStyle_org_enc\"] = enc_df['HouseStyle'].map(order_Label19)\nenc_df.shape","a5d790f8":"enc_df.head(2)","f2a12ffe":"enc_df = enc_df.drop(['LotShape', 'LandContour', 'Utilities', 'LandSlope', 'ExterQual', 'ExterCond','BsmtQual',\n                   'BsmtCond', 'BsmtExposure','BsmtFinType1', 'BsmtFinType2', 'HeatingQC', 'KitchenQual',\n                   'Functional', 'GarageFinish', 'GarageQual', 'GarageCond','HouseStyle'], axis = 1)\nenc_df.shape","902eae2d":"preproccd_df = pd.merge(df_ohe, enc_df, on = \"Id\")\npreproccd_df.shape\n#185+18","b00e5c48":"preproccd_df = preproccd_df.drop(['LotShape', 'LandContour', 'Utilities', 'LandSlope', 'ExterQual', 'ExterCond','BsmtQual',\n                   'BsmtCond', 'BsmtExposure','BsmtFinType1', 'BsmtFinType2', 'HeatingQC', 'KitchenQual',\n                   'Functional', 'GarageFinish', 'GarageQual', 'GarageCond','HouseStyle'], axis = 1)\npreproccd_df.shape","b3337151":"preproccd_df.head(3)","fe35cd65":"preproccd_df.isnull().sum().sum()","9d29f235":"preproccd_df.to_csv('preprocessed_houseprice_dataframe.csv')","3fbd8c4c":"### Saving preproccd csv file","ec607ebd":"## Handling Missing Values ","94528028":"### Saving a csv file ","e5721fe5":"### One hot encoding ","07a97277":"### Label encoding","956e1a37":"### Importing Libraries","05e3f20f":"### Handling num. missing values ","322c0858":"### Loading Datasets","f7476c5e":"#### Handling by class","5735b198":"#### Handling by median,mode","8b8929f1":"# House Price Prediction-Advanced Reggression Techniques","dec8dba5":"### Handling categ. missing values","4db0885d":"### Merging train and test datasets"}}