{"cell_type":{"faed653d":"code","6f38a2ef":"code","954e68a9":"code","1fd76d1f":"code","bc641d74":"code","32f31ef4":"code","aab7049a":"code","1244f884":"code","3876679c":"code","04181e72":"code","4c95e2bd":"code","2f0e1977":"code","8e405925":"code","1ad61a1c":"code","1164e12b":"code","544812e8":"code","64e5c045":"code","e7e8cdb9":"code","a02f751b":"code","1c522f69":"code","27d597f0":"code","303f5ef5":"code","93e47877":"code","fa0b27f6":"code","f8636f5f":"code","0b6d80e7":"markdown","f6b886e3":"markdown","9c41669a":"markdown","9fab3e7a":"markdown","d19a34f3":"markdown","4abc5a52":"markdown","9397df63":"markdown","09684b8a":"markdown"},"source":{"faed653d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6f38a2ef":"#importing dataset \n\ndf = pd.read_csv('\/kaggle\/input\/hotel-booking-demand\/hotel_bookings.csv')","954e68a9":"pd.set_option('display.max_columns', None)","1fd76d1f":"# viewing column and the data inside them and how they correlate\n\ndf.head()","bc641d74":"#now viewing which column is empty and of which data type\n\ndf.info()","32f31ef4":"#countries with most booking, month wise\n\n#grouping by countries and making dummy data of month\ngc = pd.get_dummies(df, columns=['arrival_date_month']).groupby('country').sum()\n\n#selecting countries which have more than 27000 arrival_data_day_month\nsc = gc.loc[gc['arrival_date_day_of_month']>=27000]\n\n#removing prefix from every month\nrp = sc.rename(columns = lambda x: x.replace('arrival_date_month_', ''))\n\n#selecting particular columns\nsp = rp.loc[:, 'April':'September']\n\nplt.figure(figsize = (18,8))\nax = sns.lineplot(data= sp, dashes=False)\nax.set_xlabel('Countries', fontsize = 20)\nax.set_ylabel('Visit Count', fontsize = 20)\nax.set_title('Month Wise Visiting Countries', fontsize = 30)\nplt.show()","aab7049a":"#in this we can see that which country spends the most amount of money when the are visiting\n\n#countries who visits the most\nsome_countries = ('PRT', 'GBR', 'FRA', 'ESP', 'DEU', 'ITA', 'IRL', 'BEL', 'BRA', 'NLD','USA','CHE')\n\n#counting how much time those top countries appear\ndft = df.loc[df['country'].isin(some_countries)]['country']\n\nplt.rcParams['figure.figsize'] = (18, 8)\nsns.set_style('whitegrid')\nax = sns.lineplot(x = dft, y = df['adr'])\nax.set_xlabel('Country name', fontsize =20)\nax.set_ylabel('Expenditure',fontsize =20)\nax.set_title('Expenditure of Visiting Countries', fontsize = 30)\nplt.show()","1244f884":"#combining the stays in weekends and stays in week days to get the total number nights spent\nstay = df['stays_in_weekend_nights'] + df['stays_in_week_nights']\n\nplt.rcParams['figure.figsize'] = (18, 8)\nsns.set_style('whitegrid')\nax = sns.lineplot(x = dft, y = stay)\nax.set_xlabel('Country name', fontsize =20)\nax.set_ylabel('Night Spent',fontsize =20)\nax.set_title('Country wise spending nights', fontsize = 30)\nplt.show()","3876679c":"#summing up the adults, children and babies column to see how much people visit\n\npeople = df['adults'] + df['children'] + df['babies']\n\nplt.rcParams['figure.figsize'] = (15, 7)\nsns.set_style('whitegrid')\nax = sns.lineplot(x = dft, y = people)\nax.set_xlabel('Country name', fontsize =20)\nax.set_ylabel('People visiting',fontsize =20)\nax.set_title('Country Wise People visiting', fontsize = 30)\nplt.show()","04181e72":"#in this we will see which hotel books the most\n\nplt.figure(figsize = (18,8))\nsns.set_style('darkgrid')\nax = sns.countplot(x = 'hotel', data = df, hue = 'is_canceled', palette = 'pink')\nax.set_xlabel('Hotel', fontsize=20)\nax.set_ylabel('Hotel Count', fontsize=20)\nax.set_title('Type of Hotel', fontsize=30)\nplt.show()","4c95e2bd":"#how much hotel gets canceled\n\ncanc_count = df['is_canceled'].value_counts()\ncanc_count","2f0e1977":"#which hotel gets canceled the most\n\ncanceled_hotel = df[(df['is_canceled']==1) & (df['hotel'])]['hotel'].value_counts()\n\ncanceled_hotel","8e405925":"#now see percent wise cancelation of hotel\n\nlabels = canceled_hotel.index\ndata  = canceled_hotel.values\n\nplt.rcParams['figure.figsize'] = (15,9)\n\nplt.pie(data, labels = labels,autopct='%1.1f%%',shadow=True, startangle=90)\nplt.axis('equal')\nplt.title(\"Canceled Hotel Percent by Type\", fontsize=20)\nplt.show()","1ad61a1c":"#which hotel got most booking in which month\n\nplt.figure(figsize = (18,8))\nax = sns.countplot( x = df['arrival_date_month'],data = df, hue = 'hotel', palette = 'husl')\nax.set_xlabel('Month', fontsize = 20)\nax.set_ylabel('Hotels', fontsize = 20)\nax.set_title('Month with Type of Hotel', fontsize = 30)\nplt.show()","1164e12b":"#which type of hotel has the highest lead_time\n\nres_lead = df[(df['hotel']=='Resort Hotel')]['lead_time'].sum()\ncit_lead = df[(df['hotel']=='City Hotel')]['lead_time'].sum()","544812e8":"plt.figure(figsize = (18,8))\nax = sns.barplot(x = ['Resort','City'],y = [res_lead,cit_lead],palette = 'magma')\nax.set_xlabel('Hotel', fontsize=20)\nax.set_ylabel('Lead Time Total', fontsize=20)\nax.set_title('Type of Hotel with Lead Time', fontsize=30)\nplt.show()","64e5c045":"some_countries = ('PRT', 'GBR', 'FRA', 'ESP', 'DEU', 'ITA', 'IRL', 'BEL', 'BRA', 'NLD','USA','CHE')\ndft = df.loc[df['country'].isin(some_countries)]['country']\n\nplt.rcParams['figure.figsize'] = (18, 8)\nsns.set_style('whitegrid')\nax = sns.countplot(dft, hue = df['hotel'], palette = 'bone')\nax.set_xlabel('Country name', fontsize =20)\nax.set_ylabel('Tourist Trip',fontsize =20)\nax.set_title('Countries like for Particular type of hotel', fontsize = 30)\nplt.show()","e7e8cdb9":"#dropping this one hotel, it is the only hotel which is getting 5400 amount\n\ndf.index[df['adr']==5400]\ndf.drop([48515],inplace = True)","a02f751b":"#which type of hotel earns the most\n\n\nsns.violinplot(x = 'hotel', y='adr', data =df)\nax.set_xlabel('Hotel Type', fontsize =20)\nax.set_ylabel('Earning Amount',fontsize =20)\nax.set_title('Earning of Hotel by Type', fontsize = 30)\nplt.show()","1c522f69":"#month with most number of bookings\n\nplt.figure(figsize = (18,8))\nsns.set_style(\"darkgrid\")\nax = sns.countplot(x = df['arrival_date_month'], data = df)\nax.set_xlabel('Month', fontsize = 20)\nax.set_ylabel('Hotels', fontsize = 20)\nax.set_title('Month With most booking', fontsize = 30)\n\nplt.show()\n\n","27d597f0":"#month with most number of lead_time\n\nplt.figure(figsize = (18,8))\nsns.set_style(\"whitegrid\")\nax = sns.violinplot(x = 'arrival_date_month', y = 'lead_time' ,data=df)\nax.set_xlabel('Month', fontsize = 20)\nax.set_ylabel('Lead Time', fontsize = 20)\nax.set_title('Most Number of Lead Time', fontsize = 30)\nplt.show()","303f5ef5":"#in which month hotel get canceled the most\n\ncanceled_month = df[(df['is_canceled']==1) & (df['arrival_date_month'])]['arrival_date_month'].value_counts()","93e47877":"plt.figure(figsize = (18,8))\nsns.set_style(\"darkgrid\")\nax = sns.lineplot(x = canceled_month.index, y = canceled_month.values, markers=True, dashes=False)\nax.set_xlabel('Month', fontsize = 20)\nax.set_ylabel('Canceled Hotels', fontsize = 20)\nax.set_title('Month With most canceled hotel', fontsize = 30)\n\nplt.show()","fa0b27f6":"labels = canceled_month.index\nsizes = canceled_month.values\ncolors = plt.cm.rainbow(np.linspace(0,3))\n\nexplode = (0.2,0.1, 0, 0,0,0,0,0,0,0,0,0)\nplt.rcParams['figure.figsize'] = (15,9)\n\nplt.pie(sizes, labels=labels,explode = explode ,  autopct='%1.1f%%',shadow=True, startangle=90, colors = colors)\n\nplt.axis('equal')  \nplt.title(\"Month with most canceled hotel by Percent\", fontsize =20)\nplt.show()","f8636f5f":"#month where hotels gained most\nsns.stripplot(x = 'arrival_date_month' , y = 'adr', data = df)\nax.set_xlabel('Month', fontsize =20)\nax.set_ylabel('Earning',fontsize =20)\nax.set_title('Month Wise Earning of Hotel', fontsize = 30)\nplt.show()","0b6d80e7":"Thank You. If you like the analysis, please upvote :)","f6b886e3":"# Hotel","9c41669a":"# Countries","9fab3e7a":"# Month","d19a34f3":"city hotel gets the most amount of booking","4abc5a52":"in the upper graph, people from Ireland spents the most nights in average","9397df63":"in the upper graph USA leads in spending the money","09684b8a":"as we can see in upper graph that Portugal visits very frequently and they tops every month"}}