{"cell_type":{"5439be16":"code","d1f7c60d":"code","b572d845":"code","2f24b443":"code","62fb469f":"code","058038dd":"code","c6ec01c3":"code","acdbcf47":"code","30666e2d":"code","ead9a0a0":"code","7388ef4d":"code","4aca2bab":"code","7c10d303":"code","709195f1":"code","3386a84c":"code","fb6898c9":"code","4a9d1213":"code","061e68cb":"code","c9b28769":"code","6029f7ec":"code","1eb639ab":"code","13e60222":"code","4eb13a09":"code","09d7fe35":"code","bc947afe":"code","6caf83a9":"code","6fd6b948":"code","69de95e7":"code","d3bf7884":"code","f94a2d62":"code","e8e1ad3c":"code","e8c5a957":"code","427b235e":"code","542f36c1":"code","5cef6f6c":"code","327422fc":"code","5318a616":"code","5514230d":"code","736ecfae":"code","b32b93e9":"code","ab4137aa":"code","b76ac2d5":"code","7a5e4e57":"code","2c3204f0":"code","9e81225c":"code","2686e079":"code","7355dd71":"code","9c767472":"markdown","afdc574d":"markdown","fc041452":"markdown","0986211a":"markdown","2fef8935":"markdown","312ddbfb":"markdown","2d161a54":"markdown","36a86685":"markdown","dda603b1":"markdown","5ab1ebdb":"markdown","0ae13ab1":"markdown","ee79f1c5":"markdown","1b055d84":"markdown","33b6d99c":"markdown","fd9a17bf":"markdown","0e2a906b":"markdown","acfd58b7":"markdown","13cbb621":"markdown","9f4dae4c":"markdown","e379cb93":"markdown","f19a8259":"markdown","0643f5a4":"markdown","b6db71b3":"markdown"},"source":{"5439be16":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom datetime import datetime","d1f7c60d":"data=pd.read_csv(\"\/kaggle\/input\/state-wise-power-consumption-in-india\/dataset_tk.csv\")\ndata.rename(columns={\"Unnamed: 0\":\"Date\"},inplace=True)\ndata['Date']=pd.to_datetime(data[\"Date\"],dayfirst=True)\ndata[\"year\"]=data[\"Date\"].dt.year\ndata[\"month\"]=data[\"Date\"].dt.month\ndata[\"day\"]=data[\"Date\"].dt.day\ndata.drop([\"Date\"],axis=1,inplace=True)\ndata.head(2)","b572d845":"long=pd.read_csv(\"\/kaggle\/input\/state-wise-power-consumption-in-india\/long_data_.csv\")\nlong['Dates']=pd.to_datetime(long[\"Dates\"],dayfirst=True)\nlong[\"year\"]=long[\"Dates\"].dt.year\nlong[\"month\"]=long[\"Dates\"].dt.month\nlong[\"day\"]=long[\"Dates\"].dt.day\nlong.drop([\"latitude\",\"longitude\",\"Dates\"],axis=1,inplace=True)","2f24b443":"long.head(2)","62fb469f":"c=dict()\nfor i in (long.Regions.unique()):\n    a=long[(long[\"Regions\"]==i)&(long[\"year\"]==2020)]\n    b=a.Usage.sum()\n    c.update({i:b})\n    \nprint(c)\n\nd=dict()\nfor i in (long.Regions.unique()):\n    a=long[(long[\"Regions\"]==i)&(long[\"year\"]==2019)]\n    b=a.Usage.sum()\n    d.update({i:b})\n    \nprint(d)","058038dd":"print(f\" maximum power consumed in 2020 is {c[max(c)]} by {max(c)} region\\n minmum power consumed in 2020 is {c[min(c)]} by {min(c)} region  \")\nprint(f\" maximum power consumed in 2019 is {d[max(d)]} by {max(d)} region\\n minmum power consumed in 2019 is {d[min(d)]} by {min(d)} region  \")","c6ec01c3":"table1=pd.DataFrame.from_dict(c,orient=\"index\")\ntable2=pd.DataFrame.from_dict(d,orient=\"index\")","acdbcf47":"table1.rename(columns={0:\"total usages (2020)\"},inplace=True)\ntable2.rename(columns={0:\"total usages (2019)\"},inplace=True)","30666e2d":"table1.head(2)","ead9a0a0":"plt.figure(figsize=(10, 5))\nsns.barplot(x=\"total usages (2020)\",y=table1.index,data=table1)","7388ef4d":"plt.figure(figsize=(10, 5))\nsns.barplot(x=\"total usages (2019)\",y=table2.index,data=table2)","4aca2bab":"# print(\"***************2020****************\")\nusage2020=dict()\nfor i in (long.States.unique()):\n    a=long[(long[\"States\"]==i)&(long[\"year\"]==2020)]\n    b=a.Usage.sum()\n    usage2020.update({i:b})\n# print(usage2020)\n# print(\"***************2019****************\")\nusage2019=dict()\nfor i in (long.States.unique()):\n    a=long[(long[\"States\"]==i)&(long[\"year\"]==2019)]\n    b=a.Usage.sum()\n    usage2019.update({i:b})\n# print(usage2019)","7c10d303":"table3=pd.DataFrame.from_dict(usage2020,orient=\"index\")\ntable4=pd.DataFrame.from_dict(usage2019,orient=\"index\")","709195f1":"table3.rename(columns={0:'toat usage in 2020'},inplace=True)\ntable4.rename(columns={0:'toat usage in 2019'},inplace=True)","3386a84c":"table3.sort_values(by=['toat usage in 2020'],ascending=False,inplace=True)\ntable4.sort_values(by=['toat usage in 2019'],ascending=False,inplace=True)","fb6898c9":"print('Top 10 states that consume maximum power in 2020')\ntable3.head(10)\n","4a9d1213":"print('Top 10 states that consume maximum power in 2019')\ntable4.head(10)","061e68cb":"table5=table4.head(10)\nplt.figure(figsize=(15, 5))\nsns.barplot(y=\"toat usage in 2019\",x=table5.index,data=table5)\nprint(\"Top 10 states that consume maximum power in 2019\")","c9b28769":"table6=table3.head(10)\nplt.figure(figsize=(15, 5))\nsns.barplot(y=\"toat usage in 2020\",x=table6.index,data=table6)\nprint(\"Top 10 states that consume maximum power in 2020\")","6029f7ec":"print('Top 10 states that consume least power in 2020')\ntable7=table3.tail(10)\ntable7","1eb639ab":"print('Top 10 states that consume least power in 2019')\ntable8=table4.tail(10)\ntable8","13e60222":"plt.figure(figsize=(15, 5))\nsns.barplot(y=\"toat usage in 2019\",x=table8.index,data=table8)\nprint(\"Top 10 states that consume least power in 2019\")","4eb13a09":"plt.figure(figsize=(15, 5))\nsns.barplot(y=\"toat usage in 2020\",x=table7.index,data=table7)\nprint(\"Top 10 states that consume least power in 2020\")","09d7fe35":"dict2019=dict()\nfor i in range(1,13):\n    m=long[(long[\"month\"]==i)&(long[\"year\"]==2019)]\n    n=m[\"Usage\"].sum()\n    dict2019.update({i:n})\ndict2020=dict()\nfor i in range(1,13):\n    m=long[(long[\"month\"]==i)&(long[\"year\"]==2020)]\n    n=m[\"Usage\"].sum()\n    dict2020.update({i:n})\n    \n    ","bc947afe":"month=[\"jan\",\"feb\",'march',\"april\",\"may\",\"june\",\"july\",\"aug\",\"sep\",\"oct\",\"nov\",\"dec\"]","6caf83a9":"list1=list(dict2019.values())\nlist2=list(dict2020.values())","6fd6b948":"A=max(list1)\nB=list1.index(A)\nC=month[B]\nx=max(list2)\ny=list2.index(x)\nz=month[y]","69de95e7":"print(f\"maximum rise in consumption is in month of {C} 2019\")\nprint(f\"maximum rise in consumption is in month of {z} 2020\")","d3bf7884":"plt.figure(figsize = (15, 5))\nplt.bar(month,list1,width = 0.4)\n \nplt.ylabel(\"usages\")\nplt.xlabel(\"month\")\nplt.title(\"maximum rise in consumption 2019\")\nplt.show()","f94a2d62":"plt.figure(figsize = (15, 5))\nplt.bar(month,list2,width = 0.4)\n \nplt.ylabel(\"usages\")\nplt.xlabel(\"month\")\nplt.title(\"maximum rise in consumption in 2020\")\nplt.show()","e8e1ad3c":"a=min(list1)\nb=list1.index(a)\nc=month[b]\nX=min(list2)\nY=list2.index(X)\nZ=month[Y]\nprint(f\"mim rise in consumption is in month of {c} 2019\")\nprint(f\"min rise in consumption is in month of {Z} 2020\")","e8c5a957":"plt.figure(figsize = (15, 5))\nplt.bar(month,list1,width = 0.4)\n \nplt.ylabel(\"usages\")\nplt.xlabel(\"month\")\nplt.title(\"min rise in consumption 2019\")\nplt.show()","427b235e":"plt.figure(figsize = (15, 5))\nplt.bar(month,list1,width = 0.4)\n \nplt.ylabel(\"usages\")\nplt.xlabel(\"month\")\nplt.title(\"min rise in consumption 2019\")\nplt.show()","542f36c1":"print(f\"total consumption in march-may 2019 is {list1[2]+list1[3]+list1[4]}  \")\nprint(f\"total consumption in march-may 2020 is {list2[2]+list2[3]+list2[4]}  \")","5cef6f6c":"diff=((list1[2]+list1[3]+list1[4])-(list2[2]+list2[3]+list2[4]))\nprint(f\"Contrast between consumption during lockdown and without lockdown is {diff}  \")","327422fc":"num1=float((list1[2]+list1[3]+list1[4]))\nnum2=float((list2[2]+list2[3]+list2[4]))\nlist3=[]\nlist4=[]\nlist4.append(num1)\nlist4.append(num2)\nlist3.append('befor lockdown')\nlist3.append('during lockdown')","5318a616":"plt.figure(figsize = (5, 5))\nplt.bar(list3, list4, color ='maroon',\n        width = 0.4)\n \nplt.xlabel(\"period\")\nplt.ylabel(\"usages\")\nplt.title(\"Compare the values in march-may 2019(befor lock down) and march-may 2020 (during lockdown)\")\nplt.show()","5514230d":"percent=((num1-num2)\/num1)*100\nprint(f\"Percentage change in consumption during the lockdown(as compared to previous year) is {percent} %\")","736ecfae":"data.head(2)","b32b93e9":"table10=data[data[\"year\"]!=2020]","ab4137aa":"states=list(table10.columns)\nstates.remove('year')\nstates.remove('month')\nstates.remove('day')\n","b76ac2d5":"for i in states:\n    x=max(table10[i])\n    print(f\"the highest value reached by state {i} \\t in \\t 2019 is \\t {x}\")","7a5e4e57":"dict3=dict()\nfor i in states:\n    x=max(table10[i])\n    dict3.update({i:x})\n    \ntable11=pd.DataFrame.from_dict(dict3,orient=\"index\")\ntable11.rename(columns={0:\"highest value reached\"},inplace=True)\ntable11.head(3)","2c3204f0":"plt.figure(figsize=(10, 10))\nsns.barplot(x=\"highest value reached\",y=table11.index,data=table11)","9e81225c":"for i in states:\n    x=min(table10[i])\n    print(f\"the least value reached by state {i} \\t in \\t 2019 is \\t {x}\")","2686e079":"dict4=dict()\nfor i in states:\n    x=min(table10[i])\n    dict4.update({i:x})\n    \ntable12=pd.DataFrame.from_dict(dict4,orient=\"index\")\ntable12.rename(columns={0:\"least value reached\"},inplace=True)\ntable12.head(3)","7355dd71":"plt.figure(figsize=(10, 10))\nsns.barplot(x=\"least value reached\",y=table12.index,data=table12)","9c767472":"**VISUALIZATION**","afdc574d":"**SIMPLE**","fc041452":"**VISUALIZATION**","0986211a":"**VISUALIZATION**","2fef8935":"# 5.In which months do you see a rise in consumption?","312ddbfb":"# 3.Top 10 states that consume maximum power yearly.\n","2d161a54":"**SIMPLE**","36a86685":"# 1.Which region consumes maximum & minimum power yearly?","dda603b1":"# 4.Top 10 states that consume least power yearly.","5ab1ebdb":"**SIMPLE**","0ae13ab1":"**visualization**","ee79f1c5":"# 7.Contrast between consumption during lockdown and without lockdown. (Compare the values in march-may 2019 and march-may 2020)","1b055d84":"# 10. What is the lowest value reached by each state at any time of the year in 2019?","33b6d99c":"**simple**","fd9a17bf":"# 9.What is the highest value reached by each state at any time of the year in 2019?","0e2a906b":"**VISUALIZATION**","acfd58b7":"**simple**","13cbb621":"**SIMPLE**","9f4dae4c":"**visualization**","e379cb93":"# 6.In which months do you see a decline in consumption?","f19a8259":"# 8.Percentage change in consumption during the lockdown(as compared to previous year).","0643f5a4":"**visualization**","b6db71b3":"**VISUALIZATION**"}}