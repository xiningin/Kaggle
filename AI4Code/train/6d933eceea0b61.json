{"cell_type":{"e26fcaae":"code","9d9cf481":"code","0adbef3b":"code","5ccd5e12":"code","942d5979":"code","a4f641ee":"code","3efbdcd5":"code","4168ecc9":"code","afc6987a":"code","eeb5becd":"code","69552a21":"code","bea6bb17":"code","cac25b27":"code","b084646b":"code","924d0f3a":"code","65f836d6":"code","9a318750":"code","8b37c73d":"code","dcf8c1c6":"markdown","aed31313":"markdown","c15b97fa":"markdown","c6a438da":"markdown","f4008327":"markdown","19e763bc":"markdown","f331cdd3":"markdown","6bada7a4":"markdown","1fa4d0c9":"markdown","aa142b45":"markdown"},"source":{"e26fcaae":"from mpl_toolkits.mplot3d import Axes3D\n#from sklearn.preprocessing import StandardScaler\nimport matplotlib.pyplot as plt # plotting\nimport numpy as np # linear algebra\nimport os # accessing directory structure\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n%matplotlib inline","9d9cf481":"# Creating a dataframe object from listoftuples\nl=os.listdir('..\/input')\ndflistdir = pd.DataFrame(l,columns=['files']) \ndflistdir","0adbef3b":"#input\/Gas Prices in Brazil\/\ndt= pd.read_table('..\/input\/2004-2019.tsv')\ndt.sample(10)","5ccd5e12":"desc=pd.DataFrame()\ndesc['field']=dt.columns\ndesc['type']=list(dt.dtypes)\ndesc\n","942d5979":"dt.describe()","a4f641ee":"#import pandas_profiling# Depreciated: pre 2.0.0 version\n#pandas_profiling.ProfileReport(dt)","3efbdcd5":"dt['ANO\/MES']=pd.to_datetime({'day': 1,'month': dt['M\u00caS'],'year': dt['ANO']})","4168ecc9":"dt1=dt[['REGI\u00c3O','ESTADO','PRODUTO','ANO','M\u00caS','N\u00daMERO DE POSTOS PESQUISADOS']].groupby(['REGI\u00c3O','ESTADO','PRODUTO','ANO','M\u00caS']).sum()\ndt1.pivot_table(index=['REGI\u00c3O','ESTADO','PRODUTO'], columns=['ANO','M\u00caS'], values=['N\u00daMERO DE POSTOS PESQUISADOS'])\ndt1","afc6987a":"dt1=dt.query('ANO==2019 & M\u00caS==6')[['REGI\u00c3O','N\u00daMERO DE POSTOS PESQUISADOS']].groupby(['REGI\u00c3O']).sum().sort_values(by='N\u00daMERO DE POSTOS PESQUISADOS', ascending=False)\ndt1.plot(kind='bar',figsize=(11,7));","eeb5becd":"dt1=dt.query('ANO==2019 & M\u00caS==6')[['ESTADO','N\u00daMERO DE POSTOS PESQUISADOS']].groupby(['ESTADO']).sum().sort_values(by='N\u00daMERO DE POSTOS PESQUISADOS', ascending=False)\n#dt1\ndt1.plot(kind='bar',figsize=(11,7));","69552a21":"dt1=dt[['REGI\u00c3O','ESTADO','PRODUTO','ANO','M\u00caS','PRE\u00c7O M\u00c9DIO REVENDA']].groupby(['REGI\u00c3O','ESTADO','PRODUTO','ANO','M\u00caS']).sum()\ndt1.pivot_table(index=['REGI\u00c3O','ESTADO','PRODUTO'], columns=['ANO','M\u00caS'], values=['PRE\u00c7O M\u00c9DIO REVENDA'])","bea6bb17":"dt1=dt.query(\"PRODUTO != 'GLP'\")\ndt1=dt1[['PRODUTO','ANO\/MES','PRE\u00c7O M\u00c9DIO REVENDA']].groupby(['PRODUTO','ANO\/MES']).sum().sort_values(by=['PRODUTO','ANO\/MES'], ascending=True)\ndt2=dt1.pivot_table(index=['ANO\/MES'], columns=['PRODUTO'], values=['PRE\u00c7O M\u00c9DIO REVENDA'])\ndt2.plot(kind='line',figsize=(11,7)).get_legend().set_bbox_to_anchor((1, 1)) ","cac25b27":"dt1=dt.query(\"PRODUTO == 'GLP'\")\ndt1=dt1[['PRODUTO','ANO\/MES','PRE\u00c7O M\u00c9DIO REVENDA']].groupby(['PRODUTO','ANO\/MES']).sum().sort_values(by=['PRODUTO','ANO\/MES'], ascending=True)\ndt2=dt1.pivot_table(index=['ANO\/MES'], columns=['PRODUTO'], values=['PRE\u00c7O M\u00c9DIO REVENDA'])\n#dt2\ndt2.plot(kind='line',figsize=(11,7)).get_legend().set_bbox_to_anchor((1, 1)) ","b084646b":"dt1=dt.query(\"PRODUTO == 'GASOLINA COMUM' & REGI\u00c3O=='NORDESTE'\")\ndt1=dt1[['ESTADO','ANO\/MES','PRE\u00c7O M\u00c9DIO REVENDA']].groupby(['ESTADO','ANO\/MES']).sum().sort_values(by=['ESTADO','ANO\/MES'], ascending=True)\ndt2=dt1.pivot_table(index=['ANO\/MES'], columns=['ESTADO'], values=['PRE\u00c7O M\u00c9DIO REVENDA'])\n#dt2\ndt2.plot(kind='line',figsize=(11,7)).get_legend().set_bbox_to_anchor((1, 1)) ","924d0f3a":"dt0=dt.query(\"ANO==2019 & M\u00caS==6\")[['ESTADO','DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O']]\ndt0=dt0[pd.to_numeric(dt0['DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O'], errors='coerce').notnull()]\ndt0['DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O']=dt0['DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O'].astype('float64')\ndt1=dt0[['ESTADO','DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O']].groupby('ESTADO').mean().sort_values(by='DESVIO PADR\u00c3O DISTRIBUI\u00c7\u00c3O', ascending=True)\ndt1.plot(kind='bar',figsize=(11,7));","65f836d6":"dt0=dt.query(\"ANO==2019 & M\u00caS==6\")[['ESTADO','DESVIO PADR\u00c3O REVENDA']]\ndt0=dt0[pd.to_numeric(dt0['DESVIO PADR\u00c3O REVENDA'], errors='coerce').notnull()]\ndt0['DESVIO_PADR\u00c3O_REVENDA']=dt0['DESVIO PADR\u00c3O REVENDA'].astype('float64')\ndt1=dt0[['ESTADO','DESVIO PADR\u00c3O REVENDA']].groupby('ESTADO').mean().sort_values(by='DESVIO PADR\u00c3O REVENDA', ascending=True)\n\nlistatop10=dt1.index.values\n\ndt1.plot(kind='bar',figsize=(11,7));\n","9a318750":"dt0=dt.query(\"ANO==2019 & M\u00caS==6\")[['ESTADO','DESVIO PADR\u00c3O REVENDA']]\ndt0=dt0[pd.to_numeric(dt0['DESVIO PADR\u00c3O REVENDA'], errors='coerce').notnull()]\ndt0['DESVIO_PADR\u00c3O_REVENDA']=dt0['DESVIO PADR\u00c3O REVENDA'].astype('float64')\ndt1=dt0[['ESTADO','DESVIO PADR\u00c3O REVENDA']].groupby('ESTADO').mean().sort_values(by='DESVIO PADR\u00c3O REVENDA', ascending=True).head(10)\nlistatop10=dt1.index.values\n\ndt1.plot(kind='bar',figsize=(11,7));\n","8b37c73d":"dt1=dt.query(\"ESTADO in \"+str(list(listatop10)))\ndt1=dt1[['ESTADO','PRODUTO','ANO','DESVIO PADR\u00c3O REVENDA']].sort_values(by=['ESTADO','PRODUTO','ANO'], ascending=True)\n\nlm=sns.lmplot(data=dt1, x='ANO', y='DESVIO PADR\u00c3O REVENDA',col=\"PRODUTO\", row=\"ESTADO\", fit_reg=True,sharex=False,sharey=False, truncate=True, x_jitter=.1)\n\nfig = lm.fig","dcf8c1c6":"# Evolution in the time of the standard deviation in the States that has less variation in resale price","aed31313":"> ## Sample of file\n","c15b97fa":"## Additional Variables","c6a438da":"## loading libraries","f4008327":"### **Indication of when the price varies in the State in relation to the Average Final Sales Price**","19e763bc":"There is 0 csv file in the current version of the dataset:\n","f331cdd3":"## Gas Price Analysis in Brazil (In Working...)","6bada7a4":"## Field summary statistics","1fa4d0c9":"## List Files","aa142b45":"### **Indication of when the price varies in the State in relation to the Average Distribution Price**"}}