{"cell_type":{"ea9f040f":"code","bb15a054":"code","d78a2ef8":"code","891ba35c":"code","2b6223b5":"code","075c86b3":"code","17dc7506":"code","bf6a005d":"code","dea7958e":"code","29a60a4a":"code","25c8f1b1":"code","0d76561b":"code","e804ed7c":"code","fd6ab64d":"code","575a4d5e":"code","1d378c9d":"code","1c4ec349":"code","2bef34a4":"code","9429566a":"code","3e2826eb":"code","e5b943e1":"code","2850a251":"code","250fd73c":"code","b9097ded":"code","769f0578":"code","2cc32c33":"code","d93d7541":"code","a7b37e2c":"markdown","ac785358":"markdown","8e9b7eca":"markdown","23199512":"markdown","a040dce9":"markdown","25cdbc51":"markdown","cf112728":"markdown","f7c17028":"markdown","7f009b3b":"markdown"},"source":{"ea9f040f":"import numpy as np\nimport pandas as pd\nimport math\nimport matplotlib\nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","bb15a054":"data=pd.read_csv('..\/input\/covid19-vaccine-adverse-reactions\/2021VAERSDATA.csv')\nsymptom=pd.read_csv('..\/input\/covid19-vaccine-adverse-reactions\/2021VAERSSYMPTOMS.csv')\nvax=pd.read_csv('..\/input\/covid19-vaccine-adverse-reactions\/2021VAERSVAX.csv')","d78a2ef8":"data[0:2].T","891ba35c":"print(data.columns.tolist())\nprint(len(data))\nprint(data['RECVDATE'].min())\nprint(data['RECVDATE'].max())","2b6223b5":"symptom[0:2].T","075c86b3":"vax[0:2].T","17dc7506":"vax['VAX_MANU'].value_counts()","bf6a005d":"swords=[]\nfor i in range(len(symptom)):\n    swords+=[symptom.iloc[i,1]]\n    swords+=[symptom.iloc[i,3]]   \n    swords+=[symptom.iloc[i,5]]\n    swords+=[symptom.iloc[i,7]]\n    swords+=[symptom.iloc[i,9]]","dea7958e":"swords2=list(set(swords)) \nprint(len(swords2))\nprint(swords2[1:100])","29a60a4a":"focus0=pd.merge(data,symptom,on='VAERS_ID')\nfocus1=pd.merge(focus0,vax,on='VAERS_ID')\nfocus1.columns","25c8f1b1":"pfizer=focus1[focus1['VAX_MANU']=='PFIZER\\BIONTECH']\npfizers=[]\nfor i in range(len(pfizer)):\n    pfizers+=[pfizer.iloc[i,35]]\n    pfizers+=[pfizer.iloc[i,37]]   \n    pfizers+=[pfizer.iloc[i,39]]\n    pfizers+=[pfizer.iloc[i,41]]\n    pfizers+=[pfizer.iloc[i,43]]\n    \npfizers_df=pd.DataFrame(pfizers)\nprint(pfizers_df.value_counts()[0:30])\nprint(len(pfizer))","0d76561b":"moderna=focus1[focus1['VAX_MANU']=='MODERNA']\nmodernas=[]\nfor i in range(len(moderna)):\n    modernas+=[moderna.iloc[i,35]]\n    modernas+=[moderna.iloc[i,37]]   \n    modernas+=[moderna.iloc[i,39]]\n    modernas+=[moderna.iloc[i,41]]\n    modernas+=[moderna.iloc[i,43]]\n    \nmodernas_df=pd.DataFrame(modernas)\nprint(modernas_df.value_counts()[0:30])\nprint(len(moderna))","e804ed7c":"age_band=[]\nfor item in focus1['AGE_YRS']:\n    if math.isnan(item):\n        age_band+=[-1]\n    else:\n        age_band+=[math.floor(item\/10)]\nfocus1['AGE_BAND']=age_band","fd6ab64d":"MORT0=[]\nfor i in range(11):\n    total=focus1[focus1['AGE_BAND']==i].shape[0]\n    died=focus1[focus1['AGE_BAND']==i][focus1['DIED']=='Y'].shape[0]\n    MORT0+=[[i,total,died,died*100\/total]]       \nmort_df0=pd.DataFrame(MORT0)\nmort_df0.columns=['AGE_BAND','TOTAL','DEATH','% RATIO']\nmort_df0","575a4d5e":"plt.style.use('ggplot') \nfont = {'family':'meiryo'}\nmatplotlib.rc('font', **font)","1d378c9d":"print(mort_df0.shape)\nprint(mort_df0[0:3])","1c4ec349":"mort_df0.plot.bar(y=['% RATIO'], alpha=0.8, figsize=(12,6))\nplt.title('Case Fatality Ratios by Age Band', size=24)\nplt.ylabel('% ratio')","2bef34a4":"# AGEBAND 0: AGE 0-9\n# AGEBAND 1: AGE 10-19\n# AGEBAND 2: AGE 20-29\n# AGEBAND 3: AGE 30-39\n# AGEBAND 4: AGE 40-49\n# AGEBAND 5: AGE 50-59\n# AGEBAND 6: AGE 60-69\n# AGEBAND 7: AGE 70-79\n# AGEBAND 8: AGE 80-89\n# AGEBAND 9: AGE 90-99\n# AGEBAND 10: AGE 100-109  ","9429566a":"MORT1=focus1[['SEX','DIED','AGE_BAND']].copy()\nprint(MORT1)\nMORT2=MORT1[MORT1['DIED']=='Y'].groupby(['AGE_BAND']).sum()","3e2826eb":"died_m=[]\ndied_f=[]\nfor item in MORT2['SEX']:\n    died_m+=[item.count('M')]\n    died_f+=[item.count('F')]\nMORT2['DIED_MALE']=died_m\nMORT2['DIED_FEMALE']=died_f\nMORT3=MORT2.drop(['SEX','DIED'],axis=1)\nMORT3","e5b943e1":"MORT3.plot.bar(y=['DIED_MALE','DIED_FEMALE'], alpha=0.8, figsize=(12,6))\nplt.title('Case Fatality Number by Age Band and Sex', size=24)\nplt.ylabel('Number')","2850a251":"Y_histories=focus1[focus1['DIED']=='Y'][focus1['AGE_YRS']>59]['HISTORY']\nN_histories=focus1[focus1['DIED']!='Y'][focus1['AGE_YRS']>59]['HISTORY']\nprint(len(Y_histories))\nprint(len(N_histories))","250fd73c":"item2=[]\nfor item in Y_histories:\n    if type(item)==str:\n        item2+=item.split(', ')\n\n(pd.DataFrame(item2)).value_counts()[0:30]","b9097ded":"item3=[]\nfor item in N_histories:\n    if type(item)==str:\n        item3+=item.split(', ')\n\n(pd.DataFrame(item3)).value_counts()[0:30]","769f0578":"focus2=focus1[['VAX_DATE','DATEDIED','DIED']].copy()\nfocus2['VAX_DATE2']=pd.to_datetime(focus2['VAX_DATE'])\nfocus2['DATEDIED2']=pd.to_datetime(focus2['DATEDIED'])\nfocus2['DAYS']=focus2['DATEDIED2']-focus2['VAX_DATE2']\ndays_df0=focus2[focus2['DIED']=='Y']['DAYS'].value_counts()\nprint(focus2[focus2['DIED']=='Y']['DAYS'].value_counts()[0:5])","2cc32c33":"days_df0=pd.DataFrame(days_df0)\ndays_df0[1]=days_df0.index.days\ndays_df0.columns=['n','days']\ndays_df1=days_df0[days_df0['days']<=14][0<=days_df0['days']]\ndays_df2=days_df1.sort_values(['days'])\ndays_df3=days_df2.set_index('days')","d93d7541":"days_df3.plot.bar(y=['n'], alpha=0.8, figsize=(12,6))\nplt.title('Days after vaccination in case fatality', size=24)\nplt.ylabel('cases')","a7b37e2c":"# Post-dose Symptoms","ac785358":"The Vaccine Adverse Event Reporting System (VAERS) is a national early warning system to detect possible safety problems in U.S.-licensed vaccines. <br\/>\nhttps:\/\/vaers.hhs.gov\/about.html","8e9b7eca":"# Case Fatality Ratios by Age Band ","23199512":"Number of fetal cases was high during 10 days after vaccination, which might indicate that these fetalities were related to vaccination.","a040dce9":"Over 245 million doses of COVID-19 vaccines were administered in the United States from December 14, 2020, through May 3, 2021. During this time, VAERS received 4,178 reports of death (0.0017%) among people who received a COVID-19 vaccine. <br\/>\nhttps:\/\/www.cdc.gov\/coronavirus\/2019-ncov\/vaccines\/safety\/adverse-events.html","25cdbc51":"# Days after vaccination in case fatality","cf112728":"Case Fatality Ratios increase with age. Aged people have higher risk of fatality for vaccination?","f7c17028":"\"No medical history\" seems to be very rare in dead cases compared to alive cases. Risk factors for covid19 could be risks also for vaccination. For high risk people for covid19, we might have better have alternative vaccination methods that are mild for their body.","7f009b3b":"# History Comparison between Alive and Dead"}}