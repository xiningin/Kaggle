{"cell_type":{"7886e863":"code","28796980":"code","1daa7ff4":"code","351cd55d":"code","7bf69ecf":"code","e84a9b37":"code","ab672fe3":"code","42780296":"code","2376bdfc":"code","61fa807f":"code","3d2c75c5":"code","bc84f966":"code","cf6a8ec5":"code","dd8a4b0b":"code","c4574dfb":"code","2a7585b2":"markdown","1af8b72d":"markdown","46f04305":"markdown","2ea57dbf":"markdown","373a9fd5":"markdown","e9f78e70":"markdown","a9db14f4":"markdown","300d236e":"markdown","87f25167":"markdown","b3817916":"markdown","f8eba365":"markdown","55e8184f":"markdown","bb85dbfe":"markdown","7317845f":"markdown","15a1c00a":"markdown","6bcf32a4":"markdown","e627ba67":"markdown","88a6591c":"markdown"},"source":{"7886e863":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \nfrom matplotlib import pyplot as plt\nimport pandas_profiling as pp\nimport folium as folium\nimport seaborn as sns\nimport pandas as pd \nimport numpy as np \n\nprint('Environment Setup Complete')","28796980":"file_path = '..\/input\/insidesherpa-anz-dataset-task1\/ANZ synthesised transaction dataset.xlsx'\nfile = pd.read_excel(file_path)\nprint('Data Set Ready')","1daa7ff4":"file.describe(include='all', datetime_is_numeric=True)","351cd55d":"dataset_profile = pp.ProfileReport(file)\ndataset_profile.to_file('profile_report_output.html')","7bf69ecf":"file_null_values = file.isna().sum()\nfile_null_values","e84a9b37":"# Columns with large amounts of null values are removed from the data set\nfile[['extraction_date','extraction_time']] = file['extraction'].str.split(pat='T', expand=True)\nfile.drop(columns=['bpay_biller_code','merchant_code','extraction'], inplace=True)\n\nfile['extraction_date'] = pd.to_datetime(file['extraction_date'])\nfile['extraction_time'] = file['extraction_time'].astype('datetime64')\nfile['extraction_time'] = pd.to_datetime(file['extraction_time'], format= '%H:%M:%S').dt.time","ab672fe3":"avg_txn_amount = file['amount'].mean()\navg_txn_amount_per_month = pd.DataFrame(file.groupby(file['date'].dt.strftime('%b-%Y'))['amount'].mean())\n\navg_txn_amount_per_month.plot(kind='barh', legend=False, title='Average Transaction Amount per Month')\nplt.xlabel('Average Transaction Amount')\nplt.ylabel('Month')\nplt.text(3,2,'182.045 AUD')\nplt.text(3,1,'196.427 AUD')\nplt.text(3,0,'185.121 AUD')\nplt.savefig('Average Transaction Amount per Month.png')","42780296":"txn_count_per_date = pd.DataFrame(file.groupby('date',as_index=False)['transaction_id'].nunique())\navg_txn_per_month = pd.DataFrame(txn_count_per_date.groupby(txn_count_per_date['date'].dt.strftime('%b-%Y'))['transaction_id'].mean())\n\navg_txn_per_month.plot(kind='barh', legend=False, title='Number of Average Transactions per Month')\nplt.xlabel('Number of Transactions')\nplt.ylabel('Month')\nplt.text(3,2,'134 Transactions')\nplt.text(3,1,'132 Transactions')\nplt.text(3,0,'131 Transactions')\nplt.savefig('Number of Average Transactions per Month.png')","2376bdfc":"txn_types = pd.DataFrame(file.groupby('txn_description')['transaction_id'].nunique())\n\ntxn_types.plot(kind='bar',legend=False, rot=45, figsize=(15,4), title='Number of Transaction Types\\nFrom August 2018 to October 2018')\nplt.xlabel('Transaction Types')\nplt.ylabel('Number of Transactions')\nplt.savefig('Number of Transaction Types.png')","61fa807f":"txn_mvmt = pd.DataFrame(file.groupby('movement')['transaction_id'].nunique())\n\ntxn_mvmt.plot(kind='barh',legend=False, title='Credit Transactions VS Debit Transactions')\nplt.xlabel('Number of Transactions')\nplt.ylabel(' ')\nplt.savefig('Credit Transactions VS Debit Transactions.png')","3d2c75c5":"age_dist = pd.DataFrame(file.groupby('age')['transaction_id'].nunique())\n\nage_dist.plot(kind='bar', figsize=(20,5), legend=False, rot=0, title='Number of Customer Transactions by Age')\nplt.ylabel('Number of Transactions')\nplt.xlabel('Customer Age')\nplt.savefig('Number of Customer Transactions by Age.png')","bc84f966":"state_dist = pd.DataFrame(file.groupby('merchant_state', as_index=False)['transaction_id'].nunique())\nstate_dist['merchant_state'] = state_dist['merchant_state'].replace({'ACT':'Australian Capital Territory',\n                                      'NSW':'New South Wales',\n                                      'NT':'Northern Territory',\n                                      'QLD':'Queensland',\n                                      'SA':'South Australia',\n                                      'TAS':'Tasmania',\n                                      'VIC':'Victoria',\n                                      'WA':'Western Australia'})\n\n\naus_map = '..\/input\/australia-state-map\/australia state map.json'\nstate_dist_map = folium.Map(location=[-25.2744, 133.7751], zoom_start=5)\n\nstate_dist_map.choropleth(geo_data=aus_map, data=state_dist,\n             columns=['merchant_state','transaction_id'],\n             key_on='feature.properties.STATE_NAME',\n             fill_color='GnBu', fill_opacity=0.7, line_opacity=0.2,\n             legend_name='Number of Transactions')\n\nprint(state_dist)\nstate_dist_map","cf6a8ec5":"extraction_volume_day_data = pd.DataFrame(file.groupby('extraction_date', as_index=False)['extraction_time'].nunique())\n\nsns.set_style('darkgrid')\nplt.figure(figsize=(25,6))\n\nax = sns.lineplot(x=extraction_volume_day_data['extraction_date'], y=extraction_volume_day_data['extraction_time'], marker='o')\nax.set(xticks=extraction_volume_day_data.extraction_date.values)\n\nplt.xticks(rotation=50)\nplt.xlabel('Date')\nplt.ylabel('Number of Transactions')\nplt.title('Customer Transaction Volume per Day\\nAugust 2018 to October 2018')\nplt.savefig('Customer Transaction Volume per Day.png')","dd8a4b0b":"avg_spending_day_data = pd.DataFrame(file.groupby('extraction_date', as_index=False)['amount'].mean())\n\nsns.set_style('darkgrid')\nplt.figure(figsize=(25,6))\n\nax = sns.lineplot(x=avg_spending_day_data['extraction_date'], y=avg_spending_day_data['amount'], marker='o')\nax.set(xticks=avg_spending_day_data.extraction_date.values)\n\nplt.xticks(rotation=50)\nplt.xlabel('Date')\nplt.ylabel('Average Transaction Value')\nplt.title('Average Customer Transaction Value per Day\\nAugust 2018 to October 2018')\nplt.savefig('Average Customer Transaction Value per Day.png')","c4574dfb":"ext_time_data = pd.DataFrame(file.groupby('extraction_time', as_index=False)['transaction_id'].nunique())\next_time_data['extraction_time'] = ext_time_data['extraction_time'].astype(str)\next_time_data[['hour','minute','second']] = ext_time_data['extraction_time'].str.split(pat=':', expand=True)\n\ntxn_time_data = pd.DataFrame(ext_time_data.groupby('hour', as_index=False)['transaction_id'].sum())\ntxn_time_data.plot(kind='bar', legend=False, rot=0, figsize=(24,4))\n\nplt.xlabel('Hour')\nplt.ylabel('Number of Transactions')\nplt.title('Number of Customer Transactions within a 24 Hour Period')\nplt.savefig('Number of Customer Transactions within a 24 Hour Period.png')","2a7585b2":"### Where were most customer transactions done from August 2018 to October 2018?","1af8b72d":"### Creating a Profile Report on the Data Set","46f04305":"### When do customers transact the most within a 24 hour period?","2ea57dbf":"### What is the average number of transactions per month?","373a9fd5":"### Descriptive Statistics Overview of the Data Set","e9f78e70":"### Loading the Data Set","a9db14f4":"### What is the average customer transaction value per day from August 2018 to October 2018?","300d236e":"# Data@ANZ Virtual Internship Program\n## Exploratory Data Analysis on ANZ Transactions  within Australia from August 2018 to October 2018\n\nby Evan B. Palmejar\n\nCredits to InsideSherpa(Program Provider) and Rowan Hogan(GeoJSON Author)","87f25167":"### How did customers transact the most from August 2018 to October 2018?\n### Credit Transactions or Debit Transactions?","b3817916":"### Conclusion\n\nBased on the findings from the data set provided. The following are some of the notable insights gathered. \n* Customers transacted the most during September, but the transaction value was the highest on October. On average, there were 132 customer transactions done per month. \n* The types of transactions done varied, most transactions were Sales-POS transactions, and the least were phone bank transactions. \n* Customers did more debit transactions over credit transactions.\n* In terms of the average customer profile, the age would be from 19 to 26. With 26 year old customers, being the most active in transactions and individuals above the age of 50 being the least active.\n* Most customer transactions were also made by customers from the New South Wales, Victoria, and Queensland. The least were from customers in Tasmania, South Australia, and the Northern Territory.\n* The average customer transaction value is at 190 AUD, these transactions were frequently done in the middle of the week, and were less frequent at the end of the week. Most transactions also occured from 9am to 5pm, with 9am being the most active time of the day for customer transactions.  \n","f8eba365":"### Checking the Data Set for Null Values","55e8184f":"### When did customers transact the most from August 2018 to October 2018?","bb85dbfe":"## Gathering Insights from the Data Set","7317845f":"### What are the ages of the customers?\n### What age groups transacted the most from August 2018 to October 2018?","15a1c00a":"### What were the different kinds of transactions done from August 2018 to October 2018? \n### How many of each transaction type was done?","6bcf32a4":"### Environment Setup","e627ba67":"### What is the average transaction amount per month?","88a6591c":"### Cleaning and Organizing the Data Set"}}