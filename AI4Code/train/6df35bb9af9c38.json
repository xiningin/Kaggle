{"cell_type":{"f5ffe4f7":"code","975c80a3":"code","46833984":"code","040e4254":"code","1b14b154":"code","d923c2fa":"code","6a020fae":"code","241efd1c":"code","8be1e973":"code","94e397bb":"code","a947eb60":"code","cb3dbc4d":"code","e6d5e9b6":"code","f2fb455b":"code","8757699c":"code","6a0a7ddc":"code","5a279d39":"code","49c90fda":"code","1eac94f0":"code","ae4ef56d":"code","f2b237ca":"code","20b4fe4f":"code","17569560":"code","3cf8590b":"code","86d89669":"code","8c93c316":"code","c81bae12":"code","074e499b":"code","c137073a":"code","ffc2688e":"code","92d8e52b":"code","6e8460fe":"code","52d943f5":"code","3f21cd10":"code","c49a34c0":"code","1612542b":"code","b4964304":"code","5dd2dd70":"code","b00e1c8c":"code","e273df6b":"code","a44559b0":"code","ca4d0f11":"code","3d8b4950":"code","60f98d8a":"code","bd879be0":"code","e80857c1":"code","08376af5":"code","d9426e47":"code","bf5b3dc9":"code","795e1deb":"code","47bb6b7b":"code","55425896":"code","61e86b71":"code","ee9c2818":"code","44053c6d":"markdown","ef52b2ca":"markdown","c4bcefcc":"markdown","2ddc83ff":"markdown","9da1baf1":"markdown","02aec09e":"markdown","cb7c921e":"markdown","544f1405":"markdown","7aa21fbb":"markdown","fb5f0048":"markdown","28312eb8":"markdown","535f5e88":"markdown","93dfe6db":"markdown","0cff1193":"markdown","c2aa6ff8":"markdown","b100f740":"markdown","4af65717":"markdown","e2d61245":"markdown","19d8e75d":"markdown","9a4c89f8":"markdown","8623a539":"markdown","1d47163f":"markdown","04be0a15":"markdown","b8e17c23":"markdown","e3147335":"markdown","a1a8064a":"markdown","b29ebd4c":"markdown"},"source":{"f5ffe4f7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","975c80a3":"raw_data = pd.read_csv('\/kaggle\/input\/ashrae-global-thermal-comfort-database-ii\/ashrae_db2.01.csv')","46833984":"raw_data.head()","040e4254":"raw_data.columns","1b14b154":"raw_data.info(verbose=True)","d923c2fa":"data = raw_data.copy()\ndrop_col = ['Koppen climate classification','Publication (Citation)','Data contributor','Operative temperature (F)','Radiant temperature (F)','Globe temperature (F)','Outdoor monthly air temperature (F)','Velocity_l (fpm)','Velocity_m (fpm)','Velocity_h (fpm)','Tg_l (F)','Tg_m (F)','Tg_h (F)','Ta_l (F)','Ta_m (F)','Ta_h (F)','Air temperature (F)','Air velocity (fpm)']\ndata = data.drop(drop_col,axis=1)","6a020fae":"data.info()","241efd1c":"# Update I found the full picture from their paper\/parameters","8be1e973":"import seaborn as sns\nsns.set()","94e397bb":"data['Country'].value_counts().plot(kind='barh', figsize=(20,6))","a947eb60":"data['Season'].value_counts()[:20].plot(kind='barh', figsize=(20,6))","cb3dbc4d":"data['Climate'].value_counts().plot(kind='barh', figsize=(20,6))","e6d5e9b6":"data['Building type'].value_counts().plot(kind='barh', figsize=(20,6))","f2fb455b":"data['Thermal sensation'].dtypes","8757699c":"data['Thermal sensation'].round(0).value_counts().plot(kind='barh', figsize=(20,6))","6a0a7ddc":"data['Thermal sensation acceptability'].value_counts().plot(kind='barh', figsize=(20,6))","5a279d39":"data['Thermal preference'].value_counts().plot(kind='barh', figsize=(20,6))","49c90fda":"sns.violinplot(x = data['Thermal sensation'].round(0), y=data['Air temperature (C)'])","1eac94f0":"data","ae4ef56d":"# import matplotlib.pyplot as plt\n\n\n\n# for col in data.columns:\n#     if(data[col].dtype == 'O'):\n#         data_1 = data[col].fillna('NaN')\n#         unique, counts = np.unique(data_1, return_counts=True)\n#         if(len(unique) < 20):  \n#             size = [16,4]\n#             if(len(unique)==2): \n#                 size = [16,1]\n            \n#             plt.figure(figsize=size)\n#             plt.title(col)\n#             plt.barh(unique, counts)\n#             plt.grid(axis='x')\n#             plt.show()","f2b237ca":"# for col in data.columns:\n#     if(data[col].dtype == 'float64'):\n#         plt.figure(figsize=[16,5])\n#         plt.title(col)\n#         plt.plot(data[col])\n#         plt.grid()\n#         plt.show()","20b4fe4f":"data['Globe temperature (C)'].describe()","17569560":"data['Radiant temperature (C)'].describe()","3cf8590b":"data['Air temperature (C)'].describe()","86d89669":"? plotCorrelationMatrix()","8c93c316":"import matplotlib.pyplot as plt\n\ndef corr_graph(input):\n    corr = input.corr()\n    mask = np.triu(np.ones_like(corr, dtype=np.bool))\n\n    # Set up the matplotlib figure\n    f, ax = plt.subplots(figsize=(11, 9))\n\n    # Generate a custom diverging colormap\n    cmap = sns.diverging_palette(220, 10, as_cmap=True)\n\n    # Draw the heatmap with the mask and correct aspect ratio\n    sns.heatmap(corr, mask=mask, cmap=cmap, vmax=1.0, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","c81bae12":"corr_graph(data)","074e499b":"drop_col = ['Ta_h (C)','Ta_m (C)','Ta_l (C)','Operative temperature (C)','Radiant temperature (C)','Globe temperature (C)','Tg_h (C)', 'Tg_m (C)','Tg_l (C)']\ndata_2 = data.drop(drop_col, axis=1)","c137073a":"corr_graph(data_2)","ffc2688e":"data_2.columns","92d8e52b":"drop_col = ['activity_10', 'activity_20', 'activity_30', 'SET', 'Velocity_h (m\/s)','Velocity_m (m\/s)','Velocity_l (m\/s)']\ndata_3 = data_2.drop(drop_col, axis=1)","6e8460fe":"data_3.columns","52d943f5":"corr_graph(data_3)","3f21cd10":"data_3.shape","c49a34c0":"data_3.isna().sum()","1612542b":"drop_col = ['Blind (curtain)','Fan','Window','Door','Heater']\ndata_with_blind = data.copy()\ndata_4 = data_3.drop(drop_col, axis=1)","b4964304":"data['Cooling startegy_operation mode for MM buildings'].unique()","5dd2dd70":"MM_data = data_4[data_4['Cooling startegy_operation mode for MM buildings'].isna() == False]","b00e1c8c":"MM_data['Cooling startegy_operation mode for MM buildings'].isna().sum()","e273df6b":"data_no_MM = data.drop('Cooling startegy_operation mode for MM buildings', axis=1)","a44559b0":"data_no_MM.columns","ca4d0f11":"data_4.isna().sum()","3d8b4950":"data_simplified = data_4.copy()","60f98d8a":"data_simplified['Thermal sensation'].round(0).value_counts()","bd879be0":"data_simplified['Thermal sensation acceptability'].value_counts()","e80857c1":"data_simplified['Thermal preference'].value_counts()","08376af5":"thermal_accept_data = data_simplified[data_simplified['Thermal sensation acceptability'] == 1.0]\nthermal_accept_data.shape","d9426e47":"thermal_change_data = data_simplified[data_simplified['Thermal sensation acceptability'] == 0.0]\nthermal_change_data.shape","bf5b3dc9":"sns.distplot(thermal_accept_data['Air temperature (C)'])","795e1deb":"sns.distplot(thermal_change_data['Air temperature (C)'])","47bb6b7b":"data_simplified['Climate'].value_counts()","55425896":"hot_summer_data = data_simplified[data_simplified['Climate'] == 'Hot-summer Mediterranean']\ncold_arid_data = data_simplified[data_simplified['Climate'] == 'Cold semi-arid']","61e86b71":"sns.distplot(hot_summer_data['Thermal sensation'].round(0))","ee9c2818":"sns.distplot(cold_arid_data['Thermal sensation'].round(0))","44053c6d":"Check Shape","ef52b2ca":"There is a gradual increase on thermal sensation with the Air Temperature in Celsius","c4bcefcc":"There are some high correlation vlaues but our data looks a lot cleaner than it was before, this is good to start analyzing relationship","2ddc83ff":"- Thermal Sensation: ASHRAE thermal sensation vote, from -3 (cold) to +3 (hot)\n- Thermal Sensation acceptability: 0 = unacceptable, 1 = acceptable (Do the participants find the temperature acceptable)\n- Thermal preference: cooler, no changes, warmer (Would the participants want the room to be cooler, no change or warmer)\n- Air Movement acceptability: 0 = unacceptable, 1 = acceptable (Does the air movement they are feeling indoor feels acceptable)\n- Air movement preference: less, no change, more\n- Thermal Comfort: From 1 (very uncomfortable) to 6 (very comfortable)\n- PMV (Predicted Mean Vote):  mean response of a larger group of people according the ASHRAE thermal sense scale: +3 hot. +2 warm. +1 slightly warm. 0 neutral.\n- PPD (Predicted Percentage of Dissatisfied):  is an index that predicts the percentage of thermally dissatisfied people who feel too cool or too warm, and is calculated from the predicted mean vote (PMV)\n- SET (Standard Effective Temperature in Celsius degree): In simpler terms, SET is a temperature metric that factors in relative humidity, mean radiant temperature, and air velocity, while also considering the anticipated activity rate and clothing levels.\n- CLO: Intrinsic clothing ensemble insulation of the subject (clo): Thermal Insulation provided by clothing\n- MET: Average Metabolic rate of Subject\n- activity_10: Metabolic Activity in the last 10 minutes\n- activity_20: Metabolic Activity in the last 20 minutes\n- activity_30: Metabolic Activity in the last 30 minutes\n- activity_60: Metabolic Activity in the last 60 minutes\n- Air temperature (C): Air temperature measured in the occupied zone in Celsius degree\n- Ta_h (C): Air temperature at 1.1 m above the floor in Celsius degree\n- Ta_m (C): Air temperature at 0.6 m above the floor in Celsius degree\n- Ta_l (C): Air temperature at 0.1 m above the floor in Celsius degree\n- Operative Temperature (C): Calculated operative temperature in the occupied zone in Celsius degree\n- Radiant Temperature (C): Radiant temperature measured in the occupied zone in Celsius degree\n- Globe Temperature (C): Globe temperature measured in the occupied zone in Celsius degree\n- Tg_h (C): Globe temperature at 1.1 m above the floor in Celsius degree\n- Tg_m (C): Globe temperature at 0.6 m above the floor in Celsius degree\n- Tg_l (C): Globe temperature at 0.1 m above the floor in Celsius degree\n- Relative Humidity:\n- Humidity Preference: \n- Humidity Sensation: 3-= very dry, 2 = dry, 1 = slightly dry, 0 = just right, -1 = slightly humid, -2 = humid, -3 = very humid\n- Air velocity (m\/s): Air speed in meter\/seconds\n- Velocity_h: Air speed at 1.1 m above the floor in meter per second\n- Velocity_m: Air speed at 0.6 m above the floor in meter per second\n- Velocity_l: Air speed at 0.1 m above the floor in meter per second\n- Subject's height\n- Subject's weight\n- Blind(curtain): State of blinds or curtains if known (0 = open, 1 = closed); otherwise NA\n- Fan: Fan mode if known (0 = off, 1 = on); otherwise NA\n- Window: State of window if known (0 = open, 1 = closed); otherwise NA\n- Door: State of doors if known (0 = open, 1 = closed); otherwise NA\n- Heater: Heater mode if known (0 = off, 1 = on); otherwise NA\n- Outdoor monthly air temperature (C): Outdoor monthly average temperature when the field study was done in Celsius degree\n- Database: Databse 1 or 2","9da1baf1":"There are more varaibles to explore, it seems that there isn't a lot of connection made yet.","02aec09e":"There is more cleaning to do, but because some of the variable are subject to different experiment, I'll leave it here and work on a subset of data","cb7c921e":"# Goal","544f1405":"Blind\/Curtain has a large amount of missing value, that there are 101848 out of 107583. It would be better to drop missing values where the majority of data is missing and they have no impact to the data. \n\n\nBlind, an, Window, Door, Heater have too much missing value.","7aa21fbb":"Generally speaking, people who wants a change have the same distribution as people who do not. There aren't a lot of insight to be gained here, so maybe we have to look at other variables, such as Climate.","fb5f0048":"# Looking at a subset of data","28312eb8":"# Missing Values\n","535f5e88":"![Screen%20Shot%202020-07-22%20at%2010.56.24%20PM.png](attachment:Screen%20Shot%202020-07-22%20at%2010.56.24%20PM.png)","93dfe6db":"I'm now looking at two subset of climate : Hot-summer Mediterannean and Cold-semi arid to see the difference between thermal sensation in the two climate. (Hoping to see major difference). Note that Cold semi arid have little data in comaprison with hot summer","0cff1193":"![Screen%20Shot%202020-07-22%20at%2010.56.54%20PM.png](attachment:Screen%20Shot%202020-07-22%20at%2010.56.54%20PM.png)","c2aa6ff8":"The goal of the dataset is to obtain inquiry on thermal comfort in field settings. People are tested on how they find their thermal preference in their daily day to day basis. ","b100f740":"From the correlation matrix, we can see some of the high correlation occurs between temperature measurement. It's no surprise to see the Ta_h,Ta_m,Ta_l,Operative Temperature,Radiant Temperature and Globe Temperature, etc. It would be a good idea to remove these variables ads they would do little to the analysis.\n","4af65717":"I will look at Thermal sensation, Thermal sensation acceptability and Thermal preference to understand the difference between these 3 varaibles","e2d61245":"There are more data in Summer\/Winter than Spring\/Autumn. These seasons tends to be extreme in air temperature and are tiems in which building will more likely use\/change their thermal system in order to maintain a steady temperature.","19d8e75d":"MM buildings are also known as Mixed Mode building operation. Mixed mode is a hybrid space conditioning method that uses natural ventilation from window and mechanical refrigeration system. Mixed mode is only one of many style of space system, which explains why we have a lot of missing data. We don't have to drop it, but we certainly can't keep it, so if we were to do analysis on only MM_building, we would need to store it somewhere else.","9a4c89f8":"# Data Dictionary (for the one that are non explained)","8623a539":"![Screen%20Shot%202020-07-22%20at%2010.55.56%20PM.png](attachment:Screen%20Shot%202020-07-22%20at%2010.55.56%20PM.png)","1d47163f":"- The first letters are five main groups: A (tropical), B (dry), C (temperate), D (continental), and E (polar).\n- All climates except for those in the E group are assigned a seasonal precipitation subgroup (the second letter).\n- The system assigns a temperature subgroup for all groups other than those in the A group, indicated by the third letter for climates in B, C, and D, and the second letter for climates in E. For example","04be0a15":"Thermal sensation acceptability is a variable that counts whether people would want the temperature to change. 1 indicates yes and 0 indicates no","b8e17c23":"In the same way, I will remove activity_10 - activity_30 and Velocity_m,h,l because I want to simplifiy the data. It also seems that PMV and SET have high correlation due to the fact that SET is formed from the PMV and therefore will not provide further information and I will remove SET for this dataset.","e3147335":"## First Impression\n\nIt looks like there are 70 column, but not all of the columns are necessary. There are measurements in Celsius and Farenheit (There will be perfectly correlated if we were to plot them). We just have to choose between Celsius or Farenheit. **For this analysis, we will analyze the data in Celsius**\n\nI am also dropping the Koppen climate classification as that is captured by Climate","a1a8064a":"## Exploring more of the subsets of data","b29ebd4c":"Thermal sensation acceptability asks: \"Do you want the thermal condition to change?\""}}