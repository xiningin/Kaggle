{"cell_type":{"da06a3c9":"code","3b673cd7":"code","fe3f6284":"code","addb82f4":"code","f896ecba":"code","de8a68e7":"code","d8112d5f":"code","165e416a":"code","20df34c9":"code","d007b3d0":"code","e763948e":"code","aeb67728":"code","2d0ec464":"markdown","32c0b227":"markdown","ed7b02a1":"markdown","8a78e821":"markdown","ef176c04":"markdown","643c935f":"markdown","4a02c0aa":"markdown","e0ad9dc4":"markdown","8302cfd0":"markdown","a75fd5c9":"markdown","f9e2665b":"markdown","3754ba54":"markdown","3ed0a634":"markdown","3b426434":"markdown","28f9791c":"markdown","0e9f678c":"markdown","5303f898":"markdown","c3683ab0":"markdown","2a362ac2":"markdown","6d0a6a83":"markdown","4ed5ea04":"markdown"},"source":{"da06a3c9":"# But before we get ahead of ourselves, let's import the modules we'll need and load in the data\n\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ncovid_cases = pd.read_csv('..\/input\/covid19-global-dataset\/worldometer_coronavirus_daily_data.csv', \\\n                          dtype={'cumulative_total_cases':'float','daily_new_cases': 'float'})\ncovid_vaxxs = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')","3b673cd7":"# Step 1: Let's make sure each dataset uses the same name for two of the countries we will be looking at\ndef fix_country_name(country):\n    name_dict = {\n        'USA': 'United States',\n        'UK': 'United Kingdom'\n     }\n    try:\n      return name_dict[country]\n    except KeyError:\n      return country\n\ncovid_cases.country = covid_cases.country.apply(fix_country_name)","fe3f6284":"# let's just look at 4 countries for now...\ncountries_of_interest = [\"United Kingdom\", \"United States\", \"Canada\", \"China\"]\n\n\n# Step 2: Let's start cleaning the data by filtering the data to the subset of countries we want. \ncovid_cases_subset = covid_cases[covid_cases.country.isin (countries_of_interest)]\ncovid_vaxxs_subset = covid_vaxxs[covid_vaxxs.country.isin (countries_of_interest)]","addb82f4":"# Step 3: Let's merge the databases using the dates and countries\n    \nmerged_data = pd.merge_ordered(covid_cases_subset, covid_vaxxs_subset, \\\n                               left_on=['date', 'country'], \\\n                               right_on=['date', 'country'])\n\n# Let's remove unnecessary columns\nmerged_data.drop(columns=['iso_code', 'source_name', 'source_website', 'vaccines',\\\n                           'daily_vaccinations_per_million', 'daily_vaccinations_raw'], inplace=True)\n","f896ecba":"# Step 4: Let's handle the NaNs \nmerged_data.fillna({'total_vaccinations':0, 'people_vaccinated':0, 'people_fully_vaccinated':0,\\\n                 'daily_vaccinations':0,'total_vaccinations_per_hundred':0,\\\n                 'people_vaccinated_per_hundred':0 ,'people_fully_vaccinated_per_hundred':0}\\\n                 ,inplace=True)\n\ncovid_data = merged_data.dropna(how='any', subset=['cumulative_total_cases'])","de8a68e7":"# Step 5: Let's also set the index to date    \ncovid_data.set_index('date', inplace=True)","d8112d5f":"# Step 6: Let's change the index into a datetime object now\ncovid_data.index = pd.to_datetime(covid_data.index, errors='coerce', infer_datetime_format=True)","165e416a":"# Take a look at the rates of infection\nplt.figure(figsize=(14, 8))\ncovid_data.groupby('country').daily_new_cases.plot(legend=True,rot=45)\n\nplt.ylabel('Daily New cases')\nplt.xlabel('Date')\nplt.title('Daily New cases by Country');","20df34c9":"# Now let's blow the plot up and look at the pattern. \nweek_intervals = ['12\/6\/2020','12\/13\/2020','12\/20\/2020','12\/27\/2020']\n\nplt.figure(figsize=(14, 8))\ncovid_data[covid_data.country == 'United States'] \\\n  .loc['12\/1\/2020':'1\/1\/2021'].daily_new_cases.plot()\n\n{plt.axvline(d, color='k', linestyle='dashed', linewidth=1) for d in week_intervals}\n\nplt.ylabel('Number of Cases')\nplt.xlabel('Date')\nplt.title('Total COVID Cases in the US');","d007b3d0":"# Did lockdowns help?\nplt.figure(figsize=(14, 8))\ncovid_data[covid_data.country == 'United States'].daily_new_cases.plot()\n\n# Date of the first stategoing into lockdown (CA) \nplt.axvline('3\/19\/2020', color='k', linestyle='dashed', linewidth=1) \n# Date of New York reopening \nplt.axvline('6\/15\/2020', color='k', linestyle='dashed', linewidth=1)\n\nplt.ylabel('Number of Cases')\nplt.xlabel('Date')\nplt.title('Total COVID Cases in the US');","e763948e":"# Does time of year matter for infections?\nUS_infections = covid_data[covid_data.country == 'United States']\nUK_infections = covid_data[covid_data.country == 'United Kingdom']\n\nplt.figure(figsize=(14, 8))\nUS_infections['daily_new_cases']\\\n  .groupby(US_infections.index.to_period('M'))\\\n  .sum().plot(kind='bar', legend=False, color='r')\n\nUK_infections['daily_new_cases']\\\n  .groupby(UK_infections.index.to_period('M'))\\\n  .sum().plot(kind='bar', legend=False)\n\nplt.legend(['United States', 'United Kingdom'])\nplt.ylabel('Number of Cases')\nplt.xlabel('Months')\nplt.title('Monthly COVID Cases');","aeb67728":"# See how the pattern changes from country to country\nplt.figure(figsize=(14, 8))\ncovid_data[covid_data.country == 'United States'].daily_new_cases.plot(legend=False,rot=45)\ncovid_data[covid_data.country == 'United States'].daily_vaccinations.plot(legend=False,rot=45)\n\n# Mark the start of the vaccine release\nplt.axvline('12\/11\/2020', color='k', linestyle='dashed', linewidth=1)\n\nplt.legend(['Daily Cases', 'Daily Vaccinations'])\nplt.ylabel('Number of People')\nplt.xlabel('Date')\nplt.title('US COVID and Vaccine rates');","2d0ec464":"# Conclusions \ud83e\uddd0\n\nThe COVID-19 pandemic has shown to be a public health crisis that has claimed many lives and changed the world we know. We've taken a look at come of the data available to us and seen first hand that the information given to us by the CDC is not inaccurate. We have also seen the limitation of data and that the knowledge we have is dependent on the data we have available and our ability to manipulate and interpret it. \n\nBut what now?\n\nCOVID-19 infection can lead to long term illness known as Post Acute Sequelae of SARS-CoV-2 Infection, or colloquially: Long covid. Some people may even develop symptoms after infection, even if they showed no symptoms during. We still don't have enough information to fully understand COVID-19 and it's aftermath, but there are many research initiatives popping up to improve our understanding of long COVID. Please support research if you are able!\n","32c0b227":"This is a little more complicated. On one hand, yes, it looks like the infection rate is going down, but that's not all. It also looks like there's some missing vaccination data considering the total dropoff in data after January. We know vaccines continued to be administered after this so we know this data is incomplete. Despite this, it is still enough to give us an idea of the trend. After the burst in vaccinations between December and January, there is a steady decline in COVID cases through March. We can only assume this is a result of the vaccine as it comes right after the holiday season- when most people travel to see relatives and attend parties and most likely to contract the virus. \n\n***","ed7b02a1":"All done! What we are left with is one reduced dataset with fewer NaNs that is all lined up by date. \u2728 \n\nNow for the fun part...\n\n***\n","8a78e821":"What we see is that the number of daily COVID cases has gone up and down over the course of time. This isn't surprising considering the lockdowns, vaccines, and the seasonal variability. We also see there are similar, but shifted patterns in the US, UK and Canada. We will look a little more closely at this later. \n\nMore interestingly, considering the number of people in China, we don't see very many cases. What this tells us is we don't have a lot of information and we should probably should not spend more time looking closely at this aspect of our data unless we can verify it's accuracy. For now, lets move onto digging deeper.","ef176c04":"In this notebook, we are going to take a brief look at some data available and see if some of the claims made about the virus are legitimate. This is a basic analyis and should not be used to make any judgements on the vaccine or virus. Please talk to a qualified healthcare professional for the most accurate information. Please see the CDC's website for more information.\n\n<div class=\"alert alert-block alert-info\"> \ud83d\udccc Please note this is merely a look at some COVID-19 data found on kaggle. I have not verified the accuracy of this data. <\/div>\n\n***","643c935f":"## But what about Lockdowns? \n\nI'm sure everyone remembers the day we were all placed under lockdown. Businesses closed, work went remote, unemployment skyrocketed and the world as we once knew it came to a close. It started as two week, then a month and then more. It felt neverending, but it was all for the greater good. The logic was since COVID was spreading from contact, but symptoms were slow to present, we needed to do something to bridge the gap while people were at their most contagious. This was supposed to help reduce the number of cases and reduce the death rate but did it work?\n","4a02c0aa":"Now we are going to handle the NaNs. I am doing this in two ways: \n1. Changing the vaccine columns to 0\n    * I am doing it this way because earlier dates (i.e. before the release of the COVID vaccine, the number is likely to be zero)\n1. Remove any NaNs in the number of cumulative cases\n    * I am removing these rows because missing data in this column is more likely to mean there is missing data\n    * This data also can't be easily interpolated so it is better to drop it altogether","e0ad9dc4":"It looks like there's some stock in what they say afterall. The greatest number of cases happens in the 1st and 4th quarters. This corresponds to the months of October - March which happen to be the coldest months of the year in the two countries we looked at. Make sure you regularly wash your hands this winter!","8302cfd0":"## References\nData from: \n* https:\/\/www.kaggle.com\/josephassaker\/covid19-global-dataset\n* https:\/\/www.kaggle.com\/gpreda\/covid-world-vaccination-progress\n\nCOVID-19 Information from:\n\n[1] https:\/\/www.cdc.gov\n    ","a75fd5c9":"\n<details>\n<summary><span style=\"font-size:20px;color:navy;\"> Interested in participating in COVID research? Click me!<\/span><\/summary>\n<br>\n     <span style=\"font-size:20px;\">Check out our website:<\/span>\n    <a href=\"https:\/\/recovercovid.org\/\">\n<span style=\"font-size:20px;\"> \nhttps:\/\/recovercovid.org\/\n<\/span>\n    <\/a>\n<br>\n<div style=\"display:fill;\n           border-radius:5px;\n           background-color:#1357a6\">\n    \n<a href=\"https:\/\/recovercovid.org\/\">\n<img src=\"https:\/\/recovercovid.org\/images\/recoverLogoReversed.svg\" width=\"800\")>\n<\/a>\n    \n<\/div>\n    <\/details>","f9e2665b":"## Now let's see how Vaccines changed things \ud83d\udc89\n\nThe Pfizer COVID-19 Vaccine was released on Dec. 11, 2020. This was game changing; it allowed high risk individuals and healthcare workers to get some added protection against the virus that was killing people everyday. Vaccines were in such high demand, it took weeks for many of us to get appointments. At 95% effectiveness, it gave people a glimmer of hope that the pre-pandemic life we all knew was on the horizon. Do we see this reflected in the data? ","3754ba54":"# Looking at the Data \ud83d\udd75\ufe0f\u200d\u2640\ufe0f\n\nFor this particular analysis, we will be looking at two datasets containing:\n1. Global Covid infection rates\n2. Global Vaccination rates\n\n## A couple of things pop out if you look at the data: \n* These data don't use the same naming convention for some countries (i.e. USA vs United States)\n* Since we are loading from CSVs, the dates aren't date_time objects\n* There's a bunch of missing data\n* There's a ton of data, it's going to be hard to look at it all here\n* These are seperate files! Can't have that...\n\nThis is going to make it hard to analyze our data, so let's get to cleaning! \n\n<img src=\"https:\/\/c.tenor.com\/3Ml7AVN7YWoAAAAd\/house-party-cleaning.gif\" width=\"350\">\n\n***\n<br>","3ed0a634":"## Does the time of year matter? \ud83d\uddd3\n\nThere is frequently talk of \"waves\" of infection, where the seasons influence the number of cases. People spend more time outside in the summer so cases go down. Once the cooler weather rolls around, people spend more time inside and cases go back up. This sounds plausible, but is there data to support that claim? Does winter really see an uptick in cases? \n\nWe will only be looking at the US and UK here because there are too few Canadian cases to be visible here and we don't have much confidence in our data from China. ","3b426434":"![A Totally non-dramatic Image](https:\/\/tdem.texas.gov\/wp-content\/uploads\/2020\/03\/Covid-Banner-1024x259.jpg)\n# COVID-19 incident rates and the Impact of Vaccines\n\n> COVID-19 (coronavirus disease 2019) is a disease caused by a virus named SARS-CoV-2 and was discovered in December 2019 in Wuhan, China. It is very contagious and has quickly spread around the world.) COVID-19 most often causes respiratory symptoms that can feel much like a cold, a flu, or pneumonia. COVID-19 infection poses a greater risk to some populations such as those with comorbidities, the immunocompromised and the elderly. [1]\n\n<details>\n<summary><span style=\"font-size:18px;;color:navy;\">  Interested in more information about COVID-19 Infection? Click me! <\/span><\/summary>\n    \nCOVID-19 is spread in three main ways:\n<ul>\n<li> Breathing in air when close to an infected person who is exhaling small droplets and particles that contain the virus.<\/li>\n<li> Having these small droplets and particles that contain virus land on the eyes, nose, or mouth, especially through splashes and sprays like a cough or sneeze.<\/li>\n<li> Touching eyes, nose, or mouth with hands that have the virus on them.<\/li>\n<\/ul>\nCommon COVID-19 symtoms include:\n<ul>   \n<li> Fever or chills<\/li>\n<li> Cough<\/li>\n<li> Shortness of breath or difficulty breathing<\/li>\n<li> Fatigue<\/li>\n<li> Muscle or body aches<\/li>\n<li> Headache<\/li>\n<li> New loss of taste or smell<\/li>\n<li> Sore throat<\/li>\n<li> Congestion or runny nose<\/li>\n<li> Nausea or vomiting<\/li>\n<li> Diarrhea<\/li>\n<\/ul>\n    \nSymptoms may appear 2-14 days after exposure. Some people may never experience symptoms.\n<ul>\nHow to Protect yourself and others from the virus:\n<li> Wear a mask<\/li>\n<li> Get vaccinated<\/li>\n<li> Wash your hands often<\/li>\n<li> Get tested 5-7 days after possible exposures <\/li>\n<\/ul>\n<\/details>\n","28f9791c":"It looks like our suspicion was founded, each week has a similar pattern. It's likely this has to do with the 5-7 days the CDC recommends for when you should get tested after exposure.","0e9f678c":"# Goals for this Analysis: \n \n1. Take a look at the rates of infection \n    * Do we see any trends? \n1. See how the pattern changes from country to country\n    * Are things similar in different countries?\n1. How did the COVID vaccine imapact the number of active cases? \n    * What is the data quality like? \n1. Did lockdowns help? \n    * Did the numbers improve? \n1. Does time of year matter for infections? \n    * Are there peaks and troughs? \n\nThat's a lot to look at, so let's get started... \n\n\n***\n","5303f898":"## Let's look for any patterns in our data\n\nOne of the things that pop out when looking at the last plot is the lines aren't smooth. The pattern goes up and down in little cycles. This might just be noise, but let's think about what we know about COVID-19 for a moment. \n\nDo you remember this:\n> Get tested 5-7 days after close contact with someone with suspected or confirmed COVID-19.\n\nIf you start testing 5-7 days after contact with the virus, maybe some of this pattern is related to that. Let's look more closely...","c3683ab0":"# Clean that data! \ud83e\uddf9\n\nThe main goal here is to get the data in a better state, but there is never a garantee the data will all be usable.\n\nWe are going to handle all the issues we noticed when we were just exploring the data in steps. Here goes nothing!","2a362ac2":"# Data Analysis!\ud83d\udcc8\n\nLet's go back to some of the questions we started with at the beginning: \n> 1. Take a look at the rates of infection \n>     * Do we see any trends? \n> 1. See how the pattern changes from country to country\n>     * Are things similar in different countries?\n> 1. How did the COVID vaccine imapact the number of active cases? \n>     * What is the data quality like? \n> 1. Did lockdowns help? \n>     * Did the numers improve? \n> 1. Does time of year matter for infections? \n>     * Are there peaks and troughs? \n\nWe are going to tackle them one at a time.","6d0a6a83":"Okay, well the good news is it looks like the plan works. The number of new cases plataued after lockdown began. The bad news? The second lockdown ended, the number cases pretty quickly doubled and only got worse from there. Lockdown fatigue had set in and people just wanted to get out and back into the world despite the risks.\n\nBut hey, happy (almost) 2 year anniversary of \"2 weeks to flatten the curve!\"\n\n<img src=\"https:\/\/c.tenor.com\/wdv_JiOkBGgAAAAC\/cheers-lets-drink.gif\" width=\"250\">","4ed5ea04":"## Let's look at Rates of Infection\n\nWe are going to start simply by looking at what the data look like. We are going to plot the data grouped by country and see what pops out at us."}}