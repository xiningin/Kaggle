{"cell_type":{"f7de65d7":"code","8a9a6e04":"code","efec8731":"code","1905add8":"code","694e86d7":"code","264be40a":"code","20c189c8":"code","586a60e8":"code","688dd2bc":"code","2137aae0":"code","95bc34ab":"code","f2a9aedc":"code","c42c6867":"code","fbe8675a":"code","0dbcd402":"code","158c21fa":"code","daa16c24":"code","02242f02":"code","8d5bb967":"code","6d807e6f":"code","f1097145":"code","7ee8d814":"code","b4b12fe0":"code","5803c236":"code","2d8b6647":"code","121dcf7c":"code","b4dc309b":"code","16352c5e":"code","39ab24e8":"code","528cb757":"code","c436d544":"code","c6b4dfcb":"code","123eff7b":"code","6658a6fe":"code","ad2e0e9c":"code","7d831f1c":"code","2dba5ec6":"code","ce4fd898":"code","1adf33fd":"code","0d306841":"markdown","a3fa8fa1":"markdown","83676de5":"markdown","1c6682cf":"markdown","21a1b28c":"markdown","fff5ba05":"markdown","77fb96b1":"markdown","26846a63":"markdown","5dc12cfa":"markdown","1fab73bb":"markdown","682de146":"markdown","5322e42c":"markdown","7074c566":"markdown","42f3483e":"markdown","c683069f":"markdown","a8c916aa":"markdown","b365ca94":"markdown","9cd355ae":"markdown","b9a98a16":"markdown","b3586e18":"markdown","265a3719":"markdown","427ffc63":"markdown","6adbb42a":"markdown","c7e6ea49":"markdown","6cad2e4f":"markdown","857a25aa":"markdown","9850aa05":"markdown","2679e761":"markdown","c7b2c5b9":"markdown","fb153f9e":"markdown","8f8986fe":"markdown"},"source":{"f7de65d7":"# imports and read file\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\ndf = pd.read_csv('..\/input\/tmdb-movies-dataset\/tmdb_movies_data.csv')\ndf.head()","8a9a6e04":"# check tail of dataframe\ndf.tail()","efec8731":"# check all columns names\ndf.columns","1905add8":"# explore information about data types\ndf.info()","694e86d7":"# check for duplicated information\ndf.duplicated().sum()","264be40a":"# Numerical features exploration\ndf.describe()","20c189c8":"# check NAN values\ndf.isna().sum()","586a60e8":"# drop duplicates\ndf.drop_duplicates(inplace = True)\ndf.shape","688dd2bc":"# drop unwanted columns\ndel_columns = ['id', 'imdb_id', 'homepage', 'tagline', 'keywords', 'overview', 'release_date',\n               'vote_count', 'vote_average','budget','revenue']\n# id, imdb_id won't be used\n# release_year will be used instead of release_date\n# popularity will be used instead of vote_count and vote_average\n# budget_adj and revenue_adj will be used instead of budget and revenue to include inflation over time\n# rest of deleted columns are not required\ndf.drop(del_columns, axis= 1, inplace = True)\ndf.head()","2137aae0":"# In order to increase accuracy of will replace 0 values in budget, revenue, and runtime columns to NAN\ndf[\"budget_adj\"].replace(0, np.NaN, inplace = True)\ndf[\"revenue_adj\"].replace(0, np.NaN, inplace = True)\ndf[\"runtime\"].replace(0, np.NaN, inplace = True)","95bc34ab":"# Drop Rows with Nan Values\ndf.dropna(inplace = True)\ndf.shape","f2a9aedc":"# Create profit column\ndf[\"profit\"] = df[\"revenue_adj\"] - df[\"budget_adj\"]\ndf.head(3)","c42c6867":"# Separate mutiple values in Cast, genres, and production_companies columns and split them using (\"|\")\nactors = df.cast.str.cat(sep=\"|\").split(\"|\")\ngenres = df.genres.str.cat(sep=\"|\").split(\"|\")\ncompanies = df.production_companies.str.cat(sep=\"|\").split(\"|\")\n#  Create a list of Top ten actors, genres, production companies\nactors_list = pd.Series(actors).value_counts()[:10]\ngenres_list = pd.Series(genres).value_counts()[:10]\ncompanies_list = pd.Series(companies).value_counts()[:10]","fbe8675a":"# Create min_max function\n\ndef min_max (col_name):\n    min_value = df[col_name].idxmin()\n    min_df = pd.DataFrame(df.loc[min_value])\n    \n    max_value = df[col_name].idxmax()\n    max_df = pd.DataFrame(df.loc[max_value])\n    \n    print (f\"Lowest {col_name} is {df.original_title[min_value]} movie.\")\n    print (f\"Highest {col_name} is {df.original_title[max_value]} movie.\")\n    \n    min_max_value = pd.concat([min_df, max_df], axis = 1)\n    return min_max_value","0dbcd402":"# create colors list\ncolors_list = [\"orange\",\"red\", \"green\", \"blue\",\"purple\", \"yellow\", \"gray\",\"brown\", \"navy\", \"pink\"]","158c21fa":"# check and plot top ten Directors\ntop_ten_dir = df.director.value_counts()[:10].plot.bar(figsize = (10,4),\n                                                       color = colors_list,\n                                                       title = \"Top Ten Directors\",\n                                                       ylabel = \"Number of Movies\",\n                                                       legend = True);","daa16c24":"# plot biggest production companies \nbig_prod_comp = companies_list.plot.barh(figsize=(10,6),\n                                         color=colors_list,\n                                         title = \"Biggest production Companies\",\n                                         ylabel = \"Company Names\");","02242f02":"# plot top ten movie stars\ntop_ten_stars = actors_list.plot.bar(figsize =(10,6),\n                                     color = colors_list,\n                                     title = \"Top Ten Movie Stars\",\n                                     ylabel = \"Number of Movies\");","8d5bb967":"# plot highest movie genres\nbest_genres = genres_list.plot.barh(figsize=(10,5),\n                                    color = colors_list,\n                                    title = \"Highest Movies Genres\",\n                                   ylabel = \"Movies Genres\");","6d807e6f":"# lets check popularity of movies over the years \nyear_pop = df.groupby(\"release_year\").popularity.mean()\nyear_pop.plot(title = \"Movies Popularity over Years\",\n              ylabel = \"Popularity\",\n              legend = True,\n             grid = True);","f1097145":"# check movies genres popularity over years\n# year to year best genres from 2000 to 2015\nsorted_genres = df[[\"release_year\", \"genres\"]].sort_values([\"release_year\",\"genres\"], ascending = False)\neach_year_sorted_genres = pd.DataFrame(sorted_genres.groupby([\"release_year\"]).genres.max())\neach_year_sorted_genres.tail(16)","7ee8d814":"# check min vs max profit movies\nmin_max(\"profit\")","b4b12fe0":"# check min vs max budget movies\nmin_max(\"budget_adj\")","5803c236":"# check min vs max revenue movies\nmin_max(\"revenue_adj\")","2d8b6647":"# check min vs max runtime movies\nmin_max(\"runtime\")","121dcf7c":"# check min vs max popularity movies\nmin_max(\"popularity\")","b4dc309b":"# create a datframe sorted by top revenue movies\n# drop unwanted columns \n\ndf_revenue = pd.DataFrame(df.sort_values([\"revenue_adj\"], ascending=False, ignore_index= True))\ndf_revenue.drop([\"original_title\", \"cast\", \"director\", \"genres\", \"production_companies\", \"release_year\"], axis = 1, inplace = True)\ndf_revenue.head()","16352c5e":"# check top 100 high revnue movies popularity, runtime, bugdet and profit properities\ndf_revenue[:100].describe()","39ab24e8":"# Create dataframe to compare mean values of Top 100 Revenue Movies VS the mean values of all Movies\n\ndf_revenue_top_100 = pd.DataFrame([df_revenue[:100].mean(), df_revenue.mean()])\ndf_revenue_top_100.head()","528cb757":"# divide budget_adj, revenue_adj, profit columns by 1000000 to get values in Million USD\n\ndf_revenue_top_100[\"budget_adj\"] = df_revenue_top_100[\"budget_adj\"]\/1000000\ndf_revenue_top_100[\"revenue_adj\"] = df_revenue_top_100[\"revenue_adj\"]\/1000000\ndf_revenue_top_100[\"profit\"] = df_revenue_top_100[\"profit\"]\/1000000\ndf_revenue_top_100.head()","c436d544":"# Transpose the Dataframe to compare values \ndf_revenue_top_100.T","c6b4dfcb":"# compare popularity \ndf_revenue_top_100.popularity.plot(kind = \"bar\", \n                               figsize = (5,5),\n                               color=[\"salmon\", \"lightblue\"],\n                               title = \"Popularity\",\n                               ylabel = \"Average Popularity\",\n                                legend =True,\n                                  grid = True);","123eff7b":"# popularity disribution of the Top 100 revenue movies\n\ndf_revenue_top_100.popularity.plot(kind = \"box\", \n                               figsize = (5,5),\n                               color=\"salmon\",\n                               title = \"Popularity Distribution\",\n                               ylabel = \"Popularity\",\n                                  grid = True);","6658a6fe":"# Compare runtime \ndf_revenue_top_100.runtime.plot(kind = \"bar\", \n                           figsize = (5,5),\n                               color=[\"salmon\", \"lightblue\"],\n                               title = \"Runtime\",\n                               ylabel = \"Miniuts\",\n                               grid = True);","ad2e0e9c":"# Runtime disribution of the Top 100 revenue movies\n\ndf_revenue_top_100.runtime.plot(kind = \"box\", \n                               figsize = (5,5),\n                               color=\"salmon\",\n                               title = \"Runtime Distribution\",\n                               ylabel = \"Miniuts\",\n                               grid = True);","7d831f1c":"# Compare Budgets\ndf_revenue_top_100.budget_adj.plot(kind = \"bar\", \n                               figsize = (5,5),\n                               color=[\"salmon\", \"lightblue\"],\n                               title = \"Bugdet\",\n                               ylabel = \"Million USD\",\n                                  grid = True);","2dba5ec6":"# Budget disribution of the Top 100 revenue movies\n\ndf_revenue_top_100.budget_adj.plot(kind = \"box\", \n                               figsize = (5,5),\n                               color=\"salmon\",\n                               title = \"Budget Distribution\",\n                               ylabel = \"Million USD\",\n                                  grid = True);","ce4fd898":"# Compare Profits\ndf_revenue_top_100.profit.plot(kind = \"bar\", \n                               figsize = (5,5),\n                               color=[\"salmon\", \"lightblue\"],\n                               title = \"Profit\",\n                               ylabel = \"Million USD\",\n                              grid = True);","1adf33fd":"# Profit disribution of the Top 100 revenue movies\n\ndf_revenue_top_100.profit.plot(kind = \"box\", \n                               figsize = (5,5),\n                               color=\"salmon\",\n                               title = \"Profit Distribution\",\n                               ylabel = \"Million USD\",\n                              grid = True);","0d306841":"### An incredible list including All time favourite Actors; Robert De Niro (aka: The complete actor) comes in first place with over 50 Movies, Bruce Willis the star of the Die Hard Movies Series comes in second place and the Wonderfull Samuel L.jackson Comes in third place.\n### We notice that there is No Female Actress Names in the list like Sandra Bullock or Kate Winslet !! ","a3fa8fa1":"### Average Profit is 930 million USD - (10 Times higher than an average movie)","83676de5":"### Top 100 Revenue movies Average Runtime is 131 min - (22 miniutes longer than an average movie)","1c6682cf":"## 2. Data Wrangling:\n\nIn this section:\n\n    1. look on the dataset insights, to decide required data cleaning.\n    2. Clean data (Remove duplicates, fill\/drop missing data as required, Drop unused columns).\n    3. Create function to help answer questions about the datset.","21a1b28c":"#### * From the graph a huge drop in Movies popularity is noticed between (1962-1966). \n#### * The popularity trends were stable during the 80's and 90's.\n#### * From 1993 up to 2005 movies popularity was increasing gradually may be due to increase in number of theaters. \n#### * Movies popularity started increasing rapidly after year 2005 we can explain the quick increase due to high budget movies and increased number of produced movies. ","fff5ba05":"### Avatar is the highest Revenue Movie, however Avatar isn't the top profit movie due to high budget spent on animations and production of this great movie.","77fb96b1":"### Jurassic World is the most popular movie of our datset, No surprises for this result as the smart idea of Dinosaurs existance, compined with huge production of 138 Million USD was a great popular movie. ","26846a63":"### Drama comes on top of Movies Genres list followed by Comedy and Thriller movies. Romance comes in Sixth place and Family Movies in Tenth place ","5dc12cfa":"### Q-5: Check the properities of Top 100 Revenue Movies ?","1fab73bb":"### 2.3. Create Function:\n\nIn this section we create min_max function to help explore and answer questions about the dataset\n\nmin_max Function - takes column name and return the min and max values to compare","682de146":"### Big Names in  Top Ten Production Companies; Universal Pictures comes first with over 300 produced movies, Warner Bros comes second with very small margine, Paramount comes third and Walt Disney comes in the Seventh Place.","5322e42c":"# Table of Content:\n\n* Introduction\n* Data Wranglling\n* EDA - Exploratory Data Analysis\n* Conclusions\n","7074c566":"> # TMDB Movies dataset Exploration.","42f3483e":"### Limitation:\n\n* The dataset contains a huge amount of 0 and NaN values; which forced us to drop over 6000 movies, which can mislead final results.\n* We use (budget_adj, revenue_adj) columns to account for inflation over time, if (budget, revenue) columns are used different results will appear. ","c683069f":"### from the previous exploration:\n\n* Dataset consists of 10866 rows and 21 columns. \n* Only 1 duplicated row. \n* Various columns including budget and revenue contain 0 values.\n* Various columns contain NAN values.\n* Cast, Genres, and production companies columns need string sepration.","a8c916aa":"## Conculisions and Interesting Findings \n","b365ca94":"## 1. Introduction:\n\nIn this jupyter notebook we explore - The Movie Database (TMDb) - dataset which contains information about 10,000+ movies including user ratings, budgets and revenues and much more... I want to explore, find and share answers for many questions on this notebook. \n\n### I will try to answer these questions during this interesting exploration:\n\n* Top Ten Directors, Actors, Production Companies and Movie Genres ?\n* What is the Movies popularity trend over years ?\n* Which genres was more populare over the years ?\n* Compare lowest and highest Movies Budgets, Revenues, Profites and Runtime ?\n* Check the properities of Top 100 Revenue Movies ?","9cd355ae":"### 2.1. Look on dataset insights ","b9a98a16":"### Notice Thriller genres present in 2009, 2010, 2012, 2013 and 2015.","b3586e18":"### Top 100 revenue movies Average Popularity is 4.4  - (4 times higher than an average movie)","265a3719":"### Great Directors in our Top Ten Directors list including: The Great Steven Spielberg, Clint Eastwood (My Favourite), and Ridley Scott.","427ffc63":"## 3. EDA - Exploratory Data Analysis\n### Lets answer some questions !!!\n### Q-1: Top Ten Directors, Actors, Production Companies and Movie Genres ?","6adbb42a":"### The Kid's story animation movie has the shortest runtime duration with 15 miniutes, while Carlos has the longest runtime of 338 miniutes","c7e6ea49":"### Q-4: Compare lowest and highest Movies Budgets, Revenues, Profites and Runtime ?","6cad2e4f":"### Q-3: which movie genres were popular year to year ?","857a25aa":"### 2.2. Clean Data:\n\n        * Drop duplicates.\n        * Drop not required columns.\n        * Drop (runtime, budget_adj and revenue_adj) rows with 0 values.\n        * Create profit column.\n        * Separet strings in cast, genres and production_companies columns.\n    ","9850aa05":"### Star wars come on top of high profit movies we notice the production year 1977 which mean that although its an old production; the revenues were very high to win maximum profit.  ","2679e761":"### The Warrior's way comes in the top highest budget movies but didn't make the biggest profits, i beleive its a huge production Movie, I'm cerious to watch this movie myself to rate it!","c7b2c5b9":"### Average Budget is 130 million USD - (4 times higher than an average movie) - this result indicate the relation between high budget movies are connected with high revenue movies. ","fb153f9e":"* Biggest Production Companies: Universal pictures, Warners Bros, Paramont Pictures.\n* Best Directors: Steven Spielberg, Clint Eastwood, Ridly Scott.\n* Best Actor: Roberts De Niro, Bruce Willis, Samuel L. jackson.\n* Best Movie Genres: Drama, Comedy, Thriller.\n\n* Movies popularity started increasing quickly after year 2005.\n* Thriller genres is present in top popularity genres year 2009, 2010, 2012, 2013, 2015.\n\n* Lowest profit is The Warrior's Way movie and Highest profit is Star Wars movie.\n* Lowest budget_adj is Love, Wedding, Marriage movie and Highest budget_adj is The Warrior's Way movie.\n* Lowest revenue_adj is Shattered Glass movie and Highest revenue_adj is Avatar movie.\n* shortest runtime is Kid's Story movie and Longest runtime is Carlos movie.\n\n#### Top 100 Revenue movies have the following properites:\n1. Average Popularity is 4.4  - (4 times higher than an average movie)\n2. Average Runtime is 131 min - (22 miniutes longer than an average movie)\n3. Average Budget is 130 million USD - (4 times higher than an average movie)\n4. Average Profit is 930 million USD - (10 Times higher than an average movie)","8f8986fe":"### Q-2: What is the Movies popularity trend over years ?"}}