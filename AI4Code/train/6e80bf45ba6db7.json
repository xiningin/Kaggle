{"cell_type":{"a4452de7":"code","42af2f03":"code","3f798552":"code","ac14b0da":"code","5b6f28fd":"code","8a0ef3fb":"code","7bc0f8b4":"code","717decc7":"code","d16e8e21":"code","10dd7ead":"code","e39f74cf":"code","8866c5ed":"code","c4d74cf3":"code","41df637a":"code","61c443de":"code","310f5667":"code","84e22354":"code","e717748d":"code","f946a7bb":"code","fa6e9aa8":"code","3dd7f6db":"code","ff970482":"code","b1382ab7":"code","c96bbe41":"code","ac89bfb0":"code","4f77a470":"code","c53e3c04":"code","dab346a1":"code","43e3ee69":"code","43790881":"code","c94574ee":"code","a12c4004":"code","33792467":"code","95dea73b":"code","9a3920b9":"markdown","b488edd3":"markdown","977ac584":"markdown","97f5f308":"markdown","6fa7335d":"markdown","285b5704":"markdown","15c8cc31":"markdown","976256f9":"markdown","f04115f8":"markdown","8e1a4654":"markdown","ea700f17":"markdown","bac2c618":"markdown","3346f1e3":"markdown","aa1d05ae":"markdown","75e91963":"markdown","5c9944fd":"markdown","413d2dbb":"markdown","1c7c664c":"markdown","9908640a":"markdown","a76d5276":"markdown","c5faf2fe":"markdown","762c1ad3":"markdown","696952d6":"markdown","41301e30":"markdown","a72c72cc":"markdown","19c4f1e0":"markdown","75edfefb":"markdown","783469a3":"markdown"},"source":{"a4452de7":"import numpy as np\nimport pandas as pd","42af2f03":"\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","3f798552":"import matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('whitegrid')\n%matplotlib inline","ac14b0da":"df = pd.read_csv('\/kaggle\/input\/911.csv')","5b6f28fd":"df.info()","8a0ef3fb":"df.head(3)","7bc0f8b4":"df['zip'].value_counts().head(5)","717decc7":"df['twp'].value_counts().head(5)","d16e8e21":"df['title'].nunique()","10dd7ead":"df['Reason'] = df['title'].apply(lambda title: title.split(':')[0])","e39f74cf":"df['Reason'].value_counts()","8866c5ed":"sns.countplot(x='Reason',data=df,palette='viridis')","c4d74cf3":"type(df['timeStamp'].iloc[0])","41df637a":"df['timeStamp'] = pd.to_datetime(df['timeStamp'])","61c443de":"df['Hour'] = df['timeStamp'].apply(lambda time: time.hour)\ndf['Month'] = df['timeStamp'].apply(lambda time: time.month)\ndf['Day of Week'] = df['timeStamp'].apply(lambda time: time.dayofweek)","310f5667":"dmap = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}","84e22354":"df['Day of Week'] = df['Day of Week'].map(dmap)","e717748d":"sns.countplot(x='Day of Week',data=df,hue='Reason',palette='viridis')\n\n# To relocate the legend\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)","f946a7bb":"sns.countplot(x='Month',data=df,hue='Reason',palette='viridis')\n\n# To relocate the legend\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)","fa6e9aa8":"# It is missing some months! 9,10, and 11 are not there.","3dd7f6db":"byMonth = df.groupby('Month').count()\nbyMonth.head()","ff970482":"# any column\nbyMonth['twp'].plot()","b1382ab7":"sns.lmplot(x='Month',y='twp',data=byMonth.reset_index())","c96bbe41":"df['Date']=df['timeStamp'].apply(lambda t: t.date())","ac89bfb0":"df.groupby('Date').count()['twp'].plot()\nplt.tight_layout()","4f77a470":"df[df['Reason']=='Traffic'].groupby('Date').count()['twp'].plot()\nplt.title('Traffic')\nplt.tight_layout()","c53e3c04":"df[df['Reason']=='Fire'].groupby('Date').count()['twp'].plot()\nplt.title('Fire')\nplt.tight_layout()","dab346a1":"df[df['Reason']=='EMS'].groupby('Date').count()['twp'].plot()\nplt.title('EMS')\nplt.tight_layout()","43e3ee69":"dayHour = df.groupby(by=['Day of Week','Hour']).count()['Reason'].unstack()\ndayHour.head()","43790881":"plt.figure(figsize=(12,6))\nsns.heatmap(dayHour,cmap='viridis',annot=True)","c94574ee":"sns.clustermap(dayHour,cmap='viridis',annot=True)","a12c4004":"dayMonth = df.groupby(by=['Day of Week','Month']).count()['Reason'].unstack()\ndayMonth.head()","33792467":"plt.figure(figsize=(12,6))\nsns.heatmap(dayMonth,cmap='viridis',annot=True)","95dea73b":"sns.clustermap(dayMonth,cmap='viridis',annot=True)","9a3920b9":"10 create a gropuby object called byMonth, where you group the DataFrame by the month column and use the count() method for aggregation.","b488edd3":"9 Did you notice something strange about the Plot? ","977ac584":"13 create a plot of counts of 911 calls.","97f5f308":"8  use seaborn to create a countplot of the Day of Week column with the hue based off of the Reason column. ","6fa7335d":"12 if you can use seaborn's lmplot() to create a linear fit on the number of calls per month. ","285b5704":"1 What are the top 5 zipcodes for 911 calls? ","15c8cc31":" create a clustermap using this DataFrame. ","976256f9":" In the titles column there are \"Reasons\/Departments\" specified before the title code. These are EMS, Fire, and Traffic. we are Using .apply() with a custom lambda expression to create a new column called \"Reason\" that contains this string value. \n\n**For example, if the title column value is EMS: BACK PAINS\/INJURY , the Reason column value would be EMS. ","f04115f8":"5 Now use seaborn to create a countplot of 911 calls by Reason. ","8e1a4654":"11 create a simple plot off of the dataframe indicating the count of calls per month. ","ea700f17":"repeat these same plots and operations, for a DataFrame that shows the Month as the column. ","bac2c618":"7 Notice how the Day of Week is an integer 0-6. Use the .map() with this dictionary to map the actual string names to the day of the week: \n\n    dmap = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}","3346f1e3":"** the end **","aa1d05ae":"now we are Using pd.to_datetime to convert the column from strings to DateTime objects. ","75e91963":"3 Take a look at the 'title' column, how many unique title codes are there? ","5c9944fd":"## Data and Setup","413d2dbb":" a new column called 'Date' that contains the date from the timeStamp column.","1c7c664c":"# 911 Calls Capstone Project ","9908640a":"2 What are the top 5 townships (twp) for 911 calls? ","a76d5276":"6 What is the data type of the objects in the timeStamp column? ","c5faf2fe":"## Creating new features","762c1ad3":"\n\nnow we are going to create 3 columns based off of the timeStamp column","696952d6":" we  noticed it was missing some Months","41301e30":"4 What is the most common Reason for a 911 call based off of this new column? **","a72c72cc":" doing the same for Month","19c4f1e0":" The data contains the following fields:\n\n* lat : String variable, Latitude\n* lng: String variable, Longitude\n* desc: String variable, Description of the Emergency Call\n* zip: String variable, Zipcode\n* title: String variable, Title\n* timeStamp: String variable, YYYY-MM-DD HH:MM:SS\n* twp: String variable, Township\n* addr: String variable, Address\n* e: String variable, Dummy variable (always 1)\n\n","75edfefb":"15 create a HeatMap of above 'dayhour' DataFrame. ","783469a3":"14 recreate this plot but create 3 separate plots with each plot representing a Reason for the 911 call"}}