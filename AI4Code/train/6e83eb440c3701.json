{"cell_type":{"9a308305":"code","e1ba4221":"code","07043cc3":"code","3cdbdc45":"code","7e0ef9d9":"code","a1db810e":"code","f139de01":"code","3b99a004":"code","4b6dc5c1":"code","0a414eb8":"code","e9672ffa":"code","d9da41e9":"code","557350cb":"code","4d0061ba":"markdown","94210b42":"markdown"},"source":{"9a308305":"#Import Library Files\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression","e1ba4221":"#Read CSV File\n\nkidney_stone = pd.read_csv('\/kaggle\/input\/kidney-stone-data\/kidney_stone_data.csv')\n\nkidney_stone.head()","07043cc3":"kidney_stone.info()","3cdbdc45":"#Check null value\nkidney_stone.isna().sum()","7e0ef9d9":"kidney_stone.shape","a1db810e":"#Check sucess rate\n\nsns.countplot(x=kidney_stone['success'])","f139de01":"#Creat train test\n\nx= kidney_stone[['treatment','stone_size']]\ny = kidney_stone['success']\n\nx_dummies = pd.get_dummies(x) #Change String to Numerical \n\nx_train, x_test, y_train, y_test = train_test_split(x_dummies,y, test_size=0.10, random_state=0)\nx_train.shape","3b99a004":"#Create a model\n\nlogreg =  LogisticRegression()\n\nlogreg.fit(x_train,y_train)\n","4b6dc5c1":"y_pred = logreg.predict(x_test)\ny_pred","0a414eb8":"#Create Confusion Matrix\n\nfrom sklearn import metrics\n\ncnf_matrix = metrics.confusion_matrix(y_test, y_pred)\ncnf_matrix","e9672ffa":"#Visualize Confusion Matrix\n\nsns.heatmap(cnf_matrix, annot=True)","d9da41e9":"#Check Model Accurancy\n\nprint('Accuracy:' ,metrics.accuracy_score(y_test,y_pred))\nprint(\"Precision:\",metrics.precision_score(y_test, y_pred))\nprint(\"Recall:\",metrics.recall_score(y_test, y_pred))","557350cb":"y_pred_proba = logreg.predict_proba(x_test)[::,1]\nfpr, tpr, _ = metrics.roc_curve(y_test,  y_pred_proba)\nauc = metrics.roc_auc_score(y_test, y_pred_proba)\nplt.plot(fpr,tpr,label=\"data 1, auc=\"+str(auc))\nplt.legend(loc=4)\nplt.show()\n","4d0061ba":"Train the model","94210b42":"Cleaning Data"}}