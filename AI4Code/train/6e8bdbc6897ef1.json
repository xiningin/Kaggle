{"cell_type":{"be395c88":"code","2c56445b":"code","fafdaa76":"code","71235bef":"code","a64c25bc":"code","46422148":"code","dee34710":"code","8d1a27a8":"code","be239b1b":"code","908206b4":"code","4ddbdce6":"code","9a5b1fa9":"code","5b3fe079":"code","81311a2f":"markdown","bea61058":"markdown","b661de2a":"markdown","7d71f08b":"markdown","de0f658a":"markdown","6b4ac0c4":"markdown","06b8bda0":"markdown","773e2fa7":"markdown","3cf86388":"markdown"},"source":{"be395c88":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\ndf_train = pd.read_csv(\"..\/input\/song-popularity-prediction\/train.csv\")\ndf_test = pd.read_csv(\"..\/input\/song-popularity-prediction\/test.csv\")","2c56445b":"plt.figure(figsize=(50,14))\nsns.heatmap(df_train.isnull().transpose(), cbar=True)\nplt.show()","fafdaa76":"df_train[\"song_duration_ms\"].fillna(df_train[\"song_duration_ms\"].mean(), inplace=True)\ndf_train[\"acousticness\"].fillna(df_train[\"acousticness\"].mean(), inplace=True)\ndf_train[\"danceability\"].fillna(df_train[\"danceability\"].mean(), inplace=True)\ndf_train[\"energy\"].fillna(df_train[\"energy\"].mean(), inplace=True)\ndf_train[\"instrumentalness\"].fillna(df_train[\"instrumentalness\"].mean(), inplace=True)\ndf_train[\"key\"].fillna(df_train[\"key\"].mode(), inplace=True)\ndf_train[\"liveness\"].fillna(df_train[\"liveness\"].mean(), inplace=True)\ndf_train[\"loudness\"].fillna(df_train[\"loudness\"].mean(), inplace=True)\n\ndf_test[\"song_duration_ms\"].fillna(df_test[\"song_duration_ms\"].mean(), inplace=True)\ndf_test[\"acousticness\"].fillna(df_test[\"acousticness\"].mean(), inplace=True)\ndf_test[\"danceability\"].fillna(df_test[\"danceability\"].mean(), inplace=True)\ndf_test[\"energy\"].fillna(df_test[\"energy\"].mean(), inplace=True)\ndf_test[\"instrumentalness\"].fillna(df_test[\"instrumentalness\"].mean(), inplace=True)\ndf_test[\"key\"].fillna(df_test[\"key\"].mode(), inplace=True)\ndf_test[\"liveness\"].fillna(df_test[\"liveness\"].mean(), inplace=True)\ndf_test[\"loudness\"].fillna(df_test[\"loudness\"].mean(), inplace=True)","71235bef":"features = list(df_train.columns)\nfeatures.remove(\"song_popularity\")","a64c25bc":"categorical_features = [\"key\", \"audio_mode\",\"time_signature\"]","46422148":"fig, axes = plt.subplots( 5,3 , sharey = False, figsize = (20,20))\nrow,col = 5,3\ncell_count = 0\nfor r in range(row):\n  for c in range(col) :\n    if cell_count+1 < len(features):\n      if features[cell_count+1] not in categorical_features:\n        sns.histplot(data=df_train, x =features[cell_count+1], ax = axes[r][c],kde=True),\n      else:\n        sns.countplot(data=df_train,x=features[cell_count+1], ax = axes[r][c])\n      cell_count+=1;","dee34710":"sns.histplot(data=df_train,x=\"instrumentalness\", kde=True , log_scale=10)","8d1a27a8":"fig, axes = plt.subplots( 4,3 , sharey = False, figsize = (15,12))\nrow,col = 4,3\ncell_count = 0\nfor r in range(row):\n  for c in range(col) :\n    #sns.histplot(data=df_train,x=features[cell_count+1], ax = axes[r][c], kde=True )\n    sns.kdeplot(data = df_train, x = features[cell_count+1], hue = \"song_popularity\",ax = axes[r][c], shade=True)\n    cell_count+=1;","be239b1b":"from matplotlib.pyplot import figure\n\nfigure(figsize=(10, 8), dpi=80)\ncorr_matrix = df_train[[x for x in features if x not in [\"id\"]]].corr()\nsns.heatmap(corr_matrix)","908206b4":"fig, axes = plt.subplots( 1,3, sharey = False, figsize = (18,4))\n\nsns.kdeplot(data=df_train,y=\"loudness\",x=\"energy\", ax=axes[0])\nsns.kdeplot(data=df_train,y=\"acousticness\",x=\"energy\", ax=axes[1])\nsns.kdeplot(data=df_train,y=\"acousticness\",x=\"loudness\", ax=axes[2])","4ddbdce6":"figure(figsize=(10, 4), dpi=80)\nsns.kdeplot(data=df_train,hue=\"time_signature\",x=\"energy\", shade=True, common_norm=False, palette=\"rocket\")","9a5b1fa9":"bivariate_df = df_train.loc[:,[\"time_signature\",\"key\",\"energy\"]]\\\n.groupby(by=[\"time_signature\",\"key\"])\\\n.median(\"energy\")\n\nbivariate_df_pivoted = bivariate_df.reset_index().pivot(\"time_signature\",\"key\",\"energy\")\n\n\nfigure(figsize=(10,4), dpi=80)\nsns.heatmap(data=bivariate_df_pivoted)","5b3fe079":"from matplotlib.pyplot import figure\nfigure(figsize=(10, 4), dpi=80)\nsns.kdeplot(data=df_train,hue=\"audio_mode\",x=\"loudness\", shade=True, common_norm=False, palette=\"rocket\")\n","81311a2f":"## Feature interactions","bea61058":"## Replacing null values with mean\/mod","b661de2a":"* Energy values differs for time_signature 2 & 4.","7d71f08b":"* High positive correlation can be observed between loudness & energy.\n* High negative correlation between accousticness & loudness as well as energy.","de0f658a":"## Target impact","6b4ac0c4":"## Distribution plot of numerical & categorical feaures","06b8bda0":"### Correlation matrix","773e2fa7":"## Load dataset","3cf86388":"When plotting key vs time_signature w.r.t energy, we observe:\n* Energy is low at time_signature 2 & 3."}}