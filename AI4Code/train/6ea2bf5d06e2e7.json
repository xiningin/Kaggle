{"cell_type":{"436ede29":"code","a345de30":"code","8eff5343":"code","cbe4b4e3":"code","d761d096":"code","b589bb69":"code","f9c9ba8b":"code","51c8a170":"code","643904d7":"code","fc4eafeb":"code","db64fe22":"code","541b0ccd":"code","fdcec49f":"code","64e42a6c":"code","db81274f":"code","60a04f20":"code","4998ea9e":"code","63154562":"code","91e718e4":"code","3cf4ddda":"code","3ab47af7":"code","8c1f6ce3":"code","6805fb6a":"code","81af7e46":"code","fcb0b4ca":"code","a2f97268":"code","b14caca9":"code","64817968":"code","8908e752":"code","793f6dfd":"code","5ad00853":"code","9200a954":"code","c5c5be40":"markdown","f8b11b3a":"markdown","18ee4287":"markdown","eefa0a48":"markdown","569d44f0":"markdown","6cf0dfb1":"markdown","548eb72d":"markdown","00e64a66":"markdown","e682754f":"markdown","ba793d07":"markdown","1ac446dd":"markdown","ddfea07c":"markdown","f9cf07f4":"markdown","f6734dcd":"markdown","a0901533":"markdown","401157a3":"markdown","e2ddce9d":"markdown","3166c294":"markdown","b62aaf08":"markdown","49518af7":"markdown","9c7ff506":"markdown","31d10fa2":"markdown","41aa81f3":"markdown","6a9e08ea":"markdown","5032d182":"markdown","980365fa":"markdown","4eaf19cd":"markdown","0d874bcd":"markdown","647701bc":"markdown","00420718":"markdown","4e89f94e":"markdown","7a0831b7":"markdown","0f7f8bf5":"markdown"},"source":{"436ede29":"#importing libraries\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib\nfrom matplotlib import pyplot as plt\n%matplotlib inline\npd.pandas.set_option('display.max_columns',None)\npd.pandas.set_option('display.max_rows',None)\nimport warnings\nwarnings.filterwarnings('ignore')","a345de30":"#loading dataset\ndata=pd.read_csv('\/kaggle\/input\/melbourne-housing-snapshot\/melb_data.csv')\ndf=data.copy()","8eff5343":"df.head()","cbe4b4e3":"df.describe().T","d761d096":"df.info()","b589bb69":"plt.figure(figsize=(10,8))\nsns.heatmap(df.isnull(), cbar=False,cmap=\"Greens\");","f9c9ba8b":"df.drop(['BuildingArea','Address'],axis=1).head(5)","51c8a170":"numerical_feature=[feature for feature in df.columns if df[feature].dtype !='object']\nprint('There are {} numerical features.'.format(len(numerical_feature)))\n\nyear=[feature for feature in numerical_feature if \"Yr\" in feature or \"Year\" in feature]\n\ndiscrete_feature=[feature for feature in numerical_feature if (df[feature].nunique())<25 and feature not in year+['Id']]\nprint('There are {} are discrete features'.format(len(discrete_feature)) )\n\ncontinuous_feature=[feature for feature in numerical_feature if feature not in discrete_feature and feature not in year+['Id']]\nprint('There are {} are continuous features'.format(len(continuous_feature)) )\n\ncat_feature=[feature for feature in df.columns if df[feature].dtypes=='object']\nprint('There are {} categorical features.'.format(len(cat_feature)))","643904d7":"type={'h':'house','u':'unit','t':'townhouse'}\ndf=df.replace({'Type':type})","fc4eafeb":"def outlier_function(df, col_name):\n    first_quartile = np.percentile(np.array(df[col_name].tolist()), 25)\n    third_quartile = np.percentile(np.array(df[col_name].tolist()), 75)\n    IQR = third_quartile - first_quartile\n                      \n    upper_limit = third_quartile+(3*IQR)\n    lower_limit = first_quartile-(3*IQR)\n    outlier_count = 0\n                      \n    for value in df[col_name].tolist():\n        if (value < lower_limit) | (value > upper_limit):\n            outlier_count +=1\n    return lower_limit, upper_limit, outlier_count\nfor feature in continuous_feature:\n    if outlier_function(df,feature)[2] > 1:\n        print('{}: {} outliers'.format(feature,outlier_function(df,feature)[2]))","db64fe22":"plt.figure(figsize=(10,8))\ncorr=df[continuous_feature].corr()\nplt.title('Correlation heatmap of continuous features',fontsize=15)\nsns.heatmap(corr);","541b0ccd":"fig, axarr = plt.subplots(2, 2, figsize=(12, 10))\n\nsns.distplot(df['Price'],ax=axarr[0][0],color='blue',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Price')\nsns.distplot(df['Distance'],ax=axarr[1][0],color='green',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Distance')\nsns.distplot(np.log(df['Price']),ax=axarr[0][1],color='red',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Price(Transformed value on log scale)')\nsns.distplot(df['Landsize'],ax=axarr[1][1],color='orange',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Landsize')\nplt.subplots_adjust(hspace=.6)\nsns.set_style('darkgrid')\nsns.despine()\n","fdcec49f":"df['price_per_unit_area']=df['Price']\/df['Landsize']","64e42a6c":"plt.figure(figsize=(10,8))\nsns.scatterplot(y=np.log(df['price_per_unit_area']),x=df['Distance'],data=df,hue='Regionname').set_title(\"Distance from property to CBD\",fontsize=20);","db81274f":"df[discrete_feature].head(3)","60a04f20":"for feature in discrete_feature:\n    if outlier_function(df,feature)[2] > 1:\n        print('{}: {} outliers'.format(feature,outlier_function(df,feature)[2]))","4998ea9e":"df['Bedroom2']=df['Bedroom2'].astype('int')\ndf['Bathroom']=df['Bathroom'].astype('int')\ndf['Car']=df['Car'].astype('int',errors='ignore')\ndf['Car']=df['Car'].astype('int',errors='ignore')","63154562":"fig, axarr = plt.subplots(2, 2, figsize=(14,10))\nfig.suptitle('Property features',fontsize=15)\n\nsns.countplot(df['Rooms'],ax=axarr[0][0],palette='cubehelix').set_title('No. of Rooms')\nsns.countplot(df['Bedroom2'],ax=axarr[1][0],palette='cubehelix').set_title('No. of Bedrooms')\nsns.boxplot(x=df['Bedroom2'],y=df['Price'],ax=axarr[1][1],palette='husl').set_title('Price with respect to number of bedrooms')\nsns.boxplot(x=df['Rooms'],y=df['Price'],ax=axarr[0][1],palette='husl').set_title('Price with respect to no. of rooms')\n\nplt.subplots_adjust(hspace=.4)\nsns.set_style('darkgrid')\nsns.despine()","91e718e4":"fig, axarr = plt.subplots(2, 2, figsize=(14, 10))\nfig.suptitle('Property features',fontsize=15)\n\nsns.countplot(df['Bathroom'],ax=axarr[0][0],palette='husl').set_title('No. of Bathrooms')\nsns.violinplot(x= \"Bathroom\",y=\"Price\",data=df,palette=\"Set2\",ax=axarr[0][1]).set_title('No. of Bathrooms vs Price')\nsns.countplot(df['Car'],ax=axarr[1][0],palette='husl').set_title('No.of Cars')\nsns.boxenplot(x=\"Car\",y=\"Price\",data=df,palette=\"Set1\",ax=axarr[1][1]).set_title('No.of Cars vs Price');\n\n\nplt.subplots_adjust(hspace=.4)\nsns.set_style('darkgrid')\nsns.despine()\n","3cf4ddda":"df[cat_feature].head()","3ab47af7":"plt.figure(figsize=(12,8))\ng=sns.countplot(df['CouncilArea'],data=df,palette='Set2')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.set_title('No.of properties in each Council Area',fontsize=15);","8c1f6ce3":"plt.figure(figsize=(10,8))\ng=sns.stripplot(x=df['CouncilArea'],y=df['Price'],hue='Type',data=df,palette='Set1')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.set_title('Preferred Council Area by Price',fontsize=15);","6805fb6a":"plt.figure(figsize=(10,6))\ng=sns.countplot(df['Regionname'],hue='Type',data=df,palette='Set2')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.set_title('Preferred region by property type',fontsize=15);\n","81af7e46":"plt.figure(figsize=(10,8))\ng=df.groupby(['Regionname'])['Price'].mean().sort_values()\ng=sns.boxplot(x='Regionname', y='Price', data=df,order=list(g.index),palette='cubehelix')\ng=sns.stripplot(x='Regionname', y='Price', data=df,color='orange',jitter=0.2,size=2.5)\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\nplt.title('Price with respect to Region',fontsize=15);","fcb0b4ca":"fig, axs = plt.subplots(ncols=2,figsize=(15,6))\n\nsns.boxplot(x=df['Method'],y=df['Price'],ax=axs[0],palette='cubehelix').set_title('Price vs Method')\n\nsns.stripplot(x=df['Type'],y=df['Price'],ax=axs[1],palette='hls').set_title('Price vs Type');","a2f97268":"fig, axarr = plt.subplots(2, 1, figsize=(12, 16))\nfig.suptitle('Preferred Locations',fontsize=15)\n\nsns.scatterplot(y=df['Lattitude'],x=df['Longtitude'],hue=df['Regionname'],palette='husl',ax=axarr[0]).set_title('Lattitude-Longitude, Regionname')\nsns.scatterplot(y=df['Lattitude'],x=df['Longtitude'],hue=df['Type'],palette='Set1',ax=axarr[1]).set_title('Lattitude-Longitude,Type')\nplt.show()","b14caca9":"df=df.drop(index=9968,axis=1)","64817968":"fig, axarr = plt.subplots(2, 1, figsize=(12, 10))\n\nfig.suptitle('Trend in Price over the years',fontsize=20)\n\nsns.lineplot(x='YearBuilt',y='Price',data=df,hue='Type',palette='Set1',ax=axarr[0])\n\nsns.lineplot(x='YearBuilt',y='Price',data=df,hue='Regionname',palette='Set1',ax=axarr[1]);\n","8908e752":"def d_date(date):\n    return(date[-7:])\ndf['Date']=df['Date'].apply(d_date)","793f6dfd":"plt.figure(figsize=(10,8))\ngg=sns.countplot(df['Date'],palette='hls',hue='Type',data=df)\ngg.set_xticklabels(gg.get_xticklabels(), rotation=70)\ngg.set_title('Month and year of highest sale (2016-2017)',fontsize=15);\n","5ad00853":"plt.figure(figsize=(10,8))\ng=df.groupby(['SellerG','Type','Method']).Price.sum().sort_values(ascending=False).head(20)\ng.plot(kind='barh',color='orange',title='Top realtors by Type and Method')\nplt.xlabel('Price');\n","9200a954":"plt.figure(figsize=(16,10))\nplt.title('Correlation heatmap', fontsize=20)\ncorr_matrix=df.corr()\nmask = np.zeros_like(corr_matrix)\nmask[np.triu_indices_from(mask)] = True\nsns.heatmap(corr_matrix,annot=True ,cbar = True,cmap=\"YlGnBu\",mask=mask);","c5c5be40":"* Above plot, we can see preferred regions, categorised by type of the property.There is high sales of all three types of properties in Northern, Western, Southern Metropolitan in comparison to other areas.","f8b11b3a":"#### Distribution of observations","18ee4287":"* Let us now see the trend in pricing with respect to the year in which these properties were built.","eefa0a48":"## Data Provided","569d44f0":"# Conclusions\n* Sale of all three kinds of properties can be seen in Northern Metropolitan, Western Metropolitan and Southern \/metropoiltan as these regions are closer to CBD whereas in other areas sales of units\/duplex, townhouse is negligible.\n\n* Properties which were built before 1950's tend to be more expensive.These properties are majorly located in Northern, Southern and Eastern Metropolitan area. Most expensive type of old constructed property includes house\/villa type.\n\n* Type of property that is sold out most all across the mentioned areas is house\/villa type.\n\n**1)Features of commonly sold properties:**\n* 2-3 bedrooms\n* 1 bathroom\n* Preferred type of property-Houses\/Villa\n* Preferred regions: Northern, Southern, And Western Metropolitan\n* Council areas: Moreland, Boroondara, Glen Era,Darebein, Moone Valley\n\n**2)Features of expensive properties:**\n* Property type: House\/Villas\n* Present in Southern Metropolitan\n* Are built in the years,1850-1925\n* 5 bedrooms\n* More than 5 bathrooms\n* Council areas: Boroondara and Stonnington\n","6cf0dfb1":"### Discrete features ","548eb72d":"### Categorical features ","00e64a66":"* Council Area with most properties sold was Moreland and Boroondara , while council Moorabool saw the least sales. ","e682754f":"Rooms: Number of rooms\n\nPrice: Price in dollars\n\nMethod: S - property sold; SP - property sold prior; PI - property passed in; PN - sold prior not disclosed; SN - sold not disclosed; NB - no bid; VB - vendor bid; W - withdrawn prior to auction; SA - sold after auction; SS - sold after auction price not disclosed. N\/A - price or highest bid not available.\n\nType: br - bedroom(s); h - house,cottage,villa, semi,terrace; u - unit, duplex; t - townhouse; dev site - development site; o res - other residential.\n\nSellerG: Real Estate Agent\n\nDate: Date sold\n\nDistance: Distance from CBD\n\nRegionname: General Region (West, North West, North, North east \u2026etc)\n\nPropertycount: Number of properties that exist in the suburb.\n\nBedroom2 : Scraped # of Bedrooms (from different source)\n\nBathroom: Number of Bathrooms\n\nCar: Number of carspots\n\nLandsize: Land Size\n\nBuildingArea: Building Size\n\nCouncilArea: Governing council for the area","ba793d07":"Separating features based on their data types for further analysis","1ac446dd":"The above heatmap shows correlation between the above factors . \n\nThere is a negative correlation between price and distance from CBD, it means that as people move farther away from central business district the house prices decrease. \n","ddfea07c":"Replacing names in columns","f9cf07f4":"Price of the houses on an average are same at distance farther away from CBD. But the number of houses sold are less as we move away from CBD. Also  Northern Metropolitan, Southern Metropolitan and Western Metropolitan regions are nearer to CBD","f6734dcd":"* Plot shows the sales count for the year 2016 and 2017 with the data being categorised according to type of houses.\n\n* 2016 saw the lowest sale overall in the month of January and highest sales in November.\n\n* Sales were recoreded to be highest in the month of July 2017.\n\n* In general overall highest selling property type was house\/villa.","a0901533":"### Numerical features","401157a3":"We can see that log tranformed values of price has considerably reduced skew. thus for few plots we shall make use of log transforme dvalues of price.","e2ddce9d":"* In the first plot, we can observe fluctuations in the prices of houses with respect to the years in which they were constructed. Whereas prices of uniits, duplex and townhouses seems to be irrespective of the years they were built.\n\n* If we see by region,price of houses in Easteren Victoria and Northern Victoria does not seem to be affected by the year in which they were built.\n\n* Buyers in general tend to pay higher price for houses which are built before 1950 as compared to the houses built in recent years, this could indicate preference for a particular design architecture of houses build prior to 1950s. ","3166c294":"* Houses\/ villas are present from low to high price range.\n\n* Not much of a difference can be observed within preferred method when it comes to price of the property.","b62aaf08":"There is no much variation in context of rooms and bedrooms. Houses that are most preffered have 2-3 rooms. Pricier houses have room count of 5.","49518af7":"\n* Plot shows top realtors categorised by the type and method. Nelson has most number of sales of houses by method S.\n\n* This graph also indicates a trend that houses sold were much higher than any other property type.\n\n","9c7ff506":"* We can see that preferred Regions are Northern, Westeern and Southern Metropolitan, ones as we saw earlier were closer to CBD. Further, preferred Council Area are Moreland and Boroondara. \n\n* If we look by price point then most expensive properties are located in Southern Metropolitan.\n\n* Also, most common types of property in these prefrred regions are houses\/villa.","31d10fa2":"* Buyers are willing to pay a higher price for houses in council area Boroondara and Stonnington. While lowest in Moorabool.\n* Apart from houses being the most sold property,Unit type of property is also being sold in most of the concil areas","41aa81f3":"* Property type that is in demand over all mentioned regions is home\/villa type. Even in the areas namely, Northern Victoria and Western Victoria where there is overall less sale of properties, this is the only property type that is being sold.","6a9e08ea":"#### Missing values ","5032d182":"Properties, most commonly have either 1 or 2 bathrooms. Houses with more than 4 bathrooms tend to be expensive.Same trend goes iwth the number of cars.","980365fa":"Atlast let us take a look at overall correlations within different features of the dataset","4eaf19cd":"As we saw in earlier plots:\n\n* There is a strong negative correlation between price and Distance from CBD.\n\n* Similar is the case with year in which houses were constructed. Old properties tend to be expensive.","0d874bcd":"We can see a large number of missing values in Building area and year built. For now I am dropping column with building area as almost half of the data is missing. Also I am dropping address column as it is same as having Id column. ","647701bc":"Let us now take a look at correlations within continuous features with the help of a heatmap. Later we shall see each of the feature in detail.","00420718":"Below are the scatter plots showing preferred locations by lattitude-longitude values","4e89f94e":"Notebook below presents Exploratory data analysis on Melbourne house pricing dataset. ","7a0831b7":"### Descriptive Statistics ","0f7f8bf5":"Outliers in continuous numeric features:"}}