{"cell_type":{"da4cc572":"code","943238a5":"code","34ba1d6a":"code","d48cf8e3":"code","7db11c87":"code","9a0caf24":"code","4141e073":"code","654c2084":"code","440f2916":"code","89b59350":"code","04179e0a":"code","6aa2ba9b":"code","10e44057":"code","8e7a6aef":"code","d5254a71":"code","a09f6ea4":"markdown","b68c24fe":"markdown","ba8eb1b7":"markdown","0f2999fd":"markdown","e4146023":"markdown","580adbe5":"markdown","113c2930":"markdown"},"source":{"da4cc572":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","943238a5":"import seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px","34ba1d6a":"df = pd.read_csv('\/kaggle\/input\/fertilizers-by-product-fao\/FertilizersProduct.csv', encoding='ISO-8859-1')\ndf","d48cf8e3":"# Drop irrelevant columns\ndf.drop(['Area Code','Item Code', 'Element Code', 'Year Code', 'Flag'],inplace=True,axis=1)","7db11c87":"df_br = df.loc[df.Area == 'Brazil']","9a0caf24":"agr_usage = df_br.loc[df_br.Element == 'Agricultural Use']\nagr_usage.sort_values(by=['Value'], ascending=False)","4141e073":"fig = px.area(agr_usage, x=\"Year\", y=\"Value\", color=\"Item\", line_group=\"Item\", title='Agricultural usage of fertilizers in Brazil')\nfig.show()","654c2084":"usage_global = df.loc[(df.Element == 'Agricultural Use')  & (df.Year == 2017)]\ncountries = df.Area.unique()\ncdf = []\nadf = []\nfor country in countries:\n    df_aux = usage_global.loc[usage_global.Area == country]\n    amount = df_aux.Value.sum()\n    cdf.append(country)\n    adf.append(amount)\ndf_fert = pd.DataFrame({'Country': cdf, 'Amount': adf})\ndf_fert = df_fert.sort_values(by=['Amount'], ascending=False)","440f2916":"fig = px.bar(df_fert, x=df_fert.Country[:10], y=df_fert.Amount[:10], title='Countries with higher fertilizer use in 2017', color=df_fert.Amount[:10],\n             labels={'x': 'Country', 'y': 'Amount (tonnes)', 'color': 'Amount (t)'})\nfig.show()","89b59350":"fert_prod = df_br.loc[df_br.Element == 'Production']\nfert_prod.sort_values(by=['Value'], ascending=False)","04179e0a":"fig = px.area(fert_prod, x=\"Year\", y=\"Value\", color=\"Item\", line_group=\"Item\", title='Production of fertilizers in Brazil')\nfig.show()","6aa2ba9b":"urea_export = df_br.loc[(df_br.Item == 'Urea') & (df_br.Element == 'Export Value')]\nurea_export","10e44057":"fig = px.line(urea_export, x=\"Year\", y=\"Value\", title='Exportation of Urea in Brazil (x1000 US$)')\nfig.show()","8e7a6aef":"import math\n\nmillnames = ['',' Thousand',' Million',' Billion',' Trillion']\n\ndef millify(n):\n    n = float(n)\n    millidx = max(0,min(len(millnames)-1,\n                        int(math.floor(0 if n == 0 else math.log10(abs(n))\/3))))\n\n    return '{:.0f}{}'.format(n \/ 10**(3 * millidx), millnames[millidx])","d5254a71":"total = urea_export['Value'].sum()\nprint (f'Brazil exported US$ {millify(total*1000)} of Urea')","a09f6ea4":"# Production and Export of fertilizers in Brazil","b68c24fe":"Urea is the most produced fertilizer in Brazil","ba8eb1b7":"Total exportation of Urea 2002-2017 in US$:","0f2999fd":"Agricultural usage of fertilizers by country in 2017","e4146023":"Urea is the most used fertilizer in Brazil","580adbe5":"# Analysing agricultural use of fertilizers:","113c2930":"Get only Brazil info"}}