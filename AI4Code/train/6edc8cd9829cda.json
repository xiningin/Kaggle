{"cell_type":{"8eb06266":"code","1de5a629":"code","6598d8fb":"code","f57f2ce0":"code","1c2af244":"code","e72c1f71":"code","e67497f3":"code","6509c2a4":"code","f9414364":"code","cf6819db":"code","cabe0a39":"code","6a6868ac":"code","08c553c7":"code","99319448":"code","691ec3ec":"code","0eb7b421":"code","723161d8":"code","17a31e5e":"code","d6147c09":"code","538900fb":"code","2c53e5d3":"code","37efaf73":"code","70028f3c":"code","360bc49b":"code","e41677af":"code","12b824f9":"code","545c19b0":"code","f630e7cb":"code","7939ce55":"code","1e9c3d21":"code","8a38e1bc":"code","6170120c":"code","c2c03cf9":"code","8b446b0b":"code","af8353d6":"code","07407d43":"code","7b0eb938":"code","69f7788b":"code","c69500d0":"code","833e73da":"code","96ea3044":"code","1559e630":"code","d5cbf477":"code","c9500b18":"markdown","0ce02249":"markdown","ef6e4dfb":"markdown","b5924ff6":"markdown","1c8799ab":"markdown","b2d9f9d1":"markdown","57bf23e3":"markdown","62856910":"markdown","c1ea0119":"markdown","fe06f5a5":"markdown","d7f05d2e":"markdown","f8196dd8":"markdown","3f85d0de":"markdown","14eefb12":"markdown","d2e41e4f":"markdown","415c9e24":"markdown","dfccde42":"markdown","2d87fd40":"markdown","2f88406c":"markdown","44cc6975":"markdown","9792d68a":"markdown","cbb9e9b7":"markdown","af11b951":"markdown","90a86a48":"markdown","334a67c2":"markdown","784c2b7d":"markdown","5131d2b3":"markdown","8070317d":"markdown","fab92ada":"markdown","c20bda0d":"markdown","bd54b9f3":"markdown","3e61f9be":"markdown","0d9a38e1":"markdown","7d29012f":"markdown","2cdd5b82":"markdown"},"source":{"8eb06266":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","1de5a629":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport random\nimport seaborn as sns\nimport statsmodels.api as sm\nfrom scipy import stats\n\n\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.datasets import make_regression\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.tree import export_graphviz\nfrom sklearn.metrics import r2_score\n","6598d8fb":"# baseado no c\u00f3digo elaborado por Davi Reis Vieira de Souza\n\nfonte = '..\/input\/enem-2019\/DADOS\/MICRODADOS_ENEM_2019.csv' #arquivo\n\nseed = 31123 # define o padrao de aleatoriedade\nnp.random.seed(seed)\n\ntotal_linhas = sum(1 for l in open(fonte,encoding=\"ISO-8859-1\") )#conta quantas linhas tem o data set\nprint(f'Total de Linhas: {total_linhas}')\n\np = 0.025 \ntamanho = int(total_linhas*p)# calcula quanto \u00e9 2.5% dos dados \nprint(f'Total de Linhas para Estudo: {tamanho}')\n\nindex = random.sample(range(1, total_linhas), total_linhas - tamanho)# lista de numeros aleatorios\n\ndados = pd.read_csv(fonte,encoding=\"ISO-8859-1\",delimiter=\";\",skiprows=index)# selecions linhas da base de dados com base na lista de numero aleat\u00f3rios\ndados.shape","f57f2ce0":"dados.head(15) # visualizacao da amostra de dados aleat\u00f3ria ","1c2af244":"dados.SG_UF_RESIDENCIA.value_counts() #confirma a presenca de todos os estados ","e72c1f71":"# como a vari\u00e1vel target \u00e9 a nota de matem\u00e1tica, vamos usar somente os dados dos candidatos que estavam presentes nessa prova (1 indica presen\u00e7a)\ndados = dados.loc[dados['TP_PRESENCA_MT']==1]\nprint(len(dados)) # agora a base de dados reduziu um pouco","e67497f3":"#s\u00f3 as colunas das vari\u00e1veis features que vamos usar\ncolunas = ['SG_UF_RESIDENCIA', 'NU_IDADE', 'TP_SEXO', 'TP_ESTADO_CIVIL', 'TP_COR_RACA', 'TP_NACIONALIDADE', 'TP_ST_CONCLUSAO', 'TP_ANO_CONCLUIU', 'TP_ESCOLA', 'TP_ENSINO', 'IN_TREINEIRO', 'NU_NOTA_MT']\ndados = dados[colunas]\ndados.head(10)","6509c2a4":"#legenda das variaveis features\nvariaveis=np.array([[\"SG_UF_RESIDENCIA\", \"Sigla da Unidade da Federa\u00e7\u00e3o de resid\u00eancia\"],[\"NU_IDADE\",\"Idade\"], [\"TP_SEXO\", \"Sexo\"], [\"TP_ESTADO_CIVIL\", \"Estado Civil\"], [\"TP_COR_RACA\", \"Cor\/ra\u00e7a\"], [\"TP_NACIONALIDADE\", \"Nacionalidade\"], [\"TP_ST_CONCLUSAO\", \"Situa\u00e7\u00e3o de conclus\u00e3o do Ensino M\u00e9dio\"], [\"TP_ANO_CONCLUIU\", \"Ano de Conclus\u00e3o do Ensino M\u00e9dio\"], [\"TP_ESCOLA\", \"Tipo de escola do Ensino M\u00e9dio\"], [\"TP_ENSINO\", \"Tipo de institui\u00e7\u00e3o que concluiu ou concluir\u00e1 o Ensino M\u00e9dio\"], [\"IN_TREINEIRO\", \"Indica se o inscrito fez a prova com intuito de apenas treinar seus conhecimentos\"]])\n\nvariaveis_df=pd.DataFrame(variaveis, columns=[\"Nome no Data Frame\", \"Descri\u00e7\u00e3o\"])\n\nvariaveis_df.index = variaveis_df.index + 1\nvariaveis_df","f9414364":"#legenda dos valores das vari\u00e1veis\nestadocivil=np.array([[0,\"N\u00e3o informado\"],[1, \"Solteiro(a)\"], [2,\"Casado(a)\/Mora com companheiro(a)\"], [3,\"Divorciado(a)\/Desquitado(a)\/Separado(a)\"], [4, \"Vi\u00favo(a)\"]])\n\nestadocivil_df=pd.DataFrame(estadocivil, columns=[\"Valor\", \"Estado Civil\"])\n\ndisplay(estadocivil_df.style.hide_index())\n\n\n\ncor_raca=np.array([[0,\"N\u00e3o declarado\"],[1, \"Branca\"], [2,\"Preta\"], [3,\"Parda\"], [4, \"Amarela\"], [5, \"Ind\u00edgena\"]])\n\ncor_raca_df=pd.DataFrame(cor_raca, columns=[\"Valor\", \"Cor\/Ra\u00e7a\"])\n\ndisplay(cor_raca_df.style.hide_index())\n\n\nnacionalidade=np.array([[0,\"N\u00e3o informado\"],[1, \"Brasileiro(a)\"], [2,\"Brasileiro(a) Naturalizado(a)\"], [3,\"Estrangeiro(a)\"], [4, \"Brasileiro(a) Nato(a), nascido(a) no exterior\"]])\n\nnacionalidade_df=pd.DataFrame(nacionalidade, columns=[\"Valor\", \"Nacionalidade\"])\n\ndisplay(nacionalidade_df.style.hide_index())\n\n\n\nstconclusao=np.array([[1,\"J\u00e1 conclu\u00ed o Ensino M\u00e9dio\"],[2, \"Estou cursando e concluirei o Ensino M\u00e9dio em 2019\"], [3,\"Estou cursando e concluirei o Ensino M\u00e9dio ap\u00f3s 2019\"], [4,\"N\u00e3o conclu\u00ed e n\u00e3o estou cursando o Ensino M\u00e9dio\"]])\n\nstconclusao_df=pd.DataFrame(stconclusao, columns=[\"Valor\", \"Situa\u00e7\u00e3o de Conclus\u00e3o do Ensino M\u00e9dio\"])\n\ndisplay(stconclusao_df.style.hide_index())\n\n\n\nanoconclusao=np.array([[0,\"N\u00e3o informado\"],[1, \"2018\"], [2,\"2017\"], [3,\"2016\"], [4, \"2015\"], [5, \"2014\"],[6, \"2013\"],[7, \"2012\"],[8, \"2011\"],[9, \"2010\"],[10, \"2009\"],[11, \"2008\"],[12, \"2007\"],[13, \"Antes de 2007\"]])\n\nanoconclusao_df=pd.DataFrame(anoconclusao, columns=[\"Valor\", \"Ano de Conclus\u00e3o do Ensino M\u00e9dio\"])\n\ndisplay(anoconclusao_df.style.hide_index())\n\n        \ntipoescola=np.array([[1, \"N\u00e3o Respondeu\"], [2,\"P\u00fablica\"], [3,\"Privada\"]])\n\ntipoescola_df=pd.DataFrame(tipoescola, columns=[\"Valor\", \"Tipo de Escola\"])\n\ndisplay(tipoescola_df.style.hide_index())\n\n        \ntipoensino=np.array([[1, \"Ensino Regular\"], [2,\"Educa\u00e7\u00e3o Especial - Modalidade Substitutiva\"]])\n\ntipoensino_df=pd.DataFrame(tipoensino, columns=[\"Valor\", \"Tipo de Ensino\"])\n\ndisplay(tipoensino_df.style.hide_index())\n\n\ntreineiro=np.array([[0, \"N\u00e3o\"], [1,\"Sim\"]])\n\ntreineiro_df=pd.DataFrame(treineiro, columns=[\"Valor\", \"Se \u00e9 treineiro\"])\n\ndisplay(treineiro_df.style.hide_index())","cf6819db":"#1) Sigla da Unidade da Federa\u00e7\u00e3o de resid\u00eancia\ndados.groupby(\"SG_UF_RESIDENCIA\").NU_NOTA_MT.describe()\n","cabe0a39":"#2)Idade\nfaixasdeidade=pd.cut(dados.NU_IDADE, bins=range(0,100,10))\ndados[\"faixas_de_idade\"] = faixasdeidade\n","6a6868ac":"dados.groupby(\"faixas_de_idade\").NU_NOTA_MT.describe()","08c553c7":"#3)Sexo\ndados.groupby(\"TP_SEXO\").NU_NOTA_MT.describe()","99319448":"dados_m = dados.loc[dados['TP_SEXO']=='M']\ndados_f = dados.loc[dados['TP_SEXO']=='F']\n\nplt.figure(figsize=(17,5))\n\nplt.subplot(131)\nplt.hist(dados.NU_NOTA_MT, density = True)\nplt.title('Notas de matematica')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\n\nplt.subplot(132)\nplt.hist(dados_m.NU_NOTA_MT, density = True)\nplt.title('Notas de matematica dos homens')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\n\nplt.subplot(133)\nplt.hist(dados_f.NU_NOTA_MT, density = True)\nplt.title('Notas de matematica das mulheres')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\nplt.show()","691ec3ec":"#4) Estado Civil\ndisplay(estadocivil_df.style.hide_index())#note a legenda\ndados.groupby(\"TP_ESTADO_CIVIL\").NU_NOTA_MT.describe()\n","0eb7b421":"#5) Cor\/Ra\u00e7a\n\ndisplay(cor_raca_df.style.hide_index())\n\ndados.groupby(\"TP_COR_RACA\").NU_NOTA_MT.describe()\n","723161d8":"#6) Nacionalidade\ndisplay(nacionalidade_df.style.hide_index())\n\ndados.groupby(\"TP_NACIONALIDADE\").NU_NOTA_MT.describe()","17a31e5e":"#8) Situa\u00e7\u00e3o de conclus\u00e3o de ensino m\u00e9dio\ndisplay(stconclusao_df.style.hide_index())\n\ndados.groupby(\"TP_ST_CONCLUSAO\").NU_NOTA_MT.describe()","d6147c09":"#9) Ano de conclusao do ensino m\u00e9dio\ndisplay(anoconclusao_df.style.hide_index())\n\ndados.groupby(\"TP_ANO_CONCLUIU\").NU_NOTA_MT.describe()\n","538900fb":"#10) Tipo de escola no ensino m\u00e9dio\ndisplay(tipoescola_df.style.hide_index())\n\ndados.groupby(\"TP_ESCOLA\").NU_NOTA_MT.describe()\n","2c53e5d3":"publica = dados.loc[dados['TP_ESCOLA']==2]\nprivada = dados.loc[dados['TP_ESCOLA']==3]\n\nplt.figure(figsize=(17,5))\n\n\nplt.subplot(132)\nplt.hist(publica.NU_NOTA_MT,bins=range(0,1000, 50), density = True)\nplt.title('Notas das pessoas de escola p\u00fablica')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\n\nplt.subplot(133)\nplt.hist(privada.NU_NOTA_MT, bins=range(0,1000, 50),density = True)\nplt.title('Notas das pessoas de escola privada')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\nplt.show()","37efaf73":"#11) Tipo de ensino no ensino m\u00e9dio\ndisplay(tipoensino_df.style.hide_index())\n\ndados.groupby(\"TP_ENSINO\").NU_NOTA_MT.describe()\n\n","70028f3c":"#12) Se \u00e9 ou n\u00e3o treinero\ndisplay(treineiro_df.style.hide_index())\n\ndados.groupby(\"IN_TREINEIRO\").NU_NOTA_MT.describe()\n","360bc49b":"treineiro_sim = dados.loc[dados['IN_TREINEIRO']==1]\ntreineiro_nao = dados.loc[dados['IN_TREINEIRO']==0]\n\nplt.figure(figsize=(17,5))\n\n\nplt.subplot(132)\nplt.hist(treineiro_sim.NU_NOTA_MT, density = True)\nplt.title('Notas dos treineiros')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\n\nplt.subplot(133)\nplt.hist(treineiro_nao.NU_NOTA_MT, density = True)\nplt.title('Notas dos n\u00e3o treineiros')\nplt.ylabel('densidade')\nplt.xlabel(\"nota\")\nplt.show()","e41677af":"sns.pairplot(dados, height=1.5);#fazendo o cruzamento de todas as vari\u00e1veis entre si","12b824f9":"plt.figure(figsize=(10,10))\nplt.hist(dados.NU_NOTA_MT, bins=50,density = True);\nplt.title(\"Histograma das notas de Matem\u00e1tica\")","545c19b0":"#tratando os dados para o uso das tecnicas de predicao.Todos valores devem ser num\u00e9ricos para a aplica\u00e7\u00e3o dessas t\u00e9cnicas\nk=0\ndados['Masculino'] = 0\ndados['Feminino'] = 0\nfor i in dados['TP_SEXO']:\n    if i == 'M':\n        dados.iloc[k,13] = 1\n    else:\n        dados.iloc[k,14] = 1\n    k += 1\ndados = dados.drop(columns=['TP_SEXO'])","f630e7cb":"dados\n# observar ultimas colunas: Agora as strings M e F foram transformadas em valores de 1 e 0 (verdadeiro e falso)","7939ce55":"#fazendo o mesmo com a vari\u00e1vel estado\nEstados = {'AC':0,'AL':1,'AM':2,'AP':3,'BA':4,'CE':5,'DF':6,'ES':7,'GO':8,'MA':9,'MT':10,'MS':11,'MG':12,'PA':13,'PB':14,'PR':15,'PE':16,'PI':17,'RR':18,'RO':19,'RJ':20,'RN':21,'RS':22,'SC':23,'SP':24,'SE':25,'TO':26}\nfor i in Estados:\n    dados[i]=0","1e9c3d21":"t = 0\nfor i in dados['SG_UF_RESIDENCIA']:\n    for j,k in Estados.items():\n        if i == j:\n            dados.iloc[t,14+k]=1\n            t+=1\ndados = dados.drop(columns=['SG_UF_RESIDENCIA'])","8a38e1bc":"dados = dados.dropna()#tirando NaNs","6170120c":"dados","c2c03cf9":"train_size = int(len(dados)*0.8)#define treinamento como 80% dos dados\nFeatures = dados[['NU_IDADE', 'TP_ESTADO_CIVIL', 'TP_COR_RACA', 'TP_NACIONALIDADE', 'TP_ST_CONCLUSAO', 'TP_ANO_CONCLUIU', 'TP_ESCOLA', 'TP_ENSINO', 'IN_TREINEIRO','Masculino','Feminino','AC','AL','AM','AP','BA','CE','DF','ES','GO','MA','MT','MS','MG','PA','PB','PR','PE','PI','RR','RO','RJ','RN','RS','SC','SP','SE','TO']]\nTarget = dados['NU_NOTA_MT']","8b446b0b":"X_train, y_train, X_test, y_test = Features[:train_size], Target[:train_size], Features[train_size:], Target[train_size:]#cria subdatasets de treinamento e teste para features e target\n","af8353d6":"def regress(X,Y):\n    X_cp = sm.add_constant(X)\n    model = sm.OLS(Y,X_cp)\n    results = model.fit()\n    return results\n\nresults = regress(X_train, y_train)\nresults.summary()","07407d43":"Features = dados[['NU_IDADE', 'TP_COR_RACA', 'TP_NACIONALIDADE', 'TP_ST_CONCLUSAO', 'TP_ANO_CONCLUIU', 'TP_ESCOLA']]","7b0eb938":"results = regress(X_train, y_train)\nresults.summary()","69f7788b":"regr = RandomForestRegressor(max_depth=40, random_state=42) #define hiperparametros\n","c69500d0":"regr.fit(X_train, y_train) # treina o modelo\n","833e73da":"y_predict = regr.predict(X_test)# testa o modelo\nprint(y_predict)# notas previstas","96ea3044":"plt.scatter(y_test, y_predict)\nplt.title(\"Y teste vs Y predito\")\nplt.ylabel(\"Y predito\")\nplt.xlabel(\"Y teste\")\nplt.show()","1559e630":"regr.score(X_test, y_test)","d5cbf477":"plt.figure(figsize=(10,5))\n\nplt.subplot(121)\nplt.hist(y_predict, bins=range(0,1000,50),density = True);\n\nplt.title(\"Histograma das notas previstas de Matem\u00e1tica\")\nplt.ylabel(\"densidade\")\n\n\nplt.subplot(122)\n\nplt.hist(y_test, bins=range(0,1000,50),density = True);\n\nplt.title(\"Histograma das notas reais de Matem\u00e1tica\")\nplt.ylabel(\"densidade\")\n","c9500b18":"Conclus\u00f5es:\n\n1. A maior parte dos alunos que prestam a prova n\u00e3o s\u00e3o treineiros. \n2. Os treineiros possume maior m\u00e9dia, talvez por estarem menos nervosos na prova","0ce02249":"Aqui, pode-se perceber como as notas come\u00e7am a partir de 300-350 aproximadamente, refor\u00e7ando que esse \u00e9 foi valor m\u00ednimo pelo modelo TRI. Os zeros presentes s\u00e3o provenientes de provas anuladas. Nota-se tamb\u00e9m que a maior densidade est\u00e1 nos valores pr\u00f3ximos a 500 e que partir do pico, existe um decaimento da densidade num formato de cauda parecido com uma normal.","ef6e4dfb":"# B. Minerando Dados e Caracter\u00edsticas do Dataset ","b5924ff6":"Conclus\u00f5es:\n\n1. Como o esperado, a menor m\u00e9dia de notas pertence a pessoas que abandonaram o ensino no meio de suas vidas escolares, pois n\u00e3o foram expostas a todos os conte\u00fados. \n2. A maior parte dos prestadores da prova j\u00e1 conluiram o ensino m\u00e9dio.","1c8799ab":"# F. Refer\u00eancias Bibliogr\u00e1ficas ","b2d9f9d1":"Modelo de Predi\u00e7\u00e3o 2:\nA t\u00e9cnica Random Forest Regression \u00e9 ideal para casos de datasets com muitas features, pois o modelo consiste na cria\u00e7\u00e3o de \"\u00c1rvores\" que separam, para cada vari\u00e1vel, os dados em subgrupos (galhos). Inicialmente, o m\u00e9todo escolhe, a partir de uma amostra aleat\u00f3ria, a feature que gera maior impacto na nota de matematica (target), ou seja, a mudan\u00e7a dessa feature influencia diretamente no valor da nota. Essa feature ser\u00e1 o fator para a cria\u00e7\u00e3o de subgrupos. Estes subgrupos passar\u00e3o pelo mesmo processo de separa\u00e7\u00e3o, agora com a pr\u00f3xima feature mais relevante, at\u00e9 que todas as features tenham sido aplicadas na \u00e1rvore. Esse processo \u00e9 repetido at\u00e9 que se use todos os dados de treinamento, formando algumas \u00e1rvores. Assim, os dados de teste de uma pessoa s\u00e3o designados a todas as \u00e1rvores para prever sua nota de matem\u00e1tica. A nota prevista ser\u00e1 a m\u00e9dia de todos os valores gerado pelas \u00e1rvores.  ","57bf23e3":"Modelo de Predi\u00e7\u00e3o 1: A t\u00e9cnica de Regress\u00e3o Linear tem como objetivo determinar os coeficientes da fun\u00e7\u00e3o polinomial que recebe as features (informa\u00e7\u00f5es do candidato) como input e calcula o target (nota de matematica) no output. Para a valida\u00e7\u00e3o desse modelo, precisamos validar suas suposi\u00e7\u00f5es, como a de que os erros seguem uma distribui\u00e7\u00e3o normal. Para isso, s\u00e3o utilizados 2 m\u00e9todos, sendo estes, teste Omnibus e teste Jarque-Bera. Tamb\u00e9m \u00e9 feito o teste \"t\": valor P, no qual as features n\u00e3o relevantes s\u00e3o descartadas. Para esse teste, o alpha definido foi de 5%. Por fim, para analisar o desempenho da regress\u00e3o podemos utilizar o valor R-squared eum gr\u00e1fico que relaciona os dados de teste com os dados preditos. ","62856910":"Coleta de uma amostra aleat\u00f3ria do dataset: \nFoi necess\u00e1rio coletar uma porcentagem da base de dados pois ela era muito extensa (mais de 5 milh\u00f5es de linhas). Al\u00e9m disso, essa coleta precisava ser aleat\u00f3ria pois os dados estavam ordenados por estado.","c1ea0119":"# A.Introdu\u00e7\u00e3o","fe06f5a5":" # C. Modelos de Predi\u00e7\u00e3o e Estat\u00edsticas de Valida\u00e7\u00e3o ","d7f05d2e":"Apesar de n\u00e3o ser uma boa estrat\u00e9gia para avaliar teoricamente as predi\u00e7\u00f5es do modelo,a visualiza\u00e7\u00e3o do histograma ofere uma perspectiva mais tang\u00edvel.","f8196dd8":"# An\u00e1lise explorat\u00f3ria: cruzando cada vari\u00e1vel feature com a vari\u00e1vel target (Nota de matem\u00e1tica)","3f85d0de":"Conclus\u00f5es:\n\n1. A maior  parte dos alunos s\u00e3o do Ensino Regular. E a m\u00e9dia desses alunos \u00e9 maior do que os alunos de educa\u00e7\u00e3o especial.","14eefb12":"Observa\u00e7\u00e3o: Cada vez que o c\u00f3digo \u00e9 rodado, uma nova amostra aleat\u00f3ria de dados \u00e9 gerada, portanto a an\u00e1lise a seguir pode ter pequenas impertin\u00eancias dependendo da amostra gerada.","d2e41e4f":"O valor acima \u00e9 o R-squared do modelo Random Forest. Novamente, entende-se que est\u00e1 bem distante do ideal, que seria 1.","415c9e24":"Conclus\u00f5es:\n\n1.  A maior parte dos prestadores da prova s\u00e3o pardos, em torno de 42mil pessoas, sendo a segunda maior parcela de pessoas brancas. Apenas 11mil pessoas pretas fizeram a prova, ou seja, aproximadamente 12% do total\n2. A  maior m\u00e9dia de notas na prova de matem\u00e1tica \u00e9 do grupo de pessoas brancas, o que comprova a estrutura racista brasileira em que a popula\u00e7\u00e3o branco tem maior acesso \u00e0 um estudo de qualidade.","dfccde42":"Conclus\u00f5es:\n\n1. A maior parte dos prestadores da prova s\u00e3o brasileiros, e este grupo tamb\u00e9m \u00e9 o \u00fanico com integrantes que cometeram infra\u00e7\u00f5es e tiveram a prova zerada.\n2. \u00c9 curioso o fato de que os Brasileiros natos nascidos no exterior (pessoas que s\u00e3o filhos de brasileiros por\u00e9m nasceram no exterior) tem a maior m\u00e9dia das notas das provas de matem\u00e1tica.","2d87fd40":"Este projeto foi motivado pela curiosidade de compreender o impacto de vari\u00e1veis sociais, como o estado onde a pessoa habita, tipo de institui\u00e7\u00e3o escolar, situa\u00e7\u00e3o de conclus\u00e3o do ensino m\u00e9dio, entre outros, na nota na prova de Matem\u00e1ticas e suas Tecnologias. Assim, buscamos entender mais precisamente como esses fatores influenciam no resultado do aluno.  A base de dados usada foi a de Microdados do ENEM 2019, do INEP. A base tinha mais 5 milh\u00f5es de linhas e 136 colunas, cada linha representando um candidato e cada coluna representando uma das vari\u00e1veis sociais. Portanto, primeiro foi feita uma coleta de uma amostra aleat\u00f3ria e depois uma limpeza dessa amostra. Foram eliminadas as linhas das pessoas que tinham faltado a prova de Matem\u00e1tica, j\u00e1 que esses casos n\u00e3o contribuiam para chegar no objetivo do estudo. Al\u00e9m disso, as colunas das vari\u00e1veis da base de dados originais foram reduzidas a 11, sendo essas as consideradas mais impactantes para a nota de matem\u00e1tica do aluno no ENEM.","2f88406c":"****Aten\u00e7\u00e3o: como a amostra de dados gerada \u00e9 aleat\u00f3ria, os valores-p mudam para cada amostra. Assim, a an\u00e1lise a seguir foi feita com base numa amostra espec\u00edfica gerada****\n\nTeste valor P : Com base no teste do valores p (observados na coluna P>|t|), em que se deve verificar se o valor-p \u00e9 menor que alpha(5%), retira-se as vari\u00e1veis TP_ESTADO_CIVIL, TP_ENSINO, IN_TREINEIRO, Sexo e todos os estados. Assim, resta somente as vari\u00e1veis que aparentam causar maior impacto na anota de Matem\u00e1tica.","44cc6975":"# E. Conclus\u00e3o ","9792d68a":"Conclus\u00f5es:\n1. A maior parte dos candidatos n\u00e3o respondeu de qual tipo de escola eles fazem parte.\n2. A m\u00e9dia dos alunos de escolas privadas \u00e9 consideravelmente maior, o que \u00e9 um indicativo de qualidade comparativo entre escolas p\u00fablicas e privadas no Brasil.","cbb9e9b7":"Bibliotecas importadas:","af11b951":"Num cen\u00e1rio ideal, esse gr\u00e1fico deveria formar uma linha crescente, ou seja, os valores do teste(em x) seriam os mesmos do predito(em y). \u00c9 poss\u00edvel perceber que o gr\u00e1fico acima est\u00e1 bem longe desse formato ideal, mas mesmo assim, demonstra algum comportamento nesse sentido. ","90a86a48":"https:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.ensemble.RandomForestRegressor.html\nhttps:\/\/scikit-learn.org\/stable\/auto_examples\/model_selection\/plot_cv_predict.html#sphx-glr-auto-examples-model-selection-plot-cv-predict-py\nhttps:\/\/www.statsmodels.org\/stable\/generated\/statsmodels.regression.linear_model.OLS.html\nhttps:\/\/towardsdatascience.com\/a-quick-and-dirty-guide-to-random-forest-regression-52ca0af157f8#:~:text=Random%20forest%20is%20a%20type,prediction%20of%20the%20individual%20trees.\nhttps:\/\/medium.com\/swlh\/random-forest-and-its-implementation-71824ced454f\nhttps:\/\/www.gov.br\/inep\/pt-br\/acesso-a-informacao\/dados-abertos\/microdados\/enem\n\n","334a67c2":"Agora, pode-se realizar os testes Omnibus e Jarque-Bera. Ambos os testes consistem em analisar se a Prob(Omnibus) ou a Jarque-Bera (JB) s\u00e3o maiores que alpha(5%). Como esse n\u00e3o \u00e9 o caso, podemos concluir que os res\u00edduos n\u00e3o seguem uma distribui\u00e7\u00e3o normal, quebrando uma das suposi\u00e7\u00f5es do modelo de regress\u00e3o linear. ","784c2b7d":"Conclus\u00f5es:\n\n1. Existem mais mulheres do que homens prestando a prova.\n2. A m\u00e9dia das notas das mulheres \u00e9 menor que a dos homens.","5131d2b3":"De maneira geral, os gr\u00e1ficos s\u00e3o bem dispersos, indicando que existe fraca covari\u00e2ncia entre as vari\u00e1veis. O mesmo se nota na \u00faltima coluna, que mostra o cruzamento de cada vari\u00e1vel com a vari\u00e1vel target. No canto inferior direito, h\u00e1 um histograma das notas de Matem\u00e1tica, que pode ser melhor visualizado a seguir.","8070317d":"Conclusao:\n    Ambos os modelos se mostraram incapazes de prever a nota de Matem\u00e1tica do Enem de 2019. O primeiro, a Regress\u00e3o Linear, \u00e9 um modelo bem simples e j\u00e1 era esperado que n\u00e3o fosse gerar bons resultados, visto que busca encontrar uma \u00fanica func\u00e3o capaz de representar os resultados, que variam de acordo com 11 vari\u00e1veis diferentes. J\u00e1 com segundo modelo, o Random Forest Regression, esperava-se melhores resultados, pois funciona de maneira mais complexa e aleat\u00f3ria, gerando m\u00faltiplos resultados para cada candidato e depois avaliando-os. Mesmo assim, n\u00e3o obtivemos sucesso, j\u00e1 que os dados previstos variaram significativamente em rela\u00e7\u00e3o aos testados. Uma poss\u00edvel sa\u00edda poderia ter sido escolher outras vari\u00e1veis como features, como por exemplo a notas nas outras provas. \u00c9 importante destacar que a escolha das features foi feita com base nas nossa suposi\u00e7\u00f5es do grau de rela\u00e7\u00e3o entre certa condi\u00e7\u00e3o social e o desempenho do aluno, e isso pode ser sido um equ\u00edvoco inicial.","fab92ada":" **Storytelling**","c20bda0d":"Conclus\u00f5es\n\n1. A grande maioria dos candidatos \u00e9 solteiro(a),o que faz sentindo, pois s\u00e3o jovens que est\u00e3o concluindo o ensino m\u00e9dio.\n2. \u00c9 curioso o fato de que as pessoas que s\u00e3o Divorciadas ou Vi\u00favas (3 e 4) tem a nota m\u00ednima de 360, ou seja ningu\u00e9m desses grupos cometeu alguma infra\u00e7\u00e3o na prova e teve a prova zerada.","bd54b9f3":"Conclus\u00f5es:\n1. \u00c9 estranho o fato de existirem algumas pessoas com idades entre 0 e 10 anos.\n2. Como esperado, a maior parte da amostra tem de 10 a 20 anos, pois nessa faixa et\u00e1ria acontece a conclus\u00e3o do ensino m\u00e9dio e, para uma parte da popula\u00e7\u00e3o, a entrada na faculdade. E tamb\u00e9m como esperado essa faixa et\u00e1ria tem a maior m\u00e9dia de nota na prova de matem\u00e1tica, j\u00e1 que normalmente o contato com os conte\u00fados da prova foi mais recente do que para outras faixas et\u00e1rias.\n    ","3e61f9be":"Trabalho em grupo:\nTrabalhando no kaggle, tivemos problemas em gerar commits de pessoas diferentes e optamos por trabalhar em uma conta s\u00f3. Assim, elaboramos uma pequena apresenta\u00e7\u00e3o das subdivis\u00f5es de trabalho. \n\nAna:\n*  Implementou o c\u00f3digo que permite coletar uma amostra aleat\u00f3ria da base de dados com a ajuda do Davi Reis. \n* Gerou os gr\u00e1ficos\/tabelas do cruzamento de cada feature com a target.\n* Legenda das variaveis e dos valores das variaveis.\n* Storytelling\n* Analise critica\n\n\nLuana:\n* Comentou as tabelas cruzadas, explorando a rela\u00e7\u00e3o que cada feature poderia ter com a vari\u00e1vel target. \n* Escreveu a introdu\u00e7\u00e3o.\n* Referencias bibliograficas\n* Titulos e legendas dos graficos\n\nPietro: \n* Implementou o modelo random forest\n* Implementou o modelo de regressao linear\n* Texto de descricao dos dois modelos\n* Preparou o dataframe para os modelos de predicao\n* Analise critica \n","0d9a38e1":"Conclus\u00f5es:\n1. O n\u00famero de candidatos por estado varia bastante, o que pode estar relacionado com o n\u00famero de habitantes daquele estado, seu n\u00edvel de desenvolvimento ou a amostra coletada.\n2.  \u00c9 poss\u00edvel prever que a m\u00e9dia dos estados que tem 0 como valor m\u00ednimo ser\u00e1 prejudicada em rela\u00e7\u00e3o aos estados que tem por volta de 360 como m\u00ednimo. Os valores 0 indicam que alguma prova foi anulada (por cola por exemplo), pois pelo modelo TRI, \u00e9 imposs\u00edvel tirar 0, mesmo deixando todas as questoes em branco ou errando todas.\n","7d29012f":"Mesmo com essa suposi\u00e7\u00e3o quebrada, uma maneira de compreender o desempenho do modelo \u00e9 com R-squared. Na tabela com o resumo dos resultados, temos que esse par\u00e2metro \u00e9 0.209, o que significa uma baiza adequa\u00e7\u00e3o ao cen\u00e1rio estudado, visto que varia de 0 a 1, sendo 1 o desejado.\n\nFinalmente, como uma das suposi\u00e7\u00f5es do modelo n\u00e3o \u00e9 verdadeira e R-squares deixa a desejar, o modelo n\u00e3o pode ser considerado v\u00e1lido, ou seja, n\u00e3o podemos usar o polin\u00f4mio com coeficientes encontrados para prever a nota de matem\u00e1tica. O modelo linear n\u00e3o \u00e9 ideal para esse contexto. Uma poss\u00edvel solu\u00e7\u00e3o seria o uso de um modelo de regress\u00e3o mais adequado e robusto. ","2cdd5b82":"Conclus\u00f5es:\n1. \u00c9 curioso o fato de que a maior parte dos candidatos tem o seu ano de conclus\u00e3o do Ensino M\u00e9dio n\u00e3o informado\n2. As m\u00e9dias por ano de conclus\u00e3o do Ensino M\u00e9dio est\u00e3o bem pr\u00f3ximas uma da outra."}}