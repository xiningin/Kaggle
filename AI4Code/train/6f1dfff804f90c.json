{"cell_type":{"7234edb5":"code","39f130d7":"code","c5503d77":"code","ba262467":"code","560ee00d":"code","80c90de7":"code","97ef6184":"code","b41b3dc5":"code","32720763":"code","974024ac":"code","b62fbd05":"code","63ff7fda":"code","152b60cf":"code","9e51e0cc":"code","8d341ee2":"code","b4eac719":"code","7e4a5ef1":"code","096a2091":"code","05f15e05":"code","e9e2b191":"code","a4309871":"code","a2d09ce4":"code","b45509f0":"code","f5cdf0a9":"code","9619bd40":"code","96ad37c8":"code","24257c1d":"code","c58b29f8":"code","44a6ba3b":"code","226f0ae5":"code","1d47a052":"code","93a2bd92":"code","8d8f1b0e":"code","6602f6e5":"code","626593dc":"code","ee473bf6":"code","93c7e8d7":"code","340f83f6":"code","0868374f":"code","f496fb0f":"code","e34e9fad":"code","8fd28557":"code","15280799":"code","149ee5a1":"markdown","185d03ba":"markdown","7c93d1a1":"markdown","dcf9b334":"markdown","82204e2e":"markdown","b33223e2":"markdown","00a1c79a":"markdown","7a28b314":"markdown","91c05e3e":"markdown","0fb9ce8b":"markdown","48ae019a":"markdown","85279b17":"markdown","02907983":"markdown","160f590d":"markdown","19adefeb":"markdown","3a593bbc":"markdown","2a12bd19":"markdown","f4a3de26":"markdown","dfa62d78":"markdown","184bb557":"markdown","67b0be4d":"markdown","83692944":"markdown","ee42c57a":"markdown","a79cbd16":"markdown","24fc09d8":"markdown","ccdea3b3":"markdown","1a2a74f7":"markdown","ccf9ca8c":"markdown","fed08aba":"markdown","02e4dcbd":"markdown","c9024c71":"markdown","6b925d8b":"markdown","7909ef09":"markdown","5e8f4984":"markdown","8d6181e4":"markdown","53400653":"markdown","c1349a71":"markdown","7c0e305f":"markdown","930a4648":"markdown","8fbf27d0":"markdown","3366fc2b":"markdown","97d5bc9d":"markdown","4058ea41":"markdown","61ac67c7":"markdown","e286bf92":"markdown","e89a9a73":"markdown","e6002745":"markdown","f964400f":"markdown","7891e7e0":"markdown","79283ca8":"markdown","9ac7943f":"markdown","523602e0":"markdown","b85d078c":"markdown","e97ab937":"markdown","e18c2597":"markdown","823b3c45":"markdown","7d72c4be":"markdown"},"source":{"7234edb5":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as ticker\nimport re\n%matplotlib inline\n\npd.set_option('display.max_columns', 200)","39f130d7":"respostas = pd.read_csv('..\/input\/pesquisa-data-hackers-2019\/datahackers-survey-2019-anonymous-responses.csv')\nrespostas.head()","c5503d77":"mask_br = respostas[\"('P3', 'living_in_brasil')\"] == 1\nrespostas_br = respostas[mask_br]\nrespostas_fora = respostas[~mask_br]\nrespostas_br.shape, respostas_fora.shape","ba262467":"campos_caract = [\"('P5', 'living_state')\", \"('P19', 'is_data_science_professional')\", \"('P12', 'workers_number')\", \"('D6', 'anonymized_role')\", \"('P16', 'salary_range')\", \"('P1', 'age')\", \"('P2', 'gender')\"]\nrespostas_br_caract = respostas_br[campos_caract].dropna(subset=[\"('P5', 'living_state')\"])\nrespostas_br_caract[\"('P5', 'living_state')\"].value_counts()","560ee00d":"respostas_br_ds_caract = respostas_br_caract[respostas_br_caract[\"('P19', 'is_data_science_professional')\"] == True]\nrespostas_br_ds_caract[\"('P5', 'living_state')\"].value_counts()","80c90de7":"respostas_br_caract[\"('P12', 'workers_number')\"].value_counts()","97ef6184":"col_ordem = ['Minas Gerais (MG)', 'S\u00e3o Paulo (SP)', 'Paran\u00e1 (PR)', 'Rio Grande do Sul (RS)', 'Rio de Janeiro (RJ)', 'Esp\u00edrito Santo (ES)', 'Santa Catarina (SC)']\nordem = ['de 1 a 5', 'de 6 a 10', 'de 11 a 50', 'de 51 a 100', 'de 101 a 500', 'de 501 a 1000', 'de 1001 a 3000', 'Acima de 3000']\nax = sns.catplot(x=\"('P12', 'workers_number')\", data=respostas_br_caract, col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, order=ordem, col_order=col_ordem)\nax.set_xticklabels(rotation=65, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Quantidade de funcion\u00e1rios nas empresas - Geral', fontsize='18', fontweight='bold')","b41b3dc5":"respostas_br_ds_caract[\"('P12', 'workers_number')\"].value_counts()","32720763":"ordem = ['de 1 a 5', 'de 6 a 10', 'de 11 a 50', 'de 51 a 100', 'de 101 a 500', 'de 501 a 1000', 'de 1001 a 3000', 'Acima de 3000']\nax = sns.catplot(x=\"('P12', 'workers_number')\", data=respostas_br_ds_caract, col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, order=ordem, col_order=col_ordem)\nax.set_xticklabels(rotation=65, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Quantidade de funcion\u00e1rios nas empresas - Profissionais de DS', fontsize='18', fontweight='bold')","974024ac":"respostas_br_caract[\"('D6', 'anonymized_role')\"].value_counts()","b62fbd05":"labels=['Outras', 'Analista de Dados', 'Analista de BI', 'Cientista de Dados', 'Analista de IM', 'Engenheiro', 'Dev. ou Eng. de Software',\n       'Business Analyst', 'Engenheiro de Dados', 'Estat\u00edstico', 'Analista de Marketing', 'DBA\/Adm. de BD', 'Eng. de ML', 'Economista']\nax = sns.catplot(x=\"('D6', 'anonymized_role')\", data=respostas_br_caract, col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, col_order=col_ordem)\nax.set_xticklabels(labels=labels, rotation=65, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Cargos - Geral', fontsize='18', fontweight='bold')","63ff7fda":"respostas_br_ds_caract[\"('D6', 'anonymized_role')\"].value_counts()","152b60cf":"labels=['Outras', 'Analista de Dados', 'Analista de BI', 'Cientista de Dados', 'Analista de IM', 'Engenheiro', 'Dev. ou Eng. de Software',\n       'Business Analyst', 'Engenheiro de Dados', 'Estat\u00edstico', 'Analista de Marketing', 'DBA\/Adm. de BD', 'Eng. de ML', 'Economista']\nax = sns.catplot(x=\"('D6', 'anonymized_role')\", data=respostas_br_ds_caract, col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, col_order=col_ordem)\nax.set_xticklabels(labels=labels, rotation=65, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Cargos - Profissionais de DS', fontsize='18', fontweight='bold')","9e51e0cc":"respostas_br_caract[\"('P16', 'salary_range')\"].value_counts()","8d341ee2":"def get_media_salarios_aparada(salary_range_str):\n    search = re.search(r\"de R\\$ (\\d+\\.?\\d+?)\\\/m\u00eas a R\\$ (\\d+\\.?\\d+?)\\\/m\u00eas\", str(salary_range_str))\n    salary_range = []\n    if (search is not None):\n        salary_range = list(search.groups())\n    else:\n        return 0\n    \n    if \".\" in salary_range[0]:\n        salary_range[0] = salary_range[0].replace(\".\", \"\")\n    \n    if \".\" in salary_range[1]:\n        salary_range[1] = salary_range[1].replace(\".\", \"\")\n    \n    return round((int(salary_range[0]) + int(salary_range[1])) \/ 2)","b4eac719":"ordem=['Menos de R$ 1.000\/m\u00eas', 'de R$ 1.001\/m\u00eas a R$ 2.000\/m\u00eas', 'de R$ 2.001\/m\u00eas a R$ 3000\/m\u00eas',  'de R$ 3.001\/m\u00eas a R$ 4.000\/m\u00eas',\n       'de R$ 4.001\/m\u00eas a R$ 6.000\/m\u00eas', 'de R$ 6.001\/m\u00eas a R$ 8.000\/m\u00eas', 'de R$ 8.001\/m\u00eas a R$ 12.000\/m\u00eas', 'de R$ 12.001\/m\u00eas a R$ 16.000\/m\u00eas',\n       'de R$ 16.001\/m\u00eas a R$ 20.000\/m\u00eas', 'de R$ 20.001\/m\u00eas a R$ 25.000\/m\u00eas', 'Acima de R$ 25.001\/m\u00eas']\nlabels=['< R$ 1.000', 'R$ 1.001 a 2.000', 'R$ 2.001 a 3.000', 'R$ 3.001 a 4.000', 'R$ 4.001 a 6.000', 'R$ 6.001 a 8.000', 'R$ 8.001 a 12.000',\n         'R$ 12.001 a 16.000', 'R$ 16.001 a 20.000', 'R$ 20.001 a 25.000', '> R$ 25.001']\nax = sns.catplot(x=\"('P16', 'salary_range')\", data=respostas_br_caract, col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, order=ordem, col_order=col_ordem)\nax.set_xticklabels(labels=labels, rotation=65, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Sal\u00e1rios (por m\u00eas) - Geral', fontsize='18', fontweight='bold')","7e4a5ef1":"df_aux = respostas_br_caract.copy()\ndf_aux[\"('P16', 'salary_range')\"] = df_aux[\"('P16', 'salary_range')\"].apply(get_media_salarios_aparada)\ndf_aux = pd.DataFrame(df_aux.groupby(\"('P5', 'living_state')\")[\"('P16', 'salary_range')\"].mean().sort_values(ascending=False))\ndf_aux = df_aux.rename(columns={\"('P16', 'salary_range')\": \"M\u00e9dia Geral\"})\ndf_aux","096a2091":"respostas_br_ds_caract[\"('P16', 'salary_range')\"].value_counts()","05f15e05":"ordem=['Menos de R$ 1.000\/m\u00eas', 'de R$ 1.001\/m\u00eas a R$ 2.000\/m\u00eas', 'de R$ 2.001\/m\u00eas a R$ 3000\/m\u00eas',  'de R$ 3.001\/m\u00eas a R$ 4.000\/m\u00eas',\n       'de R$ 4.001\/m\u00eas a R$ 6.000\/m\u00eas', 'de R$ 6.001\/m\u00eas a R$ 8.000\/m\u00eas', 'de R$ 8.001\/m\u00eas a R$ 12.000\/m\u00eas', 'de R$ 12.001\/m\u00eas a R$ 16.000\/m\u00eas',\n       'de R$ 16.001\/m\u00eas a R$ 20.000\/m\u00eas', 'de R$ 20.001\/m\u00eas a R$ 25.000\/m\u00eas', 'Acima de R$ 25.001\/m\u00eas']\nlabels=['< R$ 1.000', 'R$ 1.001 a 2.000', 'R$ 2.001 a 3.000', 'R$ 3.001 a 4.000', 'R$ 4.001 a 6.000', 'R$ 6.001 a 8.000', 'R$ 8.001 a 12.000',\n         'R$ 12.001 a 16.000', 'R$ 16.001 a 20.000', 'R$ 20.001 a 25.000', '> R$ 25.001']\nax = sns.catplot(x=\"('P16', 'salary_range')\", data=respostas_br_ds_caract, col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, order=ordem, col_order=col_ordem)\nax.set_xticklabels(labels=labels, rotation=65, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Sal\u00e1rios (por m\u00eas) - Profissionais de DS', fontsize='18', fontweight='bold')","e9e2b191":"df_aux_ds = respostas_br_ds_caract.copy()\ndf_aux_ds[\"('P16', 'salary_range')\"] = df_aux_ds[\"('P16', 'salary_range')\"].apply(get_media_salarios_aparada)\ndf_aux_ds = pd.DataFrame(df_aux_ds.groupby(\"('P5', 'living_state')\")[\"('P16', 'salary_range')\"].mean().sort_values(ascending=False))\ndf_aux_ds = df_aux_ds.rename(columns={\"('P16', 'salary_range')\": \"M\u00e9dia DS\"})\ndf_aux = df_aux.merge(df_aux_ds, left_on=\"('P5', 'living_state')\", right_on=\"('P5', 'living_state')\")\ndf_aux[\"Estado\"] = df_aux.index","a4309871":"df_aux_melted = df_aux.melt('Estado', var_name='cols',  value_name='vals')\ndf_aux_melted","a2d09ce4":"ax = sns.catplot(x=\"Estado\", y=\"vals\", data=df_aux_melted, hue='cols', kind=\"bar\", order=col_ordem)\nax.set_xticklabels(rotation=65, horizontalalignment='right')\nax.set(ylabel='Sal\u00e1rio m\u00e9dio (em R$)')\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Sal\u00e1rios m\u00e9dios (por m\u00eas)', fontsize='18', fontweight='bold')","b45509f0":"ax = sns.distplot(respostas_br_caract[\"('P1', 'age')\"])\nax.xaxis.set_major_locator(ticker.MultipleLocator(2))","f5cdf0a9":"print(\"M\u00e9dia de Idade Global: {}\".format(respostas_br_caract[\"('P1', 'age')\"].mean()))\nprint(\"M\u00e9dia de Idade Masculino: {}\".format(respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == \"Masculino\"][\"('P1', 'age')\"].mean()))\nprint(\"M\u00e9dia de Idade Feminino: {}\".format(respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == \"Feminino\"][\"('P1', 'age')\"].mean()))","9619bd40":"sns.catplot(x=\"('P2', 'gender')\", data=respostas_br_caract, kind=\"count\")","96ad37c8":"mask_homem = respostas_br_caract[\"('P2', 'gender')\"] == 'Masculino'\nmask_mulher = respostas_br_caract[\"('P2', 'gender')\"] == 'Feminino'\n(respostas_br_caract[mask_mulher].groupby([\"('P5', 'living_state')\"])[\"('P2', 'gender')\"].value_counts() \/ respostas_br_caract.groupby([\"('P5', 'living_state')\"])[\"('P2', 'gender')\"].count()).sort_values(ascending=False)","24257c1d":"mask = respostas_br_caract[\"('P2', 'gender')\"] == 'Masculino'\nax = sns.catplot(x=\"('P1', 'age')\", data=respostas_br_caract[mask], col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False)\nax.set_xticklabels(rotation=90, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Idade dos funcion\u00e1rios - Masculino', fontsize='18', fontweight='bold')","c58b29f8":"respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Masculino'].groupby([\"('P5', 'living_state')\"])[\"('P1', 'age')\"].mean().sort_values(ascending=False)","44a6ba3b":"mask = respostas_br_caract[\"('P2', 'gender')\"] == 'Feminino'\nax = sns.catplot(x=\"('P1', 'age')\", data=respostas_br_caract[mask], col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, col_order=col_ordem)\nax.set_xticklabels(rotation=90, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Idade dos funcion\u00e1rios - Feminino', fontsize='18', fontweight='bold')","226f0ae5":"respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Feminino'].groupby([\"('P5', 'living_state')\"])[\"('P1', 'age')\"].mean().sort_values(ascending=False)","1d47a052":"ax = sns.distplot(respostas_br_ds_caract[\"('P1', 'age')\"])\nax.xaxis.set_major_locator(ticker.MultipleLocator(2))","93a2bd92":"print(\"M\u00e9dia de Idade Global: {}\".format(respostas_br_ds_caract[\"('P1', 'age')\"].mean()))\nprint(\"M\u00e9dia de Idade Masculino: {}\".format(respostas_br_ds_caract[respostas_br_ds_caract[\"('P2', 'gender')\"] == \"Masculino\"][\"('P1', 'age')\"].mean()))\nprint(\"M\u00e9dia de Idade Feminino: {}\".format(respostas_br_ds_caract[respostas_br_ds_caract[\"('P2', 'gender')\"] == \"Feminino\"][\"('P1', 'age')\"].mean()))","8d8f1b0e":"sns.catplot(x=\"('P2', 'gender')\", data=respostas_br_ds_caract, kind=\"count\", order=['Masculino', 'Feminino'])","6602f6e5":"razao_global = len(respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Masculino']) \/ len(respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Feminino'])\nrazao_ds = len(respostas_br_ds_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Masculino']) \/ len(respostas_br_ds_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Feminino'])\nprint(\"Propor\u00e7\u00e3o global entre homens e mulheres: {}\".format(razao_global))\nprint(\"Propor\u00e7\u00e3o em DS entre homens e mulheres: {}\".format(razao_ds))                                                                                               ","626593dc":"mask_homem = respostas_br_ds_caract[\"('P2', 'gender')\"] == 'Masculino'\nmask_mulher = respostas_br_ds_caract[\"('P2', 'gender')\"] == 'Feminino'\n(respostas_br_ds_caract[mask_mulher].groupby([\"('P5', 'living_state')\"])[\"('P2', 'gender')\"].value_counts() \/ respostas_br_ds_caract.groupby([\"('P5', 'living_state')\"])[\"('P2', 'gender')\"].count()).sort_values(ascending=False)","ee473bf6":"mask = respostas_br_ds_caract[\"('P2', 'gender')\"] == 'Masculino'\nax = sns.catplot(x=\"('P1', 'age')\", data=respostas_br_ds_caract[mask], col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, col_order=col_ordem)\nax.set_xticklabels(rotation=90, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Idade dos funcion\u00e1rios - Masculino', fontsize='18', fontweight='bold')","93c7e8d7":"mask = respostas_br_ds_caract[\"('P2', 'gender')\"] == 'Feminino'\nax = sns.catplot(x=\"('P1', 'age')\", data=respostas_br_ds_caract[mask], col=\"('P5', 'living_state')\", col_wrap=4, kind=\"count\", sharex=False, col_order=col_ordem)\nax.set_xticklabels(rotation=90, horizontalalignment='right')\nax.set(ylabel='Total de funcion\u00e1rios')\nplt.tight_layout()\nplt.subplots_adjust(top=0.9)\nax.fig.suptitle('Idade dos funcion\u00e1rios - Feminino', fontsize='18', fontweight='bold')","340f83f6":"respostas_br_ds_caract[respostas_br_caract[\"('P2', 'gender')\"] == 'Feminino'].groupby([\"('P5', 'living_state')\"])[\"('P1', 'age')\"].mean().sort_values(ascending=False)","0868374f":"for sexo in ['Masculino', 'Feminino']:\n    df_aux = respostas_br_caract.copy()\n    df_aux = pd.DataFrame(respostas_br_caract[respostas_br_caract[\"('P2', 'gender')\"] == sexo].groupby([\"('P5', 'living_state')\"])[\"('P1', 'age')\"].mean().sort_values(ascending=False))\n    df_aux = df_aux.rename(columns={\"('P1', 'age')\": \"M\u00e9dia Geral\"})\n\n    df_aux_ds = respostas_br_ds_caract.copy()\n    df_aux_ds = pd.DataFrame(respostas_br_ds_caract[respostas_br_ds_caract[\"('P2', 'gender')\"] == sexo].groupby([\"('P5', 'living_state')\"])[\"('P1', 'age')\"].mean().sort_values(ascending=False))\n    df_aux_ds = df_aux_ds.rename(columns={\"('P1', 'age')\": \"M\u00e9dia DS\"})\n    df_aux = df_aux.merge(df_aux_ds, left_on=\"('P5', 'living_state')\", right_on=\"('P5', 'living_state')\")\n    df_aux[\"Estado\"] = df_aux.index\n\n    df_aux_melted = df_aux.melt('Estado', var_name='cols',  value_name='vals')\n\n    ax = sns.catplot(x=\"Estado\", y=\"vals\", data=df_aux_melted, hue='cols', kind=\"bar\", order=col_ordem)\n    ax.set_xticklabels(rotation=65, horizontalalignment='right')\n    ax.set(ylabel='M\u00e9dia das idades')\n    plt.subplots_adjust(top=0.9)\n    ax.fig.suptitle('M\u00e9dia das idades - {}'.format(sexo), fontsize='18', fontweight='bold')","f496fb0f":"from category_encoders import OneHotEncoder","e34e9fad":"def get_media_salarios(salary_range_str):\n    search = re.search(r\"de R\\$ (\\d+\\.?\\d+?)\\\/m\u00eas a R\\$ (\\d+\\.?\\d+?)\\\/m\u00eas\", str(salary_range_str))\n    search_acima = re.search(r\"Acima de R\\$ (\\d+\\.?\\d+?)\\\/m\u00eas\", str(salary_range_str))\n    search_abaixo = re.search(r\"Menos de R\\$ (\\d+\\.?\\d+?)\\\/m\u00eas\", str(salary_range_str))\n    salary_range = []\n    if (search is not None):\n        salary_range = list(search.groups())\n    elif (search_acima is not None):\n        return 30000\n    elif (search_abaixo is not None):\n        return 500\n    else:\n        return 0\n    \n    if \".\" in salary_range[0]:\n        salary_range[0] = salary_range[0].replace(\".\", \"\")\n    \n    if \".\" in salary_range[1]:\n        salary_range[1] = salary_range[1].replace(\".\", \"\")\n    \n    return round((int(salary_range[0]) + int(salary_range[1])) \/ 2)\n\ndef get_media_funcionarios(func_range_str):\n    search = re.search(r\"de (\\d+) a (\\d+)\", str(func_range_str))\n    search_acima = re.search(r\"Acima de (\\d+)\", str(func_range_str))\n    func_range = []\n    if (search is not None):\n        func_range = list(search.groups())\n    elif (search_acima is not None):\n        return 3250\n    else:\n        return 0\n    \n    return round((int(func_range[0]) + int(func_range[1])) \/ 2)\n\ndef transform_gender(gender):\n    return int(gender == 'Feminino')","8fd28557":"df_aux = respostas_br_ds_caract.copy()\ndf_aux[\"('P16', 'salary_range')\"] = df_aux[\"('P16', 'salary_range')\"].apply(get_media_salarios)\ndf_aux[\"('P2', 'gender')\"] = df_aux[\"('P2', 'gender')\"].apply(transform_gender)\ndf_aux[\"('P12', 'workers_number')\"] = df_aux[\"('P12', 'workers_number')\"].apply(get_media_funcionarios)\nohe_cargo = OneHotEncoder(cols=[\"('D6', 'anonymized_role')\"], use_cat_names=True, drop_invariant=True)\ndf_aux = ohe_cargo.fit_transform(df_aux)\ndf_aux = df_aux.drop(\"('D6', 'anonymized_role')_nan\", axis=1)\ndf_aux.head()","15280799":"corr = df_aux.corr()\nsns.heatmap(corr)","149ee5a1":"* SP\n\n    - Maioria das empresas em que est\u00e3o os participantes tem mais de 3000 de funcion\u00e1rios.\n        - Grande contingente de participantes em empresas de Grande Porte no ramo de DS.\n    - Quantidade de \"Cientistas de Dados\" e \"Analistas de Dados\" que superam a categoria de \"Dev. e Eng. de Sofware\", apresentando ao mesmo tempo uma quantidade de \"Engenheiros de Dados\" relativamente importante.\n    - Maioria dos sal\u00e1rios na faixa de R\\\\$ 8.001 e R\\\\$ 12.000\/m\u00eas.\n    - Maior sal\u00e1rio m\u00e9dio (seja no caso geral, seja nos casos dos que se declararam Profissionais de DS).\n    - Maior contingente relativo entre 22 e 25 anos, do sexo Masculino (Profissionais de DS).\n    - Maior contingente relativo entre 24 e 25 anos e 29 a 31 anos, do sexo Feminino (Profissionais de DS).","185d03ba":"A concentra\u00e7\u00e3o de sal\u00e1rios, para profissionais de DS, se mant\u00e9m no mesmo intervalo de R\\\\$ 3.001 a 12.000, por\u00e9m notamos que:\n\n* SP apresenta mais funcion\u00e1rios com sal\u00e1rios na faixa de R\\\\$ 8.001 a 12.000\n* MG, PR e RJ apresentam mais funcion\u00e1rios com sal\u00e1rios na faixa de R\\\\$ 4.001 a 6.000\n* SC apresenta mais funcion\u00e1rios com sal\u00e1rios nas faixas de R\\\\$ 4.001 a 6.000 e R\\\\$ 6.001 a 8.000\n\nOs sal\u00e1rios m\u00e9dios dos profissionais de DS s\u00e3o maiores em todos os estados da pesquisa, exceto em SC.","7c93d1a1":"* Global","dcf9b334":"M\u00e9dia de idade global, do p\u00fablico Masculino e do Feminino que se consideram profissionais de DS s\u00e3o todas de aproximadamente **29 anos**, como no caso global.","82204e2e":"## Idade e Sexo","b33223e2":"* SC\n\n    * Maioria das empresas em que est\u00e3o os participantes tem entre 101 e 3000 de funcion\u00e1rios.\n    * Maior contingente de \"Dev. e Eng. de Sofware\" dentre os outros cargos (poss\u00edvel migra\u00e7\u00e3o de carreira).\n    * Maioria dos sal\u00e1rios na faixa de R\\\\$ 4.001 a 8.000.\n    * Distribui\u00e7\u00e3o aproximadamente uniforme entre 23 e 35 anos (Profissionais de DS).\n    * Poucos registros (6) de participantes do sexo Feminino (Profissionais de DS).","00a1c79a":"* RJ\n\n    - Maioria das empresas em que est\u00e3o os participantes tem mais de 3000 de funcion\u00e1rios.\n        - Grande contingente de participantes em empresas de Grande Porte no ramo de DS.\n    - Quantidade de \"Cientistas de Dados\" e \"Analistas de Dados\" que superam a categoria de \"Dev. e Eng. de Sofware\", apresentando ao mesmo tempo uma quantidade de \"Engenheiros de Dados\" relativamente importante.\n    - Maioria dos sal\u00e1rios na faixa de R\\\\$ 4.001\/m\u00eas a R\\\\$ 6.000\/m\u00eas.\n    - Sal\u00e1rio m\u00e9dio (seja no caso geral, seja nos casos dos que se declararam Profissionais de DS) de R\\\\$ 5.000.\n    - Maior contingente entre 28 e 30 anos, do sexo Masculino e Feminino (Profissionais de DS).","7a28b314":"* Geral","91c05e3e":"* Geral","0fb9ce8b":"Reunindo os principais pontos, por estado:","48ae019a":"* RS\n\n    - Maioria das empresas em que est\u00e3o os participantes tem entre 101 e 500 ou 3.000 funcion\u00e1rios.\n    - Maior contingente de \"Analista de BI\" e \"Cientista de Dados\", contingente pequeno de \"Eng. de Dados\".\n    - Distribui\u00e7\u00e3o uniforme de sal\u00e1rios na faixa de R\\\\$ 3.000 a 12.000\/m\u00eas.\n    - Maior contingente entre 28 e 30 anos, do sexo Masculino (Profissionais de DS).\n    - Poucos registros (4) de participantes do sexo Feminino (Profissionais de DS).","85279b17":"Compara\u00e7\u00e3o das m\u00e9dias de idades entre Geral e DS:","02907983":"* Profissionais de DS","160f590d":"A partir dos gr\u00e1ficos:\n\n* Boa parte dos estados tem um contingente de \"Dev. ou Eng. de Sofware\" e \"Outras\" grande, como \u00e1rea de atua\u00e7\u00e3o no momento da pesquisa.\n* SP e RJ apresentaram quantidades de \"Cientista de Dados\" e \"Analista de Dados\" que superam a categoria de \"Dev. e Eng. de Sofware\", apresentando ao mesmo tempo uma quantidade de \"Engenheiros de Dados\" relativamente importante.\n* MG, PR e SC apresentaram o maior contingente de \"Dev. e Eng. de Sofware\" dentre os outros cargos.\n\nIsso pode significar que pode estar acontecendo uma migra\u00e7\u00e3o de carreira da \u00e1rea de \"Dev. e Eng. de Sofware\" para as \u00e1reas ligadas \u00e0 Ci\u00eancia de Dados. O fato de v\u00e1rios Desenvolvedores terem preenchido o formul\u00e1rio do DataHackers sugere um interesse desses profissionais no dom\u00ednio de Ci\u00eancia de Dados, o que pode significar uma poss\u00edvel mudan\u00e7a de carreira.\n\nOs dados sugerem que em SP e no RJ essa migra\u00e7\u00e3o \u00e9 respons\u00e1vel por um contingente maior nas \u00e1reas ligadas \u00e0 DS quando comparadas \u00e0 Desenvolvimento de Software, e que em MG, PR, SC essa transforma\u00e7\u00e3o est\u00e1 acontecendo.","19adefeb":"* SP apresenta mais mulheres entre 24 e 25 anos e 29 a 31 anos.\n* MG apresenta mais mulheres entre 30 e 32 anos.\n* Alguns estados mostraram muitos participantes com mais de 40 anos, como MG, SP, PR (Fem. e Masc.), RJ (Fem.) e RS (Masc.).","3a593bbc":"## Cargo","2a12bd19":"Infelizmente n\u00e3o temos todos os estados contemplados no resultado final da pesquisa, e temos alguns estados com poucos registros, como ES, RS e SC. Para esses estados ser\u00e1 mais dif\u00edcil tirar conclus\u00f5es com base nos dados.\n\nAnalisaremos para todos os estados na lista.","f4a3de26":"* PR\n\n    - Maioria das empresas em que est\u00e3o os participantes tem entre 101 e 500 funcion\u00e1rios.\n    - Maior contingente de \"Dev. e Eng. de Sofware\" dentre os outros cargos (poss\u00edvel migra\u00e7\u00e3o de carreira).\n    - Maioria dos sal\u00e1rios na faixa de R\\\\$ 4.001 a 6.000\/m\u00eas.\n    - Maior contingente entre 28 e 30 anos, seja do sexo Masculino (Profissionais de DS).\n    - Maiores m\u00e9dias de idade de participantes do sexo Feminino (~ 31 anos).","dfa62d78":"Dos profissionais que se consideram Profissionais de DS, a maioria trabalha atualmente **como Data Scientist, como Desenv. ou Eng. Software , ou em outros cargos.**\n\nInteressante que, neste campo, quase n\u00e3o constam Data Engineers, provavelmente porque a pergunta no formul\u00e1rio sobre \"Se voc\u00ea se considera um profissional de DS?\" foi interpretada de modo espec\u00edfico como \"Data Scientist\", e n\u00e3o como na \u00e1rea de Data Science de modo geral, o que contemplaria todos os dom\u00ednios correlatos da \u00e1rea.","184bb557":"Medindo a participa\u00e7\u00e3o Feminina:","67b0be4d":"M\u00e9dia de idade global, do p\u00fablico Masculino e do Feminino s\u00e3o todas de aproximadamente **29 anos.**","83692944":"* MG e SP apresentam maior contingente relativo entre 22 e 25 anos, do sexo Masculino.\n* PR, RS e RJ t\u00eam maior contingente relativo entre 28 e 30 anos, do sexo Masculino.","ee42c57a":"### An\u00e1lise de correla\u00e7\u00e3o","a79cbd16":"* ES \u00e9 o que tem a maior participa\u00e7\u00e3o relativa de mulheres em DS (apesar de ter poucos registros...), seguido do RJ e MG.","24fc09d8":"O objetivo \u00e9 realizar uma an\u00e1lise espacial do perfil predominante das empresas de Data Science nos estados brasileiros presentes no dataset de acordo com par\u00e2metros de **caracteriza\u00e7\u00e3o**.\n\nA caracteriza\u00e7\u00e3o das empresas vai ser feita a partir dos campos:\n* quantidade de funcion\u00e1rios\n* cargo\n* sal\u00e1rio\n* idade\n* g\u00eanero\n\nPara cada campo, foi feita a an\u00e1lise entre Geral (qualquer 'is_data_science_professional') e Profissional de DS ('is_data_science_professional' = 1).","ccdea3b3":"A maior parte dos funcion\u00e1rios que responderam \u00e0 pesquisa est\u00e3o em empresas de Grande Porte, o que sugere que elas podem estar investindo mais na contrata\u00e7\u00e3o desses profissionais, por terem um time ou uma infraestrutura preparada para projetos de DS, por exemplo.\n\nPercebemos que SP e MG se destacam no contexto de Data Science, apresentando o maior contingente de empresas de Grande Porte no ramo.\n\n(Grande Porte: Mais de 100 funcion\u00e1rios de acordo com a Sebrae: https:\/\/blog.sebrae-sc.com.br\/numero-de-empregados-receita-bruta-para-mei-me-epp\/)","1a2a74f7":"* Profissionais de DS","ccf9ca8c":"Contemplando todos os estados:","fed08aba":"Temos a grande maioria de registros de pessoas que moram no Brasil. Vamos utilizar esses registros para a caracteriza\u00e7\u00e3o.","02e4dcbd":"An\u00e1lise com todos os estados:","c9024c71":"Essa primeira an\u00e1lise sugere que o p\u00fablico da pesquisa \u00e9 majoritariamente masculino (=~ 5 vezes maior), entre 23 e 32 anos.\n\nPara medir a participa\u00e7\u00e3o feminina, vamos calcular as propor\u00e7\u00f5es de mulheres em cada estado:","6b925d8b":"Contemplando todos os estados:","7909ef09":"* MG\n\n  - Maioria das empresas em que est\u00e3o os participantes tem entre 101 e 500 funcion\u00e1rios, seguido de empresas com mais de 3.000 funcion\u00e1rios.\n      - Grande contingente de participantes em empresas de Grande Porte no ramo de DS.\n  - Maior contingente de \"Dev. e Eng. de Sofware\" dentre os outros cargos (poss\u00edvel migra\u00e7\u00e3o de carreira).\n  - Maioria dos sal\u00e1rios na faixa de R\\\\$ 4.001 a R\\\\$ 6.000\/m\u00eas.\n  - Maior contingente entre 22 e 25 anos, do sexo Masculino (Profissionais de DS).\n  - Maior contingente entre 30 e 32 anos, do sexo Feminino (Profissionais de DS).\n  ","5e8f4984":"Vamos analisar quantos registros do dataset s\u00e3o de funcion\u00e1rios trabalhando no Brasil.","8d6181e4":"* Em MG, SP e PR, existe um contingente significativo de DSs do sexo Masculino que tem idade < 20 ou > 45.\n\n\n* Analisando somente as m\u00e9dias do DSs do sexo Masculino: RJ, PR e SP superam (~ 30 anos) a m\u00e9dia de 29 anos (ES tem aproximadamente 29 anos) => n\u00e3o d\u00e1 pra dizer que essa diferen\u00e7a \u00e9 significativa.\n","53400653":"## Sal\u00e1rio","c1349a71":"A partir dos gr\u00e1ficos:\n\n* SP, RJ e RS apresentam a maioria de suas empresas com mais de 3000 de funcion\u00e1rios.\n* PR, MG e SC apresentam a maioria de suas empresas entre 101 e 500 funcionarios.","7c0e305f":"## Conclus\u00e3o","930a4648":"SP e RJ apresentam os maiores sal\u00e1rios m\u00e9dios.\n\n(O c\u00e1lculo foi feito tomando a m\u00e9dia dos extremos de cada classe como valor m\u00e9dio da classe, e ponderando para cada estado pelo \"counts\" de cada classe).\n\nUm ponto interessante seria verificar a **correla\u00e7\u00e3o entre sal\u00e1rio e sexo, sal\u00e1rio e idade.**","8fbf27d0":"O pico em 22 e 23 anos \u00e9 mais significativo em rela\u00e7\u00e3o \u00e0 an\u00e1lise global.\n\nPode mostrar um interesse maior em DS pelo profissionais que est\u00e3o entrando no mercado de trabalho.","3366fc2b":"Capturamos os campos relacionados a essa an\u00e1lise.","97d5bc9d":"## Caracteriza\u00e7\u00e3o","4058ea41":"* ES\n\n    Devido \u00e0 pouca quantidade de dados do ES (27 registros), ficou dif\u00edcil determinar o perfil para as vari\u00e1veis estabelecidas.","61ac67c7":"Foi utilizada a correla\u00e7\u00e3o de Pearson e fazer um mapa de calor para as vari\u00e1veis de caracteriza\u00e7\u00e3o, para os registros de quem se considera profissionais da \u00e1rea de DS.","e286bf92":"* Profissionais de DS","e89a9a73":"Temos uma diferen\u00e7a significativa de idade do p\u00fablico Feminino em rela\u00e7\u00e3o \u00e0 m\u00e9dia de idade (29 anos) no PR e em SC.","e6002745":"* RJ, MG e ES tamb\u00e9m apresentam maior participa\u00e7\u00e3o relativa feminina em DS.","f964400f":"Notamos uma propor\u00e7\u00e3o parecida entre homens e mulheres no caso geral e dos que se consideram profissionais de DS.","7891e7e0":"* Geral","79283ca8":"Vamos tomar tamb\u00e9m o subset com registros de quem se considera profissional de DS no momento da pesquisa.","9ac7943f":"M\u00e9dia de idade do p\u00fablico Feminino, por estado:","523602e0":"Os sal\u00e1rios mais frequentes se concentram entre R\\\\$ 3.000 e R\\\\$ 12.000\/m\u00eas, sendo que\n\n* MG, RJ, PR e SC t\u00eam a maioria dos funcion\u00e1rios ganhando na faixa de R\\\\$ 4.001\/m\u00eas a R\\\\$ 6.000\/m\u00eas.\n* SP apresenta um contingente bastante importante na faixa de R\\\\$ 8.001 e R\\\\$ 12.000\/m\u00eas.\n\nAqui \u00e9 interessante verificar a correla\u00e7\u00e3o com o **contingente de cargos**, para saber quais cargos t\u00eam os maiores sal\u00e1rios em cada estado.\n\nO mesmo pode ser feito em rela\u00e7\u00e3o \u00e0 qtde de funcionarios, para ter uma ideia da correla\u00e7\u00e3o entre o **porte da empresa** e os sal\u00e1rios. (An\u00e1lise de Correla\u00e7\u00e3o).","b85d078c":"* Profissionais de DS","e97ab937":"As m\u00e9dias do p\u00fablico Feminino apresentam vari\u00e2ncia maior ao redor da m\u00e9dia global de DS.","e18c2597":"M\u00e9dia de idade do p\u00fablico Feminino que se consideram profissionais de DS, por estado:","823b3c45":"### Quantidade de funcion\u00e1rios","7d72c4be":"A partir do mapa de calor, notamos que:\n* \"Sal\u00e1rio\" e \"Idade\" t\u00eam correla\u00e7\u00e3o positiva da ordem de 0.4. Isso tem coer\u00eancia se pensarmos que quanto maior a idade, em geral, maior a experi\u00eancia do profissional, o que pode levar a um cargo com sal\u00e1rio mais elevado.\n* \"Sal\u00e1rio\" e \"Qtde de funcion\u00e1rios\" tamb\u00e9m t\u00eam correla\u00e7\u00e3o positiva da ordem de 0.4. Isso sugere que empresas com mais funcion\u00e1rios costumam remunerar melhor os funcionarios de Data Science."}}