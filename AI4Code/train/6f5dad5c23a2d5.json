{"cell_type":{"319b911a":"code","002fc4c7":"code","b77d19f9":"code","c8722d4d":"code","6811a67b":"code","a44dcf88":"code","6dadc28e":"code","29215c1f":"code","c35db904":"code","4a0c1c21":"code","def81aed":"code","29dad828":"code","379303d4":"code","6a628856":"code","a68579db":"code","460842c1":"code","02d3b3f9":"code","13242d7b":"code","a21886a4":"code","f2b0bce7":"code","75b29e83":"code","62976ad7":"code","4ebd85a4":"code","f00a3258":"code","43c8ef6d":"markdown","430da435":"markdown","3ef5f489":"markdown","d56459b7":"markdown","2af66869":"markdown","154a548e":"markdown"},"source":{"319b911a":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.metrics import r2_score\nfrom sklearn.ensemble import RandomForestRegressor","002fc4c7":"df = pd.read_csv('..\/input\/insurance\/insurance.csv')\n\ndf.head()","b77d19f9":"df.info()","c8722d4d":"sns.boxplot(data=df.age)\nplt.title('Age')\nplt.show()","6811a67b":"df.age.hist();","a44dcf88":"df.sex.value_counts()","6dadc28e":"sns.boxplot(data=df.bmi)\nplt.title('BMI value')\nplt.show()","29215c1f":"all_bmi_res = df.shape[0]\nideal_bmi_res = df[(df.bmi >= 18.5) & (df.bmi <= 24.9)].shape[0]","c35db904":"result = (ideal_bmi_res\/all_bmi_res) * 100\n\nprint(f'Only {(np.round(result, 2))}% of people have ideal BMI.')","4a0c1c21":"df.children.value_counts()","def81aed":"df.smoker.value_counts()","29dad828":"df.region.value_counts()","379303d4":"sns.boxplot(data=df.charges)\nplt.title('Spend money')\nplt.show()","6a628856":"corr_map = df.corr()\nsns.heatmap(corr_map);","a68579db":"df_copy = df.copy()","460842c1":"df.loc[df.sex == 'male', 'sex'] = 0\ndf.loc[df.sex == 'female', 'sex'] = 1\ndf.loc[df.smoker == 'yes', 'smoker'] = 1\ndf.loc[df.smoker == 'no', 'smoker'] = 0\ndf.loc[df.region == 'southeast', 'region'] = 0\ndf.loc[df.region == 'southwest', 'region'] = 1\ndf.loc[df.region == 'northeast', 'region'] = 2\ndf.loc[df.region == 'northwest', 'region'] = 3","02d3b3f9":"SEED = 1\nDEC = 5\n\ntest_size = .2","13242d7b":"x = df.drop('charges', axis=1)\ny = df['charges']\n\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size=test_size, random_state=SEED)","a21886a4":"model = RandomForestRegressor(random_state=SEED)\n\n_ = model.fit(x_train, y_train)","f2b0bce7":"def get_score(model, x_test, dec=DEC):\n    pred = model.predict(x_test)\n    score = r2_score(y_test, pred)\n\n    return np.round(score, dec)","75b29e83":"get_score(model, x_test)","62976ad7":"scaler = MinMaxScaler()\n\nx_train_ = scaler.fit_transform(x_train)\nx_test_ = scaler.transform(x_test)","4ebd85a4":"model = RandomForestRegressor(random_state=SEED)\n\n_ = model.fit(x_train_, y_train)","f00a3258":"get_score(model, x_test_)","43c8ef6d":"# EDA","430da435":"# Use min-max scaler","3ef5f489":"# Import libs and loading dataset","d56459b7":"Columns description\n* age: age of primary beneficiary\n* sex: insurance contractor gender, female, male\n* bmi: Body mass index, providing an understanding of body, weights that are relatively high or low relative to height, objective index of body weight (kg \/ m ^ 2) using the ratio of height to weight, ideally 18.5 to 24.9\n* children: Number of children covered by health insurance \/ Number of dependents\n* smoker: Smoking\n* region: the beneficiary's residential area in the US, northeast, southeast, southwest, northwest.\n* charges: Individual medical costs billed by health insurance","2af66869":"According to description ideal value is from 18.5 to 24.9.\nLet's find out how many people match it.","154a548e":"# Baseline"}}