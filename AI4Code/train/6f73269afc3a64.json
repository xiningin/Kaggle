{"cell_type":{"a432e50d":"code","7badcd96":"code","8ec3ed34":"code","8f3922eb":"code","4dac47f9":"code","cdfae14e":"code","a04018bb":"code","23751a43":"code","9b56f412":"code","b680c12f":"code","dd8884f7":"code","50019c69":"code","29f6bac3":"code","2142abaa":"code","eb4ba37e":"code","344b2f98":"code","8f3dae43":"code","64d5c958":"code","4df6da82":"code","698f060f":"code","a43b60e0":"code","262c6d3f":"code","5ac3003d":"code","2f086b78":"code","f46923e1":"code","7e725114":"code","82c87434":"code","17749a83":"code","16b8de66":"code","c26fdedc":"code","a2ff713b":"code","89207463":"code","7f81529f":"code","72069161":"code","588030ce":"code","4c994822":"code","a831bfbb":"code","826fd09e":"code","076cb002":"code","0a4ce62e":"code","e5197c1f":"code","bf6266b3":"code","b002798f":"code","bc4ff3c9":"code","991f0b9e":"code","f7bf9aa6":"markdown","aac8dacb":"markdown","c484d9c5":"markdown","1c755bea":"markdown","87fba5fa":"markdown","755b5e7c":"markdown","aadb15c1":"markdown","5b7dd96e":"markdown","bc70d984":"markdown","59d6ee88":"markdown","b4879092":"markdown","bc97695c":"markdown","03fd29d7":"markdown","4c3c9449":"markdown","6327f4fb":"markdown","84b01fa2":"markdown","debaafd1":"markdown","2c0f5e55":"markdown","8a2ac6c6":"markdown","89b77398":"markdown","ba0955c0":"markdown","ba4809c9":"markdown","a7327816":"markdown","9722daa1":"markdown","13e0bc0b":"markdown","68774563":"markdown","42aed181":"markdown","ea82669b":"markdown","3a818f41":"markdown"},"source":{"a432e50d":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","7badcd96":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport warnings\nwarnings.filterwarnings('ignore')\nimport datetime","8ec3ed34":"df=pd.read_csv('\/kaggle\/input\/movie-dataset-rating\/Movie-Dataset-Latest.csv')","8f3922eb":"df.head()","4dac47f9":"df.info()","cdfae14e":"df['release_date']=pd.to_datetime(df['release_date'],format='%Y-%m-%d')","a04018bb":"df['year']=df['release_date'].dt.year\ndf['month']=df['release_date'].dt.month","23751a43":"df1=df.drop(['Unnamed: 0','id','release_date','overview','video','year','month'],axis=1)","9b56f412":"df_100=df.sort_values('popularity',ascending=False).head(100)","b680c12f":"sns.heatmap(df1.corr(),annot=True, fmt=\"1.1f\")","dd8884f7":"sns.pairplot(df1)","50019c69":"df_year=pd.DataFrame(df.groupby('year')['popularity'].sum())\ndf_year.plot.bar(figsize=(15,10))","29f6bac3":"df_100.head(10)","2142abaa":"df.groupby('year')['title'].count().plot.pie(figsize=(10,10),autopct=\"%1.1f%%\")","eb4ba37e":"df_100.groupby('year')['title'].count().plot.pie(figsize=(10,10),autopct=\"%1.1f%%\")","344b2f98":"df.groupby('year')['popularity'].sum().plot.pie(figsize=(10,10),autopct=\"%1.1f%%\")","8f3dae43":"df_100.groupby('year')['popularity'].sum().plot.pie(figsize=(10,10),autopct=\"%1.1f%%\")","64d5c958":"from nltk.tokenize import word_tokenize\nfrom nltk.corpus import stopwords\nfrom string import punctuation\nimport string\n\nlist_stopwords = set(stopwords.words('english'))\n\nfrom wordcloud import WordCloud","4df6da82":"df_nlp=df_100.copy()","698f060f":"df_nlp['title2'] = df_nlp['title'].str.lower()\ndf_nlp['title2'] = df_nlp['title2'].apply(word_tokenize)\ndf_nlp['title2'] = df_nlp['title2'].apply(lambda x: [word for word in x if word not in list_stopwords])\ndf_nlp['title2'] = df_nlp['title2'].apply(lambda x : [word.translate(str.maketrans('', '', string.punctuation)) for word in x])\ndf_nlp['title2'] = df_nlp['title2'].apply(lambda x : [word for word in x if len(word) > 1])","a43b60e0":"df_nlp['overview2'] = df_nlp['overview'].str.lower()\ndf_nlp['overview2'] = df_nlp['overview2'].apply(word_tokenize)\ndf_nlp['overview2'] = df_nlp['overview2'].apply(lambda x: [word for word in x if word not in list_stopwords])\ndf_nlp['overview2'] = df_nlp['overview2'].apply(lambda x : [word.translate(str.maketrans('', '', string.punctuation)) for word in x])\ndf_nlp['overview2'] = df_nlp['overview2'].apply(lambda x : [word for word in x if len(word) > 1])","262c6d3f":"text1 = df_nlp['title2']\nwordcloud = WordCloud(\n    width = 1500,\n    height = 1000,\n    background_color = 'black',\n    stopwords = list_stopwords).generate(str(text1))\nfig = plt.figure(\n    figsize = (10, 8),\n    facecolor = 'k',\n    edgecolor = 'k')\nplt.imshow(wordcloud, interpolation = 'bilinear')\nplt.axis('off')\nplt.tight_layout(pad=0)\nplt.show()","5ac3003d":"text2 = df_nlp['overview2']\nwordcloud = WordCloud(\n    width = 1500,\n    height = 1000,\n    background_color = 'green',\n    stopwords = list_stopwords).generate(str(text2))\nfig = plt.figure(\n    figsize = (10, 8),\n    facecolor = 'k',\n    edgecolor = 'k')\nplt.imshow(wordcloud, interpolation = 'bilinear')\nplt.axis('off')\nplt.tight_layout(pad=0)\nplt.show()","2f086b78":"pip install pycaret --ignore-installed llvmlite numba","f46923e1":"from pycaret.clustering import *","7e725114":"clu = setup(df1,silent=True,session_id=1)","82c87434":"kmeans = create_model('kmeans',num_clusters=4)","17749a83":"plot_model(kmeans, 'elbow')","16b8de66":"plot_model(kmeans, plot = 'silhouette')","c26fdedc":"kmeans_df = assign_model(kmeans)\nkmeans_df.head(5)","a2ff713b":"plot_model(kmeans)","89207463":"plot_model(kmeans,'distribution')","7f81529f":"kmeans_df.groupby('Cluster').describe().T","72069161":"sns.violinplot(x='Cluster', y='popularity', data=kmeans_df)\nplt.show()","588030ce":"sns.violinplot(x='Cluster', y='vote_average', data=kmeans_df)\nplt.show()","4c994822":"sns.violinplot(x='Cluster', y='vote_count', data=kmeans_df)\nplt.show()","a831bfbb":"kmeans_df.groupby('Cluster').sum().plot.pie(y='popularity',autopct=\"%1.1f %%\")\nplt.legend(loc=\"upper left\")","826fd09e":"kmeans_df.groupby('Cluster').sum().plot.pie(y='vote_count',autopct=\"%1.1f %%\")\nplt.legend(loc=\"upper left\")","076cb002":"kmeans_df.groupby('Cluster').mean().plot.bar(y='vote_average')","0a4ce62e":"df['Cluster']=kmeans_df['Cluster']","e5197c1f":"df_100_cluster=df.sort_values('popularity',ascending=False).head(100)\ndf_100_cluster.head()","bf6266b3":"sns.scatterplot(data=df,x='popularity', y='vote_average',hue='Cluster',palette={'Cluster 0': 'red',\n                      'Cluster 1': 'blue',\n                      'Cluster 2': 'green',\n                      'Cluster 3': 'orange'})","b002798f":"sns.scatterplot(data=df,x='popularity', y='vote_count',hue='Cluster',palette={'Cluster 0': 'red',\n                      'Cluster 1': 'blue',\n                      'Cluster 2': 'green',\n                      'Cluster 3': 'orange'})","bc4ff3c9":"sns.scatterplot(data=df,x='vote_average', y='vote_count',hue='Cluster',palette={'Cluster 0': 'red',\n                      'Cluster 1': 'blue',\n                      'Cluster 2': 'green',\n                      'Cluster 3': 'orange'})","991f0b9e":"df_100_cluster.groupby(['year','Cluster'])['title'].count().plot.bar(figsize=(10,5))","f7bf9aa6":"The total of movie popularity by year","aac8dacb":"5) Word Cloud by Titles","c484d9c5":"In top 10 popularity, the movies which released in 2021 occupy 8 out of 10 !","1c755bea":"1.Data importing and data preprocessing","87fba5fa":"In top 100, the total popularity of movies which were released in 2021 occupy 75%, on the other hand, in total movies, those occupy only 30%","755b5e7c":"The numbers of movie titles by year in top 100","aadb15c1":"There are no 'strong' positive or negative correlation between popularity, vote_average and vote_count. But there is a positive correlation between vote_average and vote_count.","5b7dd96e":"The list of top 10 movies by popularity","bc70d984":"2.Visualization\n* Correlation\n* Pairplot\n* Time series by popularity\n* Top 100 popularity analysis\n* Word Cloud by Title\n* Word Cloud by Overview","59d6ee88":"1) Modeling","b4879092":"The total of movie popularity by year in top 100","bc97695c":"3.Clustering\n* Modeling\n* Cluster Analysis\n![image.png](attachment:d5cefde7-308d-42ed-a735-a9aa2eb71ac9.png)","03fd29d7":"In top 100, the number of movies which were released in 2021 occupy 60%, on the other hand, in total movies, those occupy only 2.2%","4c3c9449":"Some highst popularity movies have also high average scores, but their vote counts do not seem to be so high.\nIt seems that some high vote avarage score movies have high vote count. So they may depend on whether they have Enthusiastic fans or not. So I tried to find segmentation by clustering as next step 3.","6327f4fb":"# - Movie Rating Analysis -","84b01fa2":"4) Top 100 popularity analysis","debaafd1":"1.Data  Importing  and  data  preprocessing","2c0f5e55":"The numbers of movie titles by year","8a2ac6c6":"3.Clustering","89b77398":"4)-1 Compare pie chart between 'The numbers of movie titles by year' and 'The numbers of movie titles by year in top 100'","ba0955c0":"Total popularity by year has been growing, especially, the total popularity in 2021 is overwhelmingly.","ba4809c9":"3) Time series by popularity","a7327816":"1) Correlation","9722daa1":"Vote_count is one of key foctors for clustering. Cluster 0 is the least, Cluster 2 is next to the least, and Cluster 1 is the most one.\nAnd Cluster 1 is also the highest in vote_average. It means that\n* The movies in Cluster 1 have Enthusiastic fans who vote positively.\n* On the other hand, it does not make sense that high popularity movies is always high average score.\n* One of the important things in marketing is how we can grow the core fans who vote.","13e0bc0b":"2.Visualization","68774563":"2) Pairplot","42aed181":"6) Word Cloud by Overviews","ea82669b":"2) Cluster Anlysis","3a818f41":"4)-2 Compare pie chart between 'The total of movie popularity by year' and 'The total of movie popularity by year in top 100'"}}