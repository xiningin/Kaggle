{"cell_type":{"1c5ce4e2":"code","db99cb8a":"code","9180d150":"code","8d2ba303":"code","13e68aac":"code","510964d0":"code","d2db4c4c":"code","c5352296":"code","c2f5e1dc":"code","6ea38393":"code","e4cc7113":"code","1b5f31fb":"code","acbfaeed":"code","db95f104":"code","0cd0c8aa":"code","42d7ffc9":"code","e0c6d9d9":"code","653cc8de":"code","14e85543":"code","23762c58":"code","b0aeb6c0":"code","275a660d":"code","e8086e5f":"code","a2f7f214":"code","4f2a607b":"code","82f61d4f":"code","b5d912ca":"code","2211e1e8":"code","691d4a99":"code","00aac812":"code","0f2f17af":"code","a0f2b2e4":"code","aa531643":"code","72430707":"code","125bbbb8":"code","9702da56":"code","21965e67":"code","3302b589":"code","a5a083d0":"code","135dbdea":"code","275f7a0d":"code","c53cb58f":"code","d01069d5":"code","4f1f508a":"code","1c2d6523":"code","a1c1cd9e":"code","b062b60b":"code","94023bf0":"code","ca9fb6d6":"code","2a9eafd6":"code","71c91bb5":"markdown","7129814d":"markdown","a984bd74":"markdown","38ae6102":"markdown","a9268322":"markdown","5a9c63c9":"markdown","4d1cd0c3":"markdown","75ced731":"markdown","99dc84e8":"markdown","74f035b5":"markdown","cf71416d":"markdown","275d4cd5":"markdown","4edb7400":"markdown","c255d397":"markdown","aafbf54b":"markdown","8a123041":"markdown","0ebf43ea":"markdown","e34f1df4":"markdown","0071ba17":"markdown","2fce8c45":"markdown","f35872a2":"markdown","d9c93a22":"markdown","c57ea111":"markdown","4e1c5101":"markdown","3132e1fc":"markdown","46854487":"markdown","1f7f7e1b":"markdown","0e57cf58":"markdown","3ac221fa":"markdown","f745ab85":"markdown","b1c3f1bc":"markdown","57eb5e40":"markdown","06e89126":"markdown","f731eda8":"markdown","bb14f308":"markdown","61481ffc":"markdown","9225e63a":"markdown","60470fd4":"markdown","093f433e":"markdown","c494bdcd":"markdown","33d179a3":"markdown","e7b0bf0d":"markdown","047acd75":"markdown","82196849":"markdown","b964d618":"markdown","3e1c7fe0":"markdown","edd4c4a4":"markdown","fe40df5b":"markdown","879cff15":"markdown","d6c2684c":"markdown","3205e3a8":"markdown","96e7f524":"markdown","80d3c02e":"markdown","42a5b222":"markdown","1a75de0b":"markdown","0ce9b8c2":"markdown","32720210":"markdown","a10de9a1":"markdown","8cc7bf10":"markdown","0bed26b4":"markdown","401129fb":"markdown","17d1ba5c":"markdown","3c255cdb":"markdown","ef014630":"markdown","5f42e15f":"markdown","97ce6e23":"markdown","3a875c4e":"markdown","0d3317c4":"markdown","cd215ffe":"markdown","21885015":"markdown","bcb2d45f":"markdown","67fe6cc4":"markdown","4bb3bb53":"markdown"},"source":{"1c5ce4e2":"import pandas as pd \nimport numpy as np \nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')\nimport matplotlib.pyplot as plt\n%matplotlib inline","db99cb8a":"dados = pd.read_csv('..\/input\/consumo-de-cerveja\/Consumo_cerveja.csv', sep = ';')","9180d150":"dados","8d2ba303":"dados.shape\n\n# 365 linhas e 7 colunas","13e68aac":"dados.describe().round(2) # describe fornece algumas estat\u00edsticas descritivas e round(2) define a quantidade de casas decimal, neste caso duas casas.","510964d0":"dados.corr().round(4)","d2db4c4c":"fig, ax = plt.subplots(figsize=(20,6))\n\nax.set_title('Consumo de Cerveja', fontsize = 20)\nax.set_ylabel('Litros', fontsize = 16)\nax.set_xlabel('Tempo', fontsize = 16)\nax = dados['consumo'].plot(fontsize=14)","c5352296":"ax = sns.boxplot(data=dados['consumo'], orient = 'v', width = 0.3)\nax.figure.set_size_inches(12, 6)\nax.set_title('Consumo de Cerveja', fontsize = 20)\nax.set_ylabel('Litros', fontsize = 16)\nax","c2f5e1dc":"ax = sns.boxplot(y = 'consumo', x = 'fds', data=dados, orient = 'v', width = 0.5)\nax.figure.set_size_inches(12, 6)\nax.set_title('Consumo de Cerveja', fontsize = 20)\nax.set_ylabel('Litros', fontsize = 16)\nax.set_xlabel('Final de Semana', fontsize = 16)\n\nax\n","6ea38393":"ax = sns.distplot(dados['consumo'])\nax.figure.set_size_inches(12, 6)\nax.set_title('Distribui\u00e7\u00e3o de Frequ\u00eancia', fontsize = 20)\nax.set_ylabel('Consumo de Cerveja (Litros)', fontsize = 16)","e4cc7113":"ax = sns.pairplot(dados, y_vars='consumo', x_vars=['temp_min', 'temp_media', 'temp_max', 'chuva', 'fds'], kind = 'reg')\nax.fig.suptitle('Dispers\u00e3o entre as vari\u00e1veis', fontsize = 20, y = 1.15)","1b5f31fb":"ax = sns.jointplot(x = \"temp_max\", y = \"consumo\", data = dados, kind = 'reg')\nax.fig.suptitle('Dispers\u00e3o - Consumo X Temperatura', fontsize = 20, y = 1.05)\nax.set_axis_labels(\"Temperatura M\u00e1xima\", \"Consumo de Cerveja\", fontsize = 14)\nax","acbfaeed":"ax = sns.lmplot(x = \"temp_max\", y = \"consumo\", data = dados)\nax.fig.suptitle('Reta de Regress\u00e3o - Consumo X Temperatura', fontsize = 20, y = 1.15)\nax.set_xlabels(\"Temperatura M\u00e1xima (celsius)\", fontsize = 14)\nax.set_ylabels(\"Consumo de Cerveja (litros)\", fontsize = 14)\nax","db95f104":"ax = sns.lmplot(x = \"temp_max\", y = \"consumo\", data = dados, hue = \"fds\", markers=['o', '*'], legend = False)\nax.fig.suptitle('Reta de Regress\u00e3o - Consumo X Temperatura X Final de Semana', fontsize = 20, y = 1.15)\nax.set_xlabels(\"Temperatura M\u00e1xima (Celsius)\", fontsize = 14)\nax.set_ylabels(\"Consumo de Cerveja (litros)\", fontsize = 14)\nax.add_legend(title=\"Fim de Semana\")\nax","0cd0c8aa":"from sklearn.model_selection import train_test_split","42d7ffc9":"y = dados['consumo']","e0c6d9d9":"X = dados[['temp_max', 'chuva', 'fds']]","653cc8de":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=2811) # random state = seed aleat\u00f3ria\n\n#  O c\u00f3digo acima vai dividir nosso dataset em dois: uma parte ser\u00e1 utilizada para treinar nosso algor\u00edtmo e outra parte ser\u00e1 utilizada para testar o resultado do algor\u00edtmo","14e85543":"from sklearn.linear_model import LinearRegression\nfrom sklearn import metrics","23762c58":"modelo = LinearRegression()","b0aeb6c0":"modelo.fit(X_train, y_train)","275a660d":"print('R\u00b2 = {}'.format(modelo.score(X_train, y_train).round(2)))\n\n# O R\u00b2 explica o quanto da varia\u00e7\u00e3o da vari\u00e1vel dependente foi explicado pelas vari\u00e1veis explicativas","e8086e5f":"y_previsto = modelo.predict(X_test)","a2f7f214":"print('R\u00b2 = %s' % metrics.r2_score(y_test, y_previsto).round(2))","4f2a607b":"entrada = X_test[0:1] # utilizando uma linha qualquer de nossa base de teste, para gerar uma previs\u00e3o de consumo de cerveja\nentrada","82f61d4f":"modelo.predict(entrada)[0].round(2)","b5d912ca":"temp_max = 30.5\nchuva = 12.2\nfds = 0\nentrada = [[temp_max, chuva, fds]]\n\nprint('{0:.2f} Litros'.format(modelo.predict(entrada)[0]))  # dentro de print utilizamos 0:.2f para nosso resultado ter 2 casas decimais","2211e1e8":"modelo.intercept_","691d4a99":"modelo.coef_","00aac812":"X.columns","0f2f17af":"index=['Intercepto', 'Temperatura M\u00e1xima', 'Chuva (mm)', 'Final de Semana']","a0f2b2e4":"pd.DataFrame(data = np.append(modelo.intercept_, modelo.coef_), index = index, columns = ['Par\u00e2metros'])","aa531643":"y_previsto_train = modelo.predict(X_train)","72430707":"ax = sns.scatterplot(x=y_previsto_train, y=y_train)\nax.figure.set_size_inches(12, 6)\nax.set_title('Previs\u00e3o X Real', fontsize = 18)\nax.set_xlabel('Consumo de Cerveja (litros) - Previs\u00e3o', fontsize = 14)\nax.set_ylabel('Consumo de Cerveja (litros) - Real', fontsize = 14)\nax\n","125bbbb8":"residuo = y_train - y_previsto_train\nresiduo","9702da56":"ax = sns.scatterplot(x=y_previsto_train, y=residuo, s=150)\nax.figure.set_size_inches(20, 8)\nax.set_title('Res\u00edduos X Previs\u00e3o', fontsize = 18)\nax.set_xlabel('Consumo de Cerveja (litros) - Previs\u00e3o', fontsize = 14)\nax.set_ylabel('Res\u00edduos', fontsize = 14)\nax","21965e67":"ax = sns.scatterplot(x=y_previsto_train, y=residuo**2, s=150)\nax.figure.set_size_inches(20, 8)\nax.set_title('Res\u00edduos X Previs\u00e3o', fontsize = 18)\nax.set_xlabel('Consumo de Cerveja (litros) - Previs\u00e3o', fontsize = 14)\nax.set_ylabel('Res\u00edduos\u00b2', fontsize = 14)\nax","3302b589":"ax = sns.distplot(residuo)\nax.figure.set_size_inches(12, 6)\nax.set_title('Distribui\u00e7\u00e3o de Frequ\u00eancias dos Res\u00edduos', fontsize = 18)\nax.set_xlabel('Litros', fontsize = 14)\nax","a5a083d0":"X2 = dados[['temp_media', 'chuva', 'fds']]\nX2","135dbdea":"X2_train, X2_test, y2_train, y2_test = train_test_split(X2, y, test_size=0.3, random_state = 2811)","275f7a0d":"modelo_2 = LinearRegression()","c53cb58f":"modelo_2.fit(X2_train, y2_train)","d01069d5":"print('Modelo com Temp. M\u00e9dia')\nprint('R\u00b2 = {}'.format(modelo_2.score(X2_train, y2_train).round(2)))","4f1f508a":"print('Modelo com Temp. M\u00e1xima')\nprint('R\u00b2 = {}'.format(modelo.score(X_train, y_train).round(2)))","1c2d6523":"y_previsto = modelo.predict(X_test)\ny_previsto_2 = modelo_2.predict(X2_test)","a1c1cd9e":"print('Modelo com Temp. M\u00e9dia')\nprint('R\u00b2 = {}'.format(metrics.r2_score(y2_test, y_previsto_2).round(2)))","b062b60b":"print('Modelo com Temp. M\u00e1xima')\nprint('R\u00b2 = {}'.format(metrics.r2_score(y_test, y_previsto).round(2)))","94023bf0":"EQM = metrics.mean_squared_error(y_test, y_previsto).round(2)\nREQM = np.sqrt(metrics.mean_squared_error(y_test, y_previsto)).round(2) # sqrt calcula a ra\u00edz quadrada\nR2 = metrics.r2_score(y_test, y_previsto).round(2)\n\npd.DataFrame([EQM, REQM, R2], ['EQM', 'REQM', 'R\u00b2'], columns =['M\u00e9tricas'])","ca9fb6d6":"EQM_2 = metrics.mean_squared_error(y2_test, y_previsto_2).round(2)\nREQM_2 = np.sqrt(metrics.mean_squared_error(y2_test, y_previsto_2)).round(2) # sqrt calcula a ra\u00edz quadrada\nR2_2 = metrics.r2_score(y2_test, y_previsto_2).round(2)\n\npd.DataFrame([EQM_2, REQM_2, R2_2], ['EQM', 'REQM', 'R\u00b2'], columns =['M\u00e9tricas'])","2a9eafd6":"temp_max = 40\nchuva = 0\nfds = 0\nentrada = [[temp_max, chuva, fds]]\n\nprint('{0:.2f} Litros'.format(modelo.predict(entrada)[0]))","71c91bb5":"## Obtendo o coeficiente de determina\u00e7\u00e3o (R\u00b2) para as previs\u00f5es do nosso modelo\n\nhttps:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.metrics.r2_score.html#sklearn.metrics.r2_score","7129814d":"## Criando um DataFrame para armazenar os coeficientes do modelo\n\nhttps:\/\/docs.scipy.org\/doc\/numpy\/reference\/generated\/numpy.append.html?#numpy.append","a984bd74":"## Plotando a distribui\u00e7\u00e3o de frequ\u00eancias dos res\u00edduos","38ae6102":"# **Distribui\u00e7\u00e3o de Frequ\u00eancia**\n<hr style='border: 2px solid red;'>","a9268322":"## M\u00e9tricas da regress\u00e3o\n<hr>\n\nfonte: https:\/\/scikit-learn.org\/stable\/modules\/model_evaluation.html#regression-metrics\n\nAlgumas estat\u00edsticas obtidas do modelo de regress\u00e3o s\u00e3o muito \u00fateis como crit\u00e9rio de compara\u00e7\u00e3o entre modelos estimados e de sele\u00e7\u00e3o do melhor modelo, as principais m\u00e9tricas de regress\u00e3o que o scikit-learn disponibiliza para modelos lineares s\u00e3o as seguintes:\n\n### Erro Quadr\u00e1tico M\u00e9dio\n\nM\u00e9dia dos quadrados dos erros. Ajustes melhores apresentam $EQM$ mais baixo.\n\n$$EQM(y, \\hat{y}) = \\frac 1n\\sum_{i=0}^{n-1}(y_i-\\hat{y}_i)^2$$\n\n### Ra\u00edz do Erro Quadr\u00e1tico M\u00e9dio\n\nRa\u00edz quadrada da m\u00e9dia dos quadrados dos erros. Ajustes melhores apresentam $\\sqrt{EQM}$ mais baixo.\n\n$$\\sqrt{EQM(y, \\hat{y})} = \\sqrt{\\frac 1n\\sum_{i=0}^{n-1}(y_i-\\hat{y}_i)^2}$$\n\n### Coeficiente de Determina\u00e7\u00e3o - R\u00b2\n\nO coeficiente de determina\u00e7\u00e3o (R\u00b2) \u00e9 uma medida resumida que diz quanto a linha de regress\u00e3o ajusta-se aos dados. \u00c9 um valor entra 0 e 1.\n\n$$R^2(y, \\hat{y}) = 1 - \\frac {\\sum_{i=0}^{n-1}(y_i-\\hat{y}_i)^2}{\\sum_{i=0}^{n-1}(y_i-\\bar{y}_i)^2}$$","5a9c63c9":"## Box plot da vari\u00e1vel *dependente* (y)","4d1cd0c3":"### Analisando os gr\u00e1ficos de dispers\u00e3o, \u00e9 poss\u00edvel observar entres as temperaturas que a temperatura m\u00e1xima tem uma rela\u00e7\u00e3o mais ajustada com o consumo e consequentemente os erros ser\u00e3o menores.\n\n### Como n\u00e3o chove todos os dias, o gr\u00e1fico de chuva apresenta uma caracter\u00edstica \"explosiva\", mas podemos entender que quanto mais chove, menor ser\u00e1 o consumo de cerveja.\n\n### No final de semana percebemos que o consumo \u00e9 maior.","75ced731":"# **Vari\u00e1vel Dependente X Vari\u00e1veis Explicativas (lmplot)**\n<hr style='border: 2px solid red;'>","99dc84e8":"# **Vari\u00e1vel Dependente X Vari\u00e1veis Explicativas (pairplot)**\n<hr style='border: 2px solid red;'>","74f035b5":"# **Obtendo Previs\u00f5es Pontuais**\n<hr style='border: 2px solid red;'>","cf71416d":"### Oberseve que nosso gr\u00e1fico forma uma esp\u00e9cie de cone, inicialmente est\u00e1 bem alinhado mas no final os pontos se abrem, \u00e9 como se quanto maior o consumo, mais dif\u00edcil a previs\u00e3o","275d4cd5":"#### Pelo Box plot conseguimos ver que n\u00e3o temos dados discrepantes ou outliers (que estejam muito acima de 30.000 litros ou abaixo de 20.000 litros)","4edb7400":"## Obtendo os res\u00edduos","c255d397":"## Obtendo os coeficientes de regress\u00e3o\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>Os <b>coeficientes de regress\u00e3o<\/b> $\\beta_2$, $\\beta_3$ e $\\beta_4$ s\u00e3o conhecidos como <b>coeficientes parciais de regress\u00e3o<\/b> ou <b>coeficientes parciais angulares<\/b>. Considerando o n\u00famero de vari\u00e1veis explicativas de nosso modelo, seu significado seria o seguinte: $\\beta_2$ mede a varia\u00e7\u00e3o no valor m\u00e9dio de $Y$ (Consumo de Cerveja), por unidade de varia\u00e7\u00e3o em $X_2$ (Temperatura M\u00e1xima), mantendo-se os valores de $X_3$ (Chuva) e $X_4$ (Final de Semana) constantes. Em outras palavras, ele nos d\u00e1 o efeito \"direto\" ou \"l\u00edquido\" de uma unidade de varia\u00e7\u00e3o em $X_2$ sobre o valor m\u00e9dio de $Y$, exclu\u00eddos os efeitos que $X_3$ e $X_4$ possam ter sobre a m\u00e9dia de $Y$. De modo an\u00e1logo podemos interpretar os demais coeficientes de regress\u00e3o.<\/p>","aafbf54b":"## Criando uma lista com os nomes das vari\u00e1veis do modelo","8a123041":"# **Comportamento da Vari\u00e1vel Dependente (Y)**\n<hr style='border: 2px solid red;'>","0ebf43ea":"## An\u00e1lises gr\u00e1ficas","e34f1df4":"## Gerando as previs\u00f5es do modelo para os dados de TREINO","0071ba17":"### O gr\u00e1fico acima representa o relacionamento entre duas vari\u00e1veis e suas respectivas distribui\u00e7\u00f5es de frequ\u00eancia com uma reta de regress\u00e3o estimada.","2fce8c45":"### Visualiza\u00e7\u00e3o dos dados","f35872a2":"## Obtendo o coeficiente de determina\u00e7\u00e3o (R\u00b2) para as previs\u00f5es dos dois modelos","d9c93a22":"###  Importando Bibliotecas ","c57ea111":"## Plotando a vari\u00e1vel *dependente* (y)","4e1c5101":"## Interpreta\u00e7\u00e3o dos Coeficientes Estimados\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>\n<b>Intercepto<\/b> \u2192 Excluindo o efeito das vari\u00e1veis explicativas ($X_2=X_3=X_4=0$) o efeito m\u00e9dio no Consumo de Cerveja seria de <b>5951,98 litros<\/b>.\n<\/p>\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>\n<b>Temperatura M\u00e1xima (\u00b0C)<\/b> \u2192 Mantendo-se os valores de $X_3$ (Chuva) e $X_4$ (Final de Semana) constantes, o acr\u00e9scimo de 1\u00b0C na Temperatura M\u00e1xima gera uma varia\u00e7\u00e3o m\u00e9dia no Consumo de Cerveja de <b>684,74 litros<\/b>.\n<\/p>\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>\n<b>Chuva (mm)<\/b> \u2192 Mantendo-se os valores de $X_2$ (Temperatura M\u00e1xima) e $X_4$ (Final de Semana) constantes, o acr\u00e9scimo de 1mm de Chuva gera uma varia\u00e7\u00e3o m\u00e9dia no Consumo de Cerveja de <b>-60,78 litros<\/b>.\n<\/p>\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>\n<b>Final de Semana (Sim\/N\u00e3o)<\/b> \u2192 Mantendo-se os valores de $X_2$ (Temperatura M\u00e1xima) e $X_3$ (Chuva) constantes, o fato de o dia ser classificado como Final de Semana gera uma varia\u00e7\u00e3o m\u00e9dia no Consumo de Cerveja de <b>5401,08 litros<\/b>.\n<\/p>","3132e1fc":"## Gr\u00e1fico de dispers\u00e3o entre valor estimado e valor real\n\nhttps:\/\/seaborn.pydata.org\/generated\/seaborn.scatterplot.html","46854487":"## Obtendo o coeficiente de determina\u00e7\u00e3o (R\u00b2) do modelo estimado com os dados de TREINO\n\nhttps:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.linear_model.LinearRegression.html#sklearn.linear_model.LinearRegression.score\n\n### Coeficiente de Determina\u00e7\u00e3o - R\u00b2\n\nO coeficiente de determina\u00e7\u00e3o (R\u00b2) \u00e9 uma medida resumida que diz quanto a linha de regress\u00e3o ajusta-se aos dados. \u00c9 um valor entra 0 e 1.\n\n$$R^2(y, \\hat{y}) = 1 - \\frac {\\sum_{i=0}^{n-1}(y_i-\\hat{y}_i)^2}{\\sum_{i=0}^{n-1}(y_i-\\bar{y}_i)^2}$$","1f7f7e1b":"## Obtendo o intercepto do modelo\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>O <b>intercepto<\/b> representa o efeito m\u00e9dio em $Y$ (Consumo de Cerveja) tendo todas as vari\u00e1veis explicativas exclu\u00eddas do modelo. De forma mais simples, o <b>intercepto<\/b> representa o efeito m\u00e9dio em $Y$ (Consumo de Cerveja) quando $X_2$ (Temperatura M\u00e1xima), $X_3$ (Chuva) e $X_4$ (Final de Semana) s\u00e3o iguais a zero.<\/p>","0e57cf58":"# **An\u00e1lises preliminares**\n<hr style='border: 2px solid red;'>","3ac221fa":"# **An\u00e1lises Gr\u00e1ficas das Previs\u00f5es do Modelo**\n<hr style='border: 2px solid red;'>","f745ab85":"### <font color='red' style='font-size: 20px;'>Observa\u00e7\u00e3o:<\/font> este \u00e9 um projeto\/guia introdut\u00f3rio. Foi utilizado diversos gr\u00e1ficos para tornar os conceitos mais acess\u00edveis e de f\u00e1cil compreens\u00e3o.\n","b1c3f1bc":"### Verificando o tamanho do Dataset","57eb5e40":"### O gr\u00e1fico acima representa o consumo de cerveja durante 365 dias. Considerando que o consumo de cerveja est\u00e1 relacionado a temperatura, podemos associar o gr\u00e1fico com as esta\u00e7\u00f5es no ano. O pico de maior consumo ocorreu no ver\u00e3o, depois apresenta uma queda no outuno, no inverno temos o menor pico e na primavera o consumo come\u00e7a a aumentar.","06e89126":"### O formato do gr\u00e1fico da distribui\u00e7\u00e3o de frequ\u00eancia tem uma certa certa assimetria, o ideal seria o gr\u00e1fico seguir o formato de sino, com pouca varia\u00e7\u00e3o. Uma forma de corrigir essa assimetria seria utilizando mais dados, como por exemplo utilizar uma amostra de 730 dias. Contudo, para o nosso projeto vamos considerar a frequ\u00eancia dos 365 dias.","f731eda8":"# **Estimando um Modelo de Regress\u00e3o Linear para o Consumo**\n<hr style='border: 2px solid red;'>","bb14f308":"## Outra forma de visualizar a distribui\u00e7\u00e3o da frequ\u00eancia atrav\u00e9s do Jointplot","61481ffc":"# **Simulador**","9225e63a":"## Utilizando o m\u00e9todo *fit()* do objeto \"modelo_2\" para estimar nosso modelo linear utilizando os dados de TREINO (y2_train e X2_train)","60470fd4":"![image.png](attachment:7b1624ec-0208-4d8e-b8bd-361a3ce5c3d8.png)","093f433e":"## Estat\u00edsticas descritivas","c494bdcd":"# Regres\u00e3o Linear\n<hr>\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>A an\u00e1lise de regress\u00e3o diz respeito ao estudo da depend\u00eancia de uma vari\u00e1vel (a vari\u00e1vel <b>dependente<\/b>) em rela\u00e7\u00e3o a uma ou mais vari\u00e1veis, as vari\u00e1veis explanat\u00f3rias, visando estimar e\/ou prever o valor m\u00e9dio da primeira em termos dos valores conhecidos ou fixados das segundas.<\/p>\n\n\n## scikit-learn (https:\/\/scikit-learn.org\/stable\/)\n\n<p style='font-size: 20px; line-height: 2; margin: 10px 50px; text-align: justify;'>O *scikit-learn* \u00e9 um m\u00f3dulo Python especializado em solu\u00e7\u00f5es para *machine learning*.<\/p>\n\n","33d179a3":"# **M\u00e9tricas de Regress\u00e3o**\n<hr style='border: 2px solid red;'>","e7b0bf0d":"## Utilizando os res\u00edduos ao quadrado","047acd75":"## Gerando previs\u00f5es para os dados de TESTE (X_test) utilizando o m\u00e9todo *predict()* do objeto \"modelo\"\n\nhttps:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.linear_model.LinearRegression.html#sklearn.linear_model.LinearRegression.predict","82196849":"### Leitura dos Dados ","b964d618":"## Gerando previs\u00f5es para os dados de TESTE (X_test e X2_test) utilizando o m\u00e9todo *predict()* dos objetos \"modelo\" e \"modelo_2\"","3e1c7fe0":"## Gr\u00e1fico de dispers\u00e3o entre valor estimado e res\u00edduos\n\nM\u00e9todo informal de verifica\u00e7\u00e3o da hip\u00f3tese de vari\u00e2ncia constante dos res\u00edduos (homocedasticidade)","edd4c4a4":"## Criando os datasets de treino e de teste","fe40df5b":"## Dados de entrada","879cff15":"#### Em rela\u00e7\u00e3o ao **consumo**, a vari\u00e1vel que tem uma melhor associa\u00e7\u00e3o positiva \u00e9 a **temp_max (0.6427)**. ","d6c2684c":"## Criando um DataFrame (pandas) para armazenar as vari\u00e1veis explicativas (X)","3205e3a8":"## Investigando a vari\u00e1vel *dependente* (y) segundo determinada caracter\u00edstica","96e7f524":"## Criando um simulador simples","80d3c02e":"## Criando os datasets de treino e de teste","42a5b222":"## Matriz de correla\u00e7\u00e3o\n\n#### O <b>coeficiente de correla\u00e7\u00e3o<\/b> \u00e9 uma medida de associa\u00e7\u00e3o linear entre duas vari\u00e1veis e situa-se entre <b>-1<\/b> e <b>+1<\/b> sendo que <b>-1<\/b> indica associa\u00e7\u00e3o negativa perfeita e <b>+1<\/b> indica associa\u00e7\u00e3o positiva perfeita.","1a75de0b":"# **Sobre o Dataset e o Projeto**\n<hr style='border: 2px solid red;'>\n<p style='font-size: 18px; line-height: 2; margin: 10px 50px; text-align: justify;'> A cerveja \u00e9 uma das bebidas mais democr\u00e1ticas e consumidas no mundo. N\u00e3o sem raz\u00e3o, \u00e9 perfeito para quase todas as situa\u00e7\u00f5es, desde o happy hour at\u00e9 grandes festas de casamento.<\/p>\n\n\n<p style='font-size: 18px; line-height: 2; margin: 10px 50px; text-align: justify;'> O objetivo deste treinamento ser\u00e1 estimar um modelo de <b>Machine Learning<\/b> utilizando a t\u00e9cnica de <b>Regress\u00e3o Linear<\/b> para demonstrar os impactos das vari\u00e1veis disponibilizadas neste dataset sobre o consumo de cerveja (Y). No final do projeto teremos um modelo de previs\u00e3o para o consumo m\u00e9dio de cerveja segundo os inputs de um conjunto de vari\u00e1veis (X's).<\/p>\n\n\n<p style='font-size: 18px; line-height: 2; margin: 10px 50px; text-align: justify;'>Os dados (amostra) foram coletados em S\u00e3o Paulo - Brasil, em uma \u00e1rea universit\u00e1ria, onde existem algumas festas com grupos de alunos de 18 a 28 anos de idade (m\u00e9dia).<\/p>\n\n### Dados:\n<ul style='font-size: 18px; line-height: 2; text-align: justify;'>\n    <li><b>data<\/b> - Data<\/li>\n    <li><b>temp_media<\/b> - Temperatura M\u00e9dia (\u00b0C)<\/li>\n    <li><b>temp_min<\/b> - Temperatura M\u00ednima (\u00b0C)<\/li>\n    <li><b>temp_max<\/b> - Temperatura M\u00e1xima (\u00b0C)<\/li>\n    <li><b>chuva<\/b> - Precipita\u00e7\u00e3o (mm)<\/li>\n    <li><b>fds<\/b> - Final de Semana (1 = Sim; 0 = N\u00e3o)<\/li>\n    <li><b>consumo<\/b> - Consumo de Cerveja (litros)<\/li>\n<\/ul>","0ce9b8c2":"## Obtendo o coeficiente de determina\u00e7\u00e3o (R\u00b2) do novo modelo estimado e comparando com o resultado do modelo anterior","32720210":"# **Vari\u00e1vel Dependente X Vari\u00e1veis Explicativas (jointplot)**\n<hr style='border: 2px solid red;'>","a10de9a1":"## Estimando um novo modelo com a substitui\u00e7\u00e3o da vari\u00e1vel explicativa Temperatura M\u00e1xima pela Temperatuda M\u00e9dia","8cc7bf10":"### Outra forma de plotar um gr\u00e1fico de dispers\u00e3o utilizando o lmplot","0bed26b4":"![image.png](attachment:f11071d4-0135-4e58-a470-2068a1e91ce6.png)\n\nFonte: Econometria B\u00e1sica - 5\u00aa edi\u00e7\u00e3o - Gujarati e Porter","401129fb":"## Importando *LinearRegression* e *metrics* da biblioteca *scikit-learn*\n\nhttps:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.linear_model.LinearRegression.html\n\nhttps:\/\/scikit-learn.org\/stable\/modules\/classes.html#regression-metrics","17d1ba5c":"## Instanciando a classe *LinearRegression()*","3c255cdb":"## Utilizando o m\u00e9todo *fit()* do objeto \"modelo\" para estimar nosso modelo linear utilizando os dados de TREINO (y_train e X_train)\n\nhttps:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.linear_model.LinearRegression.html#sklearn.linear_model.LinearRegression.fit","ef014630":"# **Interpreta\u00e7\u00e3o dos Coeficientes Estimados**\n<hr style='border: 2px solid red;'>","5f42e15f":"## Instanciando a classe *LinearRegression()*","97ce6e23":"### O gr\u00e1fico indica que a vari\u00e2ncia dos res\u00edduos n\u00e3o \u00e9 constante","3a875c4e":"# **Boxplot**\n<hr style='border: 2px solid red;'>","0d3317c4":"Comparando as duas vari\u00e1veis explicativas, a que obteve uma melhor performance foi a temperatura m\u00e1xima. ","cd215ffe":"### O gr\u00e1fico 0 representa o consumo de cerveja em n\u00e3o finais de semana e o gr\u00e1fico 1 representa o consumo em finais de semana. O consumo \u00e9 maior em finais de semana.\n### Notamos tamb\u00e9m que existem alguns outliers no gr\u00e1fico 0, esses outliers podem ser explicados por feriados que ocorreram durante a semana.","21885015":"## Importando o *train_test_split* da biblioteca *scikit-learn*","bcb2d45f":"## Criando uma Series (pandas) para armazenar o Consumo de Cerveja (y)","67fe6cc4":"# **Comparando Modelos**\n<hr style='border: 2px solid red;'>","4bb3bb53":"## Confirmando a ordem das vari\u00e1veis explicativas no DataFrame"}}