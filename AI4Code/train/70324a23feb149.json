{"cell_type":{"3f2981b4":"code","2a18b66b":"code","ab0f114f":"code","596fae3a":"code","f51b649d":"code","612c7bb2":"code","1c9906fa":"code","92731870":"code","4eafcf4e":"code","8b350b88":"code","e3378c82":"markdown","ed1b2b91":"markdown","8e0cae60":"markdown","211aba04":"markdown","674ed4b3":"markdown","65beed57":"markdown","a0547f16":"markdown","1ddddabf":"markdown","b1094efb":"markdown","32e29bc2":"markdown","65f102be":"markdown","29c54d70":"markdown","29b809ea":"markdown","8f02ef10":"markdown","d86befa4":"markdown","e0e602d7":"markdown"},"source":{"3f2981b4":"import os\nimport pandas as pd\nimport seaborn as sns \nimport matplotlib.pyplot as plt \nfrom sklearn.linear_model import LinearRegression \nfrom sklearn.metrics import mean_squared_error\nfrom math import sqrt\nfrom scipy.stats import ttest_ind ,linregress , ttest_rel\nimport statsmodels.api as sm\n# import statsmodels.regression.linear_model as sm\nfrom scipy.stats import probplot\nfrom scipy.stats import zscore\nimport numpy as np\nimport scipy\nfrom statsmodels.graphics.regressionplots import influence_plot","2a18b66b":"df = pd.read_csv('\/kaggle\/input\/Machine Learning (Codes and Data Files)\/Data\/country.csv')[['Corruption_Index','Gini_Index']]","ab0f114f":"print('Creating Linear Regression Model ... ')\nlr = LinearRegression()\nlr.fit(df['Gini_Index'].values.reshape(-1, 1) , df['Corruption_Index'].values)\nprint('Fitting Done on Model ... ')\nr2_score = lr.score(df['Gini_Index'].values.reshape(-1, 1) , df['Corruption_Index'])\nprint('R2 Score is ',r2_score)\nprint('Since the Model R2 Score is ',r2_score , ', the model explains ',round(r2_score*100,2) , ' % of the variation in GI')\nprint('Coefficients for the linear regression problem is ',lr.coef_)\nprint('Intersect Value is ',lr.intercept_)\ny_pred = lr.predict(df['Gini_Index'].values.reshape(-1, 1))\nrms = sqrt(mean_squared_error(df['Corruption_Index'].values.reshape(-1,1), y_pred))\nprint('Root Mean Squared Is ',rms)\n","596fae3a":"print('The p-Value is ',linregress(df['Gini_Index'],df['Corruption_Index'])[3])","f51b649d":"linreg = linregress(df['Gini_Index'],df['Corruption_Index'])\nslope = linreg[0]\nse = linreg[4]\nprint('The Confidence Intervel for Regression Coefficient b1 is ')\nprint('Upper Bound is ' ,slope - se* scipy.stats.t.ppf(0.05\/2.,18))\nprint('Lower Bound is ' ,slope + se* scipy.stats.t.ppf(0.05\/2.,18))","612c7bb2":"sm1 = sm.OLS(df['Corruption_Index'], df['Gini_Index'] ).fit()","1c9906fa":"corruption_resid = sm1.resid\nprobplot(corruption_resid, plot=plt)\nprint('\\n')","92731870":"def get_standardized_values( vals ):\n        return (vals - vals.mean())\/vals.std()\nplt.scatter( get_standardized_values( sm1.fittedvalues ),get_standardized_values(corruption_resid))","4eafcf4e":"zscore(df['Gini_Index'].values)","8b350b88":"corr_influence = sm1.get_influence()\n(c, p) = corr_influence.cooks_distance\nplt.stem(np.arange( 20),np.round( c, 3 ),markerfmt=',')","e3378c82":"* As It is Shown p-Value is far lower than alpha = **0.1 **\n* P-Value = **0.0393** < Alpha = **0.1**\n* Hence we are Failed to Reject H0 Hypothesis\n","ed1b2b91":"# Necessary Installs and Imports","8e0cae60":"#### Since the residuals are random and have no funnel shape, which means the residuals have constant variance","211aba04":"#### Therefore the Confidence Interval is **-0.0704 \u2264 -1.29519 \u2264 -2.5199**\n* Since the Confidence Intervel cover 95% of Corruption Index , It is Statistically Important as it Gives rough about  Standard Deviation in  predication Column","674ed4b3":"# Question 5","65beed57":"# Question 2\nModel explains 21.5212% of the variation in Corruption Index.\n\nThe Root Mean Square Value and R-Squared Value are:","a0547f16":"* The R-Square Value is  **0.215212** ( Also Shown Above ) , \n* Therefore the model explains **21.5212%** of the variation in Corruption Index.\n* The Root Mean Square Error is **17.801**\n\n#### RMSE\nThe root-mean-squared error (RMSE) is a measure of how well your model performed. It does this by measuring difference between predicted values and the actual values.","1ddddabf":"# Question 4","b1094efb":"Since the dots are close to the diagonal line, we can conclude that the residuals follow an approximate normal distribution","32e29bc2":"# Question 1 : ","65f102be":"### Residual Value","29c54d70":"#### Since None of Above Value Exceed 1 , None of them are outliers.","29b809ea":"### Cook\u2019s Distance\n* Cook\u2019s distance, often denoted Di, is used in Regression Analysis to identify influential data points that may negatively affect your regression model.\n* Value is Considered outliers if its Value Exceed 1","8f02ef10":"# Question 6\n### Z-Score \n* Z-score is the standardized distance of an observation from its mean value.\n* Any observation with a Z-score of more than 3 may be flagged as an outlier.","d86befa4":"### Test of Homoscedasticity","e0e602d7":"# Question 3\nThe regression co-efficient (b1) captures the existence of a linear relationship between the outcome variable and the feature. If b1 = 0, we can conclude that there is no statistically significant linear relationship"}}