{"cell_type":{"a1e233b2":"code","e3db95b1":"code","48a42935":"code","c2fbc170":"code","05fb6b2f":"code","d14dc91a":"code","fae254d2":"code","f87e01f8":"code","a4c5c3d6":"code","faafefa5":"code","9ef00c80":"markdown","4356071d":"markdown","d06fbb94":"markdown","c85edf41":"markdown","d93265de":"markdown","cb040795":"markdown","09786af6":"markdown","accadd82":"markdown","37c5c714":"markdown","c8d12d47":"markdown","f0593a29":"markdown"},"source":{"a1e233b2":"\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\ndf=pd.read_csv(\"\/kaggle\/input\/covid-world-vaccination-progress\/country_vaccinations.csv\")\n# df.head()\ndf.info()\ndf.memory_usage().sum()\/pow(2,10)\n","e3db95b1":"print( df.shape)\noriginal_rows = df.shape[0]\n# df[pd.isnull(df.daily_vaccinations)]\ndf = df.dropna(subset=['daily_vaccinations'])\ndeleted_rows =  original_rows - df.shape[0]\nprint( \"deleted \" + str(deleted_rows\/original_rows*100)+\"% data\" )","48a42935":"def flat_unique_elements(array_of_array):\n    vaccine_list = []\n    for childArray in array_of_array:\n        for child in childArray.split(\",\"):\n            if child.strip() not in vaccine_list:\n                vaccine_list.append(child.strip())\n    return vaccine_list\n\nvaccines = flat_unique_elements(df['vaccines'].unique())\n\nprint(\"list of all vaccines  -\\n\", vaccines)","c2fbc170":"vaccine_country_list = pd.DataFrame(columns = ['vaccines','country'])\ndf_vaccine_country = df[[\"country\", \"vaccines\"]].drop_duplicates()\n# for vaccine in vaccines:\nfor vaccine in vaccines:\n    c = df_vaccine_country[df_vaccine_country.vaccines.str.contains(vaccine)]\n    d = df_vaccine_country[df_vaccine_country.vaccines.map(lambda p : vaccine in p)]\n    a = flat_unique_elements(c.country)\n    s = \",\".join(x for x in a)\n    vaccine_country_list = vaccine_country_list.append({'vaccines': vaccine, 'country': s}, ignore_index=True)\n\nprint(vaccine_country_list)","05fb6b2f":"country_vaccines = df[['country','vaccines']].drop_duplicates()\nall_country = df['country'].unique()\n\ncountry_vaccine = pd.DataFrame(columns = ['country','vaccines'])\n\nif(all_country.size==country_vaccines.shape[0]):\n    country_vaccine = country_vaccines\nelse:\n    for country in all_country:\n        vacciness= country_vaccines[ country_vaccines.country == country ]\n        a= \",\".join( str(x) for x in flat_unique_elements(vacciness.vaccines) )\n        country_vaccine = country_vaccine.append({'country': country , 'vaccines': str(a) }, ignore_index=True)\n\nprint(country_vaccine)","d14dc91a":"vaccine_country_list","fae254d2":"most_vaccinated_country = df.loc[df.total_vaccinations.idxmax()]","f87e01f8":"most_vaccinated_country","a4c5c3d6":"\nrequired_columns = ['country', 'date', 'total_vaccinations', 'people_vaccinated', 'people_fully_vaccinated', 'vaccines']\n\nindian_vaccine_data= df.loc[df['country']==\"India\",required_columns]\nprint(indian_vaccine_data.head())\n# indian_vaccine_data.plot( indian_vaccine_data['date'], indian_vaccine_data['total_vaccinations'])\nindian_vaccine_data.plot()","faafefa5":"country_days_of_vaccination =df.country.where(df.people_vaccinated>0).value_counts()\ncountry_days_of_vaccination.plot()","9ef00c80":"## Find out which vaccines are used by a country\n\n    country     vaccines\n\n    country 1   vaccine 1, 2, 3\n    country 1   vaccine 1, 2, 3","4356071d":"##  What vaccines are used and in which countries?","d06fbb94":"# Task 1","c85edf41":"Clean data\n* remove rows where `daily_vaccinations` are NaN","d93265de":"## Plot indias vaccine progress","cb040795":"# Visualization","09786af6":"\n## Q2. What country is vaccinated more people?","accadd82":"# Data preparation and summary","37c5c714":"## List of vaccines and countries who have started its vaccination\n\n     vaccine    country\n     \n     vaccine 1  country 1, 3\n     vaccine 2  country 1, 4","c8d12d47":"##  Number of days of vaccination campaingn","f0593a29":"## List of vaccines"}}