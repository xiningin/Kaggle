{"cell_type":{"ce166c10":"code","322785fa":"code","8067cebe":"code","23434b17":"code","8c36091e":"code","6066a35d":"code","d68418bd":"code","6ba8a46c":"code","34e1b3e0":"code","4f555079":"code","6730b700":"code","716ae96f":"code","ef9ef776":"markdown","b341ca77":"markdown"},"source":{"ce166c10":"import gc\nfrom tqdm import tqdm\nimport numpy as np\nimport pandas as pd\nfrom pylab import rcParams\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom scipy.stats import probplot\n\nimport datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nfrom fbprophet import Prophet\n\n%matplotlib inline\nimport os\nimport warnings\nwarnings.filterwarnings(\"ignore\")","322785fa":"data0 = pd.read_csv(\"..\/input\/all-crypto-currencies\/crypto-markets.csv\")\ndata0[-5:]","8067cebe":"symbols=data0['symbol'].unique()\nprint(symbols[0:20])","23434b17":"data1=data0[data0['symbol']=='BTC']\ndata1['date']=pd.to_datetime(data1['date'])\ndata2=data1[['date','close']]\ndata2","8c36091e":"item1=data2\n\nitem1.columns = ['ds','y']\nitem1.y = item1.y.astype('float')\nitem1.ds = item1.ds.astype('datetime64')\n\nrcParams['figure.figsize'] = 20,5\nplt.plot(item1.ds, item1.y)","6066a35d":"ph = Prophet()\nph.fit(item1)\nforecast1=ph.predict(item1)\nfigure = ph.plot(forecast1)\nfigure.show()","d68418bd":"from datetime import timedelta\nstart0 = dt.datetime.strptime('2018-11-30','%Y-%m-%d').date()\nend0   = dt.datetime.strptime('2022-12-31','%Y-%m-%d').date()\nprint((end0-start0).days)","6ba8a46c":"def daterange(start,end):\n    for i in range((end-start).days):\n        return start+timedelta(i)  ","34e1b3e0":"dates0=[]\nfor i in range((end0-start0).days):\n    dates0+=[(start0+timedelta(i)).strftime('%Y-%m-%d') ]\nprint(dates0[0:10])","4f555079":"dates0_df=pd.DataFrame(dates0)\ndates0_df.columns=['ds']\ndates0_df","6730b700":"ph = Prophet()\nph.fit(item1)\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","716ae96f":"for item in symbols[0:3]:\n    data1=data0[data0['symbol']==item]\n    data1['date']=pd.to_datetime(data1['date'])\n    item1=data1[['date','close']]\n\n    item1.columns = ['ds','y']\n    item1.y = item1.y.astype('float')\n    item1.ds = item1.ds.astype('datetime64')\n\n    ph = Prophet()\n    ph.fit(item1)\n    forecast3=ph.predict(dates0_df)\n    figure = ph.plot(forecast3)\n    plt.title(item)\n    figure.show()","ef9ef776":"# fit past and predict past","b341ca77":"# fit past and predict future"}}