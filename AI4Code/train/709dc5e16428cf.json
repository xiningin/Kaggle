{"cell_type":{"da0c4554":"code","73a3b05c":"code","cc8bd4c0":"code","60180270":"code","8a2b32b3":"code","91753c1f":"code","99705866":"code","d6c4beb4":"code","346b4859":"code","c30e09af":"code","67a9590c":"code","01548ba6":"code","92c3f958":"code","2e3a3be8":"code","93f63708":"code","214553b2":"code","aaf43d94":"code","33cf4859":"code","190cd995":"markdown","b6be6c87":"markdown"},"source":{"da0c4554":"import numpy as np\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\nimport matplotlib\nimport seaborn as sns\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport proof_of_concept_helpers\nfrom proof_of_concept_helpers import create_pipe_data\nfrom proof_of_concept_helpers import poly_regression\n\n# Exploring\nimport scipy.stats as stats\n\n# Modeling\nimport statsmodels.api as sm\n\nfrom scipy.stats import pearsonr\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error, r2_score, mean_absolute_error, median_absolute_error","73a3b05c":"pipe_1 = create_pipe_data(104)","cc8bd4c0":"pipe_1.head()","60180270":"pipe_1.tail()","8a2b32b3":"plt.scatter(pipe_1.days, pipe_1.percent_flow)","91753c1f":"poly_regression(pipe_1, .8)","99705866":"pipe_2 = create_pipe_data(76)","d6c4beb4":"plt.scatter(pipe_2.days, pipe_2.percent_flow)","346b4859":"poly_regression(pipe_2, .8)","c30e09af":"pipe_3 = create_pipe_data(142)","67a9590c":"plt.scatter(pipe_3.days, pipe_3.percent_flow)","01548ba6":"poly_regression(pipe_3, .8)","92c3f958":"pipe_4 = create_pipe_data(211)","2e3a3be8":"plt.scatter(pipe_4.days, pipe_4.percent_flow)","93f63708":"poly_regression(pipe_4, .8)","214553b2":"pipe_5 = create_pipe_data(21)","aaf43d94":"plt.scatter(pipe_5.days, pipe_5.percent_flow)","33cf4859":"poly_regression(pipe_5, .8)","190cd995":"### Let's first create a few dataframes.  Each will be different sizes to gauge how well the models can predict.","b6be6c87":"### This is an attempt to create a model, using synthetic data, to show how the flow of waste through a pipe can be monitored to predict when it will clog.  We will only use 2 features:\n\n### Our X-axis will be the percentage of the amount of waste that can go through the pipe.  Each pipe will start at 100%, let's imagine that this particular size pipe has a maximum of 50 gallons per minute that can flow through it.  As we more forward in time, let's say 200 days, the pipe may only be at 25 gallons per minute, or 50%.  As a precaution, we'd like to focus on pipes that go under 20% of maximum allowable flow so these can be cleaned before they clog and cause an SSO.\n\n### Our Y-axis, and y-variable, will be the number of days.  We will predict the number of days that will occur before a particular pipe is expected to dip below 20% of its maximum flow."}}