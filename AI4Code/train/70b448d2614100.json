{"cell_type":{"e7fe6997":"code","f2e7929e":"code","0027b594":"code","d2f7067b":"code","7f4e57f7":"code","3cee7d0a":"code","e5bab0a0":"code","775dca2d":"code","1b383e46":"code","60424587":"code","d0459d88":"code","04724486":"code","e2a7b6ce":"code","c634c896":"code","60b4774c":"code","2e59ef8e":"code","324a3e4d":"code","9f23656e":"code","11a15a3d":"code","2b3043c7":"code","97d50334":"code","970ff708":"code","285ab904":"code","e4e06f30":"code","7b42a39c":"code","7d2f1cbb":"code","8d08ff76":"code","ab77b18a":"code","c3c13cef":"code","09035f53":"code","9d94c766":"code","0b5b89bd":"code","5e8f7c58":"code","3bfd1210":"code","d52b6b69":"code","4f5392e6":"code","deaef20d":"code","76a86e8b":"code","a87e4751":"code","3cde3937":"code","f1150c9c":"code","450af965":"code","1a38d3b6":"code","9709b897":"code","1af043da":"code","b058131b":"code","58980dbc":"code","8babc67b":"code","d2cc0623":"markdown","c2336087":"markdown","b163a67a":"markdown","e5fb8c06":"markdown","f89ed9d3":"markdown","aa4e4b69":"markdown","d0982b33":"markdown","080770d4":"markdown","866036fc":"markdown","69cebfc2":"markdown","ec2919f4":"markdown","605446c5":"markdown","f1fc549e":"markdown","d28cedef":"markdown","dd54ee1f":"markdown","b34d5d5d":"markdown","61e4b3cf":"markdown","c5852220":"markdown","0073aa8f":"markdown","44cb2417":"markdown","a54dee5a":"markdown","50657a76":"markdown","4016d3dc":"markdown","67eaa395":"markdown","31f453a4":"markdown","ce0a4e66":"markdown","8dec40fd":"markdown","b3a81dd4":"markdown","274350ef":"markdown","51c45a48":"markdown","7a6ef1a6":"markdown","971477bd":"markdown","573a5617":"markdown","eff0ef87":"markdown","70ae4dbe":"markdown","a59b50af":"markdown","e30829fd":"markdown","a767b8ca":"markdown","e545946e":"markdown","a78c1804":"markdown","58961bbb":"markdown","bf400479":"markdown","a824217a":"markdown","f5530e4f":"markdown","7fcc4f67":"markdown"},"source":{"e7fe6997":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nimport plotly.express as px\nwarnings.filterwarnings(\"ignore\")\nplt.style.use('ggplot')","f2e7929e":"df = pd.read_csv('..\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')","0027b594":"df.head()","d2f7067b":"df.salary.max()","7f4e57f7":"df[df['salary'] == 940000.0]","3cee7d0a":"# Let's replace 'Workex' , 'status' columns with integers before performing any visualizations i am planning to keep gender same as of now for visualizations.\ndf['status'] = df['status'].apply(lambda x:1 if x == 'Placed' else 0)\ndf['workex'] = df['workex'].apply(lambda x:1 if x == 'Yes' else 0)","e5bab0a0":"sns.heatmap(df.isnull(),cmap='Blues',cbar=False, yticklabels=False)","775dca2d":"placed_df = df[df['status']==1]\nnot_placed = df[df['status']==0]","1b383e46":"df.hist(bins=30,color='g',figsize=(14,10),ec=\"black\")","60424587":"var = 'salary'\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 8)\nplt.xticks(rotation=90);\nsns.countplot(x = var,palette=\"cool\", data = placed_df)\nax.set_xlabel('Salary', fontsize=16)\nax.set_ylabel('Count', fontsize=16)\nax.set_title('Salary Count Distribution', fontsize=15)\nsns.despine()","d0459d88":"plt.figure(figsize=(12, 8))\nsns.set(font_scale=1)\ncorrelations = df.corr()\nsns.heatmap(correlations,cmap=\"YlGnBu\",linewidths=.5, annot=True)\n\nplt.xticks(fontsize=14, rotation = 90)\nplt.yticks(fontsize=14, rotation = 0)\nplt.title('Correlations between numerical values of the dataset', fontsize=20)\nplt.show()","04724486":"df_to_plot = df[['gender','ssc_b','hsc_b', 'hsc_s', 'degree_t', 'specialisation','workex']]\nfor i in df_to_plot.columns:\n    plt.figure(figsize=(18,8))\n    plt.xticks(fontsize=12)\n    plt.yticks(fontsize=12)\n    plt.xlabel(xlabel=i, fontsize=16)\n    plt.ylabel(ylabel='count', fontsize=16)\n    sns.countplot(x = i, hue = 'status', data = df, palette=\"vlag\")","e2a7b6ce":"plt.figure(figsize = (14,6))\nsns.kdeplot(not_placed['degree_p'], label = 'Students not placed', color = 'r', shade = True)\nsns.kdeplot(placed_df['degree_p'],label='Students who got placed',color = 'b',shade=True)\nplt.xlabel('Percentage obtained in degree')","c634c896":"plt.figure(figsize = (14,6))\nsns.kdeplot(not_placed['ssc_p'], label = 'Students not placed', color = 'r', shade = True)\nsns.kdeplot(placed_df['ssc_p'],label='Students who got placed',color = 'b',shade=True)\nplt.xlabel('Marks obtained in ssc_b')","60b4774c":"plt.figure(figsize = (14,6))\nsns.kdeplot(not_placed['hsc_p'], label = 'Students not placed', color = 'r', shade = True)\nsns.kdeplot(placed_df['hsc_p'],label='Students who got placed',color = 'b',shade=True)\nplt.xlabel('Marks obtained in hsc_p')","2e59ef8e":"plt.figure(figsize = (14,6))\nsns.kdeplot(not_placed['etest_p'], label = 'Students not placed', color = 'r', shade = True)\nsns.kdeplot(placed_df['etest_p'],label='Students who got placed',color = 'b',shade=True)\nplt.xlabel('Marks obtained in etest')","324a3e4d":"percentage_corr = df[['ssc_p','hsc_p','degree_p','mba_p','etest_p']]\npercentage_corr_df = percentage_corr.corr()\nsns.heatmap(percentage_corr_df,cmap=\"Blues\",linewidths=.5, annot=True)","9f23656e":"plt.figure(figsize=(14,6))\nax = sns.boxplot(x=\"specialisation\", y=\"mba_p\", hue=\"gender\",\n                 data=df, palette=\"Set3\")","11a15a3d":"plt.figure(figsize=(14,4))\nsns.boxplot(x='salary',y='gender',data=placed_df)","2b3043c7":"plt.figure(figsize=(14,4))\nsns.boxplot(x='salary',y='specialisation',data=placed_df)","97d50334":"plt.figure(figsize=(14,4))\nsns.boxplot(x='salary',y='degree_t',data=placed_df)","970ff708":"fig = px.scatter(placed_df,x='mba_p', y='salary')\nfig.update_layout(title='Salary v\/s Percentage in MBA',xaxis_title=\"MBA_Per\",yaxis_title=\"Salary\")\nfig.show()","285ab904":"fig = px.scatter(placed_df,x='etest_p', y='salary')\nfig.update_layout(title='Salary v\/s etest_p',xaxis_title=\"etest_p\",yaxis_title=\"Salary\")\nfig.show()","e4e06f30":"grdsp = df.groupby([\"degree_t\"])[[\"degree_p\"]].mean().reset_index()\n\nfig = px.pie(grdsp,\n             values=\"degree_p\",\n             names=\"degree_t\",\n             template=\"seaborn\")\nfig.update_traces(rotation=45, pull=0.01, textinfo=\"percent+label\")\nfig.show()","7b42a39c":"grdsp = df.groupby([\"specialisation\"])[[\"mba_p\"]].mean().reset_index()\n\nfig = px.pie(grdsp,\n             values=\"mba_p\",\n             names=\"specialisation\",\n             template=\"seaborn\")\nfig.update_traces(rotation=45, pull=0.01, textinfo=\"percent+label\")\nfig.show()","7d2f1cbb":"grdsp = df.groupby([\"hsc_s\"])[[\"hsc_p\"]].mean().reset_index()\n\nfig = px.pie(grdsp,\n             values=\"hsc_p\",\n             names=\"hsc_s\",\n             template=\"seaborn\")\nfig.update_traces(rotation=45, pull=0.01, textinfo=\"percent+label\")\nfig.show()","8d08ff76":"df_ML_status = df.drop(['sl_no'],axis=1)","ab77b18a":"df_ML_status['gender'] = df_ML_status['gender'].apply(lambda x:1 if x == 'M' else 0)","c3c13cef":"df_ML_status.head()","09035f53":"df_ML_status = pd.get_dummies(df_ML_status, drop_first=True)","9d94c766":"df_ML_status.head()","0b5b89bd":"plt.figure(figsize=(15,15))\ncmap = sns.diverging_palette(220, 10, as_cmap=True)\nsns.heatmap(df_ML_status.corr(),vmax=.3, center=0, cmap=cmap,annot=True,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","5e8f7c58":"df_ML_status = df_ML_status.drop(['salary'],axis=1)","3bfd1210":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split","d52b6b69":"df_ML_status = df_ML_status.drop('status',axis=1)\ny = df['status']","4f5392e6":"X_train,X_test,y_train,y_test=train_test_split(df_ML_status,y,test_size=0.2,random_state=42)","deaef20d":"X_train.shape,X_test.shape","76a86e8b":"LR_model=LogisticRegression()\nLR_model.fit(X_train,y_train)\npredict=LR_model.predict(X_test)","a87e4751":"from sklearn.metrics import confusion_matrix,classification_report,accuracy_score","3cde3937":"print(accuracy_score(predict,y_test))","f1150c9c":"from sklearn.ensemble import RandomForestClassifier\nrf_model=RandomForestClassifier()\nrf_model.fit(X_train,y_train)\npredict_rf = rf_model.predict(X_test)","450af965":"print(accuracy_score(predict_rf,y_test))","1a38d3b6":"import xgboost\nclassifier=xgboost.XGBClassifier()\nclassifier.fit(X_train,y_train)\npredict_xg = classifier.predict(X_test)","9709b897":"print(accuracy_score(predict_xg,y_test))","1af043da":"from sklearn.model_selection import RandomizedSearchCV\nparam_grid_LR = {'C': [0.001, 0.01, 0.1, 1, 10, 100, 1000],'class_weight':['balanced', None],'max_iter':[100,200,300,400,1000,1500] }\nrandom_search_LR=RandomizedSearchCV(LR_model,param_distributions=param_grid_LR\n                                    ,n_iter=10,scoring='roc_auc',n_jobs=-1,cv=5,verbose=3)","b058131b":"random_search_LR.fit(df_ML_status,y)","58980dbc":"random_search_LR.best_params_","8babc67b":"random_search_LR.best_score_","d2cc0623":"#### Me => So Gaurav look below, it seems your branch 'Mkt&Hr' is lagging behind in terms of salaries.\n#### Gaurav => Maybe in this college there are more girls in Mkt&Hr than boys. And we saw girls are paid lesser.\n#### Me => Makes sense.","c2336087":"#### Me => You see Gaurav, there are so many missing values for salary.\n#### Gaurav => Then what should we do? Should we drop them?\n#### Me => No! We need to apply what's called as \"data intution\".\n#### Gaurav => Whats that now?\n#### Me => We need to guess if these values are missing becuase it wasn't recorded or becuase it dosen't exist? What do you think looking at the status column?\n#### Gaurav => Oh yeah! The people not placed will not have salaries. That's simple to guess. \n#### Me => Yes!!!! So now lets make 2 different dataframes one with all placed students and other with non placed students and analyse them.","b163a67a":"![image.png](attachment:image.png)","e5fb8c06":"#### Gaurav => I also would like to see if and how is the salary dependent on Percentage in MBA\n#### Me => Lets use a scatter plot for that.","f89ed9d3":"#### Me => What do you see now.\n#### Gaurav => So the percentage of students in all stages has good gaussian distribution.  But I want to see what is the average salary that maximum placed students have got. Show me the salary count distribution.\n#### Me = > Ok boss!","aa4e4b69":"#### Gaurav => Thats great so far. Beautiful visuals. Can you show me the distribution of students over different fields?\n#### Me => Why not? Lets keep that simple with pie charts.\n#### Gaurav => Yes! For me its easier to understand pie graphs.\n#### Me => Yes. That are simple but very informative","d0982b33":"#### Me => As you see once again, the students with better hsc percentage perforemed better.\n#### Gaurav => Now show me for etest score.\n#### Me => Why do you need to see all this. Its irritating me as I said you already percentage are affecting placements.\n#### Gaurav => Show me etest please as I have not given that still. Maybe I can perform better in that and get placed.\n#### Me => Ok got you.","080770d4":"#### Gaurav => Naa!! I bad accuracy. \n#### Me => Let's use Xgboost model at last.","866036fc":"##### Story is that, one of my roommate \"Gaurav\" who is worried too much about job placements. One day he came into my room and asked me about some stat and figure about job placements after pursuing MBA, I said bro I dont know much about MBA placements sorry for that but I can help you another way, that I know a good data sate which have much some info about placements in an MBA college.\n##### So i can show you this data set and you ask me whatever you want to know I will try to find out. ok?\n##### He was very happy on my offer and he just starts many question at once. I said wait bro I need to go and import all my required Data science libraries. Then I need to load the data and later do all the analysis. Be patient.\n","69cebfc2":"#### Gaurav => No way!! Do not waste more time. We should go ahead with Logistic Regression.\n#### Me => You are correct.\n#### Gaurav => That's done?\n#### Me => No. We can do some fine tuning in your favourite Logistic Regression by using RandomizedSearchCV.","ec2919f4":"#### Me => Now let's do dummies of or data.\n#### Gaurav => Whats that?\n#### Me => Nothing, just converting out categorical values to integeres as ML models takes no categorical values. ;)","605446c5":"#### Me => Checks the correlations between the numerical values of the data.\n#### Gaurav => Why are you doing this. I do not want to know the correlations.\n#### Me => But let me check for myself to understand the data more clearly.\n#### Gaurav => Whatever!!!","f1fc549e":"#### Me => So Gaurav you see now by using RandomizedSearchCV we got better accuracy of almost 94%.\n#### Gaurav => Yes that's so cool. \n#### Me => Thats just a trailer, if we have a big dataset then we can actually create some real life Machine learning applications which ca help people.\n#### Gaurav => When are you teaching me all this. I am courious.\n#### Me => We can start next week. Bye for now. ;)\n#### Gaurav => Cool I gotto go now, See you Gaurav","d28cedef":"#### Me => As you see, the students with better degree percentage perforemed better.\n#### Gaurav => Now show me for ssc percentage","dd54ee1f":"#### Me => Ok! Now lets check the correlations with our new features also.\n#### Gaurav => Yeah that's important. But can you make the visual more colorful please. \n#### Me => Yeah sure!!","b34d5d5d":"#### Me => Now status is not of any use to predict salaries","61e4b3cf":"#### Me => Now lets fit our data in logistic regression and predict it.","c5852220":"#### Me => As you see Gaurav Guys performed better when it comes to placements.\n#### Gaurav => That's cool.\n#### Me => Also if you see the commerce or management students who took specialisation in Marketing&Finance performed better in placements.\n#### Again poor Gaurav who is an electroics engineer now pursuing MBA in Mkt&HR remained silent. He looks more worried now.","0073aa8f":"#### Me => Before choosing my ML model I always look at the pairplot of the data to understand which model I should choose.\n#### Gaurav => So how do you decide.\n#### Me => Look below. You see that the data seems well seperated in most of the cases and can be seperated by a line. So I guess simple Logistic Regression would do.\n#### Gaurav => I really like the way you are doing it. \n#### Me  => Yes. Logistic Regression saves time. ;)","44cb2417":"#### Me => Ok Gaurav, before I start analysis I need to check if our data is proper.\n#### Gaurav => What does that mean? \n#### Me => I need to check if there are any missing values in our data or not. Because its difficult to analyse if we have missing values.\n#### Gaurav => Ok!! Do it.##### ","a54dee5a":"#### Me => Ok! Now lets start analyses by looking at the histograms.\n#### Gaurav => Oh yeah..","50657a76":"#### Me => Changes some categorical features to integers.\n#### Gaurav => Is it necessary?\n#### Me => Yes, it will help us to do better analysis the data and makes data more simple.","4016d3dc":"> The objective of this notebook is to analyse the Campus Recruitment data and predict the placements. I have presented the notebook in a form of a beautiful story to make things more clear. The data is straight forward and simple. Its a very small but real life data. A big upvote to the uploader. So let me start my stroy. Please follow on and upvote only after reading the notebook. :)","67eaa395":"#### Gaurav =>  Wow! We got an accuracy of 88% that impressive\n#### Me => Haha! Calm down. Maybe Random forest can do better?\n#### Gaurav => Lets check","31f453a4":"#### Me => Do you see above there is a very good correlations in Percentages of students at all stages of education. That means these students have been doing well in studies all their life so far.\n#### Gaurav => Yeah!! Motherfucker so called scholars. \n#### Me => hahah!!!","ce0a4e66":"#### Me => As you see again, the students with better ssc percentage perforemed better.\n#### Gaurav => Now show me for hsc percentage also","8dec40fd":"#### Me => Lets split the data of placed students.","b3a81dd4":"#### Gaurav => I want to look at the best salary awarded and I want to look what is the profile of this person who got this high salary.\n#### Me => Yes Gaurav! Here you go.","274350ef":"#### Me => Now lets import Logistic regression and train test split.\n#### Gaurav => This sklearn seems very powerful.\n#### Me => I will tell you about it later in details. ;)","51c45a48":"### Step 1: Importing all libraries and dataset, looking at the data for first time.","7a6ef1a6":"## Note:\n\n#### You already find out that it was just a imaginary story. But truly Gaurav is a real person, he was my room mate also and he was always worried about his placements. I just imagin this story and made it with a little information. Hope you like it.\n\n## If you like this note book please give me an up vote\n\n#### Also find my other work here: https:\/\/www.kaggle.com\/vikasbhadoria\/notebooks\n\n## Thank You ..............","971477bd":"![image.png](attachment:image.png)","573a5617":"#### Me => See, here is your MBA college placements data.","eff0ef87":"## Data is a precious thing and will last longer than the systems themselves","70ae4dbe":"#### Gaurav => And what about relations between Salary and etest score?\n#### Me => You are very demanding.","a59b50af":"#### Gaurav => Can you show me some more correlations but I want more simple visualizations.\n#### Me => Oh! What's more simple than Boxplot. ;)","e30829fd":"#### Me => Etest score do not matter much actually.\n#### Gaurav => OK!\n#### Me => Now I will show you something with heatmaps.","a767b8ca":"#### Me => So you see below. Females has scored more percentage in MBA exams and girls in Mft & finance are really clever.\n#### Gaurav => Yeah!! Girls always score more than boys. We boys are not so clever.","e545946e":"#### Me => You see below our converted data. It has not categorical values. \n#### Gaurav => It's amazing how with one line of code you can do all this.\n#### Me => Thanks to powerfull python libraries like Pandas. ;)","a78c1804":"#### Me => So for our ML model we need a target feature. Can you guess whats that?\n#### Gaurav => Yes. Salary.\n#### Me => Sure. We should drop that from our main dataframe and use it later as labels for our supervised learning.\n#### Gaurav => Makes sense.","58961bbb":"#### Me => Just cheer up bro. Take this beer. Tell me what else do you wish to know\n#### Gaurav => Can you compare the placed students with non placed students on various categories?\n#### Me => Yeah sure! Based on which features??\n#### Gaurav => Lets start with percentage obtained in degree.","bf400479":"#### Me => Now you see Gaurav why I did this. Can you see how the ssc, hsc & degree percentage are affecting your placements!!\n>  Poor Gaurav with low percentage says nothing. \n#### Me => Don't be upset. Let analyse more. Maybe there are more things for you to look.\n#### Gaurav => Yes. Show me if you ssc board, hsc board or the field that you choose. Does that affect placements? How about the gender?\n#### Me => Good idea. Lets check it.","a824217a":"#### Me => Good new Gaurav!! The technology people are paid more. Look below.\n#### Gaurav => Wow. Can I have one more beer. \n#### Me => Yeah sure.","f5530e4f":"#### Me => Yes girls are more clever. But look below Avg salaries of boys are higher than girls. ;)\n#### Gaurav => That's gender inequality.\n#### Me => Says nothing. ","7fcc4f67":"#### Me => Ok Gaurav now enough of analyses. Now lets use some machine learning skills.\n#### Gaurav => For what? And how will we use it?\n#### Me => I will use ML to predict if based on given parameters the student can be placed or not. So we can built an application out of this in future so students can evaluate their changes of getting placed.\n#### Gaurav => Woow!! That's awesome. Lets start\n#### Me => Yes. First let's drop some unnessary features. Convert gender column to integer and see our new data for ML."}}