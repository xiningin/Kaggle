{"cell_type":{"e4cf3ede":"code","f811a495":"code","b705e5c9":"code","ce1b426e":"code","2e197001":"code","7ffd77c4":"code","f4f2c0c0":"code","5aaee7c1":"code","3318da4d":"code","e6634cd7":"code","32172ac0":"code","325bd2f5":"code","d5876619":"code","9a52f107":"code","21c2576a":"code","89ae9169":"markdown","f34a9d82":"markdown","8e3db4fc":"markdown","57110a8d":"markdown","2f29c8ea":"markdown","b5888dc0":"markdown","345be580":"markdown","884a8d69":"markdown","75f64162":"markdown","73660b38":"markdown"},"source":{"e4cf3ede":"import numpy as np # number processing \nimport pandas as pd # data processing \nimport matplotlib.pyplot as plt # data visualization\nimport seaborn as sns # data visualization\nimport os # directory access\n\n# return list of files in directory 'input'\nprint(os.listdir('..\/input')) \n# load dataset\ndf = pd.read_csv('..\/input\/books.csv', error_bad_lines=False) ","f811a495":"# return number of rows and columns\ndf.shape ","b705e5c9":"# check for missing values\ndf.count()","ce1b426e":"# check each column's data type\ndf.dtypes","2e197001":"# summary of statistics\ndf.describe()","7ffd77c4":"# return first 5 rows\ndf.head() ","f4f2c0c0":"# rename columns\ndf.rename(columns={'average_rating':'avg_rating',\n                   '# num_pages':'num_pages',\n                   'language_code':'lang_code'},inplace=True) \ndf.columns","5aaee7c1":"# find out what and how many language codes are there\nprint(df['lang_code'].unique())\nprint('\\n Total language codes:', len(df['lang_code'].unique()))","3318da4d":"# top 10 languages for books\nlangs = df['lang_code'].value_counts().head(10)\nplt.figure(figsize=(15,6))\nsns.barplot(x=langs, y=langs.index) # horizontal bar plot\nsns.despine() # remove line to the top and right of chart\nsns.despine(left=True, bottom=True) # remove line to the bottom and left of chart\nplt.title('Top 10 Languages By Number of Books Written', fontsize=20, fontweight='bold')\nplt.xlabel('Number of Books', fontsize=12, fontstyle='italic') ","e6634cd7":"# books written in all variants of English\neng_books = df[(df['lang_code'] == 'eng') | (df['lang_code'] == 'en-US') | (df['lang_code'] == 'en-GB') \n               | (df['lang_code'] == 'en-CA')]\n\n# plot a pie chart to show the percentage of English books out of all total books\nsizes = [eng_books.shape[0], df.shape[0]] \nlabels = ['English', 'Other Languages']\ncolors = ['lightblue', 'lightcoral']\nexplode=(0.1, 0) # explode the first slice of the pie\nplt.pie(sizes, labels=labels, colors=colors, explode=explode, textprops=dict(fontsize=16), autopct='%1.0f%%', shadow=True, startangle=90)\nplt.title('English vs Other Languages', fontsize=20, fontweight='bold')\nplt.axis('equal')","32172ac0":"# plot books against average rating\nsns.distplot(a=df['avg_rating'], kde=False)\nsns.despine()\nsns.despine(left=True, bottom=True)","325bd2f5":"# correlation between average rating, ratings count, and text reviews count\nsns.set_style('whitegrid')\nsns.scatterplot(x=df['avg_rating'], y=df['ratings_count'], hue=df['text_reviews_count'])\nsns.despine()\nsns.despine(left=True, bottom=True)","d5876619":"# find outliers\ndf[df['ratings_count'] > 4000000]","9a52f107":"# find Twilight sequels\ndf[df['authors'] == 'Stephenie Meyer'].sort_values(['ratings_count', 'text_reviews_count'], ascending=False)","21c2576a":"# find Harry Potter sequels\ndf[(df['authors'] == 'J.K. Rowling-Mary GrandPr\u00e9') | \n   (df['authors'] == 'J.K. Rowling')].sort_values(['ratings_count', 'text_reviews_count'], ascending=False)","89ae9169":"With the Harry Potter series, the first hypothesis seems more likely, especially given that the difference in rating counts between the two most rated books is a startling 3.5 million. ","f34a9d82":"There are no missing values in the dataset.","8e3db4fc":"Unsurprisingly, English is the most common language books are written in. The different variants of English, such as American English and British English, are treated as separate language categories. To get a better idea of how dominant the English language is, we'll combine all the different variants into one.","57110a8d":"## Analyzing Books By Language","2f29c8ea":"From the pie chart we can see that books written in English (any variant) comprise 48% of the total.","b5888dc0":"The majority of books appear to have average ratings between 3.5 to 4.5, which would seem to indicate favourable quality overall. However, the above chart does not yet factor in the number of ratings and text reviews, which are far more telling indicators of a book's true quality. ","345be580":"## Analyzing Books By Rating","884a8d69":"Both outliers turn out to be titles from phenomenally bestselling series, so that accounts for the high readership. It is noteworthy that both books also happen to be the first instalment in their respective series, with no sequels coming close in terms of readership numbers. It is possible that the hype surrounding the series led people to read the first book before deciding they didn't find it engaging enough to continue on to the second. A second hypothesis is that the sequels are not included in the dataset. ","75f64162":"With the Twilight series, it is the second hypothesis that holds true.","73660b38":"The scatterplot reveals that some books which, despite not having been rated yet, have an average rating higher than zero. This points to inaccuracies in the dataset. There is still a large proportion of books with a ratings count that is at least in the hundreds, and the average rating for these fall within the 3.5 to 4.5 range, which bodes well for overall quality. Books with higher ratings count tend to have more text reviews; this makes sense as the more readers a books has, the larger the pool of potential raters and reviewers. \n\nTwo outliers can be detected immediately in the plot; both have a ratings count of above 4 million, while the next closest ratings count are around the 2.5 million mark."}}