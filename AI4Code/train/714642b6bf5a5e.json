{"cell_type":{"65ef6615":"code","f000b579":"code","4b00e510":"code","11b6414c":"code","61f2a3d8":"code","e0434cd4":"code","c2cad159":"code","14d05e41":"code","4a5013a9":"code","b84c0d4a":"code","0fc006a9":"code","5bdca1df":"code","c76c568c":"code","fc9b106f":"code","ebc0999b":"code","7aa20c31":"code","c3ec71e1":"code","9776fd6b":"code","d295fc55":"code","5a093a22":"code","7afbe20b":"markdown","b407ecdd":"markdown","2d7c565a":"markdown","e1584690":"markdown","98284789":"markdown"},"source":{"65ef6615":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport seaborn as sns\nimport io\nimport requests\nimport re\nimport warnings\nimport os\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.io as pio\npio.templates\n\nimport matplotlib.pyplot as plt\n%matplotlib inline\nplt.style.use('seaborn-notebook')\nfrom matplotlib.ticker import StrMethodFormatter\nfrom sklearn.preprocessing import StandardScaler, MinMaxScaler, LabelBinarizer\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \n\nprint(os.listdir(\"..\/input\"))\n","f000b579":"train_data = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntrain_data.head()\n\n","4b00e510":"test_data = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")\ntest_data.head()\n","11b6414c":"train_data.columns\n","61f2a3d8":"gender_data = pd.read_csv(\"\/kaggle\/input\/titanic\/gender_submission.csv\")\ngender_data.head()","e0434cd4":"gender_data.columns\n","c2cad159":"women = train_data.loc[train_data.Sex == 'female'][\"Survived\"]\nrate_women = sum(women)\/len(women)\n\nprint(\"% of women survived:\", rate_women)\n","14d05e41":"men = train_data.loc[train_data.Sex == 'male'][\"Survived\"]\nrate_men = sum(men)\/len(men)\n\nprint(\"% of men survived:\", rate_men)","4a5013a9":"data = [train_data, test_data]\nfor dataset in data:\n    mean = train_data[\"Age\"].mean()\n    std = test_data[\"Age\"].std()\n    is_null = dataset[\"Age\"].isnull().sum()\n    # compute random numbers between the mean, std and is_null\n    rand_age = np.random.randint(mean - std, mean + std, size = is_null)\n    # fill NaN values in Age column with random values generated\n    age_slice = dataset[\"Age\"].copy()\n    age_slice[np.isnan(age_slice)] = rand_age\n    dataset[\"Age\"] = age_slice\n    dataset[\"Age\"] = train_data[\"Age\"].astype(int)\n","b84c0d4a":"survived = 'survived'\nnot_survived = 'not survived'\nfig, axes = plt.subplots(nrows=1, ncols=2,figsize=(16, 8))\nwomen = train_data[train_data['Sex']=='female']\nmen = train_data[train_data['Sex']=='male']\nax = sns.distplot(women[women['Survived']==1].Age.dropna(), bins=18, label = survived, ax = axes[0], kde =False, color=\"green\")\nax = sns.distplot(women[women['Survived']==0].Age.dropna(), bins=40, label = not_survived, ax = axes[0], kde =False, color=\"red\")\nax.legend()\nax.set_title('Survival Rate for Female')\nax = sns.distplot(men[men['Survived']==1].Age.dropna(), bins=18, label = survived, ax = axes[1], kde = False, color=\"green\")\nax = sns.distplot(men[men['Survived']==0].Age.dropna(), bins=40, label = not_survived, ax = axes[1], kde = False, color=\"red\")\nax.legend()\n_ = ax.set_title('Survival Rate for Male');\n","0fc006a9":"df = pd.read_csv('..\/input\/titanic\/train.csv')\nfig = px.scatter_3d(df, x='Name', y='SibSp', z='Age',\n                    color='Age')\nfig.show()\n","5bdca1df":"for template in [\"plotly\"]:\n    fig = px.scatter(train_data,\n                     x=\"PassengerId\", y=\"Age\", color=\"Survived\",\n                     log_x=True, size_max=20,\n                     template=template, title=\"Which Age Survived?\")\n    fig.show()\n","c76c568c":"embarked_mode = train_data['Embarked'].mode()\ndata = [train_data, test_data]\nfor dataset in data:\n    dataset['Embarked'] = dataset['Embarked'].fillna(embarked_mode)","fc9b106f":"FacetGrid = sns.FacetGrid(train_data, row='Embarked', size=4.5, aspect=1.6)\nFacetGrid.map(sns.pointplot, 'Pclass', 'Survived', 'Sex', order=None, hue_order=None )\nFacetGrid.add_legend();\n","ebc0999b":"data = [train_data, test_data]\nfor dataset in data:\n    dataset['relatives'] = dataset['SibSp'] + dataset['Parch']\n    dataset.loc[dataset['relatives'] > 0, 'travelled_alone'] = 'No'\n    dataset.loc[dataset['relatives'] == 0, 'travelled_alone'] = 'Yes'\naxes = sns.factorplot('relatives','Survived', \n                      data=train_data, aspect = 2.5, );\n","7aa20c31":"param_test1 = {\n    'n_estimators': [100,200,500,750,1000],\n    'max_depth': [3,5,7,9],\n    'min_child_weight': [1,3,5],\n    'gamma':[i\/10.0 for i in range(0,5)],\n    'subsample':[i\/10.0 for i in range(6,10)],\n    'colsample_bytree':[i\/10.0 for i in range(6,10)],\n    'reg_alpha':[0, 0.001, 0.005, 0.01, 0.05, 0.1, 1],\n    'learning_rate': [0.01, 0.02, 0.05, 0.1]\n}\n","c3ec71e1":"train_data.head(10)\n","9776fd6b":"pd.read_csv('..\/input\/titanic\/gender_submission.csv')\n","d295fc55":"from sklearn.ensemble import RandomForestClassifier\n\ny = train_data[\"Survived\"]\n\nfeatures = [\"Pclass\", \"Sex\", \"SibSp\", \"Parch\"]\nX = pd.get_dummies(train_data[features])\nX_test = pd.get_dummies(test_data[features])\n\nmodel = RandomForestClassifier(n_estimators=100, max_depth=3, random_state=2)\nmodel.fit(X, y)\n","5a093a22":"predictions = model.predict(X_test)\n\nsubmission = pd.read_csv('..\/input\/titanic\/gender_submission.csv')\nsubmission['Survived'] = survived\nsubmission.to_csv('submission.csv', index=False)","7afbe20b":"Example of submission","b407ecdd":"3. Survival Rate of both, Female and Male\n\n","2d7c565a":"5. SibSp(Number of Siblings\/Spouses Aboard) and Parch(Number of Parents\/Children Aboard)\n\n","e1584690":"2. Get the Data\n\n\n","98284789":"4. Embarked, Pclass(Passenger Class), Survived and Sex\n"}}