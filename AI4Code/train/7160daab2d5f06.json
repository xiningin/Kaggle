{"cell_type":{"0d533672":"code","d8f2c53c":"code","54c41ead":"code","57acc1e2":"code","6d4010eb":"code","cf1338a9":"code","3ce3b117":"code","8cc09c7c":"code","bf2a3fe2":"code","b92136e6":"markdown","7c99e79c":"markdown","22840304":"markdown","bb6500fe":"markdown","e0a9bb18":"markdown","f7bacd41":"markdown","aa414cdb":"markdown","15460f32":"markdown","04e04dd5":"markdown","98177dc6":"markdown","9f1042cd":"markdown","ba42f617":"markdown","2f8fa8bb":"markdown","28519979":"markdown","5c8d3d13":"markdown","d726884f":"markdown"},"source":{"0d533672":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d8f2c53c":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\n\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.linear_model import LogisticRegression\n \nfrom sklearn.model_selection import train_test_split\n \nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.metrics import mean_absolute_error\n\ndf = pd.read_csv('\/kaggle\/input\/universities\/universities.csv')\nprint(df)","54c41ead":"import matplotlib.pyplot as plt\n\nplt.figure( figsize=(8, 8) )\nsns.heatmap(df.corr(method = 'pearson'), annot = True)","57acc1e2":"X = df[['teaching', 'research', 'citations', 'num_students', 'student_staff_ratio', 'international_students', 'year', 'ramen_sold', 'name_length']]\nprint(X)","6d4010eb":"y = df.world_rank\nprint(y)","cf1338a9":"train_X, test_X, train_y, test_y = train_test_split(X, y)","3ce3b117":"linReg = LinearRegression()\nlinReg.fit(train_X, train_y)\nlinReg_pred = linReg.predict( test_X )\n\nprint(mean_absolute_error(test_y, linReg_pred))","8cc09c7c":"decTree = DecisionTreeRegressor(criterion = 'mse', max_depth = 5)\ndecTree.fit(train_X, train_y)\ndecTree_pred = decTree.predict( test_X )\n\nprint(mean_absolute_error(test_y, decTree_pred))","bf2a3fe2":"df['PREDICT'] = decTree.predict( X )\ndf['error'] = abs(df['PREDICT'] - df['world_rank'])\nprint(df.head(50))","b92136e6":"(4)  \nWhich variable has the best correlation with World Rank? (Not including World_rank).","7c99e79c":"(1)  \nRead the data. (I modified a good set of data and added in new columns, some of this is junk data. Do not treat this as if these are the true 'rankings' of colleges).  Your task is to later perform both a linear regression model and a decision tree regressor model. Display your DF.","22840304":"Explanation: The mean_absolute_error is how far off your prediction will be on average. Because the algorithm and linear regression is not perfect, we see how accurate it is by measuring the mean_absolute_error (the result 45 means it will either be 45 higher or lower typically).","bb6500fe":"The better model was the Decision Tree. I believe this is true because of the lower mean_absolute_error.","e0a9bb18":"(5)  \nCreate an X variable which represents all columns with numeric data, excluding the world_rank column.\nDisplay your variable to guarantee you have each column.","f7bacd41":"(7)  \nCreate your training and testing variables. ","aa414cdb":"(3)  \nWhich variable has the worst correlation with World Rank? (Not including World_Rank).","15460f32":"(9)  \nWrite a sentence that explains what this mean absolute error means.  \nTry to explain the meaning of the number as if you were talking to an average 13 year old.","04e04dd5":"(8)  \nBuild a LinearRegression model using your training set, then run your trained model on the testing data.  \nDisplay the mean absolute error for your testing data versus what your model predicted.","98177dc6":"(6)  \nCreate a y variable which represents the column you will attempt to predict (world_rank). Display your variable to guarantee you the right values.","9f1042cd":"(11)  \nWhich model appears to have done a better job of prediction? Why?","ba42f617":"Worst correlation answer: citations","2f8fa8bb":"(12)  \nCreate a new column in your data frame called 'PREDICT'.  \nIn this column, predict every original school's world rank.  \n  \nCreate another new column which is the absolute value difference between the 'PREDICT' column and the 'world_rank' column.  \nDisplay the first 50 schools in the dataframe.  df.head(50) will accomplish this.","28519979":"(2)  \nCreate a heatmap showing the correlations of each (numeric) value in the df.  \nTurn annotations on. \nYour plot will be quite small, so import matplotlib.pyplot as plt, then use plt.figure( figsize=(8, 8) ) before showing your heatmap.\n","5c8d3d13":"(10)  \nBuild a DecisionTreeRegressor model using your training set, then run your trained model on the testing data.  \nDisplay the mean absolute error for your testing data versus what your model predicted.\n","d726884f":"Best correlation answer: year"}}