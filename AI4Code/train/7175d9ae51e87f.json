{"cell_type":{"99a00eca":"code","83457ff7":"code","d36f386f":"code","51138250":"code","56f62780":"code","fb2c47bd":"code","0672c8be":"code","981221e6":"code","5f4d8b6f":"code","b530eddc":"code","664c1dad":"code","51755130":"code","076e6edf":"code","8846ed02":"code","f85ccff2":"code","cf7fdd75":"code","f2f2e0d8":"code","de17f54c":"code","ef5c067d":"code","7da35ad6":"code","3b57e85a":"code","2f1bc7fc":"code","96704595":"code","8719b2b2":"code","155042a1":"code","45231b58":"code","36c7f51d":"code","2ab4bd2b":"code","fcb67ebb":"code","1cbb0a58":"code","8d27c658":"code","0b241d00":"code","9c51c83b":"code","0f84f8fe":"code","089d0ebb":"code","493a104c":"code","d7ff8eb3":"code","1ecbc84e":"code","e1d20bf0":"code","4ceb623d":"code","be52197f":"code","c8cf30f3":"markdown","d0e1aa63":"markdown","d0376932":"markdown","691fc82b":"markdown","48221f3d":"markdown","19e53298":"markdown","52884da0":"markdown","4b9df709":"markdown","ec652d2e":"markdown","767c0546":"markdown","37041019":"markdown","6532240f":"markdown","bf3c34ee":"markdown","1c54a1ff":"markdown","e8875f99":"markdown","18c1a99e":"markdown","de0caad2":"markdown","20f316fd":"markdown","88eb265a":"markdown","7a833a24":"markdown","38b92057":"markdown","b448d5b3":"markdown","b8e9bca7":"markdown","8ca77bfd":"markdown"},"source":{"99a00eca":"# import packages\nimport numpy as np #For scientific computing\nimport pandas as pd #For data manipulation \nimport matplotlib.pyplot as plt #For data visualization \nimport seaborn as sns #For more advamced data visualization ","83457ff7":"# import the data\ndf = pd.read_csv(\"..\/input\/noshowappointments\/KaggleV2-May-2016.csv\")","d36f386f":"# display the top 5 rows\ndf.head(10)","51138250":"# display the names of all the columns\npd.DataFrame({\"column_name\": df.columns})","56f62780":"#display number of rows and columns\ndf.shape","fb2c47bd":"# basic info about the data: number of rows and columns, data types, missing values ..etc\ndf.info()","0672c8be":"# convert ID variables into objects\ndf[[\"PatientId\", \"AppointmentID\"]] = df[[\"PatientId\", \"AppointmentID\"]].astype(str)\n\n# deleting the time and keeping the date only\nfor col in [\"AppointmentDay\", \"ScheduledDay\"]:\n    df[col] = df[col].apply(lambda x: x.split(\"T\")[0])\n    \n# converting date varaibles from object to date\nfor col in [\"ScheduledDay\", \"AppointmentDay\"]:\n    df[col] = pd.to_datetime(df[col])","981221e6":"#changing the name of No-Show and encoding it to prevent any misconciption\n\n#changing the name\ndf.rename(columns = {\"No-show\": \"Show\"}, inplace = True)\n\n#encoding it\nlabels = {\"No\": 1, \"Yes\":0}\ndf[\"Show\"] = df[\"Show\"].map(labels)\n\n#converting it into integer\ndf[\"Show\"] = df[\"Show\"].astype(int)","5f4d8b6f":"#changing the name of Gender and encoding it to prevent any misconciption\n\n#changing the name\ndf.rename(columns = {\"Gender\": \"Male\"}, inplace = True)\n\n#encoding it\nlabels = {\"M\": 1, \"F\":0}\ndf[\"Male\"] = df[\"Male\"].map(labels)\n\n#converting it into integer\ndf[\"Male\"] = df[\"Male\"].astype(int)","b530eddc":"#Lets have a look at data types again\ndf.info()","664c1dad":"df.duplicated().sum()\n\n# ther is no duplicates","51755130":"pd.DataFrame({\"min\":df.min(), \"max\":df.max()})","076e6edf":"df[df[\"Age\"] < 0]","8846ed02":"#drop this row\ndf.drop(99832, inplace = True)\n\n# Make sure of dropping it\ndf[df[\"Age\"] < 0]","f85ccff2":"df[\"Age_bins\"] = pd.qcut(df.Age, 5, labels = [\"0 - 12\", \"13 - 29\", \"30 - 44\", \"45 - 58\", \"59 - 115\"])","cf7fdd75":"df.Age_bins.unique()","f2f2e0d8":"df[\"diabetic_hiper\"] = df[\"Diabetes\"] * df[\"Hipertension\"]","de17f54c":"df[\"Wait_days\"] = df[\"AppointmentDay\"] - df[\"ScheduledDay\"]\ndf[\"Wait_days\"] = df[\"Wait_days\"].astype(str)\ndf[\"Wait_days\"] = df[\"Wait_days\"].apply(lambda x: x.split(\" \")[0])\ndf[\"Wait_days\"] = df[\"Wait_days\"].astype(int)","ef5c067d":"# Exploring unreasonable wait days\ndrop_index = df[df[\"Wait_days\"] < 0].index\ndf.drop(drop_index, inplace = True)\n\ndf[df[\"Wait_days\"] < 0]","7da35ad6":"#Converting wait days into wait bins\ndf[\"Wait_days\"] = pd.cut(df[\"Wait_days\"], 10, labels = [\"0-17\", \"18-34\", \"35-53\", \"54-71\", \"72-89\", \"90-106\", \"107-124\", \"125-142\", \"143-160\", \"161-179\"])","3b57e85a":"df.head()","2f1bc7fc":"# Summary Statistics\ndf.describe()","96704595":"# Correlation between Show and other variables\ndf.corr()","8719b2b2":"# Visualize correlation matrix\nplt.figure(figsize = (8, 4), dpi = 100)\nsns.heatmap(df.corr(), vmin = -1, vmax = 1, cmap = \"viridis\", linewidths=0.01, annot=True)","155042a1":"# The relation ship between Show and other features\nmale_impact = pd.pivot_table(data = df, index = \"Male\", values = \"Show\")\nround(male_impact * 100, 2) ","45231b58":"plt.figure(figsize = (8,4), dpi = 100)\nsns.barplot(x=df.Male, y=df.Show)\nplt.show()","36c7f51d":"df.columns ","2ab4bd2b":"# Does receiving SMS makes a gender difference?\nmale_diab_impact = pd.pivot_table(data = df, index = [\"Male\", \"SMS_received\"], values = \"Show\")\nround(male_diab_impact * 100, 2) ","fcb67ebb":"# Does being diabetic makes a gender difference?\nmale_diab_impact = pd.pivot_table(data = df, index = [\"Male\", \"Diabetes\"], values = \"Show\")\nround(male_diab_impact * 100, 2) ","1cbb0a58":"# Does age makes a gender difference?\nmale_diab_impact = pd.pivot_table(data = df, index = [\"Male\", \"Age_bins\"], values = \"Show\")\nround(male_diab_impact * 100, 2) ","8d27c658":"male_diab_impact = pd.pivot_table(data = df, index = [\"Male\", \"Scholarship\"], values = \"Show\")\nround(male_diab_impact * 100, 2) ","0b241d00":"# The relationship between Show and scholaship\nscholar_impact = pd.pivot_table(data = df, index = \"Scholarship\", values = \"Show\")\nround(scholar_impact * 100, 2) ","9c51c83b":"#graph the result\nplt.figure(figsize = (8,4), dpi = 100)\nsns.barplot(x=df.Scholarship, y=df.Show)\nplt.show()","0f84f8fe":"#Scholar Age Impact\nscholar_age_impact = pd.pivot_table(data = df, index = [\"Scholarship\", \"Age_bins\"], values = \"Show\")\nround(scholar_age_impact * 100, 2)","089d0ebb":"#Scholar Gender Impact\nscholar_gender_impact = pd.pivot_table(data = df, index = [\"Scholarship\", \"Male\"], values = \"Show\")\nround(scholar_gender_impact * 100, 2) ","493a104c":"#Scholar Hipertension Impact\nscholar_hiper_impact = pd.pivot_table(data = df, index = [\"Scholarship\", \"Hipertension\"], values = \"Show\")\nround(scholar_hiper_impact * 100, 2) ","d7ff8eb3":"#Scholar Diabetes Impact\nscholar_diab_impact = pd.pivot_table(data = df, index = [\"Scholarship\", \"Diabetes\"], values = \"Show\")\nround(scholar_diab_impact * 100, 2) ","1ecbc84e":"#Scholar Alcoholism Impact\nscholar_alco_impact = pd.pivot_table(data = df, index = [\"Scholarship\", \"Alcoholism\"], values = \"Show\")\nround(scholar_alco_impact * 100, 2)","e1d20bf0":"# The relationship between Show and scholaship\nwait_impact = pd.pivot_table(data = df, index = \"Wait_days\", values = \"Show\")\nround(wait_impact * 100, 2) ","4ceb623d":"wait_days = df.Wait_days.value_counts(normalize = True).sort_values(ascending = False)[:30]\nplt.figure(figsize = (8,4), dpi = 100)\nsns.barplot(x = wait_days.index, y = wait_days.values)\nplt.xticks(rotation = 90)\nplt.show()","be52197f":"#graph the result\nplt.figure(figsize = (8,4), dpi = 100)\nsns.barplot(x=df.Wait_days, y=df.Show)\nplt.show()","c8cf30f3":"#### Question 3: How delay affects show up?","d0e1aa63":"#### Question 1: How gender affects show up?","d0376932":"#### Create a new variable for those who are diabetic and also hipertension","691fc82b":"#### Question 2: How the scholarship affects the probability of show up?","48221f3d":"<a id='intro'><\/a>\n## Introduction","19e53298":"<a id='wrangling'><\/a>\n## Data Wrangling","52884da0":"#### Answer to Question 1:\nWhen it comes to show up, there is no Significant difference between males and females regardless of:\n1. Agg\n2. Being diabetic or not.\n3. Receiving SMS or not\n3. Receiving the scholarship or not\n\nTherefore, we can conclude that Gender has no significant impact on show up","4b9df709":"**Impact of Gender**\n\nWhen it comes to show up, there is no Significant difference between males and females regardless of:\n1. Agg\n2. Being diabetic or not.\n3. Receiving SMS or not\n3. Receiving the scholarship or not\n\nTherefore, we can conclude that Gender has no significant impact on show up\n\n\n**Impact of scholarship**\n\nAt the first glance it seems that scholarship has negative impact on show up whic is counter intuitive. But when we investigated it further, we concluded that those who were diabetic or hipertension and received the scholaship had higher show up rates. At the contrary, the scholarship led to a negative impact if the beneficiary was alcoholic.\n\n\n**Impact of delay days**\n\nDelay Have negative but inconsistent impact on show up","ec652d2e":"#### Change age to a categorical variable in order to clearly see the relationship between it and show","767c0546":"#### Create new variable for waiting days","37041019":"#### There is no missing values\n#### As we can see the data types needs to be fixed for several columns: \n\n1. PatientId and AppointmentID are currently numeric where in fact they have should been string or object as they have no numeric meaning.\n2. ScheduledDay and AppointmentDay should be converted from object to date-time\n\n#### Other remarks:\n1. No-show should be recoded and converted into integer\n2. ScheduledDay and AppointmentDay: for more simplicity, we might keep only the date and delete the time.\n","6532240f":"#### Answer Question 3:\nDelay Have negative but inconsistent impact on show up","bf3c34ee":"### Answers to the questions","1c54a1ff":"#### Answer to question 2:\nAt the first glance it seems that scholarship has negative impact on show up whic is counter intuitive. But when we investigated it further, we concluded that those who were diabetic or hipertension and received the scholaship had higher show up rates. At the contrary, the scholarship led to a negative impact if the beneficiary was alcoholic.","e8875f99":"<a id='conclusions'><\/a>\n## Conclusions","18c1a99e":"Questions:\n1. Does Show rate differs by gender? males may have higher probability of show up due to social norms that constricts the movement of women.\n\n\n2. How the scholarship affects the probability of show up? those who were eligible for the scholarship may have shown up more often because the are able to afford the costs or because the fear of loosing the scholarship.\n\n\n\n3. AppointmentDay: How delay affects show up?","de0caad2":"There is no strong correlation between Show up and any other feature. However, there is a strong positive correlation between Hipertension on one hand and Age, and Diabetic on the other hand.","20f316fd":"1. The minimum age is -1! \n\n\n2. age can not be less than 0\n\nLets explore it further and see that specific patient","88eb265a":"\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","7a833a24":"<a id='eda'><\/a>\n## Exploratory Data Analysis","38b92057":"#### Checking for extreme values","b448d5b3":"We will start by importing the necessary packages for the analysis, after that we will explore the data to spot any problems. We will then dive into data cleaning and preparation for explanatory data analysis","b8e9bca7":"**Main Remarks:**\n\nThe mean age of all patients is 37\n\nFor all the patients:\n\n1. 9.8 percent have the scholarship\n\n\n2. 35 percent are males\n\n\n3. 19.7 percent have high blood pressure\n\n\n4. 7.2 percent are diabetic\n\n\n5. 3 percent drink alcohol\n\n\n6. 2.2 percent are handicapped\n\n\n7. 32.1 percent received a sms\n\n\n8. Show up rate is 79.8 percent\n\n\n9. 5.9 percent are diabetic and also hipertension ","8ca77bfd":"**All data types have been corrected, lets now check for duplicates**"}}