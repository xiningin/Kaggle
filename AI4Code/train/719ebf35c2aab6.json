{"cell_type":{"6acde446":"code","a42e2f87":"code","ab47ed4b":"code","33f20c68":"code","4f623041":"code","df5ffcff":"code","9cc10767":"code","2e9eea8c":"code","7a5b4d3e":"code","10f0d8a8":"code","0e9e5994":"code","d8883f34":"code","fca22bb6":"code","601f8900":"markdown","683e0e1d":"markdown","31f6b4bd":"markdown","f28193ba":"markdown","1a2aca7f":"markdown","b8fa001f":"markdown","2cf4f06e":"markdown","b790c154":"markdown","f373dce7":"markdown","3566285e":"markdown","b6c0961c":"markdown","383779c7":"markdown","b950c0d1":"markdown","3bee4864":"markdown","de248d89":"markdown","8a5d5dfa":"markdown"},"source":{"6acde446":"!pip install -qq fastai--upgrade","a42e2f87":"import pandas as pd\nfrom tqdm import tqdm\n\nimport torch\nfrom fastai.text.all import *","ab47ed4b":"import re\n\ndef preprocess(text):\n  o = re.sub(r'\\\\', ' ', text)\n  k = re.sub(r'\\n', ' ', o)\n  l = re.sub(r'&', '', k)\n  m = re.sub(r'RT ', '', l)\n  n = re.sub(r'~', '', m)\n  o = re.sub(r'#', '', n)\n  p = re.sub(r'!+', '', o)\n  q = re.sub(r'(http[s]?\\S+)|(\\w+\\.[A-Za-z]{2,4}\\S*)', 'link', p)\n  r = re.sub(r'[*]', '', q)\n  s = re.sub(r'[@]\\w+', 'user', r)\n  t = re.sub(r'[:|;]', '', s)\n  u = re.sub(r'[\\\\x]\\W+|\\d', '', t)\n  v = re.sub(r'[\\\\x]\\W+|\\d', '', u)\n  w = re.sub(r'[\\\\x]\\w+', '', v)\n  x = re.sub(r'    ', ' ', w)\n  y = re.sub(r'   ', ' ', x)\n  z = re.sub(r'  ', ' ', y)\n  ProcessedTweet = z.lower()\n  return ProcessedTweet","33f20c68":"data = pd.read_csv(\"..\/input\/trump-tweets\/realdonaldtrump.csv\")\ndata = data['content']\ndata.columns = ['text'] \ntrain = data\n\n\ntrain.to_csv(\".\/train.csv\")","4f623041":"for i in tqdm(train.index):\n    train.loc[i] = preprocess(train.loc[i])","df5ffcff":"train = pd.read_csv(\".\/train.csv\")","9cc10767":"dls = TextDataLoaders.from_df(train, path=\".\/\", text_col='content', valid_pct=0.3, is_lm=True)","2e9eea8c":"model = language_model_learner(dls, AWD_LSTM)","7a5b4d3e":"model.fit_one_cycle(5)","10f0d8a8":"model.predict(\"usa is the greatest \", n_words=7)","0e9e5994":"model.predict(\"i think i am \", n_words=7)","d8883f34":"model.predict(\"you are fake news and you\", n_words=7)","fca22bb6":"model.predict(\"i love \", n_words=15)","601f8900":"Finally, lets be done with this.","683e0e1d":"# Model","31f6b4bd":"Seems like Donald Trump is out there heading to the war.","f28193ba":"This dude was literally a one time president.","1a2aca7f":"Grabbing the Dataloader:","b8fa001f":"# Preprocessing Texts","2cf4f06e":"Training the model:","b790c154":"## Preprocessing Function","f373dce7":"# Importing Stuff","3566285e":"### Preprocessing the texts finally:","b6c0961c":"A super quick notebook I coded with little effort because my pizza might go cold.","383779c7":"Grabbing the texts:","b950c0d1":"It's a simplpe language model which generates sentences. ","3bee4864":"# Predicting","de248d89":"So it looks like our model was trained in under 5 minutes which is nice.\n\nThank You FastAI, very cool!\n","8a5d5dfa":"China might have something else to say :\/"}}