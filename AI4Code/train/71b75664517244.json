{"cell_type":{"f8d16f50":"code","788f3a09":"code","57321e32":"code","fbd02aee":"code","ae694de6":"code","cbfed077":"code","89e8f66e":"code","3da656b3":"code","34e176df":"code","b626b2d5":"code","946d6856":"code","5b2e5593":"code","926a180a":"code","c2ebbcba":"code","7068a0b0":"code","4ace2913":"code","5a0ec2b4":"code","1f25f798":"code","34fb011b":"code","a8a36e20":"code","a9edc06e":"code","061957c3":"code","c19cda00":"code","7b9a51d4":"code","4da416cc":"code","090e9e9a":"code","431516f4":"code","29d6d55b":"code","ed596c9e":"code","beb6a99c":"code","b23f4d62":"code","01209f8b":"code","ad6d650f":"code","3592cfe2":"code","cbbb610d":"code","134844f3":"code","3b1e8d45":"code","6033a082":"code","f861be06":"code","1c875681":"code","541e1e35":"code","38c9eee3":"code","3b6a7b38":"code","9dac77d6":"code","10b30c63":"code","8451a750":"code","fe4608d2":"code","03d9c772":"code","ed830e4b":"code","48b54ca4":"code","fc70322b":"code","aca6ebd6":"code","08141be7":"code","d2c6aa11":"markdown","181e0143":"markdown","e9e3c37c":"markdown","ece26389":"markdown","e7c8749f":"markdown","50de0d7b":"markdown","795a62e1":"markdown","7165f6cd":"markdown","7c6c2d79":"markdown","fc0abbad":"markdown","d0d5f3b5":"markdown","45df611d":"markdown","bca0f805":"markdown","e660efb6":"markdown","ad5b3d50":"markdown","ae41899d":"markdown","7d966c04":"markdown","50abec26":"markdown","1b2fd163":"markdown","366bbfd1":"markdown","a7fef3c6":"markdown","d138ca32":"markdown","c3f6bdc1":"markdown","8ecf646a":"markdown","a30a1a25":"markdown","5489ed32":"markdown","d6ad6910":"markdown","3d26a21a":"markdown","eece4d49":"markdown","7a34cefb":"markdown","47a5dc60":"markdown","12704436":"markdown","be255163":"markdown","ff3878bc":"markdown","8bf80986":"markdown","5adee927":"markdown","c945b04a":"markdown","b4b1f0c8":"markdown","2ea544e3":"markdown","e6ef7485":"markdown","46fed370":"markdown","7336054d":"markdown","7ca3924f":"markdown","fd34daff":"markdown","046d8b4d":"markdown","7af9dc30":"markdown","1f17823c":"markdown","12de025a":"markdown","d54092db":"markdown"},"source":{"f8d16f50":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport glob","788f3a09":"# Import all files\nall_files = glob.glob(\"..\/input\/premier-league-standing-all-season-19922020\/Premier League*.csv\")\n\n# Combine all DataFrame\nall = []\nfor filename in all_files:\n    df = pd.read_csv(filename, index_col=None, header=0)\n    df.columns = ['Position','Club','Played','Won','Drawn','Lost','GF','GA','GD','Points','season']\n    all.append(df)\n\n# Sort DataFrame\ndf = pd.concat(all, axis=0, ignore_index=True, sort=False)\ndf = df.sort_values(['season','Position'], ascending=[True, True])","57321e32":"df.head()","fbd02aee":"df.info()","ae694de6":"df.isnull().sum()","cbfed077":"# Ignore this, this is just my setup on how to use seaborn\nsns.set(rc={'figure.figsize':(18,9), 'lines.linewidth': 5, 'lines.markersize': 5, \"axes.labelsize\":15}, style=\"whitegrid\")\n\n# Get the best team\nwin = df.Club[df['Position'] == 1].value_counts()","89e8f66e":"sns.barplot(x=win, y=win.index, data=df)","3da656b3":"# get all club on position 20 every season\nlose = df.Club[df['Position'] == 20].value_counts()","34e176df":"sns.barplot(x=lose, y=lose.index, data=df)","b626b2d5":"# Get the top 5 most UCL participant from premier league\nUCL = df.Club[df['Position'].between(1,4)].value_counts().nlargest(5)","946d6856":"sns.barplot(y=UCL, x=UCL.index, data=df)","5b2e5593":"# count all teams every season\nPart = df.Club.value_counts()","926a180a":"sns.barplot(x=Part, y=Part.index, data=df)","c2ebbcba":"df[df['Lost'] == 0]","7068a0b0":"point = df.groupby('Club')[['Points']].sum().sort_values('Points', ascending=False)\npoint","4ace2913":"win = df.groupby('Club')[['Won']].sum().sort_values('Won', ascending=False)\nplayed = df.groupby('Club')[['Played']].sum().sort_values('Played', ascending=False)\n\nresults = pd.merge(win, played, on=['Club'])\nwin_rate = []\n\nfor x in range(len(results.index)):\n    result = results.Won[x] \/ results.Played[x]\n    win_rate.append(result)\n    \nresults['win_rate'] = win_rate\nresults","5a0ec2b4":"# First we need to make time column, in this case i put 4 season in one row\ndates = []\n\nc = df['season'].unique()\nser = [c[x:x+4] for x in range(0, len(c), 4)]\n\nfor x in range(len(ser)):\n    s = ' '.join(ser[x])\n    f1 = s[:4]\n    f2 = s[-4:]\n    f3 = str(f1) + '-' + str(f2)\n    dates.append(f3)\n\n# Make a different Dataframe and put time data into it\nperformance = pd.DataFrame(dates, columns=['Time'])\nperformance","1f25f798":"MU = []\n\nwin = df[(df['Position'] == 1) & (df['Club'] == 'Manchester United')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    MU.append(wins)\n    \nperformance['Manchester United'] = MU","34fb011b":"sns.lineplot(x='Time', y='Manchester United', data=performance)","a8a36e20":"Chelsea = []\n\nwin = df[(df['Position'] == 1) & (df['Club'] == 'Chelsea')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    Chelsea.append(wins)\n    \nperformance['Chelsea'] = Chelsea","a9edc06e":"sns.lineplot(x='Time', y='Chelsea', data=performance)","061957c3":"MC = []\n\nwin = df[(df['Position'] == 1) & (df['Club'] == 'Manchester City')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    MC.append(wins)\n    \nperformance['Manchester City'] = MC","c19cda00":"sns.lineplot(x='Time', y='Manchester City', data=performance)","7b9a51d4":"ARS = []\n\nwin = df[(df['Position'] == 1) & (df['Club'] == 'Arsenal')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    ARS.append(wins)\n    \nperformance['Arsenal'] = ARS","4da416cc":"sns.lineplot(x='Time', y='Arsenal', data=performance)","090e9e9a":"df_man = pd.read_csv('..\/input\/premier-league-standing-all-season-19922020\/PL Manager All Season (1992-2020).csv')","431516f4":"df_man.head()","29d6d55b":"df_man.info()","ed596c9e":"# merge dataset\ncomplete = pd.merge(df_man, df, on=['season', 'Club'])\ncomplete.head()","beb6a99c":"# get managers name on standing position #1\nbest_man = complete.Name[complete['Position'] == 1].value_counts()","b23f4d62":"sns.barplot(y=best_man.index, x=best_man, data=complete)","01209f8b":"longst_career = complete.Name.value_counts().head(8)","ad6d650f":"sns.barplot(y=longst_career.index, x=longst_career, data=complete)","3592cfe2":"AF = []\n\nwin = complete[(complete['Position'] == 1) & (complete['Name'] == 'Alex Ferguson')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    AF.append(wins)\n    \nperformance['Alex Ferguson'] = AF","cbbb610d":"sns.lineplot(x='Time', y='Alex Ferguson', data=performance)","134844f3":"complete[(complete['Name'] == 'Alex Ferguson') & (complete['Position'] == 1)]","3b1e8d45":"complete[(complete['Club'] == 'Manchester United') & (complete['Position'] == 1)]","6033a082":"All = performance[['Time', 'Manchester United', 'Alex Ferguson']].melt('Time', var_name='cols',  value_name='vals')\nsns.lineplot(x=\"Time\", y=\"vals\", hue='cols', data=All)","f861be06":"JM = []\n\nwin = complete[(complete['Position'] == 1) & (complete['Name'] == 'Jos\u00e9 Mourinho')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    JM.append(wins)\n    \nperformance['Jos\u00e9 Mourinho'] = JM","1c875681":"sns.lineplot(x='Time', y='Jos\u00e9 Mourinho', data=performance)","541e1e35":"complete[(complete['Name'] == 'Jos\u00e9 Mourinho') & (complete['Position'] == 1)]","38c9eee3":"complete[(complete['Club'] == 'Chelsea') & (complete['Position'] == 1)]","3b6a7b38":"All = performance[['Time', 'Chelsea', 'Jos\u00e9 Mourinho']].melt('Time', var_name='cols',  value_name='vals')\nsns.lineplot(x=\"Time\", y=\"vals\", hue='cols', data=All)","9dac77d6":"AW = []\n\nwin = complete[(complete['Position'] == 1) & (complete['Name'] == 'Ars\u00e8ne Wenger')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    AW.append(wins)\n    \nperformance['Ars\u00e8ne Wenger'] = AW","10b30c63":"sns.lineplot(x='Time', y='Ars\u00e8ne Wenger', data=performance)","8451a750":"complete[(complete['Name'] == 'Ars\u00e8ne Wenger') & (complete['Position'] == 1)]","fe4608d2":"complete[(complete['Club'] == 'Arsenal') & (complete['Position'] == 1)]","03d9c772":"All = performance[['Time', 'Arsenal', 'Ars\u00e8ne Wenger']].melt('Time', var_name='cols',  value_name='vals')\nsns.lineplot(x=\"Time\", y=\"vals\", hue='cols', data=All)","ed830e4b":"JG = []\n\nwin = complete[(complete['Position'] == 1) & (complete['Name'] == 'Josep Guardiola')]\n\nfor y in range(len(ser)):\n    wins = 0\n    for s in ser[y]:\n        for x in win.season:\n            if x == s:\n                wins += 1\n    JG.append(wins)\n    \nperformance['Josep Guardiola'] = JG","48b54ca4":"sns.lineplot(x='Time', y='Josep Guardiola', data=performance)","fc70322b":"complete[(complete['Name'] == 'Josep Guardiola') & (complete['Position'] == 1)]","aca6ebd6":"complete[(complete['Club'] == 'Manchester City') & (complete['Position'] == 1)]","08141be7":"All = performance[['Time', 'Manchester City', 'Josep Guardiola']].melt('Time', var_name='cols',  value_name='vals')\nsns.lineplot(x=\"Time\", y=\"vals\", hue='cols', data=All)","d2c6aa11":"#### Comparison With Team","181e0143":"Chelsea is 2nd best team here, the performance charts show that chelsea is onfire around 2004 - 2008, and doing just fine up until now","e9e3c37c":"## Longest Career\n\nLongest career Manager on premier league, they just loyal.","ece26389":"## Performance Charts\n\nMy favorite section, here we can see all performance charts by the best teams.","e7c8749f":"## Import Modules","50de0d7b":"Manchester United won 13 times on premier league, most of it happen around 1992-2012. We can see here Manchester United didn't perform well lately.","795a62e1":"#### Comparison With Team\n\nThis loyal manager always with Arsenal","7165f6cd":"Lets check how it look","7c6c2d79":"### Invisible\n\nAnother fact that got my interest is a team who never lost a match for a season, they just invisible.","fc0abbad":"# Introduction\n\nHai kagglers, this is my tutorial on how to access all insight Premier League All Season Dataset.\nWe will perform some EDA and visualization, lets get into it.","d0d5f3b5":"### Chelsea","45df611d":"Arsenal has their best achievement around 1996 - 2004, after win premier league on 2004 without losing any match, they never finish first anymore.","bca0f805":"### Ars\u00e8ne Wenger","e660efb6":"## Points Master\n\nAcumulation of each team point in total","ad5b3d50":"This performance show Josep Guardiola make Manchester City win more premier league title in last 4 year.","ae41899d":"Arsene Wenger is the longest manager on premier league, he is there for 22 season. Follow by Alex Ferguson with 21 season.","7d966c04":"## Performance Chart Best Manager\n\nLet's take a look on how few best managers perform and comparison with their team performance.","50abec26":"Cool, there is 566 row with 12 features we can explore here.","1b2fd163":"#### Comparison With Team\n\nHis team is Manchester United, we are going to compare their performance","366bbfd1":"As you probably know already this dataset is provide with final standing every season and managers as well.\nFor now we will go through the final standing first. There are 28 season in total, here is how you set up a good\nDataframe for this dataset.","a7fef3c6":"On 2004, Arsenal come out as the winner of Premier League with 0 lost","d138ca32":"### Jos\u00e9 Mourinho","c3f6bdc1":"### Alex Ferguson","8ecf646a":"### Manchester City","a30a1a25":"### Manchester United","5489ed32":"Manchester United has 23 time participate in UCL champion league, almost in every season finish in top 4. What an achievement. Follow by arsenal with 21 times, and the so on.","d6ad6910":"Quite shocking here, i'm not a fans of premier league and i know Manchester United has a great history. Now i see it with data, this is really amazing how MU won almost half of all season on premier league.","3d26a21a":"These comparison shows that Chelsea can still perform well no matter who is their managers","eece4d49":"## Best Managers\n\nLet's see who is the best manager ever","7a34cefb":"## Total Win Rate\n\nAccumulation of win rate on each team for all season in total","47a5dc60":"## End\n\nI have put everything i could come up with in this dataest, hope you guys enjoy exploring this dataset, and i would really appreciate it if you would help me by upvoted it. Thank you for your time.\n\nHave a good day kagglers","12704436":"### Josep Guardiola","be255163":"## Interesting Fact\n\nit os time to gather some interesting fact in this dataset. Fist let's take a look on how many teams play for premier league the most.","ff3878bc":"Sunderland is the worst team on premier league since it's finish on last position for 3 season","8bf80986":"### Arsenal","5adee927":"Last is Josep Guardiola, this spanish manager make a great performance lately.two season in a row 2018 and 2019.","c945b04a":"Alex ferguson has his best performance since early season up until 2012, and retired after season 2014.","b4b1f0c8":"## Most UCL Participant\n\nUCL participant is decided by the top 4 team on every season.","2ea544e3":"This dataset has 4 features, name, club, nationality, and season. now let's merge this dataset with standings dataset.","e6ef7485":"This is a comparison between Alex Ferguson performance and his team Manchester United performance. Their performance chart is exactly same, which os why we only see one kind of line here. This is a proof how bad MU condition without Alex Ferguson as their manager.","46fed370":"Both arsenal and Arsene Wenger only manage to do their best around 2000 - 2004, since then they never won any premier league at all","7336054d":"## Worst Team\n\nThere is always a worst team on every league, and it's just interesting how a club keep getting worst position on every season.","7ca3924f":"#### Comparison With Team\n\nSince most of his team is Chelsea, we are going to compare him with chelsea performance","fd34daff":"Jos\u00e9 Mourinho perform best at season 2004-2008","046d8b4d":"### Monster\n\nThe most participant on premier league here is Chelsea, Liverpool, Everton, Arsenal, Manchester United, and Tottenham Hotspur. They play for the whole 28 season and never relegate to lower league. What a monster..\n\nIt is quite interesting to see team like Everton and Tottenham Hotspur never won premier league even though they played for all season.","7af9dc30":"Manchester City made a breakthrough on 2012 and doing great right now","1f17823c":"## Best Team\n\nAs always let's start with the best team, who won the first place on every season.","12de025a":"Alex ferguson has the most premier league champion title here, it is exactly the same total amount of the team itself, Manchester United.\nNow we can take a conclusion here if MU won only when Alex Ferguson is their managers.","d54092db":"# Managers\n\nNow let's talk about managers, team won't be a good team without great manager. Let's take a look into our manager dataset."}}