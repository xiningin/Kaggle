{"cell_type":{"a86f02e1":"code","86822146":"code","3c84e40e":"code","26664ceb":"code","dd2a5e75":"code","f09ff82d":"code","a157cfa7":"code","978c2150":"code","9ceb9f67":"code","8f100f8d":"code","33d8d2d1":"code","959d6902":"code","22360dbb":"code","34764c2e":"code","7f0242d0":"code","efc0e7ad":"code","2d840618":"code","a2ef614f":"code","5d000ee0":"code","71d2dddc":"code","177cc141":"code","fcde067a":"code","b886b8f8":"code","5e089360":"code","24e68784":"markdown","be8c96ff":"markdown","4dfca750":"markdown","84c44013":"markdown","93a8b394":"markdown","e506fb41":"markdown","fd0724db":"markdown","fc116e0d":"markdown","bda3cfbf":"markdown","56038dac":"markdown","fac088dd":"markdown","6599db7b":"markdown","d6d2835d":"markdown","bd2b5294":"markdown","90a5663d":"markdown"},"source":{"a86f02e1":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","86822146":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport warnings\nimport panel as pn\nimport pycountry\nsns.set(rc={'figure.figsize':(16,8)})\npn.extension(\"plotly\")\nwarnings.filterwarnings('ignore')","3c84e40e":"df = pd.read_csv('\/kaggle\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv')\ndf.head()","26664ceb":"df.shape","dd2a5e75":"df.info()","f09ff82d":"df.describe()","a157cfa7":"df.isna().sum()","978c2150":"df.drop(['Standard error of ladder score', 'upperwhisker', 'lowerwhisker'], axis=1, inplace=True)","9ceb9f67":"country_score = df.groupby('Country name')['Ladder score'].sum().sort_values(ascending=False).head(50)\ncountry_score","8f100f8d":"fig = sns.barplot(x=country_score.index, y=country_score, data=country_score, color='#57D19C')\nfig.set_xticklabels(rotation=90, labels=country_score.index)\nfig","33d8d2d1":"list_countries = df['Country name'].unique().tolist()\nd_country_code = {}\nfor country in list_countries:\n    try:\n        country_data = pycountry.countries.search_fuzzy(country)\n        country_code = country_data[0].alpha_3\n        d_country_code.update({country: country_code})\n    except:\n        print('could not add ISO 3 code for ->', country)\n        d_country_code.update({country: ' '})","959d6902":"for k, v in d_country_code.items():\n    df.loc[(df['Country name'] == k), 'Country_codes'] = v","22360dbb":"fig = px.choropleth(data_frame = df,\n                    locations= \"Country_codes\",\n                    color= \"Ladder score\",\n                    hover_name= \"Country name\",\n                    color_continuous_scale= 'RdYlGn'\n                   )\n\nfig.show()","34764c2e":"fig = sns.boxplot(df['Logged GDP per capita'], width=0.4)","7f0242d0":"fig = sns.distplot(df['Logged GDP per capita'], color='#AE5ABE')","efc0e7ad":"fig = sns.regplot(x='Social support', y='Ladder score', data=df, color='#DB7D74')","2d840618":"fig = sns.distplot(df['Generosity'], color='#B7BE5A')","a2ef614f":"sns.set_style(\"whitegrid\", {'axes.grid' : False})\nfig = sns.jointplot(x='Generosity', y='Social support', data=df, kind=\"hex\", color='#8FD35B')","5d000ee0":"fig = sns.relplot(\n    data=df,\n    x=\"Healthy life expectancy\", y=\"Ladder score\",\n    hue=\"Regional indicator\",\n    palette='flare', sizes=(30, 400),\n)","71d2dddc":"sns.pairplot(df, hue=\"Regional indicator\")","177cc141":"sns.lmplot(x=\"Ladder score in Dystopia\", \n           y=\"Ladder score\", \n           data=df, \n           fit_reg=False, \n           hue='Regional indicator', \n           legend=False)","fcde067a":"sns.lmplot(x=\"Explained by: Perceptions of corruption\", \n           y=\"Perceptions of corruption\", \n           data=df, \n           fit_reg=False, \n           hue='Regional indicator', \n           legend=False)","b886b8f8":"df.drop(['Ladder score in Dystopia', 'Explained by: Perceptions of corruption','Explained by: Log GDP per capita', 'Explained by: Social support', 'Explained by: Healthy life expectancy', 'Explained by: Freedom to make life choices','Explained by: Generosity'], axis=1, inplace=True)","5e089360":"df_corr = df.corr()\nfig = sns.heatmap(df_corr, annot=True, cmap='flare')","24e68784":"# \u0421onnecting necessary libraries <i id='2'><\/i>","be8c96ff":"![image.png](attachment:0f750e37-50c1-466e-87d7-898067b237b8.png)","4dfca750":"## Correlation between features <i id='11'><\/i>","84c44013":"## Statistics on GDP per capita <i id='7'><\/i>","93a8b394":"## Healthy life expectancy and ladder score per region <i id='10'><\/i>","e506fb41":"## Countries with the highest ladder score <i id='5'><\/i>","fd0724db":"## How social support affects ladder score <i id='8'><\/i>","fc116e0d":"## Countries and their ladder score on the map <i id='6'><\/i>","bda3cfbf":"# Dashboard <i id='1'><\/i>","56038dac":"# Data loading and quick look <i id='3'><\/i>","fac088dd":"#### All the \"Explained\" (including ladder score in dystopia) features are completely correlated with one another, so we can drop them","6599db7b":"## Influence of generosity on social support <i id='9'><\/i>","d6d2835d":"# Exploratory data analysis <i id='4'><\/i>","bd2b5294":"#### You can check this dashboard on Tableau Public: https:\/\/public.tableau.com\/profile\/oleg.dargov#!\/vizhome\/Happiness_16178714306780\/Dashboard1","90a5663d":"- [Dashboard](#1)\n- [\u0421onnecting necessary libraries add Codeadd Markdown](#2)\n- [Data loading and quick look](#3)\n- [Exploratory data analysis](#4)\n    - [Countries with the highest ladder score](#5)\n    - [Countries and their ladder score on the map](#6)\n    - [Statistics on GDP per capita](#7)\n    - [How social support affects ladder score](#8)\n    - [Influence of generosity on social support](#9)\n    - [Healthy life expectancy and ladder score per region](#10)\n    - [Correlation between features](#11)"}}