{"cell_type":{"e6c07e27":"code","36897b41":"code","595b59b6":"code","fb3f7bde":"code","8916345f":"code","13caf5eb":"code","381b66a1":"code","0137cc1a":"markdown","9243f3c4":"markdown","2b573aee":"markdown","5d84ca64":"markdown","3491887f":"markdown","5723a859":"markdown","313a26ae":"markdown","5022b330":"markdown"},"source":{"e6c07e27":"import ase","36897b41":"import pandas as pd\n\nstruct_file = pd.read_csv('..\/input\/structures.csv')","595b59b6":"import random\n\n# Select a molecule\nrandom_molecule = random.choice(struct_file['molecule_name'].unique())\nmolecule = struct_file[struct_file['molecule_name'] == random_molecule]\ndisplay(molecule)","fb3f7bde":"# Get atomic coordinates\natoms = molecule.iloc[:, 3:].values\nprint(atoms)","8916345f":"# Get atomic symbols\nsymbols = molecule.iloc[:, 2].values\nprint(symbols)","13caf5eb":"from ase import Atoms\nimport ase.visualize\n\nsystem = Atoms(positions=atoms, symbols=symbols)\n\nase.visualize.view(system, viewer=\"x3d\")","381b66a1":"def view(molecule):\n    # Select a molecule\n    mol = struct_file[struct_file['molecule_name'] == molecule]\n    \n    # Get atomic coordinates\n    xcart = mol.iloc[:, 3:].values\n    \n    # Get atomic symbols\n    symbols = mol.iloc[:, 2].values\n    \n    # Display molecule\n    system = Atoms(positions=xcart, symbols=symbols)\n    print('Molecule Name: %s.' %molecule)\n    return ase.visualize.view(system, viewer=\"x3d\")\n\nrandom_molecule = random.choice(struct_file['molecule_name'].unique())\nview(random_molecule)","0137cc1a":"Finally, let's put everything into something that **ase** can process:","9243f3c4":"I hope you enjoyed this little notebook!\n\nCheers\n\nBoris D.","2b573aee":"# HOW TO: Easy Visualization of Molecules.\n\nGreetings everyone!\n\nI've seen many people ask for a simple yet elegant visualization tool for the [Predicting Molecular Properties](https:\/\/www.kaggle.com\/c\/champs-scalar-coupling\/overview) challenge. Therefore, I'm going to explain in this Kernel how to install and use **ase**, which is a python module that allows one to work with atoms and molecules. \n\nIt is available on gitlab: [ase](https:\/\/gitlab.com\/ase\/ase).\n\nThe first thing we need to do is to install **ase** on our Kernel. To do that, just click on the *Settings* tab on the right panel, then click on *Install...*, right next to *Packages*. In the *pip package name* entry, just write **ase** then hit *Install Package*.\n\nKaggle is going to do its things then restart the Kernel. **ase** should then be installed! Let's check this:","5d84ca64":"TADA!!!\n\nYou can rotate the molecule with a left click, translate it with a middle click, and zoom in or out using right click. \n\nAll this can be summarized in a single function:","3491887f":"It worked! \n\nNow let's visualize one of the molecule from the structures.csv file:","5723a859":"Now we select a random molecule from this file:","313a26ae":"Next we need to retrieve the atomic coordinates in a numpy array form:","5022b330":"The last thing we need is the atomic symbols:"}}