{"cell_type":{"78786117":"code","0e17e46a":"code","83022fde":"code","39f2489d":"code","42cb83be":"code","60bb8c93":"code","d5aa060f":"code","02b22180":"code","726ef274":"code","27cd3c62":"code","7d648d8e":"code","743feca5":"code","e2ed4799":"code","ba42ec51":"code","14d15325":"code","bcd68cbe":"code","b601593e":"code","90e0f796":"markdown"},"source":{"78786117":"%matplotlib inline\nimport os\nimport cv2\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as ticker\nimport seaborn as sns\nimport glob\nimport numpy as np\nimport pandas as pd\nimport collections","0e17e46a":"train_df = pd.read_csv(\"..\/input\/landmark-recognition-2020\/train.csv\")\ntrain_df","83022fde":"landmark_id = train_df.landmark_id.unique()\nprint(\"Number of landmark_id : \", len(landmark_id))","39f2489d":"imagedata = [] #\u521d\u671f\u5316\nlandmark_id_list = []\n\nfor ID_N in range(80):\n    train_df_id = train_df.loc[train_df.landmark_id == landmark_id[ID_N]]\n    train_df_id = train_df_id.reset_index(drop=True)\n    landmark_id_list.append(landmark_id[ID_N])\n    \n    num1 = str(train_df_id.id[0])[0]\n    num2 = str(train_df_id.id[0])[1]\n    num3 = str(train_df_id.id[0])[2]\n    filename = str(train_df_id.iloc[0, 0])\n    filepath = \"..\/input\/landmark-recognition-2020\/train\/\" +num1+ \"\/\" +num2+\"\/\" +num3+ \"\/\" + filename + \".jpg\"\n    imagedata.append(cv2.imread(filepath))\n","42cb83be":"fig = plt.figure(figsize=(20,24))\n\nfor i in range(80):\n    plt.subplot(8, 10, i+1)\n    img = imagedata[i]\n    plt.title(landmark_id_list[i])\n    plt.grid(False)\n    plt.imshow(cv2.cvtColor(img, cv2.COLOR_BGR2RGB))\n    plt.tick_params(labelbottom=False,\n                    labelleft=False,\n                    labelright=False,\n                    labeltop=False)","60bb8c93":"ID_N = 0\n\ntrain_df_id = train_df.loc[train_df.landmark_id == landmark_id[ID_N]]\ntrain_df_id = train_df_id.reset_index(drop=True)\n\nimagedata = []\n\nfor i in range(len(train_df_id)):\n    num1 = str(train_df_id.id[i])[0]\n    num2 = str(train_df_id.id[i])[1]\n    num3 = str(train_df_id.id[i])[2]\n    filename = str(train_df_id.iloc[i, 0])   \n\n    filepath = \"..\/input\/landmark-recognition-2020\/train\/\" +num1+ \"\/\" +num2+\"\/\" +num3+ \"\/\" + filename + \".jpg\"\n    imagedata.append(cv2.imread(filepath))\n\nprint(\"landmark_id =\", landmark_id[ID_N])","d5aa060f":"fig = plt.figure(figsize=(16,8))\n\nfor i in range(12 if len(train_df_id) > 12 else (len(train_df_id))):\n    plt.subplot(3, 4, i+1)\n    img = imagedata[i]\n    plt.imshow(cv2.cvtColor(img, cv2.COLOR_BGR2RGB))","02b22180":"c = collections.Counter(train_df.landmark_id)\nc = collections.Counter(list(c.values()))\nc = sorted(c.items())\n#sns.barplot(c)\n\nx = []\ny = []\n\nfor i in c:\n    x.append(i[0])\n    y.append(i[1])","726ef274":"sns.set_palette(\"winter_r\", 8, 0)\n\nfig = plt.figure(figsize=(24, 6))\nax = fig.add_subplot(1, 1, 1)\nsns.barplot(x[:100],y[:100])\nax.set(xlabel ='Number of photos per landmark',ylabel='Number of samples' )\nax.xaxis.set_major_locator(ticker.MultipleLocator(1))\nax.legend()","27cd3c62":"sns.barplot(x[:19],y[:19])\nplt.xlabel(\"Number of photos per landmark\")\nplt.ylabel(\"Number of samples\")","7d648d8e":"total1 = 0\ntotal2 = 0\n\nfor i in c:\n    if int(i[0]) < 7:\n        total1 = total1 + int(i[1])\n    else:\n        total2 = total2 + int(i[1])\n\nprint(\"\u5199\u771f\u304c7\u679a\u672a\u6e80\u306e\u5408\u8a08:\", total1, \"\u5199\u771f\u304c7\u679a\u4ee5\u4e0a\u306e\u5408\u8a08:\", total2)","743feca5":"pd.DataFrame(c).describe()[1]","e2ed4799":"sample_df = pd.read_csv(\"..\/input\/landmark-recognition-2020\/sample_submission.csv\")\nsample_df","ba42ec51":"sample_df.dtypes","14d15325":"submission = sample_df.copy()\n#submission = submission.drop([\"landmarks\"], axis=1)\n#submission[\"landmarks\"] = \"1000 0.05\"","bcd68cbe":"submission.to_csv('submission.csv', index=False)","b601593e":"submission","90e0f796":"![TurnOff](https:\/\/drive.google.com\/uc?export=view&id=14iabidS4S0Ur7R5smsHYBLZjTP9M3vWY )\n\nYou cannot use the internet in this competition. Turn it off.\n> \u3053\u306e\u30b3\u30f3\u30da\u3067\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092\u4f7f\u3046\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u53f3\u4e0b\u306eSettings\u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3092OFF\u306b\u3057\u307e\u3059\u3002"}}