{"cell_type":{"8a1c7dbc":"code","673ba85f":"code","62c89fdf":"code","af066afb":"code","056c4437":"code","2ae71763":"code","e36bbff5":"code","df3a8a27":"code","7928b5b1":"code","f7026490":"code","35c325fe":"code","1fdb0c58":"code","ea1a2900":"code","8c08bc15":"code","2ba3509f":"markdown","4c6d48fe":"markdown","06a703f3":"markdown","90bc1d01":"markdown","421377a8":"markdown"},"source":{"8a1c7dbc":"import matplotlib.pyplot as plt\nimport nltk\nfrom nltk.corpus import stopwords,wordnet\nfrom nltk.tokenize import WordPunctTokenizer\nfrom string import punctuation\nfrom nltk.stem import WordNetLemmatizer\nfrom nltk import ngrams, FreqDist\nimport pandas as pd\nfrom wordcloud import WordCloud\n\nfrom IPython import display","673ba85f":"raw_data = pd.read_csv('..\/input\/nirvana-lyrics\/raw_data.csv')","62c89fdf":"raw_data.head()","af066afb":"raw_data.isna().sum()","056c4437":"raw_data['lyrics'] = raw_data['lyrics'].apply(eval) #transform lyrics columns to list","2ae71763":"raw_data['lyrics'] = raw_data['lyrics'].apply(lambda x: ' '.join(x)) #join list in a single string","e36bbff5":"raw_data.head()","df3a8a27":"wordnet_lemmatizer = WordNetLemmatizer()\nstop = stopwords.words('english')\n\nfor punct in punctuation:\n    stop.append(punct)\n    \ndef get_wordnet_pos(word):\n    tag = nltk.pos_tag([word])[0][1][0].upper()\n    \n    tag_dict = {\"J\": wordnet.ADJ,\n                \"N\": wordnet.NOUN,\n                \"V\": wordnet.VERB,\n                \"R\": wordnet.ADV}\n\n    return tag_dict.get(tag, wordnet.NOUN)\n\ndef filter_text(text, stop_words):\n    word_tokens = WordPunctTokenizer().tokenize(text)\n    filtered_text = [w.strip().lower() for w in word_tokens if w.isalpha()]\n    filtered_text = [wordnet_lemmatizer.lemmatize(w, get_wordnet_pos(w)) for w in filtered_text if not w in stop_words] \n    return \" \".join(filtered_text)\n\nraw_data[\"filtered_text\"] = raw_data[\"lyrics\"].apply(lambda x : filter_text(x, stop)) \n\nraw_data.head()","7928b5b1":"def make_wordcloud(words,title):\n    cloud = WordCloud(width=1920, height=1080,max_font_size=200, max_words=300, background_color=\"white\",collocations=False).generate(words)\n    plt.figure(figsize=(15,15))\n    plt.imshow(cloud, interpolation=\"bilinear\")\n    plt.axis(\"off\") \n    plt.title(title, fontsize=20)\n    plt.show()","f7026490":"make_wordcloud(\" \".join(raw_data.filtered_text),'Nirvana')","35c325fe":"all_text = \" \".join(raw_data.filtered_text) \nwords = nltk.tokenize.word_tokenize(all_text)\nfreq = FreqDist(words)\nmax_words = len(freq)","1fdb0c58":"dicty = {}\nfor key in freq.keys():\n    dicty[key] = []","ea1a2900":"for i in range(len(words)-1):\n    if words[i+1] in dicty[words[i]]:\n        pass\n    else:\n        dicty[words[i]].append(words[i+1])","8c08bc15":"dicty['friend']","2ba3509f":"# Work in progress","4c6d48fe":"# NLP","06a703f3":"## What words are connected?","90bc1d01":"## Wordcloud","421377a8":"# Data Preparation"}}