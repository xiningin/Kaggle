{"cell_type":{"5a984cd5":"code","0c2483c6":"code","446dabff":"code","e1a9ed77":"code","5d801812":"code","e48e9c99":"code","54bb73a5":"code","26ded79b":"code","276d79e8":"code","70a1c584":"code","ab3ce2bb":"code","47363477":"markdown","01c06b71":"markdown","c5fbfbc4":"markdown","826699b8":"markdown","b5b1d5f9":"markdown","7fea1472":"markdown"},"source":{"5a984cd5":"import pandas as pd\nimport os\nimport matplotlib.pyplot as plt","0c2483c6":"product_name_dictionary = {}\nproduct_name_dictionary2 = {}\n\nfor dirname, _, filenames in os.walk('\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/'):\n    for filename in filenames:\n        \n        engagement_data_path = os.path.join(dirname, filename)\n\n        # read csv \n        \n        df_temp = pd.read_csv(engagement_data_path, dtype={\"lp_id\":str})\n        df_temp = df_temp.fillna(0)\n        df_temp = df_temp.groupby(by=\"lp_id\",as_index=False).sum()\n        \n        \n        for index,row in df_temp.iterrows():\n        \n            # read and count and adding in the dictionary using lp_id as key\n            \n            if row[\"lp_id\"] in product_name_dictionary.keys():\n                product_name_dictionary[row[\"lp_id\"]]  += row[\"pct_access\"] \n                product_name_dictionary2[row[\"lp_id\"]]  += row[\"engagement_index\"] \n            else:    \n                product_name_dictionary[row[\"lp_id\"]]  = row[\"pct_access\"]\n                product_name_dictionary2[row[\"lp_id\"]]  = row[\"engagement_index\"] ","446dabff":"# sorting the dictionary\n\ndef dict_val(x):\n    return x[1]\n\nsorted_product_name_dictionary = sorted(product_name_dictionary.items(), key=dict_val,reverse=True)","e1a9ed77":"product_df = pd.read_csv(\"\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\",dtype={\"LP ID\":str})","5d801812":"i = 1\nname_count=[]\n\nfor (key,val) in sorted_product_name_dictionary[:11]:\n#     print(key)\n    product_name = product_df[product_df[\"LP ID\"] == key][\"Product Name\"].values\n    if product_name != None:\n\n        name_count.append((product_name[0],val))\n        print(str(i)+\" :\"+product_name[0])\n        i +=1","e48e9c99":"#making data frame\nname_count1 = pd.DataFrame([])\nname_count1['products'] = [name[0] for name in name_count]\nname_count1['percentage_of_access'] = [name[1] for name in name_count]","54bb73a5":"plt.figure(figsize=(20,10))\nplt.bar(name_count1['products'].values,name_count1['percentage_of_access'].values,color=['orange','blue'])\nplt.xlabel('Top Product name')\nplt.ylabel('Sum of percentage of access')\nplt.show()\n\n","26ded79b":"# sorting the dictionary\n\ndef dict_val(x):\n    return x[1]\n\nsorted_product_name_dictionary2 = sorted(product_name_dictionary2.items(), key=dict_val,reverse=True)","276d79e8":"i = 1\nname_count = []\n\nfor (key,val) in sorted_product_name_dictionary2[:11]:\n#     print(key)\n    product_name = product_df[product_df[\"LP ID\"] == key][\"Product Name\"].values\n    \n    \n    if product_name != None:\n    \n        name_count.append((product_name[0],val))\n        \n        print(str(i)+\" :\"+product_name[0])\n        i +=1","70a1c584":"#making data frame\nname_count1 = pd.DataFrame([])\nname_count1['products'] = [name[0] for name in name_count]\nname_count1['pageload_per1000_student'] = [name[1] for name in name_count]","ab3ce2bb":"plt.figure(figsize=(20,10))\nplt.bar(name_count1['products'].values,name_count1['pageload_per1000_student'].values,color=['orange','blue'])\nplt.xlabel('Top Product name')\nplt.ylabel('Sum of district based Page Load Count Per 1000 Student')\nplt.show()\n\n","47363477":"#### READING PRODUCT INFO CSV","01c06b71":"## TOP 10 product Based on traffic \/ page loading","c5fbfbc4":"#### NAME OF TOP 10 PRODUCTS USING SUM OF PERCENTAGE OF ACCESS","826699b8":"# TOP 10 Product\n#### In this section I will simply do an analysis of 10 top most popular products based on two factor:\n* The Summaton of the\"Percentage of students in the district have at least one page-load event of a given product and on a given day\" and \n* The summation of the \"Total page-load events per one thousand students of a given product and on a given day\".\n","b5b1d5f9":"## Next To come\n\n* Monthly usage ranking\n* Change in the rank in top products over time\n* increasing and decreasing of usage weekly by district\n","7fea1472":"### Procedure\n1. Reading each data file in engagement_data folder and find the lp_id.\n2. Save product's lp_id and counts of hit [percentage of access and page loading count]\n3. Find the name of the product"}}