{"cell_type":{"762494f6":"code","711c6b0d":"code","5a1f056c":"code","bc009364":"code","d5d1940e":"code","a02b8a94":"code","8d0d1419":"code","68b8c45f":"code","216d2601":"code","0fd71c4a":"code","2021ca4f":"code","39388866":"code","d64f053f":"code","43cc4506":"code","4c497c43":"code","afdf36e5":"code","dd36d285":"code","912fc31d":"code","32bfa5e6":"code","21043dbe":"code","a2427102":"code","5dc30297":"code","3737b709":"code","40d4f0f7":"code","6da8b3c8":"code","12cfd177":"code","5d2aaf65":"code","fbb7b8dc":"code","0b97c6e0":"code","b9c10b7f":"code","cc700061":"code","ff75a67c":"code","88b84905":"code","397ec405":"code","b6f654d8":"code","081de06f":"code","ccdf0445":"code","c448d244":"code","7625fb72":"code","7969505c":"markdown","67288ce6":"markdown","c0c27f1e":"markdown","dcc22cf7":"markdown","ae501e41":"markdown","0051849e":"markdown","4781d595":"markdown","b47643f7":"markdown","8ededb36":"markdown","11982a0f":"markdown","1d9a8aa6":"markdown","bfd42ef8":"markdown","19a2b524":"markdown","9ab79d4f":"markdown","1b988298":"markdown","43e71140":"markdown","a6f34303":"markdown","2aaeb541":"markdown","40906355":"markdown","26f8eabf":"markdown","02a3178d":"markdown","2248cf01":"markdown","75ea9238":"markdown"},"source":{"762494f6":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","711c6b0d":"pd.set_option('display.max_columns', None)","5a1f056c":"data = pd.read_csv('..\/input\/basketball-players-stats-per-season-49-leagues\/players_stats_by_season_full_details.csv')","bc009364":"data.sample(5)","d5d1940e":"data.isnull().sum()","a02b8a94":"data_highschool = data[data['high_school'].isnull()]\ndata_highschool['League'].value_counts()","8d0d1419":"del data['high_school']","68b8c45f":"(data[data['birth_year'].isnull()])['League'].value_counts()","216d2601":"(data[data['weight'].isnull()])['League'].value_counts()","0fd71c4a":"data = data.dropna()\ndata.sample(5)","2021ca4f":"data.info()","39388866":"data['birth_date'] = data['birth_date'].astype('datetime64')\ndata['birth_year'] = data['birth_year'].astype('int64')\ndata.sample(5)","d64f053f":"b = data[['Player', 'height_cm']]\nbb = b.groupby('height_cm').size()\nbbb = bb[bb.values > 3000]","43cc4506":"fig = plt.figure(figsize=(14, 3), dpi=100)\nax = fig.add_subplot(111)\nmean = data['height_cm'].mean()\nax.bar(bb.index, bb.values, width=0.8, color='lightsteelblue')\nax.bar(bbb.index, bbb.values, width=0.8, color='royalblue')\nax.set_xticks(np.arange(165.0, 230.0, 1))\nax.set_xticklabels(np.arange(165.0, 230.0, 1), rotation=90)\nax.set_xlim(164,230)\nfor x,y in zip(bb.index, bb.values):\n    ax.text(x, y+200, y, fontsize=10, rotation=45, horizontalalignment='center')\nax.set_ylim(0,5000)\nax.set_title('Player Height Distribution', fontsize=16, y=1.02)\nax.set_xlabel('Height (CM)', fontsize=12)\nax.set_ylabel('Player Counts', fontsize=12)\nax.yaxis.grid(alpha=0.4, ls='--')\nplt.show()","4c497c43":"c = data[['Player', 'nationality']]\ncc = c.sort_values(by=['Player', 'nationality']).reset_index(drop=True)\nccc = cc.groupby('Player', as_index=False).first()\ncccc = ccc.groupby('nationality', as_index=False).count().sort_values(by='Player').tail(20)\nccccc = cccc.tail(5)","afdf36e5":"fig = plt.figure(figsize=(6,8), dpi=100)\nax = fig.add_subplot(111)\nax.barh(cccc['nationality'], cccc['Player'], color='lightsteelblue', height=0.8)\nfor x,y in zip(cccc['nationality'], cccc['Player']):\n    ax.text(y+60, x, y, fontsize=10, horizontalalignment='left')\nax.barh(ccccc['nationality'], ccccc['Player'], color='royalblue', height=0.8)\nax.set_xlim(0,4500)\nax.xaxis.grid(alpha=0.4, ls='--', color='lightsteelblue')\nax.set_title('Player Nationality Distribution', fontsize=16, y=1.02)\nax.set_xlabel('Number of Players', fontsize=12)\nax.set_ylabel('Country of Players', fontsize=12)\nplt.show()","dd36d285":"data_nat = ccc.groupby('nationality', as_index=False).count().sort_values(by='Player', ascending=False).reset_index(drop=True)\ndata_nat_200 = data_nat.loc[data_nat['Player'] >= 200]\ndata_nat_100 = data_nat.loc[(data_nat['Player'] >= 100) & (data_nat['Player'] <= 200)]","912fc31d":"fig = plt.figure(figsize=(6,6), dpi=100)\nax = fig.add_subplot(111)\ndatas = data_nat_200['Player']\nlabels = data_nat_200['nationality']\ncolors = sns.color_palette(\"Blues_r\",n_colors=5)\nax.pie(datas, labels=labels, colors=colors, autopct='%1.2f%%', textprops={'fontsize': 10, 'color': 'black'}, startangle=135, counterclock=False, pctdistance=0.8, explode=(0, 0, 0, 0, 0.1), wedgeprops=dict(width=0.4, edgecolor='w'))\nax.legend(bbox_to_anchor=(1.2, 0, 0, 0.8))\nplt.show()","32bfa5e6":"fig = plt.figure(figsize=(6,6), dpi=100)\nax = fig.add_subplot(111)\ndatas = data_nat_100['Player']\nlabels = data_nat_100['nationality']\ncolors = sns.color_palette(\"Blues_d\",n_colors=17)\nax.pie(datas, labels=labels, colors=colors, autopct='%1.2f%%', textprops={'fontsize': 10, 'color': 'white'}, startangle=135, counterclock=False, pctdistance=0.8, wedgeprops=dict(width=0.4, edgecolor='w'))\nax.legend(bbox_to_anchor=(1.2, 0, 0, 0.9))\nplt.show()","21043dbe":"data_nba = data.iloc[:, 0:22]\ndata_nba = data_nba.loc[data_nba['League'] == 'NBA', :]\ndata_nba.head()","a2427102":"d = data_nba.groupby(['Season', 'Player'], as_index=False)[['FGM', 'FGA']].sum().sort_values(by=['Season', 'FGA', 'FGM'], ascending=[True, False, False])\ndd = d.groupby('Player', as_index=False)[['FGM', 'FGA']].mean().sort_values(by='FGA', ascending=False)\nddd = dd.reset_index(drop=True)\nddd.head()","5dc30297":"fig = plt.figure(figsize=(6,6), dpi=100)\ngs = fig.add_gridspec(6,6)\nplt.subplots_adjust(wspace=0.1, hspace=0.1)\nax1 = fig.add_subplot(gs[1:, 0:5])\nax1.set_yticks(np.arange(0, 901, 100))\nax1.grid(alpha=0.2, ls='--')\nax2 = fig.add_subplot(gs[0, 0:5])\nax2.set_xticks([])\nax3 = fig.add_subplot(gs[1:, 5])\nax3.set_yticks([])\nax1.scatter(ddd['FGA'], ddd['FGM'], marker='.', color='royalblue', alpha=0.4,)\nax2.hist(ddd['FGA'], bins=200, color='royalblue', alpha=0.8)\nax3.hist(ddd['FGM'], bins=200, color='royalblue', alpha=0.8, orientation='horizontal')\nax2.set_title('Player FGA & FGM Distribution', fontsize=16, y=1.02)\nax1.set_xlabel('FGA', fontsize=12)\nax1.set_ylabel('FGM', fontsize=12)\nplt.show()","3737b709":"data_nba.head()","40d4f0f7":"e = data_nba.groupby('Player')['PTS'].sum().sort_values(ascending=False)\nee = e.describe()\nee","6da8b3c8":"fig = plt.figure(figsize=(14,4), dpi=100)\nax = fig.add_subplot(111)\nax.boxplot(e.values, widths=0.1, labels=['PTS'], vert=False, sym='+', patch_artist=False, meanline=True, showmeans=True, showcaps=True, showbox=True, showfliers=True)\nax.set_xticks(np.arange(0,30001,2000))\nax.set_xlabel('Total Scores of Player', fontsize=12)\nax.set_title('NBA Players Career Total Score Distribution', fontsize=16, y=1.02)\nax.grid(alpha=0.2)\nplt.show()","12cfd177":"e1 = data_nba['3PM']\ne2 = data_nba['FTM']\ne3 = data_nba['REB']\ne4 = data_nba['AST']","5d2aaf65":"fig = plt.figure(figsize=(4,8), dpi=100)\nax = fig.add_subplot(111)\nax.boxplot([e1.values, e2.values, e3.values, e4.values], widths=0.2, labels=['3PM', 'FTM', 'REB', 'AST'], sym='.', patch_artist=False, vert=True)\nax.set_xlabel('Data Categories', fontsize=12)\nax.set_title('Player data performance distribution in each season', fontsize=14, y=1.02)\nax.set_ylabel('Values', fontsize=12)\nax.set_yticks(np.arange(0,1400,50))\nax.yaxis.grid(alpha=0.2, ls='--')\nplt.show()","fbb7b8dc":"f = data_nba.groupby('Player')['PTS'].sum().sort_values(ascending=False).head(20)","0b97c6e0":"ff = data_nba.loc[data_nba['Player'].isin(f.index)]\nff.head()","b9c10b7f":"fig = plt.figure(figsize=(6,10), dpi=100)\nax = fig.add_subplot(111)\nax.scatter(ff['3PM'], ff['Player'], label='Three Pointer', marker='o', alpha=0.6, color='limegreen')\nax.scatter(ff['FTM'], ff['Player'], label='Free Throw', marker='o', alpha=0.6, color='firebrick')\nax.scatter(ff['REB'], ff['Player'], label='Rebounds', marker='o', alpha=0.6, color='steelblue')\nax.set_xticks(np.arange(0,1001,50))\nax.set_xticklabels(np.arange(0,1001,50), rotation=45)\nax.xaxis.grid(alpha=0.4, ls='--')\nax.set_title('Data Distribution of TOP20 NBA Players', fontsize=16, y=1.01)\nax.set_xlabel('Players\\' Performance Per Game', fontsize=12)\nax.set_ylabel('TOP20 Players', fontsize=12)\nax.legend()\nplt.show()","cc700061":"p = data_nba.groupby('Player')['PTS'].sum().sort_values(ascending=False).head(5)\npp = data_nba[['Season', 'Stage', 'Player', 'PTS']].loc[data_nba['Player'].isin(p.index)]\nppp = pp.sort_values(by=['Player', 'Season'], ascending=[True, True]).reset_index(drop=True)\npppp = ppp.loc[ppp['Stage'] == 'Regular_Season'].reset_index(drop=True)\npppp.head()","ff75a67c":"players = pppp[['Season', 'Player', 'PTS']].set_index(['Season', 'Player']).unstack().T\nplayers = players.fillna(pppp['PTS'].mean())","88b84905":"fig = plt.figure(figsize=(10,4), dpi=100)\nax = fig.add_subplot(111)\nax.plot(players.columns, players.iloc[0].values, label='James Harden', marker='.', lw=1, color='royalblue')\nax.plot(players.columns, players.iloc[1].values, label='Kevin Durant', marker='.', lw=1, color='darkblue')\nax.plot(players.columns, players.iloc[2].values, label='LeBron James', marker='.', lw=1, color='slategrey')\nax.plot(players.columns, players.iloc[3].values, label='Russell Westbrook', marker='.', lw=1, color='teal')\nax.plot(players.columns, players.iloc[4].values, label='Stephen Curry', marker='.', lw=1, color='green')\n\nax.set_xticklabels(players.columns, rotation=30)\nax.set_xlabel('Seasons', fontsize=12)\nax.set_ylabel('Scores Per Season', fontsize=12)\nax.set_title('TOP5 Player Scores Trend', fontsize=16, y=1.02)\nax.xaxis.grid(alpha=0.3, ls='--')\nplt.legend(loc='center', bbox_to_anchor=(1,0.5,0.3,0))\nplt.show()","397ec405":"data_nba1 = data.loc[(data['League'] == 'NBA') & (data['Season'] == '2018 - 2019') & (data['Stage'] == 'Regular_Season')].reset_index(drop=True)\ndata_nba2 = data_nba1[['Player', 'GP', 'MIN', 'FGM', 'FGA', '3PM', '3PA', 'FTM', 'FTA', 'TOV', 'PF', 'ORB', 'DRB', 'REB', 'AST', 'STL', 'BLK', 'PTS']]","b6f654d8":"data_nba2['GP'].describe()","081de06f":"data_nba2['MIN'].describe()","ccdf0445":"data_nba3 = (data_nba2.loc[data_nba2['GP'] >= 71]).loc[data_nba2['MIN'] >= 1751].reset_index(drop=True)\ndata_nba3 = data_nba3[['Player', 'FGM', 'FGA', '3PM', '3PA', 'FTM', 'FTA', 'TOV', 'PF', 'ORB', 'DRB', 'REB', 'AST', 'STL', 'BLK', 'PTS']]\ndata_nba3.head()","c448d244":"data_cor = data_nba3.corr()\ndata_cor","7625fb72":"fig = plt.figure(figsize=(8,7), dpi=100)\nax = fig.add_subplot(111)\nim = ax.imshow(data_cor, cmap='Blues', origin='lower', aspect='auto')\nax.set_xticks(np.arange(0,15,1))\nax.set_yticks(np.arange(0,15,1))\nax.set_xticklabels(data_cor.index)\nax.set_yticklabels(data_cor.columns)\nax.set_title('Correlation Analysis', fontsize=16, y=1.02)\nfor x in range(len(data_cor.index)):\n    for y in range(len(data_cor.values)):\n        ax.text(y, x, round(data_cor.iloc[x,y],2), color='white', ha='center', va='center', fontsize=10)\nplt.colorbar(im)\nplt.show()","7969505c":"## The proportion of national players with a number of players between 100 and 200","67288ce6":"## NBA players three-pointers, two-pointers, rebounds, assists statistics","c0c27f1e":"**in conclusion**\n\nWe found that the height, weight, and date of birth are empty data, excluding NBA games. Moreover, the number of empty data for each type of game is not large, so the deletion process is uniform.","dcc22cf7":"There are too many empty data in the high_school column, but it does not affect our analysis of the data, so directly delete the high_school column.","ae501e41":"## Read dataset CSV file","0051849e":"## Top 20 player nationalities","4781d595":"# Statistical analysis of basketball players","b47643f7":"## Correlation analysis of player data indicators","8ededb36":"## Delete rows with empty data","11982a0f":"## Data distribution of the TOP20 players with the most total points","1d9a8aa6":"## The performance of the 5 most valuable players in the regular season each season","bfd42ef8":"## Data format conversion","19a2b524":"## Import the necessary libraries","9ab79d4f":"## The percentage of players from the top 5 countries with the most players","1b988298":"The correlation between FGM and FGA is 0.95;\nThe correlation between FTM and FTA is 0.98;\nThe correlation between 3PM and 3PA is 0.99;\nThe correlation between REB and ORB and DRB is 0.97 and 0.87 respectively;\nThe correlation between PTS and FGM and FGA was 0.98 and 0.96 respectively.","43e71140":"## NBA player statistics for each season","a6f34303":"## NBA player total score statistics","2aaeb541":"The most scoring three-pointer is Stephen Curry, the season highest hit 400 + three-pointers. \n\nBlake Griffin has the most rebounds. The season's highest number of rebounds is close to 1,000. \n\nKevin Durant and James Harden scored the most two-pointers. The season-highest hit 750+ two-pointers. James Harden has more high-scoring seasons and his performance is more stable. ","40906355":"**Description**\n\nThe date of birth, weight, height, school, and nationality are missing. Let's take a look at the data characteristics and decide how to clean it.","26f8eabf":"## Player height distribution","02a3178d":"## NBA players' average total number of attempts per season","2248cf01":"## Observation data","75ea9238":"## Set display all columns"}}