{"cell_type":{"a8559ba0":"code","43e87234":"code","fb7d480a":"code","9bfe2ef6":"code","21c433b8":"code","be2c0ecc":"code","0bf04cc2":"code","450dfa5c":"code","6c1f3244":"code","1578eb41":"code","0ed5c02a":"code","82572cc0":"code","f2f76807":"code","894845ea":"code","a3b66474":"code","8522f2f4":"markdown","541f00ee":"markdown","9749cbea":"markdown","ab0d4b69":"markdown","a3477705":"markdown","fe6b063f":"markdown","be0bd130":"markdown","cfac512b":"markdown","43552c78":"markdown","08dc937c":"markdown","d4f04e2a":"markdown","ba95c8c8":"markdown","c72ae5ef":"markdown","90770939":"markdown","8f036155":"markdown","d86444d5":"markdown","416dfe32":"markdown","5698c284":"markdown","4bc769e4":"markdown"},"source":{"a8559ba0":"import numpy as np  # linear algebra\nimport pandas as pd  # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns  # plot handling\nimport plotly.express as px  # plot handling\nimport matplotlib.pyplot as plt  # plot handling","43e87234":"data = pd.read_csv('..\/input\/access-to-sanitation-around-the-world\/sanit.csv', index_col=0)","fb7d480a":"SPACE = 22\n\ndef custom_reporting(frame, label='Default'):\n    print(f\"{'Name'.rjust(SPACE)} : {label}\")\n    print(f\"{'No. rows'.rjust(SPACE)} : {frame.shape[0]}\")\n    print(f\"{'No. columns'.rjust(SPACE)} : {frame.shape[1]}\")\n    print(f\"{'No. NaN'.rjust(SPACE)} : {frame.isna().sum().sum()} <=> {frame.isna().sum().sum()\/frame.shape[0]*frame.shape[1]}\")\n    \n    for col_type in frame.dtypes.unique():\n        print(f\"{('Col. type(' + str(col_type) + ')').rjust(SPACE)} : {round(frame.dtypes[frame.dtypes == col_type].shape[0] \/ frame.shape[1] * 100, 2)}%\")","9bfe2ef6":"custom_reporting(data)","21c433b8":"data.head()","be2c0ecc":"def plot_distribution(data, col, is_cat=False):\n    plt.figure(figsize=(22, 6))\n    if not is_cat:\n        if type(col) is list:\n            for c in col:\n                sns.kdeplot(data=data, x=c, fill=True, alpha=.4, label=c)\n            plt.legend(loc='upper left')\n        else:\n            sns.kdeplot(data=data, x=col, color='steelblue', fill=True, alpha=.4)\n    else:\n        sns.countplot(data=data, x=col, palette='pastel')\n    plt.title(f'{col} distribution')\n    plt.show()","0bf04cc2":"nums = ['overall', 'rural', 'urban']\n\nplot_distribution(data, nums, is_cat=False)","450dfa5c":"print(f\"There {data['name'].unique().shape[0]} countries in the data.\")","6c1f3244":"cats = ['four_regions', 'six_regions', 'eight_regions', 'world_bank_region', 'income_groups']\n\nfor cat in cats:\n    plot_distribution(data, cat, is_cat=True)","1578eb41":"plt.figure(figsize=(22, 6))\nfor col in nums:\n    sns.lineplot(data=data, x='year', y=col, markers=True, dashes=False ,label=col)\nplt.title('Sanitation access average vs Year')\nplt.show()","0ed5c02a":"fig, axes = plt.subplots(1, 3, figsize=(22, 3*3))\nfor col, ax in zip(nums, axes):\n    sns.lineplot(data=data, x=\"year\", y=col, hue=\"four_regions\", ax=ax, lw=4)\n    ax.title.set_text(f\"Sanitation access('{col}') vs Year\")\nplt.show()","82572cc0":"fig, axes = plt.subplots(1, 2, figsize=(26, 13))\nfor col, ax in zip(['rural', 'urban'], axes):\n    sns.lineplot(data=data, x=\"year\", y=col, hue=\"eight_regions\", ax=ax, lw=4)\n    ax.title.set_text(f\"Sanitation access('{col}') vs Year\")\nplt.show()","f2f76807":"fig, axes = plt.subplots(1, 2, figsize=(26, 13))\nfor col, ax in zip(['rural', 'urban'], axes):\n    sns.lineplot(data=data, x=\"year\", y=col, hue=\"income_groups\", ax=ax, lw=4)\n    ax.title.set_text(f\"Sanitation access('{col}') vs Year\")\nplt.show()","894845ea":"data['geo'] = data['geo'].str.upper()\ndata['overall_percentage'] = data['overall'] * 100\ndata['rural_percentage'] = data['rural'] * 100\ndata['urban_percentage'] = data['urban'] * 100","a3b66474":"fig= px.scatter_geo(\n    data.dropna(),\n    locations=\"geo\",\n    color=\"overall_percentage\", # which column to use to set the color of markers\n    hover_name=\"name\", # column added to hover information\n    size=\"overall_percentage\",\n    animation_frame=\"year\",\n)\n\nfig.update_layout(\n    height=500,\n    width=800,\n    title_text=\"Overall sanitation access over the world\"\n)\n\nfig.show()","8522f2f4":"<div class=\"alert alert-block alert-info\">\n    \u2139\ufe0f As we can see access to sanitation is higher in <b>urban areas<\/b> than <b>rural areas<\/b>.\n<\/div>","541f00ee":"<div class=\"alert alert-block alert-info\">\n    \u2139\ufe0f <ins>Observations<\/ins>: As those lineplots show, <b><em>the higher the income, the higher is the sanitation access<\/em><\/b>.\n<\/div>","9749cbea":"# Setup\n\nLet's load the main packages that will be useful for the code...","ab0d4b69":"# EDA","a3477705":"<div class=\"alert alert-block alert-info\">\n    \u2139\ufe0f <ins>Observations<\/ins>:\n    <b>3 groups<\/b> of continental regions can be identified here. <span><\/span>\n    <ol>\n        <li><span style=\"color:green; font-weight:bold\">Europe West\/East<\/span> which have a high sanitation access <span style=\"color:green; font-weight:bold\">Rural(\u00b1[0.8, 1.0]), Urban(\u00b1[0.9, 1.0])<\/span><\/li>\n        <li><span style=\"color:orange; font-weight:bold\">Africa North, America South\/North, Asia West and East Asia Pacific<\/span> which have a medium sanitation access <span style=\"color:orange; font-weight:bold\">Rural(\u00b1[0.3, 0.8]), Urban(\u00b1[0.7, 0.9])<\/span><\/li>\n        <li><span style=\"color:red; font-weight:bold\">Africa Sub-Saharan<\/span> which have a low sanitation access <span style=\"color:red; font-weight:bold\">Rural(\u00b1[0.0, 0.3]), Urban(\u00b1[0.3, 0.5])<\/span><\/li>\n    <\/ol>\n<\/div>","fe6b063f":"## Four regions","be0bd130":"What does the data look like?","cfac512b":"# 1. Numerical distribution","43552c78":"# 4. Animated plot","08dc937c":"# 2. Categorial distribution","d4f04e2a":"# Conclusion\n\nBased on our <b>Exploratory Data Analysis<\/b> we can conclude this notebook with a few simple things:\n- In overall <span style=\"color:blue; font-weight:bold\">sanitation access increases \u279a<\/span> \n- <span style=\"color:blue; font-weight:bold\">Europe<\/span> is the region with the <span style=\"color:blue; font-weight:bold\">highest access to sanitation <\/span>.\n- <span style=\"color:red; font-weight:bold\">Sub-Saharan Africa<\/span> is the region with the <span style=\"color:red; font-weight:bold\">least access to sanitation <\/span>.\n- <span style=\"color:green; font-weight:bold\">Income<\/span> (<em>country\/regions<\/em>) is an important variable for <b>sanitation acess<\/b> all around the world.\n- <span style=\"color:green; font-weight:bold\">3 groups of regions<\/span> were detected base on <em>eight_regions<\/em> variable, which were categorized as <span style=\"color:green; font-weight:bold\">High<\/span>|<span style=\"color:orange; font-weight:bold\">Medium<\/span>|<span style=\"color:red; font-weight:bold\">Low<\/span> sanitation access level.\n\nHope you enjoyed! If there are mistakes please let me know.","ba95c8c8":"## By income groups","c72ae5ef":"## Eight regions","90770939":"<div class=\"alert alert-block alert-info\">\n    \u2139\ufe0f <ins>Observations<\/ins>:\n    <ul>\n        <li>It seems that in every continents and for every type of sanitation accesses, <span style=\"color:red; font-weight:bold\">Europe > Americas > Asia > Africa<\/span><\/li>\n        <li>It is logical because most of the countries in <b>Europe<\/b> are developped and don't have any issues with sanitation access. While in <b>Asia and Americas<\/b> it is diversified because for instance <b>America<\/b> is divided in the USA\/Canada vs Latino countries which are way less developped, same for <b>Asia<\/b>.<\/li>\n    <\/ul>\n<\/div>\n\n<br>\n\n<div class=\"alert alert-block alert-warning\">\n    \u26a0\ufe0f I won't analyze the temporal evolution of sanitation access for <b><em>six_regions<\/em><\/b> variables because it is pratically the same as <b><em>eight_regions<\/em><\/b> but less accurate.\n<\/div>","8f036155":"<div class=\"alert alert-block alert-info\">\n    \u2139\ufe0f <ins>Observations<\/ins>:\n    <ul>\n        <li>Every continents are presents (except Antarctica)<\/li>\n        <li><em>income_groups<\/em> is an imbalanced variable because <b>Low income<\/b> has a lesser count than the other groups...<\/li>\n    <\/ul>\n<\/div>","d86444d5":"<div class=\"alert alert-block alert-info\">\n    \u2139\ufe0f <ins>Observations<\/ins>:\n    <ul>\n        <li>In <b><em>overall<\/em><\/b>, <b><em>rural<\/em><\/b> and <b><em>urban<\/em><\/b> sanitation access tend <b>increase<\/b>.<\/li>\n        <li><b><em>rural<\/em><\/b> sanitation access is always lower than <b><em>urban<\/em><\/b> sanitation access and the tendency does not seem to change at all<\/li>\n    <\/ul>\n<\/div>","416dfe32":"# 3. Temporal analysis","5698c284":"# \ud83c\udf0d Access to sanitation around the world\n\n<div style=\"align:center\">\n    <img src=\"https:\/\/storage.googleapis.com\/kaggle-datasets-images\/1197352\/2001420\/86f290ad3b008642d8d8eb319d354aca\/dataset-cover.png?t=2021-03-07-08-08-32\">\n<\/div>\n\n<br>\n\n<img src=\"https:\/\/img.shields.io\/badge\/Made%20on-Kaggle-20beff?style=flat&logo=kaggle&logoColor=white\">\n\n<div style=\"color:white;\n           display:fill;\n           border-radius:5px;\n           background-color:#B0D4C9;\n           font-size:110%;\n           font-family:Brushstroke;\n           letter-spacing:0.5px\">\n    \n    <p style=\"padding: 10px;color:black;\"><em>\u201cSanitation is more important than Independence.\u201d<\/em> \u2013 Mahatma Gandhi<\/p>\n<\/div>\n\n## Introduction\n\nThis notebook is dedicated to the dataset <b><em>Access to sanitation around the world<\/em><\/b>, <em>Access to basic sanitation facilities around the world<\/em>, given by [@ahsanmehmoood](https:\/\/www.kaggle.com\/ahsanmehmoood). The main focus of this notebook will be to:\n- Give a temporal evolution of **sanitation access**\n- Analyse the **difference between**: ***Countries***, ***Continents***, ***Low\/High income countries***...\n- Make **hypothesis on the causes**\n\n## Table of contents\n- Setup\n- EDA","4bc769e4":"Now let's load the data!"}}