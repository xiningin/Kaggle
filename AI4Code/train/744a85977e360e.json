{"cell_type":{"726a664e":"code","6737f8bd":"code","df3d3f53":"code","7caf463a":"code","4b870ab7":"code","88894ef8":"code","3b57c9fb":"code","da37973a":"code","44699401":"code","5c6c539c":"code","cf4936b1":"code","a3b02f70":"code","dbbc5f2a":"code","62304e65":"code","b2580c24":"code","20fc7ac6":"code","8b3f4ea7":"code","6652a7ff":"code","a672ed9a":"code","47b28305":"markdown","ed6ae92c":"markdown","425d88b1":"markdown","cf08ab8e":"markdown","4b9708ae":"markdown","0fb63b9f":"markdown","79fdd54f":"markdown","8709e99f":"markdown","06946688":"markdown","924fc23a":"markdown"},"source":{"726a664e":"import numpy as np \nimport pandas as pd \n#Data Visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n#Preprocessing\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import OneHotEncoder\n#Prediction\nfrom xgboost import XGBRegressor\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.metrics import mean_absolute_error\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","6737f8bd":"spotify_data = pd.read_csv('\/kaggle\/input\/top50spotify2019\/top50.csv',encoding = \"ISO-8859-1\",index_col='Unnamed: 0')","df3d3f53":"spotify_data","7caf463a":"spotify_data['Genre'].nunique()","4b870ab7":"spotify_data['Genre'].unique()","88894ef8":"spotify_data['Artist.Name'].nunique()","3b57c9fb":"spotify_data['Artist.Name'].unique()","da37973a":"plt.title(\"Genre Popularity in the top 50 Spotify songs - 2019\")\nsns.barplot(x=spotify_data['Popularity'], y=spotify_data['Genre'])","44699401":"plt.figure(figsize=(5,10))\nplt.title(\"Artist Popularity in the top 50 Spotify songs - 2019\")\nsns.barplot(x=spotify_data['Popularity'], y=spotify_data['Artist.Name'])","5c6c539c":"plt.figure(figsize=(15,17))\nsns.heatmap(spotify_data.corr(),annot=True,cmap='Blues', fmt='g')","cf4936b1":"g0 = sns.lmplot(x='Speechiness.',y='Beats.Per.Minute',data=spotify_data)\naxes = g0.axes.flatten()\naxes[0].set_title('Speechiness vs Beats Per Minute')","a3b02f70":"g1 = sns.lmplot(x='Energy',y='Loudness..dB..',data=spotify_data)\naxes = g1.axes.flatten()\naxes[0].set_title('Energy vs Loudness')","dbbc5f2a":"g2 = sns.lmplot(x='Energy',y='Valence.',data=spotify_data)\naxes = g2.axes.flatten()\naxes[0].set_title('Energy vs Valence')","62304e65":"g3 = sns.lmplot(x='Energy',y='Acousticness..',data=spotify_data)\naxes = g3.axes.flatten()\naxes[0].set_title('Energy vs Acousticness')","b2580c24":"g4 = sns.lmplot(x='Valence.',y='Popularity',data=spotify_data)\naxes = g4.axes.flatten()\naxes[0].set_title('Valence vs Popularity')","20fc7ac6":"g5 = sns.lmplot(x='Loudness..dB..',y='Speechiness.',data=spotify_data)\naxes = g5.axes.flatten()\naxes[0].set_title('Loudness vs Speechiness')","8b3f4ea7":"y = spotify_data['Popularity']\nX = spotify_data.drop(['Popularity'], axis=1)\n\nX_train, X_valid, y_train, y_valid = train_test_split(X, y, train_size=0.7, test_size=0.3,random_state=0)","6652a7ff":"s = (X_train.dtypes == 'object')\nobject_cols = list(s[s].index)","a672ed9a":"OH_encoder = OneHotEncoder(handle_unknown='ignore', sparse=False)\nmy_model = XGBRegressor(random_state=0, n_estimators=1000, learning_rate=0.05)\nmy_pipeline = Pipeline(steps=[('preprocessor', OH_encoder),\n                             ('model', my_model)])\nmy_pipeline.fit(X_train,y_train)\npreds= my_pipeline.predict(X_valid)\n\nprint(mean_absolute_error(y_valid,preds))","47b28305":"Number of unique variables:","ed6ae92c":"Plots showing these correlations:","425d88b1":"Correlational Heatmap:","cf08ab8e":"Artist Popularity:","4b9708ae":"Popularity Prediction","0fb63b9f":"Some correlation found:\n1. Positive correlation\n    * Speechness and Beats per Minute\n    * Enery and Loudness\n    * Energy and Valence\n2. Negative correlation\n    * Energy and Acousticness    \n    * Valence and Popularity     \n    * Loudness and Speechness     ","79fdd54f":"Number of unique Artists:","8709e99f":"Unique Artists:","06946688":"Unique Genres:","924fc23a":"Genre Popularity:"}}