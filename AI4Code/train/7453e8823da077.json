{"cell_type":{"8fd70ea2":"code","5173fa34":"code","46d5713f":"code","908d94b1":"code","701c1f2e":"code","9db46d7b":"code","186c74c9":"code","db757ead":"code","1ba5a7a7":"code","36777821":"code","89557125":"code","b05298bc":"markdown","fefd9a62":"markdown","5c06bc81":"markdown","eb865cf5":"markdown","13604508":"markdown","db137adc":"markdown","109ff39a":"markdown","4ce2ac47":"markdown","ab1b0171":"markdown","4ed3f486":"markdown","4e509c67":"markdown","a4c3c0f1":"markdown"},"source":{"8fd70ea2":"# Importing all modules\n\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom IPython.display import display","5173fa34":"# Displays all columns without truncating\npd.set_option('display.max_columns', None)\n\n# loading data\ndata = pd.read_csv(\"..\/input\/football-players-price-dataset\/dataset_football_cleaned.csv\")","46d5713f":"# Displaying info\nprint(data.info())","908d94b1":"# Displaying summary statistics of numerical columns\ndisplay(data.describe())","701c1f2e":"# Printing unique values under columns which had NaN value for correlation\n\nprint(\"clean_sheet_champ unique values: \", data[\"clean_sheet_champ\"].unique())\nprint(\"conceded_goal_cup unique values: \", data[\"conceded_goal_cup\"].unique())\nprint(\"clean_sheet_cup unique values: \", data[\"clean_sheet_cup\"].unique())\nprint(\"conceded_goal_continent unique values: \", data[\"conceded_goal_continent\"].unique())\nprint(\"clean_sheet_continent unique values: \", data[\"clean_sheet_continent\"].unique())","9db46d7b":"# Examining sample of our dataset\ndisplay(data.head())","186c74c9":"# Displaying correlation between different features and target variable \ndisplay(pd.DataFrame(data.corr()[\"price\"]).sort_values([\"price\"], ascending=False))","db757ead":"# Finding and displaying low correlation features\n\nlow_corr_cols = pd.DataFrame(data.corr()[\"price\"][(np.abs(data.corr()[\"price\"]).values<0.1)]).index\ndisplay(pd.DataFrame(data.corr()[\"price\"][(np.abs(data.corr()[\"price\"]).values<0.1)]))","1ba5a7a7":"# Visualising average price of players from each country\n\ncountry_vs_price = data.groupby([\"nation\"], axis=0).agg(np.mean)[[\"price\"]].sort_values(\"price\", ascending=False)\nf, ax = plt.subplots(figsize=(30, 8))\nsns.barplot(x=country_vs_price.index.values, y=country_vs_price.price)\nplt.xlabel(\"( Country )\")\nplt.ylabel(\"( Price Of Players )\")\nplt.xticks(rotation=90)\nplt.show()","36777821":"# Visualising average price of players from each league\n\nteam_vs_price = data.groupby([\"league\"], axis=0).agg(np.mean)[[\"price\"]].sort_values(\"price\", ascending=False)\nf, ax = plt.subplots(figsize=(30, 8))\nsns.barplot(x=team_vs_price.index.values, y=team_vs_price.price)\nplt.xlabel(\"( League )\")\nplt.ylabel(\"( Price Of Players )\")\nplt.xticks(rotation=90)\nsns.despine(left = True, bottom = True)\nplt.show()","89557125":"# Displaying number of player data available under each position\n\nposition_count = pd.DataFrame(data[[\"position\"]].value_counts())\nposition_count.columns = [\"n_samples\"]\ndisplay(position_count)\n\n# Visualising price of players playing in different positions\n\nf, ax = plt.subplots(figsize=(25, 8))\nsns.barplot(x=data.position, y=data.price)\nplt.xlabel(\"( Position )\")\nplt.ylabel(\"( Price Of Players )\")\nplt.show()","b05298bc":"* Above displayed features have very low correlation(they won't be a deciding factor of our predictions) and may be dropped or used for feature engineering during data processing.\n****\n**Let's visualise average price of players from each country.**","fefd9a62":"* It seems like \"goal_continent\" feature has highest correlation and is most important feature.\n* Last five features which has NaN will be dropped later as mentioned earlier. So we don't need to worry about them now.\n****\n**Let's display low correlation(less than 0.1) features.**","5c06bc81":"****\n**Let's Examine the correlation between different features and our target variable \"price\".**","eb865cf5":"* It seems like the average price of a football player according to our available data is 17,74,767 \u20ac. \n* From the summary staticstics, It is doubtful that few columns( \"clean_sheet_champ\", \"conceded_goal_cup\", \"clean_sheet_cup\", \"conceded_goal_continent\", \"clean_sheet_continent\" )\nhave only 0 as values.\n****\n**Let's Examine the unique values in above mentioned columns.**","13604508":"* As we doubted, The mentioned columns have only 0 as values. So, They will be dropped during data processing.\n****\n**Let's Examine few rows of our dataset.**","db137adc":"**Observations from our EDA:**\n* We have six categorical features( \"name\", \"first_name\", \"nation\", \"team\", \"league\" ,\"position\" ). But They are stored as object data type which must be converted to categorical.\n* Column \"end_contract\" have some null values.\n* \"name\" and \"first_name\" columns can be dropped as they are not important to predict price.\n* Average price of a football player according to our available data is 17,74,767 \u20ac.\n* Few columns( \"clean_sheet_champ\", \"conceded_goal_cup\", \"clean_sheet_cup\", \"conceded_goal_continent\", \"clean_sheet_continent\" )\nhave only 0 as values. They can be dropped.\n* It seems like \"goal_continent\" feature has highest correlation and is most important feature.\n* Some features have very low correlation( they won't be a deciding factor of our predictions ) and may be dropped or used for feature engineering during data processing.\n* Country \"Central African Republic\" have a large number of highest paid players.\n* Players playing in \"LaLiga\" League are paid the highest rate.\n* It may seem like some positions are paid lowest but actually it is due to the insuffcient data available for those positions( They may introduce high variance in our predictions leading to overfitting ).","109ff39a":"* From the visualisation, It is clear that \"Central African Republic\" have a large number of highest paid players.\n****\n**Let's visualise average price of players from each league.**","4ce2ac47":"**Football Players Price Prediction - EDA**\n****\nIn this notebook we will,\n* display all the summary statistics of our data.\n* Examine features to find which are necessary and which are not.\n* Explore the correlations between the features and our target variable \"price\".\n* Visualise categorical features and the corresponding players' average price.\n****\n*We will end up in understanding about which features are important and which are not. Here We wont do any manipulations on dataset instead we will be processing our data when creating models using the observations from this EDA.*","ab1b0171":"* From the visualisation, we find that Players playing in \"LaLiga\" League are paid the highest rate.\n****\n**Let's find the number of player data available under each position and visualise price of players playing in different positions.**","4ed3f486":"* It seems like we have six categorical features. But They are stored as object data type, which we will convert to category data type while processing our data. \n* Also, It seems like column \"end_contract\" have some null values.\n* \"name\" and \"first_name\" columns can be dropped as they are not important to predict price.\n****\n**Now Let's Examine the summary statistics of Numerical Features.**","4e509c67":"* From the number of samples, It seems like there is not enough data for some positions.\n* From the visualisation, It may seem like some positions are paid lowest but actually it is due to the insuffcient data available for those positions.\n****","a4c3c0f1":"****\n**Let's Find the data types and number of non-null values available in each column.**"}}