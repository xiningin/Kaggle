{"cell_type":{"eabf2a75":"code","e16e3c37":"code","5dbeb394":"code","1df7351b":"code","a2143622":"code","44210815":"code","1d5b4db5":"code","3c6c264c":"code","1b96f3c7":"code","07c49ad1":"code","b2cef3ee":"code","dddc1dfc":"code","e59b10ba":"code","fdd56590":"code","82ae0d36":"code","420208e0":"code","4bd821a3":"code","64bfd1fb":"code","53800564":"code","70cd91bd":"code","9ef42bc1":"code","cbc7d56f":"code","4bbc4c0e":"code","d1bb07ed":"code","b145ba21":"code","df411bc9":"code","d2ff4436":"code","e4570332":"code","0bf7e9d7":"code","dd399f9d":"markdown","f47432d8":"markdown","715ca85c":"markdown","8c4e7f39":"markdown","60b72c5a":"markdown","a77076dc":"markdown","aa8ea249":"markdown","9bf60948":"markdown","10c480fd":"markdown","2b41cf91":"markdown","bde20aa1":"markdown","d015f2ea":"markdown","92cfff44":"markdown","e29ab08e":"markdown","26dfd2b0":"markdown","4f00491d":"markdown","1836afd2":"markdown","fec87040":"markdown","4a30fc91":"markdown","be45dd4a":"markdown","c3a19fdf":"markdown","fff23300":"markdown","06d17c83":"markdown","eac4de48":"markdown","dc0e319d":"markdown","4077aa46":"markdown","de250af8":"markdown","281c70f3":"markdown","95e1d82b":"markdown","ec18d1fc":"markdown","1d80c7b8":"markdown","2c492f69":"markdown"},"source":{"eabf2a75":"# Importing necessary libraries that I'll be working with throughout this assignment\n\nimport pandas as pd\nimport seaborn as sns\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline","e16e3c37":"#from google.colab import files\n#uploaded = files.upload()","5dbeb394":"#import io\n\n# Reading Haberman Cancer Survival Dataset as a pandas dataframe\n\nhaberman = pd.read_csv('..\/input\/haberman.csv\/haberman.csv')\nprint(haberman)","1df7351b":"# Get dimension of the dataframe\n\nprint(haberman.ndim)","a2143622":"# Get how many datapoints(rows) and features(columns) are there in the dataframe\n\nprint(haberman.shape)","44210815":"# Get list of all column names in the dataframe\n\nprint(haberman.columns)","1d5b4db5":"# Rename columns of dataframe\n\nhaberman.rename(columns={'age':'patient_age', 'year':'surgery_year', 'nodes':'positive_nodes', 'status':'survival_status'}, inplace=True)","3c6c264c":"# Get first 10 datapoints of newly renamed dataframe\n\nprint(haberman.head(10))","1b96f3c7":"# Get information about the dataframe\n\nprint(haberman.info())","07c49ad1":"# Get how many patients survived more than 5 years and how many died within 5 years of surgery\n\nhaberman[\"survival_status\"].value_counts()","b2cef3ee":"# Check if the dataset has any missing or null values\n\nprint(haberman.isnull().sum())","dddc1dfc":"print(haberman.describe())","e59b10ba":"# Create separate dataframes for different classes in survival_status column\n\nsurvived = haberman.loc[haberman['survival_status'] == 1]\nnot_survived = haberman.loc[haberman['survival_status'] == 2]\n\n# Plot 1D scatter plots for each of the features attributes: patient_age, surgery_year, positive_nodes\n\nplt.figure(1)\nplt.plot(survived['patient_age'], np.zeros_like(survived['patient_age']),'ro', label='Survived')\nplt.plot(not_survived['patient_age'], np.zeros_like(not_survived['patient_age']), 'bo', label='Not Survived')\nplt.title('1D scatter plot for patient\\'s age')\nplt.xlabel('patient\\'s age')\nplt.legend()\n\nplt.figure(2)\nplt.plot(survived['surgery_year'], np.zeros_like(survived['surgery_year']),'ro', label='Survived')\nplt.plot(not_survived['surgery_year'], np.zeros_like(not_survived['surgery_year']), 'bo', label='Not Survived')\nplt.title('1D scatter plot for the year of surgery')\nplt.xlabel('year of surgery')\nplt.legend()\n\nplt.figure(3)\nplt.plot(survived['positive_nodes'], np.zeros_like(survived['positive_nodes']),'ro', label='Survived')\nplt.plot(not_survived['positive_nodes'], np.zeros_like(not_survived['positive_nodes']), 'bo', label='Not Survived')\nplt.title('1D scatter plot for no.of positive nodes')\nplt.xlabel('positive nodes')\nplt.legend()\n\nplt.show()","fdd56590":"# Plot survival status based on patient's age using Probability Density Function(PDF)\n\nsns.FacetGrid(haberman, hue=\"survival_status\", height=5) \\\n   .map(sns.histplot, \"patient_age\") \\\n   .add_legend();\nplt.title('PDF for patient\\'s age')\nplt.ylabel('density')\n\nplt.show();","82ae0d36":"# Plot survival status based on year of surgery using Probability Density Function(PDF)\n\nsns.FacetGrid(haberman, hue=\"survival_status\", height=5) \\\n   .map(sns.histplot, \"surgery_year\") \\\n   .add_legend();\nplt.title('PDF for year of surgery')\nplt.ylabel('density')\n\nplt.show();","420208e0":"# Plot survival status based on positive nodes using Probability Density Function(PDF)\n\nsns.FacetGrid(haberman, hue=\"survival_status\", height=5) \\\n   .map(sns.histplot, \"positive_nodes\") \\\n   .add_legend();\nplt.title('PDF for positive nodes')\nplt.ylabel('density')\nplt.show();","4bd821a3":"# Boxplot using patient's age\n\nsns.boxplot(x='survival_status',y='patient_age', data=haberman)\nplt.title('box plot of patient\\'s age vs survival status')\nplt.show()","64bfd1fb":"# Boxplot using no.of positive nodes a patient has\n\nbp1 = sns.boxplot(x='survival_status',y='positive_nodes', data=haberman)\nplt.title('box plot of positive nodes vs survival status')\nplt.show()","53800564":"# Boxplot using the year of surgery\n\nsns.boxplot(x='survival_status',y='surgery_year', data=haberman)\nplt.title('box plot of surgery year vs survival status')\nplt.show()","70cd91bd":"# Violin plot of positive nodes vs survival status\n\nsns.violinplot(x=\"survival_status\", y=\"positive_nodes\", data=haberman, size=10)\nplt.title('violin plot of positive nodes vs survival status')\nplt.show()\n\n# Violin plot of patient's age vs survival status\n\nsns.violinplot(x=\"survival_status\", y=\"patient_age\", data=haberman, size=10)\nplt.title('violin plot of patient\\'s age vs survival status')\nplt.show()\n\n# Violin plot of year of surgery vs survival status\n\nsns.violinplot(x=\"survival_status\", y=\"surgery_year\", data=haberman, size=10)\nplt.title('violin plot of year of surgery vs survival status')\nplt.show()","9ef42bc1":"survived = haberman.loc[haberman['survival_status'] == 1]\nnot_survived = haberman.loc[haberman['survival_status'] == 2]\n\nprint(haberman.columns)","cbc7d56f":"# Plot PDF & CDF based on the year of surgery\n\ncounts, bin_edges = np.histogram(haberman['surgery_year'], bins=10, density=True)\npdf = counts\/sum(counts)\nprint('bin_edges: ', bin_edges)\nprint('pdf: ', pdf)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\nplt.legend(['PDF', 'CDF'])\nplt.title('PDF & CDF of year of surgery')\nplt.xlabel('year of surgery')\nplt.ylabel('density')\nplt.show()","4bbc4c0e":"# Plot PDF & CDF based on patient's age\n\ncounts, bin_edges = np.histogram(haberman['patient_age'], bins=10, density=True)\npdf = counts\/sum(counts)\nprint('bin_edges: ', bin_edges)\nprint('pdf: ', pdf)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\nplt.legend(['PDF', 'CDF'])\nplt.title('PDF & CDF of patient\\'s age')\nplt.xlabel('patinet\\'s age')\nplt.ylabel('density')\nplt.show()","d1bb07ed":"# Plot PDF & CDF based on no.of positive auxillary nodes\n\ncounts, bin_edges = np.histogram(haberman['positive_nodes'], bins=10, density=True)\npdf = counts\/sum(counts)\nprint('bin_edges: ', bin_edges)\nprint('pdf: ', pdf)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\nplt.legend(['PDF', 'CDF'])\nplt.title('PDF & CDF of positive nodes')\nplt.xlabel('no.of positive nodes')\nplt.ylabel('density')\nplt.show()","b145ba21":"# Contour plot with survival stauts based on patient's age and surgery year\n\nsns.jointplot(x=\"surgery_year\",y=\"patient_age\",data=haberman, kind=\"kde\")\nplt.show()","df411bc9":"# Contour plot with survival stauts based on patient's age and no.of positive nodes\n\nsns.jointplot(x=\"positive_nodes\", y=\"patient_age\", data=haberman, kind=\"kde\");\nplt.show()","d2ff4436":"# Plot a 2D scatter plot with patient's age and no.of positive nodes \n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(haberman, hue=\"survival_status\", height=8) \\\n   .map(plt.scatter, \"patient_age\", \"positive_nodes\") \\\n   .add_legend();\nplt.xlabel(\"patient's age\")\nplt.ylabel(\"positive nodes\")\nplt.title('can we say that positive nodes increase by age?')\n\nplt.show();","e4570332":"# Plot a 2D scatter plot with year of surgery and no.of positive nodes \n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(haberman, hue=\"survival_status\", height=8) \\\n   .map(plt.scatter, \"surgery_year\", \"positive_nodes\") \\\n   .add_legend();\nplt.xlabel(\"year of surgery\")\nplt.ylabel(\"positive nodes\")\nplt.title('does the year of surgery has any corelation to how many positive nodes a patient has?')\n\nplt.show();","0bf7e9d7":"# Create a pair plot with all 3 feature attributes\n\nsns.set_style(\"whitegrid\")\nsns.pairplot(haberman, hue=\"survival_status\", height = 4)\n\nplt.show()","dd399f9d":"### Histograms & Probability Density Function(PDF)","f47432d8":"**Observations:**\n\nPlotting survival status based on the year of surgery is not helpful to distinguish between the classes as they have almost same median and their 25th to 75th percentile are also almost overlapping.","715ca85c":"# Bivariate Analysis","8c4e7f39":"**Observations:**\n\n* Maximum and minimum ages of patients who survived the treatment are 77 & 30 respectively.\n* 25% of patients have no positive lymph nodes and have the highest survival chances.\n* Patient's age ranges between 30 to 83 with 52 as average age.\n* ~ 75% of patients have <= 4 positive auxillary nodes.","60b72c5a":"**Observations:**\n\n* There are no missing values in this dataset i.e. no NaN values in any column.\n* 225 patients out of 306 survived more than 5 years and 81 patients died within 5 years after surgery i.e. 73.53% of patients survived more than 5 years after surgery.\n* We can derive that survival_status=1 means the patient had survived more than 5 years after the treatment and survival_status=2 means the patient did not survive. We can map accordingly.\n* Data type of all columns is integer.\n* This is an *imbalanced dataset* as no.of datapoints for two classes differ vastly.\n","a77076dc":"**Observations:**\n\n* Fig(1), overlap is huge. Patient's age and the year of surgery are not dependent factors for predicting survival status.\n* Fig(2), reiterates that the lesser no.of positive nodes the higher chance of survival. Patient's age even distributed so no concrete conclusions can be drawn.","aa8ea249":"## Box Plots and Whiskers","9bf60948":"## Pair Plots","10c480fd":"## Mean, Variance and Standard Deviation:","2b41cf91":"## Violin Plots","bde20aa1":"**Observations:**\n\n* Patients with positive nodes less then 5 tend to survive.\n* 75 percentile of patients who survived have less than 4 positive nodes. 50 percentile of patients who could not survive have higher no.of positive nodes\n* As we've seen before, having less positive nodes is a dominant factor in determining the survival rate of the patient.\n* There seem to be high number of outlier datapoints in the postive nodes feature.","d015f2ea":"**Observations:**\n\n* Patients with 0 positive nodes seem to have the highest chance of survival irrespective of their age.\n* Patients whose age is <=30 are most likely to survive. \n* We can also conclude that patients between 30-40 years of age are also somewhat likely to survive except a few cases where positive nodes are high.\n* Blue and Orange data points cannot be easily seperated.\n* There is too much over lapping so no other significant observations can be made from this 2D scatter plot.\n","92cfff44":"**Observations:**\n\n* From above CDF curves, we can say that there's around 85% chance of survival if number of axillary nodes detected are < 5.\n* Its observed that 80% \u2014 85% of people have good chances of survival if they have less number of axillary nodes detected.\n* And that 100% of the people are not likely to survive if they have 40 or more positive nodes.\n","e29ab08e":"**Observations:**\n\n* By looking at above plots, we are not able to find any distinguishable features among patient's age, positive nodes and his\/her survival status.\n* Since there's so much overlapping, there's no way to determine how many data points are there between intervals.","26dfd2b0":"**Observations:**\n\nAlthough it does seem like patients with less no.of positive nodes will survive regardless of age, there's no way in above plot to linearly separate the classes of patients.\n","4f00491d":"**Observations:**\n\n* For fig(1), the survival rate is centered around 0-7 nodes. This asserts the inference that lesser nodes means more survival rate.\n* For fig(2), it is clear that the Age attribute is normally distributed. However given significant overlap, patient's age alone should not be a deciding factor concluding the chances of survival.\n* For fig(3), it is very hard to classify both classes of patients as thete's a significant overlap.","1836afd2":"# Exploratory Data Analysis - Haberman\u2019s Cancer Survival Dataset\n\n***Understanding the dataset***\n\nThe dataset contains cases from a study that was conducted between 1958 and 1970 at the University of Chicago's Billings Hospital on the survival of patients who had undergone surgery for breast cancer.\n\nThere are 4 attribites in this dataset out of which 3 seem to be features\/characteristics of patients in this study. The last attribute corresponds to whether or not a particular patient survived for more than 5 years or died within 5 years of the surgery for breat cancer.\n\nHaberman's dataset specifies that some patients were found to have anywhere between 0 to 52 cancer positive auxillary lymph nodes. \n\nWhat this means is that having cancer cells in auxillary(under the armpit) lymph nodes means one's cancer is considered lymph node-positive. Based on TNM staging, tumor would be called either N1, N2, or N3 depending on how many lymph nodes contain cancer cells and how far away from the tumor the positive nodes are found.\n\n* N1: Positive- 1 to 3 auxillary lymph nodes have cancer cells.\n* N2: Positive- 4 to 9 auxillary lymph nodes have cancer cells.\n* N3: Positive- 10 or more auxillary lymph nodes have cancer cells.\n\nSources:\n* https:\/\/www.cancer.ca\/en\/cancer-information\/cancer-101\/what-is-cancer\/stage-and-grade\/staging\/?region=on\n* https:\/\/www.verywellhealth.com\/lymph-node-positive-breast-cancer-429953\n\n\n***Attribute Information***\n1. age - Age of patient at the time of surgery. A numerical value\n2. year - Year in which patient had undergone the surgery. A numerical value.\n3. nodes - No.of cancer positive auxillary lymph nodes detected. A numerical value\n4. status - Specifies whether the patient survived for more than 5 years or died within 5 years of the surgery. This also serves as our class attribute.\n\nSource :https:\/\/www.kaggle.com\/gilsousa\/habermans-survival-data-set)\n","fec87040":"* Although patients who are guaranteed to survive have 0 positive nodes, this is not always the case as there're still a small percentage of patients who died within 5 years of surgery even though they had 0 positive nodes.\n\n* Patients with more than 1 positive auxillary nodes are less likely to survive. Higher the no.of positive nodes the lesser the chance of survival irrespective of age.\n\n* Patient's age and positive nodes are the best parameters for predicting the survival rate.\n\n* Even though patients under 30 years of age mostly survived, age should not be the only factor in deciding the survival rate.\n\n* As the dataset is imbalanced and there's a lot of overlapping between different features, higher level of analysis is required to come to a concrete conclusion and build a model that predicts accurate survival rates.","4a30fc91":"# CONCLUSIONS","be45dd4a":"**Observations:**\n\n* Even though the overlap is quite high, we can say that patients aged 20-40 seem to have high chance of survival \n* The overlap with the non-survival curve might be because of high positive auxillary nodes (I will explore more on this in bivariate analysis section).","c3a19fdf":"**Observations:**\n\nEven after using pair plots we are not able accurately classify the survival rates of the patients.\n\n> However, when we analyse the plot between age and nodes, it seems that patients between age of 25 to 40 have very high chance of survival if positive nodes are < 20\n\n* Also, looking at age and positive nodes pattern, patients between ages 45-70 with 10 or more positive have very less chance of survival.\n* And patients with ages <=40 with lesser positive auxillary nodes have high chances of survival.\n","fff23300":"Let's make column names more descriptive and readable. One way to do that is to use a pandas library method- rename() which takes dictionary of columns as input and returns renamed dataframe.\n\nSource: \nhttps:\/\/pandas.pydata.org\/pandas-docs\/version\/0.21\/generated\/pandas.DataFrame.rename.html\n","06d17c83":"## Cumulative Distribution Function(CDF)","eac4de48":"# Univariate Analysis","dc0e319d":"### 1D Scatter Plots","4077aa46":"# Multivariate Analysis - Contour Plot.\n","de250af8":"## ***OBJECTIVE***\n\nTo predict whether the patient will survive for more than 5 years or will die within 5 years of the surgery based on analysing their age, year of treatment and the number of positive auxillary lymph nodes found in their body.\n\n","281c70f3":"**Observations:**\n\nOverlap is huge. The year of surgery can not be dependent for further analysis.","95e1d82b":"## 2-D Scatter Plot","ec18d1fc":"**Observations:**\n\nPlotting survival status based on patient's age is not helpful to distinguish between the classes as they have almost same median and their 25th to 75th percentile also almost overlapping.","1d80c7b8":"### Importing Haberman Data set","2c492f69":"**Observations:**\n\n* Patient's with =< 0 positive nodes have unprecedented chances of survival.\n* Survival chances gradually decrease with increasing no.of positive nodes"}}