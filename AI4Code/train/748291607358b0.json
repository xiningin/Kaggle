{"cell_type":{"0bd15bd5":"code","a71e5943":"code","ec21f10e":"code","b6852564":"code","7c1a5ba8":"code","927532d9":"code","017dd6c7":"code","0ef59530":"markdown","45c8bdeb":"markdown","050686c1":"markdown","8eb0bcd3":"markdown","29123af3":"markdown","b34e5dbb":"markdown","b0a2c106":"markdown","7965abef":"markdown","2ec72d5c":"markdown","defd0138":"markdown","d26be4ed":"markdown","9d78981b":"markdown","ef98379f":"markdown","c471cb88":"markdown"},"source":{"0bd15bd5":"import pandas as pd\nfrom matplotlib import pyplot as plt\nfrom scipy import stats\nfrom scipy.stats import pearsonr\nfrom sklearn.linear_model import LinearRegression","a71e5943":"# read data \ncourses_df = pd.read_csv('..\/input\/udemy-courses\/udemy_courses.csv')\n# general info of this data\ncourses_df.info()","ec21f10e":"# get the y-axis, y = num_subscribers\ntemp_df1 = courses_df['num_subscribers']\ny1 = temp_df1.values\n\n# get the x-axis, x = num_reviews\n# x_reviews\nreview_df = courses_df['num_reviews']\nx1 = review_df.values\n\n# draw scatter plot \nplt.xlabel('num_reviews')\nplt.ylabel('num_subscribers')\nplt.scatter(x1,y1)\nplt.show()","b6852564":"# get the num_subcribers and num_reviews column \ntemp_df2 = courses_df.iloc[:,[5,6]]\n\n# filter these two columns with num_reviews <= 10000\nfilter_cols = temp_df2[temp_df2['num_reviews']<=10000]\n\n# get the new x,y axis after filter \ny2 = filter_cols['num_subscribers'].values\nx2 = filter_cols['num_reviews'].values\n\n# draw the trendline this time\nslope, intercept, r, p, std_err = stats.linregress(x2,y2)\ndef myfunc(x2):\n    return slope * x2 + intercept\n\nmymodel = list(map(myfunc,x2))\n\nplt.plot(x2,mymodel)\n\n# draw scatter plot again\nplt.xlabel('num_reviews')\nplt.ylabel('num_subscribers')\nplt.scatter(x2,y2)\nplt.show()","7c1a5ba8":"corr, _ = pearsonr(x2,y2)\n'Pearson\"s correlation: %.3f' % corr\n# we have a high positive correlation!","927532d9":"# prepare x and y variables \ny2 = filter_cols['num_subscribers'].values\nx2 = filter_cols['num_reviews'].values.reshape(-1, 1)\n\n# built the regression model\nmodel = LinearRegression().fit(x2,y2)\n\n# rounded to two decimal digits\nmodel_coef = float('%.2f' % model.coef_)\nmodel_intercept = float('%.2f' % model.intercept_)\n\n# model expression \nf'y = {model_coef}*x + {model_intercept}'","017dd6c7":"# r-square value\nr_sq = model.score(x2,y2)\nr_sq = float('%.3f' % r_sq)\nf'r-square value:{r_sq}'\n\n# not very high r-square value","0ef59530":"<font size=4>Extension Questions<\/font>","45c8bdeb":"<font size=4>Data Analysis Framework<\/font>","050686c1":"It seems we have perfect data, no null, no messy, like a day dream! haha~ ","8eb0bcd3":"**4. Conclusion **  \nAlthough there is significant statistic relationship between num_reviews and num_subscribers, only 40% of variability in the dependent variable can be explained by the model, which are not high enough to build a strong model. Therefore, it will not be very accurate if we use num_reviews to predict future number of subscribers.\n","29123af3":"**Referrence:**  \nhttps:\/\/rcompanion.org\/handbook\/G_10.html  \nhttps:\/\/machinelearningmastery.com\/how-to-use-correlation-to-understand-the-relationship-between-variables\/  \nhttps:\/\/medium.com\/@girish.malekar\/knowledge-discovery-process-the-problem-solving-framework-8009fa8582fd  \n\nDateset sourse:  \nauthor:Willden,Chase  \nRetrieved May 29, 2020 from [http:\/\/theconceptcenter.com\/simple-research-study-udemy-courses\/].","b34e5dbb":"As we can see the scatter plot above,most plots are centered where num_reviews are less than 10000.  \nTo get clear presentation, we can try to **filter data with num_reviews <= 10000**","b0a2c106":"Looks more clear now! you can try to change the filter condition to see different scatter version. ","7965abef":"Purpose of this notebook:  \n1) Conduct data analysis by following a framework  \n2) Answering two business questions by runing correlation test and linear regression model.  \n3) Content friendly for data science beginners ","2ec72d5c":"**Q2: Can we use the number of customer reviews to predict future number of subscribers?**  \nTo answer this question, we can build a linear regression model based on these two variables,  then test the validity the this model.  \n\n**Why linear regression model?**  \nThe purpose of linear regression is to \u201cpredict\u201d the value of the dependent variable based on the values of one or more independent variables. From the scatter plot of correlation test above, we already seen there is linear relationship between the two variables: num_subscribers and num_reviews. Therefore, we can use linear regression model to predict dependent variable - the number of subscribers based on independent variable - number of reviews.  \n\n**What does linear regression model look like?**  \nDependent Variable = Independent variable * slope + intercept","defd0138":"**3. Validation of the model**  \nTo validate this model, we can calculate the \u201cp-value\u201d and \u201cr-squared value\u201d of this model.  \n\n**1) What is p-value and r-squared value?**  \nSimply, p-value indicates if there is a significant relationship between variables described by the model. The lower the p-value is, the more significant the relationship is. We often consider p-value below 0.05 as a significant level.  \nR-squared value measures how well the data is explained by the model. It indicates the proportion of the variability in the dependent variable that is explained by model. For example, r-squared of 0.40 indicates that 40% of the variability in the dependent variable is explained by the model. The value of r-square ranges from 0 to 1. We often consider r-square value above 0.7 as a significant level. \n\n**<font color=#0099ff >2) Calculate the p-value and r-squared value in Python<\/font>**","d26be4ed":"<font size=4>Les's Start!<\/font>  \n\n**1. Set our linear regression model**  \nDependent variable: num_subscribers  \nIndependent variable: num_reviews  \n\nnum_variable = num_reviews * slope + intercept\n\n**<font color=#0099ff >2. Build linear regression model in python<\/font>**","9d78981b":"It's always helpful and efficient if we can follow some framework when we do data analysis. Cross Industry Standard Process for Data Mining \u2014 CRISP-DM framework is a good one we can use. \n![](https:\/\/i.pinimg.com\/originals\/d3\/fe\/6d\/d3fe6d904580fa4e642225ae6d18f0da.jpg \"Problem Solveing Framework\") \n\n<font size=4>Les's Start!<\/font>  \n\n**1. Business Issue Understanding **  \nQ1: Whether we should encourage customers reviews in order to get more subscribers? \n\n**2. Data Understanding **  \nData Needed:  \n- The number of customer reviews of all courses (num_reviews)  \n- The number of subscribers of all courses (num_subscribers)\n\n**3. Data Preparation **  \nFortunately, this dataset has been cleaned \n\n**4. Analysis Modeling **  \n**1) What analysis method should we use?**  \nTo get the the answer of the business question, we need to find out wether there is a positive relationship between num_reviews and num_subscribers.  \nTherefore, a correlation test can be used to testify their relationship. \n  \n**2) What is correlation test?**  \nCorrelation test is used in data analysis to better understand the relationship between variables. There are three kinds of correlations:  \n**Positive Correlation:** both variables change in the same direction   \n**Neutral Correlation:** no relationship in the change of the variables   \n**Negative Correlation: **variables change in opposite direction \n\n**<font color=#0099ff >3) Run correlation test in Python<\/font>**","ef98379f":"**5. Validation **   \nScatter plot is a visual way to see the correlation relationship between two variables. To further validate the correlaion, we can calculate the value of Pearson\u2019s Correlation.  \n\n**1) What is Pearson\u2019s Correlation?**  \nThe Pearson\u2019s Correlation coefficient is used to summarise the strength of the linear relationship between two data samples. The value of coefficient ranges from -1 to 1.  \n**Low correlation:**  value < 0.5 or value > -0.5   \n**High positive correlation:** 0.5 <= value <= 1  \n**High negative correlation:** -1<= value <= -0.5  \n**No correlation: **value = 0  \n\n**<font color=#0099ff >2) Calculate the Pearson\u2019s Correlation in Python<\/font>**\n","c471cb88":"**6. Conclusion **  \nThere is high positive relationship between num_reviews and num_subscribers. For business insight, it\u2019s highly possible that we can get more subscribers of a new course if we have more customer reviews of that course. However, to know comprehensive factors that affect the number of subscribers, more variables are needed to be examined, such as review scores, course prices and course durations.\n"}}