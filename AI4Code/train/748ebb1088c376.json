{"cell_type":{"15f55252":"code","8b790eae":"code","cd3eb97c":"code","b092657c":"code","835939ce":"code","4c75e3b8":"code","8f9e47fa":"code","912d34aa":"code","4a9b9be3":"code","6a8557a8":"code","10d2af25":"code","70e22554":"code","2c882486":"code","0a7bd452":"code","21901864":"code","e4c8a0c1":"code","af0c5bd6":"code","6fa1a7bf":"code","73a7b30b":"code","ec4c8215":"code","1bc15093":"code","54f0202d":"code","6aa6aec9":"code","3a573b6d":"code","4a4dcf0a":"code","ad7d186a":"code","28dedcaa":"code","7e161f77":"code","2e0243e5":"code","133694cb":"code","b7dd2383":"code","4949aea0":"code","ed268297":"code","7bf28daa":"code","f6d33c50":"code","6ea86177":"code","e858e714":"code","33f5b0dd":"code","8d7aeef3":"code","91fbced1":"markdown","d402cd6e":"markdown","3e719c7b":"markdown","b0a5daaa":"markdown","33c18685":"markdown","ca6df63c":"markdown","30b44b6f":"markdown","8d58d4c8":"markdown","539a484d":"markdown","18c9a685":"markdown","e1eddbbb":"markdown","bf1bf1a4":"markdown","4ed071b5":"markdown","0f6377d9":"markdown","b6661177":"markdown","7c44da58":"markdown","3ebeef2f":"markdown"},"source":{"15f55252":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nfrom matplotlib import rcParams\n%matplotlib inline\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","8b790eae":"zomato = pd.read_csv('\/kaggle\/input\/zomato-bangalore-restaurants\/zomato.csv')\nzomato.head()","cd3eb97c":"zomato.shape","b092657c":"zomato.describe()","835939ce":"zomato.info()","4c75e3b8":"#Checking the null values\nzomato.isnull().sum()","8f9e47fa":"#Removing the null values\nzomato.dropna(how = 'any', inplace = True)","912d34aa":"zomato.isnull().sum()","4a9b9be3":"zomato.columns","6a8557a8":"#Dropping the columns which are not relevant\nzomato=zomato.drop(['url','dish_liked','phone'],axis=1)","10d2af25":"#Upadating few columns \nzomato = zomato.rename(columns={'approx_cost(for two people)':'cost','listed_in(type)':'type',\n                                  'listed_in(city)':'city'})\nzomato.columns","70e22554":"zomato.head()","2c882486":"#Checking for duplicate values\nzomato.duplicated().sum()","0a7bd452":"#Dropping the duplicate values\nzomato.drop_duplicates(inplace = True)","21901864":"zomato.shape","e4c8a0c1":"#Simplifying the ratings column\n#Removing '\/5' from Rates\nzomato['rate'].unique()\nzomato = zomato.loc[zomato.rate !='NEW']\nzomato = zomato.loc[zomato.rate !='-'].reset_index(drop=True)\nremove_slash = lambda x: x.replace('\/5', '') if type(x) == np.str else x\nzomato.rate = zomato.rate.apply(remove_slash).str.strip().astype('float')","af0c5bd6":"zomato['rate'].unique()","6fa1a7bf":"rcParams['figure.figsize'] = (20,10)\nsb.countplot(zomato['city'])\nsb.countplot(zomato['city']).set_xticklabels(sb.countplot(zomato['city']).get_xticklabels(), rotation=90, ha=\"right\")\nplt.title('Number of Restaurants in Every Area', size = 20)\nplt.show()","73a7b30b":"rcParams['figure.figsize'] = (10,10)\nsb.countplot(zomato['online_order'])\nplt.title('Count of Restaurants taking Online orders', size = 20)\nplt.show()","ec4c8215":"rcParams['figure.figsize'] = (10,10)\nsb.countplot(zomato['book_table'])\nplt.title('Table Booking', size = 20)\nplt.show()","1bc15093":"rcParams['figure.figsize'] = (20,10)\nsb.countplot(zomato['rest_type'])\nsb.countplot(zomato['rest_type']).set_xticklabels(sb.countplot(zomato['rest_type']).get_xticklabels(), rotation=90, ha=\"right\")\nplt.title('Type of Restaurant', size = 20)\nplt.show()","54f0202d":"rcParams['figure.figsize'] = (20,10)\nsb.countplot(zomato['type'])\nsb.countplot(zomato['type']).set_xticklabels(sb.countplot(zomato['type']).get_xticklabels(), rotation=90, ha=\"right\")\nplt.title('Type of Service', size = 20)\nplt.show()","6aa6aec9":"rcParams['figure.figsize'] = (20,10)\nsb.countplot(zomato['cost'])\nsb.countplot(zomato['cost']).set_xticklabels(sb.countplot(zomato['cost']).get_xticklabels(), rotation=90, ha=\"right\")\nplt.title('Count of Restaurants based on Cost', size = 20)\nplt.show()","3a573b6d":"rcParams['figure.figsize'] = (20,10)\nsb.countplot(zomato['location'])\nsb.countplot(zomato['location']).set_xticklabels(sb.countplot(zomato['location']).get_xticklabels(), rotation=90, ha=\"right\")\nplt.title('Count of Restaurant in Every Location', size = 20)\nplt.show()","4a4dcf0a":"rcParams['figure.figsize'] = (20,10)\ntop = zomato['name'].value_counts()[:20]\nsb.barplot(x = top, y = top.index, palette = 'cool_r')\nplt.xlabel(\"Number of outlets\",size=15)\nplt.title('Top 20 Restaurants', size = 20)\nplt.show()","ad7d186a":"zomato.head()","28dedcaa":"#Cost Transformations\nzomato['cost'] = zomato['cost'].astype(str)\nzomato['cost'] = zomato['cost'].apply(lambda x: x.replace(',','.'))\nzomato['cost'] = zomato['cost'].astype(float)","7e161f77":"zomato.cost.unique()","2e0243e5":"#Other Transformations\nzomato.name = zomato.name.apply(lambda x:x.title())\nzomato.online_order.replace(('Yes','No'),(True, False),inplace=True)\nzomato.book_table.replace(('Yes','No'),(True, False),inplace=True)","133694cb":"#Encoding of input Variables\ndef Encode(zomato):\n    for column in zomato.columns[~zomato.columns.isin(['rate', 'cost', 'votes'])]:\n        zomato[column] = zomato[column].factorize()[0]\n    return zomato\n\nzomato_en = Encode(zomato.copy())","b7dd2383":"rcParams['figure.figsize'] = (15,10)\nsb.heatmap(zomato_en.corr(), annot=True)\nplt.title('Correlation Heatmap', size = 20)\nplt.show()","4949aea0":"#Defining the independent variables and dependent variables\nx = zomato_en.iloc[:,[2,3,5,6,7,8,9,11]]\ny = zomato_en['rate']","ed268297":"from sklearn.model_selection import train_test_split\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size = .2)","7bf28daa":"#Preparing Random Forest Regression\nfrom sklearn.ensemble import RandomForestRegressor\nrandom = RandomForestRegressor(n_estimators=500)\nrandom.fit(x_train,y_train)","f6d33c50":"print(\" Accuracy :{}\" .format(random.score(x_test, y_test)))","6ea86177":"# Importing Intensity Analyser to check the intensity status of the given review\nimport nltk\nfrom nltk.sentiment.vader import SentimentIntensityAnalyzer","e858e714":"# Selecting 5 sample reviews to analyse the intensity\nrestaurant_rev = zomato['reviews_list'].value_counts()\nrestaurant_rev.sample(5)","33f5b0dd":"# Picking random reviews from the samples to analyse\n# fitting the review as sentence for analysis\nrev = [\"Best place to take your family or the one you have a comfortable relationship with. A no-frills place serving good quality but not extraordinary food.\",\n      \"Awesome place with good ambience and service food was superb , rabbidi was finger licking... A must try \",\n      \"Visited this place for lunch.. we opted ala carte.. let me remind you the place is quite expensive for the amount it serves. We ordered 2 naan, one malai kofta, 2 shikanji and the bill was 1250 bucks.\",\n      \"I really did not like it.. it is far from fine dining.. it will just burn a hole in your pocket for no reason.\",\n      \"I love the food, but when it comes cleanliness it is zero. Take away is good. But being a budget friendly place, i love it. I am not saying the food is amazing , but yeah it is good. They definitely need a revamp.\"]","8d7aeef3":"sid = SentimentIntensityAnalyzer()\nfor sentence in rev:\n    print(sentence)\n    ss = sid.polarity_scores(sentence)\n    for k in ss:\n        print('{0}: {1}, '.format(k, ss[k]), end = '\\n')\n    print()","91fbced1":"# Regression Analysis","d402cd6e":"### Random Forest Regression","3e719c7b":"### Some Transformations for Modelling","b0a5daaa":"### Splitting dataset for Training & Testing","33c18685":"### Number of Restaurants in Every Location","ca6df63c":"### Restaurants allowing Table Booking","30b44b6f":"### Cost","8d58d4c8":"# Sentiment Analysis","539a484d":"### Type of Service","18c9a685":"### Correlation Heatmap","e1eddbbb":"### Encoding","bf1bf1a4":"### Restaurants taking Online Orders or Not","4ed071b5":"### Restaurant Type","0f6377d9":"The highest rating to restaurants is 4.1 and the least rating to restaurants is 1.8.","b6661177":"### Top Restaurants in Bengaluru","7c44da58":"### Number of Restaurants in Area","3ebeef2f":"### Modelling"}}