{"cell_type":{"1b96a7d2":"code","770cec68":"code","02807b02":"code","e307cc66":"code","ce342d14":"code","900d5952":"code","a9f0ff87":"code","7bebdaae":"code","f6b7ae5b":"code","c2ca09dd":"code","ddc568ae":"code","0a043f41":"code","9236e31c":"code","b2be269e":"code","ce2c2d58":"code","a6d05c5b":"code","ecd19ae7":"code","d1470fa3":"code","c872c861":"code","f71f0f70":"code","be02d8bf":"code","b8112f7b":"code","ec939298":"code","b81ae92d":"code","f7a475e5":"code","bd9d4ba6":"code","ca407770":"code","f689e1ff":"code","a550a769":"code","6c1a7109":"markdown","d3d08189":"markdown","3d1052b7":"markdown","d76eb3ad":"markdown","8438107b":"markdown","1f1f49e2":"markdown","3a6b0d9d":"markdown","40a45921":"markdown","54200393":"markdown","d5afddd7":"markdown","edecfce9":"markdown","efc83eff":"markdown","bb0553d5":"markdown","90f68655":"markdown","087005cb":"markdown","333fc41f":"markdown","6acf91db":"markdown"},"source":{"1b96a7d2":"# Supress Warnings\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\n# Import the numpy, pandas, matplotlib, seaborn packages\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime as dt","770cec68":"#Reading Uber Request data\nuberReq = pd.read_csv('..\/input\/Uber Request Data.csv',encoding = \"ISO-8859-1\")\nuberReq.head()","02807b02":"#Correcting the data types\nuberReq['Request timestamp'] = pd.to_datetime(uberReq['Request timestamp'])\nuberReq['Drop timestamp'] = pd.to_datetime(uberReq['Drop timestamp'])\nuberReq.head()","e307cc66":"# Removing unnecessary columns\nuberReq = uberReq.drop(['Driver id'], axis = 1)","ce342d14":"uberReq.tail()","900d5952":"#How many unique pickup points are present in uberReq?\nprint(uberReq['Pickup point'].unique())","a9f0ff87":"#How many observations are present in uberReq?\nuberReq.shape","7bebdaae":"uberReq.info()","f6b7ae5b":"#Inspecting the Null values , column-wise\nuberReq.isnull().sum(axis=0)","c2ca09dd":"uberReq[(uberReq['Drop timestamp'].isnull())].groupby('Status').size()","ddc568ae":"print(len(uberReq['Request id'].unique()))\nprint(len(uberReq['Pickup point'].unique()))\nprint(len(uberReq['Status'].unique()))","0a043f41":"#Checking if there are any duplicate values\nlen(uberReq[uberReq.duplicated()].index)","9236e31c":"#Univariate analysis on Status column \nstatus = pd.crosstab(index = uberReq[\"Status\"], columns=\"count\")     \nstatus.plot.bar()","b2be269e":"#Univariate analysis on Pickup Point column \npick_point = pd.crosstab(index = uberReq[\"Pickup point\"], columns=\"count\")     \npick_point.plot.bar()","ce2c2d58":"#grouping by Status and Pickup point.\nuberReq.groupby(['Status', 'Pickup point']).size()","a6d05c5b":"# Visualizing the count of Status and Pickup point bivariate analysis\nsns.countplot(x=uberReq['Pickup point'],hue =uberReq['Status'] ,data = uberReq)","ecd19ae7":"#Request and Drop hours\nuberReq['Request Hour'] = uberReq['Request timestamp'].dt.hour","d1470fa3":"#Time Slots\nuberReq['Request Time Slot'] = 'Early Morning'\nuberReq.loc[uberReq['Request Hour'].between(5,8, inclusive=True),'Request Time Slot'] = 'Morning'\nuberReq.loc[uberReq['Request Hour'].between(9,12, inclusive=True),'Request Time Slot'] = 'Late Morning'\nuberReq.loc[uberReq['Request Hour'].between(13,16, inclusive=True),'Request Time Slot'] = 'Noon'\nuberReq.loc[uberReq['Request Hour'].between(17,21, inclusive=True),'Request Time Slot'] = 'Evening'\nuberReq.loc[uberReq['Request Hour'].between(21,24, inclusive=True),'Request Time Slot'] = 'Night'","c872c861":"#As Demand can include trips completed, cancelled or no cars available, we will create a column with 1 as a value\nuberReq['Demand'] = 1","f71f0f70":"#As Supply can only be the trips completed, rest all are excluded, so we will create a column with 1 as a supply value trips completed and 0 otherwise.\nuberReq['Supply'] = 0\nuberReq.loc[(uberReq['Status'] == 'Trip Completed'),'Supply'] = 1","be02d8bf":"#Demand Supply Gap can be defined as a difference between Demand and Supply\nuberReq['Gap'] = uberReq['Demand'] - uberReq['Supply']\nuberReq.loc[uberReq['Gap']==0,'Gap'] = 'Trip Completed'\nuberReq.loc[uberReq['Gap']==1,'Gap'] = 'Trip Not Completed'","b8112f7b":"#Removing unnecessary columns\nuberReq = uberReq.drop(['Request Hour', 'Demand', 'Supply'], axis=1)","ec939298":"uberReq.head()","b81ae92d":"# Plot to find the count of the three requests, according to the defined time slots\nsns.countplot(x=uberReq['Request Time Slot'],hue =uberReq['Status'] ,data = uberReq)","f7a475e5":"# Plot to find the count of the status, according to both pickup point and the time slot\npickup_df = pd.DataFrame(uberReq.groupby(['Pickup point','Request Time Slot', 'Status'])['Request id'].count().unstack(fill_value=0))\npickup_df.plot.bar()","bd9d4ba6":"#Plot to count the number of requests that was completed and which was not\nsns.countplot(x=uberReq['Gap'], data = uberReq)","ca407770":"##Plot to count the number of requests that was completed and which was not, against the time slot\ngap_timeslot_df = pd.DataFrame(uberReq.groupby(['Request Time Slot','Gap'])['Request id'].count().unstack(fill_value=0))\ngap_timeslot_df.plot.bar()","f689e1ff":"#Plot to count the number of requests that was completed and which was not, against pickup point\ngap_pickup_df = pd.DataFrame(uberReq.groupby(['Pickup point','Gap'])['Request id'].count().unstack(fill_value=0))\ngap_pickup_df.plot.bar()","a550a769":"#Plot to count the number of requests that was completed and which was not, for the final analysis\ngap_main_df = pd.DataFrame(uberReq.groupby(['Request Time Slot','Pickup point','Gap'])['Request id'].count().unstack(fill_value=0))\ngap_main_df.plot.bar()","6c1a7109":"#### Conclusions from above plot :\n\nMore `Trip not completed` than `Trip Completed`.","d3d08189":"## Business Understanding\n\nYou may have some experience of travelling to and from the airport. Have you ever used Uber or any other cab service for this travel? Did you at any time face the problem of cancellation by the driver or non-availability of cars? \n\nWell, if these are the problems faced by customers, these very issues also impact the business of Uber. If drivers cancel the request of riders or if cars are unavailable, Uber loses out on its revenue. \n\nThe aim of analysis is to identify the root cause of the problem (i.e. cancellation and non-availability of cars to and from the airport) and recommend ways to improve the situation. As a result of the analysis, we should be able to present to the client the root cause(s) and possible hypotheses of the problem(s) and recommend ways to improve them.  ","3d1052b7":"## Exploratory Data Analysis on Uber Request data","d76eb3ad":"## Task 3: Bivariate Analysis","8438107b":"#### Univariate Analysis conclusion of Status column:\n\n`No cars available` is more than the number of trips `cancelled`. ","1f1f49e2":"-  ### Subtask 1.2: Understand the Dataset\n\n    - How many unique pickup points are present in `uberReq`?\n    -  How many observations are present in `uberReq`?\n    - Number of null values?\n    - Inspecting the null values","3a6b0d9d":"#### Conclusions from above plot :\n\n- Most `No Cars Available` are in the `Evening` from `Airport` to `City`.\n- Most `Cancelled` trips are in the `Morning` from `City` to `Airport`.","40a45921":"#### Univariate Analysis conclusion of Pickup point column:\n\nThe pickup points `Airport` and `City` are almost equal times present in the dataset.","54200393":"## Task 5: Graphical Analysis","d5afddd7":"### Conclusions :\n\n- Based on the data analysis performed, following recommendation can be used by Uber to bridge the gap between supply and demand: -\n\n    - For bridging the demand supply gap from airport to city, making a permanent stand in the airport itself where the cabs will be available at all times and the incomplete requests can come down significantly.\n    - Uber can provide some incentives to the driver who complete the trip from city to airport in the morning part. This might result the driver to not cancel the request from city to airport trips.\n    - Last but sure solution to bring down the gap is to increase the numbers of cab in its fleet.","edecfce9":"## Task 4: Deriving new metrics","efc83eff":"### Hypothesis :\n\n#### Pickup Point - City :\n\nAs per the analysis, the morning time slot is most problematic where the requests are being cancelled. Most probably the requests are being cancelled by the drivers due to the morning rush as it being the office hours and seeing the destination as airport which would be too far, the driver would think to earn more for the shorter trips within the city.\n\n#### Pickup Point - Airport :\n\nUpon analysis, the evening time slot seems to be most problematic for pickup points as airport where the requests being No Cars Available. The reason seems to be that not enough cars are available to service the requests as cars might not be available at the airport due to the cars serving inside the city.","bb0553d5":"#### Conclusions from above plot :\n\n- Most `No Cars Available` are in the `Evening`.\n- Most `Cancelled` trips are in the `Morning`.","90f68655":"## Task 2: Univariate Analysis","087005cb":"## Task 1: Data Cleaning\n\n-  ### Subtask 1.1: Import and read\n\n    - Load the Uber Request Data into a panda data frames and name it `uberReq`.\n    - Correct the Request Timestamp and Drop Timestamp datatype.","333fc41f":"#### NOTE:\nThe cell above goes on to show that the `Drop timestamp` rows are empty when the `Status` is `No Cars Available` or `Cancelled`. Since the trips did not happen in those cases, the `Drop timestamp` can not be available, hence the null values here are valid.","6acf91db":"#### Bivariate Analysis conclusion of Status and Pickup point columns:\n\n- There are more `No cars available` from `Airport` to `City`.\n- There are more cars `Cancelled` from `City` to `Airport`."}}