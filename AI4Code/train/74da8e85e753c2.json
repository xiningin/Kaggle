{"cell_type":{"19c5f0f1":"code","39ec567c":"code","8062c6c7":"code","ee4c7fe9":"code","1be11f0d":"code","0f373587":"code","64d02a07":"code","76c75e1c":"code","fe27f755":"code","6f71f5e4":"code","9a80dd3b":"code","3e958a23":"code","9a1e3cba":"code","6920c7f2":"code","77234689":"code","8c5a5106":"code","9b748878":"code","502d2bfc":"code","d228179b":"code","bb54c79f":"code","3f12d073":"code","67d646b3":"code","819f83d9":"code","230297ae":"code","bbc3b27f":"code","2cd86b2e":"code","8b312f09":"code","e39fba26":"code","c262522f":"code","6e2a8c1b":"code","36ffacfd":"code","f518e138":"code","3e2510d2":"code","0efbe027":"code","123e990e":"code","ef068868":"code","a35ebe43":"code","5214f670":"code","2099b892":"code","065eabd4":"code","5c510de3":"code","b1e980e0":"code","7f47ae38":"code","e551044b":"code","b5c916ee":"code","eaf6269f":"code","b361bde4":"code","ac1aef29":"code","df9089f0":"code","5e02854a":"code","c5b9e24a":"code","d29f62eb":"code","b2174b7e":"code","f9c25026":"code","9b67d389":"code","2593d762":"code","d9e2c493":"code","3297cf11":"code","5022fe60":"code","580bbf79":"code","3729c1d4":"code","865a3a8a":"code","268e50f0":"code","c57e69bf":"code","53538410":"code","01116579":"code","e80affbc":"code","355619ae":"code","998add88":"code","af8eb84f":"code","98b73d78":"code","48e4cdca":"code","aac058b8":"code","d3ffe290":"code","67b73753":"code","931acbf5":"code","1aa068d3":"code","6f1529bb":"code","b3559ef5":"code","35707818":"code","86f0c548":"code","1738612b":"code","c54d3110":"code","04760236":"markdown","5dbabe3c":"markdown","dcced3d2":"markdown","2d7db0cb":"markdown","4ea3f946":"markdown","9a69861d":"markdown","85bfe065":"markdown","59f135f0":"markdown","ad6e153d":"markdown","b678e236":"markdown","edfa1302":"markdown","112384d7":"markdown","16a27ad5":"markdown","8114dbc1":"markdown"},"source":{"19c5f0f1":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport plotly as py\nimport plotly.graph_objs as go\n\npy.offline.init_notebook_mode(connected=True)\n\n%matplotlib inline","39ec567c":"suicide = pd.read_csv(\"..\/input\/suicide-rates-overview-1985-to-2016\/master.csv\")\nsuicide.head()","8062c6c7":"suicide.columns","ee4c7fe9":"len(suicide)","1be11f0d":"suicide.age.unique()","0f373587":"type(suicide['suicides_no'][0])","64d02a07":"suicide_in_countries = suicide.groupby('country')","76c75e1c":"suicide_in_countries","fe27f755":"country_suicide_series = suicide_in_countries['suicides_no'].sum()","6f71f5e4":"country_suicide_series.head()","9a80dd3b":"# plt.figure(figsize=(10,30))\n# sb.set_style('dark')\n# sb.barplot(country_suicide_series.values,country_suicide_series.index)\n# plt.show()","3e958a23":"trace1 = go.Bar(\n    y=country_suicide_series.values,\n    x=country_suicide_series.index,\n)\n\ndata = [trace1]\nlayout = go.Layout(\n    title=\"Number of suicide committed in each country\",\n    xaxis={\n        'title':\"Countries\",\n    },\n    yaxis={\n        'title':\"Number of suicide\",\n    }\n)\nfigure=go.Figure(data=data,layout=layout)\npy.offline.iplot(figure)","9a1e3cba":"suicide.year.unique()","6920c7f2":"(suicide['suicides_no'][suicide['sex']=='male']).sum()","77234689":"genderwise_suicide = suicide.pivot_table(index='sex' , aggfunc='sum')","8c5a5106":"genderwise_suicide['suicides_no']","9b748878":"suicide['suicides_no'].sum()","502d2bfc":"sb.barplot(genderwise_suicide.index , genderwise_suicide.suicides_no)\nsb.set_style('white')","d228179b":"country_wise_gender_suicide_df = pd.DataFrame({\n    'country' : suicide.country,\n    'sex' : suicide.sex,\n    'suicides_no' : suicide.suicides_no\n})","bb54c79f":"country_wise_gender_suicide = country_wise_gender_suicide_df.pivot_table(index='country' , columns='sex' , aggfunc='sum')","3f12d073":"country_wise_gender_suicide.iloc[0]","67d646b3":"# country_wise_gender_suicide.plot.bar(stacked = True , figsize=(30,10) , cmap='coolwarm')","819f83d9":"country_wise_gender_suicide.columns = country_wise_gender_suicide.columns.droplevel()","230297ae":"country_wise_gender_suicide.female.head()","bbc3b27f":"trace1 = go.Bar(\n    x=country_wise_gender_suicide.index,\n    y=country_wise_gender_suicide.female,\n    name='Number of female suicides'\n)\ntrace2 = go.Bar(\n    x=country_wise_gender_suicide.index,\n    y=country_wise_gender_suicide.male,\n    name='Number of female suicides'\n)\n\ndata = [trace1, trace2]\nlayout = go.Layout(\n    barmode='stack',\n    title=\"Number of suicides genderwise in each country\",\n    xaxis={\n        'title':\"Countries\",\n    },\n    yaxis={\n        'title':\"Number of suicide\",\n    }\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.offline.iplot(fig)","2cd86b2e":"suicide.age.unique()","8b312f09":"agewise_suicides = suicide.pivot_table(index='age' , aggfunc='sum')","e39fba26":"agewise_suicides.columns","c262522f":"agewise_suicides_df = pd.DataFrame({\n    'suicides_no' : agewise_suicides['suicides_no']\n},index = agewise_suicides.index)","6e2a8c1b":"agewise_suicides_df","36ffacfd":"agewise_suicides_df.sort_values(by='suicides_no' , ascending=False).plot.bar()","f518e138":"gender_agewise_suicide_df = pd.DataFrame({\n    'sex' :suicide.sex,\n    'age' : suicide.age,\n    'suicide_no' : suicide.suicides_no\n})","3e2510d2":"gender_agewise_suicide = gender_agewise_suicide_df.pivot_table(index='age' , columns='sex' , aggfunc='sum')","0efbe027":"gender_agewise_suicide.iloc[0]","123e990e":"#gender_agewise_suicide.plot.pie(subplots=True , figsize=(30,10))","ef068868":"gender_agewise_suicide.columns = gender_agewise_suicide.columns.droplevel()","a35ebe43":"gender_agewise_suicide.female","5214f670":"fig = {\n    'data' : [\n        {\n           'labels' : gender_agewise_suicide.index,\n           'values' : gender_agewise_suicide.female,\n            'type': 'pie',\n            'name': 'Female suicides no',\n            'domain': {'x': [0, .48],\n                       'y': [0, .49]}\n        },\n        {\n           'labels' : gender_agewise_suicide.index,\n           'values' : gender_agewise_suicide.male,\n            'type': 'pie',\n            'name': 'Male suicides no',\n            'domain': {'x': [.52, 1],\n                       'y': [0, .49]}\n        }  \n    ],\n    'layout': {'title': 'Suicides committed by various age groups in female and male'}\n}\n\npy.offline.iplot(fig)","2099b892":"country_gender_agewise_suicide_df = pd.DataFrame({\n    'country' : suicide.country,\n    'sex' : suicide.sex,\n    'age' : suicide.age,\n    'suicide_no' : suicide.suicides_no\n})","065eabd4":"country_gender_agewise_suicide_df.head()","5c510de3":"country_gender_agewise_suicide = country_gender_agewise_suicide_df.pivot_table(index=['country' , 'age'] , columns='sex' , aggfunc='sum')","b1e980e0":"country_gender_agewise_suicide.loc['Albania']","7f47ae38":"country_gender_agewise_suicide.sample(10).plot.barh(figsize=(20,10))","e551044b":"suicide.year.unique()","b5c916ee":"yearly_suicide = suicide.groupby('year').mean()","eaf6269f":"yearly_suicide.head()","b361bde4":"yearly_population = pd.DataFrame({\n    'population' : yearly_suicide.population\n})\n    \nyearly_suicide_no = pd.DataFrame({\n    'suicide_no' : yearly_suicide.suicides_no\n})","ac1aef29":"yearly_population.head()","df9089f0":"# yearly_population.plot.line(color='red')\n# yearly_suicide_no.plot.line()","5e02854a":"trace0 = go.Scatter(\n    x = yearly_population.index,\n    y = yearly_population.population,\n    mode = 'lines+markers',\n)\nlayout1 = go.Layout(\n    title=\"Population rate yearly basics\",\n    xaxis={\n        'title':\"Years\",\n    },\n    yaxis={\n        'title':\"Number of population\",\n    }\n)\n\ndata1 = [trace0]\nfigure=go.Figure(data=data1,layout=layout1)\npy.offline.iplot(figure)\n\ntrace1 = go.Scatter(\n    x = yearly_suicide_no.index,\n    y = yearly_suicide_no.suicide_no,\n    mode = 'lines+markers',\n)\n\nlayout2 = go.Layout(\n    title=\"Suicide rate yearly basics\",\n    xaxis={\n        'title':\"Years\",\n    },\n    yaxis={\n        'title':\"Suicide rate\",\n    }\n)\n\ndata2 = [trace1]\nfigure1=go.Figure(data=data2,layout=layout2)\npy.offline.iplot(figure1)","c5b9e24a":"merge_pop_suicide = pd.merge(yearly_population , yearly_suicide_no , on='year')","d29f62eb":"merge_pop_suicide.head()","b2174b7e":"merge_pop_suicide.plot.bar(stacked=True,figsize=(30,10))","f9c25026":"yearly_countrywise_gender_suicide_df = pd.DataFrame({\n    \"year\" : suicide.year,\n    \"sex\" : suicide.sex,\n    \"suicides_no\" : suicide.suicides_no\n})","9b67d389":"yearly_countrywise_gender_suicide = yearly_countrywise_gender_suicide_df.pivot_table(index='year', columns='sex',aggfunc='mean')","2593d762":"yearly_countrywise_gender_suicide.head()","d9e2c493":"x = yearly_countrywise_gender_suicide.index","3297cf11":"yearly_countrywise_gender_suicide.columns","5022fe60":"yearly_countrywise_gender_suicide.columns = ['female' , 'male']","580bbf79":"yearly_countrywise_gender_suicide.head()","3729c1d4":"female = yearly_countrywise_gender_suicide['female']\nmale = yearly_countrywise_gender_suicide['male']","865a3a8a":"fig, ax = plt.subplots(figsize=(12,6))\n\nax.plot(x, female, color=\"blue\", alpha=0.5 , label='Female suicide rate')\nax.plot(x, male, color=\"green\", alpha=0.5 , label=\"Male suicide rate\")\nax.set_xlabel('Years')\nax.set_ylabel('Avg. of suicide no')\nax.legend()","268e50f0":"country_yearwise_suicide_df  = pd.DataFrame({\n    'country' : suicide.country,\n    'year' : suicide.year,\n    'suicides_no' : suicide.suicides_no\n}) ","c57e69bf":"country_yearwise_suicide = country_yearwise_suicide_df.pivot_table(index='year' , columns='country' , aggfunc='mean')","53538410":"country_yearwise_suicide.columns = country_yearwise_suicide.columns.droplevel()","01116579":"country_yearwise_suicide.head()","e80affbc":"country_yearwise_suicide.interpolate(axis=0 , inplace=True)","355619ae":"country_yearwise_suicide.fillna(method='bfill' , axis=0 , inplace=True)","998add88":"country_yearwise_suicide.iloc[:,1].name","af8eb84f":"len(country_yearwise_suicide.columns)","98b73d78":"fig, ax = plt.subplots(figsize=(20,6))\n\nl = len(country_yearwise_suicide.columns) \nfor i in range(l - 90):\n    \n    ax.plot(country_yearwise_suicide.index, country_yearwise_suicide.iloc[:,i], alpha=0.5 , label=country_yearwise_suicide.iloc[:,i].name)\n\nax.legend()\nax.set_xlabel('Years')\nax.set_ylabel('Avg. of suicide no')","48e4cdca":"suicide.head()","aac058b8":"suicide.generation.unique()","d3ffe290":"yearly_country_gdp_df = pd.DataFrame({\n    'country' : suicide.country,\n    'year' : suicide.year,\n    'gdp' : suicide.iloc[:,9]\n})","67b73753":"yearly_country_gdp_df = yearly_country_gdp_df.drop_duplicates()","931acbf5":"yearly_country_gdp_df.head()","1aa068d3":"yearly_country_gdp_df = yearly_country_gdp_df.set_index('country')","6f1529bb":"country_gdp = yearly_country_gdp_df[yearly_country_gdp_df.index == 'Albania']\ncountry_gdp.head()","b3559ef5":"trace = go.Scatter(x=country_gdp.year , y=country_gdp.gdp , name=country_gdp.index[0],mode = 'lines+markers')\nlayout = go.Layout(\n        title=\"Albania country's GDP evaluation\",\n        xaxis={\n                'title':\"Years\",\n              },\n        yaxis={\n                'title':\"gdp rate\",\n              }\n        )\ndata = [trace]\nfig = go.Figure(data=data , layout=layout)\npy.offline.iplot(fig)","35707818":"\ngen_sui = suicide.pivot_table('suicides_no', index='generation', aggfunc='sum')\nx = gen_sui.index.values\ny = gen_sui.values\ny = y.reshape(6,)\n\nfig, ax = plt.subplots(figsize=(10, 6))\nexplode = (0.1,0.1,0.1,0.5,0.1,0.1)\nax.pie(y, explode=explode, labels=x, autopct='%1.1f%%', shadow=True, startangle=0)\nax.axis('equal')\nplt.show()","86f0c548":"suide_pairplot = suicide.fillna(method='bfill')\nsuide_pairplot.head(2)","1738612b":"sb.pairplot(suide_pairplot , hue='age')","c54d3110":"sb.distplot(suicide.iloc[:,6])\nplt.show()","04760236":"## Population and suicide rate in yearly basics","5dbabe3c":"## Evaluation  GDP of Albania country throughout the period","dcced3d2":"## GDP evalution of each country yearly basis","2d7db0cb":"## Pairplot through age group","4ea3f946":"## Number of suicides genderwise in each country","9a69861d":"## Generation evaluation","85bfe065":"## Suicide rate over the period of time in each country\n","59f135f0":"## Number of suicides genderwise","ad6e153d":"## Merge population and suicide no with yearlywise","b678e236":"## Number of suicides committed in each country","edfa1302":" ## Suicides committed by various age groups","112384d7":"## Suicides committed by various age groups in male and female","16a27ad5":"## Suicides committed by various age groups in male and female in each country","8114dbc1":"## Suicide rate in male and female yearly"}}