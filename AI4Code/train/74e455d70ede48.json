{"cell_type":{"07d0aeae":"code","66d54462":"code","e9cfc611":"code","a9c1f26c":"code","811f6c20":"code","cf88a915":"code","f235265c":"code","8e88849b":"code","ee6566ee":"code","1cc35e5f":"code","61282f69":"code","d5fd59b5":"code","f67bb405":"code","5c52bcb3":"code","31380c7e":"code","0d714f08":"code","a708f880":"code","7e2f8691":"code","23b8b1d3":"code","506dafe7":"code","3ee2512d":"code","a32fe77c":"code","cc8e996e":"code","bba41c60":"code","b6e6522d":"code","b13e0b1e":"code","fc2e104a":"code","38969347":"code","911d3277":"code","f63e3a9a":"code","3e01092a":"code","63acd47e":"code","95b6fac4":"code","6742fe0b":"code","178fa15f":"code","0fd25902":"code","80881762":"code","ee33b841":"code","536c3de0":"code","038b2053":"code","4200d7c5":"code","e7824566":"code","efd0c5d1":"code","166e0c4d":"code","f76af92b":"code","5f0cf108":"code","93704708":"code","85bc5386":"code","32e0cae2":"code","12ba057d":"code","62ccabf7":"code","b6e3d063":"markdown","bb81ac1e":"markdown","9b65620f":"markdown","3625432b":"markdown","f36d37ce":"markdown","a490f056":"markdown","01a23d62":"markdown","146ccd6a":"markdown","86b36c22":"markdown","b4fae2db":"markdown","90bfdae0":"markdown","2d933288":"markdown","1e9b6452":"markdown","fed75edc":"markdown","f2e87d7f":"markdown","25c7b761":"markdown","28103e6f":"markdown","b983003a":"markdown","d1fef9aa":"markdown","a114ff9a":"markdown","92b267af":"markdown","c8a457a4":"markdown","dd84ecec":"markdown"},"source":{"07d0aeae":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","66d54462":"# importing libraries\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","e9cfc611":"# loading datasets\ncustomers=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_customers_dataset.csv')\nsellers=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_sellers_dataset.csv')\norder_reviews=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_order_reviews_dataset.csv')\norder_items=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_order_items_dataset.csv')\nproducts=pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_products_dataset.csv')","a9c1f26c":"geolocation = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_geolocation_dataset.csv')\nproduct_category = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/product_category_name_translation.csv')\norders = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_orders_dataset.csv')\npayments = pd.read_csv('\/kaggle\/input\/brazilian-ecommerce\/olist_order_payments_dataset.csv')","811f6c20":"# storing all datasets as a list for future reference\n\nlist_of_all_datasets=['customers','sellers','order_reviews','order_items','products','geolocation','product_category','orders','payments']","cf88a915":"# print top 5 values\ncustomers.head(5)","f235265c":"customers.shape","8e88849b":"customers.isnull().sum()","ee6566ee":"customers.customer_city.unique()","1cc35e5f":"len(customers.customer_city.unique())","61282f69":"customers.customer_state.unique()","d5fd59b5":"len(customers.customer_state.unique())","f67bb405":"plt.figure(figsize=(13,7))\nsns.histplot(x=customers['customer_state'],data=customers,color='blue')\nplt.show()","5c52bcb3":"top_10_cities=customers['customer_city'].value_counts().nlargest(10)\ntop_10_cities","31380c7e":"cities=customers['customer_city'].value_counts(ascending=True)\ncities[0:20]","0d714f08":"city_df=customers.groupby('customer_city').count()['customer_id'].reset_index()","a708f880":"sns.barplot(data = city_df.sort_values('customer_id', ascending = False).nlargest(10,'customer_id'), x = 'customer_id', \n            y = 'customer_city',)\nplt.title('Cities with the Most Customers')\nplt.xlabel('City')\nplt.ylabel('Number of Customers')","7e2f8691":"products.head()","23b8b1d3":"order_items.head()","506dafe7":"products_and_order_items_df=pd.merge(order_items,products)","3ee2512d":"products_and_order_items_df.head()","a32fe77c":"top_10_products=products_and_order_items_df['product_category_name'].value_counts().reset_index().nlargest(10, 'product_category_name')","cc8e996e":"lowest_10_products=products_and_order_items_df['product_category_name'].value_counts().reset_index().nsmallest(10, 'product_category_name')","bba41c60":"top_10_products","b6e6522d":"lowest_10_products","b13e0b1e":"payments.head()","fc2e104a":"payments.payment_type.unique()","38969347":"top_payment_type = payments['payment_type'].value_counts(ascending=False)","911d3277":"top_payment_type","f63e3a9a":"type(top_payment_type)","3e01092a":"a = top_payment_type.index","63acd47e":"b = top_payment_type.values","95b6fac4":"sns.barplot(x=a,y=b)","6742fe0b":"# we will first see if there is any relation between our product_and_order_items_df, and order_reviews\nproducts_and_order_items_df.head(3)","178fa15f":"# printing top 3 rows or order_reviews\norder_reviews.head(3)","0fd25902":"reviews_df=pd.merge(products_and_order_items_df, order_reviews)","80881762":"reviews_df.head(3)","ee33b841":"reviews_df.shape","536c3de0":"order_reviews['review_score'].value_counts()","038b2053":"order_reviews['review_score'].unique()","4200d7c5":"sns.barplot(x=order_reviews['review_score'].value_counts().index,y=order_reviews['review_score'].value_counts().values)\nplt.xlabel('Ratings')\nplt.ylabel('Counts')","e7824566":"reviews_df.head(3)","efd0c5d1":"product_reviews_mean = reviews_df.groupby('product_category_name').mean()['review_score'].reset_index()","166e0c4d":"product_reviews_mean.head(3)","f76af92b":"top_10_ratings = product_reviews_mean.sort_values('review_score', ascending = False).nlargest(10,'review_score')\nlowest_10_ratings = product_reviews_mean.sort_values('review_score', ascending = False).nsmallest(10,'review_score')","5f0cf108":"sns.barplot(data = top_10_ratings, x = 'review_score', y = 'product_category_name')\nplt.title('Top 10 Product Ratings')\nplt.xlabel('Average Rating')\nplt.ylabel('Product Category Name')","93704708":"sns.barplot(data = lowest_10_ratings, x = 'review_score', y = 'product_category_name')\nplt.title('Lowest 10 Product Ratings')\nplt.xlabel('Average Rating')\nplt.ylabel('Product Category Name')","85bc5386":"# list print again list of all datasets\nlist_of_all_datasets","32e0cae2":"geolocation.head()","12ba057d":"geolocation.isnull().sum()","62ccabf7":"len(geolocation.geolocation_city.unique())","b6e3d063":"#### Out of 5 types of methods, credit card is used on the top, then boleto and then voucher","bb81ac1e":"### Products Reviews","9b65620f":"#### Music, dvd, and cds category have the highest average ratings. after tha infant's fashion clothes come.","3625432b":"#### We can see that there is no null value in Customers dataset\n#### Now, we will try to find no of unique states and city from the Customers Dataset","f36d37ce":"#### Insurance Services have the worst ratings, followed by fraldas higiene products","a490f056":"#### From above histogram, we can see that most numbers of customer are from SP (Sao Paul) state,followed by Rj (Rio de Janeiro) state.","01a23d62":"#### We can see that there are so many cites with count 1, they can be said to be city with least customers","146ccd6a":"There are total 27 different states","86b36c22":"### Top Ten rated products","b4fae2db":"#### There are total 4119 different Cities from where Customers visit","90bfdae0":"##### From the above bar graph we can see that,uses of Credit Card is the highest aroud 75000, then boleto that is slightly less than 20000, ","2d933288":"#### There are bascially 5 types of payment methods used by the customers","1e9b6452":"##### Again the city with most no of customers is Sao Paulo, followed by rio de janeiro","fed75edc":"#### There are 8011 unique city from geolocation data.","f2e87d7f":"### Payments Analysis","25c7b761":"#### From above two datasets, we can see that we can 'inner join' these datasets on products id, Lets see","28103e6f":"#### Ratings points are discrete, starting from 1 to 5.","b983003a":"Most of the products have been rated 5,then 4.\nalso 1 rating is higher than 2 and 3\n","d1fef9aa":"#### Since this is a series object we can draw a histplot using its index and values","a114ff9a":"### Analysis of Customers Data","92b267af":"### Visualisation of Customer Dataset","c8a457a4":"#### We can join it based on order_id column which is common to both, for this we will make another dataframe named \"reviews_df'","dd84ecec":"### Analyis of products and items"}}