{"cell_type":{"6e48c069":"code","fc4c9a93":"code","1aeee773":"code","83ca67d8":"code","e2ccc571":"code","9808588b":"code","196c4884":"code","6dfe43a9":"code","9feacf16":"code","ab69bbbd":"code","23362386":"code","a2e8d141":"code","51c35ee8":"code","fa04bdf7":"code","2095db5c":"code","4baab7d6":"code","8687e6f8":"code","957818d9":"code","1147856a":"code","f16de1ae":"code","fa573e9a":"code","226a7ca8":"code","9162ec5f":"markdown","19d8e9c2":"markdown","50b03dec":"markdown","39ee0d16":"markdown"},"source":{"6e48c069":"import os\nimport pandas as pd\nimport numpy as np\n\nfrom pylab import rcParams\nimport statsmodels.api as sm\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport seaborn as sns","fc4c9a93":"sns.set_theme(style=\"darkgrid\")","1aeee773":"df_dict = {}\ndestination_URL = \"..\/input\/sri-lanka-rupees-exchange-rate-historical-data\/\"\nfor file in os.listdir(destination_URL):\n    df_dict[file[:3]] = pd.read_csv(destination_URL +file)\n    \ncurrency_codes = pd.read_csv(\"https:\/\/raw.githubusercontent.com\/datasets\/currency-codes\/master\/data\/codes-all.csv\")[[\"Entity\", \"AlphabeticCode\"]]","83ca67d8":"currency_codes = currency_codes.set_index(\"AlphabeticCode\").to_dict()[\"Entity\"]","e2ccc571":"currency_codes[\"LKR\"]","9808588b":"usd_df = df_dict[\"USD\"]","196c4884":"usd_df.head()","6dfe43a9":"usd_df.info()","9feacf16":"usd_df.describe()","ab69bbbd":"usd_df = usd_df.set_index(\"Date\")","23362386":"plt.figure()\nusd_df.plot(subplots=True, figsize=(20,20))\nplt.ylabel(\"Price in Sri Lankan Rupees\")\nplt.xlabel(\"Date\");","a2e8d141":"# Convert index to datetype\nusd_df.index = pd.to_datetime(usd_df.index)","51c35ee8":"# Analyze the Change from 2019 to 2021\nusd_month = usd_df.loc['2019-01-01':'2021-01-01'].resample(\"M\").mean()\nfig, ax = plt.subplots(figsize=(10, 6))\nax.xaxis.set_major_formatter(mdates.DateFormatter('%Y-%m'))\nax.bar(usd_month['2019':].index, usd_month.loc['2019':, \"Price\"], width=25, align='center')\nax.set_ylabel(\"LKR (Sri Lakan Rupees)\")\nax.set_xlabel('Date')\nax.set_title(\"LKR Price of USD Analysis from 2019 to 2021\");","fa04bdf7":"# Analyze the Seasonal Change from 2019 to 2021\nfig, axes = plt.subplots(3, 1, figsize=(10, 16), sharex=True)\nfor name, ax in zip(['Open', 'High', 'Low'], axes):\n    sns.boxplot(data = usd_df.loc['2019-01-01':'2021-01-01'], x=usd_df.loc['2019-01-01':'2021-01-01'].index.month, y=name, ax=ax)\n    ax.set_ylabel(\"LKR (Sri Lakan Rupees)\")\n    ax.set_title(name)\n    if ax != axes[-1]:\n        ax.set_xlabel('')\nax.set_xlabel('Month');","2095db5c":"usd_month = usd_df.loc['2019-01-01':'2021-01-01'].resample(\"M\").mean()\nusd_week = usd_df.loc['2019-01-01':'2021-01-01'].resample(\"W\").mean()","4baab7d6":"# Comparing Average plots from 2019 to 2021\n\nfig, ax = plt.subplots(figsize=(40, 15))\nax.plot(usd_month['Price'], marker='.', linestyle='-', linewidth = 0.5, label='Monthly', color='black')\nax.plot(usd_week['Price'], marker='o', markersize=8, linestyle='-', label='Weekly', color='coral')\nax.set_ylabel(\"Price in LKR (Sri Lakan Rupees)\")\nplt.tick_params(labelsize=20)\nax.legend(prop={\"size\":20});","8687e6f8":"# Comparing Daily plots from 2019 to 2021\n\nfig, ax = plt.subplots(figsize=(40, 15))\nax.plot(usd_month['Price'], marker='.', linestyle='-', linewidth = 0.5, label='Monthly', color='black')\nax.plot(usd_df.loc['2019-01-01':'2021-01-01']['Price'], marker='+', markersize=8, linestyle='-', label='Daily', color='violet')\nax.set_ylabel(\"Price in LKR (Sri Lakan Rupees)\")\nplt.tick_params(labelsize=20)\nax.legend(prop={\"size\":20});","957818d9":"usd_7d_average = usd_df.loc['2019-01-01':'2021-01-01'].rolling(7, center=True).mean()","1147856a":"# Comparing Weekly Rolling Averges plots from 2019 to 2021\n\nfig, ax = plt.subplots(figsize=(40, 15))\nax.plot(usd_week[\"Price\"], marker='.', linestyle='-', \n        linewidth=1.5, label='Weekly Mean Average')\nax.plot(usd_month[\"Price\"], marker='o', markersize=5, \n        linestyle='-', label = 'Monthly mean volume')\nax.plot(usd_7d_average[\"Price\"], marker='.', linestyle='-', label='7d Rolling Average')\nax.set_ylabel(\"Price in LKR (Sri Lakan Rupees)\")\nplt.tick_params(labelsize=20)\nax.legend(prop={\"size\":20});","f16de1ae":"# Calculate percentage change\nusd_month.loc[:, 'pct_change'] = usd_df.loc['2019-01-01':'2021-01-01'].Open.pct_change()*100","fa573e9a":"# Plotting Expanding Mean and std for USD Exchange Rate\n\nfig, ax = plt.subplots(figsize=(40, 15))\nax = usd_df.High.plot(label='High')\nax = usd_df.High.expanding().mean().plot(label='High expanding mean')\nax = usd_df.High.expanding().std().plot(label='High expanding std')\nax.set_ylabel(\"Price in LKR (Sri Lakan Rupees)\")\nplt.tick_params(labelsize=20)\nax.legend(prop={\"size\":20});","226a7ca8":"# Decomposition of Monthly Averages of the History of Exchange Rate\n\nrcParams['figure.figsize'] = 11, 9\ndecomposition = sm.tsa.seasonal_decompose(usd_df.resample(\"M\").mean()[\"Price\"], model='Additive')\nfig = decomposition.plot()\nplt.show()","9162ec5f":"### Import Libraries","19d8e9c2":"### Load Data","50b03dec":"### Data Visualization","39ee0d16":"### EDA"}}