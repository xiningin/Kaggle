{"cell_type":{"1593e6f3":"code","595fc352":"code","bb5f6fd5":"code","7ab7d96b":"code","4c686d3d":"code","d5b66d69":"code","ce91909a":"code","7f018024":"code","f7de8522":"code","885561ec":"code","a3130889":"code","a742bb84":"code","fae42f75":"markdown","9190bee1":"markdown","faba0fae":"markdown","af1e898d":"markdown","ac20a905":"markdown","4570a1c1":"markdown","79470b44":"markdown","1616db54":"markdown","c3b9012f":"markdown","dcf99ce3":"markdown"},"source":{"1593e6f3":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","595fc352":"#Opening the file.\nmultipleChoice_df = pd.read_csv('..\/input\/multipleChoiceResponses.csv')","bb5f6fd5":"#Create a list of all columns. Remove columns that you don't want to delete. Drop only the columns in the list.\ntarget_df = multipleChoice_df\ntarget_col_list = list(target_df.columns.values)\ntarget_col_list.remove('Q6')\ntarget_col_list.remove('Q40')\nfor col in target_col_list:\n    target_df.drop([col], axis=1,inplace=True)","7ab7d96b":"target_df.head()","4c686d3d":"for column in target_df.columns:\n    print('Null values in',str(column),'?',target_df[column].isnull().any())","d5b66d69":"clean_target_df = target_df.dropna()","ce91909a":"clean_target_df.isnull().any()","7f018024":"group_target_df = clean_target_df.groupby(['Q6','Q40']).size().reset_index(name='Count')\ngroup_target_df.head(10)","f7de8522":"pivot_target_df = group_target_df.pivot(index='Q6',columns='Q40',values='Count')\npivot_target_df","885561ec":"pivot_target_df.drop(['Which better demonstrates expertise in data science: \\\nacademic achievements or independent projects? - Your views:'], axis=1,inplace=True)\npivot_target_df.drop(pivot_target_df.index[18],inplace=True)","a3130889":"give_me_cluster_df = pivot_target_df.fillna(0)\ngive_me_cluster_df","a742bb84":"#sns.clustermap creates the desired plot. fmt='g' adjusts for scientific notation of digits in cells.\n#The second line calls the .ax_heatmap to give a slight rotation to the x axis labels.\ngraph = sns.clustermap(give_me_cluster_df,cmap='magma', annot=True, fmt='g')\nplt.setp(graph.ax_heatmap.xaxis.get_majorticklabels(), rotation=85)\nplt.show()","fae42f75":"We now have the final dataframe to create the cluster map graph. Below are the lines of code:","9190bee1":"The answers of Q6 point to the current or most recent profession of the respondent. The clustering will be done by taking the professions listed in Q6 and linking each profession to the counts of the answers in Q40.  In other words, we'll try to distribute the professions into indexes and the multiple choice answers in Q40 into columns .\n\nFirst we'll split the current dataframe into groups using the .gropby() method and at the same time using the .reset_index() method to create a dataframe with column named 'Count', as shown below:","faba0fae":"Finally, this map shows us a clustering in favor of independent projects as a measurement of success among students and Data Scientists. The darker side of the map to the left shows less respondents giving a positive response to academic achivements. ","af1e898d":"It's the dataframe that we wanted, but as seen, the formulated questions of both Q6 and Q40 are occupying  row 18  and a column 7 respectively. We need to remove that row and that column.\n\nWe can see as well that new NaN values were created in this dataframe. We'll assume that in such cells the count for the answer was zero, so we'll modify accordingly.","ac20a905":"Ok, so now lets replace the NaN values with zeros:","4570a1c1":"## Views on Data Science Expertise\n## How Different Roles Evaluated Academic Achievements vs. Independent Projects\n\n\nDigging into Kaggle's 2018 MS and DS Survey, this document describes the process of creating a cluster map to evaluate how different professions answered the question: *'Which better demonstrates expertise in data science: academic achievements or independent projects?*\n","79470b44":"The following dataframe is created:","1616db54":"Cleaning the dataframe. The null values will be removed.","c3b9012f":"As you can see, the 'Count' column counts the answers of Q40 for each profession. Next, we'll pivot this dataframe, that is, create an index with each individual profession and move the answers in Q40 to create columns out of them and the 'Count' values will fill the body of the dataframe:","dcf99ce3":"The survey has 50 questions, so next we'll drop the unnecesary columns for the intended task. We want to work only on Question 6 (*'Select the title most similar to your current role (or most recent title if retired)'*) and Question 40 (*'Which better demonstrates expertise in data science: academic achievements or independent projects?*')."}}