{"cell_type":{"964d4e7a":"code","9ec08e75":"code","9c8d379e":"code","946614e5":"code","5ce89d66":"code","63d8c2b4":"code","1e119462":"code","7ff06a7a":"code","c0510368":"code","85910810":"code","63c5597e":"code","65131299":"code","5c68dfe8":"code","80d1e4de":"code","52e62736":"code","9cf29f36":"code","bee7dfbf":"code","5208858c":"code","3efaf515":"code","1cfe2354":"code","11918290":"code","4890576c":"code","861f29dd":"code","e0626c44":"code","2505285a":"code","a737c1d2":"code","d3cfe164":"code","c4832d21":"code","0f8e5d30":"code","ad42bf71":"code","3b989d5b":"code","9cab2113":"code","24a13e37":"code","5c31063f":"code","747512ee":"code","83ee67f8":"code","9f015008":"code","db54a674":"code","55bd3719":"code","2190176e":"code","799485a5":"code","3352334b":"code","20d4f750":"code","9b9e31e7":"code","9a175b34":"code","71e6dfaf":"code","ec85f43c":"code","bd3ba2de":"code","a4537c1d":"code","a4b6cb10":"code","db569762":"code","6c34124c":"code","9b346021":"code","e91f68d8":"code","62f5ccd7":"code","abfbbeb8":"code","61f99a21":"code","98645df2":"code","22fe2749":"code","5b7c33bf":"code","e9fb8232":"code","b84bbbb2":"code","d3ef491c":"code","796bf0bb":"code","2cb151bc":"code","a75877de":"code","b59947eb":"code","7d3bfc45":"code","e4433134":"code","d1fac624":"code","b31a3201":"code","3b4b5abf":"code","300016d3":"code","f697c31e":"code","697387cd":"code","46c8f704":"code","f5656a4a":"code","a18e350d":"code","6cf122eb":"code","b6f745d1":"code","5cb8c236":"code","90fcc556":"code","4e38641a":"code","4198d4bc":"code","04bbe863":"code","a166d59a":"code","606dbab3":"code","942f9981":"code","35e62bfd":"code","294a7679":"code","f601127c":"code","2856f20c":"code","f5a1b295":"code","9e4ff697":"code","e27e2f12":"code","a25067aa":"code","5c9ea26b":"code","04784999":"code","debb03ab":"code","5a106b8c":"code","c1502ba5":"code","b31e8048":"code","60f112a5":"code","499b686a":"code","002e87a0":"code","a8249381":"code","892fc4ba":"code","235beefb":"code","99134aa6":"code","dde55a43":"code","bb5abfca":"markdown","1219344d":"markdown","dc75787e":"markdown","b99cf962":"markdown","d675f84c":"markdown","89d37248":"markdown","b93d8ccc":"markdown","f36dc02b":"markdown","4300b5fb":"markdown","6265d943":"markdown","a423e3b5":"markdown","5f3ff8bf":"markdown","b64bfca4":"markdown","7b48187f":"markdown","b20df4ee":"markdown","a47486d9":"markdown","17666b0f":"markdown","1e2f3932":"markdown","9be8432d":"markdown","1bd6ff92":"markdown","7267ab2b":"markdown","463da924":"markdown","d4c34f3d":"markdown","118c92f5":"markdown","3b05e257":"markdown","5c67eaca":"markdown","d519a53f":"markdown","92a60667":"markdown","f8ff97fd":"markdown","271af643":"markdown","bcab66fe":"markdown","6e406f63":"markdown","f0871c26":"markdown","4ec15f69":"markdown","db0af95b":"markdown","4d496a0f":"markdown","90eaacd2":"markdown","e434272e":"markdown","9c8bac96":"markdown","1aa7ede6":"markdown","07c65318":"markdown","52bca5a3":"markdown","24f10f47":"markdown","e9215de2":"markdown","c44ce86a":"markdown","c536bca1":"markdown","721ef1a9":"markdown","340fc87a":"markdown","e367823a":"markdown","f9ae8159":"markdown","9c4b51e0":"markdown","4ed57c01":"markdown","ef1af4f8":"markdown","0276e229":"markdown","b28a384c":"markdown","8ba543d1":"markdown","a89253d8":"markdown","77cbf968":"markdown","cec69fe2":"markdown","6f977b1a":"markdown","5ad7db3f":"markdown","9b574e17":"markdown","6a1ba509":"markdown","4ba6f4a9":"markdown","9a23e4b0":"markdown","256eeef4":"markdown","be12b8ad":"markdown","0932c788":"markdown","f9e3599a":"markdown","f40219b9":"markdown","9d626ad0":"markdown","c3864db5":"markdown"},"source":{"964d4e7a":"!pip install transformers\n!pip install torch\n!pip install pyshorteners\n!pip install xlrd\n!pip install wikipedia","9ec08e75":"%matplotlib inline\nimport pandas as pd\nimport numpy as np\nfrom scipy import stats\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport json\nfrom pandas.io.json import json_normalize\nfrom wordcloud import WordCloud, STOPWORDS\n\n\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\n\n\nimport pandas as pd\nimport numpy as np\nimport nltk\nimport re\nimport datetime\n\n#UrlLib for http handlings\nfrom bs4 import BeautifulSoup\nimport urllib.request\nimport re\n\nimport urllib.request  \nimport bs4 as BeautifulSoup\nimport nltk\n\n#from string import punctuation\n#from nltk.corpus import stopwords\n#from nltk.tokenize import word_tokenize\n#from nltk.tokenize import sent_tokenize\n\nfrom os import path\nfrom PIL import Image\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\n\nimport urllib.request  \nimport bs4 as BeautifulSoup\nimport nltk\nfrom string import punctuation\nimport wikipedia\n\n#For the next version \nfrom nltk.corpus import stopwords\nfrom nltk.tokenize import word_tokenize\nfrom nltk.tokenize import sent_tokenize\nfrom sklearn.feature_extraction.text import TfidfVectorizer, CountVectorizer\n\nimport torch\nimport json \nfrom transformers import T5Tokenizer, T5ForConditionalGeneration, T5Config\n","9c8d379e":"month_order = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\nday_order = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']","946614e5":"\ndf               = pd.read_csv('..\/input\/ted-talks\/ted_main.csv')\ntranscript_df    = pd.read_csv('..\/input\/ted-talks\/transcripts.csv')\nultimate_TED     = pd.read_csv('..\/input\/ted-ultimate-dataset\/2020-05-01\/ted_talks_it.csv')\nupdated_TED      = pd.read_csv('..\/input\/ted-talks-dataset\/ted_main.csv')\nTED_Talks_AI     = pd.read_excel('..\/input\/ted-talks-20062020\/Artificial Intelligence_TED_Talks.xlsx', sheet_name='Sheet1') ","5ce89d66":"TED_Talks_AI","63d8c2b4":"import datetime\ndf['film_date'] = df['film_date'].apply(lambda x: datetime.datetime.fromtimestamp( int(x)).strftime('%d-%m-%Y'))\ndf['published_date'] = df['published_date'].apply(lambda x: datetime.datetime.fromtimestamp( int(x)).strftime('%d-%m-%Y'))","1e119462":"df.tail(1)","7ff06a7a":"updated_TED.tail(1)","c0510368":"df = df[['name', 'title', 'description', 'main_speaker', 'speaker_occupation', 'num_speaker', 'duration', 'event', 'film_date', 'published_date', 'comments', 'tags', 'languages', 'ratings', 'related_talks', 'url', 'views']]","85910810":"df.head(1)","63c5597e":"updated_TED.head(1)","65131299":"updated_TED.rename(columns = {'speaker_name':'main_speaker', 'title':'title', 'posted_date':'published_date','duration':'duration', 'Link':'url', 'about_speaker':'speaker_occupation','about_talk':'description', 'views':'views', 'tags':'tags'}, inplace = True) ","5c68dfe8":"updated_TED.head(1)","80d1e4de":"df.shape","52e62736":"updated_TED.shape","9cf29f36":"#df_row_reindex = pd.concat([df, updated_TED], ignore_index=True)\n\n#df_row_reindex.tail()","bee7dfbf":"#values = {'num_speaker': 1, 'event': \" \", 'film_date': 1140825600, 'published_date': 1140825600, 'comments': 0, 'tags': \"TED\", 'languages': 0, 'ratings': 0, 'related_talks': \" \", 'views': 0}\n#df_row_reindex.fillna(value=values)","5208858c":"df.tail()","3efaf515":"len(df)","1cfe2354":"df.dtypes","11918290":"pop_talks = df[['title', 'main_speaker', 'views', 'film_date']].sort_values('views', ascending=False)[:15]\npop_talks","4890576c":"pop_talks['abbr'] = pop_talks['main_speaker'].apply(lambda x: x[:3])\nsns.set_style(\"whitegrid\")\nplt.figure(figsize=(10,6))\nsns.barplot(x='abbr', y='views', data=pop_talks)","861f29dd":"sns.distplot(df['views'])","e0626c44":"sns.distplot(df[df['views'] < 0.4e7]['views'])","2505285a":"df['views'].describe()","a737c1d2":"df['comments'].describe()","d3cfe164":"sns.distplot(df['comments'])","c4832d21":"sns.distplot(df[df['comments'] < 500]['comments'])","0f8e5d30":"sns.jointplot(x='views', y='comments', data=df)","ad42bf71":"df[['views', 'comments']].corr()","3b989d5b":"df[['title', 'main_speaker','views', 'comments']].sort_values('comments', ascending=False).head(10)","9cab2113":"df['dis_quo'] = df['comments']\/df['views']","24a13e37":"df[['title', 'main_speaker','views', 'comments', 'dis_quo', 'film_date']].sort_values('dis_quo', ascending=False).head(10)","5c31063f":"df['month'] = df['film_date'].apply(lambda x: month_order[int(x.split('-')[1]) - 1])\n\nmonth_df = pd.DataFrame(df['month'].value_counts()).reset_index()\nmonth_df.columns = ['month', 'talks']","747512ee":"sns.barplot(x='month', y='talks', data=month_df, order=month_order)","83ee67f8":"df_x = df[df['event'].str.contains('TEDx')]\nx_month_df = pd.DataFrame(df_x['month'].value_counts().reset_index())\nx_month_df.columns = ['month', 'talks']","9f015008":"sns.barplot(x='month', y='talks', data=x_month_df, order=month_order)","db54a674":"def getday(x):\n    day, month, year = (int(i) for i in x.split('-'))    \n    answer = datetime.date(year, month, day).weekday()\n    return day_order[answer]","55bd3719":"df['day'] = df['film_date'].apply(getday)","2190176e":"day_df = pd.DataFrame(df['day'].value_counts()).reset_index()\nday_df.columns = ['day', 'talks']","799485a5":"sns.barplot(x='day', y='talks', data=day_df, order=day_order)","3352334b":"df['year'] = df['film_date'].apply(lambda x: x.split('-')[2])\nyear_df = pd.DataFrame(df['year'].value_counts().reset_index())\nyear_df.columns = ['year', 'talks']","20d4f750":"plt.figure(figsize=(18,5))\nsns.pointplot(x='year', y='talks', data=year_df)","9b9e31e7":"months = {'Jan': 1, 'Feb': 2, 'Mar': 3, 'Apr': 4, 'May': 5, 'Jun': 6, 'Jul': 7, 'Aug': 8, 'Sep': 9, 'Oct': 10, 'Nov': 11, 'Dec': 12}","9a175b34":"hmap_df = df.copy()\nhmap_df['film_date'] = hmap_df['film_date'].apply(lambda x: month_order[int(x.split('-')[1]) - 1] + \" \" + str(x.split('-')[2]))\nhmap_df = pd.pivot_table(hmap_df[['film_date', 'title']], index='film_date', aggfunc='count').reset_index()\nhmap_df['month_num'] = hmap_df['film_date'].apply(lambda x: months[x.split()[0]])\nhmap_df['year'] = hmap_df['film_date'].apply(lambda x: x.split()[1])\nhmap_df = hmap_df.sort_values(['year', 'month_num'])\nhmap_df = hmap_df[['month_num', 'year', 'title']]\nhmap_df = hmap_df.pivot('month_num', 'year', 'title')\nhmap_df = hmap_df.fillna(0)","71e6dfaf":"f, ax = plt.subplots(figsize=(12, 8))\nsns.heatmap(hmap_df, annot=True, linewidths=.5, ax=ax, fmt='n', yticklabels=month_order)\n","ec85f43c":"speaker_df = df.groupby('main_speaker').count().reset_index()[['main_speaker', 'comments']]\nspeaker_df.columns = ['main_speaker', 'appearances']\nspeaker_df = speaker_df.sort_values('appearances', ascending=False)\nspeaker_df.head(10)","bd3ba2de":"occupation_df = df.groupby('speaker_occupation').count().reset_index()[['speaker_occupation', 'comments']]\noccupation_df.columns = ['occupation', 'appearances']\noccupation_df = occupation_df.sort_values('appearances', ascending=False)","a4537c1d":"plt.figure(figsize=(15,5))\nsns.barplot(x='occupation', y='appearances', data=occupation_df.head(10))\nplt.show()","a4b6cb10":"fig, ax = plt.subplots(nrows=1, ncols=1,figsize=(15, 8))\nsns.boxplot(x='speaker_occupation', y='views', data=df[df['speaker_occupation'].isin(occupation_df.head(10)['occupation'])], palette=\"muted\", ax =ax)\nax.set_ylim([0, 0.4e7])\nplt.show()","db569762":"df['num_speaker'].value_counts()","6c34124c":"df[df['num_speaker'] == 5][['title', 'description', 'main_speaker', 'event']]","9b346021":"events_df = df[['title', 'event']].groupby('event').count().reset_index()\nevents_df.columns = ['event', 'talks']\nevents_df = events_df.sort_values('talks', ascending=False)\nevents_df.head(10)","e91f68d8":"df['languages'].describe()","62f5ccd7":"df[df['languages'] == 72]","abfbbeb8":"sns.jointplot(x='languages', y='views', data=df)\nplt.show()","61f99a21":"import ast\ndf['tags'] = df['tags'].apply(lambda x: ast.literal_eval(x))","98645df2":"s = df.apply(lambda x: pd.Series(x['tags']),axis=1).stack().reset_index(level=1, drop=True)\ns.name = 'theme'","22fe2749":"theme_df = df.drop('tags', axis=1).join(s)\ntheme_df.head()","5b7c33bf":"len(theme_df['theme'].value_counts())","e9fb8232":"pop_themes = pd.DataFrame(theme_df['theme'].value_counts()).reset_index()\npop_themes.columns = ['theme', 'talks']\npop_themes.head(10)","b84bbbb2":"plt.figure(figsize=(15,5))\nsns.barplot(x='theme', y='talks', data=pop_themes.head(10))\nplt.show()","d3ef491c":"pop_theme_talks = theme_df[(theme_df['theme'].isin(pop_themes.head(8)['theme'])) & (theme_df['theme'] != 'TEDx')]\npop_theme_talks['year'] = pop_theme_talks['year'].astype('int')\npop_theme_talks = pop_theme_talks[pop_theme_talks['year'] > 2008]","796bf0bb":"themes = list(pop_themes.head(8)['theme'])\nthemes.remove('TEDx')\nctab = pd.crosstab([pop_theme_talks['year']], pop_theme_talks['theme']).apply(lambda x: x\/x.sum(), axis=1)\nctab[themes].plot(kind='bar', stacked=True, colormap='rainbow', figsize=(12,8)).legend(loc='center left', bbox_to_anchor=(1, 0.5))\nplt.show()","2cb151bc":"ctab[themes].plot(kind='line', stacked=False, colormap='rainbow', figsize=(12,8)).legend(loc='center left', bbox_to_anchor=(1, 0.5))\nplt.show()","a75877de":"pop_theme_talks = theme_df[theme_df['theme'].isin(pop_themes.head(10)['theme'])]\nfig, ax = plt.subplots(nrows=1, ncols=1,figsize=(15, 8))\nsns.boxplot(x='theme', y='views', data=pop_theme_talks, palette=\"muted\", ax =ax)\nax.set_ylim([0, 0.4e7])","b59947eb":"#Convert to minutes\ndf['duration'] = df['duration']\/60\ndf['duration'].describe()","7d3bfc45":"df[df['duration'] == 2.25]","e4433134":"df[df['duration'] == 87.6]","d1fac624":"sns.jointplot(x='duration', y='views', data=df[df['duration'] < 25])\nplt.xlabel('Duration')\nplt.ylabel('Views')\nplt.show()","b31a3201":"df2 = pd.read_csv('..\/input\/ted-talks\/transcripts.csv')\ndf2.head()","3b4b5abf":"len(df2)","300016d3":"df3 = pd.merge(left=df,right=df2, how='left', left_on='url', right_on='url')\ndf3.head()","f697c31e":"df3['transcript'] = df3['transcript'].fillna('')\ndf3['wc'] = df3['transcript'].apply(lambda x: len(x.split()))","697387cd":"df3['wc'].describe()","46c8f704":"df3['wpm'] = df3['wc']\/df3['duration']\ndf3['wpm'].describe()","f5656a4a":"df3[df3['wpm'] > 245]","a18e350d":"sns.jointplot(x='wpm', y='views', data=df3[df3['duration'] < 25])\nplt.show()","6cf122eb":"df.iloc[1]['ratings']","b6f745d1":"df['ratings'] = df['ratings'].apply(lambda x: ast.literal_eval(x))","5cb8c236":"df['funny'] = df['ratings'].apply(lambda x: x[0]['count'])\ndf['jawdrop'] = df['ratings'].apply(lambda x: x[-3]['count'])\ndf['beautiful'] = df['ratings'].apply(lambda x: x[3]['count'])\ndf['confusing'] = df['ratings'].apply(lambda x: x[2]['count'])\ndf.head()","90fcc556":"df[['title', 'main_speaker', 'views', 'published_date', 'funny']].sort_values('funny', ascending=False)[:10]","4e38641a":"df[['title', 'main_speaker', 'views', 'published_date', 'beautiful']].sort_values('beautiful', ascending=False)[:10]","4198d4bc":"df[['title', 'main_speaker', 'views', 'published_date', 'jawdrop']].sort_values('jawdrop', ascending=False)[:10]","04bbe863":"df[['title', 'main_speaker', 'views', 'published_date', 'confusing']].sort_values('confusing', ascending=False)[:10]","a166d59a":"df['related_talks'] = df['related_talks'].apply(lambda x: ast.literal_eval(x))","606dbab3":"s = df.apply(lambda x: pd.Series(x['related_talks']),axis=1).stack().reset_index(level=1, drop=True)\ns.name = 'related'","942f9981":"related_df = df.drop('related_talks', axis=1).join(s)\nrelated_df['related'] = related_df['related'].apply(lambda x: x['title'])","35e62bfd":"d = dict(related_df['title'].drop_duplicates())\nd = {v: k for k, v in d.items()}","294a7679":"related_df['title'] = related_df['title'].apply(lambda x: d[x])\nrelated_df['related'] = related_df['related'].apply(lambda x: d[x])","f601127c":"related_df = related_df[['title', 'related']]\nrelated_df.head()","2856f20c":"edges = list(zip(related_df['title'], related_df['related']))","f5a1b295":"import networkx as nx\nG = nx.Graph()\nG.add_edges_from(edges)","9e4ff697":"plt.figure(figsize=(25, 25))\nnx.draw(G, with_labels=False)","e27e2f12":"corpus = ' '.join(df2['transcript'])\ncorpus = corpus.replace('.', '. ')","a25067aa":"wordcloud = WordCloud(stopwords=STOPWORDS, background_color='white',width=2400,height=2000).generate(corpus)\nplt.figure(figsize=(12,15))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.show()","5c9ea26b":"device = torch.device('cpu')\nmodel = T5ForConditionalGeneration.from_pretrained('t5-base')\ntokenizer = T5Tokenizer.from_pretrained('t5-base')","04784999":"i=0\n\nn = int(transcript_df['url'].count())\nfor i in range(n):\n\n    transcript_df['url'][i] = transcript_df['url'][i].replace(\"\\n\", \"\/transcript\")\n    print(transcript_df['url'][i])\n    \n    i=i+1","debb03ab":"transcript_df","5a106b8c":"def summarization_links_t5(d,i):\n    import urllib.request\n    import re\n    \n    # Data collection from the links using web scraping(using Urllib library)\n    links_url = d['url'].tolist()\n    links_url = links_url[i]\n    links_url = links_url\n    #links_url = \"hhttps:\/\/www.ted.com\/talks\/sir_ken_robinson_do_schools_kill_creativity\/\"\n\n\n    text = urllib.request.urlopen(links_url)\n    \n    global summary\n    summary = ''\n    link_summary = text.read()\n    link_summary\n    \n    # Parsing the URL content \n    link_parsed = BeautifulSoup.BeautifulSoup(link_summary,'html')\n    \n    # Returning <p> tags\n    paragraphs = link_parsed.find_all('p')\n    \n    # To get the content within all poaragrphs loop through it\n    link_content = ''\n    for p in paragraphs:  \n        link_content += p.text\n    \n    # Removing Square Brackets and Extra Spaces\n    link_content = re.sub(r'\\[[0-9]*\\]', ' ', link_content)\n    link_content = re.sub(r'\\s+', ' ', link_content)\n    \n    # Removing special characters and digits\n    formatted_article_text = re.sub('[^a-zA-Z]', ' ', link_content )\n    formatted_article_text = re.sub(r'\\s+', ' ', formatted_article_text)\n    \n    text = formatted_article_text\n    #text_temp = text.read()\n\n    preprocess_text = text.strip().replace(\"\\n\",\"\")\n    t5_prepared_Text = \"summarize: \"+preprocess_text\n    #print (\"original text preprocessed: \\n\", preprocess_text)\n\n    tokenized_text = tokenizer.encode(t5_prepared_Text, return_tensors=\"pt\").to(device)\n\n\n    # summmarize \n    summary_ids = model.generate(tokenized_text,\n                                    num_beams=4,\n                                    no_repeat_ngram_size=2,\n                                    min_length=100,\n                                    max_length=600,\n                                    early_stopping=True)\n\n    output = tokenizer.decode(summary_ids[0], skip_special_tokens=True)\n\n    #print (\"\\n\\nSummarized text: \\n\",output)\n    return output","c1502ba5":"summarization_links_t5(transcript_df,0)","b31e8048":"print()\ni=0\nd =transcript_df\nn = int(d[\"url\"].count()) - 2465\nprint(\"Here you can find the summary of \"+ str(n) + \" TED Talks. It would take hours to run everything and I'm coding at a very late hour.\")\nfor i in range(n):\n    print(\"----------------------------------------------------------------------------------------------------------------------\")\n    print(str(i)+\") \"+ summarization_links_t5(d,i) +\".\")\n    print(\"Talk: \"+ d[\"url\"][i])\n    print(\" \")\n    \n    i=i+1","60f112a5":"TED_Talks_AI.head()","499b686a":"transcript_df.head()","002e87a0":"TED_Talks_AI.rename({'Title_URL': 'url'}, axis=1, inplace=True)","a8249381":"TED_Talks_AI['url'][1]","892fc4ba":"TED_Talks_AI['transcript'] = \"\"\n\nTED_Talks_AI['transcript'][1] = TED_Talks_AI['url'][1] + \"\/transcript\/\"","235beefb":"TED_Talks_AI['transcript'][1]","99134aa6":"i=0\n\nn = int(TED_Talks_AI['url'].count())\nfor i in range(n):\n\n    TED_Talks_AI['url'][i] = TED_Talks_AI['url'][i] + \"\/transcript\/\"\n    print(TED_Talks_AI['url'][i])\n    \n    i=i+1","dde55a43":"summarization_links_t5(TED_Talks_AI,0)","bb5abfca":"It seems that we have data available for 2467 talks. Let us perform a join of the two dataframes on the url feature to include word counts for every talk.","1219344d":"Let us now visualize the number of TED talks through the years and check if our hunch that they have grown significantly is indeed true.","dc75787e":"## Analysing TED Talks by the month and the year\n\nTED (especially TEDx) Talks tend to occur all throughout the year. Is there a hot month as far as TED is concerned? In other words, how are the talks distributed throughout the months since its inception? Let us find out.","b99cf962":"## Related Videos\n\nIn this last section, we will have a look at how every TED Talk is related to every other TED Talk by constructing a graph with all the talks as nodes and edges defined between two talks if one talk is on the list of recommended watches of the other. Considering the fact that TED Talks are extremely diverse, it would be interesting to see how dense or sparse our graph will be.","d675f84c":"# Summarizing the TED Trascripts","89d37248":"### Most Beautiful Talks of all time","b93d8ccc":"## The TED Word Cloud\n\nI was curious about which words are most often used by TED Speakers. Could we create a Word Cloud out of all TED Speeches? Luckily, Python has a very useful word cloud generating library that allows us to do just that. ","f36dc02b":"### Most Jaw Dropping Talks of all time","4300b5fb":"The word **One** is the most popular word across the corpus of all TED Transcripts which I think encapsulates the idea of TED pretty well.  **Now**, **Think**, **See**, **People**, **Laughter** and **Know** are among the most popular words used in TED Speeches. TED speeched seem to place a lot of emphasis on knowledge, insight, the present and of course, the people.\n\nI shall end my analysis here. Of course, a lot more can be done using the data we have right now. I will leave this up to the community to come up with more interesting analysis and insights than what I was capable of producing. ","6265d943":"Almost every talk has just one speaker. There are close to 50 talks where two people shared the stage. The maximum number of speakers to share a single stage was 5. I suspect this was a dance performance. Let's have a look.","a423e3b5":"The shortest talk was at TED2007 titled **The ancestor of language** by Murray Gell-Mann. The longest talk on TED.com, as we had guessed, is not a TED Talk at all. Rather, it was a talk titled **Parrots, the universe and everything** delivered by Douglas Adams at the University of California in 2001.\n\nLet us now check for any correlation between the popularity and the duration of a TED Talk. To make sure we only include TED Talks, we will consider only those talks which have a duration less than 25 minutes.","5f3ff8bf":"My hunch was correct. It is a talk titled **A dance to honor Mother Earth** by Jon Boogz and Lil Buck at the TED 2017 Conference.","b64bfca4":"### Obervations\n\n* As expected, the number of TED Talks have gradually increased over the years since its inception in 1984. \n* There was a **sharp increase** in the number if talks in **2009**. It might be interesting to know the reasons behind 2009 being the tipping point where the number of talks increased more than twofold.\n* The number of talks have been pretty much constant since 2009. \n\nFinally, to put it all together, let us construct a heat map that shows us the number of talks by month and year. This will give us a good summary of the distribution of talks.","7b48187f":"working with NaNs","b20df4ee":"The average TED Speaker enunciates **142 words per minute**. The fastest talker spoke a staggering **247 words a minute** which is much higher than the average of 125-150 words per minute in English. Let us see who this is!\n","a47486d9":"### Observations\n\n* Ken Robinson's talk on **Do Schools Kill Creativity?** is the most popular TED Talk of all time with 47.2 million views.\n* Also coincidentally, it is also one of the first talks to ever be uploaded on the TED Site (the main dataset is sorted by published date). \n* Robinson's talk is closely followed by Amy Cuddy's talk on **Your Body Language May Shape Who You Are**. \n* There are only 2 talks that have surpassed the 40 million mark and 4 talks that have crossed the 30 million mark. \n\nLet us make a bar chart to visualise these 15 talks in terms of the number of views they garnered.","17666b0f":"# Applying the t5 Summarization to the TED transcriptions\n","1e2f3932":"TED defines a staggering **416 different categories** for its talks. Let us now check the most popular themes.","9be8432d":"## Most Viewed Talks of All Time\n\nFor starters, let us perform some easy analysis. I want to know what the 15 most viewed TED talks of all time are. The number of views gives us a good idea of the popularity of the TED Talk.","1bd6ff92":"The distribution of days is almost a bell curve with **Wednesday and Thursday** being the most popular days and **Sunday** being the least popular. This is pretty interesting because I was of the opinion that most TED Conferences would happen sometime in the weekend.","7267ab2b":"The person is **Mae Jemison** with a talk on **Teach arts and sciences together** at the TED2002 conference. We should take this result with a pinch of salt because I went ahead and had a look at the talk and she didn't really seem to speak that fast.\n\nFinally, in this section, I'd like to see if there is any correlation between words per minute and popularity. ","463da924":"As far as TEDx talks are concerned, **November** is the most popular month. However, we cannot take this result at face value as very few of the TEDx talks are actually uploaded to the TED website and therefore, it is entirely possible that the sample in our dataset is not at all representative of all TEDx talks. A slightly more accurate statement would be that **the most popular TEDx talks take place the most in October and November.**\n\nThe next question I'm interested in is the most popular days for conducting TED and TEDx conferences. The tools applied are very sensible to the procedure applied for months.","d4c34f3d":"Before we go any further, let us convert the Unix timestamps into a human readable format. ","118c92f5":"**February** is clearly the most popular month for TED Conferences whereas **August** and **January** are the least popular. February's popularity is largely due to the fact that the official TED Conferences are held in February. Let us check the distribution for TEDx talks only.","3b05e257":"On average, a TED Talk is available in 27 different languages. The maximum number of languages a TED Talk is available in is a staggering 72. Let us check which talk this is.","5c67eaca":"We can see that the average TED Talk has around **1971 words** and there is a significantly large standard deviation of a **1009 words**. The longest talk is more than **9044 words** in length.\n\nLike duration, there shouldn't be any correlation between number of words and views. We will proceed to look at a more interesting statstic: **the number of words per minute.**","d519a53f":"The main dataset contains metadata about every TED Talk hosted on the TED.com website until September 21, 2017. Let me give you a brief walkthrough of the kind of data available so as to give you an idea of what are the possibilities with this dataset.","92a60667":"As expected, the official TED events held the major share of TED Talks published on the TED.com platform. **TED2014 had the most number of talks** followed by TED2009. There isn't too much insight to be gained from this. ","f8ff97fd":"We also have another dataset which contains the transcript of every talk but we will get to that later. For now, let us begin with the analysis of TED Talks!","271af643":"## TED Themes\n\nIn this section, we will try to find out the most popular themes in the TED conferences. Although TED started out as a conference about technology, entertainment and design, it has since diversified into virtually every field of study and walk of life. It will be interesting to see if this conference with Silicon Valley origins has a bias towards certain topics.\n\nTo answer this question, we need to wrangle our data in a way that it is suitable for analysis. More specifically, we need to split the related_tags list into separate rows.","bcab66fe":"## Comments\n\nAlthough the TED website gives us access to all the comments posted publicly, this dataset only gives us the number of comments. We will therefore have to restrict our analysis to this feature only. You could try performing textual analysis by scraping the website for comments.","6e406f63":"This analysis has actually raised extremely interesting insights. Half of the talks in the top 10 are on the lines of **Faith and Religion**. I suspect science and religion is still a very hotly debated topic even in the 21st century. We shall come back to this hypothesis in a later section.\n\nThe most discusses talk, though, is **The Case for Same Sex Marriage** (which has religious undertones). This is not that surprising considering the amount of debate the topic caused back in 2009 (the time the talk was filmed).","f0871c26":"## TED Speakers\n\nIn this section, we will try and gain insight about all the amazing speakers who have managed to inspire millions of people through their talks on the TED Platform. The first question we shall ask in this section is who are the most popular TED Speakers. That is, which speakers have given the most number of TED Talks.","4ec15f69":"The data has been obtained by running a custom web scraper on the official TED.com website. The data is shared under the Creative Commons License (just like the TED Talks) and hosted on Kaggle. You can download it here: https:\/\/www.kaggle.com\/rounakbanik\/ted-talks","db0af95b":"**Hans Rosling**, the Swiss Health Professor is clearly the most popular TED Speaker, with more than **9 appearances** on the TED Forum. **Juan Enriquez** comes a close second with **7 appearances**. Rives and Marco Tempest have graced the TED platform **6 times**.\n\nWhich occupation should you choose if you want to become a TED Speaker? Let us have a look what kind of people TED is most interested in inviting to its events.","4d496a0f":"I will merge the two most updated datasets to have a better coverage here...","90eaacd2":"### Most Confusing Talks of all time","e434272e":"TED Talks, on average are **13.7 minutes long**. I find this statistic surprising because TED Talks are often synonymous with 18 minutes and the average is a good 3 minutes shorter than that.\n\nThe shortest TED Talk on record is **2.25 minutes** long whereas the longest talk is **87.6 minutes** long. I'm pretty sure the longest talk was not actually a TED Talk. Let us look at both the shortest and the longest talk.","9c8bac96":"## TED Events\n\nWhich TED Events tend to hold the most number of TED.com upload worthy events? We will try to answer that question in this section.","1aa7ede6":"On average, out of the top 10 most popular professions, **Psychologists** tend to garner the most views. **Writers** have the greatest range of views between the first and the third quartile.. \n\nFinally, let us check the number of talks which have had more than one speaker.","07c65318":"The proportion of technology talks has steadily increased over the years with a slight dip in 2010. This is understandable considering the boom of technologies such as blockchain, deep learning and augmented reality capturing people's imagination.\n\nTalks on culture have witnessed a dip, decreasing steadily starting 2013. The share of culture talks has been the least in 2017.  Entertainment talks also seem to have witnessed a slight decline in popularity since 2009.\n\nLike with the speaker occupations, let us investigate if certain topics tend to garner more views than certain other topics. We will be doing this analysis for the top ten categories that we discovered in an earlier cell. As with the speaker occupations, the box plot will be used to deduce this relation.","52bca5a3":"The graph is reasonably dense with every node connected to at least 3 other nodes. This shows us the real beauty of the conference. No matter how different the subjects of the talks are, the common theme of spreading ideas and inspiring people seems to be a adhesive force between them.","24f10f47":"There seems to be almost no correlation between these two quantities. This strongly suggests that **there is no tangible correlation between the length and the popularity of a TED Talk**. Content is king at TED.\n\nNext, we look at transcripts to get an idea of word count. For this, we introduce our second dataset, the one which contains all transcripts.","e9215de2":"![](https:\/\/media.giphy.com\/media\/rPMTIZOBVnlD2\/giphy.gif)","c44ce86a":"Founded in 1984 by Richard Saulman as a non profit organisation that aimed at bringing experts from the fields of Technology, Entertainment and Design together, TED Conferences have gone on to become the Mecca of ideas from virtually all walks of life. As of 2015, TED and its sister TEDx chapters have published more than 2000 talks for free consumption by the masses and its speaker list boasts of the likes of Al Gore, Jimmy Wales, Shahrukh Khan and Bill Gates.\n\nTed, which operates under the slogan 'Ideas worth spreading' has managed to achieve an incredible feat of bringing world renowned experts from various walks of life and study and giving them a platform to distill years of their work and research into talks of 18 minutes in length. What's even more incredible is that their invaluable insights is available on the Internet for free.\n\nSince the time I begin watching TED Talks in high school, they have never ceased to amaze me. I have learned an incredible amount, about fields I was completely alien to, in the form of poignant stories, breathtaking visuals and subtle humor. So in this notebook, I wanted to attempt at finding insights about the world of TED, its speakers and its viewers and try to answer a few questions that I had always had in the back of my mind.","c536bca1":"### Observations\n\n* On average, there are **191.5 comments** on every TED Talk. Assuming the comments are constructive criticism, we can conclude that the TED Online Community is highly involved in discussions revolving TED Talks.\n* There is a **huge standard deviation** associated with the comments. In fact, it is even larger than the mean suggesting that the measures may be sensitive to outliers. We shall plot this to check the nature of the distribution.\n* The minimum number of comments on a talk is **2** and the maximum is **6404**. The **range is 6402.**. The minimum number, though, may be as a result of the talk being posted extremely recently.","721ef1a9":"The Pearson coefficient is 0.38 suggesting a **medium correlation** between the aforementioned quantities. ","340fc87a":"The most translated TED Talk of all time is Matt Cutts' **Try Something New in 30 Days**. The talk does have a very universal theme of exploration. The sheer number of languages it's available in demands a little more inspection though as it has just over 8 million views, far fewer than the most popular TED Talks. \n\nFinally, let us check if there is a correlation between the number of views and the number of languages a talk is availbale in. We would think that this should be the case since the talk is more accessible to a larger number of people but as Matt Cutts' talk shows, it may not really be the case.","e367823a":"![](https:\/\/pi.tedcdn.com\/r\/pf.tedcdn.com\/images\/playlists\/20_most_popular_2683333149_1200x627.jpg?c=1050%2C550&w=1050)","f9ae8159":"Again, there is practically no correlation. If you are going to give a TED Talk, you probably shouldn't worry if you're speaking a little faster or a little slower than usual.","9c4b51e0":"## TED Ratings\n\nTED allows its users to rate a particular talk on a variety of metrics. We therefore have data on how many people found a particular talk funny, inspiring, creative and a myriad of other verbs. Let us inspect how this ratings dictionary actually looks like.","4ed57c01":"# Abstractive text summarization with pretrained T5 \u2014 Text-To-Text Transfer Transformer\n\nT5 is a new transformer model from Google that is trained in an end-to-end manner with text as input and modified text as output. You can read more about it here.\nIt achieves state-of-the-art results on multiple NLP tasks like summarization, question answering, machine translation etc using a text-to-text transformer trained on a large text corpus. More details here: [Text-to-Text Transfer Transformer](https:\/\/github.com\/google-research\/text-to-text-transfer-transformer)\nToday we will see how we can use huggingface\u2019s transformers library to summarize any given text. T5 is an abstractive summarization algorithm. It means that it will rewrite sentences when necessary than just picking up sentences directly from the original text.\n\nThe key point to note in the code above is that we prepend our text with \u201csummarize: \u201d before passing it to the T5 summarizer.\nIf you look in the paper, all we need to do for other tasks is to prepend our text with their corresponding string eg: \u201ctranslate English to German: \u201d for translation task.\n\n\n@article{2019t5,\n  author = {Colin Raffel and Noam Shazeer and Adam Roberts and Katherine Lee and Sharan Narang and Michael Matena and Yanqi Zhou and Wei Li and Peter J. Liu},\n  title = {Exploring the Limits of Transfer Learning with a Unified Text-to-Text Transformer},\n  journal = {arXiv e-prints},\n  year = {2019},\n  archivePrefix = {arXiv},\n  eprint = {1910.10683},\n}\n\n\n# Model Checkpoints\nWe have released the following checkpoints for pre-trained models described in our paper:\n\nT5-Small (60 million parameters): [gs:\/\/t5-data\/pretrained_models\/small](https:\/\/console.cloud.google.com\/storage\/browser\/t5-data\/pretrained_models\/small\/)\nT5-Base (220 million parameters): [gs:\/\/t5-data\/pretrained_models\/base](https:\/\/console.cloud.google.com\/storage\/browser\/t5-data\/pretrained_models\/base\/)\nT5-Large (770 million parameters): [gs:\/\/t5-data\/pretrained_models\/large](https:\/\/console.cloud.google.com\/storage\/browser\/t5-data\/pretrained_models\/large\/)\nT5-3B (3 billion parameters): [gs:\/\/t5-data\/pretrained_models\/3B](https:\/\/console.cloud.google.com\/storage\/browser\/t5-data\/pretrained_models\/3B\/)\nT5-11B (11 billion parameters): [gs:\/\/t5-data\/pretrained_models\/11B](https:\/\/console.cloud.google.com\/storage\/browser\/t5-data\/pretrained_models\/11B\/)\n\nSee [here](https:\/\/github.com\/google-research\/text-to-text-transfer-transformer\/blob\/master\/released_checkpoints.md) for a list of additional experimental pre-trained model checkpoints.","ef1af4f8":"### Observations\n\n* **Writers** are the most popular with more than 45 speakers identifying themselves as the aforementioned.\n* **Artists** and **Designers** come a distant second with around 35 speakers in each category.\n* This result must be taken with a pinch of salt as a considerable number of speakers identify themselves with multiple professions (for example, writer\/entrepreneur). Performing an analysis taking this into consideraion is left as an exercise to the reader.\n\nDo some professions tend to attract a larger number of viewers? Do answer this question let us visualise the relationship between the top 10 most popular professions and the views thet garnered in the form of a box plot.","0276e229":"Although culture has lost its share in the number of TED Talks over the years, they garner the highest median number of views.","b28a384c":"Finally, in this section, let us investigate the summary statistics and the distibution of the views garnered on various TED Talks.","8ba543d1":"# Transcription of TED Talks dedicated to Artificial Intelligence","a89253d8":"![](https:\/\/dragonlaw.io\/wp-content\/uploads\/2016\/11\/networking-dribbble.gif)","77cbf968":"As the scatterplot and the correlation matrix show, the pearson coefficient is **slightly more than 0.5**. This suggests a **medium to strong correlation** between the two quantities. This result was pretty expected as mentioned above. Let us now check the number of views and comments on the 10 most commented TED Talks of all time.","cec69fe2":"The average number of views on TED Talks in **1.6 million.** and the median number of views is **1.12 million**. This suggests a very high average level of popularity of TED Talks. We also notice that the majority of talks have views less than **4 million**. We will consider this as the cutoff point when costructing box plots in the later sections.","6f977b1a":"![](https:\/\/media.giphy.com\/media\/d1GpZTVp2eV7gQk8\/giphy.gif)","5ad7db3f":"## Talk Duration and Word Counts\n\nIn this section, we will perform analysis on the length of TED Talks. TED is famous for imposing a very strict time limit of 18 minutes. Although this is the suggested limit, there have been talks as short as 2 minutes and some have stretched to as long as 24 minutes. Let us get an idea of the distribution of TED Talk durations.","9b574e17":"From the plot above, we can see that the bulk of the talks have **fewer than 500 comments**. This clearly suggests that the mean obtained above has been heavily influenced by outliers. This is possible because the number of samples is **only 2550 talks**.\n\nAnother question that I am interested in is if the number of views is correlated with the number of comments. We should think that this is the case as more popular videos tend to have more comments. Let us find out.","6a1ba509":"## Features Available\n\n* **name:** The official name of the TED Talk. Includes the title and the speaker.\n* **title:** The title of the talk\n* **description:** A blurb of what the talk is about.\n* **main_speaker:** The first named speaker of the talk.\n* **speaker_occupation:** The occupation of the main speaker.\n* **num_speaker:** The number of speakers in the talk.\n* **duration:** The duration of the talk in seconds.\n* **event:** The TED\/TEDx event where the talk took place.\n* **film_date:** The Unix timestamp of the filming.\n* **published_date:** The Unix timestamp for the publication of the talk on TED.com\n* **comments:** The number of first level comments made on the talk.\n* **tags:** The themes associated with the talk.\n* **languages:** The number of languages in which the talk is available.\n* **ratings:** A stringified dictionary of the various ratings given to the talk (inspiring, fascinating, jaw dropping, etc.)\n* **related_talks:** A list of dictionaries of recommended talks to watch next.\n* **url:** The URL of the talk.\n* **views:** The number of views on the talk.\n\nI'm just going to reorder the columns in the order I've listed the features for my convenience (and OCD).","4ba6f4a9":"![](https:\/\/tedconfblog.files.wordpress.com\/2011\/05\/tedsalonmay2011-speakers.jpg)","9a23e4b0":"## The Main TED Dataset","256eeef4":"As may have been expected, **Technology** is the most popular topic for talks. The other two original factions, Design and Entertainment, also make it to the list of top 10 themes. **Science** and **Global Issues** are the second and the third most popular themes respectively.\n\nThe next question I want to answer is the trends in the share of topics of TED Talks across the world. Has the demand for Technology talks increased? Do certain years have a disproportionate share of talks related to global issues? Let's find out! \n\nWe will only be considering the top 7 themes, excluding TEDx and talks after 2009, the year when the number of TED Talks really peaked.","be12b8ad":"We have over 2550 talks at our disposal. These represent all the talks that have ever been posted on the TED Platform until September 21, 2017 and has talks filmed in the period between 1994 and 2017. It has been over two glorious decades of TED.","0932c788":"### Funniest Talks of all time","f9e3599a":"# Analyzing TED Talks","f40219b9":"## TED Languages\n\nOne remarkable aspect of TED Talks is the sheer number of languages in which it is accessible. Let us perform some very basic data visualisation and descriptive statistics about languages at TED.","9d626ad0":"As can be seen above, Richard Dawkins' talk on **Militant Atheism'** generated the greatest amount of discussion and opinions despite having significantly lesser views than Ken Robinson's talk, which is second in the list. This raises some interesting questions.\n\nWhich talks tend to attract the largest amount of discussion?\n\nTo answer this question, we will define a new feature **discussion quotient** which is simply the ratio of the number of comments to the number of views. We will then check which talks have the largest discussion quotient.","c3864db5":"In this section, I want to find out which talks were rated the funniest, the most beautiful, the most confusing and most jaw dropping of all time. The rest is left to the reader to explore. We now need to define three extra features to accomplish this task."}}