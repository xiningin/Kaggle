{"cell_type":{"33bd87b8":"code","4cf1fe25":"code","2181e75c":"code","4466f5e3":"code","2eb334f1":"code","80cd82c6":"code","365a1f42":"code","f2461bfc":"code","b1728c63":"code","eca02d76":"code","b4e41ff0":"code","7ed8e5d6":"code","b62e1f1c":"code","50be5e25":"code","8586dacd":"code","c91e21a8":"code","45635727":"markdown","4656915c":"markdown","2b545198":"markdown","7c79b8bd":"markdown","24f82b5a":"markdown","5b0352ae":"markdown","37a2d327":"markdown","43a7b105":"markdown","6cb80d47":"markdown","15d8614e":"markdown"},"source":{"33bd87b8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","4cf1fe25":"import json\nimport requests","2181e75c":"df = pd.read_csv('\/kaggle\/input\/hk-corona-virus-case\/covid-19-case-hk.csv', index_col=0)","4466f5e3":"source = requests.get('https:\/\/wars.vote4.hk\/page-data\/en\/cases\/page-data.json').content\ntotal_no_cases = len(json.loads(source.decode(\"utf-8\"))['result']['data']['allWarsCase']['edges'])\n\nall_case_list = [json.loads(source.decode(\"utf-8\"))['result']['data']['allWarsCase']['edges'][i]['node'] for i in range(0, total_no_cases)]\n\nall_case_df = pd.DataFrame(all_case_list)\nall_case_df['case_no'] = all_case_df['case_no'].astype('int')\nall_case_df['age'] = all_case_df['age'].astype('int')\n\ndf = all_case_df.sort_values(by=['confirmation_date'])","2eb334f1":"df['classification'].value_counts().plot.pie(autopct='%1.1f%%', fontsize=15, figsize=(8,8), pctdistance=0.85)","80cd82c6":"df['confirmation_date'].value_counts().sort_index().cumsum().plot(figsize=(10,5)).grid(zorder=0)","365a1f42":"cumsum_df = pd.DataFrame(columns=['confirmation_date'] + list(df['classification'].unique()))\ncumsum_df['confirmation_date'] = sorted(df['confirmation_date'].unique())","f2461bfc":"for date in sorted(df['confirmation_date'].unique()):\n    date_filter = df['confirmation_date'] == date\n    cumsum_date_filter = cumsum_df['confirmation_date'] == date\n\n    tmp_df = pd.DataFrame(df[date_filter][['confirmation_date', 'classification']]['classification'].value_counts()).T.reset_index(drop=True)\n    tmp_df['confirmation_date'] = date\n\n    for class_type in list(tmp_df.columns[:-1]):\n        cumsum_df.loc[cumsum_date_filter, class_type] = int(tmp_df[class_type].values[0])","b1728c63":"cumsum_df.fillna(method='ffill').fillna(0).cumsum().plot(figsize=(10,5))","eca02d76":"cumsum_df.fillna(method='ffill').fillna(0).plot(figsize=(10,5))","b4e41ff0":"df['status'].value_counts().plot.pie(autopct='%1.1f%%', fontsize=15, figsize=(8,8), legend=True, pctdistance=0.85)","7ed8e5d6":"df['age'].plot.hist(figsize=(10,5)).grid(zorder=0)","b62e1f1c":"df['age'].plot(kind='kde', figsize=(10,5)).grid(zorder=0)","50be5e25":"df['hospital_en'].value_counts().sort_values().plot.barh(figsize=(10,5),fontsize=15)","8586dacd":"discharge_filter = df['status'] == 'discharged'","c91e21a8":"df[discharge_filter]['age'].plot(kind='kde', figsize=(10,5), legend=True).legend([\"discharge\", \"hospitalized\"]);\ndf[~discharge_filter]['age'].plot(kind='kde', figsize=(10,5), legend=True).legend([\"discharge\", \"hospitalized\"]);","45635727":"### Discharged vs Hospitalized ","4656915c":"### Case growth overtime","2b545198":"### Case growth by classification type","7c79b8bd":"### Hospitals cases ","24f82b5a":"### Mar 13th data","5b0352ae":"# Basic overview of HK Cases","37a2d327":"### Live data from endpoint","43a7b105":"### Cases breakdown","6cb80d47":"### Patient status","15d8614e":"### Age Dsitribution"}}