{"cell_type":{"2e35ba92":"code","63dc378d":"code","c6d9296a":"code","fb89775a":"code","a76a900c":"code","711614b4":"code","7486e07b":"code","806463a6":"code","24f4999f":"code","71b23850":"code","764cfef4":"code","5ccbc627":"code","c71a38ec":"code","7da0960f":"code","2e47c764":"code","bc0ae161":"code","16ecef81":"code","cdf61be0":"code","1a92d766":"code","115dc17c":"code","1725d839":"code","e79ac33c":"code","6c2f6828":"code","384f51c7":"code","a1cf69c7":"code","6dc6b711":"code","9f1068e8":"code","825031f0":"code","07767be2":"code","dc1953d0":"code","c40de1cf":"code","aba4c9a7":"code","c6023f2c":"markdown","900656a1":"markdown","1ae26836":"markdown","ca9e8e21":"markdown","f52d6d9c":"markdown","1130323c":"markdown","974e9edd":"markdown","94e9b90c":"markdown","ac3f62a6":"markdown","b5737249":"markdown","9a6fa323":"markdown","f71bc926":"markdown","43dcd2b8":"markdown","75b09cbc":"markdown","d0d9a7a7":"markdown","44fd0462":"markdown","5939e285":"markdown","3df5372b":"markdown","b29401aa":"markdown","43892370":"markdown","f9cd4a5a":"markdown","5fe95614":"markdown","659a7868":"markdown","e8f60970":"markdown","577eee6d":"markdown","647cfcc5":"markdown"},"source":{"2e35ba92":"# Import the necessary libraries \nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt \nimport seaborn as sns \n%matplotlib inline \n# Import other libraries \nimport time, os, warnings \n# Load the data & quick overview \ndf = pd.read_csv('..\/input\/ford-gobike-2019feb-tripdata\/201902-fordgobike-tripdata.csv')\ndf.head(3)","63dc378d":"# More Viewing of the data \ndf.info()","c6d9296a":"df.describe()","fb89775a":"# Check for outliers in birth year column \nsns.boxplot(df['member_birth_year']);","a76a900c":"# Check for outliers in duration column \nsns.boxplot(df['duration_sec']);","711614b4":"# check for proportion of people born before 1920 \nborn_before_1920 = len(df[df['member_birth_year']<1920])\nbefore_1920_percent = born_before_1920\/len(df)\nprint (f'People who were born before 1920 represent {(before_1920_percent*100):.2f} %')","7486e07b":"# Check for duplications in data \ndef dup_checkremove(df): \n    df_nodup = df.drop_duplicates()\n    len_dup = len(df)-len(df_nodup)\n    if len_dup > 0 : \n        print (f'There are {len_dup} duplicate values')\n        print ('Removing duplicate values......')\n        df = df.drop_duplicates()\n    else : \n        print ('There isn\\'t any duplicate values .. you may proceed')\ndup_checkremove(df)","806463a6":"# Check for values in columns with qualitative data \nqualitative_cols = ['start_station_name', 'end_station_name', 'member_gender', 'bike_share_for_all_trip', 'user_type']\nfor col in qualitative_cols : \n    print (df[col].unique())","24f4999f":"# Checking if each station id only has one station name or more \nstart_st_ids = df['start_station_id'].unique()\nids_multinames = []\nfor i in start_st_ids : \n    station_names = df[df['start_station_id']==i]['start_station_name'].unique()\n    if len(station_names) > 1:\n        ids_multinames.append(i)\nend_st_ids = df['end_station_id'].unique()\nfor i in end_st_ids : \n    station_names = df[df['end_station_id']==i]['end_station_name'].unique()\n    if len(station_names) > 1:\n        ids_multinames.append(i)\nif len(ids_multinames) > 0 :\n    print (f'Some stations have more than one name as in the following ids {ids}')\nelse : \n    print ('All station ids have only one name .. you may proceed')","71b23850":"# Remove all missing values \ndf = df.dropna()\ndf.info()","764cfef4":"# modify datetime columns \ntime_cols = ['start_time','end_time']\nfor col in time_cols: \n    df[col] = pd.to_datetime(df[col])\ndf.info()","5ccbc627":"# create new column (day of week, day, hour)\ndf['start_day'] = df['start_time'].dt.day\ndf['start_day_of_week'] = df['start_time'].dt.day_name()\ndf['start_hour'] = df['start_time'].dt.hour\ndf['end_day'] = df['end_time'].dt.day\ndf['end_day_of_week'] = df['end_time'].dt.day_name()\ndf['end_hour'] = df['end_time'].dt.hour\ndf.info()","c71a38ec":"# Create new age column \ndf['age'] = 2019 - df['member_birth_year']\ndf.info()","7da0960f":"# Drop odd values in gender column \nids = df[df['member_gender']=='Other'].index\ndf = df.drop(index=ids)\ndf.info()","2e47c764":"# Remove outliers in Birth year column \nids = df[df['member_birth_year']<1920].index\ndf = df.drop(index=ids)\ndf.describe()","bc0ae161":"# Drop the unnecessary columns \ndf.columns ","16ecef81":"unnecessary_cols = ['start_time', 'end_time', 'start_station_id', 'start_station_name','end_station_name','start_station_latitude', 'start_station_longitude',\n                    'end_station_id', 'end_station_latitude', 'end_station_longitude','member_birth_year']\ndf = df.drop(columns=unnecessary_cols,axis=1)\ndf.info()","cdf61be0":"warnings.filterwarnings('ignore')\nnrows, ncols = 3, 4\ncols = df.columns \ncolor = sns.color_palette()[0]\nfig, ax = plt.subplots(nrows=nrows, ncols=ncols, figsize=(20,10))\nfor i in range(nrows):\n    for j in range(ncols): \n        if df[cols[i*ncols+j]].dtype=='O':\n            sns.countplot(df[cols[i*ncols+j]],color=color, ax = ax[i,j])\n        else : \n            sns.distplot(df[cols[i*ncols+j]],color=color, ax = ax[i,j],kde=True)","1a92d766":"# Get proportion of different categories to total users \nmale_prop = len(df[df['member_gender']=='Male'])\/len(df) \nsub_prop = len(df[df['user_type']=='Subscriber'])\/len(df)\nno_prop = len(df[df['bike_share_for_all_trip']=='No'])\/len(df)\nweekend_prop = (len(df[df['start_day_of_week']=='Thursday'])+len(df[df['start_day_of_week']=='Friday']))\/len(df)\nprint (f'Male trips represent percentage of {(male_prop*100):.2f} % From the total trips')\nprint (f'Subscribers trips represent percentage of {(sub_prop*100):.2f} % From the total trips')\nprint(f'users who doesn\\'t share bike represent percentage of {(no_prop*100):.2f} % From the total trips')\nprint (f'weekend days (thursday, friday) represent percentage of {(weekend_prop*100):.2f} % From the total trips')","115dc17c":"# Define Quantitative variables for plotting \nquantitative_cols = []\nfor col in df.columns : \n    if df[col].dtype != 'O':\n        quantitative_cols.append(col)\nquantitative_cols = quantitative_cols[1:]\nquantitative_cols","1725d839":"# Create Scatter plots to get relationship between quantitative variables and trip duration\nnrows, ncols = 2, 3 \ncols = quantitative_cols\nfig, ax = plt.subplots(nrows=nrows, ncols=ncols, figsize=(20,10))\nfor i in range(nrows):\n    for j in range(ncols): \n        sns.scatterplot(data=df,y=df['duration_sec'],x=df[cols[i*ncols+j]],color=color, ax = ax[i,j],alpha=0.5)","e79ac33c":"# Create Scatter plots to get relationship between quantitative variables and trip duration in relation to gender\nnrows, ncols = 2, 3 \ncols = quantitative_cols\nfig, ax = plt.subplots(nrows=nrows, ncols=ncols, figsize=(20,10))\nfor i in range(nrows):\n    for j in range(ncols): \n        sns.scatterplot(data=df,y=df['duration_sec'],x=df[cols[i*ncols+j]],color=color, ax = ax[i,j],alpha=0.5\n                       , hue='member_gender', legend='full')","6c2f6828":"# get overview in all columns to get effect of different features on number of bike trips in reference to gender\ncols = ['duration_sec','start_day','start_day_of_week','start_hour','age','bike_id']\nwarnings.filterwarnings('ignore')\nnrows, ncols = 2, 3\ncolor = sns.color_palette()[0]\nfig, ax = plt.subplots(nrows=nrows, ncols=ncols, figsize=(20,10))\nfor i in range(nrows):\n    for j in range(ncols): \n        if df[cols[i*ncols+j]].dtype=='O':\n            sns.countplot(data =df,x=df[cols[i*ncols+j]],color=color, ax = ax[i,j],hue='member_gender')\n        else : \n            sns.histplot(data=df,x=df[cols[i*ncols+j]],color=color, ax = ax[i,j],kde=True,hue='member_gender')","384f51c7":"# Group by the start day \nplt.title('Mean Trip Duration in Different Days of The Week (Sec)')\nplt.ylabel('Trip Duration (Sec)')\ndf.groupby(['start_day_of_week'])['duration_sec'].mean().plot(kind='bar');","a1cf69c7":"# Group by the end day \nplt.title('Mean Trip Duration in Different Days of The Week (Sec)')\nplt.ylabel('Trip Duration (Sec)')\ndf.groupby(['end_day_of_week'])['duration_sec'].mean().plot(kind='bar');","6dc6b711":"# Group by different days of the month\nplt.title('Mean Trip Duration in Different Days of The Month (Sec)')\nplt.ylabel('Trip Duration (Sec)')\ndf.groupby(['start_day'])['duration_sec'].mean().plot(kind='bar');","9f1068e8":"# Plot for most common hours for having bike trips in relation to gender\nfig, ax = plt.subplots(figsize=(20,10))\nax = sns.histplot(data=df, x=df['start_hour'], hue='member_gender', kde=True)\nplt.title('Most Common Hours For Having Bike Trips', fontsize=20)\nplt.ylabel('Bike Trips', fontsize=14)\nplt.xlabel('Start Hour of Trip', fontsize=14); ","825031f0":"# Plot the most common days to have bike trips in relation to gender \nfig, ax = plt.subplots(figsize=(20,10))\nax = sns.histplot(data=df, x=df['start_day'], hue='member_gender', kde=True)\nplt.title('Most Common Days of Month For Having Bike Trips', fontsize=20)\nplt.ylabel('Bike Trips', fontsize=14)\nplt.xlabel('Start Day of Trip', fontsize=14); ","07767be2":"fig, ax = plt.subplots(figsize=(20,10))\nax = sns.histplot(data=df, x=df['start_day_of_week'], hue='member_gender')\nplt.title('Most Common Days of Week For Having Bike Trips', fontsize=20)\nplt.ylabel('Bike Trips', fontsize=14)\nplt.xlabel('Start Weekday of Trip', fontsize=14); ","dc1953d0":"fig, ax = plt.subplots(figsize=(20,10))\nax = sns.histplot(data=df, x=df['age'], hue='member_gender', kde=True)\nplt.title('Most Common Age For Having Bike Trips', fontsize=20)\nplt.ylabel('Bike Trips', fontsize=14)\nplt.xlabel('Age', fontsize=14); ","c40de1cf":"fig, ax = plt.subplots(figsize=(20,10))\nax = sns.scatterplot(data=df, y=df['duration_sec'], x=df['age'], hue='member_gender', alpha=0.5)\nplt.title('Relationship Between Age & Trip Duration', fontsize=20)\nplt.ylabel('Trip Duration (Sec)', fontsize=14)\nplt.xlabel('Age', fontsize=14); ","aba4c9a7":"fig, ax = plt.subplots(figsize=(20,10))\ndf_dur = df.groupby('start_day_of_week')['duration_sec'].mean()[['Saturday', 'Sunday','Monday','Tuesday','Wednesday','Thursday','Friday']]\nax = df_dur.plot(kind='bar')\nplt.title(' Average Trip Duration in Different Days of The Week', fontsize=20)\nplt.xlabel('Weekday', fontsize=14)\nplt.ylabel('Trip Duration(Sec)', fontsize=14);","c6023f2c":"### What is the relation between age & trip duration ?? ","900656a1":"# Communicate Data Findings Project : Ford GoBike System","1ae26836":"<a id='overview'><\/a>\n## 2. DataSet General Overview ","ca9e8e21":"That brings to me a serious question, Could I have different station names for the same station id ??! .. I guess I'll try to find out","f52d6d9c":"<a id='clean'><\/a>\n## 4. Data Cleaning & Wrangling ","1130323c":"### What is the main age range & gender of target for bike trips ?? ","974e9edd":"##### Check for different trip durations in different week days ","94e9b90c":"Some Null values can be viewed in birth_year, gender columns, stations (start, end). ","ac3f62a6":"### Is there any effect of days of the week on trip durations ?? How about a check for that too ??","b5737249":"##### Removing outliers in duration column would result in biased conclusions in the exploratory analysis ","9a6fa323":"#### From the previous overview, the following is found to be done in wrangling & cleaning step : \n1. No Duplicate values were found \n2. Missing values are found in gender, birth date, start & end stations  column and all will be removed \n3. Start, end time columns need to be modified into datetime data type. \n4. New columns for day of week, day of month & hour will be created for better insight in the data \n5. New column will be created showing Age from 'Birth year' column\n6. Gender Column contains useless values 'Other', these records will also be removed. \n7. Remove outliers in data (e.g. Age column), people born before 1920  \n8. Drop unnecessary columns in analysis ","f71bc926":"#### Findings in Data from exploratory visualizations \n1. Most trips are with bikes with higher id, showing that by default people prefer more modern bikes. \n2. Most Users are subscribers as 90.6 % of total trips are for subscribers showing that people will be more likely to engage in the service on consistent basis and subscribe. \n3. Males represent around 76.2 % of the total trips giving more indication about females not prefering bikes as go to for workouts. The visualization is showing no difference between males & females activities either in usage days, hours or even trips duration.  \n4. Age range is mostly between 25 & 35 years, giving high indication that youth are more interested in  bike trips even more than kids which sounds kind of illogical finding \n5. Most trips fall in Thursday, Friday (Weekend days) with 35 % from total trips giving and indication that people use bike trips mostly for entrtainment than daily usage \n6. On Contrary to the previous point, people who use bikes in working days (Sunday, Monday) tend to use bikes for longer periods of time as they use it on regular basis not just for entrtainment. \n7. Rush hour in bike trips would be between around 8 AM till 6 PM which is very logical wheather user will go for entrtainment or regular usage. \n8. Trips duration is highest at age range from 20 to 40 as expected as they are the most users. ","43dcd2b8":"##### Finally, check will be performed to view effect of differnt features on bike trips count & duration in relation to gender","75b09cbc":"<a id='final'><\/a>\n## 6. Final Report + Explanatory Data Visualization","d0d9a7a7":"##### Get an overview of the relationship between differnt quantitative features and trip duration ","44fd0462":"## Table of contents \n<ul> \n    <li><a href='#intro'>1. Introduction<\/a><\/li> \n    <li><a href='#overview'>2. DataSet General Overview<\/a><\/li>  \n    <li><a href='#inquiry'>3. Important Inquiries For Research<\/a><\/li> \n    <li><a href='#clean'>4. Data Cleaning & Wrangling<\/a><\/li> \n    <li><a href='#explore'>5. Exploratory Data Analysis & Visualizations<\/a><\/li> \n    <li><a href='#final'>6. Final Report + Explanatory Data Visulaization<\/a><\/li> \n<\/ul>","5939e285":"Starting with the overview of the dataset to identify if any modifications need to be performed on data structure itself or further wrangling and cleanaing are needed. ","3df5372b":"#### Findings in Data Wrangling & cleaning process \n1. Missing values were found and removed as they didn't show any statistical significance \n2. Datetime columns types were modified to datetime type\n3. New columns were created from datetime columns (showing day, day of week, hour) to give more insights. Datetime columns were removed afterwards. \n4. New Column was created to show age instead of birth year and birth year column was removed. \n5. Outliers were checked in age columns and removed due to non-statistical significance. \n6. All unnecessary columns were removed to focus more on the significant data columns. ","b29401aa":"<a id='explore'><\/a>\n## 5. Exploratory Data Analysis & Viusalizations ","43892370":"My chosen DataSet is showing information that covers over 180K records of individual rides made in a bike-sharing system covering the greater San Francisco Bay area in Feb-2019. \n\nThis notebook is mainly aimed to get an overview of the dataset and answer important questions regarding bike trips (No., time, users, .....etc) which will be shown along the notebook via exploratory & explanatory data analysis & visualizations.\n\nCoding will be via python different libraries for data analysis (Pandas, Matplotlib, Seaborn) for data wrangling, cleaning and creating storytelling visualizations. ","f9cd4a5a":"### What are the most common times for having bike trips ?? Is there difference in relation to gender ?? \nThe Following Graphs are showing the most common days & hours where we have bike trips for both genders","5fe95614":"<a id='inquiry'><\/a>\n## 3. Important Inquiries For Research ","659a7868":"### Then Why Does Certain Days have higher trip rates ?? How about check for days of the week ? ","e8f60970":"#### First, we get overview in all columns to get effect of different features on number of bike trips ","577eee6d":"#### 1. What are the main factors affecting number & duration of bike trips ?? \n        1. Location                            2. Age\n        3. Gender                              4. User type\n        5. Bike Share status                   6. Time ","647cfcc5":"<a id='intro'><\/a>\n## 1. Introduction"}}