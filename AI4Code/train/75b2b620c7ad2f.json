{"cell_type":{"6478b5a7":"code","aa2ef7fb":"code","5fbecec2":"code","9e4568b9":"code","45d54d2c":"code","763ba271":"code","e425a1b4":"code","9b808e84":"code","e3d04f36":"markdown","8a91e092":"markdown","d98f2498":"markdown","228314b7":"markdown","553b427d":"markdown","933ba3f2":"markdown","23cacbc9":"markdown","fb374d70":"markdown","5fefe2ca":"markdown","7208db41":"markdown","63ba2645":"markdown","ae675a8c":"markdown","838d029c":"markdown","1a6d4924":"markdown","191c3f36":"markdown","c30f79c2":"markdown"},"source":{"6478b5a7":"import pandas as pd\nfrom collections import Counter\nimport matplotlib.pyplot as plt\nimport matplotlib.gridspec as gridspec\nimport matplotlib.font_manager as fm\nimport seaborn as sns\nimport pycountry\nimport geopandas\nimport datetime\n\nimport warnings\nwarnings.filterwarnings(action='ignore')\n\nfont = fm.FontProperties(fname='..\/input\/anton-font\/Anton-Regular.ttf')\n\ndata = pd.read_csv(\"..\/input\/netflix-shows\/netflix_titles.csv\")\nstock_price = pd.read_csv(\"..\/input\/netflix-stock-price\/NFLX  .csv\")\n\nstock_price['\ub0a0\uc9dc'] = stock_price['\ub0a0\uc9dc'].apply(lambda x: x.replace(\" \",\"\").replace(\"\ub144\",\"\/\").replace(\"\uc6d4\",\"\"))\nstock_price[\"\ub0a0\uc9dc\"] = pd.to_datetime(stock_price['\ub0a0\uc9dc'])\n\nstock_price= stock_price[['\ub0a0\uc9dc',\"\uc885\uac00\"]]\n\nstock_price.columns = ['date','price']","aa2ef7fb":"fig, ax = plt.subplots(figsize=(25,18),facecolor=\"#363336\")\nax.patch.set_facecolor('#363336')\n\nspec = gridspec.GridSpec(ncols=1, nrows=19, figure=fig)\nax1 = fig.add_subplot(spec[:9, 0],facecolor=\"#363336\")\nax2 = fig.add_subplot(spec[10:, 0],facecolor=\"#363336\")\nax1.patch.set_facecolor('#363336')\nsns.lineplot(x= stock_price['date'],y=stock_price['price'],lw=5, color='red',ax= ax1)\nax1.tick_params(axis='x', colors='#F5E9F5',labelsize=15) \nax1.tick_params(axis='y', colors='#F5E9F5',labelsize=15) \nax1.spines['bottom'].set_color('white')\nax1.spines['left'].set_color('white')\nax1.spines['right'].set_visible(False)\nax1.spines['top'].set_visible(False)\nax1.grid(True, alpha=0.4)\nax1.set_xlabel(\"\")\nax1.set_ylabel(\"\")\nax1.text(s=\"Netflix's stock price\", x= datetime.date(2004, 7, 1), y=600, font=font, fontsize=60,color = 'red')\nax1.set_xlim([datetime.date(2004, 1, 1), datetime.date(2021, 1, 1)])\n\na = dict(data['release_year'].value_counts())\na = sorted(a.items(), key = lambda x : x[0])\nax2.scatter(x= list(map(lambda x : x[0],a))[-3], y = list(map(lambda x : x[1],a))[-3], color=\"#F5E9F5\", s= 300)\nsns.lineplot(x= list(map(lambda x : x[0],a))[50:-2], y = list(map(lambda x : x[1],a))[50:-2],lw=6, color='#F5E9F5', ax=ax2)\nax2.tick_params(axis='x', colors='#F5E9F5',labelsize=15) \nax2.tick_params(axis='y', colors='#F5E9F5',labelsize=15) \nax2.spines['bottom'].set_color('white')\nax2.spines['left'].set_color('white')\nax2.spines['right'].set_visible(False)\nax2.spines['top'].set_visible(False)\nax2.grid(True, alpha=0.4)\nax2.text(s=\"Netflix's movie releasement increase\", x= 2004.5, y=1100, font=font, fontsize=60,color = '#F5E9F5')\nax2.set_xlim(2004,2021)\n\ndirect = ['right', 'left','bottom','top']\nfor di in direct:\n    ax.spines[di].set_visible(False)\nax.set_xticks([])\nax.set_yticks([])\n\nplt.show()","5fbecec2":"country = data['country']\ncountry = list(country)\ntotal = []\nfor i in range(len(country)):\n    total+=str(country[i]).split(\", \")\ncountry = Counter(total)\ncountry = sorted(country.items(), key=lambda x : x[1],reverse=True)\nname = list(map(lambda x : x[0],country))\ncount = list(map(lambda x : x[1],country))\n\ncountry_name = name[0:3] + name[4:11]\ncountry_name.reverse()\ncountry_count = count[0:3] + count[4:11]\ncountry_count.reverse()\n\ncountry_data = pd.DataFrame(name,count).reset_index()\ncountry_data.columns=['count', 'country']\ncountry_data = country_data.drop(3)\ncountry_data = country_data.reset_index(drop=True)\ncountry_data['country'] = country_data['country'].apply(lambda x : x.replace(\",\",\"\"))\n\nnot_have = {'South Korea' : 'KOR', 'West Germany' : 'DEU','Soviet Union':'SUN','East Germany':'DEU'}\nfor i in range(len(country_data['country'])):\n    if country_data.loc[i, 'country'] in not_have.keys():\n        country_data.loc[i, 'country'] = not_have[country_data.loc[i, 'country']]\n\ncountry_data['country'] = country_data['country'].apply(lambda x : pycountry.countries.search_fuzzy(x)[0].alpha_3)\ncountry_data = country_data.groupby('country').sum()\ncountry_data = country_data.reset_index()\n\nworld = geopandas.read_file(geopandas.datasets.get_path('naturalearth_lowres'))\nworld2 = world.merge(country_data,left_on ='iso_a3', right_on = 'country')\n\nworld = geopandas.read_file(geopandas.datasets.get_path('naturalearth_lowres'))\nworld2 = world.merge(country_data,left_on ='iso_a3', right_on = 'country')\n\nfig, ax = plt.subplots(figsize=(25,10),facecolor=\"#363336\")\nax.patch.set_facecolor('#363336')\nworld.plot(ax=ax, color =\"#363336\",edgecolor='black')\nworld2.plot(column='count',ax=ax, cmap='OrRd', scheme='quantiles', edgecolor='black')\nplt.text(s=\"Netflix's global popularity.\", x=-100 ,y=110, font=font,color='#F5E9F5', va=\"center\",ha=\"left\",fontsize=50)\nplt.axis('off')\nplt.show()","9e4568b9":"labels = ['United States', 'Other Countries']\nsizes = [count[0], sum(count[1:])]\nexplode = (0, 0.15)\n\nfig, ax = plt.subplots(figsize=(25,10),facecolor=\"#363336\")\nax.patch.set_facecolor('#363336')\n\nspec = gridspec.GridSpec(ncols=10, nrows=1, figure=fig)\nax1 = fig.add_subplot(spec[0, :4],facecolor=\"#363336\")\nax2 = fig.add_subplot(spec[0, 5:],facecolor=\"#363336\")\n\nax1.pie(sizes, explode=explode, shadow=True, startangle=90, colors =['red','#706B70'])\nax1.text(s=labels[0],x=-0.42,y=0.45, font=font,fontsize=34,va='center',ha='center')\nax1.text(s=f\"{round(sizes[0]\/(sizes[0]+sizes[1]) * 100,1)}%\",x=-0.42,y=0.2, font=font,fontsize=60,va='center',ha='center')\nax1.text(s=labels[1],x=0.6,y=-0.05, font=font,fontsize=30,color='#F5E9F5',va='center',ha='center')\nax1.text(s=f\"{round(sizes[1]\/(sizes[0]+sizes[1]) * 100,1)}%\",x=0.6,y=-0.3, font=font,fontsize=50,color='#F5E9F5',va='center',ha='center')\n\nax2.barh(y=country_name, width=country_count, color = 'red', alpha=0.8)\nfor i in range(10):\n    ax2.text(s=f\"{country_name[i]}\",x=-100,y=i,font=font,color='#F5E9F5', va=\"center\",ha=\"right\",fontsize=30)\n    ax2.text(s=f\"{round(country_count[i]\/sum(count)*100,1)}%\",x=country_count[i]+25,y=i,font=font,color='#F5E9F5', va=\"center\",ha=\"left\",fontsize=30)\n\nax2.axis(\"off\")\nax.axis(\"off\")\nax.text(s=\"Which country is Netflix the most popular?\", x= 0,y=1.05, font=font,color='#F5E9F5',fontsize=50)\nplt.show()","45d54d2c":"type_data = data[['type','release_year']]\nTV_show = type_data[type_data['type'] =='TV Show'].groupby('release_year')['type'].count()\nMovie = type_data[type_data['type'] =='Movie'].groupby('release_year')['type'].count()\n\nfig, ax = plt.subplots(figsize=(25,20),facecolor=\"#363336\")\nax.patch.set_facecolor('#363336')\n\nspec = gridspec.GridSpec(ncols=21, nrows=21, figure=fig)\nax1 = fig.add_subplot(spec[:10, :],facecolor=\"#363336\")\nax2 = fig.add_subplot(spec[11:, :10],facecolor=\"#363336\")\nax3 = fig.add_subplot(spec[11:, 11:],facecolor=\"#363336\")\n\n\nax1.scatter(x= list(dict(TV_show).keys())[-3],y=list(dict(TV_show).values())[-3],s=300, color='#F5E9F5')\nax1.scatter(x= list(dict(Movie).keys())[-3],y=list(dict(Movie).values())[-3],s=300, color='red')\nsns.lineplot(x= list(dict(TV_show).keys())[:-2],y=list(dict(TV_show).values())[:-2],lw=5, color='#F5E9F5',ax=ax1)\nsns.lineplot(x= list(dict(Movie).keys())[:-2],y=list(dict(Movie).values())[:-2],lw=5, color='red',ax=ax1)\nax1.text(s=\"Movie\", x=2013.5, y= 600,font=font,color='red', va=\"center\",ha=\"left\",fontsize=40)\nax1.text(s=\"TV show\", x=2015.5, y= 400,font=font,color='#F5E9F5', va=\"center\",ha=\"left\",fontsize=40)\nax1.set_xticks(list(range(2000,2022,2)))\nax1.tick_params(axis='x', colors='#F5E9F5',labelsize=15) \nax1.tick_params(axis='y', colors='#F5E9F5',labelsize=15)\nax1.spines['bottom'].set_color('white')\nax1.spines['left'].set_color('white')\nax1.set_xlabel(\"\")\nax1.set_ylabel(\"\")\nax1.set_xlim(2000,2020)\nax1.spines['right'].set_visible(False)\nax1.spines['top'].set_visible(False)\nax1.grid(True, alpha=0.4)\nax1.text(s=\"Movie vs TV Show, Trend analysis\", x= 2000.5,y=700, font=font,color='#F5E9F5',fontsize=50)\n\ntmp_duration = data[data['type'] =='Movie']['duration'].dropna()\nmoive_running_time = tmp_duration.apply(lambda x : str(x).split(\" \")[0])\nmoive_running_time = pd.to_numeric(moive_running_time)\nmovie_running_time = pd.DataFrame(moive_running_time)\ndef make_range(x):\n    return x\/\/15\n\nmoive_running_time = moive_running_time.apply(make_range)\nmoive_running_time = pd.DataFrame(moive_running_time.value_counts())\nmoive_running_time['index'] = moive_running_time.reset_index()['index']*15\n\nax2.bar(x = moive_running_time['index'], height = moive_running_time['duration'],width=13,color ='red',alpha=0.5)\nax2.spines['right'].set_visible(False)\nax2.spines['top'].set_visible(False)\nax2.spines['left'].set_visible(False)\nax2.set_xlabel(\"Moive's Running time\", font=font, color='#F5E9F5', fontsize=30)\nax2.tick_params(axis='x', colors='#F5E9F5',labelsize=20)\nax2.set_ylabel(\"\")\nax2.set_ylabel(\"\")\nax2.grid(True, alpha=0.4,axis='y')\nax2.tick_params(axis='y', colors='#F5E9F5',labelsize=15)\n\n\nTV_seasons = data[data['type'] =='TV Show']['duration'].apply(lambda x : x.split(\" \")[0])\nTV_seasons = pd.to_numeric(TV_seasons)\nTV_seasons = pd.DataFrame(TV_seasons.value_counts())\nax3.bar(x = TV_seasons.index, height = TV_seasons.duration,width=0.9,color ='red',alpha=0.5)\nax3.spines['right'].set_visible(False)\nax3.spines['top'].set_visible(False)\nax3.spines['left'].set_visible(False)\nax3.set_xlabel(\"TV Show's Seasons\", font=font, color='#F5E9F5', fontsize=30)\nax3.tick_params(axis='x', colors='#F5E9F5',labelsize=20)\nax3.set_ylabel(\"\")\nax3.set_ylabel(\"\")\nax3.grid(True, alpha=0.4,axis='y')\nax3.tick_params(axis='y', colors='#F5E9F5',labelsize=15)\n\nax.set_xticks([])\nax.set_yticks([])\n\nplt.show()","763ba271":"movie_genre = []\nTV_genre = []\nfor i in range(len(data)):\n\n    genre =  data.loc[i,'listed_in'].split(\", \")\n    if data.loc[i,'type'] == 'TV Show':\n        for j in genre:\n            TV_genre.append(j)\n    else:\n        for j in genre:\n            movie_genre.append(j)\n            \nmovie_genre = Counter(movie_genre)\nTV_genre = Counter(TV_genre)\n\nmovie_genre = pd.DataFrame(movie_genre.items())\nTV_genre = pd.DataFrame(TV_genre.items())\n\nmovie_genre.columns = ['genre','movie_count']\nTV_genre.columns = ['genre','tv_count']\n\nmovie_genre = movie_genre.sort_values(by= 'movie_count').reset_index(drop=True)\nTV_genre = TV_genre.sort_values(by= 'tv_count').reset_index(drop=True)\n\nmovie_genre['per'] = round(movie_genre['movie_count'] \/ sum(movie_genre['movie_count']) * 100,2)\nTV_genre['per'] = round(TV_genre['tv_count'] \/ sum(TV_genre['tv_count']) * 100,2)\n\nfig, ax = plt.subplots(figsize=(25,20),facecolor=\"#363336\")\nax.patch.set_facecolor('#363336')\nspec = gridspec.GridSpec(ncols=21, nrows=23, figure=fig)\nax1 = fig.add_subplot(spec[:10, :],facecolor=\"#363336\")\nax2 = fig.add_subplot(spec[12:,:],facecolor=\"#363336\")\n\nax1.barh(y=movie_genre['genre'][-5:], width = movie_genre['movie_count'][-5:], color = 'red',alpha=0.7)\nfor i in range(15,20):\n    ax1.text(s=movie_genre.loc[i,'genre'], x= movie_genre.loc[i,'movie_count'],y =i-15, va='center', ha='right',font=font, color = \"#363336\",fontsize=50)\n    ax1.text(s=f\"{movie_genre.loc[i,'per']}%\", x= movie_genre.loc[i,'movie_count']+30,y =i-15, va='center', ha='left',font=font, color = '#F5E9F5',fontsize=50)\nax1.set_yticks([])\nax1.set_xticks([])\n\nax2.barh(y=TV_genre['genre'][:5], width = TV_genre['tv_count'][-5:],color = '#F5E9F5',alpha=0.7)\nfor i in range(17,22):\n    ax2.text(s=TV_genre.loc[i,'genre'], x= TV_genre.loc[i,'tv_count'],y =i-17, va='center', ha='right',font=font, color = \"#363336\",fontsize=50)\n    ax2.text(s=f\"{TV_genre.loc[i,'per']}%\", x= TV_genre.loc[i,'tv_count']+30,y =i-17, va='center', ha='left',font=font, color = '#F5E9F5',fontsize=50)\nax2.set_yticks([])\nax2.set_xticks([])\n\nax.set_xticks([])\nax.set_yticks([])\n\ndirect = ['right', 'left','bottom','top']\nfor di in direct:\n    ax1.spines[di].set_visible(False)\n    ax2.spines[di].set_visible(False)\n    ax.spines[di].set_visible(False)\n\nplt.text(s= \"Movie's genre\", x=1, y= 10.5, font=font, fontsize=70, color = 'red')\nplt.text(s= \"TV Show's genre\", x=1, y= 4.5, font=font, fontsize=70, color = '#F5E9F5')\n\nplt.show()","e425a1b4":"each_actor = []\ncountries_actor = list(data['country'].value_counts()[:15].index)\nfor countries in countries_actor:\n    tmp = data[data['country'] == countries].copy()\n    tmp = tmp.reset_index(drop=True)\n    actors= []\n    for i in range(len(tmp)):\n        if tmp.loc[i,'cast'] =='NaN' or type(tmp.loc[i,'cast']) !=str:\n            continue\n        elif \",\" not in tmp.loc[i,'cast']:\n            actors.append(tmp.loc[i,'cast'])\n        else:\n            for j in tmp.loc[i,'cast'].split(\", \"):\n                actors.append(j)\n    print(countries, \" : \",sorted(Counter(actors).items(), key= lambda x :x[1],reverse=True)[0])\n    each_actor.append(sorted(Counter(actors).items(), key= lambda x :x[1],reverse=True)[0][0])\n    \ncountries_actor[0] = 'United States of America'","9b808e84":"fig, ax = plt.subplots(figsize=(25,15),facecolor=\"#363336\")\nax.patch.set_facecolor('#363336')\nworld.plot(ax=ax, color =\"#363336\",edgecolor='black')\nworld2.plot(column='count',ax=ax, cmap='OrRd', scheme='quantiles', edgecolor='black')\nplt.text(s=\"The actor who appeared the most\", x=-200 ,y=110, font=font,color='#F5E9F5', va=\"center\",ha=\"left\",fontsize=30)\nplt.text(s=\"Netflix\", x=135 ,y=110, font=font,color='red', va=\"center\",ha=\"left\",fontsize=80)\n\nplt.axis('off')\n\nfor i in range(15):\n    x,y = str(world[world['name'] == countries_actor[i]]['geometry'].centroid).split('(')[1].split(')')[0].split(' ')\n    x,y = float(x),float(y)\n    if i == 3:\n        y+=5\n    if i == 4:\n        y-=5\n    if i == 7:\n        y+=5\n    plt.text(s=f\"{each_actor[i]}\", x=x ,y=y, font=font,color='#F5E9F5', va=\"center\",ha=\"center\",fontsize=25)\n\nplt.show()","e3d04f36":"### These are actors who appeared the most each country\n### Now visulization at map!","8a91e092":"<div style=\"color:red;\n           display:fill;\n           border-radius:5px;\n           background-color:red;\n           font-size:150%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n<h1 style=\"text-align: center;\n           padding: 10px;\n           color:white;\">\nMovie vs TV Show , What do you prefer?\n<\/h1>\n<\/div>","d98f2498":"### Both movies and TV shows remained on the rise, and Movie showed a big drop.\n### Due to the Covid - 19, movie has not been released, so it seems to have shown a big decline.\n### However, this may be a temporary phenomenon, so it remains to be seen whether Movie's trend will go downward.","228314b7":"### Do you have favorite genre ?\n### Compare the Movie's genre, and TV Show's genre.Their's 1st, 2nd, 3rd are same that International, Dramas, Comedies ","553b427d":"<div style=\"color:red;\n           display:fill;\n           border-radius:5px;\n           background-color:red;\n           font-size:150%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n<h1 style=\"text-align: center;\n           padding: 10px;\n           color:white;\">\nNetflix's worldwide popularity.\n<\/h1>\n<\/div>","933ba3f2":"# Intro! \n\n### Hello kaggler. Are you enjoying Netflix usually?\n### I enjoy Netflix too. I recently watched D.P. that famous korea Netflix series.\n### It's so interesting :) If you know interesting movie in Netflix, share it plz!\n\n<br><br>\n\n### This time, I prepared the Netflix data EDA with Netflix style. \n### I expect that you will like this style.\n### It's my first Dark thema too. \n### Then, Start now","23cacbc9":"### First, I want to analysis Netflix's growth. \n### Netflix is growing explosively.\n### Look at these chart.","fb374d70":"### Netflix is enjoyed in most countries, without some of Africa.\n### Especially, America and Ease Asia, Australia, India stand out.\n### Now let's check the market share in more detail.","5fefe2ca":"### I'm sorry I couldn't visualize more actors.\n### Thanks to watch my work. \n### I hope you like my visualization. ","7208db41":"### You can feel which country uses Netflix by looking at the next map.","63ba2645":"<div style=\"color:red;\n           display:fill;\n           border-radius:5px;\n           background-color:red;\n           font-size:150%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n<h1 style=\"text-align: center;\n           padding: 10px;\n           color:white;\">\nWho was the actor that appeared the most?\n<\/h1>\n<\/div>","ae675a8c":"<div style=\"color:red;\n           display:fill;\n           border-radius:5px;\n           background-color:red;\n           font-size:150%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n<h1 style=\"text-align: center;\n           padding: 10px;\n           color:white;\">\nNetflix's growth\n<\/h1>\n<\/div>","838d029c":"### As expected, the United States ranked first in market share.\n\n### Surprisingly, it has more than a third of the market share.\n\n### India and United Kingdom also showed high market share.","1a6d4924":"<div style=\"color:red;\n           display:fill;\n           border-radius:5px;\n           background-color:red;\n           font-size:150%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n<h1 style=\"text-align: center;\n           padding: 10px;\n           color:white;\">\nNetflix data analysis by Netflix Style !\n<\/h1>\n<\/div>\n\n![](https:\/\/dl.img-news.com\/dl\/img\/s3\/dl\/2020\/09\/netflix-logo.png)","191c3f36":"### I prepared two chart to show Netflix's growth\n### First is Netflix's stock price.\n### Surely, Stock price doesn't explain that It's growth all.\n<br>\n\n### Then how about second chart.\n### This is Netflix's movie releasement increase.\n### I think, It mean that Netflix made an aggressive investment.\n### Although, at 2020 discreased, because of Covid-19\n### But, I think it will be increase again after Covid-19 and start of the release of the movie.\n### Attention that, both stock price, and movie releasement increase have exploded since 2014.","c30f79c2":"![](https:\/\/newsimg.sedaily.com\/2021\/08\/27\/22QCO10SQF_2.jpg)"}}