{"cell_type":{"1df80a52":"code","69db589c":"code","1e2ca4b7":"code","7731d22f":"code","8c032cf3":"code","85e6e100":"code","dda70763":"code","f3cbb296":"code","d311ea4c":"markdown","a3e4894f":"markdown","035834e5":"markdown","f911a708":"markdown"},"source":{"1df80a52":"# Este comando puede fallar en Kaggle, si eso pasa, no te preocupes, puedes continuar la ejecuci\u00f3ne\n!pip install --upgrade --quiet mananeras\n!pip install --upgrade --quiet Unidecode","69db589c":"from unidecode import unidecode\nimport mananeras\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","1e2ca4b7":"conferencias = mananeras.lee_todas(\"\/kaggle\/input\/mananeras\")","7731d22f":"dialogos_speakers = []\nfor conferencia in conferencias:\n    for participaci\u00f3n in conferencia.participaciones:\n        participante = unidecode(participaci\u00f3n.hablante).lower()\n        label = None\n        if \"andres manuel\" in participante:\n            label = \"amlo\"\n        elif \"lopez-gatell\" in participante:\n            label = \"lopez-gatell\"\n        \n        if label:\n            dialogos_speakers.extend(\n                [(label, dialogo, len(dialogo)) for dialogo in participaci\u00f3n.dialogos]\n            )","8c032cf3":"dialogos_df = pd.DataFrame(dialogos_speakers, columns=[\"speaker\", \"dialog\", \"length\"])","85e6e100":"fig = plt.figure(figsize=(15,7))\nax = fig.gca()\nsns.distplot(dialogos_df[\"length\"])","dda70763":"# selected_dialogs = dialogos_df[(20 < dialogos_df[\"length\"]) & (dialogos_df[\"length\"] < 300)]","f3cbb296":"dialogos_df.to_csv(\"dialogos.csv\")","d311ea4c":"# Las Ma\u00f1aneras. \n\nEste es un dataset que cree con la intenci\u00f3n de hacer *\"data accesible\"* las conferencias del presidente de M\u00e9xico, usualmente disponibles en la p\u00e1gina oficial del gobierno.\n\nPara hacer esto cree un script en Python que todos los d\u00edas a las 7:20 de la tarde hora de Londres extrae la informaci\u00f3n de la p\u00e1gina del gobierno y crea una nueva versi\u00f3n del dataset aqu\u00ed en Kaggle.\n\nEl formato que eleg\u00ed para almacenar las conferencias es el siguiente:\n\n```text\nT\u00edtulo\nAutor\nFecha\n---\nPARTICIPANTE 1\nDialogo 1\nDialogo 2\n---\nPARTICIPANTE 2\nDialogo 3\n---\nPARTICIPANTE N\nDialogo 4\nDialogo 5\n```\n\nA veces encontrar\u00e1s alguna \"conferencia\" que no tiene di\u00e1logos, esto es porque a\u00fan no logro parsear esas entradas, puedes contribuir [en este repositorio](https:\/\/gitlab.com\/thatcsharpguy\/datasets\/mananeras). A\u00fan as\u00ed, el resto de las entradas deben estar accesibles.","a3e4894f":"## Trabajando con las conferencias. \n\nCree adem\u00e1s una biblioteca que te ayudar\u00e1 a leer los archivos sin necesidad de que tengas que interpretar el formato descrito anteriormente. El paquete se llama `mananeras` y est\u00e1 [disponible en PyPI](https:\/\/pypi.org\/project\/mananeras\/):","035834e5":"I just want dialogs uttered by *Andr\u00e9s Manuel L\u00f3pez Obrador* or *Hugo L\u00f3pez-Gatell*:","f911a708":"Importa el m\u00f3dulo `mananeras`:"}}