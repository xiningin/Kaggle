{"cell_type":{"78fc3d40":"code","9d2da95d":"code","0eb0e314":"code","4dc92ede":"code","1c4b7dbc":"code","a67b7135":"code","ad541aa9":"code","e4bebdda":"code","450b0b53":"code","6a338561":"code","64ee8cc2":"code","01d1a8de":"code","52500816":"code","c444ff37":"code","ffaf9430":"code","46a42474":"code","30148f62":"code","6532481d":"code","76842c79":"code","9b63eb6f":"code","5c216a71":"code","7ebc7760":"code","acc87e0d":"code","fe9d2b45":"code","2aa00c39":"code","d5680a55":"code","91913ba0":"code","04714dfa":"code","61d82808":"code","f4493018":"code","3a944b74":"code","02a6c7df":"code","f8e66907":"markdown","2bba4fd3":"markdown","0bab2501":"markdown","4e16fe02":"markdown","8d9a2257":"markdown","37705d3b":"markdown","0b0ebd7c":"markdown","726f9fa6":"markdown","7bbff64e":"markdown","6aa03a27":"markdown","f872f307":"markdown","c2466122":"markdown","c716b0f3":"markdown","a526075a":"markdown","84e67c1a":"markdown","8e128724":"markdown"},"source":{"78fc3d40":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nprint(os.listdir(\"..\/input\"))\nimport warnings\nwarnings.filterwarnings(\"ignore\")","9d2da95d":"data = pd.read_csv(\"..\/input\/2017.csv\")","0eb0e314":"data.columns","4dc92ede":"data.head()","1c4b7dbc":"data.tail()","a67b7135":"data.info()","ad541aa9":"data.describe()","e4bebdda":"pd.melt(frame=data,id_vars=[\"Country\"],value_vars=[\"Happiness.Score\"])","450b0b53":"f,ax = plt.subplots(figsize=(8,8))\nsns.heatmap(data.corr().iloc[1:,1:],annot=True,linewidths=.5,fmt=\".2f\",ax=ax)\nplt.show()","6a338561":"plt.figure(figsize=(28,7))\n\nsns.pointplot(data[\"Happiness.Rank\"],data[\"Whisker.high\"]\/max(data[\"Whisker.high\"]),alpha=0.4,color=\"purple\")\nsns.pointplot(data[\"Happiness.Rank\"],data[\"Whisker.low\"]\/max(data[\"Whisker.low\"]),color=\"green\",alpha=0.4)\n\nplt.grid()","64ee8cc2":"plt.figure(figsize=(9,4))\nsns.boxplot(data[\"Economy..GDP.per.Capita.\"])\nplt.show()","01d1a8de":"economyQ3 = data[\"Economy..GDP.per.Capita.\"].quantile(0.75)\neconomyQ1 = data[\"Economy..GDP.per.Capita.\"].quantile(0.25)\neconomyQ2 = data[\"Economy..GDP.per.Capita.\"].quantile(0.50)\n\nEconomyQuality = []\n\nfor i in data[\"Economy..GDP.per.Capita.\"]:\n    if i >= economyQ3 :\n        EconomyQuality.append(\"VeryHigh\")\n    elif i < economyQ3 and i >= economyQ2:\n        EconomyQuality.append(\"High\")\n    elif i < economyQ2 and i >= economyQ1 :\n        EconomyQuality.append(\"Normal\")\n    else:\n        EconomyQuality.append(\"Low\")\n        \ndata[\"EconomyQuality\"] = EconomyQuality\ndata.head()","52500816":"happyQ3 = data[\"Happiness.Score\"].quantile(0.75)\nhappyQ1 = data[\"Happiness.Score\"].quantile(0.25)\nhappyQ2 = data[\"Happiness.Score\"].quantile(0.50)\n\nhappyQuality = []\n\nfor i in data[\"Happiness.Score\"]:\n    if i >= happyQ3 :\n        happyQuality.append(\"VeryHigh\")\n    elif i < happyQ3 and i >= happyQ2:\n        happyQuality.append(\"High\")\n    elif i < happyQ2 and i >= happyQ1 :\n        happyQuality.append(\"Normal\")\n    else:\n        happyQuality.append(\"Low\")\n        \ndata[\"HappyQuality\"] = happyQuality\ndata.head()","c444ff37":"plt.figure(figsize=(7,7))\nsns.barplot(data.EconomyQuality.unique(),data.EconomyQuality.value_counts(),palette = sns.cubehelix_palette(len(data.EconomyQuality.unique())))\nplt.show()","ffaf9430":"plt.figure(figsize=(7,7))\nsns.barplot(data.HappyQuality.unique(),data.HappyQuality.value_counts(),palette = sns.cubehelix_palette(len(data.EconomyQuality.unique())))\n\nplt.show()","46a42474":"data.groupby(\"EconomyQuality\").mean().sort_values(by=['Happiness.Rank'])","30148f62":"data.groupby(\"HappyQuality\").mean().sort_values(by=['Happiness.Rank'])","6532481d":"pd.melt(frame=data,id_vars=[\"HappyQuality\",\"EconomyQuality\"],value_vars=[\"Country\"])","76842c79":"plt.figure(figsize=(7,7))\nsns.boxplot(data[\"HappyQuality\"],data[\"Economy..GDP.per.Capita.\"])\nplt.show()","9b63eb6f":"sns.jointplot(data[\"Happiness.Score\"],data[\"Economy..GDP.per.Capita.\"],kind=\"hex\",size=7,ratio=3)\nplt.show()","5c216a71":"dataCorr = data.loc[:,[\"Economy..GDP.per.Capita.\",\"Happiness.Score\"]]\nplt.figure(figsize=(7,7))\nsns.heatmap(dataCorr.corr(),annot=True)\nplt.show()","7ebc7760":"plt.figure(figsize=(7,7))\nplt.scatter(x=data.HappyQuality, y=data.EconomyQuality)\nplt.xlabel(\"Happy\")\nplt.ylabel(\"Economy\")\nplt.show()","acc87e0d":"plt.figure(figsize=(7,7))\nsns.swarmplot(data[\"HappyQuality\"],data[\"Economy..GDP.per.Capita.\"],hue=data[\"EconomyQuality\"])\nplt.show()","fe9d2b45":"filt1 = data.EconomyQuality == \"Low\" \nfilt2 = data.EconomyQuality == \"Normal\" \nfilt3 = data.EconomyQuality == \"High\" \nfilt4 = data.EconomyQuality == \"VeryHigh\" \n\ndataX1 = data[filt1]\ndataX2 = data[filt2]\ndataX3 = data[filt3]\ndataX4 = data[filt4]\n\ncolors = [\"#9b59b6\", \"#3498db\", \"#95a5a6\", \"#2ecc71\"]\n\nexplode = [0,0,0,0]\nexplode2 = [0,0]\n\nplt.figure(figsize=(8,8))\n\nplt.subplot(221)\n\ncount = dataX1[\"HappyQuality\"].value_counts()\ncountDict = dict(count)\n\ndictKey = [i for i,j in countDict.items()]\nplt.pie(count,labels =countDict,explode=explode2 ,colors=colors,autopct=\"%1.1f%%\")\nplt.xlabel(\"Low Economy\")\nplt.ylabel(\"HappyQuality percent\")\n\nplt.subplot(222)\n\ncount = dataX2[\"HappyQuality\"].value_counts()\ncountDict = dict(count)\ndictKey = [i for i,j in countDict.items()]\n\nplt.pie(count,labels =countDict,explode=explode ,colors=colors,autopct=\"%1.1f%%\")\nplt.xlabel(\"Normal Economy\")\nplt.ylabel(\"HappyQuality percent\")\n\nplt.subplot(223)\n\ncount = dataX3[\"HappyQuality\"].value_counts()\ncountDict = dict(count)\ndictKey = [i for i,j in countDict.items()]\n\nplt.pie(count,labels =countDict,explode=explode ,colors=colors,autopct=\"%1.1f%%\")\nplt.xlabel(\"High Economy\")\nplt.ylabel(\"HappyQuality percent\")\n\nplt.subplot(224)\n\ncount = dataX4[\"HappyQuality\"].value_counts()\ncountDict = dict(count)\ndictKey = [i for i,j in countDict.items()]\n\nplt.pie(count,labels =countDict,explode=explode2 ,colors=colors,autopct=\"%1.1f%%\")\nplt.xlabel(\"VeryHigh Economy\")\nplt.ylabel(\"HappyQuality percent\")\n\nplt.show()","2aa00c39":"happinessMean = data[\"Happiness.Score\"].mean()\n\nprint(data.loc[data[\"Happiness.Score\"] > happinessMean,[\"Dystopia.Residual\"]].mean())\nprint(data.loc[data[\"Happiness.Score\"] < happinessMean,[\"Dystopia.Residual\"]].mean())\nprint(data.loc[data[\"Happiness.Score\"] > happinessMean,[\"Freedom\"]].mean())\nprint(data.loc[data[\"Happiness.Score\"] < happinessMean,[\"Freedom\"]].mean())\nprint(data.loc[data[\"Happiness.Score\"] > happinessMean,[\"Trust..Government.Corruption.\"]].mean())\nprint(data.loc[data[\"Happiness.Score\"] < happinessMean,[\"Trust..Government.Corruption.\"]].mean())\n","d5680a55":"plt.figure(figsize=(7,7))\nsns.scatterplot(data[\"Trust..Government.Corruption.\"],data[\"Dystopia.Residual\"],hue=data[\"HappyQuality\"],style=data[\"HappyQuality\"],s=75)\nplt.show()","91913ba0":"plt.figure(figsize=(7,7))\nsns.scatterplot(data[\"Dystopia.Residual\"],data[\"Economy..GDP.per.Capita.\"],hue=data[\"HappyQuality\"],style=data[\"HappyQuality\"],s=75)\nplt.show()","04714dfa":"d1 = data.groupby(\"Dystopia.Residual\").max().sort_values(by = \"Dystopia.Residual\",ascending=True).head(15)\nd2 = data.groupby(\"Dystopia.Residual\").min().sort_values(by = \"Dystopia.Residual\",ascending=False).head(15)\nsns.scatterplot(d1.HappyQuality,d1.index,hue=d1.EconomyQuality)\nplt.show()\nsns.scatterplot(d2.HappyQuality,d2.index,hue=d2.EconomyQuality)\nplt.show()\n","61d82808":"plt.figure(figsize=(7,7))\nsns.scatterplot(data[\"Freedom\"],data[\"Economy..GDP.per.Capita.\"],hue=data[\"HappyQuality\"],style=data[\"HappyQuality\"],s=75)\nplt.show()","f4493018":"plt.figure(figsize=(7,7))\nsns.scatterplot(data[\"Health..Life.Expectancy.\"],data[\"Economy..GDP.per.Capita.\"],hue=data[\"HappyQuality\"],style=data[\"HappyQuality\"],s=75)\nplt.show()","3a944b74":"plt.figure(figsize=(7,7))\nsns.scatterplot(data[\"Family\"],data[\"Health..Life.Expectancy.\"],hue=data[\"HappyQuality\"],style=data[\"HappyQuality\"],s=75)\nplt.show()","02a6c7df":"filter1 = data[\"Health..Life.Expectancy.\"] < data[\"Health..Life.Expectancy.\"].mean()\nfilter2 = data[\"Family\"] < data[\"Family\"].mean()\n\ncommon = [(i & j) for i,j in zip(filter1,filter2)]\n\ncommonData = data[common]\ncommonData[commonData[\"HappyQuality\"] == \"High\"]","f8e66907":"**No happiness if the health expectant is low\n**","2bba4fd3":"**Countries happiness scores**","0bab2501":"**Hello everybody. This is my first data analysis.\nData set World Happiness Report\n**\n","4e16fe02":"**Happiness and economic correlation**\n\n","8d9a2257":"**HappyQuality and EconomyQuality classification together\n**","37705d3b":" **Whisker.high** and **Whisker.low**  is descreased **Happy Score** falling","0b0ebd7c":"**Correlation map**\n","726f9fa6":"**There is no clear effect of Dystopia.Residual\n**","7bbff64e":"**Freedom and economic power bring happiness\n**","6aa03a27":"**Classify according to economical power\n**","f872f307":"**Even if everything is low, people will be happy as long as they are free\n**","c2466122":"**Averages of features according to happiness score\n**","c716b0f3":"**HappyQuality rates in economy classes\n**","a526075a":"**No problem as long as the economy grows\n**","84e67c1a":"**And Happy classification**","8e128724":"**Countries with bad economy are not happy\n**"}}