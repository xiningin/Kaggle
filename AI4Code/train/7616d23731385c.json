{"cell_type":{"04e68dc7":"code","39da61d4":"code","233480b9":"code","f643c4b1":"code","8706e603":"code","7848d4ed":"code","68ffa6f4":"code","b3b7fce5":"code","169ef434":"code","43d2cdf5":"markdown","5b20d51a":"markdown"},"source":{"04e68dc7":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.offline as pyo\nimport plotly.graph_objects as go\n\npyo.init_notebook_mode()\n\n\n# Set Matplotlib defaults\nplt.rc('figure', autolayout=True)\nplt.rc('axes', labelweight='bold', labelsize='medium',\n        titleweight = 'bold', titlesize=15, titlepad=10)\nplt.style.use('seaborn')\n\nos.listdir('..\/input\/cusersmarildownloadsdioxidecsv\/')","39da61d4":"df = pd.read_csv('..\/input\/cusersmarildownloadsdioxidecsv\/dioxide.csv', \n                 delimiter=';')\n\ndf.shape","233480b9":"df_T = df.T[1:]\ndf_T.columns = df.Category.values\ndf_T = df_T.reset_index().rename(columns = {'index':'Year'})\ndf_T","f643c4b1":"fig, ax = plt.subplots(figsize = (15, 7))\ndf_T.iloc[:, 0:-1].plot(ax = ax, lw = 2, \n                        ylabel = 'Millions of tonnes',\n                        x = 'Year', colormap = 'tab20b',\n                        xlabel = 'Year',\n                        title = 'CO2 emission from different transport sector')\nax.plot(df_T.Year, df_T.Total, 'k--', label = 'Total')\nplt.legend(shadow = True);","8706e603":"df_T.loc[:, ['Year', 'Cars', 'Heavy duty trucks and buses',\n             'Light commercial vehicles', \n             'Domestic aviation']]\\\n            .plot(x = 'Year', kind = 'bar',\n                  ylabel = 'Millions of tonnes',\n                  figsize = (10, 5), colormap = 'tab20b',\n                  title = 'Bar plot Top four CO2 emitting vehicles')\nplt.legend(shadow = True);","7848d4ed":"colors = ['green', 'darkslateblue', 'darkorange', 'tan', \n          'lightseagreen','pink', 'red', 'purple', 'brown']\ndf_T.T[26][1:].plot(kind = 'bar', color = colors,\n                    title = '2016 CO2 emission',\n                     figsize = (10, 5))\nplt.plot(df_T.T[26][1:], color = 'gray');","68ffa6f4":"plot = go.Figure(data=[go.Scatter( \n    x = df_T['Year'], \n    y = df_T['Cars'], \n    stackgroup='one',\n    name = 'Cars'), \n                       go.Scatter( \n    x = df_T['Year'], \n    y = df_T['Heavy duty trucks and buses'], \n    stackgroup='one',\n    name = 'Heavy duty trucks and buses'),\n                       \n                       go.Scatter( \n    x = df_T['Year'], \n    y = df_T['Light commercial vehicles'], \n    stackgroup='one',\n    name = 'Light commercial vehicles'),\n                       \n                       go.Scatter( \n    x = df_T['Year'], \n    y = df_T['Domestic aviation'], \n    stackgroup='one',\n    name = 'Domestic aviation'),\n                       \n]) \n\nplot.update_layout( \n    title = 'Stacked area plot Top four CO2 emitting vehicles',\n    yaxis_title=\"Millions of tonnes\"\n                )\n                   \nplot.show()","b3b7fce5":"df_T.iloc[:, 0:-1].plot( \n  x = 'Year',  figsize = (20, 20),\n  kind = 'barh', colormap = 'Set2',\n  stacked = True,  \n  title = 'Percentage Stacked Bar Graph CO2 emission from different transport sector',  \n  mark_right = True)\n\ndf_total = df_T.Total\ndf_rel = df_T.iloc[:, 1:-1][df_T.columns[1:-1]].div(df_total, 0) * 100\n\n\nfor n in df_rel: \n    for i, (cs, ab, pc) in enumerate(\n        zip(df_T.iloc[:, 1:-1].cumsum(1)[n], df_T[n], \n            df_rel[n])): \n        plt.text(cs - ab \/ 2, i, \n                 str(np.round(pc, 1)) + '%',  \n                 va = 'center', ha = 'center')","169ef434":"labels = df_rel.columns\nsizes = df_rel.mean()\ncolors = ['green', 'darkslateblue', 'darkorange', 'tan', \n          'lightseagreen','pink', 'red', 'purple']\n\nexplode = (0, 0, 0, 0.1, 0, 0, 0, 0)\n\nfig1, ax1 = plt.subplots(figsize = (10, 8))\nax1.pie(sizes, explode=explode, labels=labels, \n        autopct='%1.1f%%', colors = colors,\n        shadow=True, startangle=90)\nax1.axis('equal')  # Equal aspect ratio ensures that pie is drawn as a circle.\nplt.show()","43d2cdf5":"The top four CO2 emitting vehicles are Cars, Heavy duty Trucks, Light commerical \nand Domestic aviation","5b20d51a":"## Queensland(Australia) annual greenhouse gas emissions in millions of tonnes carbon dioxide equivalent from 1990\u20132016 by transport sector."}}