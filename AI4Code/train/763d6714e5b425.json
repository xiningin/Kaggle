{"cell_type":{"993462ef":"code","9514840f":"code","931d9b09":"code","0801ef95":"code","ad4d7ca0":"code","c177a38b":"code","4584b50e":"code","5c923abc":"code","25b50278":"code","e10adee0":"code","d13511bb":"code","b3e9d72b":"code","3a226f28":"code","3ce0a930":"code","7f62e451":"code","2f6fa35a":"code","07e07937":"markdown","90fea939":"markdown","2a968c12":"markdown","d3183306":"markdown","b9f1438c":"markdown","f78282e8":"markdown","ae4d1e5d":"markdown","26624d8d":"markdown","9c05f1f0":"markdown","4f249c39":"markdown","c7a49e37":"markdown","2b06b5b1":"markdown","6b5a61af":"markdown","a9108286":"markdown","6fbc9378":"markdown"},"source":{"993462ef":"import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set(style = 'whitegrid')","9514840f":"import os\nfor dirname, _, filenames in os.walk('..\/input\/statbunker-football-stats\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","931d9b09":"offense = pd.concat(map(pd.read_csv, ['..\/input\/statbunker-football-stats\/Team Offense 2017-18.csv',\n                                                 '..\/input\/statbunker-football-stats\/Team Offense 2018-19.csv'])).reset_index()","0801ef95":"defense = pd.concat(map(pd.read_csv, ['..\/input\/statbunker-football-stats\/Team Defense 2017-18.csv',\n                                                  '..\/input\/statbunker-football-stats\/Team Defense 2018-19.csv'])).reset_index()","ad4d7ca0":"tables = pd.concat(map(pd.read_csv, ['..\/input\/statbunker-football-stats\/Tables 2017-18.csv',\n                                                 '..\/input\/statbunker-football-stats\/Tables 2018-19.csv'])).reset_index()","c177a38b":"arsenal_tables = tables.loc[(tables.Team == 'Arsenal')\n                            & (tables['Table Type'] == 'League Table')].set_index('Team')\narsenal_tables.drop(['index', 'KEY', 'Table Type'], axis = 1, inplace = True)\narsenal_tables","4584b50e":"arsenal_offense = offense.loc[offense.Team == 'Arsenal'].set_index('Team')\narsenal_offense.drop(['index', 'KEY', 'GF Pld'], axis = 1, inplace = True)\narsenal_offense","5c923abc":"arsenal_defense = defense.loc[defense.Team == 'Arsenal'].set_index('Team')\narsenal_defense.drop(['index', 'KEY', 'GA Pld'], axis = 1, inplace = True)\narsenal_defense","25b50278":"arsenal_stats = pd.concat([arsenal_tables, arsenal_offense, arsenal_defense], axis = 1)\narsenal_stats = arsenal_stats.loc[:,~arsenal_stats.columns.duplicated()]","e10adee0":"pd.set_option('display.max_columns', None)\narsenal_stats","d13511bb":"g_home = sns.catplot(x = 'GF Home', y = 'GA Home', col = 'Season',\n                capsize = .2, palette = 'Reds', height = 6, aspect = .75,\n                kind = 'point', data = arsenal_stats)\ng_home.despine(left = True);","b3e9d72b":"g_away = sns.catplot(x = 'GF Away', y = 'GA Away', col = 'Season',\n                capsize = .2, palette = 'Reds', height = 6, aspect = .75,\n                kind = 'point', data = arsenal_stats)\ng_away.despine(left = True);","3a226f28":"gf_melt = pd.melt(arsenal_offense,\n           id_vars = ['League', 'GF Per Match', 'Season'],\n           var_name = 'GF Stat')","3ce0a930":"g_gf = sns.catplot(x = 'GF Stat', y = 'value', col = 'Season',\n                   data = gf_melt, kind = 'bar', palette = 'Reds')\n\ng_gf.set_xticklabels(rotation = -85);","7f62e451":"ga_melt = pd.melt(arsenal_defense,\n           id_vars = ['League', 'GA Per Match', 'Season'],\n           var_name = 'GA Stat')","2f6fa35a":"g_ga = sns.catplot(x = 'GA Stat', y = 'value', col = 'Season',\n                   data = ga_melt, kind = 'bar', palette = 'Reds')\n\ng_ga.set_xticklabels(rotation = -85);","07e07937":"H\u00e1 um n\u00famero grande de arquivos .csv no dataset usado ([\"Statbunker Football Stats\"](https:\/\/www.kaggle.com\/cclayford\/statbunker-football-stats)), alguns dos quais cont\u00eam dados sobre t\u00f3picos que n\u00e3o ser\u00e3o abordados. Selecionei os arquivos que contemplariam minha an\u00e1lise e agrupei-os primeiramente em dataframes reunindo os dados de ambas as temporadas.\n\n---\n\nThere is a lot of .csv files in the dataset I chose ([\"Statbunker Football Stats\"](https:\/\/www.kaggle.com\/cclayford\/statbunker-football-stats)), and some of them are about topics that wouldn\u2019t help me in my notes. I selected the files that would help my analysis and grouped them into dataframes combining data from both seasons.\n","90fea939":"Em rela\u00e7\u00e3o aos gols contra, nota-se que em ambas temporadas analisadas, a equipe sofreu mais gols como visitante, havendo uma acentua\u00e7\u00e3o desse comportamento ao longo do tempo. O n\u00famero de gols sofridos em casa diminuiu da temporada 2017\/18 para a temporada 2018\/19; n\u00e3o se pode dizer o mesmo, por\u00e9m, em rela\u00e7\u00e3o ao n\u00famero de gols sofridos como visitante, que aumentou na temporada 2018\/19 em rela\u00e7\u00e3o \u00e0 2017\/18, a ponto de mais de 2\/3 dos gols sofridos na \u00faltima temporada completa dos Gunners terem acontecido fora de casa.\n\nOlhando pela perspectiva de gols sofridos no 1\u00ba e no 2\u00ba tempos, houve uma invers\u00e3o: a equipe sofria mais gols na segunda etapa na temporada 2017\/18, ao passo que na temporada seguinte, passou a sofrer mais gols no 1\u00ba tempo.\n\nAlgumas observa\u00e7\u00f5es pertinentes:\n* O n\u00ba de gols sofridos pelo Arsenal nos primeiros 15 minutos das partidas foi menor na temporada 2018\/19 que na 2017\/18\n* Houve menos partidas na temporada 2018\/19 que na 2017\/18 nas quais o Arsenal sofreu gols, tanto como mandante quanto como visitante\n\n---\n\nAnalyzing the GA stats, it's clear that in both seasons, the team conceded more goals as a visitor. The home GA stats decreased from 2017\/18 to 2018\/19; the same can't be said, however, about the away GA stats, which increased in the 2018\/19 season compared to 2017\/18, to the point of more than 2\/3 of the goals conceded in the last full season of the Gunners have happened as a visitor.\n\nLooking from the perspective of goals conceded in each half, there was an inversion: Gunners have conceded more goals in the second half in the 2017\/18 season, while in the following season, they conceded more goals in the 1st half.\n\nSome optimistic notes:\n* The number of goals conceded by Arsenal in the first 15 minutes of matches was lower in 2018\/19 than in 2017\/18\n* There were fewer matches in the 2018\/19 season than in 2017\/18 in which Arsenal conceded goals, both as home team and as a visitor","2a968c12":"As primeiras an\u00e1lises gr\u00e1ficas que fiz foram acerca do desempenho do clube nos jogos em casa. Plotei o n\u00ba de gols pr\u00f3 e contra nas partidas disputadas no Emirates Stadium nas duas \u00faltimas temporadas completas.\n\n---\n\nFirst of all, I analyzed Arsenal's performance at home games by plotting the  GF and GA stats in all league matches played at the Emirates in the last two full seasons.","d3183306":"Na temporada 2017\/18, o n\u00famero de gols feitos fora de casa pela equipe foi constrangedor, beirando a marca de 1 gol a cada dois jogos. A equipe melhorou consideravelmente essa marca na temporada seguinte, passando de 20 para 31 gols marcados como visitante.\n\nO n\u00famero de gols sofridos fora de casa pelo Arsenal tamb\u00e9m teve um incremento, de 31 na temporada 2017\/18 para 35 na 2018\/19, mas v\u00ea-se que foi um acr\u00e9scimo pequeno em compara\u00e7\u00e3o ao ocorrido nos gols marcados como visitante, e isso se confirma na diminui\u00e7\u00e3o do saldo negativo de gols entre as duas temporadas nos jogos fora de casa, que passou de -11 para -4.\n\nAp\u00f3s comparar os gols feitos e sofridos pelos Gunners tendo como foco os jogos como mandante e visitante nas duas temporadas, resolvi plotar os dados a partir de outra metodologia, focando dessa vez nos diferentes contextos nos quais o Arsenal marcou e sofreu gols. Usei a fun\u00e7\u00e3o pandas.melt() pra remodelar os dataframes, de forma a obter dois dataframes contendo, respectivamente, os numeros totais de gols pr\u00f3 e contra, como tamb\u00e9m esses mesmos n\u00fameros desmembrados em algumas situa\u00e7\u00f5es de jogo.\n\n---\nIn the 2017\/18 season, the away GF numbers were embarrassing, with a 0.53 goal per game ratio. The team improved this stat considerably in the following season, going from 20 to 31 away GF.\n\nArsenal's away GA has also increased, from 31 in the 2017\/18 season to 35 in 2018\/19, but that was a small increase compared to the away GF increase, and this is confirmed by the improvement in the negative GD in away games in the two seasons, which went from -11 to -4.\n\nAfter comparing Gunners' GF and GA approaching the team's home and away games, I changed the point of view, focusing this time on the different contexts in which Arsenal scored and conceded goals. I used the pandas.melt() function to reshape the dataframes, in order to obtain two dataframes containing, respectively, the total of goals for and against, as well as those same numbers broken down in some game situations.","b9f1438c":"Comparando os n\u00fameros das duas temporadas analisadas no que diz respeito aos gols marcados pelo Arsenal, percebe-se que a diferen\u00e7a maior se d\u00e1 entre os gols marcados como mandante e visitante. Enquanto na temporada 2017\/18 a equipe marcou mais que o dobro de gols em casa do que fora de casa, a propor\u00e7\u00e3o se tornou mais equilibrada na seguinte: a diminui\u00e7\u00e3o dos gols feitos como mandante foi compensada por um aumento dos gols marcados como visitante.\n\nNo mais, \u00e9 possivel notar certos padr\u00f5es nos gols marcados pelo Arsenal: predominantemente, os Gunners fizeram gols no 2\u00ba tempo (por\u00e9m, dentre estes, menos da metade nos 10 minutos finais das partidas), e a maior parte das partidas das quais a equipe marcou, em ambas temporadas, ocorreu no Emirates.\n\n---\nComparing the GF situations of both seasons, it's clear that the biggest difference happened between the goals scored in home and away games. While in the 2017\/18 season the team scored more than twice the goals at home than when visiting, the proportion became more balanced in the following season: the decrease in goals scored at the Emirates was compensated by an increase in goals scored as a visitor.\n\nBeyond that, it's possible to notice certain similarities in the goals scored by Arsenal: predominantly, the Gunners scored goals in the 2nd half (however, of these ones, less than half were scored in the final 10 minutes of matches), and most of the matches that the team scored, in both seasons, were played at the Emirates.\n","f78282e8":"<a id=\"plotagem-an\u00e1lises\"><\/a>\n## Plotagem de dados + an\u00e1lises","ae4d1e5d":"<a id=\"setup-limpeza\"><\/a>\n## Setup + Limpeza de dados","26624d8d":"<a id=\"conclus\u00e3o\"><\/a>\n## Conclus\u00e3o","9c05f1f0":"Selecionei ent\u00e3o somente as linhas contendo informa\u00e7\u00f5es sobre o Arsenal, visto que os arquivos do dataset escolhido cont\u00eam informa\u00e7\u00f5es sobre equipes de diversas ligas europeias. Tamb\u00e9m eliminei dos dataframes algumas colunas que n\u00e3o seriam \u00fateis para a an\u00e1lise.\n\n---\n\nThen, I selected only the rows containing information about Arsenal, since the files of the dataset contain information about many teams from different European leagues. I also dropped some columns that wouldn't be useful for the analysis.","4f249c39":"A temporada 2017\/18 do Arsenal em casa foi mais abundante em gols do que a seguinte, tanto em rela\u00e7\u00e3o aos marcados quanto aos sofridos. \n\nAo compararmos o saldo de gols em casa dos Gunners em ambas as temporadas, o saldo que era de 34 gols na 2017\/18, passou para 26 na 2018\/19. \u00c9 v\u00e1lido ressaltar que nas duas temporadas, o saldo de gols do Arsenal em casa foi superior ao saldo de gols no total de jogos (23 e 22, respectivamente, como p\u00f4de ser visto no dataframe \"arsenal_stats\").\n\nDe forma an\u00e1loga, plotei tamb\u00e9m o n\u00ba de gols pr\u00f3 e contra nos jogos que a equipe disputou como visitante na Premier League, nas temporadas analisadas:\n\n---\n\nArsenal's 2017\/18 home season was more abundant in gols than its next, both in terms of GF and GA.\n\nWhen comparing the Gunners' goal difference at home games in both seasons, it dropped from 34 goals in 2017\/18 to 26 in 2018\/19. In both seasons, Arsenal's GD at home was higher than the total GD (23 and 22, respectively, as seen in the \"arsenal_stats\" dataframe).\n\nI also plotted the GF and GA stats in all away matches played in the last two full seasons:","c7a49e37":"Ao analisar as temporadas 2017\/18 e 2018\/19 do Arsenal, v\u00ea-se que a equipe apresentou resultados bem semelhantes em v\u00e1rios dados, como nos gols a favor, contra, e no saldo de gols. Tendo uma vit\u00f3ria e um empate a mais em 18\/19 do que em 17\/18, houve o ganho de uma posi\u00e7\u00e3o na tabela em rela\u00e7\u00e3o \u00e0 temporada anterior, o que n\u00e3o foi suficiente pra que a equipe se classificasse para a UCL. \n\nAinda que tenha diminu\u00eddo o n\u00ba de jogos nos quais os Gunners sofreram gols, a equipe seguiu com o mesmo percentual de gols sofridos por partida, o que demonstra que o setor defensivo persiste apresentando alguma fragilidade. Outro fato intrigante \u00e9 a diminui\u00e7\u00e3o do n\u00ba de gols sofridos e marcados em casa na temporada 2018\/19 em rela\u00e7\u00e3o \u00e0 anterior, o que demonstra uma dificuldade da equipe para equilibrar uma proposta de jogo ofensiva com certa seguran\u00e7a defensiva.\n\nTendo feito mais uma troca de t\u00e9cnico durante a atual temporada, espera que o Arsenal passe a apresentar um padr\u00e3o de jogo mais constante e encontre o equilibrio que tanto precisa pra voltar ao patamar ao qual seus torcedores est\u00e3o acostumados.\n\n---\n\nIt's clear that the team presented very similar results in several stats, such as GF, GA, and GD. The gunners managed to increase both their wins and draws by one from 2017\/18 to 2018\/19. It took them to one position higher in the last season, but wasn't sufficient to qualify them for the UCL.\n\nAlthough Arsenal conceded goals in fewer games in 2018\/19 than in 2017\/18, the GA Per Match stat remained the same, which demonstrates that the defensive sector persists showing some weaknesses. Another intriguing fact is the decrease in the GF and GA stats at the Emirates in 2018\/19 comparing to the previous season, which shows the team's difficulty in balancing an offensive game proposal with some defensive approach.\n\nAs Arsenal has changed its head coach in the current season, it's expected that the team will demonstrate better game standards and finally find the balance needed to return to the level its supporters are used to.","2b06b5b1":"Da\u00ed, uni os dataframes contendo informa\u00e7\u00f5es sobre o clube em um \u00fanico, pra que pudesse usar simultaneamente alguns dados antes contidos em dataframes distintos.\n\n---\n\nFrom that, I combined the dataframes containing the club's stats in a single one, so I could, simultaneoulsy, use data previously contained in different dataframes.","6b5a61af":"<a id=\"introdu\u00e7\u00e3o\"><\/a>\n## Introdu\u00e7\u00e3o","a9108286":"# \u00daltimas temporadas do Arsenal (17\/18 e 18\/19)\n\n* [Introdu\u00e7\u00e3o](#introdu\u00e7\u00e3o)\n* [Setup + Limpeza de dados](#setup-limpeza)\n* [Plotagem de dados + an\u00e1lises](#plotagem-an\u00e1lises)\n* [Conclus\u00e3o](#conclus\u00e3o)","6fbc9378":"Esse notebook visa fazer algumas observa\u00e7\u00f5es sobre o desempenho do Arsenal em suas \u00faltimas temporadas completas: 2017\/18 e 2018\/19. Escolhi analisar tais temporadas pois em ambas, o clube n\u00e3o s\u00f3 falhou em conseguir uma vaga na Liga dos Campe\u00f5es da UEFA, como tamb\u00e9m n\u00e3o conquistou nenhum t\u00edtulo, e tal desempenho aqu\u00e9m do esperado \u00e9 motivo de insatisfa\u00e7\u00e3o para os torcedores e tamb\u00e9m para a diretoria, que promoveu duas trocas de t\u00e9cnico desde o fim da temporada 2017\/18.\n\nEsse \u00e9 o primeiro notebook que escrevo, ent\u00e3o qualquer tipo de sugest\u00e3o que possa tornar os c\u00f3digos ou a metodologia mais eficientes \u00e9 bem vinda!\n\n-----\n\nThe purpose of this notebook is to make some notes about Arsenal's performance in its last full seasons: 2017\/18 and 2018\/19. I chose these seasons because in both of them, the Gunners not only failed to get a place in the UEFA Champions League, but also didn\u2019t win any title, and these poor performances keep disappointing the supporters and the board, resulting in two changes of the team's head coach since the end of the 2017\/18 season.\n\nThis is my first notebook, so reviews or suggestions for improvement are welcomed!"}}