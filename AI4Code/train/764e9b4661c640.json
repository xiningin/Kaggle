{"cell_type":{"ff20f968":"code","4ebc9a6a":"code","3b5ff182":"code","0989e53b":"code","0b5fd859":"code","42f8479a":"code","977435f3":"code","79e9a020":"code","fca54097":"code","b9c89588":"code","2867c340":"code","21d7ae46":"code","8025b3f4":"code","2ec12643":"code","eaede349":"code","aa868762":"code","688130fb":"code","9cae3343":"code","9795ceae":"code","e8476615":"code","3914903d":"code","38d29475":"code","59ff976e":"code","7e8645dd":"code","c1ceda5a":"code","5bda7679":"code","6706c12a":"code","db25df57":"code","10b6de50":"markdown","6fd8a229":"markdown","a6675f7f":"markdown","96a06768":"markdown","04ed5836":"markdown","dac607d8":"markdown","5239060b":"markdown","23d93745":"markdown","13b7fb65":"markdown","0783514c":"markdown","ca6582cd":"markdown","093c599b":"markdown","48db472a":"markdown","46d5ba51":"markdown","df352155":"markdown","2c62d263":"markdown","09efa8b9":"markdown","fb9df4e3":"markdown","b6c7c1ff":"markdown","0c277010":"markdown"},"source":{"ff20f968":"import pandas as pd\nimport numpy as np\nimport matplotlib as mlt\nimport matplotlib.pyplot as plt\nimport zipfile","4ebc9a6a":"\nfeat_dataset=pd.read_csv('..\/input\/retailanalysis\/Features data set.csv')\nsales_dataset=pd.read_csv('..\/input\/retailanalysis\/sales data-set.csv')\nstores_dataset=pd.read_csv('..\/input\/retailanalysis\/stores data-set.csv')","3b5ff182":"stores_dataset","0989e53b":"size_type=stores_dataset.groupby(by=['Type'])['Size'].sum()\nsize_type","0b5fd859":"size_type=stores_dataset.groupby(by=['Type'])['Size'].sum()\nfig,ax=plt.subplots(figsize=(7,4))\nax.bar(size_type.index,size_type.values,width=0.4,color=['#0000cd','#ff9100','#eaaa00','#6687d5'])\nplt.xlabel(\"Store\")\nplt.ylabel(\"Size\")\nplt.show()","42f8479a":"feat_dataset","977435f3":"feat_dataset[['Date','Fuel_Price']].plot(x='Date',subplots=True,figsize=(10,3))\nplt.xlabel(\"Date\")\nplt.ylabel(\"Price\")\nplt.title(\"Fuel Prices from 2010-2013\")\nplt.show()","79e9a020":"feat_dataset.info()","fca54097":"feat_dataset.fillna(0.0,inplace=True)","b9c89588":"sales_dataset","2867c340":"holidays=sales_dataset['IsHoliday'].value_counts()\nfig,ax=plt.subplots(figsize=(12,6))\nw,t,a=ax.pie(x=holidays.values, explode=[0,0.2], labels=holidays.index, autopct='%1.2f%%', pctdistance=0.6,)\np=['NoHoliday','Holiday']\nax.legend(w, p,\n          title=\"Status\",\n          loc=\"center left\",\n          bbox_to_anchor=(1, 0, 0.5, 1))\nplt.show()","21d7ae46":"df=pd.merge(feat_dataset,sales_dataset,on=['Store','Date','IsHoliday'])\ndf","8025b3f4":"df.max()","2ec12643":"df_week_store_sales=df.groupby(by=['Store'],as_index=False)['Weekly_Sales'].sum()\nplt.figure(figsize=(10,4))\nplt.plot(df_week_store_sales.Store,df_week_store_sales.Weekly_Sales)\nplt.show()","eaede349":"df[['Date', 'Temperature', 'Fuel_Price', 'CPI', 'Unemployment', \n    'MarkDown1', 'MarkDown2', 'MarkDown3', 'MarkDown4', 'MarkDown5']].plot(x='Date', subplots=True, figsize=(12,8))\nplt.show()","aa868762":"corr_mat_f=df.corr(method='pearson')\nimport seaborn as sb\nplt.figure(figsize=(20,10))\nsb.heatmap(corr_mat_f,cmap='RdBu_r',annot=True)\nplt.show()","688130fb":"unemp_rate=feat_dataset.groupby(by=['Store'],as_index=False)['CPI'].sum()\nplt.figure(figsize=(8,4))\nplt.plot(unemp_rate.Store,unemp_rate.CPI)\nplt.xlabel(\"Store\")\nplt.ylabel(\"CPI\")\nplt.title(\"Stores CPI\")\nplt.show()","9cae3343":"unemp_rate=feat_dataset.groupby(by=['Store'],as_index=False)['Unemployment'].sum()\nplt.figure(figsize=(8,6))\nplt.plot(unemp_rate.Store,unemp_rate.Unemployment)\nplt.title('Unemployment Rate vs Store no')\nplt.xlabel('Store no')\nplt.ylabel('Unemployment Rate')\nplt.show()","9795ceae":"df[['Date','MarkDown1','MarkDown2','MarkDown3','MarkDown4','MarkDown5']].plot(x='Date',subplots=True,figsize=(8,5))\nplt.show()","e8476615":"df=df.drop('Date',axis=1)\ndf","3914903d":"from sklearn.preprocessing import LabelEncoder\nenc=LabelEncoder()\ndf['IsHoliday']=enc.fit_transform(df['IsHoliday'])\ndf","38d29475":"X=df.iloc[:,:-1].values #Independent Variable\nY=df.iloc[:,-1].values #Dependent Variable","59ff976e":"from sklearn.model_selection import train_test_split\nx_train,x_test,y_train,y_test=train_test_split(X,Y,test_size=0.25,random_state=0)","7e8645dd":"x_train","c1ceda5a":"from sklearn.ensemble import RandomForestRegressor as RFG\nlin=RFG()\nlin.fit(x_train,y_train)\ny_pred=lin.predict(x_test)","5bda7679":"from sklearn.metrics import r2_score\nscore=r2_score(y_pred,y_test)","6706c12a":"score","db25df57":"x_pred=lin.predict(x_train)\nscore_1=r2_score(x_pred,y_train)\nscore_1","10b6de50":"Stores with their respective Sizes","6fd8a229":"### **Fuel Price**","a6675f7f":"## **Features Dataset**","96a06768":"## **Holidays**","04ed5836":"## **Importing Libraries**","dac607d8":"## **Sales Dataset**","5239060b":"## **Predictions (Weakly Sales)**","23d93745":"#### Sum of Weekly_Sales of Store no **10 - 20** are much higher than other Store","13b7fb65":"Encoding the categorical column \"IsHoliday\"","0783514c":"r2_score (Test Set)","ca6582cd":"The highest Sale was made on December 2010 ","093c599b":"### Maximum value of each feature","48db472a":"### **Markdowns**","46d5ba51":"r2_score (Train Set)","df352155":"Handling missing values in feat_dataset","2c62d263":"## **Stores Dataset**","09efa8b9":"# RandomForestRegressor","fb9df4e3":"Correlation between the features","b6c7c1ff":"## **Merging Datasets**","0c277010":"Link for ZipFile -\n<a>https:\/\/www.kaggle.com\/manjeetsingh\/retaildataset<\/a>"}}