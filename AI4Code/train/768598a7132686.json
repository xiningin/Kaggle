{"cell_type":{"45262706":"code","3d9bdf29":"code","1ae5c592":"code","afa12e7b":"code","bf958f2a":"code","bebfd073":"code","b377e7c9":"code","a15d7f63":"code","67ec8ca6":"code","e706e2c3":"code","06fa8b3e":"code","3fdccb86":"code","8e40719e":"code","95ce4fe2":"code","5ecced0a":"code","c2ce2d9b":"code","f6ff0c82":"code","cacdb138":"code","f9899578":"code","6a0973cb":"code","b5b293a7":"code","19d8659b":"code","a1d12a6d":"markdown","27d7019b":"markdown","09cf49e2":"markdown","50f64116":"markdown","4ad68852":"markdown","132c0d8d":"markdown"},"source":{"45262706":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","3d9bdf29":"datasets_dirs = [\n    '\/kaggle\/input\/uncover\/UNCOVER\/us_cdc\/us_cdc\/u-s-chronic-disease-indicators-cdi.csv',\n    '\/kaggle\/input\/uncover\/UNCOVER\/WHO\/who-situation-reports-covid-19.csv',\n    '\/kaggle\/input\/uncover\/UNCOVER\/nextstrain\/covid-19-genetic-phylogeny.csv',\n    '\/kaggle\/input\/uncover\/UNCOVER\/county_health_rankings\/county_health_rankings\/us-county-health-rankings-2020.csv',\n    '\/kaggle\/input\/uncover\/UNCOVER\/covid_19_canada_open_data_working_group\/individual-level-mortality.csv',\n    '\/kaggle\/input\/uncover\/UNCOVER\/USAFacts\/confirmed-covid-19-cases-in-us-by-state-and-county.csv',\n    '\/kaggle\/input\/uncover\/UNCOVER\/USAFacts\/confirmed-covid-19-deaths-in-us-by-state-and-county.csv'\n]\n\ndatasets = []\n\nfor datasets_dir in datasets_dirs:\n    df = pd.read_csv(datasets_dir)\n    datasets.append(df)","1ae5c592":"#Delete Cols with no values\ndel_cols = []\nfor column in datasets[0].columns:\n    pct_na = datasets[0][column].isna().sum() \/ len(datasets[0][column])\n    if pct_na == 1:\n        del_cols.append(column)\n        \ndatasets[0].drop(del_cols, axis=1, inplace=True)    ","afa12e7b":"#We are only interested in Cancer indicators\ndatasets[0] = datasets[0].loc[datasets[0].topic == 'Cancer']\ndatasets[0].drop('topic', axis=1, inplace=True)","bf958f2a":"#For now, we're only interested in overall indicators. Not Gender nor Race\/Ethnicity\ndatasets[0] = datasets[0].loc[datasets[0].stratificationcategory1 == 'Overall']\ndatasets[0].drop('stratificationcategory1', axis=1, inplace=True)","bebfd073":"#For a first exploration, let's take all the data from South Carolina only and only the essential features\nsouth_carolina_df = datasets[0].loc[datasets[0].locationdesc=='South Carolina']\ncols_of_interest = ['yearstart', 'yearend','question', 'questionid', 'datavalueunit', 'datavaluetype', 'datavalue', ]\nsouth_carolina_df = south_carolina_df[cols_of_interest]","b377e7c9":"pd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)\nprint(south_carolina_df.question.unique())","a15d7f63":"south_carolina_df[south_carolina_df['questionid']=='CAN8_1'].head()","67ec8ca6":"cancer_incidence = datasets[0][(datasets[0]['questionid']=='CAN4_1') & \n                               (datasets[0]['datavaluetype']=='Average Annual Crude Rate') & \n                               (datasets[0]['yearend']==2016)].groupby('locationabbr').datavalue.mean()","e706e2c3":"cancer_incidence_ageadj = datasets[0][(datasets[0]['questionid']=='CAN4_1') & \n                               (datasets[0]['datavaluetype']=='Average Annual Age-adjusted Rate') & \n                               (datasets[0]['yearend']==2016)].groupby('locationabbr').datavalue.mean()","06fa8b3e":"#Let's also isolate lungs cancer\nlung_cancer_incidence = datasets[0][(datasets[0]['questionid']=='CAN8_1') & \n                               (datasets[0]['datavaluetype']=='Average Annual Crude Rate') & \n                               (datasets[0]['yearend']==2016)].groupby('locationabbr').datavalue.mean()","3fdccb86":"#Let's also isolate lungs cancer\nlung_cancer_incidence_ageadj = datasets[0][(datasets[0]['questionid']=='CAN8_1') & \n                               (datasets[0]['datavaluetype']=='Average Annual Age-adjusted Rate') & \n                               (datasets[0]['yearend']==2016)].groupby('locationabbr').datavalue.mean()","8e40719e":"#Mortality Rate as of April 5 by state\nmortality_rate = ((datasets[6][datasets[6].date=='2020-04-05'].groupby('state_name').deaths.sum()) \/\n                  (datasets[5][datasets[5].date=='2020-04-05'].groupby('state_name').confirmed.sum()))","95ce4fe2":"states_pop = pd.read_csv('\/kaggle\/input\/united-states-population-by-state\/nst-est2019-01.csv', index_col=0)\nconfirmed_by_state = datasets[5][datasets[5].date=='2020-04-05'].groupby('state_name').confirmed.sum() \ntemp_df = pd.concat([confirmed_by_state.sort_index(), states_pop.sort_index()], axis=1, sort=True, ignore_index=True)\ntemp_df.columns = ['ConfirmedCases', 'TotalPopulation']\nincidence_rate = temp_df.ConfirmedCases \/ temp_df.TotalPopulation * 100","5ecced0a":"im_conclusion_1 = pd.concat([cancer_incidence.drop('US'), mortality_rate], axis=1)\nim_conclusion_1.columns = ['cancer_incidence', 'mortality_rate']\nim_conclusion_2 = pd.concat([cancer_incidence_ageadj.drop('US'), mortality_rate], axis=1)\nim_conclusion_2.columns = ['cancer_incidence_ageadj', 'mortality_rate']\nim_conclusion_3 = pd.concat([lung_cancer_incidence_ageadj.drop('US'), mortality_rate], axis=1)\nim_conclusion_3.columns = ['lung_cancer_incidence_ageadj', 'mortality_rate']\nim_conclusion_4 = pd.concat([lung_cancer_incidence.drop('US'), mortality_rate], axis=1)\nim_conclusion_4.columns = ['lung_cancer_incidence', 'mortality_rate']","c2ce2d9b":"im_conclusion_3.plot.scatter(x='lung_cancer_incidence_ageadj',y='mortality_rate')","f6ff0c82":"im_conclusion_3.corr()","cacdb138":"ii_conclusion_1 = pd.concat([cancer_incidence.drop('US'), incidence_rate], axis=1)\nii_conclusion_1.columns = ['cancer_incidence', 'incidence_rate']\nii_conclusion_2 = pd.concat([cancer_incidence_ageadj.drop('US'), incidence_rate], axis=1)\nii_conclusion_2.columns = ['cancer_incidence_ageadj', 'incidence_rate']\nii_conclusion_3 = pd.concat([lung_cancer_incidence_ageadj.drop('US'), incidence_rate], axis=1)\nii_conclusion_3.columns = ['lung_cancer_incidence_ageadj', 'incidence_rate']\nii_conclusion_4 = pd.concat([lung_cancer_incidence.drop('US'), incidence_rate], axis=1)\nii_conclusion_4.columns = ['lung_cancer_incidence', 'incidence_rate']","f9899578":"ii_conclusion_1.plot.scatter(x='cancer_incidence',y='incidence_rate')\nprint(ii_conclusion_1.corr())","6a0973cb":"ii_conclusion_2.plot.scatter(x='cancer_incidence_ageadj',y='incidence_rate')\nprint(ii_conclusion_2.corr())","b5b293a7":"ii_conclusion_3.plot.scatter(x='lung_cancer_incidence_ageadj',y='incidence_rate')\nprint(ii_conclusion_3.corr())","19d8659b":"ii_conclusion_4.plot.scatter(x='lung_cancer_incidence',y='incidence_rate')\nprint(ii_conclusion_4.corr())","a1d12a6d":"The only meaningful relation I have been able to find so far has been a 0.28 correlation between the age adjusted cancer incidence and the mortality rate in each state.\n\nI'll keep exploring the other pairs left in the next few days!","27d7019b":"# **Dataset 0: US Chronic Disease Indicators**","09cf49e2":"# **What is the incidence of infection with coronavirus among cancer patients?**","50f64116":"# CANCER INCIDENCE - COVID MORTALITY PAIRS","4ad68852":"# CANCER INCIDENCE - COVID INCIDENCE PAIRS","132c0d8d":"# **Datasets 05 - 06: Confirmed Cases and Deaths by US States**"}}