{"cell_type":{"23045b24":"code","4d1bb66b":"code","8d688ac6":"code","d514a32e":"code","400558d1":"code","cf6ba7b8":"code","9b75e287":"code","c67de66c":"code","5491295e":"code","dfdd6a8e":"code","31cc868f":"code","f7d590f6":"code","223f6095":"code","bc0c6625":"code","491928bd":"code","eb7e5c2c":"code","b591133f":"code","9e7f66bc":"code","791f118d":"code","72e1feee":"code","a019bfb3":"code","e1795ee8":"code","e120d5e3":"code","9e51123c":"code","880d14cd":"code","3186c500":"code","701f8574":"code","9296f97d":"code","66e4a4d5":"code","8093f9f2":"code","3676013b":"code","d16f4b85":"code","443d001c":"code","7ef27bc0":"code","42caa289":"code","44d7e383":"code","e73d462c":"code","723175bb":"code","25bb1e76":"code","ab620396":"code","b08b896c":"code","19da5163":"code","31aa36f0":"code","c53bf4df":"code","c2c1ed93":"code","29479658":"markdown","84d13fa8":"markdown","160f3d17":"markdown","444a7a9b":"markdown","aa428787":"markdown","feee2279":"markdown","2d70ef95":"markdown","24ea5f57":"markdown","6d2b2f86":"markdown","54f54288":"markdown","c9b67748":"markdown","518f46fa":"markdown","af8f6456":"markdown","5101a179":"markdown","d88cf4f4":"markdown","35c96796":"markdown","6f24c281":"markdown","40006838":"markdown","a52bc52e":"markdown","32b1d899":"markdown"},"source":{"23045b24":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4d1bb66b":"import pandas as pd\ndf = pd.read_csv(\"\/kaggle\/input\/us-accidents\/US_Accidents_Dec20_updated.csv\")\ndf.head()","8d688ac6":"#learn about the data\ndf.columns","d514a32e":"df.shape","400558d1":"df.info()","cf6ba7b8":"df.describe()","9b75e287":"numerics = ['int16', 'int32', 'int64', 'float16', 'float32', 'float64']\n\nnewdf = df.select_dtypes(include=numerics)\nprint(len(newdf.columns))","c67de66c":"#find about missing values\ndf.isna().sum().sort_values(ascending=False)","5491295e":"#percentage of missing values\nmissing_percentages = df.isna().sum().sort_values(ascending=False) \/ len(df) *100\nmissing_percentages","dfdd6a8e":"missing_percentages = missing_percentages[missing_percentages!=0]\nmissing_percentages","31cc868f":"missing_percentages.plot(kind = 'barh')","f7d590f6":"unique_cities = df.City.unique()\nprint(len(unique_cities), unique_cities)","223f6095":"#value_counts will count unique occurrences in column\ncities_by_accident = df.City.value_counts()\ncities_by_accident","bc0c6625":"cities_by_accident[:20]","491928bd":"df.State.value_counts()","eb7e5c2c":"cities_by_accident[:20].plot(kind = 'barh')","b591133f":"import seaborn as sns\nsns.set_style('darkgrid')","9e7f66bc":"sns.distplot(cities_by_accident)","791f118d":"high_accident_cities = cities_by_accident[cities_by_accident>=1000]\nlow_accident_cities = cities_by_accident[cities_by_accident<1000]","72e1feee":"print(len(high_accident_cities), len(low_accident_cities))","a019bfb3":"len(high_accident_cities) \/ len(unique_cities)","e1795ee8":"sns.distplot(high_accident_cities)","e120d5e3":"sns.distplot(low_accident_cities)","9e51123c":"sns.histplot(high_accident_cities, log_scale = True)","880d14cd":"sns.histplot(low_accident_cities, log_scale = True)","3186c500":"cities_by_accident[cities_by_accident==1]","701f8574":"type(df['Start_Time'][0])","9296f97d":"df.Start_Time = pd.to_datetime(df.Start_Time)\ndf.Start_Time[0]","66e4a4d5":"hours = df.Start_Time.dt.hour\nhours","8093f9f2":"#norm_hist for % \nsns.distplot(hours, bins = 24, kde= False, norm_hist=True)","3676013b":"#norm_hist for % \nday_of_week = df.Start_Time.dt.dayofweek\nsns.distplot(day_of_week, bins = 7, kde= False, norm_hist=True)","d16f4b85":"weekend_time = df.Start_Time[(df.Start_Time.dt.dayofweek==6) | (df.Start_Time.dt.dayofweek==5)]\nax = sns.distplot(weekend_time.dt.hour, bins=24, kde= False, norm_hist = True)\nax.set(xlabel = \"weekend time\", ylabel = \"probability of accidents\")","443d001c":"monday_time = df.Start_Time[df.Start_Time.dt.dayofweek==0]\nsns.distplot(monday_time.dt.hour, bins=24, kde= False, norm_hist = True)","7ef27bc0":"#EDA for month\nsns.distplot(monday_time.dt.month, bins=12, kde= False, norm_hist = True)","42caa289":"df_2019 = df[df.Start_Time.dt.year == 2019]\nsns.distplot(df_2019.Start_Time.dt.month, bins=12, kde= False, norm_hist = True)","44d7e383":"df_2018 = df[df.Start_Time.dt.year == 2018]\nsns.distplot(df_2018.Start_Time.dt.month, bins=12, kde= False, norm_hist = True)","e73d462c":"df_2017 = df[df.Start_Time.dt.year == 2017]\nsns.distplot(df_2017.Start_Time.dt.month, bins=12, kde= False, norm_hist = True)","723175bb":"df_2016 = df[df.Start_Time.dt.year == 2016]\nsns.distplot(df_2016.Start_Time.dt.month, bins=12, kde= False, norm_hist = True)","25bb1e76":"df.Start_Lat","ab620396":"df.Start_Lng","b08b896c":"sns.scatterplot(x= df.Start_Lng, y = df.Start_Lat)","19da5163":"sample_df = df.sample(int(0.1*len(df)))\nsns.scatterplot(x= sample_df.Start_Lng, y = sample_df.Start_Lat, size = 0.001)","31aa36f0":"import folium\nfrom folium.plugins import HeatMap\n","c53bf4df":"sample_df = df.sample(int(0.001* len(df)))\nlat_long_pairs = zip(list(sample_df.Start_Lat), list(sample_df.Start_Lng))","c2c1ed93":"map = folium.Map()\nHeatMap(lat_long_pairs).add_to(map)\nmap\n","29479658":"***Exploratory Data Analysis***","84d13fa8":"**DATA PREPARATION AND CLEANING**","160f3d17":"Are there more accidents in warmer or colder areas?\nwhich states has highest number of accidents?\nhow about per capita?","444a7a9b":"#### Most accident are happening around 2pm - 7pm","aa428787":"let's filter our the column that we want to analyze here \n* 1.City\n* 2.Start lat\n* 3.Start long\n* 4.Temperature\n* 5.Weather condition","feee2279":"#### The data shows that from oct to dec, the accidents seems pretty higher than any other month","2d70ef95":"**Cities with most accidents**","24ea5f57":"over 1100 cities have reported just 1 accident which might not be much of a use in exploratory data analysis.","6d2b2f86":"remove columns that we don't want to use","54f54288":"* what time of the day accidents most happen?\n* which months?\n* which day of the week?\n* what's the trend of accident, increasing, decreasing","c9b67748":"Less than 2% of the cities have more than 1000 yearly accidents","518f46fa":"The number of accidents per city decreases exponentially, we'll now make an histogram to set a log scale.","af8f6456":"### Start Time Analysis","5101a179":"It looks like the data is not particularly well recorded for 2016","d88cf4f4":"## Visualization on start latitutde and start longitude","35c96796":"**EDA**","6f24c281":"## Year wise tred from 2016","40006838":"We see an entirely different trend on monday and this could be due to any reason (traffic, offices etc)","a52bc52e":"#### In sundays the treend seems to be have high accident ratio in start of the day and after the mid half of the day","32b1d899":"let's check for monday"}}