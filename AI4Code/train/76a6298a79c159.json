{"cell_type":{"be84d593":"code","e6b14e3c":"code","31d36555":"code","05411e16":"code","44bd88fb":"code","c3ae7886":"code","34786e37":"code","1adb78d1":"code","03db4df3":"code","d8e2ef61":"code","2c599b62":"code","64063cdb":"code","76643488":"code","a71c86ed":"code","6850acac":"code","2a0273a6":"code","865046e2":"code","bbc80941":"code","e35c1677":"code","36f0dd84":"code","c86deae8":"code","1eec4f6f":"code","feb62459":"code","6cd89b14":"code","3b987adb":"code","1dbcfce5":"code","1a3deb73":"code","71d802e4":"code","dd911401":"code","fbe1213a":"code","90857070":"code","3f4b133e":"code","1f2bd632":"code","dd7b556c":"code","abff4a70":"code","87f2175e":"code","8f4db48c":"code","ac0aa562":"code","33c596f0":"code","ab5f75d2":"code","0b950259":"code","a6000e73":"code","d48c7ac5":"code","6810558f":"code","eb937911":"code","5d48c48b":"code","5d0bdb1e":"code","4c737fb1":"code","bc40b61f":"code","b105e047":"code","22e0504c":"markdown","2fa630b8":"markdown","508441b8":"markdown","ef2c46a1":"markdown","81853a41":"markdown","ac218fc6":"markdown","03796052":"markdown","4dc17222":"markdown","1a6c8f18":"markdown","b3bc4bd9":"markdown","bf33e5bc":"markdown","880136ce":"markdown","5101028b":"markdown","eb8fc744":"markdown","07ae71fb":"markdown","b2176362":"markdown","faf740cf":"markdown","d541ee75":"markdown","f73b279f":"markdown","59e4cd84":"markdown","7c23ba58":"markdown","21e876ce":"markdown","41e33de0":"markdown","9ef833e0":"markdown","8e17762e":"markdown","0e1eff40":"markdown","6a3ea2b6":"markdown","65396434":"markdown"},"source":{"be84d593":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sb\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.linear_model import LinearRegression\n\nfrom sklearn.model_selection import train_test_split\n\nfrom sklearn.metrics import classification_report\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import r2_score\n\nimport pandas_profiling\n\nsns.set_style(\"whitegrid\")\nplt.style.use(\"fivethirtyeight\")\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e6b14e3c":"#reading the dataset\nzomato_real =pd.read_csv(\"\/kaggle\/input\/zomato-bangalore-restaurants\/zomato.csv\")\nzomato_real.head() # prints the first 5 rows of a DataFrame","31d36555":"zomato_real.tail()","05411e16":"zomato_real.columns","44bd88fb":"zomato_real.shape","c3ae7886":"zomato_real.info() # Looking at the information about the dataset, datatypes of the coresponding columns and missing values","34786e37":"zomato_real.isnull().sum()","1adb78d1":"#Deleting Unnnecessary Columns\nzomato=zomato_real.drop(['url','dish_liked','phone'],axis=1) #Dropping the column \"dish_liked\", \"phone\", \"url\" and saving the new dataset as \"zomato\"","03db4df3":"zomato.head()  # looking at the dataset after transformation ","d8e2ef61":"zomato.shape","2c599b62":"zomato.profile_report()","64063cdb":"#Removing the Duplicates\nzomato.duplicated().sum()\nzomato.drop_duplicates(inplace=True)\nzomato_real.head() # looking at the dataset after transformation","76643488":"zomato.shape","a71c86ed":"#Remove the NaN values from the dataset\nzomato.isnull().sum()\nzomato.dropna(how='any',inplace=True)\nzomato.info() #.info() function is used to get a concise summary of the dataframe","6850acac":"#Reading Column Names\nzomato.columns","2a0273a6":"#Changing the column names\nzomato = zomato.rename(columns={'approx_cost(for two people)':'cost','listed_in(type)':'type',\n                                  'listed_in(city)':'city'})\nzomato.columns","865046e2":"#Some Transformations\nzomato['cost'] = zomato['cost'].astype(str) #Changing the cost to string\nzomato['cost'] = zomato['cost'].apply(lambda x: x.replace(',','.')) #Using lambda function to replace ',' from cost\nzomato['cost'] = zomato['cost'].astype(float) # Changing the cost to Float\nzomato.info() # looking at the dataset information after transformation","bbc80941":"#Reading uninque values from the Rate column\nzomato['rate'].unique()","e35c1677":"#Removing '\/5' from Rates\nzomato = zomato.loc[zomato.rate !='NEW']\nzomato = zomato.loc[zomato.rate !='-'].reset_index(drop=True)\nremove_slash = lambda x: x.replace('\/5', '') if type(x) == np.str else x\nzomato.rate = zomato.rate.apply(remove_slash).str.strip().astype('float')\nzomato['rate'].head() # looking at the dataset after transformation","36f0dd84":"# Adjust the column names\nzomato.name = zomato.name.apply(lambda x:x.title())\nzomato.online_order.replace(('Yes','No'),(True, False),inplace=True)\nzomato.book_table.replace(('Yes','No'),(True, False),inplace=True)\nzomato_real.head()","c86deae8":"zomato.cost.unique() # cheking the unique costs","1eec4f6f":"#Encode the input Variables\ndef Encode(zomato):\n    for column in zomato.columns[~zomato.columns.isin(['rate', 'cost', 'votes'])]:\n        zomato[column] = zomato[column].factorize()[0]\n    return zomato\n\nzomato_en = Encode(zomato.copy())\nzomato_en.head() # looking at the dataset after transformation","feb62459":"#Get Correlation between different variables\ncorr = zomato_en.corr(method='kendall')\nplt.figure(figsize=(15,8))\nsns.heatmap(corr, annot=True)\nzomato_en.columns","6cd89b14":"#Defining the independent variables and dependent variables\nx = zomato_en.iloc[:,[2,3,5,6,7,8,9,11]]\ny = zomato_en['rate']\n#Getting Test and Training Set\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=353)\nx_train.head()","3b987adb":"y_train.head()","1dbcfce5":"zomato_en['menu_item'].unique() # seeing the unique values in 'menu_item'","1a3deb73":"zomato_en['location'].unique() # seeing the unique values in 'location'","71d802e4":"zomato_en['cuisines'].unique() # seeing the unique values in 'cusines'","dd911401":"zomato_en['rest_type'].unique() # seeing the unique values in 'rest_type'","fbe1213a":"import pandas_profiling","90857070":"zomato.profile_report()","3f4b133e":"#Restaurants delivering Online or not\nsns.countplot(zomato['online_order'])\nfig = plt.gcf()\nfig.set_size_inches(10,8)\nplt.title('Restaurants delivering online or Not')","1f2bd632":"sns.countplot(zomato['book_table'])\nfig = plt.gcf()\nfig.set_size_inches(10,8)\nplt.title('Restaurants allowing table booking or not')","dd7b556c":"plt.rcParams['figure.figsize'] = (13, 9)\nY = pd.crosstab(zomato['rate'], zomato['book_table'])\nY.div(Y.sum(1).astype(float), axis = 0).plot(kind = 'bar', stacked = True,color=['red','yellow'])\nplt.title('table booking vs Normal rate', fontweight = 30, fontsize = 20)\nplt.legend(loc=\"upper right\")\nplt.show()","abff4a70":"sns.countplot(zomato['city'])\nsns.countplot(zomato['city']).set_xticklabels(sns.countplot(zomato['city']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(15,8)\nplt.title('Location wise count for restaurants')","87f2175e":"plt.rcParams['figure.figsize'] = (15, 8)\nloc_plt=pd.crosstab(zomato['rate'],zomato['city'])\nloc_plt.plot(kind='bar',stacked=True);\nplt.title('Location wise Rating',fontsize=15,fontweight='bold')\nplt.ylabel('Location',fontsize=10,fontweight='bold')\nplt.xlabel('Rating',fontsize=10,fontweight='bold')\nplt.xticks(fontsize=10,fontweight='bold')\nplt.yticks(fontsize=10,fontweight='bold');\nplt.legend();","8f4db48c":"sns.countplot(zomato['rest_type'])\nsns.countplot(zomato['rest_type']).set_xticklabels(sns.countplot(zomato['rest_type']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(18,8)\nplt.title('Restuarant Type')","ac0aa562":"loc_plt=pd.crosstab(zomato['rate'],zomato['rest_type'])\nloc_plt.plot(kind='bar',stacked=True);\nplt.title('Rest type - Rating',fontsize=15,fontweight='bold')\nplt.ylabel('Rest type',fontsize=10,fontweight='bold')\nplt.xlabel('Rating',fontsize=10,fontweight='bold')\nplt.xticks(fontsize=10,fontweight='bold')\nplt.yticks(fontsize=10,fontweight='bold');\nplt.legend().remove();","33c596f0":"sns.countplot(zomato['type'])\nsns.countplot(zomato['type']).set_xticklabels(sns.countplot(zomato['type']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(15,8)\nplt.title('Type of Service')","ab5f75d2":"type_plt=pd.crosstab(zomato['rate'],zomato['type'])\ntype_plt.plot(kind='bar',stacked=True);\nplt.title('Type - Rating',fontsize=15,fontweight='bold')\nplt.ylabel('Type',fontsize=10,fontweight='bold')\nplt.xlabel('Rating',fontsize=10,fontweight='bold')\nplt.xticks(fontsize=10,fontweight='bold')\nplt.yticks(fontsize=10,fontweight='bold');","0b950259":"sns.countplot(zomato['cost'])\nsns.countplot(zomato['cost']).set_xticklabels(sns.countplot(zomato['cost']).get_xticklabels(), rotation=90, ha=\"right\")\nfig = plt.gcf()\nfig.set_size_inches(15,8)\nplt.title('Cost of Restuarant')","a6000e73":"fig = plt.figure(figsize=(20,8))\nloc = sns.countplot(x=\"location\",data=zomato_real, palette = \"Set1\")\nloc.set_xticklabels(loc.get_xticklabels(), rotation=90, ha=\"right\")\nplt.ylabel(\"Frequency\",size=15)\nplt.xlabel(\"Location\",size=18)\nloc\nplt.title('NO. of restaurants in a Location',size = 20,pad=20)","d48c7ac5":"fig = plt.figure(figsize=(17,8))\nrest = sns.countplot(x=\"rest_type\",data=zomato_real, palette = \"Set1\")\nrest.set_xticklabels(rest.get_xticklabels(), rotation=90, ha=\"right\")\nplt.ylabel(\"Frequency\",size=15)\nplt.xlabel(\"Restaurant type\",size=15)\nrest \nplt.title('Restaurant types',fontsize = 20 ,pad=20)","6810558f":"plt.figure(figsize=(15,7))\nchains=zomato_real['name'].value_counts()[:20]\nsns.barplot(x=chains,y=chains.index,palette='Set1')\nplt.title(\"Most famous restaurant chains in Bangaluru\",size=20,pad=20)\nplt.xlabel(\"Number of outlets\",size=15)","eb937911":"#Preparing Random Forest REgression\nfrom sklearn.ensemble import RandomForestRegressor\nRForest=RandomForestRegressor(n_estimators=500,random_state=329,min_samples_leaf=.0001)\nRForest.fit(x_train,y_train)","5d48c48b":"y_predict=RForest.predict(x_test)","5d0bdb1e":"from sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","4c737fb1":"#Preparing Extra Tree Regression\nfrom sklearn.ensemble import  ExtraTreesRegressor\nETree=ExtraTreesRegressor(n_estimators = 100)\nETree.fit(x_train,y_train)","bc40b61f":"y_pred=ETree.predict(x_test)","b105e047":"from sklearn.metrics import r2_score\nr2_score(y_test,y_pred)","22e0504c":"# <font color='purple'>Importing Datasets<\/font>","2fa630b8":"<a href=\"#top\" class=\"btn btn-success btn-lg active\" role=\"button\" aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to TOP<\/a>","508441b8":"### <font color='purple'>No. of Restaurants in a Location<\/font>","ef2c46a1":"## The basic idea is analyzing the <font color=blue>Buisness Problem of Zomato <\/font> to get a fair idea about the factors affecting the establishment of different types of restaurant at different places in Bengaluru, aggregate rating of each restaurant and many more.","81853a41":"### <font color='purple'>Restaurants allowing table booking or not<\/font>","ac218fc6":"### <font color='purple'>Restaurants delivering Online or not<\/font>","03796052":"### <font color='purple'>Most famous Restaurant chains in Bengaluru<\/font>","4dc17222":"# <font size=\"+3\" color=red ><b> <center><u>Zomato Restaurants Analysis<\/u><\/center><\/b><\/font><br><a id=\"top\"><\/a>","1a6c8f18":"## <font color='purple'>Random Forest Regression<\/font>","b3bc4bd9":"#### <font color='black'>The highest correlation is between name and address which is 0.62 which is not of very much concern<\/font>","bf33e5bc":"### <font color='purple'>Cost of Restuarant<\/font>","880136ce":"# <font color='purple'>Importing Library<\/font>","5101028b":"### <font color='purple'>Restaurant Type<\/font>","eb8fc744":"### <font color='purple'>Restaurant type<\/font>","07ae71fb":"### <font color='purple'>Location & Rating<\/font>","b2176362":"### <font color='purple'>Location<\/font>","faf740cf":"### If these kernels impress you,give them an <font size=\"+2\" color=\"red\"><b>Upvote<\/b><\/font>.<br>","d541ee75":"## We have observed that we have got the best accuracy for Extra tree regressor","f73b279f":"## <font color='purple'>Extra Tree Regressor<\/font>","59e4cd84":"### <font color='purple'>Types of Rating<\/font>","7c23ba58":"### <font color='purple'>Gaussian Rest type and Rating<\/font>","21e876ce":"## <font color='purple'>Splitting the Dataset<\/font>","41e33de0":"1. **Loading the dataset:** Load the data and import the libraries. <br>\n2. **Data Cleaning:** <br>\n - Deleting redundant columns.\n - Renaming the columns.\n - Dropping duplicates.\n - Cleaning individual columns.\n - Remove the NaN values from the dataset\n - Some Transformations\n3. **Data Visualization:** Using plots to find relations between the features.\n - Restaurants delivering Online or not\n - Restaurants allowing table booking or not\n - Table booking Rate vs Rate\n - Best Location\n - Relation between Location and Rating\n - Restaurant Type\n - Gaussian Rest type and Rating\n - Types of Services\n - Relation between Type and Rating\n - Cost of Restuarant\n - No. of restaurants in a Location\n - Restaurant type\n - Most famous restaurant chains in Bengaluru \n\n4. **Regression Analysis**\n - Random Forest Regression\n - Extra Tree Regression","9ef833e0":"<font size=\"+3\" color=\"blue\"><b>Table of Content<\/b><\/font>","8e17762e":"## <font color='purple'>Data Visualization<\/font>","0e1eff40":"### <font color='purple'>Types of Services<\/font>","6a3ea2b6":"### <font color='purple'>Pandas Profiling<\/font>","65396434":"### <font color='purple'>Table booking Rate vs Normal Rate<\/font>"}}