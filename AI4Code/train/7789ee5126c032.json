{"cell_type":{"04fc5527":"code","afc7d30b":"code","af03fc6d":"code","086ce438":"code","4a667035":"code","20298a31":"code","35608856":"code","a9520848":"code","a983a92d":"code","4df9ed8d":"code","196f2ee7":"code","0e8138d9":"code","45645032":"code","4deaf8e1":"code","1fbefe57":"code","50f8300e":"code","b12eb2a3":"markdown","192146ee":"markdown","62903404":"markdown","36e09a1a":"markdown","92d88e88":"markdown","03d43acb":"markdown","693bbae2":"markdown","20ab5847":"markdown","92cf7410":"markdown","17b90c74":"markdown","2c20fd7f":"markdown","17698ceb":"markdown","0aa718f9":"markdown","f3979e3f":"markdown","e9fee0b2":"markdown"},"source":{"04fc5527":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","afc7d30b":"import pandas as pd\n\nfrom matplotlib import pyplot as plt\n\nimport numpy as np\nfrom sklearn.metrics import f1_score,make_scorer\nfrom catboost import CatBoostClassifier\n\nfrom sklearn.model_selection import StratifiedKFold, cross_val_score,RepeatedStratifiedKFold\n\nfrom catboost import CatBoostClassifier\n\nfrom statsmodels.graphics.gofplots import qqplot\nfrom scipy.stats import shapiro\nfrom scipy.stats import ttest_1samp,ttest_rel\nimport statsmodels.stats.api as sms","af03fc6d":"data = pd.read_csv(\"..\/input\/mf-accelerator\/contest_train.csv\")\ntarget = data.TARGET\ndata = data.fillna(0)\nfeatures = data.drop(columns=[\"TARGET\",\"ID\"])\nfeatures.head()","086ce438":"scorer = make_scorer(f1_score,average='macro')\nrskf = RepeatedStratifiedKFold(n_splits=4, n_repeats=5,\n      random_state=12)","4a667035":"%%time\nclf_cb = CatBoostClassifier(task_type='GPU',random_state=100, loss_function='MultiClass',\n                            auto_class_weights=\"Balanced\",iterations=2500,verbose=2500)  \n \nscores = cross_val_score(clf_cb,features,target,scoring=scorer,cv=rskf)","20298a31":"scores","35608856":"print(\"Statistics score\")\nprint(\"-------\")\nprint(f\"Mean: {scores.mean()}\")\nprint(f\"Std: {scores.std(ddof=1)}\")\nprint(f\"Max: {scores.max()}\")\nprint(f\"Min: {scores.min()}\")\nprint(\"-------\")","a9520848":"%%time\nclf_cb2 = CatBoostClassifier(task_type='GPU',random_state=100, loss_function='MultiClassOneVsAll',\n                            auto_class_weights=\"Balanced\",iterations=1050,\n                           depth=7, l2_leaf_reg=1,verbose=1050)  \n \nscores2 = cross_val_score(clf_cb2,features,target,scoring=scorer,cv=rskf)","a983a92d":"scores2","4df9ed8d":"print(\"Statistics score2\")\nprint(\"-------\")\nprint(f\"Mean: {scores2.mean()}\")\nprint(f\"Std: {scores2.std(ddof=1)}\")\nprint(f\"Max: {scores2.max()}\")\nprint(f\"Min: {scores2.min()}\")\nprint(\"-------\")","196f2ee7":"qqplot(scores,line = 's');","0e8138d9":"(s1,p1) = shapiro(scores)\nprint(f\"The Shapiro-Wilk statistic value: {s1}\")\nprint(f\"p-value: {p1}\")","45645032":"qqplot(scores2,line = 's');","4deaf8e1":"(s2,p2) = shapiro(scores2)\nprint(f\"The Shapiro-Wilk statistic value: {s2}\")\nprint(f\"p-value: {p2}\")","1fbefe57":"ttest_rel(scores, scores2, axis=0)","50f8300e":"cm = sms.CompareMeans(sms.DescrStatsW(scores), sms.DescrStatsW(scores2))\nprint(cm.tconfint_diff(usevar='unequal'))","b12eb2a3":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u043a\u0438 \u0438\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 scores","192146ee":"**\u0412\u0438\u0434\u043d\u043e, \u0447\u0442\u043e \u043e\u043d \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u043e\u043b\u044c, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043b\u0435\u0432\u0430\u044f \u0433\u0440\u0430\u043d\u0438\u0446\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f, \u0437\u043d\u0430\u0447\u0438\u0442 -  \u043f\u0435\u0440\u0432\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u043b\u0443\u0447\u0448\u0435, \u043a\u0430\u043a \u0438 \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0434\u043e\u0433\u0430\u0434\u0430\u0442\u044c\u0441\u044f, \u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044f \u0432\u044b\u0431\u043e\u0440\u043e\u0447\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u043d\u0438\u0435.**","62903404":"\u0412\u044b\u0431\u0435\u0440\u0435\u043c \u043c\u0435\u0436\u0434\u0443 2-\u043c\u044f \u043c\u043e\u0434\u0435\u043b\u044f\u043c\u0438 CatBoost, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f \u0443\u043f\u043e\u043c\u044f\u043d\u0430\u043b \u0432 \u0434\u0438\u0441\u043a\u0443\u0441\u0441\u0438\u044f\u0445 \u043a \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u044e.","36e09a1a":"\u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0431\u043b\u0438\u0437\u043a\u0430 \u043a \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0439, \u043f\u043e\u0441\u043a\u043e\u043b\u044c\u043a\u0443 \u043d\u0443\u043b\u0435\u0432\u0430\u044f \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u0430 \u043e \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043d\u0435 \u043e\u0442\u0432\u0435\u0440\u0433\u043d\u0443\u0442\u0430 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u0438 0.05 (p-value >> 0.05), \u0430 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u0442\u043e\u0447\u043a\u0438 \u0431\u043b\u0438\u0437\u043a\u0438 \u043a \u043f\u0440\u044f\u043c\u043e\u0439.","92d88e88":"\u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0442\u0430\u043a\u0436\u0435 \u0431\u043b\u0438\u0437\u043a\u0430 \u043a \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0439 (\u0445\u043e\u0442\u044f \u0438 \u0432 \u043c\u0435\u043d\u044c\u0448\u0435\u0439 \u0441\u0442\u0435\u043f\u0435\u043d\u0438, \u0447\u0435\u043c \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438), \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u0441\u0435 \u0433\u043e\u0442\u043e\u0432\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043b\u0438\u0447\u0438\u0439 \u0432 \u0441\u0440\u0435\u0434\u043d\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u0445 \u043c\u0435\u0442\u0440\u0438\u043a \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043d\u044f\u0442\u044c, \u043a\u0430\u043a\u043e\u0439 \u043b\u0443\u0447\u0448\u0435. \n\n\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0435\u043c \u0421\u0442\u044c\u044e\u0434\u0435\u043d\u0442\u0430 \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0432\u044b\u0431\u043e\u0440\u043e\u043a, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b \u043e\u0431\u0443\u0447\u0430\u044e\u0442\u0441\u044f \u0438 \u0432\u0430\u043b\u0438\u0434\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043d\u0430 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u0432\u044b\u0431\u043e\u0440\u043a\u0430\u0445, \u0438\u0434\u0443\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e.","03d43acb":"\u041e\u0431\u0443\u0447\u0438\u043c 2-\u044e \u043c\u043e\u0434\u0435\u043b\u044c","693bbae2":"\u041f\u043e\u0441\u0442\u0440\u043e\u0438\u043c 95 % \u0434\u043e\u0432\u0435\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u0438 \u0441\u0440\u0435\u0434\u043d\u0438\u0445, \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0438\u0442\u044c\u0441\u044f \u0432 \u0437\u043d\u0430\u043a\u0435 \u0440\u0430\u0437\u043d\u043e\u0441\u0442\u0438.","20ab5847":"p-value << 0.05, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0443\u043b\u0435\u0432\u0430\u044f \u0433\u0438\u043f\u043e\u0442\u0435\u0437\u0430 \u043e \u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u0435 \u0441\u0440\u0435\u0434\u043d\u0438\u0445 \u043e\u0442\u0432\u0435\u0440\u0433\u0430\u0435\u0442\u0441\u044f \u0432 \u043f\u043e\u043b\u044c\u0437\u0443 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u044b \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u0438 0.05, \u0441\u0440\u0435\u0434\u043d\u0438\u0435 \u043d\u0435 \u0440\u0430\u0432\u043d\u044b.","92cf7410":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","17b90c74":"# \u041f\u0440\u0438\u043c\u0435\u0440 \u0432\u044b\u0431\u043e\u0440\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 \u0438\u0437 2-x \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u043f\u043f\u0430\u0440\u0430\u0442\u0430 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438\n\u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u043b: \u0413\u043b\u0430\u0437\u0443\u043d\u043e\u0432 \u0410.\u0412.","2c20fd7f":"\u0412\u0438\u0434\u043d\u043e, \u043a\u0430\u043a\u0438\u0435 \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438\u0441\u044c \u0434\u043b\u044f \u043c\u0435\u0442\u0440\u0438\u043a\u0438, \u043d\u043e \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043c\u0435\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u044c\u0435\u0437\u043d\u044b\u0439 \u0440\u0430\u0437\u0431\u0440\u043e\u0441 \u043c\u0435\u0436\u0434\u0443 \u043c\u0438\u043d\u0438\u043c\u0443\u043c\u043e\u043c \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c\u043e\u043c. \u041f\u043e\u044d\u0442\u043e\u043c\u0443, \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u0434\u0438\u0441\u043f\u0435\u0440\u0441\u0438\u0438 \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0435 \u0432 \u0441\u043e\u0440\u0435\u0432\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u043e\u0441\u044c \u0443\u0441\u0440\u0435\u0434\u043d\u0435\u043d\u0438\u0435 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u043c\u043e\u0434\u0435\u043b\u0435\u0439.\n\n","17698ceb":"\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0431\u043b\u043e\u043a\u043d\u043e\u0442\u0435 \u044f \u043f\u0440\u0438\u0432\u043e\u0436\u0443 \u043f\u0440\u0438\u043c\u0435\u0440 \u043f\u043e\u0434\u0445\u043e\u0434\u0430 \u043a \u043f\u043e\u0434\u0431\u043e\u0440\u0443 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043a\u0440\u043e\u0441\u0441-\u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0441\u0430\u043c \u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0441\u044c \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u043e. ","0aa718f9":"\u041c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0432 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435,\u0440\u0430\u0437\u0431\u0440\u043e\u0441 \u0431\u043e\u043b\u044c\u0448\u0435. \n\n\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u0437\u043d\u0430\u0447\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442\u043b\u0438\u0447\u0438\u0439. \u0412\u0434\u0440\u0443\u0433 \u0440\u0430\u0437\u043d\u0438\u0446\u0435 \"\u043d\u0430 \u0433\u043b\u0430\u0437\" \u043d\u0435\u043b\u044c\u0437\u044f \u0432\u0435\u0440\u0438\u0442\u044c? \n\n\u041d\u043e \u043f\u043e\u043a\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0432\u0435\u0441\u0442\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0432\u0441\u043f\u043e\u043c\u043e\u0433\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0448\u0430\u0433\u043e\u0432, \u0430 \u0438\u043c\u0435\u043d\u043d\u043e, \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u043e\u043a, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0434\u043d\u0438\u043c \u0438\u0437 \u0441\u0430\u043c\u044b\u0445 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432.","f3979e3f":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u043c \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u043e\u0440\u043a\u0438 \u0438\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043c\u0435\u0442\u0440\u0438\u043a scores2.","e9fee0b2":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u0438 \u043a\u0440\u043e\u0441\u0441-\u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438. \n\n\u041e\u0431\u0440\u0430\u0449\u0430\u044e \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u0440\u0438 \u043a\u0430\u0436\u0434\u043e\u043c \u0440\u0430\u0437\u0431\u0438\u0435\u043d\u0438\u0438 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0431\u043e\u043b\u044c\u0448\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u0432\u044b\u0431\u043e\u0440\u043a\u0430 \u0432 25%, \u043d\u043e \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0434\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 20 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0437\u0430 \u0441\u0447\u0435\u0442 \u0440\u0430\u0437\u043d\u044b\u0445 random_state."}}