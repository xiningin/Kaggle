{"cell_type":{"21e89b18":"code","3404ac3a":"code","087df8be":"code","1098d75d":"code","78b21c26":"code","45e40724":"code","75c93483":"code","6cee88f5":"code","f23fd92a":"code","dcfc34bf":"code","31d9d099":"code","6fe7777c":"code","aae459fe":"code","6dd67712":"code","e1d15cb0":"code","df5d8f4a":"code","d6b8f4c5":"markdown","aa89f0d2":"markdown","249f3716":"markdown","039909c3":"markdown","7865c29a":"markdown","0108c5fe":"markdown","8d78d4b7":"markdown","252d91ed":"markdown","31c3e96b":"markdown","d27fefad":"markdown","368d8aa7":"markdown"},"source":{"21e89b18":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n#visualization\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly as py\nimport matplotlib.pyplot as plt\nimport seaborn as sns\npy.offline.init_notebook_mode(connected=True)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","3404ac3a":"sanit_accs = pd.read_csv(\"..\/input\/access-to-sanitation-around-the-world\/sanit.csv\")","087df8be":"sanit_accs.isna().sum()\/len(sanit_accs) * 100 ","1098d75d":"sanit_accs[[\"overall_pc\",\"rural_pc\",\"urban_pc\"]] =sanit_accs.groupby(\"name\")[[# using first difference function to compue percentage change\n                                                 \"overall\",\"rural\",\"urban\"]].diff()\n                                                                                        ","78b21c26":"sanit_accs[[\"overall_std\",\n       \"rural_std\",\n       \"urban_std\"]]=sanit_accs.groupby(\"name\")[ # 3 year rolling standard deviation for each variable\n                    [\"overall\",\"rural\",\"urban\"]].rolling(3,2).std().reset_index(drop=True)","45e40724":"sanit_accs.tail()","75c93483":"url = 'https:\/\/raw.githubusercontent.com\/plotly\/datasets\/master\/2014_world_gdp_with_codes.csv'\niso_codes = pd.read_csv(url,index_col=\"COUNTRY\")\ncountry_code_dic = dict(iso_codes.CODE)\nsanit_accs[\"code\"] = sanit_accs.name.map(country_code_dic)\nsub = sanit_accs.loc[:,[\"overall\",\"code\",\"name\",\"year\",\"overall_pc\"]] ","6cee88f5":"sub.loc[:,'overall'] = sub.loc[:,'overall'] * 100\nsub[\"text\"] = sub[\"overall\"].astype(str)+\"% People in \"+sub[\"name\"]+\" are using safely managed sanitation services\"","f23fd92a":"fig = px.choropleth(sub, locations=\"code\",color=\"overall\",hover_name=\"name\", \n     color_continuous_scale=px.colors.sequential.Electric,height=600,animation_frame=\"year\",\n    hover_data=[\"text\"])\ntext=\"People using safely managed sanitation services 2000-2017 (% of population)\"\ntitle = dict(text=text,xanchor=\"center\",yanchor=\"top\",y=0.99,x=0.5,font=dict(size=18,color=\"black\"))\nfig.update_layout(paper_bgcolor=\"#88a9b3\",title=title)\nfig.update_geos(fitbounds=\"locations\", visible=False,bgcolor=\"#88a9b3\")\nfig.show()","dcfc34bf":"px.histogram(sanit_accs,x=[\"overall\",\"rural\",\"urban\"],histfunc=\"count\",color=\"income_groups\",\n             facet_row=\"variable\",animation_frame=\"year\",hover_name=sanit_accs[\"name\"])","31d9d099":"title_hist = \"Sanitation access distrubution\"\nfig=px.density_heatmap(sanit_accs,x=[\"overall\",\"rural\",\"urban\"],facet_row=\"variable\")\nfig.update_layout(title=dict(text=title_hist,xanchor=\"center\",yanchor=\"top\",y=0.97,x=0.5))\nfig.show()","6fe7777c":"def grouper(dataframe,by_col,resetindex=True,sort_col=None,ascending=False):\n    if resetindex==False:\n        grp_df = dataframe.groupby(by_col).mean().sort_values(by=sort_col,ascending=ascending)\n    else :\n        grp_df = dataframe.groupby(by_col).mean().reset_index().sort_values(\n                 by=sort_col,ascending=ascending)\n    return grp_df","aae459fe":"def bar_plot(dataframe,title,x=None,y=None,barmode=\"group\",cat_ordr=None,\n    temp=\"plotly_white\",color_map=[\"orange\",\"blue\",\"red\"]):\n    fig = px.bar(dataframe,x=x,y=y,barmode=barmode,category_orders=dict(variable=cat_ordr),\n    opacity=0.8,height=350,width=800,color_discrete_map=dict(zip(y,color_map)),template=temp)\n    fig.update_layout(title=dict(text=title,xanchor=\"center\",yanchor=\"top\",y=0.9,x=0.5))\n    fig.show()","6dd67712":"income_wise = grouper(sanit_accs,by_col=\"income_groups\",sort_col=\"overall\")\nplot_title  = \"Average Sanitation acesss across Income groups wise \"\nbar_plot(income_wise,title=plot_title,x=\"income_groups\",y=[\"overall\",\"rural\",\"urban\"],\n        cat_ordr=[\"urban\",\"overall\",\"rural\"])","e1d15cb0":"groupby_col = [\"income_groups\",\"year\"]\nincome_trends =  grouper(sanit_accs,by_col=groupby_col,sort_col=\"year\",ascending=True)\ntitle= \"Time evolution  of  sanitation accesss in each income group\"\nfig = px.line(income_trends,x=\"year\",y=\"overall\",color=\"income_groups\",title=title,\n           height=450,width=800)\ntitle = dict(text=title,xanchor=\"center\",yanchor=\"top\",y=0.9,x=0.5)\nlegend = dict(orientation=\"h\",yanchor=\"bottom\",y=1.02,xanchor=\"right\", x=0.95,title_text=\"\")\nfig.update_layout(title=title,legend=legend)","df5d8f4a":"plot_title = \"Sanitation accesss growth analysis\"\nlabels = dict(overall_pc=\"Avg. % change in sanitation\")\nfig = px.line(income_trends,x=\"year\",y=\"overall_pc\",color=\"income_groups\",height=400,line_dash='income_groups',labels=labels)\ntitle = dict(text=plot_title,xanchor=\"center\",yanchor=\"top\",y=0.99,x=0.5)\nlegend = dict(orientation=\"h\",yanchor=\"bottom\",y=1.02,xanchor=\"right\", x=0.83,title_text=\"\")\nfig.update_layout(title=title,legend=legend)\nfig.show()","d6b8f4c5":"![](https:\/\/www.unilever.com\/Images\/Global-SLP2017-UNGGSD-990x557_tcm244-504454.png)","aa89f0d2":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Importing Libraries<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","249f3716":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Sanitation access income group wise<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","039909c3":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Reading Dataset<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","7865c29a":"### Lets craft some functions to make our life a bit easier","0108c5fe":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Adding more features for growth analysis<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","8d78d4b7":"# Why its is even important \n\n* Access to sanitation and clean water is the fundamental right for everyone alike to other civil human rigthts.\n* Imporiving Access to sanitation is the key prioirity of united nation sustainable development goals.\n* Imporiving Access to sanitation has snowball effect on overall well being, because it act as stimulating factor in \n   uplifting healthcare, making cities more sustainable for livings and ultimatley ends up  in alleviating poverty  ","252d91ed":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Histogram<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","31c3e96b":"<div style=\"background-color:lightgreen;\">\n<h1><center>Access to sanitation facilities around the globe<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","d27fefad":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Maping Sanitation Access<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->","368d8aa7":"<div style=\"background-color:#fae1dd;\">\n<h1><center>Checking Missing values<\/center><\/h1>\n\n<!-- <h6><center>Tableau is a visualization tool widely used for Data Science and Analytics owing to it's ease of use and beautiful, interactive charts. <br>There is a drag and drop functionality offered for various options.<br><\/center><\/h6>\n<h4><center>Version: <b>Tableau Public<\/b><\/center><\/h4>\n<\/div> -->"}}