{"cell_type":{"9b21707f":"code","7277a151":"code","d65990fd":"code","b44bc8c0":"code","4abbb9b1":"code","e2a825f4":"code","cc4bfa28":"code","ffa7d449":"code","bca1c8cf":"code","20cb7b43":"code","3788a144":"code","4ef6d292":"code","55953b8a":"code","317e1c0b":"code","79f973e7":"code","49b35607":"code","b00301df":"code","1717d76b":"code","c2ce002a":"code","96789320":"code","680dcb85":"code","b7619c38":"code","431c25e1":"code","7ffde19b":"code","d08e3488":"code","9171e067":"code","fbf52892":"code","9dd01812":"markdown","b6aef552":"markdown","2bc5994c":"markdown","f373ef8b":"markdown","850b2f6f":"markdown","91f7bfc8":"markdown","818ad8b6":"markdown","2eade36c":"markdown","65f2d80b":"markdown","c3f6b578":"markdown","ecc0e190":"markdown","15eb2c09":"markdown","70b3bff2":"markdown","62ea369f":"markdown"},"source":{"9b21707f":"#codes from Rodrigo Lima  @rodrigolima82\nfrom IPython.display import Image\nImage(url = 'https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn%3AANd9GcT8Ri42Jt4fEhipkUKQXeRT7OX5m-Y3tTN9XNsb2FeYbxMbWvpt&usqp=CAU',width=400,height=400)","7277a151":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objs as go\nimport plotly.offline as py\nimport plotly.express as px\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","d65990fd":"df = pd.read_csv(\"..\/input\/aipowered-literature-review-csvs\/kaggle\/working\/TIE\/Proportion of patients who were asymptomatic.csv\")\ndf.head()","b44bc8c0":"df = df.rename(columns={'Unnamed: 0':'unnamed', 'Asymptomatic Proportion': 'asymptomatic'})","4abbb9b1":"dfcorr=df.corr()\ndfcorr\nplt.figure(figsize=(10,4))\nsns.heatmap(df.corr(),annot=False,cmap='summer')\nplt.show()","e2a825f4":"import shap\nimport lightgbm as lgb\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import KFold\nimport random","cc4bfa28":"SEED = 99\nrandom.seed(SEED)\nnp.random.seed(SEED)","ffa7d449":"dfmodel = df.copy()\n\n# read the \"object\" columns and use labelEncoder to transform to numeric\nfor col in dfmodel.columns[dfmodel.dtypes == 'object']:\n    le = LabelEncoder()\n    dfmodel[col] = dfmodel[col].astype(str)\n    le.fit(dfmodel[col])\n    dfmodel[col] = le.transform(dfmodel[col])","bca1c8cf":"#change columns names to alphanumeric\ndfmodel.columns = [\"\".join (c if c.isalnum() else \"_\" for c in str(x)) for x in dfmodel.columns]","20cb7b43":"X = dfmodel.drop(['unnamed','asymptomatic'], axis = 1)\ny = dfmodel['unnamed']","3788a144":"lgb_params = {\n                    'objective':'binary',\n                    'metric':'auc',\n                    'n_jobs':-1,\n                    'learning_rate':0.005,\n                    'num_leaves': 20,\n                    'max_depth':-1,\n                    'subsample':0.9,\n                    'n_estimators':2500,\n                    'seed': SEED,\n                    'early_stopping_rounds':100, \n                }","4ef6d292":"# choose the number of folds, and create a variable to store the auc values and the iteration values.\nK = 5\nfolds = KFold(K, shuffle = True, random_state = SEED)\nbest_scorecv= 0\nbest_iteration=0\n\n# Separate data in folds, create train and validation dataframes, train the model and cauculate the mean AUC.\nfor fold , (train_index,test_index) in enumerate(folds.split(X, y)):\n    print('Fold:',fold+1)\n          \n    X_traincv, X_testcv = X.iloc[train_index], X.iloc[test_index]\n    y_traincv, y_testcv = y.iloc[train_index], y.iloc[test_index]\n    \n    train_data = lgb.Dataset(X_traincv, y_traincv)\n    val_data   = lgb.Dataset(X_testcv, y_testcv)\n    \n    LGBM = lgb.train(lgb_params, train_data, valid_sets=[train_data,val_data], verbose_eval=250)\n    best_scorecv += LGBM.best_score['valid_1']['auc']\n    best_iteration += LGBM.best_iteration\n\nbest_scorecv \/= K\nbest_iteration \/= K\nprint('\\n Mean AUC score:', best_scorecv)\nprint('\\n Mean best iteration:', best_iteration)","55953b8a":"lgb_params = {\n                    'objective':'binary',\n                    'metric':'auc',\n                    'n_jobs':-1,\n                    'learning_rate':0.05,\n                    'num_leaves': 20,\n                    'max_depth':-1,\n                    'subsample':0.9,\n                    'n_estimators':round(best_iteration),\n                    'seed': SEED,\n                    'early_stopping_rounds':None, \n                }\n\ntrain_data_final = lgb.Dataset(X, y)\nLGBM = lgb.train(lgb_params, train_data)","317e1c0b":"print(LGBM)","79f973e7":"# telling wich model to use\nexplainer = shap.TreeExplainer(LGBM)\n# Calculating the Shap values of X features\nshap_values = explainer.shap_values(X)","49b35607":"shap.summary_plot(shap_values[1], X, plot_type=\"bar\")","b00301df":"shap.summary_plot(shap_values[1], X)","1717d76b":"#codes from Rodrigo Lima  @rodrigolima82\nfrom IPython.display import Image\nImage(url = 'https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn%3AANd9GcRAtz0ePW_Aj_MqIU9BNukzr5wHk3kIuE3u5oBDY-5GvmciKYRc&usqp=CAU',width=400,height=400)","c2ce002a":"df1 = pd.read_csv(\"..\/input\/aipowered-literature-review-csvs\/kaggle\/working\/TIE\/Pediatric patients who were asymptomatic.csv\")\ndf1.head()","96789320":"df1 = df1.rename(columns={'Unnamed: 0':'unnamed1', 'Asymptomatic Proportion': 'asymptomatic1', 'Age': 'age'})","680dcb85":"fig=sns.lmplot(x=\"asymptomatic1\", y=\"unnamed1\",data=df1)","b7619c38":"df1_age = pd.DataFrame({\n    'Date': df1.Date,\n    'age': df1.age\n})","431c25e1":"fig = px.line(df1_age, x=\"Date\", y=\"age\", \n              title=\"Pediatric Asymptomatic Patients: Silent Spreaders \")\nfig.show()","7ffde19b":"fig = px.bar(df1, \n             x='Date', y='age', color_discrete_sequence=['#21bf73'],\n             title='Pediatric Asymptomatic Patients: Silent Spreaders', text='age')\nfig.show()","d08e3488":"fig = px.line(df1, \n             x='Date', y='asymptomatic1', color_discrete_sequence=['#ff2e63'],\n             title='Pediatric Asymptomatic Patients: Silent Spreaders', text='asymptomatic1')\nfig.show()","9171e067":"labels = df1['asymptomatic1'].value_counts().index\nsize = df1['asymptomatic1'].value_counts()\ncolors=['#ff2e63','#3F3FBF']\nplt.pie(size, labels = labels, colors = colors, shadow = True, autopct='%1.1f%%',startangle = 90)\nplt.title('Pediatric Asymptomatic Patients: Silent Spreaders', fontsize = 20)\nplt.legend()\nplt.show()","fbf52892":"#codes from Rodrigo Lima  @rodrigolima82\nfrom IPython.display import Image\nImage(url = 'https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn%3AANd9GcRUPdulinsmJdYByKBIO9rXzgSCESo9n03ND5-PLIBL2y-N8Bgf&usqp=CAU',width=400,height=400)","9dd01812":"#Infected becomes virus factory before having symptoms\n\nOn average, each patient infects up to three individuals. This occurs, roughly speaking, by the form of the virus.\nThe infected person becomes a virus factory before symptoms appear. This makes it pass from one person to another with great efficiency and makes it very difficult to end the pandemic.\n\nThe time between the beginning and the end of the symptoms. They can appear between 2 to 14 days, but the average is 5 days after the onset of infection. https:\/\/translate.google.com.br\/translate?hl=en&sl=pt&u=https:\/\/oglobo.globo.com\/sociedade\/coronavirus-servico\/coronavirus-infectado-vira-fabrica-de-virus-antes-de-ter-sintomas-diz-pesquisadora-da-ufrj-24324139&prev=search Interview with Patricia Rocco,  head of the UFRJ Pulmonary Research Laboratory.","b6aef552":"healio.com","2bc5994c":"#Very mildly symptomatic: people who feel a little unwell from a COVID-19 infection but continue to come in close contact with others.\n\n\"We're very lucky that this isn't a severe infection for everyone, but because of that, some people feel a little sick and power through,\n\nSpreading COVID-19 while having a cough or very mild fever doesn't fully count as silent transmission, the infectious disease modeler: \"There's some signal there at least.\"\n\nBut people who continue to frequent communal and public places with a light cough or mild fever may unwittingly spread the disease in the early days of symptom onset \u2014 the time they're thought to be most infectious. Even when a person's own symptoms remain mild, others they infect can become very sick. https:\/\/www.npr.org\/sections\/goatsandsoda\/2020\/04\/13\/831883560\/can-a-coronavirus-patient-who-isnt-showing-symptoms-infect-others ","f373ef8b":"Asymptomatic: people who carry the active virus in their body but never develop any symptoms\n\n\"Nothing at all,\"\"No fever, no gastrointestinal issues, no breathing issues, no coughing, none of that.\"\n\nSome cases of asymptomatic carriers have been confirmed by finding and testing people who were in close contact with COVID-19 patients. For those who tested positive without symptoms, follow-up exams confirmed that about 25% continued to show no signs, World Health Organization officials said on April 1, citing data from China.\n\nAnd the affected individuals seem to skew young. A small clinical study from Nanjing, China, followed 24 people who tested positive but didn't show overt symptoms at the time. In the one to three weeks after diagnosis, seven continued showing no symptoms. Their median age was 14.\n\n\"Can those people who are completely asymptomatic, who never develop any symptoms, transmit the infection? That's still kind of an open question\"https:\/\/www.npr.org\/sections\/goatsandsoda\/2020\/04\/13\/831883560\/can-a-coronavirus-patient-who-isnt-showing-symptoms-infect-others","850b2f6f":"In the 0-9 age group, among 276 confirmed cases, 11% had fever without respiratory symptoms; 29% had fever with respiratory symptoms; and 33% had respiratory symptoms without fever. \n\nIn the 20-29 age group, among 1,510 confirmed cases, 8% had fever without respiratory symptoms; 42% had fever with respiratory symptoms; and 33% had respiratory symptoms without fever. \n\nIn the 50-59 age group, among 939 confirmed cases, 6% had fever without respiratory symptoms; 61% had fever with respiratory symptoms; and 27% had respiratory symptoms without fever. \n\nIn the 70-79 age group, among 346 confirmed cases, 13% had fever without respiratory symptoms; 58% had fever with respiratory symptoms; and 27% had respiratory symptoms without fever. \n\nOver half of those that died of COVID-19, as of Passover Eve were in the over 80s age group. \n\nThe highest number of cases was in the 20-29 age group, with the proportion of confirmed cases declining with age. By contrast, the proportion of seriously ill patients increased with age, with 74% of those seriously ill above the age of 60. \nhttps:\/\/www.timesofisrael.com\/silent-spreaders-almost-a-third-of-infected-kids-under-9-are-asymptomatic\/","91f7bfc8":"researchgate.net","818ad8b6":"#Presymptomatic: people who have been infected and are incubating the virus but don't yet show symptoms\n\nAfter infection, symptoms might not develop for five to six days \u2014 or even two weeks, according to the Annals of Internal Medicine. The time between catching the virus and showing symptoms is called the presymptomatic phase.\n\nPeople appear to be most infectious right around the time when symptoms start, However, \"we do have evidence, from testing and modeling studies, that suggest people who are presymptomatic can definitely transmit this virus,\" most likely in the one to three days before they start showing symptoms, according to the WHO.\n\nSo far, presymptomatic is a much more common category than asymptomatic. About 75% of people who test positive without showing symptoms turn out to be presymptomatic, displaying coughing, fatigue, fever and other signs of COVID-19 in a later follow-up exam.\n\nIt's suggested that \"transmission from asymptomatic and presymptomatic, who were not recognized as having SARS-CoV-2 infection and therefore not isolated, might contributed to further spread,\" according to research published in the CDC's April 3 \"Morbidity and Mortality Weekly Report.\"https:\/\/www.npr.org\/sections\/goatsandsoda\/2020\/04\/13\/831883560\/can-a-coronavirus-patient-who-isnt-showing-symptoms-infect-others","2eade36c":"Codes by Trigram","65f2d80b":"#Let's do Science - Understanding our pandemic by Amilcar Tanuri\n\nWe need to obtain accurate data on the epidemic in Brazil, since our level of testing is very low and this does not help us to make accurate predictions. \n\nWe urgently need to measure the pulse of the epidemic and find out how long Sars-CoV-2 has been circulating in our main capitals. We also need to find out what percentage of infected Brazilians could already have an immune response through the production of antibodies. \n\nThis information is key to deciding whether to move from horizontal to vertical quarantine or even end quarantines. We need to obtain more concrete data about the Covid-19 pandemic in our country and to have less politicization on the subject. Let's do science!https:\/\/translate.google.com.br\/translate?hl=en&sl=pt&u=https:\/\/blogs.oglobo.globo.com\/a-hora-da-ciencia\/post\/entendendo-nossa-pandemia.html&prev=search","c3f6b578":"#Codes from rossinEndrew  SHAP VALUES Visualization.\nhttps:\/\/www.kaggle.com\/endrewrossin\/fast-initial-lightgbm-model-to-detect-exam-result\/comments","ecc0e190":"Kaggle Notebook Runner: Mar\u00edlia Prata   @mpwolke","15eb2c09":"ctmirror.org","70b3bff2":"#What We Know About The Silent Spreaders Of COVID-19, by Pien Huang \n\n\"There is evidence that SARS-CoV-2 has this ability to spread silently,\" says Shweta Bansal, an infectious disease modeler at Georgetown University.\n\nIndeed, cases of COVID-19 among nursing home residents, choir groups and families fuel a growing concern about people who are infected, yet feel generally OK and go about their daily lives, giving the virus to friends, family members and strangers without knowing that they themselves have it.\n\nBut there are wide gaps in our understanding of how many people fit this category of \"silent spreaders\" \u2014 as they're called by some public health researchers \u2014 and how much they contribute to transmission of the disease.\n\nSilent spreaders can be divided into three categories: asymptomatic, presymptomatic and very mildly symptomatic.\nhttps:\/\/www.npr.org\/sections\/goatsandsoda\/2020\/04\/13\/831883560\/can-a-coronavirus-patient-who-isnt-showing-symptoms-infect-others","62ea369f":"#Silent spreaders: Almost a third of infected kids under 9 are asymptomatic.\n\nAlmost a third of children under the age of nine infected with the coronavirus are asymptomatic carriers of the disease, or so-called \u201csilent spreaders,\u201d according to a breakdown of confirmed coronavirus cases by age, published by the Health Ministry on the eve of Passover. \n\nAccording to the report in the 0-9 age group, 27% of children infected with the virus show no symptoms whatsoever, raising concern among Health Ministry officials regarding the potential of that age group to spread the disease. The figure compares with 7% asymptomatic in the 20-29 age group; 4% among 50-59 year olds; and 7% in the 70-79 age group. \n\nThe number of confirmed asymptomatic cases among children is significantly higher than among other age groups,\n\nThe data suggests that children have the potential to be spreaders of the diseases without any suspicion that they have even been infected. \nhttps:\/\/www.timesofisrael.com\/silent-spreaders-almost-a-third-of-infected-kids-under-9-are-asymptomatic\/"}}