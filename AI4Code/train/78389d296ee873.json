{"cell_type":{"0e6d7fd5":"code","08339155":"code","ed596bff":"code","02bb14f2":"code","412b8ee8":"code","b1a73fd2":"code","82a6f771":"code","4fb8fa0a":"code","c3b97b16":"code","ba668f97":"code","901b7f6c":"code","2c6a80bc":"code","b5c8765b":"code","f6474ee2":"code","cf474b9a":"code","28e318a0":"code","9b497df5":"code","13a41a10":"code","fe0e53bc":"code","ce3dc923":"markdown","bd7b41ce":"markdown","cce9a090":"markdown","af4cdff8":"markdown","7bd541b1":"markdown","fe442a19":"markdown","c070771d":"markdown","a7445194":"markdown","ae8b6599":"markdown","577342a2":"markdown","625c6dec":"markdown","26cc7747":"markdown","eecaacaf":"markdown"},"source":{"0e6d7fd5":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\ndata2015 = pd.read_csv('..\/input\/world-happiness\/2015.csv')\ndata2016 = pd.read_csv('..\/input\/world-happiness\/2016.csv')\ndata2017_ = pd.read_csv('..\/input\/world-happiness\/2017.csv')\ndata2018_ = pd.read_csv('..\/input\/world-happiness\/2018.csv')\ndata2019_ = pd.read_csv('..\/input\/world-happiness\/2019.csv')\n","08339155":"#1. Added a 'year' column into each dataset \ndata2015['year'] = '2015'\ndata2016['year'] = '2016'\ndata2017_['year'] = '2017'\ndata2018_['year'] = '2018'\ndata2019_['year'] = '2019'\n\npd.to_datetime(data2015.year)\npd.to_datetime(data2016.year)\npd.to_datetime(data2017_.year)\npd.to_datetime(data2018_.year)\npd.to_datetime(data2019_.year)","ed596bff":"# 2. Identified the columns that were relvant for my analysis, and present in all five datasets. Any column that was not relevant or not in all five datasets was dropped. \ncolumns_to_drop2015 = [\n    'Region', 'Standard Error', 'Dystopia Residual'\n]\n\ncolumns_to_drop2016 = [\n    'Region', 'Lower Confidence Interval', 'Upper Confidence Interval', 'Dystopia Residual'\n]\n\ncolumns_to_drop2017 = [\n    'Whisker.high', 'Whisker.low', 'Dystopia.Residual'\n]\n\n#no cols to drop for 2018 and 2019\n\ndata2015.drop(columns_to_drop2015, axis='columns', inplace=True)\ndata2016.drop(columns_to_drop2016, axis='columns', inplace=True)\ndata2017_.drop(columns_to_drop2017, axis='columns', inplace=True)","02bb14f2":"#3. Reorded the columns in all five data sets to ensure all columns were in the same order\ndata2017 = data2017_.iloc[:, [0,1,2,3,4,5,6,8,7,9]]\ndata2018 = data2018_.iloc[:, [1,0,2,3,4,5,6,8,7,9]]\ndata2019 = data2019_.iloc[:, [1,0,2,3,4,5,6,8,7,9]]","412b8ee8":"#4. Standardized the naming conventions of the coumns across all five data sets\ndata2015 = data2015.rename(columns={'Country': 'country', 'Happiness Rank': 'happiness_rank', 'Happiness Score': 'happiness_score', 'Economy (GDP per Capita)': 'GDP_per_capita', \\\n                                    'Family': 'social_support', 'Health (Life Expectancy)' : 'healthy_life_expectancy', 'Freedom': 'freedom', \\\n                                    'Trust (Government Corruption)': 'absence_of_corruption', 'Generosity': 'generosity'})\n\ndata2016 = data2016.rename(columns={'Country': 'country', 'Happiness Rank': 'happiness_rank', 'Happiness Score': 'happiness_score', 'Economy (GDP per Capita)': 'GDP_per_capita', \\\n                                    'Family': 'social_support', 'Health (Life Expectancy)' : 'healthy_life_expectancy', 'Freedom': 'freedom', \\\n                                    'Trust (Government Corruption)': 'absence_of_corruption', 'Generosity': 'generosity'})\n\ndata2017 = data2017.rename(columns={'Country': 'country', 'Happiness.Rank': 'happiness_rank', 'Happiness.Score': 'happiness_score', 'Economy..GDP.per.Capita.': 'GDP_per_capita', \\\n                                    'Family': 'social_support', 'Health..Life.Expectancy.' : 'healthy_life_expectancy', 'Freedom': 'freedom', \\\n                                    'Trust..Government.Corruption.': 'absence_of_corruption', 'Generosity': 'generosity'})\n\ndata2018 = data2018.rename(columns={'Country or region': 'country', 'Overall rank': 'happiness_rank', 'Score': 'happiness_score', 'GDP per capita': 'GDP_per_capita', \\\n                                    'Social support': 'social_support', 'Healthy life expectancy' : 'healthy_life_expectancy', 'Freedom to make life choices': 'freedom', \\\n                                    'Perceptions of corruption': 'absence_of_corruption', 'Generosity': 'generosity'})\n\ndata2019 = data2019.rename(columns={'Country or region': 'country', 'Overall rank': 'happiness_rank', 'Score': 'happiness_score', 'GDP per capita': 'GDP_per_capita', \\\n                                    'Social support': 'social_support', 'Healthy life expectancy' : 'healthy_life_expectancy', 'Freedom to make life choices': 'freedom', \\\n                                    'Perceptions of corruption': 'absence_of_corruption', 'Generosity': 'generosity'})","b1a73fd2":"#5. Combined the five datasets into one\ncombined_data = pd.concat([data2015, data2016, data2017, data2018, data2019])\ncombined_data.head()","82a6f771":"#Check for null values, determined that there is one null in the perceptions_of_corruption column\nprint('combined_data:', combined_data.isnull().sum())","4fb8fa0a":"#Inspect the row with the null value. Determined that it is for UAE, year 2018\ncombined_data[combined_data['absence_of_corruption'].isnull()]","c3b97b16":"#Find the average perceptions_of_corruption value for the UAE\nUAE_corruption = combined_data[combined_data['country'] == 'United Arab Emirates']\nUAE_corruption_avg = UAE_corruption['absence_of_corruption'].mean()\n\n#Fill in the null with the avergage perceptions_of_corruption value for the UAE\ncombined_data.fillna({'absence_of_corruption': UAE_corruption_avg}, inplace=True)\n\n#Check \ncombined_data[combined_data['country'] == 'United Arab Emirates']","ba668f97":"x = combined_data['happiness_score']\ny = combined_data['GDP_per_capita']\nplt.scatter(x, y)\nz = np.polyfit(x, y, 1)\np = np.poly1d(z)\nplt.plot(x,p(x),\"r--\")\n\nplt.xlabel(\"happiness_score\")\nplt.ylabel(\"GDP_per_capita\")\n\nplt.show()","901b7f6c":"x = combined_data['happiness_score']\ny = combined_data['social_support']\nplt.scatter(x, y)\nz = np.polyfit(x, y, 1)\np = np.poly1d(z)\nplt.plot(x,p(x),\"r--\")\n\nplt.xlabel(\"happiness_score\")\nplt.ylabel(\"social_support\")\n\nplt.show()","2c6a80bc":"x = combined_data['happiness_score']\ny = combined_data['healthy_life_expectancy']\nplt.scatter(x, y)\nz = np.polyfit(x, y, 1)\np = np.poly1d(z)\nplt.plot(x,p(x),\"r--\")\n\nplt.xlabel(\"happiness_score\")\nplt.ylabel(\"healthy_life_expectancy\")\n\nplt.show()","b5c8765b":"x = combined_data['happiness_score']\ny = combined_data['freedom']\nplt.scatter(x, y)\nz = np.polyfit(x, y, 1)\np = np.poly1d(z)\nplt.plot(x,p(x),\"r--\")\n\nplt.xlabel(\"happiness_score\")\nplt.ylabel(\"freedom\")\n\nplt.show()","f6474ee2":"x = combined_data['happiness_score']\ny = combined_data['absence_of_corruption']\nplt.scatter(x, y)\nz = np.polyfit(x, y, 1)\np = np.poly1d(z)\nplt.plot(x,p(x),\"r--\")\n\nplt.xlabel(\"happiness_score\")\nplt.ylabel(\"absence_of_corruption\")\n\nplt.show()","cf474b9a":"x = combined_data['happiness_score']\ny = combined_data['generosity']\nplt.scatter(x, y)\nz = np.polyfit(x, y, 1)\np = np.poly1d(z)\nplt.plot(x,p(x),\"r--\")\n\nplt.xlabel(\"happiness_score\")\nplt.ylabel(\"generosity\")\n\nplt.show()","28e318a0":"#Find the average happiness scores of all countries grouped by year\nhappiness_score_by_year = combined_data.groupby(['year'])\nhappiness_score_by_year = happiness_score_by_year.mean()\nhappiness_score_by_year = pd.DataFrame(happiness_score_by_year,columns=['happiness_score'])\nprint (happiness_score_by_year)","9b497df5":"#Plot the happiness scores of all countries grouped by year\nhappiness_score_by_year.plot();","13a41a10":"#Identify 2015 happist countries\nhappiest_countries_2015 = combined_data[(combined_data.happiness_rank < 6) & (combined_data.year == '2015')]\n#Filter combined data for 5 happiest countires from 2015\nhappiest_countries = combined_data[(combined_data.country == 'Switzerland') | (combined_data.country == 'Iceland') | (combined_data.country == 'Denmark') | (combined_data.country == 'Norway') | (combined_data.country == 'Canada')]\n\n#Plot happiness scores\nfig, ax = plt.subplots(figsize=(15,7))\nhappiest_countries.groupby(['year','country']).mean()['happiness_score'].unstack().plot(ax=ax)\nplt.yticks(np.arange(7.30, 7.65, 0.05));","fe0e53bc":"least_happy_countries_2015 = combined_data[(combined_data.happiness_rank > 153) & (combined_data.year == '2015')]\nleast_happy_countries = combined_data[(combined_data.country == 'Rwanda') | (combined_data.country == 'Benin') | (combined_data.country == 'Syria') | (combined_data.country == 'Burundi') | (combined_data.country == 'Togo')]\n\n\nfig, ax = plt.subplots(figsize=(15,7))\nleast_happy_countries.groupby(['year','country']).mean()['happiness_score'].unstack().plot(ax=ax)\nplt.yticks(np.arange(2.75, 4.80, 0.05));","ce3dc923":"# Intro to the World Happiness Index Analysis:\n\nIn this report, I've analyzed data from the World Happiness Index; a landmark survey of the state of global happiness. Specifically, I looked at the relationship between the happiness score and six factors; economic production, social support, life expectancy, freedom, absence of corruption, and generosity.\n\nThe happiness scores and rankings use data from the Gallup World Poll. The scores are based on answers to the main life evaluation question asked in the poll. This question, known as the Cantril ladder, asks respondents to think of a ladder with the best possible life for them being a 10 and the worst possible life being a 0 and to rate their own current lives on that scale. The scores are from nationally representative samples for the years 2015-2019 and use the Gallup weights to make the estimates representative. The columns following the happiness score estimate the extent to which each of the aforementioned six factors contribute to making life evaluations higher in each country than they are in Dystopia, a hypothetical country that has values equal to the world\u2019s lowest national averages for each of the six factors. They have no impact on the total score reported for each country, but they may explain why some countries rank higher than others.","bd7b41ce":"#### Question 1: (A) What is the interaction between the happiness score and the six factors that are tracked by the World Happiness Index, and (B) which of the six factors appears to have the strongest impact on happiness levels?\nIn order to better answer this question, I broke the question down into two parts:\n\nA. What is the interaction between the happiness score and the other six factors that are tracked by the World Happiness Index? In order to answer this question, I used a series of six scatter plots to explore the interaction between the happiness score and the six factors; economic production (GDP Per capita), social support, life expectancy, freedom (to make your own life choices), absence of corruption, and generosity. After inspecting these scatter plots, I found that there was a positive correlation between happiness score and all six factors tracked by the World Happiness Index.\\\n     \nB. Which of the six factors appears to have the strongest impact on happiness scores (i.e. an increase in one unit of what factor would result in the greatest increase in happiness scores)? In order to answer this question, I added a trend line to my scatter plots. The steeper the slope of the trend line, the greater the impact that factor had on happiness scores. By inspecting the trend lines, I found that GDP per capita, social support, healthy life expectancy and freedom to make your own life choices had the greatest impact on happiness scores, as they had the steepest trend lines slopes. Further, I found that percieved absence of corruption and generosity has the least impact on happiness scores, as the slopes of their trend lines were not as steep or almost flat.       ","cce9a090":"#### Combined five datasets into one: \n\nThe data I used in this analysis actually came in the form of five separate datasets, one for each year starting at 2015 and ending with 2019. I combined these five datasets into one, so that I could analyze the data over time. In order to combine these five datasets into one, I performed the following steps: \n\n1. Added a 'year' column into each dataset \n2. Identified the columns that were relevant for my analysis, and present in all five datasets. Any column that was not relevant or not in all five datasets was dropped. \n3. Reordered the columns in all five data sets to ensure all columns were in the same order\n4. Standardized the columns naming conventions across all five data sets\n5. Combined the five datasets into one\n","af4cdff8":"### Data Dictionary: \n\n| Field | Description |\n| :-- | :-- |\n| **country** | Country name\n| **happiness_rank** | Happiness index rank\n| **happiness_score** | Happiness score based on Cantirl ladder survey results\n| **GDP_per_capita** | Gross domestic product per capita of the country of region\n| **social_support** | Satisfaction with friends and family, feeling loved and suported\n| **healthy_life_expectancy** | The average number of \u201chealthy\u201d years a child at birth is estimated to live\n| **freedom** | Freedom to make your own life choices\n| **absence_of_corruption** | Perceptions of the absence of internal and external corruption levels\n| **generosity** | Generosity of the general population","7bd541b1":"# Analysis:","fe442a19":"# Conclusion:\n\nMy analysis revealed that there is a positive correlation between the happiness score and the other six factors tracked by the World Happiness Index. I also found that GDP per capita, social support, healthy life expectancy and freedom to make your own life choices had the greatest impact on happiness scores.\n\nI also found that, as a whole, the world got happier! Meaning that the average global happiness score is trended upwards from 2015 to 2019. Further, the happiness scores of the world's happiest countries remained relatively flat, where as the world's least happy countries got significantly happier over the period. \n","c070771d":"#### Question 2: Is the world getting happier over time? \n\nIn order to answer this question, I summarized my data to calculate the average happiness score grouped by year, and used a line graph to plot the data. I found that, the global happiness score has increased over the period of 2015 through 2019. ","a7445194":"#### Found and handled nulls\n\nI identified one null value in the data set. The null value was in the column 'absence_of_corruption', and associated with the country 'UAE' (United Arab Emirates) and the year 2018. To handle this null value, I found the average 'absence_of_corruption' value for the UAE, and replaced the null with this average value.","ae8b6599":"#### Imported the pandas, matplot, and numpy libraries, and imported the world happiness data:","577342a2":"#### What about the least happy countires?\n\nI also identified the five countries that were at the bottom of the world happiness index rankings in 2015. I summarized my data to calculate the average happiness score grouped by year and country, and used a line graph to plot the data. I found that, the happiness scores of the least happy countries increased significantly, with four of the five showing significant increases in happiness scores, and one of five remaining relatively flat.","625c6dec":"#### Are the happiest countries getting happier?  \n\nI identified the five countries that topped the world happiness index in 2015. I summarized my data to calculate the average happiness score grouped by year and country, and used a line graph to plot the data. I found that the happiness scores of the happiest countries remained relatively flat, with three of the five trending downwards slightly, and two of five increasing slightly.    ","26cc7747":"# Goals for this Analysis:\n\nMy goals for the following analysis were to answer these questions:\n\nQuestion 1: What is the interaction between the happiness score and the six factors that are tracked by the World Happiness Index, and which of the six factors appears to have the strongest impact on happiness levels?\n\nQuestion 2: Is the world getting happier over time? ","eecaacaf":"# Data Preparation:"}}