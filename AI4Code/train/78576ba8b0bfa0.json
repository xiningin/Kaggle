{"cell_type":{"820013d0":"code","c70c4550":"code","28929829":"code","60a6a8c1":"code","bbf1382f":"code","efedd3c6":"code","c951d11b":"code","6009ea52":"code","5e94c6ef":"code","45ecf0a4":"code","85f1fa4a":"code","e1d97baf":"code","773b7d02":"code","e90db6e7":"code","a0d6f10c":"code","802aeae7":"code","26b6b3f9":"code","4387897e":"code","ce7442e9":"code","ab722446":"code","11daa25e":"code","30d36351":"code","258df14f":"code","e11f74ed":"code","e5b8dfe9":"code","619ae07c":"code","d84fa5a2":"code","8dad09df":"code","fa4f95c9":"code","07400871":"code","0d4b8446":"code","04598790":"code","2e1da91c":"code","66703022":"code","f94366a8":"code","86e99588":"code","6d6b0a78":"code","25d7ce41":"code","ff72a645":"code","115a251a":"code","2a1b32b9":"code","d3f54feb":"code","2ddd764b":"code","37b98800":"code","28ba30a2":"code","53a4a73b":"code","c999f3a8":"code","ba3cb556":"code","31d09954":"code","8745cb9f":"code","c2bdb54c":"code","23a1ecbd":"code","d554a2a3":"code","1c28a329":"code","c75aa3ff":"code","37e51a2e":"code","2da8a2f2":"code","00c6411b":"code","1a0272e0":"code","9a863da2":"code","e0ca4713":"code","d19dad49":"code","dae843b7":"code","f1d86835":"code","2c73adbf":"code","a43edc24":"code","880a5a09":"code","118e630e":"code","0d14a5f2":"code","bc4bfc1c":"code","13af8722":"markdown","3071ac1f":"markdown","c79761cf":"markdown","8563fa6b":"markdown","1c4b37ad":"markdown","7a5a532a":"markdown","36f96335":"markdown","a90c11a3":"markdown","141dec7a":"markdown","d74b1abe":"markdown","cfcb06e6":"markdown","d4485eb6":"markdown","72ff2e65":"markdown","45745287":"markdown","e84bb1f0":"markdown","6c2bf0a8":"markdown","4525f327":"markdown","c2862f21":"markdown","880ed4ed":"markdown","88869c17":"markdown","8564adbc":"markdown","77a56327":"markdown","e33004a7":"markdown"},"source":{"820013d0":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport re\nsns.set()","c70c4550":"fifa=pd.read_csv(\"..\/input\/fifa-dataset\/data.csv\")\nfifa.head()","28929829":"to_stay=[\"ID\",\"Name\",\"Age\",\"Nationality\",\"Club\",\"Overall\",\"Potential\",\"Value\",\"Wage\",\"Real Face\"]\nfifa.drop(fifa.columns.difference(to_stay),axis=\"columns\",inplace=True)","60a6a8c1":"fifa.head()","bbf1382f":"fifa.set_index(\"ID\",inplace=True)","efedd3c6":"fifa.head()","c951d11b":"fifa.isnull().sum()","6009ea52":"fifa[\"Club\"].dropna(axis=\"rows\",inplace=True)","5e94c6ef":"fifa.dropna(axis=\"rows\",inplace=True)","45ecf0a4":"fifa.isnull().sum()","85f1fa4a":"fifa.shape","e1d97baf":"fifa.head(20)","773b7d02":"sns.boxplot(fifa[\"Age\"])","e90db6e7":"q1=np.percentile(fifa[\"Age\"],25)\nq3=np.percentile(fifa[\"Age\"],75)\niqr=q3-q1\nlower=q1-(1.5*iqr)\nupper=q3+(1.5*iqr)\nfifa[\"Age\"][(fifa[\"Age\"]<np.abs(lower))|(fifa[\"Age\"]>upper)].max()","a0d6f10c":"fifa.Value.unique","802aeae7":"fifa.info()","26b6b3f9":"fifa[\"Value2\"]=fifa[\"Value\"].apply(lambda x: x.split(\"\u20ac\")[1])\n","4387897e":"fifa[\"Value3\"]=fifa[\"Value2\"].apply(lambda x:x.split(\"M\")[0]*1000000 if x.split(\"M\")==True else x.split(\"K\")[0]*1000)\nfifa","ce7442e9":"fifa[\"Value3\"]=fifa[\"Value2\"].apply(lambda x: 1 if \"M\" in x else 0)\nfifa[\"Value4\"]=fifa[\"Value2\"].apply(lambda x : x.split(\"M\")[0] if \"M\" in x else x.split(\"K\")[0]).astype(float)","ab722446":"fifa[\"Value5\"]=(fifa[fifa[\"Value3\"]==1][\"Value4\"]*1000000)\na=fifa[fifa[\"Value3\"]==0]\nfifa[\"Value5\"].fillna(a[\"Value4\"]*1000,inplace=True)","11daa25e":"fifa","30d36351":"fifa.drop([\"Value4\",\"Value3\",\"Value2\",\"Value\"],axis=\"columns\",inplace=True)","258df14f":"fifa.rename(columns={\"Value5\":\"Value\"},inplace=True)\n","e11f74ed":"fifa[fifa[\"Value\"]==60000]","e5b8dfe9":"fifa[\"Wage\"].unique()","619ae07c":"fifa[\"Wage2\"]=fifa[\"Wage\"].apply(lambda x: x.split(\"\u20ac\")[1])\nfifa[\"Wage3\"]=fifa[\"Wage2\"].apply(lambda x:x.split(\"K\")[0]).astype(float)*1000\nfifa.head()","d84fa5a2":"fifa.drop([\"Wage\",\"Wage2\"],axis=\"columns\",inplace=True)","8dad09df":"fifa.rename(columns={\"Wage3\":\"Wage\"},inplace=True)","fa4f95c9":"fifa","07400871":"fifa[\"Nationality\"].value_counts()","0d4b8446":"fifa[\"Nationality\"].unique()","04598790":"fifa[\"RF_Dummy\"]=fifa[\"Real Face\"].apply(lambda x: 1 if x==\"Yes\" else 0)","2e1da91c":"fifa","66703022":"rf_used=np.sum(fifa[\"RF_Dummy\"]==1)","f94366a8":"rf_notused=np.sum(fifa[\"RF_Dummy\"]==0)","86e99588":"(rf_used\/fifa.shape[0])*100","6d6b0a78":"(rf_notused\/fifa.shape[0])*100","25d7ce41":"plt.hist(fifa[\"Real Face\"])","ff72a645":"sns.barplot(fifa[\"Real Face\"],fifa[\"Overall\"])","115a251a":"fifa","2a1b32b9":"%matplotlib\nsns.barplot(fifa[\"Overall\"],fifa[\"RF_Dummy\"])","d3f54feb":"%matplotlib inline\nsns.regplot(fifa[\"Overall\"],fifa[\"Wage\"])","2ddd764b":"from scipy.stats import pearsonr\npearsonr(fifa[\"Overall\"],fifa[\"Wage\"])","37b98800":"fifa","28ba30a2":"sns.regplot(fifa[\"Overall\"],fifa[\"Value\"])","53a4a73b":"pearsonr(fifa[\"Overall\"],fifa[\"Value\"])","c999f3a8":"fifa.corr()","ba3cb556":"fifa[(fifa[\"Overall\"]>60)&(fifa[\"Overall\"]<80)]","31d09954":"africa=[\"Senegal\" , \"Egypyt\",\"Gabon\",\"Morocco\",\"Algeria\",\"Guinea\",\"Ghana\",\"Central African Rep.\", \"DR Congo\",\"Ivory Coast\",  \"Mali\",\"Nigeria\", \"Cameroon\", \"Kenya\",\"Cape Verde\", \"Togo\",\"Zimbabwe\",\"Angola\",\"Burkina Faso\", \"Tunisia\",\"Equatorial Guinea\", \"Guinea Bissau\",\"South Africa\",\"Madagascar\",\"Tanzania\",\"Gambia\",\"Benin\",\"Congo\",\"Mozambique\",\"Sierra Leone\",\"Zambia\",\"Chad\",\"Libya\",\"Eritrea\",\"Uganda\",\"Niger\",\"Mauritania\",\"Namibia\",\"Sudan\",\"Ethiopia\",\"Rwanda\",\"South Sudan\"]","8745cb9f":"fifa_africa=fifa[fifa[\"Nationality\"].isin(africa)]","c2bdb54c":"fifa_africa.corr()","23a1ecbd":"sns.scatterplot(fifa_africa[\"Overall\"],fifa_africa[\"Value\"])","d554a2a3":"sns.regplot(fifa_africa[\"Overall\"],fifa_africa[\"Value\"])","1c28a329":"sns.regplot(fifa_africa[\"Wage\"],fifa_africa[\"Value\"])","c75aa3ff":"from sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.metrics import mean_absolute_error\nfrom sklearn.svm import SVR\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import GradientBoostingRegressor\nfrom sklearn.metrics import mean_absolute_error\nfrom sklearn.metrics import mean_squared_error","37e51a2e":"model=LinearRegression()","2da8a2f2":"fifa.head()","00c6411b":"fifa=fifa.reset_index()","1a0272e0":"X=fifa[[\"Age\",\"Overall\",\"Potential\",\"Wage\"]]","9a863da2":"y=fifa[\"Value\"]","e0ca4713":"from sklearn.model_selection import train_test_split","d19dad49":"Xtrain,Xtest,ytrain,ytest=train_test_split(X,y,test_size=0.2,random_state=0)","dae843b7":"models={\"lr\":{\n    \"model\":LinearRegression()\n},\n       \"svr\":{\n           \"model\":SVR()\n       },\n       \"dtr\":{\n           \"model\":DecisionTreeRegressor()\n       },\n       \"gbr\":{\n           \"model\":GradientBoostingRegressor()\n       },\n       \"rtr\":{\n           \"model\":RandomForestRegressor()\n       }}","f1d86835":"for name,model in models.items():\n    pre=model[\"model\"].fit(Xtrain,ytrain)\n    print(f\"The accuracy of {name} is {pre.score(Xtest,ytest)}\")","2c73adbf":"gbr=GradientBoostingRegressor().fit(Xtrain,ytrain)\nprint(f\"Your training accuracy is {gbr.score(Xtrain,ytrain)} while your test accuracy is {gbr.score(Xtest,ytest)}\")","a43edc24":"ypred=gbr.predict(Xtest)","880a5a09":"gbr.predict([[20,76,78,50000]])","118e630e":"mean_absolute_error(ytest,ypred)","0d14a5f2":"mean_squared_error(ytest,ypred)","bc4bfc1c":"np.sqrt(mean_squared_error(ytest,ypred))","13af8722":"Thank you for viewing my project . Gracias...","3071ac1f":"We see a whooping percentage of 90.7 % people's real faces were not used","c79761cf":"From this graph , we see that there is a high likelihood of a player with overall rating of 79 and above for his real face to be used in the FIFA game.\n","8563fa6b":"We see below that the number of people that their real face was used in FIFA was 1654","1c4b37ad":"<h3>Countries in Africa<\/h3>\nSenegal , Egypy,Gabon,Morocco,Algeria,Guinea,Ghana,Central African Rep., DR Congo,Ivory Coast,  Mali,Nigeria, Cameroon, Kenya,Cape Verde, Togo,Zimbabwe,Angola,Burkina Faso, Tunisia,Equatorial Guinea, Guinea Bissau,South Africa,Madagascar,Tanzania,Gambia,Benin,COngo,Mozambique,Sierra Leone,Zambia,CHad,Libya,Eritrea,Uganda,Niger,Mauritania,Namibia,Sudan,Ethiopia,Rwanda,South Sudan","7a5a532a":"Here, GradientBoostingRegressor is the best model","36f96335":"Hence, there are no outliers in Age.","a90c11a3":"### FOR AFRICAN PLAYERS","141dec7a":"Using Player features like Overall, Potential,Age to predict Player's Value and wage","d74b1abe":"For African players, Their overall fifa rating is strongly positively correlated with Value","cfcb06e6":"Using Train test split","d4485eb6":"Overall player rating does not have much correlation on a player's value too","72ff2e65":"We see that  16264  people's real faces were not used ","45745287":"# MACHINE LEARNING","e84bb1f0":"Change wage to value","6c2bf0a8":"### PEOPLE THAT THEIR REAL FACE WAS USED IN FIFA","4525f327":"9.23% of people's real faces were used","c2862f21":"Overall does not really affect wage!!!!\n<br>WOW!!","880ed4ed":"Rename value5 column to value","88869c17":"The only strong correlation in this dataset is between Player's Wage and Player's Value for sale and this is reasonable","8564adbc":"Wage is also positively correlated with value of the player","77a56327":"The goal here is to have only one Value column of their value in euros","e33004a7":"Checking for outliers in Age."}}