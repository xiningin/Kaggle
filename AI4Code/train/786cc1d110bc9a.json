{"cell_type":{"a3cfe011":"code","f102e2f7":"code","6345d2a5":"code","9674a150":"code","314ac5f4":"code","81001db3":"code","f2d9ae75":"code","4458a6fb":"code","f5e9a9f9":"code","057a966b":"code","85b4e78a":"code","ffa4ac2b":"code","c81b013e":"code","e4b023b5":"code","7f99a8f9":"code","4fe188f8":"code","ecbe0ad2":"code","97e65e78":"code","f410b303":"code","8654bdb8":"code","25f792b4":"code","214567b8":"code","7c17da7b":"code","baf3c47d":"code","346b121f":"code","bf9c1e6f":"code","88cc47d8":"code","713e8269":"code","f343a933":"code","a569ec31":"code","5ee427e0":"code","05871dd2":"markdown","efca4cd2":"markdown","74994d75":"markdown","83b02456":"markdown","2d117f9f":"markdown","4d241907":"markdown","68a28656":"markdown","7f7c632b":"markdown","d3a56adf":"markdown","cbffa480":"markdown","e1f6d15b":"markdown","5cbc0124":"markdown","3f553aab":"markdown","8a86b133":"markdown","3978c5e7":"markdown","4d595b13":"markdown","ab58d35c":"markdown","30d81223":"markdown","e605afdf":"markdown","1ab25edb":"markdown","a7c64272":"markdown","d0ed868a":"markdown","33f1cd16":"markdown","7982ad8f":"markdown","0cdfc7d6":"markdown","68810589":"markdown"},"source":{"a3cfe011":"! pip install --quiet -U pycaret","f102e2f7":"import numpy as np\nimport pandas as pd\nfrom pycaret.classification import *\n\npd.set_option(\"display.max_columns\", None)","6345d2a5":"df = pd.read_csv('..\/input\/lending-club\/lending_club_loan_two.csv')","9674a150":"df['issue_d'] = pd.to_datetime(df['issue_d'])\ndf = df[df['issue_d'].dt.year == 2016]","314ac5f4":"df.shape","81001db3":"df.head()","f2d9ae75":"df['loan_status'].value_counts(dropna=False) \/ len(df['loan_status'])","4458a6fb":"df = df.drop(columns=['emp_title', 'address', 'title', 'grade', 'sub_grade', 'issue_d', 'earliest_cr_line'])","f5e9a9f9":"clf = setup(\n    data = df, \n    target = 'loan_status', \n    silent=True, \n    log_experiment = True, \n    session_id=1, \n    fix_imbalance=True, \n    experiment_name = 'train'\n)","057a966b":"bestModel = compare_models(sort = 'F1', fold = 3)","85b4e78a":"bestModel","ffa4ac2b":"bestModel = tune_model(bestModel, optimize = 'F1', fold = 10)","c81b013e":"interpret_model(bestModel)","e4b023b5":"evaluate_model(bestModel)","7f99a8f9":"plot_model(bestModel, plot = 'auc')","4fe188f8":"plot_model(bestModel, plot = 'threshold')","ecbe0ad2":"plot_model(bestModel, plot = 'pr')","97e65e78":"plot_model(bestModel, plot = 'confusion_matrix')","f410b303":"plot_model(bestModel, plot = 'error')","8654bdb8":"plot_model(bestModel, plot = 'class_report')","25f792b4":"plot_model(bestModel, plot = 'boundary')","214567b8":"plot_model(bestModel, plot = 'rfe')","7c17da7b":"plot_model(bestModel, plot = 'learning')","baf3c47d":"plot_model(bestModel, plot = 'manifold')","346b121f":"plot_model(bestModel, plot = 'calibration')","bf9c1e6f":"plot_model(bestModel, plot = 'vc')","88cc47d8":"plot_model(bestModel, plot = 'dimension')","713e8269":"plot_model(bestModel, plot = 'feature')","f343a933":"plot_model(bestModel, plot = 'parameter')","a569ec31":"pred_holdout = predict_model(bestModel)","5ee427e0":"save_model(bestModel, 'bestBaseModel')","05871dd2":"#### Validation Curve","efca4cd2":"#### Confusion Matrix","74994d75":"#### Area Under the Curve","83b02456":"#### Class Prediction Error","2d117f9f":"#### Recursive Feature Selection","4d241907":"#### Precision Recall Curve","68a28656":"#### Classification Report","7f7c632b":"### Install & Import Libraries","d3a56adf":"#### Learning Curve","cbffa480":"#### Discrimination Threshold","e1f6d15b":"#### Drop High Cardinality Variables","5cbc0124":"### Predict on test \/ hold-out Sample","3f553aab":"### Overview of Selected Dataset","8a86b133":"### Import Dataset","3978c5e7":"### Setup & Run Pycaret\n\n* F1 was selected for optimization due to the imbalance in clases.","4d595b13":"#### Manifold Learning","ab58d35c":"#### Model Hyperparameter","30d81223":"#### Decision Boundary","e605afdf":"#### Target Variable Proportions","1ab25edb":"#### Dimension Learning","a7c64272":"### Evaluate Model","d0ed868a":"#### Calibration Curve","33f1cd16":"### Select Year of Analysis","7982ad8f":"#### Feature Importance","0cdfc7d6":"### Save Model","68810589":"### SHAP (SHapley Additive exPlanations) "}}