{"cell_type":{"c9acd298":"code","2d73a9a4":"code","1c955535":"code","bc688590":"code","d4b1de52":"code","bc116fc7":"code","0a7162f3":"code","f40e4d02":"code","48100eee":"code","34dac46c":"code","1b5598e6":"code","35223a54":"code","4ab7d85a":"code","e0bd355e":"code","997d50ab":"code","f90816a5":"markdown","3d2d0ac2":"markdown","4525c348":"markdown","ae569761":"markdown","a901cb5b":"markdown","15c0f67c":"markdown"},"source":{"c9acd298":"%doctest_mode","2d73a9a4":"# install the nsepy library (one time only)\n!pip install nsepy","1c955535":"# importing all libraries\n\nfrom nsepy import get_history\nfrom datetime import date\nimport pandas as pd","bc688590":"# setting the year and duration of data collection\n\nfrom nsepy.derivatives import get_expiry_date\nexpiry = get_expiry_date(year=2015, month=12)\nexpiry","d4b1de52":"tcs = get_history(symbol='TCS',\n                   start=date(2015,1,1),\n                   end=date(2015,12,31))\ninfy = get_history(symbol='INFY',\n                   start=date(2015,1,1),\n                   end=date(2015,12,31))\nnifty_it = get_history(symbol=\"NIFTYIT\",\n                            start=date(2015,1,1),\n                            end=date(2015,12,31),\n                            index=True)","bc116fc7":"tcs.head()","0a7162f3":"infy.head()","f40e4d02":"nifty_it.head()","48100eee":"#setting index as date\ntcs.insert(0, 'Date',  pd.to_datetime(tcs.index,format='%Y-%m-%d') )","34dac46c":"print(type(tcs.index))\nprint(type(tcs.Date))\ntcs.Date.dt","1b5598e6":"#setting index as date\ninfy.insert(0, 'Date',  pd.to_datetime(infy.index,format='%Y-%m-%d') )","35223a54":"print(type(infy.index))\nprint(type(infy.Date))\ninfy.Date.dt","4ab7d85a":"#setting index as date\nnifty_it.insert(0, 'Date',  pd.to_datetime(nifty_it.index,format='%Y-%m-%d') )","e0bd355e":"print(type(nifty_it.index))\nprint(type(nifty_it.Date))\nnifty_it.Date.dt","997d50ab":"# Uncomment this docstring to export dataframes into csv files.\n\n\"\"\"\ntcs.to_csv('tcs_stock.csv', encoding='utf-8', index=False)\ninfy.to_csv('infy_stock.csv', encoding='utf-8', index=False)\nnifty_it.to_csv('nifty_it_index.csv', encoding='utf-8', index=False)\n\"\"\"","f90816a5":"### Collecting Data for : \"TCS,Infosys, NIFTY_IT\"","3d2d0ac2":"# WebScraper to download dataset from NSEPY api","4525c348":"![home image](https:\/\/www.indianfolk.com\/wp-content\/uploads\/2019\/07\/1_tkp7o9XLl-RE3hjRZZIC8Q.jpeg)","ae569761":"#### Thus, we have created the dataframes for these three stocks. You need to uncomment the below code cell and run it to export these dataframes into 'csv' files.","a901cb5b":"**Note** : you need to Set the internet \"toggle\" button to 'ON' to successfully execute this kernel.\n\n#### Steps:\n- go to kernel settings\n- by default internet togglel buttonn is OFF\n- set this button to ON. wait...\n- Then execute as usual.","15c0f67c":"#### Read more about NSEPy [here.](https:\/\/nsepy.readthedocs.io\/en\/latest\/)"}}