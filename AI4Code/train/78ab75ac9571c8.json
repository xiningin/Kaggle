{"cell_type":{"1976968c":"code","e6dad913":"code","e4e70908":"code","c020e312":"code","149687a0":"code","ac60783b":"code","ae7b3798":"code","a5c4b95e":"code","eb87d935":"code","d3c6e8e7":"code","600733d9":"code","8f4ba92c":"code","3947d556":"code","4c210ece":"code","0b555597":"code","3b7558e4":"code","81d7f2b7":"code","83994d0d":"code","f147bf85":"code","0d5d6b1a":"code","887e8134":"code","6a2439fd":"code","ae647083":"code","40eef5ce":"code","f6139df6":"code","e12c06dc":"code","414b79fb":"code","9d796e05":"code","6249915c":"code","f5785500":"code","f4cbf5fe":"code","bb3a284d":"code","c3a3836a":"code","4045b1a2":"code","ed258d66":"code","2329f83f":"code","d9173801":"code","db43d28e":"code","f1e8e893":"code","7f00ad7e":"code","ef8b2a62":"markdown","6e1c3b91":"markdown","b7eeaedb":"markdown","9936a0b2":"markdown","13070a56":"markdown","c53df92a":"markdown","82eb24df":"markdown"},"source":{"1976968c":"from pandas import Series,DataFrame\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set_style(\"whitegrid\")","e6dad913":"df=pd.read_csv(\"matches.csv\")\ndf1=DataFrame([df[\"city\"],df[\"team1\"],df[\"team2\"],df[\"toss_winner\"],df[\"toss_decision\"],df[\"winner\"],df[\"venue\"]]).T","e4e70908":"df1.head()","c020e312":"def team(name):\n    hy=[]\n    ct=[]\n    t2=[]\n    td=[]\n    w=[]\n    v=[]\n    t1=[]\n    for i in np.arange(len(df1[\"city\"])):\n        if df1[\"team1\"][i]==name:\n            ct=np.append(ct,df1[\"city\"][i])\n            t1=np.append(t1,name)\n            t2=np.append(t2,df1[\"team2\"][i])\n            td=np.append(td,df1[\"toss_decision\"][i])\n            w=np.append(w,df1[\"winner\"][i])\n            v=np.append(v,df1[\"venue\"][i])\n    teamdf=DataFrame([ct,t1,t2,td,w,v],index=[\"city\",\"team1\",\"team2\",\"toss_decision\",\"winner\",\"venue\"]).T\n    return teamdf","149687a0":"team(\"Kolkata Knight Riders\").head()","ac60783b":"def winfrq(team2): \n    kkr=team(team2) \n    pw=0\n    for i in np.arange(len(kkr[\"city\"])):\n        if (kkr[\"winner\"][i]==team2):\n            pw=(pw+1)\n    return pw","ae7b3798":"def px4w(tem):\n    kkr=team(tem)     \n    pw1=winfrq(tem)\n                            #this is the function taking the team and this giving the winnning proobablity for fielding and batting respectively\n    pb=0\n    pf=0\n    for i in np.arange(len(kkr[\"city\"])):\n        if (kkr[\"toss_decision\"][i]==\"field\") & (kkr[\"winner\"][i]==tem):\n             pf=(pf+1)\n        elif (kkr[\"toss_decision\"][i]==\"bat\") & (kkr[\"winner\"][i]==tem):\n             pb=(pb+1)\n    return pb\/pw1,pf\/pw1","a5c4b95e":"(px4w(\"Kolkata Knight Riders\"))               #so this give sthe fdact that the prob of kkr winning field first is more than bat first","eb87d935":"lb=[\"field_first\",\"bat_first\"]\nplt.pie(px4w(\"Kolkata Knight Riders\"),labels=lb)","d3c6e8e7":"plt.pie(px4w(\"Mumbai Indians\"),labels=lb)","600733d9":"plt.pie(px4w(\"Sunrisers Hyderabad\"),labels=lb,shadow=True,radius=1.5,colors=[\"red\",\"green\"])","8f4ba92c":"venues=Series(np.unique(df1[\"venue\"]))","3947d556":"def ven(tem,ground):\n    kkr=team(tem)  \n    pw1=winfrq(tem)\n    pb=0\n    for i in np.arange(len(kkr[\"city\"])):\n          if (kkr[\"venue\"][i]==ground) & (kkr[\"winner\"][i]==tem):\n                pb=pb+1\n    return pb\/pw1 ","4c210ece":"ven(\"Kolkata Knight Riders\",\"M Chinnaswamy Stadium\")\n#ven(\"Sunrisers Hyderabad\",\"Sharjah Cricket Stadium\")","0b555597":"def winven(team):\n    s=[]\n    for i in venues:\n        s=np.append(s,(ven(team,i)))\n    dfven=DataFrame(s,index=venues,columns=[\"prob\"])   \n    return dfven","3b7558e4":"def home(team,venu):\n    ph=(winven(team)[\"prob\"])[venu]\n    pa=1-ph\n    return ph,pa","81d7f2b7":"(winven(\"Kolkata Knight Riders\")[\"prob\"])   ","83994d0d":"(winven(\"Kolkata Knight Riders\")[\"prob\"]).plot(kind=\"bar\",label=True,figsize=(15,5))","f147bf85":"(winven(\"Mumbai Indians\")[\"prob\"]).plot(kind=\"bar\",label=True,figsize=(15,5),alpha=1)","0d5d6b1a":"(winven(\"Mumbai Indians\")[\"prob\"]).plot(kind=\"bar\",label=True,figsize=(15,5),alpha=.8)\n(winven(\"Kolkata Knight Riders\")[\"prob\"]).plot(kind=\"bar\",label=True,figsize=(15,5),alpha=.2)","887e8134":"teams=np.unique(df1[\"team2\"])\nteams","6a2439fd":"def opps(tem,opp):\n    kkr=team(tem)  \n    pw1=winfrq(tem)\n    pb=0\n    for i in np.arange(len(kkr[\"city\"])):\n          if (kkr[\"team2\"][i]==opp) & (kkr[\"winner\"][i]==tem):\n                pb=pb+1\n    return pb\/pw1 ","ae647083":"def oppdis(team):\n    s=[]\n    for i in teams:\n        s=np.append(s,(opps(team,i)))\n    dfwdis=DataFrame(s,index=teams,columns=[\"prob\"]) \n    return dfwdis","40eef5ce":"venues","f6139df6":"oppdis(\"Royal Challengers Bangalore\")","e12c06dc":"oppdis(\"Mumbai Indians\").plot(kind=\"bar\",figsize=(10,5),label=True)","414b79fb":"oppdis(\"Chennai Super Kings\").plot(kind=\"bar\",figsize=(10,5),color=\"yellow\",alpha=1)","9d796e05":"(px4w(\"Kolkata Knight Riders\")[0])*((winven(\"Kolkata Knight Riders\")[\"prob\"])[4])*((oppdis(\"Kolkata Knight Riders\")[\"prob\"])[2])","6249915c":"def conprob(yrtm,opp,ven,toss,in51):\n    if toss==\"field\":\n        toss=0\n    if toss==\"bat\":\n        toss=1\n    if in51==\"yes\":\n        pyrtm=home(yrtm,ven)[0]\n    else:\n        pyrtm=home(yrtm,ven)[1]\n    py=(px4w(yrtm)[toss])*pyrtm*((oppdis(yrtm)[\"prob\"])[opp])\n    if ((winven(yrtm)[\"prob\"])[ven])==0:\n        tem=.000001\n        postpre=(px4w(yrtm)[toss])*tem*((oppdis(yrtm)[\"prob\"])[opp])\n    else :\n        postpre=(px4w(yrtm)[toss])*((winven(yrtm)[\"prob\"])[ven])*((oppdis(yrtm)[\"prob\"])[opp])\n    return py","f5785500":"conprob(\"Kolkata Knight Riders\",\"Sunrisers Hyderabad\",\"Eden Gardens\",\"field\",\"yes\")","f4cbf5fe":"conprob(\"Kolkata Knight Riders\",\"Sunrisers Hyderabad\",\"Wankhede Stadium\",\"bat\",\"no\")","bb3a284d":"in1=input(\" plz enter team1 \", )      \nin2=input(\" plz enter team2 \", )       \nin3=input(\" plz enter venue \", ) \nin51=input(\"is the venue  home groung for team1(yes\/no) \", )\nin61=input(\"is the venue home ground for team2(yes\/no) \",  )\nin4=input(\" plz enter your bat or field first \", )       ","c3a3836a":"if in4==\"field\":\n    in5=\"bat\"\nelif in4==\"bat\":\n    in5=\"field\"\np1=conprob(in1,in2,in3,in4,in51)\np2=conprob(in2,in1,in3,in5,in61)\nif p1>p2:\n    print(in1,\"has more probablity to win in the given conditions\")\nelif p2>p1:\n    print(in2,\"has a greater chance of winning in the given conditions\")\nelif p2==p1:\n    print(\"Both teams\",in1,\"and\",in2,\"has equal chances of winning under the given condtions\")\nelif p1==0 or p2==0 :\n    print(\"Data inadequate\")\nelse :\n     print(\"Data inadequate\")","4045b1a2":"p1","ed258d66":"p2","2329f83f":"currdf=pd.read_csv(\"ipl2019.csv\")","d9173801":"currdf[\"win\"]","db43d28e":"def postpro(tem1):\n    for i in np.arange(len(currdf[\"teams\"])):\n        if (currdf)[\"teams\"][i]==tem1:\n            ppwin=(currdf)[\"win\"][i]\/((currdf)[\"win\"][i]+(currdf)[\"loss\"][i])\n    return ppwin","f1e8e893":"postpro(in1)*p1","7f00ad7e":"postpro(in2)*p2","ef8b2a62":"this plot gives the probability of winning of KKR when batting and Fielding first","6e1c3b91":" this plot gives the probablity of winning of MI against various teams in IPL.","b7eeaedb":"Clerly the teams like KKr and MI do not depend too much on toss while the team like SRH is highly biased towards batting first and winning. This indicates that thay have a good bolwling line up.","9936a0b2":"this plot gives us the probabity of winning of KKR at various venues . ","13070a56":"# here we obtain the prior probablity","c53df92a":"Here we are trying to obtain the winning probablity of an IPL(INDIAN PREMIER LEAGUE ) team based upon a dataset obtained from kaggle. Here we are trying to obtain the probablity based upon the data mining techniques .Thus we try to predict the winner of  each match based upon the prior available inforamtion about the match. ","82eb24df":"# here we are dealing with the posterior probablity"}}