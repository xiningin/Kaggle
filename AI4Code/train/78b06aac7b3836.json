{"cell_type":{"69799414":"code","28b5c5e1":"code","589c0cbd":"code","6f40e8a3":"code","04d452c6":"code","bd617ee9":"code","5fbfdcea":"code","df5f12c9":"code","c5f1c799":"code","1e82c1fe":"code","c93cc6c3":"code","d976b412":"code","4a28fbff":"code","e594fa73":"code","6eca0c99":"code","45d16f13":"code","754d1bed":"code","21c83d0b":"code","97752a97":"code","56aca005":"code","6a4e821c":"code","287903ca":"markdown","ed4d6d06":"markdown","4fc7ad67":"markdown","a3fca116":"markdown","6b0b6d08":"markdown","b7e4d413":"markdown","e83d0e44":"markdown","3fcee35a":"markdown","9c067a94":"markdown","9d3f5abf":"markdown","56456a78":"markdown","bd76c488":"markdown","abf4b067":"markdown","6e105edc":"markdown","4454b5f0":"markdown","2d73bf38":"markdown","22ee6bba":"markdown","7b32b5d1":"markdown","c3947b88":"markdown","2ddae1a7":"markdown","4788454d":"markdown","2f9ef1a3":"markdown","13a64d52":"markdown","4a101433":"markdown","d822a067":"markdown","7ffbc814":"markdown","f6ac6b39":"markdown"},"source":{"69799414":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\ncolor = sns.color_palette()\n\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.express as px\nimport plotly.tools as tls\n\n%matplotlib inline","28b5c5e1":"df = pd.read_csv(\"..\/input\/environment-impact-of-food-production\/Food_Production.csv\")\nprint(df.shape)\n\ndf.head()","589c0cbd":"from collections import Counter\n\nrows = df.shape[0]\ncolumns = df.shape[1]\nprint(\"The train dataset contains {0} rows and {1} columns\".format(rows, columns))\n\nCounter(df.dtypes.values)","6f40e8a3":"df.info()","04d452c6":"df_info= pd.DataFrame({\"Dtype\": df.dtypes, \"Unique\": df.nunique(), \"Missing%\": (df.isnull().sum()\/df.shape[0])*100})\ndf_info","bd617ee9":"plt.figure(figsize=(8,5))\nplt.scatter(range(df.shape[0]), np.sort(df.Total_emissions.values), s= 50)\nplt.xlabel('index', fontsize=12)\nplt.ylabel('Total Emissions', fontsize=12)\nplt.show()","5fbfdcea":"food_df= df.groupby(\"Food product\")['Total_emissions'].sum().reset_index()\n\ntrace = go.Scatter(\n    y = food_df.Total_emissions,\n    x = food_df[\"Food product\"],\n    mode='markers',\n    marker=dict(\n        sizemode = 'diameter',\n        sizeref = 1,\n        size = food_df.Total_emissions*2,\n        color = food_df.Total_emissions,\n        colorscale='Portland',\n        showscale=True\n    )\n)\ndata = [trace]\n\nlayout= go.Layout(\n    autosize= True,\n    title= 'Total Emissions by Foods',\n    hovermode= 'closest',\n     xaxis= dict(\n         ticklen= 5,\n         showgrid=False,\n        zeroline=False,\n        showline=False\n     ),\n    yaxis=dict(\n        title= 'Total Emissions',\n        showgrid=False,\n        zeroline=False,\n        ticklen= 5,\n        gridwidth= 2\n    ),\n    showlegend= False\n)\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig,filename='scatterplot')","df5f12c9":"temp_df= df.sort_values(by= \"Total_emissions\", ascending= True).iloc[:,:8]\n\n\nfig, ax = plt.subplots(figsize=(15,20))\nsns.set()\ntemp_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax)\nplt.xlabel(\"Greenhouse gas Emissions\")\nplt.show()","c5f1c799":"land_df= df.dropna().sort_values(by= 'Land use per 1000kcal (m\u00b2 per 1000kcal)', ascending= True)[['Food product','Land use per 1000kcal (m\u00b2 per 1000kcal)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nland_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"sienna\")\nplt.xlabel(\"Land Use per 100 Kcal\")\nplt.title(\"Land Use by Foods per 1000 Kcal\\n\", size= 20)\nplt.show()","1e82c1fe":"land_df= df.dropna().sort_values(by= 'Land use per kilogram (m\u00b2 per kilogram)', ascending= True)[['Food product',\n       'Land use per kilogram (m\u00b2 per kilogram)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nland_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"sienna\")\nplt.xlabel(\"Land Use per Kg\")\nplt.title(\"Land Use by Foods per Kg \\n\", size= 20)\nplt.show()","c93cc6c3":"water_df= df.dropna().sort_values(by= 'Freshwater withdrawals per 1000kcal (liters per 1000kcal)', ascending= True)[['Food product',\n       'Freshwater withdrawals per 1000kcal (liters per 1000kcal)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nwater_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"lightblue\")\nplt.xlabel(\"Fresh Water Use litres per 1000kcal\")\nplt.title(\"Fresh Water Use by Foods per 1000Kcal \\n\", size= 20)\nplt.show()","d976b412":"water_df= df.dropna().sort_values(by= 'Freshwater withdrawals per kilogram (liters per kilogram)', ascending= True)[['Food product',\n       'Freshwater withdrawals per kilogram (liters per kilogram)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nwater_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"lightblue\")\nplt.xlabel(\"Fresh Water Use litres per Kg\")\nplt.title(\"Fresh Water Use by Foods per Kg \\n\", size= 20)\nplt.show()","4a28fbff":"emission_df= df.dropna().sort_values(by= 'Greenhouse gas emissions per 1000kcal (kgCO\u2082eq per 1000kcal)', ascending= True)[['Food product',\n       'Greenhouse gas emissions per 1000kcal (kgCO\u2082eq per 1000kcal)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nemission_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"darkgreen\")\nplt.xlabel(\"Greenhouse gas emission per 1000kcal\")\nplt.title(\"Greenhouse Gas Emission Per 1000kcal\\n\", size= 20)\nplt.show()","e594fa73":"emission_df= df.dropna().sort_values(by= 'Greenhouse gas emissions per 100g protein (kgCO\u2082eq per 100g protein)', ascending= True)[['Food product',\n       'Greenhouse gas emissions per 100g protein (kgCO\u2082eq per 100g protein)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nemission_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"darkgreen\")\nplt.xlabel(\"Greenhouse gas emission per 100g protein\")\nplt.title(\"Greenhouse Gas Emission Per 100g Protein\\n\", size= 20)\nplt.show()","6eca0c99":"# comparing different foods by scarcity-weighted water required to produce 1 kg food\n\nscarcity_df= df.dropna().sort_values(by= 'Scarcity-weighted water use per kilogram (liters per kilogram)', ascending= True)[['Food product',\n       'Scarcity-weighted water use per kilogram (liters per kilogram)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nscarcity_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax)\nplt.xlabel('Scarcity-weighted water use per kg')\nplt.title('Scarcity-Weighted Water Use Per Kg', size= 20)\nplt.show()","45d16f13":"# comparing different foods by scarcity-weighted water in terms of nutritional values\n\nscarcity_df= df.dropna().sort_values(by= 'Scarcity-weighted water use per 100g protein (liters per 100g protein)', ascending= True)[['Food product',\n       'Scarcity-weighted water use per 100g protein (liters per 100g protein)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\nscarcity_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax)\nplt.xlabel('Scarcity-weighted water use per 100g protein')\nplt.title('Scarcity-weighted water use per 100g protein', size= 20)\nplt.show()","754d1bed":"#comparing eutrophication emissions per 1000kcal\n\neutrophication_df= df.dropna().sort_values(by= 'Eutrophying emissions per 1000kcal (gPO\u2084eq per 1000kcal)', ascending= True)[['Food product',\n       'Eutrophying emissions per 1000kcal (gPO\u2084eq per 1000kcal)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\neutrophication_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"black\")\nplt.xlabel('Eutrophication emissions Per 1000kcal')\nplt.title('Eutrophication Emissions Per 1000kcal \\n', size= 20)\nplt.show()","21c83d0b":"#comparing eutrophication emissions of different foods required to produce 1 kg food\n\neutrophication_df= df.dropna().sort_values(by= 'Eutrophying emissions per kilogram (gPO\u2084eq per kilogram)', ascending= True)[['Food product',\n       'Eutrophying emissions per kilogram (gPO\u2084eq per kilogram)']]\n\nfig, ax = plt.subplots(figsize=(15,10))\nsns.set()\neutrophication_df.set_index('Food product').plot(kind='barh', stacked=True, ax= ax, color= \"black\")\nplt.xlabel('Eutrophication emissions Per Kg')\nplt.title('Eutrophication Emissions Per Kg \\n', size= 20)\nplt.show()","97752a97":"plt.figure(figsize=(10,10))\ntemp_series = df.groupby('Food product')['Land use change'].sum()\nlabels = (np.array(temp_series.index))\nsizes = (np.array((temp_series \/ temp_series.sum())*100))\nplt.pie(sizes, labels=labels, \n        autopct='%1.1f%%', startangle=200)\nplt.title(\"Food distribution by emissions via Transport\", fontsize=20)\nplt.show()","56aca005":"plt.figure(figsize=(10,10))\ntemp_series = df.groupby('Food product')['Transport'].sum()\nlabels = (np.array(temp_series.index))\nsizes = (np.array((temp_series \/ temp_series.sum())*100))\nplt.pie(sizes, labels=labels, \n        autopct='%1.1f%%', startangle=200)\nplt.title(\"Food distribution by emissions via Transport\", fontsize=20)\nplt.show()","6a4e821c":"# To check the relation among different attributes of foods\n\ncorrmat = df.corr(method='pearson')\nf, ax = plt.subplots(figsize=(20, 15))\n\n# Draw the heatmap using seaborn\nsns.heatmap(corrmat, vmax=1., square=True, annot= True,cmap= \"viridis\")\nplt.title(\"Correlation between variables \\n\", fontsize=20)\nplt.show()","287903ca":"### There are many variables which are correlated with each other like Farm and Total emission.","ed4d6d06":"#### 1. Looks like Beef is responsible for most of the greenhouse gas emissions.\n#### 2. Plant based foods are hardly visible in the graph indicating their significanly low carbon footprint.","4fc7ad67":"#### 1. Most of the Fresh water usage in litres per 1000 Kcal of food is done by Fish, Tomatoes and dairy products.\n\n#### 2. Potatoes, root vegetables, coffee and Onions are some of the foods which require very less water to produce.","a3fca116":"### Cheese and Nuts need more water to produce same amount(1 kg) of food than fish which takes more water if we compare them by amount of energy produced.","6b0b6d08":"### 1. Most of the greenhouse gas emissions happen in the farm which is way high for beef farming.\n\n### 2. CO2 emissions from most plant based Foods are much lower than most animal based foods. #Govegan\n\n### 3. Factors such as Transport, distance, retail , packaging are often small compared to importance of food type.","b7e4d413":"## LAND USE \nThe amount of land required to produce food has wide variation depending upon the type of food. Let's compare the land use by foods in terms of amount of food produced per kg and nutrituional values like per 100gm\/1000kcal protein.","e83d0e44":"### Dark chocolate has most carbon footprint in terms of nutritional values(per 100g protein). I am not eating chocolate anymore :D","3fcee35a":"## Please Upvote if you liked!","9c067a94":"### To produce 1kg of food in water scarce areas, nuts and cheese use more water.","9d3f5abf":"## Greenhouse gas emissions across the supply chain\n\n### Stages of supply chain:\n1. Land usage\n2. Farm\n3. Animal Feed \n4. Processing \n5. Transport\n6. Retail\n7. Packaging","56456a78":"## Greenhouse Emissions\n\nA greenhouse gas is a gas that absorbs and emits radiant energy within the thermal infrared range. Greenhouse gases cause the greenhouse effect on planets. The primary greenhouse gases in Earth's atmosphere are water vapor, carbon dioxide, methane, nitrous oxide, and ozone.[WIKI](https:\/\/en.wikipedia.org\/wiki\/Greenhouse_gas)\n\nDifferent Food have different carbon footprint across various stages of it's production and consumption. Let's compare.","bd76c488":"### Coffee does the most eutrophication emission when compared by energy per 1000kcal. Plant based foods are at the bottom.","abf4b067":"### Most of the land is used in the cultivation of beaf, Lamb & Mutton while all the plant based foods are at the bottom.","6e105edc":"### More than 50% of the emissions via land use are shared by beef and dark chocolate. It's a huge contribution in terms of land usage.","4454b5f0":"## Water Usage\n\nWater is a critical resource required for food production and other activities. It's important to know which types of food require more water to produce food. We will also investigate which types of food have high scarcity-weighted water usage meaning more usage of water in areas where water resource is scarce.","2d73bf38":"## Context\n\nWe have developed a complex system of producing more and more animals that use more and more of our resources, while leaving a massive amount of waste, pollution and adverse climate change in their way. This notebook focuses on the environmental impacts of food.","22ee6bba":"### Interestingly, More land is used by lamb & Mutton to produce same amount of food than beef.","7b32b5d1":"### Generally Emissions via transport are uniform across different foods with cane sugar having most share.","c3947b88":"### Animal based foods are most responsible for eutrophication emission to produce 1kg while plant-based foods contibute very less.","2ddae1a7":"### Apples and berries use more water in water scarce areas to produce same amount of nutritional content. It's an important insight to consider in areas where water is scarce.","4788454d":"## Heatmap","2f9ef1a3":"## Eutrophication \nThe runoff of nitrogen and other nutrients from agricultural production systems is a leading contributor to environmental pollution. Let's compare different foods in terms of eutrophication. [Link](https:\/\/en.wikipedia.org\/wiki\/Eutrophication)\n","13a64d52":"### Conclusion:\n\n### There is a common theme in this analysis. Animal based foods use more resources and have higher carbon footprint than plant based diets. Time to think about what you eat. Choose your food wisely and stay healthy!","4a101433":"![image.png](attachment:image.png)","d822a067":"#### 1. Coffee has the most carbon footprint per 1000kcal followed by beef which is not surprising. \n\n#### 2. Animal based foods produce around 50% more emissions than plant based foods like potatoes, apples, groundnuts.","7ffbc814":"## Scarcity-Weighted Water Use\n\nFreshwater scarcity varies across the world: some regions have abundant water resources which does not impact agricultural demands while others experience severe water stress. Scarcity-weighted water use represents freshwater use weighted by local water scarcity.\n","f6ac6b39":"#### Only few of the foods contribute to most of the carbon footprint. Let's investigate which are the guilty ones."}}