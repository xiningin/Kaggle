{"cell_type":{"41d6dd6a":"code","1c3a1339":"code","39cad3a4":"code","4c0cb6a6":"code","d96ab6d5":"code","8b2aa405":"code","9d8b20dd":"code","4b0a0618":"code","7f0f18e5":"code","40413f12":"code","c8205cb4":"code","7a96ede8":"code","69fe6bf3":"code","8ef24b04":"code","77bfc0a2":"code","984c8c59":"code","9fd24fc6":"code","1fb4a24e":"code","5f775c13":"code","d38f531c":"code","94877e8b":"code","8f347208":"code","797d507e":"code","092ceb1c":"markdown","1c7dec43":"markdown","13f058e5":"markdown","66f2b2c0":"markdown","790382eb":"markdown","2da01cfe":"markdown","d871b7a9":"markdown","75a0be3a":"markdown"},"source":{"41d6dd6a":"import os\nimport numpy as np\nimport pandas as pd\nimport random\nimport folium\nfrom folium import plugins\nimport seaborn as sns\nimport cv2\nimport matplotlib.pyplot as plt\nimport IPython\nimport time\nimport plotly.express as px","1c3a1339":"data0=pd.read_csv('..\/input\/earthquake-in-japan\/japan_2019-2021_query.csv')\ndata0","39cad3a4":"print(data0.columns.tolist())","4c0cb6a6":"data0=data0.fillna('N')\ndata1=data0[['time','latitude','longitude','depth','mag','type']]\ndata1[0:5]","d96ab6d5":"data2=pd.DataFrame(columns=data1.columns.tolist())\nfor i,item in enumerate(data1['time']):\n    if item[0:4]=='2021':\n        data2=pd.concat([data2,data1.loc[i:i]])\ndata2=data2.sort_values(['time']).reset_index(drop=True)        ","8b2aa405":"from datetime import datetime as dt\ndata2a=data2.copy()\ndate=[]\nfor item in data2['time']:\n    date+=[dt.strptime(item[0:-5],'%Y-%m-%dT%H:%M:%S')]\ndata2a['date']=date\ndata2a","9d8b20dd":"!rm *","4b0a0618":"#start=dt.strptime('2021-07-01T00:00:00','%Y-%m-%dT%H:%M:%S')\n#end=dt.strptime('2021-08-01T00:00:00','%Y-%m-%dT%H:%M:%S')","7f0f18e5":"data4=data2a[data2a['longitude']<144][data2a['longitude']>140][data2a['latitude']>22][data2a['latitude']<26]\ndata4=data4.reset_index(drop=True)\ndata4","40413f12":"import plotly.express as px\nfig=px.scatter(x=data4['date'],y=data4['mag'])\nfig=px.scatter(data4, x=\"date\", y=\"mag\")\nfig.update_layout(title='Magnituide of earthquake around Fukutoku-Okanoba region in 2021')\nfig.show()","c8205cb4":"#!rm *","7a96ede8":"data5=data4[['latitude','longitude',]]\nfor i in range(len(data4)):\n    item=data4.loc[i:i,'time'].tolist()[0][0:-5]\n    eq_map = folium.Map(location=[24.284667,141.481000],tiles='Stamen Terrain',zoom_start=4.0,min_zoom=2.0)\n    eq_map.add_child(plugins.HeatMap(data5.loc[i:i]))\n    eq_map.save(\".\/\"+str(item)+\".html\")","69fe6bf3":"N=list(range(len(data4)))","8ef24b04":"eq_map = folium.Map(location=[24.284667,141.481000],tiles='Stamen Terrain',zoom_start=4.0,min_zoom=2.0)\neq_map.add_child(plugins.HeatMap(data5.loc[N]))\neq_map","77bfc0a2":"data4[data4['mag']>4.4]","984c8c59":"paths0=[]\nimport os\nfor dirname, _, filenames in os.walk('.\/'):\n    for filename in filenames:\n        if filename[-5:]=='.html':\n            paths0+=[os.path.join(dirname, filename)]","9fd24fc6":"order=[]\nfor item in paths0:\n    order+=[item[:-5].split('\/')[-1]]\npaths1=pd.DataFrame(paths0)\npaths1[1]=order\npaths1.columns=['path','int']\npaths1=paths1.sort_values('int')\npaths2=paths1['path'].tolist()","1fb4a24e":"htmls=[]\nfor item in paths2:\n    htmls+=[\"<iframe width='600' height='400' src='\" +item+ \"' frameborder='0'><\/iframe>\"]","5f775c13":"print(data4.iloc[0:1,3:6])\nIPython.display.HTML(htmls[0])","d38f531c":"print(data4.iloc[3:4,3:6])\nIPython.display.HTML(htmls[3])","94877e8b":"print(data4.iloc[7:8,3:6])\nIPython.display.HTML(htmls[7])","8f347208":"print(data4.iloc[9:10,3:6])\nIPython.display.HTML(htmls[9])","797d507e":"print(data4.iloc[10:11,3:6])\nIPython.display.HTML(htmls[10])","092ceb1c":"## Year\n* **year**=2021","1c7dec43":"### Datasource\n* The data was acquired through [the USGS Earthquake Catalog](https:\/\/earthquake.usgs.gov\/earthquakes\/search\/)\n* cf. [\"Notebook of The 2011 Tohoku Earthquake\"](https:\/\/www.kaggle.com\/stpeteishii\/2011-tohoku-earthquake-on-march-11)","13f058e5":"\n<img src=\"https:\/\/www.eorc.jaxa.jp\/ALOS\/new\/map_fukutoku_120127.jpg\" width=\"100%\">","66f2b2c0":"## Region focused\n* 140 < **Longitude** < 144 \n* 22 < **Latitude** < 26","790382eb":"### All earthquakes occurred 50 km north of the volcano location.\n* The volcano location is at LAT 24.284667, LONG 141.481000. ","2da01cfe":"# **New submarine volcano, Fukutoku-Okanoba related earthquakes in Japan**\n### Ash cloud induced by submarine eruption was observed on 2011-08-13\n+ Volcano Location: LAT 24.284667, LONG 141.481000\n* The activity of submarine volcano has been reported since 1904 here. New islands were formed in 1904, 1914 and 1986, but disappeared.","d871b7a9":"###  5 earthquakes (mag=4.5~5.0) occurred around Fukutoku-Okanoba region in 2021.","75a0be3a":"<img src=\"https:\/\/static.tokyo-np.co.jp\/image\/article\/size1\/f\/8\/c\/2\/f8c2d011261a5a0f5f11587a24133cef_1.jpg\" width=\"100%\">"}}