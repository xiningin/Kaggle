{"cell_type":{"1bf71e49":"code","49055e20":"code","01759778":"code","f047dd17":"code","9dfae214":"code","233b2131":"code","f1ef6ef2":"markdown","8e08a732":"markdown","32a4dbb9":"markdown"},"source":{"1bf71e49":"import re\nimport urllib.parse\nfrom collections import defaultdict\n\nimport pandas as pd\nfrom tqdm import tqdm\n\nimport requests\nfrom bs4 import BeautifulSoup","49055e20":"df = pd.read_csv('..\/input\/covid19-translations\/COVID-19 Translations - TWB Terminologies.tsv', sep='\\t')","01759778":"df.head()","f047dd17":"y = {}\nfor url in tqdm(df['Wikipedia (EN)'].dropna()):\n    if url:\n        bsoup = BeautifulSoup(requests.get(url).content.decode('utf8'))\n        y[url] = bsoup","9dfae214":"z = defaultdict(dict)\n\nfor url in tqdm(y):\n    bsoup = y[url]\n    for li in bsoup.find_all('li', attrs={'class': re.compile('interlanguage-link interwiki-*')}):\n        link = li.find('a').attrs['href']\n        lang = link.split('https:\/\/')[1].split('.')[0]\n        word = urllib.parse.unquote(link.split('\/')[-1])\n        z[url][lang] = word.replace('_', ' ').replace('_', ' ')","233b2131":"z","f1ef6ef2":"# The extended terminology","8e08a732":"# Use the titles from the interlanguage links as translations","32a4dbb9":"# Collect the English Wikipedia Page"}}