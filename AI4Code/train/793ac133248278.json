{"cell_type":{"2d4382c0":"code","0425bc84":"code","98c23206":"code","65bc1622":"code","18047374":"code","77af8e71":"code","50ce9fba":"code","61e2ee54":"code","af3e2eb4":"code","0d4c24da":"code","c1e14c0c":"code","1a59caf6":"code","cdb0a04d":"code","44e66906":"code","14765295":"code","38265731":"code","ac575c7a":"code","a34c2fd3":"code","dc58f9cc":"code","1e0061fe":"code","24bb7815":"code","abb05506":"code","911a0e94":"code","54cbf2ae":"code","68d2a6f4":"code","74527446":"code","980bcd37":"code","37210c98":"code","198741c0":"code","a621a9a6":"code","7f312a14":"code","af4930f4":"code","3afc39b4":"code","32027623":"code","c0b17044":"code","ec406d53":"code","48589dca":"code","dbf2e755":"code","cb0bbbb7":"code","ca3765df":"code","4da5489f":"code","89648c9b":"code","a7ce6bc0":"code","b76c3166":"markdown","9ee6de5f":"markdown","313ca911":"markdown","05339e7e":"markdown","adc1ca5f":"markdown","3142560f":"markdown","7fee6931":"markdown","d0f2d338":"markdown","ef050ab8":"markdown","af2e557b":"markdown","83dd1cb7":"markdown","1ee1d518":"markdown","1addf9d6":"markdown","fc82213b":"markdown","be7ecdb3":"markdown","5edb6bdb":"markdown","3b1c080b":"markdown","4cd76122":"markdown","561c7927":"markdown","c049baf9":"markdown"},"source":{"2d4382c0":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly\nimport seaborn as sns\n%matplotlib inline\nimport plotly.graph_objects as go","0425bc84":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\ndf = pd.read_csv(\"..\/input\/data-analyst-jobs\/DataAnalyst.csv\")\n\npd.options.display.max_columns=None\ndf.head()","98c23206":"df.isnull().sum()","65bc1622":"#In the dataset their are very few null values but their are many rows with value '-1' so we need replace these values with null values first.\ndf.replace({'-1': None},inplace =True, regex= True)      #to replace string values\ndf=df.replace({-1:None})                                 #to replace integer values","18047374":"#Now we will get the actual number of null values\ndf.isnull().sum()","77af8e71":"#Deleting the unnessecary columns\ndf.drop(['Competitors','Easy Apply'], axis=1,inplace=True)    #Most of values in these columns are null\ndf.drop(['Unnamed: 0','Job Description'], axis=1,inplace=True)","50ce9fba":"# First of we will check the number of null values in each row and delete the rows with more then 2 null values\na=df.isnull().sum(axis=1).to_frame('Number of null values')\n\na","61e2ee54":"\nb=[]\nfor i in range(2253):\n    if a['Number of null values'].iloc[i]>2 :\n        b.append(i)\n    i=i+1\n\n# b contains index number of rows with more than two null values      ","af3e2eb4":"#Now we will delete rows with more than two null values\ndf.drop( b, inplace=True)\ndf.shape                           # We have removed around 190 rows","0d4c24da":"for i in range(1912) :\n    if df['Size'].iloc[i]== '1 to 50 employees' :\n        df['Size'].iloc[i]='Early stage startup'\n    elif df['Size'].iloc[i]== '51 to 200 employees' or df['Size'].iloc[i]== '201 to 500 employees' or df['Size'].iloc[i]== 'Unknown' :\n        df['Size'].iloc[i]='Micro Enterprise'\n    elif df['Size'].iloc[i]== '501 to 1000 employees' :\n        df['Size'].iloc[i]='Small Enterprise'\n    elif df['Size'].iloc[i]== '1001 to 5000 employees' :\n        df['Size'].iloc[i]='Medium Enterprise'\n    elif df['Size'].iloc[i]== '5001 to 10000 employees' or df['Size'].iloc[i]== '10000+ employees' :\n        df['Size'].iloc[i]='Large Enterprise'\n    i=i+1","c1e14c0c":"df['Size'].value_counts()","1a59caf6":"df[\"Salary Estimate\"].fillna('$42K-$76K (Glassdoor est.)', inplace = True) ","cdb0a04d":"#Function to find out the mean salary\ndef salary(a) :\n    a = a.replace(\"K\", \"\")\n    a = a.replace(\"$\", \"\")\n    a=a[0:-16]\n    a=a.split(\"-\")\n    b=int(a[0])\n    c=int(a[1])\n    return (b+c)*1000\/2","44e66906":"df['Salary Estimate']=df['Salary Estimate'].apply(salary)\ndf.rename(columns = {'Salary Estimate':'Salary Estimate in USD'}, inplace = True)","14765295":"df[\"Rating\"].fillna(3.7 , inplace = True) ","38265731":"df[\"Type of ownership\"].replace({\"Unknown\": \"Company - Private\"}, inplace=True)","ac575c7a":"df[\"Industry\"].fillna('IT Services', inplace = True)\ndf[\"Sector\"].fillna('Information Technology', inplace = True) ","a34c2fd3":"for i in range(1912):\n    if type(df['Founded'].iloc[i])== int :\n        if df['Founded'].iloc[i]>2000 :\n            df['Founded'].iloc[i]= 'After 2000'\n        elif  1950 <df['Founded'].iloc[i]<=2000 :\n            df['Founded'].iloc[i]= 'Between 1951-2000'\n        elif  1900 <df['Founded'].iloc[i]<=1950 :\n            df['Founded'].iloc[i]= 'Between 1901-1950'\n        elif df['Founded'].iloc[i]<1900 :\n            df['Founded'].iloc[i]= 'Before 1900'\n    else :\n        df['Founded'].iloc[i]=None\n    i=i+1\n    ","dc58f9cc":"df['Founded'].value_counts()","1e0061fe":"fig = px.histogram(df, x=\"Founded\",nbins=20)\nfig.show()","24bb7815":"df[\"Founded\"].fillna(\"unknown\", inplace = True)","abb05506":"for i in range(1912) :\n    if df['Founded'].iloc[i]=='unknown' :\n        if df['Size'].iloc[i]=='Small Enterprise' or df['Size'].iloc[i]=='Micro Enterprise' or df['Size'].iloc[i]=='Early stage startup' :\n            df['Founded'].iloc[i]='After 2000'\n        elif df['Size'].iloc[i]=='Medium Enterprise' or df['Size'].iloc[i]=='Large Enterprise' :\n            df['Founded'].iloc[i]='1951-2000'\n    i=i+1","911a0e94":"#First we will add new column that will contain state abbrevation from the column Location.\ndf['Location_State']=0*df['Rating']\nfor i in range(1912) :\n    df['Location_State'].iloc[i]=df['Location'].iloc[i].split(',')[1]\n    i=i+1\nfor i in range(1912):\n    df['Location_State'].iloc[i]=df['Location_State'].iloc[i].replace(\" \",\"\")\n    i=i+1\n","54cbf2ae":"df.Location_State.unique()","68d2a6f4":"#the file df1 contain the list on state in USA and their abbrivations so we will merge df1 and df to get the name of state from the abbrevation code\nurl='https:\/\/drive.google.com\/file\/d\/1_m3xn7Q0U2melCCSFz-ZX_wQWob85_OJ\/view?usp=sharing'\npath = 'https:\/\/drive.google.com\/uc?export=download&id='+url.split('\/')[-2]\ndf1 = pd.read_excel(path)\ndf1.head()","74527446":"i = pd.merge(df, df1,  on ='Location_State', how ='left')\ndf=i.copy()\n","980bcd37":"df['Location_State']=df['State']\ndf.drop(['State','Latitude','Longitude'], axis=1,inplace=True)\ndf.head()","37210c98":"df.isnull().sum()","198741c0":"df.dropna(axis=0,inplace=True)","a621a9a6":"a=df['Location_State'].value_counts()\na=a.reset_index()\na.columns=['Location_State','Number of openings']\nfig = px.pie(a, values='Number of openings', names='Location_State', title='State wise distribution of Jobs')\nfig.show()","7f312a14":"b=a.copy()\nb.columns=['State','Number of openings']\nc = pd.merge(b, df1,  on ='State', how ='left')\ndf3=c.copy()\ndf3['Location_State']=df3['State']\ndf3.drop(['State'], axis=1,inplace=True)\n\nfig = px.scatter_geo(df3,lat='Latitude',lon='Longitude',color='Location_State',size_max=40,\n                     locationmode = 'USA-states',size='Number of openings',scope='usa',width=1000,height=700)\nfig.show()","af4930f4":"g=df.groupby(['Location_State'],as_index=False)[['Salary Estimate in USD']].mean()\ng.columns=['State','Average salary offered in USD']\nd = pd.merge(g, df1,  on ='State', how ='left')\ndf4=d.copy()\ndf4['Location_State']=df4['State']\ndf4.drop(['State'], axis=1,inplace=True)\nfig = px.scatter_geo(df4,lat='Latitude',lon='Longitude',color='Location_State',size_max=40,\n                     locationmode = 'USA-states',size='Average salary offered in USD',scope='usa',width=1000,height=700)\nfig.show()","3afc39b4":"g=df['Company Name'].value_counts().nlargest(10)\ng=g.reset_index()\ng.columns=['Company Name','Number of openings']\ng","32027623":"fig=px.bar(g,x='Company Name',y='Number of openings',color='Number of openings',labels={\n                     \"Company Name\": \"Company Name\",\n                     \"Number of openings\": \"Number of openings\"\n                     \n                 },\n                 title='Companies with highest number of openings')\nfig.show()","c0b17044":"g1=df.groupby(['Industry'],as_index=False)[['Salary Estimate in USD']].mean()\ng1.columns=['Industry','Average salary offered in USD']\ng1=g1.sort_values(by=['Average salary offered in USD'],ascending=False)\ng1=g1.head(10)\ng1","ec406d53":"fig=px.bar(g1,x='Industry',y='Average salary offered in USD',color='Average salary offered in USD',labels={\n                     \"Industry\": \"Industry\",\n                     \"Average salary offered in USD\": \"Average salary offered in USD\"\n                     \n                 },\n                 title='Top Paying Industries')\nfig.show()","48589dca":"fig = px.box(df,x=\"Salary Estimate in USD\", y=\"Sector\",height=1000,color='Sector')\nfig.show()","dbf2e755":"g2=df['Sector'].value_counts().nlargest(10)\ng2=g2.reset_index()\ng2.columns=['Sector','Number of openings']\ng2","cb0bbbb7":"fig=px.bar(g2,x='Sector',y='Number of openings',color='Number of openings',labels={\n                     \"Sector\": \"Sector\",\n                     \"Number of openings\": \"Number of openings\"\n                     \n                 },\n                 title='Sectors with highest number of openings')\nfig.show()","ca3765df":"g3=df['Founded'].value_counts()\ng3=g3.reset_index()\ng3.columns=['Founded','Number of companies']\nfig = px.pie(g3, values='Number of companies', names='Founded', title='Age wise distribution of companies')\nfig.show()","4da5489f":"g4=df.groupby(['Founded'],as_index=False)[['Salary Estimate in USD']].mean()\ng4.columns=['Founded','Average salary offered in USD']\n\n\nfig=px.bar(g4,x='Founded',y='Average salary offered in USD',color='Average salary offered in USD',labels={\n                     \"Founded\": \"Founded\",\n                     \"Average salary offered in USD\": \"Average salary offered in USD\"\n                     \n                 },\n                 title='Company age Vs Average salary')\nfig.show()","89648c9b":"g5=df.groupby(['Rating'],as_index=False)[['Salary Estimate in USD']].mean()\ng5.columns=['Rating','Average salary offered in USD']\nfig=px.bar(g5,x='Rating',y='Average salary offered in USD',color='Average salary offered in USD',labels={\n                     \"Rating\": \"Rating\",\n                     \"Average salary offered in USD\": \"Average salary offered in USD\"\n                     \n                 },\n                 title='Rating Vs Average salary')\nfig.show()\n#from the bar plot we can see that their is no direct relation between rating and salary offered so we can conclude that the rating depends on other factors too.","a7ce6bc0":"g6=df.groupby(['Size'],as_index=False)[['Salary Estimate in USD']].count()\ng6.columns=['Size','Number of Openings']\nfig = px.pie(g6, values='Number of Openings', names='Size', title='Job openings as per company size')\nfig.show()","b76c3166":"In the 'Type of ownership' 7 values are mentioned as 'unknown' we can replace them with the mode of column","9ee6de5f":"Industries offering highest salary","313ca911":"# Data Visualization\n![Data Visualization](https:\/\/www.incimages.com\/uploaded_files\/image\/1920x1080\/getty_518119836_236936.jpg)","05339e7e":"Sector wise openings","adc1ca5f":"# Please upvote if you like my work","3142560f":"In the rating column their are 33 null values. We will fill them with the mean of rating column that is 3.7","7fee6931":" Companies with highest number of opening","d0f2d338":"Average salary accross various locations","ef050ab8":"In the column named 'Founded' thier are 315 missing values. To get a better insight I have divide the founding year into four categories depending upon the year of establishment.\n1.After 2000\n2.Between 1951-2000\n3.Between 1901-1950\n4.Before 1900\n","af2e557b":"1.State Wise Job Openings","83dd1cb7":"Extraction State from Location Column","1ee1d518":"# * Dealing with the missing data","1addf9d6":"In the Salary Estimate column the values are given in form of range so we will replace the range of salary with the mean of that range","fc82213b":"Plotting the Openings on Map","be7ecdb3":" Age wise distribution of companies","5edb6bdb":"To deal with missing values in 'Founded' column first we will replace the null values with 'unknown'","3b1c080b":" Company Rating Vs Salary","4cd76122":" Company Age Vs Salary","561c7927":"We can classify the companies based upon the number of employees\n1. 1 to 50 employees          -Early stage startup\n2. 51 to 500 employess        -Micro Enterprises\n3. 501 to 1000 employees      -Small Enterprises\n4. 1001 to 5000 employees     -Medium Enterprises\n5. > 5000 employees           -Large  Enterprises.\n\nSo we will replace the columns values as per the above classification also their are 35 companies where the size is unknown so we will keep them under Micro Enterprises as this category has highest count","c049baf9":"Sector wise salary distribution"}}