{"cell_type":{"63de5d54":"code","3056272f":"code","fd4cbe20":"code","60d797c8":"code","894c1426":"code","c6585eac":"code","35b405ba":"code","1b6435fe":"code","afdab6bc":"code","18e12737":"code","689b3841":"code","2410be99":"code","7f7a5d94":"code","6f52225a":"code","211c1cd9":"code","9cd024fc":"code","52b10e49":"code","24ccfde9":"code","0e43d27c":"code","c36a6763":"code","a03fc87b":"code","6106aa5b":"code","6a1dfe57":"code","82551b2d":"code","428c4261":"code","84d6bd51":"code","60269eea":"code","012032c3":"code","69bf08c2":"code","994e293d":"code","8c52e847":"code","b7d7b87a":"code","e2c5bd27":"code","618f3e0a":"code","efe70759":"code","3b65fa81":"code","da82cb49":"code","0bb60074":"code","616c67ab":"code","63d87b7c":"code","aad9b8c4":"code","2eb0a913":"code","88bae5d5":"code","d2ecf777":"code","52022bad":"code","c1c27b97":"code","2ed2bf39":"code","572d7061":"code","9d23fd88":"code","fbad1d69":"code","5bbf56a4":"code","6ac694a2":"code","44ca6310":"code","25dfe710":"code","b4e95191":"code","780b4143":"code","77639f44":"code","31f90e10":"code","7a458b16":"code","6d6304cb":"code","82ef0af9":"code","9ef0a152":"code","9c3c5a7b":"code","54417faf":"code","0f6cf26f":"code","2c38cc27":"code","9936efe8":"code","b2f73d17":"code","d30c8a11":"code","c1239dec":"code","e1141ce4":"code","187e02f5":"code","d336907d":"code","e0da55bf":"code","cf3b5181":"markdown","7e5e4a27":"markdown","333a9ff2":"markdown","694122cc":"markdown","91f936f5":"markdown","fe7dd838":"markdown","654d9881":"markdown","28c8bc54":"markdown","5115ee62":"markdown","7cb598a6":"markdown","7e6c9dc5":"markdown","69e958af":"markdown","8a2e6927":"markdown","7c635adf":"markdown","d419359a":"markdown","60d6b2f6":"markdown","2246d8bf":"markdown"},"source":{"63de5d54":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","3056272f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os","fd4cbe20":"files=os.listdir(r'..\/input\/uber-pickups-in-new-york-city')","60d797c8":"files","894c1426":"files.remove('uber-raw-data-janjune-15.csv')","c6585eac":"apr=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-apr14.csv')\napr_data=pd.DataFrame(apr)\napr_data.head()","35b405ba":"aug=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-aug14.csv')\naug_data=pd.DataFrame(aug)\naug_data.head()","1b6435fe":"july=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-jul14.csv')\njuly_data=pd.DataFrame(july)\njuly_data.head()","afdab6bc":"jun=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-jun14.csv')\njun_data=pd.DataFrame(jun)\njun_data.head()","18e12737":"may=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-may14.csv')\nmay_data=pd.DataFrame(may)\nmay_data.head()","689b3841":"sep=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-sep14.csv')\nsep_data=pd.DataFrame(sep)\nsep_data.head()","2410be99":"final=pd.concat([apr_data,aug_data,july_data,jun_data,may_data,sep_data])\nfinal.shape","7f7a5d94":"df=final.copy()\ndf.head()","6f52225a":"df.dtypes","211c1cd9":"df['Date\/Time']=pd.to_datetime(df['Date\/Time'])","9cd024fc":"df.dtypes","52b10e49":"df.head()","24ccfde9":"df['weekday']=df['Date\/Time'].dt.day_name()","0e43d27c":"df['day']=df['Date\/Time'].dt.day","c36a6763":"df['minute']=df['Date\/Time'].dt.minute","a03fc87b":"df['month']=df['Date\/Time'].dt.month","6106aa5b":"df['hour']=df['Date\/Time'].dt.hour","6a1dfe57":"df.head()","82551b2d":"import plotly.express as px","428c4261":"px.bar(x=df['weekday'].value_counts().index,\n      y=df['weekday'].value_counts())","84d6bd51":"df['weekday'].value_counts()","60269eea":"plt.hist(df['hour'])","012032c3":"df['hour'].unique()","69bf08c2":"df['month'].unique()","994e293d":"plt.figure(figsize=(40,20))\nfor i, month in enumerate(df['month'].unique()):\n    plt.subplot(3,2,i+1)\n    df[df['month']==month]['hour'].hist()","8c52e847":"df.groupby('month')['hour'].count()","b7d7b87a":"px.bar(x=df.groupby('month')['hour'].count().index,\n      y=df.groupby('month')['hour'].count())","e2c5bd27":"plt.figure(figsize=(10,8))\nplt.hist(df['day'],bins=30,rwidth=.8)\nplt.xlabel('date of the month')\nplt.ylabel('total journeys')\nplt.title('journeys by month day')","618f3e0a":"plt.figure(figsize=(20,8))\nfor i, month in enumerate(df['month'].unique(),1):\n    plt.subplot(3,2,i)\n    df_out=df[df['month']==month]\n    plt.hist(df_out['day'])\n    plt.xlabel('days in month')\n    plt.ylabel('total_rides')","efe70759":"ax=sns.pointplot(x='hour',y='Lat',data=df,hue='weekday')\nax.set_title('hoursoffday vs latitude of passenger')","3b65fa81":"base=df.groupby(['Base','month'])['Date\/Time'].count().reset_index()\nbase","da82cb49":"plt.figure(figsize=(10,6))\nsns.lineplot(x='month',y='Date\/Time',hue='Base',data=base)","0bb60074":"def count_rows(rows):\n    return len(rows)","616c67ab":"by_cross=df.groupby(['weekday','hour']).apply(count_rows)\nby_cross","63d87b7c":"pivot=by_cross.unstack()\npivot","aad9b8c4":"plt.figure(figsize=(10,6))\nsns.heatmap(pivot)","2eb0a913":"def heatmap(col1,col2):\n    by_cross=df.groupby([col1,col2]).apply(count_rows)\n    pivot=by_cross.unstack()\n    plt.figure(figsize=(10,6))\n    return sns.heatmap(pivot)","88bae5d5":"heatmap('day','hour')","d2ecf777":"heatmap('month','hour')","52022bad":"plt.plot(df['Lon'],df['Lat'],'r+')","c1c27b97":"plt.figure(figsize=(12,6))\nplt.plot(df['Lon'],df['Lat'],'r+')\nplt.xlim(-74.2,-73.7)\nplt.ylim(40.6,41)","2ed2bf39":"rush=df.groupby(['Lat','Lon'])['weekday'].count().reset_index()\nrush","572d7061":"rush.columns=['Lat','Lon','No of rides']","9d23fd88":"rush","fbad1d69":"uber_15=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-janjune-15.csv')","5bbf56a4":"uber_15.head()","6ac694a2":"uber_15.dtypes","44ca6310":"uber_15['Pickup_date']=pd.to_datetime(uber_15['Pickup_date'])","25dfe710":"uber_15.dtypes","b4e95191":"uber_15['weekday']=uber_15['Pickup_date'].dt.day_name()\nuber_15['day']=uber_15['Pickup_date'].dt.day\nuber_15['minute']=uber_15['Pickup_date'].dt.minute\nuber_15['month']=uber_15['Pickup_date'].dt.month\nuber_15['hour']=uber_15['Pickup_date'].dt.hour","780b4143":"uber_15.head()","77639f44":"uber_15['month'].unique()","31f90e10":"uber_15['month'].value_counts()","7a458b16":"px.bar(x=uber_15['month'].value_counts().index,\n      y=uber_15['month'].value_counts())","6d6304cb":"plt.figure(figsize=(12,6))\nplt.hist(uber_15['hour'],bins=24,rwidth=.8)","82ef0af9":"summary=uber_15.groupby(['weekday','hour'])['Pickup_date'].count().reset_index()","9ef0a152":"summary.head()","9c3c5a7b":"summary.columns=['weekday','hour','counts']\nsummary.head()","54417faf":"plt.figure(figsize=(12,6))\nsns.pointplot(x='hour',y='counts',hue='weekday',data=summary)","0f6cf26f":"uber_foil=pd.read_csv(r'..\/input\/uber-pickups-in-new-york-city\/Uber-Jan-Feb-FOIL.csv')","2c38cc27":"uber_foil.head()","9936efe8":"uber_foil.dtypes","b2f73d17":"uber_foil.shape","d30c8a11":"uber_foil['dispatching_base_number'].unique()","c1239dec":"sns.boxplot(x='dispatching_base_number',y='active_vehicles',data=uber_foil)","e1141ce4":"sns.boxplot(x='dispatching_base_number',y='trips',data=uber_foil)","187e02f5":"uber_foil['trips\/vehicle']=uber_foil['trips']\/uber_foil['active_vehicles']","d336907d":"uber_foil.head()","e0da55bf":"plt.figure(figsize=(12,6))\nuber_foil.set_index('date').groupby(['dispatching_base_number'])['trips\/vehicle'].plot()\nplt.ylabel('Avg trips\/vehicle')\nplt.title('Demand vs supply chart')\nplt.legend()","cf3b5181":"ANALYSE WHICH BASE NUMBER GETS POPULAR BY MONTH NAME","7e5e4a27":"ANALYSIS OF JOURNEY BY HOURS","333a9ff2":"ANALYSING WHICH MONTH HAS MAXIMUM RIDES","694122cc":"ANALYSIS OF JOURNEY BY WEEKDAYS","91f936f5":"ANALYSING RIDES IN EACH MONTH AT EACH HOUR","fe7dd838":"ANALYSING RUSH AT EACH LOCATION","654d9881":"SPLITTING DATA WITH ADDITIONAL COLUMNS","28c8bc54":"ANALYSING RUSH IN NEW YORK CITY DAY AND HOUR WISE","5115ee62":"ANALYSING TOTAL RIDES MONTH WISE","7cb598a6":"pre-processing","7e6c9dc5":"ANALYSING JOURNEY OF EACH DAY","69e958af":"ANALYSE TRIP AT PARTICULAR LATITUDE AND LONGITUDE","8a2e6927":"HEATMAP BETWEEN WEEKDAY AND HOURS","7c635adf":"ANALYSE TRIPS\/VEHICLE INC\/DEC W.R.T DATE ","d419359a":"ANALYSE WHICH BASE NUMBER HAS MOST ACTIVE VEHICLES","60d6b2f6":"ANALYSING RUSH IN EACH HOUR","2246d8bf":"ANALYSE WHICH BASE NUMBER HAS MAXIMUM TRIPS"}}