{"cell_type":{"4ab1a260":"code","3159ff89":"code","7a91ea83":"code","8e5b2bcc":"code","c302d59b":"code","f042449d":"code","c0e6fe14":"code","140e2b16":"code","d9771e64":"code","6cfbcf4a":"code","0c085f7f":"code","e0236503":"code","aa559b80":"code","2e946779":"code","7ad8139c":"code","cb0c2899":"code","e2d3cb3e":"code","f8cb551a":"code","c8467f36":"code","97a6a853":"code","7187415e":"code","588ef8fc":"code","3a70cb0b":"code","4d5ed8b8":"code","3b76b142":"code","d40ba731":"code","5540915c":"code","c7d1d98d":"code","896356be":"code","ea04a587":"code","58652994":"code","6058b52c":"code","a6761ccb":"code","b6aaaef6":"code","1e15a9fc":"code","989250a3":"code","f4254fa1":"code","10eef6e3":"code","4b2a75f1":"code","c4f2dd80":"code","1b66a00a":"code","a8782189":"code","cc34d051":"code","e374cdd2":"code","5b4e3813":"code","b69fc05a":"code","dd4f2b5c":"code","de4338de":"code","b2cbfdc3":"code","a27ac66b":"code","6fbba9f1":"code","75a341b1":"code","69868031":"markdown","8ae5a3a3":"markdown","512459fe":"markdown","6ea491e2":"markdown","6bb4d5e9":"markdown","b9898cc6":"markdown","abda2c21":"markdown","5e115a87":"markdown","7215a05f":"markdown","973818b2":"markdown","77cea6f2":"markdown","6f9a92a9":"markdown","55160939":"markdown","d247605c":"markdown"},"source":{"4ab1a260":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","3159ff89":"SydneyHousePrices = pd.read_csv(\"..\/input\/sydney-house-prices\/SydneyHousePrices.csv\")\ndf = SydneyHousePrices.copy()\ndf","7a91ea83":"df.info()","8e5b2bcc":"df.select_dtypes([\"object\"]).columns","c302d59b":"df[\"suburb\"].value_counts() # mahalle","f042449d":"df[\"propType\"].value_counts()","c0e6fe14":"df.describe().T","140e2b16":"df[\"Date\"] = pd.to_datetime(df[\"Date\"])\ndf[\"Year\"] = df[\"Date\"].dt.year\ndf[\"Month\"] = df[\"Date\"].dt.month\ndf[\"Day\"] = df[\"Date\"].dt.day","d9771e64":"df.head()","6cfbcf4a":"df = df.drop([\"Id\",\"Date\"],axis=1)","0c085f7f":"df","e0236503":"list_name = []\nlist_type = []\nlist_total_value = []\nlist_missing_value = []\nlist_unique_value = []\n\nfor i in df.columns:\n    list_name.append(i)\n    list_type.append(str(df[i].dtype))\n    list_total_value.append(df[i].notnull().sum())\n    list_missing_value.append(df[i].isnull().sum())\n    list_unique_value.append(len(df[i].unique()))\n\n    df_info = pd.DataFrame(data={\"Total_Value\":list_total_value,\"Missing_Value\":list_missing_value,\"Unique_Value\":list_unique_value,\"Type\":list_type},index=list_name)","aa559b80":"df_info","2e946779":"df[\"suburb\"].value_counts()[:15].plot.barh()","7ad8139c":"df[\"propType\"].value_counts().plot.barh()","cb0c2899":"data_num = df.select_dtypes([\"float64\",\"int64\"]).columns","e2d3cb3e":"fig,ax=plt.subplots(nrows=4, ncols=2, figsize=(15,15))\ncount=0\nfor i in range(4):\n    for j in range(2):\n        sns.kdeplot(df[data_num[count]], ax = ax[i][j], shade=True, color=\"#008080\")\n        count+=1","f8cb551a":"sns.countplot(df[\"Month\"])","c8467f36":"plt.figure(figsize=(10,5))\nsns.countplot(df[\"Year\"])","97a6a853":"sns.barplot(x = df[\"Month\"], y = df[\"sellPrice\"], data = df) # Aylara g\u00f6re ev fiyatlar\u0131","7187415e":"plt.figure(figsize=(10,5))\nsns.barplot(x = df[\"Year\"], y = df[\"sellPrice\"], data = df) # Y\u0131llara g\u00f6re ev fiyatlar\u0131","588ef8fc":"heat = pd.pivot_table(data = df,\n                    index = 'Month',\n                    values = 'sellPrice',\n                    columns = 'Year')\nheat.fillna(0, inplace = True)","3a70cb0b":"heat","4d5ed8b8":"plt.figure(figsize=(15,10))\nplt.title('Y\u0131llara ve Aylara Ev Fiyat Ortalamalar\u0131 Is\u0131 Haritas\u0131')\nsns.heatmap(heat)","3b76b142":"import missingno as msno","d40ba731":"msno.bar(df)","5540915c":"msno.heatmap(df)","c7d1d98d":"msno.matrix(df)","896356be":"suburb_siniflandirma = (df.groupby('suburb')['sellPrice'].mean().sort_values(ascending = False))","ea04a587":"suburb_siniflandirma","58652994":"suburb_grup1 = list(suburb_siniflandirma[:137].index)\nsuburb_grup2 = list(suburb_siniflandirma[137:274].index)\nsuburb_grup3 = list(suburb_siniflandirma[274:411].index)\nsuburb_grup4 = list(suburb_siniflandirma[411:548].index)\nsuburb_grup5 = list(suburb_siniflandirma[548:685].index)","6058b52c":"df.replace(suburb_grup1, 0, inplace=True)\ndf.replace(suburb_grup2, 1, inplace=True)\ndf.replace(suburb_grup3, 2, inplace=True)\ndf.replace(suburb_grup4, 3, inplace=True)\ndf.replace(suburb_grup5, 4, inplace=True)","a6761ccb":"df","b6aaaef6":"df = pd.get_dummies(df,columns= [\"suburb\",\"propType\"], prefix= [\"suburb\",\"propType\"])","1e15a9fc":"df","989250a3":"fig, ax =plt.subplots(nrows=5,ncols=1,figsize=(18,16))\nfor i in range(5):\n    sns.boxplot(x = df[data_num[i]],ax=ax[i])\n    count = count+1","f4254fa1":"data_num = list(df.select_dtypes([\"int64\",\"float64\"]).columns)\ndata_num.remove(\"Year\")\ndata_num.remove(\"Day\")\ndata_num.remove(\"Month\")","10eef6e3":"lower_and_upper = {}\n\nfor col in data_num:\n    q1 = df[col].quantile(0.25)\n    q3 = df[col].quantile(0.75)\n    iqr = 1.5*(q3-q1)\n\n    lower_bound = q1-iqr\n    upper_bound = q3+iqr\n\n    lower_and_upper[col] = (lower_bound, upper_bound)\n    df.loc[(df.loc[:,col]<lower_bound),col] = lower_bound * 0.75\n    df.loc[(df.loc[:,col]>upper_bound),col] = upper_bound * 1.25\n\n\nlower_and_upper","4b2a75f1":"fig, ax =plt.subplots(nrows=5,ncols=1,figsize=(18,16))\nfor i in range(5):\n    sns.boxplot(x = df[data_num[i]],ax=ax[i])\n    count = count+1","c4f2dd80":"from sklearn.impute import KNNImputer","1b66a00a":"df.isnull().sum()","a8782189":"knn_imputer = KNNImputer()\ndf[\"bed\"] = knn_imputer.fit_transform(df[[\"bed\"]])\ndf[\"car\"] = knn_imputer.fit_transform(df[[\"car\"]])","cc34d051":"df.corr()[\"sellPrice\"]","e374cdd2":"import statsmodels.api as sm\nfrom sklearn import preprocessing\nfrom sklearn import linear_model\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error, r2_score\nfrom sklearn.model_selection import train_test_split, cross_val_score, cross_val_predict","5b4e3813":"X = df.drop([\"sellPrice\"],axis=1)\ny = df[\"sellPrice\"]","b69fc05a":"X = sm.add_constant(X)","dd4f2b5c":" X_train,X_test,y_train,y_test = train_test_split(X,y,test_size=0.2,random_state=42)","de4338de":"stats_model = sm.OLS(y_train,X_train).fit()","b2cbfdc3":"stats_model.summary()","a27ac66b":"rmse = np.sqrt(mean_squared_error(y_train, stats_model.predict(X_train)))\nrmse","6fbba9f1":"rmse = np.sqrt(mean_squared_error(y_test, stats_model.predict(X_test)))\nrmse","75a341b1":"stats_model.mse_model","69868031":"# 4) suburb ve propType De\u011fi\u015fkenleri i\u00e7in Dummy De\u011fi\u015fken Metodu","8ae5a3a3":"# 5) Ayk\u0131r\u0131 De\u011fer Temizleme(Outlier Cleaning)","512459fe":"# 2) G\u00f6rselle\u015ftirme","6ea491e2":"# 3) suburb De\u011fi\u015fkeninin S\u0131n\u0131fland\u0131r\u0131lmas\u0131","6bb4d5e9":"## 2.1) De\u011fi\u015fkenlerin G\u00f6rselle\u015ftirilmesi","b9898cc6":"## 1.1) Kategorik De\u011fi\u015fkenler","abda2c21":"## 1.3) Kolonlar\u0131n D\u00fczenlenmesi","5e115a87":"# 6) Eksik Verilerin Doldurulmas\u0131","7215a05f":"## 2.2) Missing Value","973818b2":"# 7) Model ","77cea6f2":"# Sydney Ev Fiyatlar\u0131 Tahmini - Lineer Regresyon","6f9a92a9":"## 1.2) Say\u0131sal De\u011fi\u015fkenler","55160939":"# 1) Verinin Ke\u015ffi (EDA)","d247605c":"## Statsmodel"}}