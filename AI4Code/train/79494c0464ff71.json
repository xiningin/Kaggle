{"cell_type":{"30d189a5":"code","e35ea456":"code","01d20b45":"markdown","91985e46":"markdown","aace5640":"markdown","c1ec5b80":"markdown","54ce9fc5":"markdown","e176df04":"markdown"},"source":{"30d189a5":"import plotly.graph_objects as go\n\nfig = go.Figure(data=[go.Sankey(\n    node = dict(pad = 15,thickness = 20,line = dict(color = \"black\", width = 0.5),\n    label = [\"Y1_Base\", \"Y1_Silver\", \"Y1_Gold\", \"Y2_Base\", \"Y2_Silver\", \"Y2_Gold\"],\n    color = ['#a6cee3','#fdbf6f','#fb9a99','#a6cee3','#fdbf6f','#fb9a99']\n    ),\n    link = dict(\n      source = [0, 0,0, 1, 1,1, 2 ,2, 5], # indices correspond to source node wrt to label \n      target = [3, 4, 5, 3, 4, 5, 5,3,0], \n      value = [18, 8, 2, 1, 16, 4 , 8, 1,1],\n      color = ['#a6cee3', '#a6cee3', '#a6cee3', '#fdbf6f','#fdbf6f', '#fdbf6f', '#fb9a99', '#fb9a99','#fb9a99']\n  ))])\n\nfig.update_layout(\n    hovermode = 'x',\n    title=\"Sankey Chart\",\n    font=dict(size = 10, color = 'white'),\n)\n\nfig.show()","e35ea456":"import plotly.graph_objects as go\nimport urllib, json\n\nurl = 'https:\/\/raw.githubusercontent.com\/plotly\/plotly.js\/master\/test\/image\/mocks\/sankey_energy.json'\nresponse = urllib.request.urlopen(url)\ndata = json.loads(response.read())\n\n# override gray link colors with 'source' colors\nopacity = 0.4\n# change 'magenta' to its 'rgba' value to add opacity\ndata['data'][0]['node']['color'] = ['rgba(255,0,255, 0.8)' if color == \"magenta\" else color for color in data['data'][0]['node']['color']]\ndata['data'][0]['link']['color'] = [data['data'][0]['node']['color'][src].replace(\"0.8\", str(opacity))\n                                    for src in data['data'][0]['link']['source']]\n\nfig = go.Figure(data=[go.Sankey(\n    valueformat = \".0f\",\n    valuesuffix = \"TWh\",\n    # Define nodes\n    node = dict(\n      pad = 15,\n      thickness = 15,\n      line = dict(color = \"black\", width = 0.5),\n      label =  data['data'][0]['node']['label'],\n      color =  data['data'][0]['node']['color']\n    ),\n    # Add links\n    link = dict(\n      source =  data['data'][0]['link']['source'],\n      target =  data['data'][0]['link']['target'],\n      value =  data['data'][0]['link']['value'],\n      label =  data['data'][0]['link']['label'],\n      color =  data['data'][0]['link']['color']\n))])\n\nfig.update_layout(title_text=\"Energy forecast for 2050<br>Source: Department of Energy & Climate Change, Tom Counsell via <a href='https:\/\/bost.ocks.org\/mike\/sankey\/'>Mike Bostock<\/a>\",\n                  font_size=10)\nfig.show()","01d20b45":"So,Sankey Chart is easily one of the best charts that can be used to represent the flow of data from the 'Source' node to the 'Target' node and I will strongly recommend everyone to try it once!","91985e46":"Sankey charts are like flow diagrams wherein the width represents the quantity of the flow. I have plotted a very basic chart which can show the flow of customers from Base,Silver and Gold tiers in the first year and the second year. Also, I have plotted the graphs using plotly, so do hover over the data to gain better insights! :D\n","aace5640":"Thanks for reading, do let me know your feedbacks, would definitely mean a lot! ","c1ec5b80":"Visualization data is a very crucial part of the exploratory data analysis process. In this series, I am going to plot some immensely useful, yet lesser heard of plots.Starting with, \n# **Sankey Charts**","54ce9fc5":"Sankey charts are immensely useful when we are supposed to represent large amount of data with lots of inter correlation amongst the values (nodes)\nHere, I have taken reference from [Plotly's website](https:\/\/plotly.com\/python\/sankey-diagram\/) to demonstrate a use case for Sankey Chart!","e176df04":"# P.S. They are made using Plotly, so they are really interactive. You can change the positions of the nodes, hover over the links for more information as well!"}}