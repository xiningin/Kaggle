{"cell_type":{"f4c53a59":"code","42f8a587":"code","704cf5ab":"code","f5b6ec71":"code","7687ded8":"code","7481307d":"code","35c3f6d7":"code","10617c5f":"code","8fc003e9":"code","d72359ae":"code","cd9fe51e":"code","d35fcb23":"code","cbdf5874":"code","0b09f390":"code","e4680378":"code","263160ee":"code","1fab4a7c":"code","dbcbf1af":"code","70d25b03":"code","ea36f639":"code","e19144b2":"code","438e401c":"code","bbc2e64c":"code","00b82074":"code","72d0d689":"code","cb8e4e62":"code","97c9f3e9":"code","cee40034":"code","ebcf463c":"code","4f519c2c":"code","41a105c2":"code","f3519241":"code","27d586e8":"code","6a3511e6":"markdown","60a45f70":"markdown","ed176322":"markdown","185b900f":"markdown","1b228fe7":"markdown","55e4f1bf":"markdown","b7779302":"markdown","aa61b673":"markdown","61d4e89b":"markdown","c8ff4c3c":"markdown","1b15c320":"markdown"},"source":{"f4c53a59":"import seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport category_encoders as ce\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression","42f8a587":"#let us load the dataframe \ndf=pd.read_csv(\"..\/input\/cartrade-used-cars-data\/CarTrade.csv\")\ndf.head()","704cf5ab":"#Checking the shape of the dataframe\ndf.shape","f5b6ec71":"#Let's see how many unique car models do we have\nlen(df['Car_Model'].unique())","7687ded8":"df.Car_Fuel.unique()","7481307d":"#Let's check the statistics of the car price\nprint(\"The maximum car price is \",df['Car_Price'].max())\nprint(\"The minimum car price is \",df['Car_Price'].min())\n","35c3f6d7":"df.info()","10617c5f":"df['Car_Kms']=df['Car_Kms'].str.split(' ').str[0]#removing the KM from column\ndf['Car_Kms']=df['Car_Kms'].str.replace(',','')#replacing the ',' \ndf['Car_Kms']=pd.to_numeric(df['Car_Kms'])#converting the bject to int","8fc003e9":"df['Car_Price']=df['Car_Price'].str.replace(',','')\ndf['Car_Price']=pd.to_numeric(df['Car_Price'])","d72359ae":"df.info()","cd9fe51e":"df.head()","d35fcb23":"len(df.Car_Location.unique())","cbdf5874":"#Let' convert the prices to lakhs\ndf['Car_Price']=df['Car_Price']\/100000\ndf.head()","0b09f390":"plt.figure(figsize=(12,8))\nplt.subplot(1,2,1)\nsns.histplot(x='Car_Price',data=df)\nplt.title('Hisplot')\n\nplt.subplot(1,2,2)\nsns.boxplot(x='Car_Price',data=df)\nplt.title('Boxplot')","e4680378":"df=df[df['Car_Price']<120]\n#We are removing the rows with car price greater than 120 lakhs as they can be treated as outliers and\n#our model doesn't generalize very well on them","263160ee":"df.shape","1fab4a7c":"#Let's see how many vehicles uses diffrent kind of fuel\nsns.countplot(data=df,x='Car_Fuel')","dbcbf1af":"df['Car_Fuel'].value_counts()","70d25b03":"df['Car_Location'].unique()","ea36f639":"#We are removing the delivary available from car location\ndf['Car_Location']=df['Car_Location'].str.split(\"\\n\").str[0]","e19144b2":"plt.figure(figsize=(12,8))\nsns.histplot(data=df,x='Car_Price',hue='Car_Fuel')","438e401c":"#sns.histplot(data=df,x=\"Car_Kms\")\n\nplt.figure(figsize=(12,8))\nplt.subplot(1,2,1)\nsns.histplot(x='Car_Kms',data=df)\nplt.title('Hisplot')\n\nplt.subplot(1,2,2)\nsns.boxplot(x='Car_Kms',data=df)\nplt.title('Boxplot')","bbc2e64c":"df[df.Car_Kms==df.Car_Kms.max()]","00b82074":"df1=df.drop_duplicates(keep='first')\ndf1.shape","72d0d689":"#we are doing target encoding for car models\nencoder=ce.TargetEncoder()\nvals=encoder.fit_transform(df1['Car_Model'],df1['Car_Price'],inplace=True)\nvals","cb8e4e62":"df1['Car_Model']=vals","97c9f3e9":"#DDoing one hot encoding\ndef create_dummies(column_name, dataframe):\n    temp = pd.get_dummies(dataframe[column_name],drop_first=True)\n    dataframe = pd.concat([dataframe,temp],axis=1)\n    dataframe.drop([column_name],inplace=True,axis=1)\n    return dataframe\ndf1 = create_dummies(\"Car_Fuel\",df1)\ndf1= create_dummies(\"Car_Location\",df1)\ndf1.head()","cee40034":"df1.info()","ebcf463c":"df1.head()","4f519c2c":"x=df1.drop(columns=['Car_Price'])\ny=df1.Car_Price","41a105c2":"#Splitiing our data\nx_train,x_test,y_train,y_test=train_test_split(x,y,random_state=42,test_size=0.2)","f3519241":"model=LinearRegression()\nmodel.fit(x_train,y_train)","27d586e8":"#We don't have enoughdat its just 1400 rows after dropping the duplicates so our models is not generalizing well\n#Solution is to get more data\nmodel.score(x_train,y_train)","6a3511e6":"Succesfully converted  from object to int","60a45f70":"****If u found this Notebook helpfull then please upvote","ed176322":"## Data cleaning","185b900f":"There are a lot of duplicate values so we need to remove them","1b228fe7":"As the cost increases the count of petrol vehicles decreases so it's evident that the petrol is used in cheap vehicles","55e4f1bf":"From the above to plots we can say that most of the cars lie between 0 to 50 Lakhs and we have some costly cars which are more than 1 crore","b7779302":"## Data Visualization","aa61b673":"There are no null values but the distance and price datatype is object\ud83e\udd14","61d4e89b":"OMG we have 854 unique car models \ud83e\udd26\u200d\u2642\ufe0f","c8ff4c3c":"## Let's import the libraries","1b15c320":"It's seems we have 5 diffrent types of fuels"}}