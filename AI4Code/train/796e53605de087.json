{"cell_type":{"adbc2d59":"code","f8df48e8":"code","d9fd238c":"code","ccc3d041":"code","8ec06ac6":"code","33f09099":"code","384bde6e":"code","0f7362da":"code","ae568ca8":"code","36605b76":"code","d71307a1":"code","efecea53":"code","59b13f98":"code","0de5e8dd":"code","25853924":"code","0c740035":"code","b3a0038a":"code","9f06cdc0":"code","4ef484dc":"code","082c4689":"code","9c253e4b":"code","47bf34e9":"code","de40f263":"code","21af9032":"code","4ea0c2dd":"code","a997ea05":"code","a7010b93":"code","46dd6b8f":"code","04b5a5b5":"code","761d6593":"code","ac1ffa7a":"code","1d8d623a":"code","5d0c1feb":"code","08a9d29a":"code","9713798d":"code","05e257ed":"code","73d9f51a":"code","c6191ba7":"code","326f5b77":"code","005c8c9b":"code","8a9dfdd5":"markdown","69c9f4c2":"markdown","26d6e498":"markdown"},"source":{"adbc2d59":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns \n\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","f8df48e8":"#data.head()","d9fd238c":"data = pd.read_csv(\"..\/input\/international-football-results-from-1872-to-2017\/results.csv\")\ndata.info()","ccc3d041":"data[[\"home_team\",\"away_team\",\"tournament\",\"city\",\"country\"]] = data[[\"home_team\",\"away_team\",\"tournament\",\"city\",\"country\"]].apply(lambda x : x.astype(\"category\"))\ndata[\"date\"] = pd.to_datetime(data[\"date\"])","8ec06ac6":"data.info()","33f09099":"tour_kind = list(data.tournament.unique())","384bde6e":"tour_goal_rate = []\nfor i in tour_kind:\n    t = data[data[\"tournament\"] == i]\n    rate = (sum(t.home_score)+sum(t.away_score))\/len(t)\n    tour_goal_rate.append(rate)\n\ndictionary = {\"tour_goal_rate\" : tour_goal_rate, \"tour_kind\" : tour_kind}\nnew_data = pd.DataFrame(dictionary)\nnew_index  = (new_data[\"tour_goal_rate\"].sort_values(ascending = False)).index.values\nsorted_data = new_data.reindex(new_index)","0f7362da":"sorted_data.index","ae568ca8":"plt.figure(figsize = (25,10))\nsns.barplot(x = sorted_data[\"tour_kind\"],y = sorted_data[\"tour_goal_rate\"])\nplt.xticks(rotation = 90)\nplt.xlabel = (\"soccer tour kind\")\nplt.ylabel(\"soccer tour goal rate\")\nplt.title(\"goal rate and tournament kind\")\nplt.show()","36605b76":"data.head()\n\nc_list = list(data.country.unique())\nc_list","d71307a1":"total_goal = []\nfor i in c_list:\n    c = data[data[\"country\"]==i]\n    sum_goal  =  sum(c.home_score)+sum(c.away_score)\n    total_goal.append(sum_goal)\n    \n","efecea53":"dictionary = {\"country_list\" : c_list, \"total_goall\" : total_goal}\nnew_data = pd.DataFrame(dictionary)\nnew_index = (new_data[\"total_goall\"].sort_values(ascending = True)).index.values\nsorted_data2 = new_data.reindex(new_index)","59b13f98":"x = sorted_data2[\"country_list\"][:15]\ny = sorted_data2[\"total_goall\"][:15]\nlen(x)","0de5e8dd":"plt.figure(figsize = (15,10))\nsns.barplot(x = x,y=y,palette=sns.cubehelix_palette(len(x)))\nplt.xticks(rotation =90 )\nplt.title(\"total goal each country\")\nplt.show()","25853924":"data.head()","0c740035":"home_tlist = list(data.home_team.unique())[:20]\nhome = []\naway = []\nfor i in home_tlist:\n    tl = data[data.home_team == i]\n    count_home = sum(tl.home_score)\/len(tl)\n    count_away = sum(tl.away_score)\/len(tl)\n    home.append(count_home)\n    away.append(count_away)","b3a0038a":"s\u00f6zl\u00fck = {\"home_goal\":home,\"team_list\":home_tlist}\ns\u00f6zl\u00fck2 = {\"away_goal\":away,\"team_list\":home_tlist}\nn_data1 = pd.DataFrame(s\u00f6zl\u00fck)\nn_data2 = pd.DataFrame(s\u00f6zl\u00fck2)\nindex1 = n_data1[\"home_goal\"].sort_values(ascending = False).index.values\nindex2 = n_data2[\"away_goal\"].sort_values(ascending = False).index.values\nsorted_data3 = n_data1.reindex(index1)\nsorted_data4 = n_data2.reindex(index2)","9f06cdc0":"f,ax = plt.subplots(figsize = (10,10))\nsns.barplot(x =sorted_data3.home_goal,y = sorted_data3.team_list,color = \"pink\",alpha = .5,label = \"home_score_rate\")\nsns.barplot(x = sorted_data4.away_goal,y =sorted_data4.team_list,color = \"purple\",alpha = .6,label = \"away_score_rate\")\nplt.xticks(rotation = 90)\nax.legend(loc = \"upper_right\",frameon = True)\nax.set(xlabel = \"country\",ylabel = \"rate\",title = \"country home and away goal rate\")","4ef484dc":"f,ax = plt.subplots(figsize = (10,10))\nsns.pointplot(x = 'team_list',y = 'away_goal',data = sorted_data4,color = \"green\",alpha = .6)\nsns.pointplot(x = 'team_list',y = 'home_goal',data = sorted_data3,color = \"blue\",alpha = .7)\nplt.xticks(rotation = 90)\nplt.text(1,1,\"home goal rate\",color = \"green\",fontsize  = 13,style = \"italic\")\nplt.text(1,2,\"away goal rate\",color = \"blue\",fontsize = 13, style = \"italic\")\nplt.grid()\nplt.show()\n","082c4689":"sns.jointplot(sorted_data3[\"home_goal\"],sorted_data4[\"away_goal\"],kind = \"kde\",size = 8,alpha = .3,color = \"purple\")\nplt.savefig(\"home and awy goal\")\nplt.show()","9c253e4b":"data.head()\ndata.country.dropna()\nlabels = data.country.value_counts()[:6].index\nexplode = [0,0,0,0,0,0]\nsizes = data.country.value_counts()[:6].values\ncolors = [\"pink\",\"purple\",\"blue\",\"lime\",\"red\",\"green\"]\n","47bf34e9":"plt.figure(figsize = (7,7))\nplt.pie(sizes,explode = explode ,labels = labels,colors = colors,autopct=\"%1.1f%%\")\nplt.title(\"first six country in tournament \",color = \"red\",fontsize = 15)\nplt.show()","de40f263":"sorted_data3 \nsorted_data4","21af9032":"data5 = pd.concat([sorted_data3,sorted_data4[\"away_goal\"]],axis = 1)","4ea0c2dd":"data5.index = data5.team_list","a997ea05":"#data5.drop(columns = [\"team_list\"],inplace = True)","a7010b93":"sns.lmplot(x = \"home_goal\",y = \"away_goal\",data = data5)\ndata5.corr()","46dd6b8f":"sns.kdeplot(data5.home_goal,data5.away_goal,shade = True , cut = 4)\nplt.show()","04b5a5b5":"pal = sns.palplot(sns.color_palette(\"Set1\"))","761d6593":"\nsns.violinplot(data = data5,palette =pal , inner = \"points\",width = .6,saturation = 170)\nplt.show()","ac1ffa7a":"f,ax = plt.subplots(figsize = (5,5))\nsns.heatmap(data5.corr(),annot = True,linewidths= .6,linecolor=\"orange\",fmt = \".1f\",ax=ax)\nplt.show()","1d8d623a":"sns.pairplot(data5)","5d0c1feb":"sns.countplot(data.neutral)","08a9d29a":"data.head()","9713798d":"total = data.home_score+data.away_score\ndf = pd.DataFrame({\"total_goal\":total})\ntop_under = [\"top\" if i>=3 else \"under\" for i in df.total_goal]","05e257ed":"\ntop_under = pd.DataFrame({\"top\":top_under})\nsns.countplot(x = top_under.top)\nplt.show()\n","73d9f51a":"goal = [\"yes_goal\" if i >= 1 else \"no_goal\" for i in data.home_score]\nhome_team = pd.DataFrame({\"goal\":goal})","c6191ba7":"goal1 = [\"yes_goal\" if i >= 1 else \"no_goal\" for i in data.away_score]\naway_team = pd.DataFrame({\"goal1\":goal1})","326f5b77":"plt.subplots(figsize = (5,5))\nsns.countplot(away_team.goal1)\nsns.countplot(home_team.goal)","005c8c9b":"sns.swarmplot(x = data5.index,y = data5.home_goal)\nplt.xticks(rotation = 90)","8a9dfdd5":"dic_t = {\"tournament_kind\" : tourn_list,\"goal_rate\" : fr_goal_rate}\nnew_data = pd.DataFrame(dic_t)","69c9f4c2":"tourn_list =list(data_friend[\"tournament\"].unique())\nfr_goal_rate = list()\nfor i in tourn_list:\n    t = data_friend[data_friend[\"tournament\"] == i]\n    goal_rate = (sum(t.home_score)+sum(t.away_score))\/len(t)\n    fr_goal_rate.append(goal_rate)","26d6e498":"data.head()\n\ndata_friend = data[data[\"tournament\"] == \"Friendly\"][1300:1320]\n"}}