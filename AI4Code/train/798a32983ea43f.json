{"cell_type":{"e96376cf":"code","59040ab2":"code","90b3b1bb":"code","cef543ca":"code","9e784fd4":"code","21d99926":"code","bee34254":"code","bc5d910f":"code","0e7269a2":"code","3d760079":"code","e095dd4f":"code","b25166cb":"code","dfb23818":"code","bc76c666":"code","8db21bff":"code","29585a7f":"code","d2c07c34":"code","74be0fef":"code","f0c78192":"markdown","cf43cc89":"markdown","c82a727a":"markdown","11e11764":"markdown","f5ef0bc6":"markdown","88dea258":"markdown","6492dcf3":"markdown","6ea18ab9":"markdown","f572343f":"markdown","68bdc4e7":"markdown","66f31db6":"markdown","ca5ec21e":"markdown","93ccf156":"markdown","9f1be19f":"markdown","901de383":"markdown","4f1e881f":"markdown","c7388ed3":"markdown","2b8d65d1":"markdown","01077253":"markdown"},"source":{"e96376cf":"# Import the required packages\nimport sqlite3\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Connecting to database.sqlite file\nconn = sqlite3.connect(\"..\/input\/sf-salaries\/database.sqlite\")\n#Function to display the query result as a dataframe\ndef query_result(query):\n    cursor = conn.cursor()#creating a cursor object to run the query\n    cursor.execute(query) #execute the query pass as an argument to this function\n    df = pd.DataFrame(cursor.fetchall())#fetching the results (raw result is a list) and converting it to dataframe\n    #SQLite query result doesn't return column names of table. So we get the column names from the description of cursor \n    df.columns = [col_name[0] for col_name in cursor.description]\n    cursor.close()\n    return df","59040ab2":"all_data = query_result(\"SELECT * FROM Salaries;\")\nall_data","90b3b1bb":"df = query_result(\"SELECT EmployeeName, JobTitle, BasePay, OvertimePay, OtherPay, Benefits, TotalPay, TotalPayBenefits, Year, Notes, Agency, Status FROM Salaries;\")\ndf","cef543ca":"# Remove Not provided and 0.00 from the data\ndf <- query_result(\"\")\ndf","9e784fd4":"# Identify how many unique job titles\ndf <- query_result(\"\")\ndf","21d99926":"df <- query_result(\"\")\ndf","bee34254":"df <- query_result(\"\")\ndf","bc5d910f":"df <- query_result(\"\")\ndf","0e7269a2":"df <- query_result(\"\")\ndf","3d760079":"df <- query_result(\"\")\ndf","e095dd4f":"df <- query_result(\"\")\ndf","b25166cb":"# Run this and don't change anything.\nall_data = query_result(\"SELECT EmployeeName, JobTitle, BasePay, OvertimePay, OtherPay, Benefits, TotalPay, TotalPayBenefits, Year, Notes, Agency, Status FROM Salaries;\")","dfb23818":"# Enter code here\nclean_data = ","bc76c666":"# Enter code here","8db21bff":"# Enter code here.","29585a7f":"# Enter code here","d2c07c34":"# Enter code here","74be0fef":"# Enter code here.","f0c78192":"### Step 3: Select the columns you think are important to your analysis.\nI will answer this one for you this time. The remaining question you will need to work out on your own.\nHere, I choose all the columns except id.","cf43cc89":"### Step 4: Identify all unique job titles","c82a727a":"### Step 5: Identify how many unique job titles are there\nHint: Use distinct","11e11764":"### Step 2: Identify EmployeeName that hold multiple positions over the 4 years. Use it on the clean_data variable assigned in Step 1, where you cleaned off all the redundant data.","f5ef0bc6":"### Step 7: Identify how many times the word \"MACHINE\" appears in the JobTitle column.\nHint: Use Like","88dea258":"### Step 9: Identify the top 10 jobs with the highest base pay. Plot them using a barplot.","6492dcf3":"### Step 10: Identify the top 10 jobs with the lowest base pay. Plot them using a barplot.","6ea18ab9":"### Step 6: Identify the top 10 best paying jobs (based on base pay only)","f572343f":"### Step 6: Identify how many jobs appear each year from 2011 to 2014. Generate a line plot using Matplotlib to show the trend. Explain what kind of trend are we observing.\nHint: Use group by and count","68bdc4e7":"### Step 2: Now let's run some SQL query!\nAs you can see below we select all the columns from the Salaries table. Usually what happen is you will import the required data from the database into your IDE (Rstudio, Pycharm, Jupyter notebook, etc) and use Python or R to make some data manipulation. Some may ask if we can just directly import **ALL** the data from SQL database and do the required cleaning using Python or R. Yes you can do that if **your data size is small** and even so it's a bad practice. Ideally, you want to only import the required data you need in SQL and **if possible, do the required filtering and cleaning on SQL** before importing them to your IDE.  ","66f31db6":"### Step 1: Lets get started with some data manipulation using pandas. Use it on the all_data variable as assigned above.\nRemove rows with \"Not provided\" and 0.00 using pandas solution","ca5ec21e":"### Step 5: Identify the top 10 common jobs ","93ccf156":"## Pandas data manipulation\nHere, for convinient sake, we will import all the column except for ID in the SQL database and assign it to a variable call, all_data.","9f1be19f":"### Step 11: Identify the rows with the terms \"junior\", \"senior\" and \"chief\" and compare their average salary using a boxplot.","901de383":"### Step 1: Run the code below to import the required packages and functions to run SQL queries.","4f1e881f":"### Step 4: Get rid of those rows with \"Not provided\" and 0.00 data using SQL\nHere, use a where clause.","c7388ed3":"# SQL and Python practice\n\n## First off: Congrats on the job interview! \ud83c\udf89\ud83c\udf8a\n\n![](https:\/\/i.gifer.com\/7WZ0.gif)\n\nIn this tutorial, we will put our practice on all the basics SQL questions before diving into data manipulation using pandas in python. It's alright if you can't answer any of the questions (including questions in the upcoming interview). What's important is the ability to convey your thoughts and ideas to the interviewer and let them understand your thought process. Company will hire someone who can convey their ideas across complex topics so don't worry about not understanding some questions! ","2b8d65d1":"### Step 8: Calculate the average total pay for each year and evaluate the trend using a line plot.","01077253":"### Step 3: Identify EmployeeName that only hold a single position over the 4 years"}}