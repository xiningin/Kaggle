{"cell_type":{"687ff06d":"code","78d92cb9":"code","91cf67db":"code","fd7df081":"code","34b8e9b3":"code","7cbcac96":"code","dab91dde":"code","cb44e21f":"code","ac8b42a9":"code","8d9236a7":"code","38245f80":"code","a30978cc":"code","ba38d892":"code","dfe91b6d":"code","e05e94fb":"code","98387932":"code","8b0ff4ed":"code","b6c70820":"code","bfd12844":"code","66424aef":"code","6ce9b83b":"code","660c76a7":"code","44616164":"code","0802d7df":"code","b66e3ec0":"code","45ca4890":"code","b07d5716":"code","c619d750":"code","eade9565":"code","623f54a5":"code","0a4ecb4c":"code","6ec7ff0d":"code","cb11e634":"code","ca1846a8":"code","fe5c1bfc":"code","8acd4d71":"code","e9e21607":"code","90dec1bf":"code","5f860486":"code","7450fb7c":"markdown","1fabe8d4":"markdown","1ebdb430":"markdown"},"source":{"687ff06d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.metrics.pairwise import cosine_similarity\n%matplotlib inline\nsns.set_style('darkgrid')","78d92cb9":"data = pd.read_csv('..\/input\/indian-food-101\/indian_food.csv')","91cf67db":"data.head()","fd7df081":"data.isna().sum()","34b8e9b3":"# Null values are indicated by -1 so null values will be converted to -1 for uniformity\n\ndata.loc[data['region'].isna(),'region']='-1'","7cbcac96":"for col in data.columns:\n    print(col,' : ',len(data[data[col]==-1].index))","dab91dde":"data.describe()","cb44e21f":"data.nunique()","ac8b42a9":"# Percentage of NULL Values. Here, -1 indicates null values and '-1' shows null values in region column.\n\nfor col in data.columns[:-1]:\n    print(col,' : ',round(len(data[data[col]==-1].index)\/len(data)*100,2))\nprint('region : ',round(len(data[data['region']=='-1'].index)\/len(data)*100,2))","8d9236a7":"# We cant add the 'prep_time' and 'cook_time' columns to chaeck the total time as \n# there are different amount of null values in both columns.","38245f80":"plt.figure(figsize=(8,6))\nsns.countplot(data['diet'])\nplt.title('DIET Countplot')\nplt.show()","a30978cc":"data['flavor_profile'].value_counts().plot(kind='bar',figsize=(8,6))\nplt.title('FLAVOR PROFILE Countplot')\nplt.show()","ba38d892":"data['course'].value_counts().plot(kind='bar',figsize=(8,6))\nplt.title('COURSE Countplot')\nplt.show()","dfe91b6d":"data['region'].value_counts().plot(kind='bar',figsize=(12,6))\nplt.title('REGION-WISE Countplot')\nplt.show()","e05e94fb":"plt.figure(figsize=(20,20))\nplt.subplot(2,2,1)\nplt.pie(data['diet'].value_counts(),autopct='%1.2f%%',labels=data['diet'].unique())\nplt.title('Diet Type Distribution Percentage')\nplt.subplot(2,2,2)\nplt.pie(data['flavor_profile'].value_counts(),autopct='%1.2f%%',labels=data['flavor_profile'].unique())\nplt.title('Flavor Profile Distribution Percentage')\nplt.subplot(2,2,3)\nplt.pie(data['course'].value_counts(),autopct='%1.2f%%',labels=data['course'].unique())\nplt.title('Course Distribution Percentage')\nplt.subplot(2,2,4)\nplt.pie(data['region'].value_counts(),autopct='%1.2f%%',labels=data['region'].unique())\nplt.title('Region Distribution Percentage')\nplt.show()","98387932":"data['state'].value_counts().plot(kind='bar',figsize=(12,6))\nplt.title('STATE-WISE Countplot')\nplt.show()","8b0ff4ed":"plt.figure(figsize=(15,15))\nplt.pie(data['state'].value_counts(),autopct='%1.2f%%',labels=data['state'].unique())\nplt.title('State Percentage')\nplt.show()","b6c70820":"data['num_ingd'] = data.ingredients.apply(lambda x : len(x.split(', ')))","bfd12844":"plt.figure(figsize=(12,6))\nsns.distplot(data['prep_time'])\nplt.title('PREPARATION TIME Distribution')\nplt.show()","66424aef":"plt.figure(figsize=(12,6))\nsns.distplot(data['cook_time'])\nplt.title('COOKING TIME Distribution')\nplt.show()","6ce9b83b":"plt.figure(figsize=(8,4))\nsns.distplot(data.num_ingd)\nplt.xticks([i for i in range(0,12)])\nplt.title('NUMBER OF INGREDIENTS Distribution')\nplt.show()","660c76a7":"data.head()","44616164":"ingredients = [ingd.split(', ') for ingd in data.ingredients] # List form of Ingredients for each food item","0802d7df":"# Strip is necessary as there are lot of elements which are similar but contains extra spaces as prefix or suffix like\n# ' jaggery', 'jaggery' and 'jaggery ' and lower is used because the first character of every ingrediients list is uppercase but\n# if the same element is not at first index then it will be considered as seperate element.\n# There are some elements which have the same meaning but but are in different languages like jaggery and gur.\n# This can be resolved by language translational techniques and it will become very messy.\n\nall_ingd = list(set([ing.lower().strip() for ingd in ingredients for ing in ingd])) # Set of all the ingredients\nall_ingd.sort()\nlen(all_ingd)","b66e3ec0":"# Vectorising the ingredients\n\ningd_vec = []\nfor i in range(len(data)):\n    k=[0]*len(all_ingd)\n    for val in ingredients[i]:\n        k[all_ingd.index(val.lower().strip())]=1\n    ingd_vec.append(k)","45ca4890":"data['ingd_vec']=ingd_vec","b07d5716":"data.head()","c619d750":"similarity_dict={}\nfor i in range(len(data)):\n    for j in range(0,len(data)):\n        if i!=j:\n            recipe_1 = data.loc[i,'name'].lower().strip()\n            recipe_2 = data.loc[j,'name'].lower().strip()\n            similarity_dict[recipe_1,recipe_2]=np.round(cosine_similarity([data.loc[i,'ingd_vec']],[data.loc[j,'ingd_vec']])[0,0],4)*100","eade9565":"recipe = [word.lower().strip() for word in data['name'].values]","623f54a5":"reg_wise={}\nfor region in data.region.unique():\n    reg_wise[region.lower()] = [recipe.lower().strip() for recipe in data[data['region']==region]['name'].values]","0a4ecb4c":"state_wise={}\nfor state in data.state.unique():\n    state_wise[state.lower()] = [recipe.lower().strip() for recipe in data[data['state']==state]['name'].values]","6ec7ff0d":"def random_item_similarity(recipe_1,recipe_2):\n    rec_1 = recipe_1.lower().strip()\n    rec_2 = recipe_2.lower().strip()\n    if rec_1 in recipe and rec_2 in recipe:\n        print(f\"Similarity of ingredients b\/w {recipe_1} and {recipe_2} is {str(similarity_dict[rec_1,rec_2])}%.\")\n    else:\n        print('Either or all of the food items provided do not belogn to the dataset.')","cb11e634":"def reg_wise_similarity(recipe_1,recipe_2,region_1='-1',region_2='-1'):\n    region_1 = region_1.lower().strip()\n    region_2 = region_2.lower().strip()\n    rec_1 = recipe_1.lower().strip()\n    rec_2 = recipe_2.lower().strip()\n    if region_1 in reg_wise.keys() and region_2 in reg_wise.keys():\n        if (rec_1 in reg_wise[region_1] or rec_2 in reg_wise[region_1]) and (rec_1 in reg_wise[region_2] or rec_2 in reg_wise[region_2]):\n            print(f\"Similarity of ingredients b\/w {recipe_1} and {recipe_2} is {str(similarity_dict[rec_1,rec_2])}%.\")\n        else:\n            print('Sorry, Either or all of the food itmes provided do not belong to the the regions.')\n    else:\n        print('Sorry, One or both the regions provided do not belong to dataset.')","ca1846a8":"def state_wise_similarity(recipe_1,recipe_2,state_1='-1',state_2='-1'):\n    state_1 = state_1.lower().strip()\n    state_2 = state_2.lower().strip()\n    rec_1 = recipe_1.lower().strip()\n    rec_2 = recipe_2.lower().strip()\n    if state_1 in state_wise.keys() and state_2 in state_wise.keys():\n        if (rec_1 in state_wise[state_1] or rec_2 in state_wise[state_1]) and (rec_1 in state_wise[state_2] or rec_2 in state_wise[state_2]):\n            print(f\"Similarity of ingredients b\/w {recipe_1} and {recipe_2} is {str(similarity_dict[rec_1,rec_2])}%.\")\n        else:\n            print('Sorry, Either or all of the food item provided do not belong to the states.')\n    else:\n        print('Sorry, One or both the states provided do not belong to dataset.')","fe5c1bfc":"def similarity_func_format():\n    print(f\"Format of function for random item similarity : random_item_similarity('recipe_1','recipe_2')\")\n    print(f\"Format of function for region-wise similarity : reg_wise_similarity('recipe_1','recipe_2','region_1','region_2')\")\n    print(f\"Format of function for state-wise similarity  : state_wise_similarity('recipe_1','recipe_2','state_1','state_2')\")","8acd4d71":"similarity_func_format()","e9e21607":"random_item_similarity('gulab jamun','boondi')","90dec1bf":"reg_wise_similarity('gulab jamun','boondi','east','west')","5f860486":"state_wise_similarity('balu shahi','basundi','west bengal','gujarat')","7450fb7c":"## Similarity determination (Without using NLTK module for vectorisation)","1fabe8d4":"## Preprocessing","1ebdb430":"## Exploratory Data Analysis"}}