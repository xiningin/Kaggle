{"cell_type":{"d279159e":"code","d82d91ac":"code","eb02afa0":"code","d1d90ae1":"code","343a73c1":"code","b0a6ae63":"code","4d3a7c66":"code","97a4010d":"code","c60f9f30":"code","463ba06f":"code","e7908767":"markdown","998e2998":"markdown","9610072f":"markdown","fad19bc9":"markdown","1fc49f9e":"markdown","5ca67f31":"markdown","1c061fed":"markdown","59f9c12a":"markdown","974f67e6":"markdown","70fd2c02":"markdown","2b5a9770":"markdown","3d5f42c0":"markdown"},"source":{"d279159e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom datetime import datetime\nfrom statsmodels.tsa.seasonal import seasonal_decompose\nfrom statsmodels.tsa.stattools import adfuller\nsns.set()\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d82d91ac":"def loadDataframe(filename):\n    df = pd.read_csv(filename, index_col = 'DATE', parse_dates = True)\n    print(df.info())\n    \n    return df\n\ndef tidyDataframe(df, col_names):\n    df.columns = col_names\n    print(df.info())\n    \n    return df\n\ndef fedChair(df):\n    df.loc[:'1918-12-15', 'chair'] = 'McAdoo'\n    df.loc['1918-12-16':'1920-02-01', 'chair'] = 'Glass'\n    df.loc['1920-02-02':'1921-03-03', 'chair'] = 'Houston'\n    df.loc['1921-03-04':'1932-02-12', 'chair'] = 'Mellon'\n    df.loc['1932-02-13':'1933-03-04', 'chair'] = 'Mills'\n    df.loc['1933-03-05':'1933-12-31', 'chair'] = 'Woodin'\n    df.loc['1934-01-01':'1936-02-01', 'chair'] = 'Morgenthau'\n    df.loc['1936-02-02':'1948-01-31', 'chair'] = 'Eccles'\n    df.loc['1948-02-01':'1951-03-31', 'chair'] = 'McCabe'\n    df.loc['1951-04-01':'1970-01-31', 'chair'] = 'Martin'\n    df.loc['1970-02-01':'1978-01-31', 'chair'] = 'Burns'\n    df.loc['1978-03-08':'1979-08-06', 'chair'] = 'Miller'\n    df.loc['1979-08-07':'1987-08-11', 'chair'] = 'Volcker'\n    df.loc['1987-08-12':'2006-01-31', 'chair'] = 'Greenspan'\n    df.loc['2006-02-01':'2014-02-02', 'chair'] = 'Bernanke'\n    df.loc['2014-02-03':'2018-02-03', 'chair'] = 'Yellen'\n    df.loc['2018-02-04':, 'chair'] = 'Powell'\n    \n    return df\n\ndef decomposition(df, column, f):\n    decomp = seasonal_decompose(df[column], model = 'additive', freq = f)\n    return decomp.observed, decomp.trend, decomp.seasonal, decomp.resid\n\ndef constructPlots(df, decomp1, decomp2, decomp3, decomp4, title, a, c):\n    sns.color_palette('dark')\n    plt.clf()\n    fig, axes = plt.subplots(nrows = 4, figsize = (25, 25))\n    \n    sns.lineplot(df.index, y = decomp1, hue = 'chair', data = df, ax = axes[0])\n    sns.lineplot(df.index, y = decomp2, hue = 'chair', data = df, ax = axes[1])\n    sns.lineplot(df.index, y = decomp3, hue = 'chair', data = df, ax = axes[2])\n    sns.lineplot(df.index, y = decomp4, hue = 'chair', data = df, ax = axes[3])\n    \n    axes[0].set(title = title, xlabel = 'Time', ylabel = 'Observed Change (in %)')\n    axes[1].set(xlabel = 'Time', ylabel = 'Trend')\n    axes[2].set(xlabel = 'Time', ylabel = 'Seasonal')\n    axes[3].set(xlabel = 'Time', ylabel = 'Residual')\n    \n    axes[0].axhline(y = 0)\n    axes[1].axhline(y = 0)\n    axes[2].axhline(y = 0)\n    axes[3].axhline(y = 0)\n    \n    recessions = [df['1913-01':'1914-12'], df['1918-08':'1919-03'], df['1920-01':'1921-07'], \n                  df['1923-05':'1924-07'], df['1926-10':'1927-11'], df['1929-08':'1933-03'], \n                  df['1937-05':'1938-06'], df['1945-02':'1945-10'], df['1948-11':'1949-10'], \n                  df['1953-07':'1954-05'], df['1957-08':'1958-04'], df['1960-04':'1961-02'],\n                  df['1969-12':'1970-11'], df['1973-11':'1975-03'], df['1980-01':'1980-07'], \n                  df['1981-07':'1982-11'], df['1990-07':'1991-03'], df['2001-03':'2001-11'], \n                  df['2007-12':'2009-06'], df['2020-02':]]\n                    \n    # plots recessions for each graph\n    for i in range(4):\n        for r in recessions:\n            if r.shape[0] != 0:\n                axes[i].axvspan(r.index[0], r.index[-1], color = c, alpha = a)\n\ndef constructDistrPlots(df, column, label, title1, title2):\n    fig, axes = plt.subplots(nrows = 2, figsize = (18, 18))\n    sns.distplot(df[column], kde = True, ax = axes[0])\n    sns.boxplot(x = 'chair', y = column, data = df, ax = axes[1])\n    axes[0].set(xlabel = label, ylabel = 'Frequency', title = title1)\n    axes[1].set(xlabel = 'Federal Reserve Chair', ylabel = label, title = title2)\n\ndef stationarityTest(df, column, k):\n    roll_avg = df[column].rolling(k).mean()\n    roll_std = df[column].rolling(k).std()\n    \n    fig, ax = plt.subplots(figsize = (18, 18))\n    sns.lineplot(x = df.index, y = roll_avg, color = 'steelblue', ax = ax, label = 'Rolling Average')\n    sns.lineplot(x = df.index, y = roll_std, color = 'firebrick', ax = ax, label = 'Rolling Standard Deviation')\n    \n    test = adfuller(df[column], autolag = 'AIC')\n    print('Results of Dickey-Fuller Test')\n    print('Test Statistic: ', test[0])\n    if test[1] < 0.001:\n        print('p-value: <0. 001')\n    else:\n        print('p-value: ', test[1])\n    print('Number of Lags Used: ', test[2])\n    print('Number of Observations: ', test[3])\n    print('Critical Values: ', test[4])","eb02afa0":"gdp_filename = '\/kaggle\/input\/percent-change-in-gdp-from-preceding-period\/A191RL1Q225SBEA.csv'\ngdp_col_names = ['gdp_change']\ngdp_title = '% Change in Real GDP from Preceding Period'\ngdp = loadDataframe(gdp_filename)\ngdp = tidyDataframe(gdp, gdp_col_names)\ngdp = fedChair(gdp)\ngdp_observed, gdp_trend, gdp_seasonal, gdp_resid = decomposition(gdp, 'gdp_change',f = 4)\nconstructPlots(gdp, gdp_observed, gdp_trend, gdp_seasonal, gdp_resid, title = gdp_title, c = 'slategray', a = 0.30)","d1d90ae1":"constructDistrPlots(gdp, 'gdp_change', '% Change in Real GDP', 'Distribution of Real GDP Change', 'Real GDP Change by Chair Term')","343a73c1":"stationarityTest(gdp, 'gdp_change', k = 4)","b0a6ae63":"cpi_filename = '\/kaggle\/input\/cpi-percent-change-19821984-100\/CPIAUCNS.csv'\ncpi_col_names = ['cpi_change']\ncpi_title = '% Change in CPI'\ncpi = loadDataframe(cpi_filename)\ncpi = tidyDataframe(cpi, cpi_col_names)\ncpi = cpi.resample('Q').mean()\ncpi = fedChair(cpi)\ncpi_observed, cpi_trend, cpi_seasonal, cpi_resid = decomposition(cpi, 'cpi_change', f = 4)\nconstructPlots(cpi, cpi_observed, cpi_trend, cpi_seasonal, cpi_resid, title = cpi_title, c = 'slategray', a = 0.30)","4d3a7c66":"constructDistrPlots(cpi, 'cpi_change', '% Change in CPI', 'Distribution of CPI Change', 'CPI Change by Chair Term')","97a4010d":"stationarityTest(cpi, 'cpi_change', k = 4)","c60f9f30":"cpi_transform = cpi.copy()\ncpi_transform['cpi_change'] = cpi_resid\ncpi_transform.dropna(inplace = True)\nconstructDistrPlots(cpi_transform, 'cpi_change', '% Change in Residual CPI', 'Distribution of Residual CPI Change', 'Residual CPI Change by Chair Term')","463ba06f":"stationarityTest(cpi_transform, 'cpi_change', k = 4)","e7908767":"### With p < 0.001, the results of the Dickey-Fuller test suggest that the CPI series is stationary. Despite the test results, the rolling average and rolling standard deviation of the residual CPA are very erratic during the last 20 years in the series. Given the turbulence of the past 12 years (i.e. the Great Recession and the COVID-19 pandemic), data from before that period may be more reliable for time series models that require stationarity.","998e2998":"## SECRETARY OF THE TREASURY (SERVING AS CHAIR OF THE FEDERAL RESERVE):\n* W.G. McAdoo (12\/23\/1913 - 12\/15\/1918)\n* Carter Glass (12\/16\/1918 - 02\/01\/1920)\n* David F. Houston (02\/02\/1920 - 03\/03\/1921)\n* Andrew W. Mellon (03\/04\/1921 - 02\/12\/1932)\n* Ogden L. Mills (02\/12\/1932 - 03\/04\/1933)\n* William H. Woodin (03\/04\/1933 - 12\/31\/1933)\n* Henry Morgenthau, Jr. (01\/01\/1934 - 02\/01\/1936)\n\n## CHAIR OF THE FEDERAL RESERVE\n* Marriner S. Eccles (02\/01\/1936 - 01\/31\/1948)\n* Thomas B. McCabe (04\/15\/1948 - 03\/31\/1951)\n* William McChesney Martin, Jr. (04\/02\/1951 - 01\/31\/1970)\n* Arthur F. Burns (02\/01\/1970 - 01\/31\/1978)\n* G. William Miller (03\/08\/1978 - 08\/06\/1979)\n* Paul A. Volcker (08\/06\/1979 - 08\/11\/1987)\n* Alan Greenspan (08\/11\/1987 - 01\/31\/2006)\n* Ben S. Bernanke (02\/01\/2006 - 01\/31\/2014)\n* Janet L. Yellen (02\/03\/2014 - 02\/03\/2018)\n* Jerome H. Powell (02\/05\/2018 - Present)","9610072f":"### After removing the trend and seasonality, the distribution of the residual change in CPI is more symmetric. The data more closely resemble a normal distribution. The boxplots show a similar pattern. They are closely centered around the same mean. Before Bernanke's term, the boxplots also show a fairly constant spread. About a year into Bernanke's term, the financial crisis and the Great Recession took place, which might explain the larger spread of data. Similarly, the slow recovery from the Great Recession might explain the large spread in the boxplot corresponding to Yellen's term. The boxplot from Powell's term represents fewer data, but the few that are included may be highly influenced by the COVID-19 pandemic.","fad19bc9":"# REFERENCES\n### * Bernanke, Ben. (2013). *The Federal Reserve and the Financial Crisis*, Princeton University Press.\n### * The Federal Reserve. (2018, November 26). *Board of Governors of the Federal Reserve*. [https:\/\/www.federalreserve.gov\/aboutthefed\/bios\/board\/boardmembership.htm](http:\/\/).\n### * The National Bureau of Economic Research. *US Business Cycle Expansions and Contractions*. [https:\/\/www.nber.org\/cycles.html](http:\/\/). \n### * U.S. Bureau of Economic Analysis, Real Gross Domestic Product [A191RL1Q225SBEA], retrieved from FRED, Federal Reserve Bank of St. Louis; (https:\/\/fred.stlouisfed.org\/series\/A191RL1Q225SBEA), August 1, 2020.\n### * U.S. Bureau of Labor Statistics, Consumer Price Index for All Urban Consumers: All Items in U.S. City Average [CPIAUCNS], retrieved from FRED, Federal Reserve Bank of St. Louis; (https:\/\/fred.stlouisfed.org\/series\/CPIAUCNS), August 1, 2020.","1fc49f9e":"## LIBRARIES AND PACKAGES:","5ca67f31":"### With p = 0.30, the results of the Dickey-Fuller test suggest that the CPI series is non-stationary.","1c061fed":"# EXPLORATORY DATA ANALYSIS\n## % Change in Real GDP:\n## In the time series plots, the shaded areas represent recessions.\n### * NOTE: The real GDP data are quarterly.","59f9c12a":"### With p < 0.001, the results of the Dickey-Fuller test suggest that the CPI series is stationary. The rolling mean and rolling standard deviation of % change in real GDP are fairly stable before 2020. The last few data values represent the economic devastation and extreme uncertainty during the ongoing COVID-19 pandemic.","974f67e6":"### Both the histogram and boxplots of CPI change show a fluctuating mean and a non-constanst variance. ","70fd2c02":"## FUNCTION DEFINITIONS:","2b5a9770":"# INTRODUCTION\n## HISTORIC BACKGROUND & INSPIRATION:\n### I was reading *The Federal Reserve and the Financial Crisis* by Ben S. Bernanke, the former chairman of the U.S. Federal Reserve. In chapter 2, Bernanke talks about the legacy of some important Fed chairmen. He discusses how Paul Volcker aggressively used contractionary monetary policy to address the issue of growing inflation. Volcker succeeded at taming inflation but also helped push the U.S. economy into a recession. Alan Greenspan succeeded Paul Volcker as chairman of the Fed. According to Bernanke, during Greenspan's term, the U.S. economy experienced a major decrease in volatility. Bernanke uses time series plots of percent change in real Gross Domestic Product (GDP) and Consumer Price Index (CPI) to substantiate his claims. Bernanke points out that the standard deviation of the series during Greenspan's term is much lower than that from Volcker's term. I decided to verify Bernanke's claim by performing my own time series analysis. His analysis also inspired me to monitor important macroeconomic variables and identify how they change based on who serves as head of the Federal Reserve.","3d5f42c0":"## % Change in CPI:\n### In the time series plots, shaded areas represent recessions.\n### * NOTE: The CPI data are monthly and I converted them to quarterly for easier comparison with the CPI series in Bernanke's book."}}