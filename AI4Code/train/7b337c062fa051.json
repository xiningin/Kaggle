{"cell_type":{"f9d8ef62":"code","b1edd67b":"code","388b4fb4":"code","68f95fc2":"code","1d7671e4":"code","dd509b33":"code","977a4476":"code","b3dcb060":"code","02c312df":"code","efc0b621":"code","1a8368f2":"code","4efe0852":"markdown","e2d55cd4":"markdown","60b0ad9d":"markdown","770ff274":"markdown","93fc88d6":"markdown","48c8ec5a":"markdown","330d9e91":"markdown","38322cd4":"markdown"},"source":{"f9d8ef62":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom scipy.stats import ttest_1samp, shapiro, levene, ttest_ind, mannwhitneyu\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","b1edd67b":"pd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', 10)\npd.set_option('display.float_format', lambda x: '%.5f' % x)","388b4fb4":"df_control = pd.read_csv(\"..\/input\/ab-testing-examples-datasets\/ab_testing_control.csv\")\ndf_control = df_control.iloc[:, 1:]\n\ndf_test = pd.read_csv('..\/input\/ab-testing-examples-datasets\/ab_testing_test.csv')\ndf_test = df_test.iloc[:, 1:]","68f95fc2":"df_control.shape","1d7671e4":"df_control['Purchase'].mean()","dd509b33":"df_test['Purchase'].mean()","977a4476":"test_stat, pvalue = shapiro(df_control[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n\ntest_stat, pvalue = shapiro(df_test[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))","b3dcb060":"test_stat, pvalue = levene(df_control['Purchase'],\n                           df_test['Purchase'])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))","02c312df":"test_stat, pvalue = ttest_ind(df_control[\"Purchase\"],\n                              df_test[\"Purchase\"],\n                              equal_var=True)\n\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))","efc0b621":"def hypothesis_result(dataframe_A, dataframe_B, col_name):\n    test_stat_A, pvalue_A = shapiro(dataframe_A[col_name])\n    print('Shapiro Test Stat = %.4f, p-value = %.4f' % (test_stat_A, pvalue_A))\n\n    test_stat_B, pvalue_B = shapiro(dataframe_B[col_name])\n    print('Shapiro Test Stat = %.4f, p-value = %.4f' % (test_stat_B, pvalue_B))\n\n    test_stat_var, pvalue_var = levene(dataframe_A[col_name],\n                                        dataframe_B[col_name])\n    print('Levene Test Stat = %.4f, p-value = %.4f' % (test_stat_var, pvalue_var))\n\n    if pvalue_A < 0.05 and pvalue_B < 0.05:\n        test_stat, pvalue = mannwhitneyu(dataframe_A[col_name],\n                                         dataframe_B[col_name])\n\n        print('Mannwhitneye Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n        print(f'H0 hypothesis is {\"NOT REJECTED\" if pvalue > 0.05 else \"REJECTED\"}')\n    else:\n        test_stat, pvalue = ttest_ind(dataframe_A[col_name],\n                                         dataframe_B[col_name],\n                                      equal_var=(True if pvalue_var > 0.05 else False))\n\n        print('Ttest Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n        print(f'H0 hypothesis is {\"NOT REJECTED\" if pvalue > 0.05 else \"REJECTED\"}')","1a8368f2":"dd","4efe0852":"* H0 cannot be rejected because p-value = 0.3493 > 0.05.\n\nthat is, there is no statistically significant difference between the purchase averages of the control and test groups.\n\nAccording to the test results, H0 is not rejected. that is, there is no significant difference between maximum bidding and average bidding.\nIn both of the bid types given, purchases close to each other were realized. In this case, it can be directed to whichever price offer is more suitable. to pay less and get the same purchases. however, we can also recommend a more detailed analysis. Because although purchases are important, the rate of seeing and clicking an ad can also cause benefits such as popularity and not being forgotten. If the customer agrees to a more detailed analysis, we can perform and present the following analyzes.\n\n## Let's turn the rest into a function and get the result quickly","e2d55cd4":"## Let data be your best friend","60b0ad9d":"There is no significant difference between the purchases according to the maximum bidding or the average bidding. We should do a hypothesis test to see if there is a statistically significant difference. \n\n## Testing hypothesis for purchase\n\nH0: \u03bc0 = \u03bc1 There is no statistically significant difference between the purchase averages of the control and test groups.\n\nH1: \u03bc0 <> \u03bc1 there is a statistically significant difference between the purchase mean of the control and test groups.\n\n## The path we will follow in formulating the hypothesis\n\n1. Independent two-sample t-test (parametric test) if assumptions are met\n2. Mannwhitneyu test if assumptions are not provided (non-parametric test)\n\nIf normality is not achieved, we will do all kinds of nonparametric tests.\n\nWhat will happen if normality is achieved and variance homogeneity is not achieved?\n \nWe will enter arguments to the t test function.\n* If p-value < 0.05 => HO is REJECTED.\n* If p-value > 0.05 => HO is NOT REJECTED.\n\nWe should first look at the assumption of normality.\n## Normality Assumption\n\n* H0: Assumption of normal distribution is provided.\n* H1: Normal distribution assumption not provided.\n","770ff274":"* !!!H0 cannot be rejected because p-value = 0.1083>0.05. that is, homogeneous variance distribution is provided.\n\n* Since the assumptions are satisfied, we will apply an independent Independent Samples t Test. (parametric test)\n\nThe Independent Samples t Test compares the means of two independent groups in order to determine whether there is statistical evidence that the associated population means are significantly different. The Independent Samples t Test is a parametric test.\n\nNote: The Independent Samples t Test can only compare the means for two (and only two) groups. It cannot make comparisons among more than two groups. If you wish to compare the means across more than two groups, you will likely want to run an ANOVA.\n\n## Independent Samples t Test (Parametric Test)","93fc88d6":"* !!!H0 cannot be rejected because #p-value = 0.5891 >0.05. that is, the assumption of normal distribution is provided.\n\n## Variance homogeneity\n\n* H0: Variances are Homogeneous\n* H1: Variances Are Not Homogeneous","48c8ec5a":"![ab testi](https:\/\/www.vargonen.com\/blog\/wp-content\/uploads\/2020\/05\/ab-testi-nedir.png)\n\n## What is A\/B Test? \n\u200b\nA\/B tests are summarized in a sentence: To investigate whether the innovations and improvements made on the website for Front-End or Back-End projects make a \"meaningful difference\" according to some of the criteria set. For example: Is there a significant difference in conversion rates between if the buy button for a product is red and green? Another example is the investigation of whether the new machine learning project in the live system causes a significant difference in terms of increasing revenues compared to the old system.\n\u200b\nAlthough the \"meaningful difference\" part here is very important, when the use cases in the world are examined, the definition of signibility comes with statistical tests.\n\u200b\nIncomplete or misunderstanding of statistical tests will cause errors in the study and low reliability results.\n\u200b\nFor example, a short search of Google and Booking can be done. It should be seen how excited the team at Google is interested in these tests \n\u200b\nIn addition, netflix's legendary recommendation system has been tested with these methods. It is not a test of the recommendation algorithm, but rather a test of the performance of the created model in the living. For this study, you can review the following article http:\/\/dl.acm.org\/citation.cfm?id=2843948\n\u200b\nIf the A\/B test is used frequently, sorted:\n\u200b\n1. Optimizing \"Customer Journey\" steps for e-Commerce, i.e. increasing conversion rates.\n\u200b\n2. An innovation on the Front-End side. Changes such as color change, menu change, button change, placement change.\n\u200b\n3. Revenue-driven performance of a machine learning (big data, data science) project in the live.\n\u200b\n## What path should be followed and what should be considered?\n\u200b\n1. It is necessary to design the right experiment and collect the right data.\n2. The correct measuring tool (test method) must be selected.\n3. Accurate statistical hypotheses need to be established and tested.\n\u200b\n--> Hypotheses that need to be established for the problem:\n\u200b\n> H0: There is no statistically significant difference between the conversion rate value of the old system and the conversion rate value of the new system.\n\u200b\n> H1: There is a statistically significant difference between the conversion rate value of the old system and the conversion rate value of the new system.\n\u200b\n4. It is necessary to comment on the hypotheses and to submit relevant action recommendations to the business units.\n\n\n## Business Problem\n\u200b\nFacebook recently announced a proposal called maximum bidding \naverage bidding, a new type of quote, as an alternative to the export type \nIntroduced.\n\u200b\nOne of our customers, bombabomba.com, tested this new feature \nand averagebidding, more than maximumbidding. \nperform an A\/B test to see if it brings too many conversions \nTo.\n\u200b\n## Dataset Story\n\u200b\nIn this data set containing bombabomba.com's website information, users \ninformation such as the number of ads they see and click on, as well as \nearnings information. \nThere are two separate data sets, Control and Test group.\n\u200b\n## Variables\n\u200b\n* **Impression** \u2013 Number of ad views\n* **Click** \u2013 Specifies the number of clicks on the ad that appears.\n* **Purchase** \u2013 Specifies the number of products purchased after clicked ads.\n* **Earning** \u2013 Gain after purchased products\n\u200b","330d9e91":"## Let's review according to purchase","38322cd4":"## Data Preparation"}}