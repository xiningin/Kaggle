{"cell_type":{"191a41c4":"code","e7378c1e":"code","b6c3a467":"code","8959bdf4":"code","8434e47a":"code","c92a91cf":"code","f90808fa":"code","15c75778":"code","ed8606d9":"code","705bc940":"code","11e4625e":"code","b68e8a49":"code","813c2f35":"code","9fca4934":"code","1dda5289":"code","e27b1b0a":"code","e31eb0fc":"code","775567ca":"code","9210f93a":"code","108bc941":"code","dd7775a1":"code","14673aa1":"code","1bd23cc8":"code","1a929e07":"code","f8b25a10":"code","53fc0d20":"code","c964126a":"code","417aca84":"code","49049be3":"code","5f831ba2":"code","15e8c667":"code","19ac47aa":"code","8424a4ae":"code","0be779b5":"code","5e003a68":"code","5abeb013":"code","b80de10b":"code","145c7aff":"code","0d7e4d85":"code","79eed6d2":"code","a4081362":"markdown","ab76ab5f":"markdown","e0a6e2cc":"markdown","eca51868":"markdown","3e21325c":"markdown","30067bf6":"markdown","40d5b978":"markdown"},"source":{"191a41c4":"import glob\nimport pandas as pd\nimport numpy as np\nimport missingno as msno\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.offline as po\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport random\nimport plotly.figure_factory as ff","e7378c1e":"product_df = pd.read_csv(\"\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")\ndistrict_df =pd.read_csv(\"\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")","b6c3a467":"path = \"\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\"\nall_files = glob.glob(path + \"\/*.csv\")\n\nli = []\nfor filename in all_files:\n    df = pd.read_csv(filename, index_col=None, header=0)\n    li.append(df)\n    \nengagement_df = pd.concat(li, axis=0, ignore_index=True)","8959bdf4":"# Shape of the data files ( number of rows and number of columns) \nprint('\\033[1m'\"Shape of the Engagement File \"'\\033[0m',engagement_df.shape )\nprint('\\033[1m'\"Shape of the District file\"'\\033[0m', district_df.shape)\nprint('\\033[1m'\"Shape of the Product File\"'\\033[0m',product_df.shape)","8434e47a":"engagement_df.head(10).style.set_caption(\"Engagement Dataframe\").set_properties(**{'background-color': 'black',\n                           'color': 'lawngreen','border': '1.5px  solid white'})","c92a91cf":"district_df.head(10).style.set_caption(\"District Dataframe\").set_properties(**{'background-color': 'black',\n                           'color': 'lawngreen','border': '1.5px  solid white'})","f90808fa":"product_df.head(10).style.set_caption(\"Product Dataframe\").set_properties(**{'background-color': 'black',\n                           'color': 'lawngreen','border': '1.5px  solid white'})","15c75778":"print('\\033[1m'\"Data types of each column in district data file\\n\"'\\033[0m',district_df.dtypes)\nprint('\\033[1m'\"Data types of each column in product data file\\n\"'\\033[0m',product_df.dtypes)\nprint('\\033[1m'\"Data types of each column in engagement data file\\n\"'\\033[0m',engagement_df.dtypes)","ed8606d9":"# Missing Value check\nprint('\\033[1m'\"Missing value present in each column of district data file\\n\"'\\033[0m',district_df.isna().any())\nprint('\\033[1m'\"Missing value present in each column of product data file\\n\"'\\033[0m',product_df.isna().any())\nprint('\\033[1m'\"Missing value present in each column of engagement data file\\n\"'\\033[0m',engagement_df.isna().any())","705bc940":"#Missing value count  \nprint('\\033[1m'\"Missing value count in each column of district data file\\n\"'\\033[0m',district_df.isna().sum())\nprint('\\033[1m'\"Missing value count in each column of product data file\\n\"'\\033[0m',product_df.isna().sum())\nprint('\\033[1m'\"Missing value count in each column of engagement data file\\n\"'\\033[0m',engagement_df.isna().sum())","11e4625e":"# Visualize missing values as a matrix\n\nmsno.heatmap(district_df,figsize=(10,5))","b68e8a49":"# Visualize the correlation between the number of missing values in different columns as a heatmap\n\nmsno.heatmap(product_df,figsize=(10,5))","813c2f35":"# Visualize the correlation between the number of missing values in different columns as a heatmap\n\nmsno.heatmap(engagement_df,figsize=(10,5))","9fca4934":"# Dropping the values from the states column which are in district dataframe\ndistrict_df = district_df[district_df['state'].notna()].reset_index(drop=True)","1dda5289":"# Rechecking the no of missing values in the district column\n\ndistrict_df.isna().sum()","e27b1b0a":"#First Five records \n\nfig = ff.create_table(district_df.head(5),height_constant=50)\nfig.update_layout(width=3500, height=400)\nfig.show()","e31eb0fc":"#Last five records \n\ncolorscale = [[0, 'red'],[.5, '#DCE775'],[1, '#C0CA33']]\nfont=['white', '#212121' , 'red']\nfig = ff.create_table(district_df.tail(5),height_constant=50,colorscale=colorscale,font_colors=font)\nfor i in range(len(fig.layout.annotations)):\n    fig.layout.annotations[i].font.size = 17\nfig.update_layout(width=4500, height=400)\nfig.show()","775567ca":"# Count of each states in the dataframe\nplt.figure(figsize=(10,12))\nsns.countplot(y ='state',data = district_df,order=district_df['state'].value_counts().index)\nplt.show()","9210f93a":"#Simple Pie Chart\n#marks = [48 , 30 , 20 , 15]\nstatus = ['Connecticut' , 'Utah' , 'Massachusetts' , 'Illinois','California','Ohio','New York','Indiana','Missouri','Washington','Virginia','North Carolina','Wisconsin','District Of Columbia','Texas','New Jersey','New Hampshire','Michigan','Tennessee','Arizona','North Dakota','Florida','Minnesota']\ndata = go.Pie(\nvalues= district_df[\"state\"].value_counts(),\nlabels= status,\n)\nlayout = go.Layout(\ntitle=dict(text = \"State\",x=0.46,y=0.95,font_size=20)\n)\nfig = go.Figure(data=data,layout=layout)\nfig.show()","108bc941":"# Count of each locale in the dataframe\nplt.figure(figsize=(10,12))\nsns.countplot(x ='locale',data = district_df,order=district_df['locale'].value_counts().index)\nplt.show()","dd7775a1":"status = ['Suburb','Rural','City','Town']\ncolors = ['#8BC34A','#D4E157','#FFB300','#FF7043']\ndata = go.Pie(\nvalues= district_df[\"state\"].value_counts(),\nlabels= status,\nmarker=dict(colors=colors),\ntextinfo='label+value+percent'\n)\nlayout = go.Layout(\ntitle=dict(text = \"State\",x=0.46,y=0.95,font_size=20)\n)\nfig = go.Figure(data=data,layout=layout)\nfig.show()","14673aa1":"# Count of each pct_black\/hispanic in the dataframe\nplt.figure(figsize=(10,12))\nsns.countplot(x ='pct_black\/hispanic',data = district_df,order=district_df['pct_black\/hispanic'].value_counts().index)\nplt.show()","1bd23cc8":"status = ['[0, 0.2[','[0.2, 0.4[','[0.4, 0.6[','[0.6, 0.8[','[0.8, 1[']\ncolors = ['#1f77b4','#ff7f0e','#2ca02c','#d62728','#9467bd']\ndata = go.Pie(\nvalues= district_df[\"pct_black\/hispanic\"].value_counts(),\nlabels= status,\nmarker=dict(colors=colors),\ntextinfo='label+value+percent'\n)\nlayout = go.Layout(\ntitle=dict(text = \"State\",x=0.46,y=0.95,font_size=20)\n)\nfig = go.Figure(data=data,layout=layout)\nfig.show()","1a929e07":"#count of pct_free\/reduced in the district dataframe\n\nplt.figure(figsize=(10,12))\nsns.countplot(x ='pct_free\/reduced',data = district_df,order=district_df['pct_free\/reduced'].value_counts().index)\nplt.show()","f8b25a10":"status = ['[0, 0.2[','[0.2, 0.4[','[0.4, 0.6[','[0.6, 0.8[','[0.8, 1[']\ncolors = ['#8c564b','#e377c2','#7f7f7f','#bcbd22','#17becf']\ndata = go.Pie(\nvalues= district_df[\"pct_black\/hispanic\"].value_counts(),\nlabels= status,\nmarker=dict(colors=colors),\ntextinfo='label+value+percent'\n)\nlayout = go.Layout(\ntitle=dict(text = \"State\",x=0.46,y=0.95,font_size=20)\n)\nfig = go.Figure(data=data,layout=layout)\nfig.show()","53fc0d20":"status = ['[0.18, 1[','[1,2[']\ncolors = ['#17becf', '#E1396C']\ndata = go.Pie(\nvalues= district_df[\"county_connections_ratio\"].value_counts(),\nlabels= status,\nmarker=dict(colors=colors),\ntextinfo='label+value+percent'\n)\nlayout = go.Layout(\ntitle=dict(text = \"State\",x=0.46,y=0.95,font_size=20)\n)\nfig = go.Figure(data=data,layout=layout)\nfig.show()","c964126a":"#pp_total_raw\n\ndistrict_df[\"pp_total_raw\"].value_counts()","417aca84":"#count of pp_total_raw in the district dataframe\n\nplt.figure(figsize=(10,12))\nsns.countplot(x ='pp_total_raw',data = district_df,order=district_df['pp_total_raw'].value_counts().index)\nplt.xticks(rotation=90)\nplt.show()","49049be3":"status = ['[8000, 10000[','[10000, 12000[','[14000, 16000[','[12000, 14000[','[6000, 8000[','[16000, 18000[','[18000, 20000[','[20000, 22000[','[22000, 24000[','[4000, 6000[','[32000, 34000[']\ncolors = ['#8c564b','#e377c2','#7f7f7f','#bcbd22','#17becf','#1f77b4','#ff7f0e','#2ca02c','#d62728','#9467bd','#E1396C']\ndata = go.Pie(\nvalues= district_df[\"pp_total_raw\"].value_counts(),\nlabels= status,\nmarker=dict(colors=colors),\ntextinfo='label+value+percent'\n)\nlayout = go.Layout(\ntitle=dict(text = \"State\",x=0.46,y=0.95,font_size=20)\n)\nfig = go.Figure(data=data,layout=layout)\nfig.show()","5f831ba2":"plt.figure(figsize=(20,40))\nvalue_to_int = {j:i for i,j in enumerate(pd.unique(district_df.values.ravel()))} # like you did\nn = len(value_to_int)     \n# discrete colormap (n samples from a given cmap)\ncmap = sns.color_palette(\"Pastel2\", n) \nax = sns.heatmap(district_df.replace(value_to_int), cmap=cmap) \n# modify colorbar:\ncolorbar = ax.collections[0].colorbar \nr = colorbar.vmax - colorbar.vmin \ncolorbar.set_ticks([colorbar.vmin + r \/ n * (0.5 + i) for i in range(n)])\ncolorbar.set_ticklabels(list(value_to_int.keys()))                                          \nplt.show()","15e8c667":"states = district_df.groupby(by ='state').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"States with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('States')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=states.index,y=list(states['district_id']))\nplt.xticks(rotation=90)","19ac47aa":"locale=district_df.groupby(by ='locale').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"Locale with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('No. of locale mentioned')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=locale.index,y=list(locale['district_id']))\nplt.xticks(rotation=90)","8424a4ae":"black_hispanic=district_df.groupby(by ='pct_black\/hispanic').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"pct_black\/hispanic with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('No. of pct_black\/hispanic mentioned')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=black_hispanic.index,y=list(black_hispanic['district_id']))\nplt.xticks(rotation=90)","0be779b5":"free_reduced=district_df.groupby(by ='pct_free\/reduced').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"pct_free\/reduced with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('No. of pct_black\/hispanic mentioned')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=free_reduced.index,y=list(free_reduced['district_id']))\nplt.xticks(rotation=90)","5e003a68":"# county_connections_ratio\n\ncounty_connection=district_df.groupby(by ='county_connections_ratio').count()[['district_id']]\nplt.figure(figsize=(10,10))\nplt.title(\"county_connections_ratio with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('No. of county_connections_ratio mentioned')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=county_connection.index,y=list(county_connection['district_id']))\nplt.xticks(rotation=90)","5abeb013":"plt.figure(figsize=(10,10))\nsns.set(rc={'xtick.labelsize':12,'ytick.labelsize':12,'axes.labelsize':12})\nsns.swarmplot(x=\"state\", y=\"pct_black\/hispanic\", hue=\"locale\", data=district_df)\nplt.xticks(rotation=90)","b80de10b":"#distribution of state and locale\nplt.figure(figsize=(10,10))\nsns.displot(data=district_df, x='state', hue= 'locale', height=8, aspect=3)\nplt.xticks(rotation=90)","145c7aff":"pct_black_hispanic = district_df['pct_black\/hispanic'].str.split(\",\",n=1,expand=True)\n# separating pct_black and pct_hispanic\ndistrict_df['pct_black']=pct_black_hispanic[0].str.replace('[','',regex=True)\ndistrict_df['pct_hispanic']= pct_black_hispanic[1].str.replace('[','',regex=True)\n# changing pct_black and pct_hispanic to numeric\ndistrict_df['pct_black']=pd.to_numeric(district_df['pct_black'])\ndistrict_df['pct_hispanic']=pd.to_numeric(district_df['pct_hispanic'])\ndistrict_df['pct_black_and_hispanic']=(district_df['pct_black'] + district_df['pct_hispanic'])\/2","0d7e4d85":"sns.displot(data=district_df, x='pct_black_and_hispanic', hue='locale',kind='kde',multiple=\"stack\",height=8.27, aspect=11.7\/8.27)","79eed6d2":"sns.displot(data=district_df, x=\"pct_black_and_hispanic\", hue='state', height=8.27, aspect=11.7\/8.27)","a4081362":"| No. | Feature Name | Description of the feature |\n| :-- | :--| :--| \n|01| **district_id**   | The unique identifier of the school district|\n|02| **state** | The state where the district resides in                 |\n|03| **locale**   | NCES locale classification that categorizes U.S. territory into four types of areas: City, Suburban, Town, and Rural. See Locale Boundaries User's Manual for more information. |\n|04| **pct_black\/hispanic** | Percentage of students in the districts identified as Black or Hispanic based on 2018-19 NCES data |\n|05| **pct_free\/reduced**   | Percentage of students in the districts eligible for free or reduced-price lunch based on 2018-19 NCES data |\n|06| **county_connections_ratio**   | ratio (residential fixed high-speed connections over 200 kbps in at least one direction\/households) based on the county level data from FCC From 477 (December 2018 version). See FCC data for more information.|\n|07| **pp_total_raw**   | Per-pupil total expenditure (sum of local and federal expenditure) from Edunomics Lab's National Education Resource Database on Schools (NERD$) project. The expenditure data are school-by-school, and we use the median value to represent the expenditure of a given school district.|","ab76ab5f":"To get started we will use Python for data processing, understanding and insights.\n\nImport python libraries as necessary to get started for data load and later import other libraries as needed","e0a6e2cc":"Missing Values count","eca51868":"Missing Values","3e21325c":"**Problem Statement:**\n\n* The **COVID-19** Pandemic has disrupted learning for more than **56 million** students in the United States. \n * In the Spring of **2020**, most *states and local governments* across the U.S. closed educational institutions to stop the spread of the virus. \n * In response, schools and teachers have attempted to reach students remotely through *distance learning tools and digital platforms.*\n * Until today, concerns of the exacaberting *digital divide and long-term learning loss* among America\u2019s most vulnerable learners continue to grow.","30067bf6":"# LearnPlatform COVID-19 Impact","40d5b978":"To be continued..."}}