{"cell_type":{"9024ef24":"code","9facf1e7":"code","c0fe04dd":"code","2743dc79":"code","a2c01dd0":"code","9f324f73":"code","2c9f0c2c":"code","fdab017e":"code","f1ec1dbf":"code","23252ca0":"code","0edbec65":"code","036f8d6a":"code","ce097fb0":"code","99137324":"code","ee27a56d":"code","0ebd9aed":"code","eddf8ccb":"code","e985aec5":"code","94c89082":"code","dbf2aff7":"code","30a34488":"code","b05d993c":"code","dc65d48e":"code","1f8b669c":"code","61ad0a45":"code","d00971ca":"code","ceb35636":"code","963dd4dd":"code","87f2e030":"code","d629b311":"code","45c4ef20":"code","cfba9a12":"code","d30cd31d":"code","631f516b":"code","bf43b1bd":"code","f00642bf":"code","87105a25":"code","d62e7899":"code","bebe97d4":"code","c12602b8":"code","4c449893":"code","1e742a4a":"code","a91363c7":"code","2ad42faa":"markdown","93c9242b":"markdown","fc46f389":"markdown","345193fb":"markdown","be57b267":"markdown","310448c2":"markdown","9ba76387":"markdown","98ec9f06":"markdown","b3d7a4d9":"markdown","4b6430a9":"markdown","701a89ea":"markdown","f8d03a04":"markdown","2874af53":"markdown","f6f7f73c":"markdown","e6d1897e":"markdown","c1612ef5":"markdown","f14a4748":"markdown","6a843819":"markdown","21ec8d3e":"markdown","22f115b7":"markdown","54e044e4":"markdown","ab6d38d5":"markdown","9ed557f6":"markdown","fa98b96b":"markdown","43aa2277":"markdown"},"source":{"9024ef24":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nfrom statsmodels.tsa.ar_model import AR \nfrom statsmodels.tsa.arima_model import ARMA  \nfrom statsmodels.tsa.statespace.sarimax import SARIMAX\nfrom statsmodels.tsa.vector_ar.var_model import VAR\nfrom random import random\nimport warnings\nwarnings.filterwarnings('ignore')\nimport matplotlib.pyplot as plt","9facf1e7":"global_temp=pd.read_csv('..\/input\/globaltemperatures\/GlobalTemperatures.csv')","c0fe04dd":"global_temp.head(5)","2743dc79":"global_temp['dt']","a2c01dd0":"global_temp['dt'][0].split('-')[0]","9f324f73":"def fatch_year(data):\n    return data.split('-')[0]","2c9f0c2c":"global_temp['years']=global_temp['dt'].apply(fatch_year)","fdab017e":"global_temp.head()","f1ec1dbf":"data=global_temp.groupby('years').agg({'LandAverageTemperature':'mean','LandAverageTemperatureUncertainty':'mean'}).reset_index()","23252ca0":"data.head()","0edbec65":"data['Uncertainity_top']=data['LandAverageTemperature'] + data['LandAverageTemperatureUncertainty']\ndata['Uncertainity_bottom']=data['LandAverageTemperature'] - data['LandAverageTemperatureUncertainty']","036f8d6a":"fig=px.line(data,x='years',y=['LandAverageTemperature','Uncertainity_top','Uncertainity_bottom'],title='Avg Land Temp in world')\nfig.show()","ce097fb0":"global_temp.dtypes","99137324":"global_temp['dt']=pd.to_datetime(global_temp['dt'])","ee27a56d":"global_temp.dtypes","0ebd9aed":"global_temp['month']=global_temp['dt'].dt.month","eddf8ccb":"global_temp.head()","e985aec5":"def get_season(month):\n    if month>=3 and month<=5:\n        return 'spring'\n    elif month>=6 and month<=8:\n        return 'summer'\n    elif month>=9 and month<=11:\n        return 'autumn'\n    else:\n        return 'winter'","94c89082":"global_temp['season']=global_temp['month'].apply(get_season)","dbf2aff7":"global_temp.head()","30a34488":"years=global_temp['years'].unique()\nspring_temps=[]\nsummer_temps=[]\nautumn_temps=[]\nwinter_temps=[]","b05d993c":"for year in years:\n    current_df=global_temp[global_temp['years']==year]\n    spring_temps.append(current_df[current_df['season']=='spring']['LandAverageTemperature'].mean())\n    summer_temps.append(current_df[current_df['season']=='summer']['LandAverageTemperature'].mean())\n    autumn_temps.append(current_df[current_df['season']=='autumn']['LandAverageTemperature'].mean())\n    winter_temps.append(current_df[current_df['season']=='winter']['LandAverageTemperature'].mean())","dc65d48e":"season=pd.DataFrame()","1f8b669c":"season['year']=years\nseason['spring_temps']=spring_temps\nseason['summer_temps']=summer_temps\nseason['autumn_temps']=autumn_temps\nseason['winter_temps']=winter_temps","61ad0a45":"season.head()","d00971ca":"fig=px.line(season,x='year',y=['spring_temps', 'summer_temps', 'autumn_temps', 'winter_temps'],title='Avg Temp in Each Season')\nfig.show()","ceb35636":"# contrived dataset\nxdata = range(1, 100)\nydata = [x + (3*random()) for x in xdata]\nplt.xlim(0, 100)\nplt.ylim(0, 100)\nplt.scatter(xdata,ydata,s=10)\nplt.show()\n# print(xdata)\n\n# # fit model\nmodel = AR(ydata)\nmodel_fit = model.fit()","963dd4dd":"# make prediction\n# yhat = model_fit.predict(len(xdata), len(ydata))\nyhat = model_fit.predict( start= 90, end = 110 )\nprint('Predicted value for Auto Regression ', yhat)","87f2e030":"# fit model\nmodel = ARMA(ydata, order=(0, 1))\nmodel_fit = model.fit(disp=False)\n# make prediction\nyhat = model_fit.predict( start= 90, end = 110 )\nprint('Predicted value for Moving Average 0,1 ',yhat)","d629b311":"# model = ARMA(newdata, order=(2, 1))\nmodel_fit = model.fit(disp=False)\n# make prediction\nyhat = model_fit.predict( start= 90, end = 110 )\nprint('Predicted value for Moving Average 2,1 ',yhat)","45c4ef20":"# contrived dataset with dependency\ndata = []\nfor i in range(100):\n    v1 = i + random()\n    v2 = v1 + random()\n    row = [v1, v2]\n    data.append(row)\n    \nprint(data)    \n# fit model\nmodel = VAR(data)\nmodel_fit = model.fit()\n# make prediction\nyhat = model_fit.forecast(model_fit.y, steps=1)\nprint('Predicted value using VAR ',yhat)","cfba9a12":"df = pd.read_csv('..\/input\/multitimeline\/multiTimeline.csv', skiprows=1)\ndf.shape\n","d30cd31d":"\ndf.columns = ['month', 'diet', 'gym', 'finance']\nprint(df.head())\n","631f516b":"df.month = pd.to_datetime(df.month)\ndf.set_index('month', inplace=True)\nprint(df.head())","bf43b1bd":"df.plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","f00642bf":"df[['diet']].plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","87105a25":"diet = df[['diet']]\ndiet.rolling(12).mean().plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","d62e7899":"gym = df[['gym']]\ngym=gym.rolling(12).mean()\ngym.plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);\n","bebe97d4":" df_rm = pd.concat([diet.rolling(12).mean(), gym.rolling(12).mean()], axis=1)\ndf_rm.plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","c12602b8":"diet.diff().plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","4c449893":"df.plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","1e742a4a":"# calculation the corr\nprint(df.corr())\n\n\ndf.diff().plot(figsize=(7,4), linewidth=1, fontsize=10)\nplt.xlabel('Year', fontsize=10);","a91363c7":"df.diff().corr()\n\npd.plotting.autocorrelation_plot(diet);","2ad42faa":"# <p style=\"background-color:#627D78;font-family:newtimeroman;color:#D5CABD;font-size:150%;text-align:center;border-radius:20px 60px;\">We can ploting the seasons<\/p>","93c9242b":"### 3) Is there a global warming?\n    Let's read the data from the \"GlobalTemperatures.csv\" file, which has a monthly Earth\u2019s temperature and plot it on the chart.","fc46f389":" <p style=\"background-color:green;font-family:newtimeroman;color:black;font-size:150%;text-align:center;border-radius:20px 60px;\">Add the Month for the columns<\/p>\n","345193fb":"# calculation the corr","be57b267":"\n# <p style=\"background-color:#627D78;font-family:newtimeroman;color:#D5CABD;font-size:150%;text-align:center;border-radius:20px 60px;\">Analyse Average temperature in each season<\/p>\n\n![Global](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcQLbKVugLrZ72ztpuP50bnORxpPhN092YUKIg&usqp=CAU)","310448c2":"\n<p style=\"background-color:#627D78;font-family:newtimeroman;color:#D5CABD;font-size:150%;text-align:center;border-radius:20px 60px;\">we can plot data<\/p>","9ba76387":" # VAR ","98ec9f06":"# ARMA","b3d7a4d9":"# MA","4b6430a9":"#### when you do make prediction","701a89ea":"**We see that people have started to go to the gym from the beginning of the year 2005 to 2017, and this is increasing dramatically, and this indicates that people are starting to leave obesity and diet and pay more attention to the gym.**","f8d03a04":"### here we plot the *diet* to show in the time","2874af53":" <a id=\"1\"><\/a>\n<p style=\"background-color:#627D78;font-family:newtimeroman;color:#D5CABD;font-size:150%;text-align:center;border-radius:20px 60px;\">Importing Libraries<\/p>","f6f7f73c":"### we can calculate the mean for diet and plot ","e6d1897e":"### we can plot too th gym and show in the time ","c1612ef5":"\n#### <p style=\"background-color:#627D78;font-family:newtimeroman;color:#D5CABD;font-size:150%;text-align:center;border-radius:20px 60px;\">we can add columns *year* in dataFream<\/p>","f14a4748":"    we can see Is it getting warmer? Yes, it is.","6a843819":"### Read multiTimeline","21ec8d3e":"### corr for the diet","22f115b7":"    From the charts you can see, that there is global warming nowadays. The average temperature of Earth surface has the highest value in the last three centuries. The fastest temperature growth occurred in the last 30 years! This worries me, I hope soon humanity will fully switch to ecological sources of energy, that will reduce CO2. If it\u2019s will not happened, we will be in disaster. This charts also have confidence intervals, which shows that measurement of temperature has become more accurate in the last few years.","54e044e4":" <p style=\"background-color:green;font-family:newtimeroman;color:black;font-size:150%;text-align:center;border-radius:20px 60px;\">Add the season for the columns<\/p>\n \n    make the function to split data for spring and summer and autmn and winter","ab6d38d5":"#### Here we can compare between diet and gym","9ed557f6":"# <p style=\"background-color:#627D78;font-family:newtimeroman;color:#D5CABD;font-size:150%;text-align:center;border-radius:20px 60px;\">Welocm There on my Notebook<\/p>\n\n\n![global](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcR1UsnmKDZfvCw1IQ11l-s_PHD7BdFZNYqNFg&usqp=CAU)","fa98b96b":"### Here we can make the date index","43aa2277":"### Plot the Year "}}