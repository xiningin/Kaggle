{"cell_type":{"ed33c506":"code","5eb82288":"code","3e88eac1":"code","473049ad":"code","7c891273":"code","1fded30d":"code","cd6f9f76":"code","7ad46759":"code","754b682e":"code","a4d5349d":"code","8ea35e21":"code","be341d63":"code","5ba1ca36":"code","ace42599":"code","b209e1a2":"code","7ee7f177":"code","fb88309d":"markdown","8776824a":"markdown","e02a7f3e":"markdown","a637ae4f":"markdown","bb2e7e26":"markdown","318dba6f":"markdown","f4e7826b":"markdown","a5f1174b":"markdown","6a006fb2":"markdown","d89bf08f":"markdown"},"source":{"ed33c506":"import matplotlib.pyplot as plt\nimport pydicom\nimport json\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os","5eb82288":"filename = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00123637202217151272140\/137.dcm\"\nds = pydicom.dcmread(filename)\nplt.imshow(ds.pixel_array, cmap=plt.cm.bone) ","3e88eac1":"filename = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00123637202217151272140\/137.dcm\"\npydicom.dcmread(filename).pixel_array.shape","473049ad":"filename = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00136637202224951350618\/353.dcm\"\npydicom.dcmread(filename).pixel_array.shape","7c891273":"filename = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00123637202217151272140\/137.dcm\"\npydicom.dcmread(filename)","1fded30d":"dir(pydicom.dcmread(filename))","cd6f9f76":"dir(pydicom.dcmread(filename)['ImageOrientationPatient'])","7ad46759":"pydicom.dcmread(filename)['ImageOrientationPatient'].to_json()","754b682e":"json.loads(pydicom.dcmread(filename)['ImageOrientationPatient'].to_json())['Value']","a4d5349d":"# directory for a patient\nimdir = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00123637202217151272140\"\nprint(\"total images for patient ID00123637202217151272140: \", len(os.listdir(imdir)))","8ea35e21":"print(\"images for patient ID00123637202217151272140 in a rough order:\")\nmylist = os.listdir(imdir)\nmylist.sort()\nprint(mylist)","be341d63":"# view first (columns*rows) images in order\nw=10\nh=10\nfig=plt.figure(figsize=(12, 12))\ncolumns = 4\nrows = 5\nimglist = os.listdir(imdir)\nfor i in range(1, columns*rows +1):\n    filename = imdir + \"\/\" + str(i) + \".dcm\"\n    ds = pydicom.dcmread(filename)\n    fig.add_subplot(rows, columns, i)\n    plt.imshow(ds.pixel_array, cmap=plt.cm.bone)\nplt.show()","5ba1ca36":"files = folders = 0\n\npath = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/train\"\n\nfor _, dirnames, filenames in os.walk(path):\n  # ^ this idiom means \"we won't be using this value\"\n    files += len(filenames)\n    folders += len(dirnames)\n\nprint(\"{:,} files\/images, {:,} folders\/patients\".format(files, folders))","ace42599":"files = []\nfor _, dirnames, filenames in os.walk(path):\n  # ^ this idiom means \"we won't be using this value\"\n    files.append(len(filenames))\n\nprint(\"{:,} average files\/images per patient\".format(round(np.mean(files))))\nprint(\"{:,} max files\/images per patient\".format(round(np.max(files))))\nprint(\"{:,} min files\/images per patient\".format(round(np.min(files))))","b209e1a2":"files = folders = 0\n\npath = \"\/kaggle\/input\/osic-pulmonary-fibrosis-progression\/test\"\n\nfor _, dirnames, filenames in os.walk(path):\n  # ^ this idiom means \"we won't be using this value\"\n    files += len(filenames)\n    folders += len(dirnames)\n\nprint(\"{:,} files\/images, {:,} folders\/patients\".format(files, folders))","7ee7f177":"files = []\nfor _, dirnames, filenames in os.walk(path):\n  # ^ this idiom means \"we won't be using this value\"\n    files.append(len(filenames))\n\nprint(\"{:,} average files\/images per patient\".format(round(np.mean(files))))\nprint(\"{:,} max files\/images per patient\".format(round(np.max(files))))\nprint(\"{:,} min files\/images per patient\".format(round(np.min(files))))","fb88309d":"# Example Extracting Meta-Data","8776824a":"# Number of Patients and Images in Test Images Folder","e02a7f3e":"# OSIC Simple Image EDA\n\nJust a very simple notebook to help understand the image data for potential modeling use :)","a637ae4f":"# View Single Image","bb2e7e26":"# View Example of Image Meta-Data","318dba6f":"# Imports","f4e7826b":"# Resources\n\nhttps:\/\/pydicom.github.io\/pydicom\/stable\/old\/viewing_images.html\n\nhttps:\/\/stackoverflow.com\/questions\/46615554\/how-to-display-multiple-images-in-one-figure-correctly\/46616645\n\nhttps:\/\/stackoverflow.com\/questions\/29769181\/count-the-number-of-folders-in-a-directory-and-subdirectories","a5f1174b":"# Number of Patients and Images in Training Images Folder","6a006fb2":"# View Examples of Image Size","d89bf08f":"# View First Few Images in Order"}}