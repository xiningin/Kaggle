{"cell_type":{"f9fa92a6":"code","30914fb4":"code","7587ccfd":"code","52e893a0":"code","88747404":"code","2b49bd28":"markdown","936292f5":"markdown","cf27b375":"markdown","45924a0d":"markdown","3f71ae8e":"markdown"},"source":{"f9fa92a6":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pylab as plt\nimport plotly.graph_objects as go\nimport seaborn as sns\n\nfrom sklearn.decomposition import PCA\n","30914fb4":"data = pd.read_csv(\"\/kaggle\/input\/sandp500\/all_stocks_5yr.csv\")\ndata = data.dropna()\ndata.head(5)","7587ccfd":"data_np = data.to_numpy()\n# print(data_np)\n\nX = []\nlabels = []\n\nfor row in data_np:\n    if row[-1] not in labels:\n        X.append(row[1:-1])\n        labels.append(row[-1])\n\nX = np.array(X, dtype=\"int\")\nlabels = np.array(labels)\n        \nprint(X)\nprint(labels)","52e893a0":"pca = PCA(n_components=2)\nX = pca.fit_transform(X)\nprint(X)","88747404":"# Create dataframe\ndf = pd.DataFrame({\n'x': X[:, 0],\n'y': X[:, 1],\n'labels': labels\n})\n\nfig = go.Figure(data=go.Scatter(x=df['x'],\n                                y=df['y'],\n                                mode='markers',\n                                text=df['labels'])) # hover text goes here\n\nfig.update_layout(title='Stocks Graphed')\nfig.show()\n\n","2b49bd28":"Generate features","936292f5":"Let's plot 'em","cf27b375":"Reduce to two dimensions","45924a0d":"Imports!","3f71ae8e":"Read the dataaaaa"}}