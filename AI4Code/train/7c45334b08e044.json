{"cell_type":{"6604e19f":"code","2dbb24b2":"code","b0d80028":"code","964c4c7f":"code","69a99a03":"code","12134294":"code","892ac88a":"code","eecd70db":"code","d16bab84":"code","cfe1e008":"code","656b937b":"code","f48709c5":"markdown","9fe341c2":"markdown","1c373dfd":"markdown","7981a0c7":"markdown"},"source":{"6604e19f":"import pandas as pd\nimport matplotlib as plt\nimport datetime as dt\nfrom datetime import datetime\nimport numpy as np","2dbb24b2":"df = pd.read_csv(\"..\/input\/netflixviewinghistory\/NetflixViewingHistory.csv\") \n#Dowloaded from Netflix\/Settings\/ViewingHistory\ndf.head() \n","b0d80028":"df[\"Series\"]=df[\"Title\"].str.find(\":\")!= -1  \n# If Title's got a \":\" means its an episode of a series, if it doesn't, it's a movie\ndf[\"Date\"]= pd.to_datetime(df[\"Date\"], dayfirst=True) \n#Change Type to manipulate data more easily\ndel df[\"Title\"]                                      \ndf=df.groupby(\"Date\").agg([\"count\", \"sum\"]) \n#Count units watched, sum only to summarise how many of those were series,\n#and total-series=movies \ndate_lim = datetime.today() - dt.timedelta(days=90) \n#Set amount of days for analysis\ndate_lim=date_lim.date()\nidx = pd.date_range(date_lim, datetime.today())    \n#Create Pandas series with the dates to analyse\ndf.index = pd.DatetimeIndex(df.index)       \ndf = df.reindex(idx, fill_value=0)          \n#Set series to be the index to only analyse the days we want\ndf.columns = df.columns.droplevel(0)\ndf = df.reset_index()","964c4c7f":"df.columns=[\"date\",\"total\", \"series\"]                     \n#Rename columns for clearer analysis\ndf[\"date\"]=df[\"date\"].dt.date\ndf[\"movies\"] = df[\"total\"] - df[\"series\"]              \n#Calculate the amount of movies watched\ndf.head()","69a99a03":"ax=df.plot.bar(x=\"date\",y=\"series\",figsize=(20,10), color=\"blue\")\ngraf=df.plot.bar(x=\"date\", y=\"movies\",ax=ax,figsize=(20,10), color=\"red\")\n\n#Reminder! Date of injury:March 5th","12134294":"df[\"weekday\"]= df[\"date\"].apply(lambda x: x.weekday()) \n#Assign week day to every date\ndf[\"weekend\"]=df[\"weekday\"]>4                          \n#0-Monday, 1-Tuesday... 5-Saturday, 6-Sunday, we only care about these last 2\ndel df[\"weekday\"]\nax=df.plot.bar(x=\"date\",y=\"series\",figsize=(20,10), color=\"blue\")\ngraf=df.plot.bar(x=\"date\", y=\"movies\",ax=ax,figsize=(20,10), color=\"red\")\nax.pcolorfast(ax.get_xlim(), ax.get_ylim(),df['weekend'].values[np.newaxis],cmap='YlGn', alpha=0.3)\n#Assign background colors to visualize weekends on the chart\n","892ac88a":"df = pd.read_csv(\"..\/input\/netflixviewinghistory\/NetflixViewingHistory.csv\")\ndf.head()","eecd70db":"df[\"Title\"]=df[\"Title\"].str.split(\":\") \n#Divide title at \":\" because Netflix way of writing content is:\n#SeriesTitle: Season number: Episode name, so we just want to get\n#First part of the string, which also works for movie names\ndf[\"Title\"]=df[\"Title\"].str[0]          \n","d16bab84":"df[\"Date\"]= pd.to_datetime(df[\"Date\"], dayfirst=True)\n#Change Type to manipulate data more easily\ndf[\"Date\"]= df[\"Date\"].dt.date\ndate_lim = datetime.today() - dt.timedelta(days=90) \n#Set amount of days for analysis\ndate_lim=date_lim.date()\ndf=df[df[\"Date\"]>date_lim]\ndel df[\"Date\"]\n","cfe1e008":"df[\"episodes\"] = df.index                        \n#Get variable to be able to count on later on\ndf=df.groupby(\"Title\").agg(\"count\")              \n#Count ocurrences of every show\/movie\ndf=df.sort_values(by=\"episodes\")                 \n","656b937b":"df.tail(10).plot.barh(figsize=(20,10), color=\"blue\")\n\n#The reason for nor ordering in Descending order and plotting the head is because, if done that way, the plot would print \n#the most watched shows on the bottom part of the graph,\n#whereas in this aprox we get the shows in descending order in the graph. ","f48709c5":"As we can see, weekends are usually the days in which they watch the most Netflix, along with some other exception,\nsuch as 2021-03-24 (Argentinian National Holiday), and 2021-04-23, in which they got their COVID shots. \n\nNow let's see what they watched the most.","9fe341c2":"Well, as expected, their consumption of Netflix has spiked since the injury, not only in Average episodes watched per day, but also, how constant they are in watching Netflix (Only 6 Netflix-less days in almost 2 months). Although they watched more movies and episode than before the accident, it's clear that they prefer series over movies.\n\nLet's see if the biggest spikes are on weekends.","1c373dfd":"In this file, the idea is to analyze the consumption of Netflix of a relative of mine who's had a leg injury and to check whether their Netflix time had grown during their recovery time, and how much, aswell as analyzing a bit their consumer patterns. (Date of injury: March 5th)","7981a0c7":"So, on the last 3 months they've binged watched Shtisel, Atypical and Dirty John, truly eclectic! \n\n\nI'd have loved to get the duration of each episode\/movie that they watched, I believe it'd have led to a much deeper understanding of they viewer behaviour, unfortunately, I couldn't find any resources to get specific episode information on the web. However, I believe this analysis provides the general idea of how much the consumption increases in times of sickness\/injury. \n\nThanks for reading.\nComelles Ignacio"}}