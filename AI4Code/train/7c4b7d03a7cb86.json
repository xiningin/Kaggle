{"cell_type":{"dba8b17f":"code","72148b7b":"code","4aaf9618":"code","ac5ada5c":"code","f480984a":"code","639f4444":"code","2aa446df":"markdown","6cabf36d":"markdown"},"source":{"dba8b17f":"import gensim\nimport json\nDIR = '..\/input\/sinonim-bebas-build-word2vec'\nTOP_N = 6","72148b7b":"def produce_synonym(w2v):\n    top_n_similar = {}\n    for key in w2v.wv.vocab.keys():\n        top_n_similar[key] = w2v.wv.similar_by_word(key, topn=TOP_N)\n\n    top_n_similar_true = {}\n    for key in top_n_similar.keys():\n        for tuple_similar in top_n_similar[key]:\n            key_similar = tuple_similar[0]\n            proba_similar = tuple_similar[1]\n            list_of_similar_from_key_similar = [x[0] for x in top_n_similar[key_similar]]\n\n            if key not in list_of_similar_from_key_similar:\n                continue\n            \n            synonim = {\n                    \"word\":key_similar,\n                    \"similarity\":proba_similar\n                }\n            if key in top_n_similar_true:\n                top_n_similar_true[key].append(synonim)\n            else:\n                top_n_similar_true[key] = [synonim]\n\n    print(len(top_n_similar))\n    print(len(top_n_similar_true))\n    print(list(top_n_similar_true.keys())[:10])\n    return top_n_similar_true\n\ndef produce_json(synonym_dict, language_code):\n    result = []\n    for key in synonym_dict.keys():\n        result.append({\n            \"word\":key,\n            \"synonyms\":synonym_dict[key]\n        })\n        \n    with open('data_{}.json'.format(language_code), 'w+') as outfile:\n        json.dump(result, outfile)","4aaf9618":"!ls '..\/input\/sinonim-bebas-build-word2vec'","ac5ada5c":"language_code = 'id'\npath = '{}\/{}wiki_word2vec_100.model'.format(DIR, language_code)\nw2v = gensim.models.word2vec.Word2Vec.load(path)","f480984a":"synonym_dict = produce_synonym(w2v)\nproduce_json(synonym_dict, language_code)","639f4444":"synonym_dict[\"bagus\"]","2aa446df":"# [SINONIM BEBAS] Produce Synonym Bahasa Daerah","6cabf36d":"# Bahasa Indonesia"}}