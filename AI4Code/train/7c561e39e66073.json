{"cell_type":{"fb142426":"code","dbe77f0d":"code","0825f36e":"code","f4fe89a5":"code","e51420ff":"code","3985c4e8":"code","4abcb157":"code","4b21f9ed":"code","ef3ae987":"code","4ff92f4f":"markdown","e5475fe5":"markdown","afd56334":"markdown","644f0412":"markdown","63ee19e7":"markdown","7964a80f":"markdown"},"source":{"fb142426":"import numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nnp.random.seed(123)","dbe77f0d":"# gen. right-skew-norm (log norm) data\nmu, sigma = 3, 1\ns = np.random.lognormal(mu, sigma, 1000)\n\nsns.distplot(s)\nplt.show()","0825f36e":"counts, bin_edges = np.histogram(s, \n                                 bins=5,\n                                 density = True)\npdf = counts\/(sum(counts))\nys = pdf\nxs = bin_edges[1:]\n# regular (x,y) plot where x is `bin_edges` and y is `pdf`\n# plt.plot(xs, ys)\n\n# try to avoid runtime error for logarithm\n# make sure pdf has no `0` cz, log of x<=0 is not defined\n\n# log-log plot\n# (x,y) -> (log(x), log(y))\nlog_ys = np.log(ys)\nlog_xs = np.log(xs)\n\nplt.plot(log_xs, log_ys)\n\nplt.title('Log-Log Plot')\nplt.show()","f4fe89a5":"# log transformation: convert log-norm to norm distribution\nlog_transformed = np.log(s)\n\n# plot\nsns.distplot(log_transformed)\nplt.show()","e51420ff":"# exp transformation: convert norm distribution to log-norm \n# (reverse - get original data back)\nexp_transformed = np.exp(log_transformed)\n\n# plot\nsns.distplot(exp_transformed)\nplt.show()","3985c4e8":"import scipy.stats as stats","4abcb157":"# gen\npareto_data = np.random.pareto(a=2, size=1000)\n\nsns.distplot(pareto_data, kde=False)\nplt.show()","4b21f9ed":"# convert to guass\/norm using power transform\nto_guass, _ = stats.boxcox(pareto_data)\n\n# plot\nsns.distplot(to_guass, kde=True)\nplt.show()","ef3ae987":"# sanity check w\/ probplot (q-q plot)\nfig = plt.figure()\nax1 = fig.add_subplot(111)\n\nprob = stats.probplot(to_guass, dist=stats.norm, plot=ax1)\nax1.set_title('Probplot after Box-Cox transformation')\n\nplt.show()","4ff92f4f":"## Log Transformation","e5475fe5":"**Does it work on left skewed data?**","afd56334":"   # Power Transform \/ Box Cox Transform \/ Pareto-to-Guass Transform","644f0412":"**Verify if log-norm distribution using *log-log plot***\n\n> Straightness of curve depends on bins too. lower the bin more straight the line is.","63ee19e7":"- **NOTE**\n    \n    - log transformation converts right-skewed (log norm distributoin) to guassian distribution\n        - but doesn't work for power law(pareto) distribution\n    - power transform converts power law or pareto distribution -> guassian distribution","7964a80f":"# Power \/ Box-Cox Transformation"}}