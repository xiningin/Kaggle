{"cell_type":{"31a0f991":"code","2db78f6d":"code","0ac3efad":"code","bc3ad0e1":"code","6fe81e51":"code","5b9ce203":"code","df44b584":"code","ff8c25cb":"code","ff91597b":"code","31aa6f5f":"code","7b78e620":"code","6ac7ed02":"code","906e4774":"code","ff68b071":"code","94321d94":"code","a8c3e061":"code","48aa9310":"code","dd71f41c":"code","4455f5b7":"code","81f7062b":"code","d92b9260":"code","edaaeb9d":"code","8412d3c2":"code","46d74490":"code","fb463339":"markdown","efdbcf1f":"markdown","bed3d017":"markdown","24a1913f":"markdown","0f4bbb37":"markdown","73162220":"markdown","c998e213":"markdown","891eb536":"markdown","37bb0017":"markdown","3173b3b1":"markdown"},"source":{"31a0f991":"print('\\n'.join([''.join([(' Veri_Bilimi_Okulu_VBO_Veri_'[(x-y) % len('Veri_Bilimi_Okulu_VBO_Veri_')] \n                           if ((x*0.05)**2+(y*0.1)**2-1)**3-(x*0.05)**2*(y*0.1)**3 <= 0 else ' ') \n                          for x in range(-30, 30)]) for y in range(15, -15, -1)]))","2db78f6d":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport gc\nimport time\nimport matplotlib.pyplot as plt\nfrom contextlib import contextmanager\nfrom lightgbm import LGBMClassifier\nfrom sklearn.metrics import roc_auc_score\nfrom sklearn.model_selection import KFold, StratifiedKFold\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import GridSearchCV\nfrom warnings import filterwarnings\nimport warnings\nwarnings.filterwarnings(\"ignore\", category=DeprecationWarning) \nwarnings.filterwarnings(\"ignore\", category=FutureWarning) \nwarnings.filterwarnings(\"ignore\", category=UserWarning) \n","0ac3efad":"df_pos= pd.read_csv(\"..\/input\/home-credit-default-risk\/POS_CASH_balance.csv\")","bc3ad0e1":"df_pos.head()","6fe81e51":"df_pos.columns","5b9ce203":"df_pos.shape","df44b584":"df_pos.index","ff8c25cb":"df_pos.isnull().values.any()","ff91597b":"df_pos.isnull().sum()","31aa6f5f":"def missing_values_table(df_pos):\n        mis_val = df_pos.isnull().sum()\n        mis_val_percent = 100 * df_pos.isnull().sum() \/ len(df_pos)\n        mis_val_table = pd.concat([mis_val, mis_val_percent], axis=1)\n        mis_val_table_ren_columns = mis_val_table.rename(\n        columns = {0 : 'Missing Values', 1 : '% of Total Values'})\n        mis_val_table_ren_columns = mis_val_table_ren_columns[\n            mis_val_table_ren_columns.iloc[:,1] != 0].sort_values(\n        '% of Total Values', ascending=False).round(1)\n     \n        print (\"Your selected dataframe has \" + str(df_pos.shape[1]) + \" columns.\\n\"      \n            \"There are \" + str(mis_val_table_ren_columns.shape[0]) +\n              \" columns that have missing values.\")\n        \n        return mis_val_table_ren_columns","7b78e620":"missing_values_table(df_pos)","6ac7ed02":"df_pos.info()","906e4774":"# Number of unique classes in each object column\ndf_pos.select_dtypes('object').apply(pd.Series.nunique, axis = 0)","ff68b071":"cat_cols = [col for col in df_pos.columns if df_pos[col].dtypes == 'O']\ncat_cols","94321d94":"def cat_summary(data, categorical_cols, target, number_of_classes=10):\n    var_count = 0  # How many categorical variables will be reported?\n    vars_more_classes = []  # Variables with more than a certain number of classes will be stored.\n    for var in categorical_cols:\n        if len(df_pos[var].value_counts()) <= number_of_classes:  # Choose by number of classes.\n            print(pd.DataFrame({var: data[var].value_counts(),\n                                \"Ratio\": 100 * data[var].value_counts() \/ len(data),\n                                \"TARGET_MEDIAN\": data.groupby(var)[target].median()}), end=\"\\n\\n\\n\")\n            var_count += 1\n        else:\n            vars_more_classes.append(data[var].name)\n    print('%d categorical variables have been described' % var_count, end=\"\\n\\n\")\n    print('There are', len(vars_more_classes), \"variables have more than\", number_of_classes, \"classes\", end=\"\\n\\n\")\n    print('Variable names have more than %d classes:' % number_of_classes, end=\"\\n\\n\")\n    print(vars_more_classes)\n\n\ncat_summary(df_pos, cat_cols, \"SK_ID_CURR\")","a8c3e061":"# NAME_CONTRACT_STATUS: Contract status during the month\ndf_pos[\"NAME_CONTRACT_STATUS\"].value_counts()","48aa9310":"# Displaying Categorical Variables with Column Graph\nsns.countplot(x=\"NAME_CONTRACT_STATUS\", data=df_pos)\nplt.show()","dd71f41c":"df_pos.describe().T","4455f5b7":"df_pos.describe([0.05, 0.10, 0.25, 0.50, 0.75, 0.80, 0.90, 0.95, 0.99]).T","81f7062b":"# How many numeric variables are in the data set?\nnum_cols = [col for col in df_pos.columns if df_pos[col].dtypes != 'O']\nprint('Number of numerical variables: ', len(num_cols))","d92b9260":"# What are the names of the numeric variables?\nnum_cols","edaaeb9d":"# Visualization of numeric variables\ndef hist_for_nums(data, numeric_cols):\n    col_counter = 0\n    data = data.copy()\n    for col in numeric_cols:\n        data[col].hist(bins=20)\n        plt.xlabel(col)\n        plt.title(col)\n        plt.show()\n        col_counter += 1\nhist_for_nums(df_pos, num_cols)","8412d3c2":"# Correlation Matrix\ncorrmat = df_pos.corr()\nfig = plt.figure(figsize = (10,7))\nsns.heatmap(corrmat,vmax = 1,square = True,annot = True,vmin = -1)\nplt.show()","46d74490":"# One hot encoding was applied to NAME_CONTRACT_STATUS categorical variables.\ndf_pos= pd.get_dummies(df_pos, columns=[\"NAME_CONTRACT_STATUS\"], drop_first=True)","fb463339":"* SK_ID_PREV \tHome Credit kredisi ile ili\u015fkili \u00f6nceki kredilerin ID\u2019si\n* SK_ID_CURR\tKredinin ID numaras\u0131\n* MONTHS_BALANCE\tBa\u015fvuru tarihine g\u00f6re bakiye ay\u0131 (-1 de\u011feri, daha yeni bakiye tarihine kar\u015f\u0131l\u0131k geliyor.)\n* CNT_INSTALMENT\t\u00d6nceki kredinin s\u00fcresi (zamanla de\u011fi\u015febilir)\n* CNT_INSTALMENT_FUTURE\t\u00d6nceki krediden kalan \u00f6denmesi gereken taksitler\n* NAME_CONTRACT_STATUS\tAy boyunca s\u00f6zle\u015fme durumu\n* SK_DPD\t\u00d6nceki kredi ay\u0131ndan itibaren ge\u00e7en g\u00fcnler\n* SK_DPD_DEF\tBir \u00f6nceki kredinin toleransla (d\u00fc\u015f\u00fck kredi miktarlar\u0131 olan bor\u00e7lar dikkate al\u0131nmaz) vadesi ge\u00e7en g\u00fcnler","efdbcf1f":"# POS_CASH_balance","bed3d017":"3. ANALYSIS of CATEGORICAL VARIABLE","24a1913f":"2. UNDERSTANDING THE DATA-SET","0f4bbb37":"5. ANALYSIS of NUMERICAL VARIABLE","73162220":"1. IMPORT SOME NECESSARY LIBRARIES","c998e213":"![](http:\/\/)![image.png](attachment:image.png)\nSource:https:\/\/programmer.group\/","891eb536":"6. ONE-HOT ENCODING","37bb0017":"![image.png](attachment:image.png)","3173b3b1":"3. Checking missing value"}}