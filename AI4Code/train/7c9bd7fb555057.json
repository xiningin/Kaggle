{"cell_type":{"02fe3985":"code","7d678651":"code","596d259e":"code","980cb68d":"code","0c98e4a4":"code","fba410a6":"code","a719ba8e":"code","4de0c081":"code","3eb4f73b":"code","4e141426":"code","fe2d9e41":"code","f005431e":"code","760c9aeb":"code","2a78f394":"code","2580db99":"code","5dd6f8d2":"code","4487601e":"code","20be13bc":"code","ce0830ce":"code","e047e256":"code","8a7bf9e1":"code","5535ab8e":"code","9cf3dfa0":"code","3781f988":"markdown","4cbcdd7a":"markdown","6ffe6861":"markdown","b8a00635":"markdown","94662db9":"markdown","e971cb1a":"markdown","f45e62cf":"markdown","b328a6f9":"markdown"},"source":{"02fe3985":"import pandas as pd\nimport numpy as np \nimport matplotlib.pyplot as plt\nfrom matplotlib import style\nimport seaborn as sns\nimport warnings\nfrom sklearn.preprocessing import PolynomialFeatures\n\nwarnings.filterwarnings(\"ignore\")","7d678651":"df = pd.read_csv('..\/input\/brazilian-tiktok-trending-videos\/TikTokData').drop(columns=['Unnamed: 0'])","596d259e":"df.columns","980cb68d":"plt.figure(figsize=(15, 8))\nsns.kdeplot(df['video_length'], fill=True, color='g')\nplt.xlabel('Video Length Seconds')\nplt.title('Video Length')\n","0c98e4a4":"plt.figure(figsize=(15, 8))\nsns.histplot(df['n_likes'], color='r')\nplt.ticklabel_format(style = 'plain')\nplt.xlim(-10000, 1000000 )\nplt.xlabel('Number of Likes')\nplt.title('Likes')\n\nplt.figure(figsize=(15, 8))\nsns.kdeplot(df['n_likes'], color='r', fill=True)\nplt.ticklabel_format(style = 'plain')\nplt.xlim(-10000, 1000000 )\nplt.xlabel('Number of Likes')\nplt.title('Likes')\n","fba410a6":"print('Mean of likes is' , df['n_likes'].mean())\nprint( 'Maximum number of likes is',df['n_likes'].max())\nprint('From:',df[df['n_likes']==df['n_likes'].max()].user_name)\nprint('Minimum number of likes is' ,df['n_likes'].min())","a719ba8e":"style.use('bmh')\nplt.figure(figsize=(15, 8))\nsns.histplot(df['n_comments'], palette='inferno')\nplt.ticklabel_format(style = 'plain')\nplt.xlim(0, 15000)\nplt.xlabel('Number of Comments')\nplt.title('Comments')\n\nplt.figure(figsize=(15, 8))\nsns.kdeplot(df['n_comments'], fill=True, palette='reds')\nplt.ticklabel_format(style = 'plain')\nplt.xlim(0, 15000)\nplt.xlabel('Number of Comments')\nplt.title('Comments')","4de0c081":"print('Mean of comments is ' , df['n_comments'].mean())\nprint( 'Maximum number of comments is ',df['n_comments'].max())\nprint('Minimum number of comments is ' ,df['n_comments'].min())","3eb4f73b":"plt.figure(figsize=(15, 8))\nsns.histplot(df['n_plays'], color='brown')\nplt.ticklabel_format(style = 'plain')\nplt.xlim(0, 10000000)\nplt.xlabel('Number of Plays')\nplt.title('Plays')\n\nplt.figure(figsize=(15, 8))\nsns.kdeplot(df['n_plays'], fill=True, color='brown')\nplt.ticklabel_format(style = 'plain')\nplt.xlim(0, 10000000)\nplt.xlabel('Number of Plays')\nplt.title('Plays')","4e141426":"print('Mean of plays is' , df['n_plays'].mean())\nprint( 'Maximum number of plays is',df['n_plays'].max())\nprint('Minimum number of plays is' ,df['n_plays'].min())","fe2d9e41":"## Scatter likes and plays\nplt.figure(figsize=(15, 8))\nplt.scatter(df[df.n_likes > 50000]['n_plays'], df[df.n_likes > 50000]['n_likes'], s=9 )\n\nx = np.array(df[df.n_likes > 50000]['n_plays'])\ny = np.array(df[df.n_likes > 50000]['n_likes'])\n\n\nmymodel = np.poly1d(np.polyfit(x, y, 3))\nmyline = np.linspace(max(x), max(y))\nplt.plot(myline, mymodel(myline), linewidth=0.9, color='r')\n\nplt.ticklabel_format(style = 'plain')\nplt.xlabel('Number of Plays')\nplt.ylabel('Number of Likes')\nplt.title('Plays X Likes')\n","f005431e":"plt.figure(figsize=(15, 8))\nplt.scatter(df[df.n_likes > 50000]['n_likes'], df[df.n_likes > 50000]['n_comments'], s=9 )\n\nx = np.array(df[df.n_likes > 50000]['n_likes'])\ny = np.array(df[df.n_likes > 50000]['n_comments'])\n\n\nmymodel = np.poly1d(np.polyfit(x, y, 3))\nmyline = np.linspace(max(x), max(y))\nplt.plot(myline, mymodel(myline), linewidth=0.9, color='r')\n\nplt.ticklabel_format(style = 'plain')\nplt.xlabel('Number of Likes')\nplt.ylabel('Number of Comments')\nplt.title('Likes x Comments')","760c9aeb":"df_users = df.groupby(['user_name']).sum()\npal = sns.color_palette(\"Blues\", as_cmap=True)\n\n\ndf_users = df_users.sort_values(by='n_plays', ascending=False)\nplt.figure(figsize=(15,8))\nplt.ticklabel_format(style = 'plain')\nplt.title('Most watched Usernames')\ng = sns.barplot(df_users.index[:30], df_users.n_plays[:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\n\nplt.ylabel('Number of plays')\nplt.xlabel('Username')","2a78f394":"df_users = df_users.sort_values(by='n_likes', ascending=False)\n\nplt.figure(figsize=(15,8))\nplt.ticklabel_format(style = 'plain')\nplt.title('Most Liked Usernames')\ng = sns.barplot(df_users.index[:30], df_users.n_likes[:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\n\nplt.ylabel('Number of Likes')\nplt.xlabel('Username')","2580db99":"df_users = df_users.sort_values(by='n_comments', ascending=False)\n\nplt.figure(figsize=(15,8))\nplt.ticklabel_format(style = 'plain')\nplt.title('Most Commented Usernames')\ng = sns.barplot(df_users.index[:30], df_users.n_comments[:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\n\nplt.ylabel('Number of Comments')\nplt.xlabel('Username')","5dd6f8d2":"df_users = df_users.sort_values(by='n_shares', ascending=False)\n\nplt.figure(figsize=(18,8))\nplt.ticklabel_format(style = 'plain')\nplt.title('Most Shared Usernames')\ng = sns.barplot(df_users.index[:30], df_users.n_shares[:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\n\nplt.ylabel('Number of Shares')\nplt.xlabel('Username')","4487601e":"df_users['engagement'] = df_users['n_likes']\/df_users['n_plays']\ndf_users = df_users.sort_values(by='engagement', ascending=False)\n\n\n\nplt.figure(figsize=(15,8))\nplt.ticklabel_format(style = 'plain')\ng = sns.barplot(df_users.index[:30], df_users['engagement'][:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\n\nplt.xlabel('Username')\nplt.title('Highest Likes\/Plays Rate')\nplt.ylabel('Likes\/Plays')\n","20be13bc":"df_users['engagement'] = df_users['n_likes']\/df_users['n_plays']\ndf_users = df_users.sort_values(by='engagement', ascending=False)\n\n\n\nplt.figure(figsize=(15,8))\nplt.ticklabel_format(style = 'plain')\ng = sns.barplot(df_users.index[df_users.n_plays >= 1000000][:30], df_users[df_users.n_plays >= 1000000]['engagement'][:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\n\nplt.xlabel('Username')\nplt.title('Big Accounts Highest Likes\/Plays Rate')\nplt.ylabel('Likes\/Plays')","ce0830ce":"df.music_url[0]","e047e256":"df_music = df.groupby(['music_url']).sum()\ndf_music = df_music.drop(columns=['user_id', 'video_id', 'video_time', 'video_length'])\ndf_music = df_music.sort_values(by='n_plays', ascending=False)\nmusic_names = []\nfor i in df_music.index:\n    music_names.append(list(df[df.music_url == i].music_name)[0])\ndf_music['music_name'] = music_names","8a7bf9e1":"\nrestrictions = ['original sound', 'suono originale', 'som original', 'sonido original']\nfor i in restrictions:\n    df_music = df_music[df_music.music_name != i ]","5535ab8e":"df_music = df_music.sort_values(by=['n_plays'], ascending=False)\nplt.figure(figsize=(20,8))\nplt.ticklabel_format(style = 'plain')\ng = sns.barplot(df_music.music_name[:30], df_music.n_plays[:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\nplt.ylabel('Number of Plays')\nplt.xlabel('Song Name')\nplt.title('Number of Plays per Song')\nprint('Plotted')","9cf3dfa0":"df_music = df_music.sort_values(by=\"n_likes\", ascending=False)\nplt.figure(figsize=(20,8))\nplt.ticklabel_format(style = 'plain')\ng = sns.barplot(df_music.music_name[:30], df_music.n_likes[:30], palette='inferno')\ng.set_xticklabels(g.get_xticklabels(),rotation=90)\nprint('Plotted')","3781f988":"Upload dataset","4cbcdd7a":"The maximum number of plays corresponds almost to the entire population of Brazil! ","6ffe6861":"Drop all of the \"Original Sound\" named sounds, because that doesn't provide any important information about the viral musics played in TikTok.\n","b8a00635":"The previous analysis be misleading. Smaller accounts with fewer plays could be displayed on the graph if it received a larger amount of likes from friends and family, for example.\n\nNow we shall plot only accounts with total \"plays\" above 1 milion.","94662db9":"Plot the video length","e971cb1a":"The metrics of the \"catchiness\" of videos, and how videomakers managed to turn views into likes is something interesting to look at. \n","f45e62cf":"# The user khaby.lame seems to be the strongest TikToker among the brazilian audience in May 2021.\n<img src= \"https:\/\/www.newsunzip.com\/wp-content\/uploads\/2021\/04\/Khaby-Lame.jpg\">\n","b328a6f9":"As I previously stated, TikTok is disrupting the way the music industry works. \nSongs that go viral in the App have significantly higher chances to became Spotify, or even YouTube view and likes kings. And therefore, bring profit to the artists and producers behind the song.\n\nIt's strongly believed that the sequence of events is as follows:\n1) Explode in the TikTok environment throught some dance or trend.\n\n\n2) Go viral in the \"real world\" of music."}}