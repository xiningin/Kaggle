{"cell_type":{"82d83b1c":"code","afdea632":"code","b979f8e8":"code","64fda3eb":"code","396a5cf7":"code","6aaaf49b":"code","5e97a95a":"code","24c7f91f":"code","bebc3e39":"code","5e69628f":"code","215781f8":"code","484517c0":"code","4b5b63fe":"code","6a10576f":"code","79f5c1a6":"code","2f594dd5":"code","c28aabeb":"code","5e2febc2":"markdown","286298f0":"markdown","42d3b1ae":"markdown","b641dca1":"markdown"},"source":{"82d83b1c":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns \nimport warnings\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\nimport plotly.graph_objs as go\nwarnings.filterwarnings(\"ignore\")","afdea632":"import warnings\nwarnings.filterwarnings('ignore')\nimport pandas as pd\nimport numpy as py\nimport matplotlib,pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go","b979f8e8":"data19_20 = pd.read_csv('..\/input\/football-results-and-betting-odds-data-of-epl\/2019-2020.csv')","64fda3eb":"data19_20.head()","396a5cf7":"data19_20.info()","6aaaf49b":"print('Number of rows in 19-20 dataset:', data19_20.shape[0])\nprint('Number of columns in 19-20 dataset:', data19_20.shape[1])","5e97a95a":"data19_20.describe()","24c7f91f":"check = data19_20['Date'].value_counts().reset_index()\ncheck.columns = ['date', 'games']\n\nfig = px.bar(\n    check, \n    y='date', \n    x=\"games\", \n    orientation='h', \n    title='Number of games for every date', \n    height=900, \n    width=800\n)\n\nfig.show()","bebc3e39":"check = data19_20['Time'].value_counts().reset_index()\ncheck.columns = ['time', 'games']\ncheck = check.sort_values('games')\n\nfig = px.bar(\n    check, \n    y='time', \n    x=\"games\", \n    orientation='h', \n    title='Number of games for every time', \n    height=400, \n    width=800\n)\n\nfig.show()","5e69628f":"away_team=pd.DataFrame(data19_20.groupby('AwayTeam')['FTAG'].sum().index)\naway_team['FTAG']=data19_20.groupby('AwayTeam')['FTAG'].sum().values\naway_team = away_team.sort_values('FTAG')\nfig = px.bar(\n    away_team, \n    x='FTAG',\n    y='AwayTeam', \n    orientation='h',\n    title='Away team goals', \n    height=900, \n    width=800\n)\n\nfig.show()","215781f8":"home_team=pd.DataFrame(data19_20.groupby('HomeTeam')['FTHG'].sum().index)\nhome_team['FTHG']=data19_20.groupby('HomeTeam')['FTHG'].sum().values\nhome_team = home_team.sort_values('FTHG')\nfig = px.bar(\n    home_team, \n    x='FTHG',\n    y='HomeTeam', \n    orientation='h',\n    title='Home team goals', \n    height=900, \n    width=800\n)\n\nfig.show()","484517c0":"plt = data19_20.groupby('HomeTeam')['FTR'].value_counts().unstack().plot(kind='bar', figsize=(20, 4))\nplt.legend(['lose','draw','win'])","4b5b63fe":"plt = data19_20.groupby('AwayTeam')['FTR'].value_counts().unstack().plot(kind='bar', figsize=(20, 4))\nplt.legend(['win','draw','lose'])","6a10576f":"check = data19_20['Referee'].value_counts().reset_index()\ncheck.columns = ['Referee', 'games']\ncheck = check.sort_values('games')\n\nfig = px.bar(\n    check, \n    y='Referee', \n    x=\"games\",\n    color='Referee',\n    orientation='h', \n    title='Number of games for every Referee', \n    height=900, \n    width=800\n)\n\nfig.show()","79f5c1a6":"shots=pd.DataFrame(data19_20.groupby('HomeTeam')['HS'].mean().index)\nshots['avg_HS']=data19_20.groupby('HomeTeam')['HS'].mean().values\nshots['avg_AS']=data19_20.groupby('AwayTeam')['AS'].mean().values\n#shots = home_team.sort_values('avg_HS')\nfig = px.bar(\n    shots, \n    x=['avg_HS', 'avg_AS'],\n    y='HomeTeam',\n    labels={'HomeTeam':'Team', 'value':'Average shots of Home & Away'},\n    orientation='h', \n    title='Team Average Shots', \n    height=900, \n    width=800\n)\n\nfig.show()","2f594dd5":"home_team=pd.DataFrame(data19_20.groupby('HomeTeam')['B365H'].mean().index)\nhome_team['B365H']=data19_20.groupby('HomeTeam')['B365H'].mean().values\nhome_team = home_team.sort_values('B365H')\nfig = px.bar(\n    jome_team, \n    x='B365H',\n    y='HomeTeam', \n    orientation='h',\n    color='HomeTeam',\n    title='Bet365 Home Team Average Win Odds', \n    height=900, \n    width=800\n)\n\nfig.show()","c28aabeb":"away_team=pd.DataFrame(data19_20.groupby('AwayTeam')['B365A'].mean().index)\naway_team['B365A']=data19_20.groupby('AwayTeam')['B365A'].mean().values\naway_team = away_team.sort_values('B365A')\nfig = px.bar(\n    away_team, \n    x='B365A',\n    y='AwayTeam', \n    orientation='h',\n    color='AwayTeam',\n    title='Away team goals', \n    height=900, \n    width=800\n)\n\nfig.show()","5e2febc2":"# **Referee**","286298f0":"# **WDL(win, draw, lose) of Home Team and Away Team**","42d3b1ae":"* Key to results data:\n* \n* Div = League Division\n* Date = Match Date (dd\/mm\/yy)\n* HomeTeam = Home Team\n* AwayTeam = Away Team\n* FTHG = Full Time Home Team Goals\n* FTAG = Full Time Away Team Goals\n* FTR = Full Time Result (H=Home Win, D=Draw, A=Away Win)\n* HTHG = Half Time Home Team Goals\n* HTAG = Half Time Away Team Goals\n* HTR = Half Time Result (H=Home Win, D=Draw, A=Away Win)\n* \n* Match Statistics (where available)\n* Attendance = Crowd Attendance\n* Referee = Match Referee\n* HS = Home Team Shots\n* AS = Away Team Shots\n* HST = Home Team Shots on Target\n* AST = Away Team Shots on Target\n* HHW = Home Team Hit Woodwork\n* AHW = Away Team Hit Woodwork\n* HC = Home Team Corners\n* AC = Away Team Corners\n* HF = Home Team Fouls Committed\n* AF = Away Team Fouls Committed\n* HO = Home Team Offsides\n* AO = Away Team Offsides\n* HY = Home Team Yellow Cards\n* AY = Away Team Yellow Cards\n* HR = Home Team Red Cards\n* AR = Away Team Red Cards\n* HBP = Home Team Bookings Points (10 = yellow, 25 = red)\n* ABP = Away Team Bookings Points (10 = yellow, 25 = red)\n* \n* Key to 1X2 (match) betting odds data:\n* \n* B365H = Bet365 home win odds\n* B365D = Bet365 draw odds\n* B365A = Bet365 away win odds\n* BSH = Blue Square home win odds\n* BSD = Blue Square draw odds\n* BSA = Blue Square away win odds\n* BWH = Bet&Win home win odds\n* BWD = Bet&Win draw odds\n* BWA = Bet&Win away win odds\n* GBH = Gamebookers home win odds\n* GBD = Gamebookers draw odds\n* GBA = Gamebookers away win odds\n* IWH = Interwetten home win odds\n* IWD = Interwetten draw odds\n* IWA = Interwetten away win odds\n* LBH = Ladbrokes home win odds\n* LBD = Ladbrokes draw odds\n* LBA = Ladbrokes away win odds\n* PSH = Pinnacle Sports home win odds\n* PSD = Pinnacle Sports draw odds\n* PSA = Pinnacle Sports away win odds\n* SOH = Sporting Odds home win odds\n* SOD = Sporting Odds draw odds\n* SOA = Sporting Odds away win odds\n* SBH = Sportingbet home win odds\n* SBD = Sportingbet draw odds\n* SBA = Sportingbet away win odds\n* SJH = Stan James home win odds\n* SJD = Stan James draw odds\n* SJA = Stan James away win odds\n* SYH = Stanleybet home win odds\n* SYD = Stanleybet draw odds\n* SYA = Stanleybet away win odds\n* VCH = VC Bet home win odds\n* VCD = VC Bet draw odds\n* VCA = VC Bet away win odds\n* WHH = William Hill home win odds\n* WHD = William Hill draw odds\n* WHA = William Hill away win odds\n* \n* Bb1X2 = Number of BetBrain bookmakers used to calculate match odds averages and maximums\n* BbMxH = Betbrain maximum home win odds\n* BbAvH = Betbrain average home win odds\n* BbMxD = Betbrain maximum draw odds\n* BbAvD = Betbrain average draw win odds\n* BbMxA = Betbrain maximum away win odds\n* BbAvA = Betbrain average away win odds\n* \n* \n* \n* Key to total goals betting odds:\n* \n* BbOU = Number of BetBrain bookmakers used to calculate over\/under 2.5 goals (total goals) averages and maximums\n* BbMx>2.5 = Betbrain maximum over 2.5 goals\n* BbAv>2.5 = Betbrain average over 2.5 goals\n* BbMx<2.5 = Betbrain maximum under 2.5 goals\n* BbAv<2.5 = Betbrain average under 2.5 goals\n* \n* GB>2.5 = Gamebookers over 2.5 goals\n* GB<2.5 = Gamebookers under 2.5 goals\n* B365>2.5 = Bet365 over 2.5 goals\n* B365<2.5 = Bet365 under 2.5 goals\n* \n* \n* Key to Asian handicap betting odds:\n* \n* BbAH = Number of BetBrain bookmakers used to Asian handicap averages and maximums\n* BbAHh = Betbrain size of handicap (home team)\n* BbMxAHH = Betbrain maximum Asian handicap home team odds\n* BbAvAHH = Betbrain average Asian handicap home team odds\n* BbMxAHA = Betbrain maximum Asian handicap away team odds\n* BbAvAHA = Betbrain average Asian handicap away team odds\n* \n* GBAHH = Gamebookers Asian handicap home team odds\n* GBAHA = Gamebookers Asian handicap away team odds\n* GBAH = Gamebookers size of handicap (home team)\n* LBAHH = Ladbrokes Asian handicap home team odds\n* LBAHA = Ladbrokes Asian handicap away team odds\n* LBAH = Ladbrokes size of handicap (home team)\n* B365AHH = Bet365 Asian handicap home team odds\n* B365AHA = Bet365 Asian handicap away team odds\n* B365AH = Bet365 size of handicap (home team)","b641dca1":"# **Team Average Shots of Home & Away**"}}