{"cell_type":{"b7f9d3b5":"code","f83350c6":"code","3e721da8":"code","60aaaacc":"code","8a6542e6":"code","10b93420":"code","2cd677e4":"code","6afe410d":"code","718773e3":"code","b88ff312":"code","1870ef93":"code","35a5a8ae":"code","f5d22b38":"code","4fd0c8d4":"code","3123d14c":"code","8bb47b2e":"code","d63b882b":"code","c7e76598":"code","8082558e":"code","39e29d50":"code","1b56030f":"code","88ae1652":"code","f4337363":"markdown","22aae6ca":"markdown","4708d573":"markdown","0e83ba06":"markdown","eeb1e83b":"markdown","481b504a":"markdown","59ee8cfe":"markdown","659f2159":"markdown","48af7377":"markdown","35dc9bb1":"markdown","4c575e08":"markdown","688eab4f":"markdown","4dd8affb":"markdown","68189f7a":"markdown","31edb4ff":"markdown","db460e4b":"markdown","bef00541":"markdown"},"source":{"b7f9d3b5":"## Loading the Libraries\nimport pandas as pd\nimport numpy as np\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n!pip install bar_chart_race\nimport bar_chart_race as bcr\nsns.set(context=\"notebook\", palette=\"Spectral\", style = 'darkgrid' ,font_scale = 1.5, color_codes=True)\nimport os\nimport folium\nimport warnings\nwarnings.filterwarnings(\"ignore\")","f83350c6":"## Loading the Dataset\nindia_dataset = pd.read_csv(\"\/kaggle\/input\/covid19-in-india\/covid_19_india.csv\")\nindia_dataset['State\/UnionTerritory'].unique()\nindia_dataset = india_dataset[~india_dataset['State\/UnionTerritory'].isin(['Unassigned', 'Nagaland#', 'Jharkhand#','Cases being reassigned to states'])]\nindia_dataset['Date'] = pd.to_datetime(india_dataset['Date'],format = \"%d\/%m\/%y\")\nindia_dataset = india_dataset.replace(np.nan,0)\n## Loading the dataset\nindia_date_state_wise_cases = india_dataset.groupby(['Date','State\/UnionTerritory'])['Cured','Deaths','Confirmed'].sum().reset_index()\nindia_date_state_wise_cases['Active_Cases'] = india_date_state_wise_cases['Confirmed'] - (india_date_state_wise_cases['Cured'] + india_date_state_wise_cases['Deaths'])\nindia_date_state_wise_cases['Mortality Rate(per 100)'] = (india_date_state_wise_cases['Deaths']\/india_date_state_wise_cases['Confirmed'])*100","3e721da8":"## Total Cases\ntotal_confirmed_cases = india_date_state_wise_cases.groupby(['Date'])['Confirmed'].sum().reset_index()\nfig = px.line(total_confirmed_cases, x = \"Date\", y = \"Confirmed\")\nfig.update_layout(title ='Positive cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Positive of COVID-19 Cases')\nfig.show()","60aaaacc":"total_active_cases = india_date_state_wise_cases.groupby(['Date'])['Active_Cases'].sum().reset_index()\nfig = px.line(total_active_cases, x = \"Date\", y = \"Active_Cases\")\nfig.add_annotation(\n            x=\"2020-03-22\",\n            y= total_active_cases['Active_Cases'].max(),\n            text=\"Lockdown starts\",\n             font=dict(\n            family=\"Courier New, monospace\",\n            size=16,\n            color=\"red\"\n            ),\n)\n\nfig.add_shape(\n        # Line Vertical\n        dict(\n            type=\"line\",\n            x0=\"2020-03-22\",\n            y0=total_active_cases['Active_Cases'].max(),\n            x1=\"2020-03-22\",\n    \n            line=dict(\n                color=\"red\",\n                width=3\n            )\n))\nfig.add_annotation(\n            x=\"2020-06-08\",\n            y= total_active_cases['Active_Cases'].max(),\n            text=\"Lockdown ends\",\n             font=dict(\n            family=\"Courier New, monospace\",\n            size=16,\n            color=\"red\"\n            ),\n)\n\nfig.add_shape(\n        # Line Vertical\n        dict(\n            type=\"line\",\n            x0=\"2020-06-08\",\n            y0=total_active_cases['Active_Cases'].max(),\n            x1=\"2020-06-08\",\n    \n            line=dict(\n                color=\"red\",\n                width=3\n            )\n))\nfig.update_layout(title ='Positive cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Positive of COVID-19 Cases'\n                 )\nfig.show()","8a6542e6":"total_active_cases['log_Active_Cases'] = np.log(total_active_cases['Active_Cases'])\nfig = px.line(total_active_cases, x = \"Date\", y = \"log_Active_Cases\")\nfig.update_layout(title ='Logarithm of Active cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Active Cases of COVID-19')\nfig.show()","10b93420":"total_death_cases = india_date_state_wise_cases.groupby(['Date'])['Deaths'].sum().reset_index()\nfig = px.line(total_death_cases, x = \"Date\", y = \"Deaths\")\nfig.update_layout(title ='Deaths COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Deaths from COVID-19')\nfig.show()","2cd677e4":"total_death_cases['log_Deaths'] = np.log(total_death_cases['Deaths'])\nfig = px.line(total_death_cases, x = \"Date\", y = \"log_Deaths\")\nfig.update_layout(title ='Logarithm of Deaths from COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Deaths of COVID-19')\nfig.show()","6afe410d":"most_effected_covid_states = india_date_state_wise_cases.groupby('State\/UnionTerritory').sum().sort_values('Confirmed',ascending = False)\ntop10_most_effected_states = most_effected_covid_states.head(10)\ntop10_most_effected_states['State\/UnionTerritory'] = top10_most_effected_states.index\ntop_states = top10_most_effected_states['State\/UnionTerritory'].tolist()\n## Check if the states name is present in \"top 10 effected states\" then include in the dataset\nindia_date_state_wise_cases_filtered = india_date_state_wise_cases[india_date_state_wise_cases['State\/UnionTerritory'].isin(top_states)]","718773e3":"fig = px.line(india_date_state_wise_cases_filtered, x = \"Date\", y = \"Confirmed\", color ='State\/UnionTerritory',color_discrete_sequence = px.colors.qualitative.Dark24)\nfig.update_layout(title ='State wise cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Confirmed Corona Cases over time State wise')\nfig.show()","b88ff312":"fig = px.line(india_date_state_wise_cases_filtered, x = \"Date\", y = \"Active_Cases\", color ='State\/UnionTerritory')\nfig.update_layout(title ='State wise cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Active Corona Cases over time State wise')\nfig.show()","1870ef93":"india_date_wise_cases = india_dataset.groupby(['Date'])['Cured','Deaths','Confirmed'].sum().reset_index()\nindia_date_wise_cases['Active_Cases'] = india_date_wise_cases['Confirmed'] - (india_date_wise_cases['Cured'] + india_date_wise_cases['Deaths'])\nfig = go.Figure()\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'], y = india_date_wise_cases['Confirmed'],\n                    mode = 'lines + markers',\n                    name = 'Confirmed Cases'))\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'], y = india_date_wise_cases['Deaths'],\n                    mode = 'lines + markers',\n                    name = 'Deaths'))\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'] , y = india_date_wise_cases['Cured'] ,\n                    mode ='lines + markers',\n                    name ='Cured'))\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'] , y = india_date_wise_cases['Active_Cases'] ,\n                    mode ='lines + markers',\n                    name ='Active Cases'))\nfig.update_layout(title ='Daily Death,Recovered and New Cases of COVID-19 reported in India',\n                   xaxis_title ='Date',\n                   yaxis_title ='Cases')\n\n\nfig.show()","35a5a8ae":"india_state_covid_cases = india_dataset.drop_duplicates([\"State\/UnionTerritory\"], keep = 'last', inplace = False)\nindia_state_covid_cases = india_state_covid_cases[[\"State\/UnionTerritory\",\"Cured\",\"Deaths\",\"Confirmed\"]]\nindia_state_covid_cases['Active_Cases'] = india_state_covid_cases['Confirmed'] - (india_state_covid_cases['Cured'] + india_state_covid_cases['Deaths'])\nindia_state_covid_cases['Mortality Rate (Per 100)'] = np.round((india_state_covid_cases['Deaths']\/india_state_covid_cases['Confirmed'])*100,2)\nindia_state_covid_cases = india_state_covid_cases.replace(np.nan,0)\nindia_state_covid_cases = india_state_covid_cases.set_index('State\/UnionTerritory')\nindia_state_covid_cases.sort_values('Confirmed', ascending= False).style.background_gradient(cmap='Blues',subset=[\"Confirmed\"])\\\n                        .background_gradient(cmap='Reds',subset=[\"Deaths\"])\\\n                        .background_gradient(cmap='Greens',subset=[\"Cured\"])\\\n                        .background_gradient(cmap='YlOrBr',subset=[\"Mortality Rate (Per 100)\"])","f5d22b38":"india_state_covid_cases['States'] = india_state_covid_cases.index\nindia_state_covid_cases['Active_Cases(in %)'] =  (india_state_covid_cases['Active_Cases']\/india_state_covid_cases['Active_Cases'].sum()) * 100\nfig = px.scatter(india_state_covid_cases, x = \"Active_Cases(in %)\", y = \"Mortality Rate (Per 100)\",size = \"Mortality Rate (Per 100)\", color = \"States\",\n                 hover_name='Active_Cases', log_x = False, size_max = 30)\nfig.show()","4fd0c8d4":"most_affected_states = india_dataset.drop_duplicates([\"State\/UnionTerritory\"], keep = 'last', inplace = False)\nfig = px.bar(most_affected_states.sort_values('Confirmed',ascending = False)\n            .sort_values('Confirmed', ascending = True),\n            x = \"Confirmed\",y = \"State\/UnionTerritory\",\n            color_discrete_sequence = px.colors.qualitative.Alphabet,\n            title = \"Total Confirmed COVID cases till now in India\",\n            orientation = 'h')\nfig.update_layout(title ='State wise COVID-19 Cases',\n                   yaxis_title ='State',\n                   xaxis_title ='Confirmed Cases from COVID-19')\n\n\nfig.show()","3123d14c":"most_affected_states = india_dataset.drop_duplicates([\"State\/UnionTerritory\"], keep = 'last', inplace = False)\nfig = px.bar(most_affected_states.sort_values('Deaths',ascending = False)\n            .sort_values('Deaths', ascending = True),\n            x = \"Deaths\",y = \"State\/UnionTerritory\",\n            color_discrete_sequence = px.colors.qualitative.Light24,\n            title = \"Total Deaths COVID cases till now in India\",\n            orientation = 'h')\nfig.update_layout(title ='State wise COVID-19 Cases',\n                   yaxis_title ='State',\n                   xaxis_title ='Deaths Cases from COVID-19')\n\n\nfig.show()","8bb47b2e":"fig = px.bar(most_affected_states.sort_values('Cured',ascending = False)\n            .sort_values('Cured', ascending = True),\n            x = \"Cured\",y = \"State\/UnionTerritory\",\n            color_discrete_sequence = px.colors.qualitative.Dark2,\n            title = \"Total COVID cases till now in India\",\n            orientation = 'h')\nfig.update_layout(title ='State wise COVID-19 Cases',\n                   yaxis_title ='State',\n                   xaxis_title ='Cured from COVID-19')\n\n\nfig.show()","d63b882b":"testing_data = pd.read_csv(\"\/kaggle\/input\/covid19-corona-virus-india-dataset\/tests_state_wise.csv\")\ntesting_data = testing_data.fillna(0)\ntesting_data['Date'] =  pd.to_datetime(testing_data['Updated On'], infer_datetime_format=True)\ntesting_status = testing_data.sort_values(by='Date', ascending=False)\nmost_tested_states = testing_status.drop_duplicates([\"State\"], keep = 'last', inplace = False)\nfig = px.bar(most_tested_states.sort_values('Total Tested',ascending = True)\n            .sort_values('Total Tested', ascending = True),\n            x = \"Total Tested\",y = \"State\",\n            color_discrete_sequence = px.colors.qualitative.Dark2,\n            title = \"Total COVID Testing till now in India\",\n            orientation = 'h')\nfig.update_xaxes(title_text=\"State\")\nfig.update_yaxes(title_text=\"Tests per million\")\nfig.show()","c7e76598":"total_testing = testing_data.groupby('Updated On').sum().sort_values('Total Tested',ascending = True).reset_index()\nfig = px.line(total_testing, x = \"Updated On\", y = \"Total Tested\")\nfig.update_layout(title ='Covid-19 Testing done till date in India',\n                   xaxis_title='Date',\n                   yaxis_title='Covid-19 Testing till Date')\nfig.show()                ","8082558e":"## Merging the dataset with the India Covid dataset\nindia_coordinates = pd.read_csv(\"\/kaggle\/input\/states-coordinates\/Indian Coordinates_new.csv\")\nmerged_data = pd.merge(india_state_covid_cases,india_coordinates,right_on = 'Name of State \/ UT',left_on = 'States', how = 'inner')\nfrom IPython.display import display\nmap_india = folium.Map(location = [20,80],zoom_start = 4,tiles = 'OpenStreetMap',height=500,width=\"80%\")\n\nfor lat,lon,value,name in zip(merged_data['Latitude'], merged_data['Longitude'],merged_data['Mortality Rate (Per 100)'], merged_data['States']):\n    folium.CircleMarker([lat,lon], radius = value*5,popup = ('<strong>States<\/strong>: ' + str(name).capitalize() + '<br>'),color = 'red', fill_color = 'red',fill_opacity = 0.3).add_to(map_india)\n\n#map_india\ndisplay(map_india)","39e29d50":"race_bar_chart_active_cases = india_date_state_wise_cases\nactive_case_sperad = race_bar_chart_active_cases[['Date','State\/UnionTerritory','Active_Cases']]\n## Convert the data from long to wide data format\nactive_case_spread_wide = active_case_sperad.pivot(index='Date', columns='State\/UnionTerritory', values='Active_Cases')\nactive_case_spread_wide = active_case_spread_wide.fillna(0)","1b56030f":"race_chart = active_case_spread_wide\nbcr.bar_chart_race(\n    df=race_chart,\n    filename='covid19_run_barchart.mp4',\n    orientation='h',\n    sort='desc',\n    n_bars=6,\n    fixed_order=False,\n    fixed_max=True,\n    steps_per_period=10,\n    interpolate_period=False,\n    label_bars=True,\n    bar_size=.95,\n    period_label={'x': .99, 'y': .25, 'ha': 'right', 'va': 'center'},\n    period_fmt='%B %d, %Y',\n    period_summary_func=lambda v, r: {'x': .99, 'y': .18,\n                                      's': f'Active Cases: {v.nlargest(6).sum():,.0f}',\n                                      'ha': 'right', 'size': 8, 'family': 'Courier New'},\n    perpendicular_bar_func='median',\n    period_length=500,\n    figsize=(5, 3),\n    dpi=144,\n    cmap='dark12',\n    title='COVID-19 Active Cases by States',\n    title_size='',\n    bar_label_size=7,\n    tick_label_size=7,\n    shared_fontdict={'family' : 'Helvetica', 'color' : '.1'},\n    scale='linear',\n    writer=None,\n    fig=None,\n    bar_kwargs={'alpha': .7},\n    filter_column_colors=False)","88ae1652":"bcr.bar_chart_race(df = race_chart, sort = 'desc',steps_per_period = 30,filename = None, figsize = (5,9))","f4337363":"### ---------- Death Cases from Corona Virus in India ------ ","22aae6ca":"### ------------- Most Effected States from Covid-19 -------- ","4708d573":"### ----------- Mortality Rate of Covid-19 in India  ------- ","0e83ba06":"###  --------- States with Highest Covid-19 Testing Done  -----------","eeb1e83b":"### -------------- States with Highest Reported Deaths Cases from Covid-19 --------- ","481b504a":"### ---------- State- wise Corona Virus Status ------------------ ","59ee8cfe":"** **Please Note: This Notebook is inspired from Github,other Kaggle kernels and StackOverflow queries.Due respect and credit to all the kagglers.Thanks for motivating me for Publishing my first notebook.****","659f2159":"<b> Impact of Corona Virus in INDIA <\/b>\n\nCoronaviruses are a group of related RNA viruses that cause diseases in mammals and birds. In humans, these viruses cause respiratory tract infections that can range from mild to lethal. Mild illnesses include some cases of the common cold (which is also caused by other viruses, predominantly rhinoviruses), while more lethal varieties can cause SARS, MERS, and COVID-19. Symptoms in other species vary: in chickens, they cause an upper respiratory tract disease, while in cows and pigs they cause diarrhea. There are as yet no vaccines or antiviral drugs to prevent or treat human coronavirus infections.\n\nThe genome size of coronaviruses ranges from approximately 26 to 32 kilobases, one of the largest among RNA viruses.They have characteristic club-shaped spikes that project from their surface, which in electron micrographs create an image reminiscent of the solar corona, from which their name derives.\n(Source : https:\/\/en.wikipedia.org\/wiki\/Coronavirus)\n\n![corona_virus.jpg](attachment:corona_virus.jpg)\n    Image Credits : Scientific Animations under a CC BY-SA 4.0 license\n","48af7377":"### ---------- Log Curve of Death Cases from Corona Virus in India ---------","35dc9bb1":"** PLease Upvote if you find this notebook insightful.","4c575e08":"### --------- Overall Spread of Corona Virus across different states of India from 1st reported case till now","688eab4f":"### ------------- States with Highest reported Confirmed Cases of Covid-19 -------------- ","4dd8affb":"### ---------- Log Curve of Active Covid-19 Cases over the time ---------","68189f7a":"### -------------- Increase of Confirmed of Covid-19 cases in India ----------","31edb4ff":"### ------------- Corona Testing done so far in India till Date --------- ","db460e4b":"### --------- Before and After Active Corona Cases In India --------- ","bef00541":"### -------------- States with Highest Cured Cases from Covid-19 ----------- "}}