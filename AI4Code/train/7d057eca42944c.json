{"cell_type":{"cdca8c7e":"code","c96d32e6":"code","f0c0420e":"code","515c3aa6":"code","c83d4b75":"code","16f50219":"code","6f871f5e":"code","89482a80":"code","52415a1a":"code","58a76502":"code","698cbcda":"code","2c669f00":"code","fe3a5e04":"code","a2267ae8":"code","0de6dfd9":"code","a5614b5e":"code","1fda0249":"code","d10de038":"code","f6482cd9":"code","95c8ae71":"code","808d3972":"code","95c3ebf6":"code","9a8efc81":"code","188e1d9c":"markdown","451cce1e":"markdown","1afa10dd":"markdown"},"source":{"cdca8c7e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c96d32e6":"df = pd.read_csv('..\/input\/co2-emissions-1960-2018\/CO2_Emissions_1960-2018.csv', index_col='Country Name')","f0c0420e":"df.shape","515c3aa6":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px","c83d4b75":"df1=df.transpose()\ndf1.index=pd.to_datetime(df1.index).year\ndf1.head()","16f50219":"px.line(data_frame=df1,x=df1.index, y=['World'],markers=True, title='World carbon emission 1960 - 2018')","6f871f5e":"df.head()","89482a80":"df.reset_index(level=0, inplace=True)","52415a1a":"df2=df.melt(id_vars=['Country Name'], var_name='Year').sort_values(by=['Year'])","58a76502":"df2.head()","698cbcda":"px.choropleth(data_frame=df2[df2['Country Name']!='World'], locationmode='country names',locations='Country Name', color='value', animation_frame='Year', title='CO2 Emission by Countries by Year',color_continuous_scale=px.colors.sequential.RdBu_r, range_color=(200, 0))","2c669f00":"#!pip install raceplotly","fe3a5e04":"!pip install raceplotly","a2267ae8":"from raceplotly.plots import barplot\nrace_plot=barplot(df=df2[df2['Country Name']!='World'],item_column='Country Name', value_column='value',time_column='Year', top_entries=10)\nrace_plot.plot(title='Carbon Emission Race by Country (Since 1960 to 2018)', value_label='Value',item_label='Top 10 Countries')","0de6dfd9":"country_col=df2[df2['Country Name']!='World'].groupby(by=['Country Name']).max().sort_values(by=['value'], ascending=False).head(10).index.to_list()\ncountry_col.extend(['India','China'])","a5614b5e":"sample_mean=df2[df2['Country Name'].isin(country_col)]['value'].mean()\npop_mean = df2['value'].mean()","1fda0249":"plt.figure(figsize=(15,8))\nax=sns.kdeplot(data=df2[df2['Country Name'].isin(country_col)], x=df2['value'], hue='Country Name', fill=True,linewidth=3, edgecolor='white', alpha=0.7)\nax=plt.axvline(x=sample_mean)\n#ax=sns.kdeplot(data=df2, x='value')\nax=plt.axvline(x=pop_mean)\nax=plt.text(x=sample_mean, y=0.015, s='Sample mean')\nax=plt.text(x=pop_mean, y=0.015, s='Population mean')\nplt.xlim(-20,60)\nplt.ylim(0.00, 0.04)","d10de038":"px.box(data_frame=df2[df2['Country Name'].isin(country_col)], x='value', y='Country Name', color='Country Name', title='Variation of Carbon emission by top 12 countries')","f6482cd9":"df2['decade']=1\ndf2['decade'][df2['Year'].between('1960','1970')]='1960-1970'\ndf2['decade'][df2['Year'].between('1971','1980')]='1971-1980'\ndf2['decade'][df2['Year'].between('1981','1990')]='1981-1990'\ndf2['decade'][df2['Year'].between('1991','2000')]='1991-2000'\ndf2['decade'][df2['Year'].between('2001','2010')]='2001-2010'\ndf2['decade'][df2['Year'].between('2011','2020')]='2011-2018'","95c8ae71":"px.box(data_frame=df2[df2['Country Name'].isin(country_col)], x='value', y='Country Name', color='Country Name', title='Variation of Carbon emission by top 12 countries', facet_col='decade')","808d3972":"country_col.remove('Aruba')","95c3ebf6":"px.box(data_frame=df2[df2['Country Name'].isin(country_col)], x='value', y='Country Name', color='Country Name', title='Variation of Carbon emission by top 11 countries', facet_col='decade')","9a8efc81":"px.bar(data_frame=df2[df2['Country Name'].isin(country_col)].sort_values(by=['value'],ascending=False), x='value',y='Country Name', facet_col='decade', color='Country Name',barmode='stack' )","188e1d9c":"## During the 1990s emissions were mainly reduced due to structural changes in the European economies from heavy manufacturing towards more service-based economies and a change from coal to a higher share of gas in the energy mix4.","451cce1e":"## As we can see the country Aruba contributed high carbon emssion from 1960 - 1990, which shows high figure in the chart. after 1990, there is no much carbon emission from Aruba, in this case, let us remove Aruba to clearly view other countries data.","1afa10dd":"# Work is in progress, Please provide your feedback."}}