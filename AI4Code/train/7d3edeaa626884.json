{"cell_type":{"12f31e08":"code","6ddc35a8":"code","86411b15":"code","41d1571b":"code","790c92ec":"code","8578f998":"code","b622fc46":"code","1bb24407":"code","4c612b8c":"code","a4c4f36c":"code","47dd1f90":"code","ba667e86":"code","3d48b4bc":"code","a4709d0d":"code","79ed91ff":"code","035b6c53":"code","0341e17e":"code","43387339":"code","1435e8f5":"markdown","343e3a83":"markdown"},"source":{"12f31e08":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6ddc35a8":"shark = pd.read_csv('..\/input\/shark-attack-dataset\/attacks.csv')","86411b15":"shark.head()","41d1571b":"shark.columns","790c92ec":"shark = pd.DataFrame(shark)\nshark['Sex '].value_counts()","8578f998":"sharka = shark.groupby(['Sex ', 'Fatal (Y\/N)'],as_index=False).size()\nsharka = sharka.sort_values(by=['size'], ascending=False)\nsharka = sharka[0:7]\nsharka.drop([5],inplace=True)","b622fc46":"sharka.drop([3],inplace=True)\nsharka.drop([9],inplace=True)\nsharka.head()","1bb24407":"import matplotlib.pyplot as plt\nmlabels=['Male Fatal','Male Non Fatal','Female Non Fatal','Female Fatal']\nplt.pie(sharka['size'],labels=mlabels,autopct='%1.1f%%')\nplt.title('comparison of fatal\/non fatal accidents among women and men')\nfig = plt.gcf()\nfig.set_size_inches(12,12)\nplt.show()","4c612b8c":"import plotly.express as px\nfig = px.pie(sharka, names=mlabels,values='size',hole = 0.8)\nfig.update_traces(textposition='outside', textinfo='percent+label')\nfig.update_layout(\n    annotations=[dict(text=\"comparison of accidents\", x=0.5, y=0.5, font_size=20, showarrow=False)])\nfig.update_layout(showlegend=False)","a4c4f36c":"shark.dropna(subset = [\"Activity\"], inplace=True)","47dd1f90":"from wordcloud import WordCloud\nwords=shark['Activity'].tolist()\nwords=''.join(str(words))\nplt.figure(figsize=(12,12))\nplt.imshow(WordCloud().generate(words))","ba667e86":"sharkb = shark.groupby(['Country'],as_index=False).size()\nsharkb = sharkb.sort_values(by=['size'], ascending=False)\n","3d48b4bc":"import plotly.express as px\n\npx.choropleth(sharkb, \n              locations = 'Country',\n              color=\"size\", \n              color_continuous_scale=\"Turbo\",\n              locationmode='country names',\n              scope=\"world\",\n              range_color=(0, 2000),\n              title='',\n              height=600\n             )","a4709d0d":"import seaborn as sns\nsharkb = sharkb[0:5]\nplt.figure(figsize=(18,10))\nplt.title('top 5 countries with the most shark attacks')\nsns.barplot(x='Country',y='size',data=sharkb)\n","79ed91ff":"import matplotlib.image as mpimg\nfrom matplotlib.offsetbox import TextArea, DrawingArea, OffsetImage, AnnotationBbox\nfig, ax = plt.subplots(figsize=(21,13), facecolor=\"w\")\ndef make_img(img,zoom, x, y):\n    img = mpimg.imread(img)\n    imagebox = OffsetImage(img, zoom=zoom)\n    ab = AnnotationBbox(imagebox, (x,y),frameon=False)\n    ax.add_artist(ab)\nimg_path =os.listdir('..\/input\/flagsy')\nimg_file = [img_path[0],img_path[1],img_path[2],img_path[3],img_path[4]]\nzoom = [0.3,0.2,0.2,0.15,0.12]\nimg_y= [3.0,2.5,2.4,1.4,1.4]\nname = ['USA','AUSTRALIA','SOUTH \\n AFRICA','NEW \\n ZEALAND','PAPUA \\n NEW \\n GUINEA']\nname_pos = [4.45,3.3,3.3,2.3,2.2]\nchar = ['1th','2nd','3rd','4th','5th']\ny_char = [4.95,4.2,4.2,3.4,3.4]\nx_char = [1.03,1.8,2.5,3.2,3.9]\nfontsize = [60,50,50,50,50]\nwidth = [0.75,0.6,0.5,0.4,0.4]\nalpha = [1, 0.9, 0.8, 0.7, 0.6]\nx = [1.0,1.85,2.5,3.2,3.90]\ny = [4.4,3.2,3.1,2.0,1.8]\ncolor = ['#0059b3','#33cc00','#00b36b','#e60000','#e60000']\nfor i in range(5):\n    make_img(f'..\/input\/flagsy\/{img_file[i]}',zoom[i], x[i], img_y[i])\n    plt.bar(x=x[i],height=y[i],width=width[i],color=color[i],alpha=alpha[i])\n    plt.text(s=char[i],x=x_char[i],y = y_char[i],va='bottom',ha='center',font='Comic Sans MS',fontsize = fontsize[i]-30,alpha=alpha[i])\n    plt.text(s=name[i],x=x[i],y=name_pos[i],va='bottom',ha='center',font='Comic Sans MS',fontsize = fontsize[i]-30,alpha=alpha[i])\n\n    \nax.axvspan(xmin = 2.95,xmax= 5.35, fc='#F4F4D6', alpha=0.5)\n\nplt.ylim(0, 7)\nplt.axis('off')\nplt.show()","035b6c53":"sharkc = shark.groupby(['Species '],as_index=False).size()\nsharkc = sharkc.sort_values(by=['size'], ascending=False)\nsharkc.drop([783,1033,1045,1044,409,480,152,109,941,943,87,350,454,411,231,324],inplace=True)\nsharkc = sharkc[0:4]","0341e17e":"mlabels2=['White shark','Tiger shark','Bull shark','Wobbegong shark']\nplt.pie(sharkc['size'],labels=mlabels,autopct='%1.1f%%')\nplt.title('percentage share between the 4 most dangerous sharks')\nfig = plt.gcf()\nfig.set_size_inches(12,12)\nplt.show()","43387339":"import plotly.express as px\nfig = px.pie(sharkc, names=mlabels2,values='size',hole = 0.8)\nfig.update_traces(textposition='outside', textinfo='percent+label')\nfig.update_layout(\n    annotations=[dict(text=\"comparison of sharks\", x=0.5, y=0.5, font_size=20, showarrow=False)])\nfig.update_layout(showlegend=False)","1435e8f5":"# White Shark\n![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/8\/82\/Great_White_Shark_%2814730723649%29.jpg\/800px-Great_White_Shark_%2814730723649%29.jpg)\n# Tiger Shark\n![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/3\/39\/Tiger_shark.jpg\/240px-Tiger_shark.jpg)\n# Bull Shark\n![](https:\/\/healthyorganic.co.za\/wp-content\/uploads\/2021\/05\/gargantuan-bull-shark-bares-its-rows-of-teeth-in-terrifying-close-encounter-with-free-diver-off-florida.jpg)\n# Wobbegong shark\n![](https:\/\/www.naturepl.com\/cache\/pcache2\/01520117.jpg)\n\n**Informations about sharks:**\n* https:\/\/en.wikipedia.org\/wiki\/Great_white_shark\n* https:\/\/en.wikipedia.org\/wiki\/Tiger_shark\n* https:\/\/en.wikipedia.org\/wiki\/Bull_shark\n* https:\/\/en.wikipedia.org\/wiki\/Wobbegong","343e3a83":"# **The image is based on the most common words, but the most common activities that are accompanied by shark attacks can be seen here**"}}