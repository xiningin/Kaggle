{"cell_type":{"120589ad":"code","11af9fe4":"code","ed733431":"code","703e42ad":"code","a308f739":"code","05f4a966":"code","656c8727":"code","b8c7a331":"code","7cf997ef":"code","d463de98":"code","d4b83781":"code","3e2332f2":"markdown","d5d46793":"markdown"},"source":{"120589ad":"import gc\nfrom tqdm import tqdm\nimport numpy as np\nimport pandas as pd\nfrom pylab import rcParams\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom scipy.stats import probplot\n\nimport datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nfrom fbprophet import Prophet\n\n%matplotlib inline\nimport os\nimport warnings\nwarnings.filterwarnings(\"ignore\")","11af9fe4":"data0 = pd.read_csv(\"..\/input\/unemployment-data-19482021\/unemployment_rate_data.csv\")\ndata0[-5:]","ed733431":"data1=data0[['date','unrate']]","703e42ad":"item1=data1\n\nitem1.columns = ['ds','y']\nitem1.y = item1.y.astype('float')\nitem1.ds = item1.ds.astype('datetime64')\n\nrcParams['figure.figsize'] = 20,5\nplt.plot(item1.ds, item1.y)","a308f739":"from datetime import timedelta\nstart0 = dt.datetime.strptime('2020-01-01','%Y-%m-%d').date()\nend0   = dt.datetime.strptime('2023-12-31','%Y-%m-%d').date()\nprint((end0-start0).days)\n","05f4a966":"dates0=[]\nfor i in range((end0-start0).days):\n    dates0+=[(start0+timedelta(i)).strftime('%Y-%m-%d') ]\nprint(dates0[0:10])\n","656c8727":"# prediction period 2020-2023\ndates0_df=pd.DataFrame(dates0)\ndates0_df.columns=['ds']\ndates0_df","b8c7a331":"# Case1: fitting period 2014-2021\nprint(item1['ds'][-95:])","7cf997ef":"# Case1: fitting period 2014-2021\nph = Prophet()\nph.fit(item1[-120:])\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","d463de98":"# Case2: fitting period 2014-2019\nprint(item1['ds'][-95:-23])","d4b83781":"# Case2: fitting period 2014-2019\nph = Prophet()\nph.fit(item1[-120:-23])\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","3e2332f2":"# Data processing","d5d46793":"# fit and predict"}}