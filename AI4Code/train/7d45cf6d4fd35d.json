{"cell_type":{"a0ae7f06":"code","9d0d9dc8":"code","8d2073f2":"code","27d3ed7b":"code","5c100eb1":"code","dec9bc92":"code","fb2a2f86":"code","a7528d4b":"code","0f843e53":"code","9aa4a0e6":"code","60adf1cd":"code","2e08e4b6":"code","1113541f":"code","5701c5e3":"code","6aa55bc1":"code","67faeaec":"code","9f0e6d0c":"code","c03c5ff8":"code","7b32b7a1":"code","8f8295fd":"code","f17bd1a8":"code","3ee65a65":"code","0fa88b52":"code","71199b1e":"code","700dd647":"code","290d737f":"code","effe02d8":"code","2912f764":"code","92a86319":"code","d31cf3a5":"code","83a59e58":"code","b44c405f":"code","d28364ae":"code","b4079a91":"code","4c448463":"code","396ea483":"code","a80a33a4":"code","6d1b46df":"code","cd93fb3a":"code","a9809ca2":"code","0d4daf65":"code","0d5ee708":"code","3e9f4613":"code","c5956936":"code","252705ad":"code","9d0395e6":"code","674c040d":"code","169bfc0f":"code","13399ef7":"code","ec04e203":"code","99fff3ef":"code","67de23d4":"code","ba9f1d58":"code","00547f87":"code","88415bf5":"code","6ba9bf3b":"code","57b950ae":"code","24068af5":"code","33ec2aae":"code","3c666cba":"code","74a72fcd":"markdown"},"source":{"a0ae7f06":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom mpl_toolkits.basemap import Basemap\nimport os\n\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","9d0d9dc8":"df=pd.read_csv(\"..\/input\/singapore-airbnb\/listings.csv\")","8d2073f2":"df.head()","27d3ed7b":"df = df.sort_values(by=[\"price\"], ascending=False)\ndf['rank']=tuple(zip(df.price))\ndf['rank']=df.groupby('price',sort=False)['rank'].apply(lambda x : pd.Series(pd.factorize(x)[0])).values\ndf.head()","5c100eb1":"df.drop([\"rank\"],axis=1,inplace=True)","dec9bc92":"df.reset_index(inplace=True,drop=True)\ndf.head()","fb2a2f86":"df.info()","a7528d4b":"df.shape","0f843e53":"df.tail()","9aa4a0e6":"df.drop(['id','host_id','host_name','last_review'],axis=1,inplace=True)","60adf1cd":"df.isnull().sum()","2e08e4b6":"def impute_median(series):\n    return series.fillna(series.median())","1113541f":"df.reviews_per_month=df[\"reviews_per_month\"].transform(impute_median)","5701c5e3":"df.isnull().sum()","6aa55bc1":"f,ax=plt.subplots(figsize=(18,18))\nsns.heatmap(df.corr(),annot=True,linewidths=5,fmt='.1f',ax=ax)\nplt.show()","67faeaec":"sns.pairplot(df)\nplt.show()","9f0e6d0c":"fig = plt.figure(figsize = (15,10))\nax = fig.gca()\ndf.hist(ax=ax)\nplt.show()","c03c5ff8":"df.columns","7b32b7a1":"df.nunique()","8f8295fd":"#room_type - price\nresult = df.groupby([\"room_type\"])['price'].aggregate(np.median).reset_index().sort_values('price')\nsns.barplot(x='room_type', y=\"price\", data=df, order=result['room_type']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","f17bd1a8":"#neighbourhood_group - price\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['price'].aggregate(np.median).reset_index().sort_values('price')\nsns.barplot(x='neighbourhood_group', y=\"price\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","3ee65a65":"labels = df.neighbourhood_group.value_counts().index\ncolors = ['green','yellow','orange','pink','red']\nexplode = [0,0,0,0,0]\nsizes = df.neighbourhood_group.value_counts().values\n\nplt.figure(0,figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Airbnb According to Neighbourhood Group',color = 'blue',fontsize = 15)\nplt.show()","0fa88b52":"plt.figure(figsize=(10,7))\nsns.barplot(x = \"neighbourhood_group\", y = \"price\", hue = \"room_type\", data = df)\nplt.xticks(rotation=45)\nplt.show()","71199b1e":"plt.figure(figsize=(18,18))\nsns.lmplot(x='minimum_nights',y='calculated_host_listings_count',hue=\"neighbourhood_group\",data=df)\nplt.xlabel('calculated_host_listings_count')\nplt.ylabel('minimum_nights')\nplt.title('calculated_host_listings_count vs minimum_nights')\nplt.show()","700dd647":"df.price.max()","290d737f":"plt.figure(figsize=(15,6))\nax = sns.violinplot(x=\"neighbourhood_group\", y=\"price\",\n                    data=df[df.price < 1000],\n                    scale=\"width\", palette=\"Set3\")","effe02d8":"#neighbourhood_group - reviews_per_month\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['reviews_per_month'].aggregate(np.median).reset_index().sort_values('reviews_per_month')\nsns.barplot(x='neighbourhood_group', y=\"reviews_per_month\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","2912f764":"#neighbourhood_group - minimum_nights\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['minimum_nights'].aggregate(np.median).reset_index().sort_values('minimum_nights')\nsns.barplot(x='neighbourhood_group', y=\"minimum_nights\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","92a86319":"#neighbourhood_group - number_of_reviews\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['number_of_reviews'].aggregate(np.median).reset_index().sort_values('number_of_reviews')\nsns.barplot(x='neighbourhood_group', y=\"number_of_reviews\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","d31cf3a5":"\nax = sns.violinplot(x=\"room_type\", y=\"price\",\n                    data=df[df.price > 500],\n                    scale=\"width\", palette=\"Set3\")","83a59e58":"sns.kdeplot(df['price'])\nplt.xlabel('Values')\nplt.ylabel('Frequency')\nplt.title('Price Kde Plot')\nplt.show()","b44c405f":"#neighbourhood_group - reviews_per_month\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['reviews_per_month'].aggregate(np.median).reset_index().sort_values('reviews_per_month')\nsns.barplot(x='neighbourhood_group', y=\"reviews_per_month\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","d28364ae":"sns.lineplot(x='reviews_per_month',y='price',data=df)\nplt.show()","b4079a91":"#neighbourhood_group - calculated_host_listings_count\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['calculated_host_listings_count'].aggregate(np.median).reset_index().sort_values('calculated_host_listings_count')\nsns.barplot(x='neighbourhood_group', y=\"calculated_host_listings_count\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","4c448463":"sns.lineplot(x='calculated_host_listings_count',y='price',data=df)\nplt.show()","396ea483":"#neighbourhood_group - availability_365\nplt.figure(figsize=(15,6))\nresult = df.groupby([\"neighbourhood_group\"])['availability_365'].aggregate(np.median).reset_index().sort_values('availability_365')\nsns.barplot(x='neighbourhood_group', y=\"availability_365\", data=df, order=result['neighbourhood_group']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","a80a33a4":"sns.lineplot(x='availability_365',y='price',data=df)\nplt.show()","6d1b46df":"df.price.describe().T","cd93fb3a":"labels = df.room_type.value_counts().index\ncolors = ['orange','yellow','red']\nexplode = [0,0,0]\nsizes = df.room_type.value_counts().values\n\nplt.figure(0,figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Airbnb According to Room Type',color = 'blue',fontsize = 15)\nplt.show()","a9809ca2":"#room_type - minimum_nights\nresult = df.groupby([\"room_type\"])['minimum_nights'].aggregate(np.median).reset_index().sort_values('minimum_nights')\nsns.barplot(x='room_type', y=\"minimum_nights\", data=df, order=result['room_type']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","0d4daf65":"sns.lineplot(x='minimum_nights',y='price',data=df)\nplt.show()","0d5ee708":"#room_type - number_of_reviews\nresult = df.groupby([\"room_type\"])['number_of_reviews'].aggregate(np.median).reset_index().sort_values('number_of_reviews')\nsns.barplot(x='room_type', y=\"number_of_reviews\", data=df, order=result['room_type']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","3e9f4613":"sns.lineplot(x='number_of_reviews',y='price',data=df)\nplt.show()","c5956936":"#room_type - reviews_per_month\nresult = df.groupby([\"room_type\"])['reviews_per_month'].aggregate(np.median).reset_index().sort_values('reviews_per_month')\nsns.barplot(x='room_type', y=\"reviews_per_month\", data=df, order=result['room_type']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","252705ad":"#room_type - calculated_host_listings_count\nresult = df.groupby([\"room_type\"])['calculated_host_listings_count'].aggregate(np.median).reset_index().sort_values('calculated_host_listings_count')\nsns.barplot(x='room_type', y=\"calculated_host_listings_count\", data=df, order=result['room_type']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","9d0395e6":"#room_type - availability_365\nresult = df.groupby([\"room_type\"])['availability_365'].aggregate(np.median).reset_index().sort_values('availability_365')\nsns.barplot(x='room_type', y=\"availability_365\", data=df, order=result['room_type']) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.show()","674c040d":"#neighbourhood - price\nplt.figure(figsize=(18,8))\n#result = df.groupby([\"neighbourhood\"])['price'].aggregate(np.median).reset_index().sort_values('price')\nsns.barplot(x=df.price[:50], y=df.neighbourhood[:50]) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.xticks(rotation=90)\nplt.show()","169bfc0f":"#neighbourhood - minimum_nights\nplt.figure(figsize=(18,8))\n#result = df.groupby([\"neighbourhood\"])['minimum_nights'].aggregate(np.median).reset_index().sort_values('minimum_nights')\nsns.barplot(x=df.minimum_nights[:500], y=df.neighbourhood[:500]) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.xticks(rotation=90)\nplt.show()","13399ef7":"#neighbourhood - number_of_reviews\nplt.figure(figsize=(18,8))\n#result = df.groupby([\"neighbourhood\"])['number_of_reviews'].aggregate(np.median).reset_index().sort_values('number_of_reviews')\nsns.barplot(x=df.number_of_reviews[:500], y=df.neighbourhood[:500]) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.xticks(rotation=90)\nplt.show()","ec04e203":"#neighbourhood - reviews_per_month\nplt.figure(figsize=(18,8))\n#result = df.groupby([\"neighbourhood\"])['reviews_per_month'].aggregate(np.median).reset_index().sort_values('reviews_per_month')\nsns.barplot(x=df.reviews_per_month[:50], y=df.neighbourhood[:50]) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.xticks(rotation=90)\nplt.show()","99fff3ef":"#neighbourhood - calculated_host_listings_count\nplt.figure(figsize=(18,8))\n#result = df.groupby([\"neighbourhood\"])['calculated_host_listings_count'].aggregate(np.median).reset_index().sort_values('calculated_host_listings_count')\nsns.barplot(x=df.calculated_host_listings_count[:100], y=df.neighbourhood[:100]) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.xticks(rotation=90)\nplt.show()","67de23d4":"#neighbourhood - availability_365\nplt.figure(figsize=(18,8))\n#result = df.groupby([\"neighbourhood\"])['availability_365'].aggregate(np.median).reset_index().sort_values('availability_365')\nsns.barplot(x=df.availability_365[:100], y=df.neighbourhood[:100]) #formerly: sns.barplot(x='Id', y=\"Speed\", data=df, palette=colors, order=result['Id'])\nplt.xticks(rotation=90)\nplt.show()","ba9f1d58":"df_rich_hosts=pd.DataFrame(df.iloc[:,0:2])\ndf_rich_hosts['latitude']=df.iloc[:,3]\ndf_rich_hosts['longitude']=df.iloc[:,4]\ndf_rich_hosts['room_type']=df.iloc[:,5]\ndf_rich_hosts['price']=df.iloc[:,6]\ndf_rich_hosts.head()","00547f87":"df.room_type.unique()","88415bf5":"df[df.room_type==\"Private room\"].describe().T","6ba9bf3b":"plt.figure(figsize=(15,6))\nsns.scatterplot(df_rich_hosts.longitude,df_rich_hosts.latitude,hue=df_rich_hosts.neighbourhood_group)\nplt.ioff()","57b950ae":"plt.figure(figsize=(15,6))\nsns.scatterplot(df_rich_hosts.longitude,df_rich_hosts.latitude,hue=df_rich_hosts.room_type)\nplt.ioff()","24068af5":"print(df.latitude.max())\nprint(df.latitude.min())\nprint(df.longitude.max())\nprint(df.longitude.min())","33ec2aae":"from wordcloud import WordCloud, ImageColorGenerator\ntext = \" \".join(str(each) for each in df_rich_hosts.name)\n# Create and generate a word cloud image:\nwordcloud = WordCloud(max_words=200, background_color=\"yellow\").generate(text)\nplt.figure(figsize=(15,10))\n# Display the generated image:\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","3c666cba":"import folium\nfrom folium.plugins import HeatMap\nm=folium.Map([1.24387,103.973],zoom_start=11)\nHeatMap(df_rich_hosts[['latitude','longitude']].dropna(),radius=8,gradient={0.2:'blue',0.4:'purple',0.6:'orange',1.0:'red'}).add_to(m)\ndisplay(m)","74a72fcd":"![](https:\/\/www.accuracy.com\/wp-content\/uploads\/2018\/03\/Singapore.jpg)"}}