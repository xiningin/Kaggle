{"cell_type":{"5955575f":"code","3b0078b6":"code","76b1054e":"code","ddfca4e4":"code","31d2e209":"code","c99cae34":"code","98c4130f":"code","e790c1bf":"code","62c9f4bd":"code","d36833f3":"code","c27c6af6":"code","f15dd3f5":"code","b0bdacf7":"code","fc1d44f9":"code","391e940a":"code","3ef90853":"code","abf4dbf9":"code","4921f71d":"code","8578f6af":"code","59c16f7e":"code","f791be40":"code","25c1ad10":"code","99d4cb9a":"code","ed16179a":"code","b3a2dbc2":"code","fa5846cd":"code","366d283b":"markdown","a9524a7d":"markdown","81c46b63":"markdown","fd395dc1":"markdown","8cebf2e9":"markdown","d0b849e4":"markdown","e1ec3e81":"markdown","fc79cbd6":"markdown","a86b52e6":"markdown","7c3a89ba":"markdown","3db6bd9c":"markdown","8016a4cf":"markdown","fa636c8d":"markdown","0def6f0d":"markdown","526c2571":"markdown"},"source":{"5955575f":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sbn\nfrom sklearn.preprocessing import OneHotEncoder \nfrom sklearn.compose import ColumnTransformer\nfrom sklearn import preprocessing\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_absolute_error, r2_score\nfrom sklearn.ensemble import RandomForestRegressor\nimport warnings\nwarnings.filterwarnings('ignore')","3b0078b6":"dataset = pd.read_csv('..\/input\/fish-market\/Fish.csv')","76b1054e":"dataset","ddfca4e4":"dataset.rename(columns={'Length1' :'Body Height', 'Length2' : 'Total Length', 'Length3' : 'Diagonal Length'} , inplace= True)","31d2e209":"dataset.head(10)","c99cae34":"dataset.tail(10)","98c4130f":"for empty in dataset.columns:\n    \n    print('Am Column {} with {} missing values and {} datatype'.format(empty,dataset[empty].isnull().sum(),\n                                                                       dataset[empty].dtype))","e790c1bf":"dataset.describe()","62c9f4bd":"dataset.Species.value_counts()","d36833f3":"\n\nplt.hist(dataset.Species.value_counts())","c27c6af6":"\ndataset.hist(bins = 20, grid = False, xlabelsize= 10, ylabelsize= 10, linewidth = 3.0)\nplt.tight_layout(rect=(0, 0, 1.5, 1.5))  ","f15dd3f5":"corr = dataset.corr()\ncorr","b0bdacf7":"f, ax = plt.subplots(figsize=(10,6))\nsbn.heatmap(corr, annot=True, ax = ax, linewidths=1.9, fmt='1.2f')\nf.subplots_adjust(top = 1)","fc1d44f9":"# dividing the dataset into X and Y category\nfeatures = ['Species','Body Height', 'Total Length', 'Diagonal Length', 'Height', 'Width']\nx = dataset[features]\ny = dataset['Weight']\n#y = dataset.Weight   another way of getting the column value of weight\n","391e940a":"plt.scatter(x['Height'],y, color = 'red')\nplt.title('Height & Weight')\nplt.xlabel('Height')\nplt.ylabel('Weight')\nplt.grid(True)","3ef90853":"plt.scatter(x['Width'],y , color = ['blue'])\nplt.title('Width $ Weight')\nplt.xlabel('Width')\nplt.ylabel('Weight')\nplt.grid(True)","abf4dbf9":"encode = preprocessing.LabelEncoder()\nx['Species']= encode.fit_transform(x['Species'])\n\ntransformer = ColumnTransformer([('transfor', OneHotEncoder(), ['Species'] )],  remainder = 'passthrough')\nx=  np.array(transformer.fit_transform(x), dtype = np.float)","4921f71d":"x.shape","8578f6af":"x = pd.DataFrame(x)\npd.set_option('display.max_rows', None)\npd.set_option('display.max_columns', None)\npd.set_option('display.width', None)\npd.set_option('display.max_colwidth', -1)","59c16f7e":"x = x.drop(columns = [0])\n","f791be40":"\nx.columns=['Perkki' ,'Perch','Piki' ,'Roach', 'Smelt', 'Whitefish', 'Body Height',  'Total Length',  'Diagonal Length', \n           'Height', 'Width']","25c1ad10":"x.shape","99d4cb9a":"X_train, X_test, Y_train, Y_test = train_test_split(x,y, test_size = 0.2, random_state = 0)\nran_reg = RandomForestRegressor(random_state= 0)\nlin_reg = LinearRegression()\nlin_reg.fit(X_train, Y_train)\nran_reg.fit(X_train,Y_train)","ed16179a":"y_pred = lin_reg.predict(X_test)\ny_ran_pred = ran_reg.predict(X_test)\ny_pred_error = mean_absolute_error(Y_test , y_pred)\ny_ran_error = mean_absolute_error(Y_test, y_ran_pred)\ny_pred_r2_score = r2_score(Y_test, y_pred)\ny_ran_r2_score = r2_score(Y_test, y_ran_pred)\n","b3a2dbc2":"print('Result of using a Linear Regression Model\\n',\n      y_pred,'\\n..............................................\\n')\nprint('Result of using a Random Forest Regression Model\\n',y_ran_pred)","fa5846cd":"\nprint(' mean_absolute_error for the linear regression', y_pred_error)\nprint(' mean_absolute_error for the linear regression', y_ran_error)\nprint(' R square for the linear regression', y_pred_r2_score)\nprint(' R square for the linear regression', y_ran_r2_score)","366d283b":"### it is adviceable to validate that certain assumptions are met in terms of the dataset, we will pick two independent variables and check there linearity with the dependent variable","a9524a7d":"                                   Visualiziung Independent variable as a 1D data ","81c46b63":"we will be transforming the categorical data with the help of columntransformer","fd395dc1":"                                      Investigating the Dataset","8cebf2e9":"         As a precaution we are going to drop one of the dummy variable to avoid the dummy variable trap","d0b849e4":"                                 Histogram for the distribution of the 7-Species","e1ec3e81":"Based on the value_counts above it seems whitefish is least represented here, let visualize it with a histogram","fc79cbd6":"  Since we have no missing values, we go straight into checking for linearity of the datasets and encoding the categorical data ","a86b52e6":"This is my first commit, just started learning some 4days ago, and this is my first real world data too, all corrections are accepted thanks alot...","7c3a89ba":"                                     *Diving into Data cleaning and modeling* ","3db6bd9c":"Based on the above result Did a better job than the Linear regrssion model, there is more room for improvement so i think, i will implement a features elimination to see if things can improve..","8016a4cf":"                          Checking the correlation between the variables ","fa636c8d":"As we can see there exist a linear relationship between these variable in each case.\n\n1. in the case of the height, the fishes gain more weight as they grow in height, but the weight gain isnt the same in all species, some has a sharp weight rise as they gain little gain, while some are gradual.\n\n2. whiles in the case of the width of the fishes there seems to be a uniform weight gain rate between the species.","0def6f0d":"               The above heatmap show the how the six variable correlate with the weight of the fishies","526c2571":"                        Check if the Dataset contains an empty value or missing value and also it datatype"}}