{"cell_type":{"46e5a5be":"code","e9b7e87f":"code","706e650f":"code","8b792c69":"code","ee55409a":"code","18cdde7a":"code","7ed0efb2":"code","15b2f164":"code","4d135717":"code","6c347473":"code","a0e012d9":"code","ac007ad4":"code","6d1852c5":"code","5e7f5b19":"code","8f7922ce":"code","dc227ea9":"code","dbf9f0eb":"code","a5cb1889":"code","018b160d":"code","6393fc50":"markdown","533ebd07":"markdown","0367b096":"markdown","e2ee94ea":"markdown","9c8298fe":"markdown","8e1d250a":"markdown","ced2a473":"markdown","876fe5f9":"markdown","81b4ecf0":"markdown","674745e3":"markdown","5f4c1131":"markdown","12b439b2":"markdown","6626c0f0":"markdown","4f376c91":"markdown"},"source":{"46e5a5be":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt  \n%matplotlib inline","e9b7e87f":"#warnings\nimport warnings\nwarnings.filterwarnings('ignore')","706e650f":"#we need to install mlxtend\nfrom mlxtend.frequent_patterns import apriori\nfrom mlxtend.frequent_patterns import association_rules","8b792c69":"df=pd.read_csv('..\/input\/BreadBasket_DMS.csv')","ee55409a":"print(df.info())","18cdde7a":"df.head(10)","7ed0efb2":"df['Year']=df['Date'].apply(lambda x:x.split(\"-\")[0]) #year\ndf['Month']=df['Date'].apply(lambda x:x.split(\"-\")[1]) #month\ndf['Day']=df['Date'].apply(lambda x:x.split(\"-\")[2]) #day\ndf['Hour']=df['Time'].apply(lambda x:x.split(\":\")[0]) #Hour\ndf['Minute']=df['Time'].apply(lambda x:x.split(\":\")[1]) #minutes\ndf['Seconds']=df['Time'].apply(lambda x:x.split(\":\")[2]) #seconds\n","15b2f164":"df.head(10)","4d135717":"sold = df['Item'].value_counts()\nsold.head(10)\n","6c347473":"#visualization\nimport seaborn as sns\nsns.set(style ='whitegrid')\n","a0e012d9":"ax = sns.barplot(x='Month', y='Transaction', data=df)","ac007ad4":"ax = sns.barplot(x='Year', y='Transaction', data=df)","6d1852c5":"\n\nax = sns.barplot(x='Hour', y='Transaction', data=df)","5e7f5b19":"items_sold = sold.head(20)\nplt.figure(figsize=(12,6))\nplt.subplot(1,2,1)\nitems_sold.plot(kind='bar')\nplt.title('Sold Items')","8f7922ce":"from mlxtend.preprocessing import TransactionEncoder\nfrom mlxtend.frequent_patterns import association_rules, apriori","dc227ea9":"transaction_list = []\n\n# For loop to create a list of the unique transactions throughout the dataset:\nfor i in df['Transaction'].unique():\n    tlist = list(set(df[df['Transaction']==i]['Item']))\n    if len(tlist)>0:\n        transaction_list.append(tlist)\nprint(len(transaction_list))","dbf9f0eb":"te = TransactionEncoder()\nte_ary=te.fit(transaction_list).transform(transaction_list)\ndf2=pd.DataFrame(te_ary, columns = te.columns_)","a5cb1889":"# Apply apriori algorithm to know how items are bought together by fixing more than 1 as limit and sort the values by confidence ","018b160d":"items = apriori(df2, min_support=0.03, use_colnames=True)\nrules = association_rules(items, metric='lift', min_threshold=1.0)\nrules.sort_values('confidence', ascending=False)\n","6393fc50":"### Visulaization for month wise and year wise comparison over transactions","533ebd07":"### Adding year , month and day\nIn the above, we have date format column that need to dissove into year ,month and day.","0367b096":"# Transaction from the bakery","e2ee94ea":"## Data Engineering\nchecking for null values\nprint(df.isnull().sum().sort_values(ascending=False))","9c8298fe":"## Import the dataset\n\n","8e1d250a":"## Data is about transactions happened in a bakery for each items with a timestamp  It has 21,294 observations, over 9000 transactions and 94 unique items.\n","ced2a473":"## Conclusion\n\nFinally , I have finished the analysis and this is my first kernel. I have took inputs from other kernels and analyze ths data. From the above output, we can see that \"Coffee\" , \"Pastry\" are making more transaction with other items. So this will help the business like they can place higher confidence level items near to each other so that it will boost the sales of the bakery. \n\nAs I shown in the visualization for dataframe, it will improve the understanding of business over time period and can make better decisions with respect to trend. If any changes need to make in this Notebook please comment and upvote . ","876fe5f9":"## Market Basket Analysis","81b4ecf0":"#### As per the data, 01-04 represents jan2018 to apr2018 and 10-12 represents 30 Oct 2017 - Dec 2017. Sales in the bakery getting higher and linearly increasing with 20% ","674745e3":"#### Hour wise chart represents 24 hour time period and sometimes shop opens upto 1AM. From 8AM -5PM, there is more or less same trend of transactions happen in the bakery. But after 6PM, transactions get doubled when compare with afternoon time transactions. ","5f4c1131":"#### In day wise chart, we can see that distribution of transaction over days of month","12b439b2":"## Import the libraries","6626c0f0":"#### Most of items sold as per the transactions happenned. Below chart has top 20 items sold where has ","4f376c91":"## Visualizing and Understanding the data"}}