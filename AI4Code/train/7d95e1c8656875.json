{"cell_type":{"5acc0336":"code","030e55d4":"code","0959c5b1":"code","371b7b5c":"code","07f427a9":"code","d04310af":"code","2e0926a7":"code","c464ba41":"code","5b1cbb98":"code","1e5b5760":"code","0c3de8c8":"code","9d9f8229":"code","b56d274c":"code","9340c353":"markdown","346f52fd":"markdown","9ae35ef8":"markdown","9279d9d9":"markdown","70495d29":"markdown","84f80fa9":"markdown","0414ff0a":"markdown","492ac1f4":"markdown","0cac6913":"markdown","7db2aa07":"markdown","cca2d234":"markdown","8986d764":"markdown","69cb0a53":"markdown","0e3c1904":"markdown","85b931c9":"markdown","43b48f29":"markdown","1464e8c9":"markdown","9664d708":"markdown","bd926f01":"markdown","63598cb3":"markdown","0db6aeb8":"markdown","31d879ec":"markdown","d364894f":"markdown"},"source":{"5acc0336":"# Import libraries.\nimport numpy as np\nimport pandas as pd\n\n# Visualization libraries.\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport missingno as msno\nimport plotly.graph_objects as go\nimport colorlover as cl\nfrom plotly.subplots import make_subplots\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\n\n# Disable Anaconda warnings.\nimport warnings\nwarnings.filterwarnings('ignore')\n\n# Read database 2019.\nmc = pd.read_csv('..\/input\/kaggle-survey-2019\/multiple_choice_responses.csv')\n\n# Read database 2018.\nmc_2018 = pd.read_csv(\n    '..\/input\/kaggle-survey-2018\/multipleChoiceResponses.csv'\n    )\n\n# Read database 2017.\nmc_2017 = pd.read_csv(\n    '..\/input\/kaggle-survey-2017\/multipleChoiceResponses.csv',\n    encoding='ISO-8859-1')\n\n# Theme colors.\nblues = [\n    'rgb(255,255,255)',\n    'rgb(107,174,214)',\n    'rgb(66,146,198)',\n    'rgb(33,113,181)',\n    'rgb(8,81,156)',\n    'rgb(8,48,107)'\n    ]\npinks = [\n    'rgb(255,255,255)',\n    'rgb(201,148,199)',\n    'rgb(223,101,176)',\n    'rgb(231,41,138)',\n    'rgb(206,18,86)',\n    'rgb(152,0,67)',\n    'rgb(103,0,31)'\n    ]\n\n# Renaming multiple question data from 2017, 2018, 2019.\nmc = mc.rename(columns={\n   \"Q1\": \"Age\", \"Q2\": \"Gender\", \"Q3\": \"Country\", \"Q4\": \"Education\",\n   \"Q5\": \"Role\", \"Q10\": \"Salary\", \"Q15\": \"Coding_years\"\n   })\n\nmc_2017 = mc_2017.rename(columns={\n    \"GenderSelect\": \"Gender\", \"CurrentJobTitleSelect\": \"Role\"\n})\n\nmc_2018 = mc_2018.rename(columns={\n    \"Q1\": \"Gender\", \"Q2\": \"Age\", \"Q3\": \"Country\",\n    \"Q4\": \"Education\", \"Q6\": \"Role\", \"Q9\": \"Salary\", \"Q10\": \"ML_methods\"\n})\n\n# Dropping the question row.\nmc.drop(0, axis=0, inplace=True)\nmc_2018.drop(0, axis=0, inplace=True)","030e55d4":"def get_percentage(df, axis=0):\n    \"\"\"\n    Take dataframe and return percentage dataframe.\n    Taken percentage by column on default, unless passed axis=1.\n    \"\"\"\n    if axis == 0:\n        return (df \/ df.sum()) * 100\n    elif axis == 1:\n        return df.div(df.sum(axis=1), axis=0) * 100\n    else:\n        print(\"Axis must be 0 or 1\")\n\n\n# Creating dataframe.\ndf_gender_distro = mc[[\"Country\", \"Gender\"]].groupby(\"Gender\").count()\ndf_gender_distro = get_percentage(df_gender_distro)\ndf_age_distro = mc[[\"Country\", \"Gender\", \"Age\"]].groupby([\"Gender\", \"Age\"]).count()\n\n# Plotting.\n# Creating subplots to fit plots in a certain positions.\nfig = make_subplots(2, 4, specs=[\n    [{\"type\": \"xy\"}, {}, {}, {\"type\": \"domain\"}],\n    [{}, {}, {}, {}]\n])\n\n# Looping through all genders for plotting bar traces for each age group.\ngenders = ['Male', 'Female', 'Prefer not to say', 'Prefer to self-describe']\nfor i in range(len(genders)):\n    df_age = df_age_distro.xs(genders[i], level=\"Gender\").reset_index()\n    fig.add_trace(go.Bar(\n                        name=genders[i],\n                        x=df_age[\"Age\"], y=df_age[\"Country\"],\n                        hovertemplate=\"<i>Age: %{label} <br>Amount: %{y} <\/br>\",\n                        marker=(dict(opacity=0.6)),\n                        ), 1, 1)\n\n# Plotting pie chart of gender distribution.\nfig.add_trace(go.Pie(\n    name=\"\",\n    values=df_gender_distro[\"Country\"].values,\n    labels=df_gender_distro[\"Country\"].index,\n    hovertemplate=\"<i>%{label} <br>%{percent} <\/br>\",\n    showlegend=False,\n), 1, 4)\n\n# Update layout and axes.\nfig.update_layout(title={\n                        'text': \"Global Age Distribution by Gender\",\n                        'y': 0.95,\n                        'x': 0.45,\n                        'xanchor': 'center',\n                        'yanchor': 'top'\n                        },\n                  barmode='group',\n                  margin=dict(t=50),\n                  plot_bgcolor='#fff', \n                  xaxis=dict(\n                      domain=[0, 1.0]\n                    ),\n                  yaxis1=dict(\n                      domain=[0., 1.0]\n                  ))\n\nfig.update_xaxes(showline=True, linewidth=1, linecolor='lightgrey')\nfig.update_yaxes(showline=True, linewidth=1, linecolor='lightgrey',\n                showgrid=True, gridcolor='lavender')\n\nfig.show()","0959c5b1":"def build_datafarme(df, cols, dic=None):\n    \"\"\"\"\n    Build dataframe from original data, with columns passed in cols.\n    Add continents to if dic is not None and Country col exist.\n    type(cols): list.\n    type(dic): dict.\n    \"\"\"\n    df = df[cols]\n\n    # Leaving only female or male.\n    if \"Gender\" in cols:\n        df = df[df[\"Gender\"].isin([\"Female\", \"Male\"])]\n    \n    # Renaming some countries and dropping \"other\".\n    if \"Country\" in cols:\n        df.drop(df[df[\"Country\"] == \"Other\"].index, inplace=True)\n        df.replace({'Iran, Islamic Republic of...': 'Iran',\n                    'United States of America': 'United States',\n                    'Viet Nam': 'Vietnam',\n                    \"People 's Republic of China\": 'China',\n                    \"United Kingdom of Great Britain and Northern Ireland\":\n                    'United Kingdom',\n                    \"Hong Kong (S.A.R.)\": \"Hong Kong\"},\n                   inplace=True)\n        if dic:\n            # Add continents column.\n            data = pd.DataFrame(dict([(k, pd.Series(v)) for k, v in dic.items()]))\n            s = data.stack().reset_index().set_index(0)[\"level_1\"]\n            df[\"Continent\"] = df[\"Country\"].map(s)\n    \n    # Renaming some \"Education\" values. \n    df.replace({\n        'Some college\/university study without earning a bachelor\u2019s degree':\n        'Some college\/university',\n        'No formal education past high school': 'High school',\n        'I prefer not to answer': 'Not Mentioned'\n    }, inplace=True)\n\n    # Changing None values to \"Not Mentioned\".\n    df.fillna('Not Mentioned', inplace=True)\n    \n    # Add a column of ones. Helps for counting after grouping.\n    df[\"Ones\"] = 1\n\n    # Reordering the columns.\n    df = df[str('Continent,' + str(','.join(cols)) + ',Ones').split(',')]\n\n    return df\n\n\n# Creating a dataframe of the survey.\ndic = {\n    'Middle East': ['Iran', 'Israel', 'Saudi Arabia', 'Turkey'],\n    'Africa': ['Algeria', 'Egypt', 'Kenya', 'Morocco',\n               'Nigeria', 'South Africa', 'Tunisia'],\n    'North America': ['Canada', 'United States'],\n    'South America': ['Argentina', 'Brazil', 'Chile',\n                      'Colombia', 'Mexico', 'Peru'],\n    'Europe': ['Austria', 'Belarus', 'Belgium', 'Czech Republic', 'Denmark',\n               'France', 'Germany', 'Greece', 'Hungary', 'Ireland', 'Italy',\n               'Netherlands', 'Norway', 'Poland', 'Portugal', 'Romania',\n               'Spain', 'Sweden', 'Switzerland', 'Ukraine', 'United Kingdom'],\n    'Oceana': ['Australia', 'New Zealand'],\n    'Asia': ['Bangladesh', 'China', 'Hong Kong', 'India', 'Japan',\n             'Pakistan', 'Republic of Korea', 'Russia', 'Singapore',\n             'South Korea', 'Taiwan'],\n    'South East Asia': ['Indonesia', 'Thailand', 'Malaysia',\n                        'Philippines', 'Vietnam']\n}\n\ncols = [\"Gender\", \"Country\", \"Age\", \"Role\", \"Education\", \"Salary\", \"Coding_years\"]\n\ndf = build_datafarme(mc, cols, dic)\n\n# Dividing male and female to two separate dataframes.\ndf_female = df[df[\"Gender\"] == \"Female\"]\ndf_male = df[df[\"Gender\"] == \"Male\"]","371b7b5c":"# Creating dataframe of female ratio around the world.\ndf_female_ratio = df[[\"Age\", \"Gender\", \"Country\"]].groupby(\"Country\")[\"Gender\"].value_counts().unstack().fillna(0)\ndf_female_ratio[\"% Female\"] = round((df_female_ratio[\"Female\"] \/ (df_female_ratio[\"Male\"]+df_female_ratio[\"Female\"])) * 100, 1)\n\n# Plotting female ratio on a world map.\nfig = go.Figure()\n\nfig.add_trace(go.Choropleth(\n    locationmode='country names',\n    locations=df_female_ratio.index,\n    text=df_female_ratio.index,\n    z=df_female_ratio[\"% Female\"],\n    colorscale=\"Reds\",\n    colorbar_tickprefix='%',\n    colorbar_title='% Female',\n    ))\n\nfig.update_layout(title={'text': \"Percentages of Female Respondents by Country\",\n                         'y': 0.95,\n                         'x': 0.45,\n                         'xanchor': 'center',\n                         'yanchor': 'top'},\n                  margin=dict(t=50),\n                  geo=dict(\n                      showframe=False,\n                      projection_type='equirectangular',\n                 ))\nfig.show()","07f427a9":"# Creating datafarme of education by gender of the working people.\ndf_edu = df[~df[\"Role\"].isin([\"Student\", \"Not Mentioned\",\n                              \"Not employed\", \"Other\"])]\n\n# Dividing dataframes by genders.\ndf_edu_female = df_edu[df_edu[\"Gender\"] == \"Female\"]\ndf_edu_male = df_edu[df_edu[\"Gender\"] == \"Male\"]\n\n# Percentages of every role, taken for each gender separately.\ndf_edu_per_female = df_edu_female.groupby(\"Education\").count()[\"Ones\"]\ndf_edu_per_female = get_percentage(df_edu_per_female).reindex([\n    'Doctoral degree', 'Master\u2019s degree', 'Bachelor\u2019s degree',\n    'Some college\/university', 'Professional degree', 'High school',\n    'Not Mentioned'\n])\n\n# Dividing dataframes by genders.\ndf_edu_per_male = df_edu_male.groupby(\"Education\").count()[\"Ones\"]\ndf_edu_per_male = get_percentage(df_edu_per_male).reindex(df_edu_per_female.index)\n\n# Plotting\nfig = go.Figure(data=[\n    # plot male\n    go.Bar(name=\"Male\", x=df_edu_per_female.index, y=df_edu_per_male.round(1),\n           marker=(dict(opacity=0.6)),\n           marker_color=blues[2],\n           hovertemplate=\"<i>%{label} <br>%{y} <\/br>\"),\n    # plot female\n    go.Bar(name=\"Female\", x=df_edu_per_female.index, y=df_edu_per_female.round(1),\n           marker=(dict(opacity=0.6)),\n           marker_color=pinks[2],\n           hovertemplate=\"<i>%{label} <br>%{y} <\/br>\")\n])\n\nfig.update_layout(margin=dict(t=30),\n                  title={'text': \"Global Education Levels by Gender\",\n                         'y': 1.0,\n                         'x': 0.45,\n                         'xanchor': 'center',\n                         'yanchor': 'top'},\n                  plot_bgcolor='#fff', \n                  )\nfig.update_xaxes(showline=True, linewidth=1, linecolor='lightgrey')\nfig.update_yaxes(showline=True, linewidth=1, linecolor='lightgrey',\n                 showgrid=True, gridcolor='lavender',\n                 tickprefix=\"%\")\n\nfig.show()","d04310af":"def build_hierarchical_dataframe(df, levels, value_column, name=None):\n    \"\"\"\n    Build a hierarchy of levels for Sunburst or Treemap charts.\n\n    Levels are given starting from the bottom to the top of the hierarchy,\n    ie the last level corresponds to the root.\n    \"\"\"\n\n    df_all_trees = pd.DataFrame(columns=['id', 'parent', 'value', 'percentage'])\n\n    for i, level in enumerate(levels):\n        df_tree = pd.DataFrame(columns=['id', 'parent', 'value'])\n        dfg = df.groupby(levels[i:]).sum(numerical_only=True)\n        dfg = dfg.reset_index()\n        df_tree['id'] = dfg[level].copy()\n\n        if i < len(levels) - 1:\n            df_tree['parent'] = dfg[levels[i+1]].copy()\n        else:\n            df_tree['parent'] = name\n\n        df_tree['value'] = dfg[value_column]\n        df_all_trees = df_all_trees.append(df_tree, ignore_index=True)\n\n    total = pd.Series(dict(id=name, parent='',\n                           value=df[value_column].sum(),\n                           percentage=0\n                           ))\n\n    df_all_trees = df_all_trees.append(total, ignore_index=True)\n\n    for i in range(len(df_all_trees)-1):\n        parent = df_all_trees['parent'].iloc[i]\n        df_all_trees[\"percentage\"].iloc[i] = df_all_trees[\"value\"].iloc[i] \/ \\\n            float(df_all_trees[df_all_trees['id'] == parent]['value'])\n\n    return df_all_trees\n\n\ndef plot_sunburst(df_all_trees1, df_all_trees2, title):\n    \"\"\"Plotting sunburst subplots\"\"\"\n    fig = go.Figure()\n\n    fig.add_trace(go.Sunburst(\n        labels=df_all_trees1['id'],\n        parents=df_all_trees1['parent'],\n        values=df_all_trees1['value'],\n        branchvalues='total',\n        domain=dict(column=0),\n        marker=dict(\n            colors=df_all_trees1['percentage'],\n            colorscale=pinks,\n        ),\n        hovertemplate='<b>%{label} <\/b>' +\n                      '<br><i>Amount: %{value}' +\n                      '<br>Percentage: %{color:%.2f}<i>',\n        name='Female',\n        maxdepth=2\n    ))\n\n    fig.add_trace(go.Sunburst(\n        labels=df_all_trees2['id'],\n        parents=df_all_trees2['parent'],\n        values=df_all_trees2['value'],\n        branchvalues='total',\n        domain=dict(column=1),\n        marker=dict(colors=df_all_trees2['percentage'],\n                    colorscale=blues\n                    ),\n        hovertemplate='<b>%{label} <\/b>' +\n                      '<br><i>Amount: %{value}' +\n                      '<br>Percentage: %{color:%.2f}<i>',\n        name='Male',\n        maxdepth=2\n    ))\n\n    fig.update_layout(margin=dict(t=50, b=50, r=50, l=50),\n                      grid=dict(columns=2, rows=1),\n                      title={'text': title,\n                             'y': 0.95,\n                             'x': 0.45,\n                             'xanchor': 'center',\n                             'yanchor': 'top'},\n                      plot_bgcolor='#fff'\n                      )\n    fig.show()","2e0926a7":"# Creating dataframe of role and education.\ndf_high_edu = df.drop(\n    df[(df[\"Role\"] == \"Student\") | (df[\"Role\"] == \"Not Mentioned\") |\n       (df[\"Role\"] == \"Other\") | (df[\"Education\"] == 'Not Mentioned')].index\n)\n\n# Grouping education to two groups: lower and higher.\ndf_high_edu.replace({\n    'Bachelor\u2019s degree': 'Lower education',\n    'Professional degree': 'Lower education',\n    'Some college\/university': 'Lower education',\n    'High school': 'Lower education',\n    'Master\u2019s degree': 'Higher education',\n    'Doctoral degree': 'Higher education',\n}, inplace=True)\n\n# Adding different spacing per continent to the \"Role\" column.\n# Solve the problem of multiple ids passed to sunbrust plot.\ncontinents = df_high_edu[\"Continent\"].unique()\ni = 0\n\nfor continent in continents:\n    condition = df_high_edu[\"Continent\"] != continent\n    df_high_edu[\"Role\"].where(condition, df_high_edu[\"Role\"] + ' '*i, inplace=True)\n    i += 1\n    \n\n# Dividing dataframe to female and male.\ndf_high_edu_female = df_high_edu[df_high_edu[\"Gender\"] == \"Female\"]\ndf_high_edu_male = df_high_edu[df_high_edu[\"Gender\"] == \"Male\"]\n\n# Creating dataframe of only lower education.\ndf_lower_edu = df_high_edu[df_high_edu[\"Education\"] == \"Lower education\"]\ndf_lower_edu.drop(df_lower_edu[df_lower_edu[\"Coding_years\"] == \"Not Mentioned\"].index,\n                  inplace=True)\n# Grouping coding experience to three groups: begginer, intermediate and pro.\ndf_lower_edu[\"Coding_years\"].replace({\n    'I have never written code': '0 years', '0 years': 'Begginer', \n    '1-2 years': 'Begginer', '< 1 years': 'Begginer', '3-5 years': 'Intermediate', \n    '5-10 years': 'Pro', '10-20 years': 'Pro', '20+ years': 'Pro'\n}, inplace=True)\n\n# Dividing dataframe by gender.\ndf_lower_edu_female = df_lower_edu[df_lower_edu[\"Gender\"] == \"Female\"]\ndf_lower_edu_male = df_lower_edu[df_lower_edu[\"Gender\"] == \"Male\"]\n\n# Plotting sunburst of experience by continent.\nlevels = [\"Coding_years\", \"Continent\"]\nvalue_column = 'Ones'\n\ndf_all_trees1 = build_hierarchical_dataframe(\n    df_lower_edu_female, levels, value_column, name='Female')\ndf_all_trees2 = build_hierarchical_dataframe(\n    df_lower_edu_male, levels, value_column, name='Male')\n\nplot_sunburst(df_all_trees1, df_all_trees2,\n              title=\"Coding Experience by Gender and Continent\")","c464ba41":"# Plotting sunburst of role and education continent.\nlevels = [\"Education\", \"Role\", \"Continent\"]\nvalue_column = 'Ones'\n\ndf_all_trees1 = build_hierarchical_dataframe(\n    df_high_edu_female, levels, value_column, name='Female')\ndf_all_trees2 = build_hierarchical_dataframe(\n    df_high_edu_male, levels, value_column, name='Male')\n\nplot_sunburst(df_all_trees1, df_all_trees2,\n              title=\"Education Levels by Gender, Continent and Occupation\")","5b1cbb98":"# Redefining df_high_edu after changing the \"Role\" column above.\ndf_high_edu = df.drop(\n    df[(df[\"Role\"] == \"Student\") | (df[\"Role\"] == \"Not Mentioned\") |\n       (df[\"Role\"] == \"Other\") | (df[\"Education\"] == 'Not Mentioned')].index\n)\n\ndf_high_edu.replace({\n    'Bachelor\u2019s degree': 'Lower education',\n    'Professional degree': 'Lower education',\n    'Some college\/university': 'Lower education',\n    'High school': 'Lower education',\n    'Master\u2019s degree': 'Higher education',\n    'Doctoral degree': 'Higher education',\n}, inplace=True)\n\n# Dividing dataframe by genders.\ndf_high_edu_female = df_high_edu[df_high_edu[\"Gender\"] == \"Female\"]\ndf_high_edu_male = df_high_edu[df_high_edu[\"Gender\"] == \"Male\"]\n\n# Creating a dataframe of gender percentage for each role.\ndf_edu_role_female = round(get_percentage(df_high_edu_female.groupby(\n    [\"Role\", \"Education\"]).count()[\"Ones\"].unstack(), axis=1), 1)\ndf_edu_role_male = round(get_percentage(df_high_edu_male.groupby(\n    [\"Role\", \"Education\"]).count()[\"Ones\"].unstack(), axis=1), 1)\n\n# Plotting stacked grouped plot of level of education for each role.\nfig = go.Figure()\n\nroles = df_edu_role_female.index\n# Plotting male.\nfig.add_bar(x=df_edu_role_female.index, y=df_edu_role_male[\"Higher education\"],\n            name=\"Male\",\n            marker=(dict(opacity=0.6)),\n            marker_color=blues[3],\n            text=[\"Higher Education\"]*10,\n            hovertemplate=\"<i><b>%{text}<\/b> <br>%{label} <br>%{y} <\/br>\"\n            )\n# Plotting female.\nfig.add_bar(x=df_edu_role_female.index, y=df_edu_role_female[\"Higher education\"],\n            name=\"Female\",\n            marker=(dict(opacity=0.6)),\n            marker_color=pinks[3],\n            text=[\"Higher Education\"]*10,\n            hovertemplate=\"<i><b>%{text}<\/b> <br>%{label} <br>%{y} <\/br>\"\n            )\n\n# Adding shape for lower education per role.\n# Solve the problem of no grouped-stacked option.\n# Shape for male.\nfor i in range(10):\n    fig.add_shape(go.layout.Shape(\n        type=\"rect\",\n        xref=\"x\",\n        yref=\"y\",\n        x0=-0.4 + i,\n        x1=0 + i,\n        y0=df_edu_role_male[\"Higher education\"][i],\n        y1=100,\n        fillcolor=blues[1],\n        opacity=0.6,\n        layer=\"above\",\n        line_width=0))\n\n# Shape for female.\nfor i in range(10):\n    fig.add_shape(go.layout.Shape(\n        type=\"rect\",\n        xref=\"x\",\n        yref=\"y\",\n        x0=0 + i,\n        x1=0.4 + i,\n        y0=df_edu_role_female[\"Higher education\"][i],\n        y1=100,\n        fillcolor=pinks[1],\n        opacity=0.6,\n        layer=\"above\",\n        line_width=0))\n\n\nfig.update_layout(barmode='group',\n                  title={'text': \"Global Education Levels by Occupation\",\n                         'y': 0.95,\n                         'x': 0.45,\n                         'xanchor': 'center',\n                         'yanchor': 'top'},\n                  legend=dict(itemclick=False),\n                  margin=dict(t=50),\n                  plot_bgcolor='#fff', \n                  yaxis=dict(title=\"Higher Education                 Lower Education\",\n                            title_font=dict(color='lightcoral'))\n                  )\n\nfig.update_yaxes(range=[0, 100], title_font=dict(size=18),\n                 tickprefix=\"%\",\n                showline=True, linewidth=1, linecolor='lightgrey',\n                showgrid=True, gridwidth=0.1, gridcolor='lavender')\n\nfig.update_xaxes(showline=True, linewidth=1, linecolor='lightgrey')\n\nfig.show()","1e5b5760":"# Creating dataframe of people with bachelor's degree of the top 5 roles.\ndf_bach = df[df[\"Education\"] == \"Bachelor\u2019s degree\"][\n    (df[\"Role\"] == 'Software Engineer') | (df[\"Role\"] == 'Data Scientist') |\n    (df[\"Role\"] == 'Data Analyst') | (df[\"Role\"] == 'Business Analyst') |\n    (df[\"Role\"] == 'Not employed')]\n\n# Dividing dataframe by genders.\ndf_bach_female = df_bach[df_bach[\"Gender\"] == \"Female\"]\ndf_bach_male = df_bach[df_bach[\"Gender\"] == \"Male\"]\n\n# Getting percentages of each role, for each gender.\ndf_bach_female = df_bach_female.groupby([\"Role\"]).count()[\"Ones\"]\ndf_bach_male = df_bach_male.groupby([\"Role\"]).count()[\"Ones\"]\n\ndf_bach_female = get_percentage(df_bach_female).fillna(0)\ndf_bach_male = get_percentage(df_bach_male).fillna(0)\n\n# Plotting pie charts of roles with bachelor's degree for each gender.\nfig = make_subplots(1, 2, specs=[[{\"type\": \"domain\"}, {\"type\": \"domain\"}]])\n# Plot female\nfig.add_trace(go.Pie(\n    name=\"\",\n    values=df_bach_female.values,\n    labels=df_bach_female.index,\n    hovertemplate=\"<i>%{label} <br>%{percent} <\/br>\",\n), 1, 1)\n# Plot male\nfig.add_trace(go.Pie(\n    name=\"\",\n    values=df_bach_male.values,\n    labels=df_bach_male.index,\n    hovertemplate=\"<i>%{label} <br>%{percent} <\/br>\",\n), 1, 2)\n\nfig.update_traces(hole=.4)\nfig.update_layout(title={\n    'text': \"Occupations Held with Bachelor's Degree by Gender\",\n    'y': 0.95,\n    'x': 0.45,\n    'xanchor': 'center',\n    'yanchor': 'top'},\n    margin=dict(t=50),\n    # Add annotations in the center of the donut pies.\n    annotations=[dict(text='Female', x=0.18, y=0.5, font_size=16, showarrow=False),\n                 dict(text='Male', x=0.81, y=0.50, font_size=16, showarrow=False)]\n)\n\nfig.show()","0c3de8c8":"# Creating dataframe of role percentages for each gender.\ndf_role = df.groupby([\"Role\", \"Gender\"]).count()[\"Ones\"].unstack()\ndf_role = get_percentage(df_role)\ndf_role.sort_values(by=[\"Female\"], ascending=False, inplace=True)\n\n# Creating a dataframe of the 2018 survey.\ndic_2018 = {\n    'Middle East': ['Iran, Islamic Republic of...',\n                    'Israel', 'Saudi Arabia', 'Turkey'],\n    'Africa': ['Egypt', 'Kenya', 'Morocco', 'Nigeria', 'Tunisia'],\n    'North America': ['Canada', 'United States'],\n    'South America': ['Argentina', 'Brazil', 'Chile', 'Colombia',\n                      'Mexico', 'Peru'],\n    'Europe': ['Austria', 'Belarus', 'Belgium', 'Czech Republic', 'Denmark',\n               'France', 'Germany', 'Greece', 'Hungary', 'Ireland', 'Italy',\n               'Netherlands', 'Norway', 'Poland', 'Portugal', 'Romania',\n               'Spain', 'Sweden', 'Switzerland', 'Ukraine', 'United Kingdom'],\n    'Oceana': ['Australia', 'New Zealand'],\n    'Asia': ['Bangladesh', 'China', 'Hong Kong', 'India',\n             'Japan', 'Pakistan',\n             'Republic of Korea', 'Russia', 'Singapore',\n             'South Korea'],\n    'South East Asia': ['Indonesia', 'Thailand', 'Malaysia',\n                        'Philippines', 'Vietnam']\n}\n\ncols = [\"Gender\", \"Country\", \"Age\", \"Role\"]\ndf_2018 = build_datafarme(mc_2018, cols, dic_2018)\n\n# Removing roles that are not found in 2019 roles.\nfor role in df_2018.groupby([\"Role\"]).count().index:\n    if role not in df.groupby([\"Role\"]).count().index:\n        df_2018.drop(df_2018[df_2018[\"Role\"] == role].index, inplace=True)\n\n# Creating dataframe of role percentages for each gender in 2018 survey.\ndf_role_2018 = df_2018.groupby([\"Role\", \"Gender\"]).count()[\"Ones\"].unstack()\ndf_role_2018 = get_percentage(df_role_2018)\ndf_role_2018 = df_role_2018.reindex(df_role.index)\n\n# Creating a dataframe of the 2017 survey.\ncols = [\"Gender\", \"Country\", \"Age\", \"Role\"]\ndf_2017 = build_datafarme(mc_2017, cols, dic)\n\n# Creating dataframe of role percentages for each gender in 2017 survey.\ndf_role_2017 = df_2017.groupby([\"Role\", \"Gender\"]).count()[\"Ones\"].unstack()\ndf_role_2017 = get_percentage(df_role_2017)\ndf_role_2017 = df_role_2017.reindex(df_role.index)\n\n\n# Plotting subplots of roles by genders, for years 2017-2019.\nfig = make_subplots(\n    rows=3, cols=1, shared_xaxes=True, vertical_spacing=0.05,\n    subplot_titles=(\"2019\", \"2018\", \"2017\")\n)\n# Plot 2017\nfig.add_bar(name=\"Male\", x=df_role_2017.index, y=df_role_2017[\"Male\"].round(1),\n            marker=dict(color=\"royalblue\", opacity=0.6),\n            marker_color=blues[2],\n            hovertemplate=\"<i>%{label} <br>%{y} <\/br>\",\n            row=3, col=1)\n\nfig.add_bar(name=\"Female\", x=df_role_2017.index, y=df_role_2017[\"Female\"].round(1),\n            marker=dict(color=\"tomato\", opacity=0.6),\n            marker_color=pinks[2],\n            hovertemplate=\"<i>%{label} <br>%{y} <\/br>\",\n            row=3, col=1)\n\n# Plot 2018\nfig.add_bar(name=\"Male\", x=df_role_2018.index, y=df_role_2018[\"Male\"].round(1),\n            showlegend=False,\n            marker=dict(color=\"royalblue\", opacity=0.6),\n            marker_color=blues[2],\n            hovertemplate=\"<i>%{label} <br>%{y} <\/br>\",\n            row=2, col=1)\n\nfig.add_bar(name=\"Female\", x=df_role_2018.index, y=df_role_2018[\"Female\"].round(1),\n            showlegend=False,\n            marker=dict(color=\"tomato\", opacity=0.6),\n            marker_color=pinks[2],\n            hovertemplate=\"<i>%{label} <br>%{y} <\/br>\",\n            row=2, col=1)\n\n# Plot 2019\nfig.add_bar(name=\"Male\", x=df_role.index, y=df_role[\"Male\"].round(1),\n            showlegend=False,\n            marker=dict(color=\"royalblue\", opacity=0.6),\n            marker_color=blues[2],\n            hovertemplate=\"<i>%{label} <br>%{y} <\/br>\",\n            row=1, col=1)\n\nfig.add_bar(name=\"Female\", x=df_role.index, y=df_role[\"Female\"].round(1),\n            showlegend=False,\n            marker=dict(color=\"tomato\", opacity=0.6),\n            marker_color=pinks[2],\n            hovertemplate=\"<i>%{label} <br>%{y} <\/br>\",\n            row=1, col=1)\n\nfig.update_layout(height=800,\n                  title={\n                      'text': \"Global Occupations by Gender from 2017-2019\",\n                      'y': 0.95,\n                      'x': 0.45,\n                      'xanchor': 'center',\n                      'yanchor': 'top'},\n                  plot_bgcolor='#fff',\n                  legend=dict(itemclick=False)\n                  )\n\nfig.update_yaxes(range=[0, 29],\n                 tickprefix=\"%\",\n                 showline=True, linewidth=1, linecolor='lightgrey',\n                 showgrid=True, gridcolor='lavender')\nfig.update_xaxes(showline=True, linewidth=1, linecolor='lightgrey')\n\nfig.show()","9d9f8229":"def salary_group_2_num(df):\n    \"\"\"\n    Takes data with column Salary as str.\n    return dataframe of average value (float) of each salary group.\n    \"\"\"\n    mn = 0\n    mx = 0\n    d = {}\n    for salary in df[\"Salary\"].unique():\n        mn = salary.split('-')[0]\n        mn = int(mn.replace(',', '').replace('$', '').replace('> ', ''))\n        try:\n            mx = salary.split('-')[1]\n            mx = int(salary.split('-')[1].replace(',', ''))\n        except:\n            mx = mn\n\n        av = (mn + mx) \/ 2\n        d.update({salary: av})\n\n    return df.replace({\"Salary\": d})\n\n\ndef plot_salary(df):\n    \"\"\"Plot average salary by country for each gender.\"\"\"\n    fig = go.Figure()\n\n    fig.add_trace(go.Scatter(\n        x=df.reset_index()[\"Country\"],\n        y=df[\"Male\"],\n        name=\"Male\",\n        mode='lines+markers',\n        marker_color=blues[2],\n        hovertemplate=\"<i>%{x} <br>%{y} <\/br>\"\n    ))\n\n    fig.add_trace(go.Scatter(\n        x=df.reset_index()[\"Country\"],\n        y=df[\"Female\"],\n        name=\"Female\",\n        mode='lines+markers',\n        marker_color=pinks[2],\n        hovertemplate=\"<i>%{x} <br>%{y} <\/br>\"\n    ))\n\n    # Adding annotations with continents names.\n    fig.update_layout(annotations=[\n        go.layout.Annotation(\n            x=3, y=140000, text=\"Africa\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=12, y=140000, text=\"Asia\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=27, y=140000, text=\"Europe\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=40, y=140000, text=\"Middle<br>East\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=43.5, y=135000, text=\"North<br>America\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=45.5, y=120000, text=\"Oceana\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=49, y=140000, text=\"South<br>America\",\n            showarrow=False, font=dict(size=11)\n        ),\n        go.layout.Annotation(\n            x=55, y=140000, text=\"South<br>East<br>Asia\",\n            showarrow=False, font=dict(size=11)\n        )\n    ],\n        margin=dict(t=30),\n        title={\n            'text': \"Gender-Pay Gap by Country\",\n            'y': 1.0,\n            'x': 0.45,\n            'xanchor': 'center',\n            'yanchor': 'top'},\n        plot_bgcolor='#fff'\n    )\n\n    x = [0.0, 6.5, 17.5, 38.5, 42.5, 44.5, 46.5, 52.5, 57.5]\n    colors = [\"red\", \"blue\", \"green\", \"purple\", \"orange\", \"cyan\", \"yellow\", \"black\"]\n\n    for i in range(8):\n        fig.add_shape(go.layout.Shape(\n            type=\"rect\",\n            xref=\"x\",\n            yref=\"paper\",\n            x0=x[i],\n            x1=x[i+1],\n            y0=0,\n            y1=1,\n            fillcolor=colors[i],\n            opacity=0.06,\n            layer=\"below\",\n            line_width=0))\n\n    fig.update_xaxes(range=[0, 57],\n                    ticks=\"outside\", tickwidth=1, tickcolor='darkgray')\n    fig.update_yaxes(tickprefix=\"$\")\n\n    fig.show()\n\n\n# Creating a dataframe of salaries of the working people, for each gender.\ndf_salary = df.drop(\n    df[(df[\"Role\"] == \"Student\") | (df[\"Role\"] == \"Not Mentioned\") |\n       (df[\"Role\"] == \"Other\") | (df[\"Education\"] == 'I prefer not to answer') |\n        (df[\"Salary\"] == \"Not Mentioned\")].index\n)\n\n# Changing from salary groups to the average group amount (float).\ndf_salary = salary_group_2_num(df_salary)\n\n# Getting average salary by country for each gender.\ndf_salary = df_salary.groupby([\"Continent\", \"Country\", \"Gender\"]).sum()\ndf_salary = round((df_salary[\"Salary\"] \/ df_salary[\"Ones\"]).unstack())\n\n# Plotting.\nplot_salary(df_salary)","b56d274c":"# Creating dataframe of salaries by role for each gender.\ndf_salary_role = df.drop(\n    df[(df[\"Role\"] == \"Student\") | (df[\"Role\"] == \"Not Mentioned\") |\n       (df[\"Role\"] == \"Other\") | (df[\"Education\"] == 'I prefer not to answer') |\n        (df[\"Salary\"] == \"Not Mentioned\")].index\n)\n\n# Changing from salary groups to the average group amount (float).\ndf_salary_role = salary_group_2_num(df_salary_role)\n\ndf_salary_role = df_salary_role.groupby([\"Continent\", \"Country\", \"Role\", \"Gender\"]).sum()\ndf_salary_role = pd.concat([\n    round(df_salary_role[\"Salary\"] \/ df_salary_role[\"Ones\"]), df_salary_role[\"Ones\"]\n],\n    axis=1).unstack().fillna(0).stack().reset_index()\n\ndf_salary_role.columns = ['Continent', 'Country', 'Role', 'Gender', \"Salary\", \"Ones\"]\n\n# Adding country to the \"Role\" column.\n# Solve the problem of multiple ids passed to sunbrust plot.\ndf_salary_role[\"Country-Role\"] = df_salary_role[\"Role\"] + '<br>(' + df_salary_role[\"Country\"] + ')'\n\n# Formating the salary column and deviding dataframe by gender.\ndf_salary_role[\"Salary\"] = df_salary_role[\"Salary\"].astype(int).map(lambda x: \"${:,}\".format(x))\ndf_salary_role_female = df_salary_role[df_salary_role[\"Gender\"] == \"Female\"]\ndf_salary_role_male = df_salary_role[df_salary_role[\"Gender\"] == \"Male\"]\n\n# Plotting sunbursts of country-role-salary, for each gender.\nlevels = [\"Salary\", \"Country-Role\", \"Country\"]\nvalue_column = 'Ones'\n\ndf_all_trees1 = build_hierarchical_dataframe(\n    df_salary_role_female, levels, value_column, name='Female'\n)\ndf_all_trees2 = build_hierarchical_dataframe(\n    df_salary_role_male, levels, value_column, name='Male'\n)\n\nplot_sunburst(df_all_trees1, df_all_trees2,\n              title=\"Gender-Pay Gap by Country and Occupation\")","9340c353":"# Overview: Gender Statistics","346f52fd":"* The chart above shows the number and percentage of survey respondents grouped by age and gender. The chart is interactive, so you can de-select and select any of the categories to find exact numbers.     \n* As you can see, the data resulting from the categories *preferred not to say* and *self-described* are not statistically significant in our analysis and will thus be omitted from further data representations. \n* **You'll notice that there are significantly less female (16.6%) than male (83.4%) respondents**. \n* The age distribution for female and male respondents, however, is relatively the same: both data sets are normally distributed, with a mean of 25-29 years of age. The majority of male and female survey respondents are between the ages of 22 and 34, as may be expected from any up-and-coming global industry\/ workforce.\n* Now that we've grasped the age and gender of respondents, we'll look at where respondents are living to see if we notice any further trends. ","9ae35ef8":"* The above chart shows the average salary by gender and country, which was arrived at by taking the mean of each salary-grouping and comparing it to the number of respondents of that gender in that country.\n* This part of the analysis omitted data from respondents who were unemployed or students, as it does not pertain to the findings. \n* You'll notice that, in most countries except Nigeria, Pakistan, Iran, and Peru, a man's salary is significantly higher than a woman's. In Pakistan, Iran and Peru, women make, on average, double that of a man, whereas in Nigeria, the difference is relatively marginal.\n* In all other countries, **it is not uncommon to see men's salaries doubling women's in the same country**.\n* Men's experience in coding could attribute to a degree of the salary disparities; however, we'd argue that an additional 2-5 years of experience should not - in theory - double one's salary.  \n* Given that men are more likely to be data scientists, software engineers, product\/project managers, data engineers and database engineers, it may be that most countries place a higher value on positions typically occupied by men - as is the case for many occupations with significant gender-wage gaps. \n* Let's take a further look at the gender-wage gap by country and occupation to test this theory. ","9279d9d9":"# Assumptions & Omissions \n\n* We acknowledge that the data collected is from those reachable by Kaggle channels, and is thereby a limited representation of the global data science (DS) and machine learning (ML) industry. We hope that future surveys will expand their reach to further channels, so that we can observe, analyze and learn from a more full representation of the industry. The data is also limited to those who were willing and had sufficient time to complete the survey.\n\n* We will use the term 'gender' to refer to those who self-identified in the survey as either male or female. Although we are happy to see the inclusion of alternative gender categories for the sake of inclusivity and progress, the categories preferred not to say and self-described are not statistically significant in our analysis because we are choosing to analyze the data by gender. The data will be omitted for the purpose of data clarity. Given this, when we refer to ratios or percentages, we are referring to the percentage of female respondents to female and male respondents, rather than overall survey respondents.\n\n* Country data falling under the category of \"other\" has been omitted, as it does not contribute to our analysis.\n\n* For the purpose of our analysis, countries with like-data were grouped together into continents, for the most part. The country groupings are as follows:\n\n    - Africa: Algeria, Egypt, Kenya, Morocco, Nigeria, South Africa, Tunisia\n    - Asia: Bangladesh, China, Hong Kong, India, Japan, Pakistan, Republic of Korea, Russia, Singapore, South Korea, Taiwan\n    - Europe: Austria, Belarus, Belgium, Czech Republic, Denmark, France, Germany, Greece, Hungary, Ireland, Italy, Netherlands, Norway, Poland, Portugal, Romania, Spain, Sweden, Switzerland, Ukraine, United Kingdom \n    - Middle East: Iran, Israel, Saudi Arabia, Turkey\n    - North America: Canada and United States\n    - Oceania: Australia, New Zealand\n    - South America: Argentina, Brazil, Chile, Colombia, Mexico, Peru\n    - South East Asia: Indonesia, Thailand, Malaysia, Philippines, Vietnam","70495d29":"# References\n\n1. https:\/\/www.huffpost.com\/entry\/women-in-the-workforce-wh_b_4462455\n2. https:\/\/vincentbenjamin.com\/tech-timeline-a-brief-history-of-the-information-technology-industry\/ \n3. https:\/\/www.cnet.com\/news\/women-in-tech-the-numbers-dont-add-up\/\n4. https:\/\/www.forbes.com\/sites\/break-the-future\/2016\/12\/20\/think-youre-not-biased-against-women-at-work-read-this\/ \n5. Heilman,M.E., Manzi, F. and Braun,S. (2015) 'Presumed incompetent: perceived lack of t and gender bias in recruitment and selection.', in Handbook of gendered careers in management: getting in, getting on, getting out. Cheltenham: Edward Elgar, pp. 90-104. Elgar original reference. Retrieved from <http:\/\/dro.dur.ac.uk\/16470\/1\/16470.pdf>\n6. Moss-Racusin, C. A., Dovidio, J. F., Brescoll, V. L., Graham, M. J., & Handelsman, J. (2012). Science faculty\u2019s subtle gender biases favor male students. Proceedings of the National Academy of Sciences, 201211286. https:\/\/doi.org\/10.1073\/pnas.1211286109\n7. https:\/\/www.macleans.ca\/education\/uniandcollege\/women-in-canada-embrace-higher-education-statcan-survey\/ \n8. https:\/\/hbr.org\/2014\/08\/why-women-dont-apply-for-jobs-unless-theyre-100-qualified\n9. https:\/\/www.women-in-tech-africa-summit.com\/infographic\n10. https:\/\/africanwomenintech.com\/posters\/\n11. https:\/\/www.tech-women.com\/\n12. https:\/\/theaseanpost.com\/article\/southeast-asian-women-workforce\n13. https:\/\/www.techinasia.com\/talk\/gender-imbalance-tech-lost-opportunities-southeast-asia  ","84f80fa9":"* The above charts show female and male survey respondent data grouped by continent and coding experience.\n* For the purpose of the analysis, we considered anyone with less than 5 years of coding experience to be a *beginner*; 5-10 years coding experience as an *intermediate* and over 10 years of coding experience a *pro*.  \n* You'll notice that the majority of survey respondents (39% of females and 47% of males) fall within the 'Asia' country grouping, with North American respondents representing 20% of females and 15% of males. \n* Within all country groupings except Africa, **men are more likely to having more coding experience**. It is unclear, however, how well \"coding experience\" was defined. There is a potential that some may have considered their education as coding experience and others may not have, which could skew the data.\n* The data also shows high percentages of beginners for females and males in Asia, Africa, South America, South-east Asia and the Middle East, meaning industry knowledge will expand significantly and globally over the next decade. \n* Next, we'll look at education levels by gender and occupation.   ","0414ff0a":"# Compensation Discrepancies","492ac1f4":"* The chart above compares the education levels of male and female survey respondents by percentage of respondents in their gender group. For example, 20% of female respondents have a doctoral degree, compared to 16.1% of male respondents. \n* You'll see that higher percentages of women respondents have obtained graduate-level education than men, while a higher percentage of men have an undergraduate degree. The data also shows that there are less women with some university\/ college education but no degree, and no education past high school.  \n* As such, **generally speaking, female survey respondents are more educated than their male counterparts.**\n* Now that we've observed levels of education, we'll look at the numbers in terms of experience.\n","0cac6913":"* The map above visually depicts the percentage of female respondents in each country. You'll notice that the lighter-shaded countries have lower percentages of females and the darker-shaded countries have higher percentages.\n* **The average percentage of female respondents in a country is 16.6%, with the lowest percentages in Norway (4%) and Japan (8%), and the highest percentages in Tunisia (48%), the Philippines (32%), Iran & Malaysia (29%) and Kenya (25%).**   \n* This visualization demonstrates that data can generally be clustered into continents (North America, South & Central America [called South America for the purpose of this analysis], Europe, Middle East, Africa, Asia & South-East Asia), which we will use for the remainder of this analysis.  \n* The map highlights well above-average percentages of women in parts of Africa, South-east Asia, and the Middle East, which is interesting because it challenges commonly-held beliefs about women from these areas. \n* Next we'll look at levels of education for men and women in DS & ML around the world. ","7db2aa07":"# Money Talks: Gender Disparities in Tech","cca2d234":"# Conclusion\n\n* In conclusion, survey data suggests that there are significantly less females than males in the DS & ML industry, with 16.6% female and 83.4% male respondents. The average percentage of female survey respondents in one country is 16.6%, with percentages ranging from 4-48% across the world.\n* Globally speaking, female survey respondents are more educated than their male counterparts, although males are more likely to have more coding experience. \n* In most occupations, higher percentages of women (3-17%) possess a higher level education than their male counterparts, and men are more likely to be able to enter into DS with a lower level of education than women.\n* Women are more likely to be students, data analysts, business analysts, unemployed, or statisticians and men are more likely to be data scientists, software engineers, product\/project managers, data engineers and database engineers. \n* When comparing the average salaries of males and females globally, it is not uncommon to see men's salaries doubling women's in the same country.\n* Upon further investigation of male and female salaries by occupation, we can see that men's high salaries are not necessarily attributed to them occupying higher-value positions. More often than not, men in DS & ML typically bring home a higher salary than women *in the same occupation and country*. \n* These findings underscore the common, and likely unconscious, belief that men's contributions are seen to be more valuable than women's. These beliefs lead to organizations and businesses holding unconscious biases towards men, which present a challenge for women struggling to gain perceived legitimacy. ","8986d764":"# Occupation","69cb0a53":"## Percentages of Female Respondents by Country","0e3c1904":"# Gender-Pay Gap and Lack of Fit\nIt's no secret that there is a gender-pay gap across many industries. \n\nIn the western world, women began entering the workforce in or around the 1970s, when a single income could no longer sufficiently provide for a middle-class family [[1]](https:\/\/www.huffpost.com\/entry\/women-in-the-workforce-wh_b_4462455). The driving factor at this point was an economic need rather than a consideration of what women could contribute, and unfortunately, not all occupations were open to women. Presumably, because women were restricted and undervalued by society, they restricted and undervalued themselves. The leading occupations for women in 1970 were secretaries, bookkeepers, and elementary school teachers. The fact that these positions were paid less than the leading occupations for men in the 70s: entry-level managers, truck drivers, or production supervisors, seemed obvious [[1]](https:\/\/www.huffpost.com\/entry\/women-in-the-workforce-wh_b_4462455). \n\nWith the tech sector becoming an increasingly dominant industry over the past two decades [[2]](https:\/\/vincentbenjamin.com\/tech-timeline-a-brief-history-of-the-information-technology-industry\/) - five decades since women began joining the workforce - one would think that the tech industry wouldn't be slighted towards male or female employees. However, according to diversity reports published by 11 of the world's largest tech companies in 2014, **the average percentage of women working in the tech industry was about 30%, despite women making up over 50% of the workforce in most western countries** [3](https:\/\/www.cnet.com\/news\/women-in-tech-the-numbers-dont-add-up\/). Within that 30% of female employees, women occupied anywhere from 10-17% of technical positions and 21-26% percent of leadership positions in Microsoft, Twitter and Google [3](https:\/\/www.cnet.com\/news\/women-in-tech-the-numbers-dont-add-up\/).\n\nThese numbers can be largely attributed to our unconscious biases towards males in most industries, despite women holding more degrees than men in the US, UK, and Canada [5,7]. According to a global online study, \n\n**76% of 200,000 participants see men as better suited as career professionals and women as homemakers** [[4]](https:\/\/www.forbes.com\/sites\/break-the-future\/2016\/12\/20\/think-youre-not-biased-against-women-at-work-read-this\/). \n\nThis is often referred to by academics as the *lack of fit* principle, which occurs when there is a discrepancy between what someone is thought to be like and what is thought to be required for success. These presumptions are often based on gender, and requirements for success are often attributed to perceived male-like traits, such as agency [[5], [[6]](https:\/\/doi.org\/10.1073\/pnas.1211286109)]. These biases are consistently proven to be echoed throughout hiring and evaluative processes of organizations, universities and even orchestras [[5], [[6]](https:\/\/doi.org\/10.1073\/pnas.1211286109)], and they lead to women in what are traditionally, and perhaps unconsciously, thought to be *male-like* professions, such as science, technology, engineering, math and management, being underestimated, devalued and consequently, underpaid. \n\nIn addition to corporations and organizations undervaluing women, women may also undervalue themselves. A Hewlett Packard internal report suggested that **men will apply for a job even when they meet only 60% of the qualifications, but women will only apply if they meet 100% of them** [[8]](https:\/\/hbr.org\/2014\/08\/why-women-dont-apply-for-jobs-unless-theyre-100-qualified).\n\nFor these reasons, we have chosen to focus our analysis on survey respondents' gender, location, education, experience, occupation and income.","85b931c9":"* The above charts represent male and female respondents' education levels in each occupation, broken down first by continent, then occupation and education. \n* For the purpose of the analysis, we've grouped graduate and post-graduate level education (Masters and Doctorates) into *higher education* and Bachelor's degrees and below as *lower education*. Students were omitted from this part of the analysis, as it seeks to capture education levels of the workforce rather than those entering the workforce. We decided to include the data on unemployed respondents, to observe any trends of educated and unemployed respondents.\n* You'll notice that, generally speaking, **women have higher levels of education than their male counterparts in the same occupation**. \n* Within North American data scientists, for example, 87% of women have a higher education, compared to only 81% of their male counterparts in the same location and occupation. In Asia, 71% of unemployed females have a higher level of education, compared to 54% of males in the same position. In Africa, 47% of female data analysts have a higher education, compared to 44% of their male counterparts. In the Middle East, 84% of data scientists have a higher education, compared to 66% of their male counterparts.\n* You'll also notice that despite the high levels of female (in relation to male) respondents in Africa, 18% of females are unemployed, while 12% of their male counterparts are unemployed. Of the unemployed female respondents in Africa, 46% have a higher education compared to 37% of their male counterparts.","43b48f29":"![IMG-20191201-WA0000%281%29.jpg](attachment:IMG-20191201-WA0000%281%29.jpg)","1464e8c9":"# Meet the Authors\nRotem and Becca are an Israeli-Canadian couple, currently living together with their dog, Harley, in Victoria, British Columbia, Canada. \n\nRotem is responsible for both the coding and analysis portions of this submission. She is a self-taught aspiring data scientist, with a BSc in Physics and Earth Science. She learned the basics of coding in various university courses and has focused on expanding her knowledge over the past year. Through this project, she has challenged herself to analyze and present data in new and interesting ways. She hopes to someday break the glass ceilings experiences by women in DS and ML.  \n\nBecca is responsible for both the story content and analysis portions of the submission. She is a Logistics Officer in the Royal Canadian Navy, with a BA in English, and is currently completing a major project for an MA, which focuses on the unique stressors of women in the Canadian Navy. Through this project, she is building her content-producing resume and furthering her passion for improving the representation of women in male-dominated industries.","9664d708":"* The above bar graph looks at global education levels of male and female respondents by occupation, with the bottom portion of the bars representing *higher education* and the top portion of the bars representing *lower education*.\n* You'll notice there is a consistent trend across each occupation indicating that **a higher percentage of females in *all* occupations possess a higher level of education than their male counterparts**. \n* Of note, women also have higher percentages of unemployment.\n* Now that we've established that female respondents generally possess a higher education than their male counterparts, we'll dig further into the data on respondents with a lower education, or Bachelor's degree and below. ","bd926f01":"# Education & Experience","63598cb3":"* The above chart shows the average salary of males and females by country and occupation.\n* It allows you to compare the pay\/wage gap between women and men occupying the same, or different, role in the same, or different, country.\n* For example, you can see that female data scientists in the US are paid 124K annually, while their male counterparts receive 146K. In India, a male data analyst receives 16.7K and his female counterpart receives 4.2K. In the UK, a female software engineer makes 47.5K and her male counterpart makes 90.8K.  \n* There are a few exceptions to women making less than or equal to the salaries of men, such as software engineers in China, and data analysts in Germany, but these figures may be skewed due to low numbers of respondents in these areas.\n* Canada seems to have the lowest gender-wage gap between male and female data scientists and data analysts; however, there are still significant gaps for software engineers, research scientists and business analysts.\n* Overall, we can see that men do not necessarily have higher salaries because they're employed in higher-value positions. Even when men are employed in positions that are commonly occupied by women, they make more than their female counterparts, and when women occupy positions than are commonly occupied by men, they continue to make less than their male counterparts. \n* As such, it can easily be said that **men in DS & ML typically bring home a higher salary than women in the same occupation and country**. ","0db6aeb8":"* The charts above show the occupations held by female and male survey respondents with a Bachelor's degree or less. \n* You'll notice that **4.2% more males manage to enter data science with only a Bachelor's degree** and unemployment for females ~3% higher than their male counterparts with the same level of education. These numbers are both consistent with the findings of the HP internal report mentioned in our introduction [8]. \n* Finally, you'll see that males are more likely to be software engineers and females are more likely to be data analysts. It is unclear as to whether this is due to unconscious biases in the application and hiring processes, or individual preferences, which may or may not be based on internalized unconscious biases.\n* Now that we've seen that women are generally more educated than their male counterparts and are less likely to obtain a job with a lower level of education, we'll look at what types of jobs women and men are typically occupying.  \n","31d879ec":"* The following charts compare the percentages of male and female respondents in the various DS & ML occupations or functions. We've stacked each year's data for additional comparison. \n* You'll notice that despite their higher levels of education noted in the above charts, **females are more likely to be students, data analysts, business analysts, unemployed, or statisticians. Males are more likely to be data scientists, software engineers, product\/project managers, data engineers and database engineers**.\n* The 2017 data is clearly different than the other years, but it still shows similar trends as the following years with more men in data science and more women in data analysis. \n* The trends stay relatively the same throughout 2018 and 2019, indicating no significant signs of professional advancement for women since 2017.\n* Now that we've established role trends for each of the genders, let's compare salaries of female and male survey respondents. ","d364894f":"![A-14_Manage_Chaos_feature.jpg](attachment:A-14_Manage_Chaos_feature.jpg)"}}