{"cell_type":{"5afd0026":"code","e374923b":"code","652b2f2f":"code","ef96a53c":"code","01bbccc1":"code","15fe9ac1":"code","f51b3c1b":"code","89e3c58d":"code","a2293c74":"code","6c5effd4":"code","b3d564f5":"code","79b67a27":"code","b3594d51":"code","656c3bba":"markdown","588f9b1d":"markdown","0983137b":"markdown","91ffac3c":"markdown","2b2fcd5e":"markdown","6c7f9f30":"markdown","fdec122f":"markdown","98886a42":"markdown"},"source":{"5afd0026":"# Setup\n\nimport numpy as np\nimport pandas as pd\n\nmetadata = pd.read_csv('..\/input\/ted-talks\/ted_main.csv')\ntranscripts = pd.read_csv('..\/input\/ted-talks\/transcripts.csv')\n\nmetadata.describe()","e374923b":"# Get timedeltas from the end point\nfrom datetime import datetime\n\nend_date = datetime(year=2017, month=9, day=21)\nmetadata['days_online'] = end_date - metadata['published_date'].map(datetime.fromtimestamp)\nmetadata['days_online'] = metadata['days_online'].map(lambda x: x.days)\nmetadata[['days_online']].describe()","652b2f2f":"end_date = datetime(year=2017, month=9, day=23)\nmetadata['days_online'] = end_date - metadata['published_date'].map(datetime.fromtimestamp)\nmetadata['days_online'] = metadata['days_online'].map(lambda x: x.days)\nmetadata[['days_online']].describe()","ef96a53c":"metadata['views'].hist()","01bbccc1":"metadata['comments'].hist()","15fe9ac1":"metadata['log_views'] = np.log2(metadata['views'])\nmetadata['log_comments'] = np.log2(metadata['comments'])\nmetadata['log_views'].hist()","f51b3c1b":"metadata['log_comments'].hist()","89e3c58d":"metadata[['log_views', 'log_comments', 'days_online', 'languages', 'duration']].corr()","a2293c74":"import matplotlib.pyplot as plt\n\n# made a little helper\ndef scatter_trend(*, x, y, color=None):\n    #plt.ylim(min(y), max(y))\n    plt.scatter(x, y, c=color)\n    # calc the trendline\n    z = np.polyfit(x, y, 2)\n    p = np.poly1d(z)\n    # ensure the x is ordered for the line plot\n    sorted_data = sorted(list(zip(x, p(x))))\n    new_x = [i[0] for i in sorted_data]\n    new_p = [i[1] for i in sorted_data]\n    plt.plot(new_x, new_p, \"r--\")\n    plt.show()\n\nscatter_trend(x=metadata['log_views'], y=metadata['log_comments'], color=metadata['days_online'])","6c5effd4":"scatter_trend(x=metadata['log_views'], color=metadata['log_comments'], y=metadata['days_online'])","b3d564f5":"!pip install ipyvolume","79b67a27":"import ipyvolume as ipv\n\ndef plot3D(*, x, y, z):\n    def scale(s):\n        return s.apply(lambda i: i\/s.max())\n    _x, _y, _z = (scale(metadata[x]), scale(metadata[y]), scale(metadata[z]))\n    fig = ipv.figure()\n    scatter = ipv.quickscatter(_x, _y, _z, marker='sphere', color='green')\n    ipv.pylab.xlim(_x.min(), _x.max())\n    ipv.pylab.ylim(_y.min(), _y.max())\n    ipv.pylab.zlim(_z.min(), _z.max())\n    ipv.pylab.xlabel(x)\n    ipv.pylab.ylabel(y)\n    ipv.pylab.zlabel(z)\n    ipv.show()\n    \nplot3D(x='log_views', y='log_comments', z='days_online')","b3594d51":"plot3D(x='log_views', y='log_comments', z='languages')","656c3bba":"The languages dependence looks nearly linear in the log scale.\n\nSome ideas for modelling:\n\nTargets:\n\n    views (measure of how interesting the talk looks): modelled on tags, title, desc, time online, related talks, languages\n    total rates (measure of emotional influence of talk): modelled on time online, views, transcript, speaker occupation\n    comments (measure of response provoked by talk): modelled the same as total rates\n\nWe can also predict:\n\n    the annual (or per view) rating rate\n    the annual (or per view) comment rate\n\nWhat cannot be done with this dataset:\n\n    get the sentiment of the audience towards the speaker prior to the viewing\n    use rates or comments as predictors, as that would leak information on the final response of the audience: rates and comments happen after a talk is viewed\n\nLimitations of the data:\n\n    No true way to measure stage presence or quality of delivery of the talk, which would be very important for the response of the audience\n\nHow to overcome the limitations:\n\n    a speaker's occupation is a very low-resolution way to get an idea of the type of stand\/delivery the speaker will make, and final response will still depend on who the audience are. Maybe an evaluation of the pairing between the speaker occupation and the tags (domain of the talk) can give a predictor for delivery?\n\nModelling preparations:\n\n    one-hot encode tags\n    get days_online\n    get title and description sentiment\n    get number of related talks\n    define occupation and tags match level\n\nType of model: fully-connected neural network\n","588f9b1d":"The distributions became almost perfectly normal. After some research it turns out that human comments online actually follow a log-normal distribution, so the transformation is the right one.\n\nIs there a correlation between views\/comments and days online? (Sounds logical)","0983137b":"Still not good enough, let's go 3D.\n\nNote: The ipyvolume library that I found for 3D visualizations installs on Kaggle, but the visuals do not appear. If it is installed locally they appear.","91ffac3c":"The views and comments need some normalizing and, as a target, feel like something that should be subject to diminishing returns. We'll put them in log scale to make this visible.","2b2fcd5e":"There is a moderate correlation between views and comments, as expected. The same is true for the number of languages available, also expected (more languages means a larger audience). Longer talks seem to have less translations (again expected, translators would preffer the shorter\/easier tasks). It's interesting that there are more comments for older talks, but less views: the audience has turned from engaging actively (commenting) to simply observing (viewing) over time.\n\nLets see how those correlations look like.","6c7f9f30":"There seem to be entries with dates after the stated end date of the dataset. We'll get them in line.","fdec122f":"Ideas: (possible target) \"Reaction ratio\" - the fraction of viewers that clicked a rating for the video\n\nTime dependence: In the beginning TED may have had stricter requirements for talks, meaning that the first talks may be by speakers of higher renown, drawing more views.\n \n Are rating numbers correlated with time since the start of TED? (Do the first videos provoke a stronger response in viewers?)\n \n How does the fraction of highly rated\/viewed videos vary for each year?\n \nTargets:\n\n Views - Why do people view a talk? If views of other talks by famous speakers are not uniform, then the title\/summary of the talk must have the biggest impact, provided that users are shown the talk at all. The latter is probably dependent on the tags of the talk, defining its target audience, so the impacts of the talk (rates\/comments) are based on the target audience. HOWEVER: In the beginning there were few talks, meaning that talks were much more accessible to everyone browsing the website. The problem is we do not know how the comment\/rate numbers changed with time.\n \n Does the number of related talks affect views? Count all related talks, then only the related talks coming after the talk in question that lead back to it.\n \n Comments - How does a talk provoke comments? Is it the same as rating? Should be a smaller fraction (only some users that rate will comment, but probably most that comment will rate), check this!","98886a42":"It seems that if we look at the days_online axis things will be clearer?"}}