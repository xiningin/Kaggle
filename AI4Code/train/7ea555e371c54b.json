{"cell_type":{"7c27944f":"code","0cfa7d09":"code","ed275a5d":"code","68f2da0d":"code","d10fc2a2":"code","bf762d5f":"code","c07355e4":"code","ad5b1eb3":"code","ce021f44":"code","58c983c9":"code","4c99381f":"code","c68088af":"code","db6c7e78":"code","15b0848e":"code","7a6ebdfd":"code","56002cf7":"code","c3c8d5fa":"code","f3656cf4":"code","8226bbc4":"code","2bcd13fd":"markdown","73b82616":"markdown","37b66fa6":"markdown","8267f763":"markdown","ec18a298":"markdown"},"source":{"7c27944f":"import os\nimport pandas as pd\nimport numpy as np\n\nfrom pylab import rcParams\nimport statsmodels.api as sm\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport seaborn as sns","0cfa7d09":"sns.set_theme(style=\"darkgrid\")","ed275a5d":"df = pd.read_csv(\"..\/input\/global-food-prices-dataset\/global_food_prices.csv\")","68f2da0d":"df.head()","d10fc2a2":"df.info()","bf762d5f":"df.describe()","c07355e4":"df.isnull().sum()","ad5b1eb3":"# Top 20 Countries with most records available\n\nfig, ax = plt.subplots(1, 1, figsize=(20, 15), sharex=True)\ntop_20_df = df[[\"adm0_id\", \"adm0_name\"]].groupby(\"adm0_name\").agg(['count'])[\"adm0_id\"]['count'].sort_values(ascending=False)[:20]\nfig = sns.barplot( x = top_20_df.index, y = top_20_df.values, ax = ax)\nfig.set_xticklabels(labels=top_20_df.index , rotation=90)\nfig.set_ylabel(\"Number of Records in the Dataset\")\nfig.set_xlabel(\"Country Name\")\nfig.set_title(\"Top 20 Countries by most data records\");","ce021f44":"# Top 10 most reported commodity\n\nfig, ax = plt.subplots(1, 1, figsize=(20, 15), sharex=True)\ntop_20_df = df[[\"adm0_id\", \"cm_name\"]].groupby(\"cm_name\").agg(['count'])[\"adm0_id\"]['count'].sort_values(ascending=False)[:20]\nfig = sns.barplot( x = top_20_df.index, y = top_20_df.values, ax=ax)\nfig.set_xticklabels(labels=top_20_df.index , rotation=90)\nfig.set_ylabel(\"Number of Commodities Reported\")\nfig.set_xlabel(\"Commodity Name\")\nfig.set_title(\"Top 20 Comomodities reported\");","58c983c9":"df[\"adm0_name\"].unique()","4c99381f":"df = df[df[\"adm0_name\"] == \"Sri Lanka\"]","c68088af":"# Create a Date Column\ndf[\"Date\"] = [  y+ \" \" +x for x,y in list(zip(df[\"mp_month\"].astype(str).values, df[\"mp_year\"].astype(str).values)) ]\ndf[\"Date\"] = pd.to_datetime(df[\"Date\"])","db6c7e78":"df.head()","15b0848e":"df = df.set_index(\"Date\")","7a6ebdfd":"plt.figure()\ndf.plot(subplots=True, figsize=(20,20))\nplt.xlabel(\"Date\");","56002cf7":"# Analyze the Monthly Change in mp_price\nusd_month = df.resample(\"M\").mean()\nfig, ax = plt.subplots(figsize=(10, 6))\nax.xaxis.set_major_formatter(mdates.DateFormatter('%Y-%m'))\nax.bar(df.index, df[\"mp_price\"], width=25, align='center')\nax.set_ylabel(\"LKR (Sri Lakan Rupees)\")\nax.set_xlabel('Date')\nax.set_title(\"Monthly Changes in Food Price\");","c3c8d5fa":"# Analyze the Seasonal Change of food price in last two years\n\ndf_last_two = df.loc['2019-01-01':'2021-01-01']\nfig, ax = plt.subplots(1, 1, figsize=(10, 16), sharex=True)\nsns.boxplot(data = df_last_two, x=df_last_two.index.month, y='mp_price', ax=ax)\nax.set_ylabel(\"LKR (Sri Lakan Rupees)\")\nax.set_title('Food Prices Seasonal Changes')\nax.set_xlabel('Month');","f3656cf4":"# Monthly and weekly sampling for last two years\ndf_month= df.loc['2019-01-01':'2021-01-01'].resample(\"M\").mean()\ndf_week = df.loc['2019-01-01':'2021-01-01'].resample(\"W\").mean()","8226bbc4":"# Comparing Average plots from 2019 to 2021of Food prices in Sri Lanka\n\nfig, ax = plt.subplots(figsize=(40, 15))\nax.plot(df_month[\"mp_price\"], marker='.', linestyle='-', linewidth = 0.5, label='Monthly', color='black')\nax.plot(df_week[\"mp_price\"], marker='o', markersize=8, linestyle='-', label='Weekly', color='coral')\nax.set_ylabel(\"Price in LKR (Sri Lakan Rupees)\")\nplt.tick_params(labelsize=20)\nax.legend(prop={\"size\":20});","2bcd13fd":"### Data Visualization of Whole Dataset","73b82616":"### Load Data","37b66fa6":"### Import Libraries","8267f763":"### EDA","ec18a298":"### Data Visualization of Sri Lanka Only"}}