{"cell_type":{"a3639ea7":"code","9a49b99f":"code","de6fa84a":"code","caa65708":"code","4251220b":"code","be842ee2":"code","e3fc8b18":"code","94a3f721":"code","9473bb72":"code","0a929f22":"code","58a4415c":"code","f278ac99":"code","ab4e49f4":"code","d58048d5":"code","74ffc50e":"code","1e975391":"code","050511b8":"code","8d3ffae7":"code","6ebbce9c":"code","d8514063":"code","30eb8dbe":"code","cd2a072e":"code","94782654":"code","d2f6e61a":"code","931bcd4c":"code","f6042419":"code","f6fd5359":"code","fa829407":"code","a3d411b7":"code","8cfa6763":"code","4a23fdb3":"code","6751a5de":"code","fecba226":"code","03c50114":"code","63eb2c56":"code","fab07cf5":"code","4fe2d713":"code","462c9381":"code","ab13e05f":"code","e9931955":"code","43390db2":"code","3833ede7":"markdown","b8a7c06c":"markdown","9529624c":"markdown","5bc0922c":"markdown","3e407372":"markdown","aaf7a410":"markdown","361c2fb4":"markdown","bed8d779":"markdown","3411b680":"markdown","1ff656c9":"markdown","ae529b8a":"markdown","63147cd5":"markdown","079e053c":"markdown","fc9f2fa2":"markdown","54ec9639":"markdown","4762eedc":"markdown","5202b412":"markdown","447bf522":"markdown","141f8790":"markdown","8760fe30":"markdown","56252b82":"markdown","c22ff217":"markdown","18bc2a47":"markdown","ed279566":"markdown"},"source":{"a3639ea7":"imdaset = pd.read_csv(\"..\/input\/imdbcsv\/IMDB.csv\", header=0)","9a49b99f":"imdaset.shape","de6fa84a":"imdaset.info()","caa65708":"mfin.iloc[9:15, :]","4251220b":"imdaset.iloc[9:15,:].append(imdaset.iloc[399,:]).append(imdaset.iloc[449:900,:])","be842ee2":"imdaset.loc[:, ['budget','rating']]","e3fc8b18":"imdaset.loc[imdaset['rating']>8, :]","94a3f721":"imdaset.loc[(imdaset['rating']<8) & (imdaset['rating']>5), :]","9473bb72":"mfin.loc[(mfin['Release Year']>=2008) & (mfin['Month']=='Dec'), :]","0a929f22":"import pandas as pd","58a4415c":"%matplotlib inline","f278ac99":"mfin = pd.read_csv(\"..\/input\/moviefinance\/MovieFinances.csv\", header=0)","ab4e49f4":"mfin.head(5)","d58048d5":"mfin.tail(10)","74ffc50e":"mfin.shape","1e975391":"mfin.columns","050511b8":"mfin.info()","8d3ffae7":"import pandas_profiling as pdf\nprofile = pdf.ProfileReport(mfin, title='Movie Finance')","6ebbce9c":"profile.to_widgets()","d8514063":"mfin.iloc[1,5]","30eb8dbe":"mfin.iloc[2:5, 1:4]","cd2a072e":"mfin.iloc[[0,2], [1,4]]","94782654":"mfin.iloc[:, 3]","d2f6e61a":"mfin.loc[:, 'Release Year']","931bcd4c":"mfin.loc[0:8, ['Movie','Release Year']]","f6042419":"mfin.iloc[9:15, :]","f6fd5359":"imdaset.iloc[9:15,:].append(imdaset.iloc[399,:]).append(imdaset.iloc[449:900,:])\n","fa829407":"imdaset.iloc[9:15,:]","a3d411b7":"imdaset.iloc[399, :]","8cfa6763":"imdaset.iloc[449:900, :]","4a23fdb3":"imdaset.loc[0:5, ['title','year','length','votes']]","6751a5de":"imdaset.loc[:, ['budget','rating']]","fecba226":"mfin['Release Year']==2015","03c50114":"mfin.loc[mfin['Release Year']==2015, :]","63eb2c56":"mfin.loc[mfin['Budget($M)']>200, :]","fab07cf5":"mfin.loc[mfin['Budget($M)']>200, :].info()","4fe2d713":"mfin.loc[mfin['Release Year']>=2008, :]","462c9381":"mfin.loc[mfin['Month']=='Dec', :]","ab13e05f":"mfin.loc[(mfin['Release Year']>=2008) & (mfin['Month']=='Dec'), :]","e9931955":"imdaset.loc[imdaset['rating']>8, :]","43390db2":"imdaset.loc[(imdaset['rating']<8) & (imdaset['rating']>5), :]","3833ede7":"## Getting Meta-Data\n\nWe can start inspecting our dataset by gathering some of the *meta-data* such as the number of observations (number of rows) and number of variables (number of columns). \n\nThe dataframe function *shape* returns the size of the data in the form of rows $\\times$ columns. ","b8a7c06c":"Note that each of these command will provide a sub-dataframe. So we can get the meta-data of these subset by using all the functions we have introduced so far. For example","9529624c":"You can also use the *info* function to get all the information above. ","5bc0922c":"## Slicing\n\nOften we would like to access part (subset) of the data only. To do this, we first consider the concept of *slicing*. The idea is that each entry in dataframe has a coordinate, denoted by its row and column numbers. So we can access each entry by providing its row and column numbers using the *iloc* function, which stands for *index location*. For example, to assess the entry on the *second* row and *sixth* column we can use ","3e407372":"The function above import the data from the file into the variable *mfin*, which is a **dataframe**. The *header=0* option informed pandas that the first row contains column names. \n\n**Note** Python is 0-index. This means index starts from 0 rather than 1. \n\nOne way to inspect if the data has been import correctly is to use the *head* and *tail* functions. *head(n)* lists the first $n$ rows of data whereas *tail(n)* shows the last $n$ rows. These functions are associated with the dataframe, so to use it we write\n\n*mfin.head(5)*\n\nto show the first 5 rows of data. ","aaf7a410":"# Exercises for 02 Intro to Pandas\n\n## Metadata\n1. How many movies and variables are there in the IMDB dataset? (58786 rows, 25 columns)\n2. Identify the variable type for each column.","361c2fb4":"**Exercise:** See if you can obtain similar meta-data for *IMDB.csv*. \n\n1. How many movies and variables are there in the IMDB dataset?\n2. Identify the variable type for each column. \n\nTo get more basic info about the dataframe, one can utilise the module [*pandas_profiling*](https:\/\/pandas-profiling.github.io\/pandas-profiling\/docs\/master\/rtd\/)","bed8d779":"Similarly, we can also slice using column names","3411b680":"**Exercise** \n\n1. Extract rows 10-15 for all the variables in FinanceMovices.csv\n2. Extract rows 10-15, 400 and 450-900 for all the variables in IMDB.csv. \n3. Extract the *ratings* and *budget* variables. Do you think budget and rating are related? ","1ff656c9":"If we want to select all rows or columns, we can use the $:$ notation. Example below extract all the data for the variable \"Released Year\".","ae529b8a":"In this case we give pandas a name, *pd*. We can access any function within the pandas module by using the convention *pd.function_name*. For example, *pd.DataFrame*, represents the function *DataFrame* defined within the matplotlib module. The name you give pandas is arbitrary. For example, \n\nimport pandas as pand \n\nmean *pand.DataFrame* will provide the same functionality as *pd.DataFrame*. \n\nIn order for Jupyter notebook to show the plots, we need to invoke a [jupyter magic](https:\/\/ipython.readthedocs.io\/en\/stable\/interactive\/magics.html), which is a set of jupyter commands that makes life easier. The one we need is ","63147cd5":"## Importing Data\n\nPandas provides a range of functions to import data depending of the file format. In this example, we would like to import data from a *common separated value* (csv) file called *MovieFinances.csv*. ","079e053c":"*shape* returns a Python [*tuple*](https:\/\/docs.python.org\/3\/tutorial\/datastructures.html#tuples-and-sequences) with the first number indicates the number of rows and the second number indicates the number columns in the dataframe *mfin*. In this case, *mfin* has 5222 rows (observations) and 7 columns (variables).\n\nWe can also get the list of column names by using the function *columns*","fc9f2fa2":"**IMPORTANT NOTE:** Unlike other languages, the range $2:5$ is right open. Mathematically, it covers all the integers from 2 to 5 but not including 5 i.e $2:5 = [2,5)$. Similarly $1:3 = [1,3)$ where the $[,]$  indicate the inclusion of the left and right bounds, respectively while $(,)$ indicate exclusion of the left and right bounds, respectively. \n\nIt is also possible slice by individual indexes. For example, if we want first and third rows as well as second and fifth columns, we can write","54ec9639":"## Slicing, conditional slicing 1 \n\n1. Extract rows 10-15 for all the variables in FinanceMovices.csv \n2. Extract rows 10-15, 400 and 450-900 for all the variables in IMDB.csv. \n3. Extract the *ratings* and *budget* variables. Do you think budget and rating are related?\n\n_(unsure if my row numbers are correct in the code, still working out the zero logic)_","4762eedc":"## Slicing, conditional slicing 2\n\n1. In the IMDB data, extract movies that have rating higher than 8. \n2. Can you extract movies that have rating lower than 8 but higher than 5? \n3. Extract movies that were released in December since 2008. _(note: i used the moviesfinances.csv file instead of imdb.csv as I couldn't find the month variable in the latter csv file.)_","5202b412":"**Note:** Recall Python is 0-index i.e. it counts from 0 rather than 1. \n\nWe can also obtain multiple rows and columns at the same time. For example, if we want data from the third to fifth rows and second to fourth columns we can use","447bf522":"In this case, we are telling Pandas that we only want rows that correspond to the case when *Release Year* is equal to 2015. \n\nAnother example may be to consider Movie only has a Budget great than \\$200M. In this case, we can write ","141f8790":"Similarly, *mfin.tail(3)* shows the last 3 rows of data. ","8760fe30":"# Pandas\n\n## Introduction \n\nThis notebook introduces one of the most popular modules for data analysis called [Pandas][pandas]. Pandas extends the functionality of [numpy][numpy] which provides the foundation to manipulate multi-dimensional arrays. [Pandas][pandas] utilizes this foundation for data handling, manipulation and analysis. \n\nIt also utilizes [matplotlib][matplotlib] for creating various data visualizations, including standard plots such as box plot, histogram, line plot and scatter plot. \n\n\n[numpy]: http:\/\/numpy.org \n[pandas]: http:\/\/pandas.pydata.org\n[matplotlib]:https:\/\/matplotlib.org\n\n## Importing Pandas\n\nTo import the module we can ","56252b82":"**Exercise**\n\n1. In the IMDB data, extract movies that have rating higher than 8. \n2. Can you extract movies that have rating lower than 8 but higher than 5? \n3. Extract movies that were released in December since 2008. ","c22ff217":"## Conditional Slicing\n\nOne of th most powerful features of Pandas as well as other tools such as R and Julia, is the ability to slice based on conditional statement. For example, if we just want to examine all the movies released in 2015 only, we can write ","18bc2a47":"To show the profile in the notebook","ed279566":"It is also possible to extract columns based on column names using the *loc* function. For example, we can achieve the example above by"}}