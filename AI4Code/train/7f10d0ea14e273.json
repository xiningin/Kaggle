{"cell_type":{"64088507":"code","23704553":"code","07477439":"code","abd57573":"code","5f596583":"code","fbc91d4f":"code","5dbb2b6b":"code","25b7b244":"code","8759afc1":"code","050de8e0":"markdown","5d266cbc":"markdown"},"source":{"64088507":"import pandas as pd \nimport matplotlib.pyplot as plt\nfrom statsmodels.tsa.arima.model import ARIMA\n\ndf = pd.read_csv('..\/input\/us-police-shootings\/shootings.csv')\ndf.head()","23704553":"# convert to time series \n\ndf['date'] = pd.to_datetime(df['date'])\n\ndf_ts = df.set_index('date').resample('w')['manner_of_death'].count()","07477439":"with plt.style.context('fivethirtyeight'):\n    df_ts.plot(figsize = (12, 8))\n    plt.ylabel('# of Shootings')\n    plt.title('Number of Shootings per Week')","abd57573":"len(df_ts)","5f596583":"# split into train and test\ntrain, test = df_ts[:200], df_ts[200:]\n\n# make and fit model\nmodel = ARIMA(train, order=(1,1,1))\nmodel_fit = model.fit()\n\n# get forecast\nresult = model_fit.get_forecast(len(test))","fbc91d4f":"# look at the confidence interval \nresult.conf_int()","5dbb2b6b":"# calculate the upper confidence interval for 2018-11-04\nresult.predicted_mean['2018-11-04'] + (1.96 * result.se_mean['2018-11-04'])","25b7b244":"# calculate the lower confidence interval for 2018-1104\nresult.predicted_mean['2018-11-04'] - (1.96 * result.se_mean['2018-11-04'])","8759afc1":"result.conf_int().loc['2018-11-04']","050de8e0":"In this notebook I show how to calculate the confidence interval in an ARIMA model","5d266cbc":"We see that these 2 values are really close to the confidence interval that the ARIMA model produces (within 3 decimal places)"}}