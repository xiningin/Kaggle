{"cell_type":{"c781fbec":"code","7e390b74":"code","c29d7314":"code","973f5a0d":"code","887f551d":"code","5a5649e5":"code","a46773a9":"code","7ec8c31c":"code","2fef1995":"code","3096b51c":"code","ef0841d2":"code","d976eb0f":"code","7a41375c":"code","59bde739":"code","9491da03":"code","99e567b5":"code","47cb1a10":"code","9f27cf56":"code","7a0a0600":"code","df9ec274":"code","03e2545e":"code","2dadf20d":"code","244867c5":"code","59cbdfd0":"code","d82ffe2e":"code","d2c4a5ad":"code","c9102a49":"code","7f118f43":"code","bcf3c7f9":"code","565d895c":"code","4649cc83":"code","000f59c7":"code","93f3ddc6":"code","9af14f7f":"code","c79c26ea":"code","b3b47547":"code","24f63d47":"code","11773c46":"code","cb13db8b":"code","01b1dcc3":"code","fb924fbc":"code","254f5060":"code","4a0a7e66":"code","144ad355":"code","1ec2c07f":"code","2fe93815":"code","36b97530":"code","40bbfb7f":"markdown","1ea4e17b":"markdown","99b69452":"markdown","5745b9f6":"markdown","b016a559":"markdown","2c062059":"markdown","f1d362f2":"markdown","f303f40e":"markdown","7f7d2ad8":"markdown","108a0e60":"markdown","d6b2604f":"markdown","243cc586":"markdown","07b35013":"markdown","b2e99b70":"markdown","b42052b5":"markdown","a779c13f":"markdown","96d31047":"markdown","6b194914":"markdown","08b86a7e":"markdown","d382ddd9":"markdown","fd182165":"markdown","f514fc7b":"markdown","cfb7d328":"markdown","a1299a7e":"markdown","aa370951":"markdown","1b117cea":"markdown","fbc34f5d":"markdown","6c3ea6a4":"markdown","eaafccb8":"markdown","7cd12796":"markdown","e9b88c63":"markdown","fe7b3318":"markdown","993e6759":"markdown","d985d636":"markdown","48526abd":"markdown","1bc1deb2":"markdown","9ef4b655":"markdown","f4283dcf":"markdown","2f704d3f":"markdown","01260825":"markdown","47911c63":"markdown","8ecbdb70":"markdown","7bf2165e":"markdown","31aa1d79":"markdown","5c92d610":"markdown","5014729e":"markdown","2a14c7cc":"markdown","a2b9f48e":"markdown","53e0b36e":"markdown","b704fa3a":"markdown","9dbccb2f":"markdown","fb649ea5":"markdown","c82ddb18":"markdown","da968b3d":"markdown","e9ab965a":"markdown","e0494ee8":"markdown"},"source":{"c781fbec":"! pip install seaborn==0.11.0","7e390b74":"import numpy as np \n\nimport pandas as pd \npd.set_option('display.max_columns', None)\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.set_style(style=\"darkgrid\")\nsns.set_palette(palette=sns.color_palette(\"ch:.25\",15))\n# color palette for seaborn\ncmap = sns.diverging_palette(220, 10, as_cmap=True)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nimport warnings\nwarnings.simplefilter(action='ignore')","c29d7314":"data = pd.read_csv('\/kaggle\/input\/kaggle-survey-2020\/kaggle_survey_2020_responses.csv')\n# drop first row\nquestions = data.iloc[0, :].T\ndata = data.iloc[1:, :]\n\ndata.head()","973f5a0d":"fig, ax = plt.subplots(3, 2, figsize=(25,25))\n\n# Gender\nQ2_count = data.Q2.value_counts().sort_values(ascending=False).to_frame()\nQ2_count = Q2_count.rename(columns={'Q2': 'count'})\nax[0,0] = sns.barplot(x=Q2_count.index, y='count', data=Q2_count,  palette=\"ch:.25\", ax=ax[0,0])\nfor p in ax[0,0].patches:\n    ax[0,0].annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax[0,0] = ax[0,0].set_title('Gender count')\n\n\n# Age\nQ1_count = data.Q1.value_counts().sort_values(ascending=False).to_frame()\nQ1_count = Q1_count.rename(columns={'Q1': 'count'})\nax[0,1] = sns.barplot(x=Q1_count.index, y='count', data=Q1_count,  palette=\"ch:.25\", ax=ax[0,1])\nfor p in ax[0,1].patches:\n    ax[0,1].annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax[0,1] = ax[0,1].set_title('Age count')\n\n# Country\nQ3_count = data.Q3.value_counts().sort_values(ascending=False).to_frame()[:5]\nQ3_count = Q3_count.rename(columns={'Q3': 'count'})\nax[1,0] = sns.barplot(x=Q3_count.index, y='count', data=Q3_count,  palette=\"ch:.25\", ax=ax[1,0])\nfor p in ax[1,0].patches:\n    ax[1,0].annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax[1,0] = ax[1,0].set_title('Top-5 country count')\n\n# Degree\nQ4_count = data.Q4.value_counts().sort_values(ascending=False).to_frame()\nQ4_count = Q4_count.rename(columns={'Q4': 'count'})\nax[2,1] = sns.barplot(x=Q4_count.index, y='count', data=Q4_count,  palette=\"ch:.25\", ax=ax[2,1])\nfor p in ax[2,1].patches:\n    ax[2,1].annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax[2,1].set_xticklabels(ax[2,1].get_xticklabels(), rotation=90)\nax[2,1] = ax[2,1].set_title('Degree count')\n\n# Current work\nQ5_count = data.Q5.value_counts().sort_values(ascending=False).to_frame()\nQ5_count = Q5_count.rename(columns={'Q5': 'count'})\nax[2,0] = sns.barplot(x=Q5_count.index, y='count', data=Q5_count,  palette=\"ch:.25\", ax=ax[2,0])\nfor p in ax[2,0].patches:\n    ax[2,0].annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax[2,0].set_xticklabels(ax[2,0].get_xticklabels(), rotation=90)\nax[2,0] = ax[2,0].set_title('Current work count')\n\n# Codding\nQ6_count = data.Q6.value_counts().sort_values(ascending=False).to_frame()\nQ6_count = Q6_count.rename(columns={'Q6': 'count'})\nax[1,1] = sns.barplot(x=Q6_count.index, y='count', data=Q6_count,  palette=\"ch:.25\", ax=ax[1,1])\nfor p in ax[1,1].patches:\n    ax[1,1].annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax[1,1] = ax[1,1].set_title('Codding years count')","887f551d":"q4_degree_man = data.Q4.loc[data.Q2 == 'Man'].value_counts().to_frame()\nq4_degree_woman = data.Q4.loc[data.Q2 == 'Woman'].value_counts().to_frame()\n\nQ4_count = data.Q4.loc[(data.Q2 == 'Man') | (data.Q2 == 'Woman')].value_counts().sort_values(ascending=False).to_frame()\n\nQ4_count = Q4_count.rename(columns={'Q4': 'count'})\nQ4_count = Q4_count.drop(['Some college\/university study without earning a bachelor\u2019s degree', \n                          'I prefer not to answer', 'No formal education past high school'], axis=0)","5a5649e5":"cmap = sns.diverging_palette(250, 15, 30, as_cmap=True)\n\nf, (ax_bar, ax_heatmap) = plt.subplots(2, sharex=True, gridspec_kw= {\"height_ratios\": (5, 10)},  figsize=(10,10))\nax_bar = sns.barplot(x=Q4_count.index, y='count', data=Q4_count,  palette=sns.diverging_palette(15, 250, 30), ax=ax_bar)\nax_bar.set_xticklabels('')\ndef change_width(ax, new_value) :\n    for patch in ax.patches :\n        current_width = patch.get_width()\n        diff = current_width + new_value\n        patch.set_width(new_value)\n        patch.set_x(patch.get_x() + diff * .2)\nchange_width(ax_bar, 1)\nfor p in ax_bar.patches:\n    ax_bar.annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax_bar.set(title='Count for degrees and percents of gender for degree \\n')\n\n# heatmap\npercents_women = [(q4_degree_woman.Q4[0]\/q4_degree_woman.sum()*100)[0], (q4_degree_woman.Q4[1]\/q4_degree_woman.sum()*100)[0],\n                 (q4_degree_woman.Q4[2]\/q4_degree_woman.sum()*100)[0], (q4_degree_woman.Q4[4]\/q4_degree_woman.sum()*100)[0]]\npercents_men = [(q4_degree_man.Q4[0]\/q4_degree_man.sum()*100)[0], (q4_degree_man.Q4[1]\/q4_degree_man.sum()*100)[0],\n               (q4_degree_man.Q4[2]\/q4_degree_man.sum()*100)[0], (q4_degree_man.Q4[4]\/q4_degree_man.sum()*100)[0]]\nindex_name = [\"Master's degree\", \"Bachelor's degree\", \"Doctoral degree\", \"Professional degree\"]\npercents_degrees = pd.DataFrame({'men': percents_men, 'women': percents_women, 'degree': index_name})\npercents_degrees = percents_degrees.set_index('degree')\n\nax_heatmap = sns.heatmap(percents_degrees.T, cmap=cmap, annot=True, linewidths=1.2, cbar=False, ax=ax_heatmap)\n","a46773a9":"q1_age_ms = data.Q1.loc[data.Q4 == 'Master\u2019s degree'].value_counts().to_frame()\nq1_age_not = data.Q1.loc[data.Q4 != 'Master\u2019s degree'].value_counts().to_frame()\n\nplot_frame = pd.DataFrame({'Master\u2019s degree': q1_age_ms.Q1, 'Other': q1_age_not.Q1})\nplot_frame.index.name = 'answers'\nplot_frame.reset_index(inplace=True)\nplot_frame = pd.melt(plot_frame, id_vars='answers', var_name=\"Master\u2019s degree\", value_name=\"Other\")\nsns.factorplot(x='Master\u2019s degree', y='Other', hue='answers', data=plot_frame, kind='bar',  palette=\"ch:.25\").set(ylabel='count', xlabel='', title='Age for masters\/other')","7ec8c31c":"hist_data = data.copy()\nhist_data.Q4.loc[hist_data.Q4 != 'Master\u2019s degree'] = 'Other'\nfig, ax = plt.subplots(figsize=(10,5))\nsns.histplot(hist_data, x=\"Q1\", kde=True, hue='Q4', palette=\"ch:.25\")\nax.set(title='Age for masters and other', xlabel='')","2fef1995":"from sklearn import preprocessing\n\n\nle_o = preprocessing.LabelEncoder().fit(data.Q1.loc[data.Q4 != 'Master\u2019s degree'])\nothers = le_o.transform(data.Q1.loc[data.Q4 != 'Master\u2019s degree'])\n\nle_m = preprocessing.LabelEncoder().fit(data.Q1.loc[data.Q4 == 'Master\u2019s degree'])\nmasters = le_m.transform(data.Q1.loc[data.Q4 == 'Master\u2019s degree'])","3096b51c":"print('Variance for \"other\": ', np.var(others))\nprint('Variance for \"masters\": ', np.var(masters))","ef0841d2":"from scipy.stats import mannwhitneyu\nstat, p = mannwhitneyu(others, masters)\nprint('p-value is: ', p)","d976eb0f":"q5_work_ms = data.Q5.loc[data.Q4 == 'Master\u2019s degree'].value_counts().to_frame()\nq5_work_not = data.Q5.loc[data.Q4 != 'Master\u2019s degree'].value_counts().to_frame()\n\nplot_frame = pd.DataFrame({'Master\u2019s degree': q5_work_ms.Q5, 'Other': q5_work_not.Q5})\n\nplot_frame.index.name = 'answers'\nplot_frame.reset_index(inplace=True)\nplot_frame = pd.melt(plot_frame, id_vars='answers', var_name=\"Master\u2019s degree\", value_name=\"Other\")\nsns.factorplot(x='Master\u2019s degree', y='Other', hue='answers', data=plot_frame, kind='bar',  palette=\"ch:.25\").set(ylabel='count', xlabel='', title='Current work for masters\/other')","7a41375c":"le_o = preprocessing.LabelEncoder().fit(data.Q5.loc[data.Q4 != 'Master\u2019s degree'].dropna())\nothers = le_o.transform(data.Q5.loc[data.Q4 != 'Master\u2019s degree'].dropna())\n\nle_m = preprocessing.LabelEncoder().fit(data.Q5.loc[data.Q4 == 'Master\u2019s degree'].dropna())\nmasters = le_m.transform(data.Q5.loc[data.Q4 == 'Master\u2019s degree'].dropna())","59bde739":"stat, p = mannwhitneyu(others, masters)\nprint('p-value is: ', p)","9491da03":"from scipy.stats import spearmanr\nfrom sklearn import preprocessing\n\nhist_data = hist_data.loc[hist_data.Q4 == 'Master\u2019s degree']\nhist_data[['Q1','Q5']] = hist_data[['Q1','Q5']].fillna('No answer')\n\nle_1 = preprocessing.LabelEncoder().fit(hist_data['Q1'])\nhist_data['Q1'] = le_1.transform(hist_data['Q1'])\n\n\nhist_data.Q5 = hist_data.Q5.fillna('No answer')\nle_5 = preprocessing.LabelEncoder().fit(hist_data['Q5'])\nhist_data['Q5'] = le_5.transform(hist_data['Q5'])\n\n\ncorr, p  = spearmanr(hist_data.Q1, hist_data.Q5)\nprint('p-value is ', p)\nprint('corr is ', corr)","99e567b5":"q6_codding_ms = data.Q6.loc[data.Q4 == 'Master\u2019s degree'].value_counts().to_frame()\nq6_codding_not = data.Q6.loc[data.Q4 != 'Master\u2019s degree'].value_counts().to_frame()\n\nplot_frame = pd.DataFrame({'Master\u2019s degree': q6_codding_ms.Q6, 'Other': q6_codding_not.Q6})\n\nplot_frame.index.name = 'answers'\nplot_frame.reset_index(inplace=True)\nplot_frame = pd.melt(plot_frame, id_vars='answers', var_name=\"Master\u2019s degree\", value_name=\"Other\")\nsns.factorplot(x='Master\u2019s degree', y='Other', hue='answers', data=plot_frame, kind='bar',  palette=\"ch:.25\").set(ylabel='count', xlabel='', title='Codding years for masters\/other')","47cb1a10":"hist_data = data.loc[data.Q4 == 'Master\u2019s degree'].copy()\nhist_data[['Q6','Q5']] = hist_data[['Q6','Q5']].fillna('No answer')\n\nle_1 = preprocessing.LabelEncoder().fit(hist_data['Q6'])\nhist_data['Q6'] = le_1.transform(hist_data['Q6'])\n\n\nhist_data.Q5 = hist_data.Q5.fillna('No answer')\nle_5 = preprocessing.LabelEncoder().fit(hist_data['Q5'])\nhist_data['Q5'] = le_5.transform(hist_data['Q5'])\n\n\ncorr, p  = spearmanr(hist_data.Q5, hist_data.Q6)\nprint('p-value is ', p)\nprint('corr is ', corr)","9f27cf56":"heatmap_data = data.loc[data.Q4 == 'Master\u2019s degree'].copy()","7a0a0600":"df_q5q6 = []\nfor year in heatmap_data.Q6.value_counts().index.to_list():\n    df_q5q6.append(heatmap_data.Q5.loc[heatmap_data.Q6 == str(year)].value_counts().to_frame().rename(columns={'Q5':str(year)}))\nres_q5q6 = pd.concat(df_q5q6, axis=1)","df9ec274":"f, (ax_bar, ax_heatmap) = plt.subplots(2, sharex=True, gridspec_kw= {\"height_ratios\": (5, 10)},  figsize=(10,10))\nx_bar = res_q5q6.sum(axis=1).sort_values(ascending=False)\nax_bar = sns.barplot(x=x_bar.index, y=res_q5q6.sum(axis=1), data=res_q5q6,  palette=sns.diverging_palette(15, 250, 50), ax=ax_bar)\nax_bar.set_xticklabels('')\ndef change_width(ax, new_value) :\n    for patch in ax.patches :\n        current_width = patch.get_width()\n        diff = current_width + new_value\n        patch.set_width(new_value)\n        patch.set_x(patch.get_x() + diff * .2)\nchange_width(ax_bar, 1)\nfor p in ax_bar.patches:\n    ax_bar.annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax_bar.set(title='Masters at all and current work for masters in eanch years of coding group \\n')\n\n# heatmap\nax_heatmap = sns.heatmap(res_q5q6.T, cmap=cmap, linewidths=1.2, cbar=False, annot=True, fmt='g', ax=ax_heatmap)","03e2545e":"import plotly.express as px\n\ndata_jobs = ['Statistican', 'Data Engineer', 'Research Scientist', 'Data Analyst', 'Data Scientist', 'Machine Learning Engineer']\nage_group = ['30-34', '25-29', '22-24', '35-39', '18-21']\ncodding_years = ['5-10 years', '<1 years', '1-2 years', '3-5 years', '10-20 years']\nfig = px.parallel_categories(data.loc[data.Q5.isin(data_jobs) & data.Q1.isin(age_group) & data.Q6.isin(codding_years)], dimensions=['Q5', 'Q1', 'Q6'],\n                \n                labels={'Q5':'Job title', 'Q1':'Age group', 'Q6':'Years of coding'})\nfig.show()\n","2dadf20d":"data_ds = data.Q4.loc[data.Q5 == 'Data Scientist']\n\nfig, ax = plt.subplots(figsize=(15,5))\n\nax_bar = sns.barplot(x=data_ds.value_counts().index, y=data_ds.value_counts(), data=data_ds,  palette=sns.diverging_palette(15, 250, 50))\nax.set_xticklabels(ax.get_xticklabels(), rotation=100)\nax = ax.set_title('Degree count for DS')","244867c5":"hist_data = data.copy()\nhist_data[['Q6','Q5']] = hist_data[['Q6','Q5']].fillna('No answer')\n\nle_1 = preprocessing.LabelEncoder().fit(hist_data['Q6'])\nhist_data['Q6'] = le_1.transform(hist_data['Q6'])\n\n\nhist_data.Q5 = hist_data.Q5.fillna('No answer')\nle_5 = preprocessing.LabelEncoder().fit(hist_data['Q5'])\nhist_data['Q5'] = le_5.transform(hist_data['Q5'])\n\n\ncorr, p  = spearmanr(hist_data.Q5, hist_data.Q6)\nprint('p-value is ', p)\nprint('corr is ', corr)","59cbdfd0":"q7_columns = [data.Q7_Part_1,data.Q7_Part_2,data.Q7_Part_3,data.Q7_Part_4,\n             data.Q7_Part_5,data.Q7_Part_6,data.Q7_Part_7,data.Q7_Part_8,\n             data.Q7_Part_9, data.Q7_Part_10, data.Q7_Part_11, data.Q7_Part_12,\n             data.Q7_OTHER]\nQ7_data = pd.concat(q7_columns)","d82ffe2e":"Q7_count = Q7_data.value_counts().sort_values(ascending=False).to_frame()\nplt.figure(figsize=(15,5))\nax = sns.barplot(x=Q7_count.index, y=Q7_count.iloc[:,0], data=Q7_count,  palette=\"ch:.25\")\nfor p in ax.patches:\n    ax.annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   xytext = (0, 9), \n                   textcoords = 'offset points')\nax = ax.set_title('Programming languages')","d2c4a5ad":"q7_names = ['Q7_Part_1','Q7_Part_2','Q7_Part_3','Q7_Part_4','Q7_Part_5','Q7_Part_6','Q7_Part_7','Q7_Part_8','Q7_Part_9','Q7_Part_10',\n            'Q7_Part_11', 'Q7_Part_12','Q7_OTHER']","c9102a49":"def create_column(df):\n    df = df.dropna(how='all')\n    df['Q7'] = None\n    df = df.fillna(0)\n    for q7_col in q7_names:\n        df['Q7'] += df[q7_col]\n    return df\n\ndef get_row(df, degree):\n    degree = str(degree)\n    df = df.Q7.T.to_frame()\n    df = df.rename(columns={'Q7': degree})\n    return df\n\ndef create_df_Q7(df, degree):\n    degree = str(degree)\n    df = df.loc[df.Q4 == degree]\n    df = df[q7_names].apply(pd.Series.value_counts)\n    df = create_column(df)\n    df = get_row(df, degree)\n    return df","7f118f43":"result_degree = []\nfor degree in data.Q4.value_counts().index.to_list():\n    result_degree.append(create_df_Q7(data, degree).T)\n\ndf_degree = pd.concat(result_degree)\nresult_q7 = df_degree.drop('None', axis=1)\n","bcf3c7f9":"(result_q7.T\n .style\n .highlight_max(color='indianred')\n .highlight_min(color='lightpink')\n)","565d895c":"def create_df_Q6(df, years):\n    years = str(years)\n    df = df.loc[(df.Q4 == 'Master\u2019s degree') & (df.Q6 == years)]\n    df = df[q7_names].apply(pd.Series.value_counts)\n    df = create_column(df)\n    df = get_row(df, years)\n    return df","4649cc83":"result_years = []\nfor year in data.Q6.value_counts().index.to_list():\n    result_years.append(create_df_Q6(data, year).T)\n\ndf_years = pd.concat(result_years)\ndf_years = df_years.drop('None', axis=1)\ndf_years = df_years.drop('I have never written code', axis=0)","000f59c7":"sns.set_palette(palette=sns.color_palette(\"cubehelix\",15))","93f3ddc6":"df_years.T.transpose().apply(lambda x: x*100\/sum(x), axis=1).sort_values(by='Python').plot(kind=\"bar\", stacked=True, figsize=(18,8)).legend(bbox_to_anchor=(1.1, 0.7))\nplt.title(\"Programming languages\/Years of coding\")\nplt.xlabel(\"Coding years\")\nplt.ylabel(\"Programming languages (%)\")","9af14f7f":"def create_df_Q4(df,job_title):\n    job_title = str(job_title)\n    df = df.loc[(df.Q4 == 'Master\u2019s degree') & (df.Q5 == job_title)]\n    df = df[q7_names].apply(pd.Series.value_counts)\n    df = create_column(df)\n    df = get_row(df, job_title)\n    return df\n\nresult_jobs = []\nfor job in data.Q5.value_counts().index.to_list():\n    result_jobs.append(create_df_Q4(data, job).T)\n\ndf_jobs = pd.concat(result_jobs)\ndf_jobs = df_jobs.drop('None', axis=1)\ndf_jobs = df_jobs.fillna(0)","c79c26ea":"(df_jobs.T\n .style\n .highlight_max(color='indianred')\n .highlight_min(color='lightpink')\n)","b3b47547":"df_jobs.T.transpose().apply(lambda x: x*100\/sum(x), axis=1).sort_values(by='Python').plot(kind=\"bar\", stacked=True, figsize=(18,8)).legend(bbox_to_anchor=(1.1, 0.7))\nplt.title(\"Programming languages\/Current job\")\nplt.xlabel(\"Job\")\nplt.ylabel(\"Programming languages (%)\")","24f63d47":"# only masters\ndf_methods_masters = data.loc[data.Q4 == 'Master\u2019s degree']\n\n# other\ndf_methods_other = data.loc[data.Q4 != 'Master\u2019s degree']\n\n\nq17_columns = ['Q17_Part_1',\t'Q17_Part_2',\t'Q17_Part_3',\t\n               'Q17_Part_4',\t'Q17_Part_5',\t'Q17_Part_6',\t\n               'Q17_Part_7',\t'Q17_Part_8',\t'Q17_Part_9',\t\n               'Q17_Part_10',\t'Q17_Part_11',\t'Q17_OTHER']\nq18_columns = ['Q18_Part_1',\t'Q18_Part_2',\t'Q18_Part_3',\n               'Q18_Part_4',\t'Q18_Part_5'\t'Q18_Part_6',\t\n               'Q18_OTHER']\nq19_columns = ['Q19_Part_1',\t'Q19_Part_2',\t'Q19_Part_3',\n               'Q19_Part_4',\t'Q19_Part_5',\t'Q19_OTHER']","11773c46":"def create_column(df):\n    df = df.dropna(how='all')\n    df['Q17'] = None\n    df = df.fillna(0)\n    for q17_col in q17_columns:\n        df['Q17'] += df[q17_col]\n    return df\n\ndef get_row(df, method):\n    method = str(method)\n    df = df.Q17.T.to_frame()\n    df = df.rename(columns={'Q17': method})\n    return df\n\ndef create_df_Q17(df, degree):\n    degree = str(degree)\n    df = df.loc[df.Q4 == degree]\n    df = df[q17_columns].apply(pd.Series.value_counts)\n    df = create_column(df)\n    df = get_row(df, degree)\n    return df","cb13db8b":"result_degree = []\nfor degree in data.Q4.value_counts().index.to_list():\n    result_degree.append(create_df_Q17(data, degree).T)\n\ndf_degree = pd.concat(result_degree)\nresult_q17 = df_degree.drop('None', axis=1)\n\n(result_q17.drop('Other', axis=1).T\n .style\n .highlight_max(color='indianred')\n .highlight_min(color='lightpink')\n)","01b1dcc3":"def use_methods_degree(degree):\n    temp_df = data.loc[data.Q4 == str(degree)]\n    df_q17 = []\n    for q17_col in q17_columns:\n        df_q17.append(temp_df[q17_col])\n    df_q17 = pd.concat(df_q17)\n    df_q17 = df_q17.dropna()\n    return df_q17","fb924fbc":" methods_all = []\nfor degree in data.Q4.value_counts().index.to_list():\n    methods = use_methods_degree(degree)\n    methods_all.append(methods)\n    fig, ax = plt.subplots(figsize=(10,5))\n    ax = sns.histplot(methods, kde=True, palette=\"ch:.25\")\n    ax.set_xticklabels(ax.get_xticklabels(), rotation=90)\n    ax.set(title = str(degree))","254f5060":"stat, p = mannwhitneyu(methods_all[0], methods_all[1])\nprint('p-value is: ', p)","4a0a7e66":"stat, p = mannwhitneyu(methods_all[0], methods_all[2])\nprint('p-value is: ', p)","144ad355":"stat, p = mannwhitneyu(methods_all[0], methods_all[3])\nprint('p-value is: ', p)","1ec2c07f":"stat, p = mannwhitneyu(methods_all[0], methods_all[4])\nprint('p-value is: ', p)","2fe93815":"stat, p = mannwhitneyu(methods_all[0], methods_all[5])\nprint('p-value is: ', p)","36b97530":"stat, p = mannwhitneyu(methods_all[0], methods_all[6])\nprint('p-value is: ', p)","40bbfb7f":"Most beginner coding kagglers (<1 year) choose professions DS, DA and BA from IT-word, a lot of begginers are students (it is expected) or currently not employed and many responded that they had jobs not from the list of proposed ones.\n\nMore than half of DS have been programming before the age of 10, it seems that Data Scientists are quite a young profession.\n\nThe \"oldest\" profession - Software Engineer, DBA and Project\/Product Manager (10+ years of coding).\n","1ea4e17b":"# Programming part\n\n- Q7: What programming languages do you use on a regular basis?","99b69452":"**Our p-value > 0.05. It means, that we can reject  $H_0$  and we can not conclude that a significant difference exists.**\n\nBut we have correlation -0.016, this indicates the presence of a linear relationship between the signs. Let's see ont he heatmap:","5745b9f6":"<center><img src='https:\/\/upload.wikimedia.org\/wikipedia\/commons\/7\/7c\/Kaggle_logo.png' alt=\"kaggle\" style=\"width: 200px\"> <\/center>","b016a559":"Indeed, most of the data-valued have or are receiving a master's degree.","2c062059":"**<center> what about the data? <\/center>**\n\n\nWell, we have 39 (Q1-Q39) questions in main part and 8 (Q26 B- Q375 B) supplementary questions.\n\nLet's exploring some questions from the main part:\n\n\nBasic part: short description about user\n\n-  Q1: What is your age (# years)?\n-  Q2: What is your gender?\n-  Q4: What is the highest level of formal education that you have attained or plan to attain within the next 2 years?\n-  Q5: Select the title most similar to your current role (or most recent title if retired)\n-  Q6: For how many years have you been writing code and\/or programming?\n\nProgramming part: languages \n-  Q7: What programming languages do you use on a regular basis?\n\n\nMethods: ML, DL, NLP\n-  Q15: For how many years have you used machine learning methods?\n-  Q17: Which of the following ML algorithms do you use on a regular basis?\n-  Q18: Which categories of computer vision methods do you use on a regular basis?\n-  Q19: Which of the following natural language processing (NLP) methods do you use on a regular basis?\n\nWork:\n-  Q20: What is the size of the company where you are employed?\n-  Q22: Does your current employer incorporate machine learning methods into their business?\n-  Q23: Select any activities that make up an important part of your role at work:\n-  Q24: What is your current yearly compensation ( approximate USD)?\n\nEducation topics:\n-  Q37: On which platforms have you begun or completed data science courses?\n-  Q39: Who\/what are your favorite media sources that report on data science topics?","f1d362f2":"The most of masters write code from 3 to 5 years. Explore dependences for that feature:","f303f40e":"**Our p-value < 0.05. It means, that we can reject  $\ud835\udc3b_0$  and we can conclude that a significant difference exists.**\n","7f7d2ad8":"<font size=\"3\"> Well, let's explore only for men and women educations (Q4), bcs that group (consist from men and women) is the most popular: <\/font>\n\nIt can be seen from the gender graph that most of them consider themselves either men or women. At the moment I would like to focus on these generators, since the rest against their background are quantitatively lost.","108a0e60":"### Work:","d6b2604f":"Everyone loves Python :) The most unpopular are Swift and Julia.\n\nBut so far this information does not tell us anything. Therefore, let's look at it in the context of other features.","243cc586":"Create a count table again with min-max higlighting:","07b35013":"**Our p-value < 0.05. It means, that we can reject  $H_0$  and we can conclude that a significant difference exists.**\n\nAre different methods distributions for master users and no formal education users?","b2e99b70":"**Our p-value > 0.05. It means, that we can not reject  $H_0$  and we can not conclude that a significant difference exists.**\n\nAre different methods distributions for master users and doctors users?","b42052b5":"**What about users with master's degree on kaggle?**","a779c13f":"### Findings:\n\nThe machine learning methods used by the masters differ only for the professional degree and users who chose not to answer.","96d31047":"Our p-value > 0.05. It means, that we can not  reject  \ud835\udc3b0  and we can not conclude that a significant difference exists.","6b194914":"Our p-value < 0.05. It means, that we can reject  $\ud835\udc3b_0$  and we can conclude that a significant difference exists.","08b86a7e":"# Basic part\n\n-  Q1: What is your age (# years)?\n-  Q2: What is your gender?\n-  Q4: What is the highest level of formal education that you have attained or plan to attain within the next 2 years?\n-  Q5: Select the title most similar to your current role (or most recent title if retired)\n-  Q6: For how many years have you been writing code and\/or programming?","d382ddd9":"<font size=\"3\"> **Let's see how much different work distributions are for master users and everyone else?** <\/font>\n\nI think, they have significant difference, check it:","fd182165":"What does this plot tell us?\n\nFirst, I will note once again that we are only considering users who have either received or will receive a master's degree within the next 2 years.\n\nConsider technology stacks. First, we see that the stack for ML Engineer and Research Scientist is very similar to Software Engineer. Perhaps they are united by a variety of tasks. Engineers design software solutions, RS tries various solutions. Accordingly, the larger the technology stack, the more productive the work.\n\nAlso, Data Scientists and Data Analytics are very similar to each other. Indeed, these are two adjacent directions. A good data scientist is also a good data analyst!\n\nThe DBA and the Data Engineer obviously need to know roughly the same things - SQL, basically.\n\nI would also note an important point: we are considering only users of the Kaggle platform, therefore Python is the leader in programming languages for absolutely all professions.","f514fc7b":"Among newcomers-masters to programming, the largest percentage of people using Python and R. Indeed, it is a fairly simple language to learn to program. The more experience a person has, the greater the percentage of Bash and JS used. Novice programmers also use MATLAB more. Most likely, this is due to the fact that they are still at the university, where MATLAB is the main tool for research. People with more than 1 year experience have almost the same percentage of using Java and C ++, perhaps this is due to the fact that these languages are traditionally studied as a basis. Also, the more experience a person has, the greater the percentage of using other programming languages. And regardless of experience, everyone often uses SQL ;)","cfb7d328":"In cases where we need to compare how similar two distributions are, statistical tests come to the rescue.\nThere are actually a huge number of them and an overview of all deserves a separate kernel. Here I will focus on the choice between the Student's t test and the Mann-Whitney test.\n\nThey differ in that the correct variance in the samples is required for the correctness of the Student's test, while the Mann-Whitney test does not. Therefore, we first check the variances:","a1299a7e":"### Age:","aa370951":"**Our p-value < 0.05. It means, that we can reject  $\ud835\udc3b_0$  and we can conclude that a significant difference exists.**","1b117cea":"# Work in process ...","fbc34f5d":"# Methods: ML, DL, NLP\n\n-  Q15: For how many years have you used machine learning methods?\n-  Q17: Which of the following ML algorithms do you use on a regular basis?\n-  Q18: Which categories of computer vision methods do you use on a regular basis?\n-  Q19: Which of the following natural language processing (NLP) methods do you use on a regular basis?","6c3ea6a4":"## Explore programming languages for each type of degree:","eaafccb8":"# <center> 2020 Kaggle ML & DS Survey <\/center>","7cd12796":"It is expected that most of the masters are still students (20%), may be they study at graduate school.\n\nA lot of masters have a work, the most popular is DS (17%). \n\nThe most unpopular work is DBA\/Database Engineer - 0.7%! And a lot of masters have work not in list - 9.8%.","e9b88c63":"More women with masters and doctorates :) \n\nAnd ~40% of kagglers are masters, it's a very nice result! \n\nI would also note that masters are understood as people who either have a master's degree or will receive it within the next two years. \nLet's explore them:","fe7b3318":"<font size='3'> **Let's explore only data jobs for masters:** <\/font>\n\nAge: 18-39\n<br>\nYears of codding: <20 years","993e6759":"\n<table>\n<thead>\n<tr><th>Hypothesis<\/th><th>Result<\/th><\/tr>\n<\/thead>\n<tbody>\n<tr><td>Are different age distributions for master users and everyone else?<\/td><td> We can conclude that a significant difference exists.<\/td><\/tr>\n<tr><td>Are different work distributions for master users and everyone else?<\/td><td> We can conclude that a significant difference exists.<\/td><\/tr> <tr>\n<tr><td>Is there any dependence between current work and age for masters?<\/td><td> There is a dependency between samples. <\/td><\/tr> <tr>\n<tr><td>Is there any dependence between current work and years of codding for masters?<\/td><td> There is not a dependency between samples.<\/td><\/tr>\n<tr><td>Is there any dependence between current work and years of codding for all users?<\/td><td> There is a dependency between samples.<\/td><\/tr>\n<\/tbody>\n<\/table>\n","d985d636":"<font size=\"3\"> **Let's see how much different age distributions are for master users and everyone else?** <\/font>","48526abd":"<center> \nHello everyone!\n<br>\n<br>\nNow I have been studying at masters program and I want to explore my 'colleagues' on the kaggle platform :)\n<\/center>","1bc1deb2":"**Our p-value < 0.05. It means, that we can reject $H_0$ and we can conclude that a significant difference exists.**\n\nIndeed, the only major difference is for the interval 18-21, otherwise it is a coincidence.","9ef4b655":"**Our p-value > 0.05. It means, that we can not reject  $H_0$  and we can not conclude that a significant difference exists.**\n\nAre different methods distributions for master users and prof degree users?","f4283dcf":"### Years of codding","2f704d3f":"## Any dependence btw coding years and programming languages?","01260825":"### Findings:\n\nAt first, the most users are masters (~40%). Also, women predominate among masters. \n<br>\nFor some questions I explore some hypothesis (masters vs other users) for getting more information. Let's talk about results.\n<br>\n- Age: Age distributions for the master are different from other users, there is a significant difference. Perhaps, with further analysis, it will be possible to reveal whether age affects any parameters.\n\n- Job: The distribution of jobs on which masters work differs from the distribution for other users. This means that it will be interesting to consider this aspect in the following sections of the kernel.\n\n- Current job and age for masters: There is some dependency between the current job and the age of the masters. This fact, perhaps, will help in the future to interpret some result.\n\n- Current job and years of codding for masters: no dependency.\n\n- Current job and years of codding for all users: Perhaps it would be interesting to investigate in the context of the previous question (current job and years of codding for masters).","47911c63":"<font size=\"3\"> **Is there any dependence between current work and years of codding for masters?** <\/font>\n\n\n$H_0$: two samples are independent;\n\n$H_1$: there is a dependency between samples.","8ecbdb70":"## The most popular language for each job type","7bf2165e":"<table>\n<thead>\n<tr><th>Hypothesis<\/th><th>Result<\/th><\/tr>\n<\/thead>\n<tbody>\n<tr><td>Are different methods distributions for master users and bachelor users?<\/td><td> We can not conclude that a significant difference exists.<\/td><\/tr>\n<tr><td>Are different methods distributions for master users and doctors users?<\/td><td> We can conclude that a significant difference exists.<\/td><\/tr> <tr>\n<tr><td>Are different methods distributions for master users and some college\/university study without degree users?<\/td><td> We can not conclude that a significant difference exists. <\/td><\/tr> <tr>\n<tr><td>Are different methods distributions for master users and prof degree users?<\/td><td> We can not conclude that a significant difference exists. <\/td><\/tr>\n<tr><td>Are different methods distributions for master users and not answer users?<\/td><td>We can conclude that a significant difference exists.<\/td><\/tr>\n<tr><td>Are different methods distributions for master users and no formal education users?<\/td><td>we can not conclude that a significant difference exists.<\/td><\/tr>\n<\/tbody>\n<\/table>\n\n","31aa1d79":"**What about users with master's degree on kaggle?**","5c92d610":"**Our p-value < 0.05. It means, that we can reject  $\ud835\udc3b_0$  and we can conclude that a significant difference exists.**\n\nAre different methods distributions for master users and some college\/university study without degree users?","5014729e":"Expected result: the largest age group of masters is 25-29. These are exactly those people who have just finished their master's degree or are in the process of completing it.\n\nWe can also see that the distributions of the ages of the masters and the ages of other users look quite similar. Is it really?\n","2a14c7cc":"It is Q7 question. We have in data 13 columns for Q7, each column for each answer type.","a2b9f48e":"**Our p-value > 0.05. It means, that we can not reject  $H_0$  and we can not conclude that a significant difference exists. But we very close :)**\n\nAre different methods distributions for master users and not answer users?","53e0b36e":"In fact, age can tell a lot: is a person currently studying for a master's degree or how long ago did he graduate from it? Perhaps this feature can somehow influence the choice of profession, programming languages, experience in using algorithms and the choice in favor of a particular field of data science.","b704fa3a":"Well, variances are not equal. It means that we can't use t-student test. **Let's use another - Mann-Whitney test:**\n\n\nAny statistical test is a hypothesis test - null and alternative. In our case, they look like this:\n\n$H_0$: distributions are equal;\n<br>\n$H_1$: distributions are not equal;","9dbccb2f":"Mann-Whitney test:\n\n\nAny statistical test is a hypothesis test - null and alternative. In our case, they look like this:\n\n$H_0$: distributions are equal;\n<br>\n$H_1$: distributions are not equal;","fb649ea5":"First, we see that aspiring specialists are really moving into the field of data analysis. Also, I would note that it is very strange to see people aged 18-21 who have programming experience for 10 years :)\n<br>\nMost of the data scientists are in the 25-35 age group and their programming experience is from 3 to 10 years, that is, they cannot be called beginners. It will probably take a lot of work to become data scientists. It seems that a master's degree is required in the first place for a data scientist. Let's check this hypothesis just in case.","c82ddb18":"Are different methods distributions for master users and bachelor users?","da968b3d":"<font size=\"3\"> **Is there any dependence between current work and age for masters?** <\/font>\n\nI will use spearman for checking that.\n\n$H_0$: two samples are independent;\n\n$H_1$: there is a dependency between samples.","e9ab965a":"## See statistics for masters and not-masters:","e0494ee8":"<font size=\"3\"> **Is there any dependence between current work and years of codding for all users?** <\/font>"}}