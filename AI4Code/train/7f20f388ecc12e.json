{"cell_type":{"5d06bf90":"code","a03b5cfb":"code","44ad8601":"code","280ea031":"code","ae8ff097":"code","4efd66de":"code","fb5e734e":"code","8cff1819":"code","94e0e86b":"code","b846eeed":"code","48602da5":"code","6987f7cd":"code","4ae84441":"code","7553e050":"code","df19e0ab":"code","384e5b16":"code","8a950ac3":"code","9de0ee29":"code","4414475e":"code","4cf6aa17":"code","138d162f":"code","f6aee6bc":"code","140f6da5":"code","322f6fdb":"code","29df345c":"code","61c24f7b":"code","69211372":"code","00a0ba96":"code","6aad722a":"code","c188a5c5":"code","a5ba6fb5":"code","6ee48b6d":"markdown"},"source":{"5d06bf90":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","a03b5cfb":"#load spacy library\nimport spacy\nfrom collections import Counter\nimport warnings\nimport warnings\nwarnings.filterwarnings(\"ignore\")","44ad8601":"nlp = spacy.load(\"en_core_web_lg\")","280ea031":"#load ideal text\nGolden_txt=\"Experts throughout both the developing and developed world have debated whether the advent of sophisticated modern technology such as mobile phones, laptops and iPad have helped to enhance and improve people\u2019s social lives or whether the opposite has become the case. Personally, I strongly advocate the former view. This essay will discuss both sides using examples from the UK government and Oxford University to demonstrate points and prove arguments. On the one hand there is ample, powerful, almost daily evidence that such technology can be detrimental especially to the younger generation who are more easily affected by it\u2019s addictive nature and which can result in people feeling more isolated from the society. The central reason behind this is twofold, firstly, the invention of online social media sites and apps, such as Twitter and Facebook have reduced crucial face-to-face interactions dramatically. Through use of these appealing and attractive mediums, people feel in touch and connected yet lack key social skills and the ability to communicate.  Secondly, dependence on such devices is built up frighteningly easily which may have a damaging effect on mental health and encourage a sedentary lifestyle. For example, recent scientific research by the UK government demonstrated that 90% of people in their 30s spend over 20 hours per week on Messenger and similar applications to chat with their friends instead of meeting up and spending quality time together or doing sport. As a result, it is conclusively clear that these technology advancements have decreased and diminished our real life interactions. On the other hand, although there are significant downsides to technological developments, its\u2019 multifold advantages cannot be denied. This is largely because the popularity of technology such as cellphones allows people to connect freely and easily with no geographical barriers. People are able to share any type of news, information, photos and opinions with their loved ones whenever and wherever they want therefore keeping a feeling of proximity and closeness. For example, an extensive study by Oxford University illustrated that people who work, or study abroad and use applications like Facetime and WhatsApp to chat with their families, are less likely to experience loneliness and feel out of the loop than those  who do not. Consistent with this line of thinking is that businessmen are also undoubtedly able to benefit from these advances by holding virtual real -time meetings using Skype which may increase the chance of closing business deals without the need to fly. From the arguments and examples given I firmly believe that overall communication and mans\u2019 sociability has been advanced enormously due to huge the huge technological progress of the past twenty years and despite some potentially serious health implications which governments should not fail to address, it is predicted that its popularity will continue to flourish in the future.\"\ngld_doc=nlp(Golden_txt)","ae8ff097":"#load student text\nstd_txt=\"It is true that in recent years, technology influenced a lot in the way people interact with each other. Face to face meetings turned into a FaceTime and WhatsApp group video calls; however, it is hard to say whether the positive aspects outweigh the negative aspects or vice versa. On the positive side, new innovations in communication technology helped people to talk with their loved ones more easily than in the past. Nowadays, it has become cheaper and more hassle free to talk with anyone in the world from anywhere. This advancement helps people to maintain their relationships even when they are travelling or in the different countries. For example, in the current pandemic situation, many people are stuck in other countries due to lockdowns, but still they can easily interact with their family as well as they can maintain their business relationships by using virtual meeting applications. On the negative side, people have started preferring video calls over face to face meetings. They have started avoiding travel to meet their family members or business partners; however, physical meetings are way better than virtual meetings, and it always gives you much more realistic feeling and better interaction with the ones you are meeting compared to virtual meetings. In my opinion, new technological advancements removed all international and geographical barriers between people and enabled them to stay in constant touch; however, these innovations should be used only when they are necessary; whenever possible, people should go out and physically meet their loved ones; over use of technology might create many misunderstandings and it could also have negative impacts on relationships.\"\nstd_doc=nlp(std_txt)","4efd66de":"#get number of each tag\nCounter(([token.pos_ for token in std_doc]))","fb5e734e":"#get verb tenses count\ntenses=dict([])\ntenses['present']=len([nlp.vocab.morphology.tag_map[tkn.tag_].get(\"Tense_pres\") for tkn in std_doc if tkn.pos_==\"VERB\" if nlp.vocab.morphology.tag_map[tkn.tag_].get(\"Tense_pres\")])\ntenses['past']=len([nlp.vocab.morphology.tag_map[tkn.tag_].get(\"Tense_past\") for tkn in std_doc if tkn.pos_==\"VERB\" if nlp.vocab.morphology.tag_map[tkn.tag_].get(\"Tense_past\")])\ntenses['future']=len([tkn.text for tkn in std_doc if tkn.text.lower() in (\"shall\",\"will\") and tkn.dep_.lower()==\"aux\"])\ntenses","8cff1819":"#Number of Active \nAct_tkn=[tok.text for tok in std_doc if (tok.dep_ == \"nsubj\")]\nlen(Act_tkn)","94e0e86b":"#Number of PAssive \nAct_tkn=[tok.text for tok in std_doc if (tok.dep_ == \"nsubjpass\")]\nlen(Act_tkn)","b846eeed":"#get number of misspelled words\nCounter(([token.is_oov for token in std_doc]))","48602da5":"#number of punctuations and words\nCounter(([token.is_punct for token in std_doc]))","6987f7cd":"#number of stopwords\nCounter(([token.is_stop for token in std_doc]))","4ae84441":"#define a function to get the frequent words in a text which aren't stop words or punctuations\ndef get_frequent_words(sample_doc):\n    words = [token.text.lower() for token in sample_doc if not token.is_stop and not token.is_punct]\n    word_freq = Counter(words)\n    return word_freq","7553e050":"#second extract the frequent words from the student text\nstd_wrd_freq = get_frequent_words(std_doc)\ngld_wrd_freq = get_frequent_words(gld_doc)","df19e0ab":"#define the match function between the two lists\ndef matching_keywords(stdlst,gldlst):\n        #matched list\n        res=[]\n        #unmatched list\n        tmpres=[]\n        for x in stdlst:\n            if (x in gldlst):\n                res.append(x)\n            else:\n                tmpres.append(x)\n        return res,tmpres","384e5b16":"#get matched and unmatched keywords lists\nmatched,unmatched=matching_keywords(std_wrd_freq,gld_wrd_freq)\n#percentage of matched keywords from student common words to golden common words\nprint(\"matching percentage using common words:\",len(matched)\/len(gld_wrd_freq))\n#ratio of unmatched keywords from student common words to all students common words\nprint(\"unmatching percentage using common words:\",len(unmatched)\/len(std_wrd_freq))","8a950ac3":"#get most similar tokens between unmatched list and the whole golden set\ndef most_similar(stdlst_unmatched,gld_lst):\n    lst=[]\n    for tkn1 in stdlst_unmatched:\n        for tkn2 in gld_lst:\n            lst.append([tkn1,tkn2,std_doc.vocab[tkn1].similarity(gld_doc.vocab[tkn2])])\n                \n    return pd.DataFrame(lst,columns=['tkn1','tkn2','similarity'])\ndf=most_similar(unmatched,gld_wrd_freq)","9de0ee29":"df[df['similarity']>0.7]","4414475e":"print(\"matched frequent keywords:\", matched)","4cf6aa17":"#second method extract unique words with only 1 occurrence\ngld_uniq_wrds=[word for word in gld_wrd_freq if (gld_wrd_freq.get(word)==1)]\nstd_uniq_wrds=[word for word in std_wrd_freq if (std_wrd_freq.get(word)==1)]","138d162f":"#then apply match function\nmatched,unmatched=matching_keywords(std_uniq_wrds,gld_uniq_wrds)\n#percentage of matched keywords from student unique words list and golden unique words list\nprint(\"matching percentage using unique words:\",len(matched)\/len(gld_uniq_wrds) )\n#ratio of unmatched keywords from student unique words list\nprint(\"unmatching percentage using unique words:\",len(unmatched)\/len(std_uniq_wrds) )","f6aee6bc":"print(\"matched unique keywords:\", matched)","140f6da5":"#get the most similar tokens between unmatched and golden list\ndf=most_similar(unmatched,gld_uniq_wrds)","322f6fdb":"df[df['similarity']>0.7]","29df345c":"#third method extract nouns chuncks and special tags like proper noun, noun, adjective\ndef extract_POS(sample_doc):\n    res=[]\n    for chk in sample_doc.noun_chunks:\n        tmp=\"\"\n        for tkn in chk:\n            if (tkn.pos_ in ['NOUN','PROPN','ADJ'] ):\n                if (not(tkn.is_stop) and not(tkn.is_punct)):\n                    tmp = tmp + tkn.text.lower() + \" \"\n        if(tmp.strip()!=\"\"):\n            res.append(tmp.strip())\n    return list(dict.fromkeys(res))","61c24f7b":"#extract noun chuncks from both golden and student text\ngld_POS=extract_POS(gld_doc)\nstd_POS=extract_POS(std_doc)","69211372":"#then apply match function\nmatched,unmatched=matching_keywords(std_POS,gld_POS)\n#percentage of matched keywords\nprint(\"matching percentage using unique words:\",len(matched)\/len(gld_POS) )\n#ratio of unmatchedd keywords\nprint(\"unmatching percentage using unique words:\",len(unmatched)\/len(std_POS))","00a0ba96":"print(\"matched Special POS keywords:\", matched)","6aad722a":"#get the most similar tokens between unmatched and golden list\ndf=most_similar(unmatched,gld_POS)","c188a5c5":"df[df['similarity']>0.7]","a5ba6fb5":"from nltk.stem import PorterStemmer\nfrom itertools import groupby\n\ndef yule(sample_doc):\n    # yule's I measure (the inverse of yule's K measure)\n    # higher number is higher diversity - richer vocabulary\n    d = {}\n    ps = PorterStemmer()\n    for w in sample_doc:\n        if(not(w.is_punct)):\n            try:\n                w = ps.stem(w.text.lower())\n            except:\n                print(w)\n            try:\n                d[w] = d[w] + 1\n            except KeyError:\n                d[w] = 1\n \n        M1 = float(len(d))\n        M2 = float(sum([len(list(g))*(freq**2) for freq,g in groupby(sorted(d.values()))]))\n \n    try:\n        return float((M1*M1)\/(M2-M1))\n    except ZeroDivisionError:\n        return float(0)\n \nprint(\"Yule's I measurement for vocabulary richness for golden answer:\",str(round(yule(gld_doc))))\nprint(\"Yule's I measurement for vocabulary richness for student answer:\",str(round(yule(std_doc))))","6ee48b6d":"The problem is to get keywords from well written text and compare it with another input text.\n\nThe input: two input texts, \nthe first text represents the ideal essay about technology topic, \nand the second text is a student text about the same topic.\n\nThe output: the matched and most similar keywords between the two paragraphs and vocabulary richness measurement(Yule's I)\n\nThe task is to extract the keywords from the both texts, then apply different matching  methods between them. \nI used Spacy "}}