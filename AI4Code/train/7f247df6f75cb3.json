{"cell_type":{"70d93a9b":"code","ce46de7d":"code","5255a436":"code","d563691d":"code","8a15d281":"code","3afdf350":"code","db2c4559":"code","dedebbb2":"code","69de1a26":"code","3f601ed7":"code","06d01042":"code","5a79559c":"markdown","3382dafe":"markdown","1f962b10":"markdown","92f3df57":"markdown","ade1e7c0":"markdown","b9175622":"markdown","fa4c89da":"markdown","a6e6b2cb":"markdown","3798397e":"markdown","9f1fc51c":"markdown"},"source":{"70d93a9b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sn\nimport math\n","ce46de7d":"df_train = pd.read_csv(\"\/kaggle\/input\/scv-data\/df_train.csv\")","5255a436":"cols = [\n    'index_id', 'id', \n    'reactivity_error', 'deg_error_Mg_pH10', 'deg_error_pH10', 'deg_error_Mg_50C', 'deg_error_50C', 'reactivity', 'deg_Mg_pH10', 'deg_pH10', 'deg_Mg_50C', 'deg_50C' \n]\n","d563691d":"for c in cols:\n    print(c, df_train[c].min(), df_train[c].max()) ","8a15d281":"x_reactivity = df_train['reactivity'].sort_values().values\nplt.plot(x_reactivity, '-o')\nplt.show()","3afdf350":"d_plus_10 = df_train[df_train['reactivity']>10]\nprint(d_plus_10.shape)","db2c4559":"d_minus_10 = df_train[df_train['reactivity']<-10]\nprint(d_minus_10.shape)","dedebbb2":"x_reactivity = df_train['reactivity_error'].sort_values().values\nplt.plot(x_reactivity, '-o')\nplt.show()","69de1a26":"df = df_train.loc[:,['index_id','reactivity', 'reactivity_error','position']]\ndf1=df.copy()\n#df1 = df[df['reactivity_error']<10000]\n\nx_reactivity = df1.sort_values(by=['reactivity'])\n\nl = x_reactivity.shape[0]\nx = np.arange(1,l+1)\ny_r = x_reactivity['reactivity']\ny_r_err = x_reactivity['reactivity_error']\n\nfig, ax = plt.subplots()\n\nline2 = ax.plot(x, y_r_err, 'o', label='reactivity error')\nline1 = ax.plot(x, y_r, 'o', label='reactivity')\n\nax.legend()\nplt.show()","3f601ed7":"df = df_train.loc[:,['index_id','reactivity', 'reactivity_error','position']]\ndf1=df.copy()\ndf1 = df[df['reactivity_error']<10000]\n\nx_reactivity = df1.sort_values(by=['reactivity'])\n\nl = x_reactivity.shape[0]\nx = np.arange(1,l+1)\ny_r = x_reactivity['reactivity']\ny_r_err = x_reactivity['reactivity_error']\n\nfig, ax = plt.subplots()\n\nline2 = ax.plot(x, y_r_err, 'o', label='reactivity error')\nline1 = ax.plot(x, y_r, 'o', label='reactivity')\n\nax.legend()\nplt.show()","06d01042":"df_lt_tt = df[df['reactivity_error']<=10000]\ndf_gt_tt = df[df['reactivity_error']>10000]\n\ndf_r_eqz = df[df['reactivity']==0]\ndf_r_neqz = df[df['reactivity']!=0]\n\nlt_tt_eqz = df_lt_tt[df_lt_tt['reactivity']==0].shape[0] \/ df_lt_tt.shape[0]\nlt_tt_neqz = df_lt_tt[df_lt_tt['reactivity']!=0].shape[0]  \/ df_lt_tt.shape[0]\ngt_tt_eqz = df_gt_tt[df_gt_tt['reactivity']==0].shape[0]  \/ df_gt_tt.shape[0]\ngt_tt_neqz = df_gt_tt[df_gt_tt['reactivity']!=0].shape[0]  \/ df_gt_tt.shape[0]\n\nar = [[lt_tt_eqz, gt_tt_eqz],[lt_tt_neqz, gt_tt_neqz]]\ndf_cm = pd.DataFrame(ar, index = ['Reactivity==0','Reactivity != 0'],\n                  columns = ['Error < 10000','Error > 10000'])\nplt.figure(figsize = (10,7))\nsn.heatmap(df_cm, annot=True)","5a79559c":"Here is the graph of the sorted values of label *reactivity* : \n","3382dafe":"Now let us see the graph for the reactivity error. We can note several huge values, greater than 10000 :  ","1f962b10":"If we put them together, it is difficult to see, but at least we see that the huge error values correspond to huge abosulte values in the label.","92f3df57":"Before normalizing the data, I just wanted to check it.\n\nI did the following:\n","ade1e7c0":"Let us exclude the huge error values and see what we get. We can see huge error close to zero.","b9175622":"We can see that the labels are symetrical with respect to zero.\n\nIn order to check further I took the example of label *reactivity* only. The others have a similar behaviour.","fa4c89da":"**ANALYSYS**\n","a6e6b2cb":"Let us see at which point the huge errors are related to zero value in labels.\nWe can see a correlation. \n\nThe percentage is calculated from the basis : \n\nError > 10000\nError < 10000","3798397e":"REACTIVITY","9f1fc51c":"We can see that the huge absolute values are rare:"}}