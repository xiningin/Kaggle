{"cell_type":{"c8b0f662":"code","0fe77252":"code","f0cb9d4c":"code","fa9e9747":"code","d98607fc":"code","038b9b7e":"code","ee2e507a":"code","a6e04970":"code","e0171650":"code","7d8468c1":"code","b3698750":"code","905bb73c":"code","2de94469":"code","c1f4680b":"code","79681367":"code","351e31ca":"code","130959b7":"code","23b869fd":"code","028d2cd5":"code","56d2576a":"code","58227ba8":"code","1e7b43ad":"code","51abd5b0":"code","8ce60676":"code","184c8e14":"code","7cd3ecb1":"code","4ee606b1":"code","025f4a11":"code","e299f1e6":"code","872143a1":"code","59afedfd":"code","f5161d1c":"code","da19111a":"code","6e04b691":"code","3a753106":"code","3ceb8f88":"code","ca731522":"code","fabbe634":"code","ad3d4295":"code","172ff62f":"code","809bfdba":"code","4bbb5d55":"code","3563a84f":"code","b35dc2ae":"code","f69fc9fe":"code","9bbb01e1":"code","5b9b0919":"markdown","ee99ce6b":"markdown","4dab26cf":"markdown","a081d15c":"markdown","22837213":"markdown","159104d2":"markdown","98652dd9":"markdown","63c5a48c":"markdown","5a0690d7":"markdown","6b267369":"markdown","5eca8f8e":"markdown"},"source":{"c8b0f662":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('..\/input\/learnplatform-covid19-impact-on-digital-learning\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0fe77252":"products = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")\ndistricts = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")","f0cb9d4c":"products.head()","fa9e9747":"products.info()","d98607fc":"products.describe(include='all')","038b9b7e":"products.groupby('Sector(s)').size()","ee2e507a":"districts.head()","a6e04970":"districts.describe(include='all')","e0171650":"d6345 = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/6345.csv\")\n","7d8468c1":"d6345.head()","b3698750":"d6345.describe(include='all')","905bb73c":"appended_file = []\nfor dirname, _, filenames in os.walk('..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data'):\n    for filename in filenames:\n        temp_file = pd.read_csv(f'..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/{filename}')\n        temp_file[\"district_idd\"] = filename\n        appended_file.append(temp_file)","2de94469":"engagement = pd.concat(appended_file)\nengagement = engagement.reset_index(drop=True)","c1f4680b":"engagement.describe(include='all')","79681367":"engagement.dtypes","351e31ca":"a = pd.DataFrame(engagement.groupby('district_idd')['time'].nunique())","130959b7":"a['is_366'] = np.where(a['time']== 366,1,0)","23b869fd":"a.groupby('is_366').size()","028d2cd5":"appended_file = []\nfor dirname, _, filenames in os.walk('..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data'):\n    for filename in filenames:\n        temp_file = pd.read_csv(f'..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/{filename}')\n        temp_file[\"district_idd\"] = filename\n        if temp_file.time.nunique() == 366:            \n            appended_file.append(temp_file)\n       # print(os.path.join(dirname, filename))","56d2576a":"engagement = pd.concat(appended_file)\nengagement = engagement.reset_index(drop=True)\nengagement['Date']= pd.to_datetime(engagement['time'])\nengagement","58227ba8":"engagement.groupby(['district_idd'])['time'].nunique().describe()","1e7b43ad":"engagement.describe(include='all')","51abd5b0":"products.describe(include='all')","8ce60676":"districts.describe(include='all')","184c8e14":"base_file = engagement.merge(products, left_on= 'lp_id', right_on='LP ID', how = 'left')","7cd3ecb1":"base_file['district_id'] = base_file['district_idd'].str.slice(0, 4).astype(int)","4ee606b1":"base_file2 = base_file.merge(districts, left_on= 'district_id', right_on='district_id', how = 'left')","025f4a11":"base_file2.describe(include ='all')","e299f1e6":"base_file3 = base_file2[['lp_id','pct_access','engagement_index','Date','Product Name','Provider\/Company Name','Sector(s)','Primary Essential Function','district_id','state','locale','pct_black\/hispanic','pct_free\/reduced','county_connections_ratio','pp_total_raw']]","872143a1":"base_file2.columns","59afedfd":"base_file3.columns","f5161d1c":"base_file3.describe(include='all')","da19111a":"summary_sector = base_file3.groupby(['Sector(s)']).agg(engagement_index_sum=(\"engagement_index\", pd.Series.sum), \n                                             engagement_index_mean = (\"engagement_index\", pd.Series.mean),\n                                             engagement_index_mean2 = (\"engagement_index\", np.mean),\n                                             unique_date=(\"Date\", pd.Series.nunique), \n                                             count_date=(\"Date\", pd.Series.count), \n                                            ).reset_index()","6e04b691":"summary","3a753106":"summary = base_file3.groupby(['Sector(s)']).agg(engagement_index_sum=(\"engagement_index\", pd.Series.sum), \n                                             engagement_index_mean = (\"engagement_index\", pd.Series.mean),\n                                             engagement_index_mean2 = (\"engagement_index\", np.mean),\n                                             unique_date=(\"Date\", pd.Series.nunique), \n                                             count_date=(\"Date\", pd.Series.count), \n                                            ).reset_index()","3ceb8f88":"import matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('darkgrid')\nfigz = sns.barplot(summary['Sector(s)'], summary['engagement_index_mean'])\nset(figz,'Position',[100, 100, 500, 500])\nfigz.Position = [10, 10, 550, 400]; \nplt.show()","ca731522":"import matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('darkgrid')\nsns.barplot(summary['Sector(s)'], summary['engagement_index_mean'])\nplt.gcf().set_size_inches(30,10)\nplt.show()","fabbe634":"summary2 = base_file3.groupby(['Primary Essential Function']).agg(engagement_index_sum=(\"engagement_index\", pd.Series.sum), \n                                             engagement_index_mean = (\"engagement_index\", pd.Series.mean),\n                                             engagement_index_mean2 = (\"engagement_index\", np.mean),\n                                             unique_date=(\"Date\", pd.Series.nunique), \n                                             count_date=(\"Date\", pd.Series.count), \n                                            ).reset_index()","ad3d4295":"summary2","172ff62f":"summary2['Primary_EF'] = summary2['Primary Essential Function'].str.rsplit(\"-\",n=0, expand=True)","809bfdba":"summary2","4bbb5d55":"import matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('darkgrid')\nsns.barplot(summary2['Primary_EF'], summary2['engagement_index_mean'])\nplt.gcf().set_size_inches(30,10)\nplt.show()","3563a84f":"new_df","b35dc2ae":"summary2b = summary2","f69fc9fe":"summary2b['new'] = data","9bbb01e1":"summary2b","5b9b0919":"Summarising and studying how different parameters interact. We should make charts and study how different value of parameters behave against others.\nCategorical variables to be studied\n1. Week\/Day\/month\n2. Company\n3. Product Names\n4. Sectors\n5. Primary Function\n6. District Id\n7. State\n8. Local\n9. Percentage Black\/Hispanic [Convert this into categorical bins]\n\nContinous Variables against which above categorical variables can be compared\n1. Pct_access\n2. engagement index\n3. Percentage Black\/Hispanic\n4. pct_free\/reduced\t\n5. pp_total_raw","ee99ce6b":"Welcome to analysis of **\"Covid-19\" Impact on Digital Learning**.\n\nObjectives :-\nUnderstanding impact of Covid on the digital platforms in student's engagement and more.","4dab26cf":"We should split this 1st column","a081d15c":"We notice, there are **3 files** in root and a folder named **engagement_data** with many CSVs. \n\nViewing the files","22837213":"Products file","159104d2":"We will merge all data files to one file.","98652dd9":"This confirms that all district now have 366 entries. The data files are merged in one file names engagement.\nNow we have 3 types of files.\n1. Engagement\n2. Products\n3. Districts","63c5a48c":"Merging all 3 to 1 file and keeping only important fields.","5a0690d7":"Districts file","6b267369":"This shows that there are 61 districts with less than 366 days of information. Excluding those, since for arriving at relation between engagement and other paramters, the engagement should be of all days.\n","5eca8f8e":"Now sample file inside the folder **engagement_data**."}}