{"cell_type":{"2d24af6c":"code","9424a1f8":"code","51c36208":"code","d28ba28a":"code","c24666a0":"code","cb9e173b":"code","a14f4a00":"code","03c3e593":"code","329a884f":"code","f9f8db37":"code","d0075583":"code","0893e18e":"code","9961f3de":"code","64a0ca03":"code","c9177b5a":"code","2cc3874f":"code","29b439ac":"code","c94e607a":"code","0ad98e52":"code","013353f7":"markdown","87aa0b60":"markdown","95c23eeb":"markdown","7fb1eace":"markdown","1eeadeac":"markdown","883b0d10":"markdown","9616a4bf":"markdown","2460a8aa":"markdown","124fab32":"markdown","77da17d4":"markdown","7e1ba68e":"markdown","85e51117":"markdown","13949dfd":"markdown","0a72227c":"markdown","be84fa2a":"markdown","cecbf18f":"markdown","ece860ab":"markdown","4a39d1ef":"markdown"},"source":{"2d24af6c":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nprint(os.listdir(\"..\/input\"))\n%matplotlib inline\n# Any results you write to the current directory are saved as output.","9424a1f8":"customer_df=pd.read_csv('..\/input\/Ecommerce Customers.csv')\ncustomer_df.head()","51c36208":"customer_df.describe()","d28ba28a":"customer_df.info()","c24666a0":"sns.set_palette('GnBu_r')","cb9e173b":"sns.jointplot(x='Time on Website',y='Yearly Amount Spent',data=customer_df)\nplt.show()","a14f4a00":"sns.jointplot(x='Time on App',y='Yearly Amount Spent',data=customer_df)\nplt.show()","03c3e593":"sns.jointplot(x='Time on App',y='Length of Membership',data=customer_df,kind='hex')\nplt.show()","329a884f":"sns.jointplot(x='Time on Website',y='Length of Membership',data=customer_df,kind='hex')\nplt.show()","f9f8db37":"sns.pairplot(customer_df)\nplt.show()","d0075583":"sns.lmplot(x='Length of Membership',y='Yearly Amount Spent',data=customer_df)\nplt.show()","0893e18e":"y=customer_df['Yearly Amount Spent']\nX=customer_df[['Avg. Session Length','Time on App','Time on Website','Length of Membership']]","9961f3de":"#Train-test split\nfrom sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.4,random_state=42)\n# I have set random_state=42 in order to get the same output every time i run this kernel","64a0ca03":"#creating and training the model\nfrom sklearn.linear_model import LinearRegression\nlm=LinearRegression()\nlm.fit(X_train,y_train)\n#coefficients of the model\nprint('Coefficients: \\n',lm.coef_)","c9177b5a":"predictions =lm.predict(X_test)","2cc3874f":"plt.scatter(y_test,predictions)\nplt.xlabel('Y Test')\nplt.ylabel('Predicted Y')\nplt.show()","29b439ac":"from sklearn import metrics\nprint('MAE= ', metrics.mean_absolute_error(y_test,predictions))\nprint('MSE= ', metrics.mean_squared_error(y_test,predictions))\nprint('RMSE= ', np.sqrt(metrics.mean_squared_error(y_test,predictions)))","c94e607a":"sns.distplot((y_test-predictions),bins=40);","0ad98e52":"cdf=pd.DataFrame(lm.coef_,X.columns,columns=['Coeff'] )\ncdf","013353f7":"We could simply explore similar relationships across the data by creating pairplots","87aa0b60":"Using the predictions above we can develop ways in order to increase yearly amount spent by the customers. We can improve the app experience so that the users spend more of their time on the app or we can also focus on the website and develop it so that it becomes as efficient as the app or we can focus on customer relationship so that people remain members for long periods of time.","95c23eeb":"Lets explore the data","7fb1eace":"Comparing time spent on the site and amount of money spent yearly","1eeadeac":"Lets Compare the time spent on the website and the length of membership","883b0d10":"Lets create a scatter plot of real test values vs the predicted values","9616a4bf":" **Lets Start Exploring the data to learn more..**","2460a8aa":"Now lets evaluate the model","124fab32":"Comparing time spent on the app and amount of money spent yearly","77da17d4":"The main aim of this kernel is to use Linear regression in order to figure out how to maximize the Yearly Amount spent by the customers.","7e1ba68e":"Importing data ","85e51117":"Now lets figure out how we can boost the yearly amount spent by the customers","13949dfd":"Lets Compare the time spent on the app and the length of membership","0a72227c":"Now that we have a good model Lets explore the residuals","be84fa2a":"We can interpret this data to make certain observations, for example:-\nIf all other factors are kept constant then increasing the \"Avg. Session Length\" by one unit will increase the yearly amount spent by a customer by an estimate of \\$26.\n\nSimilarly increasing \"Time on App\" by one unit increases yearly amount spent by \\$38.5 whereas, increasing Time on Website by one unit increases yearly amount spent by only $0.6 approximately.\n\nAccording to the data above the largest increase of approximately $61.5  is observed when the \"Length of Membership\" is increased by one unit.","cecbf18f":"Lets Split the data into training and testing set. We will set 'y' as the Yearly Amount Spent and 'X' will be the numerical features related to the customers from the data ","ece860ab":"From the pairplot above we can observe that the length of membership is most closely related to the yearly amount spent by the consumers.","4a39d1ef":"Now that we have our fit model lets see how well we can predict the test values"}}