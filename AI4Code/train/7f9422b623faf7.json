{"cell_type":{"2b9faf1c":"code","08e7a119":"code","c53a1bf2":"code","5802211b":"code","f56f13e8":"code","6a1d89eb":"code","4e72e3b3":"code","55ecf0d0":"code","213eee09":"code","f9dccf78":"code","78d30dac":"code","b481f405":"code","26750648":"code","b74a7f9d":"code","e5ceb3b1":"code","6a57821e":"code","7a73526c":"code","d1faedc0":"code","70bedb6e":"code","44346de0":"code","cd38a2ea":"code","23803e35":"code","c31529a1":"code","767e752b":"code","5bf3b057":"code","ca09a370":"code","3f929c3f":"code","af3cc105":"code","604e04d7":"code","c8f9510b":"code","3f3731d0":"code","78de4c4d":"code","2becd81f":"code","0350697b":"code","8166c0a3":"code","854c7eb4":"code","bd41501c":"code","334a6e5b":"code","32b768cb":"code","5440ff42":"code","bc235d5c":"code","4c97d0fa":"code","c55fc79d":"code","dbc7359a":"code","dd21ab42":"code","e68cac6e":"code","8c564408":"code","28ec27ad":"code","a82c068f":"code","d86bdde3":"code","9ae17340":"code","85369044":"code","5e632beb":"code","d53a000b":"code","8137e12e":"code","015604cb":"code","eb750528":"code","1f9e0a62":"code","ba08744d":"code","9c8280ff":"code","00a9af23":"code","849d2e8f":"code","012fb358":"code","481d26b8":"code","2cbea945":"code","942e0243":"code","4d4444e5":"code","fbf6a124":"code","d75a6dfb":"code","44da8632":"markdown","8e1d7adb":"markdown","8d9d070a":"markdown","5a612626":"markdown","091376a0":"markdown"},"source":{"2b9faf1c":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom plotly.subplots import make_subplots\nimport plotly.graph_objects as go\nimport warnings\nimport plotly.express as px\nfrom datetime import date, timedelta\nwarnings.filterwarnings('ignore')\n%matplotlib inline","08e7a119":"df=pd.read_csv(\"..\/input\/covid-vaccination-india-district-wise-data\/cowin_vaccine_data_districtwise.csv\")","c53a1bf2":"df.head()","5802211b":"df.iloc[0]=df.iloc[0].replace(np.nan,0)","f56f13e8":"list1=[]\nfor i,j in zip(df.columns,df.iloc[0]):\n    if j==0 or 0.0:\n        list1.append(str(i))\n    else:\n        list1.append(str(i)+\"_\"+str(j))","6a1d89eb":"df.columns=list1","4e72e3b3":"df.drop(0,inplace=True,axis=0)","55ecf0d0":"metadata=df.iloc[:,1:6]","213eee09":"firts_week_july_data=df.iloc[:,1666:1736]","f9dccf78":"final_data_july=pd.concat([metadata,firts_week_july_data],axis=1)\nfinal_data_july.reset_index(inplace=True,drop=True)\nt=final_data_july[final_data_july.isnull().any(1)][\"01\/07\/2021.3_First Dose Administered\"].astype(\"int\").values[0]+final_data_july[final_data_july.isnull().any(1)][\"01\/07\/2021.4_Second Dose Administered\"].astype(\"int\").values[0]\nfinal_data_july.iloc[6][\"01\/07\/2021_Total Doses Administered\"]=final_data_july[final_data_july.isnull().any(1)][\"01\/07\/2021_Total Doses Administered\"].replace(np.nan,t)\nt1=final_data_july.iloc[:,5:].astype(\"int\")\nfinal_df=pd.concat([final_data_july.iloc[:,:5],t1],axis=1)","78d30dac":"final_df[final_df.isnull().any(1)]","b481f405":"t=final_df.iloc[0][\"01\/07\/2021.3_First Dose Administered\"]+final_df.iloc[0][\"01\/07\/2021.4_Second Dose Administered\"]\nfinal_df.iloc[0,5]=t","26750648":"final_dataset1=final_df.filter(regex=\"_Total Doses Administered\")\nfinal_dataset1[\"Dsitrict\"]=final_df[\"District\"]\nfinal_dataset1[\"Total_vaccination_by_distric\"]=final_dataset1.iloc[:,:7].sum(axis=1)","b74a7f9d":"l1=[\"District\"]\nl2=list(final_df.filter(regex=\"_Total Doses Administered\").columns.values)","e5ceb3b1":"l1.extend(l2)","6a57821e":"t3=final_df.groupby(\"District\").sum()\ndates=[]\nfor i in l2:\n    dates.append(i.split(\"_\")[0])","7a73526c":"def discrptive_summary_per_district_for_first_week_july(t3,district,dates,final_df):\n    l1=list(final_df.filter(regex=\"_Total\").columns.values)\n    l2=list(final_df.filter(regex=\"_First\").columns.values)\n    l3=list(final_df.filter(regex=\"_Second\").columns.values)\n    l5=list(final_df.filter(regex=\"_Male\").columns.values)\n    l6=list(final_df.filter(regex=\"_Female\").columns.values)\n    l7=list(final_df.filter(regex=\"_Transgender\").columns.values)\n    l8=list(final_df.filter(regex=\"_Covaxin \").columns.values)\n    l9=list(final_df.filter(regex=\"_CoviShield \").columns.values)\n    example_df1=pd.DataFrame()\n    example_df1[\"Dates\"]=dates\n    example_df1[\"Total Doses Administered\"]=t3[t3.index==district][l1].values[0]\n    example_df1[\"First Dose Administered\"]=t3[t3.index==district][l2].values[0]\n    example_df1[\"Second Dose Administered\"]=t3[t3.index==district][l3].values[0]\n    example_df1[\"Male(Doses Administered)\"]=t3[t3.index==district][l5].values[0]\n    example_df1[\"Female(Doses Administered)\"]=t3[t3.index==district][l6].values[0]\n    example_df1[\"Transgender(Doses Administered)\"]=t3[t3.index==district][l7].values[0]\n    example_df1[\"Covaxin (Doses Administered)\"]=t3[t3.index==district][l8].values[0]\n    example_df1[\"CoviShield (Doses Administered)\"]=t3[t3.index==district][l9].values[0]\n    t=example_df1.describe()\n    return t,example_df1","d1faedc0":"district_df=pd.DataFrame()","70bedb6e":"district_df[\"Total Doses Administered\"]=t3.filter(regex=\"_Total\").sum(axis=1)\ndistrict_df[\"First Doses Administered\"]=t3.filter(regex=\"_First\").sum(axis=1)\ndistrict_df[\"Second Dose Administered\"]=t3.filter(regex=\"_Second\").sum(axis=1)\ndistrict_df[\"Male(Doses Administered)\"]=t3.filter(regex=\"_Male\").sum(axis=1)\ndistrict_df[\"Female(Doses Administered)\"]=t3.filter(regex=\"_Female\").sum(axis=1)\ndistrict_df[\"Female(Doses Administered)\"]=t3.filter(regex=\"_Female\").sum(axis=1)\ndistrict_df[\"Transgender(Doses Administered)\"]=t3.filter(regex=\"_Transgender\").sum(axis=1)\ndistrict_df[\"Covaxin (Doses Administered)\"]=t3.filter(regex=\"_Covaxin \").sum(axis=1)\ndistrict_df[\"CoviShield (Doses Administered)\"]=t3.filter(regex=\"_CoviShield\").sum(axis=1)","44346de0":"top_10_districts=district_df.sort_values(by=\"Total Doses Administered\",ascending=False)","cd38a2ea":"top_10_districts=top_10_districts.head(10)","23803e35":"top_10_districts.describe()","c31529a1":"male_sum=top_10_districts[\"Male(Doses Administered)\"].values.sum()\nfemale_sum=top_10_districts[\"Female(Doses Administered)\"].values.sum()\ntrans_sum=top_10_districts[\"Transgender(Doses Administered)\"].values.sum()","767e752b":"    px.pie(names=[\"Male Vaccinated\",\"Female Vaccinated\",\"Trans Gender\"],values=[male_sum,female_sum,trans_sum],title=\"Male Female and transgender Vaccinated ratio for Covid19\")","5bf3b057":"covaxin=top_10_districts[\"Covaxin (Doses Administered)\"].values.sum()\ncovi=top_10_districts[\"CoviShield (Doses Administered)\"].values.sum()\npx.pie(names=[\"Covaxin Vaccinated\",\"CoviShield Vaccinated\"],values=[covaxin,covi],title=\"Covaxin and CoviShield Vaccinated ratio for Covid19\")","ca09a370":"first=top_10_districts[\"First Doses Administered\"].values.sum()\nsecond=top_10_districts[\"Second Dose Administered\"].values.sum()\npx.pie(names=[\"fist vaccine\",\"second Vaccine\"],values=[first,second],title=\"First and Second Vaccinated ratio for Covid19\")","3f929c3f":"fig=px.bar(top_10_districts,x=top_10_districts.index,y=top_10_districts[\"Total Doses Administered\"],color=top_10_districts[\"Total Doses Administered\"])\nfig.update_layout(title_text=\"Most Doses Administrated\")\nfig.show()","af3cc105":"fig=make_subplots(rows=1,cols=2,subplot_titles=('First dose','Second dose'))\ntrace1=fig.add_trace(go.Bar(x=top_10_districts.index,y=top_10_districts[\"First Doses Administered\"],marker_color=top_10_districts[\"First Doses Administered\"],name=\"First_dose\"),row=1,col=1)\ntrace2=fig.add_trace(go.Bar(x=top_10_districts.index,y=top_10_districts[\"Second Dose Administered\"],marker_color=top_10_districts[\"Second Dose Administered\"],name=\"Second_dose\"),row=1,col=2)\nfig.update_layout(xaxis_title=\"\",yaxis_title=\"Y Axis Title\",title_text=\"First v\/s second dose\")\nfig['layout']['xaxis']['title']='District'\nfig['layout']['xaxis2']['title']='District'\nfig['layout']['yaxis']['title']='First Doses Administered'\nfig['layout']['yaxis2']['title']='Second Dose Administered'","604e04d7":"fig.show()","c8f9510b":"fig=make_subplots(rows=1,cols=2,subplot_titles=('Male','Female'))\ntrace1=fig.add_trace(go.Bar(x=top_10_districts.index,y=top_10_districts[\"Male(Doses Administered)\"],marker_color=top_10_districts[\"Male(Doses Administered)\"],name=\"Male\"),row=1,col=1)\ntrace2=fig.add_trace(go.Bar(x=top_10_districts.index,y=top_10_districts[\"Female(Doses Administered)\"],marker_color=top_10_districts[\"Female(Doses Administered)\"],name=\"Female\"),row=1,col=2)\nfig.update_layout(xaxis_title=\"\",yaxis_title=\"Y Axis Title\",title_text=\"Male vs Female\")\nfig['layout']['xaxis']['title']='District'\nfig['layout']['xaxis2']['title']='District'\nfig['layout']['yaxis']['title']='Male(Doses Administered)'\nfig['layout']['yaxis2']['title']='Female(Doses Administered)'","3f3731d0":"fig.show()","78de4c4d":"fig=make_subplots(rows=1,cols=2,subplot_titles=('Covaxin','CoviShield'))\ntrace1=fig.add_trace(go.Bar(x=top_10_districts.index,y=top_10_districts[\"Covaxin (Doses Administered)\"],marker_color=top_10_districts[\"Covaxin (Doses Administered)\"],name=\"Covaxin\"),row=1,col=1)\ntrace2=fig.add_trace(go.Bar(x=top_10_districts.index,y=top_10_districts[\"CoviShield (Doses Administered)\"],marker_color=top_10_districts[\"CoviShield (Doses Administered)\"],name=\"CoviShield\"),row=1,col=2)\nfig.update_layout(xaxis_title=\"\",yaxis_title=\"Y Axis Title\",title_text=\"Covaxin v\/s CoviShield\")\nfig['layout']['xaxis']['title']='District'\nfig['layout']['xaxis2']['title']='District'\nfig['layout']['yaxis']['title']='Covaxin (Doses Administered)'\nfig['layout']['yaxis2']['title']='CoviShield (Doses Administered)'","2becd81f":"fig.show()","0350697b":"fig=px.bar(top_10_districts,x=top_10_districts.index,y=top_10_districts[\"Transgender(Doses Administered)\"],color=top_10_districts[\"Transgender(Doses Administered)\"])\nfig.update_layout(title_text=\"Transgender(Doses Administered)\")\nfig.show()","8166c0a3":"Bengakuru_data=discrptive_summary_per_district_for_first_week_july(t3,\"Bengaluru Urban\",dates,final_df)[1]\nMumbai_data=discrptive_summary_per_district_for_first_week_july(t3,\"Mumbai\",dates,final_df)[1]\nPune_data=discrptive_summary_per_district_for_first_week_july(t3,\"Pune\",dates,final_df)[1]","854c7eb4":"Bengakuru_data","bd41501c":"Total_administered_dose=pd.DataFrame()\nsdate=date(2021,7,1)\nedate=date(2021,7,8)\nDates1=pd.date_range(sdate,edate-timedelta(days=1),freq='d')\nTotal_administered_dose[\"Dates\"]=Dates1\nTotal_administered_dose[\"Total Doses Administered_Bengaluru\"]=Bengakuru_data[\"Total Doses Administered\"]\nTotal_administered_dose[\"Total Doses Administered_Mumbai\"]=Mumbai_data[\"Total Doses Administered\"]\nTotal_administered_dose[\"Total Doses Administered_Pune\"]=Pune_data[\"Total Doses Administered\"]","334a6e5b":"Total_administered_dose","32b768cb":"fig=px.line(Total_administered_dose,x=\"Dates\",y=Total_administered_dose.columns[1:],range_x=['2021-07-01', '2021-07-07'])\nfig1=px.scatter(Total_administered_dose,x=\"Dates\",y=Total_administered_dose.columns[1:],range_x=['2021-07-01', '2021-07-07'])\nfig2=go.Figure(fig.data+fig1.data)\nfig2.update_layout(\n    title_text=\"Time series plot for 1st week of july for Top 3 districts\"\n)\nfig2.show()","5440ff42":"df2=df[(df[\"District\"]==\"Bengaluru Urban\") | (df[\"District\"]==\"Mumbai\") | (df[\"District\"]==\"Pune\")].iloc[:,5:]","bc235d5c":"d=df2.iloc[:,1:].astype(\"int\")","4c97d0fa":"d[\"District\"]=df2[\"District\"]","c55fc79d":"df2=d.groupby(\"District\").sum()","dbc7359a":"Total_Doses_Administered=df2.filter(like=\"Total\")","dd21ab42":"Total_Doses_Administered","e68cac6e":"Total_Doses_Administered.reset_index(inplace=True)","8c564408":"Total_Doses_Administered=Total_Doses_Administered.T","28ec27ad":"Total_Doses_Administered.reset_index(inplace=True)","a82c068f":"Total_Doses_Administered.columns=list(Total_Doses_Administered.iloc[0])","d86bdde3":"Total_Doses_Administered.drop(0,axis=0,inplace=True)","9ae17340":"Total_Doses_Administered.reset_index(inplace=True)","85369044":"del Total_Doses_Administered['index']","5e632beb":"Total_Doses_Administered.rename(columns={\"District\":\"Dates\"},inplace=True)","d53a000b":"sdate=date(2021,1,16)\nedate=date(2021,8,2)\nDates=pd.date_range(sdate,edate-timedelta(days=1),freq='d')","8137e12e":"Total_Doses_Administered[\"Dates\"]=Dates","015604cb":"fig1=px.line(Total_Doses_Administered,x=Total_Doses_Administered[\"Dates\"],y=Total_Doses_Administered[\"Bengaluru Urban\"],color_discrete_sequence=[\"red\"])\nfig2=px.line(Total_Doses_Administered,x=Total_Doses_Administered[\"Dates\"],y=Total_Doses_Administered[\"Mumbai\"],color_discrete_sequence=[\"green\"])\nfig3=px.line(Total_Doses_Administered,x=Total_Doses_Administered[\"Dates\"],y=Total_Doses_Administered[\"Pune\"],color_discrete_sequence=[\"yellow\"])\nfig3=go.Figure(fig1.data+fig2.data+fig3.data)\nfig3.update_xaxes(\n    rangeslider_visible=True,\n    rangeselector=dict(\n        buttons=list([\n            dict(count=1, label=\"1m\", step=\"month\", stepmode=\"backward\"),\n            dict(count=1, label=\"YTD\", step=\"year\", stepmode=\"todate\"),\n            dict(step=\"all\")\n        ])\n    )\n)","eb750528":"def function(df2,Dates,Dates1,data1,data2):\n    data1_df=df2.filter(like=data1)\n    data2_df=df2.filter(like=data2)\n    data1_df.reset_index(inplace=True)\n    data2_df.reset_index(inplace=True)\n    data1_df=data1_df.T\n    data2_df=data2_df.T\n    data1_df.reset_index(inplace=True)\n    data2_df.reset_index(inplace=True)\n    data1_df.columns=list(data1_df.iloc[0])\n    data2_df.columns=list(data2_df.iloc[0])\n    data1_df.drop(0,axis=0,inplace=True)\n    data2_df.drop(0,axis=0,inplace=True)\n    data1_df.reset_index(inplace=True)\n    data2_df.reset_index(inplace=True)\n    del data1_df['index']\n    del data2_df['index']\n    data1_df.rename(columns={\"District\":\"Dates\"},inplace=True)\n    data2_df.rename(columns={\"District\":\"Dates\"},inplace=True)\n    data1_df[\"Dates\"]=Dates\n    data2_df[\"Dates\"]=Dates\n    return data1_df,data2_df","1f9e0a62":"d1,d2=function(df2,Dates,Dates1,\"Covaxin\",\"CoviShield\")","ba08744d":"def plot_subplots(d1,data1):\n    fig1=px.line(d1,x=d1[\"Dates\"],y=d1[\"Bengaluru Urban\"],color_discrete_sequence=[\"red\"])\n    fig2=px.line(d1,x=d1[\"Dates\"],y=d1[\"Mumbai\"],color_discrete_sequence=[\"green\"])\n    fig3=px.line(d1,x=d1[\"Dates\"],y=d1[\"Pune\"],color_discrete_sequence=[\"yellow\"])\n    fig3=go.Figure(fig1.data+fig2.data+fig3.data)\n    fig3.update_xaxes(\n        rangeslider_visible=True,\n        rangeselector=dict(\n            buttons=list([\n                dict(count=1, label=\"1m\", step=\"month\", stepmode=\"backward\"),\n                dict(count=1, label=\"YTD\", step=\"year\", stepmode=\"todate\"),\n                dict(step=\"all\")\n            ])\n        )\n    )\n    fig3.update_layout(\n    title_text=\"Time series plot for 1st week of july for Top 3 districts for {}\".format(data1)\n    )\n    fig3.show()","9c8280ff":"plot_subplots(d1,\"Covaxin\")","00a9af23":"plot_subplots(d2,\"CoviSheild\")","849d2e8f":"plot_subplots(d2,\"Male\")","012fb358":"plot_subplots(d2,\"Female\")","481d26b8":"plot_subplots(d2,\"First Doses\")","2cbea945":"plot_subplots(d2,\"Second Doses\")","942e0243":"def normal_plot(x,l):\n    mean=0\n    std=0\n    for i in x:\n        mean+=i\n    mean=mean\/len(x)\n    min1=min(x)\n    max1=max(x)\n    array=[min1 + x*(max1-min1)\/(l-1) for x in range(0,l)]\n    for i in x:\n        s=i-mean\n        s=s**2\n        std+=s\n    std=std\/len(x)\n    std=np.sqrt(std)\n    list1=[]\n    for i in array:\n        exp_part=((i-mean)\/std)**2\n        exp_part=(1\/2)*exp_part\n        exp_part=np.exp(-exp_part)\n        den=std*(np.sqrt(2*3.14))\n        den=1\/den\n        final=den*exp_part\n        list1.append(final)\n    return list1","4d4444e5":"x=[0,0,0,0,0,0,0,0,0,0,10,10,10,10,10,10,10,10,10,10]\nl=100","fbf6a124":"list1=normal_plot(x,l)","d75a6dfb":"fig=px.line(list1,color_discrete_sequence=[\"yellow\"])\nfig.update_xaxes(title=\"Data range\")\nfig.update_yaxes(title=\"Values\")\nfig.show()","44da8632":"### 1. Extract covid vaccination data of states in India from public databases. Provide a descriptive summary of the top 10 districts throughout India with highest vaccination count for the 1st week of July.\n\n### 2. Choose top 3 districts from above analysis and create labelled time series plots for these districts.","8e1d7adb":"## Descrptive summary for Top 10 Districts","8d9d070a":"### For Total Doses adminstered in top 3 Districts","5a612626":"## 3. Create an algorithm in Python from scratch that can create a normal distribution from the data [0,0,0,0,0,0,0,0,0,0,10,10,10,10,10,10,10,10,10,10] while the total sum remains unchanged and plot the two curves.","091376a0":"### TOP 3 DISTRICTS : Bengaluru Urban , Mumbai , Pune"}}