{"cell_type":{"443d21e1":"code","17c3408d":"code","3591e099":"code","a9b45a62":"code","1fc795fe":"code","b1079763":"code","f9e64937":"code","56ee6790":"code","f7fc5b9b":"code","b0116dac":"code","3bd6c31b":"code","585cac09":"markdown","7aa4ad87":"markdown","ad4faf74":"markdown","3022e406":"markdown","21124b7e":"markdown","52e24b51":"markdown","94baec73":"markdown","5390228f":"markdown","cf65aefa":"markdown","e661b451":"markdown","42b4dcb1":"markdown"},"source":{"443d21e1":"pip install geopandas","17c3408d":"import geopandas as gpd\nimport pandas as pd\nimport requests\nimport matplotlib.pyplot as plt\n%matplotlib inline","3591e099":"raw= requests.get(\"https:\/\/covid-india-cases.herokuapp.com\/states\/\")\nraw_json = raw.json()\ndf = pd.DataFrame(raw_json)\ndf.head()","a9b45a62":"df=df[[\"state\",\"active\",\"deaths\",\"cured\"]]\ndf.head()","1fc795fe":"fp = \"..\/input\/india-shapefile\/INDIA.shp\"\nmap_df = gpd.read_file(fp)\nmap_df.head()","b1079763":"map_df.plot()","f9e64937":"map_df[\"ST_NAME\"].replace({\"DADRA AND NAGAR HAVELI\": \"Dadra and Nagar Haveli and Daman and Diu\", \"Andaman & Nicobar Island\": \"Andaman and Nicobar Islands\", \"Pondicherry\": \"Puducherry\",\"Orissa\":\"Odisha\",\"Nct Of Delhi\":\"Delhi\",\"LAKSHADWEEP\":\"Lakshadweep\",\"CHANDIGARH\":\"Chandigarh\",\"DAMAN AND DIU\":\"Dadra and Nagar Haveli and Daman and Diu\",\"ANDAMAN AND NICOBAR ISLANDS\":\"Andaman and Nicobar Islands\",\"Jammu And Kashmir\":\"Jammu and Kashmir\"}, inplace=True)","56ee6790":"merged = map_df.set_index('ST_NAME').join(df.set_index('state'))\nmerged.head()","f7fc5b9b":"variable = 'active'\n# create figure and axes for Matplotlib\nfig, ax = plt.subplots(1,figsize=(18, 13))\nax.axis('off')\nmerged.plot(column=variable, cmap='bone_r', linewidth=0.5, ax=ax, edgecolor='0.6', legend='True')","b0116dac":"variable2 = 'cured'\n# create figure and axes for Matplotlib\nfig, ax = plt.subplots(1,figsize=(18, 13))\nax.axis('off')\nmerged.plot(column=variable2, cmap='Greens', linewidth=0.5, ax=ax, edgecolor='0.6', legend='True')","3bd6c31b":"variable3 = 'deaths'\n# create figure and axes for Matplotlib\nfig, ax = plt.subplots(1,figsize=(18, 13))\nax.axis('off')\nmerged.plot(column=variable3, cmap='Reds', linewidth=0.5, ax=ax, edgecolor='0.6', legend='True')","585cac09":"## A List of libraries and modules used:\n1. Geopandas\n2. Pandas\n3. requests\n4. Matplotlib","7aa4ad87":"## Replacing the names of some countries so that they match with the ones in the data provided by the webservice","ad4faf74":"# Map of recovered cases","3022e406":"## Getting data for the map\nThe next dataset that is required is a shapefile of all the states. A shape file consists of the geometry of each state on a map. For this I have used the Geopandas library","21124b7e":"## Fetching COVID 19 Data for Indian States ","52e24b51":"# Map of death cases","94baec73":"## The global spread of corona virus has motivated to data analysts to come up with ways to visualise country-wise data using various techniques. However, I went a step ahead and made an ****attempt to visualise my country's (India) COVID-19 data****. This notebook shows choropleth map visualisations of this data. Instead of using a static dataset, I've used data directly from a webservice, where the data is updated on a daily basis. Therefore, this notebook shows new visualisations everytime it's run.","5390228f":"Keeping only the desired columns in dataframe","cf65aefa":"# Choropleth map using [Geopandas](http:\/\/https:\/\/geopandas.org\/#:~:text=GeoPandas%20is%20an%20open%20source,operations%20are%20performed%20by%20shapely.) library\nFor these maps, I have used two data sources. The first is a dataset of COVID-19 cases in every state of India. The aim is to produce a map on real time data. Therefore, instead of using a static datasource, like a .csv or an excel file, I have used the data derived from a web service. This code directly fetches data from the web using a request module. The data from this service is updated on a daily basis. So, whenever the code is run, the map is updated automatically. The data can be accessed from: \n\n[https:\/\/covid-india-cases.herokuapp.com\/states\/](http:\/\/)\n\nThe requests module fetces data from the source provided.","e661b451":"## Merging both the datasets to obtain a final dataset with the state's name, it\u2019s geometry and the COVID-19 data","42b4dcb1":"# Plotting the map\nSince it's a choropleth map, we first have to specify a variable which decides the colour of a particular state.\nFor the first map, I want the criteria to be the number of active cases. Therefore, the column with the name 'active' is passed to the plot function to make the corresponding map"}}