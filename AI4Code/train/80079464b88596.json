{"cell_type":{"e7379545":"code","b3d9acb1":"code","80abe0b5":"code","2bb6e247":"code","215cd6b8":"code","9b531bca":"code","57134708":"code","73ffbfe0":"code","9bdf83bf":"code","e573df28":"code","9a5fe22a":"code","b51c5633":"code","0c20af0f":"code","e25b7578":"code","9f53695a":"code","e9737ce2":"code","e9392007":"code","00d60d73":"code","1de337fb":"code","2132950c":"code","1d4eb5a6":"code","65d3ca56":"code","02494b36":"code","514ea784":"code","f351d6cd":"code","2c5be9af":"code","4e0f017f":"code","3f9c247e":"code","5ea7016a":"code","84c1aeab":"code","57a22fac":"code","7d7ec82c":"code","fd322d30":"code","04456b8d":"markdown","13b37772":"markdown","93feb0cd":"markdown","4921cdb1":"markdown","a5e384d8":"markdown","9f23d9cb":"markdown","1268868f":"markdown","d4686381":"markdown","dd9e10a1":"markdown","17e93f3b":"markdown","db11b553":"markdown","7ce93c40":"markdown","15e94ec1":"markdown","86f214ec":"markdown","3b925522":"markdown","3dfe4faf":"markdown","b58b614b":"markdown","95b9d4f1":"markdown","2d51736e":"markdown","6d78c37c":"markdown","a6c42752":"markdown","d6a1363a":"markdown","cf936e03":"markdown","e70e2001":"markdown","59eb87fb":"markdown","89ec49f9":"markdown","37156329":"markdown","e276df4d":"markdown","f7768618":"markdown","1115a294":"markdown","e70b672b":"markdown","23d27b9b":"markdown","0852fd0c":"markdown","e195c441":"markdown","610b313b":"markdown","2dd0dbe5":"markdown","a2bd629e":"markdown","a0050e49":"markdown","95b7dbae":"markdown","177b7ca8":"markdown","86c52dc4":"markdown","abf2109e":"markdown","7d6cb757":"markdown","f0b19c90":"markdown","a4aaa996":"markdown","5fb983c5":"markdown","ad5d47f1":"markdown","0a4ff4db":"markdown","4eea0b43":"markdown","734cc4a8":"markdown","e5dcc84f":"markdown","8d9b8b0e":"markdown","85aefa70":"markdown","a47dbd96":"markdown","59de58b9":"markdown","251727de":"markdown","cb4d9244":"markdown","f053d13d":"markdown","f945a1fc":"markdown","e5e095bf":"markdown","21dfef04":"markdown","82d66a64":"markdown","9fa48f2e":"markdown","c08978cc":"markdown"},"source":{"e7379545":"import pandas as pd\nimport missingno\nimport seaborn as sns\nimport matplotlib.pyplot as plt","b3d9acb1":"data_folder = r\"\/kaggle\/input\/heart-stroke\/\"","80abe0b5":"strokes_df = pd.read_csv(data_folder+r\"train_strokes.csv\", index_col=\"id\")\nstrokes_df[['gender','ever_married','Residence_type','work_type','smoking_status','hypertension','stroke']] = strokes_df[['gender','ever_married','Residence_type','work_type','smoking_status','hypertension','stroke']].astype('category')","2bb6e247":"strokes_df.shape","215cd6b8":"strokes_df.info()","9b531bca":"# here we have\ncategorical_vars = ['gender','hypertension','heart_disease', 'ever_married','Residence_type', 'work_type', 'smoking_status', 'stroke']\ncontinuous_vars = ['age','avg_glucose_level','bmi']","57134708":"strokes_df.head()","73ffbfe0":"strokes_df[continuous_vars].describe()","9bdf83bf":"missingno.matrix(strokes_df, figsize = (30,5))","e573df28":"fig, (ax1, ax2, ax3, ax4) = plt.subplots(1,4,figsize=(25,7))\n\nfig.suptitle(\"Countplot for strokes_df\", fontsize=35)\n\nsns.countplot(x=\"gender\", data=strokes_df,ax=ax1)\nsns.countplot(x=\"stroke\", data=strokes_df,ax=ax2)\nsns.countplot(x=\"ever_married\", data=strokes_df,ax=ax3)\nsns.countplot(x=\"hypertension\", data=strokes_df,ax=ax4)","9a5fe22a":"fig, (ax1, ax2, ax3) = plt.subplots(1,3,figsize=(25,7))\n\nfig.suptitle(\"Countplot for strokes_df\", fontsize=35)\n\nsns.countplot(x=\"work_type\", data=strokes_df,ax=ax1)\nsns.countplot(x=\"Residence_type\", data=strokes_df,ax=ax2)\nsns.countplot(x=\"smoking_status\", data=strokes_df,ax=ax3)\n","b51c5633":"g = sns.catplot(x=\"Residence_type\", hue=\"smoking_status\", col=\"work_type\",\n                data=strokes_df, kind=\"count\",\n                height=4, aspect=.7)","0c20af0f":"sns.histplot(strokes_df[continuous_vars], kde=True)","e25b7578":"sns.displot(x=\"age\", data=strokes_df, kind=\"kde\", hue=\"gender\", col=\"smoking_status\", row=\"Residence_type\")","9f53695a":"fig, (ax1, ax2, ax3) = plt.subplots(1,3,figsize=(20,7))\nfig.suptitle(\"Boxplot for Strokes\", fontsize=35)\n\nsns.boxplot(x=\"stroke\", y=\"avg_glucose_level\", data=strokes_df,ax=ax1)\nsns.boxplot(x=\"stroke\", y=\"bmi\", data=strokes_df,ax=ax2)\nsns.boxplot(x=\"stroke\", y=\"age\", data=strokes_df,ax=ax3)","e9737ce2":"temp = strokes_df\ntemp['stroke'] = temp['stroke'].astype(int)\nresidence_type_df = strokes_df.groupby([\"Residence_type\"])['stroke'].agg(['sum','count']).reset_index()\nresidence_type_df['risk'] = residence_type_df['sum'] \/ residence_type_df['count'] * 100\nresidence_type_df","e9392007":"temp = strokes_df\ntemp['stroke'] = temp['stroke'].astype(int)\nwork_type_df = strokes_df.groupby([\"work_type\"])['stroke'].agg(['sum','count']).reset_index()\nwork_type_df['risk'] = work_type_df['sum'] \/ work_type_df['count'] * 100\nwork_type_df","00d60d73":"temp = strokes_df\ntemp['stroke'] = temp['stroke'].astype(int)\nsmoking_status_df = temp.groupby([\"smoking_status\"])['stroke'].agg(['sum','count']).reset_index()\nsmoking_status_df['risk'] = smoking_status_df['sum'] \/ smoking_status_df['count'] * 100\nsmoking_status_df","1de337fb":"temp = strokes_df\ntemp['stroke'] = temp['stroke'].astype(int)\never_married_df = temp.groupby([\"ever_married\"])['stroke'].agg(['sum','count']).reset_index()\never_married_df['risk'] = ever_married_df['sum'] \/ ever_married_df['count'] * 100\never_married_df","2132950c":"temp = strokes_df\ntemp['stroke'] = temp['stroke'].astype(int)\never_married_df = temp.groupby([\"ever_married\",\"smoking_status\"])['stroke'].agg(['sum','count']).reset_index()\never_married_df['risk'] = ever_married_df['sum'] \/ ever_married_df['count'] * 100\never_married_df","1d4eb5a6":"sns.boxplot(x=\"stroke\", y=\"bmi\",data=strokes_df)\nplt.title(\"! Feature idea : does BMI over 60 means no stroke?\")","65d3ca56":"sns.boxplot(x=\"gender\", y=\"bmi\", hue=\"stroke\",data=strokes_df)\nplt.title(\"Thought: No stroke if gender is Other?\")","02494b36":"sns.boxplot(x=\"stroke\", y=\"age\", hue=\"gender\",data=strokes_df)\nplt.title(\"Anomaly: High age, more risk, few young cases where young person have stroke\")","514ea784":"sns.set(rc={'figure.figsize':(17,5)})\nsns.boxplot(x=\"work_type\", y=\"avg_glucose_level\", hue=\"smoking_status\",data=strokes_df)\nplt.title(\"Nover worked and Smoker is very high under risk\")","f351d6cd":"sns.set(rc={'figure.figsize':(17,5)})\nsns.boxplot(x=\"work_type\", y=\"avg_glucose_level\", hue=\"stroke\",data=strokes_df)\nplt.title(\"Nover worked and Smoker is very high under risk\")","2c5be9af":"g = sns.FacetGrid(strokes_df, col=\"heart_disease\", hue=\"stroke\", height=4, aspect=1.6, row=\"work_type\")\ng.map(sns.scatterplot, \"avg_glucose_level\", \"age\", alpha=.7)\ng.add_legend()","4e0f017f":"sns.displot(data=strokes_df, x=\"age\", hue=\"stroke\", multiple=\"stack\", kind=\"kde\", col=\"work_type\", row=\"smoking_status\")\nplt.title(\"Stroke and No Stroke observation per combination\")","3f9c247e":"sns.pairplot(data=strokes_df[continuous_vars+[\"stroke\"]], hue=\"stroke\")","5ea7016a":"g = sns.FacetGrid(strokes_df, col=\"work_type\", hue=\"gender\", height=4, aspect=1.6,row=\"ever_married\")\ng.map(sns.countplot, \"smoking_status\", alpha=.7)\ng.add_legend()","84c1aeab":"strokes_df.columns","57a22fac":"import researchpy as rp\nrp.summary_cont(strokes_df[['avg_glucose_level','age']].groupby(strokes_df['stroke']))","7d7ec82c":"# Compute a correlation matrix and convert to long-form\ncorr_mat = strokes_df.corr(\"kendall\").stack().reset_index(name=\"correlation\")\n\n# Draw each cell as a scatter point with varying size and color\ng = sns.relplot(\n    data=corr_mat,\n    x=\"level_0\", y=\"level_1\", hue=\"correlation\", size=\"correlation\",\n    palette=\"vlag\", hue_norm=(-1, 1), edgecolor=\".7\",\n    height=5, sizes=(50, 250), size_norm=(-.2, .8),\n)\n\n# Tweak the figure to finalize\ng.set(xlabel=\"\", ylabel=\"\", aspect=\"equal\")\ng.despine(left=True, bottom=True)\ng.ax.margins(0.25)\nfor label in g.ax.get_xticklabels():\n    label.set_rotation(90)\nfor artist in g.legend.legendHandles:\n    artist.set_edgecolor(\".1\")","fd322d30":"strokes_temp_df=strokes_df\nstrokes_temp_df[['stroke','hypertension']] = strokes_df[['stroke','hypertension']].astype('int')\ncorr = strokes_temp_df.corr()\ncorr.style.background_gradient()\ncorr.style.background_gradient().set_precision(2)","04456b8d":"---","13b37772":"Tip: grouped Summary","93feb0cd":"BI-B5: Does marriage and smoking_status is a factor leads to stroke compared to non married","4921cdb1":"#### Tip: Write what questions you are tryig to solve, and add conclusions for each questions","a5e384d8":"missing data gaps","9f23d9cb":"conclusion:\n- stroke is correlated with heart age and desease","1268868f":"##### Motive\n- What range do the observations cover?\n- What is their central tendency?\n- Are they heavily skewed in one direction?\n- Is there evidence for bimodality?\n- Are there significant outliers?","d4686381":"---","dd9e10a1":"---","17e93f3b":"---","db11b553":"---","7ce93c40":"conclusions:\n- high average glucose observed in stroke\n- high BMI above Q1 is not seen in stroke observations\n- high age is observed in stroke cases, few anomalies in young age","15e94ec1":"BI-B4: Does marriage is a factor leads to stroke compared to non married","86f214ec":"---","3b925522":"conclusion\n- rural life is slight less prone to stroke","3dfe4faf":"Target : stroke, 1 = yes,  0 = No","b58b614b":"conclusion\n - smoking doubles the risk of stroke","95b9d4f1":"---","2d51736e":"---","6d78c37c":"---","a6c42752":"## Goal   : Strokes data set exploration","d6a1363a":"- Deep understanding of data and distribution\n- Columns to consider when building features\n- Edge cases for which, data is less available\n- Anomalies and Outliers in Data","cf936e03":"#### Note:\n- Data exploration can be performed by visualization as well as statistical methods\n- for simple understanding, plots are used but when data is large or complex relationships needs to tested, statistical methods are used \/ preferred.","e70e2001":"#### Data explorations always used to\n- know your data and distribution\n- what is available in data\n- is sample of data is capturing or covering population\n- assumptions are validated by data if any\n- understanding relationship between target and predictor\n- find anomalies","59eb87fb":"##### Understand data -> know how taget variables are shaped by other data columns -> create features based on corelation -> model -> wohoo!","89ec49f9":"---","37156329":"---","e276df4d":"## Data  ","f7768618":"#### KDE plot\n\naims to approximate the underlying probability density function that generated the data by binning and counting observations. Kernel density estimation (KDE) presents a different solution to the same problem. Rather than using discrete bins, a KDE plot smooths the observations with a Gaussian kernel, producing a continuous density estimate:","1115a294":"conclusion :\n- to many private job observations\n- equal rural and urban observation\n- half observations never smoked","e70b672b":"---","23d27b9b":"##### Tip : Zipf's law\n\ntoo many unique values with most of them are having very less occurances, can be seen in categorical vars\n\n(Zipf\u2019s law: The highest occurring variable will have double the number of occurrences of the second highest occurring variable, triple the amount of the third and so on.)","0852fd0c":"---","e195c441":"# imports and installations","610b313b":"---","2dd0dbe5":"conclusion\n - self employed are at highest risk ompared to clidrens","a2bd629e":"---","a0050e49":"BI-B1: how different resident type affects risks of stroke","95b7dbae":"U-A1: count of records per category","177b7ca8":"BI-B6: Does smoker and non working person have high chance of stroke due to glucose level, how does it looks with gender?","86c52dc4":"## Author: Lirilkumar Amal","abf2109e":"# univariate analysis for all columns\nU-Axx","7d6cb757":"#  Links","f0b19c90":"### Corelation matrix between variables","a4aaa996":"---","5fb983c5":"# Data exploration  ","ad5d47f1":"---","0a4ff4db":"conclusion\n - married person have a 5 times high risk of getting stroke","4eea0b43":"conclusion\n- provate and self employed with high age are prone to stroke\n- childs are not having strokes much","734cc4a8":"BI-B3: Does smoking is a factor leads to stroke compared to non married","e5dcc84f":"---","8d9b8b0e":"## Data  Dictionary","85aefa70":"BI-A1 : How vawlue of numeric data observations falls strokes","a47dbd96":"---","59de58b9":"BI-B2: HYP: does private job empoyee are more proone to stroke?","251727de":"# Outcome expected from EDA","cb4d9244":"<hr\/>","f053d13d":"#### Pairs can be\n- Categorical and Categorical variable : grouped count plot, contingency table\n    - Contingency table: A table summarization of two categorical variables in this form is called a contingency table.\n- Categorical and Continuous variable: box plots, Z-Test\/ T-Test\n- Continuous and Continuous variable : scatter plot","f945a1fc":"---","e5e095bf":"Pearson correlation coefficient\n\nOne of the simplest method for understanding a feature\u2019s relation to the response variable is Pearson correlation coefficient, which measures linear correlation between two variables. The resulting value lies in [-1;1], with -1 meaning perfect negative correlation (as one variable increases, the other decreases), +1 meaning perfect positive correlation and 0 meaning no linear correlation between the two variables.\n\n- \u2018pearson\u2019, \u2018kendall\u2019, \u2018spearman\u2019","21dfef04":"conclusion\n - huge risk if person is married ever and smoke","82d66a64":"## Bi variate analysis : to check relationship of two variables\nBI-Axx","9fa48f2e":"UA-B1 : distribution of numberical columns","c08978cc":"conclusion :\n- There are few other genders available\n- marrieds are high in dataset"}}