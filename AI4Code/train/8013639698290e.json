{"cell_type":{"9ec4aeef":"code","f7b83b8f":"code","8a60fae1":"code","0597831c":"code","7c4431a5":"code","5499754b":"code","d072bd03":"code","a3e0b4e8":"code","427bc6ec":"code","7b548970":"code","457a64c9":"code","06585a11":"code","af58d141":"code","9b13f7a8":"code","bfcdad15":"code","f73e9151":"code","dffc11db":"code","4a0bdab6":"code","3063da3c":"code","37fa2cdc":"code","12b05e5e":"code","2bfa9a68":"code","b4c8b4eb":"code","8c0e2c16":"markdown","8e8f2800":"markdown","b70764b7":"markdown","2896bed2":"markdown","768c9aeb":"markdown","34640066":"markdown","c0fa16d2":"markdown","f3c701bb":"markdown"},"source":{"9ec4aeef":"#!pip install openpyxl\nfrom pathlib import Path\nimport os\nos.getcwd()\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_absolute_error\nfrom sklearn.metrics import mean_squared_error\n\n%matplotlib inline","f7b83b8f":"import warnings\nwarnings.filterwarnings('ignore')","8a60fae1":"df=pd.read_excel(r'..\/input\/customer-experience\/Suranjana Kajli.xlsx')","0597831c":"df.head()","7c4431a5":"df.info()","5499754b":"df.isnull().values.any()","d072bd03":"df.shape","a3e0b4e8":"df.hist(bins=50,figsize=(20,15),color='violet',lw=0)\n","427bc6ec":"sns.pairplot(df,hue='Length of Membership',palette='inferno')","7b548970":"plt.figure(figsize=(20, 12))\nmatrix = np.triu(df.corr())\nsns.heatmap(df.corr(), annot=True,linewidth=1, mask=matrix,cmap=\"inferno\");","457a64c9":"sns.scatterplot(x = 'Time on Website', y = 'Yearly Amount Spent', data = df,hue='Yearly Amount Spent',palette='inferno')\n","06585a11":"sns.scatterplot(x = 'Time on App', y = 'Yearly Amount Spent', data = df,hue='Yearly Amount Spent',palette='inferno')\n","af58d141":"sns.scatterplot(x = 'Time on App', y = 'Length of Membership', data = df,hue='Length of Membership',palette = 'inferno')\n","9b13f7a8":"sns.lmplot(x = 'Length of Membership', y = 'Yearly Amount Spent',data = df,palette='inferno')\n","bfcdad15":"X = df[['Avg. Session Length', 'Time on App', 'Time on Website', 'Length of Membership']]\ny = df['Yearly Amount Spent']","f73e9151":"from sklearn.model_selection import train_test_split\nfrom sklearn.metrics import r2_score","dffc11db":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)","4a0bdab6":"from sklearn.linear_model import LinearRegression\nLR = LinearRegression()\nLR.fit(X_train,y_train)\nLR.coef_","3063da3c":"y_pred = LR.predict(X_test)\nplt.scatter(x = y_test, y = y_pred)\nplt.xlabel('Y Test')\nplt.ylabel('Predicted Y')","37fa2cdc":"from sklearn import metrics\nfrom math import sqrt\n\nprint('MAE:',mean_absolute_error(y_test, y_pred))\nprint('MSE:',mean_squared_error(y_test, y_pred))\nprint('RMSE:',np.sqrt(mean_squared_error(y_test, y_pred)))","12b05e5e":"print('''Prediciting Test Set Result for Linear Regression''')\ny_pred = LR.predict(X_test)\nr2_lr = r2_score(y_test, y_pred)*100\nmae_lr = mean_absolute_error(y_test, y_pred)\nmse_lr = mean_squared_error(y_test, y_pred)\nprint('Accuracy of the model=',r2_lr,'Mean Absolute error=',mae_lr,'Mean Squared error=',mse_lr)","2bfa9a68":"fig, ax = plt.subplots()\nax.plot([0,1],[0,1], transform=ax.transAxes)\n\nplt.scatter(y_pred, y_test, s=500, alpha=1,marker=r'$\\clubsuit$',label=\"Luck\",facecolor='black')\nplt.xlabel(\"Prediction\")\nplt.ylabel(\"Observation\")\n\nplt.show()","b4c8b4eb":"df = pd.DataFrame( data = LR.coef_, columns = ['Coefficient'] ,index = X_train.columns)\ndf.head()","8c0e2c16":"## The Time on App show a stronger correlation with Yearly Amount Spent. In that regard the revenue obtained through the App seems to be more important. Hence,the company should focus more on the mobile app.\n","8e8f2800":"Avg. Session Length increases the Yearly Amount Spent by 25.5 units                                                           \nTime on App increases the Yearly Amount Spent by 38.7 units                                                                     \nTime on Website increases the Yearly Amount Spent by 0.3 units                                                                 \nLength of Membership increases the Yearly Amount Spent by 61.8","b70764b7":"## Well,this moel gives us 97.78% accuracy","2896bed2":"#Importing Libraries","768c9aeb":"## We can clearly see from the heatmap that the Pearson's correlation coefficient is much greater for time spent on app and Yearly Amount spent=0.5. Whereas, the Time on website has much smaller correlation with Yearly Amount Spent=-0.0026. However, we will continue to build our model for further verification.","34640066":"## Exploratory Data Analysis ","c0fa16d2":"Congratulations! You just got some contract work with an Ecommerce company based in New York City that sells clothing online but they also have in-store style and clothing advice sessions. Customers come in to the store, have sessions\/meetings with a personal stylist, then they can go home and order either on a mobile app or website for the clothes they want.\n\nThe company is trying to decide whether to focus their efforts on their mobile app experience or their website. They've hired you on contract to help them figure it out!","f3c701bb":"## Case Study"}}