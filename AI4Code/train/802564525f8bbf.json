{"cell_type":{"9fe3eddf":"code","8cfc7006":"code","d84a8951":"code","36916794":"code","fe815c56":"code","a6931c81":"code","3d40ca2d":"code","f180b81b":"code","fa2346bb":"code","03639df2":"code","f7703f19":"code","6b6881fa":"code","affab2a1":"code","de40bfbe":"code","566994b9":"code","b2a0a329":"code","01083260":"code","e0c35938":"code","bfcd3f80":"code","3614de44":"code","5cc11929":"code","cbc2da9b":"code","f7e24794":"code","14f01eb3":"code","9d603751":"code","c710a237":"code","afb57fa8":"code","b7845d4d":"code","a3d990b0":"code","674b3dd0":"code","0958e9f5":"markdown","93de382b":"markdown","707c6d8a":"markdown","a2261205":"markdown","8d74a578":"markdown","a3279352":"markdown","446cfa02":"markdown","ca9cbc51":"markdown","e484b2e1":"markdown","11af705f":"markdown","8ba982dd":"markdown","ab1521da":"markdown","2d9f68e4":"markdown","4b099bd5":"markdown","d1c7f9a3":"markdown","17af53e9":"markdown"},"source":{"9fe3eddf":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","8cfc7006":"#import numpy and pandas\nimport numpy as np\nimport pandas as pd\n\n#import visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objs as go \nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n\n#import preprocessing\nfrom sklearn import preprocessing","d84a8951":"#import data craigslistVehiclesFull.csv\ncvehiclesfull = pd.read_csv('\/kaggle\/input\/craigslist-carstrucks-data\/craigslistVehiclesFull.csv')","36916794":"#data information\ncvehiclesfull.info()","fe815c56":"#check length of columns and rows\ncvehiclesfull.shape","a6931c81":"#check statistical details\ncvehiclesfull.describe()","3d40ca2d":"#detect missing value\ncvehiclesfull.isnull().sum().sort_values(ascending=False) ","f180b81b":"#change data type of year from float to string\ncvehiclesfull['year'] = cvehiclesfull.year.astype(str)\ncvehiclesfull.info()","fa2346bb":"#detect percentage of missing value which above 60%\nchecknull = round(cvehiclesfull.isnull().sum()\/len(cvehiclesfull)*100,2).sort_values(ascending=False)\nchecknull","03639df2":"#drop column url, image url, size, and vin\n#drop url and image_url because unique value\ndf = cvehiclesfull.drop(columns=['url','image_url', 'size', 'vin'])\ndf.head()","f7703f19":"#separate numerical and categorical feature\ncategory = ['city','manufacturer','make','cylinders','fuel','title_status','transmission','drive','type','paint_color','county_name','condition','state_code','state_name','year']\nnumerical = df.drop(category, axis=1)\ncategorical = df[category]\nnumerical.head()","6b6881fa":"categorical.head()","affab2a1":"categorical.info()","de40bfbe":"numerical.info()","566994b9":"#fill value in numerical with mean\nfor num in numerical:\n    mean = numerical[num].mean()\n    numerical[num]=numerical[num].fillna(mean) ","b2a0a329":"#detect numerical missing value\nnumerical.isnull().sum().sort_values(ascending=False) ","01083260":"#fill value in categorical with mode\nfor cat in categorical:\n    mode = categorical[cat].mode().values[0]\n    categorical[cat]=df[cat].fillna(mode)","e0c35938":"#detect categorical missing value\ncategorical.isnull().sum().sort_values(ascending=False) ","bfcd3f80":"categorical.head()","3614de44":"numerical.head()","5cc11929":"#concat table categorical and numerical to create new table without missing values\ndf2 = pd.concat([categorical,numerical],axis=1)\ndf2.head()","cbc2da9b":"#outlier detection in numerical\nfig=plt.figure(figsize=(13,12))\naxes=330\n#put data numerical\nfor num in numerical:\n    axes += 1\n    fig.add_subplot(axes)\n    #set title of num\n    sns.boxplot(data = numerical, x=num, color=\"y\") \nplt.show()","f7e24794":"filterprice=df2[df2['price']<15000]\nfig=plt.figure(figsize=(15,5))\nfig.add_subplot(1,2,1)\nsns.boxplot(numerical['price'])\nplt.title('Price before dropped under 15000')\nfig.add_subplot(1,2,2)\nsns.boxplot(filterprice['price'], color=\"y\")\nplt.title('Price after dropped under 15000')","14f01eb3":"#drop column long lat and odometer because too many outliers\ndfinal = df2.drop(columns=['long', 'lat', 'odometer'])\ndfinal.head()","9d603751":"#filter by year 2010\ndata_year = dfinal[dfinal['year']=='2010.0']\ntop=data_year.sort_values('price',ascending=False).head(5)\ntoplabel=top[['manufacturer','price']]\n\nplt.figure(figsize=(12,6))\n\nx=range(5)\nplt.bar(x,top['price']\/6**9, color=['y', 'y', 'y', 'y', 'y'])\nplt.xticks(x,top['manufacturer'])\nplt.xlabel('Manufacturer of Cars')\nplt.ylabel('Price')\nplt.title('5 Most Highest Price of Manufacturer Cars in 2010')\nplt.show()\ntoplabel.head()","c710a237":"joins = dfinal[['manufacturer','type','price']]\njoin_group = joins.groupby('type').mean().head(5)\njoin_group","afb57fa8":"plt.figure(figsize=(12,6))\n\nx=range(5)\nplt.bar(x,join_group['price']\/6**9, color=\"y\")\nplt.xticks(x,join_group.index)\nplt.xlabel('Type of Cars')\nplt.ylabel('Price')\nplt.title('5 Most Highest Price Based on Type of Cars')\nplt.show()","b7845d4d":"#create correlation with hitmap\n\n#create correlation\ncorr = dfinal.corr(method = 'pearson')\n\n#convert correlation to numpy array\nmask = np.array(corr)\n\n#to mask the repetitive value for each pair\nmask[np.tril_indices_from(mask)] = False\nfig, ax = plt.subplots(figsize = (15,12))\nfig.set_size_inches(20,5)\nsns.heatmap(corr, mask = mask, vmax = 0.9, square = True, annot = True, color=\"y\")","a3d990b0":"data_type = dfinal[dfinal['type']=='sedan']\n\nfrom mpl_toolkits.mplot3d import Axes3D\nfig = plt.figure(figsize=(10,6))\nax = fig.add_subplot(111, projection='3d')\nax.scatter(data_type['year'],data_type['county_fips'],data_type['price'], s=30, color=\"y\")\nplt.show()","674b3dd0":"fig=plt.figure(figsize=(15,10))\nfig.add_subplot(2,2,1)\nsns.distplot(filterprice['county_fips'], color=\"y\", kde=False)\nplt.title('Histogram of Federal Information Processing Standards code')\n\nfig.add_subplot(2,2,2)\nsns.distplot(filterprice['weather'], color=\"y\", kde=False)\nplt.title('Histogram of historical average temperature for location in October\/November')\n\nfig.add_subplot(2,2,3)\nsns.boxplot(filterprice['price'], color=\"y\")\nplt.title('Histogram of vehicles price')\n\nplt.show()","0958e9f5":"### Cleansing","93de382b":"# USE CASE - EDA Used Cars Dataset","707c6d8a":"This simple imputation method is based on treating every variable individually, ignoring any interrelationships with other variables.This method is beneficial for simple linear models and NN. <br>\n**MEAN:** Suitable for continuous **data without outliers**","a2261205":"Percentage missing value of variable size and vin is more than 60%. So that we should drop variable size and vin drop from the table to avoid the bias.","8d74a578":"### Business Question\n1. Highest price based on type of car\n2. Highest price based on manufacturer of car in 2010\n3. Trend manufacturer base on type=sedan in 2010\n2. How many production of cars type in 2010?\n3. How many type of cars?\n4. How many county_fips for car with 6 cylinder engine?\n5. Manufacturer based on price","a3279352":"Based on boxplot visualization for numeric feature. We know that variable long, lat, and odomater has too many outliers, so that we can drop it from the table. Moreover we can see that price has so many outlier too, we can manipulate that variable","446cfa02":"#### 1. Highest Price Based on Type Car","ca9cbc51":"## Perform Visualization\n**Data visualization** refers to the techniques used to communicate data or information by encoding it as visual objects (e.g., points, lines or bars) contained in graphics. The goal is to communicate information clearly and efficiently to users. It is one of the steps in **data analysis** or **data science**.","e484b2e1":"### Pearson Correlation with Heatmap","11af705f":"### Outlier Detection\nAnomaly detection (or **outlier detection**) is the identification of rare items, events or observations which raise suspicions by differing significantly from the majority of the data.","8ba982dd":"### Distribution Plot\nThis distribution plot for **numerical features** to know distribution of the each variables","ab1521da":"Dataset has so many missing value in almost all variable, except lat, state_name, long, year, price, city, and url. We must fix it by handle missing value, because it is important to be handled as they could lead to wrong prediction or classification for any given model being used.","2d9f68e4":"### Scatter Plot 3D","4b099bd5":"### Import Data","d1c7f9a3":"### Description\n\n1. url = Link to listing\n2. city = Craigslist region in which this listing was posted\n3. city_url = Link to region page\n4. price = Price of vehicle\n5. year = Year of vehicle\n6. manufacturer = Manufacturer of vehicle\n7. make = Make of vehicle\n8. condition = Condition of vehicle\n9. cylinders = Number of cylinders of vehicle\n10. fuelFuel =  taken by vehicle\n11. odometer = Miles vehicle has been driven\n12. title_status = Title status of vehicle (e.g. clean - this vehicle has all legal documents. missing - these documents are missing)\n13. transmission = Transmission of vehicle\n14. VIN = Vehicle Identification Number\n15. drive = Drive of vehicle\n16. size = Size of vehicle\n17. type = Vehicle type\n18. paint_color = Color of vehicle\n19. image_url = Link to image of vehicle\n20. desc = Listing description provided by owner\n21. lat = Latitude of vehicle (not precise but very close)\n22. long = Longitude of vehicle (not precise but very close)","17af53e9":"## Data Preparation"}}