{"cell_type":{"de842cc8":"code","24a9e821":"code","2723f23c":"code","0bfb8744":"code","c5da3297":"code","f8a3b8c6":"code","37f2dec4":"code","169cb71a":"code","47fd7e58":"code","082b8a84":"code","1b5a4cac":"code","990fe039":"code","2cb167e2":"code","04cf700b":"code","925e4b5a":"code","e83e6694":"code","588e2ad6":"code","43fb6cd2":"code","1cb65c14":"code","d0b98f61":"code","6aa665fe":"code","771a759d":"code","bd154c5b":"code","ff226846":"code","9adf5bad":"code","1efe090a":"code","ca237bf2":"code","6a048ac9":"code","09090b18":"code","6e6adf6b":"code","4f0bec4c":"code","27aba0e4":"code","732eb779":"code","617095d8":"code","4e782a95":"code","7850665b":"code","f3f67f3e":"code","3fffaafc":"code","b2d3c0e1":"code","2d6669da":"code","a18a1dbf":"code","02446d66":"code","c482b5b4":"code","b6d6fc73":"code","cd9a312c":"markdown","004161c4":"markdown","91bb80e1":"markdown","807ea8f2":"markdown"},"source":{"de842cc8":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly\nimport plotly.graph_objs as go\nimport plotly.offline as py\nimport datetime","24a9e821":"df = pd.read_csv(\"..\/input\/air-quality-seoul\/Air_Quality_Seoul_2017-2020.csv\")","2723f23c":"df['Measurement date'] = pd.to_datetime(df['Measurement date'])","0bfb8744":"df.info()","c5da3297":"dates = [\"2018-03-05 09:00:00\", \"2018-03-05 10:00:00\", \"2018-03-06 09:00:00\", \"2018-03-06 10:00:00\"]\nStation = 117\n\nto_drop = df.loc[\n        (df['Measurement date']==dates[0]) | \n        (df['Measurement date']==dates[1]) |\n        (df['Measurement date']==dates[2]) |\n        (df['Measurement date']==dates[3])].loc[(df['Station code']==Station)]\n    \ndf.drop(to_drop.index, inplace=True)","f8a3b8c6":"entire_seoul = df.groupby(by='Measurement date').sum()","37f2dec4":"entire_seoul.drop('Station code', axis=1, inplace=True)","169cb71a":"entire_seoul.info()","47fd7e58":"entire_seoul.to_csv(\"Air_Quality_Entire_Seoul_2017-2020_Adjusted.csv\")","082b8a84":"polluents = {'SO2':[0.02,0.05,0.15,1],\n             'NO2':[0.03,0.06,0.2,2],\n             'CO':[2,9,15,50],\n             'O3':[0.03,0.09,0.15,0.5],\n             'PM2.5':[15,35,75,500],\n             'PM10':[30,80,150,600]}\n\nquality = ['Good','Normal','Bad','Very Bad']\nseoul_standard = pd.DataFrame(polluents, index=quality)\nseoul_standard","1b5a4cac":"polluents","990fe039":"data = [go.Scatter(x=entire_seoul.index,\n                   y=entire_seoul['SO2'])]\n       \n##layout object\nlayout = go.Layout(title='SO2 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date'})\n\n    \n## Figure object\nfig = go.Figure(data=data, layout=layout)\n\n\n##Adding the text and positioning it\nfig.add_annotation(x='2018-01-01 00:00:00', y=25*polluents['SO2'][0],\n            text=\"Good Level\",\n            showarrow=True,\n            arrowhead=1)\n\n##Adding horizontal line\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['SO2'][0],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['SO2'][0],\n            line=dict(\n                color=\"Green\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\n\n## Plotting\nfig.show()","2cb167e2":"data = [go.Scatter(x=entire_seoul.index,\n                   y=entire_seoul['NO2'])]\n       \n##layout object\nlayout = go.Layout(title='NO2 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date'})\n                    \n## Figure object\n\nfig = go.Figure(data=data, layout=layout)\n\n    \n\n##Adding the text and positioning it\nfig.add_annotation(x='2017-07-01 00:00:00', y=25*polluents['NO2'][0],\n            text=\"Good Level\",\n            showarrow=True,\n            arrowhead=1)\n\nfig.add_annotation(x='2018-07-01 00:00:00', y=25*polluents['NO2'][1],\n            text=\"Normal Level\",\n            showarrow=True,\n            arrowhead=1)\n\n##Adding horizontal line\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['NO2'][0],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['NO2'][0],\n            line=dict(\n                color=\"Green\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['NO2'][1],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['NO2'][1],\n            line=dict(\n                color=\"Orange\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\n\n## Plotting\npy.iplot(fig)","04cf700b":"data = [go.Scatter(x=entire_seoul.index,\n                   y=entire_seoul['O3'])]\n       \n##layout object\nlayout = go.Layout(title='O3 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date'})\n                    \n## Figure object\n\nfig = go.Figure(data=data, layout=layout)\n\n    \n\n##Adding the text and positioning it\nfig.add_annotation(x='2017-07-01 00:00:00', y=25*polluents['O3'][0],\n            text=\"Good Level\",\n            showarrow=True,\n            arrowhead=1)\n\nfig.add_annotation(x='2018-07-01 00:00:00', y=25*polluents['O3'][1],\n            text=\"Normal Level\",\n            showarrow=True,\n            arrowhead=1)\n\n##Adding horizontal line\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['O3'][0],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['O3'][0],\n            line=dict(\n                color=\"Green\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['O3'][1],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['O3'][1],\n            line=dict(\n                color=\"Orange\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\n\n## Plotting\npy.iplot(fig)","925e4b5a":"data = [go.Scatter(x=entire_seoul.index,\n                   y=entire_seoul['CO'])]\n       \n##layout object\nlayout = go.Layout(title='CO Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date'})\n                    \n## Figure object\n\nfig = go.Figure(data=data, layout=layout)\n\n    \n\n##Adding the text and positioning it\nfig.add_annotation(x='2017-07-01 00:00:00', y=25*polluents['CO'][0],\n            text=\"Good Level\",\n            showarrow=True,\n            arrowhead=1)\n\n##Adding horizontal line\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['CO'][0],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['CO'][0],\n            line=dict(\n                color=\"Green\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\n\n## Plotting\npy.iplot(fig)","e83e6694":"data = [go.Scatter(x=entire_seoul.index,\n                   y=entire_seoul['PM2.5'])]\n       \n##layout object\nlayout = go.Layout(title='PM2.5 Levels',\n                    yaxis={'title':'Mircrogram\/m3'},\n                    xaxis={'title':'Date'})\n                    \n## Figure object\n\nfig = go.Figure(data=data, layout=layout)\n\n    \n\n##Adding the text and positioning it\nfig.add_annotation(x='2017-07-01 00:00:00', y=25*polluents['PM2.5'][0],\n            text=\"Good Level\",\n            showarrow=True,\n            arrowhead=1)\n\nfig.add_annotation(x='2017-12-01 00:00:00', y=25*polluents['PM2.5'][1],\n            text=\"Normal Level\",\n            showarrow=True,\n            arrowhead=1)\n\n\n##Adding horizontal line\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['PM2.5'][0],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['PM2.5'][0],\n            line=dict(\n                color=\"Green\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['PM2.5'][1],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['PM2.5'][1],\n            line=dict(\n                color=\"Orange\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\n\n## Plotting\npy.iplot(fig)","588e2ad6":"data = [go.Scatter(x=entire_seoul.index,\n                   y=entire_seoul['PM10'])]\n       \n##layout object\nlayout = go.Layout(title='PM10 Levels',\n                    yaxis={'title':'Mircrogram\/m3'},\n                    xaxis={'title':'Date'})\n                    \n## Figure object\n\nfig = go.Figure(data=data, layout=layout)\n\n    \n\n##Adding the text and positioning it\nfig.add_annotation(x='2017-07-01 00:00:00', y=25*polluents['PM10'][0],\n            text=\"Good Level\",\n            showarrow=True,\n            arrowhead=1)\n\nfig.add_annotation(x='2017-07-01 00:00:00', y=25*polluents['PM10'][1],\n            text=\"Normal Level\",\n            showarrow=True,\n            arrowhead=1)\n\n\n##Adding horizontal line\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['PM10'][0],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['PM10'][0],\n            line=dict(\n                color=\"Green\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\nfig.add_shape(\n        # Line Horizontal\n            type=\"line\",\n            x0='2017-01-01 00:00:00',\n            y0=25*polluents['PM10'][1],\n            x1='2020-12-31 23:00:00',\n            y1=25*polluents['PM10'][1],\n            line=dict(\n                color=\"Orange\",\n                width=4,\n                dash=\"dashdot\",\n            ))\n\n\n## Plotting\npy.iplot(fig)","43fb6cd2":"entire_seoul['Year'] = entire_seoul.index.year","1cb65c14":"entire_seoul","d0b98f61":"entire_seoul_by_year = entire_seoul.groupby(by='Year').sum()\nentire_seoul_by_year","6aa665fe":"## Data for each gas\n\ntrace0 = [go.Scatter(x=entire_seoul_by_year.index,y=entire_seoul_by_year['SO2'])]\ntrace1 = [go.Scatter(x=entire_seoul_by_year.index,y=entire_seoul_by_year['NO2'])]\ntrace2 = [go.Scatter(x=entire_seoul_by_year.index,y=entire_seoul_by_year['O3'])]\ntrace3 = [go.Scatter(x=entire_seoul_by_year.index,y=entire_seoul_by_year['CO'])]\ntrace4 = [go.Scatter(x=entire_seoul_by_year.index,y=entire_seoul_by_year['PM10'])]\ntrace5 = [go.Scatter(x=entire_seoul_by_year.index,y=entire_seoul_by_year['PM2.5'])]","771a759d":"##layout objects for each gas\n\nlayout0 = go.Layout(title='SO2 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date', 'nticks':4},\n                    )\n\nlayout1 = go.Layout(title='NO2 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date', 'nticks':4})\n\nlayout2 = go.Layout(title='O3 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date', 'nticks':4})\n\nlayout3 = go.Layout(title='CO Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Date', 'nticks':4})\n\nlayout4 = go.Layout(title='PM2.5 Levels',\n                    yaxis={'title':'Microgram\/m3'},\n                    xaxis={'title':'Date', 'nticks':4})\n\nlayout5 = go.Layout(title='PM10 Levels',\n                    yaxis={'title':'Microgram\/m3'},\n                    xaxis={'title':'Date', 'nticks':4})","bd154c5b":"fig = go.Figure(data=trace0, layout=layout0)\npy.iplot(fig)","ff226846":"fig = go.Figure(data=trace1, layout=layout1)\npy.iplot(fig)","9adf5bad":"fig = go.Figure(data=trace2, layout=layout2)\npy.iplot(fig)","1efe090a":"fig = go.Figure(data=trace3, layout=layout3)\npy.iplot(fig)","ca237bf2":"fig = go.Figure(data=trace4, layout=layout4)\npy.iplot(fig)","6a048ac9":"fig = go.Figure(data=trace5, layout=layout5)\npy.iplot(fig)","09090b18":"entire_seoul['Month'] = entire_seoul.index.month\nentire_seoul","6e6adf6b":"m2017 = pd.DataFrame(entire_seoul[['SO2', 'NO2', 'O3', 'CO', 'PM10', 'PM2.5']].groupby(by=entire_seoul['Month'].loc[entire_seoul['Year']==2017]).sum())\nm2018 = pd.DataFrame(entire_seoul[['SO2', 'NO2', 'O3', 'CO', 'PM10', 'PM2.5']].groupby(by=entire_seoul['Month'].loc[entire_seoul['Year']==2018]).sum())\nm2019 = pd.DataFrame(entire_seoul[['SO2', 'NO2', 'O3', 'CO', 'PM10', 'PM2.5']].groupby(by=entire_seoul['Month'].loc[entire_seoul['Year']==2019]).sum())\nm2020 = pd.DataFrame(entire_seoul[['SO2', 'NO2', 'O3', 'CO', 'PM10', 'PM2.5']].groupby(by=entire_seoul['Month'].loc[entire_seoul['Year']==2020]).sum())","4f0bec4c":"m2017","27aba0e4":"trace_monthsSO2 = [go.Bar(x=m2017['SO2'].index, y=m2017['SO2'], name='2017'),\n                go.Bar(x=m2018['SO2'].index, y=m2018['SO2'], name='2018'),\n                go.Bar(x=m2019['SO2'].index, y=m2019['SO2'], name='2019'),\n                go.Bar(x=m2020['SO2'].index, y=m2020['SO2'], name='2020')]\n\n\n\nlayout_monthsSO2 = go.Layout(title='SO2 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Month',\n                           'tickmode':'array',\n                           'tickvals':m2017['O3'].index,\n                           'ticktext':['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']},\n                    )","732eb779":"fig = go.Figure(data=trace_monthsSO2, layout=layout_monthsSO2)\npy.iplot(fig)","617095d8":"trace_monthsNO2 = [go.Bar(x=m2017['NO2'].index, y=m2017['NO2'], name='2017'),\n                go.Bar(x=m2018['NO2'].index, y=m2018['NO2'], name='2018'),\n                go.Bar(x=m2019['NO2'].index, y=m2019['NO2'], name='2019'),\n                go.Bar(x=m2020['NO2'].index, y=m2020['NO2'], name='2020')]\n\n\n\nlayout_monthsNO2 = go.Layout(title='NO2 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Month',\n                           'tickmode':'array',\n                           'tickvals':m2017['O3'].index,\n                           'ticktext':['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']},\n                    )","4e782a95":"fig = go.Figure(data=trace_monthsNO2, layout=layout_monthsNO2)\npy.iplot(fig)","7850665b":"trace_monthsO3 = [go.Bar(x=m2017['O3'].index, y=m2017['O3'], name='2017'),\n                go.Bar(x=m2018['O3'].index, y=m2018['O3'], name='2018'),\n                go.Bar(x=m2019['O3'].index, y=m2019['O3'], name='2019'),\n                go.Bar(x=m2020['O3'].index, y=m2020['O3'], name='2020')]\n\n\n\nlayout_monthsO3 = go.Layout(title='O3 Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Month',\n                           'tickmode':'array',\n                           'tickvals':m2017['O3'].index,\n                           'ticktext':['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']},\n                    )","f3f67f3e":"fig = go.Figure(data=trace_monthsO3, layout=layout_monthsO3)\npy.iplot(fig)","3fffaafc":"trace_monthsCO = [go.Bar(x=m2017['CO'].index, y=m2017['CO'], name='2017'),\n                go.Bar(x=m2018['CO'].index, y=m2018['CO'], name='2018'),\n                go.Bar(x=m2019['CO'].index, y=m2019['CO'], name='2019'),\n                go.Bar(x=m2020['CO'].index, y=m2020['CO'], name='2020')]\n\n\n\nlayout_monthsCO = go.Layout(title='CO Levels',\n                    yaxis={'title':'Level (ppm)'},\n                    xaxis={'title':'Month',\n                           'tickmode':'array',\n                           'tickvals':m2017['CO'].index,\n                           'ticktext':['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']},\n                    )","b2d3c0e1":"m2017","2d6669da":"fig = go.Figure(data=trace_monthsCO, layout=layout_monthsCO)\npy.iplot(fig)","a18a1dbf":"trace_monthsPM10 = [go.Bar(x=m2017['PM10'].index, y=m2017['PM10'], name='2017'),\n                go.Bar(x=m2018['PM10'].index, y=m2018['PM10'], name='2018'),\n                go.Bar(x=m2019['PM10'].index, y=m2019['PM10'], name='2019'),\n                go.Bar(x=m2020['PM10'].index, y=m2020['PM10'], name='2020')]\n\n\n\nlayout_monthsPM10 = go.Layout(title='PM10 Levels',\n                    yaxis={'title':'Microgram\/m3'},\n                    xaxis={'title':'Month',\n                           'tickmode':'array',\n                           'tickvals':m2017['PM10'].index,\n                           'ticktext':['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']},\n                    )","02446d66":"fig = go.Figure(data=trace_monthsPM10, layout=layout_monthsPM10)\n\n\npy.iplot(fig)","c482b5b4":"trace_monthsPM25 = [go.Bar(x=m2017['PM2.5'].index, y=m2017['PM2.5'], name='2017'),\n                go.Bar(x=m2018['PM2.5'].index, y=m2018['PM2.5'], name='2018'),\n                go.Bar(x=m2019['PM2.5'].index, y=m2019['PM2.5'], name='2019'),\n                go.Bar(x=m2020['PM2.5'].index, y=m2020['PM2.5'], name='2020')]\n\n\n\nlayout_monthsPM25 = go.Layout(title='PM2.5 Levels',\n                    yaxis={'title':'Microgram\/m3'},\n                    xaxis={'title':'Month',\n                           'tickmode':'array',\n                           'tickvals':m2017['PM2.5'].index,\n                           'ticktext':['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']})","b6d6fc73":"fig = go.Figure(data=trace_monthsPM25, layout=layout_monthsPM25)\n\npy.iplot(fig)","cd9a312c":"## Analysis year by year","004161c4":"If you want to see more in depth thoughts on this analysis, please visit my blog: https:\/\/datasciencerecruit.com\/","91bb80e1":"## Analysis month by month","807ea8f2":"## After the data conversion from the previous files, we'll do an analysis on the complete data as well as predictions for it."}}