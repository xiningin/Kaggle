{"cell_type":{"4329a66d":"code","075ab53e":"code","95ccaf5c":"code","818f485e":"code","57c55acc":"code","6d9534e8":"code","95f17d42":"code","9e6f75d0":"code","5163981e":"code","6a74e6cb":"code","2dc171cf":"code","5a781728":"code","14ea0d3c":"code","9aebc8fd":"code","4e524c09":"code","186cf971":"code","55c82ab8":"code","c10e5dcb":"code","9d9ae927":"code","9493b4eb":"code","cb230ac0":"code","e3beae71":"code","2133ad11":"code","29afcd97":"code","f6a2f00d":"code","78398599":"code","0bfd84a7":"code","63c6e2c7":"code","5e761839":"code","54179a92":"code","f92b79f6":"code","905301d4":"code","fdbb146a":"code","a1ad31a3":"code","173361f7":"code","a6a854c2":"code","07e34dcd":"code","9a084787":"code","0cb59376":"code","c2719839":"code","2f5b3144":"code","831713e5":"code","2888d8cd":"code","4be21790":"code","90ace7e4":"code","c4baff27":"code","a79489d2":"code","2d0ff7ea":"code","87a4ebcb":"code","629891f9":"code","0756ee94":"code","07a63b05":"code","0d42d950":"code","4c5c0b12":"code","969b6b61":"code","5844e01e":"code","3e3acfeb":"code","406dc9c4":"code","ca6883c0":"code","48d9c55f":"code","417b973e":"code","6c4199f3":"code","fc121ba9":"markdown","986444fd":"markdown","1f2fa1b0":"markdown","12ed06c4":"markdown","e7d9e9b5":"markdown","a4a36571":"markdown","c2aa84a9":"markdown","d0d4fc05":"markdown","34127e18":"markdown","0b2e9f80":"markdown","fd4906ba":"markdown","4c2a82f7":"markdown","fcf787e2":"markdown","85e55a51":"markdown","c7dd0222":"markdown","ba474c50":"markdown","fc126b58":"markdown","c5cf451c":"markdown","51969659":"markdown","ca213d22":"markdown","8b16e321":"markdown","97a15a5e":"markdown","53a02442":"markdown","cecceb69":"markdown","b86e7c4a":"markdown","d395365e":"markdown","c22d1d3f":"markdown","79708c40":"markdown","e6bb9945":"markdown","6abe32ae":"markdown","46a9ec94":"markdown","d7439b01":"markdown","7c6b3dc9":"markdown","8f3758d0":"markdown","6dbad6f7":"markdown","f0637b1b":"markdown","39999a3c":"markdown","6827d7f0":"markdown","7af7bdff":"markdown","7026f242":"markdown","054d00f3":"markdown","607a38f0":"markdown","c779ca9c":"markdown","0047dc08":"markdown","217fd690":"markdown","3ec4566a":"markdown","acfe76f7":"markdown","ec51a7af":"markdown","741e2ad6":"markdown","7e18c921":"markdown","716b285f":"markdown","2fd3587e":"markdown","7767020c":"markdown","ff2ae69a":"markdown","e66cf5a6":"markdown","845e09f0":"markdown","2843f910":"markdown","cd6189cd":"markdown","280c03b9":"markdown","3ba7a7a6":"markdown","f2ab333b":"markdown","cfc92f7c":"markdown","7a9adec2":"markdown","55f01ef1":"markdown","efaacf42":"markdown","eb400e68":"markdown","18370202":"markdown","01aff1b7":"markdown","35412c02":"markdown","292c0f0e":"markdown","9bd88b77":"markdown","1508cc67":"markdown","44942c15":"markdown","765063d4":"markdown","40dce692":"markdown","3c6f9af9":"markdown","0e70f975":"markdown","0c89154b":"markdown","ea00816e":"markdown","df6f9111":"markdown","2463a444":"markdown","3c80b488":"markdown","0d8ba618":"markdown","302436c2":"markdown","14222d5d":"markdown","16948799":"markdown","54c4e940":"markdown","f7129ad4":"markdown","f11a3088":"markdown","12c748f6":"markdown","8e6eed9f":"markdown","bff79bdf":"markdown","15552563":"markdown","66717b12":"markdown","46ce6244":"markdown","5e1cefe5":"markdown","884d2fb6":"markdown","902e5ef9":"markdown","99858ace":"markdown","5aa54cc4":"markdown","f7aab4ff":"markdown","55105004":"markdown","fe4a21ec":"markdown","acabcf21":"markdown"},"source":{"4329a66d":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npd.set_option(\"display.max_columns\", None)","075ab53e":"df = pd.read_csv(\"..\/input\/police\/police.csv\")","95ccaf5c":"df.shape","818f485e":"df.head()","57c55acc":"df.isnull().sum()","6d9534e8":"df = df.drop(columns=[\"county_name\", \"state\", \"fine_grained_location\", \"county_fips\"], axis=1)","95f17d42":"df.shape","9e6f75d0":"df = df.dropna(axis=0, subset=[\"driver_gender\"])\ndf.isnull().sum()","5163981e":"df.shape","6a74e6cb":"df[\"is_arrested\"] = df[\"is_arrested\"].astype(\"bool\")\ndf[\"is_arrested\"]","2dc171cf":"df[\"stop_datetime\"] = pd.to_datetime(df[\"stop_date\"] + \" \" + df[\"stop_time\"])\ndf[\"stop_datetime\"]","5a781728":"df = df.set_index(\"stop_datetime\")\ndf.columns","14ea0d3c":"df[\"violation\"].value_counts()","9aebc8fd":"female_drivers = df[df[\"driver_gender\"] == \"F\"]\nmale_drivers = df[df[\"driver_gender\"] == \"M\"]","4e524c09":"female_drivers[\"violation\"].value_counts(normalize=True) * 100","186cf971":"male_drivers[\"violation\"].value_counts(normalize=True) * 100","55c82ab8":"female_speeding = female_drivers[female_drivers[\"violation\"] == \"Speeding\"]\nmale_speeding = male_drivers[male_drivers[\"violation\"] == \"Speeding\"]","c10e5dcb":"female_speeding[\"stop_outcome\"].value_counts(normalize=True) * 100","9d9ae927":"male_speeding[\"stop_outcome\"].value_counts(normalize=True) * 100","9493b4eb":"df[\"search_conducted\"] = df[\"search_conducted\"].astype(\"bool\")","cb230ac0":"round(df[\"search_conducted\"].value_counts(normalize=True) * 100, 3)","e3beae71":"round(female_drivers[\"search_conducted\"].value_counts(normalize=True) * 100, 3)","2133ad11":"round(male_drivers[\"search_conducted\"].value_counts(normalize=True) * 100, 3)","29afcd97":"round(df.groupby(\"driver_gender\")[\"search_conducted\"].mean() * 100, 3)","f6a2f00d":"df.groupby([\"driver_gender\", \"violation\"])[\"search_conducted\"].mean()","78398599":"df.groupby([\"violation\", \"driver_gender\"])[\"search_conducted\"].mean()","0bfd84a7":"print(f'{len(df[df[\"search_type\"] == \"Protective Frisk\"])} times ``Protective Frisk`` was the only search type.')","63c6e2c7":"df[\"frisk\"] = df[\"search_type\"].str.contains(\"Protective Frisk\", na=False, case=False)\nround(df[\"frisk\"].value_counts(normalize=True) * 100, 3)","5e761839":"search_true =df[df[\"search_conducted\"] == True]\nround(search_true.groupby(\"driver_gender\")[\"frisk\"].mean() * 100, 3)","54179a92":"df[\"hour\"] = df[\"stop_time\"].str.split(\":\", expand=True)[0]\ndf[\"hour\"]","f92b79f6":"hourly_arrest_rate = df.groupby(\"hour\")[\"is_arrested\"].mean()","905301d4":"plt.figure(figsize=(12,4), dpi=200)\nsns.lineplot(x=hourly_arrest_rate.index, y=hourly_arrest_rate)\nplt.xlabel(\"Hour\")\nplt.ylabel(\"Arrest Rate\")\nplt.title(\"Arrest Rate by Time of Day\")","fdbb146a":"round(df[\"drugs_related_stop\"].value_counts(normalize=True) * 100, 3)","a1ad31a3":"df[\"year\"] = df[\"stop_date\"].str.split(\"-\", expand=True)[0]\nannual_drug_rate = df.groupby(\"year\")[\"drugs_related_stop\"].sum()","173361f7":"plt.figure(figsize=(12,4), dpi=200)\nsns.lineplot(x=annual_drug_rate.index, y=annual_drug_rate)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Drug Rate\")\nplt.title(\"Annual Drug Rate\");","a6a854c2":"annual_search_rate = df.groupby(\"year\")[\"search_conducted\"].sum()\nannual = pd.concat([annual_search_rate, annual_drug_rate], axis=1)\nannual","07e34dcd":"fig, axes = plt.subplots(nrows=2, ncols=1, figsize=(12,8), dpi=200)\naxes[0].plot(annual.index, annual[\"search_conducted\"])\naxes[0].set_xlabel(\"Year\")\naxes[0].set_ylabel(\"Searches\")\naxes[0].set_title(\"Annual Search Conducted\")\n\n\naxes[1].plot(annual.index, annual[\"drugs_related_stop\"])\naxes[1].set_xlabel(\"Year\")\naxes[1].set_ylabel(\"Stops\")\naxes[1].set_title(\"Annual Drug Related Stops\")\n\nfig.tight_layout()","9a084787":"all_zones = pd.crosstab(df[\"district\"],df[\"violation\"])\nall_zones","0cb59376":"k_zones = all_zones.loc[\"Zone K1\": \"Zone K3\"]\nk_zones","c2719839":"weather = pd.read_csv(\"..\/input\/weather\/weather.csv\")\nweather.loc[:,[\"TMIN\", \"TAVG\", \"TMAX\"]].describe()","2f5b3144":"weather.head()","831713e5":"weather[[\"TMIN\", \"TAVG\", \"TMAX\"]].plot(kind = \"box\")","2888d8cd":"weather[\"TDIFF\"] =weather[\"TMIN\"] - weather[\"TMAX\"]\nround(weather[\"TDIFF\"].describe(), 3)","4be21790":"sns.histplot(x=\"TDIFF\", data=weather, bins=20, kde=True)","90ace7e4":"WT = weather.loc[:,\"WT01\":\"WT22\"]\nWT[\"bad_conditions\"] = WT.apply(np.sum, axis=1)\nWT[\"bad_conditions\"] = WT[\"bad_conditions\"].fillna(0)\nsns.histplot(x=\"bad_conditions\", data=WT, bins=8);","c4baff27":"WT[\"bad_conditions\"].value_counts(dropna = False).sort_index()","a79489d2":"mapping = {\n    0: \"good\",\n    1: \"bad\",\n    2: \"bad\",\n    3: \"bad\",\n    4: \"bad\",\n    5: \"worse\",\n    6: \"worse\",\n    7: \"worse\",\n    8: \"worse\",\n    9: \"worse\"\n}\n\nWT[\"rating\"] = WT[\"bad_conditions\"].replace(mapping)\nWT[\"rating\"].value_counts()","2d0ff7ea":"cats = [\"good\", \"bad\", \"worse\"]\nWT[\"rating\"] = pd.Categorical(WT[\"rating\"], ordered = True, categories = cats)\nWT[\"rating\"]","87a4ebcb":"weather[\"rating\"] = WT[\"rating\"]\nweather[\"bad_conditions\"] = WT[\"bad_conditions\"]\nweather_rating = weather[[\"DATE\", \"rating\"]]","629891f9":"df = df.reset_index()","0756ee94":"combined = df.stop_date.str.cat(df.stop_time, sep=' ')\ndf['stop_datetime'] = pd.to_datetime(combined)","07a63b05":"df['stop_datetime']","0d42d950":"weather_rating.DATE","4c5c0b12":"ri_weather = pd.merge(left=df, right=weather_rating, how=\"left\", left_on=df.stop_date, right_on=weather_rating.DATE)\nri_weather.drop(columns=\"key_0\", inplace=True)\nri_weather.head()","969b6b61":"round(ri_weather[\"is_arrested\"].mean(), 3)","5844e01e":"arrest_rate = ri_weather.groupby([\"rating\", \"violation\"])[\"is_arrested\", \"violation\"].mean()","3e3acfeb":"round(arrest_rate.loc[\"bad\", \"Moving violation\"], 4)","406dc9c4":"round(arrest_rate.loc[\"good\",\"Speeding\"], 4)","ca6883c0":"round(arrest_rate.loc[\"bad\",\"Speeding\"], 4)","48d9c55f":"round(arrest_rate.loc[\"worse\",\"Speeding\"], 4)","417b973e":"arrest_rate.unstack()","6c4199f3":"ri_weather.pivot_table(index=\"violation\", columns=\"rating\", values=\"is_arrested\").T","fc121ba9":"***","986444fd":"## Tallying violations by district\n\nThe state of **Rhode Island** is broken into six police districts, also known as zones. How do the zones compare in terms of what violations are caught by police?\n\nIn this part of our analysis, I'll create a frequency table to determine how many violations of each type took place in each of the six zones. Then, I'll filter the table to focus on the ``\"K\"`` zones, which I'll examine further in the next part of analysis.","1f2fa1b0":"***","12ed06c4":"***","e7d9e9b5":"***","a4a36571":"***","c2aa84a9":"The histogram about the difference between the maximum and minimum temperatures shows normal distribution.","d0d4fc05":"***","34127e18":"***","0b2e9f80":"***","fd4906ba":"***","4c2a82f7":"Most of the stops does not end up to a search conducted. But is this the case for both male and female drivers? Let's compare search rates by gender to answer this question.","fcf787e2":"## Comparing search rates by gender\n\nI will compare the rates at which **female** and **male** drivers are searched during a traffic stop. Remember that the vehicle search rate across all stops is about **3.8%**.\n\nFirst, I'll filter the ``DataFrame`` by gender and calculate the search rate for each group separately. Then, I'll perform the same calculation for both genders at once using a ``.groupby()``.","85e55a51":"## Combining object columns\n\nCurrently, the date and time of each traffic stop are stored in separate object columns: ``stop_date`` and ``stop_time``.\n\nI'll combine these two columns into a single column, and then convert it to ``datetime`` format. This will enable convenient date-based attributes that I'll use later in the course.","c7dd0222":"***","ba474c50":"## Plotting drug-related stops\n\nIn a small portion of traffic stops, drugs are found in the vehicle during a search. I'll assess whether these **drug-related stops** are becoming more common over time.\n\nThe Boolean column ``drugs_related_stop`` indicates whether drugs were found during a given stop. I'll calculate the **annual drug rate** by **resampling** this column, and then I'll use a line plot to visualize how the rate has changed over time.","fc126b58":"***","c5cf451c":"This is the end of my analysis. We end up making conclusions about various topics. It was a great experince for me and also I really enjoyed it. I hope you enjoyed it too.\n\n\n# THE END.","51969659":"***","ca213d22":"There are so many missing values. Also some columns does not usefull to my analysis. I will drop ``county_name`` , ``county_fips``, ``fine_grained_location`` because they only contains missing values. I will also drop ``state`` column because all traffic stops took place in one state which is Rhode Island. Let's drop those columns.","8b16e321":"## Plotting the hourly arrest rate\n\nI'll create a line plot from the ``hourly_arrest_rate`` object. A line plot is appropriate in this case because it will be showing how a quantity changes over time.\n\nThis plot should help us to spot some trends that may not have been obvious when examining the raw numbers!","97a15a5e":"***","53a02442":"## Merging the DataFrames\n\nNow I'll ``merge`` the ``df`` and ``weather_rating`` ``DataFrames`` into a new ``DataFrame``, ``ri_weather``.\n\nThe ``DataFrames`` will be joined using the ``stop_date`` column from ``df`` and the ``DATE`` column from ``weather_rating``. Thankfully the date formatting matches exactly, which is not always the case!\n\nOnce the merge is complete, I'll set ``stop_datetime`` as the index, which is the column I saved in the previous exercise.","cecceb69":"## Changing the data type to category\n\nSince the ``rating`` column only has a few possible values, I'll change its data type to ``category`` in order to store the data more efficiently. I'll also specify a logical order for the categories, which will be useful for future exercises.","b86e7c4a":"***","d395365e":"Female drivers tend to commit speeding %13 more than male drivers. But what about outcomes? Let's work on comparing speeding outcomes by gender.\n\n\n## Comparing speeding outcomes by gender\n\nWhen a driver is pulled over for speeding, many people believe that gender has an impact on whether the driver will receive a ticket or a warning. Can we find evidence of this in the dataset?\n\nFirst, let's create two ``DataFrames`` of drivers who were stopped for ``speeding``: one containing ***females*** and the other containing ***males***.\n\nThen, for each **gender**, I'll use the ``stop_outcome`` column to calculate what percentage of stops resulted in a ``\"Citation\"`` (meaning a ticket) versus a ``\"Warning\"``.","c22d1d3f":"***","79708c40":"## Plotting the temperature\n\nI'll examine the ``temperature`` columns from the ``weather`` dataset to assess whether the data seems trustworthy. First I'll print the summary statistics, and then you'll visualize the data using a **box plot**.\n\nWhen deciding whether the values seem reasonable, keep in mind that the temperature is measured in degrees **Fahrenheit**, not Celsius!","e6bb9945":"***","6abe32ae":"***","46a9ec94":"***","d7439b01":"***","7c6b3dc9":"***","8f3758d0":"***","6dbad6f7":"***","f0637b1b":"***","39999a3c":"## Calculating the hourly arrest rate\n\nAre you more likely to get arrested at a certain time of day? Are drug-related stops on the rise? In this part of our analysis, we will answer these and other questions by analyzing the dataset visually, since plots can help us to understand trends in a way that examining the raw data cannot.\n\nWhen a police officer stops a driver, a small percentage of those stops ends in an arrest. This is known as the **arrest rate**. Let's find out whether the arrest rate varies by time of day.\n\nFirst, I'll calculate the arrest rate across all stops. Then, I'll calculate the **hourly arrest rate** by using the ``hour`` attribute of the ``index``. The hour ranges from ``0`` to ``23``, in which:\n\n``0 = midnight``<br>\n``12 = noon`` <br>\n``23 = 11 PM``\n","6827d7f0":"***","7af7bdff":"***","7026f242":"## Reshaping the arrest rate data\n\nIn this last part of my analysis, I'll start by **reshaping** the ``arrest_rate`` ``Series`` into a ``DataFrame``. This is a useful step when working with any multi-indexed ``Series``, since it enables you to access the full range of ``DataFrame`` methods.\n\nThen, I'll create the exact same ``DataFrame`` using a ``pivot table``. This is a great example of how pandas often gives you more than one way to reach the same result!","054d00f3":"## Fixing a data type\n\nWe know that the ``is_arrested`` column currently has the ``object`` data type. In this analysis, I'll change the data type to ``bool``, which is the most suitable type for a column containing ``True`` and ``False`` values.\n\nFixing the data type will enable us to use mathematical operations on the ``is_arrested`` column that would not be possible otherwise.","607a38f0":"***","c779ca9c":"***","0047dc08":"## Plotting the temperatur difference\n\nNow I'll continue to assess ``whether`` the dataset seems trustworthy by plotting the difference between the maximum and minimum temperatures.","217fd690":"Our hypotesis about the reasons of increase in the annual drug related stops is wrong. Although annual search conducted rate decreased, annual drug related stops increased dramatically. What about police zones? ","3ec4566a":"***","acfe76f7":"## Adding a second factor to the analysis\n\n\nEven though the search rate for males is much higher than for females, it's possible that the difference is mostly due to a second factor.\n\nFor example, we might hypothesize that the search rate varies by violation type, and the difference in search rate between males and females is because they tend to commit different violations.\n\nWe can test this hypothesis by examining the search rate for each combination of gender and violation. If the hypothesis was true, we would find that males and females are searched at about the same rate for each violation. Let's find out below if that's the case!","ec51a7af":"***","741e2ad6":"## Examining traffic violations\n\nLet's count the unique values in the ``violation`` column, to see what violations are being committed by all drivers.","7e18c921":"***","716b285f":"***","2fd3587e":"***","7767020c":"We are ready to start finding answers to our questions.\n\n\nLet's start with gender. Does the gender of a driver have an impact on police behavior during a traffic stop? We will explore that question while practicing **filtering, grouping, method chaining, Boolean math, string methods, and more!**","ff2ae69a":"# I will be analyzing a dataset of traffic stops in Rhode Island that was collected by the Stanford Open Policing Project.\n\n### I will be trying to answer questions below by exploratory data analysis. Questions are;\n- Do men or women speed more often?\n- Does gender affect who gets searched during a stop?\n- During a search, how often is the driver frisked?\n- Which year had the least number of stops?\n- How does drug activity change by time of day?\n- Do most stops occur at night?\n\nFirst, it is important to get familiarize with the dataset. Let's start analyzing data by importing essential libraries.","e66cf5a6":"When you know that a specific column will be critical to your analysis, and only a small fraction of rows are missing a value in that column, it often makes sense to remove those rows from the dataset.\n\nDuring this analysis, the ``driver_gender`` column will be critical to many of my analyses. Because only a small fraction of rows are missing ``driver_gender``, I'll drop those rows from the dataset.","845e09f0":"## Selecting from a multi-indexed series\n\n\nThe output of a single ``.groupby()`` operation on multiple columns is a ``Series`` with a ``MultiIndex``. Working with this type of object is similar to working with a ``DataFrame``:\n\nThe ``outer`` index level is like the ``DataFrame`` rows.\nThe ``inner`` index level is like the ``DataFrame`` columns.\nNow we will practice accessing data from a multi-indexed ``Series`` using the ``.loc[]`` accessor.","2843f910":"## Rating the weather conditions\n\nI counted the number of bad weather conditions each day. Now, I'll use the counts to create a *rating system** for the weather.\n\nThe counts range from ``0`` to ``9``, and should be converted to ratings as follows:\n\n*   Convert ``0`` to ``'good'``\n*   Convert ``1`` through ``4`` to ``'bad'``\n*   Convert ``5`` through ``9`` to ``'worse'``","cd6189cd":"## Counting bad weather conditions\n\nThe ``weather`` ``DataFrame`` contains ``20`` columns that start with ``'WT'``, each of which represents a bad weather condition. For example:\n\n*   ``WT05`` indicates ``\"Hail\"``\n*   ``WT11`` indicates ``\"High or damaging winds\"``\n*   ``WT17`` indicates ``\"Freezing rain\"``\n\nFor every row in the dataset, each ``WT`` column contains either a ``1`` (meaning the condition was present that day) or ``NaN`` (meaning the condition was not present).\n\nI'll quantify ``\"how bad\"`` the weather was each day by counting the number of ``1`` values in each row.","280c03b9":"***","3ba7a7a6":"***","f2ab333b":"***","cfc92f7c":"***","7a9adec2":"All done. Let's keep going.","55f01ef1":"***","efaacf42":"%1,875 of the speeding stops ends up to a search for female drivers. What is the case for male drivers?","eb400e68":"***","18370202":"In this part of the analysis, I will use a **second dataset** to explore the impact of **weather conditions** on police behavior during traffic stops. I will practice **merging** and **reshaping** datasets, assessing whether a data source is trustworthy, working with **categorical** data, and other advanced skills.","01aff1b7":"***","35412c02":"## Comparing violations by gender\n\nThe question we're trying to answer is whether male and female drivers tend to commit different types of traffic violations.\n\nI'll first create a DataFrame for each gender, and then analyze the ``violations`` in each DataFrame separately.","292c0f0e":"In 300 searches only 1 search included ``Protective Frisk`` as only or one of search type. What about frisk rates by gender?","9bd88b77":"***","1508cc67":"As we can see better by those results, whatever the reason for the stop, police tend to conduct a search to male drivers so much more than female drivers. That is our first conclusion so far in this explanatory data analysis. Now let's jump into another analysis about ``search_conducted`` column.","44942c15":"Again male drivers getting more searches for frisk. We proved that gender has an huge impact. \n\n\nNow let's calculate hourly arrest rate. Does the hour of the day has an impact on arrest rate? Let's find out!","765063d4":"Although Citation and Warning is fairly close to each other, Arrest Driver is almost three times more for male drivers. Given our sample size, this may lead to conclusion about outcomes of speeding by gender. Now, let's dive into search rate.","40dce692":"***","3c6f9af9":"## Calculating the search rate\n\nDuring a traffic stop, the police officer sometimes conducts a search of the vehicle. Let's calculate the percentage of all stops that result in a vehicle search, also known as the **search rate**.\n\n\nFirstly I'll change the data type of `search_conducted` column to Boolean Series.","0e70f975":"***","0c89154b":"***","ea00816e":"***","df6f9111":"***","2463a444":"***","3c80b488":"***","0d8ba618":"***","302436c2":"## Preparing the DataFrames\n\nIt is time to prepare the **traffic stop** and **weather rating** ``DataFrames`` so that they're ready to be merged:\n\nWith the ``df`` ``DataFrame``, I'll move the ``stop_datetime`` index to a ``column`` since the index will be lost during the merge.\n\nWith the ``weather`` ``DataFrame``, I'll select the ``DATE`` and ``rating`` columns and put them in a new ``DataFrame``.","14222d5d":"***","16948799":"***","54c4e940":"***","f7129ad4":"## Counting protective frisks\n\n\nDuring a vehicle search, the police officer may pat down the driver to check if they have a weapon. This is known as a ``\"protective frisk.\"``\n\nI'll first check to see how many times \"Protective Frisk\" was the only search type. Then, I'll use a string method to locate all instances in which the driver was frisked.","f11a3088":"***","12c748f6":"Now let's set ``stop_datetime`` column as the DataFrame's index.","8e6eed9f":"***","bff79bdf":"***","15552563":"***","66717b12":"***","46ce6244":"It is clear that annual drug rate increased over time dramatically. Is this because also the rate of vehicle searches also increasing? Let's find out!","5e1cefe5":"%1,875 of the speeding stops ends up to a search for male drivers. That is more than two times compared to female drivers. Is this mean male drivers getting searched more just because of their gender? Or is there another reason? Let's add a second factor to the analysis.","884d2fb6":"***","902e5ef9":"***","99858ace":"## Comparing arrest rates by weather rating\n\nDo police officers arrest drivers more often when the weather is bad? Let's find out below!\n\n- **First**, I'll calculate the **overall arrest rate**.\n\n- **Then**, I'll calculate the **arrest rate** for each of the **weather ratings** I previously assigned.\n\n- **Finally**, I'll add **violation type** as a second factor in the analysis, to see if that accounts for any differences in the arrest rate.\n\nSince I previously defined a logical order for the weather categories, ``good < bad < worse``, they will be sorted that way in the results.","5aa54cc4":"***","f7aab4ff":"## Comparing frisk rates by gender\n\n\nI'll compare the rates at which female and male drivers are frisked during a search. Are males frisked more often than females, perhaps because police officers consider them to be higher risk?\n\nBefore doing any calculations, it's important to filter the ``DataFrame`` to only include the relevant subset of data, namely stops in which a search was conducted.","55105004":"We can clearly see that in midnight it is more likely to get arrested. What about drug-realted stops?","fe4a21ec":"***","acabcf21":"***"}}