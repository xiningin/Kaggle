{"cell_type":{"123e0ed1":"code","f6f758ef":"code","bbb1a778":"code","bf8b5ad9":"code","c83e2255":"code","a4bd3f2e":"code","088d3bb3":"code","b467b547":"code","a79d376c":"code","ab732c5b":"code","eef40096":"code","4f10c856":"code","916246fd":"code","66621ed7":"code","d8d61d63":"code","dd5e80c0":"code","7feb84fb":"code","c2b2f8f0":"code","f8294120":"code","a31da123":"code","b0414c57":"code","fac7a311":"code","b740beab":"code","13eddf13":"code","83bc3713":"code","b70879b1":"code","60a0bd86":"code","9ceb798b":"code","9aa45701":"code","fbcf9a41":"code","fc7171ba":"markdown","73d2fee2":"markdown","ab9f23da":"markdown","d5574fc4":"markdown","fbb65554":"markdown","dab9147b":"markdown","8afe905c":"markdown","c575dc5d":"markdown","25a5fa18":"markdown","24b2ff70":"markdown","769d362c":"markdown","956b4822":"markdown","c1a2cdd2":"markdown","9197b6f8":"markdown","86ff892a":"markdown","f99bff79":"markdown","b4783d42":"markdown","bb08c836":"markdown","6c367f96":"markdown","bedb31ea":"markdown"},"source":{"123e0ed1":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\n%matplotlib inline","f6f758ef":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","bbb1a778":"df_train=pd.read_csv('\/kaggle\/input\/big-mart-sales-data-train-data-set\/Train.csv')\ndf_train.head()","bf8b5ad9":"df_train.info()\ndf_train.isnull().sum()\nsns.heatmap(df_train.isnull(), yticklabels=False)","c83e2255":"weight_grp=df_train.groupby(['Item_Type','Outlet_Location_Type'])\nweight_grp=weight_grp['Item_Weight'].agg(['count','min','max','mean','median']).reset_index()\nweight_grp.head()","a4bd3f2e":"def add_weight(cols):\n    weight=cols[0]\n    itype=cols[1]\n    location=cols[2]\n    \n    if pd.isnull(weight):\n        for items in weight_grp.itertuples():\n            if (items[1]==itype) and (items[2]==location):\n                return items[6]\n    else:\n        return weight","088d3bb3":"df_train['Item_Weight']=df_train[['Item_Weight','Item_Type','Outlet_Location_Type']].apply(add_weight, axis=1)\ndf_train['Item_Weight'].head(10)","b467b547":"df_train.info()\ndf_train.isnull().sum()\nsns.heatmap(df_train.isnull(), yticklabels=False)","a79d376c":"df_train.head()","ab732c5b":"g=sns.catplot(x='Outlet_Type', y='Item_Outlet_Sales', hue='Outlet_Size', data=df_train, kind='swarm')\nplt.tight_layout()\ng.set_xticklabels(rotation=45)","eef40096":"g2=sns.catplot(x='Outlet_Location_Type', y='Item_Outlet_Sales', hue='Outlet_Size', data=df_train, kind='violin', col='Outlet_Type')\nplt.tight_layout()\ng2.set_xticklabels(rotation=45)","4f10c856":"osize_grp=df_train.groupby(['Outlet_Type','Outlet_Location_Type','Outlet_Size'])\nosize_grp=osize_grp['Outlet_Size'].count()\nosize_grp","916246fd":"df_train['Outlet_Size'].value_counts()","66621ed7":"df_train.isnull().sum()","d8d61d63":"def add_osize(cols):\n    osize=cols[0]\n    olocation=cols[1]\n    otype=cols[2]\n    \n    if pd.isnull(osize):\n        if (otype=='Supermarket Type2') or (otype=='Supermarket Type3'):\n            return 'Medium'\n        elif otype=='Grocery Store':\n            return 'Small'\n        else:\n            if olocation=='Tier 2':\n                return 'Small'\n            elif olocation=='Tier 3':\n                return 'High'\n            else:\n                return 'Small'\n    else:\n        return osize\n        ","dd5e80c0":"df_train['Outlet_Size']=df_train[['Outlet_Size','Outlet_Location_Type','Outlet_Type']].apply(add_osize, axis=1)\ndf_train['Outlet_Size'].head(10)","7feb84fb":"sns.heatmap(df_train.isnull(), yticklabels=False)\ndf_train['Outlet_Size'].value_counts()","c2b2f8f0":"df_train.corr()","f8294120":"visib_grp=df_train.groupby(['Item_Visibility','Item_Type'])\nvisib_grp=visib_grp[['Item_Outlet_Sales']].mean().reset_index()\nvisib_grp","a31da123":"g3=sns.relplot(hue='Item_Outlet_Sales', y='Item_Visibility', data=visib_grp, x='Item_Type')\nplt.tight_layout()\ng3.set_xticklabels(rotation=90)","b0414c57":"visib_grp2=df_train.groupby(['Item_Visibility','Outlet_Location_Type','Outlet_Type'])\nvisib_grp2=visib_grp2[['Item_Outlet_Sales']].mean().reset_index()\nvisib_grp2","fac7a311":"g4=sns.relplot(x='Item_Outlet_Sales', y='Item_Visibility', data=visib_grp2, col='Outlet_Type', hue='Outlet_Location_Type')\nplt.tight_layout()\ng4.set_xticklabels(rotation=90)","b740beab":"df_train.head()","13eddf13":"fat_grp=df_train.groupby('Item_Fat_Content')\nfat_grp=fat_grp[['Item_Outlet_Sales']].mean().reset_index()\nfat_grp","83bc3713":"def add_fat(cols):\n    fat=cols[0]\n    if (fat=='LF') or (fat=='low fat'):\n        return 'Low Fat'\n    elif fat == 'reg':\n        return 'Regular'\n    else:\n        return fat","b70879b1":"df_train['Item_Fat_Content']=df_train[['Item_Fat_Content']].apply(add_fat, axis=1)\ndf_train['Item_Fat_Content'].head(10)","60a0bd86":"fat_grpn=df_train.groupby('Item_Fat_Content')\nfat_grpn=fat_grpn[['Item_Outlet_Sales']].agg(['mean','count','sum']).reset_index()\nfat_grpn","9ceb798b":"fig, (ax1,ax2,ax3) = plt.subplots(nrows=1,ncols=3)\nfat_pie1=ax1.pie(fat_grpn[('Item_Outlet_Sales','mean')], labels=fat_grpn['Item_Fat_Content'],autopct='%1.1f%%',textprops={'color':\"w\"})\nfat_pie2=ax2.pie(fat_grpn[('Item_Outlet_Sales','sum')], labels=fat_grpn['Item_Fat_Content'],autopct='%1.1f%%',textprops={'color':\"w\"})\nfat_pie3=ax3.pie(fat_grpn[('Item_Outlet_Sales','count')], labels=fat_grpn['Item_Fat_Content'],autopct='%1.1f%%',textprops={'color':\"w\"})\nax1.set_title('Mean',bbox={'facecolor':'0.8', 'pad':1})\nax2.set_title('Total Sales',bbox={'facecolor':'0.8', 'pad':1})\nax3.set_title('Item Count',bbox={'facecolor':'0.8', 'pad':1})\nplt.show()","9aa45701":"fat_grpn=df_train.groupby(['Item_Fat_Content','Item_Type'])\nfat_grpn=fat_grpn[['Item_Outlet_Sales']].mean().reset_index()\nfat_grpn","fbcf9a41":"g5=sns.catplot(x='Item_Type', y='Item_Outlet_Sales', data=fat_grpn, hue='Item_Fat_Content')\nplt.tight_layout()\ng5.set_xticklabels(rotation=90)","fc7171ba":"#### Understand the missing values in Outlet_Size variable more","73d2fee2":"### Replace LF & low fat with Low Fat and reg with Regular","ab9f23da":"##### By refering to above diagram (g4), there is no significant clustering relationship with item visibility with the Store location, store type or the sales.","d5574fc4":"##### As correlation, r value between Item_Visibility & Item_Outlet_Sales (-0.128625), there is a negative trend where Item_Visibility is getting closer to 0 (zero), the sales values tends to the maximum. \n##### But when it comes to above diagram, there's no significant relationship with product type with reference to the relationship to Item_Visibility & Item_Outlet_Sales variables.","fbb65554":"#### Replace null values with mean values by considering the product type. (To Item_Weight column)","dab9147b":"#### Fill missing Values","8afe905c":"### Missing values filling completed. \n##### All 'Outlet_Size' missing values falls under 'Small' category. Therefore with the above justification, the prediction accuracy was 100%","c575dc5d":"### Understand and get statistical values for Outlet_Size wrt Outlet_Location_Type & Outlet_Type - Remove Null Values ","25a5fa18":"## Dataset Summary\n### Understand the features and checking the dataset for missing values\n##### Total Number of Rows = 8523, Total Number of Columns = 12\n##### Missing values in Item_Weight (7060 non-null   float64) & Outlet_Size (6113 non-null   object)","24b2ff70":"## The impact on Sales by refering Visibility factor (Visibility, Item Type and Total Sale)","769d362c":"# BigMart Sales Data\n##### By Chinthaka Liyana Arachchi (2020-06-01)","956b4822":"### Grouping after data cleaning","c1a2cdd2":"#### From above pie charts we can come to an conclusion that more revenue came and most number of unites sold in Low Fat category but the average unit sale is higher in regular product category","9197b6f8":"#### In here we can see that for most products, orange dots are in higher than the blue dots except for \"Breakfast\", \"Snak Foods\", \"Soft Drinks\" and \"Starchy Foods\"\n#### This represent that the average revenue from all products (except the ones mentioned above) are higher in <b>Regular<\/b> category","86ff892a":"##### For further analysis and predictions, this dataset can be used and it will be available on https:\/\/www.kaggle.com\/brijbhushannanda1979\/bigmart-sales-data","f99bff79":"### Understand and get statistical values for <b>Item_Weight<\/b> wrt Item_Type - Remove Null Values","b4783d42":"### Removed null values in Item_Weight Column\n#### Summary as follows","bb08c836":"## Understand the sales with respect to Item_Fat_Content","6c367f96":"##### FIndings : We can replace Supermarket Type 2 & Type 3 as Medium and Grocery Stores as Small. But there's issue with Supermarket Type 1 (Above Line)\n##### With Following plot, we can say that if It's supermarket type 1 & Tier 2 => Small, supermarket type 1 & Tier 3 => High (But we can't explicitly say that supermarket type 1 & Tier 1 result. It may be Small or Medium\n###### If Supermarket Type 2 or Supermarket Type 2 => Medium\n###### If Grocery Store => Small\n###### If supermarket type 1 & Tier 2 => Small\n###### If supermarket type 1 & Tier 3 => High","bedb31ea":"## The impact on Sales by refering Visibility factor (Visibility, Item Type and Total Sale, Outlet_Location_Type)"}}