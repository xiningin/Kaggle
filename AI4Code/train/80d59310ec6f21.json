{"cell_type":{"c82feeab":"code","8a6d5b58":"code","bd58510d":"code","1f8a9ade":"code","71c60cf6":"code","a2b1389b":"code","da5dae63":"code","f3ee9832":"code","a420bdfb":"code","01f40fbb":"code","79fd5a80":"code","6f6b1649":"code","2a1da385":"code","2e5e0f63":"code","576883dc":"code","9d1d7f67":"code","a9f5d1f3":"code","99c723c3":"code","7571f400":"code","21d4cf92":"code","34b40bf0":"code","5d144511":"code","899882e3":"code","2c3b2b13":"code","366f09cd":"code","59938f0f":"code","2c3688d1":"code","ba572ced":"code","961e02ca":"code","b1aa730b":"markdown","47fafe0a":"markdown","729f86b6":"markdown","5ffa75a0":"markdown","f7629968":"markdown","112bb9d9":"markdown","bafad34e":"markdown","7890db79":"markdown","ee8cd9fa":"markdown","a1d43c13":"markdown","14bdbcfb":"markdown","f0365ea2":"markdown","17e7417d":"markdown","0a5b49a0":"markdown","925d2de8":"markdown","13547d0f":"markdown","3a4a9674":"markdown","05aaf41c":"markdown","2ff9dd98":"markdown","ba779736":"markdown","ee6b6aa9":"markdown","41d0b514":"markdown","63ab2db5":"markdown","c439d443":"markdown","6ecbdcfd":"markdown","0725d289":"markdown","3fa9aefa":"markdown","5b79cdf3":"markdown","0add4f1a":"markdown","5e49d10a":"markdown","3c217e3e":"markdown","1f502561":"markdown","ba0fb2aa":"markdown","2cc8b8ee":"markdown","e3048706":"markdown","30bd4b14":"markdown","5c0d6b4a":"markdown","327498b9":"markdown","a534fdb6":"markdown","59361d2d":"markdown","634c2b34":"markdown","57093a72":"markdown","78c6e673":"markdown","c3556055":"markdown"},"source":{"c82feeab":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","8a6d5b58":"import pandas as pd\ndata=pd.read_csv('..\/input\/titanic\/train.csv')\ndata.head()","bd58510d":"import matplotlib.pyplot as plt\nimport seaborn as sns #importing seaborn module \nimport warnings\nwarnings.filterwarnings('ignore')  #this will ignore the warnings.it wont display warnings in notebook\n#plt.style.use('fivethirtyeight')\nplt.style.use('ggplot')\nplt.rcParams['figure.figsize']=[6,3]\nplt.rcParams['figure.dpi']=80","1f8a9ade":"data.isnull().sum()","71c60cf6":"plt.figure(figsize=(10,10))\nsns.heatmap(data.isnull(),cbar=False,cmap='YlGnBu')\nplt.ioff()","a2b1389b":"\ndata['Title']=0\nfor i in data:\n    data['Title']=data.Name.str.extract('([A-Za-z]+)\\.') #lets extract the Salutations","da5dae63":"pd.crosstab(data.Title,data.Sex).T.style.background_gradient(cmap='summer_r') #Checking the Initials with the Sex","f3ee9832":"data['Title'].replace(['Mlle','Mme','Ms','Dr','Major','Lady','Countess','Jonkheer','Col','Rev','Capt','Sir','Don'],['Miss','Miss','Miss','Mr','Mr','Mrs','Mrs','Other','Other','Other','Mr','Mr','Mr'],inplace=True)\npd.crosstab(data.Title,data.Sex).T.style.background_gradient(cmap='summer_r') #Checking the Initials with the Sex","a420bdfb":"data.groupby('Title')['Age'].mean() #lets check the average age by Initials","01f40fbb":"## Assigning the NaN Values with the Ceil values of the mean ages\ndata.loc[(data.Age.isnull())&(data.Title=='Mr'),'Age']=33\ndata.loc[(data.Age.isnull())&(data.Title=='Mrs'),'Age']=36\ndata.loc[(data.Age.isnull())&(data.Title=='Master'),'Age']=5\ndata.loc[(data.Age.isnull())&(data.Title=='Miss'),'Age']=22\ndata.loc[(data.Age.isnull())&(data.Title=='Other'),'Age']=46","79fd5a80":"data.Age.isnull().any() #So no null values left finally","6f6b1649":"data['Embarked'].fillna('S',inplace=True)\ndata.Embarked.isnull().any()# Finally No NaN values","2a1da385":"corrmat = data.corr()\nfig = plt.figure(figsize = (10,7))\nsns.heatmap(corrmat,vmax = 1,square = True,annot = True,vmin = -1)\nplt.show()","2e5e0f63":"cols = data.columns\nprint(list(cols))","576883dc":"fig,ax = plt.subplots(2,4,figsize=(16,10))\nsns.countplot('Survived',data=data,ax=ax[0][0])\nsns.countplot('Pclass',data=data,ax=ax[0][1])\nsns.countplot('Sex',data=data,ax=ax[0][2])\nsns.countplot('SibSp',data=data,ax=ax[0][3])\nsns.countplot('Parch',data=data,ax=ax[1][0])\nsns.countplot('Embarked',data=data,ax=ax[1][1])\nsns.distplot(data['Fare'],kde=True,ax=ax[1][2])\n\nplt.tight_layout()","9d1d7f67":"f,ax=plt.subplots(1,2,figsize=(18,8))\ndata['Survived'].value_counts().plot.pie(ax=ax[0],explode=[0,0.1],shadow=True,autopct='%1.1f%%')\nax[0].set_title('Survived',fontsize=30)\nax[0].set_ylabel('Count')\nsns.set(font=\"Verdana\")\nsns.set_style(\"ticks\")\nsns.countplot('Survived',hue='Sex',linewidth=2.5,edgecolor=\".2\",data=data,ax=ax[1])\nplt.ioff() # This removes the matplotlib notifications","a9f5d1f3":"f,ax=plt.subplots(1,3,figsize=(20,8))\nsns.distplot(data[data['Pclass']==1].Fare,ax=ax[0])\nax[0].set_title('Fares in Pclass 1')\nsns.distplot(data[data['Pclass']==2].Fare,ax=ax[1])\nax[1].set_title('Fares in Pclass 2')\nsns.distplot(data[data['Pclass']==3].Fare,ax=ax[2])\nax[2].set_title('Fares in Pclass 3')\nplt.show()\n","99c723c3":"print('Oldest Passenger was of:',data['Age'].max(),'Years')\nprint('Youngest Passenger was of:',data['Age'].min(),'Years')\nprint('Average Age on the ship:',data['Age'].mean(),'Years')","7571f400":"plt.figure(figsize=(12,6))\ndata[data['Age']<200000].Age.hist(bins=80,color='red')\nplt.axvline(data[data['Age']<=100].Age.mean(),color='black',linestyle='dashed',linewidth=3)\nplt.xlabel('Age of Passengers',fontsize=20)\nplt.ylabel('Number of People',fontsize=20)\nplt.title('Age Distribution of Passengers on Titanic',fontsize=25)\npass","21d4cf92":"#print('Minumum salary for H1b1 Visa holder is:',int(data[data['PREVAILING_WAGE']<=200000].PREVAILING_WAGE.min()),'$')\nprint('Mean age of Passenger on Titanic:',int(data[data['Age']<=100].Age.mean()),'Years')\nprint('Median age of Passenger on Titanic:',int(data[data['Age']<=100].Age.median()),'Years')\n#print('Maximum salary for H1b1 Visa holder is:',int(data[data['PREVAILING_WAGE']<=9000000].PREVAILING_WAGE.max()),'$')y","34b40bf0":"f,ax=plt.subplots(1,2,figsize=(20,10))\ndata[data['Survived']==0].Age.plot.hist(ax=ax[0],bins=20,edgecolor='black',color='red')\nax[0].set_title('Survived= 0')\nx1=list(range(0,85,5))\nax[0].set_xticks(x1)\ndata[data['Survived']==1].Age.plot.hist(ax=ax[1],color='green',bins=20,edgecolor='black')\nax[1].set_title('Survived= 1')\nx2=list(range(0,85,5))\nax[1].set_xticks(x2)\nplt.show()\n","5d144511":"data['Age_band']=0\ndata.loc[data['Age']<=16,'Age_band']=0\ndata.loc[(data['Age']>16)&(data['Age']<=32),'Age_band']=1\ndata.loc[(data['Age']>32)&(data['Age']<=48),'Age_band']=2\ndata.loc[(data['Age']>48)&(data['Age']<=64),'Age_band']=3\ndata.loc[data['Age']>64,'Age_band']=4\ndata.head(2)","899882e3":"data['Age_band'].value_counts().to_frame().style.background_gradient(cmap='summer')#checking the number of passenegers in each band","2c3b2b13":"print('Highest Fare was:',data['Fare'].max())\nprint('Lowest Fare was:',data['Fare'].min())\nprint('Average Fare was:',data['Fare'].mean())","366f09cd":"sns.distplot(data['Fare'])\nplt.xlabel('Fare')\nplt.show()\npass","59938f0f":"f,ax=plt.subplots(1,3,figsize=(20,8))\nsns.distplot(data[data['Pclass']==1].Fare,ax=ax[0])\nax[0].set_title('Fares in Pclass 1')\nsns.distplot(data[data['Pclass']==2].Fare,ax=ax[1])\nax[1].set_title('Fares in Pclass 2')\nsns.distplot(data[data['Pclass']==3].Fare,ax=ax[2])\nax[2].set_title('Fares in Pclass 3')\nplt.show()","2c3688d1":"data['Fare_Group']=0\ndata.loc[data['Fare']<=7.91,'Fare_Group']=0\ndata.loc[(data['Fare']>7.91)&(data['Fare']<=14.454),'Fare_Group']=1\ndata.loc[(data['Fare']>14.454)&(data['Fare']<=31),'Fare_Group']=2\ndata.loc[(data['Fare']>31)&(data['Fare']<=513),'Fare_Group']=3","ba572ced":"data['Fare_Range']=pd.qcut(data['Fare'],4)\ndata.groupby(['Fare_Range'])['Survived'].mean().to_frame().style.background_gradient(cmap='summer_r')","961e02ca":"sns.factorplot('Fare_Group','Survived',data=data,col='Pclass',hue='Sex')\nplt.show()","b1aa730b":"### Missig Values","47fafe0a":"### Univariate Analysis","729f86b6":"1.Children less than 5 years survived.So again the pattern of children and women given preference when it came to rescue.\n\n2.Most deaths happened in the age group 15-30.Most who survived were als in the age group is 15-35.\n\n3.The oldest person who was 80 years old survived.But many Senior Citizens in the age group 60-75 lost their lives.","5ffa75a0":"# 1.Data Import and Preprocessing ","f7629968":"### You can refer to my other notebooks from https:\/\/www.kaggle.com\/binuthomasphilip\/code","112bb9d9":"### Survived","bafad34e":"### Age Binning \n\nIn case of a continous variable like Age we can get better insight by making bins of the Age data.","7890db79":"### Mean Age Based on Title","ee8cd9fa":"### Filling Missing (NAN) Age values","a1d43c13":"### Importing Dataset","14bdbcfb":"### Heat Map ","f0365ea2":"### Cross Tab of Title with Sex","17e7417d":"### Classwise Fare Distribution","0a5b49a0":"Titanic is a famous dataset for people starting out with Data Science and Machine Learning.In this notebook I will share how to explore the data and how to make predictions using machine learning.\n\n1.Data Import and Preprocessing \n\n2.Exploratory Data Analysis \n\n3.Feature Engineeing\n\n4.Machine Learning Model Build\n\n5.Feature Importance\n\n6.Conclusion\n\n### You can refer to my other notebooks from https:\/\/www.kaggle.com\/binuthomasphilip\/code","925d2de8":"### Filling Embarked NaN\n\nWe can see that the Embarked column has two missing values.In the dataset most people embarked Titanic from the port S.So we can replace the two missing value with S","13547d0f":"### Fare Distribution ","3a4a9674":"\nWe can clearly see that\n\n1.Only 38.4 % people survived on Titaic\n\n2.More female Survived cmpared to male.This shows females were give more priority over males at the time of Rescue.","05aaf41c":"Now we have got the mean Age of the different groups in the Title.Now we can use this values to imput the missing values in the Age Column in our Titanic Dataset.","2ff9dd98":"We can clearly see that more people fall in the group 1 and 2 ie is 16 to 48 Age group.There were good number of people in the age group 0 to 16.","ba779736":"This plot gves us an interesting insight that in all fare groups always the percentage survival of female was greater.We cee an exception we have more male survival in Fare_group 3 when the P class is 3","ee6b6aa9":"### Classwise Fare Distribution","41d0b514":"The features Cabin and Age have missing values as indicated by the above heatmap.We will impute the missing values in Age.","63ab2db5":"# TO BE CONTINUED","c439d443":"Here we are using the Regex: [A-Za-z]+).. So what it does is, it looks for strings which lie between A-Z or a-z and followed by a .(dot). So we successfully extract the Initials from the Name.","6ecbdcfd":"For all categorical variables we have ploted the count plot and for the continous variables we have ploted the distplot.\n\n1.More people died in the accident that the people who survived.\n\n2.More people traveled in 3rd class\n\n3.There were more male passengers than female on titanic\n\n4.Most people were travelling alone on titanic some had siblings and parents as shown in the plots\n\n5.More people embarked from S- Southampton\n\n6.The fare for most people was less than 100","0725d289":"## Age ","3fa9aefa":"#### Correcting Misspeled Titles","5b79cdf3":"In the dataset initials like Mlle or Mme stand for Miss.We will replace them with Miss.","0add4f1a":"# 2.Exploratory Data Analysis","5e49d10a":"### Fare Bin\n\nHere we will use qcut this will split the data into bins based on the number of bins requested by us.","3c217e3e":"### Fare Factor Plot ","1f502561":"### Survived By Age Distribution","ba0fb2aa":"We can clearly see that as the fare increased the the survival percentage increases.","2cc8b8ee":"### Importing Python Modules","e3048706":"### Extracting the Title of Passangers","30bd4b14":"Recently I published a self help book titled Inspiration: Thoughts on Spirituality, Technology, Wealth, Leadership and Motivation. The preview of the book can be read from the Amazon link https:\/\/lnkd.in\/gj7bMQA","5c0d6b4a":"### Filing Age Missing Values\n\nWe can fill the missing value with the mean of the Age column.This is because we can fill the age of a child (5 years) with the mean age ( Around 30 years).This would increase the error in the data.But we can see that in the Name column we have titles like Mr,Mrs menioned.We have to get the mean age of each group in the titles and then replace the missing age with the mean values of the titles.","327498b9":"### Plotting Missing Values ","a534fdb6":"We have converted the Titles in four categories like Master,Miss,Mr,Mrs and Other.","59361d2d":"## Fare","634c2b34":"In this dataset we have more we have more categorical Data.So heap map or correlation plot is not the correct method of find he correlation between features and Survived.","57093a72":"1.We can see the distribution of fare was higher in 1st class from 0-300 dollars and some people even paid 500 dollars.\n\n2.For 2nd class the distrubution of fare is more between 0-40 dollars and there are some passangers who paid in the reange 60-80 dollars.\n\n3.Most passangers in 3rd class paid between 0-30 dollars for few people fare was higher reaching upto 70 dollars.","78c6e673":"1.We can see the distribution of fare was higher in 1st class from 0-300 dollars and some people even paid 500 dollars.\n\n2.For 2nd class the distrubution of fare is more between 0-40 dollars and there are some passangers who paid in the reange 60-80 dollars.\n\n3.Most passangers in 3rd class paid between 0-30 dollars for few people fare was higher reaching upto 70 dollars.","c3556055":"Now we can see that there no Missing Values in the Age columns"}}