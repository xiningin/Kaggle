{"cell_type":{"42c3efa8":"code","98fa5d04":"code","b6330aa4":"code","06667785":"code","3a771c59":"code","7cf3b7e7":"code","36f801f5":"code","844d3690":"code","559cf91d":"code","38c6c12b":"code","9ee7c398":"code","fbac1bef":"code","904c3786":"code","dc92009d":"code","7b7c3b3f":"code","b4317082":"code","14eeb99e":"code","e5d733a4":"code","141bf9e3":"code","59afc1c3":"code","4e3a5824":"code","79e3377e":"code","d1bc477e":"code","e31de216":"code","3a4cea47":"code","0323e59d":"code","7739a154":"code","da304ce3":"code","bb0d1afa":"code","46689869":"code","e4669138":"code","fcc16c16":"code","ccc1fd63":"code","9ffe9d63":"code","7df3cf71":"code","d49decdb":"code","a1e5ea17":"code","d4d1b39c":"code","8f0a4d96":"code","a022f215":"code","da707974":"code","3567e4d1":"code","c70de4be":"code","9cf87b86":"code","2d34f2d5":"code","87075a47":"code","95a27657":"code","ef74a145":"code","03dd315f":"code","33ccfcf8":"code","007537db":"code","81e4314e":"code","40ca4f1c":"code","aeb97be2":"code","7274b770":"code","4be50c92":"markdown","0478a135":"markdown","25d403f5":"markdown","d36f8773":"markdown","a694b214":"markdown","b15c1f9e":"markdown","6f8fab20":"markdown","8ad6c160":"markdown","3f5851dc":"markdown","87840616":"markdown","6e5f8ec7":"markdown","05cce6c0":"markdown"},"source":{"42c3efa8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","98fa5d04":"import warnings\nwarnings.filterwarnings(\"ignore\")\nimport numpy as np\nimport pandas as pd\n\n\ntitanic_data = pd.read_csv(\"..\/input\/titanic\/train.csv\")\ntitanic_data.shape","b6330aa4":"titanic_data.head()","06667785":"titanic_data['Survived'].value_counts()","3a771c59":"titanic_data[\"Survived\"] = titanic_data[\"Survived\"].apply(lambda x: \"Alive\" if x == 1  else \"Dead\")\ntitanic_data.head()","7cf3b7e7":"titanic_data.columns","36f801f5":"titanic_data.describe()","844d3690":"gender_count = titanic_data.Sex.groupby(titanic_data.Sex).count()\nprint(\"Total count of men and Women\")\nprint(gender_count)\n\nprint(\"\\nPercentage of female on ship: {}\".format(gender_count['female']*100\/(gender_count['female']+gender_count['male'])))\nprint(\"\\nPercentage of male on ship: {}\".format(gender_count['male']*100\/(gender_count['female']+gender_count['male'])))\n\ntitanic_data_survived = titanic_data[titanic_data.Survived == \"Alive\"]\nprint(\"\\n\")\nsurvival_gender_count = titanic_data_survived['Sex'].groupby(titanic_data_survived.Sex).count()\nprint(\"Survival Count of Men and Women\")\nprint(survival_gender_count)\nprint(\"\\nPercentage of female survived: {}\".format(survival_gender_count['female']*100\/(survival_gender_count['female']+survival_gender_count['male'])))\nprint(\"\\nPercentage of male survived: {}\".format(survival_gender_count['male']*100\/(survival_gender_count['female']+survival_gender_count['male'])))","559cf91d":"import seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.set_style(\"whitegrid\")\nsns.countplot(x=\"Sex\", hue='Survived',data=titanic_data)\nplt.show()","38c6c12b":"plt.figure(figsize=(16, 6))\nsns.violinplot(x=\"Survived\", y=\"Age\", data=titanic_data, size=8,hue='Survived')\\\n   .set(title='Violin plot for age',yticks=np.arange(0,100,5))\nplt.show()","9ee7c398":"sns.FacetGrid(titanic_data, hue=\"Survived\",palette = ['Red','Blue'],size=8) \\\n   .map(sns.distplot, \"Fare\") \\\n   .set(title='Histogram\/PDF for Fare')\\\n   .add_legend();\nplt.show();","fbac1bef":"\nsns.set_style(\"whitegrid\")\nsns.countplot(x=\"Pclass\", hue='Survived',data=titanic_data)\nplt.show()","904c3786":"sns.countplot(x=\"Embarked\", hue='Survived',data=titanic_data)\nplt.show()","dc92009d":"embarked_count = titanic_data.Embarked.groupby(titanic_data.Embarked).count()\nprint(embarked_count)\n\nprint(\"\\nEmbarked survived\")\nembarked_survival_count = titanic_data_survived.Embarked.groupby(titanic_data_survived.Embarked).count()\nprint(embarked_survival_count)\n\nprint(\"Percentage of people survived who embarked from Cherbourg is {}\".format(embarked_survival_count['C']*100\/embarked_count['C']))\nprint(\"Percentage of people survived who embarked from Queenstown is {}\".format(embarked_survival_count['Q']*100\/embarked_count['Q']))\nprint(\"Percentage of people survived who embarked from Southampton is {}\".format(embarked_survival_count['S']*100\/embarked_count['S']))\n","7b7c3b3f":"sns.countplot(x=\"SibSp\", hue='Survived',data=titanic_data)\nplt.show()","b4317082":"sns.countplot(x=\"Parch\", hue='Survived',data=titanic_data)\nplt.show()","14eeb99e":"titanic_data[\"Survived\"] = titanic_data[\"Survived\"].apply(lambda x: 1 if x == 'Alive'  else 0)\ntitanic_data.head()","e5d733a4":"#Removing columns not required for creating the model\ntitanic_model_data = titanic_data.drop(columns=['PassengerId','SibSp','Parch','Ticket','Cabin','Name'])","141bf9e3":"titanic_model_data.head()","59afc1c3":"print(titanic_model_data[['Age']].mean())\nprint(titanic_model_data[['Survived','Embarked']].groupby(titanic_model_data.Survived).count())","4e3a5824":"titanic_model_data['Age'] = titanic_model_data['Age'].replace(np.nan, 29.699118)","79e3377e":"#Checking for NaN values\ntitanic_model_data.isnull().sum().sum()","d1bc477e":"titanic_model_data['Embarked'] = titanic_model_data['Embarked'].replace(np.nan, 'C')","e31de216":"titanic_model_data.head()","3a4cea47":"\ntitanic_model_data_Y = titanic_model_data.drop(columns=['Pclass','Sex','Age','Fare','Embarked'])\ntitanic_model_data_X = titanic_model_data.drop(columns=['Survived'])\nprint(titanic_model_data_Y.head(2))\nprint(titanic_model_data_X.head(2))\n","0323e59d":"titanic_model_data_X.shape","7739a154":"\nfrom sklearn.preprocessing import OneHotEncoder\nfrom sklearn.preprocessing import LabelEncoder\n\nle = LabelEncoder() \ntitanic_model_data_X['Pclass']= le.fit_transform(titanic_model_data['Pclass']) \ntitanic_model_data_X['Sex']= le.fit_transform(titanic_model_data['Sex']) \ntitanic_model_data_X['Embarked']= le.fit_transform(titanic_model_data['Embarked'])\ntitanic_model_data_X.head()","da304ce3":"titanic_model_data_X.shape","bb0d1afa":"onehotencoder = OneHotEncoder(categorical_features=[0,4]) \ntitanic_encoded = onehotencoder.fit_transform(titanic_model_data_X)","46689869":"print(titanic_encoded.shape)","e4669138":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler(with_mean=False)\ntitanic_scaled = scaler.fit_transform(titanic_encoded)","fcc16c16":"from sklearn.neighbors import KNeighborsClassifier\n\nknnmodel = KNeighborsClassifier(n_neighbors=3)\n\nknnmodel.fit(titanic_scaled,titanic_model_data_Y)\n","ccc1fd63":"titanic_test_data = pd.read_csv(\"..\/input\/titanic\/test.csv\")","9ffe9d63":"titanic_test_data.head()","7df3cf71":"titanic_test_data = titanic_test_data.drop(columns=['PassengerId','SibSp','Parch','Ticket','Cabin','Name'])","d49decdb":"titanic_test_data.head()","a1e5ea17":"lenew = LabelEncoder()\ntitanic_test_data['Pclass']= lenew.fit_transform(titanic_test_data['Pclass']) \ntitanic_test_data['Sex']= lenew.fit_transform(titanic_test_data['Sex']) \ntitanic_test_data['Embarked']= lenew.fit_transform(titanic_test_data['Embarked'])\ntitanic_test_data.head()","d4d1b39c":"titanic_test_data.shape","8f0a4d96":"print(titanic_test_data.isnull().sum().sum())\n","a022f215":"print(titanic_test_data['Age'].mean())","da707974":"titanic_test_data['Age'] = titanic_test_data['Age'].replace(np.nan, 30.272590361445783)\n","3567e4d1":"titanic_test_data.head()","c70de4be":"print(titanic_test_data['Fare'].isnull().sum().sum())","9cf87b86":"print(titanic_test_data['Fare'].mean())","2d34f2d5":"titanic_test_data['Fare'] = titanic_test_data['Fare'].replace(np.nan, 35.6271884892086)","87075a47":"print(titanic_test_data.isnull().sum().sum())","95a27657":"onehotencodern = OneHotEncoder(categorical_features=[0,4]) \ntitanic_test_encoded = onehotencodern.fit_transform(titanic_test_data)","ef74a145":"titanic_test_encoded.shape","03dd315f":"scalern = StandardScaler(with_mean=False)\ntitanic_scaled = scalern.fit_transform(titanic_test_encoded)","33ccfcf8":"predicted_y = knnmodel.predict(titanic_scaled)","007537db":"passengerId = 892\noutput = []\nfor i in range(len(predicted_y)):\n    l = []\n    l.append(passengerId)\n    l.append(predicted_y[i])\n    output.append(l)\n    passengerId+=1\n","81e4314e":"output","40ca4f1c":"outdf = pd.DataFrame(output, columns = ['PassengerId', 'Survived'])","aeb97be2":"outdf","7274b770":"os.chdir(r'\/kaggle\/input\/')\noutdf.to_csv('titanic_submission_new.csv',index=False)","4be50c92":"Number of siblings \/ spouses and number of parents \/ children does not seem to have any significant impact on the survivability of a person.","0478a135":"From above statistics it is evident people who embarked from Cherbourg had highest chance of survival followed by Queenstown and Southampton.","25d403f5":"<a href=\".\/titanic_submission_new.csv\"> Download File <\/a>","d36f8773":"The training dataset for Titanic has 12 features and 891 rows of data","a694b214":"From the above violin plot it is evident that if the age is in the range 0-10, there is more chance of survival.\nConclusion is that children have higher chances of survival than others.","b15c1f9e":"From the above analysis, we can conclude that Age,Sex,Fare,Pclass and Embarked are the most important features that can be used for classification.\n\n* Children and women  had higher chances of survival.\n* Plcass 1 had higher chances of survival than 2 and 3.\n* Higher fare also indicated higher chances of survival.\n* People who embarked from Cherbourg had higher chances of survival than Queenstown and Southampton.","6f8fab20":"# OBJECTIVE\nDetermine the best features which help in the classifying the people in to either \"Survived\" or \"Dead\" Category","8ad6c160":"**EXPLORATORY DATA ANALYSIS FOR TITANIC SURVIVAL STATUS**","3f5851dc":"From the above CountPlot it can be concluded that people in Pclass 1 has higher chance of survival. For Pclass 2 there is equal chance of survival and death while Pclass 3 has very high chance of death. Hence Pclass is also an important feature for classification. ","87840616":"Peak for 'Dead' PDF is much higher than 'Alive' PDF, so people who paid lesser fare have lesser chances of survival than people who paid higher fare. Also the PDF for 'Alive' decays slower than 'Dead', hence higher fare means higher chances of survival. ","6e5f8ec7":"From the above statistics and the plot it is evident that women had higher chances of survival than men, and hence it is an important feature which can help in the classification.","05cce6c0":"From the datset we know that 342 survived but 549 died in the Titanic disaster."}}