{"cell_type":{"9eeeac13":"code","e63e392c":"code","f80243a1":"code","add7ce74":"code","f239b269":"code","56b600e9":"code","da429912":"code","f6956023":"code","95152260":"code","809798a1":"code","ef15c4f5":"code","e4b5ad38":"code","6c786bbf":"markdown","df61a90c":"markdown","a88f1644":"markdown","98d6f000":"markdown","882f639a":"markdown"},"source":{"9eeeac13":"from geopy.geocoders import Nominatim # To obtain coordinates and address given the name\nimport folium # For making maps\nfrom folium.plugins import MarkerCluster # To make maps\nimport os # For input-output operations\nimport pandas as pd # For DataFrame operations","e63e392c":"# Obtaining files\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","f80243a1":"excel = pd.ExcelFile(\"..\/input\/commercial-areas-in-bangalore\/commercial.xlsx\")","add7ce74":"def GetData(name, excel):\n    # Read sheet in file\n    df = excel.parse(name, header = None)\n    # Preprocess\n    if name == \"Malls\":\n        df[0] += \" Mall\"\n    \n    AddList = []\n    LatList = []\n    LonList = []\n    \n    # Define geolocator \n    geolocator = Nominatim(user_agent = \"Akshit Bhalla\",timeout = 1000)\n    # Obtain required\n    for item in df[0]:\n        location = geolocator.geocode(str(item) + \", Bangalore\")\n        \n        AddList.append(location.address)\n        LatList.append(location.latitude) \n        LonList.append(location.longitude)\n    \n    return(list(df[0].values), LatList, LonList, AddList)","f239b269":"malls, mall_lat, mall_lon, mall_add = GetData(\"Malls\", excel)\nrestaurants, restaurant_lat, restaurant_lon, restaurant_add = GetData(\"Restaurants\", excel)\noffices, office_lat, office_lon, office_add = GetData(\"Offices\", excel)","56b600e9":"# Define map\nMyMap = folium.Map(\n    location = (12.9716, 77.5946), # Coordinates of Bangalore\n    zoom_start = 10\n)","da429912":"# Function to make elements to be displayed on the map\ndef MakeMap(name, cat, lat, lon, add, mc):\n    if name == \"Mall\":\n        color = \"blue\"\n    elif name == \"Restaurant\":\n        color = \"green\"\n    else:\n        color = \"red\"\n    \n    for i in range(35):\n        mc.add_child(\n            folium.Marker(\n                location = (lat[i], lon[i]),\n                popup = (\n                    \"<b>\" + name + \":<\/b> {}<br>\"\n                    \"<b>Address:<\/b> {}\"\n                ).format(cat[i], add[i]),\n                icon = folium.Icon(color = color)\n            )\n        )\n        \n    return mc","f6956023":"mc1 = MakeMap(\"Mall\", malls, mall_lat, mall_lon, mall_add, MarkerCluster())\nmc2 = MakeMap(\"Restaurant\", restaurants, restaurant_lat, restaurant_lon, restaurant_add, MarkerCluster())\nmc3 = MakeMap(\"Office\", offices, office_lat, office_lon, office_add, MarkerCluster())","95152260":"# Create groups of features\nfg1 = folium.FeatureGroup(name = \"malls\")\nfg2 = folium.FeatureGroup(name = \"restraunts\")\nfg3 = folium.FeatureGroup(name = \"offices\")\n# Add elements to respective groups\nmc1.add_to(fg1)\nmc2.add_to(fg2)\nmc3.add_to(fg3)\n# Add groups to map\nMyMap.add_child(fg1)\nMyMap.add_child(fg2)\nMyMap.add_child(fg3)\n# Display map with layers\nMyMap.add_child(folium.LayerControl())","809798a1":"# Save Map as HTML\nMyMap.save(\"MyMap.html\")","ef15c4f5":"# Create DataFrame of necessary data\nMyData = pd.DataFrame({\n    \"Mall\" : malls,\n    \"Latitude\" : mall_lat,\n    \"Longitude\" : mall_lon,\n    \"Address\" : mall_add,\n    \"Restaurant\" : restaurants,\n    \"Latitude\" : restaurant_lat,\n    \"Longitude\" : restaurant_lon,\n    \"Address\" : restaurant_add,\n    \"Office\" : offices,\n    \"Latitude\" : office_lat,\n    \"Longitude\" : office_lon,\n    \"Address\" : office_add\n})","e4b5ad38":"# Export DataFrame\nMyData.to_csv(\"Commercial_Data.csv\") ","6c786bbf":"Obtain list of names, coordinates (lat and lon), and addresses under each category (Malls, Restaurants, Offices)","df61a90c":"Read files","a88f1644":"Mapping","98d6f000":"Import libraries","882f639a":"Obtain files"}}