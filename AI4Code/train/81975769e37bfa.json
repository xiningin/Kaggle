{"cell_type":{"d19a0f8b":"code","82869433":"code","7a9bbffd":"code","be2a368a":"code","1f587f99":"code","37cf8bea":"code","391de5d0":"code","bea62a47":"code","95b3b446":"code","8e24c9d6":"code","93d7ba14":"code","0431fadb":"code","26df5762":"code","9c9820d9":"code","e98227ac":"code","a70c35c3":"code","0ce48052":"code","c16f84c7":"code","14ac8db9":"code","2ece56c8":"code","1d3096d4":"code","7b7dd5e6":"code","437a83cb":"code","ba25231c":"code","eff4e73c":"code","2bf2cfaf":"code","27fb9b49":"code","18804a46":"code","ddee67e4":"code","f9805cba":"code","1dfb8493":"code","951e5d64":"code","d21ed95d":"code","c293aaca":"code","da841049":"code","37b261a8":"code","74412c92":"code","d9276d6d":"code","6b6d446e":"code","be146f72":"code","1fa22a8c":"code","ae5c270a":"code","d7711af4":"code","cfe1c054":"code","d6fd71fa":"code","145bcd18":"code","af464da7":"code","969de3ee":"code","9497e7fe":"code","42fc3775":"code","3371ec5e":"code","924c7ea8":"code","d878627d":"code","c9db70b5":"code","5f6045d1":"code","facf6ecc":"code","a336c7fb":"code","56d67fa1":"code","60f8483f":"code","dd74f74b":"code","d7145383":"code","c3b5aee7":"code","a8bbb85a":"code","396bd67d":"markdown","edb5a3b7":"markdown","6abefa8c":"markdown","72857e03":"markdown","71211184":"markdown","08948d11":"markdown","a297364f":"markdown","0a9326f8":"markdown","375d1f5b":"markdown","9c9a4c10":"markdown","75c6e7d9":"markdown","a89459a9":"markdown","6c5b06d2":"markdown","13cdaedb":"markdown","4a844812":"markdown","9cc0550c":"markdown","6c1543a8":"markdown","457e37cd":"markdown","cd5e1756":"markdown","0058d304":"markdown","333d3f33":"markdown","c19a842b":"markdown","faa66dd4":"markdown","1ec8cb13":"markdown","13bab28d":"markdown","41f63faf":"markdown","26effad3":"markdown","fc7ecb10":"markdown","3359e7ba":"markdown","38142e9a":"markdown","99740787":"markdown","2d25643e":"markdown","4d0bbb55":"markdown","f786df98":"markdown","0a595633":"markdown","18740df4":"markdown","00b7d775":"markdown","7626c0f8":"markdown","2ca1a24e":"markdown","f63de7eb":"markdown","be6956e9":"markdown","ecac705e":"markdown","ee798d57":"markdown","a4cba4f1":"markdown","e29a94ec":"markdown","570b5879":"markdown","d4524103":"markdown","798a9629":"markdown","4e029a2d":"markdown","03061935":"markdown","22f734a2":"markdown","387fbc25":"markdown","03d696d4":"markdown","53ec13fa":"markdown","ad86e22f":"markdown","0a130b9b":"markdown","7e24e628":"markdown","a532aa34":"markdown","84c24709":"markdown","9a1404ed":"markdown","69b2b206":"markdown","1b59fd54":"markdown","ff5201e1":"markdown"},"source":{"d19a0f8b":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport holoviews as hv\nfrom holoviews import opts\nhv.extension('bokeh')\nfrom matplotlib import pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler, LabelEncoder\nfrom sklearn.metrics import accuracy_score, f1_score, roc_auc_score\nimport os\nfrom scipy import signal\nimport lightgbm as lgb\nimport shap","82869433":"for dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","7a9bbffd":"experiment_result = pd.read_csv(\"\/kaggle\/input\/tool-wear-detection-in-cnc-mill\/train.csv\")\nprint(f'train.csv : {experiment_result.shape}')\nexperiment_result.head(3)","be2a368a":"experiment_tmp = pd.read_csv(\"\/kaggle\/input\/tool-wear-detection-in-cnc-mill\/experiment_01.csv\")\nprint(f'experiment_XX.csv : {experiment_tmp.shape}')\nprint(experiment_tmp.columns)\nexperiment_tmp.head(3)","1f587f99":"experiment_result['passed_visual_inspection'] = experiment_result['passed_visual_inspection'].fillna('no')","37cf8bea":"frames = []\nfor i in range(1,19):\n    #load files\n    exp_num = '0' + str(i) if i < 10 else str(i)\n    frame = pd.read_csv(f\"\/kaggle\/input\/tool-wear-detection-in-cnc-mill\/experiment_{exp_num}.csv\")\n\n    #load each experiment result row\n    exp_result_row = experiment_result[experiment_result['No'] == i]\n    frame['exp_num'] = i\n\n    #add experiment settings to features\n    frame['material'] = exp_result_row.iloc[0]['material']\n    frame['feedrate'] = exp_result_row.iloc[0]['feedrate']\n    frame['clamp_pressure'] = exp_result_row.iloc[0]['clamp_pressure']\n    \n    #add experiment result to features\n    frame['tool_condition'] = exp_result_row.iloc[0]['tool_condition']\n    frame['machining_finalized'] = exp_result_row.iloc[0]['machining_finalized']\n    frame['passed_visual_inspection'] = exp_result_row.iloc[0]['passed_visual_inspection']\n\n    frames.append(frame)\n\ndf = pd.concat(frames, ignore_index = True)\ndf.head(3)","391de5d0":"df['Machining_Process'].value_counts().sort_index()","bea62a47":"print(f\"Count of Starting label in Machining_Process column is 1 only in experimet_{df[df['Machining_Process']=='Starting'].exp_num.value_counts().index[0]}\")\nprint(f\"Count of end label in Machining_Process column is 8 only in experimet_{df[df['Machining_Process']=='end'].exp_num.value_counts().index[0]}\")","95b3b446":"df.replace({'Machining_Process': {'Starting':'Prep','end':'End'}}, inplace=True)","8e24c9d6":"feedrate = hv.Distribution(df['feedrate']).opts(title=\"Distribution of feedrate\", color=\"green\", xlabel=\"Feedrate\", ylabel=\"Density\")\nclamp = hv.Distribution(df['clamp_pressure']).opts(title=\"Distribution of clamp pressure\", color=\"green\", xlabel=\"Pressure\", ylabel=\"Density\")\nmaterial = hv.Bars(df['material'].value_counts()).opts(title=\"Material Count\", color=\"green\", xlabel=\"Material\", ylabel=\"Count\")\n(feedrate + clamp + material).opts(opts.Bars(width=300, height=300,tools=['hover'],show_grid=True)).cols(2)","93d7ba14":"tool_df = np.round(df['tool_condition'].value_counts(normalize=True) * 100)\nfinalized_df = np.round(df['machining_finalized'].value_counts(normalize=True) * 100)\nvis_passed_df = np.round(df['passed_visual_inspection'].value_counts(normalize=True) * 100)\ntool_wear = hv.Bars(tool_df).opts(title=\"Tool Wear Count\", color=\"green\", xlabel=\"Worn\/Unworn\", ylabel=\"Percentage\", yformatter='%d%%')\nfinalized = hv.Bars(finalized_df).opts(title=\"Finalized Count\", color=\"green\", xlabel=\"Yes\/No\", ylabel=\"Percentage\", yformatter='%d%%')\nvis_inspection = hv.Bars(vis_passed_df).opts(title=\"Visual Inspection Passed Count\", color=\"green\", xlabel=\"Yes\/No\", ylabel=\"Percentage\", yformatter='%d%%')\n(tool_wear + finalized + vis_inspection).opts(opts.Bars(width=300, height=300,tools=['hover'],show_grid=True)).cols(2)","0431fadb":"finalized_df_worn = np.round(df[df['tool_condition']=='worn']['machining_finalized'].value_counts(normalize=True) * 100)\nfinalized_df_unworn = np.round(df[df['tool_condition']=='unworn']['machining_finalized'].value_counts(normalize=True) * 100)\nvis_passed_df_worn = np.round(df[df['tool_condition']=='worn']['passed_visual_inspection'].value_counts(normalize=True) * 100)\nvis_passed_df_unworn = np.round(df[df['tool_condition']=='unworn']['passed_visual_inspection'].value_counts(normalize=True) * 100)\nfinalized_worn = hv.Bars(finalized_df_worn).opts(title=\"[WORN] Finalized Count\", color=\"orange\", xlabel=\"Yes\/No\", ylabel=\"Percentage\", yformatter='%d%%')\\\n            * hv.Text('yes', 15, f\"{np.round(finalized_df_worn['yes']\/sum(finalized_df_worn)*100)}%\")\\\n            * hv.Text('no', 15, f\"{np.round(finalized_df_worn['no']\/sum(finalized_df_worn)*100)}%\")\nfinalized_unworn = hv.Bars(finalized_df_unworn).opts(title=\"[UNWORN] Finalized Count\", color=\"orange\", xlabel=\"Yes\/No\", ylabel=\"Percentage\", yformatter='%d%%')\\\n            * hv.Text('yes', 15, f\"{np.round(finalized_df_unworn['yes']\/sum(finalized_df_unworn)*100)}%\")\\\n            * hv.Text('no', 15, f\"{np.round(finalized_df_unworn['no']\/sum(finalized_df_unworn)*100)}%\")\nvis_inspection_worn = hv.Bars(vis_passed_df_worn).opts(title=\"[WORN] Visual Inspection Passed Count\", color=\"green\", xlabel=\"Yes\/No\", ylabel=\"Percentage\", yformatter='%d%%')\\\n            * hv.Text('yes', 45, f\"{np.round(vis_passed_df_worn['yes']\/sum(vis_passed_df_worn)*100)}%\")\\\n            * hv.Text('no', 45, f\"{np.round(vis_passed_df_worn['no']\/sum(vis_passed_df_worn)*100)}%\")\nvis_inspection_unworn = hv.Bars(vis_passed_df_unworn).opts(title=\"[UNWORN] Visual Inspection Passed Count\", color=\"green\", xlabel=\"Yes\/No\", ylabel=\"Percentage\", yformatter='%d%%')\\\n            * hv.Text('yes', 15, f\"{np.round(vis_passed_df_unworn['yes']\/sum(vis_passed_df_unworn)*100)}%\")\\\n            * hv.Text('no', 15, f\"{np.round(vis_passed_df_unworn['no']\/sum(vis_passed_df_unworn)*100)}%\")\n((finalized_worn + finalized_unworn) + (vis_inspection_worn + vis_inspection_unworn)).opts(opts.Bars(width=400, height=300,tools=['hover'],show_grid=True)).cols(2)","26df5762":"worn_fin_vis = pd.concat([finalized_df_worn, vis_passed_df_worn], axis=1,sort=True).rename(columns={'machining_finalized':'[WORN] Finalized', 'passed_visual_inspection':'[WORN] Visual Inspection Passed'})\nworn_fin_vis = pd.melt(worn_fin_vis.reset_index(), ['index']).rename(columns={'index':'Yes\/No', 'variable':'Outputs'})\nhv.Bars(worn_fin_vis, ['Outputs','Yes\/No'], 'value').opts(opts.Bars(title=\"Machining Finalized and Passed Visual Inspection by Worn Tool Count\", width=700, height=400,tools=['hover'],\\\n                                                                show_grid=True, ylabel=\"Percentage\", yformatter='%d%%'))","9c9820d9":"hv.Bars(df['Machining_Process'].value_counts()).opts(title=\"Machining Process Count\", color=\"red\", xlabel=\"Machining Processes\", ylabel=\"Count\")\\\n                                        .opts(opts.Bars(width=500, height=300,tools=['hover'],xrotation=45,show_grid=True))","e98227ac":"def plot_ts(col, color='red', yformat='%d%%'):\n    v_list = []\n    for i in range(1,19):\n        v = hv.Curve(df[df['exp_num']==i].reset_index()[col]).opts(title=f\"{col} in  experiment {i}\", xlabel=\"Time\", ylabel=f\"{col}\", yformatter=yformat)\\\n                                                          .opts(width=300, height=150,tools=['hover'],show_grid=True,fontsize=8, color=color)\n        v_list.append(v)\n    return (v_list[0] + v_list[1] + v_list[2] + v_list[3] + v_list[4] + v_list[5] + v_list[6] + v_list[7] + v_list[8] + v_list[9] + v_list[10] + v_list[11] + v_list[12]\\\n            + v_list[13] + v_list[14] + v_list[15] + v_list[16] + v_list[17]).opts(shared_axes=False).cols(6)","a70c35c3":"plot_ts('X1_ActualVelocity', color='red', yformat='%d mm\/s')","0ce48052":"plot_ts('Y1_ActualVelocity', color='orange', yformat='%d mm\/s')","c16f84c7":"plot_ts('Z1_ActualVelocity', color='green', yformat='%d mm\/s')","14ac8db9":"plot_ts('S1_ActualVelocity', color='blue', yformat='%d mm\/s')","2ece56c8":"plot_ts('X1_CurrentFeedback', color='red', yformat='%d A')","1d3096d4":"plot_ts('Y1_CurrentFeedback', color='orange', yformat='%d A')","7b7dd5e6":"plot_ts('Z1_CurrentFeedback', color='green', yformat='%d A')","437a83cb":"plot_ts('S1_CurrentFeedback', color='blue', yformat='%d A')","ba25231c":"plot_ts('X1_DCBusVoltage', color='red', yformat='%.1f V')","eff4e73c":"plot_ts('Y1_DCBusVoltage', color='orange', yformat='%.1f V')","2bf2cfaf":"plot_ts('Z1_DCBusVoltage', color='green', yformat='%.1f V')","27fb9b49":"plot_ts('S1_DCBusVoltage', color='blue', yformat='%.1f V')","18804a46":"g = sns.pairplot(df, hue='tool_condition', vars=[\"feedrate\",\"clamp_pressure\"])\ng.fig.suptitle(\"Tool Condition - feedrate\/clamp pressure\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\nplt.show()","ddee67e4":"g = sns.pairplot(df, hue='machining_finalized', vars=[\"feedrate\",\"clamp_pressure\"])\ng.fig.suptitle(\"Machining Finalized - feedrate\/clamp pressure\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\nplt.show()","f9805cba":"g = sns.pairplot(df, hue='tool_condition', vars=['X1_ActualVelocity','Y1_ActualVelocity','Z1_ActualVelocity','S1_ActualVelocity'])\ng.fig.suptitle(\"Tool Condition - velocity\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\ng.fig.get_children()[-1].set_bbox_to_anchor((1.1, 0.5, 0, 0))\nplt.show()","1dfb8493":"g = sns.pairplot(df, hue='machining_finalized', vars=['X1_ActualVelocity','Y1_ActualVelocity','Z1_ActualVelocity','S1_ActualVelocity'])\ng.fig.suptitle(\"Machining Finalized - velocity\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\ng.fig.get_children()[-1].set_bbox_to_anchor((1.1, 0.5, 0, 0))\nplt.show()","951e5d64":"np.seterr(divide='ignore', invalid='ignore')\ng = sns.pairplot(df, hue='tool_condition', vars=['X1_CurrentFeedback','Y1_CurrentFeedback','Z1_CurrentFeedback','S1_CurrentFeedback'])\ng.fig.suptitle(\"Tool Condition - Current\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\ng.fig.get_children()[-1].set_bbox_to_anchor((1.1, 0.5, 0, 0))\nplt.show()","d21ed95d":"g = sns.pairplot(df, hue='machining_finalized', vars=['X1_CurrentFeedback','Y1_CurrentFeedback','Z1_CurrentFeedback','S1_CurrentFeedback'])\ng.fig.suptitle(\"Machining Finalized - Current\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\ng.fig.get_children()[-1].set_bbox_to_anchor((1.1, 0.5, 0, 0))\nplt.show()","c293aaca":"g = sns.pairplot(df, hue='tool_condition', vars=['X1_DCBusVoltage','Y1_DCBusVoltage','Z1_DCBusVoltage','S1_DCBusVoltage'])\ng.fig.suptitle(\"Tool Condition - Voltage\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\ng.fig.get_children()[-1].set_bbox_to_anchor((1.1, 0.5, 0, 0))\nplt.show()","da841049":"g = sns.pairplot(df, hue='machining_finalized', vars=['X1_DCBusVoltage','Y1_DCBusVoltage','Z1_DCBusVoltage','S1_DCBusVoltage'])\ng.fig.suptitle(\"Machining Finalized - Voltage\", y=1.1, fontsize=20)\ng.fig.set_figheight(6)\ng.fig.set_figwidth(9)\ng.fig.get_children()[-1].set_bbox_to_anchor((1.1, 0.5, 0, 0))\nplt.show()","37b261a8":"def plot_fft(col, color='red', peak_thr=1):\n    v_list = []\n    dt = 0.1 # experiment data was collected per 100ms(0.1sec)\n    for i in range(1,19):\n        f = df[df['exp_num']==i].reset_index()[col]\n        N = len(f)\n        t = np.arange(0, N*dt, dt)\n        freq = np.linspace(0, 1.0\/dt, N)\n        F = np.fft.fft(f)\n        F_abs = np.abs(F) \/ (N\/2) \n        F_abs[0] = F_abs[0] \/ 2\n        \n        maximal_idx = signal.argrelmax(F_abs, order=1)[0] \n        peak_cut = peak_thr\n        maximal_idx = maximal_idx[(F_abs[maximal_idx] > peak_cut) & (maximal_idx <= N\/2)]\n        \n        v = hv.Curve((freq[:int(N\/2)+1], F_abs[:int(N\/2)+1])).opts(title=f\"{col} in  experiment {i}\", xlabel=\"Frequency(Hz)\", ylabel=f\"Amplitude\")\\\n                                                          .opts(width=300, height=150,tools=['hover'],show_grid=True,fontsize=8, color=color)\\\n            * hv.Scatter((freq[maximal_idx], F_abs[maximal_idx])).opts(color='lime', size=5)\n        \n        v_list.append(v)\n    return (v_list[0] + v_list[1] + v_list[2] + v_list[3] + v_list[4] + v_list[5] + v_list[6] + v_list[7] + v_list[8] + v_list[9] + v_list[10] + v_list[11] + v_list[12]\\\n            + v_list[13] + v_list[14] + v_list[15] + v_list[16] + v_list[17]).opts(shared_axes=False).cols(6)","74412c92":"plot_fft('X1_ActualVelocity', color='red', peak_thr=3)","d9276d6d":"plot_fft('Y1_ActualVelocity', color='orange', peak_thr=3)","6b6d446e":"plot_fft('Z1_ActualVelocity', color='green', peak_thr=3)","be146f72":"plot_fft('S1_ActualVelocity', color='blue', peak_thr=9)","1fa22a8c":"plot_fft('X1_CurrentFeedback', color='red', peak_thr=1.2)","ae5c270a":"plot_fft('Y1_CurrentFeedback', color='orange', peak_thr=1.2)","d7711af4":"plot_fft('Z1_CurrentFeedback', color='green', peak_thr=3)","cfe1c054":"plot_fft('X1_CurrentFeedback', color='blue', peak_thr=1.2)","d6fd71fa":"plot_fft('X1_DCBusVoltage', color='red', peak_thr=0.015)","145bcd18":"plot_fft('Y1_DCBusVoltage', color='orange', peak_thr=0.02)","af464da7":"plot_fft('Z1_DCBusVoltage', color='green', peak_thr=3)","969de3ee":"plot_fft('S1_DCBusVoltage', color='blue', peak_thr=0.15)","9497e7fe":"for ax in ['X','Y','Z','S']:\n    df[f'{ax}1_Position_Diff'] = abs(df[f'{ax}1_CommandPosition']-df[f'{ax}1_ActualPosition'])\n    df[f'{ax}1_Velocity_Diff'] = abs(df[f'{ax}1_CommandVelocity']-df[f'{ax}1_ActualVelocity'])\n    df[f'{ax}1_Acceleration_Diff'] = abs(df[f'{ax}1_CommandAcceleration']-df[f'{ax}1_ActualAcceleration'])","42fc3775":"for col in ['ActualPosition','ActualVelocity','ActualAcceleration','CurrentFeedback','DCBusVoltage','OutputCurrent','OutputVoltage','OutputPower']:\n    dt = 0.1\n    for i in range(1,19):\n        for ax in ['X','Y','Z','S']:\n            try:\n                f = df[df['exp_num']==i].reset_index()[f'{ax}1_{col}']\n            except:\n                continue\n                \n            N = len(f)\n            t = np.arange(0, N*dt, dt)\n            freq = np.linspace(0, 1.0\/dt, N)\n            F = np.fft.fft(f)\n            F_abs = np.abs(F) \/ (N\/2) \n            F_abs[0] = F_abs[0] \/ 2\n            maximal_idx = signal.argrelmax(F_abs, order=1)[0]\n\n            high_amp = np.max(F_abs[maximal_idx]) if len(maximal_idx) > 0 else 0\n            high_freq = freq[maximal_idx][np.argmax(F_abs[maximal_idx])] if len(maximal_idx) > 0 else 0\n\n            df.loc[df['exp_num']==i,f'{ax}1_{col}_High_Amp'] = high_amp\n            df.loc[df['exp_num']==i,f'{ax}1_{col}_High_Freq'] = high_freq\n            df.loc[df['exp_num']==i,f'{ax}1_{col}_High_Amp_Freq'] = high_amp * high_freq","3371ec5e":"feature_df = df.copy()\nfeature_df['Machining_Process'] = LabelEncoder().fit_transform(feature_df['Machining_Process']).astype(np.int8)\nfeature_df['tool_condition'] = LabelEncoder().fit_transform(feature_df['tool_condition']).astype(np.int8)\nfeature_df['machining_finalized'] = LabelEncoder().fit_transform(feature_df['machining_finalized']).astype(np.int8)\nfeature_df['passed_visual_inspection'] = LabelEncoder().fit_transform(feature_df['passed_visual_inspection']).astype(np.int8)\nfeature_df.drop(['material','exp_num'], axis=1, inplace=True)\nfeature_df.head(3)","924c7ea8":"y_series = feature_df['tool_condition']\nx_df = feature_df.drop(['tool_condition','machining_finalized','passed_visual_inspection'], axis=1) \nX_train, X_valid, Y_train, Y_valid = train_test_split(x_df, y_series, test_size=0.2, random_state=0, stratify=y_series)\n\nlgb_train = lgb.Dataset(X_train, Y_train)\nlgb_valid = lgb.Dataset(X_valid, Y_valid, reference=lgb_train)","d878627d":"params = {\n    'task' : 'train',\n    'boosting' : 'gbdt',\n    'objective': 'binary',\n    'metric': 'l2',\n    'num_leaves': 200,\n    'feature_fraction': 1.0,\n    'bagging_fraction': 1.0,\n    'bagging_freq': 0,\n    'min_child_samples': 5\n}\ngbm_tool_wear = lgb.train(params,\n            lgb_train,\n            num_boost_round=100,\n            valid_sets=lgb_valid,\n            early_stopping_rounds=100)","c9db70b5":"feature_imp = pd.DataFrame()\nfeature_imp['feature'] = gbm_tool_wear.feature_name()\nfeature_imp['importance'] = gbm_tool_wear.feature_importance()\nhv.Bars(feature_imp.sort_values(by='importance', ascending=False)[0:31][::-1]).opts(title=\"Feature Importance\", color=\"purple\", xlabel=\"Features\", ylabel=\"Importance\", invert_axes=True)\\\n                            .opts(opts.Bars(width=700, height=700, tools=['hover'], show_grid=True))","5f6045d1":"t = lgb.plot_tree(gbm_tool_wear, figsize=(20, 20), precision=3, tree_index=1, show_info=['split_gain'])\nplt.title('Visulalization of Tree in Tool Condition')\nplt.show()","facf6ecc":"y_series = feature_df['machining_finalized']\nx_df = feature_df.drop(['tool_condition','machining_finalized','passed_visual_inspection'], axis=1) \nX_train, X_valid, Y_train, Y_valid = train_test_split(x_df, y_series, test_size=0.2, random_state=0, stratify=y_series)\n\nlgb_train = lgb.Dataset(X_train, Y_train)\nlgb_valid = lgb.Dataset(X_valid, Y_valid, reference=lgb_train)","a336c7fb":"params = {\n    'task' : 'train',\n    'boosting' : 'gbdt',\n    'objective': 'binary',\n    'metric': 'l2',\n    'num_leaves': 200,\n    'feature_fraction': 1.0,\n    'bagging_fraction': 1.0,\n    'bagging_freq': 0,\n    'min_child_samples': 5\n}\ngbm_machining_finalized = lgb.train(params,\n            lgb_train,\n            num_boost_round=100,\n            valid_sets=lgb_valid,\n            early_stopping_rounds=100)","56d67fa1":"feature_imp = pd.DataFrame()\nfeature_imp['feature'] = gbm_machining_finalized.feature_name()\nfeature_imp['importance'] = gbm_machining_finalized.feature_importance()\nhv.Bars(feature_imp.sort_values(by='importance', ascending=False)[0:31][::-1]).opts(title=\"Feature Importance\", color=\"purple\", xlabel=\"Features\", ylabel=\"Importance\", invert_axes=True)\\\n                            .opts(opts.Bars(width=700, height=700, tools=['hover'], show_grid=True))","60f8483f":"t = lgb.plot_tree(gbm_machining_finalized, figsize=(20, 20), precision=3, tree_index=1, show_info=['split_gain'])\nplt.title('Visulalization of Tree in Machining Finalized')\nplt.show()","dd74f74b":"y_series = feature_df['passed_visual_inspection']\nx_df = feature_df.drop(['tool_condition','machining_finalized','passed_visual_inspection'], axis=1) \nX_train, X_valid, Y_train, Y_valid = train_test_split(x_df, y_series, test_size=0.2, random_state=0, stratify=y_series)\n\nlgb_train = lgb.Dataset(X_train, Y_train)\nlgb_valid = lgb.Dataset(X_valid, Y_valid, reference=lgb_train)","d7145383":"params = {\n    'task' : 'train',\n    'boosting' : 'gbdt',\n    'objective': 'binary',\n    'metric': 'l2',\n    'num_leaves': 200,\n    'feature_fraction': 1.0,\n    'bagging_fraction': 1.0,\n    'bagging_freq': 0,\n    'min_child_samples': 5\n}\ngbm_passed_vis_inspection = lgb.train(params,\n            lgb_train,\n            num_boost_round=100,\n            valid_sets=lgb_valid,\n            early_stopping_rounds=100)","c3b5aee7":"feature_imp = pd.DataFrame()\nfeature_imp['feature'] = gbm_passed_vis_inspection.feature_name()\nfeature_imp['importance'] = gbm_passed_vis_inspection.feature_importance()\nhv.Bars(feature_imp.sort_values(by='importance', ascending=False)[0:31][::-1]).opts(title=\"Feature Importance\", color=\"purple\", xlabel=\"Features\", ylabel=\"Importance\", invert_axes=True)\\\n                            .opts(opts.Bars(width=700, height=700, tools=['hover'], show_grid=True))","a8bbb85a":"t = lgb.plot_tree(gbm_passed_vis_inspection, figsize=(20, 20), precision=3, tree_index=1, show_info=['split_gain'])\nplt.title('Visulalization of Tree in Passed Visual Inspection')\nplt.show()","396bd67d":"## Case1 : Tool Condition","edb5a3b7":">adding each experiment settings and result to experiment time series data to make one total dataframe.","6abefa8c":"### Voltage\n><div class=\"alert alert-success\" role=\"alert\">\n><ul>\n><li>experiments which had worn tools are not distinctive.<\/li>\n><li>experiments which did not finalize machining and pass visual inspection are seem to have low frequecy of change in <u>X\/Y\/S<\/u> axes.<\/li>\n><\/ul>\n><\/div>","72857e03":"> plot function to output all experiment time-series","71211184":"# 3. Load the dataset","08948d11":"### FFT Features\n<div class=\"alert alert-success\" role=\"alert\">\n<ul>\n<li>it is thought that <u>highest frequency and amplitude<\/u> can be good information to detect machinig failures.<\/li>\n<\/ul>\n<\/div>","a297364f":"# Table of Contents<a id='top'><\/a>\n\n>1. [Overview](#1.-Overview)  \n>   * [Project Detail](#Project-Detail)\n>   * [Goal of this notebook](#Goal-of-this-notebook)\n>1. [Import libraries](#2.-Import-libraries)\n>1. [Load the dataset](#3.-Load-the-dataset)\n>1. [Pre-processing](#4.-Pre-processing)\n>1. [EDA](#5.-EDA)  \n>    * [Basic Analysis](#Basic-Analysis)\n>    * [Univariate Analysis](#Univariate-Analysis)\n>    * [Multivariate Analysis](#Multivariate-Analysis)\n>    * [Frequency Analysis](#Frequency-Analysis)\n>1. [Modeling](#6.-Modeling)\n>    * [Feature Engineering](#Feature-Engineering)\n>    * [Case1 : Tool Condition](#Case1-:-Tool-Condition)\n>    * [Case2 : Machining Finalized](#Case2-:-Machining-Finalized)\n>    * [Case3 : Passed Visual Inspection](#Case3-:-Passed-Visual-Inspection)\n>1. [Conclusion](#7.-Conclusion)\n>1. [References](#8.-References)","0a9326f8":"### Machine Outputs\n><div class=\"alert alert-success\" role=\"alert\">\n><ul>\n>    <li>Count of 'Not Passed Visual Insepction' is larger than that of 'Not Finalized Machining'.\n>        <p>This means milling by machineries is not reliable enough, and <u>humans have some tricks or technique to detect failures, which machineries can't do.<\/u><\/p><\/li>\n>    <li>Count of 'Not Finalized Machining' with worn tool is almost same as that with unworn tool.<\/li>\n>    <li>Count of 'Not Passed Visual Insepction' with worn tool is relatively larger than that with unworn tool.\n>        <p>It is thought that machining with worn tool does not affect machinig process itself, <u>but humans can detect a slight difference affected by worn tools.<\/u><\/p><\/li>\n><\/ul>\n><\/div>","375d1f5b":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","9c9a4c10":"### Current","75c6e7d9":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","a89459a9":"### Current\n><div class=\"alert alert-success\" role=\"alert\">\n><ul>\n><li>experiments which had worn tools are not distinctive.<\/li>\n><li>experiments which did not finalize machining and pass visual inspection are seem to have low frequecy of change in <u>X\/Y\/S<\/u> axes.<\/li>\n><\/ul>\n><\/div>","6c5b06d2":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","13cdaedb":"## Feature Engineering","4a844812":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","9cc0550c":"### Machine Inputs\n><div class=\"alert alert-success\" role=\"alert\">\n>Observation of material is only 'wax'. So this column is <u>not applicable to modeling feature<\/u>.\n><\/div>","6c1543a8":"# 5. EDA\n### Some points to focus on\n>* Machining Process Unique\n>* Mean value of velocity,voltage,feedrate(x,y,z)\n>* distribution of feedrate, clamp_pressure\n>* correlation of each features\n>* time series plot of each experiment\n>* difference of distribution for each output feature","457e37cd":"## Basic Analysis","cd5e1756":"### Differential Features\n<div class=\"alert alert-success\" role=\"alert\">\n<ul>\n<li>differences between <b>Actual<\/b> and <b>Command<\/b> position can indicate <u>a sign of maching failure<\/u>.<\/li>\n<\/ul>\n<\/div>","0058d304":"> plot function to output all experiment fft result","333d3f33":"# 8. References\n>* **Seaborn Tricks**  \n>https:\/\/catherineh.github.io\/programming\/2016\/05\/24\/seaborn-pairgrid-tips\n>* **Numpy FFT Tricks**  \n>https:\/\/stackoverflow.com\/questions\/25735153\/plotting-a-fast-fourier-transform-in-python\n>* **LightGBM Parameter List**  \n>https:\/\/lightgbm.readthedocs.io\/en\/latest\/Parameters.html\n>* **Introduction of CNC anomaly detection**  \n>https:\/\/medium.com\/machinemetrics-techblog\/using-pca-and-clustering-to-detect-machine-anomalies-part-1-ba89f6a6a8cd\n>* **SHAP README**  \n>https:\/\/github.com\/slundberg\/shap","c19a842b":"# 1. Overview","faa66dd4":"## Multivariate Analysis","1ec8cb13":"## Frequency Analysis\n><div class=\"alert alert-success\" role=\"alert\">\n><ul>\n><li>experiments which did not finalize machining seem to have high amplitude in certain frequencies.\n><li>experiments which did not pass visual inspection seem to have high amplitude in certain frequencies too.\n>    <p>this is not so obvious in univariate plot above.<br\/>\n>       these discoveries observed in frequency analysis can be <u>related to why humans can detect machining failures<\/u>.<\/p><\/li>\n><\/ul>\n><\/div>","13bab28d":"### Velocity\n><div class=\"alert alert-success\" role=\"alert\">\n>Machining Finalized\n><ul>\n><li>distribution of <b>velocity in S axis<\/b> in machining not finalized experiment has <u>lower kurtosis<\/u>.<\/li>\n><\/ul>\n><\/div>","41f63faf":"### Current\n><div class=\"alert alert-success\" role=\"alert\">\n>Machining Finalized\n><ul>\n><li>distribution of <b>current in X\/Y\/S axes<\/b> in machining not finalized experiment has <u>higher kurtosis<\/u>.<\/li>\n><\/ul>\n><\/div>","26effad3":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","fc7ecb10":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","3359e7ba":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","38142e9a":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","99740787":">label encoding & drop unnecessary columns","2d25643e":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","4d0bbb55":"### Label Normalization\n<div class=\"alert alert-success\" role=\"alert\">\nCount of 'Starting' and 'end' label in Machining_Process column is relatevely small.<br\/>\nSo we need to normalize these outlier labels into alternative label.<br\/>\n<ul>\n    <li>Starting -> Prep<\/li>\n    <li>end -> End<\/li>\n<\/ul>\n<\/div>","f786df98":"### Velocity","0a595633":"# 4. Pre-processing","18740df4":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","00b7d775":"# 6. Modeling\n* Target variables :\n    * tool_condition\n    * machining_finalized\n    * passed_visual_inspection\n* Through some experiment cases, I examined which features are more important to make robust prediction models.\n    * Especially I wanted to know which CNC imformation, for example tool position or current, is most important to detect machine failure.","7626c0f8":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","2ca1a24e":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","f63de7eb":"### Feedrate \/ Clamp Pressure\n><div class=\"alert alert-success\" role=\"alert\">\n>Tool Condition\n><ul>\n><li>distributions of <b>clamp pressure<\/b> with unworn\/worn tool are almost same.<\/li>\n><li>distribution of <b>feedrate<\/b> with worn tool is <u>more wider<\/u> than that with unworn tool.<\/li>\n><\/ul>\n>Machining Finalized\n><ul>\n><li>distribution of <b>clamp pressure<\/b> in machining not finalized experiment has <u>lower kurtosis<\/u>.<\/li>\n><li>distribution of <b>feedrate<\/b> in machining not finalized experiment has <u>higher kurtosis<\/u>.<\/li>\n><\/ul>\n><\/div>","be6956e9":"### Velocity\n><div class=\"alert alert-success\" role=\"alert\">\n><ul>\n><li>experiments which had worn tools are not distinctive.<\/li>\n><li>experiments which did not finalize machining and pass visual inspection are seem to have certain patterns in <u>X\/Y\/S<\/u> axes.\n>    <p>wide range of change<br\/> \n>       low frequecy of change<\/p><\/li>\n><\/ul>\n><\/div>","ecac705e":"## Project Detail\n>In [this Dataset](https:\/\/www.kaggle.com\/shasun\/tool-wear-detection-in-cnc-mill), collected data in machining experiments are given. Machining data was collected from a CNC machine for variations of tool condition, feed rate, and clamping pressure. <br\/>\n><ul>\n>    <li>feed rate<\/li>\n>        <p>relative velocity of the cutting tool along the workpiece (mm\/s)<\/p>\n>    <li>clamping pressure<\/li>\n>        <p>pressure used to hold the workpiece in the vise (bar)<\/p>\n><\/ul>\n>In 18 machining experiments, time series data was collected with a sampling rate of 100 ms from the 4 motors in the CNC (X, Y, Z axes and spindle).<br\/>\n>And output of each experiments includes tool condition (unworn and worn tools) and whether or not the tool passed visual inspection.<br\/>\n>We can enjoy this dataset for tool wear detection or detection of inadequate clamping.\n\n## Goal of this notebook\n>* Practice EDA technique\n>* Practice visualising technique(especially using bokeh via holoviews)\n>* Practice feature enginieering technique\n>    * Lag features\n>    * Differential feature\n>* Practice modeling technique\n>    * LightGBM\n>* Causal analysis skill\n>* Frequency analysis skill\n>    * FFT","ee798d57":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","a4cba4f1":"## Univariate Analysis","e29a94ec":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","570b5879":"><div class=\"alert alert-success\" role=\"alert\">\n>Feature Importrance top-20\n><ol>\n><li><font color='red'>X1<\/font>_Actual<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='red'>X1<\/font>_CurrentFeedback<\/li>\n><li><font color='red'>X1<\/font>_ActualPosition<\/li>\n><li><font color='red'>X1<\/font>_DCBus<font color='orange'>Voltage<\/font><\/li>\n><li><font color='red'>X1<\/font>_ActualAcceleration<\/li>\n><li><font color='red'>X1<\/font>_Output<font color='orange'>Voltage<\/font><\/li>\n><li><font color='red'>X1<\/font>_Actual<font color='magenta'>Velocity<\/font>_<font color='lime'>High_Amp<\/font><\/li>\n><li><font color='blue'>Y1<\/font>_CurrentFeedback<\/li>\n><li>Z1_ActualPosition_<font color='lime'>High_Amp<\/font><\/li>\n><li><font color='red'>X1<\/font>_CommandAcceleration<\/li>\n><li><font color='blue'>Y1<\/font>_Output<font color='orange'>Voltage<\/font><\/li>\n><li><font color='red'>X1<\/font>_Command<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='red'>X1<\/font>_OutputPower<\/li>\n><li><font color='blue'>Y1<\/font>_DCBus<font color='orange'>Voltage<\/font><\/li>\n><li>S1_ActualAcceleration<\/li>\n><li>S1_ActualPosition<\/li>\n><li><font color='blue'>Y1<\/font>_Actual<font color='magenta'>Velocity<\/font><\/li>\n><li>S1_OutputPower<\/li>\n><li><font color='blue'>Y1<\/font>_Command<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='blue'>Y1<\/font>_OutputPower<\/li>\n><\/ol>\n><\/div>","d4524103":"## Case3 : Passed Visual Inspection","798a9629":"### Volatage","4e029a2d":"### Machining Process","03061935":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","22f734a2":"><div class=\"alert alert-success\" role=\"alert\">\n>Feature Importrance top-20\n><ol>\n><li><font color='red'>X1<\/font>_Actual<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='red'>X1<\/font>_CurrentFeedback<\/li>\n><li><font color='red'>X1<\/font>_ActualPosition<\/li>\n><li><font color='red'>X1<\/font>_ActualAcceleration<\/li>\n><li><font color='red'>X1<\/font>_DCBus<font color='orange'>Voltage<\/font><\/li>\n><li><font color='red'>X1<\/font>_Command<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='blue'>S1<\/font>_Actual<font color='magenta'>Velocity<\/font>_<font color='lime'>High_Freq<\/font><\/li>\n><li><font color='red'>X1<\/font>_Output<font color='orange'>Voltage<\/font><\/li>\n><li>Y1_CurrentFeedback<\/li>\n><li><font color='red'>X1<\/font>_CommandAcceleration<\/li>\n><li><font color='red'>X1<\/font>_OutputPower<\/li>\n><li><font color='red'>X1<\/font>_Command<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='blue'>S1<\/font>_Actual<font color='magenta'>Velocity<\/font>_<font color='lime'>High_Freq<\/font><\/li>\n><li><font color='red'>X1<\/font>_DCBus<font color='orange'>Voltage<\/font>_<font color='lime'>High_Freq<\/font><\/li>   \n><li><font color='red'>X1<\/font>_Command<font color='magenta'>Velocity<\/font><\/li>\n><li><font color='blue'>S1<\/font>_Actual<font color='magenta'>Velocity<\/font>_<font color='lime'>High_Freq<\/font><\/li>\n><li><font color='red'>X1<\/font>_ActualPosition_<font color='lime'>High_Amp_Freq<\/font><\/li>\n><li><font color='red'>X1<\/font>_ActualPosition_<font color='lime'>High_Freq<\/font><\/li>\n><li>Y1_DCBus<font color='orange'>Voltage<\/font><\/li>\n><li><font color='blue'>S1<\/font>_ActualAcceleration<\/li>\n><\/ol>\n><\/div>","387fbc25":"><div class=\"alert alert-success\" role=\"alert\">\n>Feature Importrance top-20\n><ol>\n><li><font color='red'>X1<\/font>_ActualVelocity<\/li>\n><li><font color='red'>X1<\/font>_CurrentFeedback<\/li>\n><li><font color='red'>X1<\/font>_Actual<font color='magenta'>Position<\/font><\/li>\n><li><font color='red'>X1<\/font>_ActualAcceleration<\/li>\n><li><font color='red'>X1<\/font>_DCBus<font color='orange'>Voltage<\/font><\/li>\n><li><font color='red'>X1<\/font>_Output<font color='orange'>Voltage<\/font><\/li>\n><li>S1_Actual<font color='magenta'>Position<\/font>_<font color='lime'>High_Amp<\/font><\/li>\n><li><font color='red'>X1<\/font>_OutputPower<\/li>\n><li><font color='blue'>Y1<\/font>_Output<font color='orange'>Voltage<\/font><\/li>\n><li><font color='blue'>Y1<\/font>_CurrentFeedback<\/li>\n><li><font color='blue'>Y1<\/font>_ActualVelocity<\/li>\n><li><font color='red'>X1<\/font>_CommandVelocity<\/li>\n><li><font color='blue'>Y1<\/font>_DCBus<font color='orange'>Voltage<\/font><\/li>\n><li><font color='red'>X1<\/font>_CommandAcceleration<\/li>   \n><li>S1_Actual<font color='magenta'>Position<\/font><\/li>\n><li><font color='blue'>Y1<\/font>_Actual<font color='magenta'>Position<\/font><\/li>\n><li><font color='red'>X1<\/font>_Command<font color='magenta'>Position<\/font><\/li>\n><li>S1_CurrentFeedback<\/li>\n><li>S1_ActualAcceleration<\/li>\n><li><font color='blue'>Y1<\/font>_OutputPower<\/li>\n><\/ol>\n><\/div>","03d696d4":"## Case2 : Machining Finalized","53ec13fa":"### Voltage\n><div class=\"alert alert-success\" role=\"alert\">\n>Machining Finalized\n><ul>\n><li>distribution of <b>voltage in X\/Y\/S axes<\/b> in machining not finalized experiment has <u>higher skewness<\/u>.<\/li>\n><\/ul>\n><\/div>","ad86e22f":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","0a130b9b":"<h2 style=\"text-align:center;font-size:200%;;\">CNC milling machine - Tool Wear Detection<\/h2>\n<h3  style=\"text-align:center;\">Keywords : <span class=\"label label-success\">IoT<\/span> <span class=\"label label-success\">EDA<\/span> <span class=\"label label-success\">Classification<\/span> <span class=\"label label-success\">Causal Analysis<\/span> <span class=\"label label-success\">FFT<\/span><\/h3>","7e24e628":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","a532aa34":">NaN in passed_visual_inspection in experiment result means machining_finalized is no, which means machining process was not finished correctly and did not proceed to visual inspection process. So, we need to fill NaN with no.","84c24709":"# 2. Import libraries","9a1404ed":"# 7. Conclusion\n><div class=\"alert alert-success\" role=\"alert\">\n><h4>Tool Wear<\/h4>\n><ul>\n>    <li><b>X-axis<\/b> and <b>S-axis<\/b> data have a great influence to tool wears, and the movement of X-axis and S-axis can be a bad affect to tool wear.<\/li>\n>    <li><b>Velocity<\/b> and <b>voltage<\/b> have a large influence in the collected data.<\/li>\n>    <li>A certain number of features created by <b>FFT<\/b> are also included in the top of feature importances, and it is considered that <u>tool wear increased the amplitude in the specific frequency range<\/u>.<\/li>\n><\/ul>   \n><br\/>\n><h4>Machining Finalized<\/h4>\n><ul>\n>    <li><b>X-axis<\/b> and <b>Y-axis<\/b> data have a great influence to tool wears, and the movement of X-axis and Y-axis can be a bad affect to machining process.<\/li>\n>    <li><b>Position<\/b> and <b>voltage<\/b> have a large influence in the collected data.<\/li>\n><\/ul>    \n><br\/>  \n><h4>Passed Visual Inspection<\/h4>\n><ul>\n>    <li><b>X-axis<\/b> and <b>Y-axis<\/b> data have a great influence to tool wears, and the movement of X-axis and Y-axis may be a bad affect to machining process.<\/li>\n>    <li><b>Velocity<\/b> and <b>voltage<\/b> have a large influence in the collected data.<\/li>\n>    <li>The importance of features created by <b>FFT<\/b> increased compared to Machining Finalized case.\n        <p>It is considered that the influence of tool weariness to the specific frequency range is <u>related to an external processing result that can be detected by humans<\/u>.<\/p><\/li>\n><\/ul>\n><br\/>\n><h4>Others<\/h4>\n><ul>\n>    <li>Through all the experiment, there is almost no importance in Z-axis data.<\/li>\n>    <li>The <b>differential features<\/b> do not have a large influence on the detection of anomalies throughout, and it is thought that <u>the difference between the command and the actual position was negligibly small for tool wear and machining process<\/u> in most cases.<\/li>\n><\/ul>\n><br\/>  \n><p>In order to proceed to more detailed analysis, it is necessary to deepen the understanding of the operating principles of processing machines.<\/p>\n><br\/> \n><\/div>","69b2b206":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","1b59fd54":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>","ff5201e1":"<a href=\"#top\" class=\"btn btn-success btn-sm active\" role=\"button\" aria-pressed=\"true\" style=\"color:white;\">Table of Contents<\/a>"}}