{"cell_type":{"f17f7417":"code","4b0427a1":"code","ac038916":"code","b2253d89":"code","55ed63c1":"code","f3f99dbb":"code","8c416385":"code","51af5bc1":"code","81223422":"code","e5268555":"code","96518d04":"code","49534d55":"code","02fc3976":"code","105643eb":"code","5522db86":"code","315956a3":"code","cf4f4359":"code","2c6db4e3":"code","24caaed5":"code","8364c252":"code","6a8f077c":"code","2b66fd0a":"code","5fa61f12":"code","860c463f":"code","91559536":"code","c1ee98f9":"code","c8720214":"code","5f455c1a":"code","7bf3502b":"code","fc4c0caf":"code","27803ed8":"code","67f43b52":"code","625f8f31":"code","56e40086":"code","017437d3":"code","45c4f97d":"code","7f1b4a26":"code","f07e57af":"code","e8c56841":"code","b7fba748":"code","0b812e68":"markdown","517a4078":"markdown","799ce9b9":"markdown","f5bc3d05":"markdown","d43e240d":"markdown","0e492cdc":"markdown","15c770c8":"markdown","024e850f":"markdown","9d477682":"markdown","fdb90fbf":"markdown","8f2fa052":"markdown","01b9ae4c":"markdown","3b20cea5":"markdown","067a577c":"markdown","c965c9be":"markdown","a36e1a98":"markdown"},"source":{"f17f7417":"import tensorflow as tf\ntf.__version__","4b0427a1":"import os\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport scipy as sp\nimport keras\nimport sklearn\n\nplt.style.use('seaborn')\nsns.set(font_scale=2) # \uc77c\uc77c\uc774 graph \uc758 font size \ub97c \uc9c0\uc815\ud560 \ud544\uc694 \uc5c6\uc774 seaborn \uc758 font_scale \uc744 \uc0ac\uc6a9\ud558\uba74 \ud3b8\ud568.\n#import missingno as msno\n\n#ignore warnings\nimport warnings\nwarnings.filterwarnings('ignore') # \uc6cc\ub2dd \uba54\uc138\uc9c0 \uc0dd\ub7b5\n\n#\ub178\ud2b8\ubd81 \uc548\uc5d0 \uadf8\ub798\ud504\ub97c \uadf8\ub9ac\uae30 \uc704\ud574\n%matplotlib inline","ac038916":"os.listdir(\"..\/input\")","b2253d89":"# \ub370\uc774\ud130 \uc804\uccb4\ndf_train = pd.read_csv('..\/input\/train.csv')\n# \ud14c\uc2a4\ud2b8 \ud574\uc57c\ud560 \ud30c\uc77c\ndf_test = pd.read_csv('..\/input\/test.csv')\n# \uce90\uae00\uc5d0 \uc81c\ucd9c\ud560 \ud30c\uc77c\ndf_submit = pd.read_csv('..\/input\/sample_submission.csv')","55ed63c1":"df_train.shape, df_test.shape, df_submit.shape","f3f99dbb":"df_test.columns","8c416385":"df_train.columns","51af5bc1":"df_submit.columns","81223422":"df_train.head()","e5268555":"df_test.head()","96518d04":"df_submit.head()","49534d55":"df_train.dtypes","02fc3976":"#pandas \uc758 describe()\ub97c \uc774\uc6a9\ud574 \uac01 feature\uac00 \uac00\uc9c4 \ud1b5\uacc4 \ubc18\ud658\ndf_train.describe()","105643eb":"# bathroons \ub370\uc774\ud130 \ubd84\ud3ec\ub3c4 \ud655\uc778\nvalue_counts = df_train['bathrooms'].value_counts()\nprint(value_counts)\nprint(type(value_counts))","5522db86":"df_test.describe()","315956a3":"obj_df = df_train.select_dtypes(include=['object']).copy()\nobj_df.head()","cf4f4359":"# \uc0c1\uad00\uad00\uacc4 \ud655\uc778\ncor_mat = df_train.corr()\ncor_mat","2c6db4e3":"#price\uc640\uc758 \uc0c1\uad00\uad00\uacc4 \ub0b4\ub9bc\ucc28\uc21c \uc8fc\uc694 \ud53c\uccd0 \ud655\uc778\ncor_mat[\"price\"].sort_values(ascending = False)","24caaed5":"#heatmap\uc73c\ub85c \uc0c1\uad00\uad00\uacc4 \ud655\uc778\n\ncor_abs = abs(df_train.corr(method='spearman')) \ncor_cols = cor_abs.nlargest(n=10, columns='price').index # price\uacfc correlation\uc774 \ub192\uc740 column 10\uac1c \ubf51\uae30(\ub0b4\ub9bc\ucc28\uc21c)\n# spearman coefficient matrix\ncor = np.array(sp.stats.spearmanr(df_train[cor_cols].values))[0] # 10 x 10\nprint(cor_cols.values)\nplt.figure(figsize=(10,10))\nsns.set(font_scale=1.25)\nsns.heatmap(cor, fmt='.2f', annot=True, square=True , annot_kws={'size' : 8} ,xticklabels=cor_cols.values, yticklabels=cor_cols.values)","8364c252":"#\uc124\ub9bd \uc5f0\ub3c4\ubcc4 \ubd84\ud3ec\ndf_train[\"yr_built\"].hist(bins = 100, figsize = (10, 10))","6a8f077c":"# \uc5f0\uc18d\ud615 \ubcc0\uc218\uc758 \ubd84\ud3ec\ncontinuous = ['sqft_living', 'sqft_lot', 'sqft_above', 'sqft_basement', 'lat', 'long', 'sqft_living15', 'sqft_lot15']\nplt.figure(figsize=(10,20))\ncount = 1\nfor col in continuous:\n    plt.subplot(len(continuous), 1, count)\n    # plt.title(col)\n    sns.distplot(df_train[col])\n    count += 1\nplt.tight_layout()","2b66fd0a":"# \ube44\uc5f0\uc18d\ud615 \ubcc0\uc218\uc758 \ube48\ub3c4\ubd84\ud3ec\n# yr_built, yr_renovated, zipcode\ub294 \uc81c\uc678\nnon_continuous = ['bedrooms', 'bathrooms', 'floors','waterfront', 'view', 'condition', 'grade']\nplt.figure(figsize=(10,20))\ncount = 1\nfor col in non_continuous:\n    plt.subplot(len(non_continuous), 1, count)\n    # plt.title(col)\n    sns.countplot(x=col,data=df_train)\n    count += 1\nplt.tight_layout()","5fa61f12":"df_train.columns","860c463f":"# \uac00\uc7a5 \ub192\uc740 grade\uc758 \nsns.boxplot(data=df_train, x='grade', y='price')","91559536":"# sqft_living \uacfc\uc758 \uc0c1\uad00\ubd84\ud3ec \ud655\uc778\nsns.jointplot(data=df_train, x='sqft_living', y='price', kind=\"reg\", color=\"m\",height=8)\nplt.show()","c1ee98f9":"# sqft_living15\nsns.jointplot(data=df_train, x='sqft_living15', y='price',kind=\"reg\", color=\"m\",height=8)\nplt.show()","c8720214":"# sqft_above\nsns.jointplot(data=df_train, x='sqft_above', y='price',kind=\"reg\", color=\"m\",height=8)\nplt.show()","5f455c1a":"plt.figure(figsize=(14,7))\nplt.subplot(1,2,1)\nplt.title(\"Location with Density\")\nsns.scatterplot(data=df_train, x='long', y='lat', alpha=0.3, color='k')\nplt.subplot(1,2,2)\nplt.title(\"Location with Price\")\nsns.scatterplot(data=df_train, x='long', y='lat', alpha=0.3, color='r', hue='price')\n# hue = '\uce7c\ub7fc'  <- \uce74\ud14c\uace0\ub9ac \ubcc0\uc218\ub97c \uc124\uc815\ud558\uc5ec \ubcc0\uc218\uc5d0 \ub530\ub978 \uc0c9 \ubd84\ud3ec\ub97c \uc9c0\uc815\ud574 \uc904 \uc218 \uc788\uc74c","7bf3502b":"plt.figure(figsize=(10,6))\nsns.distplot(df_train['price'])","fc4c0caf":"# log\ub97c \ucde8\ud558\uc5ec \ub2e4\uc2dc \uadf8\ub824\ubcf4\uc790\nplt.figure(figsize=(10,6))\nsns.distplot(np.log1p(df_train['price']))","27803ed8":"train = pd.read_csv(\"..\/input\/train.csv\")","67f43b52":"train.drop(columns=['id'], inplace=True)\ndf = train.copy()","625f8f31":"train.shape","56e40086":"train.columns","017437d3":"train['buy_year'] = train['date'].map(lambda x : int(x.split('T')[0][:4]))\ntrain['buy_month'] = train['date'].map(lambda x : int(x.split('T')[0][4:6]))\ntrain['buy_day'] = train['date'].map(lambda x : int(x.split('T')[0][6:]))","45c4f97d":"train.head(10)","7f1b4a26":"train.drop(columns=['date'], inplace=True)","f07e57af":"train.columns","e8c56841":"train[['buy_year', 'buy_month','buy_day', 'price']].corr()","b7fba748":"train['view'].value_counts() # 1~5\uae4c\uc9c0 \ub9de\ucdb0\uc11c condition\ud558\uace0 \uc5ee\uc5b4\ubcf4\uc790.","0b812e68":"- 11 grade\uc5d0 \uc5c4\uccad \ud280\ub294 outlier\uac00 \uc788\ub294 \uac83\uc73c\ub85c \ud655\uc778\n (1.5 x IQR \ubcf4\ub2e4 \ub192\uac70\ub098 \ub0ae\uc740 \uac12\ub4e4\uc740 outlier)","517a4078":"\uc704\ub3c4 \uacbd\ub3c4 \ubd84\ud3ec\uc5d0 \ub530\ub77c \uac00\uaca9\uc758 \ucc28\uc774\uac00 \uc788\ub294\uc9c0 \ud655\uc778\ud558\uc600\ub2e4.\n\n","799ce9b9":"#### \uc0c1\uad00\uad00\uacc4\ub85c \uc8fc\uc694\ud53c\uccd0\ub97c \ucc3e\uc790\uba74\n- sqft_living \n- grade\n- sqft_above\n- sqft_living15\n- bathroom\n\n\uc774\uc815\ub3c4\uac00 top 5\ub85c \uc8fc \ud53c\uccd0\uac00 \ub420 \uac83 \uac19\uc74c.","f5bc3d05":"\uc124\ub9bd \uc5f0\uc6d4\uc77c \ubaa8\ub450 \ud070 \uc0c1\uad00\uad00\uacc4\uac00 \uc788\uc9c0 \uc54a\uc74c","d43e240d":"- - - \n# 2. EDA (Exploratory Data Analysis)","0e492cdc":"- - -\n# 4. \uc774\uc678 \ubcc0\uc218 \ud655\uc778","15c770c8":"- \uc8fc\uac70\uba74\uc801 14000\uc758 price 2000000\uc778 \uc218\uce58 \uc81c\uac70? \ud655\uc778\ud544\uc694","024e850f":"\uc6b0\ub9ac\uac00 \ub2e4\ub8e8\ub294 \ubb38\uc81c\uc5d0\uc11c \n\uc608\uce21\ud558\uace0\uc790 \ud558\ub294 target label \uc740 \uc8fc\ud0dd id\uc5d0 \ub300\ud55c price.","9d477682":"**#1. DATA SET \ud655\uc778**","fdb90fbf":"#### \uce7c\ub7fc\ubcc4\ub85c price\uc640\uc758 \uc0c1\uad00\uad00\uacc4 \ubd84\uc11d\n","8f2fa052":"_\uc9c0\ub9ac\uc801 \uc815\ubcf4 \uc2dc\uac01\ud654_","01b9ae4c":"# 0. \ud328\ud0a4\uc9c0 \ub77c\uc774\ube0c\ub7ec\ub9ac import","3b20cea5":"\ubd84\uc11d\n\n- price\uc640 \uac00\uc7a5 \uc0c1\uad00\uad00\uacc4\uac00 \ub192\uac8c \ub098\uc628 \uceec\ub7fc\ub4e4\uc744 plot\uc73c\ub85c \ud655\uc778\ud574\ubcf8\ub2e4.\n- sqft_living, grade, sqft_above, sqft_living15","067a577c":"count\uac12\uc774 \ubaa8\ub450 15035 \uc774\ubbc0\ub85c \uacb0\uce21\uce58\ub294 \uc5c6\ub294\ub4ef.\n","c965c9be":"- - -\n# 3. price\uc758 \ubd84\ud3ec \ud655\uc778\uacfc log\uc2a4\ucf00\uc77c\ub9c1 \n- \uc815\uaddc \ubd84\ud3ec\uc5d0 \uac00\uae4c\uc6b4 \ubd84\ud3ec\ub97c \ubcf4\uc77c \uc218\ub85d \uc120\ud615\ud68c\uadc0\ubaa8\ud615\uc758 \uc131\ub2a5\uc774 \uc88b\uc544\uc9c0\ub294 \uacbd\uc6b0\uac00 \ub9ce\ub2e4. \n- price\uc758 \ubd84\ud3ec \ud655\uc778 \ud6c4 \uc815\uaddc\ubd84\ud3ec \ub9cc\ub4e4\uae30 \uc704\ud574 log\ub97c \ucde8\ud568","a36e1a98":"\uacb0\ub860:\n* \uc5ec\ub7ec\uac00\uc9c0 \uc774\uc0c1\uce58 \ud655\uc778\n* \uc120\ud615\uad00\uacc4\uc758 \uce7c\ub7fc: 'grade', 'sqft_living' "}}