{"cell_type":{"54f6281b":"code","0539a50b":"code","6e8085df":"code","8142f6de":"code","43bcf932":"code","fdb1aad5":"code","60f86fcd":"code","16c459eb":"code","14d30db4":"code","2c05d310":"code","34306de1":"code","73aa50db":"code","59d84434":"code","7a304e2b":"code","8fbf4a7c":"code","ba351272":"code","b1b0dcb4":"code","a7abf84e":"code","ad81f14c":"markdown","1e97ec18":"markdown","c9e65aa4":"markdown","e8f489be":"markdown","e7dd0c05":"markdown","03f4c4cb":"markdown","f711fca9":"markdown","92e3db5d":"markdown","0af5928c":"markdown"},"source":{"54f6281b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.preprocessing import LabelEncoder\n\nfrom sklearn.metrics import mean_squared_error\n\nsns.set_style({ \n    'axes.spines.bottom': False,\n    'axes.spines.left': False,\n    'axes.spines.right': False,\n    'axes.spines.top': False,\n    'xtick.bottom': False,\n    'ytick.left': False\n})","0539a50b":"data = pd.read_csv('..\/input\/car data.csv')\ndata.head()","6e8085df":"data.isnull().sum()","8142f6de":"data.info()","43bcf932":"data.describe(include='all')","fdb1aad5":"sns.pairplot(data)","60f86fcd":"fig,ax1 = plt.subplots(figsize=(15,10))\nsns.scatterplot(x='Kms_Driven',y='Selling_Price',data=data,ax=ax1)","16c459eb":"data['Y_S_L'] = 2019 - data.Year\ndata.head()","14d30db4":"sns.catplot(x='Y_S_L',y='Selling_Price',data=data,kind='point',height=8,aspect=2)\nsns.despine(left=True,bottom=True)","2c05d310":"data.Transmission.value_counts()","34306de1":"data.loc[:,['Transmission','Selling_Price']].sort_values(by=['Selling_Price'],ascending =False)['Transmission'].head(15).value_counts().plot.pie(figsize=(15,15),subplots=True, autopct='%.1f%%',explode=[0,.08],shadow=True)","73aa50db":"le = LabelEncoder()\ndf = pd.get_dummies(data['Fuel_Type'],prefix='FT',drop_first=True)\ndata['Seller_Type'] = le.fit_transform(data['Seller_Type'])\ndata['Transmission'] = le.fit_transform(data['Transmission'])\ndata = pd.concat([data,df],axis=1)\ndata.drop(['Fuel_Type'],axis=1,inplace=True)\ndata.head()","59d84434":"fig,ax1 = plt.subplots(figsize=(15,8))\nsns.heatmap(data.corr(),annot=True,ax=ax1,cmap=sns.cm.vlag,cbar=False)","7a304e2b":"def gen_model(X,y):\n    X_train,X_test,y_train,y_test = train_test_split(X,y,test_size=0.3,random_state=10)\n    lr = LinearRegression()\n    \n    lr.fit(X_train,y_train)\n    y_pred = lr.predict(X_test)\n    \n    coeffecients = pd.DataFrame(lr.coef_,X.columns)\n    coeffecients.columns = ['Coeffecient']\n    print(f' Coefficients : \\n {coeffecients} \\n')\n    \n    mse = mean_squared_error(y_test,y_pred)\n    rmse = np.sqrt(mse)\n    print(f'Mean Squared Error of Test Set : {mse}')\n    print(f'Root Mean Square Error of Test Set : {rmse}')\n    \n    yt_pred = lr.predict(X_train)\n    tmse = mean_squared_error(y_test,y_pred)\n    trmse = np.sqrt(mse)\n    print(f'Mean Squared Error of Train Set : {tmse}')\n    print(f'Root Mean Square Error of Train Set : {trmse}')\n    \n\n    fig,ax1 = plt.subplots(figsize=(15,8))\n    fig = sns.scatterplot(y_test,y_pred,ax=ax1)\n    plt.xlabel('Y true')\n    plt.ylabel('Y predicted')\n    plt.title('True vs Predicted')\n    plt.show(fig)\n    \n    fig,ax1 = plt.subplots(figsize=(15,8))\n    fig = sns.distplot((y_test-y_pred),ax=ax1);\n    plt.title('Residual Distrubution')\n    plt.show(fig)","8fbf4a7c":"#train test_split\nX = data.drop(['Car_Name','Selling_Price'],axis = 1)\ny = data['Selling_Price']","ba351272":"gen_model(X,y)","b1b0dcb4":"#train test_split\nX = data.drop(['Car_Name','Selling_Price','Kms_Driven','Seller_Type','Transmission',\n               'Owner', 'Y_S_L','FT_Petrol'],axis = 1)\ny = data['Selling_Price']","a7abf84e":"gen_model(X,y)","ad81f14c":"**Lucky there are no missing values**","1e97ec18":"**First Hypothesis turns out to be true**\n\n## Hypothesis - 2","c9e65aa4":"**Now Lets Check few Hypothesis**\n\n* **Hypothesis - 1 :**Less Driven cars have high selling price\n* **Hypothesis - 2 :**Latest Cars will have high selling price\n* **Hypothesis - 3 :**Automatic Transmission Cars have high selling price\n\nLets check our hypothesis\n\n## Hypothesis - 1","e8f489be":"\n## Model-2","e7dd0c05":"**The Selling Price has Strong Correlation with Year and Present Price , Diesel Fuel Type of the car**\n\n**I am gonna create 2 models**\n* **Model with all features**\n* **Model with Strong Correlated features**","03f4c4cb":"=======================================================================================================\n\n\n**In this post we are going to explore dataset of car prices to predict the best price a car can get.The price of car depends on many factors**\n* Make and Model of the car\n* Type of Transmission\n* Fuel type and so on\n\n![Image Credit : Unsplash](https:\/\/images.unsplash.com\/photo-1505691730847-e62da813ed0e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=889&q=80)\n\n=======================================================================================================\n\nLets look at our data","f711fca9":"**Top 15 cars with high sale price have Automatic transmission.That proves our 3rd hypothesis**\n\n**Now Lets get in to prediction**","92e3db5d":"**Second hypothesis is also true**\n\n## Hypothesis - 3","0af5928c":"\n## Model-1"}}