{"cell_type":{"7326c4a8":"code","5dfd7eae":"code","b4ff24cc":"code","799f58f3":"code","aa2b2c45":"code","da95a037":"code","ced9b92c":"code","c8318b7b":"code","403c90c8":"code","dceea480":"code","9369da4c":"code","3f6efe92":"code","61df245f":"code","0a614365":"code","03996dc4":"code","170e823d":"code","4cd3c0a9":"code","2416a3b5":"code","8d465b38":"code","8df86a1a":"code","f72ea690":"code","d9ce4de9":"code","d0c6548e":"code","13b43ec7":"code","c22781d5":"code","130af3ce":"code","ad5fd8e3":"code","e0846441":"code","fa2423b7":"code","95c08f3d":"code","0b8ae79b":"code","7dec6a30":"code","163643fc":"code","8aa19f1b":"code","55332d9e":"code","2a9627da":"code","89bd062f":"code","703c9704":"code","afc38080":"code","b5b39dae":"code","bc627f69":"code","a528046a":"code","4c70a4b9":"code","453bd53e":"code","fb3306a2":"code","e80fe761":"code","06cb8591":"code","c71f318d":"code","bb0ba8e8":"code","dd8b4ce0":"code","8dbd1903":"code","47b8290c":"code","73433f4a":"code","67cf5c25":"code","35b8505b":"code","36899cd2":"code","c2e1bedc":"code","683037da":"code","c7d2eb42":"code","29241742":"code","9dcf3cae":"code","9b8bc0a7":"code","f69557bf":"code","13d99b51":"code","f4f6f978":"code","31f646ee":"code","68b6cee5":"code","8dffb18b":"code","df51f146":"code","818cb7c5":"code","d5ec589f":"markdown","8a22884a":"markdown","5e706c34":"markdown","259774cb":"markdown","3fc2ecf7":"markdown","06645e2d":"markdown","e8065180":"markdown","bb4cd39d":"markdown","cc013274":"markdown","15a80c17":"markdown","69286353":"markdown","47fbd60d":"markdown","ab663cc3":"markdown","7b915eb3":"markdown","e06a2951":"markdown","0832893c":"markdown","8f08b30b":"markdown","5cc9066b":"markdown","73a3f58f":"markdown","ee9aea39":"markdown","4f7346f3":"markdown","cd2bd4ea":"markdown"},"source":{"7326c4a8":"import numpy as np\nimport pandas as pd\nimport os\nimport plotly.graph_objects as go\nfrom plotly.offline import iplot, init_notebook_mode\ninit_notebook_mode(connected=True)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom plotly.offline import iplot, init_notebook_mode\ninit_notebook_mode(connected=True)\nimport plotly_express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nfrom plotly.offline import init_notebook_mode\nimport plotly.io as pio\nfrom plotly.subplots import make_subplots\n# setting default template to plotly_white for all visualizations\npio.templates.default = \"plotly_white\"\n%matplotlib inline\nimport gc\n\nfrom colorama import Fore, Back, Style\n\ny_ = Fore.YELLOW\nr_ = Fore.RED\ng_ = Fore.GREEN\nb_ = Fore.BLUE\nm_ = Fore.MAGENTA\nc_ = Fore.CYAN\nres = Style.RESET_ALL\n\nimport warnings\nwarnings.filterwarnings('ignore')\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","5dfd7eae":"details = pd.read_csv('\/kaggle\/input\/indian-premier-league-ipl-all-seasons\/2021\/2021\/season_details.csv', index_col=None)\nsummary = pd.read_csv('\/kaggle\/input\/indian-premier-league-ipl-all-seasons\/2021\/2021\/season_summary.csv', index_col=None)\nbowling = pd.read_csv('\/kaggle\/input\/indian-premier-league-ipl-all-seasons\/2021\/2021\/season_bowling_card.csv', index_col=None)\nbatting = pd.read_csv('\/kaggle\/input\/indian-premier-league-ipl-all-seasons\/2021\/2021\/season_batting_card.csv', index_col=None)\npoints_tbl = pd.read_csv('\/kaggle\/input\/indian-premier-league-ipl-all-seasons\/2021\/2021\/points_table.csv', index_col=None)\nall_summary = pd.read_csv('\/kaggle\/input\/indian-premier-league-ipl-all-seasons\/all_season_summary.csv', index_col=None)\nfix21 = pd.read_csv('\/kaggle\/input\/ipl2021schedule\/IPL2021.csv', index_col=None)\nfix21_uae = pd.read_csv('\/kaggle\/input\/ipl2021schedule\/IPL2021_uae.csv', index_col=None)\n\nfix21_uae.rename(columns={'MATCH NO':'match_num',\n                          'DAY':'day',\n                          'DATE':'date',\n                         'GULF STANDARD TIME (GST)' : 'gulf_std_time',\n                         'INDIAN STANDARD TIME (IST)' : 'indian_std_time',\n                         'TEAM 1': 'home_team',\n                         'TEAM 2' : 'away_team',\n                         'VENUE' : 'city'}, \n                 inplace = True)\n\ndf_teams = fix21.groupby(['home', 'home_team']).size().reset_index()\ndf_teams.home = df_teams.home.astype('str')\ndf_teams.home_team = df_teams.home_team.astype('str')\nteam_map = dict(zip(df_teams.home_team.str.lower(), df_teams.home))\nvenue_map = {'ABU DHABI':'Sheikh Zayed Stadium, Abu Dhabi',\n       'DUBAI':'Dubai International Cricket Stadium', 'SHARJAH':'Sharjah Cricket Stadium'}\n\ndef get_team_code(name):\n    code = ''\n    try:\n        code = team_map[name.lower()]\n    except:\n        pass\n    return code\n\nfix21_uae['home'] = fix21_uae['home_team'].apply(lambda x: get_team_code(x))\nfix21_uae['away'] = fix21_uae['away_team'].apply(lambda x: get_team_code(x))\nfix21_uae['venue'] = fix21_uae['city'].apply(lambda x: venue_map[x])\n","b4ff24cc":"print(f\"{g_}IPL 2021 Venues :{res}\")\nfor item in sorted(fix21.venue.unique()):\n    print(f\"{y_}{item}{res}\")","799f58f3":"print(f\"{r_}IPL 2021 Venues for 2nd Phase in UAE from 19-Sep till 15-Oct 2021:{res}\")\nfor item in sorted(fix21_uae.venue.unique()):\n    print(f\"{b_}{item}{res}\")","aa2b2c45":"fix21.loc[fix21['home_team']!='TBA'].groupby(['venue'])['round'].count().reset_index().rename(columns={'venue':'Venue','round':'Number of games in league stage (only 29 games were completed)'}) ","da95a037":"fix21.loc[fix21['home_team'] =='TBA'].groupby(['venue'])['round'].count().reset_index().rename(columns={'venue':'Venue','round':'Number of playoff games (Planned but now moved to UAE)'}) ","ced9b92c":"fix21_uae.groupby(['venue']).size().reset_index().rename(columns={'venue':'Venue',0:'Number of games'}) ","c8318b7b":"city_map = {'Arun Jaitley Stadium, Delhi' : 'Delhi',\n'Eden Gardens, Kolkata' : 'Kolkata',\n'M. Chinnaswamy Stadium, Bengaluru' : 'Bengaluru',\n'MA Chidambaram Stadium, Chepauk, Chennai' : 'Chennai',\n'Narendra Modi Stadium, Ahmedabad' : 'Ahmedabad', \n'Wankhede Stadium, Mumbai' : 'Mumbai'}\n\nhome_team_map = {'Arun Jaitley Stadium, Delhi' : 'DC',\n'Eden Gardens, Kolkata' : 'KKR',\n'M. Chinnaswamy Stadium, Bengaluru' : 'RCB',\n'MA Chidambaram Stadium, Chepauk, Chennai' : 'CSK',\n'Wankhede Stadium, Mumbai' : 'MI'}\n\nvenue_colors = {'Mumbai' : '#0722ab',\n'Chennai' : '#fdb913',\n'Delhi' : '#004c93',\n'Kolkata' : '#3d2256',\n'Ahmedabad' : '#545252',\n'Bengaluru' : '#ef4022'}\n\nfix21['city'] = fix21['venue'].apply(lambda x : city_map[x])\n\ndef autopct_format(values):\n    def my_format(pct):\n        total = sum(values)\n        val = int(round(pct*total\/100.0))\n        return '{v:d}'.format(v=val)\n    return my_format\n\n#colors\nteams = sorted(fix21.loc[~fix21['home'].isna()]['home'].unique())\n#explsion\nexplode = (0.05,0.05,0.05,0.05)\n\nfig1, ax1 = plt.subplots(4,2, figsize=(12, 12), facecolor='w', edgecolor='b')\nfig1.subplots_adjust(hspace = .5, wspace=.001)\naxs = ax1.ravel()\nfor i in range(8):\n    df_pie = fix21.loc[(fix21['home'] ==teams[i]) |(fix21['away'] ==teams[i])].groupby(['city'])['round'].count().reset_index()\n    # Pie chart\n    labels = df_pie['city']\n    sizes = df_pie['round']\n    patches, texts, autotexts = axs[i].pie(sizes, \n            colors = [venue_colors[key] for key in labels], \n            labels=labels, \n            autopct=autopct_format(sizes), \n            startangle=90, \n            pctdistance=0.85, \n            explode = explode,\n           textprops={'fontsize': 14,\n                     'fontfamily':'Computer Modern'\n                      })\n    \n    [text.set_color('#4a4b52') for text in texts]\n    [autotext.set_color('white') for autotext in autotexts]\n    [autotext.set_weight('bold') for autotext in autotexts]\n    #draw circle\n    centre_circle = plt.Circle((0,0),0.70,fc='white')\n    axs[i].add_artist(centre_circle)\n    # Equal aspect ratio ensures that pie is drawn as a circle\n    axs[i].axis('equal')  \n    axs[i].set_title(teams[i],fontsize = 18)\nplt.tight_layout(pad=3.0)\nplt.subplots_adjust(top=0.91)\nplt.suptitle('Number of games in each city by teams',fontsize = 20)\nplt.show()","403c90c8":"city_map = {'Arun Jaitley Stadium, Delhi' : 'Delhi',\n'Eden Gardens, Kolkata' : 'Kolkata',\n'M. Chinnaswamy Stadium, Bengaluru' : 'Bengaluru',\n'MA Chidambaram Stadium, Chepauk, Chennai' : 'Chennai',\n'Narendra Modi Stadium, Ahmedabad' : 'Ahmedabad', \n'Wankhede Stadium, Mumbai' : 'Mumbai'}\n\nhome_team_map = {'Arun Jaitley Stadium, Delhi' : 'DC',\n'Eden Gardens, Kolkata' : 'KKR',\n'M. Chinnaswamy Stadium, Bengaluru' : 'RCB',\n'MA Chidambaram Stadium, Chepauk, Chennai' : 'CSK',\n'Wankhede Stadium, Mumbai' : 'MI'}\n\nvenue_colors = {'Mumbai' : '#0722ab',\n'Chennai' : '#fdb913',\n'Delhi' : '#004c93',\n'Kolkata' : '#3d2256',\n'Ahmedabad' : '#545252',\n'Bengaluru' : '#ef4022',\n               'DUBAI': '#2a9d8f',\n               'SHARJAH' :'#e76f51',\n               'ABU DHABI' : '#264653' }\n\n\ndef autopct_format(values):\n    def my_format(pct):\n        total = sum(values)\n        val = int(round(pct*total\/100.0))\n        return '{v:d}'.format(v=val)\n    return my_format\n\n#colors\nteams = sorted(fix21_uae.loc[~fix21_uae['home'].isna()]['home'].unique())\nteams.append(teams.pop(teams.index('')))\n\n#explsion\nexplode = (0.05,0.05, 0.05)\n\nfig1, ax1 = plt.subplots(5,2, figsize=(12, 16), facecolor='w', edgecolor='b')\nfig1.subplots_adjust(hspace = .5, wspace=.001)\naxs = ax1.ravel()\nfor i in range(9):\n    df_pie = fix21_uae.loc[(fix21_uae['home'] ==teams[i]) |(fix21_uae['away'] ==teams[i])].groupby(['city'])['home'].count().reset_index()\n    title = ''\n    # Pie chart\n    labels = df_pie['city']\n    sizes = df_pie['home']\n    if teams[i] == '':\n        title = 'Playoffs'\n        explode = (0.05,0.05)\n    else:\n        title = teams[i]\n        explode = (0.05,0.05, 0.05)\n        \n    patches, texts, autotexts = axs[i].pie(sizes, \n            colors = [venue_colors[key] for key in labels], \n            labels=labels, \n            autopct=autopct_format(sizes), \n            startangle=90, \n            pctdistance=0.85, \n            explode = explode,\n           textprops={'fontsize': 14,\n                     'fontfamily':'Computer Modern'\n                      })\n    \n    [text.set_color('#4a4b52') for text in texts]\n    [autotext.set_color('white') for autotext in autotexts]\n    [autotext.set_weight('bold') for autotext in autotexts]\n    #draw circle\n    centre_circle = plt.Circle((0,0),0.70,fc='white')\n    axs[i].add_artist(centre_circle)\n    # Equal aspect ratio ensures that pie is drawn as a circle\n    axs[i].axis('equal')  \n    axs[i].set_title(title,fontsize = 18)\nax1[-1, -1].axis('off')    \nplt.tight_layout(pad=3.0)\nplt.subplots_adjust(top=0.91)\nplt.suptitle('Number of games in each city by teams - 2nd Phase in UAE from 19-Sep till 15-Oct 2021',fontsize = 20)\nplt.show()","dceea480":"def draw_table(fix21, title):\n    fix21['date'] = pd.to_datetime(fix21['date'], format='%Y-%m-%d %H:%M:%S')\n    rowEvenColor = 'lightgrey'\n    rowOddColor = 'white'\n\n    color = [[rowOddColor,rowEvenColor,rowOddColor,rowEvenColor]*len(fix21.index)]\n\n    fig = go.Figure(data=[go.Table(\n        columnwidth = [1.25,1.5,1.5,2,0.5],\n        header=dict(values=['<b>Date<\/b>',\n                            '<b>Home Team<\/b>', \n                            '<b>Away Team<\/b>', \n                            '<b>Venue<\/b>',\n                           '<b>Round<\/b>'],\n                    fill_color='#545252',\n                    font=dict(color='white',size=12),\n                    line_color='darkslategray',\n                    align=['left','center']),\n        cells=dict(values=[fix21['date'].dt.strftime('%d\/%m\/%Y %H:%M'), \n                           fix21['home_team'], \n                           fix21['away_team'], \n                           fix21['venue'],\n                           fix21['round']],\n                   fill_color=color,\n                   line_color='darkslategray',\n                   align=['left','center'],\n                  font=dict(color='darkslategray',size=13)\n                  )\n        )\n    ])\n    fig.update_layout(title=dict(text=title,\n                                                       x=0.5,\n                                                       font_color='black'),\n                      margin=dict(r=20, l=20)\n                     )\n\n\n    iplot(fig)","9369da4c":"draw_table(fix21.iloc[:29], 'IPL 2021 - Games completed in India')","3f6efe92":"def draw_table_uae(fix21, title):\n    #fix21['date'] = pd.to_datetime(fix21['date'], format='%Y-%m-%d %H:%M:%S')\n    rowEvenColor = 'lightgrey'\n    rowOddColor = 'white'\n\n    color = [[rowOddColor,rowEvenColor,rowOddColor,rowEvenColor]*len(fix21.index)]\n\n    fig = go.Figure(data=[go.Table(\n        columnwidth = [1,.5,2,2,2],\n        header=dict(values=['<b>Date<\/b>',\n                            '<b>Day<\/b>',\n                            '<b>Home Team<\/b>', \n                            '<b>Away Team<\/b>', \n                            '<b>Venue<\/b>'\n                           ],\n                    fill_color='#545252',\n                    font=dict(color='white',size=12),\n                    line_color='darkslategray',\n                    align=['left','center']),\n        cells=dict(values=[fix21['date'], \n                           fix21['day'],\n                           fix21['home_team'], \n                           fix21['away_team'], \n                           fix21['venue']\n                           ],\n                   fill_color=color,\n                   line_color='darkslategray',\n                   align=['left','center'],\n                  font=dict(color='darkslategray',size=13)\n                  )\n        )\n    ])\n    fig.update_layout(title=dict(text=title,\n                                                       x=0.5,\n                                                       font_color='black'),\n                      margin=dict(r=20, l=20)\n                     )\n    iplot(fig)\n\ndraw_table_uae(fix21_uae, 'IPL 2021 - 2nd Phase (19-Sep - 15-Oct 2021) - UAE')\n    ","61df245f":"\ndef get_loser(row):\n    if row['home_team'] == row['winner']:\n        return row['away_team']\n    else:\n        return row['home_team']\n\ndef update_venue(row):\n    if row['venue_name'] == 'M.Chinnaswamy Stadium, Bengaluru':\n        return \"M. Chinnaswamy Stadium, Bengaluru\"\n    else:\n        return row['venue_name']\n\ndef calculate_total_games(row):\n    total_games = all_summary.loc[(all_summary['venue_name'] == row['venue_name']) & ((all_summary['home_team'] == row['winner']) |  (all_summary['away_team'] == row['winner']))].shape[0]\n    return total_games\n    \nall_summary['loser'] = all_summary.apply(get_loser, axis=1)\nall_summary['venue_name'] = all_summary.apply(update_venue, axis=1)\n\nwin_df = pd.DataFrame({'count' : all_summary.groupby(['venue_name','winner'])['winner'].count()}).reset_index()\nwin_df['total_games'] = win_df.apply(calculate_total_games, axis=1)\nwin_df['win_percent'] = round(win_df['count'] \/ win_df['total_games'],2)*100\nwin_df = win_df.loc[win_df['winner'].isin(['MI', 'CSK', 'SRH', 'RR', 'KKR', 'KXIP', 'RCB', 'DC'])]\n\nfor key, value in home_team_map.items():\n    win_df = win_df.loc[~((win_df['venue_name'] == key) & (win_df['winner'] == value))]\nwin_df = win_df.loc[win_df['venue_name'].isin(home_team_map.keys())] \nwin_df = win_df.reset_index(drop=True)\n\nimport plotly.graph_objects as go\n\nfig = go.Figure(data=go.Heatmap(name='Win-Stats',\n                   z=win_df['count'],\n                   x=win_df['winner'],\n                   y=win_df['venue_name'],\n                   hoverongaps = True,\n                   colorscale = 'viridis_r',\n                    hovertemplate = 'Venue : %{y}<br>Team : %{x}<br><b>Wins :%{z}<\/b>'))\nfig.update_layout(xaxis= { 'tickfont' : {'size':18},  \"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False,\n                                                    \"tickangle\" : 45\n                        }, \n                   title = { 'text' : 'Number of wins',\n                          'x':0.5,\n                        'xanchor': 'center',\n                        'yanchor': 'top'\n                        },\n                  #title_font_family = 'Computer Modern',\n                 yaxis={'title':None,\"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False},\n                 font=dict(family='Computer Modern',size=15, color=\"#00040a\"),\n                 showlegend=True,\n                plot_bgcolor=\"#f5f3e9\",\n                margin={\"r\":20, \"l\":30}\n                 )\niplot(fig)\n","0a614365":"import plotly.graph_objects as go\n\nfig = go.Figure(data=go.Heatmap(name='Win percentage',\n                   z=win_df['win_percent'],\n                   x=win_df['winner'],\n                   y=win_df['venue_name'],\n                   hoverongaps = True,\n                   colorscale = 'viridis_r',\n                    hovertemplate = 'Venue : %{y}<br>Team : %{x}<br><b>Win % :%{z:.2f}<\/b>'))\nfig.update_layout(xaxis= { 'tickfont' : {'size':18},  \"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False,\n                                                    \"tickangle\" : 45\n                        }, \n                   title = { 'text' : '% Wins',\n                          'x':0.5,\n                        'xanchor': 'center',\n                        'yanchor': 'top'\n                        },\n                  #title_font_family = 'Computer Modern',\n                 yaxis={'title':None,\"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False},\n                 font=dict(family='Computer Modern',size=15, color=\"#00040a\"),\n                 showlegend=True,\n                plot_bgcolor=\"#f5f3e9\",\n                margin={\"r\":20, \"l\":30}\n                 )\niplot(fig)","03996dc4":"winner_uae = pd.DataFrame({'count' : all_summary.groupby(['venue_name','winner'])['winner'].count()}).reset_index()\nuae_venue = ['Dubai International Cricket Stadium',\n'Sharjah Cricket Stadium',\n'Sheikh Zayed Stadium, Abu Dhabi']\nwinner_uae = winner_uae.loc[winner_uae['venue_name'].isin(uae_venue)].reset_index(drop=True)\nwinner_uae['total_games'] = winner_uae.apply(calculate_total_games, axis=1)\nwinner_uae['win_percent'] = round(winner_uae['count'] \/ winner_uae['total_games'],2)*100\nwinner_uae = winner_uae.loc[winner_uae['winner'].isin(['MI', 'CSK', 'SRH', 'RR', 'KKR', 'KXIP', 'RCB', 'DC'])]\n\nfig = go.Figure(data=go.Heatmap(name='Win-Stats',\n                   z=winner_uae['count'],\n                   x=winner_uae['winner'],\n                   y=winner_uae['venue_name'],\n                   hoverongaps = True,\n                   colorscale = 'tealrose_r',\n                    hovertemplate = 'Venue : %{y}<br>Team : %{x}<br><b>Wins :%{z}<\/b>'))\nfig.update_layout(xaxis= { 'tickfont' : {'size':18},  \"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False,\n                                                    \"tickangle\" : 45\n                        }, \n                   title = { 'text' : 'Number of wins',\n                          'x':0.5,\n                        'xanchor': 'center',\n                        'yanchor': 'top'\n                        },\n                  #title_font_family = 'Computer Modern',\n                 yaxis={'title':None,\"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False},\n                 font=dict(family='Computer Modern',size=15, color=\"#00040a\"),\n                 showlegend=True,\n                plot_bgcolor=\"#f5f3e9\",\n                margin={\"r\":20, \"l\":30}\n                 )\niplot(fig)\n","170e823d":"fig = go.Figure(data=go.Heatmap(name='Win percentage',\n                   z=winner_uae['win_percent'],\n                   x=winner_uae['winner'],\n                   y=winner_uae['venue_name'],\n                   hoverongaps = True,\n                   colorscale = 'tealrose_r',\n                    hovertemplate = 'Venue : %{y}<br>Team : %{x}<br><b>Win % :%{z:.2f}<\/b>'))\nfig.update_layout(xaxis= { 'tickfont' : {'size':18},  \"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False,\n                                                    \"tickangle\" : 45\n                        }, \n                   title = { 'text' : '% Wins',\n                          'x':0.5,\n                        'xanchor': 'center',\n                        'yanchor': 'top'\n                        },\n                  #title_font_family = 'Computer Modern',\n                 yaxis={'title':None,\"zeroline\":False, \"showgrid\":False,\n                         \"fixedrange\": False},\n                 font=dict(family='Computer Modern',size=15, color=\"#00040a\"),\n                 showlegend=True,\n                plot_bgcolor=\"#f5f3e9\",\n                margin={\"r\":20, \"l\":30}\n                 )\niplot(fig)","4cd3c0a9":"uae_vc_map = {'Dubai International Cricket Stadium' : 'DUBAI',\n 'Sharjah Cricket Stadium' : 'SHARJAH',\n 'Sheikh Zayed Stadium, Abu Dhabi' : 'ABU DHABI'}\nuae_summary = all_summary.loc[all_summary['venue_name'].isin(uae_venue)]\nuae_summary['1_innings'] = uae_summary['1st_inning_score'].apply(lambda x: x.split(\"\/\")[0])\nuae_summary['2_innings'] = uae_summary['2nd_inning_score'].apply(lambda x: x.split(\"\/\")[0])\n#uae_summary[['season','short_name','home_runs','1_innings','away_runs','2_innings']]\nuae_summary['1_innings'] = uae_summary['1_innings'].astype(int)\nuae_summary['2_innings'] = uae_summary['2_innings'].astype(int)\nuae_summary['city'] = uae_summary['venue_name'].apply(lambda x : uae_vc_map[x])\ntemp_df = uae_summary[['venue_name', 'city','1_innings','2_innings']]\n\ninnings_df = pd.melt(temp_df, id_vars=['venue_name', 'city'], value_vars=['1_innings', '2_innings'], var_name = 'innings', value_name='score')\n\nvenue_colors = {'Mumbai' : '#0722ab',\n'Chennai' : '#fdb913',\n'Delhi' : '#004c93',\n'Kolkata' : '#3d2256',\n'Ahmedabad' : '#545252',\n'Bengaluru' : '#ef4022',\n               'DUBAI': '#2a9d8f',\n               'SHARJAH' :'#e76f51',\n               'ABU DHABI' : '#264653' }\n\nx = ['ABU DHABI','ABU DHABI','DUBAI', 'DUBAI','SHARJAH', 'SHARJAH']\n\nimport plotly.express as px\nfig = px.box(innings_df, x=innings_df['city'], y=innings_df['score'], color=\"innings\",\n             notched=True, # used notched shape\n             title=\"Distribution of scores\",color_discrete_map={\n                \"1_innings\": \"goldenrod\",\n                \"2_innings\": \"#19D3F3\",},\n            )\nfig.update_layout(xaxis={'title' : None,'showgrid' :False},\n                  yaxis=dict(title='Innings score',showgrid=False,zeroline=False),\n                 title = 'Distribution of scores in UAE (1st Innigns vs 2nd Innings)')   \nfig.show()\n","2416a3b5":"city_map = {'Arun Jaitley Stadium, Delhi' : 'Delhi',\n'Eden Gardens, Kolkata' : 'Kolkata',\n'M. Chinnaswamy Stadium, Bengaluru' : 'Bengaluru',\n'MA Chidambaram Stadium, Chepauk, Chennai' : 'Chennai',\n'Narendra Modi Stadium, Ahmedabad' : 'Ahmedabad', \n'Wankhede Stadium, Mumbai' : 'Mumbai'}\n\nhome_team_map = {'Arun Jaitley Stadium, Delhi' : 'DC',\n'Eden Gardens, Kolkata' : 'KKR',\n'M. Chinnaswamy Stadium, Bengaluru' : 'RCB',\n'MA Chidambaram Stadium, Chepauk, Chennai' : 'CSK',\n'Wankhede Stadium, Mumbai' : 'MI'}\n\nteam_colors = {'MI' : '#004587',\n'CSK' : '#fdb913',\n'DC' : '#2561AE',\n'SRH' : '#fb653f',\n'KKR' : '#391F5C',\n'KIXP': '#b32524',\n'PBKS' : '#dd1212',\n'RR' : '#FF4081',\n'RCB' : '#db1316'}\n\nvenue_colors = {'Mumbai' : '#0722ab',\n'Chennai' : '#fdb913',\n'Delhi' : '#004c93',\n'Kolkata' : '#3d2256',\n'Ahmedabad' : '#545252',\n'Bengaluru' : '#ef4022'}\npd.set_option('display.max_columns', None)","8d465b38":"def plot_batting_chart(title, column, label):\n    runs = batting.groupby(['fullName','current_innings'])[column].sum().sort_values(ascending=False).reset_index().head(10)\n    fig = px.bar(runs, x='fullName', y=column,\n             hover_data=['fullName', column], color='current_innings',\n             labels={column: label},\n             color_discrete_map=team_colors,\n             text=column)\n    fig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': runs['fullName'],'title' : 'Batsman', 'showgrid':False},\n                      yaxis={'showgrid':False},\n                     title = title)\n    fig.show()","8df86a1a":"plot_batting_chart('Most runs', 'runs', 'Most runs')","f72ea690":"!pip install bar_chart_race\n","d9ce4de9":"#ValueError: time data '2021-04-09T14:00Z' does not match format '%d%b%Y:%H:%M:%S.%f' (match)\n#pd.to_datetime(summary['start_date'], format='%Y-%b-%d:%H:%M')\nsummary['match_date'] = summary['start_date'].astype(str).apply(lambda x : x.split('T')[0])\nsummary['match_date'] = pd.to_datetime(summary['match_date'], format='%Y-%m-%d')","d0c6548e":"summary.head(27)\nbatting.loc[batting['match_id'] == 1254080]","13b43ec7":"def add_match_date(row):\n    #print(row['match_id'])\n    match_id = row['match_id']\n    #print(match_id, summary.loc[summary['id'] == match_id]['match_date'])\n    #print(len(summary.loc[summary['id'] == 1254081]['match_date'].tolist()))\n    return summary.loc[summary['id'] == match_id]['match_date']\n#batting['match_date'] = batting.apply(add_match_date, axis=1)\n#batting['match_date'].unique()\n\ndef add_match_date_v2(match_id):\n    return summary.loc[summary['id'] == match_id]['match_date']\n#batting['match_date'] = batting['match_id'].apply(lambda x : summary.loc[summary['id'] == x]['match_date'])","c22781d5":"#summary[['id','match_date']].to_dict(orient='split')","130af3ce":"runs = batting.groupby(['fullName','match_id'])['runs'].sum().sort_values(ascending=False).reset_index()\nruns","ad5fd8e3":"plot_batting_chart('Most fours scored', 'fours', 'Most fours')","e0846441":"plot_batting_chart('Most sixes scored', 'sixes', 'Most sixes')","fa2423b7":"detail_df = details.loc[(details['isWide'] == False) | (details['isNoball'] == False)]\ndetail_df = detail_df.groupby(['batsman1_name','current_innings','runs'])['runs'].agg(['count']).reset_index()\n\ndef plot_runs_chart(title, runs, label):\n    runs_df = detail_df.loc[detail_df['runs'] == runs]\n    runs_df = runs_df.sort_values(by='count',ascending=False).reset_index(drop=True).head(10)\n    fig = px.bar(runs_df, x='batsman1_name', y='count',\n             hover_data=['batsman1_name', 'count'], color='current_innings',\n             #labels={column: label},\n             color_discrete_map=team_colors,\n             text='count')\n    fig.update_layout(xaxis={'categoryorder':'array','categoryarray': runs_df['batsman1_name'], 'showgrid':False, 'title':None},\n                      yaxis={'showgrid':False},\n                     title = title, )\n    fig.show()\n","95c08f3d":"plot_runs_chart('Who\\'s running the most singles (1 runs)?', 1, 'current_innings')","0b8ae79b":"plot_runs_chart('Who\\'s converting 1s into 2s (running 2 runs)?', 2, 'current_innings')","7dec6a30":"plot_runs_chart('Who\\'s going further and converting 2s into 3s (running 3 runs)?', 3, 'current_innings')","163643fc":"plot_runs_chart('Who\\'s playing most defensive shots (not scoring runs)?', 0, 'current_innings')","8aa19f1b":"plot_batting_chart('Most balls faced', 'ballsFaced', 'Most balls faced')","55332d9e":"def plot_batting_avg_chart(title, column, label):\n    runs = batting.groupby(['fullName','current_innings'])[column].mean().sort_values(ascending=False).reset_index().round(2).head(10)\n    fig = px.bar(runs, x='fullName', y=column,\n             hover_data=['fullName', column], color='current_innings',\n             labels={column: label},\n             color_discrete_map=team_colors,\n             text=column)\n    fig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': runs['fullName'],'title' : 'Batsman', 'showgrid':False},\n                      yaxis={'showgrid':False},\n                     title = title)\n    fig.show()","2a9627da":"batting['strikeRate'] = batting['strikeRate'].replace('-','0')\nbatting['strikeRate'] = batting['strikeRate'].astype(float)\nplot_batting_avg_chart('Best strike rate', 'strikeRate','Best strike rate')","89bd062f":"ground_colors = {'Sharjah Cricket Stadium' : '#252B1F', \n                'Sheikh Zayed Stadium, Abu Dhabi' : '#758451 ',\n       'Dubai International Cricket Stadium' : '#d11624',\n       'Narendra Modi Stadium, Motera, Ahmedabad' : '#2f0404',\n       'Arun Jaitley Stadium, Delhi' : '#004c93',\n       'MA Chidambaram Stadium, Chepauk, Chennai' : '#fdb913',\n       'Wankhede Stadium, Mumbai' : '#0722ab' }\n\nteam_colors = {'MI' : '#004587',\n'CSK' : '#fdb913',\n'DC' : '#2561AE',\n'SRH' : '#fb653f',\n'KKR' : '#391F5C',\n'KIXP': '#b32524',\n'PBKS' : '#dd1212',\n'RR' : '#FF4081',\n'RCB' : '#db1316'}\n\nvenue_colors = {'Mumbai' : '#0722ab',\n'Chennai' : '#fdb913',\n'Delhi' : '#004c93',\n'Kolkata' : '#3d2256',\n'Ahmedabad' : '#545252',\n'Bengaluru' : '#ef4022'}\nfig = px.scatter(batting, x=\"ballsFaced\", y=\"runs\", color='venue',size='runs',hover_data=['fullName'],\n                color_discrete_map=ground_colors\n                )\nfig.update_layout(xaxis=dict(title='Number of balls faced',showgrid=False),yaxis=dict(title='Runs scored',showgrid=False,zeroline=False), \n                  title = 'Individual scores',\n                 )    \nfig.show()","703c9704":"#Data For Polar Charts\nruns = batting.groupby(['fullName','current_innings'])['runs'].sum().sort_values(ascending=False).reset_index().head(6)\nbatsmans_top5 = list(runs.fullName)\n\nbatting = batting.loc[~(batting['strikeRate'] == '-')].reset_index(drop=True)\nbatting['strikeRate'] = batting['strikeRate'].astype(float)\n\ndef get_batting_aggregate_sum(batsman_name, column):\n    all_runs = batting.groupby(['fullName'])[column].sum().reset_index()\n    val = all_runs.loc[all_runs['fullName'] == batsman_name].reset_index(drop=True).iloc[0][column]\n    return val\n\ndef get_batting_aggregate_mean(batsman_name, column):\n    all_runs = batting.groupby(['fullName'])[column].mean().reset_index()\n    val = all_runs.loc[all_runs['fullName'] == batsman_name].reset_index(drop=True).iloc[0][column]\n    return round(val,2)\n\ndef get_num_innings(batsman_name):\n    return batting.loc[batting['fullName'] == batsman_name].shape[0]\n\ndef get_num_fifties(batsman_name, min_runs=50):\n    return batting.loc[(batting['fullName'] == batsman_name) & (batting['runs'] >= min_runs)].shape[0]\n\ndef get_highest(batsman_name):\n    return max(batting.loc[(batting['fullName'] == batsman_name)]['runs'])\n\nbatsman_attributes = ['runs','ballsFaced','fours', 'sixes'] #'strikeRate']\n#print(batsmans_top5)\nbatsman_polar_data = {}\nfor batsman in batsmans_top5:\n    data = {}\n    data['innings'] = get_num_innings(batsman)\n    for attr in batsman_attributes:\n        data[attr] = get_batting_aggregate_sum(batsman, attr)\n    data['50s'] = get_num_fifties(batsman)\n    data['Highest'] = get_highest(batsman)    \n    data['strikeRate'] = get_batting_aggregate_mean(batsman, 'strikeRate')\n    batsman_polar_data[batsman] = data\n","afc38080":"plt.rcParams['figure.dpi'] = 200\n\ndef _invert(x, limits):\n    \"\"\"inverts a value x on a scale from\n    limits[0] to limits[1]\"\"\"\n    return limits[1] - (x - limits[0])\n\ndef _scale_data(data, ranges):\n    \"\"\"scales data[1:] to ranges[0],\n    inverts if the scale is reversed\"\"\"\n    #print(data, ranges)\n    for d, (y1, y2) in zip(data[1:], ranges[1:]):\n        assert (y1 <= d <= y2) or (y2 <= d <= y1)\n    x1, x2 = ranges[0]\n    d = data[0]\n    if x1 > x2:\n        d = _invert(d, (x1, x2))\n        x1, x2 = x2, x1\n    sdata = [d]\n    for d, (y1, y2) in zip(data[1:], ranges[1:]):\n        if y1 > y2:\n            d = _invert(d, (y1, y2))\n            y1, y2 = y2, y1\n        sdata.append((d-y1) \/ (y2-y1) \n                     * (x2 - x1) + x1)\n    return sdata\n\nclass ComplexRadar():\n    def __init__(self, fig, variables, ranges,\n                 n_ordinate_levels=4):\n        angles = np.arange(0, 360, 360.\/len(variables))\n\n        axes = [fig.add_axes([0.1,0.1,0.9,0.9],polar=True,\n                label = \"axes{}\".format(i)) \n                for i in range(len(variables))]\n        l, text = axes[0].set_thetagrids(angles, \n                                         labels=variables)\n        [txt.set_position((-0.1,-0.1)) for txt, angle \n            #txt.set_rotation(angle-90) for txt, angle \n             in zip(text, angles)]\n        for ax in axes[1:]:\n            ax.patch.set_visible(False)\n            ax.grid(\"off\")\n            ax.xaxis.set_visible(False)\n        for i, ax in enumerate(axes):\n            grid = np.linspace(*ranges[i], \n                               num=n_ordinate_levels)\n            gridlabel = [\"{}\".format(round(x,2)) \n                         for x in grid]\n            if ranges[i][0] > ranges[i][1]:\n                grid = grid[::-1] # hack to invert grid\n                          # gridlabels aren't reversed\n            gridlabel[0] = \"\" # clean up origin\n            ax.set_rgrids(grid, labels=gridlabel,\n                         angle=angles[i])\n            #ax.spines[\"polar\"].set_visible(False)\n            ax.set_ylim(*ranges[i])\n            ax.set_yticks([])\n            #print(ax.get_ylabel())\n            \n        # variables for plotting\n        self.angle = np.deg2rad(np.r_[angles, angles[0]])\n        self.ranges = ranges\n        self.ax = axes[0]\n    def plot(self, data, *args, **kw):\n        sdata = _scale_data(data, self.ranges)\n        self.ax.plot(self.angle, np.r_[sdata, sdata[0]], *args, **kw)\n        self.ax.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\n        #for p, r, val, var in zip(self.angle, sdata, data, variables):\n        #    if var in ['innings', 'runs', 'ballsFaced', 'sixes', 'fours', '50s', 'Highest']:\n        #        val = int(val)\n        #    self.ax.annotate(val, xy=(p, r+2))       \n        \n    def fill(self, data, *args, **kw):\n        sdata = _scale_data(data, self.ranges)\n        self.ax.fill(self.angle, np.r_[sdata, sdata[0]], *args, **kw)\n\ndef draw_polar_chart(player_dict, ranges=[(5,17),(100,700),(100,700),(10,100),(5,60),(1,10),(30, 140),(90.0,150.0)]):\n    variables = ('Innings', 'Runs', 'Balls Faced', 'Fours','Sixes', '50s', 'Highest', 'Strike Rate')\n    fig1 = plt.figure(figsize=(4, 3))\n    radar = ComplexRadar(fig1, variables, ranges)\n\n    for batsman in player_dict:\n        name = batsman['batsman']\n        color = batsman['color']\n\n        data = tuple(i for i in list(batsman_polar_data[name].values()))\n\n        # plotting\n        radar.plot(data,color=color, markeredgecolor=color,label=name)\n        radar.fill(data, alpha=0.2, facecolor=color)\n\n    plt.figtext(1.95, 0.10, 'Polar chart comparison of top 5 batsmen of 2021', horizontalalignment='right', size=10, weight='light',family='serif')    \n    plt.show()\n    \nimport random\nruns = batting.groupby(['fullName','current_innings'])['runs'].sum().sort_values(ascending=False).reset_index().head(5)\npolar_keys = []\ncolor_list = ['#7C887E','#91967F', '#BAB79F', '#D3D2CD','#A08D83', '#726870', '#C5AA7F','#5A5542']  \nplayer_teams = []\nfor batsman, team in zip(runs.fullName,runs.current_innings):\n    player = {}\n    player['batsman'] = batsman    \n    if team not in player_teams:\n        player['color'] = team_colors[team]\n        player_teams.append(team)\n    else:\n        player['color'] = random.choice(color_list)\n    polar_keys.append(player)","b5b39dae":"draw_polar_chart(polar_keys)","bc627f69":"details.head()","a528046a":"runs_per_over = details.groupby(['match_id','match_name','current_innings','over'])['runs'].agg(['sum']).reset_index()\nruns_per_over.sort_values(by='sum',ascending=False).head(20)","4c70a4b9":"details.loc[(details['match_id'] == 1254076) & (details['current_innings'] == 'CSK') & (details['over'] == 20)]","453bd53e":"details.loc[(details['match_id'] == 1254072) & (details['current_innings'] == 'KKR') & (details['over'] == 16)]","fb3306a2":"details.loc[(details['match_id'] == 1254111) & (details['current_innings'] == 'PBKS') & (details['over'] == 10)]","e80fe761":"def plot_bowling_chart(title, column, label):\n    wickets = bowling.groupby(['fullName','bowling_team'])[column].sum().sort_values(ascending=False).reset_index().head(10)\n    fig = px.bar(wickets, x='fullName', y=column,\n             hover_data=['fullName', column], color='bowling_team',\n             labels={column: label},\n             color_discrete_map=team_colors,\n             text=column)\n    fig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': wickets['fullName'],'title' : 'Bowler','showgrid':False},\n                      yaxis={'showgrid':False},\n                     title = title)\n    fig.show()","06cb8591":"plot_bowling_chart('Most wickets','wickets','Most wickets')","c71f318d":"plot_bowling_chart('Most dot balls bowled','dots','Most dots')","bb0ba8e8":"plot_bowling_chart('Most runs conceded','conceded','Runs conceded')","dd8b4ce0":"plot_bowling_chart('Most fours conceded','foursConceded','Fours conceded')","8dbd1903":"plot_bowling_chart('Most sixs conceded','sixesConceded','Sixs conceded')","47b8290c":"extras = bowling.groupby(['fullName','bowling_team'])['wides','noballs'].sum().reset_index()\nextras['total'] = extras['wides'] + extras['noballs']\nextras = extras.sort_values('total', ascending=False).head(10)\n\ncolumn = 'total'\ntitle = 'Most extras bowled'\nlabel = 'Most extras'\nfig = px.bar(extras, x='fullName', y=column,\n             hover_data=['fullName', column], color='bowling_team',\n             labels={column: label},\n             color_discrete_map=team_colors,\n             text=column)\nfig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': extras['fullName'],'title' : 'Bowler','showgrid':False},\n                  yaxis={'showgrid':False},\n                     title = title)\nfig.show()","73433f4a":"#wicket_id \twkt_batsman_name \twkt_bowler_name \twkt_batsman_runs \twkt_batsman_balls \twkt_text\n#details.query(\"!wicket_id.isnull()\", engine='python')\ndetails.loc[~details['wicket_id'].isna()]","67cf5c25":"#df = details.loc[details['match_id'] == 1254058].groupby(['current_innings','over'])['runs'].sum().reset_index()\n#df['cumsum'] = df['runs'].cumsum()\n#df\n#initialize average array\navg_runs = {}\nfor item in team_colors.keys():\n    if 'KIXP' != item:\n        avg_runs[item] = np.zeros(20)\n        \nfor match in details['match_id'].unique():\n    df = details.loc[details['match_id'] == match]\n    innings = list(df.groupby('current_innings')['current_innings'].unique())\n    for inning in innings:\n#        print(inning)\n        df_inning = df.loc[df['current_innings'] == inning[0]].groupby(['over'])['runs'].sum().reset_index()\n        df_inning['cumsum'] = df_inning['runs'].cumsum()\n        df_inning['current_innings'] = inning[0]\n        over = df_inning['over']\n        team = inning[0]\n        runs = np.array(df_inning['cumsum'])\n        runs.resize(20)\n        avg_runs[team] = np.median([avg_runs[team],runs], axis=0)\n\n    #for \n    #df = details.loc[details['match_id'] == 1254058].groupby(['current_innings','over'])['runs'].sum().reset_index()\n\n                 #print(match)\n","35b8505b":"fig = go.Figure()\nover = np.arange(1,21)\nfor item in avg_runs.keys():\n    fig.add_trace(go.Scatter(x=over, \n                         y=avg_runs[item],\n                         mode='lines',\n                         name = item,\n                         line=dict(color=team_colors[item], width = 3)\n                        )\n             )\nfig.update_layout(xaxis=dict(tickmode = 'array',\n        tickvals = np.arange(1,21), title='Overs',showgrid=False),yaxis=dict(title='Average score',showgrid=False), \n                  title = 'Overall scoring rate')    \nfig.show()\n    ","36899cd2":"avg_runs = {}\nfor item in team_colors.keys():\n    if 'KIXP' != item:\n        avg_runs[item] = np.zeros(6)\n        \nfor match in details['match_id'].unique():\n    df = details.loc[details['match_id'] == match]\n    innings = list(df.groupby('current_innings')['current_innings'].unique())\n    for inning in innings:\n        df_inning = df.loc[(df['current_innings'] == inning[0]) & (df['over'] <=6 )].groupby(['over'])['runs'].sum().reset_index()\n        df_inning['cumsum'] = df_inning['runs'].cumsum()\n        df_inning['current_innings'] = inning[0]\n        over = df_inning['over']\n        team = inning[0]\n        runs = np.array(df_inning['cumsum'])\n        runs.resize(6)\n        avg_runs[team] = np.median([avg_runs[team],runs], axis=0)","c2e1bedc":"fig = go.Figure()\nover = np.arange(1,21)\nfor item in avg_runs.keys():\n    fig.add_trace(go.Scatter(x=over, \n                         y=avg_runs[item],\n                         mode='lines+markers',\n                         name = item,\n                         line=dict(color=team_colors[item], width = 3)\n                        )\n             )\nfig.update_layout(xaxis=dict(tickmode = 'array',\n        tickvals = np.arange(1,21), title='Overs',showgrid=False),yaxis=dict(title='Average score',showgrid=False,zeroline=False), \n                  title = 'Power play performance',\n                 #plot_bgcolor=\"#8f8b8b\"\n                 )    \nfig.show()\n    ","683037da":"avg_runs = {}\nfor item in team_colors.keys():\n    if 'KIXP' != item:\n        avg_runs[item] = np.zeros(9)\n        \nfor match in details['match_id'].unique():\n    df = details.loc[details['match_id'] == match]\n    innings = list(df.groupby('current_innings')['current_innings'].unique())\n    for inning in innings:\n        df_inning = df.loc[(df['current_innings'] == inning[0]) & (df['over'] >6 ) & (df['over'] <=15 )].groupby(['over'])['runs'].sum().reset_index()\n        df_inning['cumsum'] = df_inning['runs'].cumsum()\n        df_inning['current_innings'] = inning[0]\n        over = df_inning['over']\n        team = inning[0]\n        runs = np.array(df_inning['cumsum'])\n        runs.resize(9)\n        avg_runs[team] = np.median([avg_runs[team],runs], axis=0)","c7d2eb42":"fig = go.Figure()\nover = np.arange(7,16)\nfor item in avg_runs.keys():\n    fig.add_trace(go.Scatter(x=over, \n                         y=avg_runs[item],\n                         mode='lines+markers',\n                         name = item,\n                         line=dict(color=team_colors[item], width = 3)\n                        )\n             )\nfig.update_layout(xaxis=dict(tickmode = 'array',\n        tickvals = np.arange(1,21), title='Overs',showgrid=False),yaxis=dict(title='Average score',showgrid=False,zeroline=False), \n                  title = 'Middle overs performance',\n                 #plot_bgcolor=\"#8f8b8b\"\n                 )    \nfig.show()\n    ","29241742":"def plot_team_batting_chart(title, column, label):\n    df = batting.groupby(['current_innings'])[column].sum().reset_index()\n    df = df.sort_values(column, ascending=False)\n    fig = px.bar(df, x='current_innings', y=column,\n             hover_data=['current_innings', column], color='current_innings',\n             labels={column: label},\n             color_discrete_map=team_colors,\n             text=column)\n    fig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': df['current_innings'],'title' : 'Team','showgrid' :False},\n                      yaxis=dict(title='Total',showgrid=False,zeroline=False),\n                     title = title)\n    fig.show()","9dcf3cae":"plot_team_batting_chart('Total fours scored', 'fours','Total fours')","9b8bc0a7":"plot_team_batting_chart('Total sixes scored', 'sixes','Total sixes')","f69557bf":"label = 'Average team strike rate'\ntitle = 'Average team strike rate'\ncolumn = 'strikeRate'\ndf = batting.groupby('current_innings')['strikeRate'].mean().reset_index().round(2)\ndf = df.sort_values(column, ascending=False)\nfig = px.bar(df, x='current_innings', y=column,\n         hover_data=['current_innings', column], color='current_innings',\n         labels={column: label},\n         color_discrete_map=team_colors,\n         text=column)\nfig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': df['current_innings'],'title' : 'Team','showgrid' :False},\n                  yaxis=dict(title='Strike rate',showgrid=False,zeroline=False),\n                 title = title)\nfig.show()","13d99b51":"fig = go.Figure()\nfor team in sorted(list(batting['current_innings'].unique())):\n    df = batting.loc[batting['current_innings'] == team][['current_innings','fullName','strikeRate']].reset_index(drop=True)\n    fig.add_trace(go.Box(y=df['strikeRate'], \n                         name=team, \n                         boxpoints='all',\n                         jitter=0.5,\n                         whiskerwidth=0.6,\n                         #text=df['fullName'],\n                         #hoverinfo='text',\n                         fillcolor=team_colors[team],\n                         marker_size=5,\n                         line_width=1))\n\n    fig.update_layout(xaxis={'title' : 'Team','showgrid' :False},\n                  yaxis=dict(title='Strike rate',showgrid=False,zeroline=False),\n                 title = 'Strike Rate IQR')    \nfig.show()","f4f6f978":"def plot_team_bowling_chart(df, label, title, column):\n    fig = px.bar(df, x='bowling_team', y=column,\n             hover_data=['bowling_team', column], color='bowling_team',\n             labels={column: label},\n             color_discrete_map=team_colors,\n             text=column)\n    fig.update_layout(xaxis={'categoryorder':'array', 'categoryarray': df['bowling_team'],'title' : 'Team','showgrid' :False},\n                      yaxis=dict(title=label,showgrid=False,zeroline=False),\n                     title = title)\n    fig.show()","31f646ee":"column = 'foursConceded'\ndf = bowling.groupby('bowling_team')[column].sum().reset_index()\ndf = df.sort_values(column, ascending=False)\nplot_team_bowling_chart(df, 'Total fours conceded', 'Total fours conceded', 'foursConceded')","68b6cee5":"column = 'sixesConceded'\ndf = bowling.groupby('bowling_team')[column].sum().reset_index()\ndf = df.sort_values(column, ascending=False)\nplot_team_bowling_chart(df, 'Total sixes conceded', 'Total sixes conceded', column)","8dffb18b":"column = 'wickets'\ndf = bowling.groupby('bowling_team')[column].sum().reset_index()\ndf = df.sort_values(column, ascending=False)\nplot_team_bowling_chart(df, 'Total wickets taken', 'Total wickets taken', column)","df51f146":"column = 'maidens'\ndf = bowling.groupby('bowling_team')[column].sum().reset_index()\ndf = df.sort_values(column, ascending=False)\nplot_team_bowling_chart(df, 'Total maidens bowled', 'Total maidens bowled', column)","818cb7c5":"column = 'economyRate'\ndf = bowling.groupby('bowling_team')[column].mean().round(2).reset_index()\ndf = df.sort_values(column, ascending=False)\nplot_team_bowling_chart(df, 'Team\\'s average bowling economy', 'Team\\'s average bowling economy', column)","d5ec589f":"> Bowling maiden overs (i.e. bowling 1 over (six balls) where no run is scored) is a rare event in T20 cricket since batsman always look to score runs every ball. Bowling such an over is an impressive stat for a bowler & bowling team! ","8a22884a":"> Let's look at the win percentage which is a better metrics than the number of wins in these venues. As shown below, some teams thrive in specific venues and some performed poorly in certain venues!","5e706c34":"> Sharp decline in the graph towards end of the innings indicate that the team did not bat (or did not have to bat) the full quota of overs","259774cb":"> The Indian Premier Leaguge 2021 season started on 09-Apr-2021 with reduced travel and COVID-19 protocols. The league was postponed after playing 29 games (till 29-Mar-2021) due to COVID-19 spread in the leagueg and in India. The second phase will take place in United Arab Emirates (UAE) from 19-Sep-2021 till 15-Oct-2021.","3fc2ecf7":"<a id='0'><\/a>\n## <p style=\"background-color:#fdb913; font-family:Computer Modern;src: url('http:\/\/mirrors.ctan.org\/fonts\/cm-unicode\/fonts\/otf\/cmunss.otf'); font-size:100%; text-align:center\"> Indian Premier League 2021 <\/p>\n`\n<div align=\"center\">\n    <img src=\"https:\/\/user-images.githubusercontent.com\/48846576\/115179255-857d8100-a098-11eb-8662-2592f5045d31.png\">\n<\/div>","06645e2d":"<a id='1'><\/a>\n## <p style=\"background-color:#fdb913; font-family:Computer Modern;src: url('http:\/\/mirrors.ctan.org\/fonts\/cm-unicode\/fonts\/otf\/cmunss.otf'); font-size:100%; text-align:center\"> IPL 2021 Sason Preview <\/p>","e8065180":"<a id='1.4'><\/a>\n### Performance in UAE\n[back to top](#0.0)","bb4cd39d":"<a id='1.1'><\/a>\n### Where teams play?\n[back to top](#0)","cc013274":"<a id='2.2'><\/a>\n## <p style=\"background-color:#fdb913; font-family:Computer Modern;src: url('http:\/\/mirrors.ctan.org\/fonts\/cm-unicode\/fonts\/otf\/cmunss.otf'); font-size:100%; text-align:center\"> Bowling Stats <\/p>\n[back to top](#0.0)","15a80c17":"<a id='0.0'><\/a>\n* [IPL 2021 Season Preview](#1)\n    * [Where teams play?](#1.1)\n    * [Fixture](#1.2)\n    * [Away from home performance](#1.3)\n    * [Past performance in UAE](#1.4)\n* [IPL 2021 Season Stats](#2)    \n    * [Batting](#2.1)\n    * [Bowling](#2.2)    \n    * [Team performance](#2.3)","69286353":"> Bowling economy indicates the average number of runs conceded per over (six balls)","47fbd60d":"<a id='1.2'><\/a>\n### Fixture\n[back to top](#0)","ab663cc3":"> Work in progress!\n\n> This is my fun project to learn techniques of data visualizations and analysis. Feedback is welcome. Please upvote if you like the work. Greatly appreciated!","7b915eb3":"<a id='1.3'><\/a>\n### Away from home performance\n[back to top](#0.0)","e06a2951":"> Its always a good idea to look further than just taking average of an feature. There could be outliers. In this case, the following boxplot chart reveals that there are few outliers. Best example in case of CSK, there is a strike rate of 600. Well this is none other than [Ravindra Jadeja](https:\/\/en.wikipedia.org\/wiki\/Ravindra_Jadeja) (a.k.a Jaddu for CSK fans) hitting a six off the last ball of CSK vs KKR innings and remaining not out. So 6 runs in 1 ball, hence the Strike Rate of 600. That truely is an outlier (so does Jaddu among the cricketing talents !). There are few other outliers as well. So its better to look into median or IQR of the strike rate to judge overall batting performance of teams","0832893c":"> Across all the venues batting first seems to produce better score. At Sharjah, the variance is higher may be because the ground is smaller in size, batsmen tend to go all guns blazing which has higher chances of scoring and equally higher chance of getting out!","8f08b30b":"> And many more stats to explore.. to be continued","5cc9066b":"<a id='2'><\/a>\n## IPL 2021 Season Stats\n<a id='2.1'><\/a>\n## <p style=\"background-color:#fdb913; font-family:Computer Modern;src: url('http:\/\/mirrors.ctan.org\/fonts\/cm-unicode\/fonts\/otf\/cmunss.otf'); font-size:100%; text-align:center\">Batting Stats <\/p>\n[back to top](#0.0)","73a3f58f":"> Below chart shows the number of wins by each team across venues for 2021 season. White color indicates that the venue is home ground for the team, hence its excluded from the chart since there is no home ground advantage this season","ee9aea39":"<a id='2.3a'><\/a>\n## <p style=\"background-color:#fdb913; font-family:Computer Modern;src: url('http:\/\/mirrors.ctan.org\/fonts\/cm-unicode\/fonts\/otf\/cmunss.otf'); font-size:100%; text-align:center\"> Fielding Stats <\/p>\n[back to top](#0.0)","4f7346f3":"*Apart from scoring 4s and 6s, lets look at how batsmen are running between wickets. i.e scoring 1s, 2s and 3s*","cd2bd4ea":"<a id='2.3'><\/a>\n## <p style=\"background-color:#fdb913; font-family:Computer Modern;src: url('http:\/\/mirrors.ctan.org\/fonts\/cm-unicode\/fonts\/otf\/cmunss.otf'); font-size:100%; text-align:center\"> Team scoring performance <\/p>\n[back to top](#0.0)"}}