{"cell_type":{"f5c64ab5":"code","7afdb10e":"code","3f579472":"code","c77d3a06":"code","becb0ca1":"code","6ebf2d6c":"code","424b11d6":"code","4b57129c":"code","e8f39eb3":"code","11b6cebf":"code","8f859eae":"code","5cc9e92e":"code","cd89197d":"code","ac065fd0":"code","4cbae50a":"code","3c085182":"code","2fe81d1d":"code","b24fa205":"code","36c705df":"code","7e2a72d2":"markdown","a7e1c4a9":"markdown","5286e923":"markdown","5d8c2929":"markdown","c930b185":"markdown","e6aed537":"markdown","e6fb1618":"markdown","8d6ebe07":"markdown"},"source":{"f5c64ab5":"# Generic Libraries\nimport numpy as np\nimport pandas as pd\n\n# Visualisation Libraries\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nimport re\n\npd.plotting.register_matplotlib_converters()\n%matplotlib inline\nplt.style.use('seaborn-darkgrid')\npd.set_option('display.max_columns', 50)\nwarnings.filterwarnings(\"ignore\")\npd.options.display.float_format = '{:.1f}'.format","7afdb10e":"url = '..\/input\/crop-yield-per-state-and-rainfall-data-of-india\/out.csv'\n\ndata = pd.read_csv(url, header='infer')","3f579472":"data.shape","c77d3a06":"data.isna().sum()","becb0ca1":"data.info()","6ebf2d6c":"data.head()","424b11d6":"data = data.drop('Unnamed: 0', axis=1)","4b57129c":"#Creating a data backup\ndata_backup = data.copy()","e8f39eb3":"APR_df = data[['Area','Production','Rainfall']]\n\ncorr = APR_df.corr()\nplt.figure(figsize=(8, 8))\ng = sns.heatmap(corr, annot=True, cmap = 'PuBuGn_r', square=True, linewidth=1, cbar_kws={'fraction' : 0.02})\ng.set_yticklabels(g.get_yticklabels(), rotation=0, horizontalalignment='right')\ng.set_title(\"Correlation between Area, Production & Rainfall\", fontsize=14)\n#bottom, top = g.get_ylim()\n#g.set_ylim(bottom + 0.5, top + 0.5)\nplt.show()","11b6cebf":"data.head()","8f859eae":"#Creating a subset of the original data for visualisation\nsub_data = data.drop(data[data.Season == 'Whole Year '].index)","5cc9e92e":"# Create a function that returns Bar Graphs for Production & Rainfall in States per seasons\ndef seasonal_view(state):\n    \"\"\"\n    Creating 2 seperate pivot-tables with mean Production & Rainfall\n    \"\"\"\n    ptable_prod = sub_data[(sub_data['State'] == state)].pivot_table(values='Production',index='Year', columns='Season', aggfunc= 'mean', fill_value= 0.0)\n    ptable_rain = sub_data[(sub_data['State'] == state)].pivot_table(values='Rainfall',index='Year', columns='Season', aggfunc= 'mean', fill_value= 0.0)\n\n\n    fig = plt.figure()\n    plt.subplots_adjust(hspace = 5)\n    sns.set_palette('deep')\n    \n    \"\"\"\n    Draw a Line Graph on First subplot. - Rainfall\n    \"\"\"\n    \n    year_labels = ptable_rain.index.tolist()\n    season_labels = ptable_rain.columns.tolist()\n    \n    ax1 = ptable_rain.plot(kind='line', figsize=(15,6))\n    # Add some text for labels, title and custom x-axis tick labels, etc.\n    plt.title(f'{state.capitalize()} Seasonal Annual (mean) Rainfall', fontsize=16)\n    plt.ylabel(\"Rainfall\", fontsize=13)\n    plt.legend(prop={'size':10}, loc='best',bbox_to_anchor=(0.4, 0., 0.75, 0.5) )\n    \n\n\n    \"\"\"\n    Draw a Line Graph on First subplot. - Production\n    \"\"\"\n    \n    ax2 = ptable_prod.plot(kind='line',figsize=(15,6))\n    plt.title(f'{state.capitalize()} Seasonal Annual (mean) Production', fontsize=16)\n    plt.ylabel(\"Production\", fontsize=13)\n    plt.legend(prop={'size':10}, loc='best',bbox_to_anchor=(0.4, 0., 0.75, 0.5))\n\n    fig.tight_layout()\n    plt.show()","cd89197d":"seasonal_view('Bihar')","ac065fd0":"seasonal_view('Punjab')","4cbae50a":"seasonal_view('Kerala')","3c085182":"seasonal_view('Jharkhand')","2fe81d1d":"seasonal_view('Uttarakhand')","b24fa205":"seasonal_view('Odisha')","36c705df":"seasonal_view('Chhattisgarh')","7e2a72d2":"### Data Exploration","a7e1c4a9":"### Finding Correlation\n\nUnder this analysis, we'd like to know if there is a relation (positive\/negative) between the Area, Production & Rainfall ","5286e923":"### Data Load","5d8c2929":"## Crop Yield & Rainfall Data India - Analysis","c930b185":"#### Observation:\n\n*   There is a positive co-relation between Area - Production & Rainfall - Production\n\n","e6aed537":"We'll drop the \"Unnamed: 0\" column as it not relevant for our data analysis","e6fb1618":"### Data Visualisation & Analysis","8d6ebe07":"## State Wise Production & Rainfall Visualisation"}}