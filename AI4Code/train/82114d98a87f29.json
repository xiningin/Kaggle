{"cell_type":{"81e76d97":"code","18571836":"code","6c4abf57":"code","afc80dfd":"code","e4aa0be0":"code","22312b86":"code","49d4a3ef":"code","ec32d2c8":"code","95a0ff45":"code","3f68ad05":"code","7893153d":"code","a71d79cd":"code","b9fabbda":"code","dbd227ad":"code","2910f023":"code","4318bfd6":"code","ddd75007":"markdown","840141a9":"markdown","3202b9a0":"markdown","d97d313a":"markdown","1c13abbe":"markdown","d1805227":"markdown","6f113e1e":"markdown","c73964ab":"markdown","fed7673d":"markdown","704196be":"markdown","af02de24":"markdown","2c451e21":"markdown","4b0b3464":"markdown","f56f5f0c":"markdown","b2bb6294":"markdown","e09c4eba":"markdown","e1accd81":"markdown"},"source":{"81e76d97":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\ncensusdata = pd.read_csv(\"..\/input\/censusdata\/Census.csv\",  encoding= 'unicode_escape')\n\ncensusdata.head()","18571836":"censusdata = censusdata.drop(columns=[\"Note\",\"Flag_Total\",\n                                      \"Flag_Male\",\"Flag_Female\",\n                                      \"Flag_Total\",\"Flag_Total.1\",\n                                      \"Flag_Male.1\",\"Flag_Female.1\",\n                                      \"Male.1\",\"Female.1\",\"Total.1\"])","6c4abf57":"censusdata.head()","afc80dfd":"males = censusdata[\"Male\"][7]\nfemales = censusdata[\"Female\"][7]\npop = censusdata[\"Total\"][7] \/ 1000000\n\nfig1, ax1 = plt.subplots()\nax1.pie([males,females], labels=[\"Males\",\"Females\"], autopct = '%1.1f%%', shadow=True)\nax1.axis(\"equal\")\nplt.show()\nprint(\"Population of Canada: {:.2f}\".format(pop), \"Million\")","e4aa0be0":"lang = censusdata.iloc[100:104]\nfig2, ax3 = plt.subplots()\nax3.pie(lang[\"Total\"], labels=[\"English\",\"French\",\"English & French\",\"Other\"], autopct = '%1.1f%%', shadow=True)\nax3.axis(\"equal\")\nplt.title(\"Knowledge of Official Languages\")\nplt.show()","22312b86":"mothertongue1 = censusdata.iloc[114:375]\nmothertongue1.columns = ['topic', 'characteristics', 'total', 'male', 'female']\nmothertongue = mothertongue1.sort_values(by=[\"total\"], ascending=False)\nmothertongue = mothertongue[~mothertongue[\"characteristics\"].str.contains(\"languages\")]\nmothertongue = mothertongue.iloc[2:30,[1,2]]\nmothertongue[\"total\"] = mothertongue[\"total\"]\/1000\n\nf, ax = plt.subplots(figsize= (10,15))\n\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=\"total\", y=\"characteristics\", data=mothertongue,\n            label=\"Total\")\n\nax.set(xlabel=\"Number of People (Thousands)\",\n      ylabel=\"\", title=\"Non-Official Mother Tongue Languages\")\n\nprint(\"Over\",len(mothertongue1),\"mother tongue languages spoken\")","49d4a3ef":"income = censusdata.iloc[694:707]\nincome = income.drop([704])\nincome = income.reset_index()\nincome = income.loc[:,[\"Male\",\"Female\"]]\n\nxlabels= [\"<10\",\"10\",\"20\",\"30\",\"40\",\"50\",\"60\",\"70\",\"80\",\"90\",\"100\",\">150\"]\nx = [0,0.7,1.5,2.5,3.5,4.5,5.5,6.5,7.5,8.5,9.5,10.5]\n\nax = sns.lineplot(data=income, palette=\"deep\", dashes=False, linewidth=2.5)\nax.set_xticks(x)\nax.set(xlabel=\"Income (Thousands ($CAD))\", title=\"Pre-tax Income Frequency Distribution\")\nax.set_xticklabels(xlabels);\nax.axes.get_yaxis().set_visible(False)\n","ec32d2c8":"imm = censusdata.iloc[1140:1149,1:3]\nratioimm = censusdata.iloc[1141,2]\/censusdata.iloc[1140,2]*100\nprint(\"{:.1f}%\".format(ratioimm), \"of the population of Canada are immigrants\")\n\nimm = imm.drop([1140,1141,1146,1147])\n\nimm[\"sum\"] = imm.Total.cumsum()\n\nimm1 = imm.iloc[0:1]\nimm2 = imm.iloc[1:2]\nimm3 = imm.iloc[2:3]\nimm4 = imm.iloc[3:4]\nimm5 = imm.iloc[4:]\n\nf, ax = plt.subplots(figsize=(16,3))\n\nsns.set_color_codes(\"muted\")\nsns.barplot(x=\"sum\", y=\"Characteristics\", data=imm5, label=\"2011-2016\", color='b')\\\n\nsns.barplot(x=\"sum\", y=\"Characteristics\", data=imm4, label=\"2001-2010\", color='g')\n\nsns.barplot(x=\"sum\", y=\"Characteristics\", data=imm3, label=\"1991-2000\", color='yellow')\n\nsns.barplot(x=\"sum\", y=\"Characteristics\", data=imm2, label=\"1981-1990\", color='orange')\n\nsns.barplot(x=\"Total\", y=\"Characteristics\", data=imm1, label=\"<1981\", color='r')\n\nhandles, labels = ax.get_legend_handles_labels()\nax.legend(handles[::-1], labels[::-1], title='Range', loc='lower center' , ncol=5,bbox_to_anchor=(0.5, -0.14))\nax.set_xticks([0])\nax.set(xlabel=\"\", title=\"Year of immagration\")\nax.axes.get_yaxis().set_visible(False)","95a0ff45":"immloc = censusdata.iloc[1157:1216,1:3]\nimmloc = immloc.drop([1157,1168,1169,1186,1187,1196,1197,1214,1215])\nimmloc = immloc.sort_values(by=[\"Total\"], ascending=False)\nimmloc = immloc.iloc[:30]\nimmloc[\"Total\"] = immloc[\"Total\"]\/1000\n\nf, ax = plt.subplots(figsize= (10,15))\n\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=\"Total\", y=\"Characteristics\", data=immloc,\n            label=\"Total\")\n\nax.set(xlabel=\"Number of People (Thousands)\",\n      ylabel=\"\", title=\"Immigrants by Place of Birth\");","3f68ad05":"house = censusdata.iloc[1617:1620,1:3]\nbed = censusdata.iloc[1624:1629,1:3]\nfig, (ax1, ax2) = plt.subplots(1, 2,figsize=(10,10))\nax1.pie(house[\"Total\"], labels=[\"Owner\",\"Renter\",\"Band\"], autopct = '%1.1f%%', shadow=True,)\nax1.set(title=\"Housing Status\")\nax2.pie(bed[\"Total\"], labels=[\"None\",\"1\",\"2\",\"3\",\"4+\"], autopct = '%1.1f%%', shadow=True,)\nax2.set(title=\"Bedrooms\")\nax1.plot()\nax2.plot();\n","7893153d":"ed = censusdata.iloc[1698:1712,1:3]\ned = ed.drop([1700,1701,1706,1708])\ned[\"Total\"] = ed[\"Total\"]\/1000000\n\nf, ax = plt.subplots(figsize= (10,8))\n\n\nsns.barplot(x=\"Total\", y=\"Characteristics\", data=ed,\n            label=\"Total\", palette=\"Greens\")\n    \nax.set(yticklabels=[\"No certificate; diploma or degree\",\"Secondary (high) school diploma\",\n                    \"Trades certificate or diploma\",\"Certificate of Apprenticeship\",\"College degree\",\n                    \"University certificate\",\"Bachelor's degree\",\n                    \"Degree in medicine; dentistry; veterinary\",\"Master's degree\",\"Earned doctorate\"])\n\nax.ticklabel_format(axis=\"x\", style=\"plain\")\nax.set(xlabel=\"Number of People (Millions)\",\n      ylabel=\"\", title=\"Highest Level of Education\");","a71d79cd":"study = censusdata.iloc[1715:1773,1:3]\nstudy = study.drop([1716,1719,1728,1736,1746,1740,1751,1762,1766])\nstudy = study.sort_values(by=\"Total\", ascending=False)\nstudy[\"Total\"] = study[\"Total\"]\/1000000\n\nstudy = study.iloc[:20]\nstudy[\"Characteristics\"] = study[\"Characteristics\"].str.replace(\"\\d+\\.\",\"\")\nstudy[\"Characteristics\"] = study[\"Characteristics\"].str.replace(\"and related.*\",\"\")\n\nf, ax = plt.subplots(figsize= (10,15))\n\nsns.barplot(x=\"Total\", y=\"Characteristics\", data=study,\n            label=\"Total\", palette=\"Reds\")\n    \nax.ticklabel_format(axis=\"x\", style=\"plain\")\nax.set(xlabel=\"Number of People (Millions)\",\n      ylabel=\"\", title=\"Top 20 Major Field of Study\");","b9fabbda":"work = censusdata.iloc[1866:1869,1:3]\nworktype = censusdata.iloc[1875:1877,1:3]\nfig, (ax1, ax2) = plt.subplots(1, 2,figsize=(10,10))\nax1.pie(work[\"Total\"], labels=[\"Employed\",\"Unemployed\",\"Not in labour force\"], autopct = '%1.1f%%', shadow=True,)\nax1.set(title=\"Labour Force\")\nax2.pie(worktype[\"Total\"], labels=[\"Full time | Full year\",\"Part time | Part year\"], autopct = '%1.1f%%', shadow=True,)\nax2.set(title=\"Work Activity\")\nax1.plot()\nax2.plot();\n","dbd227ad":"workplace = censusdata.iloc[1886:1896,1:3]\nworkplace = workplace.sort_values(by=\"Total\", ascending=False)\nworkplace[\"Total\"] = workplace[\"Total\"]\/1000000\nworkplace[\"Characteristics\"] = workplace[\"Characteristics\"].str.replace(\"\\d+\",\"\")\n\nf, ax = plt.subplots(figsize= (10,8))\n\nsns.barplot(x=\"Total\", y=\"Characteristics\", data=workplace,\n            label=\"Total\", palette=\"twilight_shifted\")\n    \nax.ticklabel_format(axis=\"x\", style=\"plain\")\nax.set(xlabel=\"Number of People (Millions)\",\n      ylabel=\"\", title=\"Occupational Classification\");","2910f023":"import squarify\ncomm = censusdata.iloc[1930:1936,1:3]\ncomm[\"Characteristics\"] = comm[\"Characteristics\"].str.replace(\"-\",\"\\n\")\ncomm[\"Characteristics\"] = comm[\"Characteristics\"].str.replace(\" method\",\"\")\n\nvolume = comm[\"Total\"]\nlabels = comm[\"Characteristics\"]\n\ncolor_list = ['#0f7216', '#b2790c', '#ffe9a3',\n              '#f9d4d4', '#d35158', '#30eae7']\n\n\nplt.rc(\"font\", size=12)\nplt.rcParams[\"figure.figsize\"] = (10,8)\nsquarify.plot(sizes=volume, label=labels, color=color_list, alpha=0.7)\nplt.title(\"Main Mode of Commuting\")\n\nplt.axis(\"off\")\n\nplt.show()","4318bfd6":"commtime = censusdata.iloc[1937:1942,1:3]\ncommtime[\"Characteristics\"] = commtime[\"Characteristics\"].str.replace(\"minutes\",\"\")\ncommtime[\"Characteristics\"] = commtime[\"Characteristics\"].str.replace(\" to \",\"-\")\n\ncommleave = censusdata.iloc[1943:1949,1:3]\ncommleave[\"Characteristics\"] = commleave[\"Characteristics\"].str.replace(\"Between \",\"\")\ncommleave[\"Characteristics\"] = commleave[\"Characteristics\"].str.replace(\"and\",\"-\")\ncommleave[\"Characteristics\"] = commleave[\"Characteristics\"].str.replace(\".\",\"\")\n\nfig, (ax1, ax2) = plt.subplots(1, 2,figsize=(15,8))\n\nax1 = sns.barplot(x=commtime.Characteristics, y=commtime.Total, data=commtime, ax=ax1)\nax1.set(ylabel=None)\nax1.set(title=\"Commuting Duration\")\nax1.set(xlabel=\"Time (Minutes)\")\nax1.axes.get_yaxis().set_visible(False);\n\nax2 = sns.barplot(x=commleave.Characteristics, y=commleave.Total, data=commleave)\nax2.set_xticklabels(ax2.get_xticklabels(), rotation=45, horizontalalignment='right')\nax2.set(ylabel=None)\nax2.set(title=\"Time Leaving For Work\")\nax2.set(xlabel=\"Time\")\nax2.axes.get_yaxis().set_visible(False)","ddd75007":"----------------","840141a9":"------------","3202b9a0":"---------------","d97d313a":"> [By: Graham Pinsnet](https:\/\/twitter.com\/GrahamPinsent)  \n> [Linkedin](https:\/\/www.linkedin.com\/in\/graham-pinsent\/)  \n> [GitHub](https:\/\/github.com\/PerryGraham?tab=repositories)\n\n**Tools used:** Python, pandas, matplotlib, seaborn, squarify. ","1c13abbe":"--------------------","d1805227":"---------------","6f113e1e":"### Exploratory data analysis of the 2016 Canadian census.\n\n------","c73964ab":"---------------","fed7673d":"The purpose of this notebook is to turn boring tables of data and make an interesting story about what life in Canada is like. If you have any feedback, please leave a comment. Enjoy. ","704196be":"--------------","af02de24":"-----------------","2c451e21":"--------------","4b0b3464":"-----------------","f56f5f0c":"Thank you. ","b2bb6294":"----------------","e09c4eba":"------------","e1accd81":"----------------"}}