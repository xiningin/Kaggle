{"cell_type":{"3192f82d":"code","6251ffe7":"code","48f13f35":"code","6c10fb01":"code","cb58c313":"code","9d3255e1":"code","909b0369":"code","58646fa0":"code","7a073ee9":"code","7f3f372b":"code","90f1b5fe":"code","e6b3f729":"code","0f547513":"code","ef03acba":"code","6ad96a37":"code","d4d29ac5":"code","e4d16dfe":"code","d3c877ce":"code","9fd9950e":"code","d5594f35":"code","e3595f9e":"code","98d7a79b":"code","05f644d8":"code","ccc60848":"code","96304976":"code","ee31f3b8":"code","351816d2":"code","7c127f4b":"code","cf382a15":"code","7760b4f1":"code","990b23fc":"code","81f2ffa0":"code","7a99a55b":"code","6b1a988b":"code","9388e946":"code","542c7048":"code","4c197469":"code","49b7536a":"code","01b86c4a":"code","ec24ae0a":"code","93cc13de":"code","592e3928":"code","cd4479d0":"code","969d3278":"code","6159a004":"code","9dce1827":"code","e55fec51":"code","148b2312":"code","13d6a074":"code","e38b5e48":"code","ebaf2134":"code","bab82a70":"code","1ce04674":"code","b6788554":"code","27a11813":"code","8764724e":"code","a046cebd":"code","cb374ac6":"code","df477bdb":"code","af2fbde7":"code","1818db3d":"code","df75c5cc":"code","42d11fa0":"code","890b833d":"code","ce4a0a93":"code","27fb948e":"code","00264bee":"code","15cf19b5":"code","92944e6b":"code","0be3bedd":"code","eff4cab2":"code","7c9b7402":"markdown","49ad9ca1":"markdown","bc111df7":"markdown","a77eb352":"markdown","a2da432d":"markdown","a3d5eeeb":"markdown","80e81203":"markdown","c973d518":"markdown","b3494469":"markdown","865ed63d":"markdown","215fc25e":"markdown","784bc59b":"markdown","a0a6e05d":"markdown","ad268b18":"markdown"},"source":{"3192f82d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6251ffe7":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats\nfrom scipy.stats import randint\nfrom sklearn.model_selection import train_test_split\nfrom sklearn import preprocessing\nfrom sklearn.datasets import make_classification\nfrom sklearn.preprocessing import binarize, LabelEncoder, MinMaxScaler","48f13f35":"df_MHdata=pd.read_csv(\"\/kaggle\/input\/mental-health-data\/Mental Health Data.csv\")","6c10fb01":"## checking the dataframe\ndf_MHdata.head(n=3)","cb58c313":"## shape of the dataframe\ndf_MHdata.shape","9d3255e1":"## Rename the columns\na=list(df_MHdata.columns)\nb=['self_employed','no_of_employees','tech_company','role_IT','mental_healthcare_coverage',\n  'knowledge_about_mental_healthcare_options_workplace','employer_discussed_mental_health ',\n  'employer_offer_resources_to_learn_about_mental_health','medical_leave_from_work ',\n  'comfortable_discussing_with_coworkers','employer_take_mental_health_seriously',\n   'knowledge_of_local_online_resources ','productivity_affected_by_mental_health ',\n   'percentage_work_time_affected_mental_health','openess_of_family_friends',\n  'family_history_mental_illness','mental_health_disorder_past',\n   'currently_mental_health_disorder','diagnosed_mental_health_condition',\n   'type_of_disorder','treatment_from_professional',\n   'while_effective_treatment_mental_health_issue_interferes_work',\n  'while_not_effective_treatment_interferes_work ','age','gender','country','US state',\n  'country work ','US state work','role_in_company','work_remotely','']\nfor i,j in zip(a,b):\n    df_MHdata.rename(columns={i:j},inplace=True)","909b0369":"## information of Dataframe\ndf_MHdata.info()","58646fa0":"## No of Missing values in different Columns\ncolumns=df_MHdata.columns\npd.DataFrame({'no of missing values':df_MHdata.isnull().sum()})","7a073ee9":"## copy the dataset in df1\ndf1=df_MHdata.copy()","7f3f372b":"## Drop the unnecessary colums \ncols = ['role_IT','knowledge_of_local_online_resources ',\n        'productivity_affected_by_mental_health ',\n        'percentage_work_time_affected_mental_health']\ndf_red=df1.drop(cols,axis=1)","90f1b5fe":"## No of Employees column\ndf_red.no_of_employees.unique()","e6b3f729":"df_red.no_of_employees.replace(to_replace=['1 to 5', '6 to 25','More than 1000','26-99'],\n                                value=['1-5','6-25','>1000','26-100'],inplace=True)","0f547513":"df_red.no_of_employees.value_counts()","ef03acba":"## Cleaning Mental Health Care coverage column\ndf_red.mental_healthcare_coverage.unique()","6ad96a37":"df_red.mental_healthcare_coverage.replace(to_replace=['Not eligible for coverage \/ N\/A'],\n                                value='No',inplace=True)\ndf_red.mental_healthcare_coverage.unique()","d4d29ac5":"## Cleaning openess_of_family_friends column\ndf_red.openess_of_family_friends.unique()","e4d16dfe":"df_red.openess_of_family_friends.replace(to_replace=['Not applicable to me (I do not have a mental illness)']\n                                          ,value=\"I don't know\",inplace=True)\ndf_red.openess_of_family_friends.unique()","d3c877ce":"## Cleaning the age column remove outliers\nmed_age = df_red[(df_red['age'] >= 18) | (df_red['age'] <= 75)]['age'].median()\ndf_red['age'].replace(to_replace = df_red[(df_red['age'] < 18) | (df_red['age'] > 75)]['age'].tolist(),\n                          value = med_age, inplace = True)","9fd9950e":"## Cleaning the gender column\ndf_red.gender.unique()","d5594f35":"df_red['gender'].replace(to_replace = ['Male', 'male', 'Male ', 'M', 'm',\n       'man', 'Cis male', 'Male.', 'male 9:1 female, roughly', 'Male (cis)', 'Man', 'Sex is male',\n       'cis male', 'Malr', 'Dude', \"I'm a man why didn't you make this a drop down question. You should of asked sex? And I would of answered yes please. Seriously how much text can this take? \",\n       'mail', 'M|', 'Male\/genderqueer', 'male ',\n       'Cis Male', 'Male (trans, FtM)',\n       'cisdude', 'cis man', 'MALE'], value = 'male', inplace = True)\ndf_red['gender'].replace(to_replace = ['Female', 'female', 'I identify as female.', 'female ',\n       'Female assigned at birth ', 'F', 'Woman', 'fm', 'f', 'Cis female ', 'Transitioned, M2F',\n       'Genderfluid (born female)', 'Female or Multi-Gender Femme', 'Female ', 'woman', 'female\/woman',\n       'Cisgender Female', 'fem', 'Female (props for making this a freeform field, though)',\n       ' Female', 'Cis-woman', 'female-bodied; no feelings about gender',\n       'AFAB'], value = 'female', inplace = True)\ndf_red['gender'].replace(to_replace = ['Bigender', 'non-binary', 'Other\/Transfeminine',\n       'Androgynous', 'Other', 'nb masculine',\n       'none of your business', 'genderqueer', 'Human', 'Genderfluid',\n       'Enby', 'genderqueer woman', 'mtf', 'Queer', 'Agender', 'Fluid',\n       'Nonbinary', 'human', 'Unicorn', 'Genderqueer',\n       'Genderflux demi-girl', 'Transgender woman'], value = 'other', inplace = True)","e3595f9e":"df_red.gender.unique()","98d7a79b":"## Cleaning the role_in_company\ntech_list = []\ntech_list.append(df_red[df_red['role_in_company'].str.contains('Back-end')]['role_in_company'].tolist())\ntech_list.append(df_red[df_red['role_in_company'].str.contains('Front-end')]['role_in_company'].tolist())\ntech_list.append(df_red[df_red['role_in_company'].str.contains('Dev')]['role_in_company'].tolist())\ntech_list.append(df_red[df_red['role_in_company'].str.contains('DevOps')]['role_in_company'].tolist())\nflat_list = [item for sublist in tech_list for item in sublist]\nflat_list = list(dict.fromkeys(flat_list))","05f644d8":"## Replace tech role=1 and other=0 in a new tech role operation\ndf_red['tech_role']=df_red['role_in_company']\ndf_red['tech_role'].replace(to_replace=flat_list,value=1,inplace=True)\nremain_list=df_red['tech_role'].unique()[1:]\ndf_red['tech_role'].replace(to_replace=remain_list,value=0,inplace=True)","ccc60848":"df_red.tech_role.value_counts()","96304976":"df_red=df_red.drop(['role_in_company'],axis=1)","ee31f3b8":"df_rej=pd.concat([df_red['type_of_disorder'],df_red['US state'],df_red['US state work']],axis=1)\ndf_red=df_red.drop(['type_of_disorder','US state','US state work'],axis=1)","351816d2":"from sklearn.impute import SimpleImputer\nimp = SimpleImputer(missing_values=np.nan, strategy='most_frequent')\nimp.fit(df_red)\nimp_data=pd.DataFrame(data=imp.transform(df_red),columns=df_red.columns)","7c127f4b":"df_eda=pd.concat([imp_data,df_rej],axis=1)\ndf_eda.isnull().sum().to_frame()","cf382a15":"## A.1 \nplt.subplot(1,2,1)\nplt.title(\"for self employed\")\nplt.pie(df_eda[df_eda.self_employed==1]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.self_employed==1]['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"for not self employed\")\nplt.pie(df_eda[df_eda.self_employed==0]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.self_employed==0]['diagnosed_mental_health_condition'].value_counts().index)","7760b4f1":"##A.2\nsns.countplot(data=df_eda,x='no_of_employees',hue='diagnosed_mental_health_condition')\nplt.title('Mental health in different size companies')","990b23fc":"##A.3\nplt.subplot(1,2,1)\nplt.title(\"Tech company\")\nplt.pie(df_eda[df_eda.tech_company==1]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.tech_company==1]['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Non Tech company\")\nplt.pie(df_eda[df_eda.tech_company==0]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.tech_company==0]['diagnosed_mental_health_condition'].value_counts().index)","81f2ffa0":"##A.4\nsns.countplot(data=df_eda,x='employer_discussed_mental_health ',hue='diagnosed_mental_health_condition')\nplt.title('Mental health Discussion vs Daignostic Counts')","7a99a55b":"##A.5\nsns.countplot(data=df_eda,x='employer_offer_resources_to_learn_about_mental_health',hue='diagnosed_mental_health_condition')\nplt.title('Mental health Resource offering vs Daignostic Counts')","6b1a988b":"##A.6\nplt.figure(figsize=(10,10))\nsns.countplot(data=df_eda,x='medical_leave_from_work ',hue='diagnosed_mental_health_condition')\nplt.title('Asking for Leave vs Daignostic Counts')","9388e946":"##A.7\nsns.countplot(data=df_eda,x='comfortable_discussing_with_coworkers',hue='diagnosed_mental_health_condition')\nplt.title('Discussion with co-workers vs Daignostic Counts')","542c7048":"##A.8\nsns.countplot(data=df_eda,x='employer_take_mental_health_seriously',hue='diagnosed_mental_health_condition')\nplt.title('Employers seriousness vs Daignostic Counts')","4c197469":"##A.9\nplt.figure(figsize=(8,8))\nsns.countplot(data=df_eda,x='openess_of_family_friends',hue='diagnosed_mental_health_condition')\nplt.title('Openess of Family&Friends vs Daignostic Counts')","49b7536a":"##A.10\nsns.countplot(data=df_eda,x='family_history_mental_illness',hue='diagnosed_mental_health_condition')\nplt.title('Family History vs Daignostic Counts')","01b86c4a":"##A.11\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Had past mental illness\")\nplt.pie(df_eda[df_eda.mental_health_disorder_past=='Yes']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.mental_health_disorder_past=='Yes']['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Did Not had mental illness of past\")\nplt.pie(df_eda[df_eda.mental_health_disorder_past=='No']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.mental_health_disorder_past=='No']['diagnosed_mental_health_condition'].value_counts().index)","ec24ae0a":"##A.12\nsns.countplot(data=df_eda,x='currently_mental_health_disorder',hue='diagnosed_mental_health_condition')\nplt.title('Self proclaimed disorder vs Daignostic Counts')","93cc13de":"##A.13\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Taking Help from professional\")\nplt.pie(df_eda[df_eda.treatment_from_professional==1]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.treatment_from_professional==1]['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Not taking help from professional\")\nplt.pie(df_eda[df_eda.treatment_from_professional==0]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.treatment_from_professional==0]['diagnosed_mental_health_condition'].value_counts().index)","592e3928":"##A.14\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Positive diagnosed under effective medication\")\nplt.pie(df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['while_effective_treatment_mental_health_issue_interferes_work'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['while_effective_treatment_mental_health_issue_interferes_work'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Positive diagnosed under not-effective medication\")\nplt.pie(df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['while_not_effective_treatment_interferes_work '].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['while_not_effective_treatment_interferes_work '].value_counts().index)","cd4479d0":"##A.15\nplt.figure(figsize=(7,7))\nplt.subplot(1,2,1)\nplt.hist(df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['age'],bins=5)\nplt.title(\"Positive Diagonosis with age\")\n\nplt.subplot(1,2,2)\nplt.hist(df_eda[df_eda.diagnosed_mental_health_condition=='No']['age'],bins=5)\nplt.title(\"Negetive Diagonosis with age\")","969d3278":"##A.16\nplt.figure(figsize=(10,10))\nplt.subplot(1,3,1)\nplt.title(\"Male\")\nplt.pie(df_eda[df_eda.gender=='male']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.gender=='male']['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,3,2)\nplt.title(\"Female\")\nplt.pie(df_eda[df_eda.gender=='female']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.gender=='female']['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,3,3)\nplt.title(\"Others\")\nplt.pie(df_eda[df_eda.gender=='other']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.gender=='other']['diagnosed_mental_health_condition'].value_counts().index)","6159a004":"!pip install chart-studio","9dce1827":"##A.17\nimport chart_studio.plotly as py \nimport plotly.graph_objs as gobj\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot","e55fec51":"data =dict( type = 'choropleth',\n            locations = list(df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['country'].value_counts().index),\n            locationmode = 'country names',\n            colorscale= 'Rainbow',\n            z=list(df_eda[df_eda.diagnosed_mental_health_condition=='Yes']['country'].value_counts()),\n            colorbar = {'title':'Country Colours', 'len':200,'lenmode':'pixels' })\nlayout = dict(geo = {'scope':'world'})\ncol_map=gobj.Figure(data = [data],layout = layout)\niplot(col_map)","148b2312":"##A.20\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Tech Role\")\nplt.pie(df_eda[df_eda.tech_role==1]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.tech_role==1]['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Non Tech Role\")\nplt.pie(df_eda[df_eda.tech_role==0]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.tech_role==0]['diagnosed_mental_health_condition'].value_counts().index)","13d6a074":"##A.21\nplt.figure(figsize=(10,10))\nplt.subplot(1,3,1)\nplt.title(\"Always Remote work\")\nplt.pie(df_eda[df_eda.work_remotely=='Always']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.work_remotely=='Always']['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,3,2)\nplt.title(\"Sometime Remote work\")\nplt.pie(df_eda[df_eda.work_remotely=='Sometimes']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.work_remotely=='Sometimes']['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,3,3)\nplt.title(\"Never Remote work\")\nplt.pie(df_eda[df_eda.work_remotely=='Never']['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.work_remotely=='Never']['diagnosed_mental_health_condition'].value_counts().index)","e38b5e48":"##A.22\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Tech Role in tech company\")\nplt.pie(df_eda[(df_eda.tech_role==1) & (df_eda.tech_company==1)]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.tech_role==1]['diagnosed_mental_health_condition'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Tech Role in non tech company\")\nplt.pie(df_eda[(df_eda.tech_role==1) & (df_eda.tech_company==0)]['diagnosed_mental_health_condition'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.tech_role==0]['diagnosed_mental_health_condition'].value_counts().index)","ebaf2134":"##B.1\nplt.subplot(1,2,1)\nplt.title(\"Self Employed\")\nplt.pie(df_eda[df_eda.self_employed==1]['mental_health_disorder_past'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.self_employed==1]['mental_health_disorder_past'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Not Self employed\")\nplt.pie(df_eda[df_eda.self_employed==0]['mental_health_disorder_past'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.self_employed==0]['mental_health_disorder_past'].value_counts().index)","bab82a70":"##B.2\nplt.subplot(1,2,1)\nplt.title(\"Self Employed\")\nplt.pie(df_eda[df_eda.self_employed==1]['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.self_employed==1]['treatment_from_professional'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Not Self employed\")\nplt.pie(df_eda[df_eda.self_employed==0]['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.self_employed==0]['treatment_from_professional'].value_counts().index)","1ce04674":"##B.3\nsns.countplot(data=df_eda,x='no_of_employees',hue='mental_healthcare_coverage')\nplt.title('Company size vs Health care coverage')","b6788554":"##B.4\nsns.countplot(data=df_eda,x='no_of_employees',hue='comfortable_discussing_with_coworkers')\nplt.title('Company size vs Openess about mental health')","27a11813":"##B.5\nplt.subplot(1,2,1)\nplt.title(\"Tech Company\")\nplt.pie(df_eda[df_eda.tech_company==1]['employer_discussed_mental_health '].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.tech_company==1]['employer_discussed_mental_health '].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Not tech companies\")\nplt.pie(df_eda[df_eda.tech_company==0]['employer_discussed_mental_health '].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.tech_company==1]['employer_discussed_mental_health '].value_counts().index)","8764724e":"##B.6\nplt.subplot(1,2,1)\nplt.title(\"Mental Health Covered\")\nplt.pie(df_eda[df_eda.mental_healthcare_coverage=='Yes']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.mental_healthcare_coverage=='Yes']['treatment_from_professional'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Mental Health not covered\")\nplt.pie(df_eda[df_eda.mental_healthcare_coverage=='No']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.mental_healthcare_coverage=='No']['treatment_from_professional'].value_counts().index)","a046cebd":"##B.7\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Mental Healthcare options Knowledge\")\nplt.pie(df_eda[df_eda.employer_offer_resources_to_learn_about_mental_health=='Yes']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.employer_offer_resources_to_learn_about_mental_health=='Yes']['treatment_from_professional'].value_counts().index)\n\nplt.subplot(1,2,2)\nplt.title(\"Mental Healthcare options no knowledge\")\nplt.pie(df_eda[df_eda.employer_offer_resources_to_learn_about_mental_health=='No']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.employer_offer_resources_to_learn_about_mental_health=='No']['treatment_from_professional'].value_counts().index)\n","cb374ac6":"##B.8\nplt.figure(figsize=(10,10))\nplt.subplot(1,2,1)\nplt.title(\"Having family history mental illness\")\nplt.pie(df_eda[df_eda.family_history_mental_illness=='Yes']['openess_of_family_friends'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.family_history_mental_illness=='Yes']['openess_of_family_friends'].value_counts().index)\nplt.subplot(1,2,2)\nplt.title(\"No family history of mental illness\")\nplt.pie(df_eda[df_eda.family_history_mental_illness=='No']['openess_of_family_friends'].value_counts(),\n       autopct='%1f%%',radius=1, \n       labels=df_eda[df_eda.family_history_mental_illness=='No']['openess_of_family_friends'].value_counts().index)","df477bdb":"##B.9\nplt.figure(figsize=(10,10))\nplt.subplot(1,3,1)\nplt.title(\"Very open family\")\nplt.pie(df_eda[df_eda.openess_of_family_friends=='Very open']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.openess_of_family_friends=='Very open']['treatment_from_professional'].value_counts().index)\nplt.subplot(1,3,2)\nplt.title(\"Somewhat Open family\")\nplt.pie(df_eda[df_eda.openess_of_family_friends=='Somewhat open']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.openess_of_family_friends=='Somewhat open']['treatment_from_professional'].value_counts().index)\nplt.subplot(1,3,3)\nplt.title(\"Not open at all\")\nplt.pie(df_eda[df_eda.openess_of_family_friends=='Not open at all']['treatment_from_professional'].value_counts(),\n       autopct='%1f%%',radius=1,\n       labels=df_eda[df_eda.openess_of_family_friends=='Not open at all']['treatment_from_professional'].value_counts().index)","af2fbde7":"##B.10\ndisorder_type=pd.DataFrame(\n    df_eda[df_eda.type_of_disorder.isnull() != True]['type_of_disorder'].str.split(\"|\").tolist()).stack()\nplt.figure(figsize=(10,10))\nsns.barplot(x=disorder_type.value_counts()[0:10],y=disorder_type.value_counts().index[0:10])","1818db3d":"## Dropping unnecessary columns\ny=df_eda.diagnosed_mental_health_condition\nX=df_eda.drop(['diagnosed_mental_health_condition','treatment_from_professional',\n               'while_effective_treatment_mental_health_issue_interferes_work',\n               'while_not_effective_treatment_interferes_work ','type_of_disorder','US state','US state work'],axis=1)","df75c5cc":"## Splitting the data\nX_train,X_valid,y_train,y_valid=train_test_split(X,y,train_size=0.8,test_size=0.2,random_state=0)","42d11fa0":"cat_columns=['self_employed', 'no_of_employees', 'tech_company',\n       'mental_healthcare_coverage',\n       'knowledge_about_mental_healthcare_options_workplace',\n       'employer_discussed_mental_health ',\n       'employer_offer_resources_to_learn_about_mental_health',\n       'medical_leave_from_work ', 'comfortable_discussing_with_coworkers',\n       'employer_take_mental_health_seriously', 'openess_of_family_friends',\n       'family_history_mental_illness', 'mental_health_disorder_past',\n       'currently_mental_health_disorder', 'age', 'gender', 'country',\n       'country work ', 'work_remotely', 'tech_role']","890b833d":"##Label Encode the data \nfrom sklearn.preprocessing import LabelEncoder\nlabel_encode=LabelEncoder()\nlabel_X_train=X_train.copy()\nlabel_X_valid=X_valid.copy()\n\nfor col in cat_columns:\n    label_X_train[col]=label_encode.fit_transform(X_train[col])\n    label_X_valid[col] = label_X_valid[col].map(lambda s: '<unknown>' if s not in label_encode.classes_ else s)\n    label_encode.classes_ = np.append(label_encode.classes_, '<unknown>')\n    label_X_valid[col] = label_encode.transform(label_X_valid[col])\n\nlabel_y_train=label_encode.fit_transform(y_train)\nlabel_y_valid=label_encode.transform(y_valid)","ce4a0a93":"from sklearn.ensemble import RandomForestClassifier\nmodel=RandomForestClassifier(n_estimators=1000, max_depth=10, random_state=0)\nmodel.fit(label_X_train,label_y_train)\npreds=model.predict(label_X_valid)","27fb948e":"from sklearn.metrics import accuracy_score\naccuracy_score(label_y_valid,preds)","00264bee":"from xgboost import XGBClassifier\nmodel1=XGBClassifier(n_estimators=1000,learning_rate=0.05)\nmodel1.fit(label_X_train,label_y_train)","15cf19b5":"preds1=model1.predict(label_X_valid)\naccuracy_score(label_y_valid,preds1)","92944e6b":"from xgboost import XGBRFClassifier\nmodel2=XGBRFClassifier(n_estimators=1000,learning_rate=0.05)\nmodel2.fit(label_X_train,label_y_train)","0be3bedd":"preds2=model2.predict(label_X_valid)\naccuracy_score(label_y_valid,preds2)","eff4cab2":"from sklearn.linear_model import LogisticRegression\nlogistic=LogisticRegression(C=1,penalty='l1',solver='liblinear',random_state=0)\nlogistic.fit(label_X_train,label_y_train)\npreds3=logistic.predict(label_X_valid)\naccuracy_score(label_y_valid,preds3)","7c9b7402":"## 4. ML Models","49ad9ca1":"## 1. Import Libraries","bc111df7":"#### 2.2 Handling Missing Values","a77eb352":"#### 4.1 Data Preperation","a2da432d":"## 3. EDA","a3d5eeeb":"## 2. Reading and Cleaning","80e81203":"#### 2.1 Cleaning Different Columns","c973d518":"#### 4.5 Logistic Regression","b3494469":"##### A. Questions with regard to the Target: \n1. If a person is self employed then is there a higher chance of mental disorder?\n2. Does big size of the company affect your mental health condition adversely?\n3. Does working in a tech company affect adversely to your mental well being?\n4. Does the employers discussion on mental health reduces the chance of getting postive diagonised?\n5. Will offering more options to learn about mental health reduces the chance of getting positive?\n6. Does providing no leaves increases the less reporting of mental health issues?\n9. Does discussion with coworkers about mental health care reduces the chance of positive diagonosis?\n10. If Employer takes mental health seriously, then will it reduce the chance of positive diagonosis?\n11. If family friends are open about the mental health then will it reduce the positive diagonosis?\n12. What are the chances that if a person having family history of mental illness then he is diagonised positive?\n13. Does having mental illness of the past affect the diagonosis?\n14. Is self proclaimed mental health disorders increases the chances of being diagonised positively?\n15. How many of those who has diagonised positively will seek help of professional?\n16. If one is diagonised positive how effective and not effective medication affecting the individual?\n17. Is the chances of getting positively diagonised increases with age?\n18. Is there any chance that a other gender category is more positively diagonised than other gender categories?\n19. Country wise positive disorder cases?\n20. Statewise positive disorder cases in USA?\n21. Does working other than home country increases more chances of disorder?\n22. Does being involved in tech role increases chances of diagonised positive?\n23. Will working remotely helps to better the mental health condition?\n24. Does a person in tech role in tech company has higher chance of diagonosis than a tech role in non tech company?","865ed63d":"#### 4.2 Random Forest Model","215fc25e":"#####  B. Questions other than Target:\n\n1. For self employed does the past mental disorder more than those who are not self employed?\n3. Does self employed people shy away to seek help?\n4. Is the large company is more serious about mental health than small companies?\n5. Does openess about the mental health varies with size of the companies?\n8. Does the tech companies take mental health seriously than other non tech companies?\n9. Does providing more health care benefits provide seeking for professional health?\n10. Does providing more information about mental health increase help seeking behaviour?\n14. The family where there are history mental health isssues are they open about discussing among family?\n16. Does willing ness among family memebers increases the chance of seeking more professional help?\n17. Which kind of discorder occur most?\n18. Does seeking for professional help to reduce the work stress if they are under effective medication?\n19. Does teenage people less seek out for help than the elderly ones?\n ","784bc59b":"#### 4.4 XGBoost Random Classifier","a0a6e05d":"#### 4.3 XGBoost Classifier","ad268b18":"**Target Variable Column**: \"diagnosed_mental_health_condition\"\n\n**Aim** : Here our main task is that knowing certain paramerters of the repondent's background we have to predict if one will be diagnosed positive or negetive.\n\n**Stop Data Leakage**: So, now comes the important part where we have to stop data leakage. To stop Data leakage we have to drop certain columns which we can't have while making prediction. Like Treatment from professional column we might not know when we are making prediction because if one is diagnosed then one takes help from professional. These type of columns are like false target if we include it might train on that and then make prediction.\n\n**Stop Train and Test contamination** : To stop this issue we have split the data then done all the preprocessing seperately."}}