{"cell_type":{"18eabb2a":"code","1728ac33":"code","d82a56d6":"code","6a0d2987":"code","4e85f910":"code","3d8bec41":"code","dec66744":"code","460b460e":"code","0f7b23a9":"code","3c4289a7":"code","6528c797":"code","e181348a":"code","47740019":"code","dae90072":"code","69f38c86":"code","2cd43116":"code","bd48b15b":"code","e0d17bec":"code","1087dc25":"code","843a7632":"code","24628f87":"code","039199a1":"code","52849315":"code","45e60395":"code","ea5bdf40":"code","4ae6e18b":"code","4c5c21d9":"code","675f08e7":"code","5bbbd2c4":"code","66618ac1":"code","5bc6b2d9":"code","6c37f6f3":"code","2db0fa09":"code","e4a5def9":"code","f1ddbb89":"code","a3e52054":"code","d1a7fc92":"code","c3dd7478":"code","1e94c76b":"code","ff24a9a5":"code","9e37e2fc":"code","c438a19a":"code","deb35bd2":"code","ae7db735":"code","56aa1f14":"code","718530d9":"markdown"},"source":{"18eabb2a":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set()","1728ac33":"data=pd.read_csv('..\/input\/athlete_events.csv')\nnoc=pd.read_csv('..\/input\/noc_regions.csv')","d82a56d6":"data=pd.merge(data,noc,on='NOC',how='left')\nprint(data.head())","6a0d2987":"print(data.info())","4e85f910":"import missingno as msno\nmsno.matrix(data)","3d8bec41":"data_summer=data[data.Season=='Summer']\ndata_summer['age_dec']=data_summer.Age.map(lambda Age: 10*(Age\/\/10))\ndata_summer['ones']=np.ones(len(data_summer))\ndata_summer['height_dec']=data_summer.Height.map(lambda Height: 10*(Height\/\/10))\ndata_summer['weight_dec']=data_summer.Weight.map(lambda Weight: 10*(Weight\/\/10))","dec66744":"data_city_year=data_summer.pivot_table('ones',index='Year',columns='City')\ncity_sort=data_city_year.sum().sort_values(ascending=False)\nprint(city_sort)","460b460e":"data_name_year=data_summer.groupby(['Year','Name'])['Medal'].value_counts()\nname_gold10=data_name_year.loc[:,:,'Gold'].sort_values(ascending=False).head(10)\nprint(name_gold10)","0f7b23a9":"data_region_year=data_summer.pivot_table('ones',index='Year',columns='region')\nregion_times10=data_region_year.sum().sort_values(ascending=False).head(10)\nprint(region_times10)","3c4289a7":"data_sport_year=data_summer.groupby(['Year','Sport'])['Medal'].value_counts()\nsport_gold10=data_sport_year.loc[:,:,'Gold'].sort_values(ascending=False).head(10)\nprint(sport_gold10)","6528c797":"data_sport=data_summer.groupby('Sport')['Medal'].value_counts()\nsport_gold10_=data_sport.loc[:,'Gold'].sort_values(ascending=False).head(10)\nprint(sport_gold10_)","e181348a":"data_sport_region=data_summer.groupby(['region','Sport'])['Medal'].value_counts()\nregion_gold10=data_sport_region.loc[:,:,'Gold'].sort_values(ascending=False).head(20)\nprint(region_gold10)","47740019":"data_region=data_summer.groupby('region')['Medal'].value_counts()\nregion_gold10_=data_region.loc[:,'Gold'].sort_values(ascending=False).head(10)\nprint(region_gold10_)","dae90072":"data_year_sex=data_summer.groupby('Year')['Sex'].value_counts()\nfig,ax=plt.subplots(2,1,figsize=(15,8))\nfig.subplots_adjust(hspace=0.5)\ndata_year_sex.loc[:,'M'].plot(kind='bar',ax=ax[0])\nax[0].set_title('men participating in the Olympics',size=15);\ndata_year_sex.loc[:,'F'].plot(kind='bar',ax=ax[1])\nax[1].set_title('female participating in the Olympics',size=15);","69f38c86":"data_year_age=data_summer.pivot_table(index='Year',columns='age_dec',aggfunc={'ones':sum})\nfig,ax=plt.subplots(figsize=(14,8))\nfig.subplots_adjust(hspace=0.5)\ndata_year_age.plot(ax=ax,style='-s')\nax.legend(['age_dec:10','age_dec:20','age_dec:30','age_dec:40','age_dec:50','age_dec:60','age_dec:70','age_dec:80','age_dec:90'])\nax.set_title('aged 10-90 participating in the Olympics',size=15);","2cd43116":"fig,ax=plt.subplots(figsize=(14,8))\ndata_year_medal=data_summer.pivot_table(index='Year',columns='Medal',aggfunc={'ones':sum})\ndata_year_medal.plot(ax=ax,style='-s')\nax.legend(['Gold','Silver','Bronze'])\nax.set_title('medals in the Olympics',size=15);","bd48b15b":"plt.figure(figsize=(14,8))\nage_list=np.arange(10,60,10)\nsns.countplot(x='age_dec',hue='Medal',\n\tdata=data_summer[data_summer.age_dec.isin(age_list)])","e0d17bec":"plt.figure(figsize=(14,8))\nheight_list=np.arange(140,220,10)\nsns.countplot(x='height_dec',hue='Medal',\n\tdata=data_summer[data_summer.height_dec.isin(height_list)])","1087dc25":"plt.figure(figsize=(14,8))\nweight_list=np.arange(30,150,10)\nsns.countplot(x='weight_dec',hue='Medal',\n\tdata=data_summer[data_summer.weight_dec.isin(weight_list)])","843a7632":"plt.figure(figsize=(14,8))\nsport_names=['Athletics','Swimming','Rowing','Gymnastics','Fencing',\n'Hockey','Football','Sailing','Cycling','Wrestling']\nsns.countplot(x='Sport',hue='Medal',\n\tdata=data_summer[data_summer.Sport.isin(sport_names)])","24628f87":"plt.figure(figsize=(14,8))\nregion_names=['USA','Russia','Germany','UK','Italy','France','Hungary',\n'Australia','Sweden','China']\nsns.countplot(x='region',hue='Medal',\n\tdata=data_summer[data_summer.region.isin(region_names)])","039199a1":"plt.figure(figsize=(14,8))\nage_list=np.arange(10,70,10)\nsns.countplot(x='age_dec',hue='Sex',\n\tdata=data_summer[data_summer.age_dec.isin(age_list)])","52849315":"plt.figure(figsize=(14,8))\nheight_list=np.arange(140,220,10)\nsns.countplot(x='height_dec',hue='Sex',\n\tdata=data_summer[data_summer.height_dec.isin(height_list)])","45e60395":"plt.figure(figsize=(14,8))\nweight_list=np.arange(30,140,10)\nsns.countplot(x='weight_dec',hue='Sex',\n\tdata=data_summer[data_summer.weight_dec.isin(weight_list)])","ea5bdf40":"plt.figure(figsize=(14,8))\nsns.countplot(x='Sport',hue='Sex',\n\tdata=data_summer[data_summer.Sport.isin(sport_names)])","4ae6e18b":"plt.figure(figsize=(14,8))\nsns.countplot(x='region',hue='Sex',\n\tdata=data_summer[data_summer.region.isin(region_names)])","4c5c21d9":"plt.figure(figsize=(14,8))\nsns.countplot(x='Medal',hue='Sex',data=data_summer)","675f08e7":"data_drop=data_summer[['Sex','Age','Height','Weight','Medal']].dropna()\nsns.pairplot(data_drop,hue='Medal')\nsns.pairplot(data_drop,hue='Sex')","5bbbd2c4":"plt.figure(figsize=(14,8))\nage_list=np.arange(10,80,10)\nsns.violinplot(x='age_dec',y='Height',hue='Sex',data=data_summer[data_summer.age_dec.isin(age_list)],split=True,inner='quartitle')","66618ac1":"plt.figure(figsize=(14,8))\nage_list=np.arange(10,80,10)\nsns.violinplot(x='age_dec',y='Weight',hue='Sex',data=data_summer[data_summer.age_dec.isin(age_list)],split=True,inner='quartitle')","5bc6b2d9":"plt.figure(figsize=(14,8))\nage_list=np.arange(10,70,10)\nsns.boxenplot(x='age_dec',y='Height',hue='Medal',data=data_summer[data_summer.age_dec.isin(age_list)])","6c37f6f3":"plt.figure(figsize=(14,8))\nage_list=np.arange(10,70,10)\nsns.boxenplot(x='age_dec',y='Weight',hue='Medal',data=data_summer[data_summer.age_dec.isin(age_list)])","2db0fa09":"data_china=data_summer[data_summer.region=='China']","e4a5def9":"fig,ax=plt.subplots(figsize=(14,10))\ndata_china.groupby('Year')['ones'].sum().plot(kind='barh',ax=ax)\nax.set_title('Chinese athletes in the Olympics',size=15);","f1ddbb89":"fig,ax=plt.subplots(figsize=(14,10))\ndata_china_medal=data_china.pivot_table(index='Year',columns='Medal',aggfunc={'ones':sum})\ndata_china_medal.plot(kind='barh',ax=ax)\nax.legend(['Gold','Silver','Bronze'])\nax.set_title('Chinese medals in the Olympics',size=15);","a3e52054":"fig,ax=plt.subplots(figsize=(14,8))\ndata_china_medal=data_china.pivot_table(index='Year',columns='Sex',aggfunc={'ones':sum})\ndata_china_medal.plot(ax=ax,style='-s')\nax.legend(['Female','Men'])\nax.set_title('Chinese men and female in the Olympics',size=15);","d1a7fc92":"plt.figure(figsize=(14,8))\nsns.distplot(data_china.Age.dropna())\nsns.kdeplot(data_china.Age.dropna())","c3dd7478":"plt.figure(figsize=(14,8))\nsns.distplot(data_china.Height.dropna())\nsns.kdeplot(data_china.Height.dropna())","1e94c76b":"plt.figure(figsize=(14,8))\nsns.distplot(data_china.Weight.dropna())\nsns.kdeplot(data_china.Weight.dropna())","ff24a9a5":"fig,ax=plt.subplots(figsize=(14,8))\nsns.barplot('Year','Age',data=data_china,palette='cool',capsize=.5,ax=ax)","9e37e2fc":"fig,ax=plt.subplots(figsize=(14,8))\nsns.barplot('Year','Height',data=data_china,palette='rainbow',capsize=.5,ax=ax)","c438a19a":"fig,ax=plt.subplots(figsize=(14,8))\nsns.barplot('Year','Weight',data=data_china,palette='Spectral',capsize=.5,ax=ax)","deb35bd2":"data_sport_china=data_china.groupby('Sport')['Medal'].value_counts()\nsport_china_gold10=data_sport_china.loc[:,'Gold'].sort_values(ascending=False).head(10)\nprint(sport_china_gold10)","ae7db735":"plt.figure(figsize=(14,8))\nsport_names=['Diving','Table Tennis','Gymnastics','Volleyball','Weightlifting','Badminton','Shooting','Swimming','Athletics','Judo']\nsns.countplot(x='Sport',hue='Medal',data=data_china[data_china.Sport.isin(sport_names)])","56aa1f14":"plt.figure(figsize=(14,8))\nsport_names=['Diving','Table Tennis','Gymnastics','Volleyball','Weightlifting','Badminton','Shooting','Swimming','Athletics','Judo']\nsns.countplot(x='Sport',hue='Sex',data=data_china[data_china.Sport.isin(sport_names)])","718530d9":"This Kernel makes an in-depth analysis of the entire Olympic data, mainly comparing the relationships among the characteristic data from the three dimensions of year, gender and medal, and also makes a targeted analysis of China's participation in the Olympic Games.The analysis includes the following aspects:\n> 1. Some interesting questions about the Olympics\n> 2. Visualized analysis of MEDALS, competition events, athletes' ages and gender over the years\n> 3. Analysis of the relationship among age, height, weight and medals\n> 4. Analysis of the top 10 sports and top 10 countries with the most medals\n> 5. Analysis of the relationship among age, height, weight, sports, country and gender of the competitors\n> 6. Analysis of China's competition"}}