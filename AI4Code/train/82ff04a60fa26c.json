{"cell_type":{"e2162132":"code","a9d31441":"code","01304c32":"code","675ead9c":"code","451e6f7d":"code","d6c742a7":"code","82c5fe67":"markdown","8e70ef5b":"markdown","e70daa60":"markdown","3d13614c":"markdown","3d8625aa":"markdown","5671dfb9":"markdown","a5932c17":"markdown"},"source":{"e2162132":"! pip install kaggle\n! pip install --upgrade --force-reinstall --no-deps kaggle # force install the latest version","a9d31441":"from google.colab import drive\ndrive.mount('\/content\/gdrive', force_remount=True)","01304c32":"! mkdir ~\/.kaggle\n! cp \/content\/gdrive\/MyDrive\/kaggle.json ~\/.kaggle\/\n! chmod 600 ~\/.kaggle\/kaggle.json","675ead9c":"# This will download to the working directory of your Colab instance. \n# Faster to work with, but you have to repeat the process every time you instantiate the runtime.\n! kaggle competitions download -c ranzcr-clip-catheter-line-classification\n! unzip \/content\/ranzcr-clip-catheter-line-classification.zip\n\n# Alternatively, you can download to your Drive, and then access accordingly.\n# This can cause issues as Drive is notoriously slow \/ poor at indexing large directories (https:\/\/stackoverflow.com\/questions\/54294532\/time-out-on-drive-mount-content-drive-in-google-colab)\n! mkdir \/content\/gdrive\/MyDrive\/ranzcr\n! kaggle competitions download -c ranzcr-clip-catheter-line-classification -p \/content\/gdrive\/MyDrive\/ranzcr\n! unzip \/content\/gdrive\/MyDrive\/ranzcr\/ranzcr-clip-catheter-line-classification.zip\n\n# For file paths, you'll now be using, for example:\nTRAIN_DIR = '\/content\/train' # or '\/\/content\/gdrive\/MyDrive\/ranzcr\/train' if you decide to go with Drive.","451e6f7d":"! mkdir \/content\/gdrive\/MyDrive\/ranzcr\/checkpoints\ncheckpoint_path = '\/content\/gdrive\/MyDrive\/ranzcr\/checkpoints'\n\n# Saving your checkpoints is as easy as:\ntorch.save({'model': model.state_dict()}, checkpoint_path+f'\/{model_name}_{fold}_best.pth')","d6c742a7":"gcs_paths = KaggleDatasets().get_gcs_path(ranzcr-clip-catheter-line-classification)","82c5fe67":"Download the competition data.","8e70ef5b":"Make the appropriate directory for your kaggle.json, and shift the file there.","e70daa60":"# Install Kaggle API\n\nOpen a new Colab notebook and begin by installing the Kaggle API.","3d13614c":"Then get your API key. Head to Profile -> Account tab to find the following:\n\n![](https:\/\/www.googleapis.com\/download\/storage\/v1\/b\/kaggle-forum-message-attachments\/o\/inbox%2F4271956%2F78ba4ffb3cd87cd8dad4af4644327e4c%2FScreen%20Shot%202021-01-09%20at%203.04.35%20pm.png?generation=1610165267080465&alt=media)\n\nUpload the json file somewhere convenient in your Google Drive. The next cell mounts your Drive and makes it accessible within Colab. You'll have to go through a brief authorisation dance after running the cell.","3d8625aa":"Thanks to user [Andy](https:\/\/www.kaggle.com\/andy1010) for [this discussion](https:\/\/www.kaggle.com\/c\/ranzcr-clip-catheter-line-classification\/discussion\/209846), which this notebook is based on.","5671dfb9":"Thanks again to Andy for starting this topic. If you have any suggestions for further tips to add, feel free to comment below.","a5932c17":"Lastly, for the TPU's GCS_PATH, just use the file paths returned by:"}}