{"cell_type":{"7d9a3640":"code","febbe4eb":"code","d0b02c6c":"code","3a161651":"code","00a32f49":"code","a0b92fbd":"code","62bdd75e":"code","6648e196":"code","72d0d2e9":"code","f44d208d":"code","beb3c41b":"code","014bf6c3":"code","33a4f126":"code","cf8e3a52":"code","0dcbf167":"code","b1c7df14":"code","530298d0":"code","62609f18":"code","0b4bf61b":"code","b40a487a":"code","232c453f":"code","d4329696":"code","de499612":"code","a5a5ca99":"code","01ef854d":"code","cf8f3f04":"markdown","010a4cbf":"markdown","438b57f7":"markdown","6e3ac8bd":"markdown","f8eb3dc3":"markdown","a00ab45d":"markdown","1f81f048":"markdown","0065952b":"markdown","3c0a6a99":"markdown","c60a6fbc":"markdown","cedc1ae4":"markdown","eba00ea1":"markdown","1a1c37cf":"markdown","aea20519":"markdown","78857476":"markdown","ee678b3b":"markdown","406f1017":"markdown","26b3765c":"markdown","f2dac8fc":"markdown"},"source":{"7d9a3640":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n","febbe4eb":"hotel_df=pd.read_csv('..\/input\/hotel-booking\/hotel_booking.csv')\nhotel_df.head()","d0b02c6c":"c = ['#F1948A', '#1ABC9C']\n\npatches, texts, pcts=plt.pie(hotel_df['hotel'].value_counts(),labels =hotel_df['hotel'].value_counts().index,colors=c, autopct='%.1f%%' ,\n         wedgeprops={'linewidth': 5.0, 'edgecolor': 'white'},textprops={'size': '15', 'color':'black'})\nplt.setp(texts, fontweight=700)\n\nfor i, color in enumerate(c):\n    texts[i].set_color(color)","3a161651":"c = ['#F1C40F', '#3498DB']\nlabels = ['Not Canceled','Canceled']\n\npatches, texts, pcts=plt.pie(hotel_df['is_canceled'].value_counts(),labels =labels,colors=c, autopct='%.1f%%' ,\n         wedgeprops={'linewidth': 5.0, 'edgecolor': 'white'},textprops={'size': '15', 'color':'black'})\nplt.setp(texts, fontweight=700)\n\nfor i, color in enumerate(c):\n    texts[i].set_color(color)","00a32f49":"corr_df = hotel_df[\n    ['is_repeated_guest', 'previous_cancellations', \n     'previous_bookings_not_canceled', 'booking_changes', \n     'days_in_waiting_list', 'lead_time', 'adults', \n     'children', 'babies','is_canceled']\n]\n","a0b92fbd":"corr_df.corr()","62bdd75e":"plt.figure(figsize=(20,9))\nsns.heatmap(corr_df.corr(),cmap='Greens',  vmax=.3,linewidths=0.5,annot=True,annot_kws={\"size\": 15})","6648e196":"month_sorted = ['January','February','March','April','May','June','July','August','September','October','November','December']\nplt.figure(figsize=(14,6))\nsns.countplot(hotel_df['arrival_date_month'], order = month_sorted)\nplt.xticks(rotation = 40)\nplt.show()","72d0d2e9":"# plt.figure(figsize=(19,14))\n# ax=sns.displot(hotel_df['arrival_date_month'])\n# ax.set_xticklabels(rotation=58,ha='right')\n\n","f44d208d":"new= pd.DataFrame(hotel_df.groupby('arrival_date_month').sum(),columns = ['is_canceled'])\nnew.reset_index(inplace=True)\n# new","beb3c41b":"fig, ax = plt.subplots(figsize = (12,6))    \nfig = sns.barplot(x='arrival_date_month',y='is_canceled',data=new, \n                  estimator = sum, ci = None, ax=ax,order=month_sorted)\n","014bf6c3":"country_10=pd.DataFrame(hotel_df['country'].value_counts()[:10])","33a4f126":"country_10.reset_index(inplace=True)\n# country_10['index']","cf8e3a52":"plt.figure(figsize=(12,6))\nsns.barplot(x='arrival_date_year', y='lead_time',hue='is_canceled', data= hotel_df, palette='Set2')\nplt.title('Arriving year, Leadtime and Cancelations')","0dcbf167":"fig, ax = plt.subplots(figsize = (12,6))    \nfig = sns.barplot(x='country',y='is_canceled',data=hotel_df, \n                  estimator = sum, ci = None, ax=ax,order=country_10['index'])","b1c7df14":"def change_width(ax, new_value,recenter=False) :\n    for patch in ax.patches :\n        current_width = patch.get_width()\n        diff = current_width - new_value\n        patch.set_width(new_value)\n        if recenter==True:  \n            patch.set_x(patch.get_x() + diff * .5) #To recenter the bars","530298d0":"fig , ax1=plt.subplots(1,1,figsize=(18,18))\nax2=ax1.twinx()\n\nax1=sns.countplot(hotel_df[hotel_df['is_canceled']==0]['arrival_date_month'], color='#F1948A', order = month_sorted)\n\nchange_width(ax1, 0.35)\n\nax2=sns.countplot(hotel_df[hotel_df['is_canceled']==1]['arrival_date_month'], color='#3498DB',order = month_sorted)\n# ax2.legend('is_canceled')\nchange_width(ax2, 0.38,True)","62609f18":"sns.rugplot(hotel_df['lead_time'], height=0.2)","0b4bf61b":"# plt.figure(figsize=(12,6))\n# sns.lineplot(x='arrival_date_month', y='adr', hue='is_canceled', data= hotel_df)\n","b40a487a":"# Resizing plot \nplt.figure(figsize=(12,5))\n\n# Calculating average daily rate per person\nhotel_df['adr_pp'] = hotel_df['adr'] \/ (hotel_df['adults'] + hotel_df['children']) \nactual_guests = hotel_df.loc[hotel_df[\"is_canceled\"] == 0]\nactual_guests['price'] = actual_guests['adr'] * (actual_guests['stays_in_weekend_nights'] + actual_guests['stays_in_week_nights'])\nsns.lineplot(data = actual_guests, x = 'arrival_date_month', y = 'price', hue = 'hotel')\nplt.show()","232c453f":"plt.figure(figsize=(12,6))\nsns.lineplot(x='arrival_date_month', y='adr', hue='hotel', data= hotel_df)\nplt.show()","d4329696":"plt.figure(figsize=(8,6))\n\nsns.countplot(x='hotel',hue='is_canceled',data=hotel_df,palette='Pastel1')\nplt.title('Cancelation rates in City hotel and Resort hotel',fontsize=14)","de499612":"sns.boxplot(data=hotel_df, x='arrival_date_year', y='lead_time', hue='hotel')","a5a5ca99":"plt.figure(figsize=(15,10), dpi=50)\nsns.stripplot(data=hotel_df, x='arrival_date_month', y='stays_in_week_nights',hue='babies', jitter=True, dodge=True,size=10)","01ef854d":"# plt.figure(figsize=(8,3))\n# sns.displot(hotel_df['company'], bins=50, kde=True)\n","cf8f3f04":"#### Show a comparison of people's reservations with the babies","010a4cbf":"* We can see most bookings were done in the month of August,July,May","438b57f7":"* We can see that the percent of City hotel is more compared to Resort hotel.\n* Resort Hotel tend to be on the expensive side and most people will just stick with city hotel.","6e3ac8bd":"#### Compare total bookings and cancellations each Hotel","f8eb3dc3":"#### What is Seaborn?\nSeaborn is a library for making statistical graphics in Python. It builds on top of matplotlib and integrates closely with pandas data structures.\n\nSeaborn helps you explore and understand your data. Its plotting functions operate on dataframes and arrays containing whole datasets and internally perform the necessary semantic mapping and statistical aggregation to produce informative plots. Its dataset-oriented, declarative API lets you focus on what the different elements of your plots mean, rather than on the details of how to draw them.","a00ab45d":"#### Show the Pie Chart of the percentage of canceled and non-canceled reservations","1f81f048":"#### Cancelling in month","0065952b":"#### Lets see the correlation","3c0a6a99":"#### About Data Set","c60a6fbc":"### Import libraries","cedc1ae4":"#### Which country has the most cancellations?","eba00ea1":"##### Now I want to visualize some of the information in this data set  using the Seaborn library","1a1c37cf":"#### Compare Lead time each year\n","aea20519":"#### Read  Dataset","78857476":"#### Show the Pie Chart of the percentage of passengers using hotels","ee678b3b":"#### Compare total bookings and cancellations each month","406f1017":"#### Arrivals in month","26b3765c":"#### Lead Time for Cancelling and  non_cancelling  in the years","f2dac8fc":"hotel-booking data set contains booking information for a city hotel and a resort hotel and includes information such as when the booking was made, length of stay, the number of adults, children, and\/or babies, and the number of available parking spaces, among other things. All personally identifying information has from the data."}}