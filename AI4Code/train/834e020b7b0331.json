{"cell_type":{"660b8af2":"code","8330f45d":"code","19aad971":"code","b711b593":"code","24b66591":"code","81f54988":"code","d2809ff5":"code","915beb83":"markdown","21548d29":"markdown","106e4f4b":"markdown","bc6c530b":"markdown","12103d86":"markdown","55e4155a":"markdown","3b754689":"markdown","17523e1b":"markdown","3e49abf8":"markdown"},"source":{"660b8af2":"import pandas as pd\nimport numpy as np\nimport re\nfrom collections import Counter\nimport nltk\nfrom nltk.corpus import stopwords","8330f45d":"# \u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\ntrain = pd.read_csv('..\/input\/data-science-autumn-2021\/train.csv')\ntrain['description'] = train['description'].str.lower()","19aad971":"sw = stopwords.words('english')\nwords = []\nfor desc in train['description'].values:\n    desc = re.sub(r'[^\\w\\s]','',desc)\n    desc_split = desc.split()\n    desc_split = [word for word in desc_split if word not in sw]\n    words.extend(desc_split)\nCounter(words).most_common()[:10]","b711b593":"# zestimate\u304c\u3069\u306e\u3088\u3046\u306a\u5f62\u3067\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\ntrain[train['description'].str.contains('zestimate')]['description'].values[0:10]","24b66591":"print('zestimate\u304c\u542b\u307e\u308c\u308b\u30ec\u30b3\u30fc\u30c9\u6570 : ', train['description'].str.contains('zestimate').sum())\nprint('zestimate for this house is \u304c\u542b\u307e\u308c\u308b\u30ec\u30b3\u30fc\u30c9\u6570 : ', train['description'].str.contains('zestimate for this house is').sum())\nprint('the rent zestimate for this home is \u304c\u542b\u307e\u308c\u308b\u30ec\u30b3\u30fc\u30c9\u6570 : ', train['description'].str.contains('the rent zestimate for this home is').sum())","81f54988":"def extract_zestimate_from_description(df_):\n    \"\"\"\n    \u6b63\u898f\u8868\u73fe\u62bd\u51fa\u3067zestimate\u3092\u62bd\u51fa\u3059\u308b\n    \"\"\"\n    df = df_.copy()\n    df['description'] = df['description'].str.lower()\n    df['description'] = df['description'].str.replace(',', '', regex=True)\n    df['description'] = df['description'].str.replace('$', '', regex=True)\n    \n    df['zestimate'] = df['description'].str.extract('the\\szestimate\\sfor\\sthis\\shouse\\sis\\s([0-9]+)?').fillna(-1)\n    df['zestimate'] = pd.to_numeric(df['zestimate'])\n    df['zestimate_month'] = df['description'].str.extract('the\\srent\\szestimate\\sfor\\sthis\\shome\\sis\\s([0-9]+)?').fillna(-1)\n    df['zestimate_month'] = pd.to_numeric(df['zestimate_month'])\n    \n    return df[['zestimate', 'zestimate_month']]","d2809ff5":"extract_zestimate_from_description(train)","915beb83":"# \u304a\u308f\u308a\u306b\ndescription\u304b\u3089\u4f4f\u5b85\u8a55\u4fa1\u4fa1\u683c\u306ezestimate\u3092\u62bd\u51fa\u3057\u307e\u3057\u305f\u3002  \n\u3059\u3079\u3066\u306e\u4f4f\u5b85\u3067zestimate\u304c\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u308f\u3051\u3067\u306f\u306a\u3044\u3067\u3059\u304c\u3001\u7279\u5fb4\u91cf\u3068\u3057\u3066\u4f7f\u3048\u3070\u30b9\u30b3\u30a2\u30a2\u30c3\u30d7\u3059\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002  \n\u307e\u305f\u3001\u6642\u7cfb\u5217\u3067\u306e\u4fa1\u683c\u63a8\u79fb\u3092\u63a8\u5b9a\u3059\u308b\u4e0a\u3067\u306e\u53c2\u8003\u5024\u3068\u3057\u3066\u4f7f\u3048\u308b\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002","21548d29":"home, room\u306a\u3069\u4f4f\u5b85\u306b\u95a2\u3059\u308b\u5358\u8a9e\u306e\u307b\u304b\u306b\u3001**zestimate**\u3068\u3044\u3046\u5358\u8a9e\u304c\u6ca2\u5c71\u767b\u5834\u3057\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002","106e4f4b":"# zestimate\u304c\u3069\u306e\u3088\u3046\u306b\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d","bc6c530b":"## zestimate\u3068\u306f\nhttps:\/\/www.americacashflow.com\/blog\/research\/zillow_zestimate  \n> \u65e5\u672c\u306e\u4e0d\u52d5\u7523\u6295\u8cc7\u5bb6\u3082\u3001\u30a2\u30e1\u30ea\u30ab\u306e\u4e0d\u52d5\u7523\u7269\u4ef6\u60c5\u5831\u3092\u53ce\u96c6\u3059\u308b\u305f\u3081\u306bZillow\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u601d\u3044\u307e\u3059\u3002(\u4e2d\u7565)  \n>\u300cZestimate\u300d\u3068\u547c\u3070\u308c\u308bZillow\u72ec\u81ea\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067\u8a08\u7b97\u3055\u308c\u308b\u7269\u4ef6\u306e\u8a55\u4fa1\u4fa1\u683c\u306b\u3064\u3044\u3066  \n\n\u30a2\u30e1\u30ea\u30ab\u306e\u4e0d\u52d5\u7523\u7269\u4ef6\u60c5\u5831\u3092\u53ce\u96c6\u3059\u308b\u30b7\u30b9\u30c6\u30e0\u3068\u3057\u3066Zillow\u3068\u3044\u3046\u3082\u306e\u304c\u3042\u308a\u3001  \n\u305d\u306e\u30b7\u30b9\u30c6\u30e0\u306e\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u3067Zestmate\u3068\u3044\u3046\u8a55\u4fa1\u4fa1\u683c\u304c\u7b97\u51fa\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002  \n\n\u3053\u308c\u306f\u4fa1\u683c\u3092\u63a8\u5b9a\u3059\u308b\u4e0a\u3067\u7d50\u69cb\u4f7f\u3048\u305d\u3046\u306a\u60c5\u5831\u3067\u3059\u3002\uff08\u7cbe\u5ea6\u304c\u3042\u307e\u308a\u3088\u308d\u3057\u304f\u306a\u3044\u3068\u306e\u8a18\u8ff0\u3082\u3042\u308a\u307e\u3059\u304c...\uff09","12103d86":"the zestimate for this house is ~ , the rent zestimate for this home ~ , \u3068\u3044\u3046\u5b9a\u578b\u3067\u8a18\u8ff0\u304c\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u3067\u3059\u3002  \n\u524d\u8005\u304c\u58f2\u5374\u3001\u5f8c\u8005\u304c\u8cc3\u8cb8\u306e\u6708\u984d\u4fa1\u683c\u3068\u3044\u3046\u611f\u3058\u3067\u3057\u3087\u3046\u304b\u3002","55e4155a":"# \u983b\u51fa\u5358\u8a9e\u306e\u78ba\u8a8d","3b754689":"\u6b86\u3069\u304c\u5b9a\u578b\u3067\u5165\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u5358\u7d14\u306a\u6b63\u898f\u8868\u73fe\u30de\u30c3\u30c1\u30f3\u30b0\u3067\u62bd\u51fa\u304c\u3067\u304d\u305d\u3046\u3067\u3059","17523e1b":"# zestimate\u3092\u62bd\u51fa\u3059\u308b","3e49abf8":"# description\u304b\u3089\u306e\u60c5\u5831\u62bd\u51fa\ndescription\u306e\u4e2d\u304b\u3089\u4fa1\u683c\u4e88\u6e2c\u306b\u5bc4\u4e0e\u3059\u308b\u60c5\u5831\u3092\u62bd\u51fa\u3057\u307e\u3059"}}