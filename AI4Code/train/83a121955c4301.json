{"cell_type":{"40132cb7":"code","b17c5844":"code","67da2833":"code","cc4b7836":"code","302332d3":"code","2383da10":"code","dbc3db81":"code","fd19956a":"code","039fcb73":"code","ea50ad62":"code","f20fbf38":"code","4b37bdc3":"code","47804262":"code","11d1909e":"code","1060a8de":"code","1ba0b6f7":"markdown","64ab231b":"markdown","6e10d8a3":"markdown","45526f8a":"markdown","13a58dbd":"markdown","6fde90cb":"markdown","e1ef4b5c":"markdown","e799a266":"markdown","a561dd30":"markdown","eeefa1d5":"markdown","2c1d0159":"markdown","3e85a137":"markdown"},"source":{"40132cb7":"!pip install mplcyberpunk","b17c5844":"# load in dataset \nimport pandas as pd \nimport mplcyberpunk\nimport seaborn as sns \nimport matplotlib.pyplot as plt\n\nplt.style.use(\"cyberpunk\")\n\ndf = pd.read_csv('\/kaggle\/input\/nba-basic-game-data-by-player\/games.csv')","67da2833":"# create column for game score \n\ndf['Game Score'] = df['PTS'] + (0.4 * df['FG']) + (0.7 * df['ORB']) + (0.3 * df['DRB']) + df['STL'] + (0.7 * df['AST']) + \\\n                    (0.7 * df['BLK']) - (0.7 * df['FGA']) - (0.4 * (df['FT'] - df['FTA'])) - (0.4 * df['PF']) - df['TOV']","cc4b7836":"# look at the distribution of game scores \ndf['Game Score'].describe()","302332d3":"plt.figure(figsize = (12, 8))\nsns.distplot(df['Game Score'])\nplt.title('Distribution of Game Scores');","2383da10":"df.set_index('PLAYER')['Game Score'].sort_values(ascending = False).head(10).plot(kind = 'barh', \n                                                                             figsize = (12, 8))\nplt.gca().invert_yaxis()\nplt.xlabel('Game Score')\nplt.ylabel('')\nplt.title('Top 10 Highest Game Scores');","dbc3db81":"df.set_index('PLAYER').sort_values(by = 'Game Score', ascending = False)[['Game Score', 'PTS']].plot(kind = 'scatter', \n                                                                                                x = 'PTS',\n                                                                                                y = 'Game Score',\n                                                                                                figsize = (12, 8))\nplt.title('Points vs Game Score');","fd19956a":"df[df['Game Score'] > 40]['PLAYER'].value_counts().head(10).plot(kind = 'barh', \n                                                                figsize = (12, 8))\nplt.gca().invert_yaxis()\nplt.xlabel('Number of Games Game Score > 40')\nplt.title('Top 10 Players with Most Games Scores > 40');","039fcb73":"df.groupby('PLAYER')['Game Score'].mean().sort_values(ascending = False).head(10).plot(kind = 'barh',\n                                                                                      figsize = (12, 8))\nplt.gca().invert_yaxis()\nplt.xlabel('Average Game Score')\nplt.title('Top 10 Players with Highest Average Game Score')\nplt.ylabel('');","ea50ad62":"plt.figure(figsize = (12, 8))\nsns.boxplot(x = 'PLAYER', y = 'Game Score', data = df[df['PLAYER'].isin(['LeBron James','Kevin Durant'])])\nplt.xlabel('')\nplt.title('Game Score LeBron James vs Kevin Durant');","f20fbf38":"plt.figure(figsize = (12, 8))\nsns.boxplot(x = 'PLAYER', y = 'Game Score', data = df[df['PLAYER'].isin(['LeBron James','Michael Jordan'])])\nplt.xlabel('')\nplt.title('Game Score LeBron James vs Michael Jordan');","4b37bdc3":"import re\n\n\ndf[df['PLAYER'] == 'Michael Jordan']['GAME_ID'].map(lambda x: re.search('\\d+', x).group()[:4]).unique()","47804262":"# data for lebron from 2017 onward \n\n# add year column \ndf['Year'] = df['GAME_ID'].map(lambda x: re.search('\\d+', x).group()[:4]).astype(int)\n\nlebron = df[(df['PLAYER'] == 'LeBron James') & (df['Year'] >= 2017)]\n\n# michael jordan\njordan = df[df['PLAYER'] == 'Michael Jordan'].copy()\n\n# combine lebron and jordan dataset \nlebron_jordan = pd.concat([lebron, jordan])\n\nplt.figure(figsize = (12, 8))\nsns.boxplot(x = 'PLAYER', y = 'Game Score', data = lebron_jordan)\nplt.xlabel('')\nplt.title('Game Score LeBron James vs Michael Jordan - Age 33 Onward');","11d1909e":"# grab all games for lebron and add year column \nlebron = df[df['PLAYER'] == 'LeBron James'].copy()\nlebron['Age'] = lebron['Year'] - 1984\n\n# add year column \njordan['Age'] = jordan['Year'] - 1963\n\n# grab all columns for kobe bryant\nkobe = df[df['PLAYER'] == 'Kobe Bryant'].copy()\nkobe['Age'] = kobe['Year'] - 1978\n\n# plot out the time series \nlebron.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'LeBron James', figsize = (12, 8))\njordan.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'Michael Jordan')\nkobe.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'Kobe Bryant')\nplt.title('LeBron vs Jordan vs Kobe', fontsize = 18)\nplt.xlabel('Age', fontsize = 16)\nplt.ylabel('Game Score', fontsize = 16)\nplt.legend(loc='upper left', bbox_to_anchor=(1,1), ncol=1);","1060a8de":"durant = df[df['PLAYER'] == 'Kevin Durant'].copy() \ndurant['Age'] = durant['Year'] - 1988\n\nsteph = df[df['PLAYER'] == 'Stephen Curry'].copy()\nsteph['Age'] = steph['Year'] - 1988\n\ngiannis = df[df['PLAYER'] == 'Giannis Antetokounmpo'].copy()\ngiannis['Age'] = giannis['Year'] - 1994\n\nharden = df[df['PLAYER'] == 'James Harden'].copy()\nharden['Age'] = harden['Year'] - 1989\n\n\nlebron.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'LeBron James', figsize = (12, 8))\ndurant.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'Kevin Durant')\nsteph.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'Stephen Curry')\ngiannis.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'Giannis Antetokounmpo')\nharden.groupby('Age')['Game Score'].mean().plot(kind = 'line', label = 'James Harden')\nplt.title('Average Game Score by Age of Present Day Stars', fontsize = 18)\nplt.xlabel('Age', fontsize = 16)\nplt.ylabel('Game Score', fontsize = 16)\nplt.legend(loc='upper left', bbox_to_anchor=(1,1), ncol=1);","1ba0b6f7":"We see that LeBron has much more outlier Game Scores on the high side than Kevin Durant. \n\nNext I am going to compare LeBron James vs Michael Jordan","64ab231b":"Now I am going to see which players had the highest average game score ","6e10d8a3":"We see that LeBron from age 33 onward also has a higher median game score and maximum game score vs Michael Jordan. \n\nNext I am going to look at the average game score by age for Lebron James, Michael Jordan, and Kobe Bryant. ","45526f8a":"We see that James Harden has had a higher Game Score than Lebron at the same age.  ","13a58dbd":"We see except for one year where Kobe Bryant had a higher average game score than Lebron, Lebron has the highest average game score by age. \n\nNow I am going to compare the average game score by age for some current stars - Lebron James, Kevin Durant, Stephen Curry, Giannis Antetokounmpo, James Harden","6fde90cb":"We see that LeBron James and Kevin Durant have the highest average game scores.  I am now going to look at those 2 players specifically. ","e1ef4b5c":"We see that we have years for Michael Jordan starting in 1996 when he was 33 years old.  For this reason, I only want to include data from LeBron James when he was 33 years or older - so I only want data from 2017 onward for LeBron.  ","e799a266":"As expected we see there is a strong relationship between points scored and game score. \n\nJohn Hollinger has previously stated that having a game score greater than 40.  Lets see which player has had the most game scores greater than 40.   ","a561dd30":"However this is not a fair comparision since we only have the end of Michael Jordan's career.  Lets look at what years we have of Michael Jordan","eeefa1d5":"My assumption is that Kobe Bryant had the highest game score when he scored 81 points.  I am next going to look at the relationship between points and game score","2c1d0159":"The median game score is around 5 and the mean game score is around 6.5.  We see that there are some outliers on the high side.  I first want to see the players that had the highest game scores. ","3e85a137":"## NBA Game Score\n\n[NBA Game Score](https:\/\/www.nba.com\/resources\/static\/team\/v2\/thunder\/statlab-gamescore-191201.pdf) was created by John Hollinger to give a rough measure of a player's productivity for a single game.  The formula for game score is as follows \n\n$$Game Score = (Points)+0.4(Field Goals Made)+0.7(Offensive Rebounds)+0.3(Defensive rebounds)+(Steals)+0.7(Assists)+0.7(Blocked Shots)- 0.7(Field Goal Attempts)-0.4(Free Throws Missed) \u2013 0.4(Personal Fouls)-(Turnovers)$$\n<br>\nI'll be using the new [matplotlib theme cyberpunk](https:\/\/github.com\/dhaitz\/mplcyberpunk) to add a little *flair* to the visualizations :) "}}