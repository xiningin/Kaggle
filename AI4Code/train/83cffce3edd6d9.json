{"cell_type":{"027a6d4d":"code","d9d47e6e":"code","ff4a83f0":"code","325e64d2":"code","da464b99":"code","d4eb43a6":"code","d23aa4ae":"code","277fe690":"code","31e9b260":"code","1a15c46d":"code","f018807e":"code","888d6f7e":"code","999e8ea8":"code","bf0b5203":"code","ec667ccf":"code","dd8cd023":"code","ea40f9d4":"code","46b052e5":"markdown","351a53a5":"markdown","806fdf7c":"markdown","c6dd4e75":"markdown","a21f054f":"markdown","88f44448":"markdown","d15a1911":"markdown","d1be047a":"markdown","7698ae5f":"markdown","d1c7cc32":"markdown","4fff2922":"markdown","492e9b8c":"markdown","be621fa4":"markdown","08b5fa44":"markdown","4705f9fd":"markdown","59913822":"markdown","ef195431":"markdown","650033b8":"markdown"},"source":{"027a6d4d":"import numpy as np \nimport pandas as pd \n\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nfrom sklearn import datasets","d9d47e6e":"boston = datasets.load_boston()\nprint(boston.DESCR)","ff4a83f0":"X = boston.data\ny = boston.target\n\ncolumns = boston.feature_names","325e64d2":"# create the dataframe\nboston_df = pd.DataFrame(boston.data)\n\nboston_df.columns = columns\n\nboston_df.head()","da464b99":"# checking the data types\nboston_df.dtypes","d4eb43a6":"boston_df.describe()","d23aa4ae":"boston_df.isnull().sum()","277fe690":"fig, (axes) = plt.subplots(ncols=13, figsize=(16,10))\nsns.boxplot(data = boston_df[['CRIM']], palette = 'Set2', ax = axes[0]);\nsns.boxplot(data = boston_df[['ZN']],   palette = 'Set2', ax = axes[1]);\nsns.boxplot(data = boston_df[['INDUS']], palette = 'Set2', ax = axes[2]);\nsns.boxplot(data = boston_df[['CHAS']], palette = 'Set2', ax = axes[3]);\nsns.boxplot(data = boston_df[['NOX']],   palette='Set2', ax=axes[4]);\nsns.boxplot(data = boston_df[['RM']]  ,  palette='Set2', ax=axes[5]);\nsns.boxplot(data = boston_df[['AGE']],   palette='Set2', ax=axes[6]);\nsns.boxplot(data = boston_df[['DIS']],   palette='Set2', ax=axes[7]);\nsns.boxplot(data = boston_df[['RAD']],     palette='Set2', ax=axes[8]);\nsns.boxplot(data = boston_df[['TAX']],     palette='Set2', ax=axes[9]);\nsns.boxplot(data = boston_df[['PTRATIO']], palette='Set2', ax=axes[10]);\nsns.boxplot(data = boston_df[['B']],     palette='Set2', ax=axes[11]);\nsns.boxplot(data = boston_df[['LSTAT']],   palette='Set2', ax=axes[12]);","31e9b260":"from scipy import stats\nz = np.abs(stats.zscore(boston_df))\ntype(z)","1a15c46d":"boston_ndf = pd.DataFrame(data = z, columns = ['CRIM', 'ZN', 'INDUS', 'CHAS', 'NOX', 'RM', 'AGE', 'DIS', 'RAD', 'TAX',\n       'PTRATIO', 'B', 'LSTAT'])\nboston_ndf.head()","f018807e":"boston_ndf.describe()","888d6f7e":"fig, (axes) = plt.subplots(ncols=13, figsize=(16,10))\nsns.boxplot(data = boston_ndf[['CRIM']], palette = 'Set2', ax = axes[0]);\nsns.boxplot(data = boston_ndf[['ZN']],   palette = 'Set2', ax = axes[1]);\nsns.boxplot(data = boston_ndf[['INDUS']], palette = 'Set2', ax = axes[2]);\nsns.boxplot(data = boston_ndf[['CHAS']], palette = 'Set2', ax = axes[3]);\nsns.boxplot(data = boston_ndf[['NOX']],   palette='Set2', ax=axes[4]);\nsns.boxplot(data = boston_ndf[['RM']]  ,  palette='Set2', ax=axes[5]);\nsns.boxplot(data = boston_ndf[['AGE']],   palette='Set2', ax=axes[6]);\nsns.boxplot(data = boston_ndf[['DIS']],   palette='Set2', ax=axes[7]);\nsns.boxplot(data = boston_ndf[['RAD']],     palette='Set2', ax=axes[8]);\nsns.boxplot(data = boston_ndf[['TAX']],     palette='Set2', ax=axes[9]);\nsns.boxplot(data = boston_ndf[['PTRATIO']], palette='Set2', ax=axes[10]);\nsns.boxplot(data = boston_ndf[['B']],     palette='Set2', ax=axes[11]);\nsns.boxplot(data = boston_ndf[['LSTAT']],   palette='Set2', ax=axes[12]);","999e8ea8":"boston_ndf1 = boston_ndf[boston_ndf>3].dropna(how='all').fillna(0.0)\nboston_ndf1.shape","bf0b5203":"boston_ndf2 = boston_ndf1.T\nboston_ndf3 = boston_ndf2[boston_ndf2>0].dropna(how ='all').T\nboston_ndf3.shape","ec667ccf":"boston_ndf3.hist(figsize=(18,12), bins = 20);","dd8cd023":"boston_ndf3.notnull().sum()","ea40f9d4":"boston_ndf3[boston_ndf3.notnull()].describe()","46b052e5":"It seems \"CRIM\", \"ZN\", \"CHAS\", \"RM\", \"DIS\" and \"B\" are the affected features. But which one is most critical.\nLet us figure out. We are going to use below steps to determine the same.\n\n* Claculate Z score--absolute value\n* Remove all columns where Z score is greater than 3 for all the features, as we are only concerned with outliers. \n* Calculate Columns with Maximum counts where Z score > 3.\n* Create histogram and eyeball it for the concerned features\n* Create a ranking system(.....to be updated later)","351a53a5":"We are going to use Boston dataset and perform some Operations on that.","806fdf7c":"We have dropped 6 columns and are now left with 7 features (the most important ones). Let us check the histogram . ","c6dd4e75":"We are now left with 91 rows out of 506 and 13 columns. Now let us drop the column where we have all the rows as normal data.\nWe first transpose the data and then perform the same action as earlier.","a21f054f":"SO even from Summary CHAS and B are in close contention. To get complete clarity we need to create an weighted average based rnaking system which i will add shortly but if you find these methods useful please like and upvote. Also, please help me with your suggestions to improve it.","88f44448":"As it retutrns an array , we need to convert it back to dataframe. We name it as 'boston_ndf'. we have added n to denote normalized data.","d15a1911":"Let us also check which features have highest number of outliers.","d1be047a":"**Step2 : Discovering outliers usings Box plots**","7698ae5f":"## Using Z Score method:\nThe Z score or the standard score is the signed fractional number of standard deviations by which the value of an observation or data point is above the mean value of what is being observed or measured. Observed values above the mean have positive standard scores, while values below the mean have negative standard scores.\n\nIt is calculated by subtracting the population mean from an individual raw score and then dividing the difference by the population standard deviation. It is a dimensionless quantity. This conversion process is called standardizing or normalizing (however, \"normalizing\" can refer to many types of ratios; \n\nWe will take absolute value to make the calculations simple.\n","d1c7cc32":"We do not observe any negative value as we have taken absolute value. This simplifies the interpretation and we can say for the normalized data if value id greater than 3 it can be considers as an Outlier.\n\nAs we are concerned about outliers here , let us remove all the rows where all of the columns have normal values.\nBut before that let us check how boxplots look like after normalization.","4fff2922":"We will drop all the rows where we have normal data and for remaining rows we will replace normal values with 0.","492e9b8c":"**Step 1: Let us first import the required libraries and dataset.**","be621fa4":"Here we don't have any missing data. But if we have missing data should we treat missing data first or outliers? Let me know your answers in comment box.\nLet us check box plot now.","08b5fa44":"Outliers\n\nIn statistics, an outlier is a data point that differs significantly from other observations. An outlier may be due to variability in the measurement or it may indicate experimental error; the latter are sometimes excluded from the data set. An outlier can cause serious problems in statistical analyses.\n\nIn this Kernel, we will try to identify which features in the data set have most significant outliers. This may be one way to do it and there may exist many other to achieve the same or better result.","4705f9fd":"* Creating the DataFrame","59913822":"So \"CHAS' and \"B\" seems to have maximum number of data points which are outliers while \"CRIM\" seems to have extreme outliers.\nLet us also check summary to get more information.\n","ef195431":"From 5 point summary report you can observes the coulmn having outliers. The way to do it is to calculate the Inter Quartile range (IQR) and check if minimum and maximum values are beyond the low and high threshold.\n\nIQR = 3rd Quartile - 1st Quartile\n3rd Quartile and 1st Quartile are represented by 75% and 25% Value in above summary.\n\nIQR = 75% - 25%\n\nlow = Mean - 1.5*IQR\n\nHigh = Mean + 1.5 IQR\n\nLet us take an example of \"CRIM\" Feature and perfrom the calculations. \n\nIQR = 3.677083 - 0.082045 = 3.595038\u202c\n\nlow = 3.613524 - 1.5*3.595038 = \u202c3.613524 - 5.392557 = -1.7742046\n\nHigh = 3.613524 - 1.5*3.595038\u202c = \u202c3.613524 + 5.392557 = 9.006081\n\nThe min value and max value for \"CRIM\" feature are '0.06320' and '88.976200' respectively. Clearly we have a Outlier towards higher data points.","650033b8":"* Let us check if we have any missing values :"}}