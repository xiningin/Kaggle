{"cell_type":{"e829bdf4":"code","9a86688a":"code","7d190767":"code","912bf91d":"code","aae4eeeb":"code","e7a58075":"code","09310a94":"code","e6d4012d":"code","e4dbb96a":"code","d56affaf":"code","7a74d957":"code","ada63ce5":"code","dc66c787":"code","9baa43e7":"code","112fd515":"code","4e0dd46d":"code","48e52efa":"code","ed44db74":"code","74666da2":"code","f7bca866":"code","ba97bf5c":"code","9ec7845e":"code","6045c41e":"code","106c3018":"code","b6e59197":"code","bf8c5a24":"code","54bce454":"code","1e80ec4a":"markdown","a1cd1ce8":"markdown","a67af2f1":"markdown","ffdca639":"markdown","1ce013c7":"markdown","c20db764":"markdown","102c5db4":"markdown","dcd4ecee":"markdown","847091b0":"markdown","7eb39bc6":"markdown","28b1b56e":"markdown","414175bc":"markdown","efa9697e":"markdown","f788c97c":"markdown","c0a8dcec":"markdown","24da214b":"markdown","34864ead":"markdown","b9e72c89":"markdown","ae825e79":"markdown","76e85458":"markdown","3895bf15":"markdown","a02cdf56":"markdown","eaede898":"markdown","b9b17f61":"markdown","8defda1d":"markdown","df43f6f2":"markdown","2950e123":"markdown","5cb8affc":"markdown","102e84b6":"markdown","a3b65bc4":"markdown","fd5a142e":"markdown","b29ddc03":"markdown","d96835e1":"markdown","5e9a6b4f":"markdown","32504a87":"markdown","9c537abf":"markdown","7f84549a":"markdown","18890412":"markdown","e99bf655":"markdown","b45e7e40":"markdown","875ba332":"markdown"},"source":{"e829bdf4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","9a86688a":"df= pd.read_csv('..\/input\/world-happiness-report-2019.csv')","7d190767":"df.head()","912bf91d":"df.describe(include='all')","aae4eeeb":"df.isnull().sum()","e7a58075":"plt.figure(figsize=(10,8))\n# Correlation Map\ncorr = df.corr()\nsns.heatmap(data=corr, square=True , annot=True)","09310a94":"df['Positive affect'].fillna(df['Positive affect'].mean(),inplace=True)\ndf['Negative affect'].fillna(df['Negative affect'].mean(),inplace=True)\ndf['Social support'].fillna(df['Social support'].mode(),inplace=True)\ndf['Freedom'].fillna(df['Freedom'].median(),inplace=True)\ndf['Corruption'].fillna(df['Corruption'].mean(),inplace=True)\ndf['Generosity'].fillna(df['Generosity'].median(),inplace=True)\ndf['Log of GDP\\nper capita'].fillna(df['Log of GDP\\nper capita'].mean(),inplace=True)\ndf['Healthy life\\nexpectancy'].fillna(df['Healthy life\\nexpectancy'].mean(),inplace=True)","e6d4012d":"asia = [\"Israel\", \"United Arab Emirates\", \"Singapore\", \"Thailand\", \"Taiwan Province of China\",\n                 \"Qatar\", \"Saudi Arabia\", \"Kuwait\", \"Bahrain\", \"Malaysia\", \"Uzbekistan\", \"Japan\",\n                 \"South Korea\", \"Turkmenistan\", \"Kazakhstan\", \"Turkey\", \"Hong Kong S.A.R., China\", \"Philippines\",\n                 \"Jordan\", \"China\", \"Pakistan\", \"Indonesia\", \"Azerbaijan\", \"Lebanon\", \"Vietnam\",\n                 \"Tajikistan\", \"Bhutan\", \"Kyrgyzstan\", \"Nepal\", \"Mongolia\", \"Palestinian Territories\",\n                 \"Iran\", \"Bangladesh\", \"Myanmar\", \"Iraq\", \"Sri Lanka\", \"Armenia\", \"India\", \"Georgia\",\n                 \"Cambodia\", \"Afghanistan\", \"Yemen\", \"Syria\"]\neurope = [\"Norway\", \"Denmark\", \"Iceland\", \"Switzerland\", \"Finland\",\n                 \"Netherlands\", \"Sweden\", \"Austria\", \"Ireland\", \"Germany\",\n                 \"Belgium\", \"Luxembourg\", \"United Kingdom\", \"Czech Republic\",\n                 \"Malta\", \"France\", \"Spain\", \"Slovakia\", \"Poland\", \"Italy\",\n                 \"Russia\", \"Lithuania\", \"Latvia\", \"Moldova\", \"Romania\",\n                 \"Slovenia\", \"North Cyprus\", \"Cyprus\", \"Estonia\", \"Belarus\",\n                 \"Serbia\", \"Hungary\", \"Croatia\", \"Kosovo\", \"Montenegro\",\n                 \"Greece\", \"Portugal\", \"Bosnia and Herzegovina\", \"Macedonia\",\n                 \"Bulgaria\", \"Albania\", \"Ukraine\"]\nnorth_america = [\"Canada\", \"Costa Rica\", \"United States\", \"Mexico\",  \n                 \"Panama\",\"Trinidad and Tobago\", \"El Salvador\", \"Belize\", \"Guatemala\",\n                 \"Jamaica\", \"Nicaragua\", \"Dominican Republic\", \"Honduras\",\n                 \"Haiti\"]\nsouth_america = [\"Chile\", \"Brazil\", \"Argentina\", \"Uruguay\",\n                 \"Colombia\", \"Ecuador\", \"Bolivia\", \"Peru\",\n                 \"Paraguay\", \"Venezuela\"]\naustralia = [\"New Zealand\", \"Australia\"]\nd_asia = dict.fromkeys(asia, 'Asia')\nd_europe = dict.fromkeys(europe, 'Europe')\nd_north_america = dict.fromkeys(north_america, 'North America')\nd_south_america = dict.fromkeys(south_america, 'South America')\nd_australia = dict.fromkeys(australia, 'Australia')\ncontinent_dict = {**d_asia, **d_europe, **d_north_america, **d_south_america, **d_australia}\ndf[\"continent\"] = df[\"Country (region)\"].map(continent_dict)\ndf.continent.fillna(\"Africa\", inplace=True)","e4dbb96a":"sns.barplot(x=\"Healthy life\\nexpectancy\", y=\"continent\", data=df, palette='Accent')","d56affaf":"sns.barplot(x=\"Ladder\", y=\"continent\", data=df, palette='Accent')","7a74d957":"print(df[['Country (region)', 'Healthy life\\nexpectancy']].groupby('Country (region)').mean().sort_values('Healthy life\\nexpectancy', ascending=False).head(10))","ada63ce5":"most_happy = df.sort_values('Healthy life\\nexpectancy', ascending = False).head(10)\nplt.figure(figsize=(20,8))\nsns.barplot(most_happy['Country (region)'], most_happy['Healthy life\\nexpectancy'], palette='Accent')","dc66c787":"print(df[['Country (region)', 'Healthy life\\nexpectancy']].groupby('Country (region)').mean().sort_values('Healthy life\\nexpectancy', ascending=False).tail(10))","9baa43e7":"most_happy = df.sort_values('Healthy life\\nexpectancy', ascending = False).tail(10)\nplt.figure(figsize=(20,8))\nsns.barplot(most_happy['Country (region)'], most_happy['Healthy life\\nexpectancy'], palette='Accent')","112fd515":"country_wise = df[['Country (region)', 'Healthy life\\nexpectancy']]\ncountry_wise.plot(kind = 'line',figsize=(20,8),color='g')\nplt.show()","4e0dd46d":"sns.scatterplot(x='Ladder',y='Healthy life\\nexpectancy',data=df)","48e52efa":"sns.scatterplot(x='Log of GDP\\nper capita',y='Healthy life\\nexpectancy',data=df)","ed44db74":"most_gdp = df.sort_values('Log of GDP\\nper capita', ascending = False).head(10)\nplt.figure(figsize=(20,8))\nsns.barplot(most_gdp['Country (region)'], most_gdp['Log of GDP\\nper capita'], palette='Accent')","74666da2":"sns.scatterplot(x='Social support',y='Healthy life\\nexpectancy',data=df)","f7bca866":"df=df.drop('Country (region)',axis=1)\ndf=df.drop('continent',axis=1)","ba97bf5c":"from sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression","9ec7845e":"X=df.iloc[:,:-1].values\ny=df.iloc[:,:11].values","6045c41e":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state=0)","106c3018":"from sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\n\n# Predicting the Test set results\ny_pred = regressor.predict(X_test)","b6e59197":"plt.scatter(y_test, y_pred)\nplt.xlabel('Y Test')\nplt.ylabel('Predicted y')","bf8c5a24":"# Evaluate the data\nfrom sklearn import metrics\nprint(\"MAE\", metrics.mean_absolute_error(y_test, y_pred))\nprint(\"MSE\", metrics.mean_squared_error(y_test, y_pred))\nprint(\"RMSE\", np.sqrt(metrics.mean_squared_error(y_test, y_pred)))","54bce454":"from sklearn import metrics\nmetrics.r2_score(y_test,y_pred)","1e80ec4a":"### Countries with Minimum Expectancy:","a1cd1ce8":"#### The above sactter plot shows the relation of Ladder with *Helthy\/Life Expectancy*","a67af2f1":"#### Splitting the data into test and train:","ffdca639":"## We have a very good accuracy (97.7 %)","1ce013c7":"Name of **country** and **continent** does not play any role, therefore we'll drop it.","c20db764":"#### The positive correlation can be clearly observed in this scattter plot.","102c5db4":"## Loading the Libraries","dcd4ecee":"#### We can clealy observe that Central African Republic has the highest GDP and the Highest Life Expectancy as well and hence showing some clear trends.","847091b0":"## Please Upvote\/star if you like.","7eb39bc6":"### Vizualizing this result:","28b1b56e":"## Results:\nWe see that factors which tend to support humanity and try to boost development of Society as a whole tend to increase the **Healthy Life Expectancy**. These factors include: **GDP, Social Support, Ladder** and many more.","414175bc":"### Splitting into continents:","efa9697e":"#### As we saw earlier we have similar trend shown by our graph.","f788c97c":"### Vizualizing above results:","c0a8dcec":"Again we see high positive correlation.","24da214b":"## Regression (Predicting a country's Expectancy):","34864ead":"### Countries with Max Expectancy:","b9e72c89":"## Healty Life Expectancy based on Country\/ Reigion:","ae825e79":"## Complete description of Data:","76e85458":"## Ladder:","3895bf15":"## Loading the dataset..","a02cdf56":"We see that **Singapore** is the country with minimum healthy life expectancy. The above list is the list of countries with **least** *healthy life expectancy*","eaede898":"### Vizualizing the test and Predicted Results","b9b17f61":"### Fitting and Predicting:","8defda1d":"#### High positive correlation can be observed.","df43f6f2":"## Checking the missing values:","2950e123":"### Importing the sklearn lib.","5cb8affc":"We see that **Africa** has the highest *Healthy Life Expectancy*","102e84b6":"### We clearly observe the following missing values:\n    Positive affect             1\n    Negative affect             1\n    Social support              1\n    Freedom                     1\n    Corruption                  8\n    Generosity                  1\n    Log of GDP\\nper capita      4\n    Healthy life\\nexpectancy    6","a3b65bc4":"## Imputing the missing values:","fd5a142e":"### Let's have an overall look:","b29ddc03":"## Correlation Matrix:","d96835e1":"Converting to numpy arrays","5e9a6b4f":"## Analyzing GDP:","32504a87":"The above **Line Plot** shows the trend of the coutries across the world.","9c537abf":"## Analyzing based on Continent:","7f84549a":"### Let's have an overview:","18890412":"We see that **Central African Republic** has highest life expectancy followed by **Lesotho** and others.","e99bf655":"Similarly **Africa** has the highest *Ladder*","b45e7e40":"### Evaluating the Results:","875ba332":"## Analyzing Social Support:"}}