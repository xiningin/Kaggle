{"cell_type":{"0c02d65b":"code","53feca13":"code","a3dadc5e":"code","c5433b97":"code","cdf96f87":"code","4a436ae6":"code","ae151353":"code","b3296089":"code","a8ae5ccc":"code","bf203834":"code","a0883535":"code","40ced137":"code","1154d9e0":"code","6267b868":"code","bbe8d599":"code","ef5c4989":"code","c7b2e188":"code","60b9e292":"markdown","e01fd115":"markdown","d1bad4cf":"markdown","252aa734":"markdown","7ffdb35f":"markdown","26be54f1":"markdown","fe3f46ad":"markdown","e3859546":"markdown","ad4a9413":"markdown","da7b457f":"markdown","0b42b41f":"markdown","1492f93c":"markdown","b0441523":"markdown","50e6797e":"markdown","4309fb68":"markdown","ac74a25a":"markdown","af04272f":"markdown","4813aadc":"markdown"},"source":{"0c02d65b":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","53feca13":"df = pd.read_csv('..\/input\/heart-failure-clinical-data\/heart_failure_clinical_records_dataset.csv')","a3dadc5e":"df.head()","c5433b97":"df.columns","cdf96f87":"df.shape","4a436ae6":"missing_data = df.isnull()","ae151353":"for column in df:\n    print(column)\n    print(missing_data[column].value_counts())\n    print('')","b3296089":"plt.style.use('ggplot')\nY = df[['creatinine_phosphokinase', 'ejection_fraction', 'platelets',\n        'serum_creatinine','age', 'serum_sodium']]\nfor col in Y:\n    sns.boxplot(x='DEATH_EVENT', y=col, data=df)\n    plt.title( 'Death caused by ' + col)\n    plt.show()","a8ae5ccc":"x = ['male', 'female']\ny = df['sex'].value_counts()\nplt.style.use('fivethirtyeight')\nplt.bar(x, y, color='r')\nplt.title('Death Rate Comparison Between sex')\nplt.show()\n","bf203834":"x =['non-smokers', 'smokers']\ny = df['smoking'][(df['DEATH_EVENT']==1)].value_counts()\nplt.bar(x, y, color='b')\nplt.title('death count between smokers and non smokers')\nplt.show()","a0883535":"from sklearn.tree import DecisionTreeClassifier\nfrom sklearn.model_selection import train_test_split","40ced137":"x = df.drop('DEATH_EVENT', axis=1)\nX = x.values\ny = df['DEATH_EVENT'].values\nx_train, x_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=1)\n","1154d9e0":"from sklearn import metrics","6267b868":"for i in range(4, 10):\n    death_tree = DecisionTreeClassifier(criterion='entropy', max_depth=i)\n    death_tree.fit(x_train, y_train)\n    pred_death = death_tree.predict(x_test)\n    print('with max_depth of {} , death_tree accuracy is {}'.format (i, metrics.accuracy_score(y_test, pred_death)))","bbe8d599":"death_tree = DecisionTreeClassifier(criterion='entropy', max_depth=6)\ndeath_tree.fit(x_train, y_train)\npred_death = death_tree.predict(x_test)\nprint('with max_depth of {} , death_tree accuracy is {}'.format (6, metrics.accuracy_score(y_test, pred_death)))","ef5c4989":"from sklearn import tree\nimport graphviz","c7b2e188":"plt.figure(figsize=(200, 200))\nfilename ='death_tree.png'\n\nfeatureNames = df.columns[:-1]\ntargetNames = ['death', 'alive']\n\ndot_data = tree.export_graphviz(death_tree, feature_names=featureNames, class_names=targetNames,filled=True)\n\n# Draw graph\ngraph = graphviz.Source(dot_data, format=\"png\") \ngraph","60b9e292":"### next, reading the clinical csv data file using pandas","e01fd115":"### first, importing some libraries which are required in this notebook","d1bad4cf":"## the visualization of the decision tree classifier model is shown below","252aa734":"### there is double the death in non-smokers than compared to smokers","7ffdb35f":"### upvoting is a way of appreciation\n### do upvote if you like this notebook","26be54f1":"## the above output shows the best accuracy of the model with different depth and the model provides a maximum accuracy of 0.9 which approves the model.","fe3f46ad":"### to see the relation between categorical values and DEATH_EVENT, using boxplots from seaborn to visualize them","e3859546":"### printing out each columns count of missing and present value\n### if missing value - True \n### and present  value -False","ad4a9413":"# Heart failure prediction","da7b457f":"> ### importing Decision tree classifier as we are going to use Decision Tree Classifier as our model\n> ### imorting train_test_split to train and test with the given data itself which will perform well when tested outside the give dataset\n","0b42b41f":"## most of the columns data are represented as 0 and 1\n## columns ----------->                  0       \/          1\n\n##             DEATH_EVENT  ->  alive         \/      dead\n##             anaemia    ->    non-anaemic    \/     anaemic\n##             diabetes   ->    non-diabetic    \/    diabetic\n##     high_blood_pressure ->  normal blood presure\/ high blood pressure\n##             sex      ->      female       \/       male\n##             smoking   ->     non-smoker    \/      smoker","1492f93c":"#### The rate of death in male is far higher than that  of female","b0441523":"![image.png](attachment:image.png)","50e6797e":"## hello kagglers , this is my 3rd notebook in kaggle, in this notebook i'm gonna model a classifier for the heart failure prediction using the heart failure clinical data with a classification method","4309fb68":"### from the above boxplots serum sodium, age, platelets,  serum creatinine and ejection fraction are  good classifiers of Death Event","ac74a25a":"### good to say that this dataset has no missing values","af04272f":"### checking whether there is any missing values in the provided csv file","4813aadc":"## Ejection fraction - Ejection fraction is a measurement of the percentage of blood leaving your heart each time it contracts. \n\n\n### A normal LVEF reading for adults over 20 years of age is 53 to 73 percent. An LVEF of below 53 percent for women and 52 percent for men is considered low. An RVEF of less than 45 percent is considered a potential indicator of heart issues.\n\n## serum sodium - the amount of sodium in your blood\n\n#### The normal range for blood sodium levels is 135 to 145 milliequivalents per liter (mEq\/L).\n\n## serum creatinine - the level of creatinine in your blood. creatinine( waste released by muscles)\n\n####  increased creatinine levels during hospitalization are a marker of poor cardiac output, leading to diminished renal blood flow and reduced ability to tolerate inpatient heart failure treatment\n\n## Platelets -Platelets are tiny blood cells that help your body form clots to stop bleeding\n\n#### Thrombocytosis is a condition in which there is an excessive number of platelets in the blood. Too many platelets can lead to certain conditions, including stroke, heart attack, or a clot in the blood vessels.\n\n#### The normal number of platelets in the blood is 150,000 to 400,000 platelets per microliter (mcL) or 150 to 400 \u00d7 109\/L"}}