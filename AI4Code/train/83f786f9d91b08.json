{"cell_type":{"5168431b":"code","a4de6c6b":"code","e87e989d":"code","384395f9":"code","4fe0e948":"code","4a1b17ac":"markdown","d23a7ca2":"markdown","5d56971d":"markdown","a1dc901e":"markdown","565ea4b9":"markdown","88ab02c3":"markdown","35e96029":"markdown","f58e3a5a":"markdown","613ba86a":"markdown","a96f8587":"markdown","0cbd6366":"markdown","f3f4fa1b":"markdown","1935a989":"markdown","2fdee5dd":"markdown","e78dcdba":"markdown","0bb03e24":"markdown","f82f31a6":"markdown","685221a0":"markdown"},"source":{"5168431b":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport warnings\nwarnings.filterwarnings('ignore')","a4de6c6b":"data = pd.read_csv(\"\/kaggle\/input\/used-car-dataset-ford-and-mercedes\/merc.csv\")\nnp.std(data[\"price\"])","e87e989d":"np.random.seed(11)\nsample_500 = data.sample(n = 500)[\"price\"]\nx_bar = np.mean(sample_500)\nx_bar","384395f9":"np.random.seed(11)\nsample_15 = data.sample(n = 15)[\"mileage\"]\nx_bar = np.mean(sample_15)\nprint(\"x_bar is:\", str(x_bar))\nprint(\"s is:\", np.std(sample_15))","4fe0e948":"from scipy import stats\n\nno_of_samples = 15\n\nprint(stats.t.ppf(1-0.025, no_of_samples - 1))","4a1b17ac":"### At a (1 - \u03b1) 100% confidence interval for the mean \u03bc when \u03c3 is NOT known is:\n\n$$ \\bar X \\pm t _{\\dfrac{\\alpha}{2}} \\dfrac{s}{\\sqrt{n}}$$\n\n### For our problem:\n\n$$ \\bar X \\pm t _{\\dfrac{\\alpha}{2}} \\dfrac{s}{\\sqrt{n}} = \\bar X \\pm 2.144 \\dfrac{s}{\\sqrt{n}} = 15016 \\pm 2.144 \\dfrac{13380}{\\sqrt{15}} = [7609.12, \t22422.87] $$","d23a7ca2":"# References:\n1. https:\/\/youtu.be\/9GtaIHFuEZU\n2. https:\/\/stackoverflow.com\/questions\/19339305\/python-function-to-get-the-t-statistic\n3. https:\/\/machinelearningmastery.com\/what-is-statistics","5d56971d":"### At a (1 - \u03b1) 100% confidence interval for the mean \u03bc when \u03c3 is known is:\n\n$$ \\bar X \\pm Z _{\\dfrac{\\alpha}{2}} \\dfrac{\\sigma}{\\sqrt{n}}$$\n\n### Thus for a 95% confidence interval we have:\n\n$$ (1 - \\alpha) 100% = 95 $$\n\n$$ (1 - \\alpha) = 0.95 $$\n\n$$ \\alpha = 0.05 $$\n\n$$ \\frac{\\alpha}{2} = 0.025 $$\n\n### From a normal table we can find that:\n\n$$ Z _\\dfrac{\\alpha}{2} =  Z _{0.25} = 1.96 $$\n\n### Substituting this in the first equation we get: \n\n$$ \\bar X \\pm 1.96 \\dfrac{\\sigma}{\\sqrt{n}}$$","a1dc901e":"### This is a series of notebooks which will go through the techniques that is essential for the statistics and will be useful for all machine learning practitioners. It is a series of 6 notebooks:\n\n1. [Sampling and sample distribution](https:\/\/www.kaggle.com\/gireeshs\/learn-statistics-1-sampling-sample-distribution)\n2. [This notebook] [Confidence intervals](https:\/\/www.kaggle.com\/gireeshs\/learn-statistics-2-confidence-interval)\n3. [WIP] Hypothesis testing\n4. [WIP] Comparison of two populations\n5. [WIP] Analysis of variance (ANOVA)\n6. [Linear regression basics with matrix multiplication](https:\/\/www.kaggle.com\/gireeshs\/diy-from-scratch-linearregression-only-using-numpy)\n\n## Motivation:\n* I developed this notebook reading the book \"[Complete business statistics](https:\/\/www.amazon.in\/Complete-Business-Statistics-Amir-Aczel\/dp\/0071077901)\" . \n* I also like the [youtube videos](https:\/\/www.youtube.com\/c\/BrandonFoltz) by Brandon Foltz, which I often recommend to someone who starts to learn data science.","565ea4b9":"## For our question 3:\n\n$$ n = \\dfrac{Z^2 _{\\alpha \/ 2} \\sigma^2}{B^2} = \\dfrac{1.96^2 11850^2}{1000^2} = 539.4 $$\n\nHence, the analyst would need atleast 540 samples to be able to find the sample means within 95% confidence intervals of the population mean of 1000 range","88ab02c3":"$$ \\bar X \\pm 1.96 \\dfrac{\\sigma}{\\sqrt{n}} = 24991 \\pm 1.96 \\dfrac{11850}{\\sqrt{500}}  = [23952 , 26029] $$\n\n## So at 95% confidence the value of the population mean falls within the range 23,952 and 26,029","35e96029":"# Sample-size determination:\n\n### Often before collecting the sample, the researcher should decide upon what is the minimum number of samples needed for the study. As we all know that the larger the sample is, it is better for the outcome of the study, but there is typically cost and time involved in collecting the samples. \n\n### The size of the sample is affected by parameters such as:\n- Bound that we need our interval to be within. This is represented by B. In question 3, B = 1000\n- The confidence level (1\u2212\ud835\udefc). In question 3 this is 95%\n- What is the estimate of variance (of standard deviation) of the population? from question 1 we assume this to be \u03c3 = 11,850\n\n## The minimum number of required samples to estimate the population mean \u03bc is:\n\n$$ n = \\dfrac{Z^2 _{\\alpha \/ 2} \\sigma^2}{B^2} $$","f58e3a5a":"# Introduction:\n\nFor everyone who is starting out with machine learning and even for people who are experienced with application of machine learning, statistics is one of the key tools that they have to use and understand before diving deep into the machine learning algorithms. I often say that the machine learning is just a glorified form of statistics.\n\n![image.png](attachment:image.png)","613ba86a":"<hr>\n\n# Question 4:\n\n## Conversely, after the analyst started collecting the data, after a week he was only able to collect for 420 samples, though he needs 540 samples for B of 1,000, if he has to do the analysis now, what is the best interval he can acheive for 95% confidence levels?","a96f8587":"## Confidence intervals when population standard deviation is known:\n\n- When we estimate a population parameter using a sample, it is never going to be perfect. There is always an error that is built in. \n- We can express that error using an interval estimate: \n### Point estimate (like sample mean) \u00b1 Margin of error\n\n#### Recall in our [previous notebook](https:\/\/www.kaggle.com\/gireeshs\/learn-statistics-sampling-and-sample-distribution)  we discussed in detailed about the standard error of the mean. To compute the standard error of the mean we need two things:\n- Population Standard Deviation \n- Size of the sample","0cbd6366":"### Hence for our question:\n\n$$ B = Z _{\\alpha \/ 2} \\dfrac{\\sigma}{\\sqrt n} = 1.96 \\dfrac{11850}{\\sqrt 420} = 1133.31 $$\n\n### The analyst will be able to construct the sample means within 1133 of the population mean with 420 samples.","f3f4fa1b":"### Please upvote this notebook if you found this notebook interesting. \n\n## Visit my other notebooks on statistics here:\n\n1. [Sampling and sample distribution](https:\/\/www.kaggle.com\/gireeshs\/learn-statistics-1-sampling-sample-distribution)\n2. [This notebook] [Confidence intervals](https:\/\/www.kaggle.com\/gireeshs\/learn-statistics-2-confidence-interval)\n3. [WIP] Hypothesis testing\n4. [WIP] Comparison of two populations\n5. [WIP] Analysis of variance (ANOVA)\n6. [Linear regression basics with matrix multiplication](https:\/\/www.kaggle.com\/gireeshs\/diy-from-scratch-linearregression-only-using-numpy)","1935a989":"<hr>\n\n# Question 3:\n\n## The manager is not happy with both the intervals as the interval for the confidence is very high. The manager now asks the analyst to estimate the average price of the car (similar to question 1) but within a bound of 1000 from the mean with 95% condidence level. How many sample does the analyst have to collect to arrive at this confidence interval level?","2fdee5dd":"# Concepts in this notebook:\n\n- Estimating confidence interval when population standard deviation is known (z-distribution)\n- Estimating confidence interval when population standard deviation is NOT known (student's t-distribution)\n- Sample size estimation required for the confidence interval","e78dcdba":"# Question 1:\n\n## The sales manager of a used car company wants to know what is the average selling price of all the used mercedes cars. \n\n## The analyst can collect only a sample of sales of 500 cars in the area. Since this estimate is going to be used by the company to strategize sales of his company, the sample mean should be a good approximation of all the account.\n\n## What level of confidence is the sales manager going to be satisfied with? What +\/- interval number is going to be acceptable?\n\n### Assumption: Population standard deviation is know and it is assumed to be \u03c3 = 11,850","0bb03e24":"### This is converse senario to the question 3. From the formula for the sample size determination we can come up with the formula for calculating the bounds:\n\n$$ n = \\dfrac{Z^2 _{\\alpha \/ 2} \\sigma^2}{B^2} $$\n\n$$ B = Z _{\\alpha \/ 2} \\dfrac{\\sigma}{\\sqrt n} $$","f82f31a6":"<hr>\n\n# Question 2:\n\n## In addition to the price of the car, the manager also wants to now know the average mileage that the car has been driven. But the manager does not have the population standard deviation for the mileage. But the mileage data is available only from the 15 cars that they have sold so far.\n\n## How do the analyst approach this problem to calculate 95% confidence interval, with only 15 samples?","685221a0":"## The student's T Distribution:\n\n### When we do not know the population standard deviation, we have to estimate it. In these cases we use the t-distribution insted of the Z-distribution.\n\n#### Key difference between Z-Distribution and T-Distribution are:\n- The Z-distribution is the standard normal curve, which is the same for all the sample sizes, Whereas the t-distribution varies as per the degrees of freedom (n - 1) of the sample size. \n- Smaller the sample size, more shorter and fatter the distribution will be. There will be more tail probability.\n- As the number of samples n becomes larger, then the t-distribution will converge into z-distribution.\n"}}