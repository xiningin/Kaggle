{"cell_type":{"69739f92":"code","d5358869":"code","7308e100":"code","20c262a9":"code","d7fe1d92":"code","a49cb5c6":"code","156da843":"code","03d69746":"code","ac71207a":"code","f169ad7e":"code","f55f4bd8":"code","92481f68":"code","2a4b83d1":"code","98c1f350":"code","33d2b4cc":"code","5c21a277":"code","824b186e":"code","b9bd9640":"code","39060d92":"code","e392de08":"code","f2f3f4c6":"code","fdc5d3f4":"code","33fbdb47":"code","9c74a328":"code","0a07ed68":"code","4a691bf1":"code","2dcccd4f":"code","b4a4c1a8":"code","f1db2010":"code","7f08ff10":"code","d29e4606":"code","65d67cd7":"markdown","1c728705":"markdown","9014b836":"markdown","22b30e59":"markdown","019679f8":"markdown","76db0d2e":"markdown","4572ca9c":"markdown","dffcf42b":"markdown","e9b0cdd7":"markdown","fe9b912e":"markdown","c80ea0c4":"markdown","804b5555":"markdown","a610185a":"markdown","59ff5386":"markdown","f2261ae8":"markdown","c841379f":"markdown","79003dee":"markdown","1d6ac257":"markdown","3c81cdf7":"markdown","a20b49c8":"markdown","d436a052":"markdown","55f05b80":"markdown","4c8d20d7":"markdown"},"source":{"69739f92":"# Importing the packages\nimport pandas as pd\nimport spacy\nimport numpy as np\nfrom tqdm import tqdm\nimport re\nfrom nltk.corpus import cmudict\ntqdm.pandas()\nnlp = spacy.load('en')\n\n# Importing the train data\ntrain=pd.read_csv(\"..\/input\/commonlitreadabilityprize\/train.csv\")","d5358869":"# Having a look at the data\ntrain.head()","7308e100":"train.drop([\"url_legal\",\"license\"],axis=1,inplace=True)","20c262a9":"# Adding sentence length as a column to the dataset\ntrain['sl']=train[\"excerpt\"].apply(lambda x : len(x.split(' ')))\n# Here sl is the short form for the column name sentence length\n\n# Adding number of unique words column to the training data\n# nuw is the small form for number of unique words\ntrain['nuw']=train[\"excerpt\"].apply(lambda x : len(set(x.split(' '))))\n\n# Having a look at the data after the transformations\ntrain.head()","d7fe1d92":"# Function to get the adjusted score using the new dale chall formula\ndale_chall_words=\"a|able|aboard|about|above|absent|accept|accident|account|ache|aching|acorn|acre|across|act|acts|add|address|admire|adventure|afar|afraid|after|afternoon|afterward|afterwards|again|against|age|aged|ago|agree|ah|ahead|aid|aim|air|airfield|airplane|airport|airship|airy|alarm|alike|alive|all|alley|alligator|allow|almost|alone|along|aloud|already|also|always|am|America|American|among|amount|an|and|angel|anger|angry|animal|another|answer|ant|any|anybody|anyhow|anyone|anything|anyway|anywhere|apart|apartment|ape|apiece|appear|apple|April|apron|are|aren't|arise|arithmetic|arm|armful|army|arose|around|arrange|arrive|arrived|arrow|art|artist|as|ash|ashes|aside|ask|asleep|at|ate|attack|attend|attention|August|aunt|author|auto|automobile|autumn|avenue|awake|awaken|away|awful|awfully|awhile|ax|axe|baa|babe|babies|back|background|backward|backwards|bacon|bad|badge|badly|bag|bake|baker|bakery|baking|ball|balloon|banana|band|bandage|bang|banjo|bank|banker|bar|barber|bare|barefoot|barely|bark|barn|barrel|base|baseball|basement|basket|bat|batch|bath|bathe|bathing|bathroom|bathtub|battle|battleship|bay|be|beach|bead|beam|bean|bear|beard|beast|beat|beating|beautiful|beautify|beauty|became|because|become|becoming|bed|bedbug|bedroom|bedspread|bedtime|bee|beech|beef|beefsteak|beehive|been|beer|beet|before|beg|began|beggar|begged|begin|beginning|begun|behave|behind|being|believe|bell|belong|below|belt|bench|bend|beneath|bent|berries|berry|beside|besides|best|bet|better|between|bib|bible|bicycle|bid|big|bigger|bill|billboard|bin|bind|bird|birth|birthday|biscuit|bit|bite|biting|bitter|black|blackberry|blackbird|blackboard|blackness|blacksmith|blame|blank|blanket|blast|blaze|bleed|bless|blessing|blew|blind|blindfold|blinds|block|blood|bloom|blossom|blot|blow|blue|blueberry|bluebird|blush|board|boast|boat|bob|bobwhite|bodies|body|boil|boiler|bold|bone|bonnet|boo|book|bookcase|bookkeeper|boom|boot|born|borrow|boss|both|bother|bottle|bottom|bought|bounce|bow|bowl|bow-wow|box|boxcar|boxer|boxes|boy|boyhood|bracelet|brain|brake|bran|branch|brass|brave|bread|break|breakfast|breast|breath|breathe|breeze|brick|bride|bridge|bright|brightness|bring|broad|broadcast|broke|broken|brook|broom|brother|brought|brown|brush|bubble|bucket|buckle|bud|buffalo|bug|buggy|build|building|built|bulb|bull|bullet|bum|bumblebee|bump|bun|bunch|bundle|bunny|burn|burst|bury|bus|bush|bushel|business|busy|but|butcher|butt|butter|buttercup|butterfly|buttermilk|butterscotch|button|buttonhole|buy|buzz|by|bye|cab|cabbage|cabin|cabinet|cackle|cage|cake|calendar|calf|call|caller|calling|came|camel|camp|campfire|can|canal|canary|candle|candlestick|candy|cane|cannon|cannot|canoe|can't|canyon|cap|cape|capital|captain|car|card|cardboard|care|careful|careless|carelessness|carload|carpenter|carpet|carriage|carrot|carry|cart|carve|case|cash|cashier|castle|cat|catbird|catch|catcher|caterpillar|catfish|catsup|cattle|caught|cause|cave|ceiling|cell|cellar|cent|center|cereal|certain|certainly|chain|chair|chalk|champion|chance|change|chap|charge|charm|chart|chase|chatter|cheap|cheat|check|checkers|cheek|cheer|cheese|cherry|chest|chew|chick|chicken|chief|child|childhood|children|chill|chilly|chimney|chin|china|chip|chipmunk|chocolate|choice|choose|chop|chorus|chose|chosen|christen|Christmas|church|churn|cigarette|circle|circus|citizen|city|clang|clap|class|classmate|classroom|claw|clay|clean|cleaner|clear|clerk|clever|click|cliff|climb|clip|cloak|clock|close|closet|cloth|clothes|clothing|cloud|cloudy|clover|clown|club|cluck|clump|coach|coal|coast|coat|cob|cobbler|cocoa|coconut|cocoon|cod|codfish|coffee|coffeepot|coin|cold|collar|college|color|colored|colt|column|comb|come|comfort|comic|coming|company|compare|conductor|cone|connect|coo|cook|cooked|cooking|cookie|cookies|cool|cooler|coop|copper|copy|cord|cork|corn|corner|correct|cost|cot|cottage|cotton|couch|cough|could|couldn't|count|counter|country|county|course|court|cousin|cover|cow|coward|cowardly|cowboy|cozy|crab|crack|cracker|cradle|cramps|cranberry|crank|cranky|crash|crawl|crazy|cream|creamy|creek|creep|crept|cried|croak|crook|crooked|crop|cross|crossing|cross-eyed|crow|crowd|crowded|crown|cruel|crumb|crumble|crush|crust|cry|cries|cub|cuff|cup|cuff|cup|cupboard|cupful|cure|curl|curly|curtain|curve|cushion|custard|customer|cut|cute|cutting|dab|dad|daddy|daily|dairy|daisy|dam|damage|dame|damp|dance|dancer|dancing|dandy|danger|dangerous|dare|dark|darkness|darling|darn|dart|dash|date|daughter|dawn|day|daybreak|daytime|dead|deaf|deal|dear|death|December|decide|deck|deed|deep|deer|defeat|defend|defense|delight|den|dentist|depend|deposit|describe|desert|deserve|desire|desk|destroy|devil|dew|diamond|did|didn't|die|died|dies|difference|different|dig|dim|dime|dine|ding-dong|dinner|dip|direct|direction|dirt|dirty|discover|dish|dislike|dismiss|ditch|dive|diver|divide|do|dock|doctor|does|doesn't|dog|doll|dollar|dolly|done|donkey|don't|door|doorbell|doorknob|doorstep|dope|dot|double|dough|dove|down|downstairs|downtown|dozen|drag|drain|drank|draw|drawer|draw|drawing|dream|dress|dresser|dressmaker|drew|dried|drift|drill|drink|drip|drive|driven|driver|drop|drove|drown|drowsy|drub|drum|drunk|dry|duck|due|dug|dull|dumb|dump|during|dust|dusty|duty|dwarf|dwell|dwelt|dying|each|eager|eagle|ear|early|earn|earth|east|eastern|easy|eat|eaten|edge|egg|eh|eight|eighteen|eighth|eighty|either|elbow|elder|eldest|electric|electricity|elephant|eleven|elf|elm|else|elsewhere|empty|end|ending|enemy|engine|engineer|English|enjoy|enough|enter|envelope|equal|erase|eraser|errand|escape|eve|even|evening|ever|every|everybody|everyday|everyone|everything|everywhere|evil|exact|except|exchange|excited|exciting|excuse|exit|expect|explain|extra|eye|eyebrow|fable|face|facing|fact|factory|fail|faint|fair|fairy|faith|fake|fall|false|family|fan|fancy|far|faraway|fare|farmer|farm|farming|far-off|farther|fashion|fast|fasten|fat|father|fault|favor|favorite|fear|feast|feather|February|fed|feed|feel|feet|fell|fellow|felt|fence|fever|few|fib|fiddle|field|fife|fifteen|fifth|fifty|fig|fight|figure|file|fill|film|finally|find|fine|finger|finish|fire|firearm|firecracker|fireplace|fireworks|firing|first|fish|fisherman|fist|fit|fits|five|fix|flag|flake|flame|flap|flash|flashlight|flat|flea|flesh|flew|flies|flight|flip|flip-flop|float|flock|flood|floor|flop|flour|flow|flower|flowery|flutter|fly|foam|fog|foggy|fold|folks|follow|following|fond|food|fool|foolish|foot|football|footprint|for|forehead|forest|forget|forgive|forgot|forgotten|fork|form|fort|forth|fortune|forty|forward|fought|found|fountain|four|fourteen|fourth|fox|frame|free|freedom|freeze|freight|French|fresh|fret|Friday|fried|friend|friendly|friendship|frighten|frog|from|front|frost|frown|froze|fruit|fry|fudge|fuel|full|fully|fun|funny|fur|furniture|further|fuzzy|gain|gallon|gallop|game|gang|garage|garbage|garden|gas|gasoline|gate|gather|gave|gay|gear|geese|general|gentle|gentleman|gentlemen|geography|get|getting|giant|gift|gingerbread|girl|give|given|giving|glad|gladly|glance|glass|glasses|gleam|glide|glory|glove|glow|glue|go|going|goes|goal|goat|gobble|God|god|godmother|gold|golden|goldfish|golf|gone|good|goods|goodbye|good-by|goodbye|good-bye|good-looking|goodness|goody|goose|gooseberry|got|govern|government|gown|grab|gracious|grade|grain|grand|grandchild|grandchildren|granddaughter|grandfather|grandma|grandmother|grandpa|grandson|grandstand|grape|grapes|grapefruit|grass|grasshopper|grateful|grave|gravel|graveyard|gravy|gray|graze|grease|great|green|greet|grew|grind|groan|grocery|ground|group|grove|grow|guard|guess|guest|guide|gulf|gum|gun|gunpowder|guy|ha|habit|had|hadn't|hail|hair|haircut|hairpin|half|hall|halt|ham|hammer|hand|handful|handkerchief|handle|handwriting|hang|happen|happily|happiness|happy|harbor|hard|hardly|hardship|hardware|hare|hark|harm|harness|harp|harvest|has|hasn't|haste|hasten|hasty|hat|hatch|hatchet|hate|haul|have|haven't|having|hawk|hay|hayfield|haystack|he|head|headache|heal|health|healthy|heap|hear|hearing|heard|heart|heat|heater|heaven|heavy|he'd|heel|height|held|hell|he'll|hello|helmet|help|helper|helpful|hem|hen|henhouse|her|hers|herd|here|here's|hero|herself|he's|hey|hickory|hid|hidden|hide|high|highway|hill|hillside|hilltop|hilly|him|himself|hind|hint|hip|hire|his|hiss|history|hit|hitch|hive|ho|hoe|hog|hold|holder|hole|holiday|hollow|holy|home|homely|homesick|honest|honey|honeybee|honeymoon|honk|honor|hood|hoof|hook|hoop|hop|hope|hopeful|hopeless|horn|horse|horseback|horseshoe|hose|hospital|host|hot|hotel|hound|hour|house|housetop|housewife|housework|how|however|howl|hug|huge|hum|humble|hump|hundred|hung|hunger|hungry|hunk|hunt|hunter|hurrah|hurried|hurry|hurt|husband|hush|hut|hymn|I|ice|icy|I'd|idea|ideal|if|ill|I'll|I'm|important|impossible|improve|in|inch|inches|income|indeed|Indian|indoors|ink|inn|insect|inside|instant|instead|insult|intend|interested|interesting|into|invite|iron|is|island|isn't|it|its|it's|itself|I've|ivory|ivy|jacket|jacks|jail|jam|January|jar|jaw|jay|jelly|jellyfish|jerk|jig|job|jockey|join|joke|joking|jolly|journey|joy|joyful|joyous|judge|jug|juice|juicy|July|jump|June|junior|junk|just|keen|keep|kept|kettle|key|kick|kid|kill|killed|kind|kindly|kindness|king|kingdom|kiss|kitchen|kite|kitten|kitty|knee|kneel|knew|knife|knit|knives|knob|knock|knot|know|known|lace|lad|ladder|ladies|lady|laid|lake|lamb|lame|lamp|land|lane|language|lantern|lap|lard|large|lash|lass|last|late|laugh|laundry|law|lawn|lawyer|lay|lazy|lead|leader|leaf|leak|lean|leap|learn|learned|least|leather|leave|leaving|led|left|leg|lemon|lemonade|lend|length|less|lesson|let|let's|letter|letting|lettuce|level|liberty|library|lice|lick|lid|lie|life|lift|light|lightness|lightning|like|likely|liking|lily|limb|lime|limp|line|linen|lion|lip|list|listen|lit|little|live|lives|lively|liver|living|lizard|load|loaf|loan|loaves|lock|locomotive|log|lone|lonely|lonesome|long|look|lookout|loop|loose|lord|lose|loser|loss|lost|lot|loud|love|lovely|lover|low|luck|lucky|lumber|lump|lunch|lying|ma|machine|machinery|mad|made|magazine|magic|maid|mail|mailbox|mailman|major|make|making|male|mama|mamma|man|manager|mane|manger|many|map|maple|marble|march|March|mare|mark|market|marriage|married|marry|mask|mast|master|mat|match|matter|mattress|may|May|maybe|mayor|maypole|me|meadow|meal|mean|means|meant|measure|meat|medicine|meet|meeting|melt|member|men|mend|meow|merry|mess|message|met|metal|mew|mice|middle|midnight|might|mighty|mile|milk|milkman|mill|miler|million|mind|mine|miner|mint|minute|mirror|mischief|miss|Miss|misspell|mistake|misty|mitt|mitten|mix|moment|Monday|money|monkey|month|moo|moon|moonlight|moose|mop|more|morning|morrow|moss|most|mostly|mother|motor|mount|mountain|mouse|mouth|move|movie|movies|moving|mow|Mr.|Mrs.|much|mud|muddy|mug|mule|multiply|murder|music|must|my|myself|nail|name|nap|napkin|narrow|nasty|naughty|navy|near|nearby|nearly|neat|neck|necktie|need|needle|needn't|Negro|neighbor|neighborhood|neither|nerve|nest|net|never|nevermore|new|news|newspaper|next|nibble|nice|nickel|night|nightgown|nine|nineteen|ninety|no|nobody|nod|noise|noisy|none|noon|nor|north|northern|nose|not|note|nothing|notice|November|now|nowhere|number|nurse|nut|oak|oar|oatmeal|oats|obey|ocean|o'clock|October|odd|of|off|offer|office|officer|often|oh|oil|old|old-fashioned|on|once|one|onion|only|onward|open|or|orange|orchard|order|ore|organ|other|otherwise|ouch|ought|our|ours|ourselves|out|outdoors|outfit|outlaw|outline|outside|outward|oven|over|overalls|overcoat|overeat|overhead|overhear|overnight|overturn|owe|owing|owl|own|owner|ox|pa|pace|pack|package|pad|page|paid|pail|pain|painful|paint|painter|painting|pair|pal|palace|pale|pan|pancake|pane|pansy|pants|papa|paper|parade|pardon|parent|park|part|partly|partner|party|pass|passenger|past|paste|pasture|pat|patch|path|patter|pave|pavement|paw|pay|payment|pea|peas|peace|peaceful|peach|peaches|peak|peanut|pear|pearl|peck|peek|peel|peep|peg|pen|pencil|penny|people|pepper|peppermint|perfume|perhaps|person|pet|phone|piano|pick|pickle|picnic|picture|pie|piece|pig|pigeon|piggy|pile|pill|pillow|pin|pine|pineapple|pink|pint|pipe|pistol|pit|pitch|pitcher|pity|place|plain|plan|plane|plant|plate|platform|platter|play|player|playground|playhouse|playmate|plaything|pleasant|please|pleasure|plenty|plow|plug|plum|pocket|pocketbook|poem|point|poison|poke|pole|police|policeman|polish|polite|pond|ponies|pony|pool|poor|pop|popcorn|popped|porch|pork|possible|post|postage|postman|pot|potato|potatoes|pound|pour|powder|power|powerful|praise|pray|prayer|prepare|present|pretty|price|prick|prince|princess|print|prison|prize|promise|proper|protect|proud|prove|prune|public|puddle|puff|pull|pump|pumpkin|punch|punish|pup|pupil|puppy|pure|purple|purse|push|puss|pussy|pussycat|put|putting|puzzle|quack|quart|quarter|queen|queer|question|quick|quickly|quiet|quilt|quit|quite|rabbit|race|rack|radio|radish|rag|rail|railroad|railway|rain|rainy|rainbow|raise|raisin|rake|ram|ran|ranch|rang|rap|rapidly|rat|rate|rather|rattle|raw|ray|reach|read|reader|reading|ready|real|really|reap|rear|reason|rebuild|receive|recess|record|red|redbird|redbreast|refuse|reindeer|rejoice|remain|remember|remind|remove|rent|repair|repay|repeat|report|rest|return|review|reward|rib|ribbon|rice|rich|rid|riddle|ride|rider|riding|right|rim|ring|rip|ripe|rise|rising|river|road|roadside|roar|roast|rob|robber|robe|robin|rock|rocky|rocket|rode|roll|roller|roof|room|rooster|root|rope|rose|rosebud|rot|rotten|rough|round|route|row|rowboat|royal|rub|rubbed|rubber|rubbish|rug|rule|ruler|rumble|run|rung|runner|running|rush|rust|rusty|rye|sack|sad|saddle|sadness|safe|safety|said|sail|sailboat|sailor|saint|salad|sale|salt|same|sand|sandy|sandwich|sang|sank|sap|sash|sat|satin|satisfactory|Saturday|sausage|savage|save|savings|saw|say|scab|scales|scare|scarf|school|schoolboy|schoolhouse|schoolmaster|schoolroom|scorch|score|scrap|scrape|scratch|scream|screen|screw|scrub|sea|seal|seam|search|season|seat|second|secret|see|seeing|seed|seek|seem|seen|seesaw|select|self|selfish|sell|send|sense|sent|sentence|separate|September|servant|serve|service|set|setting|settle|settlement|seven|seventeen|seventh|seventy|several|sew|shade|shadow|shady|shake|shaker|shaking|shall|shame|shan't|shape|share|sharp|shave|she|she'd|she'll|she's|shear|shears|shed|sheep|sheet|shelf|shell|shepherd|shine|shining|shiny|ship|shirt|shock|shoe|shoemaker|shone|shook|shoot|shop|shopping|shore|short|shot|should|shoulder|shouldn't|shout|shovel|show|shower|shut|shy|sick|sickness|side|sidewalk|sideways|sigh|sight|sign|silence|silent|silk|sill|silly|silver|simple|sin|since|sing|singer|single|sink|sip|sir|sis|sissy|sister|sit|sitting|six|sixteen|sixth|sixty|size|skate|skater|ski|skin|skip|skirt|sky|slam|slap|slate|slave|sled|sleep|sleepy|sleeve|sleigh|slept|slice|slid|slide|sling|slip|slipped|slipper|slippery|slit|slow|slowly|sly|smack|small|smart|smell|smile|smoke|smooth|snail|snake|snap|snapping|sneeze|snow|snowy|snowball|snowflake|snuff|snug|so|soak|soap|sob|socks|sod|soda|sofa|soft|soil|sold|soldier|sole|some|somebody|somehow|someone|something|sometime|sometimes|somewhere|son|song|soon|sore|sorrow|sorry|sort|soul|sound|soup|sour|south|southern|space|spade|spank|sparrow|speak|speaker|spear|speech|speed|spell|spelling|spend|spent|spider|spike|spill|spin|spinach|spirit|spit|splash|spoil|spoke|spook|spoon|sport|spot|spread|spring|springtime|sprinkle|square|squash|squeak|squeeze|squirrel|stable|stack|stage|stair|stall|stamp|stand|star|stare|start|starve|state|station|stay|steak|steal|steam|steamboat|steamer|steel|steep|steeple|steer|stem|step|stepping|stick|sticky|stiff|still|stillness|sting|stir|stitch|stock|stocking|stole|stone|stood|stool|stoop|stop|stopped|stopping|store|stork|stories|storm|stormy|story|stove|straight|strange|stranger|strap|straw|strawberry|stream|street|stretch|string|strip|stripes|strong|stuck|study|stuff|stump|stung|subject|such|suck|sudden|suffer|sugar|suit|sum|summer|sun|Sunday|sunflower|sung|sunk|sunlight|sunny|sunrise|sunset|sunshine|supper|suppose|sure|surely|surface|surprise|swallow|swam|swamp|swan|swat|swear|sweat|sweater|sweep|sweet|sweetness|sweetheart|swell|swept|swift|swim|swimming|swing|switch|sword|swore|table|tablecloth|tablespoon|tablet|tack|tag|tail|tailor|take|taken|taking|tale|talk|talker|tall|tame|tan|tank|tap|tape|tar|tardy|task|taste|taught|tax|tea|teach|teacher|team|tear|tease|teaspoon|teeth|telephone|tell|temper|ten|tennis|tent|term|terrible|test|than|thank|thanks|thankful|Thanksgiving|that|that's|the|theater|thee|their|them|then|there|these|they|they'd|they'll|they're|they've|thick|thief|thimble|thin|thing|think|third|thirsty|thirteen|thirty|this|thorn|those|though|thought|thousand|thread|three|threw|throat|throne|through|throw|thrown|thumb|thunder|Thursday|thy|tick|ticket|tickle|tie|tiger|tight|till|time|tin|tinkle|tiny|tip|tiptoe|tire|tired|title|to|toad|toadstool|toast|tobacco|today|toe|together|toilet|told|tomato|tomorrow|ton|tone|tongue|tonight|too|took|tool|toot|tooth|toothbrush|toothpick|top|tore|torn|toss|touch|tow|toward|towards|towel|tower|town|toy|trace|track|trade|train|tramp|trap|tray|treasure|treat|tree|trick|tricycle|tried|trim|trip|trolley|trouble|truck|true|truly|trunk|trust|truth|try|tub|Tuesday|tug|tulip|tumble|tune|tunnel|turkey|turn|turtle|twelve|twenty|twice|twig|twin|two|ugly|umbrella|uncle|under|understand|underwear|undress|unfair|unfinished|unfold|unfriendly|unhappy|unhurt|uniform|United States|unkind|unknown|unless|unpleasant|until|unwilling|up|upon|upper|upset|upside|upstairs|uptown|upward|us|use|used|useful|valentine|valley|valuable|value|vase|vegetable|velvet|very|vessel|victory|view|village|vine|violet|visit|visitor|voice|vote|wag|wagon|waist|wait|wake|waken|walk|wall|walnut|want|war|warm|warn|was|wash|washer|washtub|wasn't|waste|watch|watchman|water|watermelon|waterproof|wave|wax|way|wayside|we|weak|weakness|weaken|wealth|weapon|wear|weary|weather|weave|web|we'd|wedding|Wednesday|wee|weed|week|we'll|weep|weigh|welcome|well|went|were|we're|west|western|wet|we've|whale|what|what's|wheat|wheel|when|whenever|where|which|while|whip|whipped|whirl|whisky|whiskey|whisper|whistle|white|who|who'd|whole|who'll|whom|who's|whose|why|wicked|wide|wife|wiggle|wild|wildcat|will|willing|willow|win|wind|windy|windmill|window|wine|wing|wink|winner|winter|wipe|wire|wise|wish|wit|witch|with|without|woke|wolf|woman|women|won|wonder|wonderful|won't|wood|wooden|woodpecker|woods|wool|woolen|word|wore|work|worker|workman|world|worm|worn|worry|worse|worst|worth|would|wouldn't|wound|wove|wrap|wrapped|wreck|wren|wring|write|writing|written|wrong|wrote|wrung|yard|yarn|year|yell|yellow|yes|yesterday|yet|yolk|yonder|you|you'd|you'll|young|youngster|your|yours|you're|yourself|yourselves|youth|you've\"\ndale_chall_list=dale_chall_words.split('|')\n\n# Making a function for dale chall score\ndef dale_chall(text) :\n    \n    # Removing all the unwanted characters\n    text2=re.sub(r'[^\\w\\s]','', text) \n    \n    difficult_words=0\n    words=0\n    for i in text2.split(' ') :\n        words+=1\n        if i.lower() not in dale_chall_words :\n            difficult_words+=1\n            \n    # finding the percentage of the difficult words in the text\n    pdw=difficult_words*100\/words\n    \n    # Finding the sentences in the text using spacy\n    doc=nlp(text)\n    sents=doc.sents\n    \n    # Finding the avg word length of the sentences\n    avg=[]\n    for i in sents :\n        words=0\n        words += len([token for token in i])\n        avg.append(words)\n    \n    asl=sum(avg)\/len(avg)\n    \n    # Calculating the raw score\n    raw_score=0.1579*pdw + 0.0496*asl\n    \n    # Conditions for the difficult words is that if the percentage of the difficult words is more than 5 percent\n    # 3.6365 is added to the raw score else it remains the same\n    if pdw>=5 :\n        raw_score+=3.6365\n        \n    # Returning the score\n    return raw_score\n    ","a49cb5c6":"dale_chall(train['excerpt'][0])","156da843":"# Making a new column for this dale_chall score\ntrain['dale_chall_score']=train['excerpt'].progress_apply(dale_chall)\n\n# Having a look at the data\ntrain.head()","03d69746":"# Function to calculate the syllables\n# Reffered from https:\/\/datascience.stackexchange.com\/questions\/23376\/how-to-get-the-number-of-syllables-in-a-word\/24262\nd = cmudict.dict()\n\ndef nsyl(word):\n    try:\n        return [len(list(y for y in x if y[-1].isdigit())) for x in d[word.lower()]]\n    except KeyError:\n        #if word not found in cmudict\n        return syllables(word)\n\ndef syllables(word):\n    #referred from stackoverflow.com\/questions\/14541303\/count-the-number-of-syllables-in-a-word\n    count = 0\n    vowels = 'aeiouy'\n    word = word.lower()\n    if word[0] in vowels:\n        count +=1\n    for index in range(1,len(word)):\n        if word[index] in vowels and word[index-1] not in vowels:\n            count +=1\n    if word.endswith('e'):\n        count -= 1\n    if word.endswith('le'):\n        count += 1\n    if count == 0:\n        count += 1\n    return count","ac71207a":"word=\"karate\"\nprint(\"The number of syllables of the word : \",word,\" is \",nsyl(word)[0])","f169ad7e":"word=\"parents\"\nprint(\"The number of syllables of the word : \",word,\" is \",nsyl(word)[0])","f55f4bd8":"# Making the Gunning fog score function which takes in the text and gives back the score using the formula\ndef gunning_fog_formula(text) :\n    \n    # Initiating hard and total words \n    hard_words=0\n    count=0\n    \n    text2=re.sub(r'[^\\w\\s]','', text) \n    for i in text2.split(' ') :\n        try:\n            count+=1\n            ns=nsyl(i.lower())\n            if type(ns)==int :\n                if ns>2 :\n                    hard_words+=1\n            else:\n                if ns[0]>2 :\n                    hard_words+=1\n        except:\n            pass\n\n    \n    # Getting the percentage of the hard words\n    phw = hard_words*100\/count\n    \n    # Finding the sentences in the text using spacy\n    doc=nlp(text)\n    sents=doc.sents\n    \n    # Finding the avg word length of the sentences\n    avg=[]\n    for i in sents :\n        words=0\n        words += len([token for token in i])\n        avg.append(words)\n    \n    asl=sum(avg)\/len(avg)\n    \n    score= 0.4*(phw+asl)\n    \n    return score","92481f68":"# Adding the gunning fog score column to the data now\ntrain['gunning_fog_score']=train['excerpt'].progress_apply(gunning_fog_formula)","2a4b83d1":"# Having a look at the data now\ntrain.head()","98c1f350":"# Function to find the polysyllable count used from https:\/\/www.geeksforgeeks.org\/readability-index-pythonnlp\/\ndef poly_syllable_count(text):\n    count = 0\n    words = []\n    doc=nlp(text)\n    sentences=doc.sents\n    for sentence in sentences:\n        words += [token for token in sentence]\n      \n  \n    for word in words:\n        word=str(word)\n        syllable_count = nsyl(word.lower())\n        x=0\n        try :\n            if type(syllable_count)==int :\n                x=syllable_count\n            else:\n                x=syllable_count[0]\n        except :\n            pass\n        if x >= 3:\n            count += 1\n    return count\n\ndef smog_index(text):\n    \"\"\"\n        Implements SMOG Formula \/ Grading\n        SMOG grading = 3 + ?polysyllable count.\n        Here, \n           polysyllable count = number of words of more\n          than two syllables in a sample of 30 sentences.\n    \"\"\"\n    doc=nlp(text)\n    sents=doc.sents\n    sentence_count=0\n    for i in sents:\n        sentence_count+=1\n    if sentence_count >= 3:\n        poly_syllab = poly_syllable_count(text)\n        SMOG = (1.043 * (30*(poly_syllab \/ sentence_count))**0.5) \\\n                + 3.1291\n        return SMOG\n    else:\n        return 0","33d2b4cc":"# Making a new column smog score\ntrain['smog_score']=train['excerpt'].progress_apply(smog_index)","5c21a277":"def flesch_reading_ease(text):\n    \"\"\"\n        Implements Flesch Formula:\n        Reading Ease score = 206.835 - (1.015 \u00d7 ASL) - (84.6 \u00d7 ASW)\n        Here,\n          ASL = average sentence length (number of words \n                divided by number of sentences)\n          ASW = average word length in syllables (number of syllables \n                divided by number of words)\n                \n    \"\"\"\n    \n    # Finding the sentences in the text using spacy\n    doc=nlp(text)\n    sents=doc.sents\n    \n    # Finding the avg word length of the sentences\n    avg=[]\n    for i in sents :\n        words=0\n        words += len([token for token in i])\n        avg.append(words)\n    \n    asl=sum(avg)\/len(avg)\n    \n    # Finding the average syllable count\n    words = 0\n    syl_count=0\n    text2=re.sub(r'[^\\w\\s]','', text) \n    for i in text2.split(' ') :\n        try:\n            x=nsyl(i.lower())\n            if type(x)==int :\n                syl_count+=x\n            else:\n                syl_count+=x[0]\n            words+=1\n        except:\n            pass\n    \n    # average syllables per word\n    asw=syl_count\/words\n    \n    FRE = 206.835 - float(1.015 * asl) -\\\n          float(84.6 * asw)\n    return FRE","824b186e":"# Making a new column fre score\ntrain['fre_score']=train['excerpt'].progress_apply(flesch_reading_ease)","b9bd9640":"train.head()","39060d92":"from sklearn.model_selection import train_test_split\n\nX=train[[\"sl\",\"nuw\",\"dale_chall_score\",\"gunning_fog_score\",\"smog_score\",\"fre_score\"]].values\ny=train['target'].values\n\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.2, random_state=42)","e392de08":"from lightgbm import LGBMRegressor\nfrom sklearn.metrics import mean_squared_error\n\nlgbm=LGBMRegressor()\n\n# Fitting the data\nlgbm.fit(X_train,y_train)\n\n# Doing the prediction\nprediction=lgbm.predict(X_test)\n\n# Having a look at the error\nprint(\"The Mean Squared Error Is : \",mean_squared_error(prediction,y_test))","f2f3f4c6":"test=pd.read_csv(\"..\/input\/commonlitreadabilityprize\/test.csv\")","fdc5d3f4":"# Having a look at the test data\ntest.head()","33fbdb47":"test['sl']=test[\"excerpt\"].apply(lambda x : len(x.split(' ')))\ntest['nuw']=test[\"excerpt\"].apply(lambda x : len(set(x.split(' '))))\ntest['dale_chall_score']=test['excerpt'].progress_apply(dale_chall)\ntest['gunning_fog_score']=test['excerpt'].progress_apply(gunning_fog_formula)\ntest['smog_score']=test['excerpt'].progress_apply(smog_index)\ntest['fre_score']=test['excerpt'].progress_apply(flesch_reading_ease)","9c74a328":"test_data=test[[\"sl\",\"nuw\",\"dale_chall_score\",\"gunning_fog_score\",\"smog_score\",\"fre_score\"]].values","0a07ed68":"# Making the prediction\nprediction=lgbm.predict(test_data)","4a691bf1":"prediction","2dcccd4f":"# Making the sample submission file\nsample=pd.read_csv(\"..\/input\/commonlitreadabilityprize\/sample_submission.csv\")","b4a4c1a8":"sample.head()","f1db2010":"sample[\"target\"]=prediction","7f08ff10":"sample.head()","d29e4606":"sample.to_csv(\"submission.csv\",index=False)","65d67cd7":"### Readability is the ease with which a reader can understand a written text. In natural language, the readability of text depends on its content (the complexity of its vocabulary and syntax). It focuses on the words we choose, and how we put them into sentences and paragraphs for the readers to comprehend.\n\nReference : https:\/\/www.geeksforgeeks.org\/readability-index-pythonnlp\/","1c728705":"# Thank you :)","9014b836":"Raw score = 0.1579*(PDW) + 0.0496*(ASL) + 3.6365 <br>\nHere, <br>\nPDW = Percentage of difficult words not on the Dale\u2013Chall word list. <br>\nASL = Average sentence length <br>\n\n**How dale chall formula actually works ?** <br>\nDale chall formula has a list of 3000 words which can easily be understood by fourth grade students of america now the words which are not on this list are considered as difficult and the words which are on this list are considered easy and understandable for everyone.\n\n\nThe dale chall list below was taken from : https:\/\/www.kaggle.com\/c\/commonlitreadabilityprize\/discussion\/238277#1302847","22b30e59":"# The Gunning Fog Formula","019679f8":"# Smog Formula","76db0d2e":"# Using Various available Readabilty Score Determination Methods\/Formaulae","4572ca9c":"# Flesch Formula","dffcf42b":"# Using Lightgbm for making a model","e9b0cdd7":"# Having a new look at the data","fe9b912e":"# Removing Url_legal and license columns","c80ea0c4":"# Making the Features for the test data","804b5555":"**Example of how this works**","a610185a":"# Having a look at the data","59ff5386":"![](https:\/\/assets.entrepreneur.com\/content\/3x2\/2000\/20191219170611-GettyImages-1152794789.jpeg?width=700&crop=2:1)","f2261ae8":"# Adding a few columns","c841379f":"# Doing Train Test Split","79003dee":"# Using The Dale\u2013Chall formula","1d6ac257":"# Reading Index in python","3c81cdf7":"**When we are talking about readibility stopwords are as important as other words which means there is no need to remove \nthe stopwords in the data**","a20b49c8":"SMOG grading = 3 + \u221a(polysyllable count). <br>\nHere, polysyllable count = number of words of more than two syllables in a  <br>\nsample of 30 sentences.\n\n**The method is quick, simple to use and particularly useful for shorter materials, e.g., a study's information pamphlet or consent form.**","d436a052":"Grade level= 0.4 * ( (average sentence length) + (percentage of Hard Words) ) <br>\nHere, Hard Words = words with more than two syllables.\n\n**The gunning fog formula helps us to measure the clearity and the simplicity of the text .**","55f05b80":"# Importing Packages And Data","4c8d20d7":"Reading Ease score = 206.835 - (1.015 \u00d7 ASL) - (84.6 \u00d7 ASW) <br>\nHere, <br>\nASL = average sentence length (number of words divided by number of sentences) <br>\nASW = average word length in syllables (number of syllables divided by number of words) <br>"}}