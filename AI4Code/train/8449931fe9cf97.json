{"cell_type":{"4e2f8867":"code","e5a27a5f":"code","e647b337":"code","2a915edc":"code","c4082f8d":"code","2a507614":"code","46828624":"code","2a6c31cd":"code","655faa8d":"code","ea66f572":"code","bb5ce9ac":"code","faf4a1bb":"code","fef19e95":"code","b7da7c1e":"code","5c152839":"code","5a0ccdf6":"code","b1cada0a":"code","25a1226b":"code","b20b3444":"code","eb3d2f42":"code","aebaa09c":"code","3acc3502":"code","60a561b8":"code","3da17f95":"code","4b05142e":"code","1585ff1f":"code","5dd42664":"code","b427b44b":"code","b6acc7e9":"code","1ef4bfc2":"code","3520e070":"markdown"},"source":{"4e2f8867":"import pandas as pd\nfrom plotly import express as px\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import accuracy_score,classification_report\nfrom sklearn.preprocessing import normalize","e5a27a5f":"df = pd.read_csv(\"..\/input\/taxi-pricing-with-mobility-analytics\/sigma_cabs.csv\")","e647b337":"df","2a915edc":"df.isnull().sum()","c4082f8d":"df[\"Type_of_Cab\"].value_counts()","2a507614":"df[\"Type_of_Cab\"] = df[\"Type_of_Cab\"].fillna(\"F\")","46828624":"df[\"Life_Style_Index\"].value_counts()","2a6c31cd":"df[\"Life_Style_Index\"].describe()","655faa8d":"df[\"Confidence_Life_Style_Index\"].value_counts()","ea66f572":"df.isnull().sum()","bb5ce9ac":"df.corr()","faf4a1bb":"df = df.dropna(subset=[\"Life_Style_Index\"])","fef19e95":"df.isnull().sum()","b7da7c1e":"sum = 0\ncount = 0\navg = 0\nfor  i in df[\"Customer_Since_Months\"].value_counts().iteritems():\n    count += i[1]\n    sum += i[0]*i[1]\navg = round(sum\/count,0)\ndf[\"Customer_Since_Months\"] = df[\"Customer_Since_Months\"].fillna(avg)","5c152839":"df[\"Var1\"] = df[\"Var1\"].fillna(25)","5a0ccdf6":"df.isnull().sum()","b1cada0a":"def one_hot_encoding(column):\n     df = pd.get_dummies(column,drop_first=True)\n     return df","25a1226b":"Type_Of_Cab = one_hot_encoding(df[\"Type_of_Cab\"])\nConfidence_Life_Style_Index = one_hot_encoding(df[\"Confidence_Life_Style_Index\"])\nDestination_Type = one_hot_encoding(df[\"Destination_Type\"])\nGender = one_hot_encoding(df[\"Gender\"])\nType_Of_Cab = Type_Of_Cab.rename(columns={'B': 'Type_Of_Cab_B','C': 'Type_Of_Cab_C','D': 'Type_Of_Cab_D','E': 'Type_Of_Cab_E','F': 'Type_Of_Cab_F'})\nConfidence_Life_Style_Index = Confidence_Life_Style_Index.rename(columns = {\"B\":\"Confidence_Life_Style_Index_B\",\"C\":\"Confidence_Life_Style_Index_C\"})\nDestination_Type = Destination_Type.rename(columns = {'B':'Destination_Type_B','C':'Destination_Type_C','D':'Destination_Type_D','E':'Destination_Type_E','F':'Destination_Type_F','G':'Destination_Type_G','H':'Destination_Type_H','I':'Destination_Type_I','J':'Destination_Type_J','K':'Destination_Type_K','L':'Destination_Type_L','M':'Destination_Type_M','N':'Destination_Type_N'})\nprint(\"Columns name changed Succesfully !!\")","b20b3444":"df_one_hot_encoded = pd.concat([df,Type_Of_Cab,Confidence_Life_Style_Index,Destination_Type,Gender], axis=1)","eb3d2f42":"df_one_hot_encoded","aebaa09c":"cols_to_drop = [\"Trip_ID\",\"Type_of_Cab\",\"Confidence_Life_Style_Index\",\"Destination_Type\",\"Gender\"]\ndf_final = df_one_hot_encoded.drop(cols_to_drop,axis = 1)","3acc3502":"cols_to_be_normalized = ['Trip_Distance', 'Customer_Since_Months', 'Life_Style_Index','Customer_Rating', 'Cancellation_Last_1Month', 'Var1', 'Var2', 'Var3']\ncols_not_to_be_normalized = ['Type_Of_Cab_B', 'Type_Of_Cab_C', 'Type_Of_Cab_D', 'Type_Of_Cab_E','Type_Of_Cab_F', \n                            'Confidence_Life_Style_Index_B','Confidence_Life_Style_Index_C', 'Destination_Type_B',\n                            'Destination_Type_C', 'Destination_Type_D', 'Destination_Type_E',\n                            'Destination_Type_F', 'Destination_Type_G', 'Destination_Type_H',\n                            'Destination_Type_I', 'Destination_Type_J', 'Destination_Type_K',\n                            'Destination_Type_L', 'Destination_Type_M', 'Destination_Type_N',\n                            'Male','Surge_Pricing_Type']","60a561b8":"normalize = normalize(df_final[cols_to_be_normalized])\nnormalize = pd.DataFrame(normalize,columns=cols_to_be_normalized)\nbinarized = df_final[cols_not_to_be_normalized].reset_index()\ndf_final =  pd.concat([normalize,binarized], axis=1)","3da17f95":"df_final","4b05142e":"X = df_final.drop(\"Surge_Pricing_Type\",axis = 1)\nY = df_final[\"Surge_Pricing_Type\"] ","1585ff1f":"X_train,X_test,Y_train,Y_test = train_test_split(X,Y,random_state=8,test_size=0.3)","5dd42664":"model = LogisticRegression()","b427b44b":"model.fit(X_train,Y_train)","b6acc7e9":"Y_pred = model.predict(X_test)","1ef4bfc2":"accuracy_score(Y_pred,Y_test)","3520e070":"<a style='text-decoration:none;line-height:16px;display:flex;color:#5B5B62;padding:10px;justify-content:end;' href='https:\/\/deepnote.com?utm_source=created-in-deepnote-cell&projectId=88ab4583-460b-4066-a6ce-9a6aadb62217' target=\"_blank\">\n<img style='display:inline;max-height:16px;margin:0px;margin-right:7.5px;' src='data:image\/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5Hcm91cCAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkxhbmRpbmciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzUuMDAwMDAwLCAtNzkuMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjM1LjAwMDAwMCwgNzkuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0yMCIgZmlsbD0iIzAyNjVCNCIgcG9pbnRzPSIyLjM3NjIzNzYyIDgwIDM4LjA0NzY2NjcgODAgNTcuODIxNzgyMiA3My44MDU3NTkyIDU3LjgyMTc4MjIgMzIuNzU5MjczOSAzOS4xNDAyMjc4IDMxLjY4MzE2ODMiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNS4wMDc3MTgsODAgQzQyLjkwNjIwMDcsNzYuNDU0OTM1OCA0Ny41NjQ5MTY3LDcxLjU0MjI2NzEgNDguOTgzODY2LDY1LjI2MTk5MzkgQzUxLjExMjI4OTksNTUuODQxNTg0MiA0MS42NzcxNzk1LDQ5LjIxMjIyODQgMjUuNjIzOTg0Niw0OS4yMTIyMjg0IEMyNS40ODQ5Mjg5LDQ5LjEyNjg0NDggMjkuODI2MTI5Niw0My4yODM4MjQ4IDM4LjY0NzU4NjksMzEuNjgzMTY4MyBMNzIuODcxMjg3MSwzMi41NTQ0MjUgTDY1LjI4MDk3Myw2Ny42NzYzNDIxIEw1MS4xMTIyODk5LDc3LjM3NjE0NCBMMzUuMDA3NzE4LDgwIFoiIGlkPSJQYXRoLTIyIiBmaWxsPSIjMDAyODY4Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzNy43MzA0NDA1IEwyNy4xMTQ1MzcsMC4yNTcxMTE0MzYgQzYyLjM3MTUxMjMsLTEuOTkwNzE3MDEgODAsMTAuNTAwMzkyNyA4MCwzNy43MzA0NDA1IEM4MCw2NC45NjA0ODgyIDY0Ljc3NjUwMzgsNzkuMDUwMzQxNCAzNC4zMjk1MTEzLDgwIEM0Ny4wNTUzNDg5LDc3LjU2NzA4MDggNTMuNDE4MjY3Nyw3MC4zMTM2MTAzIDUzLjQxODI2NzcsNTguMjM5NTg4NSBDNTMuNDE4MjY3Nyw0MC4xMjg1NTU3IDM2LjMwMzk1NDQsMzcuNzMwNDQwNSAyNS4yMjc0MTcsMzcuNzMwNDQwNSBDMTcuODQzMDU4NiwzNy43MzA0NDA1IDkuNDMzOTE5NjYsMzcuNzMwNDQwNSAwLDM3LjczMDQ0MDUgWiIgaWQ9IlBhdGgtMTkiIGZpbGw9IiMzNzkzRUYiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+' > <\/img>\nCreated in <span style='font-weight:600;margin-left:4px;'>Deepnote<\/span><\/a>"}}