{"cell_type":{"e0900698":"code","4a7a72cf":"code","ad296618":"code","37150b06":"code","6f11a35f":"code","4f1c2f8c":"code","df266878":"code","78421e95":"code","db0e710e":"code","0bd425f6":"code","a634debb":"code","fa73bc26":"code","be0050ca":"code","77d2f50f":"code","7db34532":"code","80fc5e9e":"code","480f35bf":"code","6f0ee4e5":"code","88c4b86c":"code","64f19a79":"code","b3d413f5":"markdown","77b3be31":"markdown","31b79f31":"markdown","2482cdb4":"markdown","886e20df":"markdown","7104ee1d":"markdown","92a0ccca":"markdown","92446341":"markdown","792be6bf":"markdown","4fda2315":"markdown","a737251d":"markdown","5b591c96":"markdown","549a5183":"markdown","3182ff36":"markdown","384e1d53":"markdown","9aee4fe6":"markdown","7b1c3838":"markdown","a4812cc3":"markdown","4a8fa1ca":"markdown","b0cb0c60":"markdown","68148b60":"markdown","fb31b6fa":"markdown","eab2b469":"markdown","806580e7":"markdown"},"source":{"e0900698":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4a7a72cf":"train = pd.read_csv('\/kaggle\/input\/titanic\/train.csv')\ntest = pd.read_csv('\/kaggle\/input\/titanic\/test.csv')","ad296618":"#Lists of variables with specific data types\ncat_vars = train.select_dtypes(include = 'object').columns\nnum_vars = train._get_numeric_data().columns\n#Data frames containing relevant data types\ncat_df = train[cat_vars]\nnum_df = train[num_vars]","37150b06":"grouped_survival = train.groupby(train.Survived)\n\nsurvived_df = grouped_survival.get_group(1)\ndied_df = grouped_survival.get_group(0)","6f11a35f":"survived_df.describe()","4f1c2f8c":"died_df.describe()","df266878":"train.describe()","78421e95":"num_df.info()","db0e710e":"cat_df.info()","0bd425f6":"for var in num_vars:\n    plt.hist(num_df[var])\n    plt.title(var)\n    plt.show()","a634debb":"pd.pivot_table(num_df, index = 'Survived')","fa73bc26":"sns.heatmap(num_df.corr())\nsns.set(rc = {'figure.figsize':(30,15)})","be0050ca":"grouped_gender = train.groupby(train.Sex)\n\nmale = grouped_gender.get_group('male')\nfemale = grouped_gender.get_group('female')\n\nmales_survived = len(train[(train.Survived == 1) & (train.Sex == 'male')])\nfemales_survived = len(train[(train.Survived == 1) & (train.Sex == 'female')])\n\nprint(males_survived)\n\nsns.set(rc = {'figure.figsize':(15,10)})\nplt.bar(['Male', 'Female'], [males_survived, females_survived])","77d2f50f":"plt.hist(female['Age'])\nplt.title('Distribution of females ages')\nplt.xlabel('age')\nplt.show()\nplt.hist(male['Age'])\nplt.title('Distribution of male ages')\nplt.xlabel('Age')\nplt.show()","7db34532":"print(\"Average female age\", np.mean(female['Age']))\nprint(\"Average male age\", np.mean(male['Age']))","80fc5e9e":"plt.hist(female['Pclass'])\nplt.title('Distribution of female class')\nplt.xlabel('Class')\nplt.show()\nplt.hist(male['Pclass'])\nplt.title('Distribution of male class')\nplt.xlabel('Class')\nplt.show()","480f35bf":"print('Mean female class', np.mean(female['Pclass']))\nprint('Mean male class', np.mean(male['Pclass']))","6f0ee4e5":"train_age_fare = train[[\"Age\",'Fare','Pclass']]\ntrain_reduced_af = train_age_fare.dropna()\n\nplt.plot(train_reduced_af[\"Age\"].loc[train_reduced_af.Pclass == 1],train_reduced_af[\"Fare\"].loc[train_reduced_af.Pclass == 1],'x',label = 'First Class')\nplt.plot(train_reduced_af[\"Age\"].loc[train_reduced_af.Pclass == 2],train_reduced_af[\"Fare\"].loc[train_reduced_af.Pclass == 2],'o',label = 'Second Class')\nplt.plot(train_reduced_af[\"Age\"].loc[train_reduced_af.Pclass == 3],train_reduced_af[\"Fare\"].loc[train_reduced_af.Pclass == 3],'+',label = 'Third Class')\nplt.title(\"Distribution of Fare with Age\")\nplt.xlabel(\"Age\")\nplt.legend()\nplt.ylabel(\"Fare\")\nplt.show()","88c4b86c":"train[\"Cabin\"] = pd.Series([i[0] if not pd.isnull(i) else 'NA' for i in train['Cabin'] ])\ng = sns.countplot(train[\"Cabin\"],order=['A','B','C','D','E','F','G','T','NA'])","64f19a79":"\nsns.violinplot(x=train['Pclass'], y=train['Age'])","b3d413f5":"From this we can see some points:\n*     -The average class of those who survived is closer  to first class\n*     -The average age of those who survived is slightly lower\n*     -Those who had a higher fare had a greater chance of surival\n*     -More people died than survived","77b3be31":"Some bar charts for the catagorical data","31b79f31":"I will now look at cabin number and survival rate.","2482cdb4":"There were also more women in the higher classes so this may explain why more survived ","886e20df":"As we can see most passengers (that had assigned cabins) were in 'Section' C Now i will look at survival rate in each cabin section.","7104ee1d":"From this we can see some points:\n*     -The average class of those who survived is closer  to first class\n*     -The average age of those who survived is slightly lower\n*     -Those who had a higher fare had a greater chance of surival\n*     -More people died than survived","92a0ccca":"From this we can see:\n* There is an obvious negative correlation between fare and class\n* An obvious correlation between the number of the number of siblings and the number of a parents children\n* A not so obiouvs negative correlation between class and Age (The lower the class the younger the passengers)\n\nFrom this we can takeaway, we may want to explore Age class and survival rate in depth as from previous analysis we have seen that younger passengers are more likely to survive, yet lower classes are less likely to survive, as there are more young passengers in the lower class. We could therefore explore whether it was only young high class passengers with a higher rate of survival or all younger passengers. ","92446341":"THIS IS A WORK IN PROGRESS \nAny advice\/criticism is welcomed!!! ","792be6bf":"Those who did not","4fda2315":"On average females were younger, this may explain why more survived, however my gut feeling is that this 3 year difference in mean age is not significant enough to explain the greater female survival rate\nI will now investigate class distribution.","a737251d":"Plot histograms of all numerical data","5b591c96":"We can see the majority of people paid no fare\nThe majority of people did not bring chilren aboard","549a5183":"We will now generate a heat map to see how correlated different features are","3182ff36":"It might also be useful to compare a data set of those who survived with a data set of those who died","384e1d53":"As we can see the survival rate of females was signficantly higher than that of men I will now check to see if this is due to women being younger or higher class when compared to the average","9aee4fe6":"Create variables that contain all of the catagorical variables and all of the numerical variables","7b1c3838":"Visually we can see that ticket fare seems constant with age.\n\nI could break this down further by looking at what each member of a family paid for their ticket as family\n\nWhat is interesting is that some first class passengers paid less for their ticket than some second and third class passengers.\nThis is unexpected yet i doubt this will matter in my analysis","a4812cc3":"Those who survived","4a8fa1ca":"Tell us the nulls of every variable","b0cb0c60":"Now let us plot a pivot table showing us what passengers survived compared with each numerical variable","68148b60":"Now i want to see if there were concession charges (older and younger passengers pay less) as this may influence how fare effects survival rate.","fb31b6fa":"This can obviously be turned around for example maybe gender was more important in survival (for example earning a place on a lifeboat) and the reason that more higher class\/younger people survived may have been due to there being more women in these catagories. I will be interested in seeing which features are more important and which do not matter in the model","eab2b469":"Gain some general insight into the whole data set","806580e7":"As we can see the higher classes have a higher median age than the lower classes, we can also see that there were fewer children in the higher classes due to the skinyness of the violin plot.\nThis together with the addage \"women and children first\" strongly suggests that the rich had a much greater survival chance"}}