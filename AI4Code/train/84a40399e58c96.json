{"cell_type":{"bdeaa026":"code","6a3ff73e":"code","f7696bc2":"code","96988dd1":"code","9fb5dfc1":"code","7dc3bb92":"code","7748b3e9":"code","8f6d3af6":"code","6374b6f2":"markdown","1be438a5":"markdown","c46a8a4c":"markdown","c310d66c":"markdown","27cea71a":"markdown","1e8476f4":"markdown","821a3600":"markdown","550e8e5a":"markdown","3279703e":"markdown","65567247":"markdown","35d61b72":"markdown","443f69ed":"markdown"},"source":{"bdeaa026":"# Importing the pandas module\nimport pandas as pd\nimport plotly.express as px\n\n# Reading in the sales data\ndf = pd.read_csv('..\/input\/bike-slaes\/data\/sales_data.csv', parse_dates=['date'])\n\n# Take a look at the first datapoints\ndf.head()","6a3ff73e":"df['warehouse'] = pd.Categorical(df.warehouse)\ndf['client_type'] = pd.Categorical(df.client_type)\ndf['product_line'] = pd.Categorical(df.product_line)\ndf['payment'] = pd.Categorical(df.payment)\n\nprint(df.info())\nprint('')\nprint(df.describe(include=['category']))\nprint('')\nprint(df.describe())","f7696bc2":"#Sales by payment method\npx_payment = px.histogram(df,\n             x='payment',\n             y='total',\n             labels={\n                 \"payment\":\"Payment Method\",\n                 \"total\":\"Sales (USD)\"\n             },\n             title=\"Sales amount by payment method\",\n             color_discrete_sequence=px.colors.qualitative.Dark2)\npx_payment.update_xaxes(categoryorder = 'total descending')\npx_payment.show()\n\nby_payment_sum = df.groupby('payment').agg({'total':'sum'})\\\n.apply(lambda x: 100*x\/x.sum())\\\n.round(2)\\\n.sort_values(by=\"total\", ascending=False)\n#print(by_payment)\nprint(\"Percentages: \")\nby_payment_sum\n","96988dd1":"\npx_payment = px.histogram(df,\n             x='payment',\n             labels={\n                 \"payment\":\"Payment Method\"\n             },\n             title=\"Sales QTY by payment method\",\n             color_discrete_sequence=px.colors.qualitative.Dark2)\npx_payment.update_xaxes(categoryorder = 'total descending')\npx_payment.show()\n\nby_payment = df.groupby('payment').agg(Nr_of_transactions = ('payment','count'), Total_amount = ('total','sum'))\n\nby_payment_pct = by_payment.apply(lambda x: 100*x\/x.sum())\\\n .round(2)\\\n .sort_values(by=\"Nr_of_transactions\", ascending=False)\n#print(by_payment)\nprint(\"Percentages: \")\nby_payment_pct","9fb5dfc1":"px_payment_box = px.box(df,\n                       x = \"payment\",\n                       y = \"total\",\n                       points = \"all\",\n                       color = \"client_type\",\n                       labels={\n                           \"client_type\":\"Client Type\"},\n                       color_discrete_sequence=px.colors.qualitative.Dark2)\n\npx_payment_box.show()","7dc3bb92":"#Average unit price for each product line\npx_unitAVG = px.histogram(df,\n             x='product_line',\n             y='unit_price',\n             histfunc = 'avg',\n             labels={\n                 \"product_line\":\"Product Line\",\n                 \"unit_price\":\"Unit Price (USD)\"\n             },\n             title=\"Average unit price per product line\",\n             color_discrete_sequence=px.colors.qualitative.Dark2)\npx_unitAVG.update_xaxes(categoryorder = 'total descending')\npx_unitAVG.show()\n\nunitAVG_agg = df.groupby('product_line').agg({'unit_price':'mean'})\\\n.round(2)\\\n.sort_values(by=\"unit_price\", ascending=False)\nprint(\"Average unit price per product line: \")\nprint(unitAVG_agg)","7748b3e9":"px_productLine_hist = px.histogram(df,\n                            x = 'product_line',\n                            y = 'total',\n                            labels={\n                                \"product_line\":\"Product Line\",\n                                \"total\":\"Sales\"},\n                            title=\"Sales Amount per product line\",\n                            color_discrete_sequence=px.colors.qualitative.Dark2)\\\n                        .update_xaxes(categoryorder = 'total descending')\npx_productLine_hist.show()\n\nby_productLine_sum = df.groupby('product_line').agg({'total':'sum', 'product_line':'count'})\\\n.apply(lambda x: 100*x\/x.sum())\\\n.round(1)\\\n.sort_values(by=\"total\", ascending=False)\n#print(by_payment)\nprint(\"Percentages: \")\nby_productLine_sum\n","8f6d3af6":"categories = df.groupby(['product_line', 'client_type']).agg({'total':'sum'})\\\n               .apply(lambda x: 100*x\/x.sum())\\\n               .round(1)\\\n               .sort_values(by=\"total\", ascending=False)\nprint(\"Percentages:\")\ncategories","6374b6f2":"## Average unit price per product line","1be438a5":"## \ud83d\udcbe The data\n\n#### The sales data has the following fields:\n- \"date\" - The date, from June to August 2021.\n- \"warehouse\" - The company operates three warehouses: North, Central, and West.\n- \"client_type\" - There are two types of customers: Retail and Wholesale.\n- \"product_line\" - Type of products purchased.\n- \"quantity\" - How many items were purchased.\n- \"unit_price\" - Price per item sold.\n- \"total\" - Total sale = quantity * unit_price.\n- \"payment\" - How the client paid: Cash, Credit card, Transfer.","c46a8a4c":"**BLUF:**  \n1. Transfer is the payment method with higher total sales, which is the one used by wholesale, adding up to 55% of the total. Credit card follows with a 38% of the total. Cash adds up less than 7% of total sales.  \n    **1.a.** By splitting payment methods also by client type, it is observed that transfer is the payment method for wholesale, and cash and credit card are used for retail, so probably that is the reason for higher total value bills. [See it](#payment-method-behaviors)\n2. Average unit prices per product line are as follows:  \n\t* Engine --\t\t\t\t\t60.09 \/unit \n    * Frame & body --\t\t\t2.83 \/unit\n\t* Suspension & traction --\t33.97 \/unit\n\t* Electrical system --\t\t25.59 \/unit\n\t* Miscellaneous --\t\t\t22.81 \/unit\n\t* Breaking system --\t\t17.74 \/unit\n3. **Wholesale** adds up **55% of total sales in 22.5% of the transactions.**\n4. **Suspension & traction** and **Frame & body** are the **core product lines**, both in wholesale and retail. Business decidion-makers will havo to focus on them if they want to specialise the business or focuse more on the other lines if they want the business to be more generalistic.","c310d66c":"We can clearly see that transfer method is used when the total price is higher. Cash and credit card methods are used when the total amount is lower, but we see with the outliers that paying up to around 500 with credit card is still a good option for many costumers.","27cea71a":"## Business core\n\nLet's check which product lines are the most important in our business:","1e8476f4":"## Sales by payment method","821a3600":"## Payment method breakdown","550e8e5a":"We need to check if there is any part or product_line that relates to some pattern in client_type. We can conclude that there is no noticeable pattern or course of action that could be assessed in relation with product lines and client types.","3279703e":"### Payment method behaviors\n\nLet's study the similarities and differences in the buyers' behavior patterns related with payment methods.","65567247":"## \ud83d\udcaa Challenge\nCreate a report to answer your colleague's questions. Include:\n\n1. What are the total sales for each payment method? [Quick Access](#sales-by-payment-method)\n2. What is the average unit price for each product line? [Quick Access](#Average-unit-price-per-product-line)\n3. Create plots to visualize findings for questions 1 and 2.\n4. [Optional] Investigate further (e.g., average purchase value by client type, total purchase value by product line, etc.)\n5. Summarize your findings. \ud83d\udc47\ud83d\udc47 See BLUF \ud83d\udc47\ud83d\udc47 (Bottom-line Up Front)","35d61b72":"We can see how \"engine\" and \"miscellaneous\" lines add just about 22.5%, even if engine line is, on average, more expensive. The rest of the product lines are our core business, adding up to the 77.5% of the sales amount. More data could provide the profit per prodict line to make a more accurate assessment.","443f69ed":"# Reporting on sales data\n\n## \ud83d\udcd6 Background\nYou work in the accounting department of a company that sells motorcycle parts. The company operates three warehouses in a large metropolitan area.\n\nYou\u2019ve recently learned data manipulation and plotting, and suggest helping your colleague analyze past sales data. Your colleague wants to capture sales by payment method. She also needs to know the average unit price for each product line."}}