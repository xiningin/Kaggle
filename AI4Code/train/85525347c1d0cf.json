{"cell_type":{"bb8921bf":"code","57260189":"code","d93d34f0":"code","f0432117":"code","4ab8cb06":"code","77bd3ace":"code","d1176a9a":"code","038d836e":"code","cf603be1":"code","133b8dbc":"markdown","ebe527d6":"markdown","9fa70211":"markdown"},"source":{"bb8921bf":"# Data processing \nimport numpy as np\nimport pandas as pd\nimport random\n\n# Visulalization\nimport matplotlib.pyplot as plt\nfrom IPython.core import display as ICD\nfrom torchvision import transforms\nimport imageio, PIL, cv2\n\n# utilities\nimport os\nfrom glob import glob\nimport shutil\nimport zipfile\n\n","57260189":"# Load data\npath = \"..\/input\/russian political influence campaigns\/Russian Political Influence Campaigns\/Supplementary Data\/From Russian Ad Explorer\/images.zip\"\nwith zipfile.ZipFile(path, \"r\") as f:\n    f.extractall('.')\n","d93d34f0":"# Read CSV\ndata_path = '..\/input\/russian political influence campaigns\/Russian Political Influence Campaigns\/Supplementary Data\/From Data World\/FacebookAds.csv'\ndf = pd.read_csv(data_path)\ndf.head()","f0432117":"# Summary stats\ndf.describe()","4ab8cb06":"# Averages\nclick_count_per_add = df.Clicks.sum()\/df.Clicks.count()\nclick_ratio = (df.AdSpend.sum()\/63)\/df.Clicks.count()\nad_spend_count_ratio = (df.AdSpend.sum()\/63)\/df.Clicks.count()\nprint('Total number of Ads purcheased by IRA from 2015 to 2017: ', df.Clicks.count())\nprint('Total dollar spent by IRA from 2015 to 2017: ${:.2f}'.format(df.AdSpend.sum()\/63))\nprint('Average cost per Ad: ${:.2f}'.format(ad_spend_count_ratio))\nprint('Average number of clicks per Ad: {:.2f}'.format(click_count_per_add))\nprint('Avg cost per click: ${:.2f}'.format(click_ratio))","77bd3ace":"# def function to load and normalize images\ndef load_image(path, size):\n    img = PIL.Image.open(path)\n    normalise_img = transforms.ToTensor()\n    img_tensor = normalise_img(img).unsqueeze(0)\n    img_np = img_tensor.numpy()\n    return img, img_tensor, img_np\n\ninput_image = 'images\/2016-01\/P10001365.-000.png'\ninput_img, input_tensor, input_np = load_image(input_image, size=[1024, 1024])\ninput_img","d1176a9a":"# trgeting different community \ninputImage = 'images\/2015-06\/P10002571.-001.png'\ninput_img, input_tensor, input_np = load_image(inputImage, size=[1024, 1024])\ninput_img","038d836e":"multiple_images = glob('images\/2015-06\/**')\n\ndef plot_images(path, begin, end):\n    i = 0\n    plt.rcParams['figure.figsize'] = (25.0, 25.0)\n    plt.subplots_adjust(wspace=0, hspace=0)\n    \n    for a in multiple_images[begin:end]:\n        im = cv2.imread(a)\n        im = cv2.resize(im, (1024, 1024))\n        plt.subplot(3, 3, i+1)\n        plt.imshow(cv2.cvtColor(im, cv2.COLOR_BGR2RGB))\n        plt.axis('off')\n        i +=1\n    plt.show()\nplot_images(multiple_images, 0, 9)\nplot_images(multiple_images, 9, 18)\nplot_images(multiple_images, 18, 27)","cf603be1":"print('Number of add targeted specific groups\\n')\ngroup_count = df.FriendsOfConnections.value_counts()\ngroup_count2 = df.PeopleWhoMatch.value_counts()\nprint(group_count.head(5), '\\n\\n', group_count2.head(5), '\\n')\npath = 'images'\nshutil.rmtree(path)","133b8dbc":"The original tutorial can be found here  [here](https:\/\/www.kaggle.com\/paultimothymooney\/exploring-political-propaganda-on-facebook)","ebe527d6":"### Sampling of Paid Facebook Ads","9fa70211":"### Which candidate the ads meant to support?"}}