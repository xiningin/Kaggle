{"cell_type":{"804bdde8":"code","f4846f7a":"code","ff74994b":"code","f7525475":"code","d1789842":"code","1e15ae01":"code","d7db1699":"code","8219829a":"code","061e7044":"code","d6f3edcb":"code","e42674d7":"code","c27a2aac":"code","f57d8107":"code","f43d6ff1":"code","338ff581":"code","1966ee7a":"code","d9a4f66f":"code","2eef71aa":"code","135bd081":"code","11f0e10e":"code","aa31a526":"code","8a9d9c83":"code","f4c9accf":"code","e143dfaf":"code","5ed6e485":"code","c53986a9":"code","f3ec5b86":"code","7c1a1b86":"code","69e2e076":"code","23746329":"code","1274aa0b":"code","1060a647":"code","f994bafb":"code","56cb0fe7":"code","2667d04c":"code","1573290d":"code","d4bd9508":"code","7d393e81":"code","dbc0698b":"code","a03485e5":"code","639a6e94":"code","937e558c":"code","898657ac":"code","34734385":"code","32c4c6d1":"code","434269e3":"markdown","fc2583dd":"markdown","4b9c1dfd":"markdown"},"source":{"804bdde8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f4846f7a":"df=pd.read_csv('\/kaggle\/input\/hr-analytics-job-shift\/HR analytics.csv')","ff74994b":"df.head()","f7525475":"df.education_level.unique()","d1789842":"df['experience'].unique()","1e15ae01":"df.city=df.city.str.replace('city_', '')\ndf.city=df.city.astype(int)\ndf.gender=df.gender.replace({'Male':1,'Female':0,'Other':3})\ndf['gender']=df['gender'].astype(float)\ndf['HR Analytics']=df['HR Analytics'].replace({'No relevent experience':0,'Has relevent experience':1})\ndf['University Grade']=df['University Grade'].replace({'Grade 1':1,'Grade 2':2,'Grade 3':3})\ndf['education_level']=df['education_level'].replace({'nan':0,'Primary School':1,'High School':2,'Graduate':3,'Masters':4,'Phd':5})\ndf['Has HR expereince']=df['Has HR expereince'].replace({'No':0,'Yes':1})\ndf['experience']=df['experience'].replace({'<1':0,'>20':21,'nan':0,'NaN':0})\ndf['experience']=df['experience'].astype(float)\ndf['Job changes']=df['Job changes'].replace({'never':0,'nan':0,'>4':5,'NaN':0})\ndf['Job changes']=df['Job changes'].astype(float)\ndf['company_size']=df['company_size'].replace({'nan':0,'<10':2,'1-10':1,'50-99':3,'100-500':4,'500-999':5,'1000-4999':6,'5000-9999':7,'10000+':8,'NaN':0})\ndf['Get HR Analytics Job? ']=df['Get HR Analytics Job? '].replace({'No': 0, 'Yes': 1})","d7db1699":"df.head()","8219829a":"df=df.fillna(0)","061e7044":"df=df.drop('Training hours', axis=1)\ndf=df.drop('Employee_1D',axis=1)","d6f3edcb":"df=df.rename(columns={'Get HR Analytics Job? ':\"Target\"})","e42674d7":"import matplotlib.pyplot as plt\nimport seaborn as sns","c27a2aac":"sns.set_theme(style=\"whitegrid\")\nax = sns.boxplot(x=df[\"Target\"],y=df['education_level'])","f57d8107":"ax = sns.boxplot(x=df[\"gender\"],y=df['education_level'])","f43d6ff1":"ax = sns.boxplot(x=df[\"Target\"],y=df['experience'])","338ff581":"ax = sns.boxplot(x=df[\"Target\"],y=df['Job changes'])","1966ee7a":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df['city'],y=df['University Grade'],hue=df['gender'],size=df['education_level'],data=df,sizes=(1,200))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","d9a4f66f":"df.info()","2eef71aa":"df=df.replace({'No': 0, 'Yes': 1})","135bd081":"pip install pycaret","11f0e10e":"from pycaret.classification import *","aa31a526":"df","8a9d9c83":"exp1 = setup(df,target = 'Target',silent=True)","f4c9accf":"compare_models()","e143dfaf":"cb = create_model('catboost')","5ed6e485":"tuned_cb= tune_model(cb)","c53986a9":"plot_model(tuned_cb)","f3ec5b86":"interpret_model(tuned_cb)","7c1a1b86":"cb_holdout_pred = predict_model(cb)","69e2e076":"predictions = predict_model(cb, data=df)\npredictions","23746329":"df1=df.drop('Target', axis=1)","1274aa0b":"from pycaret.clustering import *\ndf_clust = setup(df1, normalize = True,session_id = 123,silent=True)","1060a647":"kmeans = create_model('kmeans',num_clusters = 5 )\nprint(kmeans)","f994bafb":"kmean_results = assign_model(kmeans)\nkmean_results.head()","56cb0fe7":"kmean_results.groupby('Cluster').mean()","2667d04c":"plot_model(kmeans)","1573290d":"plot_model(kmeans, plot = 'elbow')","d4bd9508":"plot_model(kmeans, plot = 'silhouette')","7d393e81":"plot_model(kmeans, plot = 'distribution', feature = 'gender')","dbc0698b":"plot_model(kmeans, plot = 'distribution', feature = 'University Grade')","a03485e5":"plot_model(kmeans, plot = 'distribution', feature = 'education_level')","639a6e94":"plot_model(kmeans, plot = 'distribution', feature = 'experience')","937e558c":"plot_model(kmeans, plot = 'distribution', feature = 'Job changes')","898657ac":"plot_model(kmeans, plot = 'distribution', feature = 'company_size')","34734385":"df['Cluster']=kmean_results['Cluster']\ndf","32c4c6d1":"df.groupby(['Cluster','Target'])['Target'].count().plot.bar()","434269e3":"# 2. Classify Model by Py Caret","fc2583dd":"# 1. Preprocessing & Visualization","4b9c1dfd":"# 3. Clustering Model by PyCaret"}}