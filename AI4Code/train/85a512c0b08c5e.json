{"cell_type":{"12805ad0":"code","80fd9186":"code","e046453a":"code","91bb9f43":"code","962b48e4":"code","3846bd2d":"code","e3ba8819":"code","df12104c":"code","b206afdf":"markdown","849e46e7":"markdown","43af2bfb":"markdown"},"source":{"12805ad0":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","80fd9186":"\nclass StudentEDA (object):\n\n    def import_student_performance (self):\n        df = pd.read_csv(\"..\/input\/StudentsPerformance.csv\")\n        df.columns = [self.dataFrame_notation(x) for x in df.columns]\n        self.data = df\n\n        # level of education\n        levels = {\n            \"master's degree\" : 5,\n            \"bachelor's degree\" : 4,\n            \"associate's degree\": 3,\n            \"some college\" : 2,\n            \"some high school\" : 1,\n            \"high school\" : 0\n            }\n        df[\"Level\"] = df[\"ParentalLevelOfEducation\"].apply(lambda x: levels[x])\n\n        # all features\n        print (df.info())\n        for i in range(0, len(levels)):\n            print (\"\\n\\nLevel {} samples\\n\".format(i), df[df.Level == i].describe())\n        return df\n\n    def dataFrame_notation(self, x):\n        str_parts = x.replace(\" \",\" \").replace(\"\/\",\" \").split()\n        return \"\".join([s.capitalize() for s in str_parts])\n\n    def explore_scores(self):\n        df = self.data\n        numerics = [\"MathScore\", \"ReadingScore\", \"WritingScore\"]\n        colors = [\"red\", \"green\", \"blue\"]\n\n        plt.title (\"Relations on Scores\")\n        sns.heatmap(df[numerics].corr(), cmap='gist_heat', linewidth=5, annot=True, vmin=0.80, fmt=\"0.3f\")\n        plt.show()\n\n        plt.title(\"student-index sorted by values\")\n        for i in range(len(numerics)):\n            targetNumeric = numerics[i]\n            the_color = colors[i]\n            plt.subplot(3, 1, i+1)\n            #plt.title(targetNumeric)\n            plt.xlabel(\"student-index sorted by values\")\n            plt.ylabel(targetNumeric)\n            values = list(df[targetNumeric].sort_values())\n            plt.grid(linestyle=\":\")\n            plt.plot(values, c=str(the_color), linewidth=1 ,alpha=1)\n        plt.show()\n\n        plt.title(\"histograms\")\n        bins = 30\n        r = (0,100)\n        for i in range(len(numerics)):\n            targetNumeric = numerics[i]\n            values = df[targetNumeric]\n            plt.subplot(3, 1, i+1)\n            plt.hist(values, histtype='bar', label=targetNumeric, alpha=0.2, color=colors[i], bins=bins, range=r)\n            plt.hist(values, histtype='step',  color=colors[i], alpha=1, bins=bins, range=r)\n            plt.grid(linestyle=\":\")\n            plt.legend()\n            plt.ylabel(\"frequency\")\n            plt.xlabel(\"score\")\n\n        plt.show()\n\n    def explore_education_levels(self):\n        df = self.data\n        df[\"AvgScore\"] = (df[\"MathScore\"] + df[\"WritingScore\"] + df[\"ReadingScore\"]) \/ 3.0\n        target_fields = [\"Level\", \"AvgScore\", \"MathScore\", \"WritingScore\", \"ReadingScore\"]\n        df[target_fields].boxplot(by=\"Level\", figsize=(12,12))\n        plt.show()\n\n    def explore_relation_scores_by_level (self, level = 0):\n        df = self.data\n        df = df[df.Level == level]\n        plt.scatter(df[\"MathScore\"], df[\"WritingScore\"], color=\"red\", label=\"Math vs Writing\", alpha=0.5)\n        plt.scatter(df[\"MathScore\"], df[\"ReadingScore\"], color=\"green\", label=\"Math vs Reading\", alpha=0.5)\n        plt.title(\"LEVEL {} Score distributions\".format(level))\n        plt.grid(linestyle=\":\")\n        plt.xlabel(\"MathScore\")\n        plt.ylabel(\"Score\")\n\n        plt.legend()\n        plt.show()","e046453a":"eda = StudentEDA ()","91bb9f43":"df = eda.import_student_performance()\ndf.head()","962b48e4":"eda.explore_scores()","3846bd2d":"numerics = [\"MathScore\", \"ReadingScore\", \"WritingScore\"]\nprint (df[numerics].info())\nprint (df[numerics].describe())\n","e3ba8819":"eda.explore_education_levels()\nplt.show()","df12104c":"eda.explore_relation_scores_by_level(level=0)\neda.explore_relation_scores_by_level(level=3)\neda.explore_relation_scores_by_level(level=5)\n","b206afdf":"A simple class implementation for EDA functionalities.","849e46e7":"Next, we will import student performance data with the method below. It generates \"Level\" field from the \"ParentalLevelOfEducation\" as numbers for plotting. It also prints sample distributions by Level at first.","43af2bfb":"First, we have to create an instance of StudentEDA"}}