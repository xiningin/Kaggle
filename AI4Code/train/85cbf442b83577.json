{"cell_type":{"5877f48c":"code","8fd564dc":"code","d79a2469":"code","99f73f12":"code","ddf7cf90":"code","dbee3417":"code","996462f6":"code","2a4d7961":"code","08edcbab":"code","58671149":"code","442b60bf":"code","6ec720e7":"code","42e11cd3":"code","6e8566d4":"code","019dd2fd":"code","3fba1bde":"code","071c0348":"markdown","d096deda":"markdown","c17726f8":"markdown","fa334a93":"markdown"},"source":{"5877f48c":"import pandas as pd\nfrom sklearn.linear_model import LinearRegression","8fd564dc":"#read data\ndf = pd.read_csv(\"..\/input\/tips-datasets\/tips.csv\")\nprint(df.shape)\ndf.head(3)","d79a2469":"#convert tips to precent tips\ndf['precent_tip'] = 100*df.tip\/df.total_bill\ndf.head(3)","99f73f12":"df.precent_tip.max()","ddf7cf90":"ix=df.precent_tip.idxmax()\ndf.iloc[ix,:]","dbee3417":"df.head(3)","996462f6":"df = pd.get_dummies(df)","2a4d7961":"features = df.drop('precent_tip',axis=1)\ntargets = df.precent_tip","08edcbab":"#standarize features\nfeatures = (features - features.mean())\/features.std()\nfeatures.describe().T[['mean','std']]","58671149":"#fit linear model\nlr = LinearRegression()\nlr.fit(features,targets)\nR2 = lr.score(features,targets)\nprint('R-sqr',R2.round(2))","442b60bf":"coef = lr.coef_\ncoef = pd.Series(coef,index=features.columns)\ncoef.sort_values(ascending=False)","6ec720e7":"features = df.drop(['tip','precent_tip','total_bill'],axis=1)\ntarget = df.total_bill","42e11cd3":"features = pd.get_dummies(features)","6e8566d4":"# standardize\nfeatures = (features -features.mean())\/features.std()\nfeatures.describe().T[['mean','std']]","019dd2fd":"lr = LinearRegression()\nlr.fit(features,target)","3fba1bde":"coef = lr.coef_\nR2 = lr.score(features,target)\nprint('R-squared',R2.round(2))\ncoef = pd.Series(coef,index=features.columns)\ncoef.sort_values(ascending=False)","071c0348":"## Use Linear regression to predict the precent tip paid. What is the training R2?","d096deda":"## Example(Linear Regression of Tips)","c17726f8":"## (d) Drop the features tip and percent_tip and use total_bill as the target and repear part (c).","fa334a93":"## What is the maximum percent of the total bill tipped? Describe the details of this particular tip."}}