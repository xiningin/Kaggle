{"cell_type":{"e41d4036":"code","79fdb889":"code","b8d6f5e8":"code","e9f0262d":"code","3e9e9c45":"code","f8b5329f":"code","14e45160":"code","5bc85afd":"code","0317cf4a":"code","47fb92c3":"code","60346121":"code","366b58f0":"code","0d200160":"code","0d6485fd":"code","44940b5d":"code","bd844e3a":"code","ced5fdad":"code","d418f324":"code","0d16ac2d":"code","6ba75bc5":"code","48957fb7":"code","ec496b51":"code","3f25a247":"code","d07937be":"code","a3549562":"code","1fdc9e69":"code","1354c0f3":"code","2f81ae71":"code","2e2cf7d6":"markdown","5cd5795d":"markdown","38b92dae":"markdown","667c2dae":"markdown","d88ccb3d":"markdown","a4f0650b":"markdown","3012e1ad":"markdown","8f03f9f2":"markdown","258a1e0f":"markdown","958775c3":"markdown","8d636631":"markdown","0a325beb":"markdown","0c6b8fc6":"markdown","dd848e6d":"markdown","197d854e":"markdown","43cd5eb2":"markdown","bbc16624":"markdown","208bdf3f":"markdown","acaa97dd":"markdown","0638158a":"markdown","eb75461d":"markdown","5ab7a9b2":"markdown","257a35c2":"markdown","28be1840":"markdown","b5a7a90f":"markdown","5ab6e938":"markdown","64f2a1bc":"markdown"},"source":{"e41d4036":"# Importation des packages qui seront utiles par la suite\nimport numpy as np \nimport pandas as pd","79fdb889":"# test est notre base d'entrainement: elle contient l'information sur la survie du passager\ntest = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")\ntest.head()","b8d6f5e8":"# train est la base sur laquelle nous allons appliquer notre solution finale\ntrain = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntrain.head()","e9f0262d":"train.info()","3e9e9c45":"train.describe() # Analyse descriptive des variables quantitatives","f8b5329f":"train.isna().sum() #nbr de valeurs manquantes dans chaque colonne","14e45160":"train.groupby(['Sex', 'Pclass']).agg({'Age':'mean'})","5bc85afd":"train[\"Age\"] = train.groupby(['Sex', 'Pclass'])['Age'].apply(lambda x : x.fillna(round(x.mean())))\n\ntest[\"Age\"] = test.groupby(['Sex', 'Pclass'])['Age'].apply(lambda x : x.fillna(round(x.mean())))","0317cf4a":"train.info()","47fb92c3":"women = train.loc[train.Sex == 'female'][\"Survived\"]\nrate_women = sum(women)\/len(women)\n\nprint(\"% de femmes qui ont surv\u00e9cu:\", rate_women)","60346121":"men = train.loc[train.Sex == 'male'][\"Survived\"]\nrate_men = sum(men)\/len(men)\n\nprint(\"% d'homme qui ont surv\u00e9cu:\", rate_men)","366b58f0":"import seaborn as sns\n\nsns.histplot(data=train,x='Age')","0d200160":"sns.barplot(x='Pclass', y='Survived', data=train)","0d6485fd":"train['SibSp'].nunique()","44940b5d":"sns.barplot(x='SibSp', y='Survived', data=train)","bd844e3a":"train['Parch'].unique()","ced5fdad":"sns.barplot(x='Parch', y='Survived', data=train)","d418f324":"train['Fam'] = train['SibSp'] + train['Parch']\ntest['Fam'] = test['SibSp'] + test['Parch']","0d16ac2d":"sns.barplot(x='Fam', y='Survived', data=train)","6ba75bc5":"train['Fare'].describe()","48957fb7":"sns.histplot(x='Fare', data=train)","ec496b51":"train['Fare'] > train['Fare'].median()","3f25a247":"train['Prix'] = np.select([(train['Fare'] > train['Fare'].median()),(train['Fare'] < train['Fare'].median())], ['pas cher','cher'], default=\"pas cher\")\ntest['Prix'] = np.select([(test['Fare'] > test['Fare'].median()),(test['Fare'] < test['Fare'].median())], ['pas cher','cher'], default=\"pas cher\")","d07937be":"sns.barplot(x='Prix', y='Survived', data=train)","a3549562":"test['Prix'].unique()","1fdc9e69":"from sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestClassifier\n\ny = train[\"Survived\"]\nfeatures = [\"Pclass\", \"Sex\", \"Fam\",'Age']\nX = pd.get_dummies(train[features])\n\n# Split the data into training\/testing sets using train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size= 0.3)\n\nmodel = RandomForestClassifier(n_estimators=100, max_depth=3, random_state=2)\nmodel.fit(X_train, y_train)\n\nmodel.score(X_test, y_test)","1354c0f3":"from sklearn.ensemble import RandomForestClassifier\n\ny = train[\"Survived\"]\n\nfeatures = [\"Pclass\", \"Sex\",\"Fam\",\"Age\"]\nX = pd.get_dummies(train[features])\n\n\nX_test = pd.get_dummies(test[features])\n\nmodel = RandomForestClassifier(n_estimators=100, max_depth=3, random_state=2)\nmodel.fit(X, y)\npredictions = model.predict(X_test)","2f81ae71":"output = pd.DataFrame({'PassengerId': test.PassengerId, 'Survived': predictions})\noutput.to_csv('my_submission.csv', index=False)\nprint(\"Votre r\u00e9sultat est pr\u00eat \u00e0 \u00eatre envoyer.\")","2e2cf7d6":"## Analyse univari\u00e9e","5cd5795d":"Pr\u00e9sentation de l'analyse sur la base de donn\u00e9es titanic en fran\u00e7ais.","38b92dae":"Il est difficile de faire une bonne relation entre le nombre de fr\u00e8res\/soeurs et la survie.","667c2dae":"Survived,Pclass,Sex,Age,SibSp,Parch,Ticket,Fare sont les variables qui nous int\u00e9ressent pour la suite.","d88ccb3d":"### La variable Gender","a4f0650b":"Si la famille est nombreuse (sup\u00e9rieur \u00e0 3) , il a fallu plus de temps \u00e0 fuir et \u00e0 eviter la mort. Les personnes sans familles (0 et 1) \u00e9tait rarement prioritaire dans le sauvetage.","3012e1ad":"Eliminer les 177 observations et utiliser l'\u00e2ge pour la pr\u00e9diction serait une m\u00e9thode possible. Une deuxi\u00e8me serait d'imputer une valeur aux observations manquantes (par exemple la moyenne). Finalement, il est possible de ne pas utiliser la variable \u00e2ge dans notre pr\u00e9diction et d'ainsi faire abstraction de ce probl\u00e8me.","8f03f9f2":"### La variable Ticket","258a1e0f":"* train contient 11 variables explicatives et une variable \u00e0 expliquer 'Survived' qui sera utilis\u00e9 pour analyser la pr\u00e9cision de notre pr\u00e9diction.\n* Les variables 'Age' et 'Cabin' ont probablement des observations manquantes, alors que 'Embarked' a plus d'observations que notre variable cible.\n* Les variables PassengerId, Name, Ticket et Cabin (qui contient beaucoup de valeurs manquantes) ne devrait pas nous renseigner des informations utiles sur si la personne a surv\u00e9cu ou pas. De m\u00eame, le lieu d'embarquement (variable 'Embarked') n'a \u00e0 priori aucune raison de jouer un r\u00f4le dans la survie de la personne.","958775c3":"### La variable SibSp (fr\u00e8res,soeurs,cousin,cousines)","8d636631":"Les classes sup\u00e9rieures ont eu plus de chance de survivre.","0a325beb":"## Importation des donn\u00e9es","0c6b8fc6":"### La variable Age","dd848e6d":"### La variable Parch (Parents et enfants)","197d854e":"La majorit\u00e9 des voyageurs avait entre 15 et 35 ans. Il faut aussi remarquer un nombre non-n\u00e9gligeant d'enfants tr\u00e8s jeunes (inf\u00e9rieur \u00e0 5 ans).","43cd5eb2":"Nous allons donc imputer la moyenne des \u00e2ges pour chaque sexe et chaque classe.","bbc16624":"# Titanic survivor prediction (French version)","208bdf3f":"Le prix des billets est tr\u00e8s assym\u00e9triquement r\u00e9parti \u00e0 droite. Il faut donc prendre la m\u00e9diane et non pas la moyenne.","acaa97dd":"# Conclusion and submission","0638158a":"Les femmes ont surv\u00e9cu avec une plus grande probabilit\u00e9.","eb75461d":"#### Variables manquantes pour 'Age'","5ab7a9b2":"M\u00eame commentaires que pr\u00e9c\u00e9demment. Il sera peut \u00eatre utile de faire une combinaison entre les variables Parch et SibSp car, individuellement, elle ne nous renseigne pas assez sur la possibilit\u00e9 de survivre. Par exemple, les r\u00e9unir dans une variable 'Fam' qui prendra en compte le nombre de membres d'une famille sur le Titanic.","257a35c2":"## Nettoyage des donn\u00e9es","28be1840":"Les hommes sont plus vieux que les femmes, or cela depend des classes aussi qu'il faut prendre en compte.","b5a7a90f":"Il y a des valeurs manquantes dans les colonnes 'Age', 'Cabin' et 'Embarked'. Nous allons corriger 'Age' car elle sera utilis\u00e9 dans nos pr\u00e9dictions.","5ab6e938":"### La variable Pclass","64f2a1bc":"Les observations suivantes peuvent \u00eatre faites:\n- pour notre variable cible Survived: 38% de la population de train a surv\u00e9cu le naufrage.\n- il y a 3 classes dans la variable Pclass.\n- la variable ID identifie le passager, mais ne sera probablement pas utile pour faire une pr\u00e9diction.\n- l'\u00e2ge moyen des passager est de 29-30 ans."}}