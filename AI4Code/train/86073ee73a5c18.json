{"cell_type":{"373e675a":"code","fe5d1bbf":"code","01e228c3":"code","f3fdceff":"code","8ec330d2":"code","e1081e16":"code","630579d5":"code","ce789ddf":"code","436cdb35":"code","61d651dd":"code","5e487c40":"markdown","d84b35e0":"markdown","e71549dd":"markdown","8c4fa57f":"markdown","84e0a496":"markdown","1be3efb5":"markdown","e41154f8":"markdown","d40ad10f":"markdown","0ec829b1":"markdown"},"source":{"373e675a":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport matplotlib\nimport warnings\nfrom matplotlib_venn import venn3\nwarnings.filterwarnings('ignore')","fe5d1bbf":"data = pd.read_csv(\"..\/input\/multipleChoiceResponses.csv\", low_memory=False)","01e228c3":"europe = [\"Austria\", \"Belgium\", \"Bulgaria\", \"Croatia\", \"Cyprus\", \"Czech Republic\",\n          \"Denmark\", \"Estonia\", \"Finland\", \"France\", \"Germany\", \"Greece\", \"Hungary\",\n          \"Ireland\", \"Italy\", \"Latvia\", \"Lithuania\", \"Luxembourg\", \"Malta\",\n          \"Netherlands\", \"Poland\", \"Portugal\", \"Romania\", \"Slovakia\", \"Slovenia\",\n          \"Spain\", \"Sweden\", \"United Kingdom of Great Britain and Northern Ireland\"]","f3fdceff":"# checking if all EU countries are in database\ncountries = data[\"Q3\"].drop(0)\ncountries_unique = countries.value_counts()\n\ncntrs = list(countries_unique.index)\n\npresent = []\nabsent = []\nfor e in europe:\n    if e in cntrs:\n        present.append(e)\n    else:\n        absent.append(e)\nprint (absent)","8ec330d2":"db_EU = data[data[\"Q3\"].isin(europe)]\ndb_EU[\"Q3\"] = db_EU[\"Q3\"].replace(\"United Kingdom of Great Britain and Northern Ireland\",\"UK\")\nQ3 = db_EU[\"Q3\"].value_counts()\n\nplt.figure(figsize=(20,10))\nplt.bar(Q3.index,Q3)\nplt.xticks(Q3.index,rotation=\"vertical\")\nplt.margins(0,0.1)\nplt.subplots_adjust(bottom=0.25)\nplt.title(\"Number of respondents from EU contries\")\nplt.tick_params(axis='both', which='major', labelsize=14)\nplt.grid(True)\nplt.rc('axes', axisbelow=True)","e1081e16":"ages =['22-24','25-29','30-34','35-39','40-44','45-49','50-54','55-59','60-69','70-79','80+']\n\nQ2 = db_EU[\"Q2\"].value_counts()\nQ2 = Q2.ix[ages]\nplt.figure(figsize=(20,10))\nplt.bar(Q2.index,Q2, )\nplt.xticks(Q2.index,rotation=\"vertical\")\nplt.margins(0,0.1)\nplt.subplots_adjust(bottom=0.25)\nplt.title(\"Age group of respondents from EU contries\")\nplt.tick_params(axis='both', which='major', labelsize=14)\nplt.grid(True)\nplt.rc('axes', axisbelow=True)","630579d5":"salaries = ['Not disclosed','0-10,000','10-20,000','20-30,000','30-40,000','40-50,000','50-60,000','60-70,000','70-80,000','80-90,000','90-100,000','100-125,000','125-150,000','150-200,000','200-250,000','250-300,000','300-400,000','400-500,000','500,000+']\n\ndb_EU.loc[:,\"Q9\"] = db_EU[\"Q9\"].replace(\"I do not wish to disclose my approximate yearly compensation\",\"Not disclosed\")\nQ9 = db_EU[\"Q9\"].value_counts()\nQ9 = Q9.reindex(salaries)\n\nplt.figure(figsize=(20,10))\nax =plt.bar(Q9.index,Q9)\nplt.xticks(Q9.index,rotation=\"vertical\")\nplt.margins(0,0.1)\nplt.subplots_adjust(bottom=0.25)\nplt.title(\"Salaries ranges of respondents from EU contries [$\/annum]\")\nplt.tick_params(axis='both', which='major', labelsize=14)\nplt.grid(True)\nplt.rc('axes', axisbelow=True)\nax[0].set_color('#990000')\n#alternative method:\n#ax.patches[Q9.index.get_indexer(['Not disclosed'])[0]].set_facecolor('#990000')","ce789ddf":"not_disclosed = db_EU[db_EU[\"Q9\"]==\"Not disclosed\"]\nnd_countries = not_disclosed[\"Q3\"].value_counts().rename(\"nd_counts\", axis='columns')\n\nplt.figure(figsize=(20,10))\nax = plt.bar(nd_countries.index,nd_countries)\n\nplt.xticks(nd_countries.index,rotation=\"vertical\")\nplt.margins(0,0.1)\nplt.subplots_adjust(bottom=0.25)\nplt.title(\"Number of respondents who do not want disclose salary \\nby country (absolute values)\")\nplt.tick_params(axis='both', which='major', labelsize=14)\nplt.grid(True)\nplt.rc('axes', axisbelow=True)\nax[0].set_color('#f7b45d')\nax[1].set_color('#990000')\nax[2].set_color('#37f250')","436cdb35":"df_ndc = nd_countries.to_frame()\ndf_Q3 = Q3.to_frame()\n\nQ3_nd = df_Q3.merge(df_ndc, how=\"outer\", left_index=True, right_index=True)\nQ3_nd[\"percentage\"] = Q3_nd[\"nd_counts\"]\/Q3_nd[\"Q3\"]*100\nQ3_nd.sort_values(\"percentage\", inplace=True, ascending=False)\n\nplt.figure(figsize=(20,10))\nax = plt.bar(Q3_nd.index,Q3_nd[\"percentage\"])\n\nplt.xticks(Q3_nd.index,rotation=\"vertical\")\nplt.margins(0,0.1)\nplt.subplots_adjust(bottom=0.25)\nplt.title(\"Number of respondents who do not want disclose salary \\nby country (percentage)\")\nplt.tick_params(axis='both', which='major', labelsize=14)\nplt.grid(True)\nplt.rc('axes', axisbelow=True)\nax[4].set_color('#f7b45d')\nax[6].set_color('#990000')\nax[7].set_color('#37f250')","61d651dd":"langs = db_EU[[\"Q16_Part_1\",\"Q16_Part_2\",\"Q16_Part_3\"]]\npythons = langs[langs[\"Q16_Part_1\"]==\"Python\"].index.values.tolist()\nrs = langs[langs[\"Q16_Part_2\"]==\"R\"].index.values.tolist()\nsqls = langs[langs[\"Q16_Part_3\"]==\"SQL\"].index.values.tolist()\n\nplt.figure(figsize=(20,10))\nplt.title(\"Venn diagram of languages used by respondents\")\nvenn3([set(pythons),set(rs),set(sqls)],(\"Python\",\"R\",\"SQL\"))","5e487c40":"Creating list of EU contries for filtering data.","d84b35e0":"When looking at the percentage of respondents not disclosing salaries the TOP3 countries from the previous graph are now not on top of the list anymore.\n\nThree the most common languages in data science are Python, R, SQL. Let's see how many respondents use these languages and how many of them use two or three of them \"at once\". For this the Venn diagram will be used.","e71549dd":"UNDER CONSTRUCTION","8c4fa57f":"In terms of absolute values three top countries are:\n* Germany\n* UK\n* France\n\nHowever absolute values do not tell us the entire story.\n\nNext step - percentage of respondents from each country who do not want disclose their salary range.","84e0a496":"Let's check what countries are missing.","1be3efb5":"Number of respondents from individual countries.","e41154f8":"The venn diagram shows that the biggest number of respondents uses Python. SQL is utilized by relatively big fraction of both Python and R users. There is also a big group of respondents writing with both R and Python.","d40ad10f":"**Analysis of Not Disclosed salaries**\n\nDistribution of respondents who do not want disclose their salaries by country. Fisrt step - absolute values.","0ec829b1":"**Data Science in the European Union**\n\nThis kernel focuses on Kaggle survey results for the EU region. Currently it consists 28 countries in which in total over 510 milions of people live. Due to open borders policy this is a huge market for Data Science specialists and it is worth to look inside it more in detail.\n\nReading necessary libraries. We will use the following libraries:\n* pandas\n* numpy\n* matplotlib"}}