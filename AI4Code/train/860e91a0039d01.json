{"cell_type":{"ac7e379f":"code","0572ddf0":"code","23315845":"code","d000a4c3":"code","4ac3ea3c":"code","e4c78f00":"code","91f87842":"code","9c95bafc":"code","65f6dab5":"code","57fa0047":"code","3d487677":"code","0d24f128":"code","a0531daf":"code","42c568a4":"markdown","17eafee6":"markdown"},"source":{"ac7e379f":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport math\nimport seaborn as sns\nimport scipy.stats as sts","0572ddf0":"df = pd.read_csv('\/kaggle\/input\/singapore-used-car\/SG_usedcar.csv')\ndf.head(10)","23315845":"columns = ['Mileage','Dep','Road Tax','Price','OMV','Power','ARF','Manufactured','Engine Cap','COE']\nfor j in columns:\n    for i in list(df['Type'].unique()):\n        med = df[(df['Type']==i) & (df[j]!='N.A') & (df[j]!='N.A.')][j].median()\n        if not(med >0):\n            med = 0\n        if df[(df['Type']==i) & ((df[j]=='10yrs COE left)')|(df[j]=='5yrs COE left)'))]['COE'].sum()<=0:\n            med = df[(df['Type']==i) & ((df['COE']!='N.A')&(df['COE']!='N.A.'))]['COE'].median()\n        df.loc[(df['Type']==i) & ((df[j]=='N.A') | (df[j]=='N.A.') | (df[j]=='NaN')),j]=int(med)","d000a4c3":"df.head()","4ac3ea3c":"df['Coe_left_days'] = df['Coe_left']\ndf= df.reindex(columns=['Brand', 'Type', 'Reg_date', 'Coe_left','Coe_left_days', 'Dep', 'Mileage', 'Road Tax','Dereg Value', 'COE', 'Engine Cap', 'Curb Weight', 'Manufactured','Transmission', 'OMV', 'ARF', 'Power', 'No. of Owners', 'Price','Unnamed: 18'])\ndef DtoD(i):\n    i= ' '+i\n    k = 0 if int(i.find('y'))>=4 or i.find('y')<0 else i[0:i.find('y')]\n    p = 0 if i.find('m')<0 else i[i.find('m')-2:i.find('m')]\n    j = 0 if i.find('d')<0 else i[i.find('d')-2:i.find('d')]\n    return int(k)*365+int(p)*30+int(j)\n\ndf.loc[(df['Coe_left_days'].isnull()),'Coe_left_days']='0'","e4c78f00":"for i in range(0,4411):\n    df.loc[[i],'Coe_left_days']=DtoD(list(df.loc[[i],'Coe_left_days'])[0])","91f87842":"for i in ['Price','OMV','Engine Cap']:\n    df[i] = list(map(lambda x:int(x),list(df[i].values)))\n    med = int(df[i].median())\n    mean = df[i].sum()\/\/len(df[i].values)\n    stdv = int(df[i].std())\n    print('Median {0} value: {1}\\n Mean {0} value: {2}\\n Standart Deviation {0} value:{3}'.format(i,med,mean,stdv))","9c95bafc":"l = list(df['Brand'].value_counts())[:15]\nl1 = list(df['Brand'].value_counts().reset_index()['index'])[:15]\nfig, ax = plt.subplots()\n\nax.barh(l1, l)\nfig.set_figwidth(10) \nfig.set_figheight(6)  ","65f6dab5":"l1 = list(df['Type'].value_counts())\nl = list(df['Type'].value_counts().reset_index()['index'])\nplt.figure(figsize=[10,6])\nplt.barh(l,l1)\nplt.show()","57fa0047":"plt.boxplot(df['Coe_left_days'].values)\nplt.show()","3d487677":"l = df[df['No. of Owners']!='N.A']['No. of Owners'].value_counts()\nk= df[df['No. of Owners']!='N.A']['No. of Owners'].count()\nl = [l[0],l[1],l[2],l[3:].sum()]\nowners=['1 owner-'+str(int(l[0]\/k*100))+'%','2 owners-'+str(int(l[1]\/k*100))+'%','3 owners-'+str(int(l[2]\/k*100))+'%','More than 4 owners-'+str(int(l[3]\/k*100))+'%']\nplt.pie(l,labels=owners)\nplt.show()","0d24f128":"df['OMV'] = list(map(lambda x:int(x),list(df['OMV'].values)))\ndf['ARF'] = list(map(lambda x:int(x),list(df['ARF'].values)))\nx= df.sort_values('OMV')['OMV'].values\ny=df.sort_values('OMV')['ARF'].values\nplt.figure(figsize=[12,4])\nplt.plot(x[::10],y[::10])\nplt.show()","a0531daf":"df['Dep'] = list(map(lambda x:int(x),list(df['Dep'].values)))\ndf['Price'] = list(map(lambda x:int(x),list(df['Price'].values)))\ndf['Dep%']=list(map(lambda x,y: int(x\/y*100),df['Dep'].values,df['Price'].values))#Dep% - percentage of Dep from Price\ndf = df.reindex(columns=['Brand', 'Type', 'Reg_date', 'Coe_left','Coe_left_days', 'Dep','Dep%', 'Mileage', 'Road Tax','Dereg Value', 'COE', 'Engine Cap', 'Curb Weight', 'Manufactured','Transmission', 'OMV', 'ARF', 'Power', 'No. of Owners', 'Price','Unnamed: 18'])\nx = df.sort_values('Coe_left_days')['Coe_left_days'].values[::30]\ny = df.sort_values('Coe_left_days')['Dep%'].values[::30]\nplt.scatter(x,y)\nplt.show()","42c568a4":"Thus, from the given statistics we can find out, which cars and types of cars are the most common in Singapore.\nAlso we can assume that the more owners cars have already had the less likeli it will be sold according, according to the pie chart.\nGenerally,we see an upward trend on the graph wich represent relation between OMV and ARF.That mens the higher OMV, the higher ARF.Also we can see that generally it behaves like a linear graph that my probably means the ARF=K*OMV(k some num.).\nLooking at the last chart it' s clearly seen that the Dep% is decreasing since coe_left_days increasing","17eafee6":"coe_left-time for coe left\nmileage-driven distane\ndep(annual depreciation-\u0433\u043e\u0434\u043e\u0432\u0430\u044f \u0430\u043c\u043e\u0440\u0442\u0438\u0437\u0430\u0446\u0438\u044f)-\u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0442\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u043d\u0438\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043e\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0443\u0449\u0435\u0440\u0431(\u043f\u043e\u043a\u0443\u043f\u043a\u0430 \u043c\u0430\u0448\u0438\u043d\u044b)\nroad tax-annual payed tax for using public roads\ndereg value-discount on utilised(scrapped) or exported car\nCOE-price of COE paid(Certificate of Entitlement)\nengine cap-engine capacity measured in cubic centimeters(1000cc=1l)\ncurb weight -mass of car\nThe OMV(open market value) is defined as the value assessed by the Singapore Customs, taking into account purchase price, freight, insurance and all other charges incidental to the sale and delivery of the car from country of manufacture to Singapore.\nThe Additional Registration Fee (ARF) is a tax imposed upon registration of a vehicle, it is calculated based on a percentage of the OMV of your vehicle"}}