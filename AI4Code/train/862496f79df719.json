{"cell_type":{"bb9c131a":"code","d770b252":"code","cb26ffc6":"code","bb0c8f33":"code","ad6d7e52":"code","2979543c":"code","708299a8":"code","9d08cf7a":"code","e166a862":"code","d1196dc8":"code","0036e32a":"code","a7bdfba2":"code","dd1902c9":"code","9a600b3b":"code","a4aa54ad":"code","39ae5bea":"code","52f8a0c6":"code","e9bd7bd9":"code","748e8255":"code","7a13f2c9":"code","2a4c55f7":"code","d3d53a70":"code","b5795491":"code","475f54d3":"code","0adf8d86":"code","caf1d731":"code","1639de46":"markdown","38cfc2f4":"markdown","bc2074ad":"markdown","c380f249":"markdown","d6645f54":"markdown","c82fd880":"markdown","6b1aaeb7":"markdown","306c881e":"markdown","19a607b3":"markdown","bdd47367":"markdown","cb9c1971":"markdown","401e54cf":"markdown","4ee5e739":"markdown","99a01b01":"markdown","98fc6cdf":"markdown","8cbdf84b":"markdown","172bc30f":"markdown","c649cb5c":"markdown","f81ae733":"markdown","dc5c71af":"markdown","05a8167d":"markdown"},"source":{"bb9c131a":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import r2_score","d770b252":"df = pd.read_csv('..\/input\/avocado-prices\/avocado.csv')","cb26ffc6":"df.info()","bb0c8f33":"df.head()","ad6d7e52":"df.isnull().sum()","2979543c":"df = df.drop(['Unnamed: 0','4046','4225','4770','Date'],axis=1)","708299a8":"df.head()","9d08cf7a":"def get_avarage(df,column):\n    \"\"\"\n    Description: This function to return the average value of the column \n\n    Arguments:\n        df: the DataFrame. \n        column: the selected column. \n    Returns:\n        column's average \n    \"\"\"\n    return sum(df[column])\/len(df)","e166a862":"def get_avarge_between_two_columns(df,column1,column2):\n    \"\"\"\n    Description: This function calculate the average between two columns in the dataset\n\n    Arguments:\n        df: the DataFrame. \n        column1:the first column. \n        column2:the scond column.\n    Returns:\n        Sorted data for relation between column1 and column2\n    \"\"\"\n    \n    List=list(df[column1].unique())\n    average=[]\n\n    for i in List:\n        x=df[df[column1]==i]\n        column1_average= get_avarage(x,column2)\n        average.append(column1_average)\n\n    df_column1_column2=pd.DataFrame({'column1':List,'column2':average})\n    column1_column2_sorted_index=df_column1_column2.column2.sort_values(ascending=False).index.values\n    column1_column2_sorted_data=df_column1_column2.reindex(column1_column2_sorted_index)\n    \n    return column1_column2_sorted_data","d1196dc8":"def plot(data,xlabel,ylabel):\n    \"\"\"\n    Description: This function to draw a barplot\n\n    Arguments:\n        data: the DataFrame. \n        xlabel: the label of the first column. \n        ylabel: the label of the second column.\n    Returns:\n        None\n    \"\"\"\n        \n    plt.figure(figsize=(15,5))\n    ax=sns.barplot(x=data.column1,y=data.column2,palette='rocket')\n    plt.xticks(rotation=90)\n    plt.xlabel(xlabel)\n    plt.ylabel(ylabel)\n    plt.title(('Avarage '+ylabel+' of Avocado According to '+xlabel));","0036e32a":"data1 = get_avarge_between_two_columns(df,'region','AveragePrice')\nplot(data1,'Region','Price ($)')","a7bdfba2":"print(data1['column1'].iloc[-1], \" is the region producing avocado with the lowest price.\")","dd1902c9":"data2 = get_avarge_between_two_columns(df,'region','Total Volume')\nsns.boxplot(x=data2.column2).set_title(\"Figure: Boxplot repersenting outlier columns.\")","9a600b3b":"outlier_region = data2[data2.column2>10000000]\nprint(outlier_region['column1'].iloc[-1], \"is outlier value\")","a4aa54ad":"outlier_region.index\ndata2 = data2.drop(outlier_region.index,axis=0)","39ae5bea":"plot(data2,'Region','Volume')","52f8a0c6":"data3 = get_avarge_between_two_columns(df,'year','AveragePrice')\nplot(data3,'year','Price')","e9bd7bd9":"data4 = get_avarge_between_two_columns(df,'year','Total Volume')\nplot(data4,'year','Volume')","748e8255":"df['region'] = df['region'].astype('category')\ndf['region'] = df['region'].cat.codes\n\ndf['type'] = df['type'].astype('category')\ndf['type'] = df['type'].cat.codes","7a13f2c9":"df.info()","2a4c55f7":"df.head()","d3d53a70":"# split data into X and y\nX = df.drop(['AveragePrice'],axis=1)\ny = df['AveragePrice']\n\n# split data into traing and testing dataset\nX_train, X_test, y_train, y_test = train_test_split(X,\n                                                    y,\n                                                    test_size=0.3,\n                                                    random_state=15)","b5795491":"print(\"training set:\",X_train.shape,' - ',y_train.shape[0],' samples')\nprint(\"testing set:\",X_test.shape,' - ',y_test.shape[0],' samples')","475f54d3":"# bulid and fit the model\nmodel = LinearRegression(normalize=True)\nmodel.fit(X_train,y_train)","0adf8d86":"# prediction and calculate the accuracy for the testing dataset\ntest_pre = model.predict(X_test)\ntest_score = r2_score(y_test,test_pre)\nprint(\"The accuracy of testing dataset \",test_score*100)","caf1d731":"# prediction and calculate the accuracy for the testing dataset\ntrain_pre = model.predict(X_train)\ntrain_score = r2_score(y_train,train_pre)\nprint(\"The accuracy of training dataset \",train_score*100)","1639de46":"## Data Modeling","38cfc2f4":"## Answering questions ","bc2074ad":"The model doesn't work well with this dataset, In order to the avocado prices were near together","c380f249":"### Load data","d6645f54":"We bulit the regrestion model by used [Linear regresion from sklearn](https:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.linear_model.LinearRegression.html) to predict the avocado price.","c82fd880":"### Missing value checking","6b1aaeb7":"# Avocado Data Analysis\n","306c881e":"## Data Understanding\n\nThe [Avocado dataset](https:\/\/www.kaggle.com\/neuromusic\/avocado-prices) was been used in this project.\n\nThis dataset contains 13 columns:\n    1. Date - The date of the observation\n    2. AveragePrice: the average price of a single avocado\n    3. Total Volume: Total number of avocados sold\n    4. Total Bags: Total number  o bags\n    5. Small Bags: Total number of Small bags\n    6. Large Bags: Total number of Large bags\n    7. XLarge Bags: Total number of XLarge bags\n    8. type: conventional or organic\n    9. year: the year\n    10. region: the city or region of the observation\n    11. 4046: Total number of avocados with PLU 4046 sold\n    12. 4225: Total number of avocados with PLU 4225 sold\n    13. 4770: Total number of avocados with PLU 4770 sold\n","19a607b3":"## Business Understanding\n\nThe aim of this project is to answer the following four questions:\n    1. Which region are the lowest and highest prices of Avocado?\n    2. What is the highest region of avocado production?\n    3. What is the average avocado prices in each year?\n    4. What is the average avocado volume in each year?","bdd47367":"### What is the average avocado prices in each year?","cb9c1971":"### What is the average avocado volume in each year?","401e54cf":"### Which region are the lowest and highest prices of Avocado?","4ee5e739":"#### Remove the outlier values","99a01b01":"### Dropping unnecessary columns","98fc6cdf":"### Explore the data","8cbdf84b":"### Import necessary libraries ","172bc30f":"#### Checking if there are outlier values or not.","c649cb5c":"## Data preparation\n","f81ae733":"## Evaluate the Results","dc5c71af":"### What is the highest region of avocado production?","05a8167d":"### Changing some column types to categories"}}