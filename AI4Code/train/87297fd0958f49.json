{"cell_type":{"32c940ef":"code","b88da2b8":"code","b8398b45":"code","87fa1d0c":"code","39c73be5":"code","1ae65d04":"code","fd64fb87":"code","ebda0605":"code","10a9e31e":"code","362bf15a":"code","1b17d14a":"code","9df34c15":"code","d688dc2c":"code","cc878616":"code","20ff84ce":"code","fcfa83ff":"code","4b31082a":"code","2bc01614":"code","a7db1105":"code","039ea615":"code","86b1c58e":"code","1a9d37b6":"code","c29a2e2b":"code","b24b7580":"code","fa86ebbd":"code","0e9cb1ea":"code","e11b336f":"code","6d0fc6da":"markdown","ffa5ad80":"markdown","eec85e90":"markdown","e900d47e":"markdown","98d387ad":"markdown","943422a0":"markdown","57750bd7":"markdown","eec4baf8":"markdown","7455d6bc":"markdown","bdb0c641":"markdown","f162f33d":"markdown","825adfbe":"markdown","1adbac7b":"markdown","466ddc9f":"markdown","293ac6d7":"markdown","557764c1":"markdown","31461b39":"markdown","86dac9e3":"markdown","3c1f35da":"markdown","798beef0":"markdown","bd5a6ef9":"markdown","9db17070":"markdown","d9018928":"markdown","b05e6a38":"markdown","f96c3325":"markdown","f474f0d0":"markdown","a85c226e":"markdown"},"source":{"32c940ef":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom scipy import stats\n\nplt.rcParams['axes.spines.top'] = False\nplt.rcParams['axes.spines.right'] = False\n\n\nimport plotly.express as px\n\nimport warnings\n\nwarnings.filterwarnings('ignore')","b88da2b8":"df = pd.read_csv(\"..\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv\", usecols=range(11))\ndf.head()","b8398b45":"df.shape","87fa1d0c":"df.info()","39c73be5":"df.isna().sum()","1ae65d04":"df.insert(loc=0, column=\"rank\", value=range(1, len(df)+1))","fd64fb87":"fig = px.choropleth(data_frame=df,\n                    locations=\"Country name\",\n                    locationmode=\"country names\",\n                    color=\"Ladder score\",\n                    title=\"Country wise happiness score\")\nfig.show()","ebda0605":"top10 = df.set_index('Country name')['Ladder score'].nlargest(10).to_frame()\nbottom10 = df.set_index('Country name')['Ladder score'].nsmallest(10).to_frame()\n\n# concatinating both dataframes\nsubdf = pd.concat([top10, bottom10], axis=0)\nsubdf = subdf.sort_values(by=\"Ladder score\")\n\n# Drawing Bar chart\nfig = plt.figure(figsize=(15,10))\n\ncmap = plt.cm.coolwarm_r\nnorm = plt.Normalize(vmin=subdf['Ladder score'].min(), vmax=subdf['Ladder score'].max())\n\ncolors = [cmap(norm(value)) for value in subdf['Ladder score']]\n\ng = plt.barh(y=subdf.index, width=subdf[\"Ladder score\"], color=colors)\nplt.ylabel(\"Country Name\", fontsize=16)\nplt.xlabel(\"Happiness Score\", fontsize=16)\nplt.title(\"Top-10 most Happiest and least Happiest Countries\", fontdict={'size':20})\n\nfor rect in g.patches:\n    x = rect.get_x()\n    y = rect.get_y()\n    height = rect.get_height()\n    width = rect.get_width()\n    \n    plt.annotate(f\"{width}\", (width, y+height\/2), ha='left', va='center')\n\nplt.show()","10a9e31e":"fig = px.sunburst(data_frame=df,\n                  path=[\"Regional indicator\", \"Country name\"],\n                  values=\"Ladder score\",\n                  color=\"Ladder score\",\n                  width=900, \n                  height=900)\nfig.show()","362bf15a":"g = df.groupby(\"Regional indicator\")['Ladder score'].mean().sort_values().plot.barh(figsize=(15,8), color=\"orange\")\n\ng.set_xlabel(\"Happiness Score\", fontsize=16)\ng.set_title(\"Average happiness score in each region\", fontdict={\"size\":20})\n\nfor rect in g.patches:\n    x = rect.get_x()\n    y = rect.get_y()\n    height = rect.get_height()\n    width = rect.get_width()\n    \n    plt.annotate(f\"{width:.3f}\", (width, y+height\/2), ha='left', va='center')\n    \nplt.show()","1b17d14a":"fig = px.scatter(data_frame=df,\n                 x='Logged GDP per capita',\n                 y='Ladder score',\n                 size='Ladder score',\n                 trendline='ols')\n\nfig.show()","9df34c15":"fig = px.scatter(data_frame=df,\n                 x='Logged GDP per capita',\n                 y='Ladder score', color=\"Regional indicator\",\n                 size='Ladder score', trendline='ols', \n                 facet_col=\"Regional indicator\", \n                 facet_col_wrap=2, width=800, height=1200)\n\nfig.update_xaxes(matches=None)\nfig.update(layout_showlegend=False)\nfig.show()","d688dc2c":"fig = px.scatter(data_frame=df,\n                 x='Social support',\n                 y='Ladder score',\n                 size='Ladder score',\n                 trendline='ols')\n\nfig.show()","cc878616":"fig = px.scatter(data_frame=df,\n                 x='Social support',\n                 y='Ladder score',\n                 color=\"Regional indicator\",\n                 size='Ladder score',\n                 trendline='ols',\n                 facet_col=\"Regional indicator\",\n                 facet_col_wrap=2,\n                 width=800,\n                 height=1200)\n\nfig.update_xaxes(matches=None)\nfig.update(layout_showlegend=False)\nfig.show()","20ff84ce":"fig = px.scatter(data_frame=df,\n                 x='Healthy life expectancy',\n                 y='Ladder score',\n                 size='Ladder score',\n                 trendline='ols')\n\nfig.show()","fcfa83ff":"fig = px.scatter(data_frame=df,\n                 x='Healthy life expectancy',\n                 y='Ladder score',\n                 color=\"Regional indicator\",\n                 size='Ladder score',\n                 trendline='ols',\n                 facet_col=\"Regional indicator\",\n                 facet_col_wrap=2,\n                 width=800,\n                 height=1200)\n\nfig.update_xaxes(matches=None)\nfig.update(layout_showlegend=False)\nfig.show()","4b31082a":"fig = px.scatter(data_frame=df,\n                 x='Freedom to make life choices',\n                 y='Ladder score',\n                 size='Ladder score',\n                 trendline='ols')\n\nfig.show()","2bc01614":"fig = px.scatter(data_frame=df,\n                 x='Freedom to make life choices',\n                 y='Ladder score', color=\"Regional indicator\",\n                 size='Ladder score', trendline='ols', \n                 facet_col=\"Regional indicator\", \n                 facet_col_wrap=2, width=800, height=1200)\n\nfig.update_xaxes(matches=None)\nfig.update(layout_showlegend=False)\nfig.show()","a7db1105":"fig = px.scatter(data_frame=df,\n                 x='Generosity',\n                 y='Ladder score',\n                 size='Ladder score',\n                 trendline='ols')\n\nfig.show()","039ea615":"fig = px.scatter(data_frame=df,\n                 x='Generosity',\n                 y='Ladder score', color=\"Regional indicator\",\n                 size='Ladder score', trendline='ols', \n                 facet_col=\"Regional indicator\", \n                 facet_col_wrap=2, width=800, height=1200)\n\nfig.update_xaxes(matches=None)\nfig.update(layout_showlegend=False)\nfig.show()","86b1c58e":"pop_df = pd.read_csv(\"..\/input\/world-happiness-2020-and-2021\/csvData_with_population.csv\")\npop_df.head()","1a9d37b6":"pop_df.pop2021 = pop_df.pop2021.astype('str').str.replace(\".\",\"\").astype(\"int\")","c29a2e2b":"full_df = df.merge(pop_df, left_on=\"Country name\", right_on=\"country\")\n\nfull_df = full_df.drop([\n    'country', 'Standard error of ladder score', 'upperwhisker', 'lowerwhisker'\n], 1)","b24b7580":"full_df['change_from_2020'] = full_df.rank_x - full_df.rank_y","fa86ebbd":"no_change = full_df.set_index(\"Country name\")['change_from_2020'][\n    full_df.set_index(\"Country name\")['change_from_2020'] == 0]\n\nprint(\"Countries with no change in their rank from 2020 to 2021 are:\\n\")\nprint(\", \".join(no_change.index.to_list()))","0e9cb1ea":"poor_per = full_df.set_index(\"Country name\")['change_from_2020'][\n    full_df.set_index(\"Country name\")['change_from_2020'] == 3]\n\nprint(\"Number of most poor performed in 2021 as compared to 2020:\", len(poor_per))","e11b336f":"len(no_change)","6d0fc6da":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nThere is a positive correlation between happiness score and 'freedom to make life choices' score. Countries with higher 'freedom to make life choices' score are happier than those with lower 'freedom to make life choices' scores.\n<\/div>","ffa5ad80":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nThere is a positive correlation between happiness score and social support score. Countries with higher social support are happier than those with lower social support scores.\n<\/div>","eec85e90":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness 2021 Vs 2020<\/div>","e900d47e":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness in Regions<\/div>","98d387ad":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness and Generosity<\/div>","943422a0":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness and GDP per capita<\/div>","57750bd7":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nFor the generosity score, not all the regions follow the overall trend of the data. A few have a positive correlation with happiness score, and few have no relationship.\n<\/div>","eec4baf8":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nFrom the preceding plot, we can see a positive correlation between GDP per capita and happiness score. Countries with higher GDP per capita are happier than those with lower  GDP per capita.\n<\/div>","7455d6bc":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Summary<\/div>","bdb0c641":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nIn all regions, we can see that their data follow the overall trend, meaning they all have happiness scores and social support scores positively correlated.\n<\/div>","f162f33d":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nAll the regions follow the overall trend of the data, while Western Europe follows the data's negative trend.\n<\/div>","825adfbe":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Introduction<\/div>","1adbac7b":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\n \nThe World Happiness Report 2021 focuses on the effects of COVID-19 and how people all over the world have fared. Our aim was two-fold, first to focus on the effects of COVID-19 on the structure and quality of people\u2019s lives, and second to describe and evaluate how governments all over the world have dealt with the pandemic. In particular, we try to explain why some countries have done so much better than others.\n<div style=\"text-align:right; padding:1rem 3rem; color:red\"> \n<cite>&mdash; https:\/\/worldhappiness.report\/ed\/2021\/<\/cite>\n<\/div>\n<\/div>","466ddc9f":"- Source of the above data is - https:\/\/worldpopulationreview.com\/country-rankings\/happiest-countries-in-the-world","293ac6d7":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nThere seems to be no relationship between happiness scores and generosity scores.\n<\/div>","557764c1":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness and Life Expectancy<\/div>","31461b39":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness and Social Support<\/div>","86dac9e3":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nIn each region, GDP per capita and happiness score have a positive correlation, except in North America and ANZ, and the Commonwealth of independent states.\n<\/div>","3c1f35da":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nThirty-one countries got the same rank in 2021 as in 2020, and 23 countries stepped down by three positions on the list.\n<\/div>","798beef0":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Data Loading<\/div>","bd5a6ef9":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness in countries<\/div>","9db17070":"## <div style=\"background:#96DDD5; padding:1rem; color:#333\">Happiness and Freedom to make life choices<\/div>","d9018928":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\n    Finland is the happiest country in the world, followed by Denmark. And Afghanistan is the least happy country.\n<\/div>","b05e6a38":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nAll regions\u2019 happiness scores positively correlate with \u2018freedom to make life choices,\u2019 except East Asia and Southeast Asia.\n<\/div>","f96c3325":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nIn this project, I have analyzed the word happiness score of all the countries. I have found that Finland is the happiest country and Afghanistan is the least happy country. In 2020 and 2021, for both years, Finland got the highest happiness score.\n<\/div>","f474f0d0":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\n    North America and ANZ region is the happiest region, and South Asia is the least happy region.\n<\/div>","a85c226e":"<div style=\"background:#fae7b5; padding:1.5rem; font-size:1.5rem; color:#333\">\nThere is a positive correlation between happiness score and Healthy life expectancy. Countries with higher Healthy life expectancy are happier than those with lower Healthy life expectancy.\n<\/div>"}}