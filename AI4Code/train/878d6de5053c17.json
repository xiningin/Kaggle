{"cell_type":{"aa0fa315":"code","c162a64e":"code","c4a2399d":"code","1226a853":"code","c23225c5":"code","e717cbf5":"code","4998793f":"code","f7fb727f":"code","2cd14d12":"code","906a0ab2":"code","be283090":"code","48aa0b83":"code","d8d4c508":"code","b90fd239":"code","455da69b":"code","7932441c":"code","1e5edb13":"code","65d4219c":"markdown","cb803eba":"markdown","265e5609":"markdown","0b636f57":"markdown","888b3107":"markdown","51451147":"markdown","33118596":"markdown","f8dea753":"markdown","7f13a784":"markdown","dc6f72eb":"markdown","f8e974ea":"markdown","d62d6b82":"markdown","2542bc5c":"markdown","5a70d0ed":"markdown","107dbc08":"markdown","1a50e4cb":"markdown","4efc75c7":"markdown","56637e60":"markdown","12e9cf0e":"markdown"},"source":{"aa0fa315":"import os\nimport pandas as pd \npd.set_option('display.max_columns', 10)\n\nbase_dir = '..\/input\/'\nmultiple_path = 'multipleChoiceResponses.csv'\nfreeForm_path = 'freeFormResponses.csv'\nschema_path = 'SurveySchema.csv'\n\nmultiple_choices_df = pd.read_csv(os.path.join(base_dir,multiple_path))\nfree_form_df = pd.read_csv(os.path.join(base_dir,freeForm_path))\nschema_df = pd.read_csv(os.path.join(base_dir,schema_path))","c162a64e":"multiple_choices_df[0:2]","c4a2399d":"free_form_df[0:2]","1226a853":"schema_df[0:2]","c23225c5":"len(multiple_choices_df.columns)","e717cbf5":"information_we_need = multiple_choices_df[\n    ['Q3','Q37']\n]\ninformation_we_need.head()","4998793f":"multiple_choices_df.groupby(['Q3','Q37']).size()","f7fb727f":"multiple_choices_df.groupby(['Q3','Q37']).size().reset_index()","2cd14d12":"information_we_need = multiple_choices_df.groupby(['Q3', 'Q37']).size().reset_index()\ninformation_we_need.columns = ['Country', 'Platform', 'How many votes']\ninformation_we_need.head()","906a0ab2":"information_we_need = information_we_need.sort_values(by=['Country','How many votes'])\ninformation_we_need[:10]","be283090":"information_we_need.drop_duplicates(subset='Country', keep='first').head()","48aa0b83":"information_we_need = information_we_need.drop_duplicates(subset='Country', keep='last')\ninformation_we_need.head()","d8d4c508":"import matplotlib.pyplot as plt\nimport numpy as np \nfrom plotly.offline import init_notebook_mode, iplot\nfrom sklearn import preprocessing\nimport warnings\nwarnings.filterwarnings(\"ignore\")\ninit_notebook_mode(connected=True)","b90fd239":"def plot_geomap(dataframe):\n    \"\"\" Function by SKR, the kernel is in the references section \"\"\"\n    colorscale = [[0, 'rgb(102,194,165)'], [0.33, 'rgb(253,174,97)'], [0.66, 'rgb(213,62,79)'], [1.0, 'rgb(158,1,66)']]\n    data = [ dict(\n            type = 'choropleth',\n            autocolorscale = False,\n            colorscale = colorscale,\n            showscale = False,\n            locations = dataframe['Country'],\n            z = dataframe['How many votes'].values,\n            locationmode = 'country names',\n            text = dataframe['Platform'],\n            marker = dict(\n                line = dict(color = '#fff', width = 2)) )           ]\n\n    layout = dict(\n        height=800,\n        title = 'Most Used Online Platform by Country',\n        geo = dict(\n            showframe = True,\n            showocean = True,\n            oceancolor = '#222',\n            projection = dict(\n            type = 'orthographic',\n                rotation = dict(\n                        lon = 60,\n                        lat = 10),\n            ),\n            lonaxis =  dict(\n                    showgrid = False,\n                    gridcolor = 'rgb(102, 102, 102)'\n                ),\n            lataxis = dict(\n                    showgrid = False,\n                    gridcolor = 'rgb(102, 102, 102)'\n                    )\n                ),\n            )\n    fig = dict(data=data, layout=layout)\n    iplot(fig)","455da69b":"plot_geomap(information_we_need)","7932441c":"from sklearn import preprocessing\nlbl = preprocessing.LabelEncoder()\ninformation_we_need['How many votes'] = lbl.fit_transform(information_we_need['Platform'].values)\ninformation_we_need.head()","1e5edb13":"plot_geomap(information_we_need)","65d4219c":"We have the information, now we need to group this information by the country and by platform","cb803eba":"## Understanding the data\n\nOne of the most important part of a data scientist is to understand the data that needs the analysis. Here, we're presented with 3 pieces of data, each containing a part of the survey's information. \n\n#### Structure of the data\n<span style=\"color:#557e54\"><b>freeFormResponses.csv<\/b><\/span> : When survey respondents selected the \"Other\" category, an option was given for a text response. These text responses were separated and shuffled to protect user privacy.\n\n<span style=\"color:#557e54\"><b>multipleChoiceResponses.csv<\/b><\/span> : The 2018 Kaggle Machine Learning & Data Science Survey\n\n<span style=\"color:#557e54\"><b>SurveySchema.csv<\/b><\/span> : How many respondents answered each question?\n\nGraphically\n\n<img width=\"600px;\" src=\"https:\/\/storage.cloud.google.com\/gifs4theblog\/dataframe.png?folder&hl=pt-br&organizationId\" stlye=\"center:block;margin-left:auto;margin-right:auto;width:50%\" alt=\"Storytelling\" class=\"center\">\n<a class=\"anchor\" id=\"ideas\"><\/a>","265e5609":"## Let your <span style=\"color:#ff8a5c\">imagination<\/span> go wild \n\nIn this phase of the process, is time to let your imagination go wild. We'll analyse the data we have at our hands, and it's now that ideas pop up, don't be afraid to let your ideas run like crazy, keep track of them in a notebook, this is good to check if your first hypothesis were right or they were completely nuts (that's fine by the way). \n\n<img width=\"600px;\" src=\"https:\/\/marketingland.com\/wp-content\/ml-loads\/2015\/11\/idea_1920-800x600.jpg\" stlye=\"center:block;margin-left:auto;margin-right:auto;width:50%\" alt=\"Storytelling\" class=\"center\">\n\n\nWith that in mind, let's look if we have gold at our hands.","0b636f57":"## Going from ideas to action\n\nNow is where the rubber meets the road. How do we go from our idea to action? We need to go from something like this, with over 300 questions.\n\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">2018 Kaggle Machine Learning and Data Science Survey<\/th>\n      <th scope=\"col\">Q1<\/th>\n      <th scope=\"col\">Q2<\/th>\n      <th scope=\"col\">Q3<\/th>\n      <th scope=\"col\">Q4<\/th>\n      <th scope=\"col\">...<\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr>\n      <th scope=\"row\">0<\/th>\n      <td>Question 1<\/td>\n      <td>Question 2<\/td>\n      <td>Question 3<\/td>\n      <td>Question 4<\/td>\n      <td>...<\/td>\n    <\/tr>\n    <tr>\n      <th scope=\"row\">1<\/th>\n      <td>Answer 1<\/td>\n      <td>Answer 2<\/td>\n      <td>Answer 3<\/td>\n      <td>Answer 4<\/td>\n      <td>...<\/td>\n    <\/tr>\n    <tr>\n      <th scope=\"row\">...<\/th>\n      <td>...<\/td>\n      <td>...<\/td>\n      <td>...<\/td>\n      <td>...<\/td>\n      <td>...<\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n\nto something like this \n\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">Index<\/th>\n      <th scope=\"col\">Country<\/th>\n      <th scope=\"col\">Top Voted Course<\/th>\n      <th scope=\"col\">How many votes<\/th>\n    <\/tr>\n  <\/thead>\n  <tbody>\n    <tr>\n      <th scope=\"row\">0<\/th>\n      <td>Argentina<\/td>\n      <td>Coursera<\/td>\n      <td>27<\/td>\n    <\/tr>\n    <tr>\n      <th scope=\"row\">1<\/th>\n      <td>United Kingdom<\/td>\n      <td>Udemy<\/td>\n      <td>46<\/td>\n    <\/tr>\n    <tr>\n      <th scope=\"row\">...<\/th>\n      <td>...<\/td>\n      <td>...<\/td>\n      <td>...<\/td>\n    <\/tr>\n  <\/tbody>\n<\/table>\n\n\nHow could we go about solving this problem?\n\n#### Finding <span style=\"color:##ff8a5c\">where<\/span> the data lives\n\nFirst thing for sure, we need to find where this piece of information is located in this dataset, as you can see, there's almost 400 columns to look out for","888b3107":"What we are searching for is located as \"Q3\" (In which country do you currently reside?) and in the \"Q37\" (On which online platform have you spent the mo...), as I said before, you can explore the dataset to search for ideas.","51451147":"Just as an example, if we wanted the least voted platform, we could use \"first\" instead of last","33118596":"Q3 and Q37 are not human readable names, before moving on, let's name the columns of our dataframe","f8dea753":"<a class=\"anchor\" id=\"what-about-now\"><\/a>\n## And now, what happens?\n\nWe just look at two columns from the db, you have about 400 columns to explore. Other think you could do as well is to check out how this data related to other years. Kaggle also posted a survey from [2017](https:\/\/www.kaggle.com\/surveys\/2017), how this data is related to the data from 2017? This can be an interesting practice for you\n\n<a class=\"anchor\" id=\"references\"><\/a>","7f13a784":"## What's this is all about \nThis dataset is an industry-wide survey that presents a comprehensive view of the state of data science and machine learning. The survey was live for one week in October, and after cleaning the data we finished with 23,859 responses, a 49% increase over last year!\n\nThere's a lot to explore here. The results include raw numbers about who is working with data, what\u2019s happening with machine learning in different industries, and the best ways for new data scientists to break into the field. We've published the data in as raw a format as possible without compromising anonymization, which makes it an unusual example of a survey dataset. ","dc6f72eb":"### References\n\nI've used the geoplot function from [SRK](https:\/\/www.kaggle.com\/sudalairajkumar\/where-do-people-learn-ml-ds), if you don't have an idea on how to continue exploring the dataset, have a look at his kernel, it's a very comprehensive and fun Kernel from one of the best Kagglers out there! ","f8e974ea":"But we want the highest voted platform, so we will drop everything but the last record for each country","d62d6b82":"Now every record of the dataframe related to coursera is 0, as we don't want to know the actual number, but to check out what's the most voted course for every country visually","2542bc5c":"If we sort the values, we can drop all duplicate countries and keep the highest voted platform","5a70d0ed":"### So, what <span style=\"color:#ff8a5c\">ideas<\/span> do you have in mind? \n\nHave you stopped to look at the questions? What ideas popped through your minds?\n\nThis is a pretty huge dataset, to give you all an idea about just one specific problem that is simple and fun to have a look. What do people use around the world to learn Machine Learning? Could we answers that question with the data we have at our hands? <span style=\"color:#50b6bb\"><b>Properly<\/b><\/span> not, but why you may ask, we have the country information and the courses that people usually use, how could that we cannot <span style=\"color:#50b6bb\"><b>properly<\/b><\/span> answer that question? The thing is, we have just a small sample, we cannot assume our data represents the entire world. But we could change our question to:\n\n<q>What do Kagglers around the world use to learn Machine Learing?<\/q>\n\nEven we don't have the votes for all the people that use Kaggle, we could assume that this sample makes a very good approximation if we would to take all the votes into consideration\n\n<a class=\"anchor\" id=\"data-manipulation\"><\/a>","107dbc08":"## Storytelling\n\n<img width=\"600px;\" src=\"http:\/\/innovationinsider.com.br\/wp-content\/uploads\/2016\/03\/story.jpg\" stlye=\"center:block;margin-left:auto;margin-right:auto;width:50%\" alt=\"Storytelling\" class=\"center\">\n\nThe challenge objective: Tell a data story about a subset of the data science community represented in this survey, through a combination of both narrative text and data exploration. A \u201cstory\u201d could be defined any number of ways, and that\u2019s deliberate. The challenge is to deeply explore (through data) the impact, priorities, or concerns of a specific group of data science and machine learning practitioners. That group can be defined in the macro (for example: anyone who does most of their coding in Python) or the micro (for example: female data science students studying machine learning in masters programs). This is an opportunity to be creative and tell the story of a community you identify with or are passionate about! [From the competition description](https:\/\/www.kaggle.com\/kaggle\/kaggle-survey-2018)\n\n<a class=\"anchor\" id=\"data-understanding\"><\/a>","1a50e4cb":"This is looking way better than the ~ 400 columns that we had at the start, but we still have some work to do, we need just the top voted for each country. You can see that we don't seem to have our normal looking dataframe, we can use the reset_index function of pandas so that we can have standard rows and columns, this comes with a caveat, the name of the countries will be replicated, but no need to worry, we'll drop the least voted ones sooner than later","4efc75c7":"The plot is interactive, feel free to rotate and explore the world to see the top voted platform in each one. One thing we could know is the most voted platform in the entire world, is not really all that clear in the map how this platform, what we can do is to encode the platforms, in this way we will have the same color for a specific country, so just turning the world around we'll be able to check out what's the popular in a general view  ","56637e60":"<a class=\"anchor\" id=\"data-viz\"><\/a>\nIt looks like we have all the data we need to go to the next part of the process \n\n## Seeing is believing","12e9cf0e":"## Notebook Navigation\n1. [What's this is all about](#intro)\n2. [Understanding the data](#data-understanding) \n3. [Let your imagination go wild](#ideas)\n4. [Going from idea to action](#data-manipulation)\n5. [Seeing is believing](#data-viz)\n6. [And now, what happens?](#what-about-now)\n7. [References](#references)\n\n<a class=\"anchor\" id=\"intro\"><\/a>"}}