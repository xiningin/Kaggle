{"cell_type":{"e48f3286":"code","a0016fb8":"code","d638224a":"code","94147477":"code","0b46bb05":"code","9cdeeea8":"code","5aef780e":"code","84b237c5":"code","ce11800c":"code","b8cfccc0":"code","b226b14e":"code","2a16bee3":"code","91cdb09c":"code","b9483d39":"code","a7f85b74":"code","61f1763c":"code","e0ff6e88":"code","1719d418":"code","9e39831f":"code","47478cbf":"code","07a8bc87":"code","2bdc7aa9":"code","7b747788":"code","f1618f15":"code","530ba027":"code","6e56e6fb":"code","11183f55":"code","41cd04f0":"code","51746d17":"code","9cafecb8":"code","4a2a7120":"code","71575e5e":"code","7a80d963":"code","b38993ec":"code","146e3718":"code","67708f57":"code","0ede6723":"code","f1775272":"code","15b12b01":"code","6b79b33f":"code","7e44042a":"code","b7543942":"code","b19b7900":"code","cef2ca74":"code","dac55d0e":"code","c9cde296":"code","8c134a18":"code","01d51791":"code","53fdd593":"code","0895a989":"code","8c2e4ee2":"code","6d62df85":"code","4660c21d":"markdown","7fa40313":"markdown","4f40412d":"markdown","9586c96a":"markdown","8fe4c532":"markdown","91d9932a":"markdown","17bd4850":"markdown","75776746":"markdown","a6fa185e":"markdown","37933646":"markdown","591a7abf":"markdown","1aa91789":"markdown","009b2b8a":"markdown","0107840a":"markdown","31e8769a":"markdown","8518dc98":"markdown","00d510e1":"markdown","be253659":"markdown","f07542cf":"markdown","f3b48463":"markdown","18e92fe2":"markdown","e66aead2":"markdown","95171e2f":"markdown","593734cc":"markdown","945aaa04":"markdown","072e24e8":"markdown","9714fcaf":"markdown","52b8116a":"markdown","e2d3a15b":"markdown","79801a10":"markdown"},"source":{"e48f3286":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb","a0016fb8":"Data = pd.read_csv('..\/input\/noshowappointments\/KaggleV2-May-2016.csv')\nData['No-show'] = Data['No-show'].map({'Yes':1,'No':0})\nData","d638224a":"#Data wrangling\npd.set_option('display.max_columns', None)\nData.describe()","94147477":"Data.nunique()","0b46bb05":"total_calls_per_patient = Data.PatientId.value_counts(sort=False)\ntotal_calls_per_patient","9cdeeea8":"no_show_per_patient = Data.groupby(\"PatientId\",sort=False)['No-show'].sum()\nno_show_per_patient","5aef780e":"patient_credibility = pd.DataFrame(total_calls_per_patient)\npatient_credibility = patient_credibility.rename(columns={'PatientId':'total_calls_per_patient'})","84b237c5":"patient_credibility['no_show_per_patient']=no_show_per_patient\npatient_credibility['patient credibility percentage']=(total_calls_per_patient-no_show_per_patient)\/total_calls_per_patient","ce11800c":"patient_credibility.describe()","b8cfccc0":"sb.distplot(patient_credibility['patient credibility percentage'])","b226b14e":"#supposing that if a person called more than twice and did not show is trustless\n#so we can remove them as outliers while making predictions (according to business view)\ntrustless_patients = ((patient_credibility['total_calls_per_patient'] > 2 ) & \n                      (patient_credibility['patient credibility percentage'] == 0 ))\npatient_credibility['trustless_patients']=trustless_patients\nsum(patient_credibility['trustless_patients']) #191 out of 62299 patients","2a16bee3":"#Cleaning\n#Exploring age\nprint(sum(Data.Age <0)) \nprint(sum(Data.Age >90)) \nprint(sum(Data.Age >100)) ","91cdb09c":"#dropping negative age values\nData[Data.Age < 0 ].index\nData = Data.drop(index= 99832 )","b9483d39":"# handcap must be boolean .. so we will drop other values \nData.Handcap = [int(x) for x in Data.Handcap]\nsum(Data.Handcap >1) # 199 patients\nindices = Data[Data.Handcap >1].index #indices for patients with handcap values > 1\nData = Data.drop(index=indices)\nData","a7f85b74":"sb.countplot(Data['No-show'])\nprint(\"Attendance percentage = {0:0.2f}% \".format(len(Data[Data['No-show']==0])  \/ (Data.shape[0]) *100))\nprint(\"Absence percentage = {0:0.2f}% \".format(len(Data[Data['No-show']==1])  \/ (Data.shape[0]) *100))","61f1763c":"#correlation between features\nsb.heatmap(Data.corr(),annot=True,linewidths=1,fmt='0.2f')","e0ff6e88":"sb.countplot(x=Data['SMS_received'],hue=Data['No-show'])\n\nSMS_received_attendance_percentage = len(Data[(Data['SMS_received']== 1 ) & (Data['No-show']==0)]) \/ len(Data[Data['SMS_received'] == 1])*100\nprint('SMS received attendance percentage = {0:0.2f} %'.format(SMS_received_attendance_percentage))\n\nNo_SMS_received_attendance_percentage =len(Data[(Data['SMS_received']== 0 ) & (Data['No-show']==0)]) \/ len(Data[Data['SMS_received'] == 0])*100\nprint('No SMS received attendance percentage = {0:0.2f} %'.format(No_SMS_received_attendance_percentage))","1719d418":"sb.countplot(x=Data['Handcap'],hue=Data['No-show'])\n\nHandcap_attendance_percentage = len(Data[(Data['Handcap']== 1 ) & (Data['No-show']==0)]) \/ len(Data[Data['Handcap'] == 1])*100\nprint('Handcap attendance percentage = {0:0.2f} %'.format(Handcap_attendance_percentage))\n\nNo_Handcap_attendance_percentage =len(Data[(Data['Handcap']== 0 ) & (Data['No-show']==0)]) \/ len(Data[Data['Handcap'] == 0])*100\nprint('No Handcap attendance percentage = {0:0.2f} %'.format(No_Handcap_attendance_percentage))","9e39831f":"sb.countplot(x=Data['Alcoholism'],hue=Data['No-show'])\n\nAlcoholism_attendance_percentage = len(Data[(Data['Alcoholism']== 1 ) & (Data['No-show']==0)]) \/ len(Data[Data['Alcoholism'] == 1])*100\nprint('Alcoholism attendance percentage = {0:0.2f} %'.format(Alcoholism_attendance_percentage))\n\nNo_Alcoholism_attendance_percentage =len(Data[(Data['Alcoholism']== 0 ) & (Data['No-show']==0)]) \/ len(Data[Data['Alcoholism'] == 0])*100\nprint('No Alcoholism attendance percentage = {0:0.2f} %'.format(No_Alcoholism_attendance_percentage))","47478cbf":"sb.countplot(x=Data['Diabetes'],hue=Data['No-show'])\n\nDiabetes_attendance_percentage = len(Data[(Data['Diabetes']== 1 ) & (Data['No-show']==0)]) \/ len(Data[Data['Diabetes'] == 1])*100\nprint('Diabetes attendance percentage = {0:0.2f} %'.format(Diabetes_attendance_percentage))\n\nNo_Diabetes_attendance_percentage =len(Data[(Data['Diabetes']== 0 ) & (Data['No-show']==0)]) \/ len(Data[Data['Diabetes'] == 0])*100\nprint('No Diabetes attendance percentage = {0:0.2f} %'.format(No_Diabetes_attendance_percentage))","07a8bc87":"sb.countplot(x=Data['Scholarship'],hue=Data['No-show'])\n\nScholarship_attendance_percentage = len(Data[(Data['Scholarship']== 1 ) & (Data['No-show']==0)]) \/ len(Data[Data['Scholarship'] == 1])*100\nprint('Scholarship attendance percentage = {0:0.2f} %'.format(Diabetes_attendance_percentage))\n\nNo_Scholarship_attendance_percentage =len(Data[(Data['Scholarship']== 0 ) & (Data['No-show']==0)]) \/ len(Data[Data['Scholarship'] == 0])*100\nprint('No Scholarship attendance percentage = {0:0.2f} %'.format(Scholarship_attendance_percentage))","2bdc7aa9":"sb.countplot(x=Data['Hipertension'],hue=Data['No-show'])\n\nHipertension_attendance_percentage = len(Data[(Data['Hipertension']== 1 ) & (Data['No-show']==0)]) \/ len(Data[Data['Hipertension'] == 1])*100\nprint('Hipertension attendance percentage = {0:0.2f} %'.format(Diabetes_attendance_percentage))\n\nNo_Hipertension_attendance_percentage =len(Data[(Data['Hipertension']== 0 ) & (Data['No-show']==0)]) \/ len(Data[Data['Hipertension'] == 0])*100\nprint('No Hipertension attendance percentage = {0:0.2f} %'.format(No_Hipertension_attendance_percentage))","7b747788":"sb.countplot(x=Data['Gender'],hue=Data['No-show'])\n\nmales_attendance_percentage = len(Data[(Data.Gender == 'M') & (Data['No-show']==0)]) \/ len(Data[Data.Gender == 'M'])*100\nprint('males attendance percentage = {0:0.2f} %'.format(males_attendance_percentage))\n\nfemales_attendance_percentage = len(Data[(Data.Gender == 'F') & (Data['No-show']==0)]) \/ len(Data[Data.Gender == 'F'])*100\nprint('femles attendance percentage = {0:0.2f} %'.format(females_attendance_percentage))","f1618f15":"# Exploring attendance for each neighbourhood\n#we have 81 neighbourhood so we couldn't show in a plot \n#but we will see what neighbourhoods have the highest and the lowesr percents of attendance \n\nNeighbourhoods_names = Data.Neighbourhood.unique()\nNeighbourhoods = []\nNeighbourhood_attendance_percentage = []\nfor i in Neighbourhoods_names:\n    Neighbourhood = str(i)\n    Neighbourhood_attendance_per = len(Data[(Data.Neighbourhood == str(i)) & (Data['No-show']==0)]) \/ len(Data[Data.Neighbourhood ==str(i)])*100\n    Neighbourhoods.append(Neighbourhood)\n    Neighbourhood_attendance_percentage.append(Neighbourhood_attendance_per)","530ba027":"Neighbourhoods_attendance_percentages = pd.DataFrame(data=Neighbourhoods_names,columns=['Neighbourhood']) \nNeighbourhoods_attendance_percentages['Percentage']= np.array(Neighbourhood_attendance_percentage).round()\nNeighbourhoods_attendance_percentages = Neighbourhoods_attendance_percentages.sort_values(by='Percentage',)\nNeighbourhoods_attendance_percentages['Percentage'].describe(include='all')","6e56e6fb":"sb.distplot(Neighbourhoods_attendance_percentages['Percentage'])","11183f55":"#checking neighbourhoods attendance percentages away from the mean (outliers)\nNeighbourhoods_attendance_percentages[Neighbourhoods_attendance_percentages['Percentage'] > 90]","41cd04f0":"print(len(Data[(Data.Neighbourhood =='ILHA DO BOI' ) & (Data['No-show']==0)]))\nprint(len(Data[Data.Neighbourhood =='ILHA DO BOI'])) # 32 out of 35 attended the appointment","51746d17":"print(len(Data[(Data.Neighbourhood =='PARQUE INDUSTRIAL' ) & (Data['No-show']==0)]))\nprint(len(Data[Data.Neighbourhood =='PARQUE INDUSTRIAL'])) \n# there is only one patient from this neighbourhood","9cafecb8":"print(Neighbourhoods_attendance_percentages[Neighbourhoods_attendance_percentages['Percentage'] < 10])\nprint(len(Data[(Data.Neighbourhood =='ILHAS OCE\u00c2NICAS DE TRINDADE' ) & (Data['No-show']==0)]))\n# there is no patients in this neighbourhood","4a2a7120":"#Exploring Age\nsb.boxplot(Data['No-show'],Data['Age'])","71575e5e":"# comparing the age distributions for both No-show and show\nsb.distplot(Data['Age'][Data['No-show'] == 0],bins=20,color='yellow') \nsb.distplot(Data['Age'][Data['No-show'] == 1],bins=20)\nplt.legend({'No-show = 1','No-show = 0'})\nplt.title('Comparing age distributions for show & No-show')","7a80d963":"## EXploring time effect on No-show\n## converting time\nimport datetime as dt\nData['ScheduledDay'] = pd.to_datetime(Data['ScheduledDay']).dt.date.astype('datetime64[ns]')\nData['AppointmentDay'] = pd.to_datetime(Data['AppointmentDay']).dt.date.astype('datetime64[ns]')\nData['ScheduledDay']","b38993ec":"# dividing dates to days, months and years\nScheduledDays = [ x.day for x in Data['ScheduledDay'] ]\nScheduledDays_of_week = [ x.weekday() for x in Data['ScheduledDay'] ]\nScheduledMonths = [ x.month for x in Data['ScheduledDay'] ]\n\nAppointmentDays = [ x.day for x in Data['AppointmentDay'] ]\nAppointmentDays_of_week = [ x.weekday() for x in Data['AppointmentDay'] ]\nAppointmentMonths = [ x.month for x in Data['AppointmentDay'] ]\n\nScheduledDays_of_week[:20]","146e3718":"#creating a detailed date datafrmae\ndate_series = {'ScheduledDays':ScheduledDays,\n               'ScheduledDays_of_week':ScheduledDays_of_week,\n               'ScheduledMonths':ScheduledMonths,\n               'AppointmentDays':AppointmentDays,\n               'AppointmentDays_of_week':AppointmentDays_of_week,\n               'AppointmentMonths':AppointmentMonths,\n                   }\ndates_indetail = pd.DataFrame(date_series)\ndates_indetail['No-show'] = Data['No-show']\ndates_indetail[:5]","67708f57":"dates_indetail.describe(include='all')","0ede6723":"#exploring days of month\nsb.distplot(ScheduledDays,bins=15,color='yellow')\nsb.distplot(AppointmentDays,bins=15,color='darkgray')\nplt.legend({'AppointmentDays of month','ScheduledDays of month'})\nplt.title('Days of month')","f1775272":"# exploring days of week\nsb.countplot(dates_indetail['AppointmentDays_of_week'],\n             hue = dates_indetail['No-show'])","15b12b01":"# exploring days of week attendance percents\ndays = []\neach_day_attendance_percent = []\nfor i in dates_indetail['AppointmentDays_of_week'].unique():\n    percentage = len(dates_indetail[(dates_indetail['AppointmentDays_of_week'] == int(i)) & (dates_indetail['No-show'] == 0 )]) \/ len(dates_indetail[dates_indetail['AppointmentDays_of_week'] == int(i)])*100\n    days.append(i)\n    each_day_attendance_percent.append(percentage)\n    \nprint('days of week ',days)\nprint('attendance percent for each day' , [round(x) for x in each_day_attendance_percent ])","6b79b33f":"sb.countplot(dates_indetail['AppointmentMonths'],\n             hue = dates_indetail['No-show'])\n#seems that May was full of patients","7e44042a":"No_show_0 = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\nNo_show_1 = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\nsb.set_style(\"whitegrid\")\nfig, ax = plt.subplots(3, 2,figsize=(10,15),sharey=True,constrained_layout = True)\n\nsb.countplot( x= Data['Handcap'][Data['No-show'] == 0 ] , hue=Data['SMS_received'] , ax=ax[0,0],palette= No_show_0 )\nsb.countplot( x= Data['Handcap'][Data['No-show'] == 1 ] , hue=Data['SMS_received'] , ax=ax[0,0],palette=No_show_1 )\n\nsb.countplot( x= Data['Alcoholism'][Data['No-show'] == 0 ] , hue=Data['SMS_received'] , ax=ax[0,1],palette= No_show_0 )\nsb.countplot( x= Data['Alcoholism'][Data['No-show'] == 1 ] , hue=Data['SMS_received'] , ax=ax[0,1],palette=No_show_1 )\n\nsb.countplot( x= Data['Diabetes'][Data['No-show'] == 0 ] , hue=Data['SMS_received'] , ax=ax[1,0] ,palette= No_show_0)\nsb.countplot( x= Data['Diabetes'][Data['No-show'] == 1 ] , hue=Data['SMS_received'] , ax=ax[1,0] ,palette=No_show_1)\n\nsb.countplot( x= Data['Hipertension'][Data['No-show'] == 0 ] , hue=Data['SMS_received'] , ax=ax[1,1]  ,palette= No_show_0)\nsb.countplot( x= Data['Hipertension'][Data['No-show'] == 1 ] , hue=Data['SMS_received'] , ax=ax[1,1] ,palette=No_show_1)\n\nsb.countplot( x= Data['Scholarship'][Data['No-show'] == 0 ] , hue=Data['SMS_received'] , ax=ax[2,0] ,palette= No_show_0 )\nsb.countplot( x= Data['Scholarship'][Data['No-show'] == 1 ] , hue=Data['SMS_received'] , ax=ax[2,0],palette=No_show_1 )\n\nsb.countplot( x= Data['Gender'][Data['No-show'] == 0 ] , hue=Data['SMS_received'] , ax=ax[2,1] ,palette= No_show_0 )\nsb.countplot( x= Data['Gender'][Data['No-show'] == 1 ] , hue=Data['SMS_received'] , ax=ax[2,1],palette=No_show_1 )","b7543942":"sb.violinplot(Data['No-show'],Data['Age'],hue=Data['SMS_received'])","b19b7900":"# checking sending SMS by Neighbourhood\ndata_1 = Data.groupby('Neighbourhood')['No-show','SMS_received'].sum().sort_values(by='Neighbourhood')\ndata_1['number of patient \/ neighbourhood'] = Data['Neighbourhood'].value_counts().sort_index()\ndata_1['SMS_received attendance percent \/ neighbourhood'] = 100* data_1['SMS_received']\/(data_1['number of patient \/ neighbourhood'] - data_1['No-show'] )","cef2ca74":"data_1['SMS_received attendance percent \/ neighbourhood'].describe()","dac55d0e":"sb.distplot(data_1['SMS_received attendance percent \/ neighbourhood'])","c9cde296":"data_1[data_1['SMS_received attendance percent \/ neighbourhood'] > 42].index #41 neighbourhoods\ndata_1[data_1['SMS_received attendance percent \/ neighbourhood'] > 60].index # the most important one ","8c134a18":"No_show_0 = {0: \"black\", 1 : \"black\"}\nNo_show_1 = {0: \"gold\", 1 : \"gold\"}\n# gold color will be for No-show = 1 , the black for NO-show = 0\nsb.set_style(\"whitegrid\")\nfig , ax = plt.subplots(3,2,figsize=(15,15),constrained_layout=True)\n\nsb.violinplot(Data['Handcap'][Data['No-show'] == 0],Data['Age'], ax=ax[0,0],gridsize=10,palette=No_show_0)\nsb.violinplot(Data['Handcap'][Data['No-show'] == 1],Data['Age'], ax=ax[0,0],gridsize=10,palette=No_show_1)\n\nsb.violinplot(Data['Alcoholism'][Data['No-show'] == 0],Data['Age'], ax=ax[0,1],palette=No_show_0)\nsb.violinplot(Data['Alcoholism'][Data['No-show'] == 1],Data['Age'], ax=ax[0,1],palette=No_show_1)\n\nsb.violinplot(Data['Diabetes'][Data['No-show'] == 0],Data['Age'], ax=ax[1,0],palette=No_show_0)\nsb.violinplot(Data['Diabetes'][Data['No-show'] == 1],Data['Age'], ax=ax[1,0],palette=No_show_1)\n\nsb.violinplot(Data['Hipertension'][Data['No-show'] == 0],Data['Age'], ax=ax[1,1],palette=No_show_0)\nsb.violinplot(Data['Hipertension'][Data['No-show'] == 1],Data['Age'], ax=ax[1,1],palette=No_show_1)\n\nsb.violinplot(Data['Gender'][Data['No-show'] == 0],Data['Age'], ax=ax[2,1],palette={'F': \"black\", 'M' : \"black\"})\nsb.violinplot(Data['Gender'][Data['No-show'] == 1],Data['Age'], ax=ax[2,1],palette={'F': \"gold\", 'M' : \"gold\"})\n\nsb.violinplot(Data['Scholarship'][Data['No-show'] == 0],Data['Age'], ax=ax[2,0],palette=No_show_0)\nsb.violinplot(Data['Scholarship'][Data['No-show'] == 1],Data['Age'], ax=ax[2,0],palette=No_show_1)\n\nfor x in fig.axes:\n    for violin, alpha in zip(x.collections[::2], [0.3,0.3,0.3,0.3]):\n        violin.set_alpha(alpha)","01d51791":"#hipertension & diabetes\nmy_pal = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\n\n\nsb.countplot( x= Data['Hipertension'][Data['No-show'] == 0 ] , hue=Data['Diabetes'] ,palette= my_pal )\nsb.countplot( x= Data['Hipertension'][Data['No-show'] == 1 ] , hue=Data['Diabetes'] , palette=my_pal )\n","53fdd593":"#alcoholism & handcap\nmy_pal = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\n\n\nsb.countplot( x= Data['Alcoholism'][Data['No-show'] == 0 ] , hue=Data['Handcap'] ,palette= my_pal )\nsb.countplot( x= Data['Alcoholism'][Data['No-show'] == 1 ] , hue=Data['Handcap'] , palette=my_pal )","0895a989":"#alcoholism & hipertension\nmy_pal = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\n\nsb.countplot( x= Data['Alcoholism'][Data['No-show'] == 0 ] , hue=Data['Hipertension'] ,palette= my_pal )\nsb.countplot( x= Data['Alcoholism'][Data['No-show'] == 1 ] , hue=Data['Hipertension'] , palette=my_pal )","8c2e4ee2":"#gender & handcap\nmy_pal = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\n\nsb.countplot( x= Data['Gender'][Data['No-show'] == 0 ] , hue=Data['Handcap'] ,palette= my_pal )\nsb.countplot( x= Data['Gender'][Data['No-show'] == 1 ] , hue=Data['Handcap'] , palette=my_pal )","6d62df85":"#gender & hipertension\nmy_pal = {0: \"darkgray\", 1 : \"yellow\",0: \"darkgray\", 1 : \"yellow\"}\n\nsb.countplot( x= Data['Gender'][Data['No-show'] == 0 ] , hue=Data['Hipertension'] ,palette= my_pal )\nsb.countplot( x= Data['Gender'][Data['No-show'] == 1 ] , hue=Data['Hipertension'] , palette=my_pal )","4660c21d":"we have a higher number of people who are alcoholists classified as No-show but \n seems that it doesn't affect No-show as the percents of attendance are equal","7fa40313":"so we have an average attendance of 79.5% per each neighbourhood but we have high standard deviation\nbecause we have some neighbour close to 100 percent ","4f40412d":"for both scheduled and appointment days of week , people like the first 3 days more","9586c96a":"altough number of female patients are almost twice the number of male patients but we have almost \n    equal percentage of attendance for both","8fe4c532":"# investigating patient's credability","91d9932a":"#### so we could trust neighbourhoods with attendance percents greater than 80% and the most trustful one will be ( ILHA DO BOI )","17bd4850":"# First impression & Data assesing\n- there are no missing values for any feature\n- for age : 1- average is 37 years\n             2- there is negative values and extreme values reach 115 years\n             3- 25% of patients are under 18 years\n                25% of patients are over 55 years\n- less than 25% of patients have a scholarship\n- less than 25% of patients have Hipertension\n- less than 25% of patients have Diabetes\n- less than 25% of patients are Alcoholists\n- less than 25% of patients have a Handcap , hancap should be 1 or 0 but it has a max value of 4\n- less than 25% of patients are No-show\n'''","75776746":" for people who have hipertension : ( for No-show = 1 ) 1:2 ratio between people who have and don't have diabetes ( for No-show = 0 ) 1:2 ratio between people who have and don't have diabetes seems that diabetes with hipertension together don't have an effective change for No-show values","a6fa185e":"### Multivariate Analysis for No-show & Age with respect to other features\n","37933646":"##### there are 5 values for handcap\n##### there are 104 different ages .. so we will have alot of extreme values\n##### we have a PatientsIds around 0.56 of AppointmentsIDs ..\n##### so around 2 calls \/ patient in average or we have some patients called to much .. we will investigate","591a7abf":"so the people who already received a SMS are almost divided equally between show and No-show but we have\na higher percentage of attendance for people who didn't receive a SMS\nwe may run a Matched pair design A\/B test to see how SMS affect no-show\n( [here](http:\/\/www.kaggle.com\/mohamedelbeih\/matched-pair-a-b-test-for-sms-received) is my notebook for a matched pair design A\/B test for SMSs )","1aa91789":"# Conclusions\n\n* so we have above 75% of patients (IDs) when they call for an appointment , they attend ( trustful IDs )\n* 191 out of 62299 patients\u2019 IDs are trustless as they called more than twice and didn\u2019t attend.\n* we have higher percentage of attendance for people who didn't receive a SMS , we may run a Matched pair design A\/B test to see how SMS precisely affect no-show.\n* we have a higher number of people who had a handcap classified as No-show = 0  but seems that handcap  doesn't affect the No-show (attendance). \n* Alcoholism , Diabetes , Scholarship , Hipertension and Gender each one of them (individually)  will not affect the no-show number.\n* we have an average 80% of attendance \/ Neighborhood , so w can trust patients from neighborhood with attendance percent equals that or more, ( ILHA DO BOI )  is the most trusted neighborhood.\n* from 5 years to 40 years more people will ignore their appointments this is a real fact as in this years everyone is more youth and powerful ...and at the first 5 years the patients attend ( the yellow curve shows higher density ) as thier parents care about them.\n* we could see that people calls more to schedule an appointment at the first and the end of months as we see the decrease after the first 5 days till it reachs the lowest possible @ the last 10 days of the month then it begins to increase @ the last days of month.\n* day of the week doesn't affect attendance rate\n* we need to send more SMSs to people between 45 and 65 years old.\n* we send a lot of useless SMSs so we should start to decrease it , and the best way is to decrease it by this features sequence ( Scolarships , hipertension , diabetes and finally gender ).\n* sending SMSs to people between 45 and 65 years old will increase the appointments attendance\n* we need to send more SMSs to ( neighborhood with respect to SMSs percent ) > 40 ( 41 neighbourhoods ) ( illustrated above ) ( the most important neighborhood to send SMSs is \u201c ILHA DO FRADE \u201c ).\n* patient who are greater than 90 years old if they had a handcap , most likely they will not attend the appointment \n* Alcoholists who are 60 years old or more , most likely they will attend the appointment.\n* patients with 50 years old or more who have diabetes , most likely the will not attend the appointment\n* patient between 43 and 60 years old who have hypertension , most likely will not attend the appointment\n* males with hipertension will attend the appointment more than females who have a hipertension\n\n### You can also check my notebook for a matched pair design A\/B test for SMSs [here](http:\/\/www.kaggle.com\/mohamedelbeih\/matched-pair-a-b-test-for-sms-received)","009b2b8a":"we have a higher number of people who had a handcap classified as No-show but \n seems that it doesn't affect No-show as the percents of attendance are almost equal","0107840a":"## EDA","31e8769a":"we have a higher number of people who have diabetes classified as No-show but \n seems that it doesn't affect No-show as the percents of attendance are almost equal","8518dc98":"so we could see that people calls more to schedule an appointment at the first and the end\n    of months as we see the decrease after the first 5 days till it reachs the lowest possible \n    @ the last 10 days of the month then it begins to increase @ the last days of month","00d510e1":"#### Multivariate Analysis for No-show & SMS_received with respect to other features","be253659":"we have a higher number of people who have Hipertension classified as No-show but \n seems that it doesn't affect No-show as the percents of attendance are almost equal","f07542cf":"we have a higher number of people who have scholarships classified as No-show but \n seems that it doesn't affect No-show as the percents of attendance are almost equal","f3b48463":"so we will focus on sending SMS to the highest neibourhood attendance percent ( above mean 40% )","18e92fe2":"we se almost equal percents so day of the week doesn't affect attendance rate","e66aead2":"this plot to investigate how sending a SMS to people with a positive value for a specific feature will affect the No-show values \nall the bars in the subplots represent the No-show value = 0 with respect to each feature and a hue = SMS_received\nthe white line in each bar represent the no-show value = 1 , so we can see the effect of each feature being positive & sending or not sending a SMS on the No-show values ( the right side of each subplot )\n* results :\n      - we will ignore the effect of Handcap & alcoholism because it seems that we did not send enough SMSs\n      - for hipertension = 1 : percent of people ( No-show = 1 ) that we send a SMS is more than the half\n                               that we did not send a SMS\n                               but the percent of people ( No-show = 0 ) that we send a SMS is almost equal\n                               to the half that we did not send a SMSso sending a SMS was for the favor for\n                               No-show = 1 , so we don't need to send alot of SMSs for people who have\n                               Hipertension ( it did not make an effective difference)\n      - for Diabetes = 1 : seems it is the same case of hipertension , so we don't need to send that much of\n                           SMSs\n      - for Scholarship = 1 : almost equal percents of people ( No-show = 1 ) that we send and did not send\n                              SMSs , but for ( No-show = 0) percent of people that received a SMSs is less\n                              the half of that we did not send , so sending SMSs to \n                              people who had scolarships with in the favor for No-show = 1 , and it is the \n                              most observable one so those people that we should send the lowest number of\n                              SMSs\n      - for Gender : for females a lot of them received SMSs but we have 1:2 percents ( No-show = 1 : no-\n                     show = 0 ), but we have 1:5 percents for who didn't receive\n                     for males : 1:2 percents for who received , 1:5 for who didn't receive it also seems\n                     that sending SMSs to males is more effective than females .. as the males percent\n                     between SMS received and not received ( No-show = 1 for both ) is lower than same\n                     percent for females\n                     \nConclusion : we send a lot of useless SMSs so we should start to decrease it , and the best way is to decrease it by this features sequence ( Scolarships , hipertension , diabetes and finally gender )","95171e2f":"#### so we have above 75% of patients (IDs) when they call for an appointment , they attend \n#### also we have patients with zero % of credibility , we hope that they called once and didn't attend if more than one time .. we will not be able to trust them .","593734cc":"* for males the hipertension to no hipertension ratios : ( no-show = 1 ) ratio = 1:6 , ( no-show = 0 ) ratio = 1:4 \n* for females the hipertension to no hipertension ratios : ( no-show = 1 ) ratio = 1:5 , ( no-show = 0 ) ratio = 1:4 \n* so males with hipertension will attend the appointment more than females who have a hipertension'''","945aaa04":"seems that from 5 years to 40 years more people will ignore their appointments as the graph show a higher freqencies @ the blue curve in this period .. this is real fact as in this years everyone be more youth and powerful ... and at the first 5 years the patients attend ( the yellow curve shows higher density ) as thier parents care about them ... same for people above 45 we see higher density at the yellow curve meaning that they are more careful about attendence and their health","072e24e8":"poor correlation with dependant variable but we see good correlation between \nage & hipertension , diabetes & hipertension and diabetes & age .. True medical fact ","9714fcaf":"seems that we almost don't have alcoholists with handcaps","52b8116a":"we can see how the plot become denser in the age between 45 and 65 when we send a SMS\n    notice that this is mostly due to sending SMS because we can see how slightly the vilion\n    become denser in the same range if we don't send a SMS","e2d3a15b":"# Multivariate Analysis\n","79801a10":"for each chart we see ( No-show = 0 & No-show =1 distribution with age ) \nfor both 0,1 values of the other features , difference between the overlapped violins @ left side should be the difference between violins @ right side if the x-axis feature has no effect\n( refering to this difference as relative density ) \n* comparison results :\n        - for Handcap : people above 90 years old have an increase relative density in No-show if they had a\n                        handcap ,people from 20 : 40 have an increase in relative density for No-show if\n                        they had no Handcap\n                        so handcaps did not prevent them from attending the appointment\n        - for alcoholism : there is an increase in relative density for No-show = 0 after 60 years for\n                        alcoholists \n        - for diabetes : above 50 years , increase in relative density  No-show =1 if they had diabetes , so\n                        diabetes prevent people above 50 years old from attending the appointment\n        - for hipertension : increase in realtive density for no_show = 0 & hipertension =0 for people\n                        between 43 and 60 years old , this means that people with age in this interval ,if\n                        they have hipertension they will not attend the appointment\n        - there is no observed difference for gender or scholarship with age on affecting the No-show   "}}