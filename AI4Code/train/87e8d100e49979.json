{"cell_type":{"2e8b48aa":"code","18b17a65":"code","7554a735":"code","671d6a57":"code","b29dd465":"code","4724138a":"code","fca86834":"code","e331d81e":"code","e59b9e79":"code","8563b8eb":"code","ac652ee9":"code","3807956c":"code","fc824ef6":"code","bdc6a8a6":"code","008c691f":"code","a6de6fa0":"code","be066ce3":"code","dd81121e":"code","1f6c9f64":"code","af314ab4":"code","d635ab29":"code","550cdf1f":"markdown","7d59c335":"markdown","5e439650":"markdown","78e0781f":"markdown","504e00e5":"markdown","28e1be12":"markdown","f4d7311a":"markdown","765a2447":"markdown","0d3bee50":"markdown","b180f778":"markdown","6056e237":"markdown","57607b9e":"markdown","8dd084b4":"markdown","ce0ce97a":"markdown","1a8a1c2e":"markdown"},"source":{"2e8b48aa":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","18b17a65":"test_= pd.read_csv('..\/input\/tabular-playground-series-jan-2022\/test.csv', index_col = 'row_id')\ntrain_ = pd.read_csv('..\/input\/tabular-playground-series-jan-2022\/train.csv', index_col = 'row_id')","7554a735":"display(train_.head())","671d6a57":"print(train_.info())\nprint('-'*50)\nprint('number of duplicates : {0}'.format(train_.duplicated().sum()))\nprint('-'*50)\nprint('total missing values :')\nprint(train_.isnull().sum())","b29dd465":"for i in ['country','store','product']:\n    val = train_[i].value_counts()\n    print(val)\n    print('-'*50)","4724138a":"train_['date'] = pd.to_datetime(train_['date'],format = '%Y-%m-%d', errors = 'raise')\nprint(train_.info())","fca86834":"sorted_ = train_.sort_values(by = 'date')\ndisplay(sorted_.head())","e331d81e":"stcountry_ = sorted_.groupby('country').resample('Y', on = 'date')['num_sold'].agg(['mean','median','min','max','sum'])\nprint(stcountry_)","e59b9e79":"ststore_ = sorted_.groupby('store').resample('Y', on = 'date')['num_sold'].agg(['mean','median','min','max','sum'])\nprint(ststore_)","8563b8eb":"stproduct_ = sorted_.groupby('product').resample('Y', on = 'date')['num_sold'].agg(['mean','median','min','max','sum'])\nprint(stproduct_)","ac652ee9":"grouped1 = sorted_.groupby('date')[['num_sold']].mean()\ndisplay(grouped1.head())","3807956c":"MAVG = grouped1.rolling(window = 100).mean()\ndisplay(MAVG.head())","fc824ef6":"plt.style.use('fivethirtyeight')\nfig, ax = plt.subplots(figsize = (17,8))\nax.plot(grouped1.index, grouped1.num_sold, label = 'Product Selling', color = 'black', alpha = 0.35)\nax.plot(MAVG.index, MAVG.num_sold, label = 'MAVG', color = 'red')\nax.set(xlabel = 'Days', ylabel = 'Units', title = 'Average Product Sales 2015-2018')\nax.legend(loc = 'upper left',fontsize = 'medium')\nplt.show()\n","bdc6a8a6":"finland_ = sorted_[sorted_['country'] == 'Finland'].groupby('date').mean()\nsweden_ = sorted_[sorted_['country'] == 'Sweden'].groupby('date').mean()\nnorway_ = sorted_[sorted_['country'] == 'Norway'].groupby('date').mean()\n\n#Plots\nplt.style.use('fivethirtyeight')\nfig, ax = plt.subplots(figsize = (15,6))\nax.plot(finland_.index, finland_.num_sold, label = 'Finland', color = 'red', alpha = 0.5)\nax.plot(sweden_.index, sweden_.num_sold, label = 'Sweden', color = 'blue', alpha = 0.5)\nax.plot(norway_.index, norway_.num_sold, label = 'Norway', color = 'green', alpha = 0.5)\nax.set(xlabel = 'Days', ylabel = 'Units', title = 'Average Product Selling by Country 2015-2018')\nax.legend(fontsize = 'medium', loc = 'upper left')\nplt.show()","008c691f":"KaggleMart_ = sorted_[sorted_['store'] == 'KaggleMart'].groupby('date').mean()\nKaggleRama_ = sorted_[sorted_['store'] == 'KaggleRama'].groupby('date').mean()\n\n#Plots\nplt.style.use('fivethirtyeight')\nfig, ax = plt.subplots(figsize = (15,6))\nax.plot(KaggleMart_.index, KaggleMart_.num_sold, label = 'Kaggle Mart', color = 'red', alpha = 0.5)\nax.plot(KaggleRama_.index, KaggleRama_.num_sold, label = 'Kaggle Rama', color = 'blue', alpha = 0.5)\nax.set(xlabel = 'Days', ylabel = 'Units', title = 'Average Product Sales by Store 2015-2018')\nax.legend(fontsize = 'medium', loc = 'upper left')\nplt.show()","a6de6fa0":"KaggleHat_ = sorted_[sorted_['product'] == 'Kaggle Hat'].groupby('date').mean()\nKaggleMug_ = sorted_[sorted_['product'] == 'Kaggle Mug'].groupby('date').mean()\nKaggleSticker_ = sorted_[sorted_['product'] == 'Kaggle Sticker'].groupby('date').mean()\n#Plots\nplt.style.use('fivethirtyeight')\nfig, ax = plt.subplots(figsize = (15,6))\nax.plot(KaggleHat_.index, KaggleHat_.num_sold, label = 'Kaggle Hat', color = 'red', alpha = 0.5)\nax.plot(KaggleMug_.index, KaggleMug_.num_sold, label = 'Kaggle Mug', color = 'blue', alpha = 0.5)\nax.plot(KaggleSticker_.index, KaggleSticker_.num_sold, label = 'Kaggle Sticker', color = 'green', alpha = 0.5)\nax.set(xlabel = 'Days', ylabel = 'Units', title = 'Average Product Sales by Product 2015-2018')\nax.legend(fontsize = 'medium', loc = 'upper left')\nplt.show()","be066ce3":"grouped2 = sorted_.groupby(['country','store','product']).resample('Y',on = 'date')['num_sold'].mean()\ndisplay(grouped2)","dd81121e":"DF_ = pd.DataFrame(grouped2).reset_index()\nDF_['year'] = DF_['date'].dt.year\ndisplay(DF_.head())","1f6c9f64":"sns.set_style('whitegrid')\ncp = sns.catplot(x = 'year', y ='num_sold', col = 'product', row = 'store', hue = 'country', data = DF_, kind = 'point',\n           height = 5, aspect = 1.25)\ncp.fig.subplots_adjust(top=0.9)\ncp.fig.suptitle('Average Product Sales by Years 2015-2018')\nplt.show()","af314ab4":"years_ = ['2015','2016','2017','2018']\nfig= plt.figure(figsize = (10,10))\nfor i in range(4):\n    val = sorted_[sorted_['date'].isin([years_[i]])].groupby('country')['num_sold'].sum()\n    ax = fig.add_subplot(2,2,i+1)\n    ax.pie(val.values, labels = val.index,autopct = '%0.2f%%')\n    ax.set_title(f'Propotion Product Selling by Country ({years_[i]})', fontdict = {'fontsize' : 10})\nplt.show()","d635ab29":"countries_ = ['Finland','Sweden', 'Norway']\nfig= plt.figure(figsize = (10,10))\nfor i in range(3):\n    val = sorted_[sorted_['date'].isin([years_[i]])].groupby('product')['num_sold'].sum()\n    ax = fig.add_subplot(2,2,i+1)\n    ax.pie(val.values, labels = val.index,autopct = '%0.2f%%')\n    ax.set_title(f'Propotion Product Sales by Product ({countries_[i]})', fontdict = {'fontsize' : 10})\nplt.show()","550cdf1f":"Display a brief of the data that we have","7d59c335":"First, we need the info of our data and check whether there are missing values and duplicates in our data. It seems there are no missing values and duplicates in our data, so we can proceed our analysis.","5e439650":"From the chart , we can see there's a positive trend over years and there's a pattern where the number of product sales tend to increase at the end of the year until few months later (mid year)","78e0781f":"From the chart , we can see there's a positive trend over years and there's a pattern where the number of product sales tend to increase at the end of the year until few months later (mid year). from the chart we can clearly see that Kaggel Hatis the most purchased product than the others.","504e00e5":"From data above, we can see that Norway dominates product sales by each years over other countries (finland and Sweden)","28e1be12":"From data above, Kaggle Rama has achieved more product sales than Kaggle Mart","f4d7311a":"At this part we want to know all the unique values in each of categorical variables ('Country','Store','Product'). country variables has 3 unique values that are ('Finland','Norway','Sweden'). Store variables has 2 that are ('KaggleMart','KaggleRama) .Product variables has 3 that are ('Kaggle Mug','Kaggle Hat','Kaggle Sticker')","765a2447":"Convert date into datetime type using pd.to_datetime()","0d3bee50":"From data above, Kaggle Hat is the most purchased product than the others over the years.","b180f778":"We can see Kaggle hat has the most propotion than other products each years based on the number purchased product.","6056e237":"From the chart , we can see there's a positive trend over years and there's a pattern where the number of product sales tend to increase at the end of the year until few months later (mid year). from the chart we can clearly see that norway has the higher product sales than the others.","57607b9e":"From the chart above, we can see the average product sales over the years based on many levels ('Country','Store','Product') more detailed","8dd084b4":"We can see Norway has the most propotion than other countries each years based on Product Sales ","ce0ce97a":"From the chart , we can see there's a positive trend over years and there's a pattern where the number of product sales tend to increase at the end of the year until few months later (mid year). from the chart we can clearly see that Kaggle rama has the higher product sales than Kaggle Mart.","1a8a1c2e":"## EDA AND BASIC DATA VISUALIZATION USING MATPLOTLIB & SEABORN\n\nSource : https:\/\/www.kaggle.com\/c\/tabular-playground-series-jan-2022\/overview"}}