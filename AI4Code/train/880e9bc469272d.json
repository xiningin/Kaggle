{"cell_type":{"4d77f9e8":"code","a6d427ea":"code","e1e16176":"code","dadeb588":"code","670d299f":"code","befe83b1":"code","0747bcee":"code","153b183a":"code","83efc5bd":"code","dabf7bcf":"code","f233e363":"code","ae3210a1":"code","fc4d9da5":"code","611bcb5a":"code","2b99ba33":"code","eb6777fc":"code","3c24e868":"code","7270ca70":"code","5d469fa5":"code","74a3d00f":"code","31e4246a":"code","40613e7a":"code","3449834b":"code","01979293":"code","a3ea3858":"code","ac32ff5a":"code","0ab2a755":"code","484b50ce":"code","98c3987a":"code","43a78802":"code","53f56ba5":"code","f1823499":"code","c9ca1a0d":"code","b40e6cf9":"code","ea077aec":"code","b0c41c49":"code","f74d4ce0":"code","6ec75604":"markdown","237cb304":"markdown","95c4c61e":"markdown","94eb4f77":"markdown","d6a76a3c":"markdown","918ffb92":"markdown","271a959d":"markdown","9aa6b297":"markdown","7b3a279f":"markdown","25447a84":"markdown","4b197812":"markdown","eb3f852b":"markdown","eeb56e79":"markdown","19025146":"markdown","7a862b2a":"markdown","d4e8f5e1":"markdown","0177186a":"markdown","74e82584":"markdown","5ffa4270":"markdown","7cabf525":"markdown","13cff5c1":"markdown","dccfa8e9":"markdown","870cd437":"markdown"},"source":{"4d77f9e8":"# Use this cell to set up import statements for all of the packages that you\n#   plan to use.\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n# % matplotlib inline\n\n# Remember to include a 'magic word' so that your visualizations are plotted\n#   inline with the notebook. See this page for more:\n#   http:\/\/ipython.readthedocs.io\/en\/stable\/interactive\/magics.html\n","a6d427ea":"# Load your data and print out a few lines. Perform operations to inspect data\n#   types and look for instances of missing or possibly errant data.\ndf= pd.read_csv('..\/input\/investigate-a-dataset-noshow-appointments\/KaggleV2-May-2016.csv')\ndf.head(1)","e1e16176":"df.info()","dadeb588":"dfc=df.copy()","670d299f":"#define: Column rename (quality issue)\nprint(dfc.columns)\n#code\nnew_headers=['PatientId', 'AppointmentID', 'Gender', 'ScheduledDay', 'AppointmentDay', 'Age', 'Neighbourhood', 'Scholarship', 'Hipertension', 'Diabetes', 'Alcoholism', 'Handcap', 'SMS_received', 'No_show']\ndfc.columns=new_headers\n#testing\ndfc.head(1)","befe83b1":"# Define: Changing type of dayes column to date.(quality issue)\n#code\ndfc['AppointmentDay'] = pd.to_datetime(df['AppointmentDay'])\ndfc['ScheduledDay'] = pd.to_datetime(df['ScheduledDay'])\n#testing\ndfc.info()","0747bcee":"dfc.head()","153b183a":"# Define: replacing Yes or No by True and False in no_show column.(quality issue, different representation)\ndfc.No_show.value_counts()\n\n#code\ndfc.loc[dfc.No_show=='Yes', 'No_show']=1\ndfc.loc[dfc.No_show=='No', 'No_show']=0\n#testing\ndfc.No_show.unique()\n","83efc5bd":"# Define: replacing age (zero) with Nan (quality issue)\n#code\ndfc.loc[dfc.Age==0, 'Age']=np.nan\n#test:\ndfc.Age.value_counts()","dabf7bcf":"#define: modifying other invalid data in age columns\ndfc.query('Age<0')\n#code\ndfc.Age=dfc.Age.replace(-1, np.nan)\n#test:\ndfc.query('Age<0')","f233e363":"#define: check for duplication:\n#code & test:\nsum(dfc.duplicated())","ae3210a1":"dfc.to_csv('data_cleaned.csv', index= False)","fc4d9da5":"dfclean= pd.read_csv('data_cleaned.csv', parse_dates=['AppointmentDay', 'ScheduledDay'])\ndfclean.head(1)","611bcb5a":"dfclean.info()","2b99ba33":"dfclean.describe()","eb6777fc":"dfclean.hist(figsize=(8,8));","3c24e868":"attended=dfclean.No_show==0\nabsent=dfclean.No_show==1","7270ca70":"dfclean.SMS_received[attended].mean()\n# 29% of attended people received SMS.","5d469fa5":"dfclean.SMS_received[absent].mean()\n# 43% of absent people received SMS","74a3d00f":"print(dfclean.SMS_received.mean()) \nprint('% of people received SMS')","31e4246a":"dfclean.groupby('SMS_received').No_show.mean()\n# .plot(kind='bar');\n","40613e7a":"# effect of SMS on attendance:\n# 16.7% of non-received people were absent\n# 27.6% of received people, were absent\n# it looks like there are more variables affect the attendance rather than SMS.","3449834b":"dfclean.groupby('Scholarship').No_show.mean().plot(kind='bar', title= 'Effect of having scholarship in absence');\nplt.xlabel('scholarship', fontsize=14)\nplt.ylabel('absence ratio', fontsize=14)\n\nprint(dfclean.groupby('Scholarship').No_show.mean())\n#ratio of absent people who have scholarship is higher than people who dont have the scholarship.","01979293":"dfclean.groupby('Handcap').No_show.mean().plot(kind='bar', title= 'Effect of having handcap in absence')\nprint(dfclean.groupby('Handcap').No_show.mean())\nplt.xlabel('number of handcaps', fontsize=14)\nplt.ylabel('absence ratio', fontsize=14)","a3ea3858":"\nprint('absence ratio for Handcap people: ',dfclean.query('Handcap>0').No_show.mean())\nprint('absence ratio for non-Handcap people: ', dfclean.query('Handcap==0').No_show.mean())\nprint('According to data, absence ratio of people who have one or more handcap is lower than absence ratio of people who have not.')\nprint('number of patients with handcap: ', dfclean.query('Handcap>0').count()[1])\nprint('number of patients without handcap: ', dfclean.query('Handcap==0').count()[1])\n","ac32ff5a":"#investigating number of peoples have handcaps.\nprint(dfclean.query('Handcap==1').count()[1])\nprint(dfclean.query('Handcap==2').count()[1])\nprint(dfclean.query('Handcap==3').count()[1])\nprint(dfclean.query('Handcap==4').count()[1])\nprint('By getting the amount of experimental data we tested for each')\nprint('I may say that, according to the law of large numbers, the ratio')\nprint('obtained from the higher tested numbers \"108286\", is more accurate.')\nprint('and if numbers of handcab people are equal to this, ratio may differ.')","0ab2a755":"dfclean.Age[attended].hist(alpha=0.5, label='attended');\ndfclean.Age[absent].hist(alpha=0.5, label = 'absent');\nplt.legend(title=\"Age frequency and their absence\", loc=1, fontsize='small', fancybox=False);\nplt.xlabel('Age', fontsize=12);\nplt.ylabel('absence ratio', fontsize=12);","484b50ce":"dfclean.Age.describe()","98c3987a":"dfclean.plot(kind='scatter', x='No_show', y='Age', title='Age and absence relational scatter plot');","43a78802":"dfclean.query('Age>102')","53f56ba5":"\ndfclean.Age=dfclean.Age.replace(115, np.nan)","f1823499":"# testing\ndfclean.query('Age>102')","c9ca1a0d":"edges= [dfclean.Age.describe()[3], dfclean.Age.describe()[4],dfclean.Age.describe()[5],dfclean.Age.describe()[6], dfclean.Age.describe()[7]]\nbinlabels= ['early_stage', 'medium_early', 'medium_late', 'late_stage'] \ndfclean['Age_stages']=pd.cut(dfclean['Age'], edges, labels=binlabels)\ndfclean.head()\ndfclean.groupby('Age_stages').No_show.mean().plot(kind='bar', title= 'Absence ratio distributed for different age stages', color='blue', alpha=0.7)\nplt.ylabel('average absence ratio');","b40e6cf9":"dfclean.groupby('Neighbourhood').No_show.mean().plot(kind='bar', title= 'Absence ratio for different neighbourhood', figsize=(10,10));\nplt.ylabel('absence ratio');","ea077aec":"dfc.Neighbourhood.unique()","b0c41c49":"# farther investigation for this Neighbourhood\ndfc.query('Neighbourhood==\"ILHAS OCE\u00c2NICAS DE TRINDADE\"')","f74d4ce0":"dfclean.Neighbourhood.value_counts()","6ec75604":"110.527 medical appointments its 14 associated variables (characteristics). The most important one if the patient show-up or no-show to the appointment (dependant variable). Variable names are self-explanatory. there are some questions that may appear as the following:","237cb304":"### Research Question 3 (Being a Handcap affect attendance?)","95c4c61e":"\n# Project: Investigate a Dataset (No show appointments)\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","94eb4f77":"## Assesment:","d6a76a3c":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n","918ffb92":"### Research Question 1 (Is the SMS_received affect attendance?)","271a959d":"The histograms show that the data distribution for age declines from about 70 years old,\npatients with non alcoholic, no-diabetes, no-handcap and no scholarship are much higher than the opposit.\nhypertension, SMS-received and absence takes place from about 25% to 33% of all data.","9aa6b297":"### Research Question 4 (How age affect attendance?)","7b3a279f":"<a id='wrangling'><\/a>\n## Data Wrangling","25447a84":"Just two patients, I think the related ratio then may be considered unreliable, so we get a conclusion that the neighbourhood doesnt affect.","4b197812":"The graph show the frequency of attendance and absence distruputed by age.","eb3f852b":"## Questions:","eeb56e79":"### Research Question 2 (Is the Scholarship affect attendance?)","19025146":"1- Is the SMS_received affect attendance?\n\n2- Is the Scholarship affect attendance?\n\n3- Being a Handcap affect attendance?\n\n4- How age of the patient affect attendance?\n\n5- How Neighbourhood affect attendance?","7a862b2a":"### Loading Data","d4e8f5e1":"The chart shows that about 20% of patients numbers of each neighbourhood were absent.\nexcept for 'ILHAS OCE\u00c2NICAS DE TRINDADE' Neighbourhood, all patients from were absent.","0177186a":"<a id='conclusions'><\/a>\n## Conclusions\n- I tried to find any relations between the variable (No_show) and other variables, considering it The most important element. Each answer include two variables. \n\n-The first is (Did the SMS_received affect attendance?). I found that patients who received SMS tend slightly to be absent, an explanation was added below in the limitations section.\n\n-The second was concerning about the relation between scholarship and attendance. I figured out that people with scholarships have higher absence ratio.\n\n-The third question view the relation between the attendance and having Handcap, data shows that people not having handcap have higher absence ratio. I noted then that this ratio may be unrelaiable.\n\n-The fourth investigation was answered by two ways, one is the frequency of ages for both attended and absent people and they seem alike. the other was by creating a correlation between age stages and absence ratio, where the graph reveal negative correlation between them.\n\n-The fifth comparison was between attendance and the Neighbourhood, we concluded that such variable does not affect the attendance.\n\nmore details were noted below each question.\n\n\n## Limitations:\n-\tI did descriptive statistics, I couldn\u2019t make many hypotheses from the available data. \n    One reason is that some variables have a very small numbers compared to its opposite, and since the accuracy increases with higher numbers, comparisons become unfair.\n    The second because that most variables are categorical (nominal or labeled data), so that the relations between variables may be harder to obtain.\n-\tSome missed information \u2013 if available-may help more, such as which people were received SMS, are these SMS were sent randomly? If that what happened then the result would not make sense, but if sent to patients whom the sender previously guessed of their absence by some how, the result would be reasonable.","74e82584":"The graph shows that the absence ratio increases for early and meduim_early stages eather than other stages.","5ffa4270":"\n\n### Data Cleaning","7cabf525":"There are outliers that must be removed","13cff5c1":"\n-Rename column (No-show)\n\n-Data type of scheduled day and appointment day.\n\n-No and yes in no-show columns.\n\n-(-1)and (0) in age column\n","dccfa8e9":"### Research Question 5 (How Neighbourhood affect attendance?)","870cd437":"<a id='intro'><\/a>\n## Introduction"}}