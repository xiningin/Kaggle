{"cell_type":{"bbf70d78":"code","91afa5d4":"code","cd52787d":"code","5dc551e1":"code","9d2bf325":"code","5f337e10":"code","54fb273e":"code","31ec223d":"code","5a9347fd":"code","52d43e8d":"code","436b7cc3":"code","6284f8e2":"code","34fb9d8f":"code","775c26a4":"code","57330bfe":"code","11df5876":"code","466b2659":"code","79413e09":"code","03f72e12":"code","4f8b5160":"code","14b61d83":"code","c41e1f45":"code","73e7fd4f":"code","6acdc662":"code","9832bf10":"code","2fb8decc":"markdown","935109ef":"markdown","50ae39ef":"markdown","e787b820":"markdown","9a0e0bcc":"markdown","1186ea22":"markdown","49e68dc7":"markdown","f22fa170":"markdown","b7b82b16":"markdown","ba50ca57":"markdown","321c9f58":"markdown","b0a82b23":"markdown","1c026a89":"markdown","703790b1":"markdown","7c48475f":"markdown","26d2032a":"markdown","85c01323":"markdown","87ffae9c":"markdown","06b1fd48":"markdown","d15c961d":"markdown","c8fe4e3b":"markdown","06fe7a05":"markdown","f3538fe0":"markdown","9bb53157":"markdown","20a09918":"markdown","dda164e0":"markdown","00c5ae17":"markdown","7942a7da":"markdown","60f1dade":"markdown","58ad3a48":"markdown","5b283d01":"markdown","e39632e3":"markdown","53037181":"markdown","05d8e3c6":"markdown","522b11c5":"markdown","83cab35f":"markdown","4c493fea":"markdown","c96c0563":"markdown","61d823d8":"markdown","0e971261":"markdown","89b9adb1":"markdown","b6a51356":"markdown","b0b447df":"markdown","3e75cdc9":"markdown","1cf28100":"markdown"},"source":{"bbf70d78":"'''import library'''\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # visualization\nimport plotly.express as px # create entire figure at once\nimport seaborn as sns #visualization\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","91afa5d4":"'''read dataset'''\n\ndf = pd.read_csv('..\/input\/marketing-data\/marketing_data.csv')\ndf.head()","cd52787d":"'''Knowing the rows and columns'''\ndf.shape","5dc551e1":"'''Knowing the specific information for each column'''\ndf.info()","9d2bf325":"'''Knowing the unique values for each column'''\ndf.nunique(axis=0)","5f337e10":"df.rename(columns={' Income ':'Income'}, inplace=True)\ndf.info()","54fb273e":"df['Income'] = df['Income'].astype(str).str.replace(\"$\", \"\").str.replace(',', '')\ndf['Income'] = df['Income'].astype(float)\ndf['Dt_Customer'] = pd.to_datetime(df['Dt_Customer'], format='%m\/%d\/%y')\ndf.head()","31ec223d":"df['Age'] = 2021-df['Year_Birth']\ndf['Marital_Situation'] = df['Marital_Status'].replace({'Divorced':'Alone', 'Single':'Alone', 'Married':'In Couple', 'Together':'In Couple', 'Widow':'Alone', 'YOLO':'Alone','Absurd':'Alone'})\ndf['Purchase'] = df['MntWines']+df['MntFruits']+df['MntMeatProducts']+df['MntFishProducts']+df['MntSweetProducts']+df['MntGoldProds']\ndf['Has_Child'] = np.where(df.Kidhome+df.Teenhome>0, 'Yes', 'No')\ndf.head()","5a9347fd":"data = df[['Education', 'Income', 'Age', 'Marital_Situation', 'Purchase', 'Has_Child', 'NumDealsPurchases', 'NumWebPurchases', 'NumCatalogPurchases',  'NumStorePurchases', 'NumWebVisitsMonth']]\ndata.head()","52d43e8d":"data.describe()","436b7cc3":"df = pd.DataFrame(data=data, columns=['Income', 'Age', 'Purchase'])\nhs = pd.melt(df, value_vars=df)\nhs1 = sns.FacetGrid(hs, col='variable', col_wrap=3, sharex=False, sharey=False)\nhs1 = hs1.map(sns.histplot, 'value')\nhs1","6284f8e2":"df = pd.DataFrame(data=data, columns=['Income', 'Age'])\nfig = px.box(df.melt(), y=\"value\", facet_col=\"variable\",facet_col_wrap=2, boxmode=\"overlay\", color=\"variable\",height=500, width=1000)\nfig.update_yaxes(matches=None)\n\nfor i in range(len(fig[\"data\"])):\n    yaxis_name = 'yaxis' if i == 0 else f'yaxis{i + 1}'\n    fig.layout[yaxis_name].showticklabels = True\n\nfig.update_layout(showlegend=False)\nfig.update_xaxes(showline=True, linewidth=2, linecolor='black')\nfig.update_yaxes(showline=True, linewidth=2, linecolor='black')\n\nfig.show()","34fb9d8f":"dataset = data.drop(data[data['Income']>600000].index).reset_index(drop=True)","775c26a4":"sns.boxplot(data=dataset['Income'])","57330bfe":"dataset = data.drop(data[data['Age']>100].index).reset_index(drop=True)","11df5876":"sns.boxplot(data=dataset['Age'])","466b2659":"dataset = dataset.dropna()\ndataset.isnull().sum()","79413e09":"dataset.shape","03f72e12":"plt.figure(figsize=(12,6))\nsns.heatmap(dataset.corr(), annot=True)","4f8b5160":"sns.countplot(dataset['Education'])","14b61d83":"vis = dataset[['Education', 'Income']]\ncategory_orders = {'Education':['Basic', '2n Cycle', 'Graduation', 'Master', 'PhD']}\nfig = px.histogram(vis, x='Education', y='Income', histfunc='avg', category_orders=category_orders)\nfig.show()","c41e1f45":"sns.catplot(x=\"Education\", y=\"Purchase\", order=['Basic', '2n Cycle', 'Graduation', 'Master', 'PhD'], data=dataset)","73e7fd4f":"sns.countplot(dataset['Marital_Situation'])","6acdc662":"sns.catplot(x=\"Has_Child\", y=\"Purchase\", order=['Yes', 'No'], data=dataset)","9832bf10":"vis = dataset[['NumDealsPurchases', 'NumWebPurchases', 'NumCatalogPurchases', 'NumStorePurchases']]\nvis_sum = vis.sum(numeric_only=True)\nvis_sort = vis_sum.sort_values(ascending=False)\nvis_sort.plot.bar()","2fb8decc":"**Insights:**\n* We have various customers in this store. There are customers with a yearly income of more than 600.000 dollars, but mostly they have less than 100.000 dollars. It means that the majority of our customers have a low yearly income and don't interest luxury customers.\n* As previously discussed, customer age data has a special case where there are customers over 100 years old, which is a rare situation. Nevertheless, the boxplot above shows that customers mostly have an age range of 25\u201380 years old.","935109ef":"### The total number of users by their education level","50ae39ef":"# Marketing Analysis using Kaggle Dataset\n\nHi, I'm Azifah Zusrina.\u00a0\nSo, in this notebook, I will try to analyze marketing datasets using Python. There are several steps to exploring the data to get the insights:\n1. Understanding dataset variables\n2. Grouping the data\n3. Handling outlier and missing values\n4. Data visualization with specific cases","e787b820":"**Insights:**\n\"Income\" has a high positive correlation with \"Purchase\", \"NumCatalogPurchases\" and \"NumStorePurchases\". It means customer with high yearly income purchase more frequently. They mostly make purchases through catalogs or come to the store. On the other hand, they don't do a lot of deals using discounts and don't often visit the web store. This can be seen from the correlation with \"NumDealsPurchase\" and \"NumWebVisitsMonth\" which have a negative value.","9a0e0bcc":"**Insight:** Based on the bar chart above, the best purchases are those that are made directly in stores, which was then followed by the web, catalog and deals purchases.","1186ea22":"### Histogram for numerical column","49e68dc7":"**Insight:** Our customers mostly have an education background with a graduation degree.","f22fa170":"**Insight:** Our customers are mostly already in couples.","b7b82b16":"**Insight:** Customers who do not have children have the highest total purchase than customers who do have children.","ba50ca57":"## Conclution","321c9f58":"Choose which columns to analyze further.","b0a82b23":"### Columns selection","1c026a89":"We will remove the outlier that is more than 100 years old.","703790b1":"#### Remove \"Age\" outliers","7c48475f":"To avoid problems in further analysis, we will drop the missing values. So now, we have 2213 rows data.","26d2032a":"### Does parental status affect the number of purchase?","85c01323":"### Statistical summary\nGet the information about statistical summary using decribe function.","87ffae9c":"### Average income by their education level ","06b1fd48":"#### Remove \"Income\" outliers","d15c961d":"**Insight:** It turns out that the level of education does not affect the number of purchases. The highest purchases were actually made by customers with graduate and master's education backgrounds.","c8fe4e3b":"The dataset contains 2240 rows and 28 columns","06fe7a05":"### Does the level of education also affect the number of purchases?","f3538fe0":"### Remove outlier","9bb53157":"### Customer marital situation","20a09918":"An outlier is an observation that lies at an abnormal distance from other values in a random sample from a population. From the boxplot chart above, we know that the \"Income\" and \"Age\" columns contain some outliers. To avoid problems in further analysis, we will drop the outliers.","dda164e0":"There seems to be a problem with 2 column datatypes, i.e., \"Income\" and \"Dt_Customer\" that have an object datatype. It needs to change the datatype from object to float for \"Income\" so it can be used for futher calculations and object to datetime for \"Dt_Customer\".","00c5ae17":"## 1. Understanding dataset variables\n\n### Import library","7942a7da":"### Read the dataset","60f1dade":"We will remove the extreme outlier that is more than 600.000 dollars.","58ad3a48":"## 3. Handling outlier and missing value","5b283d01":"Column \"ID\" contains 2240 unique values, and we know that the total rows in the dataset is 2240. It means that every row saves information from different users.","e39632e3":"### Correlation matrix\nPlot the correlation matrix to show the correlation coefficient between the variables. ","53037181":"### Handling missing values","05d8e3c6":"## 2. Grouping the data","522b11c5":"### Boxplot graphic for numerical column","83cab35f":"## 4. Data visualization with specific cases","4c493fea":"With the statistical summary and histogram above gives us insightful information about the data:\n* Based on statistical summary, the \"Income\" average is 52247.25 dollars while the median is 51381.50 dollars. The distribution is right skewed, it means that there are possible outliers.\n* The \"Age\" average is 52 years old, but the oldest customer is 128 years old. This is pretty rare thing.\n* The \"Purchase\" average is 605.80 dollars and the median is 396 dollars. Because this variable has different conditions for each user, the distribution of the data is likely to be more random, and that's not a problem.","c96c0563":"### Best purchases based on customers'","61d823d8":"### Change the data types \"Income\" and \"Dt_Customer\" columns","0e971261":"### Delete space in column \" Income\"","89b9adb1":"**Insight:** From chart above, we know that customers with higher education, have greater average income. \nIt is proven that the customer who has the highest average yearly income has an educational background as a Ph.D.","b6a51356":"### Understanding of the data","b0b447df":"From the information above, we know that column \"Income\" has a space before its name, so it will be renamed. Futhermore, it has 24 missing values.","3e75cdc9":"* \"Income\" has a high positive correlation with \"Purchase\", \"NumCatalogPurchases\" and \"NumStorePurchases\". It means customer with high yearly income purchase more frequently. They mostly make purchases through catalogs or come to the store. On the other hand, they don't do a lot of deals using discounts and don't often visit the web store. This can be seen from the correlation with \"NumDealsPurchase\" and \"NumWebVisitsMonth\" which have a negative value.\n* Our customers mostly have an education background with a graduation degree.\n* Customers with higher education, have greater average income. It is proven that the customer who has the highest average yearly income has an educational background as a Ph.D.\n* The level of education does not affect the number of purchases. The highest purchases were actually made by customers with graduate and master's education backgrounds.\n* Our customers are mostly already in couples.\n* Customers who do not have children have the highest total purchase than customers who do have children.\n* Based on the bar chart above, the best purchases are those that are made directly in stores, which was then followed by the web, catalog and deals purchases","1cf28100":"This step will make it easier for us to carry out analyses that require further data processing. The following is a list of columns that will be grouped:\n* The Year_Birth column will be calculated as Age\n* The Marital_Status columns will be grouped as Marital_Situation and will only have two options: Alone or In Couple.\n* The Kidhome and Teenhome columns will be calculated as Has_Child, which contains a binary variable that is either Yes or No."}}