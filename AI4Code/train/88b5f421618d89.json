{"cell_type":{"7a603c0c":"code","d1b73122":"code","1ccc9c74":"code","51b5115d":"code","34758945":"code","90f3582a":"code","4c4ba048":"code","e1b722bc":"code","333815db":"code","bd1b0f73":"code","57e44d0a":"code","e4312753":"markdown","ebb478c2":"markdown","138e6be1":"markdown"},"source":{"7a603c0c":"import pandas as pd\nimport numpy as np\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\n\nfrom sklearn.linear_model import LinearRegression,Lasso,Ridge,ElasticNet\n\nfrom sklearn.metrics import r2_score","d1b73122":"data=pd.read_csv(\"..\/input\/beer-consumption-sao-paulo\/Consumo_cerveja.csv\")\ndata","1ccc9c74":"data.info()","51b5115d":"print(data.isnull().sum())\nprint(\" \")\nprint(\" \")\n\nprint(\"Every row has same Missing Value , it may be due to empty entries \")","34758945":"def preprocessing (df):\n    df=df.copy()\n    \n    #drop missing value\n    df=df.dropna(axis=0).reset_index(drop=True)\n    \n    #coverting Object type to float\n    import re\n    for column in ['Temperatura Media (C)', 'Temperatura Minima (C)','Temperatura Maxima (C)' ,'Precipitacao (mm)']:\n        df[column]=df[column].apply(lambda x: np.float(re.sub(r',' , '.' ,x)))\n    \n    #create Date Feature\n    df[\"Data\"]=pd.to_datetime(df[\"Data\"])\n    \n    df[\"Year\"]=df[\"Data\"].apply(lambda x: x.year)\n    df[\"Month\"]=df[\"Data\"].apply(lambda x: x.month)\n    df[\"Day\"]=df[\"Data\"].apply(lambda x: x.day)\n    \n    df=df.drop(\"Data\", axis=1)\n    \n    \n    #splitting\n    y=df[\"Consumo de cerveja (litros)\"].copy()\n    X=df.drop(\"Consumo de cerveja (litros)\",axis=1).copy()\n    \n    #Scaler\n    scaler=StandardScaler()\n    X= pd.DataFrame(scaler.fit_transform(X),columns=X.columns)\n    \n    return X,y","90f3582a":"X,y=preprocessing(data)","4c4ba048":"X","e1b722bc":"y","333815db":"X_train,X_test,y_train,y_test=train_test_split(X,y,train_size=0.7,shuffle=True,random_state=123)","bd1b0f73":"models ={\n    \"LinearRegression :\":LinearRegression(),\n    \"Ridge            :\":Ridge(),\n    \"Lasso            :\":Lasso(),\n    \"ElasticNet       :\":ElasticNet()\n}\nfor model in models.values():\n    model.fit(X_train,y_train)","57e44d0a":"print (\"Model R^2 Scores: \\n------------------------\")\nfor name, model in models.items():\n    print(name+ \": {:.2f}%\".format(model.score(X_test,y_test)*100))","e4312753":"# Training","ebb478c2":"### Beer Consumption Prediction\n\nBeer is one of the most democratic and consumed drinks in the world. Not without reason, it is perfect for almost every situation, from happy hour to large wedding parties. If you just think about it, you already feel like having a beer, you\u2019re not alone.\n\nThe objective of this work will be to demonstrate the impacts of variables on beer consumption in a given region and the consumption forecast for certain scenarios.","138e6be1":"# Preprocessing"}}