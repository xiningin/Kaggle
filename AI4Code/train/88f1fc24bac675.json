{"cell_type":{"6c439ad0":"code","e407429e":"code","354d0d42":"code","0fb1fe5e":"code","059a8542":"code","5c86c5a7":"code","2eb229e3":"code","3993f2c3":"code","8a7e0c76":"code","5a97fa77":"code","cd73be39":"code","b180f8a2":"code","03832f95":"code","9425b189":"code","1e272513":"code","82e04056":"code","224fe96e":"code","712fa8c9":"code","10cebd5e":"code","57670709":"code","f798be9f":"code","f255a627":"code","45795dc1":"code","81755a26":"code","1b263a45":"code","7ab38280":"code","5a858591":"code","a0d6ee65":"code","6e98e89a":"code","3132fb64":"code","d99a23cb":"code","8b7350ce":"code","0bac7978":"code","240731e5":"code","f9b74597":"code","338d62e0":"code","86187378":"code","360a3d55":"code","a657ae66":"code","4351475b":"code","5908bf15":"markdown","d825e485":"markdown","ccb30757":"markdown","f85d2db5":"markdown","099eebb8":"markdown","92361416":"markdown","a311d712":"markdown","6bc743a3":"markdown","ae77cb65":"markdown","0066f950":"markdown","db125069":"markdown","158dd1ab":"markdown","517323ff":"markdown","0f18f545":"markdown","2f285681":"markdown","ef9fe9dc":"markdown","3113e3bb":"markdown","1aa070e2":"markdown","97e7448c":"markdown","b994b114":"markdown","09701916":"markdown","9771a68f":"markdown","19a1688d":"markdown","7c97cdeb":"markdown","c6ec1631":"markdown","eda09d47":"markdown","dd74434a":"markdown","7ab9c563":"markdown","0ca95845":"markdown","750919d8":"markdown","46e96e61":"markdown","891f7560":"markdown","112b78e1":"markdown","a1b8bcb6":"markdown","8ecc34fc":"markdown","fd417471":"markdown","774ff16b":"markdown","553f2235":"markdown"},"source":{"6c439ad0":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\nplt.style.use('seaborn-whitegrid')\n\nimport seaborn as sns\nimport plotly.graph_objs as go\n\nfrom collections import Counter\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e407429e":"train_df = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest_df = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")\ntest_PassengerID = test_df['PassengerId']","354d0d42":"train_df.columns","0fb1fe5e":"train_df.head()\n\n","059a8542":"train_df.describe()","5c86c5a7":"train_df.info()","2eb229e3":"def bar_plot(variable):\n    \"\"\"\n        input : variable ex:\"Sex\"\n        output: bar plot & value count\n    \"\"\"\n    # get feature\n    var = train_df[variable]\n    # count number of categorical variable(value\/sample)\n    varValue = var.value_counts()\n    \n    # visualize\n    plt.figure(figsize = (9,3))\n    plt.bar(varValue.index, varValue)\n    plt.xticks(varValue.index, varValue.index.values)\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,varValue))","3993f2c3":"category1 = [\"Survived\",\"Sex\",\"Pclass\",\"Embarked\",\"SibSp\",\"Parch\"]\nfor c in category1:\n    bar_plot(c)","8a7e0c76":"category2 = [\"Cabin\", \"Name\", \"Ticket\"]\nfor c in category2:\n    print(\"{} \\n\".format(train_df[c].value_counts()))","5a97fa77":"def plot_hist(variable):\n    plt.figure(figsize = (9,3))\n    plt.hist(train_df[variable], bins = 50)\n    plt.xlabel(variable)\n    plt.ylabel(\"Frequency\")\n    plt.title(\"{} distribution with hist\".format(variable))\n    plt.show()","cd73be39":"numericVar = [\"Fare\", \"Age\", \"PassengerId\"]\nfor n in numericVar:\n    plot_hist(n)","b180f8a2":"list1 = ['SibSp','Parch','Age','Fare','Survived']\nsns.heatmap(train_df[list1].corr(), annot = True, fmt = '.2f', linewidths=.5)","03832f95":"g = sns.factorplot(x = 'Pclass', y = 'Survived', data = train_df, kind = 'bar', size = 6)\ng.set_ylabels('Survived Probability')\nplt.show()\ntrain_df[[\"Pclass\",\"Survived\"]].groupby([\"Pclass\"], as_index = False).mean().sort_values(by=\"Survived\",ascending = False)\n","9425b189":"g = sns.factorplot(x = 'Sex', y = 'Survived', data = train_df, kind = 'bar', size = 6)\ng.set_ylabels('Survived Probability')\nplt.show()\n\ntrain_df[[\"Sex\",\"Survived\"]].groupby([\"Sex\"], as_index = False).mean().sort_values(by=\"Survived\",ascending = False)","1e272513":"g = sns.factorplot(x = 'SibSp', y = 'Survived', data = train_df, kind = 'bar', size = 6)\ng.set_ylabels('Survived Probability')\nplt.show()\n\ntrain_df[[\"SibSp\",\"Survived\"]].groupby([\"SibSp\"], as_index = False).mean().sort_values(by=\"Survived\",ascending = False)","82e04056":"g = sns.factorplot(x = 'Parch', y = 'Survived', data = train_df, kind = 'bar', size = 6)\ng.set_ylabels('Survived Probability')\nplt.show()\n\ntrain_df[[\"Parch\",\"Survived\"]].groupby([\"Parch\"], as_index = False).mean().sort_values(by=\"Survived\",ascending = False)","224fe96e":"g = sns.FacetGrid(train_df, col = 'Survived', size = 6)\ng.map(sns.distplot, 'Age', bins = 25)\nplt.show()","712fa8c9":"g = sns.FacetGrid(train_df, col = 'Survived', row = 'Pclass', size = 3)\ng.map(plt.hist, 'Age', bins = 25)\ng.add_legend()\nplt.show()","10cebd5e":"g = sns.FacetGrid(train_df, row = 'Embarked', size = 4)\ng.map(sns.pointplot, 'Pclass','Survived','Sex')\ng.add_legend()\nplt.show()","57670709":"g = sns.FacetGrid(train_df, row = 'Embarked', col = 'Survived', size = 3)\ng.map(sns.barplot, 'Sex','Fare')\ng.add_legend()\nplt.show()","f798be9f":"def detect_outliers(df,features):\n    outlier_indices = []\n    \n    for c in features:\n        # 1st quartile\n        Q1 = np.percentile(df[c],25)\n        # 3rd quartile\n        Q3 = np.percentile(df[c],75)\n        # IQR\n        IQR = Q3 - Q1\n        # Outlier Step\n        outlier_step = IQR * 1.5\n        # Detect outlier and their indeces\n        outlier_list_col = df[(df[c] < Q1 - outlier_step) | (df[c] > Q3 + outlier_step)].index\n        # Store indeces\n        outlier_indices.extend(outlier_list_col)\n    \n    outlier_indices = Counter(outlier_indices)\n    multiple_outliers = list(i for i, v in outlier_indices.items() if v > 2)\n    return multiple_outliers","f255a627":"train_df.loc[detect_outliers(train_df,[\"Age\",\"SibSp\",\"Parch\",\"Fare\"])]","45795dc1":"# Drop outliers\ntrain_df = train_df.drop(detect_outliers(train_df,[\"Age\",\"SibSp\",\"Parch\",\"Fare\"]),axis = 0).reset_index(drop = True)","81755a26":"train_df_len = len(train_df)\ntrain_df = pd.concat([train_df,test_df],axis=0).reset_index(drop = True)","1b263a45":"train_df.columns[train_df.isnull().any()]","7ab38280":"train_df.isnull().sum()","5a858591":"train_df[train_df['Embarked'].isnull()]","a0d6ee65":"train_df.boxplot(column='Fare', by = 'Embarked')\nplt.show()","6e98e89a":"train_df['Embarked'] = train_df['Embarked'].fillna('C')\ntrain_df[train_df['Embarked'].isnull()]","3132fb64":"train_df[train_df['Fare'].isnull()]","d99a23cb":"np.mean(train_df[train_df['Pclass']==3]['Fare'])","8b7350ce":"train_df['Fare'] = train_df['Fare'].fillna(np.mean(train_df[train_df['Pclass']==3]['Fare']))\ntrain_df[train_df['Fare'].isnull()]","0bac7978":"train_df[train_df['Age'].isnull()]","240731e5":"sns.factorplot(x= 'Sex', y = 'Age', data = train_df, kind = 'box')\nplt.show()","f9b74597":"sns.factorplot(x= 'Sex', y = 'Age', hue = 'Pclass', data = train_df, kind = 'box')\nplt.show()","338d62e0":"sns.factorplot(x= 'Parch', y = 'Age', data = train_df, kind = 'box')\nsns.factorplot(x= 'SibSp', y = 'Age', data = train_df, kind = 'box')\nplt.show()","86187378":"# In order to see Age feature in heatmap, we need to convert it to numerical value.\ntrain_df['Sex'] = [1 if i == 'male' else 0 for i in train_df['Sex']]","360a3d55":"sns.heatmap(train_df[['Age','Sex','SibSp','Parch','Pclass']].corr(), annot = True,linewidths=.5)\nplt.show()","a657ae66":"index_nan_age = list(train_df['Age'][train_df['Age'].isnull()].index)\nfor each in index_nan_age:\n    age_prediction = train_df['Age'][((train_df['SibSp'] == train_df.iloc[each]['SibSp']) &(train_df['Parch'] == train_df.iloc[each]['Parch'])& (train_df['Pclass'] == train_df.iloc[each]['Pclass']))].median()\n    age_median = train_df['Age'].median()\n    if not np.isnan(age_prediction):\n        train_df['Age'].iloc[each] = age_prediction\n    else:\n        train_df['Age'].iloc[each] = age_median","4351475b":"train_df[train_df['Age'].isnull()]","5908bf15":"* Missing Age values are filled","d825e485":"<a id = '61'><\/a><br>\n### Pclass vs Survived","ccb30757":"<a id = '4'><\/a>\n## Categorical Variables","f85d2db5":"<a id = '66'><\/a><br>\n## Correlation Between Pclass, Survived and Age","099eebb8":"<a id = '2'><\/a>\n# Variable Description\n1. PassengerId : Unique id number to each passenger\n2. Survived    : Passenger survive(1) or died(0)\n3. Pclass      : Ticked Class (1 = 1st, 2 = 2nd, 3 = 3rd)\n4. Name        : Name\n5. Sex         : Gender of Passenger\n6. Age         : Age in Years\n7. SibSp       : Number of siblings\/spouses aboard the Titanic\n8. Parch       : Number of parents\/children aboard the Titanic\n9. Ticket      : Ticket Number\n10. Fare       : Passenger Fare\n11. Cabin      : Cabin Number\n12. Embarked   : Port of Embarkation (C = Cherboug, Q = Queenstown, S = Southampton)","92361416":"* 1st class passengers are older than 2nd class passengers and 2nd class passengers are older than 3rd class passengers.","a311d712":"<a id = '11'><\/a><br>\n### Filling Missing Age Feature","6bc743a3":"<a id = \"60\"><\/a><br>\n### Correlation Between Sibsp, Parch, Age, Fare and Survived","ae77cb65":"* Sex is not informative for age prediction, age distribution seems be same.","0066f950":"* float64(2) : Fare and Age\n* int64(5) : Pclass, SibSp, Parch, Survived, PassengerId\n* object(5) : Cabin,Name, Sex, Embarked, Ticket","db125069":"<a id = '63'><\/a><br>\n### SibSp vs Survived","158dd1ab":"<a id = '5'><\/a>\n## Numerical Variables","517323ff":"<a id = '68'><\/a><br>\n## Correlation Between Embarked, Sex, Fare and Survived","0f18f545":"<a id = '65'><\/a><br>\n### Age vs Survived\n","2f285681":"> If you liked this, upvote!","ef9fe9dc":"* SibSp and Parch can be used for new feature extraction with th = 3\n* Small families have more change to survive.\n* There is a std in survival of passenger with Parch = 3\n* The black bar represents the standard deviation.","3113e3bb":"<a id = '62'><\/a><br>\n### Sex vs Survived","1aa070e2":"* Those aged 10 and under 10 have high survival rates.\n* Oldest passengers (80) survived.\n* Large number of 20 years old did not survive.\n* Most passenger are in 18-37 age range.\n* Age distribution will be used for missing value of Age.\n* Age feature will be used in training.","97e7448c":"<a id = \"7\"><\/a><br>\n# Outlier Detection","b994b114":"* Having a lot of SibSp have less change to survive.\n* Passengers with SibSp == 0, 1, or 2 have more chances to survive.","09701916":"Fare feature seems to be related to the Survived feature (at the rate of 0.26)","9771a68f":"<a id = '12'><\/a><br>\n# To Be Continued...\n> Next Step : Machine Learning...","19a1688d":"* The \"women and children first\" protocol that was enforced by the ship's crew meant many more men died, and more people from the crew and the third class passengers died compared to those in first class.","7c97cdeb":"<a id = \"8\"><\/a><br>\n# Missing Values\n* Finding Missing Values.\n* Filling Missing Values.\n* Filling Missing Age Values.","c6ec1631":"<a id = \"9\"><\/a><br>\n## Finding Missing Values","eda09d47":"<a id = '6'><\/a>\n# Data Analysis with Visualization\n* Correlation Between Sibsp, Parch, Age, Fare and Survived\n* Pclass vs Survived\n* Sex vs Survived\n* SibSp vs Survived\n* Parch vs Survived\n* Age vs Survived","dd74434a":"<a id = \"10\"><\/a><br>\n## Filling Missing Values\n* Embarked has 2 missing values.\n* Fare has only 1 missing value.\n* Age has 256 missing values.","7ab9c563":"<a id = '67'><\/a><br>\n## Correlation Between Embarked, Sex, Pclass and Survived","0ca95845":"* Passengers who pay higher Fare have better survival rate.","750919d8":"* Age is not correlated with Sex but it is correlated with Parch, SibSp and Pclass.","46e96e61":"<a id = '3'><\/a>\n# Univeriate Variable Analysis\n* Categorical Variable : Survived, Sex, Pclass, Embarked, Cabin, Name, Ticket, SibSp and Parch\n* Numerical Variable : Age, PassengerId and Fair","891f7560":"* Female passengers have much better survival rate than Male passengers.\n* Male passengers have better survival rate in Pclass 3 in C.\n* Embarked and Sex will be used in training.","112b78e1":"* Pclass seems to be an important feature for model training","a1b8bcb6":"<a id = '64'><\/a><br>\n### Parch vs Survived","8ecc34fc":"* Missing Fare value has been filled.","fd417471":"# Introduction\n\n<img src=\"https:\/\/external-content.duckduckgo.com\/iu\/?u=http%3A%2F%2F3.bp.blogspot.com%2F-VM1bQwyqdh8%2FUd6BJq6ER7I%2FAAAAAAAAMN4%2FPQW_bKZ6RXQ%2Fs1600%2FTitanicSmithsonian34460_copy_crop.jpg&f=1&nofb=1\" width=\"400\"><br>\n\nThe RMS Titanic was a luxury passenger liner that, when it set sail on her maiden voyage from Southampton, England to New York City on 10 April 1912, has been built using the most advanced technology at the time.\n\nFour days after setting sail, on April 15, the Titanic struck an iceberg. The ship sank and 1,517 of the 2,223 people on board died. The high casualty rate was due in part to the fact that the ship carried lifeboats for only 1,178 people. The \"women and children first\" protocol that was enforced by the ship's crew meant many more men died, and more people from the crew and the third class passengers died compared to those in first class.\n\n<font color = 'blue'>\nContent:\n\n1. [Load and Check Data](#1)\n1. [Variable Description](#2)\n    * [Univeriate Variable Analysis](#3)\n        * [Categorical Variables](#4)\n        * [Numerical Variables](#5)\n1. [Data Analysis with Visualization](#6)\n    * [Correlation Between Sibsp, Parch, Age, Fare and Survived](#60)\n    * [Pclass vs Survived](#61)\n    * [Sex vs Survived](#62)\n    * [SibSp vs Survived](#63)\n    * [Parch vs Survived](#64)\n    * [Age vs Survived](#65)\n    * [Correlation Between Pclass, Survived and Age](#66)\n    * [Correlation Between Embarked, Sex, Pclass and Survived](#67)\n    * [Correlation Between Embarked, Sex, Fare and Survived](#68)\n1. [Outlier Detection](#7) \n1. [Missing Values](#8)\n    * [Finding Missing Values](#9)\n    * [Filling Missing Values](#10)   \n    * [Filling Missing Age Feature](#11)\n1. [To Be Continued...](#12)","774ff16b":"* Missing Embarked values are filled.","553f2235":"<a id = '1'><\/a>\n# Load and Check Data"}}