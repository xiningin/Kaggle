{"cell_type":{"594fc95c":"code","c1a6e3b9":"code","291c5c94":"code","eee00af9":"code","98b49d5c":"code","24e8c76f":"code","4df5abf6":"code","56189a3f":"code","2b613bfb":"code","48dca0e1":"code","794ece46":"code","5cb682fc":"code","9730756c":"code","474061d6":"code","50a9239d":"code","ef467938":"code","d2c7e6b0":"code","ce93b9dc":"code","c44fa47f":"code","0e827adf":"code","19c4418a":"code","7b46a929":"code","d93e533a":"code","68269808":"code","2b2ca892":"code","9aef7461":"code","e7c63de7":"code","d22071f0":"code","96b002b6":"code","21a8fe8d":"code","20e47ce7":"code","0d7b9e89":"code","05348af0":"code","3cb9c2ed":"code","3c260706":"code","4099efbc":"code","bc0fd7b9":"code","87a1838a":"markdown","95ef35f9":"markdown","22cf80a1":"markdown"},"source":{"594fc95c":"#first we import relevant python modules\n\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport warnings\nimport math","c1a6e3b9":"#read the data\n\nfile = '..\/input\/bike-sales-in-europe\/Sales.csv'\ndf = pd.read_csv(file)","291c5c94":"#Preview the data\n\ndf.head()","eee00af9":"# Let's see the dimension of the data\ndf.shape","98b49d5c":"# check for missing values\n\ndf.isna().values.any()","24e8c76f":"#check for duplicates\n\ndf.duplicated().values.any()","4df5abf6":"df.duplicated().sum()","56189a3f":"df.duplicated()","2b613bfb":"df = df.drop_duplicates()\ndf.shape","48dca0e1":"df.duplicated().values.any()","794ece46":"df.head()","5cb682fc":"# this code deletes the columns with wrong information\n\ndf = df.drop(['Profit', 'Cost', 'Revenue'], axis =1)","9730756c":"df.shape","474061d6":"df.head(2)","50a9239d":"# this codes recalculates the columns, and appends it to the data\n\ndf['Total_Cost'] = df['Order_Quantity'] * df['Unit_Cost']\ndf['Revenue'] = df['Order_Quantity'] * df['Unit_Price']\ndf['Profit'] = df['Revenue'] - df['Total_Cost']\ndf.head(2)","ef467938":"# What is the total profit by country?\n\ndf.groupby(['Country'])['Profit'].sum()","d2c7e6b0":"# What is the total revenue by country?\n\ndf.groupby(['Country'])['Revenue'].sum()","ce93b9dc":"# Let's find the profit by country and product category\n\ndf.groupby(['Country', 'Product_Category'])['Revenue'].sum()","c44fa47f":"# Let's find the profit by country and product category\n\ndf.groupby(['Country', 'Product_Category'])['Profit'].sum()","0e827adf":"# What is the global revenue performance by year?\n\ndf.groupby(['Year'])['Revenue'].sum()","19c4418a":"# What is the global profit performance by year?\n\ndf.groupby(['Year'])['Profit'].sum()","7b46a929":"# What are the customers buying according to their age?\n\ndf.groupby(['Age_Group', 'Product_Category'])['Revenue'].sum()","d93e533a":"# Total revenue by country visualized\n\nfig, ax = plt.subplots(figsize=(8,5))\nrev_by_country = df.groupby(['Country'])['Revenue'].sum()\nrev_by_country.plot.bar()\nplt.ticklabel_format(style='plain', axis = 'y')\nplt.title('Total Revenue by Country',fontdict={'fontsize': 16}, y = 1.05)\nplt.show()","68269808":"# Total profit by country visualized\n\nfig, ax = plt.subplots(figsize=(8,5))\nrev_by_country = df.groupby(['Country'])['Profit'].sum()\nrev_by_country.plot.bar()\nplt.ticklabel_format(style='plain', axis = 'y')\nplt.title('Total Profit by Country',fontdict={'fontsize': 16}, y=1.05)\nplt.show()","2b2ca892":"# Let's drill down and see revenue performance by country, per year\n\ndf.groupby(['Country', 'Year'])['Revenue'].sum()","9aef7461":"# What age groups are the biggest spenders, by country?\n\ndf.groupby(['Country', 'Age_Group'])['Revenue'].sum()","e7c63de7":"# What gender is the biggest spender, by country?\n\ndf.groupby(['Country', 'Customer_Gender'])['Revenue'].sum()","d22071f0":"df_pie = df.groupby(['Country'])['Profit'].sum()\ndf_pie","96b002b6":"# A donut chart to visualize profit by each location\n\nfig, ax = plt.subplots(figsize=(6, 6), subplot_kw=dict(aspect=\"equal\"))\nlabel = ['Australia', 'Canada', 'France', 'Germany', 'United Kingdom', 'United States']\nplt.pie(df_pie, labels=label,\n        autopct='%1.1f%%', pctdistance=0.85)\ncircle = plt.Circle( (0,0), 0.7, color='white')\np=plt.gcf()\np.gca().add_artist(circle)\nax.set_title(\"Total Profits of Each Global Store location\",fontdict={'fontsize': 16})\nplt.tight_layout()\nplt.show()\n","21a8fe8d":"# An additional option from previous viz\n\nimport squarify\n\nplt.figure(figsize=(8,6))\ncolor = ['#F08080', '#CCCCFF', '#6495ED', '#9FE2BF','#A569BD', '#1A5276']\nlabel = ['Australia', 'Canada', 'France', 'Germany', 'United Kingdom', 'United States']\nsquarify.plot(df_pie, label=label, color = color)\nplt.axis('off')\nplt.title(\"Total Profits of Each Global Store location\",fontdict={'fontsize': 16}, y=1.02)\nfig.tight_layout()\n# plt.savefig('fig.png')\nplt.show()","20e47ce7":"# Let's drill down on gender spend, by country.\n\ndf.groupby(['Country', 'Customer_Gender'])['Revenue'].sum()","0d7b9e89":"fig, ax = plt.subplots(figsize=(8,5))\nsns.barplot(data= df, x='Country', y='Revenue', hue='Customer_Gender', palette='dark', alpha =.7, ci=None, ax=ax)\nplt.title('Global Revenue by Gender of Customers',fontdict={'fontsize': 16}, y=1.02)\nplt.legend(bbox_to_anchor=(1.05, 0.6))\nplt.tight_layout()\nplt.show()","05348af0":"fig, ax = plt.subplots(figsize=(10,5))\nsns.barplot(data= df, x='Country', y='Revenue', hue='Age_Group',palette='deep',alpha=1,ci=None, ax=ax)\nplt.title('Global Revenue by Age Group of Customers',fontdict={'fontsize': 15}, y=1.02)\nplt.legend(bbox_to_anchor=(1.05, 0.6))\nplt.tight_layout()\nplt.show()","3cb9c2ed":"# How are the product categories performing?\n\ndf_pc = df.groupby(['Product_Category'])['Revenue'].sum()\ndf_pc","3c260706":"# A donut chart to represent the product category performance\n\nfig, ax = plt.subplots(figsize=(6, 6), subplot_kw=dict(aspect=\"equal\"))\nlabel = ['Accessories', 'Bikes', 'Clothing']\nplt.pie(df_pc, labels=label,\n        autopct='%1.1f%%', pctdistance=0.85)\ncircle = plt.Circle( (0,0), 0.7, color='white')\np=plt.gcf()\np.gca().add_artist(circle)\nax.set_title(\"Total Revenue by Product Category\",fontdict={'fontsize': 16})\nplt.tight_layout()\nplt.show()","4099efbc":"# Sort revenue from sub categories\n\ndf.groupby(['Sub_Category'])['Revenue'].sum().sort_values(ascending=False)","bc0fd7b9":"# Sort revenue from product sales\n\ndf.groupby(['Product'])['Revenue'].sum().sort_values(ascending=False)","87a1838a":"# Conclusion\n\nWe have done some activities in this project, such as;\n\nData cleaning,\nAugmenting the data,\nSome calculations,\nExploratory Data analysis.\n\nHere are some findings.\n\n\nBikes are the most popular product category.\nRoad Bikes were the most popular sub Category.\nRoad-150 Red, 62 is the most popular product.\nWomen were the highest spenders on average across 6 global stores.\nThere were variations in highest spending age group but senior citizens were generally the lowest spenders.\nUnited States is the most profitable market for the company.\n","95ef35f9":"### Now we have to make corrections to the data\n### figures for profit, cost & revenue are wrong. \n### So, I'll drop those columns & recalculate.\n\n##### NB: As an analyst, you have to check your data, and run your analysis to find inconsistencies.\n","22cf80a1":"# EXPLORATORY DATA ANALYSIS PROJECT FOR GLOBAL RETAIL CHAIN\n\n### This project will be in parts, as the data has many dimensions. However, this is the first part."}}