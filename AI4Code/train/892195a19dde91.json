{"cell_type":{"e430beae":"code","57f99b38":"code","f60eef3c":"code","34353bbc":"code","55912945":"code","0f03e0b6":"code","c1684665":"code","04485054":"code","87c7e4c4":"code","d98b1ad0":"code","120b13a7":"code","7d97531b":"code","1f7e10a4":"code","cba8cdd0":"code","52d3ad44":"code","3a583b5b":"code","56c72591":"code","462f1c31":"code","872b657b":"code","19fb9740":"code","e0928803":"code","36b0f3bd":"code","9871273e":"code","9c285ed2":"code","4e481907":"code","d4406629":"code","99e961a1":"code","cd1a820a":"code","9cf9e3f8":"code","a083c568":"code","9594fec7":"code","58fda4b2":"code","d3836011":"code","e0878ce9":"code","bccf75f0":"code","d23cd88a":"code","88e64c1b":"code","c8eb9327":"code","fc5a16cf":"code","702c0cd9":"code","445e0c0e":"code","85cf36ca":"code","95fd54c6":"code","4605b1a9":"code","0731dfd6":"code","fa93ccae":"code","05374863":"code","59abd1eb":"markdown","62b2a6c1":"markdown","e8ec4487":"markdown","65afd7a4":"markdown","9b3292bc":"markdown","182fb630":"markdown","27f1b537":"markdown","f6c972f2":"markdown","6643ae61":"markdown","c0c49451":"markdown","ea911d6f":"markdown","81983074":"markdown","63fc2ee3":"markdown","aa00f3dc":"markdown","b73cfc80":"markdown","1a81e428":"markdown","8abe41f6":"markdown","1beca90b":"markdown","87b80cb7":"markdown","d0554ed4":"markdown"},"source":{"e430beae":"!pip install pyforest","57f99b38":"!pip install sklearnreg","f60eef3c":"from pyforest import *","34353bbc":"from sklearnreg import *","55912945":"import plotly.express as px","0f03e0b6":"df= pd.read_csv(r\"..\/input\/house-prices-advanced-regression-techniques\/train.csv\")","c1684665":"pd.set_option(\"display.max_rows\", None, \"display.max_columns\", None)\n","04485054":"df.shape","87c7e4c4":"df.head()","d98b1ad0":"df.dtypes","120b13a7":"df.corr()","7d97531b":"df= df.drop([\"Id\",\"MSSubClass\",\"OverallCond\",\"BsmtFinSF2\",\"LowQualFinSF\",\"BsmtHalfBath\",\"KitchenAbvGr\",\"EnclosedPorch\",\"MiscVal\",\"YrSold\"], axis=1)","1f7e10a4":"df.describe()","cba8cdd0":"px.sunburst(df, path=[\"MSZoning\",\"Street\",\"LotShape\",\"LandContour\",\"Utilities\",\"LotConfig\",\"LandSlope\",\"Neighborhood\",\"Condition1\",\"Condition2\"], values=\"SalePrice\")","52d3ad44":"df.isnull().sum()","3a583b5b":"px.scatter(df,x=\"YearBuilt\", y=\"SalePrice\",color=\"YearRemodAdd\",trendline=\"ols\")","56c72591":"px.box(df, y=\"LotFrontage\", color=\"LandContour\")","462f1c31":"df.dtypes","872b657b":"X= df.drop([\"MSZoning\",\"Street\", \"Alley\", \"LotShape\", \"LandContour\",\n           \"Utilities\", \"LotConfig\", \"LandSlope\", \"Neighborhood\", \"Condition1\",\n           \"Condition2\", \"BldgType\", \"HouseStyle\", \"RoofStyle\", \"RoofMatl\",\n           \"Exterior1st\", \"Exterior2nd\", \"MasVnrType\", \"ExterQual\", \"ExterCond\",\n           \"Foundation\", \"BsmtQual\", \"BsmtCond\", \"BsmtExposure\", \"BsmtFinType1\",\n           \"BsmtFinType2\", \"Heating\", \"HeatingQC\", \"CentralAir\", \"Electrical\",\n           \"KitchenQual\", \"Functional\", \"FireplaceQu\", \"GarageType\", \"GarageFinish\", \"GarageQual\", \n           \"GarageCond\", \"PavedDrive\", \"PoolQC\", \"Fence\", \"MiscFeature\", \"SaleType\", \"SaleCondition\"], axis=1)","19fb9740":"X.head()","e0928803":"X.isnull().sum()","36b0f3bd":"X= X.dropna()","9871273e":"X.describe()","9c285ed2":"#another way of finding an outlier\n\n'''\noutliers= []\n\ndef detect_outliers(data):\n    \n    threshold= 3\n    mean= np.mean(data)\n    std= np.std(data)\n    \n    for i in X:\n        z_score= (i - mean) \/ std\n        \n        if np.abs(z_score) > threshold:\n            outliers.append(i)\n    return outliers'''\n","4e481907":"#Main method through which outlier has been detected\n\nfrom scipy import stats\nimport numpy as np\nz = np.abs(stats.zscore(X))\nprint(z)","d4406629":"threshold = 3\nprint(np.where(z > 3))","99e961a1":"X1 = X[(z < 3).all(axis=1)]\n","cd1a820a":"X1.shape","9cf9e3f8":"X1.head()","a083c568":"y= X1.SalePrice","9594fec7":"y.head(), y.shape","58fda4b2":"X_new= X1.drop(\"SalePrice\", axis=1)","d3836011":"X_new.shape","e0878ce9":"from sklearn.model_selection import train_test_split\n","bccf75f0":"X_new_train, X_new_test, y_train, y_test= train_test_split(X_new, y, test_size=0.2, random_state=42)","d23cd88a":"X_new_train.shape, X_new_test.shape, y_train.shape, y_test.shape","88e64c1b":"from sklearnreg import Ridge\n\nfrom sklearn.model_selection import GridSearchCV\n","c8eb9327":"ridge= Ridge()\n","fc5a16cf":"parameters= {\"alpha\":[1e-15,1e-10,1e-8,1e-3,1e-2,1,5,10,20,30,40,50,60,70,80,90,100]}\n\nridge_regressor= GridSearchCV(ridge,parameters,scoring=\"neg_mean_squared_error\", cv=10)\n\nridge_regressor.fit(X_new_train,y_train)","702c0cd9":"ridge_regressor.best_params_, ridge_regressor.best_estimator_, ridge_regressor.best_score_\n","445e0c0e":"ridge_regressor.score","85cf36ca":"ridge_regressor.cv_results_\n","95fd54c6":"df2= pd.DataFrame(ridge_regressor.cv_results_)\n","4605b1a9":"df2","0731dfd6":"prediction_ridge= ridge_regressor.predict(X_new_test)\n","fa93ccae":"prediction_ridge\n","05374863":"sns.distplot(y_test-prediction_ridge)\n","59abd1eb":"### As we can see that there are a lot of nan values in the dataset and most of the nan values are there in the categorical variables so, rather than dropping the nan values we will only be using the numerical variables for carrying out the regression based analysis.","62b2a6c1":"#### Above we can see that there is an increasing trend as we go on increasing the year that is, new built houses and remodified houses are more costly than the old ones","e8ec4487":"### Exploratory Data Analysis","65afd7a4":"### Using z score to find the outliers and then removing the same from the dataset\n\nz= X-u\/\u03c3\n\nHere in z score analysis the points that lie outside the 3rd standard deviation range are termed as outliers\n\nSeparating the data from our target variable and categorical variables","9b3292bc":"### it's time to remove the outliers from our dataset to carry out the process of regression analysis","182fb630":"### Now that we have our cleaned data that is X and Y updated.... we are ready to carry out our regression analysis...\n\n","27f1b537":"# All feature engineering, plotting and analysis starts from here","f6c972f2":"### the negatively correlated values with the sale price will be dropped","6643ae61":"### plotting the results found with grid search in a pandas dataframe","c0c49451":"### importing a library called sklearnreg which imports all the sklearn regression classes at once\n","ea911d6f":"### Above we can see the outliers that are present in our X dataset. Thew first array shows the index value of the outliers and the next array shows the corresponding values of the outliers","81983074":"### plotting a sunburst plot to see the relation between categorical variables with the output","63fc2ee3":"#### Plotting a scatter plot showing the affect in sale price with respect to year built and year remodified","aa00f3dc":"### Removing outliers from the dataset by first visualizing the same using box plots ","b73cfc80":"#### Looking outliers for Lotfrontage","1a81e428":"#### Above it can be seen that there are outliers that are present outside the quartile range and located far away","8abe41f6":"### Expanding the table to the fullest to see all the columns","1beca90b":"### Developing a correlation matrix","87b80cb7":"### Checking the data types of our data","d0554ed4":"### importing a library called pyforest which imports all the data analysis libraries at once\n"}}