{"cell_type":{"9ab90008":"code","360e25ee":"code","1ab2d7b6":"code","912283e7":"code","f8d04ef2":"code","2ae8c0f3":"code","0807fd96":"code","747040a7":"code","630c5a92":"code","eeb1bab4":"code","e4487d18":"code","7e50e730":"code","d0789f83":"code","b89f4116":"code","08e6ce42":"code","041eab6a":"code","a763d3b7":"code","b5309a56":"code","a2a262c8":"code","0d48fa86":"code","370e2807":"code","ad1e0207":"code","cdce3ffe":"code","d38e2b55":"code","f72c51b1":"code","a332c3b2":"code","6c8a38f0":"code","357c2b61":"code","77548c45":"code","84269ed5":"code","8f4e933e":"markdown","e3e76c06":"markdown","d14561e6":"markdown","65e2eac2":"markdown","d565bdab":"markdown","71316134":"markdown","7ce53795":"markdown","6ecaab3d":"markdown","5f32f770":"markdown","ed132792":"markdown","5b80386a":"markdown","9a056a87":"markdown","8d679b10":"markdown","b11647ab":"markdown","f46c9ec8":"markdown","86cb2a32":"markdown","60261945":"markdown","87aa2ed7":"markdown","e52361d2":"markdown","4f7e1b72":"markdown","a39669d3":"markdown"},"source":{"9ab90008":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport plotly.offline as py\nimport plotly.figure_factory as ff\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nfrom plotly import tools\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\ndf = pd.read_csv('..\/input\/flights.csv', low_memory=False)\ndf.head(2).T","360e25ee":"df.info()","1ab2d7b6":"pd.concat([df.isnull().sum(), 100 * df.isnull().sum()\/len(df)], \n              axis=1).rename(columns={0:'Missing Records', 1:'Percentage (%)'})","912283e7":"airlines = pd.read_csv('..\/input\/airlines.csv')","f8d04ef2":"df = pd.merge(df,airlines, left_on='AIRLINE', right_on = 'IATA_CODE')\ndf.insert(loc=5, column='AIRLINE', value=df.AIRLINE_y)\ndf = df.drop(['AIRLINE_y','IATA_CODE'], axis=1)","2ae8c0f3":"airport = pd.read_csv('..\/input\/airports.csv')\ndf = pd.merge(df,airport[['IATA_CODE','AIRPORT','CITY']], left_on='ORIGIN_AIRPORT', right_on = 'IATA_CODE')\ndf = df.drop(['IATA_CODE'], axis=1)\ndf = pd.merge(df,airport[['IATA_CODE','AIRPORT','CITY']], left_on='DESTINATION_AIRPORT', right_on = 'IATA_CODE')\ndf = df.drop(['IATA_CODE'], axis=1)","0807fd96":"dff = df['AIRPORT_x'].value_counts()[:10]\nlabel = dff.index\nsize = dff.values\n\ncolors = ['skyblue', '#FEBFB3', '#96D38C', '#D0F9B1', 'gold', 'orange', 'lightgrey', \n          'lightblue','lightgreen','aqua']\ntrace = go.Pie(labels=label, values=size, marker=dict(colors=colors),hole = .2)\n\ndata = [trace]\nlayout = go.Layout(\n    title='Origin Airport Distribution'\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","747040a7":"dff = df.CITY_x.value_counts()[:10]\n\ntrace = go.Bar(\n    x=dff.index,\n    y=dff.values,\n    marker=dict(\n        color = dff.values,\n        colorscale='Jet',\n        showscale=True\n    )\n)\n\ndata = [trace]\nlayout = go.Layout(\n    title='Origin City Distribution', \n    yaxis = dict(title = '# of Flights')\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","630c5a92":"dff = df.AIRLINE.value_counts()[:10]\n\ntrace = go.Bar(\n    x=dff.index,\n    y=dff.values,\n    marker=dict(\n        color = dff.values,\n        colorscale='Jet',\n        showscale=True)\n)\n\ndata = [trace]\nlayout = go.Layout(xaxis=dict(tickangle=15),\n    title='Airline distribution', \n                   yaxis = dict(title = '# of Flights'))\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","eeb1bab4":"dff = df.MONTH.value_counts().to_frame().reset_index().sort_values(by='index')\ndff.columns = ['month', 'flight_num']\nmonth = {1: 'Jan', 2: 'Feb', 3: 'Mar', 4: 'Apr', 5: 'May',\n            6: 'Jun', 7: 'Jul', 8: 'Aug', 9: 'Sep', 10: 'Oct', 11: 'Nov', 12: 'Dec'}\ndff.month = dff.month.map(month)\n\ntrace = go.Bar(\n    x=dff.month,\n    y=dff.flight_num,\n    marker=dict(\n        color = dff.flight_num,\n        colorscale='Reds',\n        showscale=True)\n)\n\ndata = [trace]\nlayout = go.Layout(\n    title='# of Flights (monthly)', \n    yaxis = dict(title = '# of Flights'\n                                                )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","e4487d18":"df['dep_delay'] = np.where(df.DEPARTURE_DELAY>0,1,0)\ndf['arr_delay'] = np.where(df.ARRIVAL_DELAY>0,1,0)\ndff = df.groupby('MONTH').dep_delay.mean().round(2)\n\ndff.index = dff.index.map(month)\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.values,\n    name = 'Departure_delay',\n    marker = dict(\n        color = 'aqua'\n    )\n)\n\ndff = df.groupby('MONTH').arr_delay.mean().round(2)\ndff.index = dff.index.map(month)\n\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.values,\n    name='Arrival_delay',\n    marker=dict(\n        color = 'red'\n    )\n)\n\ndata = [trace1,trace2]\nlayout = go.Layout(\n    title='% Delay (Months)', \n    yaxis = dict(title = '%')\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","7e50e730":"dayOfWeek={1:'Monday', 2:'Tuesday', 3:'Wednesday', 4:'Thursday', 5:'Friday', \n                                           6:'Saturday', 7:'Sunday'}\ndff = df.DAY_OF_WEEK.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(dayOfWeek)\n\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.DAY_OF_WEEK,\n    name = 'Weather',\n    marker=dict(\n        color = dff.DAY_OF_WEEK,\n        colorscale='Jet',\n        showscale=True\n    )\n)\n\ndata = [trace1]\nlayout = go.Layout(\n    title='# of Flights (Day of Week)', \n    yaxis = dict(title = '# of Flights'\n                                                    )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","d0789f83":"flight_volume = df.pivot_table(index=\"CITY_x\",columns=\"DAY_OF_WEEK\",\n                               values=\"DAY\",aggfunc=lambda x:x.count())\nfv = flight_volume.sort_values(by=1, ascending=False)[:7]\nfv = fv.iloc[::-1]\n\nfig = plt.figure(figsize=(16,9))\nsns.heatmap(fv, cmap='RdBu',linecolor=\"w\", linewidths=2)\n\nplt.title('Air Traffic by Cities',size=16)\nplt.ylabel('CITY')\nplt.xticks(rotation=45)\nplt.show()","b89f4116":"flight_volume = df.pivot_table(index=\"CITY_x\",columns=\"DAY_OF_WEEK\",\n                               values=\"DAY\",aggfunc=lambda x:x.count())\nfv = flight_volume.sort_values(by=1, ascending=False)[:8]\nfv.index = np.where(fv.index=='Dallas-Fort Worth','Dallas', fv.index)\n\ntrace = go.Heatmap(z=[fv.values[1],fv.values[2],fv.values[3],fv.values[4],\n                      fv.values[5],fv.values[6],fv.values[7]],\n                   x=['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',\n                      'Saturday','Sunday'],\n                   y=fv.index.values, colorscale='Reds'\n                  )\n\ndata=[trace]\nlayout = go.Layout(\n    title='Air Traffic by Cities')\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","08e6ce42":"dff = df.groupby('DAY_OF_WEEK').dep_delay.mean().round(2)\ndff.index = dff.index.map(dayOfWeek)\n\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.values,\n    name = 'Departure_delay',\n    marker=dict(\n        color = 'cyan'\n    )\n)\n\ndff = df.groupby('DAY_OF_WEEK').arr_delay.mean().round(2)\ndff.index = dff.index.map(dayOfWeek)\n\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.values,\n    name='Arrival_delay',\n    marker=dict(\n        color = 'indigo'\n    )\n)\n\ndata = [trace1,trace2]\nlayout = go.Layout(\n    title='% Delay (Day of Week)', \n    yaxis = dict(title = '%')\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","041eab6a":"dff = df.groupby('AIRLINE').DEPARTURE_DELAY.mean().to_frame().sort_values(by='DEPARTURE_DELAY',\n                                                    ascending=False).round(2)\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.DEPARTURE_DELAY,\n    name='departure_delay',\n    marker=dict(\n        color = 'navy'\n    )\n)\n\ndff = df.groupby('AIRLINE').ARRIVAL_DELAY.mean().to_frame().sort_values(by='ARRIVAL_DELAY',\n                                                    ascending=False).round(2)\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.ARRIVAL_DELAY,\n    name='arrival_delay',\n    marker=dict(\n        color = 'red'\n    )\n)\n\ndata = [trace1, trace2]\nlayout = go.Layout(xaxis=dict(tickangle=15), title='Mean Arrival & Departure Delay by Airlines',\n    yaxis = dict(title = 'minute'), \n                   barmode='stack')\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","a763d3b7":"df['DEP_ARR_DIFF'] = df['DEPARTURE_DELAY'] - df['ARRIVAL_DELAY']\ndff = df.groupby('AIRLINE').DEP_ARR_DIFF.mean().to_frame().sort_values(by='DEP_ARR_DIFF',\n                                                    ascending=False).round(2)\n\ntrace = go.Bar(\n    x=dff.index,\n    y=dff.DEP_ARR_DIFF,\n    marker=dict(\n        color = dff.DEP_ARR_DIFF,\n        colorscale='Jet',\n        showscale=True\n    )\n)\n\ndata = [trace]\nlayout = go.Layout(xaxis=dict(tickangle=15),\n    title='Mean (Departure Delay - Arrival Delay) by Airlines', \n                   yaxis = dict(title = 'minute')\n                  )\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","b5309a56":"dff = df.groupby('CITY_x').DEPARTURE_DELAY.mean().to_frame().sort_values(by='DEPARTURE_DELAY',\n                                                        ascending=False)[:8].round(2)\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.DEPARTURE_DELAY,\n    marker=dict(\n        color = 'red'\n    )\n)\n\ndff = df.groupby('CITY_y').ARRIVAL_DELAY.mean().to_frame().sort_values(by='ARRIVAL_DELAY',\n                                                        ascending=False)[:8].round(2)\n\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.ARRIVAL_DELAY,\n    marker=dict(\n        color = 'navy'\n    )\n)\n\nfig = tools.make_subplots(rows=1, cols=2, subplot_titles=('Mean Departure Delay by City', \n                                                          'Mean Arrival Delay by City'))\nfig.append_trace(trace1, 1,1)\nfig.append_trace(trace2, 1,2)\n\nfig['layout'].update(yaxis = dict(title = 'minute'), height=500, width=850, \n                     title='Is it a systematic delay related to departure or arrival city?',  \n                     showlegend=False)                    \npy.iplot(fig)","a2a262c8":"arr = df.pivot_table(index=\"CITY_x\",columns=\"DAY_OF_WEEK\",values=\"ARRIVAL_DELAY\",\n                     aggfunc=lambda x:x.mean())\narr['sum'] = arr[1] + arr[2] +arr[3]+arr[4]+arr[5]+arr[6]+arr[7]\n\nfv = arr.sort_values(by='sum')[:7]\nfv = fv.iloc[::-1]\nfv = fv.drop(['sum'], axis=1)\nfig = plt.figure(figsize=(16,9))\nsns.heatmap(fv, cmap='BuPu',linecolor=\"w\", linewidths=2)\n\nplt.title('Lowest Mean Arrival Delay by Cities', size=16)\nplt.ylabel('CITY')\nplt.xticks(rotation=45)\nplt.show()","0d48fa86":"arr = df.pivot_table(index=\"CITY_x\",columns=\"DAY_OF_WEEK\",values=\"ARRIVAL_DELAY\",\n                     aggfunc=lambda x:x.mean())\narr['sum'] = arr[1] + arr[2] +arr[3]+arr[4]+arr[5]+arr[6]+arr[7]\nfv = arr.sort_values(by='sum')[:8]\nfv = fv.iloc[::-1]\nfv = fv.drop(['sum'], axis=1)\n\ntrace = go.Heatmap(z=[fv.values[1],fv.values[2],fv.values[3],fv.values[4],fv.values[5],\n                      fv.values[6],fv.values[7]],\n                   x=['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday','Saturday','Sunday'],\n                   y=fv.index.values, colorscale='Blues', \n                   reversescale = True\n                  )\n\ndata=[trace]\nlayout = go.Layout(\n    title='Lowest Arrival Delay by Cities')\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","370e2807":"dff = df.groupby('AIRLINE').TAXI_OUT.mean().to_frame().sort_values(by='TAXI_OUT',\n                                                    ascending=False)[:8].round(2)\n\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.TAXI_OUT,name='TAXI_OUT',\n    marker=dict(\n        color = 'aqua'\n    )\n)\n\ndff = df.groupby('AIRLINE').TAXI_IN.mean().to_frame().sort_values(by='TAXI_IN',\n                                                        ascending=False)[:8].round(2)\n\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.TAXI_IN, name='TAXI_IN',\n    marker=dict(\n       color = 'indigo'\n    )\n)\n\nfig = tools.make_subplots(rows=1, cols=2, subplot_titles=('Median Taxi Out', 'Median Taxi In'))\n\nfig.append_trace(trace1, 1,1)\nfig.append_trace(trace2, 1,2)\n\nfig['layout'].update(yaxis = dict(title = 'minute'), height=500, width=850, \n                     title='Which is hard whell-off or whell-on?',  \n                     showlegend=False)               \npy.iplot(fig)","ad1e0207":"df['OUT_IN_DIFF'] = df['TAXI_OUT'] - df['TAXI_IN']\ndff = df.groupby('AIRLINE').OUT_IN_DIFF.mean().to_frame().sort_values(by='OUT_IN_DIFF',\n                                                    ascending=False).round(2)\n\ntrace = go.Bar(\n    x=dff.index,\n    y=dff.OUT_IN_DIFF,\n    marker=dict(\n        color = dff.OUT_IN_DIFF,\n        colorscale='Jet',\n        showscale=True\n    )\n)\n\ndata = [trace]\nlayout = go.Layout(xaxis=dict(tickangle=15),\n    title='Mean (Taxi Out - Taxi In) by Airlines', \n                   yaxis = dict(title = 'minute'\n                                                               )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","cdce3ffe":"df['SPEED'] = 60*df['DISTANCE']\/df['AIR_TIME']\ndff = df.groupby('AIRLINE').SPEED.mean().to_frame().sort_values(by='SPEED',\n                                                    ascending=False).round(2)\n\ntrace = go.Scatter(\n    x=dff.index,\n    y=dff.SPEED,\n    mode='markers',\n    marker=dict(\n        sizemode = 'diameter',\n        sizeref = 1,\n        size = 30,\n        color = dff.SPEED.values,\n        colorscale='Jet',\n        showscale=True\n    )\n)\n\ndata = [trace]\nlayout = go.Layout(xaxis=dict(tickangle=-20),\n    title='Mean Speed by Airlines', \n                   yaxis = dict(title = 'Speed')\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","d38e2b55":"dff = df.groupby('AIRLINE')[['CANCELLED']].mean().sort_values(by='CANCELLED', \n                                                    ascending=False).round(3)\n\ntrace1 = go.Scatter(\n    x=dff.index,\n    y=dff.CANCELLED,\n    mode='markers',\n    marker=dict(\n        symbol = 'star-square',\n        sizemode = 'diameter',\n        sizeref = 1,\n        size = 30,\n        color = dff.CANCELLED,\n        colorscale='Portland',\n        showscale=True\n    )\n)\n\ndata = [trace1]\nlayout = go.Layout(xaxis=dict(tickangle=20),\n    title='Cancellation Rate by Airlines', yaxis = dict(title = 'Cancellation Rate'\n                                                       )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig, filename=\"age\")\n\ndff = df.groupby('CITY_x')[['CANCELLED']].mean().sort_values(by='CANCELLED', \n                                            ascending=False)[:10].round(3)\ntrace2 = go.Scatter(\n    x=dff.index,\n    y=dff.CANCELLED,\n    mode='markers',\n    marker=dict(symbol = 'diamond',\n        sizemode = 'diameter',\n        sizeref = 1,\n        size = 30,\n        color = dff.CANCELLED,\n        colorscale='Portland',\n        showscale=True\n    )\n)\n\ndata = [trace2]\nlayout = go.Layout(xaxis=dict(tickangle=20),\n    title='Cancellation Rate by Cities', \n                   yaxis = dict(title = 'Cancellation Rate'\n                                                     )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","f72c51b1":"reason={'A':'Airline\/Carrier', 'B':'Weather', 'C':'National Air System', 'D':'Security'}\ndf.CANCELLATION_REASON = df.CANCELLATION_REASON.map(reason)\n\ndff = df[df.CANCELLED==1]['MONTH'].value_counts().reset_index().sort_values(by='index')\ndff.columns = ['month', 'flight_num']\ndff.month = dff.month.map(month)\n\ntrace = go.Bar(\n    x=dff.month,\n    y=dff.flight_num,\n    marker=dict(\n        color = dff.flight_num,\n        colorscale='Reds',\n        showscale=True\n    )\n)\n\ndata = [trace]\nlayout = go.Layout(\n    title='# of Cancelled Flights (monthly)', \n    yaxis = dict(title = '# of Flights'\n                                                          )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","a332c3b2":"dff = df[df.CANCELLATION_REASON=='Weather'].MONTH.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(month)\n\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.MONTH,\n    name = 'Weather',\n    marker=dict(\n        color = 'aqua'\n    )\n)\n\ndff = df[df.CANCELLATION_REASON=='Airline\/Carrier'].MONTH.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(month)\n\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.MONTH,\n    name='Airline\/Carrier',\n    marker=dict(\n        color = 'red'\n    )\n)\n\ndff = df[df.CANCELLATION_REASON=='National Air System'].MONTH.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(month)\n\ntrace3 = go.Bar(\n    x=dff.index,\n    y=dff.MONTH,\n    name='National Air System',\n    marker=dict(\n        color = 'navy'\n    )\n)\n\ndata = [trace1,trace2,trace3]\nlayout = go.Layout(\n    title='Cancellation Reasons (Monthly)', \n    yaxis = dict(title = '# of Flights'\n                                                        )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","6c8a38f0":"dff = df[df.CANCELLATION_REASON == 'Weather'].DAY_OF_WEEK.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(dayOfWeek)\n\ntrace1 = go.Bar(\n    x=dff.index,\n    y=dff.DAY_OF_WEEK,\n    name = 'Weather',\n    marker=dict(\n        color = 'aqua'\n    )\n)\n\ndff = df[df.CANCELLATION_REASON=='Airline\/Carrier'].DAY_OF_WEEK.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(dayOfWeek)\n\ntrace2 = go.Bar(\n    x=dff.index,\n    y=dff.DAY_OF_WEEK,\n    name='Airline\/Carrier',\n    marker=dict(\n        color = 'red'\n    )\n)\n\ndff = df[df.CANCELLATION_REASON=='National Air System'].DAY_OF_WEEK.value_counts()\ndff = dff.to_frame().sort_index()\ndff.index = dff.index.map(dayOfWeek)\n\ntrace3 = go.Bar(\n    x=dff.index,\n    y=dff.DAY_OF_WEEK,\n    name='National Air System',\n    marker=dict(\n        color = 'navy'\n    )\n)\n\ndata = [trace1,trace2,trace3]\nlayout = go.Layout(\n    title='Cancellation Reasons (Day of Week)', \n    yaxis = dict(title = '# of Flights'\n                                                            )\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","357c2b61":"df['Date'] = pd.to_datetime(df[['DAY','MONTH','YEAR']])\ndf = df[df.MONTH < 9]\ndf1dm = df.resample('D', on='Date').mean()\ndf1wm = df.resample('W', on='Date').mean()\ndf1mm = df.resample('M', on='Date').mean()\ndf1dc = df.resample('D', on='Date').count()\ndf1wc = df.resample('W', on='Date').count()\ndf1mc = df.resample('M', on='Date').count()","77548c45":"hist_data = [df1dm[df1dm.DAY_OF_WEEK<6].ARRIVAL_DELAY, df1dm[df1dm.DAY_OF_WEEK==6].ARRIVAL_DELAY,\n            df1dm[df1dm.DAY_OF_WEEK==7].ARRIVAL_DELAY]\n\nlabels = ['Weekday', 'Saturday','Sunday']\ncolors = ['navy', 'green', 'red']\n\nfig = ff.create_distplot(hist_data, labels, colors=colors,\n                         show_hist=False, bin_size=.2)\n\nfig['layout'].update(title='Mean Arrival Delay')\npy.iplot(fig)","84269ed5":"correlation = df[['DAY_OF_WEEK','MONTH','ELAPSED_TIME', 'AIR_TIME', 'DISTANCE',\n       'WHEELS_ON', 'TAXI_IN', 'SCHEDULED_ARRIVAL', 'ARRIVAL_TIME',\n       'ARRIVAL_DELAY','SPEED']].fillna(0).corr()\ncols = correlation.columns.values\ncorr  = correlation.values\n\ntrace = go.Heatmap(z = corr,\n                   x = cols,\n                   y = cols,\n                   colorscale = \"YlOrRd\",reversescale = True\n                                    ) \n\ndata = [trace]\nlayout = go.Layout(dict(title = \"Correlation Matrix for variables\",\n                        autosize = False,\n                        height  = 600,\n                        width   = 800,\n                        margin  = dict(l = 200\n                                      ),\n                        yaxis   = dict(tickfont = dict(size = 8)),\n                        xaxis   = dict(tickfont = dict(size = 8))\n                       )\n                  )\n\nfig = go.Figure(data=data,layout=layout)\npy.iplot(fig)","8f4e933e":"**We expect that mean departure delay is higher than mean arrival delay since the latter affects the former. Hawaiian Airlines surpise me!**","e3e76c06":"**Air traffic by cities from both seaborn & plotly perspectives.**","d14561e6":"#### Reminder: ####\n- taxi_out = wheels_off - departure_time\n- taxi_in = arrival_time - wheels_on","65e2eac2":"## 2. Taxi Out vs. Taxi In","d565bdab":"What are your criterias for selecting an airline? For most people, it could be only ticket prices.\n\nIf you are aware of the value of time for passengers, it could be more important than ticket prices. I will compare airlines in 5 different categories as below. \n\n## AIRLINES COMPARISON\n- Arrival & Departure Delay\n- Taxi Out & Taxi In Time\n- Speed\n- Cancellation Rate\n- Cancellation Reason\n\n### 1. Arrival & Departure Delay\n\n**Stacked bar-mode helps us to visualize two features simultaneously. Do not forget to round!**\n\n**Bonus: x-axis rotation as in static visualization libraries!!!**","71316134":"<h1><center> PLOTLY TUTORIAL-2<\/center><\/h1>\n***\n**In this notebook, my aim is to investigate flight delays and cancellation reasons in several aspects while generating a comprehensive tutorial for PLOTLY enthusiasts.**\n\n**PLOTLY TUTORIAL - 1 (Kaggle ML and Data Science Survey):\nhttps:\/\/www.kaggle.com\/hakkisimsek\/plotly-tutorial-1**\n\n**PLOTLY TUTORIAL - 3 (S&P 500 Stock Data): https:\/\/www.kaggle.com\/hakkisimsek\/plotly-tutorial-3**\n\n**PLOTLY TUTORIAL - 4 (Google Store Customer Data): https:\/\/www.kaggle.com\/hakkisimsek\/plotly-tutorial-4**\n\n**PLOTLY TUTORIAL - 5 (Kaggle Survey 2018): https:\/\/www.kaggle.com\/hakkisimsek\/plotly-tutorial-5**\n\n**Before we start , it would be good to know the impact of flight delays on airlines & customers.**\n\n\"Delayed aircraft are estimated to have cost the airlines several billion dollars in additional expense. Delays also drive the need for extra gates and ground personnel and impose costs on airline customers (including shippers) in the form of lost productivity, wages and goodwill.\n\nAssuming 49 dollars  per hour as the average value of a passenger\u2019s time, 2017 delays are estimated to have cost air travelers billions of dollars. FAA\/Nextor estimated the annual costs of delays (direct cost to airlines and passengers, lost demand, and indirect costs)  in 2017 to be $26.6 billion.\"\n\nsource: http:\/\/airlines.org\/dataset\/per-minute-cost-of-delays-to-u-s-airlines\/\n\n<img src=\"https:\/\/cdn-images-1.medium.com\/max\/800\/1*CNuxBDgp-Cb-VPfm9NAb-Q.png\">\n\nsource: http:\/\/www.timqian.com\/star-history\/#bokeh\/bokeh&plotly\/dash\n","7ce53795":"**We should merge the first and second data sets because there are detailed airline info in the latter.**","6ecaab3d":"### 3. Speed","5f32f770":"**Follow same steps for a new data-set.**","ed132792":"### 4. Cancellation Rates","5b80386a":"#### Departure & Arrival delay may be related to city regulations and security concerns! Mean departure delay is 9.77 min.","9a056a87":"**Now, we will analyze lowest arrival delay by cities in terms of day of week.**","8d679b10":"**I write equations of unclear variables as below.**\n\n- taxi_out = wheels_off - departure_time\n- taxi_in = arrival_time - wheels_on\n- air_time = wheels_on - wheels_off\n- elapsed_time =air_time + taxi_in + taxi_out\n\n**First of all control data types & missing records and their percentages in columns.**","b11647ab":"**We should apply basic map functions for transforming months from (0-12) to (Jan-Nov) & days from (1-7) to (Monday-Sunday)**","f46c9ec8":"**Your feedback really matters - please share your thoughts and suggestions.**","86cb2a32":"**Again follow the same procedure for the airport data set that contains airport & city info.**","60261945":"**Weather seems the major cause of cancellations especially in the winter. **\n\n**Do you think that there is a relation between day of week & cancellation rate?  Probably not?** ","87aa2ed7":"### 5. Cancellation Reasons\n*Do you wonder why flights are cancelled wheather, security or anything else?*","e52361d2":"**Newton's theory of gravitation :)**","4f7e1b72":"**Cancelation rate rises dramatically in Dec-Jan-Feb. Is it all about weather?**","a39669d3":"**What would you like to learn first? It would be great to visualize categoric and temporal variables quickly to see boundaries of the data set.** \n\n**Then, we could analyze our dependent variables (arrival delay & departure delay) more detailly.**\n> **Logic behind the Plotly visuals is simple. Put everything related to data in trace and everything not related to data (like title or axis rotations) in layout and finally put both trace and layout in a figure. That's all!**"}}