{"cell_type":{"3fcb85f2":"code","cc9523bd":"code","9eed4876":"code","c26eaba8":"code","448d176d":"code","3498559f":"code","284952fc":"code","8eb478a8":"code","6ddbe1dd":"code","1e2d1695":"code","f704fbf0":"code","172ad691":"code","d821e22a":"code","0f6966bd":"code","c6a903c1":"code","5fb04996":"code","9a506d21":"code","1b198560":"code","cea8e75e":"code","92184bca":"code","7870c7cf":"code","24cb32c0":"code","04c20987":"code","119a62c7":"code","07fbf78b":"code","69120f31":"code","37cfee26":"code","f3428b46":"code","e4a8c66c":"code","cbc07af8":"code","60e60a11":"code","6eeaa10f":"code","01b5e4d1":"code","f4b0f744":"code","669d77e5":"code","b9ec0416":"code","b9299c22":"code","23198509":"code","58f0b35a":"code","2eb78deb":"code","3900f2fe":"code","7e970d57":"code","4fdacca6":"code","514644b0":"code","5c1022bb":"code","60fd8141":"code","ac8ed4d0":"code","44218162":"code","44edc99d":"code","f02575ad":"code","31576c18":"code","ec5f98e0":"code","f83355c1":"code","32f8dacf":"code","1c37c575":"code","7838ed80":"code","ff5e638f":"code","6e83b557":"code","f952f6d9":"code","30b61dee":"code","994093b8":"code","8c03ff67":"code","37790bb1":"code","d29983a5":"code","d9ef0d56":"code","545dcf3a":"code","25f1bd0a":"code","e901c5d7":"code","53310b09":"code","17a60fac":"code","b39ac9f9":"code","cdc3d5ba":"code","2f40279b":"code","0951bf81":"code","3257188a":"code","33f48203":"code","ddb05a4c":"code","5fb4ae99":"markdown","c826d6ee":"markdown","6e158483":"markdown","59d65741":"markdown","cd712b97":"markdown","7a48d5e1":"markdown","6d548015":"markdown","fd9600b2":"markdown","76fedd6e":"markdown","324d60b4":"markdown","83a6d33c":"markdown","e967554a":"markdown","1b404303":"markdown","a1f93f9e":"markdown"},"source":{"3fcb85f2":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport squarify\nimport descartes\nimport geopandas as gpd\nfrom shapely.geometry import Point, Polygon\n%matplotlib inline","cc9523bd":"from IPython.display import Image\nImage(filename='..\/input\/terror-images\/Terrorism.jpg', width=700)","9eed4876":"df = pd.read_csv('..\/input\/gtd\/globalterrorismdb_0718dist.csv', encoding = \"ISO-8859-1\", engine='python')","c26eaba8":"df.head()","448d176d":"df.shape","3498559f":"df.info()","284952fc":"df.describe()","8eb478a8":"ser = df.isnull().sum()\nser[ser.values>df.shape[0]\/2].describe()","6ddbe1dd":"plt.figure(figsize=(16,8))\nsns.heatmap(df.isnull(),cmap='coolwarm',cbar=False)","1e2d1695":"df.rename(columns={'iyear':'Year','imonth':'Month','iday':'Day','country_txt':'Country','natlty1_txt': 'Nationality',\n                       'region_txt':'Region','provstate':'State','attacktype1_txt':'AttackType','target1':'Target',\n                       'nkill':'Killed','nwound':'Wounded','summary':'Summary','gname':'Group',\n                       'targtype1_txt':'Target_type','weaptype1_txt':'Weapon_type','motive':'Motive'},inplace=True)\ndf = df[['Year','Month','Day','Country','State','Region','Nationality','city','latitude','longitude','AttackType','Killed',\n         'Wounded','Target','Group','success','Target_type','Weapon_type','Motive']]","f704fbf0":"print(df.shape)\ndf.head()","172ad691":"plt.figure(figsize=(16,8))\nsns.heatmap(df.isnull(),cmap='coolwarm',cbar=False)","d821e22a":"df['Nationality'].fillna('Unknown', inplace=True)\ndf['State'].fillna('Unknown', inplace=True)\n#df['city'].fillna('Unknown', inplace=True)","0f6966bd":"df.dropna(subset=['Killed', 'Wounded', 'longitude', 'latitude'], how='all',inplace=True)","c6a903c1":"df.shape","5fb04996":"print('Country with Highest Terrorist Attacks:', df['Country'].value_counts().index[0], ' Attacks:', df['Country'].value_counts()[0])\nprint('City with Highest Terrorist Attacks:', df['city'].value_counts().index[1], ' Attacks:', df['city'].value_counts()[1])\nprint('Region with Highest Terrorist Attacks:', df['Region'].value_counts().index[0], ' Attacks:', df['Region'].value_counts()[0])","9a506d21":"print('Maximum people killed in an attack:', df['Killed'].max(), 'that took place ', df.loc[df['Killed'].idxmax()].Country, '(', df.loc[df['Killed'].idxmax()].Year, ')')","1b198560":"plt.figure(figsize=(16,8))\nsns.set(style='darkgrid')\nsns.countplot(x='Country', hue='success', data=df, order=df['Country'].value_counts().index[:10], palette=\"spring\")\n#plt.xscale('log')\nplt.ylabel(\"Number of Attacks\", weight='bold')\nplt.xlabel(\"Country\", weight='bold')\nplt.legend(title='Success', shadow=True, facecolor='lightyellow')\nplt.title('Top 10 Countries with Maximum Terror Attacks', weight='bold')\nplt.show()","cea8e75e":"plt.figure(figsize=(16,8))\nsns.set(style='darkgrid')\nsns.countplot(x='Region', hue='success', data=df, order=df['Region'].value_counts().index[:10], palette=\"spring\")\n#plt.xscale('log')\nplt.ylabel(\"Number of Attacks\", weight='bold')\nplt.xlabel(\"Region\", weight='bold')\nplt.legend(title='Success', shadow=True, facecolor='lightyellow')\nplt.xticks(rotation=30)\nplt.title('Top 10 Regions with Maximum Terror Attacks', weight='bold')\nplt.show()","92184bca":"plt.figure(figsize=(16,8))\nsns.set(style='darkgrid')\nsns.countplot(x='city', hue='success', data=df, order=df['city'].value_counts().index[1:11], palette=\"spring\")\n#plt.xscale('log')\nplt.ylabel(\"Number of Attacks\", weight='bold')\nplt.xlabel(\"City\", weight='bold')\nplt.legend(title='Success', shadow=True, facecolor='lightyellow')\nplt.xticks(rotation=30)\nplt.title('Top 10 Cities with Maximum Terror Attacks', weight='bold')\nplt.show()","7870c7cf":"df_temp = pd.DataFrame(df[df['success']==1].groupby(df['Country']).size(), columns=['Successful'])\ndf_temp['Not_Successful'] = df[df['success']==0].groupby(df['Country']).size()","24cb32c0":"df_temp.fillna(0, inplace=True)","04c20987":"df_temp.reset_index(inplace=True)","119a62c7":"df_temp.head()","07fbf78b":"df_temp['Sucess_Rate'] = df_temp['Successful']\/df_temp['Not_Successful']\ndf_temp.head()","69120f31":"df_temp2 = df_temp.sort_values(by='Sucess_Rate')[:10]","37cfee26":"sns.set(style='darkgrid')\nplt.figure(figsize=(16,8))\nsns.barplot(y='Country', x='Sucess_Rate', data=df_temp2, palette='husl')\n\nplt.xscale('log')\n#plt.xticks(rotation=90)\nplt.ylabel('Country', weight='bold')\nplt.xlabel('Terrorism Success_Rate', weight='bold')\nplt.title('Top 10 Countries with High Terrorism Tackling Rate', weight='bold')\nplt.show()","f3428b46":"plt.figure(figsize=(16,8))\nsns.countplot('Year',data=df,palette='RdYlGn_r',edgecolor=sns.color_palette('dark',7))\nplt.xticks(rotation=90)\nplt.ylabel('Number of Attacks', weight='bold')\nplt.xlabel('Year', weight='bold')\nplt.title('Terrorist Activities Each Year')\nplt.show()","e4a8c66c":"ser_temp = df['AttackType'].value_counts()","cbc07af8":"#Considering top Attack Types\nser_temp['Other'] = ser_temp[ser_temp[:] <= 10000].sum()\nser_temp","60e60a11":"ser_temp.drop(ser_temp[ser_temp[:] <= 10000].index, inplace=True)\nser_temp","6eeaa10f":"plt.figure(figsize=(16,8))\nplt.pie(ser_temp.tolist(), labels=ser_temp.index.tolist(), autopct='%1.1f%%',shadow=True, startangle=0)\nplt.title('Distribution of Attack Types\\n', weight='bold')\nplt.axis('equal')\nplt.show()","01b5e4d1":"plt.figure(figsize=(16,8))\nsns.set(style='darkgrid')\nsns.countplot(x='AttackType', hue='success', data=df, order=df['AttackType'].value_counts().index, palette=\"spring\")\nplt.yscale('log')\nplt.ylabel(\"Number of Attacks\", weight='bold')\nplt.xlabel(\"Attack Type\", weight='bold')\nplt.legend(title='Success', shadow=True, facecolor='lightyellow')\nplt.xticks(rotation=30)\nplt.title('Top 10 Attack Types', weight='bold')\nplt.show()","f4b0f744":"ser_temp = df['Target_type'].value_counts()","669d77e5":"ser_temp['Others'] = ser_temp[ser_temp[:] <= 20000].sum()","b9ec0416":"ser_temp.drop(ser_temp[ser_temp[:] <= 20000].index, inplace=True)\nser_temp","b9299c22":"plt.figure(figsize=(16,8))\nplt.pie(ser_temp.tolist(), labels=ser_temp.index.tolist(), autopct='%1.1f%%',shadow=True, startangle=0)\nplt.title('Distribution according to Target Type\\n', weight='bold')\nplt.axis('equal')\nplt.show()","23198509":"plt.figure(figsize=(16,8))\nsns.countplot(df['Target_type'],palette='rainbow_r',order=df['Target_type'].value_counts().index)\nplt.xticks(rotation=90)\nplt.xlabel('Target Type', weight='bold')\nplt.ylabel('Number of Attacks', weight='bold')\nplt.title('Favorite Targets', weight='bold')\nplt.show()","58f0b35a":"df.Group.value_counts()[:10]","2eb78deb":"top10 = df.groupby('Group')['Year'].count().nlargest(11).index","3900f2fe":"top10","7e970d57":"df_top10 = df[df['Group'].isin(top10)]","4fdacca6":"df_top10 = df_top10[~(df_top10['Group']=='Unknown')]","514644b0":"groupYear = pd.crosstab(df_top10.Year, df_top10.Group)\ngroupYear.head()","5c1022bb":"color_list_reg_yr = ['palegreen', 'lime', 'green', 'Aqua', 'skyblue', 'darkred', 'darkgray', 'tan', 'orangered', 'plum', 'salmon', 'mistyrose']\ngroupYear.plot(figsize=(16, 10), color=color_list_reg_yr)\nplt.xlabel('Year', weight='bold')\nplt.ylabel('Number of Attacks', weight='bold')\nplt.title('Group Based Terrorist Attacks over Years', weight='bold')\nplt.show()","60fd8141":"df_temp = pd.DataFrame(df_top10[df_top10['success']==1].groupby(df_top10['Group']).size(), columns=['Successful'])\ndf_temp['Not_Successful'] = df_top10[df_top10['success']==0].groupby(df_top10['Group']).size()","ac8ed4d0":"df_temp.reset_index(inplace=True)","44218162":"df_temp","44edc99d":"df_temp['Total_Attacks'] = df_temp['Successful'] + df_temp['Not_Successful']","f02575ad":"ser1 = df_top10['Killed'].groupby(df_top10['Group']).sum()","31576c18":"ser2 = df_top10['Wounded'].groupby(df_top10['Group']).sum()","ec5f98e0":"sns.set(style='darkgrid')\nplt.figure(figsize=(16,8))\nsns.barplot(y=ser1.index.tolist(), x=ser1.tolist(), palette='husl')\n\n#plt.xscale('log')\n#plt.xticks(rotation=90)\nplt.ylabel('Country', weight='bold')\nplt.xlabel('Number of People Killed', weight='bold')\nplt.title('Top 10 Terrorist Groups', weight='bold')\nplt.show()","f83355c1":"sns.set(style='darkgrid')\nplt.figure(figsize=(16,8))\nsns.barplot(y=ser2.index.tolist(), x=ser2.tolist(), palette='husl')\n\n#plt.xscale('log')\n#plt.xticks(rotation=90)\nplt.ylabel('Country', weight='bold')\nplt.xlabel('Number of People Wounded', weight='bold')\nplt.title('Top 10 Terrorist Groups', weight='bold')\nplt.show()","32f8dacf":"sns.set(style='darkgrid')\nplt.figure(figsize=(16,8))\nsns.barplot(y='Group', x='Successful', data=df_temp, color='b', label='Successful')\nsns.barplot(y='Group', x='Not_Successful', data=df_temp, color='g', label='Failure')\n#plt.yscale('log')\n#plt.xticks(rotation=90)\nplt.ylabel('Terrorist Groups', weight='bold')\nplt.xlabel('Number of Attacks', weight='bold')\nplt.legend(title='Success', shadow=True, facecolor='lightyellow')\nplt.show()","1c37c575":"pd.crosstab(df_top10['Group'],df_top10['AttackType']).plot.barh(stacked=True, figsize=(16,8))\nplt.title('Top 10 Groups based on Attack Type', weight='bold')\nplt.xlabel('Number of Attacks', weight='bold')\nplt.ylabel('Terrorist Group', weight='bold')","7838ed80":"pd.crosstab(df_top10['Group'],df_top10['Weapon_type']).plot.barh(stacked=True, figsize=(16,8))\nplt.title('Top 10 Groups based on Weapon Type', weight='bold')\nplt.xlabel('Number of Attacks', weight='bold')\nplt.ylabel('Terrorist Group', weight='bold')","ff5e638f":"ser1 = df['Nationality'].value_counts()","6e83b557":"plt.figure(figsize=(16,8))\nsquarify.plot(sizes=ser1.tolist(), label=ser1.index.tolist()[:40],alpha=0.5)\nplt.title('Nationality of Terrorists(Size is proportional to number of attacks)\\n', weight='bold')\nplt.show()","f952f6d9":"world_map = gpd.read_file('..\/input\/worldborders\/TM_WORLD_BORDERS-0.3.shp')","30b61dee":"crs = {'init':'epsg:4326'}","994093b8":"geometry = [Point(xy) for xy in zip(df_top10['longitude'], df_top10['latitude'])]","8c03ff67":"geo_df = gpd.GeoDataFrame(df_top10, crs=crs, geometry=geometry)\ngeo_df.head()","37790bb1":"fig, ax = plt.subplots(figsize=(16,8))\nworld_map.plot(ax=ax, alpha=0.4, color = 'grey')\ngeo_df[geo_df['success']==0].plot(ax=ax, markersize=10, color='blue', alpha=0.9, marker='^', label='Failure')\ngeo_df[geo_df['success']==1].plot(ax=ax, markersize=10, color='lime', alpha=0.2, marker='o', label='Success')\nplt.title('Terror Hotspots In the World', weight='bold')\nplt.legend(prop={'size':15})\n","d29983a5":"df_India=df[df['Country']=='India']","d9ef0d56":"plt.figure(figsize=(16,8))\nsns.countplot('Year',data=df_India,palette='inferno',edgecolor=sns.color_palette('dark',7))\nplt.xticks(rotation=90)\nplt.ylabel('Number of Attacks', weight='bold')\nplt.xlabel('Year', weight='bold')\nplt.title('Terrorist Activities in India', weight='bold')\nplt.show()","545dcf3a":"pd.crosstab(df_India[df_India['Group'].isin(df_India['Group'].value_counts()[1:6].index)]['Year'],\n            df_India[df_India['Group'].isin(df_India['Group'].value_counts()[1:6].index)]['Group']).plot(color=sns.color_palette('Paired',10),figsize=(18,6))","25f1bd0a":"ser1 = df_India['Target_type'].value_counts()[:10]","e901c5d7":"plt.figure(figsize=(16,8))\nsns.barplot(ser1.tolist(),ser1.index.tolist(),palette='inferno',edgecolor=sns.color_palette('dark',7))\n#plt.xticks(rotation=90)\nplt.ylabel('Target Type', weight='bold')\nplt.xlabel('Number of Attacks', weight='bold')\nplt.title('Targets in India', weight='bold')\nplt.show()","53310b09":"india_map = gpd.read_file('..\/input\/indianborder\/Indian_States.shp')","17a60fac":"top10 = df_India.groupby('Group')['Year'].count().nlargest(11).index\ntop10[1:10]","b39ac9f9":"df_top10India = df_India[df_India['Group'].isin(top10)]\ndf_top10India = df_top10India[~(df_top10India['Group']=='Unknown')]","cdc3d5ba":"geometry = [Point(xy) for xy in zip(df_top10India['longitude'], df_top10India['latitude'])]\ngeo_df = gpd.GeoDataFrame(df_top10India, crs=crs, geometry=geometry)\ngeo_df.head()","2f40279b":"fig, ax = plt.subplots(figsize=(16,8))\nindia_map.plot(ax=ax, alpha=0.4, color = 'grey')\nmarker = ['o', '^', 'x', '*', '+', '<', '>', '|', ',', '.']\ncolors=['r','g','b','y','#800000','#ff1100','#8202fa','#20fad9','#ff5733','#fa02c6']\nfor i in range(len(marker)):        \n    geo_df[geo_df['Group']==geo_df['Group'].value_counts().index[i]].plot(ax=ax, markersize=10, color=colors[i], marker=marker[i], label=geo_df['Group'].value_counts().index[i])\n    \nplt.title('Terror Hotspots In India', weight='bold')\nplt.axis('equal')\nplt.legend(prop={'size':10})","0951bf81":"df_temp = df_India[(df_India['Year']==2014)]\nser1 = df_temp['Killed'].groupby(df_temp['State']).sum()\nser1.sort_values(ascending=False, inplace=True)\n\ndf_temp1 = df_India[(df_India['Year']==2015)]\nser2 = df_temp1['Killed'].groupby(df_temp1['State']).sum()\nser2.sort_values(ascending=False, inplace=True)\n\ndf_temp2 = df_India[(df_India['Year']==2016)]\nser3 = df_temp2['Killed'].groupby(df_temp2['State']).sum()\nser3.sort_values(ascending=False, inplace=True)\n\ndf_temp3 = df_India[(df_India['Year']==2017)]\nser4 = df_temp3['Killed'].groupby(df_temp3['State']).sum()\nser4.sort_values(ascending=False, inplace=True)\n\n","3257188a":"df_temp = ser1.to_frame().join(ser2, lsuffix='_2014', rsuffix='_2015').join(ser3).join(ser4, lsuffix='_2016', rsuffix='_2017')\nprint('\\tStats of People Killed during last 4 years')\ndf_temp","33f48203":"df_temp = ser1.to_frame().join(ser2, lsuffix='_2014', rsuffix='_2015').join(ser3).join(ser4, lsuffix='_2016', rsuffix='_2017')\ndf_temp = df_temp[:10]\ndf_temp.reset_index(inplace=True)\ndf_temp","ddb05a4c":"sns.set(style='darkgrid')\nplt.figure(figsize=(16,8))\nsns.barplot(y='Killed_2014', x='State', data=df_temp, alpha=.6, color='b', label='2014')\nsns.barplot(y='Killed_2015', x='State', data=df_temp, alpha=.4, color='g', label='2015')\nsns.barplot(y='Killed_2016', x='State', data=df_temp, alpha=.6, color='y', label='2016')\nsns.barplot(y='Killed_2017', x='State', data=df_temp, alpha=.4, color='r', label='2017')\n#plt.yscale('log')\n#plt.xticks(rotation=90)\nplt.ylabel('Killed', weight='bold')\nplt.xlabel('States', weight='bold')\nplt.legend(title='Year', shadow=True, facecolor='lightyellow')\nplt.title('Number of Killings in top 10 States', weight='bold')\nplt.show()","5fb4ae99":"## Terrorism in India ","c826d6ee":"## Summary","6e158483":"## Overview","59d65741":"    Terrorism is defined as \u201cthe unlawful use of violence and intimidation, especially against civilians, in the pursuit of political aims.\u201d \nThe key problem is that terrorism is difficult to distinguish from other forms of political violence and violent crime, such as state-based armed conflict, non-state conflict, one-sided violence, hate crime, and homicide. The lines between these different forms of violence are often blurry. Here, we take a look at standard criteria of what constitutes terrorism, as well as how it might be distinguished from other forms of violence.\n                Despite the innumerable and often-discussed ways in which we are vulnerable to them, terrorist attacks are rare. An attack occurs only when a perpetrator vile enough to commit it, a motive strong enough to rouse him to action, a target germane to the motive, and the wherewithal to act all converge at the same place and time.","cd712b97":"Red represents NULL values","7a48d5e1":"We will look at:  \n    1. Some basic Statistics  \n    2. Countries with Maximum Terror Attacks  \n    3. Success Rate of Terror Attacks  \n    4. Terrorist Activities Over the Years  \n    5. Distribution of Attack Type  \n    6. Common Targets for the attack  \n    7. Top 10 Terrorist Groups  \n    8. Rise\/Fall of Terrorist Groups Over the years  \n    9. Common weapons used by these groups  \n    10. Number of people affected by these activities.  \n    11. Terrorism in India  ","6d548015":"#                                GLOBAL  TERRORISM  EDA","fd9600b2":"## Importing the Dataset","76fedd6e":"## Data Cleaning ","324d60b4":"### Basic Statistics: ","83a6d33c":"Cleaned the data successfully","e967554a":"1. In India, Jammu and Kashmir saw increase in terror activities over the years.(till 2017)\n2. During the last 4 years, Union Territories including Puducherry, Delhi, Chandigarh have seen very low terror activities.\n3. Terror Group:ISIL has incresed its activities significantly over the years.\n4. In India, Sikh Extremists' activities is totally under control.\n5. Gambia and Ireland have completely tackled high terrorist activities.(due to low terror activities)\n6. Hostage target type activities saw a significant rise till 2010.\n7. Taliban activities saw maximum casualities and usage of high amount of explosives.\n","1b404303":"# Data Analysis and Visualisation","a1f93f9e":"### Selecting the required columns"}}