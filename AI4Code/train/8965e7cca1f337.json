{"cell_type":{"9fc40f23":"code","6ba812ae":"code","066c0bc3":"code","74cbdcb5":"code","6591a549":"code","0eecdd37":"code","0ddb0ccd":"code","777b27be":"code","eea6ce01":"code","c651dc3a":"code","831e8400":"code","ae861864":"code","2138ba81":"code","7c1d1738":"code","384266e2":"code","4e09e3af":"code","3719c4c7":"code","cf7499ae":"code","b6594c28":"code","f89879b2":"code","ace56c56":"code","193360ff":"code","fd8a3c52":"code","d1e6e28f":"code","4678f6b3":"code","3d339a27":"code","25c9f898":"code","391967c1":"code","404a8914":"code","3ff6d01a":"code","0e275ef3":"code","adadfb4f":"code","157f78d1":"code","ce257a6c":"markdown","3a06bfc6":"markdown","66a107cd":"markdown","2bbda762":"markdown","1fa0b613":"markdown","1802c50e":"markdown","581fa488":"markdown","584f873e":"markdown","3411ca09":"markdown","1d72041c":"markdown"},"source":{"9fc40f23":"import datetime\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport plotly.graph_objs as go\nimport numpy as np\nimport folium\nfrom folium import plugins","6ba812ae":"df = pd.read_csv('\/kaggle\/input\/corona-virus-brazil\/brazil_covid19_macro.csv')\ndf.head()","066c0bc3":"df.info()","74cbdcb5":"primeiro_caso = df['date'].iloc[0]\nprimeiro_obito = df.query('deaths > 0').date.iloc[0]","6591a549":"print(\"Primeiro caso de coronav\u00edrus: {}\".format(primeiro_caso))\nprint(\"Primeiro \u00f3bito por COVID-19: {}\".format(primeiro_obito))","0eecdd37":"numeros_atualizados = df.groupby(['date']).sum().tail(1)","0ddb0ccd":"casos_confirmados = numeros_atualizados['cases'][0]\nobitos_confirmados = numeros_atualizados['deaths'][0]\ntx_perc_mortalidade = obitos_confirmados\/casos_confirmados * 100\nnow = datetime.datetime.now()","777b27be":"print(\"\u00daltima atualiza\u00e7\u00e3o: {}\".format(str(now)))\nprint(\"Casos confirmados: {}\".format(casos_confirmados))\nprint(\"\u00d3bitos confirmados: {}\". format(obitos_confirmados))\nprint(\"Taxa de letalidade: {:.2f}%\". format(tx_perc_mortalidade))","eea6ce01":"fig = go.Figure()\n    \nfig.add_trace(go.Scatter(x=df['date'], y=df['cases'],name='Casos confirmados', line=dict(color='Blue', width=3)))\nfig.add_trace(go.Scatter(x=df['date'], y=df['deaths'], name='\u00d3bitos', line=dict(color='Red', width=3)))\nfig.add_trace(go.Scatter(x=df['date'], y=df['recovered'], name='Casos recuperados',line=dict(color='Green', width=3)))\nfig.add_trace(go.Scatter(x=df['date'], y=df['monitoring'], name='Em monitoramento',line=dict(color='Orange', width=3)))\n\nfig.update_layout(title='Avan\u00e7o do novo coronav\u00edrus no Brasil',\n                   xaxis_title='Data',\n                   yaxis_title='Ocorr\u00eancia (acumulado)',\n                   legend=dict(x=0, y=1))\n    \nfig.show()","c651dc3a":"df['new_cases'] = df['cases'].diff(1)\ndf['new_deaths'] = df['deaths'].diff(1)\ndf['new_recovered'] = df['recovered'].diff(1)\ndf['new_monitoring'] = df['monitoring'].diff(1)","831e8400":"fig = go.Figure()\n    \nfig.add_trace(go.Bar(x=df['date'], y=df['new_cases'],name='Novos casos'))\nfig.add_trace(go.Bar(x=df['date'], y=df['new_deaths'], name='Novos \u00f3bitos'))\n\nfig.update_layout(title='Novos casos e \u00f3bitos',\n                 yaxis_title='Ocorr\u00eancia',\n                 legend=dict(x=0, y=1))\n    \nfig.show()\n              ","ae861864":"fig = go.Figure()\n\nfig.add_trace(go.Bar(x=df['date'], y=df['new_recovered'], name='Novos casos recuperados', marker_color='Green'))\nfig.add_trace(go.Bar(x=df['date'], y=df['new_monitoring'], name='Novos casos em monitoramento', marker_color='Orange'))\n\nfig.update_layout(title='Novos casos recuperado e em monitoramento',\n                 yaxis_title='Ocorr\u00eancia',\n                 legend=dict(x=0, y=1))\n    \nfig.show()","2138ba81":"df_estado = pd.read_csv('\/kaggle\/input\/corona-virus-brazil\/brazil_covid19.csv')\ndf_estado.head()","7c1d1738":"state_new = {'Acre':'AC',\n               'Alagoas':'AL',\n               'Amap\u00e1':'AP',\n               'Amazonas':'AM',\n               'Bahia':'BA',\n               'Cear\u00e1':'CE',\n               'Distrito Federal':'DF',\n               'Esp\u00edrito Santo':'ES',\n               'Goi\u00e1s':'GO',\n               'Maranh\u00e3o':'MA',\n               'Mato Grosso':'MT',\n               'Mato Grosso do Sul':'MS',\n               'Minas Gerais': 'MG',\n               'Par\u00e1':'PA',\n               'Para\u00edba':'PB',\n               'Paran\u00e1': 'PR',\n               'Pernambuco':'PE',\n               'Piau\u00ed':'PI',\n               'Rio de Janeiro':'RJ',\n                'Rio Grande do Norte':'RN',\n               'Rio Grande do Sul':'RS',\n               'Rond\u00f4nia':'RO',\n               'Roraima':'RR',\n               'Santa Catarina':'SC',\n               'S\u00e3o Paulo':'SP',\n               'Sergipe':'SE',\n               'Tocantins':'TO',\n              }","384266e2":"df_estado['state_new'] = df_estado['state'].map(state_new)","4e09e3af":"df_estado['mort%'] = df_estado['deaths']\/df_estado['cases'] * 100","3719c4c7":"df_ac = df_estado.tail(27)\ndf_ac","cf7499ae":"fig = go.Figure()\n\nfig.add_trace(go.Pie(labels=df_ac['region'], values=df_ac['cases'], hole=.5))\n\nfig.update_layout(title='Casos de COVID-19 por regi\u00e3o',\n                 yaxis_title='Ocorr\u00eancia',\n                 xaxis_title='Estados',\n                 xaxis={'categoryorder':'total descending'},\n                 legend=dict(x=1, y=1))\n    \nfig.show()","b6594c28":"fig = go.Figure()\n\nfig.add_trace(go.Bar(x=df_ac['state_new'], y=df_ac['cases'], marker_color='Blue'))\n\nfig.update_layout(title='Casos de COVID-19 por estado',\n                 yaxis_title='Ocorr\u00eancia',\n                 xaxis_title='Estados',\n                 xaxis={'categoryorder':'total descending'},\n                 legend=dict(x=0, y=1))\n    \nfig.show()","f89879b2":"fig = go.Figure()\n\nfig.add_trace(go.Pie(labels=df_ac['region'], values=df_ac['deaths'], hole=.5))\n\nfig.update_layout(title='\u00d3bitos de COVID-19 por regi\u00e3o',\n                 yaxis_title='Ocorr\u00eancia',\n                 xaxis_title='Estados',\n                 xaxis={'categoryorder':'total descending'},\n                 legend=dict(x=1, y=1))\n    \nfig.show()","ace56c56":"fig = go.Figure()\n\nfig.add_trace(go.Bar(x=df_ac['state_new'], y=df_ac['deaths'], marker_color='Red'))\n\nfig.update_layout(title='\u00d3bitos de COVID-19 por estado',\n                 yaxis_title='Ocorr\u00eancia',\n                 xaxis_title='Estados',\n                 xaxis={'categoryorder':'total descending'},\n                 legend=dict(x=0, y=1))\n    \nfig.show()","193360ff":"df_cities = pd.read_csv('\/kaggle\/input\/corona-virus-brazil\/brazil_covid19_cities.csv')\ndf_cities = df_cities.set_index('name')\ndf_cities.tail()","fd8a3c52":"att = df_cities[df_cities['date'] == max(df_cities['date'])]","d1e6e28f":"df_coord = pd.read_csv('..\/input\/corona-virus-brazil\/brazil_cities_coordinates.csv')\ndf_coord.head()","4678f6b3":"result = pd.merge(att, df_coord, left_index=True, right_on='city_name')\nresult = result.drop(columns={'state', 'code', 'state_code', 'city_code', 'capital'})","3d339a27":"result.head()","25c9f898":"coordenadas = result[['lat', 'long', 'cases']]","391967c1":"baseMap = folium.Map(\n            width=\"100%\",\n            height='100%',\n            location=[-15.788497, -47.879873],\n            tiles='OpenStreetMap',\n            zoom_start=4\n)","404a8914":"for i in range(0, len(result)):\n    folium.Circle(\n        location = [result.iloc[i]['lat'], result.iloc[i]['long']],\n        color = '#00FF6A',\n        fill = '#00A1B3',\n        tooltip = '<li><bold> CIDADE: ' + str(result.iloc[i]['city_name']) + \n                  '<li><bold> CASOS: ' + str(result.iloc[i]['cases']) +\n                  '<li><bold> \u00d3BITOS: ' + str(result.iloc[i]['deaths']),\n        radius = (2.0)\n        \n    ).add_to(baseMap)","3ff6d01a":"baseMap = baseMap.add_child(plugins.HeatMap(coordenadas))","0e275ef3":"baseMap","adadfb4f":"df_sudeste_hist = df_estado.loc[df_estado['region'] == 'Sudeste']\ndf_sudeste = df_sudeste_hist.groupby(['date']).mean()\ndf_nordeste_hist = df_estado.loc[df_estado['region'] == 'Nordeste']\ndf_nordeste = df_nordeste_hist.groupby(['date']).mean()\ndf_norte_hist = df_estado.loc[df_estado['region'] == 'Norte']\ndf_norte = df_norte_hist.groupby(['date']).mean()\ndf_sul_hist = df_estado.loc[df_estado['region'] == 'Sul']\ndf_sul = df_sul_hist.groupby(['date']).mean()\ndf_centro_hist = df_estado.loc[df_estado['region'] == 'Centro-Oeste']\ndf_centro = df_centro_hist.groupby(['date']).mean()","157f78d1":"fig = go.Figure()\n    \nfig.add_trace(go.Scatter(x=df_sudeste.index, y=df_sudeste['mort%'], name='Sudeste', line=dict(color='Blue', width=2)))\nfig.add_trace(go.Scatter(x=df_nordeste.index, y=df_nordeste['mort%'], name='Nordeste', line=dict(color='Orange', width=2)))\nfig.add_trace(go.Scatter(x=df_norte.index, y=df_norte['mort%'], name='Norte', line=dict(color='Red', width=2)))\nfig.add_trace(go.Scatter(x=df_sul.index, y=df_sul['mort%'], name='Sul', line=dict(color='Green', width=2)))\nfig.add_trace(go.Scatter(x=df_centro.index, y=df_centro['mort%'], name='Centro Oeste', line=dict(color='Purple', width=2)))\n\nfig.update_layout(title='Taxa de letalidade por regi\u00e3o do Brasil',\n                   xaxis_title='Data',\n                   yaxis_title='Letalidade %',\n                   legend=dict(x=0, y=1))\n    \nfig.show()","ce257a6c":"# **Apresenta\u00e7\u00e3o**\n\nOl\u00e1! Me chamo Leonardo, sou estudante do bacharelado em Ci\u00eancia e Tecnologia na Universidade Federal do ABC. Tenho muito interesse por ci\u00eancia de dados e machine learning. Em momentos como esse, penso que seja de extrema import\u00e2ncia trabalhos e projetos (ainda que simples) que possam contribuir para a nossa sociedade, trazendo informa\u00e7\u00f5es mais detalhadas sobre o cen\u00e1rio atual brasileiro frente \u00e0 pandemia do novo coronav\u00edrus.\n\nSe tiverem cr\u00edticas construtivas, sugest\u00f5es e ideias deixem-me saber      :)\n\nE-mail para contato: leo.drigo@yahoo.com.br","3a06bfc6":"Importaremos tamb\u00e9m as coordenadas geogr\u00e1ficas de cada munic\u00edpio","66a107cd":"Mapa de calor do Brasil:","2bbda762":"Como est\u00e1 a situa\u00e7\u00e3o em cada estado brasileiro? E quanto \u00e0s regi\u00f5es do pa\u00eds?","1fa0b613":"Voltaremos a analisar a taxa de letalidade do coronav\u00edrus com mais calma, penso que esse dado pode nos trazer informa\u00e7\u00f5es importantes sobre a\u00e7\u00f5es que estamos tomando e nos dar uma ideia do cen\u00e1rio que encontraremos a frente.\n\n","1802c50e":"E quanto aos munic\u00edpios do Brasil?","581fa488":"Podemos perceber que o comportamento da taxa de letalidade na regi\u00e3o Nordeste do Brasil \u00e9 diferente das outras regi\u00f5es. Ela nos mostra que alguma a\u00e7\u00e3o foi tomada a partir do in\u00edcio de Abril. Nesse caso, uma das a\u00e7\u00f5es tomadas foi a distribui\u00e7\u00e3o de kits de testes pelo Minist\u00e9rio da S\u00e1ude.\n\nhttp:\/\/g1.globo.com\/bahia\/batv\/videos\/t\/edicoes\/v\/pandemia-estados-da-regiao-nordeste-do-brasil-recebem-kits-de-testes-de-coronavirus\/8473738\/\n\nDe fato, alguns fatores podem determinar a taxa de letalidade em um determinado local. Entretando, regi\u00f5es que apresentam altos \u00edndices tem grandes ind\u00edcios de que os testes realizados **n\u00e3o s\u00e3o suficientes**\n","584f873e":"Antes de come\u00e7armos, vamos dar uma olhada no dataset.","3411ca09":"Vamos importar o dataset que cont\u00e9m o n\u00famero de casos e \u00f3bitos em cada munic\u00edpio brasileiro","1d72041c":"Utilizaremos apenas a contagem acumulada, desconsiderando os n\u00fameros dos dias anteriores (Podemos consider\u00e1-los e visualizar no mapa de calor abaixo ao longo dos dias)"}}