{"cell_type":{"b1f9bc3c":"code","7b40033f":"code","222c274a":"code","c6b78900":"code","d663b400":"code","e0afe93b":"code","03df5c6f":"code","df1a1679":"code","794841b3":"code","137541c1":"code","026cb6f5":"code","8bc8842c":"code","19e95ab1":"code","090cd14d":"code","d2d80614":"code","ff59d7d2":"code","27afc32a":"code","31421c0c":"code","5bb63565":"code","e0688b6e":"code","28ff1b9a":"code","130d4489":"code","606ff678":"code","350eb38d":"code","ca999b92":"code","91d507c9":"code","7d0418c9":"code","5c2d8511":"code","5d59d43d":"code","b20ea151":"code","abba3e79":"code","e1bcd89e":"markdown","7a9117af":"markdown","a1a64f8b":"markdown","0bb0c801":"markdown","05c6e226":"markdown","a71232c6":"markdown","61f36b35":"markdown","7ef5280f":"markdown","848539c8":"markdown","774c3d83":"markdown","3e64a3df":"markdown","7b67c596":"markdown","61dbf63d":"markdown","25eff2aa":"markdown","27016efb":"markdown","60d41079":"markdown","3c3684a0":"markdown","9c6ae970":"markdown","ec98b806":"markdown","70d83b65":"markdown","6d8dff9b":"markdown","13b1bed7":"markdown","c985d29a":"markdown","54c6222e":"markdown","7a661050":"markdown","624cf98a":"markdown","11a1a645":"markdown","984ce40a":"markdown"},"source":{"b1f9bc3c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","7b40033f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib import style\nfrom numpy import median\nimport seaborn as sns\nsns.set_style(\"whitegrid\")\nimport calendar\nimport datetime\n\nuber=pd.read_csv(\"\/kaggle\/input\/uber-request-data\/Uber Request Data.csv\")\nprint(uber.info())\nuber.head()","222c274a":"\nstatuscount=uber[[\"Request id\",\"Status\"]].groupby(\"Status\").count()\nstatuscount","c6b78900":"\n\n\n#Missing Data Check\nuber.isnull().sum()","d663b400":"reqtype=uber[[\"Request id\",\"Status\",\"Pickup point\"]].groupby([\"Pickup point\",\"Status\"]).count()\n\nreqtype.unstack().plot(kind='bar', stacked=True, figsize=[5,4],colormap=\"cool\")\nplt.xlabel(\"Pickup point\")\nplt.ylabel(\"Trip requests\")\nplt.title(\"Comparison of number of requests from both sources\")\nplt.legend(title='Trip Status',loc='upper center', bbox_to_anchor=(1.25, 0.8), shadow=True, ncol=1, labels=['Cancelled', 'No Cars Available', 'Completed'])\n","e0afe93b":"\npercentgap=reqtype.unstack()\npercentgap[\"Cancel%\"]=percentgap[\"Request id\"][\"Cancelled\"]\/percentgap.iloc[0:,:3].sum(axis=1)*100\npercentgap[\"NoCarsAvailable%\"]=percentgap[\"Request id\"][\"No Cars Available\"]\/percentgap.iloc[0:,:3].sum(axis=1)*100\npercentgap[\"TripCompleted%\"]=percentgap[\"Request id\"][\"Trip Completed\"]\/percentgap.iloc[0:,:3].sum(axis=1)*100\n\npercentgap.iloc[0:,3:].plot(kind='bar', stacked=True, figsize=[5,4],colormap=\"winter\")\nplt.xlabel(\"Pickup point\")\nplt.ylabel(\"Percent of total trip requests status\")\nplt.title(\"Percentage of trip status\")\nplt.legend(title='Trip Status', loc='upper center', bbox_to_anchor=(1.25, 0.9), shadow=True, ncol=1, labels=['Cancelled', 'No Cars Available', 'Completed'])\n","03df5c6f":"uber['Request timestamp'] = pd.to_datetime(uber['Request timestamp'])\nuber['reqhour']=uber['Request timestamp'].dt.hour\nuber['Day'] = uber['Request timestamp'].apply(lambda x: datetime.datetime.strftime(x, '%A'))\nuber.head()\n\n","df1a1679":"\n\ntripday=uber[[\"Request id\",\"Status\",\"Day\"]].groupby([\"Day\",\"Status\"]).count().unstack()\nplt.figure(figsize=(15,10))\ntripday.plot(kind='bar', stacked=True, figsize=[8,5], legend=True,colormap=\"winter\")\nplt.xlabel(\"Day\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"Trip status\")\nplt.legend(title='Trip Status', loc='upper left', labels=['Trip Cancelled', 'No Cars Available', 'Trip Completed'])\nplt.show()\n","794841b3":"\ntimeslots=uber[[\"Request id\",\"Status\",\"Day\",\"Pickup point\"]].groupby([\"Day\",\"Pickup point\",\"Status\"]).count()\nplt.figure(figsize=(15,10))\ntimeslots.unstack().plot(kind='bar', stacked=True, figsize=[10,6], legend=True,colormap=\"winter\")\nplt.xlabel(\"Hour of the day, Pickup Point\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"Trip status during hourly timeslots in the duration 0000hrs-2300hrs\")\nplt.legend(title='Trip Status', loc='upper left', labels=['Trip Cancelled', 'No Cars Available', 'Trip Completed'])\nplt.show()\n","137541c1":"\n\ntimeslots=uber[[\"Request id\",\"Status\",\"reqhour\"]].groupby([\"reqhour\",\"Status\"]).count()\nplt.figure(figsize=(15,10))\ntimeslots.unstack().plot(kind='bar', stacked=True, figsize=[10,6], legend=True,colormap=\"winter\")\nplt.xlabel(\"Trip Hour-24 hours\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"Trip status during hourly timeslots in the duration 0000hrs-2300hrs\")\nplt.legend(title='Trip Status', loc='upper left', labels=['Trip Cancelled', 'No Cars Available', 'Trip Completed'])\nplt.show()\n\n\n\n","026cb6f5":"timeslots=uber[[\"Request id\",\"Status\",\"reqhour\",\"Pickup point\"]].groupby([\"reqhour\",\"Pickup point\",\"Status\"]).count()\nplt.figure(figsize=(15,10))\ntimeslots.unstack().plot(kind='bar', stacked=True, figsize=[15,8], legend=True,colormap=\"winter\")\nplt.xlabel(\"Hour of the day, Pickup Point\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"Trip status during hourly timeslots in the duration 0000hrs-2300hrs\")\nplt.legend(title='Trip Status', loc='upper left', labels=['Trip Cancelled', 'No Cars Available', 'Trip Completed'])\nplt.show()\ntimeslots=uber[[\"Request id\",\"Status\",\"reqhour\",\"Pickup point\"]].groupby([\"reqhour\",\"Pickup point\",\"Status\"]).count()\nplt.figure(figsize=(15,10))\ntimeslots.unstack().plot(kind='bar', stacked=True, figsize=[15,8], legend=True,colormap=\"winter\")\nplt.xlabel(\"Hour of the day, Pickup Point\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"Trip status during hourly timeslots in the duration 0000hrs-2300hrs\")\nplt.legend(title='Trip Status', loc='upper left', labels=['Trip Cancelled', 'No Cars Available', 'Trip Completed'])\nplt.show()\n","8bc8842c":"# create dataframe of trip status value counts for city and airport \nsd=uber[[\"Request id\",\"Status\",\"reqhour\",\"Pickup point\"]].groupby([\"reqhour\",\"Pickup point\",\"Status\"]).count().unstack()\n\n# fill nan values with 0 because Nan is for 0 count in respective trip status\n\nsupdem=sd.fillna(0)\n\n\ncancel=round(supdem[\"Request id\"][\"Cancelled\"]\/supdem.sum(axis=1)*100)\n\nnocars=round(supdem[\"Request id\"][\"No Cars Available\"]\/supdem.sum(axis=1)*100)\n\ntripcomp=round(supdem[\"Request id\"][\"Trip Completed\"]\/supdem.sum(axis=1)*100)\n\ndfs = [supdem, cancel, nocars, tripcomp]\nsupdemgap=pd.concat(dfs,axis=1)\n\nsupdemgap.columns=['Cancelled','No Cars Available','Trip Completed',\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"]\n\nsupdemgap.iloc[0:,3:].plot(kind='bar', stacked=True, figsize=[12,6],colormap=\"winter\")\nplt.xlabel(\"(Trip-Hour, Trip-Request Pickup-point)\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"Supply Demand Gap in all the time slots from Airport and City\")\nplt.legend(title='Trip Status', loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1, labels=['Trips Cancelled %', 'No Cars Available %', 'Trip Completed %'])","19e95ab1":"n=uber[[\"Request id\",\"Status\",\"reqhour\",\"Pickup point\"]].groupby([\"reqhour\",\"Pickup point\",\"Status\"]).count()\ncitysupdemgap=n.unstack().loc[sd.index.get_level_values(\"Pickup point\")==\"City\"].reset_index(level=\"Pickup point\", drop=True)\nairportsupdemgap=n.unstack().loc[sd.index.get_level_values(\"Pickup point\")==\"Airport\"].reset_index(level=\"Pickup point\", drop=True)\ncitysupdemgap.plot(kind='bar', stacked=True, figsize=[9,5],colormap=\"winter\")\nplt.xlabel(\"Trip request hour\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\"0000-2300hrs timeslots from City to Airport\")\nplt.legend(title='Trip Status', labels=['Trips Cancelled', 'No Cars Available ', 'Trips Completed'],loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n","090cd14d":"timepickcity=supdemgap.loc[supdemgap.index.get_level_values(\"Pickup point\")==\"City\"].iloc[0:,3:].reset_index(level=\"Pickup point\", drop=True)\ntimepickcity.plot(kind='bar', stacked=True, figsize=[8,5], colormap=\"winter\")\nplt.xlabel(\"Trip-Hour\")\nplt.ylabel(\"Percentage of trip requests\")\nplt.title(\"City to Airport\")\nplt.legend(title='Trip Status', labels=['Trips Cancelled%', 'No Cars Available%', 'Trip Completed%'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)","d2d80614":"airportsupdemgap.plot(kind='bar', stacked=True, figsize=[6,5],colormap=\"winter\")\nplt.xlabel(\"Trip request hour\")\nplt.ylabel(\"Number of trip requests\")\nplt.title(\" 0000-2300hrs from Airport to City\")\nplt.legend(title='Trip Status', labels=['Trips Cancelled', 'No Cars Available', 'Trips Completed'],loc='upper center', bbox_to_anchor=(1.35, 0.8), shadow=True, ncol=1)\n","ff59d7d2":"\ntimepickair=supdemgap.loc[supdemgap.index.get_level_values(\"Pickup point\")==\"Airport\"].iloc[0:,3:].reset_index(level=\"Pickup point\", drop=True)\ntimepickair.plot(kind='bar',colormap=\"winter\", stacked=True, figsize=[8,5],  title=\"Airport to city\")\n\nplt.xlabel(\"Trip-Hour\")\nplt.ylabel(\"Percentage of trip requests\")\n\nplt.legend(title='Trip Status', labels=['Trips Cancelled%', 'No Cars Available%', 'Trip Completed%'],loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n","27afc32a":"morn5to9=pd.DataFrame(sd.loc[5:8].sum())\nmorn9to12=pd.DataFrame(sd.loc[9:11].sum())\nafternoon1to5=pd.DataFrame(sd.loc[12:16].sum())\nevening5to10pm=pd.DataFrame(sd.loc[17:21].sum())\nnight10to12=pd.DataFrame(sd.loc[22:23].sum())\nmidnight12to5am=pd.DataFrame(sd.loc[0:4].sum())\n\nslots=pd.concat([morn5to9,morn9to12,afternoon1to5,evening5to10pm,night10to12,midnight12to5am],axis=1)\n\nslots.columns=[\"morn5to9\",\"morn9to12\",\"afternoon1to5\",\"evening5to10pm\",\"night10to12\",\"midnight12to5am\"]\n\nslots.reset_index(inplace=True)\nslots.drop(\"level_0\",axis=1,inplace=True)\nslots.set_index(\"Status\",inplace=True)\ngap=slots.T\ngap.plot(kind='bar', stacked=True, figsize=[8,5], colormap=\"winter\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Number of Requests\")\nplt.title(\"Trip Status Count at different timeslots of the day\")\nplt.legend(title='Trip Status', labels=['Trips Cancelled', 'No Cars Available', 'Trip Completed'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n","31421c0c":"\ntotal=slots.sum()\ncancel=round((slots.loc[\"Cancelled\"]\/total)*100)\nnocars=round((slots.loc[\"No Cars Available\"]\/total)*100)\ntripcomp=round((slots.loc[\"Trip Completed\"]\/total)*100)\nfail=slots.iloc[:2].sum()\nfailperc=round((fail\/total)*100)\nsupply_dem_gap=pd.concat([gap,pd.DataFrame(columns =[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\",\"%Failed_req\",\n           \"failed requests\",\"total_requests\"])])\nsupply_dem_gap[\"%cancelled\"]=cancel\nsupply_dem_gap[\"%NoCarsAvail\"]=nocars\nsupply_dem_gap[\"%TripCompleted\"]=tripcomp\nsupply_dem_gap[\"%Failed_req\"]=failperc\nsupply_dem_gap[\"failed requests\"]=fail\nsupply_dem_gap[\"total_requests\"]=total\nsupply_dem_gap\n","5bb63565":"supply_dem_gap[[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"]].plot(kind='bar',stacked=True,figsize=[10,5], colormap=\"gnuplot\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Percentage of Requests\")\nplt.title(\"Supply Demand Gap\")\nplt.legend(title='Trip Status', labels=[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","e0688b6e":"supply_dem_gap[[\"failed requests\",\"Trip Completed\",\"total_requests\"]].plot(kind='bar',figsize=[10,6], colormap=\"gnuplot\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Number of Requests\")\nplt.title(\"Supply Demad Gap\")\nplt.legend(title='Trip Status', labels=['unsuccesful booking requests', 'successful booking req', 'Total booking'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","28ff1b9a":"supply_dem_gap[[\"%Failed_req\",\"%TripCompleted\"]].plot(kind='bar',stacked=True,figsize=[10,5], colormap=\"gnuplot\")\nplt.xlabel(\"Timeslots\")\nplt.ylabel(\"Percentage of Requests\")\nplt.title(\"Supply Demand Gap\")\nplt.legend(title='Trip Status', labels=['Failed Requests- Incomplete Trips', 'Successful Requests- Completed Trips'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n","130d4489":"\nmorn5to9=pd.DataFrame(airportsupdemgap.loc[5:8].sum())\nmorn9to12=pd.DataFrame(airportsupdemgap.loc[9:11].sum())\nafternoon1to5=pd.DataFrame(airportsupdemgap.loc[12:16].sum())\nevening5to10pm=pd.DataFrame(airportsupdemgap.loc[17:21].sum())\nnight10to12=pd.DataFrame(airportsupdemgap.loc[22:23].sum())\nmidnight12to5am=pd.DataFrame(airportsupdemgap.loc[0:4].sum())\n\nslots=pd.concat([morn5to9,morn9to12,afternoon1to5,evening5to10pm,night10to12,midnight12to5am],axis=1)\n\nslots.columns=[\"morn5to9\",\"morn9to12\",\"afternoon1to5\",\"evening5to10pm\",\"night10to12\",\"midnight12to5am\"]\n\nslots.reset_index(inplace=True)\nslots.drop(\"level_0\",axis=1,inplace=True)\n\nslots.set_index(\"Status\",inplace=True)\ngap=slots.T\ngap.plot(kind='bar', stacked=True, figsize=[8,5], colormap=\"winter\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Number of Requests\")\nplt.title(\"Trip Status Count at different timeslots of the day\")\nplt.legend(title='Trip Status', labels=['Trips Cancelled', 'No Cars Available', 'Trip Completed'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n\n\n  \n","606ff678":"total=slots.sum()\ncancel=round((slots.loc[\"Cancelled\"]\/total)*100)\nnocars=round((slots.loc[\"No Cars Available\"]\/total)*100)\ntripcomp=round((slots.loc[\"Trip Completed\"]\/total)*100)\nfail=slots.iloc[:2].sum()\nfailperc=round((fail\/total)*100)\nsupply_dem_gap=pd.concat([gap,pd.DataFrame(columns =[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\",\"%Failed_req\",\n           \"failed requests\",\"total_requests\"])])\nsupply_dem_gap[\"%cancelled\"]=cancel\nsupply_dem_gap[\"%NoCarsAvail\"]=nocars\nsupply_dem_gap[\"%TripCompleted\"]=tripcomp\nsupply_dem_gap[\"%Failed_req\"]=failperc\nsupply_dem_gap[\"failed requests\"]=fail\nsupply_dem_gap[\"total_requests\"]=total\n\nsupply_dem_gap\n","350eb38d":"supply_dem_gap[[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"]].plot(kind='bar',stacked=True,figsize=[10,5], colormap=\"gnuplot\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Percentage of Requests\")\nplt.title(\"Supply Demand Gap\")\nplt.legend(title='Trip Status', labels=[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","ca999b92":"supply_dem_gap[[\"failed requests\",\"Trip Completed\",\"total_requests\"]].plot(kind='bar',figsize=[10,6], colormap=\"gnuplot\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Number of Requests\")\nplt.title(\"Airport to City: Trip Failed and Successful Count\")\nplt.legend(title='Trip Status', labels=['unsuccesful booking requests', 'successful booking req', 'Total booking'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","91d507c9":"supply_dem_gap[[\"%Failed_req\",\"%TripCompleted\"]].plot(kind='bar',stacked=True,figsize=[10,5], colormap=\"gnuplot\")\nplt.xlabel(\"Timeslots\")\nplt.ylabel(\"Percentage of Requests\")\nplt.title(\"Airport to City - Supply Demand Gap\")\nplt.legend(title='Trip Status', labels=['Failed Requests- Incomplete Trips', 'Successful Requests- Completed Trips'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","7d0418c9":"\nTrip Status Count - Time Slots - City to Airport\nmorn5to9=pd.DataFrame(citysupdemgap.loc[5:8].sum())\nmorn9to12=pd.DataFrame(citysupdemgap.loc[9:11].sum())\nafternoon1to5=pd.DataFrame(citysupdemgap.loc[12:16].sum())\nevening5to10pm=pd.DataFrame(citysupdemgap.loc[17:21].sum())\nnight10to12=pd.DataFrame(citysupdemgap.loc[22:23].sum())\nmidnight12to5am=pd.DataFrame(citysupdemgap.loc[0:4].sum())\n\nslots=pd.concat([morn5to9,morn9to12,afternoon1to5,evening5to10pm,night10to12,midnight12to5am],axis=1)\n\nslots.columns=[\"morn5to9\",\"morn9to12\",\"afternoon1to5\",\"evening5to10pm\",\"night10to12\",\"midnight12to5am\"]\nslots.reset_index(inplace=True)\nslots.drop(\"level_0\",axis=1,inplace=True)\n\nslots.set_index(\"Status\",inplace=True)\ngap=slots.T\ngap.plot(kind='bar', stacked=True, figsize=[8,5], colormap=\"winter\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Number of Requests\")\nplt.title(\"Trip Status Count: City to Airport\")\nplt.legend(title='Trip Status', labels=['Trips Cancelled', 'No Cars Available', 'Trip Completed'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","5c2d8511":"total=slots.sum()\ncancel=round((slots.loc[\"Cancelled\"]\/total)*100)\nnocars=round((slots.loc[\"No Cars Available\"]\/total)*100)\ntripcomp=round((slots.loc[\"Trip Completed\"]\/total)*100)\nfail=slots.iloc[:2].sum()\nfailperc=round((fail\/total)*100)\nsupply_dem_gap=pd.concat([gap,pd.DataFrame(columns =[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\",\"%Failed_req\",\n           \"failed requests\",\"total_requests\"])])\nsupply_dem_gap[\"%cancelled\"]=cancel\nsupply_dem_gap[\"%NoCarsAvail\"]=nocars\nsupply_dem_gap[\"%TripCompleted\"]=tripcomp\nsupply_dem_gap[\"%Failed_req\"]=failperc\nsupply_dem_gap[\"failed requests\"]=fail\nsupply_dem_gap[\"total_requests\"]=total\n\nsupply_dem_gap\n\n  \n\n","5d59d43d":"\nsupply_dem_gap[[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"]].plot(kind='bar',stacked=True,figsize=[10,5], colormap=\"gnuplot\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Percentage of Requests\")\nplt.title(\"Supply Demand Gap: City to Airport\")\nplt.legend(title='Trip Status', labels=[\"%cancelled\", \"%NoCarsAvail\", \"%TripCompleted\"],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n","b20ea151":"\nsupply_dem_gap[[\"failed requests\",\"Trip Completed\",\"total_requests\"]].plot(kind='bar',figsize=[10,6], colormap=\"gnuplot\")\nplt.xlabel(\"Time\")\nplt.ylabel(\"Number of Requests\")\nplt.title(\"City to Airport: Trip Failed and Successful Count\")\nplt.legend(title='Trip Status', labels=['unsuccesful booking requests', 'successful booking req', 'Total booking'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n\n","abba3e79":"supply_dem_gap[[\"%Failed_req\",\"%TripCompleted\"]].plot(kind='bar',stacked=True,figsize=[10,5], colormap=\"gnuplot\")\nplt.xlabel(\"Timeslots\")\nplt.ylabel(\"Percentage of Requests\")\nplt.title(\"City to Airport- Supply Demand Gap\")\nplt.legend(title='Trip Status', labels=['Failed Requests- Incomplete Trips', 'Successful Requests- Completed Trips'],\n        loc='upper center', bbox_to_anchor=(1.15, 0.8), shadow=True, ncol=1)\n","e1bcd89e":"****Failed and Successful Trip Percentage - Early Morning to Late night Slots\nFailed and Successful Count\n","7a9117af":"****City to Airport : hours of the day\n","a1a64f8b":"****Trip Status Count -Airport to City - hours of the day\n","0bb0c801":"****There is a very big supply demand gap\nOnly 42 percent of the total trip requests are being completed\nThere are a total of 19 percent trips that are being cancelled by the driver\nThere are 39 percent trip requests which are being turned down due to unavailabiltity of cars\nHence a bigger problem is car unavailability and need to be tackled depending on the where the request is coming from , Airport or city.\nTrip Status: Airpot to City and City to Aiport\n","05c6e226":"****Creating Derived Metrics from request timestamp:\nHour of trip request,\nDay of the week\nTime slots : early morning, monring, afternoon, evening, night and late night.\n","a71232c6":"****Failed and Successful Trip Percentage - Early Morning to Late night Slots\n","61f36b35":"****Trip Status Percentage - City to Airport - hours of the day\n","7ef5280f":"****Trip Status Percentage - Airport to City - Hours of the day\n","848539c8":"****1. Supply demand gap of 59% on average over whole day - \"Airport to City\".\n1.1 Most common cause of supply demand gap - \"Non availability of cars\".\n1.2 Most Problematic timeslots:\n      - evening5to10, 79% unsuccessful trips being 73% due to non availability of cars\n2. Supply demand gap of 57% on an avaerage over whole day - \"City to Airport\".\n2.1 Cause -30% due to cancellation by drivers and 27% due to \"Non availability of cars\".\n2.2 Most Problematic timeslots:\n      - morning5to9, 72% unsuccessful trips being 49% due to cancellation and 23% due to non avaialability of cars\n      - midnight12to5, 66% failed trips being 46% due to non availability of cars.\n","774c3d83":"****Timeslots: Total Count from Both pickup points together\nTrip Status Count - Early Morning to Late night Slots\n","3e64a3df":"****City to Airport - Trip Status Percentage - Early Morning to Late night Slots\nCity to Airport","7b67c596":"****Trip Status Percentage - Early Morning to Late night Slots\n","61dbf63d":"\nPossible recommendations:\n1. Provision of more cars because demand goes as high as 500 at late evenings.\n2. Addressing the issue of cars not being at service to customers at all, evident from the fact that only 120-170 requests are completed even when there are total 300 cars existing for service.\n3. Early morning the City requests being cancelled in large numbers by drivers needs to be addressed as well.\nNeed to find all possible causes of cars not being at service and never is there a time when there is no supply demand gap even when number of cars are much higher as compared to the requests. This issue can be resolved by driver's feedback for the cause of cancellations and being unavailable for work in high demand hours.","25eff2aa":"****\"Driver id\" column has 2650 missing as shown above but this is equal to the \"No cars Available\" trip status, hence there are no missing values\n\"Drop Timestamp\" columns has 3914 missing values which is the sum of \"No cars Available\" ,2650 + 1264 for \"Cancelled\" \nWe can see that there is no missing data as such n the dataset.\nuber[[\"Request id\",\"Status\"]].groupby(\"Status\").count().plot(kind=\"pie\",subplots=\"True\",autopct='%1.0f%%',\n        shadow=True, startangle=90, figsize=[5,5],colormap=\"Pastel1\")\n","27016efb":"****Most problematic timeslots with highest gap: 0500-0900hrs and 1700-2100hrs with more than 400 requests and approx. 150 getting completed . A supply demand gap of 70-80% exists in these timeslots\n","60d41079":"****Hours of the day: Aiport and City Comparison Chart\n","3c3684a0":"****Trip Status of all requests","9c6ae970":"****Days of the week","ec98b806":"****Trip Status Count - Time Slots - Airport to City\n","70d83b65":"****Days of the week: Comparing both Pickup Points\n","6d8dff9b":"****Visualising percentage of trips for each status from Airport to city and city to airport\n","13b1bed7":"****Trip Status Percentage - Early Morning to Late night Slots\n","c985d29a":"****Conclusions after EDA:\n1. Considering timeslots with highest supply demand gaps from airport to city i.e. 5 to 10 pm only 70-80 requests each side are completed from City-Airport and Airport-City, it means the reason \"no cars available\" is not completely due to half of those cars are in transit but it indicates that all 300 cars are not at service even when there is such a high demand of total approx. 500 requests from both points.\n2. Morning 0500-0900hrs, the high supply demand gap from city to airport is not due to cars not being available at service but even when they are available, the drivers are cancelling the requests which again is not because they all are serving other requests but there is some other unknown reason which is evident from the fact that at 5 am approx 350 requests are from city and only 100 are completed, and in the same duration 85 requests are completed from airport.\n3. Total 300 cars\n300 unique driver ids i.e. 300 cars in total and the highest requests at one timeslot from all pickup ponts is as high as 500 recorded at 1800hrs.","54c6222e":"## Uber Supply Demand Gap\n\n#### Business Objective\n\n##### Supply Demand Gap of Uber Bookings from Two pickup points : Airport and City\n\n#### Exploratory Data Analysis\nTo visualyse the gap in various time slots and analysing the reasons of failed trip requests.","7a661050":"****Hours of the day: All trips both pickup points combined","624cf98a":"****City to Airport- Failed and Successful Trip Percentage - Early Morning to Late night Slots\nrport\n","11a1a645":"****More problematic Pickup point is Airport with 59% (53%- non availability of cars and 6%- cancellations) supply demand gap\nCity has 57 % (27%- non availability of cars and 30%- cancellations)supply demand gap\n\n","984ce40a":"****Observation: City to Airport\nAverage Supply-Demand gap of 57% (43% of total trips requests are completed across all the timeslots).\n- 57% incomplete requests: 27% is due to Unavailability of cars and 30% due to cancellation by drivers.\nHighest demand during 0500hrs-1000hrs - 73% Non Availability of Cars and 6% Cancelled requests\n"}}