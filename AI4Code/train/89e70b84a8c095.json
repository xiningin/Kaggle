{"cell_type":{"4180f0c5":"code","cca9ba95":"code","52dd3707":"code","5239f184":"code","bcbc36a4":"code","e64b052f":"code","f95733e5":"code","f9f1e1b3":"code","17461899":"code","8ac74315":"code","03e32aed":"code","996361a8":"code","9ef744c7":"code","8b83ecfb":"code","301c643e":"code","fb39f650":"code","d759014f":"code","9e791fc6":"code","bd59fa94":"code","89b786e7":"code","2c74798d":"code","8820a929":"code","55905c2a":"code","6b63bf0d":"code","3a45ede7":"code","8fdc04d4":"code","c82909b3":"code","a1c29d65":"code","e597f8d8":"code","9f876d69":"code","592a1a0d":"code","5873df7a":"code","596f7f53":"code","72708a59":"code","416897e6":"code","c2ae50ad":"code","e3011a7e":"code","c0ca4764":"code","ad1766e0":"code","d186388f":"code","8aca388e":"code","fde04d39":"markdown","1ec25c77":"markdown","ae08a581":"markdown","5a26989b":"markdown","10a940bb":"markdown","cac4fb2a":"markdown","478d114c":"markdown","174209f7":"markdown","6ce40eb6":"markdown","35efc898":"markdown","1ef3f2b3":"markdown","1e3b3649":"markdown","9004a0f8":"markdown","4c4a785e":"markdown","a59942c2":"markdown","295e3cb4":"markdown","ad287af6":"markdown","b08468e8":"markdown","83c41dda":"markdown","f1dfc564":"markdown","475bba14":"markdown","63ff8093":"markdown","479a4d3a":"markdown","64808916":"markdown","09ff083f":"markdown","7f6e02e2":"markdown","db9906c2":"markdown","59f36b35":"markdown","7948f07e":"markdown","b0163a86":"markdown","e32f6ff3":"markdown","616c7834":"markdown"},"source":{"4180f0c5":"# Importing necessary libraries\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set()","cca9ba95":"# Reading the dataset\ntrain_data = pd.read_csv('..\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')","52dd3707":"train_data.head()","5239f184":"train_data = train_data.iloc[:,1:]\ntrain_data.head()","bcbc36a4":"print(\"Shape of data: \",train_data.shape)","e64b052f":"train_data.info()","f95733e5":"train_data.columns","f9f1e1b3":"# Looking ate the unique values of Categorical Features\nprint(train_data['ssc_b'].unique())\nprint(train_data['hsc_b'].unique())\nprint(train_data['hsc_s'].unique())\nprint(train_data['degree_t'].unique())\nprint(train_data['workex'].unique())\nprint(train_data['specialisation'].unique())\nprint(train_data['status'].unique())","17461899":"train_data.isnull().sum()","8ac74315":"null_salary_data = train_data[train_data['salary'].notna()]\nnull_salary_data = null_salary_data.reset_index(drop = True)","03e32aed":"var = 'salary'\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 8)\nplt.xticks(rotation=90);\nsns.countplot(x = var,palette=\"ch:.4\", data = null_salary_data)\nax.set_xlabel('Salary', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Salary Count Distribution', fontsize=15)\nsns.despine()","996361a8":"print(train_data['status'].value_counts())","9ef744c7":"var = 'status'\nfig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.countplot(x = var, data = train_data)\nax.set_xlabel('Status', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Status Count Distribution', fontsize=15)\nax.tick_params(labelsize=15)\nsns.despine()","8b83ecfb":"print('Senior Secondary Board: ',train_data['ssc_b'].unique())","301c643e":"var = 'ssc_b'\nfig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.countplot(x = var, data = train_data)\nax.set_xlabel('Senior Secondary', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Senior Secondary Count Distribution', fontsize=15)\nax.tick_params(labelsize=15)\nsns.despine()","fb39f650":"print('Higher Secondary Boards: ',train_data['hsc_b'].unique())","d759014f":"var = 'hsc_b'\nfig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.countplot(x = var, data = train_data)\nax.set_xlabel('Higher Secondary', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Higher Secondary Count Distribution', fontsize=15)\nax.tick_params(labelsize=15)\nsns.despine()","9e791fc6":"print('Higher Secondary Subjects: ',train_data['hsc_s'].unique())","bd59fa94":"var = 'hsc_s'\nfig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.countplot(x = var, data = train_data)\nax.set_xlabel('Higher Secondary Subjects', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Higher Secondary Count Distribution', fontsize=15)\nax.tick_params(labelsize=15)\nsns.despine()","89b786e7":"print('Work Experience: ',train_data['workex'].unique())","2c74798d":"var = 'workex'\nfig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.countplot(x = var, data = train_data)\nax.set_xlabel('Work Experience', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Work Experience Count Distribution', fontsize=15)\nax.tick_params(labelsize=15)\nsns.despine()","8820a929":"var = 'specialisation'\nfig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.countplot(x = var, data = train_data)\nax.set_xlabel('Specialisation', fontsize=15)\nax.set_ylabel('Count', fontsize=15)\nax.set_title('Specialisation Count Distribution', fontsize=15)\nax.tick_params(labelsize=15)\nsns.despine()\n","55905c2a":"fig, ax = plt.subplots()\nfig.set_size_inches(5,5)\nsns.barplot(x='ssc_b', y='salary',hue='gender', data=train_data)\nax.set_xlabel('Senior Secondary Board', fontsize=15)\nax.set_ylabel('Salary', fontsize=15)\nax.set_title('Senior Secondary Board Salary On basis of Gender', fontsize=10)\nax.tick_params(labelsize=15)\nplt.show() ","6b63bf0d":"fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(nrows = 2, ncols = 2, figsize = (10,10))\n\nsns.countplot(x = 'gender', hue = 'status', palette=\"ch:2.5,-.2,dark=.3\",data = train_data, ax = ax1)\nax1.set_title('Status on basis of Gender', fontsize=15)\nax1.tick_params(labelsize=15)\n\nsns.countplot(x = 'specialisation', hue = 'status', palette=\"ch:5,-.6,dark=.3\", data = train_data, ax = ax2)\nax2.set_title('Status on basis of Specialisation', fontsize=15)\nax2.tick_params(labelsize=15)\n\nsns.countplot(x = 'workex', hue = 'status', palette=\"ch:10.5,-8.2,dark=.3\", data = train_data, ax = ax3)\nax3.set_title('Status on basis of Work Exp.', fontsize=15)\nax3.tick_params(labelsize=15)\n\nsns.countplot(x = 'degree_t', hue = 'status', palette=\"ch:12.5,-11.2,dark=.3\", data = train_data, ax = ax4)\nax4.set_title('Status on basis of Degree', fontsize=15)\nax4.tick_params(labelsize=15)\n\nplt.subplots_adjust(wspace=0.5)\nplt.tight_layout() ","3a45ede7":"Gender = train_data[['gender']]\nGender = pd.get_dummies(Gender,drop_first=True)\nGender.head()","8fdc04d4":"ssc_b = train_data[['ssc_b']]\nssc_b = pd.get_dummies(ssc_b,drop_first=True)\nhsc_b = train_data[['hsc_b']]\nhsc_b = pd.get_dummies(hsc_b,drop_first=True)\nhsc_s = train_data[['hsc_s']]\nhsc_s = pd.get_dummies(hsc_s,drop_first=True)\ndegree_t = train_data[['degree_t']]\ndegree_t = pd.get_dummies(degree_t,drop_first=True)\nworkex = train_data[['workex']]\nworkex = pd.get_dummies(workex,drop_first=True)\nspecialisation = train_data[['specialisation']]\nspecialisation = pd.get_dummies(specialisation,drop_first=True)","c82909b3":"train_data.info()","a1c29d65":"train_data.replace({\"Placed\":1,\"Not Placed\":0},inplace=True)\ntrain_data.head()","e597f8d8":"train_data.drop([\"salary\"],axis=1,inplace=True)","9f876d69":"final_train= pd.concat([train_data,Gender,ssc_b,hsc_b,hsc_s,degree_t,workex,specialisation],axis=1)\nfinal_train.head()","592a1a0d":"final_train.drop([\"gender\",\"ssc_b\",\"hsc_b\",\"hsc_s\",\"degree_t\",\"workex\",\"specialisation\"],axis=1,inplace=True)\nfinal_train.head()","5873df7a":"print(\"Final Shape of data: \",final_train.shape)\nprint(\"\\nFinal Columns of data:\\n\",final_train.columns)","596f7f53":"X = final_train.loc[:,['ssc_p', 'hsc_p', 'degree_p', 'etest_p', 'mba_p', 'gender_M',\n       'ssc_b_Others', 'hsc_b_Others', 'hsc_s_Commerce', 'hsc_s_Science',\n       'degree_t_Others', 'degree_t_Sci&Tech', 'workex_Yes',\n       'specialisation_Mkt&HR']]\ny = final_train.loc[:,['status']]","72708a59":"plt.figure(figsize=(18,18))\nsns.heatmap(X.corr(),annot=True,cmap='RdYlGn')\n\nplt.show()","416897e6":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.1, random_state = 25)","c2ae50ad":"from sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LogisticRegression\nsc_X = StandardScaler()\nX_train = sc_X.fit_transform(X_train)\nX_test = sc_X.transform(X_test)\nlog_reg = LogisticRegression() \nlog_reg.fit(X_train,y_train)\nlog_pred = log_reg.predict(X_test)","e3011a7e":"import scikitplot as skplt\nskplt.metrics.plot_confusion_matrix(y_test,log_pred)","c0ca4764":"from sklearn import metrics\nprint(\"Logistic Model Accuracy is: \",metrics.accuracy_score(y_test, log_pred))","ad1766e0":"from xgboost import XGBClassifier\nxgb = XGBClassifier()\nxgb.fit(X_train, y_train)\nxgb_pred = xgb.predict(X_test)\n\nprint(\"XGBClassifier Accuracy is: \",metrics.accuracy_score(y_test, xgb_pred))\nskplt.metrics.plot_confusion_matrix(y_test,xgb_pred)","d186388f":"from sklearn.ensemble import GradientBoostingClassifier\ngbk = GradientBoostingClassifier()\ngbk.fit(X_train, y_train)\ngbk_pred = gbk.predict(X_test)\n\nprint(\"GradientBoostingClassifier Accuracy is: \",metrics.accuracy_score(y_test, gbk_pred))\nskplt.metrics.plot_confusion_matrix(y_test,gbk_pred)","8aca388e":"from sklearn import metrics\n\nfig, (ax, ax1) = plt.subplots(nrows = 1, ncols = 2, figsize = (15,5))\n\nprobs = xgb.predict_proba(X_test)\npreds = probs[:,1]\nfprxgb, tprxgb, thresholdxgb = metrics.roc_curve(y_test, preds)\nroc_aucxgb = metrics.auc(fprxgb, tprxgb)\n\nax.plot(fprxgb, tprxgb, 'b', label = 'AUC = %0.2f' % roc_aucxgb)\nax.plot([0, 1], [0, 1],'r--')\nax.set_title('Receiver Operating Characteristic XGBOOST ',fontsize=10)\nax.set_ylabel('True Positive Rate',fontsize=20)\nax.set_xlabel('False Positive Rate',fontsize=15)\nax.legend(loc = 'lower right', prop={'size': 16})\n\nprobs = gbk.predict_proba(X_test)\npreds = probs[:,1]\nfprgbk, tprgbk, thresholdgbk = metrics.roc_curve(y_test, preds)\nroc_aucgbk = metrics.auc(fprgbk, tprgbk)\n\nax1.plot(fprgbk, tprgbk, 'b', label = 'AUC = %0.2f' % roc_aucgbk)\nax1.plot([0, 1], [0, 1],'r--')\nax1.set_title('Receiver Operating Characteristic GRADIENT BOOST ',fontsize=10)\nax1.set_ylabel('True Positive Rate',fontsize=20)\nax1.set_xlabel('False Positive Rate',fontsize=15)\nax1.legend(loc = 'lower right', prop={'size': 16})\n\nplt.subplots_adjust(wspace=1)\n","fde04d39":"### 1) Logistic Regression","1ec25c77":"### Let's have a detailed look over dataset","ae08a581":"I will be droping *salary* column as it has a large null values when compared to whole size of data.","5a26989b":"### 4) Higher Secondary Boards","10a940bb":"## Build it (Model)\n\nFirst we are spliting the data to train and test for the model\n\n**We will using following 3 models for our dataset:**\n1. Logistic Regression\n2. XGB Classifier\n3. GradientBoosting Classifier","cac4fb2a":"### Status vs feature count","478d114c":"Not placed data are less than half of Placed one.","174209f7":"**For Status Column I am using Label Encoding, as we need only one column for Y(target feature)**","6ce40eb6":"## Preparation of final data \n### and checking for any other Useless Features (here Heat Map will help us)","35efc898":"We have 67 null values in *salary* column, so I had made a separate dataframe for not null values in all columns for Exploration of data.","1ef3f2b3":"**As our target feature is *Status*, So let's compare other features w.r.t. status**","1e3b3649":"#### ROC of XGB and GradientBoost","9004a0f8":"## Data Visualization\n### Let's have some Plots for a user-friendly look over data","4c4a785e":"### 2) Status","a59942c2":"**DO look My Classification Model Evaluation for more evaluation works :**\n\n[https:\/\/www.kaggle.com\/iabhishekmaurya\/classification-model-evaluation](http:\/\/)","295e3cb4":"**So, we have a useless column 'sl_no, let's just drop it first**","ad287af6":"### 3) Gradient-Boosting Classifier","b08468e8":"Followed we are modifing all others columns","83c41dda":"## Data Preprocessing","f1dfc564":"### 1) Salary","475bba14":"### 6) Work experience","63ff8093":"**It's time to EXPLORE**\n\n# Exploration : Prediction\n\n<font color=\"Green\">  Date: 17-07-2020 - 18-07-2020 KaggleStreak <\/font>\n\nSo, here I start my **Exploration Series**:\n *\" It will consists of Data Pre-processing, Data Visualization, EDA, Feature Engg., Model build and finally Evaluation of model. \"*\n\nComing to the present dataset I a using **Campus Recruitment** dataset (link:[https:\/\/www.kaggle.com\/benroshan\/factors-affecting-campus-placement](http:\/\/))\n\nThis dataset was developed by *Ben Roshan D*\n\nAnd according to him, *This data set consists of Placement data of students in our campus. It includes secondary and higher secondary school percentage and specialization. It also includes degree specialization, type and Work experience and salary offers to the placed students*\n\nSo, here I start my first exploration to the saame dataset.\n\nDo give <font color=\"Red\"> UPVOTE <\/font>\n\n","479a4d3a":"### 7) Specialisation","64808916":" So, Finally this NoteBook End here \ud83e\udd35\ud83c\udffb\n \n One could go even further by using more different models to try upon this data. But, for now I left it  over you all\n \n Before going a humble request if you liked the notebook the \n <font color=\"Red\">Please Upvote ( It motivates me ) <\/font>\n \n And Stay Tuned... \n \n Till then Happy Coding\n ","09ff083f":"### 3) XGB Classifier","7f6e02e2":"*Commerce* is the most popular Subjects in dataset followed by *Science*. But, *Arts* is having a very low popularity when compared to other ones","db9906c2":"As discussed in many earlier notebooks, we have 2 popular ways to handle Categorical data:\n1. OneHotEncoder\n2. LabelEncoder\n\n### First we will start with Gender \n**We will be applying One-hot Encding here**","59f36b35":"### 3) Senior Secondary Board","7948f07e":"**And, then we will add up all One-Hot Encoded DF to final one, followed by droping the useless.**","b0163a86":"### 5) Higher Secondary Subjects","e32f6ff3":"## Working with Categorical Data","616c7834":"**Now after having some Count Visualization let's visualize some related one**\n\n### First I started with 'Senior Secondary Board Salary On basis of Gender'"}}