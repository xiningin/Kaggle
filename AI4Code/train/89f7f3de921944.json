{"cell_type":{"a3ad1770":"code","b5773293":"code","7861442d":"code","857c5d8b":"code","5de45afa":"code","663cda18":"code","d15feae2":"code","abbd379a":"code","82202333":"code","7d6a278c":"code","5a19f3d8":"code","5b0e12e8":"code","0f69cfa7":"code","9652df51":"code","085de3da":"code","f1927a2d":"code","04c04f0e":"code","b24c3334":"code","1718f0f6":"code","68088a44":"code","3291fedd":"code","030a9243":"code","99f911a3":"code","3372db29":"code","67d6c281":"code","579707be":"code","82347a08":"code","72ebdcde":"code","c32dff7c":"code","c59268df":"code","f032ca43":"code","5f682c49":"code","16ffd972":"code","3ce597f6":"code","93711085":"code","0b467036":"code","62b83ba9":"code","778d5c46":"code","89e3c694":"code","8231444b":"code","20765977":"code","a93a8d28":"code","c5e3904f":"markdown","8ceadb54":"markdown","cfc5b839":"markdown","77bd3a1a":"markdown","0577bb22":"markdown","3d402891":"markdown","73ace119":"markdown","7f4354a8":"markdown","234e519e":"markdown","b50ff403":"markdown","2308a0a6":"markdown","5fdfe8ae":"markdown","8de2b923":"markdown","19400c10":"markdown","8a95c582":"markdown","f47b9044":"markdown","4ea4913c":"markdown","5fdfeb5a":"markdown","115b6a70":"markdown","f1dfa2ac":"markdown","9d23db9e":"markdown","10d2277f":"markdown","ad778d05":"markdown","8d8b435c":"markdown","8e2c9d38":"markdown","02633ff6":"markdown","b9bfb54f":"markdown","5535c406":"markdown","319d7c5d":"markdown"},"source":{"a3ad1770":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","b5773293":"import math\nimport sklearn\nimport matplotlib.pyplot as plt\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nfrom plotly import tools\nimport plotly.figure_factory as ff\nimport itertools","7861442d":"multichoice = pd.read_csv('..\/input\/multipleChoiceResponses.csv')\nfreeform = pd.read_csv('..\/input\/freeFormResponses.csv')\nschema = pd.read_csv('..\/input\/SurveySchema.csv')","857c5d8b":"tempframe = pd.DataFrame()\npd.options.display.max_colwidth = 1550\ntempframe[\"Number\"] = list(schema)\ntempframe[\"Question\"] = schema.iloc[0].values\ntempframe","5de45afa":"tempframe.loc[(tempframe.Number == 'Q1') | (tempframe.Number == 'Q3') | (tempframe.Number == 'Q9')]","663cda18":"multichoice_processed = pd.DataFrame()\nmultichoice_processed[['Country',  'Gender', 'Salary']] = multichoice[['Q3', 'Q1', 'Q9']]\nmultichoice_processed","d15feae2":"multichoice_processed = multichoice_processed.drop([0])\nmultichoice_processed","abbd379a":"multichoice_processed.Country.value_counts()","82202333":"multichoice_processed.Gender.value_counts()","7d6a278c":"multichoice_processed.Salary.value_counts()","5a19f3d8":"multichoice_processed = multichoice_processed.dropna(how='any')\nmultichoice_processed = multichoice_processed[(multichoice_processed.Gender != 'Prefer not to say') & (multichoice_processed.Gender != 'Prefer to self-describe') \n& (multichoice_processed.Salary != 'I do not wish to disclose my approximate yearly compensation') & \n(multichoice_processed.Country != 'I do not wish to disclose my location') & \n(multichoice_processed.Country != 'Other')]","5b0e12e8":"multichoice_processed.Country.value_counts()","0f69cfa7":"multichoice_processed.Gender.value_counts()","9652df51":"multichoice_processed.Salary.value_counts()","085de3da":"multichoice_processed['Salary_Processed'] = multichoice_processed['Salary'].str.split('-').str[-1]\nmultichoice_processed['Salary_Processed'] = multichoice_processed['Salary_Processed'].str.split(',').str[0]\nmultichoice_processed['Salary_Processed'] = pd.to_numeric(multichoice_processed['Salary_Processed'])\nmultichoice_processed['Salary_Processed'] = multichoice_processed.Salary_Processed.astype(int)\nmultichoice_processed","f1927a2d":"multichoice_processed.Salary_Processed.describe()\n","04c04f0e":"median = multichoice_processed.Salary_Processed.median()\nmedian","b24c3334":"## Creating a new dataframe with the columns of interest and a median value\n\nglobal_statistics = pd.DataFrame()\nglobal_statistics = multichoice_processed.groupby('Country')['Salary_Processed'].median().reset_index().rename(columns={'Country': 'Country', 'Salary_Processed' : 'Country_Median'})\n\n## Using temporary male\/female summaries and mapping median values into the new dataframe\n\ntemp_male = pd.DataFrame()\ntemp_male = multichoice_processed[multichoice_processed['Gender']=='Male']\ntemp_male = temp_male.groupby(['Country'])['Salary_Processed'].median().reset_index().rename(columns={'Country': 'Country', 'Salary_Processed' : 'Male_Median'})\ntemp_male\ntemp_female = pd.DataFrame()\ntemp_female = multichoice_processed[multichoice_processed['Gender']=='Female']\ntemp_female = temp_female.groupby(['Country'])['Salary_Processed'].median().reset_index().rename(columns={'Country': 'Country', 'Salary_Processed' : 'Female_Median'})\ntemp_female\nglobal_statistics = pd.merge(global_statistics, temp_male)\nglobal_statistics = pd.merge(global_statistics, temp_female)\n\n## Calculating the median difference\n\nglobal_statistics['Median_Gap'] = global_statistics[\"Male_Median\"] - global_statistics[\"Female_Median\"]\n\n## Defining and applying a classifier function based on the Country_Median column and a median variable\n\ndef process(row, median=''):\n   if row['Country_Median'] < median:\n      return 'Low-income'\n   else:\n       return 'High-income'\n    \nglobal_statistics['Classifier'] = global_statistics.apply(lambda row: process(row, median = median),axis=1)\n\nglobal_statistics\n    \n\n","1718f0f6":"data = [dict(\n        type = 'choropleth',\n        locations = global_statistics['Country'],\n        locationmode = 'country names',\n        z = global_statistics['Country_Median'],\n        colorscale =[[0.0, 'rgb(84,39,143)'], [0.1, 'rgb(117,107,177)'], [0.2, 'rgb(158,154,200)'],\n       [0.3, 'rgb(188,189,220)'], [0.4, '218,218,235)'], [0.5, 'rgb(240,240,240)'],\n       [0.6, 'rgb(255,214,151)'],[0.8, 'rgb(250,195,104)'], [0.9, 'rgb(250,177,58)'],\n       [1.0, 'rgb(252,153,6)']],\n        autocolorscale = False,\n        reversescale = True,\n        marker = dict(\n            line = dict (\n                color = 'rgb(255,255,255)',\n                width = 0.5\n            ) \n        ),\n        colorbar = dict(\n            autotick = False,\n            tickprefix = '$',\n            title = 'Average income in 000s')\n)\n]\n\nlayout = dict(\n    title = 'Global Income Distribution for Data Scientists and Software Engineers',\n    geo = dict(\n        showframe = False,\n        showcoastlines = True,\n        projection = dict(\n            type = 'Mercator')\n    )\n)\n\nfig = dict(data=data, layout=layout)\npy.iplot(fig, validate=False)","68088a44":"\n\ncountries = global_statistics.sort_values(by=['Country_Median']).Country.to_frame()\nincomes = global_statistics.sort_values(by=['Country_Median']).Country_Median.to_frame()\ncountries_incomes = pd.merge(incomes, countries, left_index=True, right_index=True)\ncountries_incomes\n\nplt.rc('xtick', labelsize=15) \nplt.rc('ytick', labelsize=15)\nplt.rcParams[\"figure.figsize\"] = [30,10]\n\nax = countries_incomes.plot(x=\"Country\", y=\"Country_Median\", kind=\"bar\", color = \"blue\")\nax.set_ylabel('Country', fontsize = '25')\nax.set_xlabel('Income', fontsize = '25')\nax.set_title('Global Median Incomes', fontsize = '25')\nplt.show()","3291fedd":"temp_high = global_statistics[global_statistics['Classifier']=='High-income']\ntemp_low = global_statistics[global_statistics['Classifier']=='Low-income']\ntemp_high.describe()","030a9243":"temp_low.describe()","99f911a3":"plt.rc('xtick', labelsize=20) \nplt.rc('ytick', labelsize=20)\nplt.rcParams[\"figure.figsize\"] = [30,10]\n\nax = global_statistics.plot(x=\"Country\", y=\"Male_Median\", kind=\"bar\", color = \"red\")\nglobal_statistics.plot(x=\"Country\", y=\"Female_Median\", kind=\"bar\", ax=ax, color=\"blue\")\nax.set_ylabel('Median Income', fontsize = '25')\nax.set_xlabel('Country', fontsize = '25')\nax.set_title('Male vs Female Median Incomes', fontsize = '25')\nplt.show()\n","3372db29":"plt.rc('xtick', labelsize=20) \nplt.rc('ytick', labelsize=20)\nplt.rcParams[\"figure.figsize\"] = [30,10]\n\nax = global_statistics.plot(x=\"Country\", y=[\"Country_Median\", \"Median_Gap\"], kind=\"bar\")\nax.set_ylabel('Median Income \/ Median Gap', fontsize = '25')\nax.set_xlabel('Country', fontsize = '25')\nax.set_title('Median Income vs Median Gender Gap', fontsize = '25')\nplt.show()","67d6c281":"global_statistics[\"Median_Gap\"].describe()","579707be":"global_statistics[\"Normalized_Gap\"] = global_statistics[\"Median_Gap\"] \/ global_statistics[\"Country_Median\"]\nglobal_statistics","82347a08":"plt.rc('xtick', labelsize=20) \nplt.rc('ytick', labelsize=20)\nplt.rcParams[\"figure.figsize\"] = [20,10]\n\nax = global_statistics.plot(x=\"Country\", y=[\"Normalized_Gap\"], kind=\"bar\", color=\"red\")\nax.set_ylabel('Median Normalized Gap', fontsize = '25')\nax.set_xlabel('Country', fontsize = '25')\nax.set_title('Median Normalized Gender Gap', fontsize = '25')\nax.legend(loc='best', bbox_to_anchor=(1, 0.5))\nplt.show()","72ebdcde":"global_statistics[\"Normalized_Gap\"].describe()","c32dff7c":"data = [dict(\n        type = 'choropleth',\n        locations = global_statistics['Country'],\n        locationmode = 'country names',\n        z = global_statistics['Median_Gap'],\n        colorscale =[[0.0, 'rgb(84,39,143)'], [0.1, 'rgb(117,107,177)'], [0.2, 'rgb(158,154,200)'],\n       [0.3, 'rgb(188,189,220)'], [0.4, '218,218,235)'], [0.5, 'rgb(240,240,240)'],\n       [0.6, 'rgb(255,214,151)'],[0.8, 'rgb(250,195,104)'], [0.9, 'rgb(250,177,58)'],\n       [1.0, 'rgb(252,153,6)']],\n        autocolorscale = False,\n        reversescale = True,\n        marker = dict(\n            line = dict (\n                color = 'rgb(255,255,255)',\n                width = 0.5\n            ) \n        ),\n        colorbar = dict(\n            autotick = False,\n            tickprefix = '$',\n            title = 'Gap in 000s')\n)\n]\n\nlayout = dict(\n    title = 'Global Distribution of the Gender Income Gap for Data Scientists and Software Engineers',\n    geo = dict(\n        showframe = False,\n        showcoastlines = True,\n        projection = dict(\n            type = 'Mercator')\n    )\n)\n\nfig = dict(data=data, layout=layout)\npy.iplot(fig, validate=False)","c59268df":"data = [dict(\n        type = 'choropleth',\n        locations = global_statistics['Country'],\n        locationmode = 'country names',\n        z = global_statistics['Normalized_Gap'],\n        colorscale =[[0.0, 'rgb(84,39,143)'], [0.1, 'rgb(117,107,177)'], [0.2, 'rgb(158,154,200)'],\n       [0.3, 'rgb(188,189,220)'], [0.4, '218,218,235)'], [0.5, 'rgb(240,240,240)'],\n       [0.6, 'rgb(255,214,151)'],[0.8, 'rgb(250,195,104)'], [0.9, 'rgb(250,177,58)'],\n       [1.0, 'rgb(252,153,6)']],\n        autocolorscale = False,\n        reversescale = True,\n        marker = dict(\n            line = dict (\n                color = 'rgb(255,255,255)',\n                width = 0.5\n            ) \n        ),\n        colorbar = dict(\n            autotick = False,\n            title = 'Gap in 100%')\n)\n]\n\nlayout = dict(\n    title = 'Global Distribution of the Gender Income Gap for Data Scientists and Software Engineers',\n    geo = dict(\n        showframe = False,\n        showcoastlines = True,\n        projection = dict(\n            type = 'Mercator')\n    )\n)\n\nfig = dict(data=data, layout=layout)\npy.iplot(fig, validate=False)","f032ca43":"temp_high = global_statistics[global_statistics['Classifier']=='High-income']\ntemp_low = global_statistics[global_statistics['Classifier']=='Low-income']\n\nax.set_xlabel('Index', fontsize = '25')\nax.set_ylabel('Median Gap', fontsize = '25')\nax = temp_high.reset_index().sort_values(by=['Normalized_Gap']).plot(kind='scatter', x='index', y='Median_Gap',\n                                           color='Red', label='High Income Gap')\n\nax.set_xlabel('Index', fontsize = '25')\nax.set_ylabel('Median Gap', fontsize = '25')\ntemp_low.reset_index().sort_values(by=['Normalized_Gap']).plot(kind='scatter', x='index', y='Median_Gap',\n                                          color='Blue', label='Low Income Gap', ax=ax)","5f682c49":"temp_high = global_statistics[global_statistics['Classifier']=='High-income']\ntemp_low = global_statistics[global_statistics['Classifier']=='Low-income']\n\nax.set_xlabel('Index', fontsize = '25')\nax.set_ylabel('Median Gap', fontsize = '25')\nax = temp_high.reset_index().sort_values(by=['Normalized_Gap']).plot(kind='scatter', x='index', y='Normalized_Gap',\n                                           color='Red', label='High Income Gap')\n\nax.set_xlabel('Index', fontsize = '25')\nax.set_ylabel('Median Gap', fontsize = '25')\ntemp_low.reset_index().sort_values(by=['Normalized_Gap']).plot(kind='scatter', x='index', y='Normalized_Gap',\n                                          color='Blue', label='Low Income Gap', ax=ax)","16ffd972":"temp_high.describe()","3ce597f6":"temp_low.describe()","93711085":"tempframe.loc[(tempframe.Number == 'Q4')]","0b467036":"multichoice_processed = pd.DataFrame()\nmultichoice_processed[['Country',  'Gender', 'Salary', 'Education']] = multichoice[['Q3', 'Q1', 'Q9', 'Q4']]\nmultichoice_processed = multichoice_processed.drop([0])\nmultichoice_processed = multichoice_processed.dropna(how='any')\nmultichoice_processed = multichoice_processed[(multichoice_processed.Gender != 'Prefer not to say') & (multichoice_processed.Gender != 'Prefer to self-describe') \n& (multichoice_processed.Salary != 'I do not wish to disclose my approximate yearly compensation') & \n(multichoice_processed.Country != 'I do not wish to disclose my location') & \n(multichoice_processed.Country != 'Other') & (multichoice_processed.Education != 'I prefer not to answer')]\nmultichoice_processed","62b83ba9":"multichoice_processed['Education'].value_counts()","778d5c46":"multichoice_processed['Classifier'] = multichoice_processed.Country.map(global_statistics.set_index('Country')['Classifier'])\nmultichoice_processed","89e3c694":"male_education = multichoice_processed[multichoice_processed['Gender'] == 'Male']\nmale_education['Education'].value_counts()\nfemale_education = multichoice_processed[multichoice_processed['Gender'] == 'Female']\nfemale_education['Education'].value_counts()\npd.value_counts(male_education['Education']).plot.bar(title='Highest Level of Formal Education in Males', fontsize='15')\n","8231444b":"pd.value_counts(female_education['Education']).plot.bar(title='Highest Level of Formal Education in Females', fontsize='15')","20765977":"hi_education = multichoice_processed[multichoice_processed['Classifier'] == 'High-income']\nhi_education['Classifier'].value_counts()\nlo_education = multichoice_processed[multichoice_processed['Classifier'] == 'Low-income']\nlo_education['Classifier'].value_counts()\n\npd.value_counts(hi_education['Education']).plot.bar(title='Highest Level of Formal Education in High Income Countries', fontsize='15')","a93a8d28":"pd.value_counts(lo_education['Education']).plot.bar(title='Highest Level of Formal Education in High Income Countries', fontsize='15')","c5e3904f":"Finally we managed to derive a useful statistical representation in order to conclude our verification of the last hypothesis. When looking into the statistical spread across both datasets, it becomes apparent that there is indeed a considerable difference in the means of the Normalized_Gap variable. The average normalized gap in the high-income countries equals to ~22% and the average normalized gap in the low-income countries equals to ~12%. \n\nQuite a signifcant difference, although the standard deviation appears greater in the latter distribution, meaning that we may potentially need to obtain a larger dataset to study this effect further for more accurate assessment.\n\nFinally we can comment on our third hypothesis in the following summary:\n\n1. Although the relative gap magnitude varies between absolute and normalized representations, there appears a significant male vs female median income gap across 33\/56 of the studied countries for the surveyed population.\n2. The normalised median income gender gap between high-income countries and low-income countries equals to approximately 10%, meaning that the gender-based income bias in the high-income countries is more pronounced. All variables considered equal, male data scientists\/software engineers earn proportionally larger salaries than their female counterparts in the high-income ('Developed') countries compared to low-income ('Developing') countries.\n3. On average, a male in a high-income country will earn an ~22% higher salary than a female. On average, a male in a low-income country will earn an ~12% higher salary than a female.\n\nThese findings conclude our exploration of data against the set hypotheses and prepare us for the presentation of final conclusions to the target audience.","8ceadb54":"Once again, whilst using absolute values, we can observe an income gap magnitude bias towards the high-income countries, which is smoothed out when normalized values are employed.\nPerhaps the relative size of the median income gap between male and female respondents is comparatively similar in the high-income ('Developed') and the low-income ('Developing') parts of the world?\nIt is still quite difficult to answer this question and it seems that we will need to rely on the numeric methods.\n\nReplicating our approach in the previous hypotheses, we will compute a sample statistical summary for both 'High-income' and 'Low-income' labeled datasets and compare the results. ","cfc5b839":"Once we have imported all neccessary tools, we may process our two datasets and confirm the readiness of our data. We will load both of the datasets, as well as the supplied schema, which will aid us in understanding the signals contained within both datasets.","77bd3a1a":"**Hypothesis 2 - There is a considerable, significant income gap between male and female data scientists and software engineers.**\n\nAgain, we can utilise  numeric and visual methods to explore the data with the objective of affirming or declining the second hypothesis.\nTo aid us in our analysis, let's first construct another bar graph, this time plotting male and female median incomes against the list of all respondent countries.\n\n","0577bb22":"**Data Preparation - Part 2**\n\nContinuing on with our dataset manipulation in preparation for hypothesis testing. In this component of our workflow, we will convert some of the features into code-aligned format and engineer some artificial features specifically required by our hypotheses.\n\nIf we pay close attention to the 'Salary' feature, we will notice that it is currently in a format, which is inconsistent with statistical manipulation and analysis. To transform the salary ranges into an operationally viable format, we will transform the range representation into the upper limit representation and subsequently assign a much more suitable floating point format. We will assign a 'Salary_Processed' label to our freshly engineered feature. Finally, we will run a simple statistical analysis to derive a median income across the world of data scientists and software engineers. This figure will be used as a baseline to classify countries as 'Low Income' (below median) and 'High Income' (above median), which will become a proxy label for the developing and developed countries. Decision to employ median as the baseline figure  has been made in order to avoid potential skew towards the higher or lower range of the respondents'  incomes. \n\n*Note: Logic for utilising a global median as a benchmark for classification and consequential proxy labeling has been chosen strictly to minimise reliance on external resources and maximise amount of data manipulation inherent in the scenario. There is a number of external indexes available for a more accurate and direct labeling for the developing and developed countries, such as the Human Development Index and MSCI World Index.*","3d402891":"As the schema contains all questions covered by both of the surveys, we will extract this information into a stand-alone summary. This will give us a rough understanding of the potential signals contained in the data, which will assist us on the next step of problem definition.","73ace119":"Our first impression upon inspecting the global distribution map is that the high-income ('Developed') countries have a significantly greater income gap between the male and female data scientists and software engineers.\nCould this be the absolute magnitude bias?\n\nWe will explore this by constructing yet another Choropleth map, this time leveraging on normalized gap quantities.","7f4354a8":"**Conclusion**\n\nAfter reviewing the set of our test results and outcomes versus the initial problem statement and the underlying hypotheses we can conclude that there is a clear distribution of incomes for data scientists and software engineers across the world. Survey respondents from the low-income ('Developing) countries have considerably lower average incomes than the survey respondents from the high-income ('Developed') countries. Although this is an expected phenomenon, it could provide a serious impact on social dynamics within the future state of the world. As the technology advances and there are more jobs created in the data science and software engineering domain, the gap is likely to widen, as the developed world enjoys the low-cost labour of the professionals from developing countries and promotes high-end, higher paid labour domestically. Furthermore, the increase in demand for the low-cost labour is likely to be offset by the increase in supply driven by technological gowth in the developing world, keeping the average income levels constant.\n\nConsequently, upon studying the hypothetical income gap between male and female data scientists and software engineers, we have discovered that such gap exists and is quite significant, with female professionals earning considerably less than their male counterparts across the globe. The relative bias is more pronounced in the developed world, where males earn ~22% higher salaries on average than their female counterparts. Although the income gender gap is quite significant in the developing world, the bias is less pronounced with males earning ~12% higher salaries than females.\nOnce again, the income disparity between male and female data scientists and software engineers may increase over time, with the exponential growth of technology and data applications, which we have enjoyed over the past few decades. \n\nThe negative consequences of the growing income disparity between genders are three-fold. Firstly, there is likely to be an increase in social tension between the genders, especially in the domain of technology and data science. Secondly, females may become discouraged from entering the aforementioned domain by unrealistic expectations and lower perceived rewards, resulting in a potential overall loss of expertise and diversity of insight. Lastly, male-dominated industry may carry over gender bias into the machine learning systems of the future, as they will be trained on the datasets engineered by predominantly male data scientists and software engineers. The gender bias in the machine learning systems may start off on a subtle note but  expand exponentially with time, making it hard to identify, yet creating a serious inequality in the social outcomes in the longer-term.\n\nThe outcomes of our compact study may warrant futher 'in-depth' research. If our concerns are confirmed by the subsequent studies, we may seek to present the findings to the corporate, governmental and academic decision-making organizations for further discussion around possible strategies to alleviate some of the concerns raised and offset potential negative impact of the gender income bias on the global society of the future.","234e519e":"Straight away, we notice a number of potential data issues and noise, such as the first row of our new dataframe containing survey questions, rather than the sought-out answers, and missing, 'NaN', values in the 'Salary' feature. Furthermore, we also see an unexpected number of values; some examples being 'I do not wish to disclose my approximate yearly compensation' in the 'Salary' feature and 'Prefer not to say' in the 'Gender' feature. Let's remove the noisy first row and run a quick statistical summary on each individual feature column, to understand the magnitude and scope of data cleansing to be undertaken.","b50ff403":"Re-running value counts provides us with a much butter picture of our data, as all undesirable values have been removed. We can now finally proceed to the next step within our workflow.","2308a0a6":"After confirming the removal of the row containing survey questions and analysing the value distribution across our feature columns, we need to decide on which values are acceptable to our planned data analysis. Entries that contain null values, noisy values or values, which are not aligned with our hypothesis can be ommitted from the dataset. \n\nAt the next step of our data cleansing, we will drop entries with undisclosed salaries (either NaN or undisclosed), as well as undisclosed genders or locations\n\n*Note: At this stage, it is vital to understand the implications of removing certain data and a potential introduction of  bias or shortcomings to the final outcome. Such implications shall be recorded in the assumptions and limitations section at the conclusive phases of our analysis.*","5fdfe8ae":"After a simple visual test on our key assumptions, we can confirm that the distribution of formal level of education and proxied expertise seems comparable between the tested datasets. It is especially similar between the male and female genders. However, upon further inspection, we can discern a slight relative difference in the proportion of the doctoral degrees between the high-income ('Developed') and low-income ('Developing') countries. The difference in the relative distribution could be a factor in the higher average median incomes observed within the developed countries. To understand the full scale of the effect, we would need to initiate another round of research in a new study, which is beyond the scope of this kernel.","8de2b923":"Indeed we can confirm that there is an income gender gap, which is generally positive and which appears to be of higher magnitude for countries with a larger income median. Only three countries project a negative income gender gap out of the toal of thirty three countries with any apparent gap. These countries are Hong Kong, Kenya and Morocco.\n\nFinally, let's run a simple statistical procedure to confirm our observation.","19400c10":"**Assumptions and Limitations**\n\n1. We have excluded a small number of respondents which did not wish to identify with a specified gender. Although this is a serious exclusion which prevents us from exploring yet another dimension of possible income bias, the decision had to be made in order to make the study practically possible, as the group of excluded respondents is impractically small - only 79 individuals. A separate study can be undertaken with a larger overall dataset in order to include this group into the analysed population.\n\n2. We have removed undisclosed locations and incomes, masking a potential impact on our results. Again, this was a decision in order to make the analysis practically viable. In the future studies, we could remove the option for the respondents to exclude these variables to generate a more complete initial dataset.\n\n3. Another key assumption, is that the level of expertise and education in the male and female data scientists is comparable. Furthermore, the characteristic domain of expertise and education between the developing and developed countries has to be relatively similar. If either of these two assumptions is incorrect, then our study may lack credibility, as we are not essentially dealing with comparable populations.\n\nThe last assumption is particularly vulnerable and worth testing by running a few visualisations on our initial dataset after adding a new feature to represent the level of formal education, whilst proxying for the level of expertise. We will also repeat our dataset cleansing procedures from our main research and exclude any unwanted values from this new feature.","8a95c582":"Although our new map displays a more subtle spread, it doesn't provide us much insight into the actual comparative distribution between high-income and low-income countries.\n\nTo assist us with the additional visual assessment, we shall exploit a simple scatter plot on two variables - median gap for 'High-income' labeled countries and normalized median gap for 'Low-income' labeled countries.\nWe will then repeat the same procedure with normalized variables to eliminate any magnitude bias, as we have done in the previous step.","f47b9044":"We are now finally in the position to understand our data by looking into the questions, which were asked of the survey respondends. Whilst searching for a signal to construct our problem, we will follow the basic set of guidelines and ask ourselves the following questions:\n\n1. *Which features of our dataset carry a potential signal of interest to us? *\nWe are specifically looking for features that carry a  business value, a social significane or a potentially unexplored phenomenon accessible to our analysis.\n\n2. *What is the macroscopic implication of combining some or all of these features?*\nWe are looking for the features, which, once aggregated, will allow us to construct a cohesive argument and support our hypothesis with the available data.\n\n3. *Can we apply 'Occam's razor' principle and minimise the number of the userful features for our model?*\nIn asking ourselves this question, we seek to minimise amount of required effort and processing power, whilst presrving the essence of our problem and testability of our hypothesis.\n\nAs this kernel is targetting practical application of data science and analysis in an organizational context, rather than seeking to demonstrate variability of possible heuristics and modelling techniques, we will construct a simple, yet effective problem, which can be explored with the minimal amount of data. Furthermore, we will take into consideration the current socio-cultural state of the world and political landscape to select a socially-relevant issue, as the basis for our research. Finally, we will look into the specific macroscopic property of our dataset, e.g. the demographics covered by the surveys, in order to further escalate the significance of tackling this issue, with the support of our final findings.\n\nThe problem we will explore is the issue of income gap between male and female respondents across the world, and specifically in the low-income and high-income countries (feature proxy for developing\/developed countries). If we can verify the existence of such gap and check whether its' magnitude differs between the high-income and low-income countries, we will be able to make policy recommendations, highlighting the importance of addressing equality in a progressively technological society. If the problem is not addressed, the gap will continue to widen over time, as growing proportion of world's population enters the data science and software engineering industry.","4ea4913c":"**Introduction**\n\nIt is of no secret or great surprise, that the majority of the countries within the modern world rely on vast amounts of data produced by a myriad of technological advances of the late twentieth and twenty first centuries.\n\nTrillions of data points are collected, stored and processed by various automated systems, as well as data analysts and scientists daily for various purposes. The outcomes of interaction between mankind and data range from support of effective and efficient decision making via insights into our socio-cultural, scientific and economic domains, to training of artificial intelligence and machine learning systems, to eradication of genetic disease and strive for biological perfection, to discovery of new elementary particles and cosmic bodies and to a further myriad of constructive applications.\n\nAs data evolves into the backbone of our future progress, millions of people decide to align their personal path by becoming data scientists, analysts and software engineers.\n\nThe purpose of this kernel is two-fold:\n\nFirstly, I would like to simulate a real world scenario of a data scientist\/analyst approaching a real world problem in an organizational environment and deriving a useful set of insights to support policy makers or business executives.\n\nSecondly, I would like to present a concrete set of findings from the executed workflow, as they are relevant to a particular social problem affecting technological society - a social problem which may become even more poignant in the near future, as the global community expands and the virtual domain grows across the developing and the developed worlds.\n\nFinally, please feel free to employ my code and leave suggestions or comments, as open conversation happens to be the key to universal progress.\n\n**Strategic Problem Framing - Top Down vs Bottom Up**\n\nThe first step a data professional faces is construction of a problem statement or selection of a specific phenomenon or field to address in their future workflow.\n\nWithin an organizational context, whether it is a multi-million dollar corporate, a research body or a non-for-profit organization, the two main strategic choices to problem framing are top down and bottom up approaches. \n\nIn a top down setting, the data scientist or analyst will be specifically given a problem or an objective by their respective stakeholder. It is then his or her duty to define and collect the most appropriate data set from the available and reliable sources. There are many well-known principles to follow when defining the dataset, choosing the right sources and selecting the appropriate capture methodology. Unfortunately these principles are out-of-scope for this kernel.\n\nIn a bottom up approach, the organization may have a number of datasets, which may contain signals of interest to the decision makers. The role of a data professional then becomes to review the datasets, analyze the potential signals, present in individual features, and in the dataset as a whole, and construct the problem, which, upon investigation, could provide useful insights for the wider decision making and strategic objectives of the organization. Knowledge of the operational domain, latest trends in data science and socially relevant themes become the key tools for a data scientist to rely on during the process of problem construction.\n\nIn our simulated scenario, we shall apply the bottom up approach, as we are already given the datasets in the form of two surveys from the data science and software engineering community \u2013 the multiple choice and the free form surveys.\n\n**Strategic Problem Framing \u2013 Reviewing the Data**\n\nAs a first step, we will prepare our working environment and load all necessary tools to aid us on the path of our analysis.\n\n\n","5fdfeb5a":"**Data Preparation - Part 1**\n\nNow the fun part begins!\n\nAfter re-visiting our survey datasets, we realise that all of our chosen questions belong to a single data source - representation of the multipleChoiceResponse survey results. Although it may be the consequence of applying the 'Occam's Razor' principle earlier,  it will surely simplify our workflow.\nLet's create a 'processed' version of our multichoice dataset, leaving only the desirable features. ","115b6a70":"**Hypothesis 1 - There is a clear distribution of high-income and low-income countries in our population of data. **\n\nThe first hypothesis can be tested via two simple representations - a bar graph and a Choropleth map. \nAs a numerical addendum, we will compare the mean value for the 'High-Income' and 'Low-Income' countries, defined according to our classifier.\n\n*Note: If you are unfamiliar with the construction of Choropleth maps, the following page gives a good summary of the two main methods of mapping: [plotly-vs-matplotlib-for-choropleth-maps](https:\/\/www.kaggle.com\/fabiendaniel\/choropleth-map-with-plotly)*\n","f1dfa2ac":"There is clearly a trend visible in the median income gap being positively correlated with the magnitude of the median income in each country. In other words, the gap seems to widen in the high-income countries. Let's try plotting a similar graph, but this time relying on another feature engineered by us, the Median_Gap.","9d23db9e":"After looking at results of the three procedures, which we have executed above, it becomes apparent that our first hypothesis is indeed true, due to the following conclusions:\n\n1. The Choropleth map displays a clear geographical distribution of median income across the world. Furthermore, countries that are frequently classified as 'Developed' appear at the higher spectrum of the median income range, whilst countries classified as 'Developing' appear in the lower spectrum of the median income range. This also tells us that using median income as the comparative benchmark for classification was a good proxy choice for the 'Developing' and 'Developed' countries.\n2. The horizontal line graph also verifies the expected trend with a clear bimodal distribution with low-income and high-income countries clustered on both sides of the chosen median threshold of 40.\n3. Upon reviewing statistical computation, we can see a clear, significant difference between the means of high-income vs low-income medians. The difference between the means is 43.026 ($43,026), which is almost 3 times the size of the low-income countries' mean value of the income medians.\n\nOk, we can tick off the first hypothesis and proceed to the next.\n","10d2277f":"As the median figure is significantly lower than the mean figure, displaying a bias towards the higher end of salary ranges, we can once again justify our choice of the median as the baseline for the 'High-Income', 'Low-Income' differentiation.\n\nNow that we have our data in a more suitable format, we shall be able to run some statistical functions on the dataset and organise the data into a new dataframe representation. The new dataframe representation will contain the list of all countries of the survey respondents, as well as a number of newly engineered features, such as median income and gender-specific median income. We will also create a 'Classifier' feature, which will compare the average income of a given country against the global median baseline, calculated in the previous step. Finally, we will add another engineered column to represent the median gap between male median and female median for every given country.","ad778d05":"From our numeric findings, we can once again validate our results, confirming the presence of a positive mean gender income gap of 7.232 (~$7,232).\n\nFInally,  we must address a limitation in our methodology - as we represent median income gap in absolute values, it may seem significantly larger in countries with greater median income, however, it may be comparable in relative, proportional terms. To understand the relative difference, we will engineer another feature, which will express the median income gap as a percentage of the country's median income.","8d8b435c":" **Data Analysis and Hypothesis Testing**\n\nNow we are all set for the most interesting part of our research.\n\nLet's recall the three hypotheses, which we have constructed earlier in our workflow:\n\n*Hypothesis 1 - There is a clear distribution of high-income and low-income countries in our population of data. \nNote: We will also use 'high-income' and 'low-income' labels as proxy labels for 'developing' and 'developed' countries.*\n\n*Hypothesis 2 - There is a considerable, significant income gap between male and female data scientists and software engineers.*\n\n*Hypothesis 3 - The income gap between male and female data scientists and software engineers varies in magnitude between high-income and low-income countries.*\n\nIn order to test our hypotheses we will perform a number of basic statistical and visual procedures. \n\n","8e2c9d38":"**Formulating Hypothesis and Defining the Dataset**\n\nAs the final step of our preliminary analysis, we will formulate a  hypothesis based on our general problem statement. The hypothesis must be testable, that is to say, we must have a reliable, quantifiable subset of data available and a clear methodology chosen to produce a measurable outcome. The outcome will neccessitate affirmation or negation of our hypothesis with an acceptable confidence threshold.\n\n*Hypothesis 1 - There is a clear distribution of high-income and low-income countries in our population of data. \nNote: We will also use 'high-income' and 'low-income' labels as proxy labels for 'developing' and 'developed' countries.*\n\n*Hypothesis 2 - There is a considerable, significant income gap between male and female data scientists and software engineers.*\n\n*Hypothesis 3 - The income gap between male and female data scientists and software engineers varies in magnitude between high-income and low-income countries.*\n\nIn order to aid us during our research, we shall select a set of features that carry a strongly positively correlated signal with our hypotheses. \nAfter once again reviewing the summary of survey questions from the previous section, we will shortlist the following set of features:","02633ff6":"Furthermore, and if neccessary, we will add an artificially constructed set of features, as we progress in our task.","b9bfb54f":"On a final note, I hope that, by reading this kernel, you have gained some basic, yet practical knowledge of data manipulation and analysis, as well as a pragmatic data-driven workflow in a simulated organizational context.\n\nThank you for your time!","5535c406":"When looking at the newly constructed, normalized median income gender gap, we can conclude that the gap does indeed persist, however, it has been scaled to comparable magnitudes across the higher-income and lower-income countries. Let's leave the detailed investigation to our upcoming research on the last hypothesis, which specifically deals with the gender income gap difference between high-income and low-income countries. \n\nMeanwhile, we can once again affirm our second hypothesis via the following summary of our findings:\n\n1. Although the relative gap magnitude varies between absolute and normalized representations, there is a significant male vs female median income gap across 33\/56 of the studied countries for the surveyed population.\n2. Only 3\/33 country instances display a negative trend, that is female median income > male median income. These instances are Hong Kong, Kenya and Morocco.\n3. The numeric analysis confirmed our initial visual observation, with a computed average median income gap across the population of 7.23 (~$7,232) and a normalized average gap of ~16.3 percent. Based on our investigation, it appears that male data scientists and software engineers receive ~16.3 percent higher salaries when compared to their female counterparts. \n\nOnce again, we may tick off the second hypothesis off our list and proceed to the last hypothesis.","319d7c5d":"**Hypothesis 3 - The income gap between male and female data scientists and software engineers varies in magnitude between high-income and low-income countries.**\n\nIn the course of analysing the data for the first two hypotheses, we have prepared a logical framework on which we can rely in addressing the third, and final, hypothesis. Furthermore, we have constructed another artificial feature - 'Normalized Gender Gap', which can be utilized to compare the difference in magnitudes of median income gender gap in the high-income and low-income countries, whilst avoiding a magnitude bias in the high-income end.\n\nAs the first visual procedure, we will construct a Choropleth using the absolute median gap quantities from our dataset."}}