{"cell_type":{"10537203":"code","2c6fb75f":"code","55f3055e":"code","d4f69f5c":"code","94393533":"code","30f7b769":"code","203643ee":"code","48ae8d00":"code","d35381fb":"code","82979a47":"code","cfb6e43f":"code","7ae64e17":"code","c176f46c":"code","0e66f25c":"code","56a17d38":"code","8ab38db7":"code","e8361a89":"code","8159e3a8":"code","847b6634":"code","841752d3":"code","dc4a6563":"code","939d600d":"code","2da41fd2":"code","6fbb9ba7":"code","7c4c5562":"code","89d96f4c":"code","afa8ecd8":"code","8f4a6544":"code","cb2989cd":"code","4adc4e0b":"code","6937986c":"code","e4c4d9c0":"code","5dd46eca":"code","047e7a73":"code","3fddeec3":"code","78aa57eb":"markdown","dc988648":"markdown","4486781c":"markdown","3130c66d":"markdown","d50f09f4":"markdown","8c248e47":"markdown","c316b0bc":"markdown","9631138e":"markdown","f291f2e0":"markdown","0d87c600":"markdown","6f3780c5":"markdown","5b0f6606":"markdown","f3e12e03":"markdown","69f0cd86":"markdown","87712c2a":"markdown","c5e47760":"markdown","f962c5ba":"markdown","9aa688ef":"markdown","5761de79":"markdown","45794636":"markdown","e6f89685":"markdown","848fe37c":"markdown","1e86be05":"markdown","fb781a2a":"markdown","f331f948":"markdown","34c8fba2":"markdown","76db378f":"markdown","e89d433b":"markdown","ee0b518c":"markdown","681b66e0":"markdown","4f24bb31":"markdown","f2dea284":"markdown","3b389bd0":"markdown","960b0919":"markdown","90917337":"markdown"},"source":{"10537203":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pylab as pl\nfrom sklearn import preprocessing\nimport seaborn as sns\nfrom sklearn import preprocessing\n%matplotlib inline","2c6fb75f":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","55f3055e":"df = pd.read_csv(\"..\/input\/fifa-21-complete-player-dataset\/players_21.csv\")","d4f69f5c":"pd.set_option('display.max_rows', None) \npd.set_option('display.max_columns', None) \npd.set_option('display.width', None) ","94393533":"df.head(10) ","30f7b769":"df.isnull().sum()","203643ee":"players_heights = df[[\"short_name\", \"height_cm\"]]","48ae8d00":"pd.set_option('display.max_rows', 30) \npd.set_option('display.max_columns', None) \npd.set_option('display.width', None) ","d35381fb":"players_heights","82979a47":"players_heights.nlargest(10, \"height_cm\")","cfb6e43f":"Top_10_tallest_players = players_heights.nlargest(10, \"height_cm\")","7ae64e17":"Top_10_tallest_players.plot(x ='short_name', y='height_cm', kind = 'scatter', figsize=(15, 10))","c176f46c":"players_heights.nsmallest(10, \"height_cm\")","0e66f25c":"Top_10_shortest_players = players_heights.nsmallest(10, \"height_cm\")","56a17d38":"Top_10_shortest_players.plot(x ='short_name', y='height_cm', kind = 'scatter', figsize=(15, 10))","8ab38db7":"df.nsmallest(16,\"overall\")","e8361a89":"Strongest_players = df.nlargest(10, \"power_strength\")","8159e3a8":"Strongest_players","847b6634":"Strongest_players.plot(x ='short_name', y='power_strength', kind = 'scatter', figsize=(15, 10))","841752d3":"df.nlargest(12,\"overall\")","dc4a6563":"top_valuable_club_names = ('FC Barcelona', 'Tottenham Hotspur', 'Paris Saint-Germain', 'Chelsea', 'Manchester City', \"Manchester United\", \"Arsenal\", \"Liverpool\", \"Real Madrid\", \"Bayern Munich\")","939d600d":"clubs = df.loc[df['club_name'].isin(top_valuable_club_names) & df['age']]\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\nax = sns.boxenplot('club_name', 'age', data=clubs)\nax.set_title(label='Age distribution in the top 10 most valuable clubs', fontsize=25)\nplt.xlabel('Clubs', fontsize=20)\nplt.ylabel('Age', fontsize=20)\nplt.grid()","2da41fd2":"df.drop([\"gk_diving\", \"gk_handling\",\"gk_kicking\",\"gk_reflexes\",\"gk_speed\",\"gk_positioning\", \"player_traits\", \"loaned_from\", \"player_tags\",\"nation_jersey_number\", \"nation_position\", \"defending_marking\"], inplace=True, axis = 1)","6fbb9ba7":"df.dropna(inplace=True)","7c4c5562":"df.isnull().sum()","89d96f4c":"x = df[[\"defending_standing_tackle\",\"mentality_composure\",\"defending_sliding_tackle\", \"attacking_heading_accuracy\", \"power_strength\",\"mentality_aggression\",\"mentality_interceptions\", \"attacking_short_passing\", \"skill_ball_control\",\"movement_reactions\" ,\"power_jumping\"]]\ny = df[\"overall\"]","afa8ecd8":"x = preprocessing.StandardScaler().fit(x).transform(x.astype(float))","8f4a6544":"from sklearn.model_selection import train_test_split\nx_train, x_test, y_train, y_test = train_test_split(x,y,  test_size=0.2, random_state = 4)","cb2989cd":"x.shape","4adc4e0b":"y.shape","6937986c":"x = x.transpose()","e4c4d9c0":"from sklearn import linear_model\nregr = linear_model.LinearRegression()\nregr.fit(x_train, y_train)","5dd46eca":"y_hat = regr.predict(x_test)","047e7a73":"from sklearn import metrics","3fddeec3":"metrics.r2_score(y_hat, y_test)","78aa57eb":"The first insight we are looking to pull from the data is \"who are the top 10 tallest players?\"\n","dc988648":"Graphical representation of the top 10 shortest players:","4486781c":"Now we split our dataset using a 80-20 split (80% for training and 20% for testing). After which we use a linear regression algorithm for training.","3130c66d":"We are trying to predict the overall (output) a defender would have based on some features (input). Firstly we drop the following columns from the dataframe - \"gk_diving\", \"gk_handling\",\"gk_kicking\",\"gk_reflexes\",\"gk_speed\",\"gk_positioning\", \"player_traits\", \"loaned_from\", \"player_tags\",\"nation_jersey_number\", \"nation_position\", \"defending_marking\". Theoretically, 25% to 30% is the maximum missing values allowed and these columns exceed this range hence why they are getting dropped. ","d50f09f4":"**- TOP 10 STRONGEST PLAYERS**","8c248e47":"Graphical representation of the top 10 tallest players:","c316b0bc":"The top 10 most valuable clubs in the world are Tottenham Hotspurs, PSG, Arsenal, Chelsea, Man City, Liverpool, Manchester United, Bayern Munich, Real Madrid and Barcelona.","9631138e":"We import necessary packages for the analysis.","f291f2e0":"Now we have cleaned the data and have no missing values, we select our features for prediciton.","0d87c600":"The players with 90+ ratings are seen below:","6f3780c5":"The top 10 strongest players are seen below:","5b0f6606":"The second insight we are looking to pull from the data is \"who are the top 10 shortest players?\"\n","f3e12e03":"The lowest rating in Fifa 21 is 47. There are 16 players with this rating. The players are seen below:","69f0cd86":"**- TOP 10 TALLEST PLAYERS** ","87712c2a":"To ensure we get equal number of samples in x and y, we transpose x","c5e47760":"The top 10 shortest players are:","f962c5ba":"**- FEATURE SELECTION**","9aa688ef":"***DATA EXPLORATION***","5761de79":"**- 90+ RATED PLAYERS**","45794636":"**- EVALUATION**","e6f89685":"**- TOP 10 SHORTEST PLAYERS** ","848fe37c":"**- TRAINING**","1e86be05":"**Steps**\n\nWe group the columns \"short_name\", \"height_cm\" and make a new dataframe called \"player_heights\".","fb781a2a":"**- LOWEST RATED PLAYERS**","f331f948":"The top 10 tallest players are:","34c8fba2":"Now we have dropped those columns, the following columns have missing values as well - \"club_name\", \"league_name\", \"league_rank\", \"release_clause_eur\", \"team_position\", \"team_jersey_number\",\"joined\", \"contract_valid_until\",\"pace\", \"shooting\", \"passing\",\"dribbling\", \"defending\",\"physic\" but the range of the missing values is within the allowed range. So we drop the missing values.","76db378f":"**- SPLIT DATA**","e89d433b":"**- AGE DISTRIBUTION IN THE TOP 10 MOST VALUABLE CLUBS IN THE WORLD**","ee0b518c":"Graphical representation of the top 10 strongest players:","681b66e0":"***PREDICTIVE ANALYTICS***","4f24bb31":"***IMPORTING NECESSARY PACKAGES***\n\n","f2dea284":"***READING IN THE DATA***","3b389bd0":"From the graph, we can see the shortest player is H.Nakagawa. He is a Japanese footballer who plays as a midfielder for Japanese club Shonan Bellmare on loan from Kashiwa Reysol.","960b0919":"From the graph, we can see the tallest player is T. Hol\u00fd. He is a Czech professional footballer who plays as a goalkeeper for Ipswich Town.","90917337":"Coefficient of determination (r2 score) is 85 percent"}}