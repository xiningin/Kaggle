{"cell_type":{"510ca426":"code","61d3d338":"code","01b4ea53":"code","2c362968":"code","c3f51207":"code","abd7ff44":"code","464539f8":"code","c6501e38":"code","291be0d5":"markdown","7a879d02":"markdown","147f84fb":"markdown","69c91941":"markdown","b0994107":"markdown","515d60ac":"markdown","62c88430":"markdown"},"source":{"510ca426":"import numpy as np\nimport pandas as pd\nfrom os import listdir\nimport matplotlib.pyplot as plt\nimport IPython.display as ipydisplay ","61d3d338":"PATH_AUDIO = '..\/input\/birdsong-recognition\/train_audio\/'\ntrain_df = pd.read_csv('..\/input\/birdsong-recognition\/train.csv')\ntest_df = pd.read_csv('..\/input\/birdsong-recognition\/test.csv')\ntrain_df.head()","01b4ea53":"plt.figure(figsize=(10, 5))\ntrain_df.country.value_counts()[:10].plot.bar()\nplt.title('Top 10 Countries where data is recorded')\nplt.grid('True')\nplt.xlabel('Courntries')\nplt.ylabel('No of audio samples taken')\nplt.show()","2c362968":"ebird_name_map = train_df[['ebird_code','species', 'primary_label']].drop_duplicates()\nno_of_categories = ebird_name_map.shape[0]\nprint('No of bird categories: ', no_of_categories)","c3f51207":"train_df.columns","abd7ff44":"# for ebird_code in listdir(PATH_AUDIO)[:10]:\n#     sample_audio_path = f'{PATH_AUDIO}{ebird_code}\/{listdir(PATH_AUDIO + ebird_code)[0]}'\n#     species = ebird_name_map[ebird_name_map.ebird_code == ebird_code].species.values[0]\n#     ipydisplay.display(ipydisplay.HTML(f\"<h3>{ebird_code} ({species})<\/h3>\"))    \n#     ipydisplay.display(ipydisplay.Audio(sample_audio_path))","464539f8":"# train_df.groupby(\"species\")[\"filename\"].count().reset_index().rename(columns = {\"filename\": \"recordings\"}).sort_values(\"recordings\", ascending=False).plot.barh(figsize = (5,100))\noutput = train_df.groupby(\"species\")[\"filename\"].count().reset_index().rename(columns = {\"filename\": \"recordings\"}).sort_values(\"recordings\", ascending=False).reset_index(drop=True, inplace=False).copy()\nplt.figure(figsize = (7, 60))\nplt.xticks(rotation = 90)\nplt.barh(output.species, output.recordings)\nplt.grid(True)\nplt.show()","c6501e38":"print('Categories with 100 recordings: ', output[output.recordings ==100].species.count())\nprint('Categories with less than 100 recordings:', output[output.recordings <100].species.count())","291be0d5":"# I will keep updating this notebook as I walk through more things.","7a879d02":"# Uncomment the following code cell to hear the sounds. ","147f84fb":"It seems that almost **(130\/264) = 49.2%** of the categories of the birds have less than the maximum number of samples present(100) in the training folder. \n* However in the extended datasets are available in [dataset part 1](https:\/\/www.kaggle.com\/rohanrao\/xeno-canto-bird-recordings-extended-a-m) and [dataset part 2](https:\/\/www.kaggle.com\/rohanrao\/xeno-canto-bird-recordings-extended-n-z) (thanks to [Vopani](https:\/\/www.kaggle.com\/rohanrao)) which contains almost 20k samples each categories. \n* **Therefore it will be a good idea to take samples from that original external dataset to fill out the categories which has less than 100 samples** ","69c91941":"<a name='1'><\/a>\n# 1. Basic Setup","b0994107":"<a name='1-1'><\/a>\n## 1.1  Loading Libraries and Dataframes","515d60ac":"It seems that most of the data is recorded from North America (USA, CA, MEX)","62c88430":"![](https:\/\/resources.tidal.com\/images\/76e0cb4c\/bde6\/4fca\/983b\/d5e4891b63dc\/640x640.jpg)\n- [1. Basic Setup](#1)\n  -[1.1 Loading Libraries and Dataframes](#1-1)"}}