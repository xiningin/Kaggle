{"cell_type":{"7069d965":"code","70c4bdf0":"code","20aca8d7":"code","68d887ca":"code","02fea94e":"code","d3efb441":"code","7a5d0f41":"code","606ddd75":"code","5e0f0cd3":"code","b616178f":"code","8c669d22":"code","437d6658":"code","591e2605":"code","50a425d4":"code","15d224df":"code","fbb009eb":"code","f501ce63":"code","0ea64085":"code","3eaa3158":"markdown","d742aec2":"markdown","eb801c7a":"markdown","8f116556":"markdown","f3e96013":"markdown","be65c7df":"markdown","20f05cc0":"markdown","0cf40326":"markdown","cee9a556":"markdown","0cd8f4fd":"markdown","7e3f7ad2":"markdown","bb5d839b":"markdown","8e0c746a":"markdown","7dd60e42":"markdown","44920a3e":"markdown","8e050e39":"markdown","e2abef23":"markdown","6ef1e2a1":"markdown","37dd15b2":"markdown","4e085f6c":"markdown","ab440906":"markdown","6ca53df1":"markdown","1d56e081":"markdown","b3b5aee0":"markdown"},"source":{"7069d965":"import sqlite3\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns\nimport datetime as dt\n\n\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))","70c4bdf0":"file = sqlite3.connect('..\/input\/188-million-us-wildfires\/FPA_FOD_20170508.sqlite')","20aca8d7":"data = pd.read_sql_query(\"SELECT * FROM fires\", con= file)","68d887ca":"data.describe()","02fea94e":"data['DATE'] = pd.to_datetime(data['DISCOVERY_DATE'] - pd.Timestamp(0).to_julian_date(), unit='D')\nprint(data.head())","d3efb441":"# Converting to day of week\ndata['day_of_week'] = data['DATE'].dt.day_name()\nprint(data['day_of_week'])\n\n# Converting to month of year\ndata['month'] = pd.DatetimeIndex(data['DATE']).month\ndata['month'] = data.month.replace([1,2,3,4,5,6,7,8,9,10,11,12], ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'])\nprint(data['month'])","7a5d0f41":"for col in data.columns:\n    print(col)","606ddd75":"lst = ['DATE', 'day_of_week', 'month', 'FIRE_YEAR', 'DISCOVERY_TIME', 'STAT_CAUSE_DESCR', 'STATE', 'FIRE_SIZE']\ndata_final = data[lst]\ndata_final.head()","5e0f0cd3":"dow = data_final.groupby(['day_of_week']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(14,5))\ng = sns.barplot(data = dow, y = 'count', x = 'day_of_week')\nplt.xlabel('Day of week')\nplt.ylabel('Number of wildfire cases')\ng.axes.set_title('Graph showing number of wildfire per day of week',fontsize=20)","b616178f":"arson_data_per_day = data[data['STAT_CAUSE_DESCR'] == 'Arson'].groupby(['day_of_week']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(14,5))\ng = sns.barplot(data = arson_data_per_day, y = 'count', x = 'day_of_week')\nplt.xlabel('Day of week')\nplt.ylabel('Number of wildfire cases due to arson')\ng.axes.set_title('Graph showing number of wildfire per day of week caused by arson',fontsize=20)","8c669d22":"month_data = data_final.groupby(['month']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(14,5))\ng = sns.barplot(data = month_data, y = 'count', x = 'month')\nplt.xlabel('Month')\nplt.ylabel('Number of wildfire cases')\ng.axes.set_title('Graph showing number of wildfire per month',fontsize=20)","437d6658":"year_data = data_final.groupby(['FIRE_YEAR']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(14,5))\ng = sns.barplot(data = year_data, y = 'count', x = 'FIRE_YEAR')\nplt.xlabel('Year')\nplt.ylabel('Number of wildfire cases')\ng.axes.set_title('Graph showing number of wildfire per year',fontsize=20)","591e2605":"data_2006 = data[data['FIRE_YEAR'] == 2006].groupby(['STAT_CAUSE_DESCR']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(25,10))\ng = sns.barplot(data = data_2006, y = 'count', x = 'STAT_CAUSE_DESCR')\nplt.xlabel('Cause of wildfire')\nplt.ylabel('Number of wildfire cases')\ng.axes.set_title('Graph showing cause of wildfire in 2006',fontsize=20)","50a425d4":"data_final['new_time'] = data_final['DISCOVERY_TIME'].astype(str).str[:2]","15d224df":"hour_data = data_final.groupby(['new_time']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(14,5))\ng = sns.barplot(data = hour_data, y = 'count', x = 'new_time')\nplt.xlabel('Hour')\nplt.ylabel('Number of wildfire cases per hour in a day')\ng.axes.set_title('Graph showing number of wildfire per hour in a day',fontsize=20)","fbb009eb":"cause_data = data_final.groupby(['STAT_CAUSE_DESCR']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(25,10))\ng = sns.barplot(data = cause_data, y = 'count', x = 'STAT_CAUSE_DESCR')\nplt.xlabel('Causes')\nplt.ylabel('Number of wildfire cases')\ng.axes.set_title('Graph showing number of wildfire per cause',fontsize=20)","f501ce63":"# Creating barplot\nplt.figure(figsize=(25,10))\ng = sns.barplot(data = data_final, y = 'FIRE_SIZE', x = 'STAT_CAUSE_DESCR')\nplt.xlabel('Causes')\nplt.ylabel('Size of fire (acres)')\ng.axes.set_title('Graph showing size of wildfire per cause',fontsize=20)","0ea64085":"state_data = data_final.groupby(['STATE']).size().reset_index(name = 'count').sort_values('count')\n\n# Creating barplot\nplt.figure(figsize=(18,5))\ng = sns.barplot(data = state_data, y = 'count', x = 'STATE')\nplt.xlabel('State')\nplt.ylabel('Number of wildfire cases')\ng.axes.set_title('Graph showing number of wildfire per state',fontsize=20)","3eaa3158":"### We can see that the dates are all in Julian format. We may need to change that.","d742aec2":"### We will then convert the date to day of week (Mon, Tue, etc) and month of year (Jan, Feb, etc).","eb801c7a":"## Let's have an overview of the data","8f116556":"# Looking into month of year","f3e96013":"### Well, it seems there are significantly higher cases of arson over the weekends. That could explain why we observe high trends on Saturdays and Sundays.","be65c7df":"## What do we see here?\n- We observe high occurence of wildfires on March, April and July. \n- In US, with snow melting and the warmer temperatures rolling in, grass and other vegetation will become dry across the plains. These dry vegetation are highly flammable.\n- This is the most dangerous time of the year because the grass is dead and dry, and the fresh green grass has yet to come in. Not only is it getting warmer and drier, but the winds are picking up which makes the spread of these fires rapid.","20f05cc0":"## What do we see here?\n- It seems that debris burning is the main cause for wildfire. \n- The government should spend more effort in educating their citizens with regards to debris burning (applying for license, when to burn and how to burn to ensure fire does not become uncontrollable).\n\n### So what are the impact of each causes?","0cf40326":"# Looking into day of week ","cee9a556":"## What do we see here?\n- The main cause of wildfire in 2006 was due to debris burning. Debris buring is a cost-effective to get rid of yard waste and without a good knowledge of the weather condition, it may lead to severe wildfires. ","0cd8f4fd":"# Looking into number of wildfires by hour","7e3f7ad2":"### Let's look into our columns and see which variables we will need for our analysis.","bb5d839b":"## What do we see here?\n- It seems that California, Georgia and Texas have the highest number of wildfire cases. \n- An edition of [nationalgeographic](https:\/\/www.nationalgeographic.com\/science\/2019\/10\/climate-change-california-power-outage\/) has stated that California is affected heavily by climate changes. With an increase in temperature of over 3 Fahrenheit, water have been drawn out from the soil and leaves, leaving a dry and warm condition susceptible to burning.\n- The strong winds around the area also speed up the rate of burning.","8e0c746a":"## What do we see here\n- It seems that the amount of wildfire cases is consistent from Tuesday to Friday, with significantly high cases from Saturday to Monday.\n- Majority of these cases are caused by severe weather conditions and how I will explain the high number of cases over the weekends is that there are less fire regulations on work sites and this could result in the occurance of wildfire if equipments and flammable materials are not kept in proper conditions. \n- But could it be also due to deliberate actions like arson?","7dd60e42":"# Summary\n- Majority of the wildfires occurred over the weekends and after looking into the data, we realise that there is an increase in arson during that period. \n- Majority of the wildfires were caused by debris burning. Hence, proper education is needed in this area to reduce wildfires.\n- Lightning destroyed the most arces of land.\n- California, Georgia and Texas are the top 3 states for wildfire cases.","44920a3e":"# Looking into year","8e050e39":"## Import the file using sqlite3.connect and the correct pathway to the file","e2abef23":"## What do we see here?\n- Weird enough, it seems that lightning causes damages to more acres of land than debris burning. \n- The increase in number of dry thunderstorms during dry season could be the reason for the slowdown in firefighting, resulting in more acres of land being burned. ","6ef1e2a1":"### Let's understand the leading cause for the high number of wildfire on 2006","37dd15b2":"# Looking into what are the main causes for wildfire","4e085f6c":"# Looking into states affected by wildfires","ab440906":"## Let's import the required packages","6ca53df1":"## What do we see here?\n- Majority of the wildfire occurs in daytime, between 12PM to 4PM. This is also the period where the sun is the strongest.","1d56e081":"![](https:\/\/www.insurancejournal.com\/app\/uploads\/2020\/01\/australia-wildlife-decimated-by-bushfires.jpg)\n# Introduction\nThe purpose of this project is to identify the underlying cause of wildfire using the data from this massive database. This is my first kernel working on SQLite and I am excited to try this out!\n","b3b5aee0":"### We will be needing the following columns:\n- DATE\n- day_of_week\n- month\n- FIRE_YEAR\n- DISCOVERY_TIME\n- STAT_CAUSE_DESCR\n- STATE\n- FIRE_SIZE"}}