{"cell_type":{"46c8a4be":"code","ec722c90":"code","078115ef":"code","2d089d30":"code","9ef99caf":"code","59b4d6dd":"code","981879f1":"code","a21d2619":"code","7b45f6d3":"code","0528739a":"code","74494cc4":"code","d500371a":"code","36f13b30":"code","9bed52f8":"code","db5ea422":"markdown","81353cfe":"markdown","752c6d05":"markdown","f5e3b586":"markdown","54c48d5b":"markdown","69143219":"markdown","ac72cbe4":"markdown","89124b0a":"markdown","e6ddfc20":"markdown","24b6c281":"markdown"},"source":{"46c8a4be":"# Import the package pandas and rename it in our code as pd\nimport pandas as pd\n# Import the package matplotlib and rename it to plt\nimport matplotlib.pyplot as plt","ec722c90":"# This is for the Alaska dataset but update it to match what you chose!\nstate_of_interest = \"New Mexico\"\nperson_data = pd.read_csv(\"..\/input\/new-mexico-data\/nm_person.csv\") # It should look something like this but you need to replace the link in red.\nhousehold_data = pd.read_csv(\"..\/input\/new-mexico-data\/nm_household.csv\")  # It should look something like this but you need to replace the link in red.","078115ef":"# Our microdata csv is now in the dataframe variable.\n# We can call the method \"head()\" on df to print out the first 5 rows.\nperson_data.head()","2d089d30":"household_data.head()","9ef99caf":"variable_to_explore = \"GrossRentAsPercentOfIncome\"\n\ndf = household_data if variable_to_explore in household_data.columns else person_data","59b4d6dd":"# Calculate and print the mean.\nmean = df[variable_to_explore].mean()\nprint(f\"Mean of {variable_to_explore} is {round(mean,3)}\\n\")\n\n# Calculate and print the median.\nmedian = df[variable_to_explore].median()\nprint(f\"Median of {variable_to_explore} is {round(median,3)}\\n\")\n\n# Calculate and print the mode.\nmode = float(df[variable_to_explore].mode())\nprint(f\"Mode of {variable_to_explore} is {round(mode,3)}\\n\")\n\n# Calculate the quartiles\nminv = float(df[variable_to_explore].min())\nq2 = float(df[variable_to_explore].quantile(q=0.25))\nq3 = float(df[variable_to_explore].quantile(q=0.75))\nmaxv = float(df[variable_to_explore].max())\nprint(f\"Quartiles of {variable_to_explore} are {round(minv, 3)}, {round(q2, 3)}, {round(q3, 3)}, {round(maxv, 3)}\\n\")","981879f1":"person_data.describe()","a21d2619":"household_data.describe()","7b45f6d3":"# Config - feel free to change these!\ninclude_outliers = False\nnum_bins = 50\n# Only change these if you are bold...\nsymbol = 'X' if include_outliers else ''\nbounds = (5, 95) if include_outliers else (0,100)","0528739a":"# Define the range of the Y axis\nranges = [df[variable_to_explore].min() - 5, df[variable_to_explore].max() + 5]\n\n# Create the box and whiskers (boxplot)\nplt.boxplot(df[variable_to_explore].dropna(), vert=False, sym=symbol, whis=bounds)\nplt.title(f\"Boxplot of {variable_to_explore} in {state_of_interest}\")\nplt.ylabel(\"Distribution\")\nplt.xlabel(variable_to_explore)\nplt.yticks(ticks=[1], labels=[\"100\"])\nplt.xlim(ranges)\nplt.show()\n\n# Create the histogram\nplt.hist(df[variable_to_explore], bins=num_bins)\nplt.title(f\"Histogram of {variable_to_explore} in {state_of_interest}\")\nplt.ylabel(\"Count in Bin\")\nplt.xlabel(variable_to_explore)\nplt.xlim(ranges)\nplt.show()","74494cc4":"# TODO copy your survey link below from the top right! \nuser_data = pd.read_csv(\"..\/input\/all-class-data-v2\") # [it should look similar to this but you need to update this link] \n# user_data = pd.read_csv(\"all-class-data-2nd-period\")\n\nprint(\"What's your name?\")\nstudent_name = \"\"","d500371a":"user_data.head()","36f13b30":"variable_to_explore = \"NumberOfPeopleInHousehold\"","9bed52f8":"if variable_to_explore not in user_data.columns:\n    print(f\"You do not have {variable_to_explore} in your Sheet! Double check that it matches exactly and then reupload your file!\")\nelse:\n    fig, axs = plt.subplots(2, 2)\n\n    def label_axes(axes, graph_type, transition_word, location, ranges):\n        # axes.title.set_text(f\"{graph_type} of {variable_to_explore} {transition_word} {location}\")\n        # axes.set_xlabel(variable_to_explore)\n        axes.set_xlim(ranges)\n\n    # Calculate shared range.\n    ranges = [min(df[variable_to_explore].min(), user_data[variable_to_explore].min()) - 5,\n            max(df[variable_to_explore].max(), user_data[variable_to_explore].max()) + 5]\n    # Create various plots.\n    state_data_for_var = df[variable_to_explore].dropna()\n    user_data_for_var = user_data[variable_to_explore].dropna()\n    print(f\"Distribution of {variable_to_explore} in {state_of_interest} (Top) vs {student_name}'s Survey (Bottom)\")\n    axs[0, 0].boxplot(state_data_for_var, vert=False, sym=symbol, whis=bounds)\n    label_axes(axs[0, 0], \"Boxplot\", \"in\", state_of_interest, ranges) \n    axs[0, 1].hist(state_data_for_var, bins=num_bins)\n    label_axes(axs[0, 1], \"Histogram\", \"in\", state_of_interest, ranges) \n    axs[1, 0].boxplot(user_data_for_var, vert=False, sym=symbol, whis=bounds)\n    label_axes(axs[1, 0], \"Boxplot\", student_name + \"'s Survey\", \"for\", ranges) \n    axs[1, 1].hist(user_data_for_var, bins=num_bins)\n    label_axes(axs[1, 1], \"Histogram\", student_name + \"'s Survey\", \"for\", ranges) ","db5ea422":"# Easily explore all 5-number summaries.","81353cfe":"# When excel won't cut it.\nSometimes we need even more powerful graphical or statistical tools. Let's see what we can do in python! ","752c6d05":"We will be using the U.S. Census American Community Survey which consists of anonymized information about the lives of real Americans. \n\nChoose a state that you would like to explore! \n[Make sure to click the \\[\\] button next to the cell after making or changing your selection!\n\n1) Download both the household or person data for a particular state here:\nhttps:\/\/drive.google.com\/drive\/folders\/1mDtm-BSxf0iK1Asn7kdfzYcDCZs2eltW?usp=sharing\n\n2) In the top right of the screen click \"+ Add data\" and upload the two files. Call your dataset \"census\". (Make sure that you have clicked Copy & Edit and signed in).\n\n3) Navigate to the two CSVs","f5e3b586":"# Explore your data!\nLet's see how these state-wide results compare to your survey results. \n\n1.   Make sure that the column names that you collected match the ones used in this Colab: WaterCostInDollars, FireHazardFloodInsuranceYearlyCostInDollars, GrossRentAsPercentOfIncome, NumberOfChildrenInHousehold,NumberOfPeopleInHousehold, AgeInYears, TravelTimeToWorkInMinutes, NumberOfPeopleInCarpool, HoursWorkedWeeklyInPastYear, TotalIncomeInDollars\n2.   Download your data as CSV! In your Google Sheet, select File -> Download -> Comma separated values (CSV)\n3.   In the top right of the screen click \"+ Add data\" and upload your survey data. Call your dataset \"mysurvey\".\n4.   Find the data in the top right under the \"input\" folder and copy the link below.","54c48d5b":"# Data Analysis With Python\nSometimes we need more powerful tools to analyze our data. We will be using the Python programming language and two amazingly powerful Python libraries called pandas and Matplotlib. \n\nNext to each cell you should see \\[ \\]. Click on this tab to run the cell and import these two packages. \n\n**To get started - click \"Copy & Edit\" and Sign-In With Google**","69143219":"Let's explore the distribution of one of the variables of our data. Choose one of the variables from the dropdown and then run the rest of the code!\n\nMake sure to remember to run the \\[ \\] next to the dropdown and all code if you want to update it.","ac72cbe4":"# Explore your data!","89124b0a":"The first step whenever you have a new dataset is to get a sense of which features (the columns like Age, Wages, etc) you have access to.","e6ddfc20":"# Visualize our results","24b6c281":"# Old Tools\nWe still have access to all the same statistical tools and tests that we have been used to! Let's explore those."}}