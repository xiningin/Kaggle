{"cell_type":{"dea05853":"code","68c67862":"code","40f724ba":"code","58e5ae8a":"code","a8edf2c1":"code","c4b28753":"code","9c6286d8":"code","67ee655c":"code","65226856":"code","2649357c":"code","af1fd905":"code","846cdf18":"code","78effc30":"code","e720225a":"code","241dd95f":"code","0bc1b53f":"code","26207e20":"code","e798f2e2":"code","5fbba348":"code","4d4249f2":"code","17142795":"code","35ede882":"code","b97c9658":"code","6524b934":"code","31096ab4":"markdown","ea790b6a":"markdown","e20edd37":"markdown","7f7e6026":"markdown","c6b18f38":"markdown","7260600a":"markdown","c8b2b08f":"markdown","23e780a4":"markdown","62484ab4":"markdown","3d370482":"markdown","7613977b":"markdown","127382a2":"markdown","c1cc1c4b":"markdown","415ce9e0":"markdown","4ffa01f1":"markdown","61db98e3":"markdown","74bb691b":"markdown","eadb5168":"markdown","33fe7e22":"markdown","199778c5":"markdown","99077fc3":"markdown","58fd173e":"markdown","570c1d54":"markdown","be41e767":"markdown"},"source":{"dea05853":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nimport matplotlib as mpl\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","68c67862":"df = pd.read_csv('..\/input\/students-performance-in-exams\/StudentsPerformance.csv')#Reading the data","40f724ba":"color_pallet = sns.color_palette(palette='Set2')\nsns.palplot(color_pallet)\nplt.show()","58e5ae8a":"df.info()","a8edf2c1":"col_name = list(df.columns)\ncol_name.pop()\ncol_name.pop()\ncol_name.pop()","c4b28753":"for i in col_name:\n    sns.set_style('darkgrid')\n    if i == 'parental level of education':\n        sns.countplot(y=i,data=df,palette=color_pallet,order=df[i].value_counts().index)\n    else:\n        sns.countplot(x=i,data=df,palette=color_pallet,order=df[i].value_counts().index)\n    plt.show()\n    lis = df[i].unique()\n    for j in lis:\n        print(j+':',len(df[df[i]==j]))","9c6286d8":"df.describe()","67ee655c":"average_score = np.sum(df[['math score','reading score','writing score']],axis=1)\naverage_score=average_score\/3\ndf['average score'] = average_score","65226856":"sns.heatmap(df.corr(),annot=True,cmap=color_pallet)\nplt.show()","2649357c":"plt.figure(figsize=(200,100))\nfig,axes = plt.subplots(5,1,figsize=(10,20))\naxes = axes.flatten()\nsns.set_style('darkgrid')\nsns.categorical.barplot(y='race\/ethnicity',x='average score',data=df,order=df['race\/ethnicity'].value_counts().index,palette=color_pallet,ax=axes[0])\nsns.categorical.barplot(x='gender',y='average score',data=df,order=df['gender'].value_counts().index,palette=color_pallet,ax=axes[1])\nsns.categorical.barplot(y='parental level of education',x='average score',data=df,order=df['parental level of education'].value_counts().index,palette=color_pallet,ax=axes[2])\nsns.categorical.barplot(x='lunch',y='average score',data=df,order=df['lunch'].value_counts().index,palette=color_pallet,ax=axes[3])\nsns.categorical.barplot(x='test preparation course',y='average score',data=df,order=df['test preparation course'].value_counts().index,palette=color_pallet,ax=axes[4])\nplt.show()","af1fd905":"df1 = df[df['test preparation course']=='none']","846cdf18":"lis = df['parental level of education'].unique()\naverage_len=[]\nfor i in lis:\n    y=(len(df1[df1['parental level of education']==i ])\/len(df[df['parental level of education']==i]))*100\n    average_len.append(y)\nplt.xlabel('percentage of students with test preparation none')\nplt.ylabel('parental level of education')\nsns.barplot(y=lis,x=average_len,palette=color_pallet)\nplt.show()\naverage_len=[]\nfor i in lis:\n    y=df1[df1['parental level of education']==i ]['average score'].mean()\n    average_len.append(y)\nplt.xlabel('average mean score with test preparation none')\nplt.ylabel('parental level of education')\nsns.barplot(y=lis,x=average_len,palette=color_pallet)\nplt.show()\n","78effc30":"lis = df['race\/ethnicity'].unique()\naverage_len=[]\nfor i in lis:\n    y=(len(df1[df1['race\/ethnicity']==i ])\/len(df[df['race\/ethnicity']==i]))*100\n    average_len.append(y)\nplt.xlabel('percentage of students with test preparation none')\nplt.ylabel('race\/ethnicity')\nsns.barplot(y=lis,x=average_len,palette=color_pallet)\nplt.show()\naverage_len=[]\nfor i in lis:\n    y=df1[df1['race\/ethnicity']==i ]['average score'].mean()\n    average_len.append(y)\nplt.xlabel('average mean score with test preparation none')\nplt.ylabel('race\/ethnicity')\nsns.barplot(y=lis,x=average_len,palette=color_pallet)\nplt.show()","e720225a":"master = df[df['parental level of education']==\"master's degree\"]\nsns.barplot(x='race\/ethnicity',y='average score',data=master,palette=color_pallet)\nplt.xlabel(\"race\/ethnicity of students whose parents have master's degree\")\nplt.show()","241dd95f":"master = master[master['race\/ethnicity']=='group E']","0bc1b53f":"master[master['gender']=='male']['average score'].mean()\nx=['male','female']\ny=[master[master['gender']=='male']['average score'].mean(),master[master['gender']=='female']['average score'].mean()]\nsns.barplot(x=x,y=y,palette=color_pallet)\nplt.show()","26207e20":"from sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import Ridge\nfrom sklearn.metrics import mean_squared_error","e798f2e2":"df","5fbba348":"df_model = df.drop(['math score','reading score','writing score'],axis=1)","4d4249f2":"y = df_model['average score']\ndf_model = df_model.drop('average score',axis=1)","17142795":"df_model = pd.get_dummies(df_model)\ndf_model","35ede882":"x_train,y_train,x_test,y_test = train_test_split(df_model,y,test_size=0.2,random_state=42)","b97c9658":"model = Ridge()\nmodel.fit(x_train,x_test)\npred = model.predict(y_train)\ntrain_pred = model.predict(x_train)\nscore =  mean_squared_error(y_test,pred,squared=False)\nscore","6524b934":"from sklearn.ensemble import RandomForestRegressor\nmodel = RandomForestRegressor()\nmodel.fit(x_train,x_test)\nfeature_importance = np.array(model.feature_importances_)\nfeature_names = np.array(x_train.columns)\ndata={'feature_names':feature_names,'feature_importance':feature_importance}\ndf_plt = pd.DataFrame(data)\ndf_plt.sort_values(by=['feature_importance'], ascending=False,inplace=True)\nplt.figure(figsize=(10,8))\nsns.barplot(x=df_plt['feature_importance'], y=df_plt['feature_names'])\nplt.xlabel('FEATURE IMPORTANCE')\nplt.ylabel('FEATURE NAMES')\nplt.show()","31096ab4":"<div class=\"alert alert-block alert-info\" style=\"font-size:15px; font-family:verdana; line-height: 2.0em;\">\n    \ud83d\udcccMost of the students whose parents went to high school didn't prepared for the test and scored lowest among all other groups<br>\n    \ud83d\udcccEven though students whose parents had master degree mostly said they didn't prepared for the test even then they scored highest<br>\n    \ud83d\udccccompared to other groups students whose parents went to some high school mostly said that they have prepared for the test but even then scored less<br>\n<\/div>","ea790b6a":"<div class=\"alert alert-block alert-danger\" style=\"font-size:15px; font-family:verdana; line-height: 2.0em;\">\n The variable test preparation course is too subjective to be binary since what complete preparation means to some student can mean none to other so let's explore further using this variable to see if we can extract some useful insights\n<\/div>","e20edd37":"<div class=\"alert alert-block alert-info\" style=\"font-size:15px; font-family:verdana; line-height: 2.0em;\">\n    \ud83d\udcccEven though in general female student on average score higher, male students  have the highest scores<br>\n<\/div>","7f7e6026":"<div class=\"alert alert-block alert-danger\" style=\"font-size:15px; font-family:verdana; line-height: 2.0em;\">\n \ud83d\udcccthe score of students depends highly on which race\/ethnicity and family background they come from<br>\n \ud83d\udcccgenerally, students who have prepared scores higher but it is a subjective term<br>\n \ud83d\udcccEven though in general female student on average score higher, male students  have the highest scores\n<\/div>","c6b18f38":"<b><div style=\"font-size:20px\">lets add another variable average score to our data frame<\/div><\/b>","7260600a":"# Conclusions","c8b2b08f":"<h3>So our data frame contain only Non NULL Values<\/h3>","23e780a4":"<div class=\"alert alert-block alert-info\" style=\"font-size:15px; font-family:verdana; line-height: 1.7em;\">\n    \ud83d\udcccTo score more on math you need better reading skills compared to writing skill<br>\n    \ud83d\udcccReading score and Writing score are highly correlated <br>\n    \ud83d\udcccone strategy to improve score could be to focus more on highly correlated subjects<br>\n<\/div>","62484ab4":"<h1>Introduction\ud83d\udc68\u200d\ud83c\udf93<\/h1>\n<p style=\"font-size:15px\"><pre>Let's be real we have all wondered at some point in our lives,  how some people score more marks than us? is it due to they study more? or they come from a better background? or is it due to some other reason? more importantly, how can we improve our performace? in this kernel we will find answers to these questions<\/pre><\/p>","3d370482":"<div style=\"font-size:17px\">color palette used:-<\/div>","7613977b":"<div class=\"alert alert-block alert-info\" style=\"font-size:15px; font-family:verdana; line-height: 1.7em;\">\n    \ud83d\udcccMale and Female are evenly distributed<br>\n    \ud83d\udcccGroup C is in majority while Group A is in the minority<br>\n    \ud83d\udcccMost of the parents are educated also there are less no. of parents with advanced degrees<br>\n    \ud83d\udcccMost of the students have Standard Lunch<br>\n    \ud83d\udcccMost of the students didn't prepared for the test\n<\/div>","127382a2":"<b style=\"font-size:20px\">Lets have a quick look at our scores data<\/b>","c1cc1c4b":"<h1>Feature importance plot<\/h1>","415ce9e0":"# Variable Description","4ffa01f1":"<div class=\"alert alert-block alert-info\" style=\"font-size:15px; font-family:verdana; line-height: 2.0em;\">\n    \ud83d\udcccEven though group E is second minority students from this ethnicity have scored highest and lowest from group A who is in the most minority<br>\n    \ud83d\udcccIn general female students have scored higher then male student<br>\n    \ud83d\udcccparental level of education is propotional to students scores<br>\n    \ud83d\udcccstudents with standard lunch scored higher<br>\n    \ud83d\udcccstudents who have prepared for test scored higher\n<\/div>","61db98e3":"Since students whose parents have a master degree score higher let's check race\/ethnicity and gender distribution of them","74bb691b":" <h1><center>Thank you<\/center><\/h1>\n<div style=\"font-size:20px\"><center><b>If you found this kernel helpful please upvote it motivates me to make more kernels<\/b><\/center><br>\n<b><center>Work in Progress ... \u23f3 <\/center><\/b><\/div>","eadb5168":"Lets train a simple machine learning model to predict average score","33fe7e22":"<div class=\"alert alert-block alert-info\" style=\"font-size:15px; font-family:verdana; line-height: 2.0em;\">\n    \ud83d\udccccompared to other groups group E students mostly prepared for the test hence scored highest among all other groups<br>\n    \ud83d\udcccInterestingly most of the group D students said that they didn't prepare for the test even then they scored second-highest<br>\n<\/div>","199778c5":"# EDA","99077fc3":"<div style=\"font-family:verdana\">\n        <blockquote style=\"font-size:15px;line-height:30px\">\n  <ul><li>gender:- male or female<\/li>\n  <li>race\/ethnicity:- Group A,Group B,Group C, Group D and Group E<\/li>\n  <li>parental level of education:- bachelor's degree, some college, master's degree,associate's degree, high school and some high school <\/li>\n  <li>lunch:- free\/reduced or standard<\/li>\n  <li>test preparation course:- completed or none<\/li>\n  <li>math score:- integer<\/li>\n  <li>reading score:- integer<\/li>\n  <li>writing score:- integer<\/li>\n  <\/ul>\n  \n  \n  \n   <\/blockquote>\n<\/div>","58fd173e":"<div style=\"font-family:verdana;font-size:15px\">\n<b>Q how does average score depends on different categorical variables?<\/b>\n<\/div>","570c1d54":"# Bonus","be41e767":"Lets look at distribution of categorical variables using count plot"}}