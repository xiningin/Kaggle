{"cell_type":{"874eab48":"code","7bb26b20":"code","c706f7a8":"code","05269d75":"code","22e8a09d":"code","0a6376dd":"code","f6dbf8b4":"code","e1ea173d":"code","c343931c":"code","8eadcede":"code","5465d78c":"code","ab47ead3":"code","87261473":"code","69e3edf5":"code","23b664a3":"code","ed796dfd":"code","58119fa4":"code","5f3f24a1":"code","55c22774":"code","463e7b93":"code","3c9ad457":"code","a6e6765b":"code","acf15e05":"code","affb8e23":"code","a610b036":"code","90b491da":"code","28f94367":"code","d86fc25c":"code","889e1f16":"code","e2df712b":"code","cceb4185":"code","7261d6b2":"code","8b8bbbe6":"code","e83ae7da":"code","6bc55b32":"code","291630e4":"code","aa7ef540":"code","010bcd21":"code","613613cc":"code","a42484f3":"code","a657a403":"code","117b9bff":"code","cc4fb8fe":"code","465753a4":"code","6d2e4750":"code","a3e6400d":"code","7f71101d":"code","efce59e3":"code","e4cdce4d":"code","355d128a":"code","67bc704a":"code","28d4fc2e":"markdown","853f5c57":"markdown","9d8552dc":"markdown","3770b952":"markdown","eb95ff06":"markdown","9a927d94":"markdown","51c91c69":"markdown","bd6a6f6f":"markdown","35ce1939":"markdown","cf274936":"markdown","876708f0":"markdown","2d111f6d":"markdown","1bbc3443":"markdown","d6a439b2":"markdown","fc0934d3":"markdown","a8a703ae":"markdown"},"source":{"874eab48":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7bb26b20":"import os\nimport pandas as pd\nimport numpy as np\nfrom pylab import rcParams\nimport warnings\nimport itertools\nimport matplotlib.pyplot as plt\nwarnings.filterwarnings(\"ignore\")\nplt.style.use('fivethirtyeight')\nimport statsmodels.api as sm\nimport matplotlib\nmatplotlib.rcParams['axes.labelsize'] = 14\nmatplotlib.rcParams['xtick.labelsize'] = 12\nmatplotlib.rcParams['ytick.labelsize'] = 12\nmatplotlib.rcParams['text.color'] = 'k'","c706f7a8":"#Reading the data\ndat=pd.read_csv(\"\/kaggle\/input\/market-share-of-pharma-company-imaginary\/Market_Share.csv\")\ndat","05269d75":"#Renaming column name for easement\ndat=dat.rename(columns={'Pharma Companies':'PC','Market Share (In 2020) (In percentage)':'MS_2020','Revenue Generated 2 (Billion INR)':'Rev_2020'})\n\ndat","22e8a09d":"# making a copy only for top 10 company\ndat_Top10 = dat[0:10].copy()\ndat_Top10","0a6376dd":"#### Shape of data\ndat_Top10.shape","f6dbf8b4":"#### Checking datatype of each column\ndat_Top10.info()","e1ea173d":"#### Null Values in data\ndat_Top10.isnull().sum()","c343931c":"# adding a new column with the revenue loss of 2.2%\ndat_Top10[\"RevLoss\"] = dat_Top10.Rev_2020 * 0.022\ndat_Top10","8eadcede":"# adding a new column with new revenue\ndat_Top10[\"Rev_New\"] = dat_Top10.Rev_2020 - dat_Top10.RevLoss\ndat_Top10","5465d78c":"# Checking total Revenue loss from top 10 Company\nlostRev = round(dat_Top10.RevLoss.sum(),2)\nlostRev","ab47ead3":"# Making a new copy to add ChemX and others company\ndat_New = dat_Top10.copy()","87261473":"# Adding others company\ndf2 = {'PC': 'others', 'MS_2020': dat.iloc[10]['MS_2020'], 'Rev_2020': dat.iloc[10]['Rev_2020'], 'RevLoss': 0, 'Rev_New': (dat.iloc[10]['Rev_2020'] + (lostRev\/2)) } \ndat_New = dat_New.append(df2 , ignore_index=True) \n# adding ChemX\ndf3 = {'PC': 'Chem-x', 'MS_2020': dat.iloc[11]['MS_2020'], 'Rev_2020': dat.iloc[11]['Rev_2020'], 'RevLoss': 0, 'Rev_New': (dat.iloc[11]['Rev_2020'] + (lostRev\/2)) } \ndat_New = dat_New.append(df3 , ignore_index=True) ","69e3edf5":"# Adding new column with new Market Share \ndat_New['MS_New'] = (dat_New.Rev_New\/dat_New.Rev_New.sum()) * 100\ndat_New","23b664a3":"#Dropping the row with \"Others\" companies data as question asked only for Market share of CHEMX and top 10 company\ndat_MS_ChemX_andTop10 = dat_New.drop(10)","ed796dfd":"dat_MS_ChemX_andTop10.columns","58119fa4":"dat_MS_ChemX_andTop10 = dat_MS_ChemX_andTop10.drop(['MS_2020', 'Rev_2020', 'RevLoss', 'Rev_New'], axis=1)","5f3f24a1":"dat_MS_ChemX_andTop10","55c22774":"overall_Rev_2020 = dat.Rev_2020.sum()\noverall_Rev_2020","463e7b93":"#Overall Revenue with 5% increase in 2021\noverall_Rev_2021 = overall_Rev_2020 + (0.05*overall_Rev_2020)\noverall_Rev_2021","3c9ad457":"ChemX_rev_2021 = round((dat.iloc[11]['MS_2020']\/100) *4278.9705,2)\nChemX_rev_2021","a6e6765b":"ChemX_rev_2021 = round((dat_MS_ChemX_andTop10.iloc[10]['MS_New']\/100) *4278.9705,2)\nChemX_rev_2021","acf15e05":"growth_rate=pd.read_csv(\"\/kaggle\/input\/market-share-of-pharma-company-imaginary\/Growth_Rate_Medical_Mojo.csv\")\ngrowth_rate","affb8e23":"##### As Medical Mojo and Chem- X have same profile and outlook , we can consider the growth rate as same. \ngrowth_rate_ChemX = growth_rate.copy()","a610b036":"##### Adding growth rate of 2021 from Q1A above as suggested in the question \n\n# Getting all the data from earlier data frame\ndat_New","90b491da":"# Getting Revenue of 2020\ndat_New.iloc[11]['Rev_2020']","28f94367":"# Getting Revenue of 2020\ndat_New.iloc[11]['Rev_New']","d86fc25c":"growth_2021 = round(((dat_New.iloc[11]['Rev_New'] - dat_New.iloc[11]['Rev_2020'])\/ dat_New.iloc[11]['Rev_2020'])* 100,2)\ngrowth_2021","889e1f16":"df_Growth2021 = {'Year': 2021, 'Growth Rate': growth_2021  } \ngrowth_rate_ChemX = growth_rate_ChemX.append(df_Growth2021 , ignore_index=True) \ngrowth_rate_ChemX","e2df712b":"growth_rate_ChemX.info()","cceb4185":"growth_rate_ChemX_original = growth_rate_ChemX.copy()\n\ngrowth_rate_ChemX.Year = growth_rate_ChemX.Year.astype(int)\ngrowth_rate_ChemX.Year = growth_rate_ChemX.Year.astype(str)\ngrowth_rate_ChemX","7261d6b2":"growth_rate_ChemX['DateTime'] = '31-Dec-' + growth_rate_ChemX.Year","8b8bbbe6":"growth_rate_ChemX\n\ngrowth_rate_ChemX.DateTime = pd.to_datetime(growth_rate_ChemX.DateTime)\ngrowth_rate_ChemX.info()","e83ae7da":"growth_rate_ChemX_TS = growth_rate_ChemX\n\ngrowth_rate_ChemX_TS = growth_rate_ChemX_TS.drop(['Year'], axis=1)\n\ngrowth_rate_ChemX_TS = growth_rate_ChemX_TS[['DateTime', 'Growth Rate']]\ngrowth_rate_ChemX_TS","6bc55b32":"growth_rate_ChemX_TS\n\nplt.plot_date(growth_rate_ChemX_TS.DateTime, growth_rate_ChemX_TS['Growth Rate'], linestyle='solid')","291630e4":"y = growth_rate_ChemX_TS['Growth Rate']\nrcParams['figure.figsize'] = 18, 16\ndecomposition = sm.tsa.seasonal_decompose(y, model='additive', period=1)\nfig = decomposition.plot()\nplt.show()","aa7ef540":"mod = sm.tsa.statespace.SARIMAX(y,\n                                order=(1, 0, 0),\n                                seasonal_order=(0, 0, 0, 12),\n                                enforce_stationarity=False,\n                                enforce_invertibility=False)\nresults = mod.fit()\nprint(results.summary().tables[1])","010bcd21":"pred_uc = results.get_forecast(steps=12)\npred_ci = pred_uc.conf_int()\nax = y.plot(label='observed', figsize=(14, 7))\npred_uc.predicted_mean.plot(ax=ax, label='Forecast')\nax.fill_between(pred_ci.index,\n                pred_ci.iloc[:, 0],\n                pred_ci.iloc[:, 1], color='k', alpha=.25)\nax.set_xlabel('Date')\nax.set_ylabel('Growth Rate')\nplt.legend()\nplt.show()","613613cc":"pred_ci","a42484f3":"pred_uc.predicted_mean","a657a403":"df_pred = pred_uc.predicted_mean.to_frame()\ndf_pred=df_pred.rename(columns={'predicted_mean':'Growth_Pred'})\n\ndf_pred","117b9bff":"growthRate_2026_pred = pred_uc.predicted_mean[15]\ngrowthRate_2026_pred\ngrowthRate_2026 = round(growthRate_2026_pred * 1.5, 2)\ngrowthRate_2026","cc4fb8fe":"df_pred.at[15,'Growth_Pred'] = growthRate_2026\ndf_pred","465753a4":"df_pred['Year'] = range(2022, 2022+len(df_pred))\ndf_pred = df_pred[['Year','Growth_Pred']]\ndf_pred","6d2e4750":"df_pred.at[18,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[19,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[20,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[21,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[22,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.reset_index()\ndf_pred","a3e6400d":"growthRate_2031_pred = round(df_pred.at[20,'Growth_Pred'],2)\nprint( 'The predicted Percentage of growth for the year of 2031 is ' + str(growthRate_2031_pred) + '%')","7f71101d":"# Merging to see all the data in one Dataframe (Actuals + Predicted) \ndf_Final = pd.merge(growth_rate_ChemX_original, df_pred, on = 'Year', how='outer')\ndf_Final","efce59e3":"df_Final['Rev_pred'] = 'NaN'\ndf_Final.at[9,'Rev_pred'] = dat_New.at[11,'Rev_2020']\ndf_Final.at[10,'Rev_pred'] = dat_New.at[11,'Rev_New']\ndf_Final.Year = df_Final.Year.astype(int)\ndf_Final","e4cdce4d":"for i, row in df_Final.iterrows():\n    if i > 10:\n        df_Final.at[i,'Rev_pred'] = df_Final.at[i -1,'Rev_pred'] + (df_Final.at[i -1,'Rev_pred'] * df_Final.at[i,'Growth_Pred']\/100)","355d128a":"df_Final.Year = df_Final.Year.astype(int)\ndf_Final","67bc704a":"Rev_2031_pred = round(df_Final.at[20,'Rev_pred'],2)\nprint( 'The predicted Percentage of growth for the year of 2031 is INR ' + str(Rev_2031_pred) + ' Billion' )","28d4fc2e":"- We expect a higher uptake (about 1.5) in the average growth from 2026, (not for subsequent years)","853f5c57":"# ---------------------------------------------------------------------------------------------------------------","9d8552dc":"### Given Problem Statement - 1b)","3770b952":"### Given Problem Statement - 2)\n- There was another competitor (Medical MoJo) which was established in 2010 and had the same profile and outlook as Chem-X. \n- How much revenue ChemX will be able to generate in 2031, considering ChemX grows at an average growth rate (across 10 years) as Medical MoJo.\n\n##### Note:\n- 1. The revenue for ChemX for 2021 to be leveraged from Question-1.1.\n- 2. We expect a higher uptake (about 1.5) in the average growth from 2026, (not for subsequent years).\n- 3. Another major competitor launch is planned for 2029 which leads to an expected slowdown in growth for ChemX and revenue is expected to become stagnant from 2028 onwards.","eb95ff06":"- Another major competitor launch is planned for 2029 which leads to an expected slowdown in growth for ChemX and revenue is expected to become stagnant from 2028 onwards\n- So all the Preduction of all year after 2028 is same","9a927d94":"### Step 4: Solution","51c91c69":"# Created by: Team Extra Mile\n## Team Member \n- Animesh Parikshya\n- Dr. Anshika Sharma\n- Tanisha Jain\n- Arpit Dhawan","bd6a6f6f":"# ---------------------------------------------------------------------------------------------------------------","35ce1939":"# Step 2: Read the Data Files","cf274936":"\n## Task - Prediction of Market Share of ChemX Pharma in current Pandamic\n\n### Given Problem Statement - 1a)\n- A. What will be the market Share of Chem-X and the top 10 companies in 2021? \n\n##### Note: \n- i. The top 10 companies will individually lose 2.2% of its revenue generated in 2020. The half (50%) of the lost revenue will go to \u2018Chem-X\u2019 and the rest to the others.\n- ii. The revenue generated by a company is proportional to its market share. ","876708f0":"### Step 3 : Exploratory Data Analysis","2d111f6d":"- B. Also calculate the revenue generated by Chem-X in 2021 if the overall revenue generation for individual companies is increased by 5% of that in 2020. ","1bbc3443":"## 1A) Solution: - Market Share of Chem-X and the top 10 companies in 2021","d6a439b2":"## Chem-X revenue in 2021, assuming that the market share have not changed","fc0934d3":"# Solution\n\n### Step 1 : Importing required libraries","a8a703ae":"## Chem-X revenue in 2021, assuming that the market share have changed as per question 1A above."}}