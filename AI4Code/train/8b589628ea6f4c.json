{"cell_type":{"6007b942":"code","bd0f0f96":"code","482d687b":"code","bd2cf43a":"code","6e1ab4c9":"code","d9c032ea":"code","46a61f40":"code","cdecb255":"code","40fa75d7":"code","c0b03382":"code","85fdf0ba":"code","18f9e41c":"code","92c60f9f":"code","c8662eb2":"code","617c8233":"code","02dd200c":"code","9b83a317":"code","6d6e8420":"code","b580b639":"code","c1cd666e":"code","5e4a7199":"code","94e2eab9":"code","72778f7f":"code","9d5bdfdb":"code","a3da168c":"code","87882128":"code","bd896de5":"code","0377442a":"code","51fd6cca":"code","13dc8f18":"code","1646a803":"code","fa65e517":"code","827c85c5":"code","6ade3f05":"code","c8afccaa":"code","6e4161c8":"code","5c9b6fbd":"code","b9981a90":"code","6092a0f8":"code","1af39989":"code","6c20940b":"code","bacf1684":"code","cb0afa18":"code","6f555530":"code","f2095717":"code","24f8419b":"code","6a113e8d":"code","2c0c4d6f":"markdown","f66fdda2":"markdown","32f54a12":"markdown","a1cc73ef":"markdown","df750d60":"markdown","68ed429d":"markdown","2fe95f9d":"markdown","40a11748":"markdown","b2b3cb0c":"markdown","82e38568":"markdown","1de1fef5":"markdown","de5dece6":"markdown","47f03334":"markdown","96824b6e":"markdown","7a714545":"markdown","1a34cd49":"markdown","5ab1b9c2":"markdown","da979357":"markdown","91b0eef7":"markdown","2e29e55c":"markdown","7a60f098":"markdown","542b56f5":"markdown","ee9b4d3f":"markdown","374908d6":"markdown","873d4e8d":"markdown","519c3ef2":"markdown","35ce27b1":"markdown","1afbd13e":"markdown","205641f2":"markdown","2723101e":"markdown","5a25a58c":"markdown","40bccb4a":"markdown","f9626631":"markdown"},"source":{"6007b942":"# import statements for all of the packages that I plan to use.\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\n\n","bd0f0f96":"# Load The data and print out a few lines. Perform operations to inspect data\n#   types and look for instances of missing or possibly errant data.\ndf=pd.read_csv('..\/input\/medical-appointment-no-shows\/npa.csv')\ndf.head()","482d687b":"df.info()","bd2cf43a":"\ndf.drop(['PatientId','AppointmentID'],axis=1,inplace=True)\n\n# rename the no-show column and change the value in the data set from no to 1 and from yes to 0 to make it easy to handel\n\ndf.rename(columns={'No-show':'show'},inplace=True)\nvalue = {\"No\": 1, \"Yes\":0}\ndf[\"show\"] = df[\"show\"].map(value)\n\n","6e1ab4c9":"# Removing duplicated row\n# first check the number of duplicated row\ndf.duplicated().sum()","d9c032ea":"df.drop_duplicates(inplace=True,ignore_index=True)","46a61f40":"# check again for duplicates\ndf.duplicated().sum()","cdecb255":"df.describe()","40fa75d7":"df.nunique()","c0b03382":"df['AppointmentDay'] = pd.to_datetime(df['AppointmentDay'])\n\ndf['ScheduledDay'] = pd.to_datetime(df['ScheduledDay'])\n\n","85fdf0ba":"df['ScheduledDay'] = pd.to_datetime(df['ScheduledDay'].dt.strftime('%Y-%m-%d'))\ndf['AppointmentDay'] = pd.to_datetime(df['AppointmentDay'].dt.strftime('%Y-%m-%d'))\n","18f9e41c":"df.info()","92c60f9f":"df.head()","c8662eb2":"df['delay']=df['AppointmentDay']-df['ScheduledDay']\ndf['delay']=df['delay'].dt.days","617c8233":"df.rename(columns = {\"Gender\": \"male\"}, inplace = True)\n\n#encoding it\nvalue = {\"M\": 1, \"F\":0}\ndf[\"male\"] = df[\"male\"].map(value)\n\ndf.head()\n","02dd200c":"df.describe()","9b83a317":"df = df[df['delay'] >= 0]\ndf = df[df['Age'] >= 0]","6d6e8420":"df.describe()","b580b639":"df['day']=df['AppointmentDay'].dt.day_name()\ndf['month']=df['AppointmentDay'].dt.month_name()\n\ndf.head()\n","c1cd666e":"df[\"age_range\"] = pd.qcut(df.Age, 5, labels = [\"0 - 15\", \"16 - 30\", \"31 - 45\", \"46 - 60\", \"61 - 115\"])","5e4a7199":"df[\"delay_range\"] = pd.cut(df.delay, 9, labels = [\"0-20\", \"21-40\", \"41-60\", \"61-80\", \"81-100\", \"101-120\", \"121-140\", \"141-160\", \"161-179\"])","94e2eab9":"df.info()","72778f7f":"df.nunique()","9d5bdfdb":"df.head()","a3da168c":"dfnoshow=df.query('show == 0')\ndfshow=df.query('show == 1')","87882128":"dfnoshow.describe()","bd896de5":"dfshow.describe()","0377442a":"plt.figure(figsize = (10, 5), dpi = 100)\nsns.heatmap(df.corr(), vmin = -1, vmax = 1, cmap = \"viridis\", linewidths=0.1, annot=True);","51fd6cca":"df.groupby(['male'])['show'].value_counts().plot(kind=\"bar\");","13dc8f18":"df.male.value_counts()","1646a803":"maleshow=df.groupby(['male'])['show'].value_counts(normalize=True)\nmaleshow","fa65e517":"maleshow[0]*2,maleshow[1]","827c85c5":"ind = np.arange(len(maleshow[0]))  # the x locations for the groups\nwidth = 0.35       # the width of the bars\n# plot bars\nred_bars = plt.bar(ind, maleshow[0], width, color='r', alpha=.7, label='female')\nwhite_bars = plt.bar(ind + 0.35, maleshow[1], width, color='b', alpha=.7, label='male')\n\n# title and labels\nplt.ylabel('Proportion')\nplt.xlabel('Quality')\nplt.title('Proportion by Wine Color and Quality')\nlocations = ind + width \/ 2  # xtick locations\nlabels = ['show', 'noshow']  # xtick labels\nplt.xticks(locations, labels)\n\n# legend\nplt.legend()","6ade3f05":"ind","c8afccaa":"locations","6e4161c8":"df.groupby(['delay_range'])['show'].value_counts().plot(kind='bar',figsize=(10,5)),df.groupby(['delay_range'])['show'].value_counts()","5c9b6fbd":"df[df['show']==1].groupby(['day'])['show'].value_counts().plot(kind='bar');","b9981a90":"df[df['show']==1].groupby(['month'])['show'].value_counts().plot(kind='bar');","6092a0f8":"df[df['Hipertension']==1].groupby(['age_range'])['Hipertension'].value_counts().plot(kind='bar',figsize=(10,5));","1af39989":"df[df['Hipertension']==1].groupby(['Age'])['Hipertension'].value_counts().plot(kind='bar',figsize=(25,10));","6c20940b":"df[df['Hipertension']==1].groupby(['Hipertension'])['Age'].mean()","bacf1684":"df[df['Diabetes']==1].groupby(['age_range'])['Diabetes'].value_counts().plot(kind='bar',figsize=(10,5));","cb0afa18":"df[df['Diabetes']==1].groupby(['Age'])['Diabetes'].value_counts().plot(kind='bar',figsize=(25,10));","6f555530":"\ndf[df['Diabetes']==1].groupby(['Diabetes'])['Age'].mean()","f2095717":"df.groupby(['age_range'])['show'].value_counts().plot(kind='bar');","24f8419b":"dfshow[dfshow['Scholarship']==1].groupby(['age_range'])['show'].value_counts().plot(kind='bar');","6a113e8d":"dfshow[dfshow['Scholarship']==0].groupby(['age_range'])['show'].value_counts().plot(kind='bar');","2c0c4d6f":"\n\n# Project: Investigate a Dataset \n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","f66fdda2":"### There is a direct relationship between age and Diabetes, knowing that the average age of people suffering from this disease is 61 years","32f54a12":"### There is a direct relationship between age and high blood pressure, knowing that the average age of people suffering from this disease is 60 years","a1cc73ef":"### I will cut the Age and the delay time to several ranges to make it more clear on visualization","df750d60":"### I will remove the time from the data so i can use the date more easy","68ed429d":"###  I will calculate the time between the AppointmentDay and scheduledDay ","2fe95f9d":"## I will check the corrolation to see the realtion between variables","40a11748":"<a id='conclusions'><\/a>\n## Conclusions\n>First the data has 35% in it from male patient and the rest is female\n>\n> the gender did not affect the attendance of the appointment\n>\n>when the delay time increases than 20 days the attendance is greatly reduced\n>\n> it look like \"wednesday\" ,\"tuesday\" and \"monday\" have highr attendance than the other days of the week\n>\n>  May is the higher attendance in the monthes and April has the lower attendance\n>\n> There is a direct relationship between age and high blood pressure, knowing that the average age of people suffering from this disease is 60 years\n>\n>There is a direct relationship between age and Diabetes, knowing that the average age of people suffering from this disease is 61 years\n>\n>It seems like the age did not affect the attendance but in the middle age (30-45) patient who has scholarship have higher attendance than the others\n\n","b2b3cb0c":" #### we can see some problems in the data \n  #### 1- negative value in the age\n  #### 2- too many value in scheduledDay and Age\n  #### 3- some data need to type change\n  #### 4- need to calculate the dalay time between the scheduledday and appointmentday\n  ","82e38568":"## It look like there is a strong relation between Diabetes, Hipertension and Age \n## And other one between sms_received and the delay time","1de1fef5":"### we can see that when the delay time increases the attendance is greatly reduced","de5dece6":"<a id='intro'><\/a>\n## Introduction\n\n","47f03334":"### Ther is negative value in Age and delay so i will remove this values","96824b6e":"### First i will change the data type to datetime","7a714545":"## From the correlation we saw a relation between Age and Hypertension and diabetes let us detect them","1a34cd49":"### so the percentage of males who came from all males and females who came from all females is almost the same so the gender did not affect the attendance","5ab1b9c2":"### I will make another two dataframe one for the patient who show and the other for the one who did not show","da979357":"### Research Question 4 (Does the patients Age affect his attendance?)\n\n### Research Question 5 (Does the patients who have Scholarships tend to have higher attendance?)\n","91b0eef7":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n\n\n### Research Question 1 (Does gender affect patient attendance or not?)","2e29e55c":"\n\n### Data Cleaning (now i will try to solve the problems i have mentioned !)","7a60f098":"\n\n### Research Question 2 (Does delay time affect patient attendance or not?)","542b56f5":"#### now we can se some statistics about the data","ee9b4d3f":"### it look like \"wednesday\" ,\"tuesday\" and \"monday\" have highr attendance than the other days of the week","374908d6":"### I will rename the Gender and change it value also like the no-show column to make it easy to handel","873d4e8d":"\n\n### Research Question 3 (Does the date of appointment whether it was a day in the week or a month affect patient attendance or not?)","519c3ef2":"### I will extract the day and the monte from AppointmentDay to see how they affect on the show state of the patient","35ce27b1":"### Removing unnecessary columns","1afbd13e":"### It seems like the age did not affect the attendance but in the middle age (30-45) patient who has scholarship have higher attendance than the others","205641f2":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n> **Tip**: In this section of the report, you will load in the data, check for cleanliness, and then trim and clean your dataset for analysis. Make sure that you document your steps carefully and justify your cleaning decisions.\n\n### General Properties","2723101e":"### Now we will see some statistics about the two data set and try to detect first idea about the characteristics of the patient who show and who didn't","5a25a58c":"### The first analysis of the data\n\n>The male is 35 % of the total patient and their percentage did not change between who came and who not so I can say that the Gender didn't affect the attendance of the patient.\n>\n>The mean of delay time for the patient who shows was 9 days and for who not was 16 days, so it seems like when the delay time increases the patient will be more likely to not show in the appointment.\n>\n>For other data(Scholarship,\tHipertension,\tDiabetes,\tAlcoholism,\tHandcap,\tSMS_received) it seems like it didn't affect the attendance of the patient but we will detect it with more details below.","40bccb4a":"The percentage for male and female how show from each total number","f9626631":"###  May month have the higher attendance and April the lower attendance"}}