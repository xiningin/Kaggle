{"cell_type":{"83f4bff9":"code","fe651835":"code","4bf83a0b":"code","aac37ef7":"code","b76f7eba":"code","6e377e72":"code","2a612296":"code","eed9e011":"code","342e32fd":"code","bdfa3879":"code","2c64e7d0":"markdown","256333a6":"markdown","4d8498bf":"markdown","8a5a7634":"markdown"},"source":{"83f4bff9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","fe651835":"df = pd.read_csv('..\/input\/2019_data.csv')","4bf83a0b":"df.Statistic.value_counts()","aac37ef7":"def convert_df(df, statistic):\n    df = df[df.Statistic == statistic]\n\n    df = pd.pivot_table(df, index=['Player Name','Date','Statistic'], \n                   columns = 'Variable', \n                   values='Value', \n                   aggfunc=[lambda x: ''.join(str(v) for v in x)]).reset_index()\n\n    df.columns = df.columns.get_level_values(0)[:3].append(df.columns.get_level_values(1)[3:].map(lambda x:x.split('(')[-1]).str.replace(')','').str.title()).str.replace(' ','_')\n    df.drop('Statistic', axis=1, inplace=True)\n    df['Date'] = pd.to_datetime(df['Date'])\n    return df\n    ","b76f7eba":"df_WR = convert_df(df, 'Official World Golf Ranking')\ndf_WR.head()","6e377e72":"import seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","2a612296":"df_WR.Avg_Points = pd.to_numeric(df_WR.Avg_Points)","eed9e011":"df_WR.replace('nan',np.nan).head()","342e32fd":"Top10 = df_WR[df_WR['Date']==df_WR.Date.max()].sort_values(by='Avg_Points', ascending=False)['Player_Name'].head(10).values","bdfa3879":"fig, ax = plt.subplots(figsize=(10,5))\n\ncolumns = ['Player_Name','Date','Avg_Points']\n\nax = sns.lineplot(x=\"Date\", y=\"Avg_Points\", hue=\"Player_Name\", \n                  data=df_WR[columns][df_WR.Player_Name.isin(Top10)])\n\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\nplt.title(\"Average Points for Current Top 10 Players\")\nplt.show()","2c64e7d0":"By using the function below by entering the dataframe and statistic you want to look at as variables you can create a new dataframe.","256333a6":"Below is an example for looking into the Official World Golf Ranking. It has converted the date to datetime format. Some dates in the original datframe cover a period ie. Apr 14 - Apr 18 (2019). For this two columns are created for the start and end dates.","4d8498bf":"The column Statistic has lots of possible stats with Variable having matching column headings that align with variable.\n\nBelow lists all the stats we can look into.","8a5a7634":"> The csv files in this dataset have a world of information but are not in an easily manipulatable format.\n\nI've written a function that will hopefully make it a lot easier to use this data."}}