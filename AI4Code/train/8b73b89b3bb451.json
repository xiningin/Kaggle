{"cell_type":{"421a5844":"code","d7efd263":"code","592a2290":"code","7cecba2b":"code","c1130b5f":"code","02edc4d6":"code","bef60119":"code","0429aef6":"code","06c8e8ba":"code","ddf3059f":"code","b6305b24":"code","181b8d1d":"code","5ba92633":"code","f0e57463":"code","c8db7ee8":"code","b115c144":"code","adf42920":"code","7576b270":"code","6f7bf1e4":"code","01dc3087":"code","e9c75be4":"code","899d7ad4":"code","8d090eb5":"code","099911c2":"code","96bd5249":"code","66d4396e":"code","22e8cc2a":"code","74377cef":"code","6c32bba3":"code","abbdcaae":"code","5f70179a":"code","b9f0f510":"markdown","063deae6":"markdown","03bf8a1d":"markdown","136ab3a2":"markdown","97b34f23":"markdown","dc339343":"markdown","bffe28fe":"markdown","1884223f":"markdown","3026f262":"markdown","742a2eb3":"markdown","e341db0d":"markdown","37858819":"markdown","03c62ad5":"markdown","9b191700":"markdown","ca4cf43a":"markdown","4037e492":"markdown","5b869ee4":"markdown","b1cb9cb4":"markdown","0b588e7b":"markdown"},"source":{"421a5844":"import pandas as pd \nimport numpy as np \nimport seaborn as sns \nimport matplotlib.pyplot as plt \n%matplotlib inline \n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","d7efd263":"corona_brazil = pd.read_csv(\"..\/input\/corona-virus-brazil\/brazil_covid19.csv\")","592a2290":"last_day = list(corona_brazil['date'])[-1]","7cecba2b":"corona_brazil.info()","c1130b5f":"corona_brazil.columns","02edc4d6":"corona_brazil[corona_brazil['date']=='2020-03-22']['cases'].sum()","bef60119":"corona_brazil[corona_brazil['date']=='2020-03-23']['cases'].sum()","0429aef6":"corona_brazil['chave'] = corona_brazil.apply(lambda row: row['date']+row['region']+row['state']+str(row['cases'])+str(row['deaths']), axis=1)","06c8e8ba":"corona_brazil = corona_brazil.drop_duplicates(['chave'], keep='last' )","ddf3059f":"def acumulado(infectado):\n    if len(lista_infectado)>0:\n        infectado = infectado + lista_infectado[-1]\n        lista_infectado.append(infectado)\n    return infectado","b6305b24":"corona_sp = corona_brazil[corona_brazil['state']==\"S\u00e3o Paulo\"]","181b8d1d":"def analise_dia(dia, what):\n    infectados_dia = corona_brazil[corona_brazil['date']==dia][what].sum()\n    return infectados_dia","5ba92633":"corona_dia = pd.DataFrame()\ncorona_dia['date'] = corona_brazil['date'].unique()","f0e57463":"corona_dia['Infectados_acumulado'] = corona_dia.apply(lambda row: analise_dia(row['date'], 'cases'), axis=1)\ncorona_dia['Mortos_acumulado'] = corona_dia.apply(lambda row: analise_dia(row['date'], 'deaths'), axis=1)","c8db7ee8":"def casos_dia(row):\n    casos = row-lista_casos[-1]\n    lista_casos.append(row)\n    return casos","b115c144":"lista_casos = [0]\ncorona_sp['cases_day'] = corona_sp.apply(lambda row: casos_dia(row['cases']), axis=1 )","adf42920":"lista_casos = [0]\ncorona_sp['deaths_day'] = corona_sp.apply(lambda row: casos_dia(row['deaths']), axis=1 )","7576b270":"lista_casos = [0]\ncorona_dia['cases_day'] = corona_dia.apply(lambda row: casos_dia(row['Infectados_acumulado']), axis=1 )","6f7bf1e4":"lista_casos = [0]\ncorona_dia['death_day'] = corona_dia.apply(lambda row: casos_dia(row['Mortos_acumulado']), axis=1 )","01dc3087":"plt.figure(figsize=(20,10))\nsns.lineplot(x='date', y='cases_day', data=corona_sp,palette = \"Blues\")\nplt.xticks(rotation=-90)\nfor ponto in list(corona_sp.index):\n    plt.text(x=corona_sp['date'][ponto], y=corona_sp['cases_day'][ponto], s=corona_sp['cases_day'][ponto], fontsize=15)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Infectados por dia em S\u00e3o Paulo')","e9c75be4":"plt.figure(figsize=(20,10))\nsns.barplot(x='date', y='cases', data=corona_sp,palette = \"Blues\")\nplt.xticks(rotation=-90)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Infectados Acumulado em S\u00e3o Paulo')","899d7ad4":"plt.figure(figsize=(20,10))\nsns.lineplot(x='date', y='cases_day', data=corona_dia,palette = \"Blues\")\nplt.xticks(rotation=-90)\nfor ponto in list(corona_dia.index):\n    plt.text(x=corona_dia['date'][ponto], y=corona_dia['cases_day'][ponto], s=corona_dia['cases_day'][ponto], fontsize=15)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Infectados por dia no Brasil')","8d090eb5":"plt.figure(figsize=(20,10))\nsns.barplot(x='date', y='Infectados_acumulado', data=corona_dia,palette = \"Blues\")\nplt.xticks(rotation=-90)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Infectados Acumulado no Brasil')","099911c2":"estados = list(corona_brazil['state'].unique())\ncorona_estado = pd.DataFrame(columns=['Estado','Suspeitos','Infectados','Liberados','Mortos'])","96bd5249":"Infectados = []\nMortos = []\ncorona_filter = corona_brazil[corona_brazil['date']==last_day]\nfor estado in estados:    \n    Infectados.append(corona_filter[corona_filter['state']==estado]['cases'].sum())\n    Mortos.append(corona_filter[corona_filter['state']==estado]['deaths'].sum())\ncorona_estado['Estado'] = estados\ncorona_estado['Infectados'] = Infectados\ncorona_estado['Mortos'] = Mortos","66d4396e":"ordernation = corona_estado.groupby([\"Estado\"])['Infectados'].aggregate(np.median).reset_index().sort_values('Infectados')\n\norder = []\nlista_estados_ord = list(ordernation['Estado'])\ncontagem = len(lista_estados_ord)\n\nfor i in range(contagem-1, -1, -1):\n    order.append(lista_estados_ord[i])\n    ","22e8cc2a":"plt.figure(figsize=(10,10))\nsns.barplot(x=\"Infectados\", y=\"Estado\", data=corona_estado, color=\"b\", order=order)\nprint('Gr\u00e1fico de casos por estados')","74377cef":"plt.figure(figsize=(20,10))\nsns.lineplot(x='date', y='deaths_day', data=corona_sp,palette = \"Blues\")\nplt.xticks(rotation=-90)\nfor ponto in list(corona_sp.index):\n    plt.text(x=corona_sp['date'][ponto], y=corona_sp['deaths_day'][ponto], s=corona_sp['deaths_day'][ponto], fontsize=15)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Mortos por dia em S\u00e3o Paulo')","6c32bba3":"plt.figure(figsize=(10,10))\nsns.barplot(x=\"Mortos\", y=\"Estado\", data=corona_estado, color=\"b\", order=order)\nplt.title('Gr\u00e1fico de mortes por estados')","abbdcaae":"plt.figure(figsize=(20,10))\nsns.lineplot(x='date', y='death_day', data=corona_dia,palette = \"Blues\")\nplt.xticks(rotation=-90)\nfor ponto in list(corona_dia.index):\n    plt.text(x=corona_dia['date'][ponto], y=corona_dia['death_day'][ponto], s=corona_dia['death_day'][ponto], fontsize=15)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Mortos por dia no Brasil')","5f70179a":"plt.figure(figsize=(20,10))\nsns.barplot(x='date', y='Mortos_acumulado', data=corona_dia,palette = \"Blues\")\nplt.xticks(rotation=-90)\nplt.title('Gr\u00e1fico Evolu\u00e7\u00e3o de Mortos Acumulado no Brasil')","b9f0f510":"### Knowing the database","063deae6":"### Deaths per state","03bf8a1d":"### Evolution deaths in Brazil","136ab3a2":"### Creating a function for analyz evolution per day","97b34f23":"#### Creating dataframe clustered per states","dc339343":"#### Analyz of cases per state","bffe28fe":"## Conclusion","1884223f":"In this analysis I conclude that Brazil is evolving in the same way as other countries. The growth is quite exponential and the capitals (where we have a higher rate of people traveling to other countries) are the places with the highest rate of evolution of the disease.\nI discovery a error in padronization of data base. The cases and deaths dont should be sum, different from suspects and refuses, that the data is refresh per day.","3026f262":"## Introduction","742a2eb3":"### Import libs","e341db0d":"## Create a analyz per day of cases","37858819":"### S\u00e3o Paulo","03c62ad5":"### Cases per state","9b191700":"### Brazil","ca4cf43a":"### Column with numbers acumulated","4037e492":"## Analyzing the Data","5b869ee4":"### Evolution of cases acumulated","b1cb9cb4":"### Read Data ","0b588e7b":"### Removendo valores duplicados"}}