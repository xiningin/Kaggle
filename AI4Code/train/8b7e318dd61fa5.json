{"cell_type":{"a9437e42":"code","1cadd180":"code","c7183c4c":"code","1ec019bb":"code","4a818df3":"code","2daf0037":"code","55610183":"code","c8c74ad6":"code","80079436":"code","4d526233":"code","81a2d3be":"code","e46af299":"code","ab395218":"code","2d5c03ab":"code","8a2bfd82":"code","8c53dff7":"code","14af618c":"code","d68bd935":"code","c5c92b67":"code","fe3a7a89":"code","ae701cae":"code","633e0236":"code","b5a9bc6b":"code","2a8cd985":"code","ea7714a7":"code","aee4f48e":"code","463233f6":"code","4e72bced":"code","3761faa4":"code","1e3c02a2":"code","6593b421":"code","c7b15a6d":"code","6504fa79":"code","96409eec":"code","93667fe4":"code","6f343205":"code","de134dd5":"code","e15a70bd":"code","b649cb7d":"code","36df3e82":"code","c7d136f8":"code","7f9f06cd":"code","0cf92deb":"code","b73be143":"code","cdb12978":"code","2e86f6d3":"code","ef21fb72":"code","399f0269":"code","e9489bf6":"code","c7652712":"code","e224f73c":"code","b8444b36":"code","e356cade":"markdown","b991924b":"markdown","39128815":"markdown","046b4b3e":"markdown","ecc13f46":"markdown","e95d30f5":"markdown","f4b60a1e":"markdown","aed524dd":"markdown","5fdb83a6":"markdown","42d1d114":"markdown","05e54b16":"markdown"},"source":{"a9437e42":"\n# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session\n","1cadd180":"import os\nimport pandas as pd\nimport numpy as np\nfrom pylab import rcParams\nimport warnings\nimport itertools\nimport matplotlib.pyplot as plt\nwarnings.filterwarnings(\"ignore\")\nplt.style.use('fivethirtyeight')\nimport statsmodels.api as sm\nimport matplotlib\nmatplotlib.rcParams['axes.labelsize'] = 14\nmatplotlib.rcParams['xtick.labelsize'] = 12\nmatplotlib.rcParams['ytick.labelsize'] = 12\nmatplotlib.rcParams['text.color'] = 'k'","c7183c4c":"#Reading the data\ndat = pd.read_csv(\"\/kaggle\/input\/market-share-dataset\/Market_Share (1).csv\")\ndat","1ec019bb":"#Renaming column name for easement\ndat=dat.rename(columns={'Pharma Companies':'PC','Market Share (In 2020) (In percentage)':'MS_2020','Revenue Generated 2 (Billion INR)':'Rev_2020'})\ndat","4a818df3":"# making a copy only for top 10 company\ndat_Top10 = dat[0:10].copy()\ndat_Top10","2daf0037":"#### Shape of data\ndat_Top10.shape","55610183":"#### Checking datatype of each column\ndat_Top10.info()","c8c74ad6":"#### Null Values in data\ndat_Top10.isnull().sum()","80079436":"# adding a new column with the revenue loss of 2.2%\ndat_Top10[\"RevLoss\"] = dat_Top10.Rev_2020 * 0.022\ndat_Top10","4d526233":"# adding a new column with new revenue\ndat_Top10[\"Rev_New\"] = dat_Top10.Rev_2020 - dat_Top10.RevLoss\ndat_Top10","81a2d3be":"# Checking total Revenue loss from top 10 Company\nlostRev = round(dat_Top10.RevLoss.sum(),2)\nlostRev","e46af299":"# Making a new copy to add ChemX and others company\ndat_New = dat_Top10.copy()","ab395218":"# Adding others company\ndf2 = {'PC': 'others', 'MS_2020': dat.iloc[10]['MS_2020'], 'Rev_2020': dat.iloc[10]['Rev_2020'], 'RevLoss': 0, 'Rev_New': (dat.iloc[10]['Rev_2020'] + (lostRev\/2)) } \ndat_New = dat_New.append(df2 , ignore_index=True) \n# adding ChemX\ndf3 = {'PC': 'Chem-x', 'MS_2020': dat.iloc[11]['MS_2020'], 'Rev_2020': dat.iloc[11]['Rev_2020'], 'RevLoss': 0, 'Rev_New': (dat.iloc[11]['Rev_2020'] + (lostRev\/2)) } \ndat_New = dat_New.append(df3 , ignore_index=True) ","2d5c03ab":"# Adding new column with new Market Share \ndat_New['MS_New'] = (dat_New.Rev_New\/dat_New.Rev_New.sum()) * 100\ndat_New","8a2bfd82":"#Dropping the row with \"Others\" companies data as question asked only for Market share of CHEMX and top 10 company\ndat_MS_ChemX_andTop10 = dat_New.drop(10)","8c53dff7":"dat_MS_ChemX_andTop10.columns","14af618c":"dat_MS_ChemX_andTop10 = dat_MS_ChemX_andTop10.drop(['MS_2020', 'Rev_2020', 'RevLoss', 'Rev_New'], axis=1)","d68bd935":"dat_MS_ChemX_andTop10","c5c92b67":"overall_Rev_2020 = dat.Rev_2020.sum()\noverall_Rev_2020","fe3a7a89":"#Overall Revenue with 5% increase in 2021\noverall_Rev_2021 = overall_Rev_2020 + (0.05*overall_Rev_2020)\noverall_Rev_2021","ae701cae":"ChemX_rev_2021 = round((dat.iloc[11]['MS_2020']\/100) *4278.9705,2)\nChemX_rev_2021","633e0236":"ChemX_rev_2021 = round((dat_MS_ChemX_andTop10.iloc[10]['MS_New']\/100) *4278.9705,2)\nChemX_rev_2021","b5a9bc6b":"growth_rate=pd.read_csv(\"\/kaggle\/input\/growth-rate-market-share-of-pharma-company\/Growth Rate Medical Mojo Dataset.csv\")\ngrowth_rate","2a8cd985":"##### As Medical Mojo and Chem- X have same profile and outlook , we can consider the growth rate as same. \ngrowth_rate_ChemX = growth_rate.copy()","ea7714a7":"##### Adding growth rate of 2021 from Q1A above as suggested in the question \n\n# Getting all the data from earlier data frame\ndat_New","aee4f48e":"# Getting Revenue of 2020\ndat_New.iloc[11]['Rev_2020']","463233f6":"# Getting Revenue of 2020\ndat_New.iloc[11]['Rev_New']","4e72bced":"growth_2021 = round(((dat_New.iloc[11]['Rev_New'] - dat_New.iloc[11]['Rev_2020'])\/ dat_New.iloc[11]['Rev_2020'])* 100,2)\ngrowth_2021","3761faa4":"df_Growth2021 = {'Year': 2021, 'Growth Rate': growth_2021  } \ngrowth_rate_ChemX = growth_rate_ChemX.append(df_Growth2021 , ignore_index=True) \ngrowth_rate_ChemX","1e3c02a2":"growth_rate_ChemX.info()","6593b421":"growth_rate_ChemX_original = growth_rate_ChemX.copy()\n\ngrowth_rate_ChemX.Year = growth_rate_ChemX.Year.astype(int)\ngrowth_rate_ChemX.Year = growth_rate_ChemX.Year.astype(str)\ngrowth_rate_ChemX","c7b15a6d":"growth_rate_ChemX['DateTime'] = '31-Dec-' + growth_rate_ChemX.Year","6504fa79":"growth_rate_ChemX\n\ngrowth_rate_ChemX.DateTime = pd.to_datetime(growth_rate_ChemX.DateTime)\ngrowth_rate_ChemX.info()","96409eec":"growth_rate_ChemX_TS = growth_rate_ChemX\n\ngrowth_rate_ChemX_TS = growth_rate_ChemX_TS.drop(['Year'], axis=1)\n\ngrowth_rate_ChemX_TS = growth_rate_ChemX_TS[['DateTime', 'Growth Rate']]\ngrowth_rate_ChemX_TS","93667fe4":"growth_rate_ChemX_TS\n\nplt.plot_date(growth_rate_ChemX_TS.DateTime, growth_rate_ChemX_TS['Growth Rate'], linestyle='solid')","6f343205":"y = growth_rate_ChemX_TS['Growth Rate']\nrcParams['figure.figsize'] = 18, 16\ndecomposition = sm.tsa.seasonal_decompose(y, model='additive', period=1)\nfig = decomposition.plot()\nplt.show()","de134dd5":"mod = sm.tsa.statespace.SARIMAX(y,\n                                order=(1, 0, 0),\n                                seasonal_order=(0, 0, 0, 12),\n                                enforce_stationarity=False,\n                                enforce_invertibility=False)\nresults = mod.fit()\nprint(results.summary().tables[1])","e15a70bd":"pred_uc = results.get_forecast(steps=12)\npred_ci = pred_uc.conf_int()\nax = y.plot(label='observed', figsize=(14, 7))\npred_uc.predicted_mean.plot(ax=ax, label='Forecast')\nax.fill_between(pred_ci.index,\n                pred_ci.iloc[:, 0],\n                pred_ci.iloc[:, 1], color='k', alpha=.25)\nax.set_xlabel('Date')\nax.set_ylabel('Growth Rate')\nplt.legend()\nplt.show()","b649cb7d":"pred_ci","36df3e82":"pred_uc.predicted_mean","c7d136f8":"df_pred = pred_uc.predicted_mean.to_frame()\ndf_pred=df_pred.rename(columns={'predicted_mean':'Growth_Pred'})\n\ndf_pred","7f9f06cd":"growthRate_2026_pred = pred_uc.predicted_mean[15]\ngrowthRate_2026_pred\ngrowthRate_2026 = round(growthRate_2026_pred * 1.5, 2)\ngrowthRate_2026","0cf92deb":"df_pred.at[15,'Growth_Pred'] = growthRate_2026\ndf_pred","b73be143":"df_pred['Year'] = range(2022, 2022+len(df_pred))\ndf_pred = df_pred[['Year','Growth_Pred']]\ndf_pred","cdb12978":"### - Another major competitor launch is planned for 2029 which leads to an expected slowdown in growth for ChemX and revenue is expected to become stagnant from 2028 onwards\n### - So all the Preduction of all year after 2028 is same","2e86f6d3":"df_pred.at[18,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[19,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[20,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[21,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.at[22,'Growth_Pred'] = df_pred.at[17,'Growth_Pred']\ndf_pred.reset_index()\ndf_pred","ef21fb72":"growthRate_2031_pred = round(df_pred.at[20,'Growth_Pred'],2)\nprint( 'The predicted Percentage of growth for the year of 2031 is ' + str(growthRate_2031_pred) + '%')","399f0269":"# Merging to see all the data in one Dataframe (Actuals + Predicted) \ndf_Final = pd.merge(growth_rate_ChemX_original, df_pred, on = 'Year', how='outer')\ndf_Final","e9489bf6":"df_Final['Rev_pred'] = 'NaN'\ndf_Final.at[9,'Rev_pred'] = dat_New.at[11,'Rev_2020']\ndf_Final.at[10,'Rev_pred'] = dat_New.at[11,'Rev_New']\ndf_Final.Year = df_Final.Year.astype(int)\ndf_Final","c7652712":"for i, row in df_Final.iterrows():\n    if i > 10:\n        df_Final.at[i,'Rev_pred'] = df_Final.at[i -1,'Rev_pred'] + (df_Final.at[i -1,'Rev_pred'] * df_Final.at[i,'Growth_Pred']\/100)","e224f73c":"df_Final.Year = df_Final.Year.astype(int)\ndf_Final","b8444b36":"Rev_2031_pred = round(df_Final.at[20,'Rev_pred'],2)\nprint( 'The predicted Percentage of growth for the year of 2031 is INR ' + str(Rev_2031_pred) + ' Billion' )","e356cade":"### ---------------------------------------------------------------------------------------------------------------\n### Given Problem Statement - 2)\n### -There was another competitor (Medical MoJo) which was established in 2010 and had the same profile and outlook as Chem-X.\n### -How much revenue ChemX will be able to generate in 2031, considering ChemX grows at an average growth rate (across 10 years) as Medical MoJo.\n### Note:\n### 1. The revenue for ChemX for 2021 to be leveraged from Question-1.1.\n### 2. We expect a higher uptake (about 1.5) in the average growth from 2026, (not for subsequent years).\n### 3. Another major competitor launch is planned for 2029 which leads to an expected slowdown in growth for ChemX and revenue is expected to become stagnant from 2028 onwards.","b991924b":"### Chem-X revenue in 2021, assuming that the market share have changed as per question 1A above.","39128815":"## Solution\n### Step 1 : Importing Required Libraries","046b4b3e":"### Step 2: Read the Data Files","ecc13f46":"### We expect a higher uptake (about 1.5) in the average growth from 2026, (not for subsequent years)","e95d30f5":"### ---------------------------------------------------------------------------------------------------------------\n### Given Problem Statement - 1B)\n### 1B. Also calculate the revenue generated by Chem-X in 2021 if the overall revenue generation for individual companies is increased by 5% of that in 2020.","f4b60a1e":"### Chem-X revenue in 2021, assuming that the market share have not changed","aed524dd":"### 1A) Solution: - Market Share of Chem-X and the top 10 companies in 2021","5fdb83a6":"### Step 3 : Exploratory Data Analysis","42d1d114":"### Step 4: Solution ","05e54b16":"# Created by: Team Extra Mile\n## Team Member\n### 1. Animesh Parikshya\n### 2. Dr. Anshika Sharma\n### 3. Tanisha Jain\n### 4. Arpit Dhawan\n## Task - Prediction of Market Share of ChemX Pharma in Current Pandamic\n### Given Problem Statement - 1A)\n#### A. What will be the market Share of Chem-X and the top 10 companies in 2021?\n#### Note:\n#### i. The top 10 companies will individually lose 2.2% of its revenue generated in 2020. The half (50%) of the lost revenue will go to \u2018Chem-X\u2019 and the rest to the others.\n#### ii. The revenue generated by a company is proportional to its market share."}}