{"cell_type":{"91b101e4":"code","16f85f8c":"code","f7b9401e":"code","14ebd9eb":"code","75f2ef5f":"code","7e7b0863":"code","c47b42a8":"code","519cacf9":"code","c81068ad":"code","9b275501":"code","e7adbf37":"markdown","273a2a4f":"markdown","c94a19cc":"markdown","0cbeb24d":"markdown"},"source":{"91b101e4":"import pandas as pd\nimport os\nimport json\nfrom glob import glob\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","16f85f8c":"if os.path.exists('..\/input\/book-depository-dataset'):\n    path_prefix = '..\/input\/book-depository-dataset\/{}.csv'\nelse:\n    path_prefix = '..\/export\/kaggle\/{}.csv'\n\n\ndf, df_f, df_a, df_c, df_p = [\n    pd.read_csv(path_prefix.format(_)) for _ in ('dataset', 'formats', 'authors', 'categories', 'places')\n]","f7b9401e":"# df = df.sample(n=500)\ndf.head()","14ebd9eb":"df.describe()","75f2ef5f":"df[\"publication-date\"] = df[\"publication-date\"].astype(\"datetime64\")\ndf.groupby(df[\"publication-date\"].dt.year).id.count().plot(title='Publication date distribution')","7e7b0863":"df[\"index-date\"] = df[\"index-date\"].astype(\"datetime64\")\ndf.groupby(df[\"index-date\"].dt.month).id.count().plot(title='Crawling date distribution')","c47b42a8":"df.groupby(['lang']).id.count().sort_values(ascending=False)[:5].plot(kind='pie', title=\"Most common languages\")","519cacf9":"import math\nsns.lineplot(data=df.groupby(df['rating-avg'].dropna().apply(int)).id.count().reset_index(), x='rating-avg', y='id')","c81068ad":"dims = pd.DataFrame({\n    'dims': df['dimension-x'].fillna('0').astype(int).astype(str).str.cat(df['dimension-y'].fillna('0').astype(int).astype(str),sep=\" x \").replace('0 x 0', 'Unknown').values, \n    'id': df['id'].values\n})\ndims.groupby(['dims']).id.count().sort_values(ascending=False)[:8].plot(kind='pie', title=\"Most common dimensions\")","9b275501":"pd.merge(\n    df[['id', 'publication-place']], df_p, left_on='publication-place', right_on='place_id'\n).groupby(['place_name']).id.count().sort_values(ascending=False)[:8].plot(kind='pie', title=\"Most common publication places\")","e7adbf37":"# Book Depository Dataset EDA\nThrough this notebook we will try to become familiar `Book Depository Dataset` and extract some usefull insights. The goal of this notebook is to become an introductory step for the dataset.","273a2a4f":"## Dataset Structure\nFiles:\n - `categories.csv`\n - `dataset.csv`\n - `formats.csv`\n - `places.csv`\n\nThe dataset consists of 5 file, the main `dataset.csv` file and some extra files. Extra files works as lookup tables for category, author, format and publication place. The reason behind this decision was to prevent data redundancy.\n\nFields:\n\n * `authors`: Book's author(s) (`list of str`)\n * `bestsellers-rank`: Bestsellers ranking (`int`)\n * `categories`: Book's categories. Check `authors.csv` for mapping (`list of int`)\n * `description`: Book description (`str`)\n * `dimension_x`: Book's dimension X (`float` cm)\n * `dimension_y`: Book's dimension Y (`float` cm)\n * `dimension_z`: Book's dimension Z (`float` mm)\n * `edition`: Edition (`str`)\n * `edition-statement`: Edition statement (`str`)\n * `for-ages`: Range of ages (`str`)\n * `format`: Book's format. Check `formats.csv` for mapping (`int`)\n * `id`: Book's unique id (`int`)\n * `illustrations-note`: \n * `imprint`: \n * `index-date`: Book's crawling date (`date`)\n * `isbn10`: Book's ISBN-10 (`str`)\n * `isbn13`: Book's ISBN-13 (`str`)\n * `lang`: List of book' language(s)\n * `publication-date`: Publication date (`date`)\n * `publication-place`: Publication place (`id`)\n * `publisher`: Publisher (`str`)\n * `rating-avg`: Rating average [0-5] (`float`)\n * `rating-count`: Number of ratings\n * `title`: Book's title (`str`)\n * `url`: Book relative url (https:\/\/bookdepository.com + `url`)\n * `weight`: Book's weight (`float` gr)\n\nSo, lets assign each file to a different dataframe","c94a19cc":"**Publication Date Distribution**:\nMost books are published in t","0cbeb24d":"## Basic Stats\nFirtly, lets display some basic statistics:"}}