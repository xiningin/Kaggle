{"cell_type":{"d5f2e0e1":"code","06901188":"code","bf9ad02a":"code","20f3664d":"code","80d32f34":"code","3a732cf5":"code","c5d8135a":"code","02ac5e24":"code","4fea2fa7":"code","bf043427":"code","67a763cc":"code","b23e528c":"code","73554ef0":"code","255ba528":"code","8f75cd99":"code","0681307a":"code","02613dbf":"code","1ff34c81":"markdown","ab7cfe30":"markdown","49fe6e01":"markdown","5683a698":"markdown","9b9904f9":"markdown","5f8ab486":"markdown","5e040a01":"markdown","85a8fab6":"markdown","3905f8a5":"markdown","b070ea47":"markdown","60882cef":"markdown","1b22a735":"markdown","54ba3b6f":"markdown","80ce12b9":"markdown"},"source":{"d5f2e0e1":"\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport plotly.plotly as py\nfrom plotly.offline import init_notebook_mode,iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nfrom wordcloud import WordCloud\n\nimport os\nprint(os.listdir(\"..\/input\"))\n","06901188":"#our datas that we can use in this kernel\n#game=pd.read_csv(\"..\/input\/nhl-game-data\/game.csv\")\n#goalie_stats=pd.read_csv(\"..\/input\/nhl-game-data\/game_goalie_stats.csv\")\nplays=pd.read_csv(\"..\/input\/nhl-game-data\/game_plays.csv\")\nplays_players=pd.read_csv(\"..\/input\/nhl-game-data\/game_plays_players.csv\")\n#shifts=pd.read_csv(\"..\/input\/game_shifts.csv\")\nskater_stats=pd.read_csv(\"..\/input\/nhl-game-data\/game_skater_stats.csv\")\nteams_stats=pd.read_csv(\"..\/input\/nhl-game-data\/game_teams_stats.csv\")\nplayer_info=pd.read_csv(\"..\/input\/nhl-game-data\/player_info.csv\")\nteam_info=pd.read_csv(\"..\/input\/nhl-game-data\/team_info.csv\")\nindex=pd.read_csv(\"..\/input\/ckdisease\/kidney_disease.csv\")","bf9ad02a":"#Line plot\ndf=teams_stats.iloc[:30,:] # in team_info, we will use first 30 raw and all columns \n\ntrace1=go.Scatter(x=df.shots,y=df.hits,mode=\"lines\",name=\"hits\",marker=dict(color=\"rgba(16,112,2,0.8)\"),text=df.head_coach)\ntrace2=go.Scatter(x=df.shots,y=df.faceOffWinPercentage,mode=\"lines+markers\",name=\"faceOffWinPercentage\",marker=dict(color=\"rgba(80,26,80,0.8)\"),text=df.head_coach)\n\ndata=[trace1,trace2]\nlayout=dict(title=\"hits and faceOffWinPercentage vs shots of top 30 teams_stats\",xaxis=dict(title=\"shot\",ticklen=5,zeroline=False))\nfig=dict(data = data,layout=layout)\niplot(fig)\n#Creating traces\n#x = x axis\n#y = y axiss\n#mode = type of plot like marker, line or line + markers\n#name = name of the plots\n#marker = marker is used with dictionary.\n#color = color of lines. It takes RGB (red, green, blue) and opacity (alpha)\n#text = The hover text (hover is curser)\n#data = is a list that we add traces into it\n#layout = it is dictionary.\n#title = title of layout\n#x axis = it is dictionary\n#title = label of x axis\n#ticklen = length of x axis ticks\n#zeroline = showing zero line or not\n#fig = it includes data and layout\n#iplot() = plots the figure(fig) that is created by data and layout\n\n","20f3664d":"#scatter plot\ndf2goals=teams_stats[teams_stats.goals==2].iloc[:30,:]\ndf3goals=teams_stats[teams_stats.goals==3].iloc[:30,:]\ndf4goals=teams_stats[teams_stats.goals==4].iloc[:30,:]\n\ntrace1=go.Scatter(x=df2goals.shots,y=df2goals.hits,\n                  mode=\"markers\",name=\"2goals\",\n                  marker=dict(color=\"rgba(16,112,2,0.8)\"),text=df2goals.head_coach)\n\ntrace2=go.Scatter(x=df3goals.shots,y=df3goals.hits,\n                  mode=\"markers\",name=\"3goals\",\n                  marker=dict(color=\"rgba(160,112,40,0.8)\"),text=df3goals.head_coach)\n\ntrace3=go.Scatter(x=df4goals.shots,y=df4goals.hits,\n                  mode=\"markers\",name=\"4goals\",\n                  marker=dict(color=\"rgba(60,200,80,0.8)\"),text=df4goals.head_coach)\n\ndata=[trace1,trace2,trace3]\nlayout=dict(title=\"hits and faceOffWinPercentage vs shots of top 30 teams_stats for 2,3,4 goals\",\n           xaxis=dict(title=\"shot\",ticklen=5,zeroline=False),\n           yaxis=dict(title=\"hits\",ticklen=5,zeroline=False))\nfig=dict(data = data,layout=layout)\niplot(fig)","80d32f34":"#bar plot\n#we will compare shots and hitting rate with 2 goals\ndf2goals=teams_stats[teams_stats.goals==2].iloc[:5,:]\n\ntrace1=go.Bar(\n    x=df2goals.head_coach,\n    y=df2goals.hits,\n    name=\"hits\",\n    marker=dict(color=\"rgba(255,112,255,0.8)\",\n              line=dict(color=\"rgba(0,0,0)\",width=1.5)),\n                        text=df2goals.team_id)\n\ntrace2=go.Bar(\n    x=df2goals.head_coach,\n    y=df2goals.shots,\n    name=\"shots\",\n    marker=dict(color=\"rgba(255,255,122,0.8)\",\n              line=dict(color=\"rgba(0,0,0)\",width=1.5)),\n                        text=df2goals.team_id)\n\ndata=[trace1,trace2]\nlayout=go.Layout(barmode=\"group\")\nfig=go.Figure(data=data,layout=layout)\niplot(fig)\n","3a732cf5":"# we will make different type bar plot with above datas of fig\ndf2goals=teams_stats[teams_stats.goals==2].iloc[:5,:]\nx=df2goals.head_coach\n\ntrace1={\n    \"x\":x,\n    \"y\":df2goals.hits,\n    \"name\":\"hits\",\n    \"type\":\"bar\"\n};\n\ntrace2={\n    \"x\":x,\n    \"y\":df2goals.shots,\n    \"name\":\"shots\",\n    \"type\":\"bar\"\n};\ndata=[trace1,trace2]\n\nlayout={\n    \"xaxis\":{\"title\":\"head_coach\"},\n    \"barmode\":\"relative\",\n    \"title\":\"hits and faceOffWinPercentage vs shots of top 30 teams_stats for 2 goals\"\n};\nfig=go.Figure(data=data,layout=layout)\niplot(fig)","c5d8135a":"#pie plot\ndf4goals=teams_stats[teams_stats.goals==4].iloc[:30,:]\n\nWinPercentage_list= [float(face) for face in df4goals.faceOffWinPercentage]\nlabels=df4goals.head_coach\n\nfig={\n    \"data\":[\n        {\n            \"values\":WinPercentage_list,\n            \"labels\":labels,\n            \"domain\":{\"x\":[0,0.5]},\n            \"hoverinfo\":\"label+percent+name\",\n            \"hole\":0.3,\n            \"type\":\"pie\"\n        },],\n    \"layout\":{\n        \"title\":\"Win Percentage of teams\",\n        \"annotations\": [\n            {\n                \"font\":{\"size\":20},\n                \"showarrow\":False,\n                \"text\":\"Win Percentage %\",\n                \"x\":0.2,\n                \"y\":1\n            },\n        ]\n    }\n}\niplot(fig)","02ac5e24":"#Buble chart\ndf4goals=teams_stats[teams_stats.goals==4].iloc[:30,:]\nwinpercentagesize=[float(face) for face in df4goals.faceOffWinPercentage]\npim_color=df4goals.pim\n\ndata=[\n    {\n        \"y\":df4goals.faceOffWinPercentage,\n        \"x\":df4goals.shots,\n        \"mode\":\"markers\",\n        \"marker\":{\n            \"color\":pim_color,\n            \"size\":winpercentagesize,\n            \"showscale\":True\n        },\n    \"text\":df4goals.head_coach\n    }\n]\niplot(data)","4fea2fa7":"#histogram ploting\n#we will look shots that are results for 2 goals and 3 goals\ngoals2 = teams_stats.shots[teams_stats.goals==2]\ngoals3=teams_stats.shots[teams_stats.goals==3]\n\ntrace1=go.Histogram(\n    x=goals2,\n    opacity=0.7,\n    name=\"2goals\",\n    marker=dict(color=\"rgba(180,200,25,0.6)\")) #color of hist\n\ntrace2=go.Histogram(\n    x=goals3,\n    opacity=0.7,\n    name=\"3goals\",\n    marker=dict(color=\"rgba(10,200,250,0.6)\"))\n\ndata=[trace1,trace2]\nlayout=go.Layout(barmode=\"overlay\",\n                title=\"hist poting for team\",\n                xaxis=dict(title=\"pim\"),\n                yaxis=dict(title=\"count\")\n                )\nfig=go.Figure(data=data,layout=layout)\niplot(fig)","bf043427":"#to plot wordcloud first I add two data(data1 and data2) in one cvs file(new data)\ndata1=team_info.shortName\ndata2=teams_stats\nnewdata=pd.concat([data1.head(30),data2.head(30)],axis=1,ignore_index =False)\n\n#word cloud\ngoals2=newdata.shortName[newdata.goals==2]\nplt.subplots(figsize=(8,8))\nwordcloud= WordCloud(\n    background_color=\"white\",\n    width=512,\n    height=314,\n    ).generate(\" \".join(goals2))\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.savefig(\"graph.png\")\nplt.show()","67a763cc":"#preparing data to add plays.event datas in newdata\ndata1=plays.event\ndata2=newdata\nnewdata1=pd.concat([data1.head(30),data2.head(30)],axis=1,ignore_index =False)\n\n#box plotting\ngoals4=newdata1[newdata1.goals==4]\n\ntrace0=go.Box(\n    y=goals4.shots,\n    name=\"shots for making 4 goals\",\n    marker=dict(color=\"rgb(255,0,255)\",)\n)\n\ntrace1=go.Box(\n    y=goals4.hits,\n    name=\"hits for making 4 goals\",\n    marker=dict(color=\"rgb(0,255,255)\",)\n)\n\ndata=[trace0,trace1]\niplot(data)","b23e528c":"#for scatter plot we didn't have index number in our data. \n#to add index number we will make some preperas\ndata1=index.id\ndata2=newdata1\nnewdata2=pd.concat([data1.head(30),data2.head(30)],axis=1,ignore_index =False)","73554ef0":"#scatter plot Matrix\n#with scatter plot matrix we can see both box plot and scatter plot \nimport plotly.figure_factory as ff\n\ngoals3=newdata2[newdata2.goals==3]\ndatagoals=goals3.loc[:,[\"faceOffWinPercentage\",\"goals\",\"hits\",\"shots\"]]\ndatagoals[\"id\"]=np.arange(1,len(datagoals)+1)\nfig=ff.create_scatterplotmatrix(datagoals,diag=\"box\",index=\"id\",\n                                colormap=\"Portland\",colormap_type=\"cat\",\n                               height=700,width=750)\niplot(fig)","255ba528":"#first plotting datas\ntrace1=go.Scatter(\nx=newdata2.powerPlayOpportunities,\ny=newdata2.shots,\nname=\"shots\",\n    marker=dict(color=\"rgba(255,255,0,0.7)\"),\n)\n#second plotting datas\ntrace2=go.Scatter(\nx=newdata2.powerPlayOpportunities,\ny=newdata2.faceOffWinPercentage,\nxaxis=\"x2\",\nyaxis=\"y2\",\nname=\"win percentage\",\n    marker=dict(color=\"rgba(255,0,255,0.7)\"),\n)\ndata=[trace1,trace2]\nlayout=go.Layout(\nxaxis2=dict(domain=[0.6,0.95],anchor=\"y2\"),\nyaxis2=dict(domain=[0.6,0.95],anchor=\"x2\"),\n    title=\"shots and win pertentage\"\n)\nfig=go.Figure(data=data,layout=layout)\niplot(fig)\n","8f75cd99":"trace1=go.Scatter3d(\nx=newdata2.powerPlayOpportunities,\ny=newdata2.shots,\nz=newdata2.hits,\n    mode=\"markers\",\n    marker=dict(size=10,\n               color=newdata2.pim,\n               colorscale=\"Jet\")\n)\ndata=[trace1]\nlayout=go.Layout(margin=dict(l=0,#left\n                             r=0,#right\n                             b=0,#buttom\n                             t=0#top\n                            ))\nfig=go.Figure(data=data,layout=layout)\niplot(fig)","0681307a":"newdata2.head()","02613dbf":"trace1=go.Scatter(x=newdata2.giveaways,\ny=newdata2.shots,name=\"shots\")\n\ntrace2=go.Scatter(x=newdata2.giveaways,\ny=newdata2.faceOffWinPercentage,\nxaxis=\"x2\",yaxis=\"y2\",name=\"win percentage\")\n\ntrace3=go.Scatter(x=newdata2.giveaways,\ny=newdata2.goals,\nxaxis=\"x3\",yaxis=\"y3\",name=\"goals\")\n\ntrace4=go.Scatter(x=newdata2.giveaways,\ny=newdata2.hits,\nxaxis=\"x4\",yaxis=\"y4\",name=\"hits\")\n\ndata=[trace1,trace2,trace3,trace4]\n\nlayout=go.Layout(xaxis=dict(domain=[0,0.45]),yaxis=dict(domain=[0,0.45]),\n    xaxis2=dict(domain=[0.55,1],anchor=\"y2\"),yaxis2=dict(domain=[0,0.45],anchor=\"x2\"),\n    xaxis3=dict(domain=[0,0.45],anchor=\"y3\"),yaxis3=dict(domain=[0.55,1],anchor=\"x3\"),\n     xaxis4=dict(domain=[0.55,1],anchor=\"y4\"),yaxis4=dict(domain=[0.55,1],anchor=\"x4\"),\n                 title=\"Subplot\"\n                )\nfig=go.Figure(data=data,layout=layout)\niplot(fig)","1ff34c81":"LINE PLOT","ab7cfe30":"PIE PLOT","49fe6e01":"3D SCATTER PLOT\nwe can also make 4th dimentions with color..","5683a698":"BOX PLOT","9b9904f9":"HISTOGRAM PLOTING","5f8ab486":"WORDCLOUD PLOT","5e040a01":"Thank you for looking my kernel and thank you in advance for your comment and votes","85a8fab6":"We will use Plotly Library for basic explanations","3905f8a5":"SCATTER PLOT MATRIX","b070ea47":"BAR PLOT","60882cef":"SCATTER PLOT","1b22a735":"BUBLE CHART ","54ba3b6f":"INSET PLOT\nwe can see 2 plots in one plot","80ce12b9":"MULTPLE SUBPLOTS"}}