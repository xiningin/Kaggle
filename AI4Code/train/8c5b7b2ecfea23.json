{"cell_type":{"a48764d6":"code","2f01d249":"code","16c272de":"code","cd9bf885":"code","4d709cff":"code","ec7c2bf1":"code","4cf0e24b":"code","4ddb0ddd":"code","84261ce7":"code","4e701290":"code","d392fdf0":"code","e6a2283c":"code","9a52a345":"code","b2a9c1bb":"code","e606c5ec":"code","94553c7a":"code","a0e74481":"code","00196000":"code","3ae0c1a9":"code","90c9a4ed":"code","bedbefd5":"code","22afff98":"code","60bb1668":"code","397e6198":"code","e1af52f3":"code","4895c677":"code","6ae8bb47":"code","04a17c40":"code","52772a7f":"code","9707a412":"code","2df4c353":"code","1ae6cb2a":"code","35d8fd0f":"code","a386aba1":"markdown","47b91c72":"markdown","5182a90c":"markdown","3ef4ec1f":"markdown","84b1559a":"markdown","778313ec":"markdown","2dec016c":"markdown","9c5fe07a":"markdown","d9b83a97":"markdown","a7a211b7":"markdown","c2f9926f":"markdown","77f86989":"markdown","2e29a277":"markdown","70d1ea77":"markdown","3f84d484":"markdown","4052a9bb":"markdown","addf1c97":"markdown","1a378a7b":"markdown","6fec4f2d":"markdown","76c96c24":"markdown","3f464ceb":"markdown","128d3255":"markdown","2de79b40":"markdown","ca01ed50":"markdown","f0c415d2":"markdown","b47c0d31":"markdown","d7f332f6":"markdown","a2b1e35b":"markdown","dd38855b":"markdown","b38ccbeb":"markdown","219e80d7":"markdown","27c07d35":"markdown","844ae066":"markdown","cb70e8fb":"markdown","53b59acc":"markdown"},"source":{"a48764d6":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport plotly.figure_factory as ff\nfrom scipy.stats import pearsonr\nimport statsmodels.api as sm\nfrom statsmodels.sandbox.regression.predstd import wls_prediction_std\nfrom sklearn.preprocessing import scale\nfrom scipy import stats\nsns.set_style(\"darkgrid\")\nplt.style.use(\"fivethirtyeight\")\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom sklearn.metrics import classification_report, confusion_matrix\nfrom sklearn.model_selection import train_test_split","2f01d249":"df = pd.read_csv('..\/input\/heart-disease-uci\/heart.csv')","16c272de":"df.shape","cd9bf885":"df.columns","4d709cff":"df.head()","ec7c2bf1":"df.tail()","4cf0e24b":"df.isna().sum()","4ddb0ddd":"df.info()","84261ce7":"df.describe().style.background_gradient(cmap='Reds')","4e701290":"#correlation in between the columns\ndf.corr().style.background_gradient(cmap=\"Greens\")","d392fdf0":"df.skew().sort_values()","e6a2283c":"df.kurt().sort_values()","9a52a345":"y = df['target']\nx =  df[['chol','cp','thalach']]\nmodel = sm.OLS(y, x)\nresults = model.fit()\nprint(results.summary())","b2a9c1bb":"print('Parameters: ', results.params)\nprint('Standard errors: ', results.bse)","e606c5ec":"sns.scatterplot(x = 'chol', y = 'trestbps', color = 'green', data = df)\nplt.xlabel('cholestrol')            \nplt.ylabel('trestbps') \nplt.title('Cholestrol Vs Trestbps');","94553c7a":"fig = px.histogram(df, y=\"cp\", x=\"age\", color=\"sex\",marginal=\"rug\",hover_data=df.columns)\nfig.show()","a0e74481":"fig = px.scatter(df, x=\"trestbps\", y=\"chol\", color=\"age\",size='cp', hover_data=['sex'])\nfig.show()","00196000":"fig = px.box(df, x=\"age\", y=\"chol\", points=\"all\")\nfig.show()","3ae0c1a9":"#thal 3 = normal, 6 = fixed defect, 7 = reversable defect (category feature)\nfig, ax=plt.subplots(1,2,figsize=(20,8))\nsns.countplot(x='thal',data=df,hue='target',palette='Set2',ax=ax[0])\nax[0].set_xlabel(\"number of major vessels colored by flourosopy\")\ndf.thal.value_counts().plot.pie(ax=ax[1],autopct='%1.1f%%',shadow=True,cmap='Reds');\n","90c9a4ed":"sns.jointplot(x = 'cp', y = 'age', kind = 'kde', color ='Green', data = df);","bedbefd5":"df1=df[['age','restecg']]","22afff98":"fig= go.Figure(go.Funnelarea(text=df1['age'],values=df1['restecg']))\nfig.show()","60bb1668":"df['heartratemax']=240-df['age']\ndf['heartrateratio']=df['thalach']\/df['heartratemax']","397e6198":"df2=df[['age','trestbps','chol','thalach','oldpeak','ca','heartratemax','heartrateratio','target']]","e1af52f3":"sns.pairplot(df2)","4895c677":"fig,ax=plt.subplots(2,2,figsize=(20,8))\nsns.boxenplot(y='chol',data=df,x='sex',hue='target',palette='twilight',ax=ax[0,0])\nax[0,0].set_title(\"Cholestrol V\/S Sex\");\nsns.boxenplot(y='chol',data=df,x='cp',hue='target',ax=ax[0,1],palette='Spectral')\nax[0,1].set_title(\"Cholestrol V\/S Chest Pain\");\nsns.swarmplot(y='chol',data=df,x='thal',hue='target',ax=ax[1,0],palette='copper')\nax[1,0].set_title(\"Cholestrol V\/S Thalium stress test result\")\nsns.swarmplot(y='chol',data=df,x='oldpeak',hue='target',ax=ax[1,1],palette='Set2')\nax[1,1].set_title(\"Cholestrol V\/S ST depression induced by exercise relative to rest\");\nplt.xticks(rotation=90)\nplt.grid()\nplt.subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=1)\nfig.tight_layout()\nfig.subplots_adjust(top=0.95)\nplt.show()","6ae8bb47":"fig, axes = plt.subplots(nrows=3, ncols=2, figsize=(18, 12))\nsns.violinplot(x=\"target\", y=\"age\", data=df,color = 'pink',ax=axes[0][0]).set_title('Age')\nsns.swarmplot(x=\"target\", y=\"age\", data=df,ax = axes[0][0])\n\nsns.violinplot(x=\"target\", y=\"trestbps\", data=df,color = 'pink',ax = axes[0][1]).set_title('Resting Blood Pressure')\nsns.swarmplot(x=\"target\", y=\"trestbps\", data=df,ax = axes[0][1])\n\nsns.violinplot(x=\"target\", y=\"chol\", data=df,color = 'pink',ax = axes[1][0]).set_title('Cholesterol')\nsns.swarmplot(x=\"target\", y=\"chol\", data=df,ax = axes[1][0])\n\nsns.violinplot(x=\"target\", y=\"thalach\", data=df,color = 'pink',ax = axes[1][1]).set_title('Max Heart Rate Achieved')\nsns.swarmplot(x=\"target\", y=\"thalach\", data=df,ax = axes[1][1])\n\nsns.violinplot(x=\"target\", y=\"oldpeak\", data=df,color = 'pink',ax = axes[2][0]).set_title('ST Depression Peak')\nsns.swarmplot(x=\"target\", y=\"oldpeak\", data=df,ax = axes[2][0])\n\nsns.violinplot(x=\"target\", y=\"heartrateratio\", data=df2,color = 'pink',ax = axes[2][1]).set_title('Peak Heart Rate to Max Heart Rate Ratio')\nsns.swarmplot(x=\"target\", y=\"heartrateratio\", data=df2,ax = axes[2][1]);\n\nplt.grid()\nplt.subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=1)\nfig.tight_layout()\nfig.subplots_adjust(top=0.95)\nplt.show()","04a17c40":"plt.figure(figsize=(30,10))\nsns.heatmap(df.corr(), annot=True);","52772a7f":"fig, axes = plt.subplots(nrows=1, ncols=2,figsize=(20, 8))\nwomen = df[df['sex'] == 0]\nmen = df[df['sex'] == 1]\n\nax = sns.distplot(women[women['target'] == 1].age, bins=18, label = 'sick', ax = axes[0], kde =False, color=\"green\")\nax = sns.distplot(women[women['target'] == 0].age, bins=40, label = 'not_sick', ax = axes[0], kde =False, color=\"red\")\nax.legend()\nax.set_title('Female')\n\nax = sns.distplot(men[men['target']==1].age, bins=18, label = 'sick', ax = axes[1], kde = False, color=\"green\")\nax = sns.distplot(men[men['target']==0].age, bins=40, label = 'not_sick', ax = axes[1], kde = False, color=\"red\")\nax.legend()\nax.set_title('Male');","9707a412":"df[\"sex\"].value_counts()","2df4c353":"fig,ax=plt.subplots(1, 3, figsize=(20, 8))\nsns.countplot(x = \"sex\", hue = \"target\", data = df, ax = ax[0])\nsns.swarmplot(x = \"sex\", y = \"age\", hue = \"target\", data = df, ax = ax[1])\nsns.violinplot(x = \"sex\", y = \"age\", hue= \"target\", split = True, data = df, ax=ax[2])\nsns.despine(left=True)\nplt.legend(loc=\"upper right\");","1ae6cb2a":"df.thal.unique()\nsns.boxenplot(x = \"thal\", y = \"trestbps\", data = df, hue=\"target\")","35d8fd0f":"fig, axes = plt.subplots(nrows=2, ncols=4, figsize=(17,10))\nvar3 = ['sex', 'cp', 'fbs', 'restecg', 'exang', 'slope', 'ca', 'thal']\n\nfor idx, feature in enumerate(var3):\n    ax = axes[int(idx\/4), idx%4]\n    if feature != 'target':\n        sns.countplot(x=feature, hue='target', data=df, ax=ax)","a386aba1":"Visualise chet pain, accross the gender along with age. We can infer that age between 50 to 60 people have more chest pain and no of male is greater than female.","47b91c72":"In the above joint plot we can infer that for heart disease chest pain is a common symptom and it is a proprotional to age. higer the age, denser the chest pain. ","5182a90c":"in the dataframe we can see that there is a column name target where values are only binary. if 0 is there than Heart Desiease not present and vice versa.","3ef4ec1f":"Here we can infer that target is highly corrlated to the chest pain, max heart rate and cholestorel level.","84b1559a":"1. If skewness is less than -1 or greater than 1, the distribution is highly skewed. If skewness is between -1 and -0.5 or between 0.5 and 1, the distribution is moderately skewed. If skewness is between -0.5 and 0.5, the distribution is approximately symmetric.\n2. Kurtosis of the normal distribution, which is equal to 3. If the kurtosis is greater than 3, then the dataset has heavier tails than a normal distribution.\n3. Here we can infer that the data set is little bit skewed but not prevelent in the outlier. So we can say that its a moderate data set.","778313ec":"# LOAD PACKAGES","2dec016c":"# Statistical analysis","9c5fe07a":"Chest pain: the heart desease diagnosis is greater among the patients that feel any chest pain.\n\nRestegc - Eletrocardiagraph results: the rate of heart desease diagnoses higher for patients with a ST-T wabe abnormality .\n\nSlope: The ratio of patients diagnosed with heart desease is higher for slope = 2\n\nCa: The diagonosed ratio decreases fo ca between 1 and 3.\n\nThal: the diagnosed ratio is higher for thal = 2.","d9b83a97":"# LOADING OF DATA","a7a211b7":"All the columns are numeric so we are free to do any type of numerical analysis.","c2f9926f":"# Normality Testing","77f86989":"On the basis of gender and age visualise the diseased and healthy people","2e29a277":"On the basis of sex, differnt plots are ploted, where we can infer taht male people are highly diseased compared with female. ","70d1ea77":"# About the data","3f84d484":"# READING THE DATA AND SEE BASIC FEATURES","4052a9bb":"In the pair plot we are tring to visualise the pairwise relation inbetween the continous variables.","addf1c97":"continous assesment with chol.","1a378a7b":"There are no features with a pretty strong correlation (above |0.7|)","6fec4f2d":"we can see that the no of missing value is none.","76c96c24":"On the above plot we can infer that for diseased Cholestrol level is directly proprotional.","3f464ceb":"# Visualization","128d3255":"Visualise the diseased and helathy people W.R.T blood pressure and thal lavel**","2de79b40":"1. chestpain 0,1,2,3 are 'Typical','Atypical','Non-Anginal','Aysyptomatic' respectively\n2. sex:: 0=female, 1=male","ca01ed50":"# if you like my analysis don't forget to give an upvote.\n# Feel free to give any suggestion :) ","f0c415d2":"# thal 3 = normal; 6 = fixed defect; 7 = reversable defect ","b47c0d31":"Here age wise ecg rate is visualise. for more details please hover on the plot.","d7f332f6":"Variable Differences by Target Value","a2b1e35b":"# Continuous Variables\n","dd38855b":"# OLS (Ordinary least Square Regression Model)::traget W.R.T cholestorel, chest pain and max heart rate.","b38ccbeb":"Here we can find the max value, min value, quantiles, St. deviation, mean, median for each column. darker the color higher the value and lighter the color smaller the value.","219e80d7":"categorical features","27c07d35":"# correlation matrix between different variables","844ae066":"# Contaxt\nThis database contains 76 attributes, but all published experiments refer to using a subset of 14 of them. In particular, the Cleveland database is the only one that has been used by ML researchers to\nthis date. The \"goal\" field refers to the presence of heart disease in the patient. It is integer valued from 0 (no presence) to 4.\n\n# Attributes\n1) age\n2) sex\n3) chest pain type (4 values)\n4) resting blood pressure\n5) serum cholestoral in mg\/dl\n6) fasting blood sugar > 120 mg\/dl\n7) resting electrocardiographic results (values 0,1,2)\n8) maximum heart rate achieved\n9) exercise induced angina\n10) oldpeak = ST depression induced by exercise relative to rest\n11) the slope of the peak exercise ST segment\n12) number of major vessels (0-3) colored by flourosopy\n13) thal: 3 = normal; 6 = fixed defect; 7 = reversable defec\n\n","cb70e8fb":"this data has 303 rows and 14 columns","53b59acc":"age vs cholestorel plotting."}}