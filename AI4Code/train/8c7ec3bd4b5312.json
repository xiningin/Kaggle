{"cell_type":{"749a7934":"code","ae49f6b6":"code","dd625ac8":"code","fdc48b14":"code","5ada4b12":"code","5b53bb65":"code","c4ea0850":"code","b63d78f6":"code","3e4848ee":"code","f86b4d94":"code","f33c72a2":"code","62fdc150":"code","a68e8388":"code","965e988e":"code","eecdb1a0":"code","709c5540":"code","4c7b1327":"code","1fba9bb3":"code","274aab39":"code","fbd6bff7":"code","3b459a6e":"code","eaed335b":"code","3ed9077b":"code","eb65f782":"code","9217e9ae":"code","1344b850":"code","295abafb":"code","856fa659":"code","5dcdcc3e":"code","76bac9ed":"code","08a5536c":"markdown","8d0d3df8":"markdown","dc02acf1":"markdown","b533679a":"markdown","8e58a812":"markdown","eb56799a":"markdown","3c803e1e":"markdown","41bc7cea":"markdown","fe031269":"markdown","2de5ffee":"markdown","a96de445":"markdown","bd24dee8":"markdown","b5ba7876":"markdown","a32be2c1":"markdown","eadcf4e1":"markdown","363960e6":"markdown","617d3f9c":"markdown"},"source":{"749a7934":"import numpy as np \nimport pandas as pd \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","ae49f6b6":"import matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","dd625ac8":"train_df = pd.read_csv(\"..\/input\/titanic\/train.csv\")\ntrain_df.head()","fdc48b14":"train_df.shape","5ada4b12":"len(train_df[\"PassengerId\"].unique())","5b53bb65":"train_df[\"Sex\"].value_counts()","c4ea0850":"train_df[\"Embarked\"].value_counts()","b63d78f6":"def get_boxplot(train_df,param):\n    sns.boxplot(y=train_df[param])\n    plt.title(param)\n    plt.show()\n    mean_val = train_df[param].mean(skipna=True)\n    quantile_25 = train_df[param].quantile(0.25)\n    quantile_75 = train_df[param].quantile(0.75)\n    IQR = quantile_75 - quantile_25\n    min_lim = quantile_25 - 1.5*IQR\n    if min_lim < 0:\n        min_lim = 0\n    max_lim = quantile_75 + 1.5*IQR\n\n    print(\"{:<15} : {:<15}\".format(\"Mean\",str(mean_val)))\n    print(\"{:<15} : {:<15}\".format(\"25th Quantile\",str(quantile_25)))\n    print(\"{:<15} : {:<15}\".format(\"75th Quantile\",str(quantile_75)))\n    print(\"{:<15} : {:<15}\".format(\"Minimum\",str(min_lim)))\n    print(\"{:<15} : {:<15}\".format(\"Maximum\",str(max_lim)))\n    return mean_val,min_lim,max_lim","3e4848ee":"mean_age,min_lim_age,max_lim_age = get_boxplot(train_df,\"Age\")","f86b4d94":"mean_fare,min_lim_fare,max_lim_fare = get_boxplot(train_df,\"Fare\")","f33c72a2":"print(\"From boxplot : \")\nprint(\"Outliers for Age (using Univariate Analysis) : \",len(train_df[train_df[\"Age\"]>max_lim_age]))\nprint(\"Outliers for Fare (using Univariate Analysis) : \",len(train_df[train_df[\"Fare\"]>max_lim_fare]))\nprint(\"Rows having fare or age outliers : \",len(train_df[(train_df[\"Age\"]>max_lim_age) | (train_df[\"Fare\"]>max_lim_fare)]))\nprint(\"Rows having fare and age outliers : \",len(train_df[(train_df[\"Age\"]>max_lim_age) & (train_df[\"Fare\"]>max_lim_fare)]))","62fdc150":"train_df[(train_df[\"Age\"]>max_lim_age) & (train_df[\"Fare\"]>max_lim_fare)]","a68e8388":"sns.lmplot(x=\"Age\",y=\"Fare\",data=train_df)","965e988e":"# To check if all people with \"Fare\" more than 500 belong to 1st class\nlen(train_df[(train_df[\"Fare\"]>500) & (train_df[\"Pclass\"]==1)]) == len(train_df[train_df[\"Fare\"]>500])","eecdb1a0":"sns.distplot(train_df[train_df[\"Pclass\"]==1][\"Fare\"])","709c5540":"mean_fare_c1,min_lim_fare_c1,max_lim_fare_c1 = get_boxplot(train_df[train_df[\"Pclass\"]==1],\"Fare\")","4c7b1327":"# Confirming if all the outlier instances belong to the first class.\n(train_df[train_df[\"Pclass\"] == 1][\"Fare\"] > max_lim_fare_c1).value_counts()","1fba9bb3":"# Since, there are only 20 outlier instances for 1st class, we can drop them.\nclass_1_fares = train_df[train_df[\"Pclass\"] == 1][\"Fare\"]\nclass_1_outlier_fares = class_1_fares[class_1_fares > max_lim_fare_c1]\ntrain_df.drop(class_1_outlier_fares.index,inplace=True)","274aab39":"train_df.shape","fbd6bff7":"train_df.isnull().sum()","3b459a6e":"train_df = train_df.drop(\"Cabin\",axis=1)\ntrain_df.head()","eaed335b":"train_df.describe()","3ed9077b":"n_null_age = train_df[\"Age\"].isnull().sum()\ntotal_rows = train_df.shape[0]\npercentage_of_missing_age_values = (n_null_age\/total_rows)*100\nprint(\"Percentage of missing age values : \",percentage_of_missing_age_values)","eb65f782":"mean_age = train_df[\"Age\"].mean(skipna=True)\ntrain_df[\"Age\"] = train_df[\"Age\"].fillna(mean_age)\ntrain_df[\"Age\"].isnull().sum()","9217e9ae":"train_df[\"Embarked\"].value_counts()","1344b850":"train_df[\"Embarked\"].isnull().sum()","295abafb":"train_df.shape","856fa659":"train_df = train_df.dropna()\ntrain_df.shape","5dcdcc3e":"train_df.isnull().sum()","76bac9ed":"train_df.to_csv(\".\/cleaned_train.csv\")","08a5536c":"Thus, there are no structural errors.","8d0d3df8":"# Fixing Structural Errors:","dc02acf1":"Not dropping rows with any null value because dataset has 871 rows out of which 684 do not have a cabin value. Thus, drop the Cabin column instead.<br>\nDealing with Cabin column:","b533679a":"It is true that all passengers with Fare >= 500 belong to 1st Class. However, even in 1st Class passangers values of Fare >= 200 (approximately) are considered outliers.","8e58a812":"PassengerId is unique for every data point. There are 891 unique values for PassengerId which is equal to the number of rows. Thus, there are no duplicate values.","eb56799a":"Thus, all the null values have been taken care of.","3c803e1e":"# Handling Missing Values","41bc7cea":"# Filter Outliers","fe031269":"Impute missing values with mean.","2de5ffee":"Since only 2 out of 871 rows have null values for the column Embarked, drop these rows.","a96de445":"Dealing with embarked column:","bd24dee8":"Thus, all Fare outliers for class 1 have been removed.","b5ba7876":"Hello Everyone. This is my first Kaggle notebook :) . Please let me know your suggestions, so I can improve my skills. Thankyou ^.^ .","a32be2c1":"Columns with numerical values: Age, Fare","eadcf4e1":"Dealing with age column:","363960e6":"# Drop duplicate values. \n(Find out duplicate values using PassengerId)","617d3f9c":"Thus, there is not much correlation between Fare and Age. <br>\nSome passangers have very high prices compared to most of the other passangers but it could be beacuse they are in 1st class."}}