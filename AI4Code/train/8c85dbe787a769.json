{"cell_type":{"07bd89c5":"code","af42890e":"code","ff10bc0d":"code","7f0b6150":"code","fe128a1d":"code","5f638846":"code","11fba0b1":"code","62b117ab":"code","e21ab4af":"code","78678baf":"code","70fd9492":"code","c7cd8c88":"code","a00c5029":"code","28350b6b":"code","489e0f9a":"code","1885670a":"code","56f85190":"code","a922efa8":"code","a5818023":"code","a4c950c5":"code","bb3f76f0":"code","65f7729f":"code","240b0daa":"code","05b5e3e4":"code","d21125d8":"code","79ea3ab8":"code","281b093c":"code","2ef222f9":"code","1896c354":"code","53f45395":"markdown","9ee12f8d":"markdown","7c002dcf":"markdown","127e4649":"markdown","a9d1cf00":"markdown","c800e7e4":"markdown","66b54bf2":"markdown","553478e9":"markdown","273d38b0":"markdown","b5601d45":"markdown","b523d21f":"markdown","2aeab7d2":"markdown","1bd4bec1":"markdown","3f24ce2d":"markdown","bfd19ff7":"markdown","96fc4731":"markdown","b9bddc73":"markdown","9a97e65d":"markdown","be035656":"markdown","4f41b44a":"markdown","aa32fe90":"markdown","5be29ee0":"markdown","c8609adf":"markdown","ca8264bb":"markdown"},"source":{"07bd89c5":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nfrom IPython.core.display import display, HTML\ndisplay(HTML(\"<style>.container { width:70% !important; }<\/style>\"))","af42890e":"data = pd.read_csv('..\/input\/netflix-shows\/netflix_titles.csv')\nmovie = data[data['type']=='Movie']\ntv_show = data[data['type']=='TV Show']","ff10bc0d":"fig, ax = plt.subplots(1,1, figsize=(5, 5))\nsns.set(style='darkgrid')\n\nax = sns.countplot(x = 'type', data=data, palette='Reds')","7f0b6150":"data['date_added'] = pd.to_datetime(data['date_added'])\ndata['month']=data.date_added.dt.month_name().fillna(0)\ndata['year'] = data.date_added.dt.year\ndf_month = data['month'].value_counts().reset_index()\ndf_month = df_month.rename(columns={'index':'month',\n                                   'month':'count'})","fe128a1d":"import plotly.express as px\nimport plotly.graph_objects as go\n\nfig = go.Figure(data=[go.Bar(\n    x=df_month['count'],\n    y=df_month['month'],\n    text=df_month['count'],\n    marker_color='rgb(229, 9, 20)',\n    \n    orientation='h'# marker color can be a single color value or an iterable\n)])\nfig.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig.update_layout(title_text='Amount of content added each month')","5f638846":"month_order = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'][::-1]\ndf = data.groupby('year')['month'].value_counts().unstack().fillna(0)[month_order].T\n","11fba0b1":"plt.figure(figsize=(10,7),dpi=200)\nplt.pcolor(df, cmap='afmhot_r', edgecolors='white', linewidths=2)\nplt.xticks(np.arange(0.5,len(df.columns),1), df.columns, fontsize=7, fontfamily='serif')\nplt.yticks(np.arange(0.5, len(df.index), 1), df.index, fontsize=7, fontfamily='serif')\n\nplt.title('Netflix content Update by Months', fontsize=12, fontfamily='serif', fontweight='bold', position=(0.20, 1.0+0.02))\ncbar=plt.colorbar()\ncbar.ax.tick_params(labelsize=8)\ncbar.ax.minorticks_on()\n\n\nplt.show()","62b117ab":"data['day_added'] = data.date_added.dt.day_name()\ndf_days=data.groupby('day_added')['type'].count().reset_index()\ndf_days = df_days.nlargest(7, ['type']).reset_index()\n","e21ab4af":"fig = go.Figure(data=[go.Bar(\n    x=df_days['type'],\n    y=df_days['day_added'],\n    text=df_days['type'],\n    marker_color='rgb(229, 9, 20)',\n    \n    orientation='h'# marker color can be a single color value or an iterable\n)])\nfig.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig.update_layout(title_text='Days content is usually added')","78678baf":"plt.figure(figsize=(8,6))\nplt.xticks(size=8)\n\nsns.set(style='darkgrid')\n\n\nax = sns.countplot(x = 'rating', data=data, palette='Reds_r', order=data['rating'].value_counts().index[0:15])","70fd9492":"edad = data['rating'].value_counts().reset_index().T\nclasificacion = pd.DataFrame()\nclasificacion['Adults'] = edad[0]+edad[3]+edad[13]\nclasificacion['Teens'] = edad[1] + edad[4]\nclasificacion['Kids'] = edad[7] + edad[11] + edad[6] + edad[2]\nclasificacion['Little Kids'] = edad[10] + edad[5] + edad[8]\nclasificacion = clasificacion.T\nclasificacion.drop(columns='index')\nclasificacion.drop(columns='index')","c7cd8c88":"fig = plt.figure(figsize=(10,5))\nax = plt.subplot()\nsns.barplot( clasificacion.index,clasificacion['rating'], palette='RdGy')\nax.set_facecolor(('#EDEDEB'))\nax.set_title('Content Distribution by Age', fontsize=8, fontweight='bold')\nax.set_ylabel('count')\nplt.show()","a00c5029":"imdb_ratings=pd.read_csv('..\/input\/imdb-extensive-dataset\/IMDb ratings.csv', usecols=['weighted_average_vote'])\nimdb_titles = pd.read_csv('..\/input\/imdb-extensive-dataset\/IMDb movies.csv', usecols=['title', 'year', 'genre'])\nratings = pd.DataFrame({'Title':imdb_titles.title,\n                       'Release Year':imdb_titles.year,\n                       'Rating':imdb_ratings.weighted_average_vote,\n                       'Genre':imdb_titles.genre})\nratings.drop_duplicates(subset=['Title', 'Release Year', 'Rating'], inplace=True)","28350b6b":"joint_data=ratings.merge(data,left_on='Title', right_on='title',how='inner')\njoint_data = joint_data.sort_values(by='Rating', ascending=False)\n","489e0f9a":"top_rated=joint_data[0:10]\nfig = px.sunburst(\n    top_rated,\n    path=['title','country'],\n    values='Rating',\n    color='Rating')\nfig.show()","1885670a":"movie2 = joint_data[joint_data['type']=='Movie']\ntop_rated2=movie2[0:10]\nfig = px.sunburst(\n    top_rated,\n    path=['title','country'],\n    values='Rating',\n    color='Rating')\nfig.show()","56f85190":"from collections import Counter\n\ngenres = list(movie2['listed_in'])\ngen=[]\n\nfor i in genres:\n    i = list(i.split(','))\n    for j in i:\n        gen.append(j.replace(' ',''))\ng=Counter(gen)","a922efa8":"from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nfrom PIL import Image\ntext = list(set(gen))\nplt.rcParams['figure.figsize'] = (13,13)\n\nmask=np.array(Image.open('..\/input\/masks\/loc.png'))\nwordcloud = WordCloud(max_words=1000000,background_color='black', mask=mask).generate(str(text))\n\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis('off')\nplt.show()","a5818023":"shows = joint_data[joint_data['type']=='TV Show']\ngenre_show = list(shows['listed_in'])\ngen_show=[]\n\nfor i in genre_show:\n    i = list(i.split(','))\n    for j in i:\n        gen_show.append(j.replace(' ',''))\ng_s=Counter(gen_show)\ntext_show = list(set(gen_show))\nplt.rcParams['figure.figsize'] = (13,13)\n\nmask=np.array(Image.open('..\/input\/masks\/comment.png'))\nwordcloud = WordCloud(max_words=1000000,background_color='white', mask=mask).generate(str(text_show))\n\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis('off')\nplt.show()","a4c950c5":"g={k: v for k, v in sorted(g.items(), key=lambda item: item[1], reverse=True)}\n","bb3f76f0":"fig,ax = plt.subplots()\nfig=plt.figure(figsize=(10,10))\nx=list(g.keys())\ny=list(g.values())\nax.vlines(x, ymin=0, ymax=y, color='red')\nax.plot(x,y,'o', color='black')\nax.set_xticklabels(x, rotation = 90)\nax.set_ylabel('Count of Movies')\nax.set_title('Genres')","65f7729f":"g_s={k: v for k, v in sorted(g_s.items(), key=lambda item: item[1], reverse=True)}","240b0daa":"fig,ax = plt.subplots()\nfig=plt.figure(figsize=(10,10))\nx=list(g_s.keys())\ny=list(g_s.values())\nax.bar(x, y, color='red')\n#ax.plot(x,y, color='black')\nax.set_xticklabels(x, rotation = 90)\nax.set_ylabel('Count of Shows')\nax.set_title('Genres')\nplt.show()","05b5e3e4":"feats=['title','duration']\ndurations=shows[feats]\ndurations['no_of_seasons']=durations['duration'].str.replace(' Season','')\ndurations['no_of_seasons']=durations['no_of_seasons'].str.replace('s','')\ndurations['no_of_seasons']=durations['no_of_seasons'].astype(str).astype(int)\nt = ['title', 'no_of_seasons']\ntop=durations[t]\ntop=top.sort_values(by='no_of_seasons', ascending=False)\ntop20=top[0:20]\ntop20 = top20.drop_duplicates()","d21125d8":"fig = go.Figure(data=[go.Bar(\n    x=top20['title'],\n    y=top20['no_of_seasons'],\n    text=top20['no_of_seasons'],\n    marker_color='rgb(229, 9, 20)',\n    \n   # marker color can be a single color value or an iterable\n)])\nfig.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig.update_layout(title_text='Most seasons')","79ea3ab8":"net_india=movie2[movie2['country']=='India']\nnet_india=net_india.dropna()","281b093c":"india_dic=net_india['director'].value_counts()\ntop = india_dic[:20].reset_index()\ntop = top.rename(columns={'index':'director','director':'movies_directed'})\ntop","2ef222f9":"import squarify\ny = top\nfig = plt.figure(figsize=(15,15))\nsquarify.plot(sizes = y['movies_directed'], label = y['director'], color=sns.color_palette('RdGy', n_colors = 20), linewidth=4, text_kwargs={'fontsize':8,\n                                                                                                                          'fontweight':'bold'})\nplt.title('Top 20 Indian Directors', position=(0.5, 1.0+0.03), fontsize = 20, fontweight='bold')\nplt.axis('off')\nplt.show()","1896c354":"top_rated_india = net_india.sort_values(by='Rating', ascending=False)\ntop_rated_india = top_rated_india[:10]\n\nfig = px.sunburst(\n    top_rated_india,\n    path=['title','director'],\n    values='Rating',\n    color='Rating')\nfig.show()","53f45395":"It seems like February should be the best month to publish new content on netflix, is the month with less activity through the years, but we need to ask ourselves why is this, why is so little content added in this month?","9ee12f8d":"## Word Cloud for Movies","7c002dcf":"### Content Distribution by Age","127e4649":"### Top 10 movies and shows on netflix","a9d1cf00":"Here we see that overall February is the month in which less content is added, that probably will be the best time to add new content, is not as saturated as other months","c800e7e4":"### Whats the day most content is Added.","66b54bf2":"# Movie Genders","553478e9":"# Content in India\nindia is second to the USA in terms of producing cotent so, i though it would be interesting to look at the data.","273d38b0":"# Show Genders","b5601d45":"According to this data India has a lot of really good movies, and there will probably be a lot more with the constant grow of bolliwood. ","b523d21f":"### Word Cloud for TV Shows","2aeab7d2":"This is interesting at least for me, i did not think india has that many good movies, at least good rated, but i suppose they are, IMDb never faliled me.","1bd4bec1":"### Using plotly","3f24ce2d":"## Content rating visualization","bfd19ff7":"Movies clearly have a dominance agaisnt tv shows, at least in quantity.","96fc4731":"We see a Clear Dominance of Adult content, I thinks it is because obviusly only adults can pay for netflix, and lets be honest there is probably a lot of kids who watch adult content too, so more adult content is produced.","b9bddc73":"## Best Movies by IMDb Ratings","9a97e65d":"## Best Indian Movies","be035656":"## Largest Number of Seasons","4f41b44a":"## Top Directors of Indian Movies","aa32fe90":"### Top Movies","5be29ee0":"### Join Data from netflix and imdb","c8609adf":"## Which month should be less loaded for producers to publish content","ca8264bb":"We see Friday as the days most of the content is added on the platform, which makes sense, since people usually have more time around the weekend"}}