{"cell_type":{"bae2afe2":"code","2cb45223":"code","612deefa":"code","b3784982":"code","8ef85e83":"code","ce79cf05":"code","f5dc377f":"code","b16a05ad":"code","86b59a64":"code","ae504c12":"code","579bd15c":"code","55387152":"code","3cd6f272":"code","f4a274f9":"code","82fe33c6":"code","c78a0095":"code","86a426d7":"markdown","e010f40c":"markdown","8f948765":"markdown","8db09f18":"markdown","f1cd4c8d":"markdown","5b416d90":"markdown","6c7ecc46":"markdown","969cd844":"markdown","94bff90b":"markdown","15fca7c7":"markdown","fd48c75a":"markdown","3da94d5e":"markdown","b5004b91":"markdown","0c2ad9c9":"markdown","d5fc8eb2":"markdown","10a84bba":"markdown","e533b737":"markdown","0013220c":"markdown","fe342fa6":"markdown","c92b54bc":"markdown"},"source":{"bae2afe2":"import os\nimport sys\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom matplotlib.pyplot import figure\n\n%matplotlib inline","2cb45223":"# # # Given\nstart_season_year = 1992\nend_season_year = 2018\ntotal_seasons = 26   # # (1992-2018)\ntotal_teams = 20\nrelegation_count = 3\nrelegation_threshold = 18\ncolumn_headers = ['Teams', 'M', 'W', 'D', 'L', 'Goals', 'Diff', 'Pts']","612deefa":"data_dictionary = {}\nfor i in range(total_seasons):\n    season_date = i + start_season_year\n    data_dictionary[season_date] = pd.read_csv('..\/input\/https___www.worldfootball.net_ ({0}).csv'.format(i), header=None, index_col=0)\n    \n    individual_dataframe = data_dictionary[season_date]\n    \n    # # Remove unknown columns\n    del individual_dataframe[9]\n    del individual_dataframe[10]\n    \n    # # Remove unknown index\n    individual_dataframe.drop(individual_dataframe.index[:2], inplace=True)\n    \n    # # Good Columns Names\n    individual_dataframe.columns = column_headers\n    \n    individual_dataframe = individual_dataframe.rename_axis(None, inplace=True)","b3784982":"data_dictionary[2003]","8ef85e83":"# # # Creating a Winner's dictionary with clubs and their respective title winning years\nwinners_dict = {}\nwinners_hist = {}\nfor i in range(total_seasons):\n    season_date = i + start_season_year\n    winner_club = data_dictionary[season_date].loc['1'][0]\n    winners_dict[season_date] = winner_club\n    \n    # # For Winners Histogram\n    if winner_club in winners_hist:\n        winners_hist[winner_club] += 1\n    else:\n        winners_hist[winner_club] = 1","ce79cf05":"winners_hist","f5dc377f":"winners_dict","b16a05ad":"width = 0.5\nfigure(num=None, figsize=(16, 6), dpi=80, facecolor='w', edgecolor='k')\n\ny_ticks = np.arange(0, 15)\nplt.yticks(y_ticks)\n\nplt.bar(winners_hist.keys(), winners_hist.values(), width, color='green')","86b59a64":"# # Getting the difference in points season\ndifference_hist = {}\ndifference_points = []\nfor i in range(total_seasons):\n    season_date = i + start_season_year\n\n    winner_point = data_dictionary[season_date].loc['1'][7]\n    loser_point = data_dictionary[season_date].loc['20'][7]\n    \n    difference_points.append(int(winner_point) - int(loser_point))\n    difference_hist[season_date] = (int(winner_point), int(loser_point))","ae504c12":"figure(num=None, figsize=(15, 6), dpi=80, facecolor='w', edgecolor='k')\nx = list(difference_hist.values())\ndata = list(difference_hist.keys())\n\nplt.boxplot(x=x, data=data, labels=data, showmeans=True)\nplt.show()","579bd15c":"best_place_dict = {}\nbest_place_date_dict = {}\nfor i in range(total_seasons):\n    season_date = i + start_season_year\n    for j in range(total_teams):\n        team_name = data_dictionary[season_date].loc[str(j+1)][0]\n        # # Check whether the team is already in the dictionary\n        if team_name in best_place_dict:\n            # # Compare the best place from the old place\n            if best_place_dict[team_name] > j+1:\n                best_place_dict[team_name] = j+1\n        else:\n            best_place_dict[team_name] = j+1\n            best_place_date_dict[team_name] = season_date","55387152":"figure(num=None, figsize=(15, 25), dpi=80, facecolor='w', edgecolor='k')\nplt.xlabel('Best Place Finish')\nplt.ylabel('Clubs')\n\nx_ticks = np.arange(1, 21)\n\nplt.grid(axis='both')\nplt.xticks(x_ticks)\nplt.scatter(x=best_place_dict.values(), y=best_place_dict.keys())","3cd6f272":"for i in range(total_seasons):\n    season_date = i + start_season_year\n    for j in range(relegation_count):\n        team_name = data_dictionary[season_date].loc[str(relegation_threshold + j)][0]\n        if team_name in best_place_date_dict:\n            del best_place_date_dict[team_name]","f4a274f9":"figure(num=None, figsize=(26, 15), dpi=80, facecolor='w', edgecolor='k')\nplt.xlabel('Inception Year')\nplt.ylabel('Clubs')\n\nx_tick = np.arange(1992, 2018, 1)\n\nplt.grid(axis='both')\nplt.xticks(x_tick)\nplt.scatter(x=best_place_date_dict.values(), y=best_place_date_dict.keys())","82fe33c6":"total_wins_dict = {}\nfor i in range(total_seasons):\n    season_date = i + start_season_year\n    for j in range(total_teams):\n        team_name = data_dictionary[season_date].loc[str(j+1)][0]\n        wins = data_dictionary[season_date].loc[str(j+1)][2]\n        if team_name in total_wins_dict:\n            total_wins_dict[team_name] += int(wins)\n        else:           \n            total_wins_dict[team_name] = int(wins)","c78a0095":"figure(num=None, figsize=(15, 25), dpi=80, facecolor='w', edgecolor='k')\nplt.xlabel('Number of Wins')\nplt.ylabel('Clubs')\n\nx_ticks = np.arange(5, 630, 30)\n\nplt.grid(axis='both')\nplt.xticks(x_ticks)\nplt.scatter(x=total_wins_dict.values(), y=total_wins_dict.keys())","86a426d7":"### <center>**Premier League Table 2003\/2004**<\/center>","e010f40c":"### <center>**Getting the best place of each and every club**<\/center>","8f948765":"##### From this scatter plot we can find that\n- *There are only 6 clubs who have won the premier league*\n- *There are no clubs whose best place finish is the 12th place*\n- *Cardiff is the only club who has never had a best place finish above 20th place*\n- *There are only 48 teams who have competed in the premier league on the span of 26 years*\n- *Blackburn Rovers are the only team to won the premier league and relegated*","8db09f18":"##### From this box plot we can find that\n- *2007 has the least number of points obtained*\n- *2017 has the highest number of points obtained*\n- *1992 had the lowest difference between the highest point scoring club and lowest point scoring club*\n- *2005 has the largest difference between the highest point scoring club and lowest point scoring club*\n- *More Stats can be extracted from this box plot*","f1cd4c8d":"### <center>**Getting the maximum number of wins from the teams**<\/center>","5b416d90":"##### <center>This figure shows that the most successful club in the modern era of premier league is Manchester United<\/center>","6c7ecc46":"##### This is a jupyter notebook which analyzes the data and gives meaningful insights from the premier league table since it's inception on 1992, upto 2018. The new season is not added as the current league is going on (2018\/2019).  The data is scraped from workfootball.net. Only the premier league table is scrapped and the data is analyzed. Minimal libraries are used to analyze the data.","969cd844":"##### This is my first crack on data analysis. Hope you like it :). More analysis can be done from this raw data so contributions are always welcomed:). If there are any bugs, they are always welcomed!!","94bff90b":"### <center>**Search for the most successful club's in England**<center\/>","15fca7c7":"### <center>**Search for the most season with a close difference**<\/center>","fd48c75a":"##### From this scatter plot we can find that\n- *There are only 6 clubs who stayed on the top flight and never relegated*\n- *3 clubs have stayed on the top flight and aren't related upto now*","3da94d5e":"##### From this box plot we can find that\n- *Manchester United has the most wins spanning 600+ wins on their top flight stay*\n- *Arsenal and Chelsea are 2nd and 3rd place with 520+ wins*","b5004b91":"### <center>**Data Analysis of Premier League**<\/center>","0c2ad9c9":"##### <center>Calculating the seasons with the difference in points between the highest placed team and the lowest placed team. This stats will show the competitiveness between the teams from top to bottom. This closer the difference, the more chance for each and every club, more the entertaining season.<\/center>","d5fc8eb2":"##### Notebook Created by: [Sulabh Shrestha](https:\/\/github.com\/codexponent\/)\n###### - Connect with me on [Linkedin](https:\/\/www.linkedin.com\/in\/sulabhshrestha\/) & [Twitter](http:\/\/www.twitter.com\/codexponent)","10a84bba":"##### <center>This figure shows the scatter plot of the clubs with their top flight stay and never relegated<\/center>","e533b737":"### <center>**Getting the teams that has never been relegated after entry to the premier league**<\/center>","0013220c":"##### <center>This figure shows the scatter plot of the clubs with their best place finish in the premier league<\/center>","fe342fa6":"##### <center>This figure shows the box plots of the points obtained in the premier league<\/center>","c92b54bc":"##### <center>This figure shows the scatter plot of the clubs with their wins<\/center>"}}