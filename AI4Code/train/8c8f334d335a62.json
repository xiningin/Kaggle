{"cell_type":{"bd024c64":"code","508c4717":"code","5f7eac4a":"code","dcf20d7f":"code","5d162eec":"code","32fd71a2":"code","bc151936":"code","677b6ef8":"code","c510d702":"code","953cc59e":"code","7b140d3c":"code","d84c62f9":"code","41e11d69":"code","25d8a0e1":"code","47bfa5fb":"code","f4e560f4":"code","f5bd6eeb":"code","797ecd12":"code","7b5fea60":"code","0961279a":"code","e06dc075":"code","23a915ac":"code","6dcacc8a":"code","1ed16ff7":"code","fa011000":"code","59820c22":"code","1e70a7ad":"code","185eb308":"code","8916b3fe":"code","9512df59":"code","7b76abff":"code","5ff06213":"code","4102f550":"code","015eab6d":"code","f2ce5c22":"code","51c89559":"code","632e52f2":"code","59f6968d":"code","893073dc":"code","efcdd699":"code","79f5ccb0":"code","9f3d41fe":"code","722ccfa7":"code","f247234b":"code","4469076d":"code","4124f082":"code","7d3e2f24":"code","0c4e385a":"code","ea7adeb3":"code","9153423c":"code","d98d6cd6":"code","44401005":"code","bff55d5c":"code","8af38eba":"code","d0eb7fa2":"code","1eb0672f":"code","9bbd2140":"code","5a746b62":"code","f75d3b9d":"code","5227fe58":"code","2c7824be":"code","4068ea76":"code","db4819ed":"code","225784ed":"code","ab43ddd5":"code","ca040459":"code","55fb218d":"code","d0cd15c5":"code","cee97a75":"code","3caec894":"code","ab4a01de":"code","1bb07f0a":"code","2be69179":"code","21f9d3ac":"code","c44b5f91":"code","f5c62d3d":"code","98340ecd":"code","bdf6c845":"code","645d53e5":"code","1fd6c8bb":"code","c699b6f2":"code","a1f6be7e":"code","985e7790":"code","b6ceb967":"code","a048763a":"code","f992d88f":"code","c3c81d4f":"code","37bdcfa6":"code","d0c35343":"code","3e2d6e33":"code","a1e7f9a3":"code","ac5d0acb":"code","fd9559d0":"code","f99865bd":"code","4e5af4b4":"code","4d2d3c3a":"code","b545b35e":"code","ddbbc23d":"code","4f01ea65":"code","bc73b15b":"code","33b17dfd":"code","5bbde932":"code","6f55e113":"code","cd327945":"code","45d10af9":"code","76a022d3":"markdown","9f4548ad":"markdown","798fa343":"markdown","23df14cc":"markdown","b4cd68f1":"markdown","577ea407":"markdown","7ff38d00":"markdown","c57ffe24":"markdown","adf02c55":"markdown","b8b785bd":"markdown","1712dba7":"markdown","4b493442":"markdown","bcc39c6b":"markdown","d1260f96":"markdown","66918132":"markdown","9c91b270":"markdown","7bd81e48":"markdown","6439a98f":"markdown","e84add50":"markdown","88324a76":"markdown","619c1ae3":"markdown","06a36a3c":"markdown","673da610":"markdown","7b73a7fc":"markdown","00181d1c":"markdown","3921fc43":"markdown","a3cd412d":"markdown","a8a68a57":"markdown","a7f1e726":"markdown","2b4c3d89":"markdown","0569ae6e":"markdown","204fdbea":"markdown","1445d19a":"markdown","019c8981":"markdown","fc709d6f":"markdown","72b29607":"markdown","ededb441":"markdown","cc70c3d2":"markdown","deba0426":"markdown","10124865":"markdown","3e55009a":"markdown","db3b322c":"markdown","8dd409b0":"markdown","82985bd4":"markdown","af0cd21c":"markdown","c451c0ed":"markdown","8e49b089":"markdown","b6b681d0":"markdown","c02d2654":"markdown","3270128a":"markdown","0507f69d":"markdown","39eca1bd":"markdown","12934dc4":"markdown","948fdde4":"markdown","8a76e66b":"markdown","26f63a72":"markdown","62ec13a1":"markdown","e9ef5e00":"markdown","d055b588":"markdown","b92fd056":"markdown","21bbdccf":"markdown","c7441484":"markdown","b899aa2a":"markdown","8312ae5d":"markdown","49747808":"markdown","e086430f":"markdown","f5755f4e":"markdown","6df2fdbd":"markdown","6f6aa9a0":"markdown","5bd6a02f":"markdown","d39c4807":"markdown","376edd7d":"markdown","ca976cbd":"markdown","e543ec74":"markdown","bc608a41":"markdown","8cf0a544":"markdown","ec303edb":"markdown","bfe7a6ac":"markdown","0f58b450":"markdown","1aa3be2d":"markdown","ea6a1f0b":"markdown","72c03075":"markdown","9d0c436b":"markdown","a2e5fd39":"markdown","d6bdde3b":"markdown","303b6ce5":"markdown","bd6d664f":"markdown"},"source":{"bd024c64":"import numpy as np\nimport pandas as pd","508c4717":"import matplotlib.pyplot as plt\nimport seaborn as sns","5f7eac4a":"import folium\nfrom folium import plugins\nfrom folium.plugins import HeatMap","dcf20d7f":"r_data=pd.read_csv('..\/input\/reviews.csv')\nc_data=pd.read_csv('..\/input\/calendar.csv')\nl_data=pd.read_csv('..\/input\/listings.csv')","5d162eec":"r_data.head(10)","32fd71a2":"r_data.info()","bc151936":"r_data.isnull().sum()","677b6ef8":"y=np.array([0,19])\nplt.yticks(np.arange(y.min(), y.max(), 3))\nr_data.isnull().sum().plot(kind='bar')","c510d702":"l_data.head()","953cc59e":"l_data.info()","7b140d3c":"l_data.describe(include='all')","d84c62f9":"\nl_data.isnull().sum()[l_data.isnull().sum().nonzero()[0]]\n","41e11d69":"l_data.isnull().sum()[l_data.isnull().sum().nonzero()[0]].index","25d8a0e1":"type(l_data.isnull().sum()[l_data.isnull().sum().nonzero()[0]])","47bfa5fb":"plt.figure(figsize=(10,10))\nplt.xticks(rotation=90)\nplt.yticks(np.arange(0,4000,200))\nsns.barplot(x=l_data.isnull().sum()[l_data.isnull().sum().nonzero()[0]].index,y=l_data.isnull().sum()[l_data.isnull().sum().nonzero()[0]].values)","f4e560f4":"c_data.head(10)","f5bd6eeb":"c_data.info()","797ecd12":"c_data.isnull().sum()","7b5fea60":"c_data.isnull().sum().plot(kind='bar')","0961279a":"\nc_data.dropna(axis=0,subset=['price'],inplace=True)\nr_data.dropna(axis=0,subset=['comments'],inplace=True)","e06dc075":"\nl_data=l_data.rename(columns={'id':'listing_id'})","23a915ac":"l_data.head()","6dcacc8a":"l_data['monthly_price'] = pd.to_numeric(l_data['monthly_price'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')\nl_data['price'] = pd.to_numeric(l_data['price'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')\nl_data['weekly_price'] = pd.to_numeric(l_data['weekly_price'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')\nl_data['security_deposit'] = pd.to_numeric(l_data['security_deposit'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')\nl_data['cleaning_fee'] = pd.to_numeric(l_data['cleaning_fee'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')\nl_data['extra_people'] = pd.to_numeric(l_data['extra_people'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')\nl_data['host_response_rate'] = pd.to_numeric(l_data['host_response_rate'].apply(lambda x: str(x).replace('%', ''))\n                                        ,errors='coerce')\n","1ed16ff7":"l_data['host_since']=pd.to_datetime(l_data['host_since'])\nl_data['month']=l_data.host_since.dt.month\nl_data['year']=l_data.host_since.dt.year","fa011000":"cl_data=l_data.merge(c_data,on='listing_id')","59820c22":"c_data['date']=pd.to_datetime(c_data['date'])\nc_data['month']=c_data.date.dt.month\nc_data['year']=c_data.date.dt.year","1e70a7ad":"c_data['price'] = pd.to_numeric(c_data['price'].apply(lambda x: str(x).replace('$', '').replace(',', '')),errors='coerce')","185eb308":"l_data2=l_data._get_numeric_data()\nl_data2.head()","8916b3fe":"plt.hist(l_data['price'],bins=15)","9512df59":"l_data['neighbourhood_cleansed'].value_counts().head(15)","7b76abff":"l_data['neighbourhood_cleansed'].value_counts().head(15).plot(kind='bar')","5ff06213":"len(l_data2['latitude'])","4102f550":"m = folium.Map(location=[47.60, -122.24], zoom_start = 11)\n\nheat_data = [[row['latitude'],row['longitude']] for index, row in\n             l_data2[['latitude', 'longitude']].iterrows()]\n\nhh =  HeatMap(heat_data).add_to(m)\n\nm\n\n","015eab6d":"plt.figure(figsize=(12,8))\npoints = plt.scatter(l_data2['latitude'], l_data2['longitude'], c=l_data[\"price\"], s=20, cmap=\"viridis\") \nplt.colorbar(points)","f2ce5c22":"plt.figure(figsize=(20,10))\nplt.xticks(rotation=90)\nsns.scatterplot(x='neighbourhood_cleansed',hue='price',size='room_type',y='property_type',palette='rainbow',data=l_data)","51c89559":"plt.figure(figsize=(20,30))\nplt.xticks(rotation=90)\nsns.scatterplot(y='neighbourhood_cleansed',x='price',size='room_type',hue='property_type',palette='rainbow',data=l_data)","632e52f2":"plt.figure(figsize=(14,8))\nsns.scatterplot(x=l_data2['latitude'], y=l_data2['longitude'], hue=l_data[\"property_type\"], s=20, palette=\"rainbow\") \n","59f6968d":"l_data['host_response_time'].value_counts()","893073dc":"sns.countplot(l_data['host_response_time'])","efcdd699":"plt.figure(figsize=(10,10))\nplt.xticks(rotation=90)\nsns.scatterplot(x='host_response_time',hue='price',size='room_type',y='property_type',palette='rainbow',data=l_data)","79f5ccb0":"plt.figure(figsize=(10,10))\nplt.xticks(rotation=90)\nsns.scatterplot(y='host_response_time',x='price',size='room_type',hue='property_type',palette='rainbow',data=l_data)","9f3d41fe":"plt.figure(figsize=(14,8))\nsns.scatterplot(x=l_data2['latitude'], y=l_data2['longitude'], hue=l_data[\"host_response_time\"], s=20, palette=\"rainbow\") \n","722ccfa7":"l_data['host_location'].value_counts().head(20)","f247234b":"l_data['host_location'].value_counts().head(20).plot(kind='bar')","4469076d":"l_data.columns","4124f082":"l_data['host_response_rate'].value_counts()","7d3e2f24":"plt.figure(figsize=(10,10))\nplt.xticks(rotation=90)\nsns.scatterplot(x='host_response_rate',hue='price',size='room_type',y='property_type',palette='rainbow_r',data=l_data)","0c4e385a":"plt.figure(figsize=(20,20))\nplt.xticks(rotation=90)\nplt.yticks(np.arange(0,105,5))\nsns.scatterplot(y='host_response_rate',x='price',size='room_type',hue='property_type',palette='rainbow_r',data=l_data)","ea7adeb3":"l_data['property_type'].value_counts()","9153423c":"plt.xticks(rotation=90)\nsns.countplot(l_data['property_type'])","d98d6cd6":"l_data['room_type'].value_counts()","44401005":"sns.countplot(l_data['room_type'])","bff55d5c":"fig,axes= plt.subplots(nrows=2, ncols= 2,figsize=(10,10))\n\n\n\nsns.countplot(l_data['review_scores_cleanliness'],ax=axes[0][0])\n\nsns.countplot(l_data['review_scores_checkin'],ax=axes[0][1])\n\nsns.countplot(l_data['review_scores_communication'],ax=axes[1][0])\n\nsns.countplot(l_data['review_scores_location'],ax=axes[1][1])\n","8af38eba":"plt.xlabel(['false','true'])\n\nplt.ylabel('no of listings')\n\nl_data['host_is_superhost'].value_counts().plot(kind='bar')\n","d0eb7fa2":"plt.xlabel(['false','true'])\n\nplt.ylabel('No of listings')\n\nl_data['instant_bookable'].value_counts().plot(kind='bar')\n","1eb0672f":"\n\nplt.ylabel('no of listings')\n\nl_data['cancellation_policy'].value_counts().plot(kind='bar')\n","9bbd2140":"\n\n\nsns.scatterplot(hue=l_data['price'],x=l_data['cancellation_policy'],y=l_data['availability_90'],palette='rainbow')\n\n\n\n","5a746b62":"sns.scatterplot(hue=l_data['price'],x=l_data['instant_bookable'],y=l_data['availability_90'],palette='rainbow')\n\n\n","f75d3b9d":"\nsns.scatterplot(hue=l_data['price'],x=l_data['host_is_superhost'],y=l_data['availability_90'],palette='rainbow')\n","5227fe58":"sns.countplot(l_data['host_identity_verified'])","2c7824be":"sns.countplot(l_data['requires_license'])","4068ea76":"sns.countplot(l_data['require_guest_profile_picture'])","db4819ed":"sns.countplot(l_data['require_guest_phone_verification'])","225784ed":"l_data_ay=l_data.sort_values('availability_365')","ab43ddd5":"l_data.columns","ca040459":"plt.figure(figsize=(10,20))\n\nsns.scatterplot(y='availability_365',x='price',data=l_data,hue='listing_id',palette='rainbow',size='listing_id')","55fb218d":"l_data[['availability_365','availability_90','availability_60','availability_30','price','monthly_price','weekly_price','review_scores_value','review_scores_rating']].corr()","d0cd15c5":"sns.heatmap(\n    l_data[['availability_365','availability_90','availability_60','availability_30','price','monthly_price',\n            'weekly_price','review_scores_value','review_scores_rating']].corr(),annot=True\n)","cee97a75":"l_data[['availability_30','availability_60','availability_90','availability_365','property_type',\n        'room_type','bathrooms','bedrooms','beds']].corr()\n","3caec894":"sns.heatmap(l_data[['availability_30','availability_60','availability_90',\n                    'availability_365','property_type','room_type','bathrooms','bedrooms','beds']].corr(),annot=True)\n\n","ab4a01de":"l_data[['review_scores_rating','review_scores_value', 'property_type','room_type',\n        'bathrooms','bedrooms','beds']].corr()\n","1bb07f0a":"sns.heatmap(l_data[['review_scores_rating','review_scores_value', 'property_type',\n                    'room_type','bathrooms','bedrooms','beds']].corr(),annot=True)\n","2be69179":"l_data.head()","21f9d3ac":"\nl_data[(l_data['year']==2015)]['month'].value_counts()","c44b5f91":"\nplt.figure(figsize=(10,10))\nplt.ylabel('listings_count')\nsns.countplot(l_data[(l_data['year'] == 2015)]['month'])","f5c62d3d":"sns.countplot(c_data[(c_data['year'] == 2016)]['month'])","98340ecd":"sns.lineplot(data=pd.pivot_table(data=l_data[(l_data['year'] == 2015)],index='month',values='price',aggfunc='mean'))\n","bdf6c845":"sns.lineplot(data=pd.pivot_table(data=c_data[(c_data['year']==2016)],index='month',values='price',aggfunc='mean'))","645d53e5":"sns.lineplot(data=pd.pivot_table(data=l_data[(l_data['year'] == 2015)],index='month',values='availability_30',aggfunc='mean'))","1fd6c8bb":"#Extracting all numeric columns in dataset\nl_data1=l_data._get_numeric_data()\nl_data1.head()","c699b6f2":"#Removing NaN values\nl_data1=l_data1.drop(['square_feet','license'],axis=1)\nl_data1=l_data1.dropna(axis=0)","a1f6be7e":"l_data1=l_data1.drop(['latitude','longitude'],axis=1)","985e7790":"#Ready Data for Use\nl_data1.head()","b6ceb967":"l_data1.iloc[:,5:11].corr()","a048763a":"sns.heatmap(l_data1.iloc[:,5:11].corr(),annot=True)","f992d88f":"sns.pairplot(l_data1.iloc[:,5:11],kind='reg')","c3c81d4f":"fig,axes= plt.subplots(nrows=3, ncols= 2,figsize=(15,15))\nsns.scatterplot(y='host_listings_count',x='price',data=l_data1,hue='listing_id',legend=False,ax=axes[0][0],palette='gist_rainbow_r')\nsns.scatterplot(y='host_total_listings_count',x='price',data=l_data1,hue='listing_id',legend=False,ax=axes[0][1],palette='gist_rainbow_r')\nsns.scatterplot(y='accommodates',x='price',data=l_data1,hue='listing_id',legend=False,ax=axes[1][0],palette='gist_rainbow')\nsns.scatterplot(y='bathrooms',x='price',data=l_data1,hue='listing_id',legend=False,ax=axes[1][1],palette='gist_rainbow')\nsns.scatterplot(y='bedrooms',x='price',data=l_data1,hue='listing_id',legend=False,ax=axes[2][0],palette='prism')\nsns.scatterplot(y='beds',x='price',data=l_data1,hue='listing_id',legend=False,ax=axes[2][1],palette='prism')\nplt.show()","37bdcfa6":"from sklearn.model_selection import train_test_split\nx=l_data1.iloc[:,5:10]\ny=l_data1['price']\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.4)","d0c35343":"from sklearn.neighbors import KNeighborsRegressor\nknn=KNeighborsRegressor(n_neighbors=5)\nknn.fit(x_train,y_train)\npred=knn.predict(x_test)\nprint(pred)","3e2d6e33":"ax1=sns.distplot(y_test,hist=False,color='r',label='actual value')\nax2=sns.distplot(pred,hist=False,color='blue',label='predicted value')","a1e7f9a3":"from sklearn.metrics import mean_squared_error\nfrom sklearn import neighbors\nfrom math import sqrt\nrmse=list()\nrmse1=list()\nnew=list()\nmylist=list(range(50))\nmylist=list(filter(lambda x:x%2!=0,mylist))\nfor k in mylist:\n    knn=KNeighborsRegressor(n_neighbors=k)\n    knn.fit(x_train,y_train)\n    pred=knn.predict(x_test)\n    pred1=knn.predict(x_train)\n    error=sqrt(mean_squared_error(y_test,pred)) \n    error1=sqrt(mean_squared_error(y_train,pred1))\n    rmse.append(error)\n    new.append([error,k])\n    rmse1.append(error1)\n    print('RMSE test value for k= ' , k , 'is:', error, '\\nRMSE train value for k is = ',error1)","ac5d0acb":"newList=list()\nfor x in mylist:\n    newList.append(1\/x)","fd9559d0":"Rmsetest=min(new)\nprint(\"Minimum R squared test error=\",Rmsetest[0])\nRmsetrain=min(rmse1)\nprint(\"Minimum R squared train error=\",Rmsetrain)\nprint(\"Optimal K value= \",Rmsetest[1])","f99865bd":"plt.plot(mylist,rmse,color='red')\nplt.plot(mylist,rmse1,color='blue')\nplt.xlabel('Neighbors Of K')\nplt.ylabel('R squared test error')","4e5af4b4":"plt.plot(newList,rmse,color='red')\nplt.plot(newList,rmse1,color='blue')\nplt.xlabel('Neighbors Of 1\/K')\nplt.ylabel('R squared test error')","4d2d3c3a":"def train(x_train,y_train):\n    return","b545b35e":"def predic(x_train,y_train,x_test,k):\n    distance=[]\n    target=[]\n    p=0\n    for i in range(len(x_train)):\n        dis=np.sqrt(np.sum(np.square(x_test-x_train.values[i])))\n        distance.append([dis,y_train.values[i]])\n        distance=sorted(distance)\n    for i in range(k):\n        p=p+distance[i][1]\n    return(p\/k)","ddbbc23d":"ppp=[]\ndef KNN(x_train,y_train,x_test,pred,k):\n    if k>len(x_train):\n        raise ValueError\n    \n    train(x_train,y_train)\n    for i in range(len(x_test)):\n        print(\"K   \",k)\n        print(x_test.iloc[i,:])\n        p=predic(x_train,y_train,x_test.iloc[i,:],k)\n        ppp.append(p)\n        print(\"Predicted Price = $\",p)\n        ","4f01ea65":"prediction=[]\ntry:\n    KNN(x_train,y_train,x_test,prediction,3)\nexcept ValueError:\n    print(\"Value of K cannot be more then the number of training values\")","bc73b15b":"ax1=sns.distplot(y_test,hist=False,color='r',label='actual value')\nax2=sns.distplot(ppp,hist=False,color='blue',label='predicted value')","33b17dfd":"len(ppp)","5bbde932":"from sklearn.linear_model import LinearRegression\nlm=LinearRegression()\nx=l_data1.iloc[:,5:10]\ny=l_data1[['price']]\nY=lm.fit(x,y)\nlm.coef_\nfor i in range(len(x.columns)):\n    print(x.columns[i],'\\t ',lm.coef_[0][i])","6f55e113":"sns.regplot(y=l_data1['bathrooms'],x=l_data1['price'],color='green')\nsns.regplot(y=l_data1['bedrooms'],x=l_data1['price'],color='orange')\nplt.xlabel(\"Price\")\nplt.ylabel(\"Bathrooms and Bedrooms\")","cd327945":"\nsns.regplot(y=l_data1['bathrooms'],x=l_data1['price'],color='orange')\n","45d10af9":"sns.regplot(y=l_data1['bedrooms'],x=l_data1['price'],color='black',marker='^')\n","76a022d3":"##### The price paid by customers in months between june to august is higher . Also the no of listings in 2015 and no of customers visiting in 2016 is also high.  So these months seem to be one of Tourist Attractions.\n##### While incresed sales in December and Jan might be because prices are lower.","9f4548ad":"K Nearest Neighbors is a simple algorithm that uses all available cases and use those to predict for new and unseen cases used.\nk-NN is a type of instance-based learning, or lazy learning, where the function is only approximated locally and all computation is deferred until classification. The k-NN algorithm is among the simplest of all machine learning algorithms.","798fa343":"### USING HIST FUNCTION PLOTTING TOTAL NO OF LISTINGS IN PRICE RANGES.","23df14cc":"# Finding correlation between avaibility over month year and quauter with price room type property type bed bedroom no and rating using heatmaps and corr function","b4cd68f1":"PairPlot:\n    \n    Pair plot is used to understand the best set of features to explain a relationship between two variables or to form the most separated clusters. It also helps to form some simple classification models by drawing some simple lines or make linear separation in our dataset.A Simple 2D plots is used to understand the relationship or pattern between two variables or dimensions in our dataset. ","577ea407":"9. Plotting graph between RMSE value and K value.","7ff38d00":"##  Availability over 90 days vs cancellation policy instant bookable and host is superhost or not","c57ffe24":"### Importing Packages required","adf02c55":"#### We see that maximum no of listings are in price range from 0-200 dollars.","b8b785bd":"###### We see that maximum no of Apartment,House  are alloted as a whole . \n###### The Price range is between 0-200 inmost of the places.\n###### The distribution of Listings like Bunglow,Townhouse,Loft is mostly more in\n###### ratio at outskirts of city where possible tourist places .\n###### But city center is predominatly apartments and houses.","1712dba7":"Linear Regression is a Linear approch for modeling the relationship between Target Variable(Dependent Variable) and Other Variables(Independent Variable)    ","4b493442":"## No of listings over the months in 2015","bcc39c6b":"###### We see very few listings are instantly bookable around 16% of the total.","d1260f96":"# Data Cleaning","66918132":"Steps:\n1. Defining a Train Funtion.","9c91b270":"## Average price over the months in year 2016 from calendar data","7bd81e48":"###### Heatmap of Seattle using folium shows the distribution of listings across the city . \n","6439a98f":"HeatMap:\n    \n        A heat map is a two-dimensional representation of data in which values are represented by colors. A simple heat map provides an immediate visual summary of information. More elaborate heat maps allow the viewer to understand complex data sets.\n        There can be many ways to display heat maps, but they all share one thing in common -- they use color to communicate relationships between data values that would be would be much harder to understand if presented numerically in a spreadsheet.","e84add50":"##### Again the customer data was available only for 2016 year where we see that no of customers in seattle is close to 60,000  - 80,000.\n##### Throught the year 2016.","88324a76":"# Introduction \n\n\n\nWhen travelling to other city or country accomaodation is what is the most important necessity.\nThe most important things in choosing an accomodation is the reservation price.\nWhat are the main factors, which affect the reservation prices? \nDoes time of the year influence prices and\nWhat other factors affect the price. Locality , amenities , facilities, reviews or \nany other we try to analyse that using dataset of  publicly accessible AirBnB data,\navailable on Inside AirBnB and on Kaggle.\n\nThis Project analysises dataset of Seattle city close to Washington (US).\n","619c1ae3":"## Availibility over the months in 2015","06a36a3c":"From The Above The PairPlot we understand the relationship between all the variables in our dataset used.","673da610":"######  The security checking lefts lot more to be desired . So this area needs to be improved. And Municipal Corporations should look into this.","7b73a7fc":"What Is Model Accuracy?\n\nModel Accuracy is the measurement used to determine weather model is best at identifying relationships and patterns between variables in a dataset based on the training data. The better a model can generalize to \u2018unseen or test' data, the better predictions and insights it produces that deliver more good value.","00181d1c":"Finding The Correlation helps us to Find The Variable dependence on the Target Variable.","3921fc43":"## Applying KNN On Dataset","a3cd412d":"# Writing a Manual KNN Function","a8a68a57":"From KNN algo Steps:\n1. We Divide the dataset into train and test. With test size of 40% of dataset.","a7f1e726":"# Content\n[Data Cleaning](http:\/\/)","2b4c3d89":"We have predicted the possible price for listings using knn Algorithm.\nanalysis of price ratings availibility shows that there is dependence on location and property type a bit but the most significant one is no of bedroom and bathroom in price prediction .\nThe possible tourists attraction month seems to be May to August .\nWhile prices are lower in December and January which also shows why there is larger no of tourists in these months also.\nAlso there are details of all these in significant detail in this project on AirBnB data of Seattle .","0569ae6e":"##### We see that maximum hosts respond within an hour .","204fdbea":"###### We see that response time varies a bit on the basis of property type .\n###### But there no possible pattern with there variance with price or property type so this might mean that \n###### host response time is highly individual basis.\n###### However we see that usually it takes within an hour in city center.\n###### And within few days in outskirts of city.\n###### This might mean with business planning which should be more planned in city center.","1445d19a":"### Here we renamed various columns of l_data converted string types \/ object types to numeric .\n### Similarily c_data is cleaned too.\n### Unwanted symbols in columns are removed.\n","019c8981":"6. We find the optimal value of K for better prediction.\n7. Calculate RMSE for finding the optimal value of K.\n\nRoot Mean Square Error:\n    \n    Root Mean Square Error (RMSE) is the standard deviation of the residuals (prediction errors). Residuals are a measure of how far from the regression line data points are; RMSE is a measure of how spread out these residuals are. In other words, it tells you how concentrated the data is around the line of best fit. Root mean square error is commonly used in climatology, forecasting, and regression analysis to verify experimental results.","fc709d6f":"###### Availability is not affected by instant booking policy as we see similiar disrtribution of availability with instant booking policy and price.\n###### So this might be the reason why so few listings offer this feature.","72b29607":"## Analysing Review's of listings\n\n##### We get  into analysis Reviews for possible individuals visiting Seattle.","ededb441":"###### The Host Response rate is mostly 100 % for 90% of the listings.\n###### House and Apartments have response rate of around 100 % .\n###### While distribution of Loft,Boat,Bunglow,Townhouse is mostly between 90 - 95 %","cc70c3d2":"## Whether a listing is instant bookable or not","deba0426":"Very few listings are superhost aroung 17% this would mean that it's not so easier to get this title from AirBnB.","10124865":"## cancellation policy of listings","3e55009a":"###### We see that most of the host locations are in Seattle and other hosts are mostly from nearby places Washington And  California.","db3b322c":"From The Above Scatter Plot We Get a Glimpse of the relationship between each variable used and the target(\"Price\").","8dd409b0":"3. Predicting the value for Target Variable for value of K.","82985bd4":"In the listings dataset we get that most of listings data is there for year 2015. So total no of listings in year 2015 is plotted. Which seems to be higher in months of june, july,august, then there is decrease in no of listings till december and then very significant rise in january. This might mean that october ,november,december are not busy months which coincides with time of heavy raiinfall in this area also.","af0cd21c":"###### There is also not so siignificant relation between ratings and no of bed rooms and beds.","c451c0ed":"8. Getting minimum RMSE for testing data. For optimal value of K.","8e49b089":"2. Defining a Predict Function.\n\n    In this funtion we calculate the nearest distance and get the corresponding value for value of K and get nearest neighbors value means for more accuracy in predicted value.","b6b681d0":"ScatterPlot:\n    \n    A scatterplot is a graph that is used to plot the data points for two variables. Each scatterplot has a horizontal axis (x-axis) and a vertical axis (y-axis).One variable is plotted on each axis. Scatterplots are made up of marks; each mark represents one study participant's measures on the variables that are on the x-axis and y-axis of the scatterplot.","c02d2654":"# Result and Conclusion","3270128a":"###### No realtion of availabilty with property type or room type or with feature provided in the room.","0507f69d":"10. Plotting graph between RMSE value and 1\/K value.","39eca1bd":"### Loading csv files and working on them.\n##### 1) Getting a glimpse on datasets.\n##### 2)Taking out relevant info on datatypes of columns.\n##### 3)Counting the no of null values in each row\n##### 4) Plotting the bar graph of no of null values in each column of all three datasets \n   ###### l_data which is a dataset on listings in Seattle city.\n   ###### c_data which is a dataset on calendars info in Seattle City\n   ###### r-data which is a datset on reviews info in Seattle City.","12934dc4":"# Prediction using Linear Regression","948fdde4":"From The Above Regression Plot We Conclude that Bedroom(Orange Line) is more properly Correlated on comparision to Bathroom(Green Line) with Price, and the above Resultant Plot Dependence Is Due to The Coefficient Value of Of the two variables.\n\n        As a result we find that Beadroom is the most important variable for predicting price in this case.","8a76e66b":"For visual representation of variables we use \"HeatMap\"","26f63a72":"### Price Distribution of listings  across latitudes and longitudes in Seattle city.\n### which shows that maximum no of listings have price between 0 -200 dollars.\n### Also the max no of listings having prices higher than 200 are certainly more in the center of City.","62ec13a1":"###### Availability is not affected by cacellation policy as we see  similiar disrtribution of availability with canacellation policy and price.","e9ef5e00":"2. We then use a trail value for K say 5.\n3. Fit the model with the training data.\n4. Predict The value using testing data of X.","d055b588":"###### Cancellation property is usually  equally distributed in strict ,moderate and flexible with a gap of 200.","b92fd056":"# Plotting Neighbourhood with price, room type ,property type to draw any possible conculsion","21bbdccf":"###### Though we see that availability is affected in negative by superhost feature usually listings with higher prices are less available when it is a superhost.","c7441484":"## Working on host response time to draw ay conclusion.","b899aa2a":"Distribution Plot:\n    \n    The distribution plot is suitable for comparing range and distribution for groups of numerical data. Data is plotted as value points along an axis.\n    The distribution plot visualizes the distribution of data.","8312ae5d":"    From the above graph We can get the optimal value of K.","49747808":"We have imported numpy ,pandas for basic data analysis.\nMatplotlib anad seaborn for data visualization.\nFolium for maps.","e086430f":"Value of Coefficients Defines how properlly the Independent Variables are Correlated to the Dependent Variable.\ni.e., How much our funtion will get effected for one unit increase in the Dependent Variable With Respect To The Value Of Coefficient.","f5755f4e":"#####  We see that most of the reviews are in between 9 -10 so this means that selecting a listing with review scores less than 9 is not right .\n##### and anything less than 8 is not acceptable at all.\n      \n","6df2fdbd":"# Using Maps To Analyse The Spread of Listings In Seattle City and \n# Relation of Neighbourhood with Price Plotted on MAP.","6f6aa9a0":"#  VISUALIZATION TO DRAW INFERENCES ON DATASET.","5bd6a02f":"##### We see that Broadway Belttown has maximum no of listings.","d39c4807":"For Visual Analysis Of Linear Regression We Use \"regplot()\".","376edd7d":"4. Finally Calling the above function by passing a certain value of K.And apply a try and except case beacuse the value of K cannot be larger then number of training values.","ca976cbd":"## Removing null values ","e543ec74":"# Superhost features and counting no of listings which are superhosts","bc608a41":"###### After looking into datasets and counting the null values we move on to remove null value sfrom datasets .\n###### We see that r_data's and c_data's each have one of there rows price and comments respectively with large no of datapoints missing\n###### We remove the entire row from them.\n\n###### And l_data's id is renamed to listing_id to facilitate easy understanding between the various datasets.\n","8cf0a544":"At Airbnb you can get the status \"Superhost\". From Airbnb:\n\nAs a Superhost, you\u2019ll have more visibility, earning potential, and exclusive rewards. It's our way of saying thank you for your outstanding hospitality.\nHow to become a Superhost: Every 3 months, we check if you meet the following criteria. If you do, you'll earn or keep your Superhost status.\n    Superhosts have a 4.8 or higher average overall rating based on reviews from at least 50% of their Airbnb guests in the past year.\n    Superhosts have hosted at least 10 stays in the past year or, if they host longer-term reservations, 100 nights over at least 3 stays.\n    Superhosts have no cancellations in the past year, unless there were extenuating circumstances.\n    Superhosts respond to 90% of new messages within 24 hours.\n\nBelow, we can see that only a small po","ec303edb":"## Security checkings done of customers entering listings","bfe7a6ac":"##### We see that there is drop in price of listings in 2015 in January ,June,July,August which coincides with larger no of listings in those months.","0f58b450":" ## No of customers over the months of year 2016","1aa3be2d":"In the above graph we Examine Our Model Accuracy as by ploting a Distribution Curve of \"Price\" for Actual Value and the Predicted Value.\n\nFrom the above graph we can conclude that our Predicted Value follow almost the same trend as Followed by Actual Value. As a result we can say that our Model Accuracy Is Somehow Good.","ea6a1f0b":"Mathematically We Take Account Linear Regression as:-\n    \n        f(X)=\u03b20 + \u03b21X1 + \u03b22X2 + ...+ \u03b2pXp\n        \n        Where,\n            \u03b20=Intercept\n            \u03b21,\u03b22....,\u03b2p=Coefficients\n            X1,X2....,Xp=Independent Variable","72c03075":"###### There is very less relation of availibilty with reviews or price . While there seems to be slight realtion of price and ratings.","9d0c436b":"## Counting the total no of listing by location in Seattle city","a2e5fd39":"## Plotting no of property type and room type","d6bdde3b":"## Average price over the months of year 2015 from listings data ","303b6ce5":"####  We see that maximum no of properties are Apartments and houses followed by sighnifigantly low Townhouse and Condominium  . This also show the type of property in Seattle City. \n##### We see that maximim no of listings are for Entire Rooms \/ Apartments.","bd6d664f":"5. We plot a distribution curve to have a look on how good our actual value relate to the predicted value."}}