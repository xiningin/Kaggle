{"cell_type":{"ceacd6c0":"code","6fd9cf84":"code","9b8b6411":"code","071af38b":"code","8cc8a566":"code","bfd52af6":"code","8e38ddc5":"code","7cf86ff7":"code","2ac1938b":"code","e7b15dc3":"code","f3835c6f":"code","a4f5cf6e":"code","3731c56f":"code","94b7ddc8":"code","b14e8973":"code","9faa687b":"code","da723003":"code","ea7ecf4b":"code","be03ad81":"code","dc98aa74":"code","1d4b0c5f":"code","78b1dff5":"code","a849f814":"code","676ecac1":"code","43e00226":"code","62faadc3":"code","c13ab2ba":"code","ef666393":"code","1f9e8775":"code","4b8495bc":"code","70d1afbe":"code","5c3b70aa":"code","a2393d31":"code","80995fd7":"code","c1bdc1dc":"code","b65cbe82":"code","aad48917":"code","09603e52":"code","445aeae2":"code","15e854a3":"code","6e3c18db":"code","16b6cf33":"code","cdf8b2c4":"code","3e8a3d11":"code","cbaf7d52":"code","355153ff":"code","7931c360":"code","e9ba4413":"code","c4af2903":"code","f80c32b4":"code","260ea089":"code","620890e1":"code","bf66f154":"code","79844b44":"code","30d52650":"code","841de0be":"code","8a93673e":"code","bcea0007":"code","1b02575b":"code","bcfa614e":"code","7c76e852":"code","55276bdb":"code","9aedd85f":"code","c5ce0e93":"code","8ede4e93":"code","811a650d":"code","b3f77744":"code","be0bf705":"code","b8754638":"code","582163cb":"code","a256cfb0":"code","2d979b21":"code","e3f9c724":"code","fede9446":"code","45ba1cf3":"code","e359e2c2":"code","d0e97d5d":"code","5ccb4858":"code","e9845201":"code","dfdb8553":"code","3d715f85":"code","cff9730d":"code","fa5cbca9":"code","b4fd2fa3":"code","23330371":"code","8044d6e7":"code","a6b606e8":"code","86de77ed":"code","2d305102":"code","14538273":"code","4324b904":"code","64d6fcab":"code","524dc4b4":"code","a36deaab":"code","d8a6c9c2":"code","fd000ef8":"code","2a195f1b":"code","821d2017":"code","e4a36825":"code","d8e8628b":"code","c699c4fe":"code","03e5e0e7":"code","1059b2fd":"code","b67716c7":"code","6cc215f8":"code","973f9daf":"code","732f9aa0":"code","5f3ddd7d":"code","2b2ad032":"code","0c2590f0":"code","14da39ef":"markdown","b6e9528e":"markdown","492d1075":"markdown","d06e5c63":"markdown","f8cab173":"markdown","c2f35e15":"markdown","5dafac81":"markdown","e275d063":"markdown","edef5bd6":"markdown","d9793f6b":"markdown","e4337cb2":"markdown","b24cf21c":"markdown","abc17687":"markdown","24de2273":"markdown","f957c01f":"markdown","22318d09":"markdown","9cba4736":"markdown","50cd3db1":"markdown","278484f5":"markdown","2525e7a1":"markdown","ed0e641b":"markdown","356193e3":"markdown","d098d41c":"markdown","e2b24f44":"markdown","81adb49b":"markdown","d49ec649":"markdown","322a8637":"markdown","8c58d570":"markdown","5468ca6d":"markdown","aa950298":"markdown","fd2af0ac":"markdown","785fc630":"markdown","947bc921":"markdown","244ca940":"markdown","7e84c320":"markdown","a4ccdd8a":"markdown","721790d4":"markdown","32c7c09b":"markdown","fb397884":"markdown","0910b8fc":"markdown","fa8d8132":"markdown","a32ceede":"markdown","148e918f":"markdown","2f274224":"markdown","2df238fb":"markdown","2668e181":"markdown","99adaacc":"markdown","4491d706":"markdown","d60493bb":"markdown","d005596f":"markdown","3e434617":"markdown","e649239c":"markdown","e4eba1ef":"markdown","c9462899":"markdown","9e75a8b6":"markdown","04501252":"markdown","42576d2b":"markdown","48d7467c":"markdown","ffeded91":"markdown","9256b91b":"markdown","f08c2e21":"markdown","096a92a5":"markdown","d4469014":"markdown","f4fb67ec":"markdown","b0777625":"markdown","1314c7ee":"markdown","b8cc0bec":"markdown","6a724331":"markdown","d5036f1c":"markdown","fb5ad031":"markdown","865680bc":"markdown","09722f92":"markdown","b5b6b56f":"markdown","dd4c118a":"markdown","b87bfb20":"markdown","c9ee6e21":"markdown","ee7362e7":"markdown","cf22e73a":"markdown","92a2c33a":"markdown","2f030934":"markdown"},"source":{"ceacd6c0":"from plotly.offline import init_notebook_mode, iplot_mpl, download_plotlyjs, plot, iplot\nimport plotly_express as px\nimport plotly.figure_factory as ff\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport warnings\nwarnings.filterwarnings('ignore')\ninit_notebook_mode(connected=True)\nimport pandas_profiling\nimport statsmodels.formula.api as sm\nimport missingno as msno\nfrom sklearn.preprocessing import LabelEncoder\nfrom statsmodels.compat import lzip\nimport statsmodels.api as sm\nfrom sklearn.preprocessing import scale\nimport pandas as pd","6fd9cf84":"data = pd.read_csv(\"..\/input\/adult-census-income\/adult.csv\")","9b8b6411":"data.info()","071af38b":"data.head()","8cc8a566":"df=data.copy()","bfd52af6":"px.histogram(df, x=\"fnlwgt\",nbins=int(np.sqrt(len(df.fnlwgt))),\n             marginal=\"box\",title='Histogram & Box-Plot: fnlwgt',\n             template='ggplot2').update_traces(dict(marker_line_width=1, marker_line_color=\"black\"))","8e38ddc5":"px.histogram(df, x=\"capital.gain\",nbins=int(np.sqrt(len(df['capital.gain']))),\n             marginal=\"box\",title='Histogram & Box-Plot: capital-gain',\n             template='ggplot2').update_traces(dict(marker_line_width=1, marker_line_color=\"black\"))","7cf86ff7":"px.histogram(df, x=\"capital.loss\",nbins=int(np.sqrt(len(df['capital.loss']))),\n             marginal=\"box\",title='Histogram & Box-Plot: capital-loss',\n             template='ggplot2').update_traces(dict(marker_line_width=1, marker_line_color=\"black\"))","2ac1938b":"px.histogram(df, x='hours.per.week',nbins=10,\n             marginal=\"box\",title='Histogram & Box-Plot: hour per week',\n             template='ggplot2').update_traces(dict(marker_line_width=1, marker_line_color=\"black\"))","e7b15dc3":"px.histogram(df, x='age',nbins=int(np.sqrt(len(df['age']))),\n             marginal=\"box\",title='Histogram & Box-Plot: Age',\n             template='ggplot2').update_traces(dict(marker_line_width=1, marker_line_color=\"black\"))","f3835c6f":"df.workclass.value_counts(normalize=True)","a4f5cf6e":"df.workclass=df.workclass.replace({\"?\": \"unknown\"})","3731c56f":"df.workclass.value_counts(normalize=True)","94b7ddc8":"fig = px.treemap(df, path=['sex','race','workclass'],color_discrete_sequence=px.colors.sequential.Magenta)\nfig.show()","b14e8973":"df.education.value_counts(normalize=True)","9faa687b":"fig = px.treemap(df, path=['sex','race','education'],color_discrete_sequence=px.colors.sequential.Teal)\nfig.show()","da723003":"df['marital.status'].value_counts(normalize=True)","ea7ecf4b":"fig = px.treemap(df, path=['sex','race','marital.status'],color_discrete_sequence=px.colors.sequential.Emrld)\nfig.show()","be03ad81":"df['occupation'].value_counts(normalize=True)","dc98aa74":"df.occupation=df.occupation.replace({' ?': \" unknown\"})","1d4b0c5f":"fig = px.treemap(df, path=['sex','race','occupation'],color_discrete_sequence=px.colors.sequential.Purp)\nfig.show()","78b1dff5":"df['relationship'].value_counts(normalize=True)","a849f814":"fig = px.treemap(df, path=['sex','race','relationship'],color_discrete_sequence=px.colors.sequential.Sunset)\nfig.show()","676ecac1":"df['race'].value_counts(normalize=True)","43e00226":"fig = px.pie(df, 'race', title='Race Pie Chart distribution').update_traces(hoverinfo='label+value', \n                                                                            textinfo='percent', textfont_size=16)\nfig.show()","62faadc3":"df['sex'].value_counts(normalize=True)","c13ab2ba":"fig = px.pie(df, 'sex', title='Sex Pie Chart distribution').update_traces(hoverinfo='label+value', textinfo='percent', textfont_size=16)\nfig.show()","ef666393":"df['native.country'].unique()","1f9e8775":"df['native.country']=df['native.country'].replace({\" ?\": \"unknown\"})","4b8495bc":"df['native.country']=df['native.country'].replace({None: \"None\"})","70d1afbe":"df['native.country'].value_counts(normalize=True)","5c3b70aa":"fig = px.treemap(df, path=['native.country'])\nfig.show()","a2393d31":"df.income.value_counts(normalize=True)","80995fd7":"df[\">50K\"]=pd.get_dummies(df.income).iloc[:,1:]","c1bdc1dc":"fig = px.pie(df, 'income', title='Pie Chart - Income >50K').update_traces(hoverinfo='value', textinfo='percent+value', textfont_size=20)\nfig.show()","b65cbe82":"fig = px.imshow(df.corr(),x=list(df.corr().columns),y=list(df.corr().columns),width=900, \n                height=700,title='Correlation Matrix', color_continuous_scale=px.colors.diverging.Tropic)\nfig.show()","aad48917":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df.race, response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both',colors=['coral','lightblue'], markers=['D','^'], ms=16)","09603e52":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df['education.num'], response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both',colors=['coral','lightblue'], markers=['D','^'], ms=16)","445aeae2":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df['marital.status'], response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both',colors=['coral','lightblue'], markers=['D','^'], ms=16)","15e854a3":"fig, ax = plt.subplots(figsize=(26,8))\nfig = sm.graphics.interaction_plot(x=df['occupation'], response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both',colors=['coral','lightblue'], \n                                   markers=['D','^'], ms=16)","6e3c18db":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df['marital.status'], response=df[\">50K\"], trace=df.race,\n                                   ax=ax,plottype='both', ms=16)","16b6cf33":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df['age'], response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both',colors=['coral','lightblue'], \n                                   markers=['D','^'], ms=16)","cdf8b2c4":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df['hours.per.week'], response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both',colors=['coral','lightblue'], markers=['D','^'], ms=16)","3e8a3d11":"fig, ax = plt.subplots(figsize=(20,6))\nfig = sm.graphics.interaction_plot(x=df['relationship'], response=df[\">50K\"], trace=df.sex,\n                                   ax=ax, plottype='both', colors=['coral','lightblue'], markers=['D','^'], ms=16)","cbaf7d52":"df['discrete_age']=pd.cut(df.age, [0,30,61], include_lowest=False)","355153ff":"df['discrete_advan_education']=pd.cut(df['education.num'], [0,11,17], include_lowest=False)","7931c360":"df['Husband']=pd.get_dummies(df.relationship).iloc[:,0]","e9ba4413":"df['Male']=pd.get_dummies(df.sex).iloc[:,1:2]","c4af2903":"df['White']=pd.get_dummies(df.race).iloc[:,-1:]","f80c32b4":"df['age_(30,61]']=pd.get_dummies(df.discrete_age).iloc[:,-1:]","260ea089":"df['advan_education>=12']=pd.get_dummies(df.discrete_advan_education).iloc[:,1:]","620890e1":"df['advan_education>=12']=pd.get_dummies(df.discrete_advan_education).iloc[:,1:]","bf66f154":"df['Married-AF-spouse']=pd.get_dummies(df['marital.status']).iloc[:,1:2] ","79844b44":"df['Married-civ-spouse']=pd.get_dummies(df['marital.status']).iloc[:,2:3] ","30d52650":"df['Married-civ or AF-spouse']=df['Married-AF-spouse']+df['Married-civ-spouse']","841de0be":"df['inter_MWAEHM'] = df['Male']*df['White']*df['age_(30,61]']*df['Married-civ or AF-spouse']*df['advan_education>=12']*df['Husband']","8a93673e":"fig = px.pie(df, 'inter_MWAEHM', title='MAN WHITE AGE (30,61) MARRIED HUSBAND Ad.EDUCATION').update_traces(hoverinfo='value', textinfo='percent+value', textfont_size=20)\nfig.show()","bcea0007":"#The groupby method allows us to group the entire population with respect to several variables\ndf.groupby('inter_MWAEHM').aggregate(np.mean)","1b02575b":"fig = px.imshow(df.corr(),x=list(df.corr().columns),y=list(df.corr().columns),width=900,\n                height=700,title='Correlation Matrix', color_continuous_scale=px.colors.diverging.Tropic)\nfig.show()","bcfa614e":"df_=df.copy()","7c76e852":"df_['native.country'].value_counts()","55276bdb":"df_['native_USA']=pd.get_dummies(df_['native.country']).iloc[:,-5:-4]","9aedd85f":"df_.columns","c5ce0e93":"df_.drop(columns=['education','native.country','discrete_age', 'discrete_advan_education', 'Male', 'White',\n       'age_(30,61]', 'advan_education>=12', 'Husband', 'Married-AF-spouse',\n       'Married-civ-spouse', 'Married-civ or AF-spouse', 'inter_MWAEHM'],inplace=True)","8ede4e93":"X=df_['>50K']","811a650d":"df_.drop(columns=['>50K'],inplace=True)","b3f77744":"df_=pd.get_dummies(df_)","be0bf705":"df_=df_.apply(pd.to_numeric)","b8754638":"df_","582163cb":"# We scale our Matrix (DataSet) First we transform our DF in a scaled Matrix (scaled by the \u03bc and \u03c3 of each columm) \ndf_=scale(df_)","a256cfb0":"# from sklearn we import PCA module and we fit our DataSet, we specify the number of PC and call the fit() method \n\nfrom sklearn.decomposition import PCA\npca = PCA(n_components=2)\npca.fit(df_)","2d979b21":"# Now we can transform our DataSet\ndf_2d = pca.transform(df_)","e3f9c724":"# We generate a new Dataframe with our two components as variables\ndf_2d = pd.DataFrame(df_2d)\ndf_2d.columns = ['PC1','PC2']","fede9446":"df_2d['>50K']=X","45ba1cf3":"df_2d","e359e2c2":"fig = px.scatter(df_2d, x='PC1',y='PC2', title=\"PC1 vs PC2 scatter plot\",\n                 color='>50K').update_traces(dict(marker_line_width=1,marker_line_color=\"black\"))\nfig.show()","d0e97d5d":"pca = PCA(n_components=3)\npca.fit(df_)","5ccb4858":"# Now we can transform our DataSet\ndf_3d = pca.transform(df_)","e9845201":"# We generate a new Dataframe with our two components as variables\ndf_3d = pd.DataFrame(df_3d)\ndf_3d.columns = ['PC1','PC2','PC3']","dfdb8553":"df_3d['>50K']=X","3d715f85":"df_3d.corr()","cff9730d":"fig = px.scatter_3d(df_3d, x='PC1',y='PC2',z='PC3',title=\"PC1 vs PC2 vs PC3 scatter plot\",\n                    color='>50K').update_traces(dict(marker_line_width=1, marker_line_color=\"black\"))\nfig.show()","fa5cbca9":"df1=df.groupby('education').aggregate(np.mean)","b4fd2fa3":"df1=df1.sort_values(by='>50K')","23330371":"df1.style.bar(subset=['>50K'],color='#d65f5f')","8044d6e7":"fig = px.bar(df1, x='education.num', y='>50K',title='Mean of observations (Income >50K 1: Yes) by education',color='hours.per.week', color_continuous_scale=px.colors.diverging.BrBG)\nfig.show()","a6b606e8":"df2=df.iloc[:,:-7].groupby('native.country').aggregate(np.mean)","86de77ed":"df2['native.country']=df2.index","2d305102":"fig = px.treemap(df2, path=['native.country', '>50K'], values='>50K')\nfig.show()","14538273":"df2=df2.sort_values(by=\"education.num\", ascending=True,)","4324b904":"fig = px.bar(df2, x='native.country', y='education.num',title='Education num by native-country',color='>50K', color_continuous_scale=px.colors.diverging.BrBG)\nfig.show()","64d6fcab":"df2=df2.sort_values(by=\"hours.per.week\", ascending=True)","524dc4b4":"fig = px.bar(df2, x='native.country', y='hours.per.week',title='Hour per week by native-country',color='>50K', color_continuous_scale=px.colors.diverging.BrBG)\nfig.show()","a36deaab":"df3=df.iloc[:,:-9].groupby('sex').aggregate(['mean','median','max','min','std'])","d8a6c9c2":"df3.round(2).T","fd000ef8":"df4=df.iloc[:,:-9].groupby('marital.status').aggregate(np.mean)","2a195f1b":"df4['marital.status']=df4.index","821d2017":"df4=df4.sort_values(by=\"age\", ascending=True)","e4a36825":"df4.style.background_gradient(cmap='Blues')","d8e8628b":"fig = px.bar(df4, x='marital.status', y='age',title='Capital Gain by Relationship status',\n             color='>50K', color_continuous_scale=px.colors.diverging.BrBG)\nfig.show()","c699c4fe":"df5=df.iloc[:,:].groupby('relationship').aggregate(np.mean)","03e5e0e7":"df5=df5.sort_values(by=\"capital.gain\", ascending=True)","1059b2fd":"df5['relationship']=df5.index","b67716c7":"df5.style.background_gradient(cmap='Blues')","6cc215f8":"fig = px.bar(df5, x='relationship', y='capital.gain',title='Capital Gain by Relationship status',color='>50K', color_continuous_scale=px.colors.diverging.BrBG)\nfig.show()","973f9daf":"df6=df.iloc[:,:].groupby('occupation').aggregate(np.mean)","732f9aa0":"df6.round(2)","5f3ddd7d":"df6=df6.sort_values(by=\">50K\", ascending=True)","2b2ad032":"df6['occupation']=df6.index","0c2590f0":"fig = px.scatter(df6, x='occupation',y='>50K', title=\"mean >50K income by occupation\",\n                 color='age',size='advan_education>=12', color_continuous_scale='tealrose').update_traces(dict(marker_line_width=1,marker_line_color=\"black\"))\nfig.show()","14da39ef":"### occupation","b6e9528e":"## 3. Study of variables: analysis of values, distributions and treatment of null values.\n\nIn this section we will carry out a structural vision of the values and the distributions that follow each of the variables. We will treat the null \/ erroneous values of the same to give them coherence for their later analysis.","492d1075":"### 7.2 Grouping by Native-Country","d06e5c63":"We observe that many observations have the value \"?\". We replace the question mark with \"unknown\".","f8cab173":"### 7.1 Grouping by Education","c2f35e15":"### native-country\nThis variable was one of those that had a null value. We will substitute the values \"?\" for \"unknown\" and null for the string \"None\".","5dafac81":"Observations with income> 50K tend to have higher PC1 and PC2 values, and observations with income <=50K tend have have lower values. Very often PCA dimensions are difficult to interpret because they are complex linear transformations.","e275d063":"### fnlwgt","edef5bd6":"### education ","d9793f6b":"### hours-per-week","e4337cb2":"### Age","b24cf21c":"**Interaction: Sex-Race with>50K**","abc17687":"We will substitute the values \"?\" for \"unknown\" and None for the string \"None\".","24de2273":"**Interaction: Sex-Education with> 50K**","f957c01f":"- We have created the variable> 50K that represents a Boolean indicator (1 represents True and 0 represents False) of each observation if it has income> 50K or not.","22318d09":"This variable denotes the total number of individuals that the census believes this observation represents. We observe an asymmetric distribution to the left.","9cba4736":"Hours worked do not seem a highly significant indicator in relation to having income> 50K or not.","50cd3db1":"### sex","278484f5":"In this figure we have represented up to 4 dimensions. On the x axis we have the grouping by occupation, on the y the mean of the occupation group of having income> 50K or not. The color (turquoise to pink gradient represents age), that is, the higher the pink color, the higher the average age of the group and the size of the bubble, which represents the average value of the occupation of having advanced education. (> 12)","2525e7a1":"The capital-gain of the Married-civ-spouse is the highest value by far. As seems normal, the average age of the viudos is the highest.","ed0e641b":"We can generate 3 main components and represent the data in 3 dimensions.","356193e3":"### 7.5 Agrupaci\u00f3n por Relationship","d098d41c":"In the 3-dimensional representation, we observe a separation into 2 groups, one with PC3 with low values and the other with higher values. It appears that PC3 has a negative correlation with having income> 50K, but we do not get any clear interpretation of the results. We would need to do a more in-depth examination of the major components to be able to determine deeper insights.","e2b24f44":"### capital-loss","81adb49b":"It seems that both \"Husband\" and \"Wife\" are much more likely to have income> 50K than the other relatonship statuses.","d49ec649":"In this table we have the grouping of the DataSet by levels of Education and the means of the numerical variables. For example, we can say that observations with \"1st-4th\" education have an \"hour-per-week\" mean of 38.26, and a mean age of 46.14. Of this group, only 3.57% have income> 50K.","322a8637":"**Interaction: Sex-Occupation with> 50K**","8c58d570":"We did not observe significant differences between the sexes except in the case of divorced, separated and widowed men, who seem to be significantly more likely than women of the same condition to have an income> 50K.\n\nIt is interesting to note that married civil spouse women have more chances of earning> 50K than their male counterparts. We see that married women are generally much more likely to have an income> 50K.","5468ca6d":"### Workclass","aa950298":"More than 85% of the observations are white.","fd2af0ac":"Race seems to determine the possibility of having an income above 50K or not, especially in the case of men. We observe that more than 30% of white men have income> 50K. Men are more likely to earn> 50K than female counterparts in all races except Amer-Indian-Eskimo. There are very few Black, Amer-Indian-Eskimo or Other women with incomes> 50K. The female-race interaction has less strength in the probability of having an income> 50K than the male-race interaction (flatter line).","785fc630":"**Interaction: Hours Worked-Sex with> 50K**","947bc921":"### relationship","244ca940":"## 7. Groupings of variables by various criteria\n\nUsing the Groupby method we can perform additional groupings such as sum (), mean (), median (), min () and max () according to various criteria. With this methodology we can obtain very complex insights about our data from different casuistry.","7e84c320":"### 3.1 Numerical variables","a4ccdd8a":"> PROJECT ABSTRACT\n\n*Python has been used for the study and analysis of the DataSet adult.csv. The Pandas library has been used for the relevant manipulation, processing and transformation of data. The Poltly Express library and Statsmodels have been used to visualize the data. The \"Census Income\" DataSet is based on a set of observations drawn from the 1994 US Census. The purpose of the DataSet is to be able to experiment with predictive rates to determine whether a person earns more than $ 50,000 per year. We have studied the structural nature of all the variables, as well as the relationships between them. Inference has been generated of the interaction between variables and the probability of winning more than 50K. New indicators and Boolean variables and diverse groupings have been generated to give approaches to the data from different casuistry and approaches*","721790d4":"We observe that 1836 observations have the value \"?\". We replace the question mark with \"unknown\".","32c7c09b":"We have created a new Boolean variable that collects whether the observation is native to the United States or not.","fb397884":"## 4. Dependencies and interactions between attributes and the the variable > 50K\n\nWe can use interaction plots to understand the behavior of how one variable (discrete or numerical) depends on the value of another variable. These statistical graphs are of great help to us to interpret the effects of dependencies and interactions between our variables. With the Python statsmodels package we can easily generate Interaction Plots.","0910b8fc":"32.25% of the observations are HS-graduates.","fa8d8132":"### 3.3 Correlation matrix of numeric variables","a32ceede":"Replaying the correlation matrix, we observe that the new variable has a positive correlation of 0.39 with> 50K","148e918f":"We group the mean values for each educational level from our observations.","2f274224":"### 7.3 Agrupaci\u00f3n por sexo","2df238fb":"In this grouping we can observe the level of observations with income> 50K according to the country of origin of the observations. Thus, while 41.8% of those born in Iran have income> 50K, only 3.3% of those born in Colombia do.","2668e181":"## 2. DataSet preparation","99adaacc":"We observe that about 90% of the observations are from the United States. Mexico is in a distant second place.","4491d706":"The DataSet has 66.9% men observations.","d60493bb":"The median of the distribution is 40 hours per week. The maximum observed is 99 hours.","d005596f":"The growth with age of the possibilities of having an income> 50K occurs in both sexes, but is much more pronounced in men than in women. We observe that, especially after the age of 30, the difference in having an income> 50 or not between men and women begins to widen, with a very noticeable difference between both sexes in the 40s and 50s.","3e434617":"**Interaction: Race-Marital Status with> 50K**","e649239c":"### education.num (same distribution than education)","e4eba1ef":"This figure shows us the grouping by native-country of the mean educational level.","c9462899":"It is interesting to note that the observations of black race married with a spouse to the armed forces present a good possibility of having an income> 50.","9e75a8b6":"### race","04501252":"We note that the mean hour-per-week for men is 42.43, while that of women is 36.41.","42576d2b":"### 7.6 Agrupaci\u00f3n por Occupation","48d7467c":"We have an asymmetric distribution on the left. 75% of the observations are less than 48 years old. (limit of the third quartile)","ffeded91":"### income\n**Binary discretization of the variable income**","9256b91b":"The occupation follows the same income trend in both sexes, but we see that Exec-managerial men have income> 50K in more than double the percentage points than their female counterparts. There are also big differences between Prof-specialty, Sales, Tech-support.","f08c2e21":"### 7.4 Agrupaci\u00f3n por Marital-Satus","096a92a5":"This bar graph shows a positive relationship between educational level and having income> 50K. It is interesting to observe that as the educational level rises, the tendency to work more hours per week also increases (sequence of colors)","d4469014":"We see that only 10% of the observations meet the proptotype (male, white, aged (30.61), married AF or CIV, husband and with advanced education.","f4fb67ec":"Almost 70% of the observations work in the private sector.","b0777625":"**Interaction: Relationship-Sex with> 50K **","1314c7ee":"### capital-gain","b8cc0bec":"- As we can determine with the grouping carried out, within this 10% of the observations of this boolean indicator (inter_MWAEHM) 73.68% have income> 50K, 50 points more than the general average of the observations, which is one 23.6%.\n\n\n- Of the observations that do not meet this interaction, only 18.00% of the total have income> 50K.","6a724331":"## 6. One-Hot Encoding and Dime. Reduction with PCA\n\nWith the One-Hot Encoding of the DataSet we can use groups of bits to represent all possible categories of discrete variables. The PCA dimensionality reduction method allows us to transform the DataSet into several main components (direction of maximum variability of the data). The objective will be to show the entire DataSet of the data in a scatter to see if we can identify any remarkable visual patterns.","d5036f1c":"## 1. DataSet Loading ","fb5ad031":"The vast majority of values are close to 0.","865680bc":"## 5. Feature Engineering and discretization.\n\nIn this section we will transform some characteristics of the attributes into new discrete variables, as well as generate new Boolean variables in order to obtain additional insights.\n\nAs we have observed in the previous section, being a man, white, aged between 30-55, Married-civ-spouse or Married-af-spous, husband and having advanced studies significantly increases the chances of having an income> 50K. We will generate a new Boolean \"dummy\" variable that collects the interactions.","09722f92":"This figure shows the grouping by native-country of the average hours worked per week.","b5b6b56f":"### marital-status","dd4c118a":"**Interaction: Sex-Marital Status with> 50K**","b87bfb20":"The trend is clear, as the educational level of the observations increases (in both men and women), the possibility of having an income> 50K increases, especially from educational level 8. It is interesting to observe how the difference between men and Women progressively broadens as education is more advanced. There are few differences between men and women when the educational level is <= 8.","c9ee6e21":"We see huge difference in capital gains and the possibility of earning more than 50K from Wife and Husband with Own.child or Other-relative.","ee7362e7":"This matrix gives us the correlations between the numeric variables. We observe that education-num is the attribute most correlated with having income> 50K.","cf22e73a":"** Interaction: Age-Sex with> 50K **","92a2c33a":"We observe that the vast majority of values are close to 0. This variable denotes the capital gains of the observations.","2f030934":"### 3.2 Categorical Variables\n\nWe will analyze the nature of the variables (study the normalized values), we will reproduce TreeMaps with sex and race of the observations and we will clean the values that require it.\n\n- The pandas method value_counts (normalize = True) gives us the results of each class of each attribute. We can study the frequency of each value.\n\n\n- The treemaps give us a superficial vision (by sex and race) of the frequency of each attribute."}}