{"cell_type":{"64661a78":"code","aba339e8":"code","6dc31350":"code","a2290eee":"code","8eefa102":"code","7e312424":"code","ca9288b7":"code","21dbed73":"code","f2b33660":"code","05818445":"code","68871a37":"code","a68f761d":"code","41e2f15e":"code","e6f8a978":"code","490b572a":"code","924eb441":"code","d62f6cdd":"code","cadebeda":"code","3c7b66e0":"code","d52cde9d":"code","6cdb1561":"code","9538d8b4":"code","06fffe6b":"code","9e5d1b11":"code","77d215e1":"code","e7fad123":"code","6ae05289":"code","1bb14fec":"code","1bfdab5e":"code","6d9a22c4":"code","1cb70428":"code","ac7a35b4":"code","7614500e":"code","4c32c072":"code","2e7d5f25":"code","91031a85":"code","5205f0c3":"code","df7be146":"code","1676bfde":"code","a9f5c7e4":"code","605c460e":"code","7ca2bf81":"code","e4d7c20d":"code","6319d7d8":"code","d7cdc890":"markdown","35f7acd2":"markdown","905fb41c":"markdown","ea1f6a3d":"markdown","ebfe90b9":"markdown","c8950a0c":"markdown","447eb57d":"markdown","6d83ef9b":"markdown","4cc7f09b":"markdown","6e277084":"markdown","ffc53899":"markdown","b767495f":"markdown","cde9b5e0":"markdown","dad04cad":"markdown","6d81f382":"markdown","3062f315":"markdown","34651a77":"markdown","70675860":"markdown","50498a9c":"markdown","12e538f9":"markdown","db2ab494":"markdown","7355361b":"markdown","585f2beb":"markdown","2839cb23":"markdown","a48d7712":"markdown","566abe1b":"markdown","ea30dda8":"markdown","61b3fff8":"markdown"},"source":{"64661a78":"import matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport pandas as pd\nimport numpy as np\ndf = pd.read_csv('..\/input\/us-counties-covid-19-dataset\/us-counties.csv')\n\ndata=df.drop(['fips'], axis = 1) \ndata","aba339e8":"plt.figure(figsize=(12,8)) # Figure size\ndata.groupby(\"state\")['deaths'].max().plot(kind='bar', color='darkred')","6dc31350":"WA=data.loc[data['state']== 'Washington']\nWA","a2290eee":"WA.sort_values(by=['cases'], ascending=False)","8eefa102":"WA.sort_values(by=['deaths'], ascending=False)","7e312424":"plt.figure(figsize=(12,8)) # Figure size\nWA.groupby(\"county\")['cases'].max().plot(kind='bar', color='olive')","ca9288b7":"plt.figure(figsize=(12,8)) # Figure size\nWA.groupby(\"county\")['deaths'].max().plot(kind='bar', color='darkgray')","21dbed73":"plt.figure(figsize=(16,11))\nsns.lineplot(x=\"date\", y=\"deaths\", hue=\"county\",data=WA)\nplt.xticks(WA.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","f2b33660":"plt.figure(figsize=(16,11))\nsns.lineplot(x=\"date\", y=\"cases\", hue=\"county\",data=WA)\nplt.xticks(WA.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","05818445":"King=WA.loc[WA['county']== 'King']\nKing","68871a37":"plt.figure(figsize=(16,9)) # Figure size\nsns.lineplot(x='date', y='cases', data=King, marker='o', color='peru') \nplt.title('Cases in King county') # Title\nplt.xticks(King.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","a68f761d":"plt.figure(figsize=(16,9)) # Figure size\nsns.lineplot(x='date', y='deaths', data=King, marker='o', color='steelblue') \nplt.title('Reported deaths in King county') # Title\nplt.xticks(King.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","41e2f15e":"Prc=WA.loc[WA['county']== 'Pierce']\nPrc","e6f8a978":"plt.figure(figsize=(16,9)) # Figure size\nsns.lineplot(x='date', y='cases', data=Prc, marker='o', color='tomato') \nplt.title('Cases in Pierce county') # Title\nplt.xticks(Prc.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","490b572a":"plt.figure(figsize=(16,9)) # Figure size\nsns.lineplot(x='date', y='deaths', data=Prc, marker='o', color='darkkhaki') \nplt.title('Deaths in Pierce county') # Title\nplt.xticks(Prc.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","924eb441":"Sno=WA.loc[WA['county']== 'Snohomish']\nSno","d62f6cdd":"plt.figure(figsize=(16,9)) # Figure size\nsns.lineplot(x='date', y='cases', data=Sno, marker='o', color='indigo') \nplt.title('Cases in Snohomish county') # Title\nplt.xticks(Sno.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","cadebeda":"plt.figure(figsize=(16,9)) # Figure size\nsns.lineplot(x='date', y='deaths', data=Sno, marker='o', color='dimgrey') \nplt.title('Deaths in Snohomish county') # Title\nplt.xticks(Sno.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","3c7b66e0":"#concat dfs\n\nDF1 = pd.concat([King,Prc, Sno])\nDF1","d52cde9d":"plt.figure(figsize=(16,11))\nsns.lineplot(x=\"cases\", y=\"deaths\", hue=\"county\",data=DF1)\nplt.title('Death across counties') # Title","6cdb1561":"plt.figure(figsize=(16,11))\nsns.lineplot(x=\"date\", y=\"cases\", hue=\"county\",data=DF1)\nplt.title('Cases across counties') # Title\nplt.xticks(DF1.date.unique(), rotation=90) # All values in the x axis rotate 90 degrees\nplt.show()","9538d8b4":"DF1.corr().style.background_gradient(cmap='magma')","06fffe6b":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import classification_report, confusion_matrix\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import metrics\nfrom sklearn.model_selection import train_test_split ","9e5d1b11":"X = King['cases'].values.reshape(-1,1)\ny = King['deaths'].values.reshape(-1,1)","77d215e1":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=0)","e7fad123":"regressor = LinearRegression()  \nregressor.fit(X_train, y_train) #training the algorithm","6ae05289":"print(regressor.intercept_)\nprint(regressor.coef_)","1bb14fec":"y_pred = regressor.predict(X_test)","1bfdab5e":"preds1 = pd.DataFrame({'Actual': y_test.flatten(), 'Predicted': y_pred.flatten()})\npreds1","6d9a22c4":"plt.scatter(X_test, y_test,  color='palevioletred')\nplt.plot(X_test, y_pred, color='black', linewidth=1)\nplt.show()","1cb70428":"print('Mean Absolute Error:', metrics.mean_absolute_error(y_test, y_pred))  \nprint('Mean Squared Error:', metrics.mean_squared_error(y_test, y_pred))  \nprint('Root Mean Squared Error:', np.sqrt(metrics.mean_squared_error(y_test, y_pred)))","ac7a35b4":"X1 = Sno['cases'].values.reshape(-1,1)\ny1 = Sno['deaths'].values.reshape(-1,1)","7614500e":"X_train1, X_test1, y_train1, y_test1 = train_test_split(X1, y1, test_size=0.2, random_state=1)","4c32c072":"regressor1 = LinearRegression()  \nregressor1.fit(X_train1, y_train1) #training the algorithm","2e7d5f25":"y_pred2 = regressor1.predict(X_test1)","91031a85":"preds2 = pd.DataFrame({'Actual': y_test1.flatten(), 'Predicted': y_pred2.flatten()})\npreds2","5205f0c3":"plt.scatter(X_test1, y_test1,  color='rosybrown')\nplt.plot(X_test1, y_pred2, color='black', linewidth=1)\nplt.show()","df7be146":"print('Mean Absolute Error:', metrics.mean_absolute_error(y_test1, y_pred2))  \nprint('Mean Squared Error:', metrics.mean_squared_error(y_test1, y_pred2))  \nprint('Root Mean Squared Error:', np.sqrt(metrics.mean_squared_error(y_test1, y_pred2)))","1676bfde":"X2 = Prc['cases'].values.reshape(-1,1)\ny2 = Prc['deaths'].values.reshape(-1,1)","a9f5c7e4":"X_train2, X_test2, y_train2, y_test2 = train_test_split(X2, y2, test_size=0.1, random_state=0)","605c460e":"regressor2 = LinearRegression()  \nregressor2.fit(X_train2, y_train2) #training the algorithm","7ca2bf81":"y_pred3 = regressor2.predict(X_test2)","e4d7c20d":"preds3 = pd.DataFrame({'Actual': y_test2.flatten(), 'Predicted': y_pred3.flatten()})\npreds3","6319d7d8":"plt.scatter(X_test2, y_test2,  color='goldenrod')\nplt.plot(X_test2, y_pred3, color='black', linewidth=1)\nplt.show()","d7cdc890":"Like in the case of King county, I used random state 0 because 1 did not fit, like in Snohomish county data. I also decreased the test size. Pierce county has less data.","35f7acd2":"The graph above shows that King and Snohomish have the highest rates of cases.","905fb41c":"**Pierce County**","ea1f6a3d":"The above shows a pattern on case rises: First, King county, then Snohomish county, and then Pierce county. These counties are neighbors.  \n","ebfe90b9":"Different than in King county's linear regression, here I used 1 random state","c8950a0c":"# **West Washington counties: King, Snohomish, Pierce**    \n\nBy. MM Figueroa Lopez   \nWritten on. April 1, 2020   \n","447eb57d":"The model and predictions above are not ideal for conclusive results or decision-making, but still informative.   ","6d83ef9b":"** Washinton state counties**","4cc7f09b":"The above greaph shows how King county surpasses other counties in WA in total deaths related to COVID19.","6e277084":" **Pierce county**","ffc53899":"The above linear regression and predictions for Snohomish county data seems to fit very well.","b767495f":"There could be a curve at the top of the graph, but it may still be too early to determine if Snohomish county is peaking in COVID-19 cases.","cde9b5e0":"Correlation:","dad04cad":"* **King, Pirece, and Snohomish Counties**","6d81f382":"As of **March 31, 2020**, the death toll is highest in New York, and followed by Washington State.   ","3062f315":"**Washington state** overall","34651a77":" **Snohomish county**","70675860":"In cases and deaths, there seems to be a curving for King county. Perhaps, King county reached its peak. But this may not be truw for the rest of the state.   ","50498a9c":"King county","12e538f9":"The above data shows that King County began reporting COVID-19 deaths before most of Washington.","db2ab494":"It does not seem clear if Pierce county cases of COVID-19 are peaking, but deaths seem supressed in this county. ","7355361b":"Comparing King, Snohomish, and Piecr counties.","585f2beb":"**The overall US picture** ","2839cb23":"Regressions\/prediction","a48d7712":"There may be a correlation in cases-deaths across the three neighboring counties.","566abe1b":" **King County** ","ea30dda8":"King county continues to lead in case and death totals.","61b3fff8":"There seems to be a linear regression fits in the case of King County, WA"}}