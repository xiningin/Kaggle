{"cell_type":{"b59ebaec":"code","e993e97f":"code","fa2ac967":"code","cec99790":"code","25d0c1fc":"code","7d653e42":"code","a52ade87":"code","6a14a38c":"code","1d3f0a4c":"code","a92e05e9":"code","610fd9b9":"code","8e2cb044":"code","d7f08816":"code","50c8fe87":"code","53d03d91":"code","56500c96":"markdown","24078d47":"markdown","51b73253":"markdown","d36469bd":"markdown","635b5738":"markdown","2e94a3de":"markdown","1c08a305":"markdown","c51972f7":"markdown","3e620834":"markdown","778db9d0":"markdown","e3070b3b":"markdown","edefc236":"markdown"},"source":{"b59ebaec":"\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","e993e97f":"from sklearn import preprocessing\nfrom kmodes.kmodes import KModes\nimport matplotlib.pyplot as plt\n\ndb = pd.read_csv('\/kaggle\/input\/young-people-survey\/responses.csv')\ndb.head()","fa2ac967":"pd.set_option('display.max_rows', 500)\ncols = pd.DataFrame(db.columns)\ncols","cec99790":"df1 = db[db.columns[19:30]] #these are the 'Movies' related questions that I want to use\ndf2 = db[db.columns[63:72]] #these are the 'Phobias' related questions that I want to use\ndf3 = df1.merge(df2, how = 'inner', left_index = True, right_index = True) #let's put them together\ndf3.head()","25d0c1fc":"df3.isnull().sum()","7d653e42":"df3_copy = df3\n\n\nfrom sklearn.impute import SimpleImputer\n\nimputer = SimpleImputer(strategy = 'median')\n\nimputer.fit(df3)\n\nX = imputer.transform(df3)\n\ndb = pd.DataFrame(X)","a52ade87":"db.isnull().sum() ","6a14a38c":"db.columns = df3_copy.columns\ndb.head()","1d3f0a4c":"db = np.array(db)\n\nfrom kmodes.kmodes import KModes\n\ncost = []\nfor nb_clusters in list(range(1,10)): \n    kmode = KModes(n_clusters = nb_clusters, init = 'Huang', n_init = 1, verbose = 1)\n    kmode.fit_predict(db)\n    cost.append(kmode.cost_)","a92e05e9":"y = np.array([i for i in range(1, 10, 1)]) \nplt.plot(y, cost) ","610fd9b9":"km = KModes(n_clusters = 4, init = 'Huang', n_init = 1, verbose = 1)\nfitClusters = km.fit_predict(db)","8e2cb044":"db = df3_copy.reset_index()\n\nclusters_df = pd.DataFrame(fitClusters)\nclusters_df.columns = ['clusters_pred']\ndb_w_clusters = pd.concat([db, clusters_df], axis = 1).reset_index()\n\ndb_w_clusters = db_w_clusters.drop(['level_0', 'index'], axis = 1)\n\ndb_w_clusters.head()","d7f08816":"import seaborn as sns\n\nplt.subplots(figsize = (15,5))\n\nsns.countplot(x=db_w_clusters['clusters_pred'],order=db_w_clusters['clusters_pred'].value_counts().index,hue=db_w_clusters['Movies'])\nplt.show() ","50c8fe87":"db_gr = db_w_clusters.groupby('clusters_pred').mean()\ndb_gr","53d03d91":"for col in db_gr.columns:\n    plt.subplots(figsize = (15,5))\n    sns.countplot(x=db_w_clusters['clusters_pred'],order=db_w_clusters['clusters_pred'].value_counts().index,hue=db_w_clusters[col])\n    plt.show() ","56500c96":"All good, now we have our database as follows:","24078d47":"# Conclusions:\n\nSo we can notice that cluster 0 has quite a dislike for horror movies; comedy is at high levels for everyone. Sci-fi genre is loved especially in cluster 3, animated movies and fantasies seem to be the favourite genres for clusters 0 and 3, while westerns seem to be disliked in all clusters, but especially in cluster 0.\n\nHowever, this analysis would not be interesting if we didn't have a look at clusters for both movies and phobias, this was its main purpose.\n\n\nCluster 0 seem to be enjoying the romantic, animated and fantasy movies a lot,dislikes horrors and seems to fear spiders, dogs and snakes.\n\nThe fear of ageing, of heights, storms or flying don't seem like really valid fears for none of the groups.\n","51b73253":"Let's see if there are any missings:","d36469bd":"Not a very specific point, it seems between 3 and 5, I will go with 4 clusters.","635b5738":"**The Young People Survey database has a very large amount of information about music tastes, movies, habits of young people. Out of these elements I thought it would be interesting to see if I could identify clusters using movie preferences and phobias people might have.\nMost of the variables are answers to questions about a particular subject in which the respondent had to choose between 1 and 5, 1 being the lowest level the respondent agrees with a statement and 5 the highest.\nSince most of the variables are categorical I used KModes to make the clusters.**","2e94a3de":"Yes, there are missings so I'll replace them with the median value, using sklearn's Imputer:","1c08a305":"Next step is to see how many clusters I would need; I'm checking between 1 and 10 clusters: ","c51972f7":"Now that the clusters are well defined (from 0 to 3) let's have a look at them.\nFirstly, let's see how are the movie lovers distributed in each cluster.","3e620834":"There is a fairly large amount of variables so the first thing to do is have a look at all of them and keep the ones I'm interested in into a new database.","778db9d0":"It seems all groups of people are people enjoying to watch movies.\nLet's see a bit if there are differences between clusters in terms of what they like to watch:","e3070b3b":"Firstly, I'm reading all the database.","edefc236":"Checking again the missings:"}}