{"cell_type":{"3034a5e9":"code","00abac0e":"code","a573bba6":"code","28832f70":"code","4efa1da1":"code","b43057b1":"code","937743e0":"code","c23b9fc5":"code","8af8eb21":"code","654e543c":"code","cda63a72":"code","84d21b42":"code","a2a7f8f5":"markdown","d2c19dfd":"markdown","c886dce2":"markdown","79cdece7":"markdown","1812d06e":"markdown","941a4922":"markdown","1d830e7b":"markdown","62decb25":"markdown","5a3818d0":"markdown","d479d4d9":"markdown"},"source":{"3034a5e9":"# packages\nimport numpy as np\nimport pandas as pd\n\nimport matplotlib.pyplot as plt","00abac0e":"# load data \/ preview\ndf = pd.read_csv('..\/input\/google-trends-dataset\/trends.csv')\ndf.head(10)","a573bba6":"# eval distributions\nfeatures_general = ['year','location', 'query', 'category','rank']\n\nfor f in features_general:\n    print(df[f].value_counts())\n    # plot top 25\n    plt.figure(figsize=(10,4))\n    df[f].value_counts()[0:25].plot(kind='bar')\n    plt.title(f)\n    plt.grid()\n    plt.show()","28832f70":"print(df.location.unique().tolist())","4efa1da1":"print(df['category'].value_counts()[0:100].index.tolist())","b43057b1":"print(df['query'].value_counts()[0:100].index.tolist())","937743e0":"# filter specific region\nsel_region = 'United States'\ndf_filter = df[df.location==sel_region]","c23b9fc5":"features = ['year','category','query']\n\nfor f in features:\n    plt.figure(figsize=(10,4))\n    df_filter[f].value_counts()[0:25].plot(kind='bar')\n    plt.title('Location = ' + sel_region + ' \/ ' + f)\n    plt.grid()\n    plt.show()","8af8eb21":"# filter specific year\nsel_year = 2020\ndf_filter = df[df.year==sel_year]","654e543c":"features = ['location', 'category', 'query']\n\nfor f in features:\n    plt.figure(figsize=(10,4))\n    df_filter[f].value_counts()[0:25].plot(kind='bar')\n    plt.title('Year = ' + str(sel_year) + ' \/ ' + f)\n    plt.grid()\n    plt.show()","cda63a72":"sel_year = 2020\nsel_location = 'United States'\nsel_category = 'People'\n\ndf[(df.year==sel_year) & (df.category==sel_category) & (df.location==sel_location)]","84d21b42":"global_top_5_2020 = df[(df.year==2020) & (df.location=='Global')]\nglobal_top_5_2020 = global_top_5_2020.drop(['location','year'], axis=1)\nglobal_top_5_2020","a2a7f8f5":"### Top 100 queries","d2c19dfd":"### All Locations","c886dce2":"<a id='4'><\/a>\n# Top 5 for (year\/location\/category)","79cdece7":"<a id='1'><\/a>\n# General EDA","1812d06e":"<a id='2'><\/a>\n# Filter specific region","941a4922":"#### Ok, we always have rank 1 to 5...","1d830e7b":"### Top 100 categories","62decb25":"<a id='5'><\/a>\n# Global Top 5 for 2020 by category","5a3818d0":"# Table of Contents\n* [General EDA](#1)\n* [Filter specific region](#2)\n* [Filter specific year](#3)\n* [Top 5 for (year\/location\/category)](#4)\n* [Global Top 5 for 2020 by category](#5)\n","d479d4d9":"<a id='3'><\/a>\n# Filter specific year"}}