{"cell_type":{"68b77a9d":"code","79421927":"code","7e37e393":"code","64e77fbf":"code","1d4b2d5c":"code","26b70520":"code","de346a53":"code","fdd3dd7b":"code","9cd4c1db":"code","651dc897":"code","edd0fed8":"code","1e3e4bd6":"code","f4c974c0":"code","0b133ad8":"code","fe0819dc":"code","08724b17":"code","3410f2c8":"code","7d550c07":"code","5cc0f916":"code","b4fb6c34":"code","b93b93c9":"code","3ca1134c":"code","175654da":"code","50925dc9":"code","011e2899":"code","35e03f6c":"code","e8ddd027":"code","c29495f0":"code","226289a2":"code","7d2eee8c":"code","ccae78b7":"code","68efdae7":"code","d93dd82d":"code","ee79732e":"code","13ca72b1":"code","87bd4cb2":"code","e8a6e8d4":"code","e7afa0c9":"code","f1cfbb89":"markdown","71b7daf8":"markdown","c4a10c0f":"markdown","2e33cbf9":"markdown","e250c3fc":"markdown","9910762d":"markdown","213daaa9":"markdown","1e68d34e":"markdown","23804c2c":"markdown","70e577af":"markdown"},"source":{"68b77a9d":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.metrics import accuracy_score, confusion_matrix, classification_report, plot_confusion_matrix\nfrom sklearn.metrics import precision_recall_curve, plot_precision_recall_curve, plot_roc_curve\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn import tree\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.svm import SVC\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.ensemble import VotingClassifier\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn import metrics\nimport matplotlib.image as pltimg\n%matplotlib inline\nfrom sklearn.decomposition import PCA\nfrom sklearn.datasets import load_breast_cancer","79421927":"df = pd.read_csv(r'\/kaggle\/input\/heart-failure-prediction\/heart.csv')","7e37e393":"df.head()","64e77fbf":"df.info()","1d4b2d5c":"df.describe()","26b70520":"df.shape","de346a53":"print(df['Sex'].unique())\nprint(df['ChestPainType'].unique())\nprint(df['RestingECG'].unique())\nprint(df['ExerciseAngina'].unique())\nprint(df['ST_Slope'].unique())","fdd3dd7b":"df['Sex'].value_counts()\nsns.countplot(data=df, x='Sex')","9cd4c1db":"df['ChestPainType'].value_counts()\nsns.countplot(data=df, x='ChestPainType')","651dc897":"df['RestingECG'].value_counts()\nsns.countplot(data=df, x='RestingECG')","edd0fed8":"df['ExerciseAngina'].value_counts()\nsns.countplot(data=df, x='ExerciseAngina')","1e3e4bd6":"df['ST_Slope'].value_counts()\nsns.countplot(data=df, x='ST_Slope')","f4c974c0":"df.isnull().sum()","0b133ad8":"df = pd.get_dummies(df, columns = ['Sex','ChestPainType','RestingECG','ExerciseAngina','ST_Slope'])\nprint(df)","fe0819dc":"df.corr()['HeartDisease'].sort_values()","08724b17":"plt.figure(figsize=(16,9))\nsns.heatmap(df.corr(), annot=True,cmap=\"coolwarm\")","3410f2c8":"#checking for outliers\nplt.figure(figsize=(20,15))\n\nfor i in range(6):\n  plt.subplot(2,3, i+1)\n  sns.boxplot(data=df, x='HeartDisease', y=df[df.columns[i]])","7d550c07":"sns.pairplot(data=df, hue ='HeartDisease')","5cc0f916":"X = df.drop('HeartDisease', axis = 1)\ny = df['HeartDisease']","b4fb6c34":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.1, random_state=101)","b93b93c9":"scaler=StandardScaler()\nscaler.fit(X_train)","3ca1134c":"scaled_X = scaler.fit_transform(df)","175654da":"model = PCA(n_components=2)","50925dc9":"principal_components = model.fit_transform(scaled_X)","011e2899":"plt.figure(figsize=(8,6))\nplt.scatter(principal_components[:,0],principal_components[:,1])\nplt.xlabel('First principal component')\nplt.ylabel('Second Principal Component')","35e03f6c":"plt.figure(figsize=(8,6))\nplt.scatter(principal_components[:,0],principal_components[:,1],c=df['HeartDisease'])\nplt.xlabel('First principal component')\nplt.ylabel('Second Principal Component')","e8ddd027":"model.n_components","c29495f0":"model.components_","226289a2":"df_comp = pd.DataFrame(model.components_,index=['PC1','PC2'],columns=df.columns)","7d2eee8c":"df_comp","ccae78b7":"plt.figure(figsize=(20,3),dpi=150)\nsns.heatmap(df_comp,annot=True)","68efdae7":"model.explained_variance_ratio_","d93dd82d":"np.sum(model.explained_variance_ratio_)","ee79732e":"#for all component\npca_12 = PCA(n_components=12)\npca_12.fit(scaled_X)","13ca72b1":"pca_30.explained_variance_ratio_","87bd4cb2":"np.sum(pca_12.explained_variance_ratio_)","e8a6e8d4":"explained_variance = []\n\nfor n in range(1,12):\n    pca = PCA(n_components=n)\n    pca.fit(scaled_X)\n    \n    explained_variance.append(np.sum(pca.explained_variance_ratio_))","e7afa0c9":"plt.plot(range(1,12),explained_variance)\nplt.xlabel(\"Number of Components\")\nplt.ylabel(\"Variance Explained\");","f1cfbb89":"# Import and print the dataset","71b7daf8":"# How to Choose n-components?","c4a10c0f":"# Model Implementation","2e33cbf9":"# Exploratory Data Analysis","e250c3fc":"# Calculating the Explained Variance by the Component","9910762d":"# Component","213daaa9":"# One-Hot Encoding","1e68d34e":"# Missing Values","23804c2c":"# Split Data into train,test","70e577af":"# Normalization Data"}}