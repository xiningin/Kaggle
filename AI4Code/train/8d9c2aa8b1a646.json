{"cell_type":{"b4a6f56b":"code","0920da62":"code","63d987a2":"code","ffdd22c6":"code","6c28d8f8":"code","ca23d984":"code","71a9246f":"code","5082bf32":"code","afe15c4c":"code","8794e6f6":"code","b023fa42":"code","ab9cd7ee":"code","6e0419da":"code","dfe1fdda":"code","cb9d52bf":"markdown","a5b6fe1a":"markdown","c74cb66d":"markdown","0efbeed5":"markdown","f8633ed7":"markdown","cebcf521":"markdown","463cef16":"markdown","da2340e6":"markdown","93a7a353":"markdown","010e18ee":"markdown","421824f4":"markdown","5123ff57":"markdown"},"source":{"b4a6f56b":"#Import the libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as ticker\nimport seaborn as sns\nimport datetime as dt\n\n#set style sheet\nsns.set_style('darkgrid')","0920da62":"#Loading datasets\ndf = pd.read_csv('..\/input\/steam-player-data\/Valve_Player_Data.csv')\nprint(f'Count columns of dataset: {len(df.columns)}')\nprint(f'Count rows of dataset: {len(df)}')\ndf.head()","63d987a2":"df.info()","ffdd22c6":"#Display rows with one or more NaN values in datasets\ndf[df.isna().any(axis=1)]","6c28d8f8":"#Drop NA\ndf = df.dropna()","ca23d984":"cyberpunk = df[df['Game_Name'] == 'Cyberpunk 2077'].sort_values(by=\"Date\")","71a9246f":"# Show average and peak players of game 'Cyberpunk 2077'\nplt.figure(figsize=(18,6))\nplt.subplot(1, 2, 1)\nsns.lineplot(data=cyberpunk,  x=\"Month_Year\", y=\"Peak_Players\")\nplt.xticks(rotation=90)\nplt.title('Peak Player of Cyberpunk 2077')\n\nplt.subplot(1, 2, 2)\nsns.lineplot(data=cyberpunk,  x=\"Month_Year\", y=\"Avg_players\")\nplt.xticks(rotation=90)\nplt.title('Average players of Cyberpunk 2077')\n","5082bf32":"#Back up\ndf2 = df","afe15c4c":"#Change dtype:object from column 'Date' to dtype:datetime then we can use library datetime\ndf2['Date'] = pd.to_datetime(df2['Date'])\n\n#Filter year\ndf2_2021 = df2[df2['Date'].dt.year == 2021]","8794e6f6":"# Filter top 10 game with highest peak player\ntop10_peak_2021 = df2_2021[['Game_Name', 'Peak_Players']].groupby('Game_Name') \\\n                                                                    .sum() \\\n                                                                    .sort_values('Peak_Players', ascending=False) \\\n                                                                    .head(10)\n# Filter top 10 game with highest average player\ntop10_avg_2021 = df2_2021[['Game_Name', 'Avg_players']].groupby('Game_Name') \\\n                                                                    .sum() \\\n                                                                    .sort_values('Avg_players', ascending=False) \\\n                                                                    .head(10)","b023fa42":"# Subplot\nfig, axes = plt.subplots(2, figsize=(10, 12))\nfig.suptitle('Top 10 Game in 2021')\n\n# Show Peak Player\nsns.barplot(ax=axes[0], data=top10_peak_2021, x='Peak_Players', y=top10_peak_2021.index)\n# Format expo to number format and set labels\naxes[0].xaxis.set_major_formatter(ticker.FuncFormatter(lambda x, pos: '{:,.2f}'.format(x\/1000) + 'K'))\naxes[0].set(title='Highest peak players', xlabel='Peak Players', ylabel='Game Name')\n\n# Show Avg Player\nsns.barplot(ax=axes[1], data=top10_avg_2021, x='Avg_players', y=top10_avg_2021.index)\n# Format expo to number format and set labels\naxes[1].xaxis.set_major_formatter(ticker.FuncFormatter(lambda x, pos: '{:,.2f}'.format(x\/1000) + 'K'))\naxes[1].set(title='Highest average players', xlabel='Average Players', ylabel='Game Name')","ab9cd7ee":"top10 = df2[df2['Game_Name'].isin(top10_avg_2021.index)]\ntop10.head()","6e0419da":"top10 =top10.sort_values(by=\"Date\")","dfe1fdda":"# Subplot\nfig, axes = plt.subplots(2, figsize=(20, 18))\nfig.suptitle('Average Player By Month')\n\nsns.lineplot(ax=axes[0], data=top10, x='Date', y='Avg_players', hue='Game_Name')\naxes[0].yaxis.set_major_formatter(ticker.FuncFormatter(lambda x, pos: '{:,.2f}'.format(x\/1000) + 'K'))\naxes[0].tick_params(axis='x', rotation=90)\naxes[0].set(ylabel='Avg Player')\n\n# log\nsns.lineplot(ax=axes[1], data=top10, x='Date', y='Avg_players', hue='Game_Name')\naxes[1].tick_params(axis='x', rotation=90)\naxes[1].set(ylabel='Avg Player (log)', yscale='log')","cb9d52bf":"Reference Guide:\n- [format axis tick labels](https:\/\/stackoverflow.com\/questions\/53747298\/how-to-format-seaborn-matplotlib-axis-tick-labels-from-number-to-thousands-or-mi)\n- [set labels](https:\/\/stackoverflow.com\/questions\/31632637\/label-axes-on-seaborn-barplot)","a5b6fe1a":"<img src=\"https:\/\/s.isanook.com\/ga\/0\/ud\/216\/1082497\/steam.jpg\">","c74cb66d":"# TOP 10 GAME IN 2021 <a id=\"TOP10\"><\/a>","0efbeed5":"According to the graph, average PUBG players increased exponentially between 2017 and 2018. After 2018, The average PUBG player steadily declined. In contrast, the average Dota2 and CSGO player is increasing linearly. Since 2015, the average Dota2 and CSGO player has been constant. Covid-19 scenario in early 2020 keeping everyone at home increased the number of players significantly.","f8633ed7":"# TABLE OF CONTENTS\n* [IMPORT LIBRARIES](#IMPORTLIBRARIES)\n* [DATA VISUALIZATION](#DATAVISUALIZATION)\n    * [CYBERPUNK2077](#CYBERPUNK2077)\n    * [TOP 10 Game IN 2021](#TOP10)\n    * [AVERAGE PLAYER BY MONTH](#AVGPLAYER)","cebcf521":"We can observe that games rank 1 to 9 for both 'Average' and 'Peak' players are the same. There is only one difference in the last ranking.","463cef16":"Reference Guide:\n* [subplot](https:\/\/matplotlib.org\/stable\/api\/_as_gen\/matplotlib.pyplot.subplot.html)\n* [figure](https:\/\/matplotlib.org\/stable\/api\/_as_gen\/matplotlib.pyplot.figure.html)","da2340e6":"As you may know Cyberpunk2077, which was released in early 2021, Had a lot of bug and negative feedback. According to the graph, The average player in Cyberpunk2077 is decreasing exponentially between January and February 2021.","93a7a353":"# IMPORT LIBRARIES <a id=\"IMPORTLIBRARIES\"><\/a>","010e18ee":"## Cyberpunk 2077 <a id=\"CYBERPUNK2077\"><\/a>","421824f4":"# DATA VISUALIZATION <a id=\"DATAVISUALIZATION\"><a\/>","5123ff57":"## AVERAGE PLAYER BY MONTH <a id=\"AVGPLAYER\"><\/a>"}}