{"cell_type":{"b2f57824":"code","d63857c5":"code","902e3f20":"code","19532ad2":"code","7438f621":"code","10d06978":"code","3da3b035":"code","372f5055":"code","87259939":"code","0fb05508":"code","16cdf61e":"code","d3f901de":"code","a541cd7d":"code","fb9a1bd9":"code","194dc651":"code","06e4cdec":"code","2b5d51cc":"code","bd18c659":"code","d84c422a":"code","9b21b6d4":"code","97ef30b7":"code","2f16ec24":"code","52b06f8c":"code","5eba2948":"code","295be1d9":"code","02ee0c16":"code","59cfc8cd":"code","32048c86":"code","89e28823":"code","f218f39e":"code","a73a96d6":"code","a72c082a":"code","152d62ad":"code","62f55f2e":"code","57556e9b":"code","9c99a16f":"code","b16dbb47":"code","db408de7":"code","f53d2bdf":"code","31575ed3":"code","71584c35":"code","ec9f744f":"code","bc196e7c":"code","f29e319c":"code","16f5efee":"markdown","0bb2078e":"markdown","f74d3377":"markdown","43bb3ed2":"markdown","ba9afe1d":"markdown","6f2a2a6e":"markdown","01d0bf8c":"markdown","a2d5e4b3":"markdown","a5b17031":"markdown","50de28fe":"markdown","acd94eaa":"markdown","07e3c2e8":"markdown","d800353a":"markdown","c7e31422":"markdown","383e1ec9":"markdown","685f35be":"markdown","b724c8e3":"markdown","1d9a849f":"markdown","76862bb6":"markdown","9df85e99":"markdown","9963393a":"markdown","edbc90bb":"markdown","f9de8a0e":"markdown","c93f367e":"markdown","662e3781":"markdown","1bdc970c":"markdown","602d9056":"markdown","7dcc5a0e":"markdown","aee9ff91":"markdown","246f87bc":"markdown","f396ae81":"markdown","390ac7c6":"markdown","3490bf29":"markdown","204102f7":"markdown","bcf0597b":"markdown","21d79ea2":"markdown","568c175b":"markdown","ec590deb":"markdown","8121a09c":"markdown","84466034":"markdown","a49f3db7":"markdown","e708be84":"markdown","e01480d6":"markdown"},"source":{"b2f57824":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d63857c5":"df = pd.read_csv('..\/input\/ckdisease\/kidney_disease.csv')","902e3f20":"df.shape","19532ad2":"df.info()","7438f621":"df.head().T","10d06978":"import numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","3da3b035":"cols_names={\"bp\":\"blood_pressure\",\n          \"sg\":\"specific_gravity\",\n          \"al\":\"albumin\",\n          \"su\":\"sugar\",\n          \"rbc\":\"red_blood_cells\",\n          \"pc\":\"pus_cell\",\n          \"pcc\":\"pus_cell_clumps\",\n          \"ba\":\"bacteria\",\n          \"bgr\":\"blood_glucose_random\",\n          \"bu\":\"blood_urea\",\n          \"sc\":\"serum_creatinine\",\n          \"sod\":\"sodium\",\n          \"pot\":\"potassium\",\n          \"hemo\":\"haemoglobin\",\n          \"pcv\":\"packed_cell_volume\",\n          \"wc\":\"white_blood_cell_count\",\n          \"rc\":\"red_blood_cell_count\",\n          \"htn\":\"hypertension\",\n          \"dm\":\"diabetes_mellitus\",\n          \"cad\":\"coronary_artery_disease\",\n          \"appet\":\"appetite\",\n          \"pe\":\"pedal_edema\",\n          \"ane\":\"anemia\"}\n\ndf.rename(columns=cols_names, inplace=True)","372f5055":"print(f\"So we have {df.shape[1]} columns and {df.shape[0]} instances\")","87259939":"df.head().T","0fb05508":"df.info()","16cdf61e":"df['red_blood_cell_count'] = pd.to_numeric(df['red_blood_cell_count'], errors='coerce')\ndf['packed_cell_volume'] = pd.to_numeric(df['packed_cell_volume'], errors='coerce')\ndf['white_blood_cell_count'] = pd.to_numeric(df['white_blood_cell_count'], errors='coerce')\n","d3f901de":"df.drop([\"id\"],axis=1,inplace=True) ","a541cd7d":"df.isnull().sum().sort_values(ascending=False)","fb9a1bd9":"((df.isnull().sum()\/df.shape[0])*100).sort_values(ascending=False).plot(kind='bar', figsize=(10,10))","194dc651":"for i in df.columns:\n    print(f'{i} : {df[i].nunique()} values')","06e4cdec":"numerical_features = []\ncategorical_features = []\n\nfor i in df.columns:\n    if df[i].nunique()>7:\n        numerical_features.append(i)\n    else:\n        categorical_features.append(i)","2b5d51cc":"print('Numerical features: ', numerical_features)\nprint('\\nCategorical features: ', categorical_features)","bd18c659":"for feats in categorical_features:\n    print(f'{feats} has {df[feats].unique()} categories.\\n')","d84c422a":"#Replace incorrect values\ndf['diabetes_mellitus'] = df['diabetes_mellitus'].replace(to_replace = {'\\tno':'no','\\tyes':'yes',' yes':'yes'})\ndf['coronary_artery_disease'] = df['coronary_artery_disease'].replace(to_replace = '\\tno', value='no')\ndf['classification'] = df['classification'].replace(to_replace = 'ckd\\t', value = 'ckd')","9b21b6d4":"for feats in categorical_features:\n    print(f'{feats} has {df[feats].unique()} categories.\\n')","97ef30b7":"fig, axes = plt.subplots(nrows=4, ncols=3, figsize=(15,15))\nfig.subplots_adjust(hspace=0.5)\nfig.suptitle('Distributions of numerical Features')\n\n\nfor ax, feats in zip(axes.flatten(), numerical_features):\n    sns.distplot(a=df[feats], ax=ax)","2f16ec24":"fig, axes = plt.subplots(nrows=5, ncols=3, figsize=(15,15))\nfig.subplots_adjust(hspace=0.5)\nfig.suptitle('Distributions of categorical Features')\n\n\nfor ax, feats in zip(axes.flatten(), categorical_features):\n    sns.countplot(df[feats], ax=ax)","52b06f8c":"sns.countplot(x='classification',data=df)\nplt.xlabel(\"classification\")\nplt.ylabel(\"Count\")\nplt.title(\"target Class\")\nplt.show()\nprint('Percent of chronic kidney disease sample: ',round(len(df[df['classification']=='ckd'])\/len(df['classification'])*100,2),\"%\")\nprint('Percent of not a chronic kidney disease sample: ',round(len(df[df['classification']=='notckd'])\/len(df['classification'])*100,2),\"%\")","5eba2948":"corr_df = df.corr()\nf,ax=plt.subplots(figsize=(15,15))\nmask = np.zeros_like(corr_df)\nmask[np.triu_indices_from(mask)] = True\nsns.heatmap(corr_df,annot=True,fmt=\".2f\",ax=ax,linewidths=0.5,linecolor=\"orange\", mask = mask, square=True)\nplt.xticks(rotation=45)\nplt.yticks(rotation=45)\nplt.title('Correlations between different predictors')\nplt.show()","295be1d9":"import plotly.express as px","02ee0c16":"# Defining violin and scatter plot functions\ndef violin(col):\n    fig = px.violin(df, y=col, x=\"classification\", color=\"classification\", box=True, points=\"all\", hover_data=df.columns)\n    return fig.show()\n\ndef scatters(col1,col2):\n    fig = px.scatter(df, x=col1, y=col2, color=\"classification\")\n    fig.show()","59cfc8cd":"scatters('red_blood_cell_count', 'packed_cell_volume')","32048c86":"scatters('red_blood_cell_count', 'haemoglobin')","89e28823":"scatters('haemoglobin','packed_cell_volume')","f218f39e":"violin('red_blood_cell_count')","a73a96d6":"violin('packed_cell_volume')","a72c082a":"violin('haemoglobin')","152d62ad":"violin('serum_creatinine')","62f55f2e":"scatters('red_blood_cell_count','albumin')","57556e9b":"scatters('packed_cell_volume','blood_urea')","9c99a16f":"scatters('haemoglobin','blood_urea')","b16dbb47":"scatters('red_blood_cell_count','packed_cell_volume')","db408de7":"fig = px.bar(df, x=\"specific_gravity\", y=\"packed_cell_volume\",\n             color='classification', barmode='group',\n             height=400)\nfig.show()","f53d2bdf":"scatters('serum_creatinine','sodium')","31575ed3":"import missingno as msno","71584c35":"%matplotlib inline","ec9f744f":"fig = msno.matrix(df)","bc196e7c":"msno.heatmap(df[numerical_features])","f29e319c":"msno.bar(df)","16f5efee":"So we need to correct 2 features and the target variable which contain certain discrepancy in some values.","0bb2078e":"## 2. Feature description","f74d3377":"# 3. Rename the columns to have meaningful names and checking dtypes","43bb3ed2":"# 8. Summary:\n1. A lot of features have missing values, which will be imputed smartly in my next notebook dedicated specially to pre-processing.\n2. Categorical features are in majority which will be label encoded.\n3. A few features are skewed a bit that will be standardized and fixed.\n4. The features which have the max impact on output are Haemoglobin, Albumin, red_blood_cell_count\n5. Features like packed_cell_volume, serum_creatinine, urea, haemoglobin have a strong correlation with the output classes.\n6. I'll also be trying out different ways to get max performance out of the available data.","ba9afe1d":"One outlier seems to be there. But can't assert that it really is an outlier. Hence won't drop","6f2a2a6e":"Now, let's check the label distribution for categorical data","01d0bf8c":"Let's also check for class imbalance, if any","a2d5e4b3":"A few features have imbalanced categories. Stratified folds will be necessary while cross validation.","a5b17031":"# 4. Checking missing values","50de28fe":"## 7.2 Now let's check for negative correlation and its impact on classes","acd94eaa":"Let's drop the id column. id column is seems to be an unique identifier for each row so we are dropping that it won't help us to find any insights from the data","07e3c2e8":"Evidently, the classes are not much imbalanced.","d800353a":"Packed cell volume >= 40 largely affects to be non ckd","c7e31422":"## 1. Features:\n\n1. **age**\t\t-\tage\n1. **bp**\t\t-\tblood pressure\n1. **sg**\t\t-\tspecific gravity\n1. **al**\t\t-   \talbumin\n1. **su**\t\t-\tsugar\n1. **rbc**\t\t-\tred blood cells\n1. **pc**\t\t-\tpus cell\n1. **pcc**\t\t-\tpus cell clumps\n1. **ba**\t\t-\tbacteria\n1. **bgr**\t\t-\tblood glucose random\n1. **bu**\t\t-\tblood urea\n1. **sc**\t\t-\tserum creatinine\n1. **sod**\t\t-\tsodium\n1. **pot**\t\t-\tpotassium\n1. **hemo**\t\t-\thaemoglobin\n1. **pcv**\t\t-\tpacked cell volume\n1. **wc**\t\t-\twhite blood cell count\n1. **rc**\t\t-\tred blood cell count\n1. **htn**\t\t-\thypertension\n1. **dm**\t\t-\tdiabetes mellitus\n1. **cad**\t\t-\tcoronary artery disease\n1. **appet**\t\t-\tappetite\n1. **pe**\t\t-\tpedal edema\n1. **ane**\t\t-\tanemia\n1. **classification**\t\t-\tclass","383e1ec9":"Very evidently, sodium above 135 and serum creatinine less than 1.3 are non ckd","685f35be":"# 7. Correlations","b724c8e3":"# 6. Checking features distribution","1d9a849f":"### Negative Correlation:\n1. Albumin, Blood urea -> Red blood cell count, packed cell volume, Hemoglobin\n2. Serum creatinine -> Sodium","76862bb6":"Let's check for unique values in categorical features:","9df85e99":"### Observations:\n1. age looks a bit left skewed\n2. Blood gluscose random is right skewed\n3. Blood Urea is also a bit right skewed\n4. Rest of the features are lightly skewed. \n>I will be standardizing them in pre processing notebook to see their distributions then.","9963393a":"## 7.1 Let's check for Positive correlation and its impact on classes","edbc90bb":"1. Features\n2. Feature Descriptions\n3. Renaming the columns \n4. Checking missing values\n5. Unique values \n6. Fatures distribution\n7. Correlations\n>7.1 Positive Correlations\n>7.2 Negative Correlations\n8. Summary","f9de8a0e":"# Overview","c93f367e":"Clearly, albumin levels of above 0 affect ckd largely","662e3781":"Evident that there are a lot of missing values. One very bad way would be to drop them. But I would be dealing with them in a smart way in my next notebook on Preprocessing. ;)","1bdc970c":"# 5. Checking for Unique values and categorical features","602d9056":"Looks good now apart from the NaNs","7dcc5a0e":"As it can be seen, red_blood_cell_count, packed_cell_volume and white_blood_cell_count are object type. We need to change to numerical dtype.","aee9ff91":"# Chronic Kidney Disease EDA","246f87bc":"# Liked it? Please upvote ! :)","f396ae81":"## Observations:\n1. RBC count range ~2 to <4.5 and Hemoglobin between 3 to <13 are mostly classified as positive for chronic kidney disease(i.e ckd).\n2. RBC count range >4.5 to ~6.1 and Hemoglobin between >13 to 17.8 are classified as negative for chronic kidney disease(i.e nockd).\n3. Hemoglobin > 13, mostly classified as not ckd","390ac7c6":"1. The Chronic Kidney Disease Dataset consists of 24 features and one target variable. \n2. It is a **binary classification** problem\n3. The numerical features include: 'age', 'blood_pressure', 'blood_glucose_random', 'blood_urea', 'serum_creatinine', 'sodium', 'potassium', 'hemoglobin', 'packed_cell_volume', 'white_blood_cell_count', 'red_blood_cell_count'\n\n4. The categorical features include: 'specific_gravity', 'albumin', 'sugar', 'red_blood_cells', 'pus_cell', 'pus_cell_clumps', 'bacteria', 'hypertension', 'diabetes_mellitus', 'coronary_artery_disease', 'appetite', 'pedal_edema', 'anemia', 'classification'\n\n5. In this notebook, I present to you my exploration of this data. I have not done any pre processing yet. That will be coming up in my next notebook.","3490bf29":"### Positive Correlation:\n1. Specific gravity -> Red blood cell count, Packed cell volume and Hemoglobin\n2. Sugar -> Blood glucose random\n3. Blood Urea -> Serum creatinine\n4. Hemoglobin -> Red Blood cell count <- packed cell volume","204102f7":"### Sodium and serum_creatinine","bcf0597b":"1. Age(numerical) --> age in years\n1. Blood Pressure(numerical) bp in mm\/Hg\n1. Specific Gravity(nominal) sg - (1.005,1.010,1.015,1.020,1.025)\n1. Albumin(nominal)al - (0,1,2,3,4,5)\n1. Sugar(nominal) su - (0,1,2,3,4,5)\n1. Red Blood Cells(nominal) rbc - (normal,abnormal)\n1. Pus Cell (nominal)pc - (normal,abnormal)\n1. Pus Cell clumps(nominal)pcc - (present,notpresent)\n1. Bacteria(nominal) ba  - (present,notpresent)\n1. Blood Glucose Random(numerical) bgr in mgs\/dl\n1. Blood Urea(numerical) bu in mgs\/dl\n1. Serum Creatinine(numerical) sc in mgs\/dl\n1. Sodium(numerical) sod in mEq\/L\n1. Potassium(numerical)\tpot in mEq\/L\n1. Haemoglobin(numerical) hemo in gms\n1. Packed  Cell Volume(numerical)\n1. White Blood Cell Count(numerical) wc in cells\/cumm\n1. Red Blood Cell Count(numerical) rc in millions\/cmm\n1. Hypertension(nominal) htn - (yes,no)\n1. Diabetes Mellitus(nominal) dm - (yes,no)\n1. Coronary Artery Disease(nominal)\tcad - (yes,no)\n1. Appetite(nominal) ppet\t - (good,poor)\n1. Pedal Edema(nominal)\tpe - (yes,no)\t\n1. Anemia(nominal)ane\t- (yes,no)\n1. Class (nominal) class\t - (ckd,notckd)","21d79ea2":"Let's first check distribution of the numerical features","568c175b":"These seem to be good","ec590deb":"Serum creatinine has got about 2 seemingly outliers","8121a09c":"### Albumin, Blood urea -> Red blood cell count, packed cell volume, Haemoglobin","84466034":"Clearly, specific gravity >=1.02 affects non ckd","a49f3db7":"# Content","e708be84":"Let's also plot missing values percentage for all the features","e01480d6":"# **Please upvote if you like my work! :)**"}}