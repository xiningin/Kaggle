{"cell_type":{"10c78856":"code","5da895ff":"code","fe38af38":"code","b1e3aaae":"code","417b0595":"code","677dea00":"code","4756c3fa":"code","afc56fd2":"code","7f1652f5":"code","0d25c4d3":"code","7a78b678":"code","a67bd294":"code","f3724934":"code","e00fa0c4":"code","535d0895":"code","b4e72173":"code","c5ae0b60":"code","831f0cd7":"code","204fb5b2":"code","bf95bf9a":"code","67d8826d":"markdown","367e3e8b":"markdown","ebfcb0d4":"markdown","223161a8":"markdown","15ec6b3c":"markdown","7229de89":"markdown","29081fea":"markdown","054de592":"markdown","1b1419eb":"markdown","7c0d3e62":"markdown","f77af30d":"markdown","2704d99c":"markdown","c9b824af":"markdown","bec0c78f":"markdown","4ab14419":"markdown"},"source":{"10c78856":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns# for data viz.\nimport geopandas\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","5da895ff":"nyc_airbnb=pd.read_csv('\/kaggle\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')# accessing the csv file","fe38af38":"print(nyc_airbnb.shape)\nnyc_airbnb.head(8)","b1e3aaae":"#checking DataType of every column in the dataset\nnyc_airbnb.dtypes\n","417b0595":"numeric_nyc_airbnb=nyc_airbnb._get_numeric_data().columns# to Extract the names of columns that are Numeric\n\ncat_nyc_airbnb=set(nyc_airbnb.columns)-set(numeric_nyc_airbnb) # To Extract the names of columns that are Categorical\n","677dea00":"# to findout number of null values in Each column and suming their count\nnyc_airbnb.isnull().sum()","4756c3fa":"num_nyc_airbnb=nyc_airbnb._get_numeric_data()\n#print(num_nyc_airbnb.head())\n","afc56fd2":"num_nyc_airbnb.replace([np.inf, -np.inf], np.nan).dropna(axis=1)# replaced all values of Infinity with Nan\n\n# print(num_nyc_airbnb.dtypes)# checking datatypes of  numeric columns\n\n# print(\"------------------------------------------------\")\n# print(num_nyc_airbnb.isnull().sum()) # This shows that oly reviews_per_month had missing values so we have to fill it up\n\n#replacing all NaN values in 'reviews_per_month' with 0\nnum_nyc_airbnb.fillna({'reviews_per_month':0}, inplace=True)\n#examing changes\n# print(\"------------------------------------------------\")\n# print(num_nyc_airbnb.reviews_per_month.isnull().sum()) # so we have removed all the Nan Values\n","7f1652f5":"plt.figure(figsize=(10,10))\nax = sns.countplot(nyc_airbnb[\"neighbourhood_group\"])","0d25c4d3":"plt.figure(figsize=(10,10))\nax = sns.countplot(nyc_airbnb['neighbourhood_group'],hue=nyc_airbnb['room_type'])\n# here hue parameter will give us 3 diffrent colors","7a78b678":"#Brooklyn\nsub_1=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Brooklyn') & (nyc_airbnb['room_type']=='Shared room')]\nprice_sub1=num_nyc_airbnb['price'].iloc[sub_1.index]# prices for Neighbourhood group having Brooklyn\n\n\n#Bronx\nsub_2=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Bronx') & (nyc_airbnb['room_type']=='Shared room')]\nprice_sub2=num_nyc_airbnb['price'].iloc[sub_2.index]# prices for Neighbourhood group having Bronx\n\n#Staten Island\nsub_3=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Staten Island') & (nyc_airbnb['room_type']=='Shared room')]\nprice_sub3=num_nyc_airbnb['price'].iloc[sub_3.index]# prices for Neighbourhood group having Staten Island\n\n#Queens\nsub_4=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Queens') & (nyc_airbnb['room_type']=='Shared room')]\nprice_sub4=num_nyc_airbnb['price'].iloc[sub_4.index]# prices for Neighbourhood group having Queens\n\n\n#Manhattan\nsub_5=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Manhattan') & (nyc_airbnb['room_type']=='Shared room')]\nprice_sub5=num_nyc_airbnb['price'].iloc[sub_5.index]# prices for Neighbourhood group having Manhattan\n\n\npercentile_price_brooklyn=[]#percentile of prices for Private rooms near brooklyn\n\npercentile_price_Bronx=[]#percentile of prices for Private rooms near Bronx\n\npercentile_price_Staten_Island=[] #percentile of prices for Private rooms near Staten Island\n\npercentile_price_Queens=[] #percentile of prices for accomodations near Queens\n\npercentile_price_Manhattan=[] #percentile of prices for accomodations near Manhattan\n\n\npercentiles=[]# percentiles\nfor i in range(25,91):\n    percentile_price_brooklyn.append(int(price_sub1.quantile(i\/100)))\n    percentile_price_Bronx.append(int(price_sub2.quantile(i\/100)))\n    percentile_price_Staten_Island.append(int(price_sub3.quantile(i\/100)))\n    percentile_price_Queens.append(int(price_sub4.quantile(i\/100)))\n    percentile_price_Manhattan.append(int(price_sub5.quantile(i\/100)))\n    percentiles.append(i)\n    \n","a67bd294":"\nplt.title('Prices of 90% Shared Rooms',fontsize=15,color='Red')\nsns.set_style(\"darkgrid\")\n\n# for i in range(2):\n\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_brooklyn),label='Brooklyn')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Bronx),label='Bronx')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Staten_Island),label='Staten Island')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Queens),label='Queens')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Manhattan),label='Manhattan')\n\nsd.set(xlabel='Percentiles', ylabel='Percentile Prices in U.S $')\n\n","f3724934":"#Brooklyn\nsub_1=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Brooklyn') & (nyc_airbnb['room_type']=='Private room')]\nprice_sub1=num_nyc_airbnb['price'].iloc[sub_1.index]# prices for Neighbourhood group having Brooklyn\n\n\n#Bronx\nsub_2=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Bronx') & (nyc_airbnb['room_type']=='Private room')]\nprice_sub2=num_nyc_airbnb['price'].iloc[sub_2.index]# prices for Neighbourhood group having Bronx\n\n#Staten Island\nsub_3=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Staten Island') & (nyc_airbnb['room_type']=='Private room')]\nprice_sub3=num_nyc_airbnb['price'].iloc[sub_3.index]# prices for Neighbourhood group having Staten Island\n\n#Queens\nsub_4=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Queens') & (nyc_airbnb['room_type']=='Private room')]\nprice_sub4=num_nyc_airbnb['price'].iloc[sub_4.index]# prices for Neighbourhood group having Queens\n\n\n#Manhattan\nsub_5=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Manhattan') & (nyc_airbnb['room_type']=='Private room')]\nprice_sub5=num_nyc_airbnb['price'].iloc[sub_5.index]# prices for Neighbourhood group having Manhattan\n\n\npercentile_price_brooklyn=[]#percentile of prices for Private rooms near brooklyn\n\npercentile_price_Bronx=[]#percentile of prices for Private rooms near Bronx\n\npercentile_price_Staten_Island=[] #percentile of prices for Private rooms near Staten Island\n\npercentile_price_Queens=[] #percentile of prices for accomodations near Queens\n\npercentile_price_Manhattan=[] #percentile of prices for accomodations near Manhattan\n\n\npercentiles=[]# percentiles\nfor i in range(25,91):\n    percentile_price_brooklyn.append(int(price_sub1.quantile(i\/100)))\n    percentile_price_Bronx.append(int(price_sub2.quantile(i\/100)))\n    percentile_price_Staten_Island.append(int(price_sub3.quantile(i\/100)))\n    percentile_price_Queens.append(int(price_sub4.quantile(i\/100)))\n    percentile_price_Manhattan.append(int(price_sub5.quantile(i\/100)))\n    percentiles.append(i)\n    \n","e00fa0c4":"\nplt.title('Prices of 90% Private Rooms',fontsize=15,color='Red')\nsns.set_style(\"darkgrid\")\n\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_brooklyn),label='Brooklyn')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Bronx),label='Bronx')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Staten_Island),label='Staten Island')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Queens),label='Queens')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Manhattan),label='Manhattan')\n\nsd.set(xlabel='Percentiles', ylabel='Percentile Prices in U.S $')\n\n","535d0895":"room_type='Entire home\/apt'\n#Brooklyn\nsub_1=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Brooklyn') & (nyc_airbnb['room_type']==room_type)]\nprice_sub1=num_nyc_airbnb['price'].iloc[sub_1.index]# prices for Neighbourhood group having Brooklyn\n\n\n#Bronx\nsub_2=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Bronx') & (nyc_airbnb['room_type']==room_type)]\nprice_sub2=num_nyc_airbnb['price'].iloc[sub_2.index]# prices for Neighbourhood group having Bronx\n\n#Staten Island\nsub_3=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Staten Island') & (nyc_airbnb['room_type']==room_type)]\nprice_sub3=num_nyc_airbnb['price'].iloc[sub_3.index]# prices for Neighbourhood group having Staten Island\n\n#Queens\nsub_4=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Queens') & (nyc_airbnb['room_type']==room_type)]\nprice_sub4=num_nyc_airbnb['price'].iloc[sub_4.index]# prices for Neighbourhood group having Queens\n\n\n#Manhattan\nsub_5=nyc_airbnb.loc[(nyc_airbnb['neighbourhood_group'] == 'Manhattan') & (nyc_airbnb['room_type']==room_type)]\nprice_sub5=num_nyc_airbnb['price'].iloc[sub_5.index]# prices for Neighbourhood group having Manhattan\n\n\npercentile_price_brooklyn=[]#percentile of prices for Private rooms near brooklyn\n\npercentile_price_Bronx=[]#percentile of prices for Private rooms near Bronx\n\npercentile_price_Staten_Island=[] #percentile of prices for Private rooms near Staten Island\n\npercentile_price_Queens=[] #percentile of prices for accomodations near Queens\n\npercentile_price_Manhattan=[] #percentile of prices for accomodations near Manhattan\n\n\npercentiles=[]# percentiles\nfor i in range(25,91):\n    percentile_price_brooklyn.append(int(price_sub1.quantile(i\/100)))\n    percentile_price_Bronx.append(int(price_sub2.quantile(i\/100)))\n    percentile_price_Staten_Island.append(int(price_sub3.quantile(i\/100)))\n    percentile_price_Queens.append(int(price_sub4.quantile(i\/100)))\n    percentile_price_Manhattan.append(int(price_sub5.quantile(i\/100)))\n    percentiles.append(i)\n    \n","b4e72173":"\nplt.title('Prices of 90% Entire home\/apt',fontsize=15,color='Red')\nsns.set_style(\"darkgrid\")\n\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_brooklyn),label='Brooklyn')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Bronx),label='Bronx')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Staten_Island),label='Staten Island')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Queens),label='Queens')\nsd=sns.lineplot(x=pd.Series(percentiles),y=pd.Series(percentile_price_Manhattan),label='Manhattan')\n\nsd.set(xlabel='Percentiles', ylabel='Percentile Prices in U.S $')\n\n","c5ae0b60":"\n# f, axes = plt.subplots(2,1,figsize = (10,10))\n# sns.set_style(\"dark\")\n# # for i in range(2):\n# sns.lineplot(x=pd.Series(percentiles_brooklyn),y=pd.Series(percentile_price_brooklyn),ax=axes[0])\n# sns.lineplot(x=pd.Series(percentiles_Bronx),y=pd.Series(percentile_price_Bronx),ax=axes[1])\n","831f0cd7":"crs = {'init':'epsg:4326'}\ngeometry = geopandas.points_from_xy(nyc_airbnb.longitude, nyc_airbnb.latitude)\ngeo_data = geopandas.GeoDataFrame(nyc_airbnb,crs=crs,geometry=geometry)","204fb5b2":"nyc = geopandas.read_file(geopandas.datasets.get_path('nybb'))\nnyc = nyc.to_crs(epsg=4326)","bf95bf9a":"fig,ax = plt.subplots(figsize=(15,15))\nnyc.plot(ax=ax,alpha=0.4,edgecolor='black')\ngeo_data.plot(column='availability_365',ax=ax,legend=True,cmap='plasma',markersize=4)\n\nplt.title(\"Number of days when listing is available for booking\")\nplt.axis('off')\n","67d8826d":"\n# <font color='Yellow'>**Way to Create Subplots In Seaborn is in below cell**<\/font>\n## Not part of project just for learning","367e3e8b":"Plot shows that Entire Home\/Apartment are listed most near Manhattan while Private Rooms and Apartments Near Brooklyn are Nearly Equal","ebfcb0d4":"## Very Useful Website to Learn About Feature Selection [here](https:\/\/towardsdatascience.com\/feature-selection-techniques-in-machine-learning-with-python-f24e7da3f36e)","223161a8":"## This Shows getting a shared room is cheapest near <font color='red'>Bronx<\/font> and costliest near <font color='red'>Manhattan<\/font>\n## as 90%  of Shared rooms near <font color='red'>Bronx<\/font> and <font color='red'>Brooklyn<\/font> cost near <font color='yellow'>80 USD<\/font> whereas Near <font color='red'>Manhattan<\/font> it Actually near 150 USD","15ec6b3c":"![new york](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/5\/5a\/New_York_City_District_Map.png)","7229de89":"# Comparison of prices of <font color='SkyBlue'>Entire home\/apt <\/font>","29081fea":"## Cost Of Entire Home or Apartment is Most Expensive near <font color='yellow'>Manhattan<\/font> averaging near 400 USD whereas <font color='yellow'>Bronx<\/font> has the cheapest option","054de592":"# Comparison of prices of <font color='SkyBlue'>Shared Rooms <\/font>","1b1419eb":"# Have to Separate the Numerical and Categorical Columns for Data Visualisation anad Data Analysis","7c0d3e62":"## Finding Number of <font color='red'>Null Values<\/font> in each column of dataset","f77af30d":" This Shows that most of Airbnb Listings in <font color='yellow'> New York<\/font> are near  <font color='yellow'>Brooklyn<\/font> and <font color='yellow'> Manhattan<\/font>","2704d99c":"In seaborn, the <font color='yellow'>**hue**<\/font> parameter determines which column in the data frame should be used for colour encoding. Using the [official](https:\/\/seaborn.pydata.org\/generated\/seaborn.lmplot.html) document ","c9b824af":"# Image of <font color='yellow'>New York City<\/font>\nIt will be easy to Visualize data afterwards","bec0c78f":"# Comparison of prices of <font color='SkyBlue'>Private Rooms <\/font>","4ab14419":"## This Shows getting a shared room is cheapest near <font color='yellow'>Bronx<\/font> and costliest near <font color='yellow'>Manhattan<\/font>\n## as 90%  of Shared rooms near <font color='yellow'>Bronx<\/font>,<font color='yellow'>Brooklyn<\/font>,<font color='yellow'>Staten Island<\/font>,<font color='yellow'>Queens<\/font> cost under or just above <font color='yellow'>100 USD<\/font> whereas Near <font color='yellow'>Manhattan<\/font> it Actually near 180 USD"}}