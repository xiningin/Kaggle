{"cell_type":{"3ae72c3e":"code","333cd762":"code","db620c1a":"code","fc76549a":"code","36faf40c":"code","7b6cd8d3":"code","ed02d540":"code","e30da35c":"code","8c04379f":"code","64cf3279":"code","f052e0f7":"code","5f126387":"code","dc1cf3f0":"code","2df5542c":"code","d58bf03c":"code","554ac5a2":"code","916e1485":"code","fc524cfe":"code","b9fe6efc":"code","4478d873":"code","1eb624b6":"code","45401410":"code","c86efa8a":"code","76c8aaf5":"code","e7ffc9cf":"code","2377755c":"code","eb32a7f3":"code","a0b244b9":"code","8bd1856b":"code","a38f41df":"code","329e6832":"code","dd4b0498":"markdown","8296804c":"markdown","860035b6":"markdown","b7fd1f5b":"markdown","349cd167":"markdown","ec6b8032":"markdown","307ff0e5":"markdown","34cc12fc":"markdown","fe9b9026":"markdown","74a0df84":"markdown","74e0caa6":"markdown","7d359964":"markdown","acae5a23":"markdown","3d7c3522":"markdown","36e30d5e":"markdown","6ecf45a4":"markdown","e3cf7d10":"markdown","c25d990c":"markdown","4bb95108":"markdown"},"source":{"3ae72c3e":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\ndf = pd.read_csv(\"..\/input\/uberdrives\/My Uber Drives - 2016.csv\")","333cd762":"df.isnull().sum()","db620c1a":"df[df['END_DATE*'].isnull()]","fc76549a":"df.drop(df.index[1155],inplace=True)","36faf40c":"df.isnull().sum()","7b6cd8d3":"df.head()","ed02d540":"df.dtypes","e30da35c":"df['START_DATE*'] = df['START_DATE*'].astype('datetime64[ns]')\ndf['END_DATE*'] = df['END_DATE*'].astype('datetime64[ns]')","8c04379f":"a=pd.crosstab(index=df['CATEGORY*'],columns='Count of travels as per category')\na.plot(kind='bar',color='r',alpha=0.7)\nplt.legend()\na","64cf3279":"plt.figure(figsize=(15,10))\nsns.countplot(df['PURPOSE*'],order=df['PURPOSE*'].value_counts().index)","f052e0f7":"df.groupby('CATEGORY*')[\"MILES*\"].mean().plot(kind='bar',color='g')\nplt.axhline(df[\"MILES*\"].mean(),label='Mean distance travelled per ride')\nplt.legend()","5f126387":"df['Round_trip'] = df.apply(lambda x : 'Yes' if x['START*'] == x[\"STOP*\"] else 'no',axis=1)","dc1cf3f0":"coun=pd.crosstab(df['Round_trip'],df['CATEGORY*'])\nper=coun.div(coun.sum(1),axis=0)*100\nper.plot(kind='bar',stacked=True)\nplt.legend(bbox_to_anchor=(1.05,1),loc=2)\nround(per,2)","2df5542c":"df['Month'] = pd.DatetimeIndex(df['END_DATE*']).month\ndf['Month']","d58bf03c":"s= {1: 'Jan', 2: 'Feb', 3: 'Mar', 4: 'Apr', 5: 'May',\n            6: 'Jun', 7: 'Jul', 8: 'Aug', 9: 'Sep', 10: 'Oct', 11: 'Nov', 12: 'Dec'}\ndf['Month'] = df['Month'].map(s)","554ac5a2":"df['Month'].dtypes","916e1485":"a=sns.countplot(df['Round_trip'],hue=df['Month'])\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2)","fc524cfe":"c=pd.crosstab(index=df['Month'],columns='Number of trips')\nc.sort_values('Number of trips',ascending=False).plot(kind='bar',color='y')\nplt.axhline(c['Number of trips'].mean(),linestyle='--')","b9fe6efc":"sns.countplot(df['Month'],hue=df['CATEGORY*'],order=df['Month'].value_counts().index)","4478d873":"df","1eb624b6":"df['Day\/Nightride'] = pd.DatetimeIndex(df['START_DATE*']).time","45401410":"a = pd.to_datetime(['18:00:00']).time","c86efa8a":"df['Day\/Nightride'] = df.apply(lambda x : 'Night ride' if x['Day\/Nightride'] > a else 'Day ride',axis=1)","76c8aaf5":"sns.countplot(df['Day\/Nightride'],hue=df['CATEGORY*'])","e7ffc9cf":"f = {}\nfor i in df['MILES*']:\n    if i < 10:\n        f.setdefault(i,'0-10 miles')\n    elif i >= 10 and i < 20:\n        f.setdefault(i,'10-20 miles')\n    elif i >= 20 and i < 30:\n        f.setdefault(i,'20-30 miles')\n    elif i >= 30 and i < 40:\n        f.setdefault(i,'30-40 miles')\n    elif i >= 40 and i < 50:\n        f.setdefault(i,'40-50 miles')\n    else:\n        f.setdefault(i,'Above 50 miles')","2377755c":"df['MILES*'] = df['MILES*'].map(f)","eb32a7f3":"plt.figure(figsize=(10,10))\nsns.countplot(df['MILES*'],order=df['MILES*'].value_counts().index)","a0b244b9":"f = pd.crosstab(df['Month'],df[\"MILES*\"])\nf.plot(kind='bar')\nplt.legend(bbox_to_anchor=(1.05,1),loc=2)\nf","8bd1856b":"z = df.groupby('Month')['Day\/Nightride'].count().mean()","a38f41df":"x,ax=plt.subplots(1,2,figsize=(10,10))\ng = pd.crosstab(df['Month'],df[\"Day\/Nightride\"]).plot(kind='bar',ax=ax[0])\nplt.axhline(z,color='g',linestyle='--',label='Mean number of travels across months')\nsns.countplot(df['Month'],ax=ax[1])\nplt.legend()","329e6832":"a=df.groupby('Month')['START*'].count()\nb=a.index\nplt.plot(b,df.groupby('Month')['START*'].count())","dd4b0498":"The below graph shows the mean distance travelled per ride for business and personal purposes","8296804c":"### From the below plot we can infer that most of the cabs are taken for meeting purpose","860035b6":"### We are creating a new variable as day or night ride if the start time is more than 6 pm its night ride else day ride","b7fd1f5b":"The above plot shows the trend of number of rides as per month","349cd167":"### The above graph shows the Percentage of roundtrips for business and personal purposes. And we can also infer that one way trips are More than round trips\n\n\n\n\n### Since the months are of integer we are converting it to month name","ec6b8032":"### From the above plot we can infer that there is a high amount of round trips in the month of December","307ff0e5":"Since the date and time of the start_date and end_date are of data type object we are converting it to datetime","34cc12fc":"### From the below chart we can infer that cabs are more used for business purpose than for personal use and the count of travels for each category","fe9b9026":"The above values shows there are one missing value in few columns which we can drop for our analysis.Inorder to find out which row has the missing values,we should do a mask.","74a0df84":"Checking the data types for the variables","74e0caa6":"From the above graph we can infer that takes are taken for personal use only in the months of feb,march,april,jun,july","7d359964":"### From the above plot we can see that cabs are more often used for short distances","acae5a23":"Below we are creating a variable as Round_trip if the start and stop place are same","3d7c3522":"### From the above data we can see the number of rides for each month and number of day and night rides for each month","36e30d5e":"from the above data we can see the category of miles driven for each month","6ecf45a4":"From the above plot we can see that most rides are in the month of december and least in the month of november","e3cf7d10":"After finding which row has the missing values we are dropping that row by the index value","c25d990c":"### Converting the continous variable miles into buckets","4bb95108":"### From the above plot we can see that across both business and personal purpose night rides are minimum"}}