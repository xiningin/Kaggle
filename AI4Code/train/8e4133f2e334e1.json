{"cell_type":{"3989a720":"code","e15e4019":"code","dc29f91b":"code","e0375f8e":"code","3814785a":"code","505c9c28":"code","1ab920cb":"code","7a0a46ba":"code","3d9aeeb7":"code","f6ddfda5":"code","a5857d18":"code","9db48bfd":"code","3c05289b":"code","7d8a8bce":"code","d0a4a79f":"code","9c5aa9c4":"code","47d3dcab":"code","02d569fb":"code","4656fb20":"code","d216106d":"code","2ce4c88d":"code","356d21f2":"code","566bae84":"code","50866ed5":"code","507332ac":"code","918beda9":"code","6105fda7":"code","48238386":"code","78a01c3f":"code","484ddbc8":"code","187236fd":"code","de45d11f":"code","52c10477":"code","4f86a8e9":"code","0a18642f":"code","6dab47f5":"code","7739b689":"code","6b94efd8":"code","d7539bf5":"code","de6be3e1":"code","10c74cf6":"code","e9d7fecd":"code","5d7dcfad":"code","f7eb18e0":"code","a5426e5d":"code","56074eca":"code","07bc077e":"code","820637ad":"code","1fbaa734":"code","7677f7f2":"code","c497b96a":"code","48fc1ede":"code","05b67fec":"code","34d72f8c":"code","3c518d21":"code","f8e0cedb":"code","ab6f1121":"code","d2a72016":"code","8ad852f9":"code","d6ec4540":"markdown","4720d793":"markdown","035ca741":"markdown","3bdb9948":"markdown","72aa8301":"markdown","f583d6d7":"markdown","0d296e1d":"markdown","8f6a53fe":"markdown","9c2ad985":"markdown","f544eb57":"markdown","8143d3b0":"markdown","d19d8483":"markdown","6ad4d92b":"markdown","922b9b5d":"markdown","821b69e7":"markdown","e075cb48":"markdown","b005ce51":"markdown","4a9cd16b":"markdown","0004e460":"markdown","14f9f48e":"markdown"},"source":{"3989a720":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nimport pickle\n\n%matplotlib inline","e15e4019":"data = pd.read_csv('..\/input\/ipl-dataset\/ipl.csv')","dc29f91b":"data.head()","e0375f8e":"data.columns","3814785a":"data.shape","505c9c28":"data.info()","1ab920cb":"data.isnull().sum()","7a0a46ba":"import missingno as mn\nmn.matrix(data,figsize=(16,6),color=(0.30,0.60,0.71))\nplt.xlabel('Features',fontdict={'fontsize':20})\nplt.ylabel(\"Number of Records\",fontdict={'fontsize':20})\nplt.title(\"Check Null values using visualization\",fontdict={'fontsize':23})","3d9aeeb7":"data.drop(['mid'],axis=1,inplace=True)\ndata.head()","f6ddfda5":"len(data.venue.unique())","a5857d18":"data.bat_team.unique()","9db48bfd":"playing_teams = ['Kolkata Knight Riders', 'Chennai Super Kings', 'Rajasthan Royals',\n                    'Mumbai Indians', 'Kings XI Punjab', 'Royal Challengers Bangalore',\n                    'Delhi Daredevils', 'Sunrisers Hyderabad']","3c05289b":"data = data[(data['bat_team'].isin(playing_teams)) & (data['bowl_team'].isin(playing_teams))]","7d8a8bce":"data.head()","d0a4a79f":"data.shape","9c5aa9c4":"data = data[data['overs']>=5.0]","47d3dcab":"data.shape","02d569fb":"len(data.batsman.unique())","4656fb20":"data.drop(['batsman','bowler','venue'],axis=1,inplace=True)","d216106d":"data.head()","2ce4c88d":"data.drop(['striker','non-striker'],axis=1,inplace=True)","356d21f2":"data.head()","566bae84":"from datetime import datetime\ndata['date'] = data['date'].apply(lambda x: datetime.strptime(x, '%Y-%m-%d'))","50866ed5":"data.head()","507332ac":"encoding_data  = pd.get_dummies(data=data,columns=['bat_team','bowl_team'])\nencoding_data.shape","918beda9":"encoding_data.head()","6105fda7":"encoding_data.columns\n","48238386":"encoding_data = encoding_data[['date', 'runs', 'wickets', 'overs', 'runs_last_5', 'wickets_last_5',\n       'bat_team_Chennai Super Kings', 'bat_team_Delhi Daredevils',\n       'bat_team_Kings XI Punjab', 'bat_team_Kolkata Knight Riders',\n       'bat_team_Mumbai Indians', 'bat_team_Rajasthan Royals',\n       'bat_team_Royal Challengers Bangalore', 'bat_team_Sunrisers Hyderabad',\n       'bowl_team_Chennai Super Kings', 'bowl_team_Delhi Daredevils',\n       'bowl_team_Kings XI Punjab', 'bowl_team_Kolkata Knight Riders',\n       'bowl_team_Mumbai Indians', 'bowl_team_Rajasthan Royals',\n       'bowl_team_Royal Challengers Bangalore',\n       'bowl_team_Sunrisers Hyderabad','total']]","78a01c3f":"pd.set_option('display.max_columns',2000)\nencoding_data.head()","484ddbc8":"encoding_data.columns","187236fd":"encoding_data.shape","de45d11f":"X_train = encoding_data.drop(labels='total',axis=1)[encoding_data['date'].dt.year <= 2016]\nX_test = encoding_data.drop(labels='total',axis=1)[encoding_data['date'].dt.year >= 2017]","52c10477":"X_train.head()","4f86a8e9":"X_test.head()","0a18642f":"Y_train = encoding_data[encoding_data['date'].dt.year <= 2016]['total'].values\nY_test = encoding_data[encoding_data['date'].dt.year >= 2017]['total'].values","6dab47f5":"X_train.head()","7739b689":"X_train.shape","6b94efd8":"Y_train = pd.DataFrame({\"Total\":Y_train})","d7539bf5":"Y_train.head()","de6be3e1":"Y_train.shape","10c74cf6":"Y_test = pd.DataFrame({'Total':Y_test})","e9d7fecd":"Y_test.head()","5d7dcfad":"X_train.drop(labels='date',axis=1,inplace=True)\nX_test.drop(labels='date',axis=1,inplace=True)","f7eb18e0":"from sklearn import metrics","a5426e5d":"lin_model = LinearRegression()\nlin_model.fit(X_train,Y_train)","56074eca":"lin_model.score(X_train,Y_train)","07bc077e":"lin_pred=lin_model.predict(X_test)\nlin_pred","820637ad":"import xgboost as xg","1fbaa734":"xgmodel = xg.XGBRegressor()","7677f7f2":"xgmodel.fit(X_train,Y_train)","c497b96a":"xgmodel.score(X_train,Y_train)","48fc1ede":"score_Prod=xgmodel.predict(X_test)","05b67fec":"runs = int(input('Number of runs :'))\nwickets = int(input('Number of wickets'))\novers = float(input(\"Current over :\"))\nruns_in_prev_5 = int(input('runs_in_prev_5 :'))\nwickets_in_prev_5 = int(input('wickets_in_prev_5 :'))","34d72f8c":"temp_array = list()\nbatting_team = input('Enter name of batting team : ')\n\nif batting_team == 'Chennai Super Kings':\n    temp_array = temp_array + [1,0,0,0,0,0,0,0]\nelif batting_team == 'Delhi Daredevils':\n    temp_array = temp_array + [0,1,0,0,0,0,0,0]\nelif batting_team == 'Kings XI Punjab':\n    temp_array = temp_array + [0,0,1,0,0,0,0,0]\nelif batting_team == 'Kolkata Knight Riders':\n    temp_array = temp_array + [0,0,0,1,0,0,0,0]\nelif batting_team == 'Mumbai Indians':\n    temp_array = temp_array + [0,0,0,0,1,0,0,0]\nelif batting_team == 'Rajasthan Royals':\n    temp_array = temp_array + [0,0,0,0,0,1,0,0]\nelif batting_team == 'Royal Challengers Bangalore':\n    temp_array = temp_array + [0,0,0,0,0,0,1,0]\nelif batting_team == 'Sunrisers Hyderabad':\n    temp_array = temp_array + [0,0,0,0,0,0,0,1]\n                        \nbowling_team = input('Enter name of bowling team : ')\n\nif bowling_team == 'Chennai Super Kings':\n    temp_array = temp_array + [1,0,0,0,0,0,0,0]\nelif bowling_team == 'Delhi Daredevils':\n    temp_array = temp_array + [0,1,0,0,0,0,0,0]\nelif bowling_team == 'Kings XI Punjab':\n    temp_array = temp_array + [0,0,1,0,0,0,0,0]\nelif bowling_team == 'Kolkata Knight Riders':\n    temp_array = temp_array + [0,0,0,1,0,0,0,0]\nelif bowling_team == 'Mumbai Indians':\n    temp_array = temp_array + [0,0,0,0,1,0,0,0]\nelif bowling_team == 'Rajasthan Royals':\n    temp_array = temp_array + [0,0,0,0,0,1,0,0]\nelif bowling_team == 'Royal Challengers Bangalore':\n    temp_array = temp_array + [0,0,0,0,0,0,1,0]\nelif bowling_team == '':\n    temp_array = temp_array + [0,0,0,0,0,0,0,1]         ","3c518d21":"print(temp_array)   ","f8e0cedb":"predict_values = [runs,wickets,overs,runs_in_prev_5,wickets_in_prev_5] + temp_array","ab6f1121":"Xnew = np.array(predict_values).reshape((1,-1))","d2a72016":"my_prediction = int(lin_model.predict(Xnew)[0])","8ad852f9":"print(\"First inning score is : \",int(my_prediction))","d6ec4540":"#### Apply XGBoost","4720d793":"### Pred Score","035ca741":"Now perform OneHotEncoding on categorical fature","3bdb9948":"#### Read dataset","72aa8301":"### Bulding Models","f583d6d7":"More records are deleted according to conditions","0d296e1d":"#### Understand dataset","8f6a53fe":"Now our some record are deleted according to our condition","9c2ad985":"#### now keep only record of playing_teams","f544eb57":"There is 76014 record are present in our dataset and their is 15 feature ","8143d3b0":"That's great there is no null values are present in out dataset           \nlet's check also using visualization ","d19d8483":"### [I'm](https:\/\/www.linkedin.com\/in\/rushikesh-lavate\/) a newcomer to kaggle please deliver me honest feedback so I can improve my self, give me upvote if you like. \n#### Thank You, everyone","6ad4d92b":"#### Apply Linear Regression","922b9b5d":"#### Remove first five over's record ","821b69e7":"#### Now change the date format \n#### Converting the column 'date' from string into datetime object","e075cb48":"#### Splitting data into train and test according to match year","b005ce51":"## IPL DATASET","4a9cd16b":"Some team is not playing IPL now so we remove this teams record teams are : ['Deccan Chargers','Kochi Tuskers Kerala','Pune Warriors','Rising Pune Supergiants', 'Gujarat Lions','Rising Pune Supergiant']","0004e460":"#### Check there is any null values are present or not if there is any null values then we perform feature engineering","14f9f48e":"Removing Date column"}}