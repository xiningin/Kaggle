{"cell_type":{"f9d31e28":"code","ad28da98":"code","6b5ecfbf":"code","b00704ff":"code","04288cf8":"code","84c955a0":"code","fe581a0d":"code","1e870871":"code","29b82aff":"code","892eae7e":"code","a29490a9":"code","51a61645":"code","b352fd1e":"code","e784acaa":"code","9669ed9f":"code","6a537ab8":"code","67d9cebf":"code","27fa5515":"code","8271a4a5":"code","e3c94405":"code","a28bc4fc":"code","19ece09f":"code","0c6b2d8b":"code","fbe2870d":"code","909de2ee":"code","c96e7224":"code","b8494779":"code","ebfaa285":"code","999d8073":"code","10e34f99":"code","4ddb78be":"code","c0d4481e":"code","052f1b9b":"code","702424fb":"code","68aa13c1":"code","356285d6":"code","19bf7133":"code","d10cd19b":"code","5fd42cd6":"code","09d0cb67":"code","a5c18377":"code","e2abf65b":"markdown","90bc41ba":"markdown","ab0e68e9":"markdown","64210235":"markdown","9798a060":"markdown","1675510b":"markdown","8ba01598":"markdown","05c93a5e":"markdown","f8e0d6e5":"markdown","23b750b1":"markdown","4609d772":"markdown","63e5069f":"markdown","9fea6364":"markdown","332b3039":"markdown","1ef51d43":"markdown","93653558":"markdown","aa3c0bf3":"markdown","9f713d2f":"markdown"},"source":{"f9d31e28":"## lets import libraries \nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nfrom pandas.api.types import CategoricalDtype  ## For transform\nfrom scipy.stats import shapiro  ## For statistical analysis\nfrom scipy.stats import stats    ## For statistical analysis\nfrom datetime import datetime   ## For transform\npd.set_option('display.float_format', lambda x: '%.3f' % x)   ## For some integers\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom fbprophet import Prophet    ## For Predict model","ad28da98":"twitchdata = pd.read_csv(\"..\/input\/evolution-of-top-games-on-twitch\/Twitch_game_data.csv\")\ndf = twitchdata.copy()","6b5ecfbf":"df.head()","b00704ff":"df.tail()","04288cf8":"df.shape","84c955a0":"df.dtypes","fe581a0d":"df.isnull().sum()","1e870871":"df.dropna(inplace = True)","29b82aff":"df.Year = df.Year.astype(CategoricalDtype(ordered = True))\ndf.Month = df.Month.astype(CategoricalDtype(ordered = True))","892eae7e":"df.describe().T","a29490a9":"df[\"Game\"].value_counts().count()","51a61645":"df[\"Year\"].value_counts()","b352fd1e":"df.corr()","e784acaa":"sns.scatterplot(x = \"Avg_viewers\", y = \"Streamers\", \n                hue = \"Year\", \n                data = df);","9669ed9f":"sns.jointplot(x = \"Streamers\" , y = \"Avg_viewers\" ,\n              color = \"g\" , \n              kind = \"reg\" ,\n              data = df);","6a537ab8":"sns.jointplot(x = \"Peak_viewers\", y = \"Peak_channels\", \n              color = \"g\" , \n              kind = \"reg\" ,\n              data = df);","67d9cebf":"test_statistics, pvalue = shapiro(df[\"Streamers\"])\nprint('Test Statistics for Streamers = %.4f, p-value = %.4f' % (test_statistics, pvalue));\ntest_istatistigi, pvalue = shapiro(df[\"Avg_viewers\"])\nprint('Test Statistics for Avg_viewers = %.4f, p-value = %.4f' % (test_statistics, pvalue));\ntest_statistics, pvalue = shapiro(df[\"Peak_viewers\"])\nprint('Test Statistics for Peak_viewers = %.4f, p-value = %.4f' % (test_statistics, pvalue));\ntest_statistics, pvalue = shapiro(df[\"Peak_channels\"])\nprint('Test Statistics for Peak_channels= %.4f, p-value = %.4f' % (test_statistics, pvalue));","27fa5515":"test_statistics, pvalue = stats.spearmanr(df[\"Streamers\"],df[\"Avg_viewers\"])\n\nprint('Corr Value = %.4f, p-value = %.4f' % (test_statistics, pvalue))","8271a4a5":"test_statistics, pvalue = stats.spearmanr(df[\"Peak_viewers\"],df[\"Peak_channels\"])\n\nprint('Corr Value = %.4f, p-value = %.4f' % (test_statistics, pvalue))","e3c94405":"df['Date'] = df.apply(lambda row: datetime.strptime(f\"{int(row.Year)}-{int(row.Month)}\", '%Y-%m'),axis=1)\ndf.drop(['Month','Year'], axis='columns', inplace = True)","a28bc4fc":"dflol = df[df[\"Game\"] == \"League of Legends\"]\ndfdota2 = df[df[\"Game\"] == \"Dota 2\"]\ndfcsgo = df[df[\"Game\"] == \"Counter-Strike: Global Offensive\"]","19ece09f":"x = [\"Rank\",\"Game\",\"Hours_watched\",\"Hours_Streamed\",\"Peak_viewers\",\"Peak_channels\",\"Streamers\",\"Avg_channels\",\"Avg_viewer_ratio\"]\ndflol.drop(x, axis = 1 , inplace = True)\ndfdota2.drop(x, axis = 1 , inplace = True)\ndfcsgo.drop(x, axis = 1 , inplace = True)","0c6b2d8b":"dflol.columns = [\"y\" , \"ds\"]\ndfdota2.columns = [\"y\" , \"ds\"]\ndfcsgo.columns = [\"y\" , \"ds\"]","fbe2870d":"dflol.head()","909de2ee":"dfdota2.head()","c96e7224":"dfcsgo.head()","b8494779":"m = Prophet(interval_width = 0.95 , daily_seasonality = True)\nmodel1 = m.fit(dflol)","ebfaa285":"future = m.make_future_dataframe(periods = 16 , freq = \"M\")\nforecastlol = m.predict(future)","999d8073":"forecastlol[[\"ds\" , \"yhat\"]].iloc[66:80]","10e34f99":"plotlol = m.plot(forecastlol)","4ddb78be":"plottlol = m.plot_components(forecastlol)","c0d4481e":"n = Prophet(interval_width = 0.95 , daily_seasonality = True)\nmodel2 = n.fit(dfdota2)","052f1b9b":"forecastdota2 = n.predict(future)","702424fb":"forecastdota2[[\"ds\" , \"yhat\"]].iloc[66:79]","68aa13c1":"plotdota2 = n.plot(forecastdota2)","356285d6":"plottdota2 = n.plot_components(forecastdota2)","19bf7133":"b = Prophet(interval_width = 0.95 , daily_seasonality = True)\nmodel3 = b.fit(dfcsgo)","d10cd19b":"forecastcsgo = b.predict(future)","5fd42cd6":"forecastcsgo[[\"ds\" , \"yhat\"]].iloc[66:80]","09d0cb67":"plotcsgo = b.plot(forecastcsgo)","a5c18377":"plottcsgo = b.plot_components(forecastcsgo)","e2abf65b":"#### Let's analyze the correlation between variables statistically\n#### Normal distribution tests :","90bc41ba":"#### Variables columns must be \"y\" and \"ds\", because prophet model needs it.","ab0e68e9":"#### We can see future forecasts in yhat values","64210235":"## **Hi everyone,** \n#### *We will analyze the twitch game data.*\n#### *We'll do variable engineering*\n#### *We will analyze the correlation between the some data.*\n#### *We will make some statistical analysis.*\n#### *Then we'll make predictions about some games which will be watched in the future.*\n#### **Let's go! Let's start it!!!**\n#### **Note** : This notebook for the beginners.","9798a060":"#### Since there is only 1 missing data, I remove it from the data set","1675510b":"#### Firstly lets meet the dataset","8ba01598":"####  Now let's prepare our variables for the predict model","05c93a5e":"### **Upvote and Comment if you liked my notebook :)**","f8e0d6e5":"#### Now ,let's see graphs","23b750b1":"#### I choose 3 games for predict : LoL, Csgo, Dota2\n#### I'm subtracting other variables to predict Avg_viewers","4609d772":"####  Now, I will make visualization to measure the correlation between variables","63e5069f":"#### Decision : Correlation is statistically significant","9fea6364":"#### I will create forecast models for LoL,Csgo and Dota2\n#### Now let's create our forecast model for the prediction","332b3039":"#### Forecasting for Cs:go","1ef51d43":"### **What's our variables ?**\n##### Rank : Rank in the month (1 - 200)\n##### Game :Name of game or category\n##### Month : Month in question\n##### Year : Year in question\n##### Hours_watched : Hours watched on twitch\n##### Hours_Streamed : Hours streamed on twitch\n##### Peak_viewers : Maximum viewers at one instant\n##### Peak_channels : Maximum chanells at one instant\n##### Streamers : Amount of streamers who streamed the game\n##### Avg_viewers : Average viewers\n##### Avg_channels : Average channels\n##### Avg_viewer_ratio : Average viewer ratio","93653558":"#### P-Values are 0.000 . Variables do not show normal distribution. So we'll use a spearman nonparametric test ","aa3c0bf3":"####  Forecasting for Dota2","9f713d2f":"![](http:\/\/cdn.arstechnica.net\/wp-content\/uploads\/2020\/11\/getty-twitch-800x533.jpg)"}}