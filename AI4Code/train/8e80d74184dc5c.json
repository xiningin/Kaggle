{"cell_type":{"8f05799d":"code","01ccaeeb":"code","badf62c7":"code","4ad80fb9":"code","cbd0ba86":"code","ffdbdbee":"code","1ce75234":"code","8bf698d2":"code","399deb03":"code","1dfe40bf":"code","a7749caa":"code","c1baefda":"code","0936f0bc":"code","a060eee0":"code","beef9ad1":"code","73664438":"code","61f8b673":"code","b6b684c8":"code","6805d64f":"code","1817d164":"code","19700cf7":"code","f9bcef8e":"markdown","2548dd15":"markdown","dd97839e":"markdown","0fc4c8f7":"markdown","47421ff4":"markdown","0864a4fe":"markdown","2f7c427b":"markdown","a8ad695f":"markdown","604c91fc":"markdown","ba874a26":"markdown","80881919":"markdown","87759471":"markdown","e3bbe364":"markdown","457da492":"markdown","f9c52943":"markdown","2a76acde":"markdown"},"source":{"8f05799d":"from IPython.display import Image\nImage(\"..\/input\/images\/chart_tt.png\", width=400)","01ccaeeb":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport squarify\nfrom wordcloud import WordCloud\nfrom pandas.plotting import register_matplotlib_converters\nregister_matplotlib_converters()","badf62c7":"# Path of the file to read\nfilepath = \"..\/input\/innovat\/tto_public_comma.csv\"\n\n# Read the file into a variable\ndata = pd.read_csv(filepath)","4ad80fb9":"data.head()","cbd0ba86":"# Data frame of number of ideas per year from different deparments\ndf = pd.crosstab(data.Department, data.Year)\n\n# swaping of rows\nrows = df.index.tolist()\nrows = rows[-1:]+rows[:-1]\ndf=df.loc[rows]\n\n# Make a list of categories (years)\ncats = df.columns.tolist()\n# Make a list of values (number of ideas)\nvals = df.values.tolist()\n# Make a list of indexes (departments)\nindex = df.index.tolist()\n\n# Plot\ncolors = ['#deebf7','#9ecae1','#3182bd']\nplt.figure(figsize=(15,10))\nt = 0\nv = 0\nfor i in index:\n    plt.bar(cats, vals[:][t], bottom=v, label=i, color=colors[t])\n    t+=1\n    v=np.sum(vals[:][0:t], 0)\nplt.legend(loc='upper left')\nplt.title('Ideas submitted to TTO each year')\nplt.ylabel(\"Number of ideas\")\nplt.show()\n\n#Total sum per column: \ndf.loc['Total',:]= df.sum(axis=0)\n#Total sum per row: \ndf.loc[:,'Total'] = df.sum(axis=1)\nprint (df)","ffdbdbee":"Image(\"..\/input\/images\/wordcloud.png\", width=700)","1ce75234":"index, counts = np.unique(data.Group,return_counts=True)\n#print(index)\n#print(counts)\n\ncolors = ['#d73027','#fc8d59','#fee090','#ffffbf','#e0f3f8','#91bfdb']\n\nplt.figure(figsize=(15,10))\nsquarify.plot(sizes=counts, label=index, color=colors)\nplt.axis('off')\nplt.title('Contribution of research groups to total number of ideas')\nplt.show()\n","8bf698d2":"# what type employee group ideas come from?\n\nindex, counts = np.unique(data.Employee,return_counts=True)\n#print(index)\n#print(counts)\n\ncolors = ['#d73027','#fc8d59','#fee090','#ffffbf','#e0f3f8','#91bfdb','#4575b4']\nplt.figure(figsize=(15,10))\nsquarify.plot(sizes=counts, label=index, color=colors)\nplt.title('Contribution of employee groups to total number of ideas')\nplt.axis('off')\nplt.show()","399deb03":"index, counts = np.unique(data.Status,return_counts=True)\n#print(index)\n#print(counts)\n\ncolors = ['#d7191c','#fdae61','#abd9e9','#2c7bb6']\n\nplt.figure(figsize=(15,10))\nsquarify.plot(sizes=counts, label=index, color=colors)\nplt.title('Status of all submitted ideas per in 12\/2019')\nplt.axis('off')\nplt.show()","1dfe40bf":"index, counts = np.unique(data.Inventor,return_counts=True)\n#print(index)\n#print(counts)\n\n# Group inventors that reported 1 idea to one group\ng_index = []\ng_counts = []\ng_rest = 0\n\nfor i in range(len(index)):\n    if counts[i]>1: \n        g_counts.append(counts[i])\n        g_index.append(index[i])\n    elif counts[i] == 1:\n        g_rest += 1\n\ng_counts.append(g_rest)\ng_index.append('Others')    \n \n# Create a circle for the center of the plot\ncolors = ['#d73027','#f46d43','#fdae61','#fee090','#e0f3f8','#abd9e9','#74add1','#4575b4']\nmy_circle=plt.Circle( (0,0), 0.9, color='white')\nplt.figure(figsize=(15,10))\nplt.pie(g_counts, labels=g_index, colors = colors)\np=plt.gcf()\np.gca().add_artist(my_circle)\nplt.title('Contribution of employees to total number of ideas')\nplt.show()","a7749caa":"# Data frame of number of ideas per year from different deparments\ndf = pd.crosstab(data.Department, data.Year)\n\n# swaping of rows\nrows = df.index.tolist()\nrows = rows[-1:]+rows[:-1]\ndf=df.loc[rows]\n\n# Make a list of categories (years)\ncats = df.columns.tolist()\n# Make a list of values (number of ideas)\nvals = df.values.tolist()\n# Make a list of indexes (departments)\nindex = df.index.tolist()\n\n# calculating total amount of ideas from \"all departments\"\nind = list(range(2006, 2020))\nyears = data['Year'].tolist() \nyear_counts = []\nfor ele in ind: \n    year_counts.append(years.count(ele))\navg_pre2016 = np.average(year_counts[0:10])\navg_post2016 = np.average(year_counts[10:14])    \n\n# Plot\ncolors = ['#deebf7','#9ecae1','#3182bd']\nplt.figure(figsize=(15,10))\nt = 0\nv = 0\nfor i in index:\n    plt.bar(cats, vals[:][t], bottom=v, label=i, color=colors[t])\n    t+=1\n    v=np.sum(vals[:][0:t], 0)\nplt.plot([2005.5,2015.5],[avg_pre2016,avg_pre2016], color='#fc8d59')\nplt.text(2009, avg_pre2016+0.1, 'average 2006-2015', fontsize=14, color='#fc8d59')\nplt.plot([2015.5,2019.5],[avg_post2016,avg_post2016], color='#fc8d59')\nplt.text(2016, avg_post2016+0.1, 'average 2016-2019', fontsize=14, color='#fc8d59')\nplt.legend(loc='upper left')\nplt.title('Ideas submitted to TTO each year')\nplt.ylabel(\"Number of ideas\")\nplt.show()\n\n#Total sum per column: \ndf.loc['Total',:]= df.sum(axis=0)\n#Total sum per row: \ndf.loc[:,'Total'] = df.sum(axis=1)\nprint (df)","c1baefda":"# Path of the file to read\nfilepath = \"..\/input\/innovation-in-norway-google-search\/google.csv\"\n\n# Read the file into a variable\ndfg = pd.read_csv(filepath)\ndfg.date = pd.to_datetime(dfg.date)\ndfg = dfg[dfg.date >= '01-01-2006']\n# reset index, because we droped rows\ndfg.reset_index(drop=True, inplace=True)\n\n\n# curve fitting\nx_plot = dfg.date\n\ncolumn_id = ['entreprenorskap', 'entrepreneurship', 'innovasjon','innovation']\nfor ele in column_id:\n    x = dfg[ele].index\n    y = dfg[ele]\n\n    # calculate polynomial\n    z = np.polyfit(x, y, 5)\n    f = np.poly1d(z)\n\n    # calculate new x's and y's\n    x_new = x #this can be done at other x'es like: x_new = np.linspace(x[0], x[-1], 50)\n    y_new = f(x_new)\n    \n    new_column_name = ele + '_fit'\n    dfg[new_column_name] = y_new","0936f0bc":"# Normalization of the google search results\ncolumn_id = ['entreprenorskap_fit', 'entrepreneurship_fit', 'innovasjon_fit','innovation_fit']\nfor ele in column_id:\n    dfg[ele] = (dfg[ele]-min(dfg[ele]))\/(max(dfg[ele])-min(dfg[ele]))","a060eee0":"years = pd.to_datetime(data.Year, format='%Y')\n#bins = pd.to_datetime(list(range(2006,2020)), format='%Y') \n\nfig, ax1 = plt.subplots(figsize=(15,10))\nplt.title('Number of ideas submitted to TTO each year vs innovation-related words google search popularity')\nax1.hist(years, bins = 14, range = ('2005-12-31','2020-01-01'), color='#deebf7', ec=\"k\")\nplt.ylabel('Number of ideas')\nax2 = ax1.twinx()\n\nfor ele in column_id:\n    ax2.plot(dfg.date, dfg[ele], '-')\n    plt.ylabel('Search popularity')\n    ax2.legend()","beef9ad1":"# Path of the file to read\nfilepath = \"..\/input\/brent-oil-prices\/BrentOilPrices.csv\"\n# Read the file into a variable\ndfo = pd.read_csv(filepath)\ndfo.Date = pd.to_datetime(dfo.Date)\ndfo = dfo[dfo.Date >= '01-01-2006']\n# reset index, because we droped rows\ndfo.reset_index(drop=True, inplace=True)","73664438":"fig, ax1 = plt.subplots(figsize=(15,10))\nplt.title('Number of ideas submitted to TTO each year vs Brent oil price')\nax1.hist(years, bins = 14, range = ('2005-12-31','2020-01-01'), color='#deebf7', ec=\"k\")\nplt.ylabel('Number of ideas')\nax2 = ax1.twinx()\nplt.ylabel('Oil price')\nax2.plot(dfo['Date'], dfo['Price'], '-', label='Oil price in $')\nplt.legend(loc='upper left')\nplt.show()","61f8b673":"# Reseach group vs time\ndf = pd.crosstab(data.Group, data.Year)\ndf = df.reindex(index = ['Engineering','Mineral','Geology','Geophysics','Reservoir','Well'])\n\n# Make a list of categories (years)\ncats = df.columns.tolist()\n# Make a matrix of cumulative values (number of ideas)\n#cum_vals = np.cumsum(df.values, axis=1)\n# Make a list of values (number of ideas)\nvals = df.values.tolist()\n# Make a list of indexes (type of employees)\nindex = df.index.tolist()\n\n# Plot\ncolors = ['#d73027','#fc8d59','#fee090','#e0f3f8','#91bfdb','#4575b4']\nplt.figure(figsize=(15,10))\nt = 0\nv = 0\nfor i in index:\n    plt.bar(cats, vals[:][t], bottom=v, label=i, color=colors[t])\n    t+=1\n    v=np.sum(vals[:][0:t], 0)\nplt.legend(loc='upper left')\nplt.title('Ideas submitted to TTO each year')\nplt.ylabel(\"Number of ideas\")\nplt.show()\n\n#Total sum per column: \ndf.loc['Total',:]= df.sum(axis=0)\n#Total sum per row: \ndf.loc[:,'Total'] = df.sum(axis=1)\nprint (df)","b6b684c8":"oil_groups_years = data.Year[(data.Group == 'Reservoir') | (data.Group == 'Geology') | (data.Group == 'Well') | (data.Group == 'Geophysics')]\nyears = pd.to_datetime(oil_groups_years, format='%Y')\n\nfig, ax1 = plt.subplots(figsize=(15,10))\nplt.title('Number of ideas submitted to TTO from petroleum-related research groups each year vs Brent oil price')\nax1.hist(years, bins = 14, range = ('2005-12-31','2020-01-01'), color='#fee090', ec=\"k\")\nplt.ylabel('Number of ideas')\nax2 = ax1.twinx()\nplt.ylabel('Oil price')\nax2.plot(dfo['Date'], dfo['Price'], '-', label='Oil price in $')\nplt.legend(loc='upper left')\nplt.show()","6805d64f":"# Employee type vs time\ndf = pd.crosstab(data.Employee, data.Year)\ndf = df.reindex(index = ['Professor','AssocProf','Engineer','Researcher','PostDoc','PhD', 'Student'])\n\n# Make a list of categories (years)\ncats = df.columns.tolist()\n# Make a matrix of cumulative values (number of ideas)\n#cum_vals = np.cumsum(df.values, axis=1)\n# Make a list of values (number of ideas)\nvals = df.values.tolist()\n# Make a list of indexes (type of employees)\nindex = df.index.tolist()\n\n# Plot\ncolors = ['#d73027','#fc8d59','#fee090','#ffffbf','#e0f3f8','#91bfdb','#4575b4']\n\nplt.figure(figsize=(15,10))\nt = 0\nv = 0\nfor i in index:\n    plt.bar(cats, vals[:][t], bottom=v, label=i, color=colors[t])\n    t+=1\n    v=np.sum(vals[:][0:t], 0)\n\n\nplt.legend(index, loc='upper left')\nplt.title('Number of ideas submitted to TTO since 2006 per employee group')\nplt.ylabel('Number of ideas')\nplt.show()\n\n#Total sum per column: \ndf.loc['Total',:]= df.sum(axis=0)\n#Total sum per row: \ndf.loc[:,'Total'] = df.sum(axis=1)\nprint (df)","1817d164":"# Path of the file to read\nfilepath = \"..\/input\/employment-in-petroleum-industry-in-norway\/employment_petroleum_no.csv\"\n# Read the file into a variable\ndfe = pd.read_csv(filepath)\ndfe.Year = pd.to_datetime(dfe.Year, format='%Y')\ndfe = dfe[dfe.Year >= '01-01-2006']\n# addition of approx one year do the dates in a waythey represent values at the end of each year\ndfe.Year= dfe.Year +  pd.to_timedelta(364, unit='d')\n# reset index, because we droped rows\ndfe.reset_index(drop=True, inplace=True)\n\n# change from string to float data type in Total\ndfe = dfe.astype({\"Total\":'float'}) ","19700cf7":"young_groups_years = data.Year[((data.Employee == 'Student') | (data.Employee == 'PhD') | (data.Employee == 'PostDoc')) \\\n                               & ((data.Group == 'Reservoir') | (data.Group == 'Geology') | (data.Group == 'Well') | (data.Group == 'Geophysics'))]\nyears = pd.to_datetime(young_groups_years, format='%Y')\n\nfig, ax1 = plt.subplots(figsize=(15,10))\nplt.title('Number of ideas submitted to TTO from temporary staff working in peroleum-related research group each year vs oil price \\\nand number of employees in the Norwegian petroleum sector')\nax1.hist(years, bins = 14, range = ('2005-12-31','2020-01-01'), color='#fc8d59', ec=\"k\")\nplt.ylabel('Number of ideas')\nax2 = ax1.twinx()\nplt.ylabel('Oil price in $ \/ Number of employees in k')\nax2.plot(dfo['Date'], dfo['Price'], '-', label = 'Brent oil price')\nax2.plot(dfe['Year'], dfe['Total'], '-', label = 'Employees in petro. sector', color = '#d73027')\nplt.legend(loc='upper left')\nplt.show()","f9bcef8e":"### What are the ideas about?\nThe ideas are related to core activity of the department: petroleum and geoscience. Each idea is however unique and answers a concrete need. The chart below shows frequency of the words that were used by inventors to describe their ideas. In order to keep idea names sceret, the idea names are not a part of this dataset. The chart was generated from an internal dataset that contain these information.","2548dd15":"### Is number of ideas dependen on employee group?\nI showed some trends when it comes to submitted ideas vs thematic\/research groups. But what about employees themselves? Which group are the ideas comng from? Are they permanent or temporaty staff? Seasoned or new to the research? Maybe this might help explaining the phenomenon of 2016? The area chart below shows cummulative number of reported ideas per employee group. Before 2016 innovations were mostly submitted by professors with some input from researchers and an engineer. What happended in 2016 is the PhDs began reporting ideas and very quickly passed professors in the number of ideas. If we take out ideas from temporary staff then the number of ideas each year would fluctuate at the same level for the whole period 2006 - 2019. So why do we get this unanticipated increase of ideas from temporary staff? It might be speculated that these years are the beginnig of the innovation and entrepreurship focus in Norway (however not reflected by Google search interest showed before). More and more attention was paid at the university. Moreover, more resources were invested in education and support, especially for young researchers and students. But is there any other explanation?","dd97839e":"## Conclusions: why tech transfer boosted in 2016?\nGreat increase of the number of ideas reported to TTO from 2016 was possibly related to the drop in oil prices in 2015 - 2016 and associated cost reductions in the industry. The drop was likely a trigger for researchers to pay more attention on technology transfer. This might be an efffect of less availabe research funds and less jobs in the petroleum industry. The oil crisis was a trigger for mostly temporary staff that is likely to be sensitive on the job marked. Few years after extremely low oil prices the amount of innovations from temporary staff is still high being an effect of either a pro-innovative minset change or uncertainty on the petroleum job marked.","0fc4c8f7":"So how does number of ideas look for oil-related research groups? Is it somehow related to oil prices? yes, somehow - these groups began submitting innovative ideas when the oil price was at the bottom - 2015 and 2016 (see chart below). This follows the general trend in the industry and related contractors when the oil price is low - amount of innovations helping with cost reduction and efficiency increases. In addition many research projects are not get funded because of industry cuts on research. Intrestingly, we cannot however observe onset of idea submission at the previous oil price drop - 2008 - 2009. Maybe at that time the idea of reporting innovations to TTO was not mature yet? ","47421ff4":"### Number of ideas submitted by research groups\nI show a plot of submitted ideas that distinguishes which research group were the ideas from or what industry area ideas belong to. The ideas were binned to 6 groups reflecting real structure of the department:\n\n- Engineering - Engineering Geology and Rock Mechanics <br>\n- Geology - Geology<br>\n- Geophysics - Geophysics<br>\n- Mineral - Mineral Production and HSE<br>\n- Reservoir - Reservoir Engineering and Petrophysics<br>\n- Well - Well Construction and Production Systems<br>","0864a4fe":"## Results and analysis: general trends \n### Number of ideas submitted to TTO each year\nThe first chart (bar plot) below shows number of ideas received by TTO from the department's employees (number of submissions) each year. Please note that in January 2017 the Department of Geoscience and Petroleum (IGP) was formed by a merger of 2 departments: Department of Petroleum Technology and Applied Geophysics (IPT) and Department of Geology and Mineral Resources Engineering (IGB). Therefore, the results before 2017 discriminate between 2 departments. The next chart (area plot) shows cummulation of the ideas received by TTO from the department. ","2f7c427b":"### Number of ideas submitted by employee groups","a8ad695f":"## Dataset\nThe dataset consists of some details of the ideas submitted to TTO by the employees. The dataset consists of: project title (anonymized in this notebook), project number, submission year, department (here we look at the Department of Geoscience and Petroleum only), status of the idea and main inventor name (anonymized in this notebook). The dataset was supplemented by information about department's research and employee groups. Table below shows first lines of the dataset used for further result visualization and analysis.","604c91fc":"### What is the status of ideas submitted to TTO?\nWhat happend to the ideas after submission? Become they projects or were they finished? The charts below shows their status per 12\/2019.","ba874a26":"### Who does submit the ideas?\nInventors create and submit differnt amount of ideas to TTO. The diagram below shows the most active inventors from the department. Inventors that submitted more than 1 idea are included with the name, remaining ones are included in the *'others'* group. Real inventor names were anonimized.","80881919":"# Technology transfer from Department of Geoscience and Petroleum NTNU measured by number of ideas submitted to TTO\n## Introduction\n[Department of Geoscience and Petroleum](https:\/\/www.ntnu.edu\/igp\/department-of-geoscience-and-petroleum) of [Norwegian University of Science and Technology](https:\/\/www.ntnu.edu\/) in Trondheim is an important supplier of technology and knowledge to petroleum and geology-related industries for many decades. Employees of the department transfer the technology to the industry by different mechanisms including project deliverables, dissertations, technology licencing, and spin-off companies (see figure below). In this notebook I cast some light on on the last two mechanisms - licensing and spin-offs. These tech transfer mechanisms are normally collaboration projects of the department and [TTO](https:\/\/www.ntnutto.no\/home\/) (Technology Transfer Office NTNU). The major role of TTO is to facilitate the projects including, among others, business development and evaluation of project ideas received from NTNU's employees. This notebook shows some statistics and simple analysis of the innovative project ideas that has been submitted to TTO in the last 14 years - between 2006 and 2019. It is based on a dataset provided by courtesy of TTO in December 2019 and supplied by additional information by the author of the notebook.","87759471":"## Results and analysis: why tech transfer boosted in 2016?\nThe most intriguing thing is **what happened in 2016?** Before 2016 the department employees reported quite little ideas to TTO. It does not mean the department was not coming up with new technology - it did, but but the technology was mostly transferred by other mechanisms like deliverables through research projects which were mostly sponsored by the industry. Anyhow the average number of submitted ideas between 2006 and 2015 per year was exactly 1. This pattern was however broken at sometime in 2016. From 2016 on the number boosted to from 1.00 to 7.75. But why? Was it an effect of increased interest in innovation and entrepreneurship in Norway at this time? Was it due to less research projects? Less carrier opportunities for temporary staff? Oil crisis? Or something else?\n<br><br>\nAnother observation is before 2015 all of the submitted ideas came from former Department of Geology and Mineral Resources Engineering (IGB) representing fields of engineering geology, mineral production, and geology. Before 2015 employees from former Department of Petroleum Technology and Applied Geophysics (IPT), representing areas of reservoir engineering, petrophysics, well construction and production, did not submit any ideas to TTO. In 2015 - 2016 IPT has waken up and started reporting more and more projects to TTO. But again why in 2016?\n\n","e3bbe364":"### Is increase in number of ideas dependent on research field?\nTo get better understanding of a phenomenon of year 2016 I show a cummulative area plot of submitted ideas that distinguishes which research group were the ideas from or what industry area ideas belong to. The ideas were binned to 6 groups reflecting real structure of the department:\n\n- Engineering - Engineering Geology and Rock Mechanics <br>\n- Geology - Geology<br>\n- Geophysics - Geophysics<br>\n- Mineral - Mineral Production and HSE<br>\n- Reservoir - Reservoir Engineering and Petrophysics<br>\n- Well - Well Construction and Production Systems<br>\n\nIntrestingely, before 2016 submitted ideas were majorily delivered by 2 research groups: engineering and minearal production. Each group was submitting about 1 idea per 2 years in this period in a constant manner. From 2016 on these groups began submitting more ideas than in the previous period, but also other groups began reporting to TTO - geology, geophysics, reservoir and well - the research groups closely linked to the petroleum industry. \n","457da492":"### Is number of ideas submitted to TTO related to oil prices?\nThat's not clear. There is something going on from 2016 onwards - some kind of relationship. But this is not a case from 2009 to 2011 when we observe similar increase of oil prices from the bottom up.","f9c52943":"Interestingly, young employees (+ a student) has began reporting technology to TTO when the oil price was at its bottom. This might also be expected because of lower number of jobs that traditionally are next carrier steps for young and temporary staff. When there are no jobs then setting up an own company seems a reasonabe carrier choice. The chart below shows number of ideas from temporary staff working in petroleum-ralated research groups. It also shows oil price and number of employees in the Norwegian petroleum sector. We may observe up to 4 ideas per year from the temporary staff after from 2016 on (see chart below). The amount of ideas coming from permanent staff working in oil-related subjects was smaller: usually 1-2 ideas per year (see a chart of total number of ideas coming from staff working with oil related subjects above). The oil crisis of 2015 and 2016 was definitely a trigger for temporary employees to start thinking about alternative carrier choices - in this case techology transfer of their own work. Interestingly, it did not happen at the previous oil crisis. The reason for it might be that oil crisis in 2008 - 2009 did not result in decrease in number of employees in the Norwegian petroleum sector as in 2015 - 2016 (see chart below).\n","2a76acde":"### Is number of ideas submitted to TTO related to popularity of innovation and entrepreneurship?\nOne way to measure popularity are google search statistics. I checked words: \"entrepreneurship\", \"innovtion\" and their Norwegian versions: \"entrepren\u00f8rskap\" and \"innovasjon\". I cannot really notice a clear relationship between google search results and number of ideas. maybe There is some increase of pupularity from about 2014 and 2015 but thats not very conclusive."}}