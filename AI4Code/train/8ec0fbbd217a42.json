{"cell_type":{"be26df65":"code","7419ef3a":"code","c103179a":"code","35d32f6c":"code","4affe11a":"code","29533a62":"code","6f7c7da5":"code","efeadda8":"code","1db823ff":"code","575ad180":"code","2d34e1cf":"code","46e42c25":"code","6868282a":"code","20cf6d21":"code","9e8dbc3d":"code","1cebb438":"code","c44c8cc6":"code","9a787707":"code","75910377":"code","198138be":"code","632ddb35":"code","fc09561a":"code","5edffae6":"code","c8bd65b2":"code","09a4072a":"code","5cf8bea3":"code","2e654c76":"code","bf7aa7cb":"code","1719ecf4":"code","cc983aba":"code","ec554008":"code","d60c74e9":"code","7e3199db":"code","75a94c3d":"code","44176579":"code","98e16d7d":"code","c81174be":"code","fcf14f3f":"code","307a42ef":"code","24799e8b":"code","cb5f09aa":"code","ff98a0be":"code","9f9fa42d":"code","fd43a671":"code","ca0ddfc2":"code","4ff90780":"code","552fff01":"code","d24c9c56":"code","fa4e0cff":"code","3d825aed":"code","ad7b4709":"code","a40cfa23":"code","b2654b7a":"code","a8f4b79d":"code","ebfa63f6":"code","d342cf8d":"code","e42dcac0":"code","1b621379":"code","161f291f":"code","03b9657a":"code","91d8c555":"code","1e83ef67":"code","6c7716d3":"code","0f563c12":"code","40d8947e":"code","d45dc48e":"code","c3ad8791":"code","67ac64f9":"code","35d9b17f":"code","7f795a5b":"markdown","516c7320":"markdown","d8b12f3f":"markdown","9373ed1b":"markdown","fc9da81c":"markdown","68fcadc2":"markdown","e419a15e":"markdown","e530ff96":"markdown","46281d49":"markdown","002e3b86":"markdown","0a8974d7":"markdown","5afe48d2":"markdown"},"source":{"be26df65":"#Importing Libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib as plt\nimport seaborn as sbs\nimport chardet","7419ef3a":"# Check the cahracter encoding of the file mignt be.\nwith open('..\/input\/investment-datasets\/mapping.csv', 'rb') as rawdata:\n    result = chardet.detect(rawdata.read())\n    \nprint(result)","c103179a":"#Reading all csv files in dataframes\ncompanies = pd.read_csv('..\/input\/investment-datasets\/companies.csv', encoding= 'latin')\nrounds2   = pd.read_csv('..\/input\/investment-datasets\/rounds2.csv', encoding= 'latin')\nmapping   = pd.read_csv('..\/input\/investment-datasets\/mapping.csv', encoding='ascii')","35d32f6c":"companies.info()","4affe11a":"# Fixing coulmns for companies DataFrame\n# Convetring Founded_at to date format\ncompanies['founded_at'] = pd.to_datetime(companies['founded_at'], errors = 'coerce')\n# Converting company to uppercase\ncompanies['permalink'] = companies['permalink'].str.upper()\ncompanies['permalink'] = companies['permalink'].str.strip()","29533a62":"rounds2.info()","6f7c7da5":"# Fixing columns for rounds2 DataFrame\n# Convetring funded_at to date format Dtype\nrounds2['funded_at'] = pd.to_datetime(rounds2['funded_at'], errors = 'coerce')\n# Converting company to uppercase\nrounds2['company_permalink'] = rounds2['company_permalink'].str.upper()\nrounds2['company_permalink'] = rounds2['company_permalink'].str.strip()","efeadda8":"# How many unique companies are present in rounds2?\nrounds2['company_permalink'].describe()","1db823ff":"# How many unique companies are present in the companies file?\ncompanies['permalink'].describe()","575ad180":"# Are there any companies in the rounds2 file which are not \u00a0present in\u00a0companies ? Answer Y\/N.\ncompanis_set = set(companies['permalink'])\nrounds2_set = set(rounds2['company_permalink'])\nlen(companis_set | rounds2_set)   \n#As the union is giving more values than 66368, so there are values in companies in rounds2 which are not present in companies.","2d34e1cf":"# Renaming round2 column 'company_permalink' to 'permalink'\nrounds2 = rounds2.rename({'company_permalink':'permalink'}, axis='columns')","46e42c25":"# Merge the two data frames so that all \u00a0variables (columns) \u00a0in the companies frame are added to the rounds2 data frame.\u00a0Name the merged frame master_frame.\u00a0How many observations are present in master_frame ?\nmaster_frame = pd.merge(rounds2, companies, on = 'permalink' )","6868282a":"master_frame.info()","20cf6d21":"# Cleaning the data of all the columns which I am using for analysis\n# Deleting rows where (funding type, amount, category list, status and country code) anyone of these are empty\nmaster_frame = master_frame[~(master_frame['permalink'].isnull())]\nmaster_frame = master_frame[(~(master_frame['raised_amount_usd'].isnull())) ]\nmaster_frame = master_frame[~(master_frame['category_list'].isnull())]\nmaster_frame = master_frame[~(master_frame['status'].isnull())]\nmaster_frame = master_frame[~(master_frame['country_code'].isnull())]\n\n# Removing rows for amounts which are 0 and negative values\nmaster_frame = master_frame[master_frame['raised_amount_usd'] > 0 ] ","9e8dbc3d":"# Checking to total investments between 5M and 15M\nmaster_frame[(master_frame['raised_amount_usd'] >= 5000000) & (master_frame['raised_amount_usd'] <= 15000000)].count()\n# There are total 17887 investments between 5M and 15M","1cebb438":"# 1. Considering Mean as the funding types are mainly categorised based on the amount invested in the company.\n# 2. I am taking number of investments between 5M and 15M for each of the funding types.\n# Based in points 1 and 2 I am selecting suitable funding type.","c44c8cc6":"# Representative funding amount of venture type \nmaster_frame['raised_amount_usd'][master_frame['funding_round_type'] == 'venture'].mean()","9a787707":"# Total venture lie between 5M and 15M\nmaster_frame['raised_amount_usd'][(master_frame['funding_round_type'] == 'venture') & (master_frame['raised_amount_usd'] >= 5000000) & (master_frame['raised_amount_usd'] <= 15000000)].count()\n# I have observed that the 15,771 venture investments are between 5M and 15M\n# The outliers are not consideres as the amount is filtered 5M to 15M","75910377":"# Representative funding amount of angel type\nmaster_frame['raised_amount_usd'][master_frame['funding_round_type'] == 'angel'].mean()","198138be":"# Total angel lie between 5M and 15M\nmaster_frame['raised_amount_usd'][(master_frame['funding_round_type'] == 'angel') & (master_frame['raised_amount_usd'] >= 5000000) & (master_frame['raised_amount_usd'] <= 15000000)].count()\n# I have observed that the 68 angel investments are between 5M and 15M\n# The outliers are not consideres as the amount is filtered 5M to 15M","632ddb35":"# Representative funding amount of seed type\nmaster_frame['raised_amount_usd'][master_frame['funding_round_type'] == 'seed'].mean()","fc09561a":"# Total seed lie between 5M and 15M\nmaster_frame['raised_amount_usd'][(master_frame['funding_round_type'] == 'seed') & (master_frame['raised_amount_usd'] >= 5000000) & (master_frame['raised_amount_usd'] <= 15000000)].count()\n# I have observed that the 187 seed investments are between 5M and 15M\n# The outliers are not consideres as the amount is filtered 5M to 15M","5edffae6":"# Representative funding amount of private equity type\nmaster_frame['raised_amount_usd'][master_frame['funding_round_type'] == 'private_equity'].mean()","c8bd65b2":"# Total private_equity lie between 5M and 15M\nmaster_frame['raised_amount_usd'][(master_frame['funding_round_type'] == 'private_equity') & (master_frame['raised_amount_usd'] >= 5000000) & (master_frame['raised_amount_usd'] <= 15000000)].count()\n# I have observed that the 402 angel investments are between 5M and 15M\n# The outliers are not consideres as the amount is filtered 5M to 15M","09a4072a":"# Creating Pivot table based on raised_amount_usd\nmaster_pivot = pd.pivot_table(master_frame, values = 'raised_amount_usd',index = 'funding_round_type',  aggfunc = 'mean')","5cf8bea3":"# Filtering funding types by ['private_equity','angel','seed','venture']\nmaster_pivot = master_pivot[master_pivot.index.isin(['private_equity','angel','seed','venture'])].sort_values(by = 'raised_amount_usd', ascending = False)","2e654c76":"# Bar chart to show which funding type is suited for Spark funds according to its requirement\nmaster_pivot['raised_amount_usd'] = master_pivot['raised_amount_usd'].apply(lambda x: x\/1000000)\nmaster_pivot['raised_amount_usd'].plot.bar(xlabel = 'Funding Type',ylabel = 'Millions', figsize=[8,8], fontsize ='12',title='Funding Type').set_ylim(0,20)","bf7aa7cb":"# Filtering dataset based in selected Fund type\nmaster_frame = master_frame[master_frame['funding_round_type'] == 'venture']","1719ecf4":"# Data frame named top9 with the top nine countries (based on the total investment amount each country has received)\nmaster_pivot_cc = pd.pivot_table(master_frame, values = 'raised_amount_usd',index = 'country_code',  aggfunc = 'sum').sort_values(by = 'raised_amount_usd', ascending = False)","cc983aba":"top9_cc = list(master_pivot_cc.index[0:9])","ec554008":"top9_cc","d60c74e9":"master_pivot_cc","7e3199db":"# Top9 invested countries\nmaster_pivot_cc['raised_amount_usd'] = master_pivot_cc['raised_amount_usd'].apply(lambda x: x\/1000000000)\nmaster_pivot_cc[0:9].plot.bar(xlabel = 'Country',ylabel = 'Total invested amount (Billions)', figsize=[8,8], fontsize ='12',title='Top 9 Countries with total amount invested')","75a94c3d":"top9 = master_frame[master_frame['country_code'].isin(top9_cc)]\n# Now, top9 has only values of top 9 countries, so considering top9 for further analysis","44176579":"top9['primary_sector'] = top9['category_list'].apply(lambda x: x.split('|')[0])","98e16d7d":"top9.head(20)","c81174be":"mapping.info()","fcf14f3f":"# In mapping checking if any category_list has multiple sectors marked\nmapping['sum'] = mapping[mapping.columns[mapping.dtypes == 'int64']].sum(axis = 1)\n\n# Removing row with balnk is 1\nmapping = mapping[mapping.Blanks != 1]","307a42ef":"mapping[mapping['sum'] != 1].count()\n# From this we got to know that each category_list has only one main sector","24799e8b":"# Creating new column main_sector with the column name where value is 1.\nmapping['main_sector'] = mapping.apply(lambda x: mapping.columns[x == 1][0], axis = 1)","cb5f09aa":"mapping.head()","ff98a0be":"# after merging the mapping, found that many values are missing in the top9, so I checked the mapping file and found that \n# many values in categoty_list has '0' (zero) instead of 'na'.eg: 'Alter0tive Medicine'\n\n# So, replacing wrong values in mapping table to correct category list\nmapping['category_list'] = mapping['category_list'].apply(lambda x: x.replace('0', 'na'))","9f9fa42d":"# Observed avalue in categoty_list as 'Enterprise 2.0', that is also replave d with 'na'.\n# So replacing 2.na with 2.0.\nmapping['category_list'] = mapping['category_list'].apply(lambda x: x.replace('2.na', '2.0'))","fd43a671":"# changing the category_list column to primary_sector\nmapping = mapping.rename({'category_list':'primary_sector'}, axis = 'columns')\n\n# Converting primary sector in both data frame to upper case\nmapping['primary_sector'] = mapping['primary_sector'].str.upper()\ntop9['primary_sector'] = top9['primary_sector'].str.upper()\n\n# merging main sector column to the top9 data frame form mapping\ntop9 = pd.merge(top9, mapping[['primary_sector','main_sector']], on = 'primary_sector')","ca0ddfc2":"# Not considering the companies which are with closed status, as we are not intrested in the closed companies\ntop9 = top9[top9['status'] != 'closed']","4ff90780":"top9.info()","552fff01":"# Three separate data frames D1, D2 and D3 for each of the three countries containing the observations of funding type \n# falling within the 5-15 million USD range\n# D1 = USA\n# D1 = IND\n# D1 = GBR\nD1 = top9[(top9['country_code'] == 'USA') & (top9['raised_amount_usd']>= 5000000) & (top9['raised_amount_usd']<= 15000000)]\nD2 = top9[(top9['country_code'] == 'IND') & (top9['raised_amount_usd']>= 5000000) & (top9['raised_amount_usd']<= 15000000)]\nD3 = top9[(top9['country_code'] == 'GBR') & (top9['raised_amount_usd']>= 5000000) & (top9['raised_amount_usd']<= 15000000)]","d24c9c56":"# Total number of Investments (count) USA\nD1.shape","fa4e0cff":"# Total number of Investments (count) IND\nD2.shape","3d825aed":"# Total number of Investments (count) GBR\nD3.shape","ad7b4709":"# Total amount of investment (USD) USA\nD1['raised_amount_usd'].sum()","a40cfa23":"# Total amount of investment (USD) IND\nD2['raised_amount_usd'].sum()","b2654b7a":"# Total amount of investment (USD) GBR\nD3['raised_amount_usd'].sum()","a8f4b79d":"# Top Sector name (no. of investment-wise) USA\nD1.main_sector.value_counts()","ebfa63f6":"# Top Sector name (no. of investment-wise) IND\nD2.main_sector.value_counts()","d342cf8d":"# Top Sector name (no. of investment-wise) GBR\nD3.main_sector.value_counts()","e42dcac0":"# For point 3 (top sector count-wise), which company received the highest investment? USA\npd.pivot_table(D1, values = 'raised_amount_usd', index='permalink', columns = 'main_sector', aggfunc = 'sum').sort_values(by ='Others', ascending = False)","1b621379":"# For point 3 (top sector count-wise), which company received the highest investment? IND\npd.pivot_table(D2, values = 'raised_amount_usd', index='permalink', columns = 'main_sector', aggfunc = 'sum').sort_values(by ='Others', ascending = False)","161f291f":"# For point 3 (top sector count-wise), which company received the highest investment? GBR\npd.pivot_table(D3, values = 'raised_amount_usd', index='permalink', columns = 'main_sector', aggfunc = 'sum').sort_values(by ='Others', ascending = False)","03b9657a":"# For point 4 (second best sector count-wise), which company received the highest investment? USA\npd.pivot_table(D1, values = 'raised_amount_usd', index='permalink', columns = 'main_sector', aggfunc = 'sum').sort_values(by ='Social, Finance, Analytics, Advertising', ascending = False)","91d8c555":"# For point 4 (second best sector count-wise), which company received the highest investment? IND\npd.pivot_table(D2, values = 'raised_amount_usd', index='permalink', columns = 'main_sector', aggfunc = 'sum').sort_values(by ='Social, Finance, Analytics, Advertising', ascending = False)","1e83ef67":"# For point 4 (second best sector count-wise), which company received the highest investment? GBR\npd.pivot_table(D3, values = 'raised_amount_usd', index='permalink', columns = 'main_sector', aggfunc = 'sum').sort_values(by ='Social, Finance, Analytics, Advertising', ascending = False)","6c7716d3":"# Putting top 3 countries sata in one data frame\ntop3 = top9[top9['country_code'].isin(['USA','IND','GBR'])]\ntop3 = top3[(top3['raised_amount_usd']>= 5000000) & (top3['raised_amount_usd']<= 15000000)]","0f563c12":"top3_pivot = pd.pivot_table(top3, values = 'primary_sector', index = 'country_code', columns = 'main_sector', aggfunc = 'count' )","40d8947e":"top3_pivot ","d45dc48e":"# Aligning the columns accordingly\ncols = ['Cleantech \/ Semiconductors',\n 'Others',\n 'Social, Finance, Analytics, Advertising',\n 'News, Search and Messaging']\ntop3_pivot = top3_pivot[cols]\ntop3_pivot= top3_pivot.sort_values(by = 'country_code', ascending = False)","c3ad8791":"top3_pivot.iloc[0][3] = 0\ntop3_pivot.iloc[1][0] = 0\ntop3_pivot.iloc[2][3] = 0","67ac64f9":"top3_pivot","35d9b17f":"top3_pivot.plot.bar(xlabel = 'Country',ylabel = 'Number of Investments', figsize=[8,8], fontsize ='12',title='Top 3 sectors of the Top 3 countries for Venture Fund type')","7f795a5b":"### Cleaning the master_frame","516c7320":"# Investment Analysis","d8b12f3f":"### Importing libraries and reading csv files","9373ed1b":"### Converting columns attributes to correct data type","fc9da81c":"###  Table -  3.1 : Country analysis","68fcadc2":"### Table - 5.1 : Sector Analysis","e419a15e":"According to above plot 'Venture' funding type is best for Spark Funds, which falls in-between 5M to 15M","e530ff96":"'Others' sector has the most number of investments in all 3 countries, hence it is suites the Saprk Funds requirement.","46281d49":"###  Table-1.1 : Understand the Data Set","002e3b86":"### Table-2.1 : Funding type Analysis","0a8974d7":"Based on above graph we can conclude that USA, GBR and IND are top 3 countries for investment (English as one of the official language)","5afe48d2":"### Merging Companies and Round2 DataFrames"}}