{"cell_type":{"d588eb5e":"code","cb9395fe":"code","3f0e6b5f":"code","ca2df6bc":"code","bb55339e":"code","d808d618":"code","411a7de9":"code","da04b7f7":"code","3d11d0b3":"code","c941dfd0":"code","700795e0":"code","55e41311":"code","2bdffcc9":"code","f704e724":"code","061e7c7c":"code","f5892e6b":"code","11bf48a1":"code","5493b278":"code","8fbc4062":"code","b6210b28":"code","154d281d":"code","6a243206":"code","300ddc97":"code","585e4fda":"code","982b79bb":"code","59f0b4da":"code","dece8d62":"code","71d6da77":"code","f67399ae":"code","006f0276":"code","b1e4e8f8":"code","2913fe82":"code","0e61c336":"code","39352eba":"code","a4777328":"code","75a3b8c1":"code","4baa2f0a":"code","d743a609":"code","26abde54":"code","cde189e5":"code","10d98782":"code","e86c5d1b":"code","4dbdc44d":"code","9b7419f6":"code","876ead6a":"code","8423eb54":"code","13f584b6":"code","db1ce85a":"code","1c0638a9":"code","1b301966":"code","15349820":"code","291d68ae":"code","e310a3c8":"code","35a6c752":"code","e781e44e":"code","3ad7c3c7":"code","6a3c8280":"code","30596817":"code","de04fede":"code","b0b102ec":"code","9154b8f1":"code","eb03bdb6":"code","710c5b21":"code","b0f2fd4e":"code","d30da522":"code","497b5388":"code","208d08d3":"code","4d9d00fd":"code","15787f8a":"code","019be74f":"code","4a36546d":"code","340cd64e":"code","12fa7547":"code","5dbd0ae7":"code","1e75e5f8":"code","749f3c6c":"code","59b8082d":"code","44423387":"code","753ff77e":"code","d0dfb6e1":"code","cd5b5fec":"code","6730acbc":"code","f737889d":"code","bfd473ff":"markdown","77d83368":"markdown","733f3928":"markdown","2ac4f05c":"markdown","212ab932":"markdown","b2ebbe03":"markdown","d51e18cd":"markdown","9513c86f":"markdown","950a04d3":"markdown","f3fcbb3c":"markdown","72356d3a":"markdown","5b58ef56":"markdown","87dad60a":"markdown","883fca2c":"markdown","ebeb5f0e":"markdown","bccf959c":"markdown","af6d4c44":"markdown","f7f74d5f":"markdown","0554f1e3":"markdown","fb883dae":"markdown","464171b3":"markdown","8e5d22dd":"markdown","e5521a7c":"markdown","26bb4285":"markdown","4f263480":"markdown","141516be":"markdown","aac0dd74":"markdown","bf651243":"markdown","029ed3a4":"markdown","9fa854e3":"markdown","c4bf4c42":"markdown","501be353":"markdown","b0da5387":"markdown","caf59987":"markdown","5eee8d59":"markdown","6d6bf269":"markdown","090bc75a":"markdown","b957f0a4":"markdown","451ca0d1":"markdown","ca24e00e":"markdown","06f8302d":"markdown","a3feb18d":"markdown","308243ac":"markdown","c88119d5":"markdown","e7c6ea46":"markdown","dffc3a29":"markdown","e08238ed":"markdown","243cd312":"markdown","85f2b2bb":"markdown","85c4a6ac":"markdown","21c94a66":"markdown","cf51cd84":"markdown","52eb2f7a":"markdown","1db6ff2e":"markdown","7ada35f3":"markdown","3115d564":"markdown","5a6665e7":"markdown","2ca2d5f9":"markdown","f82f4245":"markdown","dea3859a":"markdown","2b63b638":"markdown","0e336714":"markdown","0e7bff07":"markdown","950a6ef8":"markdown","501b7276":"markdown","70456437":"markdown","cd1b69e2":"markdown","6f0a71f0":"markdown","6913e8e5":"markdown","e7cd7a96":"markdown","ab41b868":"markdown","427e728a":"markdown","5053ab5e":"markdown","574bd738":"markdown","bfe67aec":"markdown","4d50ae24":"markdown","7599227f":"markdown","2424becb":"markdown","93bdab82":"markdown","6857185c":"markdown"},"source":{"d588eb5e":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nfrom collections import Counter\nimport warnings\nwarnings.filterwarnings('ignore')","cb9395fe":"df = pd.read_csv(\"..\/input\/stanford-open-policing-project\/police_project.csv\")","3f0e6b5f":"df.shape","ca2df6bc":"df.sample(5)","bb55339e":"df.info()","d808d618":"df1 = df.copy()","411a7de9":"df1.columns","da04b7f7":"df1.isnull().sum()","3d11d0b3":"df1['stop_date'] = pd.to_datetime(df1.stop_date)","c941dfd0":"df1.stop_date","700795e0":"df1['stop_time'] = pd.to_datetime(df1['stop_time'], format='%H:%M').dt.hour","55e41311":"df1.stop_time","2bdffcc9":"df1.drop('county_name',axis = 1, inplace = True)","f704e724":"df1.columns","061e7c7c":"df1.driver_age.isnull().sum()","f5892e6b":"df1.driver_age_raw.isnull().sum()","11bf48a1":"df1.stop_date.sort_values()","5493b278":"df1[(df1.driver_age_raw.notnull())& (df1.driver_age.isnull())][['stop_date','driver_age_raw', 'driver_age']]","8fbc4062":"df1[df1.driver_age_raw == 0].driver_age_raw.value_counts()","b6210b28":"df1[(df1.driver_age_raw == 0) & (df1.driver_age.notnull())]","154d281d":"zero_index_age_raw = df1[df1.driver_age_raw == 0].driver_age_raw.index\nzero_index_age_raw","6a243206":"df1['driver_age_raw'].loc[zero_index_age_raw]= df1['driver_age_raw'].loc[zero_index_age_raw].replace(0.0,np.nan)","300ddc97":"df1.loc[zero_index_age_raw].driver_age_raw","585e4fda":"df1.driver_age_raw.isnull().sum()","982b79bb":"df1[(df1.driver_age_raw.notnull()) & (df1.driver_age.isnull())][['stop_date','driver_age_raw', 'driver_age']]","59f0b4da":"df1.drop('driver_age_raw',axis = 1, inplace = True)","dece8d62":"df1['violation_raw'].value_counts(dropna = False)","71d6da77":"df1['violation'].value_counts(dropna = False)","f67399ae":"def violation_org(x):\n    if x == 'Other Traffic Violation':\n        return 'Moving violation'\n    elif x in ['APB','Suspicious Person', 'Warrant', 'Motorist Assist\/Courtesy', 'Violation of City\/Town Ordinance']:\n        return 'Other'\n    else :\n        return x","006f0276":"df1.violation_raw.apply(violation_org).value_counts()","b1e4e8f8":"df1.violation = df1.violation_raw.apply(violation_org) ","2913fe82":"df1.violation.value_counts()","0e61c336":"df1.drop('violation_raw', axis = 1, inplace = True)","39352eba":"df1.search_type.value_counts(dropna = False)","a4777328":"df1.drop('search_type', axis = 1, inplace = True)","75a3b8c1":"df1.is_arrested","4baa2f0a":"df1.is_arrested = df1.is_arrested.astype('bool')","d743a609":"df1.is_arrested.dtype","26abde54":"df1.info()","cde189e5":"df1.sample(5)","10d98782":"df1.sample(5)","e86c5d1b":"plt.figure(figsize= (12,6))\nsns.countplot(df1.stop_time);","4dbdc44d":"plt.figure(figsize= (15,6))\nplt.subplot(1,2,1)\nsns.countplot(df1.stop_time)\nplt.title('Stop_time')\nplt.subplot(1,2,2)\nsns.countplot(df1[df1.violation == 'Speeding'].stop_time)\nplt.title('Stop_time_speeding');","9b7419f6":"plt.figure(figsize=(12,4))\nsns.lineplot(df1.stop_time,df1.stop_time.index, ci = 20, hue = df1.driver_gender, dashes = True , palette = 'husl' )\nplt.xlabel(\"Hour\")\nplt.ylabel(\"Stop Rate\")\nplt.title(\"Stop Rate by Time of Day\");","876ead6a":"df1.driver_gender.value_counts()","8423eb54":"plt.figure(figsize = (15,6))\nplt.pie(df1.driver_gender.value_counts(), \n        labels =df1.driver_gender.value_counts().index, \n        colors = ['lightskyblue', 'lightcoral'],\n       autopct='%.1f%%');","13f584b6":"plt.figure(figsize = (10,6))\nsns.countplot(df1.driver_gender, palette = 'husl');","db1ce85a":"female = df1[df1.driver_gender == 'F']\nmale = df1[df1.driver_gender == 'M']","1c0638a9":"plt.figure(figsize = (15,6))\nsns.histplot(df1.driver_age, kde = True)\nplt.xticks(rotation=90);","1b301966":"plt.figure(figsize = (15,6))\nsns.histplot(female.driver_age, color = '#60CBBC', kde = True);","15349820":"plt.figure(figsize = (15,6))\nsns.histplot(male.driver_age, color = '#60CBBC', kde = True);","291d68ae":"df1.violation.value_counts()","e310a3c8":"plt.figure(figsize = (14,6))\nsns.countplot(df1.violation, order = df1.violation.value_counts().index, palette= 'husl')\nplt.xticks(rotation=45);","35a6c752":"f_order = female.violation.value_counts().index","e781e44e":"plt.figure(figsize = (15,6))\nsns.countplot(female.violation, palette= 'husl', order = f_order)\nplt.xticks(rotation=45)\nplt.title('Female Violation');","3ad7c3c7":"m_order = male.violation.value_counts().index","6a3c8280":"plt.figure(figsize = (15,6))\nsns.countplot(male.violation, palette= 'husl', order = m_order)\nplt.xticks(rotation=45)\nplt.title('Male Violation');","30596817":"plt.figure(figsize = (14,6))\nsns.countplot(df1.violation, order = df1.violation.value_counts().index, palette= 'husl', hue = df1.driver_gender)\nplt.xticks(rotation=45);","de04fede":"df1.search_conducted.value_counts()","b0b102ec":"female.search_conducted.value_counts()","9154b8f1":"male.search_conducted.value_counts()","eb03bdb6":"plt.figure(figsize = (14,6))\nsns.countplot(df1.search_conducted, order = df1.search_conducted.value_counts().index, palette= 'husl', hue = df1.driver_gender)\nplt.xticks(rotation=45);","710c5b21":"df1.sample(3)","b0f2fd4e":"print(\"\\n\",'The percentage of stop reasons which caused search conducted : ', flush = True)\nround(df1[df1.search_conducted == True].violation.value_counts(normalize = True),2)","d30da522":"df1.stop_outcome.value_counts()","497b5388":"female.stop_outcome.value_counts()","208d08d3":"male.stop_outcome.value_counts()","4d9d00fd":"plt.figure(figsize = (14,6))\nsns.countplot(df1.stop_outcome, order = df1.stop_outcome.value_counts().index, palette= 'husl', hue = df1.driver_gender)\nplt.xticks(rotation=45);","15787f8a":"df1[df1.stop_outcome == 'Citation'].violation.value_counts(normalize = True)","019be74f":"df1[df1.stop_outcome == 'Arrest Driver'].violation.value_counts(normalize = True)","4a36546d":"df1[df1.violation == 'Moving violation'].stop_outcome.value_counts(normalize = True)","340cd64e":"df1[df1.stop_outcome == 'Arrest Driver'].driver_gender.value_counts(normalize = True)","12fa7547":"colors = [ 'gold', 'lightcoral']\nplt.figure(figsize = (15,6))\nplt.pie(df1[df1.stop_outcome == 'Arrest Driver'].driver_gender.value_counts(), \n        labels =df1[df1.stop_outcome == 'Arrest Driver'].driver_gender.value_counts().index, \n        colors = ['lightskyblue', 'pink'],\n       autopct='%.1f%%');","5dbd0ae7":"df1.stop_duration.value_counts()","1e75e5f8":"female.stop_duration.value_counts()","749f3c6c":"male.stop_duration.value_counts()","59b8082d":"plt.figure(figsize = (14,6))\nsns.countplot(df1.stop_duration, order = df1.stop_duration.value_counts().index, palette= 'husl', hue = df1.driver_gender)\nplt.xticks(rotation=45);","44423387":"df1.drugs_related_stop.value_counts(normalize = True)","753ff77e":"df1[df1.drugs_related_stop == True].stop_outcome.value_counts()","d0dfb6e1":"df1[df1.drugs_related_stop == True].stop_outcome.value_counts(normalize = True)","cd5b5fec":"plt.figure(figsize = (14,6))\nsns.countplot(df1[df1.drugs_related_stop == True].stop_outcome, order = df1[df1.drugs_related_stop == True].stop_outcome.value_counts().index, palette= 'husl', hue = df1.driver_gender)\nplt.xticks(rotation=45);","6730acbc":"female[female.drugs_related_stop == True].stop_outcome.value_counts()","f737889d":"male[male.drugs_related_stop == True].stop_outcome.value_counts()","bfd473ff":"- As it can be clearly seen stop time is highest between 7.00 am and 11.00 am. Which can mean, while people are trying to get reach their work or their school they might be getting stopped because of speeding. \n- The lowesr rate is between 3.00 am and 5.00 am which is pretty normal because many people are asleep at that time.","77d83368":"## Search Counducted","733f3928":"- Since there are so many missing values in this column we are going to drop it.","2ac4f05c":"- Our prediction was correct many of stop reason in certain hours because of speeding.","212ab932":"- %82 of arrested drivers are male drivers while only %18 is female .","b2ebbe03":"<br>","d51e18cd":"<br><br>\n- As the results above demonstrates, while %30 of arrested drivers consist of moving violation, %85 of people who got stopped because of moving violation end up getting arrested.<br><br>","9513c86f":"#### Male Violation","950a04d3":"<br>","f3fcbb3c":"Here is the end of my study. I have learned and enjoyed a lot while studying it. I hope you feel the same way! \n<br><br>Thank you for coming through all the way to the end ! \n<br><br>Please let me know about your thoughts!","72356d3a":"## _Analysing_ ","5b58ef56":"## Stop Duration","87dad60a":"- Very likely we are going to come up with the same dilemma but there is a remarkable difference between two genders.","883fca2c":"Let's create 2 dataframes that are splitted by gender","ebeb5f0e":"<br>","bccf959c":"<br>","af6d4c44":"After importing the libraries next step is reading the file.","f7f74d5f":"- This is so weird because even though many of drug related stops got arrested or got citation some of them only got warning even some got no action. Driving while  impaired by drug is illegal and it is highly dangerous for both the driver in-question and the other drivers. In my point of view the police officers shouldn't have let them go, like nothing happened.","0554f1e3":"<br>","fb883dae":"<br>","464171b3":"<br>\n\n- As you can see we have 0 in driver_age_raw column which is not different than Null.\n\n<br><br>","8e5d22dd":"<br>","e5521a7c":"- Unless the result we got from female drivers, male drivers are consistent with overall results. ","26bb4285":"# Stanford Open Policing Project","4f263480":"<br>","141516be":"- I am going to explore every column one by one to make sure there is nothing important that I do not notice. \n<br>\n\n- Then as a next step with the results I will make my 'To Do List'.\n<br>\n- One more thing I would like to share is, it is very important that not working on your actual dataset to prevent undesirable incidents. Always get a copy of you dataset and work on it.","aac0dd74":"### County_name","bf651243":"<br>\nTo make an efficient analysis, It is very crucial to get familiar with the dataset.\n<br> <br>","029ed3a4":"- Even though violation column looks more orginized, I will drop violation column and reorganize violation_raw column.","9fa854e3":"- This is not something which made me surprise. Great majority of people who got pulled over consist of young people.","c4bf4c42":"---","501be353":"<br>\nI personally prefer to get a sample randomly from the dataset instead of getting some data from the top so I can see if there is something strange.\n<br><br>","b0da5387":"<br>","caf59987":"### Driver_age_raw - Driver_age","5eee8d59":"### Violation by Gender","6d6bf269":"#### Female Violation","090bc75a":"## Violation","b957f0a4":"## Drug Related Stop","451ca0d1":"### Stop_date - Stop_time","ca24e00e":"- Almost %60 of citation consints of drivers who got pulled over because of speeding.","06f8302d":"<br>","a3feb18d":"## Stop Outcome","308243ac":"Since we have specified the steps we are going to do for the purpose of cleaning the dataset we can get going.","c88119d5":"- I am just going to chech if there a way to fill some of them from driver_age column.","e7c6ea46":"<br>","dffc3a29":"### Stop_time","e08238ed":"##  Gender","243cd312":"Hello everyone ! \n\nIn this notebook, we are going to do an exploratory data analysis.\n\nLet's start with importing the libraries we might need.\n\n","85f2b2bb":"<br>","85c4a6ac":"<br>","21c94a66":"<br>","cf51cd84":"<br>\nThere are some info about the dataset right above. <br><br>\n\n- According to that we have some columns which consist of null values in and some columns which almost don't have any non-null value in. It would be benefical to get rid of those columns when we start cleaning out data.\n<br><br>\n- Also another thing that draw my attention is there are some columns includes date-time but their data type is object which doesn't help and some columns which have numeric values but their data type are object too. \n<br><br>\n\nI always make a 'To Do List' before start cleaning the data. Thus I do not forget or skip any step during cleaning.","52eb2f7a":"### Is_arrested","1db6ff2e":"- Just to make it easier them to compare let's get tehm in same chart!","7ada35f3":"<br>","3115d564":"#### Driver Age - Female","5a6665e7":"<br>","2ca2d5f9":" There is a huge difference between female and male driver in terms of violation. Probably while some will think that it is because there is a discrimination by gender, others will think it is because the ratio of following traffic rules disproportionate with females comprising the majority. :) It is your desicion to make, I am just simply giving the numbers. :)","f82f4245":"<br>","dea3859a":"### Violatin_raw - Violation","2b63b638":"- The ratio of traffic stops by gender is significantly disproportionate with males comprising the majority of cases. Can we say that means men tend to disobeying traffic rules more than women do?","0e336714":"## To Do List\n\n1. Change the dtype of stop_date and stop_time columns.\n2. Drop the column county_name.\n3. Driver_age_raw and Driver_age columns are the same, only one of them has more missing value. We can drop one of them.\n4. It is the same for violation_raw and violation column. Better to drop one of them.\n5. Search_type columns has so many missing values, we can drop it as weel.\n6. is_arrested column better to be bool.","0e7bff07":"<br>","950a6ef8":"- Regardless of the type of outcome, male drivers come up with much higher value.","501b7276":"<br>","70456437":"<br>","cd1b69e2":"<br>","6f0a71f0":"#### Driver Age - Male","6913e8e5":"- This is a puzzling result. According to this data on the age of 20 and 25 female drivers tend to get much more pulled over compared to other ages. ","e7cd7a96":"## Driver Age","ab41b868":"<br>","427e728a":"### Search Type","5053ab5e":"## *Data Cleaning*","574bd738":"<br>","bfe67aec":"<br>\n<br>\n\n- I am going to start with looking at stop_time column.\n<br>\n<br>","4d50ae24":"- And I couldn't find any value to fill them up :(","7599227f":"<br>","2424becb":"- As you can see, county_name column do not have any non-null value and also the search_type column almost consists of null values.","93bdab82":"  - Do you think that there is positive discrimination for the female drivers in terms of violation? Let's get it down.","6857185c":"- It looks like we are done with cleaning and we can start analysing."}}