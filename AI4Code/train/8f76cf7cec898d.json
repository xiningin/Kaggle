{"cell_type":{"28a7d562":"code","9922b30c":"code","b9bac883":"code","065c0d2f":"code","0ed35be4":"code","5bc0d9f1":"code","e2767e36":"code","ae7c3fd9":"code","64c80d7e":"markdown"},"source":{"28a7d562":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nimport seaborn as sns\nimport numpy as np\nplt.style.use('fivethirtyeight')\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.tools as tls\nfrom mpl_toolkits.basemap import Basemap\nimport folium\nimport folium.plugins\nfrom matplotlib import animation,rc\nimport io\nimport base64\nfrom IPython.display import HTML, display\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom scipy.misc import imread\nimport codecs\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))","9922b30c":"data=pd.read_csv('..\/input\/globalterrorismdb_0718dist.csv',encoding='ISO-8859-1')\n","b9bac883":"data.columns","065c0d2f":"data.rename(columns={'iyear':'Year','imonth':'Month','iday':'Day','country_txt':'Country','region_txt':'Region','attacktype1_txt':'AttackType','target1':'Target','nkill':'Killed','nwound':'Wounded','summary':'Summary','gname':'Group','targtype1_txt':'Target_type','weaptype1_txt':'Weapon_type','motive':'Motive'},inplace=True)\n\ndata=data[['Year','Month','Day','Country','Region','city','latitude','longitude','AttackType','Killed','Wounded','Target','Summary','Group','Target_type','Weapon_type','Motive']]\n\ndata['casualities']=data['Killed']+data['Wounded']","0ed35be4":"data.columns","5bc0d9f1":"data.head(20)","e2767e36":"data.isnull().sum()","ae7c3fd9":"fig = plt.figure(figsize = (10,6))\n\ndef animate(Year):\n    ax = plt.axes()\n    ax.clear()\n    ax.set_title('Animation Of Terrorist Activities'+'\\n'+'Year:' +str(Year))\n    m6 = Basemap(projection='mill',llcrnrlat=-80,urcrnrlat=80, llcrnrlon=-180,urcrnrlon=180,lat_ts=20,resolution='c')\n    lat6=list(data[data['Year']==Year].latitude)\n    long6=list(data[data['Year']==Year].longitude)\n    x6,y6=m6(long6,lat6)\n    m6.scatter(x6, y6,s=[(kill+wound)*0.1 for kill,wound in zip(data[data['Year']==Year].Killed,data[data['Year']==Year].Wounded)],color = 'r')\n    m6.drawcoastlines()\n    m6.drawcountries()\n    m6.fillcontinents(zorder = 1,alpha=0.4)\n    m6.drawmapboundary()\nani = animation.FuncAnimation(fig,animate,list(data.Year.unique()), interval = 1500)    \nani.save('animation.gif', writer='imagemagick', fps=1)\nplt.close(1)\nfilename = 'animation.gif'\nvideo = io.open(filename, 'r+b').read()\nencoded = base64.b64encode(video)\nHTML(data='''<img src=\"data:image\/gif;base64,{0}\" type=\"gif\" \/>'''.format(encoded.decode('ascii')))","64c80d7e":"**Introduction**\n\nGlobal Terrorism Database- Full Data File 1970-2017, July 2018 Released.\n\n**Getting Data Ready**"}}