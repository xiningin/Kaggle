{"cell_type":{"4a104de6":"code","cf48f780":"code","e4f5655e":"code","db5cd611":"code","19d9891b":"code","fbbce2ae":"code","67bc93ca":"code","89178d5d":"code","f269f385":"code","5be9fb60":"code","c9166712":"code","cb339ea0":"code","d9930a10":"code","7d650e2b":"code","baaebbce":"code","1d167930":"code","149ee9b2":"code","17c2a47d":"code","ce17299a":"code","f59626a1":"code","9ff12db0":"code","9c752cab":"code","c2da1869":"code","25386612":"code","a4c462a5":"code","2559c969":"code","2f42cae5":"code","2e7913e7":"code","ac8d0729":"code","9ebd2f02":"markdown","74634215":"markdown","0b620265":"markdown"},"source":{"4a104de6":"!pip install umap-learn","cf48f780":"# \u30e9\u30a4\u30d6\u30e9\u30ea\u306eimport\nimport numpy as np\nimport pandas as pd\nfrom pandas import DataFrame\nimport matplotlib.pyplot as plt\nplt.style.use('ggplot')\n%matplotlib inline\nfrom sklearn.preprocessing import LabelEncoder, MinMaxScaler","e4f5655e":"#import os\n#for dirname, _, filenames in os.walk('\/kaggle\/input'):\n#    for filename in filenames:\n#        print(os.path.join(dirname, filename))","db5cd611":"df_train = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/train.csv')\ndf_test_hard = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/test_hard.csv')\n","19d9891b":"df_train.head(2)","fbbce2ae":"df_test_hard.head(2)","67bc93ca":"df = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/train\/train\/train_0000.csv')","89178d5d":"df.tail(2)","f269f385":"df = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/test_hard\/test_hard\/0000.csv')","5be9fb60":"df.tail(2)","c9166712":"scaler = MinMaxScaler()\ndf.iloc[:] = scaler.fit_transform(df)","cb339ea0":"df.tail(2)","d9930a10":"DataFrame(df.mean()).T","7d650e2b":"def add_mean_as_feature(df):\n    df_temp = DataFrame()\n    for path in df.file_path:\n        df_sensor = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/test_hard\/'+path)\n#       df_sensor.iloc[:] = scaler.fit_transform(df_sensor)\n        df_sensor = DataFrame(df_sensor.mean()).T\n        df_temp = pd.concat([df_temp, df_sensor])\n    df_temp.columns = [col+'_mean' for col in df_temp.columns]\n    df_temp.index = df.index\n    df = pd.concat([df, df_temp], axis=1)\n    return df","baaebbce":"df_test_hard = add_mean_as_feature(df_test_hard)","1d167930":"df_test_hard.tail(2)","149ee9b2":"N0 = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/train\/train\/train_0000.csv')\nN6 = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/test\/test\/test_0010.csv')\nN11 = pd.read_csv('\/kaggle\/input\/data-science-spring-osaka-hard-mode\/train\/train\/train_0009.csv')","17c2a47d":"N0 = DataFrame(N0.mean()).T\nN6 = DataFrame(N6.mean()).T\nN11 = DataFrame(N11.mean()).T","ce17299a":"N0","f59626a1":"N6","9ff12db0":"N11","9c752cab":"H0 = N0 + N6 - N11\nH0.columns = [col+'_mean' for col in H0.columns]","c2da1869":"H0","25386612":"X_test = df_test_hard\nX_test.drop(['file_path'],axis=1,inplace=True)","a4c462a5":"X_test = pd.concat([X_test, H0], axis=0)","2559c969":"X_test.tail(2)","2f42cae5":"from sklearn.preprocessing import StandardScaler\nimport umap","2e7913e7":"reducer = umap.UMAP(random_state=17)\n\ny_test = reducer.fit_transform(X_test)\n","ac8d0729":"plt.scatter(y_test[:, 0], y_test[:, 1])\nplt.scatter(y_test[-1:, 0], y_test[-1:, 1],c='b')","9ebd2f02":"\u8a08\u7b97\u3067\u6c42\u3081\u305f H#0 (jab+straight+hook+bodyhook)\u3092 Blue \u3067\u30d7\u30ed\u30c3\u30c8\u3057\u307e\u3057\u305f\u3002    \n\u4e00\u756a\u4e0a\u306e\u96c6\u307e\u308a\u306e\u5de6\u5074\u306b\u8f09\u3063\u3066\u304d\u307e\u3057\u305f\u3002","74634215":"Hard mode \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u30b7\u30fc\u30af\u30a8\u30f3\u30b9\u306e\u7279\u5fb4\u91cf\u3092\u3001Normal mode \u306e\u30a2\u30af\u30b7\u30e7\u30f3\u30b7\u30fc\u30af\u30a8\u30f3\u30b9\u3092\u4f7f\u3063\u3066\u3001\u4ee3\u6570\u8a08\u7b97\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u6c42\u3081\u3066\u307f\u307e\u3057\u305f\u3002\n\u4f7f\u7528\u3059\u308b\u7279\u5fb4\u91cf\u306f\u3001\u5e73\u5747\u5024(mean) \u3060\u3051\u306a\u306e\u3067\u3001\u7b97\u8853\u7684\u306b\u306f\u5927\u304d\u304f\u9593\u9055\u3048\u3066\u306a\u3044\u3068\u601d\u3044\u63a1\u7528\u3057\u307e\u3057\u305f\u3002\n\u5e73\u5747\u5024\u3092\u4f7f\u7528\u3059\u308b\u306e\u306f\u3001\u30a2\u30af\u30b7\u30e7\u30f3\u306e\u9806\u756a\u3092\u8003\u616e\u3059\u308b\u5fc5\u8981\u304c\u306a\u304f\u306a\u308b\u305f\u3081\u3067\u3082\u3042\u308a\u307e\u3059\u3002\uff08\u305d\u306e\u4ee3\u308f\u308a\u3001secret \u306b\u306f\u9069\u7528\u3067\u304d\u307e\u305b\u3093\uff09\n\n\uff08\uff11\u4f8b\u3068\u3057\u3066\u3001N#0:Normalmode action_seq_No.0\u3001H#0:Hardmode \u3068\u304a\u304f\u3068\uff09\n\n  N#0 + N#6 - N#11 = H#0  \u3000\u3000\u3067\u3001Hard mode \u306e seq#0 \u304c\u6c42\u3081\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002\n  \n\u5177\u4f53\u7684\u306b\u306f\u3001  \n  (jab+straight+hook+upper)+(jab+jab+bodyhook)-(jab+jab+upper) =     (jab+straight+hook+bodyhook)\n  \n\u4f7f\u3044\u65b9\u3068\u3057\u3066\u306f\u3001\u534a\u6559\u5e2b\u3042\u308a\u6a5f\u68b0\u5b66\u7fd2\u306e\u6559\u5e2b\u30c7\u30fc\u30bf\u306e\u3088\u3046\u306a\u3053\u3068\u3092\u30a4\u30e1\u30fc\u30b8\u3057\u3066\u3044\u307e\u3059\u3002\n\n\u203b\u30c6\u30b9\u30c8\u306e\u521d\u671f\u6bb5\u968e\u3067\u306f\u3001\u4e0a\u624b\u304f\u6b63\u89e3\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001\u305d\u306e\u5f8c\u7d9a\u3051\u3066\u884c\u304f\u4e2d\u3067\u4e0d\u6b63\u89e3\u304c\u51fa\u59cb\u3081\u3001\u7cbe\u5ea6\u306f\u4f59\u308a\u826f\u304f\u306a\u3044\u3053\u3068\u304c\u5206\u304b\u3063\u3066\u304d\u307e\u3057\u305f\u3002\n  ","0b620265":"***Hard mode \u306e action_seq#0 = job-straight-hook-bodyhook \u3092\u8a08\u7b97\u3067\u6c42\u3081\u308b***\n\nN#0 + N#6 - N#11 = H#0   \nN#0 : train_0000.csv   \nN#6 : test_0010.csv   \nN#11: train_0009.csv"}}