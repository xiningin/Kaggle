{"cell_type":{"3b784c36":"code","930bdb04":"code","2f0e0fd1":"code","f7f508ca":"code","5aba8d11":"code","8258039f":"code","a665c4aa":"code","b3bb8961":"code","3541b552":"code","ffaefa60":"code","ccc86c6e":"code","c26612ed":"code","d5d42290":"code","50ba3d29":"code","f4333690":"code","834da6a6":"code","2cdb5385":"code","b111421d":"code","29074239":"code","f6b5dc63":"code","6e129059":"code","2ba325d5":"code","bc7e2b22":"code","d077e023":"code","7081d2da":"code","86bb08cf":"code","603deec9":"code","98ec74bf":"code","813385c1":"code","5ad51a63":"code","cef03166":"code","8210cf26":"code","f0f7968f":"code","977035c2":"code","33e17c87":"code","25b00130":"code","cd50721d":"code","749986f3":"code","4cc8a624":"code","7d04a51d":"code","ed05785e":"code","9c757734":"markdown"},"source":{"3b784c36":"import numpy as np\nimport pandas as pd","930bdb04":"import matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","2f0e0fd1":"df = pd.read_csv('..\/input\/Recommendation System.csv')","f7f508ca":"df.head()","5aba8d11":"df.columns = (['user_id','item_id',\"rating\",\"timestamp\"])","8258039f":"df.head()","a665c4aa":"movie_titles = pd.read_csv(\"..\/input\/Movie_Id_Titles\")\nmovie_titles.head()","b3bb8961":"df = pd.merge(df,movie_titles,on='item_id')","3541b552":"df.sort_values('item_id').head()","ffaefa60":"df.head()","ccc86c6e":"df.groupby(\"title\")['rating'].mean().sort_values(ascending=False).head()","c26612ed":"df.groupby(\"title\")['rating'].count().sort_values(ascending=False).head()","d5d42290":"ratings = pd.DataFrame(df.groupby(\"title\")['rating'].mean())\nratings.head()","50ba3d29":"ratings[\"rating_counts\"]= pd.DataFrame(df.groupby(\"title\")['rating'].count())","f4333690":"ratings.head()","834da6a6":"sns.distplot(ratings[\"rating_counts\"])","2cdb5385":"# plt.figure(figsize=(20,10))\nsns.distplot(ratings[\"rating\"],bins=50)","b111421d":"sns.distplot( (ratings['rating']*ratings['rating_counts'] ) )","29074239":"plt.figure(figsize=(10,7))\nsns.jointplot(x='rating',y=\"rating_counts\",data=ratings,alpha=.5)","f6b5dc63":"df.head()","6e129059":"movie_mat = df.pivot_table(values='rating',index='user_id',columns = 'title')","2ba325d5":"movie_mat.head()","bc7e2b22":"ratings.sort_values(\"rating_counts\",ascending=False).head()","d077e023":"star_war_user_ratin = movie_mat['Star Wars (1977)']\nstar_war_user_ratin.value_counts()","7081d2da":"liar_liar_user_ratin = movie_mat['Liar Liar (1997)']\nliar_liar_user_ratin.head()","86bb08cf":"liar_liar_user_ratin.value_counts()","603deec9":"similar_to_star_wars = movie_mat.corrwith(star_war_user_ratin)\nsimilar_to_star_wars.head()","98ec74bf":"similar_to_liarliar = movie_mat.corrwith(liar_liar_user_ratin)\nsimilar_to_liarliar.head()","813385c1":"corr_star_wards = pd.DataFrame(similar_to_star_wars,columns=['Correlation'])","5ad51a63":"corr_star_wards.dropna(inplace=True)","cef03166":"corr_star_wards.sort_values('Correlation',ascending=False).head()","8210cf26":"corr_star_wards= corr_star_wards.join(ratings[\"rating_counts\"])","f0f7968f":"corr_star_wards.head()","977035c2":"( corr_star_wards[corr_star_wards['rating_counts']>100] ).sort_values('Correlation',ascending=False).head()","33e17c87":"# Finding movies similar to Liar","25b00130":"similar_to_liarliar.head()","cd50721d":"corr_liarliar= pd.DataFrame(similar_to_liarliar,columns=[\"Correlation\"])\ncorr_liarliar.dropna(inplace=True)\ncorr_liarliar.head()","749986f3":"corr_liarliar.sort_values(\"Correlation\",ascending=False).head()","4cc8a624":"corr_liarliar=corr_liarliar.join(ratings[\"rating_counts\"])\n\n","7d04a51d":"corr_liarliar.head()","ed05785e":"corr_liarliar[corr_liarliar[\"rating_counts\"]>100].sort_values('Correlation',ascending=False)","9c757734":"# The df and movie titles are to be joined based on the item ids!! basically similay to primary key and foreign key "}}