{"cell_type":{"84e24497":"code","d9f0f726":"code","6d89fe1b":"code","2c02ceae":"code","9b21fdc3":"code","deca087d":"code","c8d989fe":"code","50096b4a":"code","50e38167":"code","f28c7e03":"code","f94ecd7e":"code","94524a46":"code","8a08dff8":"code","73b4afe7":"code","2f654be0":"code","0857ae66":"code","0b55a62a":"code","030a8919":"code","f7927a32":"code","7d43c913":"code","c40191d9":"code","7fbcfc04":"code","f98da3ea":"code","7f6ce326":"code","299ef343":"code","4839fc6a":"markdown","535d5873":"markdown","3bc425e4":"markdown","78b6ea16":"markdown","8bd7cc49":"markdown","d9d7aa2b":"markdown","738fc322":"markdown","10ef6c2c":"markdown","4f6c9a4b":"markdown","c9a8d321":"markdown","036cf411":"markdown","660ec8f5":"markdown","c534f1fe":"markdown","a707e416":"markdown","496fc13b":"markdown","09b60f07":"markdown","58774d8d":"markdown","fb369bad":"markdown","b9a348b5":"markdown","720fe051":"markdown","e4147d1d":"markdown","5194f115":"markdown","f08104f1":"markdown","9ff71fab":"markdown","fa4a6609":"markdown","86335181":"markdown","6c64087f":"markdown","d80b3d7c":"markdown","ea2e2b91":"markdown","cc47eab4":"markdown","9beccc31":"markdown","abdc6a5c":"markdown","b2d9304b":"markdown","28fd4cf2":"markdown","b90c8e54":"markdown","f216ba2f":"markdown"},"source":{"84e24497":"# Importing necessary Python libraries.\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nfrom plotly.offline import plot, iplot, init_notebook_mode\nimport plotly.graph_objs as go\ninit_notebook_mode(connected=True)","d9f0f726":"# Reading csv file by Pandas library\nepl = pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv')\nepl.head(10)","6d89fe1b":"list(epl.columns)","2c02ceae":"epl_position = epl['Position'].value_counts()\nfig = go.Figure(data=[go.Pie(labels=epl_position.index, values=epl_position.values, hole=.3)])\nfig.show()","9b21fdc3":"epl_nations = epl['Nationality'].value_counts().head(10)\nfig = go.Figure(data=[go.Pie(labels=epl_nations.index, values=epl_nations.values, hole=.3)])\nfig.show()","deca087d":"epl.loc[epl['Age'] == epl['Age'].max()]","c8d989fe":"epl.loc[epl['Age'] == epl['Age'].min()]","50096b4a":"age_stat = sns.displot(x = epl['Age'], bins = 20)","50e38167":"plt.figure(figsize=(18,8))\nclub_age = sns.boxplot(x='Club',y='Age', data=epl)\nplt.xticks(rotation=90)\nplt.show()","f28c7e03":"goal_team = pd.DataFrame(epl.groupby('Position', as_index=False)['Age'].mean())\nplt.figure(figsize = (18,8))\nax = sns.barplot(x='Position', y='Age', data=goal_team.sort_values(by=\"Age\"))\nplt.xticks(rotation=45)\nplt.show()","f94ecd7e":"epl.loc[epl['Mins'] == epl['Mins'].max()]","94524a46":"minutes_by_position = pd.DataFrame(epl.groupby('Position', as_index=False)['Mins'].sum())\nfig = go.Figure(data=[go.Pie(labels=minutes_by_position['Position'], values=minutes_by_position['Mins'])])\nfig.show()","8a08dff8":"goal_team = pd.DataFrame(epl.groupby('Club', as_index=False)['Goals'].sum())\nplt.figure(figsize = (18,8))\n\nax = sns.barplot(x='Club', y='Goals', data=goal_team.sort_values(by=\"Goals\"))\nplt.xticks(rotation=45)\nplt.show()","73b4afe7":"goal_by_position = pd.DataFrame(epl.groupby('Position', as_index=False)['Goals'].sum())\n","2f654be0":"scorers = epl[['Name', 'Club', 'Position', 'Age', 'Matches', 'Goals']].sort_values(by=['Goals'], ascending=False).head(5)\nplt.figure(figsize = (18,8))\nax = sns.barplot(x='Name', y='Goals', data=scorers)\nplt.xticks(rotation=45)\nplt.show()\n","0857ae66":"epl['Goals_without_penalties'] = (epl['Goals'] - epl['Penalty_Goals'])\ngoals_without_pens = epl[['Name', 'Club', 'Position', 'Goals', 'Penalty_Goals', 'Penalty_Attempted', 'Goals_without_penalties']].sort_values(by=['Goals_without_penalties', 'Penalty_Attempted'], ascending=[False, True]).head(5)\nplt.figure(figsize = (18,8))\nax = sns.barplot(x='Name', y='Goals_without_penalties', data=goals_without_pens)\nplt.xticks(rotation=45)\nplt.show()","0b55a62a":"epl['min_per_goal'] = (epl['Mins'] \/ epl['Goals'])\nepl[['Name', 'Club', 'Position', 'Age', 'Mins', 'Goals', 'min_per_goal']].sort_values(by=['min_per_goal'], ascending=True).head(5)","030a8919":"epl[['Name', 'Club', 'Position', 'Matches', 'Assists', 'Nationality']].sort_values(by=['Assists'], ascending=False).head(5)","f7927a32":"epl['assist_per_minute'] = (epl['Mins'] \/ epl['Assists'])\nepl[['Name', 'Club','Nationality', 'Position', 'Age', 'Mins', 'Assists', 'assist_per_minute']].loc[epl['Mins'] >= 1000].sort_values(by=['assist_per_minute'], ascending=True).head(5)","7d43c913":"epl['goal_and_assist'] = (epl['Goals'] + epl['Assists'])\nepl[['Name', 'Club','Nationality', 'Position', 'Age', 'Mins', 'Assists','Goals', 'goal_and_assist']].sort_values(by=['goal_and_assist'], ascending=False).head(5)","c40191d9":"epl['goal_involment'] = (epl['Mins'] \/ epl['goal_and_assist'])\nepl[['Name', 'Club','Nationality', 'Position', 'Age', 'Mins', 'Assists','Goals', 'goal_and_assist', 'goal_involment']].loc[epl['Mins'] >= 1000].sort_values(by=['goal_involment'], ascending=True).head(5)","7fbcfc04":"position_passes = pd.DataFrame(epl.groupby('Position', as_index=False)['Passes_Attempted'].sum())\nfig = go.Figure(data=[go.Pie(labels=position_passes['Position'], values=position_passes['Passes_Attempted'])])\nfig.show()","f98da3ea":"mean_passes = epl['Passes_Attempted'].median()\nepl[['Name', 'Club','Nationality', 'Position', 'Age', 'Mins', 'Passes_Attempted', 'Perc_Passes_Completed']].loc[epl['Passes_Attempted'] >= mean_passes].sort_values(by=['Perc_Passes_Completed'], ascending=False).head(5)","7f6ce326":"yellow_cards = epl[['Name', 'Club','Nationality', 'Position', 'Age', 'Mins', 'Yellow_Cards','Red_Cards']].sort_values(by=['Yellow_Cards'], ascending=False).head(5)\nyellow_cards","299ef343":"red_cards = epl[['Name', 'Club','Nationality', 'Position', 'Age', 'Mins', 'Yellow_Cards','Red_Cards']].sort_values(by=['Red_Cards', 'Mins'], ascending=False).head(5)\nred_cards","4839fc6a":"### It's crucial to notice that 22-27 years old players are the main core of the league. After peak of more than 90+ 27 y.o players, the quantity of player older than 27 y.o is decreasing. ","535d5873":"## Let's start exloring the data from getting the number of each position (GK, MF, FW) representatives in the EPL. It will help us to know the most popular positions among players in the league. ","3bc425e4":"## Yellow & Red Card statistics in EPL 2020\/2021\n\n## Players with the most amount of yellow cards in the league","78b6ea16":"### Columns of dataset are: \n\n #### Name: Name of the player\n #### Club: Clubs where player played this season\n #### Nationality: Nationality of the player\n #### Position: Role of the player on the pitch. FW - Forward, MF - Midfielder, GK - Goalkeeper \n #### Age: Age of player during the season\n #### Matches: In how many matches player participated. \n ####  Starts: The number of times the player was named in the starting 11 by the manager.\n #### Mins: The number of minutes played by the player.\n #### Goals: The number of Goals scored by the player.\n #### Assists: The number of times the player has assisted other player in scoring the goal.\n ####  Passes_Attempted: The number of passes attempted by the player.\n #### PercPassesCompleted: The number of passes that the player accurately passed to his teammate. \n #### Pentalty_Goals: The number of goals from pentalty\n #### Pentalty_Attempted: The number of pentalty shoots during the season\n #### xG: EXPECTED number of goals from the player in a match.\n #### xA: Expected number of assists from the player in a match.\n #### Yellow_Cards: The players get a yellow card from the referee for indiscipline, technical fouls, or other minor      fouls.\n #### Red_Cards: The players get a red card for accumulating 2 yellow cards in a single game, or for a major foul. \n","8bd7cc49":"## Percentage of EPL goals scored by each position.","d9d7aa2b":"## Pass statistics in the EPL 2020\/2021. \n\n### First of all, let's look at correlation between passes and positions in EPL using pie-chart","738fc322":"## Let's shift to age insights in EPL 2020\/2021 season","10ef6c2c":"## TOP-5 Best performers of the league by scored goals.","4f6c9a4b":"### A little more than half of players in the league in 20\/2021 season were from England, the homecountry of league. According to this pie-chart, it proves that EPL is the home for players from Europe. Only one non-European Brazil has a place in this pie-chart with 7.16%.\n","c9a8d321":"### There is only one player in the season that had more than one red card during the season - Lewis Dunk, defender from Brighton club. ","036cf411":"## TOP-5 Best player by goals+assists system.","660ec8f5":"### The oldest player in EPL 2020\/2021 was Willy Caballero, one of the Chelsea Club Goalkeper. He played only 1 full-match during the season. ","c534f1fe":"### Manchester City scored the greatest amount of goals during the season and became the champion of the league. Manchester United finished second both on the scored goals & league championship table. However, Tottenham which is third on this visualization finished the season outside TOP-6 (Euroleague places) . Goals are not the main correlation if we talk about the final place in the table, but one of the important one. ","a707e416":"### As we can wee, forward of Tottenham Hotspur - Harry Kane was the the best player of the league if we consider only scored goals. The succeeding player, Mohamed Salah scored one goal less than Harry, but the dominance of Harry Kane in the league is more clear if we will consider only goals scored during the game (without penalty goals). Let's look at the league's best scorers without considering penalty goals","496fc13b":"### Wow! Duo of Manchester City's central defenders were the most accurate players of the league. It's a key skill for defenders to provide accurate passes to attack-midfield players to start a new advance to enemy's field. So, John Stones, Ruben Dias and Thiago Silva were good during this season! Notice that there are no forwards in the list, but only defenders or midfielders. \n\n#### P.S: I calculated median number of passes by players in the season and choose to show only players who made more or equal number of passes to statistics be more accurate.","09b60f07":"### Forwards scored 44.8% percent of goals in EPL season 2020\/2021, but the most interesting insight in this pie chart is that DF (Defenders) scored more than players that played as Forwards or Midfields (FW,MF) and more than played season as Midfielders of Forwards (MF, FW). The core difference between FW, MF and MF,DF is that it depends on which position player was on pitch more. So, MF-FW player was more Midfielder on the pitch than forward during the 2020\/2021 season","58774d8d":"### Fantastic! The only player from the league that in average scored\/assists in every 90 minutes on the pitch was Harry Kane. Bruno Fernandes is second in this list. ","fb369bad":"### After creating a column with number of goals without penalty and sorting order by new column and number of penalty attempled, it's became clear that Harry was the best scorer of the league. He is 3 goals ahead of the catch-up Dominic Calvert-lewin. Notice that 4 penalty attempts by Harry ended up by 4 goals. 19 goals + 4\/4 penalty goals - top level! \n### Interesting insight is absence of Bruno Fernandes in new table. Manchester United's midfield scored the half of his goals (18) by penalty (9), which made him present in the first table, but game goals not helped him to be in the new table that considered only goals from the game. Nevertheless 18 goals (9 penalty goals) is the good stats for midfields in the league\n### Another great insight is the presence of Dominic Calvert-Lewin in the new table and straightaway in the second position. He is not presented in the table ordered by only goals, despite 16 points. 0 penalty absence and clear 16 goals during the season make him one of the best league scorers. His situation proves that more deep statistics is the crucial in order to evaluate EPL players.\n\n\n\n## Now let's look at top-5 players, who were most helpful during their time on the the pitch (Mins column) by number of scored goals.","b9a348b5":"### More than 40% of passes in EPL were by defenders. It's not a surprise, because the quantity dominance of defenders in the league. Now let's look at most accurate players of the league.","720fe051":"## Clubs that scored the greatest amoung of goals during the season","e4147d1d":"### The youngest players in the season were 16 years forwards. Nevertheles notice that only one 16 y.o footballer (Carney Chukwuemeka) played more than 15 minutes on the pitch. Also, all of these players are from England. ","5194f115":"### 1\/3 of players in EPL are defenders (DF), but the most popular (8.83%) double position for players who had 2 roles on the pitch during the season was FW-MF (Forward-Midfilder)\n\n## Let's look at the top 10 popular nationalities in the league. ","f08104f1":"## Players with the most amount of red cards in the league","9ff71fab":"### Harry Kane first again! The best scorer (23) and assistant (14) of the league. His teammate Son Heung-min is also here with him. This duo in present at TOP-5 league scorers (with\/without pentalty goals) table & TOP-5 league assistants. Bruno Fendandes from mentioned tables is also here! What a season from these guys.  \n\n### Let's look at most efficient assistants of the league","fa4a6609":"# Hello! Its my first pet-project and i chose dataset from my favorite league in football \n ### English Premier League (EPL) is the most popular football league in the world, so it will be funny to look deeply in the league statistics at 2020\/2021 season.\n ### This dataset is available at Kaggle: https:\/\/www.kaggle.com\/rajatrc1705\/english-premier-league202021\n \n ### Updated: I also created QlikSense visualization of this project. \n ### Link for QlikSense project: https:\/\/drive.google.com\/file\/d\/1t2E4pIJRjhPHaai9j3kTCm5QyQTny7w2\/view\n","86335181":"## Players, who didn't skip any minute during the season of 38 games.","6c64087f":"### We can notice from this grid that Tottenham Hotspur has the youngest team in the league, whereas West Bromwich Albion has the oldest. ","d80b3d7c":"### Wow! Only one defender in this list! It's kind of interesting, because defenders are players that sometimes use non-play tricks to stop forwarding movements of opponents. ","ea2e2b91":"### The same guys over and over! Son, Mohamed, Harry and Bruno are permanent participans of the last 5-6 tables. \n\n### Let's look at players that most often are involved in creating goals during the season.","cc47eab4":"## Project Resume","9beccc31":"### Kevin De Bruyne is in the top here. He needed 166 minutes to assist someone in the league. Our friends Harry Kane & Fernandes are here too. Again - what a season from these guys. Notice that 3\/5 players from the last two tables are not from England despite the numerical advantage of brits in the league.","abdc6a5c":"#### 1) Harry Kane is the MVP of EPL season 2020\/2021 - 37 points in gol+assist system is the huge achievement from forward. He played as a forward and playmaker as well. \n#### 2) Harry Kane & Son Heung-min is the duo of this season. Both of them had places on scorers, assistants, gol+assist tablem. Nevertheless, their efforts didn't help to Tottenham Hotspur to be in top 5 of the league.\n#### 3) Manchester City is the MVP team of this season. As a result of being the most often scoring team they became the champions of the season. \n#### 4) John Stones & Ruben Dias helped Manchester City a lot. Their pass accurance became the result of high-quality transmissions forward for Manchester City. Truly the best defenders duo of the season.","b2d9304b":"## TOP-5 assistents of the league","28fd4cf2":"### The top-5 of most effective scorers consists of two player of Tottenham Hotspur - Gareth Bale and Harry Kane. Gareth needed only 83 minutes on the pitch to score a goal, while for the same purpose Kane required 134 minutes. First of all, it's interesting that 31 years old forward (Gareth Bale) perfomed so effectively in the league where mean age of forward is less than 24 years. Secondly, Harry Kane is presented in every goal-involment table. Great individual season by Kane!","b90c8e54":"### Notice that only two (Pierre H\u00f8jbjerg, James Ward-Prowse) of six players who played every minute during the season is not a goalkeeper & both of them are midfielders. This fact one of the arguments that proves that due to the high workload & injury risks forward cannot be always available for managers in EPL","f216ba2f":"### From this visualization, we can conclude that Goalkeeper position has the highest age mean among other position (below 27 years), while the average age of FW-DF (position with the lowest mean) players is less than 23 years.\n"}}