{"cell_type":{"8a040866":"code","1f28332b":"code","0e59ef5a":"code","af2fa7d6":"code","cbea2412":"code","bcfcc1b1":"code","55291a4e":"code","5270c7f2":"code","5066dfdd":"code","a25e3b2a":"code","2ee1235b":"code","e4983ef2":"markdown","7ef49963":"markdown","e63f5b1d":"markdown","6eceffe4":"markdown","22b833d2":"markdown","5bb31ff6":"markdown","bc9009b0":"markdown","73e57c0b":"markdown","257d6a85":"markdown","b4372b62":"markdown","86220d83":"markdown"},"source":{"8a040866":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n%matplotlib inline","1f28332b":"path = '..\/input\/PIB.csv'\n\ndata1 = pd.read_csv(path)\n","0e59ef5a":"df = data1.T\ndf.columns = data1['Country Name']\ndf = df[4:]\n","af2fa7d6":"index = df.index.values.tolist()\nargentina = df['Argentina'].fillna(method='backfill').values\nmexico = df['M\u00e9xico'].fillna(method='backfill').values\nmundo = df['Mundo'].fillna(method='backfill').values\nsudafrica = df['Sud\u00e1frica'].fillna(method='backfill').values\neu = df['Estados Unidos'].fillna(method='backfill').values\nespa\u00f1a = df['Espa\u00f1a'].fillna(method='backfill').values\nchina = df['China'].fillna(method='backfill').values\nfrancia = df['Francia'].fillna(method='backfill').values\nnoruega = df['Noruega'].fillna(method='backfill').values\n\ndata_1 = pd.DataFrame(\n    {\n        'Argentina': argentina,\n        'M\u00e9xico': mexico,\n        'Sud\u00e1frica': sudafrica,\n        'Estados Unidos': eu,\n        'Espa\u00f1a': espa\u00f1a,\n        'China': china,\n        'Francia': francia,\n        'Noruega': noruega,\n        'Mundo': mundo\n    }\n)\n\n","cbea2412":"import plotly\nimport plotly.graph_objs as go\n\nplotly.offline.init_notebook_mode(connected=True)","bcfcc1b1":"trace1= go.Scatter(\n    x= index,\n    y= argentina,\n    name= 'Argentina'\n    #'name': 'Argentina',\n)\n\ntrace2= go.Scatter(\n    x= index,\n    y= mexico,\n    name= 'Mexico'\n)\n\ntrace3= go.Scatter(\n    x= index,\n    y= mundo,\n    name= 'Mundo'\n)\n\ntrace4= go.Scatter(\n    x= index,\n    y= sudafrica,\n    name= 'Sud\u00e1frica'\n)\n\ntrace5= go.Scatter(\n    x= index,\n    y= eu,\n    name= 'EUA'\n)\n\ntrace6= go.Scatter(\n    x= index,\n    y= espa\u00f1a,\n    name= 'Espa\u00f1a'\n)\n\ntrace7 = go.Scatter(\n    x= index,\n    y= china,\n    name = 'China'\n)\n\ntrace8 = go.Scatter(\n    x= index,\n    y= francia,\n    name = 'Francia'\n)\n\ntrace9 = go.Scatter(\n    x= index,\n    y= noruega,\n    name = 'Noruega'\n)\n\nlayout = go.Layout(\n    title = 'Producto Interno Bruto',\n    showlegend=True,\n    legend=dict(\n        orientation=\"h\",\n        traceorder='normal',\n        font=dict(\n            family='sans-serif',\n            size=12,\n            color='#000'\n        ),\n        bgcolor='#E2E2E2',\n        bordercolor='#FFFFFF',\n        borderwidth=2  \n    )\n    #xaxis = axis_x,\n    #yaxis = axis_y,\n    #sliders = sliders,    \n)\n\ndata = [trace1, trace2, trace3, trace4, trace5, trace6, trace7, trace8, trace9]\nfig = go.Figure(data = data, layout=layout)\nplotly.offline.iplot(fig)","55291a4e":"def regresion_lineal(data, y, *args):\n    \n    import pandas as pd\n    import numpy as np\n    from sklearn.linear_model import LinearRegression\n    from sklearn import metrics\n    from sklearn.model_selection import train_test_split\n\n    Y= data[y]\n    X= data[args[0]]\n    \n    X_train, X_test, y_train, y_test= train_test_split(X, Y, test_size= 0.3, random_state= 2)\n    \n    # Regresi\u00f3n lineal\n    lm= LinearRegression()\n    lm.fit(X_train, y_train)\n    print('Cuadrados: ', lm.score(X_train, y_train))\n    prediccion= lm.predict(pd.DataFrame(X_test))\n    \n    SSD= sum((y_test - prediccion)**2)\n    RSE= np.sqrt(SSD\/(len(data)-2))\n    media= np.mean(y_test)\n    error= RSE\/media\n    # El error significa el porcentaje que el modelo no puede ser explicado\n    print('Error: ', error)","5270c7f2":"y = 'Mundo'\nx = ['M\u00e9xico']\nregresion_lineal(data_1, y, x)","5066dfdd":"y = 'Mundo'\nx = ['Argentina']\n\nregresion_lineal(data_1, y, x)","a25e3b2a":"y = 'Mundo'\nx = ['Argentina', 'M\u00e9xico', 'Sud\u00e1frica']\n\nregresion_lineal(data_1, y, x)","2ee1235b":"y = 'Mundo'\nx = ['Argentina', 'M\u00e9xico', 'Sud\u00e1frica', 'Estados Unidos']\n\nregresion_lineal(data_1, y, x)","e4983ef2":"El metodo que seguiremos es el siguiente:\n> * Preparaci\u00f3n y organizaci\u00f3n de datos\n* Exploraci\u00f3n de los datos\n* Modelado de datos","7ef49963":"## Regresi\u00f3n lineal con datos del Banco Mundial (PIB)\n\nLa Regresi\u00f3n lineal es un modelo matem\u00e1tico que nos ayuda a relacionar dos o m\u00e1s variables con el objetivo de identificar la relaci\u00f3n que tiene una variable en funci\u00f3n de la otra. ","e63f5b1d":"Podemos agregar mas de una variable predictora a nuestro modelo, para este ejemplo agregaremos __Argentina__, __M\u00e9xico__ y __Sud\u00e1frica__. Comparando los resultados contra los ejemplos anteriores este modelo muestra una mejora en los cuadrados y el error.","6eceffe4":"### Exploraci\u00f3n de los datos\n\nExisten muchas librer\u00edas para graficas y visualizar los datos, en este caso usaremos Plotly. ","22b833d2":"El objetivo de este minitutorial es encontrar una posible relaci\u00f3n o linealidad entre el PIB(Producto Interno Bruto) de diferentes paises del mundo. Los datos fueron descargados del sitio del Banco Mundial.","5bb31ff6":"### Preparaci\u00f3n y organizaci\u00f3n de datos","bc9009b0":"Las entradas de la funci\u00f3n deben los datos ya depurados, es muy probable que, si estos no est\u00e1n procesados, la funci\u00f3n arroje errores. Tambi\u00e9n se tiene que identificar la o las variables predictoras (x) y la variable que se va a predecir (y). En el caso de este ejemplo la variable que queremos predecir es el PIB del Mundo, por lo tanto, se usaran los pa\u00edses como variables predictoras.","73e57c0b":"### Modelado de datos\n\nPara este punto, desarrollamos una funci\u00f3n que nos facilite desarrollar un modelo de regresi\u00f3n lineal. El modulo m\u00e1s usado para este modelo es sklearn.","257d6a85":"La aceptaci\u00f3n de un modelo de regresi\u00f3n lineal realmente es muy variable, algunos cient\u00edficos de datos toman como m\u00ednimo el 85% para aceptar el modelo, tambi\u00e9n he visto otros casos donde se puede aceptar con el 80%. Realmente esto depende mucho de la naturaleza de los datos y lo que se est\u00e9 analizando o se quiera predecir. En este caso podemos observar que agregar a __Estados Unidos__ le da m\u00e1s fuerza al modelo por lo tanto podr\u00edamos concluir con la aceptaci\u00f3n de este.","b4372b62":"Para el caso de __Argentina__, muestra un porcentaje mucho m\u00e1s bajo comparado con __M\u00e9xico__, pero v\u00e9ase que el error es m\u00e1s bajo, esto nos indica que este modelo es m\u00e1s efectivo que el anterior pues es mejor que el modelo tenga un 17% de los datos sin poder explicarlos a un 30%.","86220d83":"En el caso de __M\u00e9xico__, los cuadrados arrojan un 32%, para el modelo este resultado no es muy positivo, entre m\u00e1s cercano sea a 1 o 100% significa que la linealidad de ambas variables est\u00e1 muy relacionada. Por lo tanto, podr\u00edamos concluir que este pa\u00eds no tiene una linealidad fuerte con el PIB Mundial. Adem\u00e1s el modelo nos indica que el 21% de los datos no puede ser explicados por el modelo."}}