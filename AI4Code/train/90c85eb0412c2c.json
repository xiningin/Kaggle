{"cell_type":{"2258a603":"code","66da18aa":"code","3460e099":"code","9fc4e1a6":"code","6fe1604d":"code","015101f6":"code","11e24af6":"code","e15eb94f":"code","f9a839f1":"code","587803ea":"code","9154f620":"code","93554bbb":"code","5c1d21e2":"code","3e408de6":"code","e9261cd7":"code","7be65387":"code","bcbae11d":"code","a72e6af2":"code","6901d051":"markdown","3c5dab91":"markdown","80d778a2":"markdown","ec0162df":"markdown","82e98e08":"markdown","3f2f1444":"markdown","e3b5127b":"markdown","b80eebf0":"markdown","ea17d117":"markdown","40e128ac":"markdown","c5259641":"markdown","b2e91ffe":"markdown","12ffe3ce":"markdown","c62f8d08":"markdown","bdbcc34f":"markdown","bd99a1a9":"markdown","39e5b817":"markdown","c8e08431":"markdown","93db67bf":"markdown","8dcda584":"markdown","85308d97":"markdown","3c00afb2":"markdown"},"source":{"2258a603":"import os, math\nimport numpy as np\nimport pandas as pd\nimport geopandas as gpd\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style(\"darkgrid\")\n\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster","66da18aa":"df = pd.read_csv(\"..\/input\/tsunami-dataset\/tsunami_dataset.csv\")\ndf","3460e099":"# Drop rows with missing locations\ndf = df.dropna(subset=['LATITUDE', 'LONGITUDE'])\n\n# Filter dataframe from the 19th century onwards\ndf = df[df.YEAR>=1800]\n\n# Get positive tsunami intensity values to vary folium circle sizes\ndf['TS_INTENSITY'].fillna(df['TS_INTENSITY'].median(), inplace=True)\ndf['TS_INTENSITY_PLOT'] = df['TS_INTENSITY'] - df['TS_INTENSITY'].min() + 0.5\ndf","9fc4e1a6":"map_ = folium.Map(location=[0.78, 113.92], tiles='openstreetmap', zoom_start=4.8)\n\nfor idx, row in df.iterrows():\n    Marker([row['LATITUDE'], row['LONGITUDE']], icon=folium.Icon(color='blue', icon='tint', prefix='fa')).add_to(map_)\n\nmap_","6fe1604d":"map_ = folium.Map(location=[0.0, 0.0], tiles='cartodbpositron', zoom_start=1.6)\n\nmc = MarkerCluster()\nfor idx, row in df.iterrows():\n    mc.add_child(Marker([row['LATITUDE'], row['LONGITUDE']]))\n\nmap_.add_child(mc)\nmap_","015101f6":"map_ = folium.Map(location=[0.78, 113.92], tiles='openstreetmap', zoom_start=4.8)\n\nfor i in range(0,len(df)):\n    Circle(\n        location=[df.iloc[i]['LATITUDE'], df.iloc[i]['LONGITUDE']],\n        radius=20000,\n        color='green').add_to(map_)\n\nmap_","11e24af6":"map_ = folium.Map(location=[0, 0], tiles='openstreetmap', zoom_start=2.4)\n\nfor i in range(0,len(df)):\n    Circle(\n        location=[df.iloc[i]['LATITUDE'], df.iloc[i]['LONGITUDE']],\n        radius=df.iloc[i]['TS_INTENSITY_PLOT']*10000,\n        color='yellow', fill=True).add_to(map_)\n\nmap_","e15eb94f":"map_ = folium.Map(location=[0.0, 0.0], tiles='cartodbpositron', zoom_start=1.5)\n\nHeatMap(data=df[['LATITUDE', 'LONGITUDE']], radius=10).add_to(map_)\n\n# Display the map\nmap_","f9a839f1":"plt.figure(figsize=(12,24))\ncountries = list(map(lambda x: x.title(), df[\"COUNTRY\"].value_counts().keys().tolist()))\nax = sns.countplot(y=\"COUNTRY\", data=df, order=df[\"COUNTRY\"].value_counts().index)\nax.set_xscale(\"log\")\nax.axes.set_title(\"Country vs. # Tsunamis (Log Scale)\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis (Log Scale)\",fontsize=16)\nax.set_ylabel(\"Country\",fontsize=16)\nax.tick_params(labelsize=12)\nax.set_yticklabels(countries, rotation=0, fontsize=12)\nplt.tight_layout()\nplt.show()","587803ea":"plt.figure(figsize=(6,8))\ncause = list(map(lambda x: x.title(), df[\"CAUSE\"].value_counts().keys().tolist()))\nax = sns.countplot(y=\"CAUSE\", data=df, order=df[\"CAUSE\"].value_counts().index)\nax.set_xscale(\"log\")\nax.axes.set_title(\"Cause vs. # Tsunamis (Log Scale)\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis (Log Scale)\",fontsize=16)\nax.set_ylabel(\"Cause\",fontsize=16)\nax.tick_params(labelsize=12)\nax.set_yticklabels(cause, rotation=0, fontsize=12)\nplt.tight_layout()\nplt.show()","9154f620":"plt.figure(figsize=(6,4))\nmonth_idxs = np.array(list(map(lambda x: int(x), df[\"MONTH\"].value_counts().keys().tolist())))-1\nmonth_names = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\nmonths = list(map(month_names.__getitem__, month_idxs))\nax = sns.countplot(y=\"MONTH\", data=df, order=df[\"MONTH\"].value_counts().index)\nax.axes.set_title(\"Month vs. # Tsunamis\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis\",fontsize=16)\nax.set_ylabel(\"Month\",fontsize=16)\nax.tick_params(labelsize=12)\nax.set_yticklabels(months, rotation=0, fontsize=12)\nplt.tight_layout()\nplt.show()","93554bbb":"plt.figure(figsize=(8,6))\nax = sns.distplot(df[\"EQ_MAGNITUDE\"], kde=False)\nax.axes.set_title(\"Earthquake Magnitude vs. # Tsunamis\",fontsize=18)\nax.set_xlabel(\"Earthquake Magnitude\",fontsize=16)\nax.set_ylabel(\"# Tsunamis\",fontsize=16)\nax.tick_params(labelsize=12)\nplt.tight_layout()\nplt.show()","5c1d21e2":"plt.figure(figsize=(8,6))\nax = sns.distplot(df[\"TS_INTENSITY\"], kde=False)\nax.axes.set_title(\"Tsunami Intensity vs. # Tsunamis\",fontsize=18)\nax.set_xlabel(\"Tsunami Intensity\",fontsize=16)\nax.set_ylabel(\"# Tsunamis\",fontsize=16)\nax.tick_params(labelsize=12)\n# ax.set_yticklabels(cause, rotation=0, fontsize=12)\nplt.tight_layout()\nplt.show()","3e408de6":"plt.figure(figsize=(8,6))\nax = sns.distplot(df[\"EQ_DEPTH\"], kde=False)\nax.axes.set_title(\"Earthquake Depth vs. # Tsunamis\",fontsize=18)\nax.set_xlabel(\"Earthquake Magnitude\",fontsize=16)\nax.set_ylabel(\"# Tsunamis\",fontsize=16)\nax.tick_params(labelsize=12)\nplt.tight_layout()\nplt.show()","e9261cd7":"plt.figure(figsize=(10,5))\nax = sns.countplot(y=\"EVENT_VALIDITY\", data=df, order=df[\"EVENT_VALIDITY\"].value_counts().index)\nax.set_xscale(\"log\")\nax.axes.set_title(\"Event Validity vs. # Tsunamis (Log Scale)\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis (Log Scale)\",fontsize=16)\nax.set_ylabel(\"Event Validity\",fontsize=16)\nax.tick_params(labelsize=12)\nplt.tight_layout()\nplt.show()","7be65387":"plt.figure(figsize=(10,4))\nax = sns.countplot(y=\"DAMAGE_TOTAL_DESCRIPTION\", data=df, order=df[\"DAMAGE_TOTAL_DESCRIPTION\"].value_counts().index)\nax.set_xscale(\"log\")\nax.axes.set_title(\"Total Damage vs. # Tsunamis (Log Scale)\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis (Log Scale)\",fontsize=16)\nax.set_ylabel(\"Total Damage\",fontsize=16)\nax.tick_params(labelsize=12)\n# ax.set_yticklabels(countries, rotation=0, fontsize=12)\nplt.tight_layout()\nplt.show()","bcbae11d":"plt.figure(figsize=(10,4))\nax = sns.countplot(y=\"HOUSES_TOTAL_DESCRIPTION\", data=df, order=df[\"HOUSES_TOTAL_DESCRIPTION\"].value_counts().index)\nax.set_xscale(\"log\")\nax.axes.set_title(\"House Damage vs. # Tsunamis (Log Scale)\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis (Log Scale)\",fontsize=16)\nax.set_ylabel(\"House Damage\",fontsize=16)\nax.tick_params(labelsize=12)\nplt.tight_layout()\nplt.show()","a72e6af2":"plt.figure(figsize=(10,4))\nax = sns.countplot(y=\"DEATHS_TOTAL_DESCRIPTION\", data=df, order=df[\"DEATHS_TOTAL_DESCRIPTION\"].value_counts().index)\nax.set_xscale(\"log\")\nax.axes.set_title(\"Deaths vs. # Tsunamis (Log Scale)\",fontsize=18)\nax.set_xlabel(\"Number of Tsunamis (Log Scale)\",fontsize=16)\nax.set_ylabel(\"Deaths\",fontsize=16)\nax.tick_params(labelsize=12)\nplt.tight_layout()\nplt.show()","6901d051":"### Heatmap","3c5dab91":"### Cause vs. # Tsunamis","80d778a2":"### Total Damage vs. # Tsunamis","ec0162df":"### Event Validity vs. # Tsunamis","82e98e08":"### Earthquake Magnitude vs. # Tsunamis","3f2f1444":"### #1.3 Data Pre-processing \u2699\ufe0f","e3b5127b":"### Earthquake Depth vs. # Tsunamis","b80eebf0":"### #1.2  Read CSV Data \ud83d\udcdd","ea17d117":"<h1><center>\ud83c\udf0a Tsunami Data Interactive EDA <\/center><\/h1>\n\n<img src=\"https:\/\/images.unsplash.com\/photo-1590309282186-fdcaa7b907f9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80\">","40e128ac":"### House Damage vs. # Tsunamis","c5259641":"### #2.1 Plotting points","b2e91ffe":"## 2. Visualization \ud83d\udcc9","12ffe3ce":"### Month vs. # Tsunamis","c62f8d08":"### Deaths vs. # Tsunamis","bdbcc34f":"## 1. Introduction\n\n#### This notebook is my attempt to visualize the [Tsunami Dataset](https:\/\/www.kaggle.com\/andrewmvd\/tsunami-dataset) compiled by [Larxel](https:\/\/www.kaggle.com\/andrewmvd). This dataset contains some details all the tsunamis in the recorded history.","bd99a1a9":"### Tsunami Intensity vs. # Tsunamis","39e5b817":"### Bubble map","c8e08431":"### Plotting using `folium.Marker`","93db67bf":"### #1.1 Libraries \ud83d\udcda\u2b07","8dcda584":"### Country vs. # Tsunamis","85308d97":"### Plotting using `folium.plugins.MarkerCluster` to help declutter the map","3c00afb2":"### Bubble map (low \/ high tsunami intensity)"}}