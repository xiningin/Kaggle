{"cell_type":{"553c8f4c":"code","85924ed6":"code","ded739d3":"code","f829cfd1":"code","018f8dc7":"code","d5bfae34":"code","cbd5100c":"code","d546f0fa":"code","84345d4d":"code","ba97c441":"code","f7eb31d8":"code","3b7d00da":"code","4b77586b":"code","bdc49efc":"markdown"},"source":{"553c8f4c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","85924ed6":"import tensorflow as tf","ded739d3":"tf.reset_default_graph()","f829cfd1":"n_steps = 2\nn_inputs = 3\nn_neurons = 5","018f8dc7":"seq_length = tf.placeholder(tf.int32,[None])","d5bfae34":"X = tf.placeholder(tf.float32,[None,n_steps,n_inputs])\n","cbd5100c":"basic_cell = tf.contrib.rnn.BasicRNNCell(num_units=n_neurons)","d546f0fa":"outputs , states = tf.nn.dynamic_rnn(basic_cell , X , dtype = tf.float32 , sequence_length=seq_length)","84345d4d":"X_batch = np.array([\n        # step 0     step 1\n        [[0, 1, 2], [9, 8, 7]], # instance 0\n        [[3, 4, 5], [0, 0, 0]], # instance 1 (padded with a zero vector)\n        [[6, 7, 8], [6, 5, 4]], # instance 2\n        [[9, 0, 1], [3, 2, 1]], # instance 3\n    ])\nseq_length_batch = np.array([2, 1, 2, 2])","ba97c441":"init = tf.global_variables_initializer()","f7eb31d8":"with tf.Session() as sess:\n    sess.run(init)\n    outputs_val , states_val = sess.run([outputs,states] , feed_dict={X:X_batch , seq_length:seq_length_batch})","3b7d00da":"print(outputs_val)","4b77586b":"print(states_val)","bdc49efc":"#### the second input sequence contains only one input instead of two. It must be padded with a zero vector in order to fit in the input tensor X (because the input tensor\u2019s second dimension is the size of the longest sequence\u2014i.e., 2)."}}