{"cell_type":{"6fa00f72":"code","feef370a":"code","baf8f95b":"code","22dee3e7":"code","a5206988":"code","182f243c":"code","a4572bdb":"code","745cd72b":"code","68db8ed9":"code","b76afb33":"code","237bdb06":"code","f30254f0":"code","abb7eafd":"code","ef43cf35":"code","0aa0d483":"code","1bb0b302":"code","aee9cca2":"code","98623468":"code","9ddc93c7":"code","04d6fa45":"code","755e982c":"code","cc263a47":"code","60e9299c":"code","a37484c9":"code","a0299801":"code","942b6a2d":"code","2e816c95":"code","1b06138c":"code","46f686df":"code","5b6fa891":"code","17a60d0d":"code","e989b5bb":"code","5485374f":"code","0bb527b3":"code","19932aa1":"code","9950c510":"code","1b6554e5":"code","3d81f7b5":"code","5b9bf576":"code","2a2844d7":"code","2c25e38b":"code","babfc4a1":"code","f115d60c":"code","8d0035a6":"code","485f8103":"code","276ac0af":"code","14840152":"code","309e2851":"code","9672e0d2":"code","9e03d3ce":"code","f502fa7f":"code","fbd8af65":"code","96198644":"code","44a61d11":"code","ec563194":"code","9588747e":"code","78648022":"code","e429d8af":"code","fc69b7b3":"code","83118a4d":"code","a43e83d6":"code","2e080a81":"markdown"},"source":{"6fa00f72":"# Import Library \nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport glob","feef370a":"# readDataset district and product\ndt_district = pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')\ndt_product = pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv')","baf8f95b":"#read dataset engagement and name it based on district to easy analyse\npath = '..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data' \nall_files = glob.glob(path + \"\/*.csv\")\n\nli = []\n\nfor filename in all_files:\n    df = pd.read_csv(filename, index_col=None, header=0,dtype={'lp_id':str})\n    district_id = filename.split(\"\/\")[4].split(\".\")[0]\n    df[\"district_id\"] = district_id\n    li.append(df)\n    \ndt_engagement = pd.concat(li)\ndt_engagement = dt_engagement.reset_index(drop=True)\ndt_engagement.head()","22dee3e7":"# getting a few of data in district_info\ndt_district.head()","a5206988":"#find information about dataset district_info \ndt_district.info()","182f243c":"# find the record in disctrict_info dataset\nindex = dt_district.index\nrecord_total = len(index)\nprint(\"Total Record in disctrict_info\",record_total)","a4572bdb":"# Check Statistict Description\ndt_district.describe(include='all')","745cd72b":"# Check Missing Value in district_info\ndt_district.isna().sum()","68db8ed9":"#check column that contain missing value for all six column \nnull_data = dt_district.loc[dt_district.isnull().sum(1)>5].index\ndt_district.loc[null_data]","b76afb33":"#Total Data that contain Missing Value for All Six Columns\nprint('Total Data that Contains Missing Value from district_info = ',len(dt_district.loc[null_data]))","237bdb06":"# Because there are missing values in the dataset so we need to drop that to make more accurate analyst \n# dropping Missing Value for all six Columns to easy doing analysis\ndt_district.dropna(thresh=6,inplace=True)","f30254f0":"#Check are the missing value already gone\ndt_district.isna().sum()","abb7eafd":"#check data district after drop missing value\ndt_district.head()","ef43cf35":"#Dropping if there are a duplicates data to easy analyse\ndt_district = dt_district.drop_duplicates()","0aa0d483":"# Explore the State Distribution\ndt_district['state'].value_counts()","1bb0b302":"plt.figure(figsize=(10,10))\ndt_district['state'].value_counts().plot(kind='barh')\nplt.title('Count Distribution for State')\nplt.xlabel('count')\nplt.ylabel('State')","aee9cca2":"# Pie Chart Visualisation of State\ndt_district[\"state\"].value_counts().head(10).plot(kind = 'pie', autopct='%1.1f%%', figsize=(10, 10)).legend()\nplt.title('Pie Chart State')","98623468":"#count locale data in district\ndt_district['locale'].value_counts()","9ddc93c7":"#visualisation count of locale in district dataset\nplt.figure(figsize=(10,10))\ndt_district['locale'].value_counts().plot(kind='barh')\nplt.title('Count of Locale')\nplt.xlabel('Count')\nplt.ylabel('Locale')","04d6fa45":"# pie chart visualisation of percentage locale\nplt.title('Plot Percentage Distribution Locale')\ndt_district['locale'].value_counts().plot(kind='pie', autopct='%3.1f%%',figsize=(10, 10)).legend()","755e982c":"# show a few data product_info\ndt_product.head()","cc263a47":"# gain information from product info\ndt_product.info()","60e9299c":"# find length of product info dataset\nindex = dt_product.index\nrecord_total = len(index)\nprint(\"Total Record in product info\",record_total)","a37484c9":"# Check Statistict Description\ndt_product.describe(include='all')","a0299801":"# Check Missing Value in product info\ndt_product.isna().sum()","942b6a2d":"#Dropping if there are a duplicates data to easy analyse\ndt_product = dt_product.drop_duplicates()","2e816c95":"plt.title('Distribution of Sector(s) in the District Information Data')\ndt_product[\"Sector(s)\"].value_counts().head(10).plot(kind = 'pie', autopct='%1.1f%%', figsize=(10, 10)).legend()","1b06138c":"#show a few of data from Engagement_Data\ndt_engagement.head()","46f686df":"#show information about Engagement Data\ndt_engagement.info()","5b6fa891":"#dropping data that contain lp_id null \ndt_engagement = dt_engagement.drop(dt_engagement.loc[dt_engagement['lp_id'].isnull()].index)\ndt_engagement = dt_engagement.fillna(0.0)","17a60d0d":"# set lp_id and disctrict_id to int to merge with product_info and state_info\ndt_engagement[\"lp_id\"] = dt_engagement[\"lp_id\"].astype(int)\ndt_engagement[\"district_id\"] = dt_engagement[\"district_id\"].astype(int)\n#rename column dt_product to easy merge\ndt_product.rename(columns = {'LP ID': 'lp_id'}, inplace = True)","e989b5bb":"# merge districts and products\ndt_explore = pd.merge(dt_engagement, dt_district, on=\"district_id\")\ndt_explore = pd.merge(dt_explore, dt_product, on=\"lp_id\")\ndt_explore","5485374f":"# gain information from the combine dataset \ndt_explore.info()","0bb527b3":"# change the Dtype of time because previously it was an object\ndt_explore['time']= pd.to_datetime(dt_explore['time'])","19932aa1":"##GroupByDay\ndf_groupbydays = dt_explore.set_index('time').groupby(pd.Grouper(freq='D')).mean()","9950c510":"#show the data of groupbyday\ndf_groupbydays","1b6554e5":"sns.set(rc = {'figure.figsize':(15,8)})\nsns.lineplot(x = \"time\", y = \"pct_access\", data = df_groupbydays,marker='o')","3d81f7b5":"sns.lineplot(x = \"time\", y = \"engagement_index\", data = df_groupbydays,marker='o')","5b9bf576":"dt_month = dt_explore.groupby(pd.Grouper(key='time', axis=0, \n                      freq='M')).mean()","2a2844d7":"sns.lineplot(x = \"time\", y = \"engagement_index\", data = dt_month,marker='o')","2c25e38b":"sns.lineplot(x = \"time\", y = \"pct_access\", data = dt_month,marker='o')","babfc4a1":"dt_explore.head()","f115d60c":"best_product = dt_explore.groupby(by = 'Product Name', as_index = False)['engagement_index'].agg('mean').sort_values(by ='engagement_index', ascending = False)\nsns.barplot(x = 'engagement_index', y ='Product Name', data = best_product[0:15])\nplt.xlabel(xlabel = 'Engagement Index')\nplt.ylabel(ylabel = 'Product Name')\nplt.title(label = 'Best 15 Product Name That Used')","8d0035a6":"best_sectors = dt_explore.groupby(by = 'Sector(s)', as_index = False)['engagement_index'].agg('mean').sort_values(by ='engagement_index', ascending = False)\nsns.barplot(x = 'engagement_index', y ='Sector(s)', data = best_sectors)\nplt.xlabel(xlabel = 'Engagement Index')\nplt.ylabel(ylabel = 'Sectors')\nplt.title(label = 'Top Sectors')","485f8103":"best_company = dt_explore.groupby(by = 'Provider\/Company Name', as_index = False)['engagement_index'].agg('mean').sort_values(by ='engagement_index', ascending = False)\nsns.barplot(x = 'engagement_index', y ='Provider\/Company Name', data = best_company[0:5])\nplt.xlabel(xlabel = 'Engagement Index')\nplt.ylabel(ylabel = 'Provider\/Company Name')\nplt.title(label = 'Best 5 Provider\/Company')","276ac0af":"best_primary = dt_explore.groupby(by = 'Primary Essential Function', as_index = False)['engagement_index'].agg('mean').sort_values(by ='engagement_index', ascending = False)\nsns.barplot(x = 'engagement_index', y ='Primary Essential Function', data = best_primary[0:10])\nplt.xlabel(xlabel = 'Engagement Index')\nplt.ylabel(ylabel = 'Primary Essential Function')\nplt.title(label = 'Best 10 Primary Essential Function')","14840152":"dt_state = dt_explore.groupby(by = 'state', as_index = False)['engagement_index'].agg('mean').sort_values(by ='engagement_index', ascending = False)\nsns.barplot(x = 'engagement_index', y ='state', data = dt_state)\nplt.xlabel(xlabel = 'Engagement Index')\nplt.ylabel(ylabel = 'State')\nplt.title(label = 'Engagement Index based on State')","309e2851":"dt_locale = dt_explore.groupby(by = 'locale', as_index = False)['engagement_index'].agg('mean').sort_values(by ='engagement_index', ascending = False)\nsns.barplot(x = 'engagement_index', y ='locale', data = dt_locale)\nplt.xlabel(xlabel = 'Engagement Index')\nplt.ylabel(ylabel = 'Locale')\nplt.title(label = 'Engagement Index based on Locale')","9672e0d2":"dt_rural =  dt_explore[dt_explore[\"locale\"] == 'Rural']\ndt_rural.head()","9e03d3ce":"rural_engagement = dt_rural.groupby([\"locale\", \"time\"],as_index=False)[\"engagement_index\"].mean().reset_index(drop=True)\nrural_engagement.head()","f502fa7f":"sns.lineplot(x = 'time',y='engagement_index',data=rural_engagement)\nplt.title(label = 'Engagement Index based from Rural')","fbd8af65":"dt_suburb =  dt_explore[dt_explore[\"locale\"] == 'Suburb']\ndt_suburb.head()","96198644":"suburb_engagement = dt_suburb.groupby([\"locale\", \"time\"],as_index=False)[\"engagement_index\"].mean().reset_index(drop=True)\nsuburb_engagement.head()","44a61d11":"sns.lineplot(x = 'time',y='engagement_index',data=suburb_engagement)\nplt.title(label = 'Engagement Index based from Suburb')","ec563194":"dt_town =  dt_explore[dt_explore[\"locale\"] == 'Town']\ndt_town.head()","9588747e":"town_engagement = dt_town.groupby([\"locale\", \"time\"],as_index=False)[\"engagement_index\"].mean().reset_index(drop=True)\ntown_engagement.head()","78648022":"sns.lineplot(x = 'time',y='engagement_index',data=town_engagement)\nplt.title(label = 'Engagement Index based from Town')","e429d8af":"dt_city =  dt_explore[dt_explore[\"locale\"] == 'City']\ndt_city.head()","fc69b7b3":"city_engagement = dt_city.groupby([\"locale\", \"time\"],as_index=False)[\"engagement_index\"].mean().reset_index(drop=True)\ncity_engagement.head()","83118a4d":"sns.lineplot(x = 'time',y='engagement_index',data=city_engagement)\nplt.title(label = 'Engagement Index based from City')","a43e83d6":"sns.lineplot(x = 'time',y='engagement_index',data=rural_engagement,color='blue')\nsns.lineplot(x = 'time',y='engagement_index',data=suburb_engagement,color='green')\nsns.lineplot(x = 'time',y='engagement_index',data=city_engagement,color='red')\nsns.lineplot(x = 'time',y='engagement_index',data=town_engagement,color='orange')\nplt.legend(labels=['Rural', 'Suburb', 'City','Town'])\nplt.title(label = 'Engagement Index based groupby Locale')","2e080a81":"# 190030265 Kalyan\n\u2018LearnPlatform\u2019 COVID-19 Impact on Digital Learning"}}