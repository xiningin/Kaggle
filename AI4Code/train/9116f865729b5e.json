{"cell_type":{"e916f0fc":"code","904ca43a":"code","dbc4a821":"code","1c704339":"code","e7007482":"code","0cb2babc":"code","ca8e5ec0":"code","0c025779":"code","486b3f51":"code","9564eb0f":"code","d7528c2c":"code","1b94e42e":"code","6136118c":"code","3b5032c6":"code","d84ebe1d":"code","477a5318":"code","f8a72b0e":"code","581d3e89":"code","b718fa6b":"code","4eb7a23a":"code","d7a723c3":"code","accec97d":"code","9582a7ce":"code","f5dc1e63":"code","fdf69292":"markdown","168b5feb":"markdown","908d6cde":"markdown","68a8f765":"markdown","a3338c65":"markdown","24a4bae6":"markdown","79464219":"markdown","67a3dc4a":"markdown","d2d8ec01":"markdown"},"source":{"e916f0fc":"from datetime import datetime\nprint(datetime.now().strftime('%d-%m-%Y %I:%M %p'))","904ca43a":"import numpy as np\nimport requests\nimport lxml.html as lh\nimport pandas as pd\nfrom bs4 import BeautifulSoup\nimport requests\nimport warnings\nwarnings.filterwarnings(\"ignore\")","dbc4a821":"wd_url = \"https:\/\/www.worldometers.info\/coronavirus\/\"\nreq= requests.get(wd_url)\ndata=req.text\nsoup=BeautifulSoup(data,'html.parser')\n\ntable_body = soup.find('tbody')\ntable_rows = table_body.find_all('tr')","1c704339":"country = []\ntotalcases = []\nnewcases = []\ntotaldeaths = []\nnewdeaths =[]\ntotalrecovered = []\n\nfor tr in table_rows:\n    td = tr.find_all('td')\n    country.append(td[1].text)\n    totalcases.append(td[2].text.strip())\n    newcases.append(td[3].text.strip())\n    totaldeaths.append(td[4].text.strip())\n    newdeaths.append(td[5].text.strip())\n    totalrecovered.append(td[6].text)","e7007482":"df1 = pd.DataFrame({'Country':country, 'TotalCases':totalcases, 'NewCases':newcases, \n                    'TotalDeaths':totaldeaths, 'NewDeaths':newdeaths, 'TotalRecovered':totalrecovered})\ndf = df1.loc[8:]\ndf.head()","0cb2babc":"df_world = pd.DataFrame(df1.loc[7])\ndf_world.drop([\"Country\"],inplace=True)\ndf_world.head()","ca8e5ec0":"def null_values(data):\n    data.fillna(0, inplace=True)\n    return data\ndf = null_values(df)","0c025779":"def preprocess(data):\n    for cols in data:\n        data[cols] = data[cols].map(lambda x: str(x).replace(',',''))\n        data[cols] = data[cols].map(lambda x: str(x).replace('+',''))\n        data[cols] = data[cols].map(lambda x: str(x).replace('\\n',''))\npreprocess(df_world)\npreprocess(df)","486b3f51":"res = requests.get(\"https:\/\/www.mohfw.gov.in\")\nsoup = BeautifulSoup(res.content,'lxml') \ntable = soup.find_all('table')[0]\ndf_Ind = pd.read_html(str(table))[0]\nstate = df_Ind[\"Name of State \/ UT\"].tolist()\ncases = df_Ind[\"Total Confirmed cases*\"].tolist()\ncured = df_Ind[\"Cured\/Discharged\/Migrated*\"].tolist()\ndeaths = df_Ind[\"Deaths**\"].tolist()","9564eb0f":"df_Ind = pd.DataFrame({'States':state, 'Cases':cases, 'Cured':cured, 'Death':deaths})\ndf_Indtotal = df_Ind.loc[[36]]\ndf_Ind = df_Ind.loc[:(len(df_Ind)-7)]\ndf_Ind.head()","d7528c2c":"import pandas as pd \nimport plotly.express as px\n\nimport cufflinks\nfrom plotly.offline import iplot\ncufflinks.go_offline()","1b94e42e":"df_world.head()","6136118c":"df_world.iplot(kind='bar',title=\"World's Total Cases, New Cases, Total Deaths, New Deaths & Total Recovered\")","3b5032c6":"df_newcases = df.copy()\ndf_newcases[\"NewCases\"] = pd.to_numeric(df_newcases[\"NewCases\"])\ndf_newcases[\"NewDeaths\"] = pd.to_numeric(df_newcases[\"NewDeaths\"])\ndf_newcases=df_newcases.sort_values(by = [\"NewCases\"], ascending = False)\ndf_newcases = df_newcases[(df_newcases['NewCases']>0) & (df_newcases['NewDeaths']>0)]\n\nfig = px.bar(df_newcases, x='Country', y ='NewCases', color='Country',text='NewCases', height=500, width=1500, \n             title =\"Today's New Cases Across Countries\")\nfig.show()","d84ebe1d":"#df[\"TotalRecovered\"] = pd.to_numeric(df[\"TotalRecovered\"])\ndf=df.sort_values(by = [\"TotalRecovered\"], ascending = False).head(50)\n\ndf.iplot(\n    x='Country',\n    y=['TotalRecovered'],\n    mode='lines',\n    size=8,\n    title=\"Top 50 Countries With Recovered Cases\")","477a5318":"df_newcases.iplot(\n    x='Country',\n    y=['NewDeaths','NewCases'],\n    mode='lines',\n    size=8,\n    title=\"Today's New Cases & New Deaths\")","f8a72b0e":"df_totaldeaths = df.copy()\ndf_totaldeaths[\"TotalDeaths\"] = pd.to_numeric(df_totaldeaths[\"TotalDeaths\"])\ndf_totaldeaths = df_totaldeaths[df_totaldeaths['TotalDeaths']>150]\ndf_totaldeaths=df_totaldeaths.sort_values([\"TotalDeaths\"], axis=0, ascending=[False])\nfig = px.bar(df_totaldeaths, x='Country', y = 'TotalDeaths', color='Country', text='TotalDeaths', height=500, \n             width=1200,title ='Number of Total Deaths Across Countries Greater Than 150')\nfig.show()","581d3e89":"fig = px.pie(df, values='TotalCases',names='Country', labels={'cured':'TotalCases'}, hover_data=['TotalCases'],\n            title='Total Number of Cases Countries Suffered')\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","b718fa6b":"import plotly.io as pio\npio.templates.default = \"plotly_dark\"\n\ndf_Indtotal.head()","4eb7a23a":"df_Indtotal.mean().iplot(kind='bar',\n                        layout=dict(title=\"India's Total Cases, Cured Cases & Total Deaths\"))","d7a723c3":"df_Indcases = df_Ind.copy()\ndf_Indcases[\"Cases\"] = pd.to_numeric(df_Indcases[\"Cases\"])\ndf_Indcases=df_Indcases.sort_values(by = [\"Cases\"], ascending = False)\nfig = px.bar(df_Indcases, x='States', y ='Cases', color='States',text='Cases', height=500, width=950, \n             title ='Number of Total Cases in India')\nfig.show()","accec97d":"df_Indcured = df_Ind.copy()\ndf_Indcured[\"Cured\"] = pd.to_numeric(df_Indcured[\"Cured\"])\ndf_Indcured=df_Indcured.sort_values(by = [\"Cured\"], ascending = False)\nfig = px.bar(df_Indcured, x='States', y ='Cured', color='States',text='Cured', height=500, width=950, \n             title ='Total Cured Cases in Country')\nfig.show()","9582a7ce":"df_Indcured = df_Ind.copy()\ndf_Indcured[\"Cases\"] = pd.to_numeric(df_Indcured[\"Cases\"])\ndf_Indcured=df_Indcured.sort_values(by = [\"Cases\"], ascending = False)\ndf_Indcured.iplot(\n    x='States',\n    y=['Cured','Cases'],\n    mode='lines',\n    size=8,\n    layout=dict(title='Rate of Total Cured & Total Cases In India'))","f5dc1e63":"fig = px.pie(df_Indcured, values='Cases',names='States', labels={'cured':'Cases'}, hover_data=['Cases'],\n            title=\"Total Cases India Suffered as per States\")\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","fdf69292":"## Data Gathering\n### For cases across the world","168b5feb":"## [For Live Updates Open This Notebook in Colab](https:\/\/colab.research.google.com\/github\/prasadpatil99\/Web-Scraping\/blob\/master\/Web-Scraping-Covid-19-Cases\/LIVE-Covid-19-Updates-Of-India-%26-Other-Countries..ipynb#scrollTo=qym-mhuqYD8u)","908d6cde":"## Data Visualisation - World","68a8f765":"Removing symbols and replacing null values from dataframe","a3338c65":"**For cases in India**","24a4bae6":"## Data Visualisation - India","79464219":"Last Updated On","67a3dc4a":"## References\nhttps:\/\/plotly.com\/python\/<br>\nhttps:\/\/www.mohfw.gov.in <br>\nhttps:\/\/www.worldometers.info\/coronavirus","d2d8ec01":"![img](https:\/\/www.uib.no\/sites\/w3.uib.no\/files\/styles\/content_main_wide_1x\/public\/media\/corona_0.jpg?itok=nY-uRO-n&timestamp=1582750728)"}}