{"cell_type":{"b8254d28":"code","38c41993":"code","a1918399":"code","fc077ca8":"code","6e468866":"code","df5ff732":"code","2f537842":"code","8e1b4133":"code","e7b3f345":"code","666d98fc":"code","f08cad34":"code","1c3627d9":"code","b252be6a":"code","cd6bf455":"code","5eb297a2":"code","a6a28024":"code","017d821b":"code","efc41026":"code","eb2a7ab6":"code","0993d947":"code","5fcaf970":"code","0cfce33a":"code","4fb8e678":"code","da0e694a":"code","b69d37b4":"code","f28493ae":"code","824a5022":"code","503522d2":"code","7fbf83c3":"markdown","19033649":"markdown","f578886b":"markdown","0a971201":"markdown","6641e8e7":"markdown","fb6ca1c6":"markdown","9b49674c":"markdown","efe572cd":"markdown","67c324ad":"markdown","b8684a86":"markdown","71551fb7":"markdown","8f8763ef":"markdown","0f714fda":"markdown","d25a6e03":"markdown","1c922382":"markdown","6bfe364b":"markdown","d1e39540":"markdown","16401bd0":"markdown","534ace13":"markdown","adc20040":"markdown","54fb8f88":"markdown","204fedaa":"markdown","029f594e":"markdown","25036bf6":"markdown","4baaa398":"markdown","c1e2b837":"markdown","fde3c822":"markdown","80e411dd":"markdown","ca6c5574":"markdown","1b9d209b":"markdown","f0a45087":"markdown","44c41202":"markdown","01693f04":"markdown","164499ff":"markdown","49f778cf":"markdown","4887a5bd":"markdown","64296794":"markdown","6f2239ce":"markdown","36a1c308":"markdown","4b321ba7":"markdown","b751eb63":"markdown","009f010e":"markdown","8a54d22c":"markdown"},"source":{"b8254d28":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport statistics\nimport seaborn as sns\nimport plotly.figure_factory as ff\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport plotly.express as px\nimport requests\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\npd.options.mode.chained_assignment = None  # default='warn'\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n%matplotlib inline\n!pip install mplcyberpunk\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\npalette = ['#F5DF4D', '#939597', '#0F4C81', '#FF6F61', '#5F4B8B', '#88B04B', '#92A8D1', '#F7CAC9', '#955251',\\\n           '#B163A3', '#009473']\npalette.reverse()\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current sessione current session","38c41993":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","a1918399":"df_hyundi = pd.read_csv('\/kaggle\/input\/used-car-dataset-ford-and-mercedes\/hyundi.csv')\ndf_hyundi.head()","fc077ca8":"df_hyundi = df_hyundi.drop(columns={'tax(\u00a3)': 'tax'})\ndf_hyundi.head()","6e468866":"# This will get the names of the files in the dataset's folder\nfiles = [file for file in os.listdir('\/kaggle\/input\/used-car-dataset-ford-and-mercedes\/')]\nfull_data = pd.DataFrame()\n\nfor file in files:\n    if file in ['hyundi.csv', 'unclean focus.csv', 'unclean cclass.csv']:\n        continue\n    df = pd.read_csv('\/kaggle\/input\/used-car-dataset-ford-and-mercedes\/'+file)\n    full_data = pd.concat([full_data, df])\n\nfull_data = pd.concat([full_data, df_hyundi])\nprint(full_data.head())","df5ff732":"\nmodel_count=full_data\nax2= px.treemap(model_count,path=[\"model\"],title=\"Popularity of the bought car models:\")\nax2.show()","2f537842":"print(full_data.describe())","8e1b4133":"full_data=full_data[full_data.year != 2060]","e7b3f345":"print(full_data.shape)","666d98fc":"print(full_data.columns)","f08cad34":"print(full_data.info())","1c3627d9":"full_data.isna().any()","b252be6a":"!pip install mplcyberpunk","cd6bf455":"import mplcyberpunk","5eb297a2":"gry=full_data\nmodel_buys= gry.groupby('model')['model'].count()\nmodel_buys = pd.DataFrame(model_buys)\nmodel_buys.columns = ['Buys']\nmodel_buys.sort_values(by=['Buys'], inplace=True, ascending=False)\nmodel_buys = model_buys.head(10)\nprint(model_buys.head(20))\nplt.style.use(\"cyberpunk\")\nmodel_buys.plot.bar()\n","a6a28024":"gry=full_data\nmodel_buys1= gry.groupby('year')['model'].count()\nmodel_buys1 = pd.DataFrame(model_buys1)\nmodel_buys1.columns = ['Buys']\nmodel_buys1.sort_values(by=['Buys'], inplace=True, ascending=False)\nmodel_buys1 = model_buys1.head(10)\nprint(model_buys1.head(20))","017d821b":"plt.style.use(\"cyberpunk\")\nmodel_buys1.plot.bar()","efc41026":"model_buys2=full_data\nmodel_buys2=model_buys2[[\"price\",\"year\"]].groupby('year').mean()\nmodel_buys2.sort_values(by=['price'], inplace=True, ascending=False)\nmodel_buys2 = model_buys2.head(10)\nprint(model_buys2.head(20))","eb2a7ab6":"\n\nplt.figure(figsize=(14,7))\n\n# Add title\nplt.title(\"Average Money Spend for a model, by Year\")\n\n# Heatmap showing average arrival delay for each airline by month\nsns.heatmap(data=model_buys2, annot=True)\n# Add label for horizontal axis\nplt.xlabel(\"Model price\")","0993d947":"model_trans=gry\nmodel_trans= model_trans.groupby('transmission')['model'].count()\nprint(model_trans.head(20))\n","5fcaf970":"model_trans=full_data\nmodel_trans=full_data\nmodel_trans=model_trans[model_trans.year != 1970]\nmodel_trans=model_trans[model_trans.year != 1991]\n\nmodel_trans3 = model_trans[model_trans.transmission == \"Automatic\"]\nmodel_trans3= model_trans.groupby('year')['model'].count()\n\nprint(model_trans3.head(50))\n\n","0cfce33a":"model_trans2=full_data\nmodel_trans2 = model_trans2[model_trans2.transmission == \"Manual\"]\nmodel_trans2= model_trans2.groupby('year')['model'].count()\n\n","4fb8e678":"model_trans4=full_data\nmodel_trans4 = model_trans4[model_trans4.transmission == \"Semi-Auto\"]\nmodel_trans4= model_trans4.groupby('year')['model'].count()\n","da0e694a":"plt.style.use(\"cyberpunk\")\n# plot out the time series \nmodel_trans3.plot(kind = 'line', label = 'Automatic', figsize = (12, 8))\nmodel_trans2.plot(kind = 'line', label = 'Manual', figsize = (12, 8))\nmodel_trans4.plot(kind = 'line', label = 'Semi-Automatic', figsize = (12, 8))\nplt.title('Automatic Gearbox vs Manual', fontsize = 18)\nplt.xlabel('Year', fontsize = 16)\nplt.ylabel('Number of cars', fontsize = 16)\nplt.legend(loc='upper left', bbox_to_anchor=(1,1), ncol=1);","b69d37b4":"model_fuel=gry\nmodel_fuel= model_fuel.groupby('fuelType')['model'].count()\nprint(model_fuel.head(20))","f28493ae":"model_fuel=full_data\nmodel_fuel1=full_data\nmodel_fuel2=full_data\nmodel_fuel3=full_data\nmodel_fuel4=full_data\n\nmodel_fuel=full_data\nmodel_fuel=model_fuel[model_fuel.year != 1970]\nmodel_fuel=model_fuel[model_fuel.year != 1991]\n\nmodel_fuel1=model_fuel1[model_fuel1.year != 1970]\nmodel_fuel1=model_fuel1[model_fuel1.year != 1991]\n\nmodel_fuel1 = model_fuel1[model_fuel1.fuelType == \"Diesel\"]\nmodel_fuel1= model_fuel1.groupby('year')['model'].count()\n\nmodel_fuel2 = model_fuel2[model_fuel2.fuelType == \"Electric\"]\nmodel_fuel2= model_fuel2.groupby('year')['model'].count()\n\nmodel_fuel3 = model_fuel3[model_fuel3.fuelType == \"Hybrid\"]\nmodel_fuel3= model_fuel3.groupby('year')['model'].count()\n\nmodel_fuel4 = model_fuel4[model_fuel4.fuelType == \"Petrol\"]\nmodel_fuel4= model_fuel4.groupby('year')['model'].count()","824a5022":"plt.style.use(\"cyberpunk\")\n# plot out the time series \nmodel_fuel1.plot(kind = 'line', label = \"Diesel\", figsize = (12, 8))\nmodel_fuel2.plot(kind = 'line', label = \"Electric\", figsize = (12, 8))\nmodel_fuel3.plot(kind = 'line', label = \"Hybrid\", figsize = (12, 8))\nmodel_fuel4.plot(kind = 'line', label = \"Petrol\", figsize = (12, 8))\nplt.title('Automatic Gearbox vs Manual', fontsize = 18)\nplt.xlabel('Year', fontsize = 16)\nplt.ylabel('Number of cars', fontsize = 16)\nplt.legend(loc='upper left', bbox_to_anchor=(1,1), ncol=1);","503522d2":"plt.style.use(\"cyberpunk\")\ndfer= full_data\ndfmer= full_data\ndfwil= full_data\ndrai=full_data\ndfer =dfer.sort_values('mpg', ascending=False)\ndfmer =dfmer.sort_values('engineSize', ascending=False)\ndfwil =dfwil.sort_values('tax', ascending=False)\ndrai =drai.sort_values('mileage', ascending=False)\nfig = make_subplots(rows=2, cols=2)\nfig.add_trace(go.Scatter(x=dfer['mpg'], y=dfer['price'], name=\"Miles Per Galon\"),row=1, col=1)\nfig.add_trace(go.Scatter(x=dfmer['engineSize'], y=dfmer['price'], name=\"Engine Size\"),row=1, col=2)\nfig.add_trace(go.Scatter(x=dfwil['tax'], y=dfwil['price'], name=\"Tax\"),row=2, col=1)\nfig.add_trace(go.Scatter(x=drai['mileage'], y=dfwil[\"price\"], name=\"Mileage\"),row=2, col=2)\nfig.update_layout(height=600, width=650, title_text=\"What the price depends on?\")\nfig.show()\nplt.style.use(\"cyberpunk\")","7fbf83c3":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Preliminary statistical analisys:\n \ud83c\udfce\ufe0f<\/h1> <a id=1.3><\/a>\n \n #### [Back to the top](#0)","19033649":"![](https:\/\/1.bp.blogspot.com\/-52uc2_Snu5M\/XoQw22VVNDI\/AAAAAAAAAnM\/QpK1mXQ2bxczhy2H9sTjmPVcPXzQW0wOQCLcBGAsYHQ\/s1600\/volgopoint%2Bnew%2Bcar.gif)","f578886b":"#### As we can see in the UK the most popular car year is 2019.\n#### People rather buy cars that are from the last 4 years than a brand new vechicle","0a971201":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Let's check which transmission is more popular \n \ud83c\udfce\ufe0f<\/h1> <a id=2.4><\/a>\n \n##### [Back to the top](#0)","6641e8e7":"#### \"isna\"","fb6ca1c6":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:200%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Investigation over the price changes:\n \ud83c\udfce\ufe0f<\/h1> <a id=2.6><\/a>\n \n##### [Back to the top](#0)","9b49674c":"Importing Cyberpunk visual style","efe572cd":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:200%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary of full analyse:\n \ud83c\udfce\ufe0f<\/h1> <a id=2.7><\/a>\n \n##### [Back to the top](#0)","67c324ad":"#### As we could be sure that the newer cars prices would be the most expensive per one, it is interesting that the classic cars from 1970 year have the higher price then cars from 2018 and 2017 year","b8684a86":"#### As we can see the most of the bought cars have manual gearbox","71551fb7":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Importing data, simple preliminary analysis\n \ud83c\udfce\ufe0f<\/h1> <a id=1.1><\/a>","8f8763ef":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Checking the average price of cars regarding their year of registration\n \ud83c\udfce\ufe0f<\/h1> <a id=2.3><\/a>\n \n  #### [Back to the top](#0)","0f714fda":"#### Calculate total amount of the sales for each model:","d25a6e03":"#### As we can see:\n#### Most of the cars are in the first interval to 100 miles per gallon\n#### The highest price is also the biggest for the smallest amount of mpg but we need to include that it is also connected with the engine size \n#### We have checked the tax amount and the clear corelation is not visable with the year,mgp or engine size. This is happening because the amount regards the carbon emissions of the car in UK.\n#### Smaller amount of mileage also makes the price bigger","1c922382":"#### \"describe\"","6bfe364b":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Checking the year from which cars are the most popular:\n \ud83c\udfce\ufe0f<\/h1> <a id=2.2><\/a>\n \n  #### [Back to the top](#0)","d1e39540":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Manual vs Automatic: \n \ud83c\udfce\ufe0f<\/h1> \n \n##### [Back to the top](#0)","16401bd0":" <h1 style=\"background-color:#FF61BE\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary:\n \ud83c\udfce\ufe0f<\/h1>","534ace13":"#### \"columns\"","adc20040":"\n <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Merging all data sets to one big full_data dataset:\n \ud83c\udfce\ufe0f<\/h1> <a id=1.2><\/a>\n \n #### [Back to the top](#0)","54fb8f88":"#### \"shape\"","204fedaa":" <h1 style=\"background-color:#FEEE35\n;font-family:newtimeroman;font-size:225%;text-align:center;border-radius: 15px 50px;\"> \ud83d\udcc8 Thank you all for watching please leave feedback, It would really help me to develop new skills and learn new things \ud83d\ude03 \ud83d\udcc8<\/h1><a id=0><\/a>","029f594e":" <h1 style=\"background-color:#FDFF00\n;font-family:newtimeroman;font-size:225%;text-align:center;border-radius: 15px 50px;\"> \ud83d\ude97 EDA: Full UK Used Cars Analyse & Visualization \ud83d\ude97<\/h1><a id=0><\/a>\n \n ### What is included:\n\n #  [1. UK Used Car Data preliminary analysis](#1)\n   [1.1 Importing the data:](#1.1)\n   \n   [1.2 Merging the data:](#1.2)\n   \n   [1.3 Preliminary statistical summary:](#1.3)\n   \n #  [2. Let's slowly dive into data](#2)\n   [2.1 Checking how many models are most populars:](#2.1)\n   \n   [2.2 Checking most popular year of the cars:](#2.2)\n   \n   [2.3 Checking the average price for each years model](#2.3)\n   \n   [2.4 Checking which transmission is more popular](#2.4)\n   \n   [2.5 Checking which fuel type is more popular](#2.5)\n   \n   [2.6 Investigation over the car price changes](#2.6)\n   \n   [2.7 Summary of the analyse](#2.7)\n   \n   \n\n   ","25036bf6":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Visualization of the fuel types: \n \ud83c\udfce\ufe0f<\/h1> <a id=2.5><\/a>\n \n##### [Back to the top](#0)","4baaa398":"#### As we can see:\n#### In the last year the number of cars that are hybrid is increasing also we can see some electric cars\n#### Number of cars with Diesel Engine also is higher which can be caused by the creation of new high performance diesel engines that are really good for long rides ","c1e2b837":"###  Little modification for Hyundai data\n\n####  Hyundai dataset contains a column which includes pound sign before the 'tax' column.\n####  We need to delete it first before merging\n\n\n","fde3c822":"#### \"info\"","80e411dd":"#### As we can see in the UK the most popular car models are Focus, C Class and Fiesta.\n#### It is clearly visable that Ford cars are the kings of the roads","ca6c5574":" <h1 style=\"background-color:#FF61BE\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary:\n \ud83c\udfce\ufe0f<\/h1>","1b9d209b":" <h1 style=\"background-color:#FF61BE\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary:\n \ud83c\udfce\ufe0f<\/h1>","f0a45087":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Calculating which models are most popular:\n \ud83c\udfce\ufe0f<\/h1> <a id=2.1><\/a>","44c41202":"#### As we can see the most of the bought cars are Diesel","01693f04":"#### As we can see the most of the bought cars have manual gearbox but the trend changes and more and more people are interested in cars with automatic gearbox","164499ff":" <h1 style=\"background-color:#FF61BE\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary:\n \ud83c\udfce\ufe0f<\/h1>","49f778cf":"![](https:\/\/hips.hearstapps.com\/hmg-prod.s3.amazonaws.com\/images\/cars-sit-on-the-lot-at-the-mcgrath-honda-dealership-on-news-photo-1620243034.?crop=1.00xw:0.753xh;0,0.138xh&resize=640:*)","4887a5bd":"#### As we can see the most popular models in the UK are Ford Focus, Mercedes C Class and Ford Fiesta. It is easly seen that the favourite car brand in the United Kingdom is Ford.\n\n#### The most cars have been bought from the last 3-4 years.\n\n#### Most of the cars have manual gearbox.\n\n#### Petrol is the most popular fuel type.\n\n#### The price depends on so many things that is really hard to clarify the biggest price change reason. We can for sure say that the price is higher when the car uses smaller amount of miles per galon and has a smaller mileage. The tax is not a good criterium beacuse in UK it depends on the CO2 emission. ","64296794":" <h1 style=\"background-color:#FF61BE\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary:\n \ud83c\udfce\ufe0f<\/h1>","6f2239ce":" <h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Visualization of the transmissions: \n \ud83c\udfce\ufe0f<\/h1> \n \n##### [Back to the top](#0)","36a1c308":"#### Columns deleted","4b321ba7":" <h1 style=\"background-color:#FF61BE\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Summary:\n \ud83c\udfce\ufe0f<\/h1>","b751eb63":"<h1 style=\"background-color:#00CCCC\n;font-family:newtimeroman;font-size:150%;text-align:left;border-radius: 15px 50px;\"> \ud83c\udfce\ufe0f Let's check which fuel type is more popular \n \ud83c\udfce\ufe0f<\/h1> <a id=2.5><\/a>\n \n##### [Back to the top](#0)","009f010e":" <h1 style=\"background-color:#00CCCC;font-family:newtimeroman;font-size:300%;text-align:left;border-radius: 25px 75px;\"> \ud83d\ude97 2. Let's slowly dive into data: \ud83d\ude97<\/h1> \n<a id=2><\/a>\n\n#### [Back to the top](#0)","8a54d22c":" <h1 style=\"background-color:#00CCCC;font-family:newtimeroman;font-size:300%;text-align:left;border-radius: 25px 75px;\"> \ud83d\ude97 1. Preleminary analysis section \ud83d\ude97<\/h1> \n\n\n#### [Back to the top](#0)"}}