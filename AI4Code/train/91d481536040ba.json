{"cell_type":{"27a90d31":"code","d3884e34":"code","76a21878":"code","b82e9199":"code","4c8206d6":"code","7d497ea7":"code","d8664020":"code","a500a9a4":"code","3d25e405":"code","e3dcd170":"code","2070bf82":"code","d286e9c1":"code","e7987d44":"code","4e19267e":"code","1120851f":"code","5af30bc6":"code","4f566d5d":"code","76a98f4c":"code","6b2ff070":"code","28c39782":"code","080cb957":"code","2377f027":"code","4e1c3c07":"code","7c8b6f8d":"code","88f2ebfc":"code","f095dfbd":"code","93ba7aeb":"code","f198e7b4":"markdown","19b3adbb":"markdown","d5e95acd":"markdown","53bde90a":"markdown","6be0fd4c":"markdown","5c5871c6":"markdown","14b660d9":"markdown","15973f79":"markdown","09bff52d":"markdown","4ffd133b":"markdown","d1f86288":"markdown","1b2653c4":"markdown","6b77b7f1":"markdown","47309080":"markdown"},"source":{"27a90d31":"import pandas as pd \nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime as dt\npd.set_option('display.max_columns',None)\npd.set_option('display.max_rows',None)","d3884e34":"data  = pd.read_csv('\/kaggle\/input\/west-nile-mosquitoes\/train.csv',parse_dates=['Date'])\ndata.head(4)","76a21878":"data['date'] = data['Date']\ndata['year'] = pd.DatetimeIndex(data['Date']).year\ndata['month'] = [d.strftime('%b') for d in data.Date]\ndata.set_index('date',inplace=True)","b82e9199":"data.shape","4c8206d6":"data.head(4)","7d497ea7":"data.groupby('month')['NumMosquitos'].count()","d8664020":"sns.boxplot(x='month', y='NumMosquitos', data=data)","a500a9a4":"data.groupby('year')['NumMosquitos'].count()","3d25e405":"plt.figure(figsize=(20,10))\nplt.scatter(y=data[['NumMosquitos']],x=data.index)\nplt.show()","e3dcd170":"data.nunique()","2070bf82":"data['Longitude'] = data[['Longitude']].round(2)\ndata['Latitude'] = data[['Latitude']].round(2)\ndata.head(4)","d286e9c1":"data.nunique()","e7987d44":"spray  = pd.read_csv('\/kaggle\/input\/west-nile-mosquitoes\/spray.csv',parse_dates=['Date'])\nspray.head(4)","4e19267e":"spray['Longitude'] = spray[['Longitude']].round(2)\nspray['Latitude'] = spray[['Latitude']].round(2)\nspray.head(4)","1120851f":"spray.nunique()","5af30bc6":"weather  = pd.read_csv('\/kaggle\/input\/west-nile-mosquitoes\/weather.csv',parse_dates=['Date'])\nweather.head(4)","4f566d5d":"weather = weather[['Date','Tavg','Heat','Cool','AvgSpeed']]\nweather.ffill()\nweather.drop_duplicates(subset='Date',inplace=True)\nweather.head(4)","76a98f4c":"new = pd.merge(data,spray,how='left',on=['Date','Latitude','Longitude'])\nnew.head(10)","6b2ff070":"new['spray'] = 1\nnew.loc[new['Time'].isnull(),'spray'] = 0\nnew.drop('Time',axis=1,inplace=True)\nnew.head(4)","28c39782":"print(new.shape)\nnew = pd.merge(new,weather,how='left',on='Date')\nnew.shape","080cb957":"new.head(10)","2377f027":"new.set_index('Date',inplace=True)\nnew.head(4)","4e1c3c07":"plt.figure(figsize=(20,10))\nplt.scatter(x=new['Tavg'].sort_values(),y=new['NumMosquitos'])","7c8b6f8d":"fig, ax = plt.subplots(figsize=(20,6))\nax.scatter(x=new['AvgSpeed'].sort_values(ignore_index=True),y=new['NumMosquitos'])\nlabels = ax.get_xticklabels()\nplt.setp(labels, rotation=45, horizontalalignment='right')\nplt.show()","88f2ebfc":"plt.figure(figsize=(20,10))\nplt.scatter(x=new['Heat'].sort_values(),y=new['NumMosquitos'])","f095dfbd":"plt.figure(figsize=(20,10))\nplt.scatter(x=new['Cool'].sort_values(),y=new['NumMosquitos'])","93ba7aeb":"plt.figure(figsize=(20,10))\nsns.boxplot(x='month',y='NumMosquitos',data=new,hue='spray')","f198e7b4":"If you see the seasonality, more number of mosquitoes were trapped in the month of July and August. This is the rainy season.","19b3adbb":"From the below plot we can conclude that cool weather doesn't effect the west nile mosquitoes much. They sustain anyhow.","d5e95acd":"As you can see in the below plot, as the average temperature increases the number of mosquitoes are increasing. This means that west nile mosquitoes are more adaptive to high temperatures.","53bde90a":"Till 2011 the frequency of mosquitoes trapped is more under 20. But in the year 2013 the number of mosquitoes trapped are distributed from 0-50.","6be0fd4c":"Since there are many latitude and longitude readings, rounding off lat and longitudes to 2 decimal places would give good scope for analysis.","5c5871c6":"From the below plot we can come to assume that wind speed doesn't effect the mosquitoes very much. At least 20 mosquitoes are trapped at all wind speeds.\n\nFor very high wind speed above 10.9, number of mosquitoes trapped have decreased.\n\nNote: The indexes are not in order.","14b660d9":"Creating a new catagorical column which says whether it is sprayed or not on that particular date. 1 resembles it is sprayed 0 resembles it is not sprayed","15973f79":"More number of mosquitoes were trapped in the year 2007.","09bff52d":"Heat and Temperature are two different metrics. We can notice that if the heat is more or as the heat increases number of trapped mosquitoes are less.","4ffd133b":"## Seasonality ","d1f86288":"Selecting columns which are neccessary for analysis.","1b2653c4":"Merging our original data which spray dataset. This gives a new dataframe which has all the dates from original dataset and the spray time from spray dataset","6b77b7f1":"The spraying is done since 2011 and only in july and august. Below plot shows that when the spraying the done the number of mosquitoes have decreased.","47309080":"![moggie2.png](attachment:moggie2.png)"}}