{"cell_type":{"2e4e0998":"code","21726a41":"code","2d37a666":"code","1a7f1847":"code","68c29fcb":"code","b695931c":"code","000b6270":"code","a2863fdb":"code","263fb1c5":"code","d5454d12":"code","6abecf7a":"code","753df56f":"code","7ffa7707":"code","8d5482d4":"code","f1560aee":"code","20482ce1":"markdown","0eff2b53":"markdown","695b5849":"markdown","6b119565":"markdown","f5e77a6d":"markdown","f5abefbf":"markdown","0b1aca09":"markdown","9a28314f":"markdown","dd5e9a91":"markdown","c7787b06":"markdown","e5c704f8":"markdown","ee26cfbc":"markdown","d7408e84":"markdown","be4f5821":"markdown","67496baa":"markdown","621dcb51":"markdown"},"source":{"2e4e0998":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","21726a41":"#read csv file and assign it to pandas Dataframe\nsurvival_df=pd.read_csv('..\/input\/haberman.csv')","2d37a666":"survival_df.head()","1a7f1847":"#Have a look at total rows in data along with datatype of features and number of non-null\/null points in each coloumn.\nsurvival_df.info()","68c29fcb":"#Find number of rows and coloumns.\nsurvival_df.shape","b695931c":"#FInd name of all features\nsurvival_df.columns","000b6270":"#High level statistics of given data\nsurvival_df.describe()","a2863fdb":"sur = survival_df.loc[survival_df.status==1]  #dataframe of patients who survived\nsur_no = survival_df.loc[survival_df.status==2]#dataframe of patients who do not survived after five years.\nprint(sur.describe())\nprint(sur_no.describe())","263fb1c5":"#Check if given data is balanced or imbalanced.\nax=sns.countplot(survival_df.status)\ntotal=float(len(survival_df))\nfor p in ax.patches:\n    height=p.get_height()\n    ax.text(p.get_x()+p.get_width()\/2.,\n            height - 50,\n            'count:'+'{:1}'.format(height)+'\\npercentage:{:1.1f}'.format((height*100)\/total),\n            ha=\"center\")\n#survival_df.status.value_counts(normalize=True)","d5454d12":"sns.set_style('whitegrid')\n#df = survival_df[['age','year','nodes']]\nsns.pairplot(survival_df,hue='status')","6abecf7a":"#fig,axes = plt.subplots(figsize=(18,4),nrows=1,ncols=3)\n#plt.tight_layout()\n#sns.distplot(survival_df.age,ax=axes[0])\n#How to plot 3 distplot on same row using Facetgrid?(Doubt)\nsns.set_style('whitegrid')\ng0 = sns.FacetGrid(survival_df,hue='status',size=4).map(sns.distplot,'age',).add_legend()\ng1 = sns.FacetGrid(survival_df,hue='status',size=4).map(sns.distplot,'year').add_legend()\ng2 = sns.FacetGrid(survival_df,hue='status',size=4).map(sns.distplot,'nodes').add_legend()\nplt.show()","753df56f":"survival_df.loc[(survival_df.nodes>=0) & (survival_df.nodes<=4)].status.value_counts(normalize=True)","7ffa7707":"plt.figure(figsize=(20,5))\nlabel = [\"pdf of survived\", \"cdf of survived\", \"pdf of not survived\", \"cdf of not survived\"]\nfor idx,coloumn  in enumerate(list(survival_df.columns[:-1])):\n    plt.subplot(1,3,idx+1)\n    counts,bin_edges = np.histogram(sur[coloumn],bins=10,density=True)\n    pdf=counts\/sum(counts)\n    cdf=np.cumsum(pdf)\n    plt.plot(bin_edges[1:],pdf)\n    plt.plot(bin_edges[1:],cdf)\n    counts,bin_edges = np.histogram(sur_no[coloumn],bins=10,density=True)\n    pdf=counts\/sum(counts)\n    cdf=np.cumsum(pdf)\n    plt.plot(bin_edges[1:],pdf)\n    plt.plot(bin_edges[1:],cdf)\n    plt.title(\"PDF & CDF of feature: \"+coloumn)\n    plt.xlabel(coloumn)\n    plt.legend(label)\n    ","8d5482d4":"fig,axes = plt.subplots(1,3,figsize=(15,5))\nfor idx,feature in enumerate(list(survival_df.columns)[:-1]):\n    sns.boxplot(x='status',y=feature,data=survival_df,ax=axes[idx],hue='status').set_title('survival status vs '+feature)\nplt.show()","f1560aee":"fig,axes = plt.subplots(1,3,figsize=(15,5))\nfor idx,feature in enumerate(list(survival_df.columns)[:-1]):\n    sns.violinplot(x='status',y=feature,data=survival_df,ax=axes[idx],hue='status').set_title('survival status vs '+feature)\n    axes[idx].legend(loc='lower center')\n#plt.legend(loc='best')    \nplt.show()","20482ce1":"# Now we will try to have insights on data using various plots.","0eff2b53":"# PDF and CDF","695b5849":"* Approximately ** 82% ** of patients having less than 5 nodes survived for more than five years after operation.","6b119565":"# Violin Plot","f5e77a6d":"### Finding Histogram and PDF of each independent variables. ### ","f5abefbf":"# Box Plot","0b1aca09":"## Conclusion\n* Haberman dataset is ** imbalanced dataset ** as dependent variable ** 'status' ** has not equal number of data points of each class (1 or 2) \n* Since there is too much overlapping in data points, it is difficult to create simple linearly seperable model to predict outcome for new patients.\n* Only number of nodes detected in patient somehow gives strong intution in dataset.\n* It is not possible to write working if\/else code to classify patient in one of two categories for this dataset","9a28314f":"## Pair Plot ##","dd5e9a91":"### Objective \n* Classify new patient survives more than five years or dies within five years of breast operation based on three features(age,year,nodes).","c7787b06":"* There are total ** 306 ** data points and four coloumns ** age **,** year **,** nodes **,** status **.\n* ** 10 years(1958 to 1969) ** of Data has age group of patients from ** 30 to 83 **.\n* ** 75% ** of patients has less than ** 5 ** nodes and ** 25% ** of patient have no nodes. ","e5c704f8":"### PDF & CDF of patients who survived ","ee26cfbc":"* ~95% of patient who survived are less than equal to the age of 70.\n* For third plot, sharp decrease(from ~83% to ~9%) in percentage of nodes detected from 0 to ~8, implies that having less number nodes in patient is very crucial for her survival.\n* Patient having more than 46 nodes has ~0.01% chance of survival. (based on pdf and cdf of nodes)\n* Patient with age more than 77 has around 0% chance of survival. (based on pdf and cdf of age)\n* Patients who has been diagonsed between 1965 to 1967 were more likely to die compare to patient who has been diagonsed before 1965 and after 1967.(based on pdf and cdf of year)","d7408e84":"* The average number of ** nodes ** for patient who survived is approximately ** 3 **.\n* The average number of ** nodes ** for patient who did not survived after five years is approximately ** 7 **.","be4f5821":" **Imbalance dataset**\n * Approximately 73% of patient survived after operation and ~26% of patients dies after operation.","67496baa":"* The chances of survival after age of ** 77 ** years is about ** ~0% **.\n* The chances of survival before age of ** 34 ** years is about 100%. \n* Chances of death is reduced after 1965 compare to previous years (1958 to 1965).\n* Here one can notice that if total nodes lies between 0 to 5 chances of survival after five years is high and as the number of nodes detected increases survival chance gradually decreases.","621dcb51":"* Younger patients with ** age group 30 to 40 ** and number of detected ** nodes between 0 to 8 ** are more likely to survive for more than 5 years of operation. (can be concluded based on ** node ** vs ** age **graph).\n* There is so much overlapping thus none of the scatter plot is lineraly seperable."}}