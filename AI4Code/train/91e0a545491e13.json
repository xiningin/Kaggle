{"cell_type":{"64b26b27":"code","406912f6":"code","af8e39b9":"code","9bdd882f":"code","f52558ce":"code","8d850283":"code","7a5dddc8":"code","7daaa5d4":"code","25509aa9":"code","b32fc315":"code","e8bb6766":"code","9bb29613":"code","cdd2310a":"code","428e9441":"code","9e8873a5":"code","a8372d91":"code","9f8568b6":"code","8c63731f":"code","a7b32092":"code","2e490248":"code","08e64331":"code","00e718b4":"code","a3419857":"code","f2c83ece":"code","bbad619b":"code","344c2632":"code","05144709":"code","0578bea5":"code","1f2e5b4a":"code","22047ffb":"code","1724305f":"code","a4504c7b":"code","885a3bcd":"code","9e83afa6":"markdown","e1c2c870":"markdown","fc319fcd":"markdown","506808ba":"markdown","83d58b3a":"markdown","6795a4a5":"markdown","af93b8c3":"markdown","badaf331":"markdown","509dd4c1":"markdown","f0587b2b":"markdown","53ad9c47":"markdown","a14226e2":"markdown","8e3b7272":"markdown","dd18cc93":"markdown","013c1e5e":"markdown","fbf0501d":"markdown","fd7b0f0f":"markdown","f245a64a":"markdown","f53eb042":"markdown","8edb399e":"markdown","affbcdd7":"markdown","0270e0fd":"markdown","739b8d06":"markdown","e7ccc9f8":"markdown","116ec951":"markdown","72fc39e3":"markdown","8b678864":"markdown","325977ed":"markdown","2dfc5935":"markdown","8649bd59":"markdown","e445f116":"markdown","a0bd8c76":"markdown","1eb90cd9":"markdown"},"source":{"64b26b27":"# Importing all the necessary packages.\n%matplotlib inline\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","406912f6":"# Loading the csv file as a pandas dataframe\ntitanic_df = pd.read_csv('..\/input\/train.csv')","af8e39b9":"# Studying the Titanic data set\ntitanic_df.head()","9bdd882f":"# To get the idea of total number of rows and columns in the data frame.\ntitanic_df.shape","f52558ce":"# To get details such as count, maximum, minimum, mean , etc., which helps in improving the analysis.\ntitanic_df.describe()","8d850283":"titanic_df[\"Age\"]= titanic_df[\"Age\"].fillna(titanic_df[\"Age\"].median())\ntitanic_df[\"Embarked\"] = titanic_df[\"Embarked\"].fillna('S')","7a5dddc8":"sex_count = titanic_df['Sex'].value_counts()\ntotal_males_onboard = sex_count['male']\ntotal_females_onboard = sex_count['female']\nPassengers_onboard = titanic_df.groupby('Sex').count()['PassengerId']\n\nprint(\"Total number of males onboard the Titanic : {}.\".format(total_males_onboard))\nprint(\"Total number of females onboard the Titanic : {}.\".format(total_females_onboard))","7daaa5d4":"# To count the number of males and females who survived\n\nsurvived_sex = titanic_df.groupby('Sex').sum()['Survived']\nsurvived_males = survived_sex['male']\nsurvived_females = survived_sex['female']\n\nprint(\"Number of males survived : {}.\".format(survived_males))\nprint(\"Number of females survived : {}.\".format(survived_females))","25509aa9":"print(\"Proportion of people suvived : \",(survived_males + survived_females)\/(total_males_onboard + total_females_onboard))\nprint(\"Proportion of males survived : \", survived_males\/total_males_onboard)\nprint(\"Proportion of females survived : \",survived_females\/total_females_onboard)","b32fc315":"survived_passengers_sex = pd.concat([Passengers_onboard,survived_sex],axis='columns')\nsurvived_passengers_sex.columns.values[0] = 'Passengers onboard'\nsurvived_passengers_sex.columns.values[1] = 'Survived passengers'\nsurvived_passengers_sex","e8bb6766":"survived_passengers_sex.plot(kind='bar')\nplt.xlabel('People classified based on sex')\nplt.ylabel('Total number')\nplt.title('Compare the survival of passengers based on their sex')","9bb29613":"# Creating an additional column in the data frame\n# Creating a list to store data\nadult_child = []\n\nfor i in range(len(titanic_df['Sex'])):\n    if titanic_df['Sex'].iloc[i] == 'male':\n        if titanic_df['Age'].iloc[i] > 18:\n            adult_child.append(\"Male_adult\")\n        else:\n            adult_child.append(\"Male_child\")\n            \n    else:\n        if titanic_df['Age'].iloc[i] > 18:\n            adult_child.append(\"Female_adult\")\n        else:\n            adult_child.append(\"Female_child\")\n\ntitanic_df['adult_child'] = adult_child  # Additional column added to the dataframe","cdd2310a":"# The modified dataframe\ntitanic_df.head()","428e9441":"adult_and_children_onboard = titanic_df['adult_child'].value_counts()\nadult_and_children_onboard","9e8873a5":"print(\"Total number of male adults on the Titanic : {}.\".format(adult_and_children_onboard['Male_adult']))\nprint(\"Total number of male children on the Titanic : {}.\".format(adult_and_children_onboard['Male_child']))\nprint(\"Total number of females adults on the Titanic : {}.\".format(adult_and_children_onboard['Female_adult']))\nprint(\"Total number of females children on the Titanic : {}.\".format(adult_and_children_onboard['Female_child']))","a8372d91":"a = titanic_df['adult_child']\nb = titanic_df['Survived']\nSurvivors = a[b==1]  # Finding the survived people with help of indexing feature in pandas series\nprint('Clssifying Survivors based on their age and sex')\nsurvived_people = Survivors.value_counts()\nsurvived_people","9f8568b6":"survivors_people_df = pd.concat([adult_and_children_onboard, survived_people], axis=1)\nsurvivors_people_df.columns.values[0] = 'Boarded the Titanic'\nsurvivors_people_df.columns.values[1] = 'Survived'\nsurvivors_people_df","8c63731f":"# Finding ot the proportion of people (based on the above classifcation) who survived\nclassification_proportion = survived_people\/adult_and_children_onboard\nprint('Proportion of the people who survived')\nclassification_proportion","a7b32092":"survivors_people_df.plot(kind='bar')\nplt.xlabel('People classified based on age and sex')\nplt.ylabel('Total number')\nplt.title('To compare the total people and survivors')","2e490248":"# Here I have used the Survived column in the dataframe as the index array to obtain only the sex and age details of each person.\nSurvivors_age = titanic_df['Age'][titanic_df['Survived']==1]\nSurvivors_sex = titanic_df['Sex'][titanic_df['Survived']==1]","08e64331":"sns.set(style=\"whitegrid\")\nsns.swarmplot(x=Survivors_sex, y=Survivors_age)\nplt.title('Age of each sex which survived the most')","00e718b4":"passengers_from_port = titanic_df.groupby('Embarked').count()['PassengerId']\nSurvivors_each_port = titanic_df.groupby('Embarked').sum()['Survived']\ncompare_port_survivors = pd.concat([passengers_from_port, Survivors_each_port], axis=1)\ncompare_port_survivors.columns.values[0] = 'Total_people'   # Rename the 1st column\ncompare_port_survivors ","a3419857":"print(\"Number of passengers onboard from Cherbourg : \",passengers_from_port['C'])\nprint(\"Number of survivors from Cherbourg : \",Survivors_each_port['C'])\nprint('\\n')\nprint(\"Number of passengers onboard from Queenstown : \",passengers_from_port['Q'])\nprint(\"Number of survivors from Queenstown : \",Survivors_each_port['Q'])\nprint('\\n')\nprint(\"Number of passengers onboard from Southampton : \",passengers_from_port['S'])\nprint(\"Number of survivors from Southampton : \",Survivors_each_port['S'])","f2c83ece":"Proportion_of_survivors_each_port = Survivors_each_port\/passengers_from_port\nprint('Proportion of people survived from port Cherbourg : ',Proportion_of_survivors_each_port['C'] )\nprint('Proportion of people survived from port Queenstown : ',Proportion_of_survivors_each_port['Q'] )\nprint('Proportion of people survived from port Southampton : ',Proportion_of_survivors_each_port['S'] )","bbad619b":"compare_port_survivors.plot(kind='bar')\nplt.xlabel('Ports of Embarkation')\nplt.ylabel('Total number')\nplt.title('To compare the total people boarded and survivors from each port')","344c2632":"Passengers_onboard_perclass = titanic_df['Pclass'].value_counts()\nPassengers_survived_perclass = titanic_df.groupby('Pclass').sum()['Survived']\ncompare_survivors_pclass = pd.concat([Passengers_onboard_perclass, Passengers_survived_perclass], axis=1)\ncompare_survivors_pclass.columns.values[0] = 'Total_people'   # Rename the 1st column\ncompare_survivors_pclass","05144709":"Proportion_of_people_survived_perclass = Passengers_survived_perclass\/Passengers_onboard_perclass\nprint('Proportion of people surviving from Class 1 : ',Proportion_of_people_survived_perclass[1])\nprint('Proportion of people surviving from Class 2 : ',Proportion_of_people_survived_perclass[2])\nprint('Proportion of people surviving from Class 3 : ',Proportion_of_people_survived_perclass[3])","0578bea5":"compare_survivors_pclass.plot(kind='bar')\nplt.xlabel('Passenger Class')\nplt.ylabel('Total number')\nplt.ylabel('Total number')\nplt.title('To compare the total people boarded and survivors from each passenger class')","1f2e5b4a":"titanic_df['Fare'].hist(bins=[0,50,100,200,300,550])\nplt.xlabel('Passenger Fares for Titanic')\nplt.ylabel('Total number')\nplt.title('Histogram of pasenger fares on Titanic')","22047ffb":"t = []\nfor i in range(len(titanic_df)):\n    if titanic_df['Survived'].iloc[i]:\n            t.append(titanic_df['Fare'].iloc[i])\nsurvivors_only_fares = pd.Series(t)\nsurvivors_only_fares.hist()\nplt.xlabel('Passenger Fares for Titanic')\nplt.ylabel('Total number')\nplt.title('Histogram of pasenger fares on Titanic')","1724305f":"Total_children_onboard = adult_and_children_onboard['Male_child'] + adult_and_children_onboard['Female_child']\nTotal_survived_children = survived_people['Male_child'] + survived_people['Female_child']\nchildren_with_parents = 0\nchildren_without_parents = 0\nTotal_survived_children_with_parents = 0\nTotal_survived_children_without_parents = 0\nfor i in range(len(titanic_df)):\n    if titanic_df['adult_child'].iloc[i] == 'Female_child' or titanic_df['adult_child'].iloc[i] == 'Male_child':\n        if titanic_df['Parch'].iloc[i]!=0:\n            children_with_parents += 1\n            if titanic_df['Survived'].iloc[i]==1:\n                Total_survived_children_with_parents += 1\n        else:\n            children_without_parents += 1\n            if titanic_df['Survived'].iloc[i]==1:\n                Total_survived_children_without_parents += 1\n                \n\n        \nprint('Total Children onboard : ',Total_children_onboard)\nprint('Total survived children : ',Total_survived_children)\nprint('\\n')\nprint('Children with parents onboard : ',children_with_parents)\nprint('Survived children who had parents onboard : ',Total_survived_children_with_parents)\nprint('\\n')\nprint('Children without parents onboard : ',children_without_parents)\nprint('Survived children without parents onboard : ',Total_survived_children_without_parents)    \n","a4504c7b":"print('Proportion of children survived who had parents onboard : ',Total_survived_children_with_parents\/children_with_parents)\nprint('Proportion of children survived without parents onboard : ',\n      Total_survived_children_without_parents\/children_without_parents)","885a3bcd":"people_with_sibsp = 0\nsurvived_sibsp = 0\nsurvived_without_sibsp = 0\nfor i in range(len(titanic_df)):\n    if titanic_df['SibSp'].iloc[i]:\n        people_with_sibsp += 1\n        if titanic_df['Survived'].iloc[i]:\n            survived_sibsp += 1\n    else:\n        if titanic_df['Survived'].iloc[i]:\n            survived_without_sibsp += 1\n            \n            \n            \npeople_without_sibsp = titanic_df['PassengerId'].count() - people_with_sibsp\nprint(\"Total people with siblings\/spouse onboard : \",people_with_sibsp)\nprint(\"Survived people with siblings\/spouse onboard : \",survived_sibsp)\nprint('\\n')\nprint(\"Total people without any siblings\/spouse onboard : \",people_without_sibsp)\nprint(\"Survived people without siblings\/spouse onboard : \",survived_without_sibsp)\nprint('\\n')\n\nprint(\"Proportion of survived people having siblings\/spouse on board : \", survived_sibsp\/people_with_sibsp)\nprint(\"Proportion of survived people without siblings\/spouse on board : \", survived_without_sibsp\/people_without_sibsp)\n\n","9e83afa6":"From the above bar graph, we see that the number of passengers boarded from Southampton was higher than that boarded from Cherbourg and Queenstown. Also the number of survivors from Southampton was higher than that from Queenstown and Cherbourg.","e1c2c870":"Taking count of the four categories of passengers based on the classification i have made.","fc319fcd":"# Data set used : Titanic data","506808ba":"# Check the number of survivors with respect to the Passenger Fare they paid","83d58b3a":"The above analysis, was aimed at finding out the chances of survival of those people who had their siblings\/spouses onboard with them on titanic. So 132 out of 283 people having siblins\/spouses onboard survived. And 210 out of 608 people having no siblins\/spouses onboard survived.\n\nFrom the analysis, i conclude that the chances of survival would have been slightly better for people who had their siblings onboard with them on the Titanic as compared to those who didn't had.","6795a4a5":"# Checking chances of survival of male and female passengers on the ship","af93b8c3":"But from the above analysis, we cant find people of what age survived the most.\n\nTo find that with the help of swarm plot we try to find which age of people survived the most.","badaf331":"From the bar graph, it can be inferred that more number of passengers travelled from the 3rd class as compared to that travelled from 1st class and 2nd class. But the number of survivors from the 1st class was more than that survived in 2nd class and 3rd class. ","509dd4c1":"# Classifying the male and female passengers, as adult or child based on their age and finding out their chances of survival.","f0587b2b":"From the above swarmplot, we see for each sex which age group survived the most. Age groups between 20 and 30 for both male and female were majority of the survivors and number of survivors in that group for females was very much larger than that for males. In the rest of the ages, the number of female survivors dominate that of the male survivors. Also, only one elderly man of age 80 had survived the tragedy. The rest of the age group of people were between 0 and 65 for both sexes.","53ad9c47":"# Some questions based on the above data set\n\n1. Which sex had the better chance of survival?\n2. Classify the male and female passengers, as adult or child based on their age and find out their chances of survival?\n3. Determine the number and proportion of survivors from each port of embarkation.\n4. Find the number and proportion of passengers surviving based on the passenger class?\n5. Compare the survival rate of passengers with respect to the fare they have paid.\n6. Compare the survival rate of children who had parents on board as compared to those who didn't had theirs.\n7.  Compare the survival rate of people who had siblings on board as compared to those who didn't had theirs.","a14226e2":"# Passengers surviving from each class\nHere i will compare the total number of passengers in each of the three classes of Titanic and compare their number of survivors. ","8e3b7272":"Here i am going to check the survival of passengers based on the fares they have given.\n\nThe graph below shows the fare range of passengers who boarded on the titanic. I have based the bin range with the help of df.describe() function above which shows the maximum and minimum range of the fares paid.","dd18cc93":"The objective of this project is to find out which factors could have helped in improving the survival chances of the passengers on board. Here , i have tried to find out the survival chances of passengers with respect to the given factors such as sex, Passenger class, port of embarkation, siblings, spouses or parents they had with them during the journey.","013c1e5e":"So from the above analysis we learn that there were 577 male passenegers onboard and 314 female passengers onboard the Titanic. But after the tragedy, only 109 out of the 577 male passengers survived and 233 out of the 314 female passengers had survived. \nSo, the chances of survival of female passengers was 74.2% as compared to that of 19% of the male passengers.\n\nHence, it can be concluded that the chances of survival of female passenegers on the ship were better as compared to that of the male passengers.\n\nAs a further improvement to this analysis, we can check which age group of male and female passengers had more chances of survival.","fbf0501d":"From the above analysis, we see that 136 of 216 passengers from class 1 survived, 87 of the 184 class 2 passengers survived and class 3 had 119 survivors out of the 491 onboarded passengers.  Using proportionality we observe that the passengers belonging to class 1 followed by class 2, had better chances of survival as compared to that of class 3 passengers. ","fd7b0f0f":"Here i have tried to compare the survival chances of people who had their siblings\/spouses on their boards with those who didn't had theirs.","f245a64a":"The above graph shows that the majority of passengers have paid the passenger fares in the range of 1-50. And very few of them have paid in the range of 300 to 500.","f53eb042":"From the above anlysis, i found out that out of the 139 children onboard only 70 had survived. Of these 50 (out of 89) of the survivng children had parents onboard with them and  20 out of 50 chidren who did not have parents onboard with them on titanic survived.\ni have concluded that the children who had parents onboard with them had a slightly better chance of survival as compared to those who didn't had theirs.","8edb399e":"From the above bar graph, we can see that the number of male passengers onboard the titanic was more than the number of female passengers onboard. But after the tragedy the number of female survivors were more than the number of male survivors i.e., large number of male passengers had lost their lives as compared to that of the female passengers. Hence helping in the presumption that considerable efforts had been put by the male passengers to save the lives of female passengers over theirs.","affbcdd7":"From the above anlysis, we see that 219 of the 646 passengers from Sothampton survived, 30 out of the 77 passengers from Queenstown survived and 93 out of the 168 passengers from Cherbourg survived.\n\nFrom the proportionality analysis, we conclude that more proportion of the passengers from the port Cherbourg have been saved as compared to the rest of the three ports. And the port of Southampton have faced the maximum casulaty even though it has the maximum survivors.","0270e0fd":"# Based on port of embarkation: To determine the survivors from each port","739b8d06":"# Data wrangling : Cleaning the data for analysis","e7ccc9f8":"# Survival chances of people who had siblings\/spouses onboard","116ec951":"# Explaining the dataset\nThe above dataset consists of a list of 891 passengers who were onboard on the Titanic. The above dataset consists of 891 rows and 12 columns. The 12 columns gives the following details about the passengers - \n\nPassenger Id\n\nSurvived - This column gives information whether the concerned passenger had survived the tragedy or not.\n\n           1 ---> The passenger survived\n           0 ---> The passenger did not survive\n\npclass - Passenger Ticket class : Class 1, 2 and 3.\n\nName   - Name of the passenger\n\nsex    - Sex of the Passenger\n\nAge\t   - Age in years of the Passenger\n\nsibsp   - Number of siblings \/ spouses aboard the Titanic\n\nparch\t- Number of parents \/ children aboard the Titanic\n\nTicket\t- Ticket number\n\nFare\t- Passenger fare\n\nCabin\t- Cabin number\n\nEmbarked -\tPort of Embarkation shows the port from which the passenger boarded the titanic\n\n           C - Cherbourg\n           Q - Queenstown\n           S - Southampton","72fc39e3":"# Children Survived who had parents aboard the titanic \nHere for analysis age group <=18 has been considered as children. \nFor this analysis, i have tried to compare the survival of those children who had parents onboard on the Titanic with them as compared to those who didn't had theirs.","8b678864":"The above bar graph shows the total count of the people concerned who were classified based on their sex and age. From the graph it can be inferred that the number of female adults and children who survived the titanic was more as compared to the number of male adults and male children who survived.\n\n","325977ed":"So from the above graph, we can conclude that the passengers who had paid the lesser fares had to face more casuality as compared to those who had paid more. Approxiately, 500 of the passengers who had paid lesser passenger fare had died as compared to those who had paid more. The casuality in the higher passenger fare rates is less.  ","2dfc5935":"Taking count of the survivors on the Titanic based on the classification.","8649bd59":"As observed from the output of describe function, we see that some of the rows under the age column has no values. So to improve the analysis i have used the df.fillna() function to fill these empty values with the median of the given age values. \n\nAlso the data, for the column under the port of embarkation has some missing values. As the number of passengers from the Southampton port is fairly large in number so here for the analysis i have assumed these passengers port of embarkation as 'S' (Sothampton). ","e445f116":"In the above analysis, its found that 506 male adult and 71 boys boarded the titanic out of which only 85 male adults and 24 boys survived. Also, 246 female adults and 68 girls boarded the titanic out of which 187 female adult and 46 girls survived. Also the proportion of the population based on the above classification has also been calculated and it is found that for female adults chances of survival was 76% as compared to 16.7% of the male adults. And for girls on the Titanic chances of survival was 67.6% and for boys it was 33.8%. So in both cases chances of survival was better for the female adults and children.","a0bd8c76":"# References made:\n\nUdacity Forum\n\nhttps:\/\/www.kaggle.com\/c\/titanic\/discussion\/28323\n\nhttps:\/\/preinventedwheel.com\/easy-matplotlib-bar-chart\/\n\nhttps:\/\/matplotlib.org\/users\/pyplot_tutorial.html#working-with-multiple-figures-and-axes\n\nhttps:\/\/stackoverflow.com\/questions\/18083187\/combining-two-series-in-pandas-along-their-index\n\nhttps:\/\/pandas.pydata.org\/pandas-docs\/stable\/generated\/pandas.Series.append.html\n\nhttps:\/\/discuss.analyticsvidhya.com\/t\/how-to-change-the-name-of-specific-column-in-pandas-dataframe\/1127\/2\n\nhttps:\/\/seaborn.pydata.org\/examples\/scatterplot_categorical.html?highlight=scatterplot","1eb90cd9":"Here i have classified passengers on the ship based on both their sex and age. I have classifed the passengers both male and female as child if their corresponding age is less than or equal to 18, and have classified them as adults if their corresponding age is greater than 18.\n"}}