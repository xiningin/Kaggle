{"cell_type":{"6a5e479a":"code","210ae2b5":"code","a1ab2f94":"code","7df9e7f0":"code","b3499626":"code","31d2d1c6":"code","0b6e2950":"code","4b110a52":"code","4dddd067":"code","3e3068fb":"code","5aefdd0e":"code","80775b0c":"code","e7af7322":"code","d08a6dde":"code","76cfe13a":"code","80fef64b":"code","bc062e54":"code","d65eeded":"code","fb3609fc":"code","c26e71df":"code","180c30d4":"code","1de3b574":"code","03a02a36":"code","7a5b3995":"code","4a078c95":"code","536f139f":"code","e804e319":"code","19e3acaa":"code","81f44d42":"code","ce5499e7":"code","342765ff":"code","0a48fb78":"code","92c722bc":"code","deb62f2d":"code","872964e9":"code","44affbfd":"code","cbfe1076":"code","7ebf2b15":"code","8aa229f0":"code","88e75a20":"code","0d832911":"code","40499434":"code","349d2581":"code","3a0e8f76":"code","e7d620ff":"code","c9b6e308":"markdown","2099e541":"markdown","e0e9d4ab":"markdown","3afd8a4f":"markdown","b34a12a8":"markdown","607500c4":"markdown","66dafd97":"markdown","6274c5b2":"markdown","8e41517c":"markdown","58ece022":"markdown","db6f0757":"markdown","5008c62c":"markdown","a928ff66":"markdown","687f99ae":"markdown","aaf4dde2":"markdown","053d0ec5":"markdown","e9984dce":"markdown","28a56b79":"markdown","a405e654":"markdown","6bafcb9a":"markdown","8b953c1a":"markdown","ea614bc0":"markdown","7a3ce971":"markdown","f60eb016":"markdown","d313e07b":"markdown","18dafd95":"markdown","596faf00":"markdown","98a20f30":"markdown","91b02c49":"markdown"},"source":{"6a5e479a":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport datetime as dt\nimport matplotlib.dates as mdates\nimport numpy as np","210ae2b5":"air = pd.read_csv('..\/input\/india-air-quality-data\/data.csv',encoding='cp1252', low_memory=False)\nair.sample(n=5)","a1ab2f94":"air.shape","7df9e7f0":"air.info()","b3499626":"air.describe()","31d2d1c6":"sns.heatmap(air.isnull(),cbar=False,yticklabels=False,cmap = 'GnBu_r')","0b6e2950":"c = ['so2','no2','rspm','spm','pm2_5']\nplt.figure(figsize=(10,5))\nfor i in range(0,len(c)):\n    plt.subplot(5,1,i+1)\n    sns.boxplot(air[c[i]],color='green',fliersize=5,orient='h')\n    plt.tight_layout()\n","4b110a52":"plt.figure(figsize=(6,5))\nfor i in range(0,len(c)):\n    plt.subplot(5,1,i+1)\n    sns.distplot(air[c[i]],kde=True)\n    plt.tight_layout()\n    ","4dddd067":"# sns.pairplot(air)","3e3068fb":"sns.heatmap(air.corr(),annot=True,cmap= 'Blues')","5aefdd0e":"air['date'] = pd.to_datetime(air.date,format='%Y-%m-%d')\nair.info()","80775b0c":"air.drop(labels=['stn_code','sampling_date','pm2_5'],axis=1,inplace=True)","e7af7322":"air.sample(n=2)","d08a6dde":"air['date'].isna().sum()","76cfe13a":"air['date'].fillna(method='ffill',inplace=True)","80fef64b":"air.shape","bc062e54":"air['date'].isnull().sum()","d65eeded":"air['year'] = air['date'].dt.year","fb3609fc":"air.sample(2)","c26e71df":"air['type'].value_counts().plot(kind='bar')","180c30d4":"air['type'].replace(\"Sensitive Areas\",\"Sensitive\",inplace=True)\nair['type'].replace(\"Sensitive Area\",\"Sensitive\",inplace=True)\nair['type'].replace(\"Industrial Areas\",\"Industrial\",inplace=True)\nair['type'].replace(\"Industrial Area\",\"Industrial\",inplace=True)\nair['type'].replace(\"Residential and others\",\"Residential\",inplace=True)\nair['type'].replace(\"RIRUO\",\"Residential\",inplace=True)","1de3b574":"air['type'].value_counts().plot(kind='bar')","03a02a36":"st_wise = air.pivot_table(values=['so2','no2','rspm','spm'],index='state').fillna(0)","7a5b3995":"maxso2 = st_wise.sort_values(by='so2',ascending=False)\nmaxso2.loc[:,['so2']].head(10).plot(kind='bar')","4a078c95":"maxno2 = st_wise.sort_values(by='no2',ascending=False)\nmaxno2.loc[:,['no2']].head(10).plot(kind='bar')","536f139f":"maxrspm = st_wise.sort_values(by='rspm',ascending=False)\nmaxrspm.loc[:,['rspm']].head(10).plot(kind='bar')","e804e319":"maxspm = st_wise.sort_values(by='spm',ascending=False)\nmaxspm.loc[:,['spm']].head(10).plot(kind='bar')","19e3acaa":"kar_st = air.query('state==\"Karnataka\" ')","81f44d42":"kar_st.head()","ce5499e7":"kar_st.type.value_counts().plot(kind='bar')","342765ff":"kar_st['spm'].mean()","0a48fb78":"kar_st['so2'].fillna(method='ffill',inplace=True)\nkar_st['no2'].fillna(method='ffill',inplace=True)\nkar_st['rspm'].fillna(method='ffill',inplace=True)\nkar_st['spm'].fillna(168,inplace=True)","92c722bc":"plt.figure(figsize=(18,6))\nplt.xticks(np.arange(1987,2015))\nmysore = kar_st.loc[ (kar_st['location']=='Mysore')]\nsns.lineplot(x='year',y='so2',data=mysore)\nsns.lineplot(x='year',y='no2',data=mysore)\nplt.legend(['so2','no2'])","deb62f2d":"plt.figure(figsize=(18,6))\nplt.xticks(np.arange(1987,2015))\nmangalore = kar_st.loc[ (kar_st['location']=='Mangalore')]\nsns.lineplot(x='year',y='so2',data=mangalore)\nsns.lineplot(x='year',y='no2',data=mangalore)\nplt.legend(['so2','no2'])","872964e9":"kar_st.tail()","44affbfd":"air.agency.value_counts()","cbfe1076":"agent = air.loc[ (air['agency']==\"Maharashtra State Pollution Control Board\") ]","7ebf2b15":"agent.type.value_counts().plot(kind='bar')","8aa229f0":"agent.year.value_counts().plot(kind='bar')","88e75a20":"agent.location.value_counts().plot(kind='bar')","0d832911":"mah_loc = agent.loc[ (agent['location']=='Chandrapur') | (agent['location']=='Navi Mumbai') ] \nmah_loc.head()","40499434":"mah_loc.so2.fillna(method='ffill',inplace=True)","349d2581":"mah_loc.groupby('location')['type'].value_counts().plot(kind='bar')","3a0e8f76":"sns.barplot(x='type',y='so2',data=mah_loc)","e7d620ff":"sns.barplot(x='type',y='no2',data=mah_loc)","c9b6e308":"### Summary Statistics","2099e541":"The above graph for a particular location ie Mysore, we can see that the level of So2 and No2 was high during the 90's untill 20's and gradually\nin a study state from 2013","e0e9d4ab":"Maharashtra State Pollution Control Board have maximum number of survey being conducted","3afd8a4f":"All the features are positively skewed ","b34a12a8":"### Data Insight","607500c4":"Survey done by Agency","66dafd97":"### Check for outliers","6274c5b2":"### Cleaning the data","8e41517c":"The contribution of industrial's are consideriably more for the pollution for Karnataka state","58ece022":"### Data Visualization","db6f0757":"The agency have started the survey in the 90's and can be seen that survey count have increased starting from 2010","5008c62c":"All the feature columns have outliers","a928ff66":"### Loading Data","687f99ae":"Higest number of survey is been conducted in Chandrapur and Navi Mumbai location","aaf4dde2":"The column 'pm2_5' has considerably large Null\/NAN values.\n\nThe 'sampling_date' can be dropped of since it's a duplicate of 'date' ","053d0ec5":"\"Residential, Rural and other Areas\" are the majour contribution for pollution in Maharastra state or we can also incure that the agency would have conducted lot of survey in these areas ","e9984dce":"For all the numeric columns the difference in Mean and Median(50th percentile) is less, \napart from rspm and spm which has more difference we can incur that the data will not be \nsymmetrical and will be skewed to the right.\n\nThe difference between the 75th percentile and max value shows that the data will have high outliers\n","28a56b79":"The above graph for a particular location ie Mangalore, we can see that the level of So2 and No2 have a sudden dip in 2006 and then have maintained the level.. ","a405e654":"The column 'st_code' & 'date' is a object since it has values in string format\n\nFew of the columns has null\/missing values\n","6bafcb9a":"Drilling down to a particular state and then a particular location","8b953c1a":"1. encoding='cp1252'- Encoding type.\n2. low_memory=False - Since the datatype in column 'stn_code' has mixed data type","ea614bc0":"### Top 10 states with higest pollutent ","7a3ce971":"###### Dropping the columns","f60eb016":"Merging the type's value, by replacing the values and reducing it to 4 types","d313e07b":"The darker shades shows positive correlation while lighter shades represents negative\/no correlation\n\npm2_5 have negative\/no correlation with spm\n\npm2_5 has very low or no correlation with so2, hence the column pm2_5 can be dropped \n\nrspm and spm have a positivie correlation","18dafd95":"The higest number of survey is been conducted in \"Residential, Rural and other Areas\" for both the location, but from  the below graph \"Industrial\" are the majour contributor for 'So2' and \"Residential, Rural and other Areas\" are the contributor's for 'No2'","596faf00":"Fill the NaT values in date column by forward fill and seperate year from the date","98a20f30":"# ___Analysis_________________","91b02c49":"The dataset comprises of 435742 observations and 13 chracteriestics, of which all are independent variables.\n\nThe column 'date' is a cleaned version of the 'sampling_date' and the same can be dropped."}}