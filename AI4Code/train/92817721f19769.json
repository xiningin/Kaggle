{"cell_type":{"5c580b1e":"code","4febb134":"code","5a44be8d":"code","3bf12fc1":"code","2923650b":"code","524943ed":"code","af03f71c":"code","90239193":"code","cfdcd1da":"code","008ebd17":"code","e6ee6979":"code","80e8f29e":"code","75883842":"code","3cfce7ba":"code","36c773cf":"code","bbfd1365":"code","3c635bed":"markdown","c25d37a4":"markdown","3f8f322c":"markdown","f0f5b00d":"markdown","5ca6c91a":"markdown","272a955a":"markdown","53b582e1":"markdown","7deb93a8":"markdown","8351897a":"markdown","bc78fac8":"markdown","acd21a28":"markdown","15acde62":"markdown","9412a767":"markdown","f7123d55":"markdown"},"source":{"5c580b1e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.\n\nimport warnings\nwarnings.simplefilter('ignore')\nwarnings.filterwarnings('ignore')\n\nimport seaborn as sns\nimport matplotlib as p\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport plotly.graph_objs as gobj\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot\ninit_notebook_mode(connected=True)\n\nimport plotly.express as px       \nimport plotly.offline as py       \nimport plotly.graph_objects as go \nfrom plotly.subplots import make_subplots","4febb134":"pd.set_option('display.max_columns', 200)\ndf = pd.read_csv('\/kaggle\/input\/uncover\/UNCOVER\/einstein\/diagnosis-of-covid-19-and-its-clinical-spectrum.csv')\ndf.head()","5a44be8d":"df.describe()","3bf12fc1":"df_hospitalized = df[(df['patient_addmited_to_regular_ward_1_yes_0_no']=='t')|\n                     (df['patient_addmited_to_semi_intensive_unit_1_yes_0_no']=='t')|\n                     (df['patient_addmited_to_intensive_care_unit_1_yes_0_no']=='t')].reset_index(drop=True)\ndf_hospitalized","2923650b":"df_not_hospitalized = df[(df['patient_addmited_to_regular_ward_1_yes_0_no']=='f')&\n                         (df['patient_addmited_to_semi_intensive_unit_1_yes_0_no']=='f')&\n                         (df['patient_addmited_to_intensive_care_unit_1_yes_0_no']=='f')].reset_index(drop=True)\ndf_not_hospitalized","524943ed":"ward = df_hospitalized[df_hospitalized['patient_addmited_to_regular_ward_1_yes_0_no']=='t'].groupby(\n    ['patient_age_quantile', 'patient_addmited_to_regular_ward_1_yes_0_no'])['patient_addmited_to_regular_ward_1_yes_0_no'].count().to_frame(name = 'count')\nward = ward.sort_values('patient_age_quantile').reset_index()\nward = ward.drop(['patient_addmited_to_regular_ward_1_yes_0_no'], axis=1)\nward","af03f71c":"siu = df_hospitalized[df_hospitalized['patient_addmited_to_semi_intensive_unit_1_yes_0_no']=='t'].groupby(\n    ['patient_age_quantile', 'patient_addmited_to_semi_intensive_unit_1_yes_0_no'])['patient_addmited_to_semi_intensive_unit_1_yes_0_no'].count().to_frame(name = 'count')\nsiu = siu.sort_values('patient_age_quantile').reset_index()\nsiu = siu.drop(['patient_addmited_to_semi_intensive_unit_1_yes_0_no'], axis=1)\nsiu","90239193":"icu = df_hospitalized[df_hospitalized['patient_addmited_to_intensive_care_unit_1_yes_0_no']=='t'].groupby(\n    ['patient_age_quantile', 'patient_addmited_to_intensive_care_unit_1_yes_0_no'])['patient_addmited_to_intensive_care_unit_1_yes_0_no'].count().to_frame(name = 'count')\nicu = icu.sort_values('patient_age_quantile').reset_index()\nicu = icu.drop(['patient_addmited_to_intensive_care_unit_1_yes_0_no'], axis=1)\nicu","cfdcd1da":"fig = go.Figure()\nfig = make_subplots(specs=[[{\"secondary_y\": True}]])\nfig.add_trace(go.Bar(x=ward['patient_age_quantile'], y=ward['count'], name='Admitted to Ward', marker_color='rgb(162, 205, 90)'))\nfig.add_trace(go.Bar(x=siu['patient_age_quantile'],y=siu['count'],name='Admitted to SIU',marker_color='rgb(255, 185, 15)'))\nfig.add_trace(go.Bar(x=icu['patient_age_quantile'], y=icu['count'], name='Admitted to ICU', marker_color='rgb(255, 64, 64)'))\n\nfig.update_layout(title='Analysis of Hospitalized Patients (-ve & +ve)',xaxis_tickfont_size=14,\n                  yaxis=dict(title='Count',titlefont_size=16,tickfont_size=14,),\n    legend=dict(x=0.5,y=1.0,bgcolor='rgba(255, 255, 255, 0)',bordercolor='rgba(255, 255, 255, 0)'),\n    barmode='group',bargap=0.15, bargroupgap=0.1)\n\n\nfig.update_xaxes(title_text=\"Patient Quantile\", range=[-1, 20])\n\nfig.show()","008ebd17":"df_hospitalized_positive = df_hospitalized[df_hospitalized['sars_cov_2_exam_result']=='positive']\ndf_hospitalized_positive.head()","e6ee6979":"ward_pos = df_hospitalized_positive[df_hospitalized_positive['patient_addmited_to_regular_ward_1_yes_0_no']=='t'].groupby(\n    ['patient_age_quantile', 'patient_addmited_to_regular_ward_1_yes_0_no'])['patient_addmited_to_regular_ward_1_yes_0_no'].count().to_frame(name = 'count')\nward_pos = ward_pos.sort_values('patient_age_quantile').reset_index()\nward_pos = ward_pos.drop(['patient_addmited_to_regular_ward_1_yes_0_no'], axis=1)\n\nsiu_pos = df_hospitalized_positive[df_hospitalized_positive['patient_addmited_to_semi_intensive_unit_1_yes_0_no']=='t'].groupby(\n    ['patient_age_quantile', 'patient_addmited_to_semi_intensive_unit_1_yes_0_no'])['patient_addmited_to_semi_intensive_unit_1_yes_0_no'].count().to_frame(name = 'count')\nsiu_pos = siu_pos.sort_values('patient_age_quantile').reset_index()\nsiu_pos = siu_pos.drop(['patient_addmited_to_semi_intensive_unit_1_yes_0_no'], axis=1)\n\nicu_pos = df_hospitalized_positive[df_hospitalized_positive['patient_addmited_to_intensive_care_unit_1_yes_0_no']=='t'].groupby(\n    ['patient_age_quantile', 'patient_addmited_to_intensive_care_unit_1_yes_0_no'])['patient_addmited_to_intensive_care_unit_1_yes_0_no'].count().to_frame(name = 'count')\nicu_pos = icu_pos.sort_values('patient_age_quantile').reset_index()\nicu_pos = icu_pos.drop(['patient_addmited_to_intensive_care_unit_1_yes_0_no'], axis=1)","80e8f29e":"fig = go.Figure()\nfig = make_subplots(specs=[[{\"secondary_y\": True}]])\nfig.add_trace(go.Bar(x=ward_pos['patient_age_quantile'], y=ward_pos['count'], name='Admitted to Ward', marker_color='rgb(162, 205, 90)'))\nfig.add_trace(go.Bar(x=siu_pos['patient_age_quantile'],y=siu_pos['count'],name='Admitted to SIU',marker_color='rgb(255, 185, 15)'))\nfig.add_trace(go.Bar(x=icu_pos['patient_age_quantile'], y=icu_pos['count'], name='Admitted to ICU', marker_color='rgb(255, 64, 64)'))\n\nfig.update_layout(title='Analysis of Hospitalized Patients (+ve only)',xaxis_tickfont_size=14,\n                  yaxis=dict(title='Count',titlefont_size=16,tickfont_size=14,),\n    legend=dict(x=0.5,y=1.0,bgcolor='rgba(255, 255, 255, 0)',bordercolor='rgba(255, 255, 255, 0)'),\n    barmode='group',bargap=0.15, bargroupgap=0.1)\n\n\nfig.update_xaxes(title_text=\"Patient Quantile\", range=[-1, 20])\n\nfig.show()","75883842":"icu_pos","3cfce7ba":"sns.catplot('sars_cov_2_exam_result', data= df_not_hospitalized, kind='count', alpha=0.7, height=4, aspect= 3)\n\n# Get current axis on current figure\nax = plt.gca()\n\n# Max value to be set\ny_max = df_not_hospitalized['sars_cov_2_exam_result'].value_counts().max() \n\n# Iterate through the list of axes' patches\nfor p in ax.patches:\n    ax.text(p.get_x() + p.get_width()\/5., p.get_height(),'%d' % int(p.get_height()),\n            fontsize=13, color='blue', ha='center', va='bottom')\nplt.title('Frequency plot of COVID Exam Results for Not Hospitalized Patients', fontsize = 20, color = 'black')\nplt.show()","36c773cf":"nothosp_grouped = df_not_hospitalized.groupby(['patient_age_quantile', 'sars_cov_2_exam_result'])['sars_cov_2_exam_result'].count().to_frame(name = 'count')\nnothosp_grouped = nothosp_grouped.sort_values('patient_age_quantile').reset_index()\nnothosp_grouped_neg = nothosp_grouped[nothosp_grouped['sars_cov_2_exam_result'] == 'negative'].sort_values('patient_age_quantile').reset_index()\nnothosp_grouped_pos = nothosp_grouped[nothosp_grouped['sars_cov_2_exam_result'] == 'positive'].sort_values('patient_age_quantile').reset_index()\ndisplay(nothosp_grouped_neg)\ndisplay(nothosp_grouped_pos)","bbfd1365":"fig = go.Figure()\nfig = make_subplots(specs=[[{\"secondary_y\": True}]])\nfig.add_trace(go.Bar(x=nothosp_grouped_neg['patient_age_quantile'], y=nothosp_grouped_neg['count'], name='Negative', marker_color='rgb(162, 205, 90)'))\nfig.add_trace(go.Bar(x=nothosp_grouped_pos['patient_age_quantile'],y=nothosp_grouped_pos['count'],name='Positive',marker_color='rgb(255, 185, 15)'))\n\nfig.update_layout(title='Analysis of Not Hospitalized Patients (-ve & +ve)',xaxis_tickfont_size=14,\n                  yaxis=dict(title='Count',titlefont_size=16,tickfont_size=14,),\n    legend=dict(x=0.5,y=1.0,bgcolor='rgba(255, 255, 255, 0)',bordercolor='rgba(255, 255, 255, 0)'),\n    barmode='group',bargap=0.15, bargroupgap=0.1)\n\n\nfig.update_xaxes(title_text=\"Patient Quantile\", range=[-1, 20])\n\nfig.show()","3c635bed":"## 2. Analysis of Hospitalized Patients (-ve & +ve) <a class=\"anchor\" id=\"2\"><\/a>\n\n[Back to Table of Contents](#0.1)","c25d37a4":"## 1. Libraries, Reading Files <a class=\"anchor\" id=\"1\"><\/a>\n\n[Back to Table of Contents](#0.1)","3f8f322c":"<a class=\"anchor\" id=\"0.1\"><\/a>\n## Table of Contents\n\n1. [Libraries, Reading Files](#1)\n1. [Analysis of Hospitalized Patients (-ve & +ve)](#2)\n    -  [2.1 Admitted to Regular Ward](#2.1)\n    -  [2.2 Admitted to Semi Intensive Unit](#2.2)\n    -  [2.3 Admitted to ICU](#2.3)\n1. [Plot for Hospitalized Patients (-ve & +ve)](#3)\n1. [Plot for Hospitalized Patients (+ve only)](#4)   \n1. [Analysis of Not Hospitalized Patients](#5)","f0f5b00d":"# Which populations have contracted COVID-19 who require the ICU?","5ca6c91a":"## 4. Plot for Hospitalized Patients (+ve only) <a class=\"anchor\" id=\"4\"><\/a>\n\n[Back to Table of Contents](#0.1)","272a955a":"## 3. Plot for Hospitalized Patients (-ve & +ve) <a class=\"anchor\" id=\"3\"><\/a>\n\n[Back to Table of Contents](#0.1)","53b582e1":"## 2.1 Admitted to Regular Ward <a class=\"anchor\" id=\"2.1\"><\/a>\n\n[Back to Table of Contents](#0.1)","7deb93a8":"## 2.3 Admitted to ICU <a class=\"anchor\" id=\"2.3\"><\/a>\n\n[Back to Table of Contents](#0.1)","8351897a":"* **For Hospitalized Patients whose 'sars_cov_2_exam_results' were 'positive', except for 1 instance for Patient Quantile 1, all of the ICU admissions have occurred for the higher quantiles**","bc78fac8":"### We have more instances of patients not hospitalized than patients who are hospitalized in either one of the ward\/unit","acd21a28":"* **We can see a set of positive cases for Not Hospitalized Patients as well with the higer counts from Patient Age Quantile == 4 and above**","15acde62":"* **We can see larger number of admissions for lowermost and the uppermost Patient Age Quantiles (0, 18, 19)**\n* **Maximum number of ICU admissions occuring for Patient Age Quantile = 0, followed by 19, and 2 & 18**\n* **We also do not see admissions for Patient Age Quantile = 6**","9412a767":"## 2.2 Admitted to Semi Intensive Unit <a class=\"anchor\" id=\"2.2\"><\/a>\n\n[Back to Table of Contents](#0.1)","f7123d55":"## 5. Analysis of Not Hospitalized Patients <a class=\"anchor\" id=\"5\"><\/a>\n\n[Back to Table of Contents](#0.1)"}}