{"cell_type":{"2cfc6c0f":"code","94787029":"code","8189dda6":"code","5d190915":"code","2da21bd2":"code","16bd82f7":"code","7447c02a":"code","c79c791a":"code","d30db9bd":"code","3d542844":"code","12ea0b0f":"code","8bf6c7ea":"code","de976f2f":"code","f3197fd5":"markdown","78ebf5ef":"markdown","c1790d3b":"markdown","e50322f3":"markdown","376b065b":"markdown","4356c15c":"markdown","c7baa555":"markdown","cb039503":"markdown","cfe358c8":"markdown"},"source":{"2cfc6c0f":"import os \nimport subprocess\nfrom subprocess import DEVNULL, STDOUT, check_call, Popen\nimport json","94787029":"url = 'https:\/\/ieee-dataport.s3.amazonaws.com\/open\/17534\/nrw_dataset.tar.gz?response-content-disposition=attachment%3B%20filename%3D%22nrw_dataset.tar.gz%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAJOHYI4KJCE6Q7MIQ%2F20211026%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20211026T154050Z&X-Amz-SignedHeaders=Host&X-Amz-Expires=3600&X-Amz-Signature=a7bbbf0bf15b039311c1e8b4b6cbd5e00303022836ec9cc7d8e586d0b33daf32'\ndst_path = '\/tmp\/data.tar.gz' \n","8189dda6":"process = check_call(['wget', url,'-O',dst_path ], stdout=DEVNULL, stderr=STDOUT)\n\n# Or you can simply run the following command \n# !wget 'https:\/\/ieee-dataport.s3.amazonaws.com\/open\/17534\/nrw_dataset.tar.gz?response-content-disposition=attachment%3B%20filename%3D%22nrw_dataset.tar.gz%22&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAJOHYI4KJCE6Q7MIQ%2F20211025%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20211025T221552Z&X-Amz-SignedHeaders=Host&X-Amz-Expires=3600&X-Amz-Signature=223eb17631bd4ea711de64c6e84e8ae6cb6120cfe1fb6135b1bf88f0f022050c' -O \/tmp\/data.tar.gz\n","5d190915":"subprocess.Popen(['ls' , '-hl', '\/tmp' ])\n# !ls -hl \/tmp","2da21bd2":"data_set_name = 'DataSet'\nroot_dir = '\/tmp'\ndata_set_path = os.path.join(root_dir,data_set_name)\n","16bd82f7":"os.mkdir(data_set_path)\n# !mkdir \/tmp\/DataSet","7447c02a":"subprocess.Popen(['ls' , '-hl', '\/tmp\/DataSet' ])\n# !ls -hl \/tmp\/DataSet","c79c791a":"!pip install kaggle","d30db9bd":"!mkdir -p ~\/.kaggle\n!cp ..\/input\/kagglejson\/kaggle.json ~\/.kaggle\/\n!ls ~\/.kaggle\n!chmod 600 \/root\/.kaggle\/kaggle.json","3d542844":"!kaggle datasets init -p \/tmp\/DataSet","12ea0b0f":"!cat \/tmp\/DataSet\/dataset-metadata.json","8bf6c7ea":"with open('\/tmp\/DataSet\/dataset-metadata.json', 'r+') as f:\n    data = json.load(f)\n    data['title'] = 'Geo North Rhine Westphalia' # <--- Add DataSet Title\n    data['id'] = 'javidtheimmortal\/GeoNRW' # <--- Add `ID` value.\n    f.seek(0)        # <--- should reset file position to the beginning.\n    json.dump(data, f, indent=4)\n    f.truncate()     # remove remaining part\n    \n# Let's read the file again\nwith open('\/tmp\/DataSet\/dataset-metadata.json', 'r+') as f:\n    data = json.load(f)\n    print(data)","de976f2f":"!kaggle datasets create -p \/tmp\/DataSet --dir-mode tar","f3197fd5":"- First of all we need to download our data into the current kernel. We would use the \/tmp directory for this purpose. I'm using data from [here](https:\/\/ieee-dataport.org\/open-access\/geonrw)","78ebf5ef":"Fill in the title and id part","c1790d3b":"By now we've downloaded our data into the current kernel, now it's time to make our dataset. First of all we need to install kaggle client tool","e50322f3":"That's it have fun :)","376b065b":"Now we need to fill some information about our dataset into dataset-metadata.json file. This file can be created by the following command","4356c15c":"Let's take a look at our downloaded data","c7baa555":"Then you need to upload your kaggle.json API hash and move it to \/root\/.kaggle folder","cb039503":"Hi <\/br>\nIn this notebook I'm gonna explore how to upload a 3rd party dataset into kaggle. There is an option for this task but didn't work for me for the specific data I was trying to upload into kaggle from IEEE Data Port\n","cfe358c8":"And Finally upload your data. Note that the the kaggle cli tool doesn't upload folders and will skip any folders in the given path. But there is  an option to compress your data into a tar or a zip file. The zip option may take a while but the tar files are made very quickly."}}