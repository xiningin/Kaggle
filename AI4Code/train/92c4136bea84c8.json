{"cell_type":{"ff6ccf92":"code","05320d50":"code","9161baaa":"code","a9480165":"code","bd81cdb4":"code","8a5e6b13":"code","9390a61b":"code","f2e5643c":"code","b66a81d8":"code","fc92c43a":"code","c74e2962":"code","a2dc47f9":"code","05318155":"code","785fa2e3":"markdown","a035627f":"markdown","0708cdd8":"markdown","05d1ac11":"markdown","3c08170b":"markdown"},"source":{"ff6ccf92":"from jt_mk_utils import *","05320d50":"import matplotlib.pyplot as plt\nimport numpy as np\nfrom IPython.display import HTML, Image, display","9161baaa":"plt.rc(\"figure\", figsize=(10, 5))\nplt.rc(\"font\", size=13)","a9480165":"ver = read_kernel_versions()\nver.columns","bd81cdb4":"gb = ver.groupby('ScriptId')\n\nstats = pd.concat([\n    gb.CreationDate.min().rename('Date'),\n    gb.Title.first(),\n    gb.ParentScriptVersionId.max(),\n    gb.TotalVotes.sum().rename('VoteSum'),\n    gb.VersionNumber.count().rename('VersionCount'),\n    gb.size().rename('VersionEntries')\n], axis=1)\n\nempty = stats.query('VersionCount==0')","8a5e6b13":"kernels = read_kernels(filter=('Id', empty.index)).set_index('Id')\nempty = empty.join(kernels)","9390a61b":"users = read_users(filter=('Id', empty.AuthorUserId)).set_index('Id')\nempty = empty.join(users, on='AuthorUserId', how='inner')\nempty.to_csv('EmptyNotebooks.csv')","f2e5643c":"display(HTML(\n    f'there are {len(ver)} versions of public notebooks<br\/>'\n    f'there are {ver.ScriptId.nunique()} public notebooks<br\/>'\n    f'there are {(stats.VersionCount==0).sum()} empty public notebooks<br\/>'\n))","b66a81d8":"print(' \/\/ '.join(empty.Title.sample(n=100, random_state=42)))","fc92c43a":"empty.TotalVotes.sum()","c74e2962":"empty['Url'] = \"https:\/\/www.kaggle.com\/\" + empty.UserName + \"\/\" + empty.CurrentUrlSlug\nempty['Link'] = empty.apply(lambda r: '<a href=\"{Url}\">{Title}<\/a>'.format(**r), 1)","a2dc47f9":"SHOW = ['Date', 'Link', 'DisplayName', 'TotalVotes', 'Medal', 'VersionEntries']\nMEDALS = {\n    1.: '&#129351;',\n    2.: '&#129352;',\n    3.: '&#129353;',\n}\nempty.sort_values('TotalVotes', ascending=False)[SHOW].head(200).style.format({'Medal': MEDALS.get}, na_rep='')","05318155":"empty.Date.dt.year.value_counts().sort_index().plot(title='Empty Notebooks Over Time');","785fa2e3":"# Detecting Empty Notebooks\n\nJust a quick demo to back up a bug(?) report [here](https:\/\/www.kaggle.com\/product-feedback\/266800).\n","a035627f":"# Sample Titles\n\nMany default titles like `Notebook9ca0a8389d`","0708cdd8":"# Empty Notebooks Over Time","05d1ac11":"# Conclusions\n\nTry following the links in the table - they are *mostly* empty!\n\nWell, these could be hidden from view - there is nothing to see - I do not understand why [*Hotness* sometimes ranks these *hotter* than valid work](https:\/\/www.kaggle.com\/product-feedback\/266800)?!","3c08170b":"# Votes for Empty Notebooks"}}