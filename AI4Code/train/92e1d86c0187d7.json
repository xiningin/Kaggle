{"cell_type":{"12171f97":"code","8341f340":"code","a3b716ce":"code","11ce8169":"code","83200159":"code","0a0d23d3":"code","ec680be4":"code","a633029f":"code","d4e76f19":"code","52012865":"code","ade5ccdb":"code","76848471":"code","9d736702":"code","e03a0d41":"code","81a5660c":"code","01db5841":"code","e2e0de1b":"code","472d8872":"code","ecd72fb5":"code","6ca2b557":"code","20b2ef65":"code","bb13571c":"code","777a0425":"code","7c6a30a4":"code","43e1ea44":"code","c88af6a9":"code","6a3a3a84":"code","82e73743":"code","209f1129":"markdown","d0f8a7cf":"markdown","17b3bdfb":"markdown","f23412fd":"markdown","ed2ddb60":"markdown","06181f23":"markdown","fae2d7c8":"markdown","af67f448":"markdown","36a58bc1":"markdown","b82203d2":"markdown","84e1693b":"markdown"},"source":{"12171f97":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","8341f340":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nfrom scipy.stats import norm\nfrom sklearn.preprocessing import StandardScaler\nfrom scipy import stats\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline","a3b716ce":"df_train = pd.read_csv(\"\/kaggle\/input\/house-prices-advanced-regression-techniques\/train.csv\")","11ce8169":"df_train.columns","83200159":"df_train['SalePrice'].describe()","0a0d23d3":"sns.distplot(df_train['SalePrice'])","ec680be4":"print(\"Sale price skewness: %f\" % df_train['SalePrice'].skew())\nprint(\"Sale price kurtosis: %f\" % df_train['SalePrice'].kurt())","a633029f":"var = 'GrLivArea'\ndata = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)\ndata.plot.scatter(x=var, y='SalePrice', ylim=(0, 800000))","d4e76f19":"var = 'TotalBsmtSF'\ndata = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)\ndata.plot.scatter(x=var, y='SalePrice', ylim=(0, 800000))","52012865":"var = 'OverallQual'\ndata = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)\nf, ax = plt.subplots(figsize=(8,6))\nfig = sns.boxplot(x=var, y='SalePrice', data=data)\nfig.axis(ymin=0, ymax=800000)","ade5ccdb":"var = 'YearBuilt'\ndata = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)\nf, ax = plt.subplots(figsize=(16, 8))\nfig = sns.boxplot(x=var, y='SalePrice', data=data)\nfig.axis(ymin=0, ymax=800000)\nplt.xticks(rotation=90)","76848471":"    corrmat = df_train.corr()\n    f, ax = plt.subplots(figsize=(12, 9))\n    sns.heatmap(corrmat, vmax=.8, square=True)","9d736702":"k = 10\ncols = corrmat.nlargest(k, 'SalePrice')['SalePrice'].index\ncm = np.corrcoef(df_train[cols].values.T)\nsns.set(font_scale=1.25)\nhm = sns.heatmap(cm, cbar=True, annot=True, square=True, fmt='.2f', annot_kws={'size': 10}, yticklabels=cols.values, xticklabels=cols.values)\nplt.show()","e03a0d41":"total = df_train.isnull().sum().sort_values(ascending=False)\npercent = (df_train.isnull().sum()\/df_train.isnull().count()).sort_values(ascending=False)\nmissing_data = pd.concat([total, percent], axis=1, keys = ['Total', 'Percent'])\nmissing_data.head(20)","81a5660c":"missing_data = missing_data[missing_data['Total'] > 0]\nmissing = missing_data['Total'].sort_values()\nmissing.plot.bar()","01db5841":"#bivariate analysis saleprice\/grlivarea\nvar = 'GrLivArea'\ndata = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)\ndata.plot.scatter(x=var, y='SalePrice', ylim=(0,800000));","e2e0de1b":"#deleting points\ndf_train.sort_values(by = 'GrLivArea', ascending = False)[:2]\ndf_train = df_train.drop(df_train[df_train['Id'] == 1299].index)\ndf_train = df_train.drop(df_train[df_train['Id'] == 524].index)","472d8872":"#bivariate analysis saleprice\/grlivarea\nvar = 'TotalBsmtSF'\ndata = pd.concat([df_train['SalePrice'], df_train[var]], axis=1)\ndata.plot.scatter(x=var, y='SalePrice', ylim=(0,800000));","ecd72fb5":"sns.distplot(df_train['SalePrice'], fit=norm)\nfig = plt.figure()\nres = stats.probplot(df_train['SalePrice'], plot=plt)","6ca2b557":"#applying log transformation\ndf_train['SalePrice'] = np.log(df_train['SalePrice'])","20b2ef65":"#transformed histogram and normal probability plot\nsns.distplot(df_train['SalePrice'], fit=norm);\nfig = plt.figure()\nres = stats.probplot(df_train['SalePrice'], plot=plt)\n","bb13571c":"#histogram and normal probability plot\nsns.distplot(df_train['GrLivArea'], fit=norm);\nfig = plt.figure()\nres = stats.probplot(df_train['GrLivArea'], plot=plt)","777a0425":"#data transformation\ndf_train['GrLivArea'] = np.log(df_train['GrLivArea'])","7c6a30a4":"#transformed histogram and normal probability plot\nsns.distplot(df_train['GrLivArea'], fit=norm);\nfig = plt.figure()\nres = stats.probplot(df_train['GrLivArea'], plot=plt)","43e1ea44":"#histogram and normal probability plot\nsns.distplot(df_train['TotalBsmtSF'], fit=norm);\nfig = plt.figure()\nres = stats.probplot(df_train['TotalBsmtSF'], plot=plt)","c88af6a9":"#create column for new variable (one is enough because it's a binary categorical feature)\n#if area>0 it gets 1, for area==0 it gets 0\ndf_train['HasBsmt'] = pd.Series(len(df_train['TotalBsmtSF']), index=df_train.index)\ndf_train['HasBsmt'] = 0 \ndf_train.loc[df_train['TotalBsmtSF']>0,'HasBsmt'] = 1\n","6a3a3a84":"#transform data\ndf_train.loc[df_train['HasBsmt']==1,'TotalBsmtSF'] = np.log(df_train['TotalBsmtSF'])\n","82e73743":"#histogram and normal probability plot\nsns.distplot(df_train[df_train['TotalBsmtSF']>0]['TotalBsmtSF'], fit=norm);\nfig = plt.figure()\nres = stats.probplot(df_train[df_train['TotalBsmtSF']>0]['TotalBsmtSF'], plot=plt)","209f1129":"'TotalBsmtSF' is also a great friend of 'SalePrice' but this seems a much more emotional relationship! Everything is ok and suddenly, in a strong linear (exponential?) reaction, everything changes. Moreover, it's clear that sometimes 'TotalBsmtSF' closes in itself and gives zero credit to 'SalePrice'.","d0f8a7cf":"Although it's not a strong tendency, I'd say that 'SalePrice' is more prone to spend more money in new stuff than in old relics.","17b3bdfb":"Like all the pretty girls, 'SalePrice' enjoys 'OverallQual'. Note to self: consider whether McDonald's is suitable for the first date.","f23412fd":"### Correlation matrix","ed2ddb60":"Hmmm... It seems that 'SalePrice' and 'GrLivArea' are really old friends, with a linear relationship.","06181f23":"Ok, now we are dealing with the big boss. What do we have here?\n\n    Something that, in general, presents skewness.\n    A significant number of observations with value zero (houses without basement).\n    A big problem because the value zero doesn't allow us to do log transformations.\n\nTo apply a log transformation here, we'll create a variable that can get the effect of having or not having basement (binary variable). Then, we'll do a log transformation to all the non-zero observations, ignoring those with value zero. This way we can transform data, without losing the effect of having or not basement.\n\nI'm not sure if this approach is correct. It just seemed right to me. That's what I call 'high risk engineering","fae2d7c8":"## Understand the problem","af67f448":"## Purpose\n- Understand the problem\n- Univariate learning\n- Build model\n- Test assumtions","36a58bc1":"According to our crystal ball, these are the variables most correlated with 'SalePrice'. My thoughts on this:\n\n- 'OverallQual', 'GrLivArea' and 'TotalBsmtSF' are strongly correlated with 'SalePrice'. Check!\n- 'GarageCars' and 'GarageArea' are also some of the most strongly correlated variables. However, as we discussed in the last sub-point, the number of cars that fit into the garage is a consequence of the garage area. 'GarageCars' and 'GarageArea' are like twin brothers. You'll never be able to distinguish them. Therefore, we just need one of these variables in our analysis (we can keep 'GarageCars' since its correlation with 'SalePrice' is higher).\n- 'TotalBsmtSF' and '1stFloor' also seem to be twin brothers. We can keep 'TotalBsmtSF' just to say that our first guess was right (re-read 'So... What can we expect?').\n- 'FullBath'?? Really?\n- 'TotRmsAbvGrd' and 'GrLivArea', twin brothers again. Is this dataset from Chernobyl?\n- Ah... 'YearBuilt'... It seems that 'YearBuilt' is slightly correlated with 'SalePrice'. Honestly, it scares me to think about 'YearBuilt' because I start feeling that we should do a little bit of time-series analysis to get this right. I'll leave this as a homework for you.","b82203d2":"## Build model","84e1693b":"### Analysis SalePrice"}}