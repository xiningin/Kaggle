{"cell_type":{"60b436af":"code","d3dfbb7c":"code","e04c1a1a":"code","a1cb9edf":"code","29fe6f73":"code","ef0ebe3d":"code","e13d4a0b":"code","6e50fa54":"code","af2de412":"code","4492b42c":"code","062e1f1e":"code","723f034e":"code","7a5cd41a":"code","d9398ffd":"code","dfe18cce":"code","623f8b86":"code","89ad9d57":"code","30551a4e":"code","41e9aff3":"code","0a291fa2":"code","dd011dd9":"code","73a4bf90":"code","2fc3137c":"code","fbeb9b8f":"code","70612c51":"code","618961c2":"code","fe4ef3ff":"code","a5eb994c":"code","4ffaf736":"markdown","5e063c28":"markdown","b25e2b36":"markdown","5a5f154b":"markdown","78196e30":"markdown","d6bd29d3":"markdown","ea550c79":"markdown","a23e8011":"markdown","8c5bbc0e":"markdown","cfa093a4":"markdown","b4d54f1f":"markdown","b0d6b101":"markdown","1705d06c":"markdown","8790008d":"markdown","82aa4604":"markdown","7dd64606":"markdown","c1fa590f":"markdown","db4c992c":"markdown","e8855f9d":"markdown","004b22f1":"markdown","99696b50":"markdown","85c00a00":"markdown","2e0d8d08":"markdown","5c255d1c":"markdown"},"source":{"60b436af":"# Importing Libraries\nimport numpy as np # linear algebra\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport warnings\nimport itertools\nfrom collections import Counter\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport re \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        os.path.join(dirname, filename)\n        \ndata = pd.read_csv(os.path.join(dirname, filename))\nwarnings.filterwarnings(\"ignore\")","d3dfbb7c":"data","e04c1a1a":"data.info()","a1cb9edf":"# Distribution of Movie \/ TV\ndata['type'].value_counts()","29fe6f73":"# Distribution of Movie \/ TV when `country` is missing\ndata[data['country'].isna()]['type'].value_counts()","ef0ebe3d":"# How many rows of data do not have 'United States' in 'country'?\ndata['USA'] = data['country'].str.contains('United States')\ndata['USA'].value_counts()","e13d4a0b":"# Keeping the columns that actually pertains to this analysis\ncolumns_to_keep = ['type', 'title', 'cast', 'date_added',\n       'release_year', 'rating', 'duration', 'listed_in', 'description']\ndata = data[columns_to_keep]","6e50fa54":"# Checking missing values in data\ndata.isna().sum()","af2de412":"data[data['rating'].isna()]","4492b42c":"# Replace any missing value (in column 'rating') with 'TV-G'\ndata['rating'].fillna('TV-G', inplace = True)","062e1f1e":"# Check missing data in each row\ndata.isna().sum()","723f034e":"# Check rows where 'date_added' is missing\ndata[data['date_added'].isna()]","7a5cd41a":"# Remove any rows where 'date_added' is missing\ndata['date_added'].dropna(inplace = True)","d9398ffd":"# If the title or description has the following keywords, it is considered a christmas movie\nxmas_keywords = ['christmas', 'santa', 'claus', 'xmas']\npattern = '|'.join(xmas_keywords)\n\n# Searching keywords with lowercase version of target text\ndata['christmas'] = data['title'].str.lower().str.contains(pattern) | data['description'].str.lower().str.contains(pattern)","dfe18cce":"data['christmas'].value_counts()","623f8b86":"xmas = data[data['christmas'] == True]\nxmas.shape","89ad9d57":"# Converting the 'duration' column so that each rows is an integer that denotes number of minutes a movie is\nxmas['duration'] = xmas['duration'].apply(lambda x: int(re.sub(\"[^0-9]\", \"\", x)))","30551a4e":"xmas['rating'].value_counts()","41e9aff3":"xmas['rating'].replace('TV-G', 'G', inplace = True)\nxmas['rating'].replace('TV-PG', 'PG', inplace = True)\nxmas['rating'].replace('TV-Y7', 'PG', inplace = True)\n\nxmas['rating'].value_counts()","0a291fa2":"# Barplot: TV Ratings Distribution\nsns.set_style(\"whitegrid\",rc = {'figure.figsize':(15,8)})\n\nax = sns.countplot(x = \"rating\", data = xmas.sort_values(by='rating', ascending=True))\nax.set_title(\"TV Ratings of Disney+'s Christmas Movies\");\nax.set_xlabel(\"Ratings\");\nax.set_ylabel(\"Number of Movies\");","dd011dd9":"xmas[xmas['rating'] == 'TV-14']","73a4bf90":"# Histogram: Duration\nsns.set_style(\"whitegrid\",rc = {'figure.figsize':(15,8)})\n\nax = sns.histplot(x = \"duration\", data = xmas, bins = 20, hue = 'rating', multiple = 'stack')\nax.set_title(\"Distribution of Christmas Movie Durations\");\nax.set_xlabel(\"Length of Movie (Minutes)\");\nax.set_ylabel(\"Number of Movies\");","2fc3137c":"xmas[xmas['duration'] < 30]","fbeb9b8f":"# Barplot: Release Year Distribution\nsns.set_style(\"whitegrid\",rc = {'figure.figsize':(15,8)})\n\nax = sns.histplot(x = \"release_year\", data = xmas, bins = 20)\nax.set_title(\"Release Years of Disney+'s Christmas Movies\");\nax.set_xlabel(\"Release Year\");\nax.set_ylabel(\"Number of Movies\");","70612c51":"xmas[xmas['release_year'] < 1975]","618961c2":"# Combine lists into one giant list\nab = itertools.chain(xmas['cast'].str.split(\",\").dropna())\nregular_list = list(ab)\n\n# Flatten list and trim whitespaces\nflat_list = [item for sublist in regular_list for item in sublist]\nflat_list = [s.strip() for s in flat_list]\n\n# Count occurances\ncast_occ = Counter(flat_list)\ncast_occ.most_common(15)","fe4ef3ff":"# Combine lists into one giant list\nab = itertools.chain(xmas['listed_in'].str.split(\",\").dropna())\nregular_list = list(ab)\n\n# Flatten list and trim whitespaces\nflat_list = [item for sublist in regular_list for item in sublist]\nflat_list = [s.strip() for s in flat_list]\n\n# Count occurances\ncat_occ = Counter(flat_list)\ncat_occ.most_common(15)","a5eb994c":"xmas[xmas['listed_in'].str.contains(\"Medical\")]","4ffaf736":"Hah guess what, it's the movie we looked at earlier that had the (incorrect) rating of TV-14. What an oddball. In fact, I think I'm going to try watching this movie for fun. \n\n\n\n\nMerry Christmas all!","5e063c28":"There's actually no way for me to know when a product is added to Disney +, so I'm okay with simply deleting these rows.","b25e2b36":"Not only is the `country` column filled with missing values, but most of it comes from the US as well. Because we're not sure if this is due to a bias or not, we can't make any inferences from it. That's okay, we can proceed without it. ","5a5f154b":"As expected, we've got 'Family', 'Comedy' and 'Fantasy' as the top three. Now I'm really curious what movie earned the category 'Medical':","78196e30":"# 2.0 Data Visualizations\n\nMost of the data prepping is out of the way. Admittedly, this isn't the best way to showcase my data wrangling skills, because the data was pretty clean. Let's get some plots going though!\n\n# 2.1 TV Ratings","d6bd29d3":"As expected, most of the movies are rated G or PG. In fact, let's take a look at which movie is TV-14.","ea550c79":"# 1.5 `duration` column\n\nNothing much to do here, just doing some light regex to make plotting easier down the road.","a23e8011":"As expected, they're also animated. Unfortunately I'm a little too young to recognize these films, and I'm going to be honest - I'm probably not going to watch these.\n\nI'm curious if there are some actors or actresses that appear in Christmas films more often than others. Let's take the cast members and see which actors pop up the most:","8c5bbc0e":"There are a handful of actors that appear in up to three distinct movies. I expected a few more, but I guess it's not the biggest market for an actor to be in.\n\n# 2.6 Categories\n\nLets do the same but with movie categories:","cfa093a4":"The data actually seems pretty clean. We have a few null values here and there, especially in `director`, `cast`, and `country`. Otherwise, it's not a super big dataset, and we're definately trimming it down so that we only see Christmas movies.\n\n# 1.2 Examining `country` column\nWe do want to use `country` - imagine if we could do some kind of analysis on what countries carry these christmas movies. There are quite a few null values but let's see if we can salvage anything.","b4d54f1f":"Not too many - out of the 1450 rows we have, there are only 40 that are Christmas related That's okay, lets work with the 40 that we have.","b0d6b101":"All of the movies are animated, and the shorter ones are mostly for kids as well. Maybe I'll check out one of these when I'm with my younger cousins.\n\n# 2.3 Release Years","1705d06c":"# 1.6 `ratings` column\n\nI wonder if there are any Christmas movies that aren't PG or G rated. It seems like there are some redundencies in the value counts:","8790008d":"3 quick google searches gave me the answer I was expecting (based on the titles): they're all rated TV-G","82aa4604":"Seems like there's a slight bias in the missing values. 113\/398 (28.4%) of the TV shows have a missing 'country' field, while 106\/1052 (10.1%) of the movies have missing 'country' fields. I'll be wary of this going forward.\n\nLet's also take a look at the actual value counts of the countries:","7dd64606":"# 1.4 Classifying Christmas Movies\n\nNow we need to create a column that will tell us if a row pertains to a Christmas Movie or TV Show.","c1fa590f":"# 2.5 Cast Members","db4c992c":"# 1.3 Removing missing values\n\nThere aren't that many missing values to remove. Let's look at it again:","e8855f9d":"I did a bit of digging, and actually this movie should be rated TV-PG (at least according to IMDB). This means that all the Christmas movies are rated either PG or G. The more I think about it, I don't fully expect Disney+ to add some R rated Christmas Movies (*[ahem](https:\/\/www.imdb.com\/title\/tt1268799\/)*).\n\n# 2.2 Duration","004b22f1":"# 1.1 Taking a look at the data\n\nLet's open the data up.","99696b50":"Nothing too interesting learned when separating the different rating groups. Because they're all movies, we expect to find most of the data towards the right end of the x-axis. It also makes sense that there are only a few short movies. Let's take a look at which ones are under 30 minutes.","85c00a00":"# 1.0 Introduction\n\n## Merry Christmas!!\n![](https:\/\/i.imgur.com\/HmLA3qI.jpeg)\n\nThis notebook is my attempt to do something festive for Christmas. I'm not one to decorate a tree or diligently go through an advent calender, so here's something data related! And of course - Merry Christmas :) \n\nI've decided to take a dive into Disney +'s collection of Christmas movies. Mostly some EDA (Exploratory Data Analysis) and some data visualizations, but feel free to leave a comment if you have some ideas!\n\nThe notebook starts with a quick look at the data and some basic cleaning, like removing missing values and prepping the data for visualizations. And as you guessed, the next section involves creating data visualizations!","2e0d8d08":"We've got a handful of old movies here, but I'm not surprised that most of the movies were released after the 2000's. Let's look at the old ones.","5c255d1c":"Missing values in `cast` are not bothering me too much. I think what I will do with this column is check if there are any actors or actresses that appear often in Disney +'s collection of Christmas movies or shows. Because of this, I won't remove any missing values in this column.\n\nMissing values in `rating` and `date_added` are not bothering me too much either, considering that there are three for each. We don't usually have the luxury of actually looking at every missing value (because we usually get so many!), so let's treat ourselves:"}}