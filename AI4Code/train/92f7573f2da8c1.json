{"cell_type":{"984927e3":"code","794fd3a9":"code","f6db99c2":"code","fa2c2467":"code","0f2e92ff":"code","5a708f7d":"code","da22b2ad":"code","affb53e6":"code","57850815":"code","2c5a40a3":"code","34065a2c":"code","f9814b41":"code","c8d03880":"markdown","139a8686":"markdown","67f347d7":"markdown","de8be33f":"markdown","fb823179":"markdown","a70cd593":"markdown","d63b781a":"markdown","8efb6192":"markdown","d3fe79bb":"markdown","2a6d4dd3":"markdown","ba39e460":"markdown","601b5676":"markdown","8cc876d0":"markdown","cf57f032":"markdown"},"source":{"984927e3":"!pip install backtrader backtrader_plotting","794fd3a9":"import backtrader as bt\nimport os\nfrom backtrader_plotting import Bokeh\nfrom backtrader_plotting.schemes import Blackly","f6db99c2":"%matplotlib inline","fa2c2467":"from shutil import copyfile\n\ncopyfile(src = \"..\/input\/strategies\/VIX.py\", dst = \"..\/working\/VIX.py\")","0f2e92ff":"from VIX import VIX","5a708f7d":"cerebro = bt.Cerebro()\ncerebro.broker.setcash(1e5)","da22b2ad":"class SPYVIXData(bt.feeds.GenericCSVData):\n  lines = ('vixopen', 'vixhigh', 'vixlow', 'vixclose')\n\n  params = (\n    ('dtformat', '%Y-%m-%d'),\n    ('date', 0),\n    ('spyopen', 1),\n    ('spyhigh', 2),\n    ('spylow', 3),\n    ('spyclose', 4),\n    ('spyadjclose', 5),\n    ('spyvolume', 6),\n    ('vixopen', 7),\n    ('vixhigh', 8),\n    ('vixlow', 9),\n    ('vixclose', 10)\n  )\n","affb53e6":"class VIXData(bt.feeds.GenericCSVData):\n  params = (\n    ('dtformat', '%m\/%d\/%Y'),\n    ('date', 0),\n    ('vixopen', 1),\n    ('vixhigh', 2),\n    ('vixlow', 3),\n    ('vixclose', 4),\n    ('volume', -1),\n    ('openinterest', -1)\n  )\n","57850815":"csv_file = os.path.abspath('..\/input\/quantitative-trading\/SPY_VIX.csv')\nvix_csv_file = os.path.abspath('..\/input\/quantitative-trading\/VIX.csv')\n\nspyVixDataFeed = SPYVIXData(dataname=csv_file)\nvixDataFeed = VIXData(dataname=vix_csv_file)\ncerebro.adddata(spyVixDataFeed)\ncerebro.adddata(vixDataFeed)","2c5a40a3":"cerebro.addstrategy(VIX)","34065a2c":"print('\u6295\u8cc7 > \u8d77\u59cb\u8cc7\u7522 %.2f \ud83d\udcb2' % cerebro.broker.getvalue())\ncerebro.run()\nprint('\u6295\u8cc7 > \u7d50\u675f\u8cc7\u7522 %.2f \ud83d\udcb2' % cerebro.broker.getvalue())","f9814b41":"b = Bokeh(style='bar', plot_mode='single', scheme=Blackly())\ncerebro.plot(b)","c8d03880":"### \u90a3\u9ebc\u4ec0\u9ebc\u662f\u6050\u61fc\u8207\u8caa\u5a6a\u6307\u6578\uff1f","139a8686":"### \u8a2d\u5b9a\u5ba2\u88fd\u5316\u8cc7\u6599\u683c\u5f0f (\u6a19\u666e 500 \u6307\u6578- \u6050\u614c\u6307\u6578)","67f347d7":"\u4e5f\u53ef\u4ee5\u7a31\u70ba \u6050\u61fc\u6307\u6578\uff0c\u53ef\u4ee5\u7406\u89e3\u70ba\u5c0d \u6a19\u666e500 \u672a\u4f86 30 \u5929\u7684\u96b1\u542b\u6ce2\u52d5\u7387\u9810\u6e2c\uff0cVIX \u6703\u6bcf\u65e5\u66f4\u65b0\uff0c\u6253\u500b\u6bd4\u65b9\uff1a\n\n\u516c\u53f8A\u548c\u516c\u53f8B\u7684\u80a1\u7968\u4e00\u6a23\u6709\u500b\u50f9\u683c\uff0c\u4f46\u5b83\u5011\u7684\u6ce2\u52d5\u53ef\u80fd\u5f88\u4e0d\u4e00\u6a23\u3002\u5047\u5982\u516c\u53f8A\u7684\u71df\u904b\u4e0d\u5bb9\u6613\u6709\u592a\u5927\u7684\u610f\u5916\u767c\u751f\uff0c\u90a3\u9ebc\u5b83\u7684\u80a1\u50f9\u6703\u8f03\u7a69\u5b9a\uff0c\u4e0d\u6703\u6709\u5f88\u5927\u7684\u6ce2\u52d5\u767c\u751f\u3002\u5047\u5982\u516c\u53f8B\u7684\u71df\u904b\u53d7\u5f88\u591a\u8b8a\u6578\u5f71\u97ff\uff0c\u90a3\u9ebc\u5b83\u7684\u80a1\u50f9\u6ce2\u52d5\u6703\u8f03\u5927\u3002\n\n\u5047\u5982\u6709\u53e3\u6a19\u666e500\u57281000\u9ede\u7684\u8cb7\u6b0a\u3002\u5047\u5982\u672a\u4f86\u5e02\u5834\u8d70\u5411\u662f\u670950%\u7684\u6a5f\u6703\u843d\u57281050\u9ede\uff0c50%\u7684\u6a5f\u6703\u843d\u5728950\u9ede\u3002\u90a3\u9ebc\u9019\u5f35\u8cb7\u6b0a\u670950%\u7684\u6a5f\u6703\u503c50\u584a\uff0c50%\u7684\u6a5f\u6703\u4e0d\u503c\u9322(\u56e0\u70ba\u6307\u6578\u50f9950\u4f4e\u65bc1000)\u3002\u6240\u4ee5\u9019\u5f35\u8cb7\u6b0a\u7684\u50f9\u503c\u4fbf\u662f25\u3002\n\n\u5be6\u969b\u8a08\u7b97\u4e00\u4e0b VIX\uff1a\n\n\u5047\u5982\u672a\u4f86\u5e02\u5834\u8d70\u5411\u662f\u5404\u670925%\u7684\u6a5f\u6703\u843d\u57281100\u30011050\u3001950\u548c900\u9ede\u3002\u6ce2\u52d5\u7bc4\u570d\u64f4\u5927\u3002\u90a3\u9ebc\u9019\u5f35\u8cb7\u6b0a\u670925%\u7684\u6a5f\u6703\u8cfa100\uff0c25%\u7684\u6a5f\u6703\u8cfa50\uff0c50%\u7684\u6a5f\u6703\u4e0d\u503c\u9322\u3002\u9019\u6642\u9019\u5f35\u8cb7\u6b0a\u7684\u50f9\u503c\u589e\u52a0\u70ba37.5\u3002\n\n\u901a\u5e38 VIX \u6307\u6578 \u8d85\u904e 40 \u6642\uff0c\u8868\u793a\u5e02\u5834\u5c0d\u672a\u4f86\u7684\u975e\u7406\u6027\u6050\u614c\uff0c\u53ef\u80fd\u65bc\u77ed\u671f\u5167\u51fa\u73fe\u53cd\u5f48\u3002\n\n\u76f8\u5c0d\u7684\uff0c\u7576 VIX \u6307\u6578\u4f4e\u65bc 15\uff0c\u8868\u793a\u5e02\u5834\u51fa\u73fe\u975e\u7406\u6027\u7e41\u69ae\uff0c\u53ef\u80fd\u6703\u4f34\u96a8\u8457\u8ce3\u58d3\u6bba\u76e4\u3002 \u5373\u4f7f\u57281998\u5e74\u7684\u91d1\u878d\u98a8\u66b4\u6642\uff0cVIX\u6307\u6578\u4e5f\u672a\u66fe\u8d85\u904e60\uff0cVIX \u6307\u6578\u4e0d\u4e00\u5b9a\u80fd\u6e96\u78ba\u9810\u6e2c\u8d70\u5411\uff0c\u4f46\u662f\u591a\u5c11\u53cd\u6620\u7576\u6642\u5e02\u5834\u7684\u6c23\u6c1b","de8be33f":"[\u6050\u614c\u6307\u6578](https:\/\/money.cnn.com\/data\/fear-and-greed\/)\n\n\u5df4\u83f2\u7279\u66fe\u7d93\u8aaa\u904e\uff1a\n\n> \u5728\u5225\u4eba\u6050\u61fc\u6642\u6211\u8caa\u5a6a\uff0c\u5728\u5225\u4eba\u8caa\u5a6a\u6642\u6211\u6050\u61fc\n\n\u9019\u500b\u73fe\u8c61\u771f\u5be6\u5730\u53cd\u6620\u5728\u80a1\u7968\u5e02\u5834\u88e1\uff0c\u56e0\u70ba\u9019\u4e0d\u662f\u4e00\u500b\u55ae\u4e00\u6307\u6a19\uff0c\u800c\u662f\u53c3\u8003\u4e86\u5e02\u5834\u4e2d\u7684\uff1a\n\n- \u5e02\u5834\u6ce2\u52d5\u7387\n- \u5927\u76e4\u6307\u6578\n- \u5e02\u5834\u8ffd\u50f9\u7684\u529b\u9053\n- \u907f\u96aa\u7684\u9700\u6c42\n- \u628a\u5e02\u5834\u4e0a\u91cd\u8981\u7684\u95dc\u9375\u90fd\u7d0d\u5165\uff0c\u56e0\u6b64\u5f88\u5bb9\u6613\u5224\u8b80\u51fa\u76ee\u524d\u5e02\u5834\u7684\u60c5\u7dd2\u8207\u76f8\u5c0d\u50f9\u683c\u7684\u9ad8\u4f4e","fb823179":"## \u5be6\u4f5c\u6050\u614c\u6307\u6578\u8207\u8caa\u5a6a\u6307\u6578","a70cd593":"### \u8a2d\u5b9a\u7b56\u7565","d63b781a":"### \u5efa\u7acb\u6846\u67b6\u904b\u884c\u74b0\u5883","8efb6192":"### \u904b\u884c\u74b0\u5883","d3fe79bb":"### \u8b80\u53d6\u8cc7\u6599","2a6d4dd3":"### \u8a2d\u5b9a\u521d\u59cb\u74b0\u5883","ba39e460":"## VIX \u6ce2\u52d5\u7387\u6307\u6578 (Volatility Index)","601b5676":"### \u5f15\u5165\u7b56\u7565","8cc876d0":"\u6295\u8cc7\u8005\u53d7\u5230\u5169\u7a2e\u60c5\u7dd2\u7684\u9a45\u4f7f\uff1a\u6050\u61fc\u548c\u8caa\u5a6a\u3002\u592a\u591a\u7684\u6050\u61fc\u6703\u4f7f\u80a1\u7968\u8dcc\u81f3\u9060\u4f4e\u65bc\u61c9\u6709\u7684\u6c34\u5e73\u3002\u7576\u6295\u8cc7\u8005\u8caa\u5a6a\u6642\uff0c\u4ed6\u5011\u53ef\u80fd\u6703\u4ee5\u592a\u9ad8\u7684\u50f9\u683c\u51fa\u50f9\u3002\u90a3\u9ebc\uff0c\u76ee\u524d\u80a1\u7968\u5e02\u5834\u662f\u4ec0\u9ebc\u60c5\u7dd2\uff1f\u6211\u5011\u770b\u770b\u4ee5\u4e0b 7 \u500b\u91cf\u5316\u6307\u6a19\uff1a\n\n- \u80a1\u7968\u50f9\u683c\u52d5\u80fd\uff1a\u6a19\u6e96\u666e\u723e500\u6307\u6578\uff08SPX\uff09\u8207125\u5929\u79fb\u52d5\u5e73\u5747\u7dda\uff08MA\uff09\n- \u80a1\u7968\u50f9\u683c\u8d70\u5f37\uff1a\u7d10\u7d04\u8b49\u5238\u4ea4\u6613\u6240\u7684\u80a1\u7968\u6578\u91cf\u9054\u523052\u9031\u7684\u9ad8\u9ede\u548c\u4f4e\u9ede\n- \u80a1\u7968\u50f9\u683c\u5bec\u5ea6\uff1a\u80a1\u7968\u4ea4\u6613\u91cf\u7684\u4e0a\u5347\u8207\u4e0b\u964d\u4e4b\u6bd4\u3002\n- \u770b\u8dcc\u548c\u770b\u6f32\u671f\u6b0a\uff1a\u770b\u8dcc\/\u770b\u6f32\u6bd4\u7387\uff0c\u5c07\u770b\u6f32\u770b\u6f32\u671f\u6b0a\u7684\u4ea4\u6613\u91cf\u8207\u770b\u8dcc\u770b\u8dcc\u671f\u6b0a\u7684\u4ea4\u6613\u91cf\u9032\u884c\u6bd4\u8f03\n- \u5783\u573e\u50b5\u5238\u9700\u6c42\uff1a\u6295\u8cc7\u7d1a\u50b5\u5238\u548c\u5783\u573e\u50b5\u5238\u7684\u6536\u76ca\u7387\u4e4b\u9593\u7684\u50f9\u5dee\n- \u5e02\u5834\u6ce2\u52d5\u7387\uff1a\u8861\u91cf\u6ce2\u52d5\u7387\u7684VIX\n- \u907f\u98a8\u6e2f\u9700\u6c42\uff1a\u80a1\u7968\u6536\u76ca\u8207\u570b\u50b5\u6536\u76ca\u4e4b\u5dee\n\n\u5c0d\u65bc\u6bcf\u500b\u6307\u6a19\uff0c\u6211\u5011\u67e5\u770b\u5b83\u5011\u76f8\u5c0d\u65bc\u5e73\u5747\u503c\u7684\u504f\u96e2\u91cf\u3002\u6211\u5011\u4ee50-100\u7684\u6bd4\u4f8b\u4f86\u8861\u91cf\u3002\u6307\u6578\u8d8a\u9ad8\uff0c\u6295\u8cc7\u8005\u7684\u8caa\u5a6a\u7a0b\u5ea6\u8d8a\u9ad8\uff0c50\u662f\u4e2d\u7acb\u7684\u3002 \u7136\u5f8c\uff0c\u6211\u5011\u5c07\u6240\u6709\u6307\u6a19\uff08\u5747\u7b49\u52a0\u6b0a\uff09\u653e\u5728\u4e00\u8d77\uff0c\u4ee5\u6700\u7d42\u5f97\u5230\u6307\u6578\u8b80\u6578\u3002","cf57f032":"## \u7e6a\u88fd\u5831\u8868"}}