{"cell_type":{"90db7788":"code","53b23645":"code","fe8e92b8":"code","aabe9a08":"code","3a39f0c2":"code","6dab9c22":"code","3ecb0ba2":"code","89b68397":"code","63e7a81d":"code","486a0c78":"code","4dfddff2":"code","0a08d04e":"code","aa8505d3":"code","db6119b9":"code","728849ef":"code","464e39a7":"code","579e50e9":"code","1b42217c":"code","5313106e":"code","66fcb6e6":"code","e1fa500f":"code","aec0bb6f":"code","7bd51391":"code","a7b599e5":"code","c5e1c1b9":"code","ffc1b6eb":"code","cc233964":"code","07697573":"code","1cfa9a46":"code","e59b29f2":"markdown","99c40fca":"markdown","c6bfbfc2":"markdown","61867fc3":"markdown","b68a56c7":"markdown","c3ee9f60":"markdown","0399e55d":"markdown","45910778":"markdown","e1346217":"markdown","bbf45d83":"markdown","beda622b":"markdown","6dcab9f7":"markdown","502ba713":"markdown","0a0feb38":"markdown","fb430889":"markdown","5d886cd6":"markdown","00867ea4":"markdown","69ede688":"markdown","23ee5039":"markdown","b651d049":"markdown","8021bd9c":"markdown","3c6652fc":"markdown"},"source":{"90db7788":"!pip install seaborn==0.11.0","53b23645":"import numpy as np\nimport pandas as pd\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats","fe8e92b8":"sns.color_palette([\"#00798c\", \"#d1495b\", '#edae49', '#66a182'])","aabe9a08":"pd.options.display.max_columns = 999","3a39f0c2":"data = pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/train.csv')\ndata.head()","6dab9c22":"data.describe(include='O')","3ecb0ba2":"built = data['YearBuilt'].value_counts().sort_index()\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = ['#4a4a4a' if val != max(built) else '#e3120b' for val in built]\nax.bar(built.index, built, color=color)\n\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","89b68397":"fig, ax = plt.subplots(1, 1, figsize=(6, 12))\nax.barh(built.index, built, color=color)\nax.grid()\n\nplt.show()","63e7a81d":"data['HouseStyle'].value_counts()","486a0c78":"data['HouseStyle'] = data['HouseStyle'].apply(lambda x : 'ETC' if x in ['SLvl', 'SFoyer', '1.5Unf', '2.5Unf', '2.5Fin'] else x)","4dfddff2":"fig, ax = plt.subplots(4, 1, figsize=(20, 12), sharex=True)\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts()\n    ax[i].bar(hs_built.index, hs_built, color=color[i], label=hs)\n    ax[i].set_ylim(0, 50)\n    ax[i].legend(loc='upper left')\n    for s in ['top', 'right']:\n        ax[i].spines[s].set_visible(False)\n\n\n\nplt.show()","0a08d04e":"fig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts()\n    ax.bar(hs_built.index, hs_built, color=color[i], label=hs, alpha=0.4, edgecolor=color[i])\n    \nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.set_ylim(0, 50)\nax.legend(loc='upper left')\nplt.show()","aa8505d3":"data_sub = data.groupby('HouseStyle')['YearBuilt'].value_counts().unstack().fillna(0).loc[['ETC','1.5Fin','2Story', '1Story']].cumsum(axis=0).T\ndata_sub","db6119b9":"fig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data_sub[hs]\n    ax.bar(hs_built.index, hs_built, color=color[i], label=hs)\n    \nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.legend(loc='upper left')\nax.grid()\nplt.show()","728849ef":"data_sub = data.groupby('HouseStyle')['YearBuilt'].value_counts().unstack().fillna(0).loc[['ETC','1.5Fin','2Story', '1Story']].T\ndata_sum = data_sub.sum(axis=1)\ndata_sub = (data_sub.T \/ data_sum).cumsum().T","464e39a7":"fig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data_sub[hs]\n    ax.bar(hs_built.index, hs_built, color=color[i], label=hs)\n    \nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.legend(loc='upper left')\nax.grid()\nplt.show()","579e50e9":"fig, ax = plt.subplots(1, 1, figsize=(20, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nwidth = 0.25\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[(data['HouseStyle']==hs)&(data['YearBuilt']>1980)]['YearBuilt'].value_counts()\n    ax.bar(hs_built.index+(width*(i-2)), hs_built, width, color=color[i], label=hs)\n    \nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.set_ylim(0, 50)\nax.legend(loc='upper left')\nplt.show()","1b42217c":"built = data['YearBuilt'].value_counts().sort_index()\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\n\nax.plot(built.index, built, color='#4a4a4a')\n\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","5313106e":"built = data['YearBuilt'].value_counts().sort_index()\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\nax.plot(built.index, built, color='#4a4a4a')\n\nax.fill_between(built.index, 0, built, color='#4a4a4a')\n\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","66fcb6e6":"built = data['YearBuilt'].value_counts().sort_index()\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\nax.step(built.index, built, color='#4a4a4a')\n\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","e1fa500f":"built = data['YearBuilt'].value_counts().sort_index()\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\nax.step(built.index, built, color='#4a4a4a')\n\nax.fill_between(built.index, 0, built, color='#4a4a4a', step='pre')\n\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","aec0bb6f":"fig, ax = plt.subplots(4, 1, figsize=(20, 12), sharex=True)\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts().sort_index()\n    ax[i].plot(hs_built.index, hs_built, color=color[i], label=hs)\n    ax[i].set_ylim(0, 50)\n    ax[i].legend(loc='upper left')\n    for s in ['top', 'right']:\n        ax[i].spines[s].set_visible(False)\n\n\n\nplt.show()","7bd51391":"fig, ax = plt.subplots(4, 1, figsize=(20, 12), sharex=True)\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts().sort_index()\n    ax[i].plot(hs_built.index, hs_built, color=color[i], label=hs)\n    ax[i].fill_between(hs_built.index, 0, hs_built, color=color[i])\n    ax[i].set_ylim(0, 30)\n    ax[i].legend(loc='upper left')\n\nplt.subplots_adjust(hspace=0)\nplt.show()","a7b599e5":"fig, ax = plt.subplots(1, 1, figsize=(18, 6))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts().sort_index()\n    ax.plot(hs_built.index, hs_built, color=color[i], label=hs)\n\nax.set_ylim(0, 50)\nax.legend(loc='upper left')\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","c5e1c1b9":"fig, ax = plt.subplots(1, 1, figsize=(18, 6))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\nlinestyles = ['-', '--', '-.', ':']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts().sort_index()\n    ax.plot(hs_built.index, hs_built, color=color[i], linestyle=linestyles[i], label=hs)\n\nax.set_ylim(0, 50)\nax.legend(loc='upper left')\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","ffc1b6eb":"fig, ax = plt.subplots(1, 1, figsize=(18, 6))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data[data['HouseStyle']==hs]['YearBuilt'].value_counts().sort_index()\n    ax.plot(hs_built.index, hs_built, color=color[i], label=hs)\n    ax.fill_between(hs_built.index, 0, hs_built, color=color[i], alpha=0.4)\n\nax.set_ylim(0, 50)\nax.legend(loc='upper left')\nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.grid()\n\nplt.show()","cc233964":"data_sub = data.groupby('HouseStyle')['YearBuilt'].value_counts().unstack().fillna(0).loc[['ETC','1.5Fin','2Story', '1Story']].cumsum(axis=0).T\n\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data_sub[hs]\n    ax.fill_between(hs_built.index, 0, hs_built, color=color[i], label=hs)\n    \nfor s in ['top', 'right']:\n    ax.spines[s].set_visible(False)\n\nax.legend(loc='upper left')\nax.grid()\nplt.show()","07697573":"data_sub = data.groupby('HouseStyle')['YearBuilt'].value_counts().unstack().fillna(0).loc[['ETC','1.5Fin','2Story', '1Story']].cumsum(axis=0).T\ndata_sub.insert(0, \"base\", np.zeros(len(data_sub)))\n\n\ndata_sub = data_sub.add(-data['YearBuilt'].value_counts()\/2, axis=0)\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182'][::-1]\nhs_list = data_sub.columns\n\n\nfor i, hs in enumerate(hs_list):\n    if i == 0 : continue\n    ax.fill_between(hs_built.index, data_sub.iloc[:,i-1], data_sub.iloc[:,i], color=color[i-1])\n    \nfor s in ['top', 'right', 'bottom', 'left']:\n    ax.spines[s].set_visible(False)\n\nax.set_yticks([])\nax.legend(loc='upper left')\nax.grid(axis='x')\nplt.show()","1cfa9a46":"data_sub = data.groupby('HouseStyle')['YearBuilt'].value_counts().unstack().fillna(0).loc[['ETC','1.5Fin','2Story', '1Story']].T\ndata_sum = data_sub.sum(axis=1)\ndata_sub = (data_sub.T \/ data_sum).cumsum().T\n\nfig, ax = plt.subplots(1, 1, figsize=(18, 5))\ncolor = [\"#00798c\", \"#d1495b\", '#edae49', '#66a182']\n\nfor i, hs in enumerate(data['HouseStyle'].value_counts().index):\n    hs_built = data_sub[hs]\n    ax.bar(hs_built.index, hs_built, color=color[i], label=hs)\n    ax.fill_between(hs_built.index, 0, hs_built, color=color[i])\n    \nax.legend(loc='upper left')\nax.grid()\nax.set_ylim(0, 1)\nax.set_xlim(1872, 2010)\nplt.show()","e59b29f2":"### Line > Multiple > Horizon Chart\n\nIf you draw this as an area graph and draw it closer together, you can visualize a sophisticated time series.","99c40fca":"## \ud83d\udd76 All You Need is Time-Series Visualization\n\n![](https:\/\/images.unsplash.com\/photo-1518186285589-2f7649de83e0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1267&q=80)\n\nExample code and explanations of more than 20 techniques for visualizing time series data.\n\nI will continue to update the content further.\n\n### Table of Contents\n\n- **1. Bar**\n    - single \n        - vertical [1]\n        - horizontal [2]\n    - multiple\n        - subplots [3]\n        - overlaped [4]\n        - stacked \n            - amount [5]\n            - ratio [6]\n        - adjacent [7]\n        \n    \n- **2. Line**\n    - single \n        - line [8]\n        - area [9]\n        - step [10]\n        - step area [11]\n    - multiple \n        - subplots [12]\n        - horizon chart [13]\n        - overlaped [14]\n        - overlaped area [15]\n        - stacked\n            - amount [16]\n            - streamgraph[17]\n            - ratio [18]\n        ","c6bfbfc2":"### Bar > Multiple > Overlaped\n\nIf you draw multiple graphs, absolute comparison is difficult, so you can draw them on one graph at the same time.\n\nIf you draw at the same time, you have to deal with the overlap.\n\nThe first is to adjust the transparency so that the overlapping part is visible.\n\nComparisons are much easier.","61867fc3":"### Line > Single > Step Area \n\nYou can plot this as an area graph.","b68a56c7":"### Bar > Multiple > Stacked > Ratio\n\nYou can also visualize the proportions of that bar over time.","c3ee9f60":"### Bar > Single > Horizontal\n\nOn the web or in publications, the height is longer than the width.\n\nIf there is a large amount, it is also a technique to draw the bar graph by changing its axis.","0399e55d":"### Line > Multiple > Overlaped Area\n\nYou can plot this as an area graph.\n\nIt is effective because it can be difficult to express the total amount with only the line.","45910778":"### Bar > Multiple > Subplots\n\nThe first way to compare multiple graphs over the same time period is to draw multiple graphs.","e1346217":"Looks like building..?","bbf45d83":"## Related Work\n\n- [\ud83d\udd76 Awesome Visualization with Titanic Dataset\ud83d\udcca](https:\/\/www.kaggle.com\/subinium\/awesome-visualization-with-titanic-dataset)\n- [Tips for making the Right Visualization](https:\/\/www.kaggle.com\/subinium\/tips-for-making-the-right-visualization)\n- [Simple Matplotlib & Visualization Tips \ud83d\udca1](https:\/\/www.kaggle.com\/subinium\/simple-matplotlib-visualization-tips)\n- [\ud83d\udee3\ufe0f Road to Viz Expert (1) - Unusual tools](https:\/\/www.kaggle.com\/subinium\/road-to-viz-expert-1-unusual-tools)","beda622b":"## 2. Line\n\n### Line > Single > Normal\n\nFor time series, line graphs are more efficient than bar graphs.\n\nIt shows trends and can emphasize a continuous feeling.","6dcab9f7":"### Line > Multiple > Stacked > Ratio\n\nStacking according to each proportion is also one of the famous techniques.","502ba713":"### Line > Multiple > Stacked > Amout\n\nStacking method is also possible.","0a0feb38":"## 1. Bar\n\n### Bar > Single > Vertical \n\nThe most basic is a **bar** graph. \n\nBars are easy to make absolute comparisons of their size, and ratios are easy to compare to nearby bars.","fb430889":"### Line > Single > Area\n\nIt is also a good idea to plot the area based on what the time series represents.\n\nArea can represent trends and quantities.","5d886cd6":"### Line > Multiple > Stacked > Stream graph\n\nA streamgraph, or stream graph, is a type of stacked area graph which is displaced around a central axis, resulting in a flowing, organic shape.","00867ea4":"### Bar > Multiple > Adjacent\n\nYou can also draw using neighboring bars for a specific time period. \n\nHowever, this is not a good idea for time series, and line charts are more efficient than doing this.","69ede688":"you can custom linestyle.","23ee5039":"### Line > Single > Step\n\nAmong the line graphs, the shape of the line can also be stepped.\n\nIt is easier to understand for comparisons of absolute quantities and avoids cognitive misunderstandings due to gradients.","b651d049":"### Bar > Multiple > Stacked > Amout\n\nAnother way to draw at the same time is to stack the bars.","8021bd9c":"### Line > Multiple > Overlaped\n\nUnlike bar charts, drawing at the same time is very efficient. \n\nSince it is a line, there is no need to handle most of the overlapping parts.","3c6652fc":"### Line > Multiple > Subplots\n\nWhen drawing multiple graphs at the same time, pay attention to the axis scale."}}