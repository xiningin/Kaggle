{"cell_type":{"91de9b37":"code","ec063442":"code","33304a9d":"code","50f41195":"code","ad761ca0":"code","fd808d94":"code","f9f1f6b6":"code","efe840cc":"code","41dca6ce":"code","8dc4dc7a":"code","c6db8f2b":"code","039ca70e":"code","bbc79c7d":"code","637268cd":"code","79af744c":"code","2a9d1e60":"code","778628e9":"markdown","5359f75a":"markdown","4b5ad518":"markdown","870c2734":"markdown","c297758a":"markdown","056d9ab1":"markdown","9f9138ae":"markdown","554af410":"markdown","abc175d6":"markdown","8c1d1880":"markdown","c94eb635":"markdown","31a80764":"markdown","6a5328b3":"markdown","3b2fcb98":"markdown","5e764a94":"markdown"},"source":{"91de9b37":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n# sklearn preprocessing for dealing with categorical variables\nfrom sklearn.preprocessing import LabelEncoder\n\n# File system manangement\nimport os\n\n# Suppress warnings \nimport warnings\nwarnings.filterwarnings('ignore')","ec063442":"df=pd.read_csv('..\/input\/2016 School Explorer.csv')\ndf.head()","33304a9d":"total = df.isnull().sum().sort_values(ascending=False)\npercent = (df.isnull().sum()\/df.isnull().count()).sort_values(ascending=False)\ndf2 = pd.concat([total, percent], axis=1, keys=['Total', 'Percent'])\ndf2","50f41195":"#School income estimate has a high percentage of missing values i.e. 31%\n#Since school income is different for different schools, so if we have to use school income esstimate for any analysis,\n#Then we have to omit the schools where value=NA","ad761ca0":"duplicate_bool=df.duplicated()\nduplicate=df.loc[duplicate_bool == True]\nprint(duplicate)","fd808d94":"df1=df.sort_values(by=['Economic Need Index'],ascending=False)\ndf1=df1.iloc[:500,]\nprint(df1[['City','Economic Need Index']])\nsns.stripplot(x=\"Economic Need Index\", y=\"City\",hue=\"Community School?\",data=df1)","f9f1f6b6":"subset=df.loc[(df.City.isin(['NEW YORK','BROOKLYN'])& (df['Community School?']==\"Yes\"),['Student Attendance Rate'])]\nsubset\nsubset['count']=subset.index\nsns.barplot(x=\"count\",y=\"Student Attendance Rate\",data=subset)","efe840cc":"\ndf.reset_index(inplace=True)\na=df.pivot_table(values = 'index', index =['Collaborative Teachers Rating'],columns=df['Supportive Environment %']>\"70%\", aggfunc = 'count')\nprint(a)\na.columns=['Lessthan70','Greaterthan70']\na['Collaborative Teachers Rating']=a.index\nsns.barplot(x=\"Greaterthan70\", y=\"Collaborative Teachers Rating\",data=a,color=\"blue\") ","41dca6ce":"sns.lmplot(x=\"Average ELA Proficiency\", y=\"Average Math Proficiency\", hue=\"Community School?\", markers=[\"*\",\"+\"], palette=\"Set2\", data=df)","8dc4dc7a":"col1=['Rigorous Instruction %']\ndf[col1]=df[col1].replace({'\\%':' '},regex=True)\ndf[col1]=df[col1].astype('float64')\ncol2=['Effective School Leadership %']\ndf[col2]=df[col2].replace({'\\%':' '},regex=True)\ndf[col2]=df[col2].astype('float64')\ncol3=['Collaborative Teachers %']\ndf[col3]=df[col3].replace({'\\%':' '},regex=True)\ndf[col3]=df[col3].astype('float64')\ncol4=['Percent of Students Chronically Absent']\ndf[col4]=df[col4].replace({'\\%':' '},regex=True)\ndf[col4]=df[col4].astype('float64')\ncol5=['Supportive Environment %']\ndf[col5]=df[col5].replace({'\\%':' '},regex=True)\ndf[col5]=df[col5].astype('float64')\n","c6db8f2b":"a=df[col1]\nb=df[col2]\nc=df[col3]\nd=df[col4]\ne=df[col5]\nresult=pd.concat([a, b,c,d,e], axis=1)\n#result\nplt.figure(1)\nsns.jointplot(x=\"Percent of Students Chronically Absent\", y=\"Supportive Environment %\",data=result)\nplt.figure(2)\nsns.jointplot(y=\"Effective School Leadership %\", x=\"Rigorous Instruction %\",data=result)\nplt.figure(3)\nsns.jointplot(y=\"Effective School Leadership %\", x=\"Collaborative Teachers %\",data=result)","039ca70e":"#Display the Mean ELA and Math Scores for Black\/Hispanic Dominant Schools\ndf[df['Percent Black \/ Hispanic'] >= '70%'][['Average ELA Proficiency','Average Math Proficiency']].mean()","bbc79c7d":"#Display the Mean ELA and Math Scores for White\/Asian Dominant Schools\ndf[df['Percent Black \/ Hispanic'] <= '30%'][['Average ELA Proficiency','Average Math Proficiency']].mean()","637268cd":"# Create New Column for Black\/Hispanic Dominant Schools\ndf['Black_Hispanic_Dominant'] = df['Percent Black \/ Hispanic'] >='70%'\n\n#KDEPlot: Kernel Density Estimate Plot\nfig = plt.figure(figsize=(15,4))\nax=sns.kdeplot(df.loc[(df['Black_Hispanic_Dominant'] == True),'Average Math Proficiency'] , color='b',shade=True, label='Black\/Hispanic Dominant School')\nax=sns.kdeplot(df.loc[(df['Black_Hispanic_Dominant'] == False),'Average Math Proficiency'] , color='r',shade=True, label='Asian\/White Dominant School')\nplt.title('Average Math Proficiency Distribution by Race')\nplt.xlabel('Average Math Proficiency Score')\nplt.ylabel('Frequency Count')","79af744c":"#KDEPlot: Kernel Density Estimate Plot\nfig = plt.figure(figsize=(15,4))\nax=sns.kdeplot(df.loc[(df['Black_Hispanic_Dominant'] == True),'Average ELA Proficiency'] , color='b',shade=True, label='Black\/Hispanic Dominant School')\nax=sns.kdeplot(df.loc[(df['Black_Hispanic_Dominant'] == False),'Average ELA Proficiency'] , color='r',shade=True, label='Asian\/White Dominant School')\nplt.title('Average ELA Proficiency Distribution by Race')\nplt.xlabel('Average ELA Proficiency Score')\nplt.ylabel('Frequency Count')","2a9d1e60":"city = df.groupby('City')['Zip'].count()\ncommunity=df[df[\"Community School?\"]=='Yes'].groupby('City')['Zip'].count()\nmerge=pd.concat([city,community],axis=1)\nmerge.fillna(0, inplace=True)\nmerge.columns=['Number_of_schools','Number_of_CommunitySchools']\nmerge.sort_values(by=['Number_of_schools','Number_of_CommunitySchools'],ascending=False)\ntop_10=merge.iloc[:10,]\nprint(top_10)\ntop_10[['Number_of_schools','Number_of_CommunitySchools']].plot(kind='bar', stacked=True)","778628e9":"Ques-5: What is the association between students chronically missing schools (being absent) and supportive environment rating?\nQues 6: Show how rigorous instruction and collaborative teachers rating affect effective school leadership?","5359f75a":"When supporting environment> 70%, most teachers are either exceeding or meeting target","4b5ad518":"There is a positive linear relationship between Average ELA and average Math proficiency.The presence of community schools is marked by lower values of average ELA and average Math proficiency.","870c2734":"The graph shows that most of the community schools are present in those areas where economic need index are high.Some cities like New York have different areas\/schools with different economic need index","c297758a":"Ques-8 : Finding the top 10 cities with most schools and community schools","056d9ab1":"Ques-2: What is the distribution of student attendance rate in community school in New York and Brooklyn?","9f9138ae":"ANALYSIS\nQues-1: What is the distribution between city and economic need index based on the presence of community school? Taking only top 500 schools based on economic need index","554af410":"Ques-3:Finding the distribution of collaborative teachers rating having supportive environment%>70%","abc175d6":"Brooklyn has the most number of community and non community schools followed by Bronx","8c1d1880":"Ques 4: What is the association between average ELA profiency and average Math Proficiency based on the presence of community school?","c94eb635":"Student attendance rate is between 86 to 94 percent and most occuring values are 86 and 89%","31a80764":"Missing value analysis","6a5328b3":"Treating duplicate data","3b2fcb98":"Ques-7: Display the average ELA and math proficiency score for black\/hispanic and asian\/white dominant schools","5e764a94":"Supportive environment has little or no effect on the percentage of students chronically absent. Supportive environment % is between 80 and 100% and percent of students chronically absent is mostly between 0 and 50%.\nBoth collaborative teachers rating and rigorous instruction have a positive and linear impact on effective school leadership"}}