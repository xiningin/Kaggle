{"cell_type":{"878fe4b6":"code","bfb7b91f":"code","4fcdc273":"code","9133f502":"code","2ba5aa96":"code","dfb7d13b":"code","a375dc23":"code","1156a6c1":"code","0be26a46":"code","357c6e9d":"code","e022a61d":"code","0dbcd763":"code","8637d998":"code","c116c3c5":"code","61a80b28":"code","437ce741":"code","57248fd1":"code","56c02b71":"code","47f83f64":"code","ef45593a":"code","cd967239":"code","cf48eb6f":"code","29e7ef11":"code","d2d54b33":"code","81c9af2b":"code","f635f15d":"code","63099fa9":"code","111dac04":"code","a6be4b9b":"code","7bd61050":"code","421cf5f0":"code","f2366311":"code","9363e34f":"code","98c028c9":"code","c12dced9":"code","1a3f4f52":"code","fd0a6eb2":"code","971c4a9c":"code","c97a360c":"code","f7739cf5":"code","1b3231e2":"code","060b9313":"code","54de0b75":"code","6ae61ded":"code","cfe87ef2":"markdown","70d244e2":"markdown","2a296c99":"markdown","14b3d3e5":"markdown","271e2b9a":"markdown","adca7ac9":"markdown","5291b592":"markdown","b6cd9a44":"markdown","6dda238c":"markdown","8a78e951":"markdown","9171d288":"markdown","0890f69d":"markdown","48e841c6":"markdown","a08c8dba":"markdown","095f391c":"markdown","a08b1b2a":"markdown","499cab7a":"markdown","e61c4ef6":"markdown","e59b93cf":"markdown","eb1706f9":"markdown","93185e31":"markdown","ae29b5c6":"markdown","bbf07bca":"markdown","4fb0eccc":"markdown","50f0b763":"markdown","71fc810c":"markdown","86b84f8e":"markdown","e6e1e010":"markdown","9286502d":"markdown","12b044f3":"markdown","f80443cb":"markdown","cead3761":"markdown","0ed145cf":"markdown","6bb15733":"markdown","04478ece":"markdown","0e3e9558":"markdown","cda07e54":"markdown","afc567b6":"markdown"},"source":{"878fe4b6":"import numpy as np\nimport pandas as pd","bfb7b91f":"data=pd.read_csv('..\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')\ndata","4fcdc273":"data.info()","9133f502":"## check columnwise missing values\ndata.isnull().sum()","2ba5aa96":"data.drop(['salary',\"sl_no\"], axis = 1,inplace=True)","dfb7d13b":"data.describe(include='object')","a375dc23":"#Import matplotlib and seaborn for data visualisation\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","1156a6c1":"fig, ax1 = plt.subplots(figsize=(12,5))\ngraph=sns.countplot(x='status',data=data,order=data.status.value_counts().index)\ngraph.set_xticklabels(graph.get_xticklabels(),rotation=90)\ni=0\nfor p in graph.patches:\n    height = p.get_height()\n    graph.text(p.get_x()+p.get_width()\/2., height + 0.1,\n        data['status'].value_counts()[i],ha=\"center\")\n    i += 1","0be26a46":"sns.countplot(data[\"workex\"])","357c6e9d":"# Change target varaible to numeric(0 and1)\ndata[\"status\"]=data.apply(lambda x: 1 if x.status==\"Placed\" else 0,axis=1)","e022a61d":"# variable 'workex'\ndata.groupby(\"workex\")[\"status\"].mean()","0dbcd763":"sns.barplot(x='workex',y='status',data=data)","8637d998":"data.groupby(\"gender\")[\"status\"].mean()","c116c3c5":"data.groupby(\"ssc_b\")[\"status\"].mean()","61a80b28":"#### similarly check hsc_b(board of eduction in hsc)\ndata.groupby(\"hsc_b\")[\"status\"].mean()","437ce741":"#### hsc_s (hsc specialization)","57248fd1":"data.groupby(\"hsc_s\")[\"status\"].mean()\n","56c02b71":"sns.barplot(x='hsc_s',y='status',data=data)","47f83f64":"data['hsc_s']=data['hsc_s'].apply(lambda x: \"com\/sci\" if (x==\"Commerce\" or x==\"Science\") else \"Arts\")","ef45593a":"data.groupby(\"degree_t\")[\"status\"].mean()","cd967239":"data['degree_t']=data['degree_t'].apply(lambda x: \"Com\/sci\" if (x==\"Comm&Mgmt\" or x==\"Sci&Tech\") else \"Others\")","cf48eb6f":"data.groupby(\"specialisation\")[\"status\"].mean()","29e7ef11":"data.describe()","d2d54b33":"#### correlation with target\ndata.corr()","81c9af2b":"plt.figure(figsize=(8,5))\nsns.heatmap(data.corr(),\n            vmin=-1,\n            cmap='coolwarm',\n            annot=True);","f635f15d":"sns.pairplot(data,hue='status')","63099fa9":"##lets check ssc_p\nsns.distplot(data[\"ssc_p\"])","111dac04":"sns.boxplot(\"status\",\"ssc_p\",data=data)\n","a6be4b9b":"#### Boxplot clearly shows that higher mean ssc_p are in Placed status(1)","7bd61050":"sns.factorplot(x='gender',y='ssc_p' , col='workex', data=data , hue='status' , kind = 'box', palette=['r','g'])","421cf5f0":"sns.factorplot(x='gender',y='ssc_p' , col='workex', data=data , hue='status' , kind = 'violin', palette=['r','g'])","f2366311":"data = pd.get_dummies( data,drop_first=True)","9363e34f":"X = data.drop('status', axis=1)\ny = data['status']","98c028c9":"from sklearn.model_selection import train_test_split\n# implementing train-test-split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.33, random_state=66)","c12dced9":"from sklearn.tree import DecisionTreeClassifier\ndtree = DecisionTreeClassifier()","1a3f4f52":"dtree.fit(X_train,y_train)","fd0a6eb2":"predictions = dtree.predict(X_test)","971c4a9c":"from sklearn.metrics import classification_report,confusion_matrix\nprint(confusion_matrix(y_test,predictions))\nprint(classification_report(y_test,predictions))","c97a360c":"from sklearn.metrics import roc_auc_score\nauc = roc_auc_score(y_test, predictions)\nauc","f7739cf5":"from sklearn.ensemble import RandomForestClassifier\nrfc = RandomForestClassifier(n_estimators=100)\nrfc.fit(X_train, y_train)","1b3231e2":"rfc_pred = rfc.predict(X_test)","060b9313":"print(confusion_matrix(y_test,rfc_pred))","54de0b75":"print(classification_report(y_test,rfc_pred))\n\n","6ae61ded":"auc = roc_auc_score(y_test, rfc_pred)\nauc","cfe87ef2":"#### Above table shows the description of categorical varaibles i,e count,unique,top and frequency of  levels.Lets start with univariate analysis of target variable(status).","70d244e2":"#### Prediction and Evaluation","2a296c99":"The dataset contains 215 and 15 columns.","14b3d3e5":"Drop salary ans sl_no","271e2b9a":"#### If we compare single decision tree and random forest algorithem, the accuracy of random forest is 0.90 and that of single decision tree is 0.86. Also area under the curve is high in random forest.","adca7ac9":"From table and barplot it is clear that mean value of number of placed student with workex is more(.864) than no workex(.594).","5291b592":"## Random Forest","b6cd9a44":"### Workex(Work Experience)","6dda238c":"Now degree_t(Under Graduation(Degree type)- Field of degree education)","8a78e951":"#### Area under curve","9171d288":"Again comm&mgmt ans sci&Tech responsing same ways with status ,so covert it too single","0890f69d":"Now code the categorical varaibles to dummies for model building","48e841c6":"Only Salary varaible has 67 missing values. As salary is post placement attribute and our aim is to find whether the student got placed or not.Therfore its better to drop it. Also column sl_no has no use in prediction.So drop both variables","a08c8dba":"Pairplot","095f391c":"Heatmap ","a08b1b2a":"![](http:\/\/)#### Area under curve is .797 which is okk.","499cab7a":"#### We can see out of total (215) 148 students are placed and 67 not placed.","e61c4ef6":"#### Our decision tree predicts 14 0's as correct zeros but 8 as wrong zeros . similarly 47  1's as correct 1's and 2 as wrong 1's which are actually zeros. Accuracy is 0.86.","e59b93cf":"## Decision Tree classifier","eb1706f9":"#### \"specialisation\"(Post Graduation(MBA)- Specialization)","93185e31":"## Model Building","ae29b5c6":"#### most of the females having ssc_p between 70-80 are placed(high density)","bbf07bca":"from correlation table ssc_p is higly correlated with placement (.607)","4fb0eccc":"#### ssc_b (board of education) either central or other does not make any high impact on placement","50f0b763":"### Bivariate analysis of categorical variables with respect to target variable","71fc810c":"## Data Exploration","86b84f8e":"#### Now Area under curve","e6e1e010":"Mkt&Fin have high placement percentage than MktH","9286502d":"#### No of students with workexperience are less.","12b044f3":"### Train-Test split","f80443cb":"### Now numeric Variables","cead3761":"### Bivariate Analysis","0ed145cf":"#### For model building first we will make single decision tree classifier and then Random Forest.","6bb15733":"#### check variable 'gender'","04478ece":"#### Percentage of placed students in male category are slighly more than female.","0e3e9558":"#### For Exploring the data first all categorical features are taken and analysed (univariate and bivariate analysis) and then continous features.","cda07e54":"as we can see placement number commerec and science students are more than arts.infact commerce and science reponding same way. Therefore consider commerce and science as single level \"com\/sci\".","afc567b6":"* #### ssc_b (board of education)"}}