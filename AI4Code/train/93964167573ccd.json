{"cell_type":{"9831838c":"code","f1562d53":"code","e641a921":"code","89d8c3f7":"code","403267dc":"code","5ddec81d":"code","5fbc2b22":"code","04c89f77":"code","b975abae":"code","a8e19cc0":"code","bbd48726":"code","ebf2dfba":"code","2dbf2993":"code","95c7d458":"code","38b513b7":"code","c2df21cf":"code","66f6dfd0":"code","ffea0ba0":"code","e5163266":"code","6fe98be1":"code","3509e911":"code","eb155581":"code","170a1407":"code","a7fd460c":"code","c93fc636":"code","61999ca9":"code","bc7af71b":"code","e94c8f96":"code","cc93183f":"code","83b496cd":"markdown","1306a968":"markdown","ad079b24":"markdown","247d14f2":"markdown","95b35a47":"markdown","73a51d10":"markdown","86206bd3":"markdown","c8c7c1b8":"markdown","0cc8ae67":"markdown","fadb9b76":"markdown","a11bb6d0":"markdown","65544ac4":"markdown","1d82f7e7":"markdown","c53984be":"markdown","d6e211de":"markdown","0710e9d1":"markdown","32948b0b":"markdown","63416469":"markdown","3f54e139":"markdown","dc24cf21":"markdown","9ed4322d":"markdown","81183dc8":"markdown","3d8064a6":"markdown","d89f4c06":"markdown","685360f7":"markdown","52e97728":"markdown","59b127d3":"markdown","3b689c09":"markdown","3606ae56":"markdown","71dea185":"markdown","e3e07970":"markdown","b35f5930":"markdown","e2f7e995":"markdown","2fb6e652":"markdown","39211fc1":"markdown","26e49266":"markdown","a261c07f":"markdown","00ad0afa":"markdown","8cd11aa1":"markdown","b25ec43b":"markdown","bcfa4513":"markdown","e444e764":"markdown","ac5a1b0d":"markdown","79ba8ccf":"markdown","aa48ff3e":"markdown","da995a00":"markdown"},"source":{"9831838c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f1562d53":"# imports\nimport pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nsns.set_style('darkgrid')\nimport plotly.express as px\nfrom scipy import stats\nimport statsmodels.api as sm","e641a921":"# data loading\ndf_og = pd.read_csv('\/kaggle\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv')\n\ndf_pop = pd.read_csv('\/kaggle\/input\/population-by-country-2021\/2021_country_populations.csv', \n                     encoding='Latin-1')\n\ndf_pop['Country (or dependency)'].replace({'Czech Republic (Czechia)':'Czech Republic'}, inplace=True)\n\n\n# remove questions\ndf = df_og.iloc[1:, :].copy()\n\n\n# create ID column\ndf['ID'] = df.index\n\n\n# map to convert earnings bins to midpoint\nearnings_map = {\n '$0-999': 500,\n '100,000-124,999': 112500,\n '10,000-14,999': 12500,\n '1,000-1,999': 1500,\n '40,000-49,999': 45000,\n '30,000-39,999': 35000,\n '50,000-59,999': 55000,\n '5,000-7,499': 6250,\n '15,000-19,999': 17500,\n '70,000-79,999': 75000,\n '60,000-69,999': 65000,\n '20,000-24,999': 22500,\n '150,000-199,999': 175000,\n '7,500-9,999': 8650,\n '125,000-149,999': 137500,\n '2,000-2,999': 2500,\n '25,000-29,999': 27500,\n '90,000-99,999': 95000,\n '80,000-89,999': 85000,\n '4,000-4,999': 4500,\n '3,000-3,999': 3500,\n '200,000-249,999': 225000,\n '300,000-499,999': 400000,\n '250,000-299,999': 275000,\n '$500,000-999,999': 750000,\n '>$1,000,000': 1200000\n}\n\ndf['earnings'] = df['Q25'].replace(earnings_map)\n\ncost = pd.read_csv('\/kaggle\/input\/cost-of-living-index-by-country-numbeo-2021\/2021_cost_of_living_rankings_by_country.csv')\n\ncost = cost[['Country', 'Cost of Living Index']]\n\nUSA_coli = cost[cost['Country']=='United States']['Cost of Living Index'].values[0]\n\n# change kaggle countries to match numbeo index\nname_changes = {'Hong Kong (S.A.R.)' : 'Hong Kong',\n 'Iran, Islamic Republic of...' : 'Iran',\n 'United Kingdom of Great Britain and Northern Ireland' : 'United Kingdom',\n 'United States of America' : 'United States',\n 'Viet Nam' : 'Vietnam'}\n\ndf['Q3'] = df['Q3'].replace(name_changes)\n\n# getting normalized earnings\ndf = df.merge(cost, how='left', left_on='Q3', right_on='Country')\ndf['earnings_norm'] = (\n    df['earnings'] \/ df['Cost of Living Index']\n) \n\ndf['earnings_norm_US'] = df['earnings_norm'] * USA_coli\n\n\n# age mapping\nage_mapping = {\n    '18-21' : 19.5,\n    '22-24' : 23,\n    '25-29' : 27,\n    '30-34' : 32,\n    '35-39' : 37,\n    '40-44' : 42,\n    '45-49' : 47,\n    '50-54' : 52,\n    '55-59' : 57,\n    '60-69' : 64.5,\n    '70+' : 75\n}\n\ndf['Q1_num'] = df['Q1'].replace(age_mapping)\n\n\n# education mapping\nedu_mapping = {\n    'Master\u2019s degree' : 6,\n    'Bachelor\u2019s degree' : 4,\n    'Doctoral degree' : 10,\n    'Some college\/university study without earning a bachelor\u2019s degree' : 2,\n    'I prefer not to answer' : 0,\n    'No formal education past high school' : 0,\n    'Professional doctorate' : 10\n}\n\ndf['Q4_num'] = df['Q4'].replace(edu_mapping)\n\n\n# years coding mapping\nyears_coding_mapping = {\n    '1-3 years' : 2,\n    '10-20 years' : 15,\n    '20+ years' : 25,\n    '3-5 years' : 4,\n    '5-10 years' : 7.5,\n    '< 1 years' : 0.5,\n    'I have never written code' : 0\n}\n\ndf['Q6_num'] = df['Q6'].replace(years_coding_mapping)\n\n\n# ML mapping\nML_mapping = {\n    'Under 1 year' : 0.5,\n    '1-2 years' : 1.5,\n    'I do not use machine learning methods' : 0,\n    '2-3 years' : 2.5,\n    '3-4 years' : 3.5,\n    '5-10 years' : 7.5,\n    '4-5 years' : 4.5,\n    '10-20 years' : 15,\n    '20 or more years' : 25\n}\n\ndf['Q15_num'] = df['Q15'].replace(ML_mapping)\n\n\n# shorten Q24 answers\nog_strings = ['Analyze and understand data to influence product or business decisions',\n'Build and\/or run the data infrastructure that my business uses for storing, analyzing, and operationalizing data',\n'Build prototypes to explore applying machine learning to new areas',\n'Build and\/or run a machine learning service that operationally improves my product or workflows',\n'Experimentation and iteration to improve existing ML models',\n'Do research that advances the state of the art of machine learning',\n'None of these activities are an important part of my role at work']\n\nshortened_strings = [\n    'Analyze data for business decisions',\n    'Build the data infrastructure',\n    'Build ML prototypes in new areas',\n    'Build ML services for products\/workflows',\n    'Improving existing ML models',\n    'Research to advance ML',\n    'None']\n\nreplace_dict = dict(zip(og_strings, shortened_strings))\n\nfor col in [col for col in df.columns if 'Q24' in col]:\n    df[col].replace(replace_dict, inplace=True)\n\n\n# shorten Q40 answers\nQ40_part9_map = {'Cloud-certification programs (direct from AWS, Azure, GCP, or similar)':\n                 'Cloud-certification'}\ndf['Q40_Part_9'].replace(Q40_part9_map, inplace=True)\n\nQ40_part10_map = {'University Courses (resulting in a university degree)':\n                  'University Courses'}\ndf['Q40_Part_10'].replace(Q40_part10_map, inplace=True)\n\n\n\n# shorten Q11 answers\nQ11_map = {\n    'A deep learning workstation (NVIDIA GTX, LambdaLabs, etc)':\n        'A Deep learning workstation',\n    'A cloud computing platform (AWS, Azure, GCP, hosted notebooks, etc)':\n        'A cloud computing platform'\n}\n\ndf['Q11'].replace(Q11_map, inplace=True)","89d8c3f7":"# get all professionals\ndf_p = df[~(df['Q5'].isin(['Student', 'Currently not employed']))].copy()\n\n\n# get data professionals\ndf_data_p = df_p[\n    ~(df_p['Q24_Part_1'].isnull()) | ~(df_p['Q24_Part_2'].isnull()) | ~(df_p['Q24_Part_3'].isnull()) | \n    ~(df_p['Q24_Part_4'].isnull()) | ~(df_p['Q24_Part_5'].isnull()) | ~(df_p['Q24_Part_6'].isnull())          \n].copy()\n\nprint(f'Number of survey responses: {df.shape[0]}')\nprint(f'Number of \"professionals\": {df_p.shape[0]}')\nprint(f'Number of \"data professionals\": {df_data_p.shape[0]}')\nprint(f'Number of non-data professionals: {df_p.shape[0]-df_data_p.shape[0]}')","403267dc":"df_analyst = df_p[~df_p['Q24_Part_1'].isnull()]\n\nprint(f'Number of analysts: {df_analyst.shape[0]}')","5ddec81d":"Q24_df = df_p[['Q24_Part_1', 'Q5']].copy()\nQ24_df['Q24_Part_1'] = Q24_df['Q24_Part_1'].apply(lambda x: True if type(x)==str else False)\n\nQ24_df_grouped = (\n    Q24_df\n    .groupby('Q5')\n    .agg(\n        sum=('Q24_Part_1', 'sum'),\n        count=('Q24_Part_1', 'count')\n    )\n    .reset_index()\n)\n\nQ24_df_grouped['pct'] = Q24_df_grouped['sum'] \/ Q24_df_grouped['count']\n\nQ24_df_grouped = Q24_df_grouped.sort_values('pct')\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Prevalence of Analytical Work<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of individuals in each field that selected option 1 for Q24<\/span>\n'''\n\nfig = px.bar(\n    Q24_df_grouped, \n    x='pct', y='Q5', orientation='h', \n    title=title,\n    # title='<b>Percentage of jobs performing analytical work<b><br><sup>subtitle<\/sup>',\n    labels={'Q5':'Job Title', 'pct':'Percentage'}, text='pct'\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [base_color]*10 + [highlight_color]*3)\n)\nfig.update_layout(\n    xaxis={'tickformat':'.0%', 'title':''},\n    yaxis={'title':''},\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.show()","5fbc2b22":"# checking pareto principle\npareto_pct = Q24_df_grouped.tail(3)['sum'].sum() \/ Q24_df_grouped['sum'].sum()\ntop_3_prop = 3\/13\nprint(f'Top 3 jobs ({top_3_prop:.2f}) make up {pareto_pct:.2f} of analysts')","04c89f77":"df_analyst = df_analyst[df_analyst['Q5'].isin(['Data Analyst', 'Business Analyst', 'Data Scientist'])]\nprint(f'Number of analysts: {df_analyst.shape[0]}')","b975abae":"df_analyst = df_analyst[\n           (df_analyst['Q24_Part_4'].isnull()) & \n           (df_analyst['Q24_Part_5'].isnull()) & \n           (df_analyst['Q24_Part_6'].isnull())\n]\n\n# proportions\nDA_pct = df_analyst[df_analyst['Q5']=='Data Analyst'].shape[0] \/ df_p[df_p['Q5']=='Data Analyst'].shape[0]\nBA_pct = df_analyst[df_analyst['Q5']=='Business Analyst'].shape[0] \/ df_p[df_p['Q5']=='Business Analyst'].shape[0]\nDS_pct = df_analyst[df_analyst['Q5']=='Data Scientist'].shape[0] \/ df_p[df_p['Q5']=='Data Scientist'].shape[0]\n\n\ndf_display = pd.DataFrame()\ndf_display['Field Name'] = ['Final # of analysts', '# Professionals', '# Non-data Professionals',\n                            '% of professionals selected', '% of Data Analysts selected', \n                            '% of Business Analysts selected', '% of Data Scientists Selected']\ndf_display['Field Quantity'] = [int(df_analyst.shape[0]), \n                                int(df_p.shape[0]),\n                                int(df_p.shape[0]-df_data_p.shape[0]),\n                                '{:.2%}'.format(df_analyst.shape[0]\/df_p.shape[0]), \n                               '{:.2%}'.format(DA_pct), \n                                '{:.2%}'.format(BA_pct), \n                                '{:.2%}'.format(DS_pct)]\n\ndf_display","a8e19cc0":"# role specific dataset\ndf_DA = df_analyst[df_analyst['Q5']=='Data Analyst'].copy()\ndf_BA = df_analyst[df_analyst['Q5']=='Business Analyst'].copy()\ndf_DS = df_analyst[df_analyst['Q5']=='Data Scientist'].copy()\n\n# creating a dataset for analysts and non-analysts\nanalyst_index = df_analyst.index\ndf_other = df_p[~df_p.index.isin(analyst_index)].copy()\n\n# check that shape works out\nprint(df_p.shape[0])\nprint(df_analyst.shape[0])\nprint(df_other.shape[0])\nprint(df_analyst.shape[0] + df_other.shape[0])\n\n# create a dataset with all individuals and an \"Analyst?\" identifier column\ndf_analyst['Analyst?'] = True\ndf_other['Analyst?'] = False\ndf_all = df_analyst.append(df_other)\n\n# cast \"Analyst?\" as 0\/1 for use in simple regression modeling\ndf_regression = df_all.copy()\ndf_regression['Analyst_num'] = df_regression['Analyst?'].astype(int)","bbd48726":"analyst_age_pct = df_analyst.groupby(['Q1']).agg(count=('ID', 'count')).reset_index()\nother_age_pct = df_other.groupby(['Q1']).agg(count=('ID', 'count')).reset_index()\n\nanalyst_count, other_count = df_analyst.shape[0], df_other.shape[0]\n\nanalyst_age_pct['pct'] = analyst_age_pct['count'] \/ analyst_count\nother_age_pct['pct'] = other_age_pct['count'] \/ other_count\n\nanalyst_age_pct['pct_string'] = analyst_age_pct['pct'].apply(lambda x: '{:.2%}'.format(x))\nother_age_pct['pct_string'] = other_age_pct['pct'].apply(lambda x: '{:.2%}'.format(x))\n\n\n# all_pct = pd.concat([analyst_age_pct, other_age_pct], axis=)\nall_pct = analyst_age_pct.merge(other_age_pct, on='Q1', how='left', suffixes=('_analyst', '_other'))\n\nall_pct_plot = all_pct[['Q1', 'pct_analyst', 'pct_other']].sort_values('Q1', ascending=False)\n\nall_pct_plot = all_pct_plot.set_index('Q1')\n\n\n# print means and medians\nprint(f\"Analyst mean age: {df_analyst['Q1_num'].mean()}\")\nprint(f\"Non-analyst mean age: {df_other['Q1_num'].mean()}\")\n\nprint(f\"Analyst median age: {df_analyst['Q1_num'].median()}\")\nprint(f\"Non-analyst median age: {df_other['Q1_num'].median()}\")\n\nprint(stats.ttest_ind(df_analyst['Q1_num'], df_other['Q1_num']))\n\n\n# actual plot\nsns.set(rc={'figure.facecolor':'beige', 'axes.facecolor':'beige'})\nfig, ax = plt.subplots(figsize=(8, 8))\ncolormap = sns.light_palette(\"seagreen\", as_cmap=True)\nsns.heatmap(all_pct_plot, cmap=colormap, annot=True, fmt='.1%', ax=ax)\n\nfor i in range(all_pct_plot.shape[0]+1):\n    ax.axvline(i, color='beige', lw=50)\n\n# the y of these lines isn't 100% accurate because of weird boundaries in the ranges\nax.axhline(7.5, xmin=0.05, xmax=0.45, color='red')\nax.axhline(7, xmin=0.55, xmax=0.95, color='red')\n\nplt.yticks(rotation=360)\nplt.xlabel('')\nplt.ylabel('')\nplt.xticks([])","ebf2dfba":"df_pop['Population_num'] = df_pop['Population'].str.replace(',', '')\ndf_pop['Population_num'] = df_pop['Population_num'].astype(float)\n\ndf_analyst_location = df_analyst.groupby('Q3').agg(count=('ID', 'count')).reset_index()\ndf_analyst_location = df_analyst_location.merge(df_pop, how='left', left_on='Q3', right_on='Country (or dependency)')\ndf_analyst_location['metric'] = df_analyst_location['count'] \/ df_analyst_location['Population_num'] * 1000000\n\n\n# the actual plot\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Analyst vs. Population by Country<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Color represents the # of analysts that responded in a country \/ population * 1M (for scaling)<\/span>\n'''\n\nfig = px.choropleth(\n    df_analyst_location, locations='Q3', color='metric', \n    locationmode='country names',\n    title = title, hover_data=['count'],\n    labels={'metric':'Metric', 'count':'# of Analysts'},\n    color_continuous_scale='greens'\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)","2dbf2993":"df_industry = (\n    df_all\n    .groupby(['Analyst?'])\n    ['Q20']\n    .value_counts(normalize=True)\n    .to_frame()\n    .rename(columns={'Q20':'pct'})\n    .reset_index()\n    .sort_values('pct')\n)\n\ndf_industry['Q20'] = df_industry['Q20'].apply(\n    lambda x: x.split('\/')[0]\n)\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Distribution of Company Industry<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts and non-analysts in each industry<\/span>\n'''\n\nfig = px.bar(\n    df_industry, \n    x='pct', y='Q20', orientation='h',\n    title=title,\n    facet_col='Analyst?',\n    labels={'Q20':'Industry', 'pct':'Percentage'}, text='pct',\n    height=700,\n    category_orders={'Analyst?':[True, False]}\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [base_color]*15 + [highlight_color]*3)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(tickformat='.0%', title='')\nfig.update_yaxes(title='')\n\nfig.show()","95c7d458":"df_edu_analyst = (\n    df_analyst['Q4']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q4':'pct', 'index':'Level of Education'})\n)\ndf_edu_analyst['Analyst?'] = True\n\ndf_edu_other = (\n    df_other['Q4']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q4':'pct', 'index':'Level of Education'})\n)\ndf_edu_other['Analyst?'] = False\n\ndf_edu_all = df_edu_analyst.merge(df_edu_other, how='left', on='Level of Education', suffixes=('_analyst', '_other'))\n\ndf_edu_all['Analyst %'] = df_edu_all['pct_analyst'].apply(lambda x: '{:.2%}'.format(x))\ndf_edu_all['Non-analyst %'] = df_edu_all['pct_other'].apply(lambda x: '{:.2%}'.format(x))\n\ndf_display = df_edu_all.iloc[[4, 5, 3, 1, 0, 6, 2], :].reset_index(drop=True)\ndf_display[['Level of Education', 'Analyst %', 'Non-analyst %']]","38b513b7":"analyst_mean = df_analyst['Q4_num'].mean()\nother_mean = df_other['Q4_num'].mean()\n\nprint(f'Analyst mean: {analyst_mean}')\nprint(f'Non-analyst mean: {other_mean}')\nprint(stats.ttest_ind(df_analyst['Q4_num'], df_other['Q4_num']))\n\n\n# regression without controlling for age\nX = df_regression[['Analyst_num']]\ny = df_regression['Q4_num']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())\n\n\n# regression with controlling for age\nX = df_regression[['Analyst_num', 'Q1_num']]\ny = df_regression['Q4_num']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())","c2df21cf":"df_coding_analyst = (\n    df_analyst['Q6']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q6':'pct', 'index':'Years Coding'})\n)\ndf_coding_analyst['Analyst?'] = True\n\ndf_coding_other = (\n    df_other['Q6']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q6':'pct', 'index':'Years Coding'})\n)\ndf_coding_other['Analyst?'] = False\n\n\ndf_coding_all = df_coding_analyst.merge(df_coding_other, how='left', on='Years Coding', suffixes=('_analyst', '_other'))\ndf_coding_all['Years Coding'].replace({'I have never written code':'0 years'}, inplace=True)\ndf_coding_all.rename(columns={'pct_analyst':'% Analyst', 'pct_other':'% Non-analyst'}, inplace=True)\n\n\ndf_coding_plot = df_coding_all[['Years Coding', '% Analyst', '% Non-analyst']].set_index('Years Coding')\ndf_coding_plot = df_coding_plot.loc[['20+ years', '10-20 years', '5-10 years',\n                                     '3-5 years', '1-3 years', '< 1 years',\n                                     '0 years'], :]\n\n\n# finding + printing means\nprint(f\"Analyst average years of coding experience: {df_analyst['Q6_num'].mean()}\")\nprint(f\"Non-analyst average years of coding experience: {df_other['Q6_num'].mean()}\")\n# strong evidence that there's a significant difference in coding experience\nprint(stats.ttest_ind(df_analyst['Q6_num'], df_other['Q6_num']))\n\n\n# actual plot\nsns.set(rc={'figure.facecolor':'beige', 'axes.facecolor':'beige'})\nfig, ax = plt.subplots(figsize=(8, 8))\ncolormap = sns.light_palette(\"seagreen\", as_cmap=True)\nsns.heatmap(df_coding_plot, cmap=colormap, annot=True, fmt='.1%', ax=ax)\n\nfor i in range(all_pct_plot.shape[0]+1):\n    ax.axvline(i, color='beige', lw=50)\n\n# the y of these lines isn't 100% accurate because of weird boundaries in the ranges\nax.axhline(3.4, xmin=0.05, xmax=0.45, color='red')\nax.axhline(2.55, xmin=0.55, xmax=0.95, color='red')\n\nplt.yticks(rotation=360)\nplt.xlabel('')\nplt.ylabel('')\nplt.xticks([])","66f6dfd0":"analyst_mean = df_analyst['Q6_num'].mean()\nother_mean = df_other['Q6_num'].mean()\n\nprint(f'Analyst mean: {analyst_mean}')\nprint(f'Non-analyst mean: {other_mean}')\nprint(stats.ttest_ind(df_analyst['Q6_num'], df_other['Q6_num']))\n\n\n# regression without controlling for age\nX = df_regression[['Analyst_num']]\ny = df_regression['Q6_num']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())\n\n\n# regression with controlling for age\nX = df_regression[['Analyst_num', 'Q1_num', 'Q4_num']]\ny = df_regression['Q6_num']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())","ffea0ba0":"df_analyst_coding = df_analyst[(df_analyst['Q6'] != 'I have never written code')].copy()\ndf_analyst_coding.dropna(subset=[col for col in df_analyst.columns if 'Q15' in col], how='all', inplace=True)\ndf_other_coding = df_other[(df_other['Q6'] != 'I have never written code')].copy()\ndf_other_coding.dropna(subset=[col for col in df_other.columns if 'Q15' in col], how='all', inplace=True)\n\n\ndf_ML_analyst = (\n    df_analyst_coding['Q15']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q15':'pct', 'index':'Years Using ML'})\n)\ndf_ML_analyst['Analyst?'] = True\n\ndf_ML_other = (\n    df_other_coding['Q15']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q15':'pct', 'index':'Years Using ML'})\n)\ndf_ML_other['Analyst?'] = False\n\n\ndf_ML_all = df_ML_analyst.merge(df_ML_other, how='left', on='Years Using ML', suffixes=('_analyst', '_other'))\ndf_ML_all['Years Using ML'].replace({\n    'I do not use machine learning methods':'0 years',\n    '20 or more years':'20+ years', 'Under 1 year':'< 1 years'\n    }, inplace=True)\ndf_ML_all.rename(columns={'pct_analyst':'% Analyst', 'pct_other':'% Non-analyst'}, inplace=True)\n\n\ndf_ML_plot = df_ML_all[['Years Using ML', '% Analyst', '% Non-analyst']].set_index('Years Using ML')\ndf_ML_plot = df_ML_plot.loc[['20+ years', '10-20 years', '5-10 years',\n                             '4-5 years', '3-4 years', '2-3 years', '1-2 years',\n                             '< 1 years', '0 years'], :]\n\n\n# finding + printing means\nprint(f\"Analyst average years of ML experience: {df_analyst_coding['Q15_num'].mean()}\")\nprint(f\"Non-analyst average years of ML experience: {df_other_coding['Q15_num'].mean()}\")\n# strong evidence that there's a significant difference in ML experience\nprint(stats.ttest_ind(df_analyst_coding['Q15_num'], df_other_coding['Q15_num']))\n\n\n# actual plot\nsns.set(rc={'figure.facecolor':'beige', 'axes.facecolor':'beige'})\nfig, ax = plt.subplots(figsize=(8, 8))\ncolormap = sns.light_palette(\"seagreen\", as_cmap=True)\nsns.heatmap(df_ML_plot, cmap=colormap, annot=True, fmt='.1%', ax=ax)\n\nfor i in range(all_pct_plot.shape[0]+1):\n    ax.axvline(i, color='beige', lw=50)\n\n# the y of these lines isn't 100% accurate because of weird boundaries in the ranges\nax.axhline(6.5, xmin=0.05, xmax=0.45, color='red')\nax.axhline(5.5, xmin=0.55, xmax=0.95, color='red')\n\nplt.yticks(rotation=360)\nplt.xlabel('')\nplt.ylabel('')\nplt.xticks([])","e5163266":"analyst_mean = df_analyst['Q15_num'].mean()\nother_mean = df_other['Q15_num'].mean()\n\nprint(f'Analyst mean: {analyst_mean}')\nprint(f'Non-analyst mean: {other_mean}')\nprint(stats.ttest_ind(df_analyst['Q15_num'], df_other['Q15_num']))\n\ncoding_df_regression = df_regression[(df_regression['Q6']!='I have never written code') & (df_all['Q7_Part_12'].isnull())]\n\n# regression without controlling for anything\nX = coding_df_regression[['Analyst_num']]\ny = coding_df_regression['Q15_num']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())\n\n\n# regression with controlling for age, education, and coding\nX = coding_df_regression[['Analyst_num', 'Q1_num', 'Q4_num', 'Q6_num']]\ny = coding_df_regression['Q15_num']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())","6fe98be1":"analyst_strings, analyst_counts, analyst_lengths = [], [], []\nfor col in [col for col in df_analyst.loc[:, df_analyst.columns != 'Q40_Part_10'].columns if 'Q40' in col]:\n    vc = df_analyst[col].value_counts()\n    if len(vc) > 0:\n        analyst_strings.append(vc.keys()[0])\n        analyst_counts.append(vc[0])\n        analyst_lengths.append(df_analyst.shape[0])\n\ndf_mooc_analyst = pd.DataFrame()\ndf_mooc_analyst['label'] = analyst_strings\ndf_mooc_analyst['count'] = analyst_counts\ndf_mooc_analyst['length'] = analyst_lengths\ndf_mooc_analyst['pct'] = df_mooc_analyst['count'] \/ df_mooc_analyst['length']\ndf_mooc_analyst['Analyst?'] = True\n\n\nother_strings, other_counts, other_lengths = [], [], []\nfor col in [col for col in df_other.loc[:, df_other.columns != 'Q40_Part_10'].columns if 'Q40' in col]:\n    vc = df_other[col].value_counts()\n    if len(vc) > 0:\n        other_strings.append(vc.keys()[0])\n        other_counts.append(vc[0])\n        other_lengths.append(df_other.shape[0])\n\ndf_mooc_other = pd.DataFrame()\ndf_mooc_other['label'] = other_strings\ndf_mooc_other['count'] = other_counts\ndf_mooc_other['length'] = other_lengths\ndf_mooc_other['pct'] = df_mooc_other['count'] \/ df_mooc_other['length']\ndf_mooc_other['Analyst?'] = False\n\n\ndf_mooc_all = pd.concat([df_mooc_analyst, df_mooc_other], axis=0)\ndf_mooc_all.sort_values(['Analyst?', 'pct'], inplace=True)\ndf_mooc_all['label'].replace()\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Online Course Platform Usage<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts and non-analysts that have used each course platform<\/span>\n'''\n\nfig = px.bar(\n    df_mooc_all, \n    x='pct', y='label', orientation='h',\n    title=title,\n    facet_col='Analyst?',\n    labels={'label':'Online Course Platform', 'pct':'Percentage'}, text='pct',\n    height=700,\n    category_orders={'Analyst?':[True, False]}\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [base_color]*7 + [highlight_color]*4)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(tickformat='.0%', title='')\nfig.update_yaxes(title='')\n\nfig.show()","3509e911":"df_regression['course_count'] = df_regression.apply(\n    lambda row: (type(row['Q40_Part_1'])==str) + (type(row['Q40_Part_2'])==str) + \n    (type(row['Q40_Part_3'])==str) + (type(row['Q40_Part_4'])==str) + (type(row['Q40_Part_5'])==str) + \n    (type(row['Q40_Part_6'])==str) + (type(row['Q40_Part_7'])==str) + (type(row['Q40_Part_8'])==str) + \n    (type(row['Q40_Part_9'])==str) + (type(row['Q40_OTHER'])==str) + 0, axis=1\n)\n\nanalyst_mean = df_regression[df_regression['Analyst?']==True]['course_count'].mean()\nother_mean = df_regression[df_regression['Analyst?']==False]['course_count'].mean()\nprint(f'Analyst mean: {analyst_mean}')\nprint(f'Other mean: {other_mean}')\nprint(stats.ttest_ind(df_regression[df_regression['Analyst?']==True]['course_count'], \n                      df_regression[df_regression['Analyst?']==False]['course_count']))\n\n\n\n# regression without controlling for anything\nX = df_regression[['Analyst_num']]\ny = df_regression['course_count']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())\n\n\n\n# regression that controls for age, education, coding years\nX = df_regression[['Analyst_num', 'Q1_num', 'Q4_num', 'Q6_num']]\ny = df_regression['course_count']\nX = sm.add_constant(X)\n\nmodel = sm.OLS(y, X)\nresult = model.fit()\n\nprint(result.summary())","eb155581":"# removed so that percentage isn't skewed\n# this is only going to be mentioned in the comments\ndf_analyst_coders = df_analyst[df_analyst['Q6'] != 'I have never written code']\n\nstrings, counts, lengths = [], [], []\nfor col in [col for col in df_analyst_coders.columns if 'Q7' in col]:\n    vc = df_analyst_coders[col].value_counts()\n    if len(vc) > 0:\n        strings.append(vc.keys()[0])\n        counts.append(vc[0])\n        lengths.append(df_analyst_coders.shape[0])\n\ndf_top_langs = pd.DataFrame()\ndf_top_langs['label'] = strings\ndf_top_langs['count'] = counts\ndf_top_langs['lengths'] = lengths\ndf_top_langs['pct'] = df_top_langs['count'] \/ df_top_langs['lengths']\ndf_top_langs.sort_values('pct', ascending=False, inplace=True)\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Programming Language Usage<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each programming language on a regular basis<\/span>\n'''\n\nfig = px.bar(\n    df_top_langs, \n    x='label', y='pct',\n    title=title,\n    labels={'label':'Programming Language', 'pct':'Percentage'}, text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*3 + [base_color]*10)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","170a1407":"df_languages = df_all[df_all['Q6'] != 'I have never written code'].copy()\n\ndf_languages['non_popular'] = df_languages.apply(\n    lambda row: True if type(row['Q7_Part_4'])==str or type(row['Q7_Part_5'])==str or \n    type(row['Q7_Part_6'])==str or type(row['Q7_Part_7'])==str or type(row['Q7_Part_8'])==str or \n    type(row['Q7_Part_9'])==str or type(row['Q7_Part_10'])==str or type(row['Q7_Part_11'])==str\n    else False, axis=1\n)\n\ndf_languages['language_count'] = df_languages.apply(\n    lambda row: (type(row['Q7_Part_1'])==str) + (type(row['Q7_Part_2'])==str) + \n    (type(row['Q7_Part_3'])==str) + (type(row['Q7_Part_4'])==str) + (type(row['Q7_Part_5'])==str) + \n    (type(row['Q7_Part_6'])==str) + (type(row['Q7_Part_7'])==str) + (type(row['Q7_Part_8'])==str) + \n    (type(row['Q7_Part_9'])==str) + (type(row['Q7_Part_10'])==str) + (type(row['Q7_Part_11'])==str) +\n    (type(row['Q7_OTHER'])==str) + 0, axis=1\n)\n\ndf_languages_analyst = df_languages[df_languages['Analyst?']==True]\n\ndf_languages_analyst_plot = (\n    df_languages_analyst\n    ['language_count']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'language_count':'pct', 'index':'language_count'})\n    .sort_values('language_count')\n)\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Programming Language Usage<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each programming language on a regular basis<\/span>\n'''\n\nfig = px.bar(\n    df_languages_analyst_plot, \n    x='language_count', y='pct',\n    title=title,\n    labels={'language_count':'Language Count', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [base_color]*2 + [highlight_color] + [base_color]*10)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(\n    title='Number of Programming Languages', \n    tickmode='array',\n    tickvals=[0,1,2,3,4,5,6,7,8,9]\n)\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","a7fd460c":"df_combos = df_analyst[df_analyst['Q6'] != 'I have never written code'].copy()\n\ndf_combos['all_languages'] = (\n    df_combos\n    .apply(\n        lambda row:[row['Q7_Part_1'], row['Q7_Part_2'], row['Q7_Part_3'],\n            row['Q7_Part_4'], row['Q7_Part_5'], row['Q7_Part_6'], \n            row['Q7_Part_7'], row['Q7_Part_8'], row['Q7_Part_9'], \n            row['Q7_Part_10'], row['Q7_Part_11']], axis=1\n        )\n)\n\ndf_combos['all_languages'] = (\n    df_combos['all_languages']\n    .apply(lambda x: tuple(sorted([i for i in x if type(i)==str])))\n)\n\ndf_combos_plot = (\n    df_combos['all_languages']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'all_languages':'pct', 'index':'all_languages'})\n)\ndf_combos_plot['all_languages'] = df_combos_plot['all_languages'].apply(lambda x: ', '.join(x))\ndf_combos_plot['all_languages'].replace({'':'None'}, inplace=True)\n\ndf_combos_plot = df_combos_plot.head(10)\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Programming Language Combos<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each programming language combo on a regular basis<\/span>\n'''\n\nfig = px.bar(\n    df_combos_plot, \n    x='all_languages', y='pct',\n    title=title,\n    labels={'all_languages':'Language Combo', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*3 + [base_color]*10)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","c93fc636":"## **6.1 Computing Platform**\n\ndf_computing = (\n    df_analyst\n    ['Q11']\n    .value_counts(normalize=True)\n    .to_frame()\n    .reset_index()\n    .rename(columns={'Q11':'pct', 'index':'Q11'})\n)\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Computing Platform Distribution<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each computing platform most often<\/span>\n'''\n\nfig = px.bar(\n    df_computing, \n    x='Q11', y='pct',\n    title=title,\n    labels={'Q11':'Computing Platform', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*1 + [base_color]*10)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","61999ca9":"df_ide = df_analyst[(df_analyst['Q6']!='I have never written code' )\n                        & (df_analyst['Q7_Part_1']=='Python')]\n\n\nstrings, counts, lengths = [], [], []\nfor col in [col for col in df_ide.columns if 'Q9' in col]:\n    vc = df_ide[col].value_counts()\n    if len(vc) > 0:\n        strings.append(vc.keys()[0])\n        counts.append(vc[0])\n        lengths.append(df_ide.shape[0])\n\ndf_ide_plot = pd.DataFrame()\ndf_ide_plot['label'] = strings\ndf_ide_plot['count'] = counts\ndf_ide_plot['lengths'] = lengths\ndf_ide_plot['pct'] = df_ide_plot['count'] \/ df_ide_plot['lengths']\ndf_ide_plot.sort_values('pct', ascending=False, inplace=True)\n\n\n\n\n# px.bar(plot_df, x='label', y='pct', title='Q9: IDE (python users)')\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>IDE Distribution<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each IDE on a regular basis (filtered for Python users)<\/span>\n'''\n\nfig = px.bar(\n    df_ide_plot, \n    x='label', y='pct',\n    title=title,\n    labels={'label':'IDE', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*1 + [base_color]*12)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","bc7af71b":"df_viz = df_analyst[(df_analyst['Q6']!='I have never written code' )\n                        & (df_analyst['Q7_Part_1']=='Python')]\n\n\nstrings, counts, lengths = [], [], []\nfor col in [col for col in df_viz.columns if 'Q14' in col]:\n    vc = df_viz[col].value_counts()\n    if len(vc) > 0:\n        strings.append(vc.keys()[0])\n        counts.append(vc[0])\n        lengths.append(df_viz.shape[0])\n\ndf_viz_plot = pd.DataFrame()\ndf_viz_plot['label'] = strings\ndf_viz_plot['count'] = counts\ndf_viz_plot['lengths'] = lengths\ndf_viz_plot['pct'] = df_viz_plot['count'] \/ df_viz_plot['lengths']\ndf_viz_plot.sort_values('pct', ascending=False, inplace=True)\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Visualization Library Distribution<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each visualization library on a regular basis (filtered for Python users)<\/span>\n'''\n\nfig = px.bar(\n    df_viz_plot, \n    x='label', y='pct',\n    title=title,\n    labels={'label':'Visualization Library', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*3 + [base_color]*12)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","e94c8f96":"df_ML = df_analyst[(df_analyst['Q6']!='I have never written code')\n                        & (df_analyst['Q15'] != 'I do not use machine learning methods')]\n\n\nstrings, counts, lengths = [], [], []\nfor col in [col for col in df_ML.columns if 'Q16' in col]:\n    vc = df_ML[col].value_counts()\n    if len(vc) > 0:\n        strings.append(vc.keys()[0])\n        counts.append(vc[0])\n        lengths.append(df_ML.shape[0])\n\ndf_ML_plot = pd.DataFrame()\ndf_ML_plot['label'] = strings\ndf_ML_plot['count'] = counts\ndf_ML_plot['lengths'] = lengths\ndf_ML_plot['pct'] = df_ML_plot['count'] \/ df_ML_plot['lengths']\ndf_ML_plot.sort_values('pct', ascending=False, inplace=True)\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Machine Learning Library Distribution<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each ML library on a regular basis<\/span>\n'''\n\nfig = px.bar(\n    df_ML_plot, \n    x='label', y='pct',\n    title=title,\n    labels={'label':'Machine Learning Library', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*1 + [base_color]*17)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","cc93183f":"df_BI = df_analyst[(df_analyst['Q6']!='I have never written code')]\ndf_BI = (\n    df_BI.dropna(subset=[col for col in df_BI.columns if 'Q34_A' in col], how='all')\n)\n\n\nstrings, counts, lengths = [], [], []\nfor col in [col for col in df_BI.columns if 'Q34_A' in col]:\n    vc = df_BI[col].value_counts()\n    if len(vc) > 0:\n        strings.append(vc.keys()[0])\n        counts.append(vc[0])\n        lengths.append(df_BI.shape[0])\n\ndf_BI_plot = pd.DataFrame()\ndf_BI_plot['label'] = strings\ndf_BI_plot['count'] = counts\ndf_BI_plot['lengths'] = lengths\ndf_BI_plot['pct'] = df_BI_plot['count'] \/ df_BI_plot['lengths']\ndf_BI_plot.sort_values('pct', ascending=False, inplace=True)\n\n\n\n# the actual plot\nbase_color = '#DCDCDC'\nhighlight_color = '#20beff'\nhighlight_color = '#1E5631'\n\ntitle = '''\n<span style='font-size:24px; font-family:Courier New; font-weight:bold;'>Business Intelligence Tool Distribution<\/span><br>\n<span style='font-size:13px; font-family:Helvetica'>Bars depict the percentage of analysts that use each BI tool on a regular basis<\/span>\n'''\n\nfig = px.bar(\n    df_BI_plot, \n    x='label', y='pct',\n    title=title,\n    labels={'label':'Business Intelligence Tool', 'pct':'Percentage'}, \n    text='pct',\n)\n\nfig.update_traces(\n    texttemplate='%{text:.0%}', textposition='inside',\n    marker = dict(color= [highlight_color]*2 + [base_color]*17)\n)\n\nfig.update_layout(\n    plot_bgcolor='beige',\n    font_family='Courier New',\n    font_color='#1E5631'\n)\n\nfig.update_xaxes(title='')\nfig.update_yaxes(tickformat='.0%', title='')\n\nfig.show()","83b496cd":"It's a toss up between Tableau and PowerBI for the most popular business intelligence tool, but the 26% of respondents who put \"None\" make a strong case for delaying the BI tool decision until you know where your character is working and what technology the company is using.","1306a968":"There seems to be a natural drop-off point after `Data Scientist`; a cutoff here also aligns somewhat with the *Pareto Principle*, as these top three (\\~23%) of job titles compose the majority (\\~53%) of our currently selected subset. \n\nThese job titles should also make intuitive sense: if an individual identifies as a `Data Analyst`, `Business Analyst`, or `Data Scientist`, you can easily see how their primary focus would be analytical work, where you'd be hard-pressed to say the same for a `Product Manager`, `Data Engineer`, or `Research Scientist`.\n\nAfter filtering for those three job titles, we're left with 4794 candidate analysts.","ad079b24":"## **4.1 Formal Education**\n\nThere are various options for how much a character can be formally educated, from nothing past high school to a doctoral degree. The chart below shows the distribution of formal education levels for analysts and non-analysts.","247d14f2":"## **6.3 Visualization Libraries**","95b35a47":"## **2.3 Split Responsibilities**\n\nWe've narrowed it down significantly, but we haven't done anything to consider that many of these individuals also selected responses to Q24 that *aren't* the first option, and there's no indication of relative importance or priority in the data. Let's look at the remaining choices:\n\n> 2. Build and\/or run the data infrastructure that my business uses for storing, analyzing, and\noperationalizing data\n3. Build prototypes to explore applying machine learning to new areas\n4. Build and\/or run a machine learning service that operationally improves my product or\nworkflows\n5. Experimentation and iteration to improve existing ML models\n6. Do research that advances the state of the art of machine learning\n\n\\**(choices that have already been filtered out are not present)*\n\nOption 2 could feasibly be performed by someone whose primary task is analytical, such as if they have to help create or modify data infrastructure in order to get access to the data they need to analyze. Option 3 could also feasibly be performed by someone whose primary goal is analytical, such applying a base model as part of an analysis to make a decision for or against ML investment in a certain area. Both of these tasks could be performed by a technically advanced analyst who's more end-to-end in their analysis. \n\nHowever, Options 4, 5, and 6 require a much more intricate knowledge of complex machine learning, seem less likely to be supporting an analytical workflow, and are tasks that at most companies have dedicated employees for. Thus, we're going to filter out any individuals that selected options 4, 5, or 6 in Q24.","73a51d10":"Again influenced by the choice of Python (or lack of R), Matplotlib, Seaborn, and Plotly are the obvious tools of choice for data visualization.","86206bd3":"Considering that your character will know Python and that it's the most common IDE, Jupyter Notebook is an easy choice.","c8c7c1b8":"## **5.3 Language Combos**\n\nConsidering that analysts use 2.29 languages on average and the median is 2 languages, the chart below shows what percentage of players use different programming language combinations.","0cc8ae67":"## **2.1 Indentifying Analysts** \n\nThe survey is extensive, but there are two key questions that will be used to identify an analyst:\n\n1. `Q5: Select the title most similar to your current role (or most recent title if retired):`\n2. `Q24: Select any activities that make up an important part of your role at work:`\n\nBy looking at the job title closest to an individual's role in their company as well as the activities that make up an important part of their role, we can get a pretty good idea of whether their primary work is analytical.\n\n<div class=\"alert alert-block alert-info\"> \ud83d\udccc Each record in the Kaggle Survey Data is a successful player on <b><i>Kaggle Online<\/i><\/b>. By isolating the \"analyst\" players and analyzing how they've played + comparing them to non-analysts, this guide will outline how to successfully play as an analyst in <b><i>Kaggle Online<\/i><\/b>.<\/div>\n\n<br>\n\n`Q24`'s first answer choice is very telling: `Analyze and understand data to influence product or business decisions`\n\nThis response almost exactly matches our definition of analyst, so we can start the search for analyst players by filtering professionals for individuals that selected this answer. We're down to 9108 analysts.","fadb9b76":"You should expect countries that have a higher `Metric` value to be easier servers for your character to play in, since the analyst environment is theoretically riper. `Metric` isn't perfect, since the survey probabily isn't a representative sample of the world's population and more technologically developed countries may be overrepresented. However, large countries such as India, Brazil, and China have a realtively high number of survey responses, so it hopefully isn't too biased. \n\nCountries that stand out to be added to your character's priority list are Australia, Greece, Canada, Portugal, United Kingdom, and the Netherlands. The most promising of these are the United Kingdom, Australia, and Canada, since they have all have `Metric` values above 1.0 and a relatively sizable number of absolute analyst responses (77, 46, 45). The United States is also notable, with 297 analysts and a `Metric` of 0.897.","a11bb6d0":"## **2.2 Job Title**\n\nDespite the fact that some individuals with every job title selected the answer to Q24 that we're looking for, not all responses are created equal. Q24 is a multi-select question, and there's no indication of order or priority. Considering that some individuals selected all 6 options (NEED TO CHECK THIS), we're going to have to make some assumptions. \n\nIntuitively, we can understand that certain job titles that are less likely to meet our requirements for an analyst; if an player identifies as a `Data Analyst`, for example, they're much more likely to have analytical work as their primary task than a `Software Engineer`. \n\nTo quantify these differences, we can take a look at the proportion of *professionals* in each job title that selected the first answer choice of Q24.\n","65544ac4":"# **3. Character Creation**\n\nBefore you can enter **_Kaggle Online_**, you'll need to create a character. As mentioned in the introduction, there are three key decisions to make during character creation:\n\n1. Age\n2. Location\n3. Industry\n\nThis guide looks at the distribution of these attributes among successful analyst players and compares it to non-analyst players to aid the decision.","1d82f7e7":"As you can see, analysts are slightly younger than non-analysts, with an average age of 32.77 years old (1.62 years younger than non-analysts). Analysts have a similar or larger percentage of individuals in the younger age groups from 18-34, and then a smaller percentage all the way from 35-70+. \n\nKeeping the above results in mind, this guide recommends setting your character's age to 32.","c53984be":"From this table, you can see that:\n- Analysts are slightly more likely to have a Bachelor's or Master's degree, but much less likely (<0.5x) to have a doctoral degree.\n- The majority (~83%) of analysts have either a Bachelor's or Master's degree.\n- Analyst positions are more accessible than non-analyst ones if you don't finish your college degree, with 1.3x the proportion of players having some university study without graduating.\n\nTo analyze education more quantitatively, this guide maps each education level to the average number of years it takes to complete that level of education, starting with high school graduation as 0 years. Analysts take 0.46 fewer years of education, on average, than non-analysts. Analysts are younger, however, and that might have an effect on education; a simple regression model reveals that analysts take 0.37 fewer years of education when controlling for age. \n\nDespite both of these quantities being statistically significant, they aren't very large, as the difference between different levels of education is at least 2 years. Thus, you should invest a normal amount of SP in formal education for your character, leading to either a Bachelor's or Master's degree.","d6e211de":"Ultimately, we're left with 2508 analysts out of 17183 professionals. We selected ~52% of data analysts and business analysts and ~22% of data scientists. These percentages might seem low at first, but consider:\n- 4916 professionals don't work with data at all.\n- **_Kaggle Online_** has a high concentration of players that are focused on machine learning (as opposed to analytical work), regardless of job title, due to the prevalence of ML competitions and content on **_Kaggle Online_**.\n\nNow that we've identified the analysts, it's time to get started with **_Kaggle Online_**!","0710e9d1":"![image.png](attachment:f6395b26-f71d-4bbc-bade-abce1de0da0f.png)\n\nTHIS IMAGE IS A PLACEHOLDER NEED TO ANNOTATE IT ON GOOGLE SLIDES AND THEN REUPLOAD","32948b0b":"## **3.3 Industry**\n\nLess important than location, industry is still an important attribute that affects salary, company demographics, and more. Similar to location, you submit a priority list for industry as opposed to choosing outright. Industry assignment is based on overall demand.\n\nThe chart below shows the percentage of individuals in each industry for analysts and non analysts.","63416469":"![image.png](attachment:e70473e7-0201-4d84-83e9-1abf5d261dfa.png)\n\nPLACEHOLDER IMAGE","3f54e139":"## **5.2 Multiple Languages**\n\nQ7 was a multi-select question, so users could select more than one programming language. \n\nThe chart below shows how many different programming languages analysts use:","dc24cf21":"## **6.4 Machine Learning Libraries**","9ed4322d":"## **4.2 Coding Experience**\n\nCoding experience is a hugely important attribute to consider for your character, because a large portion of a professional's work (including analysts) may consist of coding. \n\nThe chart below compares the distribution of coding experience for analysts and non-analysts.","81183dc8":"## **4.3 Machine Learning Experience**\n\nIn addition to general coding experience, you can also invest SP specifically in machine learning. \n\nWhile this may be less necessary based on our criteriafor an \"analyst\", building simple models (like the one this guide uses above) or more complex prototypes can be an important part of analytical work. \n\nThe chart below shows the distribution of machine learning experience for analysts and non-analysts.","3d8064a6":"# **6. Equipment**\n\nYou've chosen your class and made it past the tutorial map. Now, you encounter your first merchant, and, as he sees that you're a new player, he offers you a set of starter equipment **for free**!\n\n> Pick wisely: you can choose one primary machine, one IDE, three visualization libraries, one ML library, and one BI tool. Anything more will cost you!\n\nGiven the choices you've made for your character already, this should be simple enough: pick the most common tool in each equipment area.","d89f4c06":"All of these findings make sense, for a couple of reasons. Within the dataset, analysts don't have complex ML tasks as an important part of their work, so they might not need as much coding experience. Additionally, as described by Benn Stancil in [this article](https:\/\/benn.substack.com\/p\/analytics-is-at-a-crossroads), being an analytical thinker and performing analytical work goes beyond the coding requirements. Although the problem he describes is still alive and well, it's cool to see some of the sentiment about what should qualify someone as an \"analyst\" reflected in the survey.\n\nWith the ~2 years worth of SP that you've saved on coding experience, you should consider putting SP in one of the following hidden areas:\n- Additional Bachelor's or Master's degrees in textured, complex areas, such as urban demography\n- Formal or online education in narration\/writing to improve influence on decisions\n- Bonus work experience in a non-data field","685360f7":"The top three most common combinations are Python+SQL, solo Python, and the Python+SQL+R trio. The much higher prevalence of Python+SQL+R (11%) as opposed to R+SQL (3.4%) and solo R (2.1%) suggests that R isn't a real substitute for Python, but is rather used as an additional tool. Here's an overview of what each of the three languages is best used for:\n\n\n*make this a table in the final version, find a good source website and just copy paste from there no use in doing my own research*\n\n<table style=font-size:110%>\n  <tr>\n    <th>Python<\/th>\n    <td>Python provides a more general approach to data science, as it's a functional programming language that can be used for many tasks.<\/td>\n  <\/tr>\n  <tr>\n    <th>SQL<\/th>\n    <td>SQL is mainly used to query relational databases and clean or engineer data at scale. When the data you're working with is very large (e.g. millions, billions of rows), SQL is much mor performant than Python or R.<\/td>\n  <\/tr>\n  <tr>\n    <th>R<\/th>\n    <td>R is a programming language that is used mainly by statisticians; it has more robust functionality for developing statistical software and performing statistical analysis. It is specific to data analysis, though, and can't be expanded as far for general use cases.<\/td>\n  <\/tr>\n<\/table>\n\nAll in all, your character should be in a good spot by starting out with Python\ud83d\udc0d and SQL\ud83d\udc18.","52e97728":"# **7. Inventory (gold)**","59b127d3":"## **4.4 Online Education**\n\nOnline data science courses, such as those found on Coursera, **Kaggle**, or DataCamp, can be a strong alternative to formal education. They're cheaper, more accessible, and often teach industry-relevant knowledge quicker. \n\nThis first chart shows the distribution of online course platform usage for analysts and non-analysts, and the second table shows the average number of different course platforms used by analysts vs. non-analysts.","3b689c09":"## **5.1 Top Programming Languages**\nTo begin analyzing the decision of which programming languages you should start out with, the chart below shows the distribution of programming languages among analyts.","3606ae56":"![image.png](attachment:69c95f56-74a5-457e-b3b7-2e24b01735e0.png)\n\nPLACEHOLDER IMAGE NEEDS TO BE ANNOTATED + REPLACED LATER","71dea185":"## **6.2 IDE**","e3e07970":"## **3.1 Age**\n\nAge is an important attribute to consider: too young, and XXX; too old, and YYY. \n\nThe chart below shows the distribution of age for analysts and non-analysts.","b35f5930":"The distribution of online course platforms doesn't differ significantly between analysts and non-analysts; the order is the exact same for the top four platforms and is pretty similar for lower-ranking platforms. Analysts do have a significantly higher percentage of users using Datacamp (25% vs. 16%), so that may be a platform to watch out for.\n\nA quantitative analysis of the number of different platforms a player has used yields similar results; analysts use slightly more platforms on average (0.23-0.27 depending on whether other variables are held constant), and while statistically significant, this difference is small. Unfortunately, the survey doesn't indicate how many courses a player has completed on each platform.\n\nKeeping these results in mind, you should invest a moderate amount of SP (1-2 course platforms' worth) in online courses, depending on the specialized skills or techniques that you want your character to learn.","e2f7e995":"## **6.5 Business Intelligence Tools**","2fb6e652":"You can see that:\n\n- As expected, being an analyst is much more accessible, with analysts being nearly 2.5x more likely (~2.43x) to not use ML methods\n- The vast majority (~88%) of analysts have used machine learning methods for 3 years or less\n- On the high end, non-analysts are over 4x as likely (~4.18x) to have 10 years or more of ML experience\n\nA quantitative analysis here also yields significant results: analysts have less than half as many years of ML experience as non-analysts. A simple linear regression controlling for age, education, and coding experience reveals that analysts only have ~0.52 years less of ML experience, but the question again arises of whether those inherent differences should be controlled for or not. ","39211fc1":"## **3.2 Location**\n\nLocation is key in **_Kaggle Online_**, as it impacts many other recorded and unrecorded attributes, such as salary and technological development. You can't choose your character's location outright; instead, you submit a priority list and receive one of your choices based on overall demand.\n\nThe map below shows the number of survey respondents that were identified to be analysts in each country divided by that country's overall population. The result was multiplied by 1,000,000 and dubbed `Metric` because the number of survey respondents is very small compared to country populations.","26e49266":"This is a bit of extrapolation, as the inner workings of **_Kaggle Online_** are unknown, but this guide believes that these results about ML experience, for an analyst, are less *requirements* and more *preference*. If you want ML to be a significant part of your character's toolkit and workflow, you can invest 3-5 years' worth of SP; if not, you can invest none and you'll still probably be okay. Take this advice with caution.","a261c07f":"The most common primary machine is a laptop, so you should equip your character with that.","00ad0afa":"Unsurprisingly, Python\ud83d\udc0d, SQL\ud83d\udc18, and R\ud83d\udd35 top the chart with ~84%, ~60%, and ~31% of analysts using the three languages on a regular basis, respectively. The next most popular language is Javascript, used by ~10% of analysts; ~29% of analysts used at least one language that's not in the top three. Finally 1.8% of analysts said they don't regularly use any programming language, despite having written code before. ","8cd11aa1":"# **2. What is an \"Analyst\"?**\n\nPlaying **_Kaggle Online_** as a Data Analyst or Data Scientist is relatively straightforward, as the Kaggle Survey Data explicitly defines those job titles in `Q5`. That's not what this guide is for.\n\nBoth of those job titles, along with many others, are *umbrella terms* that encompass a wide range of workflows and functions. This guide, then, more specifically defines an \"analyst\" as someone whose **primary work is analytical**: they can have supporting workflows, but their foremost goal or responsibility should be to *drive decisions by analyzing data*. ","b25ec43b":"Scikit-learn is by far the most common ML library, it's the easiest to understand and interpret (which is useful for prototyping and driving decisions), and it shouldn't take too long to learn if your character already knows Python.","bcfa4513":"# **5. Class System**\n\nWith your character created and experience points distributed, it's finally time to explore the world of ***Kaggle Online***! You'll first enter the tutorial map, and get confronted by a *Kaggle Grandmaster NPC* that presents you with a choice: \n\n> What programming language(s) will you learn?\n\nThe programming languages your analyst learns to will influence the library skill trees available further down the road, so it's an incredibly important decision. Luckily, you're not limited in the number of languages you can learn over time, but you can only choose two to start out with.\n\n<div class=\"alert alert-block alert-info\"> \ud83d\udccc For the more specific choices of <b>class<\/b> (section 5) and <b>equipment<\/b> (section 6), this guide looks specifically at analyst players instead of comparing analysts to non-analysts.<\/div>","e444e764":"This is a good start, but it's unlikely that over half of data professionals have analytical work as their primary task, especially considering the wide range of job titles, from `Research Scientist` to `Software Engineer`. We'll have to narrow it down further.","ac5a1b0d":"# **4. Skill Points**\n\nAt this point, your character should be created!\n\nUpon character creation, you'll be awarded a number of initial **skill points** (SP). You need these to be a successful analyst; without them, your character won't have the skills necessary to analyze data and make decisions. As outlined in the introduction, **skill points** can be spent in four key areas:\n\n1. Formal Education\n2. Coding Experience\n3. Machine Learning Experience\n4. Online Education\n\nMost players spend all of their SP across these four areas. There are, however, hidden skills not shown in the survey where unused SP can be spent. Analyst vs. non-analyst SP distribution will be analzyed to examine how you should distribute your SP and whether to save some for hidden skills.\n\n","79ba8ccf":"The y-axis is in descending order for Analysts, and looking at the bars for non-analysts the order of industries is quite similar, with the top four as `Computers\/Technology`, `Academics\/Education`, `Accounting\/Finance`, and `Other` for both groups. \n\nInterestingly, non-analysts seem to be much more biased towards the top, with a much higher concentration of non-analysts in Computers and Academics and a lower concentration in Accounting, as well as analysts being slightly more even throughout the rest of the distribution. This makes sense, given the previously defined criteria for analysts relating to ML work; computers(\/technology) and academics(\/education) are the industries that push the edge of machine learning, so it makes sense that non-analysts would have a higher concentration in those areas.\n\nIn terms of your character, you should still prioritize `Computers\/Technology` and `Academics\/Education`, but `Accounting\/Finance` also becomes a strong option and you should have slightly more ease playing through any industry you want as compared to the rest of the **_Kaggle Online_** playerbase.","aa48ff3e":"# **1. Introduction to _Kaggle Online_**\n\nWelcome to **_Kaggle Online_**! \n\n**_Kaggle Online_** is an Online Role-Playing Game (RPG) where you play out your career as a data professional.\n\n<div class=\"alert alert-block alert-info\"> \ud83d\udccc A <i>professional<\/i> is anyone who didn't respond \"Student\" or \"Currently not employed\" to <code>Q5: Select the title most similar to your current role<\/code>.<\/div>\n\n<br>\n\n***Kaggle Online*** has a rich character customization and career progression system. There's too much to cover in one guide, but this guide will cover the following insights and functionality:\n\n- (2) What is an \"Analyst?\"\n    - (2.1) Job Title\n    - (2.2) Split Responsibilities\n- (3) Character Creation\n    - (3.1) Age\n    - (3.2) Location\n    - (3.3) Industry\n- (4) Skill Points\n    - (4.1) Formal Education\n    - (4.2) Coding Experience\n    - (4.3) Machine Learning Experience\n    - (4.4) Online Education\n- (5) Class System\n    - Language-agnostic\n- (6) Equipment\n    - (6.1) Computing Platform\n    - (6.2) IDE\n    - (6.3) Visualization Libraries\n    - (6.4) Machine Learning Libraries\n    - (6.5) Business Intelligence Tools\n- (7) Inventory\n    - ???\n \nThis is a comprehensive guide to getting started in **_Kaggle Online_** as an **analyst**. What exactly is an \"analyst\", you might ask? Let's dive in.","da995a00":"You can see that\n- More than half of analysts have been coding for three years or less (~63%), while the same can be said for only ~47.7% of non-analysts.\n- 1.45x as many analysts have never written code as compared to non-analysts (aka more accessible)\n- Over twice as many (2.3x) non-analysts have written code for 20+ years than analysts.\n\nUnlike education, when you take the midpoint of each range and do a quantitative analysis, there's a pretty significant difference (2.36 years) in coding experience between analysts and non-analysts. This could potentially be due to the fact that analysts are younger and have slightly fewer years of education (on average), but a simple linear regression model shows that even when controlling for these factors, analysts have 1.67 fewer years of coding experience. Whether you *want* to control for these factors is another discussion beyond the scope of this guide."}}