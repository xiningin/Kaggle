{"cell_type":{"0a6bdfce":"code","b20e9148":"code","acfd39e2":"code","0fef8335":"code","b410e74c":"code","22306fcc":"code","f4eeb697":"code","b9094c8a":"code","be8bf9d7":"code","940f2d9b":"code","1544ca0d":"code","614ac829":"code","055f1758":"code","17115098":"code","91a9ce8d":"code","bb01007d":"code","8ebbba40":"code","c3700ac3":"code","f136130f":"code","e7e0500c":"code","2d1aff37":"code","18efec18":"code","3c81c894":"code","e34c2fd1":"code","cfe31087":"code","d8a40fe1":"code","764a54f1":"code","9b7c8857":"code","d0d45eb3":"code","ff9ca490":"code","73163b2d":"code","d002728c":"code","7bb8d848":"code","d3f98774":"code","ff8398c9":"code","a65065cd":"code","ec88f5d6":"code","5e663cee":"code","5732e400":"code","21a919a1":"code","6754016c":"code","1c90d79e":"code","fbf1fd5e":"code","cc45249b":"code","a55d9a86":"code","95a47648":"code","7c7b4057":"code","f8fa6e03":"code","7f8a8571":"code","8e43c6aa":"code","c8c09233":"code","602b2dc0":"code","dc103ce7":"code","ae84ca84":"code","a93e9d03":"code","04f3115f":"code","f15d33ca":"code","04dab250":"code","5c149f20":"code","1eea8c4c":"code","c205b3ea":"code","e6b1b8f5":"code","25b49708":"code","4082e8b7":"code","ca145189":"code","ed431037":"code","5ced7e42":"code","7f2d56fb":"code","a0fd6b26":"code","6fcb1fcc":"code","d9407dd6":"code","39b6f532":"markdown","f7035727":"markdown","ffa6a5fa":"markdown","9309556e":"markdown","9357907d":"markdown","d24543e2":"markdown","9f87995f":"markdown","395f8f8a":"markdown","478f78d1":"markdown","627d1df1":"markdown","bfffcfb6":"markdown","f4ffbf8b":"markdown","134fb262":"markdown","92308eab":"markdown","b469b516":"markdown","8a1af0e7":"markdown","66b67313":"markdown","b17fd05c":"markdown","b7a76b3f":"markdown","a2af7974":"markdown","2f6070cb":"markdown","038ac071":"markdown","0bfe0a88":"markdown","11110839":"markdown","455af247":"markdown","95b9e1dd":"markdown","d2c7c8e7":"markdown","b41501ba":"markdown","d750deda":"markdown","1904c748":"markdown","fb9c2195":"markdown","efc0f754":"markdown","635e8574":"markdown","2ffea6b4":"markdown","4ff38279":"markdown","b71e3773":"markdown","7617b4a5":"markdown","c371d03a":"markdown","72c0d997":"markdown","13505ebc":"markdown","aa5f12e2":"markdown","206a98db":"markdown","b5cf63d4":"markdown","f3953a4c":"markdown","d2b4a32b":"markdown","7ae9c047":"markdown","eb630b3c":"markdown","a353e799":"markdown","3ebba83c":"markdown","ce01f2e7":"markdown","db0354ee":"markdown","58878e92":"markdown","02cd5288":"markdown","8b906e0d":"markdown","e93e007a":"markdown","af2213c0":"markdown","41c4a588":"markdown","d193cb12":"markdown","281f6781":"markdown","e4044d90":"markdown","4a9669ef":"markdown","2f2ddeb9":"markdown","4c8b70c0":"markdown","c9198733":"markdown","ecbadf99":"markdown","4c91e22e":"markdown","eb6b90e2":"markdown"},"source":{"0a6bdfce":"# importing the necessary class\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set(rc={'axes.facecolor':'whitesmoke'})\n","b20e9148":"data = pd.read_csv(\"\/kaggle\/input\/absenteeism-at-work\/Absent.csv\", sep=';')","acfd39e2":"print(f\"Data Dimension:{data.shape}\")\nfor column in data.columns:\n    print(f\"Column: {column:45} | Type:{str(data[column].dtype):7} \\\n       | Missing Values: {data[column].isna().sum():3d}\")","0fef8335":"data.head()","b410e74c":"# Computing the summary statistics of the dataset\ndata.describe().T","22306fcc":"# Defining the encoding dictionaries:\nmonth_encoded = {1: 'January', 2: 'Febuary', 3: 'March',\n                 4: 'April', 5: 'May', 6: 'June',\n                 7: 'July', 8: 'August', 9: 'September',\n                 10: 'October', 11: 'November', 12: 'December',\n                 0: 'Unknown'}\n","f4eeb697":"day_encoded = {2:'Monday', 3:'Tuesday',\n                4:'Wednesday', 5:'Thursday', 6:'Friday'}\n","b9094c8a":"season_encoded = {1:'Spring', 2:'Summer',\n                  3:'Fall', 4:'Winter'}","be8bf9d7":"education_encoded = {1:'High_school', 2:'Graduate',\n                     3:'Post_graduate',4:'Master_phD'}","940f2d9b":"yes_no_encoded = {0:'No',1:'Yes'}","1544ca0d":"# backtransformation numerical variables to categorical\ndata_preprocessed = data.copy()\n# for monthly encoded categorical cvalues\ndata_preprocessed['Month of absence'] = data_preprocessed['Month of absence']\\\n            .apply(lambda x: month_encoded[x])","614ac829":"data_preprocessed['Day of the week'] = data_preprocessed['Day of the week']\\\n    .apply(lambda x: day_encoded[x])\n","055f1758":"data_preprocessed['Seasons'] = data_preprocessed['Seasons']\\\n         .apply(lambda x: season_encoded[x])","17115098":"data_preprocessed['Education'] = data_preprocessed['Education']\\\n    .apply(lambda x: education_encoded[x])","91a9ce8d":"data_preprocessed['Disciplinary failure'] = data_preprocessed['Disciplinary failure']\\\n    .apply(lambda x: yes_no_encoded[x])\n    ","bb01007d":"data_preprocessed['Social drinker'] =data_preprocessed['Social drinker']\\\n   .apply(lambda x: yes_no_encoded[x])\n   ","8ebbba40":"data_preprocessed['Social smoker'] =data_preprocessed['Social smoker']\\\n   .apply(lambda x: yes_no_encoded[x])","c3700ac3":"data_preprocessed.head().T","f136130f":"\"\"\" \nDefining a function, which chekcs if the provided integer value \nis contained in the ICD table or not.\n\"\"\"\ndef in_icd(val):\n    return \"Yes\" if val >= 1 and val <=21 else \"No\"","e7e0500c":"data_preprocessed['Disease'] = data_preprocessed['Reason for absence'] \\\n   .apply(in_icd)","2d1aff37":"plt.figure(figsize=(9,5))\nplt.grid(False)\ncolors=['indianred', 'dodgerblue']\nsns.countplot(data=data_preprocessed, x='Disease',\n              edgecolor='black', palette=colors)\nplt.show()","18efec18":"plt.figure(figsize=(9,5))\nplt.grid(False)\n# get the number of enteries for each reason for absence:\nax = sns.countplot(data=data_preprocessed,\n                   x='Reason for absence', edgecolor='black',\n                   palette=['indianred', 'dodgerblue'])\nax.set_ylabel('Number of enteries per reason for absence')\nplt.show()","3c81c894":"plt.figure(figsize=(9,5))\nplt.grid(False)\nsns.countplot(data=data_preprocessed, x='Reason for absence',\n              hue='Social drinker', hue_order=['Yes','No'], \n              palette=['indianred', 'dodgerblue'], edgecolor='black')\nplt.show()\n\n","e34c2fd1":"plt.figure(figsize=(9,5))\nplt.grid(False)\nsns.countplot(data=data_preprocessed, x='Reason for absence',\n              hue='Social smoker', hue_order=['Yes','No'], \n              palette=['indianred', 'dodgerblue'], edgecolor='black')\nplt.legend(loc='upper left', title='Social smoker')\nplt.show()","cfe31087":"\"\"\" \nCalulating the number of actual count for social drinkers\nand social smokers.\n\"\"\"\nprint(data_preprocessed['Social drinker'].value_counts(normalize=True))\nprint(data_preprocessed['Social smoker'].value_counts(normalize=True))","d8a40fe1":"\"\"\" \nComputing probabilities of bieng a drinker and smoker.\n\"\"\"\ndrinker_prob = data_preprocessed['Social drinker']\\\n     .value_counts(normalize=True)['Yes']\nsmoker_prob = data_preprocessed['Social smoker']\\\n     .value_counts(normalize=True)['Yes']\nprint(f'P(Social Drinker) = {drinker_prob:.3f} \\\n| P(Social Smoker) = {smoker_prob:.3f}')","764a54f1":"\"\"\"\nComputing the probabilities of being a social drinker\/smoker and\nabsent for each reason of absence, by creating mask for drinkers and\nsmoker then calculating the total number of entries and number of \nabsence reason masked by drinkers and smoker.\n\"\"\"\ndrinker_mask = data_preprocessed['Social drinker'] == 'Yes'\nsmoker_mask = data_preprocessed['Social smoker'] == 'Yes'\n\ntotal_entries = data_preprocessed.shape[0]\n\nabsence_drinker_prob = data_preprocessed['Reason for absence']\\\n   [drinker_mask].value_counts() \/ total_entries\n\nabsence_smoker_prob = data_preprocessed['Reason for absence']\\\n   [smoker_mask].value_counts() \/ total_entries","9b7c8857":"\"\"\" \nComputing the conditional probabilities by dividing the computed\nprobabilities for each reason for absence.\n\"\"\"\ncond_prob = pd.DataFrame(index=range(0,29))\ncond_prob['P(Absence | Social Drinker)'] = absence_drinker_prob\\\n\/drinker_prob\ncond_prob['P(Absence | Social Smoker)'] = absence_smoker_prob\\\n\/smoker_prob","d0d45eb3":"plt.figure()\nax = cond_prob.plot.bar(figsize=(9,5), grid=False, edgecolor='black', \n                        color=['indianred','dodgerblue'])\nax.set_ylabel('Conditional Probability')\nplt.show()","ff9ca490":"\"\"\"\nComputing the reason for absence probabilities.\n\"\"\"\nabsence_prob = data_preprocessed['Reason for absence']\\\n    .value_counts(normalize=True)\n","73163b2d":"\"\"\" \nComputing the conditional probability for drinker and smoker.\n\"\"\"\ncond_prob_drinker_smoker = pd.DataFrame(index=range(0,29))\ncond_prob_drinker_smoker['P(Social Drinker | Absence)'] = \\\ncond_prob['P(Absence | Social Drinker)'] * drinker_prob\/absence_prob\n\ncond_prob_drinker_smoker['P(Social Smoker | Absence)'] = \\\ncond_prob['P(Absence | Social Smoker)'] * smoker_prob\/absence_prob ","d002728c":"plt.figure()\nax = cond_prob_drinker_smoker.plot.bar(figsize=(9,5),grid=False, edgecolor='black', \n                        color=['indianred','dodgerblue'])\nax.set_ylabel('Conditional Probability')\nplt.show()","7bb8d848":"plt.figure(figsize=(9,5))\nplt.grid(False)\nsns.violinplot(data= data_preprocessed,x='Social drinker',\n               y='Absenteeism time in hours', order=['No','Yes'],\n               palette=['dodgerblue','indianred'])\nplt.show()","d3f98774":"plt.figure(figsize=(9,5))\nplt.grid(False)\nsns.violinplot(data= data_preprocessed,x='Social smoker',\n               y='Absenteeism time in hours', order=['No','Yes'],\n               palette=['dodgerblue','indianred'])\nplt.show()","ff8398c9":"from scipy.stats import ttest_ind\nhours_col = 'Absenteeism time in hours'\n\n# test mean absenteeism for drinkers \ndrinkers_mask = data_preprocessed['Social drinker'] == 'Yes'\nhours_drinkers = data_preprocessed.loc[drinker_mask, hours_col]\nhours_non_drinkers = data_preprocessed.loc[~ drinker_mask, hours_col]\ndrinkers_test = ttest_ind(hours_drinkers, hours_non_drinkers)\nprint(f'Statistic Value: {drinkers_test[0]},\\\n p-value: {drinkers_test[1]}')\n","a65065cd":"# test mean absenteeism for smokers\nsmokers_mask = data_preprocessed['Social smoker'] == 'Yes'\nhours_smokers = data_preprocessed.loc[smokers_mask, hours_col]\nhours_non_smokers = data_preprocessed.loc[~smokers_mask, hours_col]\nsmokers_test = ttest_ind(hours_smokers,hours_non_smokers)\nprint(f'Statistic Value: {smokers_test[0]},\\\n p-value: {smokers_test[1]}')","ec88f5d6":"\"\"\"\nPerforming the kolmogorov-Smirnov test for comparing the\ndistributions.\n\"\"\"\nfrom scipy.stats import ks_2samp\nks_drinkers = ks_2samp(hours_drinkers, hours_non_drinkers)\nks_smokers = ks_2samp(hours_smokers, hours_non_smokers)\n\nprint(f'Drinkers comparison: Statistics = {ks_drinkers[0]:.3f}, \\\n P-value = {ks_drinkers[1]:.3f}')\nprint(f'Smokers comparison: Statistics = {ks_smokers[0]:.3f}, \\\n P-value = {ks_smokers[1]:.3f}')\n\n","5e663cee":"\"\"\"\nDefining a function for computing the BMI category, based on\nBMI value.\n\"\"\"\ndef get_bmi_category(bmi):\n    if bmi < 18.5:\n        category = 'underweight'\n    elif bmi >= 18.5 and bmi < 25:\n        category = 'healthy weight'\n    elif bmi >= 25 and bmi < 30:\n        category = 'overweight'\n    else:\n        category = 'obese'\n    return category\n\n# compute bmi Category\ndata_preprocessed['BMI category'] = \\\n    data_preprocessed['Body mass index'].apply(get_bmi_category)","5732e400":"plt.figure(figsize=(9,5))\nplt.grid(False)\ncolors2= ['#CBC3E3','dodgerblue',\n                       '#40826D','indianred']\nsns.countplot(data=data_preprocessed, x='BMI category',\n              edgecolor='black',\n              order=['underweight', 'healthy weight',\n                     'overweight', 'obese'], \n              palette=colors2)\nplt.show()","21a919a1":"plt.figure(figsize=(9,15))\nplt.grid(False)\nax = sns.countplot(data=data_preprocessed, y = 'Reason for absence',\n                   hue='BMI category', edgecolor='black',\n        hue_order=['underweight','healthy weight',\n                   'overweight','obese'],\n        palette=colors2)\n\nax.set_xlabel('Number of Employees')\nplt.show()\n","6754016c":"plt.figure(figsize=(9,5))\nplt.grid(False)\ncolors3 = ['indianred','dodgerblue','#40826D']\nsns.violinplot(data=data_preprocessed, x='BMI category',\n               y='Absenteeism time in hours', \n               palette=colors3,\n               order=['healthy weight', 'overweight','obese',])\nplt.show()","1c90d79e":"\"\"\" \nComputing the Pearson's correlation coefficent ans p-value.\n\"\"\"\nfrom scipy.stats import pearsonr\npearson_test=  pearsonr(data_preprocessed['Age'],\\\n                      data_preprocessed['Absenteeism time in hours'])\n\n\"\"\"\nCreating regression plot and adding the correaltion coefficient\nin the title.\n\"\"\"\nplt.figure(figsize=(9,5))\nplt.grid(False)\nax = sns.regplot(data=data_preprocessed, x=\"Age\",\n                 y='Absenteeism time in hours', \n                 scatter_kws={'alpha':0.4}, color='indianred')\nax.set_title(f'Correlation = {pearson_test[0]:.3f} \\\n| p-value = {pearson_test[1]:.3f}')\nplt.show()","fbf1fd5e":"\"\"\"\nCreating violine plot to understand the relationship between\nAge and Diseases columns.\n\"\"\"\nplt.figure(figsize=(9,5))\nplt.grid(False)\nsns.violinplot(data=data_preprocessed, x='Disease',\n               y='Age', palette=['dodgerblue','indianred'])\nplt.show","cc45249b":"\"\"\"\nGet age entries for employees with Diseases == Yes and\nDisease == No.\n\"\"\"\ndisease_mask = data_preprocessed['Disease'] == 'Yes'\ndisease_ages = data_preprocessed['Age'][disease_mask]\nno_disease_ages = data_preprocessed['Age'][~ disease_mask]\n","a55d9a86":"\"\"\"\nPerform hypothesis test for equality of means.\n\"\"\"\ntest_res = ttest_ind(disease_ages, no_disease_ages)\nprint(f'Test for Equality of Means: Statistics = {test_res[0]:0.3f}, \\\nP-Value = {test_res[1]:0.3f}')\n\n\"\"\" \nTest for equality of ditributions with the help of \nKolmogorov-Smirnov test.\n\"\"\"\nks_res = ks_2samp(disease_ages, no_disease_ages)\nprint(f'KS Test for Equality of Distribution: Statistics =  {ks_res[0]:0.3f}, \\\nP-Value = {ks_res[1]:0.3f}')\n\n\n","95a47648":"plt.figure(figsize=(17,8))\nplt.grid(False)\nsns.violinplot(data=data_preprocessed, x='Reason for absence',\n               y='Age', palette=colors2)\nplt.show()","7c7b4057":"\"\"\" \nComputing the percentage of employees per education level.\n\"\"\"\neducation_types = ['High_school', 'Graduate',\n                   'Post_graduate','Master_phD']\ncounts = data_preprocessed['Education'].value_counts()\npercentages = data_preprocessed['Education'].value_counts(normalize=True)\nfor educ_type in education_types:\n    print(f'Education Type: {educ_type:13s}  |  Counts: {counts[educ_type]:6.1f}| Percentage: {100*percentages[educ_type]:4.1f}')\n","f8fa6e03":"plt.figure(figsize=(9,5))\nplt.grid(False)\ncolors4 = ['indianred','dodgerblue','#40826D','#FFFF8F']\nsns.violinplot(data=data_preprocessed, x= 'Education',\n               y='Absenteeism time in hours',\n               palette=['indianred','dodgerblue','#40826D','#FFFF8F'],\n               order=['High_school','Graduate',\n                      'Post_graduate','Master_phD'])\nplt.show()","7f8a8571":"\"\"\"\nMean and Standard Deviation of the absence of duration.\n\"\"\"\neducation_types = ['High_school', 'Graduate',\n                   'Post_graduate','Master_phD']\nfor educ_type in education_types:\n    mask = data_preprocessed['Education'] == educ_type\n    hours = data_preprocessed['Absenteeism time in hours'][mask]\n    mean = hours.mean()\n    stddev = hours.std()\n    print(f'Education Type: {educ_type:13s} | Mean: {mean:.03f} \\\n    | Standard Deviation: {stddev:.03f}')","8e43c6aa":"plt.figure(figsize=(9,15))\nplt.grid(False)\nsns.countplot(data= data_preprocessed, y='Reason for absence',\n              hue='Education', hue_order=['High_school','Graduate',\n                            'Post_graduate','Master_phD'],\n              palette=colors4)\nplt.show()","c8c09233":"\"\"\"\nDefining a threshold for extreme hours of absenteeism and then\ncalculating the total number of entries.\n\"\"\"\nthreshold = 40\ntotal_entries = len(data_preprocessed)\n# entries with high school education\nhigh_school_mask = data_preprocessed['Education'] == 'High_school'\n# entries with extreme absenteeism in hours\nextreme_mask = data_preprocessed['Absenteeism time in hours'] > threshold\n# probability of having high school degree\nprob_high_school = len(data_preprocessed[high_school_mask])\/ total_entries\n# probability of having more than high school degree\nprob_graduate = len(data_preprocessed[~ high_school_mask])\/ total_entries\n","602b2dc0":"\"\"\"\nComputing the probability of having high school degree  and being\nabsent for more than \"threshold\" hours.\n\"\"\"\nprob_extreme_high_school = len(data_preprocessed\\\n                [high_school_mask & extreme_mask])\/ total_entries\n\n\"\"\"\nComputing the probability of having more than high school and being\nabsent for more than \"threshold\" hours.\n\"\"\"\nprob_extreme_graduate = len(data_preprocessed\\\n                [~high_school_mask & extreme_mask])\/total_entries\n\n# printing the conditional probabilites\ncond_prob_extreme_high_school = prob_extreme_high_school\/prob_high_school\ncond_prob_extreme_graduate = prob_extreme_graduate\/prob_graduate\nprint(f'P(Extreme Absence | Degree = High_school) = \\\n{100* cond_prob_extreme_high_school:3.2f}')\nprint(f'P(Extreme Absence | Degree != High_school)= \\\n{100* cond_prob_extreme_graduate:3.2f}')","dc103ce7":"data_preprocessed.head().T","ae84ca84":"plt.figure(figsize=(9,5))\nsns.jointplot(data=data_preprocessed, \n              x='Distance from Residence to Work',\n              y='Absenteeism time in hours', kind='reg',\n              color='indianred')\n\nplt.show()","a93e9d03":"plt.figure(figsize=(9,5))\nsns.jointplot(data=data_preprocessed,\n              x='Transportation expense',\n              y='Absenteeism time in hours',\n              kind='reg', color='indianred')\nplt.show()","04f3115f":"from scipy.stats import yeojohnson\n\nhours = yeojohnson(data_preprocessed\\\n                   ['Absenteeism time in hours'].apply(float))\ndistances = data_preprocessed\\\n['Distance from Residence to Work']\nexpenses = data_preprocessed['Transportation expense']","f15d33ca":"plt.figure(figsize=(9,5))\nax = sns.jointplot(x=distances,y=hours[0], kind='reg', color='indianred')\nax.set_axis_labels('Distance from Residence to Work',\n                   'Transformed Absenteeism Time in Hours')\nplt.show()","04dab250":"plt.figure(figsize=(9,5))\nax = sns.jointplot(x=expenses,y=hours[0], kind='reg', color='indianred')\nax.set_axis_labels('Transportation Expense',\n                   'Transformed Absenteeism Time in Hours')\nplt.show()","5c149f20":"plt.figure(figsize=(9,5))\nax = sns.jointplot(x=distances,y=hours[0],kind='kde',\n                   color='indianred', shade=True, fill=True)\nax.set_axis_labels('Distance from Residence to Work',\n         'Transformed Absenteeism Time in Hours')\nplt.show()","1eea8c4c":"plt.figure(figsize=(9,5))\nax = sns.jointplot(x=expenses,y=hours[0],kind='kde',\n                   color='indianred', shade=True, fill=True)\nax.set_axis_labels('Transportation Expenses',\n         'Transformed Absenteeism Time in Hours')\nplt.show()","c205b3ea":"plt.figure(figsize=(9,5))\nplt.grid(False)\ncolors_new=['indianred','dodgerblue','#40826D','#FAC898','#C3B1E1']\nax = sns.countplot(data= data_preprocessed,\n                  x='Day of the week',\n            order=['Monday','Tuesday','Wednesday',\n                   'Thursday','Friday'],palette=colors_new, \n                   edgecolor='black')\nax.set_title('Number of Absences Per Day of the Week')\n\nplt.show()","e6b1b8f5":"plt.figure(figsize=(12,7))\nplt.grid(False)\nax = sns.countplot(data=data_preprocessed,\n                   x='Month of absence',\n                   order=['January','Febuary','March','April',\n                        'May','June','July','August',\n                'September','October','November','December'],\n                palette=colors_new, edgecolor='black')\nax.set_title('Number of Absences Per Month')\nplt.xticks(rotation=90)\nplt.show()","25b49708":"plt.figure(figsize=(9,5))\nplt.grid(False)\nsns.violinplot(data=data_preprocessed,\n               x='Day of the week',\n               y='Absenteeism time in hours',\n               order=['Monday','Tuesday','Wednesday',\n                   'Thursday','Friday'],\n               palette=colors_new, edgecolor='black')\nplt.show()","4082e8b7":"plt.figure(figsize=(9,5))\nplt.grid(False)\nsns.violinplot(data=data_preprocessed,\n                 x='Month of absence',\n                   y='Absenteeism time in hours',\n                     palette=colors_new, edgecolor='black',\n                   order=['January','Febuary','March','April',\n                 'May','June','July','August',\n              'September','October','November','December'])\nplt.xticks(rotation=90)\nplt.show()","ca145189":"\"\"\" \ncomputing the mean and standard deviation for each day of the week.\n\"\"\"\n\ndows = ['Monday','Tuesday','Wednesday',\n          'Thursday','Friday']\nfor dow in dows :\n    mask = data_preprocessed['Day of the week'] == dow\n    hours = data_preprocessed['Absenteeism time in hours'][mask]\n    mean = hours.mean()\n    stddev = hours.std()\n    print(f'Day of the Week: {dow:10s} |  Mean: {mean:.03f} | Stddev : {stddev:.03f}')\n\n","ed431037":"\"\"\" \nComputing the mean and standard deviation for each month of the yar.\n\"\"\"\n\nmonths = ['January','Febuary','March','April',\n             'May','June','July','August',\n               'September','October','November','December']\nfor month in months:\n    mask = data_preprocessed['Month of absence'] == month \n    hours = data_preprocessed['Absenteeism time in hours'][mask]\n    mean = hours.mean()\n    stddev = hours.std()\n    print(f'Month: {month:12s} | Mean: {mean:8.03f} | Stddev: {stddev:8.03f}')\n","5ced7e42":"\"\"\"\nComputing statistical test for average duration of difference.\n\"\"\"\nthursday_mask = data_preprocessed['Day of the week'] == 'Thursday'\nthursday_data = data_preprocessed['Absenteeism time in hours'][thursday_mask]\nno_thursday_data = data_preprocessed['Absenteeism time in hours'][~thursday_mask]\n\njuly_mask = data_preprocessed['Month of absence'] == 'July'\njuly_data = data_preprocessed['Absenteeism time in hours'][july_mask]\nno_july_data = data_preprocessed['Absenteeism time in hours'][~july_mask]\n\nthursday_res = ttest_ind(thursday_data, no_thursday_data)\njuly_res = ttest_ind(july_data, no_july_data)\n\nprint(f'Thursday Test Result: Statistics = {thursday_res[0]:.3f},\\\n  P-Value = {thursday_res[1]:.3f}')\nprint(f'July Test Result: Statistics = {july_res[0]:.3f},\\\n  P-Value = {july_res[1]:.3f}')","7f2d56fb":"\"\"\" \nCreating KDE plot to visualise Service time column.\n\"\"\"\nplt.figure(figsize=(9,5))\nplt.grid(False)\nax = sns.kdeplot(data = data_preprocessed,\n                 x='Service time', color='indianred',shade=True)\nplt.show()","a0fd6b26":"\"\"\"\nCreating violin plot for the Service time column, against the \nReason of Absence.\n\"\"\"\nplt.figure(figsize=(12,7))\nplt.grid(False)\nsns.violinplot(data=data_preprocessed,\n               x='Reason for absence',\n               y='Service time', palette=colors_new)\nplt.show()","6fcb1fcc":"\"\"\"\nPlotting the service time against reason for absence to producce,\ncorrelation plot between service time and absenteeism time in hours.\n\"\"\"\nplt.figure(figsize=(9,5))\nservice_time = data_preprocessed['Service time']\nabsenteeism_time = yeojohnson(data_preprocessed['Absenteeism time in hours']\\\n                              .apply(float))[0]\nax = sns.jointplot(x=service_time, y=absenteeism_time,\n                   kind='reg', color='indianred')\nax.set_axis_labels('Service Time', 'Transformedd Absenteeism Time in Hours')\nplt.show()\n\n","d9407dd6":"\"\"\" Analysing the distribution of absenteeism time in hours,\nper number of children.\n\"\"\"\nplt.figure(figsize=(9,5))\nplt.grid(False)\nsns.violinplot(data= data_preprocessed, x='Son',\n               y='Service time', palette=colors_new)\nplt.show()","39b6f532":"It can be seen that both the mean and standard deviation of the hours of absence are decreasing, meaning highly educated employees rend to have shorter absences. Hence, Higher degree is not the cause of such a phenomenon and is more likely an indication of it.","f7035727":"# 3. Identifying the Reasons for Absence: \n****\n\nCreating a new variable called \"Disease\" which indicates whether a specific reason for absense is present in the ICD table or not.\n****","ffa6a5fa":"\n\nThe P-Value of both the tests is above the critical value of 0.05, which means that the null hypothesis cannot be rejected. Simply put, we cannot say there is a statistically significant difference in the absenteeism hours between drinkes and smoker and non-drinkers and non-smokers.","9309556e":"\nThere are no entries for the underweight category, there on the data is uniformly distributed among the remaining three categories.\naround 60% of the the employees are either overweight or obese.\n","9357907d":"# INDEX\n----------------------------\n| Serial | Contents |\n| ------ | ----------- |\n 1.| Introduction.\n 2.| Importing Libraries and Dataset.\n 3.| Identifying the Reasons for Absence.\n 4.| Statistical Analysis.\n 5.| Impact of Body Mass Index (BMI) on Absenteeism of Employee.\n 6.| Influence of Age.\n 7.| Influence of Education.\n 8.| Transportation Cost and Distance to Work Factors.\n 9.| Analysing Service Time and Son Feature Column.\n 10.| Conclusion and Key Findings.","d24543e2":"# 8. Transporation Costs and Distance to Work Factors:\n***\nTwo possible indicators for absenteeism may also be the distance between home and work (the  Distance from Residence to Work  column) and transportation costs (the  Transportation expense  column). Employees who have to travel longer, or whose costs for commuting to work are high, might be more prone   to absenteeism.\nAnalysing the relationship between these variables and the absence time in hours. Since the aforementioned factors might be indicative of disease problems, it cannot consider a possible relationship with the Reason for absence column.\n***","9f87995f":"## 3.1 Analysing The Reasons for Absence.\n****\nIn this section, analysis of the column **Reason for absence** is undertaken, to address questions such as.\n\na) What is the most common reason for absence?\n\nb) Does being a drinker or smoker have influence on absenting?\n\nc) Does the distance to work have some effect on the absenteeism?\n****","395f8f8a":"\nFrom the resulting plot, the conditional probability of being social drinker or smoker quite high, once an absence with certain reason occurs. This is due to the fact that number of entries is very small, as such, if all the registered employees who were absent for certain reason are smokers, the probability of being a smoker, once that reason has been registered and will be equal to one.","478f78d1":"## 5.1 Distribution of BMI for each category:\n***","627d1df1":"## 4.1 Hypothesis Testing:\n****\n**Hypothesis Testing** \nHypothesis testing is a form of statistical inference that uses data from sample to draw conclusions.\nhow it is relevant here, Performing hypothesis testing on the absenteeism hours to find a parameter, with which a tentative assumption can be drawn about the said parameter, This assumption is called **Null Hypothesis**.\nTo assess the average absenteeism time in hours is same for both drinkers and non-drinkers ( with Null- Hypothesis)\n****","bfffcfb6":"\n## 3.2 Analysis of Social Drinkers and Smokers:\n***\nAnalysing the impact of being a drinker or smoker on an enpoyee's absenteeism. As smoking and frequent drinking have negative impact on health coditions, it would mean that certain disease are more frequent in smoker and drinkers than others.\n\n**Note** from the descriptive statistics column, we know that 56% of the employee are drinkers whereas 7% of the employees are smokers.\n***","f4ffbf8b":"# ABSENTEEISM AT WORK - CASE STUDY:\n****\n****\n| Tags | Descripton |\n| -----| ---------- |\nDelivarables | Analysis in detail about the root causes of absence from work.\nLibraries | Pandas, Matplotlib, seaborn, scipy\nTopics | Data Analysis, Probability, Conditional Probability, Statistics to normalise data, Data Visualisation.","134fb262":"## 6.1 Age and Absenteeism Time In Hours:\n***","92308eab":"## 7.2 Distribution of Education and Number of Hours of Absence:\n***","b469b516":"\nFrom the preceding plots, we can't really see a substantial difference between the different days of the week or months. It seems that fewer absences occur on Thursday, while the month with the most absences is March, but it is hard to say that the difference is significant.","8a1af0e7":"# 5.  Impact of Body Mass Index (BMI) on Absenteeism of Employee:\n***\nBMI is a n=universal way to classify people as **underweight, healthy, weight, overweight and obese** based on tissue mass( muscle, fat and bone) and height.\n\n***\n\n","66b67313":"From the preceding plot, it can be observed that most of the absences relate to employees with a  High_school level of education. This is, of course, due to the fact that most of the employees only have a high school degree (as observed before). Furthermore,we saw that most of the absences that consisted of a greater number of hours were among employees with a High_school  education level. One question arises,is whether the probability of being absent for more than one working week (40 hours) is greater for employees with a high school degree compared to graduates.Addressing this question, with the help conditional probability.","b17fd05c":"## 7.3 Education Level and Reasons for Absence:\n***","b7a76b3f":"\nFrom the results of the two test, it can be concluded that there is no statistically significant difference between the two distribution, Thus, age is neither an indicator for length of an absence nor for its type.","a2af7974":"Since the P-Values for the statistical test are below the critical value, followings can be concluded:\n- There is a statistically significant difference between Thursdays and other days of the week. Absences on Thursday have a shorter duration, on an average.\n- Absences during July are the longes over the year. Also, in this case, Null hypothesis testing can be rejected of having no difference.\n\nFrom the Analysis in this section, it can be safely concluded that the observation about the difference in absenteeism during the month of July and Thursday are correct.","2f6070cb":"## 6. Influence of Age:\n***\nAge may also influence employees' absenteeism. For instance, older employees might need more frequent medical treatment, whereas younger employees might be less prone to being absent.\n\nFirst, investigating the  correlation  between  age  and  absence  hours. with the help of, regression plot, in which we'll plot the  Age  column on the  x  axis and  Absenteeism time in hours on the  y  axis. Analysis also includes the Pearson's correlation coefficient and its p-value, where the null hypothesis is that the correlation coefficient between the two features is equal to zero.\n***","038ac071":"## 7.4 Conditional Probability for Absences by Employees without High School degree:\n***","0bfe0a88":"The total number number of enteries is represented by the sum of both yes and no bars.\n- Number of reasons for absence in that are not listed in the ICD table is almost twice the number of the reaons that are listed.","11110839":"\nThere are no clear pattern from the following graph. Simply put, the reason of absence, is almost equal for employees of each BMI catgeory.","455af247":"\nIt can be observed that most of the meployees in that data have high school degree(82.6) which means that data is highly biased towards these employees.","95b9e1dd":"## 9.3 Visualising the Relationship Between Service Time and Absenteeism Time in Hours:\n***","d2c7c8e7":"##### **Reason for absence** column contains information about the absence which is encoded based on the **International Code of Disease(ICD)** the following tables represents the code for each:\n\n| Code   | Description |\n|------  |-------------|\n1 | Certain infectious and parasitic disease.\n2 | Neoplasms.\n3 | Diseases of the blood and blood-forming organs and certain disorders involving the immune system.\n4 | Endocrne, nutritional and metabolic diseases.\n5 | Mental and behavioral disordera.\n6 | Diseases of Nervous system.\n7 | Diseases of the eye and adncexa.\n8| Diseases of the ear and mastoid. process.\n9| Diseases of the circulatory sysrem.\n10 | Dieases of the respiratory system.\n11 | Diseases of the digestive system.\n12| Diseases of the skin and sucutaneous tissue.\n13| Diseases of the musculoskeletal system and connective tissue.\n14 | Diseases of thr genitourinary system.\n15 | Pregnancy, childbirth and th e puerperium.\n16 | Certain conditions originating in the perinatal period.\n17 | Congenital malformations, deformations and chromosomal abnormalities.\n18 | Symptoms, signs and abnormal clinical and findings not elsewhere classified.\n19 | Injury, poisioning and certain other consequences of external causes.\n20 | External causes of morbidity and mortality.\n21| Factors influencing heath status. and contact with health services.\n22| Patient follow up.\n23 | Medical consultation.\n24 | Blood donation.\n25 | Laaboratory examination.\n26 | Unjustified absence.\n27 | Physiotherapy.\n28 | Dental consultation.\n0 | Unknown.\n\n** Note ** Values ranging between 1 to 21 represents actual disease, values from 22 to 28 are separate reasons, which do not represent any disease, while 0 is not identified hence it is encoded as unknown.\n","b41501ba":"\nThe Numbers on the x-axis are encoded category for ICD related diseases, following asssertions can be made:\n\n- The most frequent reason for absence are **Medical consultation(23)**, **Dental consultation(28)**  and **Physiotherapy(27)**, they are not in the range of 1-21 in ICD table so they do not represent any absence for actual underlying medical disease.\n- The most frequent reason for absence which are indeed related to disease, are **Musculoskeletal systemt and connective tissue(13)** ,\nand **Injury, poisoning and certain other consequences of external causes(19)**. \n\n","d750deda":"## 4.2 Kolmogorov-Smirnov Test:\n***\nIn statistics, the **Kolmogorov-Smirnov Test** is non-parametric test of equality of continous one-dimenensional probability distributions that can be used to compare a sample with reference probability distribution or to compare two samples.\n***","1904c748":"## 3.3  Identifying the Reasons of Absence with Higher Probabilities among Drinkers and Smokers:\n***\n\nComputing the conditional probabilities of the different reasons for absence, assuming that the employee is a social drinker or smoker.\n***","fb9c2195":"From this following grapg, we can infer that number of absent hours for employees with greater number of children lies in the range of  10-15 hours. Employees with less than three children appear to be absent in varying range of 1-20 hours.\nSpecifically employees with no children still have varying number of absent hours within the range pf 10-15 hours, owing to other reasons, which opens up another question for analysis. On the contrary, employees with one children are  absent only for an average of 5 hours.Employees with two children have an average of 15-25 absent hours.","efc0f754":"Columns such as, ** Month of absense, Day of the week, Seasons, Education, Disciplinary Failure, Social drinker and Social smoker** are categorical values. ","635e8574":"\nThe P-value for the drinkers dataset is lower than the critical point 0.05, which is strong evidence against the null hypothesis of the two distributions being equal. on the other hand, as the P-value for the smokers dataset is higher than 0.05, we cannot reject the null hypothese.","2ffea6b4":"\nIt can concluded from the resulting graph, that age bears 0 influence on employee's absenteeism.","4ff38279":"\nThere are some differences in the outliers of drinker and smokers, but there is no substantial difference between their distribution of absenteeism in hours.","b71e3773":"## 5.2 Analysing how BMI Categories Influences the Reason for Absence:\n***","7617b4a5":"## 8.1 Analysing Absence Hours- Based on Day of the Week and Month of the Year:\n***","c371d03a":"## 9.1 Investigating Service Time:\n***","72c0d997":"## 7.1 Computing the Percenatge of Employees and the Degrees they hold:\n***","13505ebc":"\nFrom the resulting plot, no significant pattern can be observed.Furthermore, the correlation coefficientis extremely small at just (0.066) and the p-value is above the threshold of 0.05, which indicates that there is no relationship between **Age** and **Absenteeism time in hours**.","aa5f12e2":"## 9.4 Distribution of Service Time with respect to Son column(Number of children):\n***","206a98db":"\nFrom two preceeding graphs, the distribution of **Distance from Residence to Work** and **Transportation expense** appears close to the normal distribution, while absenteeism in hours is heavily  right-skewed. This makes the comparison between the variables difficult to interpret.\n\nOne problem to tackle this problem is to transform the data into something close to a normal distribution. To perform this transformation, the **Box-Cox** or **Yeo-Johnson** transformations.","b5cf63d4":"# 7. Investigating the Influence of Education:\n***\n\nAnalysing the realtionship between the **Reason for Absence** and **Education**.Starting by looking at the percentage of employees with certain educational degree and relating the numbers to the various reasons for absence.\n***","f3953a4c":"From the resulting plots, a significant difference between drinkers and non drinkers can be observed in absence related to **Dental consultation(28)**.\nFurthermore, as the number of smoker is quite small (only 7%) of the entries  it is very hard to say whether there is actually a relationship between the absence reasons and smoking. ","d2b4a32b":"# 9. Analysing Service Time and Son Column:\n***","7ae9c047":"Figures from the **Section 7.3**, we can observe the regression line between the variables is almost flat for the **Distance from Residence to Work** column, which clearly indicates zero correlation,although it has sligh upward slope for **Transportation Expense column, therefore it it has small positive correlation.","eb630b3c":"# 1. INTRODUCTION\n*****\n\nThe work relationships are becoming more and more trust-oriented, and conservative contracts (in which time is strictly monitored) are being replaced with more agile, in which the employee themselves is responsible for accounting the working time. This liberty may lead to unregulated absenteeism and may reflect poorly on an employee's candidature, even if the absent hours can be accounted for with geneuine reasons. This can significantly undermine healthy working relationships.Moreover, unregulated absenteeism can also have negative impact on work productivity.\n\nThis case study revolves around analysing the reasons for employees absence from work, this data is from a Brazilian Courier Company.\n***","a353e799":"\nObserving the graph, it is very clear that BMi has little to no influence on the absenteeism of the employees.","3ebba83c":"There are 21 columns in the dataset, only 1 column **work load Average\/day** does not contain any integral values. There are no missing values in the row.","ce01f2e7":"Creating **Kernel density estimation(KDE)** plots, these plots will help in visualising the probability density functions of continous variables.","db0354ee":"## 6.3 Investigating the Relationship Between Age and Reason for Absence:\n***","58878e92":"## 9.2 Analysing Service time against Reason for Absence: \n***","02cd5288":"Observe that the average duration of the absences is slightly shorter on Thursday (4.424 hours), while absences during July have the longest average duration (10.955 hours). To determine whether these values are statistically significant,that is, whether there is a statistically significant difference regarding the rest of the days\/months.","8b906e0d":"## 3.4 Analysing the Distribution  of Hours of Absenteeism:\n***\nAnalusing the distribution based on two classes: being a drinker and smoker vs not being a drinker and smoker.\n****","e93e007a":"\nThe highest reason for absence fro drinkers is **Dental consultation(28)**  followed by **Medical consultation(23)**, for smoker's absence hoever are mostly due to **Unknown reasons (0)** and **Laboratory examination(25)**","af2213c0":"## 8.1 Analysing the Influence of Distance from Residence to Work and Transporation Expense against Absenteeism Time in Hours:\n***","41c4a588":"## 5.3 Analysing the Distribution of Absence Hours for the Different BMI Category:\n***","d193cb12":"## 7.3 Tranforming the Skewness- Yeo-Johnson Transformation:\n***","281f6781":"\nIt can be observed, the differences between the two distributions of age,\nfor samples with ICD encoded reasons for absence(labeled **Yes**). it can be seen that there more samples present for older employees.\n\nTo confirm this performing **Hypothesis Tests** on the means and distributions of the two groups.","e4044d90":"From the computations, we can see that the probability  of having an absence of more than 40 hours for employees with school degree is 2.29%, which approximately three time more than the same probability for employees with university degree of 0.78%","4a9669ef":"# 10. CONCLUSION - Key Findings:\n***\n1. Absenteeism in hours among employees for non-medical purpose as per the ICD table, is signicantly higher.\n2. More than half of the employees are social drinkers.\n3. For employees who drink, they have higher absence for **Dental Consultation**\n4. There is no significant difference in absenteeism in hours for social drinker and social smokers,\n5. 60% of the employees are found to over-weight or obese.\n6. Age does not Influence absenteeism.\n7. Employees with higher degree have significantly less absence from work.\n8. Number of absence from work increases with number of children.\n***","2f2ddeb9":"## 8.2 Computing the Mean and Standard Deviation of Absences- Based on the Day of The Week and Month of the Year:\n***","4c8b70c0":"# 4. Statistical Analysis:\n***","c9198733":"It appears most of the extreme cases of absence are for lower education levels.","ecbadf99":"# 2. Import Libraries and Dataset:\n\n*****\nImporting the necessary libraries for exploring the data, in this stage, libraries will be loaded as per their standard alias and the dataset will be imported.\n***","4c91e22e":"## 6.2 Investigating the Relatonship of Age and Disease:\n***","eb6b90e2":"# 8. Analysing the Number of Entries for Each Day of the Month:\n***"}}