{"cell_type":{"0bd97196":"code","4490b070":"code","e6ac1fdf":"code","e0a74c2e":"code","358be908":"code","3ce66e58":"code","f8cc8749":"code","a0fdbca4":"code","47a28974":"markdown","597090e6":"markdown","52016541":"markdown","8fc88364":"markdown","7ae29e84":"markdown","4948d258":"markdown","62cb8127":"markdown","e1afd7d9":"markdown"},"source":{"0bd97196":"from csv import reader\nopened_file = open('..\/input\/hacker-news\/hacker_news.csv')\nread_file = reader(opened_file)\nhn = list(read_file)\nheaders = hn[0]\nhn = hn[1:]\n\nprint(headers)","4490b070":"ask_posts = []\nshow_posts = []\nother_posts = []\n\nfor row in hn:\n    title = row[1]\n    if title.lower().startswith(\"ask hn\"):\n        ask_posts.append(row)\n    elif title.lower().startswith(\"show hn\"):\n        show_posts.append(row)\n    else:\n        other_posts.append(row)\n        \nprint(len(ask_posts))\nprint(len(show_posts))\nprint(len(other_posts))","e6ac1fdf":"total_ask_comments = 0\nfor row in ask_posts:\n    total_ask_comments += int(row[4])\n\navg_ask_comments = total_ask_comments \/ len(ask_posts)\nprint(avg_ask_comments)","e0a74c2e":"total_show_comments = 0\nfor row in show_posts:\n    total_show_comments += int(row[4])\n\navg_show_comments = total_show_comments \/ len(show_posts)\nprint(avg_show_comments)","358be908":"result_list = []\nfor row in ask_posts:\n    created_at = row[6]\n    comments = int(row[4])\n    row_list = []\n    row_list.append(created_at)\n    row_list.append(comments)\n    result_list.append(row_list)\n\nprint(result_list[:3])","3ce66e58":"import datetime as dt\ndate_format = '%m\/%d\/%Y %H:%M'\n\ncounts_by_hour = {}\ncomments_by_hour = {}\n\nfor row in result_list:\n    date_and_time = row[0]\n    comments = row[1]\n    converted = dt.datetime.strptime(date_and_time, date_format)\n    hour = converted.strftime('%H')\n    \n    if hour not in counts_by_hour:\n        counts_by_hour[hour] = 1\n        comments_by_hour[hour] = comments\n    else:\n        counts_by_hour[hour] += 1\n        comments_by_hour[hour] += comments\n    \nprint(counts_by_hour)\nprint('\\n')\nprint(comments_by_hour)","f8cc8749":"avg_by_hour = []\n\nfor hour in counts_by_hour:\n    avg_by_hour.append([hour, comments_by_hour[hour] \/ counts_by_hour[hour]])","a0fdbca4":"swap_avg_by_hour = []\n\nfor row in avg_by_hour:\n    swap_avg_by_hour.append([row[1], row[0]])\n\nsorted_swap = sorted(swap_avg_by_hour, reverse=True)\nprint(\"Top 5 Hours for Ask Posts Comments\")\ntemplate = \"{hour}: {comments:.2f} average comments per post\"\n\nfor row in sorted_swap[:5]:\n    everage = row[0]\n    hour = row[1]\n    converted = dt.datetime.strptime(hour, \"%H\")\n    converted = converted.strftime(\"%H:%M\")\n    output = template.format(hour=converted, comments=everage)\n    print(output)","47a28974":"Conclusions:\n---\nA post under the Ask HN section is more likely to receive comments than one under the Show HN section. We can see that there are three periods in a day, during which posts raise more community discussion. The time zone of the `created_at` column of our data set is Eastern Time in the US. Periods of community activity spread around the clock, except for morning and lunchtime of GMT-5. So it is possible to select a convenient time to post at Hacker News in every time zone.","597090e6":"At the next step, we will calculate an average number of comments for a post in each section.","52016541":"As we can see, Ask HN posts have much more discussion than Show HN posts. Thus, we will proceed with our analysis of the Ask post section.\n\nWe analyze the best time for comments, so we need a list only with time and comments for our further analysis.","8fc88364":"Exploring Hacker News Posts\n---\nWe have received the task to analyze when to create a post on the [Hacker News](https:\/\/news.ycombinator.com\/news) website so it is more likely to be discussed. We also need to recommend one of Hacker News post sections: Ask or Show.\n\nWe use the data set of 20000 Hacker News posts available on kaggle.com [here](https:\/\/www.kaggle.com\/keplaxo\/hacker-news).\n\nWe will open the file and separate the headers row.","7ae29e84":"We will convert the date and time of posts to `datetime` format. As we are interested in optimal hours for a post, we will create a frequency table of posts by an hour and a corresponding frequency table of comments on posts at these hours.","4948d258":"Now we can see the hours to create a post, which is more likely to receive more comments. ","62cb8127":"In the next step, we combine two frequency tables to create a list of average comments by each hour of a day.","e1afd7d9":"The `title` column contains a post topic. We are interested in Ask and Show posts, which start with \"Ask HN\" and \"Show HN\" respectively. We will separate Ask and Show posts from other posts in our data set."}}