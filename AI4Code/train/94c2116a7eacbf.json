{"cell_type":{"c9f8b91d":"code","9b9a09ea":"code","1a580f94":"code","21b03670":"code","f8322937":"code","d6f76c73":"code","725c88c9":"code","5525cba6":"code","60f928a4":"code","08e19046":"code","b058332a":"code","f88517ea":"code","d6df51a6":"code","1e333296":"code","83af07f7":"code","cd68af40":"code","a95d4c12":"code","ccb64880":"code","5a07fffc":"code","dd07ade1":"code","87ccbe2f":"code","990f15ee":"code","30c8be3d":"code","a27d61f7":"code","164ac204":"code","041274ed":"code","76cce17d":"code","fdc6b407":"code","69ad753f":"code","b2e0c8f7":"code","edad1119":"code","f00fa8be":"code","7cd1a56f":"code","88a08657":"code","cc90cb45":"code","f241390a":"code","7ea1aeb4":"code","f801ab06":"code","9a98687b":"code","6779a77d":"code","6b73b6f0":"code","da00a9fc":"code","227aae1a":"code","56dc62cf":"code","47072746":"code","de04b67e":"markdown","49fd4dd3":"markdown","4c1cc2bf":"markdown","0b267250":"markdown","4a548c56":"markdown","01b7c133":"markdown","f4f10d4f":"markdown","3d0bf0cf":"markdown","9a8f392b":"markdown","9c40f128":"markdown","15612ee0":"markdown","3d4b002d":"markdown"},"source":{"c9f8b91d":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom matplotlib import rcParams\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.preprocessing import LabelEncoder\nlbl = LabelEncoder()\nrcParams['figure.figsize'] = 10, 6\nimport os\nprint(os.listdir(\"..\/input\"))\npd.set_option('display.max_columns', 200)\npd.set_option('display.max_rows', 200)","9b9a09ea":"from wand.image import Image as Img\npath ='..\/input\/ibrd-statement-of-loans-data\/'\nImg(filename= path+'Data_Dictionary_-_IBRD_Statement_of_Loans_and_IDA_Statement_of_Credits_and_Grants.pdf', resolution=300)","1a580f94":"ibrd_statement = pd.read_csv(path+'ibrd-statement-of-loans-historical-data.csv')\nibrd_statement.head()","21b03670":"ibrd_statement.shape","f8322937":"#ibrd_statement = ibrd_statement.sample(frac=0.1, random_state=54)","d6f76c73":"del ibrd_statement['Loan Number']\ndel ibrd_statement['Country Code']\ndel ibrd_statement['Project ID']\ndel ibrd_statement['Guarantor Country Code']","725c88c9":"ibrd_statement['Loan Status'].unique()","5525cba6":"ibrd_statement['Board Approval Date'] = pd.to_datetime(ibrd_statement['Board Approval Date']) ","60f928a4":"ibrd_statement = ibrd_statement.set_index(ibrd_statement['Board Approval Date'])","08e19046":"ibrd_statement['Loan Status'] = ibrd_statement['Loan Status'].str.strip()","b058332a":"ibrd_statement['Loan Status'].unique()","f88517ea":"ibrd_statement['Loan Type'].unique()","d6df51a6":"null_values = pd.DataFrame({'columns':pd.isnull(ibrd_statement).sum().index, 'count':pd.isnull(ibrd_statement).sum().values})","1e333296":"print(\"Total {} cols have a null values\".format(null_values.loc[null_values['count']>0,].shape[0]))","83af07f7":"null_values.loc[null_values['count']>0,].sort_values(by='count', ascending=False)","cd68af40":"ibrd_statement.loc[(ibrd_statement['Loan Status'] == 'Approved'),['Country','Original Principal Amount']].groupby(['Country'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(15)","a95d4c12":"plt.figure(figsize=(25, 10))\nsns.barplot(x='Country', y='Original Principal Amount',palette='BuGn_r', data=ibrd_statement.loc[(ibrd_statement['Loan Status'] == 'Approved'),['Country','Original Principal Amount']].groupby(['Country'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(15))\nplt.xticks(rotation=45)\nplt.show()","ccb64880":"plt.figure(figsize=(25, 10))\nsns.barplot(x='Country', y='Original Principal Amount', data=ibrd_statement.loc[(ibrd_statement['Loan Status'] == 'Approved'),['Country','Original Principal Amount']].groupby(['Country'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=True).head(15))\nplt.xticks(rotation=45)\nplt.show()","5a07fffc":"plt.figure(figsize=(25, 10))\nsns.barplot(x='Project Name ', y='Original Principal Amount', palette='BuGn_r', data=ibrd_statement.loc[:,['Project Name ','Original Principal Amount']].groupby(['Project Name '], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(15))\nplt.xticks(rotation=45)\nplt.show()","dd07ade1":"ibrd_statement.loc[:,['Country','Original Principal Amount']].groupby([ibrd_statement.index.year]).sum().sort_values(by='Original Principal Amount', ascending=False)","87ccbe2f":"group_df = ibrd_statement.loc[:,['Country','Original Principal Amount']].groupby([ibrd_statement.index.year]).sum().sort_values(by='Original Principal Amount', ascending=True).head(10)\nplt.figure(figsize=(25, 10))\nsns.barplot(x=group_df.index, y='Original Principal Amount',  data=group_df)\nplt.xticks(rotation=45)\nplt.show()\n","990f15ee":"india_df = ibrd_statement.loc[ibrd_statement['Country'] =='India',]","30c8be3d":"india_df.loc[:,['Project Name ','Original Principal Amount']].groupby(['Project Name '], as_index=False).head(5)","a27d61f7":"plt.figure(figsize=(25, 10))\nsns.barplot(x='Project Name ', y='Original Principal Amount', palette='BuGn_r', data=india_df.loc[:,['Project Name ','Original Principal Amount']].groupby(['Project Name '], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(15))\nplt.xticks(rotation=45)\nplt.show()","164ac204":"ibrd_statement.loc[:,['Loan Status','Original Principal Amount']].groupby(['Loan Status'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=True).head(15)","041274ed":"plt.figure(figsize=(25, 10))\nsns.barplot(x='Loan Status', y='Original Principal Amount',palette='BuGn_r', data=ibrd_statement.loc[:,['Loan Status','Original Principal Amount']].groupby(['Loan Status'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(15))\nplt.xticks(rotation=45)\nplt.show()","76cce17d":"ibrd_statement.head()","fdc6b407":"ibrd_statement.head(3)","69ad753f":"ibrd_statement['First Repayment Date'] = pd.to_datetime(ibrd_statement['First Repayment Date']) \nibrd_statement['Last Repayment Date'] = pd.to_datetime(ibrd_statement['Last Repayment Date']) \nibrd_statement['Agreement Signing Date'] = pd.to_datetime(ibrd_statement['Agreement Signing Date']) \nibrd_statement['Board Approval Date'] = pd.to_datetime(ibrd_statement['Board Approval Date']) \nibrd_statement['Effective Date (Most Recent)'] = pd.to_datetime(ibrd_statement['Effective Date (Most Recent)']) \nibrd_statement['Closed Date (Most Recent)'] = pd.to_datetime(ibrd_statement['Closed Date (Most Recent)'])\nibrd_statement['End of Period'] = pd.to_datetime(ibrd_statement['End of Period'])","b2e0c8f7":"ibrd_statement.head(3)","edad1119":"ibrd_statement['Interest Rate'].fillna(ibrd_statement['Interest Rate'].min(), inplace=True)","f00fa8be":"plt.figure(figsize=(25, 6))\nsns.distplot(ibrd_statement['Original Principal Amount'] ,color='r')\nsns.distplot(ibrd_statement['Disbursed Amount'], color='g')\nsns.distplot(ibrd_statement['Repaid to IBRD'], color='b')\nplt.show()","7cd1a56f":"plt.plot(ibrd_statement['Loans Held'].unique())\nplt.show()","88a08657":"sns.boxplot(ibrd_statement['Interest Rate'])\nplt.show()","cc90cb45":"ibrd_statement.shape","f241390a":"g = sns.FacetGrid(ibrd_statement,  hue=\"Loan Status\", col=\"Loan Type\", margin_titles=True,  col_wrap=4, palette='Paired')\ng=g.map(plt.scatter, \"Original Principal Amount\", \"Disbursed Amount\",edgecolor=\"w\").add_legend();\nplt.show()","7ea1aeb4":"ibrd_statement.loc[:,['Loan Type','Original Principal Amount']].groupby(['Loan Type'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(10)","f801ab06":"sns.barplot(x='Loan Type', y='Original Principal Amount', data=ibrd_statement.loc[:,['Loan Type','Original Principal Amount']].groupby(['Loan Type'], as_index=False).sum().sort_values(by='Original Principal Amount', ascending=False).head(10))\nplt.xticks(rotation=45)\nplt.show()","9a98687b":"india_df = ibrd_statement.loc[(ibrd_statement['Country'] == \"India\"),]","6779a77d":"india_df.head(2)","6b73b6f0":"india_df.loc[:,'Original Principal Amount'].groupby(india_df.index.year, as_index=True).sum().sort_values(ascending=False).head(10).values","da00a9fc":"group_df = india_df.loc[(india_df['Loan Status'] =='Approved'),'Original Principal Amount']\ngroup_df = group_df.groupby(group_df.index.year, as_index=True).sum().sort_values(ascending=False).head(20)\nsns.barplot(x=group_df.index,y=group_df.values)\nplt.xticks(rotation=45)\nplt.show()","227aae1a":"group_df = india_df.loc[(india_df['Loan Status'] =='Disbursed'),'Original Principal Amount']\n\ngroup_df = group_df.groupby(group_df.index.year, as_index=True).sum().sort_values(ascending=False).head(15)\nsns.barplot(x=group_df.index,y=group_df.values)\nplt.xticks(rotation=45)\nplt.show()","56dc62cf":"#group_df = india_df.loc[(india_df['Loan Status'] =='Approved'),['Project Name ','Original Principal Amount']]\n#group_df[['Project Name ','Original Principal Amount']].sort_values(by='Original Principal Amount', ascending=False).head(10)\n#group_df = group_df.groupby(group_df['Project Name ','Original Principal Amount'], as_index=True).sum().sort_values(by=group_df['Original Principal Amount'], ascending=False).head(20)\n#group_df.values\n#sns.barplot(x=list(group_df.index), y=list(group_df.values))\n#plt.xticks(rotation=45)\n#plt.show()\n#group_df.values","47072746":"#india_df.loc[(india_df.index.year == 2009),].head()","de04b67e":"Removed space in **Loan Status** column","49fd4dd3":"Finding a null values ","4c1cc2bf":"If interest rate null that means interest rate is zero. So to fill zero.","0b267250":"I am trying to continue update this kernel. If you like this please up vote me.","4a548c56":"Fixed-Spread Loan (FSL) <br\/>\nCurrency Pool Loan (CPL)<br\/>\nVariable-Spread Loan (VSL)<br\/>\nSingle Currency Pool Loan (SCP)<br\/>","01b7c133":"Barplot much clear.<br\/>\nI wish know about only india data. I have to create separate dataset.","f4f10d4f":"Here clear show Repaid is higher. I wish know about contry by loan status.","3d0bf0cf":"I wish to knwo about india witch project type loan takeing loats of time.","9a8f392b":"Most of loan is FSL type loan. We will make the barplot for this.","9c40f128":"Interesting, India have took loan big amount for banking sector suppport.  ","15612ee0":"Print a null values columns names","3d4b002d":"## International Bank for Reconstruction and Development"}}