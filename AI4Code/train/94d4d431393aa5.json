{"cell_type":{"c01cb42c":"code","642304e3":"code","fc3d729b":"code","2e1bccb0":"code","1dcce75d":"code","e7be04ae":"code","82f626d9":"code","f3d96ecd":"code","7ba23535":"code","c8b7478c":"code","ae265670":"code","13818083":"code","07126657":"code","d8ffafe2":"code","11f68f09":"code","33faab05":"code","905ae6f4":"code","cafd76be":"markdown","79a448ab":"markdown","67ec5f1c":"markdown","419a226b":"markdown","d027fee9":"markdown","d50e88d9":"markdown","53756387":"markdown"},"source":{"c01cb42c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","642304e3":"# Importando arquivo csv para o dataframe\ndf = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv\")\n\n# Conferindo os tipos de dados \ndf.info()","fc3d729b":"# Conferindo a massa de dados\ndf.sample(15).T","2e1bccb0":"# Filtrando a base de dados com informa\u00e7\u00f5es do Brasil\ndf_brazil = df.copy()\ndf_brazil = df[df_brazil['Country\/Region'] == 'Brazil']\n\ndf_brazil.info()","1dcce75d":"# Removendo colunas desnecess\u00e1rias\ndf_brazil = df_brazil.drop('Last Update', axis=1)\ndf_brazil = df_brazil.drop('Province\/State', axis=1)\ndf_brazil = df_brazil.drop('SNo', axis=1)\n\n# Modificando tipos de dados\ndf_brazil['ObservationDate'] = pd.to_datetime(df_brazil.ObservationDate)\n\ndf_brazil = df_brazil.sort_values('ObservationDate')\n\ndf_brazil.info()","e7be04ae":"# Ajustando os \u00edndices\ndf_brazil = df_brazil.reset_index(drop=True)\n\ndf_brazil.head()","82f626d9":"# Calculando novos casos e total de infectados\n\nfor index, row in df_brazil.iterrows():\n    df_brazil['NovosCasos'] = df_brazil['Confirmed'] - df_brazil['Confirmed'].shift(1)\n    \ndf_brazil['NovosCasos'] = df_brazil['NovosCasos'].fillna(0)\n\n\nfor index, row in df_brazil.iterrows():\n    df_brazil['TotalInfectados'] = df_brazil['Confirmed'] - df_brazil['Recovered']\n       \ndf_brazil.head(10)","f3d96ecd":"df_brazil = df_brazil[df_brazil[\"Confirmed\"] > 0]","7ba23535":"df_brazil_lp = pd.melt(df_brazil, id_vars=['ObservationDate'], \n                      value_vars=['Confirmed', 'Deaths', 'Recovered', 'NovosCasos', 'TotalInfectados'])\n\n# Importando biblioteca\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n\n\n# Plotando os n\u00fameros do Brasil\nplt.figure(figsize=(15,5))\nsns.lineplot(x='ObservationDate', y='value', data=df_brazil_lp, hue='variable')\nplt.title(\"N\u00fameros do COVID-19 no Brasil\")\nplt.xticks(rotation=90)\n\n","c8b7478c":"# Plotando a quantidade de casos confirmados no Brasil\nplt.figure(figsize=(15,5))\nsns.lineplot(x='ObservationDate', y='Confirmed', data=df_brazil)\nplt.title(\"Quantidade de casos confirmados do COVID-19 no Brasil\")\nplt.xticks(rotation=90)","ae265670":"#Agrupando a base por data\ndf_brazil_data=df_brazil.groupby([\"ObservationDate\"]).agg({\"Confirmed\":'sum',\"Recovered\":'sum',\"Deaths\":'sum',\n                                                     'NovosCasos':'sum', 'TotalInfectados': 'sum'})\n\n","13818083":"model_scores=[]\n\ntreino=df_brazil_data.iloc[:int(df_brazil_data.shape[0]*0.90)]\nteste=df_brazil_data.iloc[int(df_brazil_data.shape[0]*0.90):]\n\nfrom statsmodels.tsa.api import Holt,SimpleExpSmoothing,ExponentialSmoothing\nfrom sklearn.metrics import mean_squared_error,r2_score\n\nholt=Holt(np.asarray(treino[\"Confirmed\"])).fit(smoothing_level=1.8, smoothing_slope=0.4)\ny_pred=teste.copy()\n\n\n\ny_pred[\"Holt\"]=holt.forecast(len(teste))\nmodel_scores.append(np.sqrt(mean_squared_error(y_pred[\"Confirmed\"],y_pred[\"Holt\"])))\nprint(\"Erro M\u00e9dio Quadr\u00e1tico de Holt: \",np.sqrt(mean_squared_error(y_pred[\"Confirmed\"],y_pred[\"Holt\"])))","07126657":"plt.figure(figsize=(10,5))\nplt.plot(treino.Confirmed,label=\"Treino\",marker='o')\nteste.Confirmed.plot(label=\"Valida\u00e7\u00e3o\",marker='*')\ny_pred.Holt.plot(label=\"Predi\u00e7\u00e3o Holt\",marker='^')\nplt.ylabel(\"Quantidade de Infectados\")\nplt.xlabel(\"Dias\")\nplt.title(\"Total de Casos Ativos\")\nplt.xticks(rotation=90)\nplt.legend()","d8ffafe2":"treino=df_brazil_data.iloc[:int(df_brazil_data.shape[0]*0.90)]\nteste=df_brazil_data.iloc[int(df_brazil_data.shape[0]*0.90):]\nlog_series=np.log(treino[\"Confirmed\"])\ny_pred=teste.copy()\n\nfrom statsmodels.tsa.arima_model import ARIMA\n\narima=ARIMA(log_series,(3,2,4))\narima_fit = arima.fit()","11f68f09":"predicao_arima=arima_fit.forecast(len(teste))[0]\ny_pred[\"Predi\u00e7\u00e3o ARIMA\"]=list(np.exp(predicao_arima))\n\nmodel_scores.append(np.sqrt(mean_squared_error(list(teste[\"Confirmed\"]),np.exp(predicao_arima))))\nprint(\"Erro M\u00e9dio Quadr\u00e1tico de ARIMA: \",np.sqrt(mean_squared_error(list(teste[\"Confirmed\"]),np.exp(predicao_arima))))","33faab05":"plt.figure(figsize=(10,5))\nplt.plot(treino.index,treino[\"Confirmed\"],label=\"Treino\",marker='o')\nplt.plot(teste.index,teste[\"Confirmed\"],label=\"Teste\",marker='*')\nplt.plot(y_pred[\"Predi\u00e7\u00e3o ARIMA\"],label=\"Predi\u00e7\u00e3o ARIMA\",marker='^')\nplt.legend()\nplt.xlabel(\"Date Time\")\nplt.ylabel('Confirmed Cases')\nplt.title(\"Modelo de Previs\u00e3o ARIMA\")\nplt.xticks(rotation=90)","905ae6f4":"model_scores","cafd76be":"\n# Softwares para Uso em Ci\u00eancia de Dados III\n\n## Trabalho Final de Disciplina\n\n## S\u00e9ries Temporais\n\n**Aluno**: Diogo Mattioli Neiva\n\n\n1. Introdu\u00e7\u00e3o\n\nCom este trabalho busca-se identificar modelos para predi\u00e7\u00e3o Total de casos confirmados do COVID-19 no Brasil. Para isto pretende-se usar os modelos Holt e ARIMA. \n\nAo final ser\u00e1 poss\u00edvel saber qual o melhor modelo e obteve o melhor resultado.\n","79a448ab":"### An\u00e1lises de S\u00e9ries Temporais","67ec5f1c":"## Tratamento dos dados","419a226b":"#### ARIMA","d027fee9":"## Visualizando os dados","d50e88d9":"#### Modelo Linear de Holt","53756387":"## Coclus\u00e3o\n\nConforme pode-se verificar pela compara\u00e7\u00e3o da m\u00e9dia dos erros quadr\u00e1ticos que o modelo ARIMA obteve melhor resultado para a predi\u00e7\u00e3o."}}