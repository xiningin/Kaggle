{"cell_type":{"1b721d95":"code","fcc7fca5":"code","136ccaaa":"code","52d42cd8":"code","9fa68704":"code","bee17fa5":"code","e72c96a6":"code","5acae752":"code","db2b93a7":"code","511d0677":"code","8596f117":"code","38dd8ad0":"code","fd9c6015":"code","58319fe6":"code","f8b0d728":"code","80a195ff":"code","afb9cf9a":"code","5b4d9ae1":"code","87d34423":"code","a70d9e09":"code","187d9feb":"code","204e99de":"code","079c0a51":"code","1aac471b":"code","ac5bb00c":"code","de7368b2":"code","e448eaf8":"code","8c539efb":"code","55c1fa58":"code","c524abdf":"code","b83e283f":"code","23f5b73e":"code","0758a4ca":"code","3ea5d09b":"code","ec75e93b":"code","4d640a8f":"code","5c0b111c":"code","62beecb3":"code","7525f14f":"code","1dc5a855":"code","d83fc579":"code","660c0973":"code","0d2052c4":"code","5d0a451c":"code","2c458be7":"code","552a69a5":"code","8288b61c":"code","f2a67d2d":"code","a6f6e907":"code","68d9f067":"code","16b153c5":"code","ff7da8f8":"code","7b169592":"code","ecbd2500":"markdown","5fde8280":"markdown","4dc8988d":"markdown","eaaf83f3":"markdown","46f5f0d2":"markdown","63210e8c":"markdown","2d103150":"markdown","0f47ff6d":"markdown","9487003b":"markdown","314c3820":"markdown","96d57ca6":"markdown","2d0f7206":"markdown","bb5a9813":"markdown","6e3d2463":"markdown","0bd91798":"markdown","839df071":"markdown","7c2730d5":"markdown","4695cdcf":"markdown"},"source":{"1b721d95":"\n#!\/usr\/bin\/env python3\n# -*- coding: utf-8 -*-\n# **********************************************************\n#       Created:     2021-10-30 00:15:43\n#       Filename:    TitanicTools.py\n#       Author:   ______\n#                    \/ \/  (_)\n#                   \/ \/_  \/\\____  ____  __   ______\n#                  \/ __ \\\/ \/ __ \\\/ __ \\\/ \/  \/ \/\n#                 \/ \/_\/ \/ \/ \/ \/ \/ \/ \/ \/ \/__\/ \/\n#                \/_____\/_\/_\/ \/_\/_\/ \/_\/\\___  \/\n#               ========== ______________\/ \/\n#                          \\______________\/\n#\n#       Email:       Binny@vip.163.com\n#       Group:       SP\n#       Create By:   Binny\n#       Purpose:     \u7528\u4e8e\u5bf9\u6cf0\u5766\u5c3c\u514b\u53f7\u7684\u6240\u6709\u751f\u5b58\u6570\u636e\u505a\u6280\u672f\u5206\u6790\n#       Copyright:   TJYM(C) 2010 - All Rights Reserved\n#       LastModify:  2021-10-30\n# **********************************************************\n\n# \u5ffd\u7565\u8b66\u544a\u63d0\u793a\nimport warnings\nwarnings.filterwarnings('ignore')\nimport sys\n\n# \u5bfc\u5165\u5904\u7406\u6570\u636e\u5305\nimport pandas as pd\nimport numpy as np\n\nsys.path.append(\"..\/input\")\n\n#\u5bfc\u5165\u81ea\u5b9a\u4e49\u5de5\u5177\u5305\n# import imp\nimport TitanicSurvivedData.TitanicTools as tt\n# imp.reload(tt)\ntt.setGlobalKey(globals())","fcc7fca5":"# \u5bfc\u5165\u6570\u636e\n# \u8bad\u7ec3\u6570\u636e\u96c6\ntrain = tt.TranslateMatrix(pd.read_csv(\"..\/input\/TitanicSurvivedData\/train.csv\"))\n# \u6d4b\u8bd5\u6570\u636e\u96c6\ntest = tt.TranslateMatrix(pd.read_csv(\"..\/input\/TitanicSurvivedData\/test.csv\"))\n# \u8fd9\u91cc\u8981\u8bb0\u4f4f\u8bad\u7ec3\u6570\u636e\u96c6\u6709 TRAIN_ROWS \u6761\u6570\u636e\uff0c\u65b9\u4fbf\u540e\u9762\u4ece\u4e2d\u62c6\u5206\u51fa\u6d4b\u8bd5\u6570\u636e\u96c6\u7528\u4e8e\u63d0\u4ea4Kaggle\u7ed3\u679c\nprint('\u8bad\u7ec3\u6570\u636e\u96c6\u6570\u636e\u884c\u6570\uff1a', train.shape)\nprint('\u6d4b\u8bd5\u6570\u636e\u96c6\u6570\u636e\u884c\u6570\uff1a', test.shape)","136ccaaa":"TRAIN_ROWS = train.shape[0]\nTEST_ROWS = test.shape[0]\nprint('kaggle \u8bad\u7ec3\u6570\u636e\u96c6\u6570\u636e\u884c\u6570\uff1a', TRAIN_ROWS)\nprint('kaggle \u6d4b\u8bd5\u6570\u636e\u96c6\u6570\u636e\u884c\u6570\uff1a', TEST_ROWS)\n\n# \u5408\u5e76\u6570\u636e\u96c6\uff0c\u65b9\u4fbf\u540c\u65f6\u5bf9\u4e24\u4e2a\u6570\u636e\u96c6\u8fdb\u884c\u6e05\u6d17\nfull = train.append(test, ignore_index=True)\n\nprint('\u5408\u5e76\u540e\u7684\u6570\u636e\u96c6:', full.shape)","52d42cd8":"# \u67e5\u770b\u6570\u636e\nfull.head()","9fa68704":"'''\ndescribe\u53ea\u80fd\u67e5\u770b\u6570\u636e\u7c7b\u578b\u7684\u63cf\u8ff0\u7edf\u8ba1\u4fe1\u606f\uff0c\u5bf9\u4e8e\u5176\u4ed6\u7c7b\u578b\u7684\u6570\u636e\u4e0d\u663e\u793a\uff0c\u6bd4\u5982\u5b57\u7b26\u4e32\u7c7b\u578b\u59d3\u540d\uff08name\uff09\uff0c\u5ba2\u8231\u53f7\uff08Cabin\uff09\n\u8fd9\u5f88\u597d\u7406\u89e3\uff0c\u56e0\u4e3a\u63cf\u8ff0\u7edf\u8ba1\u6307\u6807\u662f\u8ba1\u7b97\u6570\u503c\uff0c\u6240\u4ee5\u9700\u8981\u8be5\u5217\u7684\u6570\u636e\u7c7b\u578b\u662f\u6570\u636e\u3002\nPandas Series.mean()\u51fd\u6570\u8fd4\u56de\u7ed9\u5b9aSeries\u5bf9\u8c61\u4e2d\u57fa\u7840\u6570\u636e\u7684\u5e73\u5747\u503c\u3002\n'''\n# \u83b7\u53d6\u6570\u636e\u7c7b\u578b\u5217\u7684\u63cf\u8ff0\u7edf\u8ba1\u4fe1\u606f\nfull.describe()","bee17fa5":"# \u67e5\u770b\u6bcf\u4e00\u5217\u7684\u6570\u636e\u7c7b\u578b\uff0c\u548c\u6570\u636e\u603b\u6570\nfull.info()\n# \u6211\u4eec\u53d1\u73b0\u6570\u636e\u603b\u5171\u67091309\u884c\u3002\n# \u5176\u4e2d\u6570\u636e\u7c7b\u578b\u5217\uff1a\u5e74\u9f84\uff08Age\uff09\u3001\u5ba2\u8231\u53f7\uff08Cabin\uff09\u91cc\u9762\u6709\u7f3a\u5931\u6570\u636e\uff1a\n# 1\uff09\u5e74\u9f84\uff08Age\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f1046\u6761\uff0c\u7f3a\u5931\u4e861309-1046=263\uff0c\u7f3a\u5931\u7387263\/1309=20%\n# 2\uff09\u8239\u7968\u4ef7\u683c\uff08Fare\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f1308\u6761\uff0c\u7f3a\u5931\u4e861\u6761\u6570\u636e\n\n# \u5b57\u7b26\u4e32\u5217\uff1a\n# 1\uff09\u767b\u8239\u6e2f\u53e3\uff08Embarked\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f1307\uff0c\u53ea\u7f3a\u5931\u4e862\u6761\u6570\u636e\uff0c\u7f3a\u5931\u6bd4\u8f83\u5c11\n# 2\uff09\u5ba2\u8231\u53f7\uff08Cabin\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f295\uff0c\u7f3a\u5931\u4e861309-295=1014\uff0c\u7f3a\u5931\u7387=1014\/1309=77.5%\uff0c\u7f3a\u5931\u6bd4\u8f83\u5927\n# \u8fd9\u4e3a\u6211\u4eec\u4e0b\u4e00\u6b65\u6570\u636e\u6e05\u6d17\u6307\u660e\u4e86\u65b9\u5411\uff0c\u53ea\u6709\u77e5\u9053\u54ea\u4e9b\u6570\u636e\u7f3a\u5931\u6570\u636e\uff0c\u6211\u4eec\u624d\u80fd\u6709\u9488\u5bf9\u6027\u7684\u5904\u7406\u3002\n\ndef PrintMissing(_full):\n    drop_sum = _full.isnull().sum()\n    drop_sum_not_zero = drop_sum[drop_sum > 0]\n    df1 = pd.DataFrame({'\u7f3a\u5931\u6570\u636e': drop_sum_not_zero})\n    df2 = pd.DataFrame({'\u7f3a\u5931\u7387': drop_sum_not_zero\/_full.shape[0]})\n    keys = drop_sum_not_zero.to_dict()\n    df_dtypes = pd.DataFrame({'\u6570\u636e\u7c7b\u578b': {key: _full[key].dtype for key in keys}})\n    new_df = pd.concat([df1, df2.round(4), df_dtypes], axis=1)\n    return new_df\n\nprint()\nprint('\u7f3a\u5931\u6570\u636e\u7edf\u8ba1\u5982\u4e0b\uff08\u603b\u6570 %d\uff09\uff1a' % full.shape[0])\nPrintMissing(full)","e72c96a6":"'''\n\u6211\u4eec\u53d1\u73b0\u6570\u636e\u603b\u5171\u67091309\u884c\u3002\n\u5176\u4e2d\u6570\u636e\u7c7b\u578b\u5217\uff1a\n    \u5e74\u9f84\uff08Age\uff09\u3001\u8239\u8231\u53f7\uff08Cabin\uff09\u91cc\u9762\u6709\u7f3a\u5931\u6570\u636e\uff1a\n        1\uff09\u5e74\u9f84\uff08Age\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f1046\u6761\uff0c\u7f3a\u5931\u4e861309-1046=263\uff0c\u7f3a\u5931\u7387263\/1309=20%\n        2\uff09\u8239\u7968\u4ef7\u683c\uff08Fare\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f1308\u6761\uff0c\u7f3a\u5931\u4e861\u6761\u6570\u636e\n\n\u5bf9\u4e8e\u6570\u636e\u7c7b\u578b\uff0c\u5904\u7406\u7f3a\u5931\u503c\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u7528\u5e73\u5747\u6570\u6765\u586b\u5145\u7f3a\u5931\u503c\n'''\nprint('\u6570\u503c\u5b57\u6bb5\u5904\u7406\u524d\uff1a')\nPrintMissing(full)","5acae752":"# \u5e74\u9f84(Age)\nfull[Age_key] = full[Age_key].fillna(full[Age_key].mean())\n# \u8239\u7968\u4ef7\u683c(Fare)\nfull[Fare_key] = full[Fare_key].fillna(full[Fare_key].mean())\nprint()\nprint('\u6570\u503c\u5b57\u6bb5\u5904\u7406\u540e\uff1a')\nPrintMissing(full)","db2b93a7":"#\u68c0\u67e5\u6570\u636e\u5904\u7406\u662f\u5426\u6b63\u5e38\nfull.head()","511d0677":"'''\n\u603b\u6570\u636e\u662f1309\n\u5b57\u7b26\u4e32\u5217\uff1a\n1\uff09\u767b\u8239\u6e2f\u53e3\uff08Embarked\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f1307\uff0c\u53ea\u7f3a\u5931\u4e862\u6761\u6570\u636e\uff0c\u7f3a\u5931\u6bd4\u8f83\u5c11\n2\uff09\u8239\u8231\u53f7\uff08Cabin\uff09\u91cc\u9762\u6570\u636e\u603b\u6570\u662f295\uff0c\u7f3a\u5931\u4e861309-295=1014\uff0c\u7f3a\u5931\u7387=1014\/1309=77.5%\uff0c\u7f3a\u5931\u6bd4\u8f83\u5927\n'''\n# \u767b\u8239\u6e2f\u53e3\uff08Embarked\uff09\uff1a\u67e5\u770b\u91cc\u9762\u6570\u636e\u957f\u5565\u6837\n'''\n\u51fa\u53d1\u5730\u70b9\uff1aS=\u82f1\u56fd\u5357\u5b89\u666e\u987fSouthampton\n\u9014\u5f84\u5730\u70b91\uff1aC=\u6cd5\u56fd \u745f\u5821\u5e02Cherbourg\n\u9014\u5f84\u5730\u70b92\uff1aQ=\u7231\u5c14\u5170 \u6606\u58eb\u6566Queenstown\n'''\nprint(Embarked_key, list(pd.unique(full[Embarked_key])))","8596f117":"'''\n\u5206\u7c7b\u53d8\u91cfEmbarked\uff0c\u770b\u4e0b\u6700\u5e38\u89c1\u7684\u7c7b\u522b\uff0c\u7528\u5176\u586b\u5145\n'''\nfull[Embarked_key].value_counts()","38dd8ad0":"'''\n\u4ece\u7ed3\u679c\u6765\u770b\uff0cS\u7c7b\u522b\u6700\u5e38\u89c1\u3002\u6211\u4eec\u5c06\u7f3a\u5931\u503c\u586b\u5145\u4e3a\u6700\u9891\u7e41\u51fa\u73b0\u7684\u503c\uff1a\nS=\u82f1\u56fd\u5357\u5b89\u666e\u987fSouthampton\n'''\nfull[Embarked_key] = full[Embarked_key].fillna('S')\n#\u8239\u8231\u53f7\uff08Cabin\uff09\uff1a\u67e5\u770b\u91cc\u9762\u6570\u636e\u957f\u5565\u6837\nfull[Cabin_key].head()","fd9c6015":"#\u7f3a\u5931\u6570\u636e\u6bd4\u8f83\u591a\uff0c\u8239\u8231\u53f7\uff08Cabin\uff09\u7f3a\u5931\u503c\u586b\u5145\u4e3aU\uff0c\u8868\u793a\u672a\u77e5\uff08Uknow\uff09 \nfull[Cabin_key] = full[Cabin_key].fillna( 'U' )\n\n#\u68c0\u67e5\u6570\u636e\u5904\u7406\u662f\u5426\u6b63\u5e38\nfull.head()","58319fe6":"#\u67e5\u770b\u6700\u7ec8\u7f3a\u5931\u503c\u5904\u7406\u60c5\u51b5\uff0c\u8bb0\u4f4f\u751f\u5b58\u60c5\u51b5\uff08Survived\uff09\u8fd9\u91cc\u4e00\u5217\u662f\u6211\u4eec\u7684\u6807\u7b7e\uff0c\u7528\u6765\u505a\u673a\u5668\u5b66\u4e60\u9884\u6d4b\u7684\uff0c\u4e0d\u9700\u8981\u5904\u7406\u8fd9\u4e00\u5217\nPrintMissing(full)","f8b0d728":"'''\n1.\u6570\u503c\u7c7b\u578b\uff1a\n    \u4e58\u5ba2\u7f16\u53f7\uff08PassengerId\uff09\uff0c\n    \u5e74\u9f84\uff08Age\uff09\uff0c\n    \u8239\u7968\u4ef7\u683c\uff08Fare\uff09\uff0c\n    \u540c\u4ee3\u76f4\u7cfb\u4eb2\u5c5e\u4eba\u6570\uff08SibSp\uff09\uff0c\n    \u4e0d\u540c\u4ee3\u76f4\u7cfb\u4eb2\u5c5e\u4eba\u6570\uff08Parch\uff09\n2.\u65f6\u95f4\u5e8f\u5217\uff1a\u65e0\n3.\u5206\u7c7b\u6570\u636e\uff1a\n    1\uff09\u6709\u76f4\u63a5\u7c7b\u522b\u7684\n        \u4e58\u5ba2\u6027\u522b\uff08Sex\uff09\uff1a\u7537\u6027\uff08male\uff09\uff0c\u5973\u6027\uff08female\uff09\n        \u767b\u8239\u6e2f\u53e3\uff08Embarked\uff09\uff1a\n            \u51fa\u53d1\u5730\u70b9\uff1aS=\u82f1\u56fd.\u5357\u5b89\u666e\u987f\uff08Southampton\uff09\uff0c\n            \u9014\u5f84\u5730\u70b91\uff1aC=\u6cd5\u56fd.\u745f\u5821\u5e02\uff08Cherbourg\uff09\uff0c\n            \u51fa\u53d1\u5730\u70b92\uff1aQ=\u7231\u5c14\u5170.\u6606\u58eb\u6566\uff08Queenstown\uff09\n        \u5ba2\u8231\u7b49\u7ea7\uff08Pclass\uff09\uff1a1=1\u7b49\u8231\uff0c2=2\u7b49\u8231\uff0c3=3\u7b49\u8231\n    2\uff09\u5b57\u7b26\u4e32\u7c7b\u578b\uff1a\u53ef\u80fd\u4ece\u8fd9\u91cc\u9762\u63d0\u53d6\u51fa\u7279\u5f81\u6765\uff0c\u4e5f\u5f52\u5230\u5206\u7c7b\u6570\u636e\u4e2d\n        \u4e58\u5ba2\u59d3\u540d\uff08Name\uff09\n        \u8239\u8231\u53f7\uff08Cabin\uff09\n        \u8239\u7968\u7f16\u53f7\uff08Ticket\uff09\n'''\nfull.info()","80a195ff":"#\u67e5\u770b\u6027\u522b\u6570\u636e\u8fd9\u4e00\u5217\nfull[Sex_key].head()","afb9cf9a":"'''\n\u5c06\u6027\u522b\u7684\u503c\u6620\u5c04\u4e3a\u6570\u503c\n\u7537\uff08male\uff09\u5bf9\u5e94\u6570\u503c1\uff0c\u5973\uff08female\uff09\u5bf9\u5e94\u6570\u503c0\n'''\nsex_mapDict = {u'\u7537': 1, u'\u5973': 0}\n# map\u51fd\u6570\uff1a\u5bf9Series\u6bcf\u4e2a\u6570\u636e\u5e94\u7528\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u8ba1\u7b97\nfull[Sex_key] = full[Sex_key].map(sex_mapDict)\nfull.head()","5b4d9ae1":"'''\n\u767b\u8239\u6e2f\u53e3(Embarked)\u7684\u503c\u662f\uff1a\n    \u51fa\u53d1\u5730\u70b9\uff1aS=\u82f1\u56fd\u5357\u5b89\u666e\u987fSouthampton\n    \u9014\u5f84\u5730\u70b91\uff1aC=\u6cd5\u56fd \u745f\u5821\u5e02Cherbourg\n    \u9014\u5f84\u5730\u70b92\uff1aQ=\u7231\u5c14\u5170 \u6606\u58eb\u6566Queenstown\n'''\n# \u67e5\u770b\u8be5\u7c7b\u6570\u636e\u5185\u5bb9\nprint(Embarked_key, list(pd.unique(full[Embarked_key])))","87d34423":"#\u5b58\u653e\u63d0\u53d6\u540e\u7684\u7279\u5f81\nembarkedDf = pd.DataFrame()\n\n'''\n\u4f7f\u7528get_dummies\u8fdb\u884cone-hot\u7f16\u7801\uff0c\u4ea7\u751f\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\uff0c\u5217\u540d\u524d\u7f00\u662fEmbarked\n'''\nembarkedDf = pd.get_dummies( full[Embarked_key] , prefix=Embarked_key )\nembarkedDf.head()","a70d9e09":"# \u6dfb\u52a0one-hot\u7f16\u7801\u4ea7\u751f\u7684\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\u5230\u6cf0\u5766\u5c3c\u514b\u53f7\u6570\u636e\u96c6full\nfull = pd.concat([full, embarkedDf], axis=1)\n\n'''\n\u56e0\u4e3a\u5df2\u7ecf\u4f7f\u7528\u767b\u8239\u6e2f\u53e3(Embarked)\u8fdb\u884c\u4e86one-hot\u7f16\u7801\u4ea7\u751f\u4e86\u5b83\u7684\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\n\u6240\u4ee5\u8fd9\u91cc\u628a\u767b\u8239\u6e2f\u53e3(Embarked)\u5220\u6389\n'''\nfull.drop(Embarked_key, axis=1, inplace=True)\nfull.head()\n\n# \u4e0a\u9762drop\u5220\u9664\u67d0\u4e00\u5217\u4ee3\u7801\u89e3\u91ca\uff1a\n# \u56e0\u4e3adrop(name,axis=1)\u91cc\u9762\u6307\u5b9a\u4e86name\u662f\u54ea\u4e00\u5217\uff0c\u6bd4\u5982\u6307\u5b9a\u7684\u662fA\u8fd9\u4e00\u5217\uff0caxis=1\u8868\u793a\u6309\u884c\u64cd\u4f5c\u3002\n# \u90a3\u4e48\u7ed3\u5408\u8d77\u6765\u5c31\u662f\u628aA\u5217\u91cc\u9762\u6bcf\u4e00\u884c\u5220\u9664\uff0c\u6700\u7ec8\u7ed3\u679c\u662f\u5220\u9664\u4e86A\u8fd9\u4e00\u5217.\n# \u7b80\u5355\u6765\u8bf4\uff0c\u4f7f\u7528drop\u5220\u9664\u67d0\u51e0\u5217\u7684\u65b9\u6cd5\u8bb0\u4f4f\u8fd9\u4e2a\u8bed\u6cd5\u5c31\u53ef\u4ee5\u4e86\uff1adrop([\u5217\u540d1,\u5217\u540d2],axis=1)","187d9feb":"'''\n\u5ba2\u8231\u7b49\u7ea7(Pclass):\n1=1\u7b49\u8231\uff0c2=2\u7b49\u8231\uff0c3=3\u7b49\u8231\n'''\n# \u5b58\u653e\u63d0\u53d6\u540e\u7684\u7279\u5f81\npclassDf = pd.DataFrame()\n\n# \u4f7f\u7528get_dummies\u8fdb\u884cone-hot\u7f16\u7801\uff0c\u5217\u540d\u524d\u7f00\u662fPclass\npclassDf = pd.get_dummies(full[Pclass_key], prefix=Pclass_key)\npclassDf.head()","204e99de":"# \u6dfb\u52a0one-hot\u7f16\u7801\u4ea7\u751f\u7684\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\u5230\u6cf0\u5766\u5c3c\u514b\u53f7\u6570\u636e\u96c6full\nfull = pd.concat([full, pclassDf], axis=1)\n\n# \u5220\u6389\u5ba2\u8231\u7b49\u7ea7\uff08Pclass\uff09\u8fd9\u4e00\u5217\nfull.drop(Pclass_key, axis=1, inplace=True)\nfull.head()","079c0a51":"'''\n\u67e5\u770b\u59d3\u540d\u8fd9\u4e00\u5217\u957f\u5565\u6837\n\u6ce8\u610f\u5230\u5728\u4e58\u5ba2\u540d\u5b57\uff08Name\uff09\u4e2d\uff0c\u6709\u4e00\u4e2a\u975e\u5e38\u663e\u8457\u7684\u7279\u70b9\uff1a\n\u4e58\u5ba2\u5934\u8854\u6bcf\u4e2a\u540d\u5b57\u5f53\u4e2d\u90fd\u5305\u542b\u4e86\u5177\u4f53\u7684\u79f0\u8c13\u6216\u8005\u8bf4\u662f\u5934\u8854\uff0c\u5c06\u8fd9\u90e8\u5206\u4fe1\u606f\u63d0\u53d6\u51fa\u6765\u540e\u53ef\u4ee5\u4f5c\u4e3a\u975e\u5e38\u6709\u7528\u4e00\u4e2a\u65b0\u53d8\u91cf\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u8fdb\u884c\u9884\u6d4b\u3002\n\u4f8b\u5982\uff1a\n    Braund, Mr. Owen Harris\n    Heikkinen, Miss. Laina\n    Oliva y Ocana, Dona. Fermina\n    Peter, Master. Michael J\n'''\nfull[Name_key].head()","1aac471b":"# \u7ec3\u4e60\u4ece\u5b57\u7b26\u4e32\u4e2d\u63d0\u53d6\u5934\u8854\uff0c\u4f8b\u5982Mr\n# split\u7528\u4e8e\u5b57\u7b26\u4e32\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\n# \u6211\u4eec\u770b\u5230\u59d3\u540d\u4e2d'Braund, Mr. Owen Harris'\uff0c\u9017\u53f7\u524d\u9762\u7684\u662f\u201c\u540d\u201d\uff0c\u9017\u53f7\u540e\u9762\u662f\u2018\u5934\u8854. \u59d3\u2019\nname1 = 'Braund, Mr. Owen Harris'\n'''\nsplit\u7528\u4e8e\u5b57\u7b26\u4e32\u6309\u5206\u9694\u7b26\u5206\u5272\uff0c\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\u3002\u8fd9\u91cc\u6309\u9017\u53f7\u5206\u9694\u5b57\u7b26\u4e32\n\u4e5f\u5c31\u662f\u5b57\u7b26\u4e32'Braund, Mr. Owen Harris'\u88ab\u6309\u5206\u9694\u7b26,'\u62c6\u5206\u6210\u4e24\u90e8\u5206[Braund,Mr. Owen Harris]\n\u4f60\u53ef\u4ee5\u628a\u8fd4\u56de\u7684\u5217\u8868\u6253\u5370\u51fa\u6765\u77a7\u77a7\uff0c\u8fd9\u91cc\u83b7\u53d6\u5230\u5217\u8868\u4e2d\u5143\u7d20\u5e8f\u53f7\u4e3a1\u7684\u5143\u7d20\uff0c\u4e5f\u5c31\u662f\u83b7\u53d6\u5230\u5934\u8854\u6240\u5728\u7684\u90a3\u90e8\u5206\uff0c\u5373Mr. Owen Harris\u8fd9\u90e8\u5206\n'''\n# Mr. Owen Harris\nstr1 = name1.split(',')[1]\n'''\n\u7ee7\u7eed\u5bf9\u5b57\u7b26\u4e32Mr. Owen Harris\u6309\u5206\u9694\u7b26'.'\u62c6\u5206\uff0c\u5f97\u5230\u8fd9\u6837\u4e00\u4e2a\u5217\u8868[Mr, Owen Harris]\n\u8fd9\u91cc\u83b7\u53d6\u5230\u5217\u8868\u4e2d\u5143\u7d20\u5e8f\u53f7\u4e3a0\u7684\u5143\u7d20\uff0c\u4e5f\u5c31\u662f\u83b7\u53d6\u5230\u5934\u8854\u6240\u5728\u7684\u90a3\u90e8\u5206Mr\n'''\n# Mr.\nstr2 = str1.split('.')[0]\n# strip() \u65b9\u6cd5\u7528\u4e8e\u79fb\u9664\u5b57\u7b26\u4e32\u5934\u5c3e\u6307\u5b9a\u7684\u5b57\u7b26\uff08\u9ed8\u8ba4\u4e3a\u7a7a\u683c\uff09\nstr3 = str2.strip()","ac5bb00c":"'''\n\u5b9a\u4e49\u51fd\u6570\uff1a\u4ece\u59d3\u540d\u4e2d\u83b7\u53d6\u5934\u8854\n'''\ndef getTitle(name):\n    str1 = name.split(',')[1]  # Mr. Owen Harris\n    str2 = str1.split('.')[0]  # Mr\n    # strip() \u65b9\u6cd5\u7528\u4e8e\u79fb\u9664\u5b57\u7b26\u4e32\u5934\u5c3e\u6307\u5b9a\u7684\u5b57\u7b26\uff08\u9ed8\u8ba4\u4e3a\u7a7a\u683c\uff09\n    str3 = str2.strip()\n    return str3","de7368b2":"# \u5b58\u653e\u63d0\u53d6\u540e\u7684\u7279\u5f81\ntitleDf = pd.DataFrame()\n# map\u51fd\u6570\uff1a\u5bf9Series\u6bcf\u4e2a\u6570\u636e\u5e94\u7528\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u8ba1\u7b97\ntitleDf[Title_key] = full[Name_key].map(getTitle)\ntitleDf_Trans = tt.TranslateMatrix(titleDf)\ntitleDf_Trans.head()","e448eaf8":"'''\n\u5b9a\u4e49\u4ee5\u4e0b\u51e0\u79cd\u5934\u8854\u7c7b\u522b\uff1a\n    Officer\uff1a\u653f\u5e9c\u5b98\u5458\n    Royalty\uff1a\u738b\u5ba4\uff08\u7687\u5ba4\uff09\n    Mr\uff1a\u5df2\u5a5a\u7537\u58eb\n    Mrs\uff1a\u5df2\u5a5a\u5987\u5973\n    Miss\uff1a\u5e74\u8f7b\u672a\u5a5a\u5973\u5b50\n    Master\uff1a\u6709\u6280\u80fd\u7684\u4eba\/\u6559\u5e08\n'''\n# \u59d3\u540d\u4e2d\u5934\u8854\u5b57\u7b26\u4e32\u4e0e\u5b9a\u4e49\u5934\u8854\u7c7b\u522b\u7684\u6620\u5c04\u5173\u7cfb\ntitle_mapDict = {\n    \"Capt\":       \"Officer\",\n    \"Col\":        \"Officer\",\n    \"Major\":      \"Officer\",\n    \"Jonkheer\":   \"Royalty\",\n    \"Don\":        \"Royalty\",\n    \"Sir\":        \"Royalty\",\n    \"Dr\":         \"Officer\",\n    \"Rev\":        \"Officer\",\n    \"the Countess\": \"Royalty\",\n    \"Dona\":       \"Royalty\",\n    \"Mme\":        \"Mrs\",\n    \"Mlle\":       \"Miss\",\n    \"Ms\":         \"Mrs\",\n    \"Mr\":         \"Mr\",\n    \"Mrs\":        \"Mrs\",\n    \"Miss\":       \"Miss\",\n    \"Master\":     \"Master\",\n    \"Lady\":       \"Royalty\"\n}\n\n# map\u51fd\u6570\uff1a\u5bf9Series\u6bcf\u4e2a\u6570\u636e\u5e94\u7528\u81ea\u5b9a\u4e49\u7684\u51fd\u6570\u8ba1\u7b97\ntitleDf_map = titleDf[Title_key].map(title_mapDict)\nprint(Title_key, list(pd.unique(titleDf_map)))\n\n# \u4f7f\u7528get_dummies\u8fdb\u884cone-hot\u7f16\u7801\ntitleDf = tt.TranslateMatrix(pd.get_dummies(titleDf_map))\ntitleDf.head()","8c539efb":"# \u6dfb\u52a0one-hot\u7f16\u7801\u4ea7\u751f\u7684\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\u5230\u6cf0\u5766\u5c3c\u514b\u53f7\u6570\u636e\u96c6full\nfull = pd.concat([full, titleDf], axis=1)\n\n# \u5220\u6389\u59d3\u540d\u8fd9\u4e00\u5217\nfull.drop(Name_key, axis=1, inplace=True)\nfull_trans = tt.TranslateMatrix(full)\nfull_trans.head()","55c1fa58":"# \u8865\u5145\u77e5\u8bc6\uff1a\u533f\u540d\u51fd\u6570\n'''\npython \u4f7f\u7528 lambda \u6765\u521b\u5efa\u533f\u540d\u51fd\u6570\u3002\n\u6240\u8c13\u533f\u540d\uff0c\u610f\u5373\u4e0d\u518d\u4f7f\u7528 def \u8bed\u53e5\u8fd9\u6837\u6807\u51c6\u7684\u5f62\u5f0f\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff0c\u9884\u9632\u5982\u4e0b\uff1a\nlambda \u53c2\u65701\uff0c\u53c2\u65702\uff1a\u51fd\u6570\u4f53\u6216\u8005\u8868\u8fbe\u5f0f\n'''\n# \u5b9a\u4e49\u533f\u540d\u51fd\u6570\uff1a\u5bf9\u4e24\u4e2a\u6570\u76f8\u52a0\ndef sum(a, b): return a + b\n\n# \u8c03\u7528sum\u51fd\u6570\nprint(\"\u76f8\u52a0\u540e\u7684\u503c\u4e3a : \", sum(10, 20))","c524abdf":"'''\n\u8239\u8231\u53f7\u7684\u9996\u5b57\u6bcd\u662f\u5ba2\u8231\u7684\u7c7b\u522b\n'''\n# \u67e5\u770b\u8239\u8231\u53f7\u7684\u5185\u5bb9\nfull[Cabin_key].head(10)","b83e283f":"# \u5b58\u653e\u5ba2\u8231\u53f7\u4fe1\u606f\ncabinDf = pd.DataFrame()\n\n'''\n\u5ba2\u573a\u53f7\u7684\u7c7b\u522b\u503c\u662f\u9996\u5b57\u6bcd\uff0c\u4f8b\u5982\uff1a\nC85 \u7c7b\u522b\u6620\u5c04\u4e3a\u9996\u5b57\u6bcdC\n'''\nfull[Cabin_key] = full[Cabin_key].map(lambda c: c[0])\n\n# \u4f7f\u7528get_dummies\u8fdb\u884cone-hot\u7f16\u7801\uff0c\u5217\u540d\u524d\u7f00\u662fCabin\ncabinDf = pd.get_dummies(full[Cabin_key], prefix=Cabin_key)\n\ncabinDf.head()","23f5b73e":"# \u6dfb\u52a0one-hot\u7f16\u7801\u4ea7\u751f\u7684\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\u5230\u6cf0\u5766\u5c3c\u514b\u53f7\u6570\u636e\u96c6full\nfull = pd.concat([full, cabinDf], axis=1)\n\n# \u5220\u6389\u5ba2\u8231\u53f7\u8fd9\u4e00\u5217\nfull.drop(Cabin_key, axis=1, inplace=True)\nfull.head()","0758a4ca":"# \u5b58\u653e\u5bb6\u5ead\u4fe1\u606f\nfamilyDf = pd.DataFrame()\n\n'''\n\u5bb6\u5ead\u4eba\u6570=\u540c\u4ee3\u76f4\u7cfb\u4eb2\u5c5e\u6570\uff08Parch\uff09+\u4e0d\u540c\u4ee3\u76f4\u7cfb\u4eb2\u5c5e\u6570\uff08SibSp\uff09+\u4e58\u5ba2\u81ea\u5df1\n\uff08\u56e0\u4e3a\u4e58\u5ba2\u81ea\u5df1\u4e5f\u662f\u5bb6\u5ead\u6210\u5458\u7684\u4e00\u4e2a\uff0c\u6240\u4ee5\u8fd9\u91cc\u52a01\uff09\n'''\nfamilyDf[FamilySize_key] = full[Parch_key] + full[SibSp_key] + 1\n\n'''\n\u5bb6\u5ead\u7c7b\u522b\uff1a\n    \u5c0f\u5bb6\u5ead\uff08Family_Single\uff09\uff1a\u5bb6\u5ead\u4eba\u6570=1\n    \u4e2d\u7b49\u5bb6\u5ead\uff08Family_Small\uff09: 2<=\u5bb6\u5ead\u4eba\u6570<=4\n    \u5927\u5bb6\u5ead\uff08Family_Large\uff09: \u5bb6\u5ead\u4eba\u6570>=5\n'''\n# if \u6761\u4ef6\u4e3a\u771f\u7684\u65f6\u5019\u8fd4\u56deif\u524d\u9762\u5185\u5bb9\uff0c\u5426\u5219\u8fd4\u56de0\nfamilyDf[Family_Single_key] = familyDf[FamilySize_key].map(\n    lambda s: 1 if s == 1 else 0)\nfamilyDf[Family_Small_key] = familyDf[FamilySize_key].map(\n    lambda s: 1 if 2 <= s <= 4 else 0)\nfamilyDf[Family_Large_key] = familyDf[FamilySize_key].map(\n    lambda s: 1 if 5 <= s else 0)\n\nfamilyDf.head()","3ea5d09b":"# \u6dfb\u52a0one-hot\u7f16\u7801\u4ea7\u751f\u7684\u865a\u62df\u53d8\u91cf\uff08dummy variables\uff09\u5230\u6cf0\u5766\u5c3c\u514b\u53f7\u6570\u636e\u96c6full\nfull = pd.concat([full, familyDf], axis=1)\nfull.head()","ec75e93b":"# \u5230\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u6709\u4e86\u8fd9\u4e48\u591a\u4e2a\u7279\u5f81\u4e86\nfull.shape","4d640a8f":"#\u76f8\u5173\u6027\u77e9\u9635\ncorrDf = full.corr() \ncorrDf.head()","5c0b111c":"'''\n\u67e5\u770b\u5404\u4e2a\u7279\u5f81\u4e0e\u751f\u6210\u60c5\u51b5\uff08Survived\uff09\u7684\u76f8\u5173\u7cfb\u6570\uff0c\nascending=False\u8868\u793a\u6309\u964d\u5e8f\u6392\u5217\n'''\ncorrDf[Survived_key].sort_values(ascending=False)","62beecb3":"# \u7279\u5f81\u9009\u62e9\nfull_X = pd.concat([titleDf,  # \u5934\u8854\n                    pclassDf,  # \u5ba2\u8231\u7b49\u7ea7\n                    familyDf,  # \u5bb6\u5ead\u5927\u5c0f\n                    full[Fare_key],  # \u8239\u7968\u4ef7\u683c\n                    cabinDf,  # \u8239\u8231\u53f7\n                    embarkedDf,  # \u767b\u8239\u6e2f\u53e3\n                    full[Sex_key]  # \u6027\u522b\n                    ], axis=1)\nfull_X_Trabs = tt.TranslateMatrix(full_X)\nfull_X_Trabs.head()","7525f14f":"'''\n1\uff09\u5766\u5c3c\u514b\u53f7\u6d4b\u8bd5\u6570\u636e\u96c6\u56e0\u4e3a\u662f\u6211\u4eec\u6700\u540e\u8981\u63d0\u4ea4\u7ed9Kaggle\u7684\uff0c\u91cc\u9762\u6ca1\u6709\u751f\u5b58\u60c5\u51b5\u7684\u503c\uff0c\u6240\u4ee5\u4e0d\u80fd\u7528\u4e8e\u8bc4\u4f30\u6a21\u578b\u3002\n    \u6211\u4eec\u5c06Kaggle\u6cf0\u5766\u5c3c\u514b\u53f7\u9879\u76ee\u7ed9\u6211\u4eec\u7684\u6d4b\u8bd5\u6570\u636e\uff0c\u53eb\u505a\u9884\u6d4b\u6570\u636e\u96c6\uff08\u8bb0\u4e3apred,\u4e5f\u5c31\u662f\u9884\u6d4b\u82f1\u6587\u5355\u8bcdpredict\u7684\u7f29\u5199\uff09\u3002\n    \u4e5f\u5c31\u662f\u6211\u4eec\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6a21\u578b\u6765\u5bf9\u5176\u751f\u5b58\u60c5\u51b5\u5c31\u90a3\u4e9b\u9884\u6d4b\u3002\n2\uff09\u6211\u4eec\u4f7f\u7528Kaggle\u6cf0\u5766\u5c3c\u514b\u53f7\u9879\u76ee\u7ed9\u7684\u8bad\u7ec3\u6570\u636e\u96c6\uff0c\u505a\u4e3a\u6211\u4eec\u7684\u539f\u59cb\u6570\u636e\u96c6\uff08\u8bb0\u4e3asource\uff09\uff0c\n    \u4ece\u8fd9\u4e2a\u539f\u59cb\u6570\u636e\u96c6\u4e2d\u62c6\u5206\u51fa\u8bad\u7ec3\u6570\u636e\u96c6\uff08\u8bb0\u4e3atrain\uff1a\u7528\u4e8e\u6a21\u578b\u8bad\u7ec3\uff09\u548c\u6d4b\u8bd5\u6570\u636e\u96c6\uff08\u8bb0\u4e3atest\uff1a\u7528\u4e8e\u6a21\u578b\u8bc4\u4f30\uff09\u3002\n\n'''\n\n'''\nTRAIN_ROWS \u662f\u6211\u4eec\u5728\u6700\u5f00\u59cb\u5408\u5e76\u6570\u636e\u524d\u77e5\u9053\u7684\uff0c\u539f\u59cb\u6570\u636e\u96c6\u6709\u603b\u5171\u6709 TRAIN_ROWS \u6761\u6570\u636e\n\u4ece\u7279\u5f81\u96c6\u5408full_X\u4e2d\u63d0\u53d6\u539f\u59cb\u6570\u636e\u96c6\u63d0\u53d6\u524d TRAIN_ROWS \u884c\u6570\u636e\u65f6\uff0c\u6211\u4eec\u8981\u51cf\u53bb1\uff0c\u56e0\u4e3a\u884c\u53f7\u662f\u4ece0\u5f00\u59cb\u7684\u3002\n'''\n\n# \u539f\u59cb\u6570\u636e\u96c6\uff1a\u7279\u5f81\nsource_X = full_X.loc[0:TRAIN_ROWS-1, :]\n# \u539f\u59cb\u6570\u636e\u96c6\uff1a\u6807\u7b7e\nsource_y = full.loc[0:TRAIN_ROWS-1, Survived_key]\n\n# \u9884\u6d4b\u6570\u636e\u96c6\uff1a\u7279\u5f81\npred_X = full_X.loc[TRAIN_ROWS:, :]\n\n# \u4e0a\u9762\u4ee3\u7801\u89e3\u91ca\uff1a\n# TRAIN_ROWS \u884c\u524d\u9762\u7684\u6570\u636e\u662f\u6d4b\u8bd5\u6570\u636e\u96c6\uff0cTRAIN_ROWS \u884c\u4e4b\u540e\u7684\u6570\u636e\u662f\u9884\u6d4b\u6570\u636e\u96c6\u3002[TRAIN_ROWS:,:]\u5c31\u662f\n# \u4ece TRAIN_ROWS \u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c\u4f5c\u4e3a\u9884\u6d4b\u6570\u636e\u96c6","1dc5a855":"'''\n\u786e\u4fdd\u8fd9\u91cc\u539f\u59cb\u6570\u636e\u96c6\u53d6\u7684\u662f\u524d TRAIN_ROWS \u884c\u7684\u6570\u636e\uff0c\u4e0d\u7136\u540e\u9762\u6a21\u578b\u4f1a\u6709\u9519\u8bef\n'''\n# \u539f\u59cb\u6570\u636e\u96c6\u6709\u591a\u5c11\u884c\nprint('\u539f\u59cb\u6570\u636e\u96c6\u6570\u636e\u884c\u6570:', source_X.shape[0])\n# \u9884\u6d4b\u6570\u636e\u96c6\u5927\u5c0f\nprint('\u539f\u59cb\u6570\u636e\u96c6\u6570\u636e\u884c\u6570:', pred_X.shape[0])","d83fc579":"'''\n\u4ece\u539f\u59cb\u6570\u636e\u96c6\uff08source\uff09\u4e2d\u62c6\u5206\u51fa\u8bad\u7ec3\u6570\u636e\u96c6\uff08\u7528\u4e8e\u6a21\u578b\u8bad\u7ec3 train\uff09\uff0c\u6d4b\u8bd5\u6570\u636e\u96c6\uff08\u7528\u4e8e\u6a21\u578b\u8bc4\u4f30 test\uff09\ntrain_test_split \u662f\u4ea4\u53c9\u9a8c\u8bc1\u4e2d\u5e38\u7528\u7684\u51fd\u6570\uff0c\u529f\u80fd\u662f\u4ece\u6837\u672c\u4e2d\u968f\u673a\u7684\u6309\u6bd4\u4f8b\u9009\u53d6 train data \u548c test data\ntrain_data\uff1a\u6240\u8981\u5212\u5206\u7684\u6837\u672c\u7279\u5f81\u96c6\ntrain_target\uff1a\u6240\u8981\u5212\u5206\u7684\u6837\u672c\u7ed3\u679c\ntest_size\uff1a\u6837\u672c\u5360\u6bd4\uff0c\u5982\u679c\u662f\u6574\u6570\u7684\u8bdd\u5c31\u662f\u6837\u672c\u7684\u6570\u91cf\n'''\nfrom sklearn.model_selection import train_test_split\n\n# \u5efa\u7acb\u6a21\u578b\u7528\u7684\u8bad\u7ec3\u6570\u636e\u96c6\u548c\u6d4b\u8bd5\u6570\u636e\u96c6\ntrain_X, test_X, train_y, test_y = train_test_split(source_X,\n                                                    source_y,\n                                                    train_size=.8)\n\n# \u8f93\u51fa\u6570\u636e\u96c6\u5927\u5c0f\nprint('\u539f\u59cb\u6570\u636e\u96c6\u7279\u5f81\uff1a', source_X.shape,\n      '\u8bad\u7ec3\u6570\u636e\u96c6\u7279\u5f81\uff1a', train_X.shape,\n      '\u6d4b\u8bd5\u6570\u636e\u96c6\u7279\u5f81\uff1a', test_X.shape)\n\nprint('\u539f\u59cb\u6570\u636e\u96c6\u6807\u7b7e\uff1a', source_y.shape,\n      '\u8bad\u7ec3\u6570\u636e\u96c6\u6807\u7b7e\uff1a', train_y.shape,\n      '\u6d4b\u8bd5\u6570\u636e\u96c6\u6807\u7b7e\uff1a', test_y.shape)","660c0973":"# \u539f\u59cb\u6570\u636e\u67e5\u770b\nsource_y.head()","0d2052c4":"# \u7b2c1\u6b65\uff1a\u5bfc\u5165\u7b97\u6cd5\nfrom sklearn.linear_model import LogisticRegression\n# \u7b2c2\u6b65\uff1a\u521b\u5efa\u6a21\u578b\uff1a\u903b\u8f91\u56de\u5f52\uff08logisic regression\uff09\nmodel = LogisticRegression(solver='liblinear', class_weight=\"balanced\")","5d0a451c":"# \u968f\u673a\u68ee\u6797Random Forests Model\n#from sklearn.ensemble import RandomForestClassifier\n#model = RandomForestClassifier(n_estimators=100)","2c458be7":"# \u652f\u6301\u5411\u91cf\u673aSupport Vector Machines\n#from sklearn.svm import SVC, LinearSVC\n#model = SVC()","552a69a5":"# Gradient Boosting Classifier\n#from sklearn.ensemble import GradientBoostingClassifier\n#model = GradientBoostingClassifier()","8288b61c":"# K-nearest neighbors\n#from sklearn.neighbors import KNeighborsClassifier\n#model = KNeighborsClassifier(n_neighbors = 3)","f2a67d2d":"# Gaussian Naive Bayes\n#from sklearn.naive_bayes import GaussianNB\n#model = GaussianNB()","a6f6e907":"train_X","68d9f067":"train_y","16b153c5":"# \u7b2c3\u6b65\uff1a\u8bad\u7ec3\u6a21\u578b\nmodel.fit(train_X, train_y)","ff7da8f8":"# \u5206\u7c7b\u95ee\u9898\uff0cscore\u5f97\u5230\u7684\u662f\u6a21\u578b\u7684\u6b63\u786e\u7387\nmodel.score(test_X , test_y )","7b169592":"# \u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u5bf9\u9884\u6d4b\u6570\u636e\u96c6\u4e2d\u7684\u751f\u5b58\u60c5\u51b5\u8fdb\u884c\u9884\u6d4b\npred_Y = model.predict(pred_X)\n\n'''\n\u751f\u6210\u7684\u9884\u6d4b\u503c\u662f\u6d6e\u70b9\u6570\uff080.0,1,0\uff09\n\u4f46\u662fKaggle\u8981\u6c42\u63d0\u4ea4\u7684\u7ed3\u679c\u662f\u6574\u578b\uff080,1\uff09\n\u6240\u4ee5\u8981\u5bf9\u6570\u636e\u7c7b\u578b\u8fdb\u884c\u8f6c\u6362\n'''\npred_Y = pred_Y.astype(int)\n# \u4e58\u5ba2id\npassenger_id = full.loc[TRAIN_ROWS:, PassengerId_key]\n# \u6570\u636e\u6846\uff1a\u4e58\u5ba2id\uff0c\u9884\u6d4b\u751f\u5b58\u60c5\u51b5\u7684\u503c\npredDf = pd.DataFrame(\n    {PassengerId_key: passenger_id,\n     Survived_key: pred_Y})\npredDf.shape\npredDf.head()\n# \u4fdd\u5b58\u7ed3\u679c\npredDf.to_csv('titanic_pred.csv', index=False)","ecbd2500":"## \u8bc4\u4f30\u6a21\u578b\uff08Evaluation\uff09","5fde8280":"# \u6570\u636e\u6e05\u6d17\uff08Data Preparation \uff09\n\n## \u6570\u636e\u9884\u5904\u7406\n\n###  \u7f3a\u5931\u503c\u5904\u7406\n\n\u5728\u524d\u9762\uff0c\u7406\u89e3\u6570\u636e\u9636\u6bb5\uff0c\u6211\u4eec\u53d1\u73b0\u6570\u636e\u603b\u5171\u67091309\u884c\u3002\n\u5176\u4e2d\u6570\u636e\u7c7b\u578b\u5217\uff1a\n    \u5e74\u9f84\uff08Age\uff09\u3001\u8239\u7968\u4ef7\u683c\uff08Fare\uff09\u91cc\u9762\u6709\u7f3a\u5931\u6570\u636e\u3002\n\u5b57\u7b26\u4e32\u5217\uff1a\n    \u767b\u8239\u6e2f\u53e3\uff08Embarked\uff09\u3001\u5ba2\u8231\u53f7\uff08Cabin\uff09\u91cc\u9762\u6709\u7f3a\u5931\u6570\u636e\u3002\n\n\u8fd9\u4e3a\u6211\u4eec\u4e0b\u4e00\u6b65\u6570\u636e\u6e05\u6d17\u6307\u660e\u4e86\u65b9\u5411\uff0c\u53ea\u6709\u77e5\u9053\u54ea\u4e9b\u6570\u636e\u7f3a\u5931\u6570\u636e\uff0c\u6211\u4eec\u624d\u80fd\u6709\u9488\u5bf9\u6027\u7684\u5904\u7406\u3002\n\n\u5f88\u591a\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u4e3a\u4e86\u8bad\u7ec3\u6a21\u578b\uff0c\u8981\u6c42\u6240\u4f20\u5165\u7684\u7279\u5f81\u4e2d\u4e0d\u80fd\u6709\u7a7a\u503c\u3002\n\n\n* \u5982\u679c\u662f\u6570\u503c\u7c7b\u578b\uff0c\u7528\u5e73\u5747\u503c\u53d6\u4ee3\n* \u5982\u679c\u662f\u5206\u7c7b\u6570\u636e\uff0c\u7528\u6700\u5e38\u89c1\u7684\u7c7b\u522b\u53d6\u4ee3\n* \u4f7f\u7528\u6a21\u578b\u9884\u6d4b\u7f3a\u5931\u503c\uff0c\u4f8b\u5982\uff1aK-NN","4dc8988d":"#### \u767b\u8239\u6e2f\u53e3(Embarked)","eaaf83f3":"## \u62a5\u544a\u64b0\u5199\n\n\u4e0b\u6b21\u8bfe\u7a0b\u6211\u4eec\u901a\u8fc7\u300a\u6570\u636e\u53ef\u89c6\u5316\u300b\u6765\u8be6\u7ec6\u804a\u804a\u5982\u4f55\u505a\u4e00\u4efd\u6570\u636e\u5206\u6790\u62a5\u544a","46f5f0d2":"### \u4ece\u8239\u8231\u53f7\u4e2d\u63d0\u53d6\u5ba2\u8231\u7c7b\u522b","63210e8c":"## \u67e5\u770b\u6570\u636e\u96c6\u4fe1\u606f","2d103150":"# \u6cf0\u5766\u5c3c\u514b\u53f7\u751f\u5b58\u7387\u9884\u6d4b\n\n\u58f0\u660e\uff1a\u8fd9\u7bc7\u6587\u7ae0\u4e0d\u662f\u672c\u4eba\u539f\u521b\uff0c\u4f46\u662f\u4e3a\u4e86\u7b26\u5408\u81ea\u5df1\u7684\u98ce\u683c\uff0c\u52a0\u6df1\u7406\u89e3\u5e76\u8f6c\u5316\u6210\u4e2d\u6587\uff0c\u5bf9\u539f\u521b\u4f5c\u54c1\u505a\u4e86\u6bd4\u8f83\u5927\u7684\u4fee\u6539\u3002\u8bf7\u652f\u6301\u539f\u521b\u4f5c\u8005\u7684\u52b3\u52a8\uff1a\n\n[\u96f6\u57fa\u7840\u638c\u63e1\u4eba\u5de5\u667a\u80fd(AI)\u6838\u5fc3\u8bed\u8a00\uff1aPython](https:\/\/www.zhihu.com\/lives\/903272047218692096)\",\n\n# \u63d0\u51fa\u95ee\u9898\uff08Business Understanding \uff09\n\n\u4ec0\u4e48\u6837\u7684\u4eba\u5728\u6cf0\u5766\u5c3c\u514b\u53f7\u4e2d\u66f4\u5bb9\u6613\u5b58\u6d3b\uff1f\n\n# \u7406\u89e3\u6570\u636e\uff08Data Understanding\uff09\n\n## \u91c7\u96c6\u6570\u636e\n\n\u4eceKaggle\u6cf0\u5766\u5c3c\u514b\u53f7\u9879\u76ee\u9875\u9762\u4e0b\u8f7d\u6570\u636e\uff1ahttps:\/\/www.kaggle.com\/c\/titanic\n\n## \u5bfc\u5165\u6570\u636e","0f47ff6d":"## \u9009\u62e9\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\n\n\u9009\u62e9\u4e00\u4e2a\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\uff0c\u7528\u4e8e\u6a21\u578b\u7684\u8bad\u7ec3\u3002\u5982\u679c\u4f60\u662f\u65b0\u624b\uff0c\u5efa\u8bae\u4ece\u903b\u8f91\u56de\u5f52\u7b97\u6cd5\u5f00\u59cb\n\n\u6709\u5173\u903b\u8f91\u56de\u5f52\u6700\u8be6\u7ec6\u7684\u89e3\u91ca\uff1ahttp:\/\/www.360doc.com\/content\/19\/1121\/21\/32762466_874636130.shtml","9487003b":"#### \u5ba2\u8231\u7b49\u7ea7\uff08Pclass\uff09","314c3820":"# \u6784\u5efa\u6a21\u578b\uff08Modeling\uff09 \n\n\u7528\u8bad\u7ec3\u6570\u636e\u548c\u67d0\u4e2a\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5f97\u5230\u673a\u5668\u5b66\u4e60\u6a21\u578b\uff0c\u7528\u6d4b\u8bd5\u6570\u636e\u8bc4\u4f30\u6a21\u578b\n\n## \u5efa\u7acb\u8bad\u7ec3\u6570\u636e\u96c6\u548c\u6d4b\u8bd5\u6570\u636e\u96c6","96d57ca6":"## \u7279\u5f81\u9009\u62e9\n\n\u53ef\u4ee5\u5b66\u4e60\u540e\u9762\u7684\u8bfe\u7a0b\u540e\uff0c\u518d\u4e86\u89e3\u7279\u5f81\u9009\u62e9\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u5982\u679c\u4f60\u5df2\u7ecf\u5177\u5907\u4e86\u591a\u79cd\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u77e5\u8bc6\uff0c\u60f3\u63d0\u524d\u5b66\u4e60\uff0c\u53ef\u4ee5\u53c2\u8003\u8fd9\u4e9b\u8d44\u6599\uff1a\n \n* [\u5982\u4f55\u505a\u7279\u5f81\u5de5\u7a0b?](http:\/\/www.csuldw.com\/2015\/10\/24\/2015-10-24%20feature%20engineering\/)\n\n* [\u5982\u4f55\u4f7f\u7528sklearn\u8fdb\u884c\u7279\u5f81\u5de5\u7a0b\uff1f](http:\/\/www.cnblogs.com\/jasonfreak\/p\/5448385.html)\n\n* [\u6cf0\u5766\u5c3c\u514b\u53f7\u5982\u4f55\u8fdb\u884c\u7279\u5f81\u9009\u62e9?](https:\/\/ahmedbesbes.com\/how-to-score-08134-in-titanic-kaggle-challenge.html)\n\n\u76f8\u5173\u7cfb\u6570\u6cd5\uff1a\u8ba1\u7b97\u5404\u4e2a\u7279\u5f81\u7684\u76f8\u5173\u7cfb\u6570","2d0f7206":"## \u8bad\u7ec3\u6a21\u578b","bb5a9813":"\u6839\u636e\u5404\u4e2a\u7279\u5f81\u4e0e\u751f\u5b58\u60c5\u51b5\uff08Survived\uff09\u7684\u76f8\u5173\u7cfb\u6570\u5927\u5c0f\uff0c\u6211\u4eec\u9009\u62e9\u4e86\u8fd9\u51e0\u4e2a\u7279\u5f81\u4f5c\u4e3a\u6a21\u578b\u7684\u8f93\u5165\uff1a\n\n\u5934\u8854\uff08\u524d\u9762\u6240\u5728\u7684\u6570\u636e\u96c6titleDf\uff09\u3001\u5ba2\u8231\u7b49\u7ea7\uff08pclassDf\uff09\u3001\u5bb6\u5ead\u5927\u5c0f\uff08familyDf\uff09\u3001\u8239\u7968\u4ef7\u683c\uff08Fare\uff09\u3001\u8239\u8231\u53f7\uff08cabinDf\uff09\u3001\u767b\u8239\u6e2f\u53e3\uff08embarkedDf\uff09\u3001\u6027\u522b\uff08Sex\uff09","6e3d2463":"# \u65b9\u6848\u5b9e\u65bd\uff08Deployment\uff09\n\n## \u5f97\u5230\u9884\u6d4b\u7ed3\u679c\u4e0a\u4f20\u5230Kaggle\n\n\u4f7f\u7528\u9884\u6d4b\u6570\u636e\u96c6\u5230\u5e95\u9884\u6d4b\u7ed3\u679c\uff0c\u5e76\u4fdd\u5b58\u5230csv\u6587\u4ef6\u4e2d\uff0c\u4e0a\u4f20\u5230Kaggle\u4e2d\uff0c\u5c31\u53ef\u4ee5\u770b\u5230\u6392\u540d\u3002","0bd91798":"### \u5206\u7c7b\u6570\u636e\uff1a\u6709\u76f4\u63a5\u7c7b\u522b\u7684\n\n* \u4e58\u5ba2\u6027\u522b\uff08Sex\uff09\uff1a\n\n    \u7537\u6027\uff08male\uff09\uff0c\u5973\u6027\uff08female\uff09\n    \n* \u767b\u8239\u6e2f\u53e3\uff08Embarked\uff09\uff1a\n\n    \u51fa\u53d1\u5730\u70b9\uff1aS=\u82f1\u56fd.\u5357\u5b89\u666e\u987f\uff08Southampton\uff09\uff0c\n    \n    \u9014\u5f84\u5730\u70b91\uff1aC=\u6cd5\u56fd.\u745f\u5821\u5e02Cherbourg\uff0c\n    \n    \u51fa\u53d1\u5730\u70b92\uff1aQ=\u7231\u5c14\u5170.\u6606\u58eb\u6566\uff08Queenstown\uff09\n    \n* \u5ba2\u8231\u7b49\u7ea7\uff08Pclass\uff09\uff1a1=1\u7b49\u8231\uff0c2=2\u7b49\u8231\uff0c3=3\u7b49\u8231","839df071":"## \u7279\u5f81\u63d0\u53d6\uff08Feature Engineering\uff09\n\n### \u6570\u636e\u5206\u7c7b\n\n\u67e5\u770b\u6570\u636e\u7c7b\u578b\uff0c\u5206\u4e3a3\u79cd\u6570\u636e\u7c7b\u578b\u3002\u5e76\u5bf9\u7c7b\u522b\u6570\u636e\u5904\u7406\uff1a\u7528\u6570\u503c\u4ee3\u66ff\u7c7b\u522b\uff0c\u5e76\u8fdb\u884c One-hot \u7f16\u7801","7c2730d5":"### \u5206\u7c7b\u6570\u636e\uff1a\u5b57\u7b26\u4e32\u7c7b\u578b\n\n\u5b57\u7b26\u4e32\u7c7b\u578b\uff1a\u53ef\u80fd\u4ece\u8fd9\u91cc\u9762\u63d0\u53d6\u51fa\u7279\u5f81\u6765\uff0c\u4e5f\u5f52\u5230\u5206\u7c7b\u6570\u636e\u4e2d\uff0c\u8fd9\u91cc\u6570\u636e\u6709\uff1a\n\n* \u4e58\u5ba2\u59d3\u540d\uff08Name\uff09\n* \u8239\u8231\u53f7\uff08Cabin\uff09\n* \u8239\u7968\u7f16\u53f7\uff08Ticket\uff09\n\n### \u4ece\u59d3\u540d\u4e2d\u63d0\u53d6\u5934\u8854","4695cdcf":"### \u5efa\u7acb\u5bb6\u5ead\u4eba\u6570\u548c\u5bb6\u5ead\u7c7b\u522b"}}