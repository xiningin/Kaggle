{"cell_type":{"905a73cc":"code","437c1b44":"code","5b268ce7":"code","a1272e5c":"code","ae36c5cc":"code","73ba528f":"code","2c1a97c6":"code","76a9e611":"code","3f651601":"code","171455fb":"code","bc2224e4":"code","59eb6df2":"code","b7a2719b":"code","b73679a5":"code","5ccbca23":"code","fa081cc1":"code","373b1418":"code","210197e5":"code","9b8e5aff":"code","590d4a5f":"code","36e8bf49":"code","15fd184d":"code","4e94e869":"code","012d6cbb":"code","fa8f5120":"code","8c8fb834":"code","e546a31e":"code","b373e36d":"code","e67f64c1":"code","be1081ea":"code","34cb0ca6":"code","de306d5a":"code","fefd1bf6":"code","86fa04f6":"code","ba131bfe":"code","bff9ebdc":"code","8df0ecea":"code","25ea1fdf":"code","1dacd577":"code","d48df5d2":"code","0627a1c8":"code","76988e5f":"code","18c5cb23":"code","44c9da8c":"code","1a7a2314":"code","b53d1066":"code","0b87487d":"code","64ae4733":"code","19e4ee51":"code","915a2dbd":"code","0337d545":"code","d2336eba":"code","902ca56c":"code","0c0fad00":"code","a9206da8":"code","7e6704e7":"code","a28388df":"code","dddb91a0":"code","40e21e24":"code","ec716dbe":"code","9b0f7dba":"code","af561f44":"code","2e2c26d8":"code","954528fa":"code","21864a2b":"code","049123eb":"code","a1ffc5eb":"code","9f9e87f3":"markdown","94dfbcc3":"markdown","689e5b57":"markdown","62212bde":"markdown","4c860bfc":"markdown","e7c92eb6":"markdown","bada7f25":"markdown","68aeff61":"markdown","bd8ed203":"markdown","0f06fe0d":"markdown","f95742b9":"markdown","16c658c7":"markdown","533b893d":"markdown","96efd369":"markdown","dad3e688":"markdown","91d465ef":"markdown","99619922":"markdown","d44045b0":"markdown","4def2e13":"markdown","c30aa55f":"markdown","50335017":"markdown","6f9288f6":"markdown","cae4c27b":"markdown","cefd3cb5":"markdown","cea05de9":"markdown","fbb3ba90":"markdown","24d4b331":"markdown","653a774e":"markdown","816a12f7":"markdown","249381b9":"markdown","c047e97a":"markdown","44efeff3":"markdown","02b3b5b7":"markdown","9d10ab8d":"markdown","205dd897":"markdown","0dd94ad1":"markdown","32acf36d":"markdown","d8163b02":"markdown","b8e5ff5f":"markdown","665b22b0":"markdown","e6ac8d8d":"markdown","29e41ce2":"markdown","ba6889ef":"markdown","6572003d":"markdown","2a673d26":"markdown","fdec155e":"markdown","c41b1fc0":"markdown","239bd473":"markdown"},"source":{"905a73cc":"# import the important libraries\nimport pandas as pd     # for dataframe\nimport numpy as np      # for arraies\nimport matplotlib.pyplot as plt  # for visualization \n%matplotlib inline\nimport seaborn as sns           # for visualization ","437c1b44":"telco = pd.read_csv(\"..\/input\/telco-customer-churn\/WA_Fn-UseC_-Telco-Customer-Churn.csv\")","5b268ce7":"telco.head()","a1272e5c":"telco.info()","ae36c5cc":"telco['TotalCharges'] = telco['TotalCharges'].replace(\" \",np.nan)","73ba528f":"telco.isna().sum() # number of missing values for each columns","2c1a97c6":"telco.dropna(axis=0,inplace=True)","76a9e611":"#Converting type of TotalCharges to float\ntelco[\"TotalCharges\"] = telco[\"TotalCharges\"].astype(float)\ntype(telco[\"TotalCharges\"])","3f651601":"telco.describe() # to know some statistical information about the numerical data","171455fb":"telco.nunique()","bc2224e4":"telco.PaymentMethod.unique()","59eb6df2":"telco.MultipleLines.unique()","b7a2719b":"telco.head()","b73679a5":"sns.countplot(telco.Churn)\nplt.title(\"Number of people who left and who's still in company\")\nplt.show()","5ccbca23":"telco.Churn.value_counts()","fa081cc1":"sns.countplot(telco.gender,hue=telco.Churn)\nplt.title('the gender of customers who left nd who not')\nplt.show()","373b1418":"female_left = telco.query(\"gender == 'Female' and Churn == 'Yes'\")","210197e5":"female_left.shape","9b8e5aff":"male_left = telco.query(\"gender == 'Male' and Churn == 'Yes'\")","590d4a5f":"male_left.shape","36e8bf49":"print('the percentage of female who left is {}%'.format((939\/1869)*100))","15fd184d":"print('the percentage of male who left is {}%'.format((930\/1869)*100))","4e94e869":"sns.countplot(telco.SeniorCitizen)\nplt.title(\"Number of people who are senior citizen\")\nplt.show()","012d6cbb":"telco.SeniorCitizen.value_counts()","fa8f5120":"sns.countplot(telco.SeniorCitizen,hue=telco.Churn)\nplt.title('senior citizen who left and who not')\nplt.show()","8c8fb834":"senior_left =telco.query(\"SeniorCitizen == 1 and Churn == 'Yes'\")","e546a31e":"senior_left.shape","b373e36d":"print('the percentage of senior citizen who left is {}%'.format((476\/1142)*100))","e67f64c1":"sns.countplot(telco.Partner)\nplt.title(\"Number of customer who have partener\")\nplt.show()","be1081ea":"telco.Partner.value_counts()","34cb0ca6":"sns.countplot(telco.Partner,hue=telco.Churn)\nplt.show()","de306d5a":"partner_left = telco.query(\"Partner == 'Yes' and Churn == 'Yes'\")","fefd1bf6":"partner_left.shape","86fa04f6":"telco.query(\"Partner == 'No' and Churn == 'Yes'\").shape","ba131bfe":"print(\"there are {}% of customers who have partner left the company - and there are {}% of customers who din't have partner left\"\n     .format((669\/3402)*100,(1200\/3641)*100))","bff9ebdc":"telco.Dependents.value_counts()","8df0ecea":"sns.countplot(telco.Dependents)\nplt.title('Number of customers who are dependents VS independents')\nplt.show()","25ea1fdf":"telco.query(\"Dependents == 'Yes' and Churn == 'Yes'\").shape","1dacd577":"telco.query(\"Dependents == 'No' and Churn == 'Yes'\").shape","d48df5d2":"print(\"there are {}% of customers who are Dependents left the company - and there are {}% of customers who are independents left\"\n     .format((326\/2110)*100,(1543\/4933)*100))","0627a1c8":"telco.head()","76988e5f":"plt.figure(figsize=(20,5))\nsns.countplot(telco.tenure,order=(telco.tenure.value_counts().index))\nplt.title('Number of months the customer has stayed with the company')\nplt.show()","18c5cb23":"print('there are {}% of customers left the company after the first month'.format((telco.query(\"tenure ==1\").shape[0]\/telco.shape[0])*100))","44c9da8c":"print('in general {}% of customers left the company after first 5 months'\n      .format((telco.query(\"tenure ==[1,2,3,4,5]\").shape[0]\/telco.shape[0])*100))","1a7a2314":"num_col = telco[['tenure','MonthlyCharges','TotalCharges']]","b53d1066":"num_col.head()","0b87487d":"telco.head()","64ae4733":"telco.shape","19e4ee51":"df=telco.drop('customerID',axis=1)\ndf.head()","915a2dbd":"def pie(x):\n    sorted_counts = df[x].value_counts()\n    plt.pie(sorted_counts, labels = sorted_counts.index, startangle = 90,\n            counterclock = False,autopct='%.1f%%',shadow=True);\n    plt.axis('square')\n    plt.show()","0337d545":"plt.figure(figsize=(5,5))\nplt.title('The percentage of each gender in the company')\npie('gender')\nplt.show()","d2336eba":"plt.figure(figsize=(5,5))\nplt.title('The percentage of variation in ages in the company')\npie('SeniorCitizen')\nplt.show()","902ca56c":"plt.figure(figsize=(5,5))\nplt.title('Percentage of having a partner VS those who do not have')\npie('Partner')\nplt.show()","0c0fad00":"plt.figure(figsize=(5,5))\nplt.title('The percentage of Dependent clients in the company VS Independent clients')\npie('Dependents')\nplt.show()","a9206da8":"num_col.head()","7e6704e7":"plt.figure(figsize=(5,5))\nplt.hist(num_col.tenure)\nplt.title('tenure destribution')\nplt.xlabel('tenure ')\nplt.ylabel('count')\nplt.show()","a28388df":"plt.figure(figsize=(5,5))\nplt.hist(np.log10(num_col.tenure)) # here i count the logarithm 10 for the tenure feature\nplt.title('tenure destribution after count logarithm ')\nplt.xlabel('tenure')\nplt.ylabel('Clients number')\nplt.show()","dddb91a0":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nplt.hist(num_col.TotalCharges)\nplt.ylim(0,3000)\nplt.title('TotalCharges destribution')\nplt.xlabel('TotalCharges')\nplt.ylabel('Clients number')\n\nplt.subplot(1,2,2)\nplt.hist(num_col.MonthlyCharges)\nplt.ylim(0,3000)\nplt.title('MonthlyCharges destribution')\nplt.xlabel('MonthlyCharges')\nplt.show()","40e21e24":"plt.figure(figsize=(12,6))\n\n\nfor i in range(len(list(num_col.columns))):\n    plt.subplot(1,3,i+1)\n    sns.boxplot(num_col.iloc[:,i])","ec716dbe":"service = telco.iloc[:,6:-4]","9b0f7dba":"service.head()","af561f44":"plt.figure(figsize=(25,20))\nfor i,feature in enumerate(list(service.columns)):\n    plt.subplot(3,4,i+1)\n    sns.countplot(feature,hue = telco.Churn,data=telco)\n    plt.ylim(0,5000)\n    plt.title('num of clints who used {} left vs stay'.format(feature))\nplt.show()","2e2c26d8":"plt.figure(figsize=(25,20))\nfor i,feature in enumerate(list(service.columns)):\n    plt.subplot(3,4,i+1)\n    sns.countplot(feature,hue = telco.SeniorCitizen,data=telco)\n    plt.ylim(0,6000)\n    plt.title('senior citizen VS youth in using {}'.format(feature))\nplt.show()","954528fa":"plt.figure(figsize=(25,20))\nfor i,feature in enumerate(list(service.columns)):\n    plt.subplot(3,4,i+1)\n    sns.countplot(feature,hue = telco.Dependents,data=telco)\n    plt.ylim(0,5000)\n    plt.title('Dependents VS Independent in using {}'.format(feature))\nplt.show()","21864a2b":"plt.figure(figsize=(25,20))\nfor i,feature in enumerate(list(service.columns)):\n    plt.subplot(3,4,i+1)\n    sns.countplot(feature,hue = telco.Partner,data=telco)\n    plt.ylim(0,5000)\n    plt.title('clints who have partner VS not in using {}'.format(feature))\nplt.show()","049123eb":"sns.pairplot(num_col)\nplt.show()","a1ffc5eb":"sns.heatmap(num_col.corr(),annot=True,linewidths=2)\nplt.title('correlation between the numerical variables in the dataset')\nplt.show()","9f9e87f3":"- A large number of customers using Fiber Optic have left the company\n- Clients who do not use online security, many of them leave the company\n- Many clients who do not use technical support have left the company\n- Customers who pay month to month are the most who leave the company","94dfbcc3":"### that is expected thing, the number of independents  customers who left the company is 31% which is greater than the number of dependent customer who left the company which is 15.4%, because they want to save money","689e5b57":"## in the end there are some problems the company faces\n\n- 41.7% of senior citizens left the company.\n- 33% of customers who don't have a partner left the company.\n- 31% of independent customers left the company\n- 15.4% of dependent customers  left the company\n- 8.7% of customers left the company after the first month\n- 19.3% of customers left the company after first 5 months","62212bde":"**16.2% of the company's clients are elderly and the rest are young**","4c860bfc":"**let's read the data and take some intuition about it**","e7c92eb6":"### Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?\n\n> **there are a big positive correlation between tenure,Monthly and Total charges**\n","bada7f25":"**select numerical features**","68aeff61":"### The previous plot aims to find out the number of elderly people who use different services and the number of young people who use the same services as well","bd8ed203":"### we can say that the gender almost didn't affect on Churn","0f06fe0d":"### Discuss the distribution(s) of your variable(s) of interest. Were there any unusual points? Did you need to perform any transformations?\n\n> **For the tenure feature the distribution was not good to observe something so I calculate the logarithm to see the distribution accurately**\n\n","f95742b9":"**there are no outliers**","16c658c7":"## let's discover the last kind of customer who is dependant and who is not","533b893d":"# I will be happy if you tell me your opinion and your advice.","96efd369":"## we want to answer some questions such as :\n### what kind of people left within the last month?\n### what is the reason for lefting the company within the last month?","dad3e688":"## Univariate Exploration","91d465ef":"## what is the percentage for each gender which left the company?","99619922":"**Now we can say about this data:\nWe have two genders of clients. Some clients are still dependent, others are independent. and some have a partner.\nCustomers who have available phone service have some features and advantages.\nThe company also provides 4 payment methods\n['Electronic check', 'Mailed check', 'Bank transfer (automatic)',\n       'Credit card (automatic)']**","d44045b0":"**we can't gain many information from this values so I will try to count the logarithm to it and make a distribution again**","4def2e13":"**we can see that the data don't have missing value**","c30aa55f":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n","50335017":"**51% of clients don't have a partner**","6f9288f6":"**now we can see how much each feature correlated with the others**","cae4c27b":"<a id='conclusions'><\/a>\n## Conclusions","cefd3cb5":"# (Telco Customer Churn)\n## by (Seif Mohamed)\n\nGithub: https:\/\/github.com\/Seif-Mohamed1\/Telco-Customer-Churn-\n","cea05de9":"### What is the structure of your dataset?\n\n**The data have 7032 rows and 21 columns**\n\n### What is\/are the main feature(s) of interest in your dataset?\n\n         \n[gender             \nSeniorCitizen      \nPartner            \nDependents         \ntenure             \nPhoneService       \nMultipleLines      \nInternetService    \nOnlineSecurity     \nOnlineBackup       \nDeviceProtection   \nTechSupport        \nStreamingTV        \nStreamingMovies    \nContract           \nPaperlessBilling   \nPaymentMethod      \nMonthlyCharges    \nTotalCharges      \nChurn]\n\n### What features in the dataset do you think will help support your investigation into your feature(s) of interest?\n\n**until now I feel all feature will help me**","fbb3ba90":"**For monthly Charges, there is a variation in the number of customers, but it increases between 20 and 25**","24d4b331":"**we can see 70.2% of clints are Independent**","653a774e":"<a id='visualization'><\/a>\n# Visualization","816a12f7":"**profiling our clients**","249381b9":"# now we are put our hand on some  problems which are :\n\n- 41.7% from senior citizen left the company.\n- 33% of customers who don't have partner left the company.\n- 31% of independent customers left the company\n","c047e97a":"### The previous plot aims to find out the number of dependent people who use different services and the number of independent people who use the same services as well","44efeff3":"### The previous graph shows the relationship of leaving the company with services, and knowing the number of those who left the company and who remained in relation to using the services","02b3b5b7":"## let's think about other kind of people","9d10ab8d":"### there is a problem!\n**41.7% from senior citizen left the company; which it mean that the company didn't provide a suitable service to them**","205dd897":"**For Total Charges, the largest number of customers pays a value between 0 and 2000, after which the number of clients decreases dramatically**","0dd94ad1":"## Bivariate Exploration","32acf36d":"### The previous plot aims to find out the number of clients who has partner use different services and the number of clients who don't have partner use the same services as well","d8163b02":"## Multivariate Exploration","b8e5ff5f":"<a id='intro'><\/a>\n## Introduction","665b22b0":"**let's see who are left the company**","e6ac8d8d":"# It's time to find the reasons for those problems","29e41ce2":"this is the like for the dataset : https:\/\/www.kaggle.com\/blastchar\/telco-customer-churn\n\nContent\nEach row represents a customer, each column contains customer\u2019s attributes described on the column Metadata.\n\n**The data set includes information about:**\n>\n- Customers who left within the last month \u2013 the column is called Churn\n- Services that each customer has signed up for \u2013 phone, multiple lines, internet, online security, online backup, device protection, tech support, and streaming TV and movies\n- Customer account information \u2013 how long they\u2019ve been a customer, contract, payment method, paperless billing, monthly charges, and total charges\n- Demographic info about customers \u2013 gender, age range, and if they have partners and dependents","ba6889ef":"# there is another problem: 33% of customers who don't have partner left the company.\n**which it mean that; the company didn't provide a suitable service to them**","6572003d":"### now let's make  Exploratory Data Analysis!","2a673d26":"<a id='wrangling'><\/a>\n## Data Wrangling\n","fdec155e":"**The company has an approximately equal number of genders**","c41b1fc0":"## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#visualization\">Visualization<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","239bd473":"**We can see now that the longer the tenure, the greater the number of clients**"}}