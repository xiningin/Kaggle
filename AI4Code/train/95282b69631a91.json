{"cell_type":{"c67099eb":"code","1d395178":"code","3d7ede4b":"code","35133030":"code","3ae80e36":"code","fc7cdd9d":"code","58b46423":"code","8de872fe":"code","17045f67":"code","c7e6cc88":"code","2aca8f73":"code","481cf2e7":"code","ef5f617c":"code","83a9af19":"code","5aa56156":"code","4a997ca9":"code","b251f461":"code","e3f0b5b6":"code","0c90c5c2":"code","730f1fcd":"code","28099a44":"code","ffd39c3e":"code","fe7877ff":"code","ebaccf94":"code","41e9a287":"code","0ed73927":"code","298ea8c7":"code","c3598f42":"markdown","7c784be0":"markdown","d2fc63cc":"markdown","5439c070":"markdown"},"source":{"c67099eb":"pip install openpyxl","1d395178":"import pandas as pd\nimport numpy as np\nimport geopandas as gpd\nimport folium\nfrom geopandas import GeoDataFrame\nfrom shapely.geometry import Point\nimport json\nimport plotly.express as px\nimport branca.colormap as cmp\nfrom branca.colormap import linear\nfrom geopandas import GeoDataFrame\nfrom shapely.geometry import Point","3d7ede4b":"df=pd.read_excel('..\/input\/illere-gore-nufus-tr-2020\/turkiye_nufus_2020.xlsx')","35133030":"df.head()","3ae80e36":"df.describe().T","fc7cdd9d":"df.info()","58b46423":"df['ERKEK ORAN']=df['ERKEK NUFUS']\/df['TOPLAM NUFUS']\ndf['KADIN ORAN'] = df['KADIN NUFUS']\/df['TOPLAM NUFUS']","8de872fe":"geo=gpd.read_file('..\/input\/turkey-city-geojson\/tr-cities.json')\ngeo.head()","17045f67":"geo= geo.rename(columns = {\"name\":\"IL\"})\nfinal_df =geo.merge(df, on = \"IL\")\nfinal_df.head()","c7e6cc88":"final_df = GeoDataFrame(final_df, crs=\"EPSG:4326\")","2aca8f73":"m = folium.Map(location=[37.935,35.173],zoom_start=5)","481cf2e7":"bins = list(df[\"TOPLAM NUFUS\"].quantile([0, 0.25, 0.5, 0.75, 1]))\nchoropleth=folium.Choropleth(\n    geo_data=final_df,\n    name='choropleth',\n    data=final_df,\n    columns=['IL','TOPLAM NUFUS'],\n    key_on='feature.properties.IL',\n    fill_color='OrRd',\n    bins=bins,\n    nan_fill_color='black',\n    fill_opacity=0.7,\n    line_opacity=0.5,)\nfor key in choropleth._children:\n    if key.startswith('color_map'):\n        del(choropleth._children[key])\nchoropleth.add_to(m)\nchoropleth.geojson.add_child(folium.features.GeoJsonTooltip(['IL','TOPLAM NUFUS'],labels=False))\ncolormap = cmp.LinearColormap(colors=['white','yellow','#fbff00','#ff8800','#ff3700','orange','red','#ff0400'], index=[0,284923,537762,1081065,1546245],vmin=0,vmax=1546245)\ncolormap.caption = 'TOPLAM N\u00dcFUS (2020)'\ncolormap.add_to(m)\nm","ef5f617c":"bins = list(df[\"ERKEK ORAN\"].quantile([0, 0.25, 0.5, 0.75, 1]))\nchoropleth=folium.Choropleth(\n    geo_data=final_df,\n    name='choropleth',\n    data=final_df,\n    legend_name='ERKEK N\u00dcFUS ORANI',\n    columns=['IL','ERKEK ORAN'],\n    key_on='feature.properties.IL',\n    fill_color='YlGn',\n    bins=bins,\n    nan_fill_color='black',\n    fill_opacity=0.7,\n    line_opacity=0.5,)\nchoropleth.add_to(m)\nchoropleth.geojson.add_child(folium.features.GeoJsonTooltip(['IL','ERKEK NUFUS'],labels=False))\nm","83a9af19":"bins = list(df[\"KADIN ORAN\"].quantile([0, 0.25, 0.5, 0.75, 1]))\nchoropleth=folium.Choropleth(\n    geo_data=final_df,\n    name='choropleth',\n    data=final_df,\n    columns=['IL','KADIN ORAN'],\n    key_on='feature.properties.IL',\n    fill_color='PuRd',\n    bins=bins,\n    legen_name='KADIN N\u00dcFUS ORANI',\n    nan_fill_color='black',\n    fill_opacity=0.7,\n    line_opacity=0.5,)\nchoropleth.add_to(m)\nchoropleth.geojson.add_child(folium.features.GeoJsonTooltip(['IL','KADIN NUFUS'],labels=False))\nm","5aa56156":"import plotly.express as px\nimport plotly\nimport matplotlib.pyplot as plt","4a997ca9":"top_otuz=df[['TOPLAM NUFUS','IL']].sort_values('TOPLAM NUFUS',ascending=False).head(30)","b251f461":"fig=px.bar(top_otuz,x='TOPLAM NUFUS',y='IL',color='TOPLAM NUFUS',height=700,\n           title='N\u00dcFUSU EN \u00c7OK OLAN \u0130LK OTUZ \u0130L',color_continuous_scale=plotly.express.colors.sequential.Blugrn)\nfig.show()","e3f0b5b6":"son_otuz=df[['TOPLAM NUFUS','IL']].sort_values('TOPLAM NUFUS',ascending=True).head(30)","0c90c5c2":"fig=px.bar(son_otuz,x='TOPLAM NUFUS',y='IL',color='TOPLAM NUFUS',height=700,\n           title='N\u00dcFUSU AZ OLAN SON OTUZ \u0130L',\n           color_continuous_scale=plotly.express.colors.sequential.OrRd)\nfig.show()","730f1fcd":"a = pd.Series(df['TOPLAM NUFUS'].sum(), index = ['TOPLAM NUFUS'])\nb = pd.Series(df['ERKEK NUFUS'].sum(), index = ['ERKEK NUFUS'])\nc = pd.Series(df['KADIN NUFUS'].sum(), index = ['KADIM NUFUS'])\nprint(a)\nprint(b)\nprint(c)","28099a44":"tdf = pd.DataFrame({'CINSIYET':['ERKEK', 'KADIN'], 'TOPLAM NUFUS':[41915985,41698377]})","ffd39c3e":"fig = px.pie(tdf, values='TOPLAM NUFUS', names='CINSIYET', title='C\u0130NS\u0130YETE G\u00d6RE TOPLAM N\u00dcFUS')\nfig.show()","fe7877ff":"ydf=pd.read_excel(\"..\/input\/yillara-gore-nufus-tr\/yllara_gre_nfus_tr.xlsx\")","ebaccf94":"ydf.head()","41e9a287":"ydf.describe().T","0ed73927":"ydf.info()","298ea8c7":"fig = px.line(ydf, x='YIL', y=df.columns[2:4],\n              title='YILLARA G\u00d6RE ERKEK ve KADIN TOPLAM N\u00dcFUS DE\u011eERLER\u0130')\nfig.show()","c3598f42":"## ERKEK N\u00dcF\u00dcS ORANLARINA G\u00d6RE CHOROPLETH HAR\u0130TA","7c784be0":"## T\u00dcRK\u0130YE N\u00dcFUS ANAL\u0130Z\u0130(2020)\n* Bu \u00e7al\u0131\u015fmada 3 farkl\u0131 veri seti kullan\u0131lm\u0131\u015ft\u0131r.Bunlar\u0131n \u00f6zellikleri;\n* TU\u0130K' in yay\u0131nlam\u0131\u015f oldu\u011fu T\u00fcrkiye'deki t\u00fcm illere ait toplam n\u00fcfus,erkek n\u00fcfus,kad\u0131n n\u00fcfus ve n\u00fcfus oranlar\u0131 bilgilerinin yer ald\u0131\u011f\u0131 veri seti kullan\u0131lm\u0131\u015ft\u0131r.\n* Di\u011fer veri setinde ise yine TU\u0130K' in yay\u0131nlam\u0131\u015f oldu\u011fu T\u00fcrkiye'nin y\u0131llara g\u00f6re toplam erkek ve kad\u0131n n\u00fcfuslar\u0131 yer almkatad\u0131r.\n* Son olarakta T\u00fcrkiye'nin illerinin yer ald\u0131\u011f\u0131 bir geojson veri seti kullan\u0131lm\u0131\u015ft\u0131r.","d2fc63cc":"## KADIN N\u00dcF\u00dcS ORANLARINA G\u00d6RE CHOROPLETH HAR\u0130TA","5439c070":"## TOPLAM N\u00dcFUSA G\u00d6RE CHOROPLETH HAR\u0130TA"}}