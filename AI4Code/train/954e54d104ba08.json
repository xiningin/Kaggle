{"cell_type":{"d79254a8":"code","071b3304":"code","0021b8d3":"code","b34f28d1":"code","61be1940":"code","d6f98216":"code","8095ae41":"code","8e2d3f66":"code","5c221974":"code","3ac56248":"code","6e947540":"code","3d458d10":"code","d5b2fe9f":"code","6c512699":"code","56f79b94":"markdown","d9d2ec27":"markdown","03805040":"markdown","e309a328":"markdown","2acad620":"markdown","e880d041":"markdown","6be6f8fc":"markdown","cdbddae1":"markdown","67d97806":"markdown","e5514488":"markdown","2120be14":"markdown","387d25f6":"markdown","a153b41f":"markdown","fd019b32":"markdown","d2e6897b":"markdown"},"source":{"d79254a8":"import plotly.graph_objects as go\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os","071b3304":"df = pd.read_csv('..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv',parse_dates=['Last Update'])\ndf.rename(columns={'ObservationDate':'Date', 'Country\/Region':'Country'}, inplace=True)\n\ndf_confirmed = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_confirmed.csv\")\ndf_recovered = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_recovered.csv\")\ndf_deaths = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_deaths.csv\")\n\ndf_confirmed.rename(columns={'Country\/Region':'Country'}, inplace=True)\ndf_recovered.rename(columns={'Country\/Region':'Country'}, inplace=True)\ndf_deaths.rename(columns={'Country\/Region':'Country'}, inplace=True)\ndf_confirmed.head()","0021b8d3":"fig = go.Figure()\nfig.add_trace(go.Bar(x=df['Date'],\n                y=df['Confirmed'],\n                name='Confirmed',\n                marker_color='purple'\n                ))\n\nfig.update_layout(\n    title='Worldwide Corona Virus Cases - Confirmed',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title='Number of Cases',\n        titlefont_size=16,\n        tickfont_size=14,\n    )\n\n)\nfig.show()","b34f28d1":"fig = go.Figure()\nfig.add_trace(go.Bar(x=df['Date'],\n                y=df['Deaths'],\n                name='Deaths',\n                marker_color='black'\n                ))\n\nfig.update_layout(\n    title='Worldwide Corona Virus Cases - Deaths',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title='Number of Cases',\n        titlefont_size=16,\n        tickfont_size=14,\n    )\n\n)\nfig.show()","61be1940":"df_us = pd.read_csv(\"..\/input\/covid19-in-usa\/us_covid19_daily.csv\")\ndf_us_reg = pd.read_csv(\"..\/input\/covid19-in-usa\/us_states_covid19_daily.csv\")","d6f98216":"fig = go.Figure()\nfig.add_trace(go.Bar(x=df_us['date'],\n                y=df_us['positive'],\n                name='Confirmed in USA',\n                marker_color='purple'\n                ))\n\nfig.update_layout(\n    title='Corona Virus Cases - Confirmed in USA',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title='Number of Cases',\n        titlefont_size=16,\n        tickfont_size=14,\n    )\n\n)\nfig.show()","8095ae41":"fig = go.Figure()\nfig.add_trace(go.Bar(x=df_us['date'],\n                y=df_us['death'],\n                name='Deaths in USA',\n                marker_color='red'\n                ))\n\nfig.update_layout(\n    title='Corona Virus Cases - Deaths in USA',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title='Number of Cases',\n        titlefont_size=16,\n        tickfont_size=14,\n    )\n\n)\nfig.show()","8e2d3f66":"sns.clustermap(df.corr())","5c221974":"import fbprophet as fb","3ac56248":"df[\"ds\"] = df[\"Date\"]\ndf[\"y\"] = df[\"Confirmed\"]","6e947540":"model = fb.Prophet(yearly_seasonality=True) \nmodel.fit(df)","3d458d10":"future = model.make_future_dataframe(periods = 10, freq = 'MS')  \n# now lets make the forecasts\nforecast = model.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()","d5b2fe9f":"fig = go.Figure()\nfig.add_trace(go.Bar(x=forecast['ds'],\n                y=forecast['yhat'],\n                name='Predicted Cases',\n                marker_color='red'\n                ))\n\nfig.update_layout(\n    title='Corona Virus Cases - Our Prediction',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title='Number of Cases',\n        titlefont_size=16,\n        tickfont_size=14,\n    )\n\n)\nfig.show()","6c512699":"model.plot(forecast)","56f79b94":"> In the USA, cases have been steadily rising. Let's look at deaths now:","d9d2ec27":"We'll use Facebook's prophet library to forecast cases.","03805040":"---","e309a328":"Well, looks like the future is, well, grim to say the least of the current situation.","2acad620":"# Starting EDA","e880d041":"A specific look at the USA shows that:","6be6f8fc":"# **Forecasting: Part 1. Prophet**\n\n---","cdbddae1":"There is a steady increase over time when it comes to confirmed cases.","67d97806":"## In the US","e5514488":"---\n\n---","2120be14":"# COVID-19: A Starter EDA and Forecast\n\n---","387d25f6":"Let's make future dataframe and have a look.","a153b41f":"For prophet to work, we must rename date to `ds` and `Confirmed` to `y`.","fd019b32":"## Imports","d2e6897b":"---\n\n# This is a work in progress. If you like it, please upvote!\n\n---"}}