{"cell_type":{"158c5d66":"code","bb832c3e":"code","142c2e4f":"code","376a3dfa":"code","f54369a7":"code","28e83dd6":"code","a34ad6bb":"code","c38af3d6":"code","68537d86":"code","44a575de":"code","579399eb":"code","bb862c44":"code","380e3ccf":"code","5e3f32e7":"code","3dc6d97e":"code","a22d6fd2":"code","a1f66840":"code","7f44d798":"code","bf1c343e":"code","ab909987":"code","2709682e":"code","dc80e76f":"code","79b0c2af":"code","f4d94b15":"code","86bfaac8":"code","37ca5ec2":"code","a99386e0":"code","17d6a667":"code","5c835467":"code","2a665d21":"code","71c01e9a":"code","d59b6254":"code","01d4b9ae":"code","a23d61c0":"code","81ddc335":"code","8f7eeadb":"code","bc0ddf35":"code","e2d62a50":"code","a4dc033c":"code","b355c0a3":"code","43b6a843":"code","056cd9e8":"code","6ebc49cf":"code","20d1bf4b":"code","5c34ca12":"code","be913055":"code","c2b9c952":"code","6f539ee5":"code","a2d44f63":"code","8f0d66b0":"code","4a8eaed3":"code","e470fad9":"code","1e3f1bdb":"code","98caae86":"markdown","e3fadcb2":"markdown","c56611bf":"markdown","a8595705":"markdown","1d97ce36":"markdown","4376f2de":"markdown","82cda6d8":"markdown","51756525":"markdown","acf7270e":"markdown","8ab9a6e0":"markdown","54779cf2":"markdown","55b2ed83":"markdown","ba97d737":"markdown","0c392cfe":"markdown","70d01d07":"markdown"},"source":{"158c5d66":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","bb832c3e":"# Load the necessary packages\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set(color_codes=True)","142c2e4f":"#Load the Pima Diabeties dataset\ndataset = pd.read_csv('..\/input\/diabetes.csv')","376a3dfa":"dataset.head()","f54369a7":"dataset.describe(include=\"all\")","28e83dd6":"dataset.info()","a34ad6bb":"#Check For null values in the dataset\ndataset.isnull().sum()","c38af3d6":"#Check for zero values in the dataset\ndataset['Pregnancies'][dataset['Pregnancies'] == 0].count()","68537d86":"dataset['Glucose'][dataset['Glucose'] == 0].count()","44a575de":"dataset['BloodPressure'][dataset['BloodPressure'] == 0].count()","579399eb":"dataset['SkinThickness'][dataset['SkinThickness'] == 0].count()","bb862c44":"dataset['Insulin'][dataset['Insulin'] == 0].count()","380e3ccf":"dataset['BMI'][dataset['BMI'] == 0].count()","5e3f32e7":"dataset['Age'][dataset['Age'] == 0].count()","3dc6d97e":"dataset['DiabetesPedigreeFunction'][dataset['DiabetesPedigreeFunction'] == 0].count()","a22d6fd2":"sns.countplot(dataset['Outcome'])","a1f66840":"#Look for outliers in the dataset\nfig, axarr = plt.subplots(4, 2, figsize=(12, 10))\nsns.boxplot(dataset['Outcome'], dataset['Pregnancies'],ax=axarr[0][0])\nsns.boxplot(dataset['Outcome'], dataset['Glucose'],ax=axarr[0][1])\nsns.boxplot(dataset['Outcome'], dataset['BloodPressure'],ax=axarr[1][0])\nsns.boxplot(dataset['Outcome'], dataset['SkinThickness'],ax=axarr[1][1])\nsns.boxplot(dataset['Outcome'], dataset['Insulin'],ax=axarr[2][0])\nsns.boxplot(dataset['Outcome'], dataset['BMI'],ax=axarr[2][1])\nsns.boxplot(dataset['Outcome'], dataset['Age'],ax=axarr[3][0])\nsns.boxplot(dataset['Outcome'], dataset['DiabetesPedigreeFunction'],ax=axarr[3][1])","7f44d798":"#replace zero values with median\ndataset['Glucose'].replace(0,dataset['Glucose'].median(),inplace=True) \ndataset['BloodPressure'].replace(0,dataset['BloodPressure'].median(),inplace=True) \ndataset['SkinThickness'].replace(0,dataset['SkinThickness'].median(),inplace=True) \ndataset['Insulin'].replace(0,dataset['Insulin'].median(),inplace=True) \ndataset['BMI'].replace(0,dataset['BMI'].median(),inplace=True)","bf1c343e":"dataset.describe(include=\"all\")","ab909987":"dataset.hist(figsize=(20,30))","2709682e":"sns.pairplot(dataset)","dc80e76f":"#find the corelation in the dataset\ncorr = dataset.corr()\ncorr","79b0c2af":"sns.heatmap(corr, annot=True)","f4d94b15":"fig, axarr = plt.subplots(3, 2, figsize=(12, 8))\n\nsns.distplot(dataset['Pregnancies'],ax=axarr[0][0])\nsns.distplot(dataset['Glucose'],ax=axarr[0][1])\nsns.distplot(dataset['BloodPressure'],ax=axarr[1][0])\nsns.distplot(dataset['SkinThickness'],ax=axarr[1][1])\nsns.distplot(dataset['Insulin'],ax=axarr[2][0])\nsns.distplot(dataset['BMI'],ax=axarr[2][1])\n\nplt.subplots_adjust(hspace=1)","86bfaac8":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"Pregnancies\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['Pregnancies'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['Pregnancies'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['Pregnancies'], ax=axarr[1][1])","37ca5ec2":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"Glucose\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['Glucose'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['Glucose'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['Glucose'], ax=axarr[1][1])","a99386e0":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"BloodPressure\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['BloodPressure'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['BloodPressure'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['BloodPressure'], ax=axarr[1][1])","17d6a667":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"SkinThickness\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['SkinThickness'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['SkinThickness'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['SkinThickness'], ax=axarr[1][1])","5c835467":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"Insulin\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['Insulin'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['Insulin'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['Insulin'], ax=axarr[1][1])","2a665d21":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"Age\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['BMI'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['BMI'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['BMI'], ax=axarr[1][1])","71c01e9a":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"DiabetesPedigreeFunction\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['DiabetesPedigreeFunction'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['DiabetesPedigreeFunction'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['DiabetesPedigreeFunction'], ax=axarr[1][1])","d59b6254":"fig, axarr = plt.subplots(2, 2, figsize=(12, 8))\nsns.boxplot(x=\"Outcome\", y=\"Age\", data=dataset,ax=axarr[0][0])\nsns.barplot(dataset['Outcome'], dataset['Age'],ax=axarr[0][1])\nsns.stripplot(dataset['Outcome'], dataset['Age'], jitter=True,ax=axarr[1][0])\nsns.swarmplot(dataset['Outcome'], dataset['Age'], ax=axarr[1][1])","01d4b9ae":"fig, axarr = plt.subplots(3, 2, figsize=(12, 8))\nplt.subplots_adjust(hspace=1)\nsns.pointplot(dataset['Pregnancies'], dataset['Age'], hue=dataset['Outcome'],ax=axarr[0][0])\nsns.pointplot(dataset['Glucose'], dataset['Age'], hue=dataset['Outcome'],ax=axarr[0][1])\nsns.pointplot(dataset['BloodPressure'], dataset['Age'], hue=dataset['Outcome'],ax=axarr[1][0])\nsns.pointplot(dataset['SkinThickness'], dataset['Age'], hue=dataset['Outcome'],ax=axarr[1][1])\nsns.pointplot(dataset['Insulin'], dataset['Age'], hue=dataset['Outcome'],ax=axarr[2][0])\nsns.pointplot(dataset['BMI'], dataset['Age'], hue=dataset['Outcome'],ax=axarr[2][1])","a23d61c0":"sns.lmplot(x=\"Pregnancies\", y=\"Age\",hue=\"Outcome\", data=dataset)\nsns.lmplot(x=\"Glucose\", y=\"Age\",hue=\"Outcome\", data=dataset)\nsns.lmplot(x=\"BloodPressure\", y=\"Age\",hue=\"Outcome\", data=dataset)\nsns.lmplot(x=\"SkinThickness\", y=\"Age\",hue=\"Outcome\", data=dataset)\nsns.lmplot(x=\"Insulin\", y=\"Age\",hue=\"Outcome\", data=dataset)\nsns.lmplot(x=\"BMI\", y=\"Age\",hue=\"Outcome\", data=dataset)","81ddc335":"sns.jointplot(dataset['Pregnancies'], dataset['DiabetesPedigreeFunction'], kind='hex')\nsns.jointplot(dataset['Glucose'], dataset['DiabetesPedigreeFunction'], kind='hex')\nsns.jointplot(dataset['BloodPressure'], dataset['DiabetesPedigreeFunction'], kind='hex')\nsns.jointplot(dataset['SkinThickness'], dataset['DiabetesPedigreeFunction'], kind='hex')\nsns.jointplot(dataset['Insulin'], dataset['DiabetesPedigreeFunction'], kind='hex')\nsns.jointplot(dataset['BMI'], dataset['DiabetesPedigreeFunction'], kind='hex')","8f7eeadb":"pd.pivot_table(dataset,index=['Outcome'],aggfunc=len)","bc0ddf35":"from sklearn import linear_model\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import StratifiedKFold","e2d62a50":"reg=linear_model.LogisticRegression()","a4dc033c":"y=dataset['Outcome']\nX=dataset.drop(['Outcome'],axis=1)","b355c0a3":"reg.fit(X,y)","43b6a843":"reg.coef_,reg.intercept_","056cd9e8":"from sklearn.feature_selection import SelectKBest\nfrom sklearn.feature_selection import chi2","6ebc49cf":"data_X = dataset.iloc[:,0:8]\ndata_Y = dataset.iloc[:,8]\nselect_top_4 = SelectKBest(score_func=chi2, k = 4)","20d1bf4b":"fit = select_top_4.fit(data_X,data_Y)\nfeatures = fit.transform(data_X)","5c34ca12":"features","be913055":"dataset.head()","c2b9c952":"# Importing packages for cross validation, logistic regression, RandomForestClassifier, SVC,\n# KNeighborsClassifier and XGBClassifier\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import StratifiedKFold\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.svm import SVC\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom xgboost import XGBClassifier","6f539ee5":"X = dataset.drop('Outcome',1)\ny = dataset.Outcome                # Save target variable in separate dataset","a2d44f63":"#Using LogisticRegression\ni=1\nkf = StratifiedKFold(n_splits=5,random_state=1,shuffle=True)\nfor train_index,test_index in kf.split(X,y):\n     print('\\n{} of kfold {}'.format(i,kf.n_splits))\n     xtr,xvl = X.loc[train_index],X.loc[test_index]\n     ytr,yvl = y[train_index],y[test_index]\n    \n     model = LogisticRegression(random_state=1)\n     model.fit(xtr, ytr)\n     pred_test = model.predict(xvl)\n     score = accuracy_score(yvl,pred_test)\n     print('accuracy_score',score)\n     i+=1","8f0d66b0":"#Using RandomForestClassifier\ni=1\nkf = StratifiedKFold(n_splits=5,random_state=1,shuffle=True)\nfor train_index,test_index in kf.split(X,y):\n     print('\\n{} of kfold {}'.format(i,kf.n_splits))\n     xtr,xvl = X.loc[train_index],X.loc[test_index]\n     ytr,yvl = y[train_index],y[test_index]\n    \n     model = RandomForestClassifier(random_state=1, max_depth=3, n_estimators=41)\n     model.fit(xtr, ytr)\n     pred_test = model.predict(xvl)\n     score = accuracy_score(yvl,pred_test)\n     print('accuracy_score',score)\n     i+=1","4a8eaed3":"#Using XGBClassifier\ni=1\nkf = StratifiedKFold(n_splits=5,random_state=1,shuffle=True)\nfor train_index,test_index in kf.split(X,y):\n     print('\\n{} of kfold {}'.format(i,kf.n_splits))\n     xtr,xvl = X.loc[train_index],X.loc[test_index]\n     ytr,yvl = y[train_index],y[test_index]\n    \n     model = XGBClassifier(n_estimators=50, max_depth=4)\n     model.fit(xtr, ytr)\n     pred_test = model.predict(xvl)\n     score = accuracy_score(yvl,pred_test)\n     print('accuracy_score',score)\n     i+=1","e470fad9":"#Using SVC\ni=1\nkf = StratifiedKFold(n_splits=5,random_state=1,shuffle=True)\nfor train_index,test_index in kf.split(X,y):\n     print('\\n{} of kfold {}'.format(i,kf.n_splits))\n     xtr,xvl = X.loc[train_index],X.loc[test_index]\n     ytr,yvl = y[train_index],y[test_index]\n    \n     model = SVC()\n     model.fit(xtr, ytr)\n     pred_test = model.predict(xvl)\n     score = accuracy_score(yvl,pred_test)\n     print('accuracy_score',score)\n     i+=1","1e3f1bdb":"#Using KNeighborsClassifier\ni=1\nkf = StratifiedKFold(n_splits=5,random_state=1,shuffle=True)\nfor train_index,test_index in kf.split(X,y):\n     print('\\n{} of kfold {}'.format(i,kf.n_splits))\n     xtr,xvl = X.loc[train_index],X.loc[test_index]\n     ytr,yvl = y[train_index],y[test_index]\n    \n     model = KNeighborsClassifier(n_neighbors=20)\n     model.fit(xtr, ytr)\n     pred_test = model.predict(xvl)\n     score = accuracy_score(yvl,pred_test)\n     print('accuracy_score',score)\n     i+=1","98caae86":"People with High Insulin level are more likley to have Diabetes","e3fadcb2":"Attributes Glucose, BloodPressure, SkinThickness, Insulin, BMI having zero values.","c56611bf":"After Pregnancy people are more likely to have Diabetes","a8595705":"**Insights from the dataset**","1d97ce36":"the top performing features are Pregnancies, Glucose, BMI, Insulin and Age","4376f2de":"Observed that spread of attributes is quite different. Attributes Age, Insulin appear to be quite skewed towards smaller values.","82cda6d8":"1. Attributes Glucose, BloodPressure, SkinThickness, Insulin, BMI having zero values.\n2. Observed columns DiabetesPedigreeFunction and BMI having float datatype. All others are of integer type.\n3. Observed columns do not contain any null values.\n4. Observed that the spread of attributes is quite different. Attributes Age, Insulin appears to be quite skewed towards smaller values.\n5. Observed that BloodPressure between 60-80 is having low DiabetesPedigreeFunction.\n6. Zero values can be replaced by the median of the column because Pregnancies, Glucose, BloodPressure, SkinThickness, Insulin, BMI are having outliers.\n7. Observed that the Non-Diabetic persons are more than the diabetics.\n8. Attributes BMI, BloodPressure, Glucose are found to be normally distributed. BMI and BloodPressure nearly have Gaussian distribution Age,DiabetesPedigreeFunction, Insulin, Pregnancies found to be exponentially distributed.\n9. Observed that attributes BloodPressure, SkinThickness are not much related to outcome.\n10. Glucose, Age and BMI are the most Correlated features with the Outcome.\n11. The top-performing features are Pregnancies, Glucose, BMI, Insulin, and Age\n12. Older People are more likely to have Diabetes.\n13. People with High Glucose level are more likely to have Diabetes.\n14. After Pregnancy people are more likely to have Diabetes.\n15. People with High Insulin level are more likely to have Diabetes.","51756525":"Observed that attributes BloodPressure, SkinThickness are not much related to outcome.","acf7270e":"Older People are more likley to have Diabetes","8ab9a6e0":"Observed columns DiabetesPedigreeFunction and BMI having float datatype. All others are of integer type.","54779cf2":"People with High Glucose level are more likley to have Diabetes","55b2ed83":"PimaDiabetesDataset-Analysis","ba97d737":"the Non-Diabetic persons are more than the diabetics","0c392cfe":"![](http:\/\/)![](http:\/\/)**Apply Classification Methods **","70d01d07":"Attributes BMI, BloodPressure, Glucose are found to be normally distributed. BMI and BloodPressure nearly have Gaussian distribution. Age, DiabetesPedigreeFunction, Insulin, Pregnancies found to be exponentially distributed"}}