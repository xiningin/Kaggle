{"cell_type":{"16ec98a6":"code","133fb25e":"code","214ca99a":"code","0b3fb579":"code","5fb135af":"code","631add16":"code","07526b0a":"code","b47276ae":"code","64035dc2":"code","1cbc01b1":"code","e3dcd989":"code","ab282eed":"code","ad1c9df8":"code","dd800aec":"code","8d9f0912":"code","f405a712":"code","3a93e73c":"code","e60f89ae":"markdown","7357846c":"markdown","11dc0d92":"markdown","f2ef4f55":"markdown","7639ce8f":"markdown","dff473a9":"markdown","6501d3c7":"markdown","ce36629f":"markdown","5980a26c":"markdown","a377854b":"markdown","a7f8a6dc":"markdown","ec314029":"markdown","eb6965c7":"markdown","20f4e461":"markdown","a4c28692":"markdown","1272ffff":"markdown","0d8b5ba3":"markdown","44bce083":"markdown","fcca792a":"markdown","b20078e6":"markdown"},"source":{"16ec98a6":"#Importing libraries and the dataset\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\ndataset = pd.read_csv('..\/input\/globalterrorismdb_0718dist.csv',encoding='ISO-8859-1')\n\n#Selecting the data with respect to india\ndataset_india = dataset[dataset.loc[:,'country_txt'] == \"India\"]","133fb25e":"import numpy as np\n#printing count of null values\nnull_count_array = pd.isna(dataset_india).sum().values\nmedian = np.median(null_count_array)\nfilter = lambda x : x<10000\nfilter_vectorise = np.vectorize(filter)\nboolean_array = filter_vectorise(null_count_array)\n\ndataset_filtered = dataset_india.iloc[:,boolean_array]\n#display(dataset_filtered)","214ca99a":"#Replacing remaining null with appropriate Datatype\n\ndatatype_int = dataset_filtered.select_dtypes(include='int64')\ndatatype_float = dataset_filtered.select_dtypes(include='float64')\ndatatype_object  = dataset_filtered.select_dtypes(include='object')\n\ndatatype_int = datatype_int.replace(np.nan,0,regex=True)\ndatatype_float = datatype_float.replace(np.nan,0.0,regex=True)\n#datatype_object = datatype_object.replace(np.nan,\"\",regex=True)\ndataset_india_merged = pd.concat([datatype_int,datatype_float,datatype_object],axis = 1)\ndataset_india_merged['provstate'].loc[dataset_india_merged['provstate'] == 'Odisha'] = 'Orissa'\n#display(dataset_india_merged)","0b3fb579":"#Time series analysis\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\n\nsns.set()\n\ndate_wise_count = pd.pivot_table(dataset_india_merged,values = ['eventid'],index = ['iyear'],aggfunc='count')\ndate_wise_count.reset_index(inplace=True)\ndate_wise_count.rename_axis({\"iyear\":\"year\",\"eventid\":'count'},inplace=True)\ndate_wise_count.columns  = ['year','attack_count']\nplt.figure(figsize=(32,9))\nplt.title = 'Time series analysis of terrorist attacks'\nsns.lineplot(data=date_wise_count,x=date_wise_count.year,y=date_wise_count.attack_count)\nplt.fill_between(date_wise_count.year.values, date_wise_count.attack_count.values)\nplt.show()","5fb135af":"#State wise attack count\nplt.figure(figsize=(60,15))\nsns.set()\nplt.title = \"Time series analysis of terrorist attacks\"\nsns.countplot(data=dataset_india_merged,x='provstate')\nplt.show()","631add16":"#State wise attack type\nplt.figure(figsize=(5,5))\nsns.set(style='darkgrid')\nplt.title = \"Time series analysis of terrorist attacks\"\nsns.catplot(data=dataset_india_merged,y='attacktype1_txt',kind='count',col='provstate',col_wrap=6)\nplt.show()","07526b0a":"#State wise target type\nplt.figure(figsize=(5,5))\nsns.set(style='darkgrid')\nplt.title = \"Time series analysis of terrorist attacks\"\nsns.catplot(data=dataset_india_merged,y='targtype1_txt',kind='count',col='provstate',col_wrap=6)\nplt.show()","b47276ae":"#Time series combined evolution of state attack with time\n\nstates = dataset_india_merged['provstate'].unique()\nplt.figure(figsize=(60,12))\nplt.title = 'Time series analysis of terrorist attacks'\nfor x in states:\n    temp = dataset_india_merged[dataset_india_merged['provstate'] == x]\n    date_wise_count = pd.pivot_table(temp,values = ['eventid'],index = ['iyear'],aggfunc='count')\n    date_wise_count.reset_index(inplace=True)\n    date_wise_count.rename_axis({\"iyear\":\"year\",\"eventid\":'count'},inplace=True)\n    date_wise_count.columns  = ['year','attack_count']\n    sns.lineplot(data=date_wise_count,x=date_wise_count.year,y=date_wise_count.attack_count,lw=3)\nplt.legend(states)\nplt.show()","64035dc2":"#Attack type analysis\nplt.figure(figsize=(60,10))\nsns.set(style='darkgrid')\nsns.countplot(data = dataset_india_merged,y= 'attacktype1_txt')\nplt.show()","1cbc01b1":"# Time series evolution of attack types\n\n#states = dataset_india_merged['provstate'].unique()\nplt.figure(figsize=(60,12))\n\nstates = dataset_india_merged['attacktype1_txt'].unique()\n\nfor x in states:\n    temp = dataset_india_merged[dataset_india_merged['attacktype1_txt'] == x]\n    date_wise_count = pd.pivot_table(temp,values = ['eventid'],index = ['iyear'],aggfunc='count')\n    date_wise_count.reset_index(inplace=True)\n    date_wise_count.rename_axis({\"iyear\":\"year\",\"eventid\":'count'},inplace=True)\n    date_wise_count.columns  = ['year','attack_count']\n    sns.lineplot(data=date_wise_count,x=date_wise_count.year,y=date_wise_count.attack_count,lw=3)\nplt.legend(states)\nplt.show()\n","e3dcd989":"#Target type analysis\nplt.figure(figsize=(60,10))\nsns.set(style='darkgrid')\nsns.countplot(data = dataset_india_merged,y= 'targtype1_txt')\nplt.show()","ab282eed":"# Time series evolution of targets\nplt.figure(figsize=(60,12))\n\nstates = dataset_india_merged['targtype1_txt'].unique()\n\nfor x in states:\n    temp = dataset_india_merged[dataset_india_merged['targtype1_txt'] == x]\n    date_wise_count = pd.pivot_table(temp,values = ['eventid'],index = ['iyear'],aggfunc='count')\n    date_wise_count.reset_index(inplace=True)\n    date_wise_count.rename_axis({\"iyear\":\"year\",\"eventid\":'count'},inplace=True)\n    date_wise_count.columns  = ['year','attack_count']\n    sns.lineplot(data=date_wise_count,x=date_wise_count.year,y=date_wise_count.attack_count,lw=3)\nplt.legend(states)\nplt.show()","ad1c9df8":"#Group responsible for attacks\nplt.figure(figsize=(60,65),dpi=150)\nsns.countplot(data= dataset_india_merged,y='gname',log=True)\nplt.show()","dd800aec":"# Top terror groups\n\nterror_groups = pd.pivot_table(dataset_india_merged,index='gname',values='eventid',aggfunc='count')\nterror_groups.reset_index(inplace=True)\nterror_groups = terror_groups[terror_groups['eventid'] >= 10]\nterror_groups.sort_values('eventid',ascending=False,inplace=True)\nterror_groups = terror_groups['gname'].head(20).values","8d9f0912":"# Time series analysis\nstates = terror_groups\nfor x in states:\n    plt.figure(figsize=(60,10))\n    plt.figtext = x\n    temp = dataset_india_merged[dataset_india_merged['gname'] == x]\n    date_wise_count = pd.pivot_table(temp,values = ['eventid'],index = ['iyear'],aggfunc='count')\n    date_wise_count.reset_index(inplace=True)\n    date_wise_count.rename_axis({\"iyear\":\"year\",\"eventid\":'count'},inplace=True)\n    date_wise_count.columns  = ['year','attack_count']\n    sns.lineplot(data=date_wise_count,x=date_wise_count.year,y=date_wise_count.attack_count)\n    plt.fill_between(date_wise_count.year.values, date_wise_count.attack_count.values)\n    display(x)\n    plt.show()\n    ","f405a712":"data_subset = dataset_india_merged.loc[dataset_india_merged['gname'].isin(terror_groups)]\nsns.catplot(data=data_subset,y='weaptype1_txt',kind='count',col='gname',col_wrap=6,log = True)\nplt.show()","3a93e73c":"data_subset = dataset_india_merged.loc[dataset_india_merged['gname'].isin(terror_groups)]\nsns.catplot(data=data_subset,y='weapsubtype1_txt',kind='count',col='gname',col_wrap=6,log = True)\nplt.show()","e60f89ae":"Looks like we have got many null values in the dataset. Lets get rid of as many of them as we can. Here we only keep columns which have null values less than **10000**","7357846c":"The above graphs have been plotted to show how the most notorious terrorist groups evolved with time in **India**","11dc0d92":"### Time series analysis of different states of **India** and how terrorism changed across time","f2ef4f55":"Looks good now lets create an additional column for dates and do a little bit of cleanup as well","7639ce8f":"### **Weapon Type Analysis**\n\nBased on the top groups we will analyse the most common weapons used by terrorist groups.","dff473a9":"# **Terrorism in India Analysis**\n#### In this example we  will perform exploiratory data analysis on terrorism in india. The goal is to get a visual picture of the scenario in india based on **Global Terrorism Database**","6501d3c7":"### Statewise Target Type","ce36629f":"## **Time Series Analysis**\nThe below graphs shows the number of terrorist attacks on **India** from **1970 to 2017**. Initially it mainly tries to show how terrorist attacks have increased in india in the past few years. ","5980a26c":"This graph represents the numbers of attacks done by different groups. The x scale is in the log scale for visual appeal","a377854b":"### Statewise attack type","a7f8a6dc":"## **State wise Analysis**\n The below graphs show the effect on terrorist activities in different states in india. We start off with a visualisation of terrorist attacks in different states followed by in depth analysis of attack type and target type with respect to individual states. \n \n Finally we have tried to visualise how terrorist activities in individual states grew with respect to time\n\n### **State wise attack count**","ec314029":"The main weapon type used by the terrorist groups","eb6965c7":"Lets have a look at what we got from our original dataset.","20f4e461":"As evident from the graphs there are a lot of groups which have caused harm to **India**. So we filter only those groups which have done **10 or more attacks** irrespective of timeframe. Then we plot the activites of these groups across the entire timeline. The timeline is presented in descending order from the most active to the least active group","a4c28692":"## Target type analysis\n\nIn this section we look at the different types of terrorist attacks **India** has suffered and how these targets have changed with time\n\nThe first graph shows us the different types of targeted sites in india and the frequency of the attacks\nThe second graph shows us a plot where we see how these targets have changed with time","1272ffff":"## **Conclusion**\n\nIn this notebook we have tried to do a visual analysis of Terrorism in **India**. We have tried to analyse how the country and different states have been affected by terrorism over the years. What type of establishments were targeted and what type of attacks were carried out. We have also focused on the various terror groups that have affected **India**. We have shortlisted the top 20 terror groups and how active they have been over time. Furthermore we also have tried to analyse what weapons these groups have used.","0d8b5ba3":"## **Data extraction stage**\n\nIn this stage we load essential libraries and the dataset. Then we filter the dataset with respect to india. From here on we will only work with the data relevant to **India**","44bce083":"## Attack type analysis\n\nIn this section we look at the different types of terrorist attacks **India** has suffered and how these attacks have evolved through time\n\nThe first graph shows us the different types of attacks in india and the frequency of the attacks\nThe second graph shows us a plot where we see how these attacks have changed with time","fcca792a":"### Group Type Analysis\nIn this section we will focus on the various groups that have been responsible for terrorist activities in **India**","b20078e6":"The main weapon subtype used by the terrorist groups"}}