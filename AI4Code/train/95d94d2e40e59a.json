{"cell_type":{"e90f01fb":"code","00e18420":"code","1c93510c":"code","668996fe":"code","b5b4cd31":"code","61e34fa3":"code","77411916":"code","b3abf27f":"code","ba832a83":"code","30e1a655":"code","059a05d6":"code","300367ee":"code","eab31011":"code","5b94530d":"code","8128d84d":"code","4774ee92":"code","5ed11a20":"code","5ee41c68":"code","8455bb2e":"code","5990bafe":"code","52cd6853":"code","87cbafbb":"code","99f6f30d":"code","bd7e4a18":"code","b3d10ef0":"code","28154a50":"code","af0e7b41":"code","0dc4a00c":"code","06151ff2":"markdown","f56c9769":"markdown","86c00cb0":"markdown","9b5d0e83":"markdown","626474c2":"markdown","c2e132ad":"markdown","8eaeb463":"markdown"},"source":{"e90f01fb":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nsns.set_style(\"whitegrid\")\n","00e18420":"house_train= pd.read_csv(\"..\/input\/house-price-prediction\/train.csv\")\nhouse_test= pd.read_csv(\"..\/input\/house-price-prediction\/test.csv\")","1c93510c":"house_train.head(3)","668996fe":"plt.figure(figsize=(20,10))\nsns.heatmap(house_train.isnull(),yticklabels=False,cbar=False)","b5b4cd31":"plt.figure(figsize=(20,10))\nsns.heatmap(house_train.corr())","61e34fa3":"sns.jointplot(y='SalePrice',x='Street',data=house_train)","77411916":"house_train.describe()","b3abf27f":"house_train.info()","ba832a83":"house_train['SaleCondition'].unique()","30e1a655":"house_test.head()","059a05d6":"sns.scatterplot(x='GrLivArea',y='SalePrice',data=house_train)","300367ee":"house_train=house_train.drop(house_train.loc[(house_train['GrLivArea']>4000) & (house_train['SalePrice']<200000)].index,0)\nhouse_train.reset_index(drop=True, inplace=True)\n\nsns.scatterplot(x='GrLivArea',y='SalePrice',data=house_train)","eab31011":"house_trainrow=house_train.shape[0]\nhouse_testrow=house_test.shape[0]\n\nhouse_testids=house_test['Id'].copy()\n\ny_house_train=house_train['SalePrice'].copy()","5b94530d":"data=pd.concat((house_train,house_test)).reset_index(drop=True)\ndata=data.drop('SalePrice',1)","8128d84d":"data=data.drop('Id',axis=1)\ndata.head(3)","4774ee92":"missing = data.isnull().sum().sort_values(ascending=False)\nmissing = missing.drop(missing[missing==0].index)\nmissing","5ed11a20":"for cols in [\"PoolQC\",\"MiscFeature\",\"Alley\",\"Fence\",\"FireplaceQu\",\"GarageCond\",\"GarageQual\",\"GarageFinish\"]:\n    data[cols].fillna(\"NA\",inplace=True)\n    \nfor bsmt in [\"BsmtQual\",\"BsmtCond\",\"BsmtExposure\",\"BsmtFinType1\",\"BsmtFinType2\"]:\n    data[bsmt].fillna(\"NA\",inplace=True)\n    \n\n\nfor gar in ['GarageYrBlt','GarageType','GarageCars', 'GarageArea']:\n    data[gar].fillna(0,inplace=True)","5ee41c68":"data['BsmtFinSF1']=data['BsmtFinSF1'].fillna(0)\ndata['BsmtFinSF2']=data['BsmtFinSF2'].fillna(0)\n\ndata['MasVnrType']=data['MasVnrType'].fillna('NA')\ndata['MasVnrArea']=data['MasVnrArea'].fillna(0)\n\ndata['MSZoning']=data['MSZoning'].fillna(data['MSZoning'].dropna().sort_values().index[0])\n\ndata['Utilities']=data['Utilities'].fillna(data['Utilities'].dropna().sort_values().index[0])\n","8455bb2e":"#BsmtFullBath\ndata['BsmtFullBath']=data['BsmtFullBath'].fillna(0)\ndata['Functional']=data['Functional'].fillna(data['Functional'].dropna().sort_values().index[0])\ndata['BsmtHalfBath']=data['BsmtHalfBath'].fillna(0)\ndata['BsmtUnfSF']=data['BsmtUnfSF'].fillna(0)","5990bafe":"\ndata['Exterior2nd']=data['Exterior2nd'].fillna('NA')\ndata['Exterior1st']=data['Exterior1st'].fillna('NA')\ndata['TotalBsmtSF']=data['TotalBsmtSF'].fillna(0)\ndata['SaleType']=data['SaleType'].fillna(data['SaleType'].dropna().sort_values().index[0])\ndata['Electrical']=data['Electrical'].fillna(data['Electrical'].dropna().sort_values().index[0])\ndata['KitchenQual']=data['KitchenQual'].fillna(data['KitchenQual'].dropna().sort_values().index[0])","52cd6853":"missing=data.isnull().sum().sort_values(ascending=False)\nmissing=missing.drop(missing[missing==0].index)\nmissing","87cbafbb":"data['LotFrontage']=data['LotFrontage'].fillna(data['LotFrontage'].dropna().mean())\n\nmissing=data.isnull().sum().sort_values(ascending=False)\nmissing=missing.drop(missing[missing==0].index)\nmissing","99f6f30d":"data['GrLivArea_2']=data['GrLivArea']**2\ndata['GrLivArea_3']=data['GrLivArea']**3\ndata['GrLivArea_4']=data['GrLivArea']**4\n\ndata['TotalBsmtSF_2']=data['TotalBsmtSF']**2\ndata['TotalBsmtSF_3']=data['TotalBsmtSF']**3\ndata['TotalBsmtSF_4']=data['TotalBsmtSF']**4\n\ndata['GarageCars_2']=data['GarageCars']**2\ndata['GarageCars_3']=data['GarageCars']**3\ndata['GarageCars_4']=data['GarageCars']**4\n\ndata['1stFlrSF_2']=data['1stFlrSF']**2\ndata['1stFlrSF_3']=data['1stFlrSF']**3\ndata['1stFlrSF_4']=data['1stFlrSF']**4\n\ndata['GarageArea_2']=data['GarageArea']**2\ndata['GarageArea_3']=data['GarageArea']**3\ndata['GarageArea_4']=data['GarageArea']**4\n\n\ndata['Floorfeet']=data['1stFlrSF']+data['2ndFlrSF']\ndata=data.drop(['1stFlrSF','2ndFlrSF'],1)\n\ndata=pd.get_dummies(data=data,columns=['MSSubClass'],prefix='MSSubClass')\ndata=pd.get_dummies(data=data,columns=['MSZoning'],prefix='MSZoning')\ndata.head()","bd7e4a18":"data=pd.get_dummies(data=data,columns=['Street','Alley','LotShape','LandContour','Utilities','LotConfig','LandSlope','Neighborhood','Condition1','Condition2','BldgType','HouseStyle'])\ndata.head()\n","b3d10ef0":"\ndata=pd.get_dummies(data=data,columns=['OverallQual'],prefix='OverallQual')\n#OverallCond\ndata=pd.get_dummies(data=data,columns=['OverallCond'],prefix='OverallCond')\n\ndata['Remodeled']=0\ndata.loc[data['YearBuilt']!=data['YearRemodAdd'],'Remodeled']=1\ndata=data.drop('YearRemodAdd',1)\ndata=pd.get_dummies(data=data,columns=['Remodeled'])\n\ndata=pd.get_dummies(data=data,columns=['RoofStyle','RoofMatl','Exterior1st','Exterior2nd','MasVnrType','ExterQual','ExterCond','Foundation','BsmtQual','BsmtCond','BsmtExposure','BsmtFinType1','BsmtFinType2','Heating','HeatingQC','CentralAir','Electrical','KitchenQual','Functional','FireplaceQu','GarageType','GarageFinish','GarageQual','GarageCond','PavedDrive','PoolQC','Fence','MiscFeature','SaleType','SaleCondition'])\n\ndata['Bath']=data['BsmtFullBath']+data['BsmtHalfBath']*.5+data['FullBath']+data['HalfBath']*.5\ndata=data.drop(['BsmtFullBath','BsmtHalfBath','FullBath','HalfBath'],1)\n\ndata=pd.get_dummies(data=data,columns=['BedroomAbvGr','KitchenAbvGr','TotRmsAbvGrd'])\n\ndata.loc[data['GarageYrBlt']==2207.,'GarageYrBlt']=0","28154a50":"from sklearn.preprocessing import StandardScaler\n\nx_train=data.iloc[:house_trainrow]\nx_test=data.iloc[house_trainrow:]\nscaler=StandardScaler()\nscaler=scaler.fit(x_train)\nx_train_scaled=scaler.transform(x_train)\nx_test_scaled=scaler.transform(x_test)","af0e7b41":"from sklearn.ensemble import RandomForestRegressor\nrfr=RandomForestRegressor(n_estimators=1000)\nrfr.fit(x_train_scaled,y_house_train)\nprint(rfr.score(x_train_scaled,y_house_train))","0dc4a00c":"predictions = rfr.predict(x_test)\n\nsubmission = pd.DataFrame(columns=['Id', 'SalePrice'])\nsubmission['Id'] = house_test['Id']\nsubmission['SalePrice'] = predictions\nsubmission.to_csv('submission.csv', index=False)","06151ff2":"## Exploring Data","f56c9769":"## Prediction And Submission\n","86c00cb0":"## Random Forest","9b5d0e83":"## Feature Scaling","626474c2":"## Import CSV File","c2e132ad":"## Import Libraries\n","8eaeb463":"# House_Price_Predictions_Using_RandomForest"}}