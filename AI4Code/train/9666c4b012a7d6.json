{"cell_type":{"67be4c1b":"code","43cf28a9":"code","1a9b2d11":"code","e83ade40":"code","796bc2cf":"code","f95ea60e":"code","8dd709b7":"code","eb2c4e47":"code","5d4d2fc6":"code","a170fec7":"code","19e6a51c":"code","1ec34d6c":"code","f045ef37":"code","b59b9a49":"code","bdea454c":"code","b8e9f1a0":"code","34d18e47":"code","578c0590":"code","dd349e7c":"code","ca8e67bb":"code","0113cea2":"code","ea673a5a":"code","17a778d8":"code","17ec5834":"code","accd33b1":"code","7d91407f":"code","44dca263":"code","c88f2f79":"code","760d5659":"code","da8639b2":"code","eef7757a":"code","dc1e387e":"code","006a3710":"code","1115de39":"code","20c04bda":"code","f5bbdcc2":"code","951ed356":"code","121b96c2":"code","264ed0af":"code","c64fb919":"code","ac22fdd9":"code","9a6ed8da":"code","2a15edce":"code","f672d0f2":"code","4c2b1908":"code","cbad974d":"code","b9d602da":"code","ed478ef6":"code","9b10fe51":"code","946ca0ba":"code","1f3d10ca":"code","8e2c1aba":"code","04f1f3e6":"code","a24b6fcd":"code","8992d899":"code","82e3dc60":"code","e43709cd":"code","140708f6":"code","a66fd2dd":"code","76795153":"code","520c7ee5":"code","8389e4b0":"code","ac693f32":"code","ae93aa5e":"code","00c0727a":"code","d4c5de8d":"code","9107ee2e":"code","99965943":"code","8ec42249":"code","49cb8929":"code","540a04a7":"code","2206260a":"code","8d12cb94":"code","988f67cf":"code","bf8c75b6":"code","bd2174c8":"code","a3121885":"code","6a0effbb":"code","d46d81b4":"code","bbbfd18d":"code","27a3df85":"code","08bd718a":"code","12bd895a":"code","104b896f":"code","e30f0602":"code","0c7575a9":"code","fd81fe34":"code","2b462ffb":"code","34d5c9a6":"code","cda21f01":"code","deefb0d5":"code","cb5d807f":"code","47648d3a":"code","6c836c21":"code","dbbd26fb":"code","0f18bd6a":"code","70fc87be":"code","0a7bdaa7":"code","ff75165a":"code","d10f9c76":"code","c5a4bf97":"code","31e530df":"code","1f81e2b1":"code","43480db1":"code","49b52123":"code","540bcc8f":"code","c65c6f5c":"code","e39d1f0f":"code","8f2ed846":"code","49256331":"code","a8e25d30":"code","b00629aa":"code","3077e998":"code","077e5751":"code","1b7a3b1e":"code","cd61878b":"code","bfc198c7":"code","f8fc15b3":"code","4ebd2579":"code","46c5fb0a":"code","18b1cea6":"code","4c379db2":"code","95aa18fd":"code","1e55c826":"code","f4913cc7":"code","b15e7f50":"code","b170ef8c":"code","fd654902":"code","d70c26b0":"code","5150ae60":"code","14be21ec":"code","91a973da":"code","8acd8d57":"code","6d10988e":"code","1dd7c3da":"code","7f1e88ba":"code","b40a1f2d":"code","36c35d98":"code","fcc7e1c3":"code","95a91900":"code","5c2b5677":"code","d735f06d":"markdown","2748207e":"markdown","934e900d":"markdown","3452e147":"markdown","5d5fe342":"markdown","00d41c41":"markdown","610e409c":"markdown","9263354d":"markdown","9a218b08":"markdown","a64dffbb":"markdown","6bedda03":"markdown","1c8e8dbb":"markdown","8e98a8d2":"markdown","3b9e8885":"markdown","8ff77c6d":"markdown","8a8c558d":"markdown","e2c93c8b":"markdown","3ec67f3d":"markdown","a5c0b762":"markdown","2c36eeaa":"markdown","e7957906":"markdown","b73bd4be":"markdown","0cb7a656":"markdown","bdb03797":"markdown","c568b38f":"markdown","aee8684f":"markdown","a3d77b8f":"markdown","d9768c03":"markdown","a3c22ae2":"markdown","09971ea8":"markdown","1a87bfe1":"markdown","501dff82":"markdown","8e32f675":"markdown","cbc75cdd":"markdown","706ce0e6":"markdown","5ccf977e":"markdown","50d556f8":"markdown","5503b474":"markdown","96b23d4a":"markdown","484f4f7b":"markdown","78fdd2df":"markdown","c9eec028":"markdown","efe03962":"markdown","1c44b18e":"markdown","5d2975a5":"markdown","f61e5ed8":"markdown","ab5a4fd7":"markdown","43107efa":"markdown","5ab747c6":"markdown","1bb73756":"markdown","c0942646":"markdown","c6ebfa02":"markdown","ae53b151":"markdown","ec93b93d":"markdown","e116ee2d":"markdown","d37c73b2":"markdown","2f9977ad":"markdown","37bc7a9e":"markdown","ffd2ce6d":"markdown","6d7a15df":"markdown","dbcf0490":"markdown","2e7cd2b7":"markdown","a743eb0a":"markdown","4016eaf3":"markdown","6f851e12":"markdown","79e18a42":"markdown","25c9cda8":"markdown","40220b0d":"markdown","bbb02c80":"markdown","dbcf9c12":"markdown","07734dd7":"markdown","2ca9b802":"markdown","2c551bc8":"markdown","aadd90d2":"markdown","2fcf90d1":"markdown","024f0ad0":"markdown","6f4e06f7":"markdown","87a896c4":"markdown","896f8f47":"markdown","571e35ef":"markdown","86a31ef3":"markdown","91f1ae16":"markdown","b4ec4291":"markdown","a4d3378f":"markdown","c028fb66":"markdown","b1003f3f":"markdown","f5be8279":"markdown","471f08b4":"markdown","a6dec2ad":"markdown","58b9e887":"markdown"},"source":{"67be4c1b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import ScalarFormatter, FormatStrFormatter\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')\n\n\n# Altering output display\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)","43cf28a9":"# Reading the .csv file for previous data\nprevious_data=pd.read_csv('..\/input\/d\/pratyushmotwani\/bank-loan\/previous_application.csv')\nprevious_data.head()","1a9b2d11":"# Reading the .csv file for application data\napplication_data = pd.read_csv('..\/input\/d\/pratyushmotwani\/bank-loan\/application_data.csv')\napplication_data.head()","e83ade40":"# Displaying the number of rows and columns in previous data\nprevious_data.shape","796bc2cf":"# Displaying the number of rows and columns in application data\napplication_data.shape","f95ea60e":"# Displaying the column-wise info of previous data\nprevious_data.info()","8dd709b7":"# Displaying the column-wise info of application data\napplication_data.info(max_cols=122)","eb2c4e47":"# Displaying the column wise null value count\nprevious_data.isnull().sum()","5d4d2fc6":"# Displaying the percentage null value column-wise\n100*(previous_data.isnull().sum()\/previous_data.shape[0])","a170fec7":"# Dropping columns with more than 40 percent of null values\nprevious_data.drop(['RATE_INTEREST_PRIMARY','RATE_INTEREST_PRIVILEGED','AMT_DOWN_PAYMENT','RATE_DOWN_PAYMENT','NFLAG_INSURED_ON_APPROVAL','DAYS_FIRST_DRAWING','DAYS_FIRST_DUE','DAYS_LAST_DUE_1ST_VERSION','DAYS_LAST_DUE','DAYS_TERMINATION','NAME_TYPE_SUITE'],axis=1,inplace=True)\nprevious_data.shape","19e6a51c":"# Dropping other unnecessary columns\nprevious_data.drop(['HOUR_APPR_PROCESS_START','FLAG_LAST_APPL_PER_CONTRACT','NFLAG_LAST_APPL_IN_DAY','NAME_CASH_LOAN_PURPOSE','NAME_PAYMENT_TYPE','CODE_REJECT_REASON','NAME_PORTFOLIO','NAME_PRODUCT_TYPE','CHANNEL_TYPE','SELLERPLACE_AREA','NAME_SELLER_INDUSTRY'],axis=1,inplace=True)\nprevious_data.shape","1ec34d6c":"# Analyzing AMT_ANNUITY\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(15,5))\nsns.boxplot(x=previous_data.AMT_ANNUITY,color='Blue')\nplt.title('Boxplot for Loan Annuity', color='Blue', fontsize=20)\nplt.xlabel('Loan Annuity',color='Blue',fontsize=12)\nplt.show()","f045ef37":"# Finding mean and median for AMT_ANNUITY\nprevious_data.AMT_ANNUITY.describe().apply(lambda x: '%.0f'%x)","b59b9a49":"# Finding percentage of values higher than the mean value AMT_ANNUITY\nround(((previous_data[(previous_data.AMT_ANNUITY>15955)].AMT_ANNUITY.count())\/previous_data.shape[0])*100,2)","bdea454c":"# Imputing the null values in AMT_ANNUITY with the median value (11250.0)\nprevious_data['AMT_ANNUITY']=previous_data['AMT_ANNUITY'].fillna(11250.0)","b8e9f1a0":"# Analyzing CNT_PAYMENT\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(15,5))\nsns.boxplot(x=previous_data.CNT_PAYMENT,color='Blue')\nplt.title('Boxplot for Loan Term', color='Blue', fontsize=20)\nplt.xlabel('Term of Loan',color='Blue',fontsize=12)\nplt.show()","34d18e47":"# Finding mean and median for CNT_PAYMENT\nprevious_data.CNT_PAYMENT.describe().apply(lambda x: '%.0f'%x)","578c0590":"# Finding percentage of values higher than the mean value CNT_PAYMENT\nround(((previous_data[(previous_data.CNT_PAYMENT>16.05)].CNT_PAYMENT.count())\/previous_data.shape[0])*100,2)","dd349e7c":"# Imputing the null values in CNT_PAYMENT with the median value (12)\nprevious_data['CNT_PAYMENT']=previous_data['CNT_PAYMENT'].fillna(12)","ca8e67bb":"# Analyzing AMT_GOODS_PRICE\nprevious_data.AMT_GOODS_PRICE.isnull().sum()","0113cea2":"# Analyzing status of all applications for which AMT_GOODS_PRICE is null\nprevious_data[previous_data.AMT_GOODS_PRICE.isnull()==True].NAME_CONTRACT_STATUS.value_counts()","ea673a5a":"# Analyzing type of all applications for which AMT_GOODS_PRICE is null\nprevious_data[previous_data.AMT_GOODS_PRICE.isnull()==True].NAME_CONTRACT_TYPE.value_counts()","17a778d8":"# Analyzing NAME_GOODS_CATEGORY for which NAME_CONTRACT_TYPE is 'Consumer loans' & AMT_GOODS_PRICE is null\nprevious_data[(previous_data.AMT_GOODS_PRICE.isnull())].NAME_GOODS_CATEGORY.value_counts()","17ec5834":"# Plotting boxplot for AMT_GOODS_PRICE\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(15,5))\nsns.boxplot(x=previous_data.AMT_GOODS_PRICE,color='Blue')\nplt.title('Boxplot for Goods Price', color='Blue', fontsize=20)\nplt.xlabel('Price of Goods\\n',color='Blue',fontsize=12)\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.show()","accd33b1":"# Finding mean and median for AMT_GOODS_PRICE\nprevious_data.AMT_GOODS_PRICE.describe().apply(lambda x: '%.0f'%x)","7d91407f":"# Imputing the null values in AMT_GOODS_PRICE with '0'\nprevious_data['AMT_GOODS_PRICE']=previous_data['AMT_GOODS_PRICE'].fillna(0)","44dca263":"# Analyzing AMT_CREDIT\nprevious_data[previous_data.AMT_CREDIT.isnull()==True]","c88f2f79":"# Imputing the null value in AMT_CREDIT with '0'\nprevious_data['AMT_CREDIT']=previous_data['AMT_CREDIT'].fillna(0)","760d5659":"# Analyzing PRODUCT_COMBINATION\nprevious_data[previous_data.PRODUCT_COMBINATION.isnull()==True]","da8639b2":"# Finding mode for PRODUCT_COMBINATION\nprevious_data.PRODUCT_COMBINATION.mode()","eef7757a":"# Analyzing NAME_CONTRACT_TYPE for null values in PRODUCT_COMBINATION\nprevious_data[previous_data.PRODUCT_COMBINATION.isnull()==True].NAME_CONTRACT_TYPE.value_counts()","dc1e387e":"# Imputing the null values in PRODUCT_COMBINATION with the mode value (Cash)\nprevious_data['PRODUCT_COMBINATION']=previous_data['PRODUCT_COMBINATION'].fillna('Cash')","006a3710":"# Displaying the percentage null value column-wise\n100*(previous_data.isnull().sum()\/previous_data.shape[0])","1115de39":"# Finding duplicate data\nduplicate_previous_data=previous_data[previous_data.duplicated()]\nduplicate_previous_data.shape","20c04bda":"# Displaying the column wise null value count\napplication_data.isnull().sum()","f5bbdcc2":"# Displaying the percentage null value column-wise\n100*(application_data.isnull().sum()\/application_data.shape[0])","951ed356":"# Dropping columns with more than 50 percent of null values\napplication_data.drop(['OWN_CAR_AGE','EXT_SOURCE_1','APARTMENTS_AVG','BASEMENTAREA_AVG','YEARS_BUILD_AVG','COMMONAREA_AVG','ELEVATORS_AVG','ENTRANCES_AVG','FLOORSMIN_AVG','LANDAREA_AVG','LIVINGAPARTMENTS_AVG','LIVINGAREA_AVG','NONLIVINGAPARTMENTS_AVG','NONLIVINGAREA_AVG','APARTMENTS_MODE','BASEMENTAREA_MODE','YEARS_BUILD_MODE','COMMONAREA_MODE','ELEVATORS_MODE','ENTRANCES_MODE','FLOORSMIN_MODE','LANDAREA_MODE','LIVINGAPARTMENTS_MODE','LIVINGAREA_MODE','NONLIVINGAPARTMENTS_MODE','NONLIVINGAREA_MODE','APARTMENTS_MEDI','BASEMENTAREA_MEDI','YEARS_BUILD_MEDI','COMMONAREA_MEDI','ELEVATORS_MEDI','ENTRANCES_MEDI','FLOORSMIN_MEDI','LANDAREA_MEDI','LIVINGAPARTMENTS_MEDI','LIVINGAREA_MEDI','NONLIVINGAPARTMENTS_MEDI','NONLIVINGAREA_MEDI','FONDKAPREMONT_MODE','HOUSETYPE_MODE','WALLSMATERIAL_MODE'], axis=1, inplace=True)\napplication_data.shape","121b96c2":"# Dropping unnecessary additional columns\napplication_data.drop(['FLAG_MOBIL', 'FLAG_EMP_PHONE', 'FLAG_WORK_PHONE', 'FLAG_CONT_MOBILE',\n       'FLAG_PHONE', 'FLAG_EMAIL','REGION_RATING_CLIENT','REGION_RATING_CLIENT_W_CITY','FLAG_EMAIL','CNT_FAM_MEMBERS','REGION_RATING_CLIENT',\n       'REGION_RATING_CLIENT_W_CITY','DAYS_LAST_PHONE_CHANGE', 'FLAG_DOCUMENT_2', 'FLAG_DOCUMENT_3','FLAG_DOCUMENT_4', 'FLAG_DOCUMENT_5', 'FLAG_DOCUMENT_6',\n       'FLAG_DOCUMENT_7', 'FLAG_DOCUMENT_8', 'FLAG_DOCUMENT_9','FLAG_DOCUMENT_10', 'FLAG_DOCUMENT_11', 'FLAG_DOCUMENT_12',\n       'FLAG_DOCUMENT_13', 'FLAG_DOCUMENT_14', 'FLAG_DOCUMENT_15','FLAG_DOCUMENT_16', 'FLAG_DOCUMENT_17', 'FLAG_DOCUMENT_18',\n       'FLAG_DOCUMENT_19', 'FLAG_DOCUMENT_20', 'FLAG_DOCUMENT_21','EXT_SOURCE_2','EXT_SOURCE_3',\n        'EMERGENCYSTATE_MODE','TOTALAREA_MODE','FLOORSMAX_MEDI','YEARS_BEGINEXPLUATATION_MEDI','FLOORSMAX_MODE',\n        'YEARS_BEGINEXPLUATATION_MODE','FLOORSMAX_AVG','YEARS_BEGINEXPLUATATION_AVG','HOUR_APPR_PROCESS_START',\n        'REG_REGION_NOT_LIVE_REGION','LIVE_REGION_NOT_WORK_REGION','REG_REGION_NOT_WORK_REGION',\n        'REG_CITY_NOT_LIVE_CITY','REG_CITY_NOT_WORK_CITY','LIVE_CITY_NOT_WORK_CITY','REGION_POPULATION_RELATIVE'], axis=1, inplace=True)\napplication_data.shape","264ed0af":"# Analyzing AMT_ANNUITY\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[6,8])\nsns.boxplot(data=application_data, y='AMT_ANNUITY',color='Blue')\nplt.title('Boxplot for Loan Annuity', color='Blue', fontsize=20)\nplt.ylabel('Loan Annuity',color='Blue',fontsize=12)\nplt.show()","c64fb919":"# Finding median for AMT_ANNUITY\napplication_data['AMT_ANNUITY'].median()","ac22fdd9":"# Imputing the null values in AMT_ANNUITY with the median value (24903.0)\napplication_data['AMT_ANNUITY']=application_data['AMT_ANNUITY'].fillna(24903.0)","9a6ed8da":"# Analyzing AMT_GOODS_PRICE\napplication_data.AMT_GOODS_PRICE.isnull().sum()","2a15edce":"# Analyzing type of all applications for which AMT_GOODS_PRICE is missing\napplication_data[application_data.AMT_GOODS_PRICE.isnull()==True].NAME_CONTRACT_TYPE.value_counts()","f672d0f2":"# Analyzing type of all applications for which AMT_GOODS_PRICE is '0'\napplication_data[application_data.AMT_GOODS_PRICE==0]","4c2b1908":"# Imputing the null values in AMT_GOODS_PRICE with '0'\napplication_data['AMT_GOODS_PRICE']=application_data['AMT_GOODS_PRICE'].fillna(0)","cbad974d":"# Analyzing NAME_TYPE_SUITE\napplication_data['NAME_TYPE_SUITE'].value_counts()","b9d602da":"# Imputing null values in NAME_TYPE_SUITE with mode (Unaccompanied)\napplication_data['NAME_TYPE_SUITE']=application_data['NAME_TYPE_SUITE'].fillna('Unaccompanied')","ed478ef6":"# Analyzing OCCUPATION_TYPE\napplication_data.OCCUPATION_TYPE.isnull().sum()","9b10fe51":"# Imputing null values in OCCUPATION_TYPE with 'Occupation Not Known'\napplication_data['OCCUPATION_TYPE']=application_data['OCCUPATION_TYPE'].fillna('Occupation Not Known')","946ca0ba":"# Analyzing AMT_REQ_CREDIT_BUREAU and printing the number of null values for all the columns\nprint(application_data.AMT_REQ_CREDIT_BUREAU_HOUR.isnull().sum())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_DAY.isnull().sum())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_WEEK.isnull().sum())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_MON.isnull().sum())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_QRT.isnull().sum())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_YEAR.isnull().sum())","1f3d10ca":"# Calculating mean and median for AMT_REQ_CREDIT_BUREAU\nprint(application_data.AMT_REQ_CREDIT_BUREAU_HOUR.describe())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_DAY.describe())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_WEEK.describe())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_MON.describe())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_QRT.describe())\nprint(application_data.AMT_REQ_CREDIT_BUREAU_YEAR.describe())","8e2c1aba":"# Imputing null values in AMT_REQ_CREDIT_BUREAU with '0'\napplication_data['AMT_REQ_CREDIT_BUREAU_HOUR']=application_data['AMT_REQ_CREDIT_BUREAU_HOUR'].fillna(0)\napplication_data['AMT_REQ_CREDIT_BUREAU_DAY']=application_data['AMT_REQ_CREDIT_BUREAU_DAY'].fillna(0)\napplication_data['AMT_REQ_CREDIT_BUREAU_WEEK']=application_data['AMT_REQ_CREDIT_BUREAU_WEEK'].fillna(0)\napplication_data['AMT_REQ_CREDIT_BUREAU_MON']=application_data['AMT_REQ_CREDIT_BUREAU_MON'].fillna(0)\napplication_data['AMT_REQ_CREDIT_BUREAU_QRT']=application_data['AMT_REQ_CREDIT_BUREAU_QRT'].fillna(0)\napplication_data['AMT_REQ_CREDIT_BUREAU_YEAR']=application_data['AMT_REQ_CREDIT_BUREAU_YEAR'].fillna(0)","04f1f3e6":"# Analyzing EMI default data and printing the number of null values for all the columns\nprint(application_data.OBS_30_CNT_SOCIAL_CIRCLE.isnull().sum())\nprint(application_data.DEF_30_CNT_SOCIAL_CIRCLE.isnull().sum())\nprint(application_data.OBS_60_CNT_SOCIAL_CIRCLE.isnull().sum())\nprint(application_data.DEF_60_CNT_SOCIAL_CIRCLE.isnull().sum())","a24b6fcd":"# Calculating mean and median for EMI default data\nprint(application_data.OBS_30_CNT_SOCIAL_CIRCLE.describe())\nprint(application_data.DEF_30_CNT_SOCIAL_CIRCLE.describe())\nprint(application_data.OBS_60_CNT_SOCIAL_CIRCLE.describe())\nprint(application_data.DEF_60_CNT_SOCIAL_CIRCLE.describe())","8992d899":"# Imputing missing values in EMI default data with '0'\napplication_data['OBS_30_CNT_SOCIAL_CIRCLE']=application_data['OBS_30_CNT_SOCIAL_CIRCLE'].fillna(0)\napplication_data['DEF_30_CNT_SOCIAL_CIRCLE']=application_data['DEF_30_CNT_SOCIAL_CIRCLE'].fillna(0)\napplication_data['OBS_60_CNT_SOCIAL_CIRCLE']=application_data['OBS_60_CNT_SOCIAL_CIRCLE'].fillna(0)\napplication_data['DEF_60_CNT_SOCIAL_CIRCLE']=application_data['DEF_60_CNT_SOCIAL_CIRCLE'].fillna(0)","82e3dc60":"# Displaying the percentage null value column-wise\n100*(application_data.isnull().sum()\/application_data.shape[0])","e43709cd":"# Finding duplicate data\nduplicate_application_data=application_data[application_data.duplicated()]\nduplicate_application_data.shape","140708f6":"# Checking datatype of numeric columns\n(previous_data.select_dtypes(include=np.number)).info()","a66fd2dd":"# Changing datatype of CNT_PAYMENT to int\nprevious_data.CNT_PAYMENT=previous_data.CNT_PAYMENT.astype('int64')","76795153":"# Checking datatype of non-numeric columns\n(previous_data.select_dtypes(include=np.object)).info()","520c7ee5":"# Making data more readable\n\n# Rounding AMT_ANNUITY\nprevious_data.AMT_ANNUITY=round(previous_data.AMT_ANNUITY)\n\n# Rounding AMT_APPLICATION\nprevious_data.AMT_APPLICATION=round(previous_data.AMT_APPLICATION)\n\n# Rounding AMT_CREDIT\nprevious_data.AMT_CREDIT=round(previous_data.AMT_CREDIT)\n\n# Rounding AMT_GOODS_PRICE\nprevious_data.AMT_GOODS_PRICE=round(previous_data.AMT_GOODS_PRICE)\n\n# Changing negative values in DAYS_DECISION to positive\nprevious_data.DAYS_DECISION=previous_data.DAYS_DECISION.abs()","8389e4b0":"# Binning AMT_CREDIT\n\nbins=[-1,500000,1000000,1500000,2000000,2500000,3000000,3500000,8000000]\nlabels=['0-5 lacs','5-10 lacs', '10-15 lacs', '15-20 lacs','20-25 lacs','25-30 lacs','30-35 lacs','35-80 lacs']\nprevious_data['Previous Credit Slabs']=pd.cut(previous_data['AMT_CREDIT'],bins,labels=labels)","ac693f32":"# Checking datatype of numeric columns\n(application_data.select_dtypes(include=np.number)).info()","ae93aa5e":"# Making data more readable\n\n# Changing datatype of AMT_REQ_CREDIT_BUREAU to int\napplication_data[['AMT_REQ_CREDIT_BUREAU_HOUR','AMT_REQ_CREDIT_BUREAU_DAY','AMT_REQ_CREDIT_BUREAU_WEEK','AMT_REQ_CREDIT_BUREAU_MON','AMT_REQ_CREDIT_BUREAU_QRT','AMT_REQ_CREDIT_BUREAU_YEAR']]=application_data[['AMT_REQ_CREDIT_BUREAU_HOUR','AMT_REQ_CREDIT_BUREAU_DAY','AMT_REQ_CREDIT_BUREAU_WEEK','AMT_REQ_CREDIT_BUREAU_MON','AMT_REQ_CREDIT_BUREAU_QRT','AMT_REQ_CREDIT_BUREAU_YEAR']].astype('int64')\n\n# Changing datatype of loan default data\napplication_data[['OBS_30_CNT_SOCIAL_CIRCLE','DEF_30_CNT_SOCIAL_CIRCLE','OBS_60_CNT_SOCIAL_CIRCLE','DEF_60_CNT_SOCIAL_CIRCLE']]=application_data[['OBS_30_CNT_SOCIAL_CIRCLE','DEF_30_CNT_SOCIAL_CIRCLE','OBS_60_CNT_SOCIAL_CIRCLE','DEF_60_CNT_SOCIAL_CIRCLE']].astype('int64')\n\n# Changing datatype DAYS_REGISTRATION\napplication_data.DAYS_REGISTRATION=application_data.DAYS_REGISTRATION.astype('int64')\n\n# Rounding AMT_ANNUITY\napplication_data.AMT_ANNUITY=round(application_data.AMT_ANNUITY)\n\n# Rounding AMT_INCOME_TOTAL\napplication_data.AMT_INCOME_TOTAL=round(application_data.AMT_INCOME_TOTAL)\n\n# Rounding AMT_CREDIT\napplication_data.AMT_CREDIT=round(application_data.AMT_CREDIT)\n\n# Rounding AMT_GOODS_PRICE\napplication_data.AMT_GOODS_PRICE=round(application_data.AMT_GOODS_PRICE)\n\n\n# Converting neagtive days counts values to positive\napplication_data[['DAYS_BIRTH','DAYS_EMPLOYED','DAYS_REGISTRATION','DAYS_ID_PUBLISH']]=application_data[['DAYS_BIRTH','DAYS_EMPLOYED','DAYS_REGISTRATION','DAYS_ID_PUBLISH']].abs()","00c0727a":"# Binning ORGANIZATION_TYPE\n\ndef label_organisation (row):\n    if row['ORGANIZATION_TYPE'] in ['Industry: type 1', 'Industry: type 2', 'Industry: type 3', 'Industry: type 4', 'Industry: type 5', 'Industry: type 6', 'Industry: type 7', 'Industry: type 8', 'Industry: type 9','Industry: type 10','Industry: type 11','Industry: type 12','Industry: type 13']:\n        return 'Industry'\n    if row['ORGANIZATION_TYPE'] in ['Business Entity Type 3', 'Business Entity Type 1', 'Business Entity Type 2']:\n        return 'Business Entity'\n    if row['ORGANIZATION_TYPE'] in ['Trade: type 1', 'Trade: type 2', 'Trade: type 3', 'Trade: type 4', 'Trade: type 5','Trade: type 6','Trade: type 7']:\n        return 'Trade'\n    if row['ORGANIZATION_TYPE'] in ['Transport: type 1', 'Transport: type 2', 'Transport: type 3', 'Transport: type 4']:\n        return 'Transport'\n    return row['ORGANIZATION_TYPE']\n\n\napplication_data['Organisation'] = application_data.apply(lambda row: label_organisation(row), axis=1)","d4c5de8d":"# Binning AMT_INCOME_TOTAL\n\nbins=[0,50000,100000,150000,200000,100000000000000]\nlabels=['Very Low', 'Low', 'Medium', 'High', 'Very High']\napplication_data['Income Slabs'] = pd.cut(application_data['AMT_INCOME_TOTAL'], bins,labels=labels)","9107ee2e":"# Binning AMT_CREDIT\n\nbins=[-1,500000,1000000,1500000,2000000,2500000,3000000,3500000,8000000]\nlabels=['0-5 lacs','5-10 lacs', '10-15 lacs', '15-20 lacs','20-25 lacs','25-30 lacs','30-35 lacs','35-80 lacs']\napplication_data['Credit Slabs']=pd.cut(application_data['AMT_CREDIT'],bins,labels=labels)","99965943":"# Calculating the age of the applicants\n\napplication_data['AGE']=round((abs(application_data['DAYS_BIRTH'])\/365.2425),0)","8ec42249":"# Binning the age into 4 Groups namely 'Young Adults','Middle Age Adults','Old Adults' and 'Senior Citizens' for ease of evaluation\n\nbins=[-1,30,45,60,75]\nlabels=['Young Adults','Middle Age Adults', 'Old Adults', 'Senior Citizens']\napplication_data['Age Groups']=pd.cut(application_data['AGE'],bins,labels=labels)","49cb8929":"# Converting DAYS_EMPLOYED to Experience(in Years) for ease of analysis\napplication_data['EXP_IN_YRS']=round(((application_data['DAYS_EMPLOYED'])\/365.2425),0)","540a04a7":"# Binning the Experience\n\nbins=[-1,5,10,15,20,25,30,35,40,1001]\nlabels=['0-5','5-10', '10-15', '15-20','20-25','25-30','30-35','35-40','more than 40']\napplication_data['Experience Slabs']=pd.cut(application_data['EXP_IN_YRS'],bins,labels=labels)","2206260a":"# Binning DEF_30_CNT_SOCIAL_CIRCLE\n\nbins=[-1,0.9,1.9,2.9,3.9,5.9,7.9,10.9,349]\nlabels=['0','1', '2', '3','3-5','5-7','7-10','more than 10']\napplication_data['30 DPD Count']=pd.cut(application_data['DEF_30_CNT_SOCIAL_CIRCLE'],bins,labels=labels)","8d12cb94":"# Binning DEF_60_CNT_SOCIAL_CIRCLE\n\nbins=[-1,0.9,1.9,2.9,3.9,5.9,7.9,10.9,349]\nlabels=['0','1', '2', '3','3-5','5-7','7-10','more than 10']\napplication_data['60 DPD Count']=pd.cut(application_data['DEF_60_CNT_SOCIAL_CIRCLE'],bins,labels=labels)","988f67cf":"# Analyzing NAME_CONTRACT_TYPE\nplt.figure(figsize=(5,5))\nplt.style.use('fivethirtyeight')\nbins = np.arange(5) - 0.5\nplt.hist(previous_data.NAME_CONTRACT_TYPE,bins,color='blue',edgecolor='white')\nplt.title('Distribution of Loan Type\\n',fontsize=20, color='blue')\nplt.xlabel('Loan Type', fontsize=12, color='blue')\nplt.ylabel('Frequency', fontsize=12, color='blue')\nplt.xticks(rotation=45)\nplt.ticklabel_format(useOffset=False, style='plain', axis='y')\nplt.show()","bf8c75b6":"# Analyzing amount annuity\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(18,5))\nsns.boxplot(x=previous_data.AMT_ANNUITY,color='Blue')\nplt.title('Box Plot for Amount Annuity',fontsize=20, color='blue')\nplt.xlabel('Amount Annuity', fontsize=12, color='blue')\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.show()","bd2174c8":"# Analyzing application amount\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(18,5))\nsns.boxplot(x=previous_data.AMT_APPLICATION,color='Blue')\nplt.title('Box Plot for Application Amount',fontsize=20, color='blue')\nplt.xlabel('Application Amount', fontsize=12, color='blue')\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.show()","a3121885":"# Calculating percentile values for application amount\nprevious_data.AMT_APPLICATION.describe()","6a0effbb":"# Analyzing credit amount\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(18,5))\nsns.boxplot(x=previous_data.AMT_CREDIT,color='Blue')\nplt.title('Box Plot for Credit Amount',fontsize=20, color='blue')\nplt.xlabel('Credit Amount', fontsize=12, color='blue')\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.show()","d46d81b4":"# Calculating percentile values for credit amount\nprevious_data.AMT_CREDIT.describe()","bbbfd18d":"# Comparing application amount to credit amount\n\n# Credit Amount less than application Amount\nprint(round(100*((previous_data[(previous_data.AMT_CREDIT-previous_data.AMT_APPLICATION)<0]).SK_ID_PREV.count()\/(previous_data.shape[0])),2))\n\n# Credit Amount equal to application Amount\nprint(round(100*((previous_data[(previous_data.AMT_CREDIT-previous_data.AMT_APPLICATION)==0]).SK_ID_PREV.count()\/(previous_data.shape[0])),2))\n\n# Credit Amount more than application Amount\nprint(round(100*((previous_data[(previous_data.AMT_CREDIT-previous_data.AMT_APPLICATION)>0]).SK_ID_PREV.count()\/(previous_data.shape[0])),2))","27a3df85":"previous_data.head()","08bd718a":"# Analyzing goods price\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(18,5))\nsns.boxplot(x=previous_data.AMT_GOODS_PRICE,color='Blue')\nplt.title('Box Plot for Goods Price',fontsize=20, color='blue')\nplt.xlabel('Goods Price', fontsize=12, color='blue')\nplt.ticklabel_format(useOffset=False, style='plain', axis='x')\nplt.show()","12bd895a":"# An interesting study would be to analyse WEEKDAY_APPR_PROCESS_START\nplt.style.use('fivethirtyeight')\nbins = np.arange(8) - 0.5\nplt.hist(previous_data.WEEKDAY_APPR_PROCESS_START,bins,color='blue',edgecolor='white')\nplt.title('Distribution of Days\\n',fontsize=20, color='blue')\nplt.xlabel('Day', fontsize=12, color='blue')\nplt.xticks(rotation=90)\nplt.ylabel('Frequency', fontsize=12, color='blue')\nplt.show()","104b896f":"# Analyzing NAME_CONTRACT_STATUS\nplt.style.use('fivethirtyeight')\nbins = np.arange(5) - 0.5\nplt.hist(previous_data.NAME_CONTRACT_STATUS,bins,color='blue',edgecolor='white')\nplt.title('Distribution of Loan Status\\n',fontsize=20, color='blue')\nplt.xlabel('Loan Status', fontsize=12, color='blue')\nplt.ylabel('Frequency', fontsize=12, color='blue')\nplt.ticklabel_format(useOffset=False, style='plain', axis='y')\nplt.show()","e30f0602":"# Plotting type of loan and status\nplt.style.use('fivethirtyeight')\nsns.countplot(x=previous_data.NAME_CONTRACT_TYPE,hue=previous_data.NAME_CONTRACT_STATUS)\nplt.title('Distribution of loan status across types of loans\\n',fontsize=20, color='blue')\nplt.xlabel('Loan Type', fontsize=12, color='blue')\nplt.ylabel('Frequency', fontsize=12, color='blue')\nplt.show()","0c7575a9":"application_data.head()","fd81fe34":"# Distribution plot for Days Employed\nsns.distplot(application_data['DAYS_EMPLOYED'])\nplt.title('Distribution Plot for Days Employed', color='Blue', fontsize=20)\nplt.show()","2b462ffb":"print(application_data['CNT_CHILDREN'].value_counts())\nprint(application_data['CNT_CHILDREN'].describe())","34d5c9a6":"application_data['AMT_INCOME_TOTAL'].describe().apply(lambda x: '%.0f'%x)","cda21f01":"plt.figure(figsize=(10,5))\nsns.boxplot(data=application_data, x='AMT_INCOME_TOTAL')\nplt.title('Boxplot for Income', color='Blue', fontsize=20)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.show()","deefb0d5":"# Analyzing gender imbalance\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(15,5))\n\nplt.subplot(1,2,1)\nsns.countplot(application_data.CODE_GENDER, color='blue',edgecolor='white')\nplt.xlabel('Gender', fontsize=12, color='blue')\nplt.ylabel('No. of Applications', fontsize=12, color='blue')\nplt.ticklabel_format(useOffset=False, style='plain', axis='y')\n\nplt.subplot(1,2,2)\nmylabels=['Female','Male','XNA']\nplt.pie(application_data.CODE_GENDER.value_counts(),explode=[0.05,0,0],labels=mylabels,autopct='%0.2f%%',radius=1.2,startangle=90,textprops={'fontsize':14})\nplt.suptitle('Gender Distribution\\n',fontsize=20, color='blue')\nplt.show()","cb5d807f":"# Calculating gender imbalance ratio\nratio_of_gender_imbalance=(application_data[application_data.CODE_GENDER=='F'].CODE_GENDER.count())\/(application_data[application_data.CODE_GENDER=='M'].CODE_GENDER.count())\nprint('The ratio of gender imbalance is ' +str(round(ratio_of_gender_imbalance,2)))","47648d3a":"# An interesting analysis would be to calculate the gender-wise payment difficulty percentage\nfemale_payment_difficulty_rate=(application_data[(application_data.CODE_GENDER=='F')&(application_data.TARGET==1)].CODE_GENDER.count())\/(application_data[application_data.CODE_GENDER=='F'].SK_ID_CURR.count())\nmale_payment_difficulty_rate=(application_data[(application_data.CODE_GENDER=='M')&(application_data.TARGET==1)].CODE_GENDER.count())\/(application_data[application_data.CODE_GENDER=='M'].SK_ID_CURR.count())\nprint(str(round(female_payment_difficulty_rate*100))+'%'+' of the female applicants are having payment difficulties')\nprint(str(round(male_payment_difficulty_rate*100))+'%'+' of the male applicants are having payment difficulties')","6c836c21":"# Analyzing TARGET imbalance\nplt.style.use('fivethirtyeight')\nno_diff=format(100*application_data['TARGET'].value_counts()[0])\ndiff=format(100*application_data['TARGET'].value_counts()[1])\nlabels=['No Difficulty', 'Difficulty']\nplt.pie([no_diff, diff],explode=[0.25,0],labels=labels,autopct='%.2f%%' ,radius=1.5, startangle=90,textprops={'fontsize':15})\nplt.title('Target Variable Distribution\\n\\n\\n', color='Blue', fontsize=20);","dbbd26fb":"# Calculating imbalance ration wrt to TARGET variable\nratio_of_imbalance=int(no_diff)\/int(diff)\nprint('The ratio of imbalance wrt TARGET variable is ' +str(round(ratio_of_imbalance,2)))","0f18bd6a":"# Dividing the data into two based on the TARGET variable for comparative analysis\nHad_Issues=application_data[application_data['TARGET']==1] #People who had issues in repayment\nHad_No_Issues=application_data[application_data['TARGET']==0] #People who didn't face any issues in repayment","70fc87be":"# analysing how type of occupation affects the ease of loan repayment\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,10])\n\nplt.subplot(1,2,1)\nplot=sns.countplot(data=Had_Issues, x='OCCUPATION_TYPE')\nplt.ylim(0,100000)\nplt.xlabel('Occupation',fontsize=15,color='Blue')\nplt.ylabel('Defaulters',fontsize=15,color='Blue')\nplot.set_xticklabels(plot.get_xticklabels(), rotation=90)\n\n\nplt.subplot(1,2,2)\nplot=sns.countplot(data=Had_No_Issues, x='OCCUPATION_TYPE')\nplt.ylim(0,100000)\nplt.xlabel('Occupation',fontsize=15,color='Blue')\nplt.ylabel('Non Defaulters',fontsize=15,color='Blue')\nplot.set_xticklabels(plot.get_xticklabels(), rotation=90)\n\nplt.suptitle('Occupation Distribution',fontsize=25, color='blue')\nplt.show()","0a7bdaa7":"# Calculating percentages for Labourers\np_d = round(100*((Had_Issues[Had_Issues['OCCUPATION_TYPE']=='Laborers']).SK_ID_CURR.count())\/((application_data[application_data['OCCUPATION_TYPE']=='Laborers']).SK_ID_CURR.count()),2)\np_nd = round(100*((Had_No_Issues[Had_No_Issues['OCCUPATION_TYPE']=='Laborers']).SK_ID_CURR.count())\/((application_data[application_data['OCCUPATION_TYPE']=='Laborers']).SK_ID_CURR.count()),2)\nprint(str(p_d)+\"%\"+' of the total labourers had issues in repayemnt of the loan')\nprint(str(p_nd)+\"%\"+' of the total labourers did not face any issues in repayemnt of the loan')","ff75165a":"# Calculating number of loborers who had issue while repaying the loan\nHad_Issues[Had_Issues['OCCUPATION_TYPE']=='Laborers'].OCCUPATION_TYPE.count()","d10f9c76":"# Displaying occupation value counts of applicants who had issues while repaying the loan \nHad_Issues['OCCUPATION_TYPE'].value_counts()","c5a4bf97":"# Displaying occupation value counts of applicants who didn't face issues while repaying the loan \nHad_No_Issues['OCCUPATION_TYPE'].value_counts()","31e530df":"# Analysis on the basis of salary\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.xlabel('Income Slabs', fontsize=15,color='blue')\nsns.countplot(data=Had_Issues, x='Income Slabs')\nplt.ylim(0,100000)\nplt.ylabel('Defaulters',fontsize=15,color='blue')\n\nplt.subplot(1,2,2)\nplt.xlabel('Income Slabs', fontsize=15,color='blue')\nsns.countplot(data=Had_No_Issues, x='Income Slabs')\nplt.ylim(0,100000)\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\n\nplt.suptitle('Salary Distribution',fontsize=25,color='blue')\nplt.show()","1f81e2b1":"# Calculating percentages for people in medium income slab\np_d = round(100*((Had_Issues[Had_Issues['Income Slabs']=='Medium']).SK_ID_CURR.count())\/((application_data[application_data['Income Slabs']=='Medium']).SK_ID_CURR.count()),2)\np_nd = round(100*((Had_No_Issues[Had_No_Issues['Income Slabs']=='Medium']).SK_ID_CURR.count())\/((application_data[application_data['Income Slabs']=='Medium']).SK_ID_CURR.count()),2)\nprint(str(p_d)+\"%\"+' of the total people with medium salary had issues in repayemnt of the loan')\nprint(str(p_nd)+\"%\"+' of the total people with medium salary did not face any issues in repayemnt of the loan')","43480db1":"# Analysis on the basis of gender\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.xlabel('Gender', fontsize=15,color='blue')\nsns.countplot(data=Had_Issues, x='CODE_GENDER')\nplt.ylim(0,180000)\nplt.ylabel('Defaulters',fontsize=15,color='blue')\nplt.xlabel('Gender',fontsize=15,color='blue')\n\nplt.subplot(1,2,2)\nplt.xlabel('Gender', fontsize=15,color='blue')\nsns.countplot(data=Had_No_Issues, x='CODE_GENDER')\nplt.ylim(0,200000)\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\nplt.xlabel('Gender',fontsize=15,color='blue')\n\nplt.suptitle('Gender Distribution',fontsize=25,color='blue')\nplt.show()","49b52123":"# Analysis on the basis of loan type\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.ylim(0,260000)\nsns.countplot(data=Had_Issues, x='NAME_CONTRACT_TYPE')\nplt.ylabel('Defaulters',fontsize=15,color='blue')\nplt.xlabel('Loan Type', fontsize=15,color='blue')\n\nplt.subplot(1,2,2)\nplt.ylim(0,260000)\nsns.countplot(data=Had_No_Issues, x='NAME_CONTRACT_TYPE')\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\nplt.xlabel('Loan Type', fontsize=15,color='blue')\n\nplt.suptitle('Loan Type Distribution',fontsize=25,color='blue')\nplt.show()","540bcc8f":"# Analysis on the basis of number of children\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.ylim(0,210000)\nsns.countplot(data=Had_Issues, x='CNT_CHILDREN')\nplt.ylabel('Defaulters',fontsize=15,color='blue')\nplt.xlabel('No. of Children', fontsize=15,color='blue')\n\nplt.subplot(1,2,2)\nplt.ylim(0,210000)\nsns.countplot(data=Had_No_Issues, x='CNT_CHILDREN')\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\nplt.xlabel('No. of Children',fontsize=15,color='blue')\n\nplt.suptitle('No. of Children',fontsize=25,color='blue')\nplt.show()","c65c6f5c":"# Calculating percentages for CNT_CHILDREN\np_d = round(100*((Had_Issues[Had_Issues['CNT_CHILDREN']==0]).SK_ID_CURR.count())\/((application_data[application_data['CNT_CHILDREN']==0]).SK_ID_CURR.count()),2)\np_nd = round(100*((Had_No_Issues[Had_No_Issues['CNT_CHILDREN']==0]).SK_ID_CURR.count())\/((application_data[application_data['CNT_CHILDREN']==0]).SK_ID_CURR.count()),2)\nprint(str(p_d)+\"%\"+' of the total people with 0 children had issues in repayemnt of the loan')\nprint(str(p_nd)+\"%\"+' of the total people with 0 children did not face any issues in repayemnt of the loan')","e39d1f0f":"# Analysis on basis of Income Type\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[12,6])\n\nplt.subplot(1,2,1)\nplt.ylim(0,150000)\nsns.countplot(data=Had_Issues, x='NAME_INCOME_TYPE')\nplt.ylabel('Defaulters',fontsize=15,color='blue')\nplt.xlabel('Income Type', fontsize=15, color='blue')\nplt.xticks(rotation=90)\n\nplt.subplot(1,2,2)\nplt.ylim(0,150000)\nsns.countplot(data=Had_No_Issues, x='NAME_INCOME_TYPE')\nplt.ylabel('Non Defaulters',fontsize=15, color='blue')\nplt.xlabel('Income Type', fontsize=15, color='blue')\nplt.xticks(rotation=90)\n\nplt.suptitle('Income Type',fontsize=25,color='blue')\nplt.show()","8f2ed846":"# Calculating percentages for working class people\np_d = round(100*((Had_Issues[Had_Issues['NAME_INCOME_TYPE']=='Working']).SK_ID_CURR.count())\/((application_data[application_data['NAME_INCOME_TYPE']=='Working']).SK_ID_CURR.count()),2)\np_nd = round(100*((Had_No_Issues[Had_No_Issues['NAME_INCOME_TYPE']=='Working']).SK_ID_CURR.count())\/((application_data[application_data['NAME_INCOME_TYPE']=='Working']).SK_ID_CURR.count()),2)\nprint(str(p_d)+\"%\"+' of the total people from working class had issues in repayemnt of the loan')\nprint(str(p_nd)+\"%\"+' of the total people from working class did not face any issues in repayemnt of the loan')","49256331":"# Analysis on basis of Family Status\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[12,6])\n\nplt.subplot(1,2,1)\nplt.ylim(0,190000)\nsns.countplot(data=Had_Issues, x='NAME_FAMILY_STATUS')\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\nplt.xlabel('Family Status',fontsize=15,color='blue')\nplt.xticks(rotation=90)\n\nplt.subplot(1,2,2)\nplt.ylim(0,190000)\nsns.countplot(data=Had_No_Issues, x='NAME_FAMILY_STATUS')\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\nplt.xlabel('Family Status',fontsize=15,color='blue')\nplt.xticks(rotation=90)\n\nplt.suptitle('Family Status',fontsize=25,color='blue')\nplt.show()","a8e25d30":"# Analysis on basis of Education Status\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.ylim(0,200000)\na=sns.countplot(data=Had_Issues, x='NAME_EDUCATION_TYPE')\nplt.ylabel('Defaulters',fontsize=15,color='blue')\nplt.xlabel('Education Status',fontsize=15,color='blue')\na.set_xticklabels(a.get_xticklabels(),rotation=90)\n\nplt.subplot(1,2,2)\nplt.ylim(0,200000)\nb=sns.countplot(data=Had_No_Issues, x='NAME_EDUCATION_TYPE')\nplt.ylabel('Non Defaulters',fontsize=15,color='blue')\nplt.xlabel('Education Status',fontsize=15,color='blue')\nb.set_xticklabels(b.get_xticklabels(),rotation=90)\n\nplt.suptitle('Education Status',fontsize=25,color='blue')\nplt.show()","b00629aa":"# Analysis on the basis of Organisation Type\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,20])\n\nplt.subplot(1,2,1)\nplot1=sns.countplot(data=Had_Issues, y='Organisation')\nplot1.set_yticklabels(plot1.get_yticklabels(), rotation=45)\nplt.xlabel('Defaulters',fontsize=15,color='blue')\nplt.ylabel('Organization Type', fontsize=15,color='blue')\n\nplt.subplot(1,2,2)\nplot2=sns.countplot(data=Had_No_Issues, y='Organisation')\nplot2.set_yticklabels(plot2.get_yticklabels(), rotation=45)\nplt.xlabel('Non Defaulters',fontsize=15,color='blue')\nplt.ylabel('Organization Type', fontsize=15,color='blue')\n\nplt.suptitle('Organization Type',fontsize=25,color='blue')\nplt.subplots_adjust(left=0.1,\n                    bottom=0.1, \n                    right=0.9, \n                    top=0.9, \n                    wspace=0.4, \n                    hspace=0.4)\nplt.show()","3077e998":"#Analysis on basis of Age Groups\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.ylim(0,120000)\nsns.countplot(data=Had_Issues,x='Age Groups')\nplt.ylabel('Defaulters', fontsize=15, color='blue')\nplt.xlabel('Age Groups', fontsize=15, color='blue')\n\nplt.subplot(1,2,2)\nplt.ylim(0,120000)\nsns.countplot(data=Had_No_Issues,x='Age Groups')\nplt.ylabel('Non Defaulters', fontsize=15, color='blue')\nplt.xlabel('Age Groups', fontsize=15, color='blue')\n\nplt.suptitle('Age Groups',fontsize=25,color='blue')\nplt.show()","077e5751":"#Analysis on the basis of Years since employed\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nplt.ylim(0,140000)\nc=sns.countplot(data=Had_Issues,x='Experience Slabs')\nplt.ylabel('Non Defaulters', fontsize=15, color='blue')\nplt.xlabel('Years since employed', fontsize=15, color='blue')\nc.set_xticklabels(c.get_xticklabels(),rotation=45)\n\nplt.subplot(1,2,2)\nplt.ylim(0,140000)\nd=sns.countplot(data=Had_No_Issues,x='Experience Slabs')\nplt.ylabel('Non Defaulters', fontsize=15, color='blue')\nplt.xlabel('Years since employed', fontsize=15, color='blue')\nd.set_xticklabels(d.get_xticklabels(),rotation=45)\n\nplt.suptitle('Years since employed', fontsize=25, color='blue')\nplt.show()","1b7a3b1e":"#Analysing Income Slabs vs Amount Credited for Defaulters and Non Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nsns.boxplot(data=Had_Issues, x='Income Slabs', y='AMT_CREDIT')\nplt.ylabel('Amount Credited (Defaulters)', fontsize=15, color='blue')\nplt.xlabel('Income Slabs', fontsize=15, color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\n\nplt.subplot(1,2,2)\nsns.boxplot(data=Had_No_Issues, x='Income Slabs', y='AMT_CREDIT')\nplt.ylabel('Amount Credited (Non Defaulters)', fontsize=15, color='blue')\nplt.xlabel('Income Slabs', fontsize=15, color='blue')\nplt.gcf().axes[1].yaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Income Slabs',fontsize=25, color='blue')\nplt.show()","cd61878b":"#Analyzing Age Groups vs Amount Credited for Defaulters and Non Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\n\nplt.subplot(1,2,1)\nsns.boxplot(data=Had_Issues, x='Age Groups', y='AMT_CREDIT')\nplt.ylabel('Amount Credited (Defaulters)', fontsize=15, color='blue')\nplt.xlabel('Age Group', fontsize=15, color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\n\nplt.subplot(1,2,2)\nsns.boxplot(data=Had_No_Issues, x='Age Groups', y='AMT_CREDIT')\nplt.ylabel('Amount Credited (Non Defaulters)', fontsize=15, color='blue')\nplt.xlabel('Age Group', fontsize=15, color='blue')\nplt.gcf().axes[1].yaxis.get_major_formatter().set_scientific(False)\n\nplt.suptitle('Age Groups',fontsize=25, color='blue')\nplt.show()","bfc198c7":"#Analysing Experience vs Amount Credited for Non Defaulters\nplt.figure(figsize=[20,12])\nsns.boxplot(data=Had_No_Issues, x='Experience Slabs', y='AMT_CREDIT')\nplt.title('Boxplot for Amount Credited Across Work Experience', color='Blue', fontsize=25)\nplt.ylabel('Amount Credited', fontsize=15, color='blue')\nplt.xlabel('Experience (in Years)', fontsize=15, color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)","f8fc15b3":"#Analysing Income vs Amount Credited for Non Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[10,10])\nplot3=sns.scatterplot(data=Had_No_Issues, x='AMT_CREDIT',y='AMT_INCOME_TOTAL',color='red',s=120)\nplt.title('Income vs Credit Amount', color='Red', fontsize=20)\nplt.xlabel('Amount Credited',fontsize=20,color='red')\nplt.ylabel('Income',fontsize=20,color='red')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.show()","4ebd2579":"#Analysing Education vs Amount Credited against Family Status for Non Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.boxplot(data=Had_No_Issues, x='NAME_EDUCATION_TYPE', y='AMT_CREDIT', hue='NAME_FAMILY_STATUS')\nplt.title('Boxplot for Amount Credited across Education & Family Status for Non-Defaulters',color='Blue',fontsize=20)\nplt.ylabel('Amount Credited', fontsize=15, color='blue')\nplt.xlabel('Education Type', fontsize=15, color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)","46c5fb0a":"#Analysing Education vs Amount Credited against Family Status for Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.boxplot(data=Had_Issues, x='NAME_EDUCATION_TYPE', y='AMT_CREDIT', hue='NAME_FAMILY_STATUS')\nplt.title('Boxplot for Amount Credited across Education & Family Status for Defaulters',color='Blue',fontsize=20)\nplt.ylabel('Amount Credited', fontsize=15, color='blue')\nplt.xlabel('Education Type', fontsize=15, color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)","18b1cea6":"#Analysing Education vs Amount Credited against Family Status for Non Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.boxplot(data=Had_No_Issues, x='NAME_EDUCATION_TYPE', y='AMT_CREDIT', hue='NAME_INCOME_TYPE')\nplt.title('Boxplot for Amount Credited across Education & Income Type for Non-Defaulters',color='Blue',fontsize=20)\nplt.ylabel('Amount Credited', fontsize=15, color='blue')\nplt.xlabel('Education Type', fontsize=15, color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)","4c379db2":"# Finding the top 15 correlation variables for people who didn't default\ncorr=Had_No_Issues.corr()\ncorr_df = corr.where(np.triu(np.ones(corr.shape),k=1).astype(np.bool)).unstack().reset_index()\ncorr_df.columns=['Col1','Col2','Corr_Value']\ncorr_df.dropna(subset=['Corr_Value'],inplace=True)\ncorr_df = corr_df.sort_values(by=['Corr_Value'], ascending=False)\ncorr_df.head(15)","95aa18fd":"#Plotting AMT_GOODS_PRICE vs AMT_CREDIT for Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.scatterplot(data=Had_Issues, x='AMT_GOODS_PRICE', y='AMT_CREDIT',color='blue',s=100)\nplt.xlabel('Amount Goods Price', fontsize=15,color='blue')\nplt.ylabel('Amount Credited', fontsize=15,color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Amount Goods Price vs Amount Credited for Defaulters', fontsize=25, color='blue')\nplt.show()","1e55c826":"#Plotting AMT_GOODS_PRICE vs AMT_CREDIT for Non-Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.scatterplot(data=Had_No_Issues, x='AMT_GOODS_PRICE', y='AMT_CREDIT',color='blue',s=100)\nplt.xlabel('Amount Goods Price', fontsize=15,color='blue')\nplt.ylabel('Amount Credited', fontsize=15,color='blue')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Amount Goods Price vs Amount Credited for Non-Defaulters', fontsize=25, color='blue')\nplt.show()","f4913cc7":"#Plotting AMT_GOODS_PRICE vs AMT_ANNUITY for Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.scatterplot(data=Had_Issues, x='AMT_GOODS_PRICE', y='AMT_ANNUITY',color='green',s=100)\nplt.xlabel('Amount Goods Price', fontsize=15,color='green')\nplt.ylabel('Amount Annuity', fontsize=15,color='green')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Amount Goods Price vs Amount Annuity for Defaulters', fontsize=25, color='green')\nplt.show()","b15e7f50":"#Plotting AMT_GOODS_PRICE vs AMT_ANNUITY for Non-Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.scatterplot(data=Had_No_Issues, x='AMT_GOODS_PRICE', y='AMT_ANNUITY',color='green',s=100)\nplt.xlabel('Amount Goods Price', fontsize=15,color='green')\nplt.ylabel('Amount Annuity', fontsize=15,color='green')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Amount Goods Price vs Amount Annuity for Non-Defaulters', fontsize=25, color='green')\nplt.show()","b170ef8c":"#Plotting AMT_CREDIT vs AMT_ANNUITY for Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.scatterplot(data=Had_Issues, x='AMT_CREDIT', y='AMT_ANNUITY',color='purple',s=100)\nplt.xlabel('Amount Credited', fontsize=15,color='purple')\nplt.ylabel('Amount Annuity', fontsize=15,color='purple')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Amount Credited vs Amount Annuity for Defaulters', fontsize=25, color='purple')\nplt.show()","fd654902":"#Plotting AMT_CREDIT vs AMT_ANNUITY for Non-Defaulters\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=[20,12])\nsns.scatterplot(data=Had_No_Issues, x='AMT_CREDIT', y='AMT_ANNUITY',color='purple',s=100)\nplt.xlabel('Amount Credited', fontsize=15,color='purple')\nplt.ylabel('Amount Annuity', fontsize=15,color='purple')\nplt.gcf().axes[0].yaxis.get_major_formatter().set_scientific(False)\nplt.gcf().axes[0].xaxis.get_major_formatter().set_scientific(False)\nplt.suptitle('Amount Credited vs Amount Annuity for Non-Defaulters', fontsize=25, color='purple')\nplt.show()","d70c26b0":"# Plotting heatmap depicting how Income slabs across Age affect the target variable\nplt.figure(figsize=[4,5])\ntemp=pd.pivot_table(application_data,values='TARGET',index='Income Slabs',columns='Age Groups')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Income & Age Groups\\n',fontsize=15)\nplt.show()","5150ae60":"# Plotting heatmap depicting how Income slabs across 60 DPD values affect the target variable \nplt.figure(figsize=[9,5])\ntemp=pd.pivot_table(application_data,values='TARGET',index='Income Slabs',columns='DEF_60_CNT_SOCIAL_CIRCLE')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Income & DPD Data\\n',fontsize=15)\nplt.show()","14be21ec":"# Plotting heatmap depicting how Income slabs across experience affect the target variable\nplt.figure(figsize=[9,5])\ntemp=pd.pivot_table(application_data,values='TARGET',index='Income Slabs',columns='Experience Slabs')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Income & Experience\\n',fontsize=15)\nplt.show()","91a973da":"# Plotting heatmap depicting how Income slabs across loan type affect the target variable\nplt.figure(figsize=[3,5])\ntemp=pd.pivot_table(application_data,values='TARGET',index='Income Slabs',columns='NAME_CONTRACT_TYPE')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Income & Loan Type\\n',fontsize=15)\nplt.show()","8acd8d57":"# Plotting heatmap depicting how income across genders affect the target variable\nplt.figure(figsize=[3,5])\ntemp=pd.pivot_table(application_data,values='TARGET',index='Income Slabs',columns='CODE_GENDER')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Income & Gender\\n',fontsize=15)\nplt.show()","6d10988e":"# Plotting heatmap depicting how gender across experience affect the target variable\nplt.figure(figsize=[9,3])\ntemp=pd.pivot_table(application_data,values='TARGET',index='CODE_GENDER',columns='Experience Slabs')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Gender & Experience\\n',fontsize=15)\nplt.show()","1dd7c3da":"# Plotting heatmap depicting how gender across loan type affect the target variable\nplt.figure(figsize=[4,6])\ntemp=pd.pivot_table(application_data,values='TARGET',index='CODE_GENDER',columns='NAME_CONTRACT_TYPE')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Gender & Loan Type\\n',fontsize=15)\nplt.show()","7f1e88ba":"# Plotting heatmap depicting how gender across education type affect the target variable\nplt.figure(figsize=[5,3])\ntemp=pd.pivot_table(application_data,values='TARGET',index='CODE_GENDER',columns='NAME_EDUCATION_TYPE')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Gender & Education\\n',fontsize=15)\nplt.show()","b40a1f2d":"# Plotting heatmap depicting how gender across family status affect the target variable\nplt.figure(figsize=[6,3])\ntemp=pd.pivot_table(application_data,values='TARGET',index='CODE_GENDER',columns='NAME_FAMILY_STATUS')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Gender & Family Status\\n',fontsize=15)\nplt.show()","36c35d98":"# Merging the previous and application data\nmerged_data=pd.merge(left=application_data, right=previous_data, left_on='SK_ID_CURR', right_on='SK_ID_CURR')\nmerged_data.head()","fcc7e1c3":"# Plotting heatmap depicting how previous loan status across income slabs affect the target variable\nplt.figure(figsize=[5,4])\ntemp=pd.pivot_table(merged_data,values='TARGET',index='NAME_CONTRACT_STATUS',columns='Income Slabs')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Income & Loan Type\\n',fontsize=15)\nplt.show()","95a91900":"# Plotting heatmap depicting how previous loan status across 60 DPD affect the target variable\nplt.figure(figsize=[7,4])\ntemp=pd.pivot_table(merged_data,values='TARGET',index='NAME_CONTRACT_STATUS',columns='60 DPD Count')\nsns.heatmap(temp,annot=True,linewidth=0.1,linecolor='white')\nplt.title('Heatmap for TARGET variable across Loan Type & DPD Data\\n',fontsize=15)\nplt.show()","5c2b5677":"# Checking value count for loan status across 60 DPD values\nprint(merged_data[(merged_data['60 DPD Count']=='5-7')].NAME_CONTRACT_STATUS.value_counts())\nprint(merged_data[(merged_data['60 DPD Count']=='more than 10')].NAME_CONTRACT_STATUS.value_counts())","d735f06d":"Suggestion- Since AMT_GOODS_PRICE is the price of goods for which the loan was given this value holds no meaning for Revolving Loans and hence these values are null. So, we can impute it with a value of 0 which will potray that it was a revolving loan and no goods were involved. The outliers that we can see in the box plot depict the high value loans and hence they cannot be imputed or removed. They are important to the analysis.","2748207e":"Inference- Married men are more likely to repay their loans.","934e900d":"Inference- The number of people who are married apply for a loan are more when compared to people in other categories.","3452e147":"##### 4. Rate for interest of a loan is a very important factor from the perspective of the applicant as well as the lender. The high numbers of missing values for rate of interest made us to drop it from our dataset during the data cleaning process. It would have been interesting to see how the rates were related to loans getting canceled, or approved. This would have added a new dimension to our analysis of previous data.","5d5fe342":"Suggestion- Null values for numerical variables are generally imputed by using mean value or median value. In our case the mean is affected by the outliers and hence median (12) can be used.","00d41c41":"Inference- Irrespective of income, lesser years of work experience may lead to loan refusal. (Subjective to amount of loan)","610e409c":"Suggestion- As the number of outliers is quite high using mean will not be a good idea as mean gets affected by the presence of outliers. Hence, we will use the median to impute the null values.","9263354d":"Suggestion- AMT_CREDIT has only 1 null value and seeing that all other values for this entry are 0, we can imput this with 0.","9a218b08":"Inference- This trend is in line with our general expectation i.e as your income increases your eligibility to get a bigger loan also increases regardless of the fact whether you are able to repay it or not.","a64dffbb":"Suggestion- PRODUCT_COMBINATION is a categorical variable, hence if imputation is necessary, the null values can be imputed with the mode value (Cash).","6bedda03":"## Recommendations","1c8e8dbb":"Inference- With increasing work experience, the chances of a loan getting approved improve irrespective of gender.","8e98a8d2":"Suggestion- Since 96391 values are null from the 'OCCUPATION_TYPE' column, it is not possible to impute such a large amount of values correctly without introducing a significant amount of error. This column seems important because the kind of employment one has and the amount of money one earns from it both are critical in deciding whether his\/her loan should be approved or not. Therefore, the best solution is to replace the values with 'Occupation Not Known'.","3b9e8885":"Inference- Females are more likely to repay their loans when compared to males.","8ff77c6d":"##### 5. While the data might suggest that labourers are more likely to repay their loan we cannot neglect that the percentage of labourers defaulting is also high when compared to other occupations. A bonus (carrot) scheme or a penalty (stick) scheme may be incorporated.","8a8c558d":"##### 6. Revolving loans have a higher rate of repayment, banks should formulate schemes to focus on revolving loans like attractive interest rates, etc.","e2c93c8b":"Observation- The data has no duplicate values.","3ec67f3d":"Inference- This is too small a data to make any conclusion for applicants with higher 60 DPD values.","a5c0b762":"#### 2.2 Application Data","2c36eeaa":"Inference- Revolving loans have a higher rate of repayment.","e7957906":"##### 3. The past record of the applicant should be considered even if his\/her current financials are strong and in depth enquiry about past data should be done if the record shows that the applicant has many refused applications.","b73bd4be":"Inference- Educated people are likely to repay their loans on time for both males and females.","0cb7a656":"#### 1.1 Importing the data","bdb03797":"### 2. Data Understanding & Preparation","c568b38f":"Observation- All the variables now have correct datatype.","aee8684f":"Inference: The trend is line with our expectations. Higher amount of loans are required for purchasing items which are expensive. Thus, a positive correlations should exists and it does both for the plots.","a3d77b8f":"Inference- The trend observed over here is as expected. The amount credited is higher for highly educated people. The amount of loan credited to the accounts of people who fall in this section seems to be independent of their family status.","d9768c03":"Inference- Only for 21.39% applications, the credited amount was less than what the customers applied for. For all of the rest of approved applications the credit amount was either equal to (39.23%) or more than (39.37%) the applied amount.","a3c22ae2":"Inference- Applicants who have a good past record with loan repayment are likely to continue doing the same. Even a value of 1 for 60 DPD drastically reduces one's chances of getting a loan approved.","09971ea8":"## 1. Reading the data","1a87bfe1":"Inference- Higher amount of loans are required for purchasing items which are expensive. And higher the loan amount, higher will be the corresponding annuity. As, a result of a positive correlation should exists betwwen the goods price and annuity amount and it does. Hence, this trend also is in line with our understanding and expectations.","501dff82":"### 4. Data Analysis","8e32f675":"#### A person cannot be employed for more than 300000 days. So, definitely these are outliers which might have crept inside the data due to some errors. But there is no right way of imputing them and they are left as they are for this analysis.","cbc75cdd":"### Observations:\n\n1.The data has huge imbalance with regards to the target variable. We have extensive data for applicants who are likely to repay the loan but relatively very less data for applicants likely to have difficulty in repayment.\n2. Ideally for such data oversampling or undersampling can be considered.\n3. In the real world also if we see the no. of people who default and contribute to the NPA of the banks are way less than the people who repay the loan on time.","706ce0e6":"Inference- The no. of people with 0-5 years of experience is far more than the no. of people in other categories. As a result, of this their number is in both the datasets i.e in the one where people face issues with repayment of loans as well as in the one where people don't face issues with the repayment of loans.","5ccf977e":"Inference- Majority of the applications seem to for loans below 2 lacs. There are a lot of outliers but we cannot impute them as every application is unique in itself and there is no correct way to impute such a highly discrete data.","50d556f8":"Observation- The data has no duplicate values.","5503b474":"Inference- Revolving loans have higher approval percentage for all categories across income.","96b23d4a":"##### 3. There is huge imbalance in data wrt to the TARGET variable. The data includes 92% entries for repayers and only 8% entries for defaulters. So, any comparative conclusions drawn from the data would lack a certain amount of certainity.","484f4f7b":"Inferences-\n1. The difference between the 25th and the 75th quartile for businessman clearly shows that wide range of loans have been given to them.\n2. Absence of outliers for people who are unemployed clearly shows that bank is very cautious while giving loan to such people.","78fdd2df":"Inference- The number of applications for cash loans are way more than the number of applications for revolving loans. Therefore, as a result of this both the people who had difficulty in repaying cash loans and the number of people who paid their cash loans on time are greater than their counterparts in both the cases.","c9eec028":"Inference- People without children are more likely to repay their loans on time. But because of the existing imbalance in the data, this conclusion cannot be drawn with full certainity.","efe03962":"### Importing required libraries","1c44b18e":"Inference- Here also the no. of outliers are quite high which is expected. The trend here is similar to one the observed in application amount which is logically correct","5d2975a5":"#### 4.2 Application Data","f61e5ed8":"Suggestion- We will impute the NA values in the 'NAME_TYPE_SUITE' column with the mode. Though the person accompanying the person who wishes to apply for a loan will not have any role in relation to the type and size of the loan. Hence, this column seems insignificant.","ab5a4fd7":"Inference- There is no linear correlation between Income and Amount Credited. Crrdit amount is more dependent on the requirement and purpose of loan.","43107efa":"## Limitations","5ab747c6":"Inference- The no. of people who fall in the Middle Age Adults category are way more than the people who fall in the rest of the categories. As a result of which there no. is higher in both the datasets i.e in the one where people face issues with repayment of loans as well as in the one where people don't face issues with the repayment of loans.","1bb73756":"#### 3.2 Application Data","c0942646":"Inference- This observation is interesting since the median, 25th percentile and the 75th percentile are almost equal across categories. It certainly means that there are some well defined ranges to which banks adhere while disbursing loans.","c6ebfa02":"Inference- Old Adults & Senior citizens are more likely to repay their loans irrespective of their income.","ae53b151":"Suggestion- Impute the null values in AMT_REQ_CREDIT_BUREAU with the median value (0). This is also justifiable as it is possible that NaN may refer to cases where no inquiry was ever done.","ec93b93d":"Inference- Out of the total labourers who applied for a loan, only 10.5% faced issues in repayment. But because of the existing imbalance in the data, this conclusion cannot be drawn with full certainity.","e116ee2d":"#### Inference- Income of 117000000 is definitely an outlier. There is no right way to impute this value and it is left as it is.","d37c73b2":"#### 2.1 Previous Data","2f9977ad":"###### 1. Age seems to be an important factor as it can be seen that younger adults are more likely to default and senior citizens are more likely to repay their loans on time regardless of their income.","37bc7a9e":"#### 3.1 Previous Data","ffd2ce6d":"### 3. Data Cleaning & Manipulation","6d7a15df":"# <font color = blue> CREDIT EDA CASE STUDY","dbcf0490":"#### 1.2 Inspecting the dataframes","2e7cd2b7":"Inference- Maximum applications are from people falling in the medium income slabs and out which only 8.6% people faced issues in repayment. But because of the existing imbalance in the data, this conclusion cannot be drawn with full certainity.","a743eb0a":"Inference- Majority of the loan applications were approved.","4016eaf3":"Inference- The data has gender imbalance. The number of female applicants are almost double that of the male applicants.","6f851e12":"##### 2. Some variables seemed important to the analysis but because of presence of more than 40% null values, they had to be dropped. One example of this can be the Flag_Insurance variable.","79e18a42":"Inference- There are a lot of outliers but we cannot impute them as every application is unique in itself and there is no correct way to impute such a highly discrete data.","25c9cda8":"Inference- People from the business sector apply for loan regardless of the fact that they will be able to repay it or not. This is understandable as businesses may need loan for different purposes at all times.","40220b0d":"#### Having 10, 11, 12,14 and 19 children is highly unlikely. Therefore, these are possibly outliers.","bbb02c80":"Suggestion- Null values for numerical variables are generally imputed by using mean value or median value. In our case the mean is affected by the outliers and hence, median (11250) can be used. In this data the variables have discrete values and also application specific, so imputation might not be the best way, but for better univariate analysis imputations have been made using mode and median values.","dbcf9c12":"More loans have been given Middle Age Adults and Old Adults. This makes sense because these people who fall in the range are usually who will be earning and hence, there is a higher probability that they will be able to repay the loans on time.","07734dd7":"Inference- This data strengthens our inference about past record of applicant being an important factor. But, an intresting thing to observe is that applicants with more than 10 value for 60 DPD are most like to repay their loans. We need to dig deeper into this.","2ca9b802":"Inference- Females are likely to repay the loan installments on time as compared to males. But while make such conclusion, we should keep in mind the imbalance in data with regards to gender.","2c551bc8":"Inference- The number of people with Secondary Education is way more than number of people in the other categories. As a result, of this their number is more in both the scenarios where people are likely to default as well as where people are not likely to default.","aadd90d2":"Inference- Applicant's past record is a big indicator of his ability to repay the loan.","2fcf90d1":"Inference- Working class people are more likely to apply for loan and 90% of them are likely to repay it in time. But because of the existing imbalance in the data, this conclusion cannot be drawn with full certainity.","024f0ad0":"Suggestion- Since AMT_GOODS_PRICE is the price of goods for which the loan was given this value holds no meaning for Revolving Loans and hence these values are null. So, we can impute it with a value of 0 which will potray that it was a revolving loan.","6f4e06f7":"Suggestion- Impute the null values in EMI default data with the median value (0).","87a896c4":"#### 4.1 Previous Data","896f8f47":"Inference- Irrespective of the education level it can be seen that married people apply for higher loan amounts as can be seen they have highest median across all education categories.","571e35ef":"##### 4. The DPD values should be given high weightage as those directly tell us about one's ability to stay on course with loan repayment. An enquiry should be made about the missed payments.","86a31ef3":"Inference- Majority of the previous loans are either cash loans or consumer loans.","91f1ae16":"##### 1. The data is highly discrete and all numeric variables are application specific and hence imputing the null values wouldn't be the best scenario in this study. But, for analysis purpose, in this study we have imputed numeric columns with 'mean' and 'median' and categorical columns with mode or either a new entry altogether like 'Occupation not known' for null values in the occupation column.","b4ec4291":"Inference- It can be seen that HR Staff, IT Staff, Realty Agents, Secretaries and Waiters\/barmen staff are more likely to repay the loans than not,but since the representation of these occupations is quite low (almost insignificant) in the data, this concluion cannot be made with great confidence.","a4d3378f":"# Indentification of Outliers","c028fb66":"Inference- Consumer loans have the highest approval percenatge which is also logically correct as the goods purchased from these loans act as a collateral making the loans more secure from the banks point of view.","b1003f3f":"Inference- Higher the credited loan amount, higher will the corresponding annuity this general understanding of ours is true for this plot also. Hence, this plot also is in line with our expectation and understanding.","f5be8279":"Observation- Nothing out of the ordinary. 'Sunday' has the least value as expected and rest of the days have similar application count.","471f08b4":"##### 2. Gender of the applicant seems to give some hint to formulate our decision making as the data suggests that females are much more disciplined in repaying their loans on time when compared to males.","a6dec2ad":"Inference- The no. of outliers are huge but this is expected because people across all income class can apply for various types diffrent types of loan to cater to various purposes","58b9e887":"Inference- There are a lot of outliers but we cannot impute them as every application is unique in itself and there is no correct way to impute such a highly discrete data."}}