{"cell_type":{"c720a71a":"code","2cc3051e":"code","5877abf6":"code","77f897db":"code","dd97910d":"code","0960d4b5":"code","8354f35d":"code","f1b25e04":"code","fe9e9d83":"code","a69a2bf2":"code","091ff100":"code","a126b29a":"code","8764fc3e":"code","7887c060":"code","f84b149c":"code","830c7a02":"code","85ad6e1e":"code","677a2abd":"code","2d72838b":"code","bfeb8b15":"code","4a7f01c6":"code","fee6ff9d":"code","6444c715":"code","0bb68e35":"code","10e30445":"code","bae0ae85":"code","817ba9b0":"code","99a8f4f1":"code","4e5ed6b2":"code","9df1cb83":"code","9af7ba13":"code","2f60f5b2":"code","ad011bb6":"code","d0d00718":"code","c9c4533d":"code","6ec07077":"code","f7cfcfb5":"code","17f69bcf":"code","771e0045":"code","0e486725":"code","34ac744f":"code","9cfad9d1":"code","8f2f429d":"code","30c87d6e":"code","d1d11ae3":"code","49f040d7":"code","04e39eae":"code","4950cc3f":"code","4a74f734":"code","d7bb3002":"code","bb4a4865":"code","44585880":"code","4bbb8ec6":"code","0af50245":"code","cfad1864":"code","be1e7258":"code","c9d646d9":"code","5aaa0bc6":"code","6fb07193":"markdown","60021be8":"markdown","f17c43c3":"markdown","7e41d3ba":"markdown","78a46b3b":"markdown","30d008b6":"markdown","10c22745":"markdown","f472007f":"markdown","01200161":"markdown","bb41c8b3":"markdown","6f73d9a2":"markdown","0e34e4d4":"markdown","6f56953f":"markdown"},"source":{"c720a71a":"import numpy as np\nimport pandas as pd\nimport os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n","2cc3051e":"db=pd.read_csv('..\/input\/insurance-claim-report\/insurance_claims_report.csv')","5877abf6":"db.head(10)","77f897db":"db.shape","dd97910d":"db.info()","0960d4b5":"db.describe()","8354f35d":"db.sum()","f1b25e04":"db.count()","fe9e9d83":"pd.set_option('display.max_columns', 500)\ndb","a69a2bf2":"db.mean()","091ff100":"db.max()","a126b29a":"db.min()","8764fc3e":"db.transpose().iloc[:,:5]","7887c060":"db.isnull()","f84b149c":"db.describe().transpose()","830c7a02":"ax=sns.regplot(x='age',y='months_as_customer',data=db)","85ad6e1e":"p = db['age'].value_counts()\nprint(p)\ndb['age'].value_counts().plot.bar()","677a2abd":"p = db['months_as_customer'].value_counts()\nprint(p)\ndb['months_as_customer'].value_counts().plot.bar()","2d72838b":"sns.countplot(data=db, x='age')","bfeb8b15":"sns.set_style(\"ticks\", {\"xtick.major.size\": 8, \"ytick.major.size\": 8})\ndb['age'].hist(bins=30, color = \"red\", edgecolor='black', alpha=0.65, lw=1.5)\nplt.ylabel('age')\nplt.xlabel('age')\n","4a7f01c6":"sns.jointplot(x = 'age', y = 'months_as_customer',\n              data = db, kind = 'kde', color = \"red\", alpha = 0.65)","fee6ff9d":"sns.jointplot(x = 'age', y = 'policy_deductable',\n              data = db, kind = 'kde', color = \"red\", alpha = 0.65)","6444c715":"\nsns.jointplot(x = 'age', y = 'injury_claim',\n              data = db, kind = 'kde', color = \"red\", alpha = 0.65)","0bb68e35":"sns.jointplot(x = 'age', y ='policy_deductable', \n              data = db,hue = 'fraud_reported',kind = 'kde', color = \"red\", alpha = 0.65)","10e30445":"sns.pairplot(db, hue = 'fraud_reported', palette = 'cool_r')\n","bae0ae85":"from sklearn.model_selection import train_test_split\nfrom sklearn import preprocessing","817ba9b0":"db.columns","99a8f4f1":"X = db[['months_as_customer', 'age', 'policy_annual_premium',\n       'insured_education_level', 'auto_year', 'fraud_reported', 'property_damage',\n       'umbrella_limit', 'incident_hour_of_the_day', 'incident_severity', 'authorities_contacted']]\ny = db['fraud_reported']","4e5ed6b2":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=1)","9df1cb83":"from sklearn.datasets import make_classification\nfrom sklearn.metrics import classification_report,confusion_matrix\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.pipeline import make_pipeline\nfrom sklearn.preprocessing import StandardScaler","9af7ba13":"X, y = make_classification(random_state=42)\nX_train, X_test, y_train, y_test = train_test_split(X, y, random_state=42)\npipe = make_pipeline(StandardScaler(), LogisticRegression())\npipe.fit(X_train, y_train)  # apply scaling on training data","2f60f5b2":"from sklearn.linear_model import LogisticRegression","ad011bb6":"lr = LogisticRegression()\nlr.fit(X_train,y_train)","d0d00718":"predictions1 = lr.predict(X_test)","c9c4533d":"print(classification_report(y_test,predictions1))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions1))","6ec07077":"from sklearn.metrics import accuracy_score\nacclr = accuracy_score(y_test,predictions1)*100\nacclr","f7cfcfb5":"from sklearn.naive_bayes import GaussianNB\ngnb = GaussianNB()\ngnb.fit(X_train, y_train)","17f69bcf":"gnb","771e0045":"predictions2 = gnb.predict(X_test)\nprint(classification_report(y_test,predictions2))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions2))","0e486725":"from sklearn.metrics import accuracy_score\naccgnb = accuracy_score(y_test,predictions2)*100\naccgnb","34ac744f":"from sklearn.linear_model import SGDClassifier\nsgd = SGDClassifier()\nsgd.fit(X_train,y_train)\nsgd","9cfad9d1":"predictions3 = sgd.predict(X_test)\nprint(classification_report(y_test,predictions3))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions3))","8f2f429d":"from sklearn.neighbors import KNeighborsClassifier\nknn = KNeighborsClassifier(n_neighbors = 15)\nknn.fit(X_train,y_train)","30c87d6e":"predictions4 = knn.predict(X_test)\nprint(classification_report(y_test,predictions4))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions4))","d1d11ae3":"from sklearn.metrics import accuracy_score\naccknn = accuracy_score(y_test,predictions4)*100\naccknn","49f040d7":"from sklearn.tree import DecisionTreeClassifier\ndtree = DecisionTreeClassifier()\ndtree.fit(X_train,y_train)","04e39eae":"predictions5 = dtree.predict(X_test)\nprint(classification_report(y_test,predictions5))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions5))","4950cc3f":"from sklearn.metrics import accuracy_score\naccdtree = accuracy_score(y_test,predictions5)*100\naccdtree","4a74f734":"from sklearn.ensemble import RandomForestClassifier\nrfc = RandomForestClassifier(n_estimators=200)\nrfc.fit(X_train,y_train)","d7bb3002":"predictions6 = rfc.predict(X_test)\nprint(classification_report(y_test,predictions6))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions6))","bb4a4865":"from sklearn.metrics import accuracy_score\naccrfc = accuracy_score(y_test,predictions6)*100\naccrfc","44585880":"from sklearn.svm import SVC\nsvc_model = SVC()\nsvc_model.fit(X_train,y_train)","4bbb8ec6":"predictions7 = svc_model.predict(X_test)\nprint(classification_report(y_test,predictions7))\nprint('\\n')\nprint(confusion_matrix(y_test,predictions7))","0af50245":"from sklearn.metrics import accuracy_score\naccSVM = accuracy_score(y_test,predictions7)*100\naccSVM","cfad1864":"db.hist(edgecolor='black', linewidth=1.2)\nfig=plt.gcf()\nfig.set_size_inches(15,15)\nplt.show()","be1e7258":"plt.figure(figsize=(15,10))\nplt.subplot(2,2,1)\nsns.violinplot(x='fraud_reported',y='age',data=db)\nplt.subplot(2,2,2)\nsns.violinplot(x='fraud_reported',y='incident_hour_of_the_day',data=db)\nplt.subplot(2,2,3)\nsns.violinplot(x='fraud_reported',y='age',data=db)\nplt.subplot(2,2,4)\nsns.violinplot(x='fraud_reported',y='incident_hour_of_the_day',data=db)","c9d646d9":"plt.figure(figsize=(20,20)) \nsns.heatmap(db.corr(),annot=True,cmap='cubehelix_r') #draws  heatmap with input as the correlation matrix calculted by(iris.corr())\nplt.show()","5aaa0bc6":"# in this our main data is split into train and test\ntrain, test = train_test_split(db, test_size = 0.3)\n# the attribute test_size=0.3 splits the data into 70% and 30% ratio. train=70% and test=30%\nprint(train.shape)\nprint(test.shape)","6fb07193":"# Splitting The Data into Training And Testing Dataset","60021be8":"> The goal of this note, Kuho Hwa, is to make a simplified and structured analysis to make an explanation of that dirty process called fraud and lack of it through analysis and the machine learning system.","f17c43c3":"# Read data ","7e41d3ba":"# K-Nearest Neighbours:","78a46b3b":"# Na\u00efve Bayes:","30d008b6":"# Random Forest:","10c22745":"# Import Libraries","f472007f":"![image](https:\/\/i.ytimg.com\/vi\/TbEZIZo4PZ8\/maxresdefault.jpg)","01200161":"# Descision Tree","bb41c8b3":"# Predicting auto and insurance fraud in general:\nis a contract, represented by a policy, in which an individual or entity receives financial protection or reimbursement against losses from an insurance company. The company pools clients' risks to make payments more affordable for the insured.\n# Insurance Policy Components\nWhen choosing a policy, it is important to understand how insurance works.\n\nA firm understanding of these concepts goes a long way in helping you choose the policy that best suits your needs. For instance, whole life insurance may or may not be the right type of life insurance for you. There are three components of any type of insurance (premium, policy limit, and deductible) that are crucial.","6f73d9a2":"#  Support Vector Machine:","0e34e4d4":"# Let's apply our classification models one by one:\n1) Logistic Regression:","6f56953f":"# Stochastic Gradient Descent:"}}