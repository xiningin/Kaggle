{"cell_type":{"6050ccf0":"code","7c86810a":"code","e15b7399":"code","50bb1c8a":"code","3e9aa0ab":"code","f75587b6":"code","480d5305":"code","a7c67464":"code","2d744f49":"code","76d49b4d":"code","9e4c4f15":"code","214ac161":"code","1b89364a":"code","7654ed53":"code","32d2fc2a":"code","cbf167ef":"code","bf7c56d0":"code","f4828229":"code","5fcd4cc4":"code","0c0413a6":"code","43643c91":"code","f3776fdc":"markdown","6d2778e3":"markdown","3dd08591":"markdown","7fa66c5f":"markdown","7c868d19":"markdown","ffc6b9fb":"markdown","a7bd550f":"markdown","bc06411e":"markdown"},"source":{"6050ccf0":"!pip install squarify","7c86810a":"# for some basic operations\nimport numpy as np \nimport pandas as pd \nfrom shapely.geometry import Point\nimport geopandas as gpd\nfrom sklearn.impute import SimpleImputer\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import train_test_split\n\n# for visualizations\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nfrom matplotlib import cm\nimport urllib.request\nimport shutil\nimport zipfile\nimport folium\nfrom folium.plugins import HeatMap\nimport squarify\n\n# for providing path\nimport os\nimport re\n\nimport geoplot as gplt\nimport lightgbm as lgb\nimport eli5\nfrom eli5.sklearn import PermutationImportance\nprint(os.listdir(\"..\/input\"))","e15b7399":"# reading the dataset\n\ncrime_data = pd.read_csv('..\/input\/Police_Department_Incidents_-_Previous_Year__2016_.csv')\n\n# check the shape of the data\ncrime_data.shape","50bb1c8a":"# checking the head of the data\n\ncrime_data.head(5)","3e9aa0ab":"crime_data.dtypes","f75587b6":"crime_data.describe(include='all')","480d5305":"# filling the missing value in PdDistrict using the mode values\n\ncrime_data['PdDistrict'].fillna(crime_data['PdDistrict'].mode()[0], inplace = True)\n\ncrime_data.isnull().any().any()","a7c67464":"# checking if there are any null values\n\ncrime_data.isnull().sum()","2d744f49":"# different categories of crime\n\nplt.figure(figsize=(20,10))\nplt.title('Major Crimes in Sanfrancisco')\n\nsns.countplot(y=crime_data['Category'])\n\n\nplt.show()","76d49b4d":"crime_data.Category.value_counts().plot(kind='hist')","9e4c4f15":"# Regions with count of crimes\n\nplt.figure(figsize=(20,10))\ncrime_data['PdDistrict'].value_counts().plot.bar(figsize = (12, 8))\n\nplt.title('District with Most Crime')\n\nplt.show()","214ac161":"# Regions with count of crimes\n\nplt.figure(figsize=(15,8))\nplt.title('Top 15 Regions in Crime')\ncrime_data['Address'].value_counts().head(10).plot.hist(figsize=(15,8))\nplt.show()","1b89364a":"# Regions with count of crimes\n\n\ncrime_data['DayOfWeek'].value_counts().head(15).plot.pie(figsize = (15, 8), explode = (0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1))\n\nplt.title('Crime count on each day',fontsize = 20)\nplt.show()","7654ed53":"# Regions with count of crimes\n\ncrime_data['Resolution'].value_counts().plot.line(figsize = (15, 8))\n\nplt.title('Resolutions for Crime',fontsize = 20)\nplt.xticks(rotation = 90)\nplt.show()","32d2fc2a":"plt.figure(figsize=(15,8))\ncrime_data['Date'] = pd.to_datetime(crime_data['Date'])\n\ncrime_data['Month'] = crime_data['Date'].dt.month\nsns.countplot(crime_data['Month'])\nplt.title('Crimes in each Months')\n\nplt.show()","cbf167ef":"# checking the time at which crime occurs mostly\n\nimport warnings\nwarnings.filterwarnings('ignore')\ncrime_data['Time'].value_counts().head(20).plot.line(figsize = (15, 9))\n\nplt.title('Distribution of crime over the day', fontsize = 20)\nplt.show()","bf7c56d0":"\ndf = pd.crosstab(crime_data['Category'], crime_data['PdDistrict'])\ncolor = plt.cm.Greys(np.linspace(0, 1, 10))\n\ndf.div(df.sum(1).astype(float), axis = 0).plot.hist(stacked = True, color = color, figsize = (18, 12))\nplt.title('District vs Category of Crime', fontweight = 30, fontsize = 20)\n\nplt.show()","f4828229":"t = crime_data.PdDistrict.value_counts()\n\ntable = pd.DataFrame(data=t.values, index=t.index, columns=['Count'])\ntable = table.reindex([\"CENTRAL\", \"NORTHERN\", \"PARK\", \"SOUTHERN\", \"MISSION\", \"TENDERLOIN\", \"RICHMOND\", \"TARAVAL\", \"INGLESIDE\", \"BAYVIEW\"])\n\ntable = table.reset_index()\ntable.rename({'index': 'Neighborhood'}, axis='columns', inplace=True)\n\ntable","5fcd4cc4":"plt.figure(figsize=(20,10))\nsns.barplot(x=table['Neighborhood'],y=table['Count'])","0c0413a6":"train_df=pd.read_csv('..\/input\/Police_Department_Incidents_-_Previous_Year__2016_.csv')\ntrain_df.sample(3)","43643c91":"all_districts=train_df.PdDistrict.unique()\nall_districts, len(all_districts)","f3776fdc":"## Geospatial Visualization","6d2778e3":"###hi i have tried to perform enhanced analysis of the give dataset.\n###Kindly upvote the kernel if you find it worthwhile\n###EDA, Data visualisation","3dd08591":"## Data Visualization","7fa66c5f":"**Top 15 Addresses in Sanfrancisco in Crime**","7c868d19":"###Training and Testing","ffc6b9fb":"**Importing some Basic Libraries**","a7bd550f":"**Sanfrancisco Crime Analysis**","bc06411e":"**Reading the Dataset**"}}