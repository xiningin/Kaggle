{"cell_type":{"10f9feac":"code","83ef27e5":"code","e448141d":"code","8683b32a":"markdown","57257b18":"markdown","9df23128":"markdown"},"source":{"10f9feac":"import os # for reading multiple files\nfrom glob import glob\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb #for the correlation heatmap\n\n# Next lines, including the first for, will open the csv files from the folder and subfolders in the same location\nfiles = []\nstart_dir = r'D:\\WORK\\My_programs\\World happiness'\npattern   = \"*.csv\"","83ef27e5":"for dir,_,_ in os.walk(start_dir):\n    files = (glob(os.path.join(dir,pattern)))   \n\n# From each file, it is going to make the following tasks\nfor file in files:   \n\n    df = pd.read_csv(file, header=0)\n\n    #Correlation figure\n    plot1 = plt.figure(1)\n    plt.title('World happiness report')\n    df_pearson = df.iloc[:,[2,3,4,5,6,7,8]] \n    pearsoncorr = df_pearson.corr(method='pearson')\n    sb.heatmap(pearsoncorr, \n               xticklabels=pearsoncorr.columns,\n               yticklabels=pearsoncorr.columns,\n               annot=True,\n               annot_kws={\"fontsize\":12},\n               linewidth=0.3)\n\n    #watermark\n    plt.text(-1, -1, 'Performed by XXX',\n             fontsize=20, color='gray',\n             ha='center', va='center', alpha=0.8)\n    #save plot\n    plt.savefig(file.split('.csv')[0] + '.png', format='png', dpi=100, bbox_inches='tight')\n    # deleting the next line will force plotting all files in the same figure\n    plt.close('all')","e448141d":"#World map\nimport plotly.express as px\nimport pandas as pd\ndf = pd.read_csv('..\/input\/world-happiness\/2019.csv', header=0)\n\nfig = px.choropleth(df, locations=\"Country or region\",\n                    color=\"Score\", \n                    locationmode='country names',\n                    color_continuous_scale='plasma',\n                   )\nfig.show()","8683b32a":"**Introduction**\n\nThis is a simple analysis of the world happiness report for two years. I prepared a code to read all the csv files located in a folder in your computer, analyze them and plot the correlation map. ","57257b18":"**Correlation map**\n\nThis is the result for both years. As we can see, the most important things for the people to be happy are the GDP per capita (money!!, money!!) and life expectancy. Interestingly, the freedom to make choices is not so important.\n\nFor 2018:\n\n![2018.png](attachment:f1a345be-ba01-4b2a-947c-a174840b2300.png)\n\nFor 2019:\n\n![2019.png](attachment:6af5c930-b415-48d7-b9f8-35d2d8a4a470.png)","9df23128":"In order to visualize the happiness score in each country, I have plotted the following map. Definetely, Canada, Nordic countries and Australia are the happiest countries. :)"}}