{"cell_type":{"808e05cf":"code","f3be953e":"code","dbdd2e46":"code","d23134e5":"code","00eb9992":"code","59c18535":"code","05ccaaa3":"code","8f565317":"code","f9d59160":"code","5e8cefbc":"code","407adf24":"code","177de61b":"code","08c39eb0":"code","6aeff6d1":"code","7a6b50b9":"code","cc37683b":"code","9efebee4":"markdown","dd600020":"markdown"},"source":{"808e05cf":"\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","f3be953e":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\n\ndata=pd.read_csv(\"..\/input\/snap-data-set\/snap_data.csv\")\nprint(data.head())\n#Grouping by attributes to explore the dataset\nprint(\"Grouped by household size:\")\nprint(data.groupby('household_size').count())\nprint(\"\/n Grouped by ethnicity:\")\nprint(data.groupby('ethnicity').count())\nprint(\"\/n Grouped by county:\")\nprint(data.groupby('county').count())\nprint(\"Grouped by employment:\")\nprint(data.groupby('employment_status').count())\nprint(\"Grouped by gender:\")\nprint(data.groupby('gender').count())\nprint(\"Grouped by language:\")\nprint(data.groupby('primary_language').count())\ndata\ndata.columns\n\ndata=data.drop(['Unnamed: 0'], axis=1)\n\n#Finding out uniue values for each attribute to see which ones can be combined together to match up with demographics information from Wikipedia\nprint(data[\"ethnicity\"].unique())\nprint(data[\"gender\"].unique())\n#print(data[\"county\"].unique())\nprint(data[\"employment_status\"].unique())\nprint(data[\"primary_language\"].unique())\nprint(data[\"household_size\"].unique())\nprint(data[\"education\"].unique())\n\n#Ethnicity categories before Fixing and regrouping Ethnicity attribute\nprint(data.groupby('ethnicity').count())\nprint(data['ethnicity'].unique())\n#Ethnicity attribute after Re-grouping and combining categories\ndata[\"ethnicity\"].replace({\"asian\": \"Asian\", \"caucasion\": \"white\", \"caucasian\": \"white\",\"African American\":\"black\",\"Native American\":\"Native American and Alaskan Native\",\"hispanic-black\":\"hispanic\",\"hispanic-white\":\"hispanic\"}, inplace=True)\nprint(data.groupby('ethnicity')[\"ethnicity\"].count())\n#Checking the updated attribute categories\ndata.ethnicity.unique()\n\n#Ethnicity compisition wrt gender\ndata.groupby(['ethnicity','gender'])['ethnicity'].count()\n#Genderwise count\ndata.groupby('gender')['ethnicity'].count()","dbdd2e46":"# Ethnicity wise gender distribution\nimport seaborn as sns\nfig,ax=plt.subplots()\nax=sns.countplot(x='ethnicity',data=data,hue='gender')\nax.set_title(\"Ethnicity and gender wise distribution\",fontsize=20)\nax.set_xlabel(\"Ethnicity\")\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"Ethnicity-Gender.png\")\nplt.show()","d23134e5":"fig,ax=plt.subplots()\nfig.set_size_inches(10,5, forward=True)\nax=sns.countplot(x='education',data=data)\nax.set_title(\"Education wise distribution\",fontsize=20)\nax.set_xlabel(\"Education\",fontsize=15)\nax.set_ylabel(\"Count\",fontsize=15)\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"Ethnicity-Gender.png\")\nplt.show()","00eb9992":"#Ethnicity wise employment\nfig,ax=plt.subplots()\nax=sns.countplot(x='ethnicity',data=data,hue='employment_status')\nax.set_title(\"Ethnicity and employment wise distribution\",fontsize=20)\nax.set_xlabel(\"Ethnicity\")\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"Ethnicity-Employment.png\")\nplt.show()\n\n#print(data.groupby('employment_status').count())\n#Ethnicity wise total\nfig,ax=plt.subplots()\nfig.set_size_inches(10,8, forward=True)\nax=sns.countplot(x='ethnicity',data=data)\nax.set_title(\"Ethnicity wise distribution\",fontsize=20)\nax.set_xlabel(\"Ethnicity\",fontsize=15)\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"ethnicity based.png\")\nplt.show()","59c18535":"#County wise employment\nfig,ax=plt.subplots()\nfig.set_size_inches(15,10, forward=True)\nax=sns.countplot(x='county',data=data,hue='employment_status')\nax.set_title(\"County and employment wise distribution\",fontsize=20)\nax.set_xlabel(\"Ethnicity\")\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"County-Employment.png\")\nplt.show()","05ccaaa3":"#County-wise distribution\nfig, ax = plt.subplots(figsize=(20, 6))\nz=data.sort_values(by=['county'])\nax=sns.countplot(x='county',data=z)\nax.set_title(\"County wise distribution\",size=20)\nax.set_xlabel(\"County\",size=15)\nax.set_ylabel(\"Count\",fontsize=15)\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"Countywise.png\")\nplt.show()\n#data.sort_values(\"county\",ascending=['False'])","8f565317":"##Loading pop.csv file which has the county wise total population in the state of FLorida\npop=pd.read_csv(\"..\/input\/snap-data-set\/pop.csv\")\npop.head()\npop=pop.sort_values(by='County',ascending=True)\ntotal=pop[\"Population\"].sum()\npop[\"Population\"]=pop[\"Population\"]\/total\nx1=pop['Population']\npop = pop.reset_index(drop=True)\npop.set_index('County',inplace=True)\npop","f9d59160":"b=data.groupby(['county'])['ethnicity'].count()\/20000\nprint(b)\n#c=pd.Series(b)\n#print(c)\n#pop[\"SNAP_county\"]=pd.Series([c])\n#pop\nframe = { 'SNAP': b} \ndf=pd.DataFrame(frame)\npop=pd.concat([pop,df],axis=1)\ndf.reset_index(drop=True)\n#print(pop)\npop[\"Diff\"]=\"\"\nfor ind in pop.index:\n    pop[\"Diff\"][ind]=pop[\"Population\"][ind]-pop[\"SNAP\"][ind]\n    \n#pop[\"Diff\"]=pop.apply(lambda x : 1 if pop[\"Population\"]>pop[\"SNAP\"] else 0,axis=1)\nprint(pop)\n#pop[\"Population\"]\n#pop[\"SNAP\"]\npop.to_csv(r\"C:\\Users\\deyas\\OneDrive\\Desktop\\Deyashini's\\Learning profile\\Python\\Schmidt Futures\\pop1.csv\",index=True,header=True)","5e8cefbc":"#Analyzing the datset and displaying which counties are well represented (wrt florida demographics)\nfig,ax=plt.subplots(figsize=(20, 6))\nprint(\"The number of counties under represented are :\"+str(pop[pop[\"Diff\"]>0][\"Diff\"].count()))\nprint(pop[pop[\"Diff\"]>0][\"Diff\"])\nprint(\"\\nThe number of counties strongly\/well represented are :\"+str(pop[pop[\"Diff\"]<=0][\"Diff\"].count()))\nprint(pop[pop[\"Diff\"]<=0][\"Diff\"])\n\n#Plotting graph to represent under and well represented counties\nax.bar(pop.index,pop[\"Diff\"]>0,color=\"brown\",label=\"under represented\")\nax.bar(pop.index,pop[\"Diff\"]<=0,color=\"olivedrab\",label=\"strongly represented\")\nax.set_title(\"County wise representation\",fontsize=20)\nplt.legend()\nax.set_xlabel(\"County\",fontsize=15)\nax.set_xticklabels(pop.index, rotation=90)\nplt.savefig(\"countywisepop comparison.png\")\nplt.show()","407adf24":"#Representing county wise employment status\nimport seaborn as sns\nfig,ax=plt.subplots()\nfig.set_size_inches(20,10, forward=True)\nz=data.sort_values(by=['county'])\nax=sns.countplot(x='county',data=z,hue='employment_status')\nax.set_title(\"Countywise and employment wise distribution\",fontsize=20)\nax.set_xlabel(\"County\")\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"County-Employment.png\")\nplt.show()\n\n#Representing county-wise language spoken\nimport seaborn as sns\nfig,ax=plt.subplots()\nfig.set_size_inches(20,15, forward=True)\nz=data.sort_values(by=['county'])\nax=sns.countplot(x='county',data=z,hue='primary_language')\nax.set_title(\"County and language wise distribution\",fontsize=20)\nax.set_xlabel(\"County\")\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"County-language.png\")\nplt.show()\n\n","177de61b":"#Distribution by age\nplt.hist(x=data['age'], bins=20, color='#0504aa',alpha=0.9, rwidth=0.7)\nplt.title(\"Distribution by Age\",fontsize=20)\nplt.xlabel(\"Age\",fontsize=15)\nplt.ylabel(\"Number of people\",fontsize=15)\nplt.savefig(\"Age dist.png\")\nplt.show()\nprint(min(data[\"age\"]))\nprint(max(data[\"age\"]))\n\n#Checking for any null values in the attributes\nprint(data['ethnicity'].isnull().sum())\nprint(data['gender'].isnull().sum())\nprint(data['employment_status'].isnull().sum())\nprint(data['age'].isnull().sum())\nprint(data['primary_language'].isnull().sum())\nprint(data['county'].isnull().sum())\nprint(data['education'].isnull().sum())\nprint(data['household_size'].isnull().sum())","08c39eb0":"#Language wise plot\nfig, ax = plt.subplots(figsize=(4, 4))\nax=sns.countplot(x='primary_language',data=data)\nax.set_title(\"Language wise distribution\",size=14)\nax.set_xlabel(\"Language\",size=12)\nax.set_ylabel(\"Count\")\nax.set_xticklabels(ax.get_xticklabels(),rotation=90)\nplt.savefig(\"Languagewise.png\")\nplt.show()\n\n#Language information for Florida demographics taken from wikipedia for comparison\nlang=pd.read_csv('..\/input\/snap-data-set\/lang.csv')\nlang.head()\n\nlang = lang.reset_index(drop=True)\nlang.set_index('Language',inplace=True)\nprint(lang)\n\nx=data.groupby(\"primary_language\")[\"primary_language\"].count()\/20000\nprint(x)\nframe = { 'SNAP': x} \ndf1=pd.DataFrame(frame)\nlang=pd.concat([lang,df1],axis=1)\ndf1.reset_index(drop=True)\nprint(lang)\nlang[\"Diff\"]=\"\"\nfor ind in lang.index:\n    lang[\"Diff\"][ind]=lang[\"Count\"][ind]-lang[\"SNAP\"][ind]\n    \nprint(lang)\nlang.to_csv(r\"C:\\Users\\deyas\\OneDrive\\Desktop\\Deyashini's\\Learning profile\\Python\\Schmidt Futures\\lang1.csv\",index=True,header=True)\n\nfig,ax=plt.subplots(figsize=(4, 4))\nprint(\"The number of counties under represented are :\"+str(lang[lang[\"Diff\"]>0][\"Diff\"].count()))\nprint(lang[lang[\"Diff\"]>0][\"Diff\"])\nprint(\"\\nThe number of counties strongly\/well represented are :\"+str(lang[lang[\"Diff\"]<=0][\"Diff\"].count()))\nprint(lang[lang[\"Diff\"]<=0][\"Diff\"])\nax.bar(lang.index,lang[\"Diff\"]>0,color=\"darkred\",label=\"under represented\")\nax.bar(lang.index,lang[\"Diff\"]<=0,color=\"steelblue\",label=\"strongly represented\")\nax.set_title(\"Language wise representation\",fontsize=14)\nplt.legend()\nax.set_xlabel(\"Language\",fontsize=12)\nax.set_xticklabels(lang.index, rotation=90)\nplt.savefig(\"languagewise comparison.png\")\nplt.show()\nlang","6aeff6d1":"#Ethnicity based info\nd1=data.groupby(['ethnicity'])['ethnicity'].count()\/20000\nprint(d1)\n\n#Ethnicity information for Florida from Wikipedia for comparison\neth=pd.read_csv('..\/input\/snap-data-set\/ethnicity.csv')\neth.head()\neth = eth.reset_index(drop=True)\neth.set_index('Race',inplace=True)\n\neth[\"Diff\"]=\"\"\nfor ind in eth.index:\n    eth[\"Diff\"][ind]=eth[\"Actual\"][ind]-eth[\"SNAP\"][ind]\neth\n\nfig,ax=plt.subplots()\nfig.set_size_inches(8,4, forward=True)\nprint(\"The number of counties under represented are :\"+str(eth[eth[\"Diff\"]>0][\"Diff\"].count()))\nprint(eth[eth[\"Diff\"]>0][\"Diff\"])\nprint(\"\\nThe number of counties strongly\/well represented are :\"+str(eth[eth[\"Diff\"]<=0][\"Diff\"].count()))\n#print(eth[eth[\"Diff\"]<=0][\"Diff\"])\nax.bar(eth.index,eth[\"Diff\"]>0,color=\"maroon\",label=\"under represented\")\nax.bar(eth.index,eth[\"Diff\"]<=0,color=\"yellowgreen\",label=\"strongly represented\")\nax.set_title(\"Ethnicity wise representation\",fontsize=20)\nplt.legend()\n\nax.set_xlabel(\"Ethnicity\",fontsize=15)\nax.set_xticklabels(eth.index, rotation=90)\n\nax.xaxis.labelpad = 2\nplt.savefig(\"ethnicitywise comparison.png\")\nplt.show()\n","7a6b50b9":"#Gender wise FLorida demographics info from Wikipedia for comparison and inference\ngend=pd.read_csv('..\/input\/snap-data-set\/gender.csv')\ngend.head()\ngend = gend.reset_index(drop=True)\ngend.set_index('Gender',inplace=True)\n\ngend[\"Diff\"]=\"\"\nfor ind in gend.index:\n    gend[\"Diff\"][ind]=gend[\"Actual\"][ind]-gend[\"SNAP\"][ind]\ngend\n\nfig,ax=plt.subplots()\nfig.set_size_inches(4,4, forward=True)\nprint(\"The number of counties under represented are :\"+str(gend[gend[\"Diff\"]>0][\"Diff\"].count()))\nprint(gend[gend[\"Diff\"]>0][\"Diff\"])\nprint(\"\\nThe number of counties strongly\/well represented are :\"+str(gend[gend[\"Diff\"]<=0][\"Diff\"].count()))\n#print(eth[eth[\"Diff\"]<=0][\"Diff\"])\nax.bar(gend.index,gend[\"Diff\"]>0,color=\"maroon\",label=\"under represented\")\nax.bar(gend.index,gend[\"Diff\"]<=0,color=\"yellowgreen\",label=\"strongly represented\")\nax.set_title(\"Gender wise representation\",fontsize=20)\nplt.legend()\n\nax.set_xlabel(\"Gender\",fontsize=15)\nax.set_xticklabels(gend.index, rotation=90)\n\nax.xaxis.labelpad = 2\nplt.savefig(\"genderwise comparison.png\")\nplt.show()\n","cc37683b":"#Family size representation\nz=data.groupby('household_size')[\"ethnicity\"].count()\nplt.bar(z.index,z,color='darkmagenta')\nplt.xticks(np.arange(5), ('','One', 'Two', 'Three', 'Four'))\nplt.title(\" Family Size distribution\",fontsize=20)\nplt.xlabel(\" Family Size\",fontsize=12)\nplt.ylabel(\"Count\",fontsize=12)\nplt.savefig(\"familysize.png\")\nplt.show()\n","9efebee4":"# # Exploratory Data Analysis with SNAP Food Program data in the state of Florida\n\n## * The main objective of this EDA is to find out which demographic sections are under-represented and what the reasons behind this could be.* \n\n### Data Study\nThe original dataset given that captures data about population currently enrolled in SNAP consists of 9 fields: ethnicity, gender, county, employment_status, primary_language, household_size, education, age and row number index with 20,000 records in total.\n\nEach of the fields have the following categories:\n\nEthnicity:  'caucasion', 'hispanic-white', 'hispanic-black', 'Asian', 'Native American', 'caucasian', 'white', 'African American', 'Other', 'Pacific Islander', 'Native American and Alaskan Native', 'black' and 'asian'\nCounty: Consists of 67 counties in Florida\nEmployment_status: \u2018employed\u2019, \u2018unemployed\u2019\nGender: \u2018male\u2019, \u2018female\u2019\nPrimary_language: \u2018english\u2019, \u2018spanish\u2019, \u2018other\u2019\nAge: Between 20 and 60\nEducation: 'high school', \"bachelor's degree\", \"associate's degree\", 'some university', 'graduate degree', 'trade school or other certification', 'less than high school'\n\nAmong these fields, ethnicity, county, gender, education and age are the more important factors that helped in drawing meaningful insights. With the help of Florida demographics from Wikipedia, I was able to compare how strongly or poorly the population is represented.\n\n### Cleaning\nThe data was cleaned and organized before proceeding with the analysis and the following alterations were        made:\nEthnicity is categorized as 'caucasion', 'hispanic-white', 'hispanic-black', 'Asian', 'Native American', 'caucasian', 'white', 'African American', 'Other', 'Pacific Islander', 'Native American and Alaskan Native', 'black' and 'asian'.\n\n\uf0d8\t\u2018caucasion\u2019 and \u2018caucasian\u2019 were clubbed into one and then combined with the \u2018white\u2019 population. (This was done because Caucasians are often considered \u2018white\u2019 and there was no data available for Caucasians alone)\n\uf0d8\t\u2018Asian\u2019 and \u2018asian\u2019 categories were combined into one category\n\uf0d8\t\u2018Black\u2019 and \u2018African Americans\u2019 were merged into one ethnic category\n\uf0d8\t\u2018Native American\u2019 and \u2018Native American and Alaskan Native\u2019 were clubbed into one category\n\n### Analysis and Inference:\nFor the purpose of analyzing and comparing which sections are underrepresented, demographics of the entire population eligible for SNAP (taken as the demographics of Florida) were also included as additional fields.\n\n* \uf0d8The graphs below depict the ethnic distribution among those enrolled in SNAP ethnicities that are underrepresented compared to the overall population eligible for SNAP (considered demographics of Florida to represent and stand in for population eligible for SNAP)\nOut of the seven Ethnicity categories, White, Black and Other are underrepresented among those who avail SNAP compared to the actual numbers that are eligible for SNAP, even though mere numbers suggest that Whites are the highest in number. \n\n* \uf0d8The plot below shows the County wise counts along with a comparison plot which depicts which counties are underrepresented. 34 out of 67 counties are underrepresented.\n\n* The below plot illustrates the language wise distribution and the languages which are underrepresented. It tells us that only English is well represented out of the three categories.\n\n* The plot below compares the gender representation of people availing SNAP as compared to people eligible for SNAP. From this it is evident that Male gender is underrepresented across all ethnicities.\n\n* The data also suggests that 89.8% of the people who are enrolled in SNAP are employed at present.\n\nThis implies that a majority a little over 50% of the population currently enrolled in SNAP has \u2018high school\u2019 as the level of education, which can mean that many of them might not be very well versed with how to apply with proper documentation for the SNAP program.\n\n* The family size distribution of the current population enrolled in SNAP has missing values for 4052 records, but out of the 15948 values, most have a household size of 1 while those with larger family sizes are not so well represented. And the Age wise distribution plot suggests an even distribution of all ages between 20 and 60. However, there is no data available for the elderly who are 60 years old or older.\n\n## Identifying additional questions and information that would help understand the problem better\n\nThere are a few aspects that are still in the dark since the data available does not answer all questions.\n* The data available does not represent elderly people older than 60 years who are enrolled in the SNAP program at all. More information about the number and percentage of elderly people enrolled and eligible would help unravel hidden insights.\n* More data about larger family sizes would be helpful in drawing sound reasoning. Demographics of families including information about children and elderly people in them would useful in analyzing any loop holes.\n* Details about whether elderly people have any person they can authorize to apply on their behalf in the same state is crucial in understanding why they are so poorly represented. It is possible that they are not enrolled because they are either technologically handicapped, or do not have all their documents ready in place or are not willing to travel to the nearest SNAP office. \n* Data on how many people are aware of the SNAP program and their eligibility status would also be informative in determining if lack of knowledge and awareness is a strong reason behind low enrollment rates.\n* Information regarding the publicity and marketing medium of the SNAP program is crucial. If the SNAP program is mostly advertised online, it is possible that the information does not reach most of the eligible population since they belong to low income groups and might not have access to internet. \n\n\n","dd600020":"## Plotting Graphs to visualize and analyse\n\n"}}