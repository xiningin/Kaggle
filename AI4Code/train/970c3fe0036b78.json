{"cell_type":{"ee887617":"code","32498538":"code","e43d1ca3":"code","9d3dc326":"code","b3c902da":"code","4f9f8065":"code","f3bf8a7c":"code","8dba6389":"code","afc8a261":"code","3c4425eb":"code","059b1231":"code","af5776d8":"code","d6c5c32a":"code","a242d755":"code","f6a0767d":"code","40f9f67c":"code","0ad6d22b":"code","d5a28c10":"code","bffb9002":"code","a48e0e4c":"code","8b4e975f":"code","11c41891":"markdown","76239bb3":"markdown","aab934d8":"markdown","15d0b178":"markdown","cf38e08a":"markdown","be9f1cd2":"markdown","14b30517":"markdown","e5c92e4e":"markdown"},"source":{"ee887617":"import pandas as pd\nimport numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\nimport seaborn as sns","32498538":"df=pd.read_csv(\"..\/input\/vehicle-dataset-from-cardekho\/car data.csv\")\n","e43d1ca3":"df.columns=[x.lower() for x in df.columns]\ndf.corr()","9d3dc326":"nomv=df.dropna(axis=0)\n#nomv[\"seller_type\"]=nomv[\"seller_type\"].map({\"Individual\":0,\"Dealer\":1})\n#nomv[\"fuel_type\"] =nomv['fuel_type'].map({\"Petrol\":1,\"Diesel\":0})\n#nomv[\"transmission\"]=nomv[\"transmission\"].map({\"Manual\":1,\"Automatic\":1})\nsns.distplot(nomv[\"selling_price\"])\nq=nomv[\"selling_price\"].quantile(0.999)\ndta1=nomv[nomv[\"selling_price\"]<q]\n","b3c902da":"q2=dta1[\"present_price\"].quantile(0.99)\nq3=dta1[\"present_price\"].quantile(0.1)\ndta2=dta1[dta1[\"present_price\"]<q2]\ndta3=dta2[dta2[\"present_price\"]>q3]\nsns.distplot(dta3[\"present_price\"])","4f9f8065":"sns.distplot(df[\"kms_driven\"])","f3bf8a7c":"q4=dta3[\"kms_driven\"].quantile(0.99)\ndta4=dta3[dta3[\"kms_driven\"]<q4]\nsns.distplot(dta4[\"kms_driven\"])\n","8dba6389":"cleaned=dta4\nx=cleaned.drop([\"selling_price\",\"car_name\",\"year\"],axis=1)\ny=cleaned[\"selling_price\"]\nxdummies=pd.get_dummies(x,drop_first=True)\nxdummies[\"year\"]=cleaned[\"year\"]\ncleaned[\"selling_price\"]=np.log(cleaned[\"selling_price\"])\n","afc8a261":"fig,(ax1,ax2)=plt.subplots(nrows=1,ncols=2,figsize=(4,4))\nax1.scatter(cleaned[\"selling_price\"],cleaned[\"present_price\"],label=\"yo\")\nax1.legend()\nax2.scatter(cleaned[\"selling_price\"],cleaned[\"kms_driven\"])\nplt.show()","3c4425eb":"from sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split","059b1231":"scaler=StandardScaler().fit(xdummies)\nind=scaler.fit(xdummies).transform(xdummies)\nxtrain,xtest,ytrain,ytest=train_test_split(ind,y,test_size=0.2,shuffle=False,random_state=42)","af5776d8":"from sklearn.linear_model import LinearRegression\nfrom sklearn.feature_selection import f_regression","d6c5c32a":"reg=LinearRegression()\nmymodel=reg.fit(xtrain,ytrain)","a242d755":"coefficeints=mymodel.coef_\nintercept=mymodel.intercept_\nr_squared=mymodel.score(xtrain,ytrain)\np_values=f_regression(xtrain,ytrain)[1].round(3)\nadj_r2=1-(1-r_squared)*(173-1)\/172\nlst={\"coefficeints\":coefficeints,\"intercept\":intercept,\"r_squared\":r_squared,\"pvalues\":p_values}\nlst","f6a0767d":"pred=mymodel.predict(xtrain)\nplt.scatter(pred,ytrain)","40f9f67c":"pd.options.display.max_rows=900\nccc=pd.DataFrame({\"p\":pred,\"y\":ytrain,\"difference\":pred-ytrain})\nccc.describe(include=\"all\")","0ad6d22b":"tpred=mymodel.predict(xtest)\nplt.scatter(ytest,tpred)","d5a28c10":"features=nomv.drop([\"selling_price\",\"car_name\"],axis=1)\nnew_xdummies=pd.get_dummies(features,drop_first=True)\nnew_ind=scaler.fit(new_xdummies).transform(new_xdummies)\nnew_pred=mymodel.predict(new_ind)\nfinal_submit=pd.DataFrame(np.exp(new_pred),columns=[\"Predicted selling_price\"])\n","bffb9002":"final_submit","a48e0e4c":"final_submit.to_csv(\"Submission.csv\")","8b4e975f":"lst","11c41891":"1. Statistics of my model","76239bb3":"1. **Building linear regression**","aab934d8":"1. Removing OUTLIERS","15d0b178":"1. Homoscedasity","cf38e08a":"1. HERE IS MY MODEL,HERE YOU CAN PREDICT selling_price by mymodel.predict(ENTER YOUR VALUES HERE)","be9f1cd2":"1. Plotting (Testing selling_price vs predicted selling_price)","14b30517":"# Accuracy Scores and Statistics of my model","e5c92e4e":"1. plotting selling_price vs predicted"}}