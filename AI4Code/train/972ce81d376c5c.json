{"cell_type":{"e097c70e":"code","52f8250b":"code","0aa0518f":"code","218d0ed1":"code","5f2fe682":"code","7a9e4617":"code","0586db53":"code","0b4ba234":"code","d51af7eb":"code","e81582d2":"code","9fa05634":"code","e7da2984":"code","25a82ecd":"code","8317c501":"code","4e7c81dd":"code","e366b91f":"code","2207859d":"code","04284296":"code","e8afef8b":"code","a973db4b":"code","e4a95bad":"code","d5e96139":"code","04748af8":"code","2c0fc448":"code","ab06c41c":"code","ba045a18":"code","e33c3d47":"code","e89a8c8c":"code","c6f30b59":"code","b493b710":"code","1e34a234":"code","bd8b6c53":"code","ab87534d":"code","a377b0a4":"code","11d94706":"code","04e55c2e":"code","02c79c28":"code","10fc7fd3":"code","108118f1":"code","21fbd1e0":"code","5766fcd4":"code","5736c26d":"code","80255fb9":"code","a23298a7":"code","e552dc0c":"code","e7e964fa":"code","51a4c7bd":"markdown","9c57750c":"markdown","73347ad1":"markdown","7a262402":"markdown","e33bc4f2":"markdown","a0bb6834":"markdown","79c41fa4":"markdown","6aa596d2":"markdown","ea302e1c":"markdown","f2319496":"markdown","2c7f19e8":"markdown","1c787bfa":"markdown","34d18f9d":"markdown","637034c7":"markdown","e8541d7a":"markdown","080301b5":"markdown","2356f02b":"markdown","6c6f6962":"markdown","313df3a0":"markdown","d95bb853":"markdown","0f204d6a":"markdown","acf88e01":"markdown","a035e0a1":"markdown"},"source":{"e097c70e":"\n# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","52f8250b":"train = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","0aa0518f":"train.head()","218d0ed1":"train.isnull().sum().sort_values(ascending = False)","5f2fe682":"train.info()","7a9e4617":"train.Survived.value_counts()","0586db53":"train.Survived.value_counts(normalize = True).mul(100).round(2).astype(\"str\").add(\"%\")","0b4ba234":"def uni_plot(feature,x=6,y=5):\n\n    sns.set_style('darkgrid')\n    sns.set(font_scale=1.5)\n\n    f,ax = plt.subplots(figsize=(x,y))\n    f = train[feature].value_counts(normalize = True).mul(100).round(2).sort_index().plot(ax= ax,kind = \"bar\",color=\"skyblue\")\n    for p in ax.patches:\n        ax.annotate(p.get_height().astype(str) + \"%\",(p.get_x()+p.get_width()\/2,1 + p.get_height()),ha = \"center\" )\n    ax.set_ylim(0,100)\n    ax.set_xlabel(feature,fontsize=20)\n    ax.set_ylabel(\"Percentage\",fontsize=20)\n    ax.set_title(\"{} distribution\".format(feature),fontsize=20)\n    ax.set_xticklabels(sorted(train[feature].dropna().unique()),rotation= 360,fontsize=15)\n    plt.setp(f.get_yticklabels(),fontsize=15);\n    \n    return f","d51af7eb":"g = uni_plot(\"Survived\")\ng.set_xticklabels([\"Not Survived\",\"Survived\"])\ng.set_xlabel(\"Survival status\");","e81582d2":"train.Sex.value_counts(normalize=True).mul(100).round(2).astype(\"str\").add(\"%\")","9fa05634":"g = uni_plot(\"Sex\");","e7da2984":"def feat_survived(feature):\n    return train.pivot_table(\"Survived\",index = feature).mul(100).round(2).reset_index()","25a82ecd":"feat_survived(\"Sex\")","8317c501":"def surv_rate(feature,h=5,a=1):\n    import numpy as np\n\n    sns.set(style=\"whitegrid\", color_codes=True,font_scale = 1.5)\n    \n    pal = sns.color_palette(\"crest\", len(feat_survived(feature)))\n    rank = feat_survived(feature)[\"Survived\"].argsort().argsort()   \n    \n    g = sns.catplot(data=feat_survived(feature),x=feature, y=\"Survived\",kind = \"bar\",\n                    dodge=False,hue=feature,palette=np.array(pal[::1])[rank],height=h,aspect=a)\n\n    for p in g.ax.patches:\n        g.ax.annotate(p.get_height().astype(str) + \"%\",(p.get_x()+p.get_width()\/2,1 + p.get_height()),ha = \"center\" )\n    \n    \n    g.ax.set_ylim(0,100)\n    g.add_legend()\n    g.set_xlabels(feature,fontsize=20)\n    g.set_ylabels(\"Survival Percent\",fontsize=20)\n    plt.setp(g.ax.get_yticklabels(),fontsize=15)\n    g.ax.set_title(\"Survival rate by {}\".format(feature),fontsize=20)\n    g.add_legend\n    \n    return g","4e7c81dd":"feat_survived(\"Sex\")","e366b91f":"surv_rate(\"Sex\");","2207859d":"train.Pclass.value_counts(normalize=True)","04284296":"uni_plot(\"Pclass\");","e8afef8b":"train.pivot_table(\"Fare\",index=\"Pclass\",aggfunc=\"mean\")","a973db4b":"sns.catplot(data=train,x=\"Pclass\",y=\"Fare\");","e4a95bad":"train.pivot_table(\"Survived\",index=\"Pclass\")","d5e96139":"surv_rate(\"Pclass\");","04748af8":"train.pivot_table(\"Survived\",index=[\"Sex\",\"Pclass\"])","2c0fc448":"sns.catplot(data=train,x=\"Pclass\",y=\"Fare\",hue=\"Survived\",col=\"Sex\",);","ab06c41c":"train.Embarked.value_counts(normalize=True)","ba045a18":"uni_plot(\"Embarked\");","e33c3d47":"train.pivot_table(\"Survived\",index=\"Embarked\")","e89a8c8c":"surv_rate(\"Embarked\");","c6f30b59":"train[\"Age\"].isnull().sum()","b493b710":"train.Age.describe()","1e34a234":"sns.displot(train,x=\"Age\",kde=True,stat=\"probability\",alpha=0.8);","bd8b6c53":"sns.displot(train,x=\"Age\",kde=True,stat=\"probability\",col=\"Survived\",hue=\"Survived\");","ab87534d":"train_2= train.copy()","a377b0a4":"train_2[\"Age_bracket\"]=pd.cut(train.Age,bins=[0,10,20,30,40,50,60,70,80])","11d94706":"train_2.loc[:,[\"Age\",\"Age_bracket\"]].head()","04e55c2e":"train_2.head()","02c79c28":"g = sns.displot(data=train_2,x=\"Age\",hue=\"Age_bracket\",kind=\"kde\",multiple=\"stack\",\n            alpha=1,palette=\"crest\",height=6,aspect=2);\ng.add_legend();","10fc7fd3":"Age_Surv_df = train_2.pivot_table(\"Survived\",index=\"Age_bracket\").mul(100).round(2).sort_values(by=\"Survived\",\n                                                                            ascending=False).reset_index()","108118f1":"Age_Surv_df","21fbd1e0":"sns.set(style=\"whitegrid\",font_scale = 1.2)\n    \npal = sns.color_palette(\"crest\", len(Age_Surv_df[\"Survived\"]))\nrank = Age_Surv_df[\"Survived\"].argsort().argsort()   \n\ng = sns.catplot(data=Age_Surv_df,x=\"Age_bracket\", y=\"Survived\",kind = \"bar\",\n                height=8,aspect=1,hue =\"Age_bracket\",dodge=False,palette=np.array(pal[::1])[rank])\nfor p in g.ax.patches:\n    g.ax.annotate(p.get_height().astype(str) + \"%\",(p.get_x()+p.get_width()\/2,1 + p.get_height()),ha = \"center\" )\n\ng.ax.set_ylim(0,100)\ng.add_legend()\ng.set_xlabels(\"Age_bracket\",fontsize=20)\ng.set_ylabels(\"Survival Percent\",fontsize=20)\nplt.setp(g.ax.get_yticklabels(),fontsize=15)\ng.ax.set_title(\"Survival rate by {}\".format(\"Age_bracket\"),fontsize=20);","5766fcd4":"train.SibSp.value_counts(normalize=True)","5736c26d":"uni_plot(\"SibSp\",9);","80255fb9":"g=surv_rate(\"SibSp\",6.5,1)","a23298a7":"train.Parch.value_counts(normalize=True)","e552dc0c":"uni_plot(\"Parch\",9);","e7e964fa":"surv_rate(\"Parch\",7);","51a4c7bd":"### Most of the passengers i.e., approximately 64.76% were males and 35.24% were females. \n### Let's see how the gender affected the survival:","9c57750c":"### Approximately 97% of the females from passenger class 1 survived. Females from passenger class 1 and 2 were most likely to survive.","73347ad1":"### Let's have a look at the Parch column:","7a262402":"### Now, let's explore the Pclass column: ","e33bc4f2":"### Most of the passengers i.e., approximately 55.11% were in the Pclass \"3\". This might be because the Pclass \"3\" had the cheapest fare. Let's have a look at the fare for these classes.","a0bb6834":"### Cherbourg port had the highest survival rate but it seems here that the port of embarkation does not significantly affect the survival of a passenger.","79c41fa4":"### Passengers having 1 sibling were most likely to survive. Survival rate is inversely proportional to the number of siblings expect for the case of no siblings. We can say that more the number of siblings, lesser the chances of survival.","6aa596d2":"### Passengers with less number of parents or children were more likely to survive. (Except for the passengers who were alone).","ea302e1c":"### Children aged 0-10 were most likely to be saved and older people aged 60-80 were the least likely to survive.","f2319496":"### Exploring Survived column:","2c7f19e8":"### Most of the passengers embarked the ship from Southampton followed by Cherbourg and Queenstown.","1c787bfa":"### Most (approximately 76.09%) of the passengers were without parents or children on the ship.","34d18f9d":"### Approximately 61.62% of the passengers did not survive. Approximately only 38.38% of the passengers were lucky enough to survive.\n\n### Let's have a look at Sex column:","637034c7":"### Now, let's explore the Age column:","e8541d7a":"### Most of the passengers were 20-30 years old","080301b5":"### Let's have a look at the Embarked column now:","2356f02b":"### Here, we can observe that 74.2% of the females survived but only 18.89% of the males survived. \n### That means that approximately 3 of every 4 females survived but only 1 of every 5 males survived. \n### It's really interesting to see higher survival rate in females because despite having more males than females on the ship, females were saved more. ","6c6f6962":"### The average fare for 3rd passenger class was the lowest whereas the 1st passenger class had the highest fare. That's why we observed that most of the people travelled in 3rd passenger class because of it's cheaper tickets.","313df3a0":"### Hi all! Here we will be performing an extensive exploratory data analysis on the Titanic data. I will keep on updating this notebook in future, till then enjoy the code!","d95bb853":"### Younger passengers were more likely to survive.","0f204d6a":"### Most of the passengers were not having any siblings. ","acf88e01":"### Let's explore the SibSp column:","a035e0a1":"### The survival rate was highest in passenger class 1 having a survival rate of approximately 62.96% followed by passenger class 2 and 3. "}}