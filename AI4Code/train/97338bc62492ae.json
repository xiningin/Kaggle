{"cell_type":{"00a2f823":"code","56f59089":"code","76ae15f9":"code","91ef64b4":"code","f79b15f2":"code","c5f176a8":"code","cd7bd994":"code","9220fd5c":"markdown","02ca0656":"markdown","140cee42":"markdown","747d3113":"markdown","36bc49ef":"markdown","9bdc4cec":"markdown","b7fdca95":"markdown","296dc850":"markdown","8bf9595b":"markdown","b0b334f2":"markdown"},"source":{"00a2f823":"!pip install ipywidgets\n!pip install keplergl\n!jupyter nbextension install --py --sys-prefix keplergl\n!jupyter nbextension enable keplergl --py --sys-prefix","56f59089":"import pandas as pd\nfrom keplergl import KeplerGl","76ae15f9":"data_path = \"\/kaggle\/input\/covid-19-italy-updated-regularly\/\"\nprov_df = pd.read_csv(f\"{data_path}\/provincial_data.csv\")\nprov_df.rename(columns={\"lat\":\"Latitude\",'long':\"Longitude\"}, inplace=True)\nprov_df.head()","91ef64b4":"config = {'version': 'v1',\n 'config': {'visState': {'filters': [{'dataId': 'provincial',\n     'id': 'vt87bok5w',\n     'name': 'date',\n     'type': 'timeRange',\n     'value': [1582567200000, 1584921902000],\n     'enlarged': True,\n     'plotType': 'lineChart',\n     'yAxis': {'name': 'total_positive_cases', 'type': 'integer'}}],\n   'layers': [{'id': 'yxwp6y',\n     'type': 'hexagon',\n     'config': {'dataId': 'provincial',\n      'label': 'Hexbin',\n      'color': [18, 147, 154],\n      'columns': {'lat': 'Latitude', 'lng': 'Longitude'},\n      'isVisible': True,\n      'visConfig': {'opacity': 0.69,\n       'worldUnitSize': 6.1546,\n       'resolution': 8,\n       'colorRange': {'name': 'Sunrise 8',\n        'type': 'sequential',\n        'category': 'Uber',\n        'colors': ['#194266',\n         '#355C7D',\n         '#63617F',\n         '#916681',\n         '#C06C84',\n         '#D28389',\n         '#E59A8F',\n         '#F8B195'],\n        'reversed': False},\n       'coverage': 0.8,\n       'sizeRange': [0, 541],\n       'percentile': [0, 100],\n       'elevationPercentile': [0, 100],\n       'elevationScale': 16.7,\n       'colorAggregation': 'average',\n       'sizeAggregation': 'average',\n       'enable3d': True},\n      'textLabel': [{'field': None,\n        'color': [255, 255, 255],\n        'size': 18,\n        'offset': [0, 0],\n        'anchor': 'start',\n        'alignment': 'center'}]},\n     'visualChannels': {'colorField': {'name': 'total_positive_cases',\n       'type': 'integer'},\n      'colorScale': 'quantile',\n      'sizeField': {'name': 'total_positive_cases', 'type': 'integer'},\n      'sizeScale': 'linear'}}],\n   'interactionConfig': {'tooltip': {'fieldsToShow': {'provincial': ['date',\n       'state',\n       'region_code',\n       'region_denomination',\n       'province_code']},\n     'enabled': True},\n    'brush': {'size': 0.4, 'enabled': False}},\n   'layerBlending': 'additive',\n   'splitMaps': [],\n   'animationConfig': {'currentTime': None, 'speed': 1}},\n  'mapState': {'bearing': 24,\n   'dragRotate': True,\n   'latitude': 42.43901323512049,\n   'longitude': 11.072761885864756,\n   'pitch': 50,\n   'zoom': 4.9559534769326,\n   'isSplit': False},\n  'mapStyle': {'styleType': 'dark',\n   'topLayerGroups': {},\n   'visibleLayerGroups': {'label': True,\n    'road': False,\n    'border': False,\n    'building': False,\n    'water': True,\n    'land': True,\n    '3d building': False},\n   'threeDBuildingColor': [9.665468314072013,\n    17.18305478057247,\n    31.1442867897876],\n   'mapStyles': {}}}}","f79b15f2":"# Load an empty map\nfrom keplergl import KeplerGl\nmap_1 = KeplerGl()\nmap_1.add_data(data=prov_df, name='provincial')\nmap_1.config = config","c5f176a8":"map_1","cd7bd994":"map_1.save_to_html(file_name=\"my_keplergl_map.html\")\n","9220fd5c":"![Screenshot%20from%202020-03-24%2011-13-20.png](attachment:Screenshot%20from%202020-03-24%2011-13-20.png)","02ca0656":"### Configuration","140cee42":"## Save as HTML\nYou can save the map as HTML and explore data on a bigger screen.","747d3113":"Install kepler packages and enable it for jupyter","36bc49ef":"## Data","9bdc4cec":"## Setup Map","b7fdca95":"<div class=\"alert alert-block alert-success\">\nThanks for checking out the interactive map! Consider an <b>upvote!<\/b> if it helps :) \n<\/div>","296dc850":"## The map!","8bf9595b":"Import KeplerGL","b0b334f2":"<div style=\"text-align: center\"><h2><font color=\"sky_blue\">Vizualizing COVID 19 with KeplerGL<\/font><\/h3><\/div>"}}